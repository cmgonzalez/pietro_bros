1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _enemy_coin2
181   0000              	GLOBAL _enemy_coin1
182   0000              	GLOBAL _enemy_collition
183   0000              	GLOBAL _enemy_collition_check
184   0000              	GLOBAL _enemy_hit
185   0000              	GLOBAL _enemy_flip_change_dir
186   0000              	GLOBAL _enemy_flip
187   0000              	GLOBAL _enemy_flip_sidestepper
188   0000              	GLOBAL _enemy_turn
189   0000              	GLOBAL _enemy_standard
190   0000              	GLOBAL _enemy_slipice
191   0000              	GLOBAL _enemy_fireball_red
192   0000              	GLOBAL _enemy_fireball_green
193   0000              	GLOBAL _enemy_fighterfly
194   0000              	GLOBAL _enemy_trip
195   0000              	GLOBAL _enemy_standard_hit
196   0000              	GLOBAL _enemy_evolve
197   0000              	GLOBAL _enemy_upgrade
198   0000              	GLOBAL _enemy_walk
199   0000              	GLOBAL _enemy_init
200   0000              	GLOBAL _enemy_kill
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _zx_pattern_fill_callee
246   0000              	GLOBAL _zx_pattern_fill
247   0000              	GLOBAL _zx_saddrpup_fastcall
248   0000              	GLOBAL _zx_saddrpup
249   0000              	GLOBAL _zx_saddrpright_callee
250   0000              	GLOBAL _zx_saddrpright
251   0000              	GLOBAL _zx_saddrpleft_callee
252   0000              	GLOBAL _zx_saddrpleft
253   0000              	GLOBAL _zx_saddrpdown_fastcall
254   0000              	GLOBAL _zx_saddrpdown
255   0000              	GLOBAL _zx_saddrcup_fastcall
256   0000              	GLOBAL _zx_saddrcup
257   0000              	GLOBAL _zx_saddrcright_fastcall
258   0000              	GLOBAL _zx_saddrcright
259   0000              	GLOBAL _zx_saddrcleft_fastcall
260   0000              	GLOBAL _zx_saddrcleft
261   0000              	GLOBAL _zx_saddrcdown_fastcall
262   0000              	GLOBAL _zx_saddrcdown
263   0000              	GLOBAL _zx_saddr2py_fastcall
264   0000              	GLOBAL _zx_saddr2py
265   0000              	GLOBAL _zx_saddr2px_fastcall
266   0000              	GLOBAL _zx_saddr2px
267   0000              	GLOBAL _zx_saddr2cy_fastcall
268   0000              	GLOBAL _zx_saddr2cy
269   0000              	GLOBAL _zx_saddr2cx_fastcall
270   0000              	GLOBAL _zx_saddr2cx
271   0000              	GLOBAL _zx_saddr2aaddr_fastcall
272   0000              	GLOBAL _zx_saddr2aaddr
273   0000              	GLOBAL _zx_py2saddr_fastcall
274   0000              	GLOBAL _zx_py2saddr
275   0000              	GLOBAL _zx_py2aaddr_fastcall
276   0000              	GLOBAL _zx_py2aaddr
277   0000              	GLOBAL _zx_pxy2saddr_callee
278   0000              	GLOBAL _zx_pxy2saddr
279   0000              	GLOBAL _zx_pxy2aaddr_callee
280   0000              	GLOBAL _zx_pxy2aaddr
281   0000              	GLOBAL _zx_px2bitmask_fastcall
282   0000              	GLOBAL _zx_px2bitmask
283   0000              	GLOBAL _zx_cyx2saddr_callee
284   0000              	GLOBAL _zx_cyx2saddr
285   0000              	GLOBAL _zx_cyx2aaddr_callee
286   0000              	GLOBAL _zx_cyx2aaddr
287   0000              	GLOBAL _zx_cy2saddr_fastcall
288   0000              	GLOBAL _zx_cy2saddr
289   0000              	GLOBAL _zx_cy2aaddr_fastcall
290   0000              	GLOBAL _zx_cy2aaddr
291   0000              	GLOBAL _zx_bitmask2px_fastcall
292   0000              	GLOBAL _zx_bitmask2px
293   0000              	GLOBAL _zx_aaddrcup_fastcall
294   0000              	GLOBAL _zx_aaddrcup
295   0000              	GLOBAL _zx_aaddrcright_fastcall
296   0000              	GLOBAL _zx_aaddrcright
297   0000              	GLOBAL _zx_aaddrcleft_fastcall
298   0000              	GLOBAL _zx_aaddrcleft
299   0000              	GLOBAL _zx_aaddrcdown_fastcall
300   0000              	GLOBAL _zx_aaddrcdown
301   0000              	GLOBAL _zx_aaddr2saddr_fastcall
302   0000              	GLOBAL _zx_aaddr2saddr
303   0000              	GLOBAL _zx_aaddr2py_fastcall
304   0000              	GLOBAL _zx_aaddr2py
305   0000              	GLOBAL _zx_aaddr2px_fastcall
306   0000              	GLOBAL _zx_aaddr2px
307   0000              	GLOBAL _zx_aaddr2cy_fastcall
308   0000              	GLOBAL _zx_aaddr2cy
309   0000              	GLOBAL _zx_aaddr2cx_fastcall
310   0000              	GLOBAL _zx_aaddr2cx
311   0000              	GLOBAL _zx_scroll_wc_up_callee
312   0000              	GLOBAL _zx_scroll_wc_up
313   0000              	GLOBAL _zx_scroll_up_callee
314   0000              	GLOBAL _zx_scroll_up
315   0000              	GLOBAL _zx_cls_wc_callee
316   0000              	GLOBAL _zx_cls_wc
317   0000              	GLOBAL _zx_cls_fastcall
318   0000              	GLOBAL _zx_cls
319   0000              	GLOBAL _zx_border_fastcall
320   0000              	GLOBAL _zx_border
321   0000              	GLOBAL _sound_hit_pow
322   0000              	GLOBAL _sound_hit_brick
323   0000              	GLOBAL _sound_hit_enemy
324   0000              	GLOBAL _sound_kill
325   0000              	GLOBAL _sound_enter_enemy
326   0000              	GLOBAL _sound_coin
327   0000              	GLOBAL _sound_jump
328   0000              	GLOBAL _sound_slide
329   0000              	GLOBAL _spr_draw_clear
330   0000              	GLOBAL _spr_water_splash_draw
331   0000              	GLOBAL _spr_water_splash_clear
332   0000              	GLOBAL _spr_draw_back
333   0000              	GLOBAL _spr_cortina_pipes
334   0000              	GLOBAL _spr_cortina_brick
335   0000              	GLOBAL _spr_brick_anim
336   0000              	GLOBAL _spr_back_fix4
337   0000              	GLOBAL _spr_back_fix3
338   0000              	GLOBAL _spr_back_fix2
339   0000              	GLOBAL _spr_back_fix1
340   0000              	GLOBAL _spr_back_fix
341   0000              	GLOBAL _spr_back_clr
342   0000              	GLOBAL _spr_draw_pow
343   0000              	GLOBAL _spr_tile
344   0000              	GLOBAL _spr_set_fall
345   0000              	GLOBAL _spr_destroy
346   0000              	GLOBAL _spr_check_over
347   0000              	GLOBAL _spr_tile_dir
348   0000              	GLOBAL _spr_collition_check
349   0000              	GLOBAL _spr_anim_kill
350   0000              	GLOBAL _spr_anim_fall
351   0000              	GLOBAL _spr_killed
352   0000              	GLOBAL _spr_redraw
353   0000              	GLOBAL _spr_move_left
354   0000              	GLOBAL _spr_move_right
355   0000              	GLOBAL _spr_move_horizontal
356   0000              	GLOBAL _spr_move_down
357   0000              	GLOBAL _spr_move_up
358   0000              	GLOBAL _spr_chktime
359   0000              	GLOBAL _player_move_horizontal
360   0000              	GLOBAL _player_push_check
361   0000              	GLOBAL _player_push
362   0000              	GLOBAL _player_hit_brick_clear
363   0000              	GLOBAL _player_lost_life
364   0000              	GLOBAL _player_score_add
365   0000              	GLOBAL _player_coin
366   0000              	GLOBAL _player_hit_pow
367   0000              	GLOBAL _player_hit_brick
368   0000              	GLOBAL _player_hit_slipice
369   0000              	GLOBAL _player_move_input
370   0000              	GLOBAL _player_turn
371   0000              	GLOBAL _player_move
372   0000              	GLOBAL _player_restart
373   0000              	GLOBAL _player_kill
374   0000              	GLOBAL _player_collition_check
375   0000              	GLOBAL _player_collition
376   0000              	GLOBAL _player_init
377   0000              	GLOBAL _game_hall_print_p
378   0000              	GLOBAL _game_hall_edit_p
379   0000              	GLOBAL _game_hall_check
380   0000              	GLOBAL _game_hall_enter_phs
381   0000              	GLOBAL _game_print_header
382   0000              	GLOBAL _game_end
383   0000              	GLOBAL _game_hall_enter
384   0000              	GLOBAL _game_hall_of_fame
385   0000              	GLOBAL _game_score_osd
386   0000              	GLOBAL _game_phase_print_score_back
387   0000              	GLOBAL _game_bonus_clock
388   0000              	GLOBAL _game_bonus_summary_player
389   0000              	GLOBAL _game_bonus_summary
390   0000              	GLOBAL _game_check_time
391   0000              	GLOBAL _game_menu_config
392   0000              	GLOBAL _game_menu
393   0000              	GLOBAL _game_rotate_attrib
394   0000              	GLOBAL _game_colour_message
395   0000              	GLOBAL _game_paint_attrib_lin_h
396   0000              	GLOBAL _game_paint_attrib_lin
397   0000              	GLOBAL _game_paint_attrib
398   0000              	GLOBAL _game_menu_handle
399   0000              	GLOBAL _game_menu_e
400   0000              	GLOBAL _game_menu_back
401   0000              	GLOBAL _game_print_score
402   0000              	GLOBAL _game_unfreeze_all
403   0000              	GLOBAL _game_freeze_all
404   0000              	GLOBAL _game_freeze
405   0000              	GLOBAL _game_enemy_add_get_index
406   0000              	GLOBAL _game_enemy_add1
407   0000              	GLOBAL _game_enemy_quota
408   0000              	GLOBAL _game_enemy_rnd
409   0000              	GLOBAL _game_enemy_add
410   0000              	GLOBAL _game_check_maze
411   0000              	GLOBAL _game_kill_all_sprites
412   0000              	GLOBAL _game_loop
413   0000              	GLOBAL _player_set2
414   0000              	GLOBAL _player_set1
415   0000              	GLOBAL _game_phase_print
416   0000              	GLOBAL _game_phase_init
417   0000              	GLOBAL _game_phase_calc
418   0000              	GLOBAL _game_start_timer
419   0000              	GLOBAL _game_tick
420   0000              	GLOBAL _game_print_lives
421   0000              	GLOBAL _game_print_footer
422   0000              	GLOBAL _game_calc_index
423   0000              	GLOBAL _game_fill_row
424   0000              	GLOBAL _ay_fx_play
425   0000              	GLOBAL _ay_midi_play
426   0000              	GLOBAL _ay_is_playing
427   0000              	GLOBAL _ay_reset
428   0000              	GLOBAL _in_mouse_kempston_wheel_delta
429   0000              	GLOBAL _in_mouse_kempston_wheel
430   0000              	GLOBAL _in_mouse_kempston_callee
431   0000              	GLOBAL _in_mouse_kempston
432   0000              	GLOBAL _in_mouse_kempston_setpos_callee
433   0000              	GLOBAL _in_mouse_kempston_setpos
434   0000              	GLOBAL _in_mouse_kempston_reset
435   0000              	GLOBAL _in_mouse_kempston_init
436   0000              	GLOBAL _in_mouse_amx_wheel_delta
437   0000              	GLOBAL _in_mouse_amx_wheel
438   0000              	GLOBAL _in_mouse_amx_callee
439   0000              	GLOBAL _in_mouse_amx
440   0000              	GLOBAL _in_mouse_amx_setpos_callee
441   0000              	GLOBAL _in_mouse_amx_setpos
442   0000              	GLOBAL _in_mouse_amx_reset
443   0000              	GLOBAL _in_mouse_amx_init_callee
444   0000              	GLOBAL _in_mouse_amx_init
445   0000              	GLOBAL _in_stick_sinclair2
446   0000              	GLOBAL _in_stick_sinclair1
447   0000              	GLOBAL _in_stick_kempston
448   0000              	GLOBAL _in_stick_fuller
449   0000              	GLOBAL _in_stick_cursor
450   0000              	GLOBAL _in_stick_keyboard_fastcall
451   0000              	GLOBAL _in_stick_keyboard
452   0000              	GLOBAL _in_wait_nokey
453   0000              	GLOBAL _in_wait_key
454   0000              	GLOBAL _in_test_key
455   0000              	GLOBAL _in_pause_fastcall
456   0000              	GLOBAL _in_pause
457   0000              	GLOBAL _in_key_scancode_fastcall
458   0000              	GLOBAL _in_key_scancode
459   0000              	GLOBAL _in_key_pressed_fastcall
460   0000              	GLOBAL _in_key_pressed
461   0000              	GLOBAL _in_inkey
462   0000              	GLOBAL _NIRVANAP_chars_fastcall
463   0000              	GLOBAL _NIRVANAP_chars
464   0000              	GLOBAL _NIRVANAP_wides_fastcall
465   0000              	GLOBAL _NIRVANAP_wides
466   0000              	GLOBAL _NIRVANAP_tiles_fastcall
467   0000              	GLOBAL _NIRVANAP_tiles
468   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
469   0000              	GLOBAL _NIRVANAP_drawW_raw
470   0000              	GLOBAL _NIRVANAP_drawW_callee
471   0000              	GLOBAL _NIRVANAP_drawW
472   0000              	GLOBAL _NIRVANAP_spriteT_callee
473   0000              	GLOBAL _NIRVANAP_spriteT
474   0000              	GLOBAL _NIRVANAP_fillC_callee
475   0000              	GLOBAL _NIRVANAP_fillC
476   0000              	GLOBAL _NIRVANAP_paintC_callee
477   0000              	GLOBAL _NIRVANAP_paintC
478   0000              	GLOBAL _NIRVANAP_printC_callee
479   0000              	GLOBAL _NIRVANAP_printC
480   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
481   0000              	GLOBAL _NIRVANAP_fillT_raw
482   0000              	GLOBAL _NIRVANAP_fillT_callee
483   0000              	GLOBAL _NIRVANAP_fillT
484   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
485   0000              	GLOBAL _NIRVANAP_drawT_raw
486   0000              	GLOBAL _NIRVANAP_drawT_callee
487   0000              	GLOBAL _NIRVANAP_drawT
488   0000              	GLOBAL _NIRVANAP_stop
489   0000              	GLOBAL _NIRVANAP_start
490   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
491   0000              	GLOBAL _intrinsic_swap_word_32
492   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
493   0000              	GLOBAL _intrinsic_swap_endian_32
494   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
495   0000              	GLOBAL _intrinsic_swap_endian_16
496   0000              	GLOBAL _intrinsic_return_de
497   0000              	GLOBAL _intrinsic_return_bc
498   0000              	GLOBAL _intrinsic_exx
499   0000              	GLOBAL _intrinsic_ex_de_hl
500   0000              	GLOBAL _intrinsic_pop_iy
501   0000              	GLOBAL _intrinsic_pop_ix
502   0000              	GLOBAL _intrinsic_pop_hl
503   0000              	GLOBAL _intrinsic_pop_de
504   0000              	GLOBAL _intrinsic_pop_bc
505   0000              	GLOBAL _intrinsic_pop_af
506   0000              	GLOBAL _intrinsic_push_iy
507   0000              	GLOBAL _intrinsic_push_ix
508   0000              	GLOBAL _intrinsic_push_hl
509   0000              	GLOBAL _intrinsic_push_de
510   0000              	GLOBAL _intrinsic_push_bc
511   0000              	GLOBAL _intrinsic_push_af
512   0000              	GLOBAL _intrinsic_nop
513   0000              	GLOBAL _intrinsic_im_2
514   0000              	GLOBAL _intrinsic_im_1
515   0000              	GLOBAL _intrinsic_im_0
516   0000              	GLOBAL _intrinsic_retn
517   0000              	GLOBAL _intrinsic_reti
518   0000              	GLOBAL _intrinsic_halt
519   0000              	GLOBAL _intrinsic_ei
520   0000              	GLOBAL _intrinsic_di
521   0000              	GLOBAL _intrinsic_stub
522   0000              	GLOBAL _ulltoa_callee
523   0000              	GLOBAL _ulltoa
524   0000              	GLOBAL _strtoull_callee
525   0000              	GLOBAL _strtoull
526   0000              	GLOBAL _strtoll_callee
527   0000              	GLOBAL _strtoll
528   0000              	GLOBAL _lltoa_callee
529   0000              	GLOBAL _lltoa
530   0000              	GLOBAL _llabs_callee
531   0000              	GLOBAL _llabs
532   0000              	GLOBAL __lldivu__callee
533   0000              	GLOBAL __lldivu_
534   0000              	GLOBAL __lldiv__callee
535   0000              	GLOBAL __lldiv_
536   0000              	GLOBAL _atoll_callee
537   0000              	GLOBAL _atoll
538   0000              	GLOBAL _realloc_unlocked_callee
539   0000              	GLOBAL _realloc_unlocked
540   0000              	GLOBAL _malloc_unlocked_fastcall
541   0000              	GLOBAL _malloc_unlocked
542   0000              	GLOBAL _free_unlocked_fastcall
543   0000              	GLOBAL _free_unlocked
544   0000              	GLOBAL _calloc_unlocked_callee
545   0000              	GLOBAL _calloc_unlocked
546   0000              	GLOBAL _aligned_alloc_unlocked_callee
547   0000              	GLOBAL _aligned_alloc_unlocked
548   0000              	GLOBAL _realloc_callee
549   0000              	GLOBAL _realloc
550   0000              	GLOBAL _malloc_fastcall
551   0000              	GLOBAL _malloc
552   0000              	GLOBAL _free_fastcall
553   0000              	GLOBAL _free
554   0000              	GLOBAL _calloc_callee
555   0000              	GLOBAL _calloc
556   0000              	GLOBAL _aligned_alloc_callee
557   0000              	GLOBAL _aligned_alloc
558   0000              	GLOBAL _utoa_callee
559   0000              	GLOBAL _utoa
560   0000              	GLOBAL _ultoa_callee
561   0000              	GLOBAL _ultoa
562   0000              	GLOBAL _system_fastcall
563   0000              	GLOBAL _system
564   0000              	GLOBAL _strtoul_callee
565   0000              	GLOBAL _strtoul
566   0000              	GLOBAL _strtol_callee
567   0000              	GLOBAL _strtol
568   0000              	GLOBAL _strtof_callee
569   0000              	GLOBAL _strtof
570   0000              	GLOBAL _strtod_callee
571   0000              	GLOBAL _strtod
572   0000              	GLOBAL _srand_fastcall
573   0000              	GLOBAL _srand
574   0000              	GLOBAL _rand
575   0000              	GLOBAL _quick_exit_fastcall
576   0000              	GLOBAL _quick_exit
577   0000              	GLOBAL _qsort_callee
578   0000              	GLOBAL _qsort
579   0000              	GLOBAL _ltoa_callee
580   0000              	GLOBAL _ltoa
581   0000              	GLOBAL _labs_fastcall
582   0000              	GLOBAL _labs
583   0000              	GLOBAL _itoa_callee
584   0000              	GLOBAL _itoa
585   0000              	GLOBAL _ftoh_callee
586   0000              	GLOBAL _ftoh
587   0000              	GLOBAL _ftog_callee
588   0000              	GLOBAL _ftog
589   0000              	GLOBAL _ftoe_callee
590   0000              	GLOBAL _ftoe
591   0000              	GLOBAL _ftoa_callee
592   0000              	GLOBAL _ftoa
593   0000              	GLOBAL _exit_fastcall
594   0000              	GLOBAL _exit
595   0000              	GLOBAL _dtoh_callee
596   0000              	GLOBAL _dtoh
597   0000              	GLOBAL _dtog_callee
598   0000              	GLOBAL _dtog
599   0000              	GLOBAL _dtoe_callee
600   0000              	GLOBAL _dtoe
601   0000              	GLOBAL _dtoa_callee
602   0000              	GLOBAL _dtoa
603   0000              	GLOBAL _bsearch_callee
604   0000              	GLOBAL _bsearch
605   0000              	GLOBAL _atol_fastcall
606   0000              	GLOBAL _atol
607   0000              	GLOBAL _atoi_fastcall
608   0000              	GLOBAL _atoi
609   0000              	GLOBAL _atof_fastcall
610   0000              	GLOBAL _atof
611   0000              	GLOBAL _atexit_fastcall
612   0000              	GLOBAL _atexit
613   0000              	GLOBAL _at_quick_exit_fastcall
614   0000              	GLOBAL _at_quick_exit
615   0000              	GLOBAL _abs_fastcall
616   0000              	GLOBAL _abs
617   0000              	GLOBAL _abort
618   0000              	GLOBAL __strtou__callee
619   0000              	GLOBAL __strtou_
620   0000              	GLOBAL __strtoi__callee
621   0000              	GLOBAL __strtoi_
622   0000              	GLOBAL __random_uniform_xor_8__fastcall
623   0000              	GLOBAL __random_uniform_xor_8_
624   0000              	GLOBAL __random_uniform_xor_32__fastcall
625   0000              	GLOBAL __random_uniform_xor_32_
626   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
627   0000              	GLOBAL __random_uniform_cmwc_8_
628   0000              	GLOBAL __shellsort__callee
629   0000              	GLOBAL __shellsort_
630   0000              	GLOBAL __quicksort__callee
631   0000              	GLOBAL __quicksort_
632   0000              	GLOBAL __insertion_sort__callee
633   0000              	GLOBAL __insertion_sort_
634   0000              	GLOBAL __ldivu__callee
635   0000              	GLOBAL __ldivu_
636   0000              	GLOBAL __ldiv__callee
637   0000              	GLOBAL __ldiv_
638   0000              	GLOBAL __divu__callee
639   0000              	GLOBAL __divu_
640   0000              	GLOBAL __div__callee
641   0000              	GLOBAL __div_
642   0000              	GLOBAL _ay_effect_20
643   0000              	GLOBAL _ay_effect_19
644   0000              	GLOBAL _ay_effect_18
645   0000              	GLOBAL _ay_effect_17
646   0000              	GLOBAL _ay_effect_16
647   0000              	GLOBAL _ay_effect_15
648   0000              	GLOBAL _ay_effect_14
649   0000              	GLOBAL _ay_effect_13
650   0000              	GLOBAL _ay_effect_12
651   0000              	GLOBAL _ay_effect_11
652   0000              	GLOBAL _ay_effect_10
653   0000              	GLOBAL _ay_effect_09
654   0000              	GLOBAL _ay_effect_08
655   0000              	GLOBAL _ay_effect_07
656   0000              	GLOBAL _ay_effect_06
657   0000              	GLOBAL _ay_effect_05
658   0000              	GLOBAL _ay_effect_04
659   0000              	GLOBAL _ay_effect_03
660   0000              	GLOBAL _ay_effect_02
661   0000              	GLOBAL _ay_effect_01
662   0000              	GLOBAL _pb_midi_phase_1
663   0000              	GLOBAL _pb_midi_title
664   0000              	GLOBAL _initials
665   0000              	GLOBAL _hof
666   0000              	GLOBAL _score_osd_tile
667   0000              	GLOBAL _score_osd_time
668   0000              	GLOBAL _score_osd_col
669   0000              	GLOBAL _score_osd_lin
670   0000              	GLOBAL _phase_bonus_total
671   0000              	GLOBAL _phase_angry
672   0000              	GLOBAL _phase_curr
673   0000              	GLOBAL _phase_end
674   0000              	GLOBAL _phase_coins
675   0000              	GLOBAL _phase_pop
676   0000              	GLOBAL _phase_tot
677   0000              	GLOBAL _phase_left
678   0000              	GLOBAL _phase_quota
679   0000              	GLOBAL _phases
680   0000              	GLOBAL _spr_idx
681   0000              	GLOBAL _lvl_1
682   0000              	GLOBAL _sprite_speed_alt
683   0000              	GLOBAL _sprite_speed
684   0000              	GLOBAL _screen_ink
685   0000              	GLOBAL _screen_paper
686   0000              	GLOBAL _game_menu_sel
687   0000              	GLOBAL _game_type
688   0000              	GLOBAL _game_bonus
689   0000              	GLOBAL _spr_water_time
690   0000              	GLOBAL _spr_water_clear
691   0000              	GLOBAL _game_time_fireball_start
692   0000              	GLOBAL _game_time_flipped
693   0000              	GLOBAL _game_score_top
694   0000              	GLOBAL _game_lives_update
695   0000              	GLOBAL _game_lives
696   0000              	GLOBAL _game_over
697   0000              	GLOBAL _game_sound
698   0000              	GLOBAL _game_two_player
699   0000              	GLOBAL _game_brick_tile
700   0000              	GLOBAL _game_pow
701   0000              	GLOBAL _spr_count
702   0000              	GLOBAL _frame_loop_count
703   0000              	GLOBAL _col_time
704   0000              	GLOBAL _frame_time
705   0000              	GLOBAL _entry_time
706   0000              	GLOBAL _curr_time
707   0000              	GLOBAL _s_state
708   0000              	GLOBAL _attrib_hl
709   0000              	GLOBAL _attrib
710   0000              	GLOBAL _zx_val_asm
711   0000              	GLOBAL _enemies
712   0000              	GLOBAL _tmp_ui
713   0000              	GLOBAL _tmp_sc
714   0000              	GLOBAL _tmp_uc
715   0000              	GLOBAL _tmp1
716   0000              	GLOBAL _tmp0
717   0000              	GLOBAL _tmp
718   0000              	GLOBAL _index_d
719   0000              	GLOBAL _index3
720   0000              	GLOBAL _index2
721   0000              	GLOBAL _index1
722   0000              	GLOBAL _loop_count
723   0000              	GLOBAL _s_col1
724   0000              	GLOBAL _s_col0
725   0000              	GLOBAL _s_lin1
726   0000              	GLOBAL _s_lin0
727   0000              	GLOBAL _s_tile1
728   0000              	GLOBAL _s_tile0
729   0000              	GLOBAL _hit_count
730   0000              	GLOBAL _tile_offset_other_player
731   0000              	GLOBAL _tile_offset
732   0000              	GLOBAL _index_player
733   0000              	GLOBAL _sprite_other_player
734   0000              	GLOBAL _sprite
735   0000              	GLOBAL _player_lock
736   0000              	GLOBAL _player_next_extra
737   0000              	GLOBAL _player_score
738   0000              	GLOBAL _last_time
739   0000              	GLOBAL _sliding
740   0000              	GLOBAL _spr_timer_c
741   0000              	GLOBAL _spr_timer
742   0000              	GLOBAL _jump_lin
743   0000              	GLOBAL _hit_col
744   0000              	GLOBAL _hit_lin
745   0000              	GLOBAL _colint
746   0000              	GLOBAL _col
747   0000              	GLOBAL _lin
748   0000              	GLOBAL _tile
749   0000              	GLOBAL _state_a
750   0000              	GLOBAL _state
751   0000              	GLOBAL _class
752   0000              	GLOBAL _tbuffer
753   0000              	GLOBAL _dirs
754   0000              	GLOBAL _k2
755   0000              	GLOBAL _k1
756   0000              	GLOBAL _joyfunc2
757   0000              	GLOBAL _joyfunc1
758   0000              	GLOBAL _joynames
759   0000              	GLOBAL _btiles
760   0000              	GLOBAL _spec128
761   0000              	GLOBAL _hall_valids
762   0000              ;--------------------------------------------------------
763   0000              ; special function registers
764   0000              ;--------------------------------------------------------
765   0000              ;--------------------------------------------------------
766   0000              ; ram data
767   0000              ;--------------------------------------------------------
768   0000              	SECTION bss_compiler
769   0000              defc _NIRVANAP_isr	=	0xf5d2
770   0000              ;--------------------------------------------------------
771   0000              ; ram data
772   0000              ;--------------------------------------------------------
773   0000              
774   0000              IF 0
775   0000              
776   0000              ; .area _INITIALIZED removed by z88dk
777   0000              
778   0000              
779   0000              ENDIF
780   0000              
781   0000              ;--------------------------------------------------------
782   0000              ; absolute external ram data
783   0000              ;--------------------------------------------------------
784   0000              	SECTION IGNORE
785   0000              ;--------------------------------------------------------
786   0000              ; global & static initialisations
787   0000              ;--------------------------------------------------------
788   0000              	SECTION code_crt_init
789   0000              ;--------------------------------------------------------
790   0000              ; Home
791   0000              ;--------------------------------------------------------
792   0000              	SECTION IGNORE
793   0000              ;--------------------------------------------------------
794   0000              ; code
795   0000              ;--------------------------------------------------------
796   0000              	SECTION code_compiler
797   0000              ;	---------------------------------
798   0000              ; Function enemy_coin1
799   0000              ; ---------------------------------
800   0000              _enemy_coin1:
801   0000  21 00 00    	ld	hl,_sprite
802   0003  E5          	push	hl
803   0004  CD 00 00    	call	_spr_chktime
804   0007  F1          	pop	af
805   0008  7D          	ld	a,l
806   0009  B7          	or	a, a
807   000A  28 35       	jr	Z,l_enemy_coin1_00108
808   000C  3A 00 00    	ld	a,(_phase_left)
809   000F  B7          	or	a, a
810   0010  28 2F       	jr	Z,l_enemy_coin1_00108
811   0012  CD AF 0D    	call	_enemy_walk
812   0015  2A 00 00    	ld	hl,(_sprite)
813   0018  26 00       	ld	h,0x00
814   001A  01 00 00    	ld	bc,_lin
815   001D  09          	add	hl,bc
816   001E  7E          	ld	a,(hl)
817   001F  D6 98       	sub	a,0x98
818   0021  20 1E       	jr	NZ,l_enemy_coin1_00108
819   0023  3A 00 00    	ld	a,(_sprite)
820   0026  4F          	ld	c,a
821   0027  06 00       	ld	b,0x00
822   0029  21 00 00    	ld	hl,_col
823   002C  09          	add	hl,bc
824   002D  7E          	ld	a,(hl)
825   002E  4F          	ld	c,a
826   002F  D6 03       	sub	a,0x03
827   0031  28 05       	jr	Z,l_enemy_coin1_00101
828   0033  79          	ld	a,c
829   0034  D6 1B       	sub	a,0x1b
830   0036  20 09       	jr	NZ,l_enemy_coin1_00108
831   0038              l_enemy_coin1_00101:
832   0038  3A 00 00    	ld	a,(_sprite)
833   003B  F5          	push	af
834   003C  33          	inc	sp
835   003D  CD 00 00    	call	_spr_destroy
836   0040  33          	inc	sp
837   0041              l_enemy_coin1_00108:
838   0041  C9          	ret
839   0042              ;	---------------------------------
840   0042              ; Function enemy_coin2
841   0042              ; ---------------------------------
842   0042              _enemy_coin2:
843   0042  21 00 00    	ld	hl,_sprite
844   0045  E5          	push	hl
845   0046  CD 00 00    	call	_spr_chktime
846   0049  F1          	pop	af
847   004A  7D          	ld	a,l
848   004B  B7          	or	a, a
849   004C  C8          	ret	Z
850   004D  01 00 00    	ld	bc,_colint+0
851   0050  79          	ld	a,c
852   0051  21 00 00    	ld	hl,_sprite
853   0054  86          	add	a, (hl)
854   0055  5F          	ld	e,a
855   0056  78          	ld	a,b
856   0057  CE 00       	adc	a,0x00
857   0059  57          	ld	d,a
858   005A  1A          	ld	a,(de)
859   005B  3C          	inc	a
860   005C  12          	ld	(de),a
861   005D  79          	ld	a,c
862   005E  86          	add	a, (hl)
863   005F  4F          	ld	c,a
864   0060  78          	ld	a,b
865   0061  CE 00       	adc	a,0x00
866   0063  47          	ld	b,a
867   0064  0A          	ld	a,(bc)
868   0065  D6 03       	sub	a,0x03
869   0067  C0          	ret	NZ
870   0068  AF          	xor	a, a
871   0069  02          	ld	(bc),a
872   006A  C9          	ret
873   006B              ;	---------------------------------
874   006B              ; Function enemy_collition
875   006B              ; ---------------------------------
876   006B              _enemy_collition:
877   006B  CD 00 00    	call	___sdcc_enter_ix
878   006E  3B          	dec	sp
879   006F  21 00 00    	ld	hl,_enemies
880   0072  36 00       	ld	(hl),0x00
881   0074              l_enemy_collition_00113:
882   0074  CD A1 01    	call	_enemy_collition_check
883   0077  7D          	ld	a,l
884   0078  B7          	or	a, a
885   0079  CA 93 01    	jp	Z,l_enemy_collition_00114
886   007C  3A 00 00    	ld	a,(_enemies)
887   007F  C6 00       	add	a,+((_state) & 0xFF)
888   0081  4F          	ld	c,a
889   0082  3E 00       	ld	a,+((_state) / 256)
890   0084  CE 00       	adc	a,0x00
891   0086  47          	ld	b,a
892   0087  0A          	ld	a,(bc)
893   0088  DD 77 FF    	ld	(ix-1),a
894   008B  CB 67       	bit	4,a
895   008D  C2 26 01    	jp	NZ,l_enemy_collition_00104
896   0090  21 00 00    	ld	hl,_s_state
897   0093  7E          	ld	a,(hl)
898   0094  E6 08       	and	a,0x08
899   0096  5F          	ld	e,a
900   0097  DD 7E FF    	ld	a,(ix-1)
901   009A  E6 08       	and	a,0x08
902   009C  57          	ld	d,a
903   009D  7B          	ld	a,e
904   009E  92          	sub	a, d
905   009F  CA 26 01    	jp	Z,l_enemy_collition_00104
906   00A2  7E          	ld	a,(hl)
907   00A3  E6 04       	and	a,0x04
908   00A5  5F          	ld	e,a
909   00A6  DD 7E FF    	ld	a,(ix-1)
910   00A9  E6 04       	and	a,0x04
911   00AB  57          	ld	d,a
912   00AC  7B          	ld	a,e
913   00AD  92          	sub	a, d
914   00AE  28 76       	jr	Z,l_enemy_collition_00104
915   00B0  2A 00 00    	ld	hl,(_sprite)
916   00B3  26 00       	ld	h,0x00
917   00B5  11 00 00    	ld	de,_class
918   00B8  19          	add	hl,de
919   00B9  7E          	ld	a,(hl)
920   00BA  D6 08       	sub	a,0x08
921   00BC  28 68       	jr	Z,l_enemy_collition_00104
922   00BE  DD 7E FF    	ld	a,(ix-1)
923   00C1  EE 04       	xor	a,0x04
924   00C3  02          	ld	(bc),a
925   00C4  2A 00 00    	ld	hl,(_enemies)
926   00C7  26 00       	ld	h,0x00
927   00C9  01 00 00    	ld	bc,_state
928   00CC  09          	add	hl,bc
929   00CD  7E          	ld	a,(hl)
930   00CE  EE 08       	xor	a,0x08
931   00D0  77          	ld	(hl),a
932   00D1  2A 00 00    	ld	hl,(_enemies)
933   00D4  26 00       	ld	h,0x00
934   00D6  01 00 00    	ld	bc,_class
935   00D9  09          	add	hl,bc
936   00DA  4E          	ld	c,(hl)
937   00DB  3E 06       	ld	a,0x06
938   00DD  91          	sub	a,c
939   00DE  38 46       	jr	C,l_enemy_collition_00104
940   00E0  3E 00       	ld	a,+((_state_a) & 0xFF)
941   00E2  21 00 00    	ld	hl,_enemies
942   00E5  86          	add	a, (hl)
943   00E6  4F          	ld	c,a
944   00E7  3E 00       	ld	a,+((_state_a) / 256)
945   00E9  CE 00       	adc	a,0x00
946   00EB  47          	ld	b,a
947   00EC  0A          	ld	a,(bc)
948   00ED  CB CF       	set	1, a
949   00EF  02          	ld	(bc),a
950   00F0  4E          	ld	c,(hl)
951   00F1  06 00       	ld	b,0x00
952   00F3  CB 21       	sla	c
953   00F5  CB 10       	rl	b
954   00F7  21 00 00    	ld	hl,_spr_timer
955   00FA  09          	add	hl,bc
956   00FB  ED 5B 00 00 	ld	de,(_curr_time)
957   00FF  73          	ld	(hl),e
958   0100  23          	inc	hl
959   0101  72          	ld	(hl),d
960   0102  3E 00       	ld	a,+((_tile) & 0xFF)
961   0104  21 00 00    	ld	hl,_enemies
962   0107  86          	add	a, (hl)
963   0108  4F          	ld	c,a
964   0109  3E 00       	ld	a,+((_tile) / 256)
965   010B  CE 00       	adc	a,0x00
966   010D  47          	ld	b,a
967   010E  7E          	ld	a,(hl)
968   010F  C5          	push	bc
969   0110  F5          	push	af
970   0111  33          	inc	sp
971   0112  CD 00 00    	call	_spr_tile
972   0115  33          	inc	sp
973   0116  C1          	pop	bc
974   0117  7D          	ld	a, l
975   0118  02          	ld	(bc),a
976   0119  3A 00 00    	ld	a,(_enemies)
977   011C  C6 00       	add	a,+((_colint) & 0xFF)
978   011E  4F          	ld	c,a
979   011F  3E 00       	ld	a,+((_colint) / 256)
980   0121  CE 00       	adc	a,0x00
981   0123  47          	ld	b,a
982   0124  AF          	xor	a, a
983   0125  02          	ld	(bc),a
984   0126              l_enemy_collition_00104:
985   0126  21 00 00    	ld	hl,_s_state
986   0129  7E          	ld	a,(hl)
987   012A  EE 0C       	xor	a,+(0x04^0x08)
988   012C  77          	ld	(hl),a
989   012D  2A 00 00    	ld	hl,(_sprite)
990   0130  26 00       	ld	h,0x00
991   0132  01 00 00    	ld	bc,_class
992   0135  09          	add	hl,bc
993   0136  4E          	ld	c,(hl)
994   0137  3E 06       	ld	a,0x06
995   0139  91          	sub	a,c
996   013A  38 41       	jr	C,l_enemy_collition_00109
997   013C  3E 00       	ld	a,+((_state_a) & 0xFF)
998   013E  21 00 00    	ld	hl,_sprite
999   0141  86          	add	a, (hl)
1000  0142  4F          	ld	c,a
1001  0143  3E 00       	ld	a,+((_state_a) / 256)
1002  0145  CE 00       	adc	a,0x00
1003  0147  47          	ld	b,a
1004  0148  0A          	ld	a,(bc)
1005  0149  CB CF       	set	1, a
1006  014B  02          	ld	(bc),a
1007  014C  3E 00       	ld	a,+((_state) & 0xFF)
1008  014E  86          	add	a, (hl)
1009  014F  4F          	ld	c,a
1010  0150  3E 00       	ld	a,+((_state) / 256)
1011  0152  CE 00       	adc	a,0x00
1012  0154  47          	ld	b,a
1013  0155  3A 00 00    	ld	a,(_s_state)
1014  0158  02          	ld	(bc),a
1015  0159  3E 00       	ld	a,+((_tile) & 0xFF)
1016  015B  21 00 00    	ld	hl,_sprite
1017  015E  86          	add	a, (hl)
1018  015F  4F          	ld	c,a
1019  0160  3E 00       	ld	a,+((_tile) / 256)
1020  0162  CE 00       	adc	a,0x00
1021  0164  47          	ld	b,a
1022  0165  7E          	ld	a,(hl)
1023  0166  C5          	push	bc
1024  0167  F5          	push	af
1025  0168  33          	inc	sp
1026  0169  CD 00 00    	call	_spr_tile
1027  016C  33          	inc	sp
1028  016D  C1          	pop	bc
1029  016E  7D          	ld	a, l
1030  016F  02          	ld	(bc),a
1031  0170  3A 00 00    	ld	a,(_sprite)
1032  0173  C6 00       	add	a,+((_colint) & 0xFF)
1033  0175  4F          	ld	c,a
1034  0176  3E 00       	ld	a,+((_colint) / 256)
1035  0178  CE 00       	adc	a,0x00
1036  017A  47          	ld	b,a
1037  017B  AF          	xor	a, a
1038  017C  02          	ld	(bc),a
1039  017D              l_enemy_collition_00109:
1040  017D  2A 00 00    	ld	hl,(_sprite)
1041  0180  26 00       	ld	h,0x00
1042  0182  29          	add	hl,hl
1043  0183  01 00 00    	ld	bc,_spr_timer
1044  0186  09          	add	hl,bc
1045  0187  ED 5B 00 00 	ld	de,(_curr_time)
1046  018B  73          	ld	(hl),e
1047  018C  23          	inc	hl
1048  018D  72          	ld	(hl),d
1049  018E  21 00 00    	ld	hl,_enemies
1050  0191  36 06       	ld	(hl),0x06
1051  0193              l_enemy_collition_00114:
1052  0193  21 00 00    	ld	hl,_enemies
1053  0196  34          	inc	(hl)
1054  0197  7E          	ld	a,(hl)
1055  0198  D6 06       	sub	a,0x06
1056  019A  DA 74 00    	jp	C,l_enemy_collition_00113
1057  019D  33          	inc	sp
1058  019E  DD E1       	pop	ix
1059  01A0  C9          	ret
1060  01A1              ;	---------------------------------
1061  01A1              ; Function enemy_collition_check
1062  01A1              ; ---------------------------------
1063  01A1              _enemy_collition_check:
1064  01A1  2A 00 00    	ld	hl,(_enemies)
1065  01A4  26 00       	ld	h,0x00
1066  01A6  01 00 00    	ld	bc,_class
1067  01A9  09          	add	hl,bc
1068  01AA  7E          	ld	a,(hl)
1069  01AB  4F          	ld	c,a
1070  01AC  B7          	or	a,a
1071  01AD  20 04       	jr	NZ,l_enemy_collition_check_00102
1072  01AF  6F          	ld	l,a
1073  01B0  C3 8C 02    	jp	l_enemy_collition_check_00125
1074  01B3              l_enemy_collition_check_00102:
1075  01B3  3E 09       	ld	a,0x09
1076  01B5  91          	sub	a, c
1077  01B6  30 05       	jr	NC,l_enemy_collition_check_00104
1078  01B8  2E 00       	ld	l,0x00
1079  01BA  C3 8C 02    	jp	l_enemy_collition_check_00125
1080  01BD              l_enemy_collition_check_00104:
1081  01BD  3A 00 00    	ld	a,(_enemies)
1082  01C0  21 00 00    	ld	hl,_sprite
1083  01C3  96          	sub	a,(hl)
1084  01C4  20 04       	jr	NZ,l_enemy_collition_check_00106
1085  01C6  6F          	ld	l,a
1086  01C7  C3 8C 02    	jp	l_enemy_collition_check_00125
1087  01CA              l_enemy_collition_check_00106:
1088  01CA  3A 00 00    	ld	a,(_sprite)
1089  01CD  C6 00       	add	a,+((_state) & 0xFF)
1090  01CF  4F          	ld	c,a
1091  01D0  3E 00       	ld	a,+((_state) / 256)
1092  01D2  CE 00       	adc	a,0x00
1093  01D4  47          	ld	b,a
1094  01D5  0A          	ld	a,(bc)
1095  01D6  CB 67       	bit	4, a
1096  01D8  28 05       	jr	Z,l_enemy_collition_check_00108
1097  01DA  2E 00       	ld	l,0x00
1098  01DC  C3 8C 02    	jp	l_enemy_collition_check_00125
1099  01DF              l_enemy_collition_check_00108:
1100  01DF  CB 6F       	bit	5, a
1101  01E1  28 05       	jr	Z,l_enemy_collition_check_00110
1102  01E3  2E 00       	ld	l,0x00
1103  01E5  C3 8C 02    	jp	l_enemy_collition_check_00125
1104  01E8              l_enemy_collition_check_00110:
1105  01E8  3A 00 00    	ld	a,(_sprite)
1106  01EB  C6 00       	add	a,+((_state_a) & 0xFF)
1107  01ED  4F          	ld	c,a
1108  01EE  3E 00       	ld	a,+((_state_a) / 256)
1109  01F0  CE 00       	adc	a,0x00
1110  01F2  47          	ld	b,a
1111  01F3  0A          	ld	a,(bc)
1112  01F4  CB 4F       	bit	1, a
1113  01F6  28 05       	jr	Z,l_enemy_collition_check_00112
1114  01F8  2E 00       	ld	l,0x00
1115  01FA  C3 8C 02    	jp	l_enemy_collition_check_00125
1116  01FD              l_enemy_collition_check_00112:
1117  01FD  3A 00 00    	ld	a,(_enemies)
1118  0200  C6 00       	add	a,+((_state) & 0xFF)
1119  0202  4F          	ld	c,a
1120  0203  3E 00       	ld	a,+((_state) / 256)
1121  0205  CE 00       	adc	a,0x00
1122  0207  47          	ld	b,a
1123  0208  0A          	ld	a,(bc)
1124  0209  CB 6F       	bit	5, a
1125  020B  28 05       	jr	Z,l_enemy_collition_check_00114
1126  020D  2E 00       	ld	l,0x00
1127  020F  C3 8C 02    	jp	l_enemy_collition_check_00125
1128  0212              l_enemy_collition_check_00114:
1129  0212  CB 4F       	bit	1, a
1130  0214  28 04       	jr	Z,l_enemy_collition_check_00116
1131  0216  2E 00       	ld	l,0x00
1132  0218  18 72       	jr	l_enemy_collition_check_00125
1133  021A              l_enemy_collition_check_00116:
1134  021A  01 00 00    	ld	bc,_lin+0
1135  021D  2A 00 00    	ld	hl,(_enemies)
1136  0220  26 00       	ld	h,0x00
1137  0222  09          	add	hl,bc
1138  0223  6E          	ld	l, (hl)
1139  0224  26 00       	ld	h,0x00
1140  0226  EB          	ex	de,hl
1141  0227  2A 00 00    	ld	hl,(_sprite)
1142  022A  62          	ld	h,d
1143  022B  09          	add	hl,bc
1144  022C  4E          	ld	c, (hl)
1145  022D  AF          	xor	a,a
1146  022E  47          	ld	b,a
1147  022F  EB          	ex	de,hl
1148  0230  ED 42       	sbc	hl,bc
1149  0232  CD 00 00    	call	_abs_fastcall
1150  0235  22 00 00    	ld	(_tmp_ui),hl
1151  0238  21 00 00    	ld	hl,_tmp_ui
1152  023B  7E          	ld	a,(hl)
1153  023C  D6 10       	sub	a,0x10
1154  023E  23          	inc	hl
1155  023F  7E          	ld	a,(hl)
1156  0240  DE 00       	sbc	a,0x00
1157  0242  38 04       	jr	C,l_enemy_collition_check_00118
1158  0244  2E 00       	ld	l,0x00
1159  0246  18 44       	jr	l_enemy_collition_check_00125
1160  0248              l_enemy_collition_check_00118:
1161  0248  01 00 00    	ld	bc,_col+0
1162  024B  2A 00 00    	ld	hl,(_sprite)
1163  024E  26 00       	ld	h,0x00
1164  0250  09          	add	hl,bc
1165  0251  6E          	ld	l, (hl)
1166  0252  EB          	ex	de,hl
1167  0253  2A 00 00    	ld	hl,(_enemies)
1168  0256  26 00       	ld	h,0x00
1169  0258  09          	add	hl,bc
1170  0259  4E          	ld	c, (hl)
1171  025A  7B          	ld	a,e
1172  025B  91          	sub	a, c
1173  025C  32 00 00    	ld	(_tmp_sc),a
1174  025F  3A 00 00    	ld	a,(_sprite)
1175  0262  C6 00       	add	a,+((_state) & 0xFF)
1176  0264  4F          	ld	c,a
1177  0265  3E 00       	ld	a,+((_state) / 256)
1178  0267  CE 00       	adc	a,0x00
1179  0269  47          	ld	b,a
1180  026A  3A 00 00    	ld	a,(_tmp_sc)
1181  026D  D6 FE       	sub	a,0xfe
1182  026F  20 09       	jr	NZ,l_enemy_collition_check_00120
1183  0271  0A          	ld	a,(bc)
1184  0272  CB 57       	bit	2, a
1185  0274  28 04       	jr	Z,l_enemy_collition_check_00120
1186  0276  2E 01       	ld	l,0x01
1187  0278  18 12       	jr	l_enemy_collition_check_00125
1188  027A              l_enemy_collition_check_00120:
1189  027A  3A 00 00    	ld	a,(_tmp_sc)
1190  027D  D6 02       	sub	a,0x02
1191  027F  20 09       	jr	NZ,l_enemy_collition_check_00123
1192  0281  0A          	ld	a,(bc)
1193  0282  CB 5F       	bit	3, a
1194  0284  28 04       	jr	Z,l_enemy_collition_check_00123
1195  0286  2E 01       	ld	l,0x01
1196  0288  18 02       	jr	l_enemy_collition_check_00125
1197  028A              l_enemy_collition_check_00123:
1198  028A  2E 00       	ld	l,0x00
1199  028C              l_enemy_collition_check_00125:
1200  028C  C9          	ret
1201  028D              ;	---------------------------------
1202  028D              ; Function enemy_hit
1203  028D              ; ---------------------------------
1204  028D              _enemy_hit:
1205  028D  76          	halt
1206  028E  2A 00 00    	ld	hl,(_enemies)
1207  0291  26 00       	ld	h,0x00
1208  0293  5D          	ld	e,l
1209  0294  01 00 00    	ld	bc,_col
1210  0297  09          	add	hl,bc
1211  0298  46          	ld	b,(hl)
1212  0299  16 00       	ld	d,0x00
1213  029B  21 00 00    	ld	hl,_lin
1214  029E  19          	add	hl,de
1215  029F  4E          	ld	c, (hl)
1216  02A0  C5          	push	bc
1217  02A1  AF          	xor	a, a
1218  02A2  F5          	push	af
1219  02A3  33          	inc	sp
1220  02A4  CD 00 00    	call	_NIRVANAP_fillT_callee
1221  02A7  2A 00 00    	ld	hl,(_enemies)
1222  02AA  26 00       	ld	h,0x00
1223  02AC  01 00 00    	ld	bc,_lin
1224  02AF  09          	add	hl,bc
1225  02B0  7E          	ld	a,(hl)
1226  02B1  C6 FC       	add	a,0xfc
1227  02B3  77          	ld	(hl),a
1228  02B4  3E 00       	ld	a,+((_col) & 0xFF)
1229  02B6  21 00 00    	ld	hl,_enemies
1230  02B9  86          	add	a, (hl)
1231  02BA  4F          	ld	c,a
1232  02BB  3E 00       	ld	a,+((_col) / 256)
1233  02BD  CE 00       	adc	a,0x00
1234  02BF  47          	ld	b,a
1235  02C0  0A          	ld	a,(bc)
1236  02C1  4F          	ld	c,a
1237  02C2  3E 00       	ld	a,+((_lin) & 0xFF)
1238  02C4  86          	add	a, (hl)
1239  02C5  5F          	ld	e,a
1240  02C6  3E 00       	ld	a,+((_lin) / 256)
1241  02C8  CE 00       	adc	a,0x00
1242  02CA  57          	ld	d,a
1243  02CB  1A          	ld	a,(de)
1244  02CC  47          	ld	b,a
1245  02CD  3E 00       	ld	a,+((_tile) & 0xFF)
1246  02CF  86          	add	a, (hl)
1247  02D0  5F          	ld	e,a
1248  02D1  3E 00       	ld	a,+((_tile) / 256)
1249  02D3  CE 00       	adc	a,0x00
1250  02D5  57          	ld	d,a
1251  02D6  1A          	ld	a,(de)
1252  02D7  57          	ld	d,a
1253  02D8  79          	ld	a,c
1254  02D9  F5          	push	af
1255  02DA  33          	inc	sp
1256  02DB  4A          	ld	c, d
1257  02DC  7E          	ld	a,(hl)
1258  02DD  C5          	push	bc
1259  02DE  F5          	push	af
1260  02DF  33          	inc	sp
1261  02E0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1262  02E3  2A 00 00    	ld	hl,(_enemies)
1263  02E6  26 00       	ld	h,0x00
1264  02E8  01 00 00    	ld	bc,_state_a
1265  02EB  09          	add	hl,bc
1266  02EC  7E          	ld	a,(hl)
1267  02ED  E6 FD       	and	a,0xfd
1268  02EF  77          	ld	(hl),a
1269  02F0  01 00 00    	ld	bc,_spr_timer+0
1270  02F3  2A 00 00    	ld	hl,(_enemies)
1271  02F6  26 00       	ld	h,0x00
1272  02F8  29          	add	hl, hl
1273  02F9  09          	add	hl,bc
1274  02FA  ED 5B 00 00 	ld	de,(_curr_time)
1275  02FE  73          	ld	(hl),e
1276  02FF  23          	inc	hl
1277  0300  72          	ld	(hl),d
1278  0301  3A 00 00    	ld	a,(_enemies)
1279  0304  C6 00       	add	a,+((_class) & 0xFF)
1280  0306  4F          	ld	c,a
1281  0307  3E 00       	ld	a,+((_class) / 256)
1282  0309  CE 00       	adc	a,0x00
1283  030B  47          	ld	b,a
1284  030C  0A          	ld	a,(bc)
1285  030D  5F          	ld	e,a
1286  030E  D6 01       	sub	a,0x01
1287  0310  DA BE 03    	jp	C,l_enemy_hit_00113
1288  0313  3E 0B       	ld	a,0x0b
1289  0315  93          	sub	a, e
1290  0316  DA BE 03    	jp	C,l_enemy_hit_00113
1291  0319  1D          	dec	e
1292  031A  16 00       	ld	d,0x00
1293  031C  21 23 03    	ld	hl,l_enemy_hit_00123
1294  031F  19          	add	hl,de
1295  0320  19          	add	hl,de
1296  0321  19          	add	hl,de
1297  0322  E9          	jp	(hl)
1298  0323              l_enemy_hit_00123:
1299  0323  C3 44 03    	jp	l_enemy_hit_00101
1300  0326  C3 4E 03    	jp	l_enemy_hit_00102
1301  0329  C3 58 03    	jp	l_enemy_hit_00103
1302  032C  C3 62 03    	jp	l_enemy_hit_00104
1303  032F  C3 6C 03    	jp	l_enemy_hit_00105
1304  0332  C3 76 03    	jp	l_enemy_hit_00106
1305  0335  C3 8A 03    	jp	l_enemy_hit_00108
1306  0338  C3 96 03    	jp	l_enemy_hit_00109
1307  033B  C3 80 03    	jp	l_enemy_hit_00107
1308  033E  C3 A8 03    	jp	l_enemy_hit_00110
1309  0341  C3 B4 03    	jp	l_enemy_hit_00111
1310  0344              l_enemy_hit_00101:
1311  0344  21 30 00    	ld	hl,0x0030
1312  0347  E5          	push	hl
1313  0348  CD B4 04    	call	_enemy_flip
1314  034B  F1          	pop	af
1315  034C  18 70       	jr	l_enemy_hit_00113
1316  034E              l_enemy_hit_00102:
1317  034E  21 3C 00    	ld	hl,0x003c
1318  0351  E5          	push	hl
1319  0352  CD B4 04    	call	_enemy_flip
1320  0355  F1          	pop	af
1321  0356  18 66       	jr	l_enemy_hit_00113
1322  0358              l_enemy_hit_00103:
1323  0358  21 48 00    	ld	hl,0x0048
1324  035B  E5          	push	hl
1325  035C  CD B4 04    	call	_enemy_flip
1326  035F  F1          	pop	af
1327  0360  18 5C       	jr	l_enemy_hit_00113
1328  0362              l_enemy_hit_00104:
1329  0362  21 54 00    	ld	hl,0x0054
1330  0365  E5          	push	hl
1331  0366  CD 9D 05    	call	_enemy_flip_sidestepper
1332  0369  F1          	pop	af
1333  036A  18 52       	jr	l_enemy_hit_00113
1334  036C              l_enemy_hit_00105:
1335  036C  21 60 00    	ld	hl,0x0060
1336  036F  E5          	push	hl
1337  0370  CD 9D 05    	call	_enemy_flip_sidestepper
1338  0373  F1          	pop	af
1339  0374  18 48       	jr	l_enemy_hit_00113
1340  0376              l_enemy_hit_00106:
1341  0376  21 6C 00    	ld	hl,0x006c
1342  0379  E5          	push	hl
1343  037A  CD 9D 05    	call	_enemy_flip_sidestepper
1344  037D  F1          	pop	af
1345  037E  18 3E       	jr	l_enemy_hit_00113
1346  0380              l_enemy_hit_00107:
1347  0380  21 78 00    	ld	hl,0x0078
1348  0383  E5          	push	hl
1349  0384  CD B4 04    	call	_enemy_flip
1350  0387  F1          	pop	af
1351  0388  18 34       	jr	l_enemy_hit_00113
1352  038A              l_enemy_hit_00108:
1353  038A  2A 00 00    	ld	hl,(_enemies)
1354  038D  26 32       	ld	h,0x32
1355  038F  E5          	push	hl
1356  0390  CD 00 00    	call	_player_coin
1357  0393  F1          	pop	af
1358  0394  18 28       	jr	l_enemy_hit_00113
1359  0396              l_enemy_hit_00109:
1360  0396  21 00 00    	ld	hl,_ay_effect_10
1361  0399  CD 00 00    	call	_ay_fx_play
1362  039C  2A 00 00    	ld	hl,(_enemies)
1363  039F  26 50       	ld	h,0x50
1364  03A1  E5          	push	hl
1365  03A2  CD 00 00    	call	_player_coin
1366  03A5  F1          	pop	af
1367  03A6  18 16       	jr	l_enemy_hit_00113
1368  03A8              l_enemy_hit_00110:
1369  03A8  2A 00 00    	ld	hl,(_enemies)
1370  03AB  26 64       	ld	h,0x64
1371  03AD  E5          	push	hl
1372  03AE  CD 00 00    	call	_player_coin
1373  03B1  F1          	pop	af
1374  03B2  18 0A       	jr	l_enemy_hit_00113
1375  03B4              l_enemy_hit_00111:
1376  03B4  2A 00 00    	ld	hl,(_enemies)
1377  03B7  26 14       	ld	h,0x14
1378  03B9  E5          	push	hl
1379  03BA  CD 00 00    	call	_player_coin
1380  03BD  F1          	pop	af
1381  03BE              l_enemy_hit_00113:
1382  03BE  C9          	ret
1383  03BF              ;	---------------------------------
1384  03BF              ; Function enemy_flip_change_dir
1385  03BF              ; ---------------------------------
1386  03BF              _enemy_flip_change_dir:
1387  03BF  CD 00 00    	call	___sdcc_enter_ix
1388  03C2  3B          	dec	sp
1389  03C3  3A 00 00    	ld	a,(_enemies)
1390  03C6  C6 00       	add	a,+((_state) & 0xFF)
1391  03C8  4F          	ld	c,a
1392  03C9  3E 00       	ld	a,+((_state) / 256)
1393  03CB  CE 00       	adc	a,0x00
1394  03CD  47          	ld	b,a
1395  03CE  0A          	ld	a,(bc)
1396  03CF  CB 57       	bit	2, a
1397  03D1  28 1E       	jr	Z,l_enemy_flip_change_dir_00102
1398  03D3  01 00 00    	ld	bc,_state_a+0
1399  03D6  79          	ld	a,c
1400  03D7  21 00 00    	ld	hl,_enemies
1401  03DA  86          	add	a, (hl)
1402  03DB  5F          	ld	e,a
1403  03DC  78          	ld	a,b
1404  03DD  CE 00       	adc	a,0x00
1405  03DF  57          	ld	d,a
1406  03E0  1A          	ld	a,(de)
1407  03E1  CB E7       	set	4, a
1408  03E3  12          	ld	(de),a
1409  03E4  79          	ld	a,c
1410  03E5  86          	add	a, (hl)
1411  03E6  4F          	ld	c,a
1412  03E7  78          	ld	a,b
1413  03E8  CE 00       	adc	a,0x00
1414  03EA  47          	ld	b,a
1415  03EB  0A          	ld	a,(bc)
1416  03EC  E6 F7       	and	a,0xf7
1417  03EE  02          	ld	(bc),a
1418  03EF  18 1C       	jr	l_enemy_flip_change_dir_00103
1419  03F1              l_enemy_flip_change_dir_00102:
1420  03F1  01 00 00    	ld	bc,_state_a+0
1421  03F4  79          	ld	a,c
1422  03F5  21 00 00    	ld	hl,_enemies
1423  03F8  86          	add	a, (hl)
1424  03F9  5F          	ld	e,a
1425  03FA  78          	ld	a,b
1426  03FB  CE 00       	adc	a,0x00
1427  03FD  57          	ld	d,a
1428  03FE  1A          	ld	a,(de)
1429  03FF  CB E7       	set	4, a
1430  0401  12          	ld	(de),a
1431  0402  79          	ld	a,c
1432  0403  86          	add	a, (hl)
1433  0404  4F          	ld	c,a
1434  0405  78          	ld	a,b
1435  0406  CE 00       	adc	a,0x00
1436  0408  47          	ld	b,a
1437  0409  0A          	ld	a,(bc)
1438  040A  E6 F7       	and	a,0xf7
1439  040C  02          	ld	(bc),a
1440  040D              l_enemy_flip_change_dir_00103:
1441  040D  01 00 00    	ld	bc,_col+0
1442  0410  2A 00 00    	ld	hl,(_sprite)
1443  0413  26 00       	ld	h,0x00
1444  0415  09          	add	hl,bc
1445  0416  7E          	ld	a,(hl)
1446  0417  DD 77 FF    	ld	(ix-1),a
1447  041A  79          	ld	a,c
1448  041B  21 00 00    	ld	hl,_enemies
1449  041E  86          	add	a, (hl)
1450  041F  5F          	ld	e,a
1451  0420  78          	ld	a,b
1452  0421  CE 00       	adc	a,0x00
1453  0423  57          	ld	d,a
1454  0424  1A          	ld	a,(de)
1455  0425  DD 96 FF    	sub	a,(ix-1)
1456  0428  30 19       	jr	NC,l_enemy_flip_change_dir_00105
1457  042A  3E 00       	ld	a,+((_state) & 0xFF)
1458  042C  86          	add	a, (hl)
1459  042D  5F          	ld	e,a
1460  042E  3E 00       	ld	a,+((_state) / 256)
1461  0430  CE 00       	adc	a,0x00
1462  0432  57          	ld	d,a
1463  0433  1A          	ld	a,(de)
1464  0434  CB DF       	set	3, a
1465  0436  12          	ld	(de),a
1466  0437  5E          	ld	e,(hl)
1467  0438  16 00       	ld	d,0x00
1468  043A  21 00 00    	ld	hl,_state
1469  043D  19          	add	hl,de
1470  043E  7E          	ld	a,(hl)
1471  043F  EB          	ex	de,hl
1472  0440  E6 FB       	and	a,0xfb
1473  0442  12          	ld	(de),a
1474  0443              l_enemy_flip_change_dir_00105:
1475  0443  2A 00 00    	ld	hl,(_sprite)
1476  0446  26 00       	ld	h,0x00
1477  0448  09          	add	hl,bc
1478  0449  7E          	ld	a,(hl)
1479  044A  DD 77 FF    	ld	(ix-1),a
1480  044D  79          	ld	a,c
1481  044E  21 00 00    	ld	hl,_enemies
1482  0451  86          	add	a, (hl)
1483  0452  5F          	ld	e,a
1484  0453  78          	ld	a,b
1485  0454  CE 00       	adc	a,0x00
1486  0456  57          	ld	d,a
1487  0457  1A          	ld	a,(de)
1488  0458  5F          	ld	e,a
1489  0459  DD 7E FF    	ld	a,(ix-1)
1490  045C  93          	sub	a, e
1491  045D  30 19       	jr	NC,l_enemy_flip_change_dir_00107
1492  045F  3E 00       	ld	a,+((_state) & 0xFF)
1493  0461  86          	add	a, (hl)
1494  0462  5F          	ld	e,a
1495  0463  3E 00       	ld	a,+((_state) / 256)
1496  0465  CE 00       	adc	a,0x00
1497  0467  57          	ld	d,a
1498  0468  1A          	ld	a,(de)
1499  0469  CB D7       	set	2, a
1500  046B  12          	ld	(de),a
1501  046C  5E          	ld	e,(hl)
1502  046D  16 00       	ld	d,0x00
1503  046F  21 00 00    	ld	hl,_state
1504  0472  19          	add	hl,de
1505  0473  7E          	ld	a,(hl)
1506  0474  EB          	ex	de,hl
1507  0475  E6 F7       	and	a,0xf7
1508  0477  12          	ld	(de),a
1509  0478              l_enemy_flip_change_dir_00107:
1510  0478  DD 7E 04    	ld	a,(ix+4)
1511  047B  B7          	or	a, a
1512  047C  20 32       	jr	NZ,l_enemy_flip_change_dir_00111
1513  047E  2A 00 00    	ld	hl,(_sprite)
1514  0481  26 00       	ld	h,0x00
1515  0483  09          	add	hl,bc
1516  0484  6E          	ld	l, (hl)
1517  0485  79          	ld	a,c
1518  0486  EB          	ex	de,hl
1519  0487  21 00 00    	ld	hl,_enemies
1520  048A  86          	add	a, (hl)
1521  048B  4F          	ld	c,a
1522  048C  78          	ld	a,b
1523  048D  CE 00       	adc	a,0x00
1524  048F  47          	ld	b,a
1525  0490  0A          	ld	a,(bc)
1526  0491  4F          	ld	c,a
1527  0492  7B          	ld	a,e
1528  0493  91          	sub	a, c
1529  0494  20 1A       	jr	NZ,l_enemy_flip_change_dir_00111
1530  0496  3E 00       	ld	a,+((_state) & 0xFF)
1531  0498  86          	add	a, (hl)
1532  0499  4F          	ld	c,a
1533  049A  3E 00       	ld	a,+((_state) / 256)
1534  049C  CE 00       	adc	a,0x00
1535  049E  47          	ld	b,a
1536  049F  0A          	ld	a,(bc)
1537  04A0  E6 F7       	and	a,0xf7
1538  04A2  02          	ld	(bc),a
1539  04A3  3E 00       	ld	a,+((_state) & 0xFF)
1540  04A5  86          	add	a, (hl)
1541  04A6  4F          	ld	c,a
1542  04A7  3E 00       	ld	a,+((_state) / 256)
1543  04A9  CE 00       	adc	a,0x00
1544  04AB  47          	ld	b,a
1545  04AC  0A          	ld	a,(bc)
1546  04AD  E6 FB       	and	a,0xfb
1547  04AF  02          	ld	(bc),a
1548  04B0              l_enemy_flip_change_dir_00111:
1549  04B0  33          	inc	sp
1550  04B1  DD E1       	pop	ix
1551  04B3  C9          	ret
1552  04B4              ;	---------------------------------
1553  04B4              ; Function enemy_flip
1554  04B4              ; ---------------------------------
1555  04B4              _enemy_flip:
1556  04B4  CD 00 00    	call	___sdcc_enter_ix
1557  04B7  3B          	dec	sp
1558  04B8  01 00 00    	ld	bc,_spr_timer+0
1559  04BB  2A 00 00    	ld	hl,(_enemies)
1560  04BE  26 00       	ld	h,0x00
1561  04C0  29          	add	hl, hl
1562  04C1  09          	add	hl,bc
1563  04C2  ED 5B 00 00 	ld	de,(_curr_time)
1564  04C6  73          	ld	(hl),e
1565  04C7  23          	inc	hl
1566  04C8  72          	ld	(hl),d
1567  04C9  2A 00 00    	ld	hl,(_enemies)
1568  04CC  26 00       	ld	h,0x00
1569  04CE  01 00 00    	ld	bc,_state
1570  04D1  09          	add	hl,bc
1571  04D2  7E          	ld	a,(hl)
1572  04D3  EE 01       	xor	a,0x01
1573  04D5  77          	ld	(hl),a
1574  04D6  2A 00 00    	ld	hl,(_enemies)
1575  04D9  26 00       	ld	h,0x00
1576  04DB  01 00 00    	ld	bc,_state
1577  04DE  09          	add	hl,bc
1578  04DF  7E          	ld	a,(hl)
1579  04E0  E6 FD       	and	a,0xfd
1580  04E2  77          	ld	(hl),a
1581  04E3  2A 00 00    	ld	hl,(_enemies)
1582  04E6  26 00       	ld	h,0x00
1583  04E8  01 00 00    	ld	bc,_state
1584  04EB  09          	add	hl,bc
1585  04EC  7E          	ld	a,(hl)
1586  04ED  EE 10       	xor	a,0x10
1587  04EF  77          	ld	(hl),a
1588  04F0  2A 00 00    	ld	hl,(_enemies)
1589  04F3  26 00       	ld	h,0x00
1590  04F5  01 00 00    	ld	bc,_state
1591  04F8  09          	add	hl,bc
1592  04F9  7E          	ld	a,(hl)
1593  04FA  E6 7F       	and	a,0x7f
1594  04FC  77          	ld	(hl),a
1595  04FD  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1596  04FF  21 00 00    	ld	hl,_enemies
1597  0502  86          	add	a, (hl)
1598  0503  4F          	ld	c,a
1599  0504  3E 00       	ld	a,+((_jump_lin) / 256)
1600  0506  CE 00       	adc	a,0x00
1601  0508  47          	ld	b,a
1602  0509  3E 00       	ld	a,+((_lin) & 0xFF)
1603  050B  86          	add	a, (hl)
1604  050C  5F          	ld	e,a
1605  050D  3E 00       	ld	a,+((_lin) / 256)
1606  050F  CE 00       	adc	a,0x00
1607  0511  57          	ld	d,a
1608  0512  1A          	ld	a,(de)
1609  0513  02          	ld	(bc),a
1610  0514  3E 00       	ld	a,+((_state) & 0xFF)
1611  0516  86          	add	a, (hl)
1612  0517  4F          	ld	c,a
1613  0518  3E 00       	ld	a,+((_state) / 256)
1614  051A  CE 00       	adc	a,0x00
1615  051C  47          	ld	b,a
1616  051D  0A          	ld	a,(bc)
1617  051E  DD 77 FF    	ld	(ix-1),a
1618  0521  CB 67       	bit	4,a
1619  0523  28 28       	jr	Z,l_enemy_flip_00105
1620  0525  21 00 00    	ld	hl,_ay_effect_02
1621  0528  CD 00 00    	call	_ay_fx_play
1622  052B  AF          	xor	a, a
1623  052C  F5          	push	af
1624  052D  33          	inc	sp
1625  052E  CD BF 03    	call	_enemy_flip_change_dir
1626  0531  33          	inc	sp
1627  0532  3A 00 00    	ld	a,(_enemies)
1628  0535  C6 00       	add	a,+((_tile) & 0xFF)
1629  0537  4F          	ld	c,a
1630  0538  3E 00       	ld	a,+((_tile) / 256)
1631  053A  CE 00       	adc	a,0x00
1632  053C  47          	ld	b,a
1633  053D  DD 7E 04    	ld	a,(ix+4)
1634  0540  C6 06       	add	a,0x06
1635  0542  02          	ld	(bc),a
1636  0543  21 01 00    	ld	hl,0x0001
1637  0546  E5          	push	hl
1638  0547  CD 00 00    	call	_player_score_add
1639  054A  F1          	pop	af
1640  054B  18 4C       	jr	l_enemy_flip_00107
1641  054D              l_enemy_flip_00105:
1642  054D  2A 00 00    	ld	hl,(_enemies)
1643  0550  26 00       	ld	h,0x00
1644  0552  11 00 00    	ld	de,_state_a
1645  0555  19          	add	hl,de
1646  0556  5E          	ld	e, (hl)
1647  0557  DD 7E FF    	ld	a,(ix-1)
1648  055A  CB D7       	set	2, a
1649  055C  CB 63       	bit	4, e
1650  055E  28 12       	jr	Z,l_enemy_flip_00102
1651  0560  02          	ld	(bc),a
1652  0561  3A 00 00    	ld	a,(_enemies)
1653  0564  C6 00       	add	a,+((_state) & 0xFF)
1654  0566  4F          	ld	c,a
1655  0567  3E 00       	ld	a,+((_state) / 256)
1656  0569  CE 00       	adc	a,0x00
1657  056B  47          	ld	b,a
1658  056C  0A          	ld	a,(bc)
1659  056D  E6 F7       	and	a,0xf7
1660  056F  02          	ld	(bc),a
1661  0570  18 10       	jr	l_enemy_flip_00103
1662  0572              l_enemy_flip_00102:
1663  0572  02          	ld	(bc),a
1664  0573  3A 00 00    	ld	a,(_enemies)
1665  0576  C6 00       	add	a,+((_state) & 0xFF)
1666  0578  4F          	ld	c,a
1667  0579  3E 00       	ld	a,+((_state) / 256)
1668  057B  CE 00       	adc	a,0x00
1669  057D  47          	ld	b,a
1670  057E  0A          	ld	a,(bc)
1671  057F  E6 F7       	and	a,0xf7
1672  0581  02          	ld	(bc),a
1673  0582              l_enemy_flip_00103:
1674  0582  3E 00       	ld	a,+((_tile) & 0xFF)
1675  0584  21 00 00    	ld	hl,_enemies
1676  0587  86          	add	a, (hl)
1677  0588  4F          	ld	c,a
1678  0589  3E 00       	ld	a,+((_tile) / 256)
1679  058B  CE 00       	adc	a,0x00
1680  058D  47          	ld	b,a
1681  058E  7E          	ld	a,(hl)
1682  058F  C5          	push	bc
1683  0590  F5          	push	af
1684  0591  33          	inc	sp
1685  0592  CD 00 00    	call	_spr_tile
1686  0595  33          	inc	sp
1687  0596  C1          	pop	bc
1688  0597  7D          	ld	a, l
1689  0598  02          	ld	(bc),a
1690  0599              l_enemy_flip_00107:
1691  0599  33          	inc	sp
1692  059A  DD E1       	pop	ix
1693  059C  C9          	ret
1694  059D              ;	---------------------------------
1695  059D              ; Function enemy_flip_sidestepper
1696  059D              ; ---------------------------------
1697  059D              _enemy_flip_sidestepper:
1698  059D  CD 00 00    	call	___sdcc_enter_ix
1699  05A0  01 00 00    	ld	bc,_state+0
1700  05A3  2A 00 00    	ld	hl,(_enemies)
1701  05A6  26 00       	ld	h,0x00
1702  05A8  09          	add	hl,bc
1703  05A9  CB 76       	bit	6,(hl)
1704  05AB  28 0D       	jr	Z,l_enemy_flip_sidestepper_00102
1705  05AD  DD 6E 04    	ld	l,(ix+4)
1706  05B0  DD 66 05    	ld	h,(ix+5)
1707  05B3  E5          	push	hl
1708  05B4  CD B4 04    	call	_enemy_flip
1709  05B7  F1          	pop	af
1710  05B8  18 56       	jr	l_enemy_flip_sidestepper_00104
1711  05BA              l_enemy_flip_sidestepper_00102:
1712  05BA  C5          	push	bc
1713  05BB  3E 01       	ld	a,0x01
1714  05BD  F5          	push	af
1715  05BE  33          	inc	sp
1716  05BF  CD BF 03    	call	_enemy_flip_change_dir
1717  05C2  33          	inc	sp
1718  05C3  C1          	pop	bc
1719  05C4  79          	ld	a,c
1720  05C5  21 00 00    	ld	hl,_enemies
1721  05C8  86          	add	a, (hl)
1722  05C9  5F          	ld	e,a
1723  05CA  78          	ld	a,b
1724  05CB  CE 00       	adc	a,0x00
1725  05CD  57          	ld	d,a
1726  05CE  1A          	ld	a,(de)
1727  05CF  EE 01       	xor	a,0x01
1728  05D1  12          	ld	(de),a
1729  05D2  79          	ld	a,c
1730  05D3  86          	add	a, (hl)
1731  05D4  5F          	ld	e,a
1732  05D5  78          	ld	a,b
1733  05D6  CE 00       	adc	a,0x00
1734  05D8  57          	ld	d,a
1735  05D9  1A          	ld	a,(de)
1736  05DA  E6 FD       	and	a,0xfd
1737  05DC  12          	ld	(de),a
1738  05DD  79          	ld	a,c
1739  05DE  86          	add	a, (hl)
1740  05DF  4F          	ld	c,a
1741  05E0  78          	ld	a,b
1742  05E1  CE 00       	adc	a,0x00
1743  05E3  47          	ld	b,a
1744  05E4  0A          	ld	a,(bc)
1745  05E5  CB F7       	set	6, a
1746  05E7  02          	ld	(bc),a
1747  05E8  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1748  05EA  86          	add	a, (hl)
1749  05EB  4F          	ld	c,a
1750  05EC  3E 00       	ld	a,+((_jump_lin) / 256)
1751  05EE  CE 00       	adc	a,0x00
1752  05F0  47          	ld	b,a
1753  05F1  3E 00       	ld	a,+((_lin) & 0xFF)
1754  05F3  86          	add	a, (hl)
1755  05F4  5F          	ld	e,a
1756  05F5  3E 00       	ld	a,+((_lin) / 256)
1757  05F7  CE 00       	adc	a,0x00
1758  05F9  57          	ld	d,a
1759  05FA  1A          	ld	a,(de)
1760  05FB  02          	ld	(bc),a
1761  05FC  3E 00       	ld	a,+((_tile) & 0xFF)
1762  05FE  86          	add	a, (hl)
1763  05FF  4F          	ld	c,a
1764  0600  3E 00       	ld	a,+((_tile) / 256)
1765  0602  CE 00       	adc	a,0x00
1766  0604  47          	ld	b,a
1767  0605  7E          	ld	a,(hl)
1768  0606  C5          	push	bc
1769  0607  F5          	push	af
1770  0608  33          	inc	sp
1771  0609  CD 00 00    	call	_spr_tile
1772  060C  33          	inc	sp
1773  060D  C1          	pop	bc
1774  060E  7D          	ld	a, l
1775  060F  02          	ld	(bc),a
1776  0610              l_enemy_flip_sidestepper_00104:
1777  0610  DD E1       	pop	ix
1778  0612  C9          	ret
1779  0613              ;	---------------------------------
1780  0613              ; Function enemy_turn
1781  0613              ; ---------------------------------
1782  0613              _enemy_turn:
1783  0613  21 00 00    	ld	hl,_sprite
1784  0616  36 00       	ld	(hl),0x00
1785  0618              l_enemy_turn_00124:
1786  0618  2A 00 00    	ld	hl,(_sprite)
1787  061B  26 00       	ld	h,0x00
1788  061D  01 00 00    	ld	bc,_class
1789  0620  09          	add	hl,bc
1790  0621  7E          	ld	a,(hl)
1791  0622  4F          	ld	c,a
1792  0623  B7          	or	a,a
1793  0624  CA 34 07    	jp	Z,l_enemy_turn_00122
1794  0627  3A 00 00    	ld	a,(_sprite)
1795  062A  5F          	ld	e,a
1796  062B  16 00       	ld	d,0x00
1797  062D  21 00 00    	ld	hl,_lin
1798  0630  19          	add	hl,de
1799  0631  7E          	ld	a,(hl)
1800  0632  32 00 00    	ld	(_s_lin0),a
1801  0635  2A 00 00    	ld	hl,(_sprite)
1802  0638  26 00       	ld	h,0x00
1803  063A  11 00 00    	ld	de,_col
1804  063D  19          	add	hl,de
1805  063E  7E          	ld	a,(hl)
1806  063F  32 00 00    	ld	(_s_col0),a
1807  0642  2A 00 00    	ld	hl,(_sprite)
1808  0645  26 00       	ld	h,0x00
1809  0647  11 00 00    	ld	de,_tile
1810  064A  19          	add	hl,de
1811  064B  46          	ld	b, (hl)
1812  064C  3A 00 00    	ld	a,(_sprite)
1813  064F  5F          	ld	e,a
1814  0650  16 00       	ld	d,0x00
1815  0652  21 00 00    	ld	hl,_colint
1816  0655  19          	add	hl,de
1817  0656  7E          	ld	a,(hl)
1818  0657  80          	add	a,b
1819  0658  32 00 00    	ld	(_s_tile0),a
1820  065B  2A 00 00    	ld	hl,(_sprite)
1821  065E  26 00       	ld	h,0x00
1822  0660  11 00 00    	ld	de,_state
1823  0663  19          	add	hl,de
1824  0664  7E          	ld	a,(hl)
1825  0665  21 00 00    	ld	hl,_s_state
1826  0668  77          	ld	(hl),a
1827  0669  E6 01       	and	a,0x01
1828  066B  7E          	ld	a,(hl)
1829  066C  E6 20       	and	a,0x20
1830  066E  28 11       	jr	Z,l_enemy_turn_00102
1831  0670  7E          	ld	a,(hl)
1832  0671  E6 01       	and	a,0x01
1833  0673  20 0C       	jr	NZ,l_enemy_turn_00102
1834  0675  3A 00 00    	ld	a,(_sprite)
1835  0678  F5          	push	af
1836  0679  33          	inc	sp
1837  067A  CD 00 00    	call	_spr_killed
1838  067D  33          	inc	sp
1839  067E  C3 34 07    	jp	l_enemy_turn_00122
1840  0681              l_enemy_turn_00102:
1841  0681  3A 00 00    	ld	a,(_s_state)
1842  0684  E6 10       	and	a,0x10
1843  0686  28 57       	jr	Z,l_enemy_turn_00109
1844  0688  21 00 00    	ld	hl,_s_state
1845  068B  7E          	ld	a,(hl)
1846  068C  E6 02       	and	a,0x02
1847  068E  20 4F       	jr	NZ,l_enemy_turn_00109
1848  0690  7E          	ld	a,(hl)
1849  0691  E6 01       	and	a,0x01
1850  0693  20 4A       	jr	NZ,l_enemy_turn_00109
1851  0695  2A 00 00    	ld	hl,(_sprite)
1852  0698  26 00       	ld	h,0x00
1853  069A  29          	add	hl, hl
1854  069B  11 00 00    	ld	de,_last_time
1855  069E  19          	add	hl,de
1856  069F  4E          	ld	c,(hl)
1857  06A0  23          	inc	hl
1858  06A1  46          	ld	b,(hl)
1859  06A2  21 08 00    	ld	hl,0x0008
1860  06A5  E5          	push	hl
1861  06A6  C5          	push	bc
1862  06A7  CD 00 00    	call	_game_check_time
1863  06AA  F1          	pop	af
1864  06AB  F1          	pop	af
1865  06AC  7D          	ld	a,l
1866  06AD  B7          	or	a, a
1867  06AE  CA 34 07    	jp	Z,l_enemy_turn_00122
1868  06B1  2A 00 00    	ld	hl,(_sprite)
1869  06B4  26 00       	ld	h,0x00
1870  06B6  29          	add	hl,hl
1871  06B7  01 00 00    	ld	bc,_last_time
1872  06BA  09          	add	hl,bc
1873  06BB  ED 5B 00 00 	ld	de,(_curr_time)
1874  06BF  73          	ld	(hl),e
1875  06C0  23          	inc	hl
1876  06C1  72          	ld	(hl),d
1877  06C2  CD A5 0C    	call	_enemy_standard_hit
1878  06C5  2A 00 00    	ld	hl,(_sprite)
1879  06C8  26 00       	ld	h,0x00
1880  06CA  01 00 00    	ld	bc,_colint
1881  06CD  09          	add	hl,bc
1882  06CE  34          	inc	(hl)
1883  06CF  7E          	ld	a,(hl)
1884  06D0  4D          	ld	c,l
1885  06D1  44          	ld	b,h
1886  06D2  5F          	ld	e,a
1887  06D3  3E 02       	ld	a,0x02
1888  06D5  93          	sub	a, e
1889  06D6  30 02       	jr	NC,l_enemy_turn_00105
1890  06D8  AF          	xor	a, a
1891  06D9  02          	ld	(bc),a
1892  06DA              l_enemy_turn_00105:
1893  06DA  CD 00 00    	call	_spr_redraw
1894  06DD  18 55       	jr	l_enemy_turn_00122
1895  06DF              l_enemy_turn_00109:
1896  06DF  79          	ld	a,c
1897  06E0  D6 07       	sub	a,0x07
1898  06E2  38 3B       	jr	C,l_enemy_turn_00118
1899  06E4  3E 0C       	ld	a,0x0c
1900  06E6  91          	sub	a, c
1901  06E7  38 36       	jr	C,l_enemy_turn_00118
1902  06E9  79          	ld	a,c
1903  06EA  C6 F9       	add	a,0xf9
1904  06EC  5F          	ld	e,a
1905  06ED  16 00       	ld	d,0x00
1906  06EF  21 F5 06    	ld	hl,l_enemy_turn_00177
1907  06F2  19          	add	hl,de
1908  06F3  19          	add	hl,de
1909  06F4  E9          	jp	(hl)
1910  06F5              l_enemy_turn_00177:
1911  06F5  18 19       	jr	l_enemy_turn_00115
1912  06F7  18 1C       	jr	l_enemy_turn_00116
1913  06F9  18 10       	jr	l_enemy_turn_00114
1914  06FB  18 04       	jr	l_enemy_turn_00112
1915  06FD  18 07       	jr	l_enemy_turn_00113
1916  06FF  18 19       	jr	l_enemy_turn_00117
1917  0701              l_enemy_turn_00112:
1918  0701  CD 50 09    	call	_enemy_fireball_red
1919  0704  18 1C       	jr	l_enemy_turn_00119
1920  0706              l_enemy_turn_00113:
1921  0706  CD 24 0A    	call	_enemy_fireball_green
1922  0709  18 17       	jr	l_enemy_turn_00119
1923  070B              l_enemy_turn_00114:
1924  070B  CD CD 0A    	call	_enemy_fighterfly
1925  070E  18 12       	jr	l_enemy_turn_00119
1926  0710              l_enemy_turn_00115:
1927  0710  CD AA 07    	call	_enemy_slipice
1928  0713  18 0D       	jr	l_enemy_turn_00119
1929  0715              l_enemy_turn_00116:
1930  0715  CD 00 00    	call	_enemy_coin1
1931  0718  18 08       	jr	l_enemy_turn_00119
1932  071A              l_enemy_turn_00117:
1933  071A  CD 42 00    	call	_enemy_coin2
1934  071D  18 03       	jr	l_enemy_turn_00119
1935  071F              l_enemy_turn_00118:
1936  071F  CD 3F 07    	call	_enemy_standard
1937  0722              l_enemy_turn_00119:
1938  0722  CD 00 00    	call	_spr_redraw
1939  0725  3A 00 00    	ld	a,(_sprite)
1940  0728  C6 00       	add	a,+((_state) & 0xFF)
1941  072A  4F          	ld	c,a
1942  072B  3E 00       	ld	a,+((_state) / 256)
1943  072D  CE 00       	adc	a,0x00
1944  072F  47          	ld	b,a
1945  0730  3A 00 00    	ld	a,(_s_state)
1946  0733  02          	ld	(bc),a
1947  0734              l_enemy_turn_00122:
1948  0734  21 00 00    	ld	hl,_sprite
1949  0737  34          	inc	(hl)
1950  0738  7E          	ld	a,(hl)
1951  0739  D6 06       	sub	a,0x06
1952  073B  DA 18 06    	jp	C,l_enemy_turn_00124
1953  073E  C9          	ret
1954  073F              ;	---------------------------------
1955  073F              ; Function enemy_standard
1956  073F              ; ---------------------------------
1957  073F              _enemy_standard:
1958  073F  21 00 00    	ld	hl,_sprite
1959  0742  E5          	push	hl
1960  0743  CD 00 00    	call	_spr_chktime
1961  0746  F1          	pop	af
1962  0747  7D          	ld	a,l
1963  0748  B7          	or	a, a
1964  0749  28 5E       	jr	Z,l_enemy_standard_00110
1965  074B  3A 00 00    	ld	a,(_s_state)
1966  074E  0F          	rrca
1967  074F  38 12       	jr	C,l_enemy_standard_00106
1968  0751  3A 00 00    	ld	a,(_sprite)
1969  0754  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1970  0756  4F          	ld	c,a
1971  0757  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1972  0759  CE 00       	adc	a,0x00
1973  075B  47          	ld	b,a
1974  075C  AF          	xor	a, a
1975  075D  02          	ld	(bc),a
1976  075E  CD AF 0D    	call	_enemy_walk
1977  0761  18 43       	jr	l_enemy_standard_00107
1978  0763              l_enemy_standard_00106:
1979  0763  3A 00 00    	ld	a,(_sprite)
1980  0766  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1981  0768  4F          	ld	c,a
1982  0769  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1983  076B  CE 00       	adc	a,0x00
1984  076D  47          	ld	b,a
1985  076E  3E 01       	ld	a,0x01
1986  0770  02          	ld	(bc),a
1987  0771  CD 00 00    	call	_spr_move_horizontal
1988  0774  CD 00 00    	call	_spr_move_up
1989  0777  3A 00 00    	ld	a,(_s_state)
1990  077A  0F          	rrca
1991  077B  30 29       	jr	NC,l_enemy_standard_00107
1992  077D  2A 00 00    	ld	hl,(_sprite)
1993  0780  26 00       	ld	h,0x00
1994  0782  5D          	ld	e,l
1995  0783  01 00 00    	ld	bc,_jump_lin
1996  0786  09          	add	hl,bc
1997  0787  4E          	ld	c,(hl)
1998  0788  06 00       	ld	b,0x00
1999  078A  50          	ld	d,b
2000  078B  21 00 00    	ld	hl,_lin
2001  078E  19          	add	hl,de
2002  078F  5E          	ld	e, (hl)
2003  0790  16 00       	ld	d,0x00
2004  0792  79          	ld	a,c
2005  0793  93          	sub	a, e
2006  0794  4F          	ld	c,a
2007  0795  78          	ld	a,b
2008  0796  9A          	sbc	a, d
2009  0797  47          	ld	b,a
2010  0798  79          	ld	a,c
2011  0799  D6 0C       	sub	a,0x0c
2012  079B  78          	ld	a,b
2013  079C  17          	rla
2014  079D  3F          	ccf
2015  079E  1F          	rra
2016  079F  DE 80       	sbc	a,0x80
2017  07A1  38 03       	jr	C,l_enemy_standard_00107
2018  07A3  CD 00 00    	call	_spr_set_fall
2019  07A6              l_enemy_standard_00107:
2020  07A6  CD 9E 0B    	call	_enemy_trip
2021  07A9              l_enemy_standard_00110:
2022  07A9  C9          	ret
2023  07AA              ;	---------------------------------
2024  07AA              ; Function enemy_slipice
2025  07AA              ; ---------------------------------
2026  07AA              _enemy_slipice:
2027  07AA  21 00 00    	ld	hl,_sprite
2028  07AD  E5          	push	hl
2029  07AE  CD 00 00    	call	_spr_chktime
2030  07B1  F1          	pop	af
2031  07B2  7D          	ld	a,l
2032  07B3  B7          	or	a, a
2033  07B4  CA 4F 09    	jp	Z,l_enemy_slipice_00127
2034  07B7  3A 00 00    	ld	a,(_phase_left)
2035  07BA  B7          	or	a, a
2036  07BB  CA 4F 09    	jp	Z,l_enemy_slipice_00127
2037  07BE  3A 00 00    	ld	a,(_sprite)
2038  07C1  C6 00       	add	a,+((_state) & 0xFF)
2039  07C3  4F          	ld	c,a
2040  07C4  3E 00       	ld	a,+((_state) / 256)
2041  07C6  CE 00       	adc	a,0x00
2042  07C8  47          	ld	b,a
2043  07C9  0A          	ld	a,(bc)
2044  07CA  CB 77       	bit	6, a
2045  07CC  CA 71 08    	jp	Z,l_enemy_slipice_00122
2046  07CF  76          	halt
2047  07D0  3E 00       	ld	a,+((_col) & 0xFF)
2048  07D2  21 00 00    	ld	hl,_sprite
2049  07D5  86          	add	a, (hl)
2050  07D6  4F          	ld	c,a
2051  07D7  3E 00       	ld	a,+((_col) / 256)
2052  07D9  CE 00       	adc	a,0x00
2053  07DB  47          	ld	b,a
2054  07DC  0A          	ld	a,(bc)
2055  07DD  57          	ld	d,a
2056  07DE  3E 00       	ld	a,+((_lin) & 0xFF)
2057  07E0  86          	add	a, (hl)
2058  07E1  4F          	ld	c,a
2059  07E2  3E 00       	ld	a,+((_lin) / 256)
2060  07E4  CE 00       	adc	a,0x00
2061  07E6  47          	ld	b,a
2062  07E7  0A          	ld	a,(bc)
2063  07E8  C6 08       	add	a,0x08
2064  07EA  5F          	ld	e,a
2065  07EB  3E 00       	ld	a,+((_colint) & 0xFF)
2066  07ED  86          	add	a, (hl)
2067  07EE  4F          	ld	c,a
2068  07EF  3E 00       	ld	a,+((_colint) / 256)
2069  07F1  CE 00       	adc	a,0x00
2070  07F3  47          	ld	b,a
2071  07F4  0A          	ld	a,(bc)
2072  07F5  C6 8D       	add	a,0x8d
2073  07F7  47          	ld	b,a
2074  07F8  D5          	push	de
2075  07F9  C5          	push	bc
2076  07FA  33          	inc	sp
2077  07FB  CD 00 00    	call	_NIRVANAP_drawT_callee
2078  07FE  2A 00 00    	ld	hl,(_sprite)
2079  0801  26 00       	ld	h,0x00
2080  0803  01 00 00    	ld	bc,_colint
2081  0806  09          	add	hl,bc
2082  0807  34          	inc	(hl)
2083  0808  7E          	ld	a,(hl)
2084  0809  4D          	ld	c,l
2085  080A  44          	ld	b,h
2086  080B  5F          	ld	e,a
2087  080C  3E 02       	ld	a,0x02
2088  080E  93          	sub	a, e
2089  080F  30 02       	jr	NC,l_enemy_slipice_00102
2090  0811  AF          	xor	a, a
2091  0812  02          	ld	(bc),a
2092  0813              l_enemy_slipice_00102:
2093  0813  2A 00 00    	ld	hl,(_sprite)
2094  0816  26 00       	ld	h,0x00
2095  0818  29          	add	hl, hl
2096  0819  11 00 00    	ld	de,_spr_timer
2097  081C  19          	add	hl,de
2098  081D  4E          	ld	c,(hl)
2099  081E  23          	inc	hl
2100  081F  46          	ld	b,(hl)
2101  0820  21 28 00    	ld	hl,0x0028
2102  0823  E5          	push	hl
2103  0824  C5          	push	bc
2104  0825  CD 00 00    	call	_game_check_time
2105  0828  F1          	pop	af
2106  0829  F1          	pop	af
2107  082A  7D          	ld	a,l
2108  082B  B7          	or	a, a
2109  082C  CA 4F 09    	jp	Z,l_enemy_slipice_00127
2110  082F  2A 00 00    	ld	hl,(_sprite)
2111  0832  26 00       	ld	h,0x00
2112  0834  5D          	ld	e,l
2113  0835  01 00 00    	ld	bc,_col
2114  0838  09          	add	hl,bc
2115  0839  46          	ld	b,(hl)
2116  083A  16 00       	ld	d,0x00
2117  083C  21 00 00    	ld	hl,_lin
2118  083F  19          	add	hl,de
2119  0840  7E          	ld	a,(hl)
2120  0841  C6 18       	add	a,0x18
2121  0843  4F          	ld	c,a
2122  0844  C5          	push	bc
2123  0845  CD 00 00    	call	_game_freeze
2124  0848  F1          	pop	af
2125  0849  2A 00 00    	ld	hl,(_sprite)
2126  084C  26 00       	ld	h,0x00
2127  084E  5D          	ld	e,l
2128  084F  01 00 00    	ld	bc,_col
2129  0852  09          	add	hl,bc
2130  0853  46          	ld	b,(hl)
2131  0854  16 00       	ld	d,0x00
2132  0856  21 00 00    	ld	hl,_lin
2133  0859  19          	add	hl,de
2134  085A  7E          	ld	a,(hl)
2135  085B  C6 08       	add	a,0x08
2136  085D  4F          	ld	c,a
2137  085E  C5          	push	bc
2138  085F  AF          	xor	a, a
2139  0860  F5          	push	af
2140  0861  33          	inc	sp
2141  0862  CD 00 00    	call	_NIRVANAP_fillT_callee
2142  0865  3A 00 00    	ld	a,(_sprite)
2143  0868  F5          	push	af
2144  0869  33          	inc	sp
2145  086A  CD 00 00    	call	_spr_destroy
2146  086D  33          	inc	sp
2147  086E  C3 4F 09    	jp	l_enemy_slipice_00127
2148  0871              l_enemy_slipice_00122:
2149  0871  CB 47       	bit	0, a
2150  0873  C2 20 09    	jp	NZ,l_enemy_slipice_00110
2151  0876  CB 4F       	bit	1, a
2152  0878  C2 20 09    	jp	NZ,l_enemy_slipice_00110
2153  087B  2A 00 00    	ld	hl,(_sprite)
2154  087E  26 00       	ld	h,0x00
2155  0880  01 00 00    	ld	bc,_col
2156  0883  09          	add	hl,bc
2157  0884  7E          	ld	a,(hl)
2158  0885  4F          	ld	c,a
2159  0886  D6 07       	sub	a,0x07
2160  0888  28 0A       	jr	Z,l_enemy_slipice_00116
2161  088A  79          	ld	a,c
2162  088B  FE 0F       	cp	a,0x0f
2163  088D  28 05       	jr	Z,l_enemy_slipice_00116
2164  088F  D6 18       	sub	a,0x18
2165  0891  C2 20 09    	jp	NZ,l_enemy_slipice_00110
2166  0894              l_enemy_slipice_00116:
2167  0894  79          	ld	a,c
2168  0895  D6 88       	sub	a,0x88
2169  0897  D2 20 09    	jp	NC,l_enemy_slipice_00110
2170  089A  CD 00 00    	call	_rand
2171  089D  22 00 00    	ld	(_tmp_ui),hl
2172  08A0  3E 00       	ld	a,+((_col) & 0xFF)
2173  08A2  21 00 00    	ld	hl,_sprite
2174  08A5  86          	add	a, (hl)
2175  08A6  4F          	ld	c,a
2176  08A7  3E 00       	ld	a,+((_col) / 256)
2177  08A9  CE 00       	adc	a,0x00
2178  08AB  47          	ld	b,a
2179  08AC  0A          	ld	a,(bc)
2180  08AD  57          	ld	d,a
2181  08AE  4E          	ld	c,(hl)
2182  08AF  06 00       	ld	b,0x00
2183  08B1  21 00 00    	ld	hl,_lin
2184  08B4  09          	add	hl,bc
2185  08B5  7E          	ld	a,(hl)
2186  08B6  C6 10       	add	a,0x10
2187  08B8  5F          	ld	e, a
2188  08B9  D5          	push	de
2189  08BA  CD 00 00    	call	_game_calc_index
2190  08BD  F1          	pop	af
2191  08BE  22 00 00    	ld	(_index1),hl
2192  08C1  01 00 00    	ld	bc,_lvl_1
2193  08C4  09          	add	hl,bc
2194  08C5  7E          	ld	a,(hl)
2195  08C6  D6 12       	sub	a,0x12
2196  08C8  20 51       	jr	NZ,l_enemy_slipice_00106
2197  08CA  21 00 00    	ld	hl,_tmp_ui
2198  08CD  7E          	ld	a,(hl)
2199  08CE  D6 32       	sub	a,0x32
2200  08D0  23          	inc	hl
2201  08D1  7E          	ld	a,(hl)
2202  08D2  DE 33       	sbc	a,0x33
2203  08D4  30 45       	jr	NC,l_enemy_slipice_00106
2204  08D6  21 00 00    	ld	hl,_ay_effect_16
2205  08D9  CD 00 00    	call	_ay_fx_play
2206  08DC  21 00 00    	ld	hl,_s_state
2207  08DF  CB F6       	set	6, (hl)
2208  08E1  01 00 00    	ld	bc,_spr_timer+0
2209  08E4  2A 00 00    	ld	hl,(_sprite)
2210  08E7  26 00       	ld	h,0x00
2211  08E9  29          	add	hl, hl
2212  08EA  09          	add	hl,bc
2213  08EB  ED 5B 00 00 	ld	de,(_curr_time)
2214  08EF  73          	ld	(hl),e
2215  08F0  23          	inc	hl
2216  08F1  72          	ld	(hl),d
2217  08F2  2A 00 00    	ld	hl,(_sprite)
2218  08F5  26 00       	ld	h,0x00
2219  08F7  01 00 00    	ld	bc,_lin
2220  08FA  09          	add	hl,bc
2221  08FB  7E          	ld	a,(hl)
2222  08FC  C6 F8       	add	a,0xf8
2223  08FE  77          	ld	(hl),a
2224  08FF  3E 00       	ld	a,+((_colint) & 0xFF)
2225  0901  21 00 00    	ld	hl,_sprite
2226  0904  86          	add	a, (hl)
2227  0905  4F          	ld	c,a
2228  0906  3E 00       	ld	a,+((_colint) / 256)
2229  0908  CE 00       	adc	a,0x00
2230  090A  47          	ld	b,a
2231  090B  AF          	xor	a, a
2232  090C  02          	ld	(bc),a
2233  090D  3E 00       	ld	a,+((_tile) & 0xFF)
2234  090F  86          	add	a, (hl)
2235  0910  4F          	ld	c,a
2236  0911  3E 00       	ld	a,+((_tile) / 256)
2237  0913  CE 00       	adc	a,0x00
2238  0915  47          	ld	b,a
2239  0916  3E 7B       	ld	a,0x7b
2240  0918  02          	ld	(bc),a
2241  0919  18 08       	jr	l_enemy_slipice_00111
2242  091B              l_enemy_slipice_00106:
2243  091B  CD AF 0D    	call	_enemy_walk
2244  091E  18 03       	jr	l_enemy_slipice_00111
2245  0920              l_enemy_slipice_00110:
2246  0920  CD AF 0D    	call	_enemy_walk
2247  0923              l_enemy_slipice_00111:
2248  0923  2A 00 00    	ld	hl,(_sprite)
2249  0926  26 00       	ld	h,0x00
2250  0928  01 00 00    	ld	bc,_lin
2251  092B  09          	add	hl,bc
2252  092C  7E          	ld	a,(hl)
2253  092D  D6 98       	sub	a,0x98
2254  092F  20 1E       	jr	NZ,l_enemy_slipice_00127
2255  0931  3A 00 00    	ld	a,(_sprite)
2256  0934  4F          	ld	c,a
2257  0935  06 00       	ld	b,0x00
2258  0937  21 00 00    	ld	hl,_col
2259  093A  09          	add	hl,bc
2260  093B  7E          	ld	a,(hl)
2261  093C  4F          	ld	c,a
2262  093D  D6 03       	sub	a,0x03
2263  093F  28 05       	jr	Z,l_enemy_slipice_00117
2264  0941  79          	ld	a,c
2265  0942  D6 1B       	sub	a,0x1b
2266  0944  20 09       	jr	NZ,l_enemy_slipice_00127
2267  0946              l_enemy_slipice_00117:
2268  0946  3A 00 00    	ld	a,(_sprite)
2269  0949  F5          	push	af
2270  094A  33          	inc	sp
2271  094B  CD 00 00    	call	_spr_destroy
2272  094E  33          	inc	sp
2273  094F              l_enemy_slipice_00127:
2274  094F  C9          	ret
2275  0950              ;	---------------------------------
2276  0950              ; Function enemy_fireball_red
2277  0950              ; ---------------------------------
2278  0950              _enemy_fireball_red:
2279  0950  21 00 00    	ld	hl,_sprite
2280  0953  E5          	push	hl
2281  0954  CD 00 00    	call	_spr_chktime
2282  0957  F1          	pop	af
2283  0958  7D          	ld	a,l
2284  0959  B7          	or	a, a
2285  095A  CA 23 0A    	jp	Z,l_enemy_fireball_red_00119
2286  095D  3A 00 00    	ld	a,(_phase_left)
2287  0960  B7          	or	a, a
2288  0961  CA 23 0A    	jp	Z,l_enemy_fireball_red_00119
2289  0964  01 00 00    	ld	bc,_spr_timer+0
2290  0967  2A 00 00    	ld	hl,(_sprite)
2291  096A  26 00       	ld	h,0x00
2292  096C  29          	add	hl, hl
2293  096D  09          	add	hl,bc
2294  096E  5E          	ld	e,(hl)
2295  096F  23          	inc	hl
2296  0970  56          	ld	d,(hl)
2297  0971  C5          	push	bc
2298  0972  21 DC 05    	ld	hl,0x05dc
2299  0975  E5          	push	hl
2300  0976  D5          	push	de
2301  0977  CD 00 00    	call	_game_check_time
2302  097A  F1          	pop	af
2303  097B  F1          	pop	af
2304  097C  C1          	pop	bc
2305  097D  7D          	ld	a,l
2306  097E  B7          	or	a, a
2307  097F  28 16       	jr	Z,l_enemy_fireball_red_00114
2308  0981  2A 00 00    	ld	hl,(_sprite)
2309  0984  26 00       	ld	h,0x00
2310  0986  29          	add	hl, hl
2311  0987  09          	add	hl,bc
2312  0988  ED 5B 00 00 	ld	de,(_curr_time)
2313  098C  73          	ld	(hl),e
2314  098D  23          	inc	hl
2315  098E  72          	ld	(hl),d
2316  098F  21 00 00    	ld	hl,_s_state
2317  0992  CB EE       	set	5, (hl)
2318  0994  C3 23 0A    	jp	l_enemy_fireball_red_00119
2319  0997              l_enemy_fireball_red_00114:
2320  0997  3A 00 00    	ld	a,(_s_state)
2321  099A  0F          	rrca
2322  099B  30 0A       	jr	NC,l_enemy_fireball_red_00104
2323  099D  CD 00 00    	call	_spr_move_up
2324  09A0  21 00 00    	ld	hl,_tmp
2325  09A3  36 00       	ld	(hl),0x00
2326  09A5  18 14       	jr	l_enemy_fireball_red_00105
2327  09A7              l_enemy_fireball_red_00104:
2328  09A7  CD 00 00    	call	_spr_move_down
2329  09AA  21 00 00    	ld	hl,_tmp
2330  09AD  36 10       	ld	(hl),0x10
2331  09AF  3A 00 00    	ld	a,(_s_state)
2332  09B2  E6 02       	and	a,0x02
2333  09B4  20 05       	jr	NZ,l_enemy_fireball_red_00105
2334  09B6  21 00 00    	ld	hl,_s_state
2335  09B9  CB C6       	set	0, (hl)
2336  09BB              l_enemy_fireball_red_00105:
2337  09BB  CD 00 00    	call	_spr_move_horizontal
2338  09BE  3A 00 00    	ld	a,(_s_state)
2339  09C1  E6 04       	and	a,0x04
2340  09C3  28 13       	jr	Z,l_enemy_fireball_red_00107
2341  09C5  3A 00 00    	ld	a,(_sprite)
2342  09C8  C6 00       	add	a,+((_col) & 0xFF)
2343  09CA  4F          	ld	c,a
2344  09CB  3E 00       	ld	a,+((_col) / 256)
2345  09CD  CE 00       	adc	a,0x00
2346  09CF  47          	ld	b,a
2347  09D0  0A          	ld	a,(bc)
2348  09D1  C6 02       	add	a,0x02
2349  09D3  32 00 00    	ld	(_s_col1),a
2350  09D6  18 11       	jr	l_enemy_fireball_red_00108
2351  09D8              l_enemy_fireball_red_00107:
2352  09D8  3A 00 00    	ld	a,(_sprite)
2353  09DB  C6 00       	add	a,+((_col) & 0xFF)
2354  09DD  4F          	ld	c,a
2355  09DE  3E 00       	ld	a,+((_col) / 256)
2356  09E0  CE 00       	adc	a,0x00
2357  09E2  47          	ld	b,a
2358  09E3  0A          	ld	a,(bc)
2359  09E4  C6 FF       	add	a,0xff
2360  09E6  32 00 00    	ld	(_s_col1),a
2361  09E9              l_enemy_fireball_red_00108:
2362  09E9  2A 00 00    	ld	hl,(_sprite)
2363  09EC  26 00       	ld	h,0x00
2364  09EE  01 00 00    	ld	bc,_lin
2365  09F1  09          	add	hl,bc
2366  09F2  4E          	ld	c, (hl)
2367  09F3  3A 00 00    	ld	a, (_s_col1)
2368  09F6  47          	ld	b,a
2369  09F7  C5          	push	bc
2370  09F8  CD 00 00    	call	_game_calc_index
2371  09FB  F1          	pop	af
2372  09FC  22 00 00    	ld	(_index1),hl
2373  09FF  01 00 00    	ld	bc,_lvl_1
2374  0A02  09          	add	hl,bc
2375  0A03  7E          	ld	a,(hl)
2376  0A04  D6 BF       	sub	a,0xbf
2377  0A06  30 14       	jr	NC,l_enemy_fireball_red_00109
2378  0A08  2A 00 00    	ld	hl,(_sprite)
2379  0A0B  26 00       	ld	h,0x00
2380  0A0D  01 00 00    	ld	bc,_col
2381  0A10  09          	add	hl,bc
2382  0A11  7E          	ld	a,(hl)
2383  0A12  4F          	ld	c,a
2384  0A13  D6 02       	sub	a,0x02
2385  0A15  38 05       	jr	C,l_enemy_fireball_red_00109
2386  0A17  3E 1D       	ld	a,0x1d
2387  0A19  91          	sub	a, c
2388  0A1A  30 07       	jr	NC,l_enemy_fireball_red_00119
2389  0A1C              l_enemy_fireball_red_00109:
2390  0A1C  21 00 00    	ld	hl,_s_state
2391  0A1F  7E          	ld	a,(hl)
2392  0A20  EE 0C       	xor	a,+(0x04^0x08)
2393  0A22  77          	ld	(hl),a
2394  0A23              l_enemy_fireball_red_00119:
2395  0A23  C9          	ret
2396  0A24              ;	---------------------------------
2397  0A24              ; Function enemy_fireball_green
2398  0A24              ; ---------------------------------
2399  0A24              _enemy_fireball_green:
2400  0A24  21 00 00    	ld	hl,_sprite
2401  0A27  E5          	push	hl
2402  0A28  CD 00 00    	call	_spr_chktime
2403  0A2B  F1          	pop	af
2404  0A2C  7D          	ld	a,l
2405  0A2D  B7          	or	a, a
2406  0A2E  CA CC 0A    	jp	Z,l_enemy_fireball_green_00114
2407  0A31  3A 00 00    	ld	a,(_phase_left)
2408  0A34  B7          	or	a, a
2409  0A35  CA CC 0A    	jp	Z,l_enemy_fireball_green_00114
2410  0A38  2A 00 00    	ld	hl,(_sprite)
2411  0A3B  26 00       	ld	h,0x00
2412  0A3D  5D          	ld	e,l
2413  0A3E  01 00 00    	ld	bc,_jump_lin
2414  0A41  09          	add	hl,bc
2415  0A42  4E          	ld	c,(hl)
2416  0A43  06 00       	ld	b,0x00
2417  0A45  50          	ld	d,b
2418  0A46  21 00 00    	ld	hl,_lin
2419  0A49  19          	add	hl,de
2420  0A4A  5E          	ld	e, (hl)
2421  0A4B  16 00       	ld	d,0x00
2422  0A4D  79          	ld	a,c
2423  0A4E  93          	sub	a, e
2424  0A4F  6F          	ld	l,a
2425  0A50  78          	ld	a,b
2426  0A51  9A          	sbc	a, d
2427  0A52  67          	ld	h,a
2428  0A53  CD 00 00    	call	_abs_fastcall
2429  0A56  22 00 00    	ld	(_index1),hl
2430  0A59  3E 08       	ld	a,0x08
2431  0A5B  21 00 00    	ld	hl,_index1
2432  0A5E  BE          	cp	a, (hl)
2433  0A5F  3E 00       	ld	a,0x00
2434  0A61  23          	inc	hl
2435  0A62  9E          	sbc	a, (hl)
2436  0A63  30 1C       	jr	NC,l_enemy_fireball_green_00102
2437  0A65  21 00 00    	ld	hl,_s_state
2438  0A68  7E          	ld	a,(hl)
2439  0A69  EE 03       	xor	a,+(0x01^0x02)
2440  0A6B  77          	ld	(hl),a
2441  0A6C  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2442  0A6E  21 00 00    	ld	hl,_sprite
2443  0A71  86          	add	a, (hl)
2444  0A72  4F          	ld	c,a
2445  0A73  3E 00       	ld	a,+((_jump_lin) / 256)
2446  0A75  CE 00       	adc	a,0x00
2447  0A77  47          	ld	b,a
2448  0A78  5E          	ld	e,(hl)
2449  0A79  16 00       	ld	d,0x00
2450  0A7B  21 00 00    	ld	hl,_lin
2451  0A7E  19          	add	hl,de
2452  0A7F  7E          	ld	a,(hl)
2453  0A80  02          	ld	(bc),a
2454  0A81              l_enemy_fireball_green_00102:
2455  0A81  3A 00 00    	ld	a,(_s_state)
2456  0A84  0F          	rrca
2457  0A85  30 08       	jr	NC,l_enemy_fireball_green_00104
2458  0A87  CD 00 00    	call	_spr_move_horizontal
2459  0A8A  CD 00 00    	call	_spr_move_up
2460  0A8D  18 06       	jr	l_enemy_fireball_green_00105
2461  0A8F              l_enemy_fireball_green_00104:
2462  0A8F  CD 00 00    	call	_spr_move_horizontal
2463  0A92  CD 00 00    	call	_spr_move_down
2464  0A95              l_enemy_fireball_green_00105:
2465  0A95  3A 00 00    	ld	a,(_sprite)
2466  0A98  C6 00       	add	a,+((_col) & 0xFF)
2467  0A9A  4F          	ld	c,a
2468  0A9B  3E 00       	ld	a,+((_col) / 256)
2469  0A9D  CE 00       	adc	a,0x00
2470  0A9F  47          	ld	b,a
2471  0AA0  0A          	ld	a,(bc)
2472  0AA1  B7          	or	a, a
2473  0AA2  20 07       	jr	NZ,l_enemy_fireball_green_00110
2474  0AA4  3A 00 00    	ld	a,(_s_state)
2475  0AA7  E6 08       	and	a,0x08
2476  0AA9  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2477  0AAB              l_enemy_fireball_green_00110:
2478  0AAB  D6 1E       	sub	a,0x1e
2479  0AAD  20 1D       	jr	NZ,l_enemy_fireball_green_00114
2480  0AAF  3A 00 00    	ld	a,(_s_state)
2481  0AB2  E6 04       	and	a,0x04
2482  0AB4  28 16       	jr	Z,l_enemy_fireball_green_00114
2483  0AB6              l_enemy_fireball_green_00106:
2484  0AB6  01 00 00    	ld	bc,_spr_timer+0
2485  0AB9  2A 00 00    	ld	hl,(_sprite)
2486  0ABC  26 00       	ld	h,0x00
2487  0ABE  29          	add	hl, hl
2488  0ABF  09          	add	hl,bc
2489  0AC0  ED 5B 00 00 	ld	de,(_curr_time)
2490  0AC4  73          	ld	(hl),e
2491  0AC5  23          	inc	hl
2492  0AC6  72          	ld	(hl),d
2493  0AC7  21 00 00    	ld	hl,_s_state
2494  0ACA  CB EE       	set	5, (hl)
2495  0ACC              l_enemy_fireball_green_00114:
2496  0ACC  C9          	ret
2497  0ACD              ;	---------------------------------
2498  0ACD              ; Function enemy_fighterfly
2499  0ACD              ; ---------------------------------
2500  0ACD              _enemy_fighterfly:
2501  0ACD  21 00 00    	ld	hl,_sprite
2502  0AD0  E5          	push	hl
2503  0AD1  CD 00 00    	call	_spr_chktime
2504  0AD4  F1          	pop	af
2505  0AD5  7D          	ld	a,l
2506  0AD6  B7          	or	a, a
2507  0AD7  CA 9D 0B    	jp	Z,l_enemy_fighterfly_00119
2508  0ADA  3A 00 00    	ld	a,(_s_state)
2509  0ADD  0F          	rrca
2510  0ADE  38 58       	jr	C,l_enemy_fighterfly_00106
2511  0AE0  3A 00 00    	ld	a,(_s_state)
2512  0AE3  E6 02       	and	a,0x02
2513  0AE5  20 51       	jr	NZ,l_enemy_fighterfly_00106
2514  0AE7  CD 00 00    	call	_ay_is_playing
2515  0AEA  7D          	ld	a, l
2516  0AEB  D6 02       	sub	a,0x02
2517  0AED  30 06       	jr	NC,l_enemy_fighterfly_00102
2518  0AEF  21 00 00    	ld	hl,_ay_effect_13
2519  0AF2  CD 00 00    	call	_ay_fx_play
2520  0AF5              l_enemy_fighterfly_00102:
2521  0AF5  2A 00 00    	ld	hl,(_sprite)
2522  0AF8  26 00       	ld	h,0x00
2523  0AFA  29          	add	hl, hl
2524  0AFB  11 00 00    	ld	de,_spr_timer
2525  0AFE  19          	add	hl,de
2526  0AFF  4E          	ld	c,(hl)
2527  0B00  23          	inc	hl
2528  0B01  46          	ld	b,(hl)
2529  0B02  21 1A 00    	ld	hl,0x001a
2530  0B05  E5          	push	hl
2531  0B06  C5          	push	bc
2532  0B07  CD 00 00    	call	_game_check_time
2533  0B0A  F1          	pop	af
2534  0B0B  F1          	pop	af
2535  0B0C  7D          	ld	a,l
2536  0B0D  B7          	or	a, a
2537  0B0E  28 28       	jr	Z,l_enemy_fighterfly_00106
2538  0B10  21 00 00    	ld	hl,_s_state
2539  0B13  CB C6       	set	0, (hl)
2540  0B15  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2541  0B17  21 00 00    	ld	hl,_sprite
2542  0B1A  86          	add	a, (hl)
2543  0B1B  4F          	ld	c,a
2544  0B1C  3E 00       	ld	a,+((_jump_lin) / 256)
2545  0B1E  CE 00       	adc	a,0x00
2546  0B20  47          	ld	b,a
2547  0B21  3E 00       	ld	a,+((_lin) & 0xFF)
2548  0B23  86          	add	a, (hl)
2549  0B24  5F          	ld	e,a
2550  0B25  3E 00       	ld	a,+((_lin) / 256)
2551  0B27  CE 00       	adc	a,0x00
2552  0B29  57          	ld	d,a
2553  0B2A  1A          	ld	a,(de)
2554  0B2B  02          	ld	(bc),a
2555  0B2C  6E          	ld	l, (hl)
2556  0B2D  26 00       	ld	h,0x00
2557  0B2F  29          	add	hl, hl
2558  0B30  11 00 00    	ld	de,_spr_timer
2559  0B33  19          	add	hl,de
2560  0B34  AF          	xor	a, a
2561  0B35  77          	ld	(hl), a
2562  0B36  23          	inc	hl
2563  0B37  77          	ld	(hl), a
2564  0B38              l_enemy_fighterfly_00106:
2565  0B38  3A 00 00    	ld	a,(_s_state)
2566  0B3B  0F          	rrca
2567  0B3C  30 31       	jr	NC,l_enemy_fighterfly_00115
2568  0B3E  2A 00 00    	ld	hl,(_sprite)
2569  0B41  26 00       	ld	h,0x00
2570  0B43  5D          	ld	e,l
2571  0B44  01 00 00    	ld	bc,_jump_lin
2572  0B47  09          	add	hl,bc
2573  0B48  4E          	ld	c,(hl)
2574  0B49  06 00       	ld	b,0x00
2575  0B4B  50          	ld	d,b
2576  0B4C  21 00 00    	ld	hl,_lin
2577  0B4F  19          	add	hl,de
2578  0B50  5E          	ld	e, (hl)
2579  0B51  16 00       	ld	d,0x00
2580  0B53  79          	ld	a,c
2581  0B54  93          	sub	a, e
2582  0B55  4F          	ld	c,a
2583  0B56  78          	ld	a,b
2584  0B57  9A          	sbc	a, d
2585  0B58  47          	ld	b,a
2586  0B59  79          	ld	a,c
2587  0B5A  D6 08       	sub	a,0x08
2588  0B5C  78          	ld	a,b
2589  0B5D  17          	rla
2590  0B5E  3F          	ccf
2591  0B5F  1F          	rra
2592  0B60  DE 80       	sbc	a,0x80
2593  0B62  38 03       	jr	C,l_enemy_fighterfly_00109
2594  0B64  CD 00 00    	call	_spr_set_fall
2595  0B67              l_enemy_fighterfly_00109:
2596  0B67  CD 00 00    	call	_spr_move_horizontal
2597  0B6A  CD 00 00    	call	_spr_move_up
2598  0B6D  18 2B       	jr	l_enemy_fighterfly_00116
2599  0B6F              l_enemy_fighterfly_00115:
2600  0B6F  01 00 00    	ld	bc,_spr_timer+0
2601  0B72  2A 00 00    	ld	hl,(_sprite)
2602  0B75  26 00       	ld	h,0x00
2603  0B77  54          	ld	d,h
2604  0B78  29          	add	hl, hl
2605  0B79  09          	add	hl,bc
2606  0B7A  4D          	ld	c,l
2607  0B7B  44          	ld	b,h
2608  0B7C  5E          	ld	e,(hl)
2609  0B7D  23          	inc	hl
2610  0B7E  7E          	ld	a, (hl)
2611  0B7F  B3          	or	a,e
2612  0B80  20 0B       	jr	NZ,l_enemy_fighterfly_00111
2613  0B82  2A 00 00    	ld	hl,(_curr_time)
2614  0B85  C5          	push	bc
2615  0B86  EB          	ex	de,hl
2616  0B87  C1          	pop	bc
2617  0B88  7B          	ld	a,e
2618  0B89  02          	ld	(bc),a
2619  0B8A  03          	inc	bc
2620  0B8B  7A          	ld	a,d
2621  0B8C  02          	ld	(bc),a
2622  0B8D              l_enemy_fighterfly_00111:
2623  0B8D  3A 00 00    	ld	a,(_s_state)
2624  0B90  E6 02       	and	a,0x02
2625  0B92  28 06       	jr	Z,l_enemy_fighterfly_00116
2626  0B94  CD AF 0D    	call	_enemy_walk
2627  0B97  CD 00 00    	call	_spr_move_horizontal
2628  0B9A              l_enemy_fighterfly_00116:
2629  0B9A  CD 9E 0B    	call	_enemy_trip
2630  0B9D              l_enemy_fighterfly_00119:
2631  0B9D  C9          	ret
2632  0B9E              ;	---------------------------------
2633  0B9E              ; Function enemy_trip
2634  0B9E              ; ---------------------------------
2635  0B9E              _enemy_trip:
2636  0B9E  2A 00 00    	ld	hl,(_sprite)
2637  0BA1  26 00       	ld	h,0x00
2638  0BA3  01 00 00    	ld	bc,_lin
2639  0BA6  09          	add	hl,bc
2640  0BA7  46          	ld	b,(hl)
2641  0BA8  3E 80       	ld	a,0x80
2642  0BAA  90          	sub	a, b
2643  0BAB  D2 A4 0C    	jp	NC,l_enemy_trip_00114
2644  0BAE  21 00 00    	ld	hl,_tmp
2645  0BB1  36 00       	ld	(hl),0x00
2646  0BB3  2A 00 00    	ld	hl,(_sprite)
2647  0BB6  26 00       	ld	h,0x00
2648  0BB8  11 00 00    	ld	de,_col
2649  0BBB  19          	add	hl,de
2650  0BBC  7E          	ld	a,(hl)
2651  0BBD  57          	ld	d,a
2652  0BBE  D6 1B       	sub	a,0x1b
2653  0BC0  20 41       	jr	NZ,l_enemy_trip_00104
2654  0BC2  21 00 00    	ld	hl,_tmp
2655  0BC5  36 01       	ld	(hl),0x01
2656  0BC7  15          	dec	d
2657  0BC8  58          	ld	e,b
2658  0BC9  D5          	push	de
2659  0BCA  AF          	xor	a, a
2660  0BCB  F5          	push	af
2661  0BCC  33          	inc	sp
2662  0BCD  CD 00 00    	call	_NIRVANAP_fillT_callee
2663  0BD0  3E 00       	ld	a,+((_lin) & 0xFF)
2664  0BD2  21 00 00    	ld	hl,_sprite
2665  0BD5  86          	add	a, (hl)
2666  0BD6  4F          	ld	c,a
2667  0BD7  3E 00       	ld	a,+((_lin) / 256)
2668  0BD9  CE 00       	adc	a,0x00
2669  0BDB  47          	ld	b,a
2670  0BDC  3E 10       	ld	a,0x10
2671  0BDE  02          	ld	(bc),a
2672  0BDF  3E 00       	ld	a,+((_col) & 0xFF)
2673  0BE1  86          	add	a, (hl)
2674  0BE2  4F          	ld	c,a
2675  0BE3  3E 00       	ld	a,+((_col) / 256)
2676  0BE5  CE 00       	adc	a,0x00
2677  0BE7  47          	ld	b,a
2678  0BE8  3E 1A       	ld	a,0x1a
2679  0BEA  02          	ld	(bc),a
2680  0BEB  21 00 00    	ld	hl,_s_state
2681  0BEE  CB DE       	set	3, (hl)
2682  0BF0  CB 96       	res	2, (hl)
2683  0BF2  CD 00 00    	call	_sound_enter_enemy
2684  0BF5  CD 00 00    	call	_ay_is_playing
2685  0BF8  7D          	ld	a, l
2686  0BF9  D6 02       	sub	a,0x02
2687  0BFB  30 06       	jr	NC,l_enemy_trip_00104
2688  0BFD  21 00 00    	ld	hl,_ay_effect_04
2689  0C00  CD 00 00    	call	_ay_fx_play
2690  0C03              l_enemy_trip_00104:
2691  0C03  2A 00 00    	ld	hl,(_sprite)
2692  0C06  26 00       	ld	h,0x00
2693  0C08  01 00 00    	ld	bc,_col
2694  0C0B  09          	add	hl,bc
2695  0C0C  7E          	ld	a,(hl)
2696  0C0D  47          	ld	b,a
2697  0C0E  D6 03       	sub	a,0x03
2698  0C10  20 4A       	jr	NZ,l_enemy_trip_00108
2699  0C12  21 00 00    	ld	hl,_tmp
2700  0C15  36 01       	ld	(hl),0x01
2701  0C17  04          	inc	b
2702  0C18  2A 00 00    	ld	hl,(_sprite)
2703  0C1B  26 00       	ld	h,0x00
2704  0C1D  11 00 00    	ld	de,_lin
2705  0C20  19          	add	hl,de
2706  0C21  4E          	ld	c, (hl)
2707  0C22  C5          	push	bc
2708  0C23  AF          	xor	a, a
2709  0C24  F5          	push	af
2710  0C25  33          	inc	sp
2711  0C26  CD 00 00    	call	_NIRVANAP_fillT_callee
2712  0C29  3E 00       	ld	a,+((_lin) & 0xFF)
2713  0C2B  21 00 00    	ld	hl,_sprite
2714  0C2E  86          	add	a, (hl)
2715  0C2F  4F          	ld	c,a
2716  0C30  3E 00       	ld	a,+((_lin) / 256)
2717  0C32  CE 00       	adc	a,0x00
2718  0C34  47          	ld	b,a
2719  0C35  3E 10       	ld	a,0x10
2720  0C37  02          	ld	(bc),a
2721  0C38  3E 00       	ld	a,+((_col) & 0xFF)
2722  0C3A  86          	add	a, (hl)
2723  0C3B  4F          	ld	c,a
2724  0C3C  3E 00       	ld	a,+((_col) / 256)
2725  0C3E  CE 00       	adc	a,0x00
2726  0C40  47          	ld	b,a
2727  0C41  3E 04       	ld	a,0x04
2728  0C43  02          	ld	(bc),a
2729  0C44  21 00 00    	ld	hl,_s_state
2730  0C47  CB D6       	set	2, (hl)
2731  0C49  CB 9E       	res	3, (hl)
2732  0C4B  CD 00 00    	call	_sound_enter_enemy
2733  0C4E  CD 00 00    	call	_ay_is_playing
2734  0C51  7D          	ld	a, l
2735  0C52  D6 02       	sub	a,0x02
2736  0C54  30 06       	jr	NC,l_enemy_trip_00108
2737  0C56  21 00 00    	ld	hl,_ay_effect_04
2738  0C59  CD 00 00    	call	_ay_fx_play
2739  0C5C              l_enemy_trip_00108:
2740  0C5C  3A 00 00    	ld	a,(_tmp)
2741  0C5F  B7          	or	a, a
2742  0C60  C8          	ret	Z
2743  0C61  2A 00 00    	ld	hl,(_sprite)
2744  0C64  26 00       	ld	h,0x00
2745  0C66  01 00 00    	ld	bc,_class
2746  0C69  09          	add	hl,bc
2747  0C6A  4E          	ld	c,(hl)
2748  0C6B  3E 03       	ld	a,0x03
2749  0C6D  91          	sub	a,c
2750  0C6E  D8          	ret	C
2751  0C6F  3E 00       	ld	a,+((_colint) & 0xFF)
2752  0C71  21 00 00    	ld	hl,_sprite
2753  0C74  86          	add	a, (hl)
2754  0C75  4F          	ld	c,a
2755  0C76  3E 00       	ld	a,+((_colint) / 256)
2756  0C78  CE 00       	adc	a,0x00
2757  0C7A  47          	ld	b,a
2758  0C7B  AF          	xor	a, a
2759  0C7C  02          	ld	(bc),a
2760  0C7D  3E 00       	ld	a,+((_state) & 0xFF)
2761  0C7F  86          	add	a, (hl)
2762  0C80  4F          	ld	c,a
2763  0C81  3E 00       	ld	a,+((_state) / 256)
2764  0C83  CE 00       	adc	a,0x00
2765  0C85  47          	ld	b,a
2766  0C86  3A 00 00    	ld	a,(_s_state)
2767  0C89  02          	ld	(bc),a
2768  0C8A  3E 00       	ld	a,+((_tile) & 0xFF)
2769  0C8C  21 00 00    	ld	hl,_sprite
2770  0C8F  86          	add	a, (hl)
2771  0C90  4F          	ld	c,a
2772  0C91  3E 00       	ld	a,+((_tile) / 256)
2773  0C93  CE 00       	adc	a,0x00
2774  0C95  47          	ld	b,a
2775  0C96  7E          	ld	a,(hl)
2776  0C97  C5          	push	bc
2777  0C98  F5          	push	af
2778  0C99  33          	inc	sp
2779  0C9A  CD 00 00    	call	_spr_tile
2780  0C9D  33          	inc	sp
2781  0C9E  C1          	pop	bc
2782  0C9F  7D          	ld	a, l
2783  0CA0  02          	ld	(bc),a
2784  0CA1  CD 00 00    	call	_spr_set_fall
2785  0CA4              l_enemy_trip_00114:
2786  0CA4  C9          	ret
2787  0CA5              ;	---------------------------------
2788  0CA5              ; Function enemy_standard_hit
2789  0CA5              ; ---------------------------------
2790  0CA5              _enemy_standard_hit:
2791  0CA5  3A 00 00    	ld	a,(_sprite)
2792  0CA8  C6 00       	add	a,+((_state) & 0xFF)
2793  0CAA  4F          	ld	c,a
2794  0CAB  3E 00       	ld	a,+((_state) / 256)
2795  0CAD  CE 00       	adc	a,0x00
2796  0CAF  47          	ld	b,a
2797  0CB0  0A          	ld	a,(bc)
2798  0CB1  07          	rlca
2799  0CB2  38 23       	jr	C,l_enemy_standard_hit_00102
2800  0CB4  2A 00 00    	ld	hl,(_game_time_flipped)
2801  0CB7  11 CE FF    	ld	de,0xffce
2802  0CBA  19          	add	hl,de
2803  0CBB  EB          	ex	de,hl
2804  0CBC  2A 00 00    	ld	hl,(_sprite)
2805  0CBF  26 00       	ld	h,0x00
2806  0CC1  29          	add	hl, hl
2807  0CC2  01 00 00    	ld	bc,_spr_timer
2808  0CC5  09          	add	hl,bc
2809  0CC6  4E          	ld	c,(hl)
2810  0CC7  23          	inc	hl
2811  0CC8  46          	ld	b,(hl)
2812  0CC9  D5          	push	de
2813  0CCA  C5          	push	bc
2814  0CCB  CD 00 00    	call	_game_check_time
2815  0CCE  F1          	pop	af
2816  0CCF  F1          	pop	af
2817  0CD0  7D          	ld	a,l
2818  0CD1  B7          	or	a, a
2819  0CD2  28 03       	jr	Z,l_enemy_standard_hit_00102
2820  0CD4  CD 12 0D    	call	_enemy_evolve
2821  0CD7              l_enemy_standard_hit_00102:
2822  0CD7  01 00 00    	ld	bc,_spr_timer+0
2823  0CDA  2A 00 00    	ld	hl,(_sprite)
2824  0CDD  26 00       	ld	h,0x00
2825  0CDF  29          	add	hl, hl
2826  0CE0  09          	add	hl,bc
2827  0CE1  4E          	ld	c,(hl)
2828  0CE2  23          	inc	hl
2829  0CE3  46          	ld	b,(hl)
2830  0CE4  2A 00 00    	ld	hl,(_game_time_flipped)
2831  0CE7  E5          	push	hl
2832  0CE8  C5          	push	bc
2833  0CE9  CD 00 00    	call	_game_check_time
2834  0CEC  F1          	pop	af
2835  0CED  F1          	pop	af
2836  0CEE  7D          	ld	a,l
2837  0CEF  B7          	or	a, a
2838  0CF0  C8          	ret	Z
2839  0CF1  3A 00 00    	ld	a,(_sprite)
2840  0CF4  32 00 00    	ld	(_enemies),a
2841  0CF7  F5          	push	af
2842  0CF8  33          	inc	sp
2843  0CF9  CD 00 00    	call	_spr_tile
2844  0CFC  33          	inc	sp
2845  0CFD  E5          	push	hl
2846  0CFE  CD B4 04    	call	_enemy_flip
2847  0D01  F1          	pop	af
2848  0D02  3A 00 00    	ld	a,(_sprite)
2849  0D05  C6 00       	add	a,+((_state) & 0xFF)
2850  0D07  4F          	ld	c,a
2851  0D08  3E 00       	ld	a,+((_state) / 256)
2852  0D0A  CE 00       	adc	a,0x00
2853  0D0C  47          	ld	b,a
2854  0D0D  0A          	ld	a,(bc)
2855  0D0E  32 00 00    	ld	(_s_state),a
2856  0D11  C9          	ret
2857  0D12              ;	---------------------------------
2858  0D12              ; Function enemy_evolve
2859  0D12              ; ---------------------------------
2860  0D12              _enemy_evolve:
2861  0D12  2A 00 00    	ld	hl,(_sprite)
2862  0D15  26 00       	ld	h,0x00
2863  0D17  01 00 00    	ld	bc,_class
2864  0D1A  09          	add	hl,bc
2865  0D1B  7E          	ld	a,(hl)
2866  0D1C  4F          	ld	c,a
2867  0D1D  3D          	dec	a
2868  0D1E  20 0F       	jr	NZ,l_enemy_evolve_00104
2869  0D20  21 3C 00    	ld	hl,0x003c
2870  0D23  E5          	push	hl
2871  0D24  3E 02       	ld	a,0x02
2872  0D26  F5          	push	af
2873  0D27  33          	inc	sp
2874  0D28  CD 71 0D    	call	_enemy_upgrade
2875  0D2B  F1          	pop	af
2876  0D2C  33          	inc	sp
2877  0D2D  18 12       	jr	l_enemy_evolve_00105
2878  0D2F              l_enemy_evolve_00104:
2879  0D2F  79          	ld	a,c
2880  0D30  D6 02       	sub	a,0x02
2881  0D32  20 0D       	jr	NZ,l_enemy_evolve_00105
2882  0D34  21 48 00    	ld	hl,0x0048
2883  0D37  E5          	push	hl
2884  0D38  3E 03       	ld	a,0x03
2885  0D3A  F5          	push	af
2886  0D3B  33          	inc	sp
2887  0D3C  CD 71 0D    	call	_enemy_upgrade
2888  0D3F  F1          	pop	af
2889  0D40  33          	inc	sp
2890  0D41              l_enemy_evolve_00105:
2891  0D41  2A 00 00    	ld	hl,(_sprite)
2892  0D44  26 00       	ld	h,0x00
2893  0D46  01 00 00    	ld	bc,_class
2894  0D49  09          	add	hl,bc
2895  0D4A  7E          	ld	a,(hl)
2896  0D4B  4F          	ld	c,a
2897  0D4C  D6 04       	sub	a,0x04
2898  0D4E  20 0F       	jr	NZ,l_enemy_evolve_00109
2899  0D50  21 60 00    	ld	hl,0x0060
2900  0D53  E5          	push	hl
2901  0D54  3E 05       	ld	a,0x05
2902  0D56  F5          	push	af
2903  0D57  33          	inc	sp
2904  0D58  CD 71 0D    	call	_enemy_upgrade
2905  0D5B  F1          	pop	af
2906  0D5C  33          	inc	sp
2907  0D5D  18 11       	jr	l_enemy_evolve_00111
2908  0D5F              l_enemy_evolve_00109:
2909  0D5F  79          	ld	a,c
2910  0D60  D6 05       	sub	a,0x05
2911  0D62  C0          	ret	NZ
2912  0D63  21 6C 00    	ld	hl,0x006c
2913  0D66  E5          	push	hl
2914  0D67  3E 06       	ld	a,0x06
2915  0D69  F5          	push	af
2916  0D6A  33          	inc	sp
2917  0D6B  CD 71 0D    	call	_enemy_upgrade
2918  0D6E  F1          	pop	af
2919  0D6F  33          	inc	sp
2920  0D70              l_enemy_evolve_00111:
2921  0D70  C9          	ret
2922  0D71              ;	---------------------------------
2923  0D71              ; Function enemy_upgrade
2924  0D71              ; ---------------------------------
2925  0D71              _enemy_upgrade:
2926  0D71  CD 00 00    	call	___sdcc_enter_ix
2927  0D74  3E 00       	ld	a,+((_class) & 0xFF)
2928  0D76  21 00 00    	ld	hl,_sprite
2929  0D79  86          	add	a, (hl)
2930  0D7A  4F          	ld	c,a
2931  0D7B  3E 00       	ld	a,+((_class) / 256)
2932  0D7D  CE 00       	adc	a,0x00
2933  0D7F  47          	ld	b,a
2934  0D80  DD 7E 04    	ld	a,(ix+4)
2935  0D83  02          	ld	(bc),a
2936  0D84  3E 00       	ld	a,+((_tile) & 0xFF)
2937  0D86  86          	add	a, (hl)
2938  0D87  4F          	ld	c,a
2939  0D88  3E 00       	ld	a,+((_tile) / 256)
2940  0D8A  CE 00       	adc	a,0x00
2941  0D8C  47          	ld	b,a
2942  0D8D  DD 7E 05    	ld	a,(ix+5)
2943  0D90  C6 06       	add	a,0x06
2944  0D92  02          	ld	(bc),a
2945  0D93  01 00 00    	ld	bc,_state+0
2946  0D96  79          	ld	a,c
2947  0D97  86          	add	a, (hl)
2948  0D98  5F          	ld	e,a
2949  0D99  78          	ld	a,b
2950  0D9A  CE 00       	adc	a,0x00
2951  0D9C  57          	ld	d,a
2952  0D9D  1A          	ld	a,(de)
2953  0D9E  CB FF       	set	7, a
2954  0DA0  12          	ld	(de),a
2955  0DA1  79          	ld	a,c
2956  0DA2  86          	add	a, (hl)
2957  0DA3  4F          	ld	c,a
2958  0DA4  78          	ld	a,b
2959  0DA5  CE 00       	adc	a,0x00
2960  0DA7  47          	ld	b,a
2961  0DA8  0A          	ld	a,(bc)
2962  0DA9  E6 BF       	and	a,0xbf
2963  0DAB  02          	ld	(bc),a
2964  0DAC  DD E1       	pop	ix
2965  0DAE  C9          	ret
2966  0DAF              ;	---------------------------------
2967  0DAF              ; Function enemy_walk
2968  0DAF              ; ---------------------------------
2969  0DAF              _enemy_walk:
2970  0DAF  3A 00 00    	ld	a,(_s_state)
2971  0DB2  0F          	rrca
2972  0DB3  38 4A       	jr	C,l_enemy_walk_00106
2973  0DB5  3A 00 00    	ld	a,(_s_state)
2974  0DB8  E6 02       	and	a,0x02
2975  0DBA  20 43       	jr	NZ,l_enemy_walk_00106
2976  0DBC  3A 00 00    	ld	a,(_sprite)
2977  0DBF  C6 00       	add	a,+((_col) & 0xFF)
2978  0DC1  4F          	ld	c,a
2979  0DC2  3E 00       	ld	a,+((_col) / 256)
2980  0DC4  CE 00       	adc	a,0x00
2981  0DC6  47          	ld	b,a
2982  0DC7  0A          	ld	a,(bc)
2983  0DC8  57          	ld	d,a
2984  0DC9  CB 47       	bit	0,a
2985  0DCB  28 14       	jr	Z,l_enemy_walk_00102
2986  0DCD  3A 00 00    	ld	a,(_s_state)
2987  0DD0  E6 10       	and	a,0x10
2988  0DD2  20 0D       	jr	NZ,l_enemy_walk_00102
2989  0DD4  21 00 00    	ld	hl,0x0000
2990  0DD7  22 00 00    	ld	(_index_d),hl
2991  0DDA  21 00 00    	ld	hl,_tmp
2992  0DDD  36 00       	ld	(hl),0x00
2993  0DDF  18 44       	jr	l_enemy_walk_00107
2994  0DE1              l_enemy_walk_00102:
2995  0DE1  3A 00 00    	ld	a,(_sprite)
2996  0DE4  C6 00       	add	a,+((_lin) & 0xFF)
2997  0DE6  4F          	ld	c,a
2998  0DE7  3E 00       	ld	a,+((_lin) / 256)
2999  0DE9  CE 00       	adc	a,0x00
3000  0DEB  47          	ld	b,a
3001  0DEC  0A          	ld	a,(bc)
3002  0DED  C6 10       	add	a,0x10
3003  0DEF  5F          	ld	e, a
3004  0DF0  D5          	push	de
3005  0DF1  CD 00 00    	call	_game_calc_index
3006  0DF4  E3          	ex	(sp),hl
3007  0DF5  CD 00 00    	call	_game_check_maze
3008  0DF8  F1          	pop	af
3009  0DF9  7D          	ld	a,l
3010  0DFA  32 00 00    	ld	(_tmp),a
3011  0DFD  18 26       	jr	l_enemy_walk_00107
3012  0DFF              l_enemy_walk_00106:
3013  0DFF  3E 00       	ld	a,+((_col) & 0xFF)
3014  0E01  21 00 00    	ld	hl,_sprite
3015  0E04  86          	add	a, (hl)
3016  0E05  4F          	ld	c,a
3017  0E06  3E 00       	ld	a,+((_col) / 256)
3018  0E08  CE 00       	adc	a,0x00
3019  0E0A  47          	ld	b,a
3020  0E0B  0A          	ld	a,(bc)
3021  0E0C  57          	ld	d,a
3022  0E0D  4E          	ld	c,(hl)
3023  0E0E  06 00       	ld	b,0x00
3024  0E10  21 00 00    	ld	hl,_lin
3025  0E13  09          	add	hl,bc
3026  0E14  7E          	ld	a,(hl)
3027  0E15  C6 10       	add	a,0x10
3028  0E17  5F          	ld	e, a
3029  0E18  D5          	push	de
3030  0E19  CD 00 00    	call	_game_calc_index
3031  0E1C  E3          	ex	(sp),hl
3032  0E1D  CD 00 00    	call	_game_check_maze
3033  0E20  F1          	pop	af
3034  0E21  7D          	ld	a,l
3035  0E22  32 00 00    	ld	(_tmp),a
3036  0E25              l_enemy_walk_00107:
3037  0E25  3A 00 00    	ld	a,(_tmp)
3038  0E28  B7          	or	a, a
3039  0E29  CA C5 0E    	jp	Z,l_enemy_walk_00135
3040  0E2C  3A 00 00    	ld	a,(_s_state)
3041  0E2F  0F          	rrca
3042  0E30  38 05       	jr	C,l_enemy_walk_00110
3043  0E32  21 00 00    	ld	hl,_s_state
3044  0E35  CB CE       	set	1, (hl)
3045  0E37              l_enemy_walk_00110:
3046  0E37  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3047  0E39  21 00 00    	ld	hl,_sprite
3048  0E3C  86          	add	a, (hl)
3049  0E3D  4F          	ld	c,a
3050  0E3E  3E 00       	ld	a,+((_jump_lin) / 256)
3051  0E40  CE 00       	adc	a,0x00
3052  0E42  47          	ld	b,a
3053  0E43  0A          	ld	a,(bc)
3054  0E44  B7          	or	a, a
3055  0E45  20 09       	jr	NZ,l_enemy_walk_00112
3056  0E47  5E          	ld	e,(hl)
3057  0E48  16 00       	ld	d,0x00
3058  0E4A  21 00 00    	ld	hl,_lin
3059  0E4D  19          	add	hl,de
3060  0E4E  7E          	ld	a,(hl)
3061  0E4F  02          	ld	(bc),a
3062  0E50              l_enemy_walk_00112:
3063  0E50  3A 00 00    	ld	a,(_s_state)
3064  0E53  E6 02       	and	a,0x02
3065  0E55  28 11       	jr	Z,l_enemy_walk_00114
3066  0E57  3A 00 00    	ld	a,(_sprite)
3067  0E5A  C6 00       	add	a,+((_lin) & 0xFF)
3068  0E5C  4F          	ld	c,a
3069  0E5D  3E 00       	ld	a,+((_lin) / 256)
3070  0E5F  CE 00       	adc	a,0x00
3071  0E61  47          	ld	b,a
3072  0E62  0A          	ld	a,(bc)
3073  0E63  C6 04       	add	a,0x04
3074  0E65  02          	ld	(bc),a
3075  0E66  18 0F       	jr	l_enemy_walk_00115
3076  0E68              l_enemy_walk_00114:
3077  0E68  3A 00 00    	ld	a,(_sprite)
3078  0E6B  C6 00       	add	a,+((_lin) & 0xFF)
3079  0E6D  4F          	ld	c,a
3080  0E6E  3E 00       	ld	a,+((_lin) / 256)
3081  0E70  CE 00       	adc	a,0x00
3082  0E72  47          	ld	b,a
3083  0E73  0A          	ld	a,(bc)
3084  0E74  C6 FC       	add	a,0xfc
3085  0E76  02          	ld	(bc),a
3086  0E77              l_enemy_walk_00115:
3087  0E77  2A 00 00    	ld	hl,(_sprite)
3088  0E7A  26 00       	ld	h,0x00
3089  0E7C  01 00 00    	ld	bc,_class
3090  0E7F  09          	add	hl,bc
3091  0E80  7E          	ld	a,(hl)
3092  0E81  D6 09       	sub	a,0x09
3093  0E83  CA A8 0F    	jp	Z,l_enemy_walk_00137
3094  0E86  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3095  0E88  21 00 00    	ld	hl,_sprite
3096  0E8B  86          	add	a, (hl)
3097  0E8C  4F          	ld	c,a
3098  0E8D  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3099  0E8F  CE 00       	adc	a,0x00
3100  0E91  47          	ld	b,a
3101  0E92  3E 02       	ld	a,0x02
3102  0E94  02          	ld	(bc),a
3103  0E95  3E 00       	ld	a,+((_lin) & 0xFF)
3104  0E97  86          	add	a, (hl)
3105  0E98  4F          	ld	c,a
3106  0E99  3E 00       	ld	a,+((_lin) / 256)
3107  0E9B  CE 00       	adc	a,0x00
3108  0E9D  47          	ld	b,a
3109  0E9E  0A          	ld	a,(bc)
3110  0E9F  4F          	ld	c,a
3111  0EA0  06 00       	ld	b,0x00
3112  0EA2  5E          	ld	e,(hl)
3113  0EA3  50          	ld	d,b
3114  0EA4  21 00 00    	ld	hl,_jump_lin
3115  0EA7  19          	add	hl,de
3116  0EA8  5E          	ld	e, (hl)
3117  0EA9  16 00       	ld	d,0x00
3118  0EAB  79          	ld	a,c
3119  0EAC  93          	sub	a, e
3120  0EAD  4F          	ld	c,a
3121  0EAE  78          	ld	a,b
3122  0EAF  9A          	sbc	a, d
3123  0EB0  47          	ld	b,a
3124  0EB1  3E 10       	ld	a,0x10
3125  0EB3  B9          	cp	a, c
3126  0EB4  3E 00       	ld	a,0x00
3127  0EB6  98          	sbc	a, b
3128  0EB7  E2 BC 0E    	jp	PO, l_enemy_walk_00218
3129  0EBA  EE 80       	xor	a,0x80
3130  0EBC              l_enemy_walk_00218:
3131  0EBC  FA A8 0F    	jp	M,l_enemy_walk_00137
3132  0EBF  CD 00 00    	call	_spr_move_horizontal
3133  0EC2  C3 A8 0F    	jp	l_enemy_walk_00137
3134  0EC5              l_enemy_walk_00135:
3135  0EC5  3A 00 00    	ld	a,(_sprite)
3136  0EC8  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
3137  0ECA  4F          	ld	c,a
3138  0ECB  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3139  0ECD  CE 00       	adc	a,0x00
3140  0ECF  47          	ld	b,a
3141  0ED0  AF          	xor	a, a
3142  0ED1  02          	ld	(bc),a
3143  0ED2  3A 00 00    	ld	a,(_s_state)
3144  0ED5  E6 02       	and	a,0x02
3145  0ED7  28 12       	jr	Z,l_enemy_walk_00121
3146  0ED9  21 00 00    	ld	hl,_s_state
3147  0EDC  CB 8E       	res	1, (hl)
3148  0EDE  3A 00 00    	ld	a,(_sprite)
3149  0EE1  C6 00       	add	a,+((_jump_lin) & 0xFF)
3150  0EE3  4F          	ld	c,a
3151  0EE4  3E 00       	ld	a,+((_jump_lin) / 256)
3152  0EE6  CE 00       	adc	a,0x00
3153  0EE8  47          	ld	b,a
3154  0EE9  AF          	xor	a, a
3155  0EEA  02          	ld	(bc),a
3156  0EEB              l_enemy_walk_00121:
3157  0EEB  3A 00 00    	ld	a,(_s_state)
3158  0EEE  E6 10       	and	a,0x10
3159  0EF0  20 41       	jr	NZ,l_enemy_walk_00125
3160  0EF2  3A 00 00    	ld	a,(_sprite)
3161  0EF5  C6 00       	add	a,+((_state_a) & 0xFF)
3162  0EF7  4F          	ld	c,a
3163  0EF8  3E 00       	ld	a,+((_state_a) / 256)
3164  0EFA  CE 00       	adc	a,0x00
3165  0EFC  47          	ld	b,a
3166  0EFD  0A          	ld	a,(bc)
3167  0EFE  CB 4F       	bit	1, a
3168  0F00  20 31       	jr	NZ,l_enemy_walk_00125
3169  0F02  01 00 00    	ld	bc,_spr_timer_c+0
3170  0F05  2A 00 00    	ld	hl,(_sprite)
3171  0F08  26 00       	ld	h,0x00
3172  0F0A  29          	add	hl, hl
3173  0F0B  09          	add	hl,bc
3174  0F0C  5E          	ld	e,(hl)
3175  0F0D  23          	inc	hl
3176  0F0E  56          	ld	d,(hl)
3177  0F0F  C5          	push	bc
3178  0F10  21 05 00    	ld	hl,0x0005
3179  0F13  E5          	push	hl
3180  0F14  D5          	push	de
3181  0F15  CD 00 00    	call	_game_check_time
3182  0F18  F1          	pop	af
3183  0F19  F1          	pop	af
3184  0F1A  C1          	pop	bc
3185  0F1B  7D          	ld	a,l
3186  0F1C  B7          	or	a, a
3187  0F1D  28 11       	jr	Z,l_enemy_walk_00123
3188  0F1F  2A 00 00    	ld	hl,(_sprite)
3189  0F22  26 00       	ld	h,0x00
3190  0F24  29          	add	hl, hl
3191  0F25  09          	add	hl,bc
3192  0F26  ED 5B 00 00 	ld	de,(_curr_time)
3193  0F2A  73          	ld	(hl),e
3194  0F2B  23          	inc	hl
3195  0F2C  72          	ld	(hl),d
3196  0F2D  CD 6B 00    	call	_enemy_collition
3197  0F30              l_enemy_walk_00123:
3198  0F30  CD 00 00    	call	_spr_move_horizontal
3199  0F33              l_enemy_walk_00125:
3200  0F33  3A 00 00    	ld	a,(_sprite)
3201  0F36  C6 00       	add	a,+((_state_a) & 0xFF)
3202  0F38  4F          	ld	c,a
3203  0F39  3E 00       	ld	a,+((_state_a) / 256)
3204  0F3B  CE 00       	adc	a,0x00
3205  0F3D  47          	ld	b,a
3206  0F3E  0A          	ld	a,(bc)
3207  0F3F  CB 4F       	bit	1, a
3208  0F41  28 65       	jr	Z,l_enemy_walk_00137
3209  0F43  01 00 00    	ld	bc,_spr_timer+0
3210  0F46  2A 00 00    	ld	hl,(_sprite)
3211  0F49  26 00       	ld	h,0x00
3212  0F4B  29          	add	hl, hl
3213  0F4C  09          	add	hl,bc
3214  0F4D  5E          	ld	e,(hl)
3215  0F4E  23          	inc	hl
3216  0F4F  56          	ld	d,(hl)
3217  0F50  C5          	push	bc
3218  0F51  21 08 00    	ld	hl,0x0008
3219  0F54  E5          	push	hl
3220  0F55  D5          	push	de
3221  0F56  CD 00 00    	call	_game_check_time
3222  0F59  F1          	pop	af
3223  0F5A  F1          	pop	af
3224  0F5B  C1          	pop	bc
3225  0F5C  7D          	ld	a,l
3226  0F5D  B7          	or	a, a
3227  0F5E  28 48       	jr	Z,l_enemy_walk_00137
3228  0F60  2A 00 00    	ld	hl,(_sprite)
3229  0F63  26 00       	ld	h,0x00
3230  0F65  29          	add	hl, hl
3231  0F66  09          	add	hl,bc
3232  0F67  ED 5B 00 00 	ld	de,(_curr_time)
3233  0F6B  73          	ld	(hl),e
3234  0F6C  23          	inc	hl
3235  0F6D  72          	ld	(hl),d
3236  0F6E  3A 00 00    	ld	a,(_sprite)
3237  0F71  C6 00       	add	a,+((_colint) & 0xFF)
3238  0F73  4F          	ld	c,a
3239  0F74  3E 00       	ld	a,+((_colint) / 256)
3240  0F76  CE 00       	adc	a,0x00
3241  0F78  47          	ld	b,a
3242  0F79  0A          	ld	a,(bc)
3243  0F7A  5F          	ld	e,a
3244  0F7B  D6 02       	sub	a,0x02
3245  0F7D  30 05       	jr	NC,l_enemy_walk_00128
3246  0F7F  1C          	inc	e
3247  0F80  7B          	ld	a,e
3248  0F81  02          	ld	(bc),a
3249  0F82  18 24       	jr	l_enemy_walk_00137
3250  0F84              l_enemy_walk_00128:
3251  0F84  2A 00 00    	ld	hl,(_sprite)
3252  0F87  26 00       	ld	h,0x00
3253  0F89  01 00 00    	ld	bc,_state_a
3254  0F8C  09          	add	hl,bc
3255  0F8D  7E          	ld	a,(hl)
3256  0F8E  E6 FD       	and	a,0xfd
3257  0F90  77          	ld	(hl),a
3258  0F91  3E 00       	ld	a,+((_tile) & 0xFF)
3259  0F93  21 00 00    	ld	hl,_sprite
3260  0F96  86          	add	a, (hl)
3261  0F97  4F          	ld	c,a
3262  0F98  3E 00       	ld	a,+((_tile) / 256)
3263  0F9A  CE 00       	adc	a,0x00
3264  0F9C  47          	ld	b,a
3265  0F9D  7E          	ld	a,(hl)
3266  0F9E  C5          	push	bc
3267  0F9F  F5          	push	af
3268  0FA0  33          	inc	sp
3269  0FA1  CD 00 00    	call	_spr_tile
3270  0FA4  33          	inc	sp
3271  0FA5  C1          	pop	bc
3272  0FA6  7D          	ld	a, l
3273  0FA7  02          	ld	(bc),a
3274  0FA8              l_enemy_walk_00137:
3275  0FA8  C9          	ret
3276  0FA9              ;	---------------------------------
3277  0FA9              ; Function enemy_init
3278  0FA9              ; ---------------------------------
3279  0FA9              _enemy_init:
3280  0FA9  CD 00 00    	call	___sdcc_enter_ix
3281  0FAC  21 00 00    	ld	hl,_spr_count
3282  0FAF  34          	inc	(hl)
3283  0FB0  3E 00       	ld	a,+((_class) & 0xFF)
3284  0FB2  DD 86 04    	add	a,(ix+4)
3285  0FB5  4F          	ld	c,a
3286  0FB6  3E 00       	ld	a,+((_class) / 256)
3287  0FB8  CE 00       	adc	a,0x00
3288  0FBA  47          	ld	b,a
3289  0FBB  DD 7E 07    	ld	a,(ix+7)
3290  0FBE  02          	ld	(bc),a
3291  0FBF  3E 00       	ld	a,+((_lin) & 0xFF)
3292  0FC1  DD 86 04    	add	a,(ix+4)
3293  0FC4  4F          	ld	c,a
3294  0FC5  3E 00       	ld	a,+((_lin) / 256)
3295  0FC7  CE 00       	adc	a,0x00
3296  0FC9  47          	ld	b,a
3297  0FCA  DD 7E 05    	ld	a,(ix+5)
3298  0FCD  02          	ld	(bc),a
3299  0FCE  3E 00       	ld	a,+((_col) & 0xFF)
3300  0FD0  DD 86 04    	add	a,(ix+4)
3301  0FD3  4F          	ld	c,a
3302  0FD4  3E 00       	ld	a,+((_col) / 256)
3303  0FD6  CE 00       	adc	a,0x00
3304  0FD8  47          	ld	b,a
3305  0FD9  DD 7E 06    	ld	a,(ix+6)
3306  0FDC  02          	ld	(bc),a
3307  0FDD  21 00 00    	ld	hl,_tmp
3308  0FE0  36 00       	ld	(hl),0x00
3309  0FE2  3E 00       	ld	a,+((_state) & 0xFF)
3310  0FE4  DD 86 04    	add	a,(ix+4)
3311  0FE7  4F          	ld	c,a
3312  0FE8  3E 00       	ld	a,+((_state) / 256)
3313  0FEA  CE 00       	adc	a,0x00
3314  0FEC  47          	ld	b,a
3315  0FED  AF          	xor	a, a
3316  0FEE  02          	ld	(bc),a
3317  0FEF  3E 00       	ld	a,+((_state_a) & 0xFF)
3318  0FF1  DD 86 04    	add	a,(ix+4)
3319  0FF4  5F          	ld	e,a
3320  0FF5  3E 00       	ld	a,+((_state_a) / 256)
3321  0FF7  CE 00       	adc	a,0x00
3322  0FF9  57          	ld	d,a
3323  0FFA  AF          	xor	a, a
3324  0FFB  12          	ld	(de),a
3325  0FFC  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3326  0FFE  DD 86 04    	add	a,(ix+4)
3327  1001  5F          	ld	e,a
3328  1002  3E 00       	ld	a,+((_jump_lin) / 256)
3329  1004  CE 00       	adc	a,0x00
3330  1006  57          	ld	d,a
3331  1007  AF          	xor	a, a
3332  1008  12          	ld	(de),a
3333  1009  0A          	ld	a,(bc)
3334  100A  5F          	ld	e,a
3335  100B  DD 7E 08    	ld	a,(ix+8)
3336  100E  3D          	dec	a
3337  100F  20 06       	jr	NZ,l_enemy_init_00102
3338  1011  7B          	ld	a,e
3339  1012  CB D7       	set	2, a
3340  1014  02          	ld	(bc),a
3341  1015  18 04       	jr	l_enemy_init_00103
3342  1017              l_enemy_init_00102:
3343  1017  7B          	ld	a,e
3344  1018  CB DF       	set	3, a
3345  101A  02          	ld	(bc),a
3346  101B              l_enemy_init_00103:
3347  101B  0A          	ld	a,(bc)
3348  101C  CB CF       	set	1, a
3349  101E  02          	ld	(bc),a
3350  101F  3E 00       	ld	a,+((_colint) & 0xFF)
3351  1021  DD 86 04    	add	a,(ix+4)
3352  1024  4F          	ld	c,a
3353  1025  3E 00       	ld	a,+((_colint) / 256)
3354  1027  CE 00       	adc	a,0x00
3355  1029  47          	ld	b,a
3356  102A  AF          	xor	a, a
3357  102B  02          	ld	(bc),a
3358  102C  3E 00       	ld	a,+((_tile) & 0xFF)
3359  102E  DD 86 04    	add	a,(ix+4)
3360  1031  4F          	ld	c,a
3361  1032  3E 00       	ld	a,+((_tile) / 256)
3362  1034  CE 00       	adc	a,0x00
3363  1036  47          	ld	b,a
3364  1037  C5          	push	bc
3365  1038  DD 7E 04    	ld	a,(ix+4)
3366  103B  F5          	push	af
3367  103C  33          	inc	sp
3368  103D  CD 00 00    	call	_spr_tile
3369  1040  33          	inc	sp
3370  1041  C1          	pop	bc
3371  1042  7D          	ld	a, l
3372  1043  02          	ld	(bc),a
3373  1044  DD 4E 04    	ld	c,(ix+4)
3374  1047  06 00       	ld	b,0x00
3375  1049  CB 21       	sla	c
3376  104B  CB 10       	rl	b
3377  104D  21 00 00    	ld	hl,_last_time
3378  1050  09          	add	hl,bc
3379  1051  AF          	xor	a, a
3380  1052  77          	ld	(hl), a
3381  1053  23          	inc	hl
3382  1054  77          	ld	(hl), a
3383  1055  21 00 00    	ld	hl,_spr_timer
3384  1058  09          	add	hl,bc
3385  1059  ED 5B 00 00 	ld	de,(_curr_time)
3386  105D  73          	ld	(hl),e
3387  105E  23          	inc	hl
3388  105F  72          	ld	(hl),d
3389  1060  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3390  1062  DD 86 04    	add	a,(ix+4)
3391  1065  4F          	ld	c,a
3392  1066  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3393  1068  CE 00       	adc	a,0x00
3394  106A  47          	ld	b,a
3395  106B  AF          	xor	a, a
3396  106C  02          	ld	(bc),a
3397  106D  DD E1       	pop	ix
3398  106F  C9          	ret
3399  1070              ;	---------------------------------
3400  1070              ; Function enemy_kill
3401  1070              ; ---------------------------------
3402  1070              _enemy_kill:
3403  1070  CD 00 00    	call	___sdcc_enter_ix
3404  1073  76          	halt
3405  1074  CD 00 00    	call	_sound_kill
3406  1077  01 00 00    	ld	bc,_state+0
3407  107A  2A 00 00    	ld	hl,(_sprite)
3408  107D  26 00       	ld	h,0x00
3409  107F  09          	add	hl,bc
3410  1080  6E          	ld	l, (hl)
3411  1081  79          	ld	a,c
3412  1082  EB          	ex	de,hl
3413  1083  DD 86 04    	add	a,(ix+4)
3414  1086  4F          	ld	c,a
3415  1087  78          	ld	a,b
3416  1088  CE 00       	adc	a,0x00
3417  108A  47          	ld	b,a
3418  108B  0A          	ld	a,(bc)
3419  108C  CB 5B       	bit	3, e
3420  108E  28 07       	jr	Z,l_enemy_kill_00102
3421  1090  CB DF       	set	3, a
3422  1092  E6 FB       	and	a,0xfb
3423  1094  02          	ld	(bc),a
3424  1095  18 05       	jr	l_enemy_kill_00103
3425  1097              l_enemy_kill_00102:
3426  1097  CB D7       	set	2, a
3427  1099  E6 F7       	and	a,0xf7
3428  109B  02          	ld	(bc),a
3429  109C              l_enemy_kill_00103:
3430  109C  0A          	ld	a,(bc)
3431  109D  CB C7       	set	0, a
3432  109F  CB EF       	set	5,a
3433  10A1  02          	ld	(bc),a
3434  10A2  21 00 00    	ld	hl,_hit_count
3435  10A5  46          	ld	b,(hl)
3436  10A6  11 50 00    	ld	de,0x0050
3437  10A9  04          	inc	b
3438  10AA  18 04       	jr	l_enemy_kill_00137
3439  10AC              l_enemy_kill_00136:
3440  10AC  CB 23       	sla	e
3441  10AE  CB 12       	rl	d
3442  10B0              l_enemy_kill_00137:
3443  10B0  10 FA       	djnz	l_enemy_kill_00136
3444  10B2  D5          	push	de
3445  10B3  CD 00 00    	call	_player_score_add
3446  10B6  F1          	pop	af
3447  10B7  21 00 00    	ld	hl,_hit_count
3448  10BA  34          	inc	(hl)
3449  10BB  01 00 00    	ld	bc,_spr_timer+0
3450  10BE  DD 6E 04    	ld	l,(ix+4)
3451  10C1  26 00       	ld	h,0x00
3452  10C3  29          	add	hl, hl
3453  10C4  09          	add	hl,bc
3454  10C5  ED 5B 00 00 	ld	de,(_curr_time)
3455  10C9  73          	ld	(hl),e
3456  10CA  23          	inc	hl
3457  10CB  72          	ld	(hl),d
3458  10CC  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3459  10CE  DD 86 04    	add	a,(ix+4)
3460  10D1  4F          	ld	c,a
3461  10D2  3E 00       	ld	a,+((_jump_lin) / 256)
3462  10D4  CE 00       	adc	a,0x00
3463  10D6  47          	ld	b,a
3464  10D7  3E 00       	ld	a,+((_lin) & 0xFF)
3465  10D9  DD 86 04    	add	a,(ix+4)
3466  10DC  5F          	ld	e,a
3467  10DD  3E 00       	ld	a,+((_lin) / 256)
3468  10DF  CE 00       	adc	a,0x00
3469  10E1  57          	ld	d,a
3470  10E2  1A          	ld	a,(de)
3471  10E3  02          	ld	(bc),a
3472  10E4  3E 00       	ld	a,+((_class) & 0xFF)
3473  10E6  DD 86 04    	add	a,(ix+4)
3474  10E9  4F          	ld	c,a
3475  10EA  3E 00       	ld	a,+((_class) / 256)
3476  10EC  CE 00       	adc	a,0x00
3477  10EE  47          	ld	b,a
3478  10EF  0A          	ld	a,(bc)
3479  10F0  4F          	ld	c,a
3480  10F1  3E 09       	ld	a,0x09
3481  10F3  91          	sub	a, c
3482  10F4  38 0F       	jr	C,l_enemy_kill_00107
3483  10F6  3A 00 00    	ld	a,(_game_type)
3484  10F9  D6 02       	sub	a,0x02
3485  10FB  28 04       	jr	Z,l_enemy_kill_00105
3486  10FD  21 00 00    	ld	hl,_phase_left
3487  1100  35          	dec	(hl)
3488  1101              l_enemy_kill_00105:
3489  1101  21 00 00    	ld	hl,_phase_coins
3490  1104  34          	inc	(hl)
3491  1105              l_enemy_kill_00107:
3492  1105  3A 00 00    	ld	a,(_phase_left)
3493  1108  B7          	or	a, a
3494  1109  28 08       	jr	Z,l_enemy_kill_00111
3495  110B  21 00 00    	ld	hl,_ay_effect_11
3496  110E  CD 00 00    	call	_ay_fx_play
3497  1111  18 0F       	jr	l_enemy_kill_00113
3498  1113              l_enemy_kill_00111:
3499  1113  CD 00 00    	call	_ay_reset
3500  1116  3A 00 00    	ld	a,(_game_bonus)
3501  1119  B7          	or	a, a
3502  111A  20 06       	jr	NZ,l_enemy_kill_00113
3503  111C  21 00 00    	ld	hl,_ay_effect_17
3504  111F  CD 00 00    	call	_ay_fx_play
3505  1122              l_enemy_kill_00113:
3506  1122  DD E1       	pop	ix
3507  1124  C9          	ret
3508  1125              	SECTION IGNORE
3509  0000              
