1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _enemy_coin2
181   0000              	GLOBAL _enemy_coin1
182   0000              	GLOBAL _enemy_collition
183   0000              	GLOBAL _enemy_collition_check
184   0000              	GLOBAL _enemy_hit
185   0000              	GLOBAL _enemy_flip_change_dir
186   0000              	GLOBAL _enemy_flip
187   0000              	GLOBAL _enemy_flip_sidestepper
188   0000              	GLOBAL _enemy_turn
189   0000              	GLOBAL _enemy_standard
190   0000              	GLOBAL _enemy_slipice
191   0000              	GLOBAL _enemy_fireball_red
192   0000              	GLOBAL _enemy_fireball_green
193   0000              	GLOBAL _enemy_fighterfly
194   0000              	GLOBAL _enemy_trip
195   0000              	GLOBAL _enemy_standard_hit
196   0000              	GLOBAL _enemy_evolve
197   0000              	GLOBAL _enemy_upgrade
198   0000              	GLOBAL _enemy_walk
199   0000              	GLOBAL _enemy_init
200   0000              	GLOBAL _enemy_kill
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _zx_pattern_fill_callee
246   0000              	GLOBAL _zx_pattern_fill
247   0000              	GLOBAL _zx_saddrpup_fastcall
248   0000              	GLOBAL _zx_saddrpup
249   0000              	GLOBAL _zx_saddrpright_callee
250   0000              	GLOBAL _zx_saddrpright
251   0000              	GLOBAL _zx_saddrpleft_callee
252   0000              	GLOBAL _zx_saddrpleft
253   0000              	GLOBAL _zx_saddrpdown_fastcall
254   0000              	GLOBAL _zx_saddrpdown
255   0000              	GLOBAL _zx_saddrcup_fastcall
256   0000              	GLOBAL _zx_saddrcup
257   0000              	GLOBAL _zx_saddrcright_fastcall
258   0000              	GLOBAL _zx_saddrcright
259   0000              	GLOBAL _zx_saddrcleft_fastcall
260   0000              	GLOBAL _zx_saddrcleft
261   0000              	GLOBAL _zx_saddrcdown_fastcall
262   0000              	GLOBAL _zx_saddrcdown
263   0000              	GLOBAL _zx_saddr2py_fastcall
264   0000              	GLOBAL _zx_saddr2py
265   0000              	GLOBAL _zx_saddr2px_fastcall
266   0000              	GLOBAL _zx_saddr2px
267   0000              	GLOBAL _zx_saddr2cy_fastcall
268   0000              	GLOBAL _zx_saddr2cy
269   0000              	GLOBAL _zx_saddr2cx_fastcall
270   0000              	GLOBAL _zx_saddr2cx
271   0000              	GLOBAL _zx_saddr2aaddr_fastcall
272   0000              	GLOBAL _zx_saddr2aaddr
273   0000              	GLOBAL _zx_py2saddr_fastcall
274   0000              	GLOBAL _zx_py2saddr
275   0000              	GLOBAL _zx_py2aaddr_fastcall
276   0000              	GLOBAL _zx_py2aaddr
277   0000              	GLOBAL _zx_pxy2saddr_callee
278   0000              	GLOBAL _zx_pxy2saddr
279   0000              	GLOBAL _zx_pxy2aaddr_callee
280   0000              	GLOBAL _zx_pxy2aaddr
281   0000              	GLOBAL _zx_px2bitmask_fastcall
282   0000              	GLOBAL _zx_px2bitmask
283   0000              	GLOBAL _zx_cyx2saddr_callee
284   0000              	GLOBAL _zx_cyx2saddr
285   0000              	GLOBAL _zx_cyx2aaddr_callee
286   0000              	GLOBAL _zx_cyx2aaddr
287   0000              	GLOBAL _zx_cy2saddr_fastcall
288   0000              	GLOBAL _zx_cy2saddr
289   0000              	GLOBAL _zx_cy2aaddr_fastcall
290   0000              	GLOBAL _zx_cy2aaddr
291   0000              	GLOBAL _zx_bitmask2px_fastcall
292   0000              	GLOBAL _zx_bitmask2px
293   0000              	GLOBAL _zx_aaddrcup_fastcall
294   0000              	GLOBAL _zx_aaddrcup
295   0000              	GLOBAL _zx_aaddrcright_fastcall
296   0000              	GLOBAL _zx_aaddrcright
297   0000              	GLOBAL _zx_aaddrcleft_fastcall
298   0000              	GLOBAL _zx_aaddrcleft
299   0000              	GLOBAL _zx_aaddrcdown_fastcall
300   0000              	GLOBAL _zx_aaddrcdown
301   0000              	GLOBAL _zx_aaddr2saddr_fastcall
302   0000              	GLOBAL _zx_aaddr2saddr
303   0000              	GLOBAL _zx_aaddr2py_fastcall
304   0000              	GLOBAL _zx_aaddr2py
305   0000              	GLOBAL _zx_aaddr2px_fastcall
306   0000              	GLOBAL _zx_aaddr2px
307   0000              	GLOBAL _zx_aaddr2cy_fastcall
308   0000              	GLOBAL _zx_aaddr2cy
309   0000              	GLOBAL _zx_aaddr2cx_fastcall
310   0000              	GLOBAL _zx_aaddr2cx
311   0000              	GLOBAL _zx_scroll_wc_up_callee
312   0000              	GLOBAL _zx_scroll_wc_up
313   0000              	GLOBAL _zx_scroll_up_callee
314   0000              	GLOBAL _zx_scroll_up
315   0000              	GLOBAL _zx_cls_wc_callee
316   0000              	GLOBAL _zx_cls_wc
317   0000              	GLOBAL _zx_cls_fastcall
318   0000              	GLOBAL _zx_cls
319   0000              	GLOBAL _zx_border_fastcall
320   0000              	GLOBAL _zx_border
321   0000              	GLOBAL _sound_hit_pow
322   0000              	GLOBAL _sound_hit_brick
323   0000              	GLOBAL _sound_hit_enemy
324   0000              	GLOBAL _sound_kill
325   0000              	GLOBAL _sound_enter_enemy
326   0000              	GLOBAL _sound_coin
327   0000              	GLOBAL _sound_jump
328   0000              	GLOBAL _sound_slide
329   0000              	GLOBAL _spr_draw_clear
330   0000              	GLOBAL _spr_water_splash_draw
331   0000              	GLOBAL _spr_water_splash_clear
332   0000              	GLOBAL _spr_draw_back
333   0000              	GLOBAL _spr_cortina_pipes
334   0000              	GLOBAL _spr_cortina_brick
335   0000              	GLOBAL _spr_brick_anim
336   0000              	GLOBAL _spr_back_fix4
337   0000              	GLOBAL _spr_back_fix3
338   0000              	GLOBAL _spr_back_fix2
339   0000              	GLOBAL _spr_back_fix1
340   0000              	GLOBAL _spr_back_fix
341   0000              	GLOBAL _spr_back_clr
342   0000              	GLOBAL _spr_draw_pow
343   0000              	GLOBAL _spr_tile
344   0000              	GLOBAL _spr_set_fall
345   0000              	GLOBAL _spr_destroy
346   0000              	GLOBAL _spr_check_over
347   0000              	GLOBAL _spr_tile_dir
348   0000              	GLOBAL _spr_anim_kill
349   0000              	GLOBAL _spr_anim_fall
350   0000              	GLOBAL _spr_killed
351   0000              	GLOBAL _spr_redraw
352   0000              	GLOBAL _spr_move_left
353   0000              	GLOBAL _spr_move_right
354   0000              	GLOBAL _spr_move_horizontal
355   0000              	GLOBAL _spr_move_down
356   0000              	GLOBAL _spr_move_up
357   0000              	GLOBAL _spr_chktime
358   0000              	GLOBAL _player_move_horizontal
359   0000              	GLOBAL _player_push_check
360   0000              	GLOBAL _player_push
361   0000              	GLOBAL _player_hit_brick_clear
362   0000              	GLOBAL _player_lost_life
363   0000              	GLOBAL _player_score_add
364   0000              	GLOBAL _player_coin
365   0000              	GLOBAL _player_hit_pow
366   0000              	GLOBAL _player_hit_brick
367   0000              	GLOBAL _player_hit_slipice
368   0000              	GLOBAL _player_move_input
369   0000              	GLOBAL _player_turn
370   0000              	GLOBAL _player_move
371   0000              	GLOBAL _player_restart
372   0000              	GLOBAL _player_kill
373   0000              	GLOBAL _player_check_input
374   0000              	GLOBAL _player_collition_check
375   0000              	GLOBAL _player_collition
376   0000              	GLOBAL _player_calc_slide
377   0000              	GLOBAL _player_init
378   0000              	GLOBAL _game_hall_print_p
379   0000              	GLOBAL _game_hall_edit_p
380   0000              	GLOBAL _game_hall_check
381   0000              	GLOBAL _game_hall_enter_phs
382   0000              	GLOBAL _game_print_header
383   0000              	GLOBAL _game_end
384   0000              	GLOBAL _game_hall_enter
385   0000              	GLOBAL _game_hall_of_fame
386   0000              	GLOBAL _game_score_osd
387   0000              	GLOBAL _game_phase_print_score_back
388   0000              	GLOBAL _game_bonus_clock
389   0000              	GLOBAL _game_bonus_summary_player
390   0000              	GLOBAL _game_bonus_summary
391   0000              	GLOBAL _game_check_time
392   0000              	GLOBAL _game_menu_config
393   0000              	GLOBAL _game_menu
394   0000              	GLOBAL _game_rotate_attrib
395   0000              	GLOBAL _game_colour_message
396   0000              	GLOBAL _game_paint_attrib_lin_h
397   0000              	GLOBAL _game_paint_attrib_lin
398   0000              	GLOBAL _game_paint_attrib
399   0000              	GLOBAL _game_menu_handle
400   0000              	GLOBAL _game_menu_e
401   0000              	GLOBAL _game_menu_back
402   0000              	GLOBAL _game_print_score
403   0000              	GLOBAL _game_unfreeze_all
404   0000              	GLOBAL _game_freeze_all
405   0000              	GLOBAL _game_freeze
406   0000              	GLOBAL _game_enemy_add_get_index
407   0000              	GLOBAL _game_enemy_add1
408   0000              	GLOBAL _game_enemy_quota
409   0000              	GLOBAL _game_enemy_rnd
410   0000              	GLOBAL _game_enemy_add
411   0000              	GLOBAL _game_check_maze
412   0000              	GLOBAL _game_kill_all_sprites
413   0000              	GLOBAL _game_loop
414   0000              	GLOBAL _player_set2
415   0000              	GLOBAL _player_set1
416   0000              	GLOBAL _game_phase_print
417   0000              	GLOBAL _game_phase_init
418   0000              	GLOBAL _game_phase_calc
419   0000              	GLOBAL _game_start_timer
420   0000              	GLOBAL _game_tick
421   0000              	GLOBAL _game_print_lives
422   0000              	GLOBAL _game_print_footer
423   0000              	GLOBAL _game_calc_index
424   0000              	GLOBAL _game_fill_row
425   0000              	GLOBAL _ay_fx_play
426   0000              	GLOBAL _ay_midi_play
427   0000              	GLOBAL _ay_is_playing
428   0000              	GLOBAL _ay_reset
429   0000              	GLOBAL _in_mouse_kempston_wheel_delta
430   0000              	GLOBAL _in_mouse_kempston_wheel
431   0000              	GLOBAL _in_mouse_kempston_callee
432   0000              	GLOBAL _in_mouse_kempston
433   0000              	GLOBAL _in_mouse_kempston_setpos_callee
434   0000              	GLOBAL _in_mouse_kempston_setpos
435   0000              	GLOBAL _in_mouse_kempston_reset
436   0000              	GLOBAL _in_mouse_kempston_init
437   0000              	GLOBAL _in_mouse_amx_wheel_delta
438   0000              	GLOBAL _in_mouse_amx_wheel
439   0000              	GLOBAL _in_mouse_amx_callee
440   0000              	GLOBAL _in_mouse_amx
441   0000              	GLOBAL _in_mouse_amx_setpos_callee
442   0000              	GLOBAL _in_mouse_amx_setpos
443   0000              	GLOBAL _in_mouse_amx_reset
444   0000              	GLOBAL _in_mouse_amx_init_callee
445   0000              	GLOBAL _in_mouse_amx_init
446   0000              	GLOBAL _in_stick_sinclair2
447   0000              	GLOBAL _in_stick_sinclair1
448   0000              	GLOBAL _in_stick_kempston
449   0000              	GLOBAL _in_stick_fuller
450   0000              	GLOBAL _in_stick_cursor
451   0000              	GLOBAL _in_stick_keyboard_fastcall
452   0000              	GLOBAL _in_stick_keyboard
453   0000              	GLOBAL _in_wait_nokey
454   0000              	GLOBAL _in_wait_key
455   0000              	GLOBAL _in_test_key
456   0000              	GLOBAL _in_pause_fastcall
457   0000              	GLOBAL _in_pause
458   0000              	GLOBAL _in_key_scancode_fastcall
459   0000              	GLOBAL _in_key_scancode
460   0000              	GLOBAL _in_key_pressed_fastcall
461   0000              	GLOBAL _in_key_pressed
462   0000              	GLOBAL _in_inkey
463   0000              	GLOBAL _NIRVANAP_chars_fastcall
464   0000              	GLOBAL _NIRVANAP_chars
465   0000              	GLOBAL _NIRVANAP_wides_fastcall
466   0000              	GLOBAL _NIRVANAP_wides
467   0000              	GLOBAL _NIRVANAP_tiles_fastcall
468   0000              	GLOBAL _NIRVANAP_tiles
469   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
470   0000              	GLOBAL _NIRVANAP_drawW_raw
471   0000              	GLOBAL _NIRVANAP_drawW_callee
472   0000              	GLOBAL _NIRVANAP_drawW
473   0000              	GLOBAL _NIRVANAP_spriteT_callee
474   0000              	GLOBAL _NIRVANAP_spriteT
475   0000              	GLOBAL _NIRVANAP_fillC_callee
476   0000              	GLOBAL _NIRVANAP_fillC
477   0000              	GLOBAL _NIRVANAP_paintC_callee
478   0000              	GLOBAL _NIRVANAP_paintC
479   0000              	GLOBAL _NIRVANAP_printC_callee
480   0000              	GLOBAL _NIRVANAP_printC
481   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
482   0000              	GLOBAL _NIRVANAP_fillT_raw
483   0000              	GLOBAL _NIRVANAP_fillT_callee
484   0000              	GLOBAL _NIRVANAP_fillT
485   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
486   0000              	GLOBAL _NIRVANAP_drawT_raw
487   0000              	GLOBAL _NIRVANAP_drawT_callee
488   0000              	GLOBAL _NIRVANAP_drawT
489   0000              	GLOBAL _NIRVANAP_stop
490   0000              	GLOBAL _NIRVANAP_start
491   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
492   0000              	GLOBAL _intrinsic_swap_word_32
493   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
494   0000              	GLOBAL _intrinsic_swap_endian_32
495   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
496   0000              	GLOBAL _intrinsic_swap_endian_16
497   0000              	GLOBAL _intrinsic_return_de
498   0000              	GLOBAL _intrinsic_return_bc
499   0000              	GLOBAL _intrinsic_exx
500   0000              	GLOBAL _intrinsic_ex_de_hl
501   0000              	GLOBAL _intrinsic_pop_iy
502   0000              	GLOBAL _intrinsic_pop_ix
503   0000              	GLOBAL _intrinsic_pop_hl
504   0000              	GLOBAL _intrinsic_pop_de
505   0000              	GLOBAL _intrinsic_pop_bc
506   0000              	GLOBAL _intrinsic_pop_af
507   0000              	GLOBAL _intrinsic_push_iy
508   0000              	GLOBAL _intrinsic_push_ix
509   0000              	GLOBAL _intrinsic_push_hl
510   0000              	GLOBAL _intrinsic_push_de
511   0000              	GLOBAL _intrinsic_push_bc
512   0000              	GLOBAL _intrinsic_push_af
513   0000              	GLOBAL _intrinsic_nop
514   0000              	GLOBAL _intrinsic_im_2
515   0000              	GLOBAL _intrinsic_im_1
516   0000              	GLOBAL _intrinsic_im_0
517   0000              	GLOBAL _intrinsic_retn
518   0000              	GLOBAL _intrinsic_reti
519   0000              	GLOBAL _intrinsic_halt
520   0000              	GLOBAL _intrinsic_ei
521   0000              	GLOBAL _intrinsic_di
522   0000              	GLOBAL _intrinsic_stub
523   0000              	GLOBAL _ulltoa_callee
524   0000              	GLOBAL _ulltoa
525   0000              	GLOBAL _strtoull_callee
526   0000              	GLOBAL _strtoull
527   0000              	GLOBAL _strtoll_callee
528   0000              	GLOBAL _strtoll
529   0000              	GLOBAL _lltoa_callee
530   0000              	GLOBAL _lltoa
531   0000              	GLOBAL _llabs_callee
532   0000              	GLOBAL _llabs
533   0000              	GLOBAL __lldivu__callee
534   0000              	GLOBAL __lldivu_
535   0000              	GLOBAL __lldiv__callee
536   0000              	GLOBAL __lldiv_
537   0000              	GLOBAL _atoll_callee
538   0000              	GLOBAL _atoll
539   0000              	GLOBAL _realloc_unlocked_callee
540   0000              	GLOBAL _realloc_unlocked
541   0000              	GLOBAL _malloc_unlocked_fastcall
542   0000              	GLOBAL _malloc_unlocked
543   0000              	GLOBAL _free_unlocked_fastcall
544   0000              	GLOBAL _free_unlocked
545   0000              	GLOBAL _calloc_unlocked_callee
546   0000              	GLOBAL _calloc_unlocked
547   0000              	GLOBAL _aligned_alloc_unlocked_callee
548   0000              	GLOBAL _aligned_alloc_unlocked
549   0000              	GLOBAL _realloc_callee
550   0000              	GLOBAL _realloc
551   0000              	GLOBAL _malloc_fastcall
552   0000              	GLOBAL _malloc
553   0000              	GLOBAL _free_fastcall
554   0000              	GLOBAL _free
555   0000              	GLOBAL _calloc_callee
556   0000              	GLOBAL _calloc
557   0000              	GLOBAL _aligned_alloc_callee
558   0000              	GLOBAL _aligned_alloc
559   0000              	GLOBAL _utoa_callee
560   0000              	GLOBAL _utoa
561   0000              	GLOBAL _ultoa_callee
562   0000              	GLOBAL _ultoa
563   0000              	GLOBAL _system_fastcall
564   0000              	GLOBAL _system
565   0000              	GLOBAL _strtoul_callee
566   0000              	GLOBAL _strtoul
567   0000              	GLOBAL _strtol_callee
568   0000              	GLOBAL _strtol
569   0000              	GLOBAL _strtof_callee
570   0000              	GLOBAL _strtof
571   0000              	GLOBAL _strtod_callee
572   0000              	GLOBAL _strtod
573   0000              	GLOBAL _srand_fastcall
574   0000              	GLOBAL _srand
575   0000              	GLOBAL _rand
576   0000              	GLOBAL _quick_exit_fastcall
577   0000              	GLOBAL _quick_exit
578   0000              	GLOBAL _qsort_callee
579   0000              	GLOBAL _qsort
580   0000              	GLOBAL _ltoa_callee
581   0000              	GLOBAL _ltoa
582   0000              	GLOBAL _labs_fastcall
583   0000              	GLOBAL _labs
584   0000              	GLOBAL _itoa_callee
585   0000              	GLOBAL _itoa
586   0000              	GLOBAL _ftoh_callee
587   0000              	GLOBAL _ftoh
588   0000              	GLOBAL _ftog_callee
589   0000              	GLOBAL _ftog
590   0000              	GLOBAL _ftoe_callee
591   0000              	GLOBAL _ftoe
592   0000              	GLOBAL _ftoa_callee
593   0000              	GLOBAL _ftoa
594   0000              	GLOBAL _exit_fastcall
595   0000              	GLOBAL _exit
596   0000              	GLOBAL _dtoh_callee
597   0000              	GLOBAL _dtoh
598   0000              	GLOBAL _dtog_callee
599   0000              	GLOBAL _dtog
600   0000              	GLOBAL _dtoe_callee
601   0000              	GLOBAL _dtoe
602   0000              	GLOBAL _dtoa_callee
603   0000              	GLOBAL _dtoa
604   0000              	GLOBAL _bsearch_callee
605   0000              	GLOBAL _bsearch
606   0000              	GLOBAL _atol_fastcall
607   0000              	GLOBAL _atol
608   0000              	GLOBAL _atoi_fastcall
609   0000              	GLOBAL _atoi
610   0000              	GLOBAL _atof_fastcall
611   0000              	GLOBAL _atof
612   0000              	GLOBAL _atexit_fastcall
613   0000              	GLOBAL _atexit
614   0000              	GLOBAL _at_quick_exit_fastcall
615   0000              	GLOBAL _at_quick_exit
616   0000              	GLOBAL _abs_fastcall
617   0000              	GLOBAL _abs
618   0000              	GLOBAL _abort
619   0000              	GLOBAL __strtou__callee
620   0000              	GLOBAL __strtou_
621   0000              	GLOBAL __strtoi__callee
622   0000              	GLOBAL __strtoi_
623   0000              	GLOBAL __random_uniform_xor_8__fastcall
624   0000              	GLOBAL __random_uniform_xor_8_
625   0000              	GLOBAL __random_uniform_xor_32__fastcall
626   0000              	GLOBAL __random_uniform_xor_32_
627   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
628   0000              	GLOBAL __random_uniform_cmwc_8_
629   0000              	GLOBAL __shellsort__callee
630   0000              	GLOBAL __shellsort_
631   0000              	GLOBAL __quicksort__callee
632   0000              	GLOBAL __quicksort_
633   0000              	GLOBAL __insertion_sort__callee
634   0000              	GLOBAL __insertion_sort_
635   0000              	GLOBAL __ldivu__callee
636   0000              	GLOBAL __ldivu_
637   0000              	GLOBAL __ldiv__callee
638   0000              	GLOBAL __ldiv_
639   0000              	GLOBAL __divu__callee
640   0000              	GLOBAL __divu_
641   0000              	GLOBAL __div__callee
642   0000              	GLOBAL __div_
643   0000              	GLOBAL _ay_effect_20
644   0000              	GLOBAL _ay_effect_19
645   0000              	GLOBAL _ay_effect_18
646   0000              	GLOBAL _ay_effect_17
647   0000              	GLOBAL _ay_effect_16
648   0000              	GLOBAL _ay_effect_15
649   0000              	GLOBAL _ay_effect_14
650   0000              	GLOBAL _ay_effect_13
651   0000              	GLOBAL _ay_effect_12
652   0000              	GLOBAL _ay_effect_11
653   0000              	GLOBAL _ay_effect_10
654   0000              	GLOBAL _ay_effect_09
655   0000              	GLOBAL _ay_effect_08
656   0000              	GLOBAL _ay_effect_07
657   0000              	GLOBAL _ay_effect_06
658   0000              	GLOBAL _ay_effect_05
659   0000              	GLOBAL _ay_effect_04
660   0000              	GLOBAL _ay_effect_03
661   0000              	GLOBAL _ay_effect_02
662   0000              	GLOBAL _ay_effect_01
663   0000              	GLOBAL _pb_midi_phase_1
664   0000              	GLOBAL _pb_midi_title
665   0000              	GLOBAL _initials
666   0000              	GLOBAL _hof
667   0000              	GLOBAL _score_osd_tile
668   0000              	GLOBAL _score_osd_time
669   0000              	GLOBAL _score_osd_col
670   0000              	GLOBAL _score_osd_lin
671   0000              	GLOBAL _phase_bonus_total
672   0000              	GLOBAL _phase_angry
673   0000              	GLOBAL _phase_curr
674   0000              	GLOBAL _phase_end
675   0000              	GLOBAL _phase_coins
676   0000              	GLOBAL _phase_pop
677   0000              	GLOBAL _phase_tot
678   0000              	GLOBAL _phase_left
679   0000              	GLOBAL _phase_quota
680   0000              	GLOBAL _phases
681   0000              	GLOBAL _spr_idx
682   0000              	GLOBAL _lvl_1
683   0000              	GLOBAL _sprite_speed_alt
684   0000              	GLOBAL _sprite_speed
685   0000              	GLOBAL _screen_ink
686   0000              	GLOBAL _screen_paper
687   0000              	GLOBAL _game_menu_sel
688   0000              	GLOBAL _game_type
689   0000              	GLOBAL _game_bonus
690   0000              	GLOBAL _spr_water_time
691   0000              	GLOBAL _spr_water_clear
692   0000              	GLOBAL _game_time_fireball_start
693   0000              	GLOBAL _game_time_flipped
694   0000              	GLOBAL _game_score_top
695   0000              	GLOBAL _game_lives_update
696   0000              	GLOBAL _game_lives
697   0000              	GLOBAL _game_over
698   0000              	GLOBAL _game_sound
699   0000              	GLOBAL _game_two_player
700   0000              	GLOBAL _game_brick_tile
701   0000              	GLOBAL _game_pow
702   0000              	GLOBAL _spr_count
703   0000              	GLOBAL _frame_loop_count
704   0000              	GLOBAL _col_time
705   0000              	GLOBAL _frame_time
706   0000              	GLOBAL _entry_time
707   0000              	GLOBAL _curr_time
708   0000              	GLOBAL _s_state
709   0000              	GLOBAL _attrib_hl
710   0000              	GLOBAL _attrib
711   0000              	GLOBAL _zx_val_asm
712   0000              	GLOBAL _enemies
713   0000              	GLOBAL _tmp_ui
714   0000              	GLOBAL _tmp_sc
715   0000              	GLOBAL _tmp_uc
716   0000              	GLOBAL _tmp1
717   0000              	GLOBAL _tmp0
718   0000              	GLOBAL _tmp
719   0000              	GLOBAL _index_d
720   0000              	GLOBAL _index3
721   0000              	GLOBAL _index2
722   0000              	GLOBAL _index1
723   0000              	GLOBAL _loop_count
724   0000              	GLOBAL _s_col1
725   0000              	GLOBAL _s_col0
726   0000              	GLOBAL _s_lin1
727   0000              	GLOBAL _s_lin0
728   0000              	GLOBAL _s_tile1
729   0000              	GLOBAL _s_tile0
730   0000              	GLOBAL _hit_count
731   0000              	GLOBAL _tile_offset_other_player
732   0000              	GLOBAL _tile_offset
733   0000              	GLOBAL _index_player
734   0000              	GLOBAL _sprite_other_player
735   0000              	GLOBAL _sprite
736   0000              	GLOBAL _player_next_extra
737   0000              	GLOBAL _player_score
738   0000              	GLOBAL _last_time
739   0000              	GLOBAL _sliding
740   0000              	GLOBAL _spr_timer_c
741   0000              	GLOBAL _spr_timer
742   0000              	GLOBAL _jump_lin
743   0000              	GLOBAL _hit_col
744   0000              	GLOBAL _hit_lin
745   0000              	GLOBAL _colint
746   0000              	GLOBAL _col
747   0000              	GLOBAL _lin
748   0000              	GLOBAL _tile
749   0000              	GLOBAL _state_a
750   0000              	GLOBAL _state
751   0000              	GLOBAL _class
752   0000              	GLOBAL _tbuffer
753   0000              	GLOBAL _dirs
754   0000              	GLOBAL _k2
755   0000              	GLOBAL _k1
756   0000              	GLOBAL _joyfunc2
757   0000              	GLOBAL _joyfunc1
758   0000              	GLOBAL _joynames
759   0000              	GLOBAL _btiles
760   0000              	GLOBAL _spec128
761   0000              	GLOBAL _hall_valids
762   0000              ;--------------------------------------------------------
763   0000              ; special function registers
764   0000              ;--------------------------------------------------------
765   0000              ;--------------------------------------------------------
766   0000              ; ram data
767   0000              ;--------------------------------------------------------
768   0000              	SECTION bss_compiler
769   0000              defc _NIRVANAP_isr	=	0xf5d2
770   0000              ;--------------------------------------------------------
771   0000              ; ram data
772   0000              ;--------------------------------------------------------
773   0000              
774   0000              IF 0
775   0000              
776   0000              ; .area _INITIALIZED removed by z88dk
777   0000              
778   0000              
779   0000              ENDIF
780   0000              
781   0000              ;--------------------------------------------------------
782   0000              ; absolute external ram data
783   0000              ;--------------------------------------------------------
784   0000              	SECTION IGNORE
785   0000              ;--------------------------------------------------------
786   0000              ; global & static initialisations
787   0000              ;--------------------------------------------------------
788   0000              	SECTION code_crt_init
789   0000              ;--------------------------------------------------------
790   0000              ; Home
791   0000              ;--------------------------------------------------------
792   0000              	SECTION IGNORE
793   0000              ;--------------------------------------------------------
794   0000              ; code
795   0000              ;--------------------------------------------------------
796   0000              	SECTION code_compiler
797   0000              ;	---------------------------------
798   0000              ; Function enemy_coin1
799   0000              ; ---------------------------------
800   0000              _enemy_coin1:
801   0000  21 00 00    	ld	hl,_sprite
802   0003  E5          	push	hl
803   0004  CD 00 00    	call	_spr_chktime
804   0007  F1          	pop	af
805   0008  7D          	ld	a,l
806   0009  B7          	or	a, a
807   000A  28 35       	jr	Z,l_enemy_coin1_00108
808   000C  3A 00 00    	ld	a,(_phase_left)
809   000F  B7          	or	a, a
810   0010  28 2F       	jr	Z,l_enemy_coin1_00108
811   0012  CD 9D 0D    	call	_enemy_walk
812   0015  2A 00 00    	ld	hl,(_sprite)
813   0018  26 00       	ld	h,0x00
814   001A  01 00 00    	ld	bc,_lin
815   001D  09          	add	hl,bc
816   001E  7E          	ld	a,(hl)
817   001F  D6 98       	sub	a,0x98
818   0021  20 1E       	jr	NZ,l_enemy_coin1_00108
819   0023  3A 00 00    	ld	a,(_sprite)
820   0026  4F          	ld	c,a
821   0027  06 00       	ld	b,0x00
822   0029  21 00 00    	ld	hl,_col
823   002C  09          	add	hl,bc
824   002D  7E          	ld	a,(hl)
825   002E  4F          	ld	c,a
826   002F  D6 03       	sub	a,0x03
827   0031  28 05       	jr	Z,l_enemy_coin1_00101
828   0033  79          	ld	a,c
829   0034  D6 1B       	sub	a,0x1b
830   0036  20 09       	jr	NZ,l_enemy_coin1_00108
831   0038              l_enemy_coin1_00101:
832   0038  3A 00 00    	ld	a,(_sprite)
833   003B  F5          	push	af
834   003C  33          	inc	sp
835   003D  CD 00 00    	call	_spr_destroy
836   0040  33          	inc	sp
837   0041              l_enemy_coin1_00108:
838   0041  C9          	ret
839   0042              ;	---------------------------------
840   0042              ; Function enemy_coin2
841   0042              ; ---------------------------------
842   0042              _enemy_coin2:
843   0042  21 00 00    	ld	hl,_sprite
844   0045  E5          	push	hl
845   0046  CD 00 00    	call	_spr_chktime
846   0049  F1          	pop	af
847   004A  7D          	ld	a,l
848   004B  B7          	or	a, a
849   004C  C8          	ret	Z
850   004D  01 00 00    	ld	bc,_colint+0
851   0050  79          	ld	a,c
852   0051  21 00 00    	ld	hl,_sprite
853   0054  86          	add	a, (hl)
854   0055  5F          	ld	e,a
855   0056  78          	ld	a,b
856   0057  CE 00       	adc	a,0x00
857   0059  57          	ld	d,a
858   005A  1A          	ld	a,(de)
859   005B  3C          	inc	a
860   005C  12          	ld	(de),a
861   005D  79          	ld	a,c
862   005E  86          	add	a, (hl)
863   005F  4F          	ld	c,a
864   0060  78          	ld	a,b
865   0061  CE 00       	adc	a,0x00
866   0063  47          	ld	b,a
867   0064  0A          	ld	a,(bc)
868   0065  D6 03       	sub	a,0x03
869   0067  C0          	ret	NZ
870   0068  AF          	xor	a, a
871   0069  02          	ld	(bc),a
872   006A  C9          	ret
873   006B              ;	---------------------------------
874   006B              ; Function enemy_collition
875   006B              ; ---------------------------------
876   006B              _enemy_collition:
877   006B  CD 00 00    	call	___sdcc_enter_ix
878   006E  3B          	dec	sp
879   006F  21 00 00    	ld	hl,_enemies
880   0072  36 00       	ld	(hl),0x00
881   0074              l_enemy_collition_00113:
882   0074  CD 9F 01    	call	_enemy_collition_check
883   0077  7D          	ld	a,l
884   0078  B7          	or	a, a
885   0079  CA 90 01    	jp	Z,l_enemy_collition_00114
886   007C  3A 00 00    	ld	a,(_enemies)
887   007F  C6 00       	add	a,+((_state) & 0xFF)
888   0081  4F          	ld	c,a
889   0082  3E 00       	ld	a,+((_state) / 256)
890   0084  CE 00       	adc	a,0x00
891   0086  47          	ld	b,a
892   0087  0A          	ld	a,(bc)
893   0088  DD 77 FF    	ld	(ix-1),a
894   008B  CB 67       	bit	4,a
895   008D  C2 23 01    	jp	NZ,l_enemy_collition_00104
896   0090  21 00 00    	ld	hl,_s_state
897   0093  7E          	ld	a,(hl)
898   0094  E6 08       	and	a,0x08
899   0096  5F          	ld	e,a
900   0097  DD 7E FF    	ld	a,(ix-1)
901   009A  E6 08       	and	a,0x08
902   009C  57          	ld	d,a
903   009D  7B          	ld	a,e
904   009E  92          	sub	a, d
905   009F  CA 23 01    	jp	Z,l_enemy_collition_00104
906   00A2  7E          	ld	a,(hl)
907   00A3  E6 04       	and	a,0x04
908   00A5  5F          	ld	e,a
909   00A6  DD 7E FF    	ld	a,(ix-1)
910   00A9  E6 04       	and	a,0x04
911   00AB  57          	ld	d,a
912   00AC  7B          	ld	a,e
913   00AD  92          	sub	a, d
914   00AE  28 73       	jr	Z,l_enemy_collition_00104
915   00B0  2A 00 00    	ld	hl,(_sprite)
916   00B3  26 00       	ld	h,0x00
917   00B5  11 00 00    	ld	de,_class
918   00B8  19          	add	hl,de
919   00B9  7E          	ld	a,(hl)
920   00BA  D6 08       	sub	a,0x08
921   00BC  28 65       	jr	Z,l_enemy_collition_00104
922   00BE  DD 7E FF    	ld	a,(ix-1)
923   00C1  EE 04       	xor	a,0x04
924   00C3  02          	ld	(bc),a
925   00C4  2A 00 00    	ld	hl,(_enemies)
926   00C7  26 00       	ld	h,0x00
927   00C9  01 00 00    	ld	bc,_state
928   00CC  09          	add	hl,bc
929   00CD  7E          	ld	a,(hl)
930   00CE  EE 08       	xor	a,0x08
931   00D0  77          	ld	(hl),a
932   00D1  2A 00 00    	ld	hl,(_enemies)
933   00D4  26 00       	ld	h,0x00
934   00D6  01 00 00    	ld	bc,_class
935   00D9  09          	add	hl,bc
936   00DA  4E          	ld	c,(hl)
937   00DB  3E 06       	ld	a,0x06
938   00DD  91          	sub	a,c
939   00DE  38 43       	jr	C,l_enemy_collition_00104
940   00E0  3E 00       	ld	a,+((_state_a) & 0xFF)
941   00E2  21 00 00    	ld	hl,_enemies
942   00E5  86          	add	a, (hl)
943   00E6  4F          	ld	c,a
944   00E7  3E 00       	ld	a,+((_state_a) / 256)
945   00E9  CE 00       	adc	a,0x00
946   00EB  47          	ld	b,a
947   00EC  0A          	ld	a,(bc)
948   00ED  CB CF       	set	1, a
949   00EF  02          	ld	(bc),a
950   00F0  6E          	ld	l,(hl)
951   00F1  26 00       	ld	h,0x00
952   00F3  29          	add	hl,hl
953   00F4  01 00 00    	ld	bc,_spr_timer
954   00F7  09          	add	hl,bc
955   00F8  ED 5B 00 00 	ld	de,(_curr_time)
956   00FC  73          	ld	(hl),e
957   00FD  23          	inc	hl
958   00FE  72          	ld	(hl),d
959   00FF  3E 00       	ld	a,+((_tile) & 0xFF)
960   0101  21 00 00    	ld	hl,_enemies
961   0104  86          	add	a, (hl)
962   0105  4F          	ld	c,a
963   0106  3E 00       	ld	a,+((_tile) / 256)
964   0108  CE 00       	adc	a,0x00
965   010A  47          	ld	b,a
966   010B  7E          	ld	a,(hl)
967   010C  C5          	push	bc
968   010D  F5          	push	af
969   010E  33          	inc	sp
970   010F  CD 00 00    	call	_spr_tile
971   0112  33          	inc	sp
972   0113  C1          	pop	bc
973   0114  7D          	ld	a, l
974   0115  02          	ld	(bc),a
975   0116  3A 00 00    	ld	a,(_enemies)
976   0119  C6 00       	add	a,+((_colint) & 0xFF)
977   011B  4F          	ld	c,a
978   011C  3E 00       	ld	a,+((_colint) / 256)
979   011E  CE 00       	adc	a,0x00
980   0120  47          	ld	b,a
981   0121  AF          	xor	a, a
982   0122  02          	ld	(bc),a
983   0123              l_enemy_collition_00104:
984   0123  21 00 00    	ld	hl,_s_state
985   0126  7E          	ld	a,(hl)
986   0127  EE 0C       	xor	a,+(0x04^0x08)
987   0129  77          	ld	(hl),a
988   012A  2A 00 00    	ld	hl,(_sprite)
989   012D  26 00       	ld	h,0x00
990   012F  01 00 00    	ld	bc,_class
991   0132  09          	add	hl,bc
992   0133  4E          	ld	c,(hl)
993   0134  3E 06       	ld	a,0x06
994   0136  91          	sub	a,c
995   0137  38 41       	jr	C,l_enemy_collition_00109
996   0139  3E 00       	ld	a,+((_state_a) & 0xFF)
997   013B  21 00 00    	ld	hl,_sprite
998   013E  86          	add	a, (hl)
999   013F  4F          	ld	c,a
1000  0140  3E 00       	ld	a,+((_state_a) / 256)
1001  0142  CE 00       	adc	a,0x00
1002  0144  47          	ld	b,a
1003  0145  0A          	ld	a,(bc)
1004  0146  CB CF       	set	1, a
1005  0148  02          	ld	(bc),a
1006  0149  3E 00       	ld	a,+((_state) & 0xFF)
1007  014B  86          	add	a, (hl)
1008  014C  4F          	ld	c,a
1009  014D  3E 00       	ld	a,+((_state) / 256)
1010  014F  CE 00       	adc	a,0x00
1011  0151  47          	ld	b,a
1012  0152  3A 00 00    	ld	a,(_s_state)
1013  0155  02          	ld	(bc),a
1014  0156  3E 00       	ld	a,+((_tile) & 0xFF)
1015  0158  21 00 00    	ld	hl,_sprite
1016  015B  86          	add	a, (hl)
1017  015C  4F          	ld	c,a
1018  015D  3E 00       	ld	a,+((_tile) / 256)
1019  015F  CE 00       	adc	a,0x00
1020  0161  47          	ld	b,a
1021  0162  7E          	ld	a,(hl)
1022  0163  C5          	push	bc
1023  0164  F5          	push	af
1024  0165  33          	inc	sp
1025  0166  CD 00 00    	call	_spr_tile
1026  0169  33          	inc	sp
1027  016A  C1          	pop	bc
1028  016B  7D          	ld	a, l
1029  016C  02          	ld	(bc),a
1030  016D  3A 00 00    	ld	a,(_sprite)
1031  0170  C6 00       	add	a,+((_colint) & 0xFF)
1032  0172  4F          	ld	c,a
1033  0173  3E 00       	ld	a,+((_colint) / 256)
1034  0175  CE 00       	adc	a,0x00
1035  0177  47          	ld	b,a
1036  0178  AF          	xor	a, a
1037  0179  02          	ld	(bc),a
1038  017A              l_enemy_collition_00109:
1039  017A  2A 00 00    	ld	hl,(_sprite)
1040  017D  26 00       	ld	h,0x00
1041  017F  29          	add	hl,hl
1042  0180  01 00 00    	ld	bc,_spr_timer
1043  0183  09          	add	hl,bc
1044  0184  ED 5B 00 00 	ld	de,(_curr_time)
1045  0188  73          	ld	(hl),e
1046  0189  23          	inc	hl
1047  018A  72          	ld	(hl),d
1048  018B  21 00 00    	ld	hl,_enemies
1049  018E  36 06       	ld	(hl),0x06
1050  0190              l_enemy_collition_00114:
1051  0190  21 00 00    	ld	hl,_enemies
1052  0193  7E          	ld	a,(hl)
1053  0194  3C          	inc	a
1054  0195  77          	ld	(hl),a
1055  0196  D6 06       	sub	a,0x06
1056  0198  DA 74 00    	jp	C,l_enemy_collition_00113
1057  019B  33          	inc	sp
1058  019C  DD E1       	pop	ix
1059  019E  C9          	ret
1060  019F              ;	---------------------------------
1061  019F              ; Function enemy_collition_check
1062  019F              ; ---------------------------------
1063  019F              _enemy_collition_check:
1064  019F  2A 00 00    	ld	hl,(_enemies)
1065  01A2  26 00       	ld	h,0x00
1066  01A4  01 00 00    	ld	bc,_class
1067  01A7  09          	add	hl,bc
1068  01A8  7E          	ld	a,(hl)
1069  01A9  4F          	ld	c,a
1070  01AA  B7          	or	a,a
1071  01AB  20 04       	jr	NZ,l_enemy_collition_check_00102
1072  01AD  6F          	ld	l,a
1073  01AE  C3 86 02    	jp	l_enemy_collition_check_00125
1074  01B1              l_enemy_collition_check_00102:
1075  01B1  3E 09       	ld	a,0x09
1076  01B3  91          	sub	a, c
1077  01B4  30 05       	jr	NC,l_enemy_collition_check_00104
1078  01B6  2E 00       	ld	l,0x00
1079  01B8  C3 86 02    	jp	l_enemy_collition_check_00125
1080  01BB              l_enemy_collition_check_00104:
1081  01BB  3A 00 00    	ld	a,(_enemies)
1082  01BE  21 00 00    	ld	hl,_sprite
1083  01C1  96          	sub	a,(hl)
1084  01C2  20 04       	jr	NZ,l_enemy_collition_check_00106
1085  01C4  6F          	ld	l,a
1086  01C5  C3 86 02    	jp	l_enemy_collition_check_00125
1087  01C8              l_enemy_collition_check_00106:
1088  01C8  3A 00 00    	ld	a,(_sprite)
1089  01CB  C6 00       	add	a,+((_state) & 0xFF)
1090  01CD  4F          	ld	c,a
1091  01CE  3E 00       	ld	a,+((_state) / 256)
1092  01D0  CE 00       	adc	a,0x00
1093  01D2  47          	ld	b,a
1094  01D3  0A          	ld	a,(bc)
1095  01D4  CB 67       	bit	4, a
1096  01D6  28 05       	jr	Z,l_enemy_collition_check_00108
1097  01D8  2E 00       	ld	l,0x00
1098  01DA  C3 86 02    	jp	l_enemy_collition_check_00125
1099  01DD              l_enemy_collition_check_00108:
1100  01DD  CB 6F       	bit	5, a
1101  01DF  28 05       	jr	Z,l_enemy_collition_check_00110
1102  01E1  2E 00       	ld	l,0x00
1103  01E3  C3 86 02    	jp	l_enemy_collition_check_00125
1104  01E6              l_enemy_collition_check_00110:
1105  01E6  3A 00 00    	ld	a,(_sprite)
1106  01E9  C6 00       	add	a,+((_state_a) & 0xFF)
1107  01EB  4F          	ld	c,a
1108  01EC  3E 00       	ld	a,+((_state_a) / 256)
1109  01EE  CE 00       	adc	a,0x00
1110  01F0  47          	ld	b,a
1111  01F1  0A          	ld	a,(bc)
1112  01F2  CB 4F       	bit	1, a
1113  01F4  28 05       	jr	Z,l_enemy_collition_check_00112
1114  01F6  2E 00       	ld	l,0x00
1115  01F8  C3 86 02    	jp	l_enemy_collition_check_00125
1116  01FB              l_enemy_collition_check_00112:
1117  01FB  3A 00 00    	ld	a,(_enemies)
1118  01FE  C6 00       	add	a,+((_state) & 0xFF)
1119  0200  4F          	ld	c,a
1120  0201  3E 00       	ld	a,+((_state) / 256)
1121  0203  CE 00       	adc	a,0x00
1122  0205  47          	ld	b,a
1123  0206  0A          	ld	a,(bc)
1124  0207  CB 6F       	bit	5, a
1125  0209  28 05       	jr	Z,l_enemy_collition_check_00114
1126  020B  2E 00       	ld	l,0x00
1127  020D  C3 86 02    	jp	l_enemy_collition_check_00125
1128  0210              l_enemy_collition_check_00114:
1129  0210  CB 4F       	bit	1, a
1130  0212  28 04       	jr	Z,l_enemy_collition_check_00116
1131  0214  2E 00       	ld	l,0x00
1132  0216  18 6E       	jr	l_enemy_collition_check_00125
1133  0218              l_enemy_collition_check_00116:
1134  0218  01 00 00    	ld	bc,_lin+0
1135  021B  2A 00 00    	ld	hl,(_enemies)
1136  021E  26 00       	ld	h,0x00
1137  0220  09          	add	hl,bc
1138  0221  6E          	ld	l, (hl)
1139  0222  26 00       	ld	h,0x00
1140  0224  EB          	ex	de,hl
1141  0225  2A 00 00    	ld	hl,(_sprite)
1142  0228  62          	ld	h,d
1143  0229  09          	add	hl,bc
1144  022A  4E          	ld	c, (hl)
1145  022B  AF          	xor	a,a
1146  022C  47          	ld	b,a
1147  022D  EB          	ex	de,hl
1148  022E  ED 42       	sbc	hl,bc
1149  0230  CD 00 00    	call	_abs_fastcall
1150  0233  22 00 00    	ld	(_tmp_ui),hl
1151  0236  7D          	ld	a,l
1152  0237  D6 10       	sub	a,0x10
1153  0239  7C          	ld	a,h
1154  023A  DE 00       	sbc	a,0x00
1155  023C  38 04       	jr	C,l_enemy_collition_check_00118
1156  023E  2E 00       	ld	l,0x00
1157  0240  18 44       	jr	l_enemy_collition_check_00125
1158  0242              l_enemy_collition_check_00118:
1159  0242  01 00 00    	ld	bc,_col+0
1160  0245  2A 00 00    	ld	hl,(_sprite)
1161  0248  26 00       	ld	h,0x00
1162  024A  09          	add	hl,bc
1163  024B  6E          	ld	l, (hl)
1164  024C  EB          	ex	de,hl
1165  024D  2A 00 00    	ld	hl,(_enemies)
1166  0250  26 00       	ld	h,0x00
1167  0252  09          	add	hl,bc
1168  0253  4E          	ld	c, (hl)
1169  0254  7B          	ld	a,e
1170  0255  91          	sub	a, c
1171  0256  32 00 00    	ld	(_tmp_sc),a
1172  0259  3A 00 00    	ld	a,(_sprite)
1173  025C  C6 00       	add	a,+((_state) & 0xFF)
1174  025E  4F          	ld	c,a
1175  025F  3E 00       	ld	a,+((_state) / 256)
1176  0261  CE 00       	adc	a,0x00
1177  0263  47          	ld	b,a
1178  0264  3A 00 00    	ld	a,(_tmp_sc)
1179  0267  D6 FE       	sub	a,0xfe
1180  0269  20 09       	jr	NZ,l_enemy_collition_check_00120
1181  026B  0A          	ld	a,(bc)
1182  026C  CB 57       	bit	2, a
1183  026E  28 04       	jr	Z,l_enemy_collition_check_00120
1184  0270  2E 01       	ld	l,0x01
1185  0272  18 12       	jr	l_enemy_collition_check_00125
1186  0274              l_enemy_collition_check_00120:
1187  0274  3A 00 00    	ld	a,(_tmp_sc)
1188  0277  D6 02       	sub	a,0x02
1189  0279  20 09       	jr	NZ,l_enemy_collition_check_00123
1190  027B  0A          	ld	a,(bc)
1191  027C  CB 5F       	bit	3, a
1192  027E  28 04       	jr	Z,l_enemy_collition_check_00123
1193  0280  2E 01       	ld	l,0x01
1194  0282  18 02       	jr	l_enemy_collition_check_00125
1195  0284              l_enemy_collition_check_00123:
1196  0284  2E 00       	ld	l,0x00
1197  0286              l_enemy_collition_check_00125:
1198  0286  C9          	ret
1199  0287              ;	---------------------------------
1200  0287              ; Function enemy_hit
1201  0287              ; ---------------------------------
1202  0287              _enemy_hit:
1203  0287  76          	halt
1204  0288  2A 00 00    	ld	hl,(_enemies)
1205  028B  26 00       	ld	h,0x00
1206  028D  5D          	ld	e,l
1207  028E  01 00 00    	ld	bc,_col
1208  0291  09          	add	hl,bc
1209  0292  46          	ld	b,(hl)
1210  0293  16 00       	ld	d,0x00
1211  0295  21 00 00    	ld	hl,_lin
1212  0298  19          	add	hl,de
1213  0299  4E          	ld	c, (hl)
1214  029A  C5          	push	bc
1215  029B  AF          	xor	a, a
1216  029C  F5          	push	af
1217  029D  33          	inc	sp
1218  029E  CD 00 00    	call	_NIRVANAP_fillT_callee
1219  02A1  2A 00 00    	ld	hl,(_enemies)
1220  02A4  26 00       	ld	h,0x00
1221  02A6  01 00 00    	ld	bc,_lin
1222  02A9  09          	add	hl,bc
1223  02AA  7E          	ld	a,(hl)
1224  02AB  C6 FC       	add	a,0xfc
1225  02AD  77          	ld	(hl),a
1226  02AE  3E 00       	ld	a,+((_col) & 0xFF)
1227  02B0  21 00 00    	ld	hl,_enemies
1228  02B3  86          	add	a, (hl)
1229  02B4  4F          	ld	c,a
1230  02B5  3E 00       	ld	a,+((_col) / 256)
1231  02B7  CE 00       	adc	a,0x00
1232  02B9  47          	ld	b,a
1233  02BA  0A          	ld	a,(bc)
1234  02BB  4F          	ld	c,a
1235  02BC  3E 00       	ld	a,+((_lin) & 0xFF)
1236  02BE  86          	add	a, (hl)
1237  02BF  5F          	ld	e,a
1238  02C0  3E 00       	ld	a,+((_lin) / 256)
1239  02C2  CE 00       	adc	a,0x00
1240  02C4  57          	ld	d,a
1241  02C5  1A          	ld	a,(de)
1242  02C6  47          	ld	b,a
1243  02C7  3E 00       	ld	a,+((_tile) & 0xFF)
1244  02C9  86          	add	a, (hl)
1245  02CA  5F          	ld	e,a
1246  02CB  3E 00       	ld	a,+((_tile) / 256)
1247  02CD  CE 00       	adc	a,0x00
1248  02CF  57          	ld	d,a
1249  02D0  1A          	ld	a,(de)
1250  02D1  57          	ld	d,a
1251  02D2  79          	ld	a,c
1252  02D3  F5          	push	af
1253  02D4  33          	inc	sp
1254  02D5  4A          	ld	c, d
1255  02D6  7E          	ld	a,(hl)
1256  02D7  C5          	push	bc
1257  02D8  F5          	push	af
1258  02D9  33          	inc	sp
1259  02DA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1260  02DD  2A 00 00    	ld	hl,(_enemies)
1261  02E0  26 00       	ld	h,0x00
1262  02E2  01 00 00    	ld	bc,_state_a
1263  02E5  09          	add	hl,bc
1264  02E6  7E          	ld	a,(hl)
1265  02E7  E6 FD       	and	a,0xfd
1266  02E9  77          	ld	(hl),a
1267  02EA  01 00 00    	ld	bc,_spr_timer+0
1268  02ED  2A 00 00    	ld	hl,(_enemies)
1269  02F0  26 00       	ld	h,0x00
1270  02F2  29          	add	hl, hl
1271  02F3  09          	add	hl,bc
1272  02F4  ED 5B 00 00 	ld	de,(_curr_time)
1273  02F8  73          	ld	(hl),e
1274  02F9  23          	inc	hl
1275  02FA  72          	ld	(hl),d
1276  02FB  3A 00 00    	ld	a,(_enemies)
1277  02FE  C6 00       	add	a,+((_class) & 0xFF)
1278  0300  4F          	ld	c,a
1279  0301  3E 00       	ld	a,+((_class) / 256)
1280  0303  CE 00       	adc	a,0x00
1281  0305  47          	ld	b,a
1282  0306  0A          	ld	a,(bc)
1283  0307  5F          	ld	e,a
1284  0308  D6 01       	sub	a,0x01
1285  030A  DA B8 03    	jp	C,l_enemy_hit_00113
1286  030D  3E 0B       	ld	a,0x0b
1287  030F  93          	sub	a, e
1288  0310  DA B8 03    	jp	C,l_enemy_hit_00113
1289  0313  1D          	dec	e
1290  0314  16 00       	ld	d,0x00
1291  0316  21 1D 03    	ld	hl,l_enemy_hit_00123
1292  0319  19          	add	hl,de
1293  031A  19          	add	hl,de
1294  031B  19          	add	hl,de
1295  031C  E9          	jp	(hl)
1296  031D              l_enemy_hit_00123:
1297  031D  C3 3E 03    	jp	l_enemy_hit_00101
1298  0320  C3 48 03    	jp	l_enemy_hit_00102
1299  0323  C3 52 03    	jp	l_enemy_hit_00103
1300  0326  C3 5C 03    	jp	l_enemy_hit_00104
1301  0329  C3 66 03    	jp	l_enemy_hit_00105
1302  032C  C3 70 03    	jp	l_enemy_hit_00106
1303  032F  C3 84 03    	jp	l_enemy_hit_00108
1304  0332  C3 90 03    	jp	l_enemy_hit_00109
1305  0335  C3 7A 03    	jp	l_enemy_hit_00107
1306  0338  C3 A2 03    	jp	l_enemy_hit_00110
1307  033B  C3 AE 03    	jp	l_enemy_hit_00111
1308  033E              l_enemy_hit_00101:
1309  033E  21 30 00    	ld	hl,0x0030
1310  0341  E5          	push	hl
1311  0342  CD AE 04    	call	_enemy_flip
1312  0345  F1          	pop	af
1313  0346  18 70       	jr	l_enemy_hit_00113
1314  0348              l_enemy_hit_00102:
1315  0348  21 3C 00    	ld	hl,0x003c
1316  034B  E5          	push	hl
1317  034C  CD AE 04    	call	_enemy_flip
1318  034F  F1          	pop	af
1319  0350  18 66       	jr	l_enemy_hit_00113
1320  0352              l_enemy_hit_00103:
1321  0352  21 48 00    	ld	hl,0x0048
1322  0355  E5          	push	hl
1323  0356  CD AE 04    	call	_enemy_flip
1324  0359  F1          	pop	af
1325  035A  18 5C       	jr	l_enemy_hit_00113
1326  035C              l_enemy_hit_00104:
1327  035C  21 54 00    	ld	hl,0x0054
1328  035F  E5          	push	hl
1329  0360  CD 97 05    	call	_enemy_flip_sidestepper
1330  0363  F1          	pop	af
1331  0364  18 52       	jr	l_enemy_hit_00113
1332  0366              l_enemy_hit_00105:
1333  0366  21 60 00    	ld	hl,0x0060
1334  0369  E5          	push	hl
1335  036A  CD 97 05    	call	_enemy_flip_sidestepper
1336  036D  F1          	pop	af
1337  036E  18 48       	jr	l_enemy_hit_00113
1338  0370              l_enemy_hit_00106:
1339  0370  21 6C 00    	ld	hl,0x006c
1340  0373  E5          	push	hl
1341  0374  CD 97 05    	call	_enemy_flip_sidestepper
1342  0377  F1          	pop	af
1343  0378  18 3E       	jr	l_enemy_hit_00113
1344  037A              l_enemy_hit_00107:
1345  037A  21 78 00    	ld	hl,0x0078
1346  037D  E5          	push	hl
1347  037E  CD AE 04    	call	_enemy_flip
1348  0381  F1          	pop	af
1349  0382  18 34       	jr	l_enemy_hit_00113
1350  0384              l_enemy_hit_00108:
1351  0384  2A 00 00    	ld	hl,(_enemies)
1352  0387  26 32       	ld	h,0x32
1353  0389  E5          	push	hl
1354  038A  CD 00 00    	call	_player_coin
1355  038D  F1          	pop	af
1356  038E  18 28       	jr	l_enemy_hit_00113
1357  0390              l_enemy_hit_00109:
1358  0390  21 00 00    	ld	hl,_ay_effect_10
1359  0393  CD 00 00    	call	_ay_fx_play
1360  0396  2A 00 00    	ld	hl,(_enemies)
1361  0399  26 50       	ld	h,0x50
1362  039B  E5          	push	hl
1363  039C  CD 00 00    	call	_player_coin
1364  039F  F1          	pop	af
1365  03A0  18 16       	jr	l_enemy_hit_00113
1366  03A2              l_enemy_hit_00110:
1367  03A2  2A 00 00    	ld	hl,(_enemies)
1368  03A5  26 64       	ld	h,0x64
1369  03A7  E5          	push	hl
1370  03A8  CD 00 00    	call	_player_coin
1371  03AB  F1          	pop	af
1372  03AC  18 0A       	jr	l_enemy_hit_00113
1373  03AE              l_enemy_hit_00111:
1374  03AE  2A 00 00    	ld	hl,(_enemies)
1375  03B1  26 14       	ld	h,0x14
1376  03B3  E5          	push	hl
1377  03B4  CD 00 00    	call	_player_coin
1378  03B7  F1          	pop	af
1379  03B8              l_enemy_hit_00113:
1380  03B8  C9          	ret
1381  03B9              ;	---------------------------------
1382  03B9              ; Function enemy_flip_change_dir
1383  03B9              ; ---------------------------------
1384  03B9              _enemy_flip_change_dir:
1385  03B9  CD 00 00    	call	___sdcc_enter_ix
1386  03BC  3B          	dec	sp
1387  03BD  3A 00 00    	ld	a,(_enemies)
1388  03C0  C6 00       	add	a,+((_state) & 0xFF)
1389  03C2  4F          	ld	c,a
1390  03C3  3E 00       	ld	a,+((_state) / 256)
1391  03C5  CE 00       	adc	a,0x00
1392  03C7  47          	ld	b,a
1393  03C8  0A          	ld	a,(bc)
1394  03C9  CB 57       	bit	2, a
1395  03CB  28 1E       	jr	Z,l_enemy_flip_change_dir_00102
1396  03CD  01 00 00    	ld	bc,_state_a+0
1397  03D0  79          	ld	a,c
1398  03D1  21 00 00    	ld	hl,_enemies
1399  03D4  86          	add	a, (hl)
1400  03D5  5F          	ld	e,a
1401  03D6  78          	ld	a,b
1402  03D7  CE 00       	adc	a,0x00
1403  03D9  57          	ld	d,a
1404  03DA  1A          	ld	a,(de)
1405  03DB  CB E7       	set	4, a
1406  03DD  12          	ld	(de),a
1407  03DE  79          	ld	a,c
1408  03DF  86          	add	a, (hl)
1409  03E0  4F          	ld	c,a
1410  03E1  78          	ld	a,b
1411  03E2  CE 00       	adc	a,0x00
1412  03E4  47          	ld	b,a
1413  03E5  0A          	ld	a,(bc)
1414  03E6  E6 F7       	and	a,0xf7
1415  03E8  02          	ld	(bc),a
1416  03E9  18 1C       	jr	l_enemy_flip_change_dir_00103
1417  03EB              l_enemy_flip_change_dir_00102:
1418  03EB  01 00 00    	ld	bc,_state_a+0
1419  03EE  79          	ld	a,c
1420  03EF  21 00 00    	ld	hl,_enemies
1421  03F2  86          	add	a, (hl)
1422  03F3  5F          	ld	e,a
1423  03F4  78          	ld	a,b
1424  03F5  CE 00       	adc	a,0x00
1425  03F7  57          	ld	d,a
1426  03F8  1A          	ld	a,(de)
1427  03F9  CB E7       	set	4, a
1428  03FB  12          	ld	(de),a
1429  03FC  79          	ld	a,c
1430  03FD  86          	add	a, (hl)
1431  03FE  4F          	ld	c,a
1432  03FF  78          	ld	a,b
1433  0400  CE 00       	adc	a,0x00
1434  0402  47          	ld	b,a
1435  0403  0A          	ld	a,(bc)
1436  0404  E6 F7       	and	a,0xf7
1437  0406  02          	ld	(bc),a
1438  0407              l_enemy_flip_change_dir_00103:
1439  0407  01 00 00    	ld	bc,_col+0
1440  040A  2A 00 00    	ld	hl,(_sprite)
1441  040D  26 00       	ld	h,0x00
1442  040F  09          	add	hl,bc
1443  0410  7E          	ld	a,(hl)
1444  0411  DD 77 FF    	ld	(ix-1),a
1445  0414  79          	ld	a,c
1446  0415  21 00 00    	ld	hl,_enemies
1447  0418  86          	add	a, (hl)
1448  0419  5F          	ld	e,a
1449  041A  78          	ld	a,b
1450  041B  CE 00       	adc	a,0x00
1451  041D  57          	ld	d,a
1452  041E  1A          	ld	a,(de)
1453  041F  DD 96 FF    	sub	a,(ix-1)
1454  0422  30 19       	jr	NC,l_enemy_flip_change_dir_00105
1455  0424  3E 00       	ld	a,+((_state) & 0xFF)
1456  0426  86          	add	a, (hl)
1457  0427  5F          	ld	e,a
1458  0428  3E 00       	ld	a,+((_state) / 256)
1459  042A  CE 00       	adc	a,0x00
1460  042C  57          	ld	d,a
1461  042D  1A          	ld	a,(de)
1462  042E  CB DF       	set	3, a
1463  0430  12          	ld	(de),a
1464  0431  5E          	ld	e,(hl)
1465  0432  16 00       	ld	d,0x00
1466  0434  21 00 00    	ld	hl,_state
1467  0437  19          	add	hl,de
1468  0438  7E          	ld	a,(hl)
1469  0439  EB          	ex	de,hl
1470  043A  E6 FB       	and	a,0xfb
1471  043C  12          	ld	(de),a
1472  043D              l_enemy_flip_change_dir_00105:
1473  043D  2A 00 00    	ld	hl,(_sprite)
1474  0440  26 00       	ld	h,0x00
1475  0442  09          	add	hl,bc
1476  0443  7E          	ld	a,(hl)
1477  0444  DD 77 FF    	ld	(ix-1),a
1478  0447  79          	ld	a,c
1479  0448  21 00 00    	ld	hl,_enemies
1480  044B  86          	add	a, (hl)
1481  044C  5F          	ld	e,a
1482  044D  78          	ld	a,b
1483  044E  CE 00       	adc	a,0x00
1484  0450  57          	ld	d,a
1485  0451  1A          	ld	a,(de)
1486  0452  5F          	ld	e,a
1487  0453  DD 7E FF    	ld	a,(ix-1)
1488  0456  93          	sub	a, e
1489  0457  30 19       	jr	NC,l_enemy_flip_change_dir_00107
1490  0459  3E 00       	ld	a,+((_state) & 0xFF)
1491  045B  86          	add	a, (hl)
1492  045C  5F          	ld	e,a
1493  045D  3E 00       	ld	a,+((_state) / 256)
1494  045F  CE 00       	adc	a,0x00
1495  0461  57          	ld	d,a
1496  0462  1A          	ld	a,(de)
1497  0463  CB D7       	set	2, a
1498  0465  12          	ld	(de),a
1499  0466  5E          	ld	e,(hl)
1500  0467  16 00       	ld	d,0x00
1501  0469  21 00 00    	ld	hl,_state
1502  046C  19          	add	hl,de
1503  046D  7E          	ld	a,(hl)
1504  046E  EB          	ex	de,hl
1505  046F  E6 F7       	and	a,0xf7
1506  0471  12          	ld	(de),a
1507  0472              l_enemy_flip_change_dir_00107:
1508  0472  DD 7E 04    	ld	a,(ix+4)
1509  0475  B7          	or	a, a
1510  0476  20 32       	jr	NZ,l_enemy_flip_change_dir_00111
1511  0478  2A 00 00    	ld	hl,(_sprite)
1512  047B  26 00       	ld	h,0x00
1513  047D  09          	add	hl,bc
1514  047E  6E          	ld	l, (hl)
1515  047F  79          	ld	a,c
1516  0480  EB          	ex	de,hl
1517  0481  21 00 00    	ld	hl,_enemies
1518  0484  86          	add	a, (hl)
1519  0485  4F          	ld	c,a
1520  0486  78          	ld	a,b
1521  0487  CE 00       	adc	a,0x00
1522  0489  47          	ld	b,a
1523  048A  0A          	ld	a,(bc)
1524  048B  4F          	ld	c,a
1525  048C  7B          	ld	a,e
1526  048D  91          	sub	a, c
1527  048E  20 1A       	jr	NZ,l_enemy_flip_change_dir_00111
1528  0490  3E 00       	ld	a,+((_state) & 0xFF)
1529  0492  86          	add	a, (hl)
1530  0493  4F          	ld	c,a
1531  0494  3E 00       	ld	a,+((_state) / 256)
1532  0496  CE 00       	adc	a,0x00
1533  0498  47          	ld	b,a
1534  0499  0A          	ld	a,(bc)
1535  049A  E6 F7       	and	a,0xf7
1536  049C  02          	ld	(bc),a
1537  049D  3E 00       	ld	a,+((_state) & 0xFF)
1538  049F  86          	add	a, (hl)
1539  04A0  4F          	ld	c,a
1540  04A1  3E 00       	ld	a,+((_state) / 256)
1541  04A3  CE 00       	adc	a,0x00
1542  04A5  47          	ld	b,a
1543  04A6  0A          	ld	a,(bc)
1544  04A7  E6 FB       	and	a,0xfb
1545  04A9  02          	ld	(bc),a
1546  04AA              l_enemy_flip_change_dir_00111:
1547  04AA  33          	inc	sp
1548  04AB  DD E1       	pop	ix
1549  04AD  C9          	ret
1550  04AE              ;	---------------------------------
1551  04AE              ; Function enemy_flip
1552  04AE              ; ---------------------------------
1553  04AE              _enemy_flip:
1554  04AE  CD 00 00    	call	___sdcc_enter_ix
1555  04B1  3B          	dec	sp
1556  04B2  01 00 00    	ld	bc,_spr_timer+0
1557  04B5  2A 00 00    	ld	hl,(_enemies)
1558  04B8  26 00       	ld	h,0x00
1559  04BA  29          	add	hl, hl
1560  04BB  09          	add	hl,bc
1561  04BC  ED 5B 00 00 	ld	de,(_curr_time)
1562  04C0  73          	ld	(hl),e
1563  04C1  23          	inc	hl
1564  04C2  72          	ld	(hl),d
1565  04C3  2A 00 00    	ld	hl,(_enemies)
1566  04C6  26 00       	ld	h,0x00
1567  04C8  01 00 00    	ld	bc,_state
1568  04CB  09          	add	hl,bc
1569  04CC  7E          	ld	a,(hl)
1570  04CD  EE 01       	xor	a,0x01
1571  04CF  77          	ld	(hl),a
1572  04D0  2A 00 00    	ld	hl,(_enemies)
1573  04D3  26 00       	ld	h,0x00
1574  04D5  01 00 00    	ld	bc,_state
1575  04D8  09          	add	hl,bc
1576  04D9  7E          	ld	a,(hl)
1577  04DA  E6 FD       	and	a,0xfd
1578  04DC  77          	ld	(hl),a
1579  04DD  2A 00 00    	ld	hl,(_enemies)
1580  04E0  26 00       	ld	h,0x00
1581  04E2  01 00 00    	ld	bc,_state
1582  04E5  09          	add	hl,bc
1583  04E6  7E          	ld	a,(hl)
1584  04E7  EE 10       	xor	a,0x10
1585  04E9  77          	ld	(hl),a
1586  04EA  2A 00 00    	ld	hl,(_enemies)
1587  04ED  26 00       	ld	h,0x00
1588  04EF  01 00 00    	ld	bc,_state
1589  04F2  09          	add	hl,bc
1590  04F3  7E          	ld	a,(hl)
1591  04F4  E6 7F       	and	a,0x7f
1592  04F6  77          	ld	(hl),a
1593  04F7  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1594  04F9  21 00 00    	ld	hl,_enemies
1595  04FC  86          	add	a, (hl)
1596  04FD  4F          	ld	c,a
1597  04FE  3E 00       	ld	a,+((_jump_lin) / 256)
1598  0500  CE 00       	adc	a,0x00
1599  0502  47          	ld	b,a
1600  0503  3E 00       	ld	a,+((_lin) & 0xFF)
1601  0505  86          	add	a, (hl)
1602  0506  5F          	ld	e,a
1603  0507  3E 00       	ld	a,+((_lin) / 256)
1604  0509  CE 00       	adc	a,0x00
1605  050B  57          	ld	d,a
1606  050C  1A          	ld	a,(de)
1607  050D  02          	ld	(bc),a
1608  050E  3E 00       	ld	a,+((_state) & 0xFF)
1609  0510  86          	add	a, (hl)
1610  0511  4F          	ld	c,a
1611  0512  3E 00       	ld	a,+((_state) / 256)
1612  0514  CE 00       	adc	a,0x00
1613  0516  47          	ld	b,a
1614  0517  0A          	ld	a,(bc)
1615  0518  DD 77 FF    	ld	(ix-1),a
1616  051B  CB 67       	bit	4,a
1617  051D  28 28       	jr	Z,l_enemy_flip_00105
1618  051F  21 00 00    	ld	hl,_ay_effect_02
1619  0522  CD 00 00    	call	_ay_fx_play
1620  0525  AF          	xor	a, a
1621  0526  F5          	push	af
1622  0527  33          	inc	sp
1623  0528  CD B9 03    	call	_enemy_flip_change_dir
1624  052B  33          	inc	sp
1625  052C  3A 00 00    	ld	a,(_enemies)
1626  052F  C6 00       	add	a,+((_tile) & 0xFF)
1627  0531  4F          	ld	c,a
1628  0532  3E 00       	ld	a,+((_tile) / 256)
1629  0534  CE 00       	adc	a,0x00
1630  0536  47          	ld	b,a
1631  0537  DD 7E 04    	ld	a,(ix+4)
1632  053A  C6 06       	add	a,0x06
1633  053C  02          	ld	(bc),a
1634  053D  21 01 00    	ld	hl,0x0001
1635  0540  E5          	push	hl
1636  0541  CD 00 00    	call	_player_score_add
1637  0544  F1          	pop	af
1638  0545  18 4C       	jr	l_enemy_flip_00107
1639  0547              l_enemy_flip_00105:
1640  0547  2A 00 00    	ld	hl,(_enemies)
1641  054A  26 00       	ld	h,0x00
1642  054C  11 00 00    	ld	de,_state_a
1643  054F  19          	add	hl,de
1644  0550  5E          	ld	e, (hl)
1645  0551  DD 7E FF    	ld	a,(ix-1)
1646  0554  CB D7       	set	2, a
1647  0556  CB 63       	bit	4, e
1648  0558  28 12       	jr	Z,l_enemy_flip_00102
1649  055A  02          	ld	(bc),a
1650  055B  3A 00 00    	ld	a,(_enemies)
1651  055E  C6 00       	add	a,+((_state) & 0xFF)
1652  0560  4F          	ld	c,a
1653  0561  3E 00       	ld	a,+((_state) / 256)
1654  0563  CE 00       	adc	a,0x00
1655  0565  47          	ld	b,a
1656  0566  0A          	ld	a,(bc)
1657  0567  E6 F7       	and	a,0xf7
1658  0569  02          	ld	(bc),a
1659  056A  18 10       	jr	l_enemy_flip_00103
1660  056C              l_enemy_flip_00102:
1661  056C  02          	ld	(bc),a
1662  056D  3A 00 00    	ld	a,(_enemies)
1663  0570  C6 00       	add	a,+((_state) & 0xFF)
1664  0572  4F          	ld	c,a
1665  0573  3E 00       	ld	a,+((_state) / 256)
1666  0575  CE 00       	adc	a,0x00
1667  0577  47          	ld	b,a
1668  0578  0A          	ld	a,(bc)
1669  0579  E6 F7       	and	a,0xf7
1670  057B  02          	ld	(bc),a
1671  057C              l_enemy_flip_00103:
1672  057C  3E 00       	ld	a,+((_tile) & 0xFF)
1673  057E  21 00 00    	ld	hl,_enemies
1674  0581  86          	add	a, (hl)
1675  0582  4F          	ld	c,a
1676  0583  3E 00       	ld	a,+((_tile) / 256)
1677  0585  CE 00       	adc	a,0x00
1678  0587  47          	ld	b,a
1679  0588  7E          	ld	a,(hl)
1680  0589  C5          	push	bc
1681  058A  F5          	push	af
1682  058B  33          	inc	sp
1683  058C  CD 00 00    	call	_spr_tile
1684  058F  33          	inc	sp
1685  0590  C1          	pop	bc
1686  0591  7D          	ld	a, l
1687  0592  02          	ld	(bc),a
1688  0593              l_enemy_flip_00107:
1689  0593  33          	inc	sp
1690  0594  DD E1       	pop	ix
1691  0596  C9          	ret
1692  0597              ;	---------------------------------
1693  0597              ; Function enemy_flip_sidestepper
1694  0597              ; ---------------------------------
1695  0597              _enemy_flip_sidestepper:
1696  0597  CD 00 00    	call	___sdcc_enter_ix
1697  059A  01 00 00    	ld	bc,_state+0
1698  059D  2A 00 00    	ld	hl,(_enemies)
1699  05A0  26 00       	ld	h,0x00
1700  05A2  09          	add	hl,bc
1701  05A3  CB 76       	bit	6,(hl)
1702  05A5  28 0D       	jr	Z,l_enemy_flip_sidestepper_00102
1703  05A7  DD 6E 04    	ld	l,(ix+4)
1704  05AA  DD 66 05    	ld	h,(ix+5)
1705  05AD  E5          	push	hl
1706  05AE  CD AE 04    	call	_enemy_flip
1707  05B1  F1          	pop	af
1708  05B2  18 56       	jr	l_enemy_flip_sidestepper_00104
1709  05B4              l_enemy_flip_sidestepper_00102:
1710  05B4  C5          	push	bc
1711  05B5  3E 01       	ld	a,0x01
1712  05B7  F5          	push	af
1713  05B8  33          	inc	sp
1714  05B9  CD B9 03    	call	_enemy_flip_change_dir
1715  05BC  33          	inc	sp
1716  05BD  C1          	pop	bc
1717  05BE  79          	ld	a,c
1718  05BF  21 00 00    	ld	hl,_enemies
1719  05C2  86          	add	a, (hl)
1720  05C3  5F          	ld	e,a
1721  05C4  78          	ld	a,b
1722  05C5  CE 00       	adc	a,0x00
1723  05C7  57          	ld	d,a
1724  05C8  1A          	ld	a,(de)
1725  05C9  EE 01       	xor	a,0x01
1726  05CB  12          	ld	(de),a
1727  05CC  79          	ld	a,c
1728  05CD  86          	add	a, (hl)
1729  05CE  5F          	ld	e,a
1730  05CF  78          	ld	a,b
1731  05D0  CE 00       	adc	a,0x00
1732  05D2  57          	ld	d,a
1733  05D3  1A          	ld	a,(de)
1734  05D4  E6 FD       	and	a,0xfd
1735  05D6  12          	ld	(de),a
1736  05D7  79          	ld	a,c
1737  05D8  86          	add	a, (hl)
1738  05D9  4F          	ld	c,a
1739  05DA  78          	ld	a,b
1740  05DB  CE 00       	adc	a,0x00
1741  05DD  47          	ld	b,a
1742  05DE  0A          	ld	a,(bc)
1743  05DF  CB F7       	set	6, a
1744  05E1  02          	ld	(bc),a
1745  05E2  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1746  05E4  86          	add	a, (hl)
1747  05E5  4F          	ld	c,a
1748  05E6  3E 00       	ld	a,+((_jump_lin) / 256)
1749  05E8  CE 00       	adc	a,0x00
1750  05EA  47          	ld	b,a
1751  05EB  3E 00       	ld	a,+((_lin) & 0xFF)
1752  05ED  86          	add	a, (hl)
1753  05EE  5F          	ld	e,a
1754  05EF  3E 00       	ld	a,+((_lin) / 256)
1755  05F1  CE 00       	adc	a,0x00
1756  05F3  57          	ld	d,a
1757  05F4  1A          	ld	a,(de)
1758  05F5  02          	ld	(bc),a
1759  05F6  3E 00       	ld	a,+((_tile) & 0xFF)
1760  05F8  86          	add	a, (hl)
1761  05F9  4F          	ld	c,a
1762  05FA  3E 00       	ld	a,+((_tile) / 256)
1763  05FC  CE 00       	adc	a,0x00
1764  05FE  47          	ld	b,a
1765  05FF  7E          	ld	a,(hl)
1766  0600  C5          	push	bc
1767  0601  F5          	push	af
1768  0602  33          	inc	sp
1769  0603  CD 00 00    	call	_spr_tile
1770  0606  33          	inc	sp
1771  0607  C1          	pop	bc
1772  0608  7D          	ld	a, l
1773  0609  02          	ld	(bc),a
1774  060A              l_enemy_flip_sidestepper_00104:
1775  060A  DD E1       	pop	ix
1776  060C  C9          	ret
1777  060D              ;	---------------------------------
1778  060D              ; Function enemy_turn
1779  060D              ; ---------------------------------
1780  060D              _enemy_turn:
1781  060D  21 00 00    	ld	hl,_sprite
1782  0610  36 00       	ld	(hl),0x00
1783  0612              l_enemy_turn_00124:
1784  0612  2A 00 00    	ld	hl,(_sprite)
1785  0615  26 00       	ld	h,0x00
1786  0617  01 00 00    	ld	bc,_class
1787  061A  09          	add	hl,bc
1788  061B  7E          	ld	a,(hl)
1789  061C  4F          	ld	c,a
1790  061D  B7          	or	a,a
1791  061E  CA 2F 07    	jp	Z,l_enemy_turn_00122
1792  0621  3A 00 00    	ld	a,(_sprite)
1793  0624  5F          	ld	e,a
1794  0625  16 00       	ld	d,0x00
1795  0627  21 00 00    	ld	hl,_lin
1796  062A  19          	add	hl,de
1797  062B  7E          	ld	a,(hl)
1798  062C  32 00 00    	ld	(_s_lin0),a
1799  062F  2A 00 00    	ld	hl,(_sprite)
1800  0632  26 00       	ld	h,0x00
1801  0634  11 00 00    	ld	de,_col
1802  0637  19          	add	hl,de
1803  0638  7E          	ld	a,(hl)
1804  0639  32 00 00    	ld	(_s_col0),a
1805  063C  2A 00 00    	ld	hl,(_sprite)
1806  063F  26 00       	ld	h,0x00
1807  0641  11 00 00    	ld	de,_tile
1808  0644  19          	add	hl,de
1809  0645  46          	ld	b, (hl)
1810  0646  3A 00 00    	ld	a,(_sprite)
1811  0649  5F          	ld	e,a
1812  064A  16 00       	ld	d,0x00
1813  064C  21 00 00    	ld	hl,_colint
1814  064F  19          	add	hl,de
1815  0650  7E          	ld	a,(hl)
1816  0651  80          	add	a,b
1817  0652  32 00 00    	ld	(_s_tile0),a
1818  0655  2A 00 00    	ld	hl,(_sprite)
1819  0658  26 00       	ld	h,0x00
1820  065A  11 00 00    	ld	de,_state
1821  065D  19          	add	hl,de
1822  065E  7E          	ld	a,(hl)
1823  065F  21 00 00    	ld	hl,_s_state
1824  0662  77          	ld	(hl),a
1825  0663  E6 01       	and	a,0x01
1826  0665  7E          	ld	a,(hl)
1827  0666  E6 20       	and	a,0x20
1828  0668  28 11       	jr	Z,l_enemy_turn_00102
1829  066A  7E          	ld	a,(hl)
1830  066B  E6 01       	and	a,0x01
1831  066D  20 0C       	jr	NZ,l_enemy_turn_00102
1832  066F  3A 00 00    	ld	a,(_sprite)
1833  0672  F5          	push	af
1834  0673  33          	inc	sp
1835  0674  CD 00 00    	call	_spr_killed
1836  0677  33          	inc	sp
1837  0678  C3 2F 07    	jp	l_enemy_turn_00122
1838  067B              l_enemy_turn_00102:
1839  067B  3A 00 00    	ld	a,(_s_state)
1840  067E  E6 10       	and	a,0x10
1841  0680  28 58       	jr	Z,l_enemy_turn_00109
1842  0682  21 00 00    	ld	hl,_s_state
1843  0685  7E          	ld	a,(hl)
1844  0686  E6 02       	and	a,0x02
1845  0688  20 50       	jr	NZ,l_enemy_turn_00109
1846  068A  7E          	ld	a,(hl)
1847  068B  E6 01       	and	a,0x01
1848  068D  20 4B       	jr	NZ,l_enemy_turn_00109
1849  068F  2A 00 00    	ld	hl,(_sprite)
1850  0692  26 00       	ld	h,0x00
1851  0694  29          	add	hl, hl
1852  0695  11 00 00    	ld	de,_last_time
1853  0698  19          	add	hl,de
1854  0699  4E          	ld	c,(hl)
1855  069A  23          	inc	hl
1856  069B  46          	ld	b,(hl)
1857  069C  21 08 00    	ld	hl,0x0008
1858  069F  E5          	push	hl
1859  06A0  C5          	push	bc
1860  06A1  CD 00 00    	call	_game_check_time
1861  06A4  F1          	pop	af
1862  06A5  F1          	pop	af
1863  06A6  7D          	ld	a,l
1864  06A7  B7          	or	a, a
1865  06A8  CA 2F 07    	jp	Z,l_enemy_turn_00122
1866  06AB  2A 00 00    	ld	hl,(_sprite)
1867  06AE  26 00       	ld	h,0x00
1868  06B0  29          	add	hl,hl
1869  06B1  01 00 00    	ld	bc,_last_time
1870  06B4  09          	add	hl,bc
1871  06B5  ED 5B 00 00 	ld	de,(_curr_time)
1872  06B9  73          	ld	(hl),e
1873  06BA  23          	inc	hl
1874  06BB  72          	ld	(hl),d
1875  06BC  CD 9F 0C    	call	_enemy_standard_hit
1876  06BF  2A 00 00    	ld	hl,(_sprite)
1877  06C2  26 00       	ld	h,0x00
1878  06C4  01 00 00    	ld	bc,_colint
1879  06C7  09          	add	hl,bc
1880  06C8  7E          	ld	a,(hl)
1881  06C9  3C          	inc	a
1882  06CA  77          	ld	(hl),a
1883  06CB  4D          	ld	c,l
1884  06CC  44          	ld	b,h
1885  06CD  5F          	ld	e,a
1886  06CE  3E 02       	ld	a,0x02
1887  06D0  93          	sub	a, e
1888  06D1  30 02       	jr	NC,l_enemy_turn_00105
1889  06D3  AF          	xor	a, a
1890  06D4  02          	ld	(bc),a
1891  06D5              l_enemy_turn_00105:
1892  06D5  CD 00 00    	call	_spr_redraw
1893  06D8  18 55       	jr	l_enemy_turn_00122
1894  06DA              l_enemy_turn_00109:
1895  06DA  79          	ld	a,c
1896  06DB  D6 07       	sub	a,0x07
1897  06DD  38 3B       	jr	C,l_enemy_turn_00118
1898  06DF  3E 0C       	ld	a,0x0c
1899  06E1  91          	sub	a, c
1900  06E2  38 36       	jr	C,l_enemy_turn_00118
1901  06E4  79          	ld	a,c
1902  06E5  C6 F9       	add	a,0xf9
1903  06E7  5F          	ld	e,a
1904  06E8  16 00       	ld	d,0x00
1905  06EA  21 F0 06    	ld	hl,l_enemy_turn_00177
1906  06ED  19          	add	hl,de
1907  06EE  19          	add	hl,de
1908  06EF  E9          	jp	(hl)
1909  06F0              l_enemy_turn_00177:
1910  06F0  18 19       	jr	l_enemy_turn_00115
1911  06F2  18 1C       	jr	l_enemy_turn_00116
1912  06F4  18 10       	jr	l_enemy_turn_00114
1913  06F6  18 04       	jr	l_enemy_turn_00112
1914  06F8  18 07       	jr	l_enemy_turn_00113
1915  06FA  18 19       	jr	l_enemy_turn_00117
1916  06FC              l_enemy_turn_00112:
1917  06FC  CD 4D 09    	call	_enemy_fireball_red
1918  06FF  18 1C       	jr	l_enemy_turn_00119
1919  0701              l_enemy_turn_00113:
1920  0701  CD 21 0A    	call	_enemy_fireball_green
1921  0704  18 17       	jr	l_enemy_turn_00119
1922  0706              l_enemy_turn_00114:
1923  0706  CD CA 0A    	call	_enemy_fighterfly
1924  0709  18 12       	jr	l_enemy_turn_00119
1925  070B              l_enemy_turn_00115:
1926  070B  CD A6 07    	call	_enemy_slipice
1927  070E  18 0D       	jr	l_enemy_turn_00119
1928  0710              l_enemy_turn_00116:
1929  0710  CD 00 00    	call	_enemy_coin1
1930  0713  18 08       	jr	l_enemy_turn_00119
1931  0715              l_enemy_turn_00117:
1932  0715  CD 42 00    	call	_enemy_coin2
1933  0718  18 03       	jr	l_enemy_turn_00119
1934  071A              l_enemy_turn_00118:
1935  071A  CD 3B 07    	call	_enemy_standard
1936  071D              l_enemy_turn_00119:
1937  071D  CD 00 00    	call	_spr_redraw
1938  0720  3A 00 00    	ld	a,(_sprite)
1939  0723  C6 00       	add	a,+((_state) & 0xFF)
1940  0725  4F          	ld	c,a
1941  0726  3E 00       	ld	a,+((_state) / 256)
1942  0728  CE 00       	adc	a,0x00
1943  072A  47          	ld	b,a
1944  072B  3A 00 00    	ld	a,(_s_state)
1945  072E  02          	ld	(bc),a
1946  072F              l_enemy_turn_00122:
1947  072F  21 00 00    	ld	hl,_sprite
1948  0732  7E          	ld	a,(hl)
1949  0733  3C          	inc	a
1950  0734  77          	ld	(hl),a
1951  0735  D6 06       	sub	a,0x06
1952  0737  DA 12 06    	jp	C,l_enemy_turn_00124
1953  073A  C9          	ret
1954  073B              ;	---------------------------------
1955  073B              ; Function enemy_standard
1956  073B              ; ---------------------------------
1957  073B              _enemy_standard:
1958  073B  21 00 00    	ld	hl,_sprite
1959  073E  E5          	push	hl
1960  073F  CD 00 00    	call	_spr_chktime
1961  0742  F1          	pop	af
1962  0743  7D          	ld	a,l
1963  0744  B7          	or	a, a
1964  0745  28 5E       	jr	Z,l_enemy_standard_00110
1965  0747  3A 00 00    	ld	a,(_s_state)
1966  074A  0F          	rrca
1967  074B  38 12       	jr	C,l_enemy_standard_00106
1968  074D  3A 00 00    	ld	a,(_sprite)
1969  0750  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1970  0752  4F          	ld	c,a
1971  0753  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1972  0755  CE 00       	adc	a,0x00
1973  0757  47          	ld	b,a
1974  0758  AF          	xor	a, a
1975  0759  02          	ld	(bc),a
1976  075A  CD 9D 0D    	call	_enemy_walk
1977  075D  18 43       	jr	l_enemy_standard_00107
1978  075F              l_enemy_standard_00106:
1979  075F  3A 00 00    	ld	a,(_sprite)
1980  0762  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1981  0764  4F          	ld	c,a
1982  0765  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1983  0767  CE 00       	adc	a,0x00
1984  0769  47          	ld	b,a
1985  076A  3E 01       	ld	a,0x01
1986  076C  02          	ld	(bc),a
1987  076D  CD 00 00    	call	_spr_move_horizontal
1988  0770  CD 00 00    	call	_spr_move_up
1989  0773  3A 00 00    	ld	a,(_s_state)
1990  0776  0F          	rrca
1991  0777  30 29       	jr	NC,l_enemy_standard_00107
1992  0779  2A 00 00    	ld	hl,(_sprite)
1993  077C  26 00       	ld	h,0x00
1994  077E  5D          	ld	e,l
1995  077F  01 00 00    	ld	bc,_jump_lin
1996  0782  09          	add	hl,bc
1997  0783  4E          	ld	c,(hl)
1998  0784  06 00       	ld	b,0x00
1999  0786  50          	ld	d,b
2000  0787  21 00 00    	ld	hl,_lin
2001  078A  19          	add	hl,de
2002  078B  5E          	ld	e, (hl)
2003  078C  16 00       	ld	d,0x00
2004  078E  79          	ld	a,c
2005  078F  93          	sub	a, e
2006  0790  4F          	ld	c,a
2007  0791  78          	ld	a,b
2008  0792  9A          	sbc	a, d
2009  0793  47          	ld	b,a
2010  0794  79          	ld	a,c
2011  0795  D6 0C       	sub	a,0x0c
2012  0797  78          	ld	a,b
2013  0798  17          	rla
2014  0799  3F          	ccf
2015  079A  1F          	rra
2016  079B  DE 80       	sbc	a,0x80
2017  079D  38 03       	jr	C,l_enemy_standard_00107
2018  079F  CD 00 00    	call	_spr_set_fall
2019  07A2              l_enemy_standard_00107:
2020  07A2  CD 98 0B    	call	_enemy_trip
2021  07A5              l_enemy_standard_00110:
2022  07A5  C9          	ret
2023  07A6              ;	---------------------------------
2024  07A6              ; Function enemy_slipice
2025  07A6              ; ---------------------------------
2026  07A6              _enemy_slipice:
2027  07A6  21 00 00    	ld	hl,_sprite
2028  07A9  E5          	push	hl
2029  07AA  CD 00 00    	call	_spr_chktime
2030  07AD  F1          	pop	af
2031  07AE  7D          	ld	a,l
2032  07AF  B7          	or	a, a
2033  07B0  CA 4C 09    	jp	Z,l_enemy_slipice_00127
2034  07B3  3A 00 00    	ld	a,(_phase_left)
2035  07B6  B7          	or	a, a
2036  07B7  CA 4C 09    	jp	Z,l_enemy_slipice_00127
2037  07BA  3A 00 00    	ld	a,(_sprite)
2038  07BD  C6 00       	add	a,+((_state) & 0xFF)
2039  07BF  4F          	ld	c,a
2040  07C0  3E 00       	ld	a,+((_state) / 256)
2041  07C2  CE 00       	adc	a,0x00
2042  07C4  47          	ld	b,a
2043  07C5  0A          	ld	a,(bc)
2044  07C6  CB 77       	bit	6, a
2045  07C8  CA 6E 08    	jp	Z,l_enemy_slipice_00122
2046  07CB  76          	halt
2047  07CC  3E 00       	ld	a,+((_col) & 0xFF)
2048  07CE  21 00 00    	ld	hl,_sprite
2049  07D1  86          	add	a, (hl)
2050  07D2  4F          	ld	c,a
2051  07D3  3E 00       	ld	a,+((_col) / 256)
2052  07D5  CE 00       	adc	a,0x00
2053  07D7  47          	ld	b,a
2054  07D8  0A          	ld	a,(bc)
2055  07D9  57          	ld	d,a
2056  07DA  3E 00       	ld	a,+((_lin) & 0xFF)
2057  07DC  86          	add	a, (hl)
2058  07DD  4F          	ld	c,a
2059  07DE  3E 00       	ld	a,+((_lin) / 256)
2060  07E0  CE 00       	adc	a,0x00
2061  07E2  47          	ld	b,a
2062  07E3  0A          	ld	a,(bc)
2063  07E4  C6 08       	add	a,0x08
2064  07E6  5F          	ld	e,a
2065  07E7  3E 00       	ld	a,+((_colint) & 0xFF)
2066  07E9  86          	add	a, (hl)
2067  07EA  4F          	ld	c,a
2068  07EB  3E 00       	ld	a,+((_colint) / 256)
2069  07ED  CE 00       	adc	a,0x00
2070  07EF  47          	ld	b,a
2071  07F0  0A          	ld	a,(bc)
2072  07F1  C6 8D       	add	a,0x8d
2073  07F3  47          	ld	b,a
2074  07F4  D5          	push	de
2075  07F5  C5          	push	bc
2076  07F6  33          	inc	sp
2077  07F7  CD 00 00    	call	_NIRVANAP_drawT_callee
2078  07FA  2A 00 00    	ld	hl,(_sprite)
2079  07FD  26 00       	ld	h,0x00
2080  07FF  01 00 00    	ld	bc,_colint
2081  0802  09          	add	hl,bc
2082  0803  7E          	ld	a,(hl)
2083  0804  3C          	inc	a
2084  0805  77          	ld	(hl),a
2085  0806  4D          	ld	c,l
2086  0807  44          	ld	b,h
2087  0808  5F          	ld	e,a
2088  0809  3E 02       	ld	a,0x02
2089  080B  93          	sub	a, e
2090  080C  30 02       	jr	NC,l_enemy_slipice_00102
2091  080E  AF          	xor	a, a
2092  080F  02          	ld	(bc),a
2093  0810              l_enemy_slipice_00102:
2094  0810  2A 00 00    	ld	hl,(_sprite)
2095  0813  26 00       	ld	h,0x00
2096  0815  29          	add	hl, hl
2097  0816  11 00 00    	ld	de,_spr_timer
2098  0819  19          	add	hl,de
2099  081A  4E          	ld	c,(hl)
2100  081B  23          	inc	hl
2101  081C  46          	ld	b,(hl)
2102  081D  21 28 00    	ld	hl,0x0028
2103  0820  E5          	push	hl
2104  0821  C5          	push	bc
2105  0822  CD 00 00    	call	_game_check_time
2106  0825  F1          	pop	af
2107  0826  F1          	pop	af
2108  0827  7D          	ld	a,l
2109  0828  B7          	or	a, a
2110  0829  CA 4C 09    	jp	Z,l_enemy_slipice_00127
2111  082C  2A 00 00    	ld	hl,(_sprite)
2112  082F  26 00       	ld	h,0x00
2113  0831  5D          	ld	e,l
2114  0832  01 00 00    	ld	bc,_col
2115  0835  09          	add	hl,bc
2116  0836  46          	ld	b,(hl)
2117  0837  16 00       	ld	d,0x00
2118  0839  21 00 00    	ld	hl,_lin
2119  083C  19          	add	hl,de
2120  083D  7E          	ld	a,(hl)
2121  083E  C6 18       	add	a,0x18
2122  0840  4F          	ld	c,a
2123  0841  C5          	push	bc
2124  0842  CD 00 00    	call	_game_freeze
2125  0845  F1          	pop	af
2126  0846  2A 00 00    	ld	hl,(_sprite)
2127  0849  26 00       	ld	h,0x00
2128  084B  5D          	ld	e,l
2129  084C  01 00 00    	ld	bc,_col
2130  084F  09          	add	hl,bc
2131  0850  46          	ld	b,(hl)
2132  0851  16 00       	ld	d,0x00
2133  0853  21 00 00    	ld	hl,_lin
2134  0856  19          	add	hl,de
2135  0857  7E          	ld	a,(hl)
2136  0858  C6 08       	add	a,0x08
2137  085A  4F          	ld	c,a
2138  085B  C5          	push	bc
2139  085C  AF          	xor	a, a
2140  085D  F5          	push	af
2141  085E  33          	inc	sp
2142  085F  CD 00 00    	call	_NIRVANAP_fillT_callee
2143  0862  3A 00 00    	ld	a,(_sprite)
2144  0865  F5          	push	af
2145  0866  33          	inc	sp
2146  0867  CD 00 00    	call	_spr_destroy
2147  086A  33          	inc	sp
2148  086B  C3 4C 09    	jp	l_enemy_slipice_00127
2149  086E              l_enemy_slipice_00122:
2150  086E  CB 47       	bit	0, a
2151  0870  C2 1D 09    	jp	NZ,l_enemy_slipice_00110
2152  0873  CB 4F       	bit	1, a
2153  0875  C2 1D 09    	jp	NZ,l_enemy_slipice_00110
2154  0878  2A 00 00    	ld	hl,(_sprite)
2155  087B  26 00       	ld	h,0x00
2156  087D  01 00 00    	ld	bc,_col
2157  0880  09          	add	hl,bc
2158  0881  7E          	ld	a,(hl)
2159  0882  4F          	ld	c,a
2160  0883  D6 07       	sub	a,0x07
2161  0885  28 0A       	jr	Z,l_enemy_slipice_00116
2162  0887  79          	ld	a,c
2163  0888  FE 0F       	cp	a,0x0f
2164  088A  28 05       	jr	Z,l_enemy_slipice_00116
2165  088C  D6 18       	sub	a,0x18
2166  088E  C2 1D 09    	jp	NZ,l_enemy_slipice_00110
2167  0891              l_enemy_slipice_00116:
2168  0891  79          	ld	a,c
2169  0892  D6 88       	sub	a,0x88
2170  0894  D2 1D 09    	jp	NC,l_enemy_slipice_00110
2171  0897  CD 00 00    	call	_rand
2172  089A  22 00 00    	ld	(_tmp_ui),hl
2173  089D  3E 00       	ld	a,+((_col) & 0xFF)
2174  089F  21 00 00    	ld	hl,_sprite
2175  08A2  86          	add	a, (hl)
2176  08A3  4F          	ld	c,a
2177  08A4  3E 00       	ld	a,+((_col) / 256)
2178  08A6  CE 00       	adc	a,0x00
2179  08A8  47          	ld	b,a
2180  08A9  0A          	ld	a,(bc)
2181  08AA  57          	ld	d,a
2182  08AB  4E          	ld	c,(hl)
2183  08AC  06 00       	ld	b,0x00
2184  08AE  21 00 00    	ld	hl,_lin
2185  08B1  09          	add	hl,bc
2186  08B2  7E          	ld	a,(hl)
2187  08B3  C6 10       	add	a,0x10
2188  08B5  5F          	ld	e, a
2189  08B6  D5          	push	de
2190  08B7  CD 00 00    	call	_game_calc_index
2191  08BA  F1          	pop	af
2192  08BB  22 00 00    	ld	(_index1),hl
2193  08BE  01 00 00    	ld	bc,_lvl_1
2194  08C1  09          	add	hl,bc
2195  08C2  7E          	ld	a,(hl)
2196  08C3  D6 12       	sub	a,0x12
2197  08C5  20 51       	jr	NZ,l_enemy_slipice_00106
2198  08C7  21 00 00    	ld	hl,_tmp_ui
2199  08CA  7E          	ld	a,(hl)
2200  08CB  D6 32       	sub	a,0x32
2201  08CD  23          	inc	hl
2202  08CE  7E          	ld	a,(hl)
2203  08CF  DE 33       	sbc	a,0x33
2204  08D1  30 45       	jr	NC,l_enemy_slipice_00106
2205  08D3  21 00 00    	ld	hl,_ay_effect_16
2206  08D6  CD 00 00    	call	_ay_fx_play
2207  08D9  21 00 00    	ld	hl,_s_state
2208  08DC  CB F6       	set	6, (hl)
2209  08DE  01 00 00    	ld	bc,_spr_timer+0
2210  08E1  2A 00 00    	ld	hl,(_sprite)
2211  08E4  26 00       	ld	h,0x00
2212  08E6  29          	add	hl, hl
2213  08E7  09          	add	hl,bc
2214  08E8  ED 5B 00 00 	ld	de,(_curr_time)
2215  08EC  73          	ld	(hl),e
2216  08ED  23          	inc	hl
2217  08EE  72          	ld	(hl),d
2218  08EF  2A 00 00    	ld	hl,(_sprite)
2219  08F2  26 00       	ld	h,0x00
2220  08F4  01 00 00    	ld	bc,_lin
2221  08F7  09          	add	hl,bc
2222  08F8  7E          	ld	a,(hl)
2223  08F9  C6 F8       	add	a,0xf8
2224  08FB  77          	ld	(hl),a
2225  08FC  3E 00       	ld	a,+((_colint) & 0xFF)
2226  08FE  21 00 00    	ld	hl,_sprite
2227  0901  86          	add	a, (hl)
2228  0902  4F          	ld	c,a
2229  0903  3E 00       	ld	a,+((_colint) / 256)
2230  0905  CE 00       	adc	a,0x00
2231  0907  47          	ld	b,a
2232  0908  AF          	xor	a, a
2233  0909  02          	ld	(bc),a
2234  090A  3E 00       	ld	a,+((_tile) & 0xFF)
2235  090C  86          	add	a, (hl)
2236  090D  4F          	ld	c,a
2237  090E  3E 00       	ld	a,+((_tile) / 256)
2238  0910  CE 00       	adc	a,0x00
2239  0912  47          	ld	b,a
2240  0913  3E 7B       	ld	a,0x7b
2241  0915  02          	ld	(bc),a
2242  0916  18 08       	jr	l_enemy_slipice_00111
2243  0918              l_enemy_slipice_00106:
2244  0918  CD 9D 0D    	call	_enemy_walk
2245  091B  18 03       	jr	l_enemy_slipice_00111
2246  091D              l_enemy_slipice_00110:
2247  091D  CD 9D 0D    	call	_enemy_walk
2248  0920              l_enemy_slipice_00111:
2249  0920  2A 00 00    	ld	hl,(_sprite)
2250  0923  26 00       	ld	h,0x00
2251  0925  01 00 00    	ld	bc,_lin
2252  0928  09          	add	hl,bc
2253  0929  7E          	ld	a,(hl)
2254  092A  D6 98       	sub	a,0x98
2255  092C  20 1E       	jr	NZ,l_enemy_slipice_00127
2256  092E  3A 00 00    	ld	a,(_sprite)
2257  0931  4F          	ld	c,a
2258  0932  06 00       	ld	b,0x00
2259  0934  21 00 00    	ld	hl,_col
2260  0937  09          	add	hl,bc
2261  0938  7E          	ld	a,(hl)
2262  0939  4F          	ld	c,a
2263  093A  D6 03       	sub	a,0x03
2264  093C  28 05       	jr	Z,l_enemy_slipice_00117
2265  093E  79          	ld	a,c
2266  093F  D6 1B       	sub	a,0x1b
2267  0941  20 09       	jr	NZ,l_enemy_slipice_00127
2268  0943              l_enemy_slipice_00117:
2269  0943  3A 00 00    	ld	a,(_sprite)
2270  0946  F5          	push	af
2271  0947  33          	inc	sp
2272  0948  CD 00 00    	call	_spr_destroy
2273  094B  33          	inc	sp
2274  094C              l_enemy_slipice_00127:
2275  094C  C9          	ret
2276  094D              ;	---------------------------------
2277  094D              ; Function enemy_fireball_red
2278  094D              ; ---------------------------------
2279  094D              _enemy_fireball_red:
2280  094D  21 00 00    	ld	hl,_sprite
2281  0950  E5          	push	hl
2282  0951  CD 00 00    	call	_spr_chktime
2283  0954  F1          	pop	af
2284  0955  7D          	ld	a,l
2285  0956  B7          	or	a, a
2286  0957  CA 20 0A    	jp	Z,l_enemy_fireball_red_00119
2287  095A  3A 00 00    	ld	a,(_phase_left)
2288  095D  B7          	or	a, a
2289  095E  CA 20 0A    	jp	Z,l_enemy_fireball_red_00119
2290  0961  01 00 00    	ld	bc,_spr_timer+0
2291  0964  2A 00 00    	ld	hl,(_sprite)
2292  0967  26 00       	ld	h,0x00
2293  0969  29          	add	hl, hl
2294  096A  09          	add	hl,bc
2295  096B  5E          	ld	e,(hl)
2296  096C  23          	inc	hl
2297  096D  56          	ld	d,(hl)
2298  096E  C5          	push	bc
2299  096F  21 DC 05    	ld	hl,0x05dc
2300  0972  E5          	push	hl
2301  0973  D5          	push	de
2302  0974  CD 00 00    	call	_game_check_time
2303  0977  F1          	pop	af
2304  0978  F1          	pop	af
2305  0979  C1          	pop	bc
2306  097A  7D          	ld	a,l
2307  097B  B7          	or	a, a
2308  097C  28 16       	jr	Z,l_enemy_fireball_red_00114
2309  097E  2A 00 00    	ld	hl,(_sprite)
2310  0981  26 00       	ld	h,0x00
2311  0983  29          	add	hl, hl
2312  0984  09          	add	hl,bc
2313  0985  ED 5B 00 00 	ld	de,(_curr_time)
2314  0989  73          	ld	(hl),e
2315  098A  23          	inc	hl
2316  098B  72          	ld	(hl),d
2317  098C  21 00 00    	ld	hl,_s_state
2318  098F  CB EE       	set	5, (hl)
2319  0991  C3 20 0A    	jp	l_enemy_fireball_red_00119
2320  0994              l_enemy_fireball_red_00114:
2321  0994  3A 00 00    	ld	a,(_s_state)
2322  0997  0F          	rrca
2323  0998  30 0A       	jr	NC,l_enemy_fireball_red_00104
2324  099A  CD 00 00    	call	_spr_move_up
2325  099D  21 00 00    	ld	hl,_tmp
2326  09A0  36 00       	ld	(hl),0x00
2327  09A2  18 14       	jr	l_enemy_fireball_red_00105
2328  09A4              l_enemy_fireball_red_00104:
2329  09A4  CD 00 00    	call	_spr_move_down
2330  09A7  21 00 00    	ld	hl,_tmp
2331  09AA  36 10       	ld	(hl),0x10
2332  09AC  3A 00 00    	ld	a,(_s_state)
2333  09AF  E6 02       	and	a,0x02
2334  09B1  20 05       	jr	NZ,l_enemy_fireball_red_00105
2335  09B3  21 00 00    	ld	hl,_s_state
2336  09B6  CB C6       	set	0, (hl)
2337  09B8              l_enemy_fireball_red_00105:
2338  09B8  CD 00 00    	call	_spr_move_horizontal
2339  09BB  3A 00 00    	ld	a,(_s_state)
2340  09BE  E6 04       	and	a,0x04
2341  09C0  28 13       	jr	Z,l_enemy_fireball_red_00107
2342  09C2  3A 00 00    	ld	a,(_sprite)
2343  09C5  C6 00       	add	a,+((_col) & 0xFF)
2344  09C7  4F          	ld	c,a
2345  09C8  3E 00       	ld	a,+((_col) / 256)
2346  09CA  CE 00       	adc	a,0x00
2347  09CC  47          	ld	b,a
2348  09CD  0A          	ld	a,(bc)
2349  09CE  C6 02       	add	a,0x02
2350  09D0  32 00 00    	ld	(_s_col1),a
2351  09D3  18 11       	jr	l_enemy_fireball_red_00108
2352  09D5              l_enemy_fireball_red_00107:
2353  09D5  3A 00 00    	ld	a,(_sprite)
2354  09D8  C6 00       	add	a,+((_col) & 0xFF)
2355  09DA  4F          	ld	c,a
2356  09DB  3E 00       	ld	a,+((_col) / 256)
2357  09DD  CE 00       	adc	a,0x00
2358  09DF  47          	ld	b,a
2359  09E0  0A          	ld	a,(bc)
2360  09E1  C6 FF       	add	a,0xff
2361  09E3  32 00 00    	ld	(_s_col1),a
2362  09E6              l_enemy_fireball_red_00108:
2363  09E6  2A 00 00    	ld	hl,(_sprite)
2364  09E9  26 00       	ld	h,0x00
2365  09EB  01 00 00    	ld	bc,_lin
2366  09EE  09          	add	hl,bc
2367  09EF  4E          	ld	c, (hl)
2368  09F0  3A 00 00    	ld	a, (_s_col1)
2369  09F3  47          	ld	b,a
2370  09F4  C5          	push	bc
2371  09F5  CD 00 00    	call	_game_calc_index
2372  09F8  F1          	pop	af
2373  09F9  22 00 00    	ld	(_index1),hl
2374  09FC  01 00 00    	ld	bc,_lvl_1
2375  09FF  09          	add	hl,bc
2376  0A00  7E          	ld	a,(hl)
2377  0A01  D6 BF       	sub	a,0xbf
2378  0A03  30 14       	jr	NC,l_enemy_fireball_red_00109
2379  0A05  2A 00 00    	ld	hl,(_sprite)
2380  0A08  26 00       	ld	h,0x00
2381  0A0A  01 00 00    	ld	bc,_col
2382  0A0D  09          	add	hl,bc
2383  0A0E  7E          	ld	a,(hl)
2384  0A0F  4F          	ld	c,a
2385  0A10  D6 02       	sub	a,0x02
2386  0A12  38 05       	jr	C,l_enemy_fireball_red_00109
2387  0A14  3E 1D       	ld	a,0x1d
2388  0A16  91          	sub	a, c
2389  0A17  30 07       	jr	NC,l_enemy_fireball_red_00119
2390  0A19              l_enemy_fireball_red_00109:
2391  0A19  21 00 00    	ld	hl,_s_state
2392  0A1C  7E          	ld	a,(hl)
2393  0A1D  EE 0C       	xor	a,+(0x04^0x08)
2394  0A1F  77          	ld	(hl),a
2395  0A20              l_enemy_fireball_red_00119:
2396  0A20  C9          	ret
2397  0A21              ;	---------------------------------
2398  0A21              ; Function enemy_fireball_green
2399  0A21              ; ---------------------------------
2400  0A21              _enemy_fireball_green:
2401  0A21  21 00 00    	ld	hl,_sprite
2402  0A24  E5          	push	hl
2403  0A25  CD 00 00    	call	_spr_chktime
2404  0A28  F1          	pop	af
2405  0A29  7D          	ld	a,l
2406  0A2A  B7          	or	a, a
2407  0A2B  CA C9 0A    	jp	Z,l_enemy_fireball_green_00114
2408  0A2E  3A 00 00    	ld	a,(_phase_left)
2409  0A31  B7          	or	a, a
2410  0A32  CA C9 0A    	jp	Z,l_enemy_fireball_green_00114
2411  0A35  2A 00 00    	ld	hl,(_sprite)
2412  0A38  26 00       	ld	h,0x00
2413  0A3A  5D          	ld	e,l
2414  0A3B  01 00 00    	ld	bc,_jump_lin
2415  0A3E  09          	add	hl,bc
2416  0A3F  4E          	ld	c,(hl)
2417  0A40  06 00       	ld	b,0x00
2418  0A42  50          	ld	d,b
2419  0A43  21 00 00    	ld	hl,_lin
2420  0A46  19          	add	hl,de
2421  0A47  5E          	ld	e, (hl)
2422  0A48  16 00       	ld	d,0x00
2423  0A4A  79          	ld	a,c
2424  0A4B  93          	sub	a, e
2425  0A4C  6F          	ld	l,a
2426  0A4D  78          	ld	a,b
2427  0A4E  9A          	sbc	a, d
2428  0A4F  67          	ld	h,a
2429  0A50  CD 00 00    	call	_abs_fastcall
2430  0A53  22 00 00    	ld	(_index1),hl
2431  0A56  3E 08       	ld	a,0x08
2432  0A58  21 00 00    	ld	hl,_index1
2433  0A5B  BE          	cp	a, (hl)
2434  0A5C  3E 00       	ld	a,0x00
2435  0A5E  23          	inc	hl
2436  0A5F  9E          	sbc	a, (hl)
2437  0A60  30 1C       	jr	NC,l_enemy_fireball_green_00102
2438  0A62  21 00 00    	ld	hl,_s_state
2439  0A65  7E          	ld	a,(hl)
2440  0A66  EE 03       	xor	a,+(0x01^0x02)
2441  0A68  77          	ld	(hl),a
2442  0A69  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2443  0A6B  21 00 00    	ld	hl,_sprite
2444  0A6E  86          	add	a, (hl)
2445  0A6F  4F          	ld	c,a
2446  0A70  3E 00       	ld	a,+((_jump_lin) / 256)
2447  0A72  CE 00       	adc	a,0x00
2448  0A74  47          	ld	b,a
2449  0A75  5E          	ld	e,(hl)
2450  0A76  16 00       	ld	d,0x00
2451  0A78  21 00 00    	ld	hl,_lin
2452  0A7B  19          	add	hl,de
2453  0A7C  7E          	ld	a,(hl)
2454  0A7D  02          	ld	(bc),a
2455  0A7E              l_enemy_fireball_green_00102:
2456  0A7E  3A 00 00    	ld	a,(_s_state)
2457  0A81  0F          	rrca
2458  0A82  30 08       	jr	NC,l_enemy_fireball_green_00104
2459  0A84  CD 00 00    	call	_spr_move_horizontal
2460  0A87  CD 00 00    	call	_spr_move_up
2461  0A8A  18 06       	jr	l_enemy_fireball_green_00105
2462  0A8C              l_enemy_fireball_green_00104:
2463  0A8C  CD 00 00    	call	_spr_move_horizontal
2464  0A8F  CD 00 00    	call	_spr_move_down
2465  0A92              l_enemy_fireball_green_00105:
2466  0A92  3A 00 00    	ld	a,(_sprite)
2467  0A95  C6 00       	add	a,+((_col) & 0xFF)
2468  0A97  4F          	ld	c,a
2469  0A98  3E 00       	ld	a,+((_col) / 256)
2470  0A9A  CE 00       	adc	a,0x00
2471  0A9C  47          	ld	b,a
2472  0A9D  0A          	ld	a,(bc)
2473  0A9E  B7          	or	a, a
2474  0A9F  20 07       	jr	NZ,l_enemy_fireball_green_00110
2475  0AA1  3A 00 00    	ld	a,(_s_state)
2476  0AA4  E6 08       	and	a,0x08
2477  0AA6  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2478  0AA8              l_enemy_fireball_green_00110:
2479  0AA8  D6 1E       	sub	a,0x1e
2480  0AAA  20 1D       	jr	NZ,l_enemy_fireball_green_00114
2481  0AAC  3A 00 00    	ld	a,(_s_state)
2482  0AAF  E6 04       	and	a,0x04
2483  0AB1  28 16       	jr	Z,l_enemy_fireball_green_00114
2484  0AB3              l_enemy_fireball_green_00106:
2485  0AB3  01 00 00    	ld	bc,_spr_timer+0
2486  0AB6  2A 00 00    	ld	hl,(_sprite)
2487  0AB9  26 00       	ld	h,0x00
2488  0ABB  29          	add	hl, hl
2489  0ABC  09          	add	hl,bc
2490  0ABD  ED 5B 00 00 	ld	de,(_curr_time)
2491  0AC1  73          	ld	(hl),e
2492  0AC2  23          	inc	hl
2493  0AC3  72          	ld	(hl),d
2494  0AC4  21 00 00    	ld	hl,_s_state
2495  0AC7  CB EE       	set	5, (hl)
2496  0AC9              l_enemy_fireball_green_00114:
2497  0AC9  C9          	ret
2498  0ACA              ;	---------------------------------
2499  0ACA              ; Function enemy_fighterfly
2500  0ACA              ; ---------------------------------
2501  0ACA              _enemy_fighterfly:
2502  0ACA  21 00 00    	ld	hl,_sprite
2503  0ACD  E5          	push	hl
2504  0ACE  CD 00 00    	call	_spr_chktime
2505  0AD1  F1          	pop	af
2506  0AD2  7D          	ld	a,l
2507  0AD3  B7          	or	a, a
2508  0AD4  CA 97 0B    	jp	Z,l_enemy_fighterfly_00119
2509  0AD7  3A 00 00    	ld	a,(_s_state)
2510  0ADA  0F          	rrca
2511  0ADB  38 58       	jr	C,l_enemy_fighterfly_00106
2512  0ADD  3A 00 00    	ld	a,(_s_state)
2513  0AE0  E6 02       	and	a,0x02
2514  0AE2  20 51       	jr	NZ,l_enemy_fighterfly_00106
2515  0AE4  CD 00 00    	call	_ay_is_playing
2516  0AE7  7D          	ld	a, l
2517  0AE8  D6 02       	sub	a,0x02
2518  0AEA  30 06       	jr	NC,l_enemy_fighterfly_00102
2519  0AEC  21 00 00    	ld	hl,_ay_effect_13
2520  0AEF  CD 00 00    	call	_ay_fx_play
2521  0AF2              l_enemy_fighterfly_00102:
2522  0AF2  2A 00 00    	ld	hl,(_sprite)
2523  0AF5  26 00       	ld	h,0x00
2524  0AF7  29          	add	hl, hl
2525  0AF8  11 00 00    	ld	de,_spr_timer
2526  0AFB  19          	add	hl,de
2527  0AFC  4E          	ld	c,(hl)
2528  0AFD  23          	inc	hl
2529  0AFE  46          	ld	b,(hl)
2530  0AFF  21 1A 00    	ld	hl,0x001a
2531  0B02  E5          	push	hl
2532  0B03  C5          	push	bc
2533  0B04  CD 00 00    	call	_game_check_time
2534  0B07  F1          	pop	af
2535  0B08  F1          	pop	af
2536  0B09  7D          	ld	a,l
2537  0B0A  B7          	or	a, a
2538  0B0B  28 28       	jr	Z,l_enemy_fighterfly_00106
2539  0B0D  21 00 00    	ld	hl,_s_state
2540  0B10  CB C6       	set	0, (hl)
2541  0B12  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2542  0B14  21 00 00    	ld	hl,_sprite
2543  0B17  86          	add	a, (hl)
2544  0B18  4F          	ld	c,a
2545  0B19  3E 00       	ld	a,+((_jump_lin) / 256)
2546  0B1B  CE 00       	adc	a,0x00
2547  0B1D  47          	ld	b,a
2548  0B1E  3E 00       	ld	a,+((_lin) & 0xFF)
2549  0B20  86          	add	a, (hl)
2550  0B21  5F          	ld	e,a
2551  0B22  3E 00       	ld	a,+((_lin) / 256)
2552  0B24  CE 00       	adc	a,0x00
2553  0B26  57          	ld	d,a
2554  0B27  1A          	ld	a,(de)
2555  0B28  02          	ld	(bc),a
2556  0B29  6E          	ld	l, (hl)
2557  0B2A  26 00       	ld	h,0x00
2558  0B2C  29          	add	hl, hl
2559  0B2D  11 00 00    	ld	de,_spr_timer
2560  0B30  19          	add	hl,de
2561  0B31  AF          	xor	a, a
2562  0B32  77          	ld	(hl), a
2563  0B33  23          	inc	hl
2564  0B34  77          	ld	(hl), a
2565  0B35              l_enemy_fighterfly_00106:
2566  0B35  3A 00 00    	ld	a,(_s_state)
2567  0B38  0F          	rrca
2568  0B39  30 31       	jr	NC,l_enemy_fighterfly_00115
2569  0B3B  2A 00 00    	ld	hl,(_sprite)
2570  0B3E  26 00       	ld	h,0x00
2571  0B40  5D          	ld	e,l
2572  0B41  01 00 00    	ld	bc,_jump_lin
2573  0B44  09          	add	hl,bc
2574  0B45  4E          	ld	c,(hl)
2575  0B46  06 00       	ld	b,0x00
2576  0B48  50          	ld	d,b
2577  0B49  21 00 00    	ld	hl,_lin
2578  0B4C  19          	add	hl,de
2579  0B4D  5E          	ld	e, (hl)
2580  0B4E  16 00       	ld	d,0x00
2581  0B50  79          	ld	a,c
2582  0B51  93          	sub	a, e
2583  0B52  4F          	ld	c,a
2584  0B53  78          	ld	a,b
2585  0B54  9A          	sbc	a, d
2586  0B55  47          	ld	b,a
2587  0B56  79          	ld	a,c
2588  0B57  D6 08       	sub	a,0x08
2589  0B59  78          	ld	a,b
2590  0B5A  17          	rla
2591  0B5B  3F          	ccf
2592  0B5C  1F          	rra
2593  0B5D  DE 80       	sbc	a,0x80
2594  0B5F  38 03       	jr	C,l_enemy_fighterfly_00109
2595  0B61  CD 00 00    	call	_spr_set_fall
2596  0B64              l_enemy_fighterfly_00109:
2597  0B64  CD 00 00    	call	_spr_move_horizontal
2598  0B67  CD 00 00    	call	_spr_move_up
2599  0B6A  18 28       	jr	l_enemy_fighterfly_00116
2600  0B6C              l_enemy_fighterfly_00115:
2601  0B6C  01 00 00    	ld	bc,_spr_timer+0
2602  0B6F  2A 00 00    	ld	hl,(_sprite)
2603  0B72  26 00       	ld	h,0x00
2604  0B74  29          	add	hl, hl
2605  0B75  09          	add	hl,bc
2606  0B76  4D          	ld	c,l
2607  0B77  44          	ld	b,h
2608  0B78  5E          	ld	e,(hl)
2609  0B79  23          	inc	hl
2610  0B7A  7E          	ld	a, (hl)
2611  0B7B  B3          	or	a,e
2612  0B7C  20 09       	jr	NZ,l_enemy_fighterfly_00111
2613  0B7E  ED 5B 00 00 	ld	de,(_curr_time)
2614  0B82  7B          	ld	a,e
2615  0B83  02          	ld	(bc),a
2616  0B84  03          	inc	bc
2617  0B85  7A          	ld	a,d
2618  0B86  02          	ld	(bc),a
2619  0B87              l_enemy_fighterfly_00111:
2620  0B87  3A 00 00    	ld	a,(_s_state)
2621  0B8A  E6 02       	and	a,0x02
2622  0B8C  28 06       	jr	Z,l_enemy_fighterfly_00116
2623  0B8E  CD 9D 0D    	call	_enemy_walk
2624  0B91  CD 00 00    	call	_spr_move_horizontal
2625  0B94              l_enemy_fighterfly_00116:
2626  0B94  CD 98 0B    	call	_enemy_trip
2627  0B97              l_enemy_fighterfly_00119:
2628  0B97  C9          	ret
2629  0B98              ;	---------------------------------
2630  0B98              ; Function enemy_trip
2631  0B98              ; ---------------------------------
2632  0B98              _enemy_trip:
2633  0B98  2A 00 00    	ld	hl,(_sprite)
2634  0B9B  26 00       	ld	h,0x00
2635  0B9D  01 00 00    	ld	bc,_lin
2636  0BA0  09          	add	hl,bc
2637  0BA1  46          	ld	b,(hl)
2638  0BA2  3E 80       	ld	a,0x80
2639  0BA4  90          	sub	a, b
2640  0BA5  D2 9E 0C    	jp	NC,l_enemy_trip_00114
2641  0BA8  21 00 00    	ld	hl,_tmp
2642  0BAB  36 00       	ld	(hl),0x00
2643  0BAD  2A 00 00    	ld	hl,(_sprite)
2644  0BB0  26 00       	ld	h,0x00
2645  0BB2  11 00 00    	ld	de,_col
2646  0BB5  19          	add	hl,de
2647  0BB6  7E          	ld	a,(hl)
2648  0BB7  57          	ld	d,a
2649  0BB8  D6 1B       	sub	a,0x1b
2650  0BBA  20 41       	jr	NZ,l_enemy_trip_00104
2651  0BBC  21 00 00    	ld	hl,_tmp
2652  0BBF  36 01       	ld	(hl),0x01
2653  0BC1  15          	dec	d
2654  0BC2  58          	ld	e,b
2655  0BC3  D5          	push	de
2656  0BC4  AF          	xor	a, a
2657  0BC5  F5          	push	af
2658  0BC6  33          	inc	sp
2659  0BC7  CD 00 00    	call	_NIRVANAP_fillT_callee
2660  0BCA  3E 00       	ld	a,+((_lin) & 0xFF)
2661  0BCC  21 00 00    	ld	hl,_sprite
2662  0BCF  86          	add	a, (hl)
2663  0BD0  4F          	ld	c,a
2664  0BD1  3E 00       	ld	a,+((_lin) / 256)
2665  0BD3  CE 00       	adc	a,0x00
2666  0BD5  47          	ld	b,a
2667  0BD6  3E 10       	ld	a,0x10
2668  0BD8  02          	ld	(bc),a
2669  0BD9  3E 00       	ld	a,+((_col) & 0xFF)
2670  0BDB  86          	add	a, (hl)
2671  0BDC  4F          	ld	c,a
2672  0BDD  3E 00       	ld	a,+((_col) / 256)
2673  0BDF  CE 00       	adc	a,0x00
2674  0BE1  47          	ld	b,a
2675  0BE2  3E 1A       	ld	a,0x1a
2676  0BE4  02          	ld	(bc),a
2677  0BE5  21 00 00    	ld	hl,_s_state
2678  0BE8  CB DE       	set	3, (hl)
2679  0BEA  CB 96       	res	2, (hl)
2680  0BEC  CD 00 00    	call	_sound_enter_enemy
2681  0BEF  CD 00 00    	call	_ay_is_playing
2682  0BF2  7D          	ld	a, l
2683  0BF3  D6 02       	sub	a,0x02
2684  0BF5  30 06       	jr	NC,l_enemy_trip_00104
2685  0BF7  21 00 00    	ld	hl,_ay_effect_04
2686  0BFA  CD 00 00    	call	_ay_fx_play
2687  0BFD              l_enemy_trip_00104:
2688  0BFD  2A 00 00    	ld	hl,(_sprite)
2689  0C00  26 00       	ld	h,0x00
2690  0C02  01 00 00    	ld	bc,_col
2691  0C05  09          	add	hl,bc
2692  0C06  7E          	ld	a,(hl)
2693  0C07  47          	ld	b,a
2694  0C08  D6 03       	sub	a,0x03
2695  0C0A  20 4A       	jr	NZ,l_enemy_trip_00108
2696  0C0C  21 00 00    	ld	hl,_tmp
2697  0C0F  36 01       	ld	(hl),0x01
2698  0C11  04          	inc	b
2699  0C12  2A 00 00    	ld	hl,(_sprite)
2700  0C15  26 00       	ld	h,0x00
2701  0C17  11 00 00    	ld	de,_lin
2702  0C1A  19          	add	hl,de
2703  0C1B  4E          	ld	c, (hl)
2704  0C1C  C5          	push	bc
2705  0C1D  AF          	xor	a, a
2706  0C1E  F5          	push	af
2707  0C1F  33          	inc	sp
2708  0C20  CD 00 00    	call	_NIRVANAP_fillT_callee
2709  0C23  3E 00       	ld	a,+((_lin) & 0xFF)
2710  0C25  21 00 00    	ld	hl,_sprite
2711  0C28  86          	add	a, (hl)
2712  0C29  4F          	ld	c,a
2713  0C2A  3E 00       	ld	a,+((_lin) / 256)
2714  0C2C  CE 00       	adc	a,0x00
2715  0C2E  47          	ld	b,a
2716  0C2F  3E 10       	ld	a,0x10
2717  0C31  02          	ld	(bc),a
2718  0C32  3E 00       	ld	a,+((_col) & 0xFF)
2719  0C34  86          	add	a, (hl)
2720  0C35  4F          	ld	c,a
2721  0C36  3E 00       	ld	a,+((_col) / 256)
2722  0C38  CE 00       	adc	a,0x00
2723  0C3A  47          	ld	b,a
2724  0C3B  3E 04       	ld	a,0x04
2725  0C3D  02          	ld	(bc),a
2726  0C3E  21 00 00    	ld	hl,_s_state
2727  0C41  CB D6       	set	2, (hl)
2728  0C43  CB 9E       	res	3, (hl)
2729  0C45  CD 00 00    	call	_sound_enter_enemy
2730  0C48  CD 00 00    	call	_ay_is_playing
2731  0C4B  7D          	ld	a, l
2732  0C4C  D6 02       	sub	a,0x02
2733  0C4E  30 06       	jr	NC,l_enemy_trip_00108
2734  0C50  21 00 00    	ld	hl,_ay_effect_04
2735  0C53  CD 00 00    	call	_ay_fx_play
2736  0C56              l_enemy_trip_00108:
2737  0C56  3A 00 00    	ld	a,(_tmp)
2738  0C59  B7          	or	a, a
2739  0C5A  C8          	ret	Z
2740  0C5B  2A 00 00    	ld	hl,(_sprite)
2741  0C5E  26 00       	ld	h,0x00
2742  0C60  01 00 00    	ld	bc,_class
2743  0C63  09          	add	hl,bc
2744  0C64  4E          	ld	c,(hl)
2745  0C65  3E 03       	ld	a,0x03
2746  0C67  91          	sub	a,c
2747  0C68  D8          	ret	C
2748  0C69  3E 00       	ld	a,+((_colint) & 0xFF)
2749  0C6B  21 00 00    	ld	hl,_sprite
2750  0C6E  86          	add	a, (hl)
2751  0C6F  4F          	ld	c,a
2752  0C70  3E 00       	ld	a,+((_colint) / 256)
2753  0C72  CE 00       	adc	a,0x00
2754  0C74  47          	ld	b,a
2755  0C75  AF          	xor	a, a
2756  0C76  02          	ld	(bc),a
2757  0C77  3E 00       	ld	a,+((_state) & 0xFF)
2758  0C79  86          	add	a, (hl)
2759  0C7A  4F          	ld	c,a
2760  0C7B  3E 00       	ld	a,+((_state) / 256)
2761  0C7D  CE 00       	adc	a,0x00
2762  0C7F  47          	ld	b,a
2763  0C80  3A 00 00    	ld	a,(_s_state)
2764  0C83  02          	ld	(bc),a
2765  0C84  3E 00       	ld	a,+((_tile) & 0xFF)
2766  0C86  21 00 00    	ld	hl,_sprite
2767  0C89  86          	add	a, (hl)
2768  0C8A  4F          	ld	c,a
2769  0C8B  3E 00       	ld	a,+((_tile) / 256)
2770  0C8D  CE 00       	adc	a,0x00
2771  0C8F  47          	ld	b,a
2772  0C90  7E          	ld	a,(hl)
2773  0C91  C5          	push	bc
2774  0C92  F5          	push	af
2775  0C93  33          	inc	sp
2776  0C94  CD 00 00    	call	_spr_tile
2777  0C97  33          	inc	sp
2778  0C98  C1          	pop	bc
2779  0C99  7D          	ld	a, l
2780  0C9A  02          	ld	(bc),a
2781  0C9B  CD 00 00    	call	_spr_set_fall
2782  0C9E              l_enemy_trip_00114:
2783  0C9E  C9          	ret
2784  0C9F              ;	---------------------------------
2785  0C9F              ; Function enemy_standard_hit
2786  0C9F              ; ---------------------------------
2787  0C9F              _enemy_standard_hit:
2788  0C9F  3A 00 00    	ld	a,(_sprite)
2789  0CA2  C6 00       	add	a,+((_state) & 0xFF)
2790  0CA4  4F          	ld	c,a
2791  0CA5  3E 00       	ld	a,+((_state) / 256)
2792  0CA7  CE 00       	adc	a,0x00
2793  0CA9  47          	ld	b,a
2794  0CAA  0A          	ld	a,(bc)
2795  0CAB  07          	rlca
2796  0CAC  38 23       	jr	C,l_enemy_standard_hit_00102
2797  0CAE  2A 00 00    	ld	hl,(_game_time_flipped)
2798  0CB1  11 CE FF    	ld	de,0xffce
2799  0CB4  19          	add	hl,de
2800  0CB5  EB          	ex	de,hl
2801  0CB6  2A 00 00    	ld	hl,(_sprite)
2802  0CB9  26 00       	ld	h,0x00
2803  0CBB  29          	add	hl, hl
2804  0CBC  01 00 00    	ld	bc,_spr_timer
2805  0CBF  09          	add	hl,bc
2806  0CC0  4E          	ld	c,(hl)
2807  0CC1  23          	inc	hl
2808  0CC2  46          	ld	b,(hl)
2809  0CC3  D5          	push	de
2810  0CC4  C5          	push	bc
2811  0CC5  CD 00 00    	call	_game_check_time
2812  0CC8  F1          	pop	af
2813  0CC9  F1          	pop	af
2814  0CCA  7D          	ld	a,l
2815  0CCB  B7          	or	a, a
2816  0CCC  28 03       	jr	Z,l_enemy_standard_hit_00102
2817  0CCE  CD 0C 0D    	call	_enemy_evolve
2818  0CD1              l_enemy_standard_hit_00102:
2819  0CD1  01 00 00    	ld	bc,_spr_timer+0
2820  0CD4  2A 00 00    	ld	hl,(_sprite)
2821  0CD7  26 00       	ld	h,0x00
2822  0CD9  29          	add	hl, hl
2823  0CDA  09          	add	hl,bc
2824  0CDB  4E          	ld	c,(hl)
2825  0CDC  23          	inc	hl
2826  0CDD  46          	ld	b,(hl)
2827  0CDE  2A 00 00    	ld	hl,(_game_time_flipped)
2828  0CE1  E5          	push	hl
2829  0CE2  C5          	push	bc
2830  0CE3  CD 00 00    	call	_game_check_time
2831  0CE6  F1          	pop	af
2832  0CE7  F1          	pop	af
2833  0CE8  7D          	ld	a,l
2834  0CE9  B7          	or	a, a
2835  0CEA  C8          	ret	Z
2836  0CEB  3A 00 00    	ld	a,(_sprite)
2837  0CEE  32 00 00    	ld	(_enemies),a
2838  0CF1  F5          	push	af
2839  0CF2  33          	inc	sp
2840  0CF3  CD 00 00    	call	_spr_tile
2841  0CF6  33          	inc	sp
2842  0CF7  E5          	push	hl
2843  0CF8  CD AE 04    	call	_enemy_flip
2844  0CFB  F1          	pop	af
2845  0CFC  3A 00 00    	ld	a,(_sprite)
2846  0CFF  C6 00       	add	a,+((_state) & 0xFF)
2847  0D01  4F          	ld	c,a
2848  0D02  3E 00       	ld	a,+((_state) / 256)
2849  0D04  CE 00       	adc	a,0x00
2850  0D06  47          	ld	b,a
2851  0D07  0A          	ld	a,(bc)
2852  0D08  32 00 00    	ld	(_s_state),a
2853  0D0B  C9          	ret
2854  0D0C              ;	---------------------------------
2855  0D0C              ; Function enemy_evolve
2856  0D0C              ; ---------------------------------
2857  0D0C              _enemy_evolve:
2858  0D0C  2A 00 00    	ld	hl,(_sprite)
2859  0D0F  26 00       	ld	h,0x00
2860  0D11  01 00 00    	ld	bc,_class
2861  0D14  09          	add	hl,bc
2862  0D15  7E          	ld	a,(hl)
2863  0D16  4F          	ld	c,a
2864  0D17  3D          	dec	a
2865  0D18  20 0F       	jr	NZ,l_enemy_evolve_00104
2866  0D1A  21 3C 00    	ld	hl,0x003c
2867  0D1D  E5          	push	hl
2868  0D1E  3E 02       	ld	a,0x02
2869  0D20  F5          	push	af
2870  0D21  33          	inc	sp
2871  0D22  CD 6B 0D    	call	_enemy_upgrade
2872  0D25  F1          	pop	af
2873  0D26  33          	inc	sp
2874  0D27  18 12       	jr	l_enemy_evolve_00105
2875  0D29              l_enemy_evolve_00104:
2876  0D29  79          	ld	a,c
2877  0D2A  D6 02       	sub	a,0x02
2878  0D2C  20 0D       	jr	NZ,l_enemy_evolve_00105
2879  0D2E  21 48 00    	ld	hl,0x0048
2880  0D31  E5          	push	hl
2881  0D32  3E 03       	ld	a,0x03
2882  0D34  F5          	push	af
2883  0D35  33          	inc	sp
2884  0D36  CD 6B 0D    	call	_enemy_upgrade
2885  0D39  F1          	pop	af
2886  0D3A  33          	inc	sp
2887  0D3B              l_enemy_evolve_00105:
2888  0D3B  2A 00 00    	ld	hl,(_sprite)
2889  0D3E  26 00       	ld	h,0x00
2890  0D40  01 00 00    	ld	bc,_class
2891  0D43  09          	add	hl,bc
2892  0D44  7E          	ld	a,(hl)
2893  0D45  4F          	ld	c,a
2894  0D46  D6 04       	sub	a,0x04
2895  0D48  20 0F       	jr	NZ,l_enemy_evolve_00109
2896  0D4A  21 60 00    	ld	hl,0x0060
2897  0D4D  E5          	push	hl
2898  0D4E  3E 05       	ld	a,0x05
2899  0D50  F5          	push	af
2900  0D51  33          	inc	sp
2901  0D52  CD 6B 0D    	call	_enemy_upgrade
2902  0D55  F1          	pop	af
2903  0D56  33          	inc	sp
2904  0D57  18 11       	jr	l_enemy_evolve_00111
2905  0D59              l_enemy_evolve_00109:
2906  0D59  79          	ld	a,c
2907  0D5A  D6 05       	sub	a,0x05
2908  0D5C  C0          	ret	NZ
2909  0D5D  21 6C 00    	ld	hl,0x006c
2910  0D60  E5          	push	hl
2911  0D61  3E 06       	ld	a,0x06
2912  0D63  F5          	push	af
2913  0D64  33          	inc	sp
2914  0D65  CD 6B 0D    	call	_enemy_upgrade
2915  0D68  F1          	pop	af
2916  0D69  33          	inc	sp
2917  0D6A              l_enemy_evolve_00111:
2918  0D6A  C9          	ret
2919  0D6B              ;	---------------------------------
2920  0D6B              ; Function enemy_upgrade
2921  0D6B              ; ---------------------------------
2922  0D6B              _enemy_upgrade:
2923  0D6B  CD 00 00    	call	___sdcc_enter_ix
2924  0D6E  3E 00       	ld	a,+((_class) & 0xFF)
2925  0D70  21 00 00    	ld	hl,_sprite
2926  0D73  86          	add	a, (hl)
2927  0D74  4F          	ld	c,a
2928  0D75  3E 00       	ld	a,+((_class) / 256)
2929  0D77  CE 00       	adc	a,0x00
2930  0D79  47          	ld	b,a
2931  0D7A  DD 7E 04    	ld	a,(ix+4)
2932  0D7D  02          	ld	(bc),a
2933  0D7E  3E 00       	ld	a,+((_tile) & 0xFF)
2934  0D80  86          	add	a, (hl)
2935  0D81  4F          	ld	c,a
2936  0D82  3E 00       	ld	a,+((_tile) / 256)
2937  0D84  CE 00       	adc	a,0x00
2938  0D86  47          	ld	b,a
2939  0D87  DD 7E 05    	ld	a,(ix+5)
2940  0D8A  C6 06       	add	a,0x06
2941  0D8C  02          	ld	(bc),a
2942  0D8D  3E 00       	ld	a,+((_state) & 0xFF)
2943  0D8F  86          	add	a, (hl)
2944  0D90  4F          	ld	c,a
2945  0D91  3E 00       	ld	a,+((_state) / 256)
2946  0D93  CE 00       	adc	a,0x00
2947  0D95  47          	ld	b,a
2948  0D96  0A          	ld	a,(bc)
2949  0D97  CB FF       	set	7, a
2950  0D99  02          	ld	(bc),a
2951  0D9A  DD E1       	pop	ix
2952  0D9C  C9          	ret
2953  0D9D              ;	---------------------------------
2954  0D9D              ; Function enemy_walk
2955  0D9D              ; ---------------------------------
2956  0D9D              _enemy_walk:
2957  0D9D  3A 00 00    	ld	a,(_s_state)
2958  0DA0  0F          	rrca
2959  0DA1  38 4A       	jr	C,l_enemy_walk_00106
2960  0DA3  3A 00 00    	ld	a,(_s_state)
2961  0DA6  E6 02       	and	a,0x02
2962  0DA8  20 43       	jr	NZ,l_enemy_walk_00106
2963  0DAA  3A 00 00    	ld	a,(_sprite)
2964  0DAD  C6 00       	add	a,+((_col) & 0xFF)
2965  0DAF  4F          	ld	c,a
2966  0DB0  3E 00       	ld	a,+((_col) / 256)
2967  0DB2  CE 00       	adc	a,0x00
2968  0DB4  47          	ld	b,a
2969  0DB5  0A          	ld	a,(bc)
2970  0DB6  57          	ld	d,a
2971  0DB7  CB 47       	bit	0,a
2972  0DB9  28 14       	jr	Z,l_enemy_walk_00102
2973  0DBB  3A 00 00    	ld	a,(_s_state)
2974  0DBE  E6 10       	and	a,0x10
2975  0DC0  20 0D       	jr	NZ,l_enemy_walk_00102
2976  0DC2  21 00 00    	ld	hl,0x0000
2977  0DC5  22 00 00    	ld	(_index_d),hl
2978  0DC8  21 00 00    	ld	hl,_tmp
2979  0DCB  36 00       	ld	(hl),0x00
2980  0DCD  18 44       	jr	l_enemy_walk_00107
2981  0DCF              l_enemy_walk_00102:
2982  0DCF  3A 00 00    	ld	a,(_sprite)
2983  0DD2  C6 00       	add	a,+((_lin) & 0xFF)
2984  0DD4  4F          	ld	c,a
2985  0DD5  3E 00       	ld	a,+((_lin) / 256)
2986  0DD7  CE 00       	adc	a,0x00
2987  0DD9  47          	ld	b,a
2988  0DDA  0A          	ld	a,(bc)
2989  0DDB  C6 10       	add	a,0x10
2990  0DDD  5F          	ld	e, a
2991  0DDE  D5          	push	de
2992  0DDF  CD 00 00    	call	_game_calc_index
2993  0DE2  E3          	ex	(sp),hl
2994  0DE3  CD 00 00    	call	_game_check_maze
2995  0DE6  F1          	pop	af
2996  0DE7  7D          	ld	a,l
2997  0DE8  32 00 00    	ld	(_tmp),a
2998  0DEB  18 26       	jr	l_enemy_walk_00107
2999  0DED              l_enemy_walk_00106:
3000  0DED  3E 00       	ld	a,+((_col) & 0xFF)
3001  0DEF  21 00 00    	ld	hl,_sprite
3002  0DF2  86          	add	a, (hl)
3003  0DF3  4F          	ld	c,a
3004  0DF4  3E 00       	ld	a,+((_col) / 256)
3005  0DF6  CE 00       	adc	a,0x00
3006  0DF8  47          	ld	b,a
3007  0DF9  0A          	ld	a,(bc)
3008  0DFA  57          	ld	d,a
3009  0DFB  4E          	ld	c,(hl)
3010  0DFC  06 00       	ld	b,0x00
3011  0DFE  21 00 00    	ld	hl,_lin
3012  0E01  09          	add	hl,bc
3013  0E02  7E          	ld	a,(hl)
3014  0E03  C6 10       	add	a,0x10
3015  0E05  5F          	ld	e, a
3016  0E06  D5          	push	de
3017  0E07  CD 00 00    	call	_game_calc_index
3018  0E0A  E3          	ex	(sp),hl
3019  0E0B  CD 00 00    	call	_game_check_maze
3020  0E0E  F1          	pop	af
3021  0E0F  7D          	ld	a,l
3022  0E10  32 00 00    	ld	(_tmp),a
3023  0E13              l_enemy_walk_00107:
3024  0E13  3A 00 00    	ld	a,(_tmp)
3025  0E16  B7          	or	a, a
3026  0E17  CA B3 0E    	jp	Z,l_enemy_walk_00135
3027  0E1A  3A 00 00    	ld	a,(_s_state)
3028  0E1D  0F          	rrca
3029  0E1E  38 05       	jr	C,l_enemy_walk_00110
3030  0E20  21 00 00    	ld	hl,_s_state
3031  0E23  CB CE       	set	1, (hl)
3032  0E25              l_enemy_walk_00110:
3033  0E25  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3034  0E27  21 00 00    	ld	hl,_sprite
3035  0E2A  86          	add	a, (hl)
3036  0E2B  4F          	ld	c,a
3037  0E2C  3E 00       	ld	a,+((_jump_lin) / 256)
3038  0E2E  CE 00       	adc	a,0x00
3039  0E30  47          	ld	b,a
3040  0E31  0A          	ld	a,(bc)
3041  0E32  B7          	or	a, a
3042  0E33  20 09       	jr	NZ,l_enemy_walk_00112
3043  0E35  5E          	ld	e,(hl)
3044  0E36  16 00       	ld	d,0x00
3045  0E38  21 00 00    	ld	hl,_lin
3046  0E3B  19          	add	hl,de
3047  0E3C  7E          	ld	a,(hl)
3048  0E3D  02          	ld	(bc),a
3049  0E3E              l_enemy_walk_00112:
3050  0E3E  3A 00 00    	ld	a,(_s_state)
3051  0E41  E6 02       	and	a,0x02
3052  0E43  28 11       	jr	Z,l_enemy_walk_00114
3053  0E45  3A 00 00    	ld	a,(_sprite)
3054  0E48  C6 00       	add	a,+((_lin) & 0xFF)
3055  0E4A  4F          	ld	c,a
3056  0E4B  3E 00       	ld	a,+((_lin) / 256)
3057  0E4D  CE 00       	adc	a,0x00
3058  0E4F  47          	ld	b,a
3059  0E50  0A          	ld	a,(bc)
3060  0E51  C6 04       	add	a,0x04
3061  0E53  02          	ld	(bc),a
3062  0E54  18 0F       	jr	l_enemy_walk_00115
3063  0E56              l_enemy_walk_00114:
3064  0E56  3A 00 00    	ld	a,(_sprite)
3065  0E59  C6 00       	add	a,+((_lin) & 0xFF)
3066  0E5B  4F          	ld	c,a
3067  0E5C  3E 00       	ld	a,+((_lin) / 256)
3068  0E5E  CE 00       	adc	a,0x00
3069  0E60  47          	ld	b,a
3070  0E61  0A          	ld	a,(bc)
3071  0E62  C6 FC       	add	a,0xfc
3072  0E64  02          	ld	(bc),a
3073  0E65              l_enemy_walk_00115:
3074  0E65  2A 00 00    	ld	hl,(_sprite)
3075  0E68  26 00       	ld	h,0x00
3076  0E6A  01 00 00    	ld	bc,_class
3077  0E6D  09          	add	hl,bc
3078  0E6E  7E          	ld	a,(hl)
3079  0E6F  D6 09       	sub	a,0x09
3080  0E71  CA 96 0F    	jp	Z,l_enemy_walk_00137
3081  0E74  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3082  0E76  21 00 00    	ld	hl,_sprite
3083  0E79  86          	add	a, (hl)
3084  0E7A  4F          	ld	c,a
3085  0E7B  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3086  0E7D  CE 00       	adc	a,0x00
3087  0E7F  47          	ld	b,a
3088  0E80  3E 02       	ld	a,0x02
3089  0E82  02          	ld	(bc),a
3090  0E83  3E 00       	ld	a,+((_lin) & 0xFF)
3091  0E85  86          	add	a, (hl)
3092  0E86  4F          	ld	c,a
3093  0E87  3E 00       	ld	a,+((_lin) / 256)
3094  0E89  CE 00       	adc	a,0x00
3095  0E8B  47          	ld	b,a
3096  0E8C  0A          	ld	a,(bc)
3097  0E8D  4F          	ld	c,a
3098  0E8E  06 00       	ld	b,0x00
3099  0E90  5E          	ld	e,(hl)
3100  0E91  50          	ld	d,b
3101  0E92  21 00 00    	ld	hl,_jump_lin
3102  0E95  19          	add	hl,de
3103  0E96  5E          	ld	e, (hl)
3104  0E97  16 00       	ld	d,0x00
3105  0E99  79          	ld	a,c
3106  0E9A  93          	sub	a, e
3107  0E9B  4F          	ld	c,a
3108  0E9C  78          	ld	a,b
3109  0E9D  9A          	sbc	a, d
3110  0E9E  47          	ld	b,a
3111  0E9F  3E 10       	ld	a,0x10
3112  0EA1  B9          	cp	a, c
3113  0EA2  3E 00       	ld	a,0x00
3114  0EA4  98          	sbc	a, b
3115  0EA5  E2 AA 0E    	jp	PO, l_enemy_walk_00218
3116  0EA8  EE 80       	xor	a,0x80
3117  0EAA              l_enemy_walk_00218:
3118  0EAA  FA 96 0F    	jp	M,l_enemy_walk_00137
3119  0EAD  CD 00 00    	call	_spr_move_horizontal
3120  0EB0  C3 96 0F    	jp	l_enemy_walk_00137
3121  0EB3              l_enemy_walk_00135:
3122  0EB3  3A 00 00    	ld	a,(_sprite)
3123  0EB6  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
3124  0EB8  4F          	ld	c,a
3125  0EB9  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3126  0EBB  CE 00       	adc	a,0x00
3127  0EBD  47          	ld	b,a
3128  0EBE  AF          	xor	a, a
3129  0EBF  02          	ld	(bc),a
3130  0EC0  3A 00 00    	ld	a,(_s_state)
3131  0EC3  E6 02       	and	a,0x02
3132  0EC5  28 12       	jr	Z,l_enemy_walk_00121
3133  0EC7  21 00 00    	ld	hl,_s_state
3134  0ECA  CB 8E       	res	1, (hl)
3135  0ECC  3A 00 00    	ld	a,(_sprite)
3136  0ECF  C6 00       	add	a,+((_jump_lin) & 0xFF)
3137  0ED1  4F          	ld	c,a
3138  0ED2  3E 00       	ld	a,+((_jump_lin) / 256)
3139  0ED4  CE 00       	adc	a,0x00
3140  0ED6  47          	ld	b,a
3141  0ED7  AF          	xor	a, a
3142  0ED8  02          	ld	(bc),a
3143  0ED9              l_enemy_walk_00121:
3144  0ED9  3A 00 00    	ld	a,(_s_state)
3145  0EDC  E6 10       	and	a,0x10
3146  0EDE  20 41       	jr	NZ,l_enemy_walk_00125
3147  0EE0  3A 00 00    	ld	a,(_sprite)
3148  0EE3  C6 00       	add	a,+((_state_a) & 0xFF)
3149  0EE5  4F          	ld	c,a
3150  0EE6  3E 00       	ld	a,+((_state_a) / 256)
3151  0EE8  CE 00       	adc	a,0x00
3152  0EEA  47          	ld	b,a
3153  0EEB  0A          	ld	a,(bc)
3154  0EEC  CB 4F       	bit	1, a
3155  0EEE  20 31       	jr	NZ,l_enemy_walk_00125
3156  0EF0  01 00 00    	ld	bc,_spr_timer_c+0
3157  0EF3  2A 00 00    	ld	hl,(_sprite)
3158  0EF6  26 00       	ld	h,0x00
3159  0EF8  29          	add	hl, hl
3160  0EF9  09          	add	hl,bc
3161  0EFA  5E          	ld	e,(hl)
3162  0EFB  23          	inc	hl
3163  0EFC  56          	ld	d,(hl)
3164  0EFD  C5          	push	bc
3165  0EFE  21 05 00    	ld	hl,0x0005
3166  0F01  E5          	push	hl
3167  0F02  D5          	push	de
3168  0F03  CD 00 00    	call	_game_check_time
3169  0F06  F1          	pop	af
3170  0F07  F1          	pop	af
3171  0F08  C1          	pop	bc
3172  0F09  7D          	ld	a,l
3173  0F0A  B7          	or	a, a
3174  0F0B  28 11       	jr	Z,l_enemy_walk_00123
3175  0F0D  2A 00 00    	ld	hl,(_sprite)
3176  0F10  26 00       	ld	h,0x00
3177  0F12  29          	add	hl, hl
3178  0F13  09          	add	hl,bc
3179  0F14  ED 5B 00 00 	ld	de,(_curr_time)
3180  0F18  73          	ld	(hl),e
3181  0F19  23          	inc	hl
3182  0F1A  72          	ld	(hl),d
3183  0F1B  CD 6B 00    	call	_enemy_collition
3184  0F1E              l_enemy_walk_00123:
3185  0F1E  CD 00 00    	call	_spr_move_horizontal
3186  0F21              l_enemy_walk_00125:
3187  0F21  3A 00 00    	ld	a,(_sprite)
3188  0F24  C6 00       	add	a,+((_state_a) & 0xFF)
3189  0F26  4F          	ld	c,a
3190  0F27  3E 00       	ld	a,+((_state_a) / 256)
3191  0F29  CE 00       	adc	a,0x00
3192  0F2B  47          	ld	b,a
3193  0F2C  0A          	ld	a,(bc)
3194  0F2D  CB 4F       	bit	1, a
3195  0F2F  28 65       	jr	Z,l_enemy_walk_00137
3196  0F31  01 00 00    	ld	bc,_spr_timer+0
3197  0F34  2A 00 00    	ld	hl,(_sprite)
3198  0F37  26 00       	ld	h,0x00
3199  0F39  29          	add	hl, hl
3200  0F3A  09          	add	hl,bc
3201  0F3B  5E          	ld	e,(hl)
3202  0F3C  23          	inc	hl
3203  0F3D  56          	ld	d,(hl)
3204  0F3E  C5          	push	bc
3205  0F3F  21 08 00    	ld	hl,0x0008
3206  0F42  E5          	push	hl
3207  0F43  D5          	push	de
3208  0F44  CD 00 00    	call	_game_check_time
3209  0F47  F1          	pop	af
3210  0F48  F1          	pop	af
3211  0F49  C1          	pop	bc
3212  0F4A  7D          	ld	a,l
3213  0F4B  B7          	or	a, a
3214  0F4C  28 48       	jr	Z,l_enemy_walk_00137
3215  0F4E  2A 00 00    	ld	hl,(_sprite)
3216  0F51  26 00       	ld	h,0x00
3217  0F53  29          	add	hl, hl
3218  0F54  09          	add	hl,bc
3219  0F55  ED 5B 00 00 	ld	de,(_curr_time)
3220  0F59  73          	ld	(hl),e
3221  0F5A  23          	inc	hl
3222  0F5B  72          	ld	(hl),d
3223  0F5C  3A 00 00    	ld	a,(_sprite)
3224  0F5F  C6 00       	add	a,+((_colint) & 0xFF)
3225  0F61  4F          	ld	c,a
3226  0F62  3E 00       	ld	a,+((_colint) / 256)
3227  0F64  CE 00       	adc	a,0x00
3228  0F66  47          	ld	b,a
3229  0F67  0A          	ld	a,(bc)
3230  0F68  5F          	ld	e,a
3231  0F69  D6 02       	sub	a,0x02
3232  0F6B  30 05       	jr	NC,l_enemy_walk_00128
3233  0F6D  1C          	inc	e
3234  0F6E  7B          	ld	a,e
3235  0F6F  02          	ld	(bc),a
3236  0F70  18 24       	jr	l_enemy_walk_00137
3237  0F72              l_enemy_walk_00128:
3238  0F72  2A 00 00    	ld	hl,(_sprite)
3239  0F75  26 00       	ld	h,0x00
3240  0F77  01 00 00    	ld	bc,_state_a
3241  0F7A  09          	add	hl,bc
3242  0F7B  7E          	ld	a,(hl)
3243  0F7C  E6 FD       	and	a,0xfd
3244  0F7E  77          	ld	(hl),a
3245  0F7F  3E 00       	ld	a,+((_tile) & 0xFF)
3246  0F81  21 00 00    	ld	hl,_sprite
3247  0F84  86          	add	a, (hl)
3248  0F85  4F          	ld	c,a
3249  0F86  3E 00       	ld	a,+((_tile) / 256)
3250  0F88  CE 00       	adc	a,0x00
3251  0F8A  47          	ld	b,a
3252  0F8B  7E          	ld	a,(hl)
3253  0F8C  C5          	push	bc
3254  0F8D  F5          	push	af
3255  0F8E  33          	inc	sp
3256  0F8F  CD 00 00    	call	_spr_tile
3257  0F92  33          	inc	sp
3258  0F93  C1          	pop	bc
3259  0F94  7D          	ld	a, l
3260  0F95  02          	ld	(bc),a
3261  0F96              l_enemy_walk_00137:
3262  0F96  C9          	ret
3263  0F97              ;	---------------------------------
3264  0F97              ; Function enemy_init
3265  0F97              ; ---------------------------------
3266  0F97              _enemy_init:
3267  0F97  CD 00 00    	call	___sdcc_enter_ix
3268  0F9A  21 00 00    	ld	hl,_spr_count
3269  0F9D  34          	inc	(hl)
3270  0F9E  3E 00       	ld	a,+((_class) & 0xFF)
3271  0FA0  DD 86 04    	add	a,(ix+4)
3272  0FA3  4F          	ld	c,a
3273  0FA4  3E 00       	ld	a,+((_class) / 256)
3274  0FA6  CE 00       	adc	a,0x00
3275  0FA8  47          	ld	b,a
3276  0FA9  DD 7E 07    	ld	a,(ix+7)
3277  0FAC  02          	ld	(bc),a
3278  0FAD  3E 00       	ld	a,+((_lin) & 0xFF)
3279  0FAF  DD 86 04    	add	a,(ix+4)
3280  0FB2  4F          	ld	c,a
3281  0FB3  3E 00       	ld	a,+((_lin) / 256)
3282  0FB5  CE 00       	adc	a,0x00
3283  0FB7  47          	ld	b,a
3284  0FB8  DD 7E 05    	ld	a,(ix+5)
3285  0FBB  02          	ld	(bc),a
3286  0FBC  3E 00       	ld	a,+((_col) & 0xFF)
3287  0FBE  DD 86 04    	add	a,(ix+4)
3288  0FC1  4F          	ld	c,a
3289  0FC2  3E 00       	ld	a,+((_col) / 256)
3290  0FC4  CE 00       	adc	a,0x00
3291  0FC6  47          	ld	b,a
3292  0FC7  DD 7E 06    	ld	a,(ix+6)
3293  0FCA  02          	ld	(bc),a
3294  0FCB  21 00 00    	ld	hl,_tmp
3295  0FCE  36 00       	ld	(hl),0x00
3296  0FD0  3E 00       	ld	a,+((_state) & 0xFF)
3297  0FD2  DD 86 04    	add	a,(ix+4)
3298  0FD5  4F          	ld	c,a
3299  0FD6  3E 00       	ld	a,+((_state) / 256)
3300  0FD8  CE 00       	adc	a,0x00
3301  0FDA  47          	ld	b,a
3302  0FDB  AF          	xor	a, a
3303  0FDC  02          	ld	(bc),a
3304  0FDD  3E 00       	ld	a,+((_state_a) & 0xFF)
3305  0FDF  DD 86 04    	add	a,(ix+4)
3306  0FE2  5F          	ld	e,a
3307  0FE3  3E 00       	ld	a,+((_state_a) / 256)
3308  0FE5  CE 00       	adc	a,0x00
3309  0FE7  57          	ld	d,a
3310  0FE8  AF          	xor	a, a
3311  0FE9  12          	ld	(de),a
3312  0FEA  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3313  0FEC  DD 86 04    	add	a,(ix+4)
3314  0FEF  5F          	ld	e,a
3315  0FF0  3E 00       	ld	a,+((_jump_lin) / 256)
3316  0FF2  CE 00       	adc	a,0x00
3317  0FF4  57          	ld	d,a
3318  0FF5  AF          	xor	a, a
3319  0FF6  12          	ld	(de),a
3320  0FF7  0A          	ld	a,(bc)
3321  0FF8  5F          	ld	e,a
3322  0FF9  DD 7E 08    	ld	a,(ix+8)
3323  0FFC  3D          	dec	a
3324  0FFD  20 06       	jr	NZ,l_enemy_init_00102
3325  0FFF  7B          	ld	a,e
3326  1000  CB D7       	set	2, a
3327  1002  02          	ld	(bc),a
3328  1003  18 04       	jr	l_enemy_init_00103
3329  1005              l_enemy_init_00102:
3330  1005  7B          	ld	a,e
3331  1006  CB DF       	set	3, a
3332  1008  02          	ld	(bc),a
3333  1009              l_enemy_init_00103:
3334  1009  0A          	ld	a,(bc)
3335  100A  CB CF       	set	1, a
3336  100C  02          	ld	(bc),a
3337  100D  3E 00       	ld	a,+((_colint) & 0xFF)
3338  100F  DD 86 04    	add	a,(ix+4)
3339  1012  4F          	ld	c,a
3340  1013  3E 00       	ld	a,+((_colint) / 256)
3341  1015  CE 00       	adc	a,0x00
3342  1017  47          	ld	b,a
3343  1018  AF          	xor	a, a
3344  1019  02          	ld	(bc),a
3345  101A  3E 00       	ld	a,+((_tile) & 0xFF)
3346  101C  DD 86 04    	add	a,(ix+4)
3347  101F  4F          	ld	c,a
3348  1020  3E 00       	ld	a,+((_tile) / 256)
3349  1022  CE 00       	adc	a,0x00
3350  1024  47          	ld	b,a
3351  1025  C5          	push	bc
3352  1026  DD 7E 04    	ld	a,(ix+4)
3353  1029  F5          	push	af
3354  102A  33          	inc	sp
3355  102B  CD 00 00    	call	_spr_tile
3356  102E  33          	inc	sp
3357  102F  C1          	pop	bc
3358  1030  7D          	ld	a, l
3359  1031  02          	ld	(bc),a
3360  1032  DD 4E 04    	ld	c,(ix+4)
3361  1035  06 00       	ld	b,0x00
3362  1037  CB 21       	sla	c
3363  1039  CB 10       	rl	b
3364  103B  21 00 00    	ld	hl,_last_time
3365  103E  09          	add	hl,bc
3366  103F  AF          	xor	a, a
3367  1040  77          	ld	(hl), a
3368  1041  23          	inc	hl
3369  1042  77          	ld	(hl), a
3370  1043  21 00 00    	ld	hl,_spr_timer
3371  1046  09          	add	hl,bc
3372  1047  ED 5B 00 00 	ld	de,(_curr_time)
3373  104B  73          	ld	(hl),e
3374  104C  23          	inc	hl
3375  104D  72          	ld	(hl),d
3376  104E  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3377  1050  DD 86 04    	add	a,(ix+4)
3378  1053  4F          	ld	c,a
3379  1054  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3380  1056  CE 00       	adc	a,0x00
3381  1058  47          	ld	b,a
3382  1059  AF          	xor	a, a
3383  105A  02          	ld	(bc),a
3384  105B  DD E1       	pop	ix
3385  105D  C9          	ret
3386  105E              ;	---------------------------------
3387  105E              ; Function enemy_kill
3388  105E              ; ---------------------------------
3389  105E              _enemy_kill:
3390  105E  CD 00 00    	call	___sdcc_enter_ix
3391  1061  76          	halt
3392  1062  CD 00 00    	call	_sound_kill
3393  1065  01 00 00    	ld	bc,_state+0
3394  1068  2A 00 00    	ld	hl,(_sprite)
3395  106B  26 00       	ld	h,0x00
3396  106D  09          	add	hl,bc
3397  106E  6E          	ld	l, (hl)
3398  106F  79          	ld	a,c
3399  1070  EB          	ex	de,hl
3400  1071  DD 86 04    	add	a,(ix+4)
3401  1074  4F          	ld	c,a
3402  1075  78          	ld	a,b
3403  1076  CE 00       	adc	a,0x00
3404  1078  47          	ld	b,a
3405  1079  0A          	ld	a,(bc)
3406  107A  CB 5B       	bit	3, e
3407  107C  28 07       	jr	Z,l_enemy_kill_00102
3408  107E  CB DF       	set	3, a
3409  1080  E6 FB       	and	a,0xfb
3410  1082  02          	ld	(bc),a
3411  1083  18 05       	jr	l_enemy_kill_00103
3412  1085              l_enemy_kill_00102:
3413  1085  CB D7       	set	2, a
3414  1087  E6 F7       	and	a,0xf7
3415  1089  02          	ld	(bc),a
3416  108A              l_enemy_kill_00103:
3417  108A  0A          	ld	a,(bc)
3418  108B  CB C7       	set	0, a
3419  108D  CB EF       	set	5,a
3420  108F  02          	ld	(bc),a
3421  1090  21 00 00    	ld	hl,_hit_count
3422  1093  46          	ld	b,(hl)
3423  1094  11 50 00    	ld	de,0x0050
3424  1097  04          	inc	b
3425  1098  18 04       	jr	l_enemy_kill_00137
3426  109A              l_enemy_kill_00136:
3427  109A  CB 23       	sla	e
3428  109C  CB 12       	rl	d
3429  109E              l_enemy_kill_00137:
3430  109E  10 FA       	djnz	l_enemy_kill_00136
3431  10A0  D5          	push	de
3432  10A1  CD 00 00    	call	_player_score_add
3433  10A4  F1          	pop	af
3434  10A5  21 00 00    	ld	hl,_hit_count
3435  10A8  34          	inc	(hl)
3436  10A9  01 00 00    	ld	bc,_spr_timer+0
3437  10AC  DD 6E 04    	ld	l,(ix+4)
3438  10AF  26 00       	ld	h,0x00
3439  10B1  29          	add	hl, hl
3440  10B2  09          	add	hl,bc
3441  10B3  ED 5B 00 00 	ld	de,(_curr_time)
3442  10B7  73          	ld	(hl),e
3443  10B8  23          	inc	hl
3444  10B9  72          	ld	(hl),d
3445  10BA  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3446  10BC  DD 86 04    	add	a,(ix+4)
3447  10BF  4F          	ld	c,a
3448  10C0  3E 00       	ld	a,+((_jump_lin) / 256)
3449  10C2  CE 00       	adc	a,0x00
3450  10C4  47          	ld	b,a
3451  10C5  3E 00       	ld	a,+((_lin) & 0xFF)
3452  10C7  DD 86 04    	add	a,(ix+4)
3453  10CA  5F          	ld	e,a
3454  10CB  3E 00       	ld	a,+((_lin) / 256)
3455  10CD  CE 00       	adc	a,0x00
3456  10CF  57          	ld	d,a
3457  10D0  1A          	ld	a,(de)
3458  10D1  02          	ld	(bc),a
3459  10D2  3E 00       	ld	a,+((_class) & 0xFF)
3460  10D4  DD 86 04    	add	a,(ix+4)
3461  10D7  4F          	ld	c,a
3462  10D8  3E 00       	ld	a,+((_class) / 256)
3463  10DA  CE 00       	adc	a,0x00
3464  10DC  47          	ld	b,a
3465  10DD  0A          	ld	a,(bc)
3466  10DE  4F          	ld	c,a
3467  10DF  3E 09       	ld	a,0x09
3468  10E1  91          	sub	a, c
3469  10E2  38 0F       	jr	C,l_enemy_kill_00107
3470  10E4  3A 00 00    	ld	a,(_game_type)
3471  10E7  D6 02       	sub	a,0x02
3472  10E9  28 04       	jr	Z,l_enemy_kill_00105
3473  10EB  21 00 00    	ld	hl,_phase_left
3474  10EE  35          	dec	(hl)
3475  10EF              l_enemy_kill_00105:
3476  10EF  21 00 00    	ld	hl,_phase_coins
3477  10F2  34          	inc	(hl)
3478  10F3              l_enemy_kill_00107:
3479  10F3  3A 00 00    	ld	a,(_phase_left)
3480  10F6  B7          	or	a, a
3481  10F7  28 08       	jr	Z,l_enemy_kill_00111
3482  10F9  21 00 00    	ld	hl,_ay_effect_11
3483  10FC  CD 00 00    	call	_ay_fx_play
3484  10FF  18 0F       	jr	l_enemy_kill_00113
3485  1101              l_enemy_kill_00111:
3486  1101  CD 00 00    	call	_ay_reset
3487  1104  3A 00 00    	ld	a,(_game_bonus)
3488  1107  B7          	or	a, a
3489  1108  20 06       	jr	NZ,l_enemy_kill_00113
3490  110A  21 00 00    	ld	hl,_ay_effect_17
3491  110D  CD 00 00    	call	_ay_fx_play
3492  1110              l_enemy_kill_00113:
3493  1110  DD E1       	pop	ix
3494  1112  C9          	ret
3495  1113              	SECTION IGNORE
3496  0000              
