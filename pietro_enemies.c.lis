1     0000              MODULE pietro_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9880 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _enemy_coin2
183   0000              	GLOBAL _enemy_coin1
184   0000              	GLOBAL _enemy_collision
185   0000              	GLOBAL _enemy_collision_check
186   0000              	GLOBAL _enemy_hit
187   0000              	GLOBAL _enemy_flip_change_dir
188   0000              	GLOBAL _enemy_flip
189   0000              	GLOBAL _enemy_flip_sidestepper
190   0000              	GLOBAL _enemy_turn
191   0000              	GLOBAL _enemy_ugly_fix
192   0000              	GLOBAL _enemy_standard
193   0000              	GLOBAL _enemy_slipice
194   0000              	GLOBAL _enemy_fireball_red
195   0000              	GLOBAL _enemy_fireball_green
196   0000              	GLOBAL _enemy_fighterfly
197   0000              	GLOBAL _enemy_trip
198   0000              	GLOBAL _enemy_standard_hit
199   0000              	GLOBAL _enemy_evolve
200   0000              	GLOBAL _enemy_upgrade
201   0000              	GLOBAL _enemy_walk
202   0000              	GLOBAL _enemy_init
203   0000              	GLOBAL _enemy_kill
204   0000              ;--------------------------------------------------------
205   0000              ; Externals used
206   0000              ;--------------------------------------------------------
207   0000              	GLOBAL _debug3
208   0000              	GLOBAL _debug2
209   0000              	GLOBAL _debug
210   0000              	GLOBAL _zx_print_str
211   0000              	GLOBAL _zx_print_int
212   0000              	GLOBAL _zx_print_chr
213   0000              	GLOBAL _zx_print_bonus_time
214   0000              	GLOBAL _zx_isr
215   0000              	GLOBAL _z80_otdr_callee
216   0000              	GLOBAL _z80_otdr
217   0000              	GLOBAL _z80_otir_callee
218   0000              	GLOBAL _z80_otir
219   0000              	GLOBAL _z80_outp_callee
220   0000              	GLOBAL _z80_outp
221   0000              	GLOBAL _z80_indr_callee
222   0000              	GLOBAL _z80_indr
223   0000              	GLOBAL _z80_inir_callee
224   0000              	GLOBAL _z80_inir
225   0000              	GLOBAL _z80_inp_fastcall
226   0000              	GLOBAL _z80_inp
227   0000              	GLOBAL _z80_set_int_state_fastcall
228   0000              	GLOBAL _z80_set_int_state
229   0000              	GLOBAL _z80_get_int_state
230   0000              	GLOBAL _z80_delay_tstate_fastcall
231   0000              	GLOBAL _z80_delay_tstate
232   0000              	GLOBAL _z80_delay_ms_fastcall
233   0000              	GLOBAL _z80_delay_ms
234   0000              	GLOBAL _im2_remove_generic_callback_callee
235   0000              	GLOBAL _im2_remove_generic_callback
236   0000              	GLOBAL _im2_prepend_generic_callback_callee
237   0000              	GLOBAL _im2_prepend_generic_callback
238   0000              	GLOBAL _im2_append_generic_callback_callee
239   0000              	GLOBAL _im2_append_generic_callback
240   0000              	GLOBAL _im2_create_generic_isr_8080_callee
241   0000              	GLOBAL _im2_create_generic_isr_8080
242   0000              	GLOBAL _im2_create_generic_isr_callee
243   0000              	GLOBAL _im2_create_generic_isr
244   0000              	GLOBAL _im2_install_isr_callee
245   0000              	GLOBAL _im2_install_isr
246   0000              	GLOBAL _im2_init_fastcall
247   0000              	GLOBAL _im2_init
248   0000              	GLOBAL _zx_pattern_fill_callee
249   0000              	GLOBAL _zx_pattern_fill
250   0000              	GLOBAL _zx_saddrpup_fastcall
251   0000              	GLOBAL _zx_saddrpup
252   0000              	GLOBAL _zx_saddrpright_callee
253   0000              	GLOBAL _zx_saddrpright
254   0000              	GLOBAL _zx_saddrpleft_callee
255   0000              	GLOBAL _zx_saddrpleft
256   0000              	GLOBAL _zx_saddrpdown_fastcall
257   0000              	GLOBAL _zx_saddrpdown
258   0000              	GLOBAL _zx_saddrcup_fastcall
259   0000              	GLOBAL _zx_saddrcup
260   0000              	GLOBAL _zx_saddrcright_fastcall
261   0000              	GLOBAL _zx_saddrcright
262   0000              	GLOBAL _zx_saddrcleft_fastcall
263   0000              	GLOBAL _zx_saddrcleft
264   0000              	GLOBAL _zx_saddrcdown_fastcall
265   0000              	GLOBAL _zx_saddrcdown
266   0000              	GLOBAL _zx_saddr2py_fastcall
267   0000              	GLOBAL _zx_saddr2py
268   0000              	GLOBAL _zx_saddr2px_fastcall
269   0000              	GLOBAL _zx_saddr2px
270   0000              	GLOBAL _zx_saddr2cy_fastcall
271   0000              	GLOBAL _zx_saddr2cy
272   0000              	GLOBAL _zx_saddr2cx_fastcall
273   0000              	GLOBAL _zx_saddr2cx
274   0000              	GLOBAL _zx_saddr2aaddr_fastcall
275   0000              	GLOBAL _zx_saddr2aaddr
276   0000              	GLOBAL _zx_py2saddr_fastcall
277   0000              	GLOBAL _zx_py2saddr
278   0000              	GLOBAL _zx_py2aaddr_fastcall
279   0000              	GLOBAL _zx_py2aaddr
280   0000              	GLOBAL _zx_pxy2saddr_callee
281   0000              	GLOBAL _zx_pxy2saddr
282   0000              	GLOBAL _zx_pxy2aaddr_callee
283   0000              	GLOBAL _zx_pxy2aaddr
284   0000              	GLOBAL _zx_px2bitmask_fastcall
285   0000              	GLOBAL _zx_px2bitmask
286   0000              	GLOBAL _zx_cyx2saddr_callee
287   0000              	GLOBAL _zx_cyx2saddr
288   0000              	GLOBAL _zx_cyx2aaddr_callee
289   0000              	GLOBAL _zx_cyx2aaddr
290   0000              	GLOBAL _zx_cy2saddr_fastcall
291   0000              	GLOBAL _zx_cy2saddr
292   0000              	GLOBAL _zx_cy2aaddr_fastcall
293   0000              	GLOBAL _zx_cy2aaddr
294   0000              	GLOBAL _zx_bitmask2px_fastcall
295   0000              	GLOBAL _zx_bitmask2px
296   0000              	GLOBAL _zx_aaddrcup_fastcall
297   0000              	GLOBAL _zx_aaddrcup
298   0000              	GLOBAL _zx_aaddrcright_fastcall
299   0000              	GLOBAL _zx_aaddrcright
300   0000              	GLOBAL _zx_aaddrcleft_fastcall
301   0000              	GLOBAL _zx_aaddrcleft
302   0000              	GLOBAL _zx_aaddrcdown_fastcall
303   0000              	GLOBAL _zx_aaddrcdown
304   0000              	GLOBAL _zx_aaddr2saddr_fastcall
305   0000              	GLOBAL _zx_aaddr2saddr
306   0000              	GLOBAL _zx_aaddr2py_fastcall
307   0000              	GLOBAL _zx_aaddr2py
308   0000              	GLOBAL _zx_aaddr2px_fastcall
309   0000              	GLOBAL _zx_aaddr2px
310   0000              	GLOBAL _zx_aaddr2cy_fastcall
311   0000              	GLOBAL _zx_aaddr2cy
312   0000              	GLOBAL _zx_aaddr2cx_fastcall
313   0000              	GLOBAL _zx_aaddr2cx
314   0000              	GLOBAL _zx_scroll_wc_up_callee
315   0000              	GLOBAL _zx_scroll_wc_up
316   0000              	GLOBAL _zx_scroll_up_callee
317   0000              	GLOBAL _zx_scroll_up
318   0000              	GLOBAL _zx_cls_wc_callee
319   0000              	GLOBAL _zx_cls_wc
320   0000              	GLOBAL _zx_cls_fastcall
321   0000              	GLOBAL _zx_cls
322   0000              	GLOBAL _zx_border_fastcall
323   0000              	GLOBAL _zx_border
324   0000              	GLOBAL _sound_hit_pow
325   0000              	GLOBAL _sound_hit_brick
326   0000              	GLOBAL _sound_hit_enemy
327   0000              	GLOBAL _sound_kill
328   0000              	GLOBAL _sound_enter_enemy
329   0000              	GLOBAL _sound_coin
330   0000              	GLOBAL _sound_jump
331   0000              	GLOBAL _sound_slide
332   0000              	GLOBAL _spr_calc_hor
333   0000              	GLOBAL _spr_draw_row
334   0000              	GLOBAL _spr_draw_index
335   0000              	GLOBAL _spr_draw_clear
336   0000              	GLOBAL _spr_water_splash_draw
337   0000              	GLOBAL _spr_water_splash_clear
338   0000              	GLOBAL _spr_draw_back
339   0000              	GLOBAL _spr_cortina_brick
340   0000              	GLOBAL _spr_brick_anim
341   0000              	GLOBAL _spr_back_fix
342   0000              	GLOBAL _spr_back_paint
343   0000              	GLOBAL _spr_back_clr
344   0000              	GLOBAL _spr_draw_pow
345   0000              	GLOBAL _spr_tile
346   0000              	GLOBAL _spr_set_fall
347   0000              	GLOBAL _spr_destroy
348   0000              	GLOBAL _spr_check_over
349   0000              	GLOBAL _spr_tile_dir
350   0000              	GLOBAL _spr_anim_kill
351   0000              	GLOBAL _spr_anim_fall
352   0000              	GLOBAL _spr_killed
353   0000              	GLOBAL _spr_redraw
354   0000              	GLOBAL _spr_move_left
355   0000              	GLOBAL _spr_move_right
356   0000              	GLOBAL _spr_move_horizontal
357   0000              	GLOBAL _spr_move_down
358   0000              	GLOBAL _spr_move_up
359   0000              	GLOBAL _spr_chktime
360   0000              	GLOBAL _player_set
361   0000              	GLOBAL _player_move_horizontal
362   0000              	GLOBAL _player_push_check
363   0000              	GLOBAL _player_push
364   0000              	GLOBAL _player_hit_brick_clear
365   0000              	GLOBAL _player_lost_life
366   0000              	GLOBAL _player_score_add
367   0000              	GLOBAL _player_coin
368   0000              	GLOBAL _player_hit_pow
369   0000              	GLOBAL _player_hit_brick
370   0000              	GLOBAL _player_move_input
371   0000              	GLOBAL _player_turn
372   0000              	GLOBAL _player_move
373   0000              	GLOBAL _player_restart
374   0000              	GLOBAL _player_kill
375   0000              	GLOBAL _player_check_input
376   0000              	GLOBAL _player_collision_check
377   0000              	GLOBAL _player_collision
378   0000              	GLOBAL _player_calc_slide
379   0000              	GLOBAL _player_init
380   0000              	GLOBAL _game_joystick_set_menu
381   0000              	GLOBAL _game_joystick_set
382   0000              	GLOBAL _game_joystick_change
383   0000              	GLOBAL _game_hall_print_p
384   0000              	GLOBAL _game_hall_edit_p
385   0000              	GLOBAL _game_hall_check
386   0000              	GLOBAL _game_hall_enter_phs
387   0000              	GLOBAL _game_print_header
388   0000              	GLOBAL _game_end
389   0000              	GLOBAL _game_hall_enter
390   0000              	GLOBAL _game_hall_of_fame
391   0000              	GLOBAL _game_score_osd
392   0000              	GLOBAL _game_phase_print_score_back
393   0000              	GLOBAL _game_bonus_clock
394   0000              	GLOBAL _game_bonus_summary_player
395   0000              	GLOBAL _game_bonus_summary
396   0000              	GLOBAL _game_check_time
397   0000              	GLOBAL _game_menu_config
398   0000              	GLOBAL _game_menu
399   0000              	GLOBAL _game_rotate_attrib
400   0000              	GLOBAL _game_colour_message
401   0000              	GLOBAL _game_paint_attrib_lin_h
402   0000              	GLOBAL _game_paint_attrib_lin
403   0000              	GLOBAL _game_paint_attrib
404   0000              	GLOBAL _game_menu_paint
405   0000              	GLOBAL _game_menu_top_paint
406   0000              	GLOBAL _game_menu_handle
407   0000              	GLOBAL _game_menu_e
408   0000              	GLOBAL _game_menu_back
409   0000              	GLOBAL _game_print_score
410   0000              	GLOBAL _game_unfreeze_all
411   0000              	GLOBAL _game_freeze_all
412   0000              	GLOBAL _game_freeze
413   0000              	GLOBAL _game_enemy_add_get_index
414   0000              	GLOBAL _game_enemy_add1
415   0000              	GLOBAL _game_enemy_quota
416   0000              	GLOBAL _game_enemy_rnd
417   0000              	GLOBAL _game_enemy_add
418   0000              	GLOBAL _game_check_maze
419   0000              	GLOBAL _game_kill_all_sprites
420   0000              	GLOBAL _game_loop
421   0000              	GLOBAL _player_set2
422   0000              	GLOBAL _player_set1
423   0000              	GLOBAL _game_phase_print
424   0000              	GLOBAL _game_phase_init
425   0000              	GLOBAL _game_phase_calc
426   0000              	GLOBAL _game_start_timer
427   0000              	GLOBAL _game_tick
428   0000              	GLOBAL _game_print_lives
429   0000              	GLOBAL _game_print_footer
430   0000              	GLOBAL _game_calc_index
431   0000              	GLOBAL _game_fill_row
432   0000              	GLOBAL _ay_fx_play
433   0000              	GLOBAL _ay_midi_play
434   0000              	GLOBAL _ay_is_playing
435   0000              	GLOBAL _ay_reset
436   0000              	GLOBAL _debug_func
437   0000              	GLOBAL _test_func
438   0000              	GLOBAL _in_mouse_kempston_wheel_delta
439   0000              	GLOBAL _in_mouse_kempston_wheel
440   0000              	GLOBAL _in_mouse_kempston_callee
441   0000              	GLOBAL _in_mouse_kempston
442   0000              	GLOBAL _in_mouse_kempston_setpos_callee
443   0000              	GLOBAL _in_mouse_kempston_setpos
444   0000              	GLOBAL _in_mouse_kempston_reset
445   0000              	GLOBAL _in_mouse_kempston_init
446   0000              	GLOBAL _in_mouse_amx_wheel_delta
447   0000              	GLOBAL _in_mouse_amx_wheel
448   0000              	GLOBAL _in_mouse_amx_callee
449   0000              	GLOBAL _in_mouse_amx
450   0000              	GLOBAL _in_mouse_amx_setpos_callee
451   0000              	GLOBAL _in_mouse_amx_setpos
452   0000              	GLOBAL _in_mouse_amx_reset
453   0000              	GLOBAL _in_mouse_amx_init_callee
454   0000              	GLOBAL _in_mouse_amx_init
455   0000              	GLOBAL _in_stick_sinclair2
456   0000              	GLOBAL _in_stick_sinclair1
457   0000              	GLOBAL _in_stick_kempston
458   0000              	GLOBAL _in_stick_fuller
459   0000              	GLOBAL _in_stick_cursor
460   0000              	GLOBAL _in_stick_keyboard_fastcall
461   0000              	GLOBAL _in_stick_keyboard
462   0000              	GLOBAL _in_wait_nokey
463   0000              	GLOBAL _in_wait_key
464   0000              	GLOBAL _in_test_key
465   0000              	GLOBAL _in_pause_fastcall
466   0000              	GLOBAL _in_pause
467   0000              	GLOBAL _in_key_scancode_fastcall
468   0000              	GLOBAL _in_key_scancode
469   0000              	GLOBAL _in_key_pressed_fastcall
470   0000              	GLOBAL _in_key_pressed
471   0000              	GLOBAL _in_inkey
472   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
473   0000              	GLOBAL _NIRVANAP_drawTW_raw
474   0000              	GLOBAL _NIRVANAP_drawTW_callee
475   0000              	GLOBAL _NIRVANAP_drawTW
476   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
477   0000              	GLOBAL _NIRVANAP_drawW_raw
478   0000              	GLOBAL _NIRVANAP_drawW_callee
479   0000              	GLOBAL _NIRVANAP_drawW
480   0000              	GLOBAL _NIRVANAP_spriteT_callee
481   0000              	GLOBAL _NIRVANAP_spriteT
482   0000              	GLOBAL _NIRVANAP_fillC_callee
483   0000              	GLOBAL _NIRVANAP_fillC
484   0000              	GLOBAL _NIRVANAP_readC_callee
485   0000              	GLOBAL _NIRVANAP_readC
486   0000              	GLOBAL _NIRVANAP_paintC_callee
487   0000              	GLOBAL _NIRVANAP_paintC
488   0000              	GLOBAL _NIRVANAP_printC_callee
489   0000              	GLOBAL _NIRVANAP_printC
490   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
491   0000              	GLOBAL _NIRVANAP_fillT_raw
492   0000              	GLOBAL _NIRVANAP_fillT_callee
493   0000              	GLOBAL _NIRVANAP_fillT
494   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
495   0000              	GLOBAL _NIRVANAP_drawT_raw
496   0000              	GLOBAL _NIRVANAP_drawT_callee
497   0000              	GLOBAL _NIRVANAP_drawT
498   0000              	GLOBAL _NIRVANAP_stop
499   0000              	GLOBAL _NIRVANAP_start
500   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
501   0000              	GLOBAL _intrinsic_swap_word_32
502   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
503   0000              	GLOBAL _intrinsic_swap_endian_32
504   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
505   0000              	GLOBAL _intrinsic_swap_endian_16
506   0000              	GLOBAL _intrinsic_return_de
507   0000              	GLOBAL _intrinsic_return_bc
508   0000              	GLOBAL _intrinsic_exx
509   0000              	GLOBAL _intrinsic_ex_de_hl
510   0000              	GLOBAL _intrinsic_nop
511   0000              	GLOBAL _intrinsic_im_2
512   0000              	GLOBAL _intrinsic_im_1
513   0000              	GLOBAL _intrinsic_im_0
514   0000              	GLOBAL _intrinsic_retn
515   0000              	GLOBAL _intrinsic_reti
516   0000              	GLOBAL _intrinsic_halt
517   0000              	GLOBAL _intrinsic_ei
518   0000              	GLOBAL _intrinsic_di
519   0000              	GLOBAL _intrinsic_stub
520   0000              	GLOBAL _ulltoa_callee
521   0000              	GLOBAL _ulltoa
522   0000              	GLOBAL _strtoull_callee
523   0000              	GLOBAL _strtoull
524   0000              	GLOBAL _strtoll_callee
525   0000              	GLOBAL _strtoll
526   0000              	GLOBAL _lltoa_callee
527   0000              	GLOBAL _lltoa
528   0000              	GLOBAL _llabs_callee
529   0000              	GLOBAL _llabs
530   0000              	GLOBAL __lldivu__callee
531   0000              	GLOBAL __lldivu_
532   0000              	GLOBAL __lldiv__callee
533   0000              	GLOBAL __lldiv_
534   0000              	GLOBAL _atoll_callee
535   0000              	GLOBAL _atoll
536   0000              	GLOBAL _realloc_unlocked_callee
537   0000              	GLOBAL _realloc_unlocked
538   0000              	GLOBAL _malloc_unlocked_fastcall
539   0000              	GLOBAL _malloc_unlocked
540   0000              	GLOBAL _free_unlocked_fastcall
541   0000              	GLOBAL _free_unlocked
542   0000              	GLOBAL _calloc_unlocked_callee
543   0000              	GLOBAL _calloc_unlocked
544   0000              	GLOBAL _aligned_alloc_unlocked_callee
545   0000              	GLOBAL _aligned_alloc_unlocked
546   0000              	GLOBAL _realloc_callee
547   0000              	GLOBAL _realloc
548   0000              	GLOBAL _malloc_fastcall
549   0000              	GLOBAL _malloc
550   0000              	GLOBAL _free_fastcall
551   0000              	GLOBAL _free
552   0000              	GLOBAL _calloc_callee
553   0000              	GLOBAL _calloc
554   0000              	GLOBAL _aligned_alloc_callee
555   0000              	GLOBAL _aligned_alloc
556   0000              	GLOBAL _utoa_callee
557   0000              	GLOBAL _utoa
558   0000              	GLOBAL _ultoa_callee
559   0000              	GLOBAL _ultoa
560   0000              	GLOBAL _system_fastcall
561   0000              	GLOBAL _system
562   0000              	GLOBAL _strtoul_callee
563   0000              	GLOBAL _strtoul
564   0000              	GLOBAL _strtol_callee
565   0000              	GLOBAL _strtol
566   0000              	GLOBAL _strtof_callee
567   0000              	GLOBAL _strtof
568   0000              	GLOBAL _strtod_callee
569   0000              	GLOBAL _strtod
570   0000              	GLOBAL _srand_fastcall
571   0000              	GLOBAL _srand
572   0000              	GLOBAL _rand
573   0000              	GLOBAL _quick_exit_fastcall
574   0000              	GLOBAL _quick_exit
575   0000              	GLOBAL _qsort_callee
576   0000              	GLOBAL _qsort
577   0000              	GLOBAL _ltoa_callee
578   0000              	GLOBAL _ltoa
579   0000              	GLOBAL _labs_fastcall
580   0000              	GLOBAL _labs
581   0000              	GLOBAL _itoa_callee
582   0000              	GLOBAL _itoa
583   0000              	GLOBAL _ftoh_callee
584   0000              	GLOBAL _ftoh
585   0000              	GLOBAL _ftog_callee
586   0000              	GLOBAL _ftog
587   0000              	GLOBAL _ftoe_callee
588   0000              	GLOBAL _ftoe
589   0000              	GLOBAL _ftoa_callee
590   0000              	GLOBAL _ftoa
591   0000              	GLOBAL _exit_fastcall
592   0000              	GLOBAL _exit
593   0000              	GLOBAL _dtoh_callee
594   0000              	GLOBAL _dtoh
595   0000              	GLOBAL _dtog_callee
596   0000              	GLOBAL _dtog
597   0000              	GLOBAL _dtoe_callee
598   0000              	GLOBAL _dtoe
599   0000              	GLOBAL _dtoa_callee
600   0000              	GLOBAL _dtoa
601   0000              	GLOBAL _bsearch_callee
602   0000              	GLOBAL _bsearch
603   0000              	GLOBAL _atol_fastcall
604   0000              	GLOBAL _atol
605   0000              	GLOBAL _atoi_fastcall
606   0000              	GLOBAL _atoi
607   0000              	GLOBAL _atof_fastcall
608   0000              	GLOBAL _atof
609   0000              	GLOBAL _atexit_fastcall
610   0000              	GLOBAL _atexit
611   0000              	GLOBAL _at_quick_exit_fastcall
612   0000              	GLOBAL _at_quick_exit
613   0000              	GLOBAL _abs_fastcall
614   0000              	GLOBAL _abs
615   0000              	GLOBAL _abort
616   0000              	GLOBAL __strtou__callee
617   0000              	GLOBAL __strtou_
618   0000              	GLOBAL __strtoi__callee
619   0000              	GLOBAL __strtoi_
620   0000              	GLOBAL __random_uniform_xor_8__fastcall
621   0000              	GLOBAL __random_uniform_xor_8_
622   0000              	GLOBAL __random_uniform_xor_32__fastcall
623   0000              	GLOBAL __random_uniform_xor_32_
624   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
625   0000              	GLOBAL __random_uniform_cmwc_8_
626   0000              	GLOBAL __shellsort__callee
627   0000              	GLOBAL __shellsort_
628   0000              	GLOBAL __quicksort__callee
629   0000              	GLOBAL __quicksort_
630   0000              	GLOBAL __insertion_sort__callee
631   0000              	GLOBAL __insertion_sort_
632   0000              	GLOBAL __ldivu__callee
633   0000              	GLOBAL __ldivu_
634   0000              	GLOBAL __ldiv__callee
635   0000              	GLOBAL __ldiv_
636   0000              	GLOBAL __divu__callee
637   0000              	GLOBAL __divu_
638   0000              	GLOBAL __div__callee
639   0000              	GLOBAL __div_
640   0000              	GLOBAL _joynames
641   0000              	GLOBAL _initials
642   0000              	GLOBAL _hof
643   0000              	GLOBAL _score_osd_tile
644   0000              	GLOBAL _score_osd_time
645   0000              	GLOBAL _score_osd_col
646   0000              	GLOBAL _score_osd_lin
647   0000              	GLOBAL _phase_bonus_total
648   0000              	GLOBAL _phase_angry
649   0000              	GLOBAL _phase_curr
650   0000              	GLOBAL _phase_end
651   0000              	GLOBAL _phase_coins
652   0000              	GLOBAL _phase_pop
653   0000              	GLOBAL _phase_tot
654   0000              	GLOBAL _phase_left
655   0000              	GLOBAL _phase_quota
656   0000              	GLOBAL _phases
657   0000              	GLOBAL _spr_idx
658   0000              	GLOBAL _lvl_1
659   0000              	GLOBAL _sprite_speed_alt
660   0000              	GLOBAL _sprite_speed
661   0000              	GLOBAL _screen_ink
662   0000              	GLOBAL _screen_paper
663   0000              	GLOBAL _game_menu_sel
664   0000              	GLOBAL _game_type
665   0000              	GLOBAL _game_osd
666   0000              	GLOBAL _game_bonus
667   0000              	GLOBAL _spr_water_time
668   0000              	GLOBAL _spr_water_clear
669   0000              	GLOBAL _game_time_fireball_start
670   0000              	GLOBAL _game_time_flipped
671   0000              	GLOBAL _game_score_top
672   0000              	GLOBAL _game_lives
673   0000              	GLOBAL _game_over
674   0000              	GLOBAL _game_sound
675   0000              	GLOBAL _game_inmune
676   0000              	GLOBAL _game_god_mode
677   0000              	GLOBAL _game_start_phase
678   0000              	GLOBAL _game_two_player
679   0000              	GLOBAL _game_brick_tile
680   0000              	GLOBAL _game_pow
681   0000              	GLOBAL _spr_count
682   0000              	GLOBAL _osd_time
683   0000              	GLOBAL _frame_time
684   0000              	GLOBAL _entry_time
685   0000              	GLOBAL _curr_time
686   0000              	GLOBAL _s_state
687   0000              	GLOBAL _attrib_hl
688   0000              	GLOBAL _attrib
689   0000              	GLOBAL _zx_val_asm
690   0000              	GLOBAL _enemies
691   0000              	GLOBAL _tmp_ui
692   0000              	GLOBAL _tmp_sc
693   0000              	GLOBAL _tmp_uc
694   0000              	GLOBAL _tmp1
695   0000              	GLOBAL _tmp0
696   0000              	GLOBAL _tmp
697   0000              	GLOBAL _index_d
698   0000              	GLOBAL _index3
699   0000              	GLOBAL _index2
700   0000              	GLOBAL _index1
701   0000              	GLOBAL _loop_count
702   0000              	GLOBAL _sprite_lin_inc_mul
703   0000              	GLOBAL _s_col1
704   0000              	GLOBAL _s_col0
705   0000              	GLOBAL _s_lin1
706   0000              	GLOBAL _s_lin0
707   0000              	GLOBAL _s_tile1
708   0000              	GLOBAL _s_tile0
709   0000              	GLOBAL _hit_count
710   0000              	GLOBAL _tile_offset_other_player
711   0000              	GLOBAL _tile_offset
712   0000              	GLOBAL _index_player
713   0000              	GLOBAL _sprite_other_player
714   0000              	GLOBAL _sprite
715   0000              	GLOBAL _player_joy
716   0000              	GLOBAL _player_next_extra
717   0000              	GLOBAL _player_score
718   0000              	GLOBAL _last_time
719   0000              	GLOBAL _sliding
720   0000              	GLOBAL _spr_timer_c
721   0000              	GLOBAL _spr_timer
722   0000              	GLOBAL _jump_lin
723   0000              	GLOBAL _player_jump_c
724   0000              	GLOBAL _hit_col
725   0000              	GLOBAL _hit_lin
726   0000              	GLOBAL _colint
727   0000              	GLOBAL _col
728   0000              	GLOBAL _lin
729   0000              	GLOBAL _tile
730   0000              	GLOBAL _state_a
731   0000              	GLOBAL _state
732   0000              	GLOBAL _class
733   0000              	GLOBAL _tbuffer
734   0000              	GLOBAL _dirs
735   0000              	GLOBAL _k2
736   0000              	GLOBAL _k1
737   0000              	GLOBAL _joyfunc2
738   0000              	GLOBAL _joyfunc1
739   0000              	GLOBAL _btiles
740   0000              	GLOBAL _spec128
741   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
742   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
743   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
744   0000              	GLOBAL _ay_effect_20
745   0000              	GLOBAL _ay_effect_19
746   0000              	GLOBAL _ay_effect_18
747   0000              	GLOBAL _ay_effect_17
748   0000              	GLOBAL _ay_effect_16
749   0000              	GLOBAL _ay_effect_15
750   0000              	GLOBAL _ay_effect_14
751   0000              	GLOBAL _ay_effect_13
752   0000              	GLOBAL _ay_effect_12
753   0000              	GLOBAL _ay_effect_11
754   0000              	GLOBAL _ay_effect_10
755   0000              	GLOBAL _ay_effect_09
756   0000              	GLOBAL _ay_effect_08
757   0000              	GLOBAL _ay_effect_07
758   0000              	GLOBAL _ay_effect_06
759   0000              	GLOBAL _ay_effect_05
760   0000              	GLOBAL _ay_effect_04
761   0000              	GLOBAL _ay_effect_03
762   0000              	GLOBAL _ay_effect_02
763   0000              	GLOBAL _ay_effect_01
764   0000              	GLOBAL _pb_midi_phase_1
765   0000              	GLOBAL _pb_midi_title
766   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
767   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
768   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
769   0000              	GLOBAL _NIRVANAP_HOLE
770   0000              	GLOBAL _NIRVANAP_ISR_HOOK
771   0000              	GLOBAL _control_method
772   0000              	GLOBAL _hall_valids
773   0000              ;--------------------------------------------------------
774   0000              ; special function registers
775   0000              ;--------------------------------------------------------
776   0000              defc _IO_FE	=	0x00fe
777   0000              defc _IO_1FFD	=	0x1ffd
778   0000              defc _IO_7FFD	=	0x7ffd
779   0000              ;--------------------------------------------------------
780   0000              ; ram data
781   0000              ;--------------------------------------------------------
782   0000              	SECTION bss_compiler
783   0000              ;--------------------------------------------------------
784   0000              ; ram data
785   0000              ;--------------------------------------------------------
786   0000              
787   0000              IF 0
788   0000              
789   0000              ; .area _INITIALIZED removed by z88dk
790   0000              
791   0000              
792   0000              ENDIF
793   0000              
794   0000              ;--------------------------------------------------------
795   0000              ; absolute external ram data
796   0000              ;--------------------------------------------------------
797   0000              	SECTION IGNORE
798   0000              ;--------------------------------------------------------
799   0000              ; global & static initialisations
800   0000              ;--------------------------------------------------------
801   0000              	SECTION code_crt_init
802   0000              ;--------------------------------------------------------
803   0000              ; Home
804   0000              ;--------------------------------------------------------
805   0000              	SECTION IGNORE
806   0000              ;--------------------------------------------------------
807   0000              ; code
808   0000              ;--------------------------------------------------------
809   0000              	SECTION code_compiler
810   0000              ;	---------------------------------
811   0000              ; Function enemy_coin1
812   0000              ; ---------------------------------
813   0000              _enemy_coin1:
814   0000  3A 00 00    	ld	a,(_phase_left)
815   0003  B7          	or	a, a
816   0004  28 2B       	jr	Z,l_enemy_coin1_00107
817   0006  CD FA 0D    	call	_enemy_walk
818   0009  2A 00 00    	ld	hl,(_sprite)
819   000C  26 00       	ld	h,0x00
820   000E  01 00 00    	ld	bc,_lin
821   0011  09          	add	hl,bc
822   0012  7E          	ld	a,(hl)
823   0013  D6 98       	sub	a,0x98
824   0015  20 1A       	jr	NZ,l_enemy_coin1_00107
825   0017  2A 00 00    	ld	hl,(_sprite)
826   001A  26 00       	ld	h,0x00
827   001C  01 00 00    	ld	bc,_col
828   001F  09          	add	hl,bc
829   0020  7E          	ld	a,(hl)
830   0021  4F          	ld	c,a
831   0022  D6 03       	sub	a,0x03
832   0024  28 05       	jr	Z,l_enemy_coin1_00101
833   0026  79          	ld	a,c
834   0027  D6 1B       	sub	a,0x1b
835   0029  20 06       	jr	NZ,l_enemy_coin1_00107
836   002B              l_enemy_coin1_00101:
837   002B  2A 00 00    	ld	hl,(_sprite)
838   002E  CD 00 00    	call	_spr_destroy
839   0031              l_enemy_coin1_00107:
840   0031  C9          	ret
841   0032              	SECTION code_compiler
842   0032              ;	---------------------------------
843   0032              ; Function enemy_coin2
844   0032              ; ---------------------------------
845   0032              _enemy_coin2:
846   0032  01 00 00    	ld	bc,_colint+0
847   0035  79          	ld	a,c
848   0036  21 00 00    	ld	hl,_sprite
849   0039  86          	add	a, (hl)
850   003A  5F          	ld	e,a
851   003B  78          	ld	a,b
852   003C  CE 00       	adc	a,0x00
853   003E  57          	ld	d,a
854   003F  1A          	ld	a,(de)
855   0040  3C          	inc	a
856   0041  12          	ld	(de),a
857   0042  79          	ld	a,c
858   0043  86          	add	a, (hl)
859   0044  4F          	ld	c,a
860   0045  78          	ld	a,b
861   0046  CE 00       	adc	a,0x00
862   0048  47          	ld	b,a
863   0049  0A          	ld	a,(bc)
864   004A  D6 03       	sub	a,0x03
865   004C  C0          	ret	NZ
866   004D  AF          	xor	a, a
867   004E  02          	ld	(bc),a
868   004F  C9          	ret
869   0050              	SECTION code_compiler
870   0050              ;	---------------------------------
871   0050              ; Function enemy_collision
872   0050              ; ---------------------------------
873   0050              _enemy_collision:
874   0050  CD 00 00    	call	___sdcc_enter_ix
875   0053  3B          	dec	sp
876   0054  21 00 00    	ld	hl,_enemies
877   0057  36 00       	ld	(hl),0x00
878   0059              l_enemy_collision_00113:
879   0059  CD 73 01    	call	_enemy_collision_check
880   005C  7D          	ld	a,l
881   005D  B7          	or	a, a
882   005E  CA 64 01    	jp	Z,l_enemy_collision_00114
883   0061  2A 00 00    	ld	hl,(_enemies)
884   0064  26 00       	ld	h,0x00
885   0066  01 00 00    	ld	bc,_state
886   0069  09          	add	hl,bc
887   006A  7E          	ld	a,(hl)
888   006B  DD 77 FF    	ld	(ix-1),a
889   006E  CB 67       	bit	4,a
890   0070  C2 00 01    	jp	NZ,l_enemy_collision_00104
891   0073  4D          	ld	c,l
892   0074  44          	ld	b,h
893   0075  21 00 00    	ld	hl,_s_state
894   0078  7E          	ld	a,(hl)
895   0079  E6 08       	and	a,0x08
896   007B  5F          	ld	e,a
897   007C  DD 7E FF    	ld	a,(ix-1)
898   007F  E6 08       	and	a,0x08
899   0081  57          	ld	d,a
900   0082  7B          	ld	a,e
901   0083  92          	sub	a, d
902   0084  28 7A       	jr	Z,l_enemy_collision_00104
903   0086  7E          	ld	a,(hl)
904   0087  E6 04       	and	a,0x04
905   0089  5F          	ld	e,a
906   008A  DD 7E FF    	ld	a,(ix-1)
907   008D  E6 04       	and	a,0x04
908   008F  57          	ld	d,a
909   0090  7B          	ld	a,e
910   0091  92          	sub	a, d
911   0092  28 6C       	jr	Z,l_enemy_collision_00104
912   0094  2A 00 00    	ld	hl,(_sprite)
913   0097  26 00       	ld	h,0x00
914   0099  11 00 00    	ld	de,_class
915   009C  19          	add	hl,de
916   009D  7E          	ld	a,(hl)
917   009E  D6 08       	sub	a,0x08
918   00A0  28 5E       	jr	Z,l_enemy_collision_00104
919   00A2  DD 7E FF    	ld	a,(ix-1)
920   00A5  EE 04       	xor	a,0x04
921   00A7  02          	ld	(bc),a
922   00A8  2A 00 00    	ld	hl,(_enemies)
923   00AB  26 00       	ld	h,0x00
924   00AD  01 00 00    	ld	bc,_state
925   00B0  09          	add	hl,bc
926   00B1  7E          	ld	a,(hl)
927   00B2  EE 08       	xor	a,0x08
928   00B4  77          	ld	(hl),a
929   00B5  2A 00 00    	ld	hl,(_enemies)
930   00B8  26 00       	ld	h,0x00
931   00BA  01 00 00    	ld	bc,_class
932   00BD  09          	add	hl,bc
933   00BE  4E          	ld	c,(hl)
934   00BF  3E 06       	ld	a,0x06
935   00C1  91          	sub	a,c
936   00C2  38 3C       	jr	C,l_enemy_collision_00104
937   00C4  2A 00 00    	ld	hl,(_enemies)
938   00C7  26 00       	ld	h,0x00
939   00C9  01 00 00    	ld	bc,_state_a
940   00CC  09          	add	hl,bc
941   00CD  7E          	ld	a,(hl)
942   00CE  F6 02       	or	a,0x02
943   00D0  77          	ld	(hl),a
944   00D1  2A 00 00    	ld	hl,(_enemies)
945   00D4  26 00       	ld	h,0x00
946   00D6  29          	add	hl,hl
947   00D7  01 00 00    	ld	bc,_spr_timer
948   00DA  09          	add	hl,bc
949   00DB  ED 5B 00 00 	ld	de,(_curr_time)
950   00DF  73          	ld	(hl),e
951   00E0  23          	inc	hl
952   00E1  72          	ld	(hl),d
953   00E2  2A 00 00    	ld	hl,(_enemies)
954   00E5  26 00       	ld	h,0x00
955   00E7  01 00 00    	ld	bc,_tile
956   00EA  09          	add	hl,bc
957   00EB  E5          	push	hl
958   00EC  2A 00 00    	ld	hl,(_enemies)
959   00EF  CD 00 00    	call	_spr_tile
960   00F2  C1          	pop	bc
961   00F3  7D          	ld	a, l
962   00F4  02          	ld	(bc),a
963   00F5  2A 00 00    	ld	hl,(_enemies)
964   00F8  26 00       	ld	h,0x00
965   00FA  01 00 00    	ld	bc,_colint
966   00FD  09          	add	hl,bc
967   00FE  AF          	xor	a,a
968   00FF  77          	ld	(hl),a
969   0100              l_enemy_collision_00104:
970   0100  21 00 00    	ld	hl,_s_state
971   0103  7E          	ld	a,(hl)
972   0104  EE 0C       	xor	a,+(0x04^0x08)
973   0106  77          	ld	(hl),a
974   0107  2A 00 00    	ld	hl,(_sprite)
975   010A  26 00       	ld	h,0x00
976   010C  01 00 00    	ld	bc,_class
977   010F  09          	add	hl,bc
978   0110  4E          	ld	c,(hl)
979   0111  3E 06       	ld	a,0x06
980   0113  91          	sub	a,c
981   0114  38 38       	jr	C,l_enemy_collision_00109
982   0116  2A 00 00    	ld	hl,(_sprite)
983   0119  26 00       	ld	h,0x00
984   011B  01 00 00    	ld	bc,_state_a
985   011E  09          	add	hl,bc
986   011F  7E          	ld	a,(hl)
987   0120  F6 02       	or	a,0x02
988   0122  77          	ld	(hl),a
989   0123  2A 00 00    	ld	hl,(_sprite)
990   0126  26 00       	ld	h,0x00
991   0128  01 00 00    	ld	bc,_state
992   012B  09          	add	hl,bc
993   012C  3A 00 00    	ld	a,(_s_state)
994   012F  77          	ld	(hl),a
995   0130  2A 00 00    	ld	hl,(_sprite)
996   0133  26 00       	ld	h,0x00
997   0135  01 00 00    	ld	bc,_tile
998   0138  09          	add	hl,bc
999   0139  E5          	push	hl
1000  013A  2A 00 00    	ld	hl,(_sprite)
1001  013D  CD 00 00    	call	_spr_tile
1002  0140  C1          	pop	bc
1003  0141  7D          	ld	a, l
1004  0142  02          	ld	(bc),a
1005  0143  2A 00 00    	ld	hl,(_sprite)
1006  0146  26 00       	ld	h,0x00
1007  0148  01 00 00    	ld	bc,_colint
1008  014B  09          	add	hl,bc
1009  014C  AF          	xor	a,a
1010  014D  77          	ld	(hl),a
1011  014E              l_enemy_collision_00109:
1012  014E  2A 00 00    	ld	hl,(_sprite)
1013  0151  26 00       	ld	h,0x00
1014  0153  29          	add	hl,hl
1015  0154  01 00 00    	ld	bc,_spr_timer
1016  0157  09          	add	hl,bc
1017  0158  ED 5B 00 00 	ld	de,(_curr_time)
1018  015C  73          	ld	(hl),e
1019  015D  23          	inc	hl
1020  015E  72          	ld	(hl),d
1021  015F  21 00 00    	ld	hl,_enemies
1022  0162  36 06       	ld	(hl),0x06
1023  0164              l_enemy_collision_00114:
1024  0164  21 00 00    	ld	hl,_enemies
1025  0167  7E          	ld	a,(hl)
1026  0168  3C          	inc	a
1027  0169  77          	ld	(hl),a
1028  016A  D6 06       	sub	a,0x06
1029  016C  DA 59 00    	jp	C,l_enemy_collision_00113
1030  016F  33          	inc	sp
1031  0170  DD E1       	pop	ix
1032  0172  C9          	ret
1033  0173              	SECTION code_compiler
1034  0173              ;	---------------------------------
1035  0173              ; Function enemy_collision_check
1036  0173              ; ---------------------------------
1037  0173              _enemy_collision_check:
1038  0173  2A 00 00    	ld	hl,(_enemies)
1039  0176  26 00       	ld	h,0x00
1040  0178  01 00 00    	ld	bc,_class
1041  017B  09          	add	hl,bc
1042  017C  7E          	ld	a,(hl)
1043  017D  4F          	ld	c,a
1044  017E  B7          	or	a,a
1045  017F  20 04       	jr	NZ,l_enemy_collision_check_00102
1046  0181  6F          	ld	l,a
1047  0182  C3 53 02    	jp	l_enemy_collision_check_00125
1048  0185              l_enemy_collision_check_00102:
1049  0185  3E 09       	ld	a,0x09
1050  0187  91          	sub	a, c
1051  0188  30 05       	jr	NC,l_enemy_collision_check_00104
1052  018A  2E 00       	ld	l,0x00
1053  018C  C3 53 02    	jp	l_enemy_collision_check_00125
1054  018F              l_enemy_collision_check_00104:
1055  018F  3A 00 00    	ld	a,(_enemies)
1056  0192  21 00 00    	ld	hl,_sprite
1057  0195  96          	sub	a,(hl)
1058  0196  20 04       	jr	NZ,l_enemy_collision_check_00106
1059  0198  6F          	ld	l,a
1060  0199  C3 53 02    	jp	l_enemy_collision_check_00125
1061  019C              l_enemy_collision_check_00106:
1062  019C  2A 00 00    	ld	hl,(_sprite)
1063  019F  26 00       	ld	h,0x00
1064  01A1  01 00 00    	ld	bc,_state
1065  01A4  09          	add	hl,bc
1066  01A5  7E          	ld	a,(hl)
1067  01A6  CB 67       	bit	4, a
1068  01A8  28 05       	jr	Z,l_enemy_collision_check_00108
1069  01AA  2E 00       	ld	l,0x00
1070  01AC  C3 53 02    	jp	l_enemy_collision_check_00125
1071  01AF              l_enemy_collision_check_00108:
1072  01AF  CB 6F       	bit	5, a
1073  01B1  28 05       	jr	Z,l_enemy_collision_check_00110
1074  01B3  2E 00       	ld	l,0x00
1075  01B5  C3 53 02    	jp	l_enemy_collision_check_00125
1076  01B8              l_enemy_collision_check_00110:
1077  01B8  2A 00 00    	ld	hl,(_sprite)
1078  01BB  26 00       	ld	h,0x00
1079  01BD  01 00 00    	ld	bc,_state_a
1080  01C0  09          	add	hl,bc
1081  01C1  CB 4E       	bit	1,(hl)
1082  01C3  28 05       	jr	Z,l_enemy_collision_check_00112
1083  01C5  2E 00       	ld	l,0x00
1084  01C7  C3 53 02    	jp	l_enemy_collision_check_00125
1085  01CA              l_enemy_collision_check_00112:
1086  01CA  2A 00 00    	ld	hl,(_enemies)
1087  01CD  26 00       	ld	h,0x00
1088  01CF  01 00 00    	ld	bc,_state
1089  01D2  09          	add	hl,bc
1090  01D3  7E          	ld	a,(hl)
1091  01D4  CB 6F       	bit	5, a
1092  01D6  28 05       	jr	Z,l_enemy_collision_check_00114
1093  01D8  2E 00       	ld	l,0x00
1094  01DA  C3 53 02    	jp	l_enemy_collision_check_00125
1095  01DD              l_enemy_collision_check_00114:
1096  01DD  CB 4F       	bit	1, a
1097  01DF  28 04       	jr	Z,l_enemy_collision_check_00116
1098  01E1  2E 00       	ld	l,0x00
1099  01E3  18 6E       	jr	l_enemy_collision_check_00125
1100  01E5              l_enemy_collision_check_00116:
1101  01E5  01 00 00    	ld	bc,_lin+0
1102  01E8  2A 00 00    	ld	hl,(_enemies)
1103  01EB  26 00       	ld	h,0x00
1104  01ED  09          	add	hl,bc
1105  01EE  6E          	ld	l, (hl)
1106  01EF  26 00       	ld	h,0x00
1107  01F1  EB          	ex	de,hl
1108  01F2  2A 00 00    	ld	hl,(_sprite)
1109  01F5  62          	ld	h,d
1110  01F6  09          	add	hl,bc
1111  01F7  4E          	ld	c, (hl)
1112  01F8  AF          	xor	a,a
1113  01F9  47          	ld	b,a
1114  01FA  EB          	ex	de,hl
1115  01FB  ED 42       	sbc	hl,bc
1116  01FD  CD 00 00    	call	_abs_fastcall
1117  0200  22 00 00    	ld	(_tmp_ui),hl
1118  0203  7D          	ld	a,l
1119  0204  D6 10       	sub	a,0x10
1120  0206  7C          	ld	a,h
1121  0207  DE 00       	sbc	a,0x00
1122  0209  38 04       	jr	C,l_enemy_collision_check_00118
1123  020B  2E 00       	ld	l,0x00
1124  020D  18 44       	jr	l_enemy_collision_check_00125
1125  020F              l_enemy_collision_check_00118:
1126  020F  01 00 00    	ld	bc,_col+0
1127  0212  2A 00 00    	ld	hl,(_sprite)
1128  0215  26 00       	ld	h,0x00
1129  0217  09          	add	hl,bc
1130  0218  6E          	ld	l, (hl)
1131  0219  EB          	ex	de,hl
1132  021A  2A 00 00    	ld	hl,(_enemies)
1133  021D  26 00       	ld	h,0x00
1134  021F  09          	add	hl,bc
1135  0220  4E          	ld	c, (hl)
1136  0221  7B          	ld	a,e
1137  0222  91          	sub	a, c
1138  0223  32 00 00    	ld	(_tmp_sc),a
1139  0226  2A 00 00    	ld	hl,(_sprite)
1140  0229  26 00       	ld	h,0x00
1141  022B  01 00 00    	ld	bc,_state
1142  022E  09          	add	hl,bc
1143  022F  3A 00 00    	ld	a,(_tmp_sc)
1144  0232  D6 FE       	sub	a,0xfe
1145  0234  4D          	ld	c,l
1146  0235  44          	ld	b,h
1147  0236  20 09       	jr	NZ,l_enemy_collision_check_00120
1148  0238  0A          	ld	a,(bc)
1149  0239  CB 57       	bit	2, a
1150  023B  28 04       	jr	Z,l_enemy_collision_check_00120
1151  023D  2E 01       	ld	l,0x01
1152  023F  18 12       	jr	l_enemy_collision_check_00125
1153  0241              l_enemy_collision_check_00120:
1154  0241  3A 00 00    	ld	a,(_tmp_sc)
1155  0244  D6 02       	sub	a,0x02
1156  0246  20 09       	jr	NZ,l_enemy_collision_check_00123
1157  0248  0A          	ld	a,(bc)
1158  0249  CB 5F       	bit	3, a
1159  024B  28 04       	jr	Z,l_enemy_collision_check_00123
1160  024D  2E 01       	ld	l,0x01
1161  024F  18 02       	jr	l_enemy_collision_check_00125
1162  0251              l_enemy_collision_check_00123:
1163  0251  2E 00       	ld	l,0x00
1164  0253              l_enemy_collision_check_00125:
1165  0253  C9          	ret
1166  0254              	SECTION code_compiler
1167  0254              ;	---------------------------------
1168  0254              ; Function enemy_hit
1169  0254              ; ---------------------------------
1170  0254              _enemy_hit:
1171  0254  76          	halt
1172  0255  2A 00 00    	ld	hl,(_enemies)
1173  0258  26 00       	ld	h,0x00
1174  025A  5D          	ld	e,l
1175  025B  01 00 00    	ld	bc,_col
1176  025E  09          	add	hl,bc
1177  025F  46          	ld	b,(hl)
1178  0260  16 00       	ld	d,0x00
1179  0262  21 00 00    	ld	hl,_lin
1180  0265  19          	add	hl,de
1181  0266  4E          	ld	c, (hl)
1182  0267  C5          	push	bc
1183  0268  AF          	xor	a, a
1184  0269  F5          	push	af
1185  026A  33          	inc	sp
1186  026B  CD 00 00    	call	_NIRVANAP_fillT_callee
1187  026E  2A 00 00    	ld	hl,(_enemies)
1188  0271  26 00       	ld	h,0x00
1189  0273  01 00 00    	ld	bc,_lin
1190  0276  09          	add	hl,bc
1191  0277  7E          	ld	a,(hl)
1192  0278  C6 FC       	add	a,0xfc
1193  027A  77          	ld	(hl),a
1194  027B  2A 00 00    	ld	hl,(_enemies)
1195  027E  26 00       	ld	h,0x00
1196  0280  01 00 00    	ld	bc,_col
1197  0283  09          	add	hl,bc
1198  0284  4E          	ld	c, (hl)
1199  0285  2A 00 00    	ld	hl,(_enemies)
1200  0288  26 00       	ld	h,0x00
1201  028A  11 00 00    	ld	de,_lin
1202  028D  19          	add	hl,de
1203  028E  46          	ld	b, (hl)
1204  028F  2A 00 00    	ld	hl,(_enemies)
1205  0292  26 00       	ld	h,0x00
1206  0294  11 00 00    	ld	de,_tile
1207  0297  19          	add	hl,de
1208  0298  56          	ld	d, (hl)
1209  0299  79          	ld	a,c
1210  029A  21 00 00    	ld	hl,_enemies
1211  029D  F5          	push	af
1212  029E  33          	inc	sp
1213  029F  4A          	ld	c, d
1214  02A0  7E          	ld	a,(hl)
1215  02A1  C5          	push	bc
1216  02A2  F5          	push	af
1217  02A3  33          	inc	sp
1218  02A4  CD 00 00    	call	_NIRVANAP_spriteT_callee
1219  02A7  2A 00 00    	ld	hl,(_enemies)
1220  02AA  26 00       	ld	h,0x00
1221  02AC  01 00 00    	ld	bc,_state_a
1222  02AF  09          	add	hl,bc
1223  02B0  7E          	ld	a,(hl)
1224  02B1  E6 FD       	and	a,0xfd
1225  02B3  77          	ld	(hl),a
1226  02B4  01 00 00    	ld	bc,_spr_timer+0
1227  02B7  2A 00 00    	ld	hl,(_enemies)
1228  02BA  26 00       	ld	h,0x00
1229  02BC  29          	add	hl, hl
1230  02BD  09          	add	hl,bc
1231  02BE  ED 5B 00 00 	ld	de,(_curr_time)
1232  02C2  73          	ld	(hl),e
1233  02C3  23          	inc	hl
1234  02C4  72          	ld	(hl),d
1235  02C5  2A 00 00    	ld	hl,(_enemies)
1236  02C8  26 00       	ld	h,0x00
1237  02CA  01 00 00    	ld	bc,_class
1238  02CD  09          	add	hl,bc
1239  02CE  7E          	ld	a,(hl)
1240  02CF  5F          	ld	e,a
1241  02D0  D6 01       	sub	a,0x01
1242  02D2  DA 74 03    	jp	C,l_enemy_hit_00113
1243  02D5  3E 0B       	ld	a,0x0b
1244  02D7  93          	sub	a,e
1245  02D8  DA 74 03    	jp	C,l_enemy_hit_00113
1246  02DB  1D          	dec	e
1247  02DC  16 00       	ld	d,0x00
1248  02DE  4D          	ld	c,l
1249  02DF  44          	ld	b,h
1250  02E0  21 E7 02    	ld	hl,l_enemy_hit_00123
1251  02E3  19          	add	hl,de
1252  02E4  19          	add	hl,de
1253  02E5  19          	add	hl,de
1254  02E6  E9          	jp	(hl)
1255  02E7              l_enemy_hit_00123:
1256  02E7  C3 08 03    	jp	l_enemy_hit_00101
1257  02EA  C3 10 03    	jp	l_enemy_hit_00102
1258  02ED  C3 18 03    	jp	l_enemy_hit_00103
1259  02F0  C3 20 03    	jp	l_enemy_hit_00104
1260  02F3  C3 28 03    	jp	l_enemy_hit_00105
1261  02F6  C3 30 03    	jp	l_enemy_hit_00106
1262  02F9  C3 40 03    	jp	l_enemy_hit_00108
1263  02FC  C3 4C 03    	jp	l_enemy_hit_00109
1264  02FF  C3 38 03    	jp	l_enemy_hit_00107
1265  0302  C3 5E 03    	jp	l_enemy_hit_00110
1266  0305  C3 6A 03    	jp	l_enemy_hit_00111
1267  0308              l_enemy_hit_00101:
1268  0308  21 30 00    	ld	hl,0x0030
1269  030B  CD 60 04    	call	_enemy_flip
1270  030E  18 64       	jr	l_enemy_hit_00113
1271  0310              l_enemy_hit_00102:
1272  0310  21 3C 00    	ld	hl,0x003c
1273  0313  CD 60 04    	call	_enemy_flip
1274  0316  18 5C       	jr	l_enemy_hit_00113
1275  0318              l_enemy_hit_00103:
1276  0318  21 48 00    	ld	hl,0x0048
1277  031B  CD 60 04    	call	_enemy_flip
1278  031E  18 54       	jr	l_enemy_hit_00113
1279  0320              l_enemy_hit_00104:
1280  0320  21 54 00    	ld	hl,0x0054
1281  0323  CD 37 05    	call	_enemy_flip_sidestepper
1282  0326  18 4C       	jr	l_enemy_hit_00113
1283  0328              l_enemy_hit_00105:
1284  0328  21 60 00    	ld	hl,0x0060
1285  032B  CD 37 05    	call	_enemy_flip_sidestepper
1286  032E  18 44       	jr	l_enemy_hit_00113
1287  0330              l_enemy_hit_00106:
1288  0330  21 6C 00    	ld	hl,0x006c
1289  0333  CD 37 05    	call	_enemy_flip_sidestepper
1290  0336  18 3C       	jr	l_enemy_hit_00113
1291  0338              l_enemy_hit_00107:
1292  0338  21 78 00    	ld	hl,0x0078
1293  033B  CD 60 04    	call	_enemy_flip
1294  033E  18 34       	jr	l_enemy_hit_00113
1295  0340              l_enemy_hit_00108:
1296  0340  2A 00 00    	ld	hl,(_enemies)
1297  0343  26 32       	ld	h,0x32
1298  0345  E5          	push	hl
1299  0346  CD 00 00    	call	_player_coin
1300  0349  F1          	pop	af
1301  034A  18 28       	jr	l_enemy_hit_00113
1302  034C              l_enemy_hit_00109:
1303  034C  21 00 00    	ld	hl,_ay_effect_10
1304  034F  CD 00 00    	call	_ay_fx_play
1305  0352  2A 00 00    	ld	hl,(_enemies)
1306  0355  26 50       	ld	h,0x50
1307  0357  E5          	push	hl
1308  0358  CD 00 00    	call	_player_coin
1309  035B  F1          	pop	af
1310  035C  18 16       	jr	l_enemy_hit_00113
1311  035E              l_enemy_hit_00110:
1312  035E  2A 00 00    	ld	hl,(_enemies)
1313  0361  26 64       	ld	h,0x64
1314  0363  E5          	push	hl
1315  0364  CD 00 00    	call	_player_coin
1316  0367  F1          	pop	af
1317  0368  18 0A       	jr	l_enemy_hit_00113
1318  036A              l_enemy_hit_00111:
1319  036A  2A 00 00    	ld	hl,(_enemies)
1320  036D  26 14       	ld	h,0x14
1321  036F  E5          	push	hl
1322  0370  CD 00 00    	call	_player_coin
1323  0373  F1          	pop	af
1324  0374              l_enemy_hit_00113:
1325  0374  C9          	ret
1326  0375              	SECTION code_compiler
1327  0375              ;	---------------------------------
1328  0375              ; Function enemy_flip_change_dir
1329  0375              ; ---------------------------------
1330  0375              _enemy_flip_change_dir:
1331  0375  3A 00 00    	ld	a,(_enemies)
1332  0378  C6 00       	add	a,+((_state) & 0xFF)
1333  037A  4D          	ld	c,l
1334  037B  5F          	ld	e,a
1335  037C  3E 00       	ld	a,+((_state) / 256)
1336  037E  CE 00       	adc	a,0x00
1337  0380  57          	ld	d,a
1338  0381  1A          	ld	a,(de)
1339  0382  CB 57       	bit	2, a
1340  0384  28 1F       	jr	Z,l_enemy_flip_change_dir_00102
1341  0386  2A 00 00    	ld	hl,(_enemies)
1342  0389  26 00       	ld	h,0x00
1343  038B  11 00 00    	ld	de,_state_a
1344  038E  19          	add	hl,de
1345  038F  7E          	ld	a,(hl)
1346  0390  EB          	ex	de,hl
1347  0391  F6 10       	or	a,0x10
1348  0393  12          	ld	(de),a
1349  0394  3A 00 00    	ld	a,(_enemies)
1350  0397  5F          	ld	e,a
1351  0398  16 00       	ld	d,0x00
1352  039A  21 00 00    	ld	hl,_state_a
1353  039D  19          	add	hl,de
1354  039E  7E          	ld	a,(hl)
1355  039F  EB          	ex	de,hl
1356  03A0  E6 F7       	and	a,0xf7
1357  03A2  12          	ld	(de),a
1358  03A3  18 1D       	jr	l_enemy_flip_change_dir_00103
1359  03A5              l_enemy_flip_change_dir_00102:
1360  03A5  2A 00 00    	ld	hl,(_enemies)
1361  03A8  26 00       	ld	h,0x00
1362  03AA  11 00 00    	ld	de,_state_a
1363  03AD  19          	add	hl,de
1364  03AE  7E          	ld	a,(hl)
1365  03AF  EB          	ex	de,hl
1366  03B0  F6 10       	or	a,0x10
1367  03B2  12          	ld	(de),a
1368  03B3  3A 00 00    	ld	a,(_enemies)
1369  03B6  5F          	ld	e,a
1370  03B7  16 00       	ld	d,0x00
1371  03B9  21 00 00    	ld	hl,_state_a
1372  03BC  19          	add	hl,de
1373  03BD  7E          	ld	a,(hl)
1374  03BE  EB          	ex	de,hl
1375  03BF  E6 F7       	and	a,0xf7
1376  03C1  12          	ld	(de),a
1377  03C2              l_enemy_flip_change_dir_00103:
1378  03C2  2A 00 00    	ld	hl,(_sprite)
1379  03C5  26 00       	ld	h,0x00
1380  03C7  11 00 00    	ld	de,_col
1381  03CA  19          	add	hl,de
1382  03CB  46          	ld	b, (hl)
1383  03CC  2A 00 00    	ld	hl,(_enemies)
1384  03CF  26 00       	ld	h,0x00
1385  03D1  11 00 00    	ld	de,_col
1386  03D4  19          	add	hl,de
1387  03D5  7E          	ld	a,(hl)
1388  03D6  90          	sub	a,b
1389  03D7  30 1D       	jr	NC,l_enemy_flip_change_dir_00105
1390  03D9  2A 00 00    	ld	hl,(_enemies)
1391  03DC  26 00       	ld	h,0x00
1392  03DE  11 00 00    	ld	de,_state
1393  03E1  19          	add	hl,de
1394  03E2  7E          	ld	a,(hl)
1395  03E3  EB          	ex	de,hl
1396  03E4  F6 08       	or	a,0x08
1397  03E6  12          	ld	(de),a
1398  03E7  3A 00 00    	ld	a,(_enemies)
1399  03EA  5F          	ld	e,a
1400  03EB  16 00       	ld	d,0x00
1401  03ED  21 00 00    	ld	hl,_state
1402  03F0  19          	add	hl,de
1403  03F1  7E          	ld	a,(hl)
1404  03F2  EB          	ex	de,hl
1405  03F3  E6 FB       	and	a,0xfb
1406  03F5  12          	ld	(de),a
1407  03F6              l_enemy_flip_change_dir_00105:
1408  03F6  2A 00 00    	ld	hl,(_sprite)
1409  03F9  26 00       	ld	h,0x00
1410  03FB  11 00 00    	ld	de,_col
1411  03FE  19          	add	hl,de
1412  03FF  46          	ld	b, (hl)
1413  0400  2A 00 00    	ld	hl,(_enemies)
1414  0403  26 00       	ld	h,0x00
1415  0405  11 00 00    	ld	de,_col
1416  0408  19          	add	hl,de
1417  0409  5E          	ld	e, (hl)
1418  040A  78          	ld	a,b
1419  040B  93          	sub	a,e
1420  040C  30 1D       	jr	NC,l_enemy_flip_change_dir_00107
1421  040E  2A 00 00    	ld	hl,(_enemies)
1422  0411  26 00       	ld	h,0x00
1423  0413  11 00 00    	ld	de,_state
1424  0416  19          	add	hl,de
1425  0417  7E          	ld	a,(hl)
1426  0418  EB          	ex	de,hl
1427  0419  F6 04       	or	a,0x04
1428  041B  12          	ld	(de),a
1429  041C  3A 00 00    	ld	a,(_enemies)
1430  041F  5F          	ld	e,a
1431  0420  16 00       	ld	d,0x00
1432  0422  21 00 00    	ld	hl,_state
1433  0425  19          	add	hl,de
1434  0426  7E          	ld	a,(hl)
1435  0427  EB          	ex	de,hl
1436  0428  E6 F7       	and	a,0xf7
1437  042A  12          	ld	(de),a
1438  042B              l_enemy_flip_change_dir_00107:
1439  042B  79          	ld	a,c
1440  042C  B7          	or	a, a
1441  042D  C0          	ret	NZ
1442  042E  2A 00 00    	ld	hl,(_sprite)
1443  0431  26 00       	ld	h,0x00
1444  0433  01 00 00    	ld	bc,_col
1445  0436  09          	add	hl,bc
1446  0437  4E          	ld	c,(hl)
1447  0438  2A 00 00    	ld	hl,(_enemies)
1448  043B  26 00       	ld	h,0x00
1449  043D  11 00 00    	ld	de,_col
1450  0440  19          	add	hl,de
1451  0441  46          	ld	b, (hl)
1452  0442  79          	ld	a,c
1453  0443  90          	sub	a,b
1454  0444  C0          	ret	NZ
1455  0445  2A 00 00    	ld	hl,(_enemies)
1456  0448  26 00       	ld	h,0x00
1457  044A  01 00 00    	ld	bc,_state
1458  044D  09          	add	hl,bc
1459  044E  7E          	ld	a,(hl)
1460  044F  E6 F7       	and	a,0xf7
1461  0451  77          	ld	(hl),a
1462  0452  2A 00 00    	ld	hl,(_enemies)
1463  0455  26 00       	ld	h,0x00
1464  0457  01 00 00    	ld	bc,_state
1465  045A  09          	add	hl,bc
1466  045B  7E          	ld	a,(hl)
1467  045C  E6 FB       	and	a,0xfb
1468  045E  77          	ld	(hl),a
1469  045F  C9          	ret
1470  0460              	SECTION code_compiler
1471  0460              ;	---------------------------------
1472  0460              ; Function enemy_flip
1473  0460              ; ---------------------------------
1474  0460              _enemy_flip:
1475  0460  CD 00 00    	call	___sdcc_enter_ix
1476  0463  F5          	push	af
1477  0464  3B          	dec	sp
1478  0465  DD 75 FE    	ld	(ix-2),l
1479  0468  DD 74 FF    	ld	(ix-1),h
1480  046B  01 00 00    	ld	bc,_spr_timer+0
1481  046E  2A 00 00    	ld	hl,(_enemies)
1482  0471  26 00       	ld	h,0x00
1483  0473  29          	add	hl, hl
1484  0474  09          	add	hl,bc
1485  0475  ED 5B 00 00 	ld	de,(_curr_time)
1486  0479  73          	ld	(hl),e
1487  047A  23          	inc	hl
1488  047B  72          	ld	(hl),d
1489  047C  2A 00 00    	ld	hl,(_enemies)
1490  047F  26 00       	ld	h,0x00
1491  0481  01 00 00    	ld	bc,_state
1492  0484  09          	add	hl,bc
1493  0485  7E          	ld	a,(hl)
1494  0486  F6 01       	or	a,0x01
1495  0488  77          	ld	(hl),a
1496  0489  2A 00 00    	ld	hl,(_enemies)
1497  048C  26 00       	ld	h,0x00
1498  048E  01 00 00    	ld	bc,_state
1499  0491  09          	add	hl,bc
1500  0492  7E          	ld	a,(hl)
1501  0493  E6 FD       	and	a,0xfd
1502  0495  77          	ld	(hl),a
1503  0496  2A 00 00    	ld	hl,(_enemies)
1504  0499  26 00       	ld	h,0x00
1505  049B  01 00 00    	ld	bc,_state
1506  049E  09          	add	hl,bc
1507  049F  7E          	ld	a,(hl)
1508  04A0  EE 10       	xor	a,0x10
1509  04A2  77          	ld	(hl),a
1510  04A3  2A 00 00    	ld	hl,(_enemies)
1511  04A6  26 00       	ld	h,0x00
1512  04A8  01 00 00    	ld	bc,_jump_lin
1513  04AB  09          	add	hl,bc
1514  04AC  4D          	ld	c,l
1515  04AD  44          	ld	b,h
1516  04AE  2A 00 00    	ld	hl,(_enemies)
1517  04B1  26 00       	ld	h,0x00
1518  04B3  11 00 00    	ld	de,_lin
1519  04B6  19          	add	hl,de
1520  04B7  7E          	ld	a,(hl)
1521  04B8  02          	ld	(bc),a
1522  04B9  2A 00 00    	ld	hl,(_enemies)
1523  04BC  26 00       	ld	h,0x00
1524  04BE  01 00 00    	ld	bc,_state
1525  04C1  09          	add	hl,bc
1526  04C2  7E          	ld	a,(hl)
1527  04C3  DD 77 FD    	ld	(ix-3),a
1528  04C6  CB 67       	bit	4,a
1529  04C8  4D          	ld	c,l
1530  04C9  44          	ld	b,h
1531  04CA  28 22       	jr	Z,l_enemy_flip_00105
1532  04CC  21 00 00    	ld	hl,_ay_effect_02
1533  04CF  CD 00 00    	call	_ay_fx_play
1534  04D2  2E 00       	ld	l,0x00
1535  04D4  CD 75 03    	call	_enemy_flip_change_dir
1536  04D7  2A 00 00    	ld	hl,(_enemies)
1537  04DA  26 00       	ld	h,0x00
1538  04DC  01 00 00    	ld	bc,_tile
1539  04DF  09          	add	hl,bc
1540  04E0  DD 7E FE    	ld	a,(ix-2)
1541  04E3  C6 06       	add	a,0x06
1542  04E5  77          	ld	(hl),a
1543  04E6  21 01 00    	ld	hl,0x0001
1544  04E9  CD 00 00    	call	_player_score_add
1545  04EC  18 44       	jr	l_enemy_flip_00107
1546  04EE              l_enemy_flip_00105:
1547  04EE  2A 00 00    	ld	hl,(_enemies)
1548  04F1  26 00       	ld	h,0x00
1549  04F3  11 00 00    	ld	de,_state_a
1550  04F6  19          	add	hl,de
1551  04F7  5E          	ld	e, (hl)
1552  04F8  DD 7E FD    	ld	a,(ix-3)
1553  04FB  F6 04       	or	a,0x04
1554  04FD  CB 63       	bit	4, e
1555  04FF  28 10       	jr	Z,l_enemy_flip_00102
1556  0501  02          	ld	(bc),a
1557  0502  2A 00 00    	ld	hl,(_enemies)
1558  0505  26 00       	ld	h,0x00
1559  0507  01 00 00    	ld	bc,_state
1560  050A  09          	add	hl,bc
1561  050B  7E          	ld	a,(hl)
1562  050C  E6 F7       	and	a,0xf7
1563  050E  77          	ld	(hl),a
1564  050F  18 0E       	jr	l_enemy_flip_00103
1565  0511              l_enemy_flip_00102:
1566  0511  02          	ld	(bc),a
1567  0512  2A 00 00    	ld	hl,(_enemies)
1568  0515  26 00       	ld	h,0x00
1569  0517  01 00 00    	ld	bc,_state
1570  051A  09          	add	hl,bc
1571  051B  7E          	ld	a,(hl)
1572  051C  E6 F7       	and	a,0xf7
1573  051E  77          	ld	(hl),a
1574  051F              l_enemy_flip_00103:
1575  051F  2A 00 00    	ld	hl,(_enemies)
1576  0522  26 00       	ld	h,0x00
1577  0524  01 00 00    	ld	bc,_tile
1578  0527  09          	add	hl,bc
1579  0528  E5          	push	hl
1580  0529  2A 00 00    	ld	hl,(_enemies)
1581  052C  CD 00 00    	call	_spr_tile
1582  052F  C1          	pop	bc
1583  0530  7D          	ld	a, l
1584  0531  02          	ld	(bc),a
1585  0532              l_enemy_flip_00107:
1586  0532  DD F9       	ld	sp, ix
1587  0534  DD E1       	pop	ix
1588  0536  C9          	ret
1589  0537              	SECTION code_compiler
1590  0537              ;	---------------------------------
1591  0537              ; Function enemy_flip_sidestepper
1592  0537              ; ---------------------------------
1593  0537              _enemy_flip_sidestepper:
1594  0537  4D          	ld	c,l
1595  0538  44          	ld	b,h
1596  0539  2A 00 00    	ld	hl,(_enemies)
1597  053C  26 00       	ld	h,0x00
1598  053E  11 00 00    	ld	de,_state
1599  0541  19          	add	hl,de
1600  0542  CB 76       	bit	6,(hl)
1601  0544  28 07       	jr	Z,l_enemy_flip_sidestepper_00102
1602  0546  69          	ld	l, c
1603  0547  60          	ld	h, b
1604  0548  CD 60 04    	call	_enemy_flip
1605  054B  18 55       	jr	l_enemy_flip_sidestepper_00104
1606  054D              l_enemy_flip_sidestepper_00102:
1607  054D  2E 01       	ld	l,0x01
1608  054F  CD 75 03    	call	_enemy_flip_change_dir
1609  0552  2A 00 00    	ld	hl,(_enemies)
1610  0555  26 00       	ld	h,0x00
1611  0557  01 00 00    	ld	bc,_state
1612  055A  09          	add	hl,bc
1613  055B  7E          	ld	a,(hl)
1614  055C  EE 01       	xor	a,0x01
1615  055E  77          	ld	(hl),a
1616  055F  2A 00 00    	ld	hl,(_enemies)
1617  0562  26 00       	ld	h,0x00
1618  0564  01 00 00    	ld	bc,_state
1619  0567  09          	add	hl,bc
1620  0568  7E          	ld	a,(hl)
1621  0569  E6 FD       	and	a,0xfd
1622  056B  77          	ld	(hl),a
1623  056C  2A 00 00    	ld	hl,(_enemies)
1624  056F  26 00       	ld	h,0x00
1625  0571  01 00 00    	ld	bc,_state
1626  0574  09          	add	hl,bc
1627  0575  7E          	ld	a,(hl)
1628  0576  F6 40       	or	a,0x40
1629  0578  77          	ld	(hl),a
1630  0579  2A 00 00    	ld	hl,(_enemies)
1631  057C  26 00       	ld	h,0x00
1632  057E  01 00 00    	ld	bc,_jump_lin
1633  0581  09          	add	hl,bc
1634  0582  4D          	ld	c,l
1635  0583  44          	ld	b,h
1636  0584  2A 00 00    	ld	hl,(_enemies)
1637  0587  26 00       	ld	h,0x00
1638  0589  11 00 00    	ld	de,_lin
1639  058C  19          	add	hl,de
1640  058D  7E          	ld	a,(hl)
1641  058E  02          	ld	(bc),a
1642  058F  2A 00 00    	ld	hl,(_enemies)
1643  0592  26 00       	ld	h,0x00
1644  0594  01 00 00    	ld	bc,_tile
1645  0597  09          	add	hl,bc
1646  0598  E5          	push	hl
1647  0599  2A 00 00    	ld	hl,(_enemies)
1648  059C  CD 00 00    	call	_spr_tile
1649  059F  C1          	pop	bc
1650  05A0  7D          	ld	a, l
1651  05A1  02          	ld	(bc),a
1652  05A2              l_enemy_flip_sidestepper_00104:
1653  05A2  C9          	ret
1654  05A3              	SECTION code_compiler
1655  05A3              ;	---------------------------------
1656  05A3              ; Function enemy_turn
1657  05A3              ; ---------------------------------
1658  05A3              _enemy_turn:
1659  05A3  21 00 00    	ld	hl,_sprite
1660  05A6  36 00       	ld	(hl),0x00
1661  05A8              l_enemy_turn_00123:
1662  05A8  2A 00 00    	ld	hl,(_sprite)
1663  05AB  26 00       	ld	h,0x00
1664  05AD  01 00 00    	ld	bc,_class
1665  05B0  09          	add	hl,bc
1666  05B1  7E          	ld	a,(hl)
1667  05B2  B7          	or	a, a
1668  05B3  CA C4 06    	jp	Z,l_enemy_turn_00121
1669  05B6  21 00 00    	ld	hl,_sprite
1670  05B9  CD 00 00    	call	_spr_chktime
1671  05BC  7D          	ld	a,l
1672  05BD  B7          	or	a, a
1673  05BE  CA C4 06    	jp	Z,l_enemy_turn_00121
1674  05C1  2A 00 00    	ld	hl,(_sprite)
1675  05C4  26 00       	ld	h,0x00
1676  05C6  01 00 00    	ld	bc,_lin
1677  05C9  09          	add	hl,bc
1678  05CA  7E          	ld	a,(hl)
1679  05CB  32 00 00    	ld	(_s_lin0),a
1680  05CE  2A 00 00    	ld	hl,(_sprite)
1681  05D1  26 00       	ld	h,0x00
1682  05D3  01 00 00    	ld	bc,_col
1683  05D6  09          	add	hl,bc
1684  05D7  7E          	ld	a,(hl)
1685  05D8  32 00 00    	ld	(_s_col0),a
1686  05DB  2A 00 00    	ld	hl,(_sprite)
1687  05DE  26 00       	ld	h,0x00
1688  05E0  01 00 00    	ld	bc,_tile
1689  05E3  09          	add	hl,bc
1690  05E4  4E          	ld	c, (hl)
1691  05E5  3A 00 00    	ld	a,(_sprite)
1692  05E8  5F          	ld	e,a
1693  05E9  16 00       	ld	d,0x00
1694  05EB  21 00 00    	ld	hl,_colint
1695  05EE  19          	add	hl,de
1696  05EF  7E          	ld	a,(hl)
1697  05F0  81          	add	a,c
1698  05F1  32 00 00    	ld	(_s_tile0),a
1699  05F4  2A 00 00    	ld	hl,(_sprite)
1700  05F7  26 00       	ld	h,0x00
1701  05F9  01 00 00    	ld	bc,_state
1702  05FC  09          	add	hl,bc
1703  05FD  7E          	ld	a,(hl)
1704  05FE  32 00 00    	ld	(_s_state),a
1705  0601  2A 00 00    	ld	hl,(_sprite)
1706  0604  26 00       	ld	h,0x00
1707  0606  29          	add	hl,hl
1708  0607  01 00 00    	ld	bc,_last_time
1709  060A  09          	add	hl,bc
1710  060B  ED 5B 00 00 	ld	de,(_curr_time)
1711  060F  73          	ld	(hl),e
1712  0610  23          	inc	hl
1713  0611  72          	ld	(hl),d
1714  0612  21 00 00    	ld	hl,_s_state
1715  0615  7E          	ld	a,(hl)
1716  0616  E6 01       	and	a,0x01
1717  0618  7E          	ld	a,(hl)
1718  0619  E6 20       	and	a,0x20
1719  061B  28 0E       	jr	Z,l_enemy_turn_00102
1720  061D  7E          	ld	a,(hl)
1721  061E  E6 01       	and	a,0x01
1722  0620  20 09       	jr	NZ,l_enemy_turn_00102
1723  0622  2A 00 00    	ld	hl,(_sprite)
1724  0625  CD 00 00    	call	_spr_killed
1725  0628  C3 C4 06    	jp	l_enemy_turn_00121
1726  062B              l_enemy_turn_00102:
1727  062B  3A 00 00    	ld	a,(_s_state)
1728  062E  E6 10       	and	a,0x10
1729  0630  28 34       	jr	Z,l_enemy_turn_00107
1730  0632  21 00 00    	ld	hl,_s_state
1731  0635  7E          	ld	a,(hl)
1732  0636  E6 02       	and	a,0x02
1733  0638  20 2C       	jr	NZ,l_enemy_turn_00107
1734  063A  7E          	ld	a,(hl)
1735  063B  E6 01       	and	a,0x01
1736  063D  20 27       	jr	NZ,l_enemy_turn_00107
1737  063F  2A 00 00    	ld	hl,(_sprite)
1738  0642  26 00       	ld	h,0x00
1739  0644  01 00 00    	ld	bc,_sprite_speed_alt
1740  0647  09          	add	hl,bc
1741  0648  36 08       	ld	(hl),0x08
1742  064A  CD EF 0C    	call	_enemy_standard_hit
1743  064D  2A 00 00    	ld	hl,(_sprite)
1744  0650  26 00       	ld	h,0x00
1745  0652  01 00 00    	ld	bc,_colint
1746  0655  09          	add	hl,bc
1747  0656  7E          	ld	a,(hl)
1748  0657  3C          	inc	a
1749  0658  77          	ld	(hl),a
1750  0659  5F          	ld	e,a
1751  065A  3E 02       	ld	a,0x02
1752  065C  93          	sub	a,e
1753  065D  30 02       	jr	NC,l_enemy_turn_00105
1754  065F  AF          	xor	a,a
1755  0660  77          	ld	(hl),a
1756  0661              l_enemy_turn_00105:
1757  0661  CD 00 00    	call	_spr_redraw
1758  0664  18 5E       	jr	l_enemy_turn_00121
1759  0666              l_enemy_turn_00107:
1760  0666  2A 00 00    	ld	hl,(_sprite)
1761  0669  26 00       	ld	h,0x00
1762  066B  01 00 00    	ld	bc,_class
1763  066E  09          	add	hl,bc
1764  066F  7E          	ld	a,(hl)
1765  0670  4F          	ld	c,a
1766  0671  D6 07       	sub	a,0x07
1767  0673  38 3C       	jr	C,l_enemy_turn_00116
1768  0675  3E 0C       	ld	a,0x0c
1769  0677  91          	sub	a,c
1770  0678  38 37       	jr	C,l_enemy_turn_00116
1771  067A  79          	ld	a,c
1772  067B  C6 F9       	add	a,0xf9
1773  067D  44          	ld	b,h
1774  067E  5F          	ld	e,a
1775  067F  16 00       	ld	d,0x00
1776  0681  21 87 06    	ld	hl,l_enemy_turn_00176
1777  0684  19          	add	hl,de
1778  0685  19          	add	hl,de
1779  0686  E9          	jp	(hl)
1780  0687              l_enemy_turn_00176:
1781  0687  18 19       	jr	l_enemy_turn_00113
1782  0689  18 1C       	jr	l_enemy_turn_00114
1783  068B  18 10       	jr	l_enemy_turn_00112
1784  068D  18 04       	jr	l_enemy_turn_00110
1785  068F  18 07       	jr	l_enemy_turn_00111
1786  0691  18 19       	jr	l_enemy_turn_00115
1787  0693              l_enemy_turn_00110:
1788  0693  CD 48 09    	call	_enemy_fireball_red
1789  0696  18 1C       	jr	l_enemy_turn_00117
1790  0698              l_enemy_turn_00111:
1791  0698  CD 1E 0A    	call	_enemy_fireball_green
1792  069B  18 17       	jr	l_enemy_turn_00117
1793  069D              l_enemy_turn_00112:
1794  069D  CD C9 0A    	call	_enemy_fighterfly
1795  06A0  18 12       	jr	l_enemy_turn_00117
1796  06A2              l_enemy_turn_00113:
1797  06A2  CD C2 07    	call	_enemy_slipice
1798  06A5  18 0D       	jr	l_enemy_turn_00117
1799  06A7              l_enemy_turn_00114:
1800  06A7  CD 00 00    	call	_enemy_coin1
1801  06AA  18 08       	jr	l_enemy_turn_00117
1802  06AC              l_enemy_turn_00115:
1803  06AC  CD 32 00    	call	_enemy_coin2
1804  06AF  18 03       	jr	l_enemy_turn_00117
1805  06B1              l_enemy_turn_00116:
1806  06B1  CD 4F 07    	call	_enemy_standard
1807  06B4              l_enemy_turn_00117:
1808  06B4  CD 00 00    	call	_spr_redraw
1809  06B7  2A 00 00    	ld	hl,(_sprite)
1810  06BA  26 00       	ld	h,0x00
1811  06BC  01 00 00    	ld	bc,_state
1812  06BF  09          	add	hl,bc
1813  06C0  3A 00 00    	ld	a,(_s_state)
1814  06C3  77          	ld	(hl),a
1815  06C4              l_enemy_turn_00121:
1816  06C4  21 00 00    	ld	hl,_sprite
1817  06C7  7E          	ld	a,(hl)
1818  06C8  3C          	inc	a
1819  06C9  77          	ld	(hl),a
1820  06CA  D6 06       	sub	a,0x06
1821  06CC  DA A8 05    	jp	C,l_enemy_turn_00123
1822  06CF  C9          	ret
1823  06D0              	SECTION code_compiler
1824  06D0              ;	---------------------------------
1825  06D0              ; Function enemy_ugly_fix
1826  06D0              ; ---------------------------------
1827  06D0              _enemy_ugly_fix:
1828  06D0  3E 58       	ld	a,0x58
1829  06D2  21 00 00    	ld	hl,_s_lin0
1830  06D5  96          	sub	a, (hl)
1831  06D6  30 42       	jr	NC,l_enemy_ugly_fix_00106
1832  06D8  7E          	ld	a,(hl)
1833  06D9  D6 68       	sub	a,0x68
1834  06DB  30 3D       	jr	NC,l_enemy_ugly_fix_00106
1835  06DD  21 00 00    	ld	hl,0x0000
1836  06E0  E5          	push	hl
1837  06E1  2A 00 00    	ld	hl,(_sprite)
1838  06E4  26 A9       	ld	h,0xa9
1839  06E6  E5          	push	hl
1840  06E7  CD 00 00    	call	_NIRVANAP_spriteT_callee
1841  06EA  76          	halt
1842  06EB  F3          	di
1843  06EC  3A 00 00    	ld	a,(_s_col0)
1844  06EF  D6 08       	sub	a,0x08
1845  06F1  30 0F       	jr	NC,l_enemy_ugly_fix_00102
1846  06F3  21 80 01    	ld	hl,0x0180
1847  06F6  E5          	push	hl
1848  06F7  CD 00 00    	call	_spr_draw_index
1849  06FA  21 82 01    	ld	hl,0x0182
1850  06FD  E3          	ex	(sp),hl
1851  06FE  CD 00 00    	call	_spr_draw_index
1852  0701  F1          	pop	af
1853  0702              l_enemy_ugly_fix_00102:
1854  0702  3E 18       	ld	a,0x18
1855  0704  21 00 00    	ld	hl,_s_col0
1856  0707  96          	sub	a, (hl)
1857  0708  30 0F       	jr	NC,l_enemy_ugly_fix_00104
1858  070A  21 9C 01    	ld	hl,0x019c
1859  070D  E5          	push	hl
1860  070E  CD 00 00    	call	_spr_draw_index
1861  0711  21 9E 01    	ld	hl,0x019e
1862  0714  E3          	ex	(sp),hl
1863  0715  CD 00 00    	call	_spr_draw_index
1864  0718  F1          	pop	af
1865  0719              l_enemy_ugly_fix_00104:
1866  0719  FB          	ei
1867  071A              l_enemy_ugly_fix_00106:
1868  071A  3E 28       	ld	a,0x28
1869  071C  21 00 00    	ld	hl,_s_lin0
1870  071F  96          	sub	a, (hl)
1871  0720  38 2C       	jr	C,l_enemy_ugly_fix_00114
1872  0722  21 00 00    	ld	hl,0x0000
1873  0725  E5          	push	hl
1874  0726  2A 00 00    	ld	hl,(_sprite)
1875  0729  26 A9       	ld	h,0xa9
1876  072B  E5          	push	hl
1877  072C  CD 00 00    	call	_NIRVANAP_spriteT_callee
1878  072F  76          	halt
1879  0730  3A 00 00    	ld	a,(_s_col0)
1880  0733  D6 04       	sub	a,0x04
1881  0735  30 08       	jr	NC,l_enemy_ugly_fix_00109
1882  0737  21 00 00    	ld	hl,0x0000
1883  073A  E5          	push	hl
1884  073B  CD 00 00    	call	_spr_back_paint
1885  073E  F1          	pop	af
1886  073F              l_enemy_ugly_fix_00109:
1887  073F  3E 1A       	ld	a,0x1a
1888  0741  21 00 00    	ld	hl,_s_col0
1889  0744  96          	sub	a, (hl)
1890  0745  D0          	ret	NC
1891  0746  21 1A 00    	ld	hl,0x001a
1892  0749  E5          	push	hl
1893  074A  CD 00 00    	call	_spr_back_paint
1894  074D  F1          	pop	af
1895  074E              l_enemy_ugly_fix_00114:
1896  074E  C9          	ret
1897  074F              	SECTION code_compiler
1898  074F              ;	---------------------------------
1899  074F              ; Function enemy_standard
1900  074F              ; ---------------------------------
1901  074F              _enemy_standard:
1902  074F  3A 00 00    	ld	a,(_s_state)
1903  0752  0F          	rrca
1904  0753  30 3F       	jr	NC,l_enemy_standard_00108
1905  0755  2A 00 00    	ld	hl,(_sprite)
1906  0758  26 00       	ld	h,0x00
1907  075A  01 00 00    	ld	bc,_sprite_speed_alt
1908  075D  09          	add	hl,bc
1909  075E  36 01       	ld	(hl),0x01
1910  0760  CD 00 00    	call	_spr_move_horizontal
1911  0763  CD 00 00    	call	_spr_move_up
1912  0766  2A 00 00    	ld	hl,(_sprite)
1913  0769  26 00       	ld	h,0x00
1914  076B  5D          	ld	e,l
1915  076C  01 00 00    	ld	bc,_jump_lin
1916  076F  09          	add	hl,bc
1917  0770  4E          	ld	c,(hl)
1918  0771  06 00       	ld	b,0x00
1919  0773  50          	ld	d,b
1920  0774  21 00 00    	ld	hl,_lin
1921  0777  19          	add	hl,de
1922  0778  5E          	ld	e, (hl)
1923  0779  16 00       	ld	d,0x00
1924  077B  79          	ld	a,c
1925  077C  93          	sub	a, e
1926  077D  4F          	ld	c,a
1927  077E  78          	ld	a,b
1928  077F  9A          	sbc	a, d
1929  0780  47          	ld	b,a
1930  0781  79          	ld	a,c
1931  0782  D6 0C       	sub	a,0x0c
1932  0784  78          	ld	a,b
1933  0785  17          	rla
1934  0786  3F          	ccf
1935  0787  1F          	rra
1936  0788  DE 80       	sbc	a,0x80
1937  078A  38 33       	jr	C,l_enemy_standard_00109
1938  078C  CD D0 06    	call	_enemy_ugly_fix
1939  078F  CD 00 00    	call	_spr_set_fall
1940  0792  18 2B       	jr	l_enemy_standard_00109
1941  0794              l_enemy_standard_00108:
1942  0794  CD FA 0D    	call	_enemy_walk
1943  0797  2A 00 00    	ld	hl,(_sprite)
1944  079A  26 00       	ld	h,0x00
1945  079C  01 00 00    	ld	bc,_lin
1946  079F  09          	add	hl,bc
1947  07A0  7E          	ld	a,(hl)
1948  07A1  D6 98       	sub	a,0x98
1949  07A3  21 00 00    	ld	hl,_sprite
1950  07A6  20 17       	jr	NZ,l_enemy_standard_00109
1951  07A8  4E          	ld	c,(hl)
1952  07A9  06 00       	ld	b,0x00
1953  07AB  21 00 00    	ld	hl,_col
1954  07AE  09          	add	hl,bc
1955  07AF  7E          	ld	a,(hl)
1956  07B0  4F          	ld	c,a
1957  07B1  D6 05       	sub	a,0x05
1958  07B3  38 05       	jr	C,l_enemy_standard_00103
1959  07B5  3E 19       	ld	a,0x19
1960  07B7  91          	sub	a, c
1961  07B8  30 05       	jr	NC,l_enemy_standard_00109
1962  07BA              l_enemy_standard_00103:
1963  07BA  21 00 00    	ld	hl,_s_state
1964  07BD  CB C6       	set	0, (hl)
1965  07BF              l_enemy_standard_00109:
1966  07BF  C3 DF 0B    	jp  _enemy_trip
1967  07C2              	SECTION code_compiler
1968  07C2              ;	---------------------------------
1969  07C2              ; Function enemy_slipice
1970  07C2              ; ---------------------------------
1971  07C2              _enemy_slipice:
1972  07C2  3A 00 00    	ld	a,(_phase_left)
1973  07C5  B7          	or	a, a
1974  07C6  CA 47 09    	jp	Z,l_enemy_slipice_00126
1975  07C9  2A 00 00    	ld	hl,(_sprite)
1976  07CC  26 00       	ld	h,0x00
1977  07CE  01 00 00    	ld	bc,_state
1978  07D1  09          	add	hl,bc
1979  07D2  7E          	ld	a,(hl)
1980  07D3  CB 77       	bit	6, a
1981  07D5  CA 73 08    	jp	Z,l_enemy_slipice_00122
1982  07D8  76          	halt
1983  07D9  2A 00 00    	ld	hl,(_sprite)
1984  07DC  26 00       	ld	h,0x00
1985  07DE  01 00 00    	ld	bc,_col
1986  07E1  09          	add	hl,bc
1987  07E2  56          	ld	d, (hl)
1988  07E3  2A 00 00    	ld	hl,(_sprite)
1989  07E6  26 00       	ld	h,0x00
1990  07E8  01 00 00    	ld	bc,_lin
1991  07EB  09          	add	hl,bc
1992  07EC  7E          	ld	a,(hl)
1993  07ED  C6 08       	add	a,0x08
1994  07EF  5F          	ld	e,a
1995  07F0  2A 00 00    	ld	hl,(_sprite)
1996  07F3  26 00       	ld	h,0x00
1997  07F5  01 00 00    	ld	bc,_colint
1998  07F8  09          	add	hl,bc
1999  07F9  7E          	ld	a,(hl)
2000  07FA  C6 8D       	add	a,0x8d
2001  07FC  4D          	ld	c,l
2002  07FD  47          	ld	b,a
2003  07FE  D5          	push	de
2004  07FF  C5          	push	bc
2005  0800  33          	inc	sp
2006  0801  CD 00 00    	call	_NIRVANAP_drawT_callee
2007  0804  2A 00 00    	ld	hl,(_sprite)
2008  0807  26 00       	ld	h,0x00
2009  0809  01 00 00    	ld	bc,_colint
2010  080C  09          	add	hl,bc
2011  080D  7E          	ld	a,(hl)
2012  080E  3C          	inc	a
2013  080F  77          	ld	(hl),a
2014  0810  5F          	ld	e,a
2015  0811  3E 02       	ld	a,0x02
2016  0813  93          	sub	a,e
2017  0814  30 02       	jr	NC,l_enemy_slipice_00102
2018  0816  AF          	xor	a,a
2019  0817  77          	ld	(hl),a
2020  0818              l_enemy_slipice_00102:
2021  0818  2A 00 00    	ld	hl,(_sprite)
2022  081B  26 00       	ld	h,0x00
2023  081D  29          	add	hl, hl
2024  081E  11 00 00    	ld	de,_spr_timer
2025  0821  19          	add	hl,de
2026  0822  4E          	ld	c,(hl)
2027  0823  23          	inc	hl
2028  0824  46          	ld	b,(hl)
2029  0825  21 28 00    	ld	hl,0x0028
2030  0828  E5          	push	hl
2031  0829  C5          	push	bc
2032  082A  CD 00 00    	call	_game_check_time
2033  082D  F1          	pop	af
2034  082E  F1          	pop	af
2035  082F  7D          	ld	a,l
2036  0830  B7          	or	a, a
2037  0831  CA 47 09    	jp	Z,l_enemy_slipice_00126
2038  0834  2A 00 00    	ld	hl,(_sprite)
2039  0837  26 00       	ld	h,0x00
2040  0839  5D          	ld	e,l
2041  083A  01 00 00    	ld	bc,_col
2042  083D  09          	add	hl,bc
2043  083E  46          	ld	b,(hl)
2044  083F  16 00       	ld	d,0x00
2045  0841  21 00 00    	ld	hl,_lin
2046  0844  19          	add	hl,de
2047  0845  7E          	ld	a,(hl)
2048  0846  C6 18       	add	a,0x18
2049  0848  4F          	ld	c,a
2050  0849  C5          	push	bc
2051  084A  CD 00 00    	call	_game_freeze
2052  084D  F1          	pop	af
2053  084E  2A 00 00    	ld	hl,(_sprite)
2054  0851  26 00       	ld	h,0x00
2055  0853  5D          	ld	e,l
2056  0854  01 00 00    	ld	bc,_col
2057  0857  09          	add	hl,bc
2058  0858  46          	ld	b,(hl)
2059  0859  16 00       	ld	d,0x00
2060  085B  21 00 00    	ld	hl,_lin
2061  085E  19          	add	hl,de
2062  085F  7E          	ld	a,(hl)
2063  0860  C6 08       	add	a,0x08
2064  0862  4F          	ld	c,a
2065  0863  C5          	push	bc
2066  0864  AF          	xor	a, a
2067  0865  F5          	push	af
2068  0866  33          	inc	sp
2069  0867  CD 00 00    	call	_NIRVANAP_fillT_callee
2070  086A  2A 00 00    	ld	hl,(_sprite)
2071  086D  CD 00 00    	call	_spr_destroy
2072  0870  C3 47 09    	jp	l_enemy_slipice_00126
2073  0873              l_enemy_slipice_00122:
2074  0873  CB 47       	bit	0, a
2075  0875  C2 1C 09    	jp	NZ,l_enemy_slipice_00110
2076  0878  CB 4F       	bit	1, a
2077  087A  C2 1C 09    	jp	NZ,l_enemy_slipice_00110
2078  087D  2A 00 00    	ld	hl,(_sprite)
2079  0880  26 00       	ld	h,0x00
2080  0882  01 00 00    	ld	bc,_col
2081  0885  09          	add	hl,bc
2082  0886  7E          	ld	a,(hl)
2083  0887  4F          	ld	c,a
2084  0888  D6 07       	sub	a,0x07
2085  088A  28 0A       	jr	Z,l_enemy_slipice_00116
2086  088C  79          	ld	a,c
2087  088D  FE 0F       	cp	a,0x0f
2088  088F  28 05       	jr	Z,l_enemy_slipice_00116
2089  0891  D6 18       	sub	a,0x18
2090  0893  C2 1C 09    	jp	NZ,l_enemy_slipice_00110
2091  0896              l_enemy_slipice_00116:
2092  0896  79          	ld	a,c
2093  0897  D6 88       	sub	a,0x88
2094  0899  D2 1C 09    	jp	NC,l_enemy_slipice_00110
2095  089C  CD 00 00    	call	_rand
2096  089F  22 00 00    	ld	(_tmp_ui),hl
2097  08A2  2A 00 00    	ld	hl,(_sprite)
2098  08A5  26 00       	ld	h,0x00
2099  08A7  01 00 00    	ld	bc,_col
2100  08AA  09          	add	hl,bc
2101  08AB  56          	ld	d, (hl)
2102  08AC  2A 00 00    	ld	hl,(_sprite)
2103  08AF  26 00       	ld	h,0x00
2104  08B1  01 00 00    	ld	bc,_lin
2105  08B4  09          	add	hl,bc
2106  08B5  7E          	ld	a,(hl)
2107  08B6  C6 10       	add	a,0x10
2108  08B8  5F          	ld	e, a
2109  08B9  D5          	push	de
2110  08BA  CD 00 00    	call	_game_calc_index
2111  08BD  F1          	pop	af
2112  08BE  22 00 00    	ld	(_index1),hl
2113  08C1  01 00 00    	ld	bc,_lvl_1
2114  08C4  09          	add	hl,bc
2115  08C5  7E          	ld	a,(hl)
2116  08C6  D6 12       	sub	a,0x12
2117  08C8  20 4D       	jr	NZ,l_enemy_slipice_00106
2118  08CA  21 00 00    	ld	hl,_tmp_ui
2119  08CD  7E          	ld	a,(hl)
2120  08CE  D6 32       	sub	a,0x32
2121  08D0  23          	inc	hl
2122  08D1  7E          	ld	a,(hl)
2123  08D2  DE 33       	sbc	a,0x33
2124  08D4  30 41       	jr	NC,l_enemy_slipice_00106
2125  08D6  21 00 00    	ld	hl,_ay_effect_16
2126  08D9  CD 00 00    	call	_ay_fx_play
2127  08DC  21 00 00    	ld	hl,_s_state
2128  08DF  CB F6       	set	6, (hl)
2129  08E1  01 00 00    	ld	bc,_spr_timer+0
2130  08E4  2A 00 00    	ld	hl,(_sprite)
2131  08E7  26 00       	ld	h,0x00
2132  08E9  29          	add	hl, hl
2133  08EA  09          	add	hl,bc
2134  08EB  ED 5B 00 00 	ld	de,(_curr_time)
2135  08EF  73          	ld	(hl),e
2136  08F0  23          	inc	hl
2137  08F1  72          	ld	(hl),d
2138  08F2  2A 00 00    	ld	hl,(_sprite)
2139  08F5  26 00       	ld	h,0x00
2140  08F7  01 00 00    	ld	bc,_lin
2141  08FA  09          	add	hl,bc
2142  08FB  7E          	ld	a,(hl)
2143  08FC  C6 F8       	add	a,0xf8
2144  08FE  77          	ld	(hl),a
2145  08FF  2A 00 00    	ld	hl,(_sprite)
2146  0902  26 00       	ld	h,0x00
2147  0904  01 00 00    	ld	bc,_colint
2148  0907  09          	add	hl,bc
2149  0908  AF          	xor	a,a
2150  0909  77          	ld	(hl),a
2151  090A  2A 00 00    	ld	hl,(_sprite)
2152  090D  26 00       	ld	h,0x00
2153  090F  01 00 00    	ld	bc,_tile
2154  0912  09          	add	hl,bc
2155  0913  36 7B       	ld	(hl),0x7b
2156  0915  18 08       	jr	l_enemy_slipice_00111
2157  0917              l_enemy_slipice_00106:
2158  0917  CD FA 0D    	call	_enemy_walk
2159  091A  18 03       	jr	l_enemy_slipice_00111
2160  091C              l_enemy_slipice_00110:
2161  091C  CD FA 0D    	call	_enemy_walk
2162  091F              l_enemy_slipice_00111:
2163  091F  2A 00 00    	ld	hl,(_sprite)
2164  0922  26 00       	ld	h,0x00
2165  0924  01 00 00    	ld	bc,_lin
2166  0927  09          	add	hl,bc
2167  0928  7E          	ld	a,(hl)
2168  0929  D6 98       	sub	a,0x98
2169  092B  20 1A       	jr	NZ,l_enemy_slipice_00126
2170  092D  2A 00 00    	ld	hl,(_sprite)
2171  0930  26 00       	ld	h,0x00
2172  0932  01 00 00    	ld	bc,_col
2173  0935  09          	add	hl,bc
2174  0936  7E          	ld	a,(hl)
2175  0937  4F          	ld	c,a
2176  0938  D6 03       	sub	a,0x03
2177  093A  28 05       	jr	Z,l_enemy_slipice_00117
2178  093C  79          	ld	a,c
2179  093D  D6 1B       	sub	a,0x1b
2180  093F  20 06       	jr	NZ,l_enemy_slipice_00126
2181  0941              l_enemy_slipice_00117:
2182  0941  2A 00 00    	ld	hl,(_sprite)
2183  0944  CD 00 00    	call	_spr_destroy
2184  0947              l_enemy_slipice_00126:
2185  0947  C9          	ret
2186  0948              	SECTION code_compiler
2187  0948              ;	---------------------------------
2188  0948              ; Function enemy_fireball_red
2189  0948              ; ---------------------------------
2190  0948              _enemy_fireball_red:
2191  0948  3A 00 00    	ld	a,(_phase_left)
2192  094B  B7          	or	a, a
2193  094C  CA 1D 0A    	jp	Z,l_enemy_fireball_red_00119
2194  094F  3A 00 00    	ld	a,(_s_state)
2195  0952  0F          	rrca
2196  0953  30 11       	jr	NC,l_enemy_fireball_red_00106
2197  0955  CD 00 00    	call	_spr_move_up
2198  0958  7D          	ld	a,l
2199  0959  B7          	or	a, a
2200  095A  28 03       	jr	Z,l_enemy_fireball_red_00102
2201  095C  CD 00 00    	call	_spr_set_fall
2202  095F              l_enemy_fireball_red_00102:
2203  095F  21 00 00    	ld	hl,_tmp
2204  0962  36 00       	ld	(hl),0x00
2205  0964  18 15       	jr	l_enemy_fireball_red_00107
2206  0966              l_enemy_fireball_red_00106:
2207  0966  CD 00 00    	call	_spr_move_down
2208  0969  7D          	ld	a,l
2209  096A  B7          	or	a, a
2210  096B  28 09       	jr	Z,l_enemy_fireball_red_00104
2211  096D  21 00 00    	ld	hl,_s_state
2212  0970  7E          	ld	a,(hl)
2213  0971  E6 FD       	and	a,0xfd
2214  0973  F6 01       	or	a,0x01
2215  0975  77          	ld	(hl),a
2216  0976              l_enemy_fireball_red_00104:
2217  0976  21 00 00    	ld	hl,_tmp
2218  0979  36 10       	ld	(hl),0x10
2219  097B              l_enemy_fireball_red_00107:
2220  097B  CD 00 00    	call	_spr_move_horizontal
2221  097E  3A 00 00    	ld	a,(_s_state)
2222  0981  E6 04       	and	a,0x04
2223  0983  28 11       	jr	Z,l_enemy_fireball_red_00109
2224  0985  2A 00 00    	ld	hl,(_sprite)
2225  0988  26 00       	ld	h,0x00
2226  098A  01 00 00    	ld	bc,_col
2227  098D  09          	add	hl,bc
2228  098E  7E          	ld	a,(hl)
2229  098F  C6 02       	add	a,0x02
2230  0991  32 00 00    	ld	(_s_col1),a
2231  0994  18 0F       	jr	l_enemy_fireball_red_00110
2232  0996              l_enemy_fireball_red_00109:
2233  0996  2A 00 00    	ld	hl,(_sprite)
2234  0999  26 00       	ld	h,0x00
2235  099B  01 00 00    	ld	bc,_col
2236  099E  09          	add	hl,bc
2237  099F  7E          	ld	a,(hl)
2238  09A0  C6 FF       	add	a,0xff
2239  09A2  32 00 00    	ld	(_s_col1),a
2240  09A5              l_enemy_fireball_red_00110:
2241  09A5  2A 00 00    	ld	hl,(_sprite)
2242  09A8  26 00       	ld	h,0x00
2243  09AA  01 00 00    	ld	bc,_lin
2244  09AD  09          	add	hl,bc
2245  09AE  4E          	ld	c, (hl)
2246  09AF  3A 00 00    	ld	a, (_s_col1)
2247  09B2  47          	ld	b,a
2248  09B3  C5          	push	bc
2249  09B4  CD 00 00    	call	_game_calc_index
2250  09B7  F1          	pop	af
2251  09B8  22 00 00    	ld	(_index1),hl
2252  09BB  01 00 00    	ld	bc,_lvl_1
2253  09BE  09          	add	hl,bc
2254  09BF  7E          	ld	a,(hl)
2255  09C0  D6 BF       	sub	a,0xbf
2256  09C2  30 14       	jr	NC,l_enemy_fireball_red_00111
2257  09C4  2A 00 00    	ld	hl,(_sprite)
2258  09C7  26 00       	ld	h,0x00
2259  09C9  01 00 00    	ld	bc,_col
2260  09CC  09          	add	hl,bc
2261  09CD  7E          	ld	a,(hl)
2262  09CE  4F          	ld	c,a
2263  09CF  D6 02       	sub	a,0x02
2264  09D1  38 05       	jr	C,l_enemy_fireball_red_00111
2265  09D3  3E 1D       	ld	a,0x1d
2266  09D5  91          	sub	a, c
2267  09D6  30 07       	jr	NC,l_enemy_fireball_red_00112
2268  09D8              l_enemy_fireball_red_00111:
2269  09D8  21 00 00    	ld	hl,_s_state
2270  09DB  7E          	ld	a,(hl)
2271  09DC  EE 0C       	xor	a,+(0x04^0x08)
2272  09DE  77          	ld	(hl),a
2273  09DF              l_enemy_fireball_red_00112:
2274  09DF  01 00 00    	ld	bc,_spr_timer+0
2275  09E2  2A 00 00    	ld	hl,(_sprite)
2276  09E5  26 00       	ld	h,0x00
2277  09E7  29          	add	hl, hl
2278  09E8  09          	add	hl,bc
2279  09E9  5E          	ld	e,(hl)
2280  09EA  23          	inc	hl
2281  09EB  56          	ld	d,(hl)
2282  09EC  C5          	push	bc
2283  09ED  21 DC 05    	ld	hl,0x05dc
2284  09F0  E5          	push	hl
2285  09F1  D5          	push	de
2286  09F2  CD 00 00    	call	_game_check_time
2287  09F5  F1          	pop	af
2288  09F6  F1          	pop	af
2289  09F7  C1          	pop	bc
2290  09F8  7D          	ld	a,l
2291  09F9  B7          	or	a, a
2292  09FA  C8          	ret	Z
2293  09FB  2A 00 00    	ld	hl,(_sprite)
2294  09FE  26 00       	ld	h,0x00
2295  0A00  29          	add	hl, hl
2296  0A01  09          	add	hl,bc
2297  0A02  ED 5B 00 00 	ld	de,(_curr_time)
2298  0A06  73          	ld	(hl),e
2299  0A07  23          	inc	hl
2300  0A08  72          	ld	(hl),d
2301  0A09  2A 00 00    	ld	hl,(_sprite)
2302  0A0C  26 00       	ld	h,0x00
2303  0A0E  01 00 00    	ld	bc,_sprite_speed_alt
2304  0A11  09          	add	hl,bc
2305  0A12  36 08       	ld	(hl),0x08
2306  0A14  21 00 00    	ld	hl,_s_state
2307  0A17  7E          	ld	a,(hl)
2308  0A18  F6 20       	or	a,0x20
2309  0A1A  E6 FC       	and	a,+(0xfe&0xfd)
2310  0A1C  77          	ld	(hl),a
2311  0A1D              l_enemy_fireball_red_00119:
2312  0A1D  C9          	ret
2313  0A1E              	SECTION code_compiler
2314  0A1E              ;	---------------------------------
2315  0A1E              ; Function enemy_fireball_green
2316  0A1E              ; ---------------------------------
2317  0A1E              _enemy_fireball_green:
2318  0A1E  3A 00 00    	ld	a,(_phase_left)
2319  0A21  B7          	or	a, a
2320  0A22  CA C8 0A    	jp	Z,l_enemy_fireball_green_00113
2321  0A25  2A 00 00    	ld	hl,(_sprite)
2322  0A28  26 00       	ld	h,0x00
2323  0A2A  5D          	ld	e,l
2324  0A2B  01 00 00    	ld	bc,_jump_lin
2325  0A2E  09          	add	hl,bc
2326  0A2F  4E          	ld	c,(hl)
2327  0A30  06 00       	ld	b,0x00
2328  0A32  50          	ld	d,b
2329  0A33  21 00 00    	ld	hl,_lin
2330  0A36  19          	add	hl,de
2331  0A37  5E          	ld	e, (hl)
2332  0A38  16 00       	ld	d,0x00
2333  0A3A  79          	ld	a,c
2334  0A3B  93          	sub	a, e
2335  0A3C  6F          	ld	l,a
2336  0A3D  78          	ld	a,b
2337  0A3E  9A          	sbc	a, d
2338  0A3F  67          	ld	h,a
2339  0A40  CD 00 00    	call	_abs_fastcall
2340  0A43  22 00 00    	ld	(_index1),hl
2341  0A46  3E 08       	ld	a,0x08
2342  0A48  21 00 00    	ld	hl,_index1
2343  0A4B  BE          	cp	a, (hl)
2344  0A4C  3E 00       	ld	a,0x00
2345  0A4E  23          	inc	hl
2346  0A4F  9E          	sbc	a, (hl)
2347  0A50  30 1E       	jr	NC,l_enemy_fireball_green_00102
2348  0A52  21 00 00    	ld	hl,_s_state
2349  0A55  7E          	ld	a,(hl)
2350  0A56  EE 03       	xor	a,+(0x01^0x02)
2351  0A58  77          	ld	(hl),a
2352  0A59  2A 00 00    	ld	hl,(_sprite)
2353  0A5C  26 00       	ld	h,0x00
2354  0A5E  01 00 00    	ld	bc,_jump_lin
2355  0A61  09          	add	hl,bc
2356  0A62  3A 00 00    	ld	a,(_sprite)
2357  0A65  5F          	ld	e,a
2358  0A66  16 00       	ld	d,0x00
2359  0A68  4D          	ld	c,l
2360  0A69  44          	ld	b,h
2361  0A6A  21 00 00    	ld	hl,_lin
2362  0A6D  19          	add	hl,de
2363  0A6E  7E          	ld	a,(hl)
2364  0A6F  02          	ld	(bc),a
2365  0A70              l_enemy_fireball_green_00102:
2366  0A70  3A 00 00    	ld	a,(_s_state)
2367  0A73  0F          	rrca
2368  0A74  30 08       	jr	NC,l_enemy_fireball_green_00104
2369  0A76  CD 00 00    	call	_spr_move_horizontal
2370  0A79  CD 00 00    	call	_spr_move_up
2371  0A7C  18 06       	jr	l_enemy_fireball_green_00105
2372  0A7E              l_enemy_fireball_green_00104:
2373  0A7E  CD 00 00    	call	_spr_move_horizontal
2374  0A81  CD 00 00    	call	_spr_move_down
2375  0A84              l_enemy_fireball_green_00105:
2376  0A84  2A 00 00    	ld	hl,(_sprite)
2377  0A87  26 00       	ld	h,0x00
2378  0A89  01 00 00    	ld	bc,_col
2379  0A8C  09          	add	hl,bc
2380  0A8D  7E          	ld	a,(hl)
2381  0A8E  B7          	or	a, a
2382  0A8F  20 07       	jr	NZ,l_enemy_fireball_green_00110
2383  0A91  3A 00 00    	ld	a,(_s_state)
2384  0A94  E6 08       	and	a,0x08
2385  0A96  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2386  0A98              l_enemy_fireball_green_00110:
2387  0A98  D6 1E       	sub	a,0x1e
2388  0A9A  20 2C       	jr	NZ,l_enemy_fireball_green_00113
2389  0A9C  3A 00 00    	ld	a,(_s_state)
2390  0A9F  E6 04       	and	a,0x04
2391  0AA1  28 25       	jr	Z,l_enemy_fireball_green_00113
2392  0AA3              l_enemy_fireball_green_00106:
2393  0AA3  01 00 00    	ld	bc,_spr_timer+0
2394  0AA6  2A 00 00    	ld	hl,(_sprite)
2395  0AA9  26 00       	ld	h,0x00
2396  0AAB  29          	add	hl, hl
2397  0AAC  09          	add	hl,bc
2398  0AAD  ED 5B 00 00 	ld	de,(_curr_time)
2399  0AB1  73          	ld	(hl),e
2400  0AB2  23          	inc	hl
2401  0AB3  72          	ld	(hl),d
2402  0AB4  2A 00 00    	ld	hl,(_sprite)
2403  0AB7  26 00       	ld	h,0x00
2404  0AB9  01 00 00    	ld	bc,_sprite_speed_alt
2405  0ABC  09          	add	hl,bc
2406  0ABD  36 08       	ld	(hl),0x08
2407  0ABF  21 00 00    	ld	hl,_s_state
2408  0AC2  7E          	ld	a,(hl)
2409  0AC3  F6 20       	or	a,0x20
2410  0AC5  E6 FE       	and	a,0xfe
2411  0AC7  77          	ld	(hl),a
2412  0AC8              l_enemy_fireball_green_00113:
2413  0AC8  C9          	ret
2414  0AC9              	SECTION code_compiler
2415  0AC9              ;	---------------------------------
2416  0AC9              ; Function enemy_fighterfly
2417  0AC9              ; ---------------------------------
2418  0AC9              _enemy_fighterfly:
2419  0AC9  3A 00 00    	ld	a,(_s_state)
2420  0ACC  0F          	rrca
2421  0ACD  38 59       	jr	C,l_enemy_fighterfly_00106
2422  0ACF  3A 00 00    	ld	a,(_s_state)
2423  0AD2  E6 02       	and	a,0x02
2424  0AD4  20 52       	jr	NZ,l_enemy_fighterfly_00106
2425  0AD6  CD 00 00    	call	_ay_is_playing
2426  0AD9  7D          	ld	a, l
2427  0ADA  D6 02       	sub	a,0x02
2428  0ADC  30 06       	jr	NC,l_enemy_fighterfly_00102
2429  0ADE  21 00 00    	ld	hl,_ay_effect_13
2430  0AE1  CD 00 00    	call	_ay_fx_play
2431  0AE4              l_enemy_fighterfly_00102:
2432  0AE4  2A 00 00    	ld	hl,(_sprite)
2433  0AE7  26 00       	ld	h,0x00
2434  0AE9  29          	add	hl, hl
2435  0AEA  11 00 00    	ld	de,_spr_timer
2436  0AED  19          	add	hl,de
2437  0AEE  4E          	ld	c,(hl)
2438  0AEF  23          	inc	hl
2439  0AF0  46          	ld	b,(hl)
2440  0AF1  21 28 00    	ld	hl,0x0028
2441  0AF4  E5          	push	hl
2442  0AF5  C5          	push	bc
2443  0AF6  CD 00 00    	call	_game_check_time
2444  0AF9  F1          	pop	af
2445  0AFA  F1          	pop	af
2446  0AFB  7D          	ld	a,l
2447  0AFC  B7          	or	a, a
2448  0AFD  28 29       	jr	Z,l_enemy_fighterfly_00106
2449  0AFF  21 00 00    	ld	hl,_s_state
2450  0B02  CB C6       	set	0, (hl)
2451  0B04  2A 00 00    	ld	hl,(_sprite)
2452  0B07  26 00       	ld	h,0x00
2453  0B09  01 00 00    	ld	bc,_jump_lin
2454  0B0C  09          	add	hl,bc
2455  0B0D  4D          	ld	c,l
2456  0B0E  44          	ld	b,h
2457  0B0F  2A 00 00    	ld	hl,(_sprite)
2458  0B12  26 00       	ld	h,0x00
2459  0B14  11 00 00    	ld	de,_lin
2460  0B17  19          	add	hl,de
2461  0B18  7E          	ld	a,(hl)
2462  0B19  02          	ld	(bc),a
2463  0B1A  2A 00 00    	ld	hl,(_sprite)
2464  0B1D  26 00       	ld	h,0x00
2465  0B1F  29          	add	hl, hl
2466  0B20  11 00 00    	ld	de,_spr_timer
2467  0B23  19          	add	hl,de
2468  0B24  AF          	xor	a, a
2469  0B25  77          	ld	(hl), a
2470  0B26  23          	inc	hl
2471  0B27  77          	ld	(hl), a
2472  0B28              l_enemy_fighterfly_00106:
2473  0B28  3A 00 00    	ld	a,(_s_state)
2474  0B2B  0F          	rrca
2475  0B2C  30 35       	jr	NC,l_enemy_fighterfly_00123
2476  0B2E  2A 00 00    	ld	hl,(_sprite)
2477  0B31  26 00       	ld	h,0x00
2478  0B33  5D          	ld	e,l
2479  0B34  01 00 00    	ld	bc,_jump_lin
2480  0B37  09          	add	hl,bc
2481  0B38  4E          	ld	c,(hl)
2482  0B39  06 00       	ld	b,0x00
2483  0B3B  50          	ld	d,b
2484  0B3C  21 00 00    	ld	hl,_lin
2485  0B3F  19          	add	hl,de
2486  0B40  5E          	ld	e, (hl)
2487  0B41  16 00       	ld	d,0x00
2488  0B43  79          	ld	a,c
2489  0B44  93          	sub	a, e
2490  0B45  4F          	ld	c,a
2491  0B46  78          	ld	a,b
2492  0B47  9A          	sbc	a, d
2493  0B48  47          	ld	b,a
2494  0B49  79          	ld	a,c
2495  0B4A  D6 08       	sub	a,0x08
2496  0B4C  78          	ld	a,b
2497  0B4D  17          	rla
2498  0B4E  3F          	ccf
2499  0B4F  1F          	rra
2500  0B50  DE 80       	sbc	a,0x80
2501  0B52  38 06       	jr	C,l_enemy_fighterfly_00109
2502  0B54  CD D0 06    	call	_enemy_ugly_fix
2503  0B57  CD 00 00    	call	_spr_set_fall
2504  0B5A              l_enemy_fighterfly_00109:
2505  0B5A  CD 00 00    	call	_spr_move_horizontal
2506  0B5D  CD 00 00    	call	_spr_move_up
2507  0B60  C3 DC 0B    	jp	l_enemy_fighterfly_00124
2508  0B63              l_enemy_fighterfly_00123:
2509  0B63  01 00 00    	ld	bc,_spr_timer+0
2510  0B66  2A 00 00    	ld	hl,(_sprite)
2511  0B69  26 00       	ld	h,0x00
2512  0B6B  29          	add	hl, hl
2513  0B6C  09          	add	hl,bc
2514  0B6D  5E          	ld	e,(hl)
2515  0B6E  4D          	ld	c,l
2516  0B6F  44          	ld	b,h
2517  0B70  23          	inc	hl
2518  0B71  7E          	ld	a, (hl)
2519  0B72  B3          	or	a,e
2520  0B73  20 09       	jr	NZ,l_enemy_fighterfly_00111
2521  0B75  ED 5B 00 00 	ld	de,(_curr_time)
2522  0B79  7B          	ld	a,e
2523  0B7A  02          	ld	(bc),a
2524  0B7B  03          	inc	bc
2525  0B7C  7A          	ld	a,d
2526  0B7D  02          	ld	(bc),a
2527  0B7E              l_enemy_fighterfly_00111:
2528  0B7E  3A 00 00    	ld	a,(_s_state)
2529  0B81  E6 02       	and	a,0x02
2530  0B83  28 57       	jr	Z,l_enemy_fighterfly_00124
2531  0B85  2A 00 00    	ld	hl,(_sprite)
2532  0B88  26 00       	ld	h,0x00
2533  0B8A  01 00 00    	ld	bc,_lin
2534  0B8D  09          	add	hl,bc
2535  0B8E  4E          	ld	c, (hl)
2536  0B8F  3A 00 00    	ld	a,(_sprite)
2537  0B92  5F          	ld	e,a
2538  0B93  16 00       	ld	d,0x00
2539  0B95  21 00 00    	ld	hl,_jump_lin
2540  0B98  19          	add	hl,de
2541  0B99  46          	ld	b, (hl)
2542  0B9A  79          	ld	a,c
2543  0B9B  90          	sub	a, b
2544  0B9C  30 05       	jr	NC,l_enemy_fighterfly_00116
2545  0B9E  CD 00 00    	call	_spr_move_horizontal
2546  0BA1  18 21       	jr	l_enemy_fighterfly_00117
2547  0BA3              l_enemy_fighterfly_00116:
2548  0BA3  2A 00 00    	ld	hl,(_sprite)
2549  0BA6  26 00       	ld	h,0x00
2550  0BA8  01 00 00    	ld	bc,_sprite_speed_alt
2551  0BAB  09          	add	hl,bc
2552  0BAC  36 04       	ld	(hl),0x04
2553  0BAE  2A 00 00    	ld	hl,(_sprite)
2554  0BB1  26 00       	ld	h,0x00
2555  0BB3  01 00 00    	ld	bc,_colint
2556  0BB6  09          	add	hl,bc
2557  0BB7  7E          	ld	a,(hl)
2558  0BB8  B7          	or	a,a
2559  0BB9  4D          	ld	c,l
2560  0BBA  44          	ld	b,h
2561  0BBB  20 05       	jr	NZ,l_enemy_fighterfly_00113
2562  0BBD  3E 02       	ld	a,0x02
2563  0BBF  02          	ld	(bc),a
2564  0BC0  18 02       	jr	l_enemy_fighterfly_00117
2565  0BC2              l_enemy_fighterfly_00113:
2566  0BC2  AF          	xor	a, a
2567  0BC3  02          	ld	(bc),a
2568  0BC4              l_enemy_fighterfly_00117:
2569  0BC4  CD 00 00    	call	_spr_move_down
2570  0BC7  7D          	ld	a,l
2571  0BC8  B7          	or	a, a
2572  0BC9  CA DF 0B    	jp	Z,_enemy_trip
2573  0BCC  2A 00 00    	ld	hl,(_sprite)
2574  0BCF  26 00       	ld	h,0x00
2575  0BD1  01 00 00    	ld	bc,_sprite_speed_alt
2576  0BD4  09          	add	hl,bc
2577  0BD5  AF          	xor	a,a
2578  0BD6  77          	ld	(hl),a
2579  0BD7  21 00 00    	ld	hl,_s_state
2580  0BDA  CB 8E       	res	1, (hl)
2581  0BDC              l_enemy_fighterfly_00124:
2582  0BDC  C3 DF 0B    	jp  _enemy_trip
2583  0BDF              	SECTION code_compiler
2584  0BDF              ;	---------------------------------
2585  0BDF              ; Function enemy_trip
2586  0BDF              ; ---------------------------------
2587  0BDF              _enemy_trip:
2588  0BDF  2A 00 00    	ld	hl,(_sprite)
2589  0BE2  26 00       	ld	h,0x00
2590  0BE4  01 00 00    	ld	bc,_lin
2591  0BE7  09          	add	hl,bc
2592  0BE8  46          	ld	b,(hl)
2593  0BE9  3E 80       	ld	a,0x80
2594  0BEB  90          	sub	a, b
2595  0BEC  D2 EE 0C    	jp	NC,l_enemy_trip_00114
2596  0BEF  21 00 00    	ld	hl,_tmp
2597  0BF2  36 00       	ld	(hl),0x00
2598  0BF4  2A 00 00    	ld	hl,(_sprite)
2599  0BF7  26 00       	ld	h,0x00
2600  0BF9  11 00 00    	ld	de,_col
2601  0BFC  19          	add	hl,de
2602  0BFD  7E          	ld	a,(hl)
2603  0BFE  57          	ld	d,a
2604  0BFF  D6 1B       	sub	a,0x1b
2605  0C01  20 49       	jr	NZ,l_enemy_trip_00104
2606  0C03  21 00 00    	ld	hl,_tmp
2607  0C06  36 01       	ld	(hl),0x01
2608  0C08  15          	dec	d
2609  0C09  58          	ld	e,b
2610  0C0A  D5          	push	de
2611  0C0B  AF          	xor	a, a
2612  0C0C  F5          	push	af
2613  0C0D  33          	inc	sp
2614  0C0E  CD 00 00    	call	_NIRVANAP_fillT_callee
2615  0C11  2A 00 00    	ld	hl,(_sprite)
2616  0C14  26 00       	ld	h,0x00
2617  0C16  01 00 00    	ld	bc,_lin
2618  0C19  09          	add	hl,bc
2619  0C1A  36 10       	ld	(hl),0x10
2620  0C1C  2A 00 00    	ld	hl,(_sprite)
2621  0C1F  26 00       	ld	h,0x00
2622  0C21  01 00 00    	ld	bc,_jump_lin
2623  0C24  09          	add	hl,bc
2624  0C25  36 20       	ld	(hl),0x20
2625  0C27  2A 00 00    	ld	hl,(_sprite)
2626  0C2A  26 00       	ld	h,0x00
2627  0C2C  01 00 00    	ld	bc,_col
2628  0C2F  09          	add	hl,bc
2629  0C30  36 1A       	ld	(hl),0x1a
2630  0C32  21 00 00    	ld	hl,_s_state
2631  0C35  7E          	ld	a,(hl)
2632  0C36  F6 08       	or	a,0x08
2633  0C38  E6 FA       	and	a,+(0xfb&0xfe)
2634  0C3A  77          	ld	(hl),a
2635  0C3B  CD 00 00    	call	_sound_enter_enemy
2636  0C3E  CD 00 00    	call	_ay_is_playing
2637  0C41  7D          	ld	a, l
2638  0C42  D6 02       	sub	a,0x02
2639  0C44  30 06       	jr	NC,l_enemy_trip_00104
2640  0C46  21 00 00    	ld	hl,_ay_effect_04
2641  0C49  CD 00 00    	call	_ay_fx_play
2642  0C4C              l_enemy_trip_00104:
2643  0C4C  2A 00 00    	ld	hl,(_sprite)
2644  0C4F  26 00       	ld	h,0x00
2645  0C51  01 00 00    	ld	bc,_col
2646  0C54  09          	add	hl,bc
2647  0C55  7E          	ld	a,(hl)
2648  0C56  47          	ld	b,a
2649  0C57  D6 03       	sub	a,0x03
2650  0C59  20 52       	jr	NZ,l_enemy_trip_00108
2651  0C5B  21 00 00    	ld	hl,_tmp
2652  0C5E  36 01       	ld	(hl),0x01
2653  0C60  04          	inc	b
2654  0C61  2A 00 00    	ld	hl,(_sprite)
2655  0C64  26 00       	ld	h,0x00
2656  0C66  11 00 00    	ld	de,_lin
2657  0C69  19          	add	hl,de
2658  0C6A  4E          	ld	c, (hl)
2659  0C6B  C5          	push	bc
2660  0C6C  AF          	xor	a, a
2661  0C6D  F5          	push	af
2662  0C6E  33          	inc	sp
2663  0C6F  CD 00 00    	call	_NIRVANAP_fillT_callee
2664  0C72  2A 00 00    	ld	hl,(_sprite)
2665  0C75  26 00       	ld	h,0x00
2666  0C77  01 00 00    	ld	bc,_lin
2667  0C7A  09          	add	hl,bc
2668  0C7B  36 10       	ld	(hl),0x10
2669  0C7D  2A 00 00    	ld	hl,(_sprite)
2670  0C80  26 00       	ld	h,0x00
2671  0C82  01 00 00    	ld	bc,_jump_lin
2672  0C85  09          	add	hl,bc
2673  0C86  36 20       	ld	(hl),0x20
2674  0C88  2A 00 00    	ld	hl,(_sprite)
2675  0C8B  26 00       	ld	h,0x00
2676  0C8D  01 00 00    	ld	bc,_col
2677  0C90  09          	add	hl,bc
2678  0C91  36 04       	ld	(hl),0x04
2679  0C93  21 00 00    	ld	hl,_s_state
2680  0C96  7E          	ld	a,(hl)
2681  0C97  F6 04       	or	a,0x04
2682  0C99  E6 F6       	and	a,+(0xf7&0xfe)
2683  0C9B  77          	ld	(hl),a
2684  0C9C  CD 00 00    	call	_sound_enter_enemy
2685  0C9F  CD 00 00    	call	_ay_is_playing
2686  0CA2  7D          	ld	a, l
2687  0CA3  D6 02       	sub	a,0x02
2688  0CA5  30 06       	jr	NC,l_enemy_trip_00108
2689  0CA7  21 00 00    	ld	hl,_ay_effect_04
2690  0CAA  CD 00 00    	call	_ay_fx_play
2691  0CAD              l_enemy_trip_00108:
2692  0CAD  3A 00 00    	ld	a,(_tmp)
2693  0CB0  B7          	or	a, a
2694  0CB1  C8          	ret	Z
2695  0CB2  2A 00 00    	ld	hl,(_sprite)
2696  0CB5  26 00       	ld	h,0x00
2697  0CB7  01 00 00    	ld	bc,_class
2698  0CBA  09          	add	hl,bc
2699  0CBB  4E          	ld	c,(hl)
2700  0CBC  3E 03       	ld	a,0x03
2701  0CBE  91          	sub	a,c
2702  0CBF  D8          	ret	C
2703  0CC0  2A 00 00    	ld	hl,(_sprite)
2704  0CC3  26 00       	ld	h,0x00
2705  0CC5  01 00 00    	ld	bc,_colint
2706  0CC8  09          	add	hl,bc
2707  0CC9  AF          	xor	a,a
2708  0CCA  77          	ld	(hl),a
2709  0CCB  2A 00 00    	ld	hl,(_sprite)
2710  0CCE  26 00       	ld	h,0x00
2711  0CD0  01 00 00    	ld	bc,_state
2712  0CD3  09          	add	hl,bc
2713  0CD4  3A 00 00    	ld	a,(_s_state)
2714  0CD7  77          	ld	(hl),a
2715  0CD8  2A 00 00    	ld	hl,(_sprite)
2716  0CDB  26 00       	ld	h,0x00
2717  0CDD  01 00 00    	ld	bc,_tile
2718  0CE0  09          	add	hl,bc
2719  0CE1  E5          	push	hl
2720  0CE2  2A 00 00    	ld	hl,(_sprite)
2721  0CE5  CD 00 00    	call	_spr_tile
2722  0CE8  C1          	pop	bc
2723  0CE9  7D          	ld	a, l
2724  0CEA  02          	ld	(bc),a
2725  0CEB  CD 00 00    	call	_spr_set_fall
2726  0CEE              l_enemy_trip_00114:
2727  0CEE  C9          	ret
2728  0CEF              	SECTION code_compiler
2729  0CEF              ;	---------------------------------
2730  0CEF              ; Function enemy_standard_hit
2731  0CEF              ; ---------------------------------
2732  0CEF              _enemy_standard_hit:
2733  0CEF  2A 00 00    	ld	hl,(_game_time_flipped)
2734  0CF2  01 CE FF    	ld	bc,0xffce
2735  0CF5  09          	add	hl,bc
2736  0CF6  4D          	ld	c,l
2737  0CF7  44          	ld	b,h
2738  0CF8  2A 00 00    	ld	hl,(_sprite)
2739  0CFB  26 00       	ld	h,0x00
2740  0CFD  29          	add	hl, hl
2741  0CFE  11 00 00    	ld	de,_spr_timer
2742  0D01  19          	add	hl,de
2743  0D02  5E          	ld	e,(hl)
2744  0D03  23          	inc	hl
2745  0D04  56          	ld	d,(hl)
2746  0D05  C5          	push	bc
2747  0D06  D5          	push	de
2748  0D07  CD 00 00    	call	_game_check_time
2749  0D0A  F1          	pop	af
2750  0D0B  F1          	pop	af
2751  0D0C  7D          	ld	a,l
2752  0D0D  B7          	or	a, a
2753  0D0E  28 23       	jr	Z,l_enemy_standard_hit_00104
2754  0D10  2A 00 00    	ld	hl,(_sprite)
2755  0D13  26 00       	ld	h,0x00
2756  0D15  01 00 00    	ld	bc,_state
2757  0D18  09          	add	hl,bc
2758  0D19  7E          	ld	a,(hl)
2759  0D1A  07          	rlca
2760  0D1B  38 16       	jr	C,l_enemy_standard_hit_00104
2761  0D1D  3A 00 00    	ld	a,(_sprite)
2762  0D20  F5          	push	af
2763  0D21  33          	inc	sp
2764  0D22  CD 6D 0D    	call	_enemy_evolve
2765  0D25  33          	inc	sp
2766  0D26  2A 00 00    	ld	hl,(_sprite)
2767  0D29  26 00       	ld	h,0x00
2768  0D2B  01 00 00    	ld	bc,_state
2769  0D2E  09          	add	hl,bc
2770  0D2F  7E          	ld	a,(hl)
2771  0D30  F6 80       	or	a,0x80
2772  0D32  77          	ld	(hl),a
2773  0D33              l_enemy_standard_hit_00104:
2774  0D33  2A 00 00    	ld	hl,(_sprite)
2775  0D36  26 00       	ld	h,0x00
2776  0D38  29          	add	hl, hl
2777  0D39  11 00 00    	ld	de,_spr_timer
2778  0D3C  19          	add	hl,de
2779  0D3D  4E          	ld	c,(hl)
2780  0D3E  23          	inc	hl
2781  0D3F  46          	ld	b,(hl)
2782  0D40  2A 00 00    	ld	hl,(_game_time_flipped)
2783  0D43  E5          	push	hl
2784  0D44  C5          	push	bc
2785  0D45  CD 00 00    	call	_game_check_time
2786  0D48  F1          	pop	af
2787  0D49  F1          	pop	af
2788  0D4A  7D          	ld	a,l
2789  0D4B  B7          	or	a, a
2790  0D4C  C8          	ret	Z
2791  0D4D  3A 00 00    	ld	a,(_sprite)
2792  0D50  32 00 00    	ld	(_enemies),a
2793  0D53  2A 00 00    	ld	hl,(_sprite)
2794  0D56  CD 00 00    	call	_spr_tile
2795  0D59  CD 60 04    	call	_enemy_flip
2796  0D5C  2A 00 00    	ld	hl,(_sprite)
2797  0D5F  26 00       	ld	h,0x00
2798  0D61  01 00 00    	ld	bc,_state
2799  0D64  09          	add	hl,bc
2800  0D65  7E          	ld	a,(hl)
2801  0D66  32 00 00    	ld	(_s_state),a
2802  0D69  E6 7F       	and	a,0x7f
2803  0D6B  77          	ld	(hl),a
2804  0D6C  C9          	ret
2805  0D6D              	SECTION code_compiler
2806  0D6D              ;	---------------------------------
2807  0D6D              ; Function enemy_evolve
2808  0D6D              ; ---------------------------------
2809  0D6D              _enemy_evolve:
2810  0D6D  CD 00 00    	call	___sdcc_enter_ix
2811  0D70  3E 00       	ld	a,+((_class) & 0xFF)
2812  0D72  DD 86 04    	add	a,(ix+4)
2813  0D75  4F          	ld	c,a
2814  0D76  3E 00       	ld	a,+((_class) / 256)
2815  0D78  CE 00       	adc	a,0x00
2816  0D7A  47          	ld	b,a
2817  0D7B  0A          	ld	a,(bc)
2818  0D7C  4F          	ld	c,a
2819  0D7D  3D          	dec	a
2820  0D7E  28 0F       	jr	Z,l_enemy_evolve_00101
2821  0D80  79          	ld	a,c
2822  0D81  FE 02       	cp	a,0x02
2823  0D83  28 1B       	jr	Z,l_enemy_evolve_00102
2824  0D85  FE 04       	cp	a,0x04
2825  0D87  28 28       	jr	Z,l_enemy_evolve_00103
2826  0D89  D6 05       	sub	a,0x05
2827  0D8B  28 35       	jr	Z,l_enemy_evolve_00104
2828  0D8D  18 42       	jr	l_enemy_evolve_00106
2829  0D8F              l_enemy_evolve_00101:
2830  0D8F  21 3C 00    	ld	hl,0x003c
2831  0D92  E5          	push	hl
2832  0D93  26 02       	ld	h,0x02
2833  0D95  DD 6E 04    	ld	l,(ix+4)
2834  0D98  E5          	push	hl
2835  0D99  CD D4 0D    	call	_enemy_upgrade
2836  0D9C  F1          	pop	af
2837  0D9D  F1          	pop	af
2838  0D9E  18 31       	jr	l_enemy_evolve_00106
2839  0DA0              l_enemy_evolve_00102:
2840  0DA0  21 48 00    	ld	hl,0x0048
2841  0DA3  E5          	push	hl
2842  0DA4  26 03       	ld	h,0x03
2843  0DA6  DD 6E 04    	ld	l,(ix+4)
2844  0DA9  E5          	push	hl
2845  0DAA  CD D4 0D    	call	_enemy_upgrade
2846  0DAD  F1          	pop	af
2847  0DAE  F1          	pop	af
2848  0DAF  18 20       	jr	l_enemy_evolve_00106
2849  0DB1              l_enemy_evolve_00103:
2850  0DB1  21 60 00    	ld	hl,0x0060
2851  0DB4  E5          	push	hl
2852  0DB5  26 05       	ld	h,0x05
2853  0DB7  DD 6E 04    	ld	l,(ix+4)
2854  0DBA  E5          	push	hl
2855  0DBB  CD D4 0D    	call	_enemy_upgrade
2856  0DBE  F1          	pop	af
2857  0DBF  F1          	pop	af
2858  0DC0  18 0F       	jr	l_enemy_evolve_00106
2859  0DC2              l_enemy_evolve_00104:
2860  0DC2  21 6C 00    	ld	hl,0x006c
2861  0DC5  E5          	push	hl
2862  0DC6  26 06       	ld	h,0x06
2863  0DC8  DD 6E 04    	ld	l,(ix+4)
2864  0DCB  E5          	push	hl
2865  0DCC  CD D4 0D    	call	_enemy_upgrade
2866  0DCF  F1          	pop	af
2867  0DD0  F1          	pop	af
2868  0DD1              l_enemy_evolve_00106:
2869  0DD1  DD E1       	pop	ix
2870  0DD3  C9          	ret
2871  0DD4              	SECTION code_compiler
2872  0DD4              ;	---------------------------------
2873  0DD4              ; Function enemy_upgrade
2874  0DD4              ; ---------------------------------
2875  0DD4              _enemy_upgrade:
2876  0DD4  CD 00 00    	call	___sdcc_enter_ix
2877  0DD7  3E 00       	ld	a,+((_tile) & 0xFF)
2878  0DD9  DD 86 04    	add	a,(ix+4)
2879  0DDC  4F          	ld	c,a
2880  0DDD  3E 00       	ld	a,+((_tile) / 256)
2881  0DDF  CE 00       	adc	a,0x00
2882  0DE1  47          	ld	b,a
2883  0DE2  DD 7E 06    	ld	a,(ix+6)
2884  0DE5  C6 06       	add	a,0x06
2885  0DE7  02          	ld	(bc),a
2886  0DE8  3E 00       	ld	a,+((_class) & 0xFF)
2887  0DEA  DD 86 04    	add	a,(ix+4)
2888  0DED  4F          	ld	c,a
2889  0DEE  3E 00       	ld	a,+((_class) / 256)
2890  0DF0  CE 00       	adc	a,0x00
2891  0DF2  47          	ld	b,a
2892  0DF3  DD 7E 05    	ld	a,(ix+5)
2893  0DF6  02          	ld	(bc),a
2894  0DF7  DD E1       	pop	ix
2895  0DF9  C9          	ret
2896  0DFA              	SECTION code_compiler
2897  0DFA              ;	---------------------------------
2898  0DFA              ; Function enemy_walk
2899  0DFA              ; ---------------------------------
2900  0DFA              _enemy_walk:
2901  0DFA  3A 00 00    	ld	a,(_s_state)
2902  0DFD  0F          	rrca
2903  0DFE  38 45       	jr	C,l_enemy_walk_00106
2904  0E00  3A 00 00    	ld	a,(_s_state)
2905  0E03  E6 02       	and	a,0x02
2906  0E05  20 3E       	jr	NZ,l_enemy_walk_00106
2907  0E07  2A 00 00    	ld	hl,(_sprite)
2908  0E0A  26 00       	ld	h,0x00
2909  0E0C  01 00 00    	ld	bc,_col
2910  0E0F  09          	add	hl,bc
2911  0E10  7E          	ld	a,(hl)
2912  0E11  57          	ld	d,a
2913  0E12  CB 47       	bit	0,a
2914  0E14  28 14       	jr	Z,l_enemy_walk_00102
2915  0E16  3A 00 00    	ld	a,(_s_state)
2916  0E19  E6 10       	and	a,0x10
2917  0E1B  20 0D       	jr	NZ,l_enemy_walk_00102
2918  0E1D  21 00 00    	ld	hl,0x0000
2919  0E20  22 00 00    	ld	(_index_d),hl
2920  0E23  21 00 00    	ld	hl,_tmp
2921  0E26  36 00       	ld	(hl),0x00
2922  0E28  18 3E       	jr	l_enemy_walk_00107
2923  0E2A              l_enemy_walk_00102:
2924  0E2A  2A 00 00    	ld	hl,(_sprite)
2925  0E2D  26 00       	ld	h,0x00
2926  0E2F  01 00 00    	ld	bc,_lin
2927  0E32  09          	add	hl,bc
2928  0E33  7E          	ld	a,(hl)
2929  0E34  C6 10       	add	a,0x10
2930  0E36  5F          	ld	e, a
2931  0E37  D5          	push	de
2932  0E38  CD 00 00    	call	_game_calc_index
2933  0E3B  F1          	pop	af
2934  0E3C  CD 00 00    	call	_game_check_maze
2935  0E3F  7D          	ld	a,l
2936  0E40  32 00 00    	ld	(_tmp),a
2937  0E43  18 23       	jr	l_enemy_walk_00107
2938  0E45              l_enemy_walk_00106:
2939  0E45  2A 00 00    	ld	hl,(_sprite)
2940  0E48  26 00       	ld	h,0x00
2941  0E4A  01 00 00    	ld	bc,_col
2942  0E4D  09          	add	hl,bc
2943  0E4E  56          	ld	d, (hl)
2944  0E4F  2A 00 00    	ld	hl,(_sprite)
2945  0E52  26 00       	ld	h,0x00
2946  0E54  01 00 00    	ld	bc,_lin
2947  0E57  09          	add	hl,bc
2948  0E58  7E          	ld	a,(hl)
2949  0E59  C6 10       	add	a,0x10
2950  0E5B  5F          	ld	e, a
2951  0E5C  D5          	push	de
2952  0E5D  CD 00 00    	call	_game_calc_index
2953  0E60  F1          	pop	af
2954  0E61  CD 00 00    	call	_game_check_maze
2955  0E64  7D          	ld	a,l
2956  0E65  32 00 00    	ld	(_tmp),a
2957  0E68              l_enemy_walk_00107:
2958  0E68  3A 00 00    	ld	a,(_tmp)
2959  0E6B  B7          	or	a, a
2960  0E6C  CA 48 0F    	jp	Z,l_enemy_walk_00132
2961  0E6F  3A 00 00    	ld	a,(_s_state)
2962  0E72  0F          	rrca
2963  0E73  38 05       	jr	C,l_enemy_walk_00110
2964  0E75  21 00 00    	ld	hl,_s_state
2965  0E78  CB CE       	set	1, (hl)
2966  0E7A              l_enemy_walk_00110:
2967  0E7A  2A 00 00    	ld	hl,(_sprite)
2968  0E7D  26 00       	ld	h,0x00
2969  0E7F  01 00 00    	ld	bc,_jump_lin
2970  0E82  09          	add	hl,bc
2971  0E83  7E          	ld	a,(hl)
2972  0E84  B7          	or	a,a
2973  0E85  20 0E       	jr	NZ,l_enemy_walk_00112
2974  0E87  3A 00 00    	ld	a,(_sprite)
2975  0E8A  5F          	ld	e,a
2976  0E8B  16 00       	ld	d,0x00
2977  0E8D  4D          	ld	c,l
2978  0E8E  44          	ld	b,h
2979  0E8F  21 00 00    	ld	hl,_lin
2980  0E92  19          	add	hl,de
2981  0E93  7E          	ld	a,(hl)
2982  0E94  02          	ld	(bc),a
2983  0E95              l_enemy_walk_00112:
2984  0E95  3A 00 00    	ld	a,(_s_state)
2985  0E98  E6 02       	and	a,0x02
2986  0E9A  28 05       	jr	Z,l_enemy_walk_00114
2987  0E9C  CD 00 00    	call	_spr_move_down
2988  0E9F  18 03       	jr	l_enemy_walk_00115
2989  0EA1              l_enemy_walk_00114:
2990  0EA1  CD 00 00    	call	_spr_move_up
2991  0EA4              l_enemy_walk_00115:
2992  0EA4  2A 00 00    	ld	hl,(_sprite)
2993  0EA7  26 00       	ld	h,0x00
2994  0EA9  01 00 00    	ld	bc,_sprite_speed_alt
2995  0EAC  09          	add	hl,bc
2996  0EAD  36 01       	ld	(hl),0x01
2997  0EAF  21 00 00    	ld	hl,_tmp
2998  0EB2  36 01       	ld	(hl),0x01
2999  0EB4  2A 00 00    	ld	hl,(_sprite)
3000  0EB7  26 00       	ld	h,0x00
3001  0EB9  01 00 00    	ld	bc,_col
3002  0EBC  09          	add	hl,bc
3003  0EBD  46          	ld	b, (hl)
3004  0EBE  04          	inc	b
3005  0EBF  3A 00 00    	ld	a,(_sprite)
3006  0EC2  5F          	ld	e,a
3007  0EC3  16 00       	ld	d,0x00
3008  0EC5  21 00 00    	ld	hl,_lin
3009  0EC8  19          	add	hl,de
3010  0EC9  7E          	ld	a,(hl)
3011  0ECA  C6 10       	add	a,0x10
3012  0ECC  4F          	ld	c,a
3013  0ECD  C5          	push	bc
3014  0ECE  CD 00 00    	call	_game_calc_index
3015  0ED1  F1          	pop	af
3016  0ED2  CD 00 00    	call	_game_check_maze
3017  0ED5  7D          	ld	a,l
3018  0ED6  32 00 00    	ld	(_tmp0),a
3019  0ED9  2A 00 00    	ld	hl,(_sprite)
3020  0EDC  26 00       	ld	h,0x00
3021  0EDE  01 00 00    	ld	bc,_col
3022  0EE1  09          	add	hl,bc
3023  0EE2  46          	ld	b, (hl)
3024  0EE3  05          	dec	b
3025  0EE4  3A 00 00    	ld	a,(_sprite)
3026  0EE7  5F          	ld	e,a
3027  0EE8  16 00       	ld	d,0x00
3028  0EEA  21 00 00    	ld	hl,_lin
3029  0EED  19          	add	hl,de
3030  0EEE  7E          	ld	a,(hl)
3031  0EEF  C6 10       	add	a,0x10
3032  0EF1  4F          	ld	c,a
3033  0EF2  C5          	push	bc
3034  0EF3  CD 00 00    	call	_game_calc_index
3035  0EF6  F1          	pop	af
3036  0EF7  CD 00 00    	call	_game_check_maze
3037  0EFA  7D          	ld	a,l
3038  0EFB  32 00 00    	ld	(_tmp1),a
3039  0EFE  3A 00 00    	ld	a,(_tmp0)
3040  0F01  B7          	or	a, a
3041  0F02  20 06       	jr	NZ,l_enemy_walk_00136
3042  0F04  3A 00 00    	ld	a,(_tmp1)
3043  0F07  B7          	or	a, a
3044  0F08  28 04       	jr	Z,l_enemy_walk_00137
3045  0F0A              l_enemy_walk_00136:
3046  0F0A  0E 00       	ld	c,0x00
3047  0F0C  18 02       	jr	l_enemy_walk_00138
3048  0F0E              l_enemy_walk_00137:
3049  0F0E  0E 01       	ld	c,0x01
3050  0F10              l_enemy_walk_00138:
3051  0F10  21 00 00    	ld	hl,_tmp
3052  0F13  71          	ld	(hl),c
3053  0F14  79          	ld	a,c
3054  0F15  B7          	or	a, a
3055  0F16  CA 00 10    	jp	Z,l_enemy_walk_00134
3056  0F19  2A 00 00    	ld	hl,(_sprite)
3057  0F1C  26 00       	ld	h,0x00
3058  0F1E  5D          	ld	e,l
3059  0F1F  01 00 00    	ld	bc,_lin
3060  0F22  09          	add	hl,bc
3061  0F23  4E          	ld	c,(hl)
3062  0F24  06 00       	ld	b,0x00
3063  0F26  50          	ld	d,b
3064  0F27  21 00 00    	ld	hl,_jump_lin
3065  0F2A  19          	add	hl,de
3066  0F2B  5E          	ld	e, (hl)
3067  0F2C  16 00       	ld	d,0x00
3068  0F2E  79          	ld	a,c
3069  0F2F  93          	sub	a, e
3070  0F30  4F          	ld	c,a
3071  0F31  78          	ld	a,b
3072  0F32  9A          	sbc	a, d
3073  0F33  47          	ld	b,a
3074  0F34  3E 08       	ld	a,0x08
3075  0F36  B9          	cp	a, c
3076  0F37  3E 00       	ld	a,0x00
3077  0F39  98          	sbc	a, b
3078  0F3A  E2 3F 0F    	jp	PO, l_enemy_walk_00217
3079  0F3D  EE 80       	xor	a,0x80
3080  0F3F              l_enemy_walk_00217:
3081  0F3F  FA 00 10    	jp	M,l_enemy_walk_00134
3082  0F42  CD 00 00    	call	_spr_move_horizontal
3083  0F45  C3 00 10    	jp	l_enemy_walk_00134
3084  0F48              l_enemy_walk_00132:
3085  0F48  3A 00 00    	ld	a,(_s_state)
3086  0F4B  E6 02       	and	a,0x02
3087  0F4D  28 1B       	jr	Z,l_enemy_walk_00120
3088  0F4F  21 00 00    	ld	hl,_s_state
3089  0F52  CB 8E       	res	1, (hl)
3090  0F54  2A 00 00    	ld	hl,(_sprite)
3091  0F57  26 00       	ld	h,0x00
3092  0F59  01 00 00    	ld	bc,_jump_lin
3093  0F5C  09          	add	hl,bc
3094  0F5D  AF          	xor	a,a
3095  0F5E  77          	ld	(hl),a
3096  0F5F  2A 00 00    	ld	hl,(_sprite)
3097  0F62  26 00       	ld	h,0x00
3098  0F64  01 00 00    	ld	bc,_sprite_speed_alt
3099  0F67  09          	add	hl,bc
3100  0F68  AF          	xor	a,a
3101  0F69  77          	ld	(hl),a
3102  0F6A              l_enemy_walk_00120:
3103  0F6A  3A 00 00    	ld	a,(_s_state)
3104  0F6D  E6 10       	and	a,0x10
3105  0F6F  20 3E       	jr	NZ,l_enemy_walk_00124
3106  0F71  2A 00 00    	ld	hl,(_sprite)
3107  0F74  26 00       	ld	h,0x00
3108  0F76  01 00 00    	ld	bc,_state_a
3109  0F79  09          	add	hl,bc
3110  0F7A  CB 4E       	bit	1,(hl)
3111  0F7C  20 31       	jr	NZ,l_enemy_walk_00124
3112  0F7E  01 00 00    	ld	bc,_spr_timer_c+0
3113  0F81  2A 00 00    	ld	hl,(_sprite)
3114  0F84  26 00       	ld	h,0x00
3115  0F86  29          	add	hl, hl
3116  0F87  09          	add	hl,bc
3117  0F88  5E          	ld	e,(hl)
3118  0F89  23          	inc	hl
3119  0F8A  56          	ld	d,(hl)
3120  0F8B  C5          	push	bc
3121  0F8C  21 0A 00    	ld	hl,0x000a
3122  0F8F  E5          	push	hl
3123  0F90  D5          	push	de
3124  0F91  CD 00 00    	call	_game_check_time
3125  0F94  F1          	pop	af
3126  0F95  F1          	pop	af
3127  0F96  C1          	pop	bc
3128  0F97  7D          	ld	a,l
3129  0F98  B7          	or	a, a
3130  0F99  28 11       	jr	Z,l_enemy_walk_00122
3131  0F9B  2A 00 00    	ld	hl,(_sprite)
3132  0F9E  26 00       	ld	h,0x00
3133  0FA0  29          	add	hl, hl
3134  0FA1  09          	add	hl,bc
3135  0FA2  ED 5B 00 00 	ld	de,(_curr_time)
3136  0FA6  73          	ld	(hl),e
3137  0FA7  23          	inc	hl
3138  0FA8  72          	ld	(hl),d
3139  0FA9  CD 50 00    	call	_enemy_collision
3140  0FAC              l_enemy_walk_00122:
3141  0FAC  CD 00 00    	call	_spr_move_horizontal
3142  0FAF              l_enemy_walk_00124:
3143  0FAF  2A 00 00    	ld	hl,(_sprite)
3144  0FB2  26 00       	ld	h,0x00
3145  0FB4  01 00 00    	ld	bc,_state_a
3146  0FB7  09          	add	hl,bc
3147  0FB8  CB 4E       	bit	1,(hl)
3148  0FBA  28 44       	jr	Z,l_enemy_walk_00134
3149  0FBC  01 00 00    	ld	bc,_spr_timer+0
3150  0FBF  2A 00 00    	ld	hl,(_sprite)
3151  0FC2  26 00       	ld	h,0x00
3152  0FC4  29          	add	hl, hl
3153  0FC5  09          	add	hl,bc
3154  0FC6  ED 5B 00 00 	ld	de,(_curr_time)
3155  0FCA  73          	ld	(hl),e
3156  0FCB  23          	inc	hl
3157  0FCC  72          	ld	(hl),d
3158  0FCD  2A 00 00    	ld	hl,(_sprite)
3159  0FD0  26 00       	ld	h,0x00
3160  0FD2  01 00 00    	ld	bc,_colint
3161  0FD5  09          	add	hl,bc
3162  0FD6  7E          	ld	a,(hl)
3163  0FD7  5F          	ld	e,a
3164  0FD8  D6 02       	sub	a,0x02
3165  0FDA  30 04       	jr	NC,l_enemy_walk_00127
3166  0FDC  1C          	inc	e
3167  0FDD  73          	ld	(hl), e
3168  0FDE  18 20       	jr	l_enemy_walk_00134
3169  0FE0              l_enemy_walk_00127:
3170  0FE0  2A 00 00    	ld	hl,(_sprite)
3171  0FE3  26 00       	ld	h,0x00
3172  0FE5  01 00 00    	ld	bc,_state_a
3173  0FE8  09          	add	hl,bc
3174  0FE9  7E          	ld	a,(hl)
3175  0FEA  E6 FD       	and	a,0xfd
3176  0FEC  77          	ld	(hl),a
3177  0FED  2A 00 00    	ld	hl,(_sprite)
3178  0FF0  26 00       	ld	h,0x00
3179  0FF2  01 00 00    	ld	bc,_tile
3180  0FF5  09          	add	hl,bc
3181  0FF6  E5          	push	hl
3182  0FF7  2A 00 00    	ld	hl,(_sprite)
3183  0FFA  CD 00 00    	call	_spr_tile
3184  0FFD  C1          	pop	bc
3185  0FFE  7D          	ld	a, l
3186  0FFF  02          	ld	(bc),a
3187  1000              l_enemy_walk_00134:
3188  1000  C9          	ret
3189  1001              	SECTION code_compiler
3190  1001              ;	---------------------------------
3191  1001              ; Function enemy_init
3192  1001              ; ---------------------------------
3193  1001              _enemy_init:
3194  1001  CD 00 00    	call	___sdcc_enter_ix
3195  1004  21 00 00    	ld	hl,_spr_count
3196  1007  34          	inc	(hl)
3197  1008  3E 00       	ld	a,+((_class) & 0xFF)
3198  100A  DD 86 04    	add	a,(ix+4)
3199  100D  4F          	ld	c,a
3200  100E  3E 00       	ld	a,+((_class) / 256)
3201  1010  CE 00       	adc	a,0x00
3202  1012  47          	ld	b,a
3203  1013  DD 7E 07    	ld	a,(ix+7)
3204  1016  02          	ld	(bc),a
3205  1017  3E 00       	ld	a,+((_lin) & 0xFF)
3206  1019  DD 86 04    	add	a,(ix+4)
3207  101C  4F          	ld	c,a
3208  101D  3E 00       	ld	a,+((_lin) / 256)
3209  101F  CE 00       	adc	a,0x00
3210  1021  47          	ld	b,a
3211  1022  DD 7E 05    	ld	a,(ix+5)
3212  1025  02          	ld	(bc),a
3213  1026  3E 00       	ld	a,+((_col) & 0xFF)
3214  1028  DD 86 04    	add	a,(ix+4)
3215  102B  4F          	ld	c,a
3216  102C  3E 00       	ld	a,+((_col) / 256)
3217  102E  CE 00       	adc	a,0x00
3218  1030  47          	ld	b,a
3219  1031  DD 7E 06    	ld	a,(ix+6)
3220  1034  02          	ld	(bc),a
3221  1035  21 00 00    	ld	hl,_tmp
3222  1038  36 00       	ld	(hl),0x00
3223  103A  3E 00       	ld	a,+((_state) & 0xFF)
3224  103C  DD 86 04    	add	a,(ix+4)
3225  103F  4F          	ld	c,a
3226  1040  3E 00       	ld	a,+((_state) / 256)
3227  1042  CE 00       	adc	a,0x00
3228  1044  47          	ld	b,a
3229  1045  AF          	xor	a, a
3230  1046  02          	ld	(bc),a
3231  1047  3E 00       	ld	a,+((_state_a) & 0xFF)
3232  1049  DD 86 04    	add	a,(ix+4)
3233  104C  5F          	ld	e,a
3234  104D  3E 00       	ld	a,+((_state_a) / 256)
3235  104F  CE 00       	adc	a,0x00
3236  1051  57          	ld	d,a
3237  1052  AF          	xor	a, a
3238  1053  12          	ld	(de),a
3239  1054  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3240  1056  DD 86 04    	add	a,(ix+4)
3241  1059  5F          	ld	e,a
3242  105A  3E 00       	ld	a,+((_jump_lin) / 256)
3243  105C  CE 00       	adc	a,0x00
3244  105E  57          	ld	d,a
3245  105F  AF          	xor	a, a
3246  1060  12          	ld	(de),a
3247  1061  DD 7E 08    	ld	a,(ix+8)
3248  1064  3D          	dec	a
3249  1065  20 04       	jr	NZ,l_enemy_init_00102
3250  1067  0A          	ld	a,(bc)
3251  1068  F6 04       	or	a,0x04
3252  106A  02          	ld	(bc),a
3253  106B              l_enemy_init_00102:
3254  106B  DD 7E 08    	ld	a,(ix+8)
3255  106E  3C          	inc	a
3256  106F  20 04       	jr	NZ,l_enemy_init_00104
3257  1071  0A          	ld	a,(bc)
3258  1072  F6 08       	or	a,0x08
3259  1074  02          	ld	(bc),a
3260  1075              l_enemy_init_00104:
3261  1075  3E 00       	ld	a,+((_colint) & 0xFF)
3262  1077  DD 86 04    	add	a,(ix+4)
3263  107A  4F          	ld	c,a
3264  107B  3E 00       	ld	a,+((_colint) / 256)
3265  107D  CE 00       	adc	a,0x00
3266  107F  47          	ld	b,a
3267  1080  AF          	xor	a, a
3268  1081  02          	ld	(bc),a
3269  1082  3E 00       	ld	a,+((_tile) & 0xFF)
3270  1084  DD 86 04    	add	a,(ix+4)
3271  1087  4F          	ld	c,a
3272  1088  3E 00       	ld	a,+((_tile) / 256)
3273  108A  CE 00       	adc	a,0x00
3274  108C  47          	ld	b,a
3275  108D  C5          	push	bc
3276  108E  DD 6E 04    	ld	l,(ix+4)
3277  1091  CD 00 00    	call	_spr_tile
3278  1094  C1          	pop	bc
3279  1095  7D          	ld	a, l
3280  1096  02          	ld	(bc),a
3281  1097  DD 6E 04    	ld	l,(ix+4)
3282  109A  26 00       	ld	h,0x00
3283  109C  29          	add	hl,hl
3284  109D  4D          	ld	c,l
3285  109E  44          	ld	b,h
3286  109F  21 00 00    	ld	hl,_last_time
3287  10A2  09          	add	hl,bc
3288  10A3  AF          	xor	a, a
3289  10A4  77          	ld	(hl), a
3290  10A5  23          	inc	hl
3291  10A6  77          	ld	(hl), a
3292  10A7  21 00 00    	ld	hl,_spr_timer
3293  10AA  09          	add	hl,bc
3294  10AB  ED 5B 00 00 	ld	de,(_curr_time)
3295  10AF  73          	ld	(hl),e
3296  10B0  23          	inc	hl
3297  10B1  72          	ld	(hl),d
3298  10B2  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3299  10B4  DD 86 04    	add	a,(ix+4)
3300  10B7  4F          	ld	c,a
3301  10B8  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3302  10BA  CE 00       	adc	a,0x00
3303  10BC  47          	ld	b,a
3304  10BD  AF          	xor	a, a
3305  10BE  02          	ld	(bc),a
3306  10BF  DD E1       	pop	ix
3307  10C1  C9          	ret
3308  10C2              	SECTION code_compiler
3309  10C2              ;	---------------------------------
3310  10C2              ; Function enemy_kill
3311  10C2              ; ---------------------------------
3312  10C2              _enemy_kill:
3313  10C2  CD 00 00    	call	___sdcc_enter_ix
3314  10C5  F5          	push	af
3315  10C6  F5          	push	af
3316  10C7  DD 75 FC    	ld	(ix-4),l
3317  10CA  76          	halt
3318  10CB  CD 00 00    	call	_sound_kill
3319  10CE  2A 00 00    	ld	hl,(_sprite)
3320  10D1  26 00       	ld	h,0x00
3321  10D3  01 00 00    	ld	bc,_state
3322  10D6  09          	add	hl,bc
3323  10D7  5E          	ld	e, (hl)
3324  10D8  3E 00       	ld	a,+((_state) & 0xFF)
3325  10DA  DD 86 FC    	add	a,(ix-4)
3326  10DD  4F          	ld	c,a
3327  10DE  3E 00       	ld	a,+((_state) / 256)
3328  10E0  CE 00       	adc	a,0x00
3329  10E2  47          	ld	b,a
3330  10E3  0A          	ld	a,(bc)
3331  10E4  CB 5B       	bit	3, e
3332  10E6  28 07       	jr	Z,l_enemy_kill_00102
3333  10E8  F6 08       	or	a,0x08
3334  10EA  E6 FB       	and	a,0xfb
3335  10EC  02          	ld	(bc),a
3336  10ED  18 05       	jr	l_enemy_kill_00103
3337  10EF              l_enemy_kill_00102:
3338  10EF  F6 04       	or	a,0x04
3339  10F1  E6 F7       	and	a,0xf7
3340  10F3  02          	ld	(bc),a
3341  10F4              l_enemy_kill_00103:
3342  10F4  3E 00       	ld	a,+((_class) & 0xFF)
3343  10F6  DD 86 FC    	add	a,(ix-4)
3344  10F9  5F          	ld	e,a
3345  10FA  3E 00       	ld	a,+((_class) / 256)
3346  10FC  CE 00       	adc	a,0x00
3347  10FE  57          	ld	d,a
3348  10FF  1A          	ld	a,(de)
3349  1100  D6 09       	sub	a,0x09
3350  1102  20 03       	jr	NZ,l_enemy_kill_00105
3351  1104  3E 01       	ld	a,0x01
3352  1106  12          	ld	(de),a
3353  1107              l_enemy_kill_00105:
3354  1107  0A          	ld	a,(bc)
3355  1108  F6 20       	or	a,0x20
3356  110A  02          	ld	(bc),a
3357  110B  1A          	ld	a,(de)
3358  110C  DD 77 FF    	ld	(ix-1),a
3359  110F  0A          	ld	a,(bc)
3360  1110  6F          	ld	l,a
3361  1111  3E 06       	ld	a,0x06
3362  1113  DD 96 FF    	sub	a,(ix-1)
3363  1116  38 06       	jr	C,l_enemy_kill_00107
3364  1118  7D          	ld	a,l
3365  1119  F6 01       	or	a,0x01
3366  111B  02          	ld	(bc),a
3367  111C  18 04       	jr	l_enemy_kill_00108
3368  111E              l_enemy_kill_00107:
3369  111E  7D          	ld	a,l
3370  111F  E6 FE       	and	a,0xfe
3371  1121  02          	ld	(bc),a
3372  1122              l_enemy_kill_00108:
3373  1122  01 00 00    	ld	bc,_sprite_speed_alt+0
3374  1125  DD 6E FC    	ld	l,(ix-4)
3375  1128  26 00       	ld	h,0x00
3376  112A  09          	add	hl,bc
3377  112B  36 08       	ld	(hl),0x08
3378  112D  3A 00 00    	ld	a,(_hit_count)
3379  1130  3C          	inc	a
3380  1131  01 50 00    	ld	bc,0x0050
3381  1134  18 04       	jr	l_enemy_kill_00180
3382  1136              l_enemy_kill_00179:
3383  1136  CB 21       	sla	c
3384  1138  CB 10       	rl	b
3385  113A              l_enemy_kill_00180:
3386  113A  3D          	dec	a
3387  113B  20 F9       	jr	NZ,l_enemy_kill_00179
3388  113D  D5          	push	de
3389  113E  69          	ld	l, c
3390  113F  60          	ld	h, b
3391  1140  CD 00 00    	call	_player_score_add
3392  1143  D1          	pop	de
3393  1144  21 00 00    	ld	hl,_hit_count
3394  1147  34          	inc	(hl)
3395  1148  01 00 00    	ld	bc,_spr_timer+0
3396  114B  DD 6E FC    	ld	l,(ix-4)
3397  114E  26 00       	ld	h,0x00
3398  1150  29          	add	hl, hl
3399  1151  09          	add	hl,bc
3400  1152  DD 75 FD    	ld	(ix-3),l
3401  1155  DD 74 FE    	ld	(ix-2),h
3402  1158  2A 00 00    	ld	hl,(_curr_time)
3403  115B  4D          	ld	c,l
3404  115C  DD 6E FD    	ld	l,(ix-3)
3405  115F  44          	ld	b,h
3406  1160  DD 66 FE    	ld	h,(ix-2)
3407  1163  71          	ld	(hl),c
3408  1164  23          	inc	hl
3409  1165  70          	ld	(hl),b
3410  1166  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3411  1168  DD 86 FC    	add	a,(ix-4)
3412  116B  4F          	ld	c,a
3413  116C  3E 00       	ld	a,+((_jump_lin) / 256)
3414  116E  CE 00       	adc	a,0x00
3415  1170  47          	ld	b,a
3416  1171  3E 00       	ld	a,+((_lin) & 0xFF)
3417  1173  DD 86 FC    	add	a,(ix-4)
3418  1176  6F          	ld	l,a
3419  1177  3E 00       	ld	a,+((_lin) / 256)
3420  1179  CE 00       	adc	a,0x00
3421  117B  67          	ld	h,a
3422  117C  7E          	ld	a,(hl)
3423  117D  02          	ld	(bc),a
3424  117E  1A          	ld	a,(de)
3425  117F  4F          	ld	c,a
3426  1180  3E 06       	ld	a,0x06
3427  1182  91          	sub	a, c
3428  1183  38 6D       	jr	C,l_enemy_kill_00117
3429  1185  3A 00 00    	ld	a,(_game_type)
3430  1188  D6 02       	sub	a,0x02
3431  118A  28 66       	jr	Z,l_enemy_kill_00117
3432  118C  21 00 00    	ld	hl,_phase_left
3433  118F  7E          	ld	a,(hl)
3434  1190  3D          	dec	a
3435  1191  77          	ld	(hl),a
3436  1192  3D          	dec	a
3437  1193  20 59       	jr	NZ,l_enemy_kill_00115
3438  1195  21 00 00    	ld	hl,_phase_angry
3439  1198  36 01       	ld	(hl),0x01
3440  119A  21 00 00    	ld	hl,_tmp0
3441  119D  36 00       	ld	(hl),0x00
3442  119F              l_enemy_kill_00124:
3443  119F  2A 00 00    	ld	hl,(_tmp0)
3444  11A2  26 00       	ld	h,0x00
3445  11A4  01 00 00    	ld	bc,_class
3446  11A7  09          	add	hl,bc
3447  11A8  7E          	ld	a,(hl)
3448  11A9  4F          	ld	c,a
3449  11AA  B7          	or	a,a
3450  11AB  28 37       	jr	Z,l_enemy_kill_00125
3451  11AD  3E 09       	ld	a,0x09
3452  11AF  91          	sub	a,c
3453  11B0  38 32       	jr	C,l_enemy_kill_00125
3454  11B2  2A 00 00    	ld	hl,(_tmp0)
3455  11B5  26 00       	ld	h,0x00
3456  11B7  01 00 00    	ld	bc,_state
3457  11BA  09          	add	hl,bc
3458  11BB  CB 6E       	bit	5,(hl)
3459  11BD  20 25       	jr	NZ,l_enemy_kill_00125
3460  11BF  3A 00 00    	ld	a,(_tmp0)
3461  11C2  F5          	push	af
3462  11C3  33          	inc	sp
3463  11C4  CD 6D 0D    	call	_enemy_evolve
3464  11C7  33          	inc	sp
3465  11C8  3A 00 00    	ld	a,(_tmp0)
3466  11CB  F5          	push	af
3467  11CC  33          	inc	sp
3468  11CD  CD 6D 0D    	call	_enemy_evolve
3469  11D0  33          	inc	sp
3470  11D1  2A 00 00    	ld	hl,(_tmp0)
3471  11D4  26 00       	ld	h,0x00
3472  11D6  01 00 00    	ld	bc,_tile
3473  11D9  09          	add	hl,bc
3474  11DA  E5          	push	hl
3475  11DB  2A 00 00    	ld	hl,(_tmp0)
3476  11DE  CD 00 00    	call	_spr_tile
3477  11E1  C1          	pop	bc
3478  11E2  7D          	ld	a, l
3479  11E3  02          	ld	(bc),a
3480  11E4              l_enemy_kill_00125:
3481  11E4  21 00 00    	ld	hl,_tmp0
3482  11E7  7E          	ld	a,(hl)
3483  11E8  3C          	inc	a
3484  11E9  77          	ld	(hl),a
3485  11EA  D6 06       	sub	a,0x06
3486  11EC  38 B1       	jr	C,l_enemy_kill_00124
3487  11EE              l_enemy_kill_00115:
3488  11EE  21 00 00    	ld	hl,_phase_coins
3489  11F1  34          	inc	(hl)
3490  11F2              l_enemy_kill_00117:
3491  11F2  3A 00 00    	ld	a,(_phase_left)
3492  11F5  B7          	or	a, a
3493  11F6  28 08       	jr	Z,l_enemy_kill_00122
3494  11F8  21 00 00    	ld	hl,_ay_effect_11
3495  11FB  CD 00 00    	call	_ay_fx_play
3496  11FE  18 0F       	jr	l_enemy_kill_00126
3497  1200              l_enemy_kill_00122:
3498  1200  CD 00 00    	call	_ay_reset
3499  1203  3A 00 00    	ld	a,(_game_bonus)
3500  1206  B7          	or	a, a
3501  1207  20 06       	jr	NZ,l_enemy_kill_00126
3502  1209  21 00 00    	ld	hl,_ay_effect_17
3503  120C  CD 00 00    	call	_ay_fx_play
3504  120F              l_enemy_kill_00126:
3505  120F  DD F9       	ld	sp, ix
3506  1211  DD E1       	pop	ix
3507  1213  C9          	ret
3508  1214              	SECTION IGNORE
3509  0000              
