1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _enemy_coin2
181   0000              	GLOBAL _enemy_coin1
182   0000              	GLOBAL _enemy_collition
183   0000              	GLOBAL _enemy_collition_check
184   0000              	GLOBAL _enemy_hit
185   0000              	GLOBAL _enemy_flip_change_dir
186   0000              	GLOBAL _enemy_flip
187   0000              	GLOBAL _enemy_flip_sidestepper
188   0000              	GLOBAL _enemy_turn
189   0000              	GLOBAL _enemy_standard
190   0000              	GLOBAL _enemy_slipice
191   0000              	GLOBAL _enemy_fireball_red
192   0000              	GLOBAL _enemy_fireball_green
193   0000              	GLOBAL _enemy_fighterfly
194   0000              	GLOBAL _enemy_trip
195   0000              	GLOBAL _enemy_standard_hit
196   0000              	GLOBAL _enemy_evolve
197   0000              	GLOBAL _enemy_upgrade
198   0000              	GLOBAL _enemy_walk
199   0000              	GLOBAL _enemy_init
200   0000              	GLOBAL _enemy_kill
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _zx_pattern_fill_callee
246   0000              	GLOBAL _zx_pattern_fill
247   0000              	GLOBAL _zx_saddrpup_fastcall
248   0000              	GLOBAL _zx_saddrpup
249   0000              	GLOBAL _zx_saddrpright_callee
250   0000              	GLOBAL _zx_saddrpright
251   0000              	GLOBAL _zx_saddrpleft_callee
252   0000              	GLOBAL _zx_saddrpleft
253   0000              	GLOBAL _zx_saddrpdown_fastcall
254   0000              	GLOBAL _zx_saddrpdown
255   0000              	GLOBAL _zx_saddrcup_fastcall
256   0000              	GLOBAL _zx_saddrcup
257   0000              	GLOBAL _zx_saddrcright_fastcall
258   0000              	GLOBAL _zx_saddrcright
259   0000              	GLOBAL _zx_saddrcleft_fastcall
260   0000              	GLOBAL _zx_saddrcleft
261   0000              	GLOBAL _zx_saddrcdown_fastcall
262   0000              	GLOBAL _zx_saddrcdown
263   0000              	GLOBAL _zx_saddr2py_fastcall
264   0000              	GLOBAL _zx_saddr2py
265   0000              	GLOBAL _zx_saddr2px_fastcall
266   0000              	GLOBAL _zx_saddr2px
267   0000              	GLOBAL _zx_saddr2cy_fastcall
268   0000              	GLOBAL _zx_saddr2cy
269   0000              	GLOBAL _zx_saddr2cx_fastcall
270   0000              	GLOBAL _zx_saddr2cx
271   0000              	GLOBAL _zx_saddr2aaddr_fastcall
272   0000              	GLOBAL _zx_saddr2aaddr
273   0000              	GLOBAL _zx_py2saddr_fastcall
274   0000              	GLOBAL _zx_py2saddr
275   0000              	GLOBAL _zx_py2aaddr_fastcall
276   0000              	GLOBAL _zx_py2aaddr
277   0000              	GLOBAL _zx_pxy2saddr_callee
278   0000              	GLOBAL _zx_pxy2saddr
279   0000              	GLOBAL _zx_pxy2aaddr_callee
280   0000              	GLOBAL _zx_pxy2aaddr
281   0000              	GLOBAL _zx_px2bitmask_fastcall
282   0000              	GLOBAL _zx_px2bitmask
283   0000              	GLOBAL _zx_cyx2saddr_callee
284   0000              	GLOBAL _zx_cyx2saddr
285   0000              	GLOBAL _zx_cyx2aaddr_callee
286   0000              	GLOBAL _zx_cyx2aaddr
287   0000              	GLOBAL _zx_cy2saddr_fastcall
288   0000              	GLOBAL _zx_cy2saddr
289   0000              	GLOBAL _zx_cy2aaddr_fastcall
290   0000              	GLOBAL _zx_cy2aaddr
291   0000              	GLOBAL _zx_bitmask2px_fastcall
292   0000              	GLOBAL _zx_bitmask2px
293   0000              	GLOBAL _zx_aaddrcup_fastcall
294   0000              	GLOBAL _zx_aaddrcup
295   0000              	GLOBAL _zx_aaddrcright_fastcall
296   0000              	GLOBAL _zx_aaddrcright
297   0000              	GLOBAL _zx_aaddrcleft_fastcall
298   0000              	GLOBAL _zx_aaddrcleft
299   0000              	GLOBAL _zx_aaddrcdown_fastcall
300   0000              	GLOBAL _zx_aaddrcdown
301   0000              	GLOBAL _zx_aaddr2saddr_fastcall
302   0000              	GLOBAL _zx_aaddr2saddr
303   0000              	GLOBAL _zx_aaddr2py_fastcall
304   0000              	GLOBAL _zx_aaddr2py
305   0000              	GLOBAL _zx_aaddr2px_fastcall
306   0000              	GLOBAL _zx_aaddr2px
307   0000              	GLOBAL _zx_aaddr2cy_fastcall
308   0000              	GLOBAL _zx_aaddr2cy
309   0000              	GLOBAL _zx_aaddr2cx_fastcall
310   0000              	GLOBAL _zx_aaddr2cx
311   0000              	GLOBAL _zx_scroll_wc_up_callee
312   0000              	GLOBAL _zx_scroll_wc_up
313   0000              	GLOBAL _zx_scroll_up_callee
314   0000              	GLOBAL _zx_scroll_up
315   0000              	GLOBAL _zx_cls_wc_callee
316   0000              	GLOBAL _zx_cls_wc
317   0000              	GLOBAL _zx_cls_fastcall
318   0000              	GLOBAL _zx_cls
319   0000              	GLOBAL _zx_border_fastcall
320   0000              	GLOBAL _zx_border
321   0000              	GLOBAL _sound_hit_pow
322   0000              	GLOBAL _sound_hit_brick
323   0000              	GLOBAL _sound_hit_enemy
324   0000              	GLOBAL _sound_kill
325   0000              	GLOBAL _sound_enter_enemy
326   0000              	GLOBAL _sound_coin
327   0000              	GLOBAL _sound_jump
328   0000              	GLOBAL _sound_slide
329   0000              	GLOBAL _spr_draw_clear
330   0000              	GLOBAL _spr_water_splash_draw
331   0000              	GLOBAL _spr_water_splash_clear
332   0000              	GLOBAL _spr_draw_back
333   0000              	GLOBAL _spr_cortina_pipes
334   0000              	GLOBAL _spr_cortina_brick
335   0000              	GLOBAL _spr_brick_anim
336   0000              	GLOBAL _spr_back_fix4
337   0000              	GLOBAL _spr_back_fix3
338   0000              	GLOBAL _spr_back_fix2
339   0000              	GLOBAL _spr_back_fix1
340   0000              	GLOBAL _spr_back_fix
341   0000              	GLOBAL _spr_back_clr
342   0000              	GLOBAL _spr_draw_pow
343   0000              	GLOBAL _spr_tile
344   0000              	GLOBAL _spr_set_fall
345   0000              	GLOBAL _spr_destroy
346   0000              	GLOBAL _spr_check_over
347   0000              	GLOBAL _spr_tile_dir
348   0000              	GLOBAL _spr_anim_kill
349   0000              	GLOBAL _spr_anim_fall
350   0000              	GLOBAL _spr_killed
351   0000              	GLOBAL _spr_redraw
352   0000              	GLOBAL _spr_move_left
353   0000              	GLOBAL _spr_move_right
354   0000              	GLOBAL _spr_move_horizontal
355   0000              	GLOBAL _spr_move_down
356   0000              	GLOBAL _spr_move_up
357   0000              	GLOBAL _spr_chktime
358   0000              	GLOBAL _player_move_horizontal
359   0000              	GLOBAL _player_push_check
360   0000              	GLOBAL _player_push
361   0000              	GLOBAL _player_hit_brick_clear
362   0000              	GLOBAL _player_lost_life
363   0000              	GLOBAL _player_score_add
364   0000              	GLOBAL _player_coin
365   0000              	GLOBAL _player_hit_pow
366   0000              	GLOBAL _player_hit_brick
367   0000              	GLOBAL _player_hit_slipice
368   0000              	GLOBAL _player_move_input
369   0000              	GLOBAL _player_turn
370   0000              	GLOBAL _player_move
371   0000              	GLOBAL _player_restart
372   0000              	GLOBAL _player_kill
373   0000              	GLOBAL _player_collition_check
374   0000              	GLOBAL _player_collition
375   0000              	GLOBAL _player_init
376   0000              	GLOBAL _game_hall_print_p
377   0000              	GLOBAL _game_hall_edit_p
378   0000              	GLOBAL _game_hall_check
379   0000              	GLOBAL _game_hall_enter_phs
380   0000              	GLOBAL _game_print_header
381   0000              	GLOBAL _game_end
382   0000              	GLOBAL _game_hall_enter
383   0000              	GLOBAL _game_hall_of_fame
384   0000              	GLOBAL _game_score_osd
385   0000              	GLOBAL _game_phase_print_score_back
386   0000              	GLOBAL _game_bonus_clock
387   0000              	GLOBAL _game_bonus_summary_player
388   0000              	GLOBAL _game_bonus_summary
389   0000              	GLOBAL _game_check_time
390   0000              	GLOBAL _game_menu_config
391   0000              	GLOBAL _game_menu
392   0000              	GLOBAL _game_rotate_attrib
393   0000              	GLOBAL _game_colour_message
394   0000              	GLOBAL _game_paint_attrib_lin_h
395   0000              	GLOBAL _game_paint_attrib_lin
396   0000              	GLOBAL _game_paint_attrib
397   0000              	GLOBAL _game_menu_handle
398   0000              	GLOBAL _game_menu_e
399   0000              	GLOBAL _game_menu_back
400   0000              	GLOBAL _game_print_score
401   0000              	GLOBAL _game_unfreeze_all
402   0000              	GLOBAL _game_freeze_all
403   0000              	GLOBAL _game_freeze
404   0000              	GLOBAL _game_enemy_add_get_index
405   0000              	GLOBAL _game_enemy_add1
406   0000              	GLOBAL _game_enemy_quota
407   0000              	GLOBAL _game_enemy_rnd
408   0000              	GLOBAL _game_enemy_add
409   0000              	GLOBAL _game_check_maze
410   0000              	GLOBAL _game_kill_all_sprites
411   0000              	GLOBAL _game_loop
412   0000              	GLOBAL _player_set2
413   0000              	GLOBAL _player_set1
414   0000              	GLOBAL _game_phase_print
415   0000              	GLOBAL _game_phase_init
416   0000              	GLOBAL _game_phase_calc
417   0000              	GLOBAL _game_start_timer
418   0000              	GLOBAL _game_tick
419   0000              	GLOBAL _game_print_lives
420   0000              	GLOBAL _game_print_footer
421   0000              	GLOBAL _game_calc_index
422   0000              	GLOBAL _game_fill_row
423   0000              	GLOBAL _ay_fx_play
424   0000              	GLOBAL _ay_midi_play
425   0000              	GLOBAL _ay_is_playing
426   0000              	GLOBAL _ay_reset
427   0000              	GLOBAL _in_mouse_kempston_wheel_delta
428   0000              	GLOBAL _in_mouse_kempston_wheel
429   0000              	GLOBAL _in_mouse_kempston_callee
430   0000              	GLOBAL _in_mouse_kempston
431   0000              	GLOBAL _in_mouse_kempston_setpos_callee
432   0000              	GLOBAL _in_mouse_kempston_setpos
433   0000              	GLOBAL _in_mouse_kempston_reset
434   0000              	GLOBAL _in_mouse_kempston_init
435   0000              	GLOBAL _in_mouse_amx_wheel_delta
436   0000              	GLOBAL _in_mouse_amx_wheel
437   0000              	GLOBAL _in_mouse_amx_callee
438   0000              	GLOBAL _in_mouse_amx
439   0000              	GLOBAL _in_mouse_amx_setpos_callee
440   0000              	GLOBAL _in_mouse_amx_setpos
441   0000              	GLOBAL _in_mouse_amx_reset
442   0000              	GLOBAL _in_mouse_amx_init_callee
443   0000              	GLOBAL _in_mouse_amx_init
444   0000              	GLOBAL _in_stick_sinclair2
445   0000              	GLOBAL _in_stick_sinclair1
446   0000              	GLOBAL _in_stick_kempston
447   0000              	GLOBAL _in_stick_fuller
448   0000              	GLOBAL _in_stick_cursor
449   0000              	GLOBAL _in_stick_keyboard_fastcall
450   0000              	GLOBAL _in_stick_keyboard
451   0000              	GLOBAL _in_wait_nokey
452   0000              	GLOBAL _in_wait_key
453   0000              	GLOBAL _in_test_key
454   0000              	GLOBAL _in_pause_fastcall
455   0000              	GLOBAL _in_pause
456   0000              	GLOBAL _in_key_scancode_fastcall
457   0000              	GLOBAL _in_key_scancode
458   0000              	GLOBAL _in_key_pressed_fastcall
459   0000              	GLOBAL _in_key_pressed
460   0000              	GLOBAL _in_inkey
461   0000              	GLOBAL _NIRVANAP_chars_fastcall
462   0000              	GLOBAL _NIRVANAP_chars
463   0000              	GLOBAL _NIRVANAP_wides_fastcall
464   0000              	GLOBAL _NIRVANAP_wides
465   0000              	GLOBAL _NIRVANAP_tiles_fastcall
466   0000              	GLOBAL _NIRVANAP_tiles
467   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
468   0000              	GLOBAL _NIRVANAP_drawW_raw
469   0000              	GLOBAL _NIRVANAP_drawW_callee
470   0000              	GLOBAL _NIRVANAP_drawW
471   0000              	GLOBAL _NIRVANAP_spriteT_callee
472   0000              	GLOBAL _NIRVANAP_spriteT
473   0000              	GLOBAL _NIRVANAP_fillC_callee
474   0000              	GLOBAL _NIRVANAP_fillC
475   0000              	GLOBAL _NIRVANAP_paintC_callee
476   0000              	GLOBAL _NIRVANAP_paintC
477   0000              	GLOBAL _NIRVANAP_printC_callee
478   0000              	GLOBAL _NIRVANAP_printC
479   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
480   0000              	GLOBAL _NIRVANAP_fillT_raw
481   0000              	GLOBAL _NIRVANAP_fillT_callee
482   0000              	GLOBAL _NIRVANAP_fillT
483   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
484   0000              	GLOBAL _NIRVANAP_drawT_raw
485   0000              	GLOBAL _NIRVANAP_drawT_callee
486   0000              	GLOBAL _NIRVANAP_drawT
487   0000              	GLOBAL _NIRVANAP_stop
488   0000              	GLOBAL _NIRVANAP_start
489   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
490   0000              	GLOBAL _intrinsic_swap_word_32
491   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
492   0000              	GLOBAL _intrinsic_swap_endian_32
493   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
494   0000              	GLOBAL _intrinsic_swap_endian_16
495   0000              	GLOBAL _intrinsic_return_de
496   0000              	GLOBAL _intrinsic_return_bc
497   0000              	GLOBAL _intrinsic_exx
498   0000              	GLOBAL _intrinsic_ex_de_hl
499   0000              	GLOBAL _intrinsic_pop_iy
500   0000              	GLOBAL _intrinsic_pop_ix
501   0000              	GLOBAL _intrinsic_pop_hl
502   0000              	GLOBAL _intrinsic_pop_de
503   0000              	GLOBAL _intrinsic_pop_bc
504   0000              	GLOBAL _intrinsic_pop_af
505   0000              	GLOBAL _intrinsic_push_iy
506   0000              	GLOBAL _intrinsic_push_ix
507   0000              	GLOBAL _intrinsic_push_hl
508   0000              	GLOBAL _intrinsic_push_de
509   0000              	GLOBAL _intrinsic_push_bc
510   0000              	GLOBAL _intrinsic_push_af
511   0000              	GLOBAL _intrinsic_nop
512   0000              	GLOBAL _intrinsic_im_2
513   0000              	GLOBAL _intrinsic_im_1
514   0000              	GLOBAL _intrinsic_im_0
515   0000              	GLOBAL _intrinsic_retn
516   0000              	GLOBAL _intrinsic_reti
517   0000              	GLOBAL _intrinsic_halt
518   0000              	GLOBAL _intrinsic_ei
519   0000              	GLOBAL _intrinsic_di
520   0000              	GLOBAL _intrinsic_stub
521   0000              	GLOBAL _ulltoa_callee
522   0000              	GLOBAL _ulltoa
523   0000              	GLOBAL _strtoull_callee
524   0000              	GLOBAL _strtoull
525   0000              	GLOBAL _strtoll_callee
526   0000              	GLOBAL _strtoll
527   0000              	GLOBAL _lltoa_callee
528   0000              	GLOBAL _lltoa
529   0000              	GLOBAL _llabs_callee
530   0000              	GLOBAL _llabs
531   0000              	GLOBAL __lldivu__callee
532   0000              	GLOBAL __lldivu_
533   0000              	GLOBAL __lldiv__callee
534   0000              	GLOBAL __lldiv_
535   0000              	GLOBAL _atoll_callee
536   0000              	GLOBAL _atoll
537   0000              	GLOBAL _realloc_unlocked_callee
538   0000              	GLOBAL _realloc_unlocked
539   0000              	GLOBAL _malloc_unlocked_fastcall
540   0000              	GLOBAL _malloc_unlocked
541   0000              	GLOBAL _free_unlocked_fastcall
542   0000              	GLOBAL _free_unlocked
543   0000              	GLOBAL _calloc_unlocked_callee
544   0000              	GLOBAL _calloc_unlocked
545   0000              	GLOBAL _aligned_alloc_unlocked_callee
546   0000              	GLOBAL _aligned_alloc_unlocked
547   0000              	GLOBAL _realloc_callee
548   0000              	GLOBAL _realloc
549   0000              	GLOBAL _malloc_fastcall
550   0000              	GLOBAL _malloc
551   0000              	GLOBAL _free_fastcall
552   0000              	GLOBAL _free
553   0000              	GLOBAL _calloc_callee
554   0000              	GLOBAL _calloc
555   0000              	GLOBAL _aligned_alloc_callee
556   0000              	GLOBAL _aligned_alloc
557   0000              	GLOBAL _utoa_callee
558   0000              	GLOBAL _utoa
559   0000              	GLOBAL _ultoa_callee
560   0000              	GLOBAL _ultoa
561   0000              	GLOBAL _system_fastcall
562   0000              	GLOBAL _system
563   0000              	GLOBAL _strtoul_callee
564   0000              	GLOBAL _strtoul
565   0000              	GLOBAL _strtol_callee
566   0000              	GLOBAL _strtol
567   0000              	GLOBAL _strtof_callee
568   0000              	GLOBAL _strtof
569   0000              	GLOBAL _strtod_callee
570   0000              	GLOBAL _strtod
571   0000              	GLOBAL _srand_fastcall
572   0000              	GLOBAL _srand
573   0000              	GLOBAL _rand
574   0000              	GLOBAL _quick_exit_fastcall
575   0000              	GLOBAL _quick_exit
576   0000              	GLOBAL _qsort_callee
577   0000              	GLOBAL _qsort
578   0000              	GLOBAL _ltoa_callee
579   0000              	GLOBAL _ltoa
580   0000              	GLOBAL _labs_fastcall
581   0000              	GLOBAL _labs
582   0000              	GLOBAL _itoa_callee
583   0000              	GLOBAL _itoa
584   0000              	GLOBAL _ftoh_callee
585   0000              	GLOBAL _ftoh
586   0000              	GLOBAL _ftog_callee
587   0000              	GLOBAL _ftog
588   0000              	GLOBAL _ftoe_callee
589   0000              	GLOBAL _ftoe
590   0000              	GLOBAL _ftoa_callee
591   0000              	GLOBAL _ftoa
592   0000              	GLOBAL _exit_fastcall
593   0000              	GLOBAL _exit
594   0000              	GLOBAL _dtoh_callee
595   0000              	GLOBAL _dtoh
596   0000              	GLOBAL _dtog_callee
597   0000              	GLOBAL _dtog
598   0000              	GLOBAL _dtoe_callee
599   0000              	GLOBAL _dtoe
600   0000              	GLOBAL _dtoa_callee
601   0000              	GLOBAL _dtoa
602   0000              	GLOBAL _bsearch_callee
603   0000              	GLOBAL _bsearch
604   0000              	GLOBAL _atol_fastcall
605   0000              	GLOBAL _atol
606   0000              	GLOBAL _atoi_fastcall
607   0000              	GLOBAL _atoi
608   0000              	GLOBAL _atof_fastcall
609   0000              	GLOBAL _atof
610   0000              	GLOBAL _atexit_fastcall
611   0000              	GLOBAL _atexit
612   0000              	GLOBAL _at_quick_exit_fastcall
613   0000              	GLOBAL _at_quick_exit
614   0000              	GLOBAL _abs_fastcall
615   0000              	GLOBAL _abs
616   0000              	GLOBAL _abort
617   0000              	GLOBAL __strtou__callee
618   0000              	GLOBAL __strtou_
619   0000              	GLOBAL __strtoi__callee
620   0000              	GLOBAL __strtoi_
621   0000              	GLOBAL __random_uniform_xor_8__fastcall
622   0000              	GLOBAL __random_uniform_xor_8_
623   0000              	GLOBAL __random_uniform_xor_32__fastcall
624   0000              	GLOBAL __random_uniform_xor_32_
625   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
626   0000              	GLOBAL __random_uniform_cmwc_8_
627   0000              	GLOBAL __shellsort__callee
628   0000              	GLOBAL __shellsort_
629   0000              	GLOBAL __quicksort__callee
630   0000              	GLOBAL __quicksort_
631   0000              	GLOBAL __insertion_sort__callee
632   0000              	GLOBAL __insertion_sort_
633   0000              	GLOBAL __ldivu__callee
634   0000              	GLOBAL __ldivu_
635   0000              	GLOBAL __ldiv__callee
636   0000              	GLOBAL __ldiv_
637   0000              	GLOBAL __divu__callee
638   0000              	GLOBAL __divu_
639   0000              	GLOBAL __div__callee
640   0000              	GLOBAL __div_
641   0000              	GLOBAL _ay_effect_20
642   0000              	GLOBAL _ay_effect_19
643   0000              	GLOBAL _ay_effect_18
644   0000              	GLOBAL _ay_effect_17
645   0000              	GLOBAL _ay_effect_16
646   0000              	GLOBAL _ay_effect_15
647   0000              	GLOBAL _ay_effect_14
648   0000              	GLOBAL _ay_effect_13
649   0000              	GLOBAL _ay_effect_12
650   0000              	GLOBAL _ay_effect_11
651   0000              	GLOBAL _ay_effect_10
652   0000              	GLOBAL _ay_effect_09
653   0000              	GLOBAL _ay_effect_08
654   0000              	GLOBAL _ay_effect_07
655   0000              	GLOBAL _ay_effect_06
656   0000              	GLOBAL _ay_effect_05
657   0000              	GLOBAL _ay_effect_04
658   0000              	GLOBAL _ay_effect_03
659   0000              	GLOBAL _ay_effect_02
660   0000              	GLOBAL _ay_effect_01
661   0000              	GLOBAL _pb_midi_phase_1
662   0000              	GLOBAL _pb_midi_title
663   0000              	GLOBAL _initials
664   0000              	GLOBAL _hof
665   0000              	GLOBAL _score_osd_tile
666   0000              	GLOBAL _score_osd_time
667   0000              	GLOBAL _score_osd_col
668   0000              	GLOBAL _score_osd_lin
669   0000              	GLOBAL _phase_bonus_total
670   0000              	GLOBAL _phase_angry
671   0000              	GLOBAL _phase_curr
672   0000              	GLOBAL _phase_end
673   0000              	GLOBAL _phase_coins
674   0000              	GLOBAL _phase_pop
675   0000              	GLOBAL _phase_tot
676   0000              	GLOBAL _phase_left
677   0000              	GLOBAL _phase_quota
678   0000              	GLOBAL _phases
679   0000              	GLOBAL _spr_idx
680   0000              	GLOBAL _lvl_1
681   0000              	GLOBAL _sprite_speed_alt
682   0000              	GLOBAL _sprite_speed
683   0000              	GLOBAL _screen_ink
684   0000              	GLOBAL _screen_paper
685   0000              	GLOBAL _game_menu_sel
686   0000              	GLOBAL _game_type
687   0000              	GLOBAL _game_bonus
688   0000              	GLOBAL _spr_water_time
689   0000              	GLOBAL _spr_water_clear
690   0000              	GLOBAL _game_time_fireball_start
691   0000              	GLOBAL _game_time_flipped
692   0000              	GLOBAL _game_score_top
693   0000              	GLOBAL _game_lives_update
694   0000              	GLOBAL _game_lives
695   0000              	GLOBAL _game_over
696   0000              	GLOBAL _game_sound
697   0000              	GLOBAL _game_two_player
698   0000              	GLOBAL _game_brick_tile
699   0000              	GLOBAL _game_pow
700   0000              	GLOBAL _spr_count
701   0000              	GLOBAL _frame_loop_count
702   0000              	GLOBAL _col_time
703   0000              	GLOBAL _frame_time
704   0000              	GLOBAL _entry_time
705   0000              	GLOBAL _curr_time
706   0000              	GLOBAL _s_state
707   0000              	GLOBAL _attrib_hl
708   0000              	GLOBAL _attrib
709   0000              	GLOBAL _zx_val_asm
710   0000              	GLOBAL _enemies
711   0000              	GLOBAL _tmp_ui
712   0000              	GLOBAL _tmp_sc
713   0000              	GLOBAL _tmp_uc
714   0000              	GLOBAL _tmp1
715   0000              	GLOBAL _tmp0
716   0000              	GLOBAL _tmp
717   0000              	GLOBAL _index_d
718   0000              	GLOBAL _index3
719   0000              	GLOBAL _index2
720   0000              	GLOBAL _index1
721   0000              	GLOBAL _loop_count
722   0000              	GLOBAL _s_col1
723   0000              	GLOBAL _s_col0
724   0000              	GLOBAL _s_lin1
725   0000              	GLOBAL _s_lin0
726   0000              	GLOBAL _s_tile1
727   0000              	GLOBAL _s_tile0
728   0000              	GLOBAL _hit_count
729   0000              	GLOBAL _tile_offset_other_player
730   0000              	GLOBAL _tile_offset
731   0000              	GLOBAL _index_player
732   0000              	GLOBAL _sprite_other_player
733   0000              	GLOBAL _sprite
734   0000              	GLOBAL _player_next_extra
735   0000              	GLOBAL _player_score
736   0000              	GLOBAL _last_time
737   0000              	GLOBAL _sliding
738   0000              	GLOBAL _spr_timer_c
739   0000              	GLOBAL _spr_timer
740   0000              	GLOBAL _jump_lin
741   0000              	GLOBAL _hit_col
742   0000              	GLOBAL _hit_lin
743   0000              	GLOBAL _colint
744   0000              	GLOBAL _col
745   0000              	GLOBAL _lin
746   0000              	GLOBAL _tile
747   0000              	GLOBAL _state_a
748   0000              	GLOBAL _state
749   0000              	GLOBAL _class
750   0000              	GLOBAL _tbuffer
751   0000              	GLOBAL _dirs
752   0000              	GLOBAL _k2
753   0000              	GLOBAL _k1
754   0000              	GLOBAL _joyfunc2
755   0000              	GLOBAL _joyfunc1
756   0000              	GLOBAL _joynames
757   0000              	GLOBAL _btiles
758   0000              	GLOBAL _spec128
759   0000              	GLOBAL _hall_valids
760   0000              ;--------------------------------------------------------
761   0000              ; special function registers
762   0000              ;--------------------------------------------------------
763   0000              ;--------------------------------------------------------
764   0000              ; ram data
765   0000              ;--------------------------------------------------------
766   0000              	SECTION bss_compiler
767   0000              defc _NIRVANAP_isr	=	0xf5d2
768   0000              ;--------------------------------------------------------
769   0000              ; ram data
770   0000              ;--------------------------------------------------------
771   0000              
772   0000              IF 0
773   0000              
774   0000              ; .area _INITIALIZED removed by z88dk
775   0000              
776   0000              
777   0000              ENDIF
778   0000              
779   0000              ;--------------------------------------------------------
780   0000              ; absolute external ram data
781   0000              ;--------------------------------------------------------
782   0000              	SECTION IGNORE
783   0000              ;--------------------------------------------------------
784   0000              ; global & static initialisations
785   0000              ;--------------------------------------------------------
786   0000              	SECTION code_crt_init
787   0000              ;--------------------------------------------------------
788   0000              ; Home
789   0000              ;--------------------------------------------------------
790   0000              	SECTION IGNORE
791   0000              ;--------------------------------------------------------
792   0000              ; code
793   0000              ;--------------------------------------------------------
794   0000              	SECTION code_compiler
795   0000              ;	---------------------------------
796   0000              ; Function enemy_coin1
797   0000              ; ---------------------------------
798   0000              _enemy_coin1:
799   0000  21 00 00    	ld	hl,_sprite
800   0003  E5          	push	hl
801   0004  CD 00 00    	call	_spr_chktime
802   0007  F1          	pop	af
803   0008  7D          	ld	a,l
804   0009  B7          	or	a, a
805   000A  28 35       	jr	Z,l_enemy_coin1_00108
806   000C  3A 00 00    	ld	a,(_phase_left)
807   000F  B7          	or	a, a
808   0010  28 2F       	jr	Z,l_enemy_coin1_00108
809   0012  CD A3 0D    	call	_enemy_walk
810   0015  2A 00 00    	ld	hl,(_sprite)
811   0018  26 00       	ld	h,0x00
812   001A  01 00 00    	ld	bc,_lin
813   001D  09          	add	hl,bc
814   001E  7E          	ld	a,(hl)
815   001F  D6 98       	sub	a,0x98
816   0021  20 1E       	jr	NZ,l_enemy_coin1_00108
817   0023  3A 00 00    	ld	a,(_sprite)
818   0026  4F          	ld	c,a
819   0027  06 00       	ld	b,0x00
820   0029  21 00 00    	ld	hl,_col
821   002C  09          	add	hl,bc
822   002D  7E          	ld	a,(hl)
823   002E  4F          	ld	c,a
824   002F  D6 03       	sub	a,0x03
825   0031  28 05       	jr	Z,l_enemy_coin1_00101
826   0033  79          	ld	a,c
827   0034  D6 1B       	sub	a,0x1b
828   0036  20 09       	jr	NZ,l_enemy_coin1_00108
829   0038              l_enemy_coin1_00101:
830   0038  3A 00 00    	ld	a,(_sprite)
831   003B  F5          	push	af
832   003C  33          	inc	sp
833   003D  CD 00 00    	call	_spr_destroy
834   0040  33          	inc	sp
835   0041              l_enemy_coin1_00108:
836   0041  C9          	ret
837   0042              ;	---------------------------------
838   0042              ; Function enemy_coin2
839   0042              ; ---------------------------------
840   0042              _enemy_coin2:
841   0042  21 00 00    	ld	hl,_sprite
842   0045  E5          	push	hl
843   0046  CD 00 00    	call	_spr_chktime
844   0049  F1          	pop	af
845   004A  7D          	ld	a,l
846   004B  B7          	or	a, a
847   004C  C8          	ret	Z
848   004D  01 00 00    	ld	bc,_colint+0
849   0050  79          	ld	a,c
850   0051  21 00 00    	ld	hl,_sprite
851   0054  86          	add	a, (hl)
852   0055  5F          	ld	e,a
853   0056  78          	ld	a,b
854   0057  CE 00       	adc	a,0x00
855   0059  57          	ld	d,a
856   005A  1A          	ld	a,(de)
857   005B  3C          	inc	a
858   005C  12          	ld	(de),a
859   005D  79          	ld	a,c
860   005E  86          	add	a, (hl)
861   005F  4F          	ld	c,a
862   0060  78          	ld	a,b
863   0061  CE 00       	adc	a,0x00
864   0063  47          	ld	b,a
865   0064  0A          	ld	a,(bc)
866   0065  D6 03       	sub	a,0x03
867   0067  C0          	ret	NZ
868   0068  AF          	xor	a, a
869   0069  02          	ld	(bc),a
870   006A  C9          	ret
871   006B              ;	---------------------------------
872   006B              ; Function enemy_collition
873   006B              ; ---------------------------------
874   006B              _enemy_collition:
875   006B  CD 00 00    	call	___sdcc_enter_ix
876   006E  3B          	dec	sp
877   006F  21 00 00    	ld	hl,_enemies
878   0072  36 00       	ld	(hl),0x00
879   0074              l_enemy_collition_00113:
880   0074  CD A1 01    	call	_enemy_collition_check
881   0077  7D          	ld	a,l
882   0078  B7          	or	a, a
883   0079  CA 93 01    	jp	Z,l_enemy_collition_00114
884   007C  3A 00 00    	ld	a,(_enemies)
885   007F  C6 00       	add	a,+((_state) & 0xFF)
886   0081  4F          	ld	c,a
887   0082  3E 00       	ld	a,+((_state) / 256)
888   0084  CE 00       	adc	a,0x00
889   0086  47          	ld	b,a
890   0087  0A          	ld	a,(bc)
891   0088  DD 77 FF    	ld	(ix-1),a
892   008B  CB 67       	bit	4,a
893   008D  C2 26 01    	jp	NZ,l_enemy_collition_00104
894   0090  21 00 00    	ld	hl,_s_state
895   0093  7E          	ld	a,(hl)
896   0094  E6 08       	and	a,0x08
897   0096  5F          	ld	e,a
898   0097  DD 7E FF    	ld	a,(ix-1)
899   009A  E6 08       	and	a,0x08
900   009C  57          	ld	d,a
901   009D  7B          	ld	a,e
902   009E  92          	sub	a, d
903   009F  CA 26 01    	jp	Z,l_enemy_collition_00104
904   00A2  7E          	ld	a,(hl)
905   00A3  E6 04       	and	a,0x04
906   00A5  5F          	ld	e,a
907   00A6  DD 7E FF    	ld	a,(ix-1)
908   00A9  E6 04       	and	a,0x04
909   00AB  57          	ld	d,a
910   00AC  7B          	ld	a,e
911   00AD  92          	sub	a, d
912   00AE  28 76       	jr	Z,l_enemy_collition_00104
913   00B0  2A 00 00    	ld	hl,(_sprite)
914   00B3  26 00       	ld	h,0x00
915   00B5  11 00 00    	ld	de,_class
916   00B8  19          	add	hl,de
917   00B9  7E          	ld	a,(hl)
918   00BA  D6 08       	sub	a,0x08
919   00BC  28 68       	jr	Z,l_enemy_collition_00104
920   00BE  DD 7E FF    	ld	a,(ix-1)
921   00C1  EE 04       	xor	a,0x04
922   00C3  02          	ld	(bc),a
923   00C4  2A 00 00    	ld	hl,(_enemies)
924   00C7  26 00       	ld	h,0x00
925   00C9  01 00 00    	ld	bc,_state
926   00CC  09          	add	hl,bc
927   00CD  7E          	ld	a,(hl)
928   00CE  EE 08       	xor	a,0x08
929   00D0  77          	ld	(hl),a
930   00D1  2A 00 00    	ld	hl,(_enemies)
931   00D4  26 00       	ld	h,0x00
932   00D6  01 00 00    	ld	bc,_class
933   00D9  09          	add	hl,bc
934   00DA  4E          	ld	c,(hl)
935   00DB  3E 06       	ld	a,0x06
936   00DD  91          	sub	a,c
937   00DE  38 46       	jr	C,l_enemy_collition_00104
938   00E0  3E 00       	ld	a,+((_state_a) & 0xFF)
939   00E2  21 00 00    	ld	hl,_enemies
940   00E5  86          	add	a, (hl)
941   00E6  4F          	ld	c,a
942   00E7  3E 00       	ld	a,+((_state_a) / 256)
943   00E9  CE 00       	adc	a,0x00
944   00EB  47          	ld	b,a
945   00EC  0A          	ld	a,(bc)
946   00ED  CB CF       	set	1, a
947   00EF  02          	ld	(bc),a
948   00F0  4E          	ld	c,(hl)
949   00F1  06 00       	ld	b,0x00
950   00F3  CB 21       	sla	c
951   00F5  CB 10       	rl	b
952   00F7  21 00 00    	ld	hl,_spr_timer
953   00FA  09          	add	hl,bc
954   00FB  ED 5B 00 00 	ld	de,(_curr_time)
955   00FF  73          	ld	(hl),e
956   0100  23          	inc	hl
957   0101  72          	ld	(hl),d
958   0102  3E 00       	ld	a,+((_tile) & 0xFF)
959   0104  21 00 00    	ld	hl,_enemies
960   0107  86          	add	a, (hl)
961   0108  4F          	ld	c,a
962   0109  3E 00       	ld	a,+((_tile) / 256)
963   010B  CE 00       	adc	a,0x00
964   010D  47          	ld	b,a
965   010E  7E          	ld	a,(hl)
966   010F  C5          	push	bc
967   0110  F5          	push	af
968   0111  33          	inc	sp
969   0112  CD 00 00    	call	_spr_tile
970   0115  33          	inc	sp
971   0116  C1          	pop	bc
972   0117  7D          	ld	a, l
973   0118  02          	ld	(bc),a
974   0119  3A 00 00    	ld	a,(_enemies)
975   011C  C6 00       	add	a,+((_colint) & 0xFF)
976   011E  4F          	ld	c,a
977   011F  3E 00       	ld	a,+((_colint) / 256)
978   0121  CE 00       	adc	a,0x00
979   0123  47          	ld	b,a
980   0124  AF          	xor	a, a
981   0125  02          	ld	(bc),a
982   0126              l_enemy_collition_00104:
983   0126  21 00 00    	ld	hl,_s_state
984   0129  7E          	ld	a,(hl)
985   012A  EE 0C       	xor	a,+(0x04^0x08)
986   012C  77          	ld	(hl),a
987   012D  2A 00 00    	ld	hl,(_sprite)
988   0130  26 00       	ld	h,0x00
989   0132  01 00 00    	ld	bc,_class
990   0135  09          	add	hl,bc
991   0136  4E          	ld	c,(hl)
992   0137  3E 06       	ld	a,0x06
993   0139  91          	sub	a,c
994   013A  38 41       	jr	C,l_enemy_collition_00109
995   013C  3E 00       	ld	a,+((_state_a) & 0xFF)
996   013E  21 00 00    	ld	hl,_sprite
997   0141  86          	add	a, (hl)
998   0142  4F          	ld	c,a
999   0143  3E 00       	ld	a,+((_state_a) / 256)
1000  0145  CE 00       	adc	a,0x00
1001  0147  47          	ld	b,a
1002  0148  0A          	ld	a,(bc)
1003  0149  CB CF       	set	1, a
1004  014B  02          	ld	(bc),a
1005  014C  3E 00       	ld	a,+((_state) & 0xFF)
1006  014E  86          	add	a, (hl)
1007  014F  4F          	ld	c,a
1008  0150  3E 00       	ld	a,+((_state) / 256)
1009  0152  CE 00       	adc	a,0x00
1010  0154  47          	ld	b,a
1011  0155  3A 00 00    	ld	a,(_s_state)
1012  0158  02          	ld	(bc),a
1013  0159  3E 00       	ld	a,+((_tile) & 0xFF)
1014  015B  21 00 00    	ld	hl,_sprite
1015  015E  86          	add	a, (hl)
1016  015F  4F          	ld	c,a
1017  0160  3E 00       	ld	a,+((_tile) / 256)
1018  0162  CE 00       	adc	a,0x00
1019  0164  47          	ld	b,a
1020  0165  7E          	ld	a,(hl)
1021  0166  C5          	push	bc
1022  0167  F5          	push	af
1023  0168  33          	inc	sp
1024  0169  CD 00 00    	call	_spr_tile
1025  016C  33          	inc	sp
1026  016D  C1          	pop	bc
1027  016E  7D          	ld	a, l
1028  016F  02          	ld	(bc),a
1029  0170  3A 00 00    	ld	a,(_sprite)
1030  0173  C6 00       	add	a,+((_colint) & 0xFF)
1031  0175  4F          	ld	c,a
1032  0176  3E 00       	ld	a,+((_colint) / 256)
1033  0178  CE 00       	adc	a,0x00
1034  017A  47          	ld	b,a
1035  017B  AF          	xor	a, a
1036  017C  02          	ld	(bc),a
1037  017D              l_enemy_collition_00109:
1038  017D  2A 00 00    	ld	hl,(_sprite)
1039  0180  26 00       	ld	h,0x00
1040  0182  29          	add	hl,hl
1041  0183  01 00 00    	ld	bc,_spr_timer
1042  0186  09          	add	hl,bc
1043  0187  ED 5B 00 00 	ld	de,(_curr_time)
1044  018B  73          	ld	(hl),e
1045  018C  23          	inc	hl
1046  018D  72          	ld	(hl),d
1047  018E  21 00 00    	ld	hl,_enemies
1048  0191  36 06       	ld	(hl),0x06
1049  0193              l_enemy_collition_00114:
1050  0193  21 00 00    	ld	hl,_enemies
1051  0196  34          	inc	(hl)
1052  0197  7E          	ld	a,(hl)
1053  0198  D6 06       	sub	a,0x06
1054  019A  DA 74 00    	jp	C,l_enemy_collition_00113
1055  019D  33          	inc	sp
1056  019E  DD E1       	pop	ix
1057  01A0  C9          	ret
1058  01A1              ;	---------------------------------
1059  01A1              ; Function enemy_collition_check
1060  01A1              ; ---------------------------------
1061  01A1              _enemy_collition_check:
1062  01A1  2A 00 00    	ld	hl,(_enemies)
1063  01A4  26 00       	ld	h,0x00
1064  01A6  01 00 00    	ld	bc,_class
1065  01A9  09          	add	hl,bc
1066  01AA  7E          	ld	a,(hl)
1067  01AB  4F          	ld	c,a
1068  01AC  B7          	or	a,a
1069  01AD  20 04       	jr	NZ,l_enemy_collition_check_00102
1070  01AF  6F          	ld	l,a
1071  01B0  C3 8C 02    	jp	l_enemy_collition_check_00125
1072  01B3              l_enemy_collition_check_00102:
1073  01B3  3E 09       	ld	a,0x09
1074  01B5  91          	sub	a, c
1075  01B6  30 05       	jr	NC,l_enemy_collition_check_00104
1076  01B8  2E 00       	ld	l,0x00
1077  01BA  C3 8C 02    	jp	l_enemy_collition_check_00125
1078  01BD              l_enemy_collition_check_00104:
1079  01BD  3A 00 00    	ld	a,(_enemies)
1080  01C0  21 00 00    	ld	hl,_sprite
1081  01C3  96          	sub	a,(hl)
1082  01C4  20 04       	jr	NZ,l_enemy_collition_check_00106
1083  01C6  6F          	ld	l,a
1084  01C7  C3 8C 02    	jp	l_enemy_collition_check_00125
1085  01CA              l_enemy_collition_check_00106:
1086  01CA  3A 00 00    	ld	a,(_sprite)
1087  01CD  C6 00       	add	a,+((_state) & 0xFF)
1088  01CF  4F          	ld	c,a
1089  01D0  3E 00       	ld	a,+((_state) / 256)
1090  01D2  CE 00       	adc	a,0x00
1091  01D4  47          	ld	b,a
1092  01D5  0A          	ld	a,(bc)
1093  01D6  CB 67       	bit	4, a
1094  01D8  28 05       	jr	Z,l_enemy_collition_check_00108
1095  01DA  2E 00       	ld	l,0x00
1096  01DC  C3 8C 02    	jp	l_enemy_collition_check_00125
1097  01DF              l_enemy_collition_check_00108:
1098  01DF  CB 6F       	bit	5, a
1099  01E1  28 05       	jr	Z,l_enemy_collition_check_00110
1100  01E3  2E 00       	ld	l,0x00
1101  01E5  C3 8C 02    	jp	l_enemy_collition_check_00125
1102  01E8              l_enemy_collition_check_00110:
1103  01E8  3A 00 00    	ld	a,(_sprite)
1104  01EB  C6 00       	add	a,+((_state_a) & 0xFF)
1105  01ED  4F          	ld	c,a
1106  01EE  3E 00       	ld	a,+((_state_a) / 256)
1107  01F0  CE 00       	adc	a,0x00
1108  01F2  47          	ld	b,a
1109  01F3  0A          	ld	a,(bc)
1110  01F4  CB 4F       	bit	1, a
1111  01F6  28 05       	jr	Z,l_enemy_collition_check_00112
1112  01F8  2E 00       	ld	l,0x00
1113  01FA  C3 8C 02    	jp	l_enemy_collition_check_00125
1114  01FD              l_enemy_collition_check_00112:
1115  01FD  3A 00 00    	ld	a,(_enemies)
1116  0200  C6 00       	add	a,+((_state) & 0xFF)
1117  0202  4F          	ld	c,a
1118  0203  3E 00       	ld	a,+((_state) / 256)
1119  0205  CE 00       	adc	a,0x00
1120  0207  47          	ld	b,a
1121  0208  0A          	ld	a,(bc)
1122  0209  CB 6F       	bit	5, a
1123  020B  28 05       	jr	Z,l_enemy_collition_check_00114
1124  020D  2E 00       	ld	l,0x00
1125  020F  C3 8C 02    	jp	l_enemy_collition_check_00125
1126  0212              l_enemy_collition_check_00114:
1127  0212  CB 4F       	bit	1, a
1128  0214  28 04       	jr	Z,l_enemy_collition_check_00116
1129  0216  2E 00       	ld	l,0x00
1130  0218  18 72       	jr	l_enemy_collition_check_00125
1131  021A              l_enemy_collition_check_00116:
1132  021A  01 00 00    	ld	bc,_lin+0
1133  021D  2A 00 00    	ld	hl,(_enemies)
1134  0220  26 00       	ld	h,0x00
1135  0222  09          	add	hl,bc
1136  0223  6E          	ld	l, (hl)
1137  0224  26 00       	ld	h,0x00
1138  0226  EB          	ex	de,hl
1139  0227  2A 00 00    	ld	hl,(_sprite)
1140  022A  62          	ld	h,d
1141  022B  09          	add	hl,bc
1142  022C  4E          	ld	c, (hl)
1143  022D  AF          	xor	a,a
1144  022E  47          	ld	b,a
1145  022F  EB          	ex	de,hl
1146  0230  ED 42       	sbc	hl,bc
1147  0232  CD 00 00    	call	_abs_fastcall
1148  0235  22 00 00    	ld	(_tmp_ui),hl
1149  0238  21 00 00    	ld	hl,_tmp_ui
1150  023B  7E          	ld	a,(hl)
1151  023C  D6 10       	sub	a,0x10
1152  023E  23          	inc	hl
1153  023F  7E          	ld	a,(hl)
1154  0240  DE 00       	sbc	a,0x00
1155  0242  38 04       	jr	C,l_enemy_collition_check_00118
1156  0244  2E 00       	ld	l,0x00
1157  0246  18 44       	jr	l_enemy_collition_check_00125
1158  0248              l_enemy_collition_check_00118:
1159  0248  01 00 00    	ld	bc,_col+0
1160  024B  2A 00 00    	ld	hl,(_sprite)
1161  024E  26 00       	ld	h,0x00
1162  0250  09          	add	hl,bc
1163  0251  6E          	ld	l, (hl)
1164  0252  EB          	ex	de,hl
1165  0253  2A 00 00    	ld	hl,(_enemies)
1166  0256  26 00       	ld	h,0x00
1167  0258  09          	add	hl,bc
1168  0259  4E          	ld	c, (hl)
1169  025A  7B          	ld	a,e
1170  025B  91          	sub	a, c
1171  025C  32 00 00    	ld	(_tmp_sc),a
1172  025F  3A 00 00    	ld	a,(_sprite)
1173  0262  C6 00       	add	a,+((_state) & 0xFF)
1174  0264  4F          	ld	c,a
1175  0265  3E 00       	ld	a,+((_state) / 256)
1176  0267  CE 00       	adc	a,0x00
1177  0269  47          	ld	b,a
1178  026A  3A 00 00    	ld	a,(_tmp_sc)
1179  026D  D6 FE       	sub	a,0xfe
1180  026F  20 09       	jr	NZ,l_enemy_collition_check_00120
1181  0271  0A          	ld	a,(bc)
1182  0272  CB 57       	bit	2, a
1183  0274  28 04       	jr	Z,l_enemy_collition_check_00120
1184  0276  2E 01       	ld	l,0x01
1185  0278  18 12       	jr	l_enemy_collition_check_00125
1186  027A              l_enemy_collition_check_00120:
1187  027A  3A 00 00    	ld	a,(_tmp_sc)
1188  027D  D6 02       	sub	a,0x02
1189  027F  20 09       	jr	NZ,l_enemy_collition_check_00123
1190  0281  0A          	ld	a,(bc)
1191  0282  CB 5F       	bit	3, a
1192  0284  28 04       	jr	Z,l_enemy_collition_check_00123
1193  0286  2E 01       	ld	l,0x01
1194  0288  18 02       	jr	l_enemy_collition_check_00125
1195  028A              l_enemy_collition_check_00123:
1196  028A  2E 00       	ld	l,0x00
1197  028C              l_enemy_collition_check_00125:
1198  028C  C9          	ret
1199  028D              ;	---------------------------------
1200  028D              ; Function enemy_hit
1201  028D              ; ---------------------------------
1202  028D              _enemy_hit:
1203  028D  76          	halt
1204  028E  2A 00 00    	ld	hl,(_enemies)
1205  0291  26 00       	ld	h,0x00
1206  0293  5D          	ld	e,l
1207  0294  01 00 00    	ld	bc,_col
1208  0297  09          	add	hl,bc
1209  0298  46          	ld	b,(hl)
1210  0299  16 00       	ld	d,0x00
1211  029B  21 00 00    	ld	hl,_lin
1212  029E  19          	add	hl,de
1213  029F  4E          	ld	c, (hl)
1214  02A0  C5          	push	bc
1215  02A1  AF          	xor	a, a
1216  02A2  F5          	push	af
1217  02A3  33          	inc	sp
1218  02A4  CD 00 00    	call	_NIRVANAP_fillT_callee
1219  02A7  2A 00 00    	ld	hl,(_enemies)
1220  02AA  26 00       	ld	h,0x00
1221  02AC  01 00 00    	ld	bc,_lin
1222  02AF  09          	add	hl,bc
1223  02B0  7E          	ld	a,(hl)
1224  02B1  C6 FC       	add	a,0xfc
1225  02B3  77          	ld	(hl),a
1226  02B4  3E 00       	ld	a,+((_col) & 0xFF)
1227  02B6  21 00 00    	ld	hl,_enemies
1228  02B9  86          	add	a, (hl)
1229  02BA  4F          	ld	c,a
1230  02BB  3E 00       	ld	a,+((_col) / 256)
1231  02BD  CE 00       	adc	a,0x00
1232  02BF  47          	ld	b,a
1233  02C0  0A          	ld	a,(bc)
1234  02C1  4F          	ld	c,a
1235  02C2  3E 00       	ld	a,+((_lin) & 0xFF)
1236  02C4  86          	add	a, (hl)
1237  02C5  5F          	ld	e,a
1238  02C6  3E 00       	ld	a,+((_lin) / 256)
1239  02C8  CE 00       	adc	a,0x00
1240  02CA  57          	ld	d,a
1241  02CB  1A          	ld	a,(de)
1242  02CC  47          	ld	b,a
1243  02CD  3E 00       	ld	a,+((_tile) & 0xFF)
1244  02CF  86          	add	a, (hl)
1245  02D0  5F          	ld	e,a
1246  02D1  3E 00       	ld	a,+((_tile) / 256)
1247  02D3  CE 00       	adc	a,0x00
1248  02D5  57          	ld	d,a
1249  02D6  1A          	ld	a,(de)
1250  02D7  57          	ld	d,a
1251  02D8  79          	ld	a,c
1252  02D9  F5          	push	af
1253  02DA  33          	inc	sp
1254  02DB  4A          	ld	c, d
1255  02DC  7E          	ld	a,(hl)
1256  02DD  C5          	push	bc
1257  02DE  F5          	push	af
1258  02DF  33          	inc	sp
1259  02E0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1260  02E3  2A 00 00    	ld	hl,(_enemies)
1261  02E6  26 00       	ld	h,0x00
1262  02E8  01 00 00    	ld	bc,_state_a
1263  02EB  09          	add	hl,bc
1264  02EC  7E          	ld	a,(hl)
1265  02ED  E6 FD       	and	a,0xfd
1266  02EF  77          	ld	(hl),a
1267  02F0  01 00 00    	ld	bc,_spr_timer+0
1268  02F3  2A 00 00    	ld	hl,(_enemies)
1269  02F6  26 00       	ld	h,0x00
1270  02F8  29          	add	hl, hl
1271  02F9  09          	add	hl,bc
1272  02FA  ED 5B 00 00 	ld	de,(_curr_time)
1273  02FE  73          	ld	(hl),e
1274  02FF  23          	inc	hl
1275  0300  72          	ld	(hl),d
1276  0301  3A 00 00    	ld	a,(_enemies)
1277  0304  C6 00       	add	a,+((_class) & 0xFF)
1278  0306  4F          	ld	c,a
1279  0307  3E 00       	ld	a,+((_class) / 256)
1280  0309  CE 00       	adc	a,0x00
1281  030B  47          	ld	b,a
1282  030C  0A          	ld	a,(bc)
1283  030D  5F          	ld	e,a
1284  030E  D6 01       	sub	a,0x01
1285  0310  DA BE 03    	jp	C,l_enemy_hit_00113
1286  0313  3E 0B       	ld	a,0x0b
1287  0315  93          	sub	a, e
1288  0316  DA BE 03    	jp	C,l_enemy_hit_00113
1289  0319  1D          	dec	e
1290  031A  16 00       	ld	d,0x00
1291  031C  21 23 03    	ld	hl,l_enemy_hit_00123
1292  031F  19          	add	hl,de
1293  0320  19          	add	hl,de
1294  0321  19          	add	hl,de
1295  0322  E9          	jp	(hl)
1296  0323              l_enemy_hit_00123:
1297  0323  C3 44 03    	jp	l_enemy_hit_00101
1298  0326  C3 4E 03    	jp	l_enemy_hit_00102
1299  0329  C3 58 03    	jp	l_enemy_hit_00103
1300  032C  C3 62 03    	jp	l_enemy_hit_00104
1301  032F  C3 6C 03    	jp	l_enemy_hit_00105
1302  0332  C3 76 03    	jp	l_enemy_hit_00106
1303  0335  C3 8A 03    	jp	l_enemy_hit_00108
1304  0338  C3 96 03    	jp	l_enemy_hit_00109
1305  033B  C3 80 03    	jp	l_enemy_hit_00107
1306  033E  C3 A8 03    	jp	l_enemy_hit_00110
1307  0341  C3 B4 03    	jp	l_enemy_hit_00111
1308  0344              l_enemy_hit_00101:
1309  0344  21 30 00    	ld	hl,0x0030
1310  0347  E5          	push	hl
1311  0348  CD B4 04    	call	_enemy_flip
1312  034B  F1          	pop	af
1313  034C  18 70       	jr	l_enemy_hit_00113
1314  034E              l_enemy_hit_00102:
1315  034E  21 3C 00    	ld	hl,0x003c
1316  0351  E5          	push	hl
1317  0352  CD B4 04    	call	_enemy_flip
1318  0355  F1          	pop	af
1319  0356  18 66       	jr	l_enemy_hit_00113
1320  0358              l_enemy_hit_00103:
1321  0358  21 48 00    	ld	hl,0x0048
1322  035B  E5          	push	hl
1323  035C  CD B4 04    	call	_enemy_flip
1324  035F  F1          	pop	af
1325  0360  18 5C       	jr	l_enemy_hit_00113
1326  0362              l_enemy_hit_00104:
1327  0362  21 54 00    	ld	hl,0x0054
1328  0365  E5          	push	hl
1329  0366  CD 9D 05    	call	_enemy_flip_sidestepper
1330  0369  F1          	pop	af
1331  036A  18 52       	jr	l_enemy_hit_00113
1332  036C              l_enemy_hit_00105:
1333  036C  21 60 00    	ld	hl,0x0060
1334  036F  E5          	push	hl
1335  0370  CD 9D 05    	call	_enemy_flip_sidestepper
1336  0373  F1          	pop	af
1337  0374  18 48       	jr	l_enemy_hit_00113
1338  0376              l_enemy_hit_00106:
1339  0376  21 6C 00    	ld	hl,0x006c
1340  0379  E5          	push	hl
1341  037A  CD 9D 05    	call	_enemy_flip_sidestepper
1342  037D  F1          	pop	af
1343  037E  18 3E       	jr	l_enemy_hit_00113
1344  0380              l_enemy_hit_00107:
1345  0380  21 78 00    	ld	hl,0x0078
1346  0383  E5          	push	hl
1347  0384  CD B4 04    	call	_enemy_flip
1348  0387  F1          	pop	af
1349  0388  18 34       	jr	l_enemy_hit_00113
1350  038A              l_enemy_hit_00108:
1351  038A  2A 00 00    	ld	hl,(_enemies)
1352  038D  26 32       	ld	h,0x32
1353  038F  E5          	push	hl
1354  0390  CD 00 00    	call	_player_coin
1355  0393  F1          	pop	af
1356  0394  18 28       	jr	l_enemy_hit_00113
1357  0396              l_enemy_hit_00109:
1358  0396  21 00 00    	ld	hl,_ay_effect_10
1359  0399  CD 00 00    	call	_ay_fx_play
1360  039C  2A 00 00    	ld	hl,(_enemies)
1361  039F  26 50       	ld	h,0x50
1362  03A1  E5          	push	hl
1363  03A2  CD 00 00    	call	_player_coin
1364  03A5  F1          	pop	af
1365  03A6  18 16       	jr	l_enemy_hit_00113
1366  03A8              l_enemy_hit_00110:
1367  03A8  2A 00 00    	ld	hl,(_enemies)
1368  03AB  26 64       	ld	h,0x64
1369  03AD  E5          	push	hl
1370  03AE  CD 00 00    	call	_player_coin
1371  03B1  F1          	pop	af
1372  03B2  18 0A       	jr	l_enemy_hit_00113
1373  03B4              l_enemy_hit_00111:
1374  03B4  2A 00 00    	ld	hl,(_enemies)
1375  03B7  26 14       	ld	h,0x14
1376  03B9  E5          	push	hl
1377  03BA  CD 00 00    	call	_player_coin
1378  03BD  F1          	pop	af
1379  03BE              l_enemy_hit_00113:
1380  03BE  C9          	ret
1381  03BF              ;	---------------------------------
1382  03BF              ; Function enemy_flip_change_dir
1383  03BF              ; ---------------------------------
1384  03BF              _enemy_flip_change_dir:
1385  03BF  CD 00 00    	call	___sdcc_enter_ix
1386  03C2  3B          	dec	sp
1387  03C3  3A 00 00    	ld	a,(_enemies)
1388  03C6  C6 00       	add	a,+((_state) & 0xFF)
1389  03C8  4F          	ld	c,a
1390  03C9  3E 00       	ld	a,+((_state) / 256)
1391  03CB  CE 00       	adc	a,0x00
1392  03CD  47          	ld	b,a
1393  03CE  0A          	ld	a,(bc)
1394  03CF  CB 57       	bit	2, a
1395  03D1  28 1E       	jr	Z,l_enemy_flip_change_dir_00102
1396  03D3  01 00 00    	ld	bc,_state_a+0
1397  03D6  79          	ld	a,c
1398  03D7  21 00 00    	ld	hl,_enemies
1399  03DA  86          	add	a, (hl)
1400  03DB  5F          	ld	e,a
1401  03DC  78          	ld	a,b
1402  03DD  CE 00       	adc	a,0x00
1403  03DF  57          	ld	d,a
1404  03E0  1A          	ld	a,(de)
1405  03E1  CB E7       	set	4, a
1406  03E3  12          	ld	(de),a
1407  03E4  79          	ld	a,c
1408  03E5  86          	add	a, (hl)
1409  03E6  4F          	ld	c,a
1410  03E7  78          	ld	a,b
1411  03E8  CE 00       	adc	a,0x00
1412  03EA  47          	ld	b,a
1413  03EB  0A          	ld	a,(bc)
1414  03EC  E6 F7       	and	a,0xf7
1415  03EE  02          	ld	(bc),a
1416  03EF  18 1C       	jr	l_enemy_flip_change_dir_00103
1417  03F1              l_enemy_flip_change_dir_00102:
1418  03F1  01 00 00    	ld	bc,_state_a+0
1419  03F4  79          	ld	a,c
1420  03F5  21 00 00    	ld	hl,_enemies
1421  03F8  86          	add	a, (hl)
1422  03F9  5F          	ld	e,a
1423  03FA  78          	ld	a,b
1424  03FB  CE 00       	adc	a,0x00
1425  03FD  57          	ld	d,a
1426  03FE  1A          	ld	a,(de)
1427  03FF  CB E7       	set	4, a
1428  0401  12          	ld	(de),a
1429  0402  79          	ld	a,c
1430  0403  86          	add	a, (hl)
1431  0404  4F          	ld	c,a
1432  0405  78          	ld	a,b
1433  0406  CE 00       	adc	a,0x00
1434  0408  47          	ld	b,a
1435  0409  0A          	ld	a,(bc)
1436  040A  E6 F7       	and	a,0xf7
1437  040C  02          	ld	(bc),a
1438  040D              l_enemy_flip_change_dir_00103:
1439  040D  01 00 00    	ld	bc,_col+0
1440  0410  2A 00 00    	ld	hl,(_sprite)
1441  0413  26 00       	ld	h,0x00
1442  0415  09          	add	hl,bc
1443  0416  7E          	ld	a,(hl)
1444  0417  DD 77 FF    	ld	(ix-1),a
1445  041A  79          	ld	a,c
1446  041B  21 00 00    	ld	hl,_enemies
1447  041E  86          	add	a, (hl)
1448  041F  5F          	ld	e,a
1449  0420  78          	ld	a,b
1450  0421  CE 00       	adc	a,0x00
1451  0423  57          	ld	d,a
1452  0424  1A          	ld	a,(de)
1453  0425  DD 96 FF    	sub	a,(ix-1)
1454  0428  30 19       	jr	NC,l_enemy_flip_change_dir_00105
1455  042A  3E 00       	ld	a,+((_state) & 0xFF)
1456  042C  86          	add	a, (hl)
1457  042D  5F          	ld	e,a
1458  042E  3E 00       	ld	a,+((_state) / 256)
1459  0430  CE 00       	adc	a,0x00
1460  0432  57          	ld	d,a
1461  0433  1A          	ld	a,(de)
1462  0434  CB DF       	set	3, a
1463  0436  12          	ld	(de),a
1464  0437  5E          	ld	e,(hl)
1465  0438  16 00       	ld	d,0x00
1466  043A  21 00 00    	ld	hl,_state
1467  043D  19          	add	hl,de
1468  043E  7E          	ld	a,(hl)
1469  043F  EB          	ex	de,hl
1470  0440  E6 FB       	and	a,0xfb
1471  0442  12          	ld	(de),a
1472  0443              l_enemy_flip_change_dir_00105:
1473  0443  2A 00 00    	ld	hl,(_sprite)
1474  0446  26 00       	ld	h,0x00
1475  0448  09          	add	hl,bc
1476  0449  7E          	ld	a,(hl)
1477  044A  DD 77 FF    	ld	(ix-1),a
1478  044D  79          	ld	a,c
1479  044E  21 00 00    	ld	hl,_enemies
1480  0451  86          	add	a, (hl)
1481  0452  5F          	ld	e,a
1482  0453  78          	ld	a,b
1483  0454  CE 00       	adc	a,0x00
1484  0456  57          	ld	d,a
1485  0457  1A          	ld	a,(de)
1486  0458  5F          	ld	e,a
1487  0459  DD 7E FF    	ld	a,(ix-1)
1488  045C  93          	sub	a, e
1489  045D  30 19       	jr	NC,l_enemy_flip_change_dir_00107
1490  045F  3E 00       	ld	a,+((_state) & 0xFF)
1491  0461  86          	add	a, (hl)
1492  0462  5F          	ld	e,a
1493  0463  3E 00       	ld	a,+((_state) / 256)
1494  0465  CE 00       	adc	a,0x00
1495  0467  57          	ld	d,a
1496  0468  1A          	ld	a,(de)
1497  0469  CB D7       	set	2, a
1498  046B  12          	ld	(de),a
1499  046C  5E          	ld	e,(hl)
1500  046D  16 00       	ld	d,0x00
1501  046F  21 00 00    	ld	hl,_state
1502  0472  19          	add	hl,de
1503  0473  7E          	ld	a,(hl)
1504  0474  EB          	ex	de,hl
1505  0475  E6 F7       	and	a,0xf7
1506  0477  12          	ld	(de),a
1507  0478              l_enemy_flip_change_dir_00107:
1508  0478  DD 7E 04    	ld	a,(ix+4)
1509  047B  B7          	or	a, a
1510  047C  20 32       	jr	NZ,l_enemy_flip_change_dir_00111
1511  047E  2A 00 00    	ld	hl,(_sprite)
1512  0481  26 00       	ld	h,0x00
1513  0483  09          	add	hl,bc
1514  0484  6E          	ld	l, (hl)
1515  0485  79          	ld	a,c
1516  0486  EB          	ex	de,hl
1517  0487  21 00 00    	ld	hl,_enemies
1518  048A  86          	add	a, (hl)
1519  048B  4F          	ld	c,a
1520  048C  78          	ld	a,b
1521  048D  CE 00       	adc	a,0x00
1522  048F  47          	ld	b,a
1523  0490  0A          	ld	a,(bc)
1524  0491  4F          	ld	c,a
1525  0492  7B          	ld	a,e
1526  0493  91          	sub	a, c
1527  0494  20 1A       	jr	NZ,l_enemy_flip_change_dir_00111
1528  0496  3E 00       	ld	a,+((_state) & 0xFF)
1529  0498  86          	add	a, (hl)
1530  0499  4F          	ld	c,a
1531  049A  3E 00       	ld	a,+((_state) / 256)
1532  049C  CE 00       	adc	a,0x00
1533  049E  47          	ld	b,a
1534  049F  0A          	ld	a,(bc)
1535  04A0  E6 F7       	and	a,0xf7
1536  04A2  02          	ld	(bc),a
1537  04A3  3E 00       	ld	a,+((_state) & 0xFF)
1538  04A5  86          	add	a, (hl)
1539  04A6  4F          	ld	c,a
1540  04A7  3E 00       	ld	a,+((_state) / 256)
1541  04A9  CE 00       	adc	a,0x00
1542  04AB  47          	ld	b,a
1543  04AC  0A          	ld	a,(bc)
1544  04AD  E6 FB       	and	a,0xfb
1545  04AF  02          	ld	(bc),a
1546  04B0              l_enemy_flip_change_dir_00111:
1547  04B0  33          	inc	sp
1548  04B1  DD E1       	pop	ix
1549  04B3  C9          	ret
1550  04B4              ;	---------------------------------
1551  04B4              ; Function enemy_flip
1552  04B4              ; ---------------------------------
1553  04B4              _enemy_flip:
1554  04B4  CD 00 00    	call	___sdcc_enter_ix
1555  04B7  3B          	dec	sp
1556  04B8  01 00 00    	ld	bc,_spr_timer+0
1557  04BB  2A 00 00    	ld	hl,(_enemies)
1558  04BE  26 00       	ld	h,0x00
1559  04C0  29          	add	hl, hl
1560  04C1  09          	add	hl,bc
1561  04C2  ED 5B 00 00 	ld	de,(_curr_time)
1562  04C6  73          	ld	(hl),e
1563  04C7  23          	inc	hl
1564  04C8  72          	ld	(hl),d
1565  04C9  2A 00 00    	ld	hl,(_enemies)
1566  04CC  26 00       	ld	h,0x00
1567  04CE  01 00 00    	ld	bc,_state
1568  04D1  09          	add	hl,bc
1569  04D2  7E          	ld	a,(hl)
1570  04D3  EE 01       	xor	a,0x01
1571  04D5  77          	ld	(hl),a
1572  04D6  2A 00 00    	ld	hl,(_enemies)
1573  04D9  26 00       	ld	h,0x00
1574  04DB  01 00 00    	ld	bc,_state
1575  04DE  09          	add	hl,bc
1576  04DF  7E          	ld	a,(hl)
1577  04E0  E6 FD       	and	a,0xfd
1578  04E2  77          	ld	(hl),a
1579  04E3  2A 00 00    	ld	hl,(_enemies)
1580  04E6  26 00       	ld	h,0x00
1581  04E8  01 00 00    	ld	bc,_state
1582  04EB  09          	add	hl,bc
1583  04EC  7E          	ld	a,(hl)
1584  04ED  EE 10       	xor	a,0x10
1585  04EF  77          	ld	(hl),a
1586  04F0  2A 00 00    	ld	hl,(_enemies)
1587  04F3  26 00       	ld	h,0x00
1588  04F5  01 00 00    	ld	bc,_state
1589  04F8  09          	add	hl,bc
1590  04F9  7E          	ld	a,(hl)
1591  04FA  E6 7F       	and	a,0x7f
1592  04FC  77          	ld	(hl),a
1593  04FD  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1594  04FF  21 00 00    	ld	hl,_enemies
1595  0502  86          	add	a, (hl)
1596  0503  4F          	ld	c,a
1597  0504  3E 00       	ld	a,+((_jump_lin) / 256)
1598  0506  CE 00       	adc	a,0x00
1599  0508  47          	ld	b,a
1600  0509  3E 00       	ld	a,+((_lin) & 0xFF)
1601  050B  86          	add	a, (hl)
1602  050C  5F          	ld	e,a
1603  050D  3E 00       	ld	a,+((_lin) / 256)
1604  050F  CE 00       	adc	a,0x00
1605  0511  57          	ld	d,a
1606  0512  1A          	ld	a,(de)
1607  0513  02          	ld	(bc),a
1608  0514  3E 00       	ld	a,+((_state) & 0xFF)
1609  0516  86          	add	a, (hl)
1610  0517  4F          	ld	c,a
1611  0518  3E 00       	ld	a,+((_state) / 256)
1612  051A  CE 00       	adc	a,0x00
1613  051C  47          	ld	b,a
1614  051D  0A          	ld	a,(bc)
1615  051E  DD 77 FF    	ld	(ix-1),a
1616  0521  CB 67       	bit	4,a
1617  0523  28 28       	jr	Z,l_enemy_flip_00105
1618  0525  21 00 00    	ld	hl,_ay_effect_02
1619  0528  CD 00 00    	call	_ay_fx_play
1620  052B  AF          	xor	a, a
1621  052C  F5          	push	af
1622  052D  33          	inc	sp
1623  052E  CD BF 03    	call	_enemy_flip_change_dir
1624  0531  33          	inc	sp
1625  0532  3A 00 00    	ld	a,(_enemies)
1626  0535  C6 00       	add	a,+((_tile) & 0xFF)
1627  0537  4F          	ld	c,a
1628  0538  3E 00       	ld	a,+((_tile) / 256)
1629  053A  CE 00       	adc	a,0x00
1630  053C  47          	ld	b,a
1631  053D  DD 7E 04    	ld	a,(ix+4)
1632  0540  C6 06       	add	a,0x06
1633  0542  02          	ld	(bc),a
1634  0543  21 01 00    	ld	hl,0x0001
1635  0546  E5          	push	hl
1636  0547  CD 00 00    	call	_player_score_add
1637  054A  F1          	pop	af
1638  054B  18 4C       	jr	l_enemy_flip_00107
1639  054D              l_enemy_flip_00105:
1640  054D  2A 00 00    	ld	hl,(_enemies)
1641  0550  26 00       	ld	h,0x00
1642  0552  11 00 00    	ld	de,_state_a
1643  0555  19          	add	hl,de
1644  0556  5E          	ld	e, (hl)
1645  0557  DD 7E FF    	ld	a,(ix-1)
1646  055A  CB D7       	set	2, a
1647  055C  CB 63       	bit	4, e
1648  055E  28 12       	jr	Z,l_enemy_flip_00102
1649  0560  02          	ld	(bc),a
1650  0561  3A 00 00    	ld	a,(_enemies)
1651  0564  C6 00       	add	a,+((_state) & 0xFF)
1652  0566  4F          	ld	c,a
1653  0567  3E 00       	ld	a,+((_state) / 256)
1654  0569  CE 00       	adc	a,0x00
1655  056B  47          	ld	b,a
1656  056C  0A          	ld	a,(bc)
1657  056D  E6 F7       	and	a,0xf7
1658  056F  02          	ld	(bc),a
1659  0570  18 10       	jr	l_enemy_flip_00103
1660  0572              l_enemy_flip_00102:
1661  0572  02          	ld	(bc),a
1662  0573  3A 00 00    	ld	a,(_enemies)
1663  0576  C6 00       	add	a,+((_state) & 0xFF)
1664  0578  4F          	ld	c,a
1665  0579  3E 00       	ld	a,+((_state) / 256)
1666  057B  CE 00       	adc	a,0x00
1667  057D  47          	ld	b,a
1668  057E  0A          	ld	a,(bc)
1669  057F  E6 F7       	and	a,0xf7
1670  0581  02          	ld	(bc),a
1671  0582              l_enemy_flip_00103:
1672  0582  3E 00       	ld	a,+((_tile) & 0xFF)
1673  0584  21 00 00    	ld	hl,_enemies
1674  0587  86          	add	a, (hl)
1675  0588  4F          	ld	c,a
1676  0589  3E 00       	ld	a,+((_tile) / 256)
1677  058B  CE 00       	adc	a,0x00
1678  058D  47          	ld	b,a
1679  058E  7E          	ld	a,(hl)
1680  058F  C5          	push	bc
1681  0590  F5          	push	af
1682  0591  33          	inc	sp
1683  0592  CD 00 00    	call	_spr_tile
1684  0595  33          	inc	sp
1685  0596  C1          	pop	bc
1686  0597  7D          	ld	a, l
1687  0598  02          	ld	(bc),a
1688  0599              l_enemy_flip_00107:
1689  0599  33          	inc	sp
1690  059A  DD E1       	pop	ix
1691  059C  C9          	ret
1692  059D              ;	---------------------------------
1693  059D              ; Function enemy_flip_sidestepper
1694  059D              ; ---------------------------------
1695  059D              _enemy_flip_sidestepper:
1696  059D  CD 00 00    	call	___sdcc_enter_ix
1697  05A0  01 00 00    	ld	bc,_state+0
1698  05A3  2A 00 00    	ld	hl,(_enemies)
1699  05A6  26 00       	ld	h,0x00
1700  05A8  09          	add	hl,bc
1701  05A9  CB 76       	bit	6,(hl)
1702  05AB  28 0D       	jr	Z,l_enemy_flip_sidestepper_00102
1703  05AD  DD 6E 04    	ld	l,(ix+4)
1704  05B0  DD 66 05    	ld	h,(ix+5)
1705  05B3  E5          	push	hl
1706  05B4  CD B4 04    	call	_enemy_flip
1707  05B7  F1          	pop	af
1708  05B8  18 56       	jr	l_enemy_flip_sidestepper_00104
1709  05BA              l_enemy_flip_sidestepper_00102:
1710  05BA  C5          	push	bc
1711  05BB  3E 01       	ld	a,0x01
1712  05BD  F5          	push	af
1713  05BE  33          	inc	sp
1714  05BF  CD BF 03    	call	_enemy_flip_change_dir
1715  05C2  33          	inc	sp
1716  05C3  C1          	pop	bc
1717  05C4  79          	ld	a,c
1718  05C5  21 00 00    	ld	hl,_enemies
1719  05C8  86          	add	a, (hl)
1720  05C9  5F          	ld	e,a
1721  05CA  78          	ld	a,b
1722  05CB  CE 00       	adc	a,0x00
1723  05CD  57          	ld	d,a
1724  05CE  1A          	ld	a,(de)
1725  05CF  EE 01       	xor	a,0x01
1726  05D1  12          	ld	(de),a
1727  05D2  79          	ld	a,c
1728  05D3  86          	add	a, (hl)
1729  05D4  5F          	ld	e,a
1730  05D5  78          	ld	a,b
1731  05D6  CE 00       	adc	a,0x00
1732  05D8  57          	ld	d,a
1733  05D9  1A          	ld	a,(de)
1734  05DA  E6 FD       	and	a,0xfd
1735  05DC  12          	ld	(de),a
1736  05DD  79          	ld	a,c
1737  05DE  86          	add	a, (hl)
1738  05DF  4F          	ld	c,a
1739  05E0  78          	ld	a,b
1740  05E1  CE 00       	adc	a,0x00
1741  05E3  47          	ld	b,a
1742  05E4  0A          	ld	a,(bc)
1743  05E5  CB F7       	set	6, a
1744  05E7  02          	ld	(bc),a
1745  05E8  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1746  05EA  86          	add	a, (hl)
1747  05EB  4F          	ld	c,a
1748  05EC  3E 00       	ld	a,+((_jump_lin) / 256)
1749  05EE  CE 00       	adc	a,0x00
1750  05F0  47          	ld	b,a
1751  05F1  3E 00       	ld	a,+((_lin) & 0xFF)
1752  05F3  86          	add	a, (hl)
1753  05F4  5F          	ld	e,a
1754  05F5  3E 00       	ld	a,+((_lin) / 256)
1755  05F7  CE 00       	adc	a,0x00
1756  05F9  57          	ld	d,a
1757  05FA  1A          	ld	a,(de)
1758  05FB  02          	ld	(bc),a
1759  05FC  3E 00       	ld	a,+((_tile) & 0xFF)
1760  05FE  86          	add	a, (hl)
1761  05FF  4F          	ld	c,a
1762  0600  3E 00       	ld	a,+((_tile) / 256)
1763  0602  CE 00       	adc	a,0x00
1764  0604  47          	ld	b,a
1765  0605  7E          	ld	a,(hl)
1766  0606  C5          	push	bc
1767  0607  F5          	push	af
1768  0608  33          	inc	sp
1769  0609  CD 00 00    	call	_spr_tile
1770  060C  33          	inc	sp
1771  060D  C1          	pop	bc
1772  060E  7D          	ld	a, l
1773  060F  02          	ld	(bc),a
1774  0610              l_enemy_flip_sidestepper_00104:
1775  0610  DD E1       	pop	ix
1776  0612  C9          	ret
1777  0613              ;	---------------------------------
1778  0613              ; Function enemy_turn
1779  0613              ; ---------------------------------
1780  0613              _enemy_turn:
1781  0613  21 00 00    	ld	hl,_sprite
1782  0616  36 00       	ld	(hl),0x00
1783  0618              l_enemy_turn_00124:
1784  0618  2A 00 00    	ld	hl,(_sprite)
1785  061B  26 00       	ld	h,0x00
1786  061D  01 00 00    	ld	bc,_class
1787  0620  09          	add	hl,bc
1788  0621  7E          	ld	a,(hl)
1789  0622  4F          	ld	c,a
1790  0623  B7          	or	a,a
1791  0624  CA 34 07    	jp	Z,l_enemy_turn_00122
1792  0627  3A 00 00    	ld	a,(_sprite)
1793  062A  5F          	ld	e,a
1794  062B  16 00       	ld	d,0x00
1795  062D  21 00 00    	ld	hl,_lin
1796  0630  19          	add	hl,de
1797  0631  7E          	ld	a,(hl)
1798  0632  32 00 00    	ld	(_s_lin0),a
1799  0635  2A 00 00    	ld	hl,(_sprite)
1800  0638  26 00       	ld	h,0x00
1801  063A  11 00 00    	ld	de,_col
1802  063D  19          	add	hl,de
1803  063E  7E          	ld	a,(hl)
1804  063F  32 00 00    	ld	(_s_col0),a
1805  0642  2A 00 00    	ld	hl,(_sprite)
1806  0645  26 00       	ld	h,0x00
1807  0647  11 00 00    	ld	de,_tile
1808  064A  19          	add	hl,de
1809  064B  46          	ld	b, (hl)
1810  064C  3A 00 00    	ld	a,(_sprite)
1811  064F  5F          	ld	e,a
1812  0650  16 00       	ld	d,0x00
1813  0652  21 00 00    	ld	hl,_colint
1814  0655  19          	add	hl,de
1815  0656  7E          	ld	a,(hl)
1816  0657  80          	add	a,b
1817  0658  32 00 00    	ld	(_s_tile0),a
1818  065B  2A 00 00    	ld	hl,(_sprite)
1819  065E  26 00       	ld	h,0x00
1820  0660  11 00 00    	ld	de,_state
1821  0663  19          	add	hl,de
1822  0664  7E          	ld	a,(hl)
1823  0665  21 00 00    	ld	hl,_s_state
1824  0668  77          	ld	(hl),a
1825  0669  E6 01       	and	a,0x01
1826  066B  7E          	ld	a,(hl)
1827  066C  E6 20       	and	a,0x20
1828  066E  28 11       	jr	Z,l_enemy_turn_00102
1829  0670  7E          	ld	a,(hl)
1830  0671  E6 01       	and	a,0x01
1831  0673  20 0C       	jr	NZ,l_enemy_turn_00102
1832  0675  3A 00 00    	ld	a,(_sprite)
1833  0678  F5          	push	af
1834  0679  33          	inc	sp
1835  067A  CD 00 00    	call	_spr_killed
1836  067D  33          	inc	sp
1837  067E  C3 34 07    	jp	l_enemy_turn_00122
1838  0681              l_enemy_turn_00102:
1839  0681  3A 00 00    	ld	a,(_s_state)
1840  0684  E6 10       	and	a,0x10
1841  0686  28 57       	jr	Z,l_enemy_turn_00109
1842  0688  21 00 00    	ld	hl,_s_state
1843  068B  7E          	ld	a,(hl)
1844  068C  E6 02       	and	a,0x02
1845  068E  20 4F       	jr	NZ,l_enemy_turn_00109
1846  0690  7E          	ld	a,(hl)
1847  0691  E6 01       	and	a,0x01
1848  0693  20 4A       	jr	NZ,l_enemy_turn_00109
1849  0695  2A 00 00    	ld	hl,(_sprite)
1850  0698  26 00       	ld	h,0x00
1851  069A  29          	add	hl, hl
1852  069B  11 00 00    	ld	de,_last_time
1853  069E  19          	add	hl,de
1854  069F  4E          	ld	c,(hl)
1855  06A0  23          	inc	hl
1856  06A1  46          	ld	b,(hl)
1857  06A2  21 08 00    	ld	hl,0x0008
1858  06A5  E5          	push	hl
1859  06A6  C5          	push	bc
1860  06A7  CD 00 00    	call	_game_check_time
1861  06AA  F1          	pop	af
1862  06AB  F1          	pop	af
1863  06AC  7D          	ld	a,l
1864  06AD  B7          	or	a, a
1865  06AE  CA 34 07    	jp	Z,l_enemy_turn_00122
1866  06B1  2A 00 00    	ld	hl,(_sprite)
1867  06B4  26 00       	ld	h,0x00
1868  06B6  29          	add	hl,hl
1869  06B7  01 00 00    	ld	bc,_last_time
1870  06BA  09          	add	hl,bc
1871  06BB  ED 5B 00 00 	ld	de,(_curr_time)
1872  06BF  73          	ld	(hl),e
1873  06C0  23          	inc	hl
1874  06C1  72          	ld	(hl),d
1875  06C2  CD A5 0C    	call	_enemy_standard_hit
1876  06C5  2A 00 00    	ld	hl,(_sprite)
1877  06C8  26 00       	ld	h,0x00
1878  06CA  01 00 00    	ld	bc,_colint
1879  06CD  09          	add	hl,bc
1880  06CE  34          	inc	(hl)
1881  06CF  7E          	ld	a,(hl)
1882  06D0  4D          	ld	c,l
1883  06D1  44          	ld	b,h
1884  06D2  5F          	ld	e,a
1885  06D3  3E 02       	ld	a,0x02
1886  06D5  93          	sub	a, e
1887  06D6  30 02       	jr	NC,l_enemy_turn_00105
1888  06D8  AF          	xor	a, a
1889  06D9  02          	ld	(bc),a
1890  06DA              l_enemy_turn_00105:
1891  06DA  CD 00 00    	call	_spr_redraw
1892  06DD  18 55       	jr	l_enemy_turn_00122
1893  06DF              l_enemy_turn_00109:
1894  06DF  79          	ld	a,c
1895  06E0  D6 07       	sub	a,0x07
1896  06E2  38 3B       	jr	C,l_enemy_turn_00118
1897  06E4  3E 0C       	ld	a,0x0c
1898  06E6  91          	sub	a, c
1899  06E7  38 36       	jr	C,l_enemy_turn_00118
1900  06E9  79          	ld	a,c
1901  06EA  C6 F9       	add	a,0xf9
1902  06EC  5F          	ld	e,a
1903  06ED  16 00       	ld	d,0x00
1904  06EF  21 F5 06    	ld	hl,l_enemy_turn_00177
1905  06F2  19          	add	hl,de
1906  06F3  19          	add	hl,de
1907  06F4  E9          	jp	(hl)
1908  06F5              l_enemy_turn_00177:
1909  06F5  18 19       	jr	l_enemy_turn_00115
1910  06F7  18 1C       	jr	l_enemy_turn_00116
1911  06F9  18 10       	jr	l_enemy_turn_00114
1912  06FB  18 04       	jr	l_enemy_turn_00112
1913  06FD  18 07       	jr	l_enemy_turn_00113
1914  06FF  18 19       	jr	l_enemy_turn_00117
1915  0701              l_enemy_turn_00112:
1916  0701  CD 50 09    	call	_enemy_fireball_red
1917  0704  18 1C       	jr	l_enemy_turn_00119
1918  0706              l_enemy_turn_00113:
1919  0706  CD 24 0A    	call	_enemy_fireball_green
1920  0709  18 17       	jr	l_enemy_turn_00119
1921  070B              l_enemy_turn_00114:
1922  070B  CD CD 0A    	call	_enemy_fighterfly
1923  070E  18 12       	jr	l_enemy_turn_00119
1924  0710              l_enemy_turn_00115:
1925  0710  CD AA 07    	call	_enemy_slipice
1926  0713  18 0D       	jr	l_enemy_turn_00119
1927  0715              l_enemy_turn_00116:
1928  0715  CD 00 00    	call	_enemy_coin1
1929  0718  18 08       	jr	l_enemy_turn_00119
1930  071A              l_enemy_turn_00117:
1931  071A  CD 42 00    	call	_enemy_coin2
1932  071D  18 03       	jr	l_enemy_turn_00119
1933  071F              l_enemy_turn_00118:
1934  071F  CD 3F 07    	call	_enemy_standard
1935  0722              l_enemy_turn_00119:
1936  0722  CD 00 00    	call	_spr_redraw
1937  0725  3A 00 00    	ld	a,(_sprite)
1938  0728  C6 00       	add	a,+((_state) & 0xFF)
1939  072A  4F          	ld	c,a
1940  072B  3E 00       	ld	a,+((_state) / 256)
1941  072D  CE 00       	adc	a,0x00
1942  072F  47          	ld	b,a
1943  0730  3A 00 00    	ld	a,(_s_state)
1944  0733  02          	ld	(bc),a
1945  0734              l_enemy_turn_00122:
1946  0734  21 00 00    	ld	hl,_sprite
1947  0737  34          	inc	(hl)
1948  0738  7E          	ld	a,(hl)
1949  0739  D6 06       	sub	a,0x06
1950  073B  DA 18 06    	jp	C,l_enemy_turn_00124
1951  073E  C9          	ret
1952  073F              ;	---------------------------------
1953  073F              ; Function enemy_standard
1954  073F              ; ---------------------------------
1955  073F              _enemy_standard:
1956  073F  21 00 00    	ld	hl,_sprite
1957  0742  E5          	push	hl
1958  0743  CD 00 00    	call	_spr_chktime
1959  0746  F1          	pop	af
1960  0747  7D          	ld	a,l
1961  0748  B7          	or	a, a
1962  0749  28 5E       	jr	Z,l_enemy_standard_00110
1963  074B  3A 00 00    	ld	a,(_s_state)
1964  074E  0F          	rrca
1965  074F  38 12       	jr	C,l_enemy_standard_00106
1966  0751  3A 00 00    	ld	a,(_sprite)
1967  0754  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1968  0756  4F          	ld	c,a
1969  0757  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1970  0759  CE 00       	adc	a,0x00
1971  075B  47          	ld	b,a
1972  075C  AF          	xor	a, a
1973  075D  02          	ld	(bc),a
1974  075E  CD A3 0D    	call	_enemy_walk
1975  0761  18 43       	jr	l_enemy_standard_00107
1976  0763              l_enemy_standard_00106:
1977  0763  3A 00 00    	ld	a,(_sprite)
1978  0766  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1979  0768  4F          	ld	c,a
1980  0769  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1981  076B  CE 00       	adc	a,0x00
1982  076D  47          	ld	b,a
1983  076E  3E 01       	ld	a,0x01
1984  0770  02          	ld	(bc),a
1985  0771  CD 00 00    	call	_spr_move_horizontal
1986  0774  CD 00 00    	call	_spr_move_up
1987  0777  3A 00 00    	ld	a,(_s_state)
1988  077A  0F          	rrca
1989  077B  30 29       	jr	NC,l_enemy_standard_00107
1990  077D  2A 00 00    	ld	hl,(_sprite)
1991  0780  26 00       	ld	h,0x00
1992  0782  5D          	ld	e,l
1993  0783  01 00 00    	ld	bc,_jump_lin
1994  0786  09          	add	hl,bc
1995  0787  4E          	ld	c,(hl)
1996  0788  06 00       	ld	b,0x00
1997  078A  50          	ld	d,b
1998  078B  21 00 00    	ld	hl,_lin
1999  078E  19          	add	hl,de
2000  078F  5E          	ld	e, (hl)
2001  0790  16 00       	ld	d,0x00
2002  0792  79          	ld	a,c
2003  0793  93          	sub	a, e
2004  0794  4F          	ld	c,a
2005  0795  78          	ld	a,b
2006  0796  9A          	sbc	a, d
2007  0797  47          	ld	b,a
2008  0798  79          	ld	a,c
2009  0799  D6 0C       	sub	a,0x0c
2010  079B  78          	ld	a,b
2011  079C  17          	rla
2012  079D  3F          	ccf
2013  079E  1F          	rra
2014  079F  DE 80       	sbc	a,0x80
2015  07A1  38 03       	jr	C,l_enemy_standard_00107
2016  07A3  CD 00 00    	call	_spr_set_fall
2017  07A6              l_enemy_standard_00107:
2018  07A6  CD 9E 0B    	call	_enemy_trip
2019  07A9              l_enemy_standard_00110:
2020  07A9  C9          	ret
2021  07AA              ;	---------------------------------
2022  07AA              ; Function enemy_slipice
2023  07AA              ; ---------------------------------
2024  07AA              _enemy_slipice:
2025  07AA  21 00 00    	ld	hl,_sprite
2026  07AD  E5          	push	hl
2027  07AE  CD 00 00    	call	_spr_chktime
2028  07B1  F1          	pop	af
2029  07B2  7D          	ld	a,l
2030  07B3  B7          	or	a, a
2031  07B4  CA 4F 09    	jp	Z,l_enemy_slipice_00127
2032  07B7  3A 00 00    	ld	a,(_phase_left)
2033  07BA  B7          	or	a, a
2034  07BB  CA 4F 09    	jp	Z,l_enemy_slipice_00127
2035  07BE  3A 00 00    	ld	a,(_sprite)
2036  07C1  C6 00       	add	a,+((_state) & 0xFF)
2037  07C3  4F          	ld	c,a
2038  07C4  3E 00       	ld	a,+((_state) / 256)
2039  07C6  CE 00       	adc	a,0x00
2040  07C8  47          	ld	b,a
2041  07C9  0A          	ld	a,(bc)
2042  07CA  CB 77       	bit	6, a
2043  07CC  CA 71 08    	jp	Z,l_enemy_slipice_00122
2044  07CF  76          	halt
2045  07D0  3E 00       	ld	a,+((_col) & 0xFF)
2046  07D2  21 00 00    	ld	hl,_sprite
2047  07D5  86          	add	a, (hl)
2048  07D6  4F          	ld	c,a
2049  07D7  3E 00       	ld	a,+((_col) / 256)
2050  07D9  CE 00       	adc	a,0x00
2051  07DB  47          	ld	b,a
2052  07DC  0A          	ld	a,(bc)
2053  07DD  57          	ld	d,a
2054  07DE  3E 00       	ld	a,+((_lin) & 0xFF)
2055  07E0  86          	add	a, (hl)
2056  07E1  4F          	ld	c,a
2057  07E2  3E 00       	ld	a,+((_lin) / 256)
2058  07E4  CE 00       	adc	a,0x00
2059  07E6  47          	ld	b,a
2060  07E7  0A          	ld	a,(bc)
2061  07E8  C6 08       	add	a,0x08
2062  07EA  5F          	ld	e,a
2063  07EB  3E 00       	ld	a,+((_colint) & 0xFF)
2064  07ED  86          	add	a, (hl)
2065  07EE  4F          	ld	c,a
2066  07EF  3E 00       	ld	a,+((_colint) / 256)
2067  07F1  CE 00       	adc	a,0x00
2068  07F3  47          	ld	b,a
2069  07F4  0A          	ld	a,(bc)
2070  07F5  C6 8D       	add	a,0x8d
2071  07F7  47          	ld	b,a
2072  07F8  D5          	push	de
2073  07F9  C5          	push	bc
2074  07FA  33          	inc	sp
2075  07FB  CD 00 00    	call	_NIRVANAP_drawT_callee
2076  07FE  2A 00 00    	ld	hl,(_sprite)
2077  0801  26 00       	ld	h,0x00
2078  0803  01 00 00    	ld	bc,_colint
2079  0806  09          	add	hl,bc
2080  0807  34          	inc	(hl)
2081  0808  7E          	ld	a,(hl)
2082  0809  4D          	ld	c,l
2083  080A  44          	ld	b,h
2084  080B  5F          	ld	e,a
2085  080C  3E 02       	ld	a,0x02
2086  080E  93          	sub	a, e
2087  080F  30 02       	jr	NC,l_enemy_slipice_00102
2088  0811  AF          	xor	a, a
2089  0812  02          	ld	(bc),a
2090  0813              l_enemy_slipice_00102:
2091  0813  2A 00 00    	ld	hl,(_sprite)
2092  0816  26 00       	ld	h,0x00
2093  0818  29          	add	hl, hl
2094  0819  11 00 00    	ld	de,_spr_timer
2095  081C  19          	add	hl,de
2096  081D  4E          	ld	c,(hl)
2097  081E  23          	inc	hl
2098  081F  46          	ld	b,(hl)
2099  0820  21 28 00    	ld	hl,0x0028
2100  0823  E5          	push	hl
2101  0824  C5          	push	bc
2102  0825  CD 00 00    	call	_game_check_time
2103  0828  F1          	pop	af
2104  0829  F1          	pop	af
2105  082A  7D          	ld	a,l
2106  082B  B7          	or	a, a
2107  082C  CA 4F 09    	jp	Z,l_enemy_slipice_00127
2108  082F  2A 00 00    	ld	hl,(_sprite)
2109  0832  26 00       	ld	h,0x00
2110  0834  5D          	ld	e,l
2111  0835  01 00 00    	ld	bc,_col
2112  0838  09          	add	hl,bc
2113  0839  46          	ld	b,(hl)
2114  083A  16 00       	ld	d,0x00
2115  083C  21 00 00    	ld	hl,_lin
2116  083F  19          	add	hl,de
2117  0840  7E          	ld	a,(hl)
2118  0841  C6 18       	add	a,0x18
2119  0843  4F          	ld	c,a
2120  0844  C5          	push	bc
2121  0845  CD 00 00    	call	_game_freeze
2122  0848  F1          	pop	af
2123  0849  2A 00 00    	ld	hl,(_sprite)
2124  084C  26 00       	ld	h,0x00
2125  084E  5D          	ld	e,l
2126  084F  01 00 00    	ld	bc,_col
2127  0852  09          	add	hl,bc
2128  0853  46          	ld	b,(hl)
2129  0854  16 00       	ld	d,0x00
2130  0856  21 00 00    	ld	hl,_lin
2131  0859  19          	add	hl,de
2132  085A  7E          	ld	a,(hl)
2133  085B  C6 08       	add	a,0x08
2134  085D  4F          	ld	c,a
2135  085E  C5          	push	bc
2136  085F  AF          	xor	a, a
2137  0860  F5          	push	af
2138  0861  33          	inc	sp
2139  0862  CD 00 00    	call	_NIRVANAP_fillT_callee
2140  0865  3A 00 00    	ld	a,(_sprite)
2141  0868  F5          	push	af
2142  0869  33          	inc	sp
2143  086A  CD 00 00    	call	_spr_destroy
2144  086D  33          	inc	sp
2145  086E  C3 4F 09    	jp	l_enemy_slipice_00127
2146  0871              l_enemy_slipice_00122:
2147  0871  CB 47       	bit	0, a
2148  0873  C2 20 09    	jp	NZ,l_enemy_slipice_00110
2149  0876  CB 4F       	bit	1, a
2150  0878  C2 20 09    	jp	NZ,l_enemy_slipice_00110
2151  087B  2A 00 00    	ld	hl,(_sprite)
2152  087E  26 00       	ld	h,0x00
2153  0880  01 00 00    	ld	bc,_col
2154  0883  09          	add	hl,bc
2155  0884  7E          	ld	a,(hl)
2156  0885  4F          	ld	c,a
2157  0886  D6 07       	sub	a,0x07
2158  0888  28 0A       	jr	Z,l_enemy_slipice_00116
2159  088A  79          	ld	a,c
2160  088B  FE 0F       	cp	a,0x0f
2161  088D  28 05       	jr	Z,l_enemy_slipice_00116
2162  088F  D6 18       	sub	a,0x18
2163  0891  C2 20 09    	jp	NZ,l_enemy_slipice_00110
2164  0894              l_enemy_slipice_00116:
2165  0894  79          	ld	a,c
2166  0895  D6 88       	sub	a,0x88
2167  0897  D2 20 09    	jp	NC,l_enemy_slipice_00110
2168  089A  CD 00 00    	call	_rand
2169  089D  22 00 00    	ld	(_tmp_ui),hl
2170  08A0  3E 00       	ld	a,+((_col) & 0xFF)
2171  08A2  21 00 00    	ld	hl,_sprite
2172  08A5  86          	add	a, (hl)
2173  08A6  4F          	ld	c,a
2174  08A7  3E 00       	ld	a,+((_col) / 256)
2175  08A9  CE 00       	adc	a,0x00
2176  08AB  47          	ld	b,a
2177  08AC  0A          	ld	a,(bc)
2178  08AD  57          	ld	d,a
2179  08AE  4E          	ld	c,(hl)
2180  08AF  06 00       	ld	b,0x00
2181  08B1  21 00 00    	ld	hl,_lin
2182  08B4  09          	add	hl,bc
2183  08B5  7E          	ld	a,(hl)
2184  08B6  C6 10       	add	a,0x10
2185  08B8  5F          	ld	e, a
2186  08B9  D5          	push	de
2187  08BA  CD 00 00    	call	_game_calc_index
2188  08BD  F1          	pop	af
2189  08BE  22 00 00    	ld	(_index1),hl
2190  08C1  01 00 00    	ld	bc,_lvl_1
2191  08C4  09          	add	hl,bc
2192  08C5  7E          	ld	a,(hl)
2193  08C6  D6 12       	sub	a,0x12
2194  08C8  20 51       	jr	NZ,l_enemy_slipice_00106
2195  08CA  21 00 00    	ld	hl,_tmp_ui
2196  08CD  7E          	ld	a,(hl)
2197  08CE  D6 32       	sub	a,0x32
2198  08D0  23          	inc	hl
2199  08D1  7E          	ld	a,(hl)
2200  08D2  DE 33       	sbc	a,0x33
2201  08D4  30 45       	jr	NC,l_enemy_slipice_00106
2202  08D6  21 00 00    	ld	hl,_ay_effect_16
2203  08D9  CD 00 00    	call	_ay_fx_play
2204  08DC  21 00 00    	ld	hl,_s_state
2205  08DF  CB F6       	set	6, (hl)
2206  08E1  01 00 00    	ld	bc,_spr_timer+0
2207  08E4  2A 00 00    	ld	hl,(_sprite)
2208  08E7  26 00       	ld	h,0x00
2209  08E9  29          	add	hl, hl
2210  08EA  09          	add	hl,bc
2211  08EB  ED 5B 00 00 	ld	de,(_curr_time)
2212  08EF  73          	ld	(hl),e
2213  08F0  23          	inc	hl
2214  08F1  72          	ld	(hl),d
2215  08F2  2A 00 00    	ld	hl,(_sprite)
2216  08F5  26 00       	ld	h,0x00
2217  08F7  01 00 00    	ld	bc,_lin
2218  08FA  09          	add	hl,bc
2219  08FB  7E          	ld	a,(hl)
2220  08FC  C6 F8       	add	a,0xf8
2221  08FE  77          	ld	(hl),a
2222  08FF  3E 00       	ld	a,+((_colint) & 0xFF)
2223  0901  21 00 00    	ld	hl,_sprite
2224  0904  86          	add	a, (hl)
2225  0905  4F          	ld	c,a
2226  0906  3E 00       	ld	a,+((_colint) / 256)
2227  0908  CE 00       	adc	a,0x00
2228  090A  47          	ld	b,a
2229  090B  AF          	xor	a, a
2230  090C  02          	ld	(bc),a
2231  090D  3E 00       	ld	a,+((_tile) & 0xFF)
2232  090F  86          	add	a, (hl)
2233  0910  4F          	ld	c,a
2234  0911  3E 00       	ld	a,+((_tile) / 256)
2235  0913  CE 00       	adc	a,0x00
2236  0915  47          	ld	b,a
2237  0916  3E 7B       	ld	a,0x7b
2238  0918  02          	ld	(bc),a
2239  0919  18 08       	jr	l_enemy_slipice_00111
2240  091B              l_enemy_slipice_00106:
2241  091B  CD A3 0D    	call	_enemy_walk
2242  091E  18 03       	jr	l_enemy_slipice_00111
2243  0920              l_enemy_slipice_00110:
2244  0920  CD A3 0D    	call	_enemy_walk
2245  0923              l_enemy_slipice_00111:
2246  0923  2A 00 00    	ld	hl,(_sprite)
2247  0926  26 00       	ld	h,0x00
2248  0928  01 00 00    	ld	bc,_lin
2249  092B  09          	add	hl,bc
2250  092C  7E          	ld	a,(hl)
2251  092D  D6 98       	sub	a,0x98
2252  092F  20 1E       	jr	NZ,l_enemy_slipice_00127
2253  0931  3A 00 00    	ld	a,(_sprite)
2254  0934  4F          	ld	c,a
2255  0935  06 00       	ld	b,0x00
2256  0937  21 00 00    	ld	hl,_col
2257  093A  09          	add	hl,bc
2258  093B  7E          	ld	a,(hl)
2259  093C  4F          	ld	c,a
2260  093D  D6 03       	sub	a,0x03
2261  093F  28 05       	jr	Z,l_enemy_slipice_00117
2262  0941  79          	ld	a,c
2263  0942  D6 1B       	sub	a,0x1b
2264  0944  20 09       	jr	NZ,l_enemy_slipice_00127
2265  0946              l_enemy_slipice_00117:
2266  0946  3A 00 00    	ld	a,(_sprite)
2267  0949  F5          	push	af
2268  094A  33          	inc	sp
2269  094B  CD 00 00    	call	_spr_destroy
2270  094E  33          	inc	sp
2271  094F              l_enemy_slipice_00127:
2272  094F  C9          	ret
2273  0950              ;	---------------------------------
2274  0950              ; Function enemy_fireball_red
2275  0950              ; ---------------------------------
2276  0950              _enemy_fireball_red:
2277  0950  21 00 00    	ld	hl,_sprite
2278  0953  E5          	push	hl
2279  0954  CD 00 00    	call	_spr_chktime
2280  0957  F1          	pop	af
2281  0958  7D          	ld	a,l
2282  0959  B7          	or	a, a
2283  095A  CA 23 0A    	jp	Z,l_enemy_fireball_red_00119
2284  095D  3A 00 00    	ld	a,(_phase_left)
2285  0960  B7          	or	a, a
2286  0961  CA 23 0A    	jp	Z,l_enemy_fireball_red_00119
2287  0964  01 00 00    	ld	bc,_spr_timer+0
2288  0967  2A 00 00    	ld	hl,(_sprite)
2289  096A  26 00       	ld	h,0x00
2290  096C  29          	add	hl, hl
2291  096D  09          	add	hl,bc
2292  096E  5E          	ld	e,(hl)
2293  096F  23          	inc	hl
2294  0970  56          	ld	d,(hl)
2295  0971  C5          	push	bc
2296  0972  21 DC 05    	ld	hl,0x05dc
2297  0975  E5          	push	hl
2298  0976  D5          	push	de
2299  0977  CD 00 00    	call	_game_check_time
2300  097A  F1          	pop	af
2301  097B  F1          	pop	af
2302  097C  C1          	pop	bc
2303  097D  7D          	ld	a,l
2304  097E  B7          	or	a, a
2305  097F  28 16       	jr	Z,l_enemy_fireball_red_00114
2306  0981  2A 00 00    	ld	hl,(_sprite)
2307  0984  26 00       	ld	h,0x00
2308  0986  29          	add	hl, hl
2309  0987  09          	add	hl,bc
2310  0988  ED 5B 00 00 	ld	de,(_curr_time)
2311  098C  73          	ld	(hl),e
2312  098D  23          	inc	hl
2313  098E  72          	ld	(hl),d
2314  098F  21 00 00    	ld	hl,_s_state
2315  0992  CB EE       	set	5, (hl)
2316  0994  C3 23 0A    	jp	l_enemy_fireball_red_00119
2317  0997              l_enemy_fireball_red_00114:
2318  0997  3A 00 00    	ld	a,(_s_state)
2319  099A  0F          	rrca
2320  099B  30 0A       	jr	NC,l_enemy_fireball_red_00104
2321  099D  CD 00 00    	call	_spr_move_up
2322  09A0  21 00 00    	ld	hl,_tmp
2323  09A3  36 00       	ld	(hl),0x00
2324  09A5  18 14       	jr	l_enemy_fireball_red_00105
2325  09A7              l_enemy_fireball_red_00104:
2326  09A7  CD 00 00    	call	_spr_move_down
2327  09AA  21 00 00    	ld	hl,_tmp
2328  09AD  36 10       	ld	(hl),0x10
2329  09AF  3A 00 00    	ld	a,(_s_state)
2330  09B2  E6 02       	and	a,0x02
2331  09B4  20 05       	jr	NZ,l_enemy_fireball_red_00105
2332  09B6  21 00 00    	ld	hl,_s_state
2333  09B9  CB C6       	set	0, (hl)
2334  09BB              l_enemy_fireball_red_00105:
2335  09BB  CD 00 00    	call	_spr_move_horizontal
2336  09BE  3A 00 00    	ld	a,(_s_state)
2337  09C1  E6 04       	and	a,0x04
2338  09C3  28 13       	jr	Z,l_enemy_fireball_red_00107
2339  09C5  3A 00 00    	ld	a,(_sprite)
2340  09C8  C6 00       	add	a,+((_col) & 0xFF)
2341  09CA  4F          	ld	c,a
2342  09CB  3E 00       	ld	a,+((_col) / 256)
2343  09CD  CE 00       	adc	a,0x00
2344  09CF  47          	ld	b,a
2345  09D0  0A          	ld	a,(bc)
2346  09D1  C6 02       	add	a,0x02
2347  09D3  32 00 00    	ld	(_s_col1),a
2348  09D6  18 11       	jr	l_enemy_fireball_red_00108
2349  09D8              l_enemy_fireball_red_00107:
2350  09D8  3A 00 00    	ld	a,(_sprite)
2351  09DB  C6 00       	add	a,+((_col) & 0xFF)
2352  09DD  4F          	ld	c,a
2353  09DE  3E 00       	ld	a,+((_col) / 256)
2354  09E0  CE 00       	adc	a,0x00
2355  09E2  47          	ld	b,a
2356  09E3  0A          	ld	a,(bc)
2357  09E4  C6 FF       	add	a,0xff
2358  09E6  32 00 00    	ld	(_s_col1),a
2359  09E9              l_enemy_fireball_red_00108:
2360  09E9  2A 00 00    	ld	hl,(_sprite)
2361  09EC  26 00       	ld	h,0x00
2362  09EE  01 00 00    	ld	bc,_lin
2363  09F1  09          	add	hl,bc
2364  09F2  4E          	ld	c, (hl)
2365  09F3  3A 00 00    	ld	a, (_s_col1)
2366  09F6  47          	ld	b,a
2367  09F7  C5          	push	bc
2368  09F8  CD 00 00    	call	_game_calc_index
2369  09FB  F1          	pop	af
2370  09FC  22 00 00    	ld	(_index1),hl
2371  09FF  01 00 00    	ld	bc,_lvl_1
2372  0A02  09          	add	hl,bc
2373  0A03  7E          	ld	a,(hl)
2374  0A04  D6 BF       	sub	a,0xbf
2375  0A06  30 14       	jr	NC,l_enemy_fireball_red_00109
2376  0A08  2A 00 00    	ld	hl,(_sprite)
2377  0A0B  26 00       	ld	h,0x00
2378  0A0D  01 00 00    	ld	bc,_col
2379  0A10  09          	add	hl,bc
2380  0A11  7E          	ld	a,(hl)
2381  0A12  4F          	ld	c,a
2382  0A13  D6 02       	sub	a,0x02
2383  0A15  38 05       	jr	C,l_enemy_fireball_red_00109
2384  0A17  3E 1D       	ld	a,0x1d
2385  0A19  91          	sub	a, c
2386  0A1A  30 07       	jr	NC,l_enemy_fireball_red_00119
2387  0A1C              l_enemy_fireball_red_00109:
2388  0A1C  21 00 00    	ld	hl,_s_state
2389  0A1F  7E          	ld	a,(hl)
2390  0A20  EE 0C       	xor	a,+(0x04^0x08)
2391  0A22  77          	ld	(hl),a
2392  0A23              l_enemy_fireball_red_00119:
2393  0A23  C9          	ret
2394  0A24              ;	---------------------------------
2395  0A24              ; Function enemy_fireball_green
2396  0A24              ; ---------------------------------
2397  0A24              _enemy_fireball_green:
2398  0A24  21 00 00    	ld	hl,_sprite
2399  0A27  E5          	push	hl
2400  0A28  CD 00 00    	call	_spr_chktime
2401  0A2B  F1          	pop	af
2402  0A2C  7D          	ld	a,l
2403  0A2D  B7          	or	a, a
2404  0A2E  CA CC 0A    	jp	Z,l_enemy_fireball_green_00114
2405  0A31  3A 00 00    	ld	a,(_phase_left)
2406  0A34  B7          	or	a, a
2407  0A35  CA CC 0A    	jp	Z,l_enemy_fireball_green_00114
2408  0A38  2A 00 00    	ld	hl,(_sprite)
2409  0A3B  26 00       	ld	h,0x00
2410  0A3D  5D          	ld	e,l
2411  0A3E  01 00 00    	ld	bc,_jump_lin
2412  0A41  09          	add	hl,bc
2413  0A42  4E          	ld	c,(hl)
2414  0A43  06 00       	ld	b,0x00
2415  0A45  50          	ld	d,b
2416  0A46  21 00 00    	ld	hl,_lin
2417  0A49  19          	add	hl,de
2418  0A4A  5E          	ld	e, (hl)
2419  0A4B  16 00       	ld	d,0x00
2420  0A4D  79          	ld	a,c
2421  0A4E  93          	sub	a, e
2422  0A4F  6F          	ld	l,a
2423  0A50  78          	ld	a,b
2424  0A51  9A          	sbc	a, d
2425  0A52  67          	ld	h,a
2426  0A53  CD 00 00    	call	_abs_fastcall
2427  0A56  22 00 00    	ld	(_index1),hl
2428  0A59  3E 08       	ld	a,0x08
2429  0A5B  21 00 00    	ld	hl,_index1
2430  0A5E  BE          	cp	a, (hl)
2431  0A5F  3E 00       	ld	a,0x00
2432  0A61  23          	inc	hl
2433  0A62  9E          	sbc	a, (hl)
2434  0A63  30 1C       	jr	NC,l_enemy_fireball_green_00102
2435  0A65  21 00 00    	ld	hl,_s_state
2436  0A68  7E          	ld	a,(hl)
2437  0A69  EE 03       	xor	a,+(0x01^0x02)
2438  0A6B  77          	ld	(hl),a
2439  0A6C  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2440  0A6E  21 00 00    	ld	hl,_sprite
2441  0A71  86          	add	a, (hl)
2442  0A72  4F          	ld	c,a
2443  0A73  3E 00       	ld	a,+((_jump_lin) / 256)
2444  0A75  CE 00       	adc	a,0x00
2445  0A77  47          	ld	b,a
2446  0A78  5E          	ld	e,(hl)
2447  0A79  16 00       	ld	d,0x00
2448  0A7B  21 00 00    	ld	hl,_lin
2449  0A7E  19          	add	hl,de
2450  0A7F  7E          	ld	a,(hl)
2451  0A80  02          	ld	(bc),a
2452  0A81              l_enemy_fireball_green_00102:
2453  0A81  3A 00 00    	ld	a,(_s_state)
2454  0A84  0F          	rrca
2455  0A85  30 08       	jr	NC,l_enemy_fireball_green_00104
2456  0A87  CD 00 00    	call	_spr_move_horizontal
2457  0A8A  CD 00 00    	call	_spr_move_up
2458  0A8D  18 06       	jr	l_enemy_fireball_green_00105
2459  0A8F              l_enemy_fireball_green_00104:
2460  0A8F  CD 00 00    	call	_spr_move_horizontal
2461  0A92  CD 00 00    	call	_spr_move_down
2462  0A95              l_enemy_fireball_green_00105:
2463  0A95  3A 00 00    	ld	a,(_sprite)
2464  0A98  C6 00       	add	a,+((_col) & 0xFF)
2465  0A9A  4F          	ld	c,a
2466  0A9B  3E 00       	ld	a,+((_col) / 256)
2467  0A9D  CE 00       	adc	a,0x00
2468  0A9F  47          	ld	b,a
2469  0AA0  0A          	ld	a,(bc)
2470  0AA1  B7          	or	a, a
2471  0AA2  20 07       	jr	NZ,l_enemy_fireball_green_00110
2472  0AA4  3A 00 00    	ld	a,(_s_state)
2473  0AA7  E6 08       	and	a,0x08
2474  0AA9  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2475  0AAB              l_enemy_fireball_green_00110:
2476  0AAB  D6 1E       	sub	a,0x1e
2477  0AAD  20 1D       	jr	NZ,l_enemy_fireball_green_00114
2478  0AAF  3A 00 00    	ld	a,(_s_state)
2479  0AB2  E6 04       	and	a,0x04
2480  0AB4  28 16       	jr	Z,l_enemy_fireball_green_00114
2481  0AB6              l_enemy_fireball_green_00106:
2482  0AB6  01 00 00    	ld	bc,_spr_timer+0
2483  0AB9  2A 00 00    	ld	hl,(_sprite)
2484  0ABC  26 00       	ld	h,0x00
2485  0ABE  29          	add	hl, hl
2486  0ABF  09          	add	hl,bc
2487  0AC0  ED 5B 00 00 	ld	de,(_curr_time)
2488  0AC4  73          	ld	(hl),e
2489  0AC5  23          	inc	hl
2490  0AC6  72          	ld	(hl),d
2491  0AC7  21 00 00    	ld	hl,_s_state
2492  0ACA  CB EE       	set	5, (hl)
2493  0ACC              l_enemy_fireball_green_00114:
2494  0ACC  C9          	ret
2495  0ACD              ;	---------------------------------
2496  0ACD              ; Function enemy_fighterfly
2497  0ACD              ; ---------------------------------
2498  0ACD              _enemy_fighterfly:
2499  0ACD  21 00 00    	ld	hl,_sprite
2500  0AD0  E5          	push	hl
2501  0AD1  CD 00 00    	call	_spr_chktime
2502  0AD4  F1          	pop	af
2503  0AD5  7D          	ld	a,l
2504  0AD6  B7          	or	a, a
2505  0AD7  CA 9D 0B    	jp	Z,l_enemy_fighterfly_00119
2506  0ADA  3A 00 00    	ld	a,(_s_state)
2507  0ADD  0F          	rrca
2508  0ADE  38 58       	jr	C,l_enemy_fighterfly_00106
2509  0AE0  3A 00 00    	ld	a,(_s_state)
2510  0AE3  E6 02       	and	a,0x02
2511  0AE5  20 51       	jr	NZ,l_enemy_fighterfly_00106
2512  0AE7  CD 00 00    	call	_ay_is_playing
2513  0AEA  7D          	ld	a, l
2514  0AEB  D6 02       	sub	a,0x02
2515  0AED  30 06       	jr	NC,l_enemy_fighterfly_00102
2516  0AEF  21 00 00    	ld	hl,_ay_effect_13
2517  0AF2  CD 00 00    	call	_ay_fx_play
2518  0AF5              l_enemy_fighterfly_00102:
2519  0AF5  2A 00 00    	ld	hl,(_sprite)
2520  0AF8  26 00       	ld	h,0x00
2521  0AFA  29          	add	hl, hl
2522  0AFB  11 00 00    	ld	de,_spr_timer
2523  0AFE  19          	add	hl,de
2524  0AFF  4E          	ld	c,(hl)
2525  0B00  23          	inc	hl
2526  0B01  46          	ld	b,(hl)
2527  0B02  21 1A 00    	ld	hl,0x001a
2528  0B05  E5          	push	hl
2529  0B06  C5          	push	bc
2530  0B07  CD 00 00    	call	_game_check_time
2531  0B0A  F1          	pop	af
2532  0B0B  F1          	pop	af
2533  0B0C  7D          	ld	a,l
2534  0B0D  B7          	or	a, a
2535  0B0E  28 28       	jr	Z,l_enemy_fighterfly_00106
2536  0B10  21 00 00    	ld	hl,_s_state
2537  0B13  CB C6       	set	0, (hl)
2538  0B15  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2539  0B17  21 00 00    	ld	hl,_sprite
2540  0B1A  86          	add	a, (hl)
2541  0B1B  4F          	ld	c,a
2542  0B1C  3E 00       	ld	a,+((_jump_lin) / 256)
2543  0B1E  CE 00       	adc	a,0x00
2544  0B20  47          	ld	b,a
2545  0B21  3E 00       	ld	a,+((_lin) & 0xFF)
2546  0B23  86          	add	a, (hl)
2547  0B24  5F          	ld	e,a
2548  0B25  3E 00       	ld	a,+((_lin) / 256)
2549  0B27  CE 00       	adc	a,0x00
2550  0B29  57          	ld	d,a
2551  0B2A  1A          	ld	a,(de)
2552  0B2B  02          	ld	(bc),a
2553  0B2C  6E          	ld	l, (hl)
2554  0B2D  26 00       	ld	h,0x00
2555  0B2F  29          	add	hl, hl
2556  0B30  11 00 00    	ld	de,_spr_timer
2557  0B33  19          	add	hl,de
2558  0B34  AF          	xor	a, a
2559  0B35  77          	ld	(hl), a
2560  0B36  23          	inc	hl
2561  0B37  77          	ld	(hl), a
2562  0B38              l_enemy_fighterfly_00106:
2563  0B38  3A 00 00    	ld	a,(_s_state)
2564  0B3B  0F          	rrca
2565  0B3C  30 31       	jr	NC,l_enemy_fighterfly_00115
2566  0B3E  2A 00 00    	ld	hl,(_sprite)
2567  0B41  26 00       	ld	h,0x00
2568  0B43  5D          	ld	e,l
2569  0B44  01 00 00    	ld	bc,_jump_lin
2570  0B47  09          	add	hl,bc
2571  0B48  4E          	ld	c,(hl)
2572  0B49  06 00       	ld	b,0x00
2573  0B4B  50          	ld	d,b
2574  0B4C  21 00 00    	ld	hl,_lin
2575  0B4F  19          	add	hl,de
2576  0B50  5E          	ld	e, (hl)
2577  0B51  16 00       	ld	d,0x00
2578  0B53  79          	ld	a,c
2579  0B54  93          	sub	a, e
2580  0B55  4F          	ld	c,a
2581  0B56  78          	ld	a,b
2582  0B57  9A          	sbc	a, d
2583  0B58  47          	ld	b,a
2584  0B59  79          	ld	a,c
2585  0B5A  D6 08       	sub	a,0x08
2586  0B5C  78          	ld	a,b
2587  0B5D  17          	rla
2588  0B5E  3F          	ccf
2589  0B5F  1F          	rra
2590  0B60  DE 80       	sbc	a,0x80
2591  0B62  38 03       	jr	C,l_enemy_fighterfly_00109
2592  0B64  CD 00 00    	call	_spr_set_fall
2593  0B67              l_enemy_fighterfly_00109:
2594  0B67  CD 00 00    	call	_spr_move_horizontal
2595  0B6A  CD 00 00    	call	_spr_move_up
2596  0B6D  18 2B       	jr	l_enemy_fighterfly_00116
2597  0B6F              l_enemy_fighterfly_00115:
2598  0B6F  01 00 00    	ld	bc,_spr_timer+0
2599  0B72  2A 00 00    	ld	hl,(_sprite)
2600  0B75  26 00       	ld	h,0x00
2601  0B77  54          	ld	d,h
2602  0B78  29          	add	hl, hl
2603  0B79  09          	add	hl,bc
2604  0B7A  4D          	ld	c,l
2605  0B7B  44          	ld	b,h
2606  0B7C  5E          	ld	e,(hl)
2607  0B7D  23          	inc	hl
2608  0B7E  7E          	ld	a, (hl)
2609  0B7F  B3          	or	a,e
2610  0B80  20 0B       	jr	NZ,l_enemy_fighterfly_00111
2611  0B82  2A 00 00    	ld	hl,(_curr_time)
2612  0B85  C5          	push	bc
2613  0B86  EB          	ex	de,hl
2614  0B87  C1          	pop	bc
2615  0B88  7B          	ld	a,e
2616  0B89  02          	ld	(bc),a
2617  0B8A  03          	inc	bc
2618  0B8B  7A          	ld	a,d
2619  0B8C  02          	ld	(bc),a
2620  0B8D              l_enemy_fighterfly_00111:
2621  0B8D  3A 00 00    	ld	a,(_s_state)
2622  0B90  E6 02       	and	a,0x02
2623  0B92  28 06       	jr	Z,l_enemy_fighterfly_00116
2624  0B94  CD A3 0D    	call	_enemy_walk
2625  0B97  CD 00 00    	call	_spr_move_horizontal
2626  0B9A              l_enemy_fighterfly_00116:
2627  0B9A  CD 9E 0B    	call	_enemy_trip
2628  0B9D              l_enemy_fighterfly_00119:
2629  0B9D  C9          	ret
2630  0B9E              ;	---------------------------------
2631  0B9E              ; Function enemy_trip
2632  0B9E              ; ---------------------------------
2633  0B9E              _enemy_trip:
2634  0B9E  2A 00 00    	ld	hl,(_sprite)
2635  0BA1  26 00       	ld	h,0x00
2636  0BA3  01 00 00    	ld	bc,_lin
2637  0BA6  09          	add	hl,bc
2638  0BA7  46          	ld	b,(hl)
2639  0BA8  3E 80       	ld	a,0x80
2640  0BAA  90          	sub	a, b
2641  0BAB  D2 A4 0C    	jp	NC,l_enemy_trip_00114
2642  0BAE  21 00 00    	ld	hl,_tmp
2643  0BB1  36 00       	ld	(hl),0x00
2644  0BB3  2A 00 00    	ld	hl,(_sprite)
2645  0BB6  26 00       	ld	h,0x00
2646  0BB8  11 00 00    	ld	de,_col
2647  0BBB  19          	add	hl,de
2648  0BBC  7E          	ld	a,(hl)
2649  0BBD  57          	ld	d,a
2650  0BBE  D6 1B       	sub	a,0x1b
2651  0BC0  20 41       	jr	NZ,l_enemy_trip_00104
2652  0BC2  21 00 00    	ld	hl,_tmp
2653  0BC5  36 01       	ld	(hl),0x01
2654  0BC7  15          	dec	d
2655  0BC8  58          	ld	e,b
2656  0BC9  D5          	push	de
2657  0BCA  AF          	xor	a, a
2658  0BCB  F5          	push	af
2659  0BCC  33          	inc	sp
2660  0BCD  CD 00 00    	call	_NIRVANAP_fillT_callee
2661  0BD0  3E 00       	ld	a,+((_lin) & 0xFF)
2662  0BD2  21 00 00    	ld	hl,_sprite
2663  0BD5  86          	add	a, (hl)
2664  0BD6  4F          	ld	c,a
2665  0BD7  3E 00       	ld	a,+((_lin) / 256)
2666  0BD9  CE 00       	adc	a,0x00
2667  0BDB  47          	ld	b,a
2668  0BDC  3E 10       	ld	a,0x10
2669  0BDE  02          	ld	(bc),a
2670  0BDF  3E 00       	ld	a,+((_col) & 0xFF)
2671  0BE1  86          	add	a, (hl)
2672  0BE2  4F          	ld	c,a
2673  0BE3  3E 00       	ld	a,+((_col) / 256)
2674  0BE5  CE 00       	adc	a,0x00
2675  0BE7  47          	ld	b,a
2676  0BE8  3E 1A       	ld	a,0x1a
2677  0BEA  02          	ld	(bc),a
2678  0BEB  21 00 00    	ld	hl,_s_state
2679  0BEE  CB DE       	set	3, (hl)
2680  0BF0  CB 96       	res	2, (hl)
2681  0BF2  CD 00 00    	call	_sound_enter_enemy
2682  0BF5  CD 00 00    	call	_ay_is_playing
2683  0BF8  7D          	ld	a, l
2684  0BF9  D6 02       	sub	a,0x02
2685  0BFB  30 06       	jr	NC,l_enemy_trip_00104
2686  0BFD  21 00 00    	ld	hl,_ay_effect_04
2687  0C00  CD 00 00    	call	_ay_fx_play
2688  0C03              l_enemy_trip_00104:
2689  0C03  2A 00 00    	ld	hl,(_sprite)
2690  0C06  26 00       	ld	h,0x00
2691  0C08  01 00 00    	ld	bc,_col
2692  0C0B  09          	add	hl,bc
2693  0C0C  7E          	ld	a,(hl)
2694  0C0D  47          	ld	b,a
2695  0C0E  D6 03       	sub	a,0x03
2696  0C10  20 4A       	jr	NZ,l_enemy_trip_00108
2697  0C12  21 00 00    	ld	hl,_tmp
2698  0C15  36 01       	ld	(hl),0x01
2699  0C17  04          	inc	b
2700  0C18  2A 00 00    	ld	hl,(_sprite)
2701  0C1B  26 00       	ld	h,0x00
2702  0C1D  11 00 00    	ld	de,_lin
2703  0C20  19          	add	hl,de
2704  0C21  4E          	ld	c, (hl)
2705  0C22  C5          	push	bc
2706  0C23  AF          	xor	a, a
2707  0C24  F5          	push	af
2708  0C25  33          	inc	sp
2709  0C26  CD 00 00    	call	_NIRVANAP_fillT_callee
2710  0C29  3E 00       	ld	a,+((_lin) & 0xFF)
2711  0C2B  21 00 00    	ld	hl,_sprite
2712  0C2E  86          	add	a, (hl)
2713  0C2F  4F          	ld	c,a
2714  0C30  3E 00       	ld	a,+((_lin) / 256)
2715  0C32  CE 00       	adc	a,0x00
2716  0C34  47          	ld	b,a
2717  0C35  3E 10       	ld	a,0x10
2718  0C37  02          	ld	(bc),a
2719  0C38  3E 00       	ld	a,+((_col) & 0xFF)
2720  0C3A  86          	add	a, (hl)
2721  0C3B  4F          	ld	c,a
2722  0C3C  3E 00       	ld	a,+((_col) / 256)
2723  0C3E  CE 00       	adc	a,0x00
2724  0C40  47          	ld	b,a
2725  0C41  3E 04       	ld	a,0x04
2726  0C43  02          	ld	(bc),a
2727  0C44  21 00 00    	ld	hl,_s_state
2728  0C47  CB D6       	set	2, (hl)
2729  0C49  CB 9E       	res	3, (hl)
2730  0C4B  CD 00 00    	call	_sound_enter_enemy
2731  0C4E  CD 00 00    	call	_ay_is_playing
2732  0C51  7D          	ld	a, l
2733  0C52  D6 02       	sub	a,0x02
2734  0C54  30 06       	jr	NC,l_enemy_trip_00108
2735  0C56  21 00 00    	ld	hl,_ay_effect_04
2736  0C59  CD 00 00    	call	_ay_fx_play
2737  0C5C              l_enemy_trip_00108:
2738  0C5C  3A 00 00    	ld	a,(_tmp)
2739  0C5F  B7          	or	a, a
2740  0C60  C8          	ret	Z
2741  0C61  2A 00 00    	ld	hl,(_sprite)
2742  0C64  26 00       	ld	h,0x00
2743  0C66  01 00 00    	ld	bc,_class
2744  0C69  09          	add	hl,bc
2745  0C6A  4E          	ld	c,(hl)
2746  0C6B  3E 03       	ld	a,0x03
2747  0C6D  91          	sub	a,c
2748  0C6E  D8          	ret	C
2749  0C6F  3E 00       	ld	a,+((_colint) & 0xFF)
2750  0C71  21 00 00    	ld	hl,_sprite
2751  0C74  86          	add	a, (hl)
2752  0C75  4F          	ld	c,a
2753  0C76  3E 00       	ld	a,+((_colint) / 256)
2754  0C78  CE 00       	adc	a,0x00
2755  0C7A  47          	ld	b,a
2756  0C7B  AF          	xor	a, a
2757  0C7C  02          	ld	(bc),a
2758  0C7D  3E 00       	ld	a,+((_state) & 0xFF)
2759  0C7F  86          	add	a, (hl)
2760  0C80  4F          	ld	c,a
2761  0C81  3E 00       	ld	a,+((_state) / 256)
2762  0C83  CE 00       	adc	a,0x00
2763  0C85  47          	ld	b,a
2764  0C86  3A 00 00    	ld	a,(_s_state)
2765  0C89  02          	ld	(bc),a
2766  0C8A  3E 00       	ld	a,+((_tile) & 0xFF)
2767  0C8C  21 00 00    	ld	hl,_sprite
2768  0C8F  86          	add	a, (hl)
2769  0C90  4F          	ld	c,a
2770  0C91  3E 00       	ld	a,+((_tile) / 256)
2771  0C93  CE 00       	adc	a,0x00
2772  0C95  47          	ld	b,a
2773  0C96  7E          	ld	a,(hl)
2774  0C97  C5          	push	bc
2775  0C98  F5          	push	af
2776  0C99  33          	inc	sp
2777  0C9A  CD 00 00    	call	_spr_tile
2778  0C9D  33          	inc	sp
2779  0C9E  C1          	pop	bc
2780  0C9F  7D          	ld	a, l
2781  0CA0  02          	ld	(bc),a
2782  0CA1  CD 00 00    	call	_spr_set_fall
2783  0CA4              l_enemy_trip_00114:
2784  0CA4  C9          	ret
2785  0CA5              ;	---------------------------------
2786  0CA5              ; Function enemy_standard_hit
2787  0CA5              ; ---------------------------------
2788  0CA5              _enemy_standard_hit:
2789  0CA5  3A 00 00    	ld	a,(_sprite)
2790  0CA8  C6 00       	add	a,+((_state) & 0xFF)
2791  0CAA  4F          	ld	c,a
2792  0CAB  3E 00       	ld	a,+((_state) / 256)
2793  0CAD  CE 00       	adc	a,0x00
2794  0CAF  47          	ld	b,a
2795  0CB0  0A          	ld	a,(bc)
2796  0CB1  07          	rlca
2797  0CB2  38 23       	jr	C,l_enemy_standard_hit_00102
2798  0CB4  2A 00 00    	ld	hl,(_game_time_flipped)
2799  0CB7  11 CE FF    	ld	de,0xffce
2800  0CBA  19          	add	hl,de
2801  0CBB  EB          	ex	de,hl
2802  0CBC  2A 00 00    	ld	hl,(_sprite)
2803  0CBF  26 00       	ld	h,0x00
2804  0CC1  29          	add	hl, hl
2805  0CC2  01 00 00    	ld	bc,_spr_timer
2806  0CC5  09          	add	hl,bc
2807  0CC6  4E          	ld	c,(hl)
2808  0CC7  23          	inc	hl
2809  0CC8  46          	ld	b,(hl)
2810  0CC9  D5          	push	de
2811  0CCA  C5          	push	bc
2812  0CCB  CD 00 00    	call	_game_check_time
2813  0CCE  F1          	pop	af
2814  0CCF  F1          	pop	af
2815  0CD0  7D          	ld	a,l
2816  0CD1  B7          	or	a, a
2817  0CD2  28 03       	jr	Z,l_enemy_standard_hit_00102
2818  0CD4  CD 12 0D    	call	_enemy_evolve
2819  0CD7              l_enemy_standard_hit_00102:
2820  0CD7  01 00 00    	ld	bc,_spr_timer+0
2821  0CDA  2A 00 00    	ld	hl,(_sprite)
2822  0CDD  26 00       	ld	h,0x00
2823  0CDF  29          	add	hl, hl
2824  0CE0  09          	add	hl,bc
2825  0CE1  4E          	ld	c,(hl)
2826  0CE2  23          	inc	hl
2827  0CE3  46          	ld	b,(hl)
2828  0CE4  2A 00 00    	ld	hl,(_game_time_flipped)
2829  0CE7  E5          	push	hl
2830  0CE8  C5          	push	bc
2831  0CE9  CD 00 00    	call	_game_check_time
2832  0CEC  F1          	pop	af
2833  0CED  F1          	pop	af
2834  0CEE  7D          	ld	a,l
2835  0CEF  B7          	or	a, a
2836  0CF0  C8          	ret	Z
2837  0CF1  3A 00 00    	ld	a,(_sprite)
2838  0CF4  32 00 00    	ld	(_enemies),a
2839  0CF7  F5          	push	af
2840  0CF8  33          	inc	sp
2841  0CF9  CD 00 00    	call	_spr_tile
2842  0CFC  33          	inc	sp
2843  0CFD  E5          	push	hl
2844  0CFE  CD B4 04    	call	_enemy_flip
2845  0D01  F1          	pop	af
2846  0D02  3A 00 00    	ld	a,(_sprite)
2847  0D05  C6 00       	add	a,+((_state) & 0xFF)
2848  0D07  4F          	ld	c,a
2849  0D08  3E 00       	ld	a,+((_state) / 256)
2850  0D0A  CE 00       	adc	a,0x00
2851  0D0C  47          	ld	b,a
2852  0D0D  0A          	ld	a,(bc)
2853  0D0E  32 00 00    	ld	(_s_state),a
2854  0D11  C9          	ret
2855  0D12              ;	---------------------------------
2856  0D12              ; Function enemy_evolve
2857  0D12              ; ---------------------------------
2858  0D12              _enemy_evolve:
2859  0D12  2A 00 00    	ld	hl,(_sprite)
2860  0D15  26 00       	ld	h,0x00
2861  0D17  01 00 00    	ld	bc,_class
2862  0D1A  09          	add	hl,bc
2863  0D1B  7E          	ld	a,(hl)
2864  0D1C  4F          	ld	c,a
2865  0D1D  3D          	dec	a
2866  0D1E  20 0F       	jr	NZ,l_enemy_evolve_00104
2867  0D20  21 3C 00    	ld	hl,0x003c
2868  0D23  E5          	push	hl
2869  0D24  3E 02       	ld	a,0x02
2870  0D26  F5          	push	af
2871  0D27  33          	inc	sp
2872  0D28  CD 71 0D    	call	_enemy_upgrade
2873  0D2B  F1          	pop	af
2874  0D2C  33          	inc	sp
2875  0D2D  18 12       	jr	l_enemy_evolve_00105
2876  0D2F              l_enemy_evolve_00104:
2877  0D2F  79          	ld	a,c
2878  0D30  D6 02       	sub	a,0x02
2879  0D32  20 0D       	jr	NZ,l_enemy_evolve_00105
2880  0D34  21 48 00    	ld	hl,0x0048
2881  0D37  E5          	push	hl
2882  0D38  3E 03       	ld	a,0x03
2883  0D3A  F5          	push	af
2884  0D3B  33          	inc	sp
2885  0D3C  CD 71 0D    	call	_enemy_upgrade
2886  0D3F  F1          	pop	af
2887  0D40  33          	inc	sp
2888  0D41              l_enemy_evolve_00105:
2889  0D41  2A 00 00    	ld	hl,(_sprite)
2890  0D44  26 00       	ld	h,0x00
2891  0D46  01 00 00    	ld	bc,_class
2892  0D49  09          	add	hl,bc
2893  0D4A  7E          	ld	a,(hl)
2894  0D4B  4F          	ld	c,a
2895  0D4C  D6 04       	sub	a,0x04
2896  0D4E  20 0F       	jr	NZ,l_enemy_evolve_00109
2897  0D50  21 60 00    	ld	hl,0x0060
2898  0D53  E5          	push	hl
2899  0D54  3E 05       	ld	a,0x05
2900  0D56  F5          	push	af
2901  0D57  33          	inc	sp
2902  0D58  CD 71 0D    	call	_enemy_upgrade
2903  0D5B  F1          	pop	af
2904  0D5C  33          	inc	sp
2905  0D5D  18 11       	jr	l_enemy_evolve_00111
2906  0D5F              l_enemy_evolve_00109:
2907  0D5F  79          	ld	a,c
2908  0D60  D6 05       	sub	a,0x05
2909  0D62  C0          	ret	NZ
2910  0D63  21 6C 00    	ld	hl,0x006c
2911  0D66  E5          	push	hl
2912  0D67  3E 06       	ld	a,0x06
2913  0D69  F5          	push	af
2914  0D6A  33          	inc	sp
2915  0D6B  CD 71 0D    	call	_enemy_upgrade
2916  0D6E  F1          	pop	af
2917  0D6F  33          	inc	sp
2918  0D70              l_enemy_evolve_00111:
2919  0D70  C9          	ret
2920  0D71              ;	---------------------------------
2921  0D71              ; Function enemy_upgrade
2922  0D71              ; ---------------------------------
2923  0D71              _enemy_upgrade:
2924  0D71  CD 00 00    	call	___sdcc_enter_ix
2925  0D74  3E 00       	ld	a,+((_class) & 0xFF)
2926  0D76  21 00 00    	ld	hl,_sprite
2927  0D79  86          	add	a, (hl)
2928  0D7A  4F          	ld	c,a
2929  0D7B  3E 00       	ld	a,+((_class) / 256)
2930  0D7D  CE 00       	adc	a,0x00
2931  0D7F  47          	ld	b,a
2932  0D80  DD 7E 04    	ld	a,(ix+4)
2933  0D83  02          	ld	(bc),a
2934  0D84  3E 00       	ld	a,+((_tile) & 0xFF)
2935  0D86  86          	add	a, (hl)
2936  0D87  4F          	ld	c,a
2937  0D88  3E 00       	ld	a,+((_tile) / 256)
2938  0D8A  CE 00       	adc	a,0x00
2939  0D8C  47          	ld	b,a
2940  0D8D  DD 7E 05    	ld	a,(ix+5)
2941  0D90  C6 06       	add	a,0x06
2942  0D92  02          	ld	(bc),a
2943  0D93  3E 00       	ld	a,+((_state) & 0xFF)
2944  0D95  86          	add	a, (hl)
2945  0D96  4F          	ld	c,a
2946  0D97  3E 00       	ld	a,+((_state) / 256)
2947  0D99  CE 00       	adc	a,0x00
2948  0D9B  47          	ld	b,a
2949  0D9C  0A          	ld	a,(bc)
2950  0D9D  CB FF       	set	7, a
2951  0D9F  02          	ld	(bc),a
2952  0DA0  DD E1       	pop	ix
2953  0DA2  C9          	ret
2954  0DA3              ;	---------------------------------
2955  0DA3              ; Function enemy_walk
2956  0DA3              ; ---------------------------------
2957  0DA3              _enemy_walk:
2958  0DA3  3A 00 00    	ld	a,(_s_state)
2959  0DA6  0F          	rrca
2960  0DA7  38 4A       	jr	C,l_enemy_walk_00106
2961  0DA9  3A 00 00    	ld	a,(_s_state)
2962  0DAC  E6 02       	and	a,0x02
2963  0DAE  20 43       	jr	NZ,l_enemy_walk_00106
2964  0DB0  3A 00 00    	ld	a,(_sprite)
2965  0DB3  C6 00       	add	a,+((_col) & 0xFF)
2966  0DB5  4F          	ld	c,a
2967  0DB6  3E 00       	ld	a,+((_col) / 256)
2968  0DB8  CE 00       	adc	a,0x00
2969  0DBA  47          	ld	b,a
2970  0DBB  0A          	ld	a,(bc)
2971  0DBC  57          	ld	d,a
2972  0DBD  CB 47       	bit	0,a
2973  0DBF  28 14       	jr	Z,l_enemy_walk_00102
2974  0DC1  3A 00 00    	ld	a,(_s_state)
2975  0DC4  E6 10       	and	a,0x10
2976  0DC6  20 0D       	jr	NZ,l_enemy_walk_00102
2977  0DC8  21 00 00    	ld	hl,0x0000
2978  0DCB  22 00 00    	ld	(_index_d),hl
2979  0DCE  21 00 00    	ld	hl,_tmp
2980  0DD1  36 00       	ld	(hl),0x00
2981  0DD3  18 44       	jr	l_enemy_walk_00107
2982  0DD5              l_enemy_walk_00102:
2983  0DD5  3A 00 00    	ld	a,(_sprite)
2984  0DD8  C6 00       	add	a,+((_lin) & 0xFF)
2985  0DDA  4F          	ld	c,a
2986  0DDB  3E 00       	ld	a,+((_lin) / 256)
2987  0DDD  CE 00       	adc	a,0x00
2988  0DDF  47          	ld	b,a
2989  0DE0  0A          	ld	a,(bc)
2990  0DE1  C6 10       	add	a,0x10
2991  0DE3  5F          	ld	e, a
2992  0DE4  D5          	push	de
2993  0DE5  CD 00 00    	call	_game_calc_index
2994  0DE8  E3          	ex	(sp),hl
2995  0DE9  CD 00 00    	call	_game_check_maze
2996  0DEC  F1          	pop	af
2997  0DED  7D          	ld	a,l
2998  0DEE  32 00 00    	ld	(_tmp),a
2999  0DF1  18 26       	jr	l_enemy_walk_00107
3000  0DF3              l_enemy_walk_00106:
3001  0DF3  3E 00       	ld	a,+((_col) & 0xFF)
3002  0DF5  21 00 00    	ld	hl,_sprite
3003  0DF8  86          	add	a, (hl)
3004  0DF9  4F          	ld	c,a
3005  0DFA  3E 00       	ld	a,+((_col) / 256)
3006  0DFC  CE 00       	adc	a,0x00
3007  0DFE  47          	ld	b,a
3008  0DFF  0A          	ld	a,(bc)
3009  0E00  57          	ld	d,a
3010  0E01  4E          	ld	c,(hl)
3011  0E02  06 00       	ld	b,0x00
3012  0E04  21 00 00    	ld	hl,_lin
3013  0E07  09          	add	hl,bc
3014  0E08  7E          	ld	a,(hl)
3015  0E09  C6 10       	add	a,0x10
3016  0E0B  5F          	ld	e, a
3017  0E0C  D5          	push	de
3018  0E0D  CD 00 00    	call	_game_calc_index
3019  0E10  E3          	ex	(sp),hl
3020  0E11  CD 00 00    	call	_game_check_maze
3021  0E14  F1          	pop	af
3022  0E15  7D          	ld	a,l
3023  0E16  32 00 00    	ld	(_tmp),a
3024  0E19              l_enemy_walk_00107:
3025  0E19  3A 00 00    	ld	a,(_tmp)
3026  0E1C  B7          	or	a, a
3027  0E1D  CA B9 0E    	jp	Z,l_enemy_walk_00135
3028  0E20  3A 00 00    	ld	a,(_s_state)
3029  0E23  0F          	rrca
3030  0E24  38 05       	jr	C,l_enemy_walk_00110
3031  0E26  21 00 00    	ld	hl,_s_state
3032  0E29  CB CE       	set	1, (hl)
3033  0E2B              l_enemy_walk_00110:
3034  0E2B  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3035  0E2D  21 00 00    	ld	hl,_sprite
3036  0E30  86          	add	a, (hl)
3037  0E31  4F          	ld	c,a
3038  0E32  3E 00       	ld	a,+((_jump_lin) / 256)
3039  0E34  CE 00       	adc	a,0x00
3040  0E36  47          	ld	b,a
3041  0E37  0A          	ld	a,(bc)
3042  0E38  B7          	or	a, a
3043  0E39  20 09       	jr	NZ,l_enemy_walk_00112
3044  0E3B  5E          	ld	e,(hl)
3045  0E3C  16 00       	ld	d,0x00
3046  0E3E  21 00 00    	ld	hl,_lin
3047  0E41  19          	add	hl,de
3048  0E42  7E          	ld	a,(hl)
3049  0E43  02          	ld	(bc),a
3050  0E44              l_enemy_walk_00112:
3051  0E44  3A 00 00    	ld	a,(_s_state)
3052  0E47  E6 02       	and	a,0x02
3053  0E49  28 11       	jr	Z,l_enemy_walk_00114
3054  0E4B  3A 00 00    	ld	a,(_sprite)
3055  0E4E  C6 00       	add	a,+((_lin) & 0xFF)
3056  0E50  4F          	ld	c,a
3057  0E51  3E 00       	ld	a,+((_lin) / 256)
3058  0E53  CE 00       	adc	a,0x00
3059  0E55  47          	ld	b,a
3060  0E56  0A          	ld	a,(bc)
3061  0E57  C6 04       	add	a,0x04
3062  0E59  02          	ld	(bc),a
3063  0E5A  18 0F       	jr	l_enemy_walk_00115
3064  0E5C              l_enemy_walk_00114:
3065  0E5C  3A 00 00    	ld	a,(_sprite)
3066  0E5F  C6 00       	add	a,+((_lin) & 0xFF)
3067  0E61  4F          	ld	c,a
3068  0E62  3E 00       	ld	a,+((_lin) / 256)
3069  0E64  CE 00       	adc	a,0x00
3070  0E66  47          	ld	b,a
3071  0E67  0A          	ld	a,(bc)
3072  0E68  C6 FC       	add	a,0xfc
3073  0E6A  02          	ld	(bc),a
3074  0E6B              l_enemy_walk_00115:
3075  0E6B  2A 00 00    	ld	hl,(_sprite)
3076  0E6E  26 00       	ld	h,0x00
3077  0E70  01 00 00    	ld	bc,_class
3078  0E73  09          	add	hl,bc
3079  0E74  7E          	ld	a,(hl)
3080  0E75  D6 09       	sub	a,0x09
3081  0E77  CA 9C 0F    	jp	Z,l_enemy_walk_00137
3082  0E7A  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3083  0E7C  21 00 00    	ld	hl,_sprite
3084  0E7F  86          	add	a, (hl)
3085  0E80  4F          	ld	c,a
3086  0E81  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3087  0E83  CE 00       	adc	a,0x00
3088  0E85  47          	ld	b,a
3089  0E86  3E 02       	ld	a,0x02
3090  0E88  02          	ld	(bc),a
3091  0E89  3E 00       	ld	a,+((_lin) & 0xFF)
3092  0E8B  86          	add	a, (hl)
3093  0E8C  4F          	ld	c,a
3094  0E8D  3E 00       	ld	a,+((_lin) / 256)
3095  0E8F  CE 00       	adc	a,0x00
3096  0E91  47          	ld	b,a
3097  0E92  0A          	ld	a,(bc)
3098  0E93  4F          	ld	c,a
3099  0E94  06 00       	ld	b,0x00
3100  0E96  5E          	ld	e,(hl)
3101  0E97  50          	ld	d,b
3102  0E98  21 00 00    	ld	hl,_jump_lin
3103  0E9B  19          	add	hl,de
3104  0E9C  5E          	ld	e, (hl)
3105  0E9D  16 00       	ld	d,0x00
3106  0E9F  79          	ld	a,c
3107  0EA0  93          	sub	a, e
3108  0EA1  4F          	ld	c,a
3109  0EA2  78          	ld	a,b
3110  0EA3  9A          	sbc	a, d
3111  0EA4  47          	ld	b,a
3112  0EA5  3E 10       	ld	a,0x10
3113  0EA7  B9          	cp	a, c
3114  0EA8  3E 00       	ld	a,0x00
3115  0EAA  98          	sbc	a, b
3116  0EAB  E2 B0 0E    	jp	PO, l_enemy_walk_00218
3117  0EAE  EE 80       	xor	a,0x80
3118  0EB0              l_enemy_walk_00218:
3119  0EB0  FA 9C 0F    	jp	M,l_enemy_walk_00137
3120  0EB3  CD 00 00    	call	_spr_move_horizontal
3121  0EB6  C3 9C 0F    	jp	l_enemy_walk_00137
3122  0EB9              l_enemy_walk_00135:
3123  0EB9  3A 00 00    	ld	a,(_sprite)
3124  0EBC  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
3125  0EBE  4F          	ld	c,a
3126  0EBF  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3127  0EC1  CE 00       	adc	a,0x00
3128  0EC3  47          	ld	b,a
3129  0EC4  AF          	xor	a, a
3130  0EC5  02          	ld	(bc),a
3131  0EC6  3A 00 00    	ld	a,(_s_state)
3132  0EC9  E6 02       	and	a,0x02
3133  0ECB  28 12       	jr	Z,l_enemy_walk_00121
3134  0ECD  21 00 00    	ld	hl,_s_state
3135  0ED0  CB 8E       	res	1, (hl)
3136  0ED2  3A 00 00    	ld	a,(_sprite)
3137  0ED5  C6 00       	add	a,+((_jump_lin) & 0xFF)
3138  0ED7  4F          	ld	c,a
3139  0ED8  3E 00       	ld	a,+((_jump_lin) / 256)
3140  0EDA  CE 00       	adc	a,0x00
3141  0EDC  47          	ld	b,a
3142  0EDD  AF          	xor	a, a
3143  0EDE  02          	ld	(bc),a
3144  0EDF              l_enemy_walk_00121:
3145  0EDF  3A 00 00    	ld	a,(_s_state)
3146  0EE2  E6 10       	and	a,0x10
3147  0EE4  20 41       	jr	NZ,l_enemy_walk_00125
3148  0EE6  3A 00 00    	ld	a,(_sprite)
3149  0EE9  C6 00       	add	a,+((_state_a) & 0xFF)
3150  0EEB  4F          	ld	c,a
3151  0EEC  3E 00       	ld	a,+((_state_a) / 256)
3152  0EEE  CE 00       	adc	a,0x00
3153  0EF0  47          	ld	b,a
3154  0EF1  0A          	ld	a,(bc)
3155  0EF2  CB 4F       	bit	1, a
3156  0EF4  20 31       	jr	NZ,l_enemy_walk_00125
3157  0EF6  01 00 00    	ld	bc,_spr_timer_c+0
3158  0EF9  2A 00 00    	ld	hl,(_sprite)
3159  0EFC  26 00       	ld	h,0x00
3160  0EFE  29          	add	hl, hl
3161  0EFF  09          	add	hl,bc
3162  0F00  5E          	ld	e,(hl)
3163  0F01  23          	inc	hl
3164  0F02  56          	ld	d,(hl)
3165  0F03  C5          	push	bc
3166  0F04  21 05 00    	ld	hl,0x0005
3167  0F07  E5          	push	hl
3168  0F08  D5          	push	de
3169  0F09  CD 00 00    	call	_game_check_time
3170  0F0C  F1          	pop	af
3171  0F0D  F1          	pop	af
3172  0F0E  C1          	pop	bc
3173  0F0F  7D          	ld	a,l
3174  0F10  B7          	or	a, a
3175  0F11  28 11       	jr	Z,l_enemy_walk_00123
3176  0F13  2A 00 00    	ld	hl,(_sprite)
3177  0F16  26 00       	ld	h,0x00
3178  0F18  29          	add	hl, hl
3179  0F19  09          	add	hl,bc
3180  0F1A  ED 5B 00 00 	ld	de,(_curr_time)
3181  0F1E  73          	ld	(hl),e
3182  0F1F  23          	inc	hl
3183  0F20  72          	ld	(hl),d
3184  0F21  CD 6B 00    	call	_enemy_collition
3185  0F24              l_enemy_walk_00123:
3186  0F24  CD 00 00    	call	_spr_move_horizontal
3187  0F27              l_enemy_walk_00125:
3188  0F27  3A 00 00    	ld	a,(_sprite)
3189  0F2A  C6 00       	add	a,+((_state_a) & 0xFF)
3190  0F2C  4F          	ld	c,a
3191  0F2D  3E 00       	ld	a,+((_state_a) / 256)
3192  0F2F  CE 00       	adc	a,0x00
3193  0F31  47          	ld	b,a
3194  0F32  0A          	ld	a,(bc)
3195  0F33  CB 4F       	bit	1, a
3196  0F35  28 65       	jr	Z,l_enemy_walk_00137
3197  0F37  01 00 00    	ld	bc,_spr_timer+0
3198  0F3A  2A 00 00    	ld	hl,(_sprite)
3199  0F3D  26 00       	ld	h,0x00
3200  0F3F  29          	add	hl, hl
3201  0F40  09          	add	hl,bc
3202  0F41  5E          	ld	e,(hl)
3203  0F42  23          	inc	hl
3204  0F43  56          	ld	d,(hl)
3205  0F44  C5          	push	bc
3206  0F45  21 08 00    	ld	hl,0x0008
3207  0F48  E5          	push	hl
3208  0F49  D5          	push	de
3209  0F4A  CD 00 00    	call	_game_check_time
3210  0F4D  F1          	pop	af
3211  0F4E  F1          	pop	af
3212  0F4F  C1          	pop	bc
3213  0F50  7D          	ld	a,l
3214  0F51  B7          	or	a, a
3215  0F52  28 48       	jr	Z,l_enemy_walk_00137
3216  0F54  2A 00 00    	ld	hl,(_sprite)
3217  0F57  26 00       	ld	h,0x00
3218  0F59  29          	add	hl, hl
3219  0F5A  09          	add	hl,bc
3220  0F5B  ED 5B 00 00 	ld	de,(_curr_time)
3221  0F5F  73          	ld	(hl),e
3222  0F60  23          	inc	hl
3223  0F61  72          	ld	(hl),d
3224  0F62  3A 00 00    	ld	a,(_sprite)
3225  0F65  C6 00       	add	a,+((_colint) & 0xFF)
3226  0F67  4F          	ld	c,a
3227  0F68  3E 00       	ld	a,+((_colint) / 256)
3228  0F6A  CE 00       	adc	a,0x00
3229  0F6C  47          	ld	b,a
3230  0F6D  0A          	ld	a,(bc)
3231  0F6E  5F          	ld	e,a
3232  0F6F  D6 02       	sub	a,0x02
3233  0F71  30 05       	jr	NC,l_enemy_walk_00128
3234  0F73  1C          	inc	e
3235  0F74  7B          	ld	a,e
3236  0F75  02          	ld	(bc),a
3237  0F76  18 24       	jr	l_enemy_walk_00137
3238  0F78              l_enemy_walk_00128:
3239  0F78  2A 00 00    	ld	hl,(_sprite)
3240  0F7B  26 00       	ld	h,0x00
3241  0F7D  01 00 00    	ld	bc,_state_a
3242  0F80  09          	add	hl,bc
3243  0F81  7E          	ld	a,(hl)
3244  0F82  E6 FD       	and	a,0xfd
3245  0F84  77          	ld	(hl),a
3246  0F85  3E 00       	ld	a,+((_tile) & 0xFF)
3247  0F87  21 00 00    	ld	hl,_sprite
3248  0F8A  86          	add	a, (hl)
3249  0F8B  4F          	ld	c,a
3250  0F8C  3E 00       	ld	a,+((_tile) / 256)
3251  0F8E  CE 00       	adc	a,0x00
3252  0F90  47          	ld	b,a
3253  0F91  7E          	ld	a,(hl)
3254  0F92  C5          	push	bc
3255  0F93  F5          	push	af
3256  0F94  33          	inc	sp
3257  0F95  CD 00 00    	call	_spr_tile
3258  0F98  33          	inc	sp
3259  0F99  C1          	pop	bc
3260  0F9A  7D          	ld	a, l
3261  0F9B  02          	ld	(bc),a
3262  0F9C              l_enemy_walk_00137:
3263  0F9C  C9          	ret
3264  0F9D              ;	---------------------------------
3265  0F9D              ; Function enemy_init
3266  0F9D              ; ---------------------------------
3267  0F9D              _enemy_init:
3268  0F9D  CD 00 00    	call	___sdcc_enter_ix
3269  0FA0  21 00 00    	ld	hl,_spr_count
3270  0FA3  34          	inc	(hl)
3271  0FA4  3E 00       	ld	a,+((_class) & 0xFF)
3272  0FA6  DD 86 04    	add	a,(ix+4)
3273  0FA9  4F          	ld	c,a
3274  0FAA  3E 00       	ld	a,+((_class) / 256)
3275  0FAC  CE 00       	adc	a,0x00
3276  0FAE  47          	ld	b,a
3277  0FAF  DD 7E 07    	ld	a,(ix+7)
3278  0FB2  02          	ld	(bc),a
3279  0FB3  3E 00       	ld	a,+((_lin) & 0xFF)
3280  0FB5  DD 86 04    	add	a,(ix+4)
3281  0FB8  4F          	ld	c,a
3282  0FB9  3E 00       	ld	a,+((_lin) / 256)
3283  0FBB  CE 00       	adc	a,0x00
3284  0FBD  47          	ld	b,a
3285  0FBE  DD 7E 05    	ld	a,(ix+5)
3286  0FC1  02          	ld	(bc),a
3287  0FC2  3E 00       	ld	a,+((_col) & 0xFF)
3288  0FC4  DD 86 04    	add	a,(ix+4)
3289  0FC7  4F          	ld	c,a
3290  0FC8  3E 00       	ld	a,+((_col) / 256)
3291  0FCA  CE 00       	adc	a,0x00
3292  0FCC  47          	ld	b,a
3293  0FCD  DD 7E 06    	ld	a,(ix+6)
3294  0FD0  02          	ld	(bc),a
3295  0FD1  21 00 00    	ld	hl,_tmp
3296  0FD4  36 00       	ld	(hl),0x00
3297  0FD6  3E 00       	ld	a,+((_state) & 0xFF)
3298  0FD8  DD 86 04    	add	a,(ix+4)
3299  0FDB  4F          	ld	c,a
3300  0FDC  3E 00       	ld	a,+((_state) / 256)
3301  0FDE  CE 00       	adc	a,0x00
3302  0FE0  47          	ld	b,a
3303  0FE1  AF          	xor	a, a
3304  0FE2  02          	ld	(bc),a
3305  0FE3  3E 00       	ld	a,+((_state_a) & 0xFF)
3306  0FE5  DD 86 04    	add	a,(ix+4)
3307  0FE8  5F          	ld	e,a
3308  0FE9  3E 00       	ld	a,+((_state_a) / 256)
3309  0FEB  CE 00       	adc	a,0x00
3310  0FED  57          	ld	d,a
3311  0FEE  AF          	xor	a, a
3312  0FEF  12          	ld	(de),a
3313  0FF0  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3314  0FF2  DD 86 04    	add	a,(ix+4)
3315  0FF5  5F          	ld	e,a
3316  0FF6  3E 00       	ld	a,+((_jump_lin) / 256)
3317  0FF8  CE 00       	adc	a,0x00
3318  0FFA  57          	ld	d,a
3319  0FFB  AF          	xor	a, a
3320  0FFC  12          	ld	(de),a
3321  0FFD  0A          	ld	a,(bc)
3322  0FFE  5F          	ld	e,a
3323  0FFF  DD 7E 08    	ld	a,(ix+8)
3324  1002  3D          	dec	a
3325  1003  20 06       	jr	NZ,l_enemy_init_00102
3326  1005  7B          	ld	a,e
3327  1006  CB D7       	set	2, a
3328  1008  02          	ld	(bc),a
3329  1009  18 04       	jr	l_enemy_init_00103
3330  100B              l_enemy_init_00102:
3331  100B  7B          	ld	a,e
3332  100C  CB DF       	set	3, a
3333  100E  02          	ld	(bc),a
3334  100F              l_enemy_init_00103:
3335  100F  0A          	ld	a,(bc)
3336  1010  CB CF       	set	1, a
3337  1012  02          	ld	(bc),a
3338  1013  3E 00       	ld	a,+((_colint) & 0xFF)
3339  1015  DD 86 04    	add	a,(ix+4)
3340  1018  4F          	ld	c,a
3341  1019  3E 00       	ld	a,+((_colint) / 256)
3342  101B  CE 00       	adc	a,0x00
3343  101D  47          	ld	b,a
3344  101E  AF          	xor	a, a
3345  101F  02          	ld	(bc),a
3346  1020  3E 00       	ld	a,+((_tile) & 0xFF)
3347  1022  DD 86 04    	add	a,(ix+4)
3348  1025  4F          	ld	c,a
3349  1026  3E 00       	ld	a,+((_tile) / 256)
3350  1028  CE 00       	adc	a,0x00
3351  102A  47          	ld	b,a
3352  102B  C5          	push	bc
3353  102C  DD 7E 04    	ld	a,(ix+4)
3354  102F  F5          	push	af
3355  1030  33          	inc	sp
3356  1031  CD 00 00    	call	_spr_tile
3357  1034  33          	inc	sp
3358  1035  C1          	pop	bc
3359  1036  7D          	ld	a, l
3360  1037  02          	ld	(bc),a
3361  1038  DD 4E 04    	ld	c,(ix+4)
3362  103B  06 00       	ld	b,0x00
3363  103D  CB 21       	sla	c
3364  103F  CB 10       	rl	b
3365  1041  21 00 00    	ld	hl,_last_time
3366  1044  09          	add	hl,bc
3367  1045  AF          	xor	a, a
3368  1046  77          	ld	(hl), a
3369  1047  23          	inc	hl
3370  1048  77          	ld	(hl), a
3371  1049  21 00 00    	ld	hl,_spr_timer
3372  104C  09          	add	hl,bc
3373  104D  ED 5B 00 00 	ld	de,(_curr_time)
3374  1051  73          	ld	(hl),e
3375  1052  23          	inc	hl
3376  1053  72          	ld	(hl),d
3377  1054  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3378  1056  DD 86 04    	add	a,(ix+4)
3379  1059  4F          	ld	c,a
3380  105A  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3381  105C  CE 00       	adc	a,0x00
3382  105E  47          	ld	b,a
3383  105F  AF          	xor	a, a
3384  1060  02          	ld	(bc),a
3385  1061  DD E1       	pop	ix
3386  1063  C9          	ret
3387  1064              ;	---------------------------------
3388  1064              ; Function enemy_kill
3389  1064              ; ---------------------------------
3390  1064              _enemy_kill:
3391  1064  CD 00 00    	call	___sdcc_enter_ix
3392  1067  76          	halt
3393  1068  CD 00 00    	call	_sound_kill
3394  106B  01 00 00    	ld	bc,_state+0
3395  106E  2A 00 00    	ld	hl,(_sprite)
3396  1071  26 00       	ld	h,0x00
3397  1073  09          	add	hl,bc
3398  1074  6E          	ld	l, (hl)
3399  1075  79          	ld	a,c
3400  1076  EB          	ex	de,hl
3401  1077  DD 86 04    	add	a,(ix+4)
3402  107A  4F          	ld	c,a
3403  107B  78          	ld	a,b
3404  107C  CE 00       	adc	a,0x00
3405  107E  47          	ld	b,a
3406  107F  0A          	ld	a,(bc)
3407  1080  CB 5B       	bit	3, e
3408  1082  28 07       	jr	Z,l_enemy_kill_00102
3409  1084  CB DF       	set	3, a
3410  1086  E6 FB       	and	a,0xfb
3411  1088  02          	ld	(bc),a
3412  1089  18 05       	jr	l_enemy_kill_00103
3413  108B              l_enemy_kill_00102:
3414  108B  CB D7       	set	2, a
3415  108D  E6 F7       	and	a,0xf7
3416  108F  02          	ld	(bc),a
3417  1090              l_enemy_kill_00103:
3418  1090  0A          	ld	a,(bc)
3419  1091  CB C7       	set	0, a
3420  1093  CB EF       	set	5,a
3421  1095  02          	ld	(bc),a
3422  1096  21 00 00    	ld	hl,_hit_count
3423  1099  46          	ld	b,(hl)
3424  109A  11 50 00    	ld	de,0x0050
3425  109D  04          	inc	b
3426  109E  18 04       	jr	l_enemy_kill_00137
3427  10A0              l_enemy_kill_00136:
3428  10A0  CB 23       	sla	e
3429  10A2  CB 12       	rl	d
3430  10A4              l_enemy_kill_00137:
3431  10A4  10 FA       	djnz	l_enemy_kill_00136
3432  10A6  D5          	push	de
3433  10A7  CD 00 00    	call	_player_score_add
3434  10AA  F1          	pop	af
3435  10AB  21 00 00    	ld	hl,_hit_count
3436  10AE  34          	inc	(hl)
3437  10AF  01 00 00    	ld	bc,_spr_timer+0
3438  10B2  DD 6E 04    	ld	l,(ix+4)
3439  10B5  26 00       	ld	h,0x00
3440  10B7  29          	add	hl, hl
3441  10B8  09          	add	hl,bc
3442  10B9  ED 5B 00 00 	ld	de,(_curr_time)
3443  10BD  73          	ld	(hl),e
3444  10BE  23          	inc	hl
3445  10BF  72          	ld	(hl),d
3446  10C0  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3447  10C2  DD 86 04    	add	a,(ix+4)
3448  10C5  4F          	ld	c,a
3449  10C6  3E 00       	ld	a,+((_jump_lin) / 256)
3450  10C8  CE 00       	adc	a,0x00
3451  10CA  47          	ld	b,a
3452  10CB  3E 00       	ld	a,+((_lin) & 0xFF)
3453  10CD  DD 86 04    	add	a,(ix+4)
3454  10D0  5F          	ld	e,a
3455  10D1  3E 00       	ld	a,+((_lin) / 256)
3456  10D3  CE 00       	adc	a,0x00
3457  10D5  57          	ld	d,a
3458  10D6  1A          	ld	a,(de)
3459  10D7  02          	ld	(bc),a
3460  10D8  3E 00       	ld	a,+((_class) & 0xFF)
3461  10DA  DD 86 04    	add	a,(ix+4)
3462  10DD  4F          	ld	c,a
3463  10DE  3E 00       	ld	a,+((_class) / 256)
3464  10E0  CE 00       	adc	a,0x00
3465  10E2  47          	ld	b,a
3466  10E3  0A          	ld	a,(bc)
3467  10E4  4F          	ld	c,a
3468  10E5  3E 09       	ld	a,0x09
3469  10E7  91          	sub	a, c
3470  10E8  38 0F       	jr	C,l_enemy_kill_00107
3471  10EA  3A 00 00    	ld	a,(_game_type)
3472  10ED  D6 02       	sub	a,0x02
3473  10EF  28 04       	jr	Z,l_enemy_kill_00105
3474  10F1  21 00 00    	ld	hl,_phase_left
3475  10F4  35          	dec	(hl)
3476  10F5              l_enemy_kill_00105:
3477  10F5  21 00 00    	ld	hl,_phase_coins
3478  10F8  34          	inc	(hl)
3479  10F9              l_enemy_kill_00107:
3480  10F9  3A 00 00    	ld	a,(_phase_left)
3481  10FC  B7          	or	a, a
3482  10FD  28 08       	jr	Z,l_enemy_kill_00111
3483  10FF  21 00 00    	ld	hl,_ay_effect_11
3484  1102  CD 00 00    	call	_ay_fx_play
3485  1105  18 0F       	jr	l_enemy_kill_00113
3486  1107              l_enemy_kill_00111:
3487  1107  CD 00 00    	call	_ay_reset
3488  110A  3A 00 00    	ld	a,(_game_bonus)
3489  110D  B7          	or	a, a
3490  110E  20 06       	jr	NZ,l_enemy_kill_00113
3491  1110  21 00 00    	ld	hl,_ay_effect_17
3492  1113  CD 00 00    	call	_ay_fx_play
3493  1116              l_enemy_kill_00113:
3494  1116  DD E1       	pop	ix
3495  1118  C9          	ret
3496  1119              	SECTION IGNORE
3497  0000              
