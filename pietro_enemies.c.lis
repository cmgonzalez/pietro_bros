1     0000              MODULE pietro_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _enemy_coin2
183   0000              	GLOBAL _enemy_coin1
184   0000              	GLOBAL _enemy_collition
185   0000              	GLOBAL _enemy_collition_check
186   0000              	GLOBAL _enemy_hit
187   0000              	GLOBAL _enemy_flip_change_dir
188   0000              	GLOBAL _enemy_flip
189   0000              	GLOBAL _enemy_flip_sidestepper
190   0000              	GLOBAL _enemy_turn
191   0000              	GLOBAL _enemy_ugly_fix
192   0000              	GLOBAL _enemy_standard
193   0000              	GLOBAL _enemy_slipice
194   0000              	GLOBAL _enemy_fireball_red
195   0000              	GLOBAL _enemy_fireball_green
196   0000              	GLOBAL _enemy_fighterfly
197   0000              	GLOBAL _enemy_trip
198   0000              	GLOBAL _enemy_standard_hit
199   0000              	GLOBAL _enemy_evolve
200   0000              	GLOBAL _enemy_upgrade
201   0000              	GLOBAL _enemy_walk
202   0000              	GLOBAL _enemy_init
203   0000              	GLOBAL _enemy_kill
204   0000              ;--------------------------------------------------------
205   0000              ; Externals used
206   0000              ;--------------------------------------------------------
207   0000              	GLOBAL _debug3
208   0000              	GLOBAL _debug2
209   0000              	GLOBAL _debug
210   0000              	GLOBAL _zx_print_str
211   0000              	GLOBAL _zx_print_int
212   0000              	GLOBAL _zx_print_chr
213   0000              	GLOBAL _zx_print_bonus_time
214   0000              	GLOBAL _zx_isr
215   0000              	GLOBAL _z80_otdr_callee
216   0000              	GLOBAL _z80_otdr
217   0000              	GLOBAL _z80_otir_callee
218   0000              	GLOBAL _z80_otir
219   0000              	GLOBAL _z80_outp_callee
220   0000              	GLOBAL _z80_outp
221   0000              	GLOBAL _z80_indr_callee
222   0000              	GLOBAL _z80_indr
223   0000              	GLOBAL _z80_inir_callee
224   0000              	GLOBAL _z80_inir
225   0000              	GLOBAL _z80_inp_fastcall
226   0000              	GLOBAL _z80_inp
227   0000              	GLOBAL _z80_set_int_state_fastcall
228   0000              	GLOBAL _z80_set_int_state
229   0000              	GLOBAL _z80_get_int_state
230   0000              	GLOBAL _z80_delay_tstate_fastcall
231   0000              	GLOBAL _z80_delay_tstate
232   0000              	GLOBAL _z80_delay_ms_fastcall
233   0000              	GLOBAL _z80_delay_ms
234   0000              	GLOBAL _im2_remove_generic_callback_callee
235   0000              	GLOBAL _im2_remove_generic_callback
236   0000              	GLOBAL _im2_prepend_generic_callback_callee
237   0000              	GLOBAL _im2_prepend_generic_callback
238   0000              	GLOBAL _im2_append_generic_callback_callee
239   0000              	GLOBAL _im2_append_generic_callback
240   0000              	GLOBAL _im2_create_generic_isr_8080_callee
241   0000              	GLOBAL _im2_create_generic_isr_8080
242   0000              	GLOBAL _im2_create_generic_isr_callee
243   0000              	GLOBAL _im2_create_generic_isr
244   0000              	GLOBAL _im2_install_isr_callee
245   0000              	GLOBAL _im2_install_isr
246   0000              	GLOBAL _im2_init_fastcall
247   0000              	GLOBAL _im2_init
248   0000              	GLOBAL _zx_pattern_fill_callee
249   0000              	GLOBAL _zx_pattern_fill
250   0000              	GLOBAL _zx_saddrpup_fastcall
251   0000              	GLOBAL _zx_saddrpup
252   0000              	GLOBAL _zx_saddrpright_callee
253   0000              	GLOBAL _zx_saddrpright
254   0000              	GLOBAL _zx_saddrpleft_callee
255   0000              	GLOBAL _zx_saddrpleft
256   0000              	GLOBAL _zx_saddrpdown_fastcall
257   0000              	GLOBAL _zx_saddrpdown
258   0000              	GLOBAL _zx_saddrcup_fastcall
259   0000              	GLOBAL _zx_saddrcup
260   0000              	GLOBAL _zx_saddrcright_fastcall
261   0000              	GLOBAL _zx_saddrcright
262   0000              	GLOBAL _zx_saddrcleft_fastcall
263   0000              	GLOBAL _zx_saddrcleft
264   0000              	GLOBAL _zx_saddrcdown_fastcall
265   0000              	GLOBAL _zx_saddrcdown
266   0000              	GLOBAL _zx_saddr2py_fastcall
267   0000              	GLOBAL _zx_saddr2py
268   0000              	GLOBAL _zx_saddr2px_fastcall
269   0000              	GLOBAL _zx_saddr2px
270   0000              	GLOBAL _zx_saddr2cy_fastcall
271   0000              	GLOBAL _zx_saddr2cy
272   0000              	GLOBAL _zx_saddr2cx_fastcall
273   0000              	GLOBAL _zx_saddr2cx
274   0000              	GLOBAL _zx_saddr2aaddr_fastcall
275   0000              	GLOBAL _zx_saddr2aaddr
276   0000              	GLOBAL _zx_py2saddr_fastcall
277   0000              	GLOBAL _zx_py2saddr
278   0000              	GLOBAL _zx_py2aaddr_fastcall
279   0000              	GLOBAL _zx_py2aaddr
280   0000              	GLOBAL _zx_pxy2saddr_callee
281   0000              	GLOBAL _zx_pxy2saddr
282   0000              	GLOBAL _zx_pxy2aaddr_callee
283   0000              	GLOBAL _zx_pxy2aaddr
284   0000              	GLOBAL _zx_px2bitmask_fastcall
285   0000              	GLOBAL _zx_px2bitmask
286   0000              	GLOBAL _zx_cyx2saddr_callee
287   0000              	GLOBAL _zx_cyx2saddr
288   0000              	GLOBAL _zx_cyx2aaddr_callee
289   0000              	GLOBAL _zx_cyx2aaddr
290   0000              	GLOBAL _zx_cy2saddr_fastcall
291   0000              	GLOBAL _zx_cy2saddr
292   0000              	GLOBAL _zx_cy2aaddr_fastcall
293   0000              	GLOBAL _zx_cy2aaddr
294   0000              	GLOBAL _zx_bitmask2px_fastcall
295   0000              	GLOBAL _zx_bitmask2px
296   0000              	GLOBAL _zx_aaddrcup_fastcall
297   0000              	GLOBAL _zx_aaddrcup
298   0000              	GLOBAL _zx_aaddrcright_fastcall
299   0000              	GLOBAL _zx_aaddrcright
300   0000              	GLOBAL _zx_aaddrcleft_fastcall
301   0000              	GLOBAL _zx_aaddrcleft
302   0000              	GLOBAL _zx_aaddrcdown_fastcall
303   0000              	GLOBAL _zx_aaddrcdown
304   0000              	GLOBAL _zx_aaddr2saddr_fastcall
305   0000              	GLOBAL _zx_aaddr2saddr
306   0000              	GLOBAL _zx_aaddr2py_fastcall
307   0000              	GLOBAL _zx_aaddr2py
308   0000              	GLOBAL _zx_aaddr2px_fastcall
309   0000              	GLOBAL _zx_aaddr2px
310   0000              	GLOBAL _zx_aaddr2cy_fastcall
311   0000              	GLOBAL _zx_aaddr2cy
312   0000              	GLOBAL _zx_aaddr2cx_fastcall
313   0000              	GLOBAL _zx_aaddr2cx
314   0000              	GLOBAL _zx_scroll_wc_up_callee
315   0000              	GLOBAL _zx_scroll_wc_up
316   0000              	GLOBAL _zx_scroll_up_callee
317   0000              	GLOBAL _zx_scroll_up
318   0000              	GLOBAL _zx_cls_wc_callee
319   0000              	GLOBAL _zx_cls_wc
320   0000              	GLOBAL _zx_cls_fastcall
321   0000              	GLOBAL _zx_cls
322   0000              	GLOBAL _zx_border_fastcall
323   0000              	GLOBAL _zx_border
324   0000              	GLOBAL _sound_hit_pow
325   0000              	GLOBAL _sound_hit_brick
326   0000              	GLOBAL _sound_hit_enemy
327   0000              	GLOBAL _sound_kill
328   0000              	GLOBAL _sound_enter_enemy
329   0000              	GLOBAL _sound_coin
330   0000              	GLOBAL _sound_jump
331   0000              	GLOBAL _sound_slide
332   0000              	GLOBAL _spr_draw_row
333   0000              	GLOBAL _spr_draw_index
334   0000              	GLOBAL _spr_draw_clear
335   0000              	GLOBAL _spr_water_splash_draw
336   0000              	GLOBAL _spr_water_splash_clear
337   0000              	GLOBAL _spr_draw_back
338   0000              	GLOBAL _spr_cortina_pipes
339   0000              	GLOBAL _spr_cortina_brick
340   0000              	GLOBAL _spr_brick_anim
341   0000              	GLOBAL _spr_back_fix
342   0000              	GLOBAL _spr_back_paint
343   0000              	GLOBAL _spr_back_clr
344   0000              	GLOBAL _spr_draw_pow
345   0000              	GLOBAL _spr_tile
346   0000              	GLOBAL _spr_set_fall
347   0000              	GLOBAL _spr_destroy
348   0000              	GLOBAL _spr_check_over
349   0000              	GLOBAL _spr_tile_dir
350   0000              	GLOBAL _spr_anim_kill
351   0000              	GLOBAL _spr_anim_fall
352   0000              	GLOBAL _spr_killed
353   0000              	GLOBAL _spr_redraw
354   0000              	GLOBAL _spr_move_left
355   0000              	GLOBAL _spr_move_right
356   0000              	GLOBAL _spr_move_horizontal
357   0000              	GLOBAL _spr_move_down
358   0000              	GLOBAL _spr_move_up
359   0000              	GLOBAL _spr_chktime
360   0000              	GLOBAL _player_move_horizontal
361   0000              	GLOBAL _player_push_check
362   0000              	GLOBAL _player_push
363   0000              	GLOBAL _player_hit_brick_clear
364   0000              	GLOBAL _player_lost_life
365   0000              	GLOBAL _player_score_add
366   0000              	GLOBAL _player_coin
367   0000              	GLOBAL _player_hit_pow
368   0000              	GLOBAL _player_hit_brick
369   0000              	GLOBAL _player_move_input
370   0000              	GLOBAL _player_turn
371   0000              	GLOBAL _player_move
372   0000              	GLOBAL _player_restart
373   0000              	GLOBAL _player_kill
374   0000              	GLOBAL _player_check_input
375   0000              	GLOBAL _player_collition_check
376   0000              	GLOBAL _player_collition
377   0000              	GLOBAL _player_calc_slide
378   0000              	GLOBAL _player_init
379   0000              	GLOBAL _game_joystick_set_menu
380   0000              	GLOBAL _game_joystick_set
381   0000              	GLOBAL _game_joystick_change
382   0000              	GLOBAL _game_hall_print_p
383   0000              	GLOBAL _game_hall_edit_p
384   0000              	GLOBAL _game_hall_check
385   0000              	GLOBAL _game_hall_enter_phs
386   0000              	GLOBAL _game_print_header
387   0000              	GLOBAL _game_end
388   0000              	GLOBAL _game_hall_enter
389   0000              	GLOBAL _game_hall_of_fame
390   0000              	GLOBAL _game_score_osd
391   0000              	GLOBAL _game_phase_print_score_back
392   0000              	GLOBAL _game_bonus_clock
393   0000              	GLOBAL _game_bonus_summary_player
394   0000              	GLOBAL _game_bonus_summary
395   0000              	GLOBAL _game_check_time
396   0000              	GLOBAL _game_menu_config
397   0000              	GLOBAL _game_menu
398   0000              	GLOBAL _game_rotate_attrib
399   0000              	GLOBAL _game_colour_message
400   0000              	GLOBAL _game_paint_attrib_lin_h
401   0000              	GLOBAL _game_paint_attrib_lin
402   0000              	GLOBAL _game_paint_attrib
403   0000              	GLOBAL _game_menu_paint
404   0000              	GLOBAL _game_menu_top_paint
405   0000              	GLOBAL _game_menu_handle
406   0000              	GLOBAL _game_menu_e
407   0000              	GLOBAL _game_menu_back
408   0000              	GLOBAL _game_print_score
409   0000              	GLOBAL _game_unfreeze_all
410   0000              	GLOBAL _game_freeze_all
411   0000              	GLOBAL _game_freeze
412   0000              	GLOBAL _game_enemy_add_get_index
413   0000              	GLOBAL _game_enemy_add1
414   0000              	GLOBAL _game_enemy_quota
415   0000              	GLOBAL _game_enemy_rnd
416   0000              	GLOBAL _game_enemy_add
417   0000              	GLOBAL _game_check_maze
418   0000              	GLOBAL _game_kill_all_sprites
419   0000              	GLOBAL _game_loop
420   0000              	GLOBAL _player_set2
421   0000              	GLOBAL _player_set1
422   0000              	GLOBAL _game_phase_print
423   0000              	GLOBAL _game_phase_init
424   0000              	GLOBAL _game_phase_calc
425   0000              	GLOBAL _game_start_timer
426   0000              	GLOBAL _game_tick
427   0000              	GLOBAL _game_print_lives
428   0000              	GLOBAL _game_print_footer
429   0000              	GLOBAL _game_calc_index
430   0000              	GLOBAL _game_fill_row
431   0000              	GLOBAL _ay_fx_play
432   0000              	GLOBAL _ay_midi_play
433   0000              	GLOBAL _ay_is_playing
434   0000              	GLOBAL _ay_reset
435   0000              	GLOBAL _test_func
436   0000              	GLOBAL _in_mouse_kempston_wheel_delta
437   0000              	GLOBAL _in_mouse_kempston_wheel
438   0000              	GLOBAL _in_mouse_kempston_callee
439   0000              	GLOBAL _in_mouse_kempston
440   0000              	GLOBAL _in_mouse_kempston_setpos_callee
441   0000              	GLOBAL _in_mouse_kempston_setpos
442   0000              	GLOBAL _in_mouse_kempston_reset
443   0000              	GLOBAL _in_mouse_kempston_init
444   0000              	GLOBAL _in_mouse_amx_wheel_delta
445   0000              	GLOBAL _in_mouse_amx_wheel
446   0000              	GLOBAL _in_mouse_amx_callee
447   0000              	GLOBAL _in_mouse_amx
448   0000              	GLOBAL _in_mouse_amx_setpos_callee
449   0000              	GLOBAL _in_mouse_amx_setpos
450   0000              	GLOBAL _in_mouse_amx_reset
451   0000              	GLOBAL _in_mouse_amx_init_callee
452   0000              	GLOBAL _in_mouse_amx_init
453   0000              	GLOBAL _in_stick_sinclair2
454   0000              	GLOBAL _in_stick_sinclair1
455   0000              	GLOBAL _in_stick_kempston
456   0000              	GLOBAL _in_stick_fuller
457   0000              	GLOBAL _in_stick_cursor
458   0000              	GLOBAL _in_stick_keyboard_fastcall
459   0000              	GLOBAL _in_stick_keyboard
460   0000              	GLOBAL _in_wait_nokey
461   0000              	GLOBAL _in_wait_key
462   0000              	GLOBAL _in_test_key
463   0000              	GLOBAL _in_pause_fastcall
464   0000              	GLOBAL _in_pause
465   0000              	GLOBAL _in_key_scancode_fastcall
466   0000              	GLOBAL _in_key_scancode
467   0000              	GLOBAL _in_key_pressed_fastcall
468   0000              	GLOBAL _in_key_pressed
469   0000              	GLOBAL _in_inkey
470   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
471   0000              	GLOBAL _NIRVANAP_drawTW_raw
472   0000              	GLOBAL _NIRVANAP_drawTW_callee
473   0000              	GLOBAL _NIRVANAP_drawTW
474   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
475   0000              	GLOBAL _NIRVANAP_drawW_raw
476   0000              	GLOBAL _NIRVANAP_drawW_callee
477   0000              	GLOBAL _NIRVANAP_drawW
478   0000              	GLOBAL _NIRVANAP_spriteT_callee
479   0000              	GLOBAL _NIRVANAP_spriteT
480   0000              	GLOBAL _NIRVANAP_fillC_callee
481   0000              	GLOBAL _NIRVANAP_fillC
482   0000              	GLOBAL _NIRVANAP_readC_callee
483   0000              	GLOBAL _NIRVANAP_readC
484   0000              	GLOBAL _NIRVANAP_paintC_callee
485   0000              	GLOBAL _NIRVANAP_paintC
486   0000              	GLOBAL _NIRVANAP_printC_callee
487   0000              	GLOBAL _NIRVANAP_printC
488   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
489   0000              	GLOBAL _NIRVANAP_fillT_raw
490   0000              	GLOBAL _NIRVANAP_fillT_callee
491   0000              	GLOBAL _NIRVANAP_fillT
492   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
493   0000              	GLOBAL _NIRVANAP_drawT_raw
494   0000              	GLOBAL _NIRVANAP_drawT_callee
495   0000              	GLOBAL _NIRVANAP_drawT
496   0000              	GLOBAL _NIRVANAP_stop
497   0000              	GLOBAL _NIRVANAP_start
498   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
499   0000              	GLOBAL _intrinsic_swap_word_32
500   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
501   0000              	GLOBAL _intrinsic_swap_endian_32
502   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
503   0000              	GLOBAL _intrinsic_swap_endian_16
504   0000              	GLOBAL _intrinsic_return_de
505   0000              	GLOBAL _intrinsic_return_bc
506   0000              	GLOBAL _intrinsic_exx
507   0000              	GLOBAL _intrinsic_ex_de_hl
508   0000              	GLOBAL _intrinsic_pop_iy
509   0000              	GLOBAL _intrinsic_pop_ix
510   0000              	GLOBAL _intrinsic_pop_hl
511   0000              	GLOBAL _intrinsic_pop_de
512   0000              	GLOBAL _intrinsic_pop_bc
513   0000              	GLOBAL _intrinsic_pop_af
514   0000              	GLOBAL _intrinsic_push_iy
515   0000              	GLOBAL _intrinsic_push_ix
516   0000              	GLOBAL _intrinsic_push_hl
517   0000              	GLOBAL _intrinsic_push_de
518   0000              	GLOBAL _intrinsic_push_bc
519   0000              	GLOBAL _intrinsic_push_af
520   0000              	GLOBAL _intrinsic_nop
521   0000              	GLOBAL _intrinsic_im_2
522   0000              	GLOBAL _intrinsic_im_1
523   0000              	GLOBAL _intrinsic_im_0
524   0000              	GLOBAL _intrinsic_retn
525   0000              	GLOBAL _intrinsic_reti
526   0000              	GLOBAL _intrinsic_halt
527   0000              	GLOBAL _intrinsic_ei
528   0000              	GLOBAL _intrinsic_di
529   0000              	GLOBAL _intrinsic_stub
530   0000              	GLOBAL _ulltoa_callee
531   0000              	GLOBAL _ulltoa
532   0000              	GLOBAL _strtoull_callee
533   0000              	GLOBAL _strtoull
534   0000              	GLOBAL _strtoll_callee
535   0000              	GLOBAL _strtoll
536   0000              	GLOBAL _lltoa_callee
537   0000              	GLOBAL _lltoa
538   0000              	GLOBAL _llabs_callee
539   0000              	GLOBAL _llabs
540   0000              	GLOBAL __lldivu__callee
541   0000              	GLOBAL __lldivu_
542   0000              	GLOBAL __lldiv__callee
543   0000              	GLOBAL __lldiv_
544   0000              	GLOBAL _atoll_callee
545   0000              	GLOBAL _atoll
546   0000              	GLOBAL _realloc_unlocked_callee
547   0000              	GLOBAL _realloc_unlocked
548   0000              	GLOBAL _malloc_unlocked_fastcall
549   0000              	GLOBAL _malloc_unlocked
550   0000              	GLOBAL _free_unlocked_fastcall
551   0000              	GLOBAL _free_unlocked
552   0000              	GLOBAL _calloc_unlocked_callee
553   0000              	GLOBAL _calloc_unlocked
554   0000              	GLOBAL _aligned_alloc_unlocked_callee
555   0000              	GLOBAL _aligned_alloc_unlocked
556   0000              	GLOBAL _realloc_callee
557   0000              	GLOBAL _realloc
558   0000              	GLOBAL _malloc_fastcall
559   0000              	GLOBAL _malloc
560   0000              	GLOBAL _free_fastcall
561   0000              	GLOBAL _free
562   0000              	GLOBAL _calloc_callee
563   0000              	GLOBAL _calloc
564   0000              	GLOBAL _aligned_alloc_callee
565   0000              	GLOBAL _aligned_alloc
566   0000              	GLOBAL _utoa_callee
567   0000              	GLOBAL _utoa
568   0000              	GLOBAL _ultoa_callee
569   0000              	GLOBAL _ultoa
570   0000              	GLOBAL _system_fastcall
571   0000              	GLOBAL _system
572   0000              	GLOBAL _strtoul_callee
573   0000              	GLOBAL _strtoul
574   0000              	GLOBAL _strtol_callee
575   0000              	GLOBAL _strtol
576   0000              	GLOBAL _strtof_callee
577   0000              	GLOBAL _strtof
578   0000              	GLOBAL _strtod_callee
579   0000              	GLOBAL _strtod
580   0000              	GLOBAL _srand_fastcall
581   0000              	GLOBAL _srand
582   0000              	GLOBAL _rand
583   0000              	GLOBAL _quick_exit_fastcall
584   0000              	GLOBAL _quick_exit
585   0000              	GLOBAL _qsort_callee
586   0000              	GLOBAL _qsort
587   0000              	GLOBAL _ltoa_callee
588   0000              	GLOBAL _ltoa
589   0000              	GLOBAL _labs_fastcall
590   0000              	GLOBAL _labs
591   0000              	GLOBAL _itoa_callee
592   0000              	GLOBAL _itoa
593   0000              	GLOBAL _ftoh_callee
594   0000              	GLOBAL _ftoh
595   0000              	GLOBAL _ftog_callee
596   0000              	GLOBAL _ftog
597   0000              	GLOBAL _ftoe_callee
598   0000              	GLOBAL _ftoe
599   0000              	GLOBAL _ftoa_callee
600   0000              	GLOBAL _ftoa
601   0000              	GLOBAL _exit_fastcall
602   0000              	GLOBAL _exit
603   0000              	GLOBAL _dtoh_callee
604   0000              	GLOBAL _dtoh
605   0000              	GLOBAL _dtog_callee
606   0000              	GLOBAL _dtog
607   0000              	GLOBAL _dtoe_callee
608   0000              	GLOBAL _dtoe
609   0000              	GLOBAL _dtoa_callee
610   0000              	GLOBAL _dtoa
611   0000              	GLOBAL _bsearch_callee
612   0000              	GLOBAL _bsearch
613   0000              	GLOBAL _atol_fastcall
614   0000              	GLOBAL _atol
615   0000              	GLOBAL _atoi_fastcall
616   0000              	GLOBAL _atoi
617   0000              	GLOBAL _atof_fastcall
618   0000              	GLOBAL _atof
619   0000              	GLOBAL _atexit_fastcall
620   0000              	GLOBAL _atexit
621   0000              	GLOBAL _at_quick_exit_fastcall
622   0000              	GLOBAL _at_quick_exit
623   0000              	GLOBAL _abs_fastcall
624   0000              	GLOBAL _abs
625   0000              	GLOBAL _abort
626   0000              	GLOBAL __strtou__callee
627   0000              	GLOBAL __strtou_
628   0000              	GLOBAL __strtoi__callee
629   0000              	GLOBAL __strtoi_
630   0000              	GLOBAL __random_uniform_xor_8__fastcall
631   0000              	GLOBAL __random_uniform_xor_8_
632   0000              	GLOBAL __random_uniform_xor_32__fastcall
633   0000              	GLOBAL __random_uniform_xor_32_
634   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
635   0000              	GLOBAL __random_uniform_cmwc_8_
636   0000              	GLOBAL __shellsort__callee
637   0000              	GLOBAL __shellsort_
638   0000              	GLOBAL __quicksort__callee
639   0000              	GLOBAL __quicksort_
640   0000              	GLOBAL __insertion_sort__callee
641   0000              	GLOBAL __insertion_sort_
642   0000              	GLOBAL __ldivu__callee
643   0000              	GLOBAL __ldivu_
644   0000              	GLOBAL __ldiv__callee
645   0000              	GLOBAL __ldiv_
646   0000              	GLOBAL __divu__callee
647   0000              	GLOBAL __divu_
648   0000              	GLOBAL __div__callee
649   0000              	GLOBAL __div_
650   0000              	GLOBAL _ay_effect_20
651   0000              	GLOBAL _ay_effect_19
652   0000              	GLOBAL _ay_effect_18
653   0000              	GLOBAL _ay_effect_17
654   0000              	GLOBAL _ay_effect_16
655   0000              	GLOBAL _ay_effect_15
656   0000              	GLOBAL _ay_effect_14
657   0000              	GLOBAL _ay_effect_13
658   0000              	GLOBAL _ay_effect_12
659   0000              	GLOBAL _ay_effect_11
660   0000              	GLOBAL _ay_effect_10
661   0000              	GLOBAL _ay_effect_09
662   0000              	GLOBAL _ay_effect_08
663   0000              	GLOBAL _ay_effect_07
664   0000              	GLOBAL _ay_effect_06
665   0000              	GLOBAL _ay_effect_05
666   0000              	GLOBAL _ay_effect_04
667   0000              	GLOBAL _ay_effect_03
668   0000              	GLOBAL _ay_effect_02
669   0000              	GLOBAL _ay_effect_01
670   0000              	GLOBAL _pb_midi_phase_1
671   0000              	GLOBAL _pb_midi_title
672   0000              	GLOBAL _joynames
673   0000              	GLOBAL _initials
674   0000              	GLOBAL _hof
675   0000              	GLOBAL _score_osd_tile
676   0000              	GLOBAL _score_osd_time
677   0000              	GLOBAL _score_osd_col
678   0000              	GLOBAL _score_osd_lin
679   0000              	GLOBAL _phase_bonus_total
680   0000              	GLOBAL _phase_angry
681   0000              	GLOBAL _phase_curr
682   0000              	GLOBAL _phase_end
683   0000              	GLOBAL _phase_coins
684   0000              	GLOBAL _phase_pop
685   0000              	GLOBAL _phase_tot
686   0000              	GLOBAL _phase_left
687   0000              	GLOBAL _phase_quota
688   0000              	GLOBAL _phases
689   0000              	GLOBAL _spr_idx
690   0000              	GLOBAL _lvl_1
691   0000              	GLOBAL _sprite_speed_alt
692   0000              	GLOBAL _sprite_speed
693   0000              	GLOBAL _screen_ink
694   0000              	GLOBAL _screen_paper
695   0000              	GLOBAL _game_menu_sel
696   0000              	GLOBAL _game_type
697   0000              	GLOBAL _game_osd
698   0000              	GLOBAL _game_bonus
699   0000              	GLOBAL _spr_water_time
700   0000              	GLOBAL _spr_water_clear
701   0000              	GLOBAL _game_time_fireball_start
702   0000              	GLOBAL _game_time_flipped
703   0000              	GLOBAL _game_score_top
704   0000              	GLOBAL _game_lives
705   0000              	GLOBAL _game_over
706   0000              	GLOBAL _game_sound
707   0000              	GLOBAL _game_two_player
708   0000              	GLOBAL _game_brick_tile
709   0000              	GLOBAL _game_pow
710   0000              	GLOBAL _spr_count
711   0000              	GLOBAL _frame_loop_count
712   0000              	GLOBAL _osd_time
713   0000              	GLOBAL _frame_time
714   0000              	GLOBAL _entry_time
715   0000              	GLOBAL _curr_time
716   0000              	GLOBAL _s_state
717   0000              	GLOBAL _attrib_hl
718   0000              	GLOBAL _attrib
719   0000              	GLOBAL _zx_val_asm
720   0000              	GLOBAL _enemies
721   0000              	GLOBAL _tmp_ui
722   0000              	GLOBAL _tmp_sc
723   0000              	GLOBAL _tmp_uc
724   0000              	GLOBAL _tmp1
725   0000              	GLOBAL _tmp0
726   0000              	GLOBAL _tmp
727   0000              	GLOBAL _index_d
728   0000              	GLOBAL _index3
729   0000              	GLOBAL _index2
730   0000              	GLOBAL _index1
731   0000              	GLOBAL _loop_count
732   0000              	GLOBAL _sprite_lin_inc_mul
733   0000              	GLOBAL _s_col1
734   0000              	GLOBAL _s_col0
735   0000              	GLOBAL _s_lin1
736   0000              	GLOBAL _s_lin0
737   0000              	GLOBAL _s_tile1
738   0000              	GLOBAL _s_tile0
739   0000              	GLOBAL _hit_count
740   0000              	GLOBAL _tile_offset_other_player
741   0000              	GLOBAL _tile_offset
742   0000              	GLOBAL _index_player
743   0000              	GLOBAL _sprite_other_player
744   0000              	GLOBAL _sprite
745   0000              	GLOBAL _player_joy
746   0000              	GLOBAL _player_next_extra
747   0000              	GLOBAL _player_score
748   0000              	GLOBAL _last_time
749   0000              	GLOBAL _sliding
750   0000              	GLOBAL _spr_timer_c
751   0000              	GLOBAL _spr_timer
752   0000              	GLOBAL _jump_lin
753   0000              	GLOBAL _player_jump_c
754   0000              	GLOBAL _hit_col
755   0000              	GLOBAL _hit_lin
756   0000              	GLOBAL _colint
757   0000              	GLOBAL _col
758   0000              	GLOBAL _lin
759   0000              	GLOBAL _tile
760   0000              	GLOBAL _state_a
761   0000              	GLOBAL _state
762   0000              	GLOBAL _class
763   0000              	GLOBAL _tbuffer
764   0000              	GLOBAL _dirs
765   0000              	GLOBAL _k2
766   0000              	GLOBAL _k1
767   0000              	GLOBAL _joyfunc2
768   0000              	GLOBAL _joyfunc1
769   0000              	GLOBAL _btiles
770   0000              	GLOBAL _spec128
771   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
772   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
773   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
774   0000              	GLOBAL _NIRVANAP_HOLE
775   0000              	GLOBAL _NIRVANAP_ISR_HOOK
776   0000              	GLOBAL _control_method
777   0000              	GLOBAL _hall_valids
778   0000              ;--------------------------------------------------------
779   0000              ; special function registers
780   0000              ;--------------------------------------------------------
781   0000              ;--------------------------------------------------------
782   0000              ; ram data
783   0000              ;--------------------------------------------------------
784   0000              	SECTION bss_compiler
785   0000              ;--------------------------------------------------------
786   0000              ; ram data
787   0000              ;--------------------------------------------------------
788   0000              
789   0000              IF 0
790   0000              
791   0000              ; .area _INITIALIZED removed by z88dk
792   0000              
793   0000              
794   0000              ENDIF
795   0000              
796   0000              ;--------------------------------------------------------
797   0000              ; absolute external ram data
798   0000              ;--------------------------------------------------------
799   0000              	SECTION IGNORE
800   0000              ;--------------------------------------------------------
801   0000              ; global & static initialisations
802   0000              ;--------------------------------------------------------
803   0000              	SECTION code_crt_init
804   0000              ;--------------------------------------------------------
805   0000              ; Home
806   0000              ;--------------------------------------------------------
807   0000              	SECTION IGNORE
808   0000              ;--------------------------------------------------------
809   0000              ; code
810   0000              ;--------------------------------------------------------
811   0000              	SECTION code_compiler
812   0000              ;	---------------------------------
813   0000              ; Function enemy_coin1
814   0000              ; ---------------------------------
815   0000              _enemy_coin1:
816   0000  3A 00 00    	ld	a,(_phase_left)
817   0003  B7          	or	a, a
818   0004  28 2C       	jr	Z,l_enemy_coin1_00107
819   0006  CD 35 0E    	call	_enemy_walk
820   0009  2A 00 00    	ld	hl,(_sprite)
821   000C  26 00       	ld	h,0x00
822   000E  01 00 00    	ld	bc,_lin
823   0011  09          	add	hl,bc
824   0012  7E          	ld	a,(hl)
825   0013  D6 98       	sub	a,0x98
826   0015  20 1B       	jr	NZ,l_enemy_coin1_00107
827   0017  3A 00 00    	ld	a,(_sprite)
828   001A  4F          	ld	c,a
829   001B  06 00       	ld	b,0x00
830   001D  21 00 00    	ld	hl,_col
831   0020  09          	add	hl,bc
832   0021  7E          	ld	a,(hl)
833   0022  4F          	ld	c,a
834   0023  D6 03       	sub	a,0x03
835   0025  28 05       	jr	Z,l_enemy_coin1_00101
836   0027  79          	ld	a,c
837   0028  D6 1B       	sub	a,0x1b
838   002A  20 06       	jr	NZ,l_enemy_coin1_00107
839   002C              l_enemy_coin1_00101:
840   002C  2A 00 00    	ld	hl,(_sprite)
841   002F  CD 00 00    	call	_spr_destroy
842   0032              l_enemy_coin1_00107:
843   0032  C9          	ret
844   0033              	SECTION code_compiler
845   0033              ;	---------------------------------
846   0033              ; Function enemy_coin2
847   0033              ; ---------------------------------
848   0033              _enemy_coin2:
849   0033  01 00 00    	ld	bc,_colint+0
850   0036  79          	ld	a,c
851   0037  21 00 00    	ld	hl,_sprite
852   003A  86          	add	a, (hl)
853   003B  5F          	ld	e,a
854   003C  78          	ld	a,b
855   003D  CE 00       	adc	a,0x00
856   003F  57          	ld	d,a
857   0040  1A          	ld	a,(de)
858   0041  3C          	inc	a
859   0042  12          	ld	(de),a
860   0043  79          	ld	a,c
861   0044  86          	add	a, (hl)
862   0045  4F          	ld	c,a
863   0046  78          	ld	a,b
864   0047  CE 00       	adc	a,0x00
865   0049  47          	ld	b,a
866   004A  0A          	ld	a,(bc)
867   004B  D6 03       	sub	a,0x03
868   004D  C0          	ret	NZ
869   004E  AF          	xor	a, a
870   004F  02          	ld	(bc),a
871   0050  C9          	ret
872   0051              	SECTION code_compiler
873   0051              ;	---------------------------------
874   0051              ; Function enemy_collition
875   0051              ; ---------------------------------
876   0051              _enemy_collition:
877   0051  CD 00 00    	call	___sdcc_enter_ix
878   0054  3B          	dec	sp
879   0055  21 00 00    	ld	hl,_enemies
880   0058  36 00       	ld	(hl),0x00
881   005A              l_enemy_collition_00113:
882   005A  CD 7F 01    	call	_enemy_collition_check
883   005D  7D          	ld	a,l
884   005E  B7          	or	a, a
885   005F  CA 70 01    	jp	Z,l_enemy_collition_00114
886   0062  3A 00 00    	ld	a,(_enemies)
887   0065  C6 00       	add	a,+((_state) & 0xFF)
888   0067  4F          	ld	c,a
889   0068  3E 00       	ld	a,+((_state) / 256)
890   006A  CE 00       	adc	a,0x00
891   006C  47          	ld	b,a
892   006D  0A          	ld	a,(bc)
893   006E  DD 77 FF    	ld	(ix-1),a
894   0071  CB 67       	bit	4,a
895   0073  C2 06 01    	jp	NZ,l_enemy_collition_00104
896   0076  21 00 00    	ld	hl,_s_state
897   0079  7E          	ld	a,(hl)
898   007A  E6 08       	and	a,0x08
899   007C  5F          	ld	e,a
900   007D  DD 7E FF    	ld	a,(ix-1)
901   0080  E6 08       	and	a,0x08
902   0082  57          	ld	d,a
903   0083  7B          	ld	a,e
904   0084  92          	sub	a, d
905   0085  CA 06 01    	jp	Z,l_enemy_collition_00104
906   0088  7E          	ld	a,(hl)
907   0089  E6 04       	and	a,0x04
908   008B  5F          	ld	e,a
909   008C  DD 7E FF    	ld	a,(ix-1)
910   008F  E6 04       	and	a,0x04
911   0091  57          	ld	d,a
912   0092  7B          	ld	a,e
913   0093  92          	sub	a, d
914   0094  28 70       	jr	Z,l_enemy_collition_00104
915   0096  2A 00 00    	ld	hl,(_sprite)
916   0099  26 00       	ld	h,0x00
917   009B  11 00 00    	ld	de,_class
918   009E  19          	add	hl,de
919   009F  7E          	ld	a,(hl)
920   00A0  D6 08       	sub	a,0x08
921   00A2  28 62       	jr	Z,l_enemy_collition_00104
922   00A4  DD 7E FF    	ld	a,(ix-1)
923   00A7  EE 04       	xor	a,0x04
924   00A9  02          	ld	(bc),a
925   00AA  2A 00 00    	ld	hl,(_enemies)
926   00AD  26 00       	ld	h,0x00
927   00AF  01 00 00    	ld	bc,_state
928   00B2  09          	add	hl,bc
929   00B3  7E          	ld	a,(hl)
930   00B4  EE 08       	xor	a,0x08
931   00B6  77          	ld	(hl),a
932   00B7  2A 00 00    	ld	hl,(_enemies)
933   00BA  26 00       	ld	h,0x00
934   00BC  01 00 00    	ld	bc,_class
935   00BF  09          	add	hl,bc
936   00C0  4E          	ld	c,(hl)
937   00C1  3E 06       	ld	a,0x06
938   00C3  91          	sub	a,c
939   00C4  38 40       	jr	C,l_enemy_collition_00104
940   00C6  3E 00       	ld	a,+((_state_a) & 0xFF)
941   00C8  21 00 00    	ld	hl,_enemies
942   00CB  86          	add	a, (hl)
943   00CC  4F          	ld	c,a
944   00CD  3E 00       	ld	a,+((_state_a) / 256)
945   00CF  CE 00       	adc	a,0x00
946   00D1  47          	ld	b,a
947   00D2  0A          	ld	a,(bc)
948   00D3  CB CF       	set	1, a
949   00D5  02          	ld	(bc),a
950   00D6  6E          	ld	l,(hl)
951   00D7  26 00       	ld	h,0x00
952   00D9  29          	add	hl,hl
953   00DA  01 00 00    	ld	bc,_spr_timer
954   00DD  09          	add	hl,bc
955   00DE  ED 5B 00 00 	ld	de,(_curr_time)
956   00E2  73          	ld	(hl),e
957   00E3  23          	inc	hl
958   00E4  72          	ld	(hl),d
959   00E5  3E 00       	ld	a,+((_tile) & 0xFF)
960   00E7  21 00 00    	ld	hl,_enemies
961   00EA  86          	add	a, (hl)
962   00EB  4F          	ld	c,a
963   00EC  3E 00       	ld	a,+((_tile) / 256)
964   00EE  CE 00       	adc	a,0x00
965   00F0  47          	ld	b,a
966   00F1  6E          	ld	l,(hl)
967   00F2  C5          	push	bc
968   00F3  CD 00 00    	call	_spr_tile
969   00F6  C1          	pop	bc
970   00F7  7D          	ld	a, l
971   00F8  02          	ld	(bc),a
972   00F9  3A 00 00    	ld	a,(_enemies)
973   00FC  C6 00       	add	a,+((_colint) & 0xFF)
974   00FE  4F          	ld	c,a
975   00FF  3E 00       	ld	a,+((_colint) / 256)
976   0101  CE 00       	adc	a,0x00
977   0103  47          	ld	b,a
978   0104  AF          	xor	a, a
979   0105  02          	ld	(bc),a
980   0106              l_enemy_collition_00104:
981   0106  21 00 00    	ld	hl,_s_state
982   0109  7E          	ld	a,(hl)
983   010A  EE 0C       	xor	a,+(0x04^0x08)
984   010C  77          	ld	(hl),a
985   010D  2A 00 00    	ld	hl,(_sprite)
986   0110  26 00       	ld	h,0x00
987   0112  01 00 00    	ld	bc,_class
988   0115  09          	add	hl,bc
989   0116  4E          	ld	c,(hl)
990   0117  3E 06       	ld	a,0x06
991   0119  91          	sub	a,c
992   011A  38 3E       	jr	C,l_enemy_collition_00109
993   011C  3E 00       	ld	a,+((_state_a) & 0xFF)
994   011E  21 00 00    	ld	hl,_sprite
995   0121  86          	add	a, (hl)
996   0122  4F          	ld	c,a
997   0123  3E 00       	ld	a,+((_state_a) / 256)
998   0125  CE 00       	adc	a,0x00
999   0127  47          	ld	b,a
1000  0128  0A          	ld	a,(bc)
1001  0129  CB CF       	set	1, a
1002  012B  02          	ld	(bc),a
1003  012C  3E 00       	ld	a,+((_state) & 0xFF)
1004  012E  86          	add	a, (hl)
1005  012F  4F          	ld	c,a
1006  0130  3E 00       	ld	a,+((_state) / 256)
1007  0132  CE 00       	adc	a,0x00
1008  0134  47          	ld	b,a
1009  0135  3A 00 00    	ld	a,(_s_state)
1010  0138  02          	ld	(bc),a
1011  0139  3E 00       	ld	a,+((_tile) & 0xFF)
1012  013B  21 00 00    	ld	hl,_sprite
1013  013E  86          	add	a, (hl)
1014  013F  4F          	ld	c,a
1015  0140  3E 00       	ld	a,+((_tile) / 256)
1016  0142  CE 00       	adc	a,0x00
1017  0144  47          	ld	b,a
1018  0145  6E          	ld	l,(hl)
1019  0146  C5          	push	bc
1020  0147  CD 00 00    	call	_spr_tile
1021  014A  C1          	pop	bc
1022  014B  7D          	ld	a, l
1023  014C  02          	ld	(bc),a
1024  014D  3A 00 00    	ld	a,(_sprite)
1025  0150  C6 00       	add	a,+((_colint) & 0xFF)
1026  0152  4F          	ld	c,a
1027  0153  3E 00       	ld	a,+((_colint) / 256)
1028  0155  CE 00       	adc	a,0x00
1029  0157  47          	ld	b,a
1030  0158  AF          	xor	a, a
1031  0159  02          	ld	(bc),a
1032  015A              l_enemy_collition_00109:
1033  015A  2A 00 00    	ld	hl,(_sprite)
1034  015D  26 00       	ld	h,0x00
1035  015F  29          	add	hl,hl
1036  0160  01 00 00    	ld	bc,_spr_timer
1037  0163  09          	add	hl,bc
1038  0164  ED 5B 00 00 	ld	de,(_curr_time)
1039  0168  73          	ld	(hl),e
1040  0169  23          	inc	hl
1041  016A  72          	ld	(hl),d
1042  016B  21 00 00    	ld	hl,_enemies
1043  016E  36 06       	ld	(hl),0x06
1044  0170              l_enemy_collition_00114:
1045  0170  21 00 00    	ld	hl,_enemies
1046  0173  7E          	ld	a,(hl)
1047  0174  3C          	inc	a
1048  0175  77          	ld	(hl),a
1049  0176  D6 06       	sub	a,0x06
1050  0178  DA 5A 00    	jp	C,l_enemy_collition_00113
1051  017B  33          	inc	sp
1052  017C  DD E1       	pop	ix
1053  017E  C9          	ret
1054  017F              	SECTION code_compiler
1055  017F              ;	---------------------------------
1056  017F              ; Function enemy_collition_check
1057  017F              ; ---------------------------------
1058  017F              _enemy_collition_check:
1059  017F  2A 00 00    	ld	hl,(_enemies)
1060  0182  26 00       	ld	h,0x00
1061  0184  01 00 00    	ld	bc,_class
1062  0187  09          	add	hl,bc
1063  0188  7E          	ld	a,(hl)
1064  0189  4F          	ld	c,a
1065  018A  B7          	or	a,a
1066  018B  20 04       	jr	NZ,l_enemy_collition_check_00102
1067  018D  6F          	ld	l,a
1068  018E  C3 66 02    	jp	l_enemy_collition_check_00125
1069  0191              l_enemy_collition_check_00102:
1070  0191  3E 09       	ld	a,0x09
1071  0193  91          	sub	a, c
1072  0194  30 05       	jr	NC,l_enemy_collition_check_00104
1073  0196  2E 00       	ld	l,0x00
1074  0198  C3 66 02    	jp	l_enemy_collition_check_00125
1075  019B              l_enemy_collition_check_00104:
1076  019B  3A 00 00    	ld	a,(_enemies)
1077  019E  21 00 00    	ld	hl,_sprite
1078  01A1  96          	sub	a,(hl)
1079  01A2  20 04       	jr	NZ,l_enemy_collition_check_00106
1080  01A4  6F          	ld	l,a
1081  01A5  C3 66 02    	jp	l_enemy_collition_check_00125
1082  01A8              l_enemy_collition_check_00106:
1083  01A8  3A 00 00    	ld	a,(_sprite)
1084  01AB  C6 00       	add	a,+((_state) & 0xFF)
1085  01AD  4F          	ld	c,a
1086  01AE  3E 00       	ld	a,+((_state) / 256)
1087  01B0  CE 00       	adc	a,0x00
1088  01B2  47          	ld	b,a
1089  01B3  0A          	ld	a,(bc)
1090  01B4  CB 67       	bit	4, a
1091  01B6  28 05       	jr	Z,l_enemy_collition_check_00108
1092  01B8  2E 00       	ld	l,0x00
1093  01BA  C3 66 02    	jp	l_enemy_collition_check_00125
1094  01BD              l_enemy_collition_check_00108:
1095  01BD  CB 6F       	bit	5, a
1096  01BF  28 05       	jr	Z,l_enemy_collition_check_00110
1097  01C1  2E 00       	ld	l,0x00
1098  01C3  C3 66 02    	jp	l_enemy_collition_check_00125
1099  01C6              l_enemy_collition_check_00110:
1100  01C6  3A 00 00    	ld	a,(_sprite)
1101  01C9  C6 00       	add	a,+((_state_a) & 0xFF)
1102  01CB  4F          	ld	c,a
1103  01CC  3E 00       	ld	a,+((_state_a) / 256)
1104  01CE  CE 00       	adc	a,0x00
1105  01D0  47          	ld	b,a
1106  01D1  0A          	ld	a,(bc)
1107  01D2  CB 4F       	bit	1, a
1108  01D4  28 05       	jr	Z,l_enemy_collition_check_00112
1109  01D6  2E 00       	ld	l,0x00
1110  01D8  C3 66 02    	jp	l_enemy_collition_check_00125
1111  01DB              l_enemy_collition_check_00112:
1112  01DB  3A 00 00    	ld	a,(_enemies)
1113  01DE  C6 00       	add	a,+((_state) & 0xFF)
1114  01E0  4F          	ld	c,a
1115  01E1  3E 00       	ld	a,+((_state) / 256)
1116  01E3  CE 00       	adc	a,0x00
1117  01E5  47          	ld	b,a
1118  01E6  0A          	ld	a,(bc)
1119  01E7  CB 6F       	bit	5, a
1120  01E9  28 05       	jr	Z,l_enemy_collition_check_00114
1121  01EB  2E 00       	ld	l,0x00
1122  01ED  C3 66 02    	jp	l_enemy_collition_check_00125
1123  01F0              l_enemy_collition_check_00114:
1124  01F0  CB 4F       	bit	1, a
1125  01F2  28 04       	jr	Z,l_enemy_collition_check_00116
1126  01F4  2E 00       	ld	l,0x00
1127  01F6  18 6E       	jr	l_enemy_collition_check_00125
1128  01F8              l_enemy_collition_check_00116:
1129  01F8  01 00 00    	ld	bc,_lin+0
1130  01FB  2A 00 00    	ld	hl,(_enemies)
1131  01FE  26 00       	ld	h,0x00
1132  0200  09          	add	hl,bc
1133  0201  6E          	ld	l, (hl)
1134  0202  26 00       	ld	h,0x00
1135  0204  EB          	ex	de,hl
1136  0205  2A 00 00    	ld	hl,(_sprite)
1137  0208  62          	ld	h,d
1138  0209  09          	add	hl,bc
1139  020A  4E          	ld	c, (hl)
1140  020B  AF          	xor	a,a
1141  020C  47          	ld	b,a
1142  020D  EB          	ex	de,hl
1143  020E  ED 42       	sbc	hl,bc
1144  0210  CD 00 00    	call	_abs_fastcall
1145  0213  22 00 00    	ld	(_tmp_ui),hl
1146  0216  7D          	ld	a,l
1147  0217  D6 10       	sub	a,0x10
1148  0219  7C          	ld	a,h
1149  021A  DE 00       	sbc	a,0x00
1150  021C  38 04       	jr	C,l_enemy_collition_check_00118
1151  021E  2E 00       	ld	l,0x00
1152  0220  18 44       	jr	l_enemy_collition_check_00125
1153  0222              l_enemy_collition_check_00118:
1154  0222  01 00 00    	ld	bc,_col+0
1155  0225  2A 00 00    	ld	hl,(_sprite)
1156  0228  26 00       	ld	h,0x00
1157  022A  09          	add	hl,bc
1158  022B  6E          	ld	l, (hl)
1159  022C  EB          	ex	de,hl
1160  022D  2A 00 00    	ld	hl,(_enemies)
1161  0230  26 00       	ld	h,0x00
1162  0232  09          	add	hl,bc
1163  0233  4E          	ld	c, (hl)
1164  0234  7B          	ld	a,e
1165  0235  91          	sub	a, c
1166  0236  32 00 00    	ld	(_tmp_sc),a
1167  0239  3A 00 00    	ld	a,(_sprite)
1168  023C  C6 00       	add	a,+((_state) & 0xFF)
1169  023E  4F          	ld	c,a
1170  023F  3E 00       	ld	a,+((_state) / 256)
1171  0241  CE 00       	adc	a,0x00
1172  0243  47          	ld	b,a
1173  0244  3A 00 00    	ld	a,(_tmp_sc)
1174  0247  D6 FE       	sub	a,0xfe
1175  0249  20 09       	jr	NZ,l_enemy_collition_check_00120
1176  024B  0A          	ld	a,(bc)
1177  024C  CB 57       	bit	2, a
1178  024E  28 04       	jr	Z,l_enemy_collition_check_00120
1179  0250  2E 01       	ld	l,0x01
1180  0252  18 12       	jr	l_enemy_collition_check_00125
1181  0254              l_enemy_collition_check_00120:
1182  0254  3A 00 00    	ld	a,(_tmp_sc)
1183  0257  D6 02       	sub	a,0x02
1184  0259  20 09       	jr	NZ,l_enemy_collition_check_00123
1185  025B  0A          	ld	a,(bc)
1186  025C  CB 5F       	bit	3, a
1187  025E  28 04       	jr	Z,l_enemy_collition_check_00123
1188  0260  2E 01       	ld	l,0x01
1189  0262  18 02       	jr	l_enemy_collition_check_00125
1190  0264              l_enemy_collition_check_00123:
1191  0264  2E 00       	ld	l,0x00
1192  0266              l_enemy_collition_check_00125:
1193  0266  C9          	ret
1194  0267              	SECTION code_compiler
1195  0267              ;	---------------------------------
1196  0267              ; Function enemy_hit
1197  0267              ; ---------------------------------
1198  0267              _enemy_hit:
1199  0267  76          	halt
1200  0268  2A 00 00    	ld	hl,(_enemies)
1201  026B  26 00       	ld	h,0x00
1202  026D  5D          	ld	e,l
1203  026E  01 00 00    	ld	bc,_col
1204  0271  09          	add	hl,bc
1205  0272  46          	ld	b,(hl)
1206  0273  16 00       	ld	d,0x00
1207  0275  21 00 00    	ld	hl,_lin
1208  0278  19          	add	hl,de
1209  0279  4E          	ld	c, (hl)
1210  027A  C5          	push	bc
1211  027B  AF          	xor	a, a
1212  027C  F5          	push	af
1213  027D  33          	inc	sp
1214  027E  CD 00 00    	call	_NIRVANAP_fillT_callee
1215  0281  2A 00 00    	ld	hl,(_enemies)
1216  0284  26 00       	ld	h,0x00
1217  0286  01 00 00    	ld	bc,_lin
1218  0289  09          	add	hl,bc
1219  028A  7E          	ld	a,(hl)
1220  028B  C6 FC       	add	a,0xfc
1221  028D  77          	ld	(hl),a
1222  028E  3E 00       	ld	a,+((_col) & 0xFF)
1223  0290  21 00 00    	ld	hl,_enemies
1224  0293  86          	add	a, (hl)
1225  0294  4F          	ld	c,a
1226  0295  3E 00       	ld	a,+((_col) / 256)
1227  0297  CE 00       	adc	a,0x00
1228  0299  47          	ld	b,a
1229  029A  0A          	ld	a,(bc)
1230  029B  4F          	ld	c,a
1231  029C  3E 00       	ld	a,+((_lin) & 0xFF)
1232  029E  86          	add	a, (hl)
1233  029F  5F          	ld	e,a
1234  02A0  3E 00       	ld	a,+((_lin) / 256)
1235  02A2  CE 00       	adc	a,0x00
1236  02A4  57          	ld	d,a
1237  02A5  1A          	ld	a,(de)
1238  02A6  47          	ld	b,a
1239  02A7  3E 00       	ld	a,+((_tile) & 0xFF)
1240  02A9  86          	add	a, (hl)
1241  02AA  5F          	ld	e,a
1242  02AB  3E 00       	ld	a,+((_tile) / 256)
1243  02AD  CE 00       	adc	a,0x00
1244  02AF  57          	ld	d,a
1245  02B0  1A          	ld	a,(de)
1246  02B1  57          	ld	d,a
1247  02B2  79          	ld	a,c
1248  02B3  F5          	push	af
1249  02B4  33          	inc	sp
1250  02B5  4A          	ld	c, d
1251  02B6  7E          	ld	a,(hl)
1252  02B7  C5          	push	bc
1253  02B8  F5          	push	af
1254  02B9  33          	inc	sp
1255  02BA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1256  02BD  2A 00 00    	ld	hl,(_enemies)
1257  02C0  26 00       	ld	h,0x00
1258  02C2  01 00 00    	ld	bc,_state_a
1259  02C5  09          	add	hl,bc
1260  02C6  7E          	ld	a,(hl)
1261  02C7  E6 FD       	and	a,0xfd
1262  02C9  77          	ld	(hl),a
1263  02CA  01 00 00    	ld	bc,_spr_timer+0
1264  02CD  2A 00 00    	ld	hl,(_enemies)
1265  02D0  26 00       	ld	h,0x00
1266  02D2  29          	add	hl, hl
1267  02D3  09          	add	hl,bc
1268  02D4  ED 5B 00 00 	ld	de,(_curr_time)
1269  02D8  73          	ld	(hl),e
1270  02D9  23          	inc	hl
1271  02DA  72          	ld	(hl),d
1272  02DB  3A 00 00    	ld	a,(_enemies)
1273  02DE  C6 00       	add	a,+((_class) & 0xFF)
1274  02E0  4F          	ld	c,a
1275  02E1  3E 00       	ld	a,+((_class) / 256)
1276  02E3  CE 00       	adc	a,0x00
1277  02E5  47          	ld	b,a
1278  02E6  0A          	ld	a,(bc)
1279  02E7  5F          	ld	e,a
1280  02E8  D6 01       	sub	a,0x01
1281  02EA  DA 8A 03    	jp	C,l_enemy_hit_00113
1282  02ED  3E 0B       	ld	a,0x0b
1283  02EF  93          	sub	a, e
1284  02F0  DA 8A 03    	jp	C,l_enemy_hit_00113
1285  02F3  1D          	dec	e
1286  02F4  16 00       	ld	d,0x00
1287  02F6  21 FD 02    	ld	hl,l_enemy_hit_00123
1288  02F9  19          	add	hl,de
1289  02FA  19          	add	hl,de
1290  02FB  19          	add	hl,de
1291  02FC  E9          	jp	(hl)
1292  02FD              l_enemy_hit_00123:
1293  02FD  C3 1E 03    	jp	l_enemy_hit_00101
1294  0300  C3 26 03    	jp	l_enemy_hit_00102
1295  0303  C3 2E 03    	jp	l_enemy_hit_00103
1296  0306  C3 36 03    	jp	l_enemy_hit_00104
1297  0309  C3 3E 03    	jp	l_enemy_hit_00105
1298  030C  C3 46 03    	jp	l_enemy_hit_00106
1299  030F  C3 56 03    	jp	l_enemy_hit_00108
1300  0312  C3 62 03    	jp	l_enemy_hit_00109
1301  0315  C3 4E 03    	jp	l_enemy_hit_00107
1302  0318  C3 74 03    	jp	l_enemy_hit_00110
1303  031B  C3 80 03    	jp	l_enemy_hit_00111
1304  031E              l_enemy_hit_00101:
1305  031E  21 30 00    	ld	hl,0x0030
1306  0321  CD 76 04    	call	_enemy_flip
1307  0324  18 64       	jr	l_enemy_hit_00113
1308  0326              l_enemy_hit_00102:
1309  0326  21 3C 00    	ld	hl,0x003c
1310  0329  CD 76 04    	call	_enemy_flip
1311  032C  18 5C       	jr	l_enemy_hit_00113
1312  032E              l_enemy_hit_00103:
1313  032E  21 48 00    	ld	hl,0x0048
1314  0331  CD 76 04    	call	_enemy_flip
1315  0334  18 54       	jr	l_enemy_hit_00113
1316  0336              l_enemy_hit_00104:
1317  0336  21 54 00    	ld	hl,0x0054
1318  0339  CD 53 05    	call	_enemy_flip_sidestepper
1319  033C  18 4C       	jr	l_enemy_hit_00113
1320  033E              l_enemy_hit_00105:
1321  033E  21 60 00    	ld	hl,0x0060
1322  0341  CD 53 05    	call	_enemy_flip_sidestepper
1323  0344  18 44       	jr	l_enemy_hit_00113
1324  0346              l_enemy_hit_00106:
1325  0346  21 6C 00    	ld	hl,0x006c
1326  0349  CD 53 05    	call	_enemy_flip_sidestepper
1327  034C  18 3C       	jr	l_enemy_hit_00113
1328  034E              l_enemy_hit_00107:
1329  034E  21 78 00    	ld	hl,0x0078
1330  0351  CD 76 04    	call	_enemy_flip
1331  0354  18 34       	jr	l_enemy_hit_00113
1332  0356              l_enemy_hit_00108:
1333  0356  2A 00 00    	ld	hl,(_enemies)
1334  0359  26 32       	ld	h,0x32
1335  035B  E5          	push	hl
1336  035C  CD 00 00    	call	_player_coin
1337  035F  F1          	pop	af
1338  0360  18 28       	jr	l_enemy_hit_00113
1339  0362              l_enemy_hit_00109:
1340  0362  21 00 00    	ld	hl,_ay_effect_10
1341  0365  CD 00 00    	call	_ay_fx_play
1342  0368  2A 00 00    	ld	hl,(_enemies)
1343  036B  26 50       	ld	h,0x50
1344  036D  E5          	push	hl
1345  036E  CD 00 00    	call	_player_coin
1346  0371  F1          	pop	af
1347  0372  18 16       	jr	l_enemy_hit_00113
1348  0374              l_enemy_hit_00110:
1349  0374  2A 00 00    	ld	hl,(_enemies)
1350  0377  26 64       	ld	h,0x64
1351  0379  E5          	push	hl
1352  037A  CD 00 00    	call	_player_coin
1353  037D  F1          	pop	af
1354  037E  18 0A       	jr	l_enemy_hit_00113
1355  0380              l_enemy_hit_00111:
1356  0380  2A 00 00    	ld	hl,(_enemies)
1357  0383  26 14       	ld	h,0x14
1358  0385  E5          	push	hl
1359  0386  CD 00 00    	call	_player_coin
1360  0389  F1          	pop	af
1361  038A              l_enemy_hit_00113:
1362  038A  C9          	ret
1363  038B              	SECTION code_compiler
1364  038B              ;	---------------------------------
1365  038B              ; Function enemy_flip_change_dir
1366  038B              ; ---------------------------------
1367  038B              _enemy_flip_change_dir:
1368  038B  3A 00 00    	ld	a,(_enemies)
1369  038E  C6 00       	add	a,+((_state) & 0xFF)
1370  0390  4D          	ld	c,l
1371  0391  5F          	ld	e,a
1372  0392  3E 00       	ld	a,+((_state) / 256)
1373  0394  CE 00       	adc	a,0x00
1374  0396  57          	ld	d,a
1375  0397  1A          	ld	a,(de)
1376  0398  CB 57       	bit	2, a
1377  039A  28 1F       	jr	Z,l_enemy_flip_change_dir_00102
1378  039C  2A 00 00    	ld	hl,(_enemies)
1379  039F  26 00       	ld	h,0x00
1380  03A1  11 00 00    	ld	de,_state_a
1381  03A4  19          	add	hl,de
1382  03A5  7E          	ld	a,(hl)
1383  03A6  EB          	ex	de,hl
1384  03A7  21 00 00    	ld	hl,_enemies
1385  03AA  CB E7       	set	4, a
1386  03AC  12          	ld	(de),a
1387  03AD  5E          	ld	e,(hl)
1388  03AE  16 00       	ld	d,0x00
1389  03B0  21 00 00    	ld	hl,_state_a
1390  03B3  19          	add	hl,de
1391  03B4  7E          	ld	a,(hl)
1392  03B5  EB          	ex	de,hl
1393  03B6  E6 F7       	and	a,0xf7
1394  03B8  12          	ld	(de),a
1395  03B9  18 1D       	jr	l_enemy_flip_change_dir_00103
1396  03BB              l_enemy_flip_change_dir_00102:
1397  03BB  2A 00 00    	ld	hl,(_enemies)
1398  03BE  26 00       	ld	h,0x00
1399  03C0  11 00 00    	ld	de,_state_a
1400  03C3  19          	add	hl,de
1401  03C4  7E          	ld	a,(hl)
1402  03C5  EB          	ex	de,hl
1403  03C6  21 00 00    	ld	hl,_enemies
1404  03C9  CB E7       	set	4, a
1405  03CB  12          	ld	(de),a
1406  03CC  5E          	ld	e,(hl)
1407  03CD  16 00       	ld	d,0x00
1408  03CF  21 00 00    	ld	hl,_state_a
1409  03D2  19          	add	hl,de
1410  03D3  7E          	ld	a,(hl)
1411  03D4  EB          	ex	de,hl
1412  03D5  E6 F7       	and	a,0xf7
1413  03D7  12          	ld	(de),a
1414  03D8              l_enemy_flip_change_dir_00103:
1415  03D8  2A 00 00    	ld	hl,(_sprite)
1416  03DB  26 00       	ld	h,0x00
1417  03DD  11 00 00    	ld	de,_col
1418  03E0  19          	add	hl,de
1419  03E1  46          	ld	b, (hl)
1420  03E2  2A 00 00    	ld	hl,(_enemies)
1421  03E5  26 00       	ld	h,0x00
1422  03E7  11 00 00    	ld	de,_col
1423  03EA  19          	add	hl,de
1424  03EB  7E          	ld	a,(hl)
1425  03EC  90          	sub	a,b
1426  03ED  30 1D       	jr	NC,l_enemy_flip_change_dir_00105
1427  03EF  2A 00 00    	ld	hl,(_enemies)
1428  03F2  26 00       	ld	h,0x00
1429  03F4  11 00 00    	ld	de,_state
1430  03F7  19          	add	hl,de
1431  03F8  7E          	ld	a,(hl)
1432  03F9  EB          	ex	de,hl
1433  03FA  21 00 00    	ld	hl,_enemies
1434  03FD  CB DF       	set	3, a
1435  03FF  12          	ld	(de),a
1436  0400  5E          	ld	e,(hl)
1437  0401  16 00       	ld	d,0x00
1438  0403  21 00 00    	ld	hl,_state
1439  0406  19          	add	hl,de
1440  0407  7E          	ld	a,(hl)
1441  0408  EB          	ex	de,hl
1442  0409  E6 FB       	and	a,0xfb
1443  040B  12          	ld	(de),a
1444  040C              l_enemy_flip_change_dir_00105:
1445  040C  2A 00 00    	ld	hl,(_sprite)
1446  040F  26 00       	ld	h,0x00
1447  0411  11 00 00    	ld	de,_col
1448  0414  19          	add	hl,de
1449  0415  46          	ld	b, (hl)
1450  0416  2A 00 00    	ld	hl,(_enemies)
1451  0419  26 00       	ld	h,0x00
1452  041B  11 00 00    	ld	de,_col
1453  041E  19          	add	hl,de
1454  041F  5E          	ld	e, (hl)
1455  0420  78          	ld	a,b
1456  0421  93          	sub	a,e
1457  0422  30 1D       	jr	NC,l_enemy_flip_change_dir_00107
1458  0424  2A 00 00    	ld	hl,(_enemies)
1459  0427  26 00       	ld	h,0x00
1460  0429  11 00 00    	ld	de,_state
1461  042C  19          	add	hl,de
1462  042D  7E          	ld	a,(hl)
1463  042E  EB          	ex	de,hl
1464  042F  21 00 00    	ld	hl,_enemies
1465  0432  CB D7       	set	2, a
1466  0434  12          	ld	(de),a
1467  0435  5E          	ld	e,(hl)
1468  0436  16 00       	ld	d,0x00
1469  0438  21 00 00    	ld	hl,_state
1470  043B  19          	add	hl,de
1471  043C  7E          	ld	a,(hl)
1472  043D  EB          	ex	de,hl
1473  043E  E6 F7       	and	a,0xf7
1474  0440  12          	ld	(de),a
1475  0441              l_enemy_flip_change_dir_00107:
1476  0441  79          	ld	a,c
1477  0442  B7          	or	a, a
1478  0443  C0          	ret	NZ
1479  0444  2A 00 00    	ld	hl,(_sprite)
1480  0447  26 00       	ld	h,0x00
1481  0449  01 00 00    	ld	bc,_col
1482  044C  09          	add	hl,bc
1483  044D  4E          	ld	c,(hl)
1484  044E  2A 00 00    	ld	hl,(_enemies)
1485  0451  26 00       	ld	h,0x00
1486  0453  11 00 00    	ld	de,_col
1487  0456  19          	add	hl,de
1488  0457  46          	ld	b, (hl)
1489  0458  79          	ld	a,c
1490  0459  90          	sub	a,b
1491  045A  C0          	ret	NZ
1492  045B  2A 00 00    	ld	hl,(_enemies)
1493  045E  26 00       	ld	h,0x00
1494  0460  01 00 00    	ld	bc,_state
1495  0463  09          	add	hl,bc
1496  0464  7E          	ld	a,(hl)
1497  0465  E6 F7       	and	a,0xf7
1498  0467  77          	ld	(hl),a
1499  0468  2A 00 00    	ld	hl,(_enemies)
1500  046B  26 00       	ld	h,0x00
1501  046D  01 00 00    	ld	bc,_state
1502  0470  09          	add	hl,bc
1503  0471  7E          	ld	a,(hl)
1504  0472  E6 FB       	and	a,0xfb
1505  0474  77          	ld	(hl),a
1506  0475  C9          	ret
1507  0476              	SECTION code_compiler
1508  0476              ;	---------------------------------
1509  0476              ; Function enemy_flip
1510  0476              ; ---------------------------------
1511  0476              _enemy_flip:
1512  0476  CD 00 00    	call	___sdcc_enter_ix
1513  0479  F5          	push	af
1514  047A  3B          	dec	sp
1515  047B  DD 75 FE    	ld	(ix-2),l
1516  047E  DD 74 FF    	ld	(ix-1),h
1517  0481  01 00 00    	ld	bc,_spr_timer+0
1518  0484  2A 00 00    	ld	hl,(_enemies)
1519  0487  26 00       	ld	h,0x00
1520  0489  29          	add	hl, hl
1521  048A  09          	add	hl,bc
1522  048B  ED 5B 00 00 	ld	de,(_curr_time)
1523  048F  73          	ld	(hl),e
1524  0490  23          	inc	hl
1525  0491  72          	ld	(hl),d
1526  0492  3E 00       	ld	a,+((_state) & 0xFF)
1527  0494  21 00 00    	ld	hl,_enemies
1528  0497  86          	add	a, (hl)
1529  0498  4F          	ld	c,a
1530  0499  3E 00       	ld	a,+((_state) / 256)
1531  049B  CE 00       	adc	a,0x00
1532  049D  47          	ld	b,a
1533  049E  0A          	ld	a,(bc)
1534  049F  CB C7       	set	0, a
1535  04A1  02          	ld	(bc),a
1536  04A2  3E 00       	ld	a,+((_state) & 0xFF)
1537  04A4  86          	add	a, (hl)
1538  04A5  4F          	ld	c,a
1539  04A6  3E 00       	ld	a,+((_state) / 256)
1540  04A8  CE 00       	adc	a,0x00
1541  04AA  47          	ld	b,a
1542  04AB  0A          	ld	a,(bc)
1543  04AC  E6 FD       	and	a,0xfd
1544  04AE  02          	ld	(bc),a
1545  04AF  3E 00       	ld	a,+((_state) & 0xFF)
1546  04B1  86          	add	a, (hl)
1547  04B2  4F          	ld	c,a
1548  04B3  3E 00       	ld	a,+((_state) / 256)
1549  04B5  CE 00       	adc	a,0x00
1550  04B7  47          	ld	b,a
1551  04B8  0A          	ld	a,(bc)
1552  04B9  EE 10       	xor	a,0x10
1553  04BB  02          	ld	(bc),a
1554  04BC  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1555  04BE  86          	add	a, (hl)
1556  04BF  4F          	ld	c,a
1557  04C0  3E 00       	ld	a,+((_jump_lin) / 256)
1558  04C2  CE 00       	adc	a,0x00
1559  04C4  47          	ld	b,a
1560  04C5  3E 00       	ld	a,+((_lin) & 0xFF)
1561  04C7  86          	add	a, (hl)
1562  04C8  5F          	ld	e,a
1563  04C9  3E 00       	ld	a,+((_lin) / 256)
1564  04CB  CE 00       	adc	a,0x00
1565  04CD  57          	ld	d,a
1566  04CE  1A          	ld	a,(de)
1567  04CF  02          	ld	(bc),a
1568  04D0  3E 00       	ld	a,+((_state) & 0xFF)
1569  04D2  86          	add	a, (hl)
1570  04D3  4F          	ld	c,a
1571  04D4  3E 00       	ld	a,+((_state) / 256)
1572  04D6  CE 00       	adc	a,0x00
1573  04D8  47          	ld	b,a
1574  04D9  0A          	ld	a,(bc)
1575  04DA  DD 77 FD    	ld	(ix-3),a
1576  04DD  CB 67       	bit	4,a
1577  04DF  28 24       	jr	Z,l_enemy_flip_00105
1578  04E1  21 00 00    	ld	hl,_ay_effect_02
1579  04E4  CD 00 00    	call	_ay_fx_play
1580  04E7  2E 00       	ld	l,0x00
1581  04E9  CD 8B 03    	call	_enemy_flip_change_dir
1582  04EC  3A 00 00    	ld	a,(_enemies)
1583  04EF  C6 00       	add	a,+((_tile) & 0xFF)
1584  04F1  4F          	ld	c,a
1585  04F2  3E 00       	ld	a,+((_tile) / 256)
1586  04F4  CE 00       	adc	a,0x00
1587  04F6  47          	ld	b,a
1588  04F7  DD 7E FE    	ld	a,(ix-2)
1589  04FA  C6 06       	add	a,0x06
1590  04FC  02          	ld	(bc),a
1591  04FD  21 01 00    	ld	hl,0x0001
1592  0500  CD 00 00    	call	_player_score_add
1593  0503  18 49       	jr	l_enemy_flip_00107
1594  0505              l_enemy_flip_00105:
1595  0505  2A 00 00    	ld	hl,(_enemies)
1596  0508  26 00       	ld	h,0x00
1597  050A  11 00 00    	ld	de,_state_a
1598  050D  19          	add	hl,de
1599  050E  5E          	ld	e, (hl)
1600  050F  DD 7E FD    	ld	a,(ix-3)
1601  0512  CB D7       	set	2, a
1602  0514  CB 63       	bit	4, e
1603  0516  28 12       	jr	Z,l_enemy_flip_00102
1604  0518  02          	ld	(bc),a
1605  0519  3A 00 00    	ld	a,(_enemies)
1606  051C  C6 00       	add	a,+((_state) & 0xFF)
1607  051E  4F          	ld	c,a
1608  051F  3E 00       	ld	a,+((_state) / 256)
1609  0521  CE 00       	adc	a,0x00
1610  0523  47          	ld	b,a
1611  0524  0A          	ld	a,(bc)
1612  0525  E6 F7       	and	a,0xf7
1613  0527  02          	ld	(bc),a
1614  0528  18 10       	jr	l_enemy_flip_00103
1615  052A              l_enemy_flip_00102:
1616  052A  02          	ld	(bc),a
1617  052B  3A 00 00    	ld	a,(_enemies)
1618  052E  C6 00       	add	a,+((_state) & 0xFF)
1619  0530  4F          	ld	c,a
1620  0531  3E 00       	ld	a,+((_state) / 256)
1621  0533  CE 00       	adc	a,0x00
1622  0535  47          	ld	b,a
1623  0536  0A          	ld	a,(bc)
1624  0537  E6 F7       	and	a,0xf7
1625  0539  02          	ld	(bc),a
1626  053A              l_enemy_flip_00103:
1627  053A  3E 00       	ld	a,+((_tile) & 0xFF)
1628  053C  21 00 00    	ld	hl,_enemies
1629  053F  86          	add	a, (hl)
1630  0540  4F          	ld	c,a
1631  0541  3E 00       	ld	a,+((_tile) / 256)
1632  0543  CE 00       	adc	a,0x00
1633  0545  47          	ld	b,a
1634  0546  6E          	ld	l,(hl)
1635  0547  C5          	push	bc
1636  0548  CD 00 00    	call	_spr_tile
1637  054B  C1          	pop	bc
1638  054C  7D          	ld	a, l
1639  054D  02          	ld	(bc),a
1640  054E              l_enemy_flip_00107:
1641  054E  DD F9       	ld	sp, ix
1642  0550  DD E1       	pop	ix
1643  0552  C9          	ret
1644  0553              	SECTION code_compiler
1645  0553              ;	---------------------------------
1646  0553              ; Function enemy_flip_sidestepper
1647  0553              ; ---------------------------------
1648  0553              _enemy_flip_sidestepper:
1649  0553  4D          	ld	c,l
1650  0554  44          	ld	b,h
1651  0555  2A 00 00    	ld	hl,(_enemies)
1652  0558  26 00       	ld	h,0x00
1653  055A  11 00 00    	ld	de,_state
1654  055D  19          	add	hl,de
1655  055E  CB 76       	bit	6,(hl)
1656  0560  28 07       	jr	Z,l_enemy_flip_sidestepper_00102
1657  0562  69          	ld	l, c
1658  0563  60          	ld	h, b
1659  0564  CD 76 04    	call	_enemy_flip
1660  0567  18 54       	jr	l_enemy_flip_sidestepper_00104
1661  0569              l_enemy_flip_sidestepper_00102:
1662  0569  2E 01       	ld	l,0x01
1663  056B  CD 8B 03    	call	_enemy_flip_change_dir
1664  056E  2A 00 00    	ld	hl,(_enemies)
1665  0571  26 00       	ld	h,0x00
1666  0573  01 00 00    	ld	bc,_state
1667  0576  09          	add	hl,bc
1668  0577  7E          	ld	a,(hl)
1669  0578  EE 01       	xor	a,0x01
1670  057A  77          	ld	(hl),a
1671  057B  2A 00 00    	ld	hl,(_enemies)
1672  057E  26 00       	ld	h,0x00
1673  0580  01 00 00    	ld	bc,_state
1674  0583  09          	add	hl,bc
1675  0584  7E          	ld	a,(hl)
1676  0585  E6 FD       	and	a,0xfd
1677  0587  77          	ld	(hl),a
1678  0588  3E 00       	ld	a,+((_state) & 0xFF)
1679  058A  21 00 00    	ld	hl,_enemies
1680  058D  86          	add	a, (hl)
1681  058E  4F          	ld	c,a
1682  058F  3E 00       	ld	a,+((_state) / 256)
1683  0591  CE 00       	adc	a,0x00
1684  0593  47          	ld	b,a
1685  0594  0A          	ld	a,(bc)
1686  0595  CB F7       	set	6, a
1687  0597  02          	ld	(bc),a
1688  0598  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1689  059A  86          	add	a, (hl)
1690  059B  4F          	ld	c,a
1691  059C  3E 00       	ld	a,+((_jump_lin) / 256)
1692  059E  CE 00       	adc	a,0x00
1693  05A0  47          	ld	b,a
1694  05A1  3E 00       	ld	a,+((_lin) & 0xFF)
1695  05A3  86          	add	a, (hl)
1696  05A4  5F          	ld	e,a
1697  05A5  3E 00       	ld	a,+((_lin) / 256)
1698  05A7  CE 00       	adc	a,0x00
1699  05A9  57          	ld	d,a
1700  05AA  1A          	ld	a,(de)
1701  05AB  02          	ld	(bc),a
1702  05AC  3E 00       	ld	a,+((_tile) & 0xFF)
1703  05AE  86          	add	a, (hl)
1704  05AF  4F          	ld	c,a
1705  05B0  3E 00       	ld	a,+((_tile) / 256)
1706  05B2  CE 00       	adc	a,0x00
1707  05B4  47          	ld	b,a
1708  05B5  6E          	ld	l,(hl)
1709  05B6  C5          	push	bc
1710  05B7  CD 00 00    	call	_spr_tile
1711  05BA  C1          	pop	bc
1712  05BB  7D          	ld	a, l
1713  05BC  02          	ld	(bc),a
1714  05BD              l_enemy_flip_sidestepper_00104:
1715  05BD  C9          	ret
1716  05BE              	SECTION code_compiler
1717  05BE              ;	---------------------------------
1718  05BE              ; Function enemy_turn
1719  05BE              ; ---------------------------------
1720  05BE              _enemy_turn:
1721  05BE  21 00 00    	ld	hl,_sprite
1722  05C1  36 00       	ld	(hl),0x00
1723  05C3              l_enemy_turn_00126:
1724  05C3  3A 00 00    	ld	a,(_sprite)
1725  05C6  C6 00       	add	a,+((_class) & 0xFF)
1726  05C8  4F          	ld	c,a
1727  05C9  3E 00       	ld	a,+((_class) / 256)
1728  05CB  CE 00       	adc	a,0x00
1729  05CD  47          	ld	b,a
1730  05CE  0A          	ld	a,(bc)
1731  05CF  B7          	or	a, a
1732  05D0  CA FD 06    	jp	Z,l_enemy_turn_00124
1733  05D3  21 00 00    	ld	hl,_sprite
1734  05D6  CD 00 00    	call	_spr_chktime
1735  05D9  7D          	ld	a,l
1736  05DA  B7          	or	a, a
1737  05DB  CA FD 06    	jp	Z,l_enemy_turn_00124
1738  05DE  3A 00 00    	ld	a,(_sprite)
1739  05E1  C6 00       	add	a,+((_lin) & 0xFF)
1740  05E3  4F          	ld	c,a
1741  05E4  3E 00       	ld	a,+((_lin) / 256)
1742  05E6  CE 00       	adc	a,0x00
1743  05E8  47          	ld	b,a
1744  05E9  0A          	ld	a,(bc)
1745  05EA  32 00 00    	ld	(_s_lin0),a
1746  05ED  3A 00 00    	ld	a,(_sprite)
1747  05F0  C6 00       	add	a,+((_col) & 0xFF)
1748  05F2  4F          	ld	c,a
1749  05F3  3E 00       	ld	a,+((_col) / 256)
1750  05F5  CE 00       	adc	a,0x00
1751  05F7  47          	ld	b,a
1752  05F8  0A          	ld	a,(bc)
1753  05F9  32 00 00    	ld	(_s_col0),a
1754  05FC  3E 00       	ld	a,+((_tile) & 0xFF)
1755  05FE  21 00 00    	ld	hl,_sprite
1756  0601  86          	add	a, (hl)
1757  0602  4F          	ld	c,a
1758  0603  3E 00       	ld	a,+((_tile) / 256)
1759  0605  CE 00       	adc	a,0x00
1760  0607  47          	ld	b,a
1761  0608  0A          	ld	a,(bc)
1762  0609  4F          	ld	c,a
1763  060A  5E          	ld	e,(hl)
1764  060B  16 00       	ld	d,0x00
1765  060D  21 00 00    	ld	hl,_colint
1766  0610  19          	add	hl,de
1767  0611  7E          	ld	a,(hl)
1768  0612  81          	add	a,c
1769  0613  32 00 00    	ld	(_s_tile0),a
1770  0616  3A 00 00    	ld	a,(_sprite)
1771  0619  C6 00       	add	a,+((_state) & 0xFF)
1772  061B  4F          	ld	c,a
1773  061C  3E 00       	ld	a,+((_state) / 256)
1774  061E  CE 00       	adc	a,0x00
1775  0620  47          	ld	b,a
1776  0621  0A          	ld	a,(bc)
1777  0622  32 00 00    	ld	(_s_state),a
1778  0625  2A 00 00    	ld	hl,(_sprite)
1779  0628  26 00       	ld	h,0x00
1780  062A  29          	add	hl,hl
1781  062B  01 00 00    	ld	bc,_last_time
1782  062E  09          	add	hl,bc
1783  062F  ED 5B 00 00 	ld	de,(_curr_time)
1784  0633  73          	ld	(hl),e
1785  0634  23          	inc	hl
1786  0635  72          	ld	(hl),d
1787  0636  3A 00 00    	ld	a,(_sprite)
1788  0639  C6 00       	add	a,+((_class) & 0xFF)
1789  063B  4F          	ld	c,a
1790  063C  3E 00       	ld	a,+((_class) / 256)
1791  063E  CE 00       	adc	a,0x00
1792  0640  47          	ld	b,a
1793  0641  21 00 00    	ld	hl,_s_state
1794  0644  7E          	ld	a,(hl)
1795  0645  E6 01       	and	a,0x01
1796  0647  5F          	ld	e,a
1797  0648  7E          	ld	a,(hl)
1798  0649  E6 20       	and	a,0x20
1799  064B  28 1C       	jr	Z,l_enemy_turn_00102
1800  064D  7B          	ld	a,e
1801  064E  B7          	or	a, a
1802  064F  28 0F       	jr	Z,l_enemy_turn_00101
1803  0651  0A          	ld	a,(bc)
1804  0652  57          	ld	d,a
1805  0653  D6 07       	sub	a,0x07
1806  0655  28 09       	jr	Z,l_enemy_turn_00101
1807  0657  7A          	ld	a,d
1808  0658  FE 0A       	cp	a,0x0a
1809  065A  28 04       	jr	Z,l_enemy_turn_00101
1810  065C  D6 0B       	sub	a,0x0b
1811  065E  20 09       	jr	NZ,l_enemy_turn_00102
1812  0660              l_enemy_turn_00101:
1813  0660  2A 00 00    	ld	hl,(_sprite)
1814  0663  CD 00 00    	call	_spr_killed
1815  0666  C3 FD 06    	jp	l_enemy_turn_00124
1816  0669              l_enemy_turn_00102:
1817  0669  3A 00 00    	ld	a,(_s_state)
1818  066C  E6 10       	and	a,0x10
1819  066E  28 37       	jr	Z,l_enemy_turn_00110
1820  0670  3A 00 00    	ld	a,(_s_state)
1821  0673  E6 02       	and	a,0x02
1822  0675  20 30       	jr	NZ,l_enemy_turn_00110
1823  0677  7B          	ld	a,e
1824  0678  B7          	or	a, a
1825  0679  20 2C       	jr	NZ,l_enemy_turn_00110
1826  067B  3A 00 00    	ld	a,(_sprite)
1827  067E  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1828  0680  4F          	ld	c,a
1829  0681  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1830  0683  CE 00       	adc	a,0x00
1831  0685  47          	ld	b,a
1832  0686  3E 08       	ld	a,0x08
1833  0688  02          	ld	(bc),a
1834  0689  CD 24 0D    	call	_enemy_standard_hit
1835  068C  2A 00 00    	ld	hl,(_sprite)
1836  068F  26 00       	ld	h,0x00
1837  0691  01 00 00    	ld	bc,_colint
1838  0694  09          	add	hl,bc
1839  0695  7E          	ld	a,(hl)
1840  0696  3C          	inc	a
1841  0697  77          	ld	(hl),a
1842  0698  4D          	ld	c,l
1843  0699  44          	ld	b,h
1844  069A  5F          	ld	e,a
1845  069B  3E 02       	ld	a,0x02
1846  069D  93          	sub	a, e
1847  069E  30 02       	jr	NC,l_enemy_turn_00108
1848  06A0  AF          	xor	a, a
1849  06A1  02          	ld	(bc),a
1850  06A2              l_enemy_turn_00108:
1851  06A2  CD 00 00    	call	_spr_redraw
1852  06A5  18 56       	jr	l_enemy_turn_00124
1853  06A7              l_enemy_turn_00110:
1854  06A7  0A          	ld	a,(bc)
1855  06A8  4F          	ld	c,a
1856  06A9  D6 07       	sub	a,0x07
1857  06AB  38 3B       	jr	C,l_enemy_turn_00119
1858  06AD  3E 0C       	ld	a,0x0c
1859  06AF  91          	sub	a, c
1860  06B0  38 36       	jr	C,l_enemy_turn_00119
1861  06B2  79          	ld	a,c
1862  06B3  C6 F9       	add	a,0xf9
1863  06B5  5F          	ld	e,a
1864  06B6  16 00       	ld	d,0x00
1865  06B8  21 BE 06    	ld	hl,l_enemy_turn_00191
1866  06BB  19          	add	hl,de
1867  06BC  19          	add	hl,de
1868  06BD  E9          	jp	(hl)
1869  06BE              l_enemy_turn_00191:
1870  06BE  18 19       	jr	l_enemy_turn_00116
1871  06C0  18 1C       	jr	l_enemy_turn_00117
1872  06C2  18 10       	jr	l_enemy_turn_00115
1873  06C4  18 04       	jr	l_enemy_turn_00113
1874  06C6  18 07       	jr	l_enemy_turn_00114
1875  06C8  18 19       	jr	l_enemy_turn_00118
1876  06CA              l_enemy_turn_00113:
1877  06CA  CD 65 09    	call	_enemy_fireball_red
1878  06CD  18 1C       	jr	l_enemy_turn_00120
1879  06CF              l_enemy_turn_00114:
1880  06CF  CD 40 0A    	call	_enemy_fireball_green
1881  06D2  18 17       	jr	l_enemy_turn_00120
1882  06D4              l_enemy_turn_00115:
1883  06D4  CD EA 0A    	call	_enemy_fighterfly
1884  06D7  18 12       	jr	l_enemy_turn_00120
1885  06D9              l_enemy_turn_00116:
1886  06D9  CD D1 07    	call	_enemy_slipice
1887  06DC  18 0D       	jr	l_enemy_turn_00120
1888  06DE              l_enemy_turn_00117:
1889  06DE  CD 00 00    	call	_enemy_coin1
1890  06E1  18 08       	jr	l_enemy_turn_00120
1891  06E3              l_enemy_turn_00118:
1892  06E3  CD 33 00    	call	_enemy_coin2
1893  06E6  18 03       	jr	l_enemy_turn_00120
1894  06E8              l_enemy_turn_00119:
1895  06E8  CD 5B 07    	call	_enemy_standard
1896  06EB              l_enemy_turn_00120:
1897  06EB  CD 00 00    	call	_spr_redraw
1898  06EE  3A 00 00    	ld	a,(_sprite)
1899  06F1  C6 00       	add	a,+((_state) & 0xFF)
1900  06F3  4F          	ld	c,a
1901  06F4  3E 00       	ld	a,+((_state) / 256)
1902  06F6  CE 00       	adc	a,0x00
1903  06F8  47          	ld	b,a
1904  06F9  3A 00 00    	ld	a,(_s_state)
1905  06FC  02          	ld	(bc),a
1906  06FD              l_enemy_turn_00124:
1907  06FD  21 00 00    	ld	hl,_sprite
1908  0700  7E          	ld	a,(hl)
1909  0701  3C          	inc	a
1910  0702  77          	ld	(hl),a
1911  0703  D6 06       	sub	a,0x06
1912  0705  DA C3 05    	jp	C,l_enemy_turn_00126
1913  0708  C9          	ret
1914  0709              	SECTION code_compiler
1915  0709              ;	---------------------------------
1916  0709              ; Function enemy_ugly_fix
1917  0709              ; ---------------------------------
1918  0709              _enemy_ugly_fix:
1919  0709  3A 00 00    	ld	a,(_s_lin0)
1920  070C  D6 62       	sub	a,0x62
1921  070E  20 4A       	jr	NZ,l_enemy_ugly_fix_00109
1922  0710  3E 08       	ld	a,0x08
1923  0712  21 00 00    	ld	hl,_s_col0
1924  0715  96          	sub	a, (hl)
1925  0716  30 05       	jr	NC,l_enemy_ugly_fix_00105
1926  0718  7E          	ld	a,(hl)
1927  0719  D6 18       	sub	a,0x18
1928  071B  38 3D       	jr	C,l_enemy_ugly_fix_00109
1929  071D              l_enemy_ugly_fix_00105:
1930  071D  21 00 00    	ld	hl,0x0000
1931  0720  E5          	push	hl
1932  0721  2A 00 00    	ld	hl,(_sprite)
1933  0724  26 A9       	ld	h,0xa9
1934  0726  E5          	push	hl
1935  0727  CD 00 00    	call	_NIRVANAP_spriteT_callee
1936  072A  76          	halt
1937  072B  F3          	di
1938  072C  3A 00 00    	ld	a,(_s_col0)
1939  072F  D6 08       	sub	a,0x08
1940  0731  30 0F       	jr	NC,l_enemy_ugly_fix_00102
1941  0733  21 80 01    	ld	hl,0x0180
1942  0736  E5          	push	hl
1943  0737  CD 00 00    	call	_spr_draw_index
1944  073A  21 82 01    	ld	hl,0x0182
1945  073D  E3          	ex	(sp),hl
1946  073E  CD 00 00    	call	_spr_draw_index
1947  0741  F1          	pop	af
1948  0742              l_enemy_ugly_fix_00102:
1949  0742  3E 18       	ld	a,0x18
1950  0744  21 00 00    	ld	hl,_s_col0
1951  0747  96          	sub	a, (hl)
1952  0748  30 0F       	jr	NC,l_enemy_ugly_fix_00104
1953  074A  21 9C 01    	ld	hl,0x019c
1954  074D  E5          	push	hl
1955  074E  CD 00 00    	call	_spr_draw_index
1956  0751  21 9E 01    	ld	hl,0x019e
1957  0754  E3          	ex	(sp),hl
1958  0755  CD 00 00    	call	_spr_draw_index
1959  0758  F1          	pop	af
1960  0759              l_enemy_ugly_fix_00104:
1961  0759  FB          	ei
1962  075A              l_enemy_ugly_fix_00109:
1963  075A  C9          	ret
1964  075B              	SECTION code_compiler
1965  075B              ;	---------------------------------
1966  075B              ; Function enemy_standard
1967  075B              ; ---------------------------------
1968  075B              _enemy_standard:
1969  075B  3A 00 00    	ld	a,(_s_state)
1970  075E  0F          	rrca
1971  075F  30 42       	jr	NC,l_enemy_standard_00108
1972  0761  3A 00 00    	ld	a,(_sprite)
1973  0764  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1974  0766  4F          	ld	c,a
1975  0767  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1976  0769  CE 00       	adc	a,0x00
1977  076B  47          	ld	b,a
1978  076C  3E 01       	ld	a,0x01
1979  076E  02          	ld	(bc),a
1980  076F  CD 00 00    	call	_spr_move_horizontal
1981  0772  CD 00 00    	call	_spr_move_up
1982  0775  2A 00 00    	ld	hl,(_sprite)
1983  0778  26 00       	ld	h,0x00
1984  077A  5D          	ld	e,l
1985  077B  01 00 00    	ld	bc,_jump_lin
1986  077E  09          	add	hl,bc
1987  077F  4E          	ld	c,(hl)
1988  0780  06 00       	ld	b,0x00
1989  0782  50          	ld	d,b
1990  0783  21 00 00    	ld	hl,_lin
1991  0786  19          	add	hl,de
1992  0787  5E          	ld	e, (hl)
1993  0788  16 00       	ld	d,0x00
1994  078A  79          	ld	a,c
1995  078B  93          	sub	a, e
1996  078C  4F          	ld	c,a
1997  078D  78          	ld	a,b
1998  078E  9A          	sbc	a, d
1999  078F  47          	ld	b,a
2000  0790  79          	ld	a,c
2001  0791  D6 0C       	sub	a,0x0c
2002  0793  78          	ld	a,b
2003  0794  17          	rla
2004  0795  3F          	ccf
2005  0796  1F          	rra
2006  0797  DE 80       	sbc	a,0x80
2007  0799  38 33       	jr	C,l_enemy_standard_00109
2008  079B  CD 09 07    	call	_enemy_ugly_fix
2009  079E  CD 00 00    	call	_spr_set_fall
2010  07A1  18 2B       	jr	l_enemy_standard_00109
2011  07A3              l_enemy_standard_00108:
2012  07A3  CD 35 0E    	call	_enemy_walk
2013  07A6  2A 00 00    	ld	hl,(_sprite)
2014  07A9  26 00       	ld	h,0x00
2015  07AB  01 00 00    	ld	bc,_lin
2016  07AE  09          	add	hl,bc
2017  07AF  7E          	ld	a,(hl)
2018  07B0  D6 98       	sub	a,0x98
2019  07B2  21 00 00    	ld	hl,_sprite
2020  07B5  20 17       	jr	NZ,l_enemy_standard_00109
2021  07B7  4E          	ld	c,(hl)
2022  07B8  06 00       	ld	b,0x00
2023  07BA  21 00 00    	ld	hl,_col
2024  07BD  09          	add	hl,bc
2025  07BE  7E          	ld	a,(hl)
2026  07BF  4F          	ld	c,a
2027  07C0  D6 05       	sub	a,0x05
2028  07C2  38 05       	jr	C,l_enemy_standard_00103
2029  07C4  3E 19       	ld	a,0x19
2030  07C6  91          	sub	a, c
2031  07C7  30 05       	jr	NC,l_enemy_standard_00109
2032  07C9              l_enemy_standard_00103:
2033  07C9  21 00 00    	ld	hl,_s_state
2034  07CC  CB C6       	set	0, (hl)
2035  07CE              l_enemy_standard_00109:
2036  07CE  C3 04 0C    	jp  _enemy_trip
2037  07D1              	SECTION code_compiler
2038  07D1              ;	---------------------------------
2039  07D1              ; Function enemy_slipice
2040  07D1              ; ---------------------------------
2041  07D1              _enemy_slipice:
2042  07D1  3A 00 00    	ld	a,(_phase_left)
2043  07D4  B7          	or	a, a
2044  07D5  CA 64 09    	jp	Z,l_enemy_slipice_00126
2045  07D8  3A 00 00    	ld	a,(_sprite)
2046  07DB  C6 00       	add	a,+((_state) & 0xFF)
2047  07DD  4F          	ld	c,a
2048  07DE  3E 00       	ld	a,+((_state) / 256)
2049  07E0  CE 00       	adc	a,0x00
2050  07E2  47          	ld	b,a
2051  07E3  0A          	ld	a,(bc)
2052  07E4  CB 77       	bit	6, a
2053  07E6  CA 89 08    	jp	Z,l_enemy_slipice_00122
2054  07E9  76          	halt
2055  07EA  3E 00       	ld	a,+((_col) & 0xFF)
2056  07EC  21 00 00    	ld	hl,_sprite
2057  07EF  86          	add	a, (hl)
2058  07F0  4F          	ld	c,a
2059  07F1  3E 00       	ld	a,+((_col) / 256)
2060  07F3  CE 00       	adc	a,0x00
2061  07F5  47          	ld	b,a
2062  07F6  0A          	ld	a,(bc)
2063  07F7  57          	ld	d,a
2064  07F8  3E 00       	ld	a,+((_lin) & 0xFF)
2065  07FA  86          	add	a, (hl)
2066  07FB  4F          	ld	c,a
2067  07FC  3E 00       	ld	a,+((_lin) / 256)
2068  07FE  CE 00       	adc	a,0x00
2069  0800  47          	ld	b,a
2070  0801  0A          	ld	a,(bc)
2071  0802  C6 08       	add	a,0x08
2072  0804  5F          	ld	e,a
2073  0805  3E 00       	ld	a,+((_colint) & 0xFF)
2074  0807  86          	add	a, (hl)
2075  0808  4F          	ld	c,a
2076  0809  3E 00       	ld	a,+((_colint) / 256)
2077  080B  CE 00       	adc	a,0x00
2078  080D  47          	ld	b,a
2079  080E  0A          	ld	a,(bc)
2080  080F  C6 8D       	add	a,0x8d
2081  0811  47          	ld	b,a
2082  0812  D5          	push	de
2083  0813  C5          	push	bc
2084  0814  33          	inc	sp
2085  0815  CD 00 00    	call	_NIRVANAP_drawT_callee
2086  0818  2A 00 00    	ld	hl,(_sprite)
2087  081B  26 00       	ld	h,0x00
2088  081D  01 00 00    	ld	bc,_colint
2089  0820  09          	add	hl,bc
2090  0821  7E          	ld	a,(hl)
2091  0822  3C          	inc	a
2092  0823  77          	ld	(hl),a
2093  0824  4D          	ld	c,l
2094  0825  44          	ld	b,h
2095  0826  5F          	ld	e,a
2096  0827  3E 02       	ld	a,0x02
2097  0829  93          	sub	a, e
2098  082A  30 02       	jr	NC,l_enemy_slipice_00102
2099  082C  AF          	xor	a, a
2100  082D  02          	ld	(bc),a
2101  082E              l_enemy_slipice_00102:
2102  082E  2A 00 00    	ld	hl,(_sprite)
2103  0831  26 00       	ld	h,0x00
2104  0833  29          	add	hl, hl
2105  0834  11 00 00    	ld	de,_spr_timer
2106  0837  19          	add	hl,de
2107  0838  4E          	ld	c,(hl)
2108  0839  23          	inc	hl
2109  083A  46          	ld	b,(hl)
2110  083B  21 28 00    	ld	hl,0x0028
2111  083E  E5          	push	hl
2112  083F  C5          	push	bc
2113  0840  CD 00 00    	call	_game_check_time
2114  0843  F1          	pop	af
2115  0844  F1          	pop	af
2116  0845  7D          	ld	a,l
2117  0846  B7          	or	a, a
2118  0847  CA 64 09    	jp	Z,l_enemy_slipice_00126
2119  084A  2A 00 00    	ld	hl,(_sprite)
2120  084D  26 00       	ld	h,0x00
2121  084F  5D          	ld	e,l
2122  0850  01 00 00    	ld	bc,_col
2123  0853  09          	add	hl,bc
2124  0854  46          	ld	b,(hl)
2125  0855  16 00       	ld	d,0x00
2126  0857  21 00 00    	ld	hl,_lin
2127  085A  19          	add	hl,de
2128  085B  7E          	ld	a,(hl)
2129  085C  C6 18       	add	a,0x18
2130  085E  4F          	ld	c,a
2131  085F  C5          	push	bc
2132  0860  CD 00 00    	call	_game_freeze
2133  0863  F1          	pop	af
2134  0864  2A 00 00    	ld	hl,(_sprite)
2135  0867  26 00       	ld	h,0x00
2136  0869  5D          	ld	e,l
2137  086A  01 00 00    	ld	bc,_col
2138  086D  09          	add	hl,bc
2139  086E  46          	ld	b,(hl)
2140  086F  16 00       	ld	d,0x00
2141  0871  21 00 00    	ld	hl,_lin
2142  0874  19          	add	hl,de
2143  0875  7E          	ld	a,(hl)
2144  0876  C6 08       	add	a,0x08
2145  0878  4F          	ld	c,a
2146  0879  C5          	push	bc
2147  087A  AF          	xor	a, a
2148  087B  F5          	push	af
2149  087C  33          	inc	sp
2150  087D  CD 00 00    	call	_NIRVANAP_fillT_callee
2151  0880  2A 00 00    	ld	hl,(_sprite)
2152  0883  CD 00 00    	call	_spr_destroy
2153  0886  C3 64 09    	jp	l_enemy_slipice_00126
2154  0889              l_enemy_slipice_00122:
2155  0889  CB 47       	bit	0, a
2156  088B  C2 38 09    	jp	NZ,l_enemy_slipice_00110
2157  088E  CB 4F       	bit	1, a
2158  0890  C2 38 09    	jp	NZ,l_enemy_slipice_00110
2159  0893  2A 00 00    	ld	hl,(_sprite)
2160  0896  26 00       	ld	h,0x00
2161  0898  01 00 00    	ld	bc,_col
2162  089B  09          	add	hl,bc
2163  089C  7E          	ld	a,(hl)
2164  089D  4F          	ld	c,a
2165  089E  D6 07       	sub	a,0x07
2166  08A0  28 0A       	jr	Z,l_enemy_slipice_00116
2167  08A2  79          	ld	a,c
2168  08A3  FE 0F       	cp	a,0x0f
2169  08A5  28 05       	jr	Z,l_enemy_slipice_00116
2170  08A7  D6 18       	sub	a,0x18
2171  08A9  C2 38 09    	jp	NZ,l_enemy_slipice_00110
2172  08AC              l_enemy_slipice_00116:
2173  08AC  79          	ld	a,c
2174  08AD  D6 88       	sub	a,0x88
2175  08AF  D2 38 09    	jp	NC,l_enemy_slipice_00110
2176  08B2  CD 00 00    	call	_rand
2177  08B5  22 00 00    	ld	(_tmp_ui),hl
2178  08B8  3E 00       	ld	a,+((_col) & 0xFF)
2179  08BA  21 00 00    	ld	hl,_sprite
2180  08BD  86          	add	a, (hl)
2181  08BE  4F          	ld	c,a
2182  08BF  3E 00       	ld	a,+((_col) / 256)
2183  08C1  CE 00       	adc	a,0x00
2184  08C3  47          	ld	b,a
2185  08C4  0A          	ld	a,(bc)
2186  08C5  57          	ld	d,a
2187  08C6  4E          	ld	c,(hl)
2188  08C7  06 00       	ld	b,0x00
2189  08C9  21 00 00    	ld	hl,_lin
2190  08CC  09          	add	hl,bc
2191  08CD  7E          	ld	a,(hl)
2192  08CE  C6 10       	add	a,0x10
2193  08D0  5F          	ld	e, a
2194  08D1  D5          	push	de
2195  08D2  CD 00 00    	call	_game_calc_index
2196  08D5  F1          	pop	af
2197  08D6  22 00 00    	ld	(_index1),hl
2198  08D9  01 00 00    	ld	bc,_lvl_1
2199  08DC  09          	add	hl,bc
2200  08DD  7E          	ld	a,(hl)
2201  08DE  D6 12       	sub	a,0x12
2202  08E0  20 51       	jr	NZ,l_enemy_slipice_00106
2203  08E2  21 00 00    	ld	hl,_tmp_ui
2204  08E5  7E          	ld	a,(hl)
2205  08E6  D6 32       	sub	a,0x32
2206  08E8  23          	inc	hl
2207  08E9  7E          	ld	a,(hl)
2208  08EA  DE 33       	sbc	a,0x33
2209  08EC  30 45       	jr	NC,l_enemy_slipice_00106
2210  08EE  21 00 00    	ld	hl,_ay_effect_16
2211  08F1  CD 00 00    	call	_ay_fx_play
2212  08F4  21 00 00    	ld	hl,_s_state
2213  08F7  CB F6       	set	6, (hl)
2214  08F9  01 00 00    	ld	bc,_spr_timer+0
2215  08FC  2A 00 00    	ld	hl,(_sprite)
2216  08FF  26 00       	ld	h,0x00
2217  0901  29          	add	hl, hl
2218  0902  09          	add	hl,bc
2219  0903  ED 5B 00 00 	ld	de,(_curr_time)
2220  0907  73          	ld	(hl),e
2221  0908  23          	inc	hl
2222  0909  72          	ld	(hl),d
2223  090A  2A 00 00    	ld	hl,(_sprite)
2224  090D  26 00       	ld	h,0x00
2225  090F  01 00 00    	ld	bc,_lin
2226  0912  09          	add	hl,bc
2227  0913  7E          	ld	a,(hl)
2228  0914  C6 F8       	add	a,0xf8
2229  0916  77          	ld	(hl),a
2230  0917  3E 00       	ld	a,+((_colint) & 0xFF)
2231  0919  21 00 00    	ld	hl,_sprite
2232  091C  86          	add	a, (hl)
2233  091D  4F          	ld	c,a
2234  091E  3E 00       	ld	a,+((_colint) / 256)
2235  0920  CE 00       	adc	a,0x00
2236  0922  47          	ld	b,a
2237  0923  AF          	xor	a, a
2238  0924  02          	ld	(bc),a
2239  0925  3E 00       	ld	a,+((_tile) & 0xFF)
2240  0927  86          	add	a, (hl)
2241  0928  4F          	ld	c,a
2242  0929  3E 00       	ld	a,+((_tile) / 256)
2243  092B  CE 00       	adc	a,0x00
2244  092D  47          	ld	b,a
2245  092E  3E 7B       	ld	a,0x7b
2246  0930  02          	ld	(bc),a
2247  0931  18 08       	jr	l_enemy_slipice_00111
2248  0933              l_enemy_slipice_00106:
2249  0933  CD 35 0E    	call	_enemy_walk
2250  0936  18 03       	jr	l_enemy_slipice_00111
2251  0938              l_enemy_slipice_00110:
2252  0938  CD 35 0E    	call	_enemy_walk
2253  093B              l_enemy_slipice_00111:
2254  093B  2A 00 00    	ld	hl,(_sprite)
2255  093E  26 00       	ld	h,0x00
2256  0940  01 00 00    	ld	bc,_lin
2257  0943  09          	add	hl,bc
2258  0944  7E          	ld	a,(hl)
2259  0945  D6 98       	sub	a,0x98
2260  0947  20 1B       	jr	NZ,l_enemy_slipice_00126
2261  0949  3A 00 00    	ld	a,(_sprite)
2262  094C  4F          	ld	c,a
2263  094D  06 00       	ld	b,0x00
2264  094F  21 00 00    	ld	hl,_col
2265  0952  09          	add	hl,bc
2266  0953  7E          	ld	a,(hl)
2267  0954  4F          	ld	c,a
2268  0955  D6 03       	sub	a,0x03
2269  0957  28 05       	jr	Z,l_enemy_slipice_00117
2270  0959  79          	ld	a,c
2271  095A  D6 1B       	sub	a,0x1b
2272  095C  20 06       	jr	NZ,l_enemy_slipice_00126
2273  095E              l_enemy_slipice_00117:
2274  095E  2A 00 00    	ld	hl,(_sprite)
2275  0961  CD 00 00    	call	_spr_destroy
2276  0964              l_enemy_slipice_00126:
2277  0964  C9          	ret
2278  0965              	SECTION code_compiler
2279  0965              ;	---------------------------------
2280  0965              ; Function enemy_fireball_red
2281  0965              ; ---------------------------------
2282  0965              _enemy_fireball_red:
2283  0965  3A 00 00    	ld	a,(_phase_left)
2284  0968  B7          	or	a, a
2285  0969  CA 3F 0A    	jp	Z,l_enemy_fireball_red_00119
2286  096C  3A 00 00    	ld	a,(_s_state)
2287  096F  0F          	rrca
2288  0970  30 11       	jr	NC,l_enemy_fireball_red_00106
2289  0972  CD 00 00    	call	_spr_move_up
2290  0975  7D          	ld	a,l
2291  0976  B7          	or	a, a
2292  0977  28 03       	jr	Z,l_enemy_fireball_red_00102
2293  0979  CD 00 00    	call	_spr_set_fall
2294  097C              l_enemy_fireball_red_00102:
2295  097C  21 00 00    	ld	hl,_tmp
2296  097F  36 00       	ld	(hl),0x00
2297  0981  18 13       	jr	l_enemy_fireball_red_00107
2298  0983              l_enemy_fireball_red_00106:
2299  0983  CD 00 00    	call	_spr_move_down
2300  0986  7D          	ld	a,l
2301  0987  B7          	or	a, a
2302  0988  28 07       	jr	Z,l_enemy_fireball_red_00104
2303  098A  21 00 00    	ld	hl,_s_state
2304  098D  CB 8E       	res	1, (hl)
2305  098F  CB C6       	set	0, (hl)
2306  0991              l_enemy_fireball_red_00104:
2307  0991  21 00 00    	ld	hl,_tmp
2308  0994  36 10       	ld	(hl),0x10
2309  0996              l_enemy_fireball_red_00107:
2310  0996  CD 00 00    	call	_spr_move_horizontal
2311  0999  3A 00 00    	ld	a,(_s_state)
2312  099C  E6 04       	and	a,0x04
2313  099E  28 13       	jr	Z,l_enemy_fireball_red_00109
2314  09A0  3A 00 00    	ld	a,(_sprite)
2315  09A3  C6 00       	add	a,+((_col) & 0xFF)
2316  09A5  4F          	ld	c,a
2317  09A6  3E 00       	ld	a,+((_col) / 256)
2318  09A8  CE 00       	adc	a,0x00
2319  09AA  47          	ld	b,a
2320  09AB  0A          	ld	a,(bc)
2321  09AC  C6 02       	add	a,0x02
2322  09AE  32 00 00    	ld	(_s_col1),a
2323  09B1  18 11       	jr	l_enemy_fireball_red_00110
2324  09B3              l_enemy_fireball_red_00109:
2325  09B3  3A 00 00    	ld	a,(_sprite)
2326  09B6  C6 00       	add	a,+((_col) & 0xFF)
2327  09B8  4F          	ld	c,a
2328  09B9  3E 00       	ld	a,+((_col) / 256)
2329  09BB  CE 00       	adc	a,0x00
2330  09BD  47          	ld	b,a
2331  09BE  0A          	ld	a,(bc)
2332  09BF  C6 FF       	add	a,0xff
2333  09C1  32 00 00    	ld	(_s_col1),a
2334  09C4              l_enemy_fireball_red_00110:
2335  09C4  2A 00 00    	ld	hl,(_sprite)
2336  09C7  26 00       	ld	h,0x00
2337  09C9  01 00 00    	ld	bc,_lin
2338  09CC  09          	add	hl,bc
2339  09CD  4E          	ld	c, (hl)
2340  09CE  3A 00 00    	ld	a, (_s_col1)
2341  09D1  47          	ld	b,a
2342  09D2  C5          	push	bc
2343  09D3  CD 00 00    	call	_game_calc_index
2344  09D6  F1          	pop	af
2345  09D7  22 00 00    	ld	(_index1),hl
2346  09DA  01 00 00    	ld	bc,_lvl_1
2347  09DD  09          	add	hl,bc
2348  09DE  7E          	ld	a,(hl)
2349  09DF  D6 BF       	sub	a,0xbf
2350  09E1  30 14       	jr	NC,l_enemy_fireball_red_00111
2351  09E3  2A 00 00    	ld	hl,(_sprite)
2352  09E6  26 00       	ld	h,0x00
2353  09E8  01 00 00    	ld	bc,_col
2354  09EB  09          	add	hl,bc
2355  09EC  7E          	ld	a,(hl)
2356  09ED  4F          	ld	c,a
2357  09EE  D6 02       	sub	a,0x02
2358  09F0  38 05       	jr	C,l_enemy_fireball_red_00111
2359  09F2  3E 1D       	ld	a,0x1d
2360  09F4  91          	sub	a, c
2361  09F5  30 07       	jr	NC,l_enemy_fireball_red_00112
2362  09F7              l_enemy_fireball_red_00111:
2363  09F7  21 00 00    	ld	hl,_s_state
2364  09FA  7E          	ld	a,(hl)
2365  09FB  EE 0C       	xor	a,+(0x04^0x08)
2366  09FD  77          	ld	(hl),a
2367  09FE              l_enemy_fireball_red_00112:
2368  09FE  01 00 00    	ld	bc,_spr_timer+0
2369  0A01  2A 00 00    	ld	hl,(_sprite)
2370  0A04  26 00       	ld	h,0x00
2371  0A06  29          	add	hl, hl
2372  0A07  09          	add	hl,bc
2373  0A08  5E          	ld	e,(hl)
2374  0A09  23          	inc	hl
2375  0A0A  56          	ld	d,(hl)
2376  0A0B  C5          	push	bc
2377  0A0C  21 DC 05    	ld	hl,0x05dc
2378  0A0F  E5          	push	hl
2379  0A10  D5          	push	de
2380  0A11  CD 00 00    	call	_game_check_time
2381  0A14  F1          	pop	af
2382  0A15  F1          	pop	af
2383  0A16  C1          	pop	bc
2384  0A17  7D          	ld	a,l
2385  0A18  B7          	or	a, a
2386  0A19  C8          	ret	Z
2387  0A1A  2A 00 00    	ld	hl,(_sprite)
2388  0A1D  26 00       	ld	h,0x00
2389  0A1F  29          	add	hl, hl
2390  0A20  09          	add	hl,bc
2391  0A21  ED 5B 00 00 	ld	de,(_curr_time)
2392  0A25  73          	ld	(hl),e
2393  0A26  23          	inc	hl
2394  0A27  72          	ld	(hl),d
2395  0A28  3A 00 00    	ld	a,(_sprite)
2396  0A2B  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2397  0A2D  4F          	ld	c,a
2398  0A2E  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2399  0A30  CE 00       	adc	a,0x00
2400  0A32  47          	ld	b,a
2401  0A33  3E 08       	ld	a,0x08
2402  0A35  02          	ld	(bc),a
2403  0A36  21 00 00    	ld	hl,_s_state
2404  0A39  CB EE       	set	5, (hl)
2405  0A3B  CB 86       	res	0, (hl)
2406  0A3D  CB 8E       	res	1, (hl)
2407  0A3F              l_enemy_fireball_red_00119:
2408  0A3F  C9          	ret
2409  0A40              	SECTION code_compiler
2410  0A40              ;	---------------------------------
2411  0A40              ; Function enemy_fireball_green
2412  0A40              ; ---------------------------------
2413  0A40              _enemy_fireball_green:
2414  0A40  3A 00 00    	ld	a,(_phase_left)
2415  0A43  B7          	or	a, a
2416  0A44  CA E9 0A    	jp	Z,l_enemy_fireball_green_00113
2417  0A47  2A 00 00    	ld	hl,(_sprite)
2418  0A4A  26 00       	ld	h,0x00
2419  0A4C  5D          	ld	e,l
2420  0A4D  01 00 00    	ld	bc,_jump_lin
2421  0A50  09          	add	hl,bc
2422  0A51  4E          	ld	c,(hl)
2423  0A52  06 00       	ld	b,0x00
2424  0A54  50          	ld	d,b
2425  0A55  21 00 00    	ld	hl,_lin
2426  0A58  19          	add	hl,de
2427  0A59  5E          	ld	e, (hl)
2428  0A5A  16 00       	ld	d,0x00
2429  0A5C  79          	ld	a,c
2430  0A5D  93          	sub	a, e
2431  0A5E  6F          	ld	l,a
2432  0A5F  78          	ld	a,b
2433  0A60  9A          	sbc	a, d
2434  0A61  67          	ld	h,a
2435  0A62  CD 00 00    	call	_abs_fastcall
2436  0A65  22 00 00    	ld	(_index1),hl
2437  0A68  3E 08       	ld	a,0x08
2438  0A6A  21 00 00    	ld	hl,_index1
2439  0A6D  BE          	cp	a, (hl)
2440  0A6E  3E 00       	ld	a,0x00
2441  0A70  23          	inc	hl
2442  0A71  9E          	sbc	a, (hl)
2443  0A72  30 1C       	jr	NC,l_enemy_fireball_green_00102
2444  0A74  21 00 00    	ld	hl,_s_state
2445  0A77  7E          	ld	a,(hl)
2446  0A78  EE 03       	xor	a,+(0x01^0x02)
2447  0A7A  77          	ld	(hl),a
2448  0A7B  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2449  0A7D  21 00 00    	ld	hl,_sprite
2450  0A80  86          	add	a, (hl)
2451  0A81  4F          	ld	c,a
2452  0A82  3E 00       	ld	a,+((_jump_lin) / 256)
2453  0A84  CE 00       	adc	a,0x00
2454  0A86  47          	ld	b,a
2455  0A87  5E          	ld	e,(hl)
2456  0A88  16 00       	ld	d,0x00
2457  0A8A  21 00 00    	ld	hl,_lin
2458  0A8D  19          	add	hl,de
2459  0A8E  7E          	ld	a,(hl)
2460  0A8F  02          	ld	(bc),a
2461  0A90              l_enemy_fireball_green_00102:
2462  0A90  3A 00 00    	ld	a,(_s_state)
2463  0A93  0F          	rrca
2464  0A94  30 08       	jr	NC,l_enemy_fireball_green_00104
2465  0A96  CD 00 00    	call	_spr_move_horizontal
2466  0A99  CD 00 00    	call	_spr_move_up
2467  0A9C  18 06       	jr	l_enemy_fireball_green_00105
2468  0A9E              l_enemy_fireball_green_00104:
2469  0A9E  CD 00 00    	call	_spr_move_horizontal
2470  0AA1  CD 00 00    	call	_spr_move_down
2471  0AA4              l_enemy_fireball_green_00105:
2472  0AA4  3A 00 00    	ld	a,(_sprite)
2473  0AA7  C6 00       	add	a,+((_col) & 0xFF)
2474  0AA9  4F          	ld	c,a
2475  0AAA  3E 00       	ld	a,+((_col) / 256)
2476  0AAC  CE 00       	adc	a,0x00
2477  0AAE  47          	ld	b,a
2478  0AAF  0A          	ld	a,(bc)
2479  0AB0  B7          	or	a, a
2480  0AB1  20 07       	jr	NZ,l_enemy_fireball_green_00110
2481  0AB3  3A 00 00    	ld	a,(_s_state)
2482  0AB6  E6 08       	and	a,0x08
2483  0AB8  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2484  0ABA              l_enemy_fireball_green_00110:
2485  0ABA  D6 1E       	sub	a,0x1e
2486  0ABC  20 2B       	jr	NZ,l_enemy_fireball_green_00113
2487  0ABE  3A 00 00    	ld	a,(_s_state)
2488  0AC1  E6 04       	and	a,0x04
2489  0AC3  28 24       	jr	Z,l_enemy_fireball_green_00113
2490  0AC5              l_enemy_fireball_green_00106:
2491  0AC5  01 00 00    	ld	bc,_spr_timer+0
2492  0AC8  2A 00 00    	ld	hl,(_sprite)
2493  0ACB  26 00       	ld	h,0x00
2494  0ACD  29          	add	hl, hl
2495  0ACE  09          	add	hl,bc
2496  0ACF  ED 5B 00 00 	ld	de,(_curr_time)
2497  0AD3  73          	ld	(hl),e
2498  0AD4  23          	inc	hl
2499  0AD5  72          	ld	(hl),d
2500  0AD6  3A 00 00    	ld	a,(_sprite)
2501  0AD9  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2502  0ADB  4F          	ld	c,a
2503  0ADC  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2504  0ADE  CE 00       	adc	a,0x00
2505  0AE0  47          	ld	b,a
2506  0AE1  3E 08       	ld	a,0x08
2507  0AE3  02          	ld	(bc),a
2508  0AE4  21 00 00    	ld	hl,_s_state
2509  0AE7  CB EE       	set	5, (hl)
2510  0AE9              l_enemy_fireball_green_00113:
2511  0AE9  C9          	ret
2512  0AEA              	SECTION code_compiler
2513  0AEA              ;	---------------------------------
2514  0AEA              ; Function enemy_fighterfly
2515  0AEA              ; ---------------------------------
2516  0AEA              _enemy_fighterfly:
2517  0AEA  3A 00 00    	ld	a,(_s_state)
2518  0AED  0F          	rrca
2519  0AEE  38 58       	jr	C,l_enemy_fighterfly_00106
2520  0AF0  3A 00 00    	ld	a,(_s_state)
2521  0AF3  E6 02       	and	a,0x02
2522  0AF5  20 51       	jr	NZ,l_enemy_fighterfly_00106
2523  0AF7  CD 00 00    	call	_ay_is_playing
2524  0AFA  7D          	ld	a, l
2525  0AFB  D6 02       	sub	a,0x02
2526  0AFD  30 06       	jr	NC,l_enemy_fighterfly_00102
2527  0AFF  21 00 00    	ld	hl,_ay_effect_13
2528  0B02  CD 00 00    	call	_ay_fx_play
2529  0B05              l_enemy_fighterfly_00102:
2530  0B05  2A 00 00    	ld	hl,(_sprite)
2531  0B08  26 00       	ld	h,0x00
2532  0B0A  29          	add	hl, hl
2533  0B0B  11 00 00    	ld	de,_spr_timer
2534  0B0E  19          	add	hl,de
2535  0B0F  4E          	ld	c,(hl)
2536  0B10  23          	inc	hl
2537  0B11  46          	ld	b,(hl)
2538  0B12  21 28 00    	ld	hl,0x0028
2539  0B15  E5          	push	hl
2540  0B16  C5          	push	bc
2541  0B17  CD 00 00    	call	_game_check_time
2542  0B1A  F1          	pop	af
2543  0B1B  F1          	pop	af
2544  0B1C  7D          	ld	a,l
2545  0B1D  B7          	or	a, a
2546  0B1E  28 28       	jr	Z,l_enemy_fighterfly_00106
2547  0B20  21 00 00    	ld	hl,_s_state
2548  0B23  CB C6       	set	0, (hl)
2549  0B25  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2550  0B27  21 00 00    	ld	hl,_sprite
2551  0B2A  86          	add	a, (hl)
2552  0B2B  4F          	ld	c,a
2553  0B2C  3E 00       	ld	a,+((_jump_lin) / 256)
2554  0B2E  CE 00       	adc	a,0x00
2555  0B30  47          	ld	b,a
2556  0B31  3E 00       	ld	a,+((_lin) & 0xFF)
2557  0B33  86          	add	a, (hl)
2558  0B34  5F          	ld	e,a
2559  0B35  3E 00       	ld	a,+((_lin) / 256)
2560  0B37  CE 00       	adc	a,0x00
2561  0B39  57          	ld	d,a
2562  0B3A  1A          	ld	a,(de)
2563  0B3B  02          	ld	(bc),a
2564  0B3C  6E          	ld	l, (hl)
2565  0B3D  26 00       	ld	h,0x00
2566  0B3F  29          	add	hl, hl
2567  0B40  11 00 00    	ld	de,_spr_timer
2568  0B43  19          	add	hl,de
2569  0B44  AF          	xor	a, a
2570  0B45  77          	ld	(hl), a
2571  0B46  23          	inc	hl
2572  0B47  77          	ld	(hl), a
2573  0B48              l_enemy_fighterfly_00106:
2574  0B48  3A 00 00    	ld	a,(_s_state)
2575  0B4B  0F          	rrca
2576  0B4C  30 35       	jr	NC,l_enemy_fighterfly_00123
2577  0B4E  2A 00 00    	ld	hl,(_sprite)
2578  0B51  26 00       	ld	h,0x00
2579  0B53  5D          	ld	e,l
2580  0B54  01 00 00    	ld	bc,_jump_lin
2581  0B57  09          	add	hl,bc
2582  0B58  4E          	ld	c,(hl)
2583  0B59  06 00       	ld	b,0x00
2584  0B5B  50          	ld	d,b
2585  0B5C  21 00 00    	ld	hl,_lin
2586  0B5F  19          	add	hl,de
2587  0B60  5E          	ld	e, (hl)
2588  0B61  16 00       	ld	d,0x00
2589  0B63  79          	ld	a,c
2590  0B64  93          	sub	a, e
2591  0B65  4F          	ld	c,a
2592  0B66  78          	ld	a,b
2593  0B67  9A          	sbc	a, d
2594  0B68  47          	ld	b,a
2595  0B69  79          	ld	a,c
2596  0B6A  D6 08       	sub	a,0x08
2597  0B6C  78          	ld	a,b
2598  0B6D  17          	rla
2599  0B6E  3F          	ccf
2600  0B6F  1F          	rra
2601  0B70  DE 80       	sbc	a,0x80
2602  0B72  38 06       	jr	C,l_enemy_fighterfly_00109
2603  0B74  CD 09 07    	call	_enemy_ugly_fix
2604  0B77  CD 00 00    	call	_spr_set_fall
2605  0B7A              l_enemy_fighterfly_00109:
2606  0B7A  CD 00 00    	call	_spr_move_horizontal
2607  0B7D  CD 00 00    	call	_spr_move_up
2608  0B80  C3 01 0C    	jp	l_enemy_fighterfly_00124
2609  0B83              l_enemy_fighterfly_00123:
2610  0B83  01 00 00    	ld	bc,_spr_timer+0
2611  0B86  2A 00 00    	ld	hl,(_sprite)
2612  0B89  26 00       	ld	h,0x00
2613  0B8B  29          	add	hl, hl
2614  0B8C  09          	add	hl,bc
2615  0B8D  4D          	ld	c,l
2616  0B8E  44          	ld	b,h
2617  0B8F  5E          	ld	e,(hl)
2618  0B90  23          	inc	hl
2619  0B91  7E          	ld	a, (hl)
2620  0B92  B3          	or	a,e
2621  0B93  20 09       	jr	NZ,l_enemy_fighterfly_00111
2622  0B95  ED 5B 00 00 	ld	de,(_curr_time)
2623  0B99  7B          	ld	a,e
2624  0B9A  02          	ld	(bc),a
2625  0B9B  03          	inc	bc
2626  0B9C  7A          	ld	a,d
2627  0B9D  02          	ld	(bc),a
2628  0B9E              l_enemy_fighterfly_00111:
2629  0B9E  3A 00 00    	ld	a,(_s_state)
2630  0BA1  E6 02       	and	a,0x02
2631  0BA3  28 5C       	jr	Z,l_enemy_fighterfly_00124
2632  0BA5  3E 00       	ld	a,+((_lin) & 0xFF)
2633  0BA7  21 00 00    	ld	hl,_sprite
2634  0BAA  86          	add	a, (hl)
2635  0BAB  4F          	ld	c,a
2636  0BAC  3E 00       	ld	a,+((_lin) / 256)
2637  0BAE  CE 00       	adc	a,0x00
2638  0BB0  47          	ld	b,a
2639  0BB1  0A          	ld	a,(bc)
2640  0BB2  4F          	ld	c,a
2641  0BB3  5E          	ld	e,(hl)
2642  0BB4  16 00       	ld	d,0x00
2643  0BB6  21 00 00    	ld	hl,_jump_lin
2644  0BB9  19          	add	hl,de
2645  0BBA  46          	ld	b, (hl)
2646  0BBB  79          	ld	a,c
2647  0BBC  90          	sub	a, b
2648  0BBD  30 05       	jr	NC,l_enemy_fighterfly_00116
2649  0BBF  CD 00 00    	call	_spr_move_horizontal
2650  0BC2  18 23       	jr	l_enemy_fighterfly_00117
2651  0BC4              l_enemy_fighterfly_00116:
2652  0BC4  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
2653  0BC6  21 00 00    	ld	hl,_sprite
2654  0BC9  86          	add	a, (hl)
2655  0BCA  4F          	ld	c,a
2656  0BCB  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2657  0BCD  CE 00       	adc	a,0x00
2658  0BCF  47          	ld	b,a
2659  0BD0  3E 04       	ld	a,0x04
2660  0BD2  02          	ld	(bc),a
2661  0BD3  3E 00       	ld	a,+((_colint) & 0xFF)
2662  0BD5  86          	add	a, (hl)
2663  0BD6  4F          	ld	c,a
2664  0BD7  3E 00       	ld	a,+((_colint) / 256)
2665  0BD9  CE 00       	adc	a,0x00
2666  0BDB  47          	ld	b,a
2667  0BDC  0A          	ld	a,(bc)
2668  0BDD  B7          	or	a, a
2669  0BDE  20 05       	jr	NZ,l_enemy_fighterfly_00113
2670  0BE0  3E 02       	ld	a,0x02
2671  0BE2  02          	ld	(bc),a
2672  0BE3  18 02       	jr	l_enemy_fighterfly_00117
2673  0BE5              l_enemy_fighterfly_00113:
2674  0BE5  AF          	xor	a, a
2675  0BE6  02          	ld	(bc),a
2676  0BE7              l_enemy_fighterfly_00117:
2677  0BE7  CD 00 00    	call	_spr_move_down
2678  0BEA  7D          	ld	a,l
2679  0BEB  B7          	or	a, a
2680  0BEC  CA 04 0C    	jp	Z,_enemy_trip
2681  0BEF  3A 00 00    	ld	a,(_sprite)
2682  0BF2  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2683  0BF4  4F          	ld	c,a
2684  0BF5  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2685  0BF7  CE 00       	adc	a,0x00
2686  0BF9  47          	ld	b,a
2687  0BFA  AF          	xor	a, a
2688  0BFB  02          	ld	(bc),a
2689  0BFC  21 00 00    	ld	hl,_s_state
2690  0BFF  CB 8E       	res	1, (hl)
2691  0C01              l_enemy_fighterfly_00124:
2692  0C01  C3 04 0C    	jp  _enemy_trip
2693  0C04              	SECTION code_compiler
2694  0C04              ;	---------------------------------
2695  0C04              ; Function enemy_trip
2696  0C04              ; ---------------------------------
2697  0C04              _enemy_trip:
2698  0C04  2A 00 00    	ld	hl,(_sprite)
2699  0C07  26 00       	ld	h,0x00
2700  0C09  01 00 00    	ld	bc,_lin
2701  0C0C  09          	add	hl,bc
2702  0C0D  46          	ld	b,(hl)
2703  0C0E  3E 80       	ld	a,0x80
2704  0C10  90          	sub	a, b
2705  0C11  D2 23 0D    	jp	NC,l_enemy_trip_00114
2706  0C14  21 00 00    	ld	hl,_tmp
2707  0C17  36 00       	ld	(hl),0x00
2708  0C19  2A 00 00    	ld	hl,(_sprite)
2709  0C1C  26 00       	ld	h,0x00
2710  0C1E  11 00 00    	ld	de,_col
2711  0C21  19          	add	hl,de
2712  0C22  7E          	ld	a,(hl)
2713  0C23  57          	ld	d,a
2714  0C24  D6 1B       	sub	a,0x1b
2715  0C26  20 4F       	jr	NZ,l_enemy_trip_00104
2716  0C28  21 00 00    	ld	hl,_tmp
2717  0C2B  36 01       	ld	(hl),0x01
2718  0C2D  15          	dec	d
2719  0C2E  58          	ld	e,b
2720  0C2F  D5          	push	de
2721  0C30  AF          	xor	a, a
2722  0C31  F5          	push	af
2723  0C32  33          	inc	sp
2724  0C33  CD 00 00    	call	_NIRVANAP_fillT_callee
2725  0C36  3E 00       	ld	a,+((_lin) & 0xFF)
2726  0C38  21 00 00    	ld	hl,_sprite
2727  0C3B  86          	add	a, (hl)
2728  0C3C  4F          	ld	c,a
2729  0C3D  3E 00       	ld	a,+((_lin) / 256)
2730  0C3F  CE 00       	adc	a,0x00
2731  0C41  47          	ld	b,a
2732  0C42  3E 10       	ld	a,0x10
2733  0C44  02          	ld	(bc),a
2734  0C45  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2735  0C47  86          	add	a, (hl)
2736  0C48  4F          	ld	c,a
2737  0C49  3E 00       	ld	a,+((_jump_lin) / 256)
2738  0C4B  CE 00       	adc	a,0x00
2739  0C4D  47          	ld	b,a
2740  0C4E  3E 20       	ld	a,0x20
2741  0C50  02          	ld	(bc),a
2742  0C51  3E 00       	ld	a,+((_col) & 0xFF)
2743  0C53  86          	add	a, (hl)
2744  0C54  4F          	ld	c,a
2745  0C55  3E 00       	ld	a,+((_col) / 256)
2746  0C57  CE 00       	adc	a,0x00
2747  0C59  47          	ld	b,a
2748  0C5A  3E 1A       	ld	a,0x1a
2749  0C5C  02          	ld	(bc),a
2750  0C5D  21 00 00    	ld	hl,_s_state
2751  0C60  CB DE       	set	3, (hl)
2752  0C62  CB 96       	res	2, (hl)
2753  0C64  CB 86       	res	0, (hl)
2754  0C66  CD 00 00    	call	_sound_enter_enemy
2755  0C69  CD 00 00    	call	_ay_is_playing
2756  0C6C  7D          	ld	a, l
2757  0C6D  D6 02       	sub	a,0x02
2758  0C6F  30 06       	jr	NC,l_enemy_trip_00104
2759  0C71  21 00 00    	ld	hl,_ay_effect_04
2760  0C74  CD 00 00    	call	_ay_fx_play
2761  0C77              l_enemy_trip_00104:
2762  0C77  2A 00 00    	ld	hl,(_sprite)
2763  0C7A  26 00       	ld	h,0x00
2764  0C7C  01 00 00    	ld	bc,_col
2765  0C7F  09          	add	hl,bc
2766  0C80  7E          	ld	a,(hl)
2767  0C81  47          	ld	b,a
2768  0C82  D6 03       	sub	a,0x03
2769  0C84  20 58       	jr	NZ,l_enemy_trip_00108
2770  0C86  21 00 00    	ld	hl,_tmp
2771  0C89  36 01       	ld	(hl),0x01
2772  0C8B  04          	inc	b
2773  0C8C  2A 00 00    	ld	hl,(_sprite)
2774  0C8F  26 00       	ld	h,0x00
2775  0C91  11 00 00    	ld	de,_lin
2776  0C94  19          	add	hl,de
2777  0C95  4E          	ld	c, (hl)
2778  0C96  C5          	push	bc
2779  0C97  AF          	xor	a, a
2780  0C98  F5          	push	af
2781  0C99  33          	inc	sp
2782  0C9A  CD 00 00    	call	_NIRVANAP_fillT_callee
2783  0C9D  3E 00       	ld	a,+((_lin) & 0xFF)
2784  0C9F  21 00 00    	ld	hl,_sprite
2785  0CA2  86          	add	a, (hl)
2786  0CA3  4F          	ld	c,a
2787  0CA4  3E 00       	ld	a,+((_lin) / 256)
2788  0CA6  CE 00       	adc	a,0x00
2789  0CA8  47          	ld	b,a
2790  0CA9  3E 10       	ld	a,0x10
2791  0CAB  02          	ld	(bc),a
2792  0CAC  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2793  0CAE  86          	add	a, (hl)
2794  0CAF  4F          	ld	c,a
2795  0CB0  3E 00       	ld	a,+((_jump_lin) / 256)
2796  0CB2  CE 00       	adc	a,0x00
2797  0CB4  47          	ld	b,a
2798  0CB5  3E 20       	ld	a,0x20
2799  0CB7  02          	ld	(bc),a
2800  0CB8  3E 00       	ld	a,+((_col) & 0xFF)
2801  0CBA  86          	add	a, (hl)
2802  0CBB  4F          	ld	c,a
2803  0CBC  3E 00       	ld	a,+((_col) / 256)
2804  0CBE  CE 00       	adc	a,0x00
2805  0CC0  47          	ld	b,a
2806  0CC1  3E 04       	ld	a,0x04
2807  0CC3  02          	ld	(bc),a
2808  0CC4  21 00 00    	ld	hl,_s_state
2809  0CC7  CB D6       	set	2, (hl)
2810  0CC9  CB 9E       	res	3, (hl)
2811  0CCB  CB 86       	res	0, (hl)
2812  0CCD  CD 00 00    	call	_sound_enter_enemy
2813  0CD0  CD 00 00    	call	_ay_is_playing
2814  0CD3  7D          	ld	a, l
2815  0CD4  D6 02       	sub	a,0x02
2816  0CD6  30 06       	jr	NC,l_enemy_trip_00108
2817  0CD8  21 00 00    	ld	hl,_ay_effect_04
2818  0CDB  CD 00 00    	call	_ay_fx_play
2819  0CDE              l_enemy_trip_00108:
2820  0CDE  3A 00 00    	ld	a,(_tmp)
2821  0CE1  B7          	or	a, a
2822  0CE2  C8          	ret	Z
2823  0CE3  2A 00 00    	ld	hl,(_sprite)
2824  0CE6  26 00       	ld	h,0x00
2825  0CE8  01 00 00    	ld	bc,_class
2826  0CEB  09          	add	hl,bc
2827  0CEC  4E          	ld	c,(hl)
2828  0CED  3E 03       	ld	a,0x03
2829  0CEF  91          	sub	a,c
2830  0CF0  D8          	ret	C
2831  0CF1  3E 00       	ld	a,+((_colint) & 0xFF)
2832  0CF3  21 00 00    	ld	hl,_sprite
2833  0CF6  86          	add	a, (hl)
2834  0CF7  4F          	ld	c,a
2835  0CF8  3E 00       	ld	a,+((_colint) / 256)
2836  0CFA  CE 00       	adc	a,0x00
2837  0CFC  47          	ld	b,a
2838  0CFD  AF          	xor	a, a
2839  0CFE  02          	ld	(bc),a
2840  0CFF  3E 00       	ld	a,+((_state) & 0xFF)
2841  0D01  86          	add	a, (hl)
2842  0D02  4F          	ld	c,a
2843  0D03  3E 00       	ld	a,+((_state) / 256)
2844  0D05  CE 00       	adc	a,0x00
2845  0D07  47          	ld	b,a
2846  0D08  3A 00 00    	ld	a,(_s_state)
2847  0D0B  02          	ld	(bc),a
2848  0D0C  3E 00       	ld	a,+((_tile) & 0xFF)
2849  0D0E  21 00 00    	ld	hl,_sprite
2850  0D11  86          	add	a, (hl)
2851  0D12  4F          	ld	c,a
2852  0D13  3E 00       	ld	a,+((_tile) / 256)
2853  0D15  CE 00       	adc	a,0x00
2854  0D17  47          	ld	b,a
2855  0D18  6E          	ld	l,(hl)
2856  0D19  C5          	push	bc
2857  0D1A  CD 00 00    	call	_spr_tile
2858  0D1D  C1          	pop	bc
2859  0D1E  7D          	ld	a, l
2860  0D1F  02          	ld	(bc),a
2861  0D20  CD 00 00    	call	_spr_set_fall
2862  0D23              l_enemy_trip_00114:
2863  0D23  C9          	ret
2864  0D24              	SECTION code_compiler
2865  0D24              ;	---------------------------------
2866  0D24              ; Function enemy_standard_hit
2867  0D24              ; ---------------------------------
2868  0D24              _enemy_standard_hit:
2869  0D24  2A 00 00    	ld	hl,(_game_time_flipped)
2870  0D27  01 CE FF    	ld	bc,0xffce
2871  0D2A  09          	add	hl,bc
2872  0D2B  4D          	ld	c,l
2873  0D2C  44          	ld	b,h
2874  0D2D  2A 00 00    	ld	hl,(_sprite)
2875  0D30  26 00       	ld	h,0x00
2876  0D32  29          	add	hl, hl
2877  0D33  11 00 00    	ld	de,_spr_timer
2878  0D36  19          	add	hl,de
2879  0D37  5E          	ld	e,(hl)
2880  0D38  23          	inc	hl
2881  0D39  56          	ld	d,(hl)
2882  0D3A  C5          	push	bc
2883  0D3B  D5          	push	de
2884  0D3C  CD 00 00    	call	_game_check_time
2885  0D3F  F1          	pop	af
2886  0D40  F1          	pop	af
2887  0D41  7D          	ld	a,l
2888  0D42  B7          	or	a, a
2889  0D43  28 27       	jr	Z,l_enemy_standard_hit_00104
2890  0D45  3A 00 00    	ld	a,(_sprite)
2891  0D48  C6 00       	add	a,+((_state) & 0xFF)
2892  0D4A  4F          	ld	c,a
2893  0D4B  3E 00       	ld	a,+((_state) / 256)
2894  0D4D  CE 00       	adc	a,0x00
2895  0D4F  47          	ld	b,a
2896  0D50  0A          	ld	a,(bc)
2897  0D51  07          	rlca
2898  0D52  38 18       	jr	C,l_enemy_standard_hit_00104
2899  0D54  3A 00 00    	ld	a,(_sprite)
2900  0D57  F5          	push	af
2901  0D58  33          	inc	sp
2902  0D59  CD A8 0D    	call	_enemy_evolve
2903  0D5C  33          	inc	sp
2904  0D5D  3A 00 00    	ld	a,(_sprite)
2905  0D60  C6 00       	add	a,+((_state) & 0xFF)
2906  0D62  4F          	ld	c,a
2907  0D63  3E 00       	ld	a,+((_state) / 256)
2908  0D65  CE 00       	adc	a,0x00
2909  0D67  47          	ld	b,a
2910  0D68  0A          	ld	a,(bc)
2911  0D69  CB FF       	set	7, a
2912  0D6B  02          	ld	(bc),a
2913  0D6C              l_enemy_standard_hit_00104:
2914  0D6C  2A 00 00    	ld	hl,(_sprite)
2915  0D6F  26 00       	ld	h,0x00
2916  0D71  29          	add	hl, hl
2917  0D72  11 00 00    	ld	de,_spr_timer
2918  0D75  19          	add	hl,de
2919  0D76  4E          	ld	c,(hl)
2920  0D77  23          	inc	hl
2921  0D78  46          	ld	b,(hl)
2922  0D79  2A 00 00    	ld	hl,(_game_time_flipped)
2923  0D7C  E5          	push	hl
2924  0D7D  C5          	push	bc
2925  0D7E  CD 00 00    	call	_game_check_time
2926  0D81  F1          	pop	af
2927  0D82  F1          	pop	af
2928  0D83  7D          	ld	a,l
2929  0D84  B7          	or	a, a
2930  0D85  C8          	ret	Z
2931  0D86  3A 00 00    	ld	a,(_sprite)
2932  0D89  32 00 00    	ld	(_enemies),a
2933  0D8C  2A 00 00    	ld	hl,(_sprite)
2934  0D8F  CD 00 00    	call	_spr_tile
2935  0D92  CD 76 04    	call	_enemy_flip
2936  0D95  3A 00 00    	ld	a,(_sprite)
2937  0D98  C6 00       	add	a,+((_state) & 0xFF)
2938  0D9A  4F          	ld	c,a
2939  0D9B  3E 00       	ld	a,+((_state) / 256)
2940  0D9D  CE 00       	adc	a,0x00
2941  0D9F  47          	ld	b,a
2942  0DA0  0A          	ld	a,(bc)
2943  0DA1  32 00 00    	ld	(_s_state),a
2944  0DA4  E6 7F       	and	a,0x7f
2945  0DA6  02          	ld	(bc),a
2946  0DA7  C9          	ret
2947  0DA8              	SECTION code_compiler
2948  0DA8              ;	---------------------------------
2949  0DA8              ; Function enemy_evolve
2950  0DA8              ; ---------------------------------
2951  0DA8              _enemy_evolve:
2952  0DA8  CD 00 00    	call	___sdcc_enter_ix
2953  0DAB  3E 00       	ld	a,+((_class) & 0xFF)
2954  0DAD  DD 86 04    	add	a,(ix+4)
2955  0DB0  4F          	ld	c,a
2956  0DB1  3E 00       	ld	a,+((_class) / 256)
2957  0DB3  CE 00       	adc	a,0x00
2958  0DB5  47          	ld	b,a
2959  0DB6  0A          	ld	a,(bc)
2960  0DB7  4F          	ld	c,a
2961  0DB8  3D          	dec	a
2962  0DB9  28 0F       	jr	Z,l_enemy_evolve_00101
2963  0DBB  79          	ld	a,c
2964  0DBC  FE 02       	cp	a,0x02
2965  0DBE  28 1B       	jr	Z,l_enemy_evolve_00102
2966  0DC0  FE 04       	cp	a,0x04
2967  0DC2  28 28       	jr	Z,l_enemy_evolve_00103
2968  0DC4  D6 05       	sub	a,0x05
2969  0DC6  28 35       	jr	Z,l_enemy_evolve_00104
2970  0DC8  18 42       	jr	l_enemy_evolve_00106
2971  0DCA              l_enemy_evolve_00101:
2972  0DCA  21 3C 00    	ld	hl,0x003c
2973  0DCD  E5          	push	hl
2974  0DCE  26 02       	ld	h,0x02
2975  0DD0  DD 6E 04    	ld	l,(ix+4)
2976  0DD3  E5          	push	hl
2977  0DD4  CD 0F 0E    	call	_enemy_upgrade
2978  0DD7  F1          	pop	af
2979  0DD8  F1          	pop	af
2980  0DD9  18 31       	jr	l_enemy_evolve_00106
2981  0DDB              l_enemy_evolve_00102:
2982  0DDB  21 48 00    	ld	hl,0x0048
2983  0DDE  E5          	push	hl
2984  0DDF  26 03       	ld	h,0x03
2985  0DE1  DD 6E 04    	ld	l,(ix+4)
2986  0DE4  E5          	push	hl
2987  0DE5  CD 0F 0E    	call	_enemy_upgrade
2988  0DE8  F1          	pop	af
2989  0DE9  F1          	pop	af
2990  0DEA  18 20       	jr	l_enemy_evolve_00106
2991  0DEC              l_enemy_evolve_00103:
2992  0DEC  21 60 00    	ld	hl,0x0060
2993  0DEF  E5          	push	hl
2994  0DF0  26 05       	ld	h,0x05
2995  0DF2  DD 6E 04    	ld	l,(ix+4)
2996  0DF5  E5          	push	hl
2997  0DF6  CD 0F 0E    	call	_enemy_upgrade
2998  0DF9  F1          	pop	af
2999  0DFA  F1          	pop	af
3000  0DFB  18 0F       	jr	l_enemy_evolve_00106
3001  0DFD              l_enemy_evolve_00104:
3002  0DFD  21 6C 00    	ld	hl,0x006c
3003  0E00  E5          	push	hl
3004  0E01  26 06       	ld	h,0x06
3005  0E03  DD 6E 04    	ld	l,(ix+4)
3006  0E06  E5          	push	hl
3007  0E07  CD 0F 0E    	call	_enemy_upgrade
3008  0E0A  F1          	pop	af
3009  0E0B  F1          	pop	af
3010  0E0C              l_enemy_evolve_00106:
3011  0E0C  DD E1       	pop	ix
3012  0E0E  C9          	ret
3013  0E0F              	SECTION code_compiler
3014  0E0F              ;	---------------------------------
3015  0E0F              ; Function enemy_upgrade
3016  0E0F              ; ---------------------------------
3017  0E0F              _enemy_upgrade:
3018  0E0F  CD 00 00    	call	___sdcc_enter_ix
3019  0E12  3E 00       	ld	a,+((_tile) & 0xFF)
3020  0E14  DD 86 04    	add	a,(ix+4)
3021  0E17  4F          	ld	c,a
3022  0E18  3E 00       	ld	a,+((_tile) / 256)
3023  0E1A  CE 00       	adc	a,0x00
3024  0E1C  47          	ld	b,a
3025  0E1D  DD 7E 06    	ld	a,(ix+6)
3026  0E20  C6 06       	add	a,0x06
3027  0E22  02          	ld	(bc),a
3028  0E23  3E 00       	ld	a,+((_class) & 0xFF)
3029  0E25  DD 86 04    	add	a,(ix+4)
3030  0E28  4F          	ld	c,a
3031  0E29  3E 00       	ld	a,+((_class) / 256)
3032  0E2B  CE 00       	adc	a,0x00
3033  0E2D  47          	ld	b,a
3034  0E2E  DD 7E 05    	ld	a,(ix+5)
3035  0E31  02          	ld	(bc),a
3036  0E32  DD E1       	pop	ix
3037  0E34  C9          	ret
3038  0E35              	SECTION code_compiler
3039  0E35              ;	---------------------------------
3040  0E35              ; Function enemy_walk
3041  0E35              ; ---------------------------------
3042  0E35              _enemy_walk:
3043  0E35  3A 00 00    	ld	a,(_s_state)
3044  0E38  0F          	rrca
3045  0E39  38 49       	jr	C,l_enemy_walk_00106
3046  0E3B  3A 00 00    	ld	a,(_s_state)
3047  0E3E  E6 02       	and	a,0x02
3048  0E40  20 42       	jr	NZ,l_enemy_walk_00106
3049  0E42  3A 00 00    	ld	a,(_sprite)
3050  0E45  C6 00       	add	a,+((_col) & 0xFF)
3051  0E47  4F          	ld	c,a
3052  0E48  3E 00       	ld	a,+((_col) / 256)
3053  0E4A  CE 00       	adc	a,0x00
3054  0E4C  47          	ld	b,a
3055  0E4D  0A          	ld	a,(bc)
3056  0E4E  57          	ld	d,a
3057  0E4F  CB 47       	bit	0,a
3058  0E51  28 14       	jr	Z,l_enemy_walk_00102
3059  0E53  3A 00 00    	ld	a,(_s_state)
3060  0E56  E6 10       	and	a,0x10
3061  0E58  20 0D       	jr	NZ,l_enemy_walk_00102
3062  0E5A  21 00 00    	ld	hl,0x0000
3063  0E5D  22 00 00    	ld	(_index_d),hl
3064  0E60  21 00 00    	ld	hl,_tmp
3065  0E63  36 00       	ld	(hl),0x00
3066  0E65  18 42       	jr	l_enemy_walk_00107
3067  0E67              l_enemy_walk_00102:
3068  0E67  3A 00 00    	ld	a,(_sprite)
3069  0E6A  C6 00       	add	a,+((_lin) & 0xFF)
3070  0E6C  4F          	ld	c,a
3071  0E6D  3E 00       	ld	a,+((_lin) / 256)
3072  0E6F  CE 00       	adc	a,0x00
3073  0E71  47          	ld	b,a
3074  0E72  0A          	ld	a,(bc)
3075  0E73  C6 10       	add	a,0x10
3076  0E75  5F          	ld	e, a
3077  0E76  D5          	push	de
3078  0E77  CD 00 00    	call	_game_calc_index
3079  0E7A  F1          	pop	af
3080  0E7B  CD 00 00    	call	_game_check_maze
3081  0E7E  7D          	ld	a,l
3082  0E7F  32 00 00    	ld	(_tmp),a
3083  0E82  18 25       	jr	l_enemy_walk_00107
3084  0E84              l_enemy_walk_00106:
3085  0E84  3E 00       	ld	a,+((_col) & 0xFF)
3086  0E86  21 00 00    	ld	hl,_sprite
3087  0E89  86          	add	a, (hl)
3088  0E8A  4F          	ld	c,a
3089  0E8B  3E 00       	ld	a,+((_col) / 256)
3090  0E8D  CE 00       	adc	a,0x00
3091  0E8F  47          	ld	b,a
3092  0E90  0A          	ld	a,(bc)
3093  0E91  57          	ld	d,a
3094  0E92  4E          	ld	c,(hl)
3095  0E93  06 00       	ld	b,0x00
3096  0E95  21 00 00    	ld	hl,_lin
3097  0E98  09          	add	hl,bc
3098  0E99  7E          	ld	a,(hl)
3099  0E9A  C6 10       	add	a,0x10
3100  0E9C  5F          	ld	e, a
3101  0E9D  D5          	push	de
3102  0E9E  CD 00 00    	call	_game_calc_index
3103  0EA1  F1          	pop	af
3104  0EA2  CD 00 00    	call	_game_check_maze
3105  0EA5  7D          	ld	a,l
3106  0EA6  32 00 00    	ld	(_tmp),a
3107  0EA9              l_enemy_walk_00107:
3108  0EA9  3A 00 00    	ld	a,(_tmp)
3109  0EAC  B7          	or	a, a
3110  0EAD  CA 8C 0F    	jp	Z,l_enemy_walk_00132
3111  0EB0  3A 00 00    	ld	a,(_s_state)
3112  0EB3  0F          	rrca
3113  0EB4  38 05       	jr	C,l_enemy_walk_00110
3114  0EB6  21 00 00    	ld	hl,_s_state
3115  0EB9  CB CE       	set	1, (hl)
3116  0EBB              l_enemy_walk_00110:
3117  0EBB  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3118  0EBD  21 00 00    	ld	hl,_sprite
3119  0EC0  86          	add	a, (hl)
3120  0EC1  4F          	ld	c,a
3121  0EC2  3E 00       	ld	a,+((_jump_lin) / 256)
3122  0EC4  CE 00       	adc	a,0x00
3123  0EC6  47          	ld	b,a
3124  0EC7  0A          	ld	a,(bc)
3125  0EC8  B7          	or	a, a
3126  0EC9  20 09       	jr	NZ,l_enemy_walk_00112
3127  0ECB  5E          	ld	e,(hl)
3128  0ECC  16 00       	ld	d,0x00
3129  0ECE  21 00 00    	ld	hl,_lin
3130  0ED1  19          	add	hl,de
3131  0ED2  7E          	ld	a,(hl)
3132  0ED3  02          	ld	(bc),a
3133  0ED4              l_enemy_walk_00112:
3134  0ED4  3A 00 00    	ld	a,(_s_state)
3135  0ED7  E6 02       	and	a,0x02
3136  0ED9  28 05       	jr	Z,l_enemy_walk_00114
3137  0EDB  CD 00 00    	call	_spr_move_down
3138  0EDE  18 03       	jr	l_enemy_walk_00115
3139  0EE0              l_enemy_walk_00114:
3140  0EE0  CD 00 00    	call	_spr_move_up
3141  0EE3              l_enemy_walk_00115:
3142  0EE3  3A 00 00    	ld	a,(_sprite)
3143  0EE6  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
3144  0EE8  4F          	ld	c,a
3145  0EE9  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3146  0EEB  CE 00       	adc	a,0x00
3147  0EED  47          	ld	b,a
3148  0EEE  3E 01       	ld	a,0x01
3149  0EF0  02          	ld	(bc),a
3150  0EF1  21 00 00    	ld	hl,_tmp
3151  0EF4  36 01       	ld	(hl),0x01
3152  0EF6  3E 00       	ld	a,+((_col) & 0xFF)
3153  0EF8  21 00 00    	ld	hl,_sprite
3154  0EFB  86          	add	a, (hl)
3155  0EFC  4F          	ld	c,a
3156  0EFD  3E 00       	ld	a,+((_col) / 256)
3157  0EFF  CE 00       	adc	a,0x00
3158  0F01  47          	ld	b,a
3159  0F02  0A          	ld	a,(bc)
3160  0F03  47          	ld	b,a
3161  0F04  04          	inc	b
3162  0F05  5E          	ld	e,(hl)
3163  0F06  16 00       	ld	d,0x00
3164  0F08  21 00 00    	ld	hl,_lin
3165  0F0B  19          	add	hl,de
3166  0F0C  7E          	ld	a,(hl)
3167  0F0D  C6 10       	add	a,0x10
3168  0F0F  4F          	ld	c,a
3169  0F10  C5          	push	bc
3170  0F11  CD 00 00    	call	_game_calc_index
3171  0F14  F1          	pop	af
3172  0F15  CD 00 00    	call	_game_check_maze
3173  0F18  7D          	ld	a,l
3174  0F19  32 00 00    	ld	(_tmp0),a
3175  0F1C  3E 00       	ld	a,+((_col) & 0xFF)
3176  0F1E  21 00 00    	ld	hl,_sprite
3177  0F21  86          	add	a, (hl)
3178  0F22  4F          	ld	c,a
3179  0F23  3E 00       	ld	a,+((_col) / 256)
3180  0F25  CE 00       	adc	a,0x00
3181  0F27  47          	ld	b,a
3182  0F28  0A          	ld	a,(bc)
3183  0F29  47          	ld	b,a
3184  0F2A  05          	dec	b
3185  0F2B  5E          	ld	e,(hl)
3186  0F2C  16 00       	ld	d,0x00
3187  0F2E  21 00 00    	ld	hl,_lin
3188  0F31  19          	add	hl,de
3189  0F32  7E          	ld	a,(hl)
3190  0F33  C6 10       	add	a,0x10
3191  0F35  4F          	ld	c,a
3192  0F36  C5          	push	bc
3193  0F37  CD 00 00    	call	_game_calc_index
3194  0F3A  F1          	pop	af
3195  0F3B  CD 00 00    	call	_game_check_maze
3196  0F3E  7D          	ld	a,l
3197  0F3F  32 00 00    	ld	(_tmp1),a
3198  0F42  3A 00 00    	ld	a,(_tmp0)
3199  0F45  B7          	or	a, a
3200  0F46  20 06       	jr	NZ,l_enemy_walk_00136
3201  0F48  3A 00 00    	ld	a,(_tmp1)
3202  0F4B  B7          	or	a, a
3203  0F4C  28 04       	jr	Z,l_enemy_walk_00137
3204  0F4E              l_enemy_walk_00136:
3205  0F4E  0E 00       	ld	c,0x00
3206  0F50  18 02       	jr	l_enemy_walk_00138
3207  0F52              l_enemy_walk_00137:
3208  0F52  0E 01       	ld	c,0x01
3209  0F54              l_enemy_walk_00138:
3210  0F54  21 00 00    	ld	hl,_tmp
3211  0F57  71          	ld	(hl),c
3212  0F58  79          	ld	a,c
3213  0F59  B7          	or	a, a
3214  0F5A  CA 51 10    	jp	Z,l_enemy_walk_00134
3215  0F5D  2A 00 00    	ld	hl,(_sprite)
3216  0F60  26 00       	ld	h,0x00
3217  0F62  5D          	ld	e,l
3218  0F63  01 00 00    	ld	bc,_lin
3219  0F66  09          	add	hl,bc
3220  0F67  4E          	ld	c,(hl)
3221  0F68  06 00       	ld	b,0x00
3222  0F6A  50          	ld	d,b
3223  0F6B  21 00 00    	ld	hl,_jump_lin
3224  0F6E  19          	add	hl,de
3225  0F6F  5E          	ld	e, (hl)
3226  0F70  16 00       	ld	d,0x00
3227  0F72  79          	ld	a,c
3228  0F73  93          	sub	a, e
3229  0F74  4F          	ld	c,a
3230  0F75  78          	ld	a,b
3231  0F76  9A          	sbc	a, d
3232  0F77  47          	ld	b,a
3233  0F78  3E 08       	ld	a,0x08
3234  0F7A  B9          	cp	a, c
3235  0F7B  3E 00       	ld	a,0x00
3236  0F7D  98          	sbc	a, b
3237  0F7E  E2 83 0F    	jp	PO, l_enemy_walk_00217
3238  0F81  EE 80       	xor	a,0x80
3239  0F83              l_enemy_walk_00217:
3240  0F83  FA 51 10    	jp	M,l_enemy_walk_00134
3241  0F86  CD 00 00    	call	_spr_move_horizontal
3242  0F89  C3 51 10    	jp	l_enemy_walk_00134
3243  0F8C              l_enemy_walk_00132:
3244  0F8C  3A 00 00    	ld	a,(_s_state)
3245  0F8F  E6 02       	and	a,0x02
3246  0F91  28 1E       	jr	Z,l_enemy_walk_00120
3247  0F93  21 00 00    	ld	hl,_s_state
3248  0F96  CB 8E       	res	1, (hl)
3249  0F98  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3250  0F9A  21 00 00    	ld	hl,_sprite
3251  0F9D  86          	add	a, (hl)
3252  0F9E  4F          	ld	c,a
3253  0F9F  3E 00       	ld	a,+((_jump_lin) / 256)
3254  0FA1  CE 00       	adc	a,0x00
3255  0FA3  47          	ld	b,a
3256  0FA4  AF          	xor	a, a
3257  0FA5  02          	ld	(bc),a
3258  0FA6  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3259  0FA8  86          	add	a, (hl)
3260  0FA9  4F          	ld	c,a
3261  0FAA  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3262  0FAC  CE 00       	adc	a,0x00
3263  0FAE  47          	ld	b,a
3264  0FAF  AF          	xor	a, a
3265  0FB0  02          	ld	(bc),a
3266  0FB1              l_enemy_walk_00120:
3267  0FB1  3A 00 00    	ld	a,(_s_state)
3268  0FB4  E6 10       	and	a,0x10
3269  0FB6  20 41       	jr	NZ,l_enemy_walk_00124
3270  0FB8  3A 00 00    	ld	a,(_sprite)
3271  0FBB  C6 00       	add	a,+((_state_a) & 0xFF)
3272  0FBD  4F          	ld	c,a
3273  0FBE  3E 00       	ld	a,+((_state_a) / 256)
3274  0FC0  CE 00       	adc	a,0x00
3275  0FC2  47          	ld	b,a
3276  0FC3  0A          	ld	a,(bc)
3277  0FC4  CB 4F       	bit	1, a
3278  0FC6  20 31       	jr	NZ,l_enemy_walk_00124
3279  0FC8  01 00 00    	ld	bc,_spr_timer_c+0
3280  0FCB  2A 00 00    	ld	hl,(_sprite)
3281  0FCE  26 00       	ld	h,0x00
3282  0FD0  29          	add	hl, hl
3283  0FD1  09          	add	hl,bc
3284  0FD2  5E          	ld	e,(hl)
3285  0FD3  23          	inc	hl
3286  0FD4  56          	ld	d,(hl)
3287  0FD5  C5          	push	bc
3288  0FD6  21 05 00    	ld	hl,0x0005
3289  0FD9  E5          	push	hl
3290  0FDA  D5          	push	de
3291  0FDB  CD 00 00    	call	_game_check_time
3292  0FDE  F1          	pop	af
3293  0FDF  F1          	pop	af
3294  0FE0  C1          	pop	bc
3295  0FE1  7D          	ld	a,l
3296  0FE2  B7          	or	a, a
3297  0FE3  28 11       	jr	Z,l_enemy_walk_00122
3298  0FE5  2A 00 00    	ld	hl,(_sprite)
3299  0FE8  26 00       	ld	h,0x00
3300  0FEA  29          	add	hl, hl
3301  0FEB  09          	add	hl,bc
3302  0FEC  ED 5B 00 00 	ld	de,(_curr_time)
3303  0FF0  73          	ld	(hl),e
3304  0FF1  23          	inc	hl
3305  0FF2  72          	ld	(hl),d
3306  0FF3  CD 51 00    	call	_enemy_collition
3307  0FF6              l_enemy_walk_00122:
3308  0FF6  CD 00 00    	call	_spr_move_horizontal
3309  0FF9              l_enemy_walk_00124:
3310  0FF9  3A 00 00    	ld	a,(_sprite)
3311  0FFC  C6 00       	add	a,+((_state_a) & 0xFF)
3312  0FFE  4F          	ld	c,a
3313  0FFF  3E 00       	ld	a,+((_state_a) / 256)
3314  1001  CE 00       	adc	a,0x00
3315  1003  47          	ld	b,a
3316  1004  0A          	ld	a,(bc)
3317  1005  CB 4F       	bit	1, a
3318  1007  28 48       	jr	Z,l_enemy_walk_00134
3319  1009  01 00 00    	ld	bc,_spr_timer+0
3320  100C  2A 00 00    	ld	hl,(_sprite)
3321  100F  26 00       	ld	h,0x00
3322  1011  29          	add	hl, hl
3323  1012  09          	add	hl,bc
3324  1013  ED 5B 00 00 	ld	de,(_curr_time)
3325  1017  73          	ld	(hl),e
3326  1018  23          	inc	hl
3327  1019  72          	ld	(hl),d
3328  101A  3A 00 00    	ld	a,(_sprite)
3329  101D  C6 00       	add	a,+((_colint) & 0xFF)
3330  101F  4F          	ld	c,a
3331  1020  3E 00       	ld	a,+((_colint) / 256)
3332  1022  CE 00       	adc	a,0x00
3333  1024  47          	ld	b,a
3334  1025  0A          	ld	a,(bc)
3335  1026  5F          	ld	e,a
3336  1027  D6 02       	sub	a,0x02
3337  1029  30 05       	jr	NC,l_enemy_walk_00127
3338  102B  1C          	inc	e
3339  102C  7B          	ld	a,e
3340  102D  02          	ld	(bc),a
3341  102E  18 21       	jr	l_enemy_walk_00134
3342  1030              l_enemy_walk_00127:
3343  1030  2A 00 00    	ld	hl,(_sprite)
3344  1033  26 00       	ld	h,0x00
3345  1035  01 00 00    	ld	bc,_state_a
3346  1038  09          	add	hl,bc
3347  1039  7E          	ld	a,(hl)
3348  103A  E6 FD       	and	a,0xfd
3349  103C  77          	ld	(hl),a
3350  103D  3E 00       	ld	a,+((_tile) & 0xFF)
3351  103F  21 00 00    	ld	hl,_sprite
3352  1042  86          	add	a, (hl)
3353  1043  4F          	ld	c,a
3354  1044  3E 00       	ld	a,+((_tile) / 256)
3355  1046  CE 00       	adc	a,0x00
3356  1048  47          	ld	b,a
3357  1049  6E          	ld	l,(hl)
3358  104A  C5          	push	bc
3359  104B  CD 00 00    	call	_spr_tile
3360  104E  C1          	pop	bc
3361  104F  7D          	ld	a, l
3362  1050  02          	ld	(bc),a
3363  1051              l_enemy_walk_00134:
3364  1051  C9          	ret
3365  1052              	SECTION code_compiler
3366  1052              ;	---------------------------------
3367  1052              ; Function enemy_init
3368  1052              ; ---------------------------------
3369  1052              _enemy_init:
3370  1052  CD 00 00    	call	___sdcc_enter_ix
3371  1055  21 00 00    	ld	hl,_spr_count
3372  1058  34          	inc	(hl)
3373  1059  3E 00       	ld	a,+((_class) & 0xFF)
3374  105B  DD 86 04    	add	a,(ix+4)
3375  105E  4F          	ld	c,a
3376  105F  3E 00       	ld	a,+((_class) / 256)
3377  1061  CE 00       	adc	a,0x00
3378  1063  47          	ld	b,a
3379  1064  DD 7E 07    	ld	a,(ix+7)
3380  1067  02          	ld	(bc),a
3381  1068  3E 00       	ld	a,+((_lin) & 0xFF)
3382  106A  DD 86 04    	add	a,(ix+4)
3383  106D  4F          	ld	c,a
3384  106E  3E 00       	ld	a,+((_lin) / 256)
3385  1070  CE 00       	adc	a,0x00
3386  1072  47          	ld	b,a
3387  1073  DD 7E 05    	ld	a,(ix+5)
3388  1076  02          	ld	(bc),a
3389  1077  3E 00       	ld	a,+((_col) & 0xFF)
3390  1079  DD 86 04    	add	a,(ix+4)
3391  107C  4F          	ld	c,a
3392  107D  3E 00       	ld	a,+((_col) / 256)
3393  107F  CE 00       	adc	a,0x00
3394  1081  47          	ld	b,a
3395  1082  DD 7E 06    	ld	a,(ix+6)
3396  1085  02          	ld	(bc),a
3397  1086  21 00 00    	ld	hl,_tmp
3398  1089  36 00       	ld	(hl),0x00
3399  108B  3E 00       	ld	a,+((_state) & 0xFF)
3400  108D  DD 86 04    	add	a,(ix+4)
3401  1090  4F          	ld	c,a
3402  1091  3E 00       	ld	a,+((_state) / 256)
3403  1093  CE 00       	adc	a,0x00
3404  1095  47          	ld	b,a
3405  1096  AF          	xor	a, a
3406  1097  02          	ld	(bc),a
3407  1098  3E 00       	ld	a,+((_state_a) & 0xFF)
3408  109A  DD 86 04    	add	a,(ix+4)
3409  109D  5F          	ld	e,a
3410  109E  3E 00       	ld	a,+((_state_a) / 256)
3411  10A0  CE 00       	adc	a,0x00
3412  10A2  57          	ld	d,a
3413  10A3  AF          	xor	a, a
3414  10A4  12          	ld	(de),a
3415  10A5  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3416  10A7  DD 86 04    	add	a,(ix+4)
3417  10AA  5F          	ld	e,a
3418  10AB  3E 00       	ld	a,+((_jump_lin) / 256)
3419  10AD  CE 00       	adc	a,0x00
3420  10AF  57          	ld	d,a
3421  10B0  AF          	xor	a, a
3422  10B1  12          	ld	(de),a
3423  10B2  0A          	ld	a,(bc)
3424  10B3  5F          	ld	e,a
3425  10B4  DD 7E 08    	ld	a,(ix+8)
3426  10B7  3D          	dec	a
3427  10B8  20 06       	jr	NZ,l_enemy_init_00102
3428  10BA  7B          	ld	a,e
3429  10BB  CB D7       	set	2, a
3430  10BD  02          	ld	(bc),a
3431  10BE  18 04       	jr	l_enemy_init_00103
3432  10C0              l_enemy_init_00102:
3433  10C0  7B          	ld	a,e
3434  10C1  CB DF       	set	3, a
3435  10C3  02          	ld	(bc),a
3436  10C4              l_enemy_init_00103:
3437  10C4  3E 00       	ld	a,+((_colint) & 0xFF)
3438  10C6  DD 86 04    	add	a,(ix+4)
3439  10C9  4F          	ld	c,a
3440  10CA  3E 00       	ld	a,+((_colint) / 256)
3441  10CC  CE 00       	adc	a,0x00
3442  10CE  47          	ld	b,a
3443  10CF  AF          	xor	a, a
3444  10D0  02          	ld	(bc),a
3445  10D1  3E 00       	ld	a,+((_tile) & 0xFF)
3446  10D3  DD 86 04    	add	a,(ix+4)
3447  10D6  4F          	ld	c,a
3448  10D7  3E 00       	ld	a,+((_tile) / 256)
3449  10D9  CE 00       	adc	a,0x00
3450  10DB  47          	ld	b,a
3451  10DC  C5          	push	bc
3452  10DD  DD 6E 04    	ld	l,(ix+4)
3453  10E0  CD 00 00    	call	_spr_tile
3454  10E3  C1          	pop	bc
3455  10E4  7D          	ld	a, l
3456  10E5  02          	ld	(bc),a
3457  10E6  DD 4E 04    	ld	c,(ix+4)
3458  10E9  06 00       	ld	b,0x00
3459  10EB  CB 21       	sla	c
3460  10ED  CB 10       	rl	b
3461  10EF  21 00 00    	ld	hl,_last_time
3462  10F2  09          	add	hl,bc
3463  10F3  AF          	xor	a, a
3464  10F4  77          	ld	(hl), a
3465  10F5  23          	inc	hl
3466  10F6  77          	ld	(hl), a
3467  10F7  21 00 00    	ld	hl,_spr_timer
3468  10FA  09          	add	hl,bc
3469  10FB  ED 5B 00 00 	ld	de,(_curr_time)
3470  10FF  73          	ld	(hl),e
3471  1100  23          	inc	hl
3472  1101  72          	ld	(hl),d
3473  1102  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3474  1104  DD 86 04    	add	a,(ix+4)
3475  1107  4F          	ld	c,a
3476  1108  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3477  110A  CE 00       	adc	a,0x00
3478  110C  47          	ld	b,a
3479  110D  AF          	xor	a, a
3480  110E  02          	ld	(bc),a
3481  110F  DD E1       	pop	ix
3482  1111  C9          	ret
3483  1112              	SECTION code_compiler
3484  1112              ;	---------------------------------
3485  1112              ; Function enemy_kill
3486  1112              ; ---------------------------------
3487  1112              _enemy_kill:
3488  1112  CD 00 00    	call	___sdcc_enter_ix
3489  1115  F5          	push	af
3490  1116  F5          	push	af
3491  1117  5D          	ld	e,l
3492  1118  76          	halt
3493  1119  D5          	push	de
3494  111A  CD 00 00    	call	_sound_kill
3495  111D  D1          	pop	de
3496  111E  2A 00 00    	ld	hl,(_sprite)
3497  1121  26 00       	ld	h,0x00
3498  1123  01 00 00    	ld	bc,_state
3499  1126  09          	add	hl,bc
3500  1127  4E          	ld	c,(hl)
3501  1128  16 00       	ld	d,0x00
3502  112A  21 00 00    	ld	hl,_state
3503  112D  19          	add	hl, de
3504  112E  7E          	ld	a,(hl)
3505  112F  CB 59       	bit	3, c
3506  1131  28 07       	jr	Z,l_enemy_kill_00102
3507  1133  CB DF       	set	3, a
3508  1135  E6 FB       	and	a,0xfb
3509  1137  77          	ld	(hl),a
3510  1138  18 05       	jr	l_enemy_kill_00103
3511  113A              l_enemy_kill_00102:
3512  113A  CB D7       	set	2, a
3513  113C  E6 F7       	and	a,0xf7
3514  113E  77          	ld	(hl),a
3515  113F              l_enemy_kill_00103:
3516  113F  7E          	ld	a,(hl)
3517  1140  E6 FD       	and	a,0xfd
3518  1142  CB C6       	set	0,(hl)
3519  1144  CB EE       	set	5,(hl)
3520  1146  3E 00       	ld	a,+((_class) & 0xFF)
3521  1148  83          	add	a, e
3522  1149  DD 77 FE    	ld	(ix-2),a
3523  114C  6F          	ld	l,a
3524  114D  3E 00       	ld	a,+((_class) / 256)
3525  114F  CE 00       	adc	a,0x00
3526  1151  DD 77 FF    	ld	(ix-1),a
3527  1154  67          	ld	h,a
3528  1155  7E          	ld	a,(hl)
3529  1156  D6 09       	sub	a,0x09
3530  1158  20 08       	jr	NZ,l_enemy_kill_00105
3531  115A  DD 6E FE    	ld	l,(ix-2)
3532  115D  DD 66 FF    	ld	h,(ix-1)
3533  1160  36 01       	ld	(hl),0x01
3534  1162              l_enemy_kill_00105:
3535  1162  01 00 00    	ld	bc,_sprite_speed_alt+0
3536  1165  6B          	ld	l,e
3537  1166  26 00       	ld	h,0x00
3538  1168  09          	add	hl,bc
3539  1169  36 08       	ld	(hl),0x08
3540  116B  21 00 00    	ld	hl,_hit_count
3541  116E  46          	ld	b,(hl)
3542  116F  0E 50       	ld	c,0x50
3543  1171  16 00       	ld	d,0x00
3544  1173  04          	inc	b
3545  1174  18 04       	jr	l_enemy_kill_00174
3546  1176              l_enemy_kill_00173:
3547  1176  CB 21       	sla	c
3548  1178  CB 12       	rl	d
3549  117A              l_enemy_kill_00174:
3550  117A  10 FA       	djnz	l_enemy_kill_00173
3551  117C  D5          	push	de
3552  117D  69          	ld	l, c
3553  117E  62          	ld	h, d
3554  117F  CD 00 00    	call	_player_score_add
3555  1182  D1          	pop	de
3556  1183  21 00 00    	ld	hl,_hit_count
3557  1186  34          	inc	(hl)
3558  1187  01 00 00    	ld	bc,_spr_timer+0
3559  118A  6B          	ld	l,e
3560  118B  26 00       	ld	h,0x00
3561  118D  29          	add	hl, hl
3562  118E  09          	add	hl,bc
3563  118F  E3          	ex	(sp), hl
3564  1190  E1          	pop	hl
3565  1191  ED 4B 00 00 	ld	bc,(_curr_time)
3566  1195  E5          	push	hl
3567  1196  71          	ld	(hl),c
3568  1197  23          	inc	hl
3569  1198  70          	ld	(hl),b
3570  1199  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3571  119B  83          	add	a, e
3572  119C  4F          	ld	c,a
3573  119D  3E 00       	ld	a,+((_jump_lin) / 256)
3574  119F  CE 00       	adc	a,0x00
3575  11A1  47          	ld	b,a
3576  11A2  16 00       	ld	d,0x00
3577  11A4  21 00 00    	ld	hl,_lin
3578  11A7  19          	add	hl, de
3579  11A8  7E          	ld	a,(hl)
3580  11A9  02          	ld	(bc),a
3581  11AA  DD 6E FE    	ld	l,(ix-2)
3582  11AD  DD 66 FF    	ld	h,(ix-1)
3583  11B0  4E          	ld	c,(hl)
3584  11B1  3E 09       	ld	a,0x09
3585  11B3  91          	sub	a, c
3586  11B4  38 6F       	jr	C,l_enemy_kill_00116
3587  11B6  3A 00 00    	ld	a,(_game_type)
3588  11B9  D6 02       	sub	a,0x02
3589  11BB  28 64       	jr	Z,l_enemy_kill_00114
3590  11BD  21 00 00    	ld	hl,_phase_left
3591  11C0  7E          	ld	a,(hl)
3592  11C1  3D          	dec	a
3593  11C2  77          	ld	(hl),a
3594  11C3  3D          	dec	a
3595  11C4  20 5B       	jr	NZ,l_enemy_kill_00114
3596  11C6  21 00 00    	ld	hl,_phase_angry
3597  11C9  36 01       	ld	(hl),0x01
3598  11CB  21 00 00    	ld	hl,_tmp0
3599  11CE  36 00       	ld	(hl),0x00
3600  11D0              l_enemy_kill_00122:
3601  11D0  2A 00 00    	ld	hl,(_tmp0)
3602  11D3  26 00       	ld	h,0x00
3603  11D5  01 00 00    	ld	bc,_class
3604  11D8  09          	add	hl,bc
3605  11D9  7E          	ld	a,(hl)
3606  11DA  4F          	ld	c,a
3607  11DB  B7          	or	a,a
3608  11DC  28 39       	jr	Z,l_enemy_kill_00123
3609  11DE  3E 09       	ld	a,0x09
3610  11E0  91          	sub	a,c
3611  11E1  38 34       	jr	C,l_enemy_kill_00123
3612  11E3  3A 00 00    	ld	a,(_tmp0)
3613  11E6  4F          	ld	c,a
3614  11E7  06 00       	ld	b,0x00
3615  11E9  21 00 00    	ld	hl,_state
3616  11EC  09          	add	hl,bc
3617  11ED  CB 6E       	bit	5,(hl)
3618  11EF  20 26       	jr	NZ,l_enemy_kill_00123
3619  11F1  3A 00 00    	ld	a,(_tmp0)
3620  11F4  F5          	push	af
3621  11F5  33          	inc	sp
3622  11F6  CD A8 0D    	call	_enemy_evolve
3623  11F9  33          	inc	sp
3624  11FA  3A 00 00    	ld	a,(_tmp0)
3625  11FD  F5          	push	af
3626  11FE  33          	inc	sp
3627  11FF  CD A8 0D    	call	_enemy_evolve
3628  1202  33          	inc	sp
3629  1203  3E 00       	ld	a,+((_tile) & 0xFF)
3630  1205  21 00 00    	ld	hl,_tmp0
3631  1208  86          	add	a, (hl)
3632  1209  4F          	ld	c,a
3633  120A  3E 00       	ld	a,+((_tile) / 256)
3634  120C  CE 00       	adc	a,0x00
3635  120E  47          	ld	b,a
3636  120F  6E          	ld	l,(hl)
3637  1210  C5          	push	bc
3638  1211  CD 00 00    	call	_spr_tile
3639  1214  C1          	pop	bc
3640  1215  7D          	ld	a, l
3641  1216  02          	ld	(bc),a
3642  1217              l_enemy_kill_00123:
3643  1217  21 00 00    	ld	hl,_tmp0
3644  121A  7E          	ld	a,(hl)
3645  121B  3C          	inc	a
3646  121C  77          	ld	(hl),a
3647  121D  D6 06       	sub	a,0x06
3648  121F  38 AF       	jr	C,l_enemy_kill_00122
3649  1221              l_enemy_kill_00114:
3650  1221  21 00 00    	ld	hl,_phase_coins
3651  1224  34          	inc	(hl)
3652  1225              l_enemy_kill_00116:
3653  1225  3A 00 00    	ld	a,(_phase_left)
3654  1228  B7          	or	a, a
3655  1229  28 08       	jr	Z,l_enemy_kill_00120
3656  122B  21 00 00    	ld	hl,_ay_effect_11
3657  122E  CD 00 00    	call	_ay_fx_play
3658  1231  18 0F       	jr	l_enemy_kill_00124
3659  1233              l_enemy_kill_00120:
3660  1233  CD 00 00    	call	_ay_reset
3661  1236  3A 00 00    	ld	a,(_game_bonus)
3662  1239  B7          	or	a, a
3663  123A  20 06       	jr	NZ,l_enemy_kill_00124
3664  123C  21 00 00    	ld	hl,_ay_effect_17
3665  123F  CD 00 00    	call	_ay_fx_play
3666  1242              l_enemy_kill_00124:
3667  1242  DD F9       	ld	sp, ix
3668  1244  DD E1       	pop	ix
3669  1246  C9          	ret
3670  1247              	SECTION IGNORE
3671  0000              
