1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _enemy_coin2
181   0000              	GLOBAL _enemy_coin1
182   0000              	GLOBAL _enemy_collition
183   0000              	GLOBAL _enemy_collition_check
184   0000              	GLOBAL _enemy_hit
185   0000              	GLOBAL _enemy_flip_change_dir
186   0000              	GLOBAL _enemy_flip
187   0000              	GLOBAL _enemy_flip_sidestepper
188   0000              	GLOBAL _enemy_turn
189   0000              	GLOBAL _enemy_standard
190   0000              	GLOBAL _enemy_slipice
191   0000              	GLOBAL _enemy_fireball_red
192   0000              	GLOBAL _enemy_fireball_green
193   0000              	GLOBAL _enemy_fighterfly
194   0000              	GLOBAL _enemy_trip
195   0000              	GLOBAL _enemy_standard_hit
196   0000              	GLOBAL _enemy_evolve
197   0000              	GLOBAL _enemy_upgrade
198   0000              	GLOBAL _enemy_walk
199   0000              	GLOBAL _enemy_init
200   0000              	GLOBAL _enemy_kill
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _zx_pattern_fill_callee
246   0000              	GLOBAL _zx_pattern_fill
247   0000              	GLOBAL _zx_saddrpup_fastcall
248   0000              	GLOBAL _zx_saddrpup
249   0000              	GLOBAL _zx_saddrpright_callee
250   0000              	GLOBAL _zx_saddrpright
251   0000              	GLOBAL _zx_saddrpleft_callee
252   0000              	GLOBAL _zx_saddrpleft
253   0000              	GLOBAL _zx_saddrpdown_fastcall
254   0000              	GLOBAL _zx_saddrpdown
255   0000              	GLOBAL _zx_saddrcup_fastcall
256   0000              	GLOBAL _zx_saddrcup
257   0000              	GLOBAL _zx_saddrcright_fastcall
258   0000              	GLOBAL _zx_saddrcright
259   0000              	GLOBAL _zx_saddrcleft_fastcall
260   0000              	GLOBAL _zx_saddrcleft
261   0000              	GLOBAL _zx_saddrcdown_fastcall
262   0000              	GLOBAL _zx_saddrcdown
263   0000              	GLOBAL _zx_saddr2py_fastcall
264   0000              	GLOBAL _zx_saddr2py
265   0000              	GLOBAL _zx_saddr2px_fastcall
266   0000              	GLOBAL _zx_saddr2px
267   0000              	GLOBAL _zx_saddr2cy_fastcall
268   0000              	GLOBAL _zx_saddr2cy
269   0000              	GLOBAL _zx_saddr2cx_fastcall
270   0000              	GLOBAL _zx_saddr2cx
271   0000              	GLOBAL _zx_saddr2aaddr_fastcall
272   0000              	GLOBAL _zx_saddr2aaddr
273   0000              	GLOBAL _zx_py2saddr_fastcall
274   0000              	GLOBAL _zx_py2saddr
275   0000              	GLOBAL _zx_py2aaddr_fastcall
276   0000              	GLOBAL _zx_py2aaddr
277   0000              	GLOBAL _zx_pxy2saddr_callee
278   0000              	GLOBAL _zx_pxy2saddr
279   0000              	GLOBAL _zx_pxy2aaddr_callee
280   0000              	GLOBAL _zx_pxy2aaddr
281   0000              	GLOBAL _zx_px2bitmask_fastcall
282   0000              	GLOBAL _zx_px2bitmask
283   0000              	GLOBAL _zx_cyx2saddr_callee
284   0000              	GLOBAL _zx_cyx2saddr
285   0000              	GLOBAL _zx_cyx2aaddr_callee
286   0000              	GLOBAL _zx_cyx2aaddr
287   0000              	GLOBAL _zx_cy2saddr_fastcall
288   0000              	GLOBAL _zx_cy2saddr
289   0000              	GLOBAL _zx_cy2aaddr_fastcall
290   0000              	GLOBAL _zx_cy2aaddr
291   0000              	GLOBAL _zx_bitmask2px_fastcall
292   0000              	GLOBAL _zx_bitmask2px
293   0000              	GLOBAL _zx_aaddrcup_fastcall
294   0000              	GLOBAL _zx_aaddrcup
295   0000              	GLOBAL _zx_aaddrcright_fastcall
296   0000              	GLOBAL _zx_aaddrcright
297   0000              	GLOBAL _zx_aaddrcleft_fastcall
298   0000              	GLOBAL _zx_aaddrcleft
299   0000              	GLOBAL _zx_aaddrcdown_fastcall
300   0000              	GLOBAL _zx_aaddrcdown
301   0000              	GLOBAL _zx_aaddr2saddr_fastcall
302   0000              	GLOBAL _zx_aaddr2saddr
303   0000              	GLOBAL _zx_aaddr2py_fastcall
304   0000              	GLOBAL _zx_aaddr2py
305   0000              	GLOBAL _zx_aaddr2px_fastcall
306   0000              	GLOBAL _zx_aaddr2px
307   0000              	GLOBAL _zx_aaddr2cy_fastcall
308   0000              	GLOBAL _zx_aaddr2cy
309   0000              	GLOBAL _zx_aaddr2cx_fastcall
310   0000              	GLOBAL _zx_aaddr2cx
311   0000              	GLOBAL _zx_scroll_wc_up_callee
312   0000              	GLOBAL _zx_scroll_wc_up
313   0000              	GLOBAL _zx_scroll_up_callee
314   0000              	GLOBAL _zx_scroll_up
315   0000              	GLOBAL _zx_cls_wc_callee
316   0000              	GLOBAL _zx_cls_wc
317   0000              	GLOBAL _zx_cls_fastcall
318   0000              	GLOBAL _zx_cls
319   0000              	GLOBAL _zx_border_fastcall
320   0000              	GLOBAL _zx_border
321   0000              	GLOBAL _sound_hit_pow
322   0000              	GLOBAL _sound_hit_brick
323   0000              	GLOBAL _sound_hit_enemy
324   0000              	GLOBAL _sound_kill
325   0000              	GLOBAL _sound_enter_enemy
326   0000              	GLOBAL _sound_coin
327   0000              	GLOBAL _sound_jump
328   0000              	GLOBAL _sound_slide
329   0000              	GLOBAL _spr_draw_clear
330   0000              	GLOBAL _spr_water_splash_draw
331   0000              	GLOBAL _spr_water_splash_clear
332   0000              	GLOBAL _spr_draw_back
333   0000              	GLOBAL _spr_cortina_pipes
334   0000              	GLOBAL _spr_cortina_brick
335   0000              	GLOBAL _spr_brick_anim
336   0000              	GLOBAL _spr_back_fix4
337   0000              	GLOBAL _spr_back_fix3
338   0000              	GLOBAL _spr_back_fix2
339   0000              	GLOBAL _spr_back_fix1
340   0000              	GLOBAL _spr_back_fix
341   0000              	GLOBAL _spr_back_clr
342   0000              	GLOBAL _spr_draw_pow
343   0000              	GLOBAL _spr_tile
344   0000              	GLOBAL _spr_set_fall
345   0000              	GLOBAL _spr_destroy
346   0000              	GLOBAL _spr_check_over
347   0000              	GLOBAL _spr_tile_dir
348   0000              	GLOBAL _spr_anim_kill
349   0000              	GLOBAL _spr_anim_fall
350   0000              	GLOBAL _spr_killed
351   0000              	GLOBAL _spr_redraw
352   0000              	GLOBAL _spr_move_left
353   0000              	GLOBAL _spr_move_right
354   0000              	GLOBAL _spr_move_horizontal
355   0000              	GLOBAL _spr_move_down
356   0000              	GLOBAL _spr_move_up
357   0000              	GLOBAL _spr_chktime
358   0000              	GLOBAL _player_move_horizontal
359   0000              	GLOBAL _player_push_check
360   0000              	GLOBAL _player_push
361   0000              	GLOBAL _player_hit_brick_clear
362   0000              	GLOBAL _player_lost_life
363   0000              	GLOBAL _player_score_add
364   0000              	GLOBAL _player_coin
365   0000              	GLOBAL _player_hit_pow
366   0000              	GLOBAL _player_hit_brick
367   0000              	GLOBAL _player_move_input
368   0000              	GLOBAL _player_turn
369   0000              	GLOBAL _player_move
370   0000              	GLOBAL _player_restart
371   0000              	GLOBAL _player_kill
372   0000              	GLOBAL _player_check_input
373   0000              	GLOBAL _player_collition_check
374   0000              	GLOBAL _player_collition
375   0000              	GLOBAL _player_calc_slide
376   0000              	GLOBAL _player_init
377   0000              	GLOBAL _game_joystick_set_menu
378   0000              	GLOBAL _game_joystick_set
379   0000              	GLOBAL _game_joystick_change
380   0000              	GLOBAL _game_hall_print_p
381   0000              	GLOBAL _game_hall_edit_p
382   0000              	GLOBAL _game_hall_check
383   0000              	GLOBAL _game_hall_enter_phs
384   0000              	GLOBAL _game_print_header
385   0000              	GLOBAL _game_end
386   0000              	GLOBAL _game_hall_enter
387   0000              	GLOBAL _game_hall_of_fame
388   0000              	GLOBAL _game_score_osd
389   0000              	GLOBAL _game_phase_print_score_back
390   0000              	GLOBAL _game_bonus_clock
391   0000              	GLOBAL _game_bonus_summary_player
392   0000              	GLOBAL _game_bonus_summary
393   0000              	GLOBAL _game_check_time
394   0000              	GLOBAL _game_menu_config
395   0000              	GLOBAL _game_menu
396   0000              	GLOBAL _game_rotate_attrib
397   0000              	GLOBAL _game_colour_message
398   0000              	GLOBAL _game_paint_attrib_lin_h
399   0000              	GLOBAL _game_paint_attrib_lin
400   0000              	GLOBAL _game_paint_attrib
401   0000              	GLOBAL _game_menu_paint
402   0000              	GLOBAL _game_menu_top_paint
403   0000              	GLOBAL _game_menu_handle
404   0000              	GLOBAL _game_menu_e
405   0000              	GLOBAL _game_menu_back
406   0000              	GLOBAL _game_print_score
407   0000              	GLOBAL _game_unfreeze_all
408   0000              	GLOBAL _game_freeze_all
409   0000              	GLOBAL _game_freeze
410   0000              	GLOBAL _game_enemy_add_get_index
411   0000              	GLOBAL _game_enemy_add1
412   0000              	GLOBAL _game_enemy_quota
413   0000              	GLOBAL _game_enemy_rnd
414   0000              	GLOBAL _game_enemy_add
415   0000              	GLOBAL _game_check_maze
416   0000              	GLOBAL _game_kill_all_sprites
417   0000              	GLOBAL _game_loop
418   0000              	GLOBAL _player_set2
419   0000              	GLOBAL _player_set1
420   0000              	GLOBAL _game_phase_print
421   0000              	GLOBAL _game_phase_init
422   0000              	GLOBAL _game_phase_calc
423   0000              	GLOBAL _game_start_timer
424   0000              	GLOBAL _game_tick
425   0000              	GLOBAL _game_print_lives
426   0000              	GLOBAL _game_print_footer
427   0000              	GLOBAL _game_calc_index
428   0000              	GLOBAL _game_fill_row
429   0000              	GLOBAL _ay_fx_play
430   0000              	GLOBAL _ay_midi_play
431   0000              	GLOBAL _ay_is_playing
432   0000              	GLOBAL _ay_reset
433   0000              	GLOBAL _test_func
434   0000              	GLOBAL _in_mouse_kempston_wheel_delta
435   0000              	GLOBAL _in_mouse_kempston_wheel
436   0000              	GLOBAL _in_mouse_kempston_callee
437   0000              	GLOBAL _in_mouse_kempston
438   0000              	GLOBAL _in_mouse_kempston_setpos_callee
439   0000              	GLOBAL _in_mouse_kempston_setpos
440   0000              	GLOBAL _in_mouse_kempston_reset
441   0000              	GLOBAL _in_mouse_kempston_init
442   0000              	GLOBAL _in_mouse_amx_wheel_delta
443   0000              	GLOBAL _in_mouse_amx_wheel
444   0000              	GLOBAL _in_mouse_amx_callee
445   0000              	GLOBAL _in_mouse_amx
446   0000              	GLOBAL _in_mouse_amx_setpos_callee
447   0000              	GLOBAL _in_mouse_amx_setpos
448   0000              	GLOBAL _in_mouse_amx_reset
449   0000              	GLOBAL _in_mouse_amx_init_callee
450   0000              	GLOBAL _in_mouse_amx_init
451   0000              	GLOBAL _in_stick_sinclair2
452   0000              	GLOBAL _in_stick_sinclair1
453   0000              	GLOBAL _in_stick_kempston
454   0000              	GLOBAL _in_stick_fuller
455   0000              	GLOBAL _in_stick_cursor
456   0000              	GLOBAL _in_stick_keyboard_fastcall
457   0000              	GLOBAL _in_stick_keyboard
458   0000              	GLOBAL _in_wait_nokey
459   0000              	GLOBAL _in_wait_key
460   0000              	GLOBAL _in_test_key
461   0000              	GLOBAL _in_pause_fastcall
462   0000              	GLOBAL _in_pause
463   0000              	GLOBAL _in_key_scancode_fastcall
464   0000              	GLOBAL _in_key_scancode
465   0000              	GLOBAL _in_key_pressed_fastcall
466   0000              	GLOBAL _in_key_pressed
467   0000              	GLOBAL _in_inkey
468   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
469   0000              	GLOBAL _NIRVANAP_drawTW_raw
470   0000              	GLOBAL _NIRVANAP_drawTW_callee
471   0000              	GLOBAL _NIRVANAP_drawTW
472   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
473   0000              	GLOBAL _NIRVANAP_drawW_raw
474   0000              	GLOBAL _NIRVANAP_drawW_callee
475   0000              	GLOBAL _NIRVANAP_drawW
476   0000              	GLOBAL _NIRVANAP_spriteT_callee
477   0000              	GLOBAL _NIRVANAP_spriteT
478   0000              	GLOBAL _NIRVANAP_fillC_callee
479   0000              	GLOBAL _NIRVANAP_fillC
480   0000              	GLOBAL _NIRVANAP_readC_callee
481   0000              	GLOBAL _NIRVANAP_readC
482   0000              	GLOBAL _NIRVANAP_paintC_callee
483   0000              	GLOBAL _NIRVANAP_paintC
484   0000              	GLOBAL _NIRVANAP_printC_callee
485   0000              	GLOBAL _NIRVANAP_printC
486   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
487   0000              	GLOBAL _NIRVANAP_fillT_raw
488   0000              	GLOBAL _NIRVANAP_fillT_callee
489   0000              	GLOBAL _NIRVANAP_fillT
490   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
491   0000              	GLOBAL _NIRVANAP_drawT_raw
492   0000              	GLOBAL _NIRVANAP_drawT_callee
493   0000              	GLOBAL _NIRVANAP_drawT
494   0000              	GLOBAL _NIRVANAP_stop
495   0000              	GLOBAL _NIRVANAP_start
496   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
497   0000              	GLOBAL _intrinsic_swap_word_32
498   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
499   0000              	GLOBAL _intrinsic_swap_endian_32
500   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
501   0000              	GLOBAL _intrinsic_swap_endian_16
502   0000              	GLOBAL _intrinsic_return_de
503   0000              	GLOBAL _intrinsic_return_bc
504   0000              	GLOBAL _intrinsic_exx
505   0000              	GLOBAL _intrinsic_ex_de_hl
506   0000              	GLOBAL _intrinsic_pop_iy
507   0000              	GLOBAL _intrinsic_pop_ix
508   0000              	GLOBAL _intrinsic_pop_hl
509   0000              	GLOBAL _intrinsic_pop_de
510   0000              	GLOBAL _intrinsic_pop_bc
511   0000              	GLOBAL _intrinsic_pop_af
512   0000              	GLOBAL _intrinsic_push_iy
513   0000              	GLOBAL _intrinsic_push_ix
514   0000              	GLOBAL _intrinsic_push_hl
515   0000              	GLOBAL _intrinsic_push_de
516   0000              	GLOBAL _intrinsic_push_bc
517   0000              	GLOBAL _intrinsic_push_af
518   0000              	GLOBAL _intrinsic_nop
519   0000              	GLOBAL _intrinsic_im_2
520   0000              	GLOBAL _intrinsic_im_1
521   0000              	GLOBAL _intrinsic_im_0
522   0000              	GLOBAL _intrinsic_retn
523   0000              	GLOBAL _intrinsic_reti
524   0000              	GLOBAL _intrinsic_halt
525   0000              	GLOBAL _intrinsic_ei
526   0000              	GLOBAL _intrinsic_di
527   0000              	GLOBAL _intrinsic_stub
528   0000              	GLOBAL _ulltoa_callee
529   0000              	GLOBAL _ulltoa
530   0000              	GLOBAL _strtoull_callee
531   0000              	GLOBAL _strtoull
532   0000              	GLOBAL _strtoll_callee
533   0000              	GLOBAL _strtoll
534   0000              	GLOBAL _lltoa_callee
535   0000              	GLOBAL _lltoa
536   0000              	GLOBAL _llabs_callee
537   0000              	GLOBAL _llabs
538   0000              	GLOBAL __lldivu__callee
539   0000              	GLOBAL __lldivu_
540   0000              	GLOBAL __lldiv__callee
541   0000              	GLOBAL __lldiv_
542   0000              	GLOBAL _atoll_callee
543   0000              	GLOBAL _atoll
544   0000              	GLOBAL _realloc_unlocked_callee
545   0000              	GLOBAL _realloc_unlocked
546   0000              	GLOBAL _malloc_unlocked_fastcall
547   0000              	GLOBAL _malloc_unlocked
548   0000              	GLOBAL _free_unlocked_fastcall
549   0000              	GLOBAL _free_unlocked
550   0000              	GLOBAL _calloc_unlocked_callee
551   0000              	GLOBAL _calloc_unlocked
552   0000              	GLOBAL _aligned_alloc_unlocked_callee
553   0000              	GLOBAL _aligned_alloc_unlocked
554   0000              	GLOBAL _realloc_callee
555   0000              	GLOBAL _realloc
556   0000              	GLOBAL _malloc_fastcall
557   0000              	GLOBAL _malloc
558   0000              	GLOBAL _free_fastcall
559   0000              	GLOBAL _free
560   0000              	GLOBAL _calloc_callee
561   0000              	GLOBAL _calloc
562   0000              	GLOBAL _aligned_alloc_callee
563   0000              	GLOBAL _aligned_alloc
564   0000              	GLOBAL _utoa_callee
565   0000              	GLOBAL _utoa
566   0000              	GLOBAL _ultoa_callee
567   0000              	GLOBAL _ultoa
568   0000              	GLOBAL _system_fastcall
569   0000              	GLOBAL _system
570   0000              	GLOBAL _strtoul_callee
571   0000              	GLOBAL _strtoul
572   0000              	GLOBAL _strtol_callee
573   0000              	GLOBAL _strtol
574   0000              	GLOBAL _strtof_callee
575   0000              	GLOBAL _strtof
576   0000              	GLOBAL _strtod_callee
577   0000              	GLOBAL _strtod
578   0000              	GLOBAL _srand_fastcall
579   0000              	GLOBAL _srand
580   0000              	GLOBAL _rand
581   0000              	GLOBAL _quick_exit_fastcall
582   0000              	GLOBAL _quick_exit
583   0000              	GLOBAL _qsort_callee
584   0000              	GLOBAL _qsort
585   0000              	GLOBAL _ltoa_callee
586   0000              	GLOBAL _ltoa
587   0000              	GLOBAL _labs_fastcall
588   0000              	GLOBAL _labs
589   0000              	GLOBAL _itoa_callee
590   0000              	GLOBAL _itoa
591   0000              	GLOBAL _ftoh_callee
592   0000              	GLOBAL _ftoh
593   0000              	GLOBAL _ftog_callee
594   0000              	GLOBAL _ftog
595   0000              	GLOBAL _ftoe_callee
596   0000              	GLOBAL _ftoe
597   0000              	GLOBAL _ftoa_callee
598   0000              	GLOBAL _ftoa
599   0000              	GLOBAL _exit_fastcall
600   0000              	GLOBAL _exit
601   0000              	GLOBAL _dtoh_callee
602   0000              	GLOBAL _dtoh
603   0000              	GLOBAL _dtog_callee
604   0000              	GLOBAL _dtog
605   0000              	GLOBAL _dtoe_callee
606   0000              	GLOBAL _dtoe
607   0000              	GLOBAL _dtoa_callee
608   0000              	GLOBAL _dtoa
609   0000              	GLOBAL _bsearch_callee
610   0000              	GLOBAL _bsearch
611   0000              	GLOBAL _atol_fastcall
612   0000              	GLOBAL _atol
613   0000              	GLOBAL _atoi_fastcall
614   0000              	GLOBAL _atoi
615   0000              	GLOBAL _atof_fastcall
616   0000              	GLOBAL _atof
617   0000              	GLOBAL _atexit_fastcall
618   0000              	GLOBAL _atexit
619   0000              	GLOBAL _at_quick_exit_fastcall
620   0000              	GLOBAL _at_quick_exit
621   0000              	GLOBAL _abs_fastcall
622   0000              	GLOBAL _abs
623   0000              	GLOBAL _abort
624   0000              	GLOBAL __strtou__callee
625   0000              	GLOBAL __strtou_
626   0000              	GLOBAL __strtoi__callee
627   0000              	GLOBAL __strtoi_
628   0000              	GLOBAL __random_uniform_xor_8__fastcall
629   0000              	GLOBAL __random_uniform_xor_8_
630   0000              	GLOBAL __random_uniform_xor_32__fastcall
631   0000              	GLOBAL __random_uniform_xor_32_
632   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
633   0000              	GLOBAL __random_uniform_cmwc_8_
634   0000              	GLOBAL __shellsort__callee
635   0000              	GLOBAL __shellsort_
636   0000              	GLOBAL __quicksort__callee
637   0000              	GLOBAL __quicksort_
638   0000              	GLOBAL __insertion_sort__callee
639   0000              	GLOBAL __insertion_sort_
640   0000              	GLOBAL __ldivu__callee
641   0000              	GLOBAL __ldivu_
642   0000              	GLOBAL __ldiv__callee
643   0000              	GLOBAL __ldiv_
644   0000              	GLOBAL __divu__callee
645   0000              	GLOBAL __divu_
646   0000              	GLOBAL __div__callee
647   0000              	GLOBAL __div_
648   0000              	GLOBAL _ay_effect_20
649   0000              	GLOBAL _ay_effect_19
650   0000              	GLOBAL _ay_effect_18
651   0000              	GLOBAL _ay_effect_17
652   0000              	GLOBAL _ay_effect_16
653   0000              	GLOBAL _ay_effect_15
654   0000              	GLOBAL _ay_effect_14
655   0000              	GLOBAL _ay_effect_13
656   0000              	GLOBAL _ay_effect_12
657   0000              	GLOBAL _ay_effect_11
658   0000              	GLOBAL _ay_effect_10
659   0000              	GLOBAL _ay_effect_09
660   0000              	GLOBAL _ay_effect_08
661   0000              	GLOBAL _ay_effect_07
662   0000              	GLOBAL _ay_effect_06
663   0000              	GLOBAL _ay_effect_05
664   0000              	GLOBAL _ay_effect_04
665   0000              	GLOBAL _ay_effect_03
666   0000              	GLOBAL _ay_effect_02
667   0000              	GLOBAL _ay_effect_01
668   0000              	GLOBAL _pb_midi_phase_1
669   0000              	GLOBAL _pb_midi_title
670   0000              	GLOBAL _joynames
671   0000              	GLOBAL _initials
672   0000              	GLOBAL _hof
673   0000              	GLOBAL _score_osd_tile
674   0000              	GLOBAL _score_osd_time
675   0000              	GLOBAL _score_osd_col
676   0000              	GLOBAL _score_osd_lin
677   0000              	GLOBAL _phase_bonus_total
678   0000              	GLOBAL _phase_angry
679   0000              	GLOBAL _phase_curr
680   0000              	GLOBAL _phase_end
681   0000              	GLOBAL _phase_coins
682   0000              	GLOBAL _phase_pop
683   0000              	GLOBAL _phase_tot
684   0000              	GLOBAL _phase_left
685   0000              	GLOBAL _phase_quota
686   0000              	GLOBAL _phases
687   0000              	GLOBAL _spr_idx
688   0000              	GLOBAL _lvl_1
689   0000              	GLOBAL _sprite_speed_alt
690   0000              	GLOBAL _sprite_speed
691   0000              	GLOBAL _screen_ink
692   0000              	GLOBAL _screen_paper
693   0000              	GLOBAL _game_menu_sel
694   0000              	GLOBAL _game_type
695   0000              	GLOBAL _game_bonus
696   0000              	GLOBAL _spr_water_time
697   0000              	GLOBAL _spr_water_clear
698   0000              	GLOBAL _game_time_fireball_start
699   0000              	GLOBAL _game_time_flipped
700   0000              	GLOBAL _game_score_top
701   0000              	GLOBAL _game_lives_update
702   0000              	GLOBAL _game_lives
703   0000              	GLOBAL _game_over
704   0000              	GLOBAL _game_sound
705   0000              	GLOBAL _game_two_player
706   0000              	GLOBAL _game_brick_tile
707   0000              	GLOBAL _game_pow
708   0000              	GLOBAL _spr_count
709   0000              	GLOBAL _frame_loop_count
710   0000              	GLOBAL _col_time
711   0000              	GLOBAL _frame_time
712   0000              	GLOBAL _entry_time
713   0000              	GLOBAL _curr_time
714   0000              	GLOBAL _s_state
715   0000              	GLOBAL _attrib_hl
716   0000              	GLOBAL _attrib
717   0000              	GLOBAL _zx_val_asm
718   0000              	GLOBAL _enemies
719   0000              	GLOBAL _tmp_ui
720   0000              	GLOBAL _tmp_sc
721   0000              	GLOBAL _tmp_uc
722   0000              	GLOBAL _tmp1
723   0000              	GLOBAL _tmp0
724   0000              	GLOBAL _tmp
725   0000              	GLOBAL _index_d
726   0000              	GLOBAL _index3
727   0000              	GLOBAL _index2
728   0000              	GLOBAL _index1
729   0000              	GLOBAL _loop_count
730   0000              	GLOBAL _sprite_lin_inc_mul
731   0000              	GLOBAL _s_col1
732   0000              	GLOBAL _s_col0
733   0000              	GLOBAL _s_lin1
734   0000              	GLOBAL _s_lin0
735   0000              	GLOBAL _s_tile1
736   0000              	GLOBAL _s_tile0
737   0000              	GLOBAL _hit_count
738   0000              	GLOBAL _tile_offset_other_player
739   0000              	GLOBAL _tile_offset
740   0000              	GLOBAL _index_player
741   0000              	GLOBAL _sprite_other_player
742   0000              	GLOBAL _sprite
743   0000              	GLOBAL _player_joy
744   0000              	GLOBAL _player_next_extra
745   0000              	GLOBAL _player_score
746   0000              	GLOBAL _last_time
747   0000              	GLOBAL _sliding
748   0000              	GLOBAL _spr_timer_c
749   0000              	GLOBAL _spr_timer
750   0000              	GLOBAL _jump_lin
751   0000              	GLOBAL _player_jump_c
752   0000              	GLOBAL _hit_col
753   0000              	GLOBAL _hit_lin
754   0000              	GLOBAL _colint
755   0000              	GLOBAL _col
756   0000              	GLOBAL _lin
757   0000              	GLOBAL _tile
758   0000              	GLOBAL _state_a
759   0000              	GLOBAL _state
760   0000              	GLOBAL _class
761   0000              	GLOBAL _tbuffer
762   0000              	GLOBAL _dirs
763   0000              	GLOBAL _k2
764   0000              	GLOBAL _k1
765   0000              	GLOBAL _joyfunc2
766   0000              	GLOBAL _joyfunc1
767   0000              	GLOBAL _btiles
768   0000              	GLOBAL _spec128
769   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
770   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
771   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
772   0000              	GLOBAL _NIRVANAP_ISR_HOOK
773   0000              	GLOBAL _control_method
774   0000              	GLOBAL _hall_valids
775   0000              ;--------------------------------------------------------
776   0000              ; special function registers
777   0000              ;--------------------------------------------------------
778   0000              ;--------------------------------------------------------
779   0000              ; ram data
780   0000              ;--------------------------------------------------------
781   0000              	SECTION bss_compiler
782   0000              ;--------------------------------------------------------
783   0000              ; ram data
784   0000              ;--------------------------------------------------------
785   0000              
786   0000              IF 0
787   0000              
788   0000              ; .area _INITIALIZED removed by z88dk
789   0000              
790   0000              
791   0000              ENDIF
792   0000              
793   0000              ;--------------------------------------------------------
794   0000              ; absolute external ram data
795   0000              ;--------------------------------------------------------
796   0000              	SECTION IGNORE
797   0000              ;--------------------------------------------------------
798   0000              ; global & static initialisations
799   0000              ;--------------------------------------------------------
800   0000              	SECTION code_crt_init
801   0000              ;--------------------------------------------------------
802   0000              ; Home
803   0000              ;--------------------------------------------------------
804   0000              	SECTION IGNORE
805   0000              ;--------------------------------------------------------
806   0000              ; code
807   0000              ;--------------------------------------------------------
808   0000              	SECTION code_compiler
809   0000              ;	---------------------------------
810   0000              ; Function enemy_coin1
811   0000              ; ---------------------------------
812   0000              _enemy_coin1:
813   0000  3A 00 00    	ld	a,(_phase_left)
814   0003  B7          	or	a, a
815   0004  28 2F       	jr	Z,l_enemy_coin1_00107
816   0006  CD 9B 0D    	call	_enemy_walk
817   0009  2A 00 00    	ld	hl,(_sprite)
818   000C  26 00       	ld	h,0x00
819   000E  01 00 00    	ld	bc,_lin
820   0011  09          	add	hl,bc
821   0012  7E          	ld	a,(hl)
822   0013  D6 98       	sub	a,0x98
823   0015  20 1E       	jr	NZ,l_enemy_coin1_00107
824   0017  3A 00 00    	ld	a,(_sprite)
825   001A  4F          	ld	c,a
826   001B  06 00       	ld	b,0x00
827   001D  21 00 00    	ld	hl,_col
828   0020  09          	add	hl,bc
829   0021  7E          	ld	a,(hl)
830   0022  4F          	ld	c,a
831   0023  D6 03       	sub	a,0x03
832   0025  28 05       	jr	Z,l_enemy_coin1_00101
833   0027  79          	ld	a,c
834   0028  D6 1B       	sub	a,0x1b
835   002A  20 09       	jr	NZ,l_enemy_coin1_00107
836   002C              l_enemy_coin1_00101:
837   002C  3A 00 00    	ld	a,(_sprite)
838   002F  F5          	push	af
839   0030  33          	inc	sp
840   0031  CD 00 00    	call	_spr_destroy
841   0034  33          	inc	sp
842   0035              l_enemy_coin1_00107:
843   0035  C9          	ret
844   0036              ;	---------------------------------
845   0036              ; Function enemy_coin2
846   0036              ; ---------------------------------
847   0036              _enemy_coin2:
848   0036  01 00 00    	ld	bc,_colint+0
849   0039  79          	ld	a,c
850   003A  21 00 00    	ld	hl,_sprite
851   003D  86          	add	a, (hl)
852   003E  5F          	ld	e,a
853   003F  78          	ld	a,b
854   0040  CE 00       	adc	a,0x00
855   0042  57          	ld	d,a
856   0043  1A          	ld	a,(de)
857   0044  3C          	inc	a
858   0045  12          	ld	(de),a
859   0046  79          	ld	a,c
860   0047  86          	add	a, (hl)
861   0048  4F          	ld	c,a
862   0049  78          	ld	a,b
863   004A  CE 00       	adc	a,0x00
864   004C  47          	ld	b,a
865   004D  0A          	ld	a,(bc)
866   004E  D6 03       	sub	a,0x03
867   0050  C0          	ret	NZ
868   0051  AF          	xor	a, a
869   0052  02          	ld	(bc),a
870   0053  C9          	ret
871   0054              ;	---------------------------------
872   0054              ; Function enemy_collition
873   0054              ; ---------------------------------
874   0054              _enemy_collition:
875   0054  CD 00 00    	call	___sdcc_enter_ix
876   0057  3B          	dec	sp
877   0058  21 00 00    	ld	hl,_enemies
878   005B  36 00       	ld	(hl),0x00
879   005D              l_enemy_collition_00113:
880   005D  CD 88 01    	call	_enemy_collition_check
881   0060  7D          	ld	a,l
882   0061  B7          	or	a, a
883   0062  CA 79 01    	jp	Z,l_enemy_collition_00114
884   0065  3A 00 00    	ld	a,(_enemies)
885   0068  C6 00       	add	a,+((_state) & 0xFF)
886   006A  4F          	ld	c,a
887   006B  3E 00       	ld	a,+((_state) / 256)
888   006D  CE 00       	adc	a,0x00
889   006F  47          	ld	b,a
890   0070  0A          	ld	a,(bc)
891   0071  DD 77 FF    	ld	(ix-1),a
892   0074  CB 67       	bit	4,a
893   0076  C2 0C 01    	jp	NZ,l_enemy_collition_00104
894   0079  21 00 00    	ld	hl,_s_state
895   007C  7E          	ld	a,(hl)
896   007D  E6 08       	and	a,0x08
897   007F  5F          	ld	e,a
898   0080  DD 7E FF    	ld	a,(ix-1)
899   0083  E6 08       	and	a,0x08
900   0085  57          	ld	d,a
901   0086  7B          	ld	a,e
902   0087  92          	sub	a, d
903   0088  CA 0C 01    	jp	Z,l_enemy_collition_00104
904   008B  7E          	ld	a,(hl)
905   008C  E6 04       	and	a,0x04
906   008E  5F          	ld	e,a
907   008F  DD 7E FF    	ld	a,(ix-1)
908   0092  E6 04       	and	a,0x04
909   0094  57          	ld	d,a
910   0095  7B          	ld	a,e
911   0096  92          	sub	a, d
912   0097  28 73       	jr	Z,l_enemy_collition_00104
913   0099  2A 00 00    	ld	hl,(_sprite)
914   009C  26 00       	ld	h,0x00
915   009E  11 00 00    	ld	de,_class
916   00A1  19          	add	hl,de
917   00A2  7E          	ld	a,(hl)
918   00A3  D6 08       	sub	a,0x08
919   00A5  28 65       	jr	Z,l_enemy_collition_00104
920   00A7  DD 7E FF    	ld	a,(ix-1)
921   00AA  EE 04       	xor	a,0x04
922   00AC  02          	ld	(bc),a
923   00AD  2A 00 00    	ld	hl,(_enemies)
924   00B0  26 00       	ld	h,0x00
925   00B2  01 00 00    	ld	bc,_state
926   00B5  09          	add	hl,bc
927   00B6  7E          	ld	a,(hl)
928   00B7  EE 08       	xor	a,0x08
929   00B9  77          	ld	(hl),a
930   00BA  2A 00 00    	ld	hl,(_enemies)
931   00BD  26 00       	ld	h,0x00
932   00BF  01 00 00    	ld	bc,_class
933   00C2  09          	add	hl,bc
934   00C3  4E          	ld	c,(hl)
935   00C4  3E 06       	ld	a,0x06
936   00C6  91          	sub	a,c
937   00C7  38 43       	jr	C,l_enemy_collition_00104
938   00C9  3E 00       	ld	a,+((_state_a) & 0xFF)
939   00CB  21 00 00    	ld	hl,_enemies
940   00CE  86          	add	a, (hl)
941   00CF  4F          	ld	c,a
942   00D0  3E 00       	ld	a,+((_state_a) / 256)
943   00D2  CE 00       	adc	a,0x00
944   00D4  47          	ld	b,a
945   00D5  0A          	ld	a,(bc)
946   00D6  CB CF       	set	1, a
947   00D8  02          	ld	(bc),a
948   00D9  6E          	ld	l,(hl)
949   00DA  26 00       	ld	h,0x00
950   00DC  29          	add	hl,hl
951   00DD  01 00 00    	ld	bc,_spr_timer
952   00E0  09          	add	hl,bc
953   00E1  ED 5B 00 00 	ld	de,(_curr_time)
954   00E5  73          	ld	(hl),e
955   00E6  23          	inc	hl
956   00E7  72          	ld	(hl),d
957   00E8  3E 00       	ld	a,+((_tile) & 0xFF)
958   00EA  21 00 00    	ld	hl,_enemies
959   00ED  86          	add	a, (hl)
960   00EE  4F          	ld	c,a
961   00EF  3E 00       	ld	a,+((_tile) / 256)
962   00F1  CE 00       	adc	a,0x00
963   00F3  47          	ld	b,a
964   00F4  7E          	ld	a,(hl)
965   00F5  C5          	push	bc
966   00F6  F5          	push	af
967   00F7  33          	inc	sp
968   00F8  CD 00 00    	call	_spr_tile
969   00FB  33          	inc	sp
970   00FC  C1          	pop	bc
971   00FD  7D          	ld	a, l
972   00FE  02          	ld	(bc),a
973   00FF  3A 00 00    	ld	a,(_enemies)
974   0102  C6 00       	add	a,+((_colint) & 0xFF)
975   0104  4F          	ld	c,a
976   0105  3E 00       	ld	a,+((_colint) / 256)
977   0107  CE 00       	adc	a,0x00
978   0109  47          	ld	b,a
979   010A  AF          	xor	a, a
980   010B  02          	ld	(bc),a
981   010C              l_enemy_collition_00104:
982   010C  21 00 00    	ld	hl,_s_state
983   010F  7E          	ld	a,(hl)
984   0110  EE 0C       	xor	a,+(0x04^0x08)
985   0112  77          	ld	(hl),a
986   0113  2A 00 00    	ld	hl,(_sprite)
987   0116  26 00       	ld	h,0x00
988   0118  01 00 00    	ld	bc,_class
989   011B  09          	add	hl,bc
990   011C  4E          	ld	c,(hl)
991   011D  3E 06       	ld	a,0x06
992   011F  91          	sub	a,c
993   0120  38 41       	jr	C,l_enemy_collition_00109
994   0122  3E 00       	ld	a,+((_state_a) & 0xFF)
995   0124  21 00 00    	ld	hl,_sprite
996   0127  86          	add	a, (hl)
997   0128  4F          	ld	c,a
998   0129  3E 00       	ld	a,+((_state_a) / 256)
999   012B  CE 00       	adc	a,0x00
1000  012D  47          	ld	b,a
1001  012E  0A          	ld	a,(bc)
1002  012F  CB CF       	set	1, a
1003  0131  02          	ld	(bc),a
1004  0132  3E 00       	ld	a,+((_state) & 0xFF)
1005  0134  86          	add	a, (hl)
1006  0135  4F          	ld	c,a
1007  0136  3E 00       	ld	a,+((_state) / 256)
1008  0138  CE 00       	adc	a,0x00
1009  013A  47          	ld	b,a
1010  013B  3A 00 00    	ld	a,(_s_state)
1011  013E  02          	ld	(bc),a
1012  013F  3E 00       	ld	a,+((_tile) & 0xFF)
1013  0141  21 00 00    	ld	hl,_sprite
1014  0144  86          	add	a, (hl)
1015  0145  4F          	ld	c,a
1016  0146  3E 00       	ld	a,+((_tile) / 256)
1017  0148  CE 00       	adc	a,0x00
1018  014A  47          	ld	b,a
1019  014B  7E          	ld	a,(hl)
1020  014C  C5          	push	bc
1021  014D  F5          	push	af
1022  014E  33          	inc	sp
1023  014F  CD 00 00    	call	_spr_tile
1024  0152  33          	inc	sp
1025  0153  C1          	pop	bc
1026  0154  7D          	ld	a, l
1027  0155  02          	ld	(bc),a
1028  0156  3A 00 00    	ld	a,(_sprite)
1029  0159  C6 00       	add	a,+((_colint) & 0xFF)
1030  015B  4F          	ld	c,a
1031  015C  3E 00       	ld	a,+((_colint) / 256)
1032  015E  CE 00       	adc	a,0x00
1033  0160  47          	ld	b,a
1034  0161  AF          	xor	a, a
1035  0162  02          	ld	(bc),a
1036  0163              l_enemy_collition_00109:
1037  0163  2A 00 00    	ld	hl,(_sprite)
1038  0166  26 00       	ld	h,0x00
1039  0168  29          	add	hl,hl
1040  0169  01 00 00    	ld	bc,_spr_timer
1041  016C  09          	add	hl,bc
1042  016D  ED 5B 00 00 	ld	de,(_curr_time)
1043  0171  73          	ld	(hl),e
1044  0172  23          	inc	hl
1045  0173  72          	ld	(hl),d
1046  0174  21 00 00    	ld	hl,_enemies
1047  0177  36 06       	ld	(hl),0x06
1048  0179              l_enemy_collition_00114:
1049  0179  21 00 00    	ld	hl,_enemies
1050  017C  7E          	ld	a,(hl)
1051  017D  3C          	inc	a
1052  017E  77          	ld	(hl),a
1053  017F  D6 06       	sub	a,0x06
1054  0181  DA 5D 00    	jp	C,l_enemy_collition_00113
1055  0184  33          	inc	sp
1056  0185  DD E1       	pop	ix
1057  0187  C9          	ret
1058  0188              ;	---------------------------------
1059  0188              ; Function enemy_collition_check
1060  0188              ; ---------------------------------
1061  0188              _enemy_collition_check:
1062  0188  2A 00 00    	ld	hl,(_enemies)
1063  018B  26 00       	ld	h,0x00
1064  018D  01 00 00    	ld	bc,_class
1065  0190  09          	add	hl,bc
1066  0191  7E          	ld	a,(hl)
1067  0192  4F          	ld	c,a
1068  0193  B7          	or	a,a
1069  0194  20 04       	jr	NZ,l_enemy_collition_check_00102
1070  0196  6F          	ld	l,a
1071  0197  C3 6F 02    	jp	l_enemy_collition_check_00125
1072  019A              l_enemy_collition_check_00102:
1073  019A  3E 09       	ld	a,0x09
1074  019C  91          	sub	a, c
1075  019D  30 05       	jr	NC,l_enemy_collition_check_00104
1076  019F  2E 00       	ld	l,0x00
1077  01A1  C3 6F 02    	jp	l_enemy_collition_check_00125
1078  01A4              l_enemy_collition_check_00104:
1079  01A4  3A 00 00    	ld	a,(_enemies)
1080  01A7  21 00 00    	ld	hl,_sprite
1081  01AA  96          	sub	a,(hl)
1082  01AB  20 04       	jr	NZ,l_enemy_collition_check_00106
1083  01AD  6F          	ld	l,a
1084  01AE  C3 6F 02    	jp	l_enemy_collition_check_00125
1085  01B1              l_enemy_collition_check_00106:
1086  01B1  3A 00 00    	ld	a,(_sprite)
1087  01B4  C6 00       	add	a,+((_state) & 0xFF)
1088  01B6  4F          	ld	c,a
1089  01B7  3E 00       	ld	a,+((_state) / 256)
1090  01B9  CE 00       	adc	a,0x00
1091  01BB  47          	ld	b,a
1092  01BC  0A          	ld	a,(bc)
1093  01BD  CB 67       	bit	4, a
1094  01BF  28 05       	jr	Z,l_enemy_collition_check_00108
1095  01C1  2E 00       	ld	l,0x00
1096  01C3  C3 6F 02    	jp	l_enemy_collition_check_00125
1097  01C6              l_enemy_collition_check_00108:
1098  01C6  CB 6F       	bit	5, a
1099  01C8  28 05       	jr	Z,l_enemy_collition_check_00110
1100  01CA  2E 00       	ld	l,0x00
1101  01CC  C3 6F 02    	jp	l_enemy_collition_check_00125
1102  01CF              l_enemy_collition_check_00110:
1103  01CF  3A 00 00    	ld	a,(_sprite)
1104  01D2  C6 00       	add	a,+((_state_a) & 0xFF)
1105  01D4  4F          	ld	c,a
1106  01D5  3E 00       	ld	a,+((_state_a) / 256)
1107  01D7  CE 00       	adc	a,0x00
1108  01D9  47          	ld	b,a
1109  01DA  0A          	ld	a,(bc)
1110  01DB  CB 4F       	bit	1, a
1111  01DD  28 05       	jr	Z,l_enemy_collition_check_00112
1112  01DF  2E 00       	ld	l,0x00
1113  01E1  C3 6F 02    	jp	l_enemy_collition_check_00125
1114  01E4              l_enemy_collition_check_00112:
1115  01E4  3A 00 00    	ld	a,(_enemies)
1116  01E7  C6 00       	add	a,+((_state) & 0xFF)
1117  01E9  4F          	ld	c,a
1118  01EA  3E 00       	ld	a,+((_state) / 256)
1119  01EC  CE 00       	adc	a,0x00
1120  01EE  47          	ld	b,a
1121  01EF  0A          	ld	a,(bc)
1122  01F0  CB 6F       	bit	5, a
1123  01F2  28 05       	jr	Z,l_enemy_collition_check_00114
1124  01F4  2E 00       	ld	l,0x00
1125  01F6  C3 6F 02    	jp	l_enemy_collition_check_00125
1126  01F9              l_enemy_collition_check_00114:
1127  01F9  CB 4F       	bit	1, a
1128  01FB  28 04       	jr	Z,l_enemy_collition_check_00116
1129  01FD  2E 00       	ld	l,0x00
1130  01FF  18 6E       	jr	l_enemy_collition_check_00125
1131  0201              l_enemy_collition_check_00116:
1132  0201  01 00 00    	ld	bc,_lin+0
1133  0204  2A 00 00    	ld	hl,(_enemies)
1134  0207  26 00       	ld	h,0x00
1135  0209  09          	add	hl,bc
1136  020A  6E          	ld	l, (hl)
1137  020B  26 00       	ld	h,0x00
1138  020D  EB          	ex	de,hl
1139  020E  2A 00 00    	ld	hl,(_sprite)
1140  0211  62          	ld	h,d
1141  0212  09          	add	hl,bc
1142  0213  4E          	ld	c, (hl)
1143  0214  AF          	xor	a,a
1144  0215  47          	ld	b,a
1145  0216  EB          	ex	de,hl
1146  0217  ED 42       	sbc	hl,bc
1147  0219  CD 00 00    	call	_abs_fastcall
1148  021C  22 00 00    	ld	(_tmp_ui),hl
1149  021F  7D          	ld	a,l
1150  0220  D6 10       	sub	a,0x10
1151  0222  7C          	ld	a,h
1152  0223  DE 00       	sbc	a,0x00
1153  0225  38 04       	jr	C,l_enemy_collition_check_00118
1154  0227  2E 00       	ld	l,0x00
1155  0229  18 44       	jr	l_enemy_collition_check_00125
1156  022B              l_enemy_collition_check_00118:
1157  022B  01 00 00    	ld	bc,_col+0
1158  022E  2A 00 00    	ld	hl,(_sprite)
1159  0231  26 00       	ld	h,0x00
1160  0233  09          	add	hl,bc
1161  0234  6E          	ld	l, (hl)
1162  0235  EB          	ex	de,hl
1163  0236  2A 00 00    	ld	hl,(_enemies)
1164  0239  26 00       	ld	h,0x00
1165  023B  09          	add	hl,bc
1166  023C  4E          	ld	c, (hl)
1167  023D  7B          	ld	a,e
1168  023E  91          	sub	a, c
1169  023F  32 00 00    	ld	(_tmp_sc),a
1170  0242  3A 00 00    	ld	a,(_sprite)
1171  0245  C6 00       	add	a,+((_state) & 0xFF)
1172  0247  4F          	ld	c,a
1173  0248  3E 00       	ld	a,+((_state) / 256)
1174  024A  CE 00       	adc	a,0x00
1175  024C  47          	ld	b,a
1176  024D  3A 00 00    	ld	a,(_tmp_sc)
1177  0250  D6 FE       	sub	a,0xfe
1178  0252  20 09       	jr	NZ,l_enemy_collition_check_00120
1179  0254  0A          	ld	a,(bc)
1180  0255  CB 57       	bit	2, a
1181  0257  28 04       	jr	Z,l_enemy_collition_check_00120
1182  0259  2E 01       	ld	l,0x01
1183  025B  18 12       	jr	l_enemy_collition_check_00125
1184  025D              l_enemy_collition_check_00120:
1185  025D  3A 00 00    	ld	a,(_tmp_sc)
1186  0260  D6 02       	sub	a,0x02
1187  0262  20 09       	jr	NZ,l_enemy_collition_check_00123
1188  0264  0A          	ld	a,(bc)
1189  0265  CB 5F       	bit	3, a
1190  0267  28 04       	jr	Z,l_enemy_collition_check_00123
1191  0269  2E 01       	ld	l,0x01
1192  026B  18 02       	jr	l_enemy_collition_check_00125
1193  026D              l_enemy_collition_check_00123:
1194  026D  2E 00       	ld	l,0x00
1195  026F              l_enemy_collition_check_00125:
1196  026F  C9          	ret
1197  0270              ;	---------------------------------
1198  0270              ; Function enemy_hit
1199  0270              ; ---------------------------------
1200  0270              _enemy_hit:
1201  0270  76          	halt
1202  0271  2A 00 00    	ld	hl,(_enemies)
1203  0274  26 00       	ld	h,0x00
1204  0276  5D          	ld	e,l
1205  0277  01 00 00    	ld	bc,_col
1206  027A  09          	add	hl,bc
1207  027B  46          	ld	b,(hl)
1208  027C  16 00       	ld	d,0x00
1209  027E  21 00 00    	ld	hl,_lin
1210  0281  19          	add	hl,de
1211  0282  4E          	ld	c, (hl)
1212  0283  C5          	push	bc
1213  0284  AF          	xor	a, a
1214  0285  F5          	push	af
1215  0286  33          	inc	sp
1216  0287  CD 00 00    	call	_NIRVANAP_fillT_callee
1217  028A  2A 00 00    	ld	hl,(_enemies)
1218  028D  26 00       	ld	h,0x00
1219  028F  01 00 00    	ld	bc,_lin
1220  0292  09          	add	hl,bc
1221  0293  7E          	ld	a,(hl)
1222  0294  C6 FC       	add	a,0xfc
1223  0296  77          	ld	(hl),a
1224  0297  3E 00       	ld	a,+((_col) & 0xFF)
1225  0299  21 00 00    	ld	hl,_enemies
1226  029C  86          	add	a, (hl)
1227  029D  4F          	ld	c,a
1228  029E  3E 00       	ld	a,+((_col) / 256)
1229  02A0  CE 00       	adc	a,0x00
1230  02A2  47          	ld	b,a
1231  02A3  0A          	ld	a,(bc)
1232  02A4  4F          	ld	c,a
1233  02A5  3E 00       	ld	a,+((_lin) & 0xFF)
1234  02A7  86          	add	a, (hl)
1235  02A8  5F          	ld	e,a
1236  02A9  3E 00       	ld	a,+((_lin) / 256)
1237  02AB  CE 00       	adc	a,0x00
1238  02AD  57          	ld	d,a
1239  02AE  1A          	ld	a,(de)
1240  02AF  47          	ld	b,a
1241  02B0  3E 00       	ld	a,+((_tile) & 0xFF)
1242  02B2  86          	add	a, (hl)
1243  02B3  5F          	ld	e,a
1244  02B4  3E 00       	ld	a,+((_tile) / 256)
1245  02B6  CE 00       	adc	a,0x00
1246  02B8  57          	ld	d,a
1247  02B9  1A          	ld	a,(de)
1248  02BA  57          	ld	d,a
1249  02BB  79          	ld	a,c
1250  02BC  F5          	push	af
1251  02BD  33          	inc	sp
1252  02BE  4A          	ld	c, d
1253  02BF  7E          	ld	a,(hl)
1254  02C0  C5          	push	bc
1255  02C1  F5          	push	af
1256  02C2  33          	inc	sp
1257  02C3  CD 00 00    	call	_NIRVANAP_spriteT_callee
1258  02C6  2A 00 00    	ld	hl,(_enemies)
1259  02C9  26 00       	ld	h,0x00
1260  02CB  01 00 00    	ld	bc,_state_a
1261  02CE  09          	add	hl,bc
1262  02CF  7E          	ld	a,(hl)
1263  02D0  E6 FD       	and	a,0xfd
1264  02D2  77          	ld	(hl),a
1265  02D3  01 00 00    	ld	bc,_spr_timer+0
1266  02D6  2A 00 00    	ld	hl,(_enemies)
1267  02D9  26 00       	ld	h,0x00
1268  02DB  29          	add	hl, hl
1269  02DC  09          	add	hl,bc
1270  02DD  ED 5B 00 00 	ld	de,(_curr_time)
1271  02E1  73          	ld	(hl),e
1272  02E2  23          	inc	hl
1273  02E3  72          	ld	(hl),d
1274  02E4  3A 00 00    	ld	a,(_enemies)
1275  02E7  C6 00       	add	a,+((_class) & 0xFF)
1276  02E9  4F          	ld	c,a
1277  02EA  3E 00       	ld	a,+((_class) / 256)
1278  02EC  CE 00       	adc	a,0x00
1279  02EE  47          	ld	b,a
1280  02EF  0A          	ld	a,(bc)
1281  02F0  5F          	ld	e,a
1282  02F1  D6 01       	sub	a,0x01
1283  02F3  DA A1 03    	jp	C,l_enemy_hit_00113
1284  02F6  3E 0B       	ld	a,0x0b
1285  02F8  93          	sub	a, e
1286  02F9  DA A1 03    	jp	C,l_enemy_hit_00113
1287  02FC  1D          	dec	e
1288  02FD  16 00       	ld	d,0x00
1289  02FF  21 06 03    	ld	hl,l_enemy_hit_00123
1290  0302  19          	add	hl,de
1291  0303  19          	add	hl,de
1292  0304  19          	add	hl,de
1293  0305  E9          	jp	(hl)
1294  0306              l_enemy_hit_00123:
1295  0306  C3 27 03    	jp	l_enemy_hit_00101
1296  0309  C3 31 03    	jp	l_enemy_hit_00102
1297  030C  C3 3B 03    	jp	l_enemy_hit_00103
1298  030F  C3 45 03    	jp	l_enemy_hit_00104
1299  0312  C3 4F 03    	jp	l_enemy_hit_00105
1300  0315  C3 59 03    	jp	l_enemy_hit_00106
1301  0318  C3 6D 03    	jp	l_enemy_hit_00108
1302  031B  C3 79 03    	jp	l_enemy_hit_00109
1303  031E  C3 63 03    	jp	l_enemy_hit_00107
1304  0321  C3 8B 03    	jp	l_enemy_hit_00110
1305  0324  C3 97 03    	jp	l_enemy_hit_00111
1306  0327              l_enemy_hit_00101:
1307  0327  21 30 00    	ld	hl,0x0030
1308  032A  E5          	push	hl
1309  032B  CD 97 04    	call	_enemy_flip
1310  032E  F1          	pop	af
1311  032F  18 70       	jr	l_enemy_hit_00113
1312  0331              l_enemy_hit_00102:
1313  0331  21 3C 00    	ld	hl,0x003c
1314  0334  E5          	push	hl
1315  0335  CD 97 04    	call	_enemy_flip
1316  0338  F1          	pop	af
1317  0339  18 66       	jr	l_enemy_hit_00113
1318  033B              l_enemy_hit_00103:
1319  033B  21 48 00    	ld	hl,0x0048
1320  033E  E5          	push	hl
1321  033F  CD 97 04    	call	_enemy_flip
1322  0342  F1          	pop	af
1323  0343  18 5C       	jr	l_enemy_hit_00113
1324  0345              l_enemy_hit_00104:
1325  0345  21 54 00    	ld	hl,0x0054
1326  0348  E5          	push	hl
1327  0349  CD 7F 05    	call	_enemy_flip_sidestepper
1328  034C  F1          	pop	af
1329  034D  18 52       	jr	l_enemy_hit_00113
1330  034F              l_enemy_hit_00105:
1331  034F  21 60 00    	ld	hl,0x0060
1332  0352  E5          	push	hl
1333  0353  CD 7F 05    	call	_enemy_flip_sidestepper
1334  0356  F1          	pop	af
1335  0357  18 48       	jr	l_enemy_hit_00113
1336  0359              l_enemy_hit_00106:
1337  0359  21 6C 00    	ld	hl,0x006c
1338  035C  E5          	push	hl
1339  035D  CD 7F 05    	call	_enemy_flip_sidestepper
1340  0360  F1          	pop	af
1341  0361  18 3E       	jr	l_enemy_hit_00113
1342  0363              l_enemy_hit_00107:
1343  0363  21 78 00    	ld	hl,0x0078
1344  0366  E5          	push	hl
1345  0367  CD 97 04    	call	_enemy_flip
1346  036A  F1          	pop	af
1347  036B  18 34       	jr	l_enemy_hit_00113
1348  036D              l_enemy_hit_00108:
1349  036D  2A 00 00    	ld	hl,(_enemies)
1350  0370  26 32       	ld	h,0x32
1351  0372  E5          	push	hl
1352  0373  CD 00 00    	call	_player_coin
1353  0376  F1          	pop	af
1354  0377  18 28       	jr	l_enemy_hit_00113
1355  0379              l_enemy_hit_00109:
1356  0379  21 00 00    	ld	hl,_ay_effect_10
1357  037C  CD 00 00    	call	_ay_fx_play
1358  037F  2A 00 00    	ld	hl,(_enemies)
1359  0382  26 50       	ld	h,0x50
1360  0384  E5          	push	hl
1361  0385  CD 00 00    	call	_player_coin
1362  0388  F1          	pop	af
1363  0389  18 16       	jr	l_enemy_hit_00113
1364  038B              l_enemy_hit_00110:
1365  038B  2A 00 00    	ld	hl,(_enemies)
1366  038E  26 64       	ld	h,0x64
1367  0390  E5          	push	hl
1368  0391  CD 00 00    	call	_player_coin
1369  0394  F1          	pop	af
1370  0395  18 0A       	jr	l_enemy_hit_00113
1371  0397              l_enemy_hit_00111:
1372  0397  2A 00 00    	ld	hl,(_enemies)
1373  039A  26 14       	ld	h,0x14
1374  039C  E5          	push	hl
1375  039D  CD 00 00    	call	_player_coin
1376  03A0  F1          	pop	af
1377  03A1              l_enemy_hit_00113:
1378  03A1  C9          	ret
1379  03A2              ;	---------------------------------
1380  03A2              ; Function enemy_flip_change_dir
1381  03A2              ; ---------------------------------
1382  03A2              _enemy_flip_change_dir:
1383  03A2  CD 00 00    	call	___sdcc_enter_ix
1384  03A5  3B          	dec	sp
1385  03A6  3A 00 00    	ld	a,(_enemies)
1386  03A9  C6 00       	add	a,+((_state) & 0xFF)
1387  03AB  4F          	ld	c,a
1388  03AC  3E 00       	ld	a,+((_state) / 256)
1389  03AE  CE 00       	adc	a,0x00
1390  03B0  47          	ld	b,a
1391  03B1  0A          	ld	a,(bc)
1392  03B2  CB 57       	bit	2, a
1393  03B4  28 1E       	jr	Z,l_enemy_flip_change_dir_00102
1394  03B6  01 00 00    	ld	bc,_state_a+0
1395  03B9  79          	ld	a,c
1396  03BA  21 00 00    	ld	hl,_enemies
1397  03BD  86          	add	a, (hl)
1398  03BE  5F          	ld	e,a
1399  03BF  78          	ld	a,b
1400  03C0  CE 00       	adc	a,0x00
1401  03C2  57          	ld	d,a
1402  03C3  1A          	ld	a,(de)
1403  03C4  CB E7       	set	4, a
1404  03C6  12          	ld	(de),a
1405  03C7  79          	ld	a,c
1406  03C8  86          	add	a, (hl)
1407  03C9  4F          	ld	c,a
1408  03CA  78          	ld	a,b
1409  03CB  CE 00       	adc	a,0x00
1410  03CD  47          	ld	b,a
1411  03CE  0A          	ld	a,(bc)
1412  03CF  E6 F7       	and	a,0xf7
1413  03D1  02          	ld	(bc),a
1414  03D2  18 1C       	jr	l_enemy_flip_change_dir_00103
1415  03D4              l_enemy_flip_change_dir_00102:
1416  03D4  01 00 00    	ld	bc,_state_a+0
1417  03D7  79          	ld	a,c
1418  03D8  21 00 00    	ld	hl,_enemies
1419  03DB  86          	add	a, (hl)
1420  03DC  5F          	ld	e,a
1421  03DD  78          	ld	a,b
1422  03DE  CE 00       	adc	a,0x00
1423  03E0  57          	ld	d,a
1424  03E1  1A          	ld	a,(de)
1425  03E2  CB E7       	set	4, a
1426  03E4  12          	ld	(de),a
1427  03E5  79          	ld	a,c
1428  03E6  86          	add	a, (hl)
1429  03E7  4F          	ld	c,a
1430  03E8  78          	ld	a,b
1431  03E9  CE 00       	adc	a,0x00
1432  03EB  47          	ld	b,a
1433  03EC  0A          	ld	a,(bc)
1434  03ED  E6 F7       	and	a,0xf7
1435  03EF  02          	ld	(bc),a
1436  03F0              l_enemy_flip_change_dir_00103:
1437  03F0  01 00 00    	ld	bc,_col+0
1438  03F3  2A 00 00    	ld	hl,(_sprite)
1439  03F6  26 00       	ld	h,0x00
1440  03F8  09          	add	hl,bc
1441  03F9  7E          	ld	a,(hl)
1442  03FA  DD 77 FF    	ld	(ix-1),a
1443  03FD  79          	ld	a,c
1444  03FE  21 00 00    	ld	hl,_enemies
1445  0401  86          	add	a, (hl)
1446  0402  5F          	ld	e,a
1447  0403  78          	ld	a,b
1448  0404  CE 00       	adc	a,0x00
1449  0406  57          	ld	d,a
1450  0407  1A          	ld	a,(de)
1451  0408  DD 96 FF    	sub	a,(ix-1)
1452  040B  30 19       	jr	NC,l_enemy_flip_change_dir_00105
1453  040D  3E 00       	ld	a,+((_state) & 0xFF)
1454  040F  86          	add	a, (hl)
1455  0410  5F          	ld	e,a
1456  0411  3E 00       	ld	a,+((_state) / 256)
1457  0413  CE 00       	adc	a,0x00
1458  0415  57          	ld	d,a
1459  0416  1A          	ld	a,(de)
1460  0417  CB DF       	set	3, a
1461  0419  12          	ld	(de),a
1462  041A  5E          	ld	e,(hl)
1463  041B  16 00       	ld	d,0x00
1464  041D  21 00 00    	ld	hl,_state
1465  0420  19          	add	hl,de
1466  0421  7E          	ld	a,(hl)
1467  0422  EB          	ex	de,hl
1468  0423  E6 FB       	and	a,0xfb
1469  0425  12          	ld	(de),a
1470  0426              l_enemy_flip_change_dir_00105:
1471  0426  2A 00 00    	ld	hl,(_sprite)
1472  0429  26 00       	ld	h,0x00
1473  042B  09          	add	hl,bc
1474  042C  7E          	ld	a,(hl)
1475  042D  DD 77 FF    	ld	(ix-1),a
1476  0430  79          	ld	a,c
1477  0431  21 00 00    	ld	hl,_enemies
1478  0434  86          	add	a, (hl)
1479  0435  5F          	ld	e,a
1480  0436  78          	ld	a,b
1481  0437  CE 00       	adc	a,0x00
1482  0439  57          	ld	d,a
1483  043A  1A          	ld	a,(de)
1484  043B  5F          	ld	e,a
1485  043C  DD 7E FF    	ld	a,(ix-1)
1486  043F  93          	sub	a, e
1487  0440  30 19       	jr	NC,l_enemy_flip_change_dir_00107
1488  0442  3E 00       	ld	a,+((_state) & 0xFF)
1489  0444  86          	add	a, (hl)
1490  0445  5F          	ld	e,a
1491  0446  3E 00       	ld	a,+((_state) / 256)
1492  0448  CE 00       	adc	a,0x00
1493  044A  57          	ld	d,a
1494  044B  1A          	ld	a,(de)
1495  044C  CB D7       	set	2, a
1496  044E  12          	ld	(de),a
1497  044F  5E          	ld	e,(hl)
1498  0450  16 00       	ld	d,0x00
1499  0452  21 00 00    	ld	hl,_state
1500  0455  19          	add	hl,de
1501  0456  7E          	ld	a,(hl)
1502  0457  EB          	ex	de,hl
1503  0458  E6 F7       	and	a,0xf7
1504  045A  12          	ld	(de),a
1505  045B              l_enemy_flip_change_dir_00107:
1506  045B  DD 7E 04    	ld	a,(ix+4)
1507  045E  B7          	or	a, a
1508  045F  20 32       	jr	NZ,l_enemy_flip_change_dir_00111
1509  0461  2A 00 00    	ld	hl,(_sprite)
1510  0464  26 00       	ld	h,0x00
1511  0466  09          	add	hl,bc
1512  0467  6E          	ld	l, (hl)
1513  0468  79          	ld	a,c
1514  0469  EB          	ex	de,hl
1515  046A  21 00 00    	ld	hl,_enemies
1516  046D  86          	add	a, (hl)
1517  046E  4F          	ld	c,a
1518  046F  78          	ld	a,b
1519  0470  CE 00       	adc	a,0x00
1520  0472  47          	ld	b,a
1521  0473  0A          	ld	a,(bc)
1522  0474  4F          	ld	c,a
1523  0475  7B          	ld	a,e
1524  0476  91          	sub	a, c
1525  0477  20 1A       	jr	NZ,l_enemy_flip_change_dir_00111
1526  0479  3E 00       	ld	a,+((_state) & 0xFF)
1527  047B  86          	add	a, (hl)
1528  047C  4F          	ld	c,a
1529  047D  3E 00       	ld	a,+((_state) / 256)
1530  047F  CE 00       	adc	a,0x00
1531  0481  47          	ld	b,a
1532  0482  0A          	ld	a,(bc)
1533  0483  E6 F7       	and	a,0xf7
1534  0485  02          	ld	(bc),a
1535  0486  3E 00       	ld	a,+((_state) & 0xFF)
1536  0488  86          	add	a, (hl)
1537  0489  4F          	ld	c,a
1538  048A  3E 00       	ld	a,+((_state) / 256)
1539  048C  CE 00       	adc	a,0x00
1540  048E  47          	ld	b,a
1541  048F  0A          	ld	a,(bc)
1542  0490  E6 FB       	and	a,0xfb
1543  0492  02          	ld	(bc),a
1544  0493              l_enemy_flip_change_dir_00111:
1545  0493  33          	inc	sp
1546  0494  DD E1       	pop	ix
1547  0496  C9          	ret
1548  0497              ;	---------------------------------
1549  0497              ; Function enemy_flip
1550  0497              ; ---------------------------------
1551  0497              _enemy_flip:
1552  0497  CD 00 00    	call	___sdcc_enter_ix
1553  049A  3B          	dec	sp
1554  049B  01 00 00    	ld	bc,_spr_timer+0
1555  049E  2A 00 00    	ld	hl,(_enemies)
1556  04A1  26 00       	ld	h,0x00
1557  04A3  29          	add	hl, hl
1558  04A4  09          	add	hl,bc
1559  04A5  ED 5B 00 00 	ld	de,(_curr_time)
1560  04A9  73          	ld	(hl),e
1561  04AA  23          	inc	hl
1562  04AB  72          	ld	(hl),d
1563  04AC  3E 00       	ld	a,+((_state) & 0xFF)
1564  04AE  21 00 00    	ld	hl,_enemies
1565  04B1  86          	add	a, (hl)
1566  04B2  4F          	ld	c,a
1567  04B3  3E 00       	ld	a,+((_state) / 256)
1568  04B5  CE 00       	adc	a,0x00
1569  04B7  47          	ld	b,a
1570  04B8  0A          	ld	a,(bc)
1571  04B9  CB C7       	set	0, a
1572  04BB  02          	ld	(bc),a
1573  04BC  3E 00       	ld	a,+((_state) & 0xFF)
1574  04BE  86          	add	a, (hl)
1575  04BF  4F          	ld	c,a
1576  04C0  3E 00       	ld	a,+((_state) / 256)
1577  04C2  CE 00       	adc	a,0x00
1578  04C4  47          	ld	b,a
1579  04C5  0A          	ld	a,(bc)
1580  04C6  E6 FD       	and	a,0xfd
1581  04C8  02          	ld	(bc),a
1582  04C9  3E 00       	ld	a,+((_state) & 0xFF)
1583  04CB  86          	add	a, (hl)
1584  04CC  4F          	ld	c,a
1585  04CD  3E 00       	ld	a,+((_state) / 256)
1586  04CF  CE 00       	adc	a,0x00
1587  04D1  47          	ld	b,a
1588  04D2  0A          	ld	a,(bc)
1589  04D3  EE 10       	xor	a,0x10
1590  04D5  02          	ld	(bc),a
1591  04D6  3E 00       	ld	a,+((_state) & 0xFF)
1592  04D8  86          	add	a, (hl)
1593  04D9  4F          	ld	c,a
1594  04DA  3E 00       	ld	a,+((_state) / 256)
1595  04DC  CE 00       	adc	a,0x00
1596  04DE  47          	ld	b,a
1597  04DF  0A          	ld	a,(bc)
1598  04E0  E6 7F       	and	a,0x7f
1599  04E2  02          	ld	(bc),a
1600  04E3  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1601  04E5  86          	add	a, (hl)
1602  04E6  4F          	ld	c,a
1603  04E7  3E 00       	ld	a,+((_jump_lin) / 256)
1604  04E9  CE 00       	adc	a,0x00
1605  04EB  47          	ld	b,a
1606  04EC  3E 00       	ld	a,+((_lin) & 0xFF)
1607  04EE  86          	add	a, (hl)
1608  04EF  5F          	ld	e,a
1609  04F0  3E 00       	ld	a,+((_lin) / 256)
1610  04F2  CE 00       	adc	a,0x00
1611  04F4  57          	ld	d,a
1612  04F5  1A          	ld	a,(de)
1613  04F6  02          	ld	(bc),a
1614  04F7  5E          	ld	e,(hl)
1615  04F8  16 00       	ld	d,0x00
1616  04FA  21 00 00    	ld	hl,_state
1617  04FD  19          	add	hl,de
1618  04FE  7E          	ld	a,(hl)
1619  04FF  EB          	ex	de,hl
1620  0500  DD 77 FF    	ld	(ix-1),a
1621  0503  CB 67       	bit	4,a
1622  0505  28 28       	jr	Z,l_enemy_flip_00105
1623  0507  21 00 00    	ld	hl,_ay_effect_02
1624  050A  CD 00 00    	call	_ay_fx_play
1625  050D  AF          	xor	a, a
1626  050E  F5          	push	af
1627  050F  33          	inc	sp
1628  0510  CD A2 03    	call	_enemy_flip_change_dir
1629  0513  33          	inc	sp
1630  0514  3A 00 00    	ld	a,(_enemies)
1631  0517  C6 00       	add	a,+((_tile) & 0xFF)
1632  0519  4F          	ld	c,a
1633  051A  3E 00       	ld	a,+((_tile) / 256)
1634  051C  CE 00       	adc	a,0x00
1635  051E  47          	ld	b,a
1636  051F  DD 7E 04    	ld	a,(ix+4)
1637  0522  C6 06       	add	a,0x06
1638  0524  02          	ld	(bc),a
1639  0525  21 01 00    	ld	hl,0x0001
1640  0528  E5          	push	hl
1641  0529  CD 00 00    	call	_player_score_add
1642  052C  F1          	pop	af
1643  052D  18 4C       	jr	l_enemy_flip_00107
1644  052F              l_enemy_flip_00105:
1645  052F  2A 00 00    	ld	hl,(_enemies)
1646  0532  26 00       	ld	h,0x00
1647  0534  01 00 00    	ld	bc,_state_a
1648  0537  09          	add	hl,bc
1649  0538  4E          	ld	c,(hl)
1650  0539  DD 7E FF    	ld	a,(ix-1)
1651  053C  CB D7       	set	2, a
1652  053E  CB 61       	bit	4, c
1653  0540  28 12       	jr	Z,l_enemy_flip_00102
1654  0542  12          	ld	(de),a
1655  0543  3A 00 00    	ld	a,(_enemies)
1656  0546  C6 00       	add	a,+((_state) & 0xFF)
1657  0548  4F          	ld	c,a
1658  0549  3E 00       	ld	a,+((_state) / 256)
1659  054B  CE 00       	adc	a,0x00
1660  054D  47          	ld	b,a
1661  054E  0A          	ld	a,(bc)
1662  054F  E6 F7       	and	a,0xf7
1663  0551  02          	ld	(bc),a
1664  0552  18 10       	jr	l_enemy_flip_00103
1665  0554              l_enemy_flip_00102:
1666  0554  12          	ld	(de),a
1667  0555  3A 00 00    	ld	a,(_enemies)
1668  0558  C6 00       	add	a,+((_state) & 0xFF)
1669  055A  4F          	ld	c,a
1670  055B  3E 00       	ld	a,+((_state) / 256)
1671  055D  CE 00       	adc	a,0x00
1672  055F  47          	ld	b,a
1673  0560  0A          	ld	a,(bc)
1674  0561  E6 F7       	and	a,0xf7
1675  0563  02          	ld	(bc),a
1676  0564              l_enemy_flip_00103:
1677  0564  3E 00       	ld	a,+((_tile) & 0xFF)
1678  0566  21 00 00    	ld	hl,_enemies
1679  0569  86          	add	a, (hl)
1680  056A  4F          	ld	c,a
1681  056B  3E 00       	ld	a,+((_tile) / 256)
1682  056D  CE 00       	adc	a,0x00
1683  056F  47          	ld	b,a
1684  0570  7E          	ld	a,(hl)
1685  0571  C5          	push	bc
1686  0572  F5          	push	af
1687  0573  33          	inc	sp
1688  0574  CD 00 00    	call	_spr_tile
1689  0577  33          	inc	sp
1690  0578  C1          	pop	bc
1691  0579  7D          	ld	a, l
1692  057A  02          	ld	(bc),a
1693  057B              l_enemy_flip_00107:
1694  057B  33          	inc	sp
1695  057C  DD E1       	pop	ix
1696  057E  C9          	ret
1697  057F              ;	---------------------------------
1698  057F              ; Function enemy_flip_sidestepper
1699  057F              ; ---------------------------------
1700  057F              _enemy_flip_sidestepper:
1701  057F  CD 00 00    	call	___sdcc_enter_ix
1702  0582  01 00 00    	ld	bc,_state+0
1703  0585  2A 00 00    	ld	hl,(_enemies)
1704  0588  26 00       	ld	h,0x00
1705  058A  09          	add	hl,bc
1706  058B  CB 76       	bit	6,(hl)
1707  058D  28 0D       	jr	Z,l_enemy_flip_sidestepper_00102
1708  058F  DD 6E 04    	ld	l,(ix+4)
1709  0592  DD 66 05    	ld	h,(ix+5)
1710  0595  E5          	push	hl
1711  0596  CD 97 04    	call	_enemy_flip
1712  0599  F1          	pop	af
1713  059A  18 56       	jr	l_enemy_flip_sidestepper_00104
1714  059C              l_enemy_flip_sidestepper_00102:
1715  059C  C5          	push	bc
1716  059D  3E 01       	ld	a,0x01
1717  059F  F5          	push	af
1718  05A0  33          	inc	sp
1719  05A1  CD A2 03    	call	_enemy_flip_change_dir
1720  05A4  33          	inc	sp
1721  05A5  C1          	pop	bc
1722  05A6  79          	ld	a,c
1723  05A7  21 00 00    	ld	hl,_enemies
1724  05AA  86          	add	a, (hl)
1725  05AB  5F          	ld	e,a
1726  05AC  78          	ld	a,b
1727  05AD  CE 00       	adc	a,0x00
1728  05AF  57          	ld	d,a
1729  05B0  1A          	ld	a,(de)
1730  05B1  EE 01       	xor	a,0x01
1731  05B3  12          	ld	(de),a
1732  05B4  79          	ld	a,c
1733  05B5  86          	add	a, (hl)
1734  05B6  5F          	ld	e,a
1735  05B7  78          	ld	a,b
1736  05B8  CE 00       	adc	a,0x00
1737  05BA  57          	ld	d,a
1738  05BB  1A          	ld	a,(de)
1739  05BC  E6 FD       	and	a,0xfd
1740  05BE  12          	ld	(de),a
1741  05BF  79          	ld	a,c
1742  05C0  86          	add	a, (hl)
1743  05C1  4F          	ld	c,a
1744  05C2  78          	ld	a,b
1745  05C3  CE 00       	adc	a,0x00
1746  05C5  47          	ld	b,a
1747  05C6  0A          	ld	a,(bc)
1748  05C7  CB F7       	set	6, a
1749  05C9  02          	ld	(bc),a
1750  05CA  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1751  05CC  86          	add	a, (hl)
1752  05CD  4F          	ld	c,a
1753  05CE  3E 00       	ld	a,+((_jump_lin) / 256)
1754  05D0  CE 00       	adc	a,0x00
1755  05D2  47          	ld	b,a
1756  05D3  3E 00       	ld	a,+((_lin) & 0xFF)
1757  05D5  86          	add	a, (hl)
1758  05D6  5F          	ld	e,a
1759  05D7  3E 00       	ld	a,+((_lin) / 256)
1760  05D9  CE 00       	adc	a,0x00
1761  05DB  57          	ld	d,a
1762  05DC  1A          	ld	a,(de)
1763  05DD  02          	ld	(bc),a
1764  05DE  3E 00       	ld	a,+((_tile) & 0xFF)
1765  05E0  86          	add	a, (hl)
1766  05E1  4F          	ld	c,a
1767  05E2  3E 00       	ld	a,+((_tile) / 256)
1768  05E4  CE 00       	adc	a,0x00
1769  05E6  47          	ld	b,a
1770  05E7  7E          	ld	a,(hl)
1771  05E8  C5          	push	bc
1772  05E9  F5          	push	af
1773  05EA  33          	inc	sp
1774  05EB  CD 00 00    	call	_spr_tile
1775  05EE  33          	inc	sp
1776  05EF  C1          	pop	bc
1777  05F0  7D          	ld	a, l
1778  05F1  02          	ld	(bc),a
1779  05F2              l_enemy_flip_sidestepper_00104:
1780  05F2  DD E1       	pop	ix
1781  05F4  C9          	ret
1782  05F5              ;	---------------------------------
1783  05F5              ; Function enemy_turn
1784  05F5              ; ---------------------------------
1785  05F5              _enemy_turn:
1786  05F5  21 00 00    	ld	hl,_sprite
1787  05F8  36 00       	ld	(hl),0x00
1788  05FA              l_enemy_turn_00123:
1789  05FA  3A 00 00    	ld	a,(_sprite)
1790  05FD  C6 00       	add	a,+((_class) & 0xFF)
1791  05FF  4F          	ld	c,a
1792  0600  3E 00       	ld	a,+((_class) / 256)
1793  0602  CE 00       	adc	a,0x00
1794  0604  47          	ld	b,a
1795  0605  0A          	ld	a,(bc)
1796  0606  B7          	or	a, a
1797  0607  CA 2B 07    	jp	Z,l_enemy_turn_00121
1798  060A  21 00 00    	ld	hl,_sprite
1799  060D  E5          	push	hl
1800  060E  CD 00 00    	call	_spr_chktime
1801  0611  F1          	pop	af
1802  0612  7D          	ld	a,l
1803  0613  B7          	or	a, a
1804  0614  CA 2B 07    	jp	Z,l_enemy_turn_00121
1805  0617  3A 00 00    	ld	a,(_sprite)
1806  061A  C6 00       	add	a,+((_lin) & 0xFF)
1807  061C  4F          	ld	c,a
1808  061D  3E 00       	ld	a,+((_lin) / 256)
1809  061F  CE 00       	adc	a,0x00
1810  0621  47          	ld	b,a
1811  0622  0A          	ld	a,(bc)
1812  0623  32 00 00    	ld	(_s_lin0),a
1813  0626  3A 00 00    	ld	a,(_sprite)
1814  0629  C6 00       	add	a,+((_col) & 0xFF)
1815  062B  4F          	ld	c,a
1816  062C  3E 00       	ld	a,+((_col) / 256)
1817  062E  CE 00       	adc	a,0x00
1818  0630  47          	ld	b,a
1819  0631  0A          	ld	a,(bc)
1820  0632  32 00 00    	ld	(_s_col0),a
1821  0635  3E 00       	ld	a,+((_tile) & 0xFF)
1822  0637  21 00 00    	ld	hl,_sprite
1823  063A  86          	add	a, (hl)
1824  063B  4F          	ld	c,a
1825  063C  3E 00       	ld	a,+((_tile) / 256)
1826  063E  CE 00       	adc	a,0x00
1827  0640  47          	ld	b,a
1828  0641  0A          	ld	a,(bc)
1829  0642  4F          	ld	c,a
1830  0643  5E          	ld	e,(hl)
1831  0644  16 00       	ld	d,0x00
1832  0646  21 00 00    	ld	hl,_colint
1833  0649  19          	add	hl,de
1834  064A  7E          	ld	a,(hl)
1835  064B  81          	add	a,c
1836  064C  32 00 00    	ld	(_s_tile0),a
1837  064F  3A 00 00    	ld	a,(_sprite)
1838  0652  C6 00       	add	a,+((_state) & 0xFF)
1839  0654  4F          	ld	c,a
1840  0655  3E 00       	ld	a,+((_state) / 256)
1841  0657  CE 00       	adc	a,0x00
1842  0659  47          	ld	b,a
1843  065A  0A          	ld	a,(bc)
1844  065B  32 00 00    	ld	(_s_state),a
1845  065E  2A 00 00    	ld	hl,(_sprite)
1846  0661  26 00       	ld	h,0x00
1847  0663  29          	add	hl,hl
1848  0664  01 00 00    	ld	bc,_last_time
1849  0667  09          	add	hl,bc
1850  0668  ED 5B 00 00 	ld	de,(_curr_time)
1851  066C  73          	ld	(hl),e
1852  066D  23          	inc	hl
1853  066E  72          	ld	(hl),d
1854  066F  21 00 00    	ld	hl,_s_state
1855  0672  7E          	ld	a,(hl)
1856  0673  E6 01       	and	a,0x01
1857  0675  7E          	ld	a,(hl)
1858  0676  E6 20       	and	a,0x20
1859  0678  28 11       	jr	Z,l_enemy_turn_00102
1860  067A  7E          	ld	a,(hl)
1861  067B  E6 01       	and	a,0x01
1862  067D  20 0C       	jr	NZ,l_enemy_turn_00102
1863  067F  3A 00 00    	ld	a,(_sprite)
1864  0682  F5          	push	af
1865  0683  33          	inc	sp
1866  0684  CD 00 00    	call	_spr_killed
1867  0687  33          	inc	sp
1868  0688  C3 2B 07    	jp	l_enemy_turn_00121
1869  068B              l_enemy_turn_00102:
1870  068B  3A 00 00    	ld	a,(_s_state)
1871  068E  E6 10       	and	a,0x10
1872  0690  28 39       	jr	Z,l_enemy_turn_00107
1873  0692  21 00 00    	ld	hl,_s_state
1874  0695  7E          	ld	a,(hl)
1875  0696  E6 02       	and	a,0x02
1876  0698  20 31       	jr	NZ,l_enemy_turn_00107
1877  069A  7E          	ld	a,(hl)
1878  069B  E6 01       	and	a,0x01
1879  069D  20 2C       	jr	NZ,l_enemy_turn_00107
1880  069F  3A 00 00    	ld	a,(_sprite)
1881  06A2  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1882  06A4  4F          	ld	c,a
1883  06A5  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1884  06A7  CE 00       	adc	a,0x00
1885  06A9  47          	ld	b,a
1886  06AA  3E 08       	ld	a,0x08
1887  06AC  02          	ld	(bc),a
1888  06AD  CD 9D 0C    	call	_enemy_standard_hit
1889  06B0  2A 00 00    	ld	hl,(_sprite)
1890  06B3  26 00       	ld	h,0x00
1891  06B5  01 00 00    	ld	bc,_colint
1892  06B8  09          	add	hl,bc
1893  06B9  7E          	ld	a,(hl)
1894  06BA  3C          	inc	a
1895  06BB  77          	ld	(hl),a
1896  06BC  4D          	ld	c,l
1897  06BD  44          	ld	b,h
1898  06BE  5F          	ld	e,a
1899  06BF  3E 02       	ld	a,0x02
1900  06C1  93          	sub	a, e
1901  06C2  30 02       	jr	NC,l_enemy_turn_00105
1902  06C4  AF          	xor	a, a
1903  06C5  02          	ld	(bc),a
1904  06C6              l_enemy_turn_00105:
1905  06C6  CD 00 00    	call	_spr_redraw
1906  06C9  18 60       	jr	l_enemy_turn_00121
1907  06CB              l_enemy_turn_00107:
1908  06CB  2A 00 00    	ld	hl,(_sprite)
1909  06CE  26 00       	ld	h,0x00
1910  06D0  01 00 00    	ld	bc,_class
1911  06D3  09          	add	hl,bc
1912  06D4  7E          	ld	a,(hl)
1913  06D5  4F          	ld	c,a
1914  06D6  D6 07       	sub	a,0x07
1915  06D8  38 3C       	jr	C,l_enemy_turn_00116
1916  06DA  3E 0C       	ld	a,0x0c
1917  06DC  91          	sub	a,c
1918  06DD  38 37       	jr	C,l_enemy_turn_00116
1919  06DF  79          	ld	a,c
1920  06E0  C6 F9       	add	a,0xf9
1921  06E2  44          	ld	b,h
1922  06E3  5F          	ld	e,a
1923  06E4  16 00       	ld	d,0x00
1924  06E6  21 EC 06    	ld	hl,l_enemy_turn_00176
1925  06E9  19          	add	hl,de
1926  06EA  19          	add	hl,de
1927  06EB  E9          	jp	(hl)
1928  06EC              l_enemy_turn_00176:
1929  06EC  18 19       	jr	l_enemy_turn_00113
1930  06EE  18 1C       	jr	l_enemy_turn_00114
1931  06F0  18 10       	jr	l_enemy_turn_00112
1932  06F2  18 04       	jr	l_enemy_turn_00110
1933  06F4  18 07       	jr	l_enemy_turn_00111
1934  06F6  18 19       	jr	l_enemy_turn_00115
1935  06F8              l_enemy_turn_00110:
1936  06F8  CD 4C 09    	call	_enemy_fireball_red
1937  06FB  18 1C       	jr	l_enemy_turn_00117
1938  06FD              l_enemy_turn_00111:
1939  06FD  CD 27 0A    	call	_enemy_fireball_green
1940  0700  18 17       	jr	l_enemy_turn_00117
1941  0702              l_enemy_turn_00112:
1942  0702  CD D1 0A    	call	_enemy_fighterfly
1943  0705  18 12       	jr	l_enemy_turn_00117
1944  0707              l_enemy_turn_00113:
1945  0707  CD B2 07    	call	_enemy_slipice
1946  070A  18 0D       	jr	l_enemy_turn_00117
1947  070C              l_enemy_turn_00114:
1948  070C  CD 00 00    	call	_enemy_coin1
1949  070F  18 08       	jr	l_enemy_turn_00117
1950  0711              l_enemy_turn_00115:
1951  0711  CD 36 00    	call	_enemy_coin2
1952  0714  18 03       	jr	l_enemy_turn_00117
1953  0716              l_enemy_turn_00116:
1954  0716  CD 37 07    	call	_enemy_standard
1955  0719              l_enemy_turn_00117:
1956  0719  CD 00 00    	call	_spr_redraw
1957  071C  3A 00 00    	ld	a,(_sprite)
1958  071F  C6 00       	add	a,+((_state) & 0xFF)
1959  0721  4F          	ld	c,a
1960  0722  3E 00       	ld	a,+((_state) / 256)
1961  0724  CE 00       	adc	a,0x00
1962  0726  47          	ld	b,a
1963  0727  3A 00 00    	ld	a,(_s_state)
1964  072A  02          	ld	(bc),a
1965  072B              l_enemy_turn_00121:
1966  072B  21 00 00    	ld	hl,_sprite
1967  072E  7E          	ld	a,(hl)
1968  072F  3C          	inc	a
1969  0730  77          	ld	(hl),a
1970  0731  D6 06       	sub	a,0x06
1971  0733  DA FA 05    	jp	C,l_enemy_turn_00123
1972  0736  C9          	ret
1973  0737              ;	---------------------------------
1974  0737              ; Function enemy_standard
1975  0737              ; ---------------------------------
1976  0737              _enemy_standard:
1977  0737  3A 00 00    	ld	a,(_s_state)
1978  073A  0F          	rrca
1979  073B  38 2D       	jr	C,l_enemy_standard_00110
1980  073D  CD 9B 0D    	call	_enemy_walk
1981  0740  2A 00 00    	ld	hl,(_sprite)
1982  0743  26 00       	ld	h,0x00
1983  0745  01 00 00    	ld	bc,_lin
1984  0748  09          	add	hl,bc
1985  0749  7E          	ld	a,(hl)
1986  074A  D6 98       	sub	a,0x98
1987  074C  21 00 00    	ld	hl,_sprite
1988  074F  20 5E       	jr	NZ,l_enemy_standard_00111
1989  0751  4E          	ld	c,(hl)
1990  0752  06 00       	ld	b,0x00
1991  0754  21 00 00    	ld	hl,_col
1992  0757  09          	add	hl,bc
1993  0758  7E          	ld	a,(hl)
1994  0759  4F          	ld	c,a
1995  075A  D6 05       	sub	a,0x05
1996  075C  38 05       	jr	C,l_enemy_standard_00101
1997  075E  3E 19       	ld	a,0x19
1998  0760  91          	sub	a, c
1999  0761  30 4C       	jr	NC,l_enemy_standard_00111
2000  0763              l_enemy_standard_00101:
2001  0763  21 00 00    	ld	hl,_s_state
2002  0766  CB C6       	set	0, (hl)
2003  0768  18 45       	jr	l_enemy_standard_00111
2004  076A              l_enemy_standard_00110:
2005  076A  3A 00 00    	ld	a,(_sprite)
2006  076D  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2007  076F  4F          	ld	c,a
2008  0770  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2009  0772  CE 00       	adc	a,0x00
2010  0774  47          	ld	b,a
2011  0775  3E 01       	ld	a,0x01
2012  0777  02          	ld	(bc),a
2013  0778  CD 00 00    	call	_spr_move_horizontal
2014  077B  CD 00 00    	call	_spr_move_up
2015  077E  3A 00 00    	ld	a,(_s_state)
2016  0781  0F          	rrca
2017  0782  D2 92 0B    	jp	NC,_enemy_trip
2018  0785  2A 00 00    	ld	hl,(_sprite)
2019  0788  26 00       	ld	h,0x00
2020  078A  5D          	ld	e,l
2021  078B  01 00 00    	ld	bc,_jump_lin
2022  078E  09          	add	hl,bc
2023  078F  4E          	ld	c,(hl)
2024  0790  06 00       	ld	b,0x00
2025  0792  50          	ld	d,b
2026  0793  21 00 00    	ld	hl,_lin
2027  0796  19          	add	hl,de
2028  0797  5E          	ld	e, (hl)
2029  0798  16 00       	ld	d,0x00
2030  079A  79          	ld	a,c
2031  079B  93          	sub	a, e
2032  079C  4F          	ld	c,a
2033  079D  78          	ld	a,b
2034  079E  9A          	sbc	a, d
2035  079F  47          	ld	b,a
2036  07A0  79          	ld	a,c
2037  07A1  D6 0C       	sub	a,0x0c
2038  07A3  78          	ld	a,b
2039  07A4  17          	rla
2040  07A5  3F          	ccf
2041  07A6  1F          	rra
2042  07A7  DE 80       	sbc	a,0x80
2043  07A9  DA 92 0B    	jp	C,_enemy_trip
2044  07AC  CD 00 00    	call	_spr_set_fall
2045  07AF              l_enemy_standard_00111:
2046  07AF  C3 92 0B    	jp  _enemy_trip
2047  07B2              ;	---------------------------------
2048  07B2              ; Function enemy_slipice
2049  07B2              ; ---------------------------------
2050  07B2              _enemy_slipice:
2051  07B2  3A 00 00    	ld	a,(_phase_left)
2052  07B5  B7          	or	a, a
2053  07B6  CA 4B 09    	jp	Z,l_enemy_slipice_00126
2054  07B9  3A 00 00    	ld	a,(_sprite)
2055  07BC  C6 00       	add	a,+((_state) & 0xFF)
2056  07BE  4F          	ld	c,a
2057  07BF  3E 00       	ld	a,+((_state) / 256)
2058  07C1  CE 00       	adc	a,0x00
2059  07C3  47          	ld	b,a
2060  07C4  0A          	ld	a,(bc)
2061  07C5  CB 77       	bit	6, a
2062  07C7  CA 6D 08    	jp	Z,l_enemy_slipice_00122
2063  07CA  76          	halt
2064  07CB  3E 00       	ld	a,+((_col) & 0xFF)
2065  07CD  21 00 00    	ld	hl,_sprite
2066  07D0  86          	add	a, (hl)
2067  07D1  4F          	ld	c,a
2068  07D2  3E 00       	ld	a,+((_col) / 256)
2069  07D4  CE 00       	adc	a,0x00
2070  07D6  47          	ld	b,a
2071  07D7  0A          	ld	a,(bc)
2072  07D8  57          	ld	d,a
2073  07D9  3E 00       	ld	a,+((_lin) & 0xFF)
2074  07DB  86          	add	a, (hl)
2075  07DC  4F          	ld	c,a
2076  07DD  3E 00       	ld	a,+((_lin) / 256)
2077  07DF  CE 00       	adc	a,0x00
2078  07E1  47          	ld	b,a
2079  07E2  0A          	ld	a,(bc)
2080  07E3  C6 08       	add	a,0x08
2081  07E5  5F          	ld	e,a
2082  07E6  3E 00       	ld	a,+((_colint) & 0xFF)
2083  07E8  86          	add	a, (hl)
2084  07E9  4F          	ld	c,a
2085  07EA  3E 00       	ld	a,+((_colint) / 256)
2086  07EC  CE 00       	adc	a,0x00
2087  07EE  47          	ld	b,a
2088  07EF  0A          	ld	a,(bc)
2089  07F0  C6 8D       	add	a,0x8d
2090  07F2  47          	ld	b,a
2091  07F3  D5          	push	de
2092  07F4  C5          	push	bc
2093  07F5  33          	inc	sp
2094  07F6  CD 00 00    	call	_NIRVANAP_drawT_callee
2095  07F9  2A 00 00    	ld	hl,(_sprite)
2096  07FC  26 00       	ld	h,0x00
2097  07FE  01 00 00    	ld	bc,_colint
2098  0801  09          	add	hl,bc
2099  0802  7E          	ld	a,(hl)
2100  0803  3C          	inc	a
2101  0804  77          	ld	(hl),a
2102  0805  4D          	ld	c,l
2103  0806  44          	ld	b,h
2104  0807  5F          	ld	e,a
2105  0808  3E 02       	ld	a,0x02
2106  080A  93          	sub	a, e
2107  080B  30 02       	jr	NC,l_enemy_slipice_00102
2108  080D  AF          	xor	a, a
2109  080E  02          	ld	(bc),a
2110  080F              l_enemy_slipice_00102:
2111  080F  2A 00 00    	ld	hl,(_sprite)
2112  0812  26 00       	ld	h,0x00
2113  0814  29          	add	hl, hl
2114  0815  11 00 00    	ld	de,_spr_timer
2115  0818  19          	add	hl,de
2116  0819  4E          	ld	c,(hl)
2117  081A  23          	inc	hl
2118  081B  46          	ld	b,(hl)
2119  081C  21 28 00    	ld	hl,0x0028
2120  081F  E5          	push	hl
2121  0820  C5          	push	bc
2122  0821  CD 00 00    	call	_game_check_time
2123  0824  F1          	pop	af
2124  0825  F1          	pop	af
2125  0826  7D          	ld	a,l
2126  0827  B7          	or	a, a
2127  0828  CA 4B 09    	jp	Z,l_enemy_slipice_00126
2128  082B  2A 00 00    	ld	hl,(_sprite)
2129  082E  26 00       	ld	h,0x00
2130  0830  5D          	ld	e,l
2131  0831  01 00 00    	ld	bc,_col
2132  0834  09          	add	hl,bc
2133  0835  46          	ld	b,(hl)
2134  0836  16 00       	ld	d,0x00
2135  0838  21 00 00    	ld	hl,_lin
2136  083B  19          	add	hl,de
2137  083C  7E          	ld	a,(hl)
2138  083D  C6 18       	add	a,0x18
2139  083F  4F          	ld	c,a
2140  0840  C5          	push	bc
2141  0841  CD 00 00    	call	_game_freeze
2142  0844  F1          	pop	af
2143  0845  2A 00 00    	ld	hl,(_sprite)
2144  0848  26 00       	ld	h,0x00
2145  084A  5D          	ld	e,l
2146  084B  01 00 00    	ld	bc,_col
2147  084E  09          	add	hl,bc
2148  084F  46          	ld	b,(hl)
2149  0850  16 00       	ld	d,0x00
2150  0852  21 00 00    	ld	hl,_lin
2151  0855  19          	add	hl,de
2152  0856  7E          	ld	a,(hl)
2153  0857  C6 08       	add	a,0x08
2154  0859  4F          	ld	c,a
2155  085A  C5          	push	bc
2156  085B  AF          	xor	a, a
2157  085C  F5          	push	af
2158  085D  33          	inc	sp
2159  085E  CD 00 00    	call	_NIRVANAP_fillT_callee
2160  0861  3A 00 00    	ld	a,(_sprite)
2161  0864  F5          	push	af
2162  0865  33          	inc	sp
2163  0866  CD 00 00    	call	_spr_destroy
2164  0869  33          	inc	sp
2165  086A  C3 4B 09    	jp	l_enemy_slipice_00126
2166  086D              l_enemy_slipice_00122:
2167  086D  CB 47       	bit	0, a
2168  086F  C2 1C 09    	jp	NZ,l_enemy_slipice_00110
2169  0872  CB 4F       	bit	1, a
2170  0874  C2 1C 09    	jp	NZ,l_enemy_slipice_00110
2171  0877  2A 00 00    	ld	hl,(_sprite)
2172  087A  26 00       	ld	h,0x00
2173  087C  01 00 00    	ld	bc,_col
2174  087F  09          	add	hl,bc
2175  0880  7E          	ld	a,(hl)
2176  0881  4F          	ld	c,a
2177  0882  D6 07       	sub	a,0x07
2178  0884  28 0A       	jr	Z,l_enemy_slipice_00116
2179  0886  79          	ld	a,c
2180  0887  FE 0F       	cp	a,0x0f
2181  0889  28 05       	jr	Z,l_enemy_slipice_00116
2182  088B  D6 18       	sub	a,0x18
2183  088D  C2 1C 09    	jp	NZ,l_enemy_slipice_00110
2184  0890              l_enemy_slipice_00116:
2185  0890  79          	ld	a,c
2186  0891  D6 88       	sub	a,0x88
2187  0893  D2 1C 09    	jp	NC,l_enemy_slipice_00110
2188  0896  CD 00 00    	call	_rand
2189  0899  22 00 00    	ld	(_tmp_ui),hl
2190  089C  3E 00       	ld	a,+((_col) & 0xFF)
2191  089E  21 00 00    	ld	hl,_sprite
2192  08A1  86          	add	a, (hl)
2193  08A2  4F          	ld	c,a
2194  08A3  3E 00       	ld	a,+((_col) / 256)
2195  08A5  CE 00       	adc	a,0x00
2196  08A7  47          	ld	b,a
2197  08A8  0A          	ld	a,(bc)
2198  08A9  57          	ld	d,a
2199  08AA  4E          	ld	c,(hl)
2200  08AB  06 00       	ld	b,0x00
2201  08AD  21 00 00    	ld	hl,_lin
2202  08B0  09          	add	hl,bc
2203  08B1  7E          	ld	a,(hl)
2204  08B2  C6 10       	add	a,0x10
2205  08B4  5F          	ld	e, a
2206  08B5  D5          	push	de
2207  08B6  CD 00 00    	call	_game_calc_index
2208  08B9  F1          	pop	af
2209  08BA  22 00 00    	ld	(_index1),hl
2210  08BD  01 00 00    	ld	bc,_lvl_1
2211  08C0  09          	add	hl,bc
2212  08C1  7E          	ld	a,(hl)
2213  08C2  D6 12       	sub	a,0x12
2214  08C4  20 51       	jr	NZ,l_enemy_slipice_00106
2215  08C6  21 00 00    	ld	hl,_tmp_ui
2216  08C9  7E          	ld	a,(hl)
2217  08CA  D6 32       	sub	a,0x32
2218  08CC  23          	inc	hl
2219  08CD  7E          	ld	a,(hl)
2220  08CE  DE 33       	sbc	a,0x33
2221  08D0  30 45       	jr	NC,l_enemy_slipice_00106
2222  08D2  21 00 00    	ld	hl,_ay_effect_16
2223  08D5  CD 00 00    	call	_ay_fx_play
2224  08D8  21 00 00    	ld	hl,_s_state
2225  08DB  CB F6       	set	6, (hl)
2226  08DD  01 00 00    	ld	bc,_spr_timer+0
2227  08E0  2A 00 00    	ld	hl,(_sprite)
2228  08E3  26 00       	ld	h,0x00
2229  08E5  29          	add	hl, hl
2230  08E6  09          	add	hl,bc
2231  08E7  ED 5B 00 00 	ld	de,(_curr_time)
2232  08EB  73          	ld	(hl),e
2233  08EC  23          	inc	hl
2234  08ED  72          	ld	(hl),d
2235  08EE  2A 00 00    	ld	hl,(_sprite)
2236  08F1  26 00       	ld	h,0x00
2237  08F3  01 00 00    	ld	bc,_lin
2238  08F6  09          	add	hl,bc
2239  08F7  7E          	ld	a,(hl)
2240  08F8  C6 F8       	add	a,0xf8
2241  08FA  77          	ld	(hl),a
2242  08FB  3E 00       	ld	a,+((_colint) & 0xFF)
2243  08FD  21 00 00    	ld	hl,_sprite
2244  0900  86          	add	a, (hl)
2245  0901  4F          	ld	c,a
2246  0902  3E 00       	ld	a,+((_colint) / 256)
2247  0904  CE 00       	adc	a,0x00
2248  0906  47          	ld	b,a
2249  0907  AF          	xor	a, a
2250  0908  02          	ld	(bc),a
2251  0909  3E 00       	ld	a,+((_tile) & 0xFF)
2252  090B  86          	add	a, (hl)
2253  090C  4F          	ld	c,a
2254  090D  3E 00       	ld	a,+((_tile) / 256)
2255  090F  CE 00       	adc	a,0x00
2256  0911  47          	ld	b,a
2257  0912  3E 7B       	ld	a,0x7b
2258  0914  02          	ld	(bc),a
2259  0915  18 08       	jr	l_enemy_slipice_00111
2260  0917              l_enemy_slipice_00106:
2261  0917  CD 9B 0D    	call	_enemy_walk
2262  091A  18 03       	jr	l_enemy_slipice_00111
2263  091C              l_enemy_slipice_00110:
2264  091C  CD 9B 0D    	call	_enemy_walk
2265  091F              l_enemy_slipice_00111:
2266  091F  2A 00 00    	ld	hl,(_sprite)
2267  0922  26 00       	ld	h,0x00
2268  0924  01 00 00    	ld	bc,_lin
2269  0927  09          	add	hl,bc
2270  0928  7E          	ld	a,(hl)
2271  0929  D6 98       	sub	a,0x98
2272  092B  20 1E       	jr	NZ,l_enemy_slipice_00126
2273  092D  3A 00 00    	ld	a,(_sprite)
2274  0930  4F          	ld	c,a
2275  0931  06 00       	ld	b,0x00
2276  0933  21 00 00    	ld	hl,_col
2277  0936  09          	add	hl,bc
2278  0937  7E          	ld	a,(hl)
2279  0938  4F          	ld	c,a
2280  0939  D6 03       	sub	a,0x03
2281  093B  28 05       	jr	Z,l_enemy_slipice_00117
2282  093D  79          	ld	a,c
2283  093E  D6 1B       	sub	a,0x1b
2284  0940  20 09       	jr	NZ,l_enemy_slipice_00126
2285  0942              l_enemy_slipice_00117:
2286  0942  3A 00 00    	ld	a,(_sprite)
2287  0945  F5          	push	af
2288  0946  33          	inc	sp
2289  0947  CD 00 00    	call	_spr_destroy
2290  094A  33          	inc	sp
2291  094B              l_enemy_slipice_00126:
2292  094B  C9          	ret
2293  094C              ;	---------------------------------
2294  094C              ; Function enemy_fireball_red
2295  094C              ; ---------------------------------
2296  094C              _enemy_fireball_red:
2297  094C  3A 00 00    	ld	a,(_phase_left)
2298  094F  B7          	or	a, a
2299  0950  CA 26 0A    	jp	Z,l_enemy_fireball_red_00120
2300  0953  01 00 00    	ld	bc,_spr_timer+0
2301  0956  2A 00 00    	ld	hl,(_sprite)
2302  0959  26 00       	ld	h,0x00
2303  095B  29          	add	hl, hl
2304  095C  09          	add	hl,bc
2305  095D  5E          	ld	e,(hl)
2306  095E  23          	inc	hl
2307  095F  56          	ld	d,(hl)
2308  0960  C5          	push	bc
2309  0961  21 DC 05    	ld	hl,0x05dc
2310  0964  E5          	push	hl
2311  0965  D5          	push	de
2312  0966  CD 00 00    	call	_game_check_time
2313  0969  F1          	pop	af
2314  096A  F1          	pop	af
2315  096B  C1          	pop	bc
2316  096C  7D          	ld	a,l
2317  096D  B7          	or	a, a
2318  096E  28 24       	jr	Z,l_enemy_fireball_red_00116
2319  0970  2A 00 00    	ld	hl,(_sprite)
2320  0973  26 00       	ld	h,0x00
2321  0975  29          	add	hl, hl
2322  0976  09          	add	hl,bc
2323  0977  ED 5B 00 00 	ld	de,(_curr_time)
2324  097B  73          	ld	(hl),e
2325  097C  23          	inc	hl
2326  097D  72          	ld	(hl),d
2327  097E  3A 00 00    	ld	a,(_sprite)
2328  0981  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2329  0983  4F          	ld	c,a
2330  0984  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2331  0986  CE 00       	adc	a,0x00
2332  0988  47          	ld	b,a
2333  0989  3E 08       	ld	a,0x08
2334  098B  02          	ld	(bc),a
2335  098C  21 00 00    	ld	hl,_s_state
2336  098F  CB EE       	set	5, (hl)
2337  0991  C3 26 0A    	jp	l_enemy_fireball_red_00120
2338  0994              l_enemy_fireball_red_00116:
2339  0994  3A 00 00    	ld	a,(_s_state)
2340  0997  0F          	rrca
2341  0998  30 11       	jr	NC,l_enemy_fireball_red_00106
2342  099A  CD 00 00    	call	_spr_move_up
2343  099D  7D          	ld	a,l
2344  099E  B7          	or	a, a
2345  099F  28 03       	jr	Z,l_enemy_fireball_red_00102
2346  09A1  CD 00 00    	call	_spr_set_fall
2347  09A4              l_enemy_fireball_red_00102:
2348  09A4  21 00 00    	ld	hl,_tmp
2349  09A7  36 00       	ld	(hl),0x00
2350  09A9  18 13       	jr	l_enemy_fireball_red_00107
2351  09AB              l_enemy_fireball_red_00106:
2352  09AB  CD 00 00    	call	_spr_move_down
2353  09AE  7D          	ld	a,l
2354  09AF  B7          	or	a, a
2355  09B0  28 07       	jr	Z,l_enemy_fireball_red_00104
2356  09B2  21 00 00    	ld	hl,_s_state
2357  09B5  CB 8E       	res	1, (hl)
2358  09B7  CB C6       	set	0, (hl)
2359  09B9              l_enemy_fireball_red_00104:
2360  09B9  21 00 00    	ld	hl,_tmp
2361  09BC  36 10       	ld	(hl),0x10
2362  09BE              l_enemy_fireball_red_00107:
2363  09BE  CD 00 00    	call	_spr_move_horizontal
2364  09C1  3A 00 00    	ld	a,(_s_state)
2365  09C4  E6 04       	and	a,0x04
2366  09C6  28 13       	jr	Z,l_enemy_fireball_red_00109
2367  09C8  3A 00 00    	ld	a,(_sprite)
2368  09CB  C6 00       	add	a,+((_col) & 0xFF)
2369  09CD  4F          	ld	c,a
2370  09CE  3E 00       	ld	a,+((_col) / 256)
2371  09D0  CE 00       	adc	a,0x00
2372  09D2  47          	ld	b,a
2373  09D3  0A          	ld	a,(bc)
2374  09D4  C6 02       	add	a,0x02
2375  09D6  32 00 00    	ld	(_s_col1),a
2376  09D9  18 11       	jr	l_enemy_fireball_red_00110
2377  09DB              l_enemy_fireball_red_00109:
2378  09DB  3A 00 00    	ld	a,(_sprite)
2379  09DE  C6 00       	add	a,+((_col) & 0xFF)
2380  09E0  4F          	ld	c,a
2381  09E1  3E 00       	ld	a,+((_col) / 256)
2382  09E3  CE 00       	adc	a,0x00
2383  09E5  47          	ld	b,a
2384  09E6  0A          	ld	a,(bc)
2385  09E7  C6 FF       	add	a,0xff
2386  09E9  32 00 00    	ld	(_s_col1),a
2387  09EC              l_enemy_fireball_red_00110:
2388  09EC  2A 00 00    	ld	hl,(_sprite)
2389  09EF  26 00       	ld	h,0x00
2390  09F1  01 00 00    	ld	bc,_lin
2391  09F4  09          	add	hl,bc
2392  09F5  4E          	ld	c, (hl)
2393  09F6  3A 00 00    	ld	a, (_s_col1)
2394  09F9  47          	ld	b,a
2395  09FA  C5          	push	bc
2396  09FB  CD 00 00    	call	_game_calc_index
2397  09FE  F1          	pop	af
2398  09FF  22 00 00    	ld	(_index1),hl
2399  0A02  01 00 00    	ld	bc,_lvl_1
2400  0A05  09          	add	hl,bc
2401  0A06  7E          	ld	a,(hl)
2402  0A07  D6 BF       	sub	a,0xbf
2403  0A09  30 14       	jr	NC,l_enemy_fireball_red_00111
2404  0A0B  2A 00 00    	ld	hl,(_sprite)
2405  0A0E  26 00       	ld	h,0x00
2406  0A10  01 00 00    	ld	bc,_col
2407  0A13  09          	add	hl,bc
2408  0A14  7E          	ld	a,(hl)
2409  0A15  4F          	ld	c,a
2410  0A16  D6 02       	sub	a,0x02
2411  0A18  38 05       	jr	C,l_enemy_fireball_red_00111
2412  0A1A  3E 1D       	ld	a,0x1d
2413  0A1C  91          	sub	a, c
2414  0A1D  30 07       	jr	NC,l_enemy_fireball_red_00120
2415  0A1F              l_enemy_fireball_red_00111:
2416  0A1F  21 00 00    	ld	hl,_s_state
2417  0A22  7E          	ld	a,(hl)
2418  0A23  EE 0C       	xor	a,+(0x04^0x08)
2419  0A25  77          	ld	(hl),a
2420  0A26              l_enemy_fireball_red_00120:
2421  0A26  C9          	ret
2422  0A27              ;	---------------------------------
2423  0A27              ; Function enemy_fireball_green
2424  0A27              ; ---------------------------------
2425  0A27              _enemy_fireball_green:
2426  0A27  3A 00 00    	ld	a,(_phase_left)
2427  0A2A  B7          	or	a, a
2428  0A2B  CA D0 0A    	jp	Z,l_enemy_fireball_green_00113
2429  0A2E  2A 00 00    	ld	hl,(_sprite)
2430  0A31  26 00       	ld	h,0x00
2431  0A33  5D          	ld	e,l
2432  0A34  01 00 00    	ld	bc,_jump_lin
2433  0A37  09          	add	hl,bc
2434  0A38  4E          	ld	c,(hl)
2435  0A39  06 00       	ld	b,0x00
2436  0A3B  50          	ld	d,b
2437  0A3C  21 00 00    	ld	hl,_lin
2438  0A3F  19          	add	hl,de
2439  0A40  5E          	ld	e, (hl)
2440  0A41  16 00       	ld	d,0x00
2441  0A43  79          	ld	a,c
2442  0A44  93          	sub	a, e
2443  0A45  6F          	ld	l,a
2444  0A46  78          	ld	a,b
2445  0A47  9A          	sbc	a, d
2446  0A48  67          	ld	h,a
2447  0A49  CD 00 00    	call	_abs_fastcall
2448  0A4C  22 00 00    	ld	(_index1),hl
2449  0A4F  3E 08       	ld	a,0x08
2450  0A51  21 00 00    	ld	hl,_index1
2451  0A54  BE          	cp	a, (hl)
2452  0A55  3E 00       	ld	a,0x00
2453  0A57  23          	inc	hl
2454  0A58  9E          	sbc	a, (hl)
2455  0A59  30 1C       	jr	NC,l_enemy_fireball_green_00102
2456  0A5B  21 00 00    	ld	hl,_s_state
2457  0A5E  7E          	ld	a,(hl)
2458  0A5F  EE 03       	xor	a,+(0x01^0x02)
2459  0A61  77          	ld	(hl),a
2460  0A62  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2461  0A64  21 00 00    	ld	hl,_sprite
2462  0A67  86          	add	a, (hl)
2463  0A68  4F          	ld	c,a
2464  0A69  3E 00       	ld	a,+((_jump_lin) / 256)
2465  0A6B  CE 00       	adc	a,0x00
2466  0A6D  47          	ld	b,a
2467  0A6E  5E          	ld	e,(hl)
2468  0A6F  16 00       	ld	d,0x00
2469  0A71  21 00 00    	ld	hl,_lin
2470  0A74  19          	add	hl,de
2471  0A75  7E          	ld	a,(hl)
2472  0A76  02          	ld	(bc),a
2473  0A77              l_enemy_fireball_green_00102:
2474  0A77  3A 00 00    	ld	a,(_s_state)
2475  0A7A  0F          	rrca
2476  0A7B  30 08       	jr	NC,l_enemy_fireball_green_00104
2477  0A7D  CD 00 00    	call	_spr_move_horizontal
2478  0A80  CD 00 00    	call	_spr_move_up
2479  0A83  18 06       	jr	l_enemy_fireball_green_00105
2480  0A85              l_enemy_fireball_green_00104:
2481  0A85  CD 00 00    	call	_spr_move_horizontal
2482  0A88  CD 00 00    	call	_spr_move_down
2483  0A8B              l_enemy_fireball_green_00105:
2484  0A8B  3A 00 00    	ld	a,(_sprite)
2485  0A8E  C6 00       	add	a,+((_col) & 0xFF)
2486  0A90  4F          	ld	c,a
2487  0A91  3E 00       	ld	a,+((_col) / 256)
2488  0A93  CE 00       	adc	a,0x00
2489  0A95  47          	ld	b,a
2490  0A96  0A          	ld	a,(bc)
2491  0A97  B7          	or	a, a
2492  0A98  20 07       	jr	NZ,l_enemy_fireball_green_00110
2493  0A9A  3A 00 00    	ld	a,(_s_state)
2494  0A9D  E6 08       	and	a,0x08
2495  0A9F  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2496  0AA1              l_enemy_fireball_green_00110:
2497  0AA1  D6 1E       	sub	a,0x1e
2498  0AA3  20 2B       	jr	NZ,l_enemy_fireball_green_00113
2499  0AA5  3A 00 00    	ld	a,(_s_state)
2500  0AA8  E6 04       	and	a,0x04
2501  0AAA  28 24       	jr	Z,l_enemy_fireball_green_00113
2502  0AAC              l_enemy_fireball_green_00106:
2503  0AAC  01 00 00    	ld	bc,_spr_timer+0
2504  0AAF  2A 00 00    	ld	hl,(_sprite)
2505  0AB2  26 00       	ld	h,0x00
2506  0AB4  29          	add	hl, hl
2507  0AB5  09          	add	hl,bc
2508  0AB6  ED 5B 00 00 	ld	de,(_curr_time)
2509  0ABA  73          	ld	(hl),e
2510  0ABB  23          	inc	hl
2511  0ABC  72          	ld	(hl),d
2512  0ABD  3A 00 00    	ld	a,(_sprite)
2513  0AC0  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2514  0AC2  4F          	ld	c,a
2515  0AC3  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2516  0AC5  CE 00       	adc	a,0x00
2517  0AC7  47          	ld	b,a
2518  0AC8  3E 08       	ld	a,0x08
2519  0ACA  02          	ld	(bc),a
2520  0ACB  21 00 00    	ld	hl,_s_state
2521  0ACE  CB EE       	set	5, (hl)
2522  0AD0              l_enemy_fireball_green_00113:
2523  0AD0  C9          	ret
2524  0AD1              ;	---------------------------------
2525  0AD1              ; Function enemy_fighterfly
2526  0AD1              ; ---------------------------------
2527  0AD1              _enemy_fighterfly:
2528  0AD1  3A 00 00    	ld	a,(_s_state)
2529  0AD4  0F          	rrca
2530  0AD5  38 58       	jr	C,l_enemy_fighterfly_00106
2531  0AD7  3A 00 00    	ld	a,(_s_state)
2532  0ADA  E6 02       	and	a,0x02
2533  0ADC  20 51       	jr	NZ,l_enemy_fighterfly_00106
2534  0ADE  CD 00 00    	call	_ay_is_playing
2535  0AE1  7D          	ld	a, l
2536  0AE2  D6 02       	sub	a,0x02
2537  0AE4  30 06       	jr	NC,l_enemy_fighterfly_00102
2538  0AE6  21 00 00    	ld	hl,_ay_effect_13
2539  0AE9  CD 00 00    	call	_ay_fx_play
2540  0AEC              l_enemy_fighterfly_00102:
2541  0AEC  2A 00 00    	ld	hl,(_sprite)
2542  0AEF  26 00       	ld	h,0x00
2543  0AF1  29          	add	hl, hl
2544  0AF2  11 00 00    	ld	de,_spr_timer
2545  0AF5  19          	add	hl,de
2546  0AF6  4E          	ld	c,(hl)
2547  0AF7  23          	inc	hl
2548  0AF8  46          	ld	b,(hl)
2549  0AF9  21 1A 00    	ld	hl,0x001a
2550  0AFC  E5          	push	hl
2551  0AFD  C5          	push	bc
2552  0AFE  CD 00 00    	call	_game_check_time
2553  0B01  F1          	pop	af
2554  0B02  F1          	pop	af
2555  0B03  7D          	ld	a,l
2556  0B04  B7          	or	a, a
2557  0B05  28 28       	jr	Z,l_enemy_fighterfly_00106
2558  0B07  21 00 00    	ld	hl,_s_state
2559  0B0A  CB C6       	set	0, (hl)
2560  0B0C  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2561  0B0E  21 00 00    	ld	hl,_sprite
2562  0B11  86          	add	a, (hl)
2563  0B12  4F          	ld	c,a
2564  0B13  3E 00       	ld	a,+((_jump_lin) / 256)
2565  0B15  CE 00       	adc	a,0x00
2566  0B17  47          	ld	b,a
2567  0B18  3E 00       	ld	a,+((_lin) & 0xFF)
2568  0B1A  86          	add	a, (hl)
2569  0B1B  5F          	ld	e,a
2570  0B1C  3E 00       	ld	a,+((_lin) / 256)
2571  0B1E  CE 00       	adc	a,0x00
2572  0B20  57          	ld	d,a
2573  0B21  1A          	ld	a,(de)
2574  0B22  02          	ld	(bc),a
2575  0B23  6E          	ld	l, (hl)
2576  0B24  26 00       	ld	h,0x00
2577  0B26  29          	add	hl, hl
2578  0B27  11 00 00    	ld	de,_spr_timer
2579  0B2A  19          	add	hl,de
2580  0B2B  AF          	xor	a, a
2581  0B2C  77          	ld	(hl), a
2582  0B2D  23          	inc	hl
2583  0B2E  77          	ld	(hl), a
2584  0B2F              l_enemy_fighterfly_00106:
2585  0B2F  3A 00 00    	ld	a,(_s_state)
2586  0B32  0F          	rrca
2587  0B33  30 31       	jr	NC,l_enemy_fighterfly_00115
2588  0B35  2A 00 00    	ld	hl,(_sprite)
2589  0B38  26 00       	ld	h,0x00
2590  0B3A  5D          	ld	e,l
2591  0B3B  01 00 00    	ld	bc,_jump_lin
2592  0B3E  09          	add	hl,bc
2593  0B3F  4E          	ld	c,(hl)
2594  0B40  06 00       	ld	b,0x00
2595  0B42  50          	ld	d,b
2596  0B43  21 00 00    	ld	hl,_lin
2597  0B46  19          	add	hl,de
2598  0B47  5E          	ld	e, (hl)
2599  0B48  16 00       	ld	d,0x00
2600  0B4A  79          	ld	a,c
2601  0B4B  93          	sub	a, e
2602  0B4C  4F          	ld	c,a
2603  0B4D  78          	ld	a,b
2604  0B4E  9A          	sbc	a, d
2605  0B4F  47          	ld	b,a
2606  0B50  79          	ld	a,c
2607  0B51  D6 08       	sub	a,0x08
2608  0B53  78          	ld	a,b
2609  0B54  17          	rla
2610  0B55  3F          	ccf
2611  0B56  1F          	rra
2612  0B57  DE 80       	sbc	a,0x80
2613  0B59  38 03       	jr	C,l_enemy_fighterfly_00109
2614  0B5B  CD 00 00    	call	_spr_set_fall
2615  0B5E              l_enemy_fighterfly_00109:
2616  0B5E  CD 00 00    	call	_spr_move_horizontal
2617  0B61  CD 00 00    	call	_spr_move_up
2618  0B64  18 29       	jr	l_enemy_fighterfly_00116
2619  0B66              l_enemy_fighterfly_00115:
2620  0B66  01 00 00    	ld	bc,_spr_timer+0
2621  0B69  2A 00 00    	ld	hl,(_sprite)
2622  0B6C  26 00       	ld	h,0x00
2623  0B6E  29          	add	hl, hl
2624  0B6F  09          	add	hl,bc
2625  0B70  4D          	ld	c,l
2626  0B71  44          	ld	b,h
2627  0B72  5E          	ld	e,(hl)
2628  0B73  23          	inc	hl
2629  0B74  7E          	ld	a, (hl)
2630  0B75  B3          	or	a,e
2631  0B76  20 09       	jr	NZ,l_enemy_fighterfly_00111
2632  0B78  ED 5B 00 00 	ld	de,(_curr_time)
2633  0B7C  7B          	ld	a,e
2634  0B7D  02          	ld	(bc),a
2635  0B7E  03          	inc	bc
2636  0B7F  7A          	ld	a,d
2637  0B80  02          	ld	(bc),a
2638  0B81              l_enemy_fighterfly_00111:
2639  0B81  3A 00 00    	ld	a,(_s_state)
2640  0B84  E6 02       	and	a,0x02
2641  0B86  CA 92 0B    	jp	Z,_enemy_trip
2642  0B89  CD 9B 0D    	call	_enemy_walk
2643  0B8C  CD 00 00    	call	_spr_move_horizontal
2644  0B8F              l_enemy_fighterfly_00116:
2645  0B8F  C3 92 0B    	jp  _enemy_trip
2646  0B92              ;	---------------------------------
2647  0B92              ; Function enemy_trip
2648  0B92              ; ---------------------------------
2649  0B92              _enemy_trip:
2650  0B92  2A 00 00    	ld	hl,(_sprite)
2651  0B95  26 00       	ld	h,0x00
2652  0B97  01 00 00    	ld	bc,_lin
2653  0B9A  09          	add	hl,bc
2654  0B9B  46          	ld	b,(hl)
2655  0B9C  3E 80       	ld	a,0x80
2656  0B9E  90          	sub	a, b
2657  0B9F  D2 9C 0C    	jp	NC,l_enemy_trip_00114
2658  0BA2  21 00 00    	ld	hl,_tmp
2659  0BA5  36 00       	ld	(hl),0x00
2660  0BA7  2A 00 00    	ld	hl,(_sprite)
2661  0BAA  26 00       	ld	h,0x00
2662  0BAC  11 00 00    	ld	de,_col
2663  0BAF  19          	add	hl,de
2664  0BB0  7E          	ld	a,(hl)
2665  0BB1  57          	ld	d,a
2666  0BB2  D6 1B       	sub	a,0x1b
2667  0BB4  20 43       	jr	NZ,l_enemy_trip_00104
2668  0BB6  21 00 00    	ld	hl,_tmp
2669  0BB9  36 01       	ld	(hl),0x01
2670  0BBB  15          	dec	d
2671  0BBC  58          	ld	e,b
2672  0BBD  D5          	push	de
2673  0BBE  AF          	xor	a, a
2674  0BBF  F5          	push	af
2675  0BC0  33          	inc	sp
2676  0BC1  CD 00 00    	call	_NIRVANAP_fillT_callee
2677  0BC4  3E 00       	ld	a,+((_lin) & 0xFF)
2678  0BC6  21 00 00    	ld	hl,_sprite
2679  0BC9  86          	add	a, (hl)
2680  0BCA  4F          	ld	c,a
2681  0BCB  3E 00       	ld	a,+((_lin) / 256)
2682  0BCD  CE 00       	adc	a,0x00
2683  0BCF  47          	ld	b,a
2684  0BD0  3E 10       	ld	a,0x10
2685  0BD2  02          	ld	(bc),a
2686  0BD3  3E 00       	ld	a,+((_col) & 0xFF)
2687  0BD5  86          	add	a, (hl)
2688  0BD6  4F          	ld	c,a
2689  0BD7  3E 00       	ld	a,+((_col) / 256)
2690  0BD9  CE 00       	adc	a,0x00
2691  0BDB  47          	ld	b,a
2692  0BDC  3E 1A       	ld	a,0x1a
2693  0BDE  02          	ld	(bc),a
2694  0BDF  21 00 00    	ld	hl,_s_state
2695  0BE2  CB DE       	set	3, (hl)
2696  0BE4  CB 96       	res	2, (hl)
2697  0BE6  CB 86       	res	0, (hl)
2698  0BE8  CD 00 00    	call	_sound_enter_enemy
2699  0BEB  CD 00 00    	call	_ay_is_playing
2700  0BEE  7D          	ld	a, l
2701  0BEF  D6 02       	sub	a,0x02
2702  0BF1  30 06       	jr	NC,l_enemy_trip_00104
2703  0BF3  21 00 00    	ld	hl,_ay_effect_04
2704  0BF6  CD 00 00    	call	_ay_fx_play
2705  0BF9              l_enemy_trip_00104:
2706  0BF9  2A 00 00    	ld	hl,(_sprite)
2707  0BFC  26 00       	ld	h,0x00
2708  0BFE  01 00 00    	ld	bc,_col
2709  0C01  09          	add	hl,bc
2710  0C02  7E          	ld	a,(hl)
2711  0C03  47          	ld	b,a
2712  0C04  D6 03       	sub	a,0x03
2713  0C06  20 4C       	jr	NZ,l_enemy_trip_00108
2714  0C08  21 00 00    	ld	hl,_tmp
2715  0C0B  36 01       	ld	(hl),0x01
2716  0C0D  04          	inc	b
2717  0C0E  2A 00 00    	ld	hl,(_sprite)
2718  0C11  26 00       	ld	h,0x00
2719  0C13  11 00 00    	ld	de,_lin
2720  0C16  19          	add	hl,de
2721  0C17  4E          	ld	c, (hl)
2722  0C18  C5          	push	bc
2723  0C19  AF          	xor	a, a
2724  0C1A  F5          	push	af
2725  0C1B  33          	inc	sp
2726  0C1C  CD 00 00    	call	_NIRVANAP_fillT_callee
2727  0C1F  3E 00       	ld	a,+((_lin) & 0xFF)
2728  0C21  21 00 00    	ld	hl,_sprite
2729  0C24  86          	add	a, (hl)
2730  0C25  4F          	ld	c,a
2731  0C26  3E 00       	ld	a,+((_lin) / 256)
2732  0C28  CE 00       	adc	a,0x00
2733  0C2A  47          	ld	b,a
2734  0C2B  3E 10       	ld	a,0x10
2735  0C2D  02          	ld	(bc),a
2736  0C2E  3E 00       	ld	a,+((_col) & 0xFF)
2737  0C30  86          	add	a, (hl)
2738  0C31  4F          	ld	c,a
2739  0C32  3E 00       	ld	a,+((_col) / 256)
2740  0C34  CE 00       	adc	a,0x00
2741  0C36  47          	ld	b,a
2742  0C37  3E 04       	ld	a,0x04
2743  0C39  02          	ld	(bc),a
2744  0C3A  21 00 00    	ld	hl,_s_state
2745  0C3D  CB D6       	set	2, (hl)
2746  0C3F  CB 9E       	res	3, (hl)
2747  0C41  CB 86       	res	0, (hl)
2748  0C43  CD 00 00    	call	_sound_enter_enemy
2749  0C46  CD 00 00    	call	_ay_is_playing
2750  0C49  7D          	ld	a, l
2751  0C4A  D6 02       	sub	a,0x02
2752  0C4C  30 06       	jr	NC,l_enemy_trip_00108
2753  0C4E  21 00 00    	ld	hl,_ay_effect_04
2754  0C51  CD 00 00    	call	_ay_fx_play
2755  0C54              l_enemy_trip_00108:
2756  0C54  3A 00 00    	ld	a,(_tmp)
2757  0C57  B7          	or	a, a
2758  0C58  C8          	ret	Z
2759  0C59  2A 00 00    	ld	hl,(_sprite)
2760  0C5C  26 00       	ld	h,0x00
2761  0C5E  01 00 00    	ld	bc,_class
2762  0C61  09          	add	hl,bc
2763  0C62  4E          	ld	c,(hl)
2764  0C63  3E 03       	ld	a,0x03
2765  0C65  91          	sub	a,c
2766  0C66  D8          	ret	C
2767  0C67  3E 00       	ld	a,+((_colint) & 0xFF)
2768  0C69  21 00 00    	ld	hl,_sprite
2769  0C6C  86          	add	a, (hl)
2770  0C6D  4F          	ld	c,a
2771  0C6E  3E 00       	ld	a,+((_colint) / 256)
2772  0C70  CE 00       	adc	a,0x00
2773  0C72  47          	ld	b,a
2774  0C73  AF          	xor	a, a
2775  0C74  02          	ld	(bc),a
2776  0C75  3E 00       	ld	a,+((_state) & 0xFF)
2777  0C77  86          	add	a, (hl)
2778  0C78  4F          	ld	c,a
2779  0C79  3E 00       	ld	a,+((_state) / 256)
2780  0C7B  CE 00       	adc	a,0x00
2781  0C7D  47          	ld	b,a
2782  0C7E  3A 00 00    	ld	a,(_s_state)
2783  0C81  02          	ld	(bc),a
2784  0C82  3E 00       	ld	a,+((_tile) & 0xFF)
2785  0C84  21 00 00    	ld	hl,_sprite
2786  0C87  86          	add	a, (hl)
2787  0C88  4F          	ld	c,a
2788  0C89  3E 00       	ld	a,+((_tile) / 256)
2789  0C8B  CE 00       	adc	a,0x00
2790  0C8D  47          	ld	b,a
2791  0C8E  7E          	ld	a,(hl)
2792  0C8F  C5          	push	bc
2793  0C90  F5          	push	af
2794  0C91  33          	inc	sp
2795  0C92  CD 00 00    	call	_spr_tile
2796  0C95  33          	inc	sp
2797  0C96  C1          	pop	bc
2798  0C97  7D          	ld	a, l
2799  0C98  02          	ld	(bc),a
2800  0C99  CD 00 00    	call	_spr_set_fall
2801  0C9C              l_enemy_trip_00114:
2802  0C9C  C9          	ret
2803  0C9D              ;	---------------------------------
2804  0C9D              ; Function enemy_standard_hit
2805  0C9D              ; ---------------------------------
2806  0C9D              _enemy_standard_hit:
2807  0C9D  3A 00 00    	ld	a,(_sprite)
2808  0CA0  C6 00       	add	a,+((_state) & 0xFF)
2809  0CA2  4F          	ld	c,a
2810  0CA3  3E 00       	ld	a,+((_state) / 256)
2811  0CA5  CE 00       	adc	a,0x00
2812  0CA7  47          	ld	b,a
2813  0CA8  0A          	ld	a,(bc)
2814  0CA9  07          	rlca
2815  0CAA  38 23       	jr	C,l_enemy_standard_hit_00102
2816  0CAC  2A 00 00    	ld	hl,(_game_time_flipped)
2817  0CAF  11 CE FF    	ld	de,0xffce
2818  0CB2  19          	add	hl,de
2819  0CB3  EB          	ex	de,hl
2820  0CB4  2A 00 00    	ld	hl,(_sprite)
2821  0CB7  26 00       	ld	h,0x00
2822  0CB9  29          	add	hl, hl
2823  0CBA  01 00 00    	ld	bc,_spr_timer
2824  0CBD  09          	add	hl,bc
2825  0CBE  4E          	ld	c,(hl)
2826  0CBF  23          	inc	hl
2827  0CC0  46          	ld	b,(hl)
2828  0CC1  D5          	push	de
2829  0CC2  C5          	push	bc
2830  0CC3  CD 00 00    	call	_game_check_time
2831  0CC6  F1          	pop	af
2832  0CC7  F1          	pop	af
2833  0CC8  7D          	ld	a,l
2834  0CC9  B7          	or	a, a
2835  0CCA  28 03       	jr	Z,l_enemy_standard_hit_00102
2836  0CCC  CD 0A 0D    	call	_enemy_evolve
2837  0CCF              l_enemy_standard_hit_00102:
2838  0CCF  01 00 00    	ld	bc,_spr_timer+0
2839  0CD2  2A 00 00    	ld	hl,(_sprite)
2840  0CD5  26 00       	ld	h,0x00
2841  0CD7  29          	add	hl, hl
2842  0CD8  09          	add	hl,bc
2843  0CD9  4E          	ld	c,(hl)
2844  0CDA  23          	inc	hl
2845  0CDB  46          	ld	b,(hl)
2846  0CDC  2A 00 00    	ld	hl,(_game_time_flipped)
2847  0CDF  E5          	push	hl
2848  0CE0  C5          	push	bc
2849  0CE1  CD 00 00    	call	_game_check_time
2850  0CE4  F1          	pop	af
2851  0CE5  F1          	pop	af
2852  0CE6  7D          	ld	a,l
2853  0CE7  B7          	or	a, a
2854  0CE8  C8          	ret	Z
2855  0CE9  3A 00 00    	ld	a,(_sprite)
2856  0CEC  32 00 00    	ld	(_enemies),a
2857  0CEF  F5          	push	af
2858  0CF0  33          	inc	sp
2859  0CF1  CD 00 00    	call	_spr_tile
2860  0CF4  33          	inc	sp
2861  0CF5  E5          	push	hl
2862  0CF6  CD 97 04    	call	_enemy_flip
2863  0CF9  F1          	pop	af
2864  0CFA  3A 00 00    	ld	a,(_sprite)
2865  0CFD  C6 00       	add	a,+((_state) & 0xFF)
2866  0CFF  4F          	ld	c,a
2867  0D00  3E 00       	ld	a,+((_state) / 256)
2868  0D02  CE 00       	adc	a,0x00
2869  0D04  47          	ld	b,a
2870  0D05  0A          	ld	a,(bc)
2871  0D06  32 00 00    	ld	(_s_state),a
2872  0D09  C9          	ret
2873  0D0A              ;	---------------------------------
2874  0D0A              ; Function enemy_evolve
2875  0D0A              ; ---------------------------------
2876  0D0A              _enemy_evolve:
2877  0D0A  2A 00 00    	ld	hl,(_sprite)
2878  0D0D  26 00       	ld	h,0x00
2879  0D0F  01 00 00    	ld	bc,_class
2880  0D12  09          	add	hl,bc
2881  0D13  7E          	ld	a,(hl)
2882  0D14  4F          	ld	c,a
2883  0D15  3D          	dec	a
2884  0D16  20 0F       	jr	NZ,l_enemy_evolve_00104
2885  0D18  21 3C 00    	ld	hl,0x003c
2886  0D1B  E5          	push	hl
2887  0D1C  3E 02       	ld	a,0x02
2888  0D1E  F5          	push	af
2889  0D1F  33          	inc	sp
2890  0D20  CD 69 0D    	call	_enemy_upgrade
2891  0D23  F1          	pop	af
2892  0D24  33          	inc	sp
2893  0D25  18 12       	jr	l_enemy_evolve_00105
2894  0D27              l_enemy_evolve_00104:
2895  0D27  79          	ld	a,c
2896  0D28  D6 02       	sub	a,0x02
2897  0D2A  20 0D       	jr	NZ,l_enemy_evolve_00105
2898  0D2C  21 48 00    	ld	hl,0x0048
2899  0D2F  E5          	push	hl
2900  0D30  3E 03       	ld	a,0x03
2901  0D32  F5          	push	af
2902  0D33  33          	inc	sp
2903  0D34  CD 69 0D    	call	_enemy_upgrade
2904  0D37  F1          	pop	af
2905  0D38  33          	inc	sp
2906  0D39              l_enemy_evolve_00105:
2907  0D39  2A 00 00    	ld	hl,(_sprite)
2908  0D3C  26 00       	ld	h,0x00
2909  0D3E  01 00 00    	ld	bc,_class
2910  0D41  09          	add	hl,bc
2911  0D42  7E          	ld	a,(hl)
2912  0D43  4F          	ld	c,a
2913  0D44  D6 04       	sub	a,0x04
2914  0D46  20 0F       	jr	NZ,l_enemy_evolve_00109
2915  0D48  21 60 00    	ld	hl,0x0060
2916  0D4B  E5          	push	hl
2917  0D4C  3E 05       	ld	a,0x05
2918  0D4E  F5          	push	af
2919  0D4F  33          	inc	sp
2920  0D50  CD 69 0D    	call	_enemy_upgrade
2921  0D53  F1          	pop	af
2922  0D54  33          	inc	sp
2923  0D55  18 11       	jr	l_enemy_evolve_00111
2924  0D57              l_enemy_evolve_00109:
2925  0D57  79          	ld	a,c
2926  0D58  D6 05       	sub	a,0x05
2927  0D5A  C0          	ret	NZ
2928  0D5B  21 6C 00    	ld	hl,0x006c
2929  0D5E  E5          	push	hl
2930  0D5F  3E 06       	ld	a,0x06
2931  0D61  F5          	push	af
2932  0D62  33          	inc	sp
2933  0D63  CD 69 0D    	call	_enemy_upgrade
2934  0D66  F1          	pop	af
2935  0D67  33          	inc	sp
2936  0D68              l_enemy_evolve_00111:
2937  0D68  C9          	ret
2938  0D69              ;	---------------------------------
2939  0D69              ; Function enemy_upgrade
2940  0D69              ; ---------------------------------
2941  0D69              _enemy_upgrade:
2942  0D69  CD 00 00    	call	___sdcc_enter_ix
2943  0D6C  3E 00       	ld	a,+((_class) & 0xFF)
2944  0D6E  21 00 00    	ld	hl,_sprite
2945  0D71  86          	add	a, (hl)
2946  0D72  4F          	ld	c,a
2947  0D73  3E 00       	ld	a,+((_class) / 256)
2948  0D75  CE 00       	adc	a,0x00
2949  0D77  47          	ld	b,a
2950  0D78  DD 7E 04    	ld	a,(ix+4)
2951  0D7B  02          	ld	(bc),a
2952  0D7C  3E 00       	ld	a,+((_tile) & 0xFF)
2953  0D7E  86          	add	a, (hl)
2954  0D7F  4F          	ld	c,a
2955  0D80  3E 00       	ld	a,+((_tile) / 256)
2956  0D82  CE 00       	adc	a,0x00
2957  0D84  47          	ld	b,a
2958  0D85  DD 7E 05    	ld	a,(ix+5)
2959  0D88  C6 06       	add	a,0x06
2960  0D8A  02          	ld	(bc),a
2961  0D8B  3E 00       	ld	a,+((_state) & 0xFF)
2962  0D8D  86          	add	a, (hl)
2963  0D8E  4F          	ld	c,a
2964  0D8F  3E 00       	ld	a,+((_state) / 256)
2965  0D91  CE 00       	adc	a,0x00
2966  0D93  47          	ld	b,a
2967  0D94  0A          	ld	a,(bc)
2968  0D95  CB FF       	set	7, a
2969  0D97  02          	ld	(bc),a
2970  0D98  DD E1       	pop	ix
2971  0D9A  C9          	ret
2972  0D9B              ;	---------------------------------
2973  0D9B              ; Function enemy_walk
2974  0D9B              ; ---------------------------------
2975  0D9B              _enemy_walk:
2976  0D9B  3A 00 00    	ld	a,(_s_state)
2977  0D9E  0F          	rrca
2978  0D9F  38 49       	jr	C,l_enemy_walk_00106
2979  0DA1  3A 00 00    	ld	a,(_s_state)
2980  0DA4  E6 02       	and	a,0x02
2981  0DA6  20 42       	jr	NZ,l_enemy_walk_00106
2982  0DA8  3A 00 00    	ld	a,(_sprite)
2983  0DAB  C6 00       	add	a,+((_col) & 0xFF)
2984  0DAD  4F          	ld	c,a
2985  0DAE  3E 00       	ld	a,+((_col) / 256)
2986  0DB0  CE 00       	adc	a,0x00
2987  0DB2  47          	ld	b,a
2988  0DB3  0A          	ld	a,(bc)
2989  0DB4  57          	ld	d,a
2990  0DB5  CB 47       	bit	0,a
2991  0DB7  28 14       	jr	Z,l_enemy_walk_00102
2992  0DB9  3A 00 00    	ld	a,(_s_state)
2993  0DBC  E6 10       	and	a,0x10
2994  0DBE  20 0D       	jr	NZ,l_enemy_walk_00102
2995  0DC0  21 00 00    	ld	hl,0x0000
2996  0DC3  22 00 00    	ld	(_index_d),hl
2997  0DC6  21 00 00    	ld	hl,_tmp
2998  0DC9  36 00       	ld	(hl),0x00
2999  0DCB  18 42       	jr	l_enemy_walk_00107
3000  0DCD              l_enemy_walk_00102:
3001  0DCD  3A 00 00    	ld	a,(_sprite)
3002  0DD0  C6 00       	add	a,+((_lin) & 0xFF)
3003  0DD2  4F          	ld	c,a
3004  0DD3  3E 00       	ld	a,+((_lin) / 256)
3005  0DD5  CE 00       	adc	a,0x00
3006  0DD7  47          	ld	b,a
3007  0DD8  0A          	ld	a,(bc)
3008  0DD9  C6 10       	add	a,0x10
3009  0DDB  5F          	ld	e, a
3010  0DDC  D5          	push	de
3011  0DDD  CD 00 00    	call	_game_calc_index
3012  0DE0  F1          	pop	af
3013  0DE1  CD 00 00    	call	_game_check_maze
3014  0DE4  7D          	ld	a,l
3015  0DE5  32 00 00    	ld	(_tmp),a
3016  0DE8  18 25       	jr	l_enemy_walk_00107
3017  0DEA              l_enemy_walk_00106:
3018  0DEA  3E 00       	ld	a,+((_col) & 0xFF)
3019  0DEC  21 00 00    	ld	hl,_sprite
3020  0DEF  86          	add	a, (hl)
3021  0DF0  4F          	ld	c,a
3022  0DF1  3E 00       	ld	a,+((_col) / 256)
3023  0DF3  CE 00       	adc	a,0x00
3024  0DF5  47          	ld	b,a
3025  0DF6  0A          	ld	a,(bc)
3026  0DF7  57          	ld	d,a
3027  0DF8  4E          	ld	c,(hl)
3028  0DF9  06 00       	ld	b,0x00
3029  0DFB  21 00 00    	ld	hl,_lin
3030  0DFE  09          	add	hl,bc
3031  0DFF  7E          	ld	a,(hl)
3032  0E00  C6 10       	add	a,0x10
3033  0E02  5F          	ld	e, a
3034  0E03  D5          	push	de
3035  0E04  CD 00 00    	call	_game_calc_index
3036  0E07  F1          	pop	af
3037  0E08  CD 00 00    	call	_game_check_maze
3038  0E0B  7D          	ld	a,l
3039  0E0C  32 00 00    	ld	(_tmp),a
3040  0E0F              l_enemy_walk_00107:
3041  0E0F  3A 00 00    	ld	a,(_tmp)
3042  0E12  B7          	or	a, a
3043  0E13  CA AF 0E    	jp	Z,l_enemy_walk_00133
3044  0E16  3A 00 00    	ld	a,(_s_state)
3045  0E19  0F          	rrca
3046  0E1A  38 05       	jr	C,l_enemy_walk_00110
3047  0E1C  21 00 00    	ld	hl,_s_state
3048  0E1F  CB CE       	set	1, (hl)
3049  0E21              l_enemy_walk_00110:
3050  0E21  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3051  0E23  21 00 00    	ld	hl,_sprite
3052  0E26  86          	add	a, (hl)
3053  0E27  4F          	ld	c,a
3054  0E28  3E 00       	ld	a,+((_jump_lin) / 256)
3055  0E2A  CE 00       	adc	a,0x00
3056  0E2C  47          	ld	b,a
3057  0E2D  0A          	ld	a,(bc)
3058  0E2E  B7          	or	a, a
3059  0E2F  20 09       	jr	NZ,l_enemy_walk_00112
3060  0E31  5E          	ld	e,(hl)
3061  0E32  16 00       	ld	d,0x00
3062  0E34  21 00 00    	ld	hl,_lin
3063  0E37  19          	add	hl,de
3064  0E38  7E          	ld	a,(hl)
3065  0E39  02          	ld	(bc),a
3066  0E3A              l_enemy_walk_00112:
3067  0E3A  3A 00 00    	ld	a,(_s_state)
3068  0E3D  E6 02       	and	a,0x02
3069  0E3F  28 11       	jr	Z,l_enemy_walk_00114
3070  0E41  3A 00 00    	ld	a,(_sprite)
3071  0E44  C6 00       	add	a,+((_lin) & 0xFF)
3072  0E46  4F          	ld	c,a
3073  0E47  3E 00       	ld	a,+((_lin) / 256)
3074  0E49  CE 00       	adc	a,0x00
3075  0E4B  47          	ld	b,a
3076  0E4C  0A          	ld	a,(bc)
3077  0E4D  C6 02       	add	a,0x02
3078  0E4F  02          	ld	(bc),a
3079  0E50  18 0F       	jr	l_enemy_walk_00115
3080  0E52              l_enemy_walk_00114:
3081  0E52  3A 00 00    	ld	a,(_sprite)
3082  0E55  C6 00       	add	a,+((_lin) & 0xFF)
3083  0E57  4F          	ld	c,a
3084  0E58  3E 00       	ld	a,+((_lin) / 256)
3085  0E5A  CE 00       	adc	a,0x00
3086  0E5C  47          	ld	b,a
3087  0E5D  0A          	ld	a,(bc)
3088  0E5E  C6 FE       	add	a,0xfe
3089  0E60  02          	ld	(bc),a
3090  0E61              l_enemy_walk_00115:
3091  0E61  2A 00 00    	ld	hl,(_sprite)
3092  0E64  26 00       	ld	h,0x00
3093  0E66  01 00 00    	ld	bc,_class
3094  0E69  09          	add	hl,bc
3095  0E6A  7E          	ld	a,(hl)
3096  0E6B  D6 09       	sub	a,0x09
3097  0E6D  CA 77 0F    	jp	Z,l_enemy_walk_00135
3098  0E70  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3099  0E72  21 00 00    	ld	hl,_sprite
3100  0E75  86          	add	a, (hl)
3101  0E76  4F          	ld	c,a
3102  0E77  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3103  0E79  CE 00       	adc	a,0x00
3104  0E7B  47          	ld	b,a
3105  0E7C  3E 01       	ld	a,0x01
3106  0E7E  02          	ld	(bc),a
3107  0E7F  3E 00       	ld	a,+((_lin) & 0xFF)
3108  0E81  86          	add	a, (hl)
3109  0E82  4F          	ld	c,a
3110  0E83  3E 00       	ld	a,+((_lin) / 256)
3111  0E85  CE 00       	adc	a,0x00
3112  0E87  47          	ld	b,a
3113  0E88  0A          	ld	a,(bc)
3114  0E89  4F          	ld	c,a
3115  0E8A  06 00       	ld	b,0x00
3116  0E8C  5E          	ld	e,(hl)
3117  0E8D  50          	ld	d,b
3118  0E8E  21 00 00    	ld	hl,_jump_lin
3119  0E91  19          	add	hl,de
3120  0E92  5E          	ld	e, (hl)
3121  0E93  16 00       	ld	d,0x00
3122  0E95  79          	ld	a,c
3123  0E96  93          	sub	a, e
3124  0E97  4F          	ld	c,a
3125  0E98  78          	ld	a,b
3126  0E99  9A          	sbc	a, d
3127  0E9A  47          	ld	b,a
3128  0E9B  3E 08       	ld	a,0x08
3129  0E9D  B9          	cp	a, c
3130  0E9E  3E 00       	ld	a,0x00
3131  0EA0  98          	sbc	a, b
3132  0EA1  E2 A6 0E    	jp	PO, l_enemy_walk_00212
3133  0EA4  EE 80       	xor	a,0x80
3134  0EA6              l_enemy_walk_00212:
3135  0EA6  FA 77 0F    	jp	M,l_enemy_walk_00135
3136  0EA9  CD 00 00    	call	_spr_move_horizontal
3137  0EAC  C3 77 0F    	jp	l_enemy_walk_00135
3138  0EAF              l_enemy_walk_00133:
3139  0EAF  3A 00 00    	ld	a,(_s_state)
3140  0EB2  E6 02       	and	a,0x02
3141  0EB4  28 1E       	jr	Z,l_enemy_walk_00121
3142  0EB6  21 00 00    	ld	hl,_s_state
3143  0EB9  CB 8E       	res	1, (hl)
3144  0EBB  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3145  0EBD  21 00 00    	ld	hl,_sprite
3146  0EC0  86          	add	a, (hl)
3147  0EC1  4F          	ld	c,a
3148  0EC2  3E 00       	ld	a,+((_jump_lin) / 256)
3149  0EC4  CE 00       	adc	a,0x00
3150  0EC6  47          	ld	b,a
3151  0EC7  AF          	xor	a, a
3152  0EC8  02          	ld	(bc),a
3153  0EC9  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3154  0ECB  86          	add	a, (hl)
3155  0ECC  4F          	ld	c,a
3156  0ECD  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3157  0ECF  CE 00       	adc	a,0x00
3158  0ED1  47          	ld	b,a
3159  0ED2  AF          	xor	a, a
3160  0ED3  02          	ld	(bc),a
3161  0ED4              l_enemy_walk_00121:
3162  0ED4  3A 00 00    	ld	a,(_s_state)
3163  0ED7  E6 10       	and	a,0x10
3164  0ED9  20 41       	jr	NZ,l_enemy_walk_00125
3165  0EDB  3A 00 00    	ld	a,(_sprite)
3166  0EDE  C6 00       	add	a,+((_state_a) & 0xFF)
3167  0EE0  4F          	ld	c,a
3168  0EE1  3E 00       	ld	a,+((_state_a) / 256)
3169  0EE3  CE 00       	adc	a,0x00
3170  0EE5  47          	ld	b,a
3171  0EE6  0A          	ld	a,(bc)
3172  0EE7  CB 4F       	bit	1, a
3173  0EE9  20 31       	jr	NZ,l_enemy_walk_00125
3174  0EEB  01 00 00    	ld	bc,_spr_timer_c+0
3175  0EEE  2A 00 00    	ld	hl,(_sprite)
3176  0EF1  26 00       	ld	h,0x00
3177  0EF3  29          	add	hl, hl
3178  0EF4  09          	add	hl,bc
3179  0EF5  5E          	ld	e,(hl)
3180  0EF6  23          	inc	hl
3181  0EF7  56          	ld	d,(hl)
3182  0EF8  C5          	push	bc
3183  0EF9  21 05 00    	ld	hl,0x0005
3184  0EFC  E5          	push	hl
3185  0EFD  D5          	push	de
3186  0EFE  CD 00 00    	call	_game_check_time
3187  0F01  F1          	pop	af
3188  0F02  F1          	pop	af
3189  0F03  C1          	pop	bc
3190  0F04  7D          	ld	a,l
3191  0F05  B7          	or	a, a
3192  0F06  28 11       	jr	Z,l_enemy_walk_00123
3193  0F08  2A 00 00    	ld	hl,(_sprite)
3194  0F0B  26 00       	ld	h,0x00
3195  0F0D  29          	add	hl, hl
3196  0F0E  09          	add	hl,bc
3197  0F0F  ED 5B 00 00 	ld	de,(_curr_time)
3198  0F13  73          	ld	(hl),e
3199  0F14  23          	inc	hl
3200  0F15  72          	ld	(hl),d
3201  0F16  CD 54 00    	call	_enemy_collition
3202  0F19              l_enemy_walk_00123:
3203  0F19  CD 00 00    	call	_spr_move_horizontal
3204  0F1C              l_enemy_walk_00125:
3205  0F1C  3A 00 00    	ld	a,(_sprite)
3206  0F1F  C6 00       	add	a,+((_state_a) & 0xFF)
3207  0F21  4F          	ld	c,a
3208  0F22  3E 00       	ld	a,+((_state_a) / 256)
3209  0F24  CE 00       	adc	a,0x00
3210  0F26  47          	ld	b,a
3211  0F27  0A          	ld	a,(bc)
3212  0F28  CB 4F       	bit	1, a
3213  0F2A  28 4B       	jr	Z,l_enemy_walk_00135
3214  0F2C  01 00 00    	ld	bc,_spr_timer+0
3215  0F2F  2A 00 00    	ld	hl,(_sprite)
3216  0F32  26 00       	ld	h,0x00
3217  0F34  29          	add	hl, hl
3218  0F35  09          	add	hl,bc
3219  0F36  ED 5B 00 00 	ld	de,(_curr_time)
3220  0F3A  73          	ld	(hl),e
3221  0F3B  23          	inc	hl
3222  0F3C  72          	ld	(hl),d
3223  0F3D  3A 00 00    	ld	a,(_sprite)
3224  0F40  C6 00       	add	a,+((_colint) & 0xFF)
3225  0F42  4F          	ld	c,a
3226  0F43  3E 00       	ld	a,+((_colint) / 256)
3227  0F45  CE 00       	adc	a,0x00
3228  0F47  47          	ld	b,a
3229  0F48  0A          	ld	a,(bc)
3230  0F49  5F          	ld	e,a
3231  0F4A  D6 02       	sub	a,0x02
3232  0F4C  30 05       	jr	NC,l_enemy_walk_00128
3233  0F4E  1C          	inc	e
3234  0F4F  7B          	ld	a,e
3235  0F50  02          	ld	(bc),a
3236  0F51  18 24       	jr	l_enemy_walk_00135
3237  0F53              l_enemy_walk_00128:
3238  0F53  2A 00 00    	ld	hl,(_sprite)
3239  0F56  26 00       	ld	h,0x00
3240  0F58  01 00 00    	ld	bc,_state_a
3241  0F5B  09          	add	hl,bc
3242  0F5C  7E          	ld	a,(hl)
3243  0F5D  E6 FD       	and	a,0xfd
3244  0F5F  77          	ld	(hl),a
3245  0F60  3E 00       	ld	a,+((_tile) & 0xFF)
3246  0F62  21 00 00    	ld	hl,_sprite
3247  0F65  86          	add	a, (hl)
3248  0F66  4F          	ld	c,a
3249  0F67  3E 00       	ld	a,+((_tile) / 256)
3250  0F69  CE 00       	adc	a,0x00
3251  0F6B  47          	ld	b,a
3252  0F6C  7E          	ld	a,(hl)
3253  0F6D  C5          	push	bc
3254  0F6E  F5          	push	af
3255  0F6F  33          	inc	sp
3256  0F70  CD 00 00    	call	_spr_tile
3257  0F73  33          	inc	sp
3258  0F74  C1          	pop	bc
3259  0F75  7D          	ld	a, l
3260  0F76  02          	ld	(bc),a
3261  0F77              l_enemy_walk_00135:
3262  0F77  C9          	ret
3263  0F78              ;	---------------------------------
3264  0F78              ; Function enemy_init
3265  0F78              ; ---------------------------------
3266  0F78              _enemy_init:
3267  0F78  CD 00 00    	call	___sdcc_enter_ix
3268  0F7B  21 00 00    	ld	hl,_spr_count
3269  0F7E  34          	inc	(hl)
3270  0F7F  3E 00       	ld	a,+((_class) & 0xFF)
3271  0F81  DD 86 04    	add	a,(ix+4)
3272  0F84  4F          	ld	c,a
3273  0F85  3E 00       	ld	a,+((_class) / 256)
3274  0F87  CE 00       	adc	a,0x00
3275  0F89  47          	ld	b,a
3276  0F8A  DD 7E 07    	ld	a,(ix+7)
3277  0F8D  02          	ld	(bc),a
3278  0F8E  3E 00       	ld	a,+((_lin) & 0xFF)
3279  0F90  DD 86 04    	add	a,(ix+4)
3280  0F93  4F          	ld	c,a
3281  0F94  3E 00       	ld	a,+((_lin) / 256)
3282  0F96  CE 00       	adc	a,0x00
3283  0F98  47          	ld	b,a
3284  0F99  DD 7E 05    	ld	a,(ix+5)
3285  0F9C  02          	ld	(bc),a
3286  0F9D  3E 00       	ld	a,+((_col) & 0xFF)
3287  0F9F  DD 86 04    	add	a,(ix+4)
3288  0FA2  4F          	ld	c,a
3289  0FA3  3E 00       	ld	a,+((_col) / 256)
3290  0FA5  CE 00       	adc	a,0x00
3291  0FA7  47          	ld	b,a
3292  0FA8  DD 7E 06    	ld	a,(ix+6)
3293  0FAB  02          	ld	(bc),a
3294  0FAC  21 00 00    	ld	hl,_tmp
3295  0FAF  36 00       	ld	(hl),0x00
3296  0FB1  3E 00       	ld	a,+((_state) & 0xFF)
3297  0FB3  DD 86 04    	add	a,(ix+4)
3298  0FB6  4F          	ld	c,a
3299  0FB7  3E 00       	ld	a,+((_state) / 256)
3300  0FB9  CE 00       	adc	a,0x00
3301  0FBB  47          	ld	b,a
3302  0FBC  AF          	xor	a, a
3303  0FBD  02          	ld	(bc),a
3304  0FBE  3E 00       	ld	a,+((_state_a) & 0xFF)
3305  0FC0  DD 86 04    	add	a,(ix+4)
3306  0FC3  5F          	ld	e,a
3307  0FC4  3E 00       	ld	a,+((_state_a) / 256)
3308  0FC6  CE 00       	adc	a,0x00
3309  0FC8  57          	ld	d,a
3310  0FC9  AF          	xor	a, a
3311  0FCA  12          	ld	(de),a
3312  0FCB  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3313  0FCD  DD 86 04    	add	a,(ix+4)
3314  0FD0  5F          	ld	e,a
3315  0FD1  3E 00       	ld	a,+((_jump_lin) / 256)
3316  0FD3  CE 00       	adc	a,0x00
3317  0FD5  57          	ld	d,a
3318  0FD6  AF          	xor	a, a
3319  0FD7  12          	ld	(de),a
3320  0FD8  0A          	ld	a,(bc)
3321  0FD9  5F          	ld	e,a
3322  0FDA  DD 7E 08    	ld	a,(ix+8)
3323  0FDD  3D          	dec	a
3324  0FDE  20 06       	jr	NZ,l_enemy_init_00102
3325  0FE0  7B          	ld	a,e
3326  0FE1  CB D7       	set	2, a
3327  0FE3  02          	ld	(bc),a
3328  0FE4  18 04       	jr	l_enemy_init_00103
3329  0FE6              l_enemy_init_00102:
3330  0FE6  7B          	ld	a,e
3331  0FE7  CB DF       	set	3, a
3332  0FE9  02          	ld	(bc),a
3333  0FEA              l_enemy_init_00103:
3334  0FEA  0A          	ld	a,(bc)
3335  0FEB  CB CF       	set	1, a
3336  0FED  02          	ld	(bc),a
3337  0FEE  3E 00       	ld	a,+((_colint) & 0xFF)
3338  0FF0  DD 86 04    	add	a,(ix+4)
3339  0FF3  4F          	ld	c,a
3340  0FF4  3E 00       	ld	a,+((_colint) / 256)
3341  0FF6  CE 00       	adc	a,0x00
3342  0FF8  47          	ld	b,a
3343  0FF9  AF          	xor	a, a
3344  0FFA  02          	ld	(bc),a
3345  0FFB  3E 00       	ld	a,+((_tile) & 0xFF)
3346  0FFD  DD 86 04    	add	a,(ix+4)
3347  1000  4F          	ld	c,a
3348  1001  3E 00       	ld	a,+((_tile) / 256)
3349  1003  CE 00       	adc	a,0x00
3350  1005  47          	ld	b,a
3351  1006  C5          	push	bc
3352  1007  DD 7E 04    	ld	a,(ix+4)
3353  100A  F5          	push	af
3354  100B  33          	inc	sp
3355  100C  CD 00 00    	call	_spr_tile
3356  100F  33          	inc	sp
3357  1010  C1          	pop	bc
3358  1011  7D          	ld	a, l
3359  1012  02          	ld	(bc),a
3360  1013  DD 4E 04    	ld	c,(ix+4)
3361  1016  06 00       	ld	b,0x00
3362  1018  CB 21       	sla	c
3363  101A  CB 10       	rl	b
3364  101C  21 00 00    	ld	hl,_last_time
3365  101F  09          	add	hl,bc
3366  1020  AF          	xor	a, a
3367  1021  77          	ld	(hl), a
3368  1022  23          	inc	hl
3369  1023  77          	ld	(hl), a
3370  1024  21 00 00    	ld	hl,_spr_timer
3371  1027  09          	add	hl,bc
3372  1028  ED 5B 00 00 	ld	de,(_curr_time)
3373  102C  73          	ld	(hl),e
3374  102D  23          	inc	hl
3375  102E  72          	ld	(hl),d
3376  102F  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3377  1031  DD 86 04    	add	a,(ix+4)
3378  1034  4F          	ld	c,a
3379  1035  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3380  1037  CE 00       	adc	a,0x00
3381  1039  47          	ld	b,a
3382  103A  AF          	xor	a, a
3383  103B  02          	ld	(bc),a
3384  103C  DD E1       	pop	ix
3385  103E  C9          	ret
3386  103F              ;	---------------------------------
3387  103F              ; Function enemy_kill
3388  103F              ; ---------------------------------
3389  103F              _enemy_kill:
3390  103F  CD 00 00    	call	___sdcc_enter_ix
3391  1042  F5          	push	af
3392  1043  76          	halt
3393  1044  CD 00 00    	call	_sound_kill
3394  1047  01 00 00    	ld	bc,_state+0
3395  104A  2A 00 00    	ld	hl,(_sprite)
3396  104D  26 00       	ld	h,0x00
3397  104F  09          	add	hl,bc
3398  1050  6E          	ld	l, (hl)
3399  1051  79          	ld	a,c
3400  1052  EB          	ex	de,hl
3401  1053  DD 86 04    	add	a,(ix+4)
3402  1056  4F          	ld	c,a
3403  1057  78          	ld	a,b
3404  1058  CE 00       	adc	a,0x00
3405  105A  47          	ld	b,a
3406  105B  0A          	ld	a,(bc)
3407  105C  CB 5B       	bit	3, e
3408  105E  28 07       	jr	Z,l_enemy_kill_00102
3409  1060  CB DF       	set	3, a
3410  1062  E6 FB       	and	a,0xfb
3411  1064  02          	ld	(bc),a
3412  1065  18 05       	jr	l_enemy_kill_00103
3413  1067              l_enemy_kill_00102:
3414  1067  CB D7       	set	2, a
3415  1069  E6 F7       	and	a,0xf7
3416  106B  02          	ld	(bc),a
3417  106C              l_enemy_kill_00103:
3418  106C  0A          	ld	a,(bc)
3419  106D  E6 FD       	and	a,0xfd
3420  106F  CB C7       	set	0,a
3421  1071  CB EF       	set	5,a
3422  1073  02          	ld	(bc),a
3423  1074  3E 00       	ld	a,+((_class) & 0xFF)
3424  1076  DD 86 04    	add	a,(ix+4)
3425  1079  DD 77 FE    	ld	(ix-2),a
3426  107C  3E 00       	ld	a,+((_class) / 256)
3427  107E  CE 00       	adc	a,0x00
3428  1080  DD 77 FF    	ld	(ix-1),a
3429  1083  E1          	pop	hl
3430  1084  7E          	ld	a,(hl)
3431  1085  E5          	push	hl
3432  1086  D6 09       	sub	a,0x09
3433  1088  20 04       	jr	NZ,l_enemy_kill_00105
3434  108A  E1          	pop	hl
3435  108B  E5          	push	hl
3436  108C  36 01       	ld	(hl),0x01
3437  108E              l_enemy_kill_00105:
3438  108E  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3439  1090  DD 86 04    	add	a,(ix+4)
3440  1093  4F          	ld	c,a
3441  1094  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3442  1096  CE 00       	adc	a,0x00
3443  1098  47          	ld	b,a
3444  1099  3E 08       	ld	a,0x08
3445  109B  02          	ld	(bc),a
3446  109C  21 00 00    	ld	hl,_hit_count
3447  109F  46          	ld	b,(hl)
3448  10A0  11 50 00    	ld	de,0x0050
3449  10A3  04          	inc	b
3450  10A4  18 04       	jr	l_enemy_kill_00145
3451  10A6              l_enemy_kill_00144:
3452  10A6  CB 23       	sla	e
3453  10A8  CB 12       	rl	d
3454  10AA              l_enemy_kill_00145:
3455  10AA  10 FA       	djnz	l_enemy_kill_00144
3456  10AC  D5          	push	de
3457  10AD  CD 00 00    	call	_player_score_add
3458  10B0  F1          	pop	af
3459  10B1  21 00 00    	ld	hl,_hit_count
3460  10B4  34          	inc	(hl)
3461  10B5  01 00 00    	ld	bc,_spr_timer+0
3462  10B8  DD 6E 04    	ld	l,(ix+4)
3463  10BB  26 00       	ld	h,0x00
3464  10BD  29          	add	hl, hl
3465  10BE  09          	add	hl,bc
3466  10BF  ED 5B 00 00 	ld	de,(_curr_time)
3467  10C3  73          	ld	(hl),e
3468  10C4  23          	inc	hl
3469  10C5  72          	ld	(hl),d
3470  10C6  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3471  10C8  DD 86 04    	add	a,(ix+4)
3472  10CB  4F          	ld	c,a
3473  10CC  3E 00       	ld	a,+((_jump_lin) / 256)
3474  10CE  CE 00       	adc	a,0x00
3475  10D0  47          	ld	b,a
3476  10D1  3E 00       	ld	a,+((_lin) & 0xFF)
3477  10D3  DD 86 04    	add	a,(ix+4)
3478  10D6  5F          	ld	e,a
3479  10D7  3E 00       	ld	a,+((_lin) / 256)
3480  10D9  CE 00       	adc	a,0x00
3481  10DB  E1          	pop	hl
3482  10DC  57          	ld	d,a
3483  10DD  1A          	ld	a,(de)
3484  10DE  02          	ld	(bc),a
3485  10DF  4E          	ld	c,(hl)
3486  10E0  E5          	push	hl
3487  10E1  3E 09       	ld	a,0x09
3488  10E3  91          	sub	a, c
3489  10E4  38 0F       	jr	C,l_enemy_kill_00109
3490  10E6  3A 00 00    	ld	a,(_game_type)
3491  10E9  D6 02       	sub	a,0x02
3492  10EB  28 04       	jr	Z,l_enemy_kill_00107
3493  10ED  21 00 00    	ld	hl,_phase_left
3494  10F0  35          	dec	(hl)
3495  10F1              l_enemy_kill_00107:
3496  10F1  21 00 00    	ld	hl,_phase_coins
3497  10F4  34          	inc	(hl)
3498  10F5              l_enemy_kill_00109:
3499  10F5  3A 00 00    	ld	a,(_phase_left)
3500  10F8  B7          	or	a, a
3501  10F9  28 08       	jr	Z,l_enemy_kill_00113
3502  10FB  21 00 00    	ld	hl,_ay_effect_11
3503  10FE  CD 00 00    	call	_ay_fx_play
3504  1101  18 0F       	jr	l_enemy_kill_00115
3505  1103              l_enemy_kill_00113:
3506  1103  CD 00 00    	call	_ay_reset
3507  1106  3A 00 00    	ld	a,(_game_bonus)
3508  1109  B7          	or	a, a
3509  110A  20 06       	jr	NZ,l_enemy_kill_00115
3510  110C  21 00 00    	ld	hl,_ay_effect_17
3511  110F  CD 00 00    	call	_ay_fx_play
3512  1112              l_enemy_kill_00115:
3513  1112  F1          	pop	af
3514  1113  DD E1       	pop	ix
3515  1115  C9          	ret
3516  1116              	SECTION IGNORE
3517  0000              
