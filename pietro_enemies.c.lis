1     0000              MODULE pietro_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9879 (MSVC)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _enemy_coin2
183   0000              	GLOBAL _enemy_coin1
184   0000              	GLOBAL _enemy_collition
185   0000              	GLOBAL _enemy_collition_check
186   0000              	GLOBAL _enemy_hit
187   0000              	GLOBAL _enemy_flip_change_dir
188   0000              	GLOBAL _enemy_flip
189   0000              	GLOBAL _enemy_flip_sidestepper
190   0000              	GLOBAL _enemy_turn
191   0000              	GLOBAL _enemy_standard
192   0000              	GLOBAL _enemy_slipice
193   0000              	GLOBAL _enemy_fireball_red
194   0000              	GLOBAL _enemy_fireball_green
195   0000              	GLOBAL _enemy_fighterfly
196   0000              	GLOBAL _enemy_trip
197   0000              	GLOBAL _enemy_standard_hit
198   0000              	GLOBAL _enemy_evolve
199   0000              	GLOBAL _enemy_upgrade
200   0000              	GLOBAL _enemy_walk
201   0000              	GLOBAL _enemy_init
202   0000              	GLOBAL _enemy_kill
203   0000              ;--------------------------------------------------------
204   0000              ; Externals used
205   0000              ;--------------------------------------------------------
206   0000              	GLOBAL _debug3
207   0000              	GLOBAL _debug2
208   0000              	GLOBAL _debug
209   0000              	GLOBAL _zx_print_str
210   0000              	GLOBAL _zx_print_int
211   0000              	GLOBAL _zx_print_chr
212   0000              	GLOBAL _zx_print_bonus_time
213   0000              	GLOBAL _zx_isr
214   0000              	GLOBAL _z80_otdr_callee
215   0000              	GLOBAL _z80_otdr
216   0000              	GLOBAL _z80_otir_callee
217   0000              	GLOBAL _z80_otir
218   0000              	GLOBAL _z80_outp_callee
219   0000              	GLOBAL _z80_outp
220   0000              	GLOBAL _z80_indr_callee
221   0000              	GLOBAL _z80_indr
222   0000              	GLOBAL _z80_inir_callee
223   0000              	GLOBAL _z80_inir
224   0000              	GLOBAL _z80_inp_fastcall
225   0000              	GLOBAL _z80_inp
226   0000              	GLOBAL _z80_set_int_state_fastcall
227   0000              	GLOBAL _z80_set_int_state
228   0000              	GLOBAL _z80_get_int_state
229   0000              	GLOBAL _z80_delay_tstate_fastcall
230   0000              	GLOBAL _z80_delay_tstate
231   0000              	GLOBAL _z80_delay_ms_fastcall
232   0000              	GLOBAL _z80_delay_ms
233   0000              	GLOBAL _im2_remove_generic_callback_callee
234   0000              	GLOBAL _im2_remove_generic_callback
235   0000              	GLOBAL _im2_prepend_generic_callback_callee
236   0000              	GLOBAL _im2_prepend_generic_callback
237   0000              	GLOBAL _im2_append_generic_callback_callee
238   0000              	GLOBAL _im2_append_generic_callback
239   0000              	GLOBAL _im2_create_generic_isr_8080_callee
240   0000              	GLOBAL _im2_create_generic_isr_8080
241   0000              	GLOBAL _im2_create_generic_isr_callee
242   0000              	GLOBAL _im2_create_generic_isr
243   0000              	GLOBAL _im2_install_isr_callee
244   0000              	GLOBAL _im2_install_isr
245   0000              	GLOBAL _im2_init_fastcall
246   0000              	GLOBAL _im2_init
247   0000              	GLOBAL _zx_pattern_fill_callee
248   0000              	GLOBAL _zx_pattern_fill
249   0000              	GLOBAL _zx_saddrpup_fastcall
250   0000              	GLOBAL _zx_saddrpup
251   0000              	GLOBAL _zx_saddrpright_callee
252   0000              	GLOBAL _zx_saddrpright
253   0000              	GLOBAL _zx_saddrpleft_callee
254   0000              	GLOBAL _zx_saddrpleft
255   0000              	GLOBAL _zx_saddrpdown_fastcall
256   0000              	GLOBAL _zx_saddrpdown
257   0000              	GLOBAL _zx_saddrcup_fastcall
258   0000              	GLOBAL _zx_saddrcup
259   0000              	GLOBAL _zx_saddrcright_fastcall
260   0000              	GLOBAL _zx_saddrcright
261   0000              	GLOBAL _zx_saddrcleft_fastcall
262   0000              	GLOBAL _zx_saddrcleft
263   0000              	GLOBAL _zx_saddrcdown_fastcall
264   0000              	GLOBAL _zx_saddrcdown
265   0000              	GLOBAL _zx_saddr2py_fastcall
266   0000              	GLOBAL _zx_saddr2py
267   0000              	GLOBAL _zx_saddr2px_fastcall
268   0000              	GLOBAL _zx_saddr2px
269   0000              	GLOBAL _zx_saddr2cy_fastcall
270   0000              	GLOBAL _zx_saddr2cy
271   0000              	GLOBAL _zx_saddr2cx_fastcall
272   0000              	GLOBAL _zx_saddr2cx
273   0000              	GLOBAL _zx_saddr2aaddr_fastcall
274   0000              	GLOBAL _zx_saddr2aaddr
275   0000              	GLOBAL _zx_py2saddr_fastcall
276   0000              	GLOBAL _zx_py2saddr
277   0000              	GLOBAL _zx_py2aaddr_fastcall
278   0000              	GLOBAL _zx_py2aaddr
279   0000              	GLOBAL _zx_pxy2saddr_callee
280   0000              	GLOBAL _zx_pxy2saddr
281   0000              	GLOBAL _zx_pxy2aaddr_callee
282   0000              	GLOBAL _zx_pxy2aaddr
283   0000              	GLOBAL _zx_px2bitmask_fastcall
284   0000              	GLOBAL _zx_px2bitmask
285   0000              	GLOBAL _zx_cyx2saddr_callee
286   0000              	GLOBAL _zx_cyx2saddr
287   0000              	GLOBAL _zx_cyx2aaddr_callee
288   0000              	GLOBAL _zx_cyx2aaddr
289   0000              	GLOBAL _zx_cy2saddr_fastcall
290   0000              	GLOBAL _zx_cy2saddr
291   0000              	GLOBAL _zx_cy2aaddr_fastcall
292   0000              	GLOBAL _zx_cy2aaddr
293   0000              	GLOBAL _zx_bitmask2px_fastcall
294   0000              	GLOBAL _zx_bitmask2px
295   0000              	GLOBAL _zx_aaddrcup_fastcall
296   0000              	GLOBAL _zx_aaddrcup
297   0000              	GLOBAL _zx_aaddrcright_fastcall
298   0000              	GLOBAL _zx_aaddrcright
299   0000              	GLOBAL _zx_aaddrcleft_fastcall
300   0000              	GLOBAL _zx_aaddrcleft
301   0000              	GLOBAL _zx_aaddrcdown_fastcall
302   0000              	GLOBAL _zx_aaddrcdown
303   0000              	GLOBAL _zx_aaddr2saddr_fastcall
304   0000              	GLOBAL _zx_aaddr2saddr
305   0000              	GLOBAL _zx_aaddr2py_fastcall
306   0000              	GLOBAL _zx_aaddr2py
307   0000              	GLOBAL _zx_aaddr2px_fastcall
308   0000              	GLOBAL _zx_aaddr2px
309   0000              	GLOBAL _zx_aaddr2cy_fastcall
310   0000              	GLOBAL _zx_aaddr2cy
311   0000              	GLOBAL _zx_aaddr2cx_fastcall
312   0000              	GLOBAL _zx_aaddr2cx
313   0000              	GLOBAL _zx_scroll_wc_up_callee
314   0000              	GLOBAL _zx_scroll_wc_up
315   0000              	GLOBAL _zx_scroll_up_callee
316   0000              	GLOBAL _zx_scroll_up
317   0000              	GLOBAL _zx_cls_wc_callee
318   0000              	GLOBAL _zx_cls_wc
319   0000              	GLOBAL _zx_cls_fastcall
320   0000              	GLOBAL _zx_cls
321   0000              	GLOBAL _zx_border_fastcall
322   0000              	GLOBAL _zx_border
323   0000              	GLOBAL _sound_hit_pow
324   0000              	GLOBAL _sound_hit_brick
325   0000              	GLOBAL _sound_hit_enemy
326   0000              	GLOBAL _sound_kill
327   0000              	GLOBAL _sound_enter_enemy
328   0000              	GLOBAL _sound_coin
329   0000              	GLOBAL _sound_jump
330   0000              	GLOBAL _sound_slide
331   0000              	GLOBAL _spr_draw_clear
332   0000              	GLOBAL _spr_water_splash_draw
333   0000              	GLOBAL _spr_water_splash_clear
334   0000              	GLOBAL _spr_draw_back
335   0000              	GLOBAL _spr_cortina_pipes
336   0000              	GLOBAL _spr_cortina_brick
337   0000              	GLOBAL _spr_brick_anim
338   0000              	GLOBAL _spr_back_fix4
339   0000              	GLOBAL _spr_back_fix3
340   0000              	GLOBAL _spr_back_fix2
341   0000              	GLOBAL _spr_back_fix1
342   0000              	GLOBAL _spr_back_fix
343   0000              	GLOBAL _spr_back_clr
344   0000              	GLOBAL _spr_draw_pow
345   0000              	GLOBAL _spr_tile
346   0000              	GLOBAL _spr_set_fall
347   0000              	GLOBAL _spr_destroy
348   0000              	GLOBAL _spr_check_over
349   0000              	GLOBAL _spr_tile_dir
350   0000              	GLOBAL _spr_anim_kill
351   0000              	GLOBAL _spr_anim_fall
352   0000              	GLOBAL _spr_killed
353   0000              	GLOBAL _spr_redraw
354   0000              	GLOBAL _spr_move_left
355   0000              	GLOBAL _spr_move_right
356   0000              	GLOBAL _spr_move_horizontal
357   0000              	GLOBAL _spr_move_down
358   0000              	GLOBAL _spr_move_up
359   0000              	GLOBAL _spr_chktime
360   0000              	GLOBAL _player_move_horizontal
361   0000              	GLOBAL _player_push_check
362   0000              	GLOBAL _player_push
363   0000              	GLOBAL _player_hit_brick_clear
364   0000              	GLOBAL _player_lost_life
365   0000              	GLOBAL _player_score_add
366   0000              	GLOBAL _player_coin
367   0000              	GLOBAL _player_hit_pow
368   0000              	GLOBAL _player_hit_brick
369   0000              	GLOBAL _player_move_input
370   0000              	GLOBAL _player_turn
371   0000              	GLOBAL _player_move
372   0000              	GLOBAL _player_restart
373   0000              	GLOBAL _player_kill
374   0000              	GLOBAL _player_check_input
375   0000              	GLOBAL _player_collition_check
376   0000              	GLOBAL _player_collition
377   0000              	GLOBAL _player_calc_slide
378   0000              	GLOBAL _player_init
379   0000              	GLOBAL _game_joystick_set_menu
380   0000              	GLOBAL _game_joystick_set
381   0000              	GLOBAL _game_joystick_change
382   0000              	GLOBAL _game_hall_print_p
383   0000              	GLOBAL _game_hall_edit_p
384   0000              	GLOBAL _game_hall_check
385   0000              	GLOBAL _game_hall_enter_phs
386   0000              	GLOBAL _game_print_header
387   0000              	GLOBAL _game_end
388   0000              	GLOBAL _game_hall_enter
389   0000              	GLOBAL _game_hall_of_fame
390   0000              	GLOBAL _game_score_osd
391   0000              	GLOBAL _game_phase_print_score_back
392   0000              	GLOBAL _game_bonus_clock
393   0000              	GLOBAL _game_bonus_summary_player
394   0000              	GLOBAL _game_bonus_summary
395   0000              	GLOBAL _game_check_time
396   0000              	GLOBAL _game_menu_config
397   0000              	GLOBAL _game_menu
398   0000              	GLOBAL _game_rotate_attrib
399   0000              	GLOBAL _game_colour_message
400   0000              	GLOBAL _game_paint_attrib_lin_h
401   0000              	GLOBAL _game_paint_attrib_lin
402   0000              	GLOBAL _game_paint_attrib
403   0000              	GLOBAL _game_menu_paint
404   0000              	GLOBAL _game_menu_top_paint
405   0000              	GLOBAL _game_menu_handle
406   0000              	GLOBAL _game_menu_e
407   0000              	GLOBAL _game_menu_back
408   0000              	GLOBAL _game_print_score
409   0000              	GLOBAL _game_unfreeze_all
410   0000              	GLOBAL _game_freeze_all
411   0000              	GLOBAL _game_freeze
412   0000              	GLOBAL _game_enemy_add_get_index
413   0000              	GLOBAL _game_enemy_add1
414   0000              	GLOBAL _game_enemy_quota
415   0000              	GLOBAL _game_enemy_rnd
416   0000              	GLOBAL _game_enemy_add
417   0000              	GLOBAL _game_check_maze
418   0000              	GLOBAL _game_kill_all_sprites
419   0000              	GLOBAL _game_loop
420   0000              	GLOBAL _player_set2
421   0000              	GLOBAL _player_set1
422   0000              	GLOBAL _game_phase_print
423   0000              	GLOBAL _game_phase_init
424   0000              	GLOBAL _game_phase_calc
425   0000              	GLOBAL _game_start_timer
426   0000              	GLOBAL _game_tick
427   0000              	GLOBAL _game_print_lives
428   0000              	GLOBAL _game_print_footer
429   0000              	GLOBAL _game_calc_index
430   0000              	GLOBAL _game_fill_row
431   0000              	GLOBAL _ay_fx_play
432   0000              	GLOBAL _ay_midi_play
433   0000              	GLOBAL _ay_is_playing
434   0000              	GLOBAL _ay_reset
435   0000              	GLOBAL _test_func
436   0000              	GLOBAL _in_mouse_kempston_wheel_delta
437   0000              	GLOBAL _in_mouse_kempston_wheel
438   0000              	GLOBAL _in_mouse_kempston_callee
439   0000              	GLOBAL _in_mouse_kempston
440   0000              	GLOBAL _in_mouse_kempston_setpos_callee
441   0000              	GLOBAL _in_mouse_kempston_setpos
442   0000              	GLOBAL _in_mouse_kempston_reset
443   0000              	GLOBAL _in_mouse_kempston_init
444   0000              	GLOBAL _in_mouse_amx_wheel_delta
445   0000              	GLOBAL _in_mouse_amx_wheel
446   0000              	GLOBAL _in_mouse_amx_callee
447   0000              	GLOBAL _in_mouse_amx
448   0000              	GLOBAL _in_mouse_amx_setpos_callee
449   0000              	GLOBAL _in_mouse_amx_setpos
450   0000              	GLOBAL _in_mouse_amx_reset
451   0000              	GLOBAL _in_mouse_amx_init_callee
452   0000              	GLOBAL _in_mouse_amx_init
453   0000              	GLOBAL _in_stick_sinclair2
454   0000              	GLOBAL _in_stick_sinclair1
455   0000              	GLOBAL _in_stick_kempston
456   0000              	GLOBAL _in_stick_fuller
457   0000              	GLOBAL _in_stick_cursor
458   0000              	GLOBAL _in_stick_keyboard_fastcall
459   0000              	GLOBAL _in_stick_keyboard
460   0000              	GLOBAL _in_wait_nokey
461   0000              	GLOBAL _in_wait_key
462   0000              	GLOBAL _in_test_key
463   0000              	GLOBAL _in_pause_fastcall
464   0000              	GLOBAL _in_pause
465   0000              	GLOBAL _in_key_scancode_fastcall
466   0000              	GLOBAL _in_key_scancode
467   0000              	GLOBAL _in_key_pressed_fastcall
468   0000              	GLOBAL _in_key_pressed
469   0000              	GLOBAL _in_inkey
470   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
471   0000              	GLOBAL _NIRVANAP_drawTW_raw
472   0000              	GLOBAL _NIRVANAP_drawTW_callee
473   0000              	GLOBAL _NIRVANAP_drawTW
474   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
475   0000              	GLOBAL _NIRVANAP_drawW_raw
476   0000              	GLOBAL _NIRVANAP_drawW_callee
477   0000              	GLOBAL _NIRVANAP_drawW
478   0000              	GLOBAL _NIRVANAP_spriteT_callee
479   0000              	GLOBAL _NIRVANAP_spriteT
480   0000              	GLOBAL _NIRVANAP_fillC_callee
481   0000              	GLOBAL _NIRVANAP_fillC
482   0000              	GLOBAL _NIRVANAP_readC_callee
483   0000              	GLOBAL _NIRVANAP_readC
484   0000              	GLOBAL _NIRVANAP_paintC_callee
485   0000              	GLOBAL _NIRVANAP_paintC
486   0000              	GLOBAL _NIRVANAP_printC_callee
487   0000              	GLOBAL _NIRVANAP_printC
488   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
489   0000              	GLOBAL _NIRVANAP_fillT_raw
490   0000              	GLOBAL _NIRVANAP_fillT_callee
491   0000              	GLOBAL _NIRVANAP_fillT
492   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
493   0000              	GLOBAL _NIRVANAP_drawT_raw
494   0000              	GLOBAL _NIRVANAP_drawT_callee
495   0000              	GLOBAL _NIRVANAP_drawT
496   0000              	GLOBAL _NIRVANAP_stop
497   0000              	GLOBAL _NIRVANAP_start
498   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
499   0000              	GLOBAL _intrinsic_swap_word_32
500   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
501   0000              	GLOBAL _intrinsic_swap_endian_32
502   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
503   0000              	GLOBAL _intrinsic_swap_endian_16
504   0000              	GLOBAL _intrinsic_return_de
505   0000              	GLOBAL _intrinsic_return_bc
506   0000              	GLOBAL _intrinsic_exx
507   0000              	GLOBAL _intrinsic_ex_de_hl
508   0000              	GLOBAL _intrinsic_nop
509   0000              	GLOBAL _intrinsic_im_2
510   0000              	GLOBAL _intrinsic_im_1
511   0000              	GLOBAL _intrinsic_im_0
512   0000              	GLOBAL _intrinsic_retn
513   0000              	GLOBAL _intrinsic_reti
514   0000              	GLOBAL _intrinsic_halt
515   0000              	GLOBAL _intrinsic_ei
516   0000              	GLOBAL _intrinsic_di
517   0000              	GLOBAL _intrinsic_stub
518   0000              	GLOBAL _ulltoa_callee
519   0000              	GLOBAL _ulltoa
520   0000              	GLOBAL _strtoull_callee
521   0000              	GLOBAL _strtoull
522   0000              	GLOBAL _strtoll_callee
523   0000              	GLOBAL _strtoll
524   0000              	GLOBAL _lltoa_callee
525   0000              	GLOBAL _lltoa
526   0000              	GLOBAL _llabs_callee
527   0000              	GLOBAL _llabs
528   0000              	GLOBAL __lldivu__callee
529   0000              	GLOBAL __lldivu_
530   0000              	GLOBAL __lldiv__callee
531   0000              	GLOBAL __lldiv_
532   0000              	GLOBAL _atoll_callee
533   0000              	GLOBAL _atoll
534   0000              	GLOBAL _realloc_unlocked_callee
535   0000              	GLOBAL _realloc_unlocked
536   0000              	GLOBAL _malloc_unlocked_fastcall
537   0000              	GLOBAL _malloc_unlocked
538   0000              	GLOBAL _free_unlocked_fastcall
539   0000              	GLOBAL _free_unlocked
540   0000              	GLOBAL _calloc_unlocked_callee
541   0000              	GLOBAL _calloc_unlocked
542   0000              	GLOBAL _aligned_alloc_unlocked_callee
543   0000              	GLOBAL _aligned_alloc_unlocked
544   0000              	GLOBAL _realloc_callee
545   0000              	GLOBAL _realloc
546   0000              	GLOBAL _malloc_fastcall
547   0000              	GLOBAL _malloc
548   0000              	GLOBAL _free_fastcall
549   0000              	GLOBAL _free
550   0000              	GLOBAL _calloc_callee
551   0000              	GLOBAL _calloc
552   0000              	GLOBAL _aligned_alloc_callee
553   0000              	GLOBAL _aligned_alloc
554   0000              	GLOBAL _utoa_callee
555   0000              	GLOBAL _utoa
556   0000              	GLOBAL _ultoa_callee
557   0000              	GLOBAL _ultoa
558   0000              	GLOBAL _system_fastcall
559   0000              	GLOBAL _system
560   0000              	GLOBAL _strtoul_callee
561   0000              	GLOBAL _strtoul
562   0000              	GLOBAL _strtol_callee
563   0000              	GLOBAL _strtol
564   0000              	GLOBAL _strtof_callee
565   0000              	GLOBAL _strtof
566   0000              	GLOBAL _strtod_callee
567   0000              	GLOBAL _strtod
568   0000              	GLOBAL _srand_fastcall
569   0000              	GLOBAL _srand
570   0000              	GLOBAL _rand
571   0000              	GLOBAL _quick_exit_fastcall
572   0000              	GLOBAL _quick_exit
573   0000              	GLOBAL _qsort_callee
574   0000              	GLOBAL _qsort
575   0000              	GLOBAL _ltoa_callee
576   0000              	GLOBAL _ltoa
577   0000              	GLOBAL _labs_fastcall
578   0000              	GLOBAL _labs
579   0000              	GLOBAL _itoa_callee
580   0000              	GLOBAL _itoa
581   0000              	GLOBAL _ftoh_callee
582   0000              	GLOBAL _ftoh
583   0000              	GLOBAL _ftog_callee
584   0000              	GLOBAL _ftog
585   0000              	GLOBAL _ftoe_callee
586   0000              	GLOBAL _ftoe
587   0000              	GLOBAL _ftoa_callee
588   0000              	GLOBAL _ftoa
589   0000              	GLOBAL _exit_fastcall
590   0000              	GLOBAL _exit
591   0000              	GLOBAL _dtoh_callee
592   0000              	GLOBAL _dtoh
593   0000              	GLOBAL _dtog_callee
594   0000              	GLOBAL _dtog
595   0000              	GLOBAL _dtoe_callee
596   0000              	GLOBAL _dtoe
597   0000              	GLOBAL _dtoa_callee
598   0000              	GLOBAL _dtoa
599   0000              	GLOBAL _bsearch_callee
600   0000              	GLOBAL _bsearch
601   0000              	GLOBAL _atol_fastcall
602   0000              	GLOBAL _atol
603   0000              	GLOBAL _atoi_fastcall
604   0000              	GLOBAL _atoi
605   0000              	GLOBAL _atof_fastcall
606   0000              	GLOBAL _atof
607   0000              	GLOBAL _atexit_fastcall
608   0000              	GLOBAL _atexit
609   0000              	GLOBAL _at_quick_exit_fastcall
610   0000              	GLOBAL _at_quick_exit
611   0000              	GLOBAL _abs_fastcall
612   0000              	GLOBAL _abs
613   0000              	GLOBAL _abort
614   0000              	GLOBAL __strtou__callee
615   0000              	GLOBAL __strtou_
616   0000              	GLOBAL __strtoi__callee
617   0000              	GLOBAL __strtoi_
618   0000              	GLOBAL __random_uniform_xor_8__fastcall
619   0000              	GLOBAL __random_uniform_xor_8_
620   0000              	GLOBAL __random_uniform_xor_32__fastcall
621   0000              	GLOBAL __random_uniform_xor_32_
622   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
623   0000              	GLOBAL __random_uniform_cmwc_8_
624   0000              	GLOBAL __shellsort__callee
625   0000              	GLOBAL __shellsort_
626   0000              	GLOBAL __quicksort__callee
627   0000              	GLOBAL __quicksort_
628   0000              	GLOBAL __insertion_sort__callee
629   0000              	GLOBAL __insertion_sort_
630   0000              	GLOBAL __ldivu__callee
631   0000              	GLOBAL __ldivu_
632   0000              	GLOBAL __ldiv__callee
633   0000              	GLOBAL __ldiv_
634   0000              	GLOBAL __divu__callee
635   0000              	GLOBAL __divu_
636   0000              	GLOBAL __div__callee
637   0000              	GLOBAL __div_
638   0000              	GLOBAL _ay_effect_20
639   0000              	GLOBAL _ay_effect_19
640   0000              	GLOBAL _ay_effect_18
641   0000              	GLOBAL _ay_effect_17
642   0000              	GLOBAL _ay_effect_16
643   0000              	GLOBAL _ay_effect_15
644   0000              	GLOBAL _ay_effect_14
645   0000              	GLOBAL _ay_effect_13
646   0000              	GLOBAL _ay_effect_12
647   0000              	GLOBAL _ay_effect_11
648   0000              	GLOBAL _ay_effect_10
649   0000              	GLOBAL _ay_effect_09
650   0000              	GLOBAL _ay_effect_08
651   0000              	GLOBAL _ay_effect_07
652   0000              	GLOBAL _ay_effect_06
653   0000              	GLOBAL _ay_effect_05
654   0000              	GLOBAL _ay_effect_04
655   0000              	GLOBAL _ay_effect_03
656   0000              	GLOBAL _ay_effect_02
657   0000              	GLOBAL _ay_effect_01
658   0000              	GLOBAL _pb_midi_phase_1
659   0000              	GLOBAL _pb_midi_title
660   0000              	GLOBAL _joynames
661   0000              	GLOBAL _initials
662   0000              	GLOBAL _hof
663   0000              	GLOBAL _score_osd_tile
664   0000              	GLOBAL _score_osd_time
665   0000              	GLOBAL _score_osd_col
666   0000              	GLOBAL _score_osd_lin
667   0000              	GLOBAL _phase_bonus_total
668   0000              	GLOBAL _phase_angry
669   0000              	GLOBAL _phase_curr
670   0000              	GLOBAL _phase_end
671   0000              	GLOBAL _phase_coins
672   0000              	GLOBAL _phase_pop
673   0000              	GLOBAL _phase_tot
674   0000              	GLOBAL _phase_left
675   0000              	GLOBAL _phase_quota
676   0000              	GLOBAL _phases
677   0000              	GLOBAL _spr_idx
678   0000              	GLOBAL _lvl_1
679   0000              	GLOBAL _sprite_speed_alt
680   0000              	GLOBAL _sprite_speed
681   0000              	GLOBAL _screen_ink
682   0000              	GLOBAL _screen_paper
683   0000              	GLOBAL _game_god_mode
684   0000              	GLOBAL _game_menu_sel
685   0000              	GLOBAL _game_type
686   0000              	GLOBAL _game_osd
687   0000              	GLOBAL _game_bonus
688   0000              	GLOBAL _spr_water_time
689   0000              	GLOBAL _spr_water_clear
690   0000              	GLOBAL _game_time_fireball_start
691   0000              	GLOBAL _game_time_flipped
692   0000              	GLOBAL _game_score_top
693   0000              	GLOBAL _game_lives
694   0000              	GLOBAL _game_over
695   0000              	GLOBAL _game_sound
696   0000              	GLOBAL _game_two_player
697   0000              	GLOBAL _game_brick_tile
698   0000              	GLOBAL _game_pow
699   0000              	GLOBAL _spr_count
700   0000              	GLOBAL _frame_loop_count
701   0000              	GLOBAL _osd_time
702   0000              	GLOBAL _frame_time
703   0000              	GLOBAL _entry_time
704   0000              	GLOBAL _curr_time
705   0000              	GLOBAL _s_state
706   0000              	GLOBAL _attrib_hl
707   0000              	GLOBAL _attrib
708   0000              	GLOBAL _zx_val_asm
709   0000              	GLOBAL _enemies
710   0000              	GLOBAL _tmp_ui
711   0000              	GLOBAL _tmp_sc
712   0000              	GLOBAL _tmp_uc
713   0000              	GLOBAL _tmp1
714   0000              	GLOBAL _tmp0
715   0000              	GLOBAL _tmp
716   0000              	GLOBAL _index_d
717   0000              	GLOBAL _index3
718   0000              	GLOBAL _index2
719   0000              	GLOBAL _index1
720   0000              	GLOBAL _loop_count
721   0000              	GLOBAL _sprite_lin_inc_mul
722   0000              	GLOBAL _s_col1
723   0000              	GLOBAL _s_col0
724   0000              	GLOBAL _s_lin1
725   0000              	GLOBAL _s_lin0
726   0000              	GLOBAL _s_tile1
727   0000              	GLOBAL _s_tile0
728   0000              	GLOBAL _hit_count
729   0000              	GLOBAL _tile_offset_other_player
730   0000              	GLOBAL _tile_offset
731   0000              	GLOBAL _index_player
732   0000              	GLOBAL _sprite_other_player
733   0000              	GLOBAL _sprite
734   0000              	GLOBAL _player_joy
735   0000              	GLOBAL _player_next_extra
736   0000              	GLOBAL _player_score
737   0000              	GLOBAL _last_time
738   0000              	GLOBAL _sliding
739   0000              	GLOBAL _spr_timer_c
740   0000              	GLOBAL _spr_timer
741   0000              	GLOBAL _jump_lin
742   0000              	GLOBAL _player_jump_c
743   0000              	GLOBAL _hit_col
744   0000              	GLOBAL _hit_lin
745   0000              	GLOBAL _colint
746   0000              	GLOBAL _col
747   0000              	GLOBAL _lin
748   0000              	GLOBAL _tile
749   0000              	GLOBAL _state_a
750   0000              	GLOBAL _state
751   0000              	GLOBAL _class
752   0000              	GLOBAL _tbuffer
753   0000              	GLOBAL _dirs
754   0000              	GLOBAL _k2
755   0000              	GLOBAL _k1
756   0000              	GLOBAL _joyfunc2
757   0000              	GLOBAL _joyfunc1
758   0000              	GLOBAL _btiles
759   0000              	GLOBAL _spec128
760   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
761   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
762   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
763   0000              	GLOBAL _NIRVANAP_ISR_HOOK
764   0000              	GLOBAL _control_method
765   0000              	GLOBAL _hall_valids
766   0000              ;--------------------------------------------------------
767   0000              ; special function registers
768   0000              ;--------------------------------------------------------
769   0000              ;--------------------------------------------------------
770   0000              ; ram data
771   0000              ;--------------------------------------------------------
772   0000              	SECTION bss_compiler
773   0000              ;--------------------------------------------------------
774   0000              ; ram data
775   0000              ;--------------------------------------------------------
776   0000              
777   0000              IF 0
778   0000              
779   0000              ; .area _INITIALIZED removed by z88dk
780   0000              
781   0000              
782   0000              ENDIF
783   0000              
784   0000              ;--------------------------------------------------------
785   0000              ; absolute external ram data
786   0000              ;--------------------------------------------------------
787   0000              	SECTION IGNORE
788   0000              ;--------------------------------------------------------
789   0000              ; global & static initialisations
790   0000              ;--------------------------------------------------------
791   0000              	SECTION code_crt_init
792   0000              ;--------------------------------------------------------
793   0000              ; Home
794   0000              ;--------------------------------------------------------
795   0000              	SECTION IGNORE
796   0000              ;--------------------------------------------------------
797   0000              ; code
798   0000              ;--------------------------------------------------------
799   0000              	SECTION code_compiler
800   0000              ;	---------------------------------
801   0000              ; Function enemy_coin1
802   0000              ; ---------------------------------
803   0000              _enemy_coin1:
804   0000  3A 00 00    	ld	a,(_phase_left)
805   0003  B7          	or	a, a
806   0004  28 2B       	jr	Z,l_enemy_coin1_00107
807   0006  CD 87 0D    	call	_enemy_walk
808   0009  2A 00 00    	ld	hl,(_sprite)
809   000C  26 00       	ld	h,0x00
810   000E  01 00 00    	ld	bc,_lin
811   0011  09          	add	hl,bc
812   0012  7E          	ld	a,(hl)
813   0013  D6 98       	sub	a,0x98
814   0015  20 1A       	jr	NZ,l_enemy_coin1_00107
815   0017  2A 00 00    	ld	hl,(_sprite)
816   001A  26 00       	ld	h,0x00
817   001C  01 00 00    	ld	bc,_col
818   001F  09          	add	hl,bc
819   0020  7E          	ld	a,(hl)
820   0021  4F          	ld	c,a
821   0022  D6 03       	sub	a,0x03
822   0024  28 05       	jr	Z,l_enemy_coin1_00101
823   0026  79          	ld	a,c
824   0027  D6 1B       	sub	a,0x1b
825   0029  20 06       	jr	NZ,l_enemy_coin1_00107
826   002B              l_enemy_coin1_00101:
827   002B  2A 00 00    	ld	hl,(_sprite)
828   002E  CD 00 00    	call	_spr_destroy
829   0031              l_enemy_coin1_00107:
830   0031  C9          	ret
831   0032              	SECTION code_compiler
832   0032              ;	---------------------------------
833   0032              ; Function enemy_coin2
834   0032              ; ---------------------------------
835   0032              _enemy_coin2:
836   0032  01 00 00    	ld	bc,_colint+0
837   0035  79          	ld	a,c
838   0036  21 00 00    	ld	hl,_sprite
839   0039  86          	add	a, (hl)
840   003A  5F          	ld	e,a
841   003B  78          	ld	a,b
842   003C  CE 00       	adc	a,0x00
843   003E  57          	ld	d,a
844   003F  1A          	ld	a,(de)
845   0040  3C          	inc	a
846   0041  12          	ld	(de),a
847   0042  79          	ld	a,c
848   0043  86          	add	a, (hl)
849   0044  4F          	ld	c,a
850   0045  78          	ld	a,b
851   0046  CE 00       	adc	a,0x00
852   0048  47          	ld	b,a
853   0049  0A          	ld	a,(bc)
854   004A  D6 03       	sub	a,0x03
855   004C  C0          	ret	NZ
856   004D  AF          	xor	a, a
857   004E  02          	ld	(bc),a
858   004F  C9          	ret
859   0050              	SECTION code_compiler
860   0050              ;	---------------------------------
861   0050              ; Function enemy_collition
862   0050              ; ---------------------------------
863   0050              _enemy_collition:
864   0050  CD 00 00    	call	___sdcc_enter_ix
865   0053  3B          	dec	sp
866   0054  21 00 00    	ld	hl,_enemies
867   0057  36 00       	ld	(hl),0x00
868   0059              l_enemy_collition_00113:
869   0059  CD 73 01    	call	_enemy_collition_check
870   005C  7D          	ld	a,l
871   005D  B7          	or	a, a
872   005E  CA 64 01    	jp	Z,l_enemy_collition_00114
873   0061  2A 00 00    	ld	hl,(_enemies)
874   0064  26 00       	ld	h,0x00
875   0066  01 00 00    	ld	bc,_state
876   0069  09          	add	hl,bc
877   006A  7E          	ld	a,(hl)
878   006B  DD 77 FF    	ld	(ix-1),a
879   006E  CB 67       	bit	4,a
880   0070  C2 00 01    	jp	NZ,l_enemy_collition_00104
881   0073  4D          	ld	c,l
882   0074  44          	ld	b,h
883   0075  21 00 00    	ld	hl,_s_state
884   0078  7E          	ld	a,(hl)
885   0079  E6 08       	and	a,0x08
886   007B  5F          	ld	e,a
887   007C  DD 7E FF    	ld	a,(ix-1)
888   007F  E6 08       	and	a,0x08
889   0081  57          	ld	d,a
890   0082  7B          	ld	a,e
891   0083  92          	sub	a, d
892   0084  28 7A       	jr	Z,l_enemy_collition_00104
893   0086  7E          	ld	a,(hl)
894   0087  E6 04       	and	a,0x04
895   0089  5F          	ld	e,a
896   008A  DD 7E FF    	ld	a,(ix-1)
897   008D  E6 04       	and	a,0x04
898   008F  57          	ld	d,a
899   0090  7B          	ld	a,e
900   0091  92          	sub	a, d
901   0092  28 6C       	jr	Z,l_enemy_collition_00104
902   0094  2A 00 00    	ld	hl,(_sprite)
903   0097  26 00       	ld	h,0x00
904   0099  11 00 00    	ld	de,_class
905   009C  19          	add	hl,de
906   009D  7E          	ld	a,(hl)
907   009E  D6 08       	sub	a,0x08
908   00A0  28 5E       	jr	Z,l_enemy_collition_00104
909   00A2  DD 7E FF    	ld	a,(ix-1)
910   00A5  EE 04       	xor	a,0x04
911   00A7  02          	ld	(bc),a
912   00A8  2A 00 00    	ld	hl,(_enemies)
913   00AB  26 00       	ld	h,0x00
914   00AD  01 00 00    	ld	bc,_state
915   00B0  09          	add	hl,bc
916   00B1  7E          	ld	a,(hl)
917   00B2  EE 08       	xor	a,0x08
918   00B4  77          	ld	(hl),a
919   00B5  2A 00 00    	ld	hl,(_enemies)
920   00B8  26 00       	ld	h,0x00
921   00BA  01 00 00    	ld	bc,_class
922   00BD  09          	add	hl,bc
923   00BE  4E          	ld	c,(hl)
924   00BF  3E 06       	ld	a,0x06
925   00C1  91          	sub	a,c
926   00C2  38 3C       	jr	C,l_enemy_collition_00104
927   00C4  2A 00 00    	ld	hl,(_enemies)
928   00C7  26 00       	ld	h,0x00
929   00C9  01 00 00    	ld	bc,_state_a
930   00CC  09          	add	hl,bc
931   00CD  7E          	ld	a,(hl)
932   00CE  F6 02       	or	a,0x02
933   00D0  77          	ld	(hl),a
934   00D1  2A 00 00    	ld	hl,(_enemies)
935   00D4  26 00       	ld	h,0x00
936   00D6  29          	add	hl,hl
937   00D7  01 00 00    	ld	bc,_spr_timer
938   00DA  09          	add	hl,bc
939   00DB  ED 5B 00 00 	ld	de,(_curr_time)
940   00DF  73          	ld	(hl),e
941   00E0  23          	inc	hl
942   00E1  72          	ld	(hl),d
943   00E2  2A 00 00    	ld	hl,(_enemies)
944   00E5  26 00       	ld	h,0x00
945   00E7  01 00 00    	ld	bc,_tile
946   00EA  09          	add	hl,bc
947   00EB  E5          	push	hl
948   00EC  2A 00 00    	ld	hl,(_enemies)
949   00EF  CD 00 00    	call	_spr_tile
950   00F2  C1          	pop	bc
951   00F3  7D          	ld	a, l
952   00F4  02          	ld	(bc),a
953   00F5  2A 00 00    	ld	hl,(_enemies)
954   00F8  26 00       	ld	h,0x00
955   00FA  01 00 00    	ld	bc,_colint
956   00FD  09          	add	hl,bc
957   00FE  AF          	xor	a,a
958   00FF  77          	ld	(hl),a
959   0100              l_enemy_collition_00104:
960   0100  21 00 00    	ld	hl,_s_state
961   0103  7E          	ld	a,(hl)
962   0104  EE 0C       	xor	a,+(0x04^0x08)
963   0106  77          	ld	(hl),a
964   0107  2A 00 00    	ld	hl,(_sprite)
965   010A  26 00       	ld	h,0x00
966   010C  01 00 00    	ld	bc,_class
967   010F  09          	add	hl,bc
968   0110  4E          	ld	c,(hl)
969   0111  3E 06       	ld	a,0x06
970   0113  91          	sub	a,c
971   0114  38 38       	jr	C,l_enemy_collition_00109
972   0116  2A 00 00    	ld	hl,(_sprite)
973   0119  26 00       	ld	h,0x00
974   011B  01 00 00    	ld	bc,_state_a
975   011E  09          	add	hl,bc
976   011F  7E          	ld	a,(hl)
977   0120  F6 02       	or	a,0x02
978   0122  77          	ld	(hl),a
979   0123  2A 00 00    	ld	hl,(_sprite)
980   0126  26 00       	ld	h,0x00
981   0128  01 00 00    	ld	bc,_state
982   012B  09          	add	hl,bc
983   012C  3A 00 00    	ld	a,(_s_state)
984   012F  77          	ld	(hl),a
985   0130  2A 00 00    	ld	hl,(_sprite)
986   0133  26 00       	ld	h,0x00
987   0135  01 00 00    	ld	bc,_tile
988   0138  09          	add	hl,bc
989   0139  E5          	push	hl
990   013A  2A 00 00    	ld	hl,(_sprite)
991   013D  CD 00 00    	call	_spr_tile
992   0140  C1          	pop	bc
993   0141  7D          	ld	a, l
994   0142  02          	ld	(bc),a
995   0143  2A 00 00    	ld	hl,(_sprite)
996   0146  26 00       	ld	h,0x00
997   0148  01 00 00    	ld	bc,_colint
998   014B  09          	add	hl,bc
999   014C  AF          	xor	a,a
1000  014D  77          	ld	(hl),a
1001  014E              l_enemy_collition_00109:
1002  014E  2A 00 00    	ld	hl,(_sprite)
1003  0151  26 00       	ld	h,0x00
1004  0153  29          	add	hl,hl
1005  0154  01 00 00    	ld	bc,_spr_timer
1006  0157  09          	add	hl,bc
1007  0158  ED 5B 00 00 	ld	de,(_curr_time)
1008  015C  73          	ld	(hl),e
1009  015D  23          	inc	hl
1010  015E  72          	ld	(hl),d
1011  015F  21 00 00    	ld	hl,_enemies
1012  0162  36 06       	ld	(hl),0x06
1013  0164              l_enemy_collition_00114:
1014  0164  21 00 00    	ld	hl,_enemies
1015  0167  7E          	ld	a,(hl)
1016  0168  3C          	inc	a
1017  0169  77          	ld	(hl),a
1018  016A  D6 06       	sub	a,0x06
1019  016C  DA 59 00    	jp	C,l_enemy_collition_00113
1020  016F  33          	inc	sp
1021  0170  DD E1       	pop	ix
1022  0172  C9          	ret
1023  0173              	SECTION code_compiler
1024  0173              ;	---------------------------------
1025  0173              ; Function enemy_collition_check
1026  0173              ; ---------------------------------
1027  0173              _enemy_collition_check:
1028  0173  2A 00 00    	ld	hl,(_enemies)
1029  0176  26 00       	ld	h,0x00
1030  0178  01 00 00    	ld	bc,_class
1031  017B  09          	add	hl,bc
1032  017C  7E          	ld	a,(hl)
1033  017D  4F          	ld	c,a
1034  017E  B7          	or	a,a
1035  017F  20 04       	jr	NZ,l_enemy_collition_check_00102
1036  0181  6F          	ld	l,a
1037  0182  C3 53 02    	jp	l_enemy_collition_check_00125
1038  0185              l_enemy_collition_check_00102:
1039  0185  3E 09       	ld	a,0x09
1040  0187  91          	sub	a, c
1041  0188  30 05       	jr	NC,l_enemy_collition_check_00104
1042  018A  2E 00       	ld	l,0x00
1043  018C  C3 53 02    	jp	l_enemy_collition_check_00125
1044  018F              l_enemy_collition_check_00104:
1045  018F  3A 00 00    	ld	a,(_enemies)
1046  0192  21 00 00    	ld	hl,_sprite
1047  0195  96          	sub	a,(hl)
1048  0196  20 04       	jr	NZ,l_enemy_collition_check_00106
1049  0198  6F          	ld	l,a
1050  0199  C3 53 02    	jp	l_enemy_collition_check_00125
1051  019C              l_enemy_collition_check_00106:
1052  019C  2A 00 00    	ld	hl,(_sprite)
1053  019F  26 00       	ld	h,0x00
1054  01A1  01 00 00    	ld	bc,_state
1055  01A4  09          	add	hl,bc
1056  01A5  7E          	ld	a,(hl)
1057  01A6  CB 67       	bit	4, a
1058  01A8  28 05       	jr	Z,l_enemy_collition_check_00108
1059  01AA  2E 00       	ld	l,0x00
1060  01AC  C3 53 02    	jp	l_enemy_collition_check_00125
1061  01AF              l_enemy_collition_check_00108:
1062  01AF  CB 6F       	bit	5, a
1063  01B1  28 05       	jr	Z,l_enemy_collition_check_00110
1064  01B3  2E 00       	ld	l,0x00
1065  01B5  C3 53 02    	jp	l_enemy_collition_check_00125
1066  01B8              l_enemy_collition_check_00110:
1067  01B8  2A 00 00    	ld	hl,(_sprite)
1068  01BB  26 00       	ld	h,0x00
1069  01BD  01 00 00    	ld	bc,_state_a
1070  01C0  09          	add	hl,bc
1071  01C1  CB 4E       	bit	1,(hl)
1072  01C3  28 05       	jr	Z,l_enemy_collition_check_00112
1073  01C5  2E 00       	ld	l,0x00
1074  01C7  C3 53 02    	jp	l_enemy_collition_check_00125
1075  01CA              l_enemy_collition_check_00112:
1076  01CA  2A 00 00    	ld	hl,(_enemies)
1077  01CD  26 00       	ld	h,0x00
1078  01CF  01 00 00    	ld	bc,_state
1079  01D2  09          	add	hl,bc
1080  01D3  7E          	ld	a,(hl)
1081  01D4  CB 6F       	bit	5, a
1082  01D6  28 05       	jr	Z,l_enemy_collition_check_00114
1083  01D8  2E 00       	ld	l,0x00
1084  01DA  C3 53 02    	jp	l_enemy_collition_check_00125
1085  01DD              l_enemy_collition_check_00114:
1086  01DD  CB 4F       	bit	1, a
1087  01DF  28 04       	jr	Z,l_enemy_collition_check_00116
1088  01E1  2E 00       	ld	l,0x00
1089  01E3  18 6E       	jr	l_enemy_collition_check_00125
1090  01E5              l_enemy_collition_check_00116:
1091  01E5  01 00 00    	ld	bc,_lin+0
1092  01E8  2A 00 00    	ld	hl,(_enemies)
1093  01EB  26 00       	ld	h,0x00
1094  01ED  09          	add	hl,bc
1095  01EE  6E          	ld	l, (hl)
1096  01EF  26 00       	ld	h,0x00
1097  01F1  EB          	ex	de,hl
1098  01F2  2A 00 00    	ld	hl,(_sprite)
1099  01F5  62          	ld	h,d
1100  01F6  09          	add	hl,bc
1101  01F7  4E          	ld	c, (hl)
1102  01F8  AF          	xor	a,a
1103  01F9  47          	ld	b,a
1104  01FA  EB          	ex	de,hl
1105  01FB  ED 42       	sbc	hl,bc
1106  01FD  CD 00 00    	call	_abs_fastcall
1107  0200  22 00 00    	ld	(_tmp_ui),hl
1108  0203  7D          	ld	a,l
1109  0204  D6 10       	sub	a,0x10
1110  0206  7C          	ld	a,h
1111  0207  DE 00       	sbc	a,0x00
1112  0209  38 04       	jr	C,l_enemy_collition_check_00118
1113  020B  2E 00       	ld	l,0x00
1114  020D  18 44       	jr	l_enemy_collition_check_00125
1115  020F              l_enemy_collition_check_00118:
1116  020F  01 00 00    	ld	bc,_col+0
1117  0212  2A 00 00    	ld	hl,(_sprite)
1118  0215  26 00       	ld	h,0x00
1119  0217  09          	add	hl,bc
1120  0218  6E          	ld	l, (hl)
1121  0219  EB          	ex	de,hl
1122  021A  2A 00 00    	ld	hl,(_enemies)
1123  021D  26 00       	ld	h,0x00
1124  021F  09          	add	hl,bc
1125  0220  4E          	ld	c, (hl)
1126  0221  7B          	ld	a,e
1127  0222  91          	sub	a, c
1128  0223  32 00 00    	ld	(_tmp_sc),a
1129  0226  2A 00 00    	ld	hl,(_sprite)
1130  0229  26 00       	ld	h,0x00
1131  022B  01 00 00    	ld	bc,_state
1132  022E  09          	add	hl,bc
1133  022F  3A 00 00    	ld	a,(_tmp_sc)
1134  0232  D6 FE       	sub	a,0xfe
1135  0234  4D          	ld	c,l
1136  0235  44          	ld	b,h
1137  0236  20 09       	jr	NZ,l_enemy_collition_check_00120
1138  0238  0A          	ld	a,(bc)
1139  0239  CB 57       	bit	2, a
1140  023B  28 04       	jr	Z,l_enemy_collition_check_00120
1141  023D  2E 01       	ld	l,0x01
1142  023F  18 12       	jr	l_enemy_collition_check_00125
1143  0241              l_enemy_collition_check_00120:
1144  0241  3A 00 00    	ld	a,(_tmp_sc)
1145  0244  D6 02       	sub	a,0x02
1146  0246  20 09       	jr	NZ,l_enemy_collition_check_00123
1147  0248  0A          	ld	a,(bc)
1148  0249  CB 5F       	bit	3, a
1149  024B  28 04       	jr	Z,l_enemy_collition_check_00123
1150  024D  2E 01       	ld	l,0x01
1151  024F  18 02       	jr	l_enemy_collition_check_00125
1152  0251              l_enemy_collition_check_00123:
1153  0251  2E 00       	ld	l,0x00
1154  0253              l_enemy_collition_check_00125:
1155  0253  C9          	ret
1156  0254              	SECTION code_compiler
1157  0254              ;	---------------------------------
1158  0254              ; Function enemy_hit
1159  0254              ; ---------------------------------
1160  0254              _enemy_hit:
1161  0254  76          	halt
1162  0255  2A 00 00    	ld	hl,(_enemies)
1163  0258  26 00       	ld	h,0x00
1164  025A  5D          	ld	e,l
1165  025B  01 00 00    	ld	bc,_col
1166  025E  09          	add	hl,bc
1167  025F  46          	ld	b,(hl)
1168  0260  16 00       	ld	d,0x00
1169  0262  21 00 00    	ld	hl,_lin
1170  0265  19          	add	hl,de
1171  0266  4E          	ld	c, (hl)
1172  0267  C5          	push	bc
1173  0268  AF          	xor	a, a
1174  0269  F5          	push	af
1175  026A  33          	inc	sp
1176  026B  CD 00 00    	call	_NIRVANAP_fillT_callee
1177  026E  2A 00 00    	ld	hl,(_enemies)
1178  0271  26 00       	ld	h,0x00
1179  0273  01 00 00    	ld	bc,_lin
1180  0276  09          	add	hl,bc
1181  0277  7E          	ld	a,(hl)
1182  0278  C6 FC       	add	a,0xfc
1183  027A  77          	ld	(hl),a
1184  027B  2A 00 00    	ld	hl,(_enemies)
1185  027E  26 00       	ld	h,0x00
1186  0280  01 00 00    	ld	bc,_col
1187  0283  09          	add	hl,bc
1188  0284  4E          	ld	c, (hl)
1189  0285  2A 00 00    	ld	hl,(_enemies)
1190  0288  26 00       	ld	h,0x00
1191  028A  11 00 00    	ld	de,_lin
1192  028D  19          	add	hl,de
1193  028E  46          	ld	b, (hl)
1194  028F  2A 00 00    	ld	hl,(_enemies)
1195  0292  26 00       	ld	h,0x00
1196  0294  11 00 00    	ld	de,_tile
1197  0297  19          	add	hl,de
1198  0298  56          	ld	d, (hl)
1199  0299  79          	ld	a,c
1200  029A  21 00 00    	ld	hl,_enemies
1201  029D  F5          	push	af
1202  029E  33          	inc	sp
1203  029F  4A          	ld	c, d
1204  02A0  7E          	ld	a,(hl)
1205  02A1  C5          	push	bc
1206  02A2  F5          	push	af
1207  02A3  33          	inc	sp
1208  02A4  CD 00 00    	call	_NIRVANAP_spriteT_callee
1209  02A7  2A 00 00    	ld	hl,(_enemies)
1210  02AA  26 00       	ld	h,0x00
1211  02AC  01 00 00    	ld	bc,_state_a
1212  02AF  09          	add	hl,bc
1213  02B0  7E          	ld	a,(hl)
1214  02B1  E6 FD       	and	a,0xfd
1215  02B3  77          	ld	(hl),a
1216  02B4  01 00 00    	ld	bc,_spr_timer+0
1217  02B7  2A 00 00    	ld	hl,(_enemies)
1218  02BA  26 00       	ld	h,0x00
1219  02BC  29          	add	hl, hl
1220  02BD  09          	add	hl,bc
1221  02BE  ED 5B 00 00 	ld	de,(_curr_time)
1222  02C2  73          	ld	(hl),e
1223  02C3  23          	inc	hl
1224  02C4  72          	ld	(hl),d
1225  02C5  2A 00 00    	ld	hl,(_enemies)
1226  02C8  26 00       	ld	h,0x00
1227  02CA  01 00 00    	ld	bc,_class
1228  02CD  09          	add	hl,bc
1229  02CE  7E          	ld	a,(hl)
1230  02CF  5F          	ld	e,a
1231  02D0  D6 01       	sub	a,0x01
1232  02D2  DA 74 03    	jp	C,l_enemy_hit_00113
1233  02D5  3E 0B       	ld	a,0x0b
1234  02D7  93          	sub	a,e
1235  02D8  DA 74 03    	jp	C,l_enemy_hit_00113
1236  02DB  1D          	dec	e
1237  02DC  16 00       	ld	d,0x00
1238  02DE  4D          	ld	c,l
1239  02DF  44          	ld	b,h
1240  02E0  21 E7 02    	ld	hl,l_enemy_hit_00123
1241  02E3  19          	add	hl,de
1242  02E4  19          	add	hl,de
1243  02E5  19          	add	hl,de
1244  02E6  E9          	jp	(hl)
1245  02E7              l_enemy_hit_00123:
1246  02E7  C3 08 03    	jp	l_enemy_hit_00101
1247  02EA  C3 10 03    	jp	l_enemy_hit_00102
1248  02ED  C3 18 03    	jp	l_enemy_hit_00103
1249  02F0  C3 20 03    	jp	l_enemy_hit_00104
1250  02F3  C3 28 03    	jp	l_enemy_hit_00105
1251  02F6  C3 30 03    	jp	l_enemy_hit_00106
1252  02F9  C3 40 03    	jp	l_enemy_hit_00108
1253  02FC  C3 4C 03    	jp	l_enemy_hit_00109
1254  02FF  C3 38 03    	jp	l_enemy_hit_00107
1255  0302  C3 5E 03    	jp	l_enemy_hit_00110
1256  0305  C3 6A 03    	jp	l_enemy_hit_00111
1257  0308              l_enemy_hit_00101:
1258  0308  21 30 00    	ld	hl,0x0030
1259  030B  CD 60 04    	call	_enemy_flip
1260  030E  18 64       	jr	l_enemy_hit_00113
1261  0310              l_enemy_hit_00102:
1262  0310  21 3C 00    	ld	hl,0x003c
1263  0313  CD 60 04    	call	_enemy_flip
1264  0316  18 5C       	jr	l_enemy_hit_00113
1265  0318              l_enemy_hit_00103:
1266  0318  21 48 00    	ld	hl,0x0048
1267  031B  CD 60 04    	call	_enemy_flip
1268  031E  18 54       	jr	l_enemy_hit_00113
1269  0320              l_enemy_hit_00104:
1270  0320  21 54 00    	ld	hl,0x0054
1271  0323  CD 37 05    	call	_enemy_flip_sidestepper
1272  0326  18 4C       	jr	l_enemy_hit_00113
1273  0328              l_enemy_hit_00105:
1274  0328  21 60 00    	ld	hl,0x0060
1275  032B  CD 37 05    	call	_enemy_flip_sidestepper
1276  032E  18 44       	jr	l_enemy_hit_00113
1277  0330              l_enemy_hit_00106:
1278  0330  21 6C 00    	ld	hl,0x006c
1279  0333  CD 37 05    	call	_enemy_flip_sidestepper
1280  0336  18 3C       	jr	l_enemy_hit_00113
1281  0338              l_enemy_hit_00107:
1282  0338  21 78 00    	ld	hl,0x0078
1283  033B  CD 60 04    	call	_enemy_flip
1284  033E  18 34       	jr	l_enemy_hit_00113
1285  0340              l_enemy_hit_00108:
1286  0340  2A 00 00    	ld	hl,(_enemies)
1287  0343  26 32       	ld	h,0x32
1288  0345  E5          	push	hl
1289  0346  CD 00 00    	call	_player_coin
1290  0349  F1          	pop	af
1291  034A  18 28       	jr	l_enemy_hit_00113
1292  034C              l_enemy_hit_00109:
1293  034C  21 00 00    	ld	hl,_ay_effect_10
1294  034F  CD 00 00    	call	_ay_fx_play
1295  0352  2A 00 00    	ld	hl,(_enemies)
1296  0355  26 50       	ld	h,0x50
1297  0357  E5          	push	hl
1298  0358  CD 00 00    	call	_player_coin
1299  035B  F1          	pop	af
1300  035C  18 16       	jr	l_enemy_hit_00113
1301  035E              l_enemy_hit_00110:
1302  035E  2A 00 00    	ld	hl,(_enemies)
1303  0361  26 64       	ld	h,0x64
1304  0363  E5          	push	hl
1305  0364  CD 00 00    	call	_player_coin
1306  0367  F1          	pop	af
1307  0368  18 0A       	jr	l_enemy_hit_00113
1308  036A              l_enemy_hit_00111:
1309  036A  2A 00 00    	ld	hl,(_enemies)
1310  036D  26 14       	ld	h,0x14
1311  036F  E5          	push	hl
1312  0370  CD 00 00    	call	_player_coin
1313  0373  F1          	pop	af
1314  0374              l_enemy_hit_00113:
1315  0374  C9          	ret
1316  0375              	SECTION code_compiler
1317  0375              ;	---------------------------------
1318  0375              ; Function enemy_flip_change_dir
1319  0375              ; ---------------------------------
1320  0375              _enemy_flip_change_dir:
1321  0375  3A 00 00    	ld	a,(_enemies)
1322  0378  C6 00       	add	a,+((_state) & 0xFF)
1323  037A  4D          	ld	c,l
1324  037B  5F          	ld	e,a
1325  037C  3E 00       	ld	a,+((_state) / 256)
1326  037E  CE 00       	adc	a,0x00
1327  0380  57          	ld	d,a
1328  0381  1A          	ld	a,(de)
1329  0382  CB 57       	bit	2, a
1330  0384  28 1F       	jr	Z,l_enemy_flip_change_dir_00102
1331  0386  2A 00 00    	ld	hl,(_enemies)
1332  0389  26 00       	ld	h,0x00
1333  038B  11 00 00    	ld	de,_state_a
1334  038E  19          	add	hl,de
1335  038F  7E          	ld	a,(hl)
1336  0390  EB          	ex	de,hl
1337  0391  F6 10       	or	a,0x10
1338  0393  12          	ld	(de),a
1339  0394  3A 00 00    	ld	a,(_enemies)
1340  0397  5F          	ld	e,a
1341  0398  16 00       	ld	d,0x00
1342  039A  21 00 00    	ld	hl,_state_a
1343  039D  19          	add	hl,de
1344  039E  7E          	ld	a,(hl)
1345  039F  EB          	ex	de,hl
1346  03A0  E6 F7       	and	a,0xf7
1347  03A2  12          	ld	(de),a
1348  03A3  18 1D       	jr	l_enemy_flip_change_dir_00103
1349  03A5              l_enemy_flip_change_dir_00102:
1350  03A5  2A 00 00    	ld	hl,(_enemies)
1351  03A8  26 00       	ld	h,0x00
1352  03AA  11 00 00    	ld	de,_state_a
1353  03AD  19          	add	hl,de
1354  03AE  7E          	ld	a,(hl)
1355  03AF  EB          	ex	de,hl
1356  03B0  F6 10       	or	a,0x10
1357  03B2  12          	ld	(de),a
1358  03B3  3A 00 00    	ld	a,(_enemies)
1359  03B6  5F          	ld	e,a
1360  03B7  16 00       	ld	d,0x00
1361  03B9  21 00 00    	ld	hl,_state_a
1362  03BC  19          	add	hl,de
1363  03BD  7E          	ld	a,(hl)
1364  03BE  EB          	ex	de,hl
1365  03BF  E6 F7       	and	a,0xf7
1366  03C1  12          	ld	(de),a
1367  03C2              l_enemy_flip_change_dir_00103:
1368  03C2  2A 00 00    	ld	hl,(_sprite)
1369  03C5  26 00       	ld	h,0x00
1370  03C7  11 00 00    	ld	de,_col
1371  03CA  19          	add	hl,de
1372  03CB  46          	ld	b, (hl)
1373  03CC  2A 00 00    	ld	hl,(_enemies)
1374  03CF  26 00       	ld	h,0x00
1375  03D1  11 00 00    	ld	de,_col
1376  03D4  19          	add	hl,de
1377  03D5  7E          	ld	a,(hl)
1378  03D6  90          	sub	a,b
1379  03D7  30 1D       	jr	NC,l_enemy_flip_change_dir_00105
1380  03D9  2A 00 00    	ld	hl,(_enemies)
1381  03DC  26 00       	ld	h,0x00
1382  03DE  11 00 00    	ld	de,_state
1383  03E1  19          	add	hl,de
1384  03E2  7E          	ld	a,(hl)
1385  03E3  EB          	ex	de,hl
1386  03E4  F6 08       	or	a,0x08
1387  03E6  12          	ld	(de),a
1388  03E7  3A 00 00    	ld	a,(_enemies)
1389  03EA  5F          	ld	e,a
1390  03EB  16 00       	ld	d,0x00
1391  03ED  21 00 00    	ld	hl,_state
1392  03F0  19          	add	hl,de
1393  03F1  7E          	ld	a,(hl)
1394  03F2  EB          	ex	de,hl
1395  03F3  E6 FB       	and	a,0xfb
1396  03F5  12          	ld	(de),a
1397  03F6              l_enemy_flip_change_dir_00105:
1398  03F6  2A 00 00    	ld	hl,(_sprite)
1399  03F9  26 00       	ld	h,0x00
1400  03FB  11 00 00    	ld	de,_col
1401  03FE  19          	add	hl,de
1402  03FF  46          	ld	b, (hl)
1403  0400  2A 00 00    	ld	hl,(_enemies)
1404  0403  26 00       	ld	h,0x00
1405  0405  11 00 00    	ld	de,_col
1406  0408  19          	add	hl,de
1407  0409  5E          	ld	e, (hl)
1408  040A  78          	ld	a,b
1409  040B  93          	sub	a,e
1410  040C  30 1D       	jr	NC,l_enemy_flip_change_dir_00107
1411  040E  2A 00 00    	ld	hl,(_enemies)
1412  0411  26 00       	ld	h,0x00
1413  0413  11 00 00    	ld	de,_state
1414  0416  19          	add	hl,de
1415  0417  7E          	ld	a,(hl)
1416  0418  EB          	ex	de,hl
1417  0419  F6 04       	or	a,0x04
1418  041B  12          	ld	(de),a
1419  041C  3A 00 00    	ld	a,(_enemies)
1420  041F  5F          	ld	e,a
1421  0420  16 00       	ld	d,0x00
1422  0422  21 00 00    	ld	hl,_state
1423  0425  19          	add	hl,de
1424  0426  7E          	ld	a,(hl)
1425  0427  EB          	ex	de,hl
1426  0428  E6 F7       	and	a,0xf7
1427  042A  12          	ld	(de),a
1428  042B              l_enemy_flip_change_dir_00107:
1429  042B  79          	ld	a,c
1430  042C  B7          	or	a, a
1431  042D  C0          	ret	NZ
1432  042E  2A 00 00    	ld	hl,(_sprite)
1433  0431  26 00       	ld	h,0x00
1434  0433  01 00 00    	ld	bc,_col
1435  0436  09          	add	hl,bc
1436  0437  4E          	ld	c,(hl)
1437  0438  2A 00 00    	ld	hl,(_enemies)
1438  043B  26 00       	ld	h,0x00
1439  043D  11 00 00    	ld	de,_col
1440  0440  19          	add	hl,de
1441  0441  46          	ld	b, (hl)
1442  0442  79          	ld	a,c
1443  0443  90          	sub	a,b
1444  0444  C0          	ret	NZ
1445  0445  2A 00 00    	ld	hl,(_enemies)
1446  0448  26 00       	ld	h,0x00
1447  044A  01 00 00    	ld	bc,_state
1448  044D  09          	add	hl,bc
1449  044E  7E          	ld	a,(hl)
1450  044F  E6 F7       	and	a,0xf7
1451  0451  77          	ld	(hl),a
1452  0452  2A 00 00    	ld	hl,(_enemies)
1453  0455  26 00       	ld	h,0x00
1454  0457  01 00 00    	ld	bc,_state
1455  045A  09          	add	hl,bc
1456  045B  7E          	ld	a,(hl)
1457  045C  E6 FB       	and	a,0xfb
1458  045E  77          	ld	(hl),a
1459  045F  C9          	ret
1460  0460              	SECTION code_compiler
1461  0460              ;	---------------------------------
1462  0460              ; Function enemy_flip
1463  0460              ; ---------------------------------
1464  0460              _enemy_flip:
1465  0460  CD 00 00    	call	___sdcc_enter_ix
1466  0463  F5          	push	af
1467  0464  3B          	dec	sp
1468  0465  DD 75 FD    	ld	(ix-3),l
1469  0468  DD 74 FE    	ld	(ix-2),h
1470  046B  01 00 00    	ld	bc,_spr_timer+0
1471  046E  2A 00 00    	ld	hl,(_enemies)
1472  0471  26 00       	ld	h,0x00
1473  0473  29          	add	hl, hl
1474  0474  09          	add	hl,bc
1475  0475  ED 5B 00 00 	ld	de,(_curr_time)
1476  0479  73          	ld	(hl),e
1477  047A  23          	inc	hl
1478  047B  72          	ld	(hl),d
1479  047C  2A 00 00    	ld	hl,(_enemies)
1480  047F  26 00       	ld	h,0x00
1481  0481  01 00 00    	ld	bc,_state
1482  0484  09          	add	hl,bc
1483  0485  7E          	ld	a,(hl)
1484  0486  F6 01       	or	a,0x01
1485  0488  77          	ld	(hl),a
1486  0489  2A 00 00    	ld	hl,(_enemies)
1487  048C  26 00       	ld	h,0x00
1488  048E  01 00 00    	ld	bc,_state
1489  0491  09          	add	hl,bc
1490  0492  7E          	ld	a,(hl)
1491  0493  E6 FD       	and	a,0xfd
1492  0495  77          	ld	(hl),a
1493  0496  2A 00 00    	ld	hl,(_enemies)
1494  0499  26 00       	ld	h,0x00
1495  049B  01 00 00    	ld	bc,_state
1496  049E  09          	add	hl,bc
1497  049F  7E          	ld	a,(hl)
1498  04A0  EE 10       	xor	a,0x10
1499  04A2  77          	ld	(hl),a
1500  04A3  2A 00 00    	ld	hl,(_enemies)
1501  04A6  26 00       	ld	h,0x00
1502  04A8  01 00 00    	ld	bc,_jump_lin
1503  04AB  09          	add	hl,bc
1504  04AC  4D          	ld	c,l
1505  04AD  44          	ld	b,h
1506  04AE  2A 00 00    	ld	hl,(_enemies)
1507  04B1  26 00       	ld	h,0x00
1508  04B3  11 00 00    	ld	de,_lin
1509  04B6  19          	add	hl,de
1510  04B7  7E          	ld	a,(hl)
1511  04B8  02          	ld	(bc),a
1512  04B9  2A 00 00    	ld	hl,(_enemies)
1513  04BC  26 00       	ld	h,0x00
1514  04BE  01 00 00    	ld	bc,_state
1515  04C1  09          	add	hl,bc
1516  04C2  7E          	ld	a,(hl)
1517  04C3  DD 77 FF    	ld	(ix-1),a
1518  04C6  CB 67       	bit	4,a
1519  04C8  4D          	ld	c,l
1520  04C9  44          	ld	b,h
1521  04CA  28 22       	jr	Z,l_enemy_flip_00105
1522  04CC  21 00 00    	ld	hl,_ay_effect_02
1523  04CF  CD 00 00    	call	_ay_fx_play
1524  04D2  2E 00       	ld	l,0x00
1525  04D4  CD 75 03    	call	_enemy_flip_change_dir
1526  04D7  2A 00 00    	ld	hl,(_enemies)
1527  04DA  26 00       	ld	h,0x00
1528  04DC  01 00 00    	ld	bc,_tile
1529  04DF  09          	add	hl,bc
1530  04E0  DD 7E FD    	ld	a,(ix-3)
1531  04E3  C6 06       	add	a,0x06
1532  04E5  77          	ld	(hl),a
1533  04E6  21 01 00    	ld	hl,0x0001
1534  04E9  CD 00 00    	call	_player_score_add
1535  04EC  18 44       	jr	l_enemy_flip_00107
1536  04EE              l_enemy_flip_00105:
1537  04EE  2A 00 00    	ld	hl,(_enemies)
1538  04F1  26 00       	ld	h,0x00
1539  04F3  11 00 00    	ld	de,_state_a
1540  04F6  19          	add	hl,de
1541  04F7  5E          	ld	e, (hl)
1542  04F8  DD 7E FF    	ld	a,(ix-1)
1543  04FB  F6 04       	or	a,0x04
1544  04FD  CB 63       	bit	4, e
1545  04FF  28 10       	jr	Z,l_enemy_flip_00102
1546  0501  02          	ld	(bc),a
1547  0502  2A 00 00    	ld	hl,(_enemies)
1548  0505  26 00       	ld	h,0x00
1549  0507  01 00 00    	ld	bc,_state
1550  050A  09          	add	hl,bc
1551  050B  7E          	ld	a,(hl)
1552  050C  E6 F7       	and	a,0xf7
1553  050E  77          	ld	(hl),a
1554  050F  18 0E       	jr	l_enemy_flip_00103
1555  0511              l_enemy_flip_00102:
1556  0511  02          	ld	(bc),a
1557  0512  2A 00 00    	ld	hl,(_enemies)
1558  0515  26 00       	ld	h,0x00
1559  0517  01 00 00    	ld	bc,_state
1560  051A  09          	add	hl,bc
1561  051B  7E          	ld	a,(hl)
1562  051C  E6 F7       	and	a,0xf7
1563  051E  77          	ld	(hl),a
1564  051F              l_enemy_flip_00103:
1565  051F  2A 00 00    	ld	hl,(_enemies)
1566  0522  26 00       	ld	h,0x00
1567  0524  01 00 00    	ld	bc,_tile
1568  0527  09          	add	hl,bc
1569  0528  E5          	push	hl
1570  0529  2A 00 00    	ld	hl,(_enemies)
1571  052C  CD 00 00    	call	_spr_tile
1572  052F  C1          	pop	bc
1573  0530  7D          	ld	a, l
1574  0531  02          	ld	(bc),a
1575  0532              l_enemy_flip_00107:
1576  0532  DD F9       	ld	sp, ix
1577  0534  DD E1       	pop	ix
1578  0536  C9          	ret
1579  0537              	SECTION code_compiler
1580  0537              ;	---------------------------------
1581  0537              ; Function enemy_flip_sidestepper
1582  0537              ; ---------------------------------
1583  0537              _enemy_flip_sidestepper:
1584  0537  4D          	ld	c,l
1585  0538  44          	ld	b,h
1586  0539  2A 00 00    	ld	hl,(_enemies)
1587  053C  26 00       	ld	h,0x00
1588  053E  11 00 00    	ld	de,_state
1589  0541  19          	add	hl,de
1590  0542  CB 76       	bit	6,(hl)
1591  0544  28 07       	jr	Z,l_enemy_flip_sidestepper_00102
1592  0546  69          	ld	l, c
1593  0547  60          	ld	h, b
1594  0548  CD 60 04    	call	_enemy_flip
1595  054B  18 55       	jr	l_enemy_flip_sidestepper_00104
1596  054D              l_enemy_flip_sidestepper_00102:
1597  054D  2E 01       	ld	l,0x01
1598  054F  CD 75 03    	call	_enemy_flip_change_dir
1599  0552  2A 00 00    	ld	hl,(_enemies)
1600  0555  26 00       	ld	h,0x00
1601  0557  01 00 00    	ld	bc,_state
1602  055A  09          	add	hl,bc
1603  055B  7E          	ld	a,(hl)
1604  055C  EE 01       	xor	a,0x01
1605  055E  77          	ld	(hl),a
1606  055F  2A 00 00    	ld	hl,(_enemies)
1607  0562  26 00       	ld	h,0x00
1608  0564  01 00 00    	ld	bc,_state
1609  0567  09          	add	hl,bc
1610  0568  7E          	ld	a,(hl)
1611  0569  E6 FD       	and	a,0xfd
1612  056B  77          	ld	(hl),a
1613  056C  2A 00 00    	ld	hl,(_enemies)
1614  056F  26 00       	ld	h,0x00
1615  0571  01 00 00    	ld	bc,_state
1616  0574  09          	add	hl,bc
1617  0575  7E          	ld	a,(hl)
1618  0576  F6 40       	or	a,0x40
1619  0578  77          	ld	(hl),a
1620  0579  2A 00 00    	ld	hl,(_enemies)
1621  057C  26 00       	ld	h,0x00
1622  057E  01 00 00    	ld	bc,_jump_lin
1623  0581  09          	add	hl,bc
1624  0582  4D          	ld	c,l
1625  0583  44          	ld	b,h
1626  0584  2A 00 00    	ld	hl,(_enemies)
1627  0587  26 00       	ld	h,0x00
1628  0589  11 00 00    	ld	de,_lin
1629  058C  19          	add	hl,de
1630  058D  7E          	ld	a,(hl)
1631  058E  02          	ld	(bc),a
1632  058F  2A 00 00    	ld	hl,(_enemies)
1633  0592  26 00       	ld	h,0x00
1634  0594  01 00 00    	ld	bc,_tile
1635  0597  09          	add	hl,bc
1636  0598  E5          	push	hl
1637  0599  2A 00 00    	ld	hl,(_enemies)
1638  059C  CD 00 00    	call	_spr_tile
1639  059F  C1          	pop	bc
1640  05A0  7D          	ld	a, l
1641  05A1  02          	ld	(bc),a
1642  05A2              l_enemy_flip_sidestepper_00104:
1643  05A2  C9          	ret
1644  05A3              	SECTION code_compiler
1645  05A3              ;	---------------------------------
1646  05A3              ; Function enemy_turn
1647  05A3              ; ---------------------------------
1648  05A3              _enemy_turn:
1649  05A3  21 00 00    	ld	hl,_sprite
1650  05A6  36 00       	ld	(hl),0x00
1651  05A8              l_enemy_turn_00126:
1652  05A8  2A 00 00    	ld	hl,(_sprite)
1653  05AB  26 00       	ld	h,0x00
1654  05AD  01 00 00    	ld	bc,_class
1655  05B0  09          	add	hl,bc
1656  05B1  7E          	ld	a,(hl)
1657  05B2  B7          	or	a, a
1658  05B3  CA D2 06    	jp	Z,l_enemy_turn_00124
1659  05B6  21 00 00    	ld	hl,_sprite
1660  05B9  CD 00 00    	call	_spr_chktime
1661  05BC  7D          	ld	a,l
1662  05BD  B7          	or	a, a
1663  05BE  CA D2 06    	jp	Z,l_enemy_turn_00124
1664  05C1  2A 00 00    	ld	hl,(_sprite)
1665  05C4  26 00       	ld	h,0x00
1666  05C6  01 00 00    	ld	bc,_lin
1667  05C9  09          	add	hl,bc
1668  05CA  7E          	ld	a,(hl)
1669  05CB  32 00 00    	ld	(_s_lin0),a
1670  05CE  2A 00 00    	ld	hl,(_sprite)
1671  05D1  26 00       	ld	h,0x00
1672  05D3  01 00 00    	ld	bc,_col
1673  05D6  09          	add	hl,bc
1674  05D7  7E          	ld	a,(hl)
1675  05D8  32 00 00    	ld	(_s_col0),a
1676  05DB  2A 00 00    	ld	hl,(_sprite)
1677  05DE  26 00       	ld	h,0x00
1678  05E0  01 00 00    	ld	bc,_tile
1679  05E3  09          	add	hl,bc
1680  05E4  4E          	ld	c, (hl)
1681  05E5  3A 00 00    	ld	a,(_sprite)
1682  05E8  5F          	ld	e,a
1683  05E9  16 00       	ld	d,0x00
1684  05EB  21 00 00    	ld	hl,_colint
1685  05EE  19          	add	hl,de
1686  05EF  7E          	ld	a,(hl)
1687  05F0  81          	add	a,c
1688  05F1  32 00 00    	ld	(_s_tile0),a
1689  05F4  2A 00 00    	ld	hl,(_sprite)
1690  05F7  26 00       	ld	h,0x00
1691  05F9  01 00 00    	ld	bc,_state
1692  05FC  09          	add	hl,bc
1693  05FD  7E          	ld	a,(hl)
1694  05FE  32 00 00    	ld	(_s_state),a
1695  0601  2A 00 00    	ld	hl,(_sprite)
1696  0604  26 00       	ld	h,0x00
1697  0606  29          	add	hl,hl
1698  0607  01 00 00    	ld	bc,_last_time
1699  060A  09          	add	hl,bc
1700  060B  ED 5B 00 00 	ld	de,(_curr_time)
1701  060F  73          	ld	(hl),e
1702  0610  23          	inc	hl
1703  0611  72          	ld	(hl),d
1704  0612  2A 00 00    	ld	hl,(_sprite)
1705  0615  26 00       	ld	h,0x00
1706  0617  01 00 00    	ld	bc,_class
1707  061A  09          	add	hl,bc
1708  061B  4D          	ld	c,l
1709  061C  44          	ld	b,h
1710  061D  21 00 00    	ld	hl,_s_state
1711  0620  7E          	ld	a,(hl)
1712  0621  E6 01       	and	a,0x01
1713  0623  5F          	ld	e,a
1714  0624  7E          	ld	a,(hl)
1715  0625  E6 20       	and	a,0x20
1716  0627  28 1C       	jr	Z,l_enemy_turn_00102
1717  0629  7B          	ld	a,e
1718  062A  B7          	or	a, a
1719  062B  28 0F       	jr	Z,l_enemy_turn_00101
1720  062D  0A          	ld	a,(bc)
1721  062E  57          	ld	d,a
1722  062F  D6 07       	sub	a,0x07
1723  0631  28 09       	jr	Z,l_enemy_turn_00101
1724  0633  7A          	ld	a,d
1725  0634  FE 0A       	cp	a,0x0a
1726  0636  28 04       	jr	Z,l_enemy_turn_00101
1727  0638  D6 0B       	sub	a,0x0b
1728  063A  20 09       	jr	NZ,l_enemy_turn_00102
1729  063C              l_enemy_turn_00101:
1730  063C  2A 00 00    	ld	hl,(_sprite)
1731  063F  CD 00 00    	call	_spr_killed
1732  0642  C3 D2 06    	jp	l_enemy_turn_00124
1733  0645              l_enemy_turn_00102:
1734  0645  3A 00 00    	ld	a,(_s_state)
1735  0648  E6 10       	and	a,0x10
1736  064A  28 32       	jr	Z,l_enemy_turn_00110
1737  064C  3A 00 00    	ld	a,(_s_state)
1738  064F  E6 02       	and	a,0x02
1739  0651  20 2B       	jr	NZ,l_enemy_turn_00110
1740  0653  7B          	ld	a,e
1741  0654  B7          	or	a, a
1742  0655  20 27       	jr	NZ,l_enemy_turn_00110
1743  0657  2A 00 00    	ld	hl,(_sprite)
1744  065A  26 00       	ld	h,0x00
1745  065C  01 00 00    	ld	bc,_sprite_speed_alt
1746  065F  09          	add	hl,bc
1747  0660  36 08       	ld	(hl),0x08
1748  0662  CD 7C 0C    	call	_enemy_standard_hit
1749  0665  2A 00 00    	ld	hl,(_sprite)
1750  0668  26 00       	ld	h,0x00
1751  066A  01 00 00    	ld	bc,_colint
1752  066D  09          	add	hl,bc
1753  066E  7E          	ld	a,(hl)
1754  066F  3C          	inc	a
1755  0670  77          	ld	(hl),a
1756  0671  5F          	ld	e,a
1757  0672  3E 02       	ld	a,0x02
1758  0674  93          	sub	a,e
1759  0675  30 02       	jr	NC,l_enemy_turn_00108
1760  0677  AF          	xor	a,a
1761  0678  77          	ld	(hl),a
1762  0679              l_enemy_turn_00108:
1763  0679  CD 00 00    	call	_spr_redraw
1764  067C  18 54       	jr	l_enemy_turn_00124
1765  067E              l_enemy_turn_00110:
1766  067E  0A          	ld	a,(bc)
1767  067F  4F          	ld	c,a
1768  0680  D6 07       	sub	a,0x07
1769  0682  38 3B       	jr	C,l_enemy_turn_00119
1770  0684  3E 0C       	ld	a,0x0c
1771  0686  91          	sub	a, c
1772  0687  38 36       	jr	C,l_enemy_turn_00119
1773  0689  79          	ld	a,c
1774  068A  C6 F9       	add	a,0xf9
1775  068C  5F          	ld	e,a
1776  068D  16 00       	ld	d,0x00
1777  068F  21 95 06    	ld	hl,l_enemy_turn_00191
1778  0692  19          	add	hl,de
1779  0693  19          	add	hl,de
1780  0694  E9          	jp	(hl)
1781  0695              l_enemy_turn_00191:
1782  0695  18 19       	jr	l_enemy_turn_00116
1783  0697  18 1C       	jr	l_enemy_turn_00117
1784  0699  18 10       	jr	l_enemy_turn_00115
1785  069B  18 04       	jr	l_enemy_turn_00113
1786  069D  18 07       	jr	l_enemy_turn_00114
1787  069F  18 19       	jr	l_enemy_turn_00118
1788  06A1              l_enemy_turn_00113:
1789  06A1  CD DC 08    	call	_enemy_fireball_red
1790  06A4  18 1C       	jr	l_enemy_turn_00120
1791  06A6              l_enemy_turn_00114:
1792  06A6  CD B2 09    	call	_enemy_fireball_green
1793  06A9  18 17       	jr	l_enemy_turn_00120
1794  06AB              l_enemy_turn_00115:
1795  06AB  CD 59 0A    	call	_enemy_fighterfly
1796  06AE  18 12       	jr	l_enemy_turn_00120
1797  06B0              l_enemy_turn_00116:
1798  06B0  CD 56 07    	call	_enemy_slipice
1799  06B3  18 0D       	jr	l_enemy_turn_00120
1800  06B5              l_enemy_turn_00117:
1801  06B5  CD 00 00    	call	_enemy_coin1
1802  06B8  18 08       	jr	l_enemy_turn_00120
1803  06BA              l_enemy_turn_00118:
1804  06BA  CD 32 00    	call	_enemy_coin2
1805  06BD  18 03       	jr	l_enemy_turn_00120
1806  06BF              l_enemy_turn_00119:
1807  06BF  CD DE 06    	call	_enemy_standard
1808  06C2              l_enemy_turn_00120:
1809  06C2  CD 00 00    	call	_spr_redraw
1810  06C5  2A 00 00    	ld	hl,(_sprite)
1811  06C8  26 00       	ld	h,0x00
1812  06CA  01 00 00    	ld	bc,_state
1813  06CD  09          	add	hl,bc
1814  06CE  3A 00 00    	ld	a,(_s_state)
1815  06D1  77          	ld	(hl),a
1816  06D2              l_enemy_turn_00124:
1817  06D2  21 00 00    	ld	hl,_sprite
1818  06D5  7E          	ld	a,(hl)
1819  06D6  3C          	inc	a
1820  06D7  77          	ld	(hl),a
1821  06D8  D6 06       	sub	a,0x06
1822  06DA  DA A8 05    	jp	C,l_enemy_turn_00126
1823  06DD  C9          	ret
1824  06DE              	SECTION code_compiler
1825  06DE              ;	---------------------------------
1826  06DE              ; Function enemy_standard
1827  06DE              ; ---------------------------------
1828  06DE              _enemy_standard:
1829  06DE  3A 00 00    	ld	a,(_s_state)
1830  06E1  0F          	rrca
1831  06E2  38 2D       	jr	C,l_enemy_standard_00110
1832  06E4  CD 87 0D    	call	_enemy_walk
1833  06E7  2A 00 00    	ld	hl,(_sprite)
1834  06EA  26 00       	ld	h,0x00
1835  06EC  01 00 00    	ld	bc,_lin
1836  06EF  09          	add	hl,bc
1837  06F0  7E          	ld	a,(hl)
1838  06F1  D6 98       	sub	a,0x98
1839  06F3  21 00 00    	ld	hl,_sprite
1840  06F6  20 5B       	jr	NZ,l_enemy_standard_00111
1841  06F8  4E          	ld	c,(hl)
1842  06F9  06 00       	ld	b,0x00
1843  06FB  21 00 00    	ld	hl,_col
1844  06FE  09          	add	hl,bc
1845  06FF  7E          	ld	a,(hl)
1846  0700  4F          	ld	c,a
1847  0701  D6 05       	sub	a,0x05
1848  0703  38 05       	jr	C,l_enemy_standard_00101
1849  0705  3E 19       	ld	a,0x19
1850  0707  91          	sub	a, c
1851  0708  30 49       	jr	NC,l_enemy_standard_00111
1852  070A              l_enemy_standard_00101:
1853  070A  21 00 00    	ld	hl,_s_state
1854  070D  CB C6       	set	0, (hl)
1855  070F  18 42       	jr	l_enemy_standard_00111
1856  0711              l_enemy_standard_00110:
1857  0711  2A 00 00    	ld	hl,(_sprite)
1858  0714  26 00       	ld	h,0x00
1859  0716  01 00 00    	ld	bc,_sprite_speed_alt
1860  0719  09          	add	hl,bc
1861  071A  36 01       	ld	(hl),0x01
1862  071C  CD 00 00    	call	_spr_move_horizontal
1863  071F  CD 00 00    	call	_spr_move_up
1864  0722  3A 00 00    	ld	a,(_s_state)
1865  0725  0F          	rrca
1866  0726  D2 6C 0B    	jp	NC,_enemy_trip
1867  0729  2A 00 00    	ld	hl,(_sprite)
1868  072C  26 00       	ld	h,0x00
1869  072E  5D          	ld	e,l
1870  072F  01 00 00    	ld	bc,_jump_lin
1871  0732  09          	add	hl,bc
1872  0733  4E          	ld	c,(hl)
1873  0734  06 00       	ld	b,0x00
1874  0736  50          	ld	d,b
1875  0737  21 00 00    	ld	hl,_lin
1876  073A  19          	add	hl,de
1877  073B  5E          	ld	e, (hl)
1878  073C  16 00       	ld	d,0x00
1879  073E  79          	ld	a,c
1880  073F  93          	sub	a, e
1881  0740  4F          	ld	c,a
1882  0741  78          	ld	a,b
1883  0742  9A          	sbc	a, d
1884  0743  47          	ld	b,a
1885  0744  79          	ld	a,c
1886  0745  D6 0C       	sub	a,0x0c
1887  0747  78          	ld	a,b
1888  0748  17          	rla
1889  0749  3F          	ccf
1890  074A  1F          	rra
1891  074B  DE 80       	sbc	a,0x80
1892  074D  DA 6C 0B    	jp	C,_enemy_trip
1893  0750  CD 00 00    	call	_spr_set_fall
1894  0753              l_enemy_standard_00111:
1895  0753  C3 6C 0B    	jp  _enemy_trip
1896  0756              	SECTION code_compiler
1897  0756              ;	---------------------------------
1898  0756              ; Function enemy_slipice
1899  0756              ; ---------------------------------
1900  0756              _enemy_slipice:
1901  0756  3A 00 00    	ld	a,(_phase_left)
1902  0759  B7          	or	a, a
1903  075A  CA DB 08    	jp	Z,l_enemy_slipice_00126
1904  075D  2A 00 00    	ld	hl,(_sprite)
1905  0760  26 00       	ld	h,0x00
1906  0762  01 00 00    	ld	bc,_state
1907  0765  09          	add	hl,bc
1908  0766  7E          	ld	a,(hl)
1909  0767  CB 77       	bit	6, a
1910  0769  CA 07 08    	jp	Z,l_enemy_slipice_00122
1911  076C  76          	halt
1912  076D  2A 00 00    	ld	hl,(_sprite)
1913  0770  26 00       	ld	h,0x00
1914  0772  01 00 00    	ld	bc,_col
1915  0775  09          	add	hl,bc
1916  0776  56          	ld	d, (hl)
1917  0777  2A 00 00    	ld	hl,(_sprite)
1918  077A  26 00       	ld	h,0x00
1919  077C  01 00 00    	ld	bc,_lin
1920  077F  09          	add	hl,bc
1921  0780  7E          	ld	a,(hl)
1922  0781  C6 08       	add	a,0x08
1923  0783  5F          	ld	e,a
1924  0784  2A 00 00    	ld	hl,(_sprite)
1925  0787  26 00       	ld	h,0x00
1926  0789  01 00 00    	ld	bc,_colint
1927  078C  09          	add	hl,bc
1928  078D  7E          	ld	a,(hl)
1929  078E  C6 8D       	add	a,0x8d
1930  0790  4D          	ld	c,l
1931  0791  47          	ld	b,a
1932  0792  D5          	push	de
1933  0793  C5          	push	bc
1934  0794  33          	inc	sp
1935  0795  CD 00 00    	call	_NIRVANAP_drawT_callee
1936  0798  2A 00 00    	ld	hl,(_sprite)
1937  079B  26 00       	ld	h,0x00
1938  079D  01 00 00    	ld	bc,_colint
1939  07A0  09          	add	hl,bc
1940  07A1  7E          	ld	a,(hl)
1941  07A2  3C          	inc	a
1942  07A3  77          	ld	(hl),a
1943  07A4  5F          	ld	e,a
1944  07A5  3E 02       	ld	a,0x02
1945  07A7  93          	sub	a,e
1946  07A8  30 02       	jr	NC,l_enemy_slipice_00102
1947  07AA  AF          	xor	a,a
1948  07AB  77          	ld	(hl),a
1949  07AC              l_enemy_slipice_00102:
1950  07AC  2A 00 00    	ld	hl,(_sprite)
1951  07AF  26 00       	ld	h,0x00
1952  07B1  29          	add	hl, hl
1953  07B2  11 00 00    	ld	de,_spr_timer
1954  07B5  19          	add	hl,de
1955  07B6  4E          	ld	c,(hl)
1956  07B7  23          	inc	hl
1957  07B8  46          	ld	b,(hl)
1958  07B9  21 28 00    	ld	hl,0x0028
1959  07BC  E5          	push	hl
1960  07BD  C5          	push	bc
1961  07BE  CD 00 00    	call	_game_check_time
1962  07C1  F1          	pop	af
1963  07C2  F1          	pop	af
1964  07C3  7D          	ld	a,l
1965  07C4  B7          	or	a, a
1966  07C5  CA DB 08    	jp	Z,l_enemy_slipice_00126
1967  07C8  2A 00 00    	ld	hl,(_sprite)
1968  07CB  26 00       	ld	h,0x00
1969  07CD  5D          	ld	e,l
1970  07CE  01 00 00    	ld	bc,_col
1971  07D1  09          	add	hl,bc
1972  07D2  46          	ld	b,(hl)
1973  07D3  16 00       	ld	d,0x00
1974  07D5  21 00 00    	ld	hl,_lin
1975  07D8  19          	add	hl,de
1976  07D9  7E          	ld	a,(hl)
1977  07DA  C6 18       	add	a,0x18
1978  07DC  4F          	ld	c,a
1979  07DD  C5          	push	bc
1980  07DE  CD 00 00    	call	_game_freeze
1981  07E1  F1          	pop	af
1982  07E2  2A 00 00    	ld	hl,(_sprite)
1983  07E5  26 00       	ld	h,0x00
1984  07E7  5D          	ld	e,l
1985  07E8  01 00 00    	ld	bc,_col
1986  07EB  09          	add	hl,bc
1987  07EC  46          	ld	b,(hl)
1988  07ED  16 00       	ld	d,0x00
1989  07EF  21 00 00    	ld	hl,_lin
1990  07F2  19          	add	hl,de
1991  07F3  7E          	ld	a,(hl)
1992  07F4  C6 08       	add	a,0x08
1993  07F6  4F          	ld	c,a
1994  07F7  C5          	push	bc
1995  07F8  AF          	xor	a, a
1996  07F9  F5          	push	af
1997  07FA  33          	inc	sp
1998  07FB  CD 00 00    	call	_NIRVANAP_fillT_callee
1999  07FE  2A 00 00    	ld	hl,(_sprite)
2000  0801  CD 00 00    	call	_spr_destroy
2001  0804  C3 DB 08    	jp	l_enemy_slipice_00126
2002  0807              l_enemy_slipice_00122:
2003  0807  CB 47       	bit	0, a
2004  0809  C2 B0 08    	jp	NZ,l_enemy_slipice_00110
2005  080C  CB 4F       	bit	1, a
2006  080E  C2 B0 08    	jp	NZ,l_enemy_slipice_00110
2007  0811  2A 00 00    	ld	hl,(_sprite)
2008  0814  26 00       	ld	h,0x00
2009  0816  01 00 00    	ld	bc,_col
2010  0819  09          	add	hl,bc
2011  081A  7E          	ld	a,(hl)
2012  081B  4F          	ld	c,a
2013  081C  D6 07       	sub	a,0x07
2014  081E  28 0A       	jr	Z,l_enemy_slipice_00116
2015  0820  79          	ld	a,c
2016  0821  FE 0F       	cp	a,0x0f
2017  0823  28 05       	jr	Z,l_enemy_slipice_00116
2018  0825  D6 18       	sub	a,0x18
2019  0827  C2 B0 08    	jp	NZ,l_enemy_slipice_00110
2020  082A              l_enemy_slipice_00116:
2021  082A  79          	ld	a,c
2022  082B  D6 88       	sub	a,0x88
2023  082D  D2 B0 08    	jp	NC,l_enemy_slipice_00110
2024  0830  CD 00 00    	call	_rand
2025  0833  22 00 00    	ld	(_tmp_ui),hl
2026  0836  2A 00 00    	ld	hl,(_sprite)
2027  0839  26 00       	ld	h,0x00
2028  083B  01 00 00    	ld	bc,_col
2029  083E  09          	add	hl,bc
2030  083F  56          	ld	d, (hl)
2031  0840  2A 00 00    	ld	hl,(_sprite)
2032  0843  26 00       	ld	h,0x00
2033  0845  01 00 00    	ld	bc,_lin
2034  0848  09          	add	hl,bc
2035  0849  7E          	ld	a,(hl)
2036  084A  C6 10       	add	a,0x10
2037  084C  5F          	ld	e, a
2038  084D  D5          	push	de
2039  084E  CD 00 00    	call	_game_calc_index
2040  0851  F1          	pop	af
2041  0852  22 00 00    	ld	(_index1),hl
2042  0855  01 00 00    	ld	bc,_lvl_1
2043  0858  09          	add	hl,bc
2044  0859  7E          	ld	a,(hl)
2045  085A  D6 12       	sub	a,0x12
2046  085C  20 4D       	jr	NZ,l_enemy_slipice_00106
2047  085E  21 00 00    	ld	hl,_tmp_ui
2048  0861  7E          	ld	a,(hl)
2049  0862  D6 32       	sub	a,0x32
2050  0864  23          	inc	hl
2051  0865  7E          	ld	a,(hl)
2052  0866  DE 33       	sbc	a,0x33
2053  0868  30 41       	jr	NC,l_enemy_slipice_00106
2054  086A  21 00 00    	ld	hl,_ay_effect_16
2055  086D  CD 00 00    	call	_ay_fx_play
2056  0870  21 00 00    	ld	hl,_s_state
2057  0873  CB F6       	set	6, (hl)
2058  0875  01 00 00    	ld	bc,_spr_timer+0
2059  0878  2A 00 00    	ld	hl,(_sprite)
2060  087B  26 00       	ld	h,0x00
2061  087D  29          	add	hl, hl
2062  087E  09          	add	hl,bc
2063  087F  ED 5B 00 00 	ld	de,(_curr_time)
2064  0883  73          	ld	(hl),e
2065  0884  23          	inc	hl
2066  0885  72          	ld	(hl),d
2067  0886  2A 00 00    	ld	hl,(_sprite)
2068  0889  26 00       	ld	h,0x00
2069  088B  01 00 00    	ld	bc,_lin
2070  088E  09          	add	hl,bc
2071  088F  7E          	ld	a,(hl)
2072  0890  C6 F8       	add	a,0xf8
2073  0892  77          	ld	(hl),a
2074  0893  2A 00 00    	ld	hl,(_sprite)
2075  0896  26 00       	ld	h,0x00
2076  0898  01 00 00    	ld	bc,_colint
2077  089B  09          	add	hl,bc
2078  089C  AF          	xor	a,a
2079  089D  77          	ld	(hl),a
2080  089E  2A 00 00    	ld	hl,(_sprite)
2081  08A1  26 00       	ld	h,0x00
2082  08A3  01 00 00    	ld	bc,_tile
2083  08A6  09          	add	hl,bc
2084  08A7  36 7B       	ld	(hl),0x7b
2085  08A9  18 08       	jr	l_enemy_slipice_00111
2086  08AB              l_enemy_slipice_00106:
2087  08AB  CD 87 0D    	call	_enemy_walk
2088  08AE  18 03       	jr	l_enemy_slipice_00111
2089  08B0              l_enemy_slipice_00110:
2090  08B0  CD 87 0D    	call	_enemy_walk
2091  08B3              l_enemy_slipice_00111:
2092  08B3  2A 00 00    	ld	hl,(_sprite)
2093  08B6  26 00       	ld	h,0x00
2094  08B8  01 00 00    	ld	bc,_lin
2095  08BB  09          	add	hl,bc
2096  08BC  7E          	ld	a,(hl)
2097  08BD  D6 98       	sub	a,0x98
2098  08BF  20 1A       	jr	NZ,l_enemy_slipice_00126
2099  08C1  2A 00 00    	ld	hl,(_sprite)
2100  08C4  26 00       	ld	h,0x00
2101  08C6  01 00 00    	ld	bc,_col
2102  08C9  09          	add	hl,bc
2103  08CA  7E          	ld	a,(hl)
2104  08CB  4F          	ld	c,a
2105  08CC  D6 03       	sub	a,0x03
2106  08CE  28 05       	jr	Z,l_enemy_slipice_00117
2107  08D0  79          	ld	a,c
2108  08D1  D6 1B       	sub	a,0x1b
2109  08D3  20 06       	jr	NZ,l_enemy_slipice_00126
2110  08D5              l_enemy_slipice_00117:
2111  08D5  2A 00 00    	ld	hl,(_sprite)
2112  08D8  CD 00 00    	call	_spr_destroy
2113  08DB              l_enemy_slipice_00126:
2114  08DB  C9          	ret
2115  08DC              	SECTION code_compiler
2116  08DC              ;	---------------------------------
2117  08DC              ; Function enemy_fireball_red
2118  08DC              ; ---------------------------------
2119  08DC              _enemy_fireball_red:
2120  08DC  3A 00 00    	ld	a,(_phase_left)
2121  08DF  B7          	or	a, a
2122  08E0  CA B1 09    	jp	Z,l_enemy_fireball_red_00119
2123  08E3  3A 00 00    	ld	a,(_s_state)
2124  08E6  0F          	rrca
2125  08E7  30 11       	jr	NC,l_enemy_fireball_red_00106
2126  08E9  CD 00 00    	call	_spr_move_up
2127  08EC  7D          	ld	a,l
2128  08ED  B7          	or	a, a
2129  08EE  28 03       	jr	Z,l_enemy_fireball_red_00102
2130  08F0  CD 00 00    	call	_spr_set_fall
2131  08F3              l_enemy_fireball_red_00102:
2132  08F3  21 00 00    	ld	hl,_tmp
2133  08F6  36 00       	ld	(hl),0x00
2134  08F8  18 15       	jr	l_enemy_fireball_red_00107
2135  08FA              l_enemy_fireball_red_00106:
2136  08FA  CD 00 00    	call	_spr_move_down
2137  08FD  7D          	ld	a,l
2138  08FE  B7          	or	a, a
2139  08FF  28 09       	jr	Z,l_enemy_fireball_red_00104
2140  0901  21 00 00    	ld	hl,_s_state
2141  0904  7E          	ld	a,(hl)
2142  0905  E6 FD       	and	a,0xfd
2143  0907  F6 01       	or	a,0x01
2144  0909  77          	ld	(hl),a
2145  090A              l_enemy_fireball_red_00104:
2146  090A  21 00 00    	ld	hl,_tmp
2147  090D  36 10       	ld	(hl),0x10
2148  090F              l_enemy_fireball_red_00107:
2149  090F  CD 00 00    	call	_spr_move_horizontal
2150  0912  3A 00 00    	ld	a,(_s_state)
2151  0915  E6 04       	and	a,0x04
2152  0917  28 11       	jr	Z,l_enemy_fireball_red_00109
2153  0919  2A 00 00    	ld	hl,(_sprite)
2154  091C  26 00       	ld	h,0x00
2155  091E  01 00 00    	ld	bc,_col
2156  0921  09          	add	hl,bc
2157  0922  7E          	ld	a,(hl)
2158  0923  C6 02       	add	a,0x02
2159  0925  32 00 00    	ld	(_s_col1),a
2160  0928  18 0F       	jr	l_enemy_fireball_red_00110
2161  092A              l_enemy_fireball_red_00109:
2162  092A  2A 00 00    	ld	hl,(_sprite)
2163  092D  26 00       	ld	h,0x00
2164  092F  01 00 00    	ld	bc,_col
2165  0932  09          	add	hl,bc
2166  0933  7E          	ld	a,(hl)
2167  0934  C6 FF       	add	a,0xff
2168  0936  32 00 00    	ld	(_s_col1),a
2169  0939              l_enemy_fireball_red_00110:
2170  0939  2A 00 00    	ld	hl,(_sprite)
2171  093C  26 00       	ld	h,0x00
2172  093E  01 00 00    	ld	bc,_lin
2173  0941  09          	add	hl,bc
2174  0942  4E          	ld	c, (hl)
2175  0943  3A 00 00    	ld	a, (_s_col1)
2176  0946  47          	ld	b,a
2177  0947  C5          	push	bc
2178  0948  CD 00 00    	call	_game_calc_index
2179  094B  F1          	pop	af
2180  094C  22 00 00    	ld	(_index1),hl
2181  094F  01 00 00    	ld	bc,_lvl_1
2182  0952  09          	add	hl,bc
2183  0953  7E          	ld	a,(hl)
2184  0954  D6 BF       	sub	a,0xbf
2185  0956  30 14       	jr	NC,l_enemy_fireball_red_00111
2186  0958  2A 00 00    	ld	hl,(_sprite)
2187  095B  26 00       	ld	h,0x00
2188  095D  01 00 00    	ld	bc,_col
2189  0960  09          	add	hl,bc
2190  0961  7E          	ld	a,(hl)
2191  0962  4F          	ld	c,a
2192  0963  D6 02       	sub	a,0x02
2193  0965  38 05       	jr	C,l_enemy_fireball_red_00111
2194  0967  3E 1D       	ld	a,0x1d
2195  0969  91          	sub	a, c
2196  096A  30 07       	jr	NC,l_enemy_fireball_red_00112
2197  096C              l_enemy_fireball_red_00111:
2198  096C  21 00 00    	ld	hl,_s_state
2199  096F  7E          	ld	a,(hl)
2200  0970  EE 0C       	xor	a,+(0x04^0x08)
2201  0972  77          	ld	(hl),a
2202  0973              l_enemy_fireball_red_00112:
2203  0973  01 00 00    	ld	bc,_spr_timer+0
2204  0976  2A 00 00    	ld	hl,(_sprite)
2205  0979  26 00       	ld	h,0x00
2206  097B  29          	add	hl, hl
2207  097C  09          	add	hl,bc
2208  097D  5E          	ld	e,(hl)
2209  097E  23          	inc	hl
2210  097F  56          	ld	d,(hl)
2211  0980  C5          	push	bc
2212  0981  21 DC 05    	ld	hl,0x05dc
2213  0984  E5          	push	hl
2214  0985  D5          	push	de
2215  0986  CD 00 00    	call	_game_check_time
2216  0989  F1          	pop	af
2217  098A  F1          	pop	af
2218  098B  C1          	pop	bc
2219  098C  7D          	ld	a,l
2220  098D  B7          	or	a, a
2221  098E  C8          	ret	Z
2222  098F  2A 00 00    	ld	hl,(_sprite)
2223  0992  26 00       	ld	h,0x00
2224  0994  29          	add	hl, hl
2225  0995  09          	add	hl,bc
2226  0996  ED 5B 00 00 	ld	de,(_curr_time)
2227  099A  73          	ld	(hl),e
2228  099B  23          	inc	hl
2229  099C  72          	ld	(hl),d
2230  099D  2A 00 00    	ld	hl,(_sprite)
2231  09A0  26 00       	ld	h,0x00
2232  09A2  01 00 00    	ld	bc,_sprite_speed_alt
2233  09A5  09          	add	hl,bc
2234  09A6  36 08       	ld	(hl),0x08
2235  09A8  21 00 00    	ld	hl,_s_state
2236  09AB  7E          	ld	a,(hl)
2237  09AC  F6 20       	or	a,0x20
2238  09AE  E6 FC       	and	a,+(0xfe&0xfd)
2239  09B0  77          	ld	(hl),a
2240  09B1              l_enemy_fireball_red_00119:
2241  09B1  C9          	ret
2242  09B2              	SECTION code_compiler
2243  09B2              ;	---------------------------------
2244  09B2              ; Function enemy_fireball_green
2245  09B2              ; ---------------------------------
2246  09B2              _enemy_fireball_green:
2247  09B2  3A 00 00    	ld	a,(_phase_left)
2248  09B5  B7          	or	a, a
2249  09B6  CA 58 0A    	jp	Z,l_enemy_fireball_green_00113
2250  09B9  2A 00 00    	ld	hl,(_sprite)
2251  09BC  26 00       	ld	h,0x00
2252  09BE  5D          	ld	e,l
2253  09BF  01 00 00    	ld	bc,_jump_lin
2254  09C2  09          	add	hl,bc
2255  09C3  4E          	ld	c,(hl)
2256  09C4  06 00       	ld	b,0x00
2257  09C6  50          	ld	d,b
2258  09C7  21 00 00    	ld	hl,_lin
2259  09CA  19          	add	hl,de
2260  09CB  5E          	ld	e, (hl)
2261  09CC  16 00       	ld	d,0x00
2262  09CE  79          	ld	a,c
2263  09CF  93          	sub	a, e
2264  09D0  6F          	ld	l,a
2265  09D1  78          	ld	a,b
2266  09D2  9A          	sbc	a, d
2267  09D3  67          	ld	h,a
2268  09D4  CD 00 00    	call	_abs_fastcall
2269  09D7  22 00 00    	ld	(_index1),hl
2270  09DA  3E 08       	ld	a,0x08
2271  09DC  21 00 00    	ld	hl,_index1
2272  09DF  BE          	cp	a, (hl)
2273  09E0  3E 00       	ld	a,0x00
2274  09E2  23          	inc	hl
2275  09E3  9E          	sbc	a, (hl)
2276  09E4  30 1E       	jr	NC,l_enemy_fireball_green_00102
2277  09E6  21 00 00    	ld	hl,_s_state
2278  09E9  7E          	ld	a,(hl)
2279  09EA  EE 03       	xor	a,+(0x01^0x02)
2280  09EC  77          	ld	(hl),a
2281  09ED  2A 00 00    	ld	hl,(_sprite)
2282  09F0  26 00       	ld	h,0x00
2283  09F2  01 00 00    	ld	bc,_jump_lin
2284  09F5  09          	add	hl,bc
2285  09F6  3A 00 00    	ld	a,(_sprite)
2286  09F9  5F          	ld	e,a
2287  09FA  16 00       	ld	d,0x00
2288  09FC  4D          	ld	c,l
2289  09FD  44          	ld	b,h
2290  09FE  21 00 00    	ld	hl,_lin
2291  0A01  19          	add	hl,de
2292  0A02  7E          	ld	a,(hl)
2293  0A03  02          	ld	(bc),a
2294  0A04              l_enemy_fireball_green_00102:
2295  0A04  3A 00 00    	ld	a,(_s_state)
2296  0A07  0F          	rrca
2297  0A08  30 08       	jr	NC,l_enemy_fireball_green_00104
2298  0A0A  CD 00 00    	call	_spr_move_horizontal
2299  0A0D  CD 00 00    	call	_spr_move_up
2300  0A10  18 06       	jr	l_enemy_fireball_green_00105
2301  0A12              l_enemy_fireball_green_00104:
2302  0A12  CD 00 00    	call	_spr_move_horizontal
2303  0A15  CD 00 00    	call	_spr_move_down
2304  0A18              l_enemy_fireball_green_00105:
2305  0A18  2A 00 00    	ld	hl,(_sprite)
2306  0A1B  26 00       	ld	h,0x00
2307  0A1D  01 00 00    	ld	bc,_col
2308  0A20  09          	add	hl,bc
2309  0A21  7E          	ld	a,(hl)
2310  0A22  B7          	or	a, a
2311  0A23  20 07       	jr	NZ,l_enemy_fireball_green_00110
2312  0A25  3A 00 00    	ld	a,(_s_state)
2313  0A28  E6 08       	and	a,0x08
2314  0A2A  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2315  0A2C              l_enemy_fireball_green_00110:
2316  0A2C  D6 1E       	sub	a,0x1e
2317  0A2E  20 28       	jr	NZ,l_enemy_fireball_green_00113
2318  0A30  3A 00 00    	ld	a,(_s_state)
2319  0A33  E6 04       	and	a,0x04
2320  0A35  28 21       	jr	Z,l_enemy_fireball_green_00113
2321  0A37              l_enemy_fireball_green_00106:
2322  0A37  01 00 00    	ld	bc,_spr_timer+0
2323  0A3A  2A 00 00    	ld	hl,(_sprite)
2324  0A3D  26 00       	ld	h,0x00
2325  0A3F  29          	add	hl, hl
2326  0A40  09          	add	hl,bc
2327  0A41  ED 5B 00 00 	ld	de,(_curr_time)
2328  0A45  73          	ld	(hl),e
2329  0A46  23          	inc	hl
2330  0A47  72          	ld	(hl),d
2331  0A48  2A 00 00    	ld	hl,(_sprite)
2332  0A4B  26 00       	ld	h,0x00
2333  0A4D  01 00 00    	ld	bc,_sprite_speed_alt
2334  0A50  09          	add	hl,bc
2335  0A51  36 08       	ld	(hl),0x08
2336  0A53  21 00 00    	ld	hl,_s_state
2337  0A56  CB EE       	set	5, (hl)
2338  0A58              l_enemy_fireball_green_00113:
2339  0A58  C9          	ret
2340  0A59              	SECTION code_compiler
2341  0A59              ;	---------------------------------
2342  0A59              ; Function enemy_fighterfly
2343  0A59              ; ---------------------------------
2344  0A59              _enemy_fighterfly:
2345  0A59  3A 00 00    	ld	a,(_s_state)
2346  0A5C  0F          	rrca
2347  0A5D  38 59       	jr	C,l_enemy_fighterfly_00106
2348  0A5F  3A 00 00    	ld	a,(_s_state)
2349  0A62  E6 02       	and	a,0x02
2350  0A64  20 52       	jr	NZ,l_enemy_fighterfly_00106
2351  0A66  CD 00 00    	call	_ay_is_playing
2352  0A69  7D          	ld	a, l
2353  0A6A  D6 02       	sub	a,0x02
2354  0A6C  30 06       	jr	NC,l_enemy_fighterfly_00102
2355  0A6E  21 00 00    	ld	hl,_ay_effect_13
2356  0A71  CD 00 00    	call	_ay_fx_play
2357  0A74              l_enemy_fighterfly_00102:
2358  0A74  2A 00 00    	ld	hl,(_sprite)
2359  0A77  26 00       	ld	h,0x00
2360  0A79  29          	add	hl, hl
2361  0A7A  11 00 00    	ld	de,_spr_timer
2362  0A7D  19          	add	hl,de
2363  0A7E  4E          	ld	c,(hl)
2364  0A7F  23          	inc	hl
2365  0A80  46          	ld	b,(hl)
2366  0A81  21 28 00    	ld	hl,0x0028
2367  0A84  E5          	push	hl
2368  0A85  C5          	push	bc
2369  0A86  CD 00 00    	call	_game_check_time
2370  0A89  F1          	pop	af
2371  0A8A  F1          	pop	af
2372  0A8B  7D          	ld	a,l
2373  0A8C  B7          	or	a, a
2374  0A8D  28 29       	jr	Z,l_enemy_fighterfly_00106
2375  0A8F  21 00 00    	ld	hl,_s_state
2376  0A92  CB C6       	set	0, (hl)
2377  0A94  2A 00 00    	ld	hl,(_sprite)
2378  0A97  26 00       	ld	h,0x00
2379  0A99  01 00 00    	ld	bc,_jump_lin
2380  0A9C  09          	add	hl,bc
2381  0A9D  4D          	ld	c,l
2382  0A9E  44          	ld	b,h
2383  0A9F  2A 00 00    	ld	hl,(_sprite)
2384  0AA2  26 00       	ld	h,0x00
2385  0AA4  11 00 00    	ld	de,_lin
2386  0AA7  19          	add	hl,de
2387  0AA8  7E          	ld	a,(hl)
2388  0AA9  02          	ld	(bc),a
2389  0AAA  2A 00 00    	ld	hl,(_sprite)
2390  0AAD  26 00       	ld	h,0x00
2391  0AAF  29          	add	hl, hl
2392  0AB0  11 00 00    	ld	de,_spr_timer
2393  0AB3  19          	add	hl,de
2394  0AB4  AF          	xor	a, a
2395  0AB5  77          	ld	(hl), a
2396  0AB6  23          	inc	hl
2397  0AB7  77          	ld	(hl), a
2398  0AB8              l_enemy_fighterfly_00106:
2399  0AB8  3A 00 00    	ld	a,(_s_state)
2400  0ABB  0F          	rrca
2401  0ABC  30 32       	jr	NC,l_enemy_fighterfly_00123
2402  0ABE  2A 00 00    	ld	hl,(_sprite)
2403  0AC1  26 00       	ld	h,0x00
2404  0AC3  5D          	ld	e,l
2405  0AC4  01 00 00    	ld	bc,_jump_lin
2406  0AC7  09          	add	hl,bc
2407  0AC8  4E          	ld	c,(hl)
2408  0AC9  06 00       	ld	b,0x00
2409  0ACB  50          	ld	d,b
2410  0ACC  21 00 00    	ld	hl,_lin
2411  0ACF  19          	add	hl,de
2412  0AD0  5E          	ld	e, (hl)
2413  0AD1  16 00       	ld	d,0x00
2414  0AD3  79          	ld	a,c
2415  0AD4  93          	sub	a, e
2416  0AD5  4F          	ld	c,a
2417  0AD6  78          	ld	a,b
2418  0AD7  9A          	sbc	a, d
2419  0AD8  47          	ld	b,a
2420  0AD9  79          	ld	a,c
2421  0ADA  D6 08       	sub	a,0x08
2422  0ADC  78          	ld	a,b
2423  0ADD  17          	rla
2424  0ADE  3F          	ccf
2425  0ADF  1F          	rra
2426  0AE0  DE 80       	sbc	a,0x80
2427  0AE2  38 03       	jr	C,l_enemy_fighterfly_00109
2428  0AE4  CD 00 00    	call	_spr_set_fall
2429  0AE7              l_enemy_fighterfly_00109:
2430  0AE7  CD 00 00    	call	_spr_move_horizontal
2431  0AEA  CD 00 00    	call	_spr_move_up
2432  0AED  C3 69 0B    	jp	l_enemy_fighterfly_00124
2433  0AF0              l_enemy_fighterfly_00123:
2434  0AF0  01 00 00    	ld	bc,_spr_timer+0
2435  0AF3  2A 00 00    	ld	hl,(_sprite)
2436  0AF6  26 00       	ld	h,0x00
2437  0AF8  29          	add	hl, hl
2438  0AF9  09          	add	hl,bc
2439  0AFA  5E          	ld	e,(hl)
2440  0AFB  4D          	ld	c,l
2441  0AFC  44          	ld	b,h
2442  0AFD  23          	inc	hl
2443  0AFE  7E          	ld	a, (hl)
2444  0AFF  B3          	or	a,e
2445  0B00  20 09       	jr	NZ,l_enemy_fighterfly_00111
2446  0B02  ED 5B 00 00 	ld	de,(_curr_time)
2447  0B06  7B          	ld	a,e
2448  0B07  02          	ld	(bc),a
2449  0B08  03          	inc	bc
2450  0B09  7A          	ld	a,d
2451  0B0A  02          	ld	(bc),a
2452  0B0B              l_enemy_fighterfly_00111:
2453  0B0B  3A 00 00    	ld	a,(_s_state)
2454  0B0E  E6 02       	and	a,0x02
2455  0B10  28 57       	jr	Z,l_enemy_fighterfly_00124
2456  0B12  2A 00 00    	ld	hl,(_sprite)
2457  0B15  26 00       	ld	h,0x00
2458  0B17  01 00 00    	ld	bc,_lin
2459  0B1A  09          	add	hl,bc
2460  0B1B  4E          	ld	c, (hl)
2461  0B1C  3A 00 00    	ld	a,(_sprite)
2462  0B1F  5F          	ld	e,a
2463  0B20  16 00       	ld	d,0x00
2464  0B22  21 00 00    	ld	hl,_jump_lin
2465  0B25  19          	add	hl,de
2466  0B26  46          	ld	b, (hl)
2467  0B27  79          	ld	a,c
2468  0B28  90          	sub	a, b
2469  0B29  30 05       	jr	NC,l_enemy_fighterfly_00116
2470  0B2B  CD 00 00    	call	_spr_move_horizontal
2471  0B2E  18 21       	jr	l_enemy_fighterfly_00117
2472  0B30              l_enemy_fighterfly_00116:
2473  0B30  2A 00 00    	ld	hl,(_sprite)
2474  0B33  26 00       	ld	h,0x00
2475  0B35  01 00 00    	ld	bc,_sprite_speed_alt
2476  0B38  09          	add	hl,bc
2477  0B39  36 04       	ld	(hl),0x04
2478  0B3B  2A 00 00    	ld	hl,(_sprite)
2479  0B3E  26 00       	ld	h,0x00
2480  0B40  01 00 00    	ld	bc,_colint
2481  0B43  09          	add	hl,bc
2482  0B44  7E          	ld	a,(hl)
2483  0B45  B7          	or	a,a
2484  0B46  4D          	ld	c,l
2485  0B47  44          	ld	b,h
2486  0B48  20 05       	jr	NZ,l_enemy_fighterfly_00113
2487  0B4A  3E 02       	ld	a,0x02
2488  0B4C  02          	ld	(bc),a
2489  0B4D  18 02       	jr	l_enemy_fighterfly_00117
2490  0B4F              l_enemy_fighterfly_00113:
2491  0B4F  AF          	xor	a, a
2492  0B50  02          	ld	(bc),a
2493  0B51              l_enemy_fighterfly_00117:
2494  0B51  CD 00 00    	call	_spr_move_down
2495  0B54  7D          	ld	a,l
2496  0B55  B7          	or	a, a
2497  0B56  CA 6C 0B    	jp	Z,_enemy_trip
2498  0B59  2A 00 00    	ld	hl,(_sprite)
2499  0B5C  26 00       	ld	h,0x00
2500  0B5E  01 00 00    	ld	bc,_sprite_speed_alt
2501  0B61  09          	add	hl,bc
2502  0B62  AF          	xor	a,a
2503  0B63  77          	ld	(hl),a
2504  0B64  21 00 00    	ld	hl,_s_state
2505  0B67  CB 8E       	res	1, (hl)
2506  0B69              l_enemy_fighterfly_00124:
2507  0B69  C3 6C 0B    	jp  _enemy_trip
2508  0B6C              	SECTION code_compiler
2509  0B6C              ;	---------------------------------
2510  0B6C              ; Function enemy_trip
2511  0B6C              ; ---------------------------------
2512  0B6C              _enemy_trip:
2513  0B6C  2A 00 00    	ld	hl,(_sprite)
2514  0B6F  26 00       	ld	h,0x00
2515  0B71  01 00 00    	ld	bc,_lin
2516  0B74  09          	add	hl,bc
2517  0B75  46          	ld	b,(hl)
2518  0B76  3E 80       	ld	a,0x80
2519  0B78  90          	sub	a, b
2520  0B79  D2 7B 0C    	jp	NC,l_enemy_trip_00114
2521  0B7C  21 00 00    	ld	hl,_tmp
2522  0B7F  36 00       	ld	(hl),0x00
2523  0B81  2A 00 00    	ld	hl,(_sprite)
2524  0B84  26 00       	ld	h,0x00
2525  0B86  11 00 00    	ld	de,_col
2526  0B89  19          	add	hl,de
2527  0B8A  7E          	ld	a,(hl)
2528  0B8B  57          	ld	d,a
2529  0B8C  D6 1B       	sub	a,0x1b
2530  0B8E  20 49       	jr	NZ,l_enemy_trip_00104
2531  0B90  21 00 00    	ld	hl,_tmp
2532  0B93  36 01       	ld	(hl),0x01
2533  0B95  15          	dec	d
2534  0B96  58          	ld	e,b
2535  0B97  D5          	push	de
2536  0B98  AF          	xor	a, a
2537  0B99  F5          	push	af
2538  0B9A  33          	inc	sp
2539  0B9B  CD 00 00    	call	_NIRVANAP_fillT_callee
2540  0B9E  2A 00 00    	ld	hl,(_sprite)
2541  0BA1  26 00       	ld	h,0x00
2542  0BA3  01 00 00    	ld	bc,_lin
2543  0BA6  09          	add	hl,bc
2544  0BA7  36 10       	ld	(hl),0x10
2545  0BA9  2A 00 00    	ld	hl,(_sprite)
2546  0BAC  26 00       	ld	h,0x00
2547  0BAE  01 00 00    	ld	bc,_jump_lin
2548  0BB1  09          	add	hl,bc
2549  0BB2  36 20       	ld	(hl),0x20
2550  0BB4  2A 00 00    	ld	hl,(_sprite)
2551  0BB7  26 00       	ld	h,0x00
2552  0BB9  01 00 00    	ld	bc,_col
2553  0BBC  09          	add	hl,bc
2554  0BBD  36 1A       	ld	(hl),0x1a
2555  0BBF  21 00 00    	ld	hl,_s_state
2556  0BC2  7E          	ld	a,(hl)
2557  0BC3  F6 08       	or	a,0x08
2558  0BC5  E6 FA       	and	a,+(0xfb&0xfe)
2559  0BC7  77          	ld	(hl),a
2560  0BC8  CD 00 00    	call	_sound_enter_enemy
2561  0BCB  CD 00 00    	call	_ay_is_playing
2562  0BCE  7D          	ld	a, l
2563  0BCF  D6 02       	sub	a,0x02
2564  0BD1  30 06       	jr	NC,l_enemy_trip_00104
2565  0BD3  21 00 00    	ld	hl,_ay_effect_04
2566  0BD6  CD 00 00    	call	_ay_fx_play
2567  0BD9              l_enemy_trip_00104:
2568  0BD9  2A 00 00    	ld	hl,(_sprite)
2569  0BDC  26 00       	ld	h,0x00
2570  0BDE  01 00 00    	ld	bc,_col
2571  0BE1  09          	add	hl,bc
2572  0BE2  7E          	ld	a,(hl)
2573  0BE3  47          	ld	b,a
2574  0BE4  D6 03       	sub	a,0x03
2575  0BE6  20 52       	jr	NZ,l_enemy_trip_00108
2576  0BE8  21 00 00    	ld	hl,_tmp
2577  0BEB  36 01       	ld	(hl),0x01
2578  0BED  04          	inc	b
2579  0BEE  2A 00 00    	ld	hl,(_sprite)
2580  0BF1  26 00       	ld	h,0x00
2581  0BF3  11 00 00    	ld	de,_lin
2582  0BF6  19          	add	hl,de
2583  0BF7  4E          	ld	c, (hl)
2584  0BF8  C5          	push	bc
2585  0BF9  AF          	xor	a, a
2586  0BFA  F5          	push	af
2587  0BFB  33          	inc	sp
2588  0BFC  CD 00 00    	call	_NIRVANAP_fillT_callee
2589  0BFF  2A 00 00    	ld	hl,(_sprite)
2590  0C02  26 00       	ld	h,0x00
2591  0C04  01 00 00    	ld	bc,_lin
2592  0C07  09          	add	hl,bc
2593  0C08  36 10       	ld	(hl),0x10
2594  0C0A  2A 00 00    	ld	hl,(_sprite)
2595  0C0D  26 00       	ld	h,0x00
2596  0C0F  01 00 00    	ld	bc,_jump_lin
2597  0C12  09          	add	hl,bc
2598  0C13  36 20       	ld	(hl),0x20
2599  0C15  2A 00 00    	ld	hl,(_sprite)
2600  0C18  26 00       	ld	h,0x00
2601  0C1A  01 00 00    	ld	bc,_col
2602  0C1D  09          	add	hl,bc
2603  0C1E  36 04       	ld	(hl),0x04
2604  0C20  21 00 00    	ld	hl,_s_state
2605  0C23  7E          	ld	a,(hl)
2606  0C24  F6 04       	or	a,0x04
2607  0C26  E6 F6       	and	a,+(0xf7&0xfe)
2608  0C28  77          	ld	(hl),a
2609  0C29  CD 00 00    	call	_sound_enter_enemy
2610  0C2C  CD 00 00    	call	_ay_is_playing
2611  0C2F  7D          	ld	a, l
2612  0C30  D6 02       	sub	a,0x02
2613  0C32  30 06       	jr	NC,l_enemy_trip_00108
2614  0C34  21 00 00    	ld	hl,_ay_effect_04
2615  0C37  CD 00 00    	call	_ay_fx_play
2616  0C3A              l_enemy_trip_00108:
2617  0C3A  3A 00 00    	ld	a,(_tmp)
2618  0C3D  B7          	or	a, a
2619  0C3E  C8          	ret	Z
2620  0C3F  2A 00 00    	ld	hl,(_sprite)
2621  0C42  26 00       	ld	h,0x00
2622  0C44  01 00 00    	ld	bc,_class
2623  0C47  09          	add	hl,bc
2624  0C48  4E          	ld	c,(hl)
2625  0C49  3E 03       	ld	a,0x03
2626  0C4B  91          	sub	a,c
2627  0C4C  D8          	ret	C
2628  0C4D  2A 00 00    	ld	hl,(_sprite)
2629  0C50  26 00       	ld	h,0x00
2630  0C52  01 00 00    	ld	bc,_colint
2631  0C55  09          	add	hl,bc
2632  0C56  AF          	xor	a,a
2633  0C57  77          	ld	(hl),a
2634  0C58  2A 00 00    	ld	hl,(_sprite)
2635  0C5B  26 00       	ld	h,0x00
2636  0C5D  01 00 00    	ld	bc,_state
2637  0C60  09          	add	hl,bc
2638  0C61  3A 00 00    	ld	a,(_s_state)
2639  0C64  77          	ld	(hl),a
2640  0C65  2A 00 00    	ld	hl,(_sprite)
2641  0C68  26 00       	ld	h,0x00
2642  0C6A  01 00 00    	ld	bc,_tile
2643  0C6D  09          	add	hl,bc
2644  0C6E  E5          	push	hl
2645  0C6F  2A 00 00    	ld	hl,(_sprite)
2646  0C72  CD 00 00    	call	_spr_tile
2647  0C75  C1          	pop	bc
2648  0C76  7D          	ld	a, l
2649  0C77  02          	ld	(bc),a
2650  0C78  CD 00 00    	call	_spr_set_fall
2651  0C7B              l_enemy_trip_00114:
2652  0C7B  C9          	ret
2653  0C7C              	SECTION code_compiler
2654  0C7C              ;	---------------------------------
2655  0C7C              ; Function enemy_standard_hit
2656  0C7C              ; ---------------------------------
2657  0C7C              _enemy_standard_hit:
2658  0C7C  2A 00 00    	ld	hl,(_game_time_flipped)
2659  0C7F  01 CE FF    	ld	bc,0xffce
2660  0C82  09          	add	hl,bc
2661  0C83  4D          	ld	c,l
2662  0C84  44          	ld	b,h
2663  0C85  2A 00 00    	ld	hl,(_sprite)
2664  0C88  26 00       	ld	h,0x00
2665  0C8A  29          	add	hl, hl
2666  0C8B  11 00 00    	ld	de,_spr_timer
2667  0C8E  19          	add	hl,de
2668  0C8F  5E          	ld	e,(hl)
2669  0C90  23          	inc	hl
2670  0C91  56          	ld	d,(hl)
2671  0C92  C5          	push	bc
2672  0C93  D5          	push	de
2673  0C94  CD 00 00    	call	_game_check_time
2674  0C97  F1          	pop	af
2675  0C98  F1          	pop	af
2676  0C99  7D          	ld	a,l
2677  0C9A  B7          	or	a, a
2678  0C9B  28 23       	jr	Z,l_enemy_standard_hit_00104
2679  0C9D  2A 00 00    	ld	hl,(_sprite)
2680  0CA0  26 00       	ld	h,0x00
2681  0CA2  01 00 00    	ld	bc,_state
2682  0CA5  09          	add	hl,bc
2683  0CA6  7E          	ld	a,(hl)
2684  0CA7  07          	rlca
2685  0CA8  38 16       	jr	C,l_enemy_standard_hit_00104
2686  0CAA  3A 00 00    	ld	a,(_sprite)
2687  0CAD  F5          	push	af
2688  0CAE  33          	inc	sp
2689  0CAF  CD FA 0C    	call	_enemy_evolve
2690  0CB2  33          	inc	sp
2691  0CB3  2A 00 00    	ld	hl,(_sprite)
2692  0CB6  26 00       	ld	h,0x00
2693  0CB8  01 00 00    	ld	bc,_state
2694  0CBB  09          	add	hl,bc
2695  0CBC  7E          	ld	a,(hl)
2696  0CBD  F6 80       	or	a,0x80
2697  0CBF  77          	ld	(hl),a
2698  0CC0              l_enemy_standard_hit_00104:
2699  0CC0  2A 00 00    	ld	hl,(_sprite)
2700  0CC3  26 00       	ld	h,0x00
2701  0CC5  29          	add	hl, hl
2702  0CC6  11 00 00    	ld	de,_spr_timer
2703  0CC9  19          	add	hl,de
2704  0CCA  4E          	ld	c,(hl)
2705  0CCB  23          	inc	hl
2706  0CCC  46          	ld	b,(hl)
2707  0CCD  2A 00 00    	ld	hl,(_game_time_flipped)
2708  0CD0  E5          	push	hl
2709  0CD1  C5          	push	bc
2710  0CD2  CD 00 00    	call	_game_check_time
2711  0CD5  F1          	pop	af
2712  0CD6  F1          	pop	af
2713  0CD7  7D          	ld	a,l
2714  0CD8  B7          	or	a, a
2715  0CD9  C8          	ret	Z
2716  0CDA  3A 00 00    	ld	a,(_sprite)
2717  0CDD  32 00 00    	ld	(_enemies),a
2718  0CE0  2A 00 00    	ld	hl,(_sprite)
2719  0CE3  CD 00 00    	call	_spr_tile
2720  0CE6  CD 60 04    	call	_enemy_flip
2721  0CE9  2A 00 00    	ld	hl,(_sprite)
2722  0CEC  26 00       	ld	h,0x00
2723  0CEE  01 00 00    	ld	bc,_state
2724  0CF1  09          	add	hl,bc
2725  0CF2  7E          	ld	a,(hl)
2726  0CF3  32 00 00    	ld	(_s_state),a
2727  0CF6  E6 7F       	and	a,0x7f
2728  0CF8  77          	ld	(hl),a
2729  0CF9  C9          	ret
2730  0CFA              	SECTION code_compiler
2731  0CFA              ;	---------------------------------
2732  0CFA              ; Function enemy_evolve
2733  0CFA              ; ---------------------------------
2734  0CFA              _enemy_evolve:
2735  0CFA  CD 00 00    	call	___sdcc_enter_ix
2736  0CFD  3E 00       	ld	a,+((_class) & 0xFF)
2737  0CFF  DD 86 04    	add	a,(ix+4)
2738  0D02  4F          	ld	c,a
2739  0D03  3E 00       	ld	a,+((_class) / 256)
2740  0D05  CE 00       	adc	a,0x00
2741  0D07  47          	ld	b,a
2742  0D08  0A          	ld	a,(bc)
2743  0D09  4F          	ld	c,a
2744  0D0A  3D          	dec	a
2745  0D0B  28 0F       	jr	Z,l_enemy_evolve_00101
2746  0D0D  79          	ld	a,c
2747  0D0E  FE 02       	cp	a,0x02
2748  0D10  28 1B       	jr	Z,l_enemy_evolve_00102
2749  0D12  FE 04       	cp	a,0x04
2750  0D14  28 28       	jr	Z,l_enemy_evolve_00103
2751  0D16  D6 05       	sub	a,0x05
2752  0D18  28 35       	jr	Z,l_enemy_evolve_00104
2753  0D1A  18 42       	jr	l_enemy_evolve_00106
2754  0D1C              l_enemy_evolve_00101:
2755  0D1C  21 3C 00    	ld	hl,0x003c
2756  0D1F  E5          	push	hl
2757  0D20  26 02       	ld	h,0x02
2758  0D22  DD 6E 04    	ld	l,(ix+4)
2759  0D25  E5          	push	hl
2760  0D26  CD 61 0D    	call	_enemy_upgrade
2761  0D29  F1          	pop	af
2762  0D2A  F1          	pop	af
2763  0D2B  18 31       	jr	l_enemy_evolve_00106
2764  0D2D              l_enemy_evolve_00102:
2765  0D2D  21 48 00    	ld	hl,0x0048
2766  0D30  E5          	push	hl
2767  0D31  26 03       	ld	h,0x03
2768  0D33  DD 6E 04    	ld	l,(ix+4)
2769  0D36  E5          	push	hl
2770  0D37  CD 61 0D    	call	_enemy_upgrade
2771  0D3A  F1          	pop	af
2772  0D3B  F1          	pop	af
2773  0D3C  18 20       	jr	l_enemy_evolve_00106
2774  0D3E              l_enemy_evolve_00103:
2775  0D3E  21 60 00    	ld	hl,0x0060
2776  0D41  E5          	push	hl
2777  0D42  26 05       	ld	h,0x05
2778  0D44  DD 6E 04    	ld	l,(ix+4)
2779  0D47  E5          	push	hl
2780  0D48  CD 61 0D    	call	_enemy_upgrade
2781  0D4B  F1          	pop	af
2782  0D4C  F1          	pop	af
2783  0D4D  18 0F       	jr	l_enemy_evolve_00106
2784  0D4F              l_enemy_evolve_00104:
2785  0D4F  21 6C 00    	ld	hl,0x006c
2786  0D52  E5          	push	hl
2787  0D53  26 06       	ld	h,0x06
2788  0D55  DD 6E 04    	ld	l,(ix+4)
2789  0D58  E5          	push	hl
2790  0D59  CD 61 0D    	call	_enemy_upgrade
2791  0D5C  F1          	pop	af
2792  0D5D  F1          	pop	af
2793  0D5E              l_enemy_evolve_00106:
2794  0D5E  DD E1       	pop	ix
2795  0D60  C9          	ret
2796  0D61              	SECTION code_compiler
2797  0D61              ;	---------------------------------
2798  0D61              ; Function enemy_upgrade
2799  0D61              ; ---------------------------------
2800  0D61              _enemy_upgrade:
2801  0D61  CD 00 00    	call	___sdcc_enter_ix
2802  0D64  3E 00       	ld	a,+((_tile) & 0xFF)
2803  0D66  DD 86 04    	add	a,(ix+4)
2804  0D69  4F          	ld	c,a
2805  0D6A  3E 00       	ld	a,+((_tile) / 256)
2806  0D6C  CE 00       	adc	a,0x00
2807  0D6E  47          	ld	b,a
2808  0D6F  DD 7E 06    	ld	a,(ix+6)
2809  0D72  C6 06       	add	a,0x06
2810  0D74  02          	ld	(bc),a
2811  0D75  3E 00       	ld	a,+((_class) & 0xFF)
2812  0D77  DD 86 04    	add	a,(ix+4)
2813  0D7A  4F          	ld	c,a
2814  0D7B  3E 00       	ld	a,+((_class) / 256)
2815  0D7D  CE 00       	adc	a,0x00
2816  0D7F  47          	ld	b,a
2817  0D80  DD 7E 05    	ld	a,(ix+5)
2818  0D83  02          	ld	(bc),a
2819  0D84  DD E1       	pop	ix
2820  0D86  C9          	ret
2821  0D87              	SECTION code_compiler
2822  0D87              ;	---------------------------------
2823  0D87              ; Function enemy_walk
2824  0D87              ; ---------------------------------
2825  0D87              _enemy_walk:
2826  0D87  3A 00 00    	ld	a,(_s_state)
2827  0D8A  0F          	rrca
2828  0D8B  38 45       	jr	C,l_enemy_walk_00106
2829  0D8D  3A 00 00    	ld	a,(_s_state)
2830  0D90  E6 02       	and	a,0x02
2831  0D92  20 3E       	jr	NZ,l_enemy_walk_00106
2832  0D94  2A 00 00    	ld	hl,(_sprite)
2833  0D97  26 00       	ld	h,0x00
2834  0D99  01 00 00    	ld	bc,_col
2835  0D9C  09          	add	hl,bc
2836  0D9D  7E          	ld	a,(hl)
2837  0D9E  57          	ld	d,a
2838  0D9F  CB 47       	bit	0,a
2839  0DA1  28 14       	jr	Z,l_enemy_walk_00102
2840  0DA3  3A 00 00    	ld	a,(_s_state)
2841  0DA6  E6 10       	and	a,0x10
2842  0DA8  20 0D       	jr	NZ,l_enemy_walk_00102
2843  0DAA  21 00 00    	ld	hl,0x0000
2844  0DAD  22 00 00    	ld	(_index_d),hl
2845  0DB0  21 00 00    	ld	hl,_tmp
2846  0DB3  36 00       	ld	(hl),0x00
2847  0DB5  18 3E       	jr	l_enemy_walk_00107
2848  0DB7              l_enemy_walk_00102:
2849  0DB7  2A 00 00    	ld	hl,(_sprite)
2850  0DBA  26 00       	ld	h,0x00
2851  0DBC  01 00 00    	ld	bc,_lin
2852  0DBF  09          	add	hl,bc
2853  0DC0  7E          	ld	a,(hl)
2854  0DC1  C6 10       	add	a,0x10
2855  0DC3  5F          	ld	e, a
2856  0DC4  D5          	push	de
2857  0DC5  CD 00 00    	call	_game_calc_index
2858  0DC8  F1          	pop	af
2859  0DC9  CD 00 00    	call	_game_check_maze
2860  0DCC  7D          	ld	a,l
2861  0DCD  32 00 00    	ld	(_tmp),a
2862  0DD0  18 23       	jr	l_enemy_walk_00107
2863  0DD2              l_enemy_walk_00106:
2864  0DD2  2A 00 00    	ld	hl,(_sprite)
2865  0DD5  26 00       	ld	h,0x00
2866  0DD7  01 00 00    	ld	bc,_col
2867  0DDA  09          	add	hl,bc
2868  0DDB  56          	ld	d, (hl)
2869  0DDC  2A 00 00    	ld	hl,(_sprite)
2870  0DDF  26 00       	ld	h,0x00
2871  0DE1  01 00 00    	ld	bc,_lin
2872  0DE4  09          	add	hl,bc
2873  0DE5  7E          	ld	a,(hl)
2874  0DE6  C6 10       	add	a,0x10
2875  0DE8  5F          	ld	e, a
2876  0DE9  D5          	push	de
2877  0DEA  CD 00 00    	call	_game_calc_index
2878  0DED  F1          	pop	af
2879  0DEE  CD 00 00    	call	_game_check_maze
2880  0DF1  7D          	ld	a,l
2881  0DF2  32 00 00    	ld	(_tmp),a
2882  0DF5              l_enemy_walk_00107:
2883  0DF5  3A 00 00    	ld	a,(_tmp)
2884  0DF8  B7          	or	a, a
2885  0DF9  CA D5 0E    	jp	Z,l_enemy_walk_00132
2886  0DFC  3A 00 00    	ld	a,(_s_state)
2887  0DFF  0F          	rrca
2888  0E00  38 05       	jr	C,l_enemy_walk_00110
2889  0E02  21 00 00    	ld	hl,_s_state
2890  0E05  CB CE       	set	1, (hl)
2891  0E07              l_enemy_walk_00110:
2892  0E07  2A 00 00    	ld	hl,(_sprite)
2893  0E0A  26 00       	ld	h,0x00
2894  0E0C  01 00 00    	ld	bc,_jump_lin
2895  0E0F  09          	add	hl,bc
2896  0E10  7E          	ld	a,(hl)
2897  0E11  B7          	or	a,a
2898  0E12  20 0E       	jr	NZ,l_enemy_walk_00112
2899  0E14  3A 00 00    	ld	a,(_sprite)
2900  0E17  5F          	ld	e,a
2901  0E18  16 00       	ld	d,0x00
2902  0E1A  4D          	ld	c,l
2903  0E1B  44          	ld	b,h
2904  0E1C  21 00 00    	ld	hl,_lin
2905  0E1F  19          	add	hl,de
2906  0E20  7E          	ld	a,(hl)
2907  0E21  02          	ld	(bc),a
2908  0E22              l_enemy_walk_00112:
2909  0E22  3A 00 00    	ld	a,(_s_state)
2910  0E25  E6 02       	and	a,0x02
2911  0E27  28 05       	jr	Z,l_enemy_walk_00114
2912  0E29  CD 00 00    	call	_spr_move_down
2913  0E2C  18 03       	jr	l_enemy_walk_00115
2914  0E2E              l_enemy_walk_00114:
2915  0E2E  CD 00 00    	call	_spr_move_up
2916  0E31              l_enemy_walk_00115:
2917  0E31  2A 00 00    	ld	hl,(_sprite)
2918  0E34  26 00       	ld	h,0x00
2919  0E36  01 00 00    	ld	bc,_sprite_speed_alt
2920  0E39  09          	add	hl,bc
2921  0E3A  36 01       	ld	(hl),0x01
2922  0E3C  21 00 00    	ld	hl,_tmp
2923  0E3F  36 01       	ld	(hl),0x01
2924  0E41  2A 00 00    	ld	hl,(_sprite)
2925  0E44  26 00       	ld	h,0x00
2926  0E46  01 00 00    	ld	bc,_col
2927  0E49  09          	add	hl,bc
2928  0E4A  46          	ld	b, (hl)
2929  0E4B  04          	inc	b
2930  0E4C  3A 00 00    	ld	a,(_sprite)
2931  0E4F  5F          	ld	e,a
2932  0E50  16 00       	ld	d,0x00
2933  0E52  21 00 00    	ld	hl,_lin
2934  0E55  19          	add	hl,de
2935  0E56  7E          	ld	a,(hl)
2936  0E57  C6 10       	add	a,0x10
2937  0E59  4F          	ld	c,a
2938  0E5A  C5          	push	bc
2939  0E5B  CD 00 00    	call	_game_calc_index
2940  0E5E  F1          	pop	af
2941  0E5F  CD 00 00    	call	_game_check_maze
2942  0E62  7D          	ld	a,l
2943  0E63  32 00 00    	ld	(_tmp0),a
2944  0E66  2A 00 00    	ld	hl,(_sprite)
2945  0E69  26 00       	ld	h,0x00
2946  0E6B  01 00 00    	ld	bc,_col
2947  0E6E  09          	add	hl,bc
2948  0E6F  46          	ld	b, (hl)
2949  0E70  05          	dec	b
2950  0E71  3A 00 00    	ld	a,(_sprite)
2951  0E74  5F          	ld	e,a
2952  0E75  16 00       	ld	d,0x00
2953  0E77  21 00 00    	ld	hl,_lin
2954  0E7A  19          	add	hl,de
2955  0E7B  7E          	ld	a,(hl)
2956  0E7C  C6 10       	add	a,0x10
2957  0E7E  4F          	ld	c,a
2958  0E7F  C5          	push	bc
2959  0E80  CD 00 00    	call	_game_calc_index
2960  0E83  F1          	pop	af
2961  0E84  CD 00 00    	call	_game_check_maze
2962  0E87  7D          	ld	a,l
2963  0E88  32 00 00    	ld	(_tmp1),a
2964  0E8B  3A 00 00    	ld	a,(_tmp0)
2965  0E8E  B7          	or	a, a
2966  0E8F  20 06       	jr	NZ,l_enemy_walk_00136
2967  0E91  3A 00 00    	ld	a,(_tmp1)
2968  0E94  B7          	or	a, a
2969  0E95  28 04       	jr	Z,l_enemy_walk_00137
2970  0E97              l_enemy_walk_00136:
2971  0E97  0E 00       	ld	c,0x00
2972  0E99  18 02       	jr	l_enemy_walk_00138
2973  0E9B              l_enemy_walk_00137:
2974  0E9B  0E 01       	ld	c,0x01
2975  0E9D              l_enemy_walk_00138:
2976  0E9D  21 00 00    	ld	hl,_tmp
2977  0EA0  71          	ld	(hl),c
2978  0EA1  79          	ld	a,c
2979  0EA2  B7          	or	a, a
2980  0EA3  CA 8D 0F    	jp	Z,l_enemy_walk_00134
2981  0EA6  2A 00 00    	ld	hl,(_sprite)
2982  0EA9  26 00       	ld	h,0x00
2983  0EAB  5D          	ld	e,l
2984  0EAC  01 00 00    	ld	bc,_lin
2985  0EAF  09          	add	hl,bc
2986  0EB0  4E          	ld	c,(hl)
2987  0EB1  06 00       	ld	b,0x00
2988  0EB3  50          	ld	d,b
2989  0EB4  21 00 00    	ld	hl,_jump_lin
2990  0EB7  19          	add	hl,de
2991  0EB8  5E          	ld	e, (hl)
2992  0EB9  16 00       	ld	d,0x00
2993  0EBB  79          	ld	a,c
2994  0EBC  93          	sub	a, e
2995  0EBD  4F          	ld	c,a
2996  0EBE  78          	ld	a,b
2997  0EBF  9A          	sbc	a, d
2998  0EC0  47          	ld	b,a
2999  0EC1  3E 08       	ld	a,0x08
3000  0EC3  B9          	cp	a, c
3001  0EC4  3E 00       	ld	a,0x00
3002  0EC6  98          	sbc	a, b
3003  0EC7  E2 CC 0E    	jp	PO, l_enemy_walk_00217
3004  0ECA  EE 80       	xor	a,0x80
3005  0ECC              l_enemy_walk_00217:
3006  0ECC  FA 8D 0F    	jp	M,l_enemy_walk_00134
3007  0ECF  CD 00 00    	call	_spr_move_horizontal
3008  0ED2  C3 8D 0F    	jp	l_enemy_walk_00134
3009  0ED5              l_enemy_walk_00132:
3010  0ED5  3A 00 00    	ld	a,(_s_state)
3011  0ED8  E6 02       	and	a,0x02
3012  0EDA  28 1B       	jr	Z,l_enemy_walk_00120
3013  0EDC  21 00 00    	ld	hl,_s_state
3014  0EDF  CB 8E       	res	1, (hl)
3015  0EE1  2A 00 00    	ld	hl,(_sprite)
3016  0EE4  26 00       	ld	h,0x00
3017  0EE6  01 00 00    	ld	bc,_jump_lin
3018  0EE9  09          	add	hl,bc
3019  0EEA  AF          	xor	a,a
3020  0EEB  77          	ld	(hl),a
3021  0EEC  2A 00 00    	ld	hl,(_sprite)
3022  0EEF  26 00       	ld	h,0x00
3023  0EF1  01 00 00    	ld	bc,_sprite_speed_alt
3024  0EF4  09          	add	hl,bc
3025  0EF5  AF          	xor	a,a
3026  0EF6  77          	ld	(hl),a
3027  0EF7              l_enemy_walk_00120:
3028  0EF7  3A 00 00    	ld	a,(_s_state)
3029  0EFA  E6 10       	and	a,0x10
3030  0EFC  20 3E       	jr	NZ,l_enemy_walk_00124
3031  0EFE  2A 00 00    	ld	hl,(_sprite)
3032  0F01  26 00       	ld	h,0x00
3033  0F03  01 00 00    	ld	bc,_state_a
3034  0F06  09          	add	hl,bc
3035  0F07  CB 4E       	bit	1,(hl)
3036  0F09  20 31       	jr	NZ,l_enemy_walk_00124
3037  0F0B  01 00 00    	ld	bc,_spr_timer_c+0
3038  0F0E  2A 00 00    	ld	hl,(_sprite)
3039  0F11  26 00       	ld	h,0x00
3040  0F13  29          	add	hl, hl
3041  0F14  09          	add	hl,bc
3042  0F15  5E          	ld	e,(hl)
3043  0F16  23          	inc	hl
3044  0F17  56          	ld	d,(hl)
3045  0F18  C5          	push	bc
3046  0F19  21 05 00    	ld	hl,0x0005
3047  0F1C  E5          	push	hl
3048  0F1D  D5          	push	de
3049  0F1E  CD 00 00    	call	_game_check_time
3050  0F21  F1          	pop	af
3051  0F22  F1          	pop	af
3052  0F23  C1          	pop	bc
3053  0F24  7D          	ld	a,l
3054  0F25  B7          	or	a, a
3055  0F26  28 11       	jr	Z,l_enemy_walk_00122
3056  0F28  2A 00 00    	ld	hl,(_sprite)
3057  0F2B  26 00       	ld	h,0x00
3058  0F2D  29          	add	hl, hl
3059  0F2E  09          	add	hl,bc
3060  0F2F  ED 5B 00 00 	ld	de,(_curr_time)
3061  0F33  73          	ld	(hl),e
3062  0F34  23          	inc	hl
3063  0F35  72          	ld	(hl),d
3064  0F36  CD 50 00    	call	_enemy_collition
3065  0F39              l_enemy_walk_00122:
3066  0F39  CD 00 00    	call	_spr_move_horizontal
3067  0F3C              l_enemy_walk_00124:
3068  0F3C  2A 00 00    	ld	hl,(_sprite)
3069  0F3F  26 00       	ld	h,0x00
3070  0F41  01 00 00    	ld	bc,_state_a
3071  0F44  09          	add	hl,bc
3072  0F45  CB 4E       	bit	1,(hl)
3073  0F47  28 44       	jr	Z,l_enemy_walk_00134
3074  0F49  01 00 00    	ld	bc,_spr_timer+0
3075  0F4C  2A 00 00    	ld	hl,(_sprite)
3076  0F4F  26 00       	ld	h,0x00
3077  0F51  29          	add	hl, hl
3078  0F52  09          	add	hl,bc
3079  0F53  ED 5B 00 00 	ld	de,(_curr_time)
3080  0F57  73          	ld	(hl),e
3081  0F58  23          	inc	hl
3082  0F59  72          	ld	(hl),d
3083  0F5A  2A 00 00    	ld	hl,(_sprite)
3084  0F5D  26 00       	ld	h,0x00
3085  0F5F  01 00 00    	ld	bc,_colint
3086  0F62  09          	add	hl,bc
3087  0F63  7E          	ld	a,(hl)
3088  0F64  5F          	ld	e,a
3089  0F65  D6 02       	sub	a,0x02
3090  0F67  30 04       	jr	NC,l_enemy_walk_00127
3091  0F69  1C          	inc	e
3092  0F6A  73          	ld	(hl), e
3093  0F6B  18 20       	jr	l_enemy_walk_00134
3094  0F6D              l_enemy_walk_00127:
3095  0F6D  2A 00 00    	ld	hl,(_sprite)
3096  0F70  26 00       	ld	h,0x00
3097  0F72  01 00 00    	ld	bc,_state_a
3098  0F75  09          	add	hl,bc
3099  0F76  7E          	ld	a,(hl)
3100  0F77  E6 FD       	and	a,0xfd
3101  0F79  77          	ld	(hl),a
3102  0F7A  2A 00 00    	ld	hl,(_sprite)
3103  0F7D  26 00       	ld	h,0x00
3104  0F7F  01 00 00    	ld	bc,_tile
3105  0F82  09          	add	hl,bc
3106  0F83  E5          	push	hl
3107  0F84  2A 00 00    	ld	hl,(_sprite)
3108  0F87  CD 00 00    	call	_spr_tile
3109  0F8A  C1          	pop	bc
3110  0F8B  7D          	ld	a, l
3111  0F8C  02          	ld	(bc),a
3112  0F8D              l_enemy_walk_00134:
3113  0F8D  C9          	ret
3114  0F8E              	SECTION code_compiler
3115  0F8E              ;	---------------------------------
3116  0F8E              ; Function enemy_init
3117  0F8E              ; ---------------------------------
3118  0F8E              _enemy_init:
3119  0F8E  CD 00 00    	call	___sdcc_enter_ix
3120  0F91  21 00 00    	ld	hl,_spr_count
3121  0F94  34          	inc	(hl)
3122  0F95  3E 00       	ld	a,+((_class) & 0xFF)
3123  0F97  DD 86 04    	add	a,(ix+4)
3124  0F9A  4F          	ld	c,a
3125  0F9B  3E 00       	ld	a,+((_class) / 256)
3126  0F9D  CE 00       	adc	a,0x00
3127  0F9F  47          	ld	b,a
3128  0FA0  DD 7E 07    	ld	a,(ix+7)
3129  0FA3  02          	ld	(bc),a
3130  0FA4  3E 00       	ld	a,+((_lin) & 0xFF)
3131  0FA6  DD 86 04    	add	a,(ix+4)
3132  0FA9  4F          	ld	c,a
3133  0FAA  3E 00       	ld	a,+((_lin) / 256)
3134  0FAC  CE 00       	adc	a,0x00
3135  0FAE  47          	ld	b,a
3136  0FAF  DD 7E 05    	ld	a,(ix+5)
3137  0FB2  02          	ld	(bc),a
3138  0FB3  3E 00       	ld	a,+((_col) & 0xFF)
3139  0FB5  DD 86 04    	add	a,(ix+4)
3140  0FB8  4F          	ld	c,a
3141  0FB9  3E 00       	ld	a,+((_col) / 256)
3142  0FBB  CE 00       	adc	a,0x00
3143  0FBD  47          	ld	b,a
3144  0FBE  DD 7E 06    	ld	a,(ix+6)
3145  0FC1  02          	ld	(bc),a
3146  0FC2  21 00 00    	ld	hl,_tmp
3147  0FC5  36 00       	ld	(hl),0x00
3148  0FC7  3E 00       	ld	a,+((_state) & 0xFF)
3149  0FC9  DD 86 04    	add	a,(ix+4)
3150  0FCC  4F          	ld	c,a
3151  0FCD  3E 00       	ld	a,+((_state) / 256)
3152  0FCF  CE 00       	adc	a,0x00
3153  0FD1  47          	ld	b,a
3154  0FD2  AF          	xor	a, a
3155  0FD3  02          	ld	(bc),a
3156  0FD4  3E 00       	ld	a,+((_state_a) & 0xFF)
3157  0FD6  DD 86 04    	add	a,(ix+4)
3158  0FD9  5F          	ld	e,a
3159  0FDA  3E 00       	ld	a,+((_state_a) / 256)
3160  0FDC  CE 00       	adc	a,0x00
3161  0FDE  57          	ld	d,a
3162  0FDF  AF          	xor	a, a
3163  0FE0  12          	ld	(de),a
3164  0FE1  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3165  0FE3  DD 86 04    	add	a,(ix+4)
3166  0FE6  5F          	ld	e,a
3167  0FE7  3E 00       	ld	a,+((_jump_lin) / 256)
3168  0FE9  CE 00       	adc	a,0x00
3169  0FEB  57          	ld	d,a
3170  0FEC  AF          	xor	a, a
3171  0FED  12          	ld	(de),a
3172  0FEE  0A          	ld	a,(bc)
3173  0FEF  5F          	ld	e,a
3174  0FF0  DD 7E 08    	ld	a,(ix+8)
3175  0FF3  3D          	dec	a
3176  0FF4  20 06       	jr	NZ,l_enemy_init_00102
3177  0FF6  7B          	ld	a,e
3178  0FF7  F6 04       	or	a,0x04
3179  0FF9  02          	ld	(bc),a
3180  0FFA  18 04       	jr	l_enemy_init_00103
3181  0FFC              l_enemy_init_00102:
3182  0FFC  7B          	ld	a,e
3183  0FFD  F6 08       	or	a,0x08
3184  0FFF  02          	ld	(bc),a
3185  1000              l_enemy_init_00103:
3186  1000  3E 00       	ld	a,+((_colint) & 0xFF)
3187  1002  DD 86 04    	add	a,(ix+4)
3188  1005  4F          	ld	c,a
3189  1006  3E 00       	ld	a,+((_colint) / 256)
3190  1008  CE 00       	adc	a,0x00
3191  100A  47          	ld	b,a
3192  100B  AF          	xor	a, a
3193  100C  02          	ld	(bc),a
3194  100D  3E 00       	ld	a,+((_tile) & 0xFF)
3195  100F  DD 86 04    	add	a,(ix+4)
3196  1012  4F          	ld	c,a
3197  1013  3E 00       	ld	a,+((_tile) / 256)
3198  1015  CE 00       	adc	a,0x00
3199  1017  47          	ld	b,a
3200  1018  C5          	push	bc
3201  1019  DD 6E 04    	ld	l,(ix+4)
3202  101C  CD 00 00    	call	_spr_tile
3203  101F  C1          	pop	bc
3204  1020  7D          	ld	a, l
3205  1021  02          	ld	(bc),a
3206  1022  DD 6E 04    	ld	l,(ix+4)
3207  1025  26 00       	ld	h,0x00
3208  1027  29          	add	hl,hl
3209  1028  4D          	ld	c,l
3210  1029  44          	ld	b,h
3211  102A  21 00 00    	ld	hl,_last_time
3212  102D  09          	add	hl,bc
3213  102E  AF          	xor	a, a
3214  102F  77          	ld	(hl), a
3215  1030  23          	inc	hl
3216  1031  77          	ld	(hl), a
3217  1032  21 00 00    	ld	hl,_spr_timer
3218  1035  09          	add	hl,bc
3219  1036  ED 5B 00 00 	ld	de,(_curr_time)
3220  103A  73          	ld	(hl),e
3221  103B  23          	inc	hl
3222  103C  72          	ld	(hl),d
3223  103D  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3224  103F  DD 86 04    	add	a,(ix+4)
3225  1042  4F          	ld	c,a
3226  1043  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3227  1045  CE 00       	adc	a,0x00
3228  1047  47          	ld	b,a
3229  1048  AF          	xor	a, a
3230  1049  02          	ld	(bc),a
3231  104A  DD E1       	pop	ix
3232  104C  C9          	ret
3233  104D              	SECTION code_compiler
3234  104D              ;	---------------------------------
3235  104D              ; Function enemy_kill
3236  104D              ; ---------------------------------
3237  104D              _enemy_kill:
3238  104D  CD 00 00    	call	___sdcc_enter_ix
3239  1050  F5          	push	af
3240  1051  F5          	push	af
3241  1052  5D          	ld	e,l
3242  1053  76          	halt
3243  1054  D5          	push	de
3244  1055  CD 00 00    	call	_sound_kill
3245  1058  D1          	pop	de
3246  1059  2A 00 00    	ld	hl,(_sprite)
3247  105C  26 00       	ld	h,0x00
3248  105E  01 00 00    	ld	bc,_state
3249  1061  09          	add	hl,bc
3250  1062  4E          	ld	c,(hl)
3251  1063  16 00       	ld	d,0x00
3252  1065  21 00 00    	ld	hl,_state
3253  1068  19          	add	hl, de
3254  1069  7E          	ld	a,(hl)
3255  106A  CB 59       	bit	3, c
3256  106C  28 07       	jr	Z,l_enemy_kill_00102
3257  106E  F6 08       	or	a,0x08
3258  1070  E6 FB       	and	a,0xfb
3259  1072  77          	ld	(hl),a
3260  1073  18 05       	jr	l_enemy_kill_00103
3261  1075              l_enemy_kill_00102:
3262  1075  F6 04       	or	a,0x04
3263  1077  E6 F7       	and	a,0xf7
3264  1079  77          	ld	(hl),a
3265  107A              l_enemy_kill_00103:
3266  107A  7E          	ld	a,(hl)
3267  107B  E6 FD       	and	a,0xfd
3268  107D  F6 21       	or	a,+(0x01|0x20)
3269  107F  77          	ld	(hl),a
3270  1080  3E 00       	ld	a,+((_class) & 0xFF)
3271  1082  83          	add	a, e
3272  1083  DD 77 FE    	ld	(ix-2),a
3273  1086  6F          	ld	l,a
3274  1087  3E 00       	ld	a,+((_class) / 256)
3275  1089  CE 00       	adc	a,0x00
3276  108B  DD 77 FF    	ld	(ix-1),a
3277  108E  67          	ld	h,a
3278  108F  7E          	ld	a,(hl)
3279  1090  D6 09       	sub	a,0x09
3280  1092  20 08       	jr	NZ,l_enemy_kill_00105
3281  1094  DD 6E FE    	ld	l,(ix-2)
3282  1097  DD 66 FF    	ld	h,(ix-1)
3283  109A  36 01       	ld	(hl),0x01
3284  109C              l_enemy_kill_00105:
3285  109C  01 00 00    	ld	bc,_sprite_speed_alt+0
3286  109F  6B          	ld	l,e
3287  10A0  26 00       	ld	h,0x00
3288  10A2  09          	add	hl,bc
3289  10A3  36 08       	ld	(hl),0x08
3290  10A5  21 00 00    	ld	hl,_hit_count
3291  10A8  46          	ld	b,(hl)
3292  10A9  0E 50       	ld	c,0x50
3293  10AB  16 00       	ld	d,0x00
3294  10AD  04          	inc	b
3295  10AE  18 04       	jr	l_enemy_kill_00174
3296  10B0              l_enemy_kill_00173:
3297  10B0  CB 21       	sla	c
3298  10B2  CB 12       	rl	d
3299  10B4              l_enemy_kill_00174:
3300  10B4  10 FA       	djnz	l_enemy_kill_00173
3301  10B6  D5          	push	de
3302  10B7  69          	ld	l, c
3303  10B8  62          	ld	h, d
3304  10B9  CD 00 00    	call	_player_score_add
3305  10BC  D1          	pop	de
3306  10BD  21 00 00    	ld	hl,_hit_count
3307  10C0  34          	inc	(hl)
3308  10C1  01 00 00    	ld	bc,_spr_timer+0
3309  10C4  6B          	ld	l,e
3310  10C5  26 00       	ld	h,0x00
3311  10C7  29          	add	hl, hl
3312  10C8  09          	add	hl,bc
3313  10C9  E3          	ex	(sp), hl
3314  10CA  E1          	pop	hl
3315  10CB  ED 4B 00 00 	ld	bc,(_curr_time)
3316  10CF  E5          	push	hl
3317  10D0  71          	ld	(hl),c
3318  10D1  23          	inc	hl
3319  10D2  70          	ld	(hl),b
3320  10D3  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3321  10D5  83          	add	a, e
3322  10D6  4F          	ld	c,a
3323  10D7  3E 00       	ld	a,+((_jump_lin) / 256)
3324  10D9  CE 00       	adc	a,0x00
3325  10DB  47          	ld	b,a
3326  10DC  16 00       	ld	d,0x00
3327  10DE  21 00 00    	ld	hl,_lin
3328  10E1  19          	add	hl, de
3329  10E2  7E          	ld	a,(hl)
3330  10E3  02          	ld	(bc),a
3331  10E4  DD 6E FE    	ld	l,(ix-2)
3332  10E7  DD 66 FF    	ld	h,(ix-1)
3333  10EA  4E          	ld	c,(hl)
3334  10EB  3E 09       	ld	a,0x09
3335  10ED  91          	sub	a, c
3336  10EE  38 6D       	jr	C,l_enemy_kill_00116
3337  10F0  3A 00 00    	ld	a,(_game_type)
3338  10F3  D6 02       	sub	a,0x02
3339  10F5  28 62       	jr	Z,l_enemy_kill_00114
3340  10F7  21 00 00    	ld	hl,_phase_left
3341  10FA  7E          	ld	a,(hl)
3342  10FB  3D          	dec	a
3343  10FC  77          	ld	(hl),a
3344  10FD  3D          	dec	a
3345  10FE  20 59       	jr	NZ,l_enemy_kill_00114
3346  1100  21 00 00    	ld	hl,_phase_angry
3347  1103  36 01       	ld	(hl),0x01
3348  1105  21 00 00    	ld	hl,_tmp0
3349  1108  36 00       	ld	(hl),0x00
3350  110A              l_enemy_kill_00122:
3351  110A  2A 00 00    	ld	hl,(_tmp0)
3352  110D  26 00       	ld	h,0x00
3353  110F  01 00 00    	ld	bc,_class
3354  1112  09          	add	hl,bc
3355  1113  7E          	ld	a,(hl)
3356  1114  4F          	ld	c,a
3357  1115  B7          	or	a,a
3358  1116  28 37       	jr	Z,l_enemy_kill_00123
3359  1118  3E 09       	ld	a,0x09
3360  111A  91          	sub	a,c
3361  111B  38 32       	jr	C,l_enemy_kill_00123
3362  111D  2A 00 00    	ld	hl,(_tmp0)
3363  1120  26 00       	ld	h,0x00
3364  1122  01 00 00    	ld	bc,_state
3365  1125  09          	add	hl,bc
3366  1126  CB 6E       	bit	5,(hl)
3367  1128  20 25       	jr	NZ,l_enemy_kill_00123
3368  112A  3A 00 00    	ld	a,(_tmp0)
3369  112D  F5          	push	af
3370  112E  33          	inc	sp
3371  112F  CD FA 0C    	call	_enemy_evolve
3372  1132  33          	inc	sp
3373  1133  3A 00 00    	ld	a,(_tmp0)
3374  1136  F5          	push	af
3375  1137  33          	inc	sp
3376  1138  CD FA 0C    	call	_enemy_evolve
3377  113B  33          	inc	sp
3378  113C  2A 00 00    	ld	hl,(_tmp0)
3379  113F  26 00       	ld	h,0x00
3380  1141  01 00 00    	ld	bc,_tile
3381  1144  09          	add	hl,bc
3382  1145  E5          	push	hl
3383  1146  2A 00 00    	ld	hl,(_tmp0)
3384  1149  CD 00 00    	call	_spr_tile
3385  114C  C1          	pop	bc
3386  114D  7D          	ld	a, l
3387  114E  02          	ld	(bc),a
3388  114F              l_enemy_kill_00123:
3389  114F  21 00 00    	ld	hl,_tmp0
3390  1152  7E          	ld	a,(hl)
3391  1153  3C          	inc	a
3392  1154  77          	ld	(hl),a
3393  1155  D6 06       	sub	a,0x06
3394  1157  38 B1       	jr	C,l_enemy_kill_00122
3395  1159              l_enemy_kill_00114:
3396  1159  21 00 00    	ld	hl,_phase_coins
3397  115C  34          	inc	(hl)
3398  115D              l_enemy_kill_00116:
3399  115D  3A 00 00    	ld	a,(_phase_left)
3400  1160  B7          	or	a, a
3401  1161  28 08       	jr	Z,l_enemy_kill_00120
3402  1163  21 00 00    	ld	hl,_ay_effect_11
3403  1166  CD 00 00    	call	_ay_fx_play
3404  1169  18 0F       	jr	l_enemy_kill_00124
3405  116B              l_enemy_kill_00120:
3406  116B  CD 00 00    	call	_ay_reset
3407  116E  3A 00 00    	ld	a,(_game_bonus)
3408  1171  B7          	or	a, a
3409  1172  20 06       	jr	NZ,l_enemy_kill_00124
3410  1174  21 00 00    	ld	hl,_ay_effect_17
3411  1177  CD 00 00    	call	_ay_fx_play
3412  117A              l_enemy_kill_00124:
3413  117A  DD F9       	ld	sp, ix
3414  117C  DD E1       	pop	ix
3415  117E  C9          	ret
3416  117F              	SECTION IGNORE
3417  0000              
