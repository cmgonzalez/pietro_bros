1     0000              MODULE pietro_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _enemy_coin2
183   0000              	GLOBAL _enemy_coin1
184   0000              	GLOBAL _enemy_collition
185   0000              	GLOBAL _enemy_collition_check
186   0000              	GLOBAL _enemy_hit
187   0000              	GLOBAL _enemy_flip_change_dir
188   0000              	GLOBAL _enemy_flip
189   0000              	GLOBAL _enemy_flip_sidestepper
190   0000              	GLOBAL _enemy_turn
191   0000              	GLOBAL _enemy_standard
192   0000              	GLOBAL _enemy_slipice
193   0000              	GLOBAL _enemy_fireball_red
194   0000              	GLOBAL _enemy_fireball_green
195   0000              	GLOBAL _enemy_fighterfly
196   0000              	GLOBAL _enemy_trip
197   0000              	GLOBAL _enemy_standard_hit
198   0000              	GLOBAL _enemy_evolve
199   0000              	GLOBAL _enemy_upgrade
200   0000              	GLOBAL _enemy_walk
201   0000              	GLOBAL _enemy_init
202   0000              	GLOBAL _enemy_kill
203   0000              ;--------------------------------------------------------
204   0000              ; Externals used
205   0000              ;--------------------------------------------------------
206   0000              	GLOBAL _debug3
207   0000              	GLOBAL _debug2
208   0000              	GLOBAL _debug
209   0000              	GLOBAL _zx_print_str
210   0000              	GLOBAL _zx_print_int
211   0000              	GLOBAL _zx_print_chr
212   0000              	GLOBAL _zx_print_bonus_time
213   0000              	GLOBAL _zx_isr
214   0000              	GLOBAL _z80_otdr_callee
215   0000              	GLOBAL _z80_otdr
216   0000              	GLOBAL _z80_otir_callee
217   0000              	GLOBAL _z80_otir
218   0000              	GLOBAL _z80_outp_callee
219   0000              	GLOBAL _z80_outp
220   0000              	GLOBAL _z80_indr_callee
221   0000              	GLOBAL _z80_indr
222   0000              	GLOBAL _z80_inir_callee
223   0000              	GLOBAL _z80_inir
224   0000              	GLOBAL _z80_inp_fastcall
225   0000              	GLOBAL _z80_inp
226   0000              	GLOBAL _z80_set_int_state_fastcall
227   0000              	GLOBAL _z80_set_int_state
228   0000              	GLOBAL _z80_get_int_state
229   0000              	GLOBAL _z80_delay_tstate_fastcall
230   0000              	GLOBAL _z80_delay_tstate
231   0000              	GLOBAL _z80_delay_ms_fastcall
232   0000              	GLOBAL _z80_delay_ms
233   0000              	GLOBAL _im2_remove_generic_callback_callee
234   0000              	GLOBAL _im2_remove_generic_callback
235   0000              	GLOBAL _im2_prepend_generic_callback_callee
236   0000              	GLOBAL _im2_prepend_generic_callback
237   0000              	GLOBAL _im2_append_generic_callback_callee
238   0000              	GLOBAL _im2_append_generic_callback
239   0000              	GLOBAL _im2_create_generic_isr_8080_callee
240   0000              	GLOBAL _im2_create_generic_isr_8080
241   0000              	GLOBAL _im2_create_generic_isr_callee
242   0000              	GLOBAL _im2_create_generic_isr
243   0000              	GLOBAL _im2_install_isr_callee
244   0000              	GLOBAL _im2_install_isr
245   0000              	GLOBAL _im2_init_fastcall
246   0000              	GLOBAL _im2_init
247   0000              	GLOBAL _zx_pattern_fill_callee
248   0000              	GLOBAL _zx_pattern_fill
249   0000              	GLOBAL _zx_saddrpup_fastcall
250   0000              	GLOBAL _zx_saddrpup
251   0000              	GLOBAL _zx_saddrpright_callee
252   0000              	GLOBAL _zx_saddrpright
253   0000              	GLOBAL _zx_saddrpleft_callee
254   0000              	GLOBAL _zx_saddrpleft
255   0000              	GLOBAL _zx_saddrpdown_fastcall
256   0000              	GLOBAL _zx_saddrpdown
257   0000              	GLOBAL _zx_saddrcup_fastcall
258   0000              	GLOBAL _zx_saddrcup
259   0000              	GLOBAL _zx_saddrcright_fastcall
260   0000              	GLOBAL _zx_saddrcright
261   0000              	GLOBAL _zx_saddrcleft_fastcall
262   0000              	GLOBAL _zx_saddrcleft
263   0000              	GLOBAL _zx_saddrcdown_fastcall
264   0000              	GLOBAL _zx_saddrcdown
265   0000              	GLOBAL _zx_saddr2py_fastcall
266   0000              	GLOBAL _zx_saddr2py
267   0000              	GLOBAL _zx_saddr2px_fastcall
268   0000              	GLOBAL _zx_saddr2px
269   0000              	GLOBAL _zx_saddr2cy_fastcall
270   0000              	GLOBAL _zx_saddr2cy
271   0000              	GLOBAL _zx_saddr2cx_fastcall
272   0000              	GLOBAL _zx_saddr2cx
273   0000              	GLOBAL _zx_saddr2aaddr_fastcall
274   0000              	GLOBAL _zx_saddr2aaddr
275   0000              	GLOBAL _zx_py2saddr_fastcall
276   0000              	GLOBAL _zx_py2saddr
277   0000              	GLOBAL _zx_py2aaddr_fastcall
278   0000              	GLOBAL _zx_py2aaddr
279   0000              	GLOBAL _zx_pxy2saddr_callee
280   0000              	GLOBAL _zx_pxy2saddr
281   0000              	GLOBAL _zx_pxy2aaddr_callee
282   0000              	GLOBAL _zx_pxy2aaddr
283   0000              	GLOBAL _zx_px2bitmask_fastcall
284   0000              	GLOBAL _zx_px2bitmask
285   0000              	GLOBAL _zx_cyx2saddr_callee
286   0000              	GLOBAL _zx_cyx2saddr
287   0000              	GLOBAL _zx_cyx2aaddr_callee
288   0000              	GLOBAL _zx_cyx2aaddr
289   0000              	GLOBAL _zx_cy2saddr_fastcall
290   0000              	GLOBAL _zx_cy2saddr
291   0000              	GLOBAL _zx_cy2aaddr_fastcall
292   0000              	GLOBAL _zx_cy2aaddr
293   0000              	GLOBAL _zx_bitmask2px_fastcall
294   0000              	GLOBAL _zx_bitmask2px
295   0000              	GLOBAL _zx_aaddrcup_fastcall
296   0000              	GLOBAL _zx_aaddrcup
297   0000              	GLOBAL _zx_aaddrcright_fastcall
298   0000              	GLOBAL _zx_aaddrcright
299   0000              	GLOBAL _zx_aaddrcleft_fastcall
300   0000              	GLOBAL _zx_aaddrcleft
301   0000              	GLOBAL _zx_aaddrcdown_fastcall
302   0000              	GLOBAL _zx_aaddrcdown
303   0000              	GLOBAL _zx_aaddr2saddr_fastcall
304   0000              	GLOBAL _zx_aaddr2saddr
305   0000              	GLOBAL _zx_aaddr2py_fastcall
306   0000              	GLOBAL _zx_aaddr2py
307   0000              	GLOBAL _zx_aaddr2px_fastcall
308   0000              	GLOBAL _zx_aaddr2px
309   0000              	GLOBAL _zx_aaddr2cy_fastcall
310   0000              	GLOBAL _zx_aaddr2cy
311   0000              	GLOBAL _zx_aaddr2cx_fastcall
312   0000              	GLOBAL _zx_aaddr2cx
313   0000              	GLOBAL _zx_scroll_wc_up_callee
314   0000              	GLOBAL _zx_scroll_wc_up
315   0000              	GLOBAL _zx_scroll_up_callee
316   0000              	GLOBAL _zx_scroll_up
317   0000              	GLOBAL _zx_cls_wc_callee
318   0000              	GLOBAL _zx_cls_wc
319   0000              	GLOBAL _zx_cls_fastcall
320   0000              	GLOBAL _zx_cls
321   0000              	GLOBAL _zx_border_fastcall
322   0000              	GLOBAL _zx_border
323   0000              	GLOBAL _sound_hit_pow
324   0000              	GLOBAL _sound_hit_brick
325   0000              	GLOBAL _sound_hit_enemy
326   0000              	GLOBAL _sound_kill
327   0000              	GLOBAL _sound_enter_enemy
328   0000              	GLOBAL _sound_coin
329   0000              	GLOBAL _sound_jump
330   0000              	GLOBAL _sound_slide
331   0000              	GLOBAL _spr_draw_row
332   0000              	GLOBAL _spr_draw_index
333   0000              	GLOBAL _spr_draw_clear
334   0000              	GLOBAL _spr_water_splash_draw
335   0000              	GLOBAL _spr_water_splash_clear
336   0000              	GLOBAL _spr_draw_back
337   0000              	GLOBAL _spr_cortina_pipes
338   0000              	GLOBAL _spr_cortina_brick
339   0000              	GLOBAL _spr_brick_anim
340   0000              	GLOBAL _spr_back_fix
341   0000              	GLOBAL _spr_back_paint
342   0000              	GLOBAL _spr_back_clr
343   0000              	GLOBAL _spr_draw_pow
344   0000              	GLOBAL _spr_tile
345   0000              	GLOBAL _spr_set_fall
346   0000              	GLOBAL _spr_destroy
347   0000              	GLOBAL _spr_check_over
348   0000              	GLOBAL _spr_tile_dir
349   0000              	GLOBAL _spr_anim_kill
350   0000              	GLOBAL _spr_anim_fall
351   0000              	GLOBAL _spr_killed
352   0000              	GLOBAL _spr_redraw
353   0000              	GLOBAL _spr_move_left
354   0000              	GLOBAL _spr_move_right
355   0000              	GLOBAL _spr_move_horizontal
356   0000              	GLOBAL _spr_move_down
357   0000              	GLOBAL _spr_move_up
358   0000              	GLOBAL _spr_chktime
359   0000              	GLOBAL _player_move_horizontal
360   0000              	GLOBAL _player_push_check
361   0000              	GLOBAL _player_push
362   0000              	GLOBAL _player_hit_brick_clear
363   0000              	GLOBAL _player_lost_life
364   0000              	GLOBAL _player_score_add
365   0000              	GLOBAL _player_coin
366   0000              	GLOBAL _player_hit_pow
367   0000              	GLOBAL _player_hit_brick
368   0000              	GLOBAL _player_move_input
369   0000              	GLOBAL _player_turn
370   0000              	GLOBAL _player_move
371   0000              	GLOBAL _player_restart
372   0000              	GLOBAL _player_kill
373   0000              	GLOBAL _player_check_input
374   0000              	GLOBAL _player_collition_check
375   0000              	GLOBAL _player_collition
376   0000              	GLOBAL _player_calc_slide
377   0000              	GLOBAL _player_init
378   0000              	GLOBAL _game_joystick_set_menu
379   0000              	GLOBAL _game_joystick_set
380   0000              	GLOBAL _game_joystick_change
381   0000              	GLOBAL _game_hall_print_p
382   0000              	GLOBAL _game_hall_edit_p
383   0000              	GLOBAL _game_hall_check
384   0000              	GLOBAL _game_hall_enter_phs
385   0000              	GLOBAL _game_print_header
386   0000              	GLOBAL _game_end
387   0000              	GLOBAL _game_hall_enter
388   0000              	GLOBAL _game_hall_of_fame
389   0000              	GLOBAL _game_score_osd
390   0000              	GLOBAL _game_phase_print_score_back
391   0000              	GLOBAL _game_bonus_clock
392   0000              	GLOBAL _game_bonus_summary_player
393   0000              	GLOBAL _game_bonus_summary
394   0000              	GLOBAL _game_check_time
395   0000              	GLOBAL _game_menu_config
396   0000              	GLOBAL _game_menu
397   0000              	GLOBAL _game_rotate_attrib
398   0000              	GLOBAL _game_colour_message
399   0000              	GLOBAL _game_paint_attrib_lin_h
400   0000              	GLOBAL _game_paint_attrib_lin
401   0000              	GLOBAL _game_paint_attrib
402   0000              	GLOBAL _game_menu_paint
403   0000              	GLOBAL _game_menu_top_paint
404   0000              	GLOBAL _game_menu_handle
405   0000              	GLOBAL _game_menu_e
406   0000              	GLOBAL _game_menu_back
407   0000              	GLOBAL _game_print_score
408   0000              	GLOBAL _game_unfreeze_all
409   0000              	GLOBAL _game_freeze_all
410   0000              	GLOBAL _game_freeze
411   0000              	GLOBAL _game_enemy_add_get_index
412   0000              	GLOBAL _game_enemy_add1
413   0000              	GLOBAL _game_enemy_quota
414   0000              	GLOBAL _game_enemy_rnd
415   0000              	GLOBAL _game_enemy_add
416   0000              	GLOBAL _game_check_maze
417   0000              	GLOBAL _game_kill_all_sprites
418   0000              	GLOBAL _game_loop
419   0000              	GLOBAL _player_set2
420   0000              	GLOBAL _player_set1
421   0000              	GLOBAL _game_phase_print
422   0000              	GLOBAL _game_phase_init
423   0000              	GLOBAL _game_phase_calc
424   0000              	GLOBAL _game_start_timer
425   0000              	GLOBAL _game_tick
426   0000              	GLOBAL _game_print_lives
427   0000              	GLOBAL _game_print_footer
428   0000              	GLOBAL _game_calc_index
429   0000              	GLOBAL _game_fill_row
430   0000              	GLOBAL _ay_fx_play
431   0000              	GLOBAL _ay_midi_play
432   0000              	GLOBAL _ay_is_playing
433   0000              	GLOBAL _ay_reset
434   0000              	GLOBAL _test_func
435   0000              	GLOBAL _in_mouse_kempston_wheel_delta
436   0000              	GLOBAL _in_mouse_kempston_wheel
437   0000              	GLOBAL _in_mouse_kempston_callee
438   0000              	GLOBAL _in_mouse_kempston
439   0000              	GLOBAL _in_mouse_kempston_setpos_callee
440   0000              	GLOBAL _in_mouse_kempston_setpos
441   0000              	GLOBAL _in_mouse_kempston_reset
442   0000              	GLOBAL _in_mouse_kempston_init
443   0000              	GLOBAL _in_mouse_amx_wheel_delta
444   0000              	GLOBAL _in_mouse_amx_wheel
445   0000              	GLOBAL _in_mouse_amx_callee
446   0000              	GLOBAL _in_mouse_amx
447   0000              	GLOBAL _in_mouse_amx_setpos_callee
448   0000              	GLOBAL _in_mouse_amx_setpos
449   0000              	GLOBAL _in_mouse_amx_reset
450   0000              	GLOBAL _in_mouse_amx_init_callee
451   0000              	GLOBAL _in_mouse_amx_init
452   0000              	GLOBAL _in_stick_sinclair2
453   0000              	GLOBAL _in_stick_sinclair1
454   0000              	GLOBAL _in_stick_kempston
455   0000              	GLOBAL _in_stick_fuller
456   0000              	GLOBAL _in_stick_cursor
457   0000              	GLOBAL _in_stick_keyboard_fastcall
458   0000              	GLOBAL _in_stick_keyboard
459   0000              	GLOBAL _in_wait_nokey
460   0000              	GLOBAL _in_wait_key
461   0000              	GLOBAL _in_test_key
462   0000              	GLOBAL _in_pause_fastcall
463   0000              	GLOBAL _in_pause
464   0000              	GLOBAL _in_key_scancode_fastcall
465   0000              	GLOBAL _in_key_scancode
466   0000              	GLOBAL _in_key_pressed_fastcall
467   0000              	GLOBAL _in_key_pressed
468   0000              	GLOBAL _in_inkey
469   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
470   0000              	GLOBAL _NIRVANAP_drawTW_raw
471   0000              	GLOBAL _NIRVANAP_drawTW_callee
472   0000              	GLOBAL _NIRVANAP_drawTW
473   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
474   0000              	GLOBAL _NIRVANAP_drawW_raw
475   0000              	GLOBAL _NIRVANAP_drawW_callee
476   0000              	GLOBAL _NIRVANAP_drawW
477   0000              	GLOBAL _NIRVANAP_spriteT_callee
478   0000              	GLOBAL _NIRVANAP_spriteT
479   0000              	GLOBAL _NIRVANAP_fillC_callee
480   0000              	GLOBAL _NIRVANAP_fillC
481   0000              	GLOBAL _NIRVANAP_readC_callee
482   0000              	GLOBAL _NIRVANAP_readC
483   0000              	GLOBAL _NIRVANAP_paintC_callee
484   0000              	GLOBAL _NIRVANAP_paintC
485   0000              	GLOBAL _NIRVANAP_printC_callee
486   0000              	GLOBAL _NIRVANAP_printC
487   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
488   0000              	GLOBAL _NIRVANAP_fillT_raw
489   0000              	GLOBAL _NIRVANAP_fillT_callee
490   0000              	GLOBAL _NIRVANAP_fillT
491   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
492   0000              	GLOBAL _NIRVANAP_drawT_raw
493   0000              	GLOBAL _NIRVANAP_drawT_callee
494   0000              	GLOBAL _NIRVANAP_drawT
495   0000              	GLOBAL _NIRVANAP_stop
496   0000              	GLOBAL _NIRVANAP_start
497   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
498   0000              	GLOBAL _intrinsic_swap_word_32
499   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
500   0000              	GLOBAL _intrinsic_swap_endian_32
501   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
502   0000              	GLOBAL _intrinsic_swap_endian_16
503   0000              	GLOBAL _intrinsic_return_de
504   0000              	GLOBAL _intrinsic_return_bc
505   0000              	GLOBAL _intrinsic_exx
506   0000              	GLOBAL _intrinsic_ex_de_hl
507   0000              	GLOBAL _intrinsic_pop_iy
508   0000              	GLOBAL _intrinsic_pop_ix
509   0000              	GLOBAL _intrinsic_pop_hl
510   0000              	GLOBAL _intrinsic_pop_de
511   0000              	GLOBAL _intrinsic_pop_bc
512   0000              	GLOBAL _intrinsic_pop_af
513   0000              	GLOBAL _intrinsic_push_iy
514   0000              	GLOBAL _intrinsic_push_ix
515   0000              	GLOBAL _intrinsic_push_hl
516   0000              	GLOBAL _intrinsic_push_de
517   0000              	GLOBAL _intrinsic_push_bc
518   0000              	GLOBAL _intrinsic_push_af
519   0000              	GLOBAL _intrinsic_nop
520   0000              	GLOBAL _intrinsic_im_2
521   0000              	GLOBAL _intrinsic_im_1
522   0000              	GLOBAL _intrinsic_im_0
523   0000              	GLOBAL _intrinsic_retn
524   0000              	GLOBAL _intrinsic_reti
525   0000              	GLOBAL _intrinsic_halt
526   0000              	GLOBAL _intrinsic_ei
527   0000              	GLOBAL _intrinsic_di
528   0000              	GLOBAL _intrinsic_stub
529   0000              	GLOBAL _ulltoa_callee
530   0000              	GLOBAL _ulltoa
531   0000              	GLOBAL _strtoull_callee
532   0000              	GLOBAL _strtoull
533   0000              	GLOBAL _strtoll_callee
534   0000              	GLOBAL _strtoll
535   0000              	GLOBAL _lltoa_callee
536   0000              	GLOBAL _lltoa
537   0000              	GLOBAL _llabs_callee
538   0000              	GLOBAL _llabs
539   0000              	GLOBAL __lldivu__callee
540   0000              	GLOBAL __lldivu_
541   0000              	GLOBAL __lldiv__callee
542   0000              	GLOBAL __lldiv_
543   0000              	GLOBAL _atoll_callee
544   0000              	GLOBAL _atoll
545   0000              	GLOBAL _realloc_unlocked_callee
546   0000              	GLOBAL _realloc_unlocked
547   0000              	GLOBAL _malloc_unlocked_fastcall
548   0000              	GLOBAL _malloc_unlocked
549   0000              	GLOBAL _free_unlocked_fastcall
550   0000              	GLOBAL _free_unlocked
551   0000              	GLOBAL _calloc_unlocked_callee
552   0000              	GLOBAL _calloc_unlocked
553   0000              	GLOBAL _aligned_alloc_unlocked_callee
554   0000              	GLOBAL _aligned_alloc_unlocked
555   0000              	GLOBAL _realloc_callee
556   0000              	GLOBAL _realloc
557   0000              	GLOBAL _malloc_fastcall
558   0000              	GLOBAL _malloc
559   0000              	GLOBAL _free_fastcall
560   0000              	GLOBAL _free
561   0000              	GLOBAL _calloc_callee
562   0000              	GLOBAL _calloc
563   0000              	GLOBAL _aligned_alloc_callee
564   0000              	GLOBAL _aligned_alloc
565   0000              	GLOBAL _utoa_callee
566   0000              	GLOBAL _utoa
567   0000              	GLOBAL _ultoa_callee
568   0000              	GLOBAL _ultoa
569   0000              	GLOBAL _system_fastcall
570   0000              	GLOBAL _system
571   0000              	GLOBAL _strtoul_callee
572   0000              	GLOBAL _strtoul
573   0000              	GLOBAL _strtol_callee
574   0000              	GLOBAL _strtol
575   0000              	GLOBAL _strtof_callee
576   0000              	GLOBAL _strtof
577   0000              	GLOBAL _strtod_callee
578   0000              	GLOBAL _strtod
579   0000              	GLOBAL _srand_fastcall
580   0000              	GLOBAL _srand
581   0000              	GLOBAL _rand
582   0000              	GLOBAL _quick_exit_fastcall
583   0000              	GLOBAL _quick_exit
584   0000              	GLOBAL _qsort_callee
585   0000              	GLOBAL _qsort
586   0000              	GLOBAL _ltoa_callee
587   0000              	GLOBAL _ltoa
588   0000              	GLOBAL _labs_fastcall
589   0000              	GLOBAL _labs
590   0000              	GLOBAL _itoa_callee
591   0000              	GLOBAL _itoa
592   0000              	GLOBAL _ftoh_callee
593   0000              	GLOBAL _ftoh
594   0000              	GLOBAL _ftog_callee
595   0000              	GLOBAL _ftog
596   0000              	GLOBAL _ftoe_callee
597   0000              	GLOBAL _ftoe
598   0000              	GLOBAL _ftoa_callee
599   0000              	GLOBAL _ftoa
600   0000              	GLOBAL _exit_fastcall
601   0000              	GLOBAL _exit
602   0000              	GLOBAL _dtoh_callee
603   0000              	GLOBAL _dtoh
604   0000              	GLOBAL _dtog_callee
605   0000              	GLOBAL _dtog
606   0000              	GLOBAL _dtoe_callee
607   0000              	GLOBAL _dtoe
608   0000              	GLOBAL _dtoa_callee
609   0000              	GLOBAL _dtoa
610   0000              	GLOBAL _bsearch_callee
611   0000              	GLOBAL _bsearch
612   0000              	GLOBAL _atol_fastcall
613   0000              	GLOBAL _atol
614   0000              	GLOBAL _atoi_fastcall
615   0000              	GLOBAL _atoi
616   0000              	GLOBAL _atof_fastcall
617   0000              	GLOBAL _atof
618   0000              	GLOBAL _atexit_fastcall
619   0000              	GLOBAL _atexit
620   0000              	GLOBAL _at_quick_exit_fastcall
621   0000              	GLOBAL _at_quick_exit
622   0000              	GLOBAL _abs_fastcall
623   0000              	GLOBAL _abs
624   0000              	GLOBAL _abort
625   0000              	GLOBAL __strtou__callee
626   0000              	GLOBAL __strtou_
627   0000              	GLOBAL __strtoi__callee
628   0000              	GLOBAL __strtoi_
629   0000              	GLOBAL __random_uniform_xor_8__fastcall
630   0000              	GLOBAL __random_uniform_xor_8_
631   0000              	GLOBAL __random_uniform_xor_32__fastcall
632   0000              	GLOBAL __random_uniform_xor_32_
633   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
634   0000              	GLOBAL __random_uniform_cmwc_8_
635   0000              	GLOBAL __shellsort__callee
636   0000              	GLOBAL __shellsort_
637   0000              	GLOBAL __quicksort__callee
638   0000              	GLOBAL __quicksort_
639   0000              	GLOBAL __insertion_sort__callee
640   0000              	GLOBAL __insertion_sort_
641   0000              	GLOBAL __ldivu__callee
642   0000              	GLOBAL __ldivu_
643   0000              	GLOBAL __ldiv__callee
644   0000              	GLOBAL __ldiv_
645   0000              	GLOBAL __divu__callee
646   0000              	GLOBAL __divu_
647   0000              	GLOBAL __div__callee
648   0000              	GLOBAL __div_
649   0000              	GLOBAL _ay_effect_20
650   0000              	GLOBAL _ay_effect_19
651   0000              	GLOBAL _ay_effect_18
652   0000              	GLOBAL _ay_effect_17
653   0000              	GLOBAL _ay_effect_16
654   0000              	GLOBAL _ay_effect_15
655   0000              	GLOBAL _ay_effect_14
656   0000              	GLOBAL _ay_effect_13
657   0000              	GLOBAL _ay_effect_12
658   0000              	GLOBAL _ay_effect_11
659   0000              	GLOBAL _ay_effect_10
660   0000              	GLOBAL _ay_effect_09
661   0000              	GLOBAL _ay_effect_08
662   0000              	GLOBAL _ay_effect_07
663   0000              	GLOBAL _ay_effect_06
664   0000              	GLOBAL _ay_effect_05
665   0000              	GLOBAL _ay_effect_04
666   0000              	GLOBAL _ay_effect_03
667   0000              	GLOBAL _ay_effect_02
668   0000              	GLOBAL _ay_effect_01
669   0000              	GLOBAL _pb_midi_phase_1
670   0000              	GLOBAL _pb_midi_title
671   0000              	GLOBAL _joynames
672   0000              	GLOBAL _initials
673   0000              	GLOBAL _hof
674   0000              	GLOBAL _score_osd_tile
675   0000              	GLOBAL _score_osd_time
676   0000              	GLOBAL _score_osd_col
677   0000              	GLOBAL _score_osd_lin
678   0000              	GLOBAL _phase_bonus_total
679   0000              	GLOBAL _phase_angry
680   0000              	GLOBAL _phase_curr
681   0000              	GLOBAL _phase_end
682   0000              	GLOBAL _phase_coins
683   0000              	GLOBAL _phase_pop
684   0000              	GLOBAL _phase_tot
685   0000              	GLOBAL _phase_left
686   0000              	GLOBAL _phase_quota
687   0000              	GLOBAL _phases
688   0000              	GLOBAL _spr_idx
689   0000              	GLOBAL _lvl_1
690   0000              	GLOBAL _sprite_speed_alt
691   0000              	GLOBAL _sprite_speed
692   0000              	GLOBAL _screen_ink
693   0000              	GLOBAL _screen_paper
694   0000              	GLOBAL _game_menu_sel
695   0000              	GLOBAL _game_type
696   0000              	GLOBAL _game_osd
697   0000              	GLOBAL _game_bonus
698   0000              	GLOBAL _spr_water_time
699   0000              	GLOBAL _spr_water_clear
700   0000              	GLOBAL _game_time_fireball_start
701   0000              	GLOBAL _game_time_flipped
702   0000              	GLOBAL _game_score_top
703   0000              	GLOBAL _game_lives
704   0000              	GLOBAL _game_over
705   0000              	GLOBAL _game_sound
706   0000              	GLOBAL _game_two_player
707   0000              	GLOBAL _game_brick_tile
708   0000              	GLOBAL _game_pow
709   0000              	GLOBAL _spr_count
710   0000              	GLOBAL _frame_loop_count
711   0000              	GLOBAL _osd_time
712   0000              	GLOBAL _frame_time
713   0000              	GLOBAL _entry_time
714   0000              	GLOBAL _curr_time
715   0000              	GLOBAL _s_state
716   0000              	GLOBAL _attrib_hl
717   0000              	GLOBAL _attrib
718   0000              	GLOBAL _zx_val_asm
719   0000              	GLOBAL _enemies
720   0000              	GLOBAL _tmp_ui
721   0000              	GLOBAL _tmp_sc
722   0000              	GLOBAL _tmp_uc
723   0000              	GLOBAL _tmp1
724   0000              	GLOBAL _tmp0
725   0000              	GLOBAL _tmp
726   0000              	GLOBAL _index_d
727   0000              	GLOBAL _index3
728   0000              	GLOBAL _index2
729   0000              	GLOBAL _index1
730   0000              	GLOBAL _loop_count
731   0000              	GLOBAL _sprite_lin_inc_mul
732   0000              	GLOBAL _s_col1
733   0000              	GLOBAL _s_col0
734   0000              	GLOBAL _s_lin1
735   0000              	GLOBAL _s_lin0
736   0000              	GLOBAL _s_tile1
737   0000              	GLOBAL _s_tile0
738   0000              	GLOBAL _hit_count
739   0000              	GLOBAL _tile_offset_other_player
740   0000              	GLOBAL _tile_offset
741   0000              	GLOBAL _index_player
742   0000              	GLOBAL _sprite_other_player
743   0000              	GLOBAL _sprite
744   0000              	GLOBAL _player_joy
745   0000              	GLOBAL _player_next_extra
746   0000              	GLOBAL _player_score
747   0000              	GLOBAL _last_time
748   0000              	GLOBAL _sliding
749   0000              	GLOBAL _spr_timer_c
750   0000              	GLOBAL _spr_timer
751   0000              	GLOBAL _jump_lin
752   0000              	GLOBAL _player_jump_c
753   0000              	GLOBAL _hit_col
754   0000              	GLOBAL _hit_lin
755   0000              	GLOBAL _colint
756   0000              	GLOBAL _col
757   0000              	GLOBAL _lin
758   0000              	GLOBAL _tile
759   0000              	GLOBAL _state_a
760   0000              	GLOBAL _state
761   0000              	GLOBAL _class
762   0000              	GLOBAL _tbuffer
763   0000              	GLOBAL _dirs
764   0000              	GLOBAL _k2
765   0000              	GLOBAL _k1
766   0000              	GLOBAL _joyfunc2
767   0000              	GLOBAL _joyfunc1
768   0000              	GLOBAL _btiles
769   0000              	GLOBAL _spec128
770   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
771   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
772   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
773   0000              	GLOBAL _NIRVANAP_HOLE
774   0000              	GLOBAL _NIRVANAP_ISR_HOOK
775   0000              	GLOBAL _control_method
776   0000              	GLOBAL _hall_valids
777   0000              ;--------------------------------------------------------
778   0000              ; special function registers
779   0000              ;--------------------------------------------------------
780   0000              ;--------------------------------------------------------
781   0000              ; ram data
782   0000              ;--------------------------------------------------------
783   0000              	SECTION bss_compiler
784   0000              ;--------------------------------------------------------
785   0000              ; ram data
786   0000              ;--------------------------------------------------------
787   0000              
788   0000              IF 0
789   0000              
790   0000              ; .area _INITIALIZED removed by z88dk
791   0000              
792   0000              
793   0000              ENDIF
794   0000              
795   0000              ;--------------------------------------------------------
796   0000              ; absolute external ram data
797   0000              ;--------------------------------------------------------
798   0000              	SECTION IGNORE
799   0000              ;--------------------------------------------------------
800   0000              ; global & static initialisations
801   0000              ;--------------------------------------------------------
802   0000              	SECTION code_crt_init
803   0000              ;--------------------------------------------------------
804   0000              ; Home
805   0000              ;--------------------------------------------------------
806   0000              	SECTION IGNORE
807   0000              ;--------------------------------------------------------
808   0000              ; code
809   0000              ;--------------------------------------------------------
810   0000              	SECTION code_compiler
811   0000              ;	---------------------------------
812   0000              ; Function enemy_coin1
813   0000              ; ---------------------------------
814   0000              _enemy_coin1:
815   0000  3A 00 00    	ld	a,(_phase_left)
816   0003  B7          	or	a, a
817   0004  28 2C       	jr	Z,l_enemy_coin1_00107
818   0006  CD 20 0E    	call	_enemy_walk
819   0009  2A 00 00    	ld	hl,(_sprite)
820   000C  26 00       	ld	h,0x00
821   000E  01 00 00    	ld	bc,_lin
822   0011  09          	add	hl,bc
823   0012  7E          	ld	a,(hl)
824   0013  D6 98       	sub	a,0x98
825   0015  20 1B       	jr	NZ,l_enemy_coin1_00107
826   0017  3A 00 00    	ld	a,(_sprite)
827   001A  4F          	ld	c,a
828   001B  06 00       	ld	b,0x00
829   001D  21 00 00    	ld	hl,_col
830   0020  09          	add	hl,bc
831   0021  7E          	ld	a,(hl)
832   0022  4F          	ld	c,a
833   0023  D6 03       	sub	a,0x03
834   0025  28 05       	jr	Z,l_enemy_coin1_00101
835   0027  79          	ld	a,c
836   0028  D6 1B       	sub	a,0x1b
837   002A  20 06       	jr	NZ,l_enemy_coin1_00107
838   002C              l_enemy_coin1_00101:
839   002C  2A 00 00    	ld	hl,(_sprite)
840   002F  CD 00 00    	call	_spr_destroy
841   0032              l_enemy_coin1_00107:
842   0032  C9          	ret
843   0033              	SECTION code_compiler
844   0033              ;	---------------------------------
845   0033              ; Function enemy_coin2
846   0033              ; ---------------------------------
847   0033              _enemy_coin2:
848   0033  01 00 00    	ld	bc,_colint+0
849   0036  79          	ld	a,c
850   0037  21 00 00    	ld	hl,_sprite
851   003A  86          	add	a, (hl)
852   003B  5F          	ld	e,a
853   003C  78          	ld	a,b
854   003D  CE 00       	adc	a,0x00
855   003F  57          	ld	d,a
856   0040  1A          	ld	a,(de)
857   0041  3C          	inc	a
858   0042  12          	ld	(de),a
859   0043  79          	ld	a,c
860   0044  86          	add	a, (hl)
861   0045  4F          	ld	c,a
862   0046  78          	ld	a,b
863   0047  CE 00       	adc	a,0x00
864   0049  47          	ld	b,a
865   004A  0A          	ld	a,(bc)
866   004B  D6 03       	sub	a,0x03
867   004D  C0          	ret	NZ
868   004E  AF          	xor	a, a
869   004F  02          	ld	(bc),a
870   0050  C9          	ret
871   0051              	SECTION code_compiler
872   0051              ;	---------------------------------
873   0051              ; Function enemy_collition
874   0051              ; ---------------------------------
875   0051              _enemy_collition:
876   0051  CD 00 00    	call	___sdcc_enter_ix
877   0054  3B          	dec	sp
878   0055  21 00 00    	ld	hl,_enemies
879   0058  36 00       	ld	(hl),0x00
880   005A              l_enemy_collition_00113:
881   005A  CD 7F 01    	call	_enemy_collition_check
882   005D  7D          	ld	a,l
883   005E  B7          	or	a, a
884   005F  CA 70 01    	jp	Z,l_enemy_collition_00114
885   0062  3A 00 00    	ld	a,(_enemies)
886   0065  C6 00       	add	a,+((_state) & 0xFF)
887   0067  4F          	ld	c,a
888   0068  3E 00       	ld	a,+((_state) / 256)
889   006A  CE 00       	adc	a,0x00
890   006C  47          	ld	b,a
891   006D  0A          	ld	a,(bc)
892   006E  DD 77 FF    	ld	(ix-1),a
893   0071  CB 67       	bit	4,a
894   0073  C2 06 01    	jp	NZ,l_enemy_collition_00104
895   0076  21 00 00    	ld	hl,_s_state
896   0079  7E          	ld	a,(hl)
897   007A  E6 08       	and	a,0x08
898   007C  5F          	ld	e,a
899   007D  DD 7E FF    	ld	a,(ix-1)
900   0080  E6 08       	and	a,0x08
901   0082  57          	ld	d,a
902   0083  7B          	ld	a,e
903   0084  92          	sub	a, d
904   0085  CA 06 01    	jp	Z,l_enemy_collition_00104
905   0088  7E          	ld	a,(hl)
906   0089  E6 04       	and	a,0x04
907   008B  5F          	ld	e,a
908   008C  DD 7E FF    	ld	a,(ix-1)
909   008F  E6 04       	and	a,0x04
910   0091  57          	ld	d,a
911   0092  7B          	ld	a,e
912   0093  92          	sub	a, d
913   0094  28 70       	jr	Z,l_enemy_collition_00104
914   0096  2A 00 00    	ld	hl,(_sprite)
915   0099  26 00       	ld	h,0x00
916   009B  11 00 00    	ld	de,_class
917   009E  19          	add	hl,de
918   009F  7E          	ld	a,(hl)
919   00A0  D6 08       	sub	a,0x08
920   00A2  28 62       	jr	Z,l_enemy_collition_00104
921   00A4  DD 7E FF    	ld	a,(ix-1)
922   00A7  EE 04       	xor	a,0x04
923   00A9  02          	ld	(bc),a
924   00AA  2A 00 00    	ld	hl,(_enemies)
925   00AD  26 00       	ld	h,0x00
926   00AF  01 00 00    	ld	bc,_state
927   00B2  09          	add	hl,bc
928   00B3  7E          	ld	a,(hl)
929   00B4  EE 08       	xor	a,0x08
930   00B6  77          	ld	(hl),a
931   00B7  2A 00 00    	ld	hl,(_enemies)
932   00BA  26 00       	ld	h,0x00
933   00BC  01 00 00    	ld	bc,_class
934   00BF  09          	add	hl,bc
935   00C0  4E          	ld	c,(hl)
936   00C1  3E 06       	ld	a,0x06
937   00C3  91          	sub	a,c
938   00C4  38 40       	jr	C,l_enemy_collition_00104
939   00C6  3E 00       	ld	a,+((_state_a) & 0xFF)
940   00C8  21 00 00    	ld	hl,_enemies
941   00CB  86          	add	a, (hl)
942   00CC  4F          	ld	c,a
943   00CD  3E 00       	ld	a,+((_state_a) / 256)
944   00CF  CE 00       	adc	a,0x00
945   00D1  47          	ld	b,a
946   00D2  0A          	ld	a,(bc)
947   00D3  CB CF       	set	1, a
948   00D5  02          	ld	(bc),a
949   00D6  6E          	ld	l,(hl)
950   00D7  26 00       	ld	h,0x00
951   00D9  29          	add	hl,hl
952   00DA  01 00 00    	ld	bc,_spr_timer
953   00DD  09          	add	hl,bc
954   00DE  ED 5B 00 00 	ld	de,(_curr_time)
955   00E2  73          	ld	(hl),e
956   00E3  23          	inc	hl
957   00E4  72          	ld	(hl),d
958   00E5  3E 00       	ld	a,+((_tile) & 0xFF)
959   00E7  21 00 00    	ld	hl,_enemies
960   00EA  86          	add	a, (hl)
961   00EB  4F          	ld	c,a
962   00EC  3E 00       	ld	a,+((_tile) / 256)
963   00EE  CE 00       	adc	a,0x00
964   00F0  47          	ld	b,a
965   00F1  6E          	ld	l,(hl)
966   00F2  C5          	push	bc
967   00F3  CD 00 00    	call	_spr_tile
968   00F6  C1          	pop	bc
969   00F7  7D          	ld	a, l
970   00F8  02          	ld	(bc),a
971   00F9  3A 00 00    	ld	a,(_enemies)
972   00FC  C6 00       	add	a,+((_colint) & 0xFF)
973   00FE  4F          	ld	c,a
974   00FF  3E 00       	ld	a,+((_colint) / 256)
975   0101  CE 00       	adc	a,0x00
976   0103  47          	ld	b,a
977   0104  AF          	xor	a, a
978   0105  02          	ld	(bc),a
979   0106              l_enemy_collition_00104:
980   0106  21 00 00    	ld	hl,_s_state
981   0109  7E          	ld	a,(hl)
982   010A  EE 0C       	xor	a,+(0x04^0x08)
983   010C  77          	ld	(hl),a
984   010D  2A 00 00    	ld	hl,(_sprite)
985   0110  26 00       	ld	h,0x00
986   0112  01 00 00    	ld	bc,_class
987   0115  09          	add	hl,bc
988   0116  4E          	ld	c,(hl)
989   0117  3E 06       	ld	a,0x06
990   0119  91          	sub	a,c
991   011A  38 3E       	jr	C,l_enemy_collition_00109
992   011C  3E 00       	ld	a,+((_state_a) & 0xFF)
993   011E  21 00 00    	ld	hl,_sprite
994   0121  86          	add	a, (hl)
995   0122  4F          	ld	c,a
996   0123  3E 00       	ld	a,+((_state_a) / 256)
997   0125  CE 00       	adc	a,0x00
998   0127  47          	ld	b,a
999   0128  0A          	ld	a,(bc)
1000  0129  CB CF       	set	1, a
1001  012B  02          	ld	(bc),a
1002  012C  3E 00       	ld	a,+((_state) & 0xFF)
1003  012E  86          	add	a, (hl)
1004  012F  4F          	ld	c,a
1005  0130  3E 00       	ld	a,+((_state) / 256)
1006  0132  CE 00       	adc	a,0x00
1007  0134  47          	ld	b,a
1008  0135  3A 00 00    	ld	a,(_s_state)
1009  0138  02          	ld	(bc),a
1010  0139  3E 00       	ld	a,+((_tile) & 0xFF)
1011  013B  21 00 00    	ld	hl,_sprite
1012  013E  86          	add	a, (hl)
1013  013F  4F          	ld	c,a
1014  0140  3E 00       	ld	a,+((_tile) / 256)
1015  0142  CE 00       	adc	a,0x00
1016  0144  47          	ld	b,a
1017  0145  6E          	ld	l,(hl)
1018  0146  C5          	push	bc
1019  0147  CD 00 00    	call	_spr_tile
1020  014A  C1          	pop	bc
1021  014B  7D          	ld	a, l
1022  014C  02          	ld	(bc),a
1023  014D  3A 00 00    	ld	a,(_sprite)
1024  0150  C6 00       	add	a,+((_colint) & 0xFF)
1025  0152  4F          	ld	c,a
1026  0153  3E 00       	ld	a,+((_colint) / 256)
1027  0155  CE 00       	adc	a,0x00
1028  0157  47          	ld	b,a
1029  0158  AF          	xor	a, a
1030  0159  02          	ld	(bc),a
1031  015A              l_enemy_collition_00109:
1032  015A  2A 00 00    	ld	hl,(_sprite)
1033  015D  26 00       	ld	h,0x00
1034  015F  29          	add	hl,hl
1035  0160  01 00 00    	ld	bc,_spr_timer
1036  0163  09          	add	hl,bc
1037  0164  ED 5B 00 00 	ld	de,(_curr_time)
1038  0168  73          	ld	(hl),e
1039  0169  23          	inc	hl
1040  016A  72          	ld	(hl),d
1041  016B  21 00 00    	ld	hl,_enemies
1042  016E  36 06       	ld	(hl),0x06
1043  0170              l_enemy_collition_00114:
1044  0170  21 00 00    	ld	hl,_enemies
1045  0173  7E          	ld	a,(hl)
1046  0174  3C          	inc	a
1047  0175  77          	ld	(hl),a
1048  0176  D6 06       	sub	a,0x06
1049  0178  DA 5A 00    	jp	C,l_enemy_collition_00113
1050  017B  33          	inc	sp
1051  017C  DD E1       	pop	ix
1052  017E  C9          	ret
1053  017F              	SECTION code_compiler
1054  017F              ;	---------------------------------
1055  017F              ; Function enemy_collition_check
1056  017F              ; ---------------------------------
1057  017F              _enemy_collition_check:
1058  017F  2A 00 00    	ld	hl,(_enemies)
1059  0182  26 00       	ld	h,0x00
1060  0184  01 00 00    	ld	bc,_class
1061  0187  09          	add	hl,bc
1062  0188  7E          	ld	a,(hl)
1063  0189  4F          	ld	c,a
1064  018A  B7          	or	a,a
1065  018B  20 04       	jr	NZ,l_enemy_collition_check_00102
1066  018D  6F          	ld	l,a
1067  018E  C3 66 02    	jp	l_enemy_collition_check_00125
1068  0191              l_enemy_collition_check_00102:
1069  0191  3E 09       	ld	a,0x09
1070  0193  91          	sub	a, c
1071  0194  30 05       	jr	NC,l_enemy_collition_check_00104
1072  0196  2E 00       	ld	l,0x00
1073  0198  C3 66 02    	jp	l_enemy_collition_check_00125
1074  019B              l_enemy_collition_check_00104:
1075  019B  3A 00 00    	ld	a,(_enemies)
1076  019E  21 00 00    	ld	hl,_sprite
1077  01A1  96          	sub	a,(hl)
1078  01A2  20 04       	jr	NZ,l_enemy_collition_check_00106
1079  01A4  6F          	ld	l,a
1080  01A5  C3 66 02    	jp	l_enemy_collition_check_00125
1081  01A8              l_enemy_collition_check_00106:
1082  01A8  3A 00 00    	ld	a,(_sprite)
1083  01AB  C6 00       	add	a,+((_state) & 0xFF)
1084  01AD  4F          	ld	c,a
1085  01AE  3E 00       	ld	a,+((_state) / 256)
1086  01B0  CE 00       	adc	a,0x00
1087  01B2  47          	ld	b,a
1088  01B3  0A          	ld	a,(bc)
1089  01B4  CB 67       	bit	4, a
1090  01B6  28 05       	jr	Z,l_enemy_collition_check_00108
1091  01B8  2E 00       	ld	l,0x00
1092  01BA  C3 66 02    	jp	l_enemy_collition_check_00125
1093  01BD              l_enemy_collition_check_00108:
1094  01BD  CB 6F       	bit	5, a
1095  01BF  28 05       	jr	Z,l_enemy_collition_check_00110
1096  01C1  2E 00       	ld	l,0x00
1097  01C3  C3 66 02    	jp	l_enemy_collition_check_00125
1098  01C6              l_enemy_collition_check_00110:
1099  01C6  3A 00 00    	ld	a,(_sprite)
1100  01C9  C6 00       	add	a,+((_state_a) & 0xFF)
1101  01CB  4F          	ld	c,a
1102  01CC  3E 00       	ld	a,+((_state_a) / 256)
1103  01CE  CE 00       	adc	a,0x00
1104  01D0  47          	ld	b,a
1105  01D1  0A          	ld	a,(bc)
1106  01D2  CB 4F       	bit	1, a
1107  01D4  28 05       	jr	Z,l_enemy_collition_check_00112
1108  01D6  2E 00       	ld	l,0x00
1109  01D8  C3 66 02    	jp	l_enemy_collition_check_00125
1110  01DB              l_enemy_collition_check_00112:
1111  01DB  3A 00 00    	ld	a,(_enemies)
1112  01DE  C6 00       	add	a,+((_state) & 0xFF)
1113  01E0  4F          	ld	c,a
1114  01E1  3E 00       	ld	a,+((_state) / 256)
1115  01E3  CE 00       	adc	a,0x00
1116  01E5  47          	ld	b,a
1117  01E6  0A          	ld	a,(bc)
1118  01E7  CB 6F       	bit	5, a
1119  01E9  28 05       	jr	Z,l_enemy_collition_check_00114
1120  01EB  2E 00       	ld	l,0x00
1121  01ED  C3 66 02    	jp	l_enemy_collition_check_00125
1122  01F0              l_enemy_collition_check_00114:
1123  01F0  CB 4F       	bit	1, a
1124  01F2  28 04       	jr	Z,l_enemy_collition_check_00116
1125  01F4  2E 00       	ld	l,0x00
1126  01F6  18 6E       	jr	l_enemy_collition_check_00125
1127  01F8              l_enemy_collition_check_00116:
1128  01F8  01 00 00    	ld	bc,_lin+0
1129  01FB  2A 00 00    	ld	hl,(_enemies)
1130  01FE  26 00       	ld	h,0x00
1131  0200  09          	add	hl,bc
1132  0201  6E          	ld	l, (hl)
1133  0202  26 00       	ld	h,0x00
1134  0204  EB          	ex	de,hl
1135  0205  2A 00 00    	ld	hl,(_sprite)
1136  0208  62          	ld	h,d
1137  0209  09          	add	hl,bc
1138  020A  4E          	ld	c, (hl)
1139  020B  AF          	xor	a,a
1140  020C  47          	ld	b,a
1141  020D  EB          	ex	de,hl
1142  020E  ED 42       	sbc	hl,bc
1143  0210  CD 00 00    	call	_abs_fastcall
1144  0213  22 00 00    	ld	(_tmp_ui),hl
1145  0216  7D          	ld	a,l
1146  0217  D6 10       	sub	a,0x10
1147  0219  7C          	ld	a,h
1148  021A  DE 00       	sbc	a,0x00
1149  021C  38 04       	jr	C,l_enemy_collition_check_00118
1150  021E  2E 00       	ld	l,0x00
1151  0220  18 44       	jr	l_enemy_collition_check_00125
1152  0222              l_enemy_collition_check_00118:
1153  0222  01 00 00    	ld	bc,_col+0
1154  0225  2A 00 00    	ld	hl,(_sprite)
1155  0228  26 00       	ld	h,0x00
1156  022A  09          	add	hl,bc
1157  022B  6E          	ld	l, (hl)
1158  022C  EB          	ex	de,hl
1159  022D  2A 00 00    	ld	hl,(_enemies)
1160  0230  26 00       	ld	h,0x00
1161  0232  09          	add	hl,bc
1162  0233  4E          	ld	c, (hl)
1163  0234  7B          	ld	a,e
1164  0235  91          	sub	a, c
1165  0236  32 00 00    	ld	(_tmp_sc),a
1166  0239  3A 00 00    	ld	a,(_sprite)
1167  023C  C6 00       	add	a,+((_state) & 0xFF)
1168  023E  4F          	ld	c,a
1169  023F  3E 00       	ld	a,+((_state) / 256)
1170  0241  CE 00       	adc	a,0x00
1171  0243  47          	ld	b,a
1172  0244  3A 00 00    	ld	a,(_tmp_sc)
1173  0247  D6 FE       	sub	a,0xfe
1174  0249  20 09       	jr	NZ,l_enemy_collition_check_00120
1175  024B  0A          	ld	a,(bc)
1176  024C  CB 57       	bit	2, a
1177  024E  28 04       	jr	Z,l_enemy_collition_check_00120
1178  0250  2E 01       	ld	l,0x01
1179  0252  18 12       	jr	l_enemy_collition_check_00125
1180  0254              l_enemy_collition_check_00120:
1181  0254  3A 00 00    	ld	a,(_tmp_sc)
1182  0257  D6 02       	sub	a,0x02
1183  0259  20 09       	jr	NZ,l_enemy_collition_check_00123
1184  025B  0A          	ld	a,(bc)
1185  025C  CB 5F       	bit	3, a
1186  025E  28 04       	jr	Z,l_enemy_collition_check_00123
1187  0260  2E 01       	ld	l,0x01
1188  0262  18 02       	jr	l_enemy_collition_check_00125
1189  0264              l_enemy_collition_check_00123:
1190  0264  2E 00       	ld	l,0x00
1191  0266              l_enemy_collition_check_00125:
1192  0266  C9          	ret
1193  0267              	SECTION code_compiler
1194  0267              ;	---------------------------------
1195  0267              ; Function enemy_hit
1196  0267              ; ---------------------------------
1197  0267              _enemy_hit:
1198  0267  76          	halt
1199  0268  2A 00 00    	ld	hl,(_enemies)
1200  026B  26 00       	ld	h,0x00
1201  026D  5D          	ld	e,l
1202  026E  01 00 00    	ld	bc,_col
1203  0271  09          	add	hl,bc
1204  0272  46          	ld	b,(hl)
1205  0273  16 00       	ld	d,0x00
1206  0275  21 00 00    	ld	hl,_lin
1207  0278  19          	add	hl,de
1208  0279  4E          	ld	c, (hl)
1209  027A  C5          	push	bc
1210  027B  AF          	xor	a, a
1211  027C  F5          	push	af
1212  027D  33          	inc	sp
1213  027E  CD 00 00    	call	_NIRVANAP_fillT_callee
1214  0281  2A 00 00    	ld	hl,(_enemies)
1215  0284  26 00       	ld	h,0x00
1216  0286  01 00 00    	ld	bc,_lin
1217  0289  09          	add	hl,bc
1218  028A  7E          	ld	a,(hl)
1219  028B  C6 FC       	add	a,0xfc
1220  028D  77          	ld	(hl),a
1221  028E  3E 00       	ld	a,+((_col) & 0xFF)
1222  0290  21 00 00    	ld	hl,_enemies
1223  0293  86          	add	a, (hl)
1224  0294  4F          	ld	c,a
1225  0295  3E 00       	ld	a,+((_col) / 256)
1226  0297  CE 00       	adc	a,0x00
1227  0299  47          	ld	b,a
1228  029A  0A          	ld	a,(bc)
1229  029B  4F          	ld	c,a
1230  029C  3E 00       	ld	a,+((_lin) & 0xFF)
1231  029E  86          	add	a, (hl)
1232  029F  5F          	ld	e,a
1233  02A0  3E 00       	ld	a,+((_lin) / 256)
1234  02A2  CE 00       	adc	a,0x00
1235  02A4  57          	ld	d,a
1236  02A5  1A          	ld	a,(de)
1237  02A6  47          	ld	b,a
1238  02A7  3E 00       	ld	a,+((_tile) & 0xFF)
1239  02A9  86          	add	a, (hl)
1240  02AA  5F          	ld	e,a
1241  02AB  3E 00       	ld	a,+((_tile) / 256)
1242  02AD  CE 00       	adc	a,0x00
1243  02AF  57          	ld	d,a
1244  02B0  1A          	ld	a,(de)
1245  02B1  57          	ld	d,a
1246  02B2  79          	ld	a,c
1247  02B3  F5          	push	af
1248  02B4  33          	inc	sp
1249  02B5  4A          	ld	c, d
1250  02B6  7E          	ld	a,(hl)
1251  02B7  C5          	push	bc
1252  02B8  F5          	push	af
1253  02B9  33          	inc	sp
1254  02BA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1255  02BD  2A 00 00    	ld	hl,(_enemies)
1256  02C0  26 00       	ld	h,0x00
1257  02C2  01 00 00    	ld	bc,_state_a
1258  02C5  09          	add	hl,bc
1259  02C6  7E          	ld	a,(hl)
1260  02C7  E6 FD       	and	a,0xfd
1261  02C9  77          	ld	(hl),a
1262  02CA  01 00 00    	ld	bc,_spr_timer+0
1263  02CD  2A 00 00    	ld	hl,(_enemies)
1264  02D0  26 00       	ld	h,0x00
1265  02D2  29          	add	hl, hl
1266  02D3  09          	add	hl,bc
1267  02D4  ED 5B 00 00 	ld	de,(_curr_time)
1268  02D8  73          	ld	(hl),e
1269  02D9  23          	inc	hl
1270  02DA  72          	ld	(hl),d
1271  02DB  3A 00 00    	ld	a,(_enemies)
1272  02DE  C6 00       	add	a,+((_class) & 0xFF)
1273  02E0  4F          	ld	c,a
1274  02E1  3E 00       	ld	a,+((_class) / 256)
1275  02E3  CE 00       	adc	a,0x00
1276  02E5  47          	ld	b,a
1277  02E6  0A          	ld	a,(bc)
1278  02E7  5F          	ld	e,a
1279  02E8  D6 01       	sub	a,0x01
1280  02EA  DA 8A 03    	jp	C,l_enemy_hit_00113
1281  02ED  3E 0B       	ld	a,0x0b
1282  02EF  93          	sub	a, e
1283  02F0  DA 8A 03    	jp	C,l_enemy_hit_00113
1284  02F3  1D          	dec	e
1285  02F4  16 00       	ld	d,0x00
1286  02F6  21 FD 02    	ld	hl,l_enemy_hit_00123
1287  02F9  19          	add	hl,de
1288  02FA  19          	add	hl,de
1289  02FB  19          	add	hl,de
1290  02FC  E9          	jp	(hl)
1291  02FD              l_enemy_hit_00123:
1292  02FD  C3 1E 03    	jp	l_enemy_hit_00101
1293  0300  C3 26 03    	jp	l_enemy_hit_00102
1294  0303  C3 2E 03    	jp	l_enemy_hit_00103
1295  0306  C3 36 03    	jp	l_enemy_hit_00104
1296  0309  C3 3E 03    	jp	l_enemy_hit_00105
1297  030C  C3 46 03    	jp	l_enemy_hit_00106
1298  030F  C3 56 03    	jp	l_enemy_hit_00108
1299  0312  C3 62 03    	jp	l_enemy_hit_00109
1300  0315  C3 4E 03    	jp	l_enemy_hit_00107
1301  0318  C3 74 03    	jp	l_enemy_hit_00110
1302  031B  C3 80 03    	jp	l_enemy_hit_00111
1303  031E              l_enemy_hit_00101:
1304  031E  21 30 00    	ld	hl,0x0030
1305  0321  CD 76 04    	call	_enemy_flip
1306  0324  18 64       	jr	l_enemy_hit_00113
1307  0326              l_enemy_hit_00102:
1308  0326  21 3C 00    	ld	hl,0x003c
1309  0329  CD 76 04    	call	_enemy_flip
1310  032C  18 5C       	jr	l_enemy_hit_00113
1311  032E              l_enemy_hit_00103:
1312  032E  21 48 00    	ld	hl,0x0048
1313  0331  CD 76 04    	call	_enemy_flip
1314  0334  18 54       	jr	l_enemy_hit_00113
1315  0336              l_enemy_hit_00104:
1316  0336  21 54 00    	ld	hl,0x0054
1317  0339  CD 53 05    	call	_enemy_flip_sidestepper
1318  033C  18 4C       	jr	l_enemy_hit_00113
1319  033E              l_enemy_hit_00105:
1320  033E  21 60 00    	ld	hl,0x0060
1321  0341  CD 53 05    	call	_enemy_flip_sidestepper
1322  0344  18 44       	jr	l_enemy_hit_00113
1323  0346              l_enemy_hit_00106:
1324  0346  21 6C 00    	ld	hl,0x006c
1325  0349  CD 53 05    	call	_enemy_flip_sidestepper
1326  034C  18 3C       	jr	l_enemy_hit_00113
1327  034E              l_enemy_hit_00107:
1328  034E  21 78 00    	ld	hl,0x0078
1329  0351  CD 76 04    	call	_enemy_flip
1330  0354  18 34       	jr	l_enemy_hit_00113
1331  0356              l_enemy_hit_00108:
1332  0356  2A 00 00    	ld	hl,(_enemies)
1333  0359  26 32       	ld	h,0x32
1334  035B  E5          	push	hl
1335  035C  CD 00 00    	call	_player_coin
1336  035F  F1          	pop	af
1337  0360  18 28       	jr	l_enemy_hit_00113
1338  0362              l_enemy_hit_00109:
1339  0362  21 00 00    	ld	hl,_ay_effect_10
1340  0365  CD 00 00    	call	_ay_fx_play
1341  0368  2A 00 00    	ld	hl,(_enemies)
1342  036B  26 50       	ld	h,0x50
1343  036D  E5          	push	hl
1344  036E  CD 00 00    	call	_player_coin
1345  0371  F1          	pop	af
1346  0372  18 16       	jr	l_enemy_hit_00113
1347  0374              l_enemy_hit_00110:
1348  0374  2A 00 00    	ld	hl,(_enemies)
1349  0377  26 64       	ld	h,0x64
1350  0379  E5          	push	hl
1351  037A  CD 00 00    	call	_player_coin
1352  037D  F1          	pop	af
1353  037E  18 0A       	jr	l_enemy_hit_00113
1354  0380              l_enemy_hit_00111:
1355  0380  2A 00 00    	ld	hl,(_enemies)
1356  0383  26 14       	ld	h,0x14
1357  0385  E5          	push	hl
1358  0386  CD 00 00    	call	_player_coin
1359  0389  F1          	pop	af
1360  038A              l_enemy_hit_00113:
1361  038A  C9          	ret
1362  038B              	SECTION code_compiler
1363  038B              ;	---------------------------------
1364  038B              ; Function enemy_flip_change_dir
1365  038B              ; ---------------------------------
1366  038B              _enemy_flip_change_dir:
1367  038B  3A 00 00    	ld	a,(_enemies)
1368  038E  C6 00       	add	a,+((_state) & 0xFF)
1369  0390  4D          	ld	c,l
1370  0391  5F          	ld	e,a
1371  0392  3E 00       	ld	a,+((_state) / 256)
1372  0394  CE 00       	adc	a,0x00
1373  0396  57          	ld	d,a
1374  0397  1A          	ld	a,(de)
1375  0398  CB 57       	bit	2, a
1376  039A  28 1F       	jr	Z,l_enemy_flip_change_dir_00102
1377  039C  2A 00 00    	ld	hl,(_enemies)
1378  039F  26 00       	ld	h,0x00
1379  03A1  11 00 00    	ld	de,_state_a
1380  03A4  19          	add	hl,de
1381  03A5  7E          	ld	a,(hl)
1382  03A6  EB          	ex	de,hl
1383  03A7  21 00 00    	ld	hl,_enemies
1384  03AA  CB E7       	set	4, a
1385  03AC  12          	ld	(de),a
1386  03AD  5E          	ld	e,(hl)
1387  03AE  16 00       	ld	d,0x00
1388  03B0  21 00 00    	ld	hl,_state_a
1389  03B3  19          	add	hl,de
1390  03B4  7E          	ld	a,(hl)
1391  03B5  EB          	ex	de,hl
1392  03B6  E6 F7       	and	a,0xf7
1393  03B8  12          	ld	(de),a
1394  03B9  18 1D       	jr	l_enemy_flip_change_dir_00103
1395  03BB              l_enemy_flip_change_dir_00102:
1396  03BB  2A 00 00    	ld	hl,(_enemies)
1397  03BE  26 00       	ld	h,0x00
1398  03C0  11 00 00    	ld	de,_state_a
1399  03C3  19          	add	hl,de
1400  03C4  7E          	ld	a,(hl)
1401  03C5  EB          	ex	de,hl
1402  03C6  21 00 00    	ld	hl,_enemies
1403  03C9  CB E7       	set	4, a
1404  03CB  12          	ld	(de),a
1405  03CC  5E          	ld	e,(hl)
1406  03CD  16 00       	ld	d,0x00
1407  03CF  21 00 00    	ld	hl,_state_a
1408  03D2  19          	add	hl,de
1409  03D3  7E          	ld	a,(hl)
1410  03D4  EB          	ex	de,hl
1411  03D5  E6 F7       	and	a,0xf7
1412  03D7  12          	ld	(de),a
1413  03D8              l_enemy_flip_change_dir_00103:
1414  03D8  2A 00 00    	ld	hl,(_sprite)
1415  03DB  26 00       	ld	h,0x00
1416  03DD  11 00 00    	ld	de,_col
1417  03E0  19          	add	hl,de
1418  03E1  46          	ld	b, (hl)
1419  03E2  2A 00 00    	ld	hl,(_enemies)
1420  03E5  26 00       	ld	h,0x00
1421  03E7  11 00 00    	ld	de,_col
1422  03EA  19          	add	hl,de
1423  03EB  7E          	ld	a,(hl)
1424  03EC  90          	sub	a,b
1425  03ED  30 1D       	jr	NC,l_enemy_flip_change_dir_00105
1426  03EF  2A 00 00    	ld	hl,(_enemies)
1427  03F2  26 00       	ld	h,0x00
1428  03F4  11 00 00    	ld	de,_state
1429  03F7  19          	add	hl,de
1430  03F8  7E          	ld	a,(hl)
1431  03F9  EB          	ex	de,hl
1432  03FA  21 00 00    	ld	hl,_enemies
1433  03FD  CB DF       	set	3, a
1434  03FF  12          	ld	(de),a
1435  0400  5E          	ld	e,(hl)
1436  0401  16 00       	ld	d,0x00
1437  0403  21 00 00    	ld	hl,_state
1438  0406  19          	add	hl,de
1439  0407  7E          	ld	a,(hl)
1440  0408  EB          	ex	de,hl
1441  0409  E6 FB       	and	a,0xfb
1442  040B  12          	ld	(de),a
1443  040C              l_enemy_flip_change_dir_00105:
1444  040C  2A 00 00    	ld	hl,(_sprite)
1445  040F  26 00       	ld	h,0x00
1446  0411  11 00 00    	ld	de,_col
1447  0414  19          	add	hl,de
1448  0415  46          	ld	b, (hl)
1449  0416  2A 00 00    	ld	hl,(_enemies)
1450  0419  26 00       	ld	h,0x00
1451  041B  11 00 00    	ld	de,_col
1452  041E  19          	add	hl,de
1453  041F  5E          	ld	e, (hl)
1454  0420  78          	ld	a,b
1455  0421  93          	sub	a,e
1456  0422  30 1D       	jr	NC,l_enemy_flip_change_dir_00107
1457  0424  2A 00 00    	ld	hl,(_enemies)
1458  0427  26 00       	ld	h,0x00
1459  0429  11 00 00    	ld	de,_state
1460  042C  19          	add	hl,de
1461  042D  7E          	ld	a,(hl)
1462  042E  EB          	ex	de,hl
1463  042F  21 00 00    	ld	hl,_enemies
1464  0432  CB D7       	set	2, a
1465  0434  12          	ld	(de),a
1466  0435  5E          	ld	e,(hl)
1467  0436  16 00       	ld	d,0x00
1468  0438  21 00 00    	ld	hl,_state
1469  043B  19          	add	hl,de
1470  043C  7E          	ld	a,(hl)
1471  043D  EB          	ex	de,hl
1472  043E  E6 F7       	and	a,0xf7
1473  0440  12          	ld	(de),a
1474  0441              l_enemy_flip_change_dir_00107:
1475  0441  79          	ld	a,c
1476  0442  B7          	or	a, a
1477  0443  C0          	ret	NZ
1478  0444  2A 00 00    	ld	hl,(_sprite)
1479  0447  26 00       	ld	h,0x00
1480  0449  01 00 00    	ld	bc,_col
1481  044C  09          	add	hl,bc
1482  044D  4E          	ld	c,(hl)
1483  044E  2A 00 00    	ld	hl,(_enemies)
1484  0451  26 00       	ld	h,0x00
1485  0453  11 00 00    	ld	de,_col
1486  0456  19          	add	hl,de
1487  0457  46          	ld	b, (hl)
1488  0458  79          	ld	a,c
1489  0459  90          	sub	a,b
1490  045A  C0          	ret	NZ
1491  045B  2A 00 00    	ld	hl,(_enemies)
1492  045E  26 00       	ld	h,0x00
1493  0460  01 00 00    	ld	bc,_state
1494  0463  09          	add	hl,bc
1495  0464  7E          	ld	a,(hl)
1496  0465  E6 F7       	and	a,0xf7
1497  0467  77          	ld	(hl),a
1498  0468  2A 00 00    	ld	hl,(_enemies)
1499  046B  26 00       	ld	h,0x00
1500  046D  01 00 00    	ld	bc,_state
1501  0470  09          	add	hl,bc
1502  0471  7E          	ld	a,(hl)
1503  0472  E6 FB       	and	a,0xfb
1504  0474  77          	ld	(hl),a
1505  0475  C9          	ret
1506  0476              	SECTION code_compiler
1507  0476              ;	---------------------------------
1508  0476              ; Function enemy_flip
1509  0476              ; ---------------------------------
1510  0476              _enemy_flip:
1511  0476  CD 00 00    	call	___sdcc_enter_ix
1512  0479  F5          	push	af
1513  047A  3B          	dec	sp
1514  047B  DD 75 FE    	ld	(ix-2),l
1515  047E  DD 74 FF    	ld	(ix-1),h
1516  0481  01 00 00    	ld	bc,_spr_timer+0
1517  0484  2A 00 00    	ld	hl,(_enemies)
1518  0487  26 00       	ld	h,0x00
1519  0489  29          	add	hl, hl
1520  048A  09          	add	hl,bc
1521  048B  ED 5B 00 00 	ld	de,(_curr_time)
1522  048F  73          	ld	(hl),e
1523  0490  23          	inc	hl
1524  0491  72          	ld	(hl),d
1525  0492  3E 00       	ld	a,+((_state) & 0xFF)
1526  0494  21 00 00    	ld	hl,_enemies
1527  0497  86          	add	a, (hl)
1528  0498  4F          	ld	c,a
1529  0499  3E 00       	ld	a,+((_state) / 256)
1530  049B  CE 00       	adc	a,0x00
1531  049D  47          	ld	b,a
1532  049E  0A          	ld	a,(bc)
1533  049F  CB C7       	set	0, a
1534  04A1  02          	ld	(bc),a
1535  04A2  3E 00       	ld	a,+((_state) & 0xFF)
1536  04A4  86          	add	a, (hl)
1537  04A5  4F          	ld	c,a
1538  04A6  3E 00       	ld	a,+((_state) / 256)
1539  04A8  CE 00       	adc	a,0x00
1540  04AA  47          	ld	b,a
1541  04AB  0A          	ld	a,(bc)
1542  04AC  E6 FD       	and	a,0xfd
1543  04AE  02          	ld	(bc),a
1544  04AF  3E 00       	ld	a,+((_state) & 0xFF)
1545  04B1  86          	add	a, (hl)
1546  04B2  4F          	ld	c,a
1547  04B3  3E 00       	ld	a,+((_state) / 256)
1548  04B5  CE 00       	adc	a,0x00
1549  04B7  47          	ld	b,a
1550  04B8  0A          	ld	a,(bc)
1551  04B9  EE 10       	xor	a,0x10
1552  04BB  02          	ld	(bc),a
1553  04BC  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1554  04BE  86          	add	a, (hl)
1555  04BF  4F          	ld	c,a
1556  04C0  3E 00       	ld	a,+((_jump_lin) / 256)
1557  04C2  CE 00       	adc	a,0x00
1558  04C4  47          	ld	b,a
1559  04C5  3E 00       	ld	a,+((_lin) & 0xFF)
1560  04C7  86          	add	a, (hl)
1561  04C8  5F          	ld	e,a
1562  04C9  3E 00       	ld	a,+((_lin) / 256)
1563  04CB  CE 00       	adc	a,0x00
1564  04CD  57          	ld	d,a
1565  04CE  1A          	ld	a,(de)
1566  04CF  02          	ld	(bc),a
1567  04D0  3E 00       	ld	a,+((_state) & 0xFF)
1568  04D2  86          	add	a, (hl)
1569  04D3  4F          	ld	c,a
1570  04D4  3E 00       	ld	a,+((_state) / 256)
1571  04D6  CE 00       	adc	a,0x00
1572  04D8  47          	ld	b,a
1573  04D9  0A          	ld	a,(bc)
1574  04DA  DD 77 FD    	ld	(ix-3),a
1575  04DD  CB 67       	bit	4,a
1576  04DF  28 24       	jr	Z,l_enemy_flip_00105
1577  04E1  21 00 00    	ld	hl,_ay_effect_02
1578  04E4  CD 00 00    	call	_ay_fx_play
1579  04E7  2E 00       	ld	l,0x00
1580  04E9  CD 8B 03    	call	_enemy_flip_change_dir
1581  04EC  3A 00 00    	ld	a,(_enemies)
1582  04EF  C6 00       	add	a,+((_tile) & 0xFF)
1583  04F1  4F          	ld	c,a
1584  04F2  3E 00       	ld	a,+((_tile) / 256)
1585  04F4  CE 00       	adc	a,0x00
1586  04F6  47          	ld	b,a
1587  04F7  DD 7E FE    	ld	a,(ix-2)
1588  04FA  C6 06       	add	a,0x06
1589  04FC  02          	ld	(bc),a
1590  04FD  21 01 00    	ld	hl,0x0001
1591  0500  CD 00 00    	call	_player_score_add
1592  0503  18 49       	jr	l_enemy_flip_00107
1593  0505              l_enemy_flip_00105:
1594  0505  2A 00 00    	ld	hl,(_enemies)
1595  0508  26 00       	ld	h,0x00
1596  050A  11 00 00    	ld	de,_state_a
1597  050D  19          	add	hl,de
1598  050E  5E          	ld	e, (hl)
1599  050F  DD 7E FD    	ld	a,(ix-3)
1600  0512  CB D7       	set	2, a
1601  0514  CB 63       	bit	4, e
1602  0516  28 12       	jr	Z,l_enemy_flip_00102
1603  0518  02          	ld	(bc),a
1604  0519  3A 00 00    	ld	a,(_enemies)
1605  051C  C6 00       	add	a,+((_state) & 0xFF)
1606  051E  4F          	ld	c,a
1607  051F  3E 00       	ld	a,+((_state) / 256)
1608  0521  CE 00       	adc	a,0x00
1609  0523  47          	ld	b,a
1610  0524  0A          	ld	a,(bc)
1611  0525  E6 F7       	and	a,0xf7
1612  0527  02          	ld	(bc),a
1613  0528  18 10       	jr	l_enemy_flip_00103
1614  052A              l_enemy_flip_00102:
1615  052A  02          	ld	(bc),a
1616  052B  3A 00 00    	ld	a,(_enemies)
1617  052E  C6 00       	add	a,+((_state) & 0xFF)
1618  0530  4F          	ld	c,a
1619  0531  3E 00       	ld	a,+((_state) / 256)
1620  0533  CE 00       	adc	a,0x00
1621  0535  47          	ld	b,a
1622  0536  0A          	ld	a,(bc)
1623  0537  E6 F7       	and	a,0xf7
1624  0539  02          	ld	(bc),a
1625  053A              l_enemy_flip_00103:
1626  053A  3E 00       	ld	a,+((_tile) & 0xFF)
1627  053C  21 00 00    	ld	hl,_enemies
1628  053F  86          	add	a, (hl)
1629  0540  4F          	ld	c,a
1630  0541  3E 00       	ld	a,+((_tile) / 256)
1631  0543  CE 00       	adc	a,0x00
1632  0545  47          	ld	b,a
1633  0546  6E          	ld	l,(hl)
1634  0547  C5          	push	bc
1635  0548  CD 00 00    	call	_spr_tile
1636  054B  C1          	pop	bc
1637  054C  7D          	ld	a, l
1638  054D  02          	ld	(bc),a
1639  054E              l_enemy_flip_00107:
1640  054E  DD F9       	ld	sp, ix
1641  0550  DD E1       	pop	ix
1642  0552  C9          	ret
1643  0553              	SECTION code_compiler
1644  0553              ;	---------------------------------
1645  0553              ; Function enemy_flip_sidestepper
1646  0553              ; ---------------------------------
1647  0553              _enemy_flip_sidestepper:
1648  0553  4D          	ld	c,l
1649  0554  44          	ld	b,h
1650  0555  2A 00 00    	ld	hl,(_enemies)
1651  0558  26 00       	ld	h,0x00
1652  055A  11 00 00    	ld	de,_state
1653  055D  19          	add	hl,de
1654  055E  CB 76       	bit	6,(hl)
1655  0560  28 07       	jr	Z,l_enemy_flip_sidestepper_00102
1656  0562  69          	ld	l, c
1657  0563  60          	ld	h, b
1658  0564  CD 76 04    	call	_enemy_flip
1659  0567  18 54       	jr	l_enemy_flip_sidestepper_00104
1660  0569              l_enemy_flip_sidestepper_00102:
1661  0569  2E 01       	ld	l,0x01
1662  056B  CD 8B 03    	call	_enemy_flip_change_dir
1663  056E  2A 00 00    	ld	hl,(_enemies)
1664  0571  26 00       	ld	h,0x00
1665  0573  01 00 00    	ld	bc,_state
1666  0576  09          	add	hl,bc
1667  0577  7E          	ld	a,(hl)
1668  0578  EE 01       	xor	a,0x01
1669  057A  77          	ld	(hl),a
1670  057B  2A 00 00    	ld	hl,(_enemies)
1671  057E  26 00       	ld	h,0x00
1672  0580  01 00 00    	ld	bc,_state
1673  0583  09          	add	hl,bc
1674  0584  7E          	ld	a,(hl)
1675  0585  E6 FD       	and	a,0xfd
1676  0587  77          	ld	(hl),a
1677  0588  3E 00       	ld	a,+((_state) & 0xFF)
1678  058A  21 00 00    	ld	hl,_enemies
1679  058D  86          	add	a, (hl)
1680  058E  4F          	ld	c,a
1681  058F  3E 00       	ld	a,+((_state) / 256)
1682  0591  CE 00       	adc	a,0x00
1683  0593  47          	ld	b,a
1684  0594  0A          	ld	a,(bc)
1685  0595  CB F7       	set	6, a
1686  0597  02          	ld	(bc),a
1687  0598  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1688  059A  86          	add	a, (hl)
1689  059B  4F          	ld	c,a
1690  059C  3E 00       	ld	a,+((_jump_lin) / 256)
1691  059E  CE 00       	adc	a,0x00
1692  05A0  47          	ld	b,a
1693  05A1  3E 00       	ld	a,+((_lin) & 0xFF)
1694  05A3  86          	add	a, (hl)
1695  05A4  5F          	ld	e,a
1696  05A5  3E 00       	ld	a,+((_lin) / 256)
1697  05A7  CE 00       	adc	a,0x00
1698  05A9  57          	ld	d,a
1699  05AA  1A          	ld	a,(de)
1700  05AB  02          	ld	(bc),a
1701  05AC  3E 00       	ld	a,+((_tile) & 0xFF)
1702  05AE  86          	add	a, (hl)
1703  05AF  4F          	ld	c,a
1704  05B0  3E 00       	ld	a,+((_tile) / 256)
1705  05B2  CE 00       	adc	a,0x00
1706  05B4  47          	ld	b,a
1707  05B5  6E          	ld	l,(hl)
1708  05B6  C5          	push	bc
1709  05B7  CD 00 00    	call	_spr_tile
1710  05BA  C1          	pop	bc
1711  05BB  7D          	ld	a, l
1712  05BC  02          	ld	(bc),a
1713  05BD              l_enemy_flip_sidestepper_00104:
1714  05BD  C9          	ret
1715  05BE              	SECTION code_compiler
1716  05BE              ;	---------------------------------
1717  05BE              ; Function enemy_turn
1718  05BE              ; ---------------------------------
1719  05BE              _enemy_turn:
1720  05BE  21 00 00    	ld	hl,_sprite
1721  05C1  36 00       	ld	(hl),0x00
1722  05C3              l_enemy_turn_00126:
1723  05C3  3A 00 00    	ld	a,(_sprite)
1724  05C6  C6 00       	add	a,+((_class) & 0xFF)
1725  05C8  4F          	ld	c,a
1726  05C9  3E 00       	ld	a,+((_class) / 256)
1727  05CB  CE 00       	adc	a,0x00
1728  05CD  47          	ld	b,a
1729  05CE  0A          	ld	a,(bc)
1730  05CF  B7          	or	a, a
1731  05D0  CA FD 06    	jp	Z,l_enemy_turn_00124
1732  05D3  21 00 00    	ld	hl,_sprite
1733  05D6  CD 00 00    	call	_spr_chktime
1734  05D9  7D          	ld	a,l
1735  05DA  B7          	or	a, a
1736  05DB  CA FD 06    	jp	Z,l_enemy_turn_00124
1737  05DE  3A 00 00    	ld	a,(_sprite)
1738  05E1  C6 00       	add	a,+((_lin) & 0xFF)
1739  05E3  4F          	ld	c,a
1740  05E4  3E 00       	ld	a,+((_lin) / 256)
1741  05E6  CE 00       	adc	a,0x00
1742  05E8  47          	ld	b,a
1743  05E9  0A          	ld	a,(bc)
1744  05EA  32 00 00    	ld	(_s_lin0),a
1745  05ED  3A 00 00    	ld	a,(_sprite)
1746  05F0  C6 00       	add	a,+((_col) & 0xFF)
1747  05F2  4F          	ld	c,a
1748  05F3  3E 00       	ld	a,+((_col) / 256)
1749  05F5  CE 00       	adc	a,0x00
1750  05F7  47          	ld	b,a
1751  05F8  0A          	ld	a,(bc)
1752  05F9  32 00 00    	ld	(_s_col0),a
1753  05FC  3E 00       	ld	a,+((_tile) & 0xFF)
1754  05FE  21 00 00    	ld	hl,_sprite
1755  0601  86          	add	a, (hl)
1756  0602  4F          	ld	c,a
1757  0603  3E 00       	ld	a,+((_tile) / 256)
1758  0605  CE 00       	adc	a,0x00
1759  0607  47          	ld	b,a
1760  0608  0A          	ld	a,(bc)
1761  0609  4F          	ld	c,a
1762  060A  5E          	ld	e,(hl)
1763  060B  16 00       	ld	d,0x00
1764  060D  21 00 00    	ld	hl,_colint
1765  0610  19          	add	hl,de
1766  0611  7E          	ld	a,(hl)
1767  0612  81          	add	a,c
1768  0613  32 00 00    	ld	(_s_tile0),a
1769  0616  3A 00 00    	ld	a,(_sprite)
1770  0619  C6 00       	add	a,+((_state) & 0xFF)
1771  061B  4F          	ld	c,a
1772  061C  3E 00       	ld	a,+((_state) / 256)
1773  061E  CE 00       	adc	a,0x00
1774  0620  47          	ld	b,a
1775  0621  0A          	ld	a,(bc)
1776  0622  32 00 00    	ld	(_s_state),a
1777  0625  2A 00 00    	ld	hl,(_sprite)
1778  0628  26 00       	ld	h,0x00
1779  062A  29          	add	hl,hl
1780  062B  01 00 00    	ld	bc,_last_time
1781  062E  09          	add	hl,bc
1782  062F  ED 5B 00 00 	ld	de,(_curr_time)
1783  0633  73          	ld	(hl),e
1784  0634  23          	inc	hl
1785  0635  72          	ld	(hl),d
1786  0636  3A 00 00    	ld	a,(_sprite)
1787  0639  C6 00       	add	a,+((_class) & 0xFF)
1788  063B  4F          	ld	c,a
1789  063C  3E 00       	ld	a,+((_class) / 256)
1790  063E  CE 00       	adc	a,0x00
1791  0640  47          	ld	b,a
1792  0641  21 00 00    	ld	hl,_s_state
1793  0644  7E          	ld	a,(hl)
1794  0645  E6 01       	and	a,0x01
1795  0647  5F          	ld	e,a
1796  0648  7E          	ld	a,(hl)
1797  0649  E6 20       	and	a,0x20
1798  064B  28 1C       	jr	Z,l_enemy_turn_00102
1799  064D  7B          	ld	a,e
1800  064E  B7          	or	a, a
1801  064F  28 0F       	jr	Z,l_enemy_turn_00101
1802  0651  0A          	ld	a,(bc)
1803  0652  57          	ld	d,a
1804  0653  D6 07       	sub	a,0x07
1805  0655  28 09       	jr	Z,l_enemy_turn_00101
1806  0657  7A          	ld	a,d
1807  0658  FE 0A       	cp	a,0x0a
1808  065A  28 04       	jr	Z,l_enemy_turn_00101
1809  065C  D6 0B       	sub	a,0x0b
1810  065E  20 09       	jr	NZ,l_enemy_turn_00102
1811  0660              l_enemy_turn_00101:
1812  0660  2A 00 00    	ld	hl,(_sprite)
1813  0663  CD 00 00    	call	_spr_killed
1814  0666  C3 FD 06    	jp	l_enemy_turn_00124
1815  0669              l_enemy_turn_00102:
1816  0669  3A 00 00    	ld	a,(_s_state)
1817  066C  E6 10       	and	a,0x10
1818  066E  28 37       	jr	Z,l_enemy_turn_00110
1819  0670  3A 00 00    	ld	a,(_s_state)
1820  0673  E6 02       	and	a,0x02
1821  0675  20 30       	jr	NZ,l_enemy_turn_00110
1822  0677  7B          	ld	a,e
1823  0678  B7          	or	a, a
1824  0679  20 2C       	jr	NZ,l_enemy_turn_00110
1825  067B  3A 00 00    	ld	a,(_sprite)
1826  067E  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1827  0680  4F          	ld	c,a
1828  0681  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1829  0683  CE 00       	adc	a,0x00
1830  0685  47          	ld	b,a
1831  0686  3E 08       	ld	a,0x08
1832  0688  02          	ld	(bc),a
1833  0689  CD 0F 0D    	call	_enemy_standard_hit
1834  068C  2A 00 00    	ld	hl,(_sprite)
1835  068F  26 00       	ld	h,0x00
1836  0691  01 00 00    	ld	bc,_colint
1837  0694  09          	add	hl,bc
1838  0695  7E          	ld	a,(hl)
1839  0696  3C          	inc	a
1840  0697  77          	ld	(hl),a
1841  0698  4D          	ld	c,l
1842  0699  44          	ld	b,h
1843  069A  5F          	ld	e,a
1844  069B  3E 02       	ld	a,0x02
1845  069D  93          	sub	a, e
1846  069E  30 02       	jr	NC,l_enemy_turn_00108
1847  06A0  AF          	xor	a, a
1848  06A1  02          	ld	(bc),a
1849  06A2              l_enemy_turn_00108:
1850  06A2  CD 00 00    	call	_spr_redraw
1851  06A5  18 56       	jr	l_enemy_turn_00124
1852  06A7              l_enemy_turn_00110:
1853  06A7  0A          	ld	a,(bc)
1854  06A8  4F          	ld	c,a
1855  06A9  D6 07       	sub	a,0x07
1856  06AB  38 3B       	jr	C,l_enemy_turn_00119
1857  06AD  3E 0C       	ld	a,0x0c
1858  06AF  91          	sub	a, c
1859  06B0  38 36       	jr	C,l_enemy_turn_00119
1860  06B2  79          	ld	a,c
1861  06B3  C6 F9       	add	a,0xf9
1862  06B5  5F          	ld	e,a
1863  06B6  16 00       	ld	d,0x00
1864  06B8  21 BE 06    	ld	hl,l_enemy_turn_00191
1865  06BB  19          	add	hl,de
1866  06BC  19          	add	hl,de
1867  06BD  E9          	jp	(hl)
1868  06BE              l_enemy_turn_00191:
1869  06BE  18 19       	jr	l_enemy_turn_00116
1870  06C0  18 1C       	jr	l_enemy_turn_00117
1871  06C2  18 10       	jr	l_enemy_turn_00115
1872  06C4  18 04       	jr	l_enemy_turn_00113
1873  06C6  18 07       	jr	l_enemy_turn_00114
1874  06C8  18 19       	jr	l_enemy_turn_00118
1875  06CA              l_enemy_turn_00113:
1876  06CA  CD 53 09    	call	_enemy_fireball_red
1877  06CD  18 1C       	jr	l_enemy_turn_00120
1878  06CF              l_enemy_turn_00114:
1879  06CF  CD 2E 0A    	call	_enemy_fireball_green
1880  06D2  18 17       	jr	l_enemy_turn_00120
1881  06D4              l_enemy_turn_00115:
1882  06D4  CD D8 0A    	call	_enemy_fighterfly
1883  06D7  18 12       	jr	l_enemy_turn_00120
1884  06D9              l_enemy_turn_00116:
1885  06D9  CD BF 07    	call	_enemy_slipice
1886  06DC  18 0D       	jr	l_enemy_turn_00120
1887  06DE              l_enemy_turn_00117:
1888  06DE  CD 00 00    	call	_enemy_coin1
1889  06E1  18 08       	jr	l_enemy_turn_00120
1890  06E3              l_enemy_turn_00118:
1891  06E3  CD 33 00    	call	_enemy_coin2
1892  06E6  18 03       	jr	l_enemy_turn_00120
1893  06E8              l_enemy_turn_00119:
1894  06E8  CD 09 07    	call	_enemy_standard
1895  06EB              l_enemy_turn_00120:
1896  06EB  CD 00 00    	call	_spr_redraw
1897  06EE  3A 00 00    	ld	a,(_sprite)
1898  06F1  C6 00       	add	a,+((_state) & 0xFF)
1899  06F3  4F          	ld	c,a
1900  06F4  3E 00       	ld	a,+((_state) / 256)
1901  06F6  CE 00       	adc	a,0x00
1902  06F8  47          	ld	b,a
1903  06F9  3A 00 00    	ld	a,(_s_state)
1904  06FC  02          	ld	(bc),a
1905  06FD              l_enemy_turn_00124:
1906  06FD  21 00 00    	ld	hl,_sprite
1907  0700  7E          	ld	a,(hl)
1908  0701  3C          	inc	a
1909  0702  77          	ld	(hl),a
1910  0703  D6 06       	sub	a,0x06
1911  0705  DA C3 05    	jp	C,l_enemy_turn_00126
1912  0708  C9          	ret
1913  0709              	SECTION code_compiler
1914  0709              ;	---------------------------------
1915  0709              ; Function enemy_standard
1916  0709              ; ---------------------------------
1917  0709              _enemy_standard:
1918  0709  3A 00 00    	ld	a,(_s_state)
1919  070C  0F          	rrca
1920  070D  D2 90 07    	jp	NC,l_enemy_standard_00112
1921  0710  3A 00 00    	ld	a,(_sprite)
1922  0713  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1923  0715  4F          	ld	c,a
1924  0716  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1925  0718  CE 00       	adc	a,0x00
1926  071A  47          	ld	b,a
1927  071B  3E 01       	ld	a,0x01
1928  071D  02          	ld	(bc),a
1929  071E  CD 00 00    	call	_spr_move_horizontal
1930  0721  CD 00 00    	call	_spr_move_up
1931  0724  2A 00 00    	ld	hl,(_sprite)
1932  0727  26 00       	ld	h,0x00
1933  0729  5D          	ld	e,l
1934  072A  01 00 00    	ld	bc,_jump_lin
1935  072D  09          	add	hl,bc
1936  072E  4E          	ld	c,(hl)
1937  072F  06 00       	ld	b,0x00
1938  0731  50          	ld	d,b
1939  0732  21 00 00    	ld	hl,_lin
1940  0735  19          	add	hl,de
1941  0736  5E          	ld	e, (hl)
1942  0737  16 00       	ld	d,0x00
1943  0739  79          	ld	a,c
1944  073A  93          	sub	a, e
1945  073B  4F          	ld	c,a
1946  073C  78          	ld	a,b
1947  073D  9A          	sbc	a, d
1948  073E  47          	ld	b,a
1949  073F  79          	ld	a,c
1950  0740  D6 0C       	sub	a,0x0c
1951  0742  78          	ld	a,b
1952  0743  17          	rla
1953  0744  3F          	ccf
1954  0745  1F          	rra
1955  0746  DE 80       	sbc	a,0x80
1956  0748  38 71       	jr	C,l_enemy_standard_00113
1957  074A  3A 00 00    	ld	a,(_s_lin0)
1958  074D  D6 62       	sub	a,0x62
1959  074F  20 3A       	jr	NZ,l_enemy_standard_00102
1960  0751  3E 08       	ld	a,0x08
1961  0753  21 00 00    	ld	hl,_s_col0
1962  0756  96          	sub	a, (hl)
1963  0757  30 05       	jr	NC,l_enemy_standard_00101
1964  0759  7E          	ld	a,(hl)
1965  075A  D6 18       	sub	a,0x18
1966  075C  38 2D       	jr	C,l_enemy_standard_00102
1967  075E              l_enemy_standard_00101:
1968  075E  21 00 00    	ld	hl,0x0000
1969  0761  E5          	push	hl
1970  0762  2A 00 00    	ld	hl,(_sprite)
1971  0765  26 A9       	ld	h,0xa9
1972  0767  E5          	push	hl
1973  0768  CD 00 00    	call	_NIRVANAP_spriteT_callee
1974  076B  76          	halt
1975  076C  F3          	di
1976  076D  21 80 01    	ld	hl,0x0180
1977  0770  E5          	push	hl
1978  0771  CD 00 00    	call	_spr_draw_index
1979  0774  21 82 01    	ld	hl,0x0182
1980  0777  E3          	ex	(sp),hl
1981  0778  CD 00 00    	call	_spr_draw_index
1982  077B  21 9C 01    	ld	hl,0x019c
1983  077E  E3          	ex	(sp),hl
1984  077F  CD 00 00    	call	_spr_draw_index
1985  0782  21 9E 01    	ld	hl,0x019e
1986  0785  E3          	ex	(sp),hl
1987  0786  CD 00 00    	call	_spr_draw_index
1988  0789  F1          	pop	af
1989  078A  FB          	ei
1990  078B              l_enemy_standard_00102:
1991  078B  CD 00 00    	call	_spr_set_fall
1992  078E  18 2B       	jr	l_enemy_standard_00113
1993  0790              l_enemy_standard_00112:
1994  0790  CD 20 0E    	call	_enemy_walk
1995  0793  2A 00 00    	ld	hl,(_sprite)
1996  0796  26 00       	ld	h,0x00
1997  0798  01 00 00    	ld	bc,_lin
1998  079B  09          	add	hl,bc
1999  079C  7E          	ld	a,(hl)
2000  079D  D6 98       	sub	a,0x98
2001  079F  20 1A       	jr	NZ,l_enemy_standard_00113
2002  07A1  3A 00 00    	ld	a,(_sprite)
2003  07A4  4F          	ld	c,a
2004  07A5  06 00       	ld	b,0x00
2005  07A7  21 00 00    	ld	hl,_col
2006  07AA  09          	add	hl,bc
2007  07AB  7E          	ld	a,(hl)
2008  07AC  4F          	ld	c,a
2009  07AD  D6 05       	sub	a,0x05
2010  07AF  38 05       	jr	C,l_enemy_standard_00107
2011  07B1  3E 19       	ld	a,0x19
2012  07B3  91          	sub	a, c
2013  07B4  30 05       	jr	NC,l_enemy_standard_00113
2014  07B6              l_enemy_standard_00107:
2015  07B6  21 00 00    	ld	hl,_s_state
2016  07B9  CB C6       	set	0, (hl)
2017  07BB              l_enemy_standard_00113:
2018  07BB  CD EF 0B    	call	_enemy_trip
2019  07BE  C9          	ret
2020  07BF              	SECTION code_compiler
2021  07BF              ;	---------------------------------
2022  07BF              ; Function enemy_slipice
2023  07BF              ; ---------------------------------
2024  07BF              _enemy_slipice:
2025  07BF  3A 00 00    	ld	a,(_phase_left)
2026  07C2  B7          	or	a, a
2027  07C3  CA 52 09    	jp	Z,l_enemy_slipice_00126
2028  07C6  3A 00 00    	ld	a,(_sprite)
2029  07C9  C6 00       	add	a,+((_state) & 0xFF)
2030  07CB  4F          	ld	c,a
2031  07CC  3E 00       	ld	a,+((_state) / 256)
2032  07CE  CE 00       	adc	a,0x00
2033  07D0  47          	ld	b,a
2034  07D1  0A          	ld	a,(bc)
2035  07D2  CB 77       	bit	6, a
2036  07D4  CA 77 08    	jp	Z,l_enemy_slipice_00122
2037  07D7  76          	halt
2038  07D8  3E 00       	ld	a,+((_col) & 0xFF)
2039  07DA  21 00 00    	ld	hl,_sprite
2040  07DD  86          	add	a, (hl)
2041  07DE  4F          	ld	c,a
2042  07DF  3E 00       	ld	a,+((_col) / 256)
2043  07E1  CE 00       	adc	a,0x00
2044  07E3  47          	ld	b,a
2045  07E4  0A          	ld	a,(bc)
2046  07E5  57          	ld	d,a
2047  07E6  3E 00       	ld	a,+((_lin) & 0xFF)
2048  07E8  86          	add	a, (hl)
2049  07E9  4F          	ld	c,a
2050  07EA  3E 00       	ld	a,+((_lin) / 256)
2051  07EC  CE 00       	adc	a,0x00
2052  07EE  47          	ld	b,a
2053  07EF  0A          	ld	a,(bc)
2054  07F0  C6 08       	add	a,0x08
2055  07F2  5F          	ld	e,a
2056  07F3  3E 00       	ld	a,+((_colint) & 0xFF)
2057  07F5  86          	add	a, (hl)
2058  07F6  4F          	ld	c,a
2059  07F7  3E 00       	ld	a,+((_colint) / 256)
2060  07F9  CE 00       	adc	a,0x00
2061  07FB  47          	ld	b,a
2062  07FC  0A          	ld	a,(bc)
2063  07FD  C6 8D       	add	a,0x8d
2064  07FF  47          	ld	b,a
2065  0800  D5          	push	de
2066  0801  C5          	push	bc
2067  0802  33          	inc	sp
2068  0803  CD 00 00    	call	_NIRVANAP_drawT_callee
2069  0806  2A 00 00    	ld	hl,(_sprite)
2070  0809  26 00       	ld	h,0x00
2071  080B  01 00 00    	ld	bc,_colint
2072  080E  09          	add	hl,bc
2073  080F  7E          	ld	a,(hl)
2074  0810  3C          	inc	a
2075  0811  77          	ld	(hl),a
2076  0812  4D          	ld	c,l
2077  0813  44          	ld	b,h
2078  0814  5F          	ld	e,a
2079  0815  3E 02       	ld	a,0x02
2080  0817  93          	sub	a, e
2081  0818  30 02       	jr	NC,l_enemy_slipice_00102
2082  081A  AF          	xor	a, a
2083  081B  02          	ld	(bc),a
2084  081C              l_enemy_slipice_00102:
2085  081C  2A 00 00    	ld	hl,(_sprite)
2086  081F  26 00       	ld	h,0x00
2087  0821  29          	add	hl, hl
2088  0822  11 00 00    	ld	de,_spr_timer
2089  0825  19          	add	hl,de
2090  0826  4E          	ld	c,(hl)
2091  0827  23          	inc	hl
2092  0828  46          	ld	b,(hl)
2093  0829  21 28 00    	ld	hl,0x0028
2094  082C  E5          	push	hl
2095  082D  C5          	push	bc
2096  082E  CD 00 00    	call	_game_check_time
2097  0831  F1          	pop	af
2098  0832  F1          	pop	af
2099  0833  7D          	ld	a,l
2100  0834  B7          	or	a, a
2101  0835  CA 52 09    	jp	Z,l_enemy_slipice_00126
2102  0838  2A 00 00    	ld	hl,(_sprite)
2103  083B  26 00       	ld	h,0x00
2104  083D  5D          	ld	e,l
2105  083E  01 00 00    	ld	bc,_col
2106  0841  09          	add	hl,bc
2107  0842  46          	ld	b,(hl)
2108  0843  16 00       	ld	d,0x00
2109  0845  21 00 00    	ld	hl,_lin
2110  0848  19          	add	hl,de
2111  0849  7E          	ld	a,(hl)
2112  084A  C6 18       	add	a,0x18
2113  084C  4F          	ld	c,a
2114  084D  C5          	push	bc
2115  084E  CD 00 00    	call	_game_freeze
2116  0851  F1          	pop	af
2117  0852  2A 00 00    	ld	hl,(_sprite)
2118  0855  26 00       	ld	h,0x00
2119  0857  5D          	ld	e,l
2120  0858  01 00 00    	ld	bc,_col
2121  085B  09          	add	hl,bc
2122  085C  46          	ld	b,(hl)
2123  085D  16 00       	ld	d,0x00
2124  085F  21 00 00    	ld	hl,_lin
2125  0862  19          	add	hl,de
2126  0863  7E          	ld	a,(hl)
2127  0864  C6 08       	add	a,0x08
2128  0866  4F          	ld	c,a
2129  0867  C5          	push	bc
2130  0868  AF          	xor	a, a
2131  0869  F5          	push	af
2132  086A  33          	inc	sp
2133  086B  CD 00 00    	call	_NIRVANAP_fillT_callee
2134  086E  2A 00 00    	ld	hl,(_sprite)
2135  0871  CD 00 00    	call	_spr_destroy
2136  0874  C3 52 09    	jp	l_enemy_slipice_00126
2137  0877              l_enemy_slipice_00122:
2138  0877  CB 47       	bit	0, a
2139  0879  C2 26 09    	jp	NZ,l_enemy_slipice_00110
2140  087C  CB 4F       	bit	1, a
2141  087E  C2 26 09    	jp	NZ,l_enemy_slipice_00110
2142  0881  2A 00 00    	ld	hl,(_sprite)
2143  0884  26 00       	ld	h,0x00
2144  0886  01 00 00    	ld	bc,_col
2145  0889  09          	add	hl,bc
2146  088A  7E          	ld	a,(hl)
2147  088B  4F          	ld	c,a
2148  088C  D6 07       	sub	a,0x07
2149  088E  28 0A       	jr	Z,l_enemy_slipice_00116
2150  0890  79          	ld	a,c
2151  0891  FE 0F       	cp	a,0x0f
2152  0893  28 05       	jr	Z,l_enemy_slipice_00116
2153  0895  D6 18       	sub	a,0x18
2154  0897  C2 26 09    	jp	NZ,l_enemy_slipice_00110
2155  089A              l_enemy_slipice_00116:
2156  089A  79          	ld	a,c
2157  089B  D6 88       	sub	a,0x88
2158  089D  D2 26 09    	jp	NC,l_enemy_slipice_00110
2159  08A0  CD 00 00    	call	_rand
2160  08A3  22 00 00    	ld	(_tmp_ui),hl
2161  08A6  3E 00       	ld	a,+((_col) & 0xFF)
2162  08A8  21 00 00    	ld	hl,_sprite
2163  08AB  86          	add	a, (hl)
2164  08AC  4F          	ld	c,a
2165  08AD  3E 00       	ld	a,+((_col) / 256)
2166  08AF  CE 00       	adc	a,0x00
2167  08B1  47          	ld	b,a
2168  08B2  0A          	ld	a,(bc)
2169  08B3  57          	ld	d,a
2170  08B4  4E          	ld	c,(hl)
2171  08B5  06 00       	ld	b,0x00
2172  08B7  21 00 00    	ld	hl,_lin
2173  08BA  09          	add	hl,bc
2174  08BB  7E          	ld	a,(hl)
2175  08BC  C6 10       	add	a,0x10
2176  08BE  5F          	ld	e, a
2177  08BF  D5          	push	de
2178  08C0  CD 00 00    	call	_game_calc_index
2179  08C3  F1          	pop	af
2180  08C4  22 00 00    	ld	(_index1),hl
2181  08C7  01 00 00    	ld	bc,_lvl_1
2182  08CA  09          	add	hl,bc
2183  08CB  7E          	ld	a,(hl)
2184  08CC  D6 12       	sub	a,0x12
2185  08CE  20 51       	jr	NZ,l_enemy_slipice_00106
2186  08D0  21 00 00    	ld	hl,_tmp_ui
2187  08D3  7E          	ld	a,(hl)
2188  08D4  D6 32       	sub	a,0x32
2189  08D6  23          	inc	hl
2190  08D7  7E          	ld	a,(hl)
2191  08D8  DE 33       	sbc	a,0x33
2192  08DA  30 45       	jr	NC,l_enemy_slipice_00106
2193  08DC  21 00 00    	ld	hl,_ay_effect_16
2194  08DF  CD 00 00    	call	_ay_fx_play
2195  08E2  21 00 00    	ld	hl,_s_state
2196  08E5  CB F6       	set	6, (hl)
2197  08E7  01 00 00    	ld	bc,_spr_timer+0
2198  08EA  2A 00 00    	ld	hl,(_sprite)
2199  08ED  26 00       	ld	h,0x00
2200  08EF  29          	add	hl, hl
2201  08F0  09          	add	hl,bc
2202  08F1  ED 5B 00 00 	ld	de,(_curr_time)
2203  08F5  73          	ld	(hl),e
2204  08F6  23          	inc	hl
2205  08F7  72          	ld	(hl),d
2206  08F8  2A 00 00    	ld	hl,(_sprite)
2207  08FB  26 00       	ld	h,0x00
2208  08FD  01 00 00    	ld	bc,_lin
2209  0900  09          	add	hl,bc
2210  0901  7E          	ld	a,(hl)
2211  0902  C6 F8       	add	a,0xf8
2212  0904  77          	ld	(hl),a
2213  0905  3E 00       	ld	a,+((_colint) & 0xFF)
2214  0907  21 00 00    	ld	hl,_sprite
2215  090A  86          	add	a, (hl)
2216  090B  4F          	ld	c,a
2217  090C  3E 00       	ld	a,+((_colint) / 256)
2218  090E  CE 00       	adc	a,0x00
2219  0910  47          	ld	b,a
2220  0911  AF          	xor	a, a
2221  0912  02          	ld	(bc),a
2222  0913  3E 00       	ld	a,+((_tile) & 0xFF)
2223  0915  86          	add	a, (hl)
2224  0916  4F          	ld	c,a
2225  0917  3E 00       	ld	a,+((_tile) / 256)
2226  0919  CE 00       	adc	a,0x00
2227  091B  47          	ld	b,a
2228  091C  3E 7B       	ld	a,0x7b
2229  091E  02          	ld	(bc),a
2230  091F  18 08       	jr	l_enemy_slipice_00111
2231  0921              l_enemy_slipice_00106:
2232  0921  CD 20 0E    	call	_enemy_walk
2233  0924  18 03       	jr	l_enemy_slipice_00111
2234  0926              l_enemy_slipice_00110:
2235  0926  CD 20 0E    	call	_enemy_walk
2236  0929              l_enemy_slipice_00111:
2237  0929  2A 00 00    	ld	hl,(_sprite)
2238  092C  26 00       	ld	h,0x00
2239  092E  01 00 00    	ld	bc,_lin
2240  0931  09          	add	hl,bc
2241  0932  7E          	ld	a,(hl)
2242  0933  D6 98       	sub	a,0x98
2243  0935  20 1B       	jr	NZ,l_enemy_slipice_00126
2244  0937  3A 00 00    	ld	a,(_sprite)
2245  093A  4F          	ld	c,a
2246  093B  06 00       	ld	b,0x00
2247  093D  21 00 00    	ld	hl,_col
2248  0940  09          	add	hl,bc
2249  0941  7E          	ld	a,(hl)
2250  0942  4F          	ld	c,a
2251  0943  D6 03       	sub	a,0x03
2252  0945  28 05       	jr	Z,l_enemy_slipice_00117
2253  0947  79          	ld	a,c
2254  0948  D6 1B       	sub	a,0x1b
2255  094A  20 06       	jr	NZ,l_enemy_slipice_00126
2256  094C              l_enemy_slipice_00117:
2257  094C  2A 00 00    	ld	hl,(_sprite)
2258  094F  CD 00 00    	call	_spr_destroy
2259  0952              l_enemy_slipice_00126:
2260  0952  C9          	ret
2261  0953              	SECTION code_compiler
2262  0953              ;	---------------------------------
2263  0953              ; Function enemy_fireball_red
2264  0953              ; ---------------------------------
2265  0953              _enemy_fireball_red:
2266  0953  3A 00 00    	ld	a,(_phase_left)
2267  0956  B7          	or	a, a
2268  0957  CA 2D 0A    	jp	Z,l_enemy_fireball_red_00119
2269  095A  3A 00 00    	ld	a,(_s_state)
2270  095D  0F          	rrca
2271  095E  30 11       	jr	NC,l_enemy_fireball_red_00106
2272  0960  CD 00 00    	call	_spr_move_up
2273  0963  7D          	ld	a,l
2274  0964  B7          	or	a, a
2275  0965  28 03       	jr	Z,l_enemy_fireball_red_00102
2276  0967  CD 00 00    	call	_spr_set_fall
2277  096A              l_enemy_fireball_red_00102:
2278  096A  21 00 00    	ld	hl,_tmp
2279  096D  36 00       	ld	(hl),0x00
2280  096F  18 13       	jr	l_enemy_fireball_red_00107
2281  0971              l_enemy_fireball_red_00106:
2282  0971  CD 00 00    	call	_spr_move_down
2283  0974  7D          	ld	a,l
2284  0975  B7          	or	a, a
2285  0976  28 07       	jr	Z,l_enemy_fireball_red_00104
2286  0978  21 00 00    	ld	hl,_s_state
2287  097B  CB 8E       	res	1, (hl)
2288  097D  CB C6       	set	0, (hl)
2289  097F              l_enemy_fireball_red_00104:
2290  097F  21 00 00    	ld	hl,_tmp
2291  0982  36 10       	ld	(hl),0x10
2292  0984              l_enemy_fireball_red_00107:
2293  0984  CD 00 00    	call	_spr_move_horizontal
2294  0987  3A 00 00    	ld	a,(_s_state)
2295  098A  E6 04       	and	a,0x04
2296  098C  28 13       	jr	Z,l_enemy_fireball_red_00109
2297  098E  3A 00 00    	ld	a,(_sprite)
2298  0991  C6 00       	add	a,+((_col) & 0xFF)
2299  0993  4F          	ld	c,a
2300  0994  3E 00       	ld	a,+((_col) / 256)
2301  0996  CE 00       	adc	a,0x00
2302  0998  47          	ld	b,a
2303  0999  0A          	ld	a,(bc)
2304  099A  C6 02       	add	a,0x02
2305  099C  32 00 00    	ld	(_s_col1),a
2306  099F  18 11       	jr	l_enemy_fireball_red_00110
2307  09A1              l_enemy_fireball_red_00109:
2308  09A1  3A 00 00    	ld	a,(_sprite)
2309  09A4  C6 00       	add	a,+((_col) & 0xFF)
2310  09A6  4F          	ld	c,a
2311  09A7  3E 00       	ld	a,+((_col) / 256)
2312  09A9  CE 00       	adc	a,0x00
2313  09AB  47          	ld	b,a
2314  09AC  0A          	ld	a,(bc)
2315  09AD  C6 FF       	add	a,0xff
2316  09AF  32 00 00    	ld	(_s_col1),a
2317  09B2              l_enemy_fireball_red_00110:
2318  09B2  2A 00 00    	ld	hl,(_sprite)
2319  09B5  26 00       	ld	h,0x00
2320  09B7  01 00 00    	ld	bc,_lin
2321  09BA  09          	add	hl,bc
2322  09BB  4E          	ld	c, (hl)
2323  09BC  3A 00 00    	ld	a, (_s_col1)
2324  09BF  47          	ld	b,a
2325  09C0  C5          	push	bc
2326  09C1  CD 00 00    	call	_game_calc_index
2327  09C4  F1          	pop	af
2328  09C5  22 00 00    	ld	(_index1),hl
2329  09C8  01 00 00    	ld	bc,_lvl_1
2330  09CB  09          	add	hl,bc
2331  09CC  7E          	ld	a,(hl)
2332  09CD  D6 BF       	sub	a,0xbf
2333  09CF  30 14       	jr	NC,l_enemy_fireball_red_00111
2334  09D1  2A 00 00    	ld	hl,(_sprite)
2335  09D4  26 00       	ld	h,0x00
2336  09D6  01 00 00    	ld	bc,_col
2337  09D9  09          	add	hl,bc
2338  09DA  7E          	ld	a,(hl)
2339  09DB  4F          	ld	c,a
2340  09DC  D6 02       	sub	a,0x02
2341  09DE  38 05       	jr	C,l_enemy_fireball_red_00111
2342  09E0  3E 1D       	ld	a,0x1d
2343  09E2  91          	sub	a, c
2344  09E3  30 07       	jr	NC,l_enemy_fireball_red_00112
2345  09E5              l_enemy_fireball_red_00111:
2346  09E5  21 00 00    	ld	hl,_s_state
2347  09E8  7E          	ld	a,(hl)
2348  09E9  EE 0C       	xor	a,+(0x04^0x08)
2349  09EB  77          	ld	(hl),a
2350  09EC              l_enemy_fireball_red_00112:
2351  09EC  01 00 00    	ld	bc,_spr_timer+0
2352  09EF  2A 00 00    	ld	hl,(_sprite)
2353  09F2  26 00       	ld	h,0x00
2354  09F4  29          	add	hl, hl
2355  09F5  09          	add	hl,bc
2356  09F6  5E          	ld	e,(hl)
2357  09F7  23          	inc	hl
2358  09F8  56          	ld	d,(hl)
2359  09F9  C5          	push	bc
2360  09FA  21 DC 05    	ld	hl,0x05dc
2361  09FD  E5          	push	hl
2362  09FE  D5          	push	de
2363  09FF  CD 00 00    	call	_game_check_time
2364  0A02  F1          	pop	af
2365  0A03  F1          	pop	af
2366  0A04  C1          	pop	bc
2367  0A05  7D          	ld	a,l
2368  0A06  B7          	or	a, a
2369  0A07  C8          	ret	Z
2370  0A08  2A 00 00    	ld	hl,(_sprite)
2371  0A0B  26 00       	ld	h,0x00
2372  0A0D  29          	add	hl, hl
2373  0A0E  09          	add	hl,bc
2374  0A0F  ED 5B 00 00 	ld	de,(_curr_time)
2375  0A13  73          	ld	(hl),e
2376  0A14  23          	inc	hl
2377  0A15  72          	ld	(hl),d
2378  0A16  3A 00 00    	ld	a,(_sprite)
2379  0A19  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2380  0A1B  4F          	ld	c,a
2381  0A1C  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2382  0A1E  CE 00       	adc	a,0x00
2383  0A20  47          	ld	b,a
2384  0A21  3E 08       	ld	a,0x08
2385  0A23  02          	ld	(bc),a
2386  0A24  21 00 00    	ld	hl,_s_state
2387  0A27  CB EE       	set	5, (hl)
2388  0A29  CB 86       	res	0, (hl)
2389  0A2B  CB 8E       	res	1, (hl)
2390  0A2D              l_enemy_fireball_red_00119:
2391  0A2D  C9          	ret
2392  0A2E              	SECTION code_compiler
2393  0A2E              ;	---------------------------------
2394  0A2E              ; Function enemy_fireball_green
2395  0A2E              ; ---------------------------------
2396  0A2E              _enemy_fireball_green:
2397  0A2E  3A 00 00    	ld	a,(_phase_left)
2398  0A31  B7          	or	a, a
2399  0A32  CA D7 0A    	jp	Z,l_enemy_fireball_green_00113
2400  0A35  2A 00 00    	ld	hl,(_sprite)
2401  0A38  26 00       	ld	h,0x00
2402  0A3A  5D          	ld	e,l
2403  0A3B  01 00 00    	ld	bc,_jump_lin
2404  0A3E  09          	add	hl,bc
2405  0A3F  4E          	ld	c,(hl)
2406  0A40  06 00       	ld	b,0x00
2407  0A42  50          	ld	d,b
2408  0A43  21 00 00    	ld	hl,_lin
2409  0A46  19          	add	hl,de
2410  0A47  5E          	ld	e, (hl)
2411  0A48  16 00       	ld	d,0x00
2412  0A4A  79          	ld	a,c
2413  0A4B  93          	sub	a, e
2414  0A4C  6F          	ld	l,a
2415  0A4D  78          	ld	a,b
2416  0A4E  9A          	sbc	a, d
2417  0A4F  67          	ld	h,a
2418  0A50  CD 00 00    	call	_abs_fastcall
2419  0A53  22 00 00    	ld	(_index1),hl
2420  0A56  3E 08       	ld	a,0x08
2421  0A58  21 00 00    	ld	hl,_index1
2422  0A5B  BE          	cp	a, (hl)
2423  0A5C  3E 00       	ld	a,0x00
2424  0A5E  23          	inc	hl
2425  0A5F  9E          	sbc	a, (hl)
2426  0A60  30 1C       	jr	NC,l_enemy_fireball_green_00102
2427  0A62  21 00 00    	ld	hl,_s_state
2428  0A65  7E          	ld	a,(hl)
2429  0A66  EE 03       	xor	a,+(0x01^0x02)
2430  0A68  77          	ld	(hl),a
2431  0A69  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2432  0A6B  21 00 00    	ld	hl,_sprite
2433  0A6E  86          	add	a, (hl)
2434  0A6F  4F          	ld	c,a
2435  0A70  3E 00       	ld	a,+((_jump_lin) / 256)
2436  0A72  CE 00       	adc	a,0x00
2437  0A74  47          	ld	b,a
2438  0A75  5E          	ld	e,(hl)
2439  0A76  16 00       	ld	d,0x00
2440  0A78  21 00 00    	ld	hl,_lin
2441  0A7B  19          	add	hl,de
2442  0A7C  7E          	ld	a,(hl)
2443  0A7D  02          	ld	(bc),a
2444  0A7E              l_enemy_fireball_green_00102:
2445  0A7E  3A 00 00    	ld	a,(_s_state)
2446  0A81  0F          	rrca
2447  0A82  30 08       	jr	NC,l_enemy_fireball_green_00104
2448  0A84  CD 00 00    	call	_spr_move_horizontal
2449  0A87  CD 00 00    	call	_spr_move_up
2450  0A8A  18 06       	jr	l_enemy_fireball_green_00105
2451  0A8C              l_enemy_fireball_green_00104:
2452  0A8C  CD 00 00    	call	_spr_move_horizontal
2453  0A8F  CD 00 00    	call	_spr_move_down
2454  0A92              l_enemy_fireball_green_00105:
2455  0A92  3A 00 00    	ld	a,(_sprite)
2456  0A95  C6 00       	add	a,+((_col) & 0xFF)
2457  0A97  4F          	ld	c,a
2458  0A98  3E 00       	ld	a,+((_col) / 256)
2459  0A9A  CE 00       	adc	a,0x00
2460  0A9C  47          	ld	b,a
2461  0A9D  0A          	ld	a,(bc)
2462  0A9E  B7          	or	a, a
2463  0A9F  20 07       	jr	NZ,l_enemy_fireball_green_00110
2464  0AA1  3A 00 00    	ld	a,(_s_state)
2465  0AA4  E6 08       	and	a,0x08
2466  0AA6  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2467  0AA8              l_enemy_fireball_green_00110:
2468  0AA8  D6 1E       	sub	a,0x1e
2469  0AAA  20 2B       	jr	NZ,l_enemy_fireball_green_00113
2470  0AAC  3A 00 00    	ld	a,(_s_state)
2471  0AAF  E6 04       	and	a,0x04
2472  0AB1  28 24       	jr	Z,l_enemy_fireball_green_00113
2473  0AB3              l_enemy_fireball_green_00106:
2474  0AB3  01 00 00    	ld	bc,_spr_timer+0
2475  0AB6  2A 00 00    	ld	hl,(_sprite)
2476  0AB9  26 00       	ld	h,0x00
2477  0ABB  29          	add	hl, hl
2478  0ABC  09          	add	hl,bc
2479  0ABD  ED 5B 00 00 	ld	de,(_curr_time)
2480  0AC1  73          	ld	(hl),e
2481  0AC2  23          	inc	hl
2482  0AC3  72          	ld	(hl),d
2483  0AC4  3A 00 00    	ld	a,(_sprite)
2484  0AC7  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2485  0AC9  4F          	ld	c,a
2486  0ACA  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2487  0ACC  CE 00       	adc	a,0x00
2488  0ACE  47          	ld	b,a
2489  0ACF  3E 08       	ld	a,0x08
2490  0AD1  02          	ld	(bc),a
2491  0AD2  21 00 00    	ld	hl,_s_state
2492  0AD5  CB EE       	set	5, (hl)
2493  0AD7              l_enemy_fireball_green_00113:
2494  0AD7  C9          	ret
2495  0AD8              	SECTION code_compiler
2496  0AD8              ;	---------------------------------
2497  0AD8              ; Function enemy_fighterfly
2498  0AD8              ; ---------------------------------
2499  0AD8              _enemy_fighterfly:
2500  0AD8  3A 00 00    	ld	a,(_s_state)
2501  0ADB  0F          	rrca
2502  0ADC  38 58       	jr	C,l_enemy_fighterfly_00106
2503  0ADE  3A 00 00    	ld	a,(_s_state)
2504  0AE1  E6 02       	and	a,0x02
2505  0AE3  20 51       	jr	NZ,l_enemy_fighterfly_00106
2506  0AE5  CD 00 00    	call	_ay_is_playing
2507  0AE8  7D          	ld	a, l
2508  0AE9  D6 02       	sub	a,0x02
2509  0AEB  30 06       	jr	NC,l_enemy_fighterfly_00102
2510  0AED  21 00 00    	ld	hl,_ay_effect_13
2511  0AF0  CD 00 00    	call	_ay_fx_play
2512  0AF3              l_enemy_fighterfly_00102:
2513  0AF3  2A 00 00    	ld	hl,(_sprite)
2514  0AF6  26 00       	ld	h,0x00
2515  0AF8  29          	add	hl, hl
2516  0AF9  11 00 00    	ld	de,_spr_timer
2517  0AFC  19          	add	hl,de
2518  0AFD  4E          	ld	c,(hl)
2519  0AFE  23          	inc	hl
2520  0AFF  46          	ld	b,(hl)
2521  0B00  21 28 00    	ld	hl,0x0028
2522  0B03  E5          	push	hl
2523  0B04  C5          	push	bc
2524  0B05  CD 00 00    	call	_game_check_time
2525  0B08  F1          	pop	af
2526  0B09  F1          	pop	af
2527  0B0A  7D          	ld	a,l
2528  0B0B  B7          	or	a, a
2529  0B0C  28 28       	jr	Z,l_enemy_fighterfly_00106
2530  0B0E  21 00 00    	ld	hl,_s_state
2531  0B11  CB C6       	set	0, (hl)
2532  0B13  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2533  0B15  21 00 00    	ld	hl,_sprite
2534  0B18  86          	add	a, (hl)
2535  0B19  4F          	ld	c,a
2536  0B1A  3E 00       	ld	a,+((_jump_lin) / 256)
2537  0B1C  CE 00       	adc	a,0x00
2538  0B1E  47          	ld	b,a
2539  0B1F  3E 00       	ld	a,+((_lin) & 0xFF)
2540  0B21  86          	add	a, (hl)
2541  0B22  5F          	ld	e,a
2542  0B23  3E 00       	ld	a,+((_lin) / 256)
2543  0B25  CE 00       	adc	a,0x00
2544  0B27  57          	ld	d,a
2545  0B28  1A          	ld	a,(de)
2546  0B29  02          	ld	(bc),a
2547  0B2A  6E          	ld	l, (hl)
2548  0B2B  26 00       	ld	h,0x00
2549  0B2D  29          	add	hl, hl
2550  0B2E  11 00 00    	ld	de,_spr_timer
2551  0B31  19          	add	hl,de
2552  0B32  AF          	xor	a, a
2553  0B33  77          	ld	(hl), a
2554  0B34  23          	inc	hl
2555  0B35  77          	ld	(hl), a
2556  0B36              l_enemy_fighterfly_00106:
2557  0B36  3A 00 00    	ld	a,(_s_state)
2558  0B39  0F          	rrca
2559  0B3A  30 32       	jr	NC,l_enemy_fighterfly_00123
2560  0B3C  2A 00 00    	ld	hl,(_sprite)
2561  0B3F  26 00       	ld	h,0x00
2562  0B41  5D          	ld	e,l
2563  0B42  01 00 00    	ld	bc,_jump_lin
2564  0B45  09          	add	hl,bc
2565  0B46  4E          	ld	c,(hl)
2566  0B47  06 00       	ld	b,0x00
2567  0B49  50          	ld	d,b
2568  0B4A  21 00 00    	ld	hl,_lin
2569  0B4D  19          	add	hl,de
2570  0B4E  5E          	ld	e, (hl)
2571  0B4F  16 00       	ld	d,0x00
2572  0B51  79          	ld	a,c
2573  0B52  93          	sub	a, e
2574  0B53  4F          	ld	c,a
2575  0B54  78          	ld	a,b
2576  0B55  9A          	sbc	a, d
2577  0B56  47          	ld	b,a
2578  0B57  79          	ld	a,c
2579  0B58  D6 08       	sub	a,0x08
2580  0B5A  78          	ld	a,b
2581  0B5B  17          	rla
2582  0B5C  3F          	ccf
2583  0B5D  1F          	rra
2584  0B5E  DE 80       	sbc	a,0x80
2585  0B60  38 03       	jr	C,l_enemy_fighterfly_00109
2586  0B62  CD 00 00    	call	_spr_set_fall
2587  0B65              l_enemy_fighterfly_00109:
2588  0B65  CD 00 00    	call	_spr_move_horizontal
2589  0B68  CD 00 00    	call	_spr_move_up
2590  0B6B  C3 EC 0B    	jp	l_enemy_fighterfly_00124
2591  0B6E              l_enemy_fighterfly_00123:
2592  0B6E  01 00 00    	ld	bc,_spr_timer+0
2593  0B71  2A 00 00    	ld	hl,(_sprite)
2594  0B74  26 00       	ld	h,0x00
2595  0B76  29          	add	hl, hl
2596  0B77  09          	add	hl,bc
2597  0B78  4D          	ld	c,l
2598  0B79  44          	ld	b,h
2599  0B7A  5E          	ld	e,(hl)
2600  0B7B  23          	inc	hl
2601  0B7C  7E          	ld	a, (hl)
2602  0B7D  B3          	or	a,e
2603  0B7E  20 09       	jr	NZ,l_enemy_fighterfly_00111
2604  0B80  ED 5B 00 00 	ld	de,(_curr_time)
2605  0B84  7B          	ld	a,e
2606  0B85  02          	ld	(bc),a
2607  0B86  03          	inc	bc
2608  0B87  7A          	ld	a,d
2609  0B88  02          	ld	(bc),a
2610  0B89              l_enemy_fighterfly_00111:
2611  0B89  3A 00 00    	ld	a,(_s_state)
2612  0B8C  E6 02       	and	a,0x02
2613  0B8E  28 5C       	jr	Z,l_enemy_fighterfly_00124
2614  0B90  3E 00       	ld	a,+((_lin) & 0xFF)
2615  0B92  21 00 00    	ld	hl,_sprite
2616  0B95  86          	add	a, (hl)
2617  0B96  4F          	ld	c,a
2618  0B97  3E 00       	ld	a,+((_lin) / 256)
2619  0B99  CE 00       	adc	a,0x00
2620  0B9B  47          	ld	b,a
2621  0B9C  0A          	ld	a,(bc)
2622  0B9D  4F          	ld	c,a
2623  0B9E  5E          	ld	e,(hl)
2624  0B9F  16 00       	ld	d,0x00
2625  0BA1  21 00 00    	ld	hl,_jump_lin
2626  0BA4  19          	add	hl,de
2627  0BA5  46          	ld	b, (hl)
2628  0BA6  79          	ld	a,c
2629  0BA7  90          	sub	a, b
2630  0BA8  30 05       	jr	NC,l_enemy_fighterfly_00116
2631  0BAA  CD 00 00    	call	_spr_move_horizontal
2632  0BAD  18 23       	jr	l_enemy_fighterfly_00117
2633  0BAF              l_enemy_fighterfly_00116:
2634  0BAF  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
2635  0BB1  21 00 00    	ld	hl,_sprite
2636  0BB4  86          	add	a, (hl)
2637  0BB5  4F          	ld	c,a
2638  0BB6  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2639  0BB8  CE 00       	adc	a,0x00
2640  0BBA  47          	ld	b,a
2641  0BBB  3E 04       	ld	a,0x04
2642  0BBD  02          	ld	(bc),a
2643  0BBE  3E 00       	ld	a,+((_colint) & 0xFF)
2644  0BC0  86          	add	a, (hl)
2645  0BC1  4F          	ld	c,a
2646  0BC2  3E 00       	ld	a,+((_colint) / 256)
2647  0BC4  CE 00       	adc	a,0x00
2648  0BC6  47          	ld	b,a
2649  0BC7  0A          	ld	a,(bc)
2650  0BC8  B7          	or	a, a
2651  0BC9  20 05       	jr	NZ,l_enemy_fighterfly_00113
2652  0BCB  3E 02       	ld	a,0x02
2653  0BCD  02          	ld	(bc),a
2654  0BCE  18 02       	jr	l_enemy_fighterfly_00117
2655  0BD0              l_enemy_fighterfly_00113:
2656  0BD0  AF          	xor	a, a
2657  0BD1  02          	ld	(bc),a
2658  0BD2              l_enemy_fighterfly_00117:
2659  0BD2  CD 00 00    	call	_spr_move_down
2660  0BD5  7D          	ld	a,l
2661  0BD6  B7          	or	a, a
2662  0BD7  CA EF 0B    	jp	Z,_enemy_trip
2663  0BDA  3A 00 00    	ld	a,(_sprite)
2664  0BDD  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2665  0BDF  4F          	ld	c,a
2666  0BE0  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2667  0BE2  CE 00       	adc	a,0x00
2668  0BE4  47          	ld	b,a
2669  0BE5  AF          	xor	a, a
2670  0BE6  02          	ld	(bc),a
2671  0BE7  21 00 00    	ld	hl,_s_state
2672  0BEA  CB 8E       	res	1, (hl)
2673  0BEC              l_enemy_fighterfly_00124:
2674  0BEC  C3 EF 0B    	jp  _enemy_trip
2675  0BEF              	SECTION code_compiler
2676  0BEF              ;	---------------------------------
2677  0BEF              ; Function enemy_trip
2678  0BEF              ; ---------------------------------
2679  0BEF              _enemy_trip:
2680  0BEF  2A 00 00    	ld	hl,(_sprite)
2681  0BF2  26 00       	ld	h,0x00
2682  0BF4  01 00 00    	ld	bc,_lin
2683  0BF7  09          	add	hl,bc
2684  0BF8  46          	ld	b,(hl)
2685  0BF9  3E 80       	ld	a,0x80
2686  0BFB  90          	sub	a, b
2687  0BFC  D2 0E 0D    	jp	NC,l_enemy_trip_00114
2688  0BFF  21 00 00    	ld	hl,_tmp
2689  0C02  36 00       	ld	(hl),0x00
2690  0C04  2A 00 00    	ld	hl,(_sprite)
2691  0C07  26 00       	ld	h,0x00
2692  0C09  11 00 00    	ld	de,_col
2693  0C0C  19          	add	hl,de
2694  0C0D  7E          	ld	a,(hl)
2695  0C0E  57          	ld	d,a
2696  0C0F  D6 1B       	sub	a,0x1b
2697  0C11  20 4F       	jr	NZ,l_enemy_trip_00104
2698  0C13  21 00 00    	ld	hl,_tmp
2699  0C16  36 01       	ld	(hl),0x01
2700  0C18  15          	dec	d
2701  0C19  58          	ld	e,b
2702  0C1A  D5          	push	de
2703  0C1B  AF          	xor	a, a
2704  0C1C  F5          	push	af
2705  0C1D  33          	inc	sp
2706  0C1E  CD 00 00    	call	_NIRVANAP_fillT_callee
2707  0C21  3E 00       	ld	a,+((_lin) & 0xFF)
2708  0C23  21 00 00    	ld	hl,_sprite
2709  0C26  86          	add	a, (hl)
2710  0C27  4F          	ld	c,a
2711  0C28  3E 00       	ld	a,+((_lin) / 256)
2712  0C2A  CE 00       	adc	a,0x00
2713  0C2C  47          	ld	b,a
2714  0C2D  3E 10       	ld	a,0x10
2715  0C2F  02          	ld	(bc),a
2716  0C30  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2717  0C32  86          	add	a, (hl)
2718  0C33  4F          	ld	c,a
2719  0C34  3E 00       	ld	a,+((_jump_lin) / 256)
2720  0C36  CE 00       	adc	a,0x00
2721  0C38  47          	ld	b,a
2722  0C39  3E 20       	ld	a,0x20
2723  0C3B  02          	ld	(bc),a
2724  0C3C  3E 00       	ld	a,+((_col) & 0xFF)
2725  0C3E  86          	add	a, (hl)
2726  0C3F  4F          	ld	c,a
2727  0C40  3E 00       	ld	a,+((_col) / 256)
2728  0C42  CE 00       	adc	a,0x00
2729  0C44  47          	ld	b,a
2730  0C45  3E 1A       	ld	a,0x1a
2731  0C47  02          	ld	(bc),a
2732  0C48  21 00 00    	ld	hl,_s_state
2733  0C4B  CB DE       	set	3, (hl)
2734  0C4D  CB 96       	res	2, (hl)
2735  0C4F  CB 86       	res	0, (hl)
2736  0C51  CD 00 00    	call	_sound_enter_enemy
2737  0C54  CD 00 00    	call	_ay_is_playing
2738  0C57  7D          	ld	a, l
2739  0C58  D6 02       	sub	a,0x02
2740  0C5A  30 06       	jr	NC,l_enemy_trip_00104
2741  0C5C  21 00 00    	ld	hl,_ay_effect_04
2742  0C5F  CD 00 00    	call	_ay_fx_play
2743  0C62              l_enemy_trip_00104:
2744  0C62  2A 00 00    	ld	hl,(_sprite)
2745  0C65  26 00       	ld	h,0x00
2746  0C67  01 00 00    	ld	bc,_col
2747  0C6A  09          	add	hl,bc
2748  0C6B  7E          	ld	a,(hl)
2749  0C6C  47          	ld	b,a
2750  0C6D  D6 03       	sub	a,0x03
2751  0C6F  20 58       	jr	NZ,l_enemy_trip_00108
2752  0C71  21 00 00    	ld	hl,_tmp
2753  0C74  36 01       	ld	(hl),0x01
2754  0C76  04          	inc	b
2755  0C77  2A 00 00    	ld	hl,(_sprite)
2756  0C7A  26 00       	ld	h,0x00
2757  0C7C  11 00 00    	ld	de,_lin
2758  0C7F  19          	add	hl,de
2759  0C80  4E          	ld	c, (hl)
2760  0C81  C5          	push	bc
2761  0C82  AF          	xor	a, a
2762  0C83  F5          	push	af
2763  0C84  33          	inc	sp
2764  0C85  CD 00 00    	call	_NIRVANAP_fillT_callee
2765  0C88  3E 00       	ld	a,+((_lin) & 0xFF)
2766  0C8A  21 00 00    	ld	hl,_sprite
2767  0C8D  86          	add	a, (hl)
2768  0C8E  4F          	ld	c,a
2769  0C8F  3E 00       	ld	a,+((_lin) / 256)
2770  0C91  CE 00       	adc	a,0x00
2771  0C93  47          	ld	b,a
2772  0C94  3E 10       	ld	a,0x10
2773  0C96  02          	ld	(bc),a
2774  0C97  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2775  0C99  86          	add	a, (hl)
2776  0C9A  4F          	ld	c,a
2777  0C9B  3E 00       	ld	a,+((_jump_lin) / 256)
2778  0C9D  CE 00       	adc	a,0x00
2779  0C9F  47          	ld	b,a
2780  0CA0  3E 20       	ld	a,0x20
2781  0CA2  02          	ld	(bc),a
2782  0CA3  3E 00       	ld	a,+((_col) & 0xFF)
2783  0CA5  86          	add	a, (hl)
2784  0CA6  4F          	ld	c,a
2785  0CA7  3E 00       	ld	a,+((_col) / 256)
2786  0CA9  CE 00       	adc	a,0x00
2787  0CAB  47          	ld	b,a
2788  0CAC  3E 04       	ld	a,0x04
2789  0CAE  02          	ld	(bc),a
2790  0CAF  21 00 00    	ld	hl,_s_state
2791  0CB2  CB D6       	set	2, (hl)
2792  0CB4  CB 9E       	res	3, (hl)
2793  0CB6  CB 86       	res	0, (hl)
2794  0CB8  CD 00 00    	call	_sound_enter_enemy
2795  0CBB  CD 00 00    	call	_ay_is_playing
2796  0CBE  7D          	ld	a, l
2797  0CBF  D6 02       	sub	a,0x02
2798  0CC1  30 06       	jr	NC,l_enemy_trip_00108
2799  0CC3  21 00 00    	ld	hl,_ay_effect_04
2800  0CC6  CD 00 00    	call	_ay_fx_play
2801  0CC9              l_enemy_trip_00108:
2802  0CC9  3A 00 00    	ld	a,(_tmp)
2803  0CCC  B7          	or	a, a
2804  0CCD  C8          	ret	Z
2805  0CCE  2A 00 00    	ld	hl,(_sprite)
2806  0CD1  26 00       	ld	h,0x00
2807  0CD3  01 00 00    	ld	bc,_class
2808  0CD6  09          	add	hl,bc
2809  0CD7  4E          	ld	c,(hl)
2810  0CD8  3E 03       	ld	a,0x03
2811  0CDA  91          	sub	a,c
2812  0CDB  D8          	ret	C
2813  0CDC  3E 00       	ld	a,+((_colint) & 0xFF)
2814  0CDE  21 00 00    	ld	hl,_sprite
2815  0CE1  86          	add	a, (hl)
2816  0CE2  4F          	ld	c,a
2817  0CE3  3E 00       	ld	a,+((_colint) / 256)
2818  0CE5  CE 00       	adc	a,0x00
2819  0CE7  47          	ld	b,a
2820  0CE8  AF          	xor	a, a
2821  0CE9  02          	ld	(bc),a
2822  0CEA  3E 00       	ld	a,+((_state) & 0xFF)
2823  0CEC  86          	add	a, (hl)
2824  0CED  4F          	ld	c,a
2825  0CEE  3E 00       	ld	a,+((_state) / 256)
2826  0CF0  CE 00       	adc	a,0x00
2827  0CF2  47          	ld	b,a
2828  0CF3  3A 00 00    	ld	a,(_s_state)
2829  0CF6  02          	ld	(bc),a
2830  0CF7  3E 00       	ld	a,+((_tile) & 0xFF)
2831  0CF9  21 00 00    	ld	hl,_sprite
2832  0CFC  86          	add	a, (hl)
2833  0CFD  4F          	ld	c,a
2834  0CFE  3E 00       	ld	a,+((_tile) / 256)
2835  0D00  CE 00       	adc	a,0x00
2836  0D02  47          	ld	b,a
2837  0D03  6E          	ld	l,(hl)
2838  0D04  C5          	push	bc
2839  0D05  CD 00 00    	call	_spr_tile
2840  0D08  C1          	pop	bc
2841  0D09  7D          	ld	a, l
2842  0D0A  02          	ld	(bc),a
2843  0D0B  CD 00 00    	call	_spr_set_fall
2844  0D0E              l_enemy_trip_00114:
2845  0D0E  C9          	ret
2846  0D0F              	SECTION code_compiler
2847  0D0F              ;	---------------------------------
2848  0D0F              ; Function enemy_standard_hit
2849  0D0F              ; ---------------------------------
2850  0D0F              _enemy_standard_hit:
2851  0D0F  2A 00 00    	ld	hl,(_game_time_flipped)
2852  0D12  01 CE FF    	ld	bc,0xffce
2853  0D15  09          	add	hl,bc
2854  0D16  4D          	ld	c,l
2855  0D17  44          	ld	b,h
2856  0D18  2A 00 00    	ld	hl,(_sprite)
2857  0D1B  26 00       	ld	h,0x00
2858  0D1D  29          	add	hl, hl
2859  0D1E  11 00 00    	ld	de,_spr_timer
2860  0D21  19          	add	hl,de
2861  0D22  5E          	ld	e,(hl)
2862  0D23  23          	inc	hl
2863  0D24  56          	ld	d,(hl)
2864  0D25  C5          	push	bc
2865  0D26  D5          	push	de
2866  0D27  CD 00 00    	call	_game_check_time
2867  0D2A  F1          	pop	af
2868  0D2B  F1          	pop	af
2869  0D2C  7D          	ld	a,l
2870  0D2D  B7          	or	a, a
2871  0D2E  28 27       	jr	Z,l_enemy_standard_hit_00104
2872  0D30  3A 00 00    	ld	a,(_sprite)
2873  0D33  C6 00       	add	a,+((_state) & 0xFF)
2874  0D35  4F          	ld	c,a
2875  0D36  3E 00       	ld	a,+((_state) / 256)
2876  0D38  CE 00       	adc	a,0x00
2877  0D3A  47          	ld	b,a
2878  0D3B  0A          	ld	a,(bc)
2879  0D3C  07          	rlca
2880  0D3D  38 18       	jr	C,l_enemy_standard_hit_00104
2881  0D3F  3A 00 00    	ld	a,(_sprite)
2882  0D42  F5          	push	af
2883  0D43  33          	inc	sp
2884  0D44  CD 93 0D    	call	_enemy_evolve
2885  0D47  33          	inc	sp
2886  0D48  3A 00 00    	ld	a,(_sprite)
2887  0D4B  C6 00       	add	a,+((_state) & 0xFF)
2888  0D4D  4F          	ld	c,a
2889  0D4E  3E 00       	ld	a,+((_state) / 256)
2890  0D50  CE 00       	adc	a,0x00
2891  0D52  47          	ld	b,a
2892  0D53  0A          	ld	a,(bc)
2893  0D54  CB FF       	set	7, a
2894  0D56  02          	ld	(bc),a
2895  0D57              l_enemy_standard_hit_00104:
2896  0D57  2A 00 00    	ld	hl,(_sprite)
2897  0D5A  26 00       	ld	h,0x00
2898  0D5C  29          	add	hl, hl
2899  0D5D  11 00 00    	ld	de,_spr_timer
2900  0D60  19          	add	hl,de
2901  0D61  4E          	ld	c,(hl)
2902  0D62  23          	inc	hl
2903  0D63  46          	ld	b,(hl)
2904  0D64  2A 00 00    	ld	hl,(_game_time_flipped)
2905  0D67  E5          	push	hl
2906  0D68  C5          	push	bc
2907  0D69  CD 00 00    	call	_game_check_time
2908  0D6C  F1          	pop	af
2909  0D6D  F1          	pop	af
2910  0D6E  7D          	ld	a,l
2911  0D6F  B7          	or	a, a
2912  0D70  C8          	ret	Z
2913  0D71  3A 00 00    	ld	a,(_sprite)
2914  0D74  32 00 00    	ld	(_enemies),a
2915  0D77  2A 00 00    	ld	hl,(_sprite)
2916  0D7A  CD 00 00    	call	_spr_tile
2917  0D7D  CD 76 04    	call	_enemy_flip
2918  0D80  3A 00 00    	ld	a,(_sprite)
2919  0D83  C6 00       	add	a,+((_state) & 0xFF)
2920  0D85  4F          	ld	c,a
2921  0D86  3E 00       	ld	a,+((_state) / 256)
2922  0D88  CE 00       	adc	a,0x00
2923  0D8A  47          	ld	b,a
2924  0D8B  0A          	ld	a,(bc)
2925  0D8C  32 00 00    	ld	(_s_state),a
2926  0D8F  E6 7F       	and	a,0x7f
2927  0D91  02          	ld	(bc),a
2928  0D92  C9          	ret
2929  0D93              	SECTION code_compiler
2930  0D93              ;	---------------------------------
2931  0D93              ; Function enemy_evolve
2932  0D93              ; ---------------------------------
2933  0D93              _enemy_evolve:
2934  0D93  CD 00 00    	call	___sdcc_enter_ix
2935  0D96  3E 00       	ld	a,+((_class) & 0xFF)
2936  0D98  DD 86 04    	add	a,(ix+4)
2937  0D9B  4F          	ld	c,a
2938  0D9C  3E 00       	ld	a,+((_class) / 256)
2939  0D9E  CE 00       	adc	a,0x00
2940  0DA0  47          	ld	b,a
2941  0DA1  0A          	ld	a,(bc)
2942  0DA2  4F          	ld	c,a
2943  0DA3  3D          	dec	a
2944  0DA4  28 0F       	jr	Z,l_enemy_evolve_00101
2945  0DA6  79          	ld	a,c
2946  0DA7  FE 02       	cp	a,0x02
2947  0DA9  28 1B       	jr	Z,l_enemy_evolve_00102
2948  0DAB  FE 04       	cp	a,0x04
2949  0DAD  28 28       	jr	Z,l_enemy_evolve_00103
2950  0DAF  D6 05       	sub	a,0x05
2951  0DB1  28 35       	jr	Z,l_enemy_evolve_00104
2952  0DB3  18 42       	jr	l_enemy_evolve_00106
2953  0DB5              l_enemy_evolve_00101:
2954  0DB5  21 3C 00    	ld	hl,0x003c
2955  0DB8  E5          	push	hl
2956  0DB9  26 02       	ld	h,0x02
2957  0DBB  DD 6E 04    	ld	l,(ix+4)
2958  0DBE  E5          	push	hl
2959  0DBF  CD FA 0D    	call	_enemy_upgrade
2960  0DC2  F1          	pop	af
2961  0DC3  F1          	pop	af
2962  0DC4  18 31       	jr	l_enemy_evolve_00106
2963  0DC6              l_enemy_evolve_00102:
2964  0DC6  21 48 00    	ld	hl,0x0048
2965  0DC9  E5          	push	hl
2966  0DCA  26 03       	ld	h,0x03
2967  0DCC  DD 6E 04    	ld	l,(ix+4)
2968  0DCF  E5          	push	hl
2969  0DD0  CD FA 0D    	call	_enemy_upgrade
2970  0DD3  F1          	pop	af
2971  0DD4  F1          	pop	af
2972  0DD5  18 20       	jr	l_enemy_evolve_00106
2973  0DD7              l_enemy_evolve_00103:
2974  0DD7  21 60 00    	ld	hl,0x0060
2975  0DDA  E5          	push	hl
2976  0DDB  26 05       	ld	h,0x05
2977  0DDD  DD 6E 04    	ld	l,(ix+4)
2978  0DE0  E5          	push	hl
2979  0DE1  CD FA 0D    	call	_enemy_upgrade
2980  0DE4  F1          	pop	af
2981  0DE5  F1          	pop	af
2982  0DE6  18 0F       	jr	l_enemy_evolve_00106
2983  0DE8              l_enemy_evolve_00104:
2984  0DE8  21 6C 00    	ld	hl,0x006c
2985  0DEB  E5          	push	hl
2986  0DEC  26 06       	ld	h,0x06
2987  0DEE  DD 6E 04    	ld	l,(ix+4)
2988  0DF1  E5          	push	hl
2989  0DF2  CD FA 0D    	call	_enemy_upgrade
2990  0DF5  F1          	pop	af
2991  0DF6  F1          	pop	af
2992  0DF7              l_enemy_evolve_00106:
2993  0DF7  DD E1       	pop	ix
2994  0DF9  C9          	ret
2995  0DFA              	SECTION code_compiler
2996  0DFA              ;	---------------------------------
2997  0DFA              ; Function enemy_upgrade
2998  0DFA              ; ---------------------------------
2999  0DFA              _enemy_upgrade:
3000  0DFA  CD 00 00    	call	___sdcc_enter_ix
3001  0DFD  3E 00       	ld	a,+((_tile) & 0xFF)
3002  0DFF  DD 86 04    	add	a,(ix+4)
3003  0E02  4F          	ld	c,a
3004  0E03  3E 00       	ld	a,+((_tile) / 256)
3005  0E05  CE 00       	adc	a,0x00
3006  0E07  47          	ld	b,a
3007  0E08  DD 7E 06    	ld	a,(ix+6)
3008  0E0B  C6 06       	add	a,0x06
3009  0E0D  02          	ld	(bc),a
3010  0E0E  3E 00       	ld	a,+((_class) & 0xFF)
3011  0E10  DD 86 04    	add	a,(ix+4)
3012  0E13  4F          	ld	c,a
3013  0E14  3E 00       	ld	a,+((_class) / 256)
3014  0E16  CE 00       	adc	a,0x00
3015  0E18  47          	ld	b,a
3016  0E19  DD 7E 05    	ld	a,(ix+5)
3017  0E1C  02          	ld	(bc),a
3018  0E1D  DD E1       	pop	ix
3019  0E1F  C9          	ret
3020  0E20              	SECTION code_compiler
3021  0E20              ;	---------------------------------
3022  0E20              ; Function enemy_walk
3023  0E20              ; ---------------------------------
3024  0E20              _enemy_walk:
3025  0E20  3A 00 00    	ld	a,(_s_state)
3026  0E23  0F          	rrca
3027  0E24  38 49       	jr	C,l_enemy_walk_00106
3028  0E26  3A 00 00    	ld	a,(_s_state)
3029  0E29  E6 02       	and	a,0x02
3030  0E2B  20 42       	jr	NZ,l_enemy_walk_00106
3031  0E2D  3A 00 00    	ld	a,(_sprite)
3032  0E30  C6 00       	add	a,+((_col) & 0xFF)
3033  0E32  4F          	ld	c,a
3034  0E33  3E 00       	ld	a,+((_col) / 256)
3035  0E35  CE 00       	adc	a,0x00
3036  0E37  47          	ld	b,a
3037  0E38  0A          	ld	a,(bc)
3038  0E39  57          	ld	d,a
3039  0E3A  CB 47       	bit	0,a
3040  0E3C  28 14       	jr	Z,l_enemy_walk_00102
3041  0E3E  3A 00 00    	ld	a,(_s_state)
3042  0E41  E6 10       	and	a,0x10
3043  0E43  20 0D       	jr	NZ,l_enemy_walk_00102
3044  0E45  21 00 00    	ld	hl,0x0000
3045  0E48  22 00 00    	ld	(_index_d),hl
3046  0E4B  21 00 00    	ld	hl,_tmp
3047  0E4E  36 00       	ld	(hl),0x00
3048  0E50  18 42       	jr	l_enemy_walk_00107
3049  0E52              l_enemy_walk_00102:
3050  0E52  3A 00 00    	ld	a,(_sprite)
3051  0E55  C6 00       	add	a,+((_lin) & 0xFF)
3052  0E57  4F          	ld	c,a
3053  0E58  3E 00       	ld	a,+((_lin) / 256)
3054  0E5A  CE 00       	adc	a,0x00
3055  0E5C  47          	ld	b,a
3056  0E5D  0A          	ld	a,(bc)
3057  0E5E  C6 10       	add	a,0x10
3058  0E60  5F          	ld	e, a
3059  0E61  D5          	push	de
3060  0E62  CD 00 00    	call	_game_calc_index
3061  0E65  F1          	pop	af
3062  0E66  CD 00 00    	call	_game_check_maze
3063  0E69  7D          	ld	a,l
3064  0E6A  32 00 00    	ld	(_tmp),a
3065  0E6D  18 25       	jr	l_enemy_walk_00107
3066  0E6F              l_enemy_walk_00106:
3067  0E6F  3E 00       	ld	a,+((_col) & 0xFF)
3068  0E71  21 00 00    	ld	hl,_sprite
3069  0E74  86          	add	a, (hl)
3070  0E75  4F          	ld	c,a
3071  0E76  3E 00       	ld	a,+((_col) / 256)
3072  0E78  CE 00       	adc	a,0x00
3073  0E7A  47          	ld	b,a
3074  0E7B  0A          	ld	a,(bc)
3075  0E7C  57          	ld	d,a
3076  0E7D  4E          	ld	c,(hl)
3077  0E7E  06 00       	ld	b,0x00
3078  0E80  21 00 00    	ld	hl,_lin
3079  0E83  09          	add	hl,bc
3080  0E84  7E          	ld	a,(hl)
3081  0E85  C6 10       	add	a,0x10
3082  0E87  5F          	ld	e, a
3083  0E88  D5          	push	de
3084  0E89  CD 00 00    	call	_game_calc_index
3085  0E8C  F1          	pop	af
3086  0E8D  CD 00 00    	call	_game_check_maze
3087  0E90  7D          	ld	a,l
3088  0E91  32 00 00    	ld	(_tmp),a
3089  0E94              l_enemy_walk_00107:
3090  0E94  3A 00 00    	ld	a,(_tmp)
3091  0E97  B7          	or	a, a
3092  0E98  CA 77 0F    	jp	Z,l_enemy_walk_00132
3093  0E9B  3A 00 00    	ld	a,(_s_state)
3094  0E9E  0F          	rrca
3095  0E9F  38 05       	jr	C,l_enemy_walk_00110
3096  0EA1  21 00 00    	ld	hl,_s_state
3097  0EA4  CB CE       	set	1, (hl)
3098  0EA6              l_enemy_walk_00110:
3099  0EA6  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3100  0EA8  21 00 00    	ld	hl,_sprite
3101  0EAB  86          	add	a, (hl)
3102  0EAC  4F          	ld	c,a
3103  0EAD  3E 00       	ld	a,+((_jump_lin) / 256)
3104  0EAF  CE 00       	adc	a,0x00
3105  0EB1  47          	ld	b,a
3106  0EB2  0A          	ld	a,(bc)
3107  0EB3  B7          	or	a, a
3108  0EB4  20 09       	jr	NZ,l_enemy_walk_00112
3109  0EB6  5E          	ld	e,(hl)
3110  0EB7  16 00       	ld	d,0x00
3111  0EB9  21 00 00    	ld	hl,_lin
3112  0EBC  19          	add	hl,de
3113  0EBD  7E          	ld	a,(hl)
3114  0EBE  02          	ld	(bc),a
3115  0EBF              l_enemy_walk_00112:
3116  0EBF  3A 00 00    	ld	a,(_s_state)
3117  0EC2  E6 02       	and	a,0x02
3118  0EC4  28 05       	jr	Z,l_enemy_walk_00114
3119  0EC6  CD 00 00    	call	_spr_move_down
3120  0EC9  18 03       	jr	l_enemy_walk_00115
3121  0ECB              l_enemy_walk_00114:
3122  0ECB  CD 00 00    	call	_spr_move_up
3123  0ECE              l_enemy_walk_00115:
3124  0ECE  3A 00 00    	ld	a,(_sprite)
3125  0ED1  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
3126  0ED3  4F          	ld	c,a
3127  0ED4  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3128  0ED6  CE 00       	adc	a,0x00
3129  0ED8  47          	ld	b,a
3130  0ED9  3E 01       	ld	a,0x01
3131  0EDB  02          	ld	(bc),a
3132  0EDC  21 00 00    	ld	hl,_tmp
3133  0EDF  36 01       	ld	(hl),0x01
3134  0EE1  3E 00       	ld	a,+((_col) & 0xFF)
3135  0EE3  21 00 00    	ld	hl,_sprite
3136  0EE6  86          	add	a, (hl)
3137  0EE7  4F          	ld	c,a
3138  0EE8  3E 00       	ld	a,+((_col) / 256)
3139  0EEA  CE 00       	adc	a,0x00
3140  0EEC  47          	ld	b,a
3141  0EED  0A          	ld	a,(bc)
3142  0EEE  47          	ld	b,a
3143  0EEF  04          	inc	b
3144  0EF0  5E          	ld	e,(hl)
3145  0EF1  16 00       	ld	d,0x00
3146  0EF3  21 00 00    	ld	hl,_lin
3147  0EF6  19          	add	hl,de
3148  0EF7  7E          	ld	a,(hl)
3149  0EF8  C6 10       	add	a,0x10
3150  0EFA  4F          	ld	c,a
3151  0EFB  C5          	push	bc
3152  0EFC  CD 00 00    	call	_game_calc_index
3153  0EFF  F1          	pop	af
3154  0F00  CD 00 00    	call	_game_check_maze
3155  0F03  7D          	ld	a,l
3156  0F04  32 00 00    	ld	(_tmp0),a
3157  0F07  3E 00       	ld	a,+((_col) & 0xFF)
3158  0F09  21 00 00    	ld	hl,_sprite
3159  0F0C  86          	add	a, (hl)
3160  0F0D  4F          	ld	c,a
3161  0F0E  3E 00       	ld	a,+((_col) / 256)
3162  0F10  CE 00       	adc	a,0x00
3163  0F12  47          	ld	b,a
3164  0F13  0A          	ld	a,(bc)
3165  0F14  47          	ld	b,a
3166  0F15  05          	dec	b
3167  0F16  5E          	ld	e,(hl)
3168  0F17  16 00       	ld	d,0x00
3169  0F19  21 00 00    	ld	hl,_lin
3170  0F1C  19          	add	hl,de
3171  0F1D  7E          	ld	a,(hl)
3172  0F1E  C6 10       	add	a,0x10
3173  0F20  4F          	ld	c,a
3174  0F21  C5          	push	bc
3175  0F22  CD 00 00    	call	_game_calc_index
3176  0F25  F1          	pop	af
3177  0F26  CD 00 00    	call	_game_check_maze
3178  0F29  7D          	ld	a,l
3179  0F2A  32 00 00    	ld	(_tmp1),a
3180  0F2D  3A 00 00    	ld	a,(_tmp0)
3181  0F30  B7          	or	a, a
3182  0F31  20 06       	jr	NZ,l_enemy_walk_00136
3183  0F33  3A 00 00    	ld	a,(_tmp1)
3184  0F36  B7          	or	a, a
3185  0F37  28 04       	jr	Z,l_enemy_walk_00137
3186  0F39              l_enemy_walk_00136:
3187  0F39  0E 00       	ld	c,0x00
3188  0F3B  18 02       	jr	l_enemy_walk_00138
3189  0F3D              l_enemy_walk_00137:
3190  0F3D  0E 01       	ld	c,0x01
3191  0F3F              l_enemy_walk_00138:
3192  0F3F  21 00 00    	ld	hl,_tmp
3193  0F42  71          	ld	(hl),c
3194  0F43  79          	ld	a,c
3195  0F44  B7          	or	a, a
3196  0F45  CA 3C 10    	jp	Z,l_enemy_walk_00134
3197  0F48  2A 00 00    	ld	hl,(_sprite)
3198  0F4B  26 00       	ld	h,0x00
3199  0F4D  5D          	ld	e,l
3200  0F4E  01 00 00    	ld	bc,_lin
3201  0F51  09          	add	hl,bc
3202  0F52  4E          	ld	c,(hl)
3203  0F53  06 00       	ld	b,0x00
3204  0F55  50          	ld	d,b
3205  0F56  21 00 00    	ld	hl,_jump_lin
3206  0F59  19          	add	hl,de
3207  0F5A  5E          	ld	e, (hl)
3208  0F5B  16 00       	ld	d,0x00
3209  0F5D  79          	ld	a,c
3210  0F5E  93          	sub	a, e
3211  0F5F  4F          	ld	c,a
3212  0F60  78          	ld	a,b
3213  0F61  9A          	sbc	a, d
3214  0F62  47          	ld	b,a
3215  0F63  3E 08       	ld	a,0x08
3216  0F65  B9          	cp	a, c
3217  0F66  3E 00       	ld	a,0x00
3218  0F68  98          	sbc	a, b
3219  0F69  E2 6E 0F    	jp	PO, l_enemy_walk_00217
3220  0F6C  EE 80       	xor	a,0x80
3221  0F6E              l_enemy_walk_00217:
3222  0F6E  FA 3C 10    	jp	M,l_enemy_walk_00134
3223  0F71  CD 00 00    	call	_spr_move_horizontal
3224  0F74  C3 3C 10    	jp	l_enemy_walk_00134
3225  0F77              l_enemy_walk_00132:
3226  0F77  3A 00 00    	ld	a,(_s_state)
3227  0F7A  E6 02       	and	a,0x02
3228  0F7C  28 1E       	jr	Z,l_enemy_walk_00120
3229  0F7E  21 00 00    	ld	hl,_s_state
3230  0F81  CB 8E       	res	1, (hl)
3231  0F83  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3232  0F85  21 00 00    	ld	hl,_sprite
3233  0F88  86          	add	a, (hl)
3234  0F89  4F          	ld	c,a
3235  0F8A  3E 00       	ld	a,+((_jump_lin) / 256)
3236  0F8C  CE 00       	adc	a,0x00
3237  0F8E  47          	ld	b,a
3238  0F8F  AF          	xor	a, a
3239  0F90  02          	ld	(bc),a
3240  0F91  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3241  0F93  86          	add	a, (hl)
3242  0F94  4F          	ld	c,a
3243  0F95  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3244  0F97  CE 00       	adc	a,0x00
3245  0F99  47          	ld	b,a
3246  0F9A  AF          	xor	a, a
3247  0F9B  02          	ld	(bc),a
3248  0F9C              l_enemy_walk_00120:
3249  0F9C  3A 00 00    	ld	a,(_s_state)
3250  0F9F  E6 10       	and	a,0x10
3251  0FA1  20 41       	jr	NZ,l_enemy_walk_00124
3252  0FA3  3A 00 00    	ld	a,(_sprite)
3253  0FA6  C6 00       	add	a,+((_state_a) & 0xFF)
3254  0FA8  4F          	ld	c,a
3255  0FA9  3E 00       	ld	a,+((_state_a) / 256)
3256  0FAB  CE 00       	adc	a,0x00
3257  0FAD  47          	ld	b,a
3258  0FAE  0A          	ld	a,(bc)
3259  0FAF  CB 4F       	bit	1, a
3260  0FB1  20 31       	jr	NZ,l_enemy_walk_00124
3261  0FB3  01 00 00    	ld	bc,_spr_timer_c+0
3262  0FB6  2A 00 00    	ld	hl,(_sprite)
3263  0FB9  26 00       	ld	h,0x00
3264  0FBB  29          	add	hl, hl
3265  0FBC  09          	add	hl,bc
3266  0FBD  5E          	ld	e,(hl)
3267  0FBE  23          	inc	hl
3268  0FBF  56          	ld	d,(hl)
3269  0FC0  C5          	push	bc
3270  0FC1  21 05 00    	ld	hl,0x0005
3271  0FC4  E5          	push	hl
3272  0FC5  D5          	push	de
3273  0FC6  CD 00 00    	call	_game_check_time
3274  0FC9  F1          	pop	af
3275  0FCA  F1          	pop	af
3276  0FCB  C1          	pop	bc
3277  0FCC  7D          	ld	a,l
3278  0FCD  B7          	or	a, a
3279  0FCE  28 11       	jr	Z,l_enemy_walk_00122
3280  0FD0  2A 00 00    	ld	hl,(_sprite)
3281  0FD3  26 00       	ld	h,0x00
3282  0FD5  29          	add	hl, hl
3283  0FD6  09          	add	hl,bc
3284  0FD7  ED 5B 00 00 	ld	de,(_curr_time)
3285  0FDB  73          	ld	(hl),e
3286  0FDC  23          	inc	hl
3287  0FDD  72          	ld	(hl),d
3288  0FDE  CD 51 00    	call	_enemy_collition
3289  0FE1              l_enemy_walk_00122:
3290  0FE1  CD 00 00    	call	_spr_move_horizontal
3291  0FE4              l_enemy_walk_00124:
3292  0FE4  3A 00 00    	ld	a,(_sprite)
3293  0FE7  C6 00       	add	a,+((_state_a) & 0xFF)
3294  0FE9  4F          	ld	c,a
3295  0FEA  3E 00       	ld	a,+((_state_a) / 256)
3296  0FEC  CE 00       	adc	a,0x00
3297  0FEE  47          	ld	b,a
3298  0FEF  0A          	ld	a,(bc)
3299  0FF0  CB 4F       	bit	1, a
3300  0FF2  28 48       	jr	Z,l_enemy_walk_00134
3301  0FF4  01 00 00    	ld	bc,_spr_timer+0
3302  0FF7  2A 00 00    	ld	hl,(_sprite)
3303  0FFA  26 00       	ld	h,0x00
3304  0FFC  29          	add	hl, hl
3305  0FFD  09          	add	hl,bc
3306  0FFE  ED 5B 00 00 	ld	de,(_curr_time)
3307  1002  73          	ld	(hl),e
3308  1003  23          	inc	hl
3309  1004  72          	ld	(hl),d
3310  1005  3A 00 00    	ld	a,(_sprite)
3311  1008  C6 00       	add	a,+((_colint) & 0xFF)
3312  100A  4F          	ld	c,a
3313  100B  3E 00       	ld	a,+((_colint) / 256)
3314  100D  CE 00       	adc	a,0x00
3315  100F  47          	ld	b,a
3316  1010  0A          	ld	a,(bc)
3317  1011  5F          	ld	e,a
3318  1012  D6 02       	sub	a,0x02
3319  1014  30 05       	jr	NC,l_enemy_walk_00127
3320  1016  1C          	inc	e
3321  1017  7B          	ld	a,e
3322  1018  02          	ld	(bc),a
3323  1019  18 21       	jr	l_enemy_walk_00134
3324  101B              l_enemy_walk_00127:
3325  101B  2A 00 00    	ld	hl,(_sprite)
3326  101E  26 00       	ld	h,0x00
3327  1020  01 00 00    	ld	bc,_state_a
3328  1023  09          	add	hl,bc
3329  1024  7E          	ld	a,(hl)
3330  1025  E6 FD       	and	a,0xfd
3331  1027  77          	ld	(hl),a
3332  1028  3E 00       	ld	a,+((_tile) & 0xFF)
3333  102A  21 00 00    	ld	hl,_sprite
3334  102D  86          	add	a, (hl)
3335  102E  4F          	ld	c,a
3336  102F  3E 00       	ld	a,+((_tile) / 256)
3337  1031  CE 00       	adc	a,0x00
3338  1033  47          	ld	b,a
3339  1034  6E          	ld	l,(hl)
3340  1035  C5          	push	bc
3341  1036  CD 00 00    	call	_spr_tile
3342  1039  C1          	pop	bc
3343  103A  7D          	ld	a, l
3344  103B  02          	ld	(bc),a
3345  103C              l_enemy_walk_00134:
3346  103C  C9          	ret
3347  103D              	SECTION code_compiler
3348  103D              ;	---------------------------------
3349  103D              ; Function enemy_init
3350  103D              ; ---------------------------------
3351  103D              _enemy_init:
3352  103D  CD 00 00    	call	___sdcc_enter_ix
3353  1040  21 00 00    	ld	hl,_spr_count
3354  1043  34          	inc	(hl)
3355  1044  3E 00       	ld	a,+((_class) & 0xFF)
3356  1046  DD 86 04    	add	a,(ix+4)
3357  1049  4F          	ld	c,a
3358  104A  3E 00       	ld	a,+((_class) / 256)
3359  104C  CE 00       	adc	a,0x00
3360  104E  47          	ld	b,a
3361  104F  DD 7E 07    	ld	a,(ix+7)
3362  1052  02          	ld	(bc),a
3363  1053  3E 00       	ld	a,+((_lin) & 0xFF)
3364  1055  DD 86 04    	add	a,(ix+4)
3365  1058  4F          	ld	c,a
3366  1059  3E 00       	ld	a,+((_lin) / 256)
3367  105B  CE 00       	adc	a,0x00
3368  105D  47          	ld	b,a
3369  105E  DD 7E 05    	ld	a,(ix+5)
3370  1061  02          	ld	(bc),a
3371  1062  3E 00       	ld	a,+((_col) & 0xFF)
3372  1064  DD 86 04    	add	a,(ix+4)
3373  1067  4F          	ld	c,a
3374  1068  3E 00       	ld	a,+((_col) / 256)
3375  106A  CE 00       	adc	a,0x00
3376  106C  47          	ld	b,a
3377  106D  DD 7E 06    	ld	a,(ix+6)
3378  1070  02          	ld	(bc),a
3379  1071  21 00 00    	ld	hl,_tmp
3380  1074  36 00       	ld	(hl),0x00
3381  1076  3E 00       	ld	a,+((_state) & 0xFF)
3382  1078  DD 86 04    	add	a,(ix+4)
3383  107B  4F          	ld	c,a
3384  107C  3E 00       	ld	a,+((_state) / 256)
3385  107E  CE 00       	adc	a,0x00
3386  1080  47          	ld	b,a
3387  1081  AF          	xor	a, a
3388  1082  02          	ld	(bc),a
3389  1083  3E 00       	ld	a,+((_state_a) & 0xFF)
3390  1085  DD 86 04    	add	a,(ix+4)
3391  1088  5F          	ld	e,a
3392  1089  3E 00       	ld	a,+((_state_a) / 256)
3393  108B  CE 00       	adc	a,0x00
3394  108D  57          	ld	d,a
3395  108E  AF          	xor	a, a
3396  108F  12          	ld	(de),a
3397  1090  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3398  1092  DD 86 04    	add	a,(ix+4)
3399  1095  5F          	ld	e,a
3400  1096  3E 00       	ld	a,+((_jump_lin) / 256)
3401  1098  CE 00       	adc	a,0x00
3402  109A  57          	ld	d,a
3403  109B  AF          	xor	a, a
3404  109C  12          	ld	(de),a
3405  109D  0A          	ld	a,(bc)
3406  109E  5F          	ld	e,a
3407  109F  DD 7E 08    	ld	a,(ix+8)
3408  10A2  3D          	dec	a
3409  10A3  20 06       	jr	NZ,l_enemy_init_00102
3410  10A5  7B          	ld	a,e
3411  10A6  CB D7       	set	2, a
3412  10A8  02          	ld	(bc),a
3413  10A9  18 04       	jr	l_enemy_init_00103
3414  10AB              l_enemy_init_00102:
3415  10AB  7B          	ld	a,e
3416  10AC  CB DF       	set	3, a
3417  10AE  02          	ld	(bc),a
3418  10AF              l_enemy_init_00103:
3419  10AF  3E 00       	ld	a,+((_colint) & 0xFF)
3420  10B1  DD 86 04    	add	a,(ix+4)
3421  10B4  4F          	ld	c,a
3422  10B5  3E 00       	ld	a,+((_colint) / 256)
3423  10B7  CE 00       	adc	a,0x00
3424  10B9  47          	ld	b,a
3425  10BA  AF          	xor	a, a
3426  10BB  02          	ld	(bc),a
3427  10BC  3E 00       	ld	a,+((_tile) & 0xFF)
3428  10BE  DD 86 04    	add	a,(ix+4)
3429  10C1  4F          	ld	c,a
3430  10C2  3E 00       	ld	a,+((_tile) / 256)
3431  10C4  CE 00       	adc	a,0x00
3432  10C6  47          	ld	b,a
3433  10C7  C5          	push	bc
3434  10C8  DD 6E 04    	ld	l,(ix+4)
3435  10CB  CD 00 00    	call	_spr_tile
3436  10CE  C1          	pop	bc
3437  10CF  7D          	ld	a, l
3438  10D0  02          	ld	(bc),a
3439  10D1  DD 4E 04    	ld	c,(ix+4)
3440  10D4  06 00       	ld	b,0x00
3441  10D6  CB 21       	sla	c
3442  10D8  CB 10       	rl	b
3443  10DA  21 00 00    	ld	hl,_last_time
3444  10DD  09          	add	hl,bc
3445  10DE  AF          	xor	a, a
3446  10DF  77          	ld	(hl), a
3447  10E0  23          	inc	hl
3448  10E1  77          	ld	(hl), a
3449  10E2  21 00 00    	ld	hl,_spr_timer
3450  10E5  09          	add	hl,bc
3451  10E6  ED 5B 00 00 	ld	de,(_curr_time)
3452  10EA  73          	ld	(hl),e
3453  10EB  23          	inc	hl
3454  10EC  72          	ld	(hl),d
3455  10ED  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3456  10EF  DD 86 04    	add	a,(ix+4)
3457  10F2  4F          	ld	c,a
3458  10F3  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3459  10F5  CE 00       	adc	a,0x00
3460  10F7  47          	ld	b,a
3461  10F8  AF          	xor	a, a
3462  10F9  02          	ld	(bc),a
3463  10FA  DD E1       	pop	ix
3464  10FC  C9          	ret
3465  10FD              	SECTION code_compiler
3466  10FD              ;	---------------------------------
3467  10FD              ; Function enemy_kill
3468  10FD              ; ---------------------------------
3469  10FD              _enemy_kill:
3470  10FD  CD 00 00    	call	___sdcc_enter_ix
3471  1100  F5          	push	af
3472  1101  F5          	push	af
3473  1102  5D          	ld	e,l
3474  1103  76          	halt
3475  1104  D5          	push	de
3476  1105  CD 00 00    	call	_sound_kill
3477  1108  D1          	pop	de
3478  1109  2A 00 00    	ld	hl,(_sprite)
3479  110C  26 00       	ld	h,0x00
3480  110E  01 00 00    	ld	bc,_state
3481  1111  09          	add	hl,bc
3482  1112  4E          	ld	c,(hl)
3483  1113  16 00       	ld	d,0x00
3484  1115  21 00 00    	ld	hl,_state
3485  1118  19          	add	hl, de
3486  1119  7E          	ld	a,(hl)
3487  111A  CB 59       	bit	3, c
3488  111C  28 07       	jr	Z,l_enemy_kill_00102
3489  111E  CB DF       	set	3, a
3490  1120  E6 FB       	and	a,0xfb
3491  1122  77          	ld	(hl),a
3492  1123  18 05       	jr	l_enemy_kill_00103
3493  1125              l_enemy_kill_00102:
3494  1125  CB D7       	set	2, a
3495  1127  E6 F7       	and	a,0xf7
3496  1129  77          	ld	(hl),a
3497  112A              l_enemy_kill_00103:
3498  112A  7E          	ld	a,(hl)
3499  112B  E6 FD       	and	a,0xfd
3500  112D  CB C6       	set	0,(hl)
3501  112F  CB EE       	set	5,(hl)
3502  1131  3E 00       	ld	a,+((_class) & 0xFF)
3503  1133  83          	add	a, e
3504  1134  DD 77 FE    	ld	(ix-2),a
3505  1137  6F          	ld	l,a
3506  1138  3E 00       	ld	a,+((_class) / 256)
3507  113A  CE 00       	adc	a,0x00
3508  113C  DD 77 FF    	ld	(ix-1),a
3509  113F  67          	ld	h,a
3510  1140  7E          	ld	a,(hl)
3511  1141  D6 09       	sub	a,0x09
3512  1143  20 08       	jr	NZ,l_enemy_kill_00105
3513  1145  DD 6E FE    	ld	l,(ix-2)
3514  1148  DD 66 FF    	ld	h,(ix-1)
3515  114B  36 01       	ld	(hl),0x01
3516  114D              l_enemy_kill_00105:
3517  114D  01 00 00    	ld	bc,_sprite_speed_alt+0
3518  1150  6B          	ld	l,e
3519  1151  26 00       	ld	h,0x00
3520  1153  09          	add	hl,bc
3521  1154  36 08       	ld	(hl),0x08
3522  1156  21 00 00    	ld	hl,_hit_count
3523  1159  46          	ld	b,(hl)
3524  115A  0E 50       	ld	c,0x50
3525  115C  16 00       	ld	d,0x00
3526  115E  04          	inc	b
3527  115F  18 04       	jr	l_enemy_kill_00174
3528  1161              l_enemy_kill_00173:
3529  1161  CB 21       	sla	c
3530  1163  CB 12       	rl	d
3531  1165              l_enemy_kill_00174:
3532  1165  10 FA       	djnz	l_enemy_kill_00173
3533  1167  D5          	push	de
3534  1168  69          	ld	l, c
3535  1169  62          	ld	h, d
3536  116A  CD 00 00    	call	_player_score_add
3537  116D  D1          	pop	de
3538  116E  21 00 00    	ld	hl,_hit_count
3539  1171  34          	inc	(hl)
3540  1172  01 00 00    	ld	bc,_spr_timer+0
3541  1175  6B          	ld	l,e
3542  1176  26 00       	ld	h,0x00
3543  1178  29          	add	hl, hl
3544  1179  09          	add	hl,bc
3545  117A  E3          	ex	(sp), hl
3546  117B  E1          	pop	hl
3547  117C  ED 4B 00 00 	ld	bc,(_curr_time)
3548  1180  E5          	push	hl
3549  1181  71          	ld	(hl),c
3550  1182  23          	inc	hl
3551  1183  70          	ld	(hl),b
3552  1184  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3553  1186  83          	add	a, e
3554  1187  4F          	ld	c,a
3555  1188  3E 00       	ld	a,+((_jump_lin) / 256)
3556  118A  CE 00       	adc	a,0x00
3557  118C  47          	ld	b,a
3558  118D  16 00       	ld	d,0x00
3559  118F  21 00 00    	ld	hl,_lin
3560  1192  19          	add	hl, de
3561  1193  7E          	ld	a,(hl)
3562  1194  02          	ld	(bc),a
3563  1195  DD 6E FE    	ld	l,(ix-2)
3564  1198  DD 66 FF    	ld	h,(ix-1)
3565  119B  4E          	ld	c,(hl)
3566  119C  3E 09       	ld	a,0x09
3567  119E  91          	sub	a, c
3568  119F  38 6F       	jr	C,l_enemy_kill_00116
3569  11A1  3A 00 00    	ld	a,(_game_type)
3570  11A4  D6 02       	sub	a,0x02
3571  11A6  28 64       	jr	Z,l_enemy_kill_00114
3572  11A8  21 00 00    	ld	hl,_phase_left
3573  11AB  7E          	ld	a,(hl)
3574  11AC  3D          	dec	a
3575  11AD  77          	ld	(hl),a
3576  11AE  3D          	dec	a
3577  11AF  20 5B       	jr	NZ,l_enemy_kill_00114
3578  11B1  21 00 00    	ld	hl,_phase_angry
3579  11B4  36 01       	ld	(hl),0x01
3580  11B6  21 00 00    	ld	hl,_tmp0
3581  11B9  36 00       	ld	(hl),0x00
3582  11BB              l_enemy_kill_00122:
3583  11BB  2A 00 00    	ld	hl,(_tmp0)
3584  11BE  26 00       	ld	h,0x00
3585  11C0  01 00 00    	ld	bc,_class
3586  11C3  09          	add	hl,bc
3587  11C4  7E          	ld	a,(hl)
3588  11C5  4F          	ld	c,a
3589  11C6  B7          	or	a,a
3590  11C7  28 39       	jr	Z,l_enemy_kill_00123
3591  11C9  3E 09       	ld	a,0x09
3592  11CB  91          	sub	a,c
3593  11CC  38 34       	jr	C,l_enemy_kill_00123
3594  11CE  3A 00 00    	ld	a,(_tmp0)
3595  11D1  4F          	ld	c,a
3596  11D2  06 00       	ld	b,0x00
3597  11D4  21 00 00    	ld	hl,_state
3598  11D7  09          	add	hl,bc
3599  11D8  CB 6E       	bit	5,(hl)
3600  11DA  20 26       	jr	NZ,l_enemy_kill_00123
3601  11DC  3A 00 00    	ld	a,(_tmp0)
3602  11DF  F5          	push	af
3603  11E0  33          	inc	sp
3604  11E1  CD 93 0D    	call	_enemy_evolve
3605  11E4  33          	inc	sp
3606  11E5  3A 00 00    	ld	a,(_tmp0)
3607  11E8  F5          	push	af
3608  11E9  33          	inc	sp
3609  11EA  CD 93 0D    	call	_enemy_evolve
3610  11ED  33          	inc	sp
3611  11EE  3E 00       	ld	a,+((_tile) & 0xFF)
3612  11F0  21 00 00    	ld	hl,_tmp0
3613  11F3  86          	add	a, (hl)
3614  11F4  4F          	ld	c,a
3615  11F5  3E 00       	ld	a,+((_tile) / 256)
3616  11F7  CE 00       	adc	a,0x00
3617  11F9  47          	ld	b,a
3618  11FA  6E          	ld	l,(hl)
3619  11FB  C5          	push	bc
3620  11FC  CD 00 00    	call	_spr_tile
3621  11FF  C1          	pop	bc
3622  1200  7D          	ld	a, l
3623  1201  02          	ld	(bc),a
3624  1202              l_enemy_kill_00123:
3625  1202  21 00 00    	ld	hl,_tmp0
3626  1205  7E          	ld	a,(hl)
3627  1206  3C          	inc	a
3628  1207  77          	ld	(hl),a
3629  1208  D6 06       	sub	a,0x06
3630  120A  38 AF       	jr	C,l_enemy_kill_00122
3631  120C              l_enemy_kill_00114:
3632  120C  21 00 00    	ld	hl,_phase_coins
3633  120F  34          	inc	(hl)
3634  1210              l_enemy_kill_00116:
3635  1210  3A 00 00    	ld	a,(_phase_left)
3636  1213  B7          	or	a, a
3637  1214  28 08       	jr	Z,l_enemy_kill_00120
3638  1216  21 00 00    	ld	hl,_ay_effect_11
3639  1219  CD 00 00    	call	_ay_fx_play
3640  121C  18 0F       	jr	l_enemy_kill_00124
3641  121E              l_enemy_kill_00120:
3642  121E  CD 00 00    	call	_ay_reset
3643  1221  3A 00 00    	ld	a,(_game_bonus)
3644  1224  B7          	or	a, a
3645  1225  20 06       	jr	NZ,l_enemy_kill_00124
3646  1227  21 00 00    	ld	hl,_ay_effect_17
3647  122A  CD 00 00    	call	_ay_fx_play
3648  122D              l_enemy_kill_00124:
3649  122D  DD F9       	ld	sp, ix
3650  122F  DD E1       	pop	ix
3651  1231  C9          	ret
3652  1232              	SECTION IGNORE
3653  0000              
