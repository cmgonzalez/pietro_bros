1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _enemy_coin2
181   0000              	GLOBAL _enemy_coin1
182   0000              	GLOBAL _enemy_collition
183   0000              	GLOBAL _enemy_collition_check
184   0000              	GLOBAL _enemy_hit
185   0000              	GLOBAL _enemy_flip_change_dir
186   0000              	GLOBAL _enemy_flip
187   0000              	GLOBAL _enemy_flip_sidestepper
188   0000              	GLOBAL _enemy_turn
189   0000              	GLOBAL _enemy_standard
190   0000              	GLOBAL _enemy_slipice
191   0000              	GLOBAL _enemy_fireball_red
192   0000              	GLOBAL _enemy_fireball_green
193   0000              	GLOBAL _enemy_fighterfly
194   0000              	GLOBAL _enemy_trip
195   0000              	GLOBAL _enemy_standard_hit
196   0000              	GLOBAL _enemy_evolve
197   0000              	GLOBAL _enemy_upgrade
198   0000              	GLOBAL _enemy_walk
199   0000              	GLOBAL _enemy_init
200   0000              	GLOBAL _enemy_kill
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _zx_pattern_fill_callee
246   0000              	GLOBAL _zx_pattern_fill
247   0000              	GLOBAL _zx_saddrpup_fastcall
248   0000              	GLOBAL _zx_saddrpup
249   0000              	GLOBAL _zx_saddrpright_callee
250   0000              	GLOBAL _zx_saddrpright
251   0000              	GLOBAL _zx_saddrpleft_callee
252   0000              	GLOBAL _zx_saddrpleft
253   0000              	GLOBAL _zx_saddrpdown_fastcall
254   0000              	GLOBAL _zx_saddrpdown
255   0000              	GLOBAL _zx_saddrcup_fastcall
256   0000              	GLOBAL _zx_saddrcup
257   0000              	GLOBAL _zx_saddrcright_fastcall
258   0000              	GLOBAL _zx_saddrcright
259   0000              	GLOBAL _zx_saddrcleft_fastcall
260   0000              	GLOBAL _zx_saddrcleft
261   0000              	GLOBAL _zx_saddrcdown_fastcall
262   0000              	GLOBAL _zx_saddrcdown
263   0000              	GLOBAL _zx_saddr2py_fastcall
264   0000              	GLOBAL _zx_saddr2py
265   0000              	GLOBAL _zx_saddr2px_fastcall
266   0000              	GLOBAL _zx_saddr2px
267   0000              	GLOBAL _zx_saddr2cy_fastcall
268   0000              	GLOBAL _zx_saddr2cy
269   0000              	GLOBAL _zx_saddr2cx_fastcall
270   0000              	GLOBAL _zx_saddr2cx
271   0000              	GLOBAL _zx_saddr2aaddr_fastcall
272   0000              	GLOBAL _zx_saddr2aaddr
273   0000              	GLOBAL _zx_py2saddr_fastcall
274   0000              	GLOBAL _zx_py2saddr
275   0000              	GLOBAL _zx_py2aaddr_fastcall
276   0000              	GLOBAL _zx_py2aaddr
277   0000              	GLOBAL _zx_pxy2saddr_callee
278   0000              	GLOBAL _zx_pxy2saddr
279   0000              	GLOBAL _zx_pxy2aaddr_callee
280   0000              	GLOBAL _zx_pxy2aaddr
281   0000              	GLOBAL _zx_px2bitmask_fastcall
282   0000              	GLOBAL _zx_px2bitmask
283   0000              	GLOBAL _zx_cyx2saddr_callee
284   0000              	GLOBAL _zx_cyx2saddr
285   0000              	GLOBAL _zx_cyx2aaddr_callee
286   0000              	GLOBAL _zx_cyx2aaddr
287   0000              	GLOBAL _zx_cy2saddr_fastcall
288   0000              	GLOBAL _zx_cy2saddr
289   0000              	GLOBAL _zx_cy2aaddr_fastcall
290   0000              	GLOBAL _zx_cy2aaddr
291   0000              	GLOBAL _zx_bitmask2px_fastcall
292   0000              	GLOBAL _zx_bitmask2px
293   0000              	GLOBAL _zx_aaddrcup_fastcall
294   0000              	GLOBAL _zx_aaddrcup
295   0000              	GLOBAL _zx_aaddrcright_fastcall
296   0000              	GLOBAL _zx_aaddrcright
297   0000              	GLOBAL _zx_aaddrcleft_fastcall
298   0000              	GLOBAL _zx_aaddrcleft
299   0000              	GLOBAL _zx_aaddrcdown_fastcall
300   0000              	GLOBAL _zx_aaddrcdown
301   0000              	GLOBAL _zx_aaddr2saddr_fastcall
302   0000              	GLOBAL _zx_aaddr2saddr
303   0000              	GLOBAL _zx_aaddr2py_fastcall
304   0000              	GLOBAL _zx_aaddr2py
305   0000              	GLOBAL _zx_aaddr2px_fastcall
306   0000              	GLOBAL _zx_aaddr2px
307   0000              	GLOBAL _zx_aaddr2cy_fastcall
308   0000              	GLOBAL _zx_aaddr2cy
309   0000              	GLOBAL _zx_aaddr2cx_fastcall
310   0000              	GLOBAL _zx_aaddr2cx
311   0000              	GLOBAL _zx_scroll_wc_up_callee
312   0000              	GLOBAL _zx_scroll_wc_up
313   0000              	GLOBAL _zx_scroll_up_callee
314   0000              	GLOBAL _zx_scroll_up
315   0000              	GLOBAL _zx_cls_wc_callee
316   0000              	GLOBAL _zx_cls_wc
317   0000              	GLOBAL _zx_cls_fastcall
318   0000              	GLOBAL _zx_cls
319   0000              	GLOBAL _zx_border_fastcall
320   0000              	GLOBAL _zx_border
321   0000              	GLOBAL _sound_hit_pow
322   0000              	GLOBAL _sound_hit_brick
323   0000              	GLOBAL _sound_hit_enemy
324   0000              	GLOBAL _sound_kill
325   0000              	GLOBAL _sound_enter_enemy
326   0000              	GLOBAL _sound_coin
327   0000              	GLOBAL _sound_jump
328   0000              	GLOBAL _sound_slide
329   0000              	GLOBAL _spr_draw_clear
330   0000              	GLOBAL _spr_water_splash_draw
331   0000              	GLOBAL _spr_water_splash_clear
332   0000              	GLOBAL _spr_draw_back
333   0000              	GLOBAL _spr_cortina_pipes
334   0000              	GLOBAL _spr_cortina_brick
335   0000              	GLOBAL _spr_brick_anim
336   0000              	GLOBAL _spr_back_fix4
337   0000              	GLOBAL _spr_back_fix3
338   0000              	GLOBAL _spr_back_fix2
339   0000              	GLOBAL _spr_back_fix1
340   0000              	GLOBAL _spr_back_fix
341   0000              	GLOBAL _spr_back_clr
342   0000              	GLOBAL _spr_draw_pow
343   0000              	GLOBAL _spr_tile
344   0000              	GLOBAL _spr_set_fall
345   0000              	GLOBAL _spr_destroy
346   0000              	GLOBAL _spr_check_over
347   0000              	GLOBAL _spr_tile_dir
348   0000              	GLOBAL _spr_anim_kill
349   0000              	GLOBAL _spr_anim_fall
350   0000              	GLOBAL _spr_killed
351   0000              	GLOBAL _spr_redraw
352   0000              	GLOBAL _spr_move_left
353   0000              	GLOBAL _spr_move_right
354   0000              	GLOBAL _spr_move_horizontal
355   0000              	GLOBAL _spr_move_down
356   0000              	GLOBAL _spr_move_up
357   0000              	GLOBAL _spr_chktime
358   0000              	GLOBAL _player_move_horizontal
359   0000              	GLOBAL _player_push_check
360   0000              	GLOBAL _player_push
361   0000              	GLOBAL _player_hit_brick_clear
362   0000              	GLOBAL _player_lost_life
363   0000              	GLOBAL _player_score_add
364   0000              	GLOBAL _player_coin
365   0000              	GLOBAL _player_hit_pow
366   0000              	GLOBAL _player_hit_brick
367   0000              	GLOBAL _player_hit_slipice
368   0000              	GLOBAL _player_move_input
369   0000              	GLOBAL _player_turn
370   0000              	GLOBAL _player_move
371   0000              	GLOBAL _player_restart
372   0000              	GLOBAL _player_kill
373   0000              	GLOBAL _player_check_input
374   0000              	GLOBAL _player_collition_check
375   0000              	GLOBAL _player_collition
376   0000              	GLOBAL _player_calc_slide
377   0000              	GLOBAL _player_init
378   0000              	GLOBAL _game_hall_print_p
379   0000              	GLOBAL _game_hall_edit_p
380   0000              	GLOBAL _game_hall_check
381   0000              	GLOBAL _game_hall_enter_phs
382   0000              	GLOBAL _game_print_header
383   0000              	GLOBAL _game_end
384   0000              	GLOBAL _game_hall_enter
385   0000              	GLOBAL _game_hall_of_fame
386   0000              	GLOBAL _game_score_osd
387   0000              	GLOBAL _game_phase_print_score_back
388   0000              	GLOBAL _game_bonus_clock
389   0000              	GLOBAL _game_bonus_summary_player
390   0000              	GLOBAL _game_bonus_summary
391   0000              	GLOBAL _game_check_time
392   0000              	GLOBAL _game_menu_config
393   0000              	GLOBAL _game_menu
394   0000              	GLOBAL _game_rotate_attrib
395   0000              	GLOBAL _game_colour_message
396   0000              	GLOBAL _game_paint_attrib_lin_h
397   0000              	GLOBAL _game_paint_attrib_lin
398   0000              	GLOBAL _game_paint_attrib
399   0000              	GLOBAL _game_menu_handle
400   0000              	GLOBAL _game_menu_e
401   0000              	GLOBAL _game_menu_back
402   0000              	GLOBAL _game_print_score
403   0000              	GLOBAL _game_unfreeze_all
404   0000              	GLOBAL _game_freeze_all
405   0000              	GLOBAL _game_freeze
406   0000              	GLOBAL _game_enemy_add_get_index
407   0000              	GLOBAL _game_enemy_add1
408   0000              	GLOBAL _game_enemy_quota
409   0000              	GLOBAL _game_enemy_rnd
410   0000              	GLOBAL _game_enemy_add
411   0000              	GLOBAL _game_check_maze
412   0000              	GLOBAL _game_kill_all_sprites
413   0000              	GLOBAL _game_loop
414   0000              	GLOBAL _player_set2
415   0000              	GLOBAL _player_set1
416   0000              	GLOBAL _game_phase_print
417   0000              	GLOBAL _game_phase_init
418   0000              	GLOBAL _game_phase_calc
419   0000              	GLOBAL _game_start_timer
420   0000              	GLOBAL _game_tick
421   0000              	GLOBAL _game_print_lives
422   0000              	GLOBAL _game_print_footer
423   0000              	GLOBAL _game_calc_index
424   0000              	GLOBAL _game_fill_row
425   0000              	GLOBAL _ay_fx_play
426   0000              	GLOBAL _ay_midi_play
427   0000              	GLOBAL _ay_is_playing
428   0000              	GLOBAL _ay_reset
429   0000              	GLOBAL _in_mouse_kempston_wheel_delta
430   0000              	GLOBAL _in_mouse_kempston_wheel
431   0000              	GLOBAL _in_mouse_kempston_callee
432   0000              	GLOBAL _in_mouse_kempston
433   0000              	GLOBAL _in_mouse_kempston_setpos_callee
434   0000              	GLOBAL _in_mouse_kempston_setpos
435   0000              	GLOBAL _in_mouse_kempston_reset
436   0000              	GLOBAL _in_mouse_kempston_init
437   0000              	GLOBAL _in_mouse_amx_wheel_delta
438   0000              	GLOBAL _in_mouse_amx_wheel
439   0000              	GLOBAL _in_mouse_amx_callee
440   0000              	GLOBAL _in_mouse_amx
441   0000              	GLOBAL _in_mouse_amx_setpos_callee
442   0000              	GLOBAL _in_mouse_amx_setpos
443   0000              	GLOBAL _in_mouse_amx_reset
444   0000              	GLOBAL _in_mouse_amx_init_callee
445   0000              	GLOBAL _in_mouse_amx_init
446   0000              	GLOBAL _in_stick_sinclair2
447   0000              	GLOBAL _in_stick_sinclair1
448   0000              	GLOBAL _in_stick_kempston
449   0000              	GLOBAL _in_stick_fuller
450   0000              	GLOBAL _in_stick_cursor
451   0000              	GLOBAL _in_stick_keyboard_fastcall
452   0000              	GLOBAL _in_stick_keyboard
453   0000              	GLOBAL _in_wait_nokey
454   0000              	GLOBAL _in_wait_key
455   0000              	GLOBAL _in_test_key
456   0000              	GLOBAL _in_pause_fastcall
457   0000              	GLOBAL _in_pause
458   0000              	GLOBAL _in_key_scancode_fastcall
459   0000              	GLOBAL _in_key_scancode
460   0000              	GLOBAL _in_key_pressed_fastcall
461   0000              	GLOBAL _in_key_pressed
462   0000              	GLOBAL _in_inkey
463   0000              	GLOBAL _NIRVANAP_chars_fastcall
464   0000              	GLOBAL _NIRVANAP_chars
465   0000              	GLOBAL _NIRVANAP_wides_fastcall
466   0000              	GLOBAL _NIRVANAP_wides
467   0000              	GLOBAL _NIRVANAP_tiles_fastcall
468   0000              	GLOBAL _NIRVANAP_tiles
469   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
470   0000              	GLOBAL _NIRVANAP_drawW_raw
471   0000              	GLOBAL _NIRVANAP_drawW_callee
472   0000              	GLOBAL _NIRVANAP_drawW
473   0000              	GLOBAL _NIRVANAP_spriteT_callee
474   0000              	GLOBAL _NIRVANAP_spriteT
475   0000              	GLOBAL _NIRVANAP_fillC_callee
476   0000              	GLOBAL _NIRVANAP_fillC
477   0000              	GLOBAL _NIRVANAP_paintC_callee
478   0000              	GLOBAL _NIRVANAP_paintC
479   0000              	GLOBAL _NIRVANAP_printC_callee
480   0000              	GLOBAL _NIRVANAP_printC
481   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
482   0000              	GLOBAL _NIRVANAP_fillT_raw
483   0000              	GLOBAL _NIRVANAP_fillT_callee
484   0000              	GLOBAL _NIRVANAP_fillT
485   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
486   0000              	GLOBAL _NIRVANAP_drawT_raw
487   0000              	GLOBAL _NIRVANAP_drawT_callee
488   0000              	GLOBAL _NIRVANAP_drawT
489   0000              	GLOBAL _NIRVANAP_stop
490   0000              	GLOBAL _NIRVANAP_start
491   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
492   0000              	GLOBAL _intrinsic_swap_word_32
493   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
494   0000              	GLOBAL _intrinsic_swap_endian_32
495   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
496   0000              	GLOBAL _intrinsic_swap_endian_16
497   0000              	GLOBAL _intrinsic_return_de
498   0000              	GLOBAL _intrinsic_return_bc
499   0000              	GLOBAL _intrinsic_exx
500   0000              	GLOBAL _intrinsic_ex_de_hl
501   0000              	GLOBAL _intrinsic_pop_iy
502   0000              	GLOBAL _intrinsic_pop_ix
503   0000              	GLOBAL _intrinsic_pop_hl
504   0000              	GLOBAL _intrinsic_pop_de
505   0000              	GLOBAL _intrinsic_pop_bc
506   0000              	GLOBAL _intrinsic_pop_af
507   0000              	GLOBAL _intrinsic_push_iy
508   0000              	GLOBAL _intrinsic_push_ix
509   0000              	GLOBAL _intrinsic_push_hl
510   0000              	GLOBAL _intrinsic_push_de
511   0000              	GLOBAL _intrinsic_push_bc
512   0000              	GLOBAL _intrinsic_push_af
513   0000              	GLOBAL _intrinsic_nop
514   0000              	GLOBAL _intrinsic_im_2
515   0000              	GLOBAL _intrinsic_im_1
516   0000              	GLOBAL _intrinsic_im_0
517   0000              	GLOBAL _intrinsic_retn
518   0000              	GLOBAL _intrinsic_reti
519   0000              	GLOBAL _intrinsic_halt
520   0000              	GLOBAL _intrinsic_ei
521   0000              	GLOBAL _intrinsic_di
522   0000              	GLOBAL _intrinsic_stub
523   0000              	GLOBAL _ulltoa_callee
524   0000              	GLOBAL _ulltoa
525   0000              	GLOBAL _strtoull_callee
526   0000              	GLOBAL _strtoull
527   0000              	GLOBAL _strtoll_callee
528   0000              	GLOBAL _strtoll
529   0000              	GLOBAL _lltoa_callee
530   0000              	GLOBAL _lltoa
531   0000              	GLOBAL _llabs_callee
532   0000              	GLOBAL _llabs
533   0000              	GLOBAL __lldivu__callee
534   0000              	GLOBAL __lldivu_
535   0000              	GLOBAL __lldiv__callee
536   0000              	GLOBAL __lldiv_
537   0000              	GLOBAL _atoll_callee
538   0000              	GLOBAL _atoll
539   0000              	GLOBAL _realloc_unlocked_callee
540   0000              	GLOBAL _realloc_unlocked
541   0000              	GLOBAL _malloc_unlocked_fastcall
542   0000              	GLOBAL _malloc_unlocked
543   0000              	GLOBAL _free_unlocked_fastcall
544   0000              	GLOBAL _free_unlocked
545   0000              	GLOBAL _calloc_unlocked_callee
546   0000              	GLOBAL _calloc_unlocked
547   0000              	GLOBAL _aligned_alloc_unlocked_callee
548   0000              	GLOBAL _aligned_alloc_unlocked
549   0000              	GLOBAL _realloc_callee
550   0000              	GLOBAL _realloc
551   0000              	GLOBAL _malloc_fastcall
552   0000              	GLOBAL _malloc
553   0000              	GLOBAL _free_fastcall
554   0000              	GLOBAL _free
555   0000              	GLOBAL _calloc_callee
556   0000              	GLOBAL _calloc
557   0000              	GLOBAL _aligned_alloc_callee
558   0000              	GLOBAL _aligned_alloc
559   0000              	GLOBAL _utoa_callee
560   0000              	GLOBAL _utoa
561   0000              	GLOBAL _ultoa_callee
562   0000              	GLOBAL _ultoa
563   0000              	GLOBAL _system_fastcall
564   0000              	GLOBAL _system
565   0000              	GLOBAL _strtoul_callee
566   0000              	GLOBAL _strtoul
567   0000              	GLOBAL _strtol_callee
568   0000              	GLOBAL _strtol
569   0000              	GLOBAL _strtof_callee
570   0000              	GLOBAL _strtof
571   0000              	GLOBAL _strtod_callee
572   0000              	GLOBAL _strtod
573   0000              	GLOBAL _srand_fastcall
574   0000              	GLOBAL _srand
575   0000              	GLOBAL _rand
576   0000              	GLOBAL _quick_exit_fastcall
577   0000              	GLOBAL _quick_exit
578   0000              	GLOBAL _qsort_callee
579   0000              	GLOBAL _qsort
580   0000              	GLOBAL _ltoa_callee
581   0000              	GLOBAL _ltoa
582   0000              	GLOBAL _labs_fastcall
583   0000              	GLOBAL _labs
584   0000              	GLOBAL _itoa_callee
585   0000              	GLOBAL _itoa
586   0000              	GLOBAL _ftoh_callee
587   0000              	GLOBAL _ftoh
588   0000              	GLOBAL _ftog_callee
589   0000              	GLOBAL _ftog
590   0000              	GLOBAL _ftoe_callee
591   0000              	GLOBAL _ftoe
592   0000              	GLOBAL _ftoa_callee
593   0000              	GLOBAL _ftoa
594   0000              	GLOBAL _exit_fastcall
595   0000              	GLOBAL _exit
596   0000              	GLOBAL _dtoh_callee
597   0000              	GLOBAL _dtoh
598   0000              	GLOBAL _dtog_callee
599   0000              	GLOBAL _dtog
600   0000              	GLOBAL _dtoe_callee
601   0000              	GLOBAL _dtoe
602   0000              	GLOBAL _dtoa_callee
603   0000              	GLOBAL _dtoa
604   0000              	GLOBAL _bsearch_callee
605   0000              	GLOBAL _bsearch
606   0000              	GLOBAL _atol_fastcall
607   0000              	GLOBAL _atol
608   0000              	GLOBAL _atoi_fastcall
609   0000              	GLOBAL _atoi
610   0000              	GLOBAL _atof_fastcall
611   0000              	GLOBAL _atof
612   0000              	GLOBAL _atexit_fastcall
613   0000              	GLOBAL _atexit
614   0000              	GLOBAL _at_quick_exit_fastcall
615   0000              	GLOBAL _at_quick_exit
616   0000              	GLOBAL _abs_fastcall
617   0000              	GLOBAL _abs
618   0000              	GLOBAL _abort
619   0000              	GLOBAL __strtou__callee
620   0000              	GLOBAL __strtou_
621   0000              	GLOBAL __strtoi__callee
622   0000              	GLOBAL __strtoi_
623   0000              	GLOBAL __random_uniform_xor_8__fastcall
624   0000              	GLOBAL __random_uniform_xor_8_
625   0000              	GLOBAL __random_uniform_xor_32__fastcall
626   0000              	GLOBAL __random_uniform_xor_32_
627   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
628   0000              	GLOBAL __random_uniform_cmwc_8_
629   0000              	GLOBAL __shellsort__callee
630   0000              	GLOBAL __shellsort_
631   0000              	GLOBAL __quicksort__callee
632   0000              	GLOBAL __quicksort_
633   0000              	GLOBAL __insertion_sort__callee
634   0000              	GLOBAL __insertion_sort_
635   0000              	GLOBAL __ldivu__callee
636   0000              	GLOBAL __ldivu_
637   0000              	GLOBAL __ldiv__callee
638   0000              	GLOBAL __ldiv_
639   0000              	GLOBAL __divu__callee
640   0000              	GLOBAL __divu_
641   0000              	GLOBAL __div__callee
642   0000              	GLOBAL __div_
643   0000              	GLOBAL _ay_effect_20
644   0000              	GLOBAL _ay_effect_19
645   0000              	GLOBAL _ay_effect_18
646   0000              	GLOBAL _ay_effect_17
647   0000              	GLOBAL _ay_effect_16
648   0000              	GLOBAL _ay_effect_15
649   0000              	GLOBAL _ay_effect_14
650   0000              	GLOBAL _ay_effect_13
651   0000              	GLOBAL _ay_effect_12
652   0000              	GLOBAL _ay_effect_11
653   0000              	GLOBAL _ay_effect_10
654   0000              	GLOBAL _ay_effect_09
655   0000              	GLOBAL _ay_effect_08
656   0000              	GLOBAL _ay_effect_07
657   0000              	GLOBAL _ay_effect_06
658   0000              	GLOBAL _ay_effect_05
659   0000              	GLOBAL _ay_effect_04
660   0000              	GLOBAL _ay_effect_03
661   0000              	GLOBAL _ay_effect_02
662   0000              	GLOBAL _ay_effect_01
663   0000              	GLOBAL _pb_midi_phase_1
664   0000              	GLOBAL _pb_midi_title
665   0000              	GLOBAL _initials
666   0000              	GLOBAL _hof
667   0000              	GLOBAL _score_osd_tile
668   0000              	GLOBAL _score_osd_time
669   0000              	GLOBAL _score_osd_col
670   0000              	GLOBAL _score_osd_lin
671   0000              	GLOBAL _phase_bonus_total
672   0000              	GLOBAL _phase_angry
673   0000              	GLOBAL _phase_curr
674   0000              	GLOBAL _phase_end
675   0000              	GLOBAL _phase_coins
676   0000              	GLOBAL _phase_pop
677   0000              	GLOBAL _phase_tot
678   0000              	GLOBAL _phase_left
679   0000              	GLOBAL _phase_quota
680   0000              	GLOBAL _phases
681   0000              	GLOBAL _spr_idx
682   0000              	GLOBAL _lvl_1
683   0000              	GLOBAL _sprite_speed_alt
684   0000              	GLOBAL _sprite_speed
685   0000              	GLOBAL _screen_ink
686   0000              	GLOBAL _screen_paper
687   0000              	GLOBAL _game_menu_sel
688   0000              	GLOBAL _game_type
689   0000              	GLOBAL _game_bonus
690   0000              	GLOBAL _spr_water_time
691   0000              	GLOBAL _spr_water_clear
692   0000              	GLOBAL _game_time_fireball_start
693   0000              	GLOBAL _game_time_flipped
694   0000              	GLOBAL _game_score_top
695   0000              	GLOBAL _game_lives_update
696   0000              	GLOBAL _game_lives
697   0000              	GLOBAL _game_over
698   0000              	GLOBAL _game_sound
699   0000              	GLOBAL _game_two_player
700   0000              	GLOBAL _game_brick_tile
701   0000              	GLOBAL _game_pow
702   0000              	GLOBAL _spr_count
703   0000              	GLOBAL _frame_loop_count
704   0000              	GLOBAL _col_time
705   0000              	GLOBAL _frame_time
706   0000              	GLOBAL _entry_time
707   0000              	GLOBAL _curr_time
708   0000              	GLOBAL _s_state
709   0000              	GLOBAL _attrib_hl
710   0000              	GLOBAL _attrib
711   0000              	GLOBAL _zx_val_asm
712   0000              	GLOBAL _enemies
713   0000              	GLOBAL _tmp_ui
714   0000              	GLOBAL _tmp_sc
715   0000              	GLOBAL _tmp_uc
716   0000              	GLOBAL _tmp1
717   0000              	GLOBAL _tmp0
718   0000              	GLOBAL _tmp
719   0000              	GLOBAL _index_d
720   0000              	GLOBAL _index3
721   0000              	GLOBAL _index2
722   0000              	GLOBAL _index1
723   0000              	GLOBAL _loop_count
724   0000              	GLOBAL _s_col1
725   0000              	GLOBAL _s_col0
726   0000              	GLOBAL _s_lin1
727   0000              	GLOBAL _s_lin0
728   0000              	GLOBAL _s_tile1
729   0000              	GLOBAL _s_tile0
730   0000              	GLOBAL _hit_count
731   0000              	GLOBAL _tile_offset_other_player
732   0000              	GLOBAL _tile_offset
733   0000              	GLOBAL _index_player
734   0000              	GLOBAL _sprite_other_player
735   0000              	GLOBAL _sprite
736   0000              	GLOBAL _player_next_extra
737   0000              	GLOBAL _player_score
738   0000              	GLOBAL _last_time
739   0000              	GLOBAL _sliding
740   0000              	GLOBAL _spr_timer_c
741   0000              	GLOBAL _spr_timer
742   0000              	GLOBAL _jump_lin
743   0000              	GLOBAL _hit_col
744   0000              	GLOBAL _hit_lin
745   0000              	GLOBAL _colint
746   0000              	GLOBAL _col
747   0000              	GLOBAL _lin
748   0000              	GLOBAL _tile
749   0000              	GLOBAL _state_a
750   0000              	GLOBAL _state
751   0000              	GLOBAL _class
752   0000              	GLOBAL _tbuffer
753   0000              	GLOBAL _dirs
754   0000              	GLOBAL _k2
755   0000              	GLOBAL _k1
756   0000              	GLOBAL _joyfunc2
757   0000              	GLOBAL _joyfunc1
758   0000              	GLOBAL _joynames
759   0000              	GLOBAL _btiles
760   0000              	GLOBAL _spec128
761   0000              	GLOBAL _hall_valids
762   0000              ;--------------------------------------------------------
763   0000              ; special function registers
764   0000              ;--------------------------------------------------------
765   0000              ;--------------------------------------------------------
766   0000              ; ram data
767   0000              ;--------------------------------------------------------
768   0000              	SECTION bss_compiler
769   0000              defc _NIRVANAP_isr	=	0xf5d2
770   0000              ;--------------------------------------------------------
771   0000              ; ram data
772   0000              ;--------------------------------------------------------
773   0000              
774   0000              IF 0
775   0000              
776   0000              ; .area _INITIALIZED removed by z88dk
777   0000              
778   0000              
779   0000              ENDIF
780   0000              
781   0000              ;--------------------------------------------------------
782   0000              ; absolute external ram data
783   0000              ;--------------------------------------------------------
784   0000              	SECTION IGNORE
785   0000              ;--------------------------------------------------------
786   0000              ; global & static initialisations
787   0000              ;--------------------------------------------------------
788   0000              	SECTION code_crt_init
789   0000              ;--------------------------------------------------------
790   0000              ; Home
791   0000              ;--------------------------------------------------------
792   0000              	SECTION IGNORE
793   0000              ;--------------------------------------------------------
794   0000              ; code
795   0000              ;--------------------------------------------------------
796   0000              	SECTION code_compiler
797   0000              ;	---------------------------------
798   0000              ; Function enemy_coin1
799   0000              ; ---------------------------------
800   0000              _enemy_coin1:
801   0000  3A 00 00    	ld	a,(_phase_left)
802   0003  B7          	or	a, a
803   0004  28 2F       	jr	Z,l_enemy_coin1_00107
804   0006  CD 68 0D    	call	_enemy_walk
805   0009  2A 00 00    	ld	hl,(_sprite)
806   000C  26 00       	ld	h,0x00
807   000E  01 00 00    	ld	bc,_lin
808   0011  09          	add	hl,bc
809   0012  7E          	ld	a,(hl)
810   0013  D6 98       	sub	a,0x98
811   0015  20 1E       	jr	NZ,l_enemy_coin1_00107
812   0017  3A 00 00    	ld	a,(_sprite)
813   001A  4F          	ld	c,a
814   001B  06 00       	ld	b,0x00
815   001D  21 00 00    	ld	hl,_col
816   0020  09          	add	hl,bc
817   0021  7E          	ld	a,(hl)
818   0022  4F          	ld	c,a
819   0023  D6 03       	sub	a,0x03
820   0025  28 05       	jr	Z,l_enemy_coin1_00101
821   0027  79          	ld	a,c
822   0028  D6 1B       	sub	a,0x1b
823   002A  20 09       	jr	NZ,l_enemy_coin1_00107
824   002C              l_enemy_coin1_00101:
825   002C  3A 00 00    	ld	a,(_sprite)
826   002F  F5          	push	af
827   0030  33          	inc	sp
828   0031  CD 00 00    	call	_spr_destroy
829   0034  33          	inc	sp
830   0035              l_enemy_coin1_00107:
831   0035  C9          	ret
832   0036              ;	---------------------------------
833   0036              ; Function enemy_coin2
834   0036              ; ---------------------------------
835   0036              _enemy_coin2:
836   0036  01 00 00    	ld	bc,_colint+0
837   0039  79          	ld	a,c
838   003A  21 00 00    	ld	hl,_sprite
839   003D  86          	add	a, (hl)
840   003E  5F          	ld	e,a
841   003F  78          	ld	a,b
842   0040  CE 00       	adc	a,0x00
843   0042  57          	ld	d,a
844   0043  1A          	ld	a,(de)
845   0044  3C          	inc	a
846   0045  12          	ld	(de),a
847   0046  79          	ld	a,c
848   0047  86          	add	a, (hl)
849   0048  4F          	ld	c,a
850   0049  78          	ld	a,b
851   004A  CE 00       	adc	a,0x00
852   004C  47          	ld	b,a
853   004D  0A          	ld	a,(bc)
854   004E  D6 03       	sub	a,0x03
855   0050  C0          	ret	NZ
856   0051  AF          	xor	a, a
857   0052  02          	ld	(bc),a
858   0053  C9          	ret
859   0054              ;	---------------------------------
860   0054              ; Function enemy_collition
861   0054              ; ---------------------------------
862   0054              _enemy_collition:
863   0054  CD 00 00    	call	___sdcc_enter_ix
864   0057  3B          	dec	sp
865   0058  21 00 00    	ld	hl,_enemies
866   005B  36 00       	ld	(hl),0x00
867   005D              l_enemy_collition_00113:
868   005D  CD 88 01    	call	_enemy_collition_check
869   0060  7D          	ld	a,l
870   0061  B7          	or	a, a
871   0062  CA 79 01    	jp	Z,l_enemy_collition_00114
872   0065  3A 00 00    	ld	a,(_enemies)
873   0068  C6 00       	add	a,+((_state) & 0xFF)
874   006A  4F          	ld	c,a
875   006B  3E 00       	ld	a,+((_state) / 256)
876   006D  CE 00       	adc	a,0x00
877   006F  47          	ld	b,a
878   0070  0A          	ld	a,(bc)
879   0071  DD 77 FF    	ld	(ix-1),a
880   0074  CB 67       	bit	4,a
881   0076  C2 0C 01    	jp	NZ,l_enemy_collition_00104
882   0079  21 00 00    	ld	hl,_s_state
883   007C  7E          	ld	a,(hl)
884   007D  E6 08       	and	a,0x08
885   007F  5F          	ld	e,a
886   0080  DD 7E FF    	ld	a,(ix-1)
887   0083  E6 08       	and	a,0x08
888   0085  57          	ld	d,a
889   0086  7B          	ld	a,e
890   0087  92          	sub	a, d
891   0088  CA 0C 01    	jp	Z,l_enemy_collition_00104
892   008B  7E          	ld	a,(hl)
893   008C  E6 04       	and	a,0x04
894   008E  5F          	ld	e,a
895   008F  DD 7E FF    	ld	a,(ix-1)
896   0092  E6 04       	and	a,0x04
897   0094  57          	ld	d,a
898   0095  7B          	ld	a,e
899   0096  92          	sub	a, d
900   0097  28 73       	jr	Z,l_enemy_collition_00104
901   0099  2A 00 00    	ld	hl,(_sprite)
902   009C  26 00       	ld	h,0x00
903   009E  11 00 00    	ld	de,_class
904   00A1  19          	add	hl,de
905   00A2  7E          	ld	a,(hl)
906   00A3  D6 08       	sub	a,0x08
907   00A5  28 65       	jr	Z,l_enemy_collition_00104
908   00A7  DD 7E FF    	ld	a,(ix-1)
909   00AA  EE 04       	xor	a,0x04
910   00AC  02          	ld	(bc),a
911   00AD  2A 00 00    	ld	hl,(_enemies)
912   00B0  26 00       	ld	h,0x00
913   00B2  01 00 00    	ld	bc,_state
914   00B5  09          	add	hl,bc
915   00B6  7E          	ld	a,(hl)
916   00B7  EE 08       	xor	a,0x08
917   00B9  77          	ld	(hl),a
918   00BA  2A 00 00    	ld	hl,(_enemies)
919   00BD  26 00       	ld	h,0x00
920   00BF  01 00 00    	ld	bc,_class
921   00C2  09          	add	hl,bc
922   00C3  4E          	ld	c,(hl)
923   00C4  3E 06       	ld	a,0x06
924   00C6  91          	sub	a,c
925   00C7  38 43       	jr	C,l_enemy_collition_00104
926   00C9  3E 00       	ld	a,+((_state_a) & 0xFF)
927   00CB  21 00 00    	ld	hl,_enemies
928   00CE  86          	add	a, (hl)
929   00CF  4F          	ld	c,a
930   00D0  3E 00       	ld	a,+((_state_a) / 256)
931   00D2  CE 00       	adc	a,0x00
932   00D4  47          	ld	b,a
933   00D5  0A          	ld	a,(bc)
934   00D6  CB CF       	set	1, a
935   00D8  02          	ld	(bc),a
936   00D9  6E          	ld	l,(hl)
937   00DA  26 00       	ld	h,0x00
938   00DC  29          	add	hl,hl
939   00DD  01 00 00    	ld	bc,_spr_timer
940   00E0  09          	add	hl,bc
941   00E1  ED 5B 00 00 	ld	de,(_curr_time)
942   00E5  73          	ld	(hl),e
943   00E6  23          	inc	hl
944   00E7  72          	ld	(hl),d
945   00E8  3E 00       	ld	a,+((_tile) & 0xFF)
946   00EA  21 00 00    	ld	hl,_enemies
947   00ED  86          	add	a, (hl)
948   00EE  4F          	ld	c,a
949   00EF  3E 00       	ld	a,+((_tile) / 256)
950   00F1  CE 00       	adc	a,0x00
951   00F3  47          	ld	b,a
952   00F4  7E          	ld	a,(hl)
953   00F5  C5          	push	bc
954   00F6  F5          	push	af
955   00F7  33          	inc	sp
956   00F8  CD 00 00    	call	_spr_tile
957   00FB  33          	inc	sp
958   00FC  C1          	pop	bc
959   00FD  7D          	ld	a, l
960   00FE  02          	ld	(bc),a
961   00FF  3A 00 00    	ld	a,(_enemies)
962   0102  C6 00       	add	a,+((_colint) & 0xFF)
963   0104  4F          	ld	c,a
964   0105  3E 00       	ld	a,+((_colint) / 256)
965   0107  CE 00       	adc	a,0x00
966   0109  47          	ld	b,a
967   010A  AF          	xor	a, a
968   010B  02          	ld	(bc),a
969   010C              l_enemy_collition_00104:
970   010C  21 00 00    	ld	hl,_s_state
971   010F  7E          	ld	a,(hl)
972   0110  EE 0C       	xor	a,+(0x04^0x08)
973   0112  77          	ld	(hl),a
974   0113  2A 00 00    	ld	hl,(_sprite)
975   0116  26 00       	ld	h,0x00
976   0118  01 00 00    	ld	bc,_class
977   011B  09          	add	hl,bc
978   011C  4E          	ld	c,(hl)
979   011D  3E 06       	ld	a,0x06
980   011F  91          	sub	a,c
981   0120  38 41       	jr	C,l_enemy_collition_00109
982   0122  3E 00       	ld	a,+((_state_a) & 0xFF)
983   0124  21 00 00    	ld	hl,_sprite
984   0127  86          	add	a, (hl)
985   0128  4F          	ld	c,a
986   0129  3E 00       	ld	a,+((_state_a) / 256)
987   012B  CE 00       	adc	a,0x00
988   012D  47          	ld	b,a
989   012E  0A          	ld	a,(bc)
990   012F  CB CF       	set	1, a
991   0131  02          	ld	(bc),a
992   0132  3E 00       	ld	a,+((_state) & 0xFF)
993   0134  86          	add	a, (hl)
994   0135  4F          	ld	c,a
995   0136  3E 00       	ld	a,+((_state) / 256)
996   0138  CE 00       	adc	a,0x00
997   013A  47          	ld	b,a
998   013B  3A 00 00    	ld	a,(_s_state)
999   013E  02          	ld	(bc),a
1000  013F  3E 00       	ld	a,+((_tile) & 0xFF)
1001  0141  21 00 00    	ld	hl,_sprite
1002  0144  86          	add	a, (hl)
1003  0145  4F          	ld	c,a
1004  0146  3E 00       	ld	a,+((_tile) / 256)
1005  0148  CE 00       	adc	a,0x00
1006  014A  47          	ld	b,a
1007  014B  7E          	ld	a,(hl)
1008  014C  C5          	push	bc
1009  014D  F5          	push	af
1010  014E  33          	inc	sp
1011  014F  CD 00 00    	call	_spr_tile
1012  0152  33          	inc	sp
1013  0153  C1          	pop	bc
1014  0154  7D          	ld	a, l
1015  0155  02          	ld	(bc),a
1016  0156  3A 00 00    	ld	a,(_sprite)
1017  0159  C6 00       	add	a,+((_colint) & 0xFF)
1018  015B  4F          	ld	c,a
1019  015C  3E 00       	ld	a,+((_colint) / 256)
1020  015E  CE 00       	adc	a,0x00
1021  0160  47          	ld	b,a
1022  0161  AF          	xor	a, a
1023  0162  02          	ld	(bc),a
1024  0163              l_enemy_collition_00109:
1025  0163  2A 00 00    	ld	hl,(_sprite)
1026  0166  26 00       	ld	h,0x00
1027  0168  29          	add	hl,hl
1028  0169  01 00 00    	ld	bc,_spr_timer
1029  016C  09          	add	hl,bc
1030  016D  ED 5B 00 00 	ld	de,(_curr_time)
1031  0171  73          	ld	(hl),e
1032  0172  23          	inc	hl
1033  0173  72          	ld	(hl),d
1034  0174  21 00 00    	ld	hl,_enemies
1035  0177  36 06       	ld	(hl),0x06
1036  0179              l_enemy_collition_00114:
1037  0179  21 00 00    	ld	hl,_enemies
1038  017C  7E          	ld	a,(hl)
1039  017D  3C          	inc	a
1040  017E  77          	ld	(hl),a
1041  017F  D6 06       	sub	a,0x06
1042  0181  DA 5D 00    	jp	C,l_enemy_collition_00113
1043  0184  33          	inc	sp
1044  0185  DD E1       	pop	ix
1045  0187  C9          	ret
1046  0188              ;	---------------------------------
1047  0188              ; Function enemy_collition_check
1048  0188              ; ---------------------------------
1049  0188              _enemy_collition_check:
1050  0188  2A 00 00    	ld	hl,(_enemies)
1051  018B  26 00       	ld	h,0x00
1052  018D  01 00 00    	ld	bc,_class
1053  0190  09          	add	hl,bc
1054  0191  7E          	ld	a,(hl)
1055  0192  4F          	ld	c,a
1056  0193  B7          	or	a,a
1057  0194  20 04       	jr	NZ,l_enemy_collition_check_00102
1058  0196  6F          	ld	l,a
1059  0197  C3 6F 02    	jp	l_enemy_collition_check_00125
1060  019A              l_enemy_collition_check_00102:
1061  019A  3E 09       	ld	a,0x09
1062  019C  91          	sub	a, c
1063  019D  30 05       	jr	NC,l_enemy_collition_check_00104
1064  019F  2E 00       	ld	l,0x00
1065  01A1  C3 6F 02    	jp	l_enemy_collition_check_00125
1066  01A4              l_enemy_collition_check_00104:
1067  01A4  3A 00 00    	ld	a,(_enemies)
1068  01A7  21 00 00    	ld	hl,_sprite
1069  01AA  96          	sub	a,(hl)
1070  01AB  20 04       	jr	NZ,l_enemy_collition_check_00106
1071  01AD  6F          	ld	l,a
1072  01AE  C3 6F 02    	jp	l_enemy_collition_check_00125
1073  01B1              l_enemy_collition_check_00106:
1074  01B1  3A 00 00    	ld	a,(_sprite)
1075  01B4  C6 00       	add	a,+((_state) & 0xFF)
1076  01B6  4F          	ld	c,a
1077  01B7  3E 00       	ld	a,+((_state) / 256)
1078  01B9  CE 00       	adc	a,0x00
1079  01BB  47          	ld	b,a
1080  01BC  0A          	ld	a,(bc)
1081  01BD  CB 67       	bit	4, a
1082  01BF  28 05       	jr	Z,l_enemy_collition_check_00108
1083  01C1  2E 00       	ld	l,0x00
1084  01C3  C3 6F 02    	jp	l_enemy_collition_check_00125
1085  01C6              l_enemy_collition_check_00108:
1086  01C6  CB 6F       	bit	5, a
1087  01C8  28 05       	jr	Z,l_enemy_collition_check_00110
1088  01CA  2E 00       	ld	l,0x00
1089  01CC  C3 6F 02    	jp	l_enemy_collition_check_00125
1090  01CF              l_enemy_collition_check_00110:
1091  01CF  3A 00 00    	ld	a,(_sprite)
1092  01D2  C6 00       	add	a,+((_state_a) & 0xFF)
1093  01D4  4F          	ld	c,a
1094  01D5  3E 00       	ld	a,+((_state_a) / 256)
1095  01D7  CE 00       	adc	a,0x00
1096  01D9  47          	ld	b,a
1097  01DA  0A          	ld	a,(bc)
1098  01DB  CB 4F       	bit	1, a
1099  01DD  28 05       	jr	Z,l_enemy_collition_check_00112
1100  01DF  2E 00       	ld	l,0x00
1101  01E1  C3 6F 02    	jp	l_enemy_collition_check_00125
1102  01E4              l_enemy_collition_check_00112:
1103  01E4  3A 00 00    	ld	a,(_enemies)
1104  01E7  C6 00       	add	a,+((_state) & 0xFF)
1105  01E9  4F          	ld	c,a
1106  01EA  3E 00       	ld	a,+((_state) / 256)
1107  01EC  CE 00       	adc	a,0x00
1108  01EE  47          	ld	b,a
1109  01EF  0A          	ld	a,(bc)
1110  01F0  CB 6F       	bit	5, a
1111  01F2  28 05       	jr	Z,l_enemy_collition_check_00114
1112  01F4  2E 00       	ld	l,0x00
1113  01F6  C3 6F 02    	jp	l_enemy_collition_check_00125
1114  01F9              l_enemy_collition_check_00114:
1115  01F9  CB 4F       	bit	1, a
1116  01FB  28 04       	jr	Z,l_enemy_collition_check_00116
1117  01FD  2E 00       	ld	l,0x00
1118  01FF  18 6E       	jr	l_enemy_collition_check_00125
1119  0201              l_enemy_collition_check_00116:
1120  0201  01 00 00    	ld	bc,_lin+0
1121  0204  2A 00 00    	ld	hl,(_enemies)
1122  0207  26 00       	ld	h,0x00
1123  0209  09          	add	hl,bc
1124  020A  6E          	ld	l, (hl)
1125  020B  26 00       	ld	h,0x00
1126  020D  EB          	ex	de,hl
1127  020E  2A 00 00    	ld	hl,(_sprite)
1128  0211  62          	ld	h,d
1129  0212  09          	add	hl,bc
1130  0213  4E          	ld	c, (hl)
1131  0214  AF          	xor	a,a
1132  0215  47          	ld	b,a
1133  0216  EB          	ex	de,hl
1134  0217  ED 42       	sbc	hl,bc
1135  0219  CD 00 00    	call	_abs_fastcall
1136  021C  22 00 00    	ld	(_tmp_ui),hl
1137  021F  7D          	ld	a,l
1138  0220  D6 10       	sub	a,0x10
1139  0222  7C          	ld	a,h
1140  0223  DE 00       	sbc	a,0x00
1141  0225  38 04       	jr	C,l_enemy_collition_check_00118
1142  0227  2E 00       	ld	l,0x00
1143  0229  18 44       	jr	l_enemy_collition_check_00125
1144  022B              l_enemy_collition_check_00118:
1145  022B  01 00 00    	ld	bc,_col+0
1146  022E  2A 00 00    	ld	hl,(_sprite)
1147  0231  26 00       	ld	h,0x00
1148  0233  09          	add	hl,bc
1149  0234  6E          	ld	l, (hl)
1150  0235  EB          	ex	de,hl
1151  0236  2A 00 00    	ld	hl,(_enemies)
1152  0239  26 00       	ld	h,0x00
1153  023B  09          	add	hl,bc
1154  023C  4E          	ld	c, (hl)
1155  023D  7B          	ld	a,e
1156  023E  91          	sub	a, c
1157  023F  32 00 00    	ld	(_tmp_sc),a
1158  0242  3A 00 00    	ld	a,(_sprite)
1159  0245  C6 00       	add	a,+((_state) & 0xFF)
1160  0247  4F          	ld	c,a
1161  0248  3E 00       	ld	a,+((_state) / 256)
1162  024A  CE 00       	adc	a,0x00
1163  024C  47          	ld	b,a
1164  024D  3A 00 00    	ld	a,(_tmp_sc)
1165  0250  D6 FE       	sub	a,0xfe
1166  0252  20 09       	jr	NZ,l_enemy_collition_check_00120
1167  0254  0A          	ld	a,(bc)
1168  0255  CB 57       	bit	2, a
1169  0257  28 04       	jr	Z,l_enemy_collition_check_00120
1170  0259  2E 01       	ld	l,0x01
1171  025B  18 12       	jr	l_enemy_collition_check_00125
1172  025D              l_enemy_collition_check_00120:
1173  025D  3A 00 00    	ld	a,(_tmp_sc)
1174  0260  D6 02       	sub	a,0x02
1175  0262  20 09       	jr	NZ,l_enemy_collition_check_00123
1176  0264  0A          	ld	a,(bc)
1177  0265  CB 5F       	bit	3, a
1178  0267  28 04       	jr	Z,l_enemy_collition_check_00123
1179  0269  2E 01       	ld	l,0x01
1180  026B  18 02       	jr	l_enemy_collition_check_00125
1181  026D              l_enemy_collition_check_00123:
1182  026D  2E 00       	ld	l,0x00
1183  026F              l_enemy_collition_check_00125:
1184  026F  C9          	ret
1185  0270              ;	---------------------------------
1186  0270              ; Function enemy_hit
1187  0270              ; ---------------------------------
1188  0270              _enemy_hit:
1189  0270  76          	halt
1190  0271  2A 00 00    	ld	hl,(_enemies)
1191  0274  26 00       	ld	h,0x00
1192  0276  5D          	ld	e,l
1193  0277  01 00 00    	ld	bc,_col
1194  027A  09          	add	hl,bc
1195  027B  46          	ld	b,(hl)
1196  027C  16 00       	ld	d,0x00
1197  027E  21 00 00    	ld	hl,_lin
1198  0281  19          	add	hl,de
1199  0282  4E          	ld	c, (hl)
1200  0283  C5          	push	bc
1201  0284  AF          	xor	a, a
1202  0285  F5          	push	af
1203  0286  33          	inc	sp
1204  0287  CD 00 00    	call	_NIRVANAP_fillT_callee
1205  028A  2A 00 00    	ld	hl,(_enemies)
1206  028D  26 00       	ld	h,0x00
1207  028F  01 00 00    	ld	bc,_lin
1208  0292  09          	add	hl,bc
1209  0293  7E          	ld	a,(hl)
1210  0294  C6 FC       	add	a,0xfc
1211  0296  77          	ld	(hl),a
1212  0297  3E 00       	ld	a,+((_col) & 0xFF)
1213  0299  21 00 00    	ld	hl,_enemies
1214  029C  86          	add	a, (hl)
1215  029D  4F          	ld	c,a
1216  029E  3E 00       	ld	a,+((_col) / 256)
1217  02A0  CE 00       	adc	a,0x00
1218  02A2  47          	ld	b,a
1219  02A3  0A          	ld	a,(bc)
1220  02A4  4F          	ld	c,a
1221  02A5  3E 00       	ld	a,+((_lin) & 0xFF)
1222  02A7  86          	add	a, (hl)
1223  02A8  5F          	ld	e,a
1224  02A9  3E 00       	ld	a,+((_lin) / 256)
1225  02AB  CE 00       	adc	a,0x00
1226  02AD  57          	ld	d,a
1227  02AE  1A          	ld	a,(de)
1228  02AF  47          	ld	b,a
1229  02B0  3E 00       	ld	a,+((_tile) & 0xFF)
1230  02B2  86          	add	a, (hl)
1231  02B3  5F          	ld	e,a
1232  02B4  3E 00       	ld	a,+((_tile) / 256)
1233  02B6  CE 00       	adc	a,0x00
1234  02B8  57          	ld	d,a
1235  02B9  1A          	ld	a,(de)
1236  02BA  57          	ld	d,a
1237  02BB  79          	ld	a,c
1238  02BC  F5          	push	af
1239  02BD  33          	inc	sp
1240  02BE  4A          	ld	c, d
1241  02BF  7E          	ld	a,(hl)
1242  02C0  C5          	push	bc
1243  02C1  F5          	push	af
1244  02C2  33          	inc	sp
1245  02C3  CD 00 00    	call	_NIRVANAP_spriteT_callee
1246  02C6  2A 00 00    	ld	hl,(_enemies)
1247  02C9  26 00       	ld	h,0x00
1248  02CB  01 00 00    	ld	bc,_state_a
1249  02CE  09          	add	hl,bc
1250  02CF  7E          	ld	a,(hl)
1251  02D0  E6 FD       	and	a,0xfd
1252  02D2  77          	ld	(hl),a
1253  02D3  01 00 00    	ld	bc,_spr_timer+0
1254  02D6  2A 00 00    	ld	hl,(_enemies)
1255  02D9  26 00       	ld	h,0x00
1256  02DB  29          	add	hl, hl
1257  02DC  09          	add	hl,bc
1258  02DD  ED 5B 00 00 	ld	de,(_curr_time)
1259  02E1  73          	ld	(hl),e
1260  02E2  23          	inc	hl
1261  02E3  72          	ld	(hl),d
1262  02E4  3A 00 00    	ld	a,(_enemies)
1263  02E7  C6 00       	add	a,+((_class) & 0xFF)
1264  02E9  4F          	ld	c,a
1265  02EA  3E 00       	ld	a,+((_class) / 256)
1266  02EC  CE 00       	adc	a,0x00
1267  02EE  47          	ld	b,a
1268  02EF  0A          	ld	a,(bc)
1269  02F0  5F          	ld	e,a
1270  02F1  D6 01       	sub	a,0x01
1271  02F3  DA A1 03    	jp	C,l_enemy_hit_00113
1272  02F6  3E 0B       	ld	a,0x0b
1273  02F8  93          	sub	a, e
1274  02F9  DA A1 03    	jp	C,l_enemy_hit_00113
1275  02FC  1D          	dec	e
1276  02FD  16 00       	ld	d,0x00
1277  02FF  21 06 03    	ld	hl,l_enemy_hit_00123
1278  0302  19          	add	hl,de
1279  0303  19          	add	hl,de
1280  0304  19          	add	hl,de
1281  0305  E9          	jp	(hl)
1282  0306              l_enemy_hit_00123:
1283  0306  C3 27 03    	jp	l_enemy_hit_00101
1284  0309  C3 31 03    	jp	l_enemy_hit_00102
1285  030C  C3 3B 03    	jp	l_enemy_hit_00103
1286  030F  C3 45 03    	jp	l_enemy_hit_00104
1287  0312  C3 4F 03    	jp	l_enemy_hit_00105
1288  0315  C3 59 03    	jp	l_enemy_hit_00106
1289  0318  C3 6D 03    	jp	l_enemy_hit_00108
1290  031B  C3 79 03    	jp	l_enemy_hit_00109
1291  031E  C3 63 03    	jp	l_enemy_hit_00107
1292  0321  C3 8B 03    	jp	l_enemy_hit_00110
1293  0324  C3 97 03    	jp	l_enemy_hit_00111
1294  0327              l_enemy_hit_00101:
1295  0327  21 30 00    	ld	hl,0x0030
1296  032A  E5          	push	hl
1297  032B  CD 97 04    	call	_enemy_flip
1298  032E  F1          	pop	af
1299  032F  18 70       	jr	l_enemy_hit_00113
1300  0331              l_enemy_hit_00102:
1301  0331  21 3C 00    	ld	hl,0x003c
1302  0334  E5          	push	hl
1303  0335  CD 97 04    	call	_enemy_flip
1304  0338  F1          	pop	af
1305  0339  18 66       	jr	l_enemy_hit_00113
1306  033B              l_enemy_hit_00103:
1307  033B  21 48 00    	ld	hl,0x0048
1308  033E  E5          	push	hl
1309  033F  CD 97 04    	call	_enemy_flip
1310  0342  F1          	pop	af
1311  0343  18 5C       	jr	l_enemy_hit_00113
1312  0345              l_enemy_hit_00104:
1313  0345  21 54 00    	ld	hl,0x0054
1314  0348  E5          	push	hl
1315  0349  CD 7F 05    	call	_enemy_flip_sidestepper
1316  034C  F1          	pop	af
1317  034D  18 52       	jr	l_enemy_hit_00113
1318  034F              l_enemy_hit_00105:
1319  034F  21 60 00    	ld	hl,0x0060
1320  0352  E5          	push	hl
1321  0353  CD 7F 05    	call	_enemy_flip_sidestepper
1322  0356  F1          	pop	af
1323  0357  18 48       	jr	l_enemy_hit_00113
1324  0359              l_enemy_hit_00106:
1325  0359  21 6C 00    	ld	hl,0x006c
1326  035C  E5          	push	hl
1327  035D  CD 7F 05    	call	_enemy_flip_sidestepper
1328  0360  F1          	pop	af
1329  0361  18 3E       	jr	l_enemy_hit_00113
1330  0363              l_enemy_hit_00107:
1331  0363  21 78 00    	ld	hl,0x0078
1332  0366  E5          	push	hl
1333  0367  CD 97 04    	call	_enemy_flip
1334  036A  F1          	pop	af
1335  036B  18 34       	jr	l_enemy_hit_00113
1336  036D              l_enemy_hit_00108:
1337  036D  2A 00 00    	ld	hl,(_enemies)
1338  0370  26 32       	ld	h,0x32
1339  0372  E5          	push	hl
1340  0373  CD 00 00    	call	_player_coin
1341  0376  F1          	pop	af
1342  0377  18 28       	jr	l_enemy_hit_00113
1343  0379              l_enemy_hit_00109:
1344  0379  21 00 00    	ld	hl,_ay_effect_10
1345  037C  CD 00 00    	call	_ay_fx_play
1346  037F  2A 00 00    	ld	hl,(_enemies)
1347  0382  26 50       	ld	h,0x50
1348  0384  E5          	push	hl
1349  0385  CD 00 00    	call	_player_coin
1350  0388  F1          	pop	af
1351  0389  18 16       	jr	l_enemy_hit_00113
1352  038B              l_enemy_hit_00110:
1353  038B  2A 00 00    	ld	hl,(_enemies)
1354  038E  26 64       	ld	h,0x64
1355  0390  E5          	push	hl
1356  0391  CD 00 00    	call	_player_coin
1357  0394  F1          	pop	af
1358  0395  18 0A       	jr	l_enemy_hit_00113
1359  0397              l_enemy_hit_00111:
1360  0397  2A 00 00    	ld	hl,(_enemies)
1361  039A  26 14       	ld	h,0x14
1362  039C  E5          	push	hl
1363  039D  CD 00 00    	call	_player_coin
1364  03A0  F1          	pop	af
1365  03A1              l_enemy_hit_00113:
1366  03A1  C9          	ret
1367  03A2              ;	---------------------------------
1368  03A2              ; Function enemy_flip_change_dir
1369  03A2              ; ---------------------------------
1370  03A2              _enemy_flip_change_dir:
1371  03A2  CD 00 00    	call	___sdcc_enter_ix
1372  03A5  3B          	dec	sp
1373  03A6  3A 00 00    	ld	a,(_enemies)
1374  03A9  C6 00       	add	a,+((_state) & 0xFF)
1375  03AB  4F          	ld	c,a
1376  03AC  3E 00       	ld	a,+((_state) / 256)
1377  03AE  CE 00       	adc	a,0x00
1378  03B0  47          	ld	b,a
1379  03B1  0A          	ld	a,(bc)
1380  03B2  CB 57       	bit	2, a
1381  03B4  28 1E       	jr	Z,l_enemy_flip_change_dir_00102
1382  03B6  01 00 00    	ld	bc,_state_a+0
1383  03B9  79          	ld	a,c
1384  03BA  21 00 00    	ld	hl,_enemies
1385  03BD  86          	add	a, (hl)
1386  03BE  5F          	ld	e,a
1387  03BF  78          	ld	a,b
1388  03C0  CE 00       	adc	a,0x00
1389  03C2  57          	ld	d,a
1390  03C3  1A          	ld	a,(de)
1391  03C4  CB E7       	set	4, a
1392  03C6  12          	ld	(de),a
1393  03C7  79          	ld	a,c
1394  03C8  86          	add	a, (hl)
1395  03C9  4F          	ld	c,a
1396  03CA  78          	ld	a,b
1397  03CB  CE 00       	adc	a,0x00
1398  03CD  47          	ld	b,a
1399  03CE  0A          	ld	a,(bc)
1400  03CF  E6 F7       	and	a,0xf7
1401  03D1  02          	ld	(bc),a
1402  03D2  18 1C       	jr	l_enemy_flip_change_dir_00103
1403  03D4              l_enemy_flip_change_dir_00102:
1404  03D4  01 00 00    	ld	bc,_state_a+0
1405  03D7  79          	ld	a,c
1406  03D8  21 00 00    	ld	hl,_enemies
1407  03DB  86          	add	a, (hl)
1408  03DC  5F          	ld	e,a
1409  03DD  78          	ld	a,b
1410  03DE  CE 00       	adc	a,0x00
1411  03E0  57          	ld	d,a
1412  03E1  1A          	ld	a,(de)
1413  03E2  CB E7       	set	4, a
1414  03E4  12          	ld	(de),a
1415  03E5  79          	ld	a,c
1416  03E6  86          	add	a, (hl)
1417  03E7  4F          	ld	c,a
1418  03E8  78          	ld	a,b
1419  03E9  CE 00       	adc	a,0x00
1420  03EB  47          	ld	b,a
1421  03EC  0A          	ld	a,(bc)
1422  03ED  E6 F7       	and	a,0xf7
1423  03EF  02          	ld	(bc),a
1424  03F0              l_enemy_flip_change_dir_00103:
1425  03F0  01 00 00    	ld	bc,_col+0
1426  03F3  2A 00 00    	ld	hl,(_sprite)
1427  03F6  26 00       	ld	h,0x00
1428  03F8  09          	add	hl,bc
1429  03F9  7E          	ld	a,(hl)
1430  03FA  DD 77 FF    	ld	(ix-1),a
1431  03FD  79          	ld	a,c
1432  03FE  21 00 00    	ld	hl,_enemies
1433  0401  86          	add	a, (hl)
1434  0402  5F          	ld	e,a
1435  0403  78          	ld	a,b
1436  0404  CE 00       	adc	a,0x00
1437  0406  57          	ld	d,a
1438  0407  1A          	ld	a,(de)
1439  0408  DD 96 FF    	sub	a,(ix-1)
1440  040B  30 19       	jr	NC,l_enemy_flip_change_dir_00105
1441  040D  3E 00       	ld	a,+((_state) & 0xFF)
1442  040F  86          	add	a, (hl)
1443  0410  5F          	ld	e,a
1444  0411  3E 00       	ld	a,+((_state) / 256)
1445  0413  CE 00       	adc	a,0x00
1446  0415  57          	ld	d,a
1447  0416  1A          	ld	a,(de)
1448  0417  CB DF       	set	3, a
1449  0419  12          	ld	(de),a
1450  041A  5E          	ld	e,(hl)
1451  041B  16 00       	ld	d,0x00
1452  041D  21 00 00    	ld	hl,_state
1453  0420  19          	add	hl,de
1454  0421  7E          	ld	a,(hl)
1455  0422  EB          	ex	de,hl
1456  0423  E6 FB       	and	a,0xfb
1457  0425  12          	ld	(de),a
1458  0426              l_enemy_flip_change_dir_00105:
1459  0426  2A 00 00    	ld	hl,(_sprite)
1460  0429  26 00       	ld	h,0x00
1461  042B  09          	add	hl,bc
1462  042C  7E          	ld	a,(hl)
1463  042D  DD 77 FF    	ld	(ix-1),a
1464  0430  79          	ld	a,c
1465  0431  21 00 00    	ld	hl,_enemies
1466  0434  86          	add	a, (hl)
1467  0435  5F          	ld	e,a
1468  0436  78          	ld	a,b
1469  0437  CE 00       	adc	a,0x00
1470  0439  57          	ld	d,a
1471  043A  1A          	ld	a,(de)
1472  043B  5F          	ld	e,a
1473  043C  DD 7E FF    	ld	a,(ix-1)
1474  043F  93          	sub	a, e
1475  0440  30 19       	jr	NC,l_enemy_flip_change_dir_00107
1476  0442  3E 00       	ld	a,+((_state) & 0xFF)
1477  0444  86          	add	a, (hl)
1478  0445  5F          	ld	e,a
1479  0446  3E 00       	ld	a,+((_state) / 256)
1480  0448  CE 00       	adc	a,0x00
1481  044A  57          	ld	d,a
1482  044B  1A          	ld	a,(de)
1483  044C  CB D7       	set	2, a
1484  044E  12          	ld	(de),a
1485  044F  5E          	ld	e,(hl)
1486  0450  16 00       	ld	d,0x00
1487  0452  21 00 00    	ld	hl,_state
1488  0455  19          	add	hl,de
1489  0456  7E          	ld	a,(hl)
1490  0457  EB          	ex	de,hl
1491  0458  E6 F7       	and	a,0xf7
1492  045A  12          	ld	(de),a
1493  045B              l_enemy_flip_change_dir_00107:
1494  045B  DD 7E 04    	ld	a,(ix+4)
1495  045E  B7          	or	a, a
1496  045F  20 32       	jr	NZ,l_enemy_flip_change_dir_00111
1497  0461  2A 00 00    	ld	hl,(_sprite)
1498  0464  26 00       	ld	h,0x00
1499  0466  09          	add	hl,bc
1500  0467  6E          	ld	l, (hl)
1501  0468  79          	ld	a,c
1502  0469  EB          	ex	de,hl
1503  046A  21 00 00    	ld	hl,_enemies
1504  046D  86          	add	a, (hl)
1505  046E  4F          	ld	c,a
1506  046F  78          	ld	a,b
1507  0470  CE 00       	adc	a,0x00
1508  0472  47          	ld	b,a
1509  0473  0A          	ld	a,(bc)
1510  0474  4F          	ld	c,a
1511  0475  7B          	ld	a,e
1512  0476  91          	sub	a, c
1513  0477  20 1A       	jr	NZ,l_enemy_flip_change_dir_00111
1514  0479  3E 00       	ld	a,+((_state) & 0xFF)
1515  047B  86          	add	a, (hl)
1516  047C  4F          	ld	c,a
1517  047D  3E 00       	ld	a,+((_state) / 256)
1518  047F  CE 00       	adc	a,0x00
1519  0481  47          	ld	b,a
1520  0482  0A          	ld	a,(bc)
1521  0483  E6 F7       	and	a,0xf7
1522  0485  02          	ld	(bc),a
1523  0486  3E 00       	ld	a,+((_state) & 0xFF)
1524  0488  86          	add	a, (hl)
1525  0489  4F          	ld	c,a
1526  048A  3E 00       	ld	a,+((_state) / 256)
1527  048C  CE 00       	adc	a,0x00
1528  048E  47          	ld	b,a
1529  048F  0A          	ld	a,(bc)
1530  0490  E6 FB       	and	a,0xfb
1531  0492  02          	ld	(bc),a
1532  0493              l_enemy_flip_change_dir_00111:
1533  0493  33          	inc	sp
1534  0494  DD E1       	pop	ix
1535  0496  C9          	ret
1536  0497              ;	---------------------------------
1537  0497              ; Function enemy_flip
1538  0497              ; ---------------------------------
1539  0497              _enemy_flip:
1540  0497  CD 00 00    	call	___sdcc_enter_ix
1541  049A  3B          	dec	sp
1542  049B  01 00 00    	ld	bc,_spr_timer+0
1543  049E  2A 00 00    	ld	hl,(_enemies)
1544  04A1  26 00       	ld	h,0x00
1545  04A3  29          	add	hl, hl
1546  04A4  09          	add	hl,bc
1547  04A5  ED 5B 00 00 	ld	de,(_curr_time)
1548  04A9  73          	ld	(hl),e
1549  04AA  23          	inc	hl
1550  04AB  72          	ld	(hl),d
1551  04AC  2A 00 00    	ld	hl,(_enemies)
1552  04AF  26 00       	ld	h,0x00
1553  04B1  01 00 00    	ld	bc,_state
1554  04B4  09          	add	hl,bc
1555  04B5  7E          	ld	a,(hl)
1556  04B6  EE 01       	xor	a,0x01
1557  04B8  77          	ld	(hl),a
1558  04B9  2A 00 00    	ld	hl,(_enemies)
1559  04BC  26 00       	ld	h,0x00
1560  04BE  01 00 00    	ld	bc,_state
1561  04C1  09          	add	hl,bc
1562  04C2  7E          	ld	a,(hl)
1563  04C3  E6 FD       	and	a,0xfd
1564  04C5  77          	ld	(hl),a
1565  04C6  2A 00 00    	ld	hl,(_enemies)
1566  04C9  26 00       	ld	h,0x00
1567  04CB  01 00 00    	ld	bc,_state
1568  04CE  09          	add	hl,bc
1569  04CF  7E          	ld	a,(hl)
1570  04D0  EE 10       	xor	a,0x10
1571  04D2  77          	ld	(hl),a
1572  04D3  2A 00 00    	ld	hl,(_enemies)
1573  04D6  26 00       	ld	h,0x00
1574  04D8  01 00 00    	ld	bc,_state
1575  04DB  09          	add	hl,bc
1576  04DC  7E          	ld	a,(hl)
1577  04DD  E6 7F       	and	a,0x7f
1578  04DF  77          	ld	(hl),a
1579  04E0  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1580  04E2  21 00 00    	ld	hl,_enemies
1581  04E5  86          	add	a, (hl)
1582  04E6  4F          	ld	c,a
1583  04E7  3E 00       	ld	a,+((_jump_lin) / 256)
1584  04E9  CE 00       	adc	a,0x00
1585  04EB  47          	ld	b,a
1586  04EC  3E 00       	ld	a,+((_lin) & 0xFF)
1587  04EE  86          	add	a, (hl)
1588  04EF  5F          	ld	e,a
1589  04F0  3E 00       	ld	a,+((_lin) / 256)
1590  04F2  CE 00       	adc	a,0x00
1591  04F4  57          	ld	d,a
1592  04F5  1A          	ld	a,(de)
1593  04F6  02          	ld	(bc),a
1594  04F7  5E          	ld	e,(hl)
1595  04F8  16 00       	ld	d,0x00
1596  04FA  21 00 00    	ld	hl,_state
1597  04FD  19          	add	hl,de
1598  04FE  7E          	ld	a,(hl)
1599  04FF  EB          	ex	de,hl
1600  0500  DD 77 FF    	ld	(ix-1),a
1601  0503  CB 67       	bit	4,a
1602  0505  28 28       	jr	Z,l_enemy_flip_00105
1603  0507  21 00 00    	ld	hl,_ay_effect_02
1604  050A  CD 00 00    	call	_ay_fx_play
1605  050D  AF          	xor	a, a
1606  050E  F5          	push	af
1607  050F  33          	inc	sp
1608  0510  CD A2 03    	call	_enemy_flip_change_dir
1609  0513  33          	inc	sp
1610  0514  3A 00 00    	ld	a,(_enemies)
1611  0517  C6 00       	add	a,+((_tile) & 0xFF)
1612  0519  4F          	ld	c,a
1613  051A  3E 00       	ld	a,+((_tile) / 256)
1614  051C  CE 00       	adc	a,0x00
1615  051E  47          	ld	b,a
1616  051F  DD 7E 04    	ld	a,(ix+4)
1617  0522  C6 06       	add	a,0x06
1618  0524  02          	ld	(bc),a
1619  0525  21 01 00    	ld	hl,0x0001
1620  0528  E5          	push	hl
1621  0529  CD 00 00    	call	_player_score_add
1622  052C  F1          	pop	af
1623  052D  18 4C       	jr	l_enemy_flip_00107
1624  052F              l_enemy_flip_00105:
1625  052F  2A 00 00    	ld	hl,(_enemies)
1626  0532  26 00       	ld	h,0x00
1627  0534  01 00 00    	ld	bc,_state_a
1628  0537  09          	add	hl,bc
1629  0538  4E          	ld	c,(hl)
1630  0539  DD 7E FF    	ld	a,(ix-1)
1631  053C  CB D7       	set	2, a
1632  053E  CB 61       	bit	4, c
1633  0540  28 12       	jr	Z,l_enemy_flip_00102
1634  0542  12          	ld	(de),a
1635  0543  3A 00 00    	ld	a,(_enemies)
1636  0546  C6 00       	add	a,+((_state) & 0xFF)
1637  0548  4F          	ld	c,a
1638  0549  3E 00       	ld	a,+((_state) / 256)
1639  054B  CE 00       	adc	a,0x00
1640  054D  47          	ld	b,a
1641  054E  0A          	ld	a,(bc)
1642  054F  E6 F7       	and	a,0xf7
1643  0551  02          	ld	(bc),a
1644  0552  18 10       	jr	l_enemy_flip_00103
1645  0554              l_enemy_flip_00102:
1646  0554  12          	ld	(de),a
1647  0555  3A 00 00    	ld	a,(_enemies)
1648  0558  C6 00       	add	a,+((_state) & 0xFF)
1649  055A  4F          	ld	c,a
1650  055B  3E 00       	ld	a,+((_state) / 256)
1651  055D  CE 00       	adc	a,0x00
1652  055F  47          	ld	b,a
1653  0560  0A          	ld	a,(bc)
1654  0561  E6 F7       	and	a,0xf7
1655  0563  02          	ld	(bc),a
1656  0564              l_enemy_flip_00103:
1657  0564  3E 00       	ld	a,+((_tile) & 0xFF)
1658  0566  21 00 00    	ld	hl,_enemies
1659  0569  86          	add	a, (hl)
1660  056A  4F          	ld	c,a
1661  056B  3E 00       	ld	a,+((_tile) / 256)
1662  056D  CE 00       	adc	a,0x00
1663  056F  47          	ld	b,a
1664  0570  7E          	ld	a,(hl)
1665  0571  C5          	push	bc
1666  0572  F5          	push	af
1667  0573  33          	inc	sp
1668  0574  CD 00 00    	call	_spr_tile
1669  0577  33          	inc	sp
1670  0578  C1          	pop	bc
1671  0579  7D          	ld	a, l
1672  057A  02          	ld	(bc),a
1673  057B              l_enemy_flip_00107:
1674  057B  33          	inc	sp
1675  057C  DD E1       	pop	ix
1676  057E  C9          	ret
1677  057F              ;	---------------------------------
1678  057F              ; Function enemy_flip_sidestepper
1679  057F              ; ---------------------------------
1680  057F              _enemy_flip_sidestepper:
1681  057F  CD 00 00    	call	___sdcc_enter_ix
1682  0582  01 00 00    	ld	bc,_state+0
1683  0585  2A 00 00    	ld	hl,(_enemies)
1684  0588  26 00       	ld	h,0x00
1685  058A  09          	add	hl,bc
1686  058B  CB 76       	bit	6,(hl)
1687  058D  28 0D       	jr	Z,l_enemy_flip_sidestepper_00102
1688  058F  DD 6E 04    	ld	l,(ix+4)
1689  0592  DD 66 05    	ld	h,(ix+5)
1690  0595  E5          	push	hl
1691  0596  CD 97 04    	call	_enemy_flip
1692  0599  F1          	pop	af
1693  059A  18 56       	jr	l_enemy_flip_sidestepper_00104
1694  059C              l_enemy_flip_sidestepper_00102:
1695  059C  C5          	push	bc
1696  059D  3E 01       	ld	a,0x01
1697  059F  F5          	push	af
1698  05A0  33          	inc	sp
1699  05A1  CD A2 03    	call	_enemy_flip_change_dir
1700  05A4  33          	inc	sp
1701  05A5  C1          	pop	bc
1702  05A6  79          	ld	a,c
1703  05A7  21 00 00    	ld	hl,_enemies
1704  05AA  86          	add	a, (hl)
1705  05AB  5F          	ld	e,a
1706  05AC  78          	ld	a,b
1707  05AD  CE 00       	adc	a,0x00
1708  05AF  57          	ld	d,a
1709  05B0  1A          	ld	a,(de)
1710  05B1  EE 01       	xor	a,0x01
1711  05B3  12          	ld	(de),a
1712  05B4  79          	ld	a,c
1713  05B5  86          	add	a, (hl)
1714  05B6  5F          	ld	e,a
1715  05B7  78          	ld	a,b
1716  05B8  CE 00       	adc	a,0x00
1717  05BA  57          	ld	d,a
1718  05BB  1A          	ld	a,(de)
1719  05BC  E6 FD       	and	a,0xfd
1720  05BE  12          	ld	(de),a
1721  05BF  79          	ld	a,c
1722  05C0  86          	add	a, (hl)
1723  05C1  4F          	ld	c,a
1724  05C2  78          	ld	a,b
1725  05C3  CE 00       	adc	a,0x00
1726  05C5  47          	ld	b,a
1727  05C6  0A          	ld	a,(bc)
1728  05C7  CB F7       	set	6, a
1729  05C9  02          	ld	(bc),a
1730  05CA  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1731  05CC  86          	add	a, (hl)
1732  05CD  4F          	ld	c,a
1733  05CE  3E 00       	ld	a,+((_jump_lin) / 256)
1734  05D0  CE 00       	adc	a,0x00
1735  05D2  47          	ld	b,a
1736  05D3  3E 00       	ld	a,+((_lin) & 0xFF)
1737  05D5  86          	add	a, (hl)
1738  05D6  5F          	ld	e,a
1739  05D7  3E 00       	ld	a,+((_lin) / 256)
1740  05D9  CE 00       	adc	a,0x00
1741  05DB  57          	ld	d,a
1742  05DC  1A          	ld	a,(de)
1743  05DD  02          	ld	(bc),a
1744  05DE  3E 00       	ld	a,+((_tile) & 0xFF)
1745  05E0  86          	add	a, (hl)
1746  05E1  4F          	ld	c,a
1747  05E2  3E 00       	ld	a,+((_tile) / 256)
1748  05E4  CE 00       	adc	a,0x00
1749  05E6  47          	ld	b,a
1750  05E7  7E          	ld	a,(hl)
1751  05E8  C5          	push	bc
1752  05E9  F5          	push	af
1753  05EA  33          	inc	sp
1754  05EB  CD 00 00    	call	_spr_tile
1755  05EE  33          	inc	sp
1756  05EF  C1          	pop	bc
1757  05F0  7D          	ld	a, l
1758  05F1  02          	ld	(bc),a
1759  05F2              l_enemy_flip_sidestepper_00104:
1760  05F2  DD E1       	pop	ix
1761  05F4  C9          	ret
1762  05F5              ;	---------------------------------
1763  05F5              ; Function enemy_turn
1764  05F5              ; ---------------------------------
1765  05F5              _enemy_turn:
1766  05F5  21 00 00    	ld	hl,_sprite
1767  05F8  36 00       	ld	(hl),0x00
1768  05FA              l_enemy_turn_00123:
1769  05FA  3A 00 00    	ld	a,(_sprite)
1770  05FD  C6 00       	add	a,+((_class) & 0xFF)
1771  05FF  4F          	ld	c,a
1772  0600  3E 00       	ld	a,+((_class) / 256)
1773  0602  CE 00       	adc	a,0x00
1774  0604  47          	ld	b,a
1775  0605  0A          	ld	a,(bc)
1776  0606  B7          	or	a, a
1777  0607  CA 1D 07    	jp	Z,l_enemy_turn_00121
1778  060A  21 00 00    	ld	hl,_sprite
1779  060D  E5          	push	hl
1780  060E  CD 00 00    	call	_spr_chktime
1781  0611  F1          	pop	af
1782  0612  7D          	ld	a,l
1783  0613  B7          	or	a, a
1784  0614  CA 1D 07    	jp	Z,l_enemy_turn_00121
1785  0617  3A 00 00    	ld	a,(_sprite)
1786  061A  C6 00       	add	a,+((_lin) & 0xFF)
1787  061C  4F          	ld	c,a
1788  061D  3E 00       	ld	a,+((_lin) / 256)
1789  061F  CE 00       	adc	a,0x00
1790  0621  47          	ld	b,a
1791  0622  0A          	ld	a,(bc)
1792  0623  32 00 00    	ld	(_s_lin0),a
1793  0626  3A 00 00    	ld	a,(_sprite)
1794  0629  C6 00       	add	a,+((_col) & 0xFF)
1795  062B  4F          	ld	c,a
1796  062C  3E 00       	ld	a,+((_col) / 256)
1797  062E  CE 00       	adc	a,0x00
1798  0630  47          	ld	b,a
1799  0631  0A          	ld	a,(bc)
1800  0632  32 00 00    	ld	(_s_col0),a
1801  0635  3E 00       	ld	a,+((_tile) & 0xFF)
1802  0637  21 00 00    	ld	hl,_sprite
1803  063A  86          	add	a, (hl)
1804  063B  4F          	ld	c,a
1805  063C  3E 00       	ld	a,+((_tile) / 256)
1806  063E  CE 00       	adc	a,0x00
1807  0640  47          	ld	b,a
1808  0641  0A          	ld	a,(bc)
1809  0642  4F          	ld	c,a
1810  0643  5E          	ld	e,(hl)
1811  0644  16 00       	ld	d,0x00
1812  0646  21 00 00    	ld	hl,_colint
1813  0649  19          	add	hl,de
1814  064A  7E          	ld	a,(hl)
1815  064B  81          	add	a,c
1816  064C  32 00 00    	ld	(_s_tile0),a
1817  064F  3A 00 00    	ld	a,(_sprite)
1818  0652  C6 00       	add	a,+((_state) & 0xFF)
1819  0654  4F          	ld	c,a
1820  0655  3E 00       	ld	a,+((_state) / 256)
1821  0657  CE 00       	adc	a,0x00
1822  0659  47          	ld	b,a
1823  065A  0A          	ld	a,(bc)
1824  065B  32 00 00    	ld	(_s_state),a
1825  065E  2A 00 00    	ld	hl,(_sprite)
1826  0661  26 00       	ld	h,0x00
1827  0663  29          	add	hl,hl
1828  0664  01 00 00    	ld	bc,_last_time
1829  0667  09          	add	hl,bc
1830  0668  ED 5B 00 00 	ld	de,(_curr_time)
1831  066C  73          	ld	(hl),e
1832  066D  23          	inc	hl
1833  066E  72          	ld	(hl),d
1834  066F  21 00 00    	ld	hl,_s_state
1835  0672  7E          	ld	a,(hl)
1836  0673  E6 01       	and	a,0x01
1837  0675  7E          	ld	a,(hl)
1838  0676  E6 20       	and	a,0x20
1839  0678  28 11       	jr	Z,l_enemy_turn_00102
1840  067A  7E          	ld	a,(hl)
1841  067B  E6 01       	and	a,0x01
1842  067D  20 0C       	jr	NZ,l_enemy_turn_00102
1843  067F  3A 00 00    	ld	a,(_sprite)
1844  0682  F5          	push	af
1845  0683  33          	inc	sp
1846  0684  CD 00 00    	call	_spr_killed
1847  0687  33          	inc	sp
1848  0688  C3 1D 07    	jp	l_enemy_turn_00121
1849  068B              l_enemy_turn_00102:
1850  068B  3A 00 00    	ld	a,(_s_state)
1851  068E  E6 10       	and	a,0x10
1852  0690  28 2B       	jr	Z,l_enemy_turn_00107
1853  0692  21 00 00    	ld	hl,_s_state
1854  0695  7E          	ld	a,(hl)
1855  0696  E6 02       	and	a,0x02
1856  0698  20 23       	jr	NZ,l_enemy_turn_00107
1857  069A  7E          	ld	a,(hl)
1858  069B  E6 01       	and	a,0x01
1859  069D  20 1E       	jr	NZ,l_enemy_turn_00107
1860  069F  CD 6A 0C    	call	_enemy_standard_hit
1861  06A2  2A 00 00    	ld	hl,(_sprite)
1862  06A5  26 00       	ld	h,0x00
1863  06A7  01 00 00    	ld	bc,_colint
1864  06AA  09          	add	hl,bc
1865  06AB  7E          	ld	a,(hl)
1866  06AC  3C          	inc	a
1867  06AD  77          	ld	(hl),a
1868  06AE  4D          	ld	c,l
1869  06AF  44          	ld	b,h
1870  06B0  5F          	ld	e,a
1871  06B1  3E 02       	ld	a,0x02
1872  06B3  93          	sub	a, e
1873  06B4  30 02       	jr	NC,l_enemy_turn_00105
1874  06B6  AF          	xor	a, a
1875  06B7  02          	ld	(bc),a
1876  06B8              l_enemy_turn_00105:
1877  06B8  CD 00 00    	call	_spr_redraw
1878  06BB  18 60       	jr	l_enemy_turn_00121
1879  06BD              l_enemy_turn_00107:
1880  06BD  2A 00 00    	ld	hl,(_sprite)
1881  06C0  26 00       	ld	h,0x00
1882  06C2  01 00 00    	ld	bc,_class
1883  06C5  09          	add	hl,bc
1884  06C6  7E          	ld	a,(hl)
1885  06C7  4F          	ld	c,a
1886  06C8  D6 07       	sub	a,0x07
1887  06CA  38 3C       	jr	C,l_enemy_turn_00116
1888  06CC  3E 0C       	ld	a,0x0c
1889  06CE  91          	sub	a,c
1890  06CF  38 37       	jr	C,l_enemy_turn_00116
1891  06D1  79          	ld	a,c
1892  06D2  C6 F9       	add	a,0xf9
1893  06D4  44          	ld	b,h
1894  06D5  5F          	ld	e,a
1895  06D6  16 00       	ld	d,0x00
1896  06D8  21 DE 06    	ld	hl,l_enemy_turn_00176
1897  06DB  19          	add	hl,de
1898  06DC  19          	add	hl,de
1899  06DD  E9          	jp	(hl)
1900  06DE              l_enemy_turn_00176:
1901  06DE  18 19       	jr	l_enemy_turn_00113
1902  06E0  18 1C       	jr	l_enemy_turn_00114
1903  06E2  18 10       	jr	l_enemy_turn_00112
1904  06E4  18 04       	jr	l_enemy_turn_00110
1905  06E6  18 07       	jr	l_enemy_turn_00111
1906  06E8  18 19       	jr	l_enemy_turn_00115
1907  06EA              l_enemy_turn_00110:
1908  06EA  CD 23 09    	call	_enemy_fireball_red
1909  06ED  18 1C       	jr	l_enemy_turn_00117
1910  06EF              l_enemy_turn_00111:
1911  06EF  CD F8 09    	call	_enemy_fireball_green
1912  06F2  18 17       	jr	l_enemy_turn_00117
1913  06F4              l_enemy_turn_00112:
1914  06F4  CD A2 0A    	call	_enemy_fighterfly
1915  06F7  18 12       	jr	l_enemy_turn_00117
1916  06F9              l_enemy_turn_00113:
1917  06F9  CD 89 07    	call	_enemy_slipice
1918  06FC  18 0D       	jr	l_enemy_turn_00117
1919  06FE              l_enemy_turn_00114:
1920  06FE  CD 00 00    	call	_enemy_coin1
1921  0701  18 08       	jr	l_enemy_turn_00117
1922  0703              l_enemy_turn_00115:
1923  0703  CD 36 00    	call	_enemy_coin2
1924  0706  18 03       	jr	l_enemy_turn_00117
1925  0708              l_enemy_turn_00116:
1926  0708  CD 29 07    	call	_enemy_standard
1927  070B              l_enemy_turn_00117:
1928  070B  CD 00 00    	call	_spr_redraw
1929  070E  3A 00 00    	ld	a,(_sprite)
1930  0711  C6 00       	add	a,+((_state) & 0xFF)
1931  0713  4F          	ld	c,a
1932  0714  3E 00       	ld	a,+((_state) / 256)
1933  0716  CE 00       	adc	a,0x00
1934  0718  47          	ld	b,a
1935  0719  3A 00 00    	ld	a,(_s_state)
1936  071C  02          	ld	(bc),a
1937  071D              l_enemy_turn_00121:
1938  071D  21 00 00    	ld	hl,_sprite
1939  0720  7E          	ld	a,(hl)
1940  0721  3C          	inc	a
1941  0722  77          	ld	(hl),a
1942  0723  D6 06       	sub	a,0x06
1943  0725  DA FA 05    	jp	C,l_enemy_turn_00123
1944  0728  C9          	ret
1945  0729              ;	---------------------------------
1946  0729              ; Function enemy_standard
1947  0729              ; ---------------------------------
1948  0729              _enemy_standard:
1949  0729  3A 00 00    	ld	a,(_s_state)
1950  072C  0F          	rrca
1951  072D  38 12       	jr	C,l_enemy_standard_00106
1952  072F  3A 00 00    	ld	a,(_sprite)
1953  0732  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1954  0734  4F          	ld	c,a
1955  0735  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1956  0737  CE 00       	adc	a,0x00
1957  0739  47          	ld	b,a
1958  073A  AF          	xor	a, a
1959  073B  02          	ld	(bc),a
1960  073C  CD 68 0D    	call	_enemy_walk
1961  073F  18 45       	jr	l_enemy_standard_00107
1962  0741              l_enemy_standard_00106:
1963  0741  3A 00 00    	ld	a,(_sprite)
1964  0744  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1965  0746  4F          	ld	c,a
1966  0747  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1967  0749  CE 00       	adc	a,0x00
1968  074B  47          	ld	b,a
1969  074C  3E 01       	ld	a,0x01
1970  074E  02          	ld	(bc),a
1971  074F  CD 00 00    	call	_spr_move_horizontal
1972  0752  CD 00 00    	call	_spr_move_up
1973  0755  3A 00 00    	ld	a,(_s_state)
1974  0758  0F          	rrca
1975  0759  D2 63 0B    	jp	NC,_enemy_trip
1976  075C  2A 00 00    	ld	hl,(_sprite)
1977  075F  26 00       	ld	h,0x00
1978  0761  5D          	ld	e,l
1979  0762  01 00 00    	ld	bc,_jump_lin
1980  0765  09          	add	hl,bc
1981  0766  4E          	ld	c,(hl)
1982  0767  06 00       	ld	b,0x00
1983  0769  50          	ld	d,b
1984  076A  21 00 00    	ld	hl,_lin
1985  076D  19          	add	hl,de
1986  076E  5E          	ld	e, (hl)
1987  076F  16 00       	ld	d,0x00
1988  0771  79          	ld	a,c
1989  0772  93          	sub	a, e
1990  0773  4F          	ld	c,a
1991  0774  78          	ld	a,b
1992  0775  9A          	sbc	a, d
1993  0776  47          	ld	b,a
1994  0777  79          	ld	a,c
1995  0778  D6 0C       	sub	a,0x0c
1996  077A  78          	ld	a,b
1997  077B  17          	rla
1998  077C  3F          	ccf
1999  077D  1F          	rra
2000  077E  DE 80       	sbc	a,0x80
2001  0780  DA 63 0B    	jp	C,_enemy_trip
2002  0783  CD 00 00    	call	_spr_set_fall
2003  0786              l_enemy_standard_00107:
2004  0786  C3 63 0B    	jp  _enemy_trip
2005  0789              ;	---------------------------------
2006  0789              ; Function enemy_slipice
2007  0789              ; ---------------------------------
2008  0789              _enemy_slipice:
2009  0789  3A 00 00    	ld	a,(_phase_left)
2010  078C  B7          	or	a, a
2011  078D  CA 22 09    	jp	Z,l_enemy_slipice_00126
2012  0790  3A 00 00    	ld	a,(_sprite)
2013  0793  C6 00       	add	a,+((_state) & 0xFF)
2014  0795  4F          	ld	c,a
2015  0796  3E 00       	ld	a,+((_state) / 256)
2016  0798  CE 00       	adc	a,0x00
2017  079A  47          	ld	b,a
2018  079B  0A          	ld	a,(bc)
2019  079C  CB 77       	bit	6, a
2020  079E  CA 44 08    	jp	Z,l_enemy_slipice_00122
2021  07A1  76          	halt
2022  07A2  3E 00       	ld	a,+((_col) & 0xFF)
2023  07A4  21 00 00    	ld	hl,_sprite
2024  07A7  86          	add	a, (hl)
2025  07A8  4F          	ld	c,a
2026  07A9  3E 00       	ld	a,+((_col) / 256)
2027  07AB  CE 00       	adc	a,0x00
2028  07AD  47          	ld	b,a
2029  07AE  0A          	ld	a,(bc)
2030  07AF  57          	ld	d,a
2031  07B0  3E 00       	ld	a,+((_lin) & 0xFF)
2032  07B2  86          	add	a, (hl)
2033  07B3  4F          	ld	c,a
2034  07B4  3E 00       	ld	a,+((_lin) / 256)
2035  07B6  CE 00       	adc	a,0x00
2036  07B8  47          	ld	b,a
2037  07B9  0A          	ld	a,(bc)
2038  07BA  C6 08       	add	a,0x08
2039  07BC  5F          	ld	e,a
2040  07BD  3E 00       	ld	a,+((_colint) & 0xFF)
2041  07BF  86          	add	a, (hl)
2042  07C0  4F          	ld	c,a
2043  07C1  3E 00       	ld	a,+((_colint) / 256)
2044  07C3  CE 00       	adc	a,0x00
2045  07C5  47          	ld	b,a
2046  07C6  0A          	ld	a,(bc)
2047  07C7  C6 8D       	add	a,0x8d
2048  07C9  47          	ld	b,a
2049  07CA  D5          	push	de
2050  07CB  C5          	push	bc
2051  07CC  33          	inc	sp
2052  07CD  CD 00 00    	call	_NIRVANAP_drawT_callee
2053  07D0  2A 00 00    	ld	hl,(_sprite)
2054  07D3  26 00       	ld	h,0x00
2055  07D5  01 00 00    	ld	bc,_colint
2056  07D8  09          	add	hl,bc
2057  07D9  7E          	ld	a,(hl)
2058  07DA  3C          	inc	a
2059  07DB  77          	ld	(hl),a
2060  07DC  4D          	ld	c,l
2061  07DD  44          	ld	b,h
2062  07DE  5F          	ld	e,a
2063  07DF  3E 02       	ld	a,0x02
2064  07E1  93          	sub	a, e
2065  07E2  30 02       	jr	NC,l_enemy_slipice_00102
2066  07E4  AF          	xor	a, a
2067  07E5  02          	ld	(bc),a
2068  07E6              l_enemy_slipice_00102:
2069  07E6  2A 00 00    	ld	hl,(_sprite)
2070  07E9  26 00       	ld	h,0x00
2071  07EB  29          	add	hl, hl
2072  07EC  11 00 00    	ld	de,_spr_timer
2073  07EF  19          	add	hl,de
2074  07F0  4E          	ld	c,(hl)
2075  07F1  23          	inc	hl
2076  07F2  46          	ld	b,(hl)
2077  07F3  21 28 00    	ld	hl,0x0028
2078  07F6  E5          	push	hl
2079  07F7  C5          	push	bc
2080  07F8  CD 00 00    	call	_game_check_time
2081  07FB  F1          	pop	af
2082  07FC  F1          	pop	af
2083  07FD  7D          	ld	a,l
2084  07FE  B7          	or	a, a
2085  07FF  CA 22 09    	jp	Z,l_enemy_slipice_00126
2086  0802  2A 00 00    	ld	hl,(_sprite)
2087  0805  26 00       	ld	h,0x00
2088  0807  5D          	ld	e,l
2089  0808  01 00 00    	ld	bc,_col
2090  080B  09          	add	hl,bc
2091  080C  46          	ld	b,(hl)
2092  080D  16 00       	ld	d,0x00
2093  080F  21 00 00    	ld	hl,_lin
2094  0812  19          	add	hl,de
2095  0813  7E          	ld	a,(hl)
2096  0814  C6 18       	add	a,0x18
2097  0816  4F          	ld	c,a
2098  0817  C5          	push	bc
2099  0818  CD 00 00    	call	_game_freeze
2100  081B  F1          	pop	af
2101  081C  2A 00 00    	ld	hl,(_sprite)
2102  081F  26 00       	ld	h,0x00
2103  0821  5D          	ld	e,l
2104  0822  01 00 00    	ld	bc,_col
2105  0825  09          	add	hl,bc
2106  0826  46          	ld	b,(hl)
2107  0827  16 00       	ld	d,0x00
2108  0829  21 00 00    	ld	hl,_lin
2109  082C  19          	add	hl,de
2110  082D  7E          	ld	a,(hl)
2111  082E  C6 08       	add	a,0x08
2112  0830  4F          	ld	c,a
2113  0831  C5          	push	bc
2114  0832  AF          	xor	a, a
2115  0833  F5          	push	af
2116  0834  33          	inc	sp
2117  0835  CD 00 00    	call	_NIRVANAP_fillT_callee
2118  0838  3A 00 00    	ld	a,(_sprite)
2119  083B  F5          	push	af
2120  083C  33          	inc	sp
2121  083D  CD 00 00    	call	_spr_destroy
2122  0840  33          	inc	sp
2123  0841  C3 22 09    	jp	l_enemy_slipice_00126
2124  0844              l_enemy_slipice_00122:
2125  0844  CB 47       	bit	0, a
2126  0846  C2 F3 08    	jp	NZ,l_enemy_slipice_00110
2127  0849  CB 4F       	bit	1, a
2128  084B  C2 F3 08    	jp	NZ,l_enemy_slipice_00110
2129  084E  2A 00 00    	ld	hl,(_sprite)
2130  0851  26 00       	ld	h,0x00
2131  0853  01 00 00    	ld	bc,_col
2132  0856  09          	add	hl,bc
2133  0857  7E          	ld	a,(hl)
2134  0858  4F          	ld	c,a
2135  0859  D6 07       	sub	a,0x07
2136  085B  28 0A       	jr	Z,l_enemy_slipice_00116
2137  085D  79          	ld	a,c
2138  085E  FE 0F       	cp	a,0x0f
2139  0860  28 05       	jr	Z,l_enemy_slipice_00116
2140  0862  D6 18       	sub	a,0x18
2141  0864  C2 F3 08    	jp	NZ,l_enemy_slipice_00110
2142  0867              l_enemy_slipice_00116:
2143  0867  79          	ld	a,c
2144  0868  D6 88       	sub	a,0x88
2145  086A  D2 F3 08    	jp	NC,l_enemy_slipice_00110
2146  086D  CD 00 00    	call	_rand
2147  0870  22 00 00    	ld	(_tmp_ui),hl
2148  0873  3E 00       	ld	a,+((_col) & 0xFF)
2149  0875  21 00 00    	ld	hl,_sprite
2150  0878  86          	add	a, (hl)
2151  0879  4F          	ld	c,a
2152  087A  3E 00       	ld	a,+((_col) / 256)
2153  087C  CE 00       	adc	a,0x00
2154  087E  47          	ld	b,a
2155  087F  0A          	ld	a,(bc)
2156  0880  57          	ld	d,a
2157  0881  4E          	ld	c,(hl)
2158  0882  06 00       	ld	b,0x00
2159  0884  21 00 00    	ld	hl,_lin
2160  0887  09          	add	hl,bc
2161  0888  7E          	ld	a,(hl)
2162  0889  C6 10       	add	a,0x10
2163  088B  5F          	ld	e, a
2164  088C  D5          	push	de
2165  088D  CD 00 00    	call	_game_calc_index
2166  0890  F1          	pop	af
2167  0891  22 00 00    	ld	(_index1),hl
2168  0894  01 00 00    	ld	bc,_lvl_1
2169  0897  09          	add	hl,bc
2170  0898  7E          	ld	a,(hl)
2171  0899  D6 12       	sub	a,0x12
2172  089B  20 51       	jr	NZ,l_enemy_slipice_00106
2173  089D  21 00 00    	ld	hl,_tmp_ui
2174  08A0  7E          	ld	a,(hl)
2175  08A1  D6 32       	sub	a,0x32
2176  08A3  23          	inc	hl
2177  08A4  7E          	ld	a,(hl)
2178  08A5  DE 33       	sbc	a,0x33
2179  08A7  30 45       	jr	NC,l_enemy_slipice_00106
2180  08A9  21 00 00    	ld	hl,_ay_effect_16
2181  08AC  CD 00 00    	call	_ay_fx_play
2182  08AF  21 00 00    	ld	hl,_s_state
2183  08B2  CB F6       	set	6, (hl)
2184  08B4  01 00 00    	ld	bc,_spr_timer+0
2185  08B7  2A 00 00    	ld	hl,(_sprite)
2186  08BA  26 00       	ld	h,0x00
2187  08BC  29          	add	hl, hl
2188  08BD  09          	add	hl,bc
2189  08BE  ED 5B 00 00 	ld	de,(_curr_time)
2190  08C2  73          	ld	(hl),e
2191  08C3  23          	inc	hl
2192  08C4  72          	ld	(hl),d
2193  08C5  2A 00 00    	ld	hl,(_sprite)
2194  08C8  26 00       	ld	h,0x00
2195  08CA  01 00 00    	ld	bc,_lin
2196  08CD  09          	add	hl,bc
2197  08CE  7E          	ld	a,(hl)
2198  08CF  C6 F8       	add	a,0xf8
2199  08D1  77          	ld	(hl),a
2200  08D2  3E 00       	ld	a,+((_colint) & 0xFF)
2201  08D4  21 00 00    	ld	hl,_sprite
2202  08D7  86          	add	a, (hl)
2203  08D8  4F          	ld	c,a
2204  08D9  3E 00       	ld	a,+((_colint) / 256)
2205  08DB  CE 00       	adc	a,0x00
2206  08DD  47          	ld	b,a
2207  08DE  AF          	xor	a, a
2208  08DF  02          	ld	(bc),a
2209  08E0  3E 00       	ld	a,+((_tile) & 0xFF)
2210  08E2  86          	add	a, (hl)
2211  08E3  4F          	ld	c,a
2212  08E4  3E 00       	ld	a,+((_tile) / 256)
2213  08E6  CE 00       	adc	a,0x00
2214  08E8  47          	ld	b,a
2215  08E9  3E 7B       	ld	a,0x7b
2216  08EB  02          	ld	(bc),a
2217  08EC  18 08       	jr	l_enemy_slipice_00111
2218  08EE              l_enemy_slipice_00106:
2219  08EE  CD 68 0D    	call	_enemy_walk
2220  08F1  18 03       	jr	l_enemy_slipice_00111
2221  08F3              l_enemy_slipice_00110:
2222  08F3  CD 68 0D    	call	_enemy_walk
2223  08F6              l_enemy_slipice_00111:
2224  08F6  2A 00 00    	ld	hl,(_sprite)
2225  08F9  26 00       	ld	h,0x00
2226  08FB  01 00 00    	ld	bc,_lin
2227  08FE  09          	add	hl,bc
2228  08FF  7E          	ld	a,(hl)
2229  0900  D6 98       	sub	a,0x98
2230  0902  20 1E       	jr	NZ,l_enemy_slipice_00126
2231  0904  3A 00 00    	ld	a,(_sprite)
2232  0907  4F          	ld	c,a
2233  0908  06 00       	ld	b,0x00
2234  090A  21 00 00    	ld	hl,_col
2235  090D  09          	add	hl,bc
2236  090E  7E          	ld	a,(hl)
2237  090F  4F          	ld	c,a
2238  0910  D6 03       	sub	a,0x03
2239  0912  28 05       	jr	Z,l_enemy_slipice_00117
2240  0914  79          	ld	a,c
2241  0915  D6 1B       	sub	a,0x1b
2242  0917  20 09       	jr	NZ,l_enemy_slipice_00126
2243  0919              l_enemy_slipice_00117:
2244  0919  3A 00 00    	ld	a,(_sprite)
2245  091C  F5          	push	af
2246  091D  33          	inc	sp
2247  091E  CD 00 00    	call	_spr_destroy
2248  0921  33          	inc	sp
2249  0922              l_enemy_slipice_00126:
2250  0922  C9          	ret
2251  0923              ;	---------------------------------
2252  0923              ; Function enemy_fireball_red
2253  0923              ; ---------------------------------
2254  0923              _enemy_fireball_red:
2255  0923  3A 00 00    	ld	a,(_phase_left)
2256  0926  B7          	or	a, a
2257  0927  CA F7 09    	jp	Z,l_enemy_fireball_red_00118
2258  092A  01 00 00    	ld	bc,_spr_timer+0
2259  092D  2A 00 00    	ld	hl,(_sprite)
2260  0930  26 00       	ld	h,0x00
2261  0932  29          	add	hl, hl
2262  0933  09          	add	hl,bc
2263  0934  5E          	ld	e,(hl)
2264  0935  23          	inc	hl
2265  0936  56          	ld	d,(hl)
2266  0937  C5          	push	bc
2267  0938  21 DC 05    	ld	hl,0x05dc
2268  093B  E5          	push	hl
2269  093C  D5          	push	de
2270  093D  CD 00 00    	call	_game_check_time
2271  0940  F1          	pop	af
2272  0941  F1          	pop	af
2273  0942  C1          	pop	bc
2274  0943  7D          	ld	a,l
2275  0944  B7          	or	a, a
2276  0945  28 24       	jr	Z,l_enemy_fireball_red_00114
2277  0947  2A 00 00    	ld	hl,(_sprite)
2278  094A  26 00       	ld	h,0x00
2279  094C  29          	add	hl, hl
2280  094D  09          	add	hl,bc
2281  094E  ED 5B 00 00 	ld	de,(_curr_time)
2282  0952  73          	ld	(hl),e
2283  0953  23          	inc	hl
2284  0954  72          	ld	(hl),d
2285  0955  3A 00 00    	ld	a,(_sprite)
2286  0958  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2287  095A  4F          	ld	c,a
2288  095B  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2289  095D  CE 00       	adc	a,0x00
2290  095F  47          	ld	b,a
2291  0960  3E 08       	ld	a,0x08
2292  0962  02          	ld	(bc),a
2293  0963  21 00 00    	ld	hl,_s_state
2294  0966  CB EE       	set	5, (hl)
2295  0968  C3 F7 09    	jp	l_enemy_fireball_red_00118
2296  096B              l_enemy_fireball_red_00114:
2297  096B  3A 00 00    	ld	a,(_s_state)
2298  096E  0F          	rrca
2299  096F  30 0A       	jr	NC,l_enemy_fireball_red_00104
2300  0971  CD 00 00    	call	_spr_move_up
2301  0974  21 00 00    	ld	hl,_tmp
2302  0977  36 00       	ld	(hl),0x00
2303  0979  18 14       	jr	l_enemy_fireball_red_00105
2304  097B              l_enemy_fireball_red_00104:
2305  097B  CD 00 00    	call	_spr_move_down
2306  097E  21 00 00    	ld	hl,_tmp
2307  0981  36 10       	ld	(hl),0x10
2308  0983  3A 00 00    	ld	a,(_s_state)
2309  0986  E6 02       	and	a,0x02
2310  0988  20 05       	jr	NZ,l_enemy_fireball_red_00105
2311  098A  21 00 00    	ld	hl,_s_state
2312  098D  CB C6       	set	0, (hl)
2313  098F              l_enemy_fireball_red_00105:
2314  098F  CD 00 00    	call	_spr_move_horizontal
2315  0992  3A 00 00    	ld	a,(_s_state)
2316  0995  E6 04       	and	a,0x04
2317  0997  28 13       	jr	Z,l_enemy_fireball_red_00107
2318  0999  3A 00 00    	ld	a,(_sprite)
2319  099C  C6 00       	add	a,+((_col) & 0xFF)
2320  099E  4F          	ld	c,a
2321  099F  3E 00       	ld	a,+((_col) / 256)
2322  09A1  CE 00       	adc	a,0x00
2323  09A3  47          	ld	b,a
2324  09A4  0A          	ld	a,(bc)
2325  09A5  C6 02       	add	a,0x02
2326  09A7  32 00 00    	ld	(_s_col1),a
2327  09AA  18 11       	jr	l_enemy_fireball_red_00108
2328  09AC              l_enemy_fireball_red_00107:
2329  09AC  3A 00 00    	ld	a,(_sprite)
2330  09AF  C6 00       	add	a,+((_col) & 0xFF)
2331  09B1  4F          	ld	c,a
2332  09B2  3E 00       	ld	a,+((_col) / 256)
2333  09B4  CE 00       	adc	a,0x00
2334  09B6  47          	ld	b,a
2335  09B7  0A          	ld	a,(bc)
2336  09B8  C6 FF       	add	a,0xff
2337  09BA  32 00 00    	ld	(_s_col1),a
2338  09BD              l_enemy_fireball_red_00108:
2339  09BD  2A 00 00    	ld	hl,(_sprite)
2340  09C0  26 00       	ld	h,0x00
2341  09C2  01 00 00    	ld	bc,_lin
2342  09C5  09          	add	hl,bc
2343  09C6  4E          	ld	c, (hl)
2344  09C7  3A 00 00    	ld	a, (_s_col1)
2345  09CA  47          	ld	b,a
2346  09CB  C5          	push	bc
2347  09CC  CD 00 00    	call	_game_calc_index
2348  09CF  F1          	pop	af
2349  09D0  22 00 00    	ld	(_index1),hl
2350  09D3  01 00 00    	ld	bc,_lvl_1
2351  09D6  09          	add	hl,bc
2352  09D7  7E          	ld	a,(hl)
2353  09D8  D6 BF       	sub	a,0xbf
2354  09DA  30 14       	jr	NC,l_enemy_fireball_red_00109
2355  09DC  2A 00 00    	ld	hl,(_sprite)
2356  09DF  26 00       	ld	h,0x00
2357  09E1  01 00 00    	ld	bc,_col
2358  09E4  09          	add	hl,bc
2359  09E5  7E          	ld	a,(hl)
2360  09E6  4F          	ld	c,a
2361  09E7  D6 02       	sub	a,0x02
2362  09E9  38 05       	jr	C,l_enemy_fireball_red_00109
2363  09EB  3E 1D       	ld	a,0x1d
2364  09ED  91          	sub	a, c
2365  09EE  30 07       	jr	NC,l_enemy_fireball_red_00118
2366  09F0              l_enemy_fireball_red_00109:
2367  09F0  21 00 00    	ld	hl,_s_state
2368  09F3  7E          	ld	a,(hl)
2369  09F4  EE 0C       	xor	a,+(0x04^0x08)
2370  09F6  77          	ld	(hl),a
2371  09F7              l_enemy_fireball_red_00118:
2372  09F7  C9          	ret
2373  09F8              ;	---------------------------------
2374  09F8              ; Function enemy_fireball_green
2375  09F8              ; ---------------------------------
2376  09F8              _enemy_fireball_green:
2377  09F8  3A 00 00    	ld	a,(_phase_left)
2378  09FB  B7          	or	a, a
2379  09FC  CA A1 0A    	jp	Z,l_enemy_fireball_green_00113
2380  09FF  2A 00 00    	ld	hl,(_sprite)
2381  0A02  26 00       	ld	h,0x00
2382  0A04  5D          	ld	e,l
2383  0A05  01 00 00    	ld	bc,_jump_lin
2384  0A08  09          	add	hl,bc
2385  0A09  4E          	ld	c,(hl)
2386  0A0A  06 00       	ld	b,0x00
2387  0A0C  50          	ld	d,b
2388  0A0D  21 00 00    	ld	hl,_lin
2389  0A10  19          	add	hl,de
2390  0A11  5E          	ld	e, (hl)
2391  0A12  16 00       	ld	d,0x00
2392  0A14  79          	ld	a,c
2393  0A15  93          	sub	a, e
2394  0A16  6F          	ld	l,a
2395  0A17  78          	ld	a,b
2396  0A18  9A          	sbc	a, d
2397  0A19  67          	ld	h,a
2398  0A1A  CD 00 00    	call	_abs_fastcall
2399  0A1D  22 00 00    	ld	(_index1),hl
2400  0A20  3E 08       	ld	a,0x08
2401  0A22  21 00 00    	ld	hl,_index1
2402  0A25  BE          	cp	a, (hl)
2403  0A26  3E 00       	ld	a,0x00
2404  0A28  23          	inc	hl
2405  0A29  9E          	sbc	a, (hl)
2406  0A2A  30 1C       	jr	NC,l_enemy_fireball_green_00102
2407  0A2C  21 00 00    	ld	hl,_s_state
2408  0A2F  7E          	ld	a,(hl)
2409  0A30  EE 03       	xor	a,+(0x01^0x02)
2410  0A32  77          	ld	(hl),a
2411  0A33  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2412  0A35  21 00 00    	ld	hl,_sprite
2413  0A38  86          	add	a, (hl)
2414  0A39  4F          	ld	c,a
2415  0A3A  3E 00       	ld	a,+((_jump_lin) / 256)
2416  0A3C  CE 00       	adc	a,0x00
2417  0A3E  47          	ld	b,a
2418  0A3F  5E          	ld	e,(hl)
2419  0A40  16 00       	ld	d,0x00
2420  0A42  21 00 00    	ld	hl,_lin
2421  0A45  19          	add	hl,de
2422  0A46  7E          	ld	a,(hl)
2423  0A47  02          	ld	(bc),a
2424  0A48              l_enemy_fireball_green_00102:
2425  0A48  3A 00 00    	ld	a,(_s_state)
2426  0A4B  0F          	rrca
2427  0A4C  30 08       	jr	NC,l_enemy_fireball_green_00104
2428  0A4E  CD 00 00    	call	_spr_move_horizontal
2429  0A51  CD 00 00    	call	_spr_move_up
2430  0A54  18 06       	jr	l_enemy_fireball_green_00105
2431  0A56              l_enemy_fireball_green_00104:
2432  0A56  CD 00 00    	call	_spr_move_horizontal
2433  0A59  CD 00 00    	call	_spr_move_down
2434  0A5C              l_enemy_fireball_green_00105:
2435  0A5C  3A 00 00    	ld	a,(_sprite)
2436  0A5F  C6 00       	add	a,+((_col) & 0xFF)
2437  0A61  4F          	ld	c,a
2438  0A62  3E 00       	ld	a,+((_col) / 256)
2439  0A64  CE 00       	adc	a,0x00
2440  0A66  47          	ld	b,a
2441  0A67  0A          	ld	a,(bc)
2442  0A68  B7          	or	a, a
2443  0A69  20 07       	jr	NZ,l_enemy_fireball_green_00110
2444  0A6B  3A 00 00    	ld	a,(_s_state)
2445  0A6E  E6 08       	and	a,0x08
2446  0A70  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2447  0A72              l_enemy_fireball_green_00110:
2448  0A72  D6 1E       	sub	a,0x1e
2449  0A74  20 2B       	jr	NZ,l_enemy_fireball_green_00113
2450  0A76  3A 00 00    	ld	a,(_s_state)
2451  0A79  E6 04       	and	a,0x04
2452  0A7B  28 24       	jr	Z,l_enemy_fireball_green_00113
2453  0A7D              l_enemy_fireball_green_00106:
2454  0A7D  01 00 00    	ld	bc,_spr_timer+0
2455  0A80  2A 00 00    	ld	hl,(_sprite)
2456  0A83  26 00       	ld	h,0x00
2457  0A85  29          	add	hl, hl
2458  0A86  09          	add	hl,bc
2459  0A87  ED 5B 00 00 	ld	de,(_curr_time)
2460  0A8B  73          	ld	(hl),e
2461  0A8C  23          	inc	hl
2462  0A8D  72          	ld	(hl),d
2463  0A8E  3A 00 00    	ld	a,(_sprite)
2464  0A91  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2465  0A93  4F          	ld	c,a
2466  0A94  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2467  0A96  CE 00       	adc	a,0x00
2468  0A98  47          	ld	b,a
2469  0A99  3E 08       	ld	a,0x08
2470  0A9B  02          	ld	(bc),a
2471  0A9C  21 00 00    	ld	hl,_s_state
2472  0A9F  CB EE       	set	5, (hl)
2473  0AA1              l_enemy_fireball_green_00113:
2474  0AA1  C9          	ret
2475  0AA2              ;	---------------------------------
2476  0AA2              ; Function enemy_fighterfly
2477  0AA2              ; ---------------------------------
2478  0AA2              _enemy_fighterfly:
2479  0AA2  3A 00 00    	ld	a,(_s_state)
2480  0AA5  0F          	rrca
2481  0AA6  38 58       	jr	C,l_enemy_fighterfly_00106
2482  0AA8  3A 00 00    	ld	a,(_s_state)
2483  0AAB  E6 02       	and	a,0x02
2484  0AAD  20 51       	jr	NZ,l_enemy_fighterfly_00106
2485  0AAF  CD 00 00    	call	_ay_is_playing
2486  0AB2  7D          	ld	a, l
2487  0AB3  D6 02       	sub	a,0x02
2488  0AB5  30 06       	jr	NC,l_enemy_fighterfly_00102
2489  0AB7  21 00 00    	ld	hl,_ay_effect_13
2490  0ABA  CD 00 00    	call	_ay_fx_play
2491  0ABD              l_enemy_fighterfly_00102:
2492  0ABD  2A 00 00    	ld	hl,(_sprite)
2493  0AC0  26 00       	ld	h,0x00
2494  0AC2  29          	add	hl, hl
2495  0AC3  11 00 00    	ld	de,_spr_timer
2496  0AC6  19          	add	hl,de
2497  0AC7  4E          	ld	c,(hl)
2498  0AC8  23          	inc	hl
2499  0AC9  46          	ld	b,(hl)
2500  0ACA  21 1A 00    	ld	hl,0x001a
2501  0ACD  E5          	push	hl
2502  0ACE  C5          	push	bc
2503  0ACF  CD 00 00    	call	_game_check_time
2504  0AD2  F1          	pop	af
2505  0AD3  F1          	pop	af
2506  0AD4  7D          	ld	a,l
2507  0AD5  B7          	or	a, a
2508  0AD6  28 28       	jr	Z,l_enemy_fighterfly_00106
2509  0AD8  21 00 00    	ld	hl,_s_state
2510  0ADB  CB C6       	set	0, (hl)
2511  0ADD  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2512  0ADF  21 00 00    	ld	hl,_sprite
2513  0AE2  86          	add	a, (hl)
2514  0AE3  4F          	ld	c,a
2515  0AE4  3E 00       	ld	a,+((_jump_lin) / 256)
2516  0AE6  CE 00       	adc	a,0x00
2517  0AE8  47          	ld	b,a
2518  0AE9  3E 00       	ld	a,+((_lin) & 0xFF)
2519  0AEB  86          	add	a, (hl)
2520  0AEC  5F          	ld	e,a
2521  0AED  3E 00       	ld	a,+((_lin) / 256)
2522  0AEF  CE 00       	adc	a,0x00
2523  0AF1  57          	ld	d,a
2524  0AF2  1A          	ld	a,(de)
2525  0AF3  02          	ld	(bc),a
2526  0AF4  6E          	ld	l, (hl)
2527  0AF5  26 00       	ld	h,0x00
2528  0AF7  29          	add	hl, hl
2529  0AF8  11 00 00    	ld	de,_spr_timer
2530  0AFB  19          	add	hl,de
2531  0AFC  AF          	xor	a, a
2532  0AFD  77          	ld	(hl), a
2533  0AFE  23          	inc	hl
2534  0AFF  77          	ld	(hl), a
2535  0B00              l_enemy_fighterfly_00106:
2536  0B00  3A 00 00    	ld	a,(_s_state)
2537  0B03  0F          	rrca
2538  0B04  30 31       	jr	NC,l_enemy_fighterfly_00115
2539  0B06  2A 00 00    	ld	hl,(_sprite)
2540  0B09  26 00       	ld	h,0x00
2541  0B0B  5D          	ld	e,l
2542  0B0C  01 00 00    	ld	bc,_jump_lin
2543  0B0F  09          	add	hl,bc
2544  0B10  4E          	ld	c,(hl)
2545  0B11  06 00       	ld	b,0x00
2546  0B13  50          	ld	d,b
2547  0B14  21 00 00    	ld	hl,_lin
2548  0B17  19          	add	hl,de
2549  0B18  5E          	ld	e, (hl)
2550  0B19  16 00       	ld	d,0x00
2551  0B1B  79          	ld	a,c
2552  0B1C  93          	sub	a, e
2553  0B1D  4F          	ld	c,a
2554  0B1E  78          	ld	a,b
2555  0B1F  9A          	sbc	a, d
2556  0B20  47          	ld	b,a
2557  0B21  79          	ld	a,c
2558  0B22  D6 08       	sub	a,0x08
2559  0B24  78          	ld	a,b
2560  0B25  17          	rla
2561  0B26  3F          	ccf
2562  0B27  1F          	rra
2563  0B28  DE 80       	sbc	a,0x80
2564  0B2A  38 03       	jr	C,l_enemy_fighterfly_00109
2565  0B2C  CD 00 00    	call	_spr_set_fall
2566  0B2F              l_enemy_fighterfly_00109:
2567  0B2F  CD 00 00    	call	_spr_move_horizontal
2568  0B32  CD 00 00    	call	_spr_move_up
2569  0B35  18 29       	jr	l_enemy_fighterfly_00116
2570  0B37              l_enemy_fighterfly_00115:
2571  0B37  01 00 00    	ld	bc,_spr_timer+0
2572  0B3A  2A 00 00    	ld	hl,(_sprite)
2573  0B3D  26 00       	ld	h,0x00
2574  0B3F  29          	add	hl, hl
2575  0B40  09          	add	hl,bc
2576  0B41  4D          	ld	c,l
2577  0B42  44          	ld	b,h
2578  0B43  5E          	ld	e,(hl)
2579  0B44  23          	inc	hl
2580  0B45  7E          	ld	a, (hl)
2581  0B46  B3          	or	a,e
2582  0B47  20 09       	jr	NZ,l_enemy_fighterfly_00111
2583  0B49  ED 5B 00 00 	ld	de,(_curr_time)
2584  0B4D  7B          	ld	a,e
2585  0B4E  02          	ld	(bc),a
2586  0B4F  03          	inc	bc
2587  0B50  7A          	ld	a,d
2588  0B51  02          	ld	(bc),a
2589  0B52              l_enemy_fighterfly_00111:
2590  0B52  3A 00 00    	ld	a,(_s_state)
2591  0B55  E6 02       	and	a,0x02
2592  0B57  CA 63 0B    	jp	Z,_enemy_trip
2593  0B5A  CD 68 0D    	call	_enemy_walk
2594  0B5D  CD 00 00    	call	_spr_move_horizontal
2595  0B60              l_enemy_fighterfly_00116:
2596  0B60  C3 63 0B    	jp  _enemy_trip
2597  0B63              ;	---------------------------------
2598  0B63              ; Function enemy_trip
2599  0B63              ; ---------------------------------
2600  0B63              _enemy_trip:
2601  0B63  2A 00 00    	ld	hl,(_sprite)
2602  0B66  26 00       	ld	h,0x00
2603  0B68  01 00 00    	ld	bc,_lin
2604  0B6B  09          	add	hl,bc
2605  0B6C  46          	ld	b,(hl)
2606  0B6D  3E 80       	ld	a,0x80
2607  0B6F  90          	sub	a, b
2608  0B70  D2 69 0C    	jp	NC,l_enemy_trip_00114
2609  0B73  21 00 00    	ld	hl,_tmp
2610  0B76  36 00       	ld	(hl),0x00
2611  0B78  2A 00 00    	ld	hl,(_sprite)
2612  0B7B  26 00       	ld	h,0x00
2613  0B7D  11 00 00    	ld	de,_col
2614  0B80  19          	add	hl,de
2615  0B81  7E          	ld	a,(hl)
2616  0B82  57          	ld	d,a
2617  0B83  D6 1B       	sub	a,0x1b
2618  0B85  20 41       	jr	NZ,l_enemy_trip_00104
2619  0B87  21 00 00    	ld	hl,_tmp
2620  0B8A  36 01       	ld	(hl),0x01
2621  0B8C  15          	dec	d
2622  0B8D  58          	ld	e,b
2623  0B8E  D5          	push	de
2624  0B8F  AF          	xor	a, a
2625  0B90  F5          	push	af
2626  0B91  33          	inc	sp
2627  0B92  CD 00 00    	call	_NIRVANAP_fillT_callee
2628  0B95  3E 00       	ld	a,+((_lin) & 0xFF)
2629  0B97  21 00 00    	ld	hl,_sprite
2630  0B9A  86          	add	a, (hl)
2631  0B9B  4F          	ld	c,a
2632  0B9C  3E 00       	ld	a,+((_lin) / 256)
2633  0B9E  CE 00       	adc	a,0x00
2634  0BA0  47          	ld	b,a
2635  0BA1  3E 10       	ld	a,0x10
2636  0BA3  02          	ld	(bc),a
2637  0BA4  3E 00       	ld	a,+((_col) & 0xFF)
2638  0BA6  86          	add	a, (hl)
2639  0BA7  4F          	ld	c,a
2640  0BA8  3E 00       	ld	a,+((_col) / 256)
2641  0BAA  CE 00       	adc	a,0x00
2642  0BAC  47          	ld	b,a
2643  0BAD  3E 1A       	ld	a,0x1a
2644  0BAF  02          	ld	(bc),a
2645  0BB0  21 00 00    	ld	hl,_s_state
2646  0BB3  CB DE       	set	3, (hl)
2647  0BB5  CB 96       	res	2, (hl)
2648  0BB7  CD 00 00    	call	_sound_enter_enemy
2649  0BBA  CD 00 00    	call	_ay_is_playing
2650  0BBD  7D          	ld	a, l
2651  0BBE  D6 02       	sub	a,0x02
2652  0BC0  30 06       	jr	NC,l_enemy_trip_00104
2653  0BC2  21 00 00    	ld	hl,_ay_effect_04
2654  0BC5  CD 00 00    	call	_ay_fx_play
2655  0BC8              l_enemy_trip_00104:
2656  0BC8  2A 00 00    	ld	hl,(_sprite)
2657  0BCB  26 00       	ld	h,0x00
2658  0BCD  01 00 00    	ld	bc,_col
2659  0BD0  09          	add	hl,bc
2660  0BD1  7E          	ld	a,(hl)
2661  0BD2  47          	ld	b,a
2662  0BD3  D6 03       	sub	a,0x03
2663  0BD5  20 4A       	jr	NZ,l_enemy_trip_00108
2664  0BD7  21 00 00    	ld	hl,_tmp
2665  0BDA  36 01       	ld	(hl),0x01
2666  0BDC  04          	inc	b
2667  0BDD  2A 00 00    	ld	hl,(_sprite)
2668  0BE0  26 00       	ld	h,0x00
2669  0BE2  11 00 00    	ld	de,_lin
2670  0BE5  19          	add	hl,de
2671  0BE6  4E          	ld	c, (hl)
2672  0BE7  C5          	push	bc
2673  0BE8  AF          	xor	a, a
2674  0BE9  F5          	push	af
2675  0BEA  33          	inc	sp
2676  0BEB  CD 00 00    	call	_NIRVANAP_fillT_callee
2677  0BEE  3E 00       	ld	a,+((_lin) & 0xFF)
2678  0BF0  21 00 00    	ld	hl,_sprite
2679  0BF3  86          	add	a, (hl)
2680  0BF4  4F          	ld	c,a
2681  0BF5  3E 00       	ld	a,+((_lin) / 256)
2682  0BF7  CE 00       	adc	a,0x00
2683  0BF9  47          	ld	b,a
2684  0BFA  3E 10       	ld	a,0x10
2685  0BFC  02          	ld	(bc),a
2686  0BFD  3E 00       	ld	a,+((_col) & 0xFF)
2687  0BFF  86          	add	a, (hl)
2688  0C00  4F          	ld	c,a
2689  0C01  3E 00       	ld	a,+((_col) / 256)
2690  0C03  CE 00       	adc	a,0x00
2691  0C05  47          	ld	b,a
2692  0C06  3E 04       	ld	a,0x04
2693  0C08  02          	ld	(bc),a
2694  0C09  21 00 00    	ld	hl,_s_state
2695  0C0C  CB D6       	set	2, (hl)
2696  0C0E  CB 9E       	res	3, (hl)
2697  0C10  CD 00 00    	call	_sound_enter_enemy
2698  0C13  CD 00 00    	call	_ay_is_playing
2699  0C16  7D          	ld	a, l
2700  0C17  D6 02       	sub	a,0x02
2701  0C19  30 06       	jr	NC,l_enemy_trip_00108
2702  0C1B  21 00 00    	ld	hl,_ay_effect_04
2703  0C1E  CD 00 00    	call	_ay_fx_play
2704  0C21              l_enemy_trip_00108:
2705  0C21  3A 00 00    	ld	a,(_tmp)
2706  0C24  B7          	or	a, a
2707  0C25  C8          	ret	Z
2708  0C26  2A 00 00    	ld	hl,(_sprite)
2709  0C29  26 00       	ld	h,0x00
2710  0C2B  01 00 00    	ld	bc,_class
2711  0C2E  09          	add	hl,bc
2712  0C2F  4E          	ld	c,(hl)
2713  0C30  3E 03       	ld	a,0x03
2714  0C32  91          	sub	a,c
2715  0C33  D8          	ret	C
2716  0C34  3E 00       	ld	a,+((_colint) & 0xFF)
2717  0C36  21 00 00    	ld	hl,_sprite
2718  0C39  86          	add	a, (hl)
2719  0C3A  4F          	ld	c,a
2720  0C3B  3E 00       	ld	a,+((_colint) / 256)
2721  0C3D  CE 00       	adc	a,0x00
2722  0C3F  47          	ld	b,a
2723  0C40  AF          	xor	a, a
2724  0C41  02          	ld	(bc),a
2725  0C42  3E 00       	ld	a,+((_state) & 0xFF)
2726  0C44  86          	add	a, (hl)
2727  0C45  4F          	ld	c,a
2728  0C46  3E 00       	ld	a,+((_state) / 256)
2729  0C48  CE 00       	adc	a,0x00
2730  0C4A  47          	ld	b,a
2731  0C4B  3A 00 00    	ld	a,(_s_state)
2732  0C4E  02          	ld	(bc),a
2733  0C4F  3E 00       	ld	a,+((_tile) & 0xFF)
2734  0C51  21 00 00    	ld	hl,_sprite
2735  0C54  86          	add	a, (hl)
2736  0C55  4F          	ld	c,a
2737  0C56  3E 00       	ld	a,+((_tile) / 256)
2738  0C58  CE 00       	adc	a,0x00
2739  0C5A  47          	ld	b,a
2740  0C5B  7E          	ld	a,(hl)
2741  0C5C  C5          	push	bc
2742  0C5D  F5          	push	af
2743  0C5E  33          	inc	sp
2744  0C5F  CD 00 00    	call	_spr_tile
2745  0C62  33          	inc	sp
2746  0C63  C1          	pop	bc
2747  0C64  7D          	ld	a, l
2748  0C65  02          	ld	(bc),a
2749  0C66  CD 00 00    	call	_spr_set_fall
2750  0C69              l_enemy_trip_00114:
2751  0C69  C9          	ret
2752  0C6A              ;	---------------------------------
2753  0C6A              ; Function enemy_standard_hit
2754  0C6A              ; ---------------------------------
2755  0C6A              _enemy_standard_hit:
2756  0C6A  3A 00 00    	ld	a,(_sprite)
2757  0C6D  C6 00       	add	a,+((_state) & 0xFF)
2758  0C6F  4F          	ld	c,a
2759  0C70  3E 00       	ld	a,+((_state) / 256)
2760  0C72  CE 00       	adc	a,0x00
2761  0C74  47          	ld	b,a
2762  0C75  0A          	ld	a,(bc)
2763  0C76  07          	rlca
2764  0C77  38 23       	jr	C,l_enemy_standard_hit_00102
2765  0C79  2A 00 00    	ld	hl,(_game_time_flipped)
2766  0C7C  11 CE FF    	ld	de,0xffce
2767  0C7F  19          	add	hl,de
2768  0C80  EB          	ex	de,hl
2769  0C81  2A 00 00    	ld	hl,(_sprite)
2770  0C84  26 00       	ld	h,0x00
2771  0C86  29          	add	hl, hl
2772  0C87  01 00 00    	ld	bc,_spr_timer
2773  0C8A  09          	add	hl,bc
2774  0C8B  4E          	ld	c,(hl)
2775  0C8C  23          	inc	hl
2776  0C8D  46          	ld	b,(hl)
2777  0C8E  D5          	push	de
2778  0C8F  C5          	push	bc
2779  0C90  CD 00 00    	call	_game_check_time
2780  0C93  F1          	pop	af
2781  0C94  F1          	pop	af
2782  0C95  7D          	ld	a,l
2783  0C96  B7          	or	a, a
2784  0C97  28 03       	jr	Z,l_enemy_standard_hit_00102
2785  0C99  CD D7 0C    	call	_enemy_evolve
2786  0C9C              l_enemy_standard_hit_00102:
2787  0C9C  01 00 00    	ld	bc,_spr_timer+0
2788  0C9F  2A 00 00    	ld	hl,(_sprite)
2789  0CA2  26 00       	ld	h,0x00
2790  0CA4  29          	add	hl, hl
2791  0CA5  09          	add	hl,bc
2792  0CA6  4E          	ld	c,(hl)
2793  0CA7  23          	inc	hl
2794  0CA8  46          	ld	b,(hl)
2795  0CA9  2A 00 00    	ld	hl,(_game_time_flipped)
2796  0CAC  E5          	push	hl
2797  0CAD  C5          	push	bc
2798  0CAE  CD 00 00    	call	_game_check_time
2799  0CB1  F1          	pop	af
2800  0CB2  F1          	pop	af
2801  0CB3  7D          	ld	a,l
2802  0CB4  B7          	or	a, a
2803  0CB5  C8          	ret	Z
2804  0CB6  3A 00 00    	ld	a,(_sprite)
2805  0CB9  32 00 00    	ld	(_enemies),a
2806  0CBC  F5          	push	af
2807  0CBD  33          	inc	sp
2808  0CBE  CD 00 00    	call	_spr_tile
2809  0CC1  33          	inc	sp
2810  0CC2  E5          	push	hl
2811  0CC3  CD 97 04    	call	_enemy_flip
2812  0CC6  F1          	pop	af
2813  0CC7  3A 00 00    	ld	a,(_sprite)
2814  0CCA  C6 00       	add	a,+((_state) & 0xFF)
2815  0CCC  4F          	ld	c,a
2816  0CCD  3E 00       	ld	a,+((_state) / 256)
2817  0CCF  CE 00       	adc	a,0x00
2818  0CD1  47          	ld	b,a
2819  0CD2  0A          	ld	a,(bc)
2820  0CD3  32 00 00    	ld	(_s_state),a
2821  0CD6  C9          	ret
2822  0CD7              ;	---------------------------------
2823  0CD7              ; Function enemy_evolve
2824  0CD7              ; ---------------------------------
2825  0CD7              _enemy_evolve:
2826  0CD7  2A 00 00    	ld	hl,(_sprite)
2827  0CDA  26 00       	ld	h,0x00
2828  0CDC  01 00 00    	ld	bc,_class
2829  0CDF  09          	add	hl,bc
2830  0CE0  7E          	ld	a,(hl)
2831  0CE1  4F          	ld	c,a
2832  0CE2  3D          	dec	a
2833  0CE3  20 0F       	jr	NZ,l_enemy_evolve_00104
2834  0CE5  21 3C 00    	ld	hl,0x003c
2835  0CE8  E5          	push	hl
2836  0CE9  3E 02       	ld	a,0x02
2837  0CEB  F5          	push	af
2838  0CEC  33          	inc	sp
2839  0CED  CD 36 0D    	call	_enemy_upgrade
2840  0CF0  F1          	pop	af
2841  0CF1  33          	inc	sp
2842  0CF2  18 12       	jr	l_enemy_evolve_00105
2843  0CF4              l_enemy_evolve_00104:
2844  0CF4  79          	ld	a,c
2845  0CF5  D6 02       	sub	a,0x02
2846  0CF7  20 0D       	jr	NZ,l_enemy_evolve_00105
2847  0CF9  21 48 00    	ld	hl,0x0048
2848  0CFC  E5          	push	hl
2849  0CFD  3E 03       	ld	a,0x03
2850  0CFF  F5          	push	af
2851  0D00  33          	inc	sp
2852  0D01  CD 36 0D    	call	_enemy_upgrade
2853  0D04  F1          	pop	af
2854  0D05  33          	inc	sp
2855  0D06              l_enemy_evolve_00105:
2856  0D06  2A 00 00    	ld	hl,(_sprite)
2857  0D09  26 00       	ld	h,0x00
2858  0D0B  01 00 00    	ld	bc,_class
2859  0D0E  09          	add	hl,bc
2860  0D0F  7E          	ld	a,(hl)
2861  0D10  4F          	ld	c,a
2862  0D11  D6 04       	sub	a,0x04
2863  0D13  20 0F       	jr	NZ,l_enemy_evolve_00109
2864  0D15  21 60 00    	ld	hl,0x0060
2865  0D18  E5          	push	hl
2866  0D19  3E 05       	ld	a,0x05
2867  0D1B  F5          	push	af
2868  0D1C  33          	inc	sp
2869  0D1D  CD 36 0D    	call	_enemy_upgrade
2870  0D20  F1          	pop	af
2871  0D21  33          	inc	sp
2872  0D22  18 11       	jr	l_enemy_evolve_00111
2873  0D24              l_enemy_evolve_00109:
2874  0D24  79          	ld	a,c
2875  0D25  D6 05       	sub	a,0x05
2876  0D27  C0          	ret	NZ
2877  0D28  21 6C 00    	ld	hl,0x006c
2878  0D2B  E5          	push	hl
2879  0D2C  3E 06       	ld	a,0x06
2880  0D2E  F5          	push	af
2881  0D2F  33          	inc	sp
2882  0D30  CD 36 0D    	call	_enemy_upgrade
2883  0D33  F1          	pop	af
2884  0D34  33          	inc	sp
2885  0D35              l_enemy_evolve_00111:
2886  0D35  C9          	ret
2887  0D36              ;	---------------------------------
2888  0D36              ; Function enemy_upgrade
2889  0D36              ; ---------------------------------
2890  0D36              _enemy_upgrade:
2891  0D36  CD 00 00    	call	___sdcc_enter_ix
2892  0D39  3E 00       	ld	a,+((_class) & 0xFF)
2893  0D3B  21 00 00    	ld	hl,_sprite
2894  0D3E  86          	add	a, (hl)
2895  0D3F  4F          	ld	c,a
2896  0D40  3E 00       	ld	a,+((_class) / 256)
2897  0D42  CE 00       	adc	a,0x00
2898  0D44  47          	ld	b,a
2899  0D45  DD 7E 04    	ld	a,(ix+4)
2900  0D48  02          	ld	(bc),a
2901  0D49  3E 00       	ld	a,+((_tile) & 0xFF)
2902  0D4B  86          	add	a, (hl)
2903  0D4C  4F          	ld	c,a
2904  0D4D  3E 00       	ld	a,+((_tile) / 256)
2905  0D4F  CE 00       	adc	a,0x00
2906  0D51  47          	ld	b,a
2907  0D52  DD 7E 05    	ld	a,(ix+5)
2908  0D55  C6 06       	add	a,0x06
2909  0D57  02          	ld	(bc),a
2910  0D58  3E 00       	ld	a,+((_state) & 0xFF)
2911  0D5A  86          	add	a, (hl)
2912  0D5B  4F          	ld	c,a
2913  0D5C  3E 00       	ld	a,+((_state) / 256)
2914  0D5E  CE 00       	adc	a,0x00
2915  0D60  47          	ld	b,a
2916  0D61  0A          	ld	a,(bc)
2917  0D62  CB FF       	set	7, a
2918  0D64  02          	ld	(bc),a
2919  0D65  DD E1       	pop	ix
2920  0D67  C9          	ret
2921  0D68              ;	---------------------------------
2922  0D68              ; Function enemy_walk
2923  0D68              ; ---------------------------------
2924  0D68              _enemy_walk:
2925  0D68  3A 00 00    	ld	a,(_s_state)
2926  0D6B  0F          	rrca
2927  0D6C  38 4A       	jr	C,l_enemy_walk_00106
2928  0D6E  3A 00 00    	ld	a,(_s_state)
2929  0D71  E6 02       	and	a,0x02
2930  0D73  20 43       	jr	NZ,l_enemy_walk_00106
2931  0D75  3A 00 00    	ld	a,(_sprite)
2932  0D78  C6 00       	add	a,+((_col) & 0xFF)
2933  0D7A  4F          	ld	c,a
2934  0D7B  3E 00       	ld	a,+((_col) / 256)
2935  0D7D  CE 00       	adc	a,0x00
2936  0D7F  47          	ld	b,a
2937  0D80  0A          	ld	a,(bc)
2938  0D81  57          	ld	d,a
2939  0D82  CB 47       	bit	0,a
2940  0D84  28 14       	jr	Z,l_enemy_walk_00102
2941  0D86  3A 00 00    	ld	a,(_s_state)
2942  0D89  E6 10       	and	a,0x10
2943  0D8B  20 0D       	jr	NZ,l_enemy_walk_00102
2944  0D8D  21 00 00    	ld	hl,0x0000
2945  0D90  22 00 00    	ld	(_index_d),hl
2946  0D93  21 00 00    	ld	hl,_tmp
2947  0D96  36 00       	ld	(hl),0x00
2948  0D98  18 44       	jr	l_enemy_walk_00107
2949  0D9A              l_enemy_walk_00102:
2950  0D9A  3A 00 00    	ld	a,(_sprite)
2951  0D9D  C6 00       	add	a,+((_lin) & 0xFF)
2952  0D9F  4F          	ld	c,a
2953  0DA0  3E 00       	ld	a,+((_lin) / 256)
2954  0DA2  CE 00       	adc	a,0x00
2955  0DA4  47          	ld	b,a
2956  0DA5  0A          	ld	a,(bc)
2957  0DA6  C6 10       	add	a,0x10
2958  0DA8  5F          	ld	e, a
2959  0DA9  D5          	push	de
2960  0DAA  CD 00 00    	call	_game_calc_index
2961  0DAD  E3          	ex	(sp),hl
2962  0DAE  CD 00 00    	call	_game_check_maze
2963  0DB1  F1          	pop	af
2964  0DB2  7D          	ld	a,l
2965  0DB3  32 00 00    	ld	(_tmp),a
2966  0DB6  18 26       	jr	l_enemy_walk_00107
2967  0DB8              l_enemy_walk_00106:
2968  0DB8  3E 00       	ld	a,+((_col) & 0xFF)
2969  0DBA  21 00 00    	ld	hl,_sprite
2970  0DBD  86          	add	a, (hl)
2971  0DBE  4F          	ld	c,a
2972  0DBF  3E 00       	ld	a,+((_col) / 256)
2973  0DC1  CE 00       	adc	a,0x00
2974  0DC3  47          	ld	b,a
2975  0DC4  0A          	ld	a,(bc)
2976  0DC5  57          	ld	d,a
2977  0DC6  4E          	ld	c,(hl)
2978  0DC7  06 00       	ld	b,0x00
2979  0DC9  21 00 00    	ld	hl,_lin
2980  0DCC  09          	add	hl,bc
2981  0DCD  7E          	ld	a,(hl)
2982  0DCE  C6 10       	add	a,0x10
2983  0DD0  5F          	ld	e, a
2984  0DD1  D5          	push	de
2985  0DD2  CD 00 00    	call	_game_calc_index
2986  0DD5  E3          	ex	(sp),hl
2987  0DD6  CD 00 00    	call	_game_check_maze
2988  0DD9  F1          	pop	af
2989  0DDA  7D          	ld	a,l
2990  0DDB  32 00 00    	ld	(_tmp),a
2991  0DDE              l_enemy_walk_00107:
2992  0DDE  3A 00 00    	ld	a,(_tmp)
2993  0DE1  B7          	or	a, a
2994  0DE2  CA 7E 0E    	jp	Z,l_enemy_walk_00135
2995  0DE5  3A 00 00    	ld	a,(_s_state)
2996  0DE8  0F          	rrca
2997  0DE9  38 05       	jr	C,l_enemy_walk_00110
2998  0DEB  21 00 00    	ld	hl,_s_state
2999  0DEE  CB CE       	set	1, (hl)
3000  0DF0              l_enemy_walk_00110:
3001  0DF0  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3002  0DF2  21 00 00    	ld	hl,_sprite
3003  0DF5  86          	add	a, (hl)
3004  0DF6  4F          	ld	c,a
3005  0DF7  3E 00       	ld	a,+((_jump_lin) / 256)
3006  0DF9  CE 00       	adc	a,0x00
3007  0DFB  47          	ld	b,a
3008  0DFC  0A          	ld	a,(bc)
3009  0DFD  B7          	or	a, a
3010  0DFE  20 09       	jr	NZ,l_enemy_walk_00112
3011  0E00  5E          	ld	e,(hl)
3012  0E01  16 00       	ld	d,0x00
3013  0E03  21 00 00    	ld	hl,_lin
3014  0E06  19          	add	hl,de
3015  0E07  7E          	ld	a,(hl)
3016  0E08  02          	ld	(bc),a
3017  0E09              l_enemy_walk_00112:
3018  0E09  3A 00 00    	ld	a,(_s_state)
3019  0E0C  E6 02       	and	a,0x02
3020  0E0E  28 11       	jr	Z,l_enemy_walk_00114
3021  0E10  3A 00 00    	ld	a,(_sprite)
3022  0E13  C6 00       	add	a,+((_lin) & 0xFF)
3023  0E15  4F          	ld	c,a
3024  0E16  3E 00       	ld	a,+((_lin) / 256)
3025  0E18  CE 00       	adc	a,0x00
3026  0E1A  47          	ld	b,a
3027  0E1B  0A          	ld	a,(bc)
3028  0E1C  C6 04       	add	a,0x04
3029  0E1E  02          	ld	(bc),a
3030  0E1F  18 0F       	jr	l_enemy_walk_00115
3031  0E21              l_enemy_walk_00114:
3032  0E21  3A 00 00    	ld	a,(_sprite)
3033  0E24  C6 00       	add	a,+((_lin) & 0xFF)
3034  0E26  4F          	ld	c,a
3035  0E27  3E 00       	ld	a,+((_lin) / 256)
3036  0E29  CE 00       	adc	a,0x00
3037  0E2B  47          	ld	b,a
3038  0E2C  0A          	ld	a,(bc)
3039  0E2D  C6 FC       	add	a,0xfc
3040  0E2F  02          	ld	(bc),a
3041  0E30              l_enemy_walk_00115:
3042  0E30  2A 00 00    	ld	hl,(_sprite)
3043  0E33  26 00       	ld	h,0x00
3044  0E35  01 00 00    	ld	bc,_class
3045  0E38  09          	add	hl,bc
3046  0E39  7E          	ld	a,(hl)
3047  0E3A  D6 09       	sub	a,0x09
3048  0E3C  CA 61 0F    	jp	Z,l_enemy_walk_00137
3049  0E3F  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3050  0E41  21 00 00    	ld	hl,_sprite
3051  0E44  86          	add	a, (hl)
3052  0E45  4F          	ld	c,a
3053  0E46  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3054  0E48  CE 00       	adc	a,0x00
3055  0E4A  47          	ld	b,a
3056  0E4B  3E 02       	ld	a,0x02
3057  0E4D  02          	ld	(bc),a
3058  0E4E  3E 00       	ld	a,+((_lin) & 0xFF)
3059  0E50  86          	add	a, (hl)
3060  0E51  4F          	ld	c,a
3061  0E52  3E 00       	ld	a,+((_lin) / 256)
3062  0E54  CE 00       	adc	a,0x00
3063  0E56  47          	ld	b,a
3064  0E57  0A          	ld	a,(bc)
3065  0E58  4F          	ld	c,a
3066  0E59  06 00       	ld	b,0x00
3067  0E5B  5E          	ld	e,(hl)
3068  0E5C  50          	ld	d,b
3069  0E5D  21 00 00    	ld	hl,_jump_lin
3070  0E60  19          	add	hl,de
3071  0E61  5E          	ld	e, (hl)
3072  0E62  16 00       	ld	d,0x00
3073  0E64  79          	ld	a,c
3074  0E65  93          	sub	a, e
3075  0E66  4F          	ld	c,a
3076  0E67  78          	ld	a,b
3077  0E68  9A          	sbc	a, d
3078  0E69  47          	ld	b,a
3079  0E6A  3E 10       	ld	a,0x10
3080  0E6C  B9          	cp	a, c
3081  0E6D  3E 00       	ld	a,0x00
3082  0E6F  98          	sbc	a, b
3083  0E70  E2 75 0E    	jp	PO, l_enemy_walk_00218
3084  0E73  EE 80       	xor	a,0x80
3085  0E75              l_enemy_walk_00218:
3086  0E75  FA 61 0F    	jp	M,l_enemy_walk_00137
3087  0E78  CD 00 00    	call	_spr_move_horizontal
3088  0E7B  C3 61 0F    	jp	l_enemy_walk_00137
3089  0E7E              l_enemy_walk_00135:
3090  0E7E  3A 00 00    	ld	a,(_sprite)
3091  0E81  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
3092  0E83  4F          	ld	c,a
3093  0E84  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3094  0E86  CE 00       	adc	a,0x00
3095  0E88  47          	ld	b,a
3096  0E89  AF          	xor	a, a
3097  0E8A  02          	ld	(bc),a
3098  0E8B  3A 00 00    	ld	a,(_s_state)
3099  0E8E  E6 02       	and	a,0x02
3100  0E90  28 12       	jr	Z,l_enemy_walk_00121
3101  0E92  21 00 00    	ld	hl,_s_state
3102  0E95  CB 8E       	res	1, (hl)
3103  0E97  3A 00 00    	ld	a,(_sprite)
3104  0E9A  C6 00       	add	a,+((_jump_lin) & 0xFF)
3105  0E9C  4F          	ld	c,a
3106  0E9D  3E 00       	ld	a,+((_jump_lin) / 256)
3107  0E9F  CE 00       	adc	a,0x00
3108  0EA1  47          	ld	b,a
3109  0EA2  AF          	xor	a, a
3110  0EA3  02          	ld	(bc),a
3111  0EA4              l_enemy_walk_00121:
3112  0EA4  3A 00 00    	ld	a,(_s_state)
3113  0EA7  E6 10       	and	a,0x10
3114  0EA9  20 41       	jr	NZ,l_enemy_walk_00125
3115  0EAB  3A 00 00    	ld	a,(_sprite)
3116  0EAE  C6 00       	add	a,+((_state_a) & 0xFF)
3117  0EB0  4F          	ld	c,a
3118  0EB1  3E 00       	ld	a,+((_state_a) / 256)
3119  0EB3  CE 00       	adc	a,0x00
3120  0EB5  47          	ld	b,a
3121  0EB6  0A          	ld	a,(bc)
3122  0EB7  CB 4F       	bit	1, a
3123  0EB9  20 31       	jr	NZ,l_enemy_walk_00125
3124  0EBB  01 00 00    	ld	bc,_spr_timer_c+0
3125  0EBE  2A 00 00    	ld	hl,(_sprite)
3126  0EC1  26 00       	ld	h,0x00
3127  0EC3  29          	add	hl, hl
3128  0EC4  09          	add	hl,bc
3129  0EC5  5E          	ld	e,(hl)
3130  0EC6  23          	inc	hl
3131  0EC7  56          	ld	d,(hl)
3132  0EC8  C5          	push	bc
3133  0EC9  21 05 00    	ld	hl,0x0005
3134  0ECC  E5          	push	hl
3135  0ECD  D5          	push	de
3136  0ECE  CD 00 00    	call	_game_check_time
3137  0ED1  F1          	pop	af
3138  0ED2  F1          	pop	af
3139  0ED3  C1          	pop	bc
3140  0ED4  7D          	ld	a,l
3141  0ED5  B7          	or	a, a
3142  0ED6  28 11       	jr	Z,l_enemy_walk_00123
3143  0ED8  2A 00 00    	ld	hl,(_sprite)
3144  0EDB  26 00       	ld	h,0x00
3145  0EDD  29          	add	hl, hl
3146  0EDE  09          	add	hl,bc
3147  0EDF  ED 5B 00 00 	ld	de,(_curr_time)
3148  0EE3  73          	ld	(hl),e
3149  0EE4  23          	inc	hl
3150  0EE5  72          	ld	(hl),d
3151  0EE6  CD 54 00    	call	_enemy_collition
3152  0EE9              l_enemy_walk_00123:
3153  0EE9  CD 00 00    	call	_spr_move_horizontal
3154  0EEC              l_enemy_walk_00125:
3155  0EEC  3A 00 00    	ld	a,(_sprite)
3156  0EEF  C6 00       	add	a,+((_state_a) & 0xFF)
3157  0EF1  4F          	ld	c,a
3158  0EF2  3E 00       	ld	a,+((_state_a) / 256)
3159  0EF4  CE 00       	adc	a,0x00
3160  0EF6  47          	ld	b,a
3161  0EF7  0A          	ld	a,(bc)
3162  0EF8  CB 4F       	bit	1, a
3163  0EFA  28 65       	jr	Z,l_enemy_walk_00137
3164  0EFC  01 00 00    	ld	bc,_spr_timer+0
3165  0EFF  2A 00 00    	ld	hl,(_sprite)
3166  0F02  26 00       	ld	h,0x00
3167  0F04  29          	add	hl, hl
3168  0F05  09          	add	hl,bc
3169  0F06  5E          	ld	e,(hl)
3170  0F07  23          	inc	hl
3171  0F08  56          	ld	d,(hl)
3172  0F09  C5          	push	bc
3173  0F0A  21 08 00    	ld	hl,0x0008
3174  0F0D  E5          	push	hl
3175  0F0E  D5          	push	de
3176  0F0F  CD 00 00    	call	_game_check_time
3177  0F12  F1          	pop	af
3178  0F13  F1          	pop	af
3179  0F14  C1          	pop	bc
3180  0F15  7D          	ld	a,l
3181  0F16  B7          	or	a, a
3182  0F17  28 48       	jr	Z,l_enemy_walk_00137
3183  0F19  2A 00 00    	ld	hl,(_sprite)
3184  0F1C  26 00       	ld	h,0x00
3185  0F1E  29          	add	hl, hl
3186  0F1F  09          	add	hl,bc
3187  0F20  ED 5B 00 00 	ld	de,(_curr_time)
3188  0F24  73          	ld	(hl),e
3189  0F25  23          	inc	hl
3190  0F26  72          	ld	(hl),d
3191  0F27  3A 00 00    	ld	a,(_sprite)
3192  0F2A  C6 00       	add	a,+((_colint) & 0xFF)
3193  0F2C  4F          	ld	c,a
3194  0F2D  3E 00       	ld	a,+((_colint) / 256)
3195  0F2F  CE 00       	adc	a,0x00
3196  0F31  47          	ld	b,a
3197  0F32  0A          	ld	a,(bc)
3198  0F33  5F          	ld	e,a
3199  0F34  D6 02       	sub	a,0x02
3200  0F36  30 05       	jr	NC,l_enemy_walk_00128
3201  0F38  1C          	inc	e
3202  0F39  7B          	ld	a,e
3203  0F3A  02          	ld	(bc),a
3204  0F3B  18 24       	jr	l_enemy_walk_00137
3205  0F3D              l_enemy_walk_00128:
3206  0F3D  2A 00 00    	ld	hl,(_sprite)
3207  0F40  26 00       	ld	h,0x00
3208  0F42  01 00 00    	ld	bc,_state_a
3209  0F45  09          	add	hl,bc
3210  0F46  7E          	ld	a,(hl)
3211  0F47  E6 FD       	and	a,0xfd
3212  0F49  77          	ld	(hl),a
3213  0F4A  3E 00       	ld	a,+((_tile) & 0xFF)
3214  0F4C  21 00 00    	ld	hl,_sprite
3215  0F4F  86          	add	a, (hl)
3216  0F50  4F          	ld	c,a
3217  0F51  3E 00       	ld	a,+((_tile) / 256)
3218  0F53  CE 00       	adc	a,0x00
3219  0F55  47          	ld	b,a
3220  0F56  7E          	ld	a,(hl)
3221  0F57  C5          	push	bc
3222  0F58  F5          	push	af
3223  0F59  33          	inc	sp
3224  0F5A  CD 00 00    	call	_spr_tile
3225  0F5D  33          	inc	sp
3226  0F5E  C1          	pop	bc
3227  0F5F  7D          	ld	a, l
3228  0F60  02          	ld	(bc),a
3229  0F61              l_enemy_walk_00137:
3230  0F61  C9          	ret
3231  0F62              ;	---------------------------------
3232  0F62              ; Function enemy_init
3233  0F62              ; ---------------------------------
3234  0F62              _enemy_init:
3235  0F62  CD 00 00    	call	___sdcc_enter_ix
3236  0F65  21 00 00    	ld	hl,_spr_count
3237  0F68  34          	inc	(hl)
3238  0F69  3E 00       	ld	a,+((_class) & 0xFF)
3239  0F6B  DD 86 04    	add	a,(ix+4)
3240  0F6E  4F          	ld	c,a
3241  0F6F  3E 00       	ld	a,+((_class) / 256)
3242  0F71  CE 00       	adc	a,0x00
3243  0F73  47          	ld	b,a
3244  0F74  DD 7E 07    	ld	a,(ix+7)
3245  0F77  02          	ld	(bc),a
3246  0F78  3E 00       	ld	a,+((_lin) & 0xFF)
3247  0F7A  DD 86 04    	add	a,(ix+4)
3248  0F7D  4F          	ld	c,a
3249  0F7E  3E 00       	ld	a,+((_lin) / 256)
3250  0F80  CE 00       	adc	a,0x00
3251  0F82  47          	ld	b,a
3252  0F83  DD 7E 05    	ld	a,(ix+5)
3253  0F86  02          	ld	(bc),a
3254  0F87  3E 00       	ld	a,+((_col) & 0xFF)
3255  0F89  DD 86 04    	add	a,(ix+4)
3256  0F8C  4F          	ld	c,a
3257  0F8D  3E 00       	ld	a,+((_col) / 256)
3258  0F8F  CE 00       	adc	a,0x00
3259  0F91  47          	ld	b,a
3260  0F92  DD 7E 06    	ld	a,(ix+6)
3261  0F95  02          	ld	(bc),a
3262  0F96  21 00 00    	ld	hl,_tmp
3263  0F99  36 00       	ld	(hl),0x00
3264  0F9B  3E 00       	ld	a,+((_state) & 0xFF)
3265  0F9D  DD 86 04    	add	a,(ix+4)
3266  0FA0  4F          	ld	c,a
3267  0FA1  3E 00       	ld	a,+((_state) / 256)
3268  0FA3  CE 00       	adc	a,0x00
3269  0FA5  47          	ld	b,a
3270  0FA6  AF          	xor	a, a
3271  0FA7  02          	ld	(bc),a
3272  0FA8  3E 00       	ld	a,+((_state_a) & 0xFF)
3273  0FAA  DD 86 04    	add	a,(ix+4)
3274  0FAD  5F          	ld	e,a
3275  0FAE  3E 00       	ld	a,+((_state_a) / 256)
3276  0FB0  CE 00       	adc	a,0x00
3277  0FB2  57          	ld	d,a
3278  0FB3  AF          	xor	a, a
3279  0FB4  12          	ld	(de),a
3280  0FB5  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3281  0FB7  DD 86 04    	add	a,(ix+4)
3282  0FBA  5F          	ld	e,a
3283  0FBB  3E 00       	ld	a,+((_jump_lin) / 256)
3284  0FBD  CE 00       	adc	a,0x00
3285  0FBF  57          	ld	d,a
3286  0FC0  AF          	xor	a, a
3287  0FC1  12          	ld	(de),a
3288  0FC2  0A          	ld	a,(bc)
3289  0FC3  5F          	ld	e,a
3290  0FC4  DD 7E 08    	ld	a,(ix+8)
3291  0FC7  3D          	dec	a
3292  0FC8  20 06       	jr	NZ,l_enemy_init_00102
3293  0FCA  7B          	ld	a,e
3294  0FCB  CB D7       	set	2, a
3295  0FCD  02          	ld	(bc),a
3296  0FCE  18 04       	jr	l_enemy_init_00103
3297  0FD0              l_enemy_init_00102:
3298  0FD0  7B          	ld	a,e
3299  0FD1  CB DF       	set	3, a
3300  0FD3  02          	ld	(bc),a
3301  0FD4              l_enemy_init_00103:
3302  0FD4  0A          	ld	a,(bc)
3303  0FD5  CB CF       	set	1, a
3304  0FD7  02          	ld	(bc),a
3305  0FD8  3E 00       	ld	a,+((_colint) & 0xFF)
3306  0FDA  DD 86 04    	add	a,(ix+4)
3307  0FDD  4F          	ld	c,a
3308  0FDE  3E 00       	ld	a,+((_colint) / 256)
3309  0FE0  CE 00       	adc	a,0x00
3310  0FE2  47          	ld	b,a
3311  0FE3  AF          	xor	a, a
3312  0FE4  02          	ld	(bc),a
3313  0FE5  3E 00       	ld	a,+((_tile) & 0xFF)
3314  0FE7  DD 86 04    	add	a,(ix+4)
3315  0FEA  4F          	ld	c,a
3316  0FEB  3E 00       	ld	a,+((_tile) / 256)
3317  0FED  CE 00       	adc	a,0x00
3318  0FEF  47          	ld	b,a
3319  0FF0  C5          	push	bc
3320  0FF1  DD 7E 04    	ld	a,(ix+4)
3321  0FF4  F5          	push	af
3322  0FF5  33          	inc	sp
3323  0FF6  CD 00 00    	call	_spr_tile
3324  0FF9  33          	inc	sp
3325  0FFA  C1          	pop	bc
3326  0FFB  7D          	ld	a, l
3327  0FFC  02          	ld	(bc),a
3328  0FFD  DD 4E 04    	ld	c,(ix+4)
3329  1000  06 00       	ld	b,0x00
3330  1002  CB 21       	sla	c
3331  1004  CB 10       	rl	b
3332  1006  21 00 00    	ld	hl,_last_time
3333  1009  09          	add	hl,bc
3334  100A  AF          	xor	a, a
3335  100B  77          	ld	(hl), a
3336  100C  23          	inc	hl
3337  100D  77          	ld	(hl), a
3338  100E  21 00 00    	ld	hl,_spr_timer
3339  1011  09          	add	hl,bc
3340  1012  ED 5B 00 00 	ld	de,(_curr_time)
3341  1016  73          	ld	(hl),e
3342  1017  23          	inc	hl
3343  1018  72          	ld	(hl),d
3344  1019  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3345  101B  DD 86 04    	add	a,(ix+4)
3346  101E  4F          	ld	c,a
3347  101F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3348  1021  CE 00       	adc	a,0x00
3349  1023  47          	ld	b,a
3350  1024  AF          	xor	a, a
3351  1025  02          	ld	(bc),a
3352  1026  DD E1       	pop	ix
3353  1028  C9          	ret
3354  1029              ;	---------------------------------
3355  1029              ; Function enemy_kill
3356  1029              ; ---------------------------------
3357  1029              _enemy_kill:
3358  1029  CD 00 00    	call	___sdcc_enter_ix
3359  102C  3B          	dec	sp
3360  102D  76          	halt
3361  102E  CD 00 00    	call	_sound_kill
3362  1031  11 00 00    	ld	de,_state+0
3363  1034  7B          	ld	a,e
3364  1035  21 00 00    	ld	hl,_sprite
3365  1038  86          	add	a, (hl)
3366  1039  4F          	ld	c,a
3367  103A  7A          	ld	a,d
3368  103B  CE 00       	adc	a,0x00
3369  103D  47          	ld	b,a
3370  103E  0A          	ld	a,(bc)
3371  103F  4F          	ld	c,a
3372  1040  7B          	ld	a,e
3373  1041  DD 86 04    	add	a,(ix+4)
3374  1044  5F          	ld	e,a
3375  1045  7A          	ld	a,d
3376  1046  CE 00       	adc	a,0x00
3377  1048  57          	ld	d,a
3378  1049  1A          	ld	a,(de)
3379  104A  CB 59       	bit	3, c
3380  104C  28 07       	jr	Z,l_enemy_kill_00102
3381  104E  CB DF       	set	3, a
3382  1050  E6 FB       	and	a,0xfb
3383  1052  12          	ld	(de),a
3384  1053  18 05       	jr	l_enemy_kill_00103
3385  1055              l_enemy_kill_00102:
3386  1055  CB D7       	set	2, a
3387  1057  E6 F7       	and	a,0xf7
3388  1059  12          	ld	(de),a
3389  105A              l_enemy_kill_00103:
3390  105A  1A          	ld	a,(de)
3391  105B  CB C7       	set	0, a
3392  105D  DD 77 FF    	ld	(ix-1),a
3393  1060  12          	ld	(de),a
3394  1061  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3395  1063  DD 86 04    	add	a,(ix+4)
3396  1066  4F          	ld	c,a
3397  1067  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3398  1069  CE 00       	adc	a,0x00
3399  106B  47          	ld	b,a
3400  106C  3E 08       	ld	a,0x08
3401  106E  02          	ld	(bc),a
3402  106F  DD 7E FF    	ld	a,(ix-1)
3403  1072  CB EF       	set	5, a
3404  1074  12          	ld	(de),a
3405  1075  3E 08       	ld	a,0x08
3406  1077  02          	ld	(bc),a
3407  1078  21 00 00    	ld	hl,_hit_count
3408  107B  46          	ld	b,(hl)
3409  107C  11 50 00    	ld	de,0x0050
3410  107F  04          	inc	b
3411  1080  18 04       	jr	l_enemy_kill_00137
3412  1082              l_enemy_kill_00136:
3413  1082  CB 23       	sla	e
3414  1084  CB 12       	rl	d
3415  1086              l_enemy_kill_00137:
3416  1086  10 FA       	djnz	l_enemy_kill_00136
3417  1088  D5          	push	de
3418  1089  CD 00 00    	call	_player_score_add
3419  108C  F1          	pop	af
3420  108D  21 00 00    	ld	hl,_hit_count
3421  1090  34          	inc	(hl)
3422  1091  01 00 00    	ld	bc,_spr_timer+0
3423  1094  DD 6E 04    	ld	l,(ix+4)
3424  1097  26 00       	ld	h,0x00
3425  1099  29          	add	hl, hl
3426  109A  09          	add	hl,bc
3427  109B  ED 5B 00 00 	ld	de,(_curr_time)
3428  109F  73          	ld	(hl),e
3429  10A0  23          	inc	hl
3430  10A1  72          	ld	(hl),d
3431  10A2  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3432  10A4  DD 86 04    	add	a,(ix+4)
3433  10A7  4F          	ld	c,a
3434  10A8  3E 00       	ld	a,+((_jump_lin) / 256)
3435  10AA  CE 00       	adc	a,0x00
3436  10AC  47          	ld	b,a
3437  10AD  3E 00       	ld	a,+((_lin) & 0xFF)
3438  10AF  DD 86 04    	add	a,(ix+4)
3439  10B2  5F          	ld	e,a
3440  10B3  3E 00       	ld	a,+((_lin) / 256)
3441  10B5  CE 00       	adc	a,0x00
3442  10B7  57          	ld	d,a
3443  10B8  1A          	ld	a,(de)
3444  10B9  02          	ld	(bc),a
3445  10BA  3E 00       	ld	a,+((_class) & 0xFF)
3446  10BC  DD 86 04    	add	a,(ix+4)
3447  10BF  4F          	ld	c,a
3448  10C0  3E 00       	ld	a,+((_class) / 256)
3449  10C2  CE 00       	adc	a,0x00
3450  10C4  47          	ld	b,a
3451  10C5  0A          	ld	a,(bc)
3452  10C6  4F          	ld	c,a
3453  10C7  3E 09       	ld	a,0x09
3454  10C9  91          	sub	a, c
3455  10CA  38 0F       	jr	C,l_enemy_kill_00107
3456  10CC  3A 00 00    	ld	a,(_game_type)
3457  10CF  D6 02       	sub	a,0x02
3458  10D1  28 04       	jr	Z,l_enemy_kill_00105
3459  10D3  21 00 00    	ld	hl,_phase_left
3460  10D6  35          	dec	(hl)
3461  10D7              l_enemy_kill_00105:
3462  10D7  21 00 00    	ld	hl,_phase_coins
3463  10DA  34          	inc	(hl)
3464  10DB              l_enemy_kill_00107:
3465  10DB  3A 00 00    	ld	a,(_phase_left)
3466  10DE  B7          	or	a, a
3467  10DF  28 08       	jr	Z,l_enemy_kill_00111
3468  10E1  21 00 00    	ld	hl,_ay_effect_11
3469  10E4  CD 00 00    	call	_ay_fx_play
3470  10E7  18 0F       	jr	l_enemy_kill_00113
3471  10E9              l_enemy_kill_00111:
3472  10E9  CD 00 00    	call	_ay_reset
3473  10EC  3A 00 00    	ld	a,(_game_bonus)
3474  10EF  B7          	or	a, a
3475  10F0  20 06       	jr	NZ,l_enemy_kill_00113
3476  10F2  21 00 00    	ld	hl,_ay_effect_17
3477  10F5  CD 00 00    	call	_ay_fx_play
3478  10F8              l_enemy_kill_00113:
3479  10F8  33          	inc	sp
3480  10F9  DD E1       	pop	ix
3481  10FB  C9          	ret
3482  10FC              	SECTION IGNORE
3483  0000              
