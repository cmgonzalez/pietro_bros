1     0000              MODULE pietro_enemies_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9880 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _enemy_coin2
183   0000              	GLOBAL _enemy_coin1
184   0000              	GLOBAL _enemy_collision
185   0000              	GLOBAL _enemy_collision_turn_dir
186   0000              	GLOBAL _enemy_collision_check
187   0000              	GLOBAL _enemy_hit
188   0000              	GLOBAL _enemy_flip_change_dir
189   0000              	GLOBAL _enemy_flip
190   0000              	GLOBAL _enemy_flip_sidestepper
191   0000              	GLOBAL _enemy_turn
192   0000              	GLOBAL _enemy_standard
193   0000              	GLOBAL _enemy_slipice
194   0000              	GLOBAL _enemy_fireball_red
195   0000              	GLOBAL _enemy_fireball_green
196   0000              	GLOBAL _enemy_fighterfly
197   0000              	GLOBAL _enemy_trip
198   0000              	GLOBAL _enemy_trip_move
199   0000              	GLOBAL _enemy_standard_hit
200   0000              	GLOBAL _enemy_evolve
201   0000              	GLOBAL _enemy_upgrade
202   0000              	GLOBAL _enemy_walk
203   0000              	GLOBAL _enemy_init
204   0000              	GLOBAL _enemy_kill
205   0000              ;--------------------------------------------------------
206   0000              ; Externals used
207   0000              ;--------------------------------------------------------
208   0000              	GLOBAL _debug3
209   0000              	GLOBAL _debug2
210   0000              	GLOBAL _debug
211   0000              	GLOBAL _zx_print_str
212   0000              	GLOBAL _zx_print_int
213   0000              	GLOBAL _zx_print_chr
214   0000              	GLOBAL _zx_print_bonus_time
215   0000              	GLOBAL _zx_isr
216   0000              	GLOBAL _z80_otdr_callee
217   0000              	GLOBAL _z80_otdr
218   0000              	GLOBAL _z80_otir_callee
219   0000              	GLOBAL _z80_otir
220   0000              	GLOBAL _z80_outp_callee
221   0000              	GLOBAL _z80_outp
222   0000              	GLOBAL _z80_indr_callee
223   0000              	GLOBAL _z80_indr
224   0000              	GLOBAL _z80_inir_callee
225   0000              	GLOBAL _z80_inir
226   0000              	GLOBAL _z80_inp_fastcall
227   0000              	GLOBAL _z80_inp
228   0000              	GLOBAL _z80_set_int_state_fastcall
229   0000              	GLOBAL _z80_set_int_state
230   0000              	GLOBAL _z80_get_int_state
231   0000              	GLOBAL _z80_delay_tstate_fastcall
232   0000              	GLOBAL _z80_delay_tstate
233   0000              	GLOBAL _z80_delay_ms_fastcall
234   0000              	GLOBAL _z80_delay_ms
235   0000              	GLOBAL _im2_remove_generic_callback_callee
236   0000              	GLOBAL _im2_remove_generic_callback
237   0000              	GLOBAL _im2_prepend_generic_callback_callee
238   0000              	GLOBAL _im2_prepend_generic_callback
239   0000              	GLOBAL _im2_append_generic_callback_callee
240   0000              	GLOBAL _im2_append_generic_callback
241   0000              	GLOBAL _im2_create_generic_isr_8080_callee
242   0000              	GLOBAL _im2_create_generic_isr_8080
243   0000              	GLOBAL _im2_create_generic_isr_callee
244   0000              	GLOBAL _im2_create_generic_isr
245   0000              	GLOBAL _im2_install_isr_callee
246   0000              	GLOBAL _im2_install_isr
247   0000              	GLOBAL _im2_init_fastcall
248   0000              	GLOBAL _im2_init
249   0000              	GLOBAL _zx_pattern_fill_callee
250   0000              	GLOBAL _zx_pattern_fill
251   0000              	GLOBAL _zx_saddrpup_fastcall
252   0000              	GLOBAL _zx_saddrpup
253   0000              	GLOBAL _zx_saddrpright_callee
254   0000              	GLOBAL _zx_saddrpright
255   0000              	GLOBAL _zx_saddrpleft_callee
256   0000              	GLOBAL _zx_saddrpleft
257   0000              	GLOBAL _zx_saddrpdown_fastcall
258   0000              	GLOBAL _zx_saddrpdown
259   0000              	GLOBAL _zx_saddrcup_fastcall
260   0000              	GLOBAL _zx_saddrcup
261   0000              	GLOBAL _zx_saddrcright_fastcall
262   0000              	GLOBAL _zx_saddrcright
263   0000              	GLOBAL _zx_saddrcleft_fastcall
264   0000              	GLOBAL _zx_saddrcleft
265   0000              	GLOBAL _zx_saddrcdown_fastcall
266   0000              	GLOBAL _zx_saddrcdown
267   0000              	GLOBAL _zx_saddr2py_fastcall
268   0000              	GLOBAL _zx_saddr2py
269   0000              	GLOBAL _zx_saddr2px_fastcall
270   0000              	GLOBAL _zx_saddr2px
271   0000              	GLOBAL _zx_saddr2cy_fastcall
272   0000              	GLOBAL _zx_saddr2cy
273   0000              	GLOBAL _zx_saddr2cx_fastcall
274   0000              	GLOBAL _zx_saddr2cx
275   0000              	GLOBAL _zx_saddr2aaddr_fastcall
276   0000              	GLOBAL _zx_saddr2aaddr
277   0000              	GLOBAL _zx_py2saddr_fastcall
278   0000              	GLOBAL _zx_py2saddr
279   0000              	GLOBAL _zx_py2aaddr_fastcall
280   0000              	GLOBAL _zx_py2aaddr
281   0000              	GLOBAL _zx_pxy2saddr_callee
282   0000              	GLOBAL _zx_pxy2saddr
283   0000              	GLOBAL _zx_pxy2aaddr_callee
284   0000              	GLOBAL _zx_pxy2aaddr
285   0000              	GLOBAL _zx_px2bitmask_fastcall
286   0000              	GLOBAL _zx_px2bitmask
287   0000              	GLOBAL _zx_cyx2saddr_callee
288   0000              	GLOBAL _zx_cyx2saddr
289   0000              	GLOBAL _zx_cyx2aaddr_callee
290   0000              	GLOBAL _zx_cyx2aaddr
291   0000              	GLOBAL _zx_cy2saddr_fastcall
292   0000              	GLOBAL _zx_cy2saddr
293   0000              	GLOBAL _zx_cy2aaddr_fastcall
294   0000              	GLOBAL _zx_cy2aaddr
295   0000              	GLOBAL _zx_bitmask2px_fastcall
296   0000              	GLOBAL _zx_bitmask2px
297   0000              	GLOBAL _zx_aaddrcup_fastcall
298   0000              	GLOBAL _zx_aaddrcup
299   0000              	GLOBAL _zx_aaddrcright_fastcall
300   0000              	GLOBAL _zx_aaddrcright
301   0000              	GLOBAL _zx_aaddrcleft_fastcall
302   0000              	GLOBAL _zx_aaddrcleft
303   0000              	GLOBAL _zx_aaddrcdown_fastcall
304   0000              	GLOBAL _zx_aaddrcdown
305   0000              	GLOBAL _zx_aaddr2saddr_fastcall
306   0000              	GLOBAL _zx_aaddr2saddr
307   0000              	GLOBAL _zx_aaddr2py_fastcall
308   0000              	GLOBAL _zx_aaddr2py
309   0000              	GLOBAL _zx_aaddr2px_fastcall
310   0000              	GLOBAL _zx_aaddr2px
311   0000              	GLOBAL _zx_aaddr2cy_fastcall
312   0000              	GLOBAL _zx_aaddr2cy
313   0000              	GLOBAL _zx_aaddr2cx_fastcall
314   0000              	GLOBAL _zx_aaddr2cx
315   0000              	GLOBAL _zx_scroll_wc_up_callee
316   0000              	GLOBAL _zx_scroll_wc_up
317   0000              	GLOBAL _zx_scroll_up_callee
318   0000              	GLOBAL _zx_scroll_up
319   0000              	GLOBAL _zx_cls_wc_callee
320   0000              	GLOBAL _zx_cls_wc
321   0000              	GLOBAL _zx_cls_fastcall
322   0000              	GLOBAL _zx_cls
323   0000              	GLOBAL _zx_border_fastcall
324   0000              	GLOBAL _zx_border
325   0000              	GLOBAL _sound_hit_pow
326   0000              	GLOBAL _sound_hit_brick
327   0000              	GLOBAL _sound_hit_enemy
328   0000              	GLOBAL _sound_kill
329   0000              	GLOBAL _sound_enter_enemy
330   0000              	GLOBAL _sound_coin
331   0000              	GLOBAL _sound_jump
332   0000              	GLOBAL _sound_slide
333   0000              	GLOBAL _spr_calc_hor
334   0000              	GLOBAL _spr_draw_row
335   0000              	GLOBAL _spr_draw_index
336   0000              	GLOBAL _spr_draw_clear
337   0000              	GLOBAL _spr_water_splash_draw
338   0000              	GLOBAL _spr_water_splash_clear
339   0000              	GLOBAL _spr_draw_back
340   0000              	GLOBAL _spr_cortina_brick
341   0000              	GLOBAL _spr_brick_anim
342   0000              	GLOBAL _spr_back_fix
343   0000              	GLOBAL _spr_back_paint
344   0000              	GLOBAL _spr_back_clr
345   0000              	GLOBAL _spr_draw_pow
346   0000              	GLOBAL _spr_tile
347   0000              	GLOBAL _spr_set_fall
348   0000              	GLOBAL _spr_destroy
349   0000              	GLOBAL _spr_check_over
350   0000              	GLOBAL _spr_tile_dir
351   0000              	GLOBAL _spr_anim_kill
352   0000              	GLOBAL _spr_anim_fall
353   0000              	GLOBAL _spr_killed
354   0000              	GLOBAL _spr_redraw
355   0000              	GLOBAL _spr_move_left
356   0000              	GLOBAL _spr_move_right
357   0000              	GLOBAL _spr_move_horizontal
358   0000              	GLOBAL _spr_move_down
359   0000              	GLOBAL _spr_move_up
360   0000              	GLOBAL _spr_chktime
361   0000              	GLOBAL _player_set
362   0000              	GLOBAL _player_move_horizontal
363   0000              	GLOBAL _player_push_check
364   0000              	GLOBAL _player_push
365   0000              	GLOBAL _player_hit_brick_clear
366   0000              	GLOBAL _player_lost_life
367   0000              	GLOBAL _player_score_add
368   0000              	GLOBAL _player_coin
369   0000              	GLOBAL _player_hit_pow
370   0000              	GLOBAL _player_hit_brick
371   0000              	GLOBAL _player_move_input
372   0000              	GLOBAL _player_turn
373   0000              	GLOBAL _player_move
374   0000              	GLOBAL _player_restart
375   0000              	GLOBAL _player_kill
376   0000              	GLOBAL _player_check_input
377   0000              	GLOBAL _player_collision_check
378   0000              	GLOBAL _player_collision
379   0000              	GLOBAL _player_calc_slide
380   0000              	GLOBAL _player_init
381   0000              	GLOBAL _game_back_fix
382   0000              	GLOBAL _game_joystick_set_menu
383   0000              	GLOBAL _game_joystick_set
384   0000              	GLOBAL _game_joystick_change
385   0000              	GLOBAL _game_hall_print_p
386   0000              	GLOBAL _game_hall_edit_p
387   0000              	GLOBAL _game_hall_check
388   0000              	GLOBAL _game_hall_enter_phs
389   0000              	GLOBAL _game_print_header
390   0000              	GLOBAL _game_end
391   0000              	GLOBAL _game_hall_enter
392   0000              	GLOBAL _game_hall_of_fame
393   0000              	GLOBAL _game_score_osd
394   0000              	GLOBAL _game_phase_print_score_back
395   0000              	GLOBAL _game_bonus_clock
396   0000              	GLOBAL _game_bonus_summary_player
397   0000              	GLOBAL _game_bonus_summary
398   0000              	GLOBAL _game_check_time
399   0000              	GLOBAL _game_menu_config
400   0000              	GLOBAL _game_menu
401   0000              	GLOBAL _game_rotate_attrib
402   0000              	GLOBAL _game_colour_message
403   0000              	GLOBAL _game_paint_attrib_lin_h
404   0000              	GLOBAL _game_paint_attrib_lin
405   0000              	GLOBAL _game_paint_attrib
406   0000              	GLOBAL _game_menu_paint
407   0000              	GLOBAL _game_menu_top_paint
408   0000              	GLOBAL _game_menu_handle
409   0000              	GLOBAL _game_menu_e
410   0000              	GLOBAL _game_menu_back
411   0000              	GLOBAL _game_print_score
412   0000              	GLOBAL _game_unfreeze_all
413   0000              	GLOBAL _game_freeze_all
414   0000              	GLOBAL _game_freeze
415   0000              	GLOBAL _game_enemy_add_get_index
416   0000              	GLOBAL _game_enemy_add1
417   0000              	GLOBAL _game_enemy_quota
418   0000              	GLOBAL _game_enemy_rnd
419   0000              	GLOBAL _game_enemy_add
420   0000              	GLOBAL _game_check_floor
421   0000              	GLOBAL _game_check_maze
422   0000              	GLOBAL _game_kill_all_sprites
423   0000              	GLOBAL _game_loop
424   0000              	GLOBAL _player_set2
425   0000              	GLOBAL _player_set1
426   0000              	GLOBAL _game_phase_print
427   0000              	GLOBAL _game_phase_init
428   0000              	GLOBAL _game_phase_calc
429   0000              	GLOBAL _game_start_timer
430   0000              	GLOBAL _game_tick
431   0000              	GLOBAL _game_print_lives
432   0000              	GLOBAL _game_print_footer
433   0000              	GLOBAL _game_calc_index
434   0000              	GLOBAL _game_fill_row
435   0000              	GLOBAL _ay_fx_play
436   0000              	GLOBAL _ay_midi_play
437   0000              	GLOBAL _ay_is_playing
438   0000              	GLOBAL _ay_reset
439   0000              	GLOBAL _enemy_ugly_fix
440   0000              	GLOBAL _debug_func
441   0000              	GLOBAL _test_func
442   0000              	GLOBAL _in_mouse_kempston_wheel_delta
443   0000              	GLOBAL _in_mouse_kempston_wheel
444   0000              	GLOBAL _in_mouse_kempston_callee
445   0000              	GLOBAL _in_mouse_kempston
446   0000              	GLOBAL _in_mouse_kempston_setpos_callee
447   0000              	GLOBAL _in_mouse_kempston_setpos
448   0000              	GLOBAL _in_mouse_kempston_reset
449   0000              	GLOBAL _in_mouse_kempston_init
450   0000              	GLOBAL _in_mouse_amx_wheel_delta
451   0000              	GLOBAL _in_mouse_amx_wheel
452   0000              	GLOBAL _in_mouse_amx_callee
453   0000              	GLOBAL _in_mouse_amx
454   0000              	GLOBAL _in_mouse_amx_setpos_callee
455   0000              	GLOBAL _in_mouse_amx_setpos
456   0000              	GLOBAL _in_mouse_amx_reset
457   0000              	GLOBAL _in_mouse_amx_init_callee
458   0000              	GLOBAL _in_mouse_amx_init
459   0000              	GLOBAL _in_stick_sinclair2
460   0000              	GLOBAL _in_stick_sinclair1
461   0000              	GLOBAL _in_stick_kempston
462   0000              	GLOBAL _in_stick_fuller
463   0000              	GLOBAL _in_stick_cursor
464   0000              	GLOBAL _in_stick_keyboard_fastcall
465   0000              	GLOBAL _in_stick_keyboard
466   0000              	GLOBAL _in_wait_nokey
467   0000              	GLOBAL _in_wait_key
468   0000              	GLOBAL _in_test_key
469   0000              	GLOBAL _in_pause_fastcall
470   0000              	GLOBAL _in_pause
471   0000              	GLOBAL _in_key_scancode_fastcall
472   0000              	GLOBAL _in_key_scancode
473   0000              	GLOBAL _in_key_pressed_fastcall
474   0000              	GLOBAL _in_key_pressed
475   0000              	GLOBAL _in_inkey
476   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
477   0000              	GLOBAL _NIRVANAP_drawTW_raw
478   0000              	GLOBAL _NIRVANAP_drawTW_callee
479   0000              	GLOBAL _NIRVANAP_drawTW
480   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
481   0000              	GLOBAL _NIRVANAP_drawW_raw
482   0000              	GLOBAL _NIRVANAP_drawW_callee
483   0000              	GLOBAL _NIRVANAP_drawW
484   0000              	GLOBAL _NIRVANAP_spriteT_callee
485   0000              	GLOBAL _NIRVANAP_spriteT
486   0000              	GLOBAL _NIRVANAP_fillC_callee
487   0000              	GLOBAL _NIRVANAP_fillC
488   0000              	GLOBAL _NIRVANAP_readC_callee
489   0000              	GLOBAL _NIRVANAP_readC
490   0000              	GLOBAL _NIRVANAP_paintC_callee
491   0000              	GLOBAL _NIRVANAP_paintC
492   0000              	GLOBAL _NIRVANAP_printC_callee
493   0000              	GLOBAL _NIRVANAP_printC
494   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
495   0000              	GLOBAL _NIRVANAP_fillT_raw
496   0000              	GLOBAL _NIRVANAP_fillT_callee
497   0000              	GLOBAL _NIRVANAP_fillT
498   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
499   0000              	GLOBAL _NIRVANAP_drawT_raw
500   0000              	GLOBAL _NIRVANAP_drawT_callee
501   0000              	GLOBAL _NIRVANAP_drawT
502   0000              	GLOBAL _NIRVANAP_stop
503   0000              	GLOBAL _NIRVANAP_start
504   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
505   0000              	GLOBAL _intrinsic_swap_word_32
506   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
507   0000              	GLOBAL _intrinsic_swap_endian_32
508   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
509   0000              	GLOBAL _intrinsic_swap_endian_16
510   0000              	GLOBAL _intrinsic_return_de
511   0000              	GLOBAL _intrinsic_return_bc
512   0000              	GLOBAL _intrinsic_exx
513   0000              	GLOBAL _intrinsic_ex_de_hl
514   0000              	GLOBAL _intrinsic_nop
515   0000              	GLOBAL _intrinsic_im_2
516   0000              	GLOBAL _intrinsic_im_1
517   0000              	GLOBAL _intrinsic_im_0
518   0000              	GLOBAL _intrinsic_retn
519   0000              	GLOBAL _intrinsic_reti
520   0000              	GLOBAL _intrinsic_halt
521   0000              	GLOBAL _intrinsic_ei
522   0000              	GLOBAL _intrinsic_di
523   0000              	GLOBAL _intrinsic_stub
524   0000              	GLOBAL _ulltoa_callee
525   0000              	GLOBAL _ulltoa
526   0000              	GLOBAL _strtoull_callee
527   0000              	GLOBAL _strtoull
528   0000              	GLOBAL _strtoll_callee
529   0000              	GLOBAL _strtoll
530   0000              	GLOBAL _lltoa_callee
531   0000              	GLOBAL _lltoa
532   0000              	GLOBAL _llabs_callee
533   0000              	GLOBAL _llabs
534   0000              	GLOBAL __lldivu__callee
535   0000              	GLOBAL __lldivu_
536   0000              	GLOBAL __lldiv__callee
537   0000              	GLOBAL __lldiv_
538   0000              	GLOBAL _atoll_callee
539   0000              	GLOBAL _atoll
540   0000              	GLOBAL _realloc_unlocked_callee
541   0000              	GLOBAL _realloc_unlocked
542   0000              	GLOBAL _malloc_unlocked_fastcall
543   0000              	GLOBAL _malloc_unlocked
544   0000              	GLOBAL _free_unlocked_fastcall
545   0000              	GLOBAL _free_unlocked
546   0000              	GLOBAL _calloc_unlocked_callee
547   0000              	GLOBAL _calloc_unlocked
548   0000              	GLOBAL _aligned_alloc_unlocked_callee
549   0000              	GLOBAL _aligned_alloc_unlocked
550   0000              	GLOBAL _realloc_callee
551   0000              	GLOBAL _realloc
552   0000              	GLOBAL _malloc_fastcall
553   0000              	GLOBAL _malloc
554   0000              	GLOBAL _free_fastcall
555   0000              	GLOBAL _free
556   0000              	GLOBAL _calloc_callee
557   0000              	GLOBAL _calloc
558   0000              	GLOBAL _aligned_alloc_callee
559   0000              	GLOBAL _aligned_alloc
560   0000              	GLOBAL _utoa_callee
561   0000              	GLOBAL _utoa
562   0000              	GLOBAL _ultoa_callee
563   0000              	GLOBAL _ultoa
564   0000              	GLOBAL _system_fastcall
565   0000              	GLOBAL _system
566   0000              	GLOBAL _strtoul_callee
567   0000              	GLOBAL _strtoul
568   0000              	GLOBAL _strtol_callee
569   0000              	GLOBAL _strtol
570   0000              	GLOBAL _strtof_callee
571   0000              	GLOBAL _strtof
572   0000              	GLOBAL _strtod_callee
573   0000              	GLOBAL _strtod
574   0000              	GLOBAL _srand_fastcall
575   0000              	GLOBAL _srand
576   0000              	GLOBAL _rand
577   0000              	GLOBAL _quick_exit_fastcall
578   0000              	GLOBAL _quick_exit
579   0000              	GLOBAL _qsort_callee
580   0000              	GLOBAL _qsort
581   0000              	GLOBAL _ltoa_callee
582   0000              	GLOBAL _ltoa
583   0000              	GLOBAL _labs_fastcall
584   0000              	GLOBAL _labs
585   0000              	GLOBAL _itoa_callee
586   0000              	GLOBAL _itoa
587   0000              	GLOBAL _ftoh_callee
588   0000              	GLOBAL _ftoh
589   0000              	GLOBAL _ftog_callee
590   0000              	GLOBAL _ftog
591   0000              	GLOBAL _ftoe_callee
592   0000              	GLOBAL _ftoe
593   0000              	GLOBAL _ftoa_callee
594   0000              	GLOBAL _ftoa
595   0000              	GLOBAL _exit_fastcall
596   0000              	GLOBAL _exit
597   0000              	GLOBAL _dtoh_callee
598   0000              	GLOBAL _dtoh
599   0000              	GLOBAL _dtog_callee
600   0000              	GLOBAL _dtog
601   0000              	GLOBAL _dtoe_callee
602   0000              	GLOBAL _dtoe
603   0000              	GLOBAL _dtoa_callee
604   0000              	GLOBAL _dtoa
605   0000              	GLOBAL _bsearch_callee
606   0000              	GLOBAL _bsearch
607   0000              	GLOBAL _atol_fastcall
608   0000              	GLOBAL _atol
609   0000              	GLOBAL _atoi_fastcall
610   0000              	GLOBAL _atoi
611   0000              	GLOBAL _atof_fastcall
612   0000              	GLOBAL _atof
613   0000              	GLOBAL _atexit_fastcall
614   0000              	GLOBAL _atexit
615   0000              	GLOBAL _at_quick_exit_fastcall
616   0000              	GLOBAL _at_quick_exit
617   0000              	GLOBAL _abs_fastcall
618   0000              	GLOBAL _abs
619   0000              	GLOBAL _abort
620   0000              	GLOBAL __strtou__callee
621   0000              	GLOBAL __strtou_
622   0000              	GLOBAL __strtoi__callee
623   0000              	GLOBAL __strtoi_
624   0000              	GLOBAL __random_uniform_xor_8__fastcall
625   0000              	GLOBAL __random_uniform_xor_8_
626   0000              	GLOBAL __random_uniform_xor_32__fastcall
627   0000              	GLOBAL __random_uniform_xor_32_
628   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
629   0000              	GLOBAL __random_uniform_cmwc_8_
630   0000              	GLOBAL __shellsort__callee
631   0000              	GLOBAL __shellsort_
632   0000              	GLOBAL __quicksort__callee
633   0000              	GLOBAL __quicksort_
634   0000              	GLOBAL __insertion_sort__callee
635   0000              	GLOBAL __insertion_sort_
636   0000              	GLOBAL __ldivu__callee
637   0000              	GLOBAL __ldivu_
638   0000              	GLOBAL __ldiv__callee
639   0000              	GLOBAL __ldiv_
640   0000              	GLOBAL __divu__callee
641   0000              	GLOBAL __divu_
642   0000              	GLOBAL __div__callee
643   0000              	GLOBAL __div_
644   0000              	GLOBAL _joynames
645   0000              	GLOBAL _initials
646   0000              	GLOBAL _hof
647   0000              	GLOBAL _score_osd_tile
648   0000              	GLOBAL _score_osd_time
649   0000              	GLOBAL _score_osd_col
650   0000              	GLOBAL _score_osd_lin
651   0000              	GLOBAL _phase_bonus_total
652   0000              	GLOBAL _phase_angry
653   0000              	GLOBAL _phase_curr
654   0000              	GLOBAL _phase_end
655   0000              	GLOBAL _phase_coins
656   0000              	GLOBAL _phase_pop
657   0000              	GLOBAL _phase_tot
658   0000              	GLOBAL _phase_left
659   0000              	GLOBAL _phase_quota
660   0000              	GLOBAL _phases
661   0000              	GLOBAL _spr_idx
662   0000              	GLOBAL _lvl_1
663   0000              	GLOBAL _sprite_speed_alt
664   0000              	GLOBAL _sprite_speed
665   0000              	GLOBAL _screen_ink
666   0000              	GLOBAL _screen_paper
667   0000              	GLOBAL _game_menu_sel
668   0000              	GLOBAL _game_type
669   0000              	GLOBAL _game_osd
670   0000              	GLOBAL _game_bonus
671   0000              	GLOBAL _spr_water_time
672   0000              	GLOBAL _spr_water_clear
673   0000              	GLOBAL _game_time_fireball_start
674   0000              	GLOBAL _game_time_flipped
675   0000              	GLOBAL _game_score_top
676   0000              	GLOBAL _game_lives
677   0000              	GLOBAL _game_over
678   0000              	GLOBAL _game_sound
679   0000              	GLOBAL _game_inmune
680   0000              	GLOBAL _game_god_mode
681   0000              	GLOBAL _game_start_phase
682   0000              	GLOBAL _game_two_player
683   0000              	GLOBAL _game_brick_tile
684   0000              	GLOBAL _game_pow
685   0000              	GLOBAL _game_ugly_fix_cnt
686   0000              	GLOBAL _spr_count
687   0000              	GLOBAL _osd_time
688   0000              	GLOBAL _frame_time
689   0000              	GLOBAL _entry_time
690   0000              	GLOBAL _curr_time
691   0000              	GLOBAL _s_state
692   0000              	GLOBAL _attrib_hl
693   0000              	GLOBAL _attrib
694   0000              	GLOBAL _zx_val_asm
695   0000              	GLOBAL _enemies
696   0000              	GLOBAL _tmp_ui
697   0000              	GLOBAL _tmp_sc
698   0000              	GLOBAL _tmp_uc
699   0000              	GLOBAL _tmp1
700   0000              	GLOBAL _tmp0
701   0000              	GLOBAL _tmp
702   0000              	GLOBAL _index3
703   0000              	GLOBAL _index2
704   0000              	GLOBAL _index1
705   0000              	GLOBAL _loop_count
706   0000              	GLOBAL _sprite_lin_inc_mul
707   0000              	GLOBAL _s_col1
708   0000              	GLOBAL _s_col0
709   0000              	GLOBAL _s_lin1
710   0000              	GLOBAL _s_lin0
711   0000              	GLOBAL _s_tile1
712   0000              	GLOBAL _s_tile0
713   0000              	GLOBAL _hit_count
714   0000              	GLOBAL _tile_offset_other_player
715   0000              	GLOBAL _tile_offset
716   0000              	GLOBAL _index_player
717   0000              	GLOBAL _sprite_other_player
718   0000              	GLOBAL _sprite
719   0000              	GLOBAL _player_joy
720   0000              	GLOBAL _player_next_extra
721   0000              	GLOBAL _player_score
722   0000              	GLOBAL _last_time
723   0000              	GLOBAL _sliding
724   0000              	GLOBAL _spr_timer
725   0000              	GLOBAL _jump_lin
726   0000              	GLOBAL _player_jump_c
727   0000              	GLOBAL _hit_col
728   0000              	GLOBAL _hit_lin
729   0000              	GLOBAL _colint
730   0000              	GLOBAL _col
731   0000              	GLOBAL _lin
732   0000              	GLOBAL _tile
733   0000              	GLOBAL _state_a
734   0000              	GLOBAL _state
735   0000              	GLOBAL _class
736   0000              	GLOBAL _tbuffer
737   0000              	GLOBAL _dirs
738   0000              	GLOBAL _k2
739   0000              	GLOBAL _k1
740   0000              	GLOBAL _joyfunc2
741   0000              	GLOBAL _joyfunc1
742   0000              	GLOBAL _btiles
743   0000              	GLOBAL _spec128
744   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
745   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
746   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
747   0000              	GLOBAL _ay_effect_20
748   0000              	GLOBAL _ay_effect_19
749   0000              	GLOBAL _ay_effect_18
750   0000              	GLOBAL _ay_effect_17
751   0000              	GLOBAL _ay_effect_16
752   0000              	GLOBAL _ay_effect_15
753   0000              	GLOBAL _ay_effect_14
754   0000              	GLOBAL _ay_effect_13
755   0000              	GLOBAL _ay_effect_12
756   0000              	GLOBAL _ay_effect_11
757   0000              	GLOBAL _ay_effect_10
758   0000              	GLOBAL _ay_effect_09
759   0000              	GLOBAL _ay_effect_08
760   0000              	GLOBAL _ay_effect_07
761   0000              	GLOBAL _ay_effect_06
762   0000              	GLOBAL _ay_effect_05
763   0000              	GLOBAL _ay_effect_04
764   0000              	GLOBAL _ay_effect_03
765   0000              	GLOBAL _ay_effect_02
766   0000              	GLOBAL _ay_effect_01
767   0000              	GLOBAL _pb_midi_phase_1
768   0000              	GLOBAL _pb_midi_title
769   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
770   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
771   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
772   0000              	GLOBAL _NIRVANAP_HOLE
773   0000              	GLOBAL _NIRVANAP_ISR_HOOK
774   0000              	GLOBAL _control_method
775   0000              	GLOBAL _hall_valids
776   0000              ;--------------------------------------------------------
777   0000              ; special function registers
778   0000              ;--------------------------------------------------------
779   0000              defc _IO_FE	=	0x00fe
780   0000              defc _IO_1FFD	=	0x1ffd
781   0000              defc _IO_7FFD	=	0x7ffd
782   0000              ;--------------------------------------------------------
783   0000              ; ram data
784   0000              ;--------------------------------------------------------
785   0000              	SECTION bss_compiler
786   0000              ;--------------------------------------------------------
787   0000              ; ram data
788   0000              ;--------------------------------------------------------
789   0000              
790   0000              IF 0
791   0000              
792   0000              ; .area _INITIALIZED removed by z88dk
793   0000              
794   0000              
795   0000              ENDIF
796   0000              
797   0000              ;--------------------------------------------------------
798   0000              ; absolute external ram data
799   0000              ;--------------------------------------------------------
800   0000              	SECTION IGNORE
801   0000              ;--------------------------------------------------------
802   0000              ; global & static initialisations
803   0000              ;--------------------------------------------------------
804   0000              	SECTION code_crt_init
805   0000              ;--------------------------------------------------------
806   0000              ; Home
807   0000              ;--------------------------------------------------------
808   0000              	SECTION IGNORE
809   0000              ;--------------------------------------------------------
810   0000              ; code
811   0000              ;--------------------------------------------------------
812   0000              	SECTION code_compiler
813   0000              ;	---------------------------------
814   0000              ; Function enemy_coin1
815   0000              ; ---------------------------------
816   0000              _enemy_coin1:
817   0000  3A 00 00    	ld	a,(_phase_left)
818   0003  B7          	or	a, a
819   0004  28 2B       	jr	Z,l_enemy_coin1_00107
820   0006  CD 04 0D    	call	_enemy_walk
821   0009  2A 00 00    	ld	hl,(_sprite)
822   000C  26 00       	ld	h,0x00
823   000E  01 00 00    	ld	bc,_lin
824   0011  09          	add	hl,bc
825   0012  7E          	ld	a,(hl)
826   0013  D6 98       	sub	a,0x98
827   0015  20 1A       	jr	NZ,l_enemy_coin1_00107
828   0017  2A 00 00    	ld	hl,(_sprite)
829   001A  26 00       	ld	h,0x00
830   001C  01 00 00    	ld	bc,_col
831   001F  09          	add	hl,bc
832   0020  7E          	ld	a,(hl)
833   0021  4F          	ld	c,a
834   0022  D6 03       	sub	a,0x03
835   0024  28 05       	jr	Z,l_enemy_coin1_00101
836   0026  79          	ld	a,c
837   0027  D6 1B       	sub	a,0x1b
838   0029  20 06       	jr	NZ,l_enemy_coin1_00107
839   002B              l_enemy_coin1_00101:
840   002B  2A 00 00    	ld	hl,(_sprite)
841   002E  CD 00 00    	call	_spr_destroy
842   0031              l_enemy_coin1_00107:
843   0031  C9          	ret
844   0032              	SECTION code_compiler
845   0032              ;	---------------------------------
846   0032              ; Function enemy_coin2
847   0032              ; ---------------------------------
848   0032              _enemy_coin2:
849   0032  01 00 00    	ld	bc,_colint+0
850   0035  79          	ld	a,c
851   0036  21 00 00    	ld	hl,_sprite
852   0039  86          	add	a, (hl)
853   003A  5F          	ld	e,a
854   003B  78          	ld	a,b
855   003C  CE 00       	adc	a,0x00
856   003E  57          	ld	d,a
857   003F  1A          	ld	a,(de)
858   0040  3C          	inc	a
859   0041  12          	ld	(de),a
860   0042  79          	ld	a,c
861   0043  86          	add	a, (hl)
862   0044  4F          	ld	c,a
863   0045  78          	ld	a,b
864   0046  CE 00       	adc	a,0x00
865   0048  47          	ld	b,a
866   0049  0A          	ld	a,(bc)
867   004A  D6 03       	sub	a,0x03
868   004C  C0          	ret	NZ
869   004D  AF          	xor	a, a
870   004E  02          	ld	(bc),a
871   004F  C9          	ret
872   0050              	SECTION code_compiler
873   0050              ;	---------------------------------
874   0050              ; Function enemy_collision
875   0050              ; ---------------------------------
876   0050              _enemy_collision:
877   0050  CD 00 00    	call	___sdcc_enter_ix
878   0053  3B          	dec	sp
879   0054  01 00 00    	ld	bc,_state+0
880   0057  2A 00 00    	ld	hl,(_sprite)
881   005A  26 00       	ld	h,0x00
882   005C  09          	add	hl,bc
883   005D  7E          	ld	a,(hl)
884   005E  CB 67       	bit	4,a
885   0060  28 05       	jr	Z,l_enemy_collision_00102
886   0062  2E 00       	ld	l,0x00
887   0064  C3 40 01    	jp	l_enemy_collision_00126
888   0067              l_enemy_collision_00102:
889   0067  CB 6F       	bit	5, a
890   0069  28 05       	jr	Z,l_enemy_collision_00104
891   006B  2E 00       	ld	l,0x00
892   006D  C3 40 01    	jp	l_enemy_collision_00126
893   0070              l_enemy_collision_00104:
894   0070  2A 00 00    	ld	hl,(_sprite)
895   0073  26 00       	ld	h,0x00
896   0075  11 00 00    	ld	de,_state_a
897   0078  19          	add	hl,de
898   0079  CB 4E       	bit	1,(hl)
899   007B  28 05       	jr	Z,l_enemy_collision_00106
900   007D  2E 00       	ld	l,0x00
901   007F  C3 40 01    	jp	l_enemy_collision_00126
902   0082              l_enemy_collision_00106:
903   0082  21 00 00    	ld	hl,_enemies
904   0085  36 00       	ld	(hl),0x00
905   0087              l_enemy_collision_00125:
906   0087  2A 00 00    	ld	hl,(_enemies)
907   008A  26 00       	ld	h,0x00
908   008C  11 00 00    	ld	de,_class
909   008F  19          	add	hl,de
910   0090  7E          	ld	a,(hl)
911   0091  6F          	ld	l,a
912   0092  EB          	ex	de,hl
913   0093  B7          	or	a,a
914   0094  CA 33 01    	jp	Z,l_enemy_collision_00123
915   0097  3E 09       	ld	a,0x09
916   0099  93          	sub	a,e
917   009A  DA 33 01    	jp	C,l_enemy_collision_00123
918   009D  3A 00 00    	ld	a,(_enemies)
919   00A0  21 00 00    	ld	hl,_sprite
920   00A3  96          	sub	a, (hl)
921   00A4  CA 33 01    	jp	Z,l_enemy_collision_00123
922   00A7  2A 00 00    	ld	hl,(_enemies)
923   00AA  26 00       	ld	h,0x00
924   00AC  09          	add	hl,bc
925   00AD  7E          	ld	a,(hl)
926   00AE  CB 6F       	bit	5,a
927   00B0  C2 33 01    	jp	NZ,l_enemy_collision_00123
928   00B3  CB 4F       	bit	1, a
929   00B5  20 7C       	jr	NZ,l_enemy_collision_00123
930   00B7  C5          	push	bc
931   00B8  CD A3 01    	call	_enemy_collision_check
932   00BB  C1          	pop	bc
933   00BC  7D          	ld	a,l
934   00BD  B7          	or	a, a
935   00BE  28 73       	jr	Z,l_enemy_collision_00123
936   00C0  2A 00 00    	ld	hl,(_enemies)
937   00C3  26 00       	ld	h,0x00
938   00C5  09          	add	hl,bc
939   00C6  7E          	ld	a,(hl)
940   00C7  6F          	ld	l,a
941   00C8  CB 67       	bit	4,a
942   00CA  EB          	ex	de,hl
943   00CB  20 35       	jr	NZ,l_enemy_collision_00117
944   00CD  21 00 00    	ld	hl,_s_state
945   00D0  7E          	ld	a,(hl)
946   00D1  E6 08       	and	a,0x08
947   00D3  57          	ld	d,a
948   00D4  7B          	ld	a,e
949   00D5  E6 08       	and	a,0x08
950   00D7  DD 77 FF    	ld	(ix-1),a
951   00DA  7A          	ld	a,d
952   00DB  DD 96 FF    	sub	a,(ix-1)
953   00DE  28 22       	jr	Z,l_enemy_collision_00117
954   00E0  7E          	ld	a,(hl)
955   00E1  E6 04       	and	a,0x04
956   00E3  57          	ld	d,a
957   00E4  7B          	ld	a,e
958   00E5  E6 04       	and	a,0x04
959   00E7  5F          	ld	e,a
960   00E8  7A          	ld	a,d
961   00E9  93          	sub	a, e
962   00EA  28 16       	jr	Z,l_enemy_collision_00117
963   00EC  2A 00 00    	ld	hl,(_sprite)
964   00EF  26 00       	ld	h,0x00
965   00F1  11 00 00    	ld	de,_class
966   00F4  19          	add	hl,de
967   00F5  7E          	ld	a,(hl)
968   00F6  D6 08       	sub	a,0x08
969   00F8  28 08       	jr	Z,l_enemy_collision_00117
970   00FA  2A 00 00    	ld	hl,(_enemies)
971   00FD  C5          	push	bc
972   00FE  CD 44 01    	call	_enemy_collision_turn_dir
973   0101  C1          	pop	bc
974   0102              l_enemy_collision_00117:
975   0102  2A 00 00    	ld	hl,(_sprite)
976   0105  26 00       	ld	h,0x00
977   0107  09          	add	hl,bc
978   0108  3A 00 00    	ld	a,(_s_state)
979   010B  77          	ld	(hl),a
980   010C  2A 00 00    	ld	hl,(_sprite)
981   010F  C5          	push	bc
982   0110  CD 44 01    	call	_enemy_collision_turn_dir
983   0113  C1          	pop	bc
984   0114  2A 00 00    	ld	hl,(_sprite)
985   0117  26 00       	ld	h,0x00
986   0119  09          	add	hl,bc
987   011A  7E          	ld	a,(hl)
988   011B  32 00 00    	ld	(_s_state),a
989   011E  01 00 00    	ld	bc,_spr_timer+0
990   0121  2A 00 00    	ld	hl,(_sprite)
991   0124  26 00       	ld	h,0x00
992   0126  29          	add	hl, hl
993   0127  09          	add	hl,bc
994   0128  ED 5B 00 00 	ld	de,(_curr_time)
995   012C  73          	ld	(hl),e
996   012D  23          	inc	hl
997   012E  72          	ld	(hl),d
998   012F  2E 01       	ld	l,0x01
999   0131  18 0D       	jr	l_enemy_collision_00126
1000  0133              l_enemy_collision_00123:
1001  0133  21 00 00    	ld	hl,_enemies
1002  0136  7E          	ld	a,(hl)
1003  0137  3C          	inc	a
1004  0138  77          	ld	(hl),a
1005  0139  D6 06       	sub	a,0x06
1006  013B  DA 87 00    	jp	C,l_enemy_collision_00125
1007  013E  2E 00       	ld	l,0x00
1008  0140              l_enemy_collision_00126:
1009  0140  33          	inc	sp
1010  0141  DD E1       	pop	ix
1011  0143  C9          	ret
1012  0144              	SECTION code_compiler
1013  0144              ;	---------------------------------
1014  0144              ; Function enemy_collision_turn_dir
1015  0144              ; ---------------------------------
1016  0144              _enemy_collision_turn_dir:
1017  0144  CD 00 00    	call	___sdcc_enter_ix
1018  0147  F5          	push	af
1019  0148  4D          	ld	c,l
1020  0149  11 00 00    	ld	de,_state+0
1021  014C  26 00       	ld	h,0x00
1022  014E  19          	add	hl,de
1023  014F  7E          	ld	a,(hl)
1024  0150  EE 0C       	xor	a,+(0x04^0x08)
1025  0152  77          	ld	(hl),a
1026  0153  11 00 00    	ld	de,_class+0
1027  0156  69          	ld	l,c
1028  0157  26 00       	ld	h,0x00
1029  0159  19          	add	hl,de
1030  015A  46          	ld	b,(hl)
1031  015B  3E 06       	ld	a,0x06
1032  015D  90          	sub	a, b
1033  015E  38 3F       	jr	C,l_enemy_collision_turn_dir_00103
1034  0160  11 00 00    	ld	de,_state_a+0
1035  0163  69          	ld	l,c
1036  0164  26 00       	ld	h,0x00
1037  0166  19          	add	hl,de
1038  0167  CB CE       	set	1, (hl)
1039  0169  11 00 00    	ld	de,_spr_timer+0
1040  016C  69          	ld	l,c
1041  016D  26 00       	ld	h,0x00
1042  016F  29          	add	hl, hl
1043  0170  19          	add	hl,de
1044  0171  E3          	ex	(sp), hl
1045  0172  E1          	pop	hl
1046  0173  ED 5B 00 00 	ld	de,(_curr_time)
1047  0177  E5          	push	hl
1048  0178  73          	ld	(hl),e
1049  0179  23          	inc	hl
1050  017A  72          	ld	(hl),d
1051  017B  3E 00       	ld	a,+((_tile) & 0xFF)
1052  017D  81          	add	a, c
1053  017E  5F          	ld	e,a
1054  017F  3E 00       	ld	a,+((_tile) / 256)
1055  0181  CE 00       	adc	a,0x00
1056  0183  57          	ld	d,a
1057  0184  C5          	push	bc
1058  0185  D5          	push	de
1059  0186  69          	ld	l,c
1060  0187  CD 00 00    	call	_spr_tile
1061  018A  DD 74 FF    	ld	(ix-1),h
1062  018D  DD 75 FE    	ld	(ix-2),l
1063  0190  D1          	pop	de
1064  0191  C1          	pop	bc
1065  0192  DD 7E FE    	ld	a,(ix-2)
1066  0195  12          	ld	(de),a
1067  0196  11 00 00    	ld	de,_colint+0
1068  0199  69          	ld	l,c
1069  019A  26 00       	ld	h,0x00
1070  019C  19          	add	hl,de
1071  019D  36 00       	ld	(hl),0x00
1072  019F              l_enemy_collision_turn_dir_00103:
1073  019F  F1          	pop	af
1074  01A0  DD E1       	pop	ix
1075  01A2  C9          	ret
1076  01A3              	SECTION code_compiler
1077  01A3              ;	---------------------------------
1078  01A3              ; Function enemy_collision_check
1079  01A3              ; ---------------------------------
1080  01A3              _enemy_collision_check:
1081  01A3  11 00 00    	ld	de,_lin+0
1082  01A6  2A 00 00    	ld	hl,(_enemies)
1083  01A9  26 00       	ld	h,0x00
1084  01AB  19          	add	hl,de
1085  01AC  4E          	ld	c, (hl)
1086  01AD  06 00       	ld	b,0x00
1087  01AF  2A 00 00    	ld	hl,(_sprite)
1088  01B2  60          	ld	h,b
1089  01B3  19          	add	hl,de
1090  01B4  6E          	ld	l, (hl)
1091  01B5  26 00       	ld	h,0x00
1092  01B7  79          	ld	a,c
1093  01B8  EB          	ex	de,hl
1094  01B9  93          	sub	a, e
1095  01BA  6F          	ld	l,a
1096  01BB  78          	ld	a,b
1097  01BC  9A          	sbc	a, d
1098  01BD  67          	ld	h,a
1099  01BE  CD 00 00    	call	_abs_fastcall
1100  01C1  22 00 00    	ld	(_tmp_ui),hl
1101  01C4  7D          	ld	a,l
1102  01C5  D6 10       	sub	a,0x10
1103  01C7  7C          	ld	a,h
1104  01C8  DE 00       	sbc	a,0x00
1105  01CA  38 04       	jr	C,l_enemy_collision_check_00102
1106  01CC  2E 00       	ld	l,0x00
1107  01CE  18 46       	jr	l_enemy_collision_check_00109
1108  01D0              l_enemy_collision_check_00102:
1109  01D0  01 00 00    	ld	bc,_col+0
1110  01D3  2A 00 00    	ld	hl,(_sprite)
1111  01D6  26 00       	ld	h,0x00
1112  01D8  09          	add	hl,bc
1113  01D9  6E          	ld	l, (hl)
1114  01DA  EB          	ex	de,hl
1115  01DB  2A 00 00    	ld	hl,(_enemies)
1116  01DE  26 00       	ld	h,0x00
1117  01E0  09          	add	hl,bc
1118  01E1  4E          	ld	c, (hl)
1119  01E2  7B          	ld	a,e
1120  01E3  91          	sub	a, c
1121  01E4  32 00 00    	ld	(_tmp_sc),a
1122  01E7  D6 FE       	sub	a,0xfe
1123  01E9  20 11       	jr	NZ,l_enemy_collision_check_00104
1124  01EB  2A 00 00    	ld	hl,(_sprite)
1125  01EE  26 00       	ld	h,0x00
1126  01F0  01 00 00    	ld	bc,_state
1127  01F3  09          	add	hl,bc
1128  01F4  CB 56       	bit	2,(hl)
1129  01F6  28 04       	jr	Z,l_enemy_collision_check_00104
1130  01F8  2E 01       	ld	l,0x01
1131  01FA  18 1A       	jr	l_enemy_collision_check_00109
1132  01FC              l_enemy_collision_check_00104:
1133  01FC  3A 00 00    	ld	a,(_tmp_sc)
1134  01FF  D6 02       	sub	a,0x02
1135  0201  20 11       	jr	NZ,l_enemy_collision_check_00107
1136  0203  2A 00 00    	ld	hl,(_sprite)
1137  0206  26 00       	ld	h,0x00
1138  0208  01 00 00    	ld	bc,_state
1139  020B  09          	add	hl,bc
1140  020C  CB 5E       	bit	3,(hl)
1141  020E  28 04       	jr	Z,l_enemy_collision_check_00107
1142  0210  2E 01       	ld	l,0x01
1143  0212  18 02       	jr	l_enemy_collision_check_00109
1144  0214              l_enemy_collision_check_00107:
1145  0214  2E 00       	ld	l,0x00
1146  0216              l_enemy_collision_check_00109:
1147  0216  C9          	ret
1148  0217              	SECTION code_compiler
1149  0217              ;	---------------------------------
1150  0217              ; Function enemy_hit
1151  0217              ; ---------------------------------
1152  0217              _enemy_hit:
1153  0217  76          	halt
1154  0218  2A 00 00    	ld	hl,(_enemies)
1155  021B  26 00       	ld	h,0x00
1156  021D  5D          	ld	e,l
1157  021E  01 00 00    	ld	bc,_col
1158  0221  09          	add	hl,bc
1159  0222  46          	ld	b,(hl)
1160  0223  16 00       	ld	d,0x00
1161  0225  21 00 00    	ld	hl,_lin
1162  0228  19          	add	hl,de
1163  0229  4E          	ld	c, (hl)
1164  022A  C5          	push	bc
1165  022B  AF          	xor	a, a
1166  022C  F5          	push	af
1167  022D  33          	inc	sp
1168  022E  CD 00 00    	call	_NIRVANAP_fillT_callee
1169  0231  2A 00 00    	ld	hl,(_enemies)
1170  0234  26 00       	ld	h,0x00
1171  0236  01 00 00    	ld	bc,_lin
1172  0239  09          	add	hl,bc
1173  023A  7E          	ld	a,(hl)
1174  023B  C6 FC       	add	a,0xfc
1175  023D  77          	ld	(hl),a
1176  023E  2A 00 00    	ld	hl,(_enemies)
1177  0241  26 00       	ld	h,0x00
1178  0243  01 00 00    	ld	bc,_col
1179  0246  09          	add	hl,bc
1180  0247  4E          	ld	c, (hl)
1181  0248  2A 00 00    	ld	hl,(_enemies)
1182  024B  26 00       	ld	h,0x00
1183  024D  11 00 00    	ld	de,_lin
1184  0250  19          	add	hl,de
1185  0251  46          	ld	b, (hl)
1186  0252  2A 00 00    	ld	hl,(_enemies)
1187  0255  26 00       	ld	h,0x00
1188  0257  11 00 00    	ld	de,_tile
1189  025A  19          	add	hl,de
1190  025B  56          	ld	d, (hl)
1191  025C  79          	ld	a,c
1192  025D  21 00 00    	ld	hl,_enemies
1193  0260  F5          	push	af
1194  0261  33          	inc	sp
1195  0262  4A          	ld	c, d
1196  0263  7E          	ld	a,(hl)
1197  0264  C5          	push	bc
1198  0265  F5          	push	af
1199  0266  33          	inc	sp
1200  0267  CD 00 00    	call	_NIRVANAP_spriteT_callee
1201  026A  2A 00 00    	ld	hl,(_enemies)
1202  026D  26 00       	ld	h,0x00
1203  026F  01 00 00    	ld	bc,_state_a
1204  0272  09          	add	hl,bc
1205  0273  7E          	ld	a,(hl)
1206  0274  E6 FD       	and	a,0xfd
1207  0276  77          	ld	(hl),a
1208  0277  01 00 00    	ld	bc,_spr_timer+0
1209  027A  2A 00 00    	ld	hl,(_enemies)
1210  027D  26 00       	ld	h,0x00
1211  027F  29          	add	hl, hl
1212  0280  09          	add	hl,bc
1213  0281  ED 5B 00 00 	ld	de,(_curr_time)
1214  0285  73          	ld	(hl),e
1215  0286  23          	inc	hl
1216  0287  72          	ld	(hl),d
1217  0288  2A 00 00    	ld	hl,(_enemies)
1218  028B  26 00       	ld	h,0x00
1219  028D  01 00 00    	ld	bc,_class
1220  0290  09          	add	hl,bc
1221  0291  7E          	ld	a,(hl)
1222  0292  5F          	ld	e,a
1223  0293  D6 01       	sub	a,0x01
1224  0295  DA 37 03    	jp	C,l_enemy_hit_00113
1225  0298  3E 0B       	ld	a,0x0b
1226  029A  93          	sub	a,e
1227  029B  DA 37 03    	jp	C,l_enemy_hit_00113
1228  029E  1D          	dec	e
1229  029F  16 00       	ld	d,0x00
1230  02A1  4D          	ld	c,l
1231  02A2  44          	ld	b,h
1232  02A3  21 AA 02    	ld	hl,l_enemy_hit_00123
1233  02A6  19          	add	hl,de
1234  02A7  19          	add	hl,de
1235  02A8  19          	add	hl,de
1236  02A9  E9          	jp	(hl)
1237  02AA              l_enemy_hit_00123:
1238  02AA  C3 CB 02    	jp	l_enemy_hit_00101
1239  02AD  C3 D3 02    	jp	l_enemy_hit_00102
1240  02B0  C3 DB 02    	jp	l_enemy_hit_00103
1241  02B3  C3 E3 02    	jp	l_enemy_hit_00104
1242  02B6  C3 EB 02    	jp	l_enemy_hit_00105
1243  02B9  C3 F3 02    	jp	l_enemy_hit_00106
1244  02BC  C3 03 03    	jp	l_enemy_hit_00108
1245  02BF  C3 0F 03    	jp	l_enemy_hit_00109
1246  02C2  C3 FB 02    	jp	l_enemy_hit_00107
1247  02C5  C3 21 03    	jp	l_enemy_hit_00110
1248  02C8  C3 2D 03    	jp	l_enemy_hit_00111
1249  02CB              l_enemy_hit_00101:
1250  02CB  21 30 00    	ld	hl,0x0030
1251  02CE  CD 23 04    	call	_enemy_flip
1252  02D1  18 64       	jr	l_enemy_hit_00113
1253  02D3              l_enemy_hit_00102:
1254  02D3  21 3C 00    	ld	hl,0x003c
1255  02D6  CD 23 04    	call	_enemy_flip
1256  02D9  18 5C       	jr	l_enemy_hit_00113
1257  02DB              l_enemy_hit_00103:
1258  02DB  21 48 00    	ld	hl,0x0048
1259  02DE  CD 23 04    	call	_enemy_flip
1260  02E1  18 54       	jr	l_enemy_hit_00113
1261  02E3              l_enemy_hit_00104:
1262  02E3  21 54 00    	ld	hl,0x0054
1263  02E6  CD 05 05    	call	_enemy_flip_sidestepper
1264  02E9  18 4C       	jr	l_enemy_hit_00113
1265  02EB              l_enemy_hit_00105:
1266  02EB  21 60 00    	ld	hl,0x0060
1267  02EE  CD 05 05    	call	_enemy_flip_sidestepper
1268  02F1  18 44       	jr	l_enemy_hit_00113
1269  02F3              l_enemy_hit_00106:
1270  02F3  21 6C 00    	ld	hl,0x006c
1271  02F6  CD 05 05    	call	_enemy_flip_sidestepper
1272  02F9  18 3C       	jr	l_enemy_hit_00113
1273  02FB              l_enemy_hit_00107:
1274  02FB  21 78 00    	ld	hl,0x0078
1275  02FE  CD 23 04    	call	_enemy_flip
1276  0301  18 34       	jr	l_enemy_hit_00113
1277  0303              l_enemy_hit_00108:
1278  0303  2A 00 00    	ld	hl,(_enemies)
1279  0306  26 32       	ld	h,0x32
1280  0308  E5          	push	hl
1281  0309  CD 00 00    	call	_player_coin
1282  030C  F1          	pop	af
1283  030D  18 28       	jr	l_enemy_hit_00113
1284  030F              l_enemy_hit_00109:
1285  030F  21 00 00    	ld	hl,_ay_effect_10
1286  0312  CD 00 00    	call	_ay_fx_play
1287  0315  2A 00 00    	ld	hl,(_enemies)
1288  0318  26 50       	ld	h,0x50
1289  031A  E5          	push	hl
1290  031B  CD 00 00    	call	_player_coin
1291  031E  F1          	pop	af
1292  031F  18 16       	jr	l_enemy_hit_00113
1293  0321              l_enemy_hit_00110:
1294  0321  2A 00 00    	ld	hl,(_enemies)
1295  0324  26 64       	ld	h,0x64
1296  0326  E5          	push	hl
1297  0327  CD 00 00    	call	_player_coin
1298  032A  F1          	pop	af
1299  032B  18 0A       	jr	l_enemy_hit_00113
1300  032D              l_enemy_hit_00111:
1301  032D  2A 00 00    	ld	hl,(_enemies)
1302  0330  26 14       	ld	h,0x14
1303  0332  E5          	push	hl
1304  0333  CD 00 00    	call	_player_coin
1305  0336  F1          	pop	af
1306  0337              l_enemy_hit_00113:
1307  0337  C9          	ret
1308  0338              	SECTION code_compiler
1309  0338              ;	---------------------------------
1310  0338              ; Function enemy_flip_change_dir
1311  0338              ; ---------------------------------
1312  0338              _enemy_flip_change_dir:
1313  0338  3A 00 00    	ld	a,(_enemies)
1314  033B  C6 00       	add	a,+((_state) & 0xFF)
1315  033D  4D          	ld	c,l
1316  033E  5F          	ld	e,a
1317  033F  3E 00       	ld	a,+((_state) / 256)
1318  0341  CE 00       	adc	a,0x00
1319  0343  57          	ld	d,a
1320  0344  1A          	ld	a,(de)
1321  0345  CB 57       	bit	2, a
1322  0347  28 1F       	jr	Z,l_enemy_flip_change_dir_00102
1323  0349  2A 00 00    	ld	hl,(_enemies)
1324  034C  26 00       	ld	h,0x00
1325  034E  11 00 00    	ld	de,_state_a
1326  0351  19          	add	hl,de
1327  0352  7E          	ld	a,(hl)
1328  0353  EB          	ex	de,hl
1329  0354  F6 10       	or	a,0x10
1330  0356  12          	ld	(de),a
1331  0357  3A 00 00    	ld	a,(_enemies)
1332  035A  5F          	ld	e,a
1333  035B  16 00       	ld	d,0x00
1334  035D  21 00 00    	ld	hl,_state_a
1335  0360  19          	add	hl,de
1336  0361  7E          	ld	a,(hl)
1337  0362  EB          	ex	de,hl
1338  0363  E6 F7       	and	a,0xf7
1339  0365  12          	ld	(de),a
1340  0366  18 1D       	jr	l_enemy_flip_change_dir_00103
1341  0368              l_enemy_flip_change_dir_00102:
1342  0368  2A 00 00    	ld	hl,(_enemies)
1343  036B  26 00       	ld	h,0x00
1344  036D  11 00 00    	ld	de,_state_a
1345  0370  19          	add	hl,de
1346  0371  7E          	ld	a,(hl)
1347  0372  EB          	ex	de,hl
1348  0373  F6 10       	or	a,0x10
1349  0375  12          	ld	(de),a
1350  0376  3A 00 00    	ld	a,(_enemies)
1351  0379  5F          	ld	e,a
1352  037A  16 00       	ld	d,0x00
1353  037C  21 00 00    	ld	hl,_state_a
1354  037F  19          	add	hl,de
1355  0380  7E          	ld	a,(hl)
1356  0381  EB          	ex	de,hl
1357  0382  E6 F7       	and	a,0xf7
1358  0384  12          	ld	(de),a
1359  0385              l_enemy_flip_change_dir_00103:
1360  0385  2A 00 00    	ld	hl,(_sprite)
1361  0388  26 00       	ld	h,0x00
1362  038A  11 00 00    	ld	de,_col
1363  038D  19          	add	hl,de
1364  038E  46          	ld	b, (hl)
1365  038F  2A 00 00    	ld	hl,(_enemies)
1366  0392  26 00       	ld	h,0x00
1367  0394  11 00 00    	ld	de,_col
1368  0397  19          	add	hl,de
1369  0398  7E          	ld	a,(hl)
1370  0399  90          	sub	a,b
1371  039A  30 1D       	jr	NC,l_enemy_flip_change_dir_00105
1372  039C  2A 00 00    	ld	hl,(_enemies)
1373  039F  26 00       	ld	h,0x00
1374  03A1  11 00 00    	ld	de,_state
1375  03A4  19          	add	hl,de
1376  03A5  7E          	ld	a,(hl)
1377  03A6  EB          	ex	de,hl
1378  03A7  F6 08       	or	a,0x08
1379  03A9  12          	ld	(de),a
1380  03AA  3A 00 00    	ld	a,(_enemies)
1381  03AD  5F          	ld	e,a
1382  03AE  16 00       	ld	d,0x00
1383  03B0  21 00 00    	ld	hl,_state
1384  03B3  19          	add	hl,de
1385  03B4  7E          	ld	a,(hl)
1386  03B5  EB          	ex	de,hl
1387  03B6  E6 FB       	and	a,0xfb
1388  03B8  12          	ld	(de),a
1389  03B9              l_enemy_flip_change_dir_00105:
1390  03B9  2A 00 00    	ld	hl,(_sprite)
1391  03BC  26 00       	ld	h,0x00
1392  03BE  11 00 00    	ld	de,_col
1393  03C1  19          	add	hl,de
1394  03C2  46          	ld	b, (hl)
1395  03C3  2A 00 00    	ld	hl,(_enemies)
1396  03C6  26 00       	ld	h,0x00
1397  03C8  11 00 00    	ld	de,_col
1398  03CB  19          	add	hl,de
1399  03CC  5E          	ld	e, (hl)
1400  03CD  78          	ld	a,b
1401  03CE  93          	sub	a,e
1402  03CF  30 1D       	jr	NC,l_enemy_flip_change_dir_00107
1403  03D1  2A 00 00    	ld	hl,(_enemies)
1404  03D4  26 00       	ld	h,0x00
1405  03D6  11 00 00    	ld	de,_state
1406  03D9  19          	add	hl,de
1407  03DA  7E          	ld	a,(hl)
1408  03DB  EB          	ex	de,hl
1409  03DC  F6 04       	or	a,0x04
1410  03DE  12          	ld	(de),a
1411  03DF  3A 00 00    	ld	a,(_enemies)
1412  03E2  5F          	ld	e,a
1413  03E3  16 00       	ld	d,0x00
1414  03E5  21 00 00    	ld	hl,_state
1415  03E8  19          	add	hl,de
1416  03E9  7E          	ld	a,(hl)
1417  03EA  EB          	ex	de,hl
1418  03EB  E6 F7       	and	a,0xf7
1419  03ED  12          	ld	(de),a
1420  03EE              l_enemy_flip_change_dir_00107:
1421  03EE  79          	ld	a,c
1422  03EF  B7          	or	a, a
1423  03F0  C0          	ret	NZ
1424  03F1  2A 00 00    	ld	hl,(_sprite)
1425  03F4  26 00       	ld	h,0x00
1426  03F6  01 00 00    	ld	bc,_col
1427  03F9  09          	add	hl,bc
1428  03FA  4E          	ld	c,(hl)
1429  03FB  2A 00 00    	ld	hl,(_enemies)
1430  03FE  26 00       	ld	h,0x00
1431  0400  11 00 00    	ld	de,_col
1432  0403  19          	add	hl,de
1433  0404  46          	ld	b, (hl)
1434  0405  79          	ld	a,c
1435  0406  90          	sub	a,b
1436  0407  C0          	ret	NZ
1437  0408  2A 00 00    	ld	hl,(_enemies)
1438  040B  26 00       	ld	h,0x00
1439  040D  01 00 00    	ld	bc,_state
1440  0410  09          	add	hl,bc
1441  0411  7E          	ld	a,(hl)
1442  0412  E6 F7       	and	a,0xf7
1443  0414  77          	ld	(hl),a
1444  0415  2A 00 00    	ld	hl,(_enemies)
1445  0418  26 00       	ld	h,0x00
1446  041A  01 00 00    	ld	bc,_state
1447  041D  09          	add	hl,bc
1448  041E  7E          	ld	a,(hl)
1449  041F  E6 FB       	and	a,0xfb
1450  0421  77          	ld	(hl),a
1451  0422  C9          	ret
1452  0423              	SECTION code_compiler
1453  0423              ;	---------------------------------
1454  0423              ; Function enemy_flip
1455  0423              ; ---------------------------------
1456  0423              _enemy_flip:
1457  0423  CD 00 00    	call	___sdcc_enter_ix
1458  0426  F5          	push	af
1459  0427  3B          	dec	sp
1460  0428  DD 75 FD    	ld	(ix-3),l
1461  042B  DD 74 FE    	ld	(ix-2),h
1462  042E  01 00 00    	ld	bc,_spr_timer+0
1463  0431  2A 00 00    	ld	hl,(_enemies)
1464  0434  26 00       	ld	h,0x00
1465  0436  29          	add	hl, hl
1466  0437  09          	add	hl,bc
1467  0438  ED 5B 00 00 	ld	de,(_curr_time)
1468  043C  73          	ld	(hl),e
1469  043D  23          	inc	hl
1470  043E  72          	ld	(hl),d
1471  043F  2A 00 00    	ld	hl,(_enemies)
1472  0442  26 00       	ld	h,0x00
1473  0444  01 00 00    	ld	bc,_state
1474  0447  09          	add	hl,bc
1475  0448  7E          	ld	a,(hl)
1476  0449  F6 01       	or	a,0x01
1477  044B  77          	ld	(hl),a
1478  044C  2A 00 00    	ld	hl,(_enemies)
1479  044F  26 00       	ld	h,0x00
1480  0451  01 00 00    	ld	bc,_state
1481  0454  09          	add	hl,bc
1482  0455  7E          	ld	a,(hl)
1483  0456  E6 FD       	and	a,0xfd
1484  0458  77          	ld	(hl),a
1485  0459  2A 00 00    	ld	hl,(_enemies)
1486  045C  26 00       	ld	h,0x00
1487  045E  01 00 00    	ld	bc,_state
1488  0461  09          	add	hl,bc
1489  0462  7E          	ld	a,(hl)
1490  0463  EE 10       	xor	a,0x10
1491  0465  77          	ld	(hl),a
1492  0466  2A 00 00    	ld	hl,(_enemies)
1493  0469  26 00       	ld	h,0x00
1494  046B  01 00 00    	ld	bc,_jump_lin
1495  046E  09          	add	hl,bc
1496  046F  4D          	ld	c,l
1497  0470  44          	ld	b,h
1498  0471  2A 00 00    	ld	hl,(_enemies)
1499  0474  26 00       	ld	h,0x00
1500  0476  11 00 00    	ld	de,_lin
1501  0479  19          	add	hl,de
1502  047A  7E          	ld	a,(hl)
1503  047B  02          	ld	(bc),a
1504  047C  2A 00 00    	ld	hl,(_enemies)
1505  047F  26 00       	ld	h,0x00
1506  0481  01 00 00    	ld	bc,_colint
1507  0484  09          	add	hl,bc
1508  0485  AF          	xor	a,a
1509  0486  77          	ld	(hl),a
1510  0487  2A 00 00    	ld	hl,(_enemies)
1511  048A  26 00       	ld	h,0x00
1512  048C  01 00 00    	ld	bc,_state
1513  048F  09          	add	hl,bc
1514  0490  7E          	ld	a,(hl)
1515  0491  DD 77 FF    	ld	(ix-1),a
1516  0494  CB 67       	bit	4,a
1517  0496  4D          	ld	c,l
1518  0497  44          	ld	b,h
1519  0498  28 22       	jr	Z,l_enemy_flip_00105
1520  049A  21 00 00    	ld	hl,_ay_effect_02
1521  049D  CD 00 00    	call	_ay_fx_play
1522  04A0  2E 00       	ld	l,0x00
1523  04A2  CD 38 03    	call	_enemy_flip_change_dir
1524  04A5  2A 00 00    	ld	hl,(_enemies)
1525  04A8  26 00       	ld	h,0x00
1526  04AA  01 00 00    	ld	bc,_tile
1527  04AD  09          	add	hl,bc
1528  04AE  DD 7E FD    	ld	a,(ix-3)
1529  04B1  C6 06       	add	a,0x06
1530  04B3  77          	ld	(hl),a
1531  04B4  21 01 00    	ld	hl,0x0001
1532  04B7  CD 00 00    	call	_player_score_add
1533  04BA  18 44       	jr	l_enemy_flip_00107
1534  04BC              l_enemy_flip_00105:
1535  04BC  2A 00 00    	ld	hl,(_enemies)
1536  04BF  26 00       	ld	h,0x00
1537  04C1  11 00 00    	ld	de,_state_a
1538  04C4  19          	add	hl,de
1539  04C5  5E          	ld	e, (hl)
1540  04C6  DD 7E FF    	ld	a,(ix-1)
1541  04C9  F6 04       	or	a,0x04
1542  04CB  CB 63       	bit	4, e
1543  04CD  28 10       	jr	Z,l_enemy_flip_00102
1544  04CF  02          	ld	(bc),a
1545  04D0  2A 00 00    	ld	hl,(_enemies)
1546  04D3  26 00       	ld	h,0x00
1547  04D5  01 00 00    	ld	bc,_state
1548  04D8  09          	add	hl,bc
1549  04D9  7E          	ld	a,(hl)
1550  04DA  E6 F7       	and	a,0xf7
1551  04DC  77          	ld	(hl),a
1552  04DD  18 0E       	jr	l_enemy_flip_00103
1553  04DF              l_enemy_flip_00102:
1554  04DF  02          	ld	(bc),a
1555  04E0  2A 00 00    	ld	hl,(_enemies)
1556  04E3  26 00       	ld	h,0x00
1557  04E5  01 00 00    	ld	bc,_state
1558  04E8  09          	add	hl,bc
1559  04E9  7E          	ld	a,(hl)
1560  04EA  E6 F7       	and	a,0xf7
1561  04EC  77          	ld	(hl),a
1562  04ED              l_enemy_flip_00103:
1563  04ED  2A 00 00    	ld	hl,(_enemies)
1564  04F0  26 00       	ld	h,0x00
1565  04F2  01 00 00    	ld	bc,_tile
1566  04F5  09          	add	hl,bc
1567  04F6  E5          	push	hl
1568  04F7  2A 00 00    	ld	hl,(_enemies)
1569  04FA  CD 00 00    	call	_spr_tile
1570  04FD  C1          	pop	bc
1571  04FE  7D          	ld	a, l
1572  04FF  02          	ld	(bc),a
1573  0500              l_enemy_flip_00107:
1574  0500  DD F9       	ld	sp, ix
1575  0502  DD E1       	pop	ix
1576  0504  C9          	ret
1577  0505              	SECTION code_compiler
1578  0505              ;	---------------------------------
1579  0505              ; Function enemy_flip_sidestepper
1580  0505              ; ---------------------------------
1581  0505              _enemy_flip_sidestepper:
1582  0505  4D          	ld	c,l
1583  0506  44          	ld	b,h
1584  0507  2A 00 00    	ld	hl,(_enemies)
1585  050A  26 00       	ld	h,0x00
1586  050C  11 00 00    	ld	de,_state
1587  050F  19          	add	hl,de
1588  0510  CB 76       	bit	6,(hl)
1589  0512  28 07       	jr	Z,l_enemy_flip_sidestepper_00102
1590  0514  69          	ld	l, c
1591  0515  60          	ld	h, b
1592  0516  CD 23 04    	call	_enemy_flip
1593  0519  18 55       	jr	l_enemy_flip_sidestepper_00104
1594  051B              l_enemy_flip_sidestepper_00102:
1595  051B  2E 01       	ld	l,0x01
1596  051D  CD 38 03    	call	_enemy_flip_change_dir
1597  0520  2A 00 00    	ld	hl,(_enemies)
1598  0523  26 00       	ld	h,0x00
1599  0525  01 00 00    	ld	bc,_state
1600  0528  09          	add	hl,bc
1601  0529  7E          	ld	a,(hl)
1602  052A  EE 01       	xor	a,0x01
1603  052C  77          	ld	(hl),a
1604  052D  2A 00 00    	ld	hl,(_enemies)
1605  0530  26 00       	ld	h,0x00
1606  0532  01 00 00    	ld	bc,_state
1607  0535  09          	add	hl,bc
1608  0536  7E          	ld	a,(hl)
1609  0537  E6 FD       	and	a,0xfd
1610  0539  77          	ld	(hl),a
1611  053A  2A 00 00    	ld	hl,(_enemies)
1612  053D  26 00       	ld	h,0x00
1613  053F  01 00 00    	ld	bc,_state
1614  0542  09          	add	hl,bc
1615  0543  7E          	ld	a,(hl)
1616  0544  F6 40       	or	a,0x40
1617  0546  77          	ld	(hl),a
1618  0547  2A 00 00    	ld	hl,(_enemies)
1619  054A  26 00       	ld	h,0x00
1620  054C  01 00 00    	ld	bc,_jump_lin
1621  054F  09          	add	hl,bc
1622  0550  4D          	ld	c,l
1623  0551  44          	ld	b,h
1624  0552  2A 00 00    	ld	hl,(_enemies)
1625  0555  26 00       	ld	h,0x00
1626  0557  11 00 00    	ld	de,_lin
1627  055A  19          	add	hl,de
1628  055B  7E          	ld	a,(hl)
1629  055C  02          	ld	(bc),a
1630  055D  2A 00 00    	ld	hl,(_enemies)
1631  0560  26 00       	ld	h,0x00
1632  0562  01 00 00    	ld	bc,_tile
1633  0565  09          	add	hl,bc
1634  0566  E5          	push	hl
1635  0567  2A 00 00    	ld	hl,(_enemies)
1636  056A  CD 00 00    	call	_spr_tile
1637  056D  C1          	pop	bc
1638  056E  7D          	ld	a, l
1639  056F  02          	ld	(bc),a
1640  0570              l_enemy_flip_sidestepper_00104:
1641  0570  C9          	ret
1642  0571              	SECTION code_compiler
1643  0571              ;	---------------------------------
1644  0571              ; Function enemy_turn
1645  0571              ; ---------------------------------
1646  0571              _enemy_turn:
1647  0571  21 00 00    	ld	hl,_sprite
1648  0574  36 00       	ld	(hl),0x00
1649  0576              l_enemy_turn_00123:
1650  0576  2A 00 00    	ld	hl,(_sprite)
1651  0579  26 00       	ld	h,0x00
1652  057B  01 00 00    	ld	bc,_class
1653  057E  09          	add	hl,bc
1654  057F  7E          	ld	a,(hl)
1655  0580  B7          	or	a, a
1656  0581  CA 92 06    	jp	Z,l_enemy_turn_00121
1657  0584  21 00 00    	ld	hl,_sprite
1658  0587  CD 00 00    	call	_spr_chktime
1659  058A  7D          	ld	a,l
1660  058B  B7          	or	a, a
1661  058C  CA 92 06    	jp	Z,l_enemy_turn_00121
1662  058F  2A 00 00    	ld	hl,(_sprite)
1663  0592  26 00       	ld	h,0x00
1664  0594  01 00 00    	ld	bc,_lin
1665  0597  09          	add	hl,bc
1666  0598  7E          	ld	a,(hl)
1667  0599  32 00 00    	ld	(_s_lin0),a
1668  059C  2A 00 00    	ld	hl,(_sprite)
1669  059F  26 00       	ld	h,0x00
1670  05A1  01 00 00    	ld	bc,_col
1671  05A4  09          	add	hl,bc
1672  05A5  7E          	ld	a,(hl)
1673  05A6  32 00 00    	ld	(_s_col0),a
1674  05A9  2A 00 00    	ld	hl,(_sprite)
1675  05AC  26 00       	ld	h,0x00
1676  05AE  01 00 00    	ld	bc,_tile
1677  05B1  09          	add	hl,bc
1678  05B2  4E          	ld	c, (hl)
1679  05B3  3A 00 00    	ld	a,(_sprite)
1680  05B6  5F          	ld	e,a
1681  05B7  16 00       	ld	d,0x00
1682  05B9  21 00 00    	ld	hl,_colint
1683  05BC  19          	add	hl,de
1684  05BD  7E          	ld	a,(hl)
1685  05BE  81          	add	a,c
1686  05BF  32 00 00    	ld	(_s_tile0),a
1687  05C2  2A 00 00    	ld	hl,(_sprite)
1688  05C5  26 00       	ld	h,0x00
1689  05C7  01 00 00    	ld	bc,_state
1690  05CA  09          	add	hl,bc
1691  05CB  7E          	ld	a,(hl)
1692  05CC  32 00 00    	ld	(_s_state),a
1693  05CF  2A 00 00    	ld	hl,(_sprite)
1694  05D2  26 00       	ld	h,0x00
1695  05D4  29          	add	hl,hl
1696  05D5  01 00 00    	ld	bc,_last_time
1697  05D8  09          	add	hl,bc
1698  05D9  ED 5B 00 00 	ld	de,(_curr_time)
1699  05DD  73          	ld	(hl),e
1700  05DE  23          	inc	hl
1701  05DF  72          	ld	(hl),d
1702  05E0  21 00 00    	ld	hl,_s_state
1703  05E3  7E          	ld	a,(hl)
1704  05E4  E6 01       	and	a,0x01
1705  05E6  7E          	ld	a,(hl)
1706  05E7  E6 20       	and	a,0x20
1707  05E9  28 0E       	jr	Z,l_enemy_turn_00102
1708  05EB  7E          	ld	a,(hl)
1709  05EC  E6 01       	and	a,0x01
1710  05EE  20 09       	jr	NZ,l_enemy_turn_00102
1711  05F0  2A 00 00    	ld	hl,(_sprite)
1712  05F3  CD 00 00    	call	_spr_killed
1713  05F6  C3 92 06    	jp	l_enemy_turn_00121
1714  05F9              l_enemy_turn_00102:
1715  05F9  3A 00 00    	ld	a,(_s_state)
1716  05FC  E6 10       	and	a,0x10
1717  05FE  28 34       	jr	Z,l_enemy_turn_00107
1718  0600  21 00 00    	ld	hl,_s_state
1719  0603  7E          	ld	a,(hl)
1720  0604  E6 02       	and	a,0x02
1721  0606  20 2C       	jr	NZ,l_enemy_turn_00107
1722  0608  7E          	ld	a,(hl)
1723  0609  E6 01       	and	a,0x01
1724  060B  20 27       	jr	NZ,l_enemy_turn_00107
1725  060D  2A 00 00    	ld	hl,(_sprite)
1726  0610  26 00       	ld	h,0x00
1727  0612  01 00 00    	ld	bc,_sprite_speed_alt
1728  0615  09          	add	hl,bc
1729  0616  36 08       	ld	(hl),0x08
1730  0618  CD 09 0C    	call	_enemy_standard_hit
1731  061B  2A 00 00    	ld	hl,(_sprite)
1732  061E  26 00       	ld	h,0x00
1733  0620  01 00 00    	ld	bc,_colint
1734  0623  09          	add	hl,bc
1735  0624  7E          	ld	a,(hl)
1736  0625  3C          	inc	a
1737  0626  77          	ld	(hl),a
1738  0627  5F          	ld	e,a
1739  0628  3E 02       	ld	a,0x02
1740  062A  93          	sub	a,e
1741  062B  30 02       	jr	NC,l_enemy_turn_00105
1742  062D  AF          	xor	a,a
1743  062E  77          	ld	(hl),a
1744  062F              l_enemy_turn_00105:
1745  062F  CD 00 00    	call	_spr_redraw
1746  0632  18 5E       	jr	l_enemy_turn_00121
1747  0634              l_enemy_turn_00107:
1748  0634  2A 00 00    	ld	hl,(_sprite)
1749  0637  26 00       	ld	h,0x00
1750  0639  01 00 00    	ld	bc,_class
1751  063C  09          	add	hl,bc
1752  063D  7E          	ld	a,(hl)
1753  063E  4F          	ld	c,a
1754  063F  D6 07       	sub	a,0x07
1755  0641  38 3C       	jr	C,l_enemy_turn_00116
1756  0643  3E 0C       	ld	a,0x0c
1757  0645  91          	sub	a,c
1758  0646  38 37       	jr	C,l_enemy_turn_00116
1759  0648  79          	ld	a,c
1760  0649  C6 F9       	add	a,0xf9
1761  064B  44          	ld	b,h
1762  064C  5F          	ld	e,a
1763  064D  16 00       	ld	d,0x00
1764  064F  21 55 06    	ld	hl,l_enemy_turn_00176
1765  0652  19          	add	hl,de
1766  0653  19          	add	hl,de
1767  0654  E9          	jp	(hl)
1768  0655              l_enemy_turn_00176:
1769  0655  18 19       	jr	l_enemy_turn_00113
1770  0657  18 1C       	jr	l_enemy_turn_00114
1771  0659  18 10       	jr	l_enemy_turn_00112
1772  065B  18 04       	jr	l_enemy_turn_00110
1773  065D  18 07       	jr	l_enemy_turn_00111
1774  065F  18 19       	jr	l_enemy_turn_00115
1775  0661              l_enemy_turn_00110:
1776  0661  CD 94 08    	call	_enemy_fireball_red
1777  0664  18 1C       	jr	l_enemy_turn_00117
1778  0666              l_enemy_turn_00111:
1779  0666  CD 40 09    	call	_enemy_fireball_green
1780  0669  18 17       	jr	l_enemy_turn_00117
1781  066B              l_enemy_turn_00112:
1782  066B  CD EB 09    	call	_enemy_fighterfly
1783  066E  18 12       	jr	l_enemy_turn_00117
1784  0670              l_enemy_turn_00113:
1785  0670  CD 0E 07    	call	_enemy_slipice
1786  0673  18 0D       	jr	l_enemy_turn_00117
1787  0675              l_enemy_turn_00114:
1788  0675  CD 00 00    	call	_enemy_coin1
1789  0678  18 08       	jr	l_enemy_turn_00117
1790  067A              l_enemy_turn_00115:
1791  067A  CD 32 00    	call	_enemy_coin2
1792  067D  18 03       	jr	l_enemy_turn_00117
1793  067F              l_enemy_turn_00116:
1794  067F  CD 9E 06    	call	_enemy_standard
1795  0682              l_enemy_turn_00117:
1796  0682  CD 00 00    	call	_spr_redraw
1797  0685  2A 00 00    	ld	hl,(_sprite)
1798  0688  26 00       	ld	h,0x00
1799  068A  01 00 00    	ld	bc,_state
1800  068D  09          	add	hl,bc
1801  068E  3A 00 00    	ld	a,(_s_state)
1802  0691  77          	ld	(hl),a
1803  0692              l_enemy_turn_00121:
1804  0692  21 00 00    	ld	hl,_sprite
1805  0695  7E          	ld	a,(hl)
1806  0696  3C          	inc	a
1807  0697  77          	ld	(hl),a
1808  0698  D6 06       	sub	a,0x06
1809  069A  DA 76 05    	jp	C,l_enemy_turn_00123
1810  069D  C9          	ret
1811  069E              	SECTION code_compiler
1812  069E              ;	---------------------------------
1813  069E              ; Function enemy_standard
1814  069E              ; ---------------------------------
1815  069E              _enemy_standard:
1816  069E  3A 00 00    	ld	a,(_s_state)
1817  06A1  0F          	rrca
1818  06A2  30 3C       	jr	NC,l_enemy_standard_00108
1819  06A4  2A 00 00    	ld	hl,(_sprite)
1820  06A7  26 00       	ld	h,0x00
1821  06A9  01 00 00    	ld	bc,_sprite_speed_alt
1822  06AC  09          	add	hl,bc
1823  06AD  36 01       	ld	(hl),0x01
1824  06AF  CD 00 00    	call	_spr_move_horizontal
1825  06B2  CD 00 00    	call	_spr_move_up
1826  06B5  2A 00 00    	ld	hl,(_sprite)
1827  06B8  26 00       	ld	h,0x00
1828  06BA  5D          	ld	e,l
1829  06BB  01 00 00    	ld	bc,_jump_lin
1830  06BE  09          	add	hl,bc
1831  06BF  4E          	ld	c,(hl)
1832  06C0  06 00       	ld	b,0x00
1833  06C2  50          	ld	d,b
1834  06C3  21 00 00    	ld	hl,_lin
1835  06C6  19          	add	hl,de
1836  06C7  5E          	ld	e, (hl)
1837  06C8  16 00       	ld	d,0x00
1838  06CA  79          	ld	a,c
1839  06CB  93          	sub	a, e
1840  06CC  4F          	ld	c,a
1841  06CD  78          	ld	a,b
1842  06CE  9A          	sbc	a, d
1843  06CF  47          	ld	b,a
1844  06D0  79          	ld	a,c
1845  06D1  D6 0C       	sub	a,0x0c
1846  06D3  78          	ld	a,b
1847  06D4  17          	rla
1848  06D5  3F          	ccf
1849  06D6  1F          	rra
1850  06D7  DE 80       	sbc	a,0x80
1851  06D9  38 30       	jr	C,l_enemy_standard_00109
1852  06DB  CD 00 00    	call	_spr_set_fall
1853  06DE  18 2B       	jr	l_enemy_standard_00109
1854  06E0              l_enemy_standard_00108:
1855  06E0  CD 04 0D    	call	_enemy_walk
1856  06E3  2A 00 00    	ld	hl,(_sprite)
1857  06E6  26 00       	ld	h,0x00
1858  06E8  01 00 00    	ld	bc,_lin
1859  06EB  09          	add	hl,bc
1860  06EC  7E          	ld	a,(hl)
1861  06ED  D6 98       	sub	a,0x98
1862  06EF  21 00 00    	ld	hl,_sprite
1863  06F2  20 17       	jr	NZ,l_enemy_standard_00109
1864  06F4  4E          	ld	c,(hl)
1865  06F5  06 00       	ld	b,0x00
1866  06F7  21 00 00    	ld	hl,_col
1867  06FA  09          	add	hl,bc
1868  06FB  7E          	ld	a,(hl)
1869  06FC  4F          	ld	c,a
1870  06FD  D6 05       	sub	a,0x05
1871  06FF  38 05       	jr	C,l_enemy_standard_00103
1872  0701  3E 19       	ld	a,0x19
1873  0703  91          	sub	a, c
1874  0704  30 05       	jr	NC,l_enemy_standard_00109
1875  0706              l_enemy_standard_00103:
1876  0706  21 00 00    	ld	hl,_s_state
1877  0709  CB C6       	set	0, (hl)
1878  070B              l_enemy_standard_00109:
1879  070B  C3 FE 0A    	jp  _enemy_trip
1880  070E              	SECTION code_compiler
1881  070E              ;	---------------------------------
1882  070E              ; Function enemy_slipice
1883  070E              ; ---------------------------------
1884  070E              _enemy_slipice:
1885  070E  3A 00 00    	ld	a,(_phase_left)
1886  0711  B7          	or	a, a
1887  0712  CA 93 08    	jp	Z,l_enemy_slipice_00126
1888  0715  2A 00 00    	ld	hl,(_sprite)
1889  0718  26 00       	ld	h,0x00
1890  071A  01 00 00    	ld	bc,_state
1891  071D  09          	add	hl,bc
1892  071E  7E          	ld	a,(hl)
1893  071F  CB 77       	bit	6, a
1894  0721  CA BF 07    	jp	Z,l_enemy_slipice_00122
1895  0724  76          	halt
1896  0725  2A 00 00    	ld	hl,(_sprite)
1897  0728  26 00       	ld	h,0x00
1898  072A  01 00 00    	ld	bc,_col
1899  072D  09          	add	hl,bc
1900  072E  56          	ld	d, (hl)
1901  072F  2A 00 00    	ld	hl,(_sprite)
1902  0732  26 00       	ld	h,0x00
1903  0734  01 00 00    	ld	bc,_lin
1904  0737  09          	add	hl,bc
1905  0738  7E          	ld	a,(hl)
1906  0739  C6 08       	add	a,0x08
1907  073B  5F          	ld	e,a
1908  073C  2A 00 00    	ld	hl,(_sprite)
1909  073F  26 00       	ld	h,0x00
1910  0741  01 00 00    	ld	bc,_colint
1911  0744  09          	add	hl,bc
1912  0745  7E          	ld	a,(hl)
1913  0746  C6 8D       	add	a,0x8d
1914  0748  4D          	ld	c,l
1915  0749  47          	ld	b,a
1916  074A  D5          	push	de
1917  074B  C5          	push	bc
1918  074C  33          	inc	sp
1919  074D  CD 00 00    	call	_NIRVANAP_drawT_callee
1920  0750  2A 00 00    	ld	hl,(_sprite)
1921  0753  26 00       	ld	h,0x00
1922  0755  01 00 00    	ld	bc,_colint
1923  0758  09          	add	hl,bc
1924  0759  7E          	ld	a,(hl)
1925  075A  3C          	inc	a
1926  075B  77          	ld	(hl),a
1927  075C  5F          	ld	e,a
1928  075D  3E 02       	ld	a,0x02
1929  075F  93          	sub	a,e
1930  0760  30 02       	jr	NC,l_enemy_slipice_00102
1931  0762  AF          	xor	a,a
1932  0763  77          	ld	(hl),a
1933  0764              l_enemy_slipice_00102:
1934  0764  2A 00 00    	ld	hl,(_sprite)
1935  0767  26 00       	ld	h,0x00
1936  0769  29          	add	hl, hl
1937  076A  11 00 00    	ld	de,_spr_timer
1938  076D  19          	add	hl,de
1939  076E  4E          	ld	c,(hl)
1940  076F  23          	inc	hl
1941  0770  46          	ld	b,(hl)
1942  0771  21 28 00    	ld	hl,0x0028
1943  0774  E5          	push	hl
1944  0775  C5          	push	bc
1945  0776  CD 00 00    	call	_game_check_time
1946  0779  F1          	pop	af
1947  077A  F1          	pop	af
1948  077B  7D          	ld	a,l
1949  077C  B7          	or	a, a
1950  077D  CA 93 08    	jp	Z,l_enemy_slipice_00126
1951  0780  2A 00 00    	ld	hl,(_sprite)
1952  0783  26 00       	ld	h,0x00
1953  0785  5D          	ld	e,l
1954  0786  01 00 00    	ld	bc,_col
1955  0789  09          	add	hl,bc
1956  078A  46          	ld	b,(hl)
1957  078B  16 00       	ld	d,0x00
1958  078D  21 00 00    	ld	hl,_lin
1959  0790  19          	add	hl,de
1960  0791  7E          	ld	a,(hl)
1961  0792  C6 18       	add	a,0x18
1962  0794  4F          	ld	c,a
1963  0795  C5          	push	bc
1964  0796  CD 00 00    	call	_game_freeze
1965  0799  F1          	pop	af
1966  079A  2A 00 00    	ld	hl,(_sprite)
1967  079D  26 00       	ld	h,0x00
1968  079F  5D          	ld	e,l
1969  07A0  01 00 00    	ld	bc,_col
1970  07A3  09          	add	hl,bc
1971  07A4  46          	ld	b,(hl)
1972  07A5  16 00       	ld	d,0x00
1973  07A7  21 00 00    	ld	hl,_lin
1974  07AA  19          	add	hl,de
1975  07AB  7E          	ld	a,(hl)
1976  07AC  C6 08       	add	a,0x08
1977  07AE  4F          	ld	c,a
1978  07AF  C5          	push	bc
1979  07B0  AF          	xor	a, a
1980  07B1  F5          	push	af
1981  07B2  33          	inc	sp
1982  07B3  CD 00 00    	call	_NIRVANAP_fillT_callee
1983  07B6  2A 00 00    	ld	hl,(_sprite)
1984  07B9  CD 00 00    	call	_spr_destroy
1985  07BC  C3 93 08    	jp	l_enemy_slipice_00126
1986  07BF              l_enemy_slipice_00122:
1987  07BF  CB 47       	bit	0, a
1988  07C1  C2 68 08    	jp	NZ,l_enemy_slipice_00110
1989  07C4  CB 4F       	bit	1, a
1990  07C6  C2 68 08    	jp	NZ,l_enemy_slipice_00110
1991  07C9  2A 00 00    	ld	hl,(_sprite)
1992  07CC  26 00       	ld	h,0x00
1993  07CE  01 00 00    	ld	bc,_col
1994  07D1  09          	add	hl,bc
1995  07D2  7E          	ld	a,(hl)
1996  07D3  4F          	ld	c,a
1997  07D4  D6 07       	sub	a,0x07
1998  07D6  28 0A       	jr	Z,l_enemy_slipice_00116
1999  07D8  79          	ld	a,c
2000  07D9  FE 0F       	cp	a,0x0f
2001  07DB  28 05       	jr	Z,l_enemy_slipice_00116
2002  07DD  D6 18       	sub	a,0x18
2003  07DF  C2 68 08    	jp	NZ,l_enemy_slipice_00110
2004  07E2              l_enemy_slipice_00116:
2005  07E2  79          	ld	a,c
2006  07E3  D6 88       	sub	a,0x88
2007  07E5  D2 68 08    	jp	NC,l_enemy_slipice_00110
2008  07E8  CD 00 00    	call	_rand
2009  07EB  22 00 00    	ld	(_tmp_ui),hl
2010  07EE  2A 00 00    	ld	hl,(_sprite)
2011  07F1  26 00       	ld	h,0x00
2012  07F3  01 00 00    	ld	bc,_col
2013  07F6  09          	add	hl,bc
2014  07F7  56          	ld	d, (hl)
2015  07F8  2A 00 00    	ld	hl,(_sprite)
2016  07FB  26 00       	ld	h,0x00
2017  07FD  01 00 00    	ld	bc,_lin
2018  0800  09          	add	hl,bc
2019  0801  7E          	ld	a,(hl)
2020  0802  C6 10       	add	a,0x10
2021  0804  5F          	ld	e, a
2022  0805  D5          	push	de
2023  0806  CD 00 00    	call	_game_calc_index
2024  0809  F1          	pop	af
2025  080A  22 00 00    	ld	(_index1),hl
2026  080D  01 00 00    	ld	bc,_lvl_1
2027  0810  09          	add	hl,bc
2028  0811  7E          	ld	a,(hl)
2029  0812  D6 12       	sub	a,0x12
2030  0814  20 4D       	jr	NZ,l_enemy_slipice_00106
2031  0816  21 00 00    	ld	hl,_tmp_ui
2032  0819  7E          	ld	a,(hl)
2033  081A  D6 32       	sub	a,0x32
2034  081C  23          	inc	hl
2035  081D  7E          	ld	a,(hl)
2036  081E  DE 33       	sbc	a,0x33
2037  0820  30 41       	jr	NC,l_enemy_slipice_00106
2038  0822  21 00 00    	ld	hl,_ay_effect_16
2039  0825  CD 00 00    	call	_ay_fx_play
2040  0828  21 00 00    	ld	hl,_s_state
2041  082B  CB F6       	set	6, (hl)
2042  082D  01 00 00    	ld	bc,_spr_timer+0
2043  0830  2A 00 00    	ld	hl,(_sprite)
2044  0833  26 00       	ld	h,0x00
2045  0835  29          	add	hl, hl
2046  0836  09          	add	hl,bc
2047  0837  ED 5B 00 00 	ld	de,(_curr_time)
2048  083B  73          	ld	(hl),e
2049  083C  23          	inc	hl
2050  083D  72          	ld	(hl),d
2051  083E  2A 00 00    	ld	hl,(_sprite)
2052  0841  26 00       	ld	h,0x00
2053  0843  01 00 00    	ld	bc,_lin
2054  0846  09          	add	hl,bc
2055  0847  7E          	ld	a,(hl)
2056  0848  C6 F8       	add	a,0xf8
2057  084A  77          	ld	(hl),a
2058  084B  2A 00 00    	ld	hl,(_sprite)
2059  084E  26 00       	ld	h,0x00
2060  0850  01 00 00    	ld	bc,_colint
2061  0853  09          	add	hl,bc
2062  0854  AF          	xor	a,a
2063  0855  77          	ld	(hl),a
2064  0856  2A 00 00    	ld	hl,(_sprite)
2065  0859  26 00       	ld	h,0x00
2066  085B  01 00 00    	ld	bc,_tile
2067  085E  09          	add	hl,bc
2068  085F  36 7B       	ld	(hl),0x7b
2069  0861  18 08       	jr	l_enemy_slipice_00111
2070  0863              l_enemy_slipice_00106:
2071  0863  CD 04 0D    	call	_enemy_walk
2072  0866  18 03       	jr	l_enemy_slipice_00111
2073  0868              l_enemy_slipice_00110:
2074  0868  CD 04 0D    	call	_enemy_walk
2075  086B              l_enemy_slipice_00111:
2076  086B  2A 00 00    	ld	hl,(_sprite)
2077  086E  26 00       	ld	h,0x00
2078  0870  01 00 00    	ld	bc,_lin
2079  0873  09          	add	hl,bc
2080  0874  7E          	ld	a,(hl)
2081  0875  D6 98       	sub	a,0x98
2082  0877  20 1A       	jr	NZ,l_enemy_slipice_00126
2083  0879  2A 00 00    	ld	hl,(_sprite)
2084  087C  26 00       	ld	h,0x00
2085  087E  01 00 00    	ld	bc,_col
2086  0881  09          	add	hl,bc
2087  0882  7E          	ld	a,(hl)
2088  0883  4F          	ld	c,a
2089  0884  D6 03       	sub	a,0x03
2090  0886  28 05       	jr	Z,l_enemy_slipice_00117
2091  0888  79          	ld	a,c
2092  0889  D6 1B       	sub	a,0x1b
2093  088B  20 06       	jr	NZ,l_enemy_slipice_00126
2094  088D              l_enemy_slipice_00117:
2095  088D  2A 00 00    	ld	hl,(_sprite)
2096  0890  CD 00 00    	call	_spr_destroy
2097  0893              l_enemy_slipice_00126:
2098  0893  C9          	ret
2099  0894              	SECTION code_compiler
2100  0894              ;	---------------------------------
2101  0894              ; Function enemy_fireball_red
2102  0894              ; ---------------------------------
2103  0894              _enemy_fireball_red:
2104  0894  3A 00 00    	ld	a,(_phase_left)
2105  0897  B7          	or	a, a
2106  0898  CA 3F 09    	jp	Z,l_enemy_fireball_red_00119
2107  089B  3A 00 00    	ld	a,(_s_state)
2108  089E  0F          	rrca
2109  089F  30 0C       	jr	NC,l_enemy_fireball_red_00106
2110  08A1  CD 00 00    	call	_spr_move_up
2111  08A4  7D          	ld	a,l
2112  08A5  B7          	or	a, a
2113  08A6  28 15       	jr	Z,l_enemy_fireball_red_00107
2114  08A8  CD 00 00    	call	_spr_set_fall
2115  08AB  18 10       	jr	l_enemy_fireball_red_00107
2116  08AD              l_enemy_fireball_red_00106:
2117  08AD  CD 00 00    	call	_spr_move_down
2118  08B0  7D          	ld	a,l
2119  08B1  B7          	or	a, a
2120  08B2  28 09       	jr	Z,l_enemy_fireball_red_00107
2121  08B4  21 00 00    	ld	hl,_s_state
2122  08B7  7E          	ld	a,(hl)
2123  08B8  E6 FD       	and	a,0xfd
2124  08BA  F6 01       	or	a,0x01
2125  08BC  77          	ld	(hl),a
2126  08BD              l_enemy_fireball_red_00107:
2127  08BD  CD 00 00    	call	_spr_move_horizontal
2128  08C0  3A 00 00    	ld	a,(_s_state)
2129  08C3  E6 04       	and	a,0x04
2130  08C5  28 0C       	jr	Z,l_enemy_fireball_red_00109
2131  08C7  2A 00 00    	ld	hl,(_index1)
2132  08CA  11 02 00    	ld	de,0x0002
2133  08CD  19          	add	hl,de
2134  08CE  22 00 00    	ld	(_index1),hl
2135  08D1  18 07       	jr	l_enemy_fireball_red_00110
2136  08D3              l_enemy_fireball_red_00109:
2137  08D3  2A 00 00    	ld	hl,(_index1)
2138  08D6  2B          	dec	hl
2139  08D7  22 00 00    	ld	(_index1),hl
2140  08DA              l_enemy_fireball_red_00110:
2141  08DA  01 00 00    	ld	bc,_lvl_1
2142  08DD  2A 00 00    	ld	hl,(_index1)
2143  08E0  09          	add	hl,bc
2144  08E1  7E          	ld	a,(hl)
2145  08E2  D6 BF       	sub	a,0xbf
2146  08E4  30 14       	jr	NC,l_enemy_fireball_red_00111
2147  08E6  2A 00 00    	ld	hl,(_sprite)
2148  08E9  26 00       	ld	h,0x00
2149  08EB  01 00 00    	ld	bc,_col
2150  08EE  09          	add	hl,bc
2151  08EF  7E          	ld	a,(hl)
2152  08F0  4F          	ld	c,a
2153  08F1  D6 02       	sub	a,0x02
2154  08F3  38 05       	jr	C,l_enemy_fireball_red_00111
2155  08F5  3E 1D       	ld	a,0x1d
2156  08F7  91          	sub	a, c
2157  08F8  30 07       	jr	NC,l_enemy_fireball_red_00112
2158  08FA              l_enemy_fireball_red_00111:
2159  08FA  21 00 00    	ld	hl,_s_state
2160  08FD  7E          	ld	a,(hl)
2161  08FE  EE 0C       	xor	a,+(0x04^0x08)
2162  0900  77          	ld	(hl),a
2163  0901              l_enemy_fireball_red_00112:
2164  0901  01 00 00    	ld	bc,_spr_timer+0
2165  0904  2A 00 00    	ld	hl,(_sprite)
2166  0907  26 00       	ld	h,0x00
2167  0909  29          	add	hl, hl
2168  090A  09          	add	hl,bc
2169  090B  5E          	ld	e,(hl)
2170  090C  23          	inc	hl
2171  090D  56          	ld	d,(hl)
2172  090E  C5          	push	bc
2173  090F  21 DC 05    	ld	hl,0x05dc
2174  0912  E5          	push	hl
2175  0913  D5          	push	de
2176  0914  CD 00 00    	call	_game_check_time
2177  0917  F1          	pop	af
2178  0918  F1          	pop	af
2179  0919  C1          	pop	bc
2180  091A  7D          	ld	a,l
2181  091B  B7          	or	a, a
2182  091C  C8          	ret	Z
2183  091D  2A 00 00    	ld	hl,(_sprite)
2184  0920  26 00       	ld	h,0x00
2185  0922  29          	add	hl, hl
2186  0923  09          	add	hl,bc
2187  0924  ED 5B 00 00 	ld	de,(_curr_time)
2188  0928  73          	ld	(hl),e
2189  0929  23          	inc	hl
2190  092A  72          	ld	(hl),d
2191  092B  2A 00 00    	ld	hl,(_sprite)
2192  092E  26 00       	ld	h,0x00
2193  0930  01 00 00    	ld	bc,_sprite_speed_alt
2194  0933  09          	add	hl,bc
2195  0934  36 08       	ld	(hl),0x08
2196  0936  21 00 00    	ld	hl,_s_state
2197  0939  7E          	ld	a,(hl)
2198  093A  F6 20       	or	a,0x20
2199  093C  E6 FC       	and	a,+(0xfe&0xfd)
2200  093E  77          	ld	(hl),a
2201  093F              l_enemy_fireball_red_00119:
2202  093F  C9          	ret
2203  0940              	SECTION code_compiler
2204  0940              ;	---------------------------------
2205  0940              ; Function enemy_fireball_green
2206  0940              ; ---------------------------------
2207  0940              _enemy_fireball_green:
2208  0940  3A 00 00    	ld	a,(_phase_left)
2209  0943  B7          	or	a, a
2210  0944  CA EA 09    	jp	Z,l_enemy_fireball_green_00113
2211  0947  2A 00 00    	ld	hl,(_sprite)
2212  094A  26 00       	ld	h,0x00
2213  094C  5D          	ld	e,l
2214  094D  01 00 00    	ld	bc,_jump_lin
2215  0950  09          	add	hl,bc
2216  0951  4E          	ld	c,(hl)
2217  0952  06 00       	ld	b,0x00
2218  0954  50          	ld	d,b
2219  0955  21 00 00    	ld	hl,_lin
2220  0958  19          	add	hl,de
2221  0959  5E          	ld	e, (hl)
2222  095A  16 00       	ld	d,0x00
2223  095C  79          	ld	a,c
2224  095D  93          	sub	a, e
2225  095E  6F          	ld	l,a
2226  095F  78          	ld	a,b
2227  0960  9A          	sbc	a, d
2228  0961  67          	ld	h,a
2229  0962  CD 00 00    	call	_abs_fastcall
2230  0965  22 00 00    	ld	(_index1),hl
2231  0968  3E 08       	ld	a,0x08
2232  096A  21 00 00    	ld	hl,_index1
2233  096D  BE          	cp	a, (hl)
2234  096E  3E 00       	ld	a,0x00
2235  0970  23          	inc	hl
2236  0971  9E          	sbc	a, (hl)
2237  0972  30 1E       	jr	NC,l_enemy_fireball_green_00102
2238  0974  21 00 00    	ld	hl,_s_state
2239  0977  7E          	ld	a,(hl)
2240  0978  EE 03       	xor	a,+(0x01^0x02)
2241  097A  77          	ld	(hl),a
2242  097B  2A 00 00    	ld	hl,(_sprite)
2243  097E  26 00       	ld	h,0x00
2244  0980  01 00 00    	ld	bc,_jump_lin
2245  0983  09          	add	hl,bc
2246  0984  3A 00 00    	ld	a,(_sprite)
2247  0987  5F          	ld	e,a
2248  0988  16 00       	ld	d,0x00
2249  098A  4D          	ld	c,l
2250  098B  44          	ld	b,h
2251  098C  21 00 00    	ld	hl,_lin
2252  098F  19          	add	hl,de
2253  0990  7E          	ld	a,(hl)
2254  0991  02          	ld	(bc),a
2255  0992              l_enemy_fireball_green_00102:
2256  0992  3A 00 00    	ld	a,(_s_state)
2257  0995  0F          	rrca
2258  0996  30 08       	jr	NC,l_enemy_fireball_green_00104
2259  0998  CD 00 00    	call	_spr_move_horizontal
2260  099B  CD 00 00    	call	_spr_move_up
2261  099E  18 06       	jr	l_enemy_fireball_green_00105
2262  09A0              l_enemy_fireball_green_00104:
2263  09A0  CD 00 00    	call	_spr_move_horizontal
2264  09A3  CD 00 00    	call	_spr_move_down
2265  09A6              l_enemy_fireball_green_00105:
2266  09A6  2A 00 00    	ld	hl,(_sprite)
2267  09A9  26 00       	ld	h,0x00
2268  09AB  01 00 00    	ld	bc,_col
2269  09AE  09          	add	hl,bc
2270  09AF  7E          	ld	a,(hl)
2271  09B0  B7          	or	a, a
2272  09B1  20 07       	jr	NZ,l_enemy_fireball_green_00110
2273  09B3  3A 00 00    	ld	a,(_s_state)
2274  09B6  E6 08       	and	a,0x08
2275  09B8  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2276  09BA              l_enemy_fireball_green_00110:
2277  09BA  D6 1E       	sub	a,0x1e
2278  09BC  20 2C       	jr	NZ,l_enemy_fireball_green_00113
2279  09BE  3A 00 00    	ld	a,(_s_state)
2280  09C1  E6 04       	and	a,0x04
2281  09C3  28 25       	jr	Z,l_enemy_fireball_green_00113
2282  09C5              l_enemy_fireball_green_00106:
2283  09C5  01 00 00    	ld	bc,_spr_timer+0
2284  09C8  2A 00 00    	ld	hl,(_sprite)
2285  09CB  26 00       	ld	h,0x00
2286  09CD  29          	add	hl, hl
2287  09CE  09          	add	hl,bc
2288  09CF  ED 5B 00 00 	ld	de,(_curr_time)
2289  09D3  73          	ld	(hl),e
2290  09D4  23          	inc	hl
2291  09D5  72          	ld	(hl),d
2292  09D6  2A 00 00    	ld	hl,(_sprite)
2293  09D9  26 00       	ld	h,0x00
2294  09DB  01 00 00    	ld	bc,_sprite_speed_alt
2295  09DE  09          	add	hl,bc
2296  09DF  36 08       	ld	(hl),0x08
2297  09E1  21 00 00    	ld	hl,_s_state
2298  09E4  7E          	ld	a,(hl)
2299  09E5  F6 20       	or	a,0x20
2300  09E7  E6 FE       	and	a,0xfe
2301  09E9  77          	ld	(hl),a
2302  09EA              l_enemy_fireball_green_00113:
2303  09EA  C9          	ret
2304  09EB              	SECTION code_compiler
2305  09EB              ;	---------------------------------
2306  09EB              ; Function enemy_fighterfly
2307  09EB              ; ---------------------------------
2308  09EB              _enemy_fighterfly:
2309  09EB  3A 00 00    	ld	a,(_s_state)
2310  09EE  0F          	rrca
2311  09EF  38 59       	jr	C,l_enemy_fighterfly_00106
2312  09F1  3A 00 00    	ld	a,(_s_state)
2313  09F4  E6 02       	and	a,0x02
2314  09F6  20 52       	jr	NZ,l_enemy_fighterfly_00106
2315  09F8  CD 00 00    	call	_ay_is_playing
2316  09FB  7D          	ld	a, l
2317  09FC  D6 02       	sub	a,0x02
2318  09FE  30 06       	jr	NC,l_enemy_fighterfly_00102
2319  0A00  21 00 00    	ld	hl,_ay_effect_13
2320  0A03  CD 00 00    	call	_ay_fx_play
2321  0A06              l_enemy_fighterfly_00102:
2322  0A06  2A 00 00    	ld	hl,(_sprite)
2323  0A09  26 00       	ld	h,0x00
2324  0A0B  29          	add	hl, hl
2325  0A0C  11 00 00    	ld	de,_spr_timer
2326  0A0F  19          	add	hl,de
2327  0A10  4E          	ld	c,(hl)
2328  0A11  23          	inc	hl
2329  0A12  46          	ld	b,(hl)
2330  0A13  21 28 00    	ld	hl,0x0028
2331  0A16  E5          	push	hl
2332  0A17  C5          	push	bc
2333  0A18  CD 00 00    	call	_game_check_time
2334  0A1B  F1          	pop	af
2335  0A1C  F1          	pop	af
2336  0A1D  7D          	ld	a,l
2337  0A1E  B7          	or	a, a
2338  0A1F  28 29       	jr	Z,l_enemy_fighterfly_00106
2339  0A21  21 00 00    	ld	hl,_s_state
2340  0A24  CB C6       	set	0, (hl)
2341  0A26  2A 00 00    	ld	hl,(_sprite)
2342  0A29  26 00       	ld	h,0x00
2343  0A2B  01 00 00    	ld	bc,_jump_lin
2344  0A2E  09          	add	hl,bc
2345  0A2F  4D          	ld	c,l
2346  0A30  44          	ld	b,h
2347  0A31  2A 00 00    	ld	hl,(_sprite)
2348  0A34  26 00       	ld	h,0x00
2349  0A36  11 00 00    	ld	de,_lin
2350  0A39  19          	add	hl,de
2351  0A3A  7E          	ld	a,(hl)
2352  0A3B  02          	ld	(bc),a
2353  0A3C  2A 00 00    	ld	hl,(_sprite)
2354  0A3F  26 00       	ld	h,0x00
2355  0A41  29          	add	hl, hl
2356  0A42  11 00 00    	ld	de,_spr_timer
2357  0A45  19          	add	hl,de
2358  0A46  AF          	xor	a, a
2359  0A47  77          	ld	(hl), a
2360  0A48  23          	inc	hl
2361  0A49  77          	ld	(hl), a
2362  0A4A              l_enemy_fighterfly_00106:
2363  0A4A  3A 00 00    	ld	a,(_s_state)
2364  0A4D  0F          	rrca
2365  0A4E  30 32       	jr	NC,l_enemy_fighterfly_00123
2366  0A50  2A 00 00    	ld	hl,(_sprite)
2367  0A53  26 00       	ld	h,0x00
2368  0A55  5D          	ld	e,l
2369  0A56  01 00 00    	ld	bc,_jump_lin
2370  0A59  09          	add	hl,bc
2371  0A5A  4E          	ld	c,(hl)
2372  0A5B  06 00       	ld	b,0x00
2373  0A5D  50          	ld	d,b
2374  0A5E  21 00 00    	ld	hl,_lin
2375  0A61  19          	add	hl,de
2376  0A62  5E          	ld	e, (hl)
2377  0A63  16 00       	ld	d,0x00
2378  0A65  79          	ld	a,c
2379  0A66  93          	sub	a, e
2380  0A67  4F          	ld	c,a
2381  0A68  78          	ld	a,b
2382  0A69  9A          	sbc	a, d
2383  0A6A  47          	ld	b,a
2384  0A6B  79          	ld	a,c
2385  0A6C  D6 08       	sub	a,0x08
2386  0A6E  78          	ld	a,b
2387  0A6F  17          	rla
2388  0A70  3F          	ccf
2389  0A71  1F          	rra
2390  0A72  DE 80       	sbc	a,0x80
2391  0A74  38 03       	jr	C,l_enemy_fighterfly_00109
2392  0A76  CD 00 00    	call	_spr_set_fall
2393  0A79              l_enemy_fighterfly_00109:
2394  0A79  CD 00 00    	call	_spr_move_horizontal
2395  0A7C  CD 00 00    	call	_spr_move_up
2396  0A7F  C3 FB 0A    	jp	l_enemy_fighterfly_00124
2397  0A82              l_enemy_fighterfly_00123:
2398  0A82  01 00 00    	ld	bc,_spr_timer+0
2399  0A85  2A 00 00    	ld	hl,(_sprite)
2400  0A88  26 00       	ld	h,0x00
2401  0A8A  29          	add	hl, hl
2402  0A8B  09          	add	hl,bc
2403  0A8C  5E          	ld	e,(hl)
2404  0A8D  4D          	ld	c,l
2405  0A8E  44          	ld	b,h
2406  0A8F  23          	inc	hl
2407  0A90  7E          	ld	a, (hl)
2408  0A91  B3          	or	a,e
2409  0A92  20 09       	jr	NZ,l_enemy_fighterfly_00111
2410  0A94  ED 5B 00 00 	ld	de,(_curr_time)
2411  0A98  7B          	ld	a,e
2412  0A99  02          	ld	(bc),a
2413  0A9A  03          	inc	bc
2414  0A9B  7A          	ld	a,d
2415  0A9C  02          	ld	(bc),a
2416  0A9D              l_enemy_fighterfly_00111:
2417  0A9D  3A 00 00    	ld	a,(_s_state)
2418  0AA0  E6 02       	and	a,0x02
2419  0AA2  28 57       	jr	Z,l_enemy_fighterfly_00124
2420  0AA4  2A 00 00    	ld	hl,(_sprite)
2421  0AA7  26 00       	ld	h,0x00
2422  0AA9  01 00 00    	ld	bc,_lin
2423  0AAC  09          	add	hl,bc
2424  0AAD  4E          	ld	c, (hl)
2425  0AAE  3A 00 00    	ld	a,(_sprite)
2426  0AB1  5F          	ld	e,a
2427  0AB2  16 00       	ld	d,0x00
2428  0AB4  21 00 00    	ld	hl,_jump_lin
2429  0AB7  19          	add	hl,de
2430  0AB8  46          	ld	b, (hl)
2431  0AB9  79          	ld	a,c
2432  0ABA  90          	sub	a, b
2433  0ABB  30 05       	jr	NC,l_enemy_fighterfly_00116
2434  0ABD  CD 00 00    	call	_spr_move_horizontal
2435  0AC0  18 21       	jr	l_enemy_fighterfly_00117
2436  0AC2              l_enemy_fighterfly_00116:
2437  0AC2  2A 00 00    	ld	hl,(_sprite)
2438  0AC5  26 00       	ld	h,0x00
2439  0AC7  01 00 00    	ld	bc,_sprite_speed_alt
2440  0ACA  09          	add	hl,bc
2441  0ACB  36 04       	ld	(hl),0x04
2442  0ACD  2A 00 00    	ld	hl,(_sprite)
2443  0AD0  26 00       	ld	h,0x00
2444  0AD2  01 00 00    	ld	bc,_colint
2445  0AD5  09          	add	hl,bc
2446  0AD6  7E          	ld	a,(hl)
2447  0AD7  B7          	or	a,a
2448  0AD8  4D          	ld	c,l
2449  0AD9  44          	ld	b,h
2450  0ADA  20 05       	jr	NZ,l_enemy_fighterfly_00113
2451  0ADC  3E 02       	ld	a,0x02
2452  0ADE  02          	ld	(bc),a
2453  0ADF  18 02       	jr	l_enemy_fighterfly_00117
2454  0AE1              l_enemy_fighterfly_00113:
2455  0AE1  AF          	xor	a, a
2456  0AE2  02          	ld	(bc),a
2457  0AE3              l_enemy_fighterfly_00117:
2458  0AE3  CD 00 00    	call	_spr_move_down
2459  0AE6  7D          	ld	a,l
2460  0AE7  B7          	or	a, a
2461  0AE8  CA FE 0A    	jp	Z,_enemy_trip
2462  0AEB  2A 00 00    	ld	hl,(_sprite)
2463  0AEE  26 00       	ld	h,0x00
2464  0AF0  01 00 00    	ld	bc,_sprite_speed_alt
2465  0AF3  09          	add	hl,bc
2466  0AF4  AF          	xor	a,a
2467  0AF5  77          	ld	(hl),a
2468  0AF6  21 00 00    	ld	hl,_s_state
2469  0AF9  CB 8E       	res	1, (hl)
2470  0AFB              l_enemy_fighterfly_00124:
2471  0AFB  C3 FE 0A    	jp  _enemy_trip
2472  0AFE              	SECTION code_compiler
2473  0AFE              ;	---------------------------------
2474  0AFE              ; Function enemy_trip
2475  0AFE              ; ---------------------------------
2476  0AFE              _enemy_trip:
2477  0AFE  2A 00 00    	ld	hl,(_sprite)
2478  0B01  26 00       	ld	h,0x00
2479  0B03  01 00 00    	ld	bc,_lin
2480  0B06  09          	add	hl,bc
2481  0B07  4E          	ld	c,(hl)
2482  0B08  3E 80       	ld	a,0x80
2483  0B0A  91          	sub	a, c
2484  0B0B  30 7C       	jr	NC,l_enemy_trip_00110
2485  0B0D  21 00 00    	ld	hl,_tmp
2486  0B10  36 00       	ld	(hl),0x00
2487  0B12  2A 00 00    	ld	hl,(_sprite)
2488  0B15  26 00       	ld	h,0x00
2489  0B17  01 00 00    	ld	bc,_col
2490  0B1A  09          	add	hl,bc
2491  0B1B  7E          	ld	a,(hl)
2492  0B1C  D6 1B       	sub	a,0x1b
2493  0B1E  20 0D       	jr	NZ,l_enemy_trip_00102
2494  0B20  21 03 02    	ld	hl,0x0203
2495  0B23  E5          	push	hl
2496  0B24  21 10 1A    	ld	hl,0x1a10
2497  0B27  E5          	push	hl
2498  0B28  CD 8A 0B    	call	_enemy_trip_move
2499  0B2B  F1          	pop	af
2500  0B2C  F1          	pop	af
2501  0B2D              l_enemy_trip_00102:
2502  0B2D  2A 00 00    	ld	hl,(_sprite)
2503  0B30  26 00       	ld	h,0x00
2504  0B32  01 00 00    	ld	bc,_col
2505  0B35  09          	add	hl,bc
2506  0B36  7E          	ld	a,(hl)
2507  0B37  D6 03       	sub	a,0x03
2508  0B39  20 0D       	jr	NZ,l_enemy_trip_00104
2509  0B3B  21 02 03    	ld	hl,0x0302
2510  0B3E  E5          	push	hl
2511  0B3F  21 10 04    	ld	hl,0x0410
2512  0B42  E5          	push	hl
2513  0B43  CD 8A 0B    	call	_enemy_trip_move
2514  0B46  F1          	pop	af
2515  0B47  F1          	pop	af
2516  0B48              l_enemy_trip_00104:
2517  0B48  3A 00 00    	ld	a,(_tmp)
2518  0B4B  B7          	or	a, a
2519  0B4C  C8          	ret	Z
2520  0B4D  2A 00 00    	ld	hl,(_sprite)
2521  0B50  26 00       	ld	h,0x00
2522  0B52  01 00 00    	ld	bc,_class
2523  0B55  09          	add	hl,bc
2524  0B56  4E          	ld	c,(hl)
2525  0B57  3E 03       	ld	a,0x03
2526  0B59  91          	sub	a,c
2527  0B5A  D8          	ret	C
2528  0B5B  2A 00 00    	ld	hl,(_sprite)
2529  0B5E  26 00       	ld	h,0x00
2530  0B60  01 00 00    	ld	bc,_colint
2531  0B63  09          	add	hl,bc
2532  0B64  AF          	xor	a,a
2533  0B65  77          	ld	(hl),a
2534  0B66  2A 00 00    	ld	hl,(_sprite)
2535  0B69  26 00       	ld	h,0x00
2536  0B6B  01 00 00    	ld	bc,_state
2537  0B6E  09          	add	hl,bc
2538  0B6F  3A 00 00    	ld	a,(_s_state)
2539  0B72  77          	ld	(hl),a
2540  0B73  2A 00 00    	ld	hl,(_sprite)
2541  0B76  26 00       	ld	h,0x00
2542  0B78  01 00 00    	ld	bc,_tile
2543  0B7B  09          	add	hl,bc
2544  0B7C  E5          	push	hl
2545  0B7D  2A 00 00    	ld	hl,(_sprite)
2546  0B80  CD 00 00    	call	_spr_tile
2547  0B83  C1          	pop	bc
2548  0B84  7D          	ld	a, l
2549  0B85  02          	ld	(bc),a
2550  0B86  CD 00 00    	call	_spr_set_fall
2551  0B89              l_enemy_trip_00110:
2552  0B89  C9          	ret
2553  0B8A              	SECTION code_compiler
2554  0B8A              ;	---------------------------------
2555  0B8A              ; Function enemy_trip_move
2556  0B8A              ; ---------------------------------
2557  0B8A              _enemy_trip_move:
2558  0B8A  CD 00 00    	call	___sdcc_enter_ix
2559  0B8D  21 00 00    	ld	hl,_tmp
2560  0B90  36 01       	ld	(hl),0x01
2561  0B92  76          	halt
2562  0B93  2A FF FF    	ld	hl,(_s_col0 - 1)
2563  0B96  3A 00 00    	ld	a,(_s_lin0)
2564  0B99  6F          	ld	l,a
2565  0B9A  E5          	push	hl
2566  0B9B  AF          	xor	a, a
2567  0B9C  F5          	push	af
2568  0B9D  33          	inc	sp
2569  0B9E  CD 00 00    	call	_NIRVANAP_fillT_callee
2570  0BA1  2A 00 00    	ld	hl,(_sprite)
2571  0BA4  26 00       	ld	h,0x00
2572  0BA6  01 00 00    	ld	bc,_lin
2573  0BA9  09          	add	hl,bc
2574  0BAA  4D          	ld	c,l
2575  0BAB  44          	ld	b,h
2576  0BAC  21 00 00    	ld	hl,_sprite
2577  0BAF  DD 7E 04    	ld	a,(ix+4)
2578  0BB2  02          	ld	(bc),a
2579  0BB3  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2580  0BB5  86          	add	a, (hl)
2581  0BB6  4F          	ld	c,a
2582  0BB7  3E 00       	ld	a,+((_jump_lin) / 256)
2583  0BB9  CE 00       	adc	a,0x00
2584  0BBB  47          	ld	b,a
2585  0BBC  DD 7E 04    	ld	a,(ix+4)
2586  0BBF  C6 10       	add	a,0x10
2587  0BC1  02          	ld	(bc),a
2588  0BC2  3E 00       	ld	a,+((_col) & 0xFF)
2589  0BC4  86          	add	a, (hl)
2590  0BC5  4F          	ld	c,a
2591  0BC6  3E 00       	ld	a,+((_col) / 256)
2592  0BC8  CE 00       	adc	a,0x00
2593  0BCA  47          	ld	b,a
2594  0BCB  DD 7E 05    	ld	a,(ix+5)
2595  0BCE  02          	ld	(bc),a
2596  0BCF  DD 46 06    	ld	b,(ix+6)
2597  0BD2  0E 01       	ld	c,0x01
2598  0BD4  04          	inc	b
2599  0BD5  18 02       	jr	l_enemy_trip_move_00110
2600  0BD7              l_enemy_trip_move_00109:
2601  0BD7  CB 21       	sla	c
2602  0BD9              l_enemy_trip_move_00110:
2603  0BD9  10 FC       	djnz	l_enemy_trip_move_00109
2604  0BDB  21 00 00    	ld	hl,_s_state
2605  0BDE  7E          	ld	a,(hl)
2606  0BDF  B1          	or	a, c
2607  0BE0  77          	ld	(hl),a
2608  0BE1  DD 46 07    	ld	b,(ix+7)
2609  0BE4  0E 01       	ld	c,0x01
2610  0BE6  04          	inc	b
2611  0BE7  18 02       	jr	l_enemy_trip_move_00112
2612  0BE9              l_enemy_trip_move_00111:
2613  0BE9  CB 21       	sla	c
2614  0BEB              l_enemy_trip_move_00112:
2615  0BEB  10 FC       	djnz	l_enemy_trip_move_00111
2616  0BED  79          	ld	a,c
2617  0BEE  2F          	cpl
2618  0BEF  4F          	ld	c,a
2619  0BF0  7E          	ld	a,(hl)
2620  0BF1  A1          	and	a, c
2621  0BF2  E6 FE       	and	a,0xfe
2622  0BF4  77          	ld	(hl),a
2623  0BF5  CD 00 00    	call	_sound_enter_enemy
2624  0BF8  CD 00 00    	call	_ay_is_playing
2625  0BFB  7D          	ld	a, l
2626  0BFC  D6 02       	sub	a,0x02
2627  0BFE  30 06       	jr	NC,l_enemy_trip_move_00103
2628  0C00  21 00 00    	ld	hl,_ay_effect_04
2629  0C03  CD 00 00    	call	_ay_fx_play
2630  0C06              l_enemy_trip_move_00103:
2631  0C06  DD E1       	pop	ix
2632  0C08  C9          	ret
2633  0C09              	SECTION code_compiler
2634  0C09              ;	---------------------------------
2635  0C09              ; Function enemy_standard_hit
2636  0C09              ; ---------------------------------
2637  0C09              _enemy_standard_hit:
2638  0C09  2A 00 00    	ld	hl,(_game_time_flipped)
2639  0C0C  01 CE FF    	ld	bc,0xffce
2640  0C0F  09          	add	hl,bc
2641  0C10  4D          	ld	c,l
2642  0C11  44          	ld	b,h
2643  0C12  2A 00 00    	ld	hl,(_sprite)
2644  0C15  26 00       	ld	h,0x00
2645  0C17  29          	add	hl, hl
2646  0C18  11 00 00    	ld	de,_spr_timer
2647  0C1B  19          	add	hl,de
2648  0C1C  5E          	ld	e,(hl)
2649  0C1D  23          	inc	hl
2650  0C1E  56          	ld	d,(hl)
2651  0C1F  C5          	push	bc
2652  0C20  D5          	push	de
2653  0C21  CD 00 00    	call	_game_check_time
2654  0C24  F1          	pop	af
2655  0C25  F1          	pop	af
2656  0C26  7D          	ld	a,l
2657  0C27  B7          	or	a, a
2658  0C28  28 20       	jr	Z,l_enemy_standard_hit_00104
2659  0C2A  2A 00 00    	ld	hl,(_sprite)
2660  0C2D  26 00       	ld	h,0x00
2661  0C2F  01 00 00    	ld	bc,_state
2662  0C32  09          	add	hl,bc
2663  0C33  7E          	ld	a,(hl)
2664  0C34  07          	rlca
2665  0C35  38 13       	jr	C,l_enemy_standard_hit_00104
2666  0C37  2A 00 00    	ld	hl,(_sprite)
2667  0C3A  CD 84 0C    	call	_enemy_evolve
2668  0C3D  2A 00 00    	ld	hl,(_sprite)
2669  0C40  26 00       	ld	h,0x00
2670  0C42  01 00 00    	ld	bc,_state
2671  0C45  09          	add	hl,bc
2672  0C46  7E          	ld	a,(hl)
2673  0C47  F6 80       	or	a,0x80
2674  0C49  77          	ld	(hl),a
2675  0C4A              l_enemy_standard_hit_00104:
2676  0C4A  2A 00 00    	ld	hl,(_sprite)
2677  0C4D  26 00       	ld	h,0x00
2678  0C4F  29          	add	hl, hl
2679  0C50  11 00 00    	ld	de,_spr_timer
2680  0C53  19          	add	hl,de
2681  0C54  4E          	ld	c,(hl)
2682  0C55  23          	inc	hl
2683  0C56  46          	ld	b,(hl)
2684  0C57  2A 00 00    	ld	hl,(_game_time_flipped)
2685  0C5A  E5          	push	hl
2686  0C5B  C5          	push	bc
2687  0C5C  CD 00 00    	call	_game_check_time
2688  0C5F  F1          	pop	af
2689  0C60  F1          	pop	af
2690  0C61  7D          	ld	a,l
2691  0C62  B7          	or	a, a
2692  0C63  C8          	ret	Z
2693  0C64  3A 00 00    	ld	a,(_sprite)
2694  0C67  32 00 00    	ld	(_enemies),a
2695  0C6A  2A 00 00    	ld	hl,(_sprite)
2696  0C6D  CD 00 00    	call	_spr_tile
2697  0C70  CD 23 04    	call	_enemy_flip
2698  0C73  2A 00 00    	ld	hl,(_sprite)
2699  0C76  26 00       	ld	h,0x00
2700  0C78  01 00 00    	ld	bc,_state
2701  0C7B  09          	add	hl,bc
2702  0C7C  7E          	ld	a,(hl)
2703  0C7D  32 00 00    	ld	(_s_state),a
2704  0C80  E6 7F       	and	a,0x7f
2705  0C82  77          	ld	(hl),a
2706  0C83  C9          	ret
2707  0C84              	SECTION code_compiler
2708  0C84              ;	---------------------------------
2709  0C84              ; Function enemy_evolve
2710  0C84              ; ---------------------------------
2711  0C84              _enemy_evolve:
2712  0C84  45          	ld	b,l
2713  0C85  11 00 00    	ld	de,_class+0
2714  0C88  26 00       	ld	h,0x00
2715  0C8A  19          	add	hl,de
2716  0C8B  7E          	ld	a,(hl)
2717  0C8C  4F          	ld	c,a
2718  0C8D  3D          	dec	a
2719  0C8E  28 0F       	jr	Z,l_enemy_evolve_00101
2720  0C90  79          	ld	a,c
2721  0C91  FE 02       	cp	a,0x02
2722  0C93  28 1A       	jr	Z,l_enemy_evolve_00102
2723  0C95  FE 04       	cp	a,0x04
2724  0C97  28 26       	jr	Z,l_enemy_evolve_00103
2725  0C99  D6 05       	sub	a,0x05
2726  0C9B  28 32       	jr	Z,l_enemy_evolve_00104
2727  0C9D  18 3E       	jr	l_enemy_evolve_00106
2728  0C9F              l_enemy_evolve_00101:
2729  0C9F  21 3C 00    	ld	hl,0x003c
2730  0CA2  E5          	push	hl
2731  0CA3  3E 02       	ld	a,0x02
2732  0CA5  48          	ld	c,b
2733  0CA6  47          	ld	b,a
2734  0CA7  C5          	push	bc
2735  0CA8  CD DE 0C    	call	_enemy_upgrade
2736  0CAB  F1          	pop	af
2737  0CAC  F1          	pop	af
2738  0CAD  18 2E       	jr	l_enemy_evolve_00106
2739  0CAF              l_enemy_evolve_00102:
2740  0CAF  21 48 00    	ld	hl,0x0048
2741  0CB2  E5          	push	hl
2742  0CB3  3E 03       	ld	a,0x03
2743  0CB5  48          	ld	c,b
2744  0CB6  47          	ld	b,a
2745  0CB7  C5          	push	bc
2746  0CB8  CD DE 0C    	call	_enemy_upgrade
2747  0CBB  F1          	pop	af
2748  0CBC  F1          	pop	af
2749  0CBD  18 1E       	jr	l_enemy_evolve_00106
2750  0CBF              l_enemy_evolve_00103:
2751  0CBF  21 60 00    	ld	hl,0x0060
2752  0CC2  E5          	push	hl
2753  0CC3  3E 05       	ld	a,0x05
2754  0CC5  48          	ld	c,b
2755  0CC6  47          	ld	b,a
2756  0CC7  C5          	push	bc
2757  0CC8  CD DE 0C    	call	_enemy_upgrade
2758  0CCB  F1          	pop	af
2759  0CCC  F1          	pop	af
2760  0CCD  18 0E       	jr	l_enemy_evolve_00106
2761  0CCF              l_enemy_evolve_00104:
2762  0CCF  21 6C 00    	ld	hl,0x006c
2763  0CD2  E5          	push	hl
2764  0CD3  3E 06       	ld	a,0x06
2765  0CD5  48          	ld	c,b
2766  0CD6  47          	ld	b,a
2767  0CD7  C5          	push	bc
2768  0CD8  CD DE 0C    	call	_enemy_upgrade
2769  0CDB  F1          	pop	af
2770  0CDC  F1          	pop	af
2771  0CDD              l_enemy_evolve_00106:
2772  0CDD  C9          	ret
2773  0CDE              	SECTION code_compiler
2774  0CDE              ;	---------------------------------
2775  0CDE              ; Function enemy_upgrade
2776  0CDE              ; ---------------------------------
2777  0CDE              _enemy_upgrade:
2778  0CDE  CD 00 00    	call	___sdcc_enter_ix
2779  0CE1  3E 00       	ld	a,+((_tile) & 0xFF)
2780  0CE3  DD 86 04    	add	a,(ix+4)
2781  0CE6  4F          	ld	c,a
2782  0CE7  3E 00       	ld	a,+((_tile) / 256)
2783  0CE9  CE 00       	adc	a,0x00
2784  0CEB  47          	ld	b,a
2785  0CEC  DD 7E 06    	ld	a,(ix+6)
2786  0CEF  C6 06       	add	a,0x06
2787  0CF1  02          	ld	(bc),a
2788  0CF2  3E 00       	ld	a,+((_class) & 0xFF)
2789  0CF4  DD 86 04    	add	a,(ix+4)
2790  0CF7  4F          	ld	c,a
2791  0CF8  3E 00       	ld	a,+((_class) / 256)
2792  0CFA  CE 00       	adc	a,0x00
2793  0CFC  47          	ld	b,a
2794  0CFD  DD 7E 05    	ld	a,(ix+5)
2795  0D00  02          	ld	(bc),a
2796  0D01  DD E1       	pop	ix
2797  0D03  C9          	ret
2798  0D04              	SECTION code_compiler
2799  0D04              ;	---------------------------------
2800  0D04              ; Function enemy_walk
2801  0D04              ; ---------------------------------
2802  0D04              _enemy_walk:
2803  0D04  3A 00 00    	ld	a,(_s_state)
2804  0D07  0F          	rrca
2805  0D08  38 3F       	jr	C,l_enemy_walk_00106
2806  0D0A  3A 00 00    	ld	a,(_s_state)
2807  0D0D  E6 02       	and	a,0x02
2808  0D0F  20 38       	jr	NZ,l_enemy_walk_00106
2809  0D11  2A 00 00    	ld	hl,(_sprite)
2810  0D14  26 00       	ld	h,0x00
2811  0D16  01 00 00    	ld	bc,_col
2812  0D19  09          	add	hl,bc
2813  0D1A  7E          	ld	a,(hl)
2814  0D1B  57          	ld	d,a
2815  0D1C  CB 47       	bit	0,a
2816  0D1E  28 0E       	jr	Z,l_enemy_walk_00102
2817  0D20  3A 00 00    	ld	a,(_s_state)
2818  0D23  E6 10       	and	a,0x10
2819  0D25  20 07       	jr	NZ,l_enemy_walk_00102
2820  0D27  21 00 00    	ld	hl,_tmp
2821  0D2A  36 00       	ld	(hl),0x00
2822  0D2C  18 3E       	jr	l_enemy_walk_00107
2823  0D2E              l_enemy_walk_00102:
2824  0D2E  2A 00 00    	ld	hl,(_sprite)
2825  0D31  26 00       	ld	h,0x00
2826  0D33  01 00 00    	ld	bc,_lin
2827  0D36  09          	add	hl,bc
2828  0D37  7E          	ld	a,(hl)
2829  0D38  C6 10       	add	a,0x10
2830  0D3A  5F          	ld	e, a
2831  0D3B  D5          	push	de
2832  0D3C  CD 00 00    	call	_game_calc_index
2833  0D3F  F1          	pop	af
2834  0D40  CD 00 00    	call	_game_check_maze
2835  0D43  7D          	ld	a,l
2836  0D44  32 00 00    	ld	(_tmp),a
2837  0D47  18 23       	jr	l_enemy_walk_00107
2838  0D49              l_enemy_walk_00106:
2839  0D49  2A 00 00    	ld	hl,(_sprite)
2840  0D4C  26 00       	ld	h,0x00
2841  0D4E  01 00 00    	ld	bc,_col
2842  0D51  09          	add	hl,bc
2843  0D52  56          	ld	d, (hl)
2844  0D53  2A 00 00    	ld	hl,(_sprite)
2845  0D56  26 00       	ld	h,0x00
2846  0D58  01 00 00    	ld	bc,_lin
2847  0D5B  09          	add	hl,bc
2848  0D5C  7E          	ld	a,(hl)
2849  0D5D  C6 10       	add	a,0x10
2850  0D5F  5F          	ld	e, a
2851  0D60  D5          	push	de
2852  0D61  CD 00 00    	call	_game_calc_index
2853  0D64  F1          	pop	af
2854  0D65  CD 00 00    	call	_game_check_maze
2855  0D68  7D          	ld	a,l
2856  0D69  32 00 00    	ld	(_tmp),a
2857  0D6C              l_enemy_walk_00107:
2858  0D6C  3A 00 00    	ld	a,(_tmp)
2859  0D6F  B7          	or	a, a
2860  0D70  CA 4C 0E    	jp	Z,l_enemy_walk_00130
2861  0D73  3A 00 00    	ld	a,(_s_state)
2862  0D76  0F          	rrca
2863  0D77  38 05       	jr	C,l_enemy_walk_00110
2864  0D79  21 00 00    	ld	hl,_s_state
2865  0D7C  CB CE       	set	1, (hl)
2866  0D7E              l_enemy_walk_00110:
2867  0D7E  2A 00 00    	ld	hl,(_sprite)
2868  0D81  26 00       	ld	h,0x00
2869  0D83  01 00 00    	ld	bc,_jump_lin
2870  0D86  09          	add	hl,bc
2871  0D87  7E          	ld	a,(hl)
2872  0D88  B7          	or	a,a
2873  0D89  20 0E       	jr	NZ,l_enemy_walk_00112
2874  0D8B  3A 00 00    	ld	a,(_sprite)
2875  0D8E  5F          	ld	e,a
2876  0D8F  16 00       	ld	d,0x00
2877  0D91  4D          	ld	c,l
2878  0D92  44          	ld	b,h
2879  0D93  21 00 00    	ld	hl,_lin
2880  0D96  19          	add	hl,de
2881  0D97  7E          	ld	a,(hl)
2882  0D98  02          	ld	(bc),a
2883  0D99              l_enemy_walk_00112:
2884  0D99  3A 00 00    	ld	a,(_s_state)
2885  0D9C  E6 02       	and	a,0x02
2886  0D9E  28 05       	jr	Z,l_enemy_walk_00114
2887  0DA0  CD 00 00    	call	_spr_move_down
2888  0DA3  18 03       	jr	l_enemy_walk_00115
2889  0DA5              l_enemy_walk_00114:
2890  0DA5  CD 00 00    	call	_spr_move_up
2891  0DA8              l_enemy_walk_00115:
2892  0DA8  2A 00 00    	ld	hl,(_sprite)
2893  0DAB  26 00       	ld	h,0x00
2894  0DAD  01 00 00    	ld	bc,_sprite_speed_alt
2895  0DB0  09          	add	hl,bc
2896  0DB1  36 01       	ld	(hl),0x01
2897  0DB3  21 00 00    	ld	hl,_tmp
2898  0DB6  36 01       	ld	(hl),0x01
2899  0DB8  2A 00 00    	ld	hl,(_sprite)
2900  0DBB  26 00       	ld	h,0x00
2901  0DBD  01 00 00    	ld	bc,_col
2902  0DC0  09          	add	hl,bc
2903  0DC1  46          	ld	b, (hl)
2904  0DC2  04          	inc	b
2905  0DC3  3A 00 00    	ld	a,(_sprite)
2906  0DC6  5F          	ld	e,a
2907  0DC7  16 00       	ld	d,0x00
2908  0DC9  21 00 00    	ld	hl,_lin
2909  0DCC  19          	add	hl,de
2910  0DCD  7E          	ld	a,(hl)
2911  0DCE  C6 10       	add	a,0x10
2912  0DD0  4F          	ld	c,a
2913  0DD1  C5          	push	bc
2914  0DD2  CD 00 00    	call	_game_calc_index
2915  0DD5  F1          	pop	af
2916  0DD6  CD 00 00    	call	_game_check_maze
2917  0DD9  7D          	ld	a,l
2918  0DDA  32 00 00    	ld	(_tmp0),a
2919  0DDD  2A 00 00    	ld	hl,(_sprite)
2920  0DE0  26 00       	ld	h,0x00
2921  0DE2  01 00 00    	ld	bc,_col
2922  0DE5  09          	add	hl,bc
2923  0DE6  46          	ld	b, (hl)
2924  0DE7  05          	dec	b
2925  0DE8  3A 00 00    	ld	a,(_sprite)
2926  0DEB  5F          	ld	e,a
2927  0DEC  16 00       	ld	d,0x00
2928  0DEE  21 00 00    	ld	hl,_lin
2929  0DF1  19          	add	hl,de
2930  0DF2  7E          	ld	a,(hl)
2931  0DF3  C6 10       	add	a,0x10
2932  0DF5  4F          	ld	c,a
2933  0DF6  C5          	push	bc
2934  0DF7  CD 00 00    	call	_game_calc_index
2935  0DFA  F1          	pop	af
2936  0DFB  CD 00 00    	call	_game_check_maze
2937  0DFE  7D          	ld	a,l
2938  0DFF  32 00 00    	ld	(_tmp1),a
2939  0E02  3A 00 00    	ld	a,(_tmp0)
2940  0E05  B7          	or	a, a
2941  0E06  20 06       	jr	NZ,l_enemy_walk_00134
2942  0E08  3A 00 00    	ld	a,(_tmp1)
2943  0E0B  B7          	or	a, a
2944  0E0C  28 04       	jr	Z,l_enemy_walk_00135
2945  0E0E              l_enemy_walk_00134:
2946  0E0E  0E 00       	ld	c,0x00
2947  0E10  18 02       	jr	l_enemy_walk_00136
2948  0E12              l_enemy_walk_00135:
2949  0E12  0E 01       	ld	c,0x01
2950  0E14              l_enemy_walk_00136:
2951  0E14  21 00 00    	ld	hl,_tmp
2952  0E17  71          	ld	(hl),c
2953  0E18  79          	ld	a,c
2954  0E19  B7          	or	a, a
2955  0E1A  CA D9 0E    	jp	Z,l_enemy_walk_00132
2956  0E1D  2A 00 00    	ld	hl,(_sprite)
2957  0E20  26 00       	ld	h,0x00
2958  0E22  5D          	ld	e,l
2959  0E23  01 00 00    	ld	bc,_lin
2960  0E26  09          	add	hl,bc
2961  0E27  4E          	ld	c,(hl)
2962  0E28  06 00       	ld	b,0x00
2963  0E2A  50          	ld	d,b
2964  0E2B  21 00 00    	ld	hl,_jump_lin
2965  0E2E  19          	add	hl,de
2966  0E2F  5E          	ld	e, (hl)
2967  0E30  16 00       	ld	d,0x00
2968  0E32  79          	ld	a,c
2969  0E33  93          	sub	a, e
2970  0E34  4F          	ld	c,a
2971  0E35  78          	ld	a,b
2972  0E36  9A          	sbc	a, d
2973  0E37  47          	ld	b,a
2974  0E38  3E 08       	ld	a,0x08
2975  0E3A  B9          	cp	a, c
2976  0E3B  3E 00       	ld	a,0x00
2977  0E3D  98          	sbc	a, b
2978  0E3E  E2 43 0E    	jp	PO, l_enemy_walk_00211
2979  0E41  EE 80       	xor	a,0x80
2980  0E43              l_enemy_walk_00211:
2981  0E43  FA D9 0E    	jp	M,l_enemy_walk_00132
2982  0E46  CD 00 00    	call	_spr_move_horizontal
2983  0E49  C3 D9 0E    	jp	l_enemy_walk_00132
2984  0E4C              l_enemy_walk_00130:
2985  0E4C  3A 00 00    	ld	a,(_s_state)
2986  0E4F  E6 02       	and	a,0x02
2987  0E51  28 1B       	jr	Z,l_enemy_walk_00120
2988  0E53  21 00 00    	ld	hl,_s_state
2989  0E56  CB 8E       	res	1, (hl)
2990  0E58  2A 00 00    	ld	hl,(_sprite)
2991  0E5B  26 00       	ld	h,0x00
2992  0E5D  01 00 00    	ld	bc,_jump_lin
2993  0E60  09          	add	hl,bc
2994  0E61  AF          	xor	a,a
2995  0E62  77          	ld	(hl),a
2996  0E63  2A 00 00    	ld	hl,(_sprite)
2997  0E66  26 00       	ld	h,0x00
2998  0E68  01 00 00    	ld	bc,_sprite_speed_alt
2999  0E6B  09          	add	hl,bc
3000  0E6C  AF          	xor	a,a
3001  0E6D  77          	ld	(hl),a
3002  0E6E              l_enemy_walk_00120:
3003  0E6E  3A 00 00    	ld	a,(_s_state)
3004  0E71  E6 10       	and	a,0x10
3005  0E73  20 13       	jr	NZ,l_enemy_walk_00122
3006  0E75  2A 00 00    	ld	hl,(_sprite)
3007  0E78  26 00       	ld	h,0x00
3008  0E7A  01 00 00    	ld	bc,_state_a
3009  0E7D  09          	add	hl,bc
3010  0E7E  CB 4E       	bit	1,(hl)
3011  0E80  20 06       	jr	NZ,l_enemy_walk_00122
3012  0E82  CD 50 00    	call	_enemy_collision
3013  0E85  CD 00 00    	call	_spr_move_horizontal
3014  0E88              l_enemy_walk_00122:
3015  0E88  2A 00 00    	ld	hl,(_sprite)
3016  0E8B  26 00       	ld	h,0x00
3017  0E8D  01 00 00    	ld	bc,_state_a
3018  0E90  09          	add	hl,bc
3019  0E91  CB 4E       	bit	1,(hl)
3020  0E93  28 44       	jr	Z,l_enemy_walk_00132
3021  0E95  01 00 00    	ld	bc,_spr_timer+0
3022  0E98  2A 00 00    	ld	hl,(_sprite)
3023  0E9B  26 00       	ld	h,0x00
3024  0E9D  29          	add	hl, hl
3025  0E9E  09          	add	hl,bc
3026  0E9F  ED 5B 00 00 	ld	de,(_curr_time)
3027  0EA3  73          	ld	(hl),e
3028  0EA4  23          	inc	hl
3029  0EA5  72          	ld	(hl),d
3030  0EA6  2A 00 00    	ld	hl,(_sprite)
3031  0EA9  26 00       	ld	h,0x00
3032  0EAB  01 00 00    	ld	bc,_colint
3033  0EAE  09          	add	hl,bc
3034  0EAF  7E          	ld	a,(hl)
3035  0EB0  5F          	ld	e,a
3036  0EB1  D6 02       	sub	a,0x02
3037  0EB3  30 04       	jr	NC,l_enemy_walk_00125
3038  0EB5  1C          	inc	e
3039  0EB6  73          	ld	(hl), e
3040  0EB7  18 20       	jr	l_enemy_walk_00132
3041  0EB9              l_enemy_walk_00125:
3042  0EB9  2A 00 00    	ld	hl,(_sprite)
3043  0EBC  26 00       	ld	h,0x00
3044  0EBE  01 00 00    	ld	bc,_state_a
3045  0EC1  09          	add	hl,bc
3046  0EC2  7E          	ld	a,(hl)
3047  0EC3  E6 FD       	and	a,0xfd
3048  0EC5  77          	ld	(hl),a
3049  0EC6  2A 00 00    	ld	hl,(_sprite)
3050  0EC9  26 00       	ld	h,0x00
3051  0ECB  01 00 00    	ld	bc,_tile
3052  0ECE  09          	add	hl,bc
3053  0ECF  E5          	push	hl
3054  0ED0  2A 00 00    	ld	hl,(_sprite)
3055  0ED3  CD 00 00    	call	_spr_tile
3056  0ED6  C1          	pop	bc
3057  0ED7  7D          	ld	a, l
3058  0ED8  02          	ld	(bc),a
3059  0ED9              l_enemy_walk_00132:
3060  0ED9  C9          	ret
3061  0EDA              	SECTION code_compiler
3062  0EDA              ;	---------------------------------
3063  0EDA              ; Function enemy_init
3064  0EDA              ; ---------------------------------
3065  0EDA              _enemy_init:
3066  0EDA  CD 00 00    	call	___sdcc_enter_ix
3067  0EDD  21 00 00    	ld	hl,_spr_count
3068  0EE0  34          	inc	(hl)
3069  0EE1  3E 00       	ld	a,+((_class) & 0xFF)
3070  0EE3  DD 86 04    	add	a,(ix+4)
3071  0EE6  4F          	ld	c,a
3072  0EE7  3E 00       	ld	a,+((_class) / 256)
3073  0EE9  CE 00       	adc	a,0x00
3074  0EEB  47          	ld	b,a
3075  0EEC  DD 7E 07    	ld	a,(ix+7)
3076  0EEF  02          	ld	(bc),a
3077  0EF0  3E 00       	ld	a,+((_lin) & 0xFF)
3078  0EF2  DD 86 04    	add	a,(ix+4)
3079  0EF5  4F          	ld	c,a
3080  0EF6  3E 00       	ld	a,+((_lin) / 256)
3081  0EF8  CE 00       	adc	a,0x00
3082  0EFA  47          	ld	b,a
3083  0EFB  DD 7E 05    	ld	a,(ix+5)
3084  0EFE  02          	ld	(bc),a
3085  0EFF  3E 00       	ld	a,+((_col) & 0xFF)
3086  0F01  DD 86 04    	add	a,(ix+4)
3087  0F04  4F          	ld	c,a
3088  0F05  3E 00       	ld	a,+((_col) / 256)
3089  0F07  CE 00       	adc	a,0x00
3090  0F09  47          	ld	b,a
3091  0F0A  DD 7E 06    	ld	a,(ix+6)
3092  0F0D  02          	ld	(bc),a
3093  0F0E  21 00 00    	ld	hl,_tmp
3094  0F11  36 00       	ld	(hl),0x00
3095  0F13  3E 00       	ld	a,+((_state) & 0xFF)
3096  0F15  DD 86 04    	add	a,(ix+4)
3097  0F18  4F          	ld	c,a
3098  0F19  3E 00       	ld	a,+((_state) / 256)
3099  0F1B  CE 00       	adc	a,0x00
3100  0F1D  47          	ld	b,a
3101  0F1E  AF          	xor	a, a
3102  0F1F  02          	ld	(bc),a
3103  0F20  3E 00       	ld	a,+((_state_a) & 0xFF)
3104  0F22  DD 86 04    	add	a,(ix+4)
3105  0F25  5F          	ld	e,a
3106  0F26  3E 00       	ld	a,+((_state_a) / 256)
3107  0F28  CE 00       	adc	a,0x00
3108  0F2A  57          	ld	d,a
3109  0F2B  AF          	xor	a, a
3110  0F2C  12          	ld	(de),a
3111  0F2D  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3112  0F2F  DD 86 04    	add	a,(ix+4)
3113  0F32  5F          	ld	e,a
3114  0F33  3E 00       	ld	a,+((_jump_lin) / 256)
3115  0F35  CE 00       	adc	a,0x00
3116  0F37  57          	ld	d,a
3117  0F38  AF          	xor	a, a
3118  0F39  12          	ld	(de),a
3119  0F3A  DD 7E 08    	ld	a,(ix+8)
3120  0F3D  3D          	dec	a
3121  0F3E  20 04       	jr	NZ,l_enemy_init_00102
3122  0F40  0A          	ld	a,(bc)
3123  0F41  F6 04       	or	a,0x04
3124  0F43  02          	ld	(bc),a
3125  0F44              l_enemy_init_00102:
3126  0F44  DD 7E 08    	ld	a,(ix+8)
3127  0F47  3C          	inc	a
3128  0F48  20 04       	jr	NZ,l_enemy_init_00104
3129  0F4A  0A          	ld	a,(bc)
3130  0F4B  F6 08       	or	a,0x08
3131  0F4D  02          	ld	(bc),a
3132  0F4E              l_enemy_init_00104:
3133  0F4E  3E 00       	ld	a,+((_colint) & 0xFF)
3134  0F50  DD 86 04    	add	a,(ix+4)
3135  0F53  4F          	ld	c,a
3136  0F54  3E 00       	ld	a,+((_colint) / 256)
3137  0F56  CE 00       	adc	a,0x00
3138  0F58  47          	ld	b,a
3139  0F59  AF          	xor	a, a
3140  0F5A  02          	ld	(bc),a
3141  0F5B  3E 00       	ld	a,+((_tile) & 0xFF)
3142  0F5D  DD 86 04    	add	a,(ix+4)
3143  0F60  4F          	ld	c,a
3144  0F61  3E 00       	ld	a,+((_tile) / 256)
3145  0F63  CE 00       	adc	a,0x00
3146  0F65  47          	ld	b,a
3147  0F66  C5          	push	bc
3148  0F67  DD 6E 04    	ld	l,(ix+4)
3149  0F6A  CD 00 00    	call	_spr_tile
3150  0F6D  C1          	pop	bc
3151  0F6E  7D          	ld	a, l
3152  0F6F  02          	ld	(bc),a
3153  0F70  DD 6E 04    	ld	l,(ix+4)
3154  0F73  26 00       	ld	h,0x00
3155  0F75  29          	add	hl,hl
3156  0F76  4D          	ld	c,l
3157  0F77  44          	ld	b,h
3158  0F78  21 00 00    	ld	hl,_last_time
3159  0F7B  09          	add	hl,bc
3160  0F7C  AF          	xor	a, a
3161  0F7D  77          	ld	(hl), a
3162  0F7E  23          	inc	hl
3163  0F7F  77          	ld	(hl), a
3164  0F80  21 00 00    	ld	hl,_spr_timer
3165  0F83  09          	add	hl,bc
3166  0F84  ED 5B 00 00 	ld	de,(_curr_time)
3167  0F88  73          	ld	(hl),e
3168  0F89  23          	inc	hl
3169  0F8A  72          	ld	(hl),d
3170  0F8B  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3171  0F8D  DD 86 04    	add	a,(ix+4)
3172  0F90  4F          	ld	c,a
3173  0F91  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3174  0F93  CE 00       	adc	a,0x00
3175  0F95  47          	ld	b,a
3176  0F96  AF          	xor	a, a
3177  0F97  02          	ld	(bc),a
3178  0F98  DD E1       	pop	ix
3179  0F9A  C9          	ret
3180  0F9B              	SECTION code_compiler
3181  0F9B              ;	---------------------------------
3182  0F9B              ; Function enemy_kill
3183  0F9B              ; ---------------------------------
3184  0F9B              _enemy_kill:
3185  0F9B  CD 00 00    	call	___sdcc_enter_ix
3186  0F9E  F5          	push	af
3187  0F9F  F5          	push	af
3188  0FA0  DD 75 FE    	ld	(ix-2),l
3189  0FA3  76          	halt
3190  0FA4  CD 00 00    	call	_sound_kill
3191  0FA7  2A 00 00    	ld	hl,(_sprite)
3192  0FAA  26 00       	ld	h,0x00
3193  0FAC  01 00 00    	ld	bc,_state
3194  0FAF  09          	add	hl,bc
3195  0FB0  5E          	ld	e, (hl)
3196  0FB1  3E 00       	ld	a,+((_state) & 0xFF)
3197  0FB3  DD 86 FE    	add	a,(ix-2)
3198  0FB6  4F          	ld	c,a
3199  0FB7  3E 00       	ld	a,+((_state) / 256)
3200  0FB9  CE 00       	adc	a,0x00
3201  0FBB  47          	ld	b,a
3202  0FBC  0A          	ld	a,(bc)
3203  0FBD  CB 5B       	bit	3, e
3204  0FBF  28 07       	jr	Z,l_enemy_kill_00102
3205  0FC1  F6 08       	or	a,0x08
3206  0FC3  E6 FB       	and	a,0xfb
3207  0FC5  02          	ld	(bc),a
3208  0FC6  18 05       	jr	l_enemy_kill_00103
3209  0FC8              l_enemy_kill_00102:
3210  0FC8  F6 04       	or	a,0x04
3211  0FCA  E6 F7       	and	a,0xf7
3212  0FCC  02          	ld	(bc),a
3213  0FCD              l_enemy_kill_00103:
3214  0FCD  3E 00       	ld	a,+((_class) & 0xFF)
3215  0FCF  DD 86 FE    	add	a,(ix-2)
3216  0FD2  5F          	ld	e,a
3217  0FD3  3E 00       	ld	a,+((_class) / 256)
3218  0FD5  CE 00       	adc	a,0x00
3219  0FD7  57          	ld	d,a
3220  0FD8  1A          	ld	a,(de)
3221  0FD9  D6 09       	sub	a,0x09
3222  0FDB  20 03       	jr	NZ,l_enemy_kill_00105
3223  0FDD  3E 01       	ld	a,0x01
3224  0FDF  12          	ld	(de),a
3225  0FE0              l_enemy_kill_00105:
3226  0FE0  0A          	ld	a,(bc)
3227  0FE1  F6 20       	or	a,0x20
3228  0FE3  02          	ld	(bc),a
3229  0FE4  1A          	ld	a,(de)
3230  0FE5  DD 77 FF    	ld	(ix-1),a
3231  0FE8  0A          	ld	a,(bc)
3232  0FE9  6F          	ld	l,a
3233  0FEA  3E 06       	ld	a,0x06
3234  0FEC  DD 96 FF    	sub	a,(ix-1)
3235  0FEF  38 06       	jr	C,l_enemy_kill_00107
3236  0FF1  7D          	ld	a,l
3237  0FF2  F6 01       	or	a,0x01
3238  0FF4  02          	ld	(bc),a
3239  0FF5  18 04       	jr	l_enemy_kill_00108
3240  0FF7              l_enemy_kill_00107:
3241  0FF7  7D          	ld	a,l
3242  0FF8  E6 FE       	and	a,0xfe
3243  0FFA  02          	ld	(bc),a
3244  0FFB              l_enemy_kill_00108:
3245  0FFB  01 00 00    	ld	bc,_sprite_speed_alt+0
3246  0FFE  DD 6E FE    	ld	l,(ix-2)
3247  1001  26 00       	ld	h,0x00
3248  1003  09          	add	hl,bc
3249  1004  36 08       	ld	(hl),0x08
3250  1006  3A 00 00    	ld	a,(_hit_count)
3251  1009  3C          	inc	a
3252  100A  01 50 00    	ld	bc,0x0050
3253  100D  18 04       	jr	l_enemy_kill_00180
3254  100F              l_enemy_kill_00179:
3255  100F  CB 21       	sla	c
3256  1011  CB 10       	rl	b
3257  1013              l_enemy_kill_00180:
3258  1013  3D          	dec	a
3259  1014  20 F9       	jr	NZ,l_enemy_kill_00179
3260  1016  D5          	push	de
3261  1017  69          	ld	l, c
3262  1018  60          	ld	h, b
3263  1019  CD 00 00    	call	_player_score_add
3264  101C  D1          	pop	de
3265  101D  21 00 00    	ld	hl,_hit_count
3266  1020  34          	inc	(hl)
3267  1021  01 00 00    	ld	bc,_spr_timer+0
3268  1024  DD 6E FE    	ld	l,(ix-2)
3269  1027  26 00       	ld	h,0x00
3270  1029  29          	add	hl, hl
3271  102A  09          	add	hl,bc
3272  102B  E3          	ex	(sp), hl
3273  102C  E1          	pop	hl
3274  102D  ED 4B 00 00 	ld	bc,(_curr_time)
3275  1031  E5          	push	hl
3276  1032  71          	ld	(hl),c
3277  1033  23          	inc	hl
3278  1034  70          	ld	(hl),b
3279  1035  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3280  1037  DD 86 FE    	add	a,(ix-2)
3281  103A  4F          	ld	c,a
3282  103B  3E 00       	ld	a,+((_jump_lin) / 256)
3283  103D  CE 00       	adc	a,0x00
3284  103F  47          	ld	b,a
3285  1040  3E 00       	ld	a,+((_lin) & 0xFF)
3286  1042  DD 86 FE    	add	a,(ix-2)
3287  1045  6F          	ld	l,a
3288  1046  3E 00       	ld	a,+((_lin) / 256)
3289  1048  CE 00       	adc	a,0x00
3290  104A  67          	ld	h,a
3291  104B  7E          	ld	a,(hl)
3292  104C  02          	ld	(bc),a
3293  104D  1A          	ld	a,(de)
3294  104E  4F          	ld	c,a
3295  104F  3E 06       	ld	a,0x06
3296  1051  91          	sub	a, c
3297  1052  38 67       	jr	C,l_enemy_kill_00117
3298  1054  3A 00 00    	ld	a,(_game_type)
3299  1057  D6 02       	sub	a,0x02
3300  1059  28 60       	jr	Z,l_enemy_kill_00117
3301  105B  21 00 00    	ld	hl,_phase_left
3302  105E  7E          	ld	a,(hl)
3303  105F  3D          	dec	a
3304  1060  77          	ld	(hl),a
3305  1061  3D          	dec	a
3306  1062  20 53       	jr	NZ,l_enemy_kill_00115
3307  1064  21 00 00    	ld	hl,_phase_angry
3308  1067  36 01       	ld	(hl),0x01
3309  1069  21 00 00    	ld	hl,_tmp0
3310  106C  36 00       	ld	(hl),0x00
3311  106E              l_enemy_kill_00124:
3312  106E  2A 00 00    	ld	hl,(_tmp0)
3313  1071  26 00       	ld	h,0x00
3314  1073  01 00 00    	ld	bc,_class
3315  1076  09          	add	hl,bc
3316  1077  7E          	ld	a,(hl)
3317  1078  4F          	ld	c,a
3318  1079  B7          	or	a,a
3319  107A  28 31       	jr	Z,l_enemy_kill_00125
3320  107C  3E 09       	ld	a,0x09
3321  107E  91          	sub	a,c
3322  107F  38 2C       	jr	C,l_enemy_kill_00125
3323  1081  2A 00 00    	ld	hl,(_tmp0)
3324  1084  26 00       	ld	h,0x00
3325  1086  01 00 00    	ld	bc,_state
3326  1089  09          	add	hl,bc
3327  108A  CB 6E       	bit	5,(hl)
3328  108C  20 1F       	jr	NZ,l_enemy_kill_00125
3329  108E  2A 00 00    	ld	hl,(_tmp0)
3330  1091  CD 84 0C    	call	_enemy_evolve
3331  1094  2A 00 00    	ld	hl,(_tmp0)
3332  1097  CD 84 0C    	call	_enemy_evolve
3333  109A  2A 00 00    	ld	hl,(_tmp0)
3334  109D  26 00       	ld	h,0x00
3335  109F  01 00 00    	ld	bc,_tile
3336  10A2  09          	add	hl,bc
3337  10A3  E5          	push	hl
3338  10A4  2A 00 00    	ld	hl,(_tmp0)
3339  10A7  CD 00 00    	call	_spr_tile
3340  10AA  C1          	pop	bc
3341  10AB  7D          	ld	a, l
3342  10AC  02          	ld	(bc),a
3343  10AD              l_enemy_kill_00125:
3344  10AD  21 00 00    	ld	hl,_tmp0
3345  10B0  7E          	ld	a,(hl)
3346  10B1  3C          	inc	a
3347  10B2  77          	ld	(hl),a
3348  10B3  D6 06       	sub	a,0x06
3349  10B5  38 B7       	jr	C,l_enemy_kill_00124
3350  10B7              l_enemy_kill_00115:
3351  10B7  21 00 00    	ld	hl,_phase_coins
3352  10BA  34          	inc	(hl)
3353  10BB              l_enemy_kill_00117:
3354  10BB  3A 00 00    	ld	a,(_phase_left)
3355  10BE  B7          	or	a, a
3356  10BF  28 08       	jr	Z,l_enemy_kill_00122
3357  10C1  21 00 00    	ld	hl,_ay_effect_11
3358  10C4  CD 00 00    	call	_ay_fx_play
3359  10C7  18 0F       	jr	l_enemy_kill_00126
3360  10C9              l_enemy_kill_00122:
3361  10C9  CD 00 00    	call	_ay_reset
3362  10CC  3A 00 00    	ld	a,(_game_bonus)
3363  10CF  B7          	or	a, a
3364  10D0  20 06       	jr	NZ,l_enemy_kill_00126
3365  10D2  21 00 00    	ld	hl,_ay_effect_17
3366  10D5  CD 00 00    	call	_ay_fx_play
3367  10D8              l_enemy_kill_00126:
3368  10D8  DD F9       	ld	sp, ix
3369  10DA  DD E1       	pop	ix
3370  10DC  C9          	ret
3371  10DD              	SECTION IGNORE
3372  0000              
