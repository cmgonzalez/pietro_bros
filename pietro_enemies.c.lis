1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9824 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _enemy_coin2
181   0000              	GLOBAL _enemy_coin1
182   0000              	GLOBAL _enemy_collition
183   0000              	GLOBAL _enemy_collition_check
184   0000              	GLOBAL _enemy_hit
185   0000              	GLOBAL _enemy_flip_change_dir
186   0000              	GLOBAL _enemy_flip
187   0000              	GLOBAL _enemy_flip_sidestepper
188   0000              	GLOBAL _enemy_turn
189   0000              	GLOBAL _enemy_standard
190   0000              	GLOBAL _enemy_slipice
191   0000              	GLOBAL _enemy_fireball_red
192   0000              	GLOBAL _enemy_fireball_green
193   0000              	GLOBAL _enemy_fighterfly
194   0000              	GLOBAL _enemy_trip
195   0000              	GLOBAL _enemy_standard_hit
196   0000              	GLOBAL _enemy_evolve
197   0000              	GLOBAL _enemy_upgrade
198   0000              	GLOBAL _enemy_walk
199   0000              	GLOBAL _enemy_init
200   0000              	GLOBAL _enemy_kill
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _zx_pattern_fill_callee
246   0000              	GLOBAL _zx_pattern_fill
247   0000              	GLOBAL _zx_saddrpup_fastcall
248   0000              	GLOBAL _zx_saddrpup
249   0000              	GLOBAL _zx_saddrpright_callee
250   0000              	GLOBAL _zx_saddrpright
251   0000              	GLOBAL _zx_saddrpleft_callee
252   0000              	GLOBAL _zx_saddrpleft
253   0000              	GLOBAL _zx_saddrpdown_fastcall
254   0000              	GLOBAL _zx_saddrpdown
255   0000              	GLOBAL _zx_saddrcup_fastcall
256   0000              	GLOBAL _zx_saddrcup
257   0000              	GLOBAL _zx_saddrcright_fastcall
258   0000              	GLOBAL _zx_saddrcright
259   0000              	GLOBAL _zx_saddrcleft_fastcall
260   0000              	GLOBAL _zx_saddrcleft
261   0000              	GLOBAL _zx_saddrcdown_fastcall
262   0000              	GLOBAL _zx_saddrcdown
263   0000              	GLOBAL _zx_saddr2py_fastcall
264   0000              	GLOBAL _zx_saddr2py
265   0000              	GLOBAL _zx_saddr2px_fastcall
266   0000              	GLOBAL _zx_saddr2px
267   0000              	GLOBAL _zx_saddr2cy_fastcall
268   0000              	GLOBAL _zx_saddr2cy
269   0000              	GLOBAL _zx_saddr2cx_fastcall
270   0000              	GLOBAL _zx_saddr2cx
271   0000              	GLOBAL _zx_saddr2aaddr_fastcall
272   0000              	GLOBAL _zx_saddr2aaddr
273   0000              	GLOBAL _zx_py2saddr_fastcall
274   0000              	GLOBAL _zx_py2saddr
275   0000              	GLOBAL _zx_py2aaddr_fastcall
276   0000              	GLOBAL _zx_py2aaddr
277   0000              	GLOBAL _zx_pxy2saddr_callee
278   0000              	GLOBAL _zx_pxy2saddr
279   0000              	GLOBAL _zx_pxy2aaddr_callee
280   0000              	GLOBAL _zx_pxy2aaddr
281   0000              	GLOBAL _zx_px2bitmask_fastcall
282   0000              	GLOBAL _zx_px2bitmask
283   0000              	GLOBAL _zx_cyx2saddr_callee
284   0000              	GLOBAL _zx_cyx2saddr
285   0000              	GLOBAL _zx_cyx2aaddr_callee
286   0000              	GLOBAL _zx_cyx2aaddr
287   0000              	GLOBAL _zx_cy2saddr_fastcall
288   0000              	GLOBAL _zx_cy2saddr
289   0000              	GLOBAL _zx_cy2aaddr_fastcall
290   0000              	GLOBAL _zx_cy2aaddr
291   0000              	GLOBAL _zx_bitmask2px_fastcall
292   0000              	GLOBAL _zx_bitmask2px
293   0000              	GLOBAL _zx_aaddrcup_fastcall
294   0000              	GLOBAL _zx_aaddrcup
295   0000              	GLOBAL _zx_aaddrcright_fastcall
296   0000              	GLOBAL _zx_aaddrcright
297   0000              	GLOBAL _zx_aaddrcleft_fastcall
298   0000              	GLOBAL _zx_aaddrcleft
299   0000              	GLOBAL _zx_aaddrcdown_fastcall
300   0000              	GLOBAL _zx_aaddrcdown
301   0000              	GLOBAL _zx_aaddr2saddr_fastcall
302   0000              	GLOBAL _zx_aaddr2saddr
303   0000              	GLOBAL _zx_aaddr2py_fastcall
304   0000              	GLOBAL _zx_aaddr2py
305   0000              	GLOBAL _zx_aaddr2px_fastcall
306   0000              	GLOBAL _zx_aaddr2px
307   0000              	GLOBAL _zx_aaddr2cy_fastcall
308   0000              	GLOBAL _zx_aaddr2cy
309   0000              	GLOBAL _zx_aaddr2cx_fastcall
310   0000              	GLOBAL _zx_aaddr2cx
311   0000              	GLOBAL _zx_scroll_wc_up_callee
312   0000              	GLOBAL _zx_scroll_wc_up
313   0000              	GLOBAL _zx_scroll_up_callee
314   0000              	GLOBAL _zx_scroll_up
315   0000              	GLOBAL _zx_cls_wc_callee
316   0000              	GLOBAL _zx_cls_wc
317   0000              	GLOBAL _zx_cls_fastcall
318   0000              	GLOBAL _zx_cls
319   0000              	GLOBAL _zx_border_fastcall
320   0000              	GLOBAL _zx_border
321   0000              	GLOBAL _sound_hit_pow
322   0000              	GLOBAL _sound_hit_brick
323   0000              	GLOBAL _sound_hit_enemy
324   0000              	GLOBAL _sound_kill
325   0000              	GLOBAL _sound_enter_enemy
326   0000              	GLOBAL _sound_coin
327   0000              	GLOBAL _sound_jump
328   0000              	GLOBAL _sound_slide
329   0000              	GLOBAL _spr_draw_clear
330   0000              	GLOBAL _spr_water_splash_draw
331   0000              	GLOBAL _spr_water_splash_clear
332   0000              	GLOBAL _spr_draw_back
333   0000              	GLOBAL _spr_cortina_pipes
334   0000              	GLOBAL _spr_cortina_brick
335   0000              	GLOBAL _spr_brick_anim
336   0000              	GLOBAL _spr_back_fix4
337   0000              	GLOBAL _spr_back_fix3
338   0000              	GLOBAL _spr_back_fix2
339   0000              	GLOBAL _spr_back_fix1
340   0000              	GLOBAL _spr_back_fix
341   0000              	GLOBAL _spr_back_clr
342   0000              	GLOBAL _spr_draw_pow
343   0000              	GLOBAL _spr_tile
344   0000              	GLOBAL _spr_set_fall
345   0000              	GLOBAL _spr_destroy
346   0000              	GLOBAL _spr_check_over
347   0000              	GLOBAL _spr_tile_dir
348   0000              	GLOBAL _spr_anim_kill
349   0000              	GLOBAL _spr_anim_fall
350   0000              	GLOBAL _spr_killed
351   0000              	GLOBAL _spr_redraw
352   0000              	GLOBAL _spr_move_left
353   0000              	GLOBAL _spr_move_right
354   0000              	GLOBAL _spr_move_horizontal
355   0000              	GLOBAL _spr_move_down
356   0000              	GLOBAL _spr_move_up
357   0000              	GLOBAL _spr_chktime
358   0000              	GLOBAL _player_move_horizontal
359   0000              	GLOBAL _player_push_check
360   0000              	GLOBAL _player_push
361   0000              	GLOBAL _player_hit_brick_clear
362   0000              	GLOBAL _player_lost_life
363   0000              	GLOBAL _player_score_add
364   0000              	GLOBAL _player_coin
365   0000              	GLOBAL _player_hit_pow
366   0000              	GLOBAL _player_hit_brick
367   0000              	GLOBAL _player_move_input
368   0000              	GLOBAL _player_turn
369   0000              	GLOBAL _player_move
370   0000              	GLOBAL _player_restart
371   0000              	GLOBAL _player_kill
372   0000              	GLOBAL _player_check_input
373   0000              	GLOBAL _player_collition_check
374   0000              	GLOBAL _player_collition
375   0000              	GLOBAL _player_calc_slide
376   0000              	GLOBAL _player_init
377   0000              	GLOBAL _game_joystick_set_menu
378   0000              	GLOBAL _game_joystick_set
379   0000              	GLOBAL _game_joystick_change
380   0000              	GLOBAL _game_hall_print_p
381   0000              	GLOBAL _game_hall_edit_p
382   0000              	GLOBAL _game_hall_check
383   0000              	GLOBAL _game_hall_enter_phs
384   0000              	GLOBAL _game_print_header
385   0000              	GLOBAL _game_end
386   0000              	GLOBAL _game_hall_enter
387   0000              	GLOBAL _game_hall_of_fame
388   0000              	GLOBAL _game_score_osd
389   0000              	GLOBAL _game_phase_print_score_back
390   0000              	GLOBAL _game_bonus_clock
391   0000              	GLOBAL _game_bonus_summary_player
392   0000              	GLOBAL _game_bonus_summary
393   0000              	GLOBAL _game_check_time
394   0000              	GLOBAL _game_menu_config
395   0000              	GLOBAL _game_menu
396   0000              	GLOBAL _game_rotate_attrib
397   0000              	GLOBAL _game_colour_message
398   0000              	GLOBAL _game_paint_attrib_lin_h
399   0000              	GLOBAL _game_paint_attrib_lin
400   0000              	GLOBAL _game_paint_attrib
401   0000              	GLOBAL _game_menu_paint
402   0000              	GLOBAL _game_menu_top_paint
403   0000              	GLOBAL _game_menu_handle
404   0000              	GLOBAL _game_menu_e
405   0000              	GLOBAL _game_menu_back
406   0000              	GLOBAL _game_print_score
407   0000              	GLOBAL _game_unfreeze_all
408   0000              	GLOBAL _game_freeze_all
409   0000              	GLOBAL _game_freeze
410   0000              	GLOBAL _game_enemy_add_get_index
411   0000              	GLOBAL _game_enemy_add1
412   0000              	GLOBAL _game_enemy_quota
413   0000              	GLOBAL _game_enemy_rnd
414   0000              	GLOBAL _game_enemy_add
415   0000              	GLOBAL _game_check_maze
416   0000              	GLOBAL _game_kill_all_sprites
417   0000              	GLOBAL _game_loop
418   0000              	GLOBAL _player_set2
419   0000              	GLOBAL _player_set1
420   0000              	GLOBAL _game_phase_print
421   0000              	GLOBAL _game_phase_init
422   0000              	GLOBAL _game_phase_calc
423   0000              	GLOBAL _game_start_timer
424   0000              	GLOBAL _game_tick
425   0000              	GLOBAL _game_print_lives
426   0000              	GLOBAL _game_print_footer
427   0000              	GLOBAL _game_calc_index
428   0000              	GLOBAL _game_fill_row
429   0000              	GLOBAL _ay_fx_play
430   0000              	GLOBAL _ay_midi_play
431   0000              	GLOBAL _ay_is_playing
432   0000              	GLOBAL _ay_reset
433   0000              	GLOBAL _in_mouse_kempston_wheel_delta
434   0000              	GLOBAL _in_mouse_kempston_wheel
435   0000              	GLOBAL _in_mouse_kempston_callee
436   0000              	GLOBAL _in_mouse_kempston
437   0000              	GLOBAL _in_mouse_kempston_setpos_callee
438   0000              	GLOBAL _in_mouse_kempston_setpos
439   0000              	GLOBAL _in_mouse_kempston_reset
440   0000              	GLOBAL _in_mouse_kempston_init
441   0000              	GLOBAL _in_mouse_amx_wheel_delta
442   0000              	GLOBAL _in_mouse_amx_wheel
443   0000              	GLOBAL _in_mouse_amx_callee
444   0000              	GLOBAL _in_mouse_amx
445   0000              	GLOBAL _in_mouse_amx_setpos_callee
446   0000              	GLOBAL _in_mouse_amx_setpos
447   0000              	GLOBAL _in_mouse_amx_reset
448   0000              	GLOBAL _in_mouse_amx_init_callee
449   0000              	GLOBAL _in_mouse_amx_init
450   0000              	GLOBAL _in_stick_sinclair2
451   0000              	GLOBAL _in_stick_sinclair1
452   0000              	GLOBAL _in_stick_kempston
453   0000              	GLOBAL _in_stick_fuller
454   0000              	GLOBAL _in_stick_cursor
455   0000              	GLOBAL _in_stick_keyboard_fastcall
456   0000              	GLOBAL _in_stick_keyboard
457   0000              	GLOBAL _in_wait_nokey
458   0000              	GLOBAL _in_wait_key
459   0000              	GLOBAL _in_test_key
460   0000              	GLOBAL _in_pause_fastcall
461   0000              	GLOBAL _in_pause
462   0000              	GLOBAL _in_key_scancode_fastcall
463   0000              	GLOBAL _in_key_scancode
464   0000              	GLOBAL _in_key_pressed_fastcall
465   0000              	GLOBAL _in_key_pressed
466   0000              	GLOBAL _in_inkey
467   0000              	GLOBAL _NIRVANAP_chars_fastcall
468   0000              	GLOBAL _NIRVANAP_chars
469   0000              	GLOBAL _NIRVANAP_wides_fastcall
470   0000              	GLOBAL _NIRVANAP_wides
471   0000              	GLOBAL _NIRVANAP_tiles_fastcall
472   0000              	GLOBAL _NIRVANAP_tiles
473   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
474   0000              	GLOBAL _NIRVANAP_drawW_raw
475   0000              	GLOBAL _NIRVANAP_drawW_callee
476   0000              	GLOBAL _NIRVANAP_drawW
477   0000              	GLOBAL _NIRVANAP_spriteT_callee
478   0000              	GLOBAL _NIRVANAP_spriteT
479   0000              	GLOBAL _NIRVANAP_fillC_callee
480   0000              	GLOBAL _NIRVANAP_fillC
481   0000              	GLOBAL _NIRVANAP_paintC_callee
482   0000              	GLOBAL _NIRVANAP_paintC
483   0000              	GLOBAL _NIRVANAP_printC_callee
484   0000              	GLOBAL _NIRVANAP_printC
485   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
486   0000              	GLOBAL _NIRVANAP_fillT_raw
487   0000              	GLOBAL _NIRVANAP_fillT_callee
488   0000              	GLOBAL _NIRVANAP_fillT
489   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
490   0000              	GLOBAL _NIRVANAP_drawT_raw
491   0000              	GLOBAL _NIRVANAP_drawT_callee
492   0000              	GLOBAL _NIRVANAP_drawT
493   0000              	GLOBAL _NIRVANAP_stop
494   0000              	GLOBAL _NIRVANAP_start
495   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
496   0000              	GLOBAL _intrinsic_swap_word_32
497   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
498   0000              	GLOBAL _intrinsic_swap_endian_32
499   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
500   0000              	GLOBAL _intrinsic_swap_endian_16
501   0000              	GLOBAL _intrinsic_return_de
502   0000              	GLOBAL _intrinsic_return_bc
503   0000              	GLOBAL _intrinsic_exx
504   0000              	GLOBAL _intrinsic_ex_de_hl
505   0000              	GLOBAL _intrinsic_pop_iy
506   0000              	GLOBAL _intrinsic_pop_ix
507   0000              	GLOBAL _intrinsic_pop_hl
508   0000              	GLOBAL _intrinsic_pop_de
509   0000              	GLOBAL _intrinsic_pop_bc
510   0000              	GLOBAL _intrinsic_pop_af
511   0000              	GLOBAL _intrinsic_push_iy
512   0000              	GLOBAL _intrinsic_push_ix
513   0000              	GLOBAL _intrinsic_push_hl
514   0000              	GLOBAL _intrinsic_push_de
515   0000              	GLOBAL _intrinsic_push_bc
516   0000              	GLOBAL _intrinsic_push_af
517   0000              	GLOBAL _intrinsic_nop
518   0000              	GLOBAL _intrinsic_im_2
519   0000              	GLOBAL _intrinsic_im_1
520   0000              	GLOBAL _intrinsic_im_0
521   0000              	GLOBAL _intrinsic_retn
522   0000              	GLOBAL _intrinsic_reti
523   0000              	GLOBAL _intrinsic_halt
524   0000              	GLOBAL _intrinsic_ei
525   0000              	GLOBAL _intrinsic_di
526   0000              	GLOBAL _intrinsic_stub
527   0000              	GLOBAL _ulltoa_callee
528   0000              	GLOBAL _ulltoa
529   0000              	GLOBAL _strtoull_callee
530   0000              	GLOBAL _strtoull
531   0000              	GLOBAL _strtoll_callee
532   0000              	GLOBAL _strtoll
533   0000              	GLOBAL _lltoa_callee
534   0000              	GLOBAL _lltoa
535   0000              	GLOBAL _llabs_callee
536   0000              	GLOBAL _llabs
537   0000              	GLOBAL __lldivu__callee
538   0000              	GLOBAL __lldivu_
539   0000              	GLOBAL __lldiv__callee
540   0000              	GLOBAL __lldiv_
541   0000              	GLOBAL _atoll_callee
542   0000              	GLOBAL _atoll
543   0000              	GLOBAL _realloc_unlocked_callee
544   0000              	GLOBAL _realloc_unlocked
545   0000              	GLOBAL _malloc_unlocked_fastcall
546   0000              	GLOBAL _malloc_unlocked
547   0000              	GLOBAL _free_unlocked_fastcall
548   0000              	GLOBAL _free_unlocked
549   0000              	GLOBAL _calloc_unlocked_callee
550   0000              	GLOBAL _calloc_unlocked
551   0000              	GLOBAL _aligned_alloc_unlocked_callee
552   0000              	GLOBAL _aligned_alloc_unlocked
553   0000              	GLOBAL _realloc_callee
554   0000              	GLOBAL _realloc
555   0000              	GLOBAL _malloc_fastcall
556   0000              	GLOBAL _malloc
557   0000              	GLOBAL _free_fastcall
558   0000              	GLOBAL _free
559   0000              	GLOBAL _calloc_callee
560   0000              	GLOBAL _calloc
561   0000              	GLOBAL _aligned_alloc_callee
562   0000              	GLOBAL _aligned_alloc
563   0000              	GLOBAL _utoa_callee
564   0000              	GLOBAL _utoa
565   0000              	GLOBAL _ultoa_callee
566   0000              	GLOBAL _ultoa
567   0000              	GLOBAL _system_fastcall
568   0000              	GLOBAL _system
569   0000              	GLOBAL _strtoul_callee
570   0000              	GLOBAL _strtoul
571   0000              	GLOBAL _strtol_callee
572   0000              	GLOBAL _strtol
573   0000              	GLOBAL _strtof_callee
574   0000              	GLOBAL _strtof
575   0000              	GLOBAL _strtod_callee
576   0000              	GLOBAL _strtod
577   0000              	GLOBAL _srand_fastcall
578   0000              	GLOBAL _srand
579   0000              	GLOBAL _rand
580   0000              	GLOBAL _quick_exit_fastcall
581   0000              	GLOBAL _quick_exit
582   0000              	GLOBAL _qsort_callee
583   0000              	GLOBAL _qsort
584   0000              	GLOBAL _ltoa_callee
585   0000              	GLOBAL _ltoa
586   0000              	GLOBAL _labs_fastcall
587   0000              	GLOBAL _labs
588   0000              	GLOBAL _itoa_callee
589   0000              	GLOBAL _itoa
590   0000              	GLOBAL _ftoh_callee
591   0000              	GLOBAL _ftoh
592   0000              	GLOBAL _ftog_callee
593   0000              	GLOBAL _ftog
594   0000              	GLOBAL _ftoe_callee
595   0000              	GLOBAL _ftoe
596   0000              	GLOBAL _ftoa_callee
597   0000              	GLOBAL _ftoa
598   0000              	GLOBAL _exit_fastcall
599   0000              	GLOBAL _exit
600   0000              	GLOBAL _dtoh_callee
601   0000              	GLOBAL _dtoh
602   0000              	GLOBAL _dtog_callee
603   0000              	GLOBAL _dtog
604   0000              	GLOBAL _dtoe_callee
605   0000              	GLOBAL _dtoe
606   0000              	GLOBAL _dtoa_callee
607   0000              	GLOBAL _dtoa
608   0000              	GLOBAL _bsearch_callee
609   0000              	GLOBAL _bsearch
610   0000              	GLOBAL _atol_fastcall
611   0000              	GLOBAL _atol
612   0000              	GLOBAL _atoi_fastcall
613   0000              	GLOBAL _atoi
614   0000              	GLOBAL _atof_fastcall
615   0000              	GLOBAL _atof
616   0000              	GLOBAL _atexit_fastcall
617   0000              	GLOBAL _atexit
618   0000              	GLOBAL _at_quick_exit_fastcall
619   0000              	GLOBAL _at_quick_exit
620   0000              	GLOBAL _abs_fastcall
621   0000              	GLOBAL _abs
622   0000              	GLOBAL _abort
623   0000              	GLOBAL __strtou__callee
624   0000              	GLOBAL __strtou_
625   0000              	GLOBAL __strtoi__callee
626   0000              	GLOBAL __strtoi_
627   0000              	GLOBAL __random_uniform_xor_8__fastcall
628   0000              	GLOBAL __random_uniform_xor_8_
629   0000              	GLOBAL __random_uniform_xor_32__fastcall
630   0000              	GLOBAL __random_uniform_xor_32_
631   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
632   0000              	GLOBAL __random_uniform_cmwc_8_
633   0000              	GLOBAL __shellsort__callee
634   0000              	GLOBAL __shellsort_
635   0000              	GLOBAL __quicksort__callee
636   0000              	GLOBAL __quicksort_
637   0000              	GLOBAL __insertion_sort__callee
638   0000              	GLOBAL __insertion_sort_
639   0000              	GLOBAL __ldivu__callee
640   0000              	GLOBAL __ldivu_
641   0000              	GLOBAL __ldiv__callee
642   0000              	GLOBAL __ldiv_
643   0000              	GLOBAL __divu__callee
644   0000              	GLOBAL __divu_
645   0000              	GLOBAL __div__callee
646   0000              	GLOBAL __div_
647   0000              	GLOBAL _ay_effect_20
648   0000              	GLOBAL _ay_effect_19
649   0000              	GLOBAL _ay_effect_18
650   0000              	GLOBAL _ay_effect_17
651   0000              	GLOBAL _ay_effect_16
652   0000              	GLOBAL _ay_effect_15
653   0000              	GLOBAL _ay_effect_14
654   0000              	GLOBAL _ay_effect_13
655   0000              	GLOBAL _ay_effect_12
656   0000              	GLOBAL _ay_effect_11
657   0000              	GLOBAL _ay_effect_10
658   0000              	GLOBAL _ay_effect_09
659   0000              	GLOBAL _ay_effect_08
660   0000              	GLOBAL _ay_effect_07
661   0000              	GLOBAL _ay_effect_06
662   0000              	GLOBAL _ay_effect_05
663   0000              	GLOBAL _ay_effect_04
664   0000              	GLOBAL _ay_effect_03
665   0000              	GLOBAL _ay_effect_02
666   0000              	GLOBAL _ay_effect_01
667   0000              	GLOBAL _pb_midi_phase_1
668   0000              	GLOBAL _pb_midi_title
669   0000              	GLOBAL _initials
670   0000              	GLOBAL _hof
671   0000              	GLOBAL _score_osd_tile
672   0000              	GLOBAL _score_osd_time
673   0000              	GLOBAL _score_osd_col
674   0000              	GLOBAL _score_osd_lin
675   0000              	GLOBAL _phase_bonus_total
676   0000              	GLOBAL _phase_angry
677   0000              	GLOBAL _phase_curr
678   0000              	GLOBAL _phase_end
679   0000              	GLOBAL _phase_coins
680   0000              	GLOBAL _phase_pop
681   0000              	GLOBAL _phase_tot
682   0000              	GLOBAL _phase_left
683   0000              	GLOBAL _phase_quota
684   0000              	GLOBAL _phases
685   0000              	GLOBAL _spr_idx
686   0000              	GLOBAL _lvl_1
687   0000              	GLOBAL _sprite_speed_alt
688   0000              	GLOBAL _sprite_speed
689   0000              	GLOBAL _screen_ink
690   0000              	GLOBAL _screen_paper
691   0000              	GLOBAL _game_menu_sel
692   0000              	GLOBAL _game_type
693   0000              	GLOBAL _game_bonus
694   0000              	GLOBAL _spr_water_time
695   0000              	GLOBAL _spr_water_clear
696   0000              	GLOBAL _game_time_fireball_start
697   0000              	GLOBAL _game_time_flipped
698   0000              	GLOBAL _game_score_top
699   0000              	GLOBAL _game_lives_update
700   0000              	GLOBAL _game_lives
701   0000              	GLOBAL _game_over
702   0000              	GLOBAL _game_sound
703   0000              	GLOBAL _game_two_player
704   0000              	GLOBAL _game_brick_tile
705   0000              	GLOBAL _game_pow
706   0000              	GLOBAL _spr_count
707   0000              	GLOBAL _frame_loop_count
708   0000              	GLOBAL _col_time
709   0000              	GLOBAL _frame_time
710   0000              	GLOBAL _entry_time
711   0000              	GLOBAL _curr_time
712   0000              	GLOBAL _s_state
713   0000              	GLOBAL _attrib_hl
714   0000              	GLOBAL _attrib
715   0000              	GLOBAL _zx_val_asm
716   0000              	GLOBAL _enemies
717   0000              	GLOBAL _tmp_ui
718   0000              	GLOBAL _tmp_sc
719   0000              	GLOBAL _tmp_uc
720   0000              	GLOBAL _tmp1
721   0000              	GLOBAL _tmp0
722   0000              	GLOBAL _tmp
723   0000              	GLOBAL _index_d
724   0000              	GLOBAL _index3
725   0000              	GLOBAL _index2
726   0000              	GLOBAL _index1
727   0000              	GLOBAL _loop_count
728   0000              	GLOBAL _s_col1
729   0000              	GLOBAL _s_col0
730   0000              	GLOBAL _s_lin1
731   0000              	GLOBAL _s_lin0
732   0000              	GLOBAL _s_tile1
733   0000              	GLOBAL _s_tile0
734   0000              	GLOBAL _hit_count
735   0000              	GLOBAL _tile_offset_other_player
736   0000              	GLOBAL _tile_offset
737   0000              	GLOBAL _index_player
738   0000              	GLOBAL _sprite_other_player
739   0000              	GLOBAL _sprite
740   0000              	GLOBAL _player_joy
741   0000              	GLOBAL _player_next_extra
742   0000              	GLOBAL _player_score
743   0000              	GLOBAL _last_time
744   0000              	GLOBAL _sliding
745   0000              	GLOBAL _spr_timer_c
746   0000              	GLOBAL _spr_timer
747   0000              	GLOBAL _jump_lin
748   0000              	GLOBAL _hit_col
749   0000              	GLOBAL _hit_lin
750   0000              	GLOBAL _colint
751   0000              	GLOBAL _col
752   0000              	GLOBAL _lin
753   0000              	GLOBAL _tile
754   0000              	GLOBAL _state_a
755   0000              	GLOBAL _state
756   0000              	GLOBAL _class
757   0000              	GLOBAL _tbuffer
758   0000              	GLOBAL _dirs
759   0000              	GLOBAL _k2
760   0000              	GLOBAL _k1
761   0000              	GLOBAL _joyfunc2
762   0000              	GLOBAL _joyfunc1
763   0000              	GLOBAL _joynames
764   0000              	GLOBAL _btiles
765   0000              	GLOBAL _spec128
766   0000              	GLOBAL _control_method
767   0000              	GLOBAL _hall_valids
768   0000              ;--------------------------------------------------------
769   0000              ; special function registers
770   0000              ;--------------------------------------------------------
771   0000              ;--------------------------------------------------------
772   0000              ; ram data
773   0000              ;--------------------------------------------------------
774   0000              	SECTION bss_compiler
775   0000              defc _NIRVANAP_isr	=	0xf5d2
776   0000              ;--------------------------------------------------------
777   0000              ; ram data
778   0000              ;--------------------------------------------------------
779   0000              
780   0000              IF 0
781   0000              
782   0000              ; .area _INITIALIZED removed by z88dk
783   0000              
784   0000              
785   0000              ENDIF
786   0000              
787   0000              ;--------------------------------------------------------
788   0000              ; absolute external ram data
789   0000              ;--------------------------------------------------------
790   0000              	SECTION IGNORE
791   0000              ;--------------------------------------------------------
792   0000              ; global & static initialisations
793   0000              ;--------------------------------------------------------
794   0000              	SECTION code_crt_init
795   0000              ;--------------------------------------------------------
796   0000              ; Home
797   0000              ;--------------------------------------------------------
798   0000              	SECTION IGNORE
799   0000              ;--------------------------------------------------------
800   0000              ; code
801   0000              ;--------------------------------------------------------
802   0000              	SECTION code_compiler
803   0000              ;	---------------------------------
804   0000              ; Function enemy_coin1
805   0000              ; ---------------------------------
806   0000              _enemy_coin1:
807   0000  3A 00 00    	ld	a,(_phase_left)
808   0003  B7          	or	a, a
809   0004  28 2F       	jr	Z,l_enemy_coin1_00107
810   0006  CD 96 0D    	call	_enemy_walk
811   0009  2A 00 00    	ld	hl,(_sprite)
812   000C  26 00       	ld	h,0x00
813   000E  01 00 00    	ld	bc,_lin
814   0011  09          	add	hl,bc
815   0012  7E          	ld	a,(hl)
816   0013  D6 98       	sub	a,0x98
817   0015  20 1E       	jr	NZ,l_enemy_coin1_00107
818   0017  3A 00 00    	ld	a,(_sprite)
819   001A  4F          	ld	c,a
820   001B  06 00       	ld	b,0x00
821   001D  21 00 00    	ld	hl,_col
822   0020  09          	add	hl,bc
823   0021  7E          	ld	a,(hl)
824   0022  4F          	ld	c,a
825   0023  D6 03       	sub	a,0x03
826   0025  28 05       	jr	Z,l_enemy_coin1_00101
827   0027  79          	ld	a,c
828   0028  D6 1B       	sub	a,0x1b
829   002A  20 09       	jr	NZ,l_enemy_coin1_00107
830   002C              l_enemy_coin1_00101:
831   002C  3A 00 00    	ld	a,(_sprite)
832   002F  F5          	push	af
833   0030  33          	inc	sp
834   0031  CD 00 00    	call	_spr_destroy
835   0034  33          	inc	sp
836   0035              l_enemy_coin1_00107:
837   0035  C9          	ret
838   0036              	SECTION code_compiler
839   0036              ;	---------------------------------
840   0036              ; Function enemy_coin2
841   0036              ; ---------------------------------
842   0036              _enemy_coin2:
843   0036  01 00 00    	ld	bc,_colint+0
844   0039  79          	ld	a,c
845   003A  21 00 00    	ld	hl,_sprite
846   003D  86          	add	a, (hl)
847   003E  5F          	ld	e,a
848   003F  78          	ld	a,b
849   0040  CE 00       	adc	a,0x00
850   0042  57          	ld	d,a
851   0043  1A          	ld	a,(de)
852   0044  3C          	inc	a
853   0045  12          	ld	(de),a
854   0046  79          	ld	a,c
855   0047  86          	add	a, (hl)
856   0048  4F          	ld	c,a
857   0049  78          	ld	a,b
858   004A  CE 00       	adc	a,0x00
859   004C  47          	ld	b,a
860   004D  0A          	ld	a,(bc)
861   004E  D6 03       	sub	a,0x03
862   0050  C0          	ret	NZ
863   0051  AF          	xor	a, a
864   0052  02          	ld	(bc),a
865   0053  C9          	ret
866   0054              	SECTION code_compiler
867   0054              ;	---------------------------------
868   0054              ; Function enemy_collition
869   0054              ; ---------------------------------
870   0054              _enemy_collition:
871   0054  CD 00 00    	call	___sdcc_enter_ix
872   0057  3B          	dec	sp
873   0058  21 00 00    	ld	hl,_enemies
874   005B  36 00       	ld	(hl),0x00
875   005D              l_enemy_collition_00113:
876   005D  CD 88 01    	call	_enemy_collition_check
877   0060  7D          	ld	a,l
878   0061  B7          	or	a, a
879   0062  CA 79 01    	jp	Z,l_enemy_collition_00114
880   0065  3A 00 00    	ld	a,(_enemies)
881   0068  C6 00       	add	a,+((_state) & 0xFF)
882   006A  4F          	ld	c,a
883   006B  3E 00       	ld	a,+((_state) / 256)
884   006D  CE 00       	adc	a,0x00
885   006F  47          	ld	b,a
886   0070  0A          	ld	a,(bc)
887   0071  DD 77 FF    	ld	(ix-1),a
888   0074  CB 67       	bit	4,a
889   0076  C2 0C 01    	jp	NZ,l_enemy_collition_00104
890   0079  21 00 00    	ld	hl,_s_state
891   007C  7E          	ld	a,(hl)
892   007D  E6 08       	and	a,0x08
893   007F  5F          	ld	e,a
894   0080  DD 7E FF    	ld	a,(ix-1)
895   0083  E6 08       	and	a,0x08
896   0085  57          	ld	d,a
897   0086  7B          	ld	a,e
898   0087  92          	sub	a, d
899   0088  CA 0C 01    	jp	Z,l_enemy_collition_00104
900   008B  7E          	ld	a,(hl)
901   008C  E6 04       	and	a,0x04
902   008E  5F          	ld	e,a
903   008F  DD 7E FF    	ld	a,(ix-1)
904   0092  E6 04       	and	a,0x04
905   0094  57          	ld	d,a
906   0095  7B          	ld	a,e
907   0096  92          	sub	a, d
908   0097  28 73       	jr	Z,l_enemy_collition_00104
909   0099  2A 00 00    	ld	hl,(_sprite)
910   009C  26 00       	ld	h,0x00
911   009E  11 00 00    	ld	de,_class
912   00A1  19          	add	hl,de
913   00A2  7E          	ld	a,(hl)
914   00A3  D6 08       	sub	a,0x08
915   00A5  28 65       	jr	Z,l_enemy_collition_00104
916   00A7  DD 7E FF    	ld	a,(ix-1)
917   00AA  EE 04       	xor	a,0x04
918   00AC  02          	ld	(bc),a
919   00AD  2A 00 00    	ld	hl,(_enemies)
920   00B0  26 00       	ld	h,0x00
921   00B2  01 00 00    	ld	bc,_state
922   00B5  09          	add	hl,bc
923   00B6  7E          	ld	a,(hl)
924   00B7  EE 08       	xor	a,0x08
925   00B9  77          	ld	(hl),a
926   00BA  2A 00 00    	ld	hl,(_enemies)
927   00BD  26 00       	ld	h,0x00
928   00BF  01 00 00    	ld	bc,_class
929   00C2  09          	add	hl,bc
930   00C3  4E          	ld	c,(hl)
931   00C4  3E 06       	ld	a,0x06
932   00C6  91          	sub	a,c
933   00C7  38 43       	jr	C,l_enemy_collition_00104
934   00C9  3E 00       	ld	a,+((_state_a) & 0xFF)
935   00CB  21 00 00    	ld	hl,_enemies
936   00CE  86          	add	a, (hl)
937   00CF  4F          	ld	c,a
938   00D0  3E 00       	ld	a,+((_state_a) / 256)
939   00D2  CE 00       	adc	a,0x00
940   00D4  47          	ld	b,a
941   00D5  0A          	ld	a,(bc)
942   00D6  CB CF       	set	1, a
943   00D8  02          	ld	(bc),a
944   00D9  6E          	ld	l,(hl)
945   00DA  26 00       	ld	h,0x00
946   00DC  29          	add	hl,hl
947   00DD  01 00 00    	ld	bc,_spr_timer
948   00E0  09          	add	hl,bc
949   00E1  ED 5B 00 00 	ld	de,(_curr_time)
950   00E5  73          	ld	(hl),e
951   00E6  23          	inc	hl
952   00E7  72          	ld	(hl),d
953   00E8  3E 00       	ld	a,+((_tile) & 0xFF)
954   00EA  21 00 00    	ld	hl,_enemies
955   00ED  86          	add	a, (hl)
956   00EE  4F          	ld	c,a
957   00EF  3E 00       	ld	a,+((_tile) / 256)
958   00F1  CE 00       	adc	a,0x00
959   00F3  47          	ld	b,a
960   00F4  7E          	ld	a,(hl)
961   00F5  C5          	push	bc
962   00F6  F5          	push	af
963   00F7  33          	inc	sp
964   00F8  CD 00 00    	call	_spr_tile
965   00FB  33          	inc	sp
966   00FC  C1          	pop	bc
967   00FD  7D          	ld	a, l
968   00FE  02          	ld	(bc),a
969   00FF  3A 00 00    	ld	a,(_enemies)
970   0102  C6 00       	add	a,+((_colint) & 0xFF)
971   0104  4F          	ld	c,a
972   0105  3E 00       	ld	a,+((_colint) / 256)
973   0107  CE 00       	adc	a,0x00
974   0109  47          	ld	b,a
975   010A  AF          	xor	a, a
976   010B  02          	ld	(bc),a
977   010C              l_enemy_collition_00104:
978   010C  21 00 00    	ld	hl,_s_state
979   010F  7E          	ld	a,(hl)
980   0110  EE 0C       	xor	a,+(0x04^0x08)
981   0112  77          	ld	(hl),a
982   0113  2A 00 00    	ld	hl,(_sprite)
983   0116  26 00       	ld	h,0x00
984   0118  01 00 00    	ld	bc,_class
985   011B  09          	add	hl,bc
986   011C  4E          	ld	c,(hl)
987   011D  3E 06       	ld	a,0x06
988   011F  91          	sub	a,c
989   0120  38 41       	jr	C,l_enemy_collition_00109
990   0122  3E 00       	ld	a,+((_state_a) & 0xFF)
991   0124  21 00 00    	ld	hl,_sprite
992   0127  86          	add	a, (hl)
993   0128  4F          	ld	c,a
994   0129  3E 00       	ld	a,+((_state_a) / 256)
995   012B  CE 00       	adc	a,0x00
996   012D  47          	ld	b,a
997   012E  0A          	ld	a,(bc)
998   012F  CB CF       	set	1, a
999   0131  02          	ld	(bc),a
1000  0132  3E 00       	ld	a,+((_state) & 0xFF)
1001  0134  86          	add	a, (hl)
1002  0135  4F          	ld	c,a
1003  0136  3E 00       	ld	a,+((_state) / 256)
1004  0138  CE 00       	adc	a,0x00
1005  013A  47          	ld	b,a
1006  013B  3A 00 00    	ld	a,(_s_state)
1007  013E  02          	ld	(bc),a
1008  013F  3E 00       	ld	a,+((_tile) & 0xFF)
1009  0141  21 00 00    	ld	hl,_sprite
1010  0144  86          	add	a, (hl)
1011  0145  4F          	ld	c,a
1012  0146  3E 00       	ld	a,+((_tile) / 256)
1013  0148  CE 00       	adc	a,0x00
1014  014A  47          	ld	b,a
1015  014B  7E          	ld	a,(hl)
1016  014C  C5          	push	bc
1017  014D  F5          	push	af
1018  014E  33          	inc	sp
1019  014F  CD 00 00    	call	_spr_tile
1020  0152  33          	inc	sp
1021  0153  C1          	pop	bc
1022  0154  7D          	ld	a, l
1023  0155  02          	ld	(bc),a
1024  0156  3A 00 00    	ld	a,(_sprite)
1025  0159  C6 00       	add	a,+((_colint) & 0xFF)
1026  015B  4F          	ld	c,a
1027  015C  3E 00       	ld	a,+((_colint) / 256)
1028  015E  CE 00       	adc	a,0x00
1029  0160  47          	ld	b,a
1030  0161  AF          	xor	a, a
1031  0162  02          	ld	(bc),a
1032  0163              l_enemy_collition_00109:
1033  0163  2A 00 00    	ld	hl,(_sprite)
1034  0166  26 00       	ld	h,0x00
1035  0168  29          	add	hl,hl
1036  0169  01 00 00    	ld	bc,_spr_timer
1037  016C  09          	add	hl,bc
1038  016D  ED 5B 00 00 	ld	de,(_curr_time)
1039  0171  73          	ld	(hl),e
1040  0172  23          	inc	hl
1041  0173  72          	ld	(hl),d
1042  0174  21 00 00    	ld	hl,_enemies
1043  0177  36 06       	ld	(hl),0x06
1044  0179              l_enemy_collition_00114:
1045  0179  21 00 00    	ld	hl,_enemies
1046  017C  7E          	ld	a,(hl)
1047  017D  3C          	inc	a
1048  017E  77          	ld	(hl),a
1049  017F  D6 06       	sub	a,0x06
1050  0181  DA 5D 00    	jp	C,l_enemy_collition_00113
1051  0184  33          	inc	sp
1052  0185  DD E1       	pop	ix
1053  0187  C9          	ret
1054  0188              	SECTION code_compiler
1055  0188              ;	---------------------------------
1056  0188              ; Function enemy_collition_check
1057  0188              ; ---------------------------------
1058  0188              _enemy_collition_check:
1059  0188  2A 00 00    	ld	hl,(_enemies)
1060  018B  26 00       	ld	h,0x00
1061  018D  01 00 00    	ld	bc,_class
1062  0190  09          	add	hl,bc
1063  0191  7E          	ld	a,(hl)
1064  0192  4F          	ld	c,a
1065  0193  B7          	or	a,a
1066  0194  20 04       	jr	NZ,l_enemy_collition_check_00102
1067  0196  6F          	ld	l,a
1068  0197  C3 6F 02    	jp	l_enemy_collition_check_00125
1069  019A              l_enemy_collition_check_00102:
1070  019A  3E 09       	ld	a,0x09
1071  019C  91          	sub	a, c
1072  019D  30 05       	jr	NC,l_enemy_collition_check_00104
1073  019F  2E 00       	ld	l,0x00
1074  01A1  C3 6F 02    	jp	l_enemy_collition_check_00125
1075  01A4              l_enemy_collition_check_00104:
1076  01A4  3A 00 00    	ld	a,(_enemies)
1077  01A7  21 00 00    	ld	hl,_sprite
1078  01AA  96          	sub	a,(hl)
1079  01AB  20 04       	jr	NZ,l_enemy_collition_check_00106
1080  01AD  6F          	ld	l,a
1081  01AE  C3 6F 02    	jp	l_enemy_collition_check_00125
1082  01B1              l_enemy_collition_check_00106:
1083  01B1  3A 00 00    	ld	a,(_sprite)
1084  01B4  C6 00       	add	a,+((_state) & 0xFF)
1085  01B6  4F          	ld	c,a
1086  01B7  3E 00       	ld	a,+((_state) / 256)
1087  01B9  CE 00       	adc	a,0x00
1088  01BB  47          	ld	b,a
1089  01BC  0A          	ld	a,(bc)
1090  01BD  CB 67       	bit	4, a
1091  01BF  28 05       	jr	Z,l_enemy_collition_check_00108
1092  01C1  2E 00       	ld	l,0x00
1093  01C3  C3 6F 02    	jp	l_enemy_collition_check_00125
1094  01C6              l_enemy_collition_check_00108:
1095  01C6  CB 6F       	bit	5, a
1096  01C8  28 05       	jr	Z,l_enemy_collition_check_00110
1097  01CA  2E 00       	ld	l,0x00
1098  01CC  C3 6F 02    	jp	l_enemy_collition_check_00125
1099  01CF              l_enemy_collition_check_00110:
1100  01CF  3A 00 00    	ld	a,(_sprite)
1101  01D2  C6 00       	add	a,+((_state_a) & 0xFF)
1102  01D4  4F          	ld	c,a
1103  01D5  3E 00       	ld	a,+((_state_a) / 256)
1104  01D7  CE 00       	adc	a,0x00
1105  01D9  47          	ld	b,a
1106  01DA  0A          	ld	a,(bc)
1107  01DB  CB 4F       	bit	1, a
1108  01DD  28 05       	jr	Z,l_enemy_collition_check_00112
1109  01DF  2E 00       	ld	l,0x00
1110  01E1  C3 6F 02    	jp	l_enemy_collition_check_00125
1111  01E4              l_enemy_collition_check_00112:
1112  01E4  3A 00 00    	ld	a,(_enemies)
1113  01E7  C6 00       	add	a,+((_state) & 0xFF)
1114  01E9  4F          	ld	c,a
1115  01EA  3E 00       	ld	a,+((_state) / 256)
1116  01EC  CE 00       	adc	a,0x00
1117  01EE  47          	ld	b,a
1118  01EF  0A          	ld	a,(bc)
1119  01F0  CB 6F       	bit	5, a
1120  01F2  28 05       	jr	Z,l_enemy_collition_check_00114
1121  01F4  2E 00       	ld	l,0x00
1122  01F6  C3 6F 02    	jp	l_enemy_collition_check_00125
1123  01F9              l_enemy_collition_check_00114:
1124  01F9  CB 4F       	bit	1, a
1125  01FB  28 04       	jr	Z,l_enemy_collition_check_00116
1126  01FD  2E 00       	ld	l,0x00
1127  01FF  18 6E       	jr	l_enemy_collition_check_00125
1128  0201              l_enemy_collition_check_00116:
1129  0201  01 00 00    	ld	bc,_lin+0
1130  0204  2A 00 00    	ld	hl,(_enemies)
1131  0207  26 00       	ld	h,0x00
1132  0209  09          	add	hl,bc
1133  020A  6E          	ld	l, (hl)
1134  020B  26 00       	ld	h,0x00
1135  020D  EB          	ex	de,hl
1136  020E  2A 00 00    	ld	hl,(_sprite)
1137  0211  62          	ld	h,d
1138  0212  09          	add	hl,bc
1139  0213  4E          	ld	c, (hl)
1140  0214  AF          	xor	a,a
1141  0215  47          	ld	b,a
1142  0216  EB          	ex	de,hl
1143  0217  ED 42       	sbc	hl,bc
1144  0219  CD 00 00    	call	_abs_fastcall
1145  021C  22 00 00    	ld	(_tmp_ui),hl
1146  021F  7D          	ld	a,l
1147  0220  D6 10       	sub	a,0x10
1148  0222  7C          	ld	a,h
1149  0223  DE 00       	sbc	a,0x00
1150  0225  38 04       	jr	C,l_enemy_collition_check_00118
1151  0227  2E 00       	ld	l,0x00
1152  0229  18 44       	jr	l_enemy_collition_check_00125
1153  022B              l_enemy_collition_check_00118:
1154  022B  01 00 00    	ld	bc,_col+0
1155  022E  2A 00 00    	ld	hl,(_sprite)
1156  0231  26 00       	ld	h,0x00
1157  0233  09          	add	hl,bc
1158  0234  6E          	ld	l, (hl)
1159  0235  EB          	ex	de,hl
1160  0236  2A 00 00    	ld	hl,(_enemies)
1161  0239  26 00       	ld	h,0x00
1162  023B  09          	add	hl,bc
1163  023C  4E          	ld	c, (hl)
1164  023D  7B          	ld	a,e
1165  023E  91          	sub	a, c
1166  023F  32 00 00    	ld	(_tmp_sc),a
1167  0242  3A 00 00    	ld	a,(_sprite)
1168  0245  C6 00       	add	a,+((_state) & 0xFF)
1169  0247  4F          	ld	c,a
1170  0248  3E 00       	ld	a,+((_state) / 256)
1171  024A  CE 00       	adc	a,0x00
1172  024C  47          	ld	b,a
1173  024D  3A 00 00    	ld	a,(_tmp_sc)
1174  0250  D6 FE       	sub	a,0xfe
1175  0252  20 09       	jr	NZ,l_enemy_collition_check_00120
1176  0254  0A          	ld	a,(bc)
1177  0255  CB 57       	bit	2, a
1178  0257  28 04       	jr	Z,l_enemy_collition_check_00120
1179  0259  2E 01       	ld	l,0x01
1180  025B  18 12       	jr	l_enemy_collition_check_00125
1181  025D              l_enemy_collition_check_00120:
1182  025D  3A 00 00    	ld	a,(_tmp_sc)
1183  0260  D6 02       	sub	a,0x02
1184  0262  20 09       	jr	NZ,l_enemy_collition_check_00123
1185  0264  0A          	ld	a,(bc)
1186  0265  CB 5F       	bit	3, a
1187  0267  28 04       	jr	Z,l_enemy_collition_check_00123
1188  0269  2E 01       	ld	l,0x01
1189  026B  18 02       	jr	l_enemy_collition_check_00125
1190  026D              l_enemy_collition_check_00123:
1191  026D  2E 00       	ld	l,0x00
1192  026F              l_enemy_collition_check_00125:
1193  026F  C9          	ret
1194  0270              	SECTION code_compiler
1195  0270              ;	---------------------------------
1196  0270              ; Function enemy_hit
1197  0270              ; ---------------------------------
1198  0270              _enemy_hit:
1199  0270  76          	halt
1200  0271  2A 00 00    	ld	hl,(_enemies)
1201  0274  26 00       	ld	h,0x00
1202  0276  5D          	ld	e,l
1203  0277  01 00 00    	ld	bc,_col
1204  027A  09          	add	hl,bc
1205  027B  46          	ld	b,(hl)
1206  027C  16 00       	ld	d,0x00
1207  027E  21 00 00    	ld	hl,_lin
1208  0281  19          	add	hl,de
1209  0282  4E          	ld	c, (hl)
1210  0283  C5          	push	bc
1211  0284  AF          	xor	a, a
1212  0285  F5          	push	af
1213  0286  33          	inc	sp
1214  0287  CD 00 00    	call	_NIRVANAP_fillT_callee
1215  028A  2A 00 00    	ld	hl,(_enemies)
1216  028D  26 00       	ld	h,0x00
1217  028F  01 00 00    	ld	bc,_lin
1218  0292  09          	add	hl,bc
1219  0293  7E          	ld	a,(hl)
1220  0294  C6 FC       	add	a,0xfc
1221  0296  77          	ld	(hl),a
1222  0297  3E 00       	ld	a,+((_col) & 0xFF)
1223  0299  21 00 00    	ld	hl,_enemies
1224  029C  86          	add	a, (hl)
1225  029D  4F          	ld	c,a
1226  029E  3E 00       	ld	a,+((_col) / 256)
1227  02A0  CE 00       	adc	a,0x00
1228  02A2  47          	ld	b,a
1229  02A3  0A          	ld	a,(bc)
1230  02A4  4F          	ld	c,a
1231  02A5  3E 00       	ld	a,+((_lin) & 0xFF)
1232  02A7  86          	add	a, (hl)
1233  02A8  5F          	ld	e,a
1234  02A9  3E 00       	ld	a,+((_lin) / 256)
1235  02AB  CE 00       	adc	a,0x00
1236  02AD  57          	ld	d,a
1237  02AE  1A          	ld	a,(de)
1238  02AF  47          	ld	b,a
1239  02B0  3E 00       	ld	a,+((_tile) & 0xFF)
1240  02B2  86          	add	a, (hl)
1241  02B3  5F          	ld	e,a
1242  02B4  3E 00       	ld	a,+((_tile) / 256)
1243  02B6  CE 00       	adc	a,0x00
1244  02B8  57          	ld	d,a
1245  02B9  1A          	ld	a,(de)
1246  02BA  57          	ld	d,a
1247  02BB  79          	ld	a,c
1248  02BC  F5          	push	af
1249  02BD  33          	inc	sp
1250  02BE  4A          	ld	c, d
1251  02BF  7E          	ld	a,(hl)
1252  02C0  C5          	push	bc
1253  02C1  F5          	push	af
1254  02C2  33          	inc	sp
1255  02C3  CD 00 00    	call	_NIRVANAP_spriteT_callee
1256  02C6  2A 00 00    	ld	hl,(_enemies)
1257  02C9  26 00       	ld	h,0x00
1258  02CB  01 00 00    	ld	bc,_state_a
1259  02CE  09          	add	hl,bc
1260  02CF  7E          	ld	a,(hl)
1261  02D0  E6 FD       	and	a,0xfd
1262  02D2  77          	ld	(hl),a
1263  02D3  01 00 00    	ld	bc,_spr_timer+0
1264  02D6  2A 00 00    	ld	hl,(_enemies)
1265  02D9  26 00       	ld	h,0x00
1266  02DB  29          	add	hl, hl
1267  02DC  09          	add	hl,bc
1268  02DD  ED 5B 00 00 	ld	de,(_curr_time)
1269  02E1  73          	ld	(hl),e
1270  02E2  23          	inc	hl
1271  02E3  72          	ld	(hl),d
1272  02E4  3A 00 00    	ld	a,(_enemies)
1273  02E7  C6 00       	add	a,+((_class) & 0xFF)
1274  02E9  4F          	ld	c,a
1275  02EA  3E 00       	ld	a,+((_class) / 256)
1276  02EC  CE 00       	adc	a,0x00
1277  02EE  47          	ld	b,a
1278  02EF  0A          	ld	a,(bc)
1279  02F0  5F          	ld	e,a
1280  02F1  D6 01       	sub	a,0x01
1281  02F3  DA A1 03    	jp	C,l_enemy_hit_00113
1282  02F6  3E 0B       	ld	a,0x0b
1283  02F8  93          	sub	a, e
1284  02F9  DA A1 03    	jp	C,l_enemy_hit_00113
1285  02FC  1D          	dec	e
1286  02FD  16 00       	ld	d,0x00
1287  02FF  21 06 03    	ld	hl,l_enemy_hit_00123
1288  0302  19          	add	hl,de
1289  0303  19          	add	hl,de
1290  0304  19          	add	hl,de
1291  0305  E9          	jp	(hl)
1292  0306              l_enemy_hit_00123:
1293  0306  C3 27 03    	jp	l_enemy_hit_00101
1294  0309  C3 31 03    	jp	l_enemy_hit_00102
1295  030C  C3 3B 03    	jp	l_enemy_hit_00103
1296  030F  C3 45 03    	jp	l_enemy_hit_00104
1297  0312  C3 4F 03    	jp	l_enemy_hit_00105
1298  0315  C3 59 03    	jp	l_enemy_hit_00106
1299  0318  C3 6D 03    	jp	l_enemy_hit_00108
1300  031B  C3 79 03    	jp	l_enemy_hit_00109
1301  031E  C3 63 03    	jp	l_enemy_hit_00107
1302  0321  C3 8B 03    	jp	l_enemy_hit_00110
1303  0324  C3 97 03    	jp	l_enemy_hit_00111
1304  0327              l_enemy_hit_00101:
1305  0327  21 30 00    	ld	hl,0x0030
1306  032A  E5          	push	hl
1307  032B  CD 97 04    	call	_enemy_flip
1308  032E  F1          	pop	af
1309  032F  18 70       	jr	l_enemy_hit_00113
1310  0331              l_enemy_hit_00102:
1311  0331  21 3C 00    	ld	hl,0x003c
1312  0334  E5          	push	hl
1313  0335  CD 97 04    	call	_enemy_flip
1314  0338  F1          	pop	af
1315  0339  18 66       	jr	l_enemy_hit_00113
1316  033B              l_enemy_hit_00103:
1317  033B  21 48 00    	ld	hl,0x0048
1318  033E  E5          	push	hl
1319  033F  CD 97 04    	call	_enemy_flip
1320  0342  F1          	pop	af
1321  0343  18 5C       	jr	l_enemy_hit_00113
1322  0345              l_enemy_hit_00104:
1323  0345  21 54 00    	ld	hl,0x0054
1324  0348  E5          	push	hl
1325  0349  CD 80 05    	call	_enemy_flip_sidestepper
1326  034C  F1          	pop	af
1327  034D  18 52       	jr	l_enemy_hit_00113
1328  034F              l_enemy_hit_00105:
1329  034F  21 60 00    	ld	hl,0x0060
1330  0352  E5          	push	hl
1331  0353  CD 80 05    	call	_enemy_flip_sidestepper
1332  0356  F1          	pop	af
1333  0357  18 48       	jr	l_enemy_hit_00113
1334  0359              l_enemy_hit_00106:
1335  0359  21 6C 00    	ld	hl,0x006c
1336  035C  E5          	push	hl
1337  035D  CD 80 05    	call	_enemy_flip_sidestepper
1338  0360  F1          	pop	af
1339  0361  18 3E       	jr	l_enemy_hit_00113
1340  0363              l_enemy_hit_00107:
1341  0363  21 78 00    	ld	hl,0x0078
1342  0366  E5          	push	hl
1343  0367  CD 97 04    	call	_enemy_flip
1344  036A  F1          	pop	af
1345  036B  18 34       	jr	l_enemy_hit_00113
1346  036D              l_enemy_hit_00108:
1347  036D  2A 00 00    	ld	hl,(_enemies)
1348  0370  26 32       	ld	h,0x32
1349  0372  E5          	push	hl
1350  0373  CD 00 00    	call	_player_coin
1351  0376  F1          	pop	af
1352  0377  18 28       	jr	l_enemy_hit_00113
1353  0379              l_enemy_hit_00109:
1354  0379  21 00 00    	ld	hl,_ay_effect_10
1355  037C  CD 00 00    	call	_ay_fx_play
1356  037F  2A 00 00    	ld	hl,(_enemies)
1357  0382  26 50       	ld	h,0x50
1358  0384  E5          	push	hl
1359  0385  CD 00 00    	call	_player_coin
1360  0388  F1          	pop	af
1361  0389  18 16       	jr	l_enemy_hit_00113
1362  038B              l_enemy_hit_00110:
1363  038B  2A 00 00    	ld	hl,(_enemies)
1364  038E  26 64       	ld	h,0x64
1365  0390  E5          	push	hl
1366  0391  CD 00 00    	call	_player_coin
1367  0394  F1          	pop	af
1368  0395  18 0A       	jr	l_enemy_hit_00113
1369  0397              l_enemy_hit_00111:
1370  0397  2A 00 00    	ld	hl,(_enemies)
1371  039A  26 14       	ld	h,0x14
1372  039C  E5          	push	hl
1373  039D  CD 00 00    	call	_player_coin
1374  03A0  F1          	pop	af
1375  03A1              l_enemy_hit_00113:
1376  03A1  C9          	ret
1377  03A2              	SECTION code_compiler
1378  03A2              ;	---------------------------------
1379  03A2              ; Function enemy_flip_change_dir
1380  03A2              ; ---------------------------------
1381  03A2              _enemy_flip_change_dir:
1382  03A2  CD 00 00    	call	___sdcc_enter_ix
1383  03A5  3B          	dec	sp
1384  03A6  3A 00 00    	ld	a,(_enemies)
1385  03A9  C6 00       	add	a,+((_state) & 0xFF)
1386  03AB  4F          	ld	c,a
1387  03AC  3E 00       	ld	a,+((_state) / 256)
1388  03AE  CE 00       	adc	a,0x00
1389  03B0  47          	ld	b,a
1390  03B1  0A          	ld	a,(bc)
1391  03B2  CB 57       	bit	2, a
1392  03B4  28 1E       	jr	Z,l_enemy_flip_change_dir_00102
1393  03B6  01 00 00    	ld	bc,_state_a+0
1394  03B9  79          	ld	a,c
1395  03BA  21 00 00    	ld	hl,_enemies
1396  03BD  86          	add	a, (hl)
1397  03BE  5F          	ld	e,a
1398  03BF  78          	ld	a,b
1399  03C0  CE 00       	adc	a,0x00
1400  03C2  57          	ld	d,a
1401  03C3  1A          	ld	a,(de)
1402  03C4  CB E7       	set	4, a
1403  03C6  12          	ld	(de),a
1404  03C7  79          	ld	a,c
1405  03C8  86          	add	a, (hl)
1406  03C9  4F          	ld	c,a
1407  03CA  78          	ld	a,b
1408  03CB  CE 00       	adc	a,0x00
1409  03CD  47          	ld	b,a
1410  03CE  0A          	ld	a,(bc)
1411  03CF  E6 F7       	and	a,0xf7
1412  03D1  02          	ld	(bc),a
1413  03D2  18 1C       	jr	l_enemy_flip_change_dir_00103
1414  03D4              l_enemy_flip_change_dir_00102:
1415  03D4  01 00 00    	ld	bc,_state_a+0
1416  03D7  79          	ld	a,c
1417  03D8  21 00 00    	ld	hl,_enemies
1418  03DB  86          	add	a, (hl)
1419  03DC  5F          	ld	e,a
1420  03DD  78          	ld	a,b
1421  03DE  CE 00       	adc	a,0x00
1422  03E0  57          	ld	d,a
1423  03E1  1A          	ld	a,(de)
1424  03E2  CB E7       	set	4, a
1425  03E4  12          	ld	(de),a
1426  03E5  79          	ld	a,c
1427  03E6  86          	add	a, (hl)
1428  03E7  4F          	ld	c,a
1429  03E8  78          	ld	a,b
1430  03E9  CE 00       	adc	a,0x00
1431  03EB  47          	ld	b,a
1432  03EC  0A          	ld	a,(bc)
1433  03ED  E6 F7       	and	a,0xf7
1434  03EF  02          	ld	(bc),a
1435  03F0              l_enemy_flip_change_dir_00103:
1436  03F0  01 00 00    	ld	bc,_col+0
1437  03F3  2A 00 00    	ld	hl,(_sprite)
1438  03F6  26 00       	ld	h,0x00
1439  03F8  09          	add	hl,bc
1440  03F9  7E          	ld	a,(hl)
1441  03FA  DD 77 FF    	ld	(ix-1),a
1442  03FD  79          	ld	a,c
1443  03FE  21 00 00    	ld	hl,_enemies
1444  0401  86          	add	a, (hl)
1445  0402  5F          	ld	e,a
1446  0403  78          	ld	a,b
1447  0404  CE 00       	adc	a,0x00
1448  0406  57          	ld	d,a
1449  0407  1A          	ld	a,(de)
1450  0408  DD 96 FF    	sub	a,(ix-1)
1451  040B  30 19       	jr	NC,l_enemy_flip_change_dir_00105
1452  040D  3E 00       	ld	a,+((_state) & 0xFF)
1453  040F  86          	add	a, (hl)
1454  0410  5F          	ld	e,a
1455  0411  3E 00       	ld	a,+((_state) / 256)
1456  0413  CE 00       	adc	a,0x00
1457  0415  57          	ld	d,a
1458  0416  1A          	ld	a,(de)
1459  0417  CB DF       	set	3, a
1460  0419  12          	ld	(de),a
1461  041A  5E          	ld	e,(hl)
1462  041B  16 00       	ld	d,0x00
1463  041D  21 00 00    	ld	hl,_state
1464  0420  19          	add	hl,de
1465  0421  7E          	ld	a,(hl)
1466  0422  EB          	ex	de,hl
1467  0423  E6 FB       	and	a,0xfb
1468  0425  12          	ld	(de),a
1469  0426              l_enemy_flip_change_dir_00105:
1470  0426  2A 00 00    	ld	hl,(_sprite)
1471  0429  26 00       	ld	h,0x00
1472  042B  09          	add	hl,bc
1473  042C  7E          	ld	a,(hl)
1474  042D  DD 77 FF    	ld	(ix-1),a
1475  0430  79          	ld	a,c
1476  0431  21 00 00    	ld	hl,_enemies
1477  0434  86          	add	a, (hl)
1478  0435  5F          	ld	e,a
1479  0436  78          	ld	a,b
1480  0437  CE 00       	adc	a,0x00
1481  0439  57          	ld	d,a
1482  043A  1A          	ld	a,(de)
1483  043B  5F          	ld	e,a
1484  043C  DD 7E FF    	ld	a,(ix-1)
1485  043F  93          	sub	a, e
1486  0440  30 19       	jr	NC,l_enemy_flip_change_dir_00107
1487  0442  3E 00       	ld	a,+((_state) & 0xFF)
1488  0444  86          	add	a, (hl)
1489  0445  5F          	ld	e,a
1490  0446  3E 00       	ld	a,+((_state) / 256)
1491  0448  CE 00       	adc	a,0x00
1492  044A  57          	ld	d,a
1493  044B  1A          	ld	a,(de)
1494  044C  CB D7       	set	2, a
1495  044E  12          	ld	(de),a
1496  044F  5E          	ld	e,(hl)
1497  0450  16 00       	ld	d,0x00
1498  0452  21 00 00    	ld	hl,_state
1499  0455  19          	add	hl,de
1500  0456  7E          	ld	a,(hl)
1501  0457  EB          	ex	de,hl
1502  0458  E6 F7       	and	a,0xf7
1503  045A  12          	ld	(de),a
1504  045B              l_enemy_flip_change_dir_00107:
1505  045B  DD 7E 04    	ld	a,(ix+4)
1506  045E  B7          	or	a, a
1507  045F  20 32       	jr	NZ,l_enemy_flip_change_dir_00111
1508  0461  2A 00 00    	ld	hl,(_sprite)
1509  0464  26 00       	ld	h,0x00
1510  0466  09          	add	hl,bc
1511  0467  6E          	ld	l, (hl)
1512  0468  79          	ld	a,c
1513  0469  EB          	ex	de,hl
1514  046A  21 00 00    	ld	hl,_enemies
1515  046D  86          	add	a, (hl)
1516  046E  4F          	ld	c,a
1517  046F  78          	ld	a,b
1518  0470  CE 00       	adc	a,0x00
1519  0472  47          	ld	b,a
1520  0473  0A          	ld	a,(bc)
1521  0474  4F          	ld	c,a
1522  0475  7B          	ld	a,e
1523  0476  91          	sub	a, c
1524  0477  20 1A       	jr	NZ,l_enemy_flip_change_dir_00111
1525  0479  3E 00       	ld	a,+((_state) & 0xFF)
1526  047B  86          	add	a, (hl)
1527  047C  4F          	ld	c,a
1528  047D  3E 00       	ld	a,+((_state) / 256)
1529  047F  CE 00       	adc	a,0x00
1530  0481  47          	ld	b,a
1531  0482  0A          	ld	a,(bc)
1532  0483  E6 F7       	and	a,0xf7
1533  0485  02          	ld	(bc),a
1534  0486  3E 00       	ld	a,+((_state) & 0xFF)
1535  0488  86          	add	a, (hl)
1536  0489  4F          	ld	c,a
1537  048A  3E 00       	ld	a,+((_state) / 256)
1538  048C  CE 00       	adc	a,0x00
1539  048E  47          	ld	b,a
1540  048F  0A          	ld	a,(bc)
1541  0490  E6 FB       	and	a,0xfb
1542  0492  02          	ld	(bc),a
1543  0493              l_enemy_flip_change_dir_00111:
1544  0493  33          	inc	sp
1545  0494  DD E1       	pop	ix
1546  0496  C9          	ret
1547  0497              	SECTION code_compiler
1548  0497              ;	---------------------------------
1549  0497              ; Function enemy_flip
1550  0497              ; ---------------------------------
1551  0497              _enemy_flip:
1552  0497  CD 00 00    	call	___sdcc_enter_ix
1553  049A  3B          	dec	sp
1554  049B  01 00 00    	ld	bc,_spr_timer+0
1555  049E  2A 00 00    	ld	hl,(_enemies)
1556  04A1  26 00       	ld	h,0x00
1557  04A3  29          	add	hl, hl
1558  04A4  09          	add	hl,bc
1559  04A5  ED 5B 00 00 	ld	de,(_curr_time)
1560  04A9  73          	ld	(hl),e
1561  04AA  23          	inc	hl
1562  04AB  72          	ld	(hl),d
1563  04AC  3E 00       	ld	a,+((_state) & 0xFF)
1564  04AE  21 00 00    	ld	hl,_enemies
1565  04B1  86          	add	a, (hl)
1566  04B2  4F          	ld	c,a
1567  04B3  3E 00       	ld	a,+((_state) / 256)
1568  04B5  CE 00       	adc	a,0x00
1569  04B7  47          	ld	b,a
1570  04B8  0A          	ld	a,(bc)
1571  04B9  CB C7       	set	0, a
1572  04BB  02          	ld	(bc),a
1573  04BC  3E 00       	ld	a,+((_state) & 0xFF)
1574  04BE  86          	add	a, (hl)
1575  04BF  4F          	ld	c,a
1576  04C0  3E 00       	ld	a,+((_state) / 256)
1577  04C2  CE 00       	adc	a,0x00
1578  04C4  47          	ld	b,a
1579  04C5  0A          	ld	a,(bc)
1580  04C6  E6 FD       	and	a,0xfd
1581  04C8  02          	ld	(bc),a
1582  04C9  3E 00       	ld	a,+((_state) & 0xFF)
1583  04CB  86          	add	a, (hl)
1584  04CC  4F          	ld	c,a
1585  04CD  3E 00       	ld	a,+((_state) / 256)
1586  04CF  CE 00       	adc	a,0x00
1587  04D1  47          	ld	b,a
1588  04D2  0A          	ld	a,(bc)
1589  04D3  EE 10       	xor	a,0x10
1590  04D5  02          	ld	(bc),a
1591  04D6  3E 00       	ld	a,+((_state) & 0xFF)
1592  04D8  86          	add	a, (hl)
1593  04D9  4F          	ld	c,a
1594  04DA  3E 00       	ld	a,+((_state) / 256)
1595  04DC  CE 00       	adc	a,0x00
1596  04DE  47          	ld	b,a
1597  04DF  0A          	ld	a,(bc)
1598  04E0  E6 7F       	and	a,0x7f
1599  04E2  02          	ld	(bc),a
1600  04E3  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1601  04E5  86          	add	a, (hl)
1602  04E6  4F          	ld	c,a
1603  04E7  3E 00       	ld	a,+((_jump_lin) / 256)
1604  04E9  CE 00       	adc	a,0x00
1605  04EB  47          	ld	b,a
1606  04EC  3E 00       	ld	a,+((_lin) & 0xFF)
1607  04EE  86          	add	a, (hl)
1608  04EF  5F          	ld	e,a
1609  04F0  3E 00       	ld	a,+((_lin) / 256)
1610  04F2  CE 00       	adc	a,0x00
1611  04F4  57          	ld	d,a
1612  04F5  1A          	ld	a,(de)
1613  04F6  02          	ld	(bc),a
1614  04F7  3E 00       	ld	a,+((_state) & 0xFF)
1615  04F9  86          	add	a, (hl)
1616  04FA  4F          	ld	c,a
1617  04FB  3E 00       	ld	a,+((_state) / 256)
1618  04FD  CE 00       	adc	a,0x00
1619  04FF  47          	ld	b,a
1620  0500  0A          	ld	a,(bc)
1621  0501  DD 77 FF    	ld	(ix-1),a
1622  0504  CB 67       	bit	4,a
1623  0506  28 28       	jr	Z,l_enemy_flip_00105
1624  0508  21 00 00    	ld	hl,_ay_effect_02
1625  050B  CD 00 00    	call	_ay_fx_play
1626  050E  AF          	xor	a, a
1627  050F  F5          	push	af
1628  0510  33          	inc	sp
1629  0511  CD A2 03    	call	_enemy_flip_change_dir
1630  0514  33          	inc	sp
1631  0515  3A 00 00    	ld	a,(_enemies)
1632  0518  C6 00       	add	a,+((_tile) & 0xFF)
1633  051A  4F          	ld	c,a
1634  051B  3E 00       	ld	a,+((_tile) / 256)
1635  051D  CE 00       	adc	a,0x00
1636  051F  47          	ld	b,a
1637  0520  DD 7E 04    	ld	a,(ix+4)
1638  0523  C6 06       	add	a,0x06
1639  0525  02          	ld	(bc),a
1640  0526  21 01 00    	ld	hl,0x0001
1641  0529  E5          	push	hl
1642  052A  CD 00 00    	call	_player_score_add
1643  052D  F1          	pop	af
1644  052E  18 4C       	jr	l_enemy_flip_00107
1645  0530              l_enemy_flip_00105:
1646  0530  2A 00 00    	ld	hl,(_enemies)
1647  0533  26 00       	ld	h,0x00
1648  0535  11 00 00    	ld	de,_state_a
1649  0538  19          	add	hl,de
1650  0539  5E          	ld	e, (hl)
1651  053A  DD 7E FF    	ld	a,(ix-1)
1652  053D  CB D7       	set	2, a
1653  053F  CB 63       	bit	4, e
1654  0541  28 12       	jr	Z,l_enemy_flip_00102
1655  0543  02          	ld	(bc),a
1656  0544  3A 00 00    	ld	a,(_enemies)
1657  0547  C6 00       	add	a,+((_state) & 0xFF)
1658  0549  4F          	ld	c,a
1659  054A  3E 00       	ld	a,+((_state) / 256)
1660  054C  CE 00       	adc	a,0x00
1661  054E  47          	ld	b,a
1662  054F  0A          	ld	a,(bc)
1663  0550  E6 F7       	and	a,0xf7
1664  0552  02          	ld	(bc),a
1665  0553  18 10       	jr	l_enemy_flip_00103
1666  0555              l_enemy_flip_00102:
1667  0555  02          	ld	(bc),a
1668  0556  3A 00 00    	ld	a,(_enemies)
1669  0559  C6 00       	add	a,+((_state) & 0xFF)
1670  055B  4F          	ld	c,a
1671  055C  3E 00       	ld	a,+((_state) / 256)
1672  055E  CE 00       	adc	a,0x00
1673  0560  47          	ld	b,a
1674  0561  0A          	ld	a,(bc)
1675  0562  E6 F7       	and	a,0xf7
1676  0564  02          	ld	(bc),a
1677  0565              l_enemy_flip_00103:
1678  0565  3E 00       	ld	a,+((_tile) & 0xFF)
1679  0567  21 00 00    	ld	hl,_enemies
1680  056A  86          	add	a, (hl)
1681  056B  4F          	ld	c,a
1682  056C  3E 00       	ld	a,+((_tile) / 256)
1683  056E  CE 00       	adc	a,0x00
1684  0570  47          	ld	b,a
1685  0571  7E          	ld	a,(hl)
1686  0572  C5          	push	bc
1687  0573  F5          	push	af
1688  0574  33          	inc	sp
1689  0575  CD 00 00    	call	_spr_tile
1690  0578  33          	inc	sp
1691  0579  C1          	pop	bc
1692  057A  7D          	ld	a, l
1693  057B  02          	ld	(bc),a
1694  057C              l_enemy_flip_00107:
1695  057C  33          	inc	sp
1696  057D  DD E1       	pop	ix
1697  057F  C9          	ret
1698  0580              	SECTION code_compiler
1699  0580              ;	---------------------------------
1700  0580              ; Function enemy_flip_sidestepper
1701  0580              ; ---------------------------------
1702  0580              _enemy_flip_sidestepper:
1703  0580  CD 00 00    	call	___sdcc_enter_ix
1704  0583  01 00 00    	ld	bc,_state+0
1705  0586  2A 00 00    	ld	hl,(_enemies)
1706  0589  26 00       	ld	h,0x00
1707  058B  09          	add	hl,bc
1708  058C  CB 76       	bit	6,(hl)
1709  058E  28 0D       	jr	Z,l_enemy_flip_sidestepper_00102
1710  0590  DD 6E 04    	ld	l,(ix+4)
1711  0593  DD 66 05    	ld	h,(ix+5)
1712  0596  E5          	push	hl
1713  0597  CD 97 04    	call	_enemy_flip
1714  059A  F1          	pop	af
1715  059B  18 56       	jr	l_enemy_flip_sidestepper_00104
1716  059D              l_enemy_flip_sidestepper_00102:
1717  059D  C5          	push	bc
1718  059E  3E 01       	ld	a,0x01
1719  05A0  F5          	push	af
1720  05A1  33          	inc	sp
1721  05A2  CD A2 03    	call	_enemy_flip_change_dir
1722  05A5  33          	inc	sp
1723  05A6  C1          	pop	bc
1724  05A7  79          	ld	a,c
1725  05A8  21 00 00    	ld	hl,_enemies
1726  05AB  86          	add	a, (hl)
1727  05AC  5F          	ld	e,a
1728  05AD  78          	ld	a,b
1729  05AE  CE 00       	adc	a,0x00
1730  05B0  57          	ld	d,a
1731  05B1  1A          	ld	a,(de)
1732  05B2  EE 01       	xor	a,0x01
1733  05B4  12          	ld	(de),a
1734  05B5  79          	ld	a,c
1735  05B6  86          	add	a, (hl)
1736  05B7  5F          	ld	e,a
1737  05B8  78          	ld	a,b
1738  05B9  CE 00       	adc	a,0x00
1739  05BB  57          	ld	d,a
1740  05BC  1A          	ld	a,(de)
1741  05BD  E6 FD       	and	a,0xfd
1742  05BF  12          	ld	(de),a
1743  05C0  79          	ld	a,c
1744  05C1  86          	add	a, (hl)
1745  05C2  4F          	ld	c,a
1746  05C3  78          	ld	a,b
1747  05C4  CE 00       	adc	a,0x00
1748  05C6  47          	ld	b,a
1749  05C7  0A          	ld	a,(bc)
1750  05C8  CB F7       	set	6, a
1751  05CA  02          	ld	(bc),a
1752  05CB  3E 00       	ld	a,+((_jump_lin) & 0xFF)
1753  05CD  86          	add	a, (hl)
1754  05CE  4F          	ld	c,a
1755  05CF  3E 00       	ld	a,+((_jump_lin) / 256)
1756  05D1  CE 00       	adc	a,0x00
1757  05D3  47          	ld	b,a
1758  05D4  3E 00       	ld	a,+((_lin) & 0xFF)
1759  05D6  86          	add	a, (hl)
1760  05D7  5F          	ld	e,a
1761  05D8  3E 00       	ld	a,+((_lin) / 256)
1762  05DA  CE 00       	adc	a,0x00
1763  05DC  57          	ld	d,a
1764  05DD  1A          	ld	a,(de)
1765  05DE  02          	ld	(bc),a
1766  05DF  3E 00       	ld	a,+((_tile) & 0xFF)
1767  05E1  86          	add	a, (hl)
1768  05E2  4F          	ld	c,a
1769  05E3  3E 00       	ld	a,+((_tile) / 256)
1770  05E5  CE 00       	adc	a,0x00
1771  05E7  47          	ld	b,a
1772  05E8  7E          	ld	a,(hl)
1773  05E9  C5          	push	bc
1774  05EA  F5          	push	af
1775  05EB  33          	inc	sp
1776  05EC  CD 00 00    	call	_spr_tile
1777  05EF  33          	inc	sp
1778  05F0  C1          	pop	bc
1779  05F1  7D          	ld	a, l
1780  05F2  02          	ld	(bc),a
1781  05F3              l_enemy_flip_sidestepper_00104:
1782  05F3  DD E1       	pop	ix
1783  05F5  C9          	ret
1784  05F6              	SECTION code_compiler
1785  05F6              ;	---------------------------------
1786  05F6              ; Function enemy_turn
1787  05F6              ; ---------------------------------
1788  05F6              _enemy_turn:
1789  05F6  21 00 00    	ld	hl,_sprite
1790  05F9  36 00       	ld	(hl),0x00
1791  05FB              l_enemy_turn_00123:
1792  05FB  3A 00 00    	ld	a,(_sprite)
1793  05FE  C6 00       	add	a,+((_class) & 0xFF)
1794  0600  4F          	ld	c,a
1795  0601  3E 00       	ld	a,+((_class) / 256)
1796  0603  CE 00       	adc	a,0x00
1797  0605  47          	ld	b,a
1798  0606  0A          	ld	a,(bc)
1799  0607  B7          	or	a, a
1800  0608  CA 2C 07    	jp	Z,l_enemy_turn_00121
1801  060B  21 00 00    	ld	hl,_sprite
1802  060E  E5          	push	hl
1803  060F  CD 00 00    	call	_spr_chktime
1804  0612  F1          	pop	af
1805  0613  7D          	ld	a,l
1806  0614  B7          	or	a, a
1807  0615  CA 2C 07    	jp	Z,l_enemy_turn_00121
1808  0618  3A 00 00    	ld	a,(_sprite)
1809  061B  C6 00       	add	a,+((_lin) & 0xFF)
1810  061D  4F          	ld	c,a
1811  061E  3E 00       	ld	a,+((_lin) / 256)
1812  0620  CE 00       	adc	a,0x00
1813  0622  47          	ld	b,a
1814  0623  0A          	ld	a,(bc)
1815  0624  32 00 00    	ld	(_s_lin0),a
1816  0627  3A 00 00    	ld	a,(_sprite)
1817  062A  C6 00       	add	a,+((_col) & 0xFF)
1818  062C  4F          	ld	c,a
1819  062D  3E 00       	ld	a,+((_col) / 256)
1820  062F  CE 00       	adc	a,0x00
1821  0631  47          	ld	b,a
1822  0632  0A          	ld	a,(bc)
1823  0633  32 00 00    	ld	(_s_col0),a
1824  0636  3E 00       	ld	a,+((_tile) & 0xFF)
1825  0638  21 00 00    	ld	hl,_sprite
1826  063B  86          	add	a, (hl)
1827  063C  4F          	ld	c,a
1828  063D  3E 00       	ld	a,+((_tile) / 256)
1829  063F  CE 00       	adc	a,0x00
1830  0641  47          	ld	b,a
1831  0642  0A          	ld	a,(bc)
1832  0643  4F          	ld	c,a
1833  0644  5E          	ld	e,(hl)
1834  0645  16 00       	ld	d,0x00
1835  0647  21 00 00    	ld	hl,_colint
1836  064A  19          	add	hl,de
1837  064B  7E          	ld	a,(hl)
1838  064C  81          	add	a,c
1839  064D  32 00 00    	ld	(_s_tile0),a
1840  0650  3A 00 00    	ld	a,(_sprite)
1841  0653  C6 00       	add	a,+((_state) & 0xFF)
1842  0655  4F          	ld	c,a
1843  0656  3E 00       	ld	a,+((_state) / 256)
1844  0658  CE 00       	adc	a,0x00
1845  065A  47          	ld	b,a
1846  065B  0A          	ld	a,(bc)
1847  065C  32 00 00    	ld	(_s_state),a
1848  065F  2A 00 00    	ld	hl,(_sprite)
1849  0662  26 00       	ld	h,0x00
1850  0664  29          	add	hl,hl
1851  0665  01 00 00    	ld	bc,_last_time
1852  0668  09          	add	hl,bc
1853  0669  ED 5B 00 00 	ld	de,(_curr_time)
1854  066D  73          	ld	(hl),e
1855  066E  23          	inc	hl
1856  066F  72          	ld	(hl),d
1857  0670  21 00 00    	ld	hl,_s_state
1858  0673  7E          	ld	a,(hl)
1859  0674  E6 01       	and	a,0x01
1860  0676  7E          	ld	a,(hl)
1861  0677  E6 20       	and	a,0x20
1862  0679  28 11       	jr	Z,l_enemy_turn_00102
1863  067B  7E          	ld	a,(hl)
1864  067C  E6 01       	and	a,0x01
1865  067E  20 0C       	jr	NZ,l_enemy_turn_00102
1866  0680  3A 00 00    	ld	a,(_sprite)
1867  0683  F5          	push	af
1868  0684  33          	inc	sp
1869  0685  CD 00 00    	call	_spr_killed
1870  0688  33          	inc	sp
1871  0689  C3 2C 07    	jp	l_enemy_turn_00121
1872  068C              l_enemy_turn_00102:
1873  068C  3A 00 00    	ld	a,(_s_state)
1874  068F  E6 10       	and	a,0x10
1875  0691  28 39       	jr	Z,l_enemy_turn_00107
1876  0693  21 00 00    	ld	hl,_s_state
1877  0696  7E          	ld	a,(hl)
1878  0697  E6 02       	and	a,0x02
1879  0699  20 31       	jr	NZ,l_enemy_turn_00107
1880  069B  7E          	ld	a,(hl)
1881  069C  E6 01       	and	a,0x01
1882  069E  20 2C       	jr	NZ,l_enemy_turn_00107
1883  06A0  3A 00 00    	ld	a,(_sprite)
1884  06A3  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1885  06A5  4F          	ld	c,a
1886  06A6  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1887  06A8  CE 00       	adc	a,0x00
1888  06AA  47          	ld	b,a
1889  06AB  3E 08       	ld	a,0x08
1890  06AD  02          	ld	(bc),a
1891  06AE  CD 98 0C    	call	_enemy_standard_hit
1892  06B1  2A 00 00    	ld	hl,(_sprite)
1893  06B4  26 00       	ld	h,0x00
1894  06B6  01 00 00    	ld	bc,_colint
1895  06B9  09          	add	hl,bc
1896  06BA  7E          	ld	a,(hl)
1897  06BB  3C          	inc	a
1898  06BC  77          	ld	(hl),a
1899  06BD  4D          	ld	c,l
1900  06BE  44          	ld	b,h
1901  06BF  5F          	ld	e,a
1902  06C0  3E 02       	ld	a,0x02
1903  06C2  93          	sub	a, e
1904  06C3  30 02       	jr	NC,l_enemy_turn_00105
1905  06C5  AF          	xor	a, a
1906  06C6  02          	ld	(bc),a
1907  06C7              l_enemy_turn_00105:
1908  06C7  CD 00 00    	call	_spr_redraw
1909  06CA  18 60       	jr	l_enemy_turn_00121
1910  06CC              l_enemy_turn_00107:
1911  06CC  2A 00 00    	ld	hl,(_sprite)
1912  06CF  26 00       	ld	h,0x00
1913  06D1  01 00 00    	ld	bc,_class
1914  06D4  09          	add	hl,bc
1915  06D5  7E          	ld	a,(hl)
1916  06D6  4F          	ld	c,a
1917  06D7  D6 07       	sub	a,0x07
1918  06D9  38 3C       	jr	C,l_enemy_turn_00116
1919  06DB  3E 0C       	ld	a,0x0c
1920  06DD  91          	sub	a,c
1921  06DE  38 37       	jr	C,l_enemy_turn_00116
1922  06E0  79          	ld	a,c
1923  06E1  C6 F9       	add	a,0xf9
1924  06E3  44          	ld	b,h
1925  06E4  5F          	ld	e,a
1926  06E5  16 00       	ld	d,0x00
1927  06E7  21 ED 06    	ld	hl,l_enemy_turn_00176
1928  06EA  19          	add	hl,de
1929  06EB  19          	add	hl,de
1930  06EC  E9          	jp	(hl)
1931  06ED              l_enemy_turn_00176:
1932  06ED  18 19       	jr	l_enemy_turn_00113
1933  06EF  18 1C       	jr	l_enemy_turn_00114
1934  06F1  18 10       	jr	l_enemy_turn_00112
1935  06F3  18 04       	jr	l_enemy_turn_00110
1936  06F5  18 07       	jr	l_enemy_turn_00111
1937  06F7  18 19       	jr	l_enemy_turn_00115
1938  06F9              l_enemy_turn_00110:
1939  06F9  CD 4D 09    	call	_enemy_fireball_red
1940  06FC  18 1C       	jr	l_enemy_turn_00117
1941  06FE              l_enemy_turn_00111:
1942  06FE  CD 22 0A    	call	_enemy_fireball_green
1943  0701  18 17       	jr	l_enemy_turn_00117
1944  0703              l_enemy_turn_00112:
1945  0703  CD CC 0A    	call	_enemy_fighterfly
1946  0706  18 12       	jr	l_enemy_turn_00117
1947  0708              l_enemy_turn_00113:
1948  0708  CD B3 07    	call	_enemy_slipice
1949  070B  18 0D       	jr	l_enemy_turn_00117
1950  070D              l_enemy_turn_00114:
1951  070D  CD 00 00    	call	_enemy_coin1
1952  0710  18 08       	jr	l_enemy_turn_00117
1953  0712              l_enemy_turn_00115:
1954  0712  CD 36 00    	call	_enemy_coin2
1955  0715  18 03       	jr	l_enemy_turn_00117
1956  0717              l_enemy_turn_00116:
1957  0717  CD 38 07    	call	_enemy_standard
1958  071A              l_enemy_turn_00117:
1959  071A  CD 00 00    	call	_spr_redraw
1960  071D  3A 00 00    	ld	a,(_sprite)
1961  0720  C6 00       	add	a,+((_state) & 0xFF)
1962  0722  4F          	ld	c,a
1963  0723  3E 00       	ld	a,+((_state) / 256)
1964  0725  CE 00       	adc	a,0x00
1965  0727  47          	ld	b,a
1966  0728  3A 00 00    	ld	a,(_s_state)
1967  072B  02          	ld	(bc),a
1968  072C              l_enemy_turn_00121:
1969  072C  21 00 00    	ld	hl,_sprite
1970  072F  7E          	ld	a,(hl)
1971  0730  3C          	inc	a
1972  0731  77          	ld	(hl),a
1973  0732  D6 06       	sub	a,0x06
1974  0734  DA FB 05    	jp	C,l_enemy_turn_00123
1975  0737  C9          	ret
1976  0738              	SECTION code_compiler
1977  0738              ;	---------------------------------
1978  0738              ; Function enemy_standard
1979  0738              ; ---------------------------------
1980  0738              _enemy_standard:
1981  0738  3A 00 00    	ld	a,(_s_state)
1982  073B  0F          	rrca
1983  073C  38 2D       	jr	C,l_enemy_standard_00110
1984  073E  CD 96 0D    	call	_enemy_walk
1985  0741  2A 00 00    	ld	hl,(_sprite)
1986  0744  26 00       	ld	h,0x00
1987  0746  01 00 00    	ld	bc,_lin
1988  0749  09          	add	hl,bc
1989  074A  7E          	ld	a,(hl)
1990  074B  D6 98       	sub	a,0x98
1991  074D  21 00 00    	ld	hl,_sprite
1992  0750  20 5E       	jr	NZ,l_enemy_standard_00111
1993  0752  4E          	ld	c,(hl)
1994  0753  06 00       	ld	b,0x00
1995  0755  21 00 00    	ld	hl,_col
1996  0758  09          	add	hl,bc
1997  0759  7E          	ld	a,(hl)
1998  075A  4F          	ld	c,a
1999  075B  D6 05       	sub	a,0x05
2000  075D  38 05       	jr	C,l_enemy_standard_00101
2001  075F  3E 19       	ld	a,0x19
2002  0761  91          	sub	a, c
2003  0762  30 4C       	jr	NC,l_enemy_standard_00111
2004  0764              l_enemy_standard_00101:
2005  0764  21 00 00    	ld	hl,_s_state
2006  0767  CB C6       	set	0, (hl)
2007  0769  18 45       	jr	l_enemy_standard_00111
2008  076B              l_enemy_standard_00110:
2009  076B  3A 00 00    	ld	a,(_sprite)
2010  076E  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2011  0770  4F          	ld	c,a
2012  0771  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2013  0773  CE 00       	adc	a,0x00
2014  0775  47          	ld	b,a
2015  0776  3E 01       	ld	a,0x01
2016  0778  02          	ld	(bc),a
2017  0779  CD 00 00    	call	_spr_move_horizontal
2018  077C  CD 00 00    	call	_spr_move_up
2019  077F  3A 00 00    	ld	a,(_s_state)
2020  0782  0F          	rrca
2021  0783  D2 8D 0B    	jp	NC,_enemy_trip
2022  0786  2A 00 00    	ld	hl,(_sprite)
2023  0789  26 00       	ld	h,0x00
2024  078B  5D          	ld	e,l
2025  078C  01 00 00    	ld	bc,_jump_lin
2026  078F  09          	add	hl,bc
2027  0790  4E          	ld	c,(hl)
2028  0791  06 00       	ld	b,0x00
2029  0793  50          	ld	d,b
2030  0794  21 00 00    	ld	hl,_lin
2031  0797  19          	add	hl,de
2032  0798  5E          	ld	e, (hl)
2033  0799  16 00       	ld	d,0x00
2034  079B  79          	ld	a,c
2035  079C  93          	sub	a, e
2036  079D  4F          	ld	c,a
2037  079E  78          	ld	a,b
2038  079F  9A          	sbc	a, d
2039  07A0  47          	ld	b,a
2040  07A1  79          	ld	a,c
2041  07A2  D6 0C       	sub	a,0x0c
2042  07A4  78          	ld	a,b
2043  07A5  17          	rla
2044  07A6  3F          	ccf
2045  07A7  1F          	rra
2046  07A8  DE 80       	sbc	a,0x80
2047  07AA  DA 8D 0B    	jp	C,_enemy_trip
2048  07AD  CD 00 00    	call	_spr_set_fall
2049  07B0              l_enemy_standard_00111:
2050  07B0  C3 8D 0B    	jp  _enemy_trip
2051  07B3              	SECTION code_compiler
2052  07B3              ;	---------------------------------
2053  07B3              ; Function enemy_slipice
2054  07B3              ; ---------------------------------
2055  07B3              _enemy_slipice:
2056  07B3  3A 00 00    	ld	a,(_phase_left)
2057  07B6  B7          	or	a, a
2058  07B7  CA 4C 09    	jp	Z,l_enemy_slipice_00126
2059  07BA  3A 00 00    	ld	a,(_sprite)
2060  07BD  C6 00       	add	a,+((_state) & 0xFF)
2061  07BF  4F          	ld	c,a
2062  07C0  3E 00       	ld	a,+((_state) / 256)
2063  07C2  CE 00       	adc	a,0x00
2064  07C4  47          	ld	b,a
2065  07C5  0A          	ld	a,(bc)
2066  07C6  CB 77       	bit	6, a
2067  07C8  CA 6E 08    	jp	Z,l_enemy_slipice_00122
2068  07CB  76          	halt
2069  07CC  3E 00       	ld	a,+((_col) & 0xFF)
2070  07CE  21 00 00    	ld	hl,_sprite
2071  07D1  86          	add	a, (hl)
2072  07D2  4F          	ld	c,a
2073  07D3  3E 00       	ld	a,+((_col) / 256)
2074  07D5  CE 00       	adc	a,0x00
2075  07D7  47          	ld	b,a
2076  07D8  0A          	ld	a,(bc)
2077  07D9  57          	ld	d,a
2078  07DA  3E 00       	ld	a,+((_lin) & 0xFF)
2079  07DC  86          	add	a, (hl)
2080  07DD  4F          	ld	c,a
2081  07DE  3E 00       	ld	a,+((_lin) / 256)
2082  07E0  CE 00       	adc	a,0x00
2083  07E2  47          	ld	b,a
2084  07E3  0A          	ld	a,(bc)
2085  07E4  C6 08       	add	a,0x08
2086  07E6  5F          	ld	e,a
2087  07E7  3E 00       	ld	a,+((_colint) & 0xFF)
2088  07E9  86          	add	a, (hl)
2089  07EA  4F          	ld	c,a
2090  07EB  3E 00       	ld	a,+((_colint) / 256)
2091  07ED  CE 00       	adc	a,0x00
2092  07EF  47          	ld	b,a
2093  07F0  0A          	ld	a,(bc)
2094  07F1  C6 8D       	add	a,0x8d
2095  07F3  47          	ld	b,a
2096  07F4  D5          	push	de
2097  07F5  C5          	push	bc
2098  07F6  33          	inc	sp
2099  07F7  CD 00 00    	call	_NIRVANAP_drawT_callee
2100  07FA  2A 00 00    	ld	hl,(_sprite)
2101  07FD  26 00       	ld	h,0x00
2102  07FF  01 00 00    	ld	bc,_colint
2103  0802  09          	add	hl,bc
2104  0803  7E          	ld	a,(hl)
2105  0804  3C          	inc	a
2106  0805  77          	ld	(hl),a
2107  0806  4D          	ld	c,l
2108  0807  44          	ld	b,h
2109  0808  5F          	ld	e,a
2110  0809  3E 02       	ld	a,0x02
2111  080B  93          	sub	a, e
2112  080C  30 02       	jr	NC,l_enemy_slipice_00102
2113  080E  AF          	xor	a, a
2114  080F  02          	ld	(bc),a
2115  0810              l_enemy_slipice_00102:
2116  0810  2A 00 00    	ld	hl,(_sprite)
2117  0813  26 00       	ld	h,0x00
2118  0815  29          	add	hl, hl
2119  0816  11 00 00    	ld	de,_spr_timer
2120  0819  19          	add	hl,de
2121  081A  4E          	ld	c,(hl)
2122  081B  23          	inc	hl
2123  081C  46          	ld	b,(hl)
2124  081D  21 28 00    	ld	hl,0x0028
2125  0820  E5          	push	hl
2126  0821  C5          	push	bc
2127  0822  CD 00 00    	call	_game_check_time
2128  0825  F1          	pop	af
2129  0826  F1          	pop	af
2130  0827  7D          	ld	a,l
2131  0828  B7          	or	a, a
2132  0829  CA 4C 09    	jp	Z,l_enemy_slipice_00126
2133  082C  2A 00 00    	ld	hl,(_sprite)
2134  082F  26 00       	ld	h,0x00
2135  0831  5D          	ld	e,l
2136  0832  01 00 00    	ld	bc,_col
2137  0835  09          	add	hl,bc
2138  0836  46          	ld	b,(hl)
2139  0837  16 00       	ld	d,0x00
2140  0839  21 00 00    	ld	hl,_lin
2141  083C  19          	add	hl,de
2142  083D  7E          	ld	a,(hl)
2143  083E  C6 18       	add	a,0x18
2144  0840  4F          	ld	c,a
2145  0841  C5          	push	bc
2146  0842  CD 00 00    	call	_game_freeze
2147  0845  F1          	pop	af
2148  0846  2A 00 00    	ld	hl,(_sprite)
2149  0849  26 00       	ld	h,0x00
2150  084B  5D          	ld	e,l
2151  084C  01 00 00    	ld	bc,_col
2152  084F  09          	add	hl,bc
2153  0850  46          	ld	b,(hl)
2154  0851  16 00       	ld	d,0x00
2155  0853  21 00 00    	ld	hl,_lin
2156  0856  19          	add	hl,de
2157  0857  7E          	ld	a,(hl)
2158  0858  C6 08       	add	a,0x08
2159  085A  4F          	ld	c,a
2160  085B  C5          	push	bc
2161  085C  AF          	xor	a, a
2162  085D  F5          	push	af
2163  085E  33          	inc	sp
2164  085F  CD 00 00    	call	_NIRVANAP_fillT_callee
2165  0862  3A 00 00    	ld	a,(_sprite)
2166  0865  F5          	push	af
2167  0866  33          	inc	sp
2168  0867  CD 00 00    	call	_spr_destroy
2169  086A  33          	inc	sp
2170  086B  C3 4C 09    	jp	l_enemy_slipice_00126
2171  086E              l_enemy_slipice_00122:
2172  086E  CB 47       	bit	0, a
2173  0870  C2 1D 09    	jp	NZ,l_enemy_slipice_00110
2174  0873  CB 4F       	bit	1, a
2175  0875  C2 1D 09    	jp	NZ,l_enemy_slipice_00110
2176  0878  2A 00 00    	ld	hl,(_sprite)
2177  087B  26 00       	ld	h,0x00
2178  087D  01 00 00    	ld	bc,_col
2179  0880  09          	add	hl,bc
2180  0881  7E          	ld	a,(hl)
2181  0882  4F          	ld	c,a
2182  0883  D6 07       	sub	a,0x07
2183  0885  28 0A       	jr	Z,l_enemy_slipice_00116
2184  0887  79          	ld	a,c
2185  0888  FE 0F       	cp	a,0x0f
2186  088A  28 05       	jr	Z,l_enemy_slipice_00116
2187  088C  D6 18       	sub	a,0x18
2188  088E  C2 1D 09    	jp	NZ,l_enemy_slipice_00110
2189  0891              l_enemy_slipice_00116:
2190  0891  79          	ld	a,c
2191  0892  D6 88       	sub	a,0x88
2192  0894  D2 1D 09    	jp	NC,l_enemy_slipice_00110
2193  0897  CD 00 00    	call	_rand
2194  089A  22 00 00    	ld	(_tmp_ui),hl
2195  089D  3E 00       	ld	a,+((_col) & 0xFF)
2196  089F  21 00 00    	ld	hl,_sprite
2197  08A2  86          	add	a, (hl)
2198  08A3  4F          	ld	c,a
2199  08A4  3E 00       	ld	a,+((_col) / 256)
2200  08A6  CE 00       	adc	a,0x00
2201  08A8  47          	ld	b,a
2202  08A9  0A          	ld	a,(bc)
2203  08AA  57          	ld	d,a
2204  08AB  4E          	ld	c,(hl)
2205  08AC  06 00       	ld	b,0x00
2206  08AE  21 00 00    	ld	hl,_lin
2207  08B1  09          	add	hl,bc
2208  08B2  7E          	ld	a,(hl)
2209  08B3  C6 10       	add	a,0x10
2210  08B5  5F          	ld	e, a
2211  08B6  D5          	push	de
2212  08B7  CD 00 00    	call	_game_calc_index
2213  08BA  F1          	pop	af
2214  08BB  22 00 00    	ld	(_index1),hl
2215  08BE  01 00 00    	ld	bc,_lvl_1
2216  08C1  09          	add	hl,bc
2217  08C2  7E          	ld	a,(hl)
2218  08C3  D6 12       	sub	a,0x12
2219  08C5  20 51       	jr	NZ,l_enemy_slipice_00106
2220  08C7  21 00 00    	ld	hl,_tmp_ui
2221  08CA  7E          	ld	a,(hl)
2222  08CB  D6 32       	sub	a,0x32
2223  08CD  23          	inc	hl
2224  08CE  7E          	ld	a,(hl)
2225  08CF  DE 33       	sbc	a,0x33
2226  08D1  30 45       	jr	NC,l_enemy_slipice_00106
2227  08D3  21 00 00    	ld	hl,_ay_effect_16
2228  08D6  CD 00 00    	call	_ay_fx_play
2229  08D9  21 00 00    	ld	hl,_s_state
2230  08DC  CB F6       	set	6, (hl)
2231  08DE  01 00 00    	ld	bc,_spr_timer+0
2232  08E1  2A 00 00    	ld	hl,(_sprite)
2233  08E4  26 00       	ld	h,0x00
2234  08E6  29          	add	hl, hl
2235  08E7  09          	add	hl,bc
2236  08E8  ED 5B 00 00 	ld	de,(_curr_time)
2237  08EC  73          	ld	(hl),e
2238  08ED  23          	inc	hl
2239  08EE  72          	ld	(hl),d
2240  08EF  2A 00 00    	ld	hl,(_sprite)
2241  08F2  26 00       	ld	h,0x00
2242  08F4  01 00 00    	ld	bc,_lin
2243  08F7  09          	add	hl,bc
2244  08F8  7E          	ld	a,(hl)
2245  08F9  C6 F8       	add	a,0xf8
2246  08FB  77          	ld	(hl),a
2247  08FC  3E 00       	ld	a,+((_colint) & 0xFF)
2248  08FE  21 00 00    	ld	hl,_sprite
2249  0901  86          	add	a, (hl)
2250  0902  4F          	ld	c,a
2251  0903  3E 00       	ld	a,+((_colint) / 256)
2252  0905  CE 00       	adc	a,0x00
2253  0907  47          	ld	b,a
2254  0908  AF          	xor	a, a
2255  0909  02          	ld	(bc),a
2256  090A  3E 00       	ld	a,+((_tile) & 0xFF)
2257  090C  86          	add	a, (hl)
2258  090D  4F          	ld	c,a
2259  090E  3E 00       	ld	a,+((_tile) / 256)
2260  0910  CE 00       	adc	a,0x00
2261  0912  47          	ld	b,a
2262  0913  3E 7B       	ld	a,0x7b
2263  0915  02          	ld	(bc),a
2264  0916  18 08       	jr	l_enemy_slipice_00111
2265  0918              l_enemy_slipice_00106:
2266  0918  CD 96 0D    	call	_enemy_walk
2267  091B  18 03       	jr	l_enemy_slipice_00111
2268  091D              l_enemy_slipice_00110:
2269  091D  CD 96 0D    	call	_enemy_walk
2270  0920              l_enemy_slipice_00111:
2271  0920  2A 00 00    	ld	hl,(_sprite)
2272  0923  26 00       	ld	h,0x00
2273  0925  01 00 00    	ld	bc,_lin
2274  0928  09          	add	hl,bc
2275  0929  7E          	ld	a,(hl)
2276  092A  D6 98       	sub	a,0x98
2277  092C  20 1E       	jr	NZ,l_enemy_slipice_00126
2278  092E  3A 00 00    	ld	a,(_sprite)
2279  0931  4F          	ld	c,a
2280  0932  06 00       	ld	b,0x00
2281  0934  21 00 00    	ld	hl,_col
2282  0937  09          	add	hl,bc
2283  0938  7E          	ld	a,(hl)
2284  0939  4F          	ld	c,a
2285  093A  D6 03       	sub	a,0x03
2286  093C  28 05       	jr	Z,l_enemy_slipice_00117
2287  093E  79          	ld	a,c
2288  093F  D6 1B       	sub	a,0x1b
2289  0941  20 09       	jr	NZ,l_enemy_slipice_00126
2290  0943              l_enemy_slipice_00117:
2291  0943  3A 00 00    	ld	a,(_sprite)
2292  0946  F5          	push	af
2293  0947  33          	inc	sp
2294  0948  CD 00 00    	call	_spr_destroy
2295  094B  33          	inc	sp
2296  094C              l_enemy_slipice_00126:
2297  094C  C9          	ret
2298  094D              	SECTION code_compiler
2299  094D              ;	---------------------------------
2300  094D              ; Function enemy_fireball_red
2301  094D              ; ---------------------------------
2302  094D              _enemy_fireball_red:
2303  094D  3A 00 00    	ld	a,(_phase_left)
2304  0950  B7          	or	a, a
2305  0951  CA 21 0A    	jp	Z,l_enemy_fireball_red_00118
2306  0954  01 00 00    	ld	bc,_spr_timer+0
2307  0957  2A 00 00    	ld	hl,(_sprite)
2308  095A  26 00       	ld	h,0x00
2309  095C  29          	add	hl, hl
2310  095D  09          	add	hl,bc
2311  095E  5E          	ld	e,(hl)
2312  095F  23          	inc	hl
2313  0960  56          	ld	d,(hl)
2314  0961  C5          	push	bc
2315  0962  21 DC 05    	ld	hl,0x05dc
2316  0965  E5          	push	hl
2317  0966  D5          	push	de
2318  0967  CD 00 00    	call	_game_check_time
2319  096A  F1          	pop	af
2320  096B  F1          	pop	af
2321  096C  C1          	pop	bc
2322  096D  7D          	ld	a,l
2323  096E  B7          	or	a, a
2324  096F  28 24       	jr	Z,l_enemy_fireball_red_00114
2325  0971  2A 00 00    	ld	hl,(_sprite)
2326  0974  26 00       	ld	h,0x00
2327  0976  29          	add	hl, hl
2328  0977  09          	add	hl,bc
2329  0978  ED 5B 00 00 	ld	de,(_curr_time)
2330  097C  73          	ld	(hl),e
2331  097D  23          	inc	hl
2332  097E  72          	ld	(hl),d
2333  097F  3A 00 00    	ld	a,(_sprite)
2334  0982  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2335  0984  4F          	ld	c,a
2336  0985  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2337  0987  CE 00       	adc	a,0x00
2338  0989  47          	ld	b,a
2339  098A  3E 08       	ld	a,0x08
2340  098C  02          	ld	(bc),a
2341  098D  21 00 00    	ld	hl,_s_state
2342  0990  CB EE       	set	5, (hl)
2343  0992  C3 21 0A    	jp	l_enemy_fireball_red_00118
2344  0995              l_enemy_fireball_red_00114:
2345  0995  3A 00 00    	ld	a,(_s_state)
2346  0998  0F          	rrca
2347  0999  30 0A       	jr	NC,l_enemy_fireball_red_00104
2348  099B  CD 00 00    	call	_spr_move_up
2349  099E  21 00 00    	ld	hl,_tmp
2350  09A1  36 00       	ld	(hl),0x00
2351  09A3  18 14       	jr	l_enemy_fireball_red_00105
2352  09A5              l_enemy_fireball_red_00104:
2353  09A5  CD 00 00    	call	_spr_move_down
2354  09A8  21 00 00    	ld	hl,_tmp
2355  09AB  36 10       	ld	(hl),0x10
2356  09AD  3A 00 00    	ld	a,(_s_state)
2357  09B0  E6 02       	and	a,0x02
2358  09B2  20 05       	jr	NZ,l_enemy_fireball_red_00105
2359  09B4  21 00 00    	ld	hl,_s_state
2360  09B7  CB C6       	set	0, (hl)
2361  09B9              l_enemy_fireball_red_00105:
2362  09B9  CD 00 00    	call	_spr_move_horizontal
2363  09BC  3A 00 00    	ld	a,(_s_state)
2364  09BF  E6 04       	and	a,0x04
2365  09C1  28 13       	jr	Z,l_enemy_fireball_red_00107
2366  09C3  3A 00 00    	ld	a,(_sprite)
2367  09C6  C6 00       	add	a,+((_col) & 0xFF)
2368  09C8  4F          	ld	c,a
2369  09C9  3E 00       	ld	a,+((_col) / 256)
2370  09CB  CE 00       	adc	a,0x00
2371  09CD  47          	ld	b,a
2372  09CE  0A          	ld	a,(bc)
2373  09CF  C6 02       	add	a,0x02
2374  09D1  32 00 00    	ld	(_s_col1),a
2375  09D4  18 11       	jr	l_enemy_fireball_red_00108
2376  09D6              l_enemy_fireball_red_00107:
2377  09D6  3A 00 00    	ld	a,(_sprite)
2378  09D9  C6 00       	add	a,+((_col) & 0xFF)
2379  09DB  4F          	ld	c,a
2380  09DC  3E 00       	ld	a,+((_col) / 256)
2381  09DE  CE 00       	adc	a,0x00
2382  09E0  47          	ld	b,a
2383  09E1  0A          	ld	a,(bc)
2384  09E2  C6 FF       	add	a,0xff
2385  09E4  32 00 00    	ld	(_s_col1),a
2386  09E7              l_enemy_fireball_red_00108:
2387  09E7  2A 00 00    	ld	hl,(_sprite)
2388  09EA  26 00       	ld	h,0x00
2389  09EC  01 00 00    	ld	bc,_lin
2390  09EF  09          	add	hl,bc
2391  09F0  4E          	ld	c, (hl)
2392  09F1  3A 00 00    	ld	a, (_s_col1)
2393  09F4  47          	ld	b,a
2394  09F5  C5          	push	bc
2395  09F6  CD 00 00    	call	_game_calc_index
2396  09F9  F1          	pop	af
2397  09FA  22 00 00    	ld	(_index1),hl
2398  09FD  01 00 00    	ld	bc,_lvl_1
2399  0A00  09          	add	hl,bc
2400  0A01  7E          	ld	a,(hl)
2401  0A02  D6 BF       	sub	a,0xbf
2402  0A04  30 14       	jr	NC,l_enemy_fireball_red_00109
2403  0A06  2A 00 00    	ld	hl,(_sprite)
2404  0A09  26 00       	ld	h,0x00
2405  0A0B  01 00 00    	ld	bc,_col
2406  0A0E  09          	add	hl,bc
2407  0A0F  7E          	ld	a,(hl)
2408  0A10  4F          	ld	c,a
2409  0A11  D6 02       	sub	a,0x02
2410  0A13  38 05       	jr	C,l_enemy_fireball_red_00109
2411  0A15  3E 1D       	ld	a,0x1d
2412  0A17  91          	sub	a, c
2413  0A18  30 07       	jr	NC,l_enemy_fireball_red_00118
2414  0A1A              l_enemy_fireball_red_00109:
2415  0A1A  21 00 00    	ld	hl,_s_state
2416  0A1D  7E          	ld	a,(hl)
2417  0A1E  EE 0C       	xor	a,+(0x04^0x08)
2418  0A20  77          	ld	(hl),a
2419  0A21              l_enemy_fireball_red_00118:
2420  0A21  C9          	ret
2421  0A22              	SECTION code_compiler
2422  0A22              ;	---------------------------------
2423  0A22              ; Function enemy_fireball_green
2424  0A22              ; ---------------------------------
2425  0A22              _enemy_fireball_green:
2426  0A22  3A 00 00    	ld	a,(_phase_left)
2427  0A25  B7          	or	a, a
2428  0A26  CA CB 0A    	jp	Z,l_enemy_fireball_green_00113
2429  0A29  2A 00 00    	ld	hl,(_sprite)
2430  0A2C  26 00       	ld	h,0x00
2431  0A2E  5D          	ld	e,l
2432  0A2F  01 00 00    	ld	bc,_jump_lin
2433  0A32  09          	add	hl,bc
2434  0A33  4E          	ld	c,(hl)
2435  0A34  06 00       	ld	b,0x00
2436  0A36  50          	ld	d,b
2437  0A37  21 00 00    	ld	hl,_lin
2438  0A3A  19          	add	hl,de
2439  0A3B  5E          	ld	e, (hl)
2440  0A3C  16 00       	ld	d,0x00
2441  0A3E  79          	ld	a,c
2442  0A3F  93          	sub	a, e
2443  0A40  6F          	ld	l,a
2444  0A41  78          	ld	a,b
2445  0A42  9A          	sbc	a, d
2446  0A43  67          	ld	h,a
2447  0A44  CD 00 00    	call	_abs_fastcall
2448  0A47  22 00 00    	ld	(_index1),hl
2449  0A4A  3E 08       	ld	a,0x08
2450  0A4C  21 00 00    	ld	hl,_index1
2451  0A4F  BE          	cp	a, (hl)
2452  0A50  3E 00       	ld	a,0x00
2453  0A52  23          	inc	hl
2454  0A53  9E          	sbc	a, (hl)
2455  0A54  30 1C       	jr	NC,l_enemy_fireball_green_00102
2456  0A56  21 00 00    	ld	hl,_s_state
2457  0A59  7E          	ld	a,(hl)
2458  0A5A  EE 03       	xor	a,+(0x01^0x02)
2459  0A5C  77          	ld	(hl),a
2460  0A5D  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2461  0A5F  21 00 00    	ld	hl,_sprite
2462  0A62  86          	add	a, (hl)
2463  0A63  4F          	ld	c,a
2464  0A64  3E 00       	ld	a,+((_jump_lin) / 256)
2465  0A66  CE 00       	adc	a,0x00
2466  0A68  47          	ld	b,a
2467  0A69  5E          	ld	e,(hl)
2468  0A6A  16 00       	ld	d,0x00
2469  0A6C  21 00 00    	ld	hl,_lin
2470  0A6F  19          	add	hl,de
2471  0A70  7E          	ld	a,(hl)
2472  0A71  02          	ld	(bc),a
2473  0A72              l_enemy_fireball_green_00102:
2474  0A72  3A 00 00    	ld	a,(_s_state)
2475  0A75  0F          	rrca
2476  0A76  30 08       	jr	NC,l_enemy_fireball_green_00104
2477  0A78  CD 00 00    	call	_spr_move_horizontal
2478  0A7B  CD 00 00    	call	_spr_move_up
2479  0A7E  18 06       	jr	l_enemy_fireball_green_00105
2480  0A80              l_enemy_fireball_green_00104:
2481  0A80  CD 00 00    	call	_spr_move_horizontal
2482  0A83  CD 00 00    	call	_spr_move_down
2483  0A86              l_enemy_fireball_green_00105:
2484  0A86  3A 00 00    	ld	a,(_sprite)
2485  0A89  C6 00       	add	a,+((_col) & 0xFF)
2486  0A8B  4F          	ld	c,a
2487  0A8C  3E 00       	ld	a,+((_col) / 256)
2488  0A8E  CE 00       	adc	a,0x00
2489  0A90  47          	ld	b,a
2490  0A91  0A          	ld	a,(bc)
2491  0A92  B7          	or	a, a
2492  0A93  20 07       	jr	NZ,l_enemy_fireball_green_00110
2493  0A95  3A 00 00    	ld	a,(_s_state)
2494  0A98  E6 08       	and	a,0x08
2495  0A9A  20 0B       	jr	NZ,l_enemy_fireball_green_00106
2496  0A9C              l_enemy_fireball_green_00110:
2497  0A9C  D6 1E       	sub	a,0x1e
2498  0A9E  20 2B       	jr	NZ,l_enemy_fireball_green_00113
2499  0AA0  3A 00 00    	ld	a,(_s_state)
2500  0AA3  E6 04       	and	a,0x04
2501  0AA5  28 24       	jr	Z,l_enemy_fireball_green_00113
2502  0AA7              l_enemy_fireball_green_00106:
2503  0AA7  01 00 00    	ld	bc,_spr_timer+0
2504  0AAA  2A 00 00    	ld	hl,(_sprite)
2505  0AAD  26 00       	ld	h,0x00
2506  0AAF  29          	add	hl, hl
2507  0AB0  09          	add	hl,bc
2508  0AB1  ED 5B 00 00 	ld	de,(_curr_time)
2509  0AB5  73          	ld	(hl),e
2510  0AB6  23          	inc	hl
2511  0AB7  72          	ld	(hl),d
2512  0AB8  3A 00 00    	ld	a,(_sprite)
2513  0ABB  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2514  0ABD  4F          	ld	c,a
2515  0ABE  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2516  0AC0  CE 00       	adc	a,0x00
2517  0AC2  47          	ld	b,a
2518  0AC3  3E 08       	ld	a,0x08
2519  0AC5  02          	ld	(bc),a
2520  0AC6  21 00 00    	ld	hl,_s_state
2521  0AC9  CB EE       	set	5, (hl)
2522  0ACB              l_enemy_fireball_green_00113:
2523  0ACB  C9          	ret
2524  0ACC              	SECTION code_compiler
2525  0ACC              ;	---------------------------------
2526  0ACC              ; Function enemy_fighterfly
2527  0ACC              ; ---------------------------------
2528  0ACC              _enemy_fighterfly:
2529  0ACC  3A 00 00    	ld	a,(_s_state)
2530  0ACF  0F          	rrca
2531  0AD0  38 58       	jr	C,l_enemy_fighterfly_00106
2532  0AD2  3A 00 00    	ld	a,(_s_state)
2533  0AD5  E6 02       	and	a,0x02
2534  0AD7  20 51       	jr	NZ,l_enemy_fighterfly_00106
2535  0AD9  CD 00 00    	call	_ay_is_playing
2536  0ADC  7D          	ld	a, l
2537  0ADD  D6 02       	sub	a,0x02
2538  0ADF  30 06       	jr	NC,l_enemy_fighterfly_00102
2539  0AE1  21 00 00    	ld	hl,_ay_effect_13
2540  0AE4  CD 00 00    	call	_ay_fx_play
2541  0AE7              l_enemy_fighterfly_00102:
2542  0AE7  2A 00 00    	ld	hl,(_sprite)
2543  0AEA  26 00       	ld	h,0x00
2544  0AEC  29          	add	hl, hl
2545  0AED  11 00 00    	ld	de,_spr_timer
2546  0AF0  19          	add	hl,de
2547  0AF1  4E          	ld	c,(hl)
2548  0AF2  23          	inc	hl
2549  0AF3  46          	ld	b,(hl)
2550  0AF4  21 1A 00    	ld	hl,0x001a
2551  0AF7  E5          	push	hl
2552  0AF8  C5          	push	bc
2553  0AF9  CD 00 00    	call	_game_check_time
2554  0AFC  F1          	pop	af
2555  0AFD  F1          	pop	af
2556  0AFE  7D          	ld	a,l
2557  0AFF  B7          	or	a, a
2558  0B00  28 28       	jr	Z,l_enemy_fighterfly_00106
2559  0B02  21 00 00    	ld	hl,_s_state
2560  0B05  CB C6       	set	0, (hl)
2561  0B07  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2562  0B09  21 00 00    	ld	hl,_sprite
2563  0B0C  86          	add	a, (hl)
2564  0B0D  4F          	ld	c,a
2565  0B0E  3E 00       	ld	a,+((_jump_lin) / 256)
2566  0B10  CE 00       	adc	a,0x00
2567  0B12  47          	ld	b,a
2568  0B13  3E 00       	ld	a,+((_lin) & 0xFF)
2569  0B15  86          	add	a, (hl)
2570  0B16  5F          	ld	e,a
2571  0B17  3E 00       	ld	a,+((_lin) / 256)
2572  0B19  CE 00       	adc	a,0x00
2573  0B1B  57          	ld	d,a
2574  0B1C  1A          	ld	a,(de)
2575  0B1D  02          	ld	(bc),a
2576  0B1E  6E          	ld	l, (hl)
2577  0B1F  26 00       	ld	h,0x00
2578  0B21  29          	add	hl, hl
2579  0B22  11 00 00    	ld	de,_spr_timer
2580  0B25  19          	add	hl,de
2581  0B26  AF          	xor	a, a
2582  0B27  77          	ld	(hl), a
2583  0B28  23          	inc	hl
2584  0B29  77          	ld	(hl), a
2585  0B2A              l_enemy_fighterfly_00106:
2586  0B2A  3A 00 00    	ld	a,(_s_state)
2587  0B2D  0F          	rrca
2588  0B2E  30 31       	jr	NC,l_enemy_fighterfly_00115
2589  0B30  2A 00 00    	ld	hl,(_sprite)
2590  0B33  26 00       	ld	h,0x00
2591  0B35  5D          	ld	e,l
2592  0B36  01 00 00    	ld	bc,_jump_lin
2593  0B39  09          	add	hl,bc
2594  0B3A  4E          	ld	c,(hl)
2595  0B3B  06 00       	ld	b,0x00
2596  0B3D  50          	ld	d,b
2597  0B3E  21 00 00    	ld	hl,_lin
2598  0B41  19          	add	hl,de
2599  0B42  5E          	ld	e, (hl)
2600  0B43  16 00       	ld	d,0x00
2601  0B45  79          	ld	a,c
2602  0B46  93          	sub	a, e
2603  0B47  4F          	ld	c,a
2604  0B48  78          	ld	a,b
2605  0B49  9A          	sbc	a, d
2606  0B4A  47          	ld	b,a
2607  0B4B  79          	ld	a,c
2608  0B4C  D6 08       	sub	a,0x08
2609  0B4E  78          	ld	a,b
2610  0B4F  17          	rla
2611  0B50  3F          	ccf
2612  0B51  1F          	rra
2613  0B52  DE 80       	sbc	a,0x80
2614  0B54  38 03       	jr	C,l_enemy_fighterfly_00109
2615  0B56  CD 00 00    	call	_spr_set_fall
2616  0B59              l_enemy_fighterfly_00109:
2617  0B59  CD 00 00    	call	_spr_move_horizontal
2618  0B5C  CD 00 00    	call	_spr_move_up
2619  0B5F  18 29       	jr	l_enemy_fighterfly_00116
2620  0B61              l_enemy_fighterfly_00115:
2621  0B61  01 00 00    	ld	bc,_spr_timer+0
2622  0B64  2A 00 00    	ld	hl,(_sprite)
2623  0B67  26 00       	ld	h,0x00
2624  0B69  29          	add	hl, hl
2625  0B6A  09          	add	hl,bc
2626  0B6B  4D          	ld	c,l
2627  0B6C  44          	ld	b,h
2628  0B6D  5E          	ld	e,(hl)
2629  0B6E  23          	inc	hl
2630  0B6F  7E          	ld	a, (hl)
2631  0B70  B3          	or	a,e
2632  0B71  20 09       	jr	NZ,l_enemy_fighterfly_00111
2633  0B73  ED 5B 00 00 	ld	de,(_curr_time)
2634  0B77  7B          	ld	a,e
2635  0B78  02          	ld	(bc),a
2636  0B79  03          	inc	bc
2637  0B7A  7A          	ld	a,d
2638  0B7B  02          	ld	(bc),a
2639  0B7C              l_enemy_fighterfly_00111:
2640  0B7C  3A 00 00    	ld	a,(_s_state)
2641  0B7F  E6 02       	and	a,0x02
2642  0B81  CA 8D 0B    	jp	Z,_enemy_trip
2643  0B84  CD 96 0D    	call	_enemy_walk
2644  0B87  CD 00 00    	call	_spr_move_horizontal
2645  0B8A              l_enemy_fighterfly_00116:
2646  0B8A  C3 8D 0B    	jp  _enemy_trip
2647  0B8D              	SECTION code_compiler
2648  0B8D              ;	---------------------------------
2649  0B8D              ; Function enemy_trip
2650  0B8D              ; ---------------------------------
2651  0B8D              _enemy_trip:
2652  0B8D  2A 00 00    	ld	hl,(_sprite)
2653  0B90  26 00       	ld	h,0x00
2654  0B92  01 00 00    	ld	bc,_lin
2655  0B95  09          	add	hl,bc
2656  0B96  46          	ld	b,(hl)
2657  0B97  3E 80       	ld	a,0x80
2658  0B99  90          	sub	a, b
2659  0B9A  D2 97 0C    	jp	NC,l_enemy_trip_00114
2660  0B9D  21 00 00    	ld	hl,_tmp
2661  0BA0  36 00       	ld	(hl),0x00
2662  0BA2  2A 00 00    	ld	hl,(_sprite)
2663  0BA5  26 00       	ld	h,0x00
2664  0BA7  11 00 00    	ld	de,_col
2665  0BAA  19          	add	hl,de
2666  0BAB  7E          	ld	a,(hl)
2667  0BAC  57          	ld	d,a
2668  0BAD  D6 1B       	sub	a,0x1b
2669  0BAF  20 43       	jr	NZ,l_enemy_trip_00104
2670  0BB1  21 00 00    	ld	hl,_tmp
2671  0BB4  36 01       	ld	(hl),0x01
2672  0BB6  15          	dec	d
2673  0BB7  58          	ld	e,b
2674  0BB8  D5          	push	de
2675  0BB9  AF          	xor	a, a
2676  0BBA  F5          	push	af
2677  0BBB  33          	inc	sp
2678  0BBC  CD 00 00    	call	_NIRVANAP_fillT_callee
2679  0BBF  3E 00       	ld	a,+((_lin) & 0xFF)
2680  0BC1  21 00 00    	ld	hl,_sprite
2681  0BC4  86          	add	a, (hl)
2682  0BC5  4F          	ld	c,a
2683  0BC6  3E 00       	ld	a,+((_lin) / 256)
2684  0BC8  CE 00       	adc	a,0x00
2685  0BCA  47          	ld	b,a
2686  0BCB  3E 10       	ld	a,0x10
2687  0BCD  02          	ld	(bc),a
2688  0BCE  3E 00       	ld	a,+((_col) & 0xFF)
2689  0BD0  86          	add	a, (hl)
2690  0BD1  4F          	ld	c,a
2691  0BD2  3E 00       	ld	a,+((_col) / 256)
2692  0BD4  CE 00       	adc	a,0x00
2693  0BD6  47          	ld	b,a
2694  0BD7  3E 1A       	ld	a,0x1a
2695  0BD9  02          	ld	(bc),a
2696  0BDA  21 00 00    	ld	hl,_s_state
2697  0BDD  CB DE       	set	3, (hl)
2698  0BDF  CB 96       	res	2, (hl)
2699  0BE1  CB 86       	res	0, (hl)
2700  0BE3  CD 00 00    	call	_sound_enter_enemy
2701  0BE6  CD 00 00    	call	_ay_is_playing
2702  0BE9  7D          	ld	a, l
2703  0BEA  D6 02       	sub	a,0x02
2704  0BEC  30 06       	jr	NC,l_enemy_trip_00104
2705  0BEE  21 00 00    	ld	hl,_ay_effect_04
2706  0BF1  CD 00 00    	call	_ay_fx_play
2707  0BF4              l_enemy_trip_00104:
2708  0BF4  2A 00 00    	ld	hl,(_sprite)
2709  0BF7  26 00       	ld	h,0x00
2710  0BF9  01 00 00    	ld	bc,_col
2711  0BFC  09          	add	hl,bc
2712  0BFD  7E          	ld	a,(hl)
2713  0BFE  47          	ld	b,a
2714  0BFF  D6 03       	sub	a,0x03
2715  0C01  20 4C       	jr	NZ,l_enemy_trip_00108
2716  0C03  21 00 00    	ld	hl,_tmp
2717  0C06  36 01       	ld	(hl),0x01
2718  0C08  04          	inc	b
2719  0C09  2A 00 00    	ld	hl,(_sprite)
2720  0C0C  26 00       	ld	h,0x00
2721  0C0E  11 00 00    	ld	de,_lin
2722  0C11  19          	add	hl,de
2723  0C12  4E          	ld	c, (hl)
2724  0C13  C5          	push	bc
2725  0C14  AF          	xor	a, a
2726  0C15  F5          	push	af
2727  0C16  33          	inc	sp
2728  0C17  CD 00 00    	call	_NIRVANAP_fillT_callee
2729  0C1A  3E 00       	ld	a,+((_lin) & 0xFF)
2730  0C1C  21 00 00    	ld	hl,_sprite
2731  0C1F  86          	add	a, (hl)
2732  0C20  4F          	ld	c,a
2733  0C21  3E 00       	ld	a,+((_lin) / 256)
2734  0C23  CE 00       	adc	a,0x00
2735  0C25  47          	ld	b,a
2736  0C26  3E 10       	ld	a,0x10
2737  0C28  02          	ld	(bc),a
2738  0C29  3E 00       	ld	a,+((_col) & 0xFF)
2739  0C2B  86          	add	a, (hl)
2740  0C2C  4F          	ld	c,a
2741  0C2D  3E 00       	ld	a,+((_col) / 256)
2742  0C2F  CE 00       	adc	a,0x00
2743  0C31  47          	ld	b,a
2744  0C32  3E 04       	ld	a,0x04
2745  0C34  02          	ld	(bc),a
2746  0C35  21 00 00    	ld	hl,_s_state
2747  0C38  CB D6       	set	2, (hl)
2748  0C3A  CB 9E       	res	3, (hl)
2749  0C3C  CB 86       	res	0, (hl)
2750  0C3E  CD 00 00    	call	_sound_enter_enemy
2751  0C41  CD 00 00    	call	_ay_is_playing
2752  0C44  7D          	ld	a, l
2753  0C45  D6 02       	sub	a,0x02
2754  0C47  30 06       	jr	NC,l_enemy_trip_00108
2755  0C49  21 00 00    	ld	hl,_ay_effect_04
2756  0C4C  CD 00 00    	call	_ay_fx_play
2757  0C4F              l_enemy_trip_00108:
2758  0C4F  3A 00 00    	ld	a,(_tmp)
2759  0C52  B7          	or	a, a
2760  0C53  C8          	ret	Z
2761  0C54  2A 00 00    	ld	hl,(_sprite)
2762  0C57  26 00       	ld	h,0x00
2763  0C59  01 00 00    	ld	bc,_class
2764  0C5C  09          	add	hl,bc
2765  0C5D  4E          	ld	c,(hl)
2766  0C5E  3E 03       	ld	a,0x03
2767  0C60  91          	sub	a,c
2768  0C61  D8          	ret	C
2769  0C62  3E 00       	ld	a,+((_colint) & 0xFF)
2770  0C64  21 00 00    	ld	hl,_sprite
2771  0C67  86          	add	a, (hl)
2772  0C68  4F          	ld	c,a
2773  0C69  3E 00       	ld	a,+((_colint) / 256)
2774  0C6B  CE 00       	adc	a,0x00
2775  0C6D  47          	ld	b,a
2776  0C6E  AF          	xor	a, a
2777  0C6F  02          	ld	(bc),a
2778  0C70  3E 00       	ld	a,+((_state) & 0xFF)
2779  0C72  86          	add	a, (hl)
2780  0C73  4F          	ld	c,a
2781  0C74  3E 00       	ld	a,+((_state) / 256)
2782  0C76  CE 00       	adc	a,0x00
2783  0C78  47          	ld	b,a
2784  0C79  3A 00 00    	ld	a,(_s_state)
2785  0C7C  02          	ld	(bc),a
2786  0C7D  3E 00       	ld	a,+((_tile) & 0xFF)
2787  0C7F  21 00 00    	ld	hl,_sprite
2788  0C82  86          	add	a, (hl)
2789  0C83  4F          	ld	c,a
2790  0C84  3E 00       	ld	a,+((_tile) / 256)
2791  0C86  CE 00       	adc	a,0x00
2792  0C88  47          	ld	b,a
2793  0C89  7E          	ld	a,(hl)
2794  0C8A  C5          	push	bc
2795  0C8B  F5          	push	af
2796  0C8C  33          	inc	sp
2797  0C8D  CD 00 00    	call	_spr_tile
2798  0C90  33          	inc	sp
2799  0C91  C1          	pop	bc
2800  0C92  7D          	ld	a, l
2801  0C93  02          	ld	(bc),a
2802  0C94  CD 00 00    	call	_spr_set_fall
2803  0C97              l_enemy_trip_00114:
2804  0C97  C9          	ret
2805  0C98              	SECTION code_compiler
2806  0C98              ;	---------------------------------
2807  0C98              ; Function enemy_standard_hit
2808  0C98              ; ---------------------------------
2809  0C98              _enemy_standard_hit:
2810  0C98  3A 00 00    	ld	a,(_sprite)
2811  0C9B  C6 00       	add	a,+((_state) & 0xFF)
2812  0C9D  4F          	ld	c,a
2813  0C9E  3E 00       	ld	a,+((_state) / 256)
2814  0CA0  CE 00       	adc	a,0x00
2815  0CA2  47          	ld	b,a
2816  0CA3  0A          	ld	a,(bc)
2817  0CA4  07          	rlca
2818  0CA5  38 23       	jr	C,l_enemy_standard_hit_00102
2819  0CA7  2A 00 00    	ld	hl,(_game_time_flipped)
2820  0CAA  11 CE FF    	ld	de,0xffce
2821  0CAD  19          	add	hl,de
2822  0CAE  EB          	ex	de,hl
2823  0CAF  2A 00 00    	ld	hl,(_sprite)
2824  0CB2  26 00       	ld	h,0x00
2825  0CB4  29          	add	hl, hl
2826  0CB5  01 00 00    	ld	bc,_spr_timer
2827  0CB8  09          	add	hl,bc
2828  0CB9  4E          	ld	c,(hl)
2829  0CBA  23          	inc	hl
2830  0CBB  46          	ld	b,(hl)
2831  0CBC  D5          	push	de
2832  0CBD  C5          	push	bc
2833  0CBE  CD 00 00    	call	_game_check_time
2834  0CC1  F1          	pop	af
2835  0CC2  F1          	pop	af
2836  0CC3  7D          	ld	a,l
2837  0CC4  B7          	or	a, a
2838  0CC5  28 03       	jr	Z,l_enemy_standard_hit_00102
2839  0CC7  CD 05 0D    	call	_enemy_evolve
2840  0CCA              l_enemy_standard_hit_00102:
2841  0CCA  01 00 00    	ld	bc,_spr_timer+0
2842  0CCD  2A 00 00    	ld	hl,(_sprite)
2843  0CD0  26 00       	ld	h,0x00
2844  0CD2  29          	add	hl, hl
2845  0CD3  09          	add	hl,bc
2846  0CD4  4E          	ld	c,(hl)
2847  0CD5  23          	inc	hl
2848  0CD6  46          	ld	b,(hl)
2849  0CD7  2A 00 00    	ld	hl,(_game_time_flipped)
2850  0CDA  E5          	push	hl
2851  0CDB  C5          	push	bc
2852  0CDC  CD 00 00    	call	_game_check_time
2853  0CDF  F1          	pop	af
2854  0CE0  F1          	pop	af
2855  0CE1  7D          	ld	a,l
2856  0CE2  B7          	or	a, a
2857  0CE3  C8          	ret	Z
2858  0CE4  3A 00 00    	ld	a,(_sprite)
2859  0CE7  32 00 00    	ld	(_enemies),a
2860  0CEA  F5          	push	af
2861  0CEB  33          	inc	sp
2862  0CEC  CD 00 00    	call	_spr_tile
2863  0CEF  33          	inc	sp
2864  0CF0  E5          	push	hl
2865  0CF1  CD 97 04    	call	_enemy_flip
2866  0CF4  F1          	pop	af
2867  0CF5  3A 00 00    	ld	a,(_sprite)
2868  0CF8  C6 00       	add	a,+((_state) & 0xFF)
2869  0CFA  4F          	ld	c,a
2870  0CFB  3E 00       	ld	a,+((_state) / 256)
2871  0CFD  CE 00       	adc	a,0x00
2872  0CFF  47          	ld	b,a
2873  0D00  0A          	ld	a,(bc)
2874  0D01  32 00 00    	ld	(_s_state),a
2875  0D04  C9          	ret
2876  0D05              	SECTION code_compiler
2877  0D05              ;	---------------------------------
2878  0D05              ; Function enemy_evolve
2879  0D05              ; ---------------------------------
2880  0D05              _enemy_evolve:
2881  0D05  2A 00 00    	ld	hl,(_sprite)
2882  0D08  26 00       	ld	h,0x00
2883  0D0A  01 00 00    	ld	bc,_class
2884  0D0D  09          	add	hl,bc
2885  0D0E  7E          	ld	a,(hl)
2886  0D0F  4F          	ld	c,a
2887  0D10  3D          	dec	a
2888  0D11  20 0F       	jr	NZ,l_enemy_evolve_00104
2889  0D13  21 3C 00    	ld	hl,0x003c
2890  0D16  E5          	push	hl
2891  0D17  3E 02       	ld	a,0x02
2892  0D19  F5          	push	af
2893  0D1A  33          	inc	sp
2894  0D1B  CD 64 0D    	call	_enemy_upgrade
2895  0D1E  F1          	pop	af
2896  0D1F  33          	inc	sp
2897  0D20  18 12       	jr	l_enemy_evolve_00105
2898  0D22              l_enemy_evolve_00104:
2899  0D22  79          	ld	a,c
2900  0D23  D6 02       	sub	a,0x02
2901  0D25  20 0D       	jr	NZ,l_enemy_evolve_00105
2902  0D27  21 48 00    	ld	hl,0x0048
2903  0D2A  E5          	push	hl
2904  0D2B  3E 03       	ld	a,0x03
2905  0D2D  F5          	push	af
2906  0D2E  33          	inc	sp
2907  0D2F  CD 64 0D    	call	_enemy_upgrade
2908  0D32  F1          	pop	af
2909  0D33  33          	inc	sp
2910  0D34              l_enemy_evolve_00105:
2911  0D34  2A 00 00    	ld	hl,(_sprite)
2912  0D37  26 00       	ld	h,0x00
2913  0D39  01 00 00    	ld	bc,_class
2914  0D3C  09          	add	hl,bc
2915  0D3D  7E          	ld	a,(hl)
2916  0D3E  4F          	ld	c,a
2917  0D3F  D6 04       	sub	a,0x04
2918  0D41  20 0F       	jr	NZ,l_enemy_evolve_00109
2919  0D43  21 60 00    	ld	hl,0x0060
2920  0D46  E5          	push	hl
2921  0D47  3E 05       	ld	a,0x05
2922  0D49  F5          	push	af
2923  0D4A  33          	inc	sp
2924  0D4B  CD 64 0D    	call	_enemy_upgrade
2925  0D4E  F1          	pop	af
2926  0D4F  33          	inc	sp
2927  0D50  18 11       	jr	l_enemy_evolve_00111
2928  0D52              l_enemy_evolve_00109:
2929  0D52  79          	ld	a,c
2930  0D53  D6 05       	sub	a,0x05
2931  0D55  C0          	ret	NZ
2932  0D56  21 6C 00    	ld	hl,0x006c
2933  0D59  E5          	push	hl
2934  0D5A  3E 06       	ld	a,0x06
2935  0D5C  F5          	push	af
2936  0D5D  33          	inc	sp
2937  0D5E  CD 64 0D    	call	_enemy_upgrade
2938  0D61  F1          	pop	af
2939  0D62  33          	inc	sp
2940  0D63              l_enemy_evolve_00111:
2941  0D63  C9          	ret
2942  0D64              	SECTION code_compiler
2943  0D64              ;	---------------------------------
2944  0D64              ; Function enemy_upgrade
2945  0D64              ; ---------------------------------
2946  0D64              _enemy_upgrade:
2947  0D64  CD 00 00    	call	___sdcc_enter_ix
2948  0D67  3E 00       	ld	a,+((_class) & 0xFF)
2949  0D69  21 00 00    	ld	hl,_sprite
2950  0D6C  86          	add	a, (hl)
2951  0D6D  4F          	ld	c,a
2952  0D6E  3E 00       	ld	a,+((_class) / 256)
2953  0D70  CE 00       	adc	a,0x00
2954  0D72  47          	ld	b,a
2955  0D73  DD 7E 04    	ld	a,(ix+4)
2956  0D76  02          	ld	(bc),a
2957  0D77  3E 00       	ld	a,+((_tile) & 0xFF)
2958  0D79  86          	add	a, (hl)
2959  0D7A  4F          	ld	c,a
2960  0D7B  3E 00       	ld	a,+((_tile) / 256)
2961  0D7D  CE 00       	adc	a,0x00
2962  0D7F  47          	ld	b,a
2963  0D80  DD 7E 05    	ld	a,(ix+5)
2964  0D83  C6 06       	add	a,0x06
2965  0D85  02          	ld	(bc),a
2966  0D86  3E 00       	ld	a,+((_state) & 0xFF)
2967  0D88  86          	add	a, (hl)
2968  0D89  4F          	ld	c,a
2969  0D8A  3E 00       	ld	a,+((_state) / 256)
2970  0D8C  CE 00       	adc	a,0x00
2971  0D8E  47          	ld	b,a
2972  0D8F  0A          	ld	a,(bc)
2973  0D90  CB FF       	set	7, a
2974  0D92  02          	ld	(bc),a
2975  0D93  DD E1       	pop	ix
2976  0D95  C9          	ret
2977  0D96              	SECTION code_compiler
2978  0D96              ;	---------------------------------
2979  0D96              ; Function enemy_walk
2980  0D96              ; ---------------------------------
2981  0D96              _enemy_walk:
2982  0D96  3A 00 00    	ld	a,(_s_state)
2983  0D99  0F          	rrca
2984  0D9A  38 4A       	jr	C,l_enemy_walk_00106
2985  0D9C  3A 00 00    	ld	a,(_s_state)
2986  0D9F  E6 02       	and	a,0x02
2987  0DA1  20 43       	jr	NZ,l_enemy_walk_00106
2988  0DA3  3A 00 00    	ld	a,(_sprite)
2989  0DA6  C6 00       	add	a,+((_col) & 0xFF)
2990  0DA8  4F          	ld	c,a
2991  0DA9  3E 00       	ld	a,+((_col) / 256)
2992  0DAB  CE 00       	adc	a,0x00
2993  0DAD  47          	ld	b,a
2994  0DAE  0A          	ld	a,(bc)
2995  0DAF  57          	ld	d,a
2996  0DB0  CB 47       	bit	0,a
2997  0DB2  28 14       	jr	Z,l_enemy_walk_00102
2998  0DB4  3A 00 00    	ld	a,(_s_state)
2999  0DB7  E6 10       	and	a,0x10
3000  0DB9  20 0D       	jr	NZ,l_enemy_walk_00102
3001  0DBB  21 00 00    	ld	hl,0x0000
3002  0DBE  22 00 00    	ld	(_index_d),hl
3003  0DC1  21 00 00    	ld	hl,_tmp
3004  0DC4  36 00       	ld	(hl),0x00
3005  0DC6  18 44       	jr	l_enemy_walk_00107
3006  0DC8              l_enemy_walk_00102:
3007  0DC8  3A 00 00    	ld	a,(_sprite)
3008  0DCB  C6 00       	add	a,+((_lin) & 0xFF)
3009  0DCD  4F          	ld	c,a
3010  0DCE  3E 00       	ld	a,+((_lin) / 256)
3011  0DD0  CE 00       	adc	a,0x00
3012  0DD2  47          	ld	b,a
3013  0DD3  0A          	ld	a,(bc)
3014  0DD4  C6 10       	add	a,0x10
3015  0DD6  5F          	ld	e, a
3016  0DD7  D5          	push	de
3017  0DD8  CD 00 00    	call	_game_calc_index
3018  0DDB  E3          	ex	(sp),hl
3019  0DDC  CD 00 00    	call	_game_check_maze
3020  0DDF  F1          	pop	af
3021  0DE0  7D          	ld	a,l
3022  0DE1  32 00 00    	ld	(_tmp),a
3023  0DE4  18 26       	jr	l_enemy_walk_00107
3024  0DE6              l_enemy_walk_00106:
3025  0DE6  3E 00       	ld	a,+((_col) & 0xFF)
3026  0DE8  21 00 00    	ld	hl,_sprite
3027  0DEB  86          	add	a, (hl)
3028  0DEC  4F          	ld	c,a
3029  0DED  3E 00       	ld	a,+((_col) / 256)
3030  0DEF  CE 00       	adc	a,0x00
3031  0DF1  47          	ld	b,a
3032  0DF2  0A          	ld	a,(bc)
3033  0DF3  57          	ld	d,a
3034  0DF4  4E          	ld	c,(hl)
3035  0DF5  06 00       	ld	b,0x00
3036  0DF7  21 00 00    	ld	hl,_lin
3037  0DFA  09          	add	hl,bc
3038  0DFB  7E          	ld	a,(hl)
3039  0DFC  C6 10       	add	a,0x10
3040  0DFE  5F          	ld	e, a
3041  0DFF  D5          	push	de
3042  0E00  CD 00 00    	call	_game_calc_index
3043  0E03  E3          	ex	(sp),hl
3044  0E04  CD 00 00    	call	_game_check_maze
3045  0E07  F1          	pop	af
3046  0E08  7D          	ld	a,l
3047  0E09  32 00 00    	ld	(_tmp),a
3048  0E0C              l_enemy_walk_00107:
3049  0E0C  3A 00 00    	ld	a,(_tmp)
3050  0E0F  B7          	or	a, a
3051  0E10  CA AC 0E    	jp	Z,l_enemy_walk_00133
3052  0E13  3A 00 00    	ld	a,(_s_state)
3053  0E16  0F          	rrca
3054  0E17  38 05       	jr	C,l_enemy_walk_00110
3055  0E19  21 00 00    	ld	hl,_s_state
3056  0E1C  CB CE       	set	1, (hl)
3057  0E1E              l_enemy_walk_00110:
3058  0E1E  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3059  0E20  21 00 00    	ld	hl,_sprite
3060  0E23  86          	add	a, (hl)
3061  0E24  4F          	ld	c,a
3062  0E25  3E 00       	ld	a,+((_jump_lin) / 256)
3063  0E27  CE 00       	adc	a,0x00
3064  0E29  47          	ld	b,a
3065  0E2A  0A          	ld	a,(bc)
3066  0E2B  B7          	or	a, a
3067  0E2C  20 09       	jr	NZ,l_enemy_walk_00112
3068  0E2E  5E          	ld	e,(hl)
3069  0E2F  16 00       	ld	d,0x00
3070  0E31  21 00 00    	ld	hl,_lin
3071  0E34  19          	add	hl,de
3072  0E35  7E          	ld	a,(hl)
3073  0E36  02          	ld	(bc),a
3074  0E37              l_enemy_walk_00112:
3075  0E37  3A 00 00    	ld	a,(_s_state)
3076  0E3A  E6 02       	and	a,0x02
3077  0E3C  28 11       	jr	Z,l_enemy_walk_00114
3078  0E3E  3A 00 00    	ld	a,(_sprite)
3079  0E41  C6 00       	add	a,+((_lin) & 0xFF)
3080  0E43  4F          	ld	c,a
3081  0E44  3E 00       	ld	a,+((_lin) / 256)
3082  0E46  CE 00       	adc	a,0x00
3083  0E48  47          	ld	b,a
3084  0E49  0A          	ld	a,(bc)
3085  0E4A  C6 04       	add	a,0x04
3086  0E4C  02          	ld	(bc),a
3087  0E4D  18 0F       	jr	l_enemy_walk_00115
3088  0E4F              l_enemy_walk_00114:
3089  0E4F  3A 00 00    	ld	a,(_sprite)
3090  0E52  C6 00       	add	a,+((_lin) & 0xFF)
3091  0E54  4F          	ld	c,a
3092  0E55  3E 00       	ld	a,+((_lin) / 256)
3093  0E57  CE 00       	adc	a,0x00
3094  0E59  47          	ld	b,a
3095  0E5A  0A          	ld	a,(bc)
3096  0E5B  C6 FC       	add	a,0xfc
3097  0E5D  02          	ld	(bc),a
3098  0E5E              l_enemy_walk_00115:
3099  0E5E  2A 00 00    	ld	hl,(_sprite)
3100  0E61  26 00       	ld	h,0x00
3101  0E63  01 00 00    	ld	bc,_class
3102  0E66  09          	add	hl,bc
3103  0E67  7E          	ld	a,(hl)
3104  0E68  D6 09       	sub	a,0x09
3105  0E6A  CA 74 0F    	jp	Z,l_enemy_walk_00135
3106  0E6D  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3107  0E6F  21 00 00    	ld	hl,_sprite
3108  0E72  86          	add	a, (hl)
3109  0E73  4F          	ld	c,a
3110  0E74  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3111  0E76  CE 00       	adc	a,0x00
3112  0E78  47          	ld	b,a
3113  0E79  3E 02       	ld	a,0x02
3114  0E7B  02          	ld	(bc),a
3115  0E7C  3E 00       	ld	a,+((_lin) & 0xFF)
3116  0E7E  86          	add	a, (hl)
3117  0E7F  4F          	ld	c,a
3118  0E80  3E 00       	ld	a,+((_lin) / 256)
3119  0E82  CE 00       	adc	a,0x00
3120  0E84  47          	ld	b,a
3121  0E85  0A          	ld	a,(bc)
3122  0E86  4F          	ld	c,a
3123  0E87  06 00       	ld	b,0x00
3124  0E89  5E          	ld	e,(hl)
3125  0E8A  50          	ld	d,b
3126  0E8B  21 00 00    	ld	hl,_jump_lin
3127  0E8E  19          	add	hl,de
3128  0E8F  5E          	ld	e, (hl)
3129  0E90  16 00       	ld	d,0x00
3130  0E92  79          	ld	a,c
3131  0E93  93          	sub	a, e
3132  0E94  4F          	ld	c,a
3133  0E95  78          	ld	a,b
3134  0E96  9A          	sbc	a, d
3135  0E97  47          	ld	b,a
3136  0E98  3E 10       	ld	a,0x10
3137  0E9A  B9          	cp	a, c
3138  0E9B  3E 00       	ld	a,0x00
3139  0E9D  98          	sbc	a, b
3140  0E9E  E2 A3 0E    	jp	PO, l_enemy_walk_00212
3141  0EA1  EE 80       	xor	a,0x80
3142  0EA3              l_enemy_walk_00212:
3143  0EA3  FA 74 0F    	jp	M,l_enemy_walk_00135
3144  0EA6  CD 00 00    	call	_spr_move_horizontal
3145  0EA9  C3 74 0F    	jp	l_enemy_walk_00135
3146  0EAC              l_enemy_walk_00133:
3147  0EAC  3A 00 00    	ld	a,(_s_state)
3148  0EAF  E6 02       	and	a,0x02
3149  0EB1  28 1E       	jr	Z,l_enemy_walk_00121
3150  0EB3  21 00 00    	ld	hl,_s_state
3151  0EB6  CB 8E       	res	1, (hl)
3152  0EB8  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3153  0EBA  21 00 00    	ld	hl,_sprite
3154  0EBD  86          	add	a, (hl)
3155  0EBE  4F          	ld	c,a
3156  0EBF  3E 00       	ld	a,+((_jump_lin) / 256)
3157  0EC1  CE 00       	adc	a,0x00
3158  0EC3  47          	ld	b,a
3159  0EC4  AF          	xor	a, a
3160  0EC5  02          	ld	(bc),a
3161  0EC6  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3162  0EC8  86          	add	a, (hl)
3163  0EC9  4F          	ld	c,a
3164  0ECA  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3165  0ECC  CE 00       	adc	a,0x00
3166  0ECE  47          	ld	b,a
3167  0ECF  AF          	xor	a, a
3168  0ED0  02          	ld	(bc),a
3169  0ED1              l_enemy_walk_00121:
3170  0ED1  3A 00 00    	ld	a,(_s_state)
3171  0ED4  E6 10       	and	a,0x10
3172  0ED6  20 41       	jr	NZ,l_enemy_walk_00125
3173  0ED8  3A 00 00    	ld	a,(_sprite)
3174  0EDB  C6 00       	add	a,+((_state_a) & 0xFF)
3175  0EDD  4F          	ld	c,a
3176  0EDE  3E 00       	ld	a,+((_state_a) / 256)
3177  0EE0  CE 00       	adc	a,0x00
3178  0EE2  47          	ld	b,a
3179  0EE3  0A          	ld	a,(bc)
3180  0EE4  CB 4F       	bit	1, a
3181  0EE6  20 31       	jr	NZ,l_enemy_walk_00125
3182  0EE8  01 00 00    	ld	bc,_spr_timer_c+0
3183  0EEB  2A 00 00    	ld	hl,(_sprite)
3184  0EEE  26 00       	ld	h,0x00
3185  0EF0  29          	add	hl, hl
3186  0EF1  09          	add	hl,bc
3187  0EF2  5E          	ld	e,(hl)
3188  0EF3  23          	inc	hl
3189  0EF4  56          	ld	d,(hl)
3190  0EF5  C5          	push	bc
3191  0EF6  21 05 00    	ld	hl,0x0005
3192  0EF9  E5          	push	hl
3193  0EFA  D5          	push	de
3194  0EFB  CD 00 00    	call	_game_check_time
3195  0EFE  F1          	pop	af
3196  0EFF  F1          	pop	af
3197  0F00  C1          	pop	bc
3198  0F01  7D          	ld	a,l
3199  0F02  B7          	or	a, a
3200  0F03  28 11       	jr	Z,l_enemy_walk_00123
3201  0F05  2A 00 00    	ld	hl,(_sprite)
3202  0F08  26 00       	ld	h,0x00
3203  0F0A  29          	add	hl, hl
3204  0F0B  09          	add	hl,bc
3205  0F0C  ED 5B 00 00 	ld	de,(_curr_time)
3206  0F10  73          	ld	(hl),e
3207  0F11  23          	inc	hl
3208  0F12  72          	ld	(hl),d
3209  0F13  CD 54 00    	call	_enemy_collition
3210  0F16              l_enemy_walk_00123:
3211  0F16  CD 00 00    	call	_spr_move_horizontal
3212  0F19              l_enemy_walk_00125:
3213  0F19  3A 00 00    	ld	a,(_sprite)
3214  0F1C  C6 00       	add	a,+((_state_a) & 0xFF)
3215  0F1E  4F          	ld	c,a
3216  0F1F  3E 00       	ld	a,+((_state_a) / 256)
3217  0F21  CE 00       	adc	a,0x00
3218  0F23  47          	ld	b,a
3219  0F24  0A          	ld	a,(bc)
3220  0F25  CB 4F       	bit	1, a
3221  0F27  28 4B       	jr	Z,l_enemy_walk_00135
3222  0F29  01 00 00    	ld	bc,_spr_timer+0
3223  0F2C  2A 00 00    	ld	hl,(_sprite)
3224  0F2F  26 00       	ld	h,0x00
3225  0F31  29          	add	hl, hl
3226  0F32  09          	add	hl,bc
3227  0F33  ED 5B 00 00 	ld	de,(_curr_time)
3228  0F37  73          	ld	(hl),e
3229  0F38  23          	inc	hl
3230  0F39  72          	ld	(hl),d
3231  0F3A  3A 00 00    	ld	a,(_sprite)
3232  0F3D  C6 00       	add	a,+((_colint) & 0xFF)
3233  0F3F  4F          	ld	c,a
3234  0F40  3E 00       	ld	a,+((_colint) / 256)
3235  0F42  CE 00       	adc	a,0x00
3236  0F44  47          	ld	b,a
3237  0F45  0A          	ld	a,(bc)
3238  0F46  5F          	ld	e,a
3239  0F47  D6 02       	sub	a,0x02
3240  0F49  30 05       	jr	NC,l_enemy_walk_00128
3241  0F4B  1C          	inc	e
3242  0F4C  7B          	ld	a,e
3243  0F4D  02          	ld	(bc),a
3244  0F4E  18 24       	jr	l_enemy_walk_00135
3245  0F50              l_enemy_walk_00128:
3246  0F50  2A 00 00    	ld	hl,(_sprite)
3247  0F53  26 00       	ld	h,0x00
3248  0F55  01 00 00    	ld	bc,_state_a
3249  0F58  09          	add	hl,bc
3250  0F59  7E          	ld	a,(hl)
3251  0F5A  E6 FD       	and	a,0xfd
3252  0F5C  77          	ld	(hl),a
3253  0F5D  3E 00       	ld	a,+((_tile) & 0xFF)
3254  0F5F  21 00 00    	ld	hl,_sprite
3255  0F62  86          	add	a, (hl)
3256  0F63  4F          	ld	c,a
3257  0F64  3E 00       	ld	a,+((_tile) / 256)
3258  0F66  CE 00       	adc	a,0x00
3259  0F68  47          	ld	b,a
3260  0F69  7E          	ld	a,(hl)
3261  0F6A  C5          	push	bc
3262  0F6B  F5          	push	af
3263  0F6C  33          	inc	sp
3264  0F6D  CD 00 00    	call	_spr_tile
3265  0F70  33          	inc	sp
3266  0F71  C1          	pop	bc
3267  0F72  7D          	ld	a, l
3268  0F73  02          	ld	(bc),a
3269  0F74              l_enemy_walk_00135:
3270  0F74  C9          	ret
3271  0F75              	SECTION code_compiler
3272  0F75              ;	---------------------------------
3273  0F75              ; Function enemy_init
3274  0F75              ; ---------------------------------
3275  0F75              _enemy_init:
3276  0F75  CD 00 00    	call	___sdcc_enter_ix
3277  0F78  21 00 00    	ld	hl,_spr_count
3278  0F7B  34          	inc	(hl)
3279  0F7C  3E 00       	ld	a,+((_class) & 0xFF)
3280  0F7E  DD 86 04    	add	a,(ix+4)
3281  0F81  4F          	ld	c,a
3282  0F82  3E 00       	ld	a,+((_class) / 256)
3283  0F84  CE 00       	adc	a,0x00
3284  0F86  47          	ld	b,a
3285  0F87  DD 7E 07    	ld	a,(ix+7)
3286  0F8A  02          	ld	(bc),a
3287  0F8B  3E 00       	ld	a,+((_lin) & 0xFF)
3288  0F8D  DD 86 04    	add	a,(ix+4)
3289  0F90  4F          	ld	c,a
3290  0F91  3E 00       	ld	a,+((_lin) / 256)
3291  0F93  CE 00       	adc	a,0x00
3292  0F95  47          	ld	b,a
3293  0F96  DD 7E 05    	ld	a,(ix+5)
3294  0F99  02          	ld	(bc),a
3295  0F9A  3E 00       	ld	a,+((_col) & 0xFF)
3296  0F9C  DD 86 04    	add	a,(ix+4)
3297  0F9F  4F          	ld	c,a
3298  0FA0  3E 00       	ld	a,+((_col) / 256)
3299  0FA2  CE 00       	adc	a,0x00
3300  0FA4  47          	ld	b,a
3301  0FA5  DD 7E 06    	ld	a,(ix+6)
3302  0FA8  02          	ld	(bc),a
3303  0FA9  21 00 00    	ld	hl,_tmp
3304  0FAC  36 00       	ld	(hl),0x00
3305  0FAE  3E 00       	ld	a,+((_state) & 0xFF)
3306  0FB0  DD 86 04    	add	a,(ix+4)
3307  0FB3  4F          	ld	c,a
3308  0FB4  3E 00       	ld	a,+((_state) / 256)
3309  0FB6  CE 00       	adc	a,0x00
3310  0FB8  47          	ld	b,a
3311  0FB9  AF          	xor	a, a
3312  0FBA  02          	ld	(bc),a
3313  0FBB  3E 00       	ld	a,+((_state_a) & 0xFF)
3314  0FBD  DD 86 04    	add	a,(ix+4)
3315  0FC0  5F          	ld	e,a
3316  0FC1  3E 00       	ld	a,+((_state_a) / 256)
3317  0FC3  CE 00       	adc	a,0x00
3318  0FC5  57          	ld	d,a
3319  0FC6  AF          	xor	a, a
3320  0FC7  12          	ld	(de),a
3321  0FC8  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3322  0FCA  DD 86 04    	add	a,(ix+4)
3323  0FCD  5F          	ld	e,a
3324  0FCE  3E 00       	ld	a,+((_jump_lin) / 256)
3325  0FD0  CE 00       	adc	a,0x00
3326  0FD2  57          	ld	d,a
3327  0FD3  AF          	xor	a, a
3328  0FD4  12          	ld	(de),a
3329  0FD5  0A          	ld	a,(bc)
3330  0FD6  5F          	ld	e,a
3331  0FD7  DD 7E 08    	ld	a,(ix+8)
3332  0FDA  3D          	dec	a
3333  0FDB  20 06       	jr	NZ,l_enemy_init_00102
3334  0FDD  7B          	ld	a,e
3335  0FDE  CB D7       	set	2, a
3336  0FE0  02          	ld	(bc),a
3337  0FE1  18 04       	jr	l_enemy_init_00103
3338  0FE3              l_enemy_init_00102:
3339  0FE3  7B          	ld	a,e
3340  0FE4  CB DF       	set	3, a
3341  0FE6  02          	ld	(bc),a
3342  0FE7              l_enemy_init_00103:
3343  0FE7  0A          	ld	a,(bc)
3344  0FE8  CB CF       	set	1, a
3345  0FEA  02          	ld	(bc),a
3346  0FEB  3E 00       	ld	a,+((_colint) & 0xFF)
3347  0FED  DD 86 04    	add	a,(ix+4)
3348  0FF0  4F          	ld	c,a
3349  0FF1  3E 00       	ld	a,+((_colint) / 256)
3350  0FF3  CE 00       	adc	a,0x00
3351  0FF5  47          	ld	b,a
3352  0FF6  AF          	xor	a, a
3353  0FF7  02          	ld	(bc),a
3354  0FF8  3E 00       	ld	a,+((_tile) & 0xFF)
3355  0FFA  DD 86 04    	add	a,(ix+4)
3356  0FFD  4F          	ld	c,a
3357  0FFE  3E 00       	ld	a,+((_tile) / 256)
3358  1000  CE 00       	adc	a,0x00
3359  1002  47          	ld	b,a
3360  1003  C5          	push	bc
3361  1004  DD 7E 04    	ld	a,(ix+4)
3362  1007  F5          	push	af
3363  1008  33          	inc	sp
3364  1009  CD 00 00    	call	_spr_tile
3365  100C  33          	inc	sp
3366  100D  C1          	pop	bc
3367  100E  7D          	ld	a, l
3368  100F  02          	ld	(bc),a
3369  1010  DD 4E 04    	ld	c,(ix+4)
3370  1013  06 00       	ld	b,0x00
3371  1015  CB 21       	sla	c
3372  1017  CB 10       	rl	b
3373  1019  21 00 00    	ld	hl,_last_time
3374  101C  09          	add	hl,bc
3375  101D  AF          	xor	a, a
3376  101E  77          	ld	(hl), a
3377  101F  23          	inc	hl
3378  1020  77          	ld	(hl), a
3379  1021  21 00 00    	ld	hl,_spr_timer
3380  1024  09          	add	hl,bc
3381  1025  ED 5B 00 00 	ld	de,(_curr_time)
3382  1029  73          	ld	(hl),e
3383  102A  23          	inc	hl
3384  102B  72          	ld	(hl),d
3385  102C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3386  102E  DD 86 04    	add	a,(ix+4)
3387  1031  4F          	ld	c,a
3388  1032  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3389  1034  CE 00       	adc	a,0x00
3390  1036  47          	ld	b,a
3391  1037  AF          	xor	a, a
3392  1038  02          	ld	(bc),a
3393  1039  DD E1       	pop	ix
3394  103B  C9          	ret
3395  103C              	SECTION code_compiler
3396  103C              ;	---------------------------------
3397  103C              ; Function enemy_kill
3398  103C              ; ---------------------------------
3399  103C              _enemy_kill:
3400  103C  CD 00 00    	call	___sdcc_enter_ix
3401  103F  F5          	push	af
3402  1040  76          	halt
3403  1041  CD 00 00    	call	_sound_kill
3404  1044  01 00 00    	ld	bc,_state+0
3405  1047  2A 00 00    	ld	hl,(_sprite)
3406  104A  26 00       	ld	h,0x00
3407  104C  09          	add	hl,bc
3408  104D  6E          	ld	l, (hl)
3409  104E  79          	ld	a,c
3410  104F  EB          	ex	de,hl
3411  1050  DD 86 04    	add	a,(ix+4)
3412  1053  4F          	ld	c,a
3413  1054  78          	ld	a,b
3414  1055  CE 00       	adc	a,0x00
3415  1057  47          	ld	b,a
3416  1058  0A          	ld	a,(bc)
3417  1059  CB 5B       	bit	3, e
3418  105B  28 07       	jr	Z,l_enemy_kill_00102
3419  105D  CB DF       	set	3, a
3420  105F  E6 FB       	and	a,0xfb
3421  1061  02          	ld	(bc),a
3422  1062  18 05       	jr	l_enemy_kill_00103
3423  1064              l_enemy_kill_00102:
3424  1064  CB D7       	set	2, a
3425  1066  E6 F7       	and	a,0xf7
3426  1068  02          	ld	(bc),a
3427  1069              l_enemy_kill_00103:
3428  1069  0A          	ld	a,(bc)
3429  106A  E6 FD       	and	a,0xfd
3430  106C  CB C7       	set	0,a
3431  106E  CB EF       	set	5,a
3432  1070  02          	ld	(bc),a
3433  1071  3E 00       	ld	a,+((_class) & 0xFF)
3434  1073  DD 86 04    	add	a,(ix+4)
3435  1076  DD 77 FE    	ld	(ix-2),a
3436  1079  3E 00       	ld	a,+((_class) / 256)
3437  107B  CE 00       	adc	a,0x00
3438  107D  DD 77 FF    	ld	(ix-1),a
3439  1080  E1          	pop	hl
3440  1081  7E          	ld	a,(hl)
3441  1082  E5          	push	hl
3442  1083  D6 09       	sub	a,0x09
3443  1085  20 04       	jr	NZ,l_enemy_kill_00105
3444  1087  E1          	pop	hl
3445  1088  E5          	push	hl
3446  1089  36 01       	ld	(hl),0x01
3447  108B              l_enemy_kill_00105:
3448  108B  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3449  108D  DD 86 04    	add	a,(ix+4)
3450  1090  4F          	ld	c,a
3451  1091  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3452  1093  CE 00       	adc	a,0x00
3453  1095  47          	ld	b,a
3454  1096  3E 08       	ld	a,0x08
3455  1098  02          	ld	(bc),a
3456  1099  21 00 00    	ld	hl,_hit_count
3457  109C  46          	ld	b,(hl)
3458  109D  11 50 00    	ld	de,0x0050
3459  10A0  04          	inc	b
3460  10A1  18 04       	jr	l_enemy_kill_00145
3461  10A3              l_enemy_kill_00144:
3462  10A3  CB 23       	sla	e
3463  10A5  CB 12       	rl	d
3464  10A7              l_enemy_kill_00145:
3465  10A7  10 FA       	djnz	l_enemy_kill_00144
3466  10A9  D5          	push	de
3467  10AA  CD 00 00    	call	_player_score_add
3468  10AD  F1          	pop	af
3469  10AE  21 00 00    	ld	hl,_hit_count
3470  10B1  34          	inc	(hl)
3471  10B2  01 00 00    	ld	bc,_spr_timer+0
3472  10B5  DD 6E 04    	ld	l,(ix+4)
3473  10B8  26 00       	ld	h,0x00
3474  10BA  29          	add	hl, hl
3475  10BB  09          	add	hl,bc
3476  10BC  ED 5B 00 00 	ld	de,(_curr_time)
3477  10C0  73          	ld	(hl),e
3478  10C1  23          	inc	hl
3479  10C2  72          	ld	(hl),d
3480  10C3  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3481  10C5  DD 86 04    	add	a,(ix+4)
3482  10C8  4F          	ld	c,a
3483  10C9  3E 00       	ld	a,+((_jump_lin) / 256)
3484  10CB  CE 00       	adc	a,0x00
3485  10CD  47          	ld	b,a
3486  10CE  3E 00       	ld	a,+((_lin) & 0xFF)
3487  10D0  DD 86 04    	add	a,(ix+4)
3488  10D3  5F          	ld	e,a
3489  10D4  3E 00       	ld	a,+((_lin) / 256)
3490  10D6  CE 00       	adc	a,0x00
3491  10D8  E1          	pop	hl
3492  10D9  57          	ld	d,a
3493  10DA  1A          	ld	a,(de)
3494  10DB  02          	ld	(bc),a
3495  10DC  4E          	ld	c,(hl)
3496  10DD  E5          	push	hl
3497  10DE  3E 09       	ld	a,0x09
3498  10E0  91          	sub	a, c
3499  10E1  38 0F       	jr	C,l_enemy_kill_00109
3500  10E3  3A 00 00    	ld	a,(_game_type)
3501  10E6  D6 02       	sub	a,0x02
3502  10E8  28 04       	jr	Z,l_enemy_kill_00107
3503  10EA  21 00 00    	ld	hl,_phase_left
3504  10ED  35          	dec	(hl)
3505  10EE              l_enemy_kill_00107:
3506  10EE  21 00 00    	ld	hl,_phase_coins
3507  10F1  34          	inc	(hl)
3508  10F2              l_enemy_kill_00109:
3509  10F2  3A 00 00    	ld	a,(_phase_left)
3510  10F5  B7          	or	a, a
3511  10F6  28 08       	jr	Z,l_enemy_kill_00113
3512  10F8  21 00 00    	ld	hl,_ay_effect_11
3513  10FB  CD 00 00    	call	_ay_fx_play
3514  10FE  18 0F       	jr	l_enemy_kill_00115
3515  1100              l_enemy_kill_00113:
3516  1100  CD 00 00    	call	_ay_reset
3517  1103  3A 00 00    	ld	a,(_game_bonus)
3518  1106  B7          	or	a, a
3519  1107  20 06       	jr	NZ,l_enemy_kill_00115
3520  1109  21 00 00    	ld	hl,_ay_effect_17
3521  110C  CD 00 00    	call	_ay_fx_play
3522  110F              l_enemy_kill_00115:
3523  110F  F1          	pop	af
3524  1110  DD E1       	pop	ix
3525  1112  C9          	ret
3526  1113              	SECTION IGNORE
3527  0000              
