1     0000              MODULE pietro_sprite_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _spr_chktime
183   0000              	GLOBAL _spr_move_up
184   0000              	GLOBAL _spr_move_down
185   0000              	GLOBAL _spr_move_horizontal
186   0000              	GLOBAL _spr_move_right
187   0000              	GLOBAL _spr_move_left
188   0000              	GLOBAL _spr_redraw
189   0000              	GLOBAL _spr_killed
190   0000              	GLOBAL _spr_anim_fall
191   0000              	GLOBAL _spr_anim_kill
192   0000              	GLOBAL _spr_check_over
193   0000              	GLOBAL _spr_destroy
194   0000              	GLOBAL _spr_set_fall
195   0000              	GLOBAL _spr_tile
196   0000              	GLOBAL _spr_tile_dir
197   0000              	GLOBAL _spr_draw_back
198   0000              	GLOBAL _spr_draw_clear
199   0000              	GLOBAL _spr_draw_pow
200   0000              	GLOBAL _spr_back_clr
201   0000              	GLOBAL _spr_back_fix
202   0000              	GLOBAL _spr_back_paint
203   0000              	GLOBAL _spr_brick_anim
204   0000              	GLOBAL _spr_cortina_brick
205   0000              	GLOBAL _spr_water_splash_draw
206   0000              	GLOBAL _spr_water_splash_clear
207   0000              	GLOBAL _spr_draw_index
208   0000              	GLOBAL _spr_draw_row
209   0000              ;--------------------------------------------------------
210   0000              ; Externals used
211   0000              ;--------------------------------------------------------
212   0000              	GLOBAL _debug3
213   0000              	GLOBAL _debug2
214   0000              	GLOBAL _debug
215   0000              	GLOBAL _zx_print_str
216   0000              	GLOBAL _zx_print_int
217   0000              	GLOBAL _zx_print_chr
218   0000              	GLOBAL _zx_print_bonus_time
219   0000              	GLOBAL _zx_isr
220   0000              	GLOBAL _z80_otdr_callee
221   0000              	GLOBAL _z80_otdr
222   0000              	GLOBAL _z80_otir_callee
223   0000              	GLOBAL _z80_otir
224   0000              	GLOBAL _z80_outp_callee
225   0000              	GLOBAL _z80_outp
226   0000              	GLOBAL _z80_indr_callee
227   0000              	GLOBAL _z80_indr
228   0000              	GLOBAL _z80_inir_callee
229   0000              	GLOBAL _z80_inir
230   0000              	GLOBAL _z80_inp_fastcall
231   0000              	GLOBAL _z80_inp
232   0000              	GLOBAL _z80_set_int_state_fastcall
233   0000              	GLOBAL _z80_set_int_state
234   0000              	GLOBAL _z80_get_int_state
235   0000              	GLOBAL _z80_delay_tstate_fastcall
236   0000              	GLOBAL _z80_delay_tstate
237   0000              	GLOBAL _z80_delay_ms_fastcall
238   0000              	GLOBAL _z80_delay_ms
239   0000              	GLOBAL _im2_remove_generic_callback_callee
240   0000              	GLOBAL _im2_remove_generic_callback
241   0000              	GLOBAL _im2_prepend_generic_callback_callee
242   0000              	GLOBAL _im2_prepend_generic_callback
243   0000              	GLOBAL _im2_append_generic_callback_callee
244   0000              	GLOBAL _im2_append_generic_callback
245   0000              	GLOBAL _im2_create_generic_isr_8080_callee
246   0000              	GLOBAL _im2_create_generic_isr_8080
247   0000              	GLOBAL _im2_create_generic_isr_callee
248   0000              	GLOBAL _im2_create_generic_isr
249   0000              	GLOBAL _im2_install_isr_callee
250   0000              	GLOBAL _im2_install_isr
251   0000              	GLOBAL _im2_init_fastcall
252   0000              	GLOBAL _im2_init
253   0000              	GLOBAL _zx_pattern_fill_callee
254   0000              	GLOBAL _zx_pattern_fill
255   0000              	GLOBAL _zx_saddrpup_fastcall
256   0000              	GLOBAL _zx_saddrpup
257   0000              	GLOBAL _zx_saddrpright_callee
258   0000              	GLOBAL _zx_saddrpright
259   0000              	GLOBAL _zx_saddrpleft_callee
260   0000              	GLOBAL _zx_saddrpleft
261   0000              	GLOBAL _zx_saddrpdown_fastcall
262   0000              	GLOBAL _zx_saddrpdown
263   0000              	GLOBAL _zx_saddrcup_fastcall
264   0000              	GLOBAL _zx_saddrcup
265   0000              	GLOBAL _zx_saddrcright_fastcall
266   0000              	GLOBAL _zx_saddrcright
267   0000              	GLOBAL _zx_saddrcleft_fastcall
268   0000              	GLOBAL _zx_saddrcleft
269   0000              	GLOBAL _zx_saddrcdown_fastcall
270   0000              	GLOBAL _zx_saddrcdown
271   0000              	GLOBAL _zx_saddr2py_fastcall
272   0000              	GLOBAL _zx_saddr2py
273   0000              	GLOBAL _zx_saddr2px_fastcall
274   0000              	GLOBAL _zx_saddr2px
275   0000              	GLOBAL _zx_saddr2cy_fastcall
276   0000              	GLOBAL _zx_saddr2cy
277   0000              	GLOBAL _zx_saddr2cx_fastcall
278   0000              	GLOBAL _zx_saddr2cx
279   0000              	GLOBAL _zx_saddr2aaddr_fastcall
280   0000              	GLOBAL _zx_saddr2aaddr
281   0000              	GLOBAL _zx_py2saddr_fastcall
282   0000              	GLOBAL _zx_py2saddr
283   0000              	GLOBAL _zx_py2aaddr_fastcall
284   0000              	GLOBAL _zx_py2aaddr
285   0000              	GLOBAL _zx_pxy2saddr_callee
286   0000              	GLOBAL _zx_pxy2saddr
287   0000              	GLOBAL _zx_pxy2aaddr_callee
288   0000              	GLOBAL _zx_pxy2aaddr
289   0000              	GLOBAL _zx_px2bitmask_fastcall
290   0000              	GLOBAL _zx_px2bitmask
291   0000              	GLOBAL _zx_cyx2saddr_callee
292   0000              	GLOBAL _zx_cyx2saddr
293   0000              	GLOBAL _zx_cyx2aaddr_callee
294   0000              	GLOBAL _zx_cyx2aaddr
295   0000              	GLOBAL _zx_cy2saddr_fastcall
296   0000              	GLOBAL _zx_cy2saddr
297   0000              	GLOBAL _zx_cy2aaddr_fastcall
298   0000              	GLOBAL _zx_cy2aaddr
299   0000              	GLOBAL _zx_bitmask2px_fastcall
300   0000              	GLOBAL _zx_bitmask2px
301   0000              	GLOBAL _zx_aaddrcup_fastcall
302   0000              	GLOBAL _zx_aaddrcup
303   0000              	GLOBAL _zx_aaddrcright_fastcall
304   0000              	GLOBAL _zx_aaddrcright
305   0000              	GLOBAL _zx_aaddrcleft_fastcall
306   0000              	GLOBAL _zx_aaddrcleft
307   0000              	GLOBAL _zx_aaddrcdown_fastcall
308   0000              	GLOBAL _zx_aaddrcdown
309   0000              	GLOBAL _zx_aaddr2saddr_fastcall
310   0000              	GLOBAL _zx_aaddr2saddr
311   0000              	GLOBAL _zx_aaddr2py_fastcall
312   0000              	GLOBAL _zx_aaddr2py
313   0000              	GLOBAL _zx_aaddr2px_fastcall
314   0000              	GLOBAL _zx_aaddr2px
315   0000              	GLOBAL _zx_aaddr2cy_fastcall
316   0000              	GLOBAL _zx_aaddr2cy
317   0000              	GLOBAL _zx_aaddr2cx_fastcall
318   0000              	GLOBAL _zx_aaddr2cx
319   0000              	GLOBAL _zx_scroll_wc_up_callee
320   0000              	GLOBAL _zx_scroll_wc_up
321   0000              	GLOBAL _zx_scroll_up_callee
322   0000              	GLOBAL _zx_scroll_up
323   0000              	GLOBAL _zx_cls_wc_callee
324   0000              	GLOBAL _zx_cls_wc
325   0000              	GLOBAL _zx_cls_fastcall
326   0000              	GLOBAL _zx_cls
327   0000              	GLOBAL _zx_border_fastcall
328   0000              	GLOBAL _zx_border
329   0000              	GLOBAL _enemy_ugly_fix
330   0000              	GLOBAL _enemy_kill
331   0000              	GLOBAL _enemy_init
332   0000              	GLOBAL _enemy_walk
333   0000              	GLOBAL _enemy_upgrade
334   0000              	GLOBAL _enemy_evolve
335   0000              	GLOBAL _enemy_standard_hit
336   0000              	GLOBAL _enemy_trip
337   0000              	GLOBAL _enemy_fighterfly
338   0000              	GLOBAL _enemy_fireball_green
339   0000              	GLOBAL _enemy_fireball_red
340   0000              	GLOBAL _enemy_slipice
341   0000              	GLOBAL _enemy_standard
342   0000              	GLOBAL _enemy_turn
343   0000              	GLOBAL _enemy_flip_sidestepper
344   0000              	GLOBAL _enemy_flip
345   0000              	GLOBAL _enemy_flip_change_dir
346   0000              	GLOBAL _enemy_hit
347   0000              	GLOBAL _enemy_collision_check
348   0000              	GLOBAL _enemy_collision
349   0000              	GLOBAL _enemy_coin1
350   0000              	GLOBAL _player_move_horizontal
351   0000              	GLOBAL _player_push_check
352   0000              	GLOBAL _player_push
353   0000              	GLOBAL _player_hit_brick_clear
354   0000              	GLOBAL _player_lost_life
355   0000              	GLOBAL _player_score_add
356   0000              	GLOBAL _player_coin
357   0000              	GLOBAL _player_hit_pow
358   0000              	GLOBAL _player_hit_brick
359   0000              	GLOBAL _player_move_input
360   0000              	GLOBAL _player_turn
361   0000              	GLOBAL _player_move
362   0000              	GLOBAL _player_restart
363   0000              	GLOBAL _player_kill
364   0000              	GLOBAL _player_check_input
365   0000              	GLOBAL _player_collision_check
366   0000              	GLOBAL _player_collision
367   0000              	GLOBAL _player_calc_slide
368   0000              	GLOBAL _player_init
369   0000              	GLOBAL _game_joystick_set_menu
370   0000              	GLOBAL _game_joystick_set
371   0000              	GLOBAL _game_joystick_change
372   0000              	GLOBAL _game_hall_print_p
373   0000              	GLOBAL _game_hall_edit_p
374   0000              	GLOBAL _game_hall_check
375   0000              	GLOBAL _game_hall_enter_phs
376   0000              	GLOBAL _game_print_header
377   0000              	GLOBAL _game_end
378   0000              	GLOBAL _game_hall_enter
379   0000              	GLOBAL _game_hall_of_fame
380   0000              	GLOBAL _game_score_osd
381   0000              	GLOBAL _game_phase_print_score_back
382   0000              	GLOBAL _game_bonus_clock
383   0000              	GLOBAL _game_bonus_summary_player
384   0000              	GLOBAL _game_bonus_summary
385   0000              	GLOBAL _game_check_time
386   0000              	GLOBAL _game_menu_config
387   0000              	GLOBAL _game_menu
388   0000              	GLOBAL _game_rotate_attrib
389   0000              	GLOBAL _game_colour_message
390   0000              	GLOBAL _game_paint_attrib_lin_h
391   0000              	GLOBAL _game_paint_attrib_lin
392   0000              	GLOBAL _game_paint_attrib
393   0000              	GLOBAL _game_menu_paint
394   0000              	GLOBAL _game_menu_top_paint
395   0000              	GLOBAL _game_menu_handle
396   0000              	GLOBAL _game_menu_e
397   0000              	GLOBAL _game_menu_back
398   0000              	GLOBAL _game_print_score
399   0000              	GLOBAL _game_unfreeze_all
400   0000              	GLOBAL _game_freeze_all
401   0000              	GLOBAL _game_freeze
402   0000              	GLOBAL _game_enemy_add_get_index
403   0000              	GLOBAL _game_enemy_add1
404   0000              	GLOBAL _game_enemy_quota
405   0000              	GLOBAL _game_enemy_rnd
406   0000              	GLOBAL _game_enemy_add
407   0000              	GLOBAL _game_check_maze
408   0000              	GLOBAL _game_kill_all_sprites
409   0000              	GLOBAL _game_loop
410   0000              	GLOBAL _player_set2
411   0000              	GLOBAL _player_set1
412   0000              	GLOBAL _game_phase_print
413   0000              	GLOBAL _game_phase_init
414   0000              	GLOBAL _game_phase_calc
415   0000              	GLOBAL _game_start_timer
416   0000              	GLOBAL _game_tick
417   0000              	GLOBAL _game_print_lives
418   0000              	GLOBAL _game_print_footer
419   0000              	GLOBAL _game_calc_index
420   0000              	GLOBAL _game_fill_row
421   0000              	GLOBAL _debug_func
422   0000              	GLOBAL _test_func
423   0000              	GLOBAL _in_mouse_kempston_wheel_delta
424   0000              	GLOBAL _in_mouse_kempston_wheel
425   0000              	GLOBAL _in_mouse_kempston_callee
426   0000              	GLOBAL _in_mouse_kempston
427   0000              	GLOBAL _in_mouse_kempston_setpos_callee
428   0000              	GLOBAL _in_mouse_kempston_setpos
429   0000              	GLOBAL _in_mouse_kempston_reset
430   0000              	GLOBAL _in_mouse_kempston_init
431   0000              	GLOBAL _in_mouse_amx_wheel_delta
432   0000              	GLOBAL _in_mouse_amx_wheel
433   0000              	GLOBAL _in_mouse_amx_callee
434   0000              	GLOBAL _in_mouse_amx
435   0000              	GLOBAL _in_mouse_amx_setpos_callee
436   0000              	GLOBAL _in_mouse_amx_setpos
437   0000              	GLOBAL _in_mouse_amx_reset
438   0000              	GLOBAL _in_mouse_amx_init_callee
439   0000              	GLOBAL _in_mouse_amx_init
440   0000              	GLOBAL _in_stick_sinclair2
441   0000              	GLOBAL _in_stick_sinclair1
442   0000              	GLOBAL _in_stick_kempston
443   0000              	GLOBAL _in_stick_fuller
444   0000              	GLOBAL _in_stick_cursor
445   0000              	GLOBAL _in_stick_keyboard_fastcall
446   0000              	GLOBAL _in_stick_keyboard
447   0000              	GLOBAL _in_wait_nokey
448   0000              	GLOBAL _in_wait_key
449   0000              	GLOBAL _in_test_key
450   0000              	GLOBAL _in_pause_fastcall
451   0000              	GLOBAL _in_pause
452   0000              	GLOBAL _in_key_scancode_fastcall
453   0000              	GLOBAL _in_key_scancode
454   0000              	GLOBAL _in_key_pressed_fastcall
455   0000              	GLOBAL _in_key_pressed
456   0000              	GLOBAL _in_inkey
457   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
458   0000              	GLOBAL _NIRVANAP_drawTW_raw
459   0000              	GLOBAL _NIRVANAP_drawTW_callee
460   0000              	GLOBAL _NIRVANAP_drawTW
461   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
462   0000              	GLOBAL _NIRVANAP_drawW_raw
463   0000              	GLOBAL _NIRVANAP_drawW_callee
464   0000              	GLOBAL _NIRVANAP_drawW
465   0000              	GLOBAL _NIRVANAP_spriteT_callee
466   0000              	GLOBAL _NIRVANAP_spriteT
467   0000              	GLOBAL _NIRVANAP_fillC_callee
468   0000              	GLOBAL _NIRVANAP_fillC
469   0000              	GLOBAL _NIRVANAP_readC_callee
470   0000              	GLOBAL _NIRVANAP_readC
471   0000              	GLOBAL _NIRVANAP_paintC_callee
472   0000              	GLOBAL _NIRVANAP_paintC
473   0000              	GLOBAL _NIRVANAP_printC_callee
474   0000              	GLOBAL _NIRVANAP_printC
475   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
476   0000              	GLOBAL _NIRVANAP_fillT_raw
477   0000              	GLOBAL _NIRVANAP_fillT_callee
478   0000              	GLOBAL _NIRVANAP_fillT
479   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
480   0000              	GLOBAL _NIRVANAP_drawT_raw
481   0000              	GLOBAL _NIRVANAP_drawT_callee
482   0000              	GLOBAL _NIRVANAP_drawT
483   0000              	GLOBAL _NIRVANAP_stop
484   0000              	GLOBAL _NIRVANAP_start
485   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
486   0000              	GLOBAL _intrinsic_swap_word_32
487   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
488   0000              	GLOBAL _intrinsic_swap_endian_32
489   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
490   0000              	GLOBAL _intrinsic_swap_endian_16
491   0000              	GLOBAL _intrinsic_return_de
492   0000              	GLOBAL _intrinsic_return_bc
493   0000              	GLOBAL _intrinsic_exx
494   0000              	GLOBAL _intrinsic_ex_de_hl
495   0000              	GLOBAL _intrinsic_pop_iy
496   0000              	GLOBAL _intrinsic_pop_ix
497   0000              	GLOBAL _intrinsic_pop_hl
498   0000              	GLOBAL _intrinsic_pop_de
499   0000              	GLOBAL _intrinsic_pop_bc
500   0000              	GLOBAL _intrinsic_pop_af
501   0000              	GLOBAL _intrinsic_push_iy
502   0000              	GLOBAL _intrinsic_push_ix
503   0000              	GLOBAL _intrinsic_push_hl
504   0000              	GLOBAL _intrinsic_push_de
505   0000              	GLOBAL _intrinsic_push_bc
506   0000              	GLOBAL _intrinsic_push_af
507   0000              	GLOBAL _intrinsic_nop
508   0000              	GLOBAL _intrinsic_im_2
509   0000              	GLOBAL _intrinsic_im_1
510   0000              	GLOBAL _intrinsic_im_0
511   0000              	GLOBAL _intrinsic_retn
512   0000              	GLOBAL _intrinsic_reti
513   0000              	GLOBAL _intrinsic_halt
514   0000              	GLOBAL _intrinsic_ei
515   0000              	GLOBAL _intrinsic_di
516   0000              	GLOBAL _intrinsic_stub
517   0000              	GLOBAL _joynames
518   0000              	GLOBAL _initials
519   0000              	GLOBAL _hof
520   0000              	GLOBAL _score_osd_tile
521   0000              	GLOBAL _score_osd_time
522   0000              	GLOBAL _score_osd_col
523   0000              	GLOBAL _score_osd_lin
524   0000              	GLOBAL _phase_bonus_total
525   0000              	GLOBAL _phase_angry
526   0000              	GLOBAL _phase_curr
527   0000              	GLOBAL _phase_end
528   0000              	GLOBAL _phase_coins
529   0000              	GLOBAL _phase_pop
530   0000              	GLOBAL _phase_tot
531   0000              	GLOBAL _phase_left
532   0000              	GLOBAL _phase_quota
533   0000              	GLOBAL _phases
534   0000              	GLOBAL _spr_idx
535   0000              	GLOBAL _lvl_1
536   0000              	GLOBAL _sprite_speed_alt
537   0000              	GLOBAL _sprite_speed
538   0000              	GLOBAL _screen_ink
539   0000              	GLOBAL _screen_paper
540   0000              	GLOBAL _game_menu_sel
541   0000              	GLOBAL _game_type
542   0000              	GLOBAL _game_osd
543   0000              	GLOBAL _game_bonus
544   0000              	GLOBAL _spr_water_time
545   0000              	GLOBAL _spr_water_clear
546   0000              	GLOBAL _game_time_fireball_start
547   0000              	GLOBAL _game_time_flipped
548   0000              	GLOBAL _game_score_top
549   0000              	GLOBAL _game_lives
550   0000              	GLOBAL _game_over
551   0000              	GLOBAL _game_sound
552   0000              	GLOBAL _game_inmune
553   0000              	GLOBAL _game_god_mode
554   0000              	GLOBAL _game_start_phase
555   0000              	GLOBAL _game_two_player
556   0000              	GLOBAL _game_brick_tile
557   0000              	GLOBAL _game_pow
558   0000              	GLOBAL _spr_count
559   0000              	GLOBAL _osd_time
560   0000              	GLOBAL _frame_time
561   0000              	GLOBAL _entry_time
562   0000              	GLOBAL _curr_time
563   0000              	GLOBAL _s_state
564   0000              	GLOBAL _attrib_hl
565   0000              	GLOBAL _attrib
566   0000              	GLOBAL _zx_val_asm
567   0000              	GLOBAL _enemies
568   0000              	GLOBAL _tmp_ui
569   0000              	GLOBAL _tmp_sc
570   0000              	GLOBAL _tmp_uc
571   0000              	GLOBAL _tmp1
572   0000              	GLOBAL _tmp0
573   0000              	GLOBAL _tmp
574   0000              	GLOBAL _index_d
575   0000              	GLOBAL _index3
576   0000              	GLOBAL _index2
577   0000              	GLOBAL _index1
578   0000              	GLOBAL _loop_count
579   0000              	GLOBAL _sprite_lin_inc_mul
580   0000              	GLOBAL _s_col1
581   0000              	GLOBAL _s_col0
582   0000              	GLOBAL _s_lin1
583   0000              	GLOBAL _s_lin0
584   0000              	GLOBAL _s_tile1
585   0000              	GLOBAL _s_tile0
586   0000              	GLOBAL _hit_count
587   0000              	GLOBAL _tile_offset_other_player
588   0000              	GLOBAL _tile_offset
589   0000              	GLOBAL _index_player
590   0000              	GLOBAL _sprite_other_player
591   0000              	GLOBAL _sprite
592   0000              	GLOBAL _player_joy
593   0000              	GLOBAL _player_next_extra
594   0000              	GLOBAL _player_score
595   0000              	GLOBAL _last_time
596   0000              	GLOBAL _sliding
597   0000              	GLOBAL _spr_timer_c
598   0000              	GLOBAL _spr_timer
599   0000              	GLOBAL _jump_lin
600   0000              	GLOBAL _player_jump_c
601   0000              	GLOBAL _hit_col
602   0000              	GLOBAL _hit_lin
603   0000              	GLOBAL _colint
604   0000              	GLOBAL _col
605   0000              	GLOBAL _lin
606   0000              	GLOBAL _tile
607   0000              	GLOBAL _state_a
608   0000              	GLOBAL _state
609   0000              	GLOBAL _class
610   0000              	GLOBAL _tbuffer
611   0000              	GLOBAL _dirs
612   0000              	GLOBAL _k2
613   0000              	GLOBAL _k1
614   0000              	GLOBAL _joyfunc2
615   0000              	GLOBAL _joyfunc1
616   0000              	GLOBAL _btiles
617   0000              	GLOBAL _spec128
618   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
619   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
620   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
621   0000              	GLOBAL _NIRVANAP_HOLE
622   0000              	GLOBAL _NIRVANAP_ISR_HOOK
623   0000              	GLOBAL _control_method
624   0000              	GLOBAL _hall_valids
625   0000              ;--------------------------------------------------------
626   0000              ; special function registers
627   0000              ;--------------------------------------------------------
628   0000              ;--------------------------------------------------------
629   0000              ; ram data
630   0000              ;--------------------------------------------------------
631   0000              	SECTION bss_compiler
632   0000              ;--------------------------------------------------------
633   0000              ; ram data
634   0000              ;--------------------------------------------------------
635   0000              
636   0000              IF 0
637   0000              
638   0000              ; .area _INITIALIZED removed by z88dk
639   0000              
640   0000              
641   0000              ENDIF
642   0000              
643   0000              ;--------------------------------------------------------
644   0000              ; absolute external ram data
645   0000              ;--------------------------------------------------------
646   0000              	SECTION IGNORE
647   0000              ;--------------------------------------------------------
648   0000              ; global & static initialisations
649   0000              ;--------------------------------------------------------
650   0000              	SECTION code_crt_init
651   0000              ;--------------------------------------------------------
652   0000              ; Home
653   0000              ;--------------------------------------------------------
654   0000              	SECTION IGNORE
655   0000              ;--------------------------------------------------------
656   0000              ; code
657   0000              ;--------------------------------------------------------
658   0000              	SECTION code_compiler
659   0000              ;	---------------------------------
660   0000              ; Function spr_chktime
661   0000              ; ---------------------------------
662   0000              _spr_chktime:
663   0000  CD 00 00    	call	___sdcc_enter_ix
664   0003  F5          	push	af
665   0004  DD 75 FE    	ld	(ix-2),l
666   0007  DD 74 FF    	ld	(ix-1),h
667   000A  E1          	pop	hl
668   000B  01 00 00    	ld	bc,_sprite_speed_alt+0
669   000E  5E          	ld	e,(hl)
670   000F  E5          	push	hl
671   0010  6B          	ld	l,e
672   0011  26 00       	ld	h,0x00
673   0013  09          	add	hl,bc
674   0014  7E          	ld	a,(hl)
675   0015  B7          	or	a, a
676   0016  20 13       	jr	NZ,l_spr_chktime_00102
677   0018  01 00 00    	ld	bc,_sprite_speed+0
678   001B  16 00       	ld	d,0x00
679   001D  21 00 00    	ld	hl,_class
680   0020  19          	add	hl, de
681   0021  6E          	ld	l, (hl)
682   0022  26 00       	ld	h,0x00
683   0024  09          	add	hl,bc
684   0025  7E          	ld	a,(hl)
685   0026  32 00 00    	ld	(_tmp),a
686   0029  18 03       	jr	l_spr_chktime_00103
687   002B              l_spr_chktime_00102:
688   002B  32 00 00    	ld	(_tmp),a
689   002E              l_spr_chktime_00103:
690   002E  3A 00 00    	ld	a,(_tmp)
691   0031  4F          	ld	c,a
692   0032  06 00       	ld	b,0x00
693   0034  60          	ld	h,b
694   0035  6B          	ld	l, e
695   0036  29          	add	hl, hl
696   0037  11 00 00    	ld	de,_last_time
697   003A  19          	add	hl,de
698   003B  5E          	ld	e,(hl)
699   003C  23          	inc	hl
700   003D  56          	ld	d,(hl)
701   003E  C5          	push	bc
702   003F  D5          	push	de
703   0040  CD 00 00    	call	_game_check_time
704   0043  F1          	pop	af
705   0044  F1          	pop	af
706   0045  7D          	ld	a,l
707   0046  B7          	or	a, a
708   0047  28 15       	jr	Z,l_spr_chktime_00105
709   0049  E1          	pop	hl
710   004A  E5          	push	hl
711   004B  6E          	ld	l,(hl)
712   004C  26 00       	ld	h,0x00
713   004E  29          	add	hl, hl
714   004F  01 00 00    	ld	bc,_last_time
715   0052  09          	add	hl,bc
716   0053  ED 5B 00 00 	ld	de,(_curr_time)
717   0057  73          	ld	(hl),e
718   0058  23          	inc	hl
719   0059  72          	ld	(hl),d
720   005A  2E 01       	ld	l,0x01
721   005C  18 02       	jr	l_spr_chktime_00106
722   005E              l_spr_chktime_00105:
723   005E  2E 00       	ld	l,0x00
724   0060              l_spr_chktime_00106:
725   0060  F1          	pop	af
726   0061  DD E1       	pop	ix
727   0063  C9          	ret
728   0064              	SECTION code_compiler
729   0064              ;	---------------------------------
730   0064              ; Function spr_move_up
731   0064              ; ---------------------------------
732   0064              _spr_move_up:
733   0064  2A 00 00    	ld	hl,(_sprite)
734   0067  26 00       	ld	h,0x00
735   0069  01 00 00    	ld	bc,_lin
736   006C  09          	add	hl,bc
737   006D  4E          	ld	c,(hl)
738   006E  21 00 00    	ld	hl,_sprite_lin_inc_mul
739   0071  46          	ld	b,(hl)
740   0072  1E 02       	ld	e,0x02
741   0074  04          	inc	b
742   0075  18 02       	jr	l_spr_move_up_00141
743   0077              l_spr_move_up_00140:
744   0077  CB 23       	sla	e
745   0079              l_spr_move_up_00141:
746   0079  10 FC       	djnz	l_spr_move_up_00140
747   007B  79          	ld	a,c
748   007C  93          	sub	a, e
749   007D  32 00 00    	ld	(_tmp1),a
750   0080  21 00 00    	ld	hl,_sprite
751   0083  7E          	ld	a,(hl)
752   0084  D6 06       	sub	a,0x06
753   0086  30 0C       	jr	NC,l_spr_move_up_00108
754   0088  4E          	ld	c,(hl)
755   0089  06 00       	ld	b,0x00
756   008B  21 00 00    	ld	hl,_class
757   008E  09          	add	hl,bc
758   008F  7E          	ld	a,(hl)
759   0090  D6 0A       	sub	a,0x0a
760   0092  20 42       	jr	NZ,l_spr_move_up_00109
761   0094              l_spr_move_up_00108:
762   0094  3A 00 00    	ld	a,(_sprite)
763   0097  C6 00       	add	a,+((_col) & 0xFF)
764   0099  4F          	ld	c,a
765   009A  3E 00       	ld	a,+((_col) / 256)
766   009C  CE 00       	adc	a,0x00
767   009E  47          	ld	b,a
768   009F  0A          	ld	a,(bc)
769   00A0  F5          	push	af
770   00A1  33          	inc	sp
771   00A2  3A 00 00    	ld	a,(_tmp1)
772   00A5  F5          	push	af
773   00A6  33          	inc	sp
774   00A7  CD 00 00    	call	_game_calc_index
775   00AA  F1          	pop	af
776   00AB  22 00 00    	ld	(_index1),hl
777   00AE  CD 00 00    	call	_game_check_maze
778   00B1  7D          	ld	a,l
779   00B2  B7          	or	a, a
780   00B3  20 21       	jr	NZ,l_spr_move_up_00109
781   00B5  21 00 00    	ld	hl,_sprite
782   00B8  7E          	ld	a,(hl)
783   00B9  D6 06       	sub	a,0x06
784   00BB  38 15       	jr	C,l_spr_move_up_00104
785   00BD  4E          	ld	c,(hl)
786   00BE  06 00       	ld	b,0x00
787   00C0  21 00 00    	ld	hl,_state_a
788   00C3  09          	add	hl,bc
789   00C4  7E          	ld	a,(hl)
790   00C5  07          	rlca
791   00C6  38 0A       	jr	C,l_spr_move_up_00104
792   00C8  CD 00 00    	call	_player_hit_pow
793   00CB  7D          	ld	a,l
794   00CC  B7          	or	a, a
795   00CD  20 03       	jr	NZ,l_spr_move_up_00104
796   00CF  CD 00 00    	call	_player_hit_brick
797   00D2              l_spr_move_up_00104:
798   00D2  2E 01       	ld	l,0x01
799   00D4  18 3B       	jr	l_spr_move_up_00114
800   00D6              l_spr_move_up_00109:
801   00D6  3A 00 00    	ld	a,(_sprite)
802   00D9  C6 00       	add	a,+((_lin) & 0xFF)
803   00DB  4F          	ld	c,a
804   00DC  3E 00       	ld	a,+((_lin) / 256)
805   00DE  CE 00       	adc	a,0x00
806   00E0  47          	ld	b,a
807   00E1  3A 00 00    	ld	a,(_tmp1)
808   00E4  02          	ld	(bc),a
809   00E5  3A 00 00    	ld	a,(_sprite)
810   00E8  C6 00       	add	a,+((_lin) & 0xFF)
811   00EA  4F          	ld	c,a
812   00EB  3E 00       	ld	a,+((_lin) / 256)
813   00ED  CE 00       	adc	a,0x00
814   00EF  47          	ld	b,a
815   00F0  0A          	ld	a,(bc)
816   00F1  5F          	ld	e,a
817   00F2  B7          	or	a, a
818   00F3  28 05       	jr	Z,l_spr_move_up_00111
819   00F5  3E 98       	ld	a,0x98
820   00F7  93          	sub	a, e
821   00F8  30 15       	jr	NC,l_spr_move_up_00112
822   00FA              l_spr_move_up_00111:
823   00FA  AF          	xor	a, a
824   00FB  02          	ld	(bc),a
825   00FC  3A 00 00    	ld	a,(_s_col0)
826   00FF  F5          	push	af
827   0100  33          	inc	sp
828   0101  3A 00 00    	ld	a,(_s_lin0)
829   0104  57          	ld	d,a
830   0105  1E 12       	ld	e,0x12
831   0107  D5          	push	de
832   0108  CD 00 00    	call	_NIRVANAP_fillT_callee
833   010B  2E 01       	ld	l,0x01
834   010D  18 02       	jr	l_spr_move_up_00114
835   010F              l_spr_move_up_00112:
836   010F  2E 00       	ld	l,0x00
837   0111              l_spr_move_up_00114:
838   0111  C9          	ret
839   0112              	SECTION code_compiler
840   0112              ;	---------------------------------
841   0112              ; Function spr_move_down
842   0112              ; ---------------------------------
843   0112              _spr_move_down:
844   0112  2A 00 00    	ld	hl,(_sprite)
845   0115  26 00       	ld	h,0x00
846   0117  01 00 00    	ld	bc,_lin
847   011A  09          	add	hl,bc
848   011B  4E          	ld	c,(hl)
849   011C  21 00 00    	ld	hl,_sprite_lin_inc_mul
850   011F  46          	ld	b,(hl)
851   0120  1E 02       	ld	e,0x02
852   0122  04          	inc	b
853   0123  18 02       	jr	l_spr_move_down_00116
854   0125              l_spr_move_down_00115:
855   0125  CB 23       	sla	e
856   0127              l_spr_move_down_00116:
857   0127  10 FC       	djnz	l_spr_move_down_00115
858   0129  79          	ld	a,c
859   012A  83          	add	a, e
860   012B  32 00 00    	ld	(_tmp1),a
861   012E  3A 00 00    	ld	a,(_sprite)
862   0131  C6 00       	add	a,+((_col) & 0xFF)
863   0133  4F          	ld	c,a
864   0134  3E 00       	ld	a,+((_col) / 256)
865   0136  CE 00       	adc	a,0x00
866   0138  47          	ld	b,a
867   0139  0A          	ld	a,(bc)
868   013A  57          	ld	d,a
869   013B  3A 00 00    	ld	a,(_tmp1)
870   013E  C6 10       	add	a,0x10
871   0140  5F          	ld	e, a
872   0141  D5          	push	de
873   0142  CD 00 00    	call	_game_calc_index
874   0145  F1          	pop	af
875   0146  22 00 00    	ld	(_index1),hl
876   0149  CD 00 00    	call	_game_check_maze
877   014C  3A 00 00    	ld	a,(_sprite)
878   014F  C6 00       	add	a,+((_lin) & 0xFF)
879   0151  4D          	ld	c,l
880   0152  5F          	ld	e,a
881   0153  3E 00       	ld	a,+((_lin) / 256)
882   0155  CE 00       	adc	a,0x00
883   0157  57          	ld	d,a
884   0158  79          	ld	a,c
885   0159  B7          	or	a, a
886   015A  20 12       	jr	NZ,l_spr_move_down_00102
887   015C  3A 00 00    	ld	a,(_tmp1)
888   015F  0F          	rrca
889   0160  0F          	rrca
890   0161  0F          	rrca
891   0162  E6 1F       	and	a,0x1f
892   0164  07          	rlca
893   0165  07          	rlca
894   0166  07          	rlca
895   0167  E6 F8       	and	a,0xf8
896   0169  12          	ld	(de),a
897   016A  2E 01       	ld	l,0x01
898   016C  18 24       	jr	l_spr_move_down_00105
899   016E              l_spr_move_down_00102:
900   016E  3A 00 00    	ld	a,(_tmp1)
901   0171  12          	ld	(de),a
902   0172  3A 00 00    	ld	a,(_sprite)
903   0175  C6 00       	add	a,+((_lin) & 0xFF)
904   0177  4F          	ld	c,a
905   0178  3E 00       	ld	a,+((_lin) / 256)
906   017A  CE 00       	adc	a,0x00
907   017C  47          	ld	b,a
908   017D  0A          	ld	a,(bc)
909   017E  5F          	ld	e,a
910   017F  3E 98       	ld	a,0x98
911   0181  93          	sub	a, e
912   0182  30 0C       	jr	NC,l_spr_move_down_00104
913   0184  21 00 00    	ld	hl,_s_state
914   0187  CB 8E       	res	1, (hl)
915   0189  3E 98       	ld	a,0x98
916   018B  02          	ld	(bc),a
917   018C  2E 01       	ld	l,0x01
918   018E  18 02       	jr	l_spr_move_down_00105
919   0190              l_spr_move_down_00104:
920   0190  2E 00       	ld	l,0x00
921   0192              l_spr_move_down_00105:
922   0192  C9          	ret
923   0193              	SECTION code_compiler
924   0193              ;	---------------------------------
925   0193              ; Function spr_move_horizontal
926   0193              ; ---------------------------------
927   0193              _spr_move_horizontal:
928   0193  3A 00 00    	ld	a,(_sprite)
929   0196  C6 00       	add	a,+((_state) & 0xFF)
930   0198  4F          	ld	c,a
931   0199  3E 00       	ld	a,+((_state) / 256)
932   019B  CE 00       	adc	a,0x00
933   019D  47          	ld	b,a
934   019E  0A          	ld	a,(bc)
935   019F  CB 57       	bit	2, a
936   01A1  28 05       	jr	Z,l_spr_move_horizontal_00104
937   01A3  CD AF 01    	call	_spr_move_right
938   01A6  18 06       	jr	l_spr_move_horizontal_00106
939   01A8              l_spr_move_horizontal_00104:
940   01A8  CB 5F       	bit	3, a
941   01AA  C8          	ret	Z
942   01AB  CD ED 01    	call	_spr_move_left
943   01AE              l_spr_move_horizontal_00106:
944   01AE  C9          	ret
945   01AF              	SECTION code_compiler
946   01AF              ;	---------------------------------
947   01AF              ; Function spr_move_right
948   01AF              ; ---------------------------------
949   01AF              _spr_move_right:
950   01AF  01 00 00    	ld	bc,_colint+0
951   01B2  79          	ld	a,c
952   01B3  21 00 00    	ld	hl,_sprite
953   01B6  86          	add	a, (hl)
954   01B7  5F          	ld	e,a
955   01B8  78          	ld	a,b
956   01B9  CE 00       	adc	a,0x00
957   01BB  57          	ld	d,a
958   01BC  1A          	ld	a,(de)
959   01BD  3C          	inc	a
960   01BE  12          	ld	(de),a
961   01BF  79          	ld	a,c
962   01C0  86          	add	a, (hl)
963   01C1  4F          	ld	c,a
964   01C2  78          	ld	a,b
965   01C3  CE 00       	adc	a,0x00
966   01C5  47          	ld	b,a
967   01C6  0A          	ld	a,(bc)
968   01C7  D6 03       	sub	a,0x03
969   01C9  20 1F       	jr	NZ,l_spr_move_right_00104
970   01CB  AF          	xor	a, a
971   01CC  02          	ld	(bc),a
972   01CD  01 00 00    	ld	bc,_col+0
973   01D0  79          	ld	a,c
974   01D1  86          	add	a, (hl)
975   01D2  5F          	ld	e,a
976   01D3  78          	ld	a,b
977   01D4  CE 00       	adc	a,0x00
978   01D6  57          	ld	d,a
979   01D7  1A          	ld	a,(de)
980   01D8  3C          	inc	a
981   01D9  12          	ld	(de),a
982   01DA  79          	ld	a,c
983   01DB  86          	add	a, (hl)
984   01DC  4F          	ld	c,a
985   01DD  78          	ld	a,b
986   01DE  CE 00       	adc	a,0x00
987   01E0  47          	ld	b,a
988   01E1  0A          	ld	a,(bc)
989   01E2  5F          	ld	e,a
990   01E3  3E 1E       	ld	a,0x1e
991   01E5  93          	sub	a, e
992   01E6  30 02       	jr	NC,l_spr_move_right_00104
993   01E8  AF          	xor	a, a
994   01E9  02          	ld	(bc),a
995   01EA              l_spr_move_right_00104:
996   01EA  2E 00       	ld	l,0x00
997   01EC  C9          	ret
998   01ED              	SECTION code_compiler
999   01ED              ;	---------------------------------
1000  01ED              ; Function spr_move_left
1001  01ED              ; ---------------------------------
1002  01ED              _spr_move_left:
1003  01ED  01 00 00    	ld	bc,_colint+0
1004  01F0  79          	ld	a,c
1005  01F1  21 00 00    	ld	hl,_sprite
1006  01F4  86          	add	a, (hl)
1007  01F5  5F          	ld	e,a
1008  01F6  78          	ld	a,b
1009  01F7  CE 00       	adc	a,0x00
1010  01F9  57          	ld	d,a
1011  01FA  1A          	ld	a,(de)
1012  01FB  C6 FF       	add	a,0xff
1013  01FD  12          	ld	(de),a
1014  01FE  79          	ld	a,c
1015  01FF  86          	add	a, (hl)
1016  0200  4F          	ld	c,a
1017  0201  78          	ld	a,b
1018  0202  CE 00       	adc	a,0x00
1019  0204  47          	ld	b,a
1020  0205  0A          	ld	a,(bc)
1021  0206  3C          	inc	a
1022  0207  20 1F       	jr	NZ,l_spr_move_left_00104
1023  0209  3E 02       	ld	a,0x02
1024  020B  02          	ld	(bc),a
1025  020C  01 00 00    	ld	bc,_col+0
1026  020F  79          	ld	a,c
1027  0210  86          	add	a, (hl)
1028  0211  5F          	ld	e,a
1029  0212  78          	ld	a,b
1030  0213  CE 00       	adc	a,0x00
1031  0215  57          	ld	d,a
1032  0216  1A          	ld	a,(de)
1033  0217  C6 FF       	add	a,0xff
1034  0219  12          	ld	(de),a
1035  021A  79          	ld	a,c
1036  021B  86          	add	a, (hl)
1037  021C  4F          	ld	c,a
1038  021D  78          	ld	a,b
1039  021E  CE 00       	adc	a,0x00
1040  0220  47          	ld	b,a
1041  0221  0A          	ld	a,(bc)
1042  0222  3C          	inc	a
1043  0223  20 03       	jr	NZ,l_spr_move_left_00104
1044  0225  3E 1E       	ld	a,0x1e
1045  0227  02          	ld	(bc),a
1046  0228              l_spr_move_left_00104:
1047  0228  2E 00       	ld	l,0x00
1048  022A  C9          	ret
1049  022B              	SECTION code_compiler
1050  022B              ;	---------------------------------
1051  022B              ; Function spr_redraw
1052  022B              ; ---------------------------------
1053  022B              _spr_redraw:
1054  022B  3E 00       	ld	a,+((_tile) & 0xFF)
1055  022D  21 00 00    	ld	hl,_sprite
1056  0230  86          	add	a, (hl)
1057  0231  4F          	ld	c,a
1058  0232  3E 00       	ld	a,+((_tile) / 256)
1059  0234  CE 00       	adc	a,0x00
1060  0236  47          	ld	b,a
1061  0237  0A          	ld	a,(bc)
1062  0238  4F          	ld	c,a
1063  0239  5E          	ld	e,(hl)
1064  023A  16 00       	ld	d,0x00
1065  023C  21 00 00    	ld	hl,_colint
1066  023F  19          	add	hl,de
1067  0240  7E          	ld	a,(hl)
1068  0241  81          	add	a,c
1069  0242  32 00 00    	ld	(_s_tile1),a
1070  0245  2A 00 00    	ld	hl,(_sprite)
1071  0248  26 00       	ld	h,0x00
1072  024A  01 00 00    	ld	bc,_lin
1073  024D  09          	add	hl,bc
1074  024E  46          	ld	b,(hl)
1075  024F  3A 00 00    	ld	a,(_s_lin0)
1076  0252  90          	sub	a, b
1077  0253  20 10       	jr	NZ,l_spr_redraw_00111
1078  0255  2A 00 00    	ld	hl,(_sprite)
1079  0258  26 00       	ld	h,0x00
1080  025A  11 00 00    	ld	de,_col
1081  025D  19          	add	hl,de
1082  025E  56          	ld	d, (hl)
1083  025F  3A 00 00    	ld	a,(_s_col0)
1084  0262  92          	sub	a, d
1085  0263  28 68       	jr	Z,l_spr_redraw_00112
1086  0265              l_spr_redraw_00111:
1087  0265  3E 10       	ld	a,0x10
1088  0267  21 00 00    	ld	hl,_s_lin0
1089  026A  96          	sub	a, (hl)
1090  026B  38 0C       	jr	C,l_spr_redraw_00102
1091  026D  3A 00 00    	ld	a,(_s_col0)
1092  0270  F5          	push	af
1093  0271  33          	inc	sp
1094  0272  21 00 08    	ld	hl,0x0800
1095  0275  E5          	push	hl
1096  0276  CD 00 00    	call	_NIRVANAP_fillT_callee
1097  0279              l_spr_redraw_00102:
1098  0279  3E 00       	ld	a,+((_col) & 0xFF)
1099  027B  21 00 00    	ld	hl,_sprite
1100  027E  86          	add	a, (hl)
1101  027F  4F          	ld	c,a
1102  0280  3E 00       	ld	a,+((_col) / 256)
1103  0282  CE 00       	adc	a,0x00
1104  0284  47          	ld	b,a
1105  0285  0A          	ld	a,(bc)
1106  0286  57          	ld	d,a
1107  0287  4E          	ld	c,(hl)
1108  0288  06 00       	ld	b,0x00
1109  028A  21 00 00    	ld	hl,_lin
1110  028D  09          	add	hl,bc
1111  028E  5E          	ld	e, (hl)
1112  028F  D5          	push	de
1113  0290  2A FF FF    	ld	hl,(_s_tile1 - 1)
1114  0293  3A 00 00    	ld	a,(_sprite)
1115  0296  6F          	ld	l,a
1116  0297  E5          	push	hl
1117  0298  CD 00 00    	call	_NIRVANAP_spriteT_callee
1118  029B  CD D0 04    	call	_spr_check_over
1119  029E  7D          	ld	a,l
1120  029F  B7          	or	a, a
1121  02A0  20 41       	jr	NZ,l_spr_redraw_00113
1122  02A2  3A 00 00    	ld	a,(_sprite)
1123  02A5  C6 00       	add	a,+((_state) & 0xFF)
1124  02A7  4F          	ld	c,a
1125  02A8  3E 00       	ld	a,+((_state) / 256)
1126  02AA  CE 00       	adc	a,0x00
1127  02AC  47          	ld	b,a
1128  02AD  0A          	ld	a,(bc)
1129  02AE  CB 47       	bit	0, a
1130  02B0  28 09       	jr	Z,l_spr_redraw_00104
1131  02B2  2E 10       	ld	l,0x10
1132  02B4  CD 6B 08    	call	_spr_back_fix
1133  02B7  2E 00       	ld	l,0x00
1134  02B9  18 2A       	jr	l_spr_redraw_00115
1135  02BB              l_spr_redraw_00104:
1136  02BB  CB 4F       	bit	1, a
1137  02BD  28 09       	jr	Z,l_spr_redraw_00106
1138  02BF  2E 00       	ld	l,0x00
1139  02C1  CD 6B 08    	call	_spr_back_fix
1140  02C4  2E 00       	ld	l,0x00
1141  02C6  18 1D       	jr	l_spr_redraw_00115
1142  02C8              l_spr_redraw_00106:
1143  02C8  CD 29 08    	call	_spr_back_clr
1144  02CB  18 16       	jr	l_spr_redraw_00113
1145  02CD              l_spr_redraw_00112:
1146  02CD  3A 00 00    	ld	a,(_s_tile1)
1147  02D0  21 00 00    	ld	hl,_s_tile0
1148  02D3  96          	sub	a, (hl)
1149  02D4  28 0D       	jr	Z,l_spr_redraw_00113
1150  02D6  58          	ld	e,b
1151  02D7  D5          	push	de
1152  02D8  2A FF FF    	ld	hl,(_s_tile1 - 1)
1153  02DB  3A 00 00    	ld	a,(_sprite)
1154  02DE  6F          	ld	l,a
1155  02DF  E5          	push	hl
1156  02E0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1157  02E3              l_spr_redraw_00113:
1158  02E3  2E 00       	ld	l,0x00
1159  02E5              l_spr_redraw_00115:
1160  02E5  C9          	ret
1161  02E6              	SECTION code_compiler
1162  02E6              ;	---------------------------------
1163  02E6              ; Function spr_killed
1164  02E6              ; ---------------------------------
1165  02E6              _spr_killed:
1166  02E6  45          	ld	b,l
1167  02E7  11 00 00    	ld	de,_class+0
1168  02EA  26 00       	ld	h,0x00
1169  02EC  19          	add	hl,de
1170  02ED  7E          	ld	a,(hl)
1171  02EE  4F          	ld	c,a
1172  02EF  D6 07       	sub	a,0x07
1173  02F1  28 13       	jr	Z,l_spr_killed_00101
1174  02F3  79          	ld	a,c
1175  02F4  FE 08       	cp	a,0x08
1176  02F6  28 28       	jr	Z,l_spr_killed_00103
1177  02F8  FE 0A       	cp	a,0x0a
1178  02FA  28 31       	jr	Z,l_spr_killed_00104
1179  02FC  FE 0B       	cp	a,0x0b
1180  02FE  28 42       	jr	Z,l_spr_killed_00105
1181  0300  D6 0C       	sub	a,0x0c
1182  0302  28 0F       	jr	Z,l_spr_killed_00102
1183  0304  18 51       	jr	l_spr_killed_00106
1184  0306              l_spr_killed_00101:
1185  0306  21 81 00    	ld	hl,0x0081
1186  0309  E5          	push	hl
1187  030A  C5          	push	bc
1188  030B  33          	inc	sp
1189  030C  CD 44 04    	call	_spr_anim_kill
1190  030F  F1          	pop	af
1191  0310  33          	inc	sp
1192  0311  18 48       	jr	l_spr_killed_00107
1193  0313              l_spr_killed_00102:
1194  0313  21 BA 00    	ld	hl,0x00ba
1195  0316  E5          	push	hl
1196  0317  C5          	push	bc
1197  0318  33          	inc	sp
1198  0319  CD 44 04    	call	_spr_anim_kill
1199  031C  F1          	pop	af
1200  031D  33          	inc	sp
1201  031E  18 3B       	jr	l_spr_killed_00107
1202  0320              l_spr_killed_00103:
1203  0320  21 BA 00    	ld	hl,0x00ba
1204  0323  E5          	push	hl
1205  0324  C5          	push	bc
1206  0325  33          	inc	sp
1207  0326  CD 44 04    	call	_spr_anim_kill
1208  0329  F1          	pop	af
1209  032A  33          	inc	sp
1210  032B  18 2E       	jr	l_spr_killed_00107
1211  032D              l_spr_killed_00104:
1212  032D  C5          	push	bc
1213  032E  68          	ld	l,b
1214  032F  CD E9 05    	call	_spr_tile
1215  0332  EB          	ex	de,hl
1216  0333  C1          	pop	bc
1217  0334  EB          	ex	de,hl
1218  0335  23          	inc	hl
1219  0336  23          	inc	hl
1220  0337  23          	inc	hl
1221  0338  E5          	push	hl
1222  0339  C5          	push	bc
1223  033A  33          	inc	sp
1224  033B  CD 44 04    	call	_spr_anim_kill
1225  033E  F1          	pop	af
1226  033F  33          	inc	sp
1227  0340  18 19       	jr	l_spr_killed_00107
1228  0342              l_spr_killed_00105:
1229  0342  C5          	push	bc
1230  0343  68          	ld	l,b
1231  0344  CD E9 05    	call	_spr_tile
1232  0347  EB          	ex	de,hl
1233  0348  C1          	pop	bc
1234  0349  EB          	ex	de,hl
1235  034A  23          	inc	hl
1236  034B  23          	inc	hl
1237  034C  23          	inc	hl
1238  034D  E5          	push	hl
1239  034E  C5          	push	bc
1240  034F  33          	inc	sp
1241  0350  CD 44 04    	call	_spr_anim_kill
1242  0353  F1          	pop	af
1243  0354  33          	inc	sp
1244  0355  18 04       	jr	l_spr_killed_00107
1245  0357              l_spr_killed_00106:
1246  0357  68          	ld	l,b
1247  0358  CD 5E 03    	call	_spr_anim_fall
1248  035B              l_spr_killed_00107:
1249  035B  2E 00       	ld	l,0x00
1250  035D  C9          	ret
1251  035E              	SECTION code_compiler
1252  035E              ;	---------------------------------
1253  035E              ; Function spr_anim_fall
1254  035E              ; ---------------------------------
1255  035E              _spr_anim_fall:
1256  035E  CD 00 00    	call	___sdcc_enter_ix
1257  0361  F5          	push	af
1258  0362  45          	ld	b,l
1259  0363  3E 00       	ld	a,+((_lin) & 0xFF)
1260  0365  80          	add	a, b
1261  0366  DD 77 FE    	ld	(ix-2),a
1262  0369  3E 00       	ld	a,+((_lin) / 256)
1263  036B  CE 00       	adc	a,0x00
1264  036D  DD 77 FF    	ld	(ix-1),a
1265  0370  E1          	pop	hl
1266  0371  7E          	ld	a,(hl)
1267  0372  E5          	push	hl
1268  0373  4F          	ld	c,a
1269  0374  D6 98       	sub	a,0x98
1270  0376  30 3D       	jr	NC,l_spr_anim_fall_00110
1271  0378  11 00 00    	ld	de,_col+0
1272  037B  68          	ld	l,b
1273  037C  26 00       	ld	h,0x00
1274  037E  19          	add	hl,de
1275  037F  7E          	ld	a,(hl)
1276  0380  32 00 00    	ld	(_s_col0),a
1277  0383  21 00 00    	ld	hl,_s_lin0
1278  0386  71          	ld	(hl),c
1279  0387  C5          	push	bc
1280  0388  CD 00 00    	call	_enemy_ugly_fix
1281  038B  C1          	pop	bc
1282  038C  21 00 00    	ld	hl,_s_lin0
1283  038F  4E          	ld	c,(hl)
1284  0390  0C          	inc	c
1285  0391  0C          	inc	c
1286  0392  0C          	inc	c
1287  0393  0C          	inc	c
1288  0394  E1          	pop	hl
1289  0395  E5          	push	hl
1290  0396  71          	ld	(hl),c
1291  0397  11 00 00    	ld	de,_tile+0
1292  039A  68          	ld	l,b
1293  039B  26 00       	ld	h,0x00
1294  039D  19          	add	hl,de
1295  039E  56          	ld	d,(hl)
1296  039F  3A 00 00    	ld	a,(_s_col0)
1297  03A2  F5          	push	af
1298  03A3  33          	inc	sp
1299  03A4  79          	ld	a,c
1300  03A5  5A          	ld	e,d
1301  03A6  57          	ld	d,a
1302  03A7  D5          	push	de
1303  03A8  C5          	push	bc
1304  03A9  33          	inc	sp
1305  03AA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1306  03AD  2E 00       	ld	l,0x00
1307  03AF  CD 6B 08    	call	_spr_back_fix
1308  03B2  C3 40 04    	jp	l_spr_anim_fall_00112
1309  03B5              l_spr_anim_fall_00110:
1310  03B5  3E 00       	ld	a,+((_col) & 0xFF)
1311  03B7  80          	add	a, b
1312  03B8  5F          	ld	e,a
1313  03B9  3E 00       	ld	a,+((_col) / 256)
1314  03BB  CE 00       	adc	a,0x00
1315  03BD  57          	ld	d,a
1316  03BE  1A          	ld	a,(de)
1317  03BF  32 00 00    	ld	(_s_col1),a
1318  03C2  6F          	ld	l,a
1319  03C3  C5          	push	bc
1320  03C4  D5          	push	de
1321  03C5  CD 36 0B    	call	_spr_water_splash_draw
1322  03C8  D1          	pop	de
1323  03C9  C1          	pop	bc
1324  03CA  78          	ld	a,b
1325  03CB  D6 06       	sub	a,0x06
1326  03CD  38 5F       	jr	C,l_spr_anim_fall_00107
1327  03CF  C5          	push	bc
1328  03D0  D5          	push	de
1329  03D1  CD 00 00    	call	_player_lost_life
1330  03D4  D1          	pop	de
1331  03D5  C1          	pop	bc
1332  03D6  7D          	ld	a,l
1333  03D7  B7          	or	a, a
1334  03D8  28 16       	jr	Z,l_spr_anim_fall_00102
1335  03DA  76          	halt
1336  03DB  E1          	pop	hl
1337  03DC  1A          	ld	a,(de)
1338  03DD  56          	ld	d,(hl)
1339  03DE  E5          	push	hl
1340  03DF  C5          	push	bc
1341  03E0  5A          	ld	e,d
1342  03E1  57          	ld	d,a
1343  03E2  D5          	push	de
1344  03E3  AF          	xor	a, a
1345  03E4  F5          	push	af
1346  03E5  33          	inc	sp
1347  03E6  CD 00 00    	call	_NIRVANAP_fillT_callee
1348  03E9  C1          	pop	bc
1349  03EA  68          	ld	l,b
1350  03EB  CD 00 00    	call	_player_restart
1351  03EE  18 4D       	jr	l_spr_anim_fall_00108
1352  03F0              l_spr_anim_fall_00102:
1353  03F0  C5          	push	bc
1354  03F1  D5          	push	de
1355  03F2  CD 00 00    	call	_game_print_footer
1356  03F5  D1          	pop	de
1357  03F6  C1          	pop	bc
1358  03F7  E1          	pop	hl
1359  03F8  1A          	ld	a,(de)
1360  03F9  E5          	push	hl
1361  03FA  66          	ld	h,(hl)
1362  03FB  C5          	push	bc
1363  03FC  D5          	push	de
1364  03FD  6C          	ld	l,h
1365  03FE  67          	ld	h,a
1366  03FF  E5          	push	hl
1367  0400  AF          	xor	a, a
1368  0401  F5          	push	af
1369  0402  33          	inc	sp
1370  0403  CD 00 00    	call	_NIRVANAP_fillT_callee
1371  0406  D1          	pop	de
1372  0407  C1          	pop	bc
1373  0408  AF          	xor	a, a
1374  0409  E1          	pop	hl
1375  040A  12          	ld	(de),a
1376  040B  E5          	push	hl
1377  040C  36 00       	ld	(hl),0x00
1378  040E  11 00 00    	ld	de,_class+0
1379  0411  68          	ld	l,b
1380  0412  26 00       	ld	h,0x00
1381  0414  19          	add	hl,de
1382  0415  36 00       	ld	(hl),0x00
1383  0417  11 00 00    	ld	de,_state+0
1384  041A  68          	ld	l,b
1385  041B  26 00       	ld	h,0x00
1386  041D  19          	add	hl,de
1387  041E  36 00       	ld	(hl),0x00
1388  0420  21 00 00    	ld	hl,0x0000
1389  0423  E5          	push	hl
1390  0424  3E A9       	ld	a,0xa9
1391  0426  48          	ld	c,b
1392  0427  47          	ld	b,a
1393  0428  C5          	push	bc
1394  0429  CD 00 00    	call	_NIRVANAP_spriteT_callee
1395  042C  18 0F       	jr	l_spr_anim_fall_00108
1396  042E              l_spr_anim_fall_00107:
1397  042E  3A 00 00    	ld	a,(_phase_left)
1398  0431  B7          	or	a, a
1399  0432  20 05       	jr	NZ,l_spr_anim_fall_00105
1400  0434  21 00 00    	ld	hl,_phase_end
1401  0437  36 01       	ld	(hl),0x01
1402  0439              l_spr_anim_fall_00105:
1403  0439  68          	ld	l,b
1404  043A  CD 33 05    	call	_spr_destroy
1405  043D              l_spr_anim_fall_00108:
1406  043D  CD 00 00    	call	_enemy_ugly_fix
1407  0440              l_spr_anim_fall_00112:
1408  0440  F1          	pop	af
1409  0441  DD E1       	pop	ix
1410  0443  C9          	ret
1411  0444              	SECTION code_compiler
1412  0444              ;	---------------------------------
1413  0444              ; Function spr_anim_kill
1414  0444              ; ---------------------------------
1415  0444              _spr_anim_kill:
1416  0444  CD 00 00    	call	___sdcc_enter_ix
1417  0447  F5          	push	af
1418  0448  DD 4E 04    	ld	c,(ix+4)
1419  044B  06 00       	ld	b,0x00
1420  044D  CB 21       	sla	c
1421  044F  CB 10       	rl	b
1422  0451  21 00 00    	ld	hl,_last_time
1423  0454  09          	add	hl,bc
1424  0455  E3          	ex	(sp), hl
1425  0456  E1          	pop	hl
1426  0457  ED 5B 00 00 	ld	de,(_curr_time)
1427  045B  E5          	push	hl
1428  045C  73          	ld	(hl),e
1429  045D  23          	inc	hl
1430  045E  72          	ld	(hl),d
1431  045F  2A 00 00    	ld	hl,(_curr_time)
1432  0462  5D          	ld	e,l
1433  0463  21 00 00    	ld	hl,_spr_timer
1434  0466  09          	add	hl,bc
1435  0467  4E          	ld	c,(hl)
1436  0468  7B          	ld	a,e
1437  0469  91          	sub	a, c
1438  046A  32 00 00    	ld	(_tmp0),a
1439  046D  21 00 00    	ld	hl,_tmp
1440  0470  36 02       	ld	(hl),0x02
1441  0472  3E 28       	ld	a,0x28
1442  0474  21 00 00    	ld	hl,_tmp0
1443  0477  96          	sub	a, (hl)
1444  0478  38 05       	jr	C,l_spr_anim_kill_00102
1445  047A  21 00 00    	ld	hl,_tmp
1446  047D  36 01       	ld	(hl),0x01
1447  047F              l_spr_anim_kill_00102:
1448  047F  3E 14       	ld	a,0x14
1449  0481  21 00 00    	ld	hl,_tmp0
1450  0484  96          	sub	a, (hl)
1451  0485  38 05       	jr	C,l_spr_anim_kill_00104
1452  0487  21 00 00    	ld	hl,_tmp
1453  048A  36 00       	ld	(hl),0x00
1454  048C              l_spr_anim_kill_00104:
1455  048C  3E 3C       	ld	a,0x3c
1456  048E  21 00 00    	ld	hl,_tmp0
1457  0491  96          	sub	a, (hl)
1458  0492  38 2F       	jr	C,l_spr_anim_kill_00106
1459  0494  3E 00       	ld	a,+((_col) & 0xFF)
1460  0496  DD 86 04    	add	a,(ix+4)
1461  0499  4F          	ld	c,a
1462  049A  3E 00       	ld	a,+((_col) / 256)
1463  049C  CE 00       	adc	a,0x00
1464  049E  47          	ld	b,a
1465  049F  0A          	ld	a,(bc)
1466  04A0  47          	ld	b,a
1467  04A1  3E 00       	ld	a,+((_lin) & 0xFF)
1468  04A3  DD 86 04    	add	a,(ix+4)
1469  04A6  5F          	ld	e,a
1470  04A7  3E 00       	ld	a,+((_lin) / 256)
1471  04A9  CE 00       	adc	a,0x00
1472  04AB  57          	ld	d,a
1473  04AC  1A          	ld	a,(de)
1474  04AD  57          	ld	d,a
1475  04AE  DD 7E 05    	ld	a,(ix+5)
1476  04B1  21 00 00    	ld	hl,_tmp
1477  04B4  86          	add	a, (hl)
1478  04B5  4A          	ld	c, d
1479  04B6  C5          	push	bc
1480  04B7  F5          	push	af
1481  04B8  33          	inc	sp
1482  04B9  DD 7E 04    	ld	a,(ix+4)
1483  04BC  F5          	push	af
1484  04BD  33          	inc	sp
1485  04BE  CD 00 00    	call	_NIRVANAP_spriteT_callee
1486  04C1  18 09       	jr	l_spr_anim_kill_00108
1487  04C3              l_spr_anim_kill_00106:
1488  04C3  DD 6E 04    	ld	l,(ix+4)
1489  04C6  CD 33 05    	call	_spr_destroy
1490  04C9  CD E7 07    	call	_spr_draw_pow
1491  04CC              l_spr_anim_kill_00108:
1492  04CC  F1          	pop	af
1493  04CD  DD E1       	pop	ix
1494  04CF  C9          	ret
1495  04D0              	SECTION code_compiler
1496  04D0              ;	---------------------------------
1497  04D0              ; Function spr_check_over
1498  04D0              ; ---------------------------------
1499  04D0              _spr_check_over:
1500  04D0  21 00 00    	ld	hl,_s_col0
1501  04D3  7E          	ld	a,(hl)
1502  04D4  D6 04       	sub	a,0x04
1503  04D6  3E 00       	ld	a,0x00
1504  04D8  17          	rla
1505  04D9  4F          	ld	c,a
1506  04DA  3E 1A       	ld	a,0x1a
1507  04DC  96          	sub	a, (hl)
1508  04DD  3E 00       	ld	a,0x00
1509  04DF  17          	rla
1510  04E0  47          	ld	b,a
1511  04E1  3A 00 00    	ld	a,(_s_lin0)
1512  04E4  D6 88       	sub	a,0x88
1513  04E6  38 20       	jr	C,l_spr_check_over_00112
1514  04E8  79          	ld	a,c
1515  04E9  B7          	or	a, a
1516  04EA  28 0C       	jr	Z,l_spr_check_over_00102
1517  04EC  21 E0 01    	ld	hl,0x01e0
1518  04EF  E5          	push	hl
1519  04F0  CD 66 09    	call	_spr_back_paint
1520  04F3  F1          	pop	af
1521  04F4  2E 01       	ld	l,0x01
1522  04F6  18 3A       	jr	l_spr_check_over_00114
1523  04F8              l_spr_check_over_00102:
1524  04F8  78          	ld	a,b
1525  04F9  B7          	or	a, a
1526  04FA  28 34       	jr	Z,l_spr_check_over_00113
1527  04FC  21 FA 01    	ld	hl,0x01fa
1528  04FF  E5          	push	hl
1529  0500  CD 66 09    	call	_spr_back_paint
1530  0503  F1          	pop	af
1531  0504  2E 01       	ld	l,0x01
1532  0506  18 2A       	jr	l_spr_check_over_00114
1533  0508              l_spr_check_over_00112:
1534  0508  3E 28       	ld	a,0x28
1535  050A  21 00 00    	ld	hl,_s_lin0
1536  050D  96          	sub	a, (hl)
1537  050E  38 20       	jr	C,l_spr_check_over_00113
1538  0510  79          	ld	a,c
1539  0511  B7          	or	a, a
1540  0512  28 0C       	jr	Z,l_spr_check_over_00106
1541  0514  21 00 00    	ld	hl,0x0000
1542  0517  E5          	push	hl
1543  0518  CD 66 09    	call	_spr_back_paint
1544  051B  F1          	pop	af
1545  051C  2E 01       	ld	l,0x01
1546  051E  18 12       	jr	l_spr_check_over_00114
1547  0520              l_spr_check_over_00106:
1548  0520  78          	ld	a,b
1549  0521  B7          	or	a, a
1550  0522  28 0C       	jr	Z,l_spr_check_over_00113
1551  0524  21 1A 00    	ld	hl,0x001a
1552  0527  E5          	push	hl
1553  0528  CD 66 09    	call	_spr_back_paint
1554  052B  F1          	pop	af
1555  052C  2E 01       	ld	l,0x01
1556  052E  18 02       	jr	l_spr_check_over_00114
1557  0530              l_spr_check_over_00113:
1558  0530  2E 00       	ld	l,0x00
1559  0532              l_spr_check_over_00114:
1560  0532  C9          	ret
1561  0533              	SECTION code_compiler
1562  0533              ;	---------------------------------
1563  0533              ; Function spr_destroy
1564  0533              ; ---------------------------------
1565  0533              _spr_destroy:
1566  0533  CD 00 00    	call	___sdcc_enter_ix
1567  0536  F5          	push	af
1568  0537  4D          	ld	c,l
1569  0538  21 00 00    	ld	hl,_spr_count
1570  053B  35          	dec	(hl)
1571  053C  3E 00       	ld	a,+((_lin) & 0xFF)
1572  053E  81          	add	a, c
1573  053F  DD 77 FE    	ld	(ix-2),a
1574  0542  3E 00       	ld	a,+((_lin) / 256)
1575  0544  CE 00       	adc	a,0x00
1576  0546  DD 77 FF    	ld	(ix-1),a
1577  0549  E1          	pop	hl
1578  054A  7E          	ld	a,(hl)
1579  054B  E5          	push	hl
1580  054C  32 00 00    	ld	(_s_lin0),a
1581  054F  3E 00       	ld	a,+((_col) & 0xFF)
1582  0551  81          	add	a, c
1583  0552  5F          	ld	e,a
1584  0553  3E 00       	ld	a,+((_col) / 256)
1585  0555  CE 00       	adc	a,0x00
1586  0557  57          	ld	d,a
1587  0558  1A          	ld	a,(de)
1588  0559  32 00 00    	ld	(_s_col0),a
1589  055C  06 00       	ld	b,0x00
1590  055E  21 00 00    	ld	hl,_tile
1591  0561  09          	add	hl, bc
1592  0562  36 A9       	ld	(hl),0xa9
1593  0564  AF          	xor	a, a
1594  0565  E1          	pop	hl
1595  0566  12          	ld	(de),a
1596  0567  E5          	push	hl
1597  0568  36 00       	ld	(hl),0x00
1598  056A  11 00 00    	ld	de,_class+0
1599  056D  69          	ld	l,c
1600  056E  26 00       	ld	h,0x00
1601  0570  19          	add	hl,de
1602  0571  36 00       	ld	(hl),0x00
1603  0573  11 00 00    	ld	de,_state+0
1604  0576  69          	ld	l,c
1605  0577  26 00       	ld	h,0x00
1606  0579  19          	add	hl,de
1607  057A  36 00       	ld	(hl),0x00
1608  057C  11 00 00    	ld	de,_state_a+0
1609  057F  69          	ld	l,c
1610  0580  26 00       	ld	h,0x00
1611  0582  19          	add	hl,de
1612  0583  36 00       	ld	(hl),0x00
1613  0585  21 00 00    	ld	hl,0x0000
1614  0588  E5          	push	hl
1615  0589  3E A9       	ld	a,0xa9
1616  058B  F5          	push	af
1617  058C  33          	inc	sp
1618  058D  79          	ld	a,c
1619  058E  F5          	push	af
1620  058F  33          	inc	sp
1621  0590  CD 00 00    	call	_NIRVANAP_spriteT_callee
1622  0593  76          	halt
1623  0594  2A FF FF    	ld	hl,(_s_col0 - 1)
1624  0597  3A 00 00    	ld	a,(_s_lin0)
1625  059A  6F          	ld	l,a
1626  059B  E5          	push	hl
1627  059C  AF          	xor	a, a
1628  059D  F5          	push	af
1629  059E  33          	inc	sp
1630  059F  CD 00 00    	call	_NIRVANAP_fillT_callee
1631  05A2  3A 00 00    	ld	a,(_game_over)
1632  05A5  B7          	or	a, a
1633  05A6  20 03       	jr	NZ,l_spr_destroy_00103
1634  05A8  CD D0 04    	call	_spr_check_over
1635  05AB              l_spr_destroy_00103:
1636  05AB  F1          	pop	af
1637  05AC  DD E1       	pop	ix
1638  05AE  C9          	ret
1639  05AF              	SECTION code_compiler
1640  05AF              ;	---------------------------------
1641  05AF              ; Function spr_set_fall
1642  05AF              ; ---------------------------------
1643  05AF              _spr_set_fall:
1644  05AF  21 00 00    	ld	hl,_s_state
1645  05B2  CB 86       	res	0, (hl)
1646  05B4  CB CE       	set	1, (hl)
1647  05B6  21 00 00    	ld	hl,_sprite
1648  05B9  7E          	ld	a,(hl)
1649  05BA  D6 06       	sub	a,0x06
1650  05BC  38 0E       	jr	C,l_spr_set_fall_00104
1651  05BE  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1652  05C0  86          	add	a, (hl)
1653  05C1  4F          	ld	c,a
1654  05C2  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1655  05C4  CE 00       	adc	a,0x00
1656  05C6  47          	ld	b,a
1657  05C7  3E 02       	ld	a,0x02
1658  05C9  02          	ld	(bc),a
1659  05CA  18 1C       	jr	l_spr_set_fall_00106
1660  05CC              l_spr_set_fall_00104:
1661  05CC  2A 00 00    	ld	hl,(_sprite)
1662  05CF  26 00       	ld	h,0x00
1663  05D1  01 00 00    	ld	bc,_class
1664  05D4  09          	add	hl,bc
1665  05D5  4E          	ld	c,(hl)
1666  05D6  3E 08       	ld	a,0x08
1667  05D8  91          	sub	a,c
1668  05D9  D8          	ret	C
1669  05DA  3A 00 00    	ld	a,(_sprite)
1670  05DD  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1671  05DF  4F          	ld	c,a
1672  05E0  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1673  05E2  CE 00       	adc	a,0x00
1674  05E4  47          	ld	b,a
1675  05E5  3E 01       	ld	a,0x01
1676  05E7  02          	ld	(bc),a
1677  05E8              l_spr_set_fall_00106:
1678  05E8  C9          	ret
1679  05E9              	SECTION code_compiler
1680  05E9              ;	---------------------------------
1681  05E9              ; Function spr_tile
1682  05E9              ; ---------------------------------
1683  05E9              _spr_tile:
1684  05E9  55          	ld	d,l
1685  05EA  01 00 00    	ld	bc,_state+0
1686  05ED  26 00       	ld	h,0x00
1687  05EF  09          	add	hl,bc
1688  05F0  4E          	ld	c,(hl)
1689  05F1  CB 71       	bit	6, c
1690  05F3  28 07       	jr	Z,l_spr_tile_00102
1691  05F5  21 00 00    	ld	hl,_tmp
1692  05F8  36 03       	ld	(hl),0x03
1693  05FA  18 05       	jr	l_spr_tile_00103
1694  05FC              l_spr_tile_00102:
1695  05FC  21 00 00    	ld	hl,_tmp
1696  05FF  36 00       	ld	(hl),0x00
1697  0601              l_spr_tile_00103:
1698  0601  CB 61       	bit	4, c
1699  0603  28 05       	jr	Z,l_spr_tile_00105
1700  0605  21 00 00    	ld	hl,_tmp
1701  0608  36 06       	ld	(hl),0x06
1702  060A              l_spr_tile_00105:
1703  060A  01 00 00    	ld	bc,_class+0
1704  060D  6A          	ld	l,d
1705  060E  26 00       	ld	h,0x00
1706  0610  09          	add	hl,bc
1707  0611  7E          	ld	a,(hl)
1708  0612  5F          	ld	e,a
1709  0613  D6 01       	sub	a,0x01
1710  0615  DA B4 06    	jp	C,l_spr_tile_00118
1711  0618  3E 0C       	ld	a,0x0c
1712  061A  93          	sub	a, e
1713  061B  DA B4 06    	jp	C,l_spr_tile_00118
1714  061E  1D          	dec	e
1715  061F  ED 4B 00 00 	ld	bc,(_tmp)
1716  0623  06 00       	ld	b,0x00
1717  0625  D5          	push	de
1718  0626  16 00       	ld	d,0x00
1719  0628  21 30 06    	ld	hl,l_spr_tile_00139
1720  062B  19          	add	hl,de
1721  062C  19          	add	hl,de
1722  062D  19          	add	hl,de
1723  062E  D1          	pop	de
1724  062F  E9          	jp	(hl)
1725  0630              l_spr_tile_00139:
1726  0630  C3 54 06    	jp	l_spr_tile_00106
1727  0633  C3 64 06    	jp	l_spr_tile_00107
1728  0636  C3 74 06    	jp	l_spr_tile_00108
1729  0639  C3 84 06    	jp	l_spr_tile_00109
1730  063C  C3 8A 06    	jp	l_spr_tile_00110
1731  063F  C3 90 06    	jp	l_spr_tile_00111
1732  0642  C3 96 06    	jp	l_spr_tile_00112
1733  0645  C3 9B 06    	jp	l_spr_tile_00113
1734  0648  C3 A5 06    	jp	l_spr_tile_00115
1735  064B  C3 AA 06    	jp	l_spr_tile_00116
1736  064E  C3 AF 06    	jp	l_spr_tile_00117
1737  0651  C3 A0 06    	jp	l_spr_tile_00114
1738  0654              l_spr_tile_00106:
1739  0654  3E 03       	ld	a,0x03
1740  0656  5A          	ld	e,d
1741  0657  57          	ld	d,a
1742  0658  D5          	push	de
1743  0659  21 30 00    	ld	hl,0x0030
1744  065C  E5          	push	hl
1745  065D  CD B8 06    	call	_spr_tile_dir
1746  0660  F1          	pop	af
1747  0661  F1          	pop	af
1748  0662  18 53       	jr	l_spr_tile_00119
1749  0664              l_spr_tile_00107:
1750  0664  3E 03       	ld	a,0x03
1751  0666  5A          	ld	e,d
1752  0667  57          	ld	d,a
1753  0668  D5          	push	de
1754  0669  21 3C 00    	ld	hl,0x003c
1755  066C  E5          	push	hl
1756  066D  CD B8 06    	call	_spr_tile_dir
1757  0670  F1          	pop	af
1758  0671  F1          	pop	af
1759  0672  18 43       	jr	l_spr_tile_00119
1760  0674              l_spr_tile_00108:
1761  0674  3E 03       	ld	a,0x03
1762  0676  5A          	ld	e,d
1763  0677  57          	ld	d,a
1764  0678  D5          	push	de
1765  0679  21 48 00    	ld	hl,0x0048
1766  067C  E5          	push	hl
1767  067D  CD B8 06    	call	_spr_tile_dir
1768  0680  F1          	pop	af
1769  0681  F1          	pop	af
1770  0682  18 33       	jr	l_spr_tile_00119
1771  0684              l_spr_tile_00109:
1772  0684  21 54 00    	ld	hl,0x0054
1773  0687  09          	add	hl,bc
1774  0688  18 2D       	jr	l_spr_tile_00119
1775  068A              l_spr_tile_00110:
1776  068A  21 60 00    	ld	hl,0x0060
1777  068D  09          	add	hl,bc
1778  068E  18 27       	jr	l_spr_tile_00119
1779  0690              l_spr_tile_00111:
1780  0690  21 6C 00    	ld	hl,0x006c
1781  0693  09          	add	hl,bc
1782  0694  18 21       	jr	l_spr_tile_00119
1783  0696              l_spr_tile_00112:
1784  0696  21 7B 00    	ld	hl,0x007b
1785  0699  18 1C       	jr	l_spr_tile_00119
1786  069B              l_spr_tile_00113:
1787  069B  21 B4 00    	ld	hl,0x00b4
1788  069E  18 17       	jr	l_spr_tile_00119
1789  06A0              l_spr_tile_00114:
1790  06A0  21 B7 00    	ld	hl,0x00b7
1791  06A3  18 12       	jr	l_spr_tile_00119
1792  06A5              l_spr_tile_00115:
1793  06A5  21 78 00    	ld	hl,0x0078
1794  06A8  18 0D       	jr	l_spr_tile_00119
1795  06AA              l_spr_tile_00116:
1796  06AA  21 90 00    	ld	hl,0x0090
1797  06AD  18 08       	jr	l_spr_tile_00119
1798  06AF              l_spr_tile_00117:
1799  06AF  21 96 00    	ld	hl,0x0096
1800  06B2  18 03       	jr	l_spr_tile_00119
1801  06B4              l_spr_tile_00118:
1802  06B4  21 00 00    	ld	hl,0x0000
1803  06B7              l_spr_tile_00119:
1804  06B7  C9          	ret
1805  06B8              	SECTION code_compiler
1806  06B8              ;	---------------------------------
1807  06B8              ; Function spr_tile_dir
1808  06B8              ; ---------------------------------
1809  06B8              _spr_tile_dir:
1810  06B8  CD 00 00    	call	___sdcc_enter_ix
1811  06BB  3E 00       	ld	a,+((_state) & 0xFF)
1812  06BD  DD 86 06    	add	a,(ix+6)
1813  06C0  4F          	ld	c,a
1814  06C1  3E 00       	ld	a,+((_state) / 256)
1815  06C3  CE 00       	adc	a,0x00
1816  06C5  47          	ld	b,a
1817  06C6  0A          	ld	a,(bc)
1818  06C7  4F          	ld	c,a
1819  06C8  CB 67       	bit	4,a
1820  06CA  28 0C       	jr	Z,l_spr_tile_dir_00102
1821  06CC  DD 6E 04    	ld	l,(ix+4)
1822  06CF  DD 66 05    	ld	h,(ix+5)
1823  06D2  11 06 00    	ld	de,0x0006
1824  06D5  19          	add	hl,de
1825  06D6  18 53       	jr	l_spr_tile_dir_00113
1826  06D8              l_spr_tile_dir_00102:
1827  06D8  3E 00       	ld	a,+((_state_a) & 0xFF)
1828  06DA  DD 86 06    	add	a,(ix+6)
1829  06DD  5F          	ld	e,a
1830  06DE  3E 00       	ld	a,+((_state_a) / 256)
1831  06E0  CE 00       	adc	a,0x00
1832  06E2  57          	ld	d,a
1833  06E3  1A          	ld	a,(de)
1834  06E4  47          	ld	b,a
1835  06E5  CB 4F       	bit	1,a
1836  06E7  28 0C       	jr	Z,l_spr_tile_dir_00104
1837  06E9  DD 6E 04    	ld	l,(ix+4)
1838  06EC  DD 66 05    	ld	h,(ix+5)
1839  06EF  11 09 00    	ld	de,0x0009
1840  06F2  19          	add	hl,de
1841  06F3  18 36       	jr	l_spr_tile_dir_00113
1842  06F5              l_spr_tile_dir_00104:
1843  06F5  CB 51       	bit	2, c
1844  06F7  28 08       	jr	Z,l_spr_tile_dir_00106
1845  06F9  DD 6E 04    	ld	l,(ix+4)
1846  06FC  DD 66 05    	ld	h,(ix+5)
1847  06FF  18 2A       	jr	l_spr_tile_dir_00113
1848  0701              l_spr_tile_dir_00106:
1849  0701  DD 5E 07    	ld	e,(ix+7)
1850  0704  16 00       	ld	d,0x00
1851  0706  DD 6E 04    	ld	l,(ix+4)
1852  0709  DD 66 05    	ld	h,(ix+5)
1853  070C  19          	add	hl,de
1854  070D  EB          	ex	de,hl
1855  070E  CB 59       	bit	3, c
1856  0710  28 03       	jr	Z,l_spr_tile_dir_00108
1857  0712  EB          	ex	de,hl
1858  0713  18 16       	jr	l_spr_tile_dir_00113
1859  0715              l_spr_tile_dir_00108:
1860  0715  CB 60       	bit	4, b
1861  0717  28 08       	jr	Z,l_spr_tile_dir_00110
1862  0719  DD 6E 04    	ld	l,(ix+4)
1863  071C  DD 66 05    	ld	h,(ix+5)
1864  071F  18 0A       	jr	l_spr_tile_dir_00113
1865  0721              l_spr_tile_dir_00110:
1866  0721  CB 58       	bit	3, b
1867  0723  28 03       	jr	Z,l_spr_tile_dir_00112
1868  0725  EB          	ex	de,hl
1869  0726  18 03       	jr	l_spr_tile_dir_00113
1870  0728              l_spr_tile_dir_00112:
1871  0728  21 A9 00    	ld	hl,0x00a9
1872  072B              l_spr_tile_dir_00113:
1873  072B  DD E1       	pop	ix
1874  072D  C9          	ret
1875  072E              	SECTION code_compiler
1876  072E              ;	---------------------------------
1877  072E              ; Function spr_draw_back
1878  072E              ; ---------------------------------
1879  072E              _spr_draw_back:
1880  072E  F3          	di
1881  072F  21 00 00    	ld	hl,0x0000
1882  0732  CD 00 00    	call	_zx_cls_fastcall
1883  0735  3E 06       	ld	a,0x06
1884  0737  F5          	push	af
1885  0738  33          	inc	sp
1886  0739  CD 0F 0C    	call	_spr_draw_row
1887  073C  33          	inc	sp
1888  073D  3E 0B       	ld	a,0x0b
1889  073F  F5          	push	af
1890  0740  33          	inc	sp
1891  0741  CD 0F 0C    	call	_spr_draw_row
1892  0744  33          	inc	sp
1893  0745  3E 0C       	ld	a,0x0c
1894  0747  F5          	push	af
1895  0748  33          	inc	sp
1896  0749  CD 0F 0C    	call	_spr_draw_row
1897  074C  33          	inc	sp
1898  074D  3E 10       	ld	a,0x10
1899  074F  F5          	push	af
1900  0750  33          	inc	sp
1901  0751  CD 0F 0C    	call	_spr_draw_row
1902  0754  33          	inc	sp
1903  0755  21 80 10    	ld	hl,0x1080
1904  0758  E5          	push	hl
1905  0759  AF          	xor	a, a
1906  075A  F5          	push	af
1907  075B  33          	inc	sp
1908  075C  CD 00 00    	call	_NIRVANAP_fillT_callee
1909  075F  FB          	ei
1910  0760  21 00 00    	ld	hl,0x0000
1911  0763  E5          	push	hl
1912  0764  CD 66 09    	call	_spr_back_paint
1913  0767  21 1A 00    	ld	hl,0x001a
1914  076A  E3          	ex	(sp),hl
1915  076B  CD 66 09    	call	_spr_back_paint
1916  076E  21 E0 01    	ld	hl,0x01e0
1917  0771  E3          	ex	(sp),hl
1918  0772  CD 66 09    	call	_spr_back_paint
1919  0775  21 FA 01    	ld	hl,0x01fa
1920  0778  E3          	ex	(sp),hl
1921  0779  CD 66 09    	call	_spr_back_paint
1922  077C  F1          	pop	af
1923  077D  CD E7 07    	call	_spr_draw_pow
1924  0780  76          	halt
1925  0781  21 00 00    	ld	hl,_screen_ink
1926  0784  36 06       	ld	(hl),0x06
1927  0786  21 00 00    	ld	hl,_screen_paper
1928  0789  36 10       	ld	(hl),0x10
1929  078B  21 14 23    	ld	hl,0x2314
1930  078E  E5          	push	hl
1931  078F  CD 00 00    	call	_game_fill_row
1932  0792  21 15 23    	ld	hl,0x2315
1933  0795  E5          	push	hl
1934  0796  CD 00 00    	call	_game_fill_row
1935  0799  21 00 00    	ld	hl,_screen_paper
1936  079C  36 00       	ld	(hl),0x00
1937  079E  21 00 00    	ld	hl,_screen_ink
1938  07A1  36 00       	ld	(hl),0x00
1939  07A3  21 0C 20    	ld	hl,0x200c
1940  07A6  E5          	push	hl
1941  07A7  CD 00 00    	call	_game_fill_row
1942  07AA  CD 00 00    	call	_game_print_footer
1943  07AD  C9          	ret
1944  07AE              	SECTION code_compiler
1945  07AE              ;	---------------------------------
1946  07AE              ; Function spr_draw_clear
1947  07AE              ; ---------------------------------
1948  07AE              _spr_draw_clear:
1949  07AE  F3          	di
1950  07AF  21 00 00    	ld	hl,0x0000
1951  07B2  CD 00 00    	call	_zx_cls_fastcall
1952  07B5  21 00 00    	ld	hl,_s_lin1
1953  07B8  36 10       	ld	(hl),0x10
1954  07BA              l_spr_draw_clear_00105:
1955  07BA  21 00 00    	ld	hl,_s_col1
1956  07BD  36 00       	ld	(hl),0x00
1957  07BF              l_spr_draw_clear_00103:
1958  07BF  3A 00 00    	ld	a,(_s_col1)
1959  07C2  F5          	push	af
1960  07C3  33          	inc	sp
1961  07C4  3A 00 00    	ld	a,(_s_lin1)
1962  07C7  57          	ld	d,a
1963  07C8  1E A9       	ld	e,0xa9
1964  07CA  D5          	push	de
1965  07CB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1966  07CE  21 00 00    	ld	hl,_s_col1
1967  07D1  7E          	ld	a,(hl)
1968  07D2  3C          	inc	a
1969  07D3  3C          	inc	a
1970  07D4  77          	ld	(hl),a
1971  07D5  D6 20       	sub	a,0x20
1972  07D7  38 E6       	jr	C,l_spr_draw_clear_00103
1973  07D9  21 00 00    	ld	hl,_s_lin1
1974  07DC  7E          	ld	a,(hl)
1975  07DD  C6 10       	add	a,0x10
1976  07DF  77          	ld	(hl),a
1977  07E0  3E A2       	ld	a,0xa2
1978  07E2  96          	sub	a, (hl)
1979  07E3  30 D5       	jr	NC,l_spr_draw_clear_00105
1980  07E5  FB          	ei
1981  07E6  C9          	ret
1982  07E7              	SECTION code_compiler
1983  07E7              ;	---------------------------------
1984  07E7              ; Function spr_draw_pow
1985  07E7              ; ---------------------------------
1986  07E7              _spr_draw_pow:
1987  07E7  21 00 00    	ld	hl,_s_tile1
1988  07EA  36 A9       	ld	(hl),0xa9
1989  07EC  21 00 00    	ld	hl,_game_pow
1990  07EF  7E          	ld	a,(hl)
1991  07F0  D6 01       	sub	a,0x01
1992  07F2  38 28       	jr	C,l_spr_draw_pow_00104
1993  07F4  3E 03       	ld	a,0x03
1994  07F6  96          	sub	a, (hl)
1995  07F7  38 23       	jr	C,l_spr_draw_pow_00104
1996  07F9  5E          	ld	e,(hl)
1997  07FA  1D          	dec	e
1998  07FB  16 00       	ld	d,0x00
1999  07FD  21 03 08    	ld	hl,l_spr_draw_pow_00115
2000  0800  19          	add	hl,de
2001  0801  19          	add	hl,de
2002  0802  E9          	jp	(hl)
2003  0803              l_spr_draw_pow_00115:
2004  0803  18 04       	jr	l_spr_draw_pow_00101
2005  0805  18 09       	jr	l_spr_draw_pow_00102
2006  0807  18 0E       	jr	l_spr_draw_pow_00103
2007  0809              l_spr_draw_pow_00101:
2008  0809  21 00 00    	ld	hl,_s_tile1
2009  080C  36 D7       	ld	(hl),0xd7
2010  080E  18 0C       	jr	l_spr_draw_pow_00104
2011  0810              l_spr_draw_pow_00102:
2012  0810  21 00 00    	ld	hl,_s_tile1
2013  0813  36 CB       	ld	(hl),0xcb
2014  0815  18 05       	jr	l_spr_draw_pow_00104
2015  0817              l_spr_draw_pow_00103:
2016  0817  21 00 00    	ld	hl,_s_tile1
2017  081A  36 BF       	ld	(hl),0xbf
2018  081C              l_spr_draw_pow_00104:
2019  081C  3A 00 00    	ld	a,(_s_tile1)
2020  081F  21 80 0F    	ld	hl,0x0f80
2021  0822  E5          	push	hl
2022  0823  F5          	push	af
2023  0824  33          	inc	sp
2024  0825  CD 00 00    	call	_NIRVANAP_drawT_callee
2025  0828  C9          	ret
2026  0829              	SECTION code_compiler
2027  0829              ;	---------------------------------
2028  0829              ; Function spr_back_clr
2029  0829              ; ---------------------------------
2030  0829              _spr_back_clr:
2031  0829  2A FF FF    	ld	hl,(_s_col0 - 1)
2032  082C  3A 00 00    	ld	a,(_s_lin0)
2033  082F  6F          	ld	l,a
2034  0830  E5          	push	hl
2035  0831  AF          	xor	a, a
2036  0832  F5          	push	af
2037  0833  33          	inc	sp
2038  0834  CD 00 00    	call	_NIRVANAP_fillC_callee
2039  0837  21 00 00    	ld	hl,_s_col0
2040  083A  46          	ld	b,(hl)
2041  083B  04          	inc	b
2042  083C  C5          	push	bc
2043  083D  33          	inc	sp
2044  083E  2A FF FF    	ld	hl,(_s_lin0 - 1)
2045  0841  AF          	xor	a,a
2046  0842  6F          	ld	l,a
2047  0843  E5          	push	hl
2048  0844  CD 00 00    	call	_NIRVANAP_fillC_callee
2049  0847  3A 00 00    	ld	a,(_s_lin0)
2050  084A  C6 08       	add	a,0x08
2051  084C  4F          	ld	c, a
2052  084D  3A 00 00    	ld	a, (_s_col0)
2053  0850  47          	ld	b,a
2054  0851  C5          	push	bc
2055  0852  AF          	xor	a, a
2056  0853  F5          	push	af
2057  0854  33          	inc	sp
2058  0855  CD 00 00    	call	_NIRVANAP_fillC_callee
2059  0858  21 00 00    	ld	hl,_s_col0
2060  085B  56          	ld	d,(hl)
2061  085C  14          	inc	d
2062  085D  3A 00 00    	ld	a,(_s_lin0)
2063  0860  C6 08       	add	a,0x08
2064  0862  5F          	ld	e, a
2065  0863  D5          	push	de
2066  0864  AF          	xor	a, a
2067  0865  F5          	push	af
2068  0866  33          	inc	sp
2069  0867  CD 00 00    	call	_NIRVANAP_fillC_callee
2070  086A  C9          	ret
2071  086B              	SECTION code_compiler
2072  086B              ;	---------------------------------
2073  086B              ; Function spr_back_fix
2074  086B              ; ---------------------------------
2075  086B              _spr_back_fix:
2076  086B  3A 00 00    	ld	a,(_s_lin0)
2077  086E  85          	add	a,l
2078  086F  4D          	ld	c,l
2079  0870  47          	ld	b,a
2080  0871  3A 00 00    	ld	a,(_s_col0)
2081  0874  C5          	push	bc
2082  0875  48          	ld	c,b
2083  0876  47          	ld	b,a
2084  0877  C5          	push	bc
2085  0878  CD 00 00    	call	_game_calc_index
2086  087B  F1          	pop	af
2087  087C  EB          	ex	de,hl
2088  087D  C1          	pop	bc
2089  087E  ED 53 00 00 	ld	(_index1),de
2090  0882  11 00 00    	ld	de,_lvl_1
2091  0885  2A 00 00    	ld	hl,(_index1)
2092  0888  19          	add	hl,de
2093  0889  7E          	ld	a,(hl)
2094  088A  47          	ld	b,a
2095  088B  D6 12       	sub	a,0x12
2096  088D  28 09       	jr	Z,l_spr_back_fix_00118
2097  088F  78          	ld	a,b
2098  0890  D6 14       	sub	a,0x14
2099  0892  28 04       	jr	Z,l_spr_back_fix_00118
2100  0894  06 00       	ld	b,0x00
2101  0896  18 02       	jr	l_spr_back_fix_00119
2102  0898              l_spr_back_fix_00118:
2103  0898  06 01       	ld	b,0x01
2104  089A              l_spr_back_fix_00119:
2105  089A  21 00 00    	ld	hl,_tmp
2106  089D  70          	ld	(hl),b
2107  089E  ED 5B 00 00 	ld	de,(_index1)
2108  08A2  13          	inc	de
2109  08A3  21 00 00    	ld	hl,_lvl_1
2110  08A6  19          	add	hl,de
2111  08A7  7E          	ld	a,(hl)
2112  08A8  47          	ld	b,a
2113  08A9  D6 12       	sub	a,0x12
2114  08AB  28 09       	jr	Z,l_spr_back_fix_00121
2115  08AD  78          	ld	a,b
2116  08AE  D6 14       	sub	a,0x14
2117  08B0  28 04       	jr	Z,l_spr_back_fix_00121
2118  08B2  06 00       	ld	b,0x00
2119  08B4  18 02       	jr	l_spr_back_fix_00122
2120  08B6              l_spr_back_fix_00121:
2121  08B6  06 01       	ld	b,0x01
2122  08B8              l_spr_back_fix_00122:
2123  08B8  21 00 00    	ld	hl,_tmp0
2124  08BB  70          	ld	(hl),b
2125  08BC  C5          	push	bc
2126  08BD  CD 29 08    	call	_spr_back_clr
2127  08C0  C1          	pop	bc
2128  08C1  3A 00 00    	ld	a,(_tmp)
2129  08C4  B7          	or	a, a
2130  08C5  20 07       	jr	NZ,l_spr_back_fix_00107
2131  08C7  3A 00 00    	ld	a,(_tmp0)
2132  08CA  B7          	or	a, a
2133  08CB  CA 4C 09    	jp	Z,l_spr_back_fix_00108
2134  08CE              l_spr_back_fix_00107:
2135  08CE  3A 00 00    	ld	a,(_s_col0)
2136  08D1  32 00 00    	ld	(_s_col1),a
2137  08D4  11 00 00    	ld	de,_lvl_1
2138  08D7  2A 00 00    	ld	hl,(_index1)
2139  08DA  19          	add	hl,de
2140  08DB  6E          	ld	l,(hl)
2141  08DC  26 00       	ld	h,0x00
2142  08DE  29          	add	hl, hl
2143  08DF  11 00 00    	ld	de,_spr_idx
2144  08E2  19          	add	hl,de
2145  08E3  7E          	ld	a,(hl)
2146  08E4  32 00 00    	ld	(_s_tile1),a
2147  08E7  47          	ld	b,a
2148  08E8  3A 00 00    	ld	a,(_s_lin0)
2149  08EB  81          	add	a, c
2150  08EC  21 00 00    	ld	hl,_s_lin1
2151  08EF  77          	ld	(hl),a
2152  08F0  0F          	rrca
2153  08F1  0F          	rrca
2154  08F2  0F          	rrca
2155  08F3  E6 1F       	and	a,0x1f
2156  08F5  77          	ld	(hl),a
2157  08F6  07          	rlca
2158  08F7  07          	rlca
2159  08F8  07          	rlca
2160  08F9  E6 F8       	and	a,0xf8
2161  08FB  77          	ld	(hl),a
2162  08FC  3A 00 00    	ld	a,(_tmp)
2163  08FF  B7          	or	a, a
2164  0900  20 22       	jr	NZ,l_spr_back_fix_00102
2165  0902  3A 00 00    	ld	a,(_tmp0)
2166  0905  B7          	or	a, a
2167  0906  28 1C       	jr	Z,l_spr_back_fix_00102
2168  0908  3A 00 00    	ld	a,(_s_col0)
2169  090B  3C          	inc	a
2170  090C  32 00 00    	ld	(_s_col1),a
2171  090F  ED 5B 00 00 	ld	de,(_index1)
2172  0913  13          	inc	de
2173  0914  21 00 00    	ld	hl,_lvl_1
2174  0917  19          	add	hl,de
2175  0918  6E          	ld	l,(hl)
2176  0919  26 00       	ld	h,0x00
2177  091B  29          	add	hl, hl
2178  091C  11 00 00    	ld	de,_spr_idx
2179  091F  19          	add	hl,de
2180  0920  7E          	ld	a,(hl)
2181  0921  32 00 00    	ld	(_s_tile1),a
2182  0924              l_spr_back_fix_00102:
2183  0924  3A 00 00    	ld	a,(_tmp)
2184  0927  B7          	or	a, a
2185  0928  28 12       	jr	Z,l_spr_back_fix_00105
2186  092A  3A 00 00    	ld	a,(_tmp0)
2187  092D  B7          	or	a, a
2188  092E  20 0C       	jr	NZ,l_spr_back_fix_00105
2189  0930  3A 00 00    	ld	a,(_s_col0)
2190  0933  C6 FF       	add	a,0xff
2191  0935  32 00 00    	ld	(_s_col1),a
2192  0938  21 00 00    	ld	hl,_s_tile1
2193  093B  70          	ld	(hl),b
2194  093C              l_spr_back_fix_00105:
2195  093C  2A FF FF    	ld	hl,(_s_col1 - 1)
2196  093F  3A 00 00    	ld	a,(_s_lin1)
2197  0942  6F          	ld	l,a
2198  0943  3A 00 00    	ld	a,(_s_tile1)
2199  0946  E5          	push	hl
2200  0947  F5          	push	af
2201  0948  33          	inc	sp
2202  0949  CD 00 00    	call	_NIRVANAP_drawT_callee
2203  094C              l_spr_back_fix_00108:
2204  094C  21 00 00    	ld	hl,_s_lin0
2205  094F  7E          	ld	a,(hl)
2206  0950  D6 70       	sub	a,0x70
2207  0952  D8          	ret	C
2208  0953  3E 90       	ld	a,0x90
2209  0955  96          	sub	a, (hl)
2210  0956  D8          	ret	C
2211  0957  21 00 00    	ld	hl,_s_col0
2212  095A  7E          	ld	a,(hl)
2213  095B  D6 0E       	sub	a,0x0e
2214  095D  D8          	ret	C
2215  095E  3E 10       	ld	a,0x10
2216  0960  96          	sub	a, (hl)
2217  0961  D8          	ret	C
2218  0962  CD E7 07    	call	_spr_draw_pow
2219  0965  C9          	ret
2220  0966              	SECTION code_compiler
2221  0966              ;	---------------------------------
2222  0966              ; Function spr_back_paint
2223  0966              ; ---------------------------------
2224  0966              _spr_back_paint:
2225  0966  CD 00 00    	call	___sdcc_enter_ix
2226  0969  76          	halt
2227  096A  F3          	di
2228  096B  DD 7E 04    	ld	a,(ix+4)
2229  096E  C6 40       	add	a,0x40
2230  0970  4F          	ld	c,a
2231  0971  DD 7E 05    	ld	a,(ix+5)
2232  0974  CE 00       	adc	a,0x00
2233  0976  47          	ld	b,a
2234  0977  C5          	push	bc
2235  0978  CD C5 0B    	call	_spr_draw_index
2236  097B  F1          	pop	af
2237  097C  DD 7E 04    	ld	a,(ix+4)
2238  097F  C6 42       	add	a,0x42
2239  0981  4F          	ld	c,a
2240  0982  DD 7E 05    	ld	a,(ix+5)
2241  0985  CE 00       	adc	a,0x00
2242  0987  47          	ld	b,a
2243  0988  C5          	push	bc
2244  0989  CD C5 0B    	call	_spr_draw_index
2245  098C  F1          	pop	af
2246  098D  DD 7E 04    	ld	a,(ix+4)
2247  0990  C6 44       	add	a,0x44
2248  0992  4F          	ld	c,a
2249  0993  DD 7E 05    	ld	a,(ix+5)
2250  0996  CE 00       	adc	a,0x00
2251  0998  47          	ld	b,a
2252  0999  C5          	push	bc
2253  099A  CD C5 0B    	call	_spr_draw_index
2254  099D  F1          	pop	af
2255  099E  DD 7E 04    	ld	a,(ix+4)
2256  09A1  C6 80       	add	a,0x80
2257  09A3  4F          	ld	c,a
2258  09A4  DD 7E 05    	ld	a,(ix+5)
2259  09A7  CE 00       	adc	a,0x00
2260  09A9  47          	ld	b,a
2261  09AA  C5          	push	bc
2262  09AB  CD C5 0B    	call	_spr_draw_index
2263  09AE  F1          	pop	af
2264  09AF  DD 7E 04    	ld	a,(ix+4)
2265  09B2  C6 82       	add	a,0x82
2266  09B4  4F          	ld	c,a
2267  09B5  DD 7E 05    	ld	a,(ix+5)
2268  09B8  CE 00       	adc	a,0x00
2269  09BA  47          	ld	b,a
2270  09BB  C5          	push	bc
2271  09BC  CD C5 0B    	call	_spr_draw_index
2272  09BF  F1          	pop	af
2273  09C0  DD 7E 04    	ld	a,(ix+4)
2274  09C3  C6 84       	add	a,0x84
2275  09C5  4F          	ld	c,a
2276  09C6  DD 7E 05    	ld	a,(ix+5)
2277  09C9  CE 00       	adc	a,0x00
2278  09CB  47          	ld	b,a
2279  09CC  C5          	push	bc
2280  09CD  CD C5 0B    	call	_spr_draw_index
2281  09D0  F1          	pop	af
2282  09D1  FB          	ei
2283  09D2  76          	halt
2284  09D3  DD E1       	pop	ix
2285  09D5  C9          	ret
2286  09D6              	SECTION code_compiler
2287  09D6              ;	---------------------------------
2288  09D6              ; Function spr_brick_anim
2289  09D6              ; ---------------------------------
2290  09D6              _spr_brick_anim:
2291  09D6  CD 00 00    	call	___sdcc_enter_ix
2292  09D9  F5          	push	af
2293  09DA  DD 75 FE    	ld	(ix-2),l
2294  09DD  21 00 00    	ld	hl,_tmp0
2295  09E0  36 A9       	ld	(hl),0xa9
2296  09E2  2A 00 00    	ld	hl,(_index1)
2297  09E5  01 01 00    	ld	bc,0x0001
2298  09E8  09          	add	hl,bc
2299  09E9  22 00 00    	ld	(_index2),hl
2300  09EC  01 00 00    	ld	bc,_lvl_1+0
2301  09EF  2A 00 00    	ld	hl,(_index1)
2302  09F2  09          	add	hl,bc
2303  09F3  7E          	ld	a,(hl)
2304  09F4  DD 77 FF    	ld	(ix-1),a
2305  09F7  2A 00 00    	ld	hl,(_index2)
2306  09FA  09          	add	hl,bc
2307  09FB  DD 7E FF    	ld	a,(ix-1)
2308  09FE  D6 12       	sub	a,0x12
2309  0A00  4D          	ld	c,l
2310  0A01  44          	ld	b,h
2311  0A02  28 05       	jr	Z,l_spr_brick_anim_00101
2312  0A04  0A          	ld	a,(bc)
2313  0A05  D6 12       	sub	a,0x12
2314  0A07  20 06       	jr	NZ,l_spr_brick_anim_00102
2315  0A09              l_spr_brick_anim_00101:
2316  0A09  3A 00 00    	ld	a,(_game_brick_tile)
2317  0A0C  32 00 00    	ld	(_tmp0),a
2318  0A0F              l_spr_brick_anim_00102:
2319  0A0F  DD 7E FF    	ld	a,(ix-1)
2320  0A12  D6 14       	sub	a,0x14
2321  0A14  28 05       	jr	Z,l_spr_brick_anim_00104
2322  0A16  0A          	ld	a,(bc)
2323  0A17  D6 14       	sub	a,0x14
2324  0A19  20 05       	jr	NZ,l_spr_brick_anim_00105
2325  0A1B              l_spr_brick_anim_00104:
2326  0A1B  21 00 00    	ld	hl,_tmp0
2327  0A1E  36 8B       	ld	(hl),0x8b
2328  0A20              l_spr_brick_anim_00105:
2329  0A20  DD 7E FE    	ld	a,(ix-2)
2330  0A23  B7          	or	a, a
2331  0A24  28 11       	jr	Z,l_spr_brick_anim_00108
2332  0A26  2A 00 00    	ld	hl,(_index_player)
2333  0A29  26 00       	ld	h,0x00
2334  0A2B  11 00 00    	ld	de,_hit_lin
2335  0A2E  19          	add	hl,de
2336  0A2F  7E          	ld	a,(hl)
2337  0A30  C6 F6       	add	a,0xf6
2338  0A32  32 00 00    	ld	(_tmp),a
2339  0A35  18 0F       	jr	l_spr_brick_anim_00109
2340  0A37              l_spr_brick_anim_00108:
2341  0A37  2A 00 00    	ld	hl,(_index_player)
2342  0A3A  26 00       	ld	h,0x00
2343  0A3C  11 00 00    	ld	de,_hit_lin
2344  0A3F  19          	add	hl,de
2345  0A40  7E          	ld	a,(hl)
2346  0A41  C6 F8       	add	a,0xf8
2347  0A43  32 00 00    	ld	(_tmp),a
2348  0A46              l_spr_brick_anim_00109:
2349  0A46  21 00 00    	ld	hl,_tmp_uc
2350  0A49  36 00       	ld	(hl),0x00
2351  0A4B  DD 7E FF    	ld	a,(ix-1)
2352  0A4E  D6 12       	sub	a,0x12
2353  0A50  38 12       	jr	C,l_spr_brick_anim_00111
2354  0A52  0A          	ld	a,(bc)
2355  0A53  B7          	or	a, a
2356  0A54  20 0E       	jr	NZ,l_spr_brick_anim_00111
2357  0A56  2A 00 00    	ld	hl,(_index_player)
2358  0A59  26 00       	ld	h,0x00
2359  0A5B  11 00 00    	ld	de,_hit_col
2360  0A5E  19          	add	hl,de
2361  0A5F  7E          	ld	a,(hl)
2362  0A60  3C          	inc	a
2363  0A61  32 00 00    	ld	(_tmp_uc),a
2364  0A64              l_spr_brick_anim_00111:
2365  0A64  DD 7E FF    	ld	a,(ix-1)
2366  0A67  B7          	or	a, a
2367  0A68  20 14       	jr	NZ,l_spr_brick_anim_00114
2368  0A6A  0A          	ld	a,(bc)
2369  0A6B  D6 12       	sub	a,0x12
2370  0A6D  38 0F       	jr	C,l_spr_brick_anim_00114
2371  0A6F  3A 00 00    	ld	a,(_index_player)
2372  0A72  C6 00       	add	a,+((_hit_col) & 0xFF)
2373  0A74  4F          	ld	c,a
2374  0A75  3E 00       	ld	a,+((_hit_col) / 256)
2375  0A77  CE 00       	adc	a,0x00
2376  0A79  47          	ld	b,a
2377  0A7A  0A          	ld	a,(bc)
2378  0A7B  32 00 00    	ld	(_tmp_uc),a
2379  0A7E              l_spr_brick_anim_00114:
2380  0A7E  DD 7E FE    	ld	a,(ix-2)
2381  0A81  B7          	or	a, a
2382  0A82  28 1B       	jr	Z,l_spr_brick_anim_00117
2383  0A84  3A 00 00    	ld	a,(_index_player)
2384  0A87  C6 00       	add	a,+((_hit_col) & 0xFF)
2385  0A89  4F          	ld	c,a
2386  0A8A  3E 00       	ld	a,+((_hit_col) / 256)
2387  0A8C  CE 00       	adc	a,0x00
2388  0A8E  47          	ld	b,a
2389  0A8F  0A          	ld	a,(bc)
2390  0A90  F5          	push	af
2391  0A91  33          	inc	sp
2392  0A92  2A FF FF    	ld	hl,(_tmp - 1)
2393  0A95  3A 00 00    	ld	a,(_tmp0)
2394  0A98  6F          	ld	l,a
2395  0A99  E5          	push	hl
2396  0A9A  CD 00 00    	call	_NIRVANAP_drawT_callee
2397  0A9D  18 39       	jr	l_spr_brick_anim_00118
2398  0A9F              l_spr_brick_anim_00117:
2399  0A9F  3E 00       	ld	a,+((_hit_col) & 0xFF)
2400  0AA1  21 00 00    	ld	hl,_index_player
2401  0AA4  86          	add	a, (hl)
2402  0AA5  4F          	ld	c,a
2403  0AA6  3E 00       	ld	a,+((_hit_col) / 256)
2404  0AA8  CE 00       	adc	a,0x00
2405  0AAA  47          	ld	b,a
2406  0AAB  0A          	ld	a,(bc)
2407  0AAC  57          	ld	d,a
2408  0AAD  4E          	ld	c,(hl)
2409  0AAE  06 00       	ld	b,0x00
2410  0AB0  21 00 00    	ld	hl,_hit_lin
2411  0AB3  09          	add	hl,bc
2412  0AB4  7E          	ld	a,(hl)
2413  0AB5  C6 F0       	add	a,0xf0
2414  0AB7  5F          	ld	e, a
2415  0AB8  D5          	push	de
2416  0AB9  AF          	xor	a, a
2417  0ABA  F5          	push	af
2418  0ABB  33          	inc	sp
2419  0ABC  CD 00 00    	call	_NIRVANAP_fillT_callee
2420  0ABF  3A 00 00    	ld	a,(_index_player)
2421  0AC2  C6 00       	add	a,+((_hit_col) & 0xFF)
2422  0AC4  4F          	ld	c,a
2423  0AC5  3E 00       	ld	a,+((_hit_col) / 256)
2424  0AC7  CE 00       	adc	a,0x00
2425  0AC9  47          	ld	b,a
2426  0ACA  0A          	ld	a,(bc)
2427  0ACB  F5          	push	af
2428  0ACC  33          	inc	sp
2429  0ACD  2A FF FF    	ld	hl,(_tmp - 1)
2430  0AD0  3A 00 00    	ld	a,(_tmp0)
2431  0AD3  6F          	ld	l,a
2432  0AD4  E5          	push	hl
2433  0AD5  CD 00 00    	call	_NIRVANAP_drawT_callee
2434  0AD8              l_spr_brick_anim_00118:
2435  0AD8  3A 00 00    	ld	a,(_tmp_uc)
2436  0ADB  B7          	or	a, a
2437  0ADC  28 0C       	jr	Z,l_spr_brick_anim_00121
2438  0ADE  F5          	push	af
2439  0ADF  33          	inc	sp
2440  0AE0  2A FF FF    	ld	hl,(_tmp - 1)
2441  0AE3  AF          	xor	a,a
2442  0AE4  6F          	ld	l,a
2443  0AE5  E5          	push	hl
2444  0AE6  CD 00 00    	call	_NIRVANAP_fillC_callee
2445  0AE9  76          	halt
2446  0AEA              l_spr_brick_anim_00121:
2447  0AEA  F1          	pop	af
2448  0AEB  DD E1       	pop	ix
2449  0AED  C9          	ret
2450  0AEE              	SECTION code_compiler
2451  0AEE              ;	---------------------------------
2452  0AEE              ; Function spr_cortina_brick
2453  0AEE              ; ---------------------------------
2454  0AEE              _spr_cortina_brick:
2455  0AEE  21 00 00    	ld	hl,_screen_ink
2456  0AF1  36 06       	ld	(hl),0x06
2457  0AF3  21 00 00    	ld	hl,_screen_paper
2458  0AF6  36 10       	ld	(hl),0x10
2459  0AF8  21 00 00    	ld	hl,_tmp
2460  0AFB  36 00       	ld	(hl),0x00
2461  0AFD  21 00 00    	ld	hl,_tmp0
2462  0B00  36 17       	ld	(hl),0x17
2463  0B02              l_spr_cortina_brick_00101:
2464  0B02  21 00 00    	ld	hl,_tmp
2465  0B05  7E          	ld	a,(hl)
2466  0B06  D6 0D       	sub	a,0x0d
2467  0B08  30 20       	jr	NC,l_spr_cortina_brick_00103
2468  0B0A  6E          	ld	l,(hl)
2469  0B0B  26 23       	ld	h,0x23
2470  0B0D  E5          	push	hl
2471  0B0E  CD 00 00    	call	_game_fill_row
2472  0B11  2A 00 00    	ld	hl,(_tmp0)
2473  0B14  26 23       	ld	h,0x23
2474  0B16  E5          	push	hl
2475  0B17  CD 00 00    	call	_game_fill_row
2476  0B1A  21 00 00    	ld	hl,_tmp0
2477  0B1D  35          	dec	(hl)
2478  0B1E  21 00 00    	ld	hl,_tmp
2479  0B21  34          	inc	(hl)
2480  0B22  21 19 00    	ld	hl,0x0019
2481  0B25  CD 00 00    	call	_z80_delay_ms_fastcall
2482  0B28  18 D8       	jr	l_spr_cortina_brick_00101
2483  0B2A              l_spr_cortina_brick_00103:
2484  0B2A  21 00 00    	ld	hl,0x0000
2485  0B2D  CD 00 00    	call	_zx_cls_fastcall
2486  0B30  21 00 00    	ld	hl,_screen_paper
2487  0B33  36 00       	ld	(hl),0x00
2488  0B35  C9          	ret
2489  0B36              	SECTION code_compiler
2490  0B36              ;	---------------------------------
2491  0B36              ; Function spr_water_splash_draw
2492  0B36              ; ---------------------------------
2493  0B36              _spr_water_splash_draw:
2494  0B36  45          	ld	b,l
2495  0B37  3A 00 00    	ld	a,(_spr_water_clear)
2496  0B3A  3C          	inc	a
2497  0B3B  C0          	ret	NZ
2498  0B3C  21 00 00    	ld	hl,_screen_paper
2499  0B3F  36 10       	ld	(hl),0x10
2500  0B41  21 00 00    	ld	hl,_screen_ink
2501  0B44  36 05       	ld	(hl),0x05
2502  0B46  C5          	push	bc
2503  0B47  21 00 00    	ld	hl,___str_0
2504  0B4A  E5          	push	hl
2505  0B4B  C5          	push	bc
2506  0B4C  33          	inc	sp
2507  0B4D  3E 14       	ld	a,0x14
2508  0B4F  F5          	push	af
2509  0B50  33          	inc	sp
2510  0B51  CD 00 00    	call	_zx_print_str
2511  0B54  C1          	pop	bc
2512  0B55  21 00 00    	ld	hl,_screen_ink
2513  0B58  36 07       	ld	(hl),0x07
2514  0B5A  C5          	push	bc
2515  0B5B  21 03 00    	ld	hl,___str_1
2516  0B5E  E5          	push	hl
2517  0B5F  C5          	push	bc
2518  0B60  33          	inc	sp
2519  0B61  3E 15       	ld	a,0x15
2520  0B63  F5          	push	af
2521  0B64  33          	inc	sp
2522  0B65  CD 00 00    	call	_zx_print_str
2523  0B68  C1          	pop	bc
2524  0B69  21 00 00    	ld	hl,_spr_water_clear
2525  0B6C  70          	ld	(hl),b
2526  0B6D  2A 00 00    	ld	hl,(_curr_time)
2527  0B70  22 00 00    	ld	(_spr_water_time),hl
2528  0B73  21 00 00    	ld	hl,_screen_paper
2529  0B76  36 00       	ld	(hl),0x00
2530  0B78  C9          	ret
2531  0B79              	SECTION rodata_compiler
2532  0000              ___str_0:
2533  0000  28 29       	DEFM "()"
2534  0002  00          	DEFB 0x00
2535  0003              	SECTION rodata_compiler
2536  0003              ___str_1:
2537  0003  2A 2B       	DEFM "*+"
2538  0005  00          	DEFB 0x00
2539  0006              	SECTION code_compiler
2540  0B79              ;	---------------------------------
2541  0B79              ; Function spr_water_splash_clear
2542  0B79              ; ---------------------------------
2543  0B79              _spr_water_splash_clear:
2544  0B79  3A 00 00    	ld	a,(_spr_water_clear)
2545  0B7C  D6 20       	sub	a,0x20
2546  0B7E  D0          	ret	NC
2547  0B7F  21 0F 00    	ld	hl,0x000f
2548  0B82  E5          	push	hl
2549  0B83  2A 00 00    	ld	hl,(_spr_water_time)
2550  0B86  E5          	push	hl
2551  0B87  CD 00 00    	call	_game_check_time
2552  0B8A  F1          	pop	af
2553  0B8B  F1          	pop	af
2554  0B8C  7D          	ld	a,l
2555  0B8D  B7          	or	a, a
2556  0B8E  C8          	ret	Z
2557  0B8F  21 00 00    	ld	hl,_screen_ink
2558  0B92  36 06       	ld	(hl),0x06
2559  0B94  21 00 00    	ld	hl,_screen_paper
2560  0B97  36 10       	ld	(hl),0x10
2561  0B99  3A 00 00    	ld	a,(_spr_water_clear)
2562  0B9C  21 06 00    	ld	hl,___str_2
2563  0B9F  E5          	push	hl
2564  0BA0  57          	ld	d,a
2565  0BA1  1E 14       	ld	e,0x14
2566  0BA3  D5          	push	de
2567  0BA4  CD 00 00    	call	_zx_print_str
2568  0BA7  3A 00 00    	ld	a,(_spr_water_clear)
2569  0BAA  21 06 00    	ld	hl,___str_2
2570  0BAD  E5          	push	hl
2571  0BAE  57          	ld	d,a
2572  0BAF  1E 15       	ld	e,0x15
2573  0BB1  D5          	push	de
2574  0BB2  CD 00 00    	call	_zx_print_str
2575  0BB5  21 00 00    	ld	hl,_screen_ink
2576  0BB8  36 07       	ld	(hl),0x07
2577  0BBA  21 00 00    	ld	hl,_screen_paper
2578  0BBD  36 00       	ld	(hl),0x00
2579  0BBF  21 00 00    	ld	hl,_spr_water_clear
2580  0BC2  36 FF       	ld	(hl),0xff
2581  0BC4  C9          	ret
2582  0BC5              	SECTION rodata_compiler
2583  0006              ___str_2:
2584  0006  23 23       	DEFM "##"
2585  0008  00          	DEFB 0x00
2586  0009              	SECTION code_compiler
2587  0BC5              ;	---------------------------------
2588  0BC5              ; Function spr_draw_index
2589  0BC5              ; ---------------------------------
2590  0BC5              _spr_draw_index:
2591  0BC5  CD 00 00    	call	___sdcc_enter_ix
2592  0BC8  DD 7E 04    	ld	a,(ix+4)
2593  0BCB  E6 1F       	and	a,0x1f
2594  0BCD  32 00 00    	ld	(_s_col1),a
2595  0BD0  DD 4E 04    	ld	c,(ix+4)
2596  0BD3  DD 5E 05    	ld	e,(ix+5)
2597  0BD6  06 05       	ld	b,0x05
2598  0BD8  79          	ld	a,c
2599  0BD9              l_spr_draw_index_00103:
2600  0BD9  CB 3B       	srl	e
2601  0BDB  1F          	rra
2602  0BDC  10 FB       	djnz	l_spr_draw_index_00103
2603  0BDE  21 00 00    	ld	hl,_s_lin1
2604  0BE1  77          	ld	(hl),a
2605  0BE2  07          	rlca
2606  0BE3  07          	rlca
2607  0BE4  07          	rlca
2608  0BE5  E6 F8       	and	a,0xf8
2609  0BE7  77          	ld	(hl),a
2610  0BE8  01 00 00    	ld	bc,_spr_idx+0
2611  0BEB  3E 00       	ld	a,+((_lvl_1) & 0xFF)
2612  0BED  DD 86 04    	add	a,(ix+4)
2613  0BF0  5F          	ld	e,a
2614  0BF1  3E 00       	ld	a,+((_lvl_1) / 256)
2615  0BF3  DD 8E 05    	adc	a,(ix+5)
2616  0BF6  57          	ld	d,a
2617  0BF7  1A          	ld	a,(de)
2618  0BF8  6F          	ld	l,a
2619  0BF9  26 00       	ld	h,0x00
2620  0BFB  29          	add	hl, hl
2621  0BFC  09          	add	hl,bc
2622  0BFD  46          	ld	b,(hl)
2623  0BFE  3A 00 00    	ld	a,(_s_col1)
2624  0C01  F5          	push	af
2625  0C02  33          	inc	sp
2626  0C03  3A 00 00    	ld	a,(_s_lin1)
2627  0C06  48          	ld	c,b
2628  0C07  47          	ld	b,a
2629  0C08  C5          	push	bc
2630  0C09  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2631  0C0C  DD E1       	pop	ix
2632  0C0E  C9          	ret
2633  0C0F              	SECTION code_compiler
2634  0C0F              ;	---------------------------------
2635  0C0F              ; Function spr_draw_row
2636  0C0F              ; ---------------------------------
2637  0C0F              _spr_draw_row:
2638  0C0F  CD 00 00    	call	___sdcc_enter_ix
2639  0C12  21 00 00    	ld	hl,_tmp
2640  0C15  36 00       	ld	(hl),0x00
2641  0C17              l_spr_draw_row_00101:
2642  0C17  21 00 00    	ld	hl,_tmp
2643  0C1A  7E          	ld	a,(hl)
2644  0C1B  D6 20       	sub	a,0x20
2645  0C1D  30 27       	jr	NC,l_spr_draw_row_00104
2646  0C1F  DD 4E 04    	ld	c,(ix+4)
2647  0C22  3E 00       	ld	a,0x00
2648  0C24  CB 21       	sla	c
2649  0C26  17          	rla
2650  0C27  CB 21       	sla	c
2651  0C29  17          	rla
2652  0C2A  CB 21       	sla	c
2653  0C2C  17          	rla
2654  0C2D  CB 21       	sla	c
2655  0C2F  17          	rla
2656  0C30  CB 21       	sla	c
2657  0C32  17          	rla
2658  0C33  47          	ld	b,a
2659  0C34  5E          	ld	e,(hl)
2660  0C35  16 00       	ld	d,0x00
2661  0C37  69          	ld	l, c
2662  0C38  60          	ld	h, b
2663  0C39  19          	add	hl,de
2664  0C3A  E5          	push	hl
2665  0C3B  CD C5 0B    	call	_spr_draw_index
2666  0C3E  F1          	pop	af
2667  0C3F  21 00 00    	ld	hl,_tmp
2668  0C42  34          	inc	(hl)
2669  0C43  34          	inc	(hl)
2670  0C44  18 D1       	jr	l_spr_draw_row_00101
2671  0C46              l_spr_draw_row_00104:
2672  0C46  DD E1       	pop	ix
2673  0C48  C9          	ret
2674  0C49              	SECTION IGNORE
2675  0000              
