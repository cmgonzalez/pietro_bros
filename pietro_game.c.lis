1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _compare_scores
181   0000              	GLOBAL _game_calc_index
182   0000              	GLOBAL _game_print_footer
183   0000              	GLOBAL _game_phase_print_score_back
184   0000              	GLOBAL _game_print_lives
185   0000              	GLOBAL _game_tick
186   0000              	GLOBAL _game_start_timer
187   0000              	GLOBAL _game_phase_calc
188   0000              	GLOBAL _game_phase_init
189   0000              	GLOBAL _game_print_header
190   0000              	GLOBAL _game_phase_print
191   0000              	GLOBAL _game_loop
192   0000              	GLOBAL _game_score_osd
193   0000              	GLOBAL _game_bonus_clock
194   0000              	GLOBAL _game_bonus_summary
195   0000              	GLOBAL _game_bonus_summary_player
196   0000              	GLOBAL _game_kill_all_sprites
197   0000              	GLOBAL _game_check_maze
198   0000              	GLOBAL _game_enemy_add
199   0000              	GLOBAL _game_enemy_quota
200   0000              	GLOBAL _game_enemy_rnd
201   0000              	GLOBAL _game_enemy_add1
202   0000              	GLOBAL _game_enemy_add_get_index
203   0000              	GLOBAL _game_freeze
204   0000              	GLOBAL _game_unfreeze_all
205   0000              	GLOBAL _game_freeze_all
206   0000              	GLOBAL _game_print_score
207   0000              	GLOBAL _game_paint_attrib
208   0000              	GLOBAL _game_paint_attrib_lin
209   0000              	GLOBAL _game_paint_attrib_lin_h
210   0000              	GLOBAL _game_menu_config
211   0000              	GLOBAL _game_joystick_change
212   0000              	GLOBAL _game_joystick_set_menu
213   0000              	GLOBAL _game_joystick_set
214   0000              	GLOBAL _game_menu
215   0000              	GLOBAL _game_menu_top_paint
216   0000              	GLOBAL _game_menu_paint
217   0000              	GLOBAL _game_menu_e
218   0000              	GLOBAL _game_menu_handle
219   0000              	GLOBAL _game_end
220   0000              	GLOBAL _game_hall_check
221   0000              	GLOBAL _game_hall_enter
222   0000              	GLOBAL _game_menu_back
223   0000              	GLOBAL _game_hall_enter_phs
224   0000              	GLOBAL _game_hall_print_p
225   0000              	GLOBAL _game_hall_edit_p
226   0000              	GLOBAL _game_hall_of_fame
227   0000              	GLOBAL _game_rotate_attrib
228   0000              	GLOBAL _game_colour_message
229   0000              	GLOBAL _game_check_time
230   0000              ;--------------------------------------------------------
231   0000              ; Externals used
232   0000              ;--------------------------------------------------------
233   0000              	GLOBAL _debug3
234   0000              	GLOBAL _debug2
235   0000              	GLOBAL _debug
236   0000              	GLOBAL _zx_print_str
237   0000              	GLOBAL _zx_print_int
238   0000              	GLOBAL _zx_print_chr
239   0000              	GLOBAL _zx_print_bonus_time
240   0000              	GLOBAL _zx_isr
241   0000              	GLOBAL _spr_draw_clear
242   0000              	GLOBAL _spr_water_splash_draw
243   0000              	GLOBAL _spr_water_splash_clear
244   0000              	GLOBAL _spr_draw_back
245   0000              	GLOBAL _spr_cortina_pipes
246   0000              	GLOBAL _spr_cortina_brick
247   0000              	GLOBAL _spr_brick_anim
248   0000              	GLOBAL _spr_back_fix4
249   0000              	GLOBAL _spr_back_fix3
250   0000              	GLOBAL _spr_back_fix2
251   0000              	GLOBAL _spr_back_fix1
252   0000              	GLOBAL _spr_back_fix
253   0000              	GLOBAL _spr_back_clr
254   0000              	GLOBAL _spr_draw_pow
255   0000              	GLOBAL _spr_tile
256   0000              	GLOBAL _spr_set_fall
257   0000              	GLOBAL _spr_destroy
258   0000              	GLOBAL _spr_check_over
259   0000              	GLOBAL _spr_tile_dir
260   0000              	GLOBAL _spr_anim_kill
261   0000              	GLOBAL _spr_anim_fall
262   0000              	GLOBAL _spr_killed
263   0000              	GLOBAL _spr_redraw
264   0000              	GLOBAL _spr_move_left
265   0000              	GLOBAL _spr_move_right
266   0000              	GLOBAL _spr_move_horizontal
267   0000              	GLOBAL _spr_move_down
268   0000              	GLOBAL _spr_move_up
269   0000              	GLOBAL _spr_chktime
270   0000              	GLOBAL _sound_hit_pow
271   0000              	GLOBAL _sound_hit_brick
272   0000              	GLOBAL _sound_hit_enemy
273   0000              	GLOBAL _sound_kill
274   0000              	GLOBAL _sound_enter_enemy
275   0000              	GLOBAL _sound_coin
276   0000              	GLOBAL _sound_jump
277   0000              	GLOBAL _sound_slide
278   0000              	GLOBAL _player_move_horizontal
279   0000              	GLOBAL _player_push_check
280   0000              	GLOBAL _player_push
281   0000              	GLOBAL _player_hit_brick_clear
282   0000              	GLOBAL _player_lost_life
283   0000              	GLOBAL _player_score_add
284   0000              	GLOBAL _player_coin
285   0000              	GLOBAL _player_hit_pow
286   0000              	GLOBAL _player_hit_brick
287   0000              	GLOBAL _player_move_input
288   0000              	GLOBAL _player_turn
289   0000              	GLOBAL _player_move
290   0000              	GLOBAL _player_restart
291   0000              	GLOBAL _player_kill
292   0000              	GLOBAL _player_check_input
293   0000              	GLOBAL _player_collition_check
294   0000              	GLOBAL _player_collition
295   0000              	GLOBAL _player_calc_slide
296   0000              	GLOBAL _player_init
297   0000              	GLOBAL _player_set2
298   0000              	GLOBAL _player_set1
299   0000              	GLOBAL _game_fill_row
300   0000              	GLOBAL _enemy_kill
301   0000              	GLOBAL _enemy_init
302   0000              	GLOBAL _enemy_walk
303   0000              	GLOBAL _enemy_upgrade
304   0000              	GLOBAL _enemy_evolve
305   0000              	GLOBAL _enemy_standard_hit
306   0000              	GLOBAL _enemy_trip
307   0000              	GLOBAL _enemy_fighterfly
308   0000              	GLOBAL _enemy_fireball_green
309   0000              	GLOBAL _enemy_fireball_red
310   0000              	GLOBAL _enemy_slipice
311   0000              	GLOBAL _enemy_standard
312   0000              	GLOBAL _enemy_turn
313   0000              	GLOBAL _enemy_flip_sidestepper
314   0000              	GLOBAL _enemy_flip
315   0000              	GLOBAL _enemy_flip_change_dir
316   0000              	GLOBAL _enemy_hit
317   0000              	GLOBAL _enemy_collition_check
318   0000              	GLOBAL _enemy_collition
319   0000              	GLOBAL _enemy_coin1
320   0000              	GLOBAL _ay_fx_play
321   0000              	GLOBAL _ay_midi_play
322   0000              	GLOBAL _ay_is_playing
323   0000              	GLOBAL _ay_reset
324   0000              	GLOBAL _test_func
325   0000              	GLOBAL _in_mouse_kempston_wheel_delta
326   0000              	GLOBAL _in_mouse_kempston_wheel
327   0000              	GLOBAL _in_mouse_kempston_callee
328   0000              	GLOBAL _in_mouse_kempston
329   0000              	GLOBAL _in_mouse_kempston_setpos_callee
330   0000              	GLOBAL _in_mouse_kempston_setpos
331   0000              	GLOBAL _in_mouse_kempston_reset
332   0000              	GLOBAL _in_mouse_kempston_init
333   0000              	GLOBAL _in_mouse_amx_wheel_delta
334   0000              	GLOBAL _in_mouse_amx_wheel
335   0000              	GLOBAL _in_mouse_amx_callee
336   0000              	GLOBAL _in_mouse_amx
337   0000              	GLOBAL _in_mouse_amx_setpos_callee
338   0000              	GLOBAL _in_mouse_amx_setpos
339   0000              	GLOBAL _in_mouse_amx_reset
340   0000              	GLOBAL _in_mouse_amx_init_callee
341   0000              	GLOBAL _in_mouse_amx_init
342   0000              	GLOBAL _in_stick_sinclair2
343   0000              	GLOBAL _in_stick_sinclair1
344   0000              	GLOBAL _in_stick_kempston
345   0000              	GLOBAL _in_stick_fuller
346   0000              	GLOBAL _in_stick_cursor
347   0000              	GLOBAL _in_stick_keyboard_fastcall
348   0000              	GLOBAL _in_stick_keyboard
349   0000              	GLOBAL _in_wait_nokey
350   0000              	GLOBAL _in_wait_key
351   0000              	GLOBAL _in_test_key
352   0000              	GLOBAL _in_pause_fastcall
353   0000              	GLOBAL _in_pause
354   0000              	GLOBAL _in_key_scancode_fastcall
355   0000              	GLOBAL _in_key_scancode
356   0000              	GLOBAL _in_key_pressed_fastcall
357   0000              	GLOBAL _in_key_pressed
358   0000              	GLOBAL _in_inkey
359   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawTW_raw
361   0000              	GLOBAL _NIRVANAP_drawTW_callee
362   0000              	GLOBAL _NIRVANAP_drawTW
363   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
364   0000              	GLOBAL _NIRVANAP_drawW_raw
365   0000              	GLOBAL _NIRVANAP_drawW_callee
366   0000              	GLOBAL _NIRVANAP_drawW
367   0000              	GLOBAL _NIRVANAP_spriteT_callee
368   0000              	GLOBAL _NIRVANAP_spriteT
369   0000              	GLOBAL _NIRVANAP_fillC_callee
370   0000              	GLOBAL _NIRVANAP_fillC
371   0000              	GLOBAL _NIRVANAP_readC_callee
372   0000              	GLOBAL _NIRVANAP_readC
373   0000              	GLOBAL _NIRVANAP_paintC_callee
374   0000              	GLOBAL _NIRVANAP_paintC
375   0000              	GLOBAL _NIRVANAP_printC_callee
376   0000              	GLOBAL _NIRVANAP_printC
377   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
378   0000              	GLOBAL _NIRVANAP_fillT_raw
379   0000              	GLOBAL _NIRVANAP_fillT_callee
380   0000              	GLOBAL _NIRVANAP_fillT
381   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
382   0000              	GLOBAL _NIRVANAP_drawT_raw
383   0000              	GLOBAL _NIRVANAP_drawT_callee
384   0000              	GLOBAL _NIRVANAP_drawT
385   0000              	GLOBAL _NIRVANAP_stop
386   0000              	GLOBAL _NIRVANAP_start
387   0000              	GLOBAL _z80_otdr_callee
388   0000              	GLOBAL _z80_otdr
389   0000              	GLOBAL _z80_otir_callee
390   0000              	GLOBAL _z80_otir
391   0000              	GLOBAL _z80_outp_callee
392   0000              	GLOBAL _z80_outp
393   0000              	GLOBAL _z80_indr_callee
394   0000              	GLOBAL _z80_indr
395   0000              	GLOBAL _z80_inir_callee
396   0000              	GLOBAL _z80_inir
397   0000              	GLOBAL _z80_inp_fastcall
398   0000              	GLOBAL _z80_inp
399   0000              	GLOBAL _z80_set_int_state_fastcall
400   0000              	GLOBAL _z80_set_int_state
401   0000              	GLOBAL _z80_get_int_state
402   0000              	GLOBAL _z80_delay_tstate_fastcall
403   0000              	GLOBAL _z80_delay_tstate
404   0000              	GLOBAL _z80_delay_ms_fastcall
405   0000              	GLOBAL _z80_delay_ms
406   0000              	GLOBAL _im2_remove_generic_callback_callee
407   0000              	GLOBAL _im2_remove_generic_callback
408   0000              	GLOBAL _im2_prepend_generic_callback_callee
409   0000              	GLOBAL _im2_prepend_generic_callback
410   0000              	GLOBAL _im2_append_generic_callback_callee
411   0000              	GLOBAL _im2_append_generic_callback
412   0000              	GLOBAL _im2_create_generic_isr_8080_callee
413   0000              	GLOBAL _im2_create_generic_isr_8080
414   0000              	GLOBAL _im2_create_generic_isr_callee
415   0000              	GLOBAL _im2_create_generic_isr
416   0000              	GLOBAL _im2_install_isr_callee
417   0000              	GLOBAL _im2_install_isr
418   0000              	GLOBAL _im2_init_fastcall
419   0000              	GLOBAL _im2_init
420   0000              	GLOBAL _ffsll_callee
421   0000              	GLOBAL _ffsll
422   0000              	GLOBAL _strxfrm_callee
423   0000              	GLOBAL _strxfrm
424   0000              	GLOBAL _strupr_fastcall
425   0000              	GLOBAL _strupr
426   0000              	GLOBAL _strtok_r_callee
427   0000              	GLOBAL _strtok_r
428   0000              	GLOBAL _strtok_callee
429   0000              	GLOBAL _strtok
430   0000              	GLOBAL _strstrip_fastcall
431   0000              	GLOBAL _strstrip
432   0000              	GLOBAL _strstr_callee
433   0000              	GLOBAL _strstr
434   0000              	GLOBAL _strspn_callee
435   0000              	GLOBAL _strspn
436   0000              	GLOBAL _strsep_callee
437   0000              	GLOBAL _strsep
438   0000              	GLOBAL _strrstrip_fastcall
439   0000              	GLOBAL _strrstrip
440   0000              	GLOBAL _strrspn_callee
441   0000              	GLOBAL _strrspn
442   0000              	GLOBAL _strrev_fastcall
443   0000              	GLOBAL _strrev
444   0000              	GLOBAL _strrcspn_callee
445   0000              	GLOBAL _strrcspn
446   0000              	GLOBAL _strrchr_callee
447   0000              	GLOBAL _strrchr
448   0000              	GLOBAL _strpbrk_callee
449   0000              	GLOBAL _strpbrk
450   0000              	GLOBAL _strnlen_callee
451   0000              	GLOBAL _strnlen
452   0000              	GLOBAL _strnicmp_callee
453   0000              	GLOBAL _strnicmp
454   0000              	GLOBAL _strndup_callee
455   0000              	GLOBAL _strndup
456   0000              	GLOBAL _strncpy_callee
457   0000              	GLOBAL _strncpy
458   0000              	GLOBAL _strncmp_callee
459   0000              	GLOBAL _strncmp
460   0000              	GLOBAL _strnchr_callee
461   0000              	GLOBAL _strnchr
462   0000              	GLOBAL _strncat_callee
463   0000              	GLOBAL _strncat
464   0000              	GLOBAL _strncasecmp_callee
465   0000              	GLOBAL _strncasecmp
466   0000              	GLOBAL _strlwr_fastcall
467   0000              	GLOBAL _strlwr
468   0000              	GLOBAL _strlen_fastcall
469   0000              	GLOBAL _strlen
470   0000              	GLOBAL _strlcpy_callee
471   0000              	GLOBAL _strlcpy
472   0000              	GLOBAL _strlcat_callee
473   0000              	GLOBAL _strlcat
474   0000              	GLOBAL _stricmp_callee
475   0000              	GLOBAL _stricmp
476   0000              	GLOBAL _strerror_fastcall
477   0000              	GLOBAL _strerror
478   0000              	GLOBAL _strdup_fastcall
479   0000              	GLOBAL _strdup
480   0000              	GLOBAL _strcspn_callee
481   0000              	GLOBAL _strcspn
482   0000              	GLOBAL _strcpy_callee
483   0000              	GLOBAL _strcpy
484   0000              	GLOBAL _strcoll_callee
485   0000              	GLOBAL _strcoll
486   0000              	GLOBAL _strcmp_callee
487   0000              	GLOBAL _strcmp
488   0000              	GLOBAL _strchrnul_callee
489   0000              	GLOBAL _strchrnul
490   0000              	GLOBAL _strchr_callee
491   0000              	GLOBAL _strchr
492   0000              	GLOBAL _strcat_callee
493   0000              	GLOBAL _strcat
494   0000              	GLOBAL _strcasecmp_callee
495   0000              	GLOBAL _strcasecmp
496   0000              	GLOBAL _stpncpy_callee
497   0000              	GLOBAL _stpncpy
498   0000              	GLOBAL _stpcpy_callee
499   0000              	GLOBAL _stpcpy
500   0000              	GLOBAL _memswap_callee
501   0000              	GLOBAL _memswap
502   0000              	GLOBAL _memset_callee
503   0000              	GLOBAL _memset
504   0000              	GLOBAL _memrchr_callee
505   0000              	GLOBAL _memrchr
506   0000              	GLOBAL _memmove_callee
507   0000              	GLOBAL _memmove
508   0000              	GLOBAL _memmem_callee
509   0000              	GLOBAL _memmem
510   0000              	GLOBAL _memcpy_callee
511   0000              	GLOBAL _memcpy
512   0000              	GLOBAL _memcmp_callee
513   0000              	GLOBAL _memcmp
514   0000              	GLOBAL _memchr_callee
515   0000              	GLOBAL _memchr
516   0000              	GLOBAL _memccpy_callee
517   0000              	GLOBAL _memccpy
518   0000              	GLOBAL _ffsl_fastcall
519   0000              	GLOBAL _ffsl
520   0000              	GLOBAL _ffs_fastcall
521   0000              	GLOBAL _ffs
522   0000              	GLOBAL __strrstrip__fastcall
523   0000              	GLOBAL __strrstrip_
524   0000              	GLOBAL __memupr__callee
525   0000              	GLOBAL __memupr_
526   0000              	GLOBAL __memstrcpy__callee
527   0000              	GLOBAL __memstrcpy_
528   0000              	GLOBAL __memlwr__callee
529   0000              	GLOBAL __memlwr_
530   0000              	GLOBAL _rawmemchr_callee
531   0000              	GLOBAL _rawmemchr
532   0000              	GLOBAL _strnset_callee
533   0000              	GLOBAL _strnset
534   0000              	GLOBAL _strset_callee
535   0000              	GLOBAL _strset
536   0000              	GLOBAL _rindex_callee
537   0000              	GLOBAL _rindex
538   0000              	GLOBAL _index_callee
539   0000              	GLOBAL _index
540   0000              	GLOBAL _bzero_callee
541   0000              	GLOBAL _bzero
542   0000              	GLOBAL _bcopy_callee
543   0000              	GLOBAL _bcopy
544   0000              	GLOBAL _bcmp_callee
545   0000              	GLOBAL _bcmp
546   0000              	GLOBAL _ulltoa_callee
547   0000              	GLOBAL _ulltoa
548   0000              	GLOBAL _strtoull_callee
549   0000              	GLOBAL _strtoull
550   0000              	GLOBAL _strtoll_callee
551   0000              	GLOBAL _strtoll
552   0000              	GLOBAL _lltoa_callee
553   0000              	GLOBAL _lltoa
554   0000              	GLOBAL _llabs_callee
555   0000              	GLOBAL _llabs
556   0000              	GLOBAL __lldivu__callee
557   0000              	GLOBAL __lldivu_
558   0000              	GLOBAL __lldiv__callee
559   0000              	GLOBAL __lldiv_
560   0000              	GLOBAL _atoll_callee
561   0000              	GLOBAL _atoll
562   0000              	GLOBAL _realloc_unlocked_callee
563   0000              	GLOBAL _realloc_unlocked
564   0000              	GLOBAL _malloc_unlocked_fastcall
565   0000              	GLOBAL _malloc_unlocked
566   0000              	GLOBAL _free_unlocked_fastcall
567   0000              	GLOBAL _free_unlocked
568   0000              	GLOBAL _calloc_unlocked_callee
569   0000              	GLOBAL _calloc_unlocked
570   0000              	GLOBAL _aligned_alloc_unlocked_callee
571   0000              	GLOBAL _aligned_alloc_unlocked
572   0000              	GLOBAL _realloc_callee
573   0000              	GLOBAL _realloc
574   0000              	GLOBAL _malloc_fastcall
575   0000              	GLOBAL _malloc
576   0000              	GLOBAL _free_fastcall
577   0000              	GLOBAL _free
578   0000              	GLOBAL _calloc_callee
579   0000              	GLOBAL _calloc
580   0000              	GLOBAL _aligned_alloc_callee
581   0000              	GLOBAL _aligned_alloc
582   0000              	GLOBAL _utoa_callee
583   0000              	GLOBAL _utoa
584   0000              	GLOBAL _ultoa_callee
585   0000              	GLOBAL _ultoa
586   0000              	GLOBAL _system_fastcall
587   0000              	GLOBAL _system
588   0000              	GLOBAL _strtoul_callee
589   0000              	GLOBAL _strtoul
590   0000              	GLOBAL _strtol_callee
591   0000              	GLOBAL _strtol
592   0000              	GLOBAL _strtof_callee
593   0000              	GLOBAL _strtof
594   0000              	GLOBAL _strtod_callee
595   0000              	GLOBAL _strtod
596   0000              	GLOBAL _srand_fastcall
597   0000              	GLOBAL _srand
598   0000              	GLOBAL _rand
599   0000              	GLOBAL _quick_exit_fastcall
600   0000              	GLOBAL _quick_exit
601   0000              	GLOBAL _qsort_callee
602   0000              	GLOBAL _qsort
603   0000              	GLOBAL _ltoa_callee
604   0000              	GLOBAL _ltoa
605   0000              	GLOBAL _labs_fastcall
606   0000              	GLOBAL _labs
607   0000              	GLOBAL _itoa_callee
608   0000              	GLOBAL _itoa
609   0000              	GLOBAL _ftoh_callee
610   0000              	GLOBAL _ftoh
611   0000              	GLOBAL _ftog_callee
612   0000              	GLOBAL _ftog
613   0000              	GLOBAL _ftoe_callee
614   0000              	GLOBAL _ftoe
615   0000              	GLOBAL _ftoa_callee
616   0000              	GLOBAL _ftoa
617   0000              	GLOBAL _exit_fastcall
618   0000              	GLOBAL _exit
619   0000              	GLOBAL _dtoh_callee
620   0000              	GLOBAL _dtoh
621   0000              	GLOBAL _dtog_callee
622   0000              	GLOBAL _dtog
623   0000              	GLOBAL _dtoe_callee
624   0000              	GLOBAL _dtoe
625   0000              	GLOBAL _dtoa_callee
626   0000              	GLOBAL _dtoa
627   0000              	GLOBAL _bsearch_callee
628   0000              	GLOBAL _bsearch
629   0000              	GLOBAL _atol_fastcall
630   0000              	GLOBAL _atol
631   0000              	GLOBAL _atoi_fastcall
632   0000              	GLOBAL _atoi
633   0000              	GLOBAL _atof_fastcall
634   0000              	GLOBAL _atof
635   0000              	GLOBAL _atexit_fastcall
636   0000              	GLOBAL _atexit
637   0000              	GLOBAL _at_quick_exit_fastcall
638   0000              	GLOBAL _at_quick_exit
639   0000              	GLOBAL _abs_fastcall
640   0000              	GLOBAL _abs
641   0000              	GLOBAL _abort
642   0000              	GLOBAL __strtou__callee
643   0000              	GLOBAL __strtou_
644   0000              	GLOBAL __strtoi__callee
645   0000              	GLOBAL __strtoi_
646   0000              	GLOBAL __random_uniform_xor_8__fastcall
647   0000              	GLOBAL __random_uniform_xor_8_
648   0000              	GLOBAL __random_uniform_xor_32__fastcall
649   0000              	GLOBAL __random_uniform_xor_32_
650   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
651   0000              	GLOBAL __random_uniform_cmwc_8_
652   0000              	GLOBAL __shellsort__callee
653   0000              	GLOBAL __shellsort_
654   0000              	GLOBAL __quicksort__callee
655   0000              	GLOBAL __quicksort_
656   0000              	GLOBAL __insertion_sort__callee
657   0000              	GLOBAL __insertion_sort_
658   0000              	GLOBAL __ldivu__callee
659   0000              	GLOBAL __ldivu_
660   0000              	GLOBAL __ldiv__callee
661   0000              	GLOBAL __ldiv_
662   0000              	GLOBAL __divu__callee
663   0000              	GLOBAL __divu_
664   0000              	GLOBAL __div__callee
665   0000              	GLOBAL __div_
666   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
667   0000              	GLOBAL _intrinsic_swap_word_32
668   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
669   0000              	GLOBAL _intrinsic_swap_endian_32
670   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
671   0000              	GLOBAL _intrinsic_swap_endian_16
672   0000              	GLOBAL _intrinsic_return_de
673   0000              	GLOBAL _intrinsic_return_bc
674   0000              	GLOBAL _intrinsic_exx
675   0000              	GLOBAL _intrinsic_ex_de_hl
676   0000              	GLOBAL _intrinsic_pop_iy
677   0000              	GLOBAL _intrinsic_pop_ix
678   0000              	GLOBAL _intrinsic_pop_hl
679   0000              	GLOBAL _intrinsic_pop_de
680   0000              	GLOBAL _intrinsic_pop_bc
681   0000              	GLOBAL _intrinsic_pop_af
682   0000              	GLOBAL _intrinsic_push_iy
683   0000              	GLOBAL _intrinsic_push_ix
684   0000              	GLOBAL _intrinsic_push_hl
685   0000              	GLOBAL _intrinsic_push_de
686   0000              	GLOBAL _intrinsic_push_bc
687   0000              	GLOBAL _intrinsic_push_af
688   0000              	GLOBAL _intrinsic_nop
689   0000              	GLOBAL _intrinsic_im_2
690   0000              	GLOBAL _intrinsic_im_1
691   0000              	GLOBAL _intrinsic_im_0
692   0000              	GLOBAL _intrinsic_retn
693   0000              	GLOBAL _intrinsic_reti
694   0000              	GLOBAL _intrinsic_halt
695   0000              	GLOBAL _intrinsic_ei
696   0000              	GLOBAL _intrinsic_di
697   0000              	GLOBAL _intrinsic_stub
698   0000              	GLOBAL _zx_pattern_fill_callee
699   0000              	GLOBAL _zx_pattern_fill
700   0000              	GLOBAL _zx_saddrpup_fastcall
701   0000              	GLOBAL _zx_saddrpup
702   0000              	GLOBAL _zx_saddrpright_callee
703   0000              	GLOBAL _zx_saddrpright
704   0000              	GLOBAL _zx_saddrpleft_callee
705   0000              	GLOBAL _zx_saddrpleft
706   0000              	GLOBAL _zx_saddrpdown_fastcall
707   0000              	GLOBAL _zx_saddrpdown
708   0000              	GLOBAL _zx_saddrcup_fastcall
709   0000              	GLOBAL _zx_saddrcup
710   0000              	GLOBAL _zx_saddrcright_fastcall
711   0000              	GLOBAL _zx_saddrcright
712   0000              	GLOBAL _zx_saddrcleft_fastcall
713   0000              	GLOBAL _zx_saddrcleft
714   0000              	GLOBAL _zx_saddrcdown_fastcall
715   0000              	GLOBAL _zx_saddrcdown
716   0000              	GLOBAL _zx_saddr2py_fastcall
717   0000              	GLOBAL _zx_saddr2py
718   0000              	GLOBAL _zx_saddr2px_fastcall
719   0000              	GLOBAL _zx_saddr2px
720   0000              	GLOBAL _zx_saddr2cy_fastcall
721   0000              	GLOBAL _zx_saddr2cy
722   0000              	GLOBAL _zx_saddr2cx_fastcall
723   0000              	GLOBAL _zx_saddr2cx
724   0000              	GLOBAL _zx_saddr2aaddr_fastcall
725   0000              	GLOBAL _zx_saddr2aaddr
726   0000              	GLOBAL _zx_py2saddr_fastcall
727   0000              	GLOBAL _zx_py2saddr
728   0000              	GLOBAL _zx_py2aaddr_fastcall
729   0000              	GLOBAL _zx_py2aaddr
730   0000              	GLOBAL _zx_pxy2saddr_callee
731   0000              	GLOBAL _zx_pxy2saddr
732   0000              	GLOBAL _zx_pxy2aaddr_callee
733   0000              	GLOBAL _zx_pxy2aaddr
734   0000              	GLOBAL _zx_px2bitmask_fastcall
735   0000              	GLOBAL _zx_px2bitmask
736   0000              	GLOBAL _zx_cyx2saddr_callee
737   0000              	GLOBAL _zx_cyx2saddr
738   0000              	GLOBAL _zx_cyx2aaddr_callee
739   0000              	GLOBAL _zx_cyx2aaddr
740   0000              	GLOBAL _zx_cy2saddr_fastcall
741   0000              	GLOBAL _zx_cy2saddr
742   0000              	GLOBAL _zx_cy2aaddr_fastcall
743   0000              	GLOBAL _zx_cy2aaddr
744   0000              	GLOBAL _zx_bitmask2px_fastcall
745   0000              	GLOBAL _zx_bitmask2px
746   0000              	GLOBAL _zx_aaddrcup_fastcall
747   0000              	GLOBAL _zx_aaddrcup
748   0000              	GLOBAL _zx_aaddrcright_fastcall
749   0000              	GLOBAL _zx_aaddrcright
750   0000              	GLOBAL _zx_aaddrcleft_fastcall
751   0000              	GLOBAL _zx_aaddrcleft
752   0000              	GLOBAL _zx_aaddrcdown_fastcall
753   0000              	GLOBAL _zx_aaddrcdown
754   0000              	GLOBAL _zx_aaddr2saddr_fastcall
755   0000              	GLOBAL _zx_aaddr2saddr
756   0000              	GLOBAL _zx_aaddr2py_fastcall
757   0000              	GLOBAL _zx_aaddr2py
758   0000              	GLOBAL _zx_aaddr2px_fastcall
759   0000              	GLOBAL _zx_aaddr2px
760   0000              	GLOBAL _zx_aaddr2cy_fastcall
761   0000              	GLOBAL _zx_aaddr2cy
762   0000              	GLOBAL _zx_aaddr2cx_fastcall
763   0000              	GLOBAL _zx_aaddr2cx
764   0000              	GLOBAL _zx_scroll_wc_up_callee
765   0000              	GLOBAL _zx_scroll_wc_up
766   0000              	GLOBAL _zx_scroll_up_callee
767   0000              	GLOBAL _zx_scroll_up
768   0000              	GLOBAL _zx_cls_wc_callee
769   0000              	GLOBAL _zx_cls_wc
770   0000              	GLOBAL _zx_cls_fastcall
771   0000              	GLOBAL _zx_cls
772   0000              	GLOBAL _zx_border_fastcall
773   0000              	GLOBAL _zx_border
774   0000              	GLOBAL _ay_effect_20
775   0000              	GLOBAL _ay_effect_19
776   0000              	GLOBAL _ay_effect_18
777   0000              	GLOBAL _ay_effect_17
778   0000              	GLOBAL _ay_effect_16
779   0000              	GLOBAL _ay_effect_15
780   0000              	GLOBAL _ay_effect_14
781   0000              	GLOBAL _ay_effect_13
782   0000              	GLOBAL _ay_effect_12
783   0000              	GLOBAL _ay_effect_11
784   0000              	GLOBAL _ay_effect_10
785   0000              	GLOBAL _ay_effect_09
786   0000              	GLOBAL _ay_effect_08
787   0000              	GLOBAL _ay_effect_07
788   0000              	GLOBAL _ay_effect_06
789   0000              	GLOBAL _ay_effect_05
790   0000              	GLOBAL _ay_effect_04
791   0000              	GLOBAL _ay_effect_03
792   0000              	GLOBAL _ay_effect_02
793   0000              	GLOBAL _ay_effect_01
794   0000              	GLOBAL _pb_midi_phase_1
795   0000              	GLOBAL _pb_midi_title
796   0000              	GLOBAL _joynames
797   0000              	GLOBAL _initials
798   0000              	GLOBAL _hof
799   0000              	GLOBAL _score_osd_tile
800   0000              	GLOBAL _score_osd_time
801   0000              	GLOBAL _score_osd_col
802   0000              	GLOBAL _score_osd_lin
803   0000              	GLOBAL _phase_bonus_total
804   0000              	GLOBAL _phase_angry
805   0000              	GLOBAL _phase_curr
806   0000              	GLOBAL _phase_end
807   0000              	GLOBAL _phase_coins
808   0000              	GLOBAL _phase_pop
809   0000              	GLOBAL _phase_tot
810   0000              	GLOBAL _phase_left
811   0000              	GLOBAL _phase_quota
812   0000              	GLOBAL _phases
813   0000              	GLOBAL _spr_idx
814   0000              	GLOBAL _lvl_1
815   0000              	GLOBAL _sprite_speed_alt
816   0000              	GLOBAL _sprite_speed
817   0000              	GLOBAL _screen_ink
818   0000              	GLOBAL _screen_paper
819   0000              	GLOBAL _game_menu_sel
820   0000              	GLOBAL _game_type
821   0000              	GLOBAL _game_bonus
822   0000              	GLOBAL _spr_water_time
823   0000              	GLOBAL _spr_water_clear
824   0000              	GLOBAL _game_time_fireball_start
825   0000              	GLOBAL _game_time_flipped
826   0000              	GLOBAL _game_score_top
827   0000              	GLOBAL _game_lives_update
828   0000              	GLOBAL _game_lives
829   0000              	GLOBAL _game_over
830   0000              	GLOBAL _game_sound
831   0000              	GLOBAL _game_two_player
832   0000              	GLOBAL _game_brick_tile
833   0000              	GLOBAL _game_pow
834   0000              	GLOBAL _spr_count
835   0000              	GLOBAL _frame_loop_count
836   0000              	GLOBAL _col_time
837   0000              	GLOBAL _frame_time
838   0000              	GLOBAL _entry_time
839   0000              	GLOBAL _curr_time
840   0000              	GLOBAL _s_state
841   0000              	GLOBAL _attrib_hl
842   0000              	GLOBAL _attrib
843   0000              	GLOBAL _zx_val_asm
844   0000              	GLOBAL _enemies
845   0000              	GLOBAL _tmp_ui
846   0000              	GLOBAL _tmp_sc
847   0000              	GLOBAL _tmp_uc
848   0000              	GLOBAL _tmp1
849   0000              	GLOBAL _tmp0
850   0000              	GLOBAL _tmp
851   0000              	GLOBAL _index_d
852   0000              	GLOBAL _index3
853   0000              	GLOBAL _index2
854   0000              	GLOBAL _index1
855   0000              	GLOBAL _loop_count
856   0000              	GLOBAL _sprite_lin_inc_mul
857   0000              	GLOBAL _s_col1
858   0000              	GLOBAL _s_col0
859   0000              	GLOBAL _s_lin1
860   0000              	GLOBAL _s_lin0
861   0000              	GLOBAL _s_tile1
862   0000              	GLOBAL _s_tile0
863   0000              	GLOBAL _hit_count
864   0000              	GLOBAL _tile_offset_other_player
865   0000              	GLOBAL _tile_offset
866   0000              	GLOBAL _index_player
867   0000              	GLOBAL _sprite_other_player
868   0000              	GLOBAL _sprite
869   0000              	GLOBAL _player_joy
870   0000              	GLOBAL _player_next_extra
871   0000              	GLOBAL _player_score
872   0000              	GLOBAL _last_time
873   0000              	GLOBAL _sliding
874   0000              	GLOBAL _spr_timer_c
875   0000              	GLOBAL _spr_timer
876   0000              	GLOBAL _jump_lin
877   0000              	GLOBAL _player_jump_c
878   0000              	GLOBAL _hit_col
879   0000              	GLOBAL _hit_lin
880   0000              	GLOBAL _colint
881   0000              	GLOBAL _col
882   0000              	GLOBAL _lin
883   0000              	GLOBAL _tile
884   0000              	GLOBAL _state_a
885   0000              	GLOBAL _state
886   0000              	GLOBAL _class
887   0000              	GLOBAL _tbuffer
888   0000              	GLOBAL _dirs
889   0000              	GLOBAL _k2
890   0000              	GLOBAL _k1
891   0000              	GLOBAL _joyfunc2
892   0000              	GLOBAL _joyfunc1
893   0000              	GLOBAL _btiles
894   0000              	GLOBAL _spec128
895   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
896   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
897   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
898   0000              	GLOBAL _NIRVANAP_ISR_HOOK
899   0000              	GLOBAL _control_method
900   0000              	GLOBAL _hall_valids
901   0000              ;--------------------------------------------------------
902   0000              ; special function registers
903   0000              ;--------------------------------------------------------
904   0000              ;--------------------------------------------------------
905   0000              ; ram data
906   0000              ;--------------------------------------------------------
907   0000              	SECTION bss_compiler
908   0000              ;--------------------------------------------------------
909   0000              ; ram data
910   0000              ;--------------------------------------------------------
911   0000              
912   0000              IF 0
913   0000              
914   0000              ; .area _INITIALIZED removed by z88dk
915   0000              
916   0000              
917   0000              ENDIF
918   0000              
919   0000              ;--------------------------------------------------------
920   0000              ; absolute external ram data
921   0000              ;--------------------------------------------------------
922   0000              	SECTION IGNORE
923   0000              ;--------------------------------------------------------
924   0000              ; global & static initialisations
925   0000              ;--------------------------------------------------------
926   0000              	SECTION code_crt_init
927   0000              ;--------------------------------------------------------
928   0000              ; Home
929   0000              ;--------------------------------------------------------
930   0000              	SECTION IGNORE
931   0000              ;--------------------------------------------------------
932   0000              ; code
933   0000              ;--------------------------------------------------------
934   0000              	SECTION code_compiler
935   0000              ;	---------------------------------
936   0000              ; Function game_calc_index
937   0000              ; ---------------------------------
938   0000              _game_calc_index:
939   0000  CD 00 00    	call	___sdcc_enter_ix
940   0003  DD 4E 05    	ld	c,(ix+5)
941   0006  06 00       	ld	b,0x00
942   0008  DD 7E 04    	ld	a,(ix+4)
943   000B  0F          	rrca
944   000C  0F          	rrca
945   000D  0F          	rrca
946   000E  E6 1F       	and	a,0x1f
947   0010  6F          	ld	l,a
948   0011  26 00       	ld	h,0x00
949   0013  29          	add	hl, hl
950   0014  29          	add	hl, hl
951   0015  29          	add	hl, hl
952   0016  29          	add	hl, hl
953   0017  29          	add	hl, hl
954   0018  09          	add	hl,bc
955   0019  DD E1       	pop	ix
956   001B  C9          	ret
957   001C              ;	---------------------------------
958   001C              ; Function game_print_footer
959   001C              ; ---------------------------------
960   001C              _game_print_footer:
961   001C  21 B1 00    	ld	hl,___str_0
962   001F  E5          	push	hl
963   0020  21 16 01    	ld	hl,0x0116
964   0023  E5          	push	hl
965   0024  CD 00 00    	call	_zx_print_str
966   0027  21 B1 00    	ld	hl,___str_0
967   002A  E5          	push	hl
968   002B  21 16 1E    	ld	hl,0x1e16
969   002E  E5          	push	hl
970   002F  CD 00 00    	call	_zx_print_str
971   0032  21 B3 00    	ld	hl,___str_1
972   0035  E5          	push	hl
973   0036  21 17 01    	ld	hl,0x0117
974   0039  E5          	push	hl
975   003A  CD 00 00    	call	_zx_print_str
976   003D  21 B3 00    	ld	hl,___str_1
977   0040  E5          	push	hl
978   0041  21 17 1E    	ld	hl,0x1e17
979   0044  E5          	push	hl
980   0045  CD 00 00    	call	_zx_print_str
981   0048  3A 00 00    	ld	a,(_game_lives)
982   004B  B7          	or	a, a
983   004C  28 20       	jr	Z,l_game_print_footer_00102
984   004E  21 00 00    	ld	hl,_screen_ink
985   0051  36 02       	ld	(hl),0x02
986   0053  21 B9 00    	ld	hl,___str_2
987   0056  E5          	push	hl
988   0057  21 16 01    	ld	hl,0x0116
989   005A  E5          	push	hl
990   005B  CD 00 00    	call	_zx_print_str
991   005E  21 00 00    	ld	hl,_screen_ink
992   0061  36 06       	ld	(hl),0x06
993   0063  21 BB 00    	ld	hl,___str_3
994   0066  E5          	push	hl
995   0067  21 17 01    	ld	hl,0x0117
996   006A  E5          	push	hl
997   006B  CD 00 00    	call	_zx_print_str
998   006E              l_game_print_footer_00102:
999   006E  3A 01 00    	ld	a, (_game_lives + 1)
1000  0071  B7          	or	a, a
1001  0072  28 20       	jr	Z,l_game_print_footer_00104
1002  0074  21 00 00    	ld	hl,_screen_ink
1003  0077  36 07       	ld	(hl),0x07
1004  0079  21 BD 00    	ld	hl,___str_4
1005  007C  E5          	push	hl
1006  007D  21 16 1E    	ld	hl,0x1e16
1007  0080  E5          	push	hl
1008  0081  CD 00 00    	call	_zx_print_str
1009  0084  21 00 00    	ld	hl,_screen_ink
1010  0087  36 06       	ld	(hl),0x06
1011  0089  21 BF 00    	ld	hl,___str_5
1012  008C  E5          	push	hl
1013  008D  21 17 1E    	ld	hl,0x1e17
1014  0090  E5          	push	hl
1015  0091  CD 00 00    	call	_zx_print_str
1016  0094              l_game_print_footer_00104:
1017  0094  CD 07 01    	call	_game_print_lives
1018  0097  21 C1 00    	ld	hl,___str_6
1019  009A  E5          	push	hl
1020  009B  21 17 0B    	ld	hl,0x0b17
1021  009E  E5          	push	hl
1022  009F  CD 00 00    	call	_zx_print_str
1023  00A2  21 00 00    	ld	hl,_phase_curr
1024  00A5  46          	ld	b,(hl)
1025  00A6  04          	inc	b
1026  00A7  C5          	push	bc
1027  00A8  33          	inc	sp
1028  00A9  21 17 12    	ld	hl,0x1217
1029  00AC  E5          	push	hl
1030  00AD  CD 00 00    	call	_zx_print_chr
1031  00B0  C9          	ret
1032  00B1              ___str_0:
1033  00B1  20          	DEFM " "
1034  00B2  00          	DEFB 0x00
1035  00B3              ___str_1:
1036  00B3  20 20 20 20 20 
                        	DEFM "     "
1037  00B8  00          	DEFB 0x00
1038  00B9              ___str_2:
1039  00B9  3C          	DEFM "<"
1040  00BA  00          	DEFB 0x00
1041  00BB              ___str_3:
1042  00BB  5C          	DEFB 0x5c
1043  00BC  00          	DEFB 0x00
1044  00BD              ___str_4:
1045  00BD  3E          	DEFM ">"
1046  00BE  00          	DEFB 0x00
1047  00BF              ___str_5:
1048  00BF  5E          	DEFM "^"
1049  00C0  00          	DEFB 0x00
1050  00C1              ___str_6:
1051  00C1  50 48 41 53 45 
                        	DEFM "PHASE"
1052  00C6  00          	DEFB 0x00
1053  00C7              ;	---------------------------------
1054  00C7              ; Function game_phase_print_score_back
1055  00C7              ; ---------------------------------
1056  00C7              _game_phase_print_score_back:
1057  00C7  21 00 00    	ld	hl,_screen_ink
1058  00CA  36 02       	ld	(hl),0x02
1059  00CC  21 FD 00    	ld	hl,___str_7
1060  00CF  E5          	push	hl
1061  00D0  21 00 0B    	ld	hl,0x0b00
1062  00D3  E5          	push	hl
1063  00D4  CD 00 00    	call	_zx_print_str
1064  00D7  21 00 00    	ld	hl,_screen_ink
1065  00DA  36 01       	ld	(hl),0x01
1066  00DC  21 01 01    	ld	hl,___str_8
1067  00DF  E5          	push	hl
1068  00E0  21 00 01    	ld	hl,0x0100
1069  00E3  E5          	push	hl
1070  00E4  CD 00 00    	call	_zx_print_str
1071  00E7  3A 00 00    	ld	a,(_game_two_player)
1072  00EA  B7          	or	a, a
1073  00EB  C8          	ret	Z
1074  00EC  21 00 00    	ld	hl,_screen_ink
1075  00EF  36 04       	ld	(hl),0x04
1076  00F1  21 04 01    	ld	hl,___str_9
1077  00F4  E5          	push	hl
1078  00F5  21 00 16    	ld	hl,0x1600
1079  00F8  E5          	push	hl
1080  00F9  CD 00 00    	call	_zx_print_str
1081  00FC  C9          	ret
1082  00FD              ___str_7:
1083  00FD  24 25 7C    	DEFM "$%|"
1084  0100  00          	DEFB 0x00
1085  0101              ___str_8:
1086  0101  5B 7C       	DEFM "[|"
1087  0103  00          	DEFB 0x00
1088  0104              ___str_9:
1089  0104  5D 7C       	DEFM "]|"
1090  0106  00          	DEFB 0x00
1091  0107              ;	---------------------------------
1092  0107              ; Function game_print_lives
1093  0107              ; ---------------------------------
1094  0107              _game_print_lives:
1095  0107  21 00 00    	ld	hl,_screen_ink
1096  010A  36 07       	ld	(hl),0x07
1097  010C  3A 00 00    	ld	a,(_game_lives)
1098  010F  C6 FF       	add	a,0xff
1099  0111  21 00 00    	ld	hl,_tmp
1100  0114  77          	ld	(hl),a
1101  0115  D6 FF       	sub	a,0xff
1102  0117  30 0A       	jr	NC,l_game_print_lives_00102
1103  0119  7E          	ld	a,(hl)
1104  011A  F5          	push	af
1105  011B  33          	inc	sp
1106  011C  21 17 03    	ld	hl,0x0317
1107  011F  E5          	push	hl
1108  0120  CD 00 00    	call	_zx_print_chr
1109  0123              l_game_print_lives_00102:
1110  0123  3A 01 00    	ld	a, (_game_lives + 1)
1111  0126  C6 FF       	add	a,0xff
1112  0128  21 00 00    	ld	hl,_tmp
1113  012B  77          	ld	(hl),a
1114  012C  D6 FF       	sub	a,0xff
1115  012E  D0          	ret	NC
1116  012F  7E          	ld	a,(hl)
1117  0130  F5          	push	af
1118  0131  33          	inc	sp
1119  0132  21 17 1A    	ld	hl,0x1a17
1120  0135  E5          	push	hl
1121  0136  CD 00 00    	call	_zx_print_chr
1122  0139  C9          	ret
1123  013A              ;	---------------------------------
1124  013A              ; Function game_tick
1125  013A              ; ---------------------------------
1126  013A              _game_tick:
1127  013A  21 00 00    	ld	hl,_curr_time
1128  013D  34          	inc	(hl)
1129  013E  C2 00 00    	jp	NZ,_zx_isr
1130  0141  23          	inc	hl
1131  0142  34          	inc	(hl)
1132  0143  C3 00 00    	jp  _zx_isr
1133  0146              ;	---------------------------------
1134  0146              ; Function game_start_timer
1135  0146              ; ---------------------------------
1136  0146              _game_start_timer:
1137  0146  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1138  0149  3E CD       	ld	a,0xcd
1139  014B  02          	ld	(bc),a
1140  014C  03          	inc	bc
1141  014D  11 3A 01    	ld	de,_game_tick
1142  0150  7B          	ld	a,e
1143  0151  02          	ld	(bc),a
1144  0152  03          	inc	bc
1145  0153  7A          	ld	a,d
1146  0154  02          	ld	(bc),a
1147  0155  C9          	ret
1148  0156              ;	---------------------------------
1149  0156              ; Function game_phase_calc
1150  0156              ; ---------------------------------
1151  0156              _game_phase_calc:
1152  0156  3A 00 00    	ld	a,(_phase_curr)
1153  0159  87          	add	a, a
1154  015A  87          	add	a, a
1155  015B  21 00 00    	ld	hl,_tmp_uc
1156  015E  77          	ld	(hl),a
1157  015F  01 00 00    	ld	bc,_phases+0
1158  0162  5E          	ld	e,(hl)
1159  0163  16 00       	ld	d,0x00
1160  0165  69          	ld	l, c
1161  0166  60          	ld	h, b
1162  0167  19          	add	hl,de
1163  0168  7E          	ld	a,(hl)
1164  0169  32 00 00    	ld	(_phase_quota),a
1165  016C  2A 00 00    	ld	hl,(_tmp_uc)
1166  016F  26 00       	ld	h,0x00
1167  0171  23          	inc	hl
1168  0172  09          	add	hl,bc
1169  0173  7E          	ld	a,(hl)
1170  0174  32 01 00    	ld	((_phase_quota + 0x0001)),a
1171  0177  2A 00 00    	ld	hl,(_tmp_uc)
1172  017A  26 00       	ld	h,0x00
1173  017C  23          	inc	hl
1174  017D  23          	inc	hl
1175  017E  09          	add	hl,bc
1176  017F  7E          	ld	a,(hl)
1177  0180  32 02 00    	ld	((_phase_quota + 0x0002)),a
1178  0183  2A 00 00    	ld	hl,(_tmp_uc)
1179  0186  26 00       	ld	h,0x00
1180  0188  23          	inc	hl
1181  0189  23          	inc	hl
1182  018A  23          	inc	hl
1183  018B  09          	add	hl,bc
1184  018C  7E          	ld	a,(hl)
1185  018D  32 00 00    	ld	(_game_brick_tile),a
1186  0190  CD D3 0C    	call	_game_unfreeze_all
1187  0193  3A 00 00    	ld	a,(_game_brick_tile)
1188  0196  D6 8B       	sub	a,0x8b
1189  0198  20 03       	jr	NZ,l_game_phase_calc_00102
1190  019A  CD FC 0C    	call	_game_freeze_all
1191  019D              l_game_phase_calc_00102:
1192  019D  3A 00 00    	ld	a,(_game_brick_tile)
1193  01A0  4F          	ld	c,a
1194  01A1  06 00       	ld	b,0x00
1195  01A3  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1196  01A7  21 00 00    	ld	hl,_phase_quota
1197  01AA  4E          	ld	c,(hl)
1198  01AB  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1199  01AE  46          	ld	b,(hl)
1200  01AF  79          	ld	a,c
1201  01B0  80          	add	a, b
1202  01B1  4F          	ld	c,a
1203  01B2  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1204  01B5  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1205  01B7  09          	add	hl, bc
1206  01B8  C9          	ret
1207  01B9              ;	---------------------------------
1208  01B9              ; Function game_phase_init
1209  01B9              ; ---------------------------------
1210  01B9              _game_phase_init:
1211  01B9  21 00 00    	ld	hl,_phase_end
1212  01BC  36 00       	ld	(hl),0x00
1213  01BE  21 00 00    	ld	hl,_phase_angry
1214  01C1  36 00       	ld	(hl),0x00
1215  01C3  21 00 00    	ld	hl,_phase_coins
1216  01C6  36 00       	ld	(hl),0x00
1217  01C8  21 00 00    	ld	hl,_phase_pop
1218  01CB  36 00       	ld	(hl),0x00
1219  01CD  21 00 00    	ld	hl,_game_bonus
1220  01D0  36 00       	ld	(hl),0x00
1221  01D2  21 00 00    	ld	hl,0x0000
1222  01D5  22 00 00    	ld	(_entry_time),hl
1223  01D8  21 00 00    	ld	hl,0
1224  01DB  22 00 00    	ld	(_curr_time),hl
1225  01DE  21 00 00    	ld	hl,0x0000
1226  01E1  22 00 00    	ld	(_frame_time),hl
1227  01E4  21 FF FF    	ld	hl,0xffff
1228  01E7  22 00 00    	ld	(_score_osd_col),hl
1229  01EA  CD 00 00    	call	_spr_draw_clear
1230  01ED  CD 00 00    	call	_spr_cortina_pipes
1231  01F0  21 00 00    	ld	hl,0x0000
1232  01F3  CD 00 00    	call	_zx_cls_fastcall
1233  01F6  21 00 00    	ld	hl,_spr_count
1234  01F9  36 00       	ld	(hl),0x00
1235  01FB  3A 00 00    	ld	a,(_game_type)
1236  01FE  D6 02       	sub	a,0x02
1237  0200  CA 8C 02    	jp	Z,l_game_phase_init_00104
1238  0203  CD 56 01    	call	_game_phase_calc
1239  0206  7D          	ld	a,l
1240  0207  32 00 00    	ld	(_phase_left),a
1241  020A  32 00 00    	ld	(_phase_tot),a
1242  020D  21 00 00    	ld	hl,_phase_left
1243  0210  7E          	ld	a,(hl)
1244  0211  B7          	or	a, a
1245  0212  C2 A1 02    	jp	NZ,l_game_phase_init_00105
1246  0215  01 00 00    	ld	bc,_phase_bonus_total+0
1247  0218  AF          	xor	a, a
1248  0219  02          	ld	(bc),a
1249  021A  03          	inc	bc
1250  021B  AF          	xor	a, a
1251  021C  02          	ld	(bc),a
1252  021D  36 06       	ld	(hl),0x06
1253  021F  21 00 00    	ld	hl,_game_bonus
1254  0222  36 01       	ld	(hl),0x01
1255  0224  21 0C 00    	ld	hl,0x000c
1256  0227  E5          	push	hl
1257  0228  21 90 08    	ld	hl,0x0890
1258  022B  E5          	push	hl
1259  022C  AF          	xor	a, a
1260  022D  F5          	push	af
1261  022E  33          	inc	sp
1262  022F  CD 00 00    	call	_enemy_init
1263  0232  F1          	pop	af
1264  0233  33          	inc	sp
1265  0234  21 0C 00    	ld	hl,0x000c
1266  0237  E3          	ex	(sp),hl
1267  0238  21 90 16    	ld	hl,0x1690
1268  023B  E5          	push	hl
1269  023C  3E 01       	ld	a,0x01
1270  023E  F5          	push	af
1271  023F  33          	inc	sp
1272  0240  CD 00 00    	call	_enemy_init
1273  0243  F1          	pop	af
1274  0244  33          	inc	sp
1275  0245  21 0C 00    	ld	hl,0x000c
1276  0248  E3          	ex	(sp),hl
1277  0249  21 50 06    	ld	hl,0x0650
1278  024C  E5          	push	hl
1279  024D  3E 02       	ld	a,0x02
1280  024F  F5          	push	af
1281  0250  33          	inc	sp
1282  0251  CD 00 00    	call	_enemy_init
1283  0254  F1          	pop	af
1284  0255  33          	inc	sp
1285  0256  21 0C 00    	ld	hl,0x000c
1286  0259  E3          	ex	(sp),hl
1287  025A  21 50 18    	ld	hl,0x1850
1288  025D  E5          	push	hl
1289  025E  3E 03       	ld	a,0x03
1290  0260  F5          	push	af
1291  0261  33          	inc	sp
1292  0262  CD 00 00    	call	_enemy_init
1293  0265  F1          	pop	af
1294  0266  33          	inc	sp
1295  0267  21 0C 00    	ld	hl,0x000c
1296  026A  E3          	ex	(sp),hl
1297  026B  21 10 05    	ld	hl,0x0510
1298  026E  E5          	push	hl
1299  026F  3E 04       	ld	a,0x04
1300  0271  F5          	push	af
1301  0272  33          	inc	sp
1302  0273  CD 00 00    	call	_enemy_init
1303  0276  F1          	pop	af
1304  0277  33          	inc	sp
1305  0278  21 0C 00    	ld	hl,0x000c
1306  027B  E3          	ex	(sp),hl
1307  027C  21 10 19    	ld	hl,0x1910
1308  027F  E5          	push	hl
1309  0280  3E 05       	ld	a,0x05
1310  0282  F5          	push	af
1311  0283  33          	inc	sp
1312  0284  CD 00 00    	call	_enemy_init
1313  0287  F1          	pop	af
1314  0288  F1          	pop	af
1315  0289  33          	inc	sp
1316  028A  18 15       	jr	l_game_phase_init_00105
1317  028C              l_game_phase_init_00104:
1318  028C  21 00 00    	ld	hl,_phase_left
1319  028F  36 FF       	ld	(hl),0xff
1320  0291  21 00 00    	ld	hl,_phase_curr
1321  0294  36 FF       	ld	(hl),0xff
1322  0296  21 00 00    	ld	hl,_game_brick_tile
1323  0299  36 84       	ld	(hl),0x84
1324  029B  21 84 00    	ld	hl,0x0084
1325  029E  22 24 00    	ld	(_spr_idx + 0x0024),hl
1326  02A1              l_game_phase_init_00105:
1327  02A1  CD 00 00    	call	_ay_reset
1328  02A4  3A 00 00    	ld	a,(_game_bonus)
1329  02A7  B7          	or	a, a
1330  02A8  20 06       	jr	NZ,l_game_phase_init_00107
1331  02AA  21 00 00    	ld	hl,_pb_midi_phase_1
1332  02AD  CD 00 00    	call	_ay_midi_play
1333  02B0              l_game_phase_init_00107:
1334  02B0  CD E7 02    	call	_game_print_header
1335  02B3  2E 0C       	ld	l,0x0c
1336  02B5  CD F2 02    	call	_game_phase_print
1337  02B8  3A 00 00    	ld	a,(_game_lives)
1338  02BB  B7          	or	a, a
1339  02BC  28 0D       	jr	Z,l_game_phase_init_00109
1340  02BE  21 0A 03    	ld	hl,0x030a
1341  02C1  E5          	push	hl
1342  02C2  21 07 98    	ld	hl,0x9807
1343  02C5  E5          	push	hl
1344  02C6  CD 00 00    	call	_player_init
1345  02C9  F1          	pop	af
1346  02CA  F1          	pop	af
1347  02CB              l_game_phase_init_00109:
1348  02CB  3A 01 00    	ld	a, (_game_lives + 1)
1349  02CE  B7          	or	a, a
1350  02CF  28 0D       	jr	Z,l_game_phase_init_00111
1351  02D1  21 14 27    	ld	hl,0x2714
1352  02D4  E5          	push	hl
1353  02D5  21 06 98    	ld	hl,0x9806
1354  02D8  E5          	push	hl
1355  02D9  CD 00 00    	call	_player_init
1356  02DC  F1          	pop	af
1357  02DD  F1          	pop	af
1358  02DE              l_game_phase_init_00111:
1359  02DE  CD 00 00    	call	_spr_draw_back
1360  02E1  CD E7 02    	call	_game_print_header
1361  02E4  C3 1C 00    	jp  _game_print_footer
1362  02E7              ;	---------------------------------
1363  02E7              ; Function game_print_header
1364  02E7              ; ---------------------------------
1365  02E7              _game_print_header:
1366  02E7  CD C7 00    	call	_game_phase_print_score_back
1367  02EA  21 00 00    	ld	hl,_screen_ink
1368  02ED  36 07       	ld	(hl),0x07
1369  02EF  C3 25 0D    	jp  _game_print_score
1370  02F2              ;	---------------------------------
1371  02F2              ; Function game_phase_print
1372  02F2              ; ---------------------------------
1373  02F2              _game_phase_print:
1374  02F2  45          	ld	b,l
1375  02F3  C5          	push	bc
1376  02F4  21 65 03    	ld	hl,___str_10
1377  02F7  E5          	push	hl
1378  02F8  3E 0B       	ld	a,0x0b
1379  02FA  48          	ld	c,b
1380  02FB  47          	ld	b,a
1381  02FC  C5          	push	bc
1382  02FD  CD 00 00    	call	_zx_print_str
1383  0300  C1          	pop	bc
1384  0301  3A 00 00    	ld	a,(_phase_curr)
1385  0304  D6 1F       	sub	a,0x1f
1386  0306  30 27       	jr	NC,l_game_phase_print_00108
1387  0308  3A 00 00    	ld	a,(_game_bonus)
1388  030B  B7          	or	a, a
1389  030C  20 11       	jr	NZ,l_game_phase_print_00102
1390  030E  21 00 00    	ld	hl,_phase_curr
1391  0311  56          	ld	d,(hl)
1392  0312  14          	inc	d
1393  0313  C5          	push	bc
1394  0314  1E 11       	ld	e,0x11
1395  0316  D5          	push	de
1396  0317  C5          	push	bc
1397  0318  33          	inc	sp
1398  0319  CD 00 00    	call	_zx_print_chr
1399  031C  C1          	pop	bc
1400  031D  18 35       	jr	l_game_phase_print_00109
1401  031F              l_game_phase_print_00102:
1402  031F  C5          	push	bc
1403  0320  21 6B 03    	ld	hl,___str_11
1404  0323  E5          	push	hl
1405  0324  3E 11       	ld	a,0x11
1406  0326  48          	ld	c,b
1407  0327  47          	ld	b,a
1408  0328  C5          	push	bc
1409  0329  CD 00 00    	call	_zx_print_str
1410  032C  C1          	pop	bc
1411  032D  18 25       	jr	l_game_phase_print_00109
1412  032F              l_game_phase_print_00108:
1413  032F  3A 00 00    	ld	a,(_game_type)
1414  0332  D6 02       	sub	a,0x02
1415  0334  28 10       	jr	Z,l_game_phase_print_00105
1416  0336  C5          	push	bc
1417  0337  21 71 03    	ld	hl,___str_12
1418  033A  E5          	push	hl
1419  033B  3E 11       	ld	a,0x11
1420  033D  48          	ld	c,b
1421  033E  47          	ld	b,a
1422  033F  C5          	push	bc
1423  0340  CD 00 00    	call	_zx_print_str
1424  0343  C1          	pop	bc
1425  0344  18 0E       	jr	l_game_phase_print_00109
1426  0346              l_game_phase_print_00105:
1427  0346  C5          	push	bc
1428  0347  21 76 03    	ld	hl,___str_13
1429  034A  E5          	push	hl
1430  034B  3E 11       	ld	a,0x11
1431  034D  48          	ld	c,b
1432  034E  47          	ld	b,a
1433  034F  C5          	push	bc
1434  0350  CD 00 00    	call	_zx_print_str
1435  0353  C1          	pop	bc
1436  0354              l_game_phase_print_00109:
1437  0354  21 2C 01    	ld	hl,0x012c
1438  0357  E5          	push	hl
1439  0358  21 0B 18    	ld	hl,0x180b
1440  035B  E5          	push	hl
1441  035C  C5          	push	bc
1442  035D  33          	inc	sp
1443  035E  CD 9B 1B    	call	_game_colour_message
1444  0361  F1          	pop	af
1445  0362  F1          	pop	af
1446  0363  33          	inc	sp
1447  0364  C9          	ret
1448  0365              ___str_10:
1449  0365  50 48 41 53 45 
                        	DEFM "PHASE"
1450  036A  00          	DEFB 0x00
1451  036B              ___str_11:
1452  036B  42 4F 4E 55 53 
                        	DEFM "BONUS"
1453  0370  00          	DEFB 0x00
1454  0371              ___str_12:
1455  0371  48 45 4C 4C 	DEFM "HELL"
1456  0375  00          	DEFB 0x00
1457  0376              ___str_13:
1458  0376  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1459  037C  00          	DEFB 0x00
1460  037D              ;	---------------------------------
1461  037D              ; Function game_loop
1462  037D              ; ---------------------------------
1463  037D              _game_loop:
1464  037D  21 6C 05    	ld	hl,___str_14
1465  0380  E5          	push	hl
1466  0381  21 16 07    	ld	hl,0x0716
1467  0384  E5          	push	hl
1468  0385  CD 00 00    	call	_zx_print_str
1469  0388  21 7F 05    	ld	hl,___str_15
1470  038B  E5          	push	hl
1471  038C  21 17 07    	ld	hl,0x0717
1472  038F  E5          	push	hl
1473  0390  CD 00 00    	call	_zx_print_str
1474  0393  21 00 00    	ld	hl,_ay_effect_10
1475  0396  CD 00 00    	call	_ay_fx_play
1476  0399  CD 00 00    	call	_sound_coin
1477  039C  21 C8 00    	ld	hl,0x00c8
1478  039F  CD 00 00    	call	_z80_delay_ms_fastcall
1479  03A2  21 92 05    	ld	hl,___str_16
1480  03A5  E5          	push	hl
1481  03A6  21 16 07    	ld	hl,0x0716
1482  03A9  E5          	push	hl
1483  03AA  CD 00 00    	call	_zx_print_str
1484  03AD  CD 00 00    	call	_ay_reset
1485  03B0  21 11 11    	ld	hl,0x1111
1486  03B3  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1487  03B6  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1488  03B9  01 00 00    	ld	bc,_game_lives+0
1489  03BC  3E 04       	ld	a,0x04
1490  03BE  02          	ld	(bc),a
1491  03BF  03          	inc	bc
1492  03C0  3A 00 00    	ld	a,(_game_two_player)
1493  03C3  B7          	or	a,a
1494  03C4  28 05       	jr	Z,l_game_loop_00102
1495  03C6  3E 04       	ld	a,0x04
1496  03C8  02          	ld	(bc),a
1497  03C9  18 02       	jr	l_game_loop_00103
1498  03CB              l_game_loop_00102:
1499  03CB  AF          	xor	a, a
1500  03CC  02          	ld	(bc),a
1501  03CD              l_game_loop_00103:
1502  03CD  21 00 00    	ld	hl,0x0000
1503  03D0  22 00 00    	ld	(_player_score), hl
1504  03D3  2E 00       	ld	l,0x00
1505  03D5  22 02 00    	ld	(_player_score + 0x0002),hl
1506  03D8  21 D0 07    	ld	hl,0x07d0
1507  03DB  22 00 00    	ld	(_player_next_extra), hl
1508  03DE  2E D0       	ld	l,0xd0
1509  03E0  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1510  03E3  21 00 00    	ld	hl,_spr_water_clear
1511  03E6  36 FF       	ld	(hl),0xff
1512  03E8  3A 00 00    	ld	a,(_game_type)
1513  03EB  B7          	or	a, a
1514  03EC  20 0E       	jr	NZ,l_game_loop_00105
1515  03EE  21 F4 01    	ld	hl,0x01f4
1516  03F1  22 00 00    	ld	(_game_time_flipped),hl
1517  03F4  21 D0 07    	ld	hl,0x07d0
1518  03F7  22 00 00    	ld	(_game_time_fireball_start),hl
1519  03FA  18 0C       	jr	l_game_loop_00106
1520  03FC              l_game_loop_00105:
1521  03FC  21 FA 00    	ld	hl,0x00fa
1522  03FF  22 00 00    	ld	(_game_time_flipped),hl
1523  0402  21 F4 01    	ld	hl,0x01f4
1524  0405  22 00 00    	ld	(_game_time_fireball_start),hl
1525  0408              l_game_loop_00106:
1526  0408  21 00 00    	ld	hl,_game_over
1527  040B  36 00       	ld	(hl),0x00
1528  040D  21 00 00    	ld	hl,_game_pow
1529  0410  36 03       	ld	(hl),0x03
1530  0412  21 00 00    	ld	hl,_phase_curr
1531  0415  36 00       	ld	(hl),0x00
1532  0417  CD B9 01    	call	_game_phase_init
1533  041A  21 00 00    	ld	hl,_sprite_lin_inc_mul
1534  041D  36 00       	ld	(hl),0x00
1535  041F  21 00 00    	ld	hl,0x0000
1536  0422  22 00 00    	ld	(_loop_count),hl
1537  0425  21 00 00    	ld	hl,_dirs
1538  0428  36 00       	ld	(hl),0x00
1539  042A  CD D3 0C    	call	_game_unfreeze_all
1540  042D  CD 23 10    	call	_game_joystick_set
1541  0430              l_game_loop_00134:
1542  0430  3A 00 00    	ld	a,(_game_over)
1543  0433  B7          	or	a, a
1544  0434  C2 30 05    	jp	NZ,l_game_loop_00136
1545  0437  CD 00 00    	call	_player_set1
1546  043A  CD 00 00    	call	_player_turn
1547  043D  CD 00 00    	call	_player_set2
1548  0440  CD 00 00    	call	_player_turn
1549  0443  CD 00 00    	call	_enemy_turn
1550  0446  3A 00 00    	ld	a,(_game_bonus)
1551  0449  B7          	or	a, a
1552  044A  28 16       	jr	Z,l_game_loop_00111
1553  044C  CD F4 06    	call	_game_bonus_clock
1554  044F  3A 00 00    	ld	a,(_phase_left)
1555  0452  B7          	or	a, a
1556  0453  28 0D       	jr	Z,l_game_loop_00111
1557  0455  CD 00 00    	call	_ay_is_playing
1558  0458  7D          	ld	a,l
1559  0459  B7          	or	a, a
1560  045A  20 06       	jr	NZ,l_game_loop_00111
1561  045C  21 00 00    	ld	hl,_ay_effect_19
1562  045F  CD 00 00    	call	_ay_fx_play
1563  0462              l_game_loop_00111:
1564  0462  CD 00 00    	call	_spr_water_splash_clear
1565  0465  21 64 00    	ld	hl,0x0064
1566  0468  E5          	push	hl
1567  0469  2A 00 00    	ld	hl,(_frame_time)
1568  046C  E5          	push	hl
1569  046D  CD 2D 1C    	call	_game_check_time
1570  0470  F1          	pop	af
1571  0471  F1          	pop	af
1572  0472  7D          	ld	a,l
1573  0473  B7          	or	a, a
1574  0474  CA 24 05    	jp	Z,l_game_loop_00133
1575  0477  2A 00 00    	ld	hl,(_curr_time)
1576  047A  22 00 00    	ld	(_frame_time),hl
1577  047D  3A 00 00    	ld	a,(_game_bonus)
1578  0480  B7          	or	a,a
1579  0481  20 03       	jr	NZ,l_game_loop_00113
1580  0483  CD 98 09    	call	_game_enemy_add
1581  0486              l_game_loop_00113:
1582  0486  3A 00 00    	ld	a,(_phase_left)
1583  0489  3D          	dec	a
1584  048A  20 58       	jr	NZ,l_game_loop_00120
1585  048C  3A 00 00    	ld	a,(_phase_angry)
1586  048F  B7          	or	a, a
1587  0490  20 52       	jr	NZ,l_game_loop_00120
1588  0492  21 00 00    	ld	hl,_sprite
1589  0495  36 00       	ld	(hl),0x00
1590  0497              l_game_loop_00137:
1591  0497  2A 00 00    	ld	hl,(_sprite)
1592  049A  26 00       	ld	h,0x00
1593  049C  01 00 00    	ld	bc,_class
1594  049F  09          	add	hl,bc
1595  04A0  7E          	ld	a,(hl)
1596  04A1  4F          	ld	c,a
1597  04A2  B7          	or	a,a
1598  04A3  28 35       	jr	Z,l_game_loop_00138
1599  04A5  3E 09       	ld	a,0x09
1600  04A7  91          	sub	a,c
1601  04A8  38 30       	jr	C,l_game_loop_00138
1602  04AA  3A 00 00    	ld	a,(_sprite)
1603  04AD  4F          	ld	c,a
1604  04AE  06 00       	ld	b,0x00
1605  04B0  21 00 00    	ld	hl,_state
1606  04B3  09          	add	hl,bc
1607  04B4  CB 6E       	bit	5,(hl)
1608  04B6  20 22       	jr	NZ,l_game_loop_00138
1609  04B8  21 00 00    	ld	hl,_phase_angry
1610  04BB  36 01       	ld	(hl),0x01
1611  04BD  CD 00 00    	call	_enemy_evolve
1612  04C0  CD 00 00    	call	_enemy_evolve
1613  04C3  3E 00       	ld	a,+((_tile) & 0xFF)
1614  04C5  21 00 00    	ld	hl,_sprite
1615  04C8  86          	add	a, (hl)
1616  04C9  4F          	ld	c,a
1617  04CA  3E 00       	ld	a,+((_tile) / 256)
1618  04CC  CE 00       	adc	a,0x00
1619  04CE  47          	ld	b,a
1620  04CF  7E          	ld	a,(hl)
1621  04D0  C5          	push	bc
1622  04D1  F5          	push	af
1623  04D2  33          	inc	sp
1624  04D3  CD 00 00    	call	_spr_tile
1625  04D6  33          	inc	sp
1626  04D7  C1          	pop	bc
1627  04D8  7D          	ld	a, l
1628  04D9  02          	ld	(bc),a
1629  04DA              l_game_loop_00138:
1630  04DA  21 00 00    	ld	hl,_sprite
1631  04DD  7E          	ld	a,(hl)
1632  04DE  3C          	inc	a
1633  04DF  77          	ld	(hl),a
1634  04E0  D6 06       	sub	a,0x06
1635  04E2  38 B3       	jr	C,l_game_loop_00137
1636  04E4              l_game_loop_00120:
1637  04E4  3A 00 00    	ld	a,(_phase_end)
1638  04E7  3D          	dec	a
1639  04E8  20 3A       	jr	NZ,l_game_loop_00133
1640  04EA  3A 00 00    	ld	a,(_game_type)
1641  04ED  D6 02       	sub	a,0x02
1642  04EF  28 33       	jr	Z,l_game_loop_00133
1643  04F1  21 90 01    	ld	hl,0x0190
1644  04F4  CD 00 00    	call	_z80_delay_ms_fastcall
1645  04F7  CD 00 00    	call	_ay_is_playing
1646  04FA  7D          	ld	a, l
1647  04FB  D6 02       	sub	a,0x02
1648  04FD  30 03       	jr	NC,l_game_loop_00123
1649  04FF  CD 00 00    	call	_ay_reset
1650  0502              l_game_loop_00123:
1651  0502  CD 63 09    	call	_game_kill_all_sprites
1652  0505  3A 00 00    	ld	a,(_game_bonus)
1653  0508  B7          	or	a, a
1654  0509  28 03       	jr	Z,l_game_loop_00125
1655  050B  CD 5A 07    	call	_game_bonus_summary
1656  050E              l_game_loop_00125:
1657  050E  21 00 00    	ld	hl,_phase_curr
1658  0511  34          	inc	(hl)
1659  0512  3E 1F       	ld	a,0x1f
1660  0514  96          	sub	a, (hl)
1661  0515  30 0A       	jr	NC,l_game_loop_00127
1662  0517  CD 7F 13    	call	_game_end
1663  051A  21 00 00    	ld	hl,_game_over
1664  051D  36 01       	ld	(hl),0x01
1665  051F  18 03       	jr	l_game_loop_00133
1666  0521              l_game_loop_00127:
1667  0521  CD B9 01    	call	_game_phase_init
1668  0524              l_game_loop_00133:
1669  0524  21 00 00    	ld	hl,_loop_count
1670  0527  34          	inc	(hl)
1671  0528  C2 30 04    	jp	NZ,l_game_loop_00134
1672  052B  23          	inc	hl
1673  052C  34          	inc	(hl)
1674  052D  C3 30 04    	jp	l_game_loop_00134
1675  0530              l_game_loop_00136:
1676  0530  21 20 03    	ld	hl,0x0320
1677  0533  CD 00 00    	call	_z80_delay_ms_fastcall
1678  0536  CD 63 09    	call	_game_kill_all_sprites
1679  0539  76          	halt
1680  053A  CD 00 00    	call	_spr_draw_clear
1681  053D  21 A5 05    	ld	hl,___str_17
1682  0540  E5          	push	hl
1683  0541  21 08 0B    	ld	hl,0x0b08
1684  0544  E5          	push	hl
1685  0545  CD 00 00    	call	_zx_print_str
1686  0548  21 C8 00    	ld	hl,0x00c8
1687  054B  E5          	push	hl
1688  054C  21 0B 15    	ld	hl,0x150b
1689  054F  E5          	push	hl
1690  0550  3E 08       	ld	a,0x08
1691  0552  F5          	push	af
1692  0553  33          	inc	sp
1693  0554  CD 9B 1B    	call	_game_colour_message
1694  0557  F1          	pop	af
1695  0558  F1          	pop	af
1696  0559  33          	inc	sp
1697  055A  CD C2 16    	call	_game_hall_enter
1698  055D  CD 00 00    	call	_ay_reset
1699  0560  21 00 00    	ld	hl,_game_menu_sel
1700  0563  36 00       	ld	(hl),0x00
1701  0565  CD 16 11    	call	_game_menu_paint
1702  0568  CD 16 10    	call	_game_joystick_set_menu
1703  056B  C9          	ret
1704  056C              ___str_14:
1705  056C  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1706  057E  00          	DEFB 0x00
1707  057F              ___str_15:
1708  057F  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1709  0591  00          	DEFB 0x00
1710  0592              ___str_16:
1711  0592  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1712  05A4  00          	DEFB 0x00
1713  05A5              ___str_17:
1714  05A5  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1715  05AE  00          	DEFB 0x00
1716  05AF              ;	---------------------------------
1717  05AF              ; Function game_score_osd
1718  05AF              ; ---------------------------------
1719  05AF              _game_score_osd:
1720  05AF  3A 00 00    	ld	a,(_index_player)
1721  05B2  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1722  05B4  4F          	ld	c,a
1723  05B5  3E 00       	ld	a,+((_score_osd_col) / 256)
1724  05B7  CE 00       	adc	a,0x00
1725  05B9  47          	ld	b,a
1726  05BA  0A          	ld	a,(bc)
1727  05BB  57          	ld	d,a
1728  05BC  3C          	inc	a
1729  05BD  20 72       	jr	NZ,l_game_score_osd_00117
1730  05BF  3A 00 00    	ld	a,(_hit_count)
1731  05C2  B7          	or	a, a
1732  05C3  CA F3 06    	jp	Z,l_game_score_osd_00119
1733  05C6  2A 00 00    	ld	hl,(_sprite)
1734  05C9  26 00       	ld	h,0x00
1735  05CB  11 00 00    	ld	de,_col
1736  05CE  19          	add	hl,de
1737  05CF  7E          	ld	a,(hl)
1738  05D0  02          	ld	(bc),a
1739  05D1  3A 00 00    	ld	a,(_index_player)
1740  05D4  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1741  05D6  4F          	ld	c,a
1742  05D7  3E 00       	ld	a,+((_score_osd_lin) / 256)
1743  05D9  CE 00       	adc	a,0x00
1744  05DB  47          	ld	b,a
1745  05DC  2A 00 00    	ld	hl,(_sprite)
1746  05DF  26 00       	ld	h,0x00
1747  05E1  11 00 00    	ld	de,_lin
1748  05E4  19          	add	hl,de
1749  05E5  7E          	ld	a,(hl)
1750  05E6  02          	ld	(bc),a
1751  05E7  01 00 00    	ld	bc,_score_osd_time+0
1752  05EA  2A 00 00    	ld	hl,(_index_player)
1753  05ED  26 00       	ld	h,0x00
1754  05EF  29          	add	hl, hl
1755  05F0  09          	add	hl,bc
1756  05F1  ED 5B 00 00 	ld	de,(_curr_time)
1757  05F5  73          	ld	(hl),e
1758  05F6  23          	inc	hl
1759  05F7  72          	ld	(hl),d
1760  05F8  2A 00 00    	ld	hl,(_index_player)
1761  05FB  26 00       	ld	h,0x00
1762  05FD  29          	add	hl,hl
1763  05FE  3A 00 00    	ld	a,(_hit_count)
1764  0601  3D          	dec	a
1765  0602  4D          	ld	c,l
1766  0603  44          	ld	b,h
1767  0604  20 0C       	jr	NZ,l_game_score_osd_00105
1768  0606  21 00 00    	ld	hl,_score_osd_tile
1769  0609  09          	add	hl,bc
1770  060A  36 BC       	ld	(hl),0xbc
1771  060C  23          	inc	hl
1772  060D  36 00       	ld	(hl),0x00
1773  060F  C3 F3 06    	jp	l_game_score_osd_00119
1774  0612              l_game_score_osd_00105:
1775  0612  3A 00 00    	ld	a,(_hit_count)
1776  0615  D6 08       	sub	a,0x08
1777  0617  30 0C       	jr	NC,l_game_score_osd_00102
1778  0619  21 00 00    	ld	hl,_score_osd_tile
1779  061C  09          	add	hl,bc
1780  061D  36 BD       	ld	(hl),0xbd
1781  061F  23          	inc	hl
1782  0620  36 00       	ld	(hl),0x00
1783  0622  C3 F3 06    	jp	l_game_score_osd_00119
1784  0625              l_game_score_osd_00102:
1785  0625  21 00 00    	ld	hl,_score_osd_tile
1786  0628  09          	add	hl,bc
1787  0629  36 BE       	ld	(hl),0xbe
1788  062B  23          	inc	hl
1789  062C  36 00       	ld	(hl),0x00
1790  062E  C3 F3 06    	jp	l_game_score_osd_00119
1791  0631              l_game_score_osd_00117:
1792  0631  3A 00 00    	ld	a,(_index_player)
1793  0634  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1794  0636  4F          	ld	c,a
1795  0637  3E 00       	ld	a,+((_score_osd_lin) / 256)
1796  0639  CE 00       	adc	a,0x00
1797  063B  47          	ld	b,a
1798  063C  0A          	ld	a,(bc)
1799  063D  C6 FE       	add	a,0xfe
1800  063F  32 00 00    	ld	(_tmp),a
1801  0642  5F          	ld	e,a
1802  0643  D5          	push	de
1803  0644  CD 00 00    	call	_game_calc_index
1804  0647  F1          	pop	af
1805  0648  22 00 00    	ld	(_index1),hl
1806  064B  3E 08       	ld	a,0x08
1807  064D  21 00 00    	ld	hl,_tmp
1808  0650  96          	sub	a, (hl)
1809  0651  30 5B       	jr	NC,l_game_score_osd_00110
1810  0653  21 01 00    	ld	hl,_index1 + 1
1811  0656  7E          	ld	a,(hl)
1812  0657  2B          	dec	hl
1813  0658  B6          	or	a,(hl)
1814  0659  28 53       	jr	Z,l_game_score_osd_00110
1815  065B  01 00 00    	ld	bc,_lvl_1+0
1816  065E  79          	ld	a,c
1817  065F  86          	add	a, (hl)
1818  0660  5F          	ld	e,a
1819  0661  78          	ld	a,b
1820  0662  23          	inc	hl
1821  0663  8E          	adc	a, (hl)
1822  0664  57          	ld	d,a
1823  0665  1A          	ld	a,(de)
1824  0666  B7          	or	a, a
1825  0667  20 45       	jr	NZ,l_game_score_osd_00110
1826  0669  56          	ld	d,(hl)
1827  066A  2B          	dec	hl
1828  066B  5E          	ld	e,(hl)
1829  066C  13          	inc	de
1830  066D  69          	ld	l, c
1831  066E  60          	ld	h, b
1832  066F  19          	add	hl,de
1833  0670  7E          	ld	a,(hl)
1834  0671  B7          	or	a, a
1835  0672  20 3A       	jr	NZ,l_game_score_osd_00110
1836  0674  76          	halt
1837  0675  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1838  0677  21 00 00    	ld	hl,_index_player
1839  067A  86          	add	a, (hl)
1840  067B  4F          	ld	c,a
1841  067C  3E 00       	ld	a,+((_score_osd_col) / 256)
1842  067E  CE 00       	adc	a,0x00
1843  0680  47          	ld	b,a
1844  0681  0A          	ld	a,(bc)
1845  0682  57          	ld	d,a
1846  0683  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1847  0685  86          	add	a, (hl)
1848  0686  4F          	ld	c,a
1849  0687  3E 00       	ld	a,+((_score_osd_lin) / 256)
1850  0689  CE 00       	adc	a,0x00
1851  068B  47          	ld	b,a
1852  068C  0A          	ld	a,(bc)
1853  068D  5F          	ld	e,a
1854  068E  6E          	ld	l, (hl)
1855  068F  26 00       	ld	h,0x00
1856  0691  29          	add	hl, hl
1857  0692  01 00 00    	ld	bc,_score_osd_tile
1858  0695  09          	add	hl,bc
1859  0696  46          	ld	b,(hl)
1860  0697  23          	inc	hl
1861  0698  4E          	ld	c,(hl)
1862  0699  D5          	push	de
1863  069A  C5          	push	bc
1864  069B  33          	inc	sp
1865  069C  CD 00 00    	call	_NIRVANAP_drawT_callee
1866  069F  3A 00 00    	ld	a,(_index_player)
1867  06A2  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1868  06A4  4F          	ld	c,a
1869  06A5  3E 00       	ld	a,+((_score_osd_lin) / 256)
1870  06A7  CE 00       	adc	a,0x00
1871  06A9  47          	ld	b,a
1872  06AA  3A 00 00    	ld	a,(_tmp)
1873  06AD  02          	ld	(bc),a
1874  06AE              l_game_score_osd_00110:
1875  06AE  01 00 00    	ld	bc,_score_osd_time+0
1876  06B1  2A 00 00    	ld	hl,(_index_player)
1877  06B4  26 00       	ld	h,0x00
1878  06B6  29          	add	hl, hl
1879  06B7  09          	add	hl,bc
1880  06B8  4E          	ld	c,(hl)
1881  06B9  23          	inc	hl
1882  06BA  46          	ld	b,(hl)
1883  06BB  21 32 00    	ld	hl,0x0032
1884  06BE  E5          	push	hl
1885  06BF  C5          	push	bc
1886  06C0  CD 2D 1C    	call	_game_check_time
1887  06C3  F1          	pop	af
1888  06C4  F1          	pop	af
1889  06C5  7D          	ld	a,l
1890  06C6  B7          	or	a, a
1891  06C7  C8          	ret	Z
1892  06C8  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1893  06CA  21 00 00    	ld	hl,_index_player
1894  06CD  86          	add	a, (hl)
1895  06CE  4F          	ld	c,a
1896  06CF  3E 00       	ld	a,+((_score_osd_col) / 256)
1897  06D1  CE 00       	adc	a,0x00
1898  06D3  47          	ld	b,a
1899  06D4  0A          	ld	a,(bc)
1900  06D5  57          	ld	d,a
1901  06D6  4E          	ld	c,(hl)
1902  06D7  06 00       	ld	b,0x00
1903  06D9  21 00 00    	ld	hl,_score_osd_lin
1904  06DC  09          	add	hl,bc
1905  06DD  5E          	ld	e, (hl)
1906  06DE  D5          	push	de
1907  06DF  AF          	xor	a, a
1908  06E0  F5          	push	af
1909  06E1  33          	inc	sp
1910  06E2  CD 00 00    	call	_NIRVANAP_fillT_callee
1911  06E5  3A 00 00    	ld	a,(_index_player)
1912  06E8  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1913  06EA  4F          	ld	c,a
1914  06EB  3E 00       	ld	a,+((_score_osd_col) / 256)
1915  06ED  CE 00       	adc	a,0x00
1916  06EF  47          	ld	b,a
1917  06F0  3E FF       	ld	a,0xff
1918  06F2  02          	ld	(bc),a
1919  06F3              l_game_score_osd_00119:
1920  06F3  C9          	ret
1921  06F4              ;	---------------------------------
1922  06F4              ; Function game_bonus_clock
1923  06F4              ; ---------------------------------
1924  06F4              _game_bonus_clock:
1925  06F4  2A 00 00    	ld	hl,(_curr_time)
1926  06F7  29          	add	hl,hl
1927  06F8  3E D0       	ld	a,0xd0
1928  06FA  95          	sub	a,l
1929  06FB  44          	ld	b,h
1930  06FC  21 00 00    	ld	hl,_tmp_ui
1931  06FF  77          	ld	(hl),a
1932  0700  3E 07       	ld	a,0x07
1933  0702  98          	sbc	a, b
1934  0703  23          	inc	hl
1935  0704  77          	ld	(hl),a
1936  0705  3E D0       	ld	a,0xd0
1937  0707  2B          	dec	hl
1938  0708  BE          	cp	a, (hl)
1939  0709  3E 07       	ld	a,0x07
1940  070B  23          	inc	hl
1941  070C  9E          	sbc	a, (hl)
1942  070D  30 14       	jr	NC,l_game_bonus_clock_00106
1943  070F  2B          	dec	hl
1944  0710  AF          	xor	a, a
1945  0711  77          	ld	(hl), a
1946  0712  23          	inc	hl
1947  0713  77          	ld	(hl), a
1948  0714  21 00 00    	ld	hl,_phase_left
1949  0717  36 00       	ld	(hl),0x00
1950  0719  21 00 00    	ld	hl,_phase_end
1951  071C  36 01       	ld	(hl),0x01
1952  071E  CD 00 00    	call	_ay_reset
1953  0721  18 36       	jr	l_game_bonus_clock_00108
1954  0723              l_game_bonus_clock_00106:
1955  0723  3A 00 00    	ld	a,(_phase_left)
1956  0726  B7          	or	a, a
1957  0727  C8          	ret	Z
1958  0728  2A 00 00    	ld	hl,(_tmp_ui)
1959  072B  E5          	push	hl
1960  072C  21 02 0E    	ld	hl,0x0e02
1961  072F  E5          	push	hl
1962  0730  CD 00 00    	call	_zx_print_bonus_time
1963  0733  21 05 00    	ld	hl,0x0005
1964  0736  E5          	push	hl
1965  0737  2A 00 00    	ld	hl,(_frame_time)
1966  073A  E5          	push	hl
1967  073B  CD 2D 1C    	call	_game_check_time
1968  073E  F1          	pop	af
1969  073F  F1          	pop	af
1970  0740  7D          	ld	a,l
1971  0741  B7          	or	a, a
1972  0742  C8          	ret	Z
1973  0743  2A 00 00    	ld	hl,(_curr_time)
1974  0746  22 00 00    	ld	(_frame_time),hl
1975  0749  21 14 18    	ld	hl,0x1814
1976  074C  E5          	push	hl
1977  074D  3E 0E       	ld	a,0x0e
1978  074F  F5          	push	af
1979  0750  33          	inc	sp
1980  0751  CD A1 0D    	call	_game_paint_attrib_lin_h
1981  0754  F1          	pop	af
1982  0755  33          	inc	sp
1983  0756  CD 7F 1B    	call	_game_rotate_attrib
1984  0759              l_game_bonus_clock_00108:
1985  0759  C9          	ret
1986  075A              ;	---------------------------------
1987  075A              ; Function game_bonus_summary
1988  075A              ; ---------------------------------
1989  075A              _game_bonus_summary:
1990  075A  CD 63 09    	call	_game_kill_all_sprites
1991  075D  CD 00 00    	call	_spr_draw_clear
1992  0760  21 00 00    	ld	hl,0x0000
1993  0763  CD 00 00    	call	_zx_cls_fastcall
1994  0766  CD C7 00    	call	_game_phase_print_score_back
1995  0769  CD 25 0D    	call	_game_print_score
1996  076C  3A 00 00    	ld	a,(_game_lives)
1997  076F  B7          	or	a, a
1998  0770  28 05       	jr	Z,l_game_bonus_summary_00102
1999  0772  2E 00       	ld	l,0x00
2000  0774  CD 46 08    	call	_game_bonus_summary_player
2001  0777              l_game_bonus_summary_00102:
2002  0777  3A 01 00    	ld	a, (_game_lives + 1)
2003  077A  B7          	or	a, a
2004  077B  28 05       	jr	Z,l_game_bonus_summary_00104
2005  077D  2E 01       	ld	l,0x01
2006  077F  CD 46 08    	call	_game_bonus_summary_player
2007  0782              l_game_bonus_summary_00104:
2008  0782  21 1F 98    	ld	hl,0x981f
2009  0785  E5          	push	hl
2010  0786  AF          	xor	a, a
2011  0787  F5          	push	af
2012  0788  33          	inc	sp
2013  0789  CD 7A 0D    	call	_game_paint_attrib_lin
2014  078C  F1          	pop	af
2015  078D  33          	inc	sp
2016  078E  3A 00 00    	ld	a,(_phase_bonus_total)
2017  0791  D6 06       	sub	a,0x06
2018  0793  20 70       	jr	NZ,l_game_bonus_summary_00109
2019  0795  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2020  0798  B7          	or	a, a
2021  0799  20 6A       	jr	NZ,l_game_bonus_summary_00109
2022  079B  CD 00 00    	call	_sound_jump
2023  079E  3A 00 00    	ld	a,(_phase_curr)
2024  07A1  D6 03       	sub	a,0x03
2025  07A3  20 27       	jr	NZ,l_game_bonus_summary_00106
2026  07A5  21 17 08    	ld	hl,___str_18
2027  07A8  E5          	push	hl
2028  07A9  21 12 06    	ld	hl,0x0612
2029  07AC  E5          	push	hl
2030  07AD  CD 00 00    	call	_zx_print_str
2031  07B0  21 00 00    	ld	hl,_index_player
2032  07B3  36 00       	ld	(hl),0x00
2033  07B5  21 2C 01    	ld	hl,0x012c
2034  07B8  E5          	push	hl
2035  07B9  CD 00 00    	call	_player_score_add
2036  07BC  F1          	pop	af
2037  07BD  21 00 00    	ld	hl,_index_player
2038  07C0  36 01       	ld	(hl),0x01
2039  07C2  21 2C 01    	ld	hl,0x012c
2040  07C5  E5          	push	hl
2041  07C6  CD 00 00    	call	_player_score_add
2042  07C9  F1          	pop	af
2043  07CA  18 25       	jr	l_game_bonus_summary_00107
2044  07CC              l_game_bonus_summary_00106:
2045  07CC  21 2A 08    	ld	hl,___str_19
2046  07CF  E5          	push	hl
2047  07D0  21 12 06    	ld	hl,0x0612
2048  07D3  E5          	push	hl
2049  07D4  CD 00 00    	call	_zx_print_str
2050  07D7  21 00 00    	ld	hl,_index_player
2051  07DA  36 00       	ld	(hl),0x00
2052  07DC  21 F4 01    	ld	hl,0x01f4
2053  07DF  E5          	push	hl
2054  07E0  CD 00 00    	call	_player_score_add
2055  07E3  F1          	pop	af
2056  07E4  21 00 00    	ld	hl,_index_player
2057  07E7  36 01       	ld	(hl),0x01
2058  07E9  21 F4 01    	ld	hl,0x01f4
2059  07EC  E5          	push	hl
2060  07ED  CD 00 00    	call	_player_score_add
2061  07F0  F1          	pop	af
2062  07F1              l_game_bonus_summary_00107:
2063  07F1  21 C8 00    	ld	hl,0x00c8
2064  07F4  E5          	push	hl
2065  07F5  21 10 1A    	ld	hl,0x1a10
2066  07F8  E5          	push	hl
2067  07F9  3E 12       	ld	a,0x12
2068  07FB  F5          	push	af
2069  07FC  33          	inc	sp
2070  07FD  CD 9B 1B    	call	_game_colour_message
2071  0800  F1          	pop	af
2072  0801  F1          	pop	af
2073  0802  33          	inc	sp
2074  0803  18 11       	jr	l_game_bonus_summary_00112
2075  0805              l_game_bonus_summary_00109:
2076  0805  21 3D 08    	ld	hl,___str_20
2077  0808  E5          	push	hl
2078  0809  21 12 0C    	ld	hl,0x0c12
2079  080C  E5          	push	hl
2080  080D  CD 00 00    	call	_zx_print_str
2081  0810  21 E8 03    	ld	hl,0x03e8
2082  0813  CD 00 00    	call	_z80_delay_ms_fastcall
2083  0816              l_game_bonus_summary_00112:
2084  0816  C9          	ret
2085  0817              ___str_18:
2086  0817  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2087  0829  00          	DEFB 0x00
2088  082A              ___str_19:
2089  082A  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2090  083C  00          	DEFB 0x00
2091  083D              ___str_20:
2092  083D  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2093  0845  00          	DEFB 0x00
2094  0846              ;	---------------------------------
2095  0846              ; Function game_bonus_summary_player
2096  0846              ; ---------------------------------
2097  0846              _game_bonus_summary_player:
2098  0846  CD 00 00    	call	___sdcc_enter_ix
2099  0849  F5          	push	af
2100  084A  3B          	dec	sp
2101  084B  DD 75 FD    	ld	(ix-3),l
2102  084E  76          	halt
2103  084F  DD 7E FD    	ld	a,(ix-3)
2104  0852  B7          	or	a, a
2105  0853  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2106  0855  21 00 00    	ld	hl,_s_lin1
2107  0858  36 06       	ld	(hl),0x06
2108  085A  21 50 09    	ld	hl,___str_21
2109  085D  E5          	push	hl
2110  085E  21 06 07    	ld	hl,0x0706
2111  0861  E5          	push	hl
2112  0862  CD 00 00    	call	_zx_print_str
2113  0865  3A 00 00    	ld	a,(_s_lin1)
2114  0868  07          	rlca
2115  0869  07          	rlca
2116  086A  07          	rlca
2117  086B  E6 F8       	and	a,0xf8
2118  086D  47          	ld	b,a
2119  086E  04          	inc	b
2120  086F  04          	inc	b
2121  0870  04          	inc	b
2122  0871  04          	inc	b
2123  0872  3E 04       	ld	a,0x04
2124  0874  48          	ld	c,b
2125  0875  47          	ld	b,a
2126  0876  C5          	push	bc
2127  0877  3E 03       	ld	a,0x03
2128  0879  F5          	push	af
2129  087A  33          	inc	sp
2130  087B  CD 00 00    	call	_NIRVANAP_drawT_callee
2131  087E  21 00 00    	ld	hl,_index_player
2132  0881  36 00       	ld	(hl),0x00
2133  0883  18 2E       	jr	l_game_bonus_summary_player_00103
2134  0885              l_game_bonus_summary_player_00102:
2135  0885  21 00 00    	ld	hl,_s_lin1
2136  0888  36 0C       	ld	(hl),0x0c
2137  088A  21 57 09    	ld	hl,___str_22
2138  088D  E5          	push	hl
2139  088E  21 0C 07    	ld	hl,0x070c
2140  0891  E5          	push	hl
2141  0892  CD 00 00    	call	_zx_print_str
2142  0895  3A 00 00    	ld	a,(_s_lin1)
2143  0898  07          	rlca
2144  0899  07          	rlca
2145  089A  07          	rlca
2146  089B  E6 F8       	and	a,0xf8
2147  089D  47          	ld	b,a
2148  089E  04          	inc	b
2149  089F  04          	inc	b
2150  08A0  04          	inc	b
2151  08A1  04          	inc	b
2152  08A2  3E 04       	ld	a,0x04
2153  08A4  48          	ld	c,b
2154  08A5  47          	ld	b,a
2155  08A6  C5          	push	bc
2156  08A7  3E 1B       	ld	a,0x1b
2157  08A9  F5          	push	af
2158  08AA  33          	inc	sp
2159  08AB  CD 00 00    	call	_NIRVANAP_drawT_callee
2160  08AE  21 00 00    	ld	hl,_index_player
2161  08B1  36 01       	ld	(hl),0x01
2162  08B3              l_game_bonus_summary_player_00103:
2163  08B3  3A 00 00    	ld	a,(_s_lin1)
2164  08B6  07          	rlca
2165  08B7  07          	rlca
2166  08B8  07          	rlca
2167  08B9  E6 F8       	and	a,0xf8
2168  08BB  C6 08       	add	a,0x08
2169  08BD  F5          	push	af
2170  08BE  33          	inc	sp
2171  08BF  21 07 1F    	ld	hl,0x1f07
2172  08C2  E5          	push	hl
2173  08C3  CD 7A 0D    	call	_game_paint_attrib_lin
2174  08C6  F1          	pop	af
2175  08C7  33          	inc	sp
2176  08C8  21 00 00    	ld	hl,_tmp_uc
2177  08CB  36 00       	ld	(hl),0x00
2178  08CD  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2179  08CF  DD 86 FD    	add	a,(ix-3)
2180  08D2  DD 77 FE    	ld	(ix-2),a
2181  08D5  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2182  08D7  CE 00       	adc	a,0x00
2183  08D9  DD 77 FF    	ld	(ix-1),a
2184  08DC              l_game_bonus_summary_player_00107:
2185  08DC  DD 6E FE    	ld	l,(ix-2)
2186  08DF  DD 66 FF    	ld	h,(ix-1)
2187  08E2  4E          	ld	c,(hl)
2188  08E3  3A 00 00    	ld	a,(_tmp_uc)
2189  08E6  91          	sub	a, c
2190  08E7  30 55       	jr	NC,l_game_bonus_summary_player_00109
2191  08E9  3A 00 00    	ld	a,(_s_lin1)
2192  08EC  07          	rlca
2193  08ED  07          	rlca
2194  08EE  07          	rlca
2195  08EF  E6 F8       	and	a,0xf8
2196  08F1  4F          	ld	c,a
2197  08F2  3A 00 00    	ld	a,(_tmp_uc)
2198  08F5  D6 03       	sub	a,0x03
2199  08F7  30 08       	jr	NC,l_game_bonus_summary_player_00105
2200  08F9  79          	ld	a,c
2201  08FA  C6 F8       	add	a,0xf8
2202  08FC  32 00 00    	ld	(_s_lin0),a
2203  08FF  18 06       	jr	l_game_bonus_summary_player_00106
2204  0901              l_game_bonus_summary_player_00105:
2205  0901  79          	ld	a,c
2206  0902  C6 08       	add	a,0x08
2207  0904  32 00 00    	ld	(_s_lin0),a
2208  0907              l_game_bonus_summary_player_00106:
2209  0907  76          	halt
2210  0908  2A 00 00    	ld	hl,(_tmp_uc)
2211  090B  26 03       	ld	h,0x03
2212  090D  E5          	push	hl
2213  090E  CD 00 00    	call	__moduchar_callee
2214  0911  7D          	ld	a,l
2215  0912  87          	add	a, a
2216  0913  C6 0E       	add	a,0x0e
2217  0915  F5          	push	af
2218  0916  33          	inc	sp
2219  0917  3A 00 00    	ld	a,(_s_lin0)
2220  091A  57          	ld	d,a
2221  091B  1E B9       	ld	e,0xb9
2222  091D  D5          	push	de
2223  091E  CD 00 00    	call	_NIRVANAP_drawT_callee
2224  0921  21 50 00    	ld	hl,0x0050
2225  0924  E5          	push	hl
2226  0925  CD 00 00    	call	_player_score_add
2227  0928  F1          	pop	af
2228  0929  21 00 00    	ld	hl,_tmp_uc
2229  092C  34          	inc	(hl)
2230  092D  21 00 00    	ld	hl,_ay_effect_09
2231  0930  CD 00 00    	call	_ay_fx_play
2232  0933  CD 00 00    	call	_sound_coin
2233  0936  21 32 00    	ld	hl,0x0032
2234  0939  CD 00 00    	call	_z80_delay_ms_fastcall
2235  093C  18 9E       	jr	l_game_bonus_summary_player_00107
2236  093E              l_game_bonus_summary_player_00109:
2237  093E  21 5D 09    	ld	hl,___str_23
2238  0941  E5          	push	hl
2239  0942  2A 00 00    	ld	hl,(_s_lin1)
2240  0945  26 16       	ld	h,0x16
2241  0947  E5          	push	hl
2242  0948  CD 00 00    	call	_zx_print_str
2243  094B  DD F9       	ld	sp, ix
2244  094D  DD E1       	pop	ix
2245  094F  C9          	ret
2246  0950              ___str_21:
2247  0950  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2248  0956  00          	DEFB 0x00
2249  0957              ___str_22:
2250  0957  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2251  095C  00          	DEFB 0x00
2252  095D              ___str_23:
2253  095D  58 20 38 30 30 
                        	DEFM "X 800"
2254  0962  00          	DEFB 0x00
2255  0963              ;	---------------------------------
2256  0963              ; Function game_kill_all_sprites
2257  0963              ; ---------------------------------
2258  0963              _game_kill_all_sprites:
2259  0963  21 00 00    	ld	hl,_sprite
2260  0966  36 00       	ld	(hl),0x00
2261  0968              l_game_kill_all_sprites_00102:
2262  0968  3A 00 00    	ld	a,(_sprite)
2263  096B  F5          	push	af
2264  096C  33          	inc	sp
2265  096D  CD 00 00    	call	_spr_destroy
2266  0970  33          	inc	sp
2267  0971  21 00 00    	ld	hl,_sprite
2268  0974  7E          	ld	a,(hl)
2269  0975  3C          	inc	a
2270  0976  77          	ld	(hl),a
2271  0977  D6 08       	sub	a,0x08
2272  0979  38 ED       	jr	C,l_game_kill_all_sprites_00102
2273  097B  C9          	ret
2274  097C              ;	---------------------------------
2275  097C              ; Function game_check_maze
2276  097C              ; ---------------------------------
2277  097C              _game_check_maze:
2278  097C  4D          	ld	c,l
2279  097D  44          	ld	b,h
2280  097E  21 00 00    	ld	hl,_lvl_1
2281  0981  09          	add	hl,bc
2282  0982  7E          	ld	a, (hl)
2283  0983  D6 10       	sub	a,0x10
2284  0985  30 0A       	jr	NC,l_game_check_maze_00103
2285  0987  03          	inc	bc
2286  0988  21 00 00    	ld	hl,_lvl_1
2287  098B  09          	add	hl,bc
2288  098C  7E          	ld	a, (hl)
2289  098D  D6 10       	sub	a,0x10
2290  098F  38 04       	jr	C,l_game_check_maze_00104
2291  0991              l_game_check_maze_00103:
2292  0991  2E 00       	ld	l,0x00
2293  0993  18 02       	jr	l_game_check_maze_00105
2294  0995              l_game_check_maze_00104:
2295  0995  2E 01       	ld	l,0x01
2296  0997              l_game_check_maze_00105:
2297  0997  C9          	ret
2298  0998              ;	---------------------------------
2299  0998              ; Function game_enemy_add
2300  0998              ; ---------------------------------
2301  0998              _game_enemy_add:
2302  0998  3A 00 00    	ld	a,(_game_type)
2303  099B  D6 02       	sub	a,0x02
2304  099D  20 05       	jr	NZ,l_game_enemy_add_00106
2305  099F  CD C8 0A    	call	_game_enemy_rnd
2306  09A2  18 21       	jr	l_game_enemy_add_00107
2307  09A4              l_game_enemy_add_00106:
2308  09A4  3A 00 00    	ld	a,(_spr_count)
2309  09A7  D6 06       	sub	a,0x06
2310  09A9  30 1A       	jr	NC,l_game_enemy_add_00107
2311  09AB  21 64 00    	ld	hl,0x0064
2312  09AE  E5          	push	hl
2313  09AF  2A 00 00    	ld	hl,(_entry_time)
2314  09B2  E5          	push	hl
2315  09B3  CD 2D 1C    	call	_game_check_time
2316  09B6  F1          	pop	af
2317  09B7  F1          	pop	af
2318  09B8  7D          	ld	a,l
2319  09B9  B7          	or	a, a
2320  09BA  28 09       	jr	Z,l_game_enemy_add_00107
2321  09BC  3A 00 00    	ld	a,(_phase_left)
2322  09BF  B7          	or	a, a
2323  09C0  28 03       	jr	Z,l_game_enemy_add_00107
2324  09C2  CD C8 09    	call	_game_enemy_quota
2325  09C5              l_game_enemy_add_00107:
2326  09C5  2E 00       	ld	l,0x00
2327  09C7  C9          	ret
2328  09C8              ;	---------------------------------
2329  09C8              ; Function game_enemy_quota
2330  09C8              ; ---------------------------------
2331  09C8              _game_enemy_quota:
2332  09C8  CD 00 00    	call	_rand
2333  09CB  7D          	ld	a, l
2334  09CC  E6 01       	and	a,0x01
2335  09CE  32 00 00    	ld	(_tmp),a
2336  09D1  3A 00 00    	ld	a,(_phase_pop)
2337  09D4  B7          	or	a, a
2338  09D5  28 06       	jr	Z,l_game_enemy_quota_00101
2339  09D7  3A 00 00    	ld	a,(_phase_left)
2340  09DA  3D          	dec	a
2341  09DB  20 05       	jr	NZ,l_game_enemy_quota_00102
2342  09DD              l_game_enemy_quota_00101:
2343  09DD  21 00 00    	ld	hl,_tmp
2344  09E0  36 00       	ld	(hl),0x00
2345  09E2              l_game_enemy_quota_00102:
2346  09E2  3A 00 00    	ld	a,(_phase_left)
2347  09E5  B7          	or	a, a
2348  09E6  28 4C       	jr	Z,l_game_enemy_quota_00111
2349  09E8  3A 00 00    	ld	a,(_tmp)
2350  09EB  B7          	or	a, a
2351  09EC  20 46       	jr	NZ,l_game_enemy_quota_00111
2352  09EE  01 00 00    	ld	bc,_phase_quota+0
2353  09F1  59          	ld	e, c
2354  09F2  50          	ld	d, b
2355  09F3  13          	inc	de
2356  09F4  13          	inc	de
2357  09F5  1A          	ld	a,(de)
2358  09F6  B7          	or	a, a
2359  09F7  28 10       	jr	Z,l_game_enemy_quota_00105
2360  09F9  D5          	push	de
2361  09FA  2E 09       	ld	l,0x09
2362  09FC  CD F8 0A    	call	_game_enemy_add1
2363  09FF  D1          	pop	de
2364  0A00  1A          	ld	a,(de)
2365  0A01  C6 FF       	add	a,0xff
2366  0A03  12          	ld	(de),a
2367  0A04  2E 00       	ld	l,0x00
2368  0A06  C3 C7 0A    	jp	l_game_enemy_quota_00128
2369  0A09              l_game_enemy_quota_00105:
2370  0A09  59          	ld	e, c
2371  0A0A  50          	ld	d, b
2372  0A0B  13          	inc	de
2373  0A0C  1A          	ld	a,(de)
2374  0A0D  B7          	or	a, a
2375  0A0E  28 10       	jr	Z,l_game_enemy_quota_00107
2376  0A10  D5          	push	de
2377  0A11  2E 04       	ld	l,0x04
2378  0A13  CD F8 0A    	call	_game_enemy_add1
2379  0A16  D1          	pop	de
2380  0A17  1A          	ld	a,(de)
2381  0A18  C6 FF       	add	a,0xff
2382  0A1A  12          	ld	(de),a
2383  0A1B  2E 00       	ld	l,0x00
2384  0A1D  C3 C7 0A    	jp	l_game_enemy_quota_00128
2385  0A20              l_game_enemy_quota_00107:
2386  0A20  0A          	ld	a,(bc)
2387  0A21  B7          	or	a, a
2388  0A22  28 10       	jr	Z,l_game_enemy_quota_00111
2389  0A24  C5          	push	bc
2390  0A25  2E 01       	ld	l,0x01
2391  0A27  CD F8 0A    	call	_game_enemy_add1
2392  0A2A  C1          	pop	bc
2393  0A2B  0A          	ld	a,(bc)
2394  0A2C  C6 FF       	add	a,0xff
2395  0A2E  02          	ld	(bc),a
2396  0A2F  2E 00       	ld	l,0x00
2397  0A31  C3 C7 0A    	jp	l_game_enemy_quota_00128
2398  0A34              l_game_enemy_quota_00111:
2399  0A34  3A 00 00    	ld	a,(_phase_coins)
2400  0A37  B7          	or	a, a
2401  0A38  28 0A       	jr	Z,l_game_enemy_quota_00114
2402  0A3A  2E 08       	ld	l,0x08
2403  0A3C  CD F8 0A    	call	_game_enemy_add1
2404  0A3F  2E 00       	ld	l,0x00
2405  0A41  C3 C7 0A    	jp	l_game_enemy_quota_00128
2406  0A44              l_game_enemy_quota_00114:
2407  0A44  CD 00 00    	call	_rand
2408  0A47  7D          	ld	a,l
2409  0A48  E6 03       	and	a,0x03
2410  0A4A  44          	ld	b,h
2411  0A4B  0E 00       	ld	c,0x00
2412  0A4D  CB 79       	bit	7,c
2413  0A4F  20 74       	jr	NZ,l_game_enemy_quota_00127
2414  0A51  5F          	ld	e,a
2415  0A52  3E 03       	ld	a,0x03
2416  0A54  BB          	cp	a, e
2417  0A55  3E 00       	ld	a,0x00
2418  0A57  99          	sbc	a, c
2419  0A58  E2 5D 0A    	jp	PO, l_game_enemy_quota_00184
2420  0A5B  EE 80       	xor	a,0x80
2421  0A5D              l_game_enemy_quota_00184:
2422  0A5D  FA C5 0A    	jp	M,l_game_enemy_quota_00127
2423  0A60  16 00       	ld	d,0x00
2424  0A62  21 68 0A    	ld	hl,l_game_enemy_quota_00185
2425  0A65  19          	add	hl,de
2426  0A66  19          	add	hl,de
2427  0A67  E9          	jp	(hl)
2428  0A68              l_game_enemy_quota_00185:
2429  0A68  18 06       	jr	l_game_enemy_quota_00115
2430  0A6A  18 13       	jr	l_game_enemy_quota_00118
2431  0A6C  18 29       	jr	l_game_enemy_quota_00121
2432  0A6E  18 3F       	jr	l_game_enemy_quota_00124
2433  0A70              l_game_enemy_quota_00115:
2434  0A70  3E 07       	ld	a,0x07
2435  0A72  21 00 00    	ld	hl,_phase_curr
2436  0A75  96          	sub	a, (hl)
2437  0A76  30 4D       	jr	NC,l_game_enemy_quota_00127
2438  0A78  2E 07       	ld	l,0x07
2439  0A7A  CD F8 0A    	call	_game_enemy_add1
2440  0A7D  18 46       	jr	l_game_enemy_quota_00127
2441  0A7F              l_game_enemy_quota_00118:
2442  0A7F  2A 00 00    	ld	hl,(_game_time_fireball_start)
2443  0A82  E5          	push	hl
2444  0A83  21 00 00    	ld	hl,0x0000
2445  0A86  E5          	push	hl
2446  0A87  CD 2D 1C    	call	_game_check_time
2447  0A8A  F1          	pop	af
2448  0A8B  F1          	pop	af
2449  0A8C  7D          	ld	a,l
2450  0A8D  B7          	or	a, a
2451  0A8E  28 35       	jr	Z,l_game_enemy_quota_00127
2452  0A90  2E 0B       	ld	l,0x0b
2453  0A92  CD F8 0A    	call	_game_enemy_add1
2454  0A95  18 2E       	jr	l_game_enemy_quota_00127
2455  0A97              l_game_enemy_quota_00121:
2456  0A97  2A 00 00    	ld	hl,(_game_time_fireball_start)
2457  0A9A  E5          	push	hl
2458  0A9B  21 00 00    	ld	hl,0x0000
2459  0A9E  E5          	push	hl
2460  0A9F  CD 2D 1C    	call	_game_check_time
2461  0AA2  F1          	pop	af
2462  0AA3  F1          	pop	af
2463  0AA4  7D          	ld	a,l
2464  0AA5  B7          	or	a, a
2465  0AA6  28 1D       	jr	Z,l_game_enemy_quota_00127
2466  0AA8  2E 0B       	ld	l,0x0b
2467  0AAA  CD F8 0A    	call	_game_enemy_add1
2468  0AAD  18 16       	jr	l_game_enemy_quota_00127
2469  0AAF              l_game_enemy_quota_00124:
2470  0AAF  2A 00 00    	ld	hl,(_game_time_fireball_start)
2471  0AB2  E5          	push	hl
2472  0AB3  21 00 00    	ld	hl,0x0000
2473  0AB6  E5          	push	hl
2474  0AB7  CD 2D 1C    	call	_game_check_time
2475  0ABA  F1          	pop	af
2476  0ABB  F1          	pop	af
2477  0ABC  7D          	ld	a,l
2478  0ABD  B7          	or	a, a
2479  0ABE  28 05       	jr	Z,l_game_enemy_quota_00127
2480  0AC0  2E 0A       	ld	l,0x0a
2481  0AC2  CD F8 0A    	call	_game_enemy_add1
2482  0AC5              l_game_enemy_quota_00127:
2483  0AC5  2E 00       	ld	l,0x00
2484  0AC7              l_game_enemy_quota_00128:
2485  0AC7  C9          	ret
2486  0AC8              ;	---------------------------------
2487  0AC8              ; Function game_enemy_rnd
2488  0AC8              ; ---------------------------------
2489  0AC8              _game_enemy_rnd:
2490  0AC8  3A 00 00    	ld	a,(_spr_count)
2491  0ACB  D6 06       	sub	a,0x06
2492  0ACD  30 26       	jr	NC,l_game_enemy_rnd_00102
2493  0ACF  21 64 00    	ld	hl,0x0064
2494  0AD2  E5          	push	hl
2495  0AD3  2A 00 00    	ld	hl,(_entry_time)
2496  0AD6  E5          	push	hl
2497  0AD7  CD 2D 1C    	call	_game_check_time
2498  0ADA  F1          	pop	af
2499  0ADB  F1          	pop	af
2500  0ADC  7D          	ld	a,l
2501  0ADD  B7          	or	a, a
2502  0ADE  28 15       	jr	Z,l_game_enemy_rnd_00102
2503  0AE0  2A 00 00    	ld	hl,(_curr_time)
2504  0AE3  22 00 00    	ld	(_entry_time),hl
2505  0AE6  CD 00 00    	call	_rand
2506  0AE9  01 0B 00    	ld	bc,0x000b
2507  0AEC  C5          	push	bc
2508  0AED  E5          	push	hl
2509  0AEE  CD 00 00    	call	__modsint_callee
2510  0AF1  2C          	inc	l
2511  0AF2  CD F8 0A    	call	_game_enemy_add1
2512  0AF5              l_game_enemy_rnd_00102:
2513  0AF5  2E 00       	ld	l,0x00
2514  0AF7  C9          	ret
2515  0AF8              ;	---------------------------------
2516  0AF8              ; Function game_enemy_add1
2517  0AF8              ; ---------------------------------
2518  0AF8              _game_enemy_add1:
2519  0AF8  CD 00 00    	call	___sdcc_enter_ix
2520  0AFB  F5          	push	af
2521  0AFC  45          	ld	b,l
2522  0AFD  78          	ld	a,b
2523  0AFE  FE 03       	cp	a,0x03
2524  0B00  28 47       	jr	Z,l_game_enemy_add1_00101
2525  0B02  FE 06       	cp	a,0x06
2526  0B04  28 43       	jr	Z,l_game_enemy_add1_00101
2527  0B06  D6 0A       	sub	a,0x0a
2528  0B08  20 04       	jr	NZ,l_game_enemy_add1_00197
2529  0B0A  3E 01       	ld	a,0x01
2530  0B0C  18 01       	jr	l_game_enemy_add1_00198
2531  0B0E              l_game_enemy_add1_00197:
2532  0B0E  AF          	xor	a,a
2533  0B0F              l_game_enemy_add1_00198:
2534  0B0F  4F          	ld	c,a
2535  0B10  B7          	or	a, a
2536  0B11  28 0B       	jr	Z,l_game_enemy_add1_00107
2537  0B13  C5          	push	bc
2538  0B14  2E 0A       	ld	l,0x0a
2539  0B16  CD 42 0C    	call	_game_enemy_add_get_index
2540  0B19  C1          	pop	bc
2541  0B1A  5D          	ld	e,l
2542  0B1B  1C          	inc	e
2543  0B1C  20 2B       	jr	NZ,l_game_enemy_add1_00101
2544  0B1E              l_game_enemy_add1_00107:
2545  0B1E  78          	ld	a,b
2546  0B1F  D6 0B       	sub	a,0x0b
2547  0B21  20 04       	jr	NZ,l_game_enemy_add1_00201
2548  0B23  3E 01       	ld	a,0x01
2549  0B25  18 01       	jr	l_game_enemy_add1_00202
2550  0B27              l_game_enemy_add1_00201:
2551  0B27  AF          	xor	a,a
2552  0B28              l_game_enemy_add1_00202:
2553  0B28  DD 77 FE    	ld	(ix-2),a
2554  0B2B  B7          	or	a, a
2555  0B2C  28 0B       	jr	Z,l_game_enemy_add1_00109
2556  0B2E  C5          	push	bc
2557  0B2F  2E 0B       	ld	l,0x0b
2558  0B31  CD 42 0C    	call	_game_enemy_add_get_index
2559  0B34  C1          	pop	bc
2560  0B35  5D          	ld	e,l
2561  0B36  1C          	inc	e
2562  0B37  20 10       	jr	NZ,l_game_enemy_add1_00101
2563  0B39              l_game_enemy_add1_00109:
2564  0B39  78          	ld	a,b
2565  0B3A  D6 07       	sub	a,0x07
2566  0B3C  20 10       	jr	NZ,l_game_enemy_add1_00102
2567  0B3E  C5          	push	bc
2568  0B3F  2E 07       	ld	l,0x07
2569  0B41  CD 42 0C    	call	_game_enemy_add_get_index
2570  0B44  C1          	pop	bc
2571  0B45  5D          	ld	e,l
2572  0B46  1C          	inc	e
2573  0B47  28 05       	jr	Z,l_game_enemy_add1_00102
2574  0B49              l_game_enemy_add1_00101:
2575  0B49  2E 00       	ld	l,0x00
2576  0B4B  C3 3E 0C    	jp	l_game_enemy_add1_00133
2577  0B4E              l_game_enemy_add1_00102:
2578  0B4E  21 00 00    	ld	hl,_phase_pop
2579  0B51  34          	inc	(hl)
2580  0B52  C5          	push	bc
2581  0B53  CD 00 00    	call	_sound_enter_enemy
2582  0B56  2E 00       	ld	l,0x00
2583  0B58  CD 42 0C    	call	_game_enemy_add_get_index
2584  0B5B  C1          	pop	bc
2585  0B5C  7D          	ld	a,l
2586  0B5D  32 00 00    	ld	(_tmp),a
2587  0B60  C5          	push	bc
2588  0B61  CD 00 00    	call	_rand
2589  0B64  C1          	pop	bc
2590  0B65  7D          	ld	a, l
2591  0B66  E6 01       	and	a,0x01
2592  0B68  32 00 00    	ld	(_tmp0),a
2593  0B6B  3D          	dec	a
2594  0B6C  20 1C       	jr	NZ,l_game_enemy_add1_00115
2595  0B6E  21 00 00    	ld	hl,_s_lin0
2596  0B71  36 10       	ld	(hl),0x10
2597  0B73  21 00 00    	ld	hl,_s_col0
2598  0B76  36 04       	ld	(hl),0x04
2599  0B78  21 00 00    	ld	hl,_s_col1
2600  0B7B  36 02       	ld	(hl),0x02
2601  0B7D  79          	ld	a,c
2602  0B7E  B7          	or	a, a
2603  0B7F  28 02       	jr	Z,l_game_enemy_add1_00111
2604  0B81  36 03       	ld	(hl),0x03
2605  0B83              l_game_enemy_add1_00111:
2606  0B83  21 00 00    	ld	hl,_tmp1
2607  0B86  36 01       	ld	(hl),0x01
2608  0B88  18 1A       	jr	l_game_enemy_add1_00116
2609  0B8A              l_game_enemy_add1_00115:
2610  0B8A  21 00 00    	ld	hl,_s_lin0
2611  0B8D  36 10       	ld	(hl),0x10
2612  0B8F  21 00 00    	ld	hl,_s_col0
2613  0B92  36 1A       	ld	(hl),0x1a
2614  0B94  21 00 00    	ld	hl,_s_col1
2615  0B97  36 1E       	ld	(hl),0x1e
2616  0B99  79          	ld	a,c
2617  0B9A  B7          	or	a, a
2618  0B9B  28 02       	jr	Z,l_game_enemy_add1_00113
2619  0B9D  36 1C       	ld	(hl),0x1c
2620  0B9F              l_game_enemy_add1_00113:
2621  0B9F  21 00 00    	ld	hl,_tmp1
2622  0BA2  36 FF       	ld	(hl),0xff
2623  0BA4              l_game_enemy_add1_00116:
2624  0BA4  78          	ld	a,b
2625  0BA5  D6 08       	sub	a,0x08
2626  0BA7  20 04       	jr	NZ,l_game_enemy_add1_00210
2627  0BA9  3E 01       	ld	a,0x01
2628  0BAB  18 01       	jr	l_game_enemy_add1_00211
2629  0BAD              l_game_enemy_add1_00210:
2630  0BAD  AF          	xor	a,a
2631  0BAE              l_game_enemy_add1_00211:
2632  0BAE  DD 77 FF    	ld	(ix-1),a
2633  0BB1  B7          	or	a, a
2634  0BB2  28 04       	jr	Z,l_game_enemy_add1_00118
2635  0BB4  21 00 00    	ld	hl,_phase_coins
2636  0BB7  35          	dec	(hl)
2637  0BB8              l_game_enemy_add1_00118:
2638  0BB8  21 00 00    	ld	hl,_tmp_uc
2639  0BBB  36 00       	ld	(hl),0x00
2640  0BBD  DD 7E FE    	ld	a,(ix-2)
2641  0BC0  B7          	or	a,a
2642  0BC1  20 03       	jr	NZ,l_game_enemy_add1_00125
2643  0BC3  B1          	or	a,c
2644  0BC4  28 35       	jr	Z,l_game_enemy_add1_00126
2645  0BC6              l_game_enemy_add1_00125:
2646  0BC6  C5          	push	bc
2647  0BC7  CD 00 00    	call	_rand
2648  0BCA  11 03 00    	ld	de,0x0003
2649  0BCD  D5          	push	de
2650  0BCE  E5          	push	hl
2651  0BCF  CD 00 00    	call	__modsint_callee
2652  0BD2  C1          	pop	bc
2653  0BD3  5D          	ld	e,l
2654  0BD4  21 00 00    	ld	hl,_tmp_uc
2655  0BD7  73          	ld	(hl),e
2656  0BD8  7B          	ld	a,e
2657  0BD9  B7          	or	a, a
2658  0BDA  20 02       	jr	NZ,l_game_enemy_add1_00120
2659  0BDC  36 10       	ld	(hl),0x10
2660  0BDE              l_game_enemy_add1_00120:
2661  0BDE  3A 00 00    	ld	a,(_tmp_uc)
2662  0BE1  3D          	dec	a
2663  0BE2  20 05       	jr	NZ,l_game_enemy_add1_00122
2664  0BE4  21 00 00    	ld	hl,_tmp_uc
2665  0BE7  36 38       	ld	(hl),0x38
2666  0BE9              l_game_enemy_add1_00122:
2667  0BE9  3A 00 00    	ld	a,(_tmp_uc)
2668  0BEC  D6 02       	sub	a,0x02
2669  0BEE  20 05       	jr	NZ,l_game_enemy_add1_00124
2670  0BF0  21 00 00    	ld	hl,_tmp_uc
2671  0BF3  36 84       	ld	(hl),0x84
2672  0BF5              l_game_enemy_add1_00124:
2673  0BF5  3A 00 00    	ld	a,(_s_col1)
2674  0BF8  32 00 00    	ld	(_s_col0),a
2675  0BFB              l_game_enemy_add1_00126:
2676  0BFB  CD 00 00    	call	_ay_is_playing
2677  0BFE  7D          	ld	a,l
2678  0BFF  D6 02       	sub	a,0x02
2679  0C01  30 14       	jr	NC,l_game_enemy_add1_00132
2680  0C03  DD 7E FF    	ld	a,(ix-1)
2681  0C06  B7          	or	a, a
2682  0C07  20 08       	jr	NZ,l_game_enemy_add1_00129
2683  0C09  21 00 00    	ld	hl,_ay_effect_04
2684  0C0C  CD 00 00    	call	_ay_fx_play
2685  0C0F  18 06       	jr	l_game_enemy_add1_00132
2686  0C11              l_game_enemy_add1_00129:
2687  0C11  21 00 00    	ld	hl,_ay_effect_07
2688  0C14  CD 00 00    	call	_ay_fx_play
2689  0C17              l_game_enemy_add1_00132:
2690  0C17  2A 00 00    	ld	hl,(_curr_time)
2691  0C1A  22 00 00    	ld	(_entry_time),hl
2692  0C1D  3A 00 00    	ld	a,(_s_lin0)
2693  0C20  21 00 00    	ld	hl,_tmp_uc
2694  0C23  86          	add	a, (hl)
2695  0C24  57          	ld	d,a
2696  0C25  3A 00 00    	ld	a,(_tmp1)
2697  0C28  48          	ld	c,b
2698  0C29  47          	ld	b,a
2699  0C2A  3A 00 00    	ld	a,(_s_col0)
2700  0C2D  C5          	push	bc
2701  0C2E  5A          	ld	e,d
2702  0C2F  57          	ld	d,a
2703  0C30  3A 00 00    	ld	a,(_tmp)
2704  0C33  D5          	push	de
2705  0C34  F5          	push	af
2706  0C35  33          	inc	sp
2707  0C36  CD 00 00    	call	_enemy_init
2708  0C39  F1          	pop	af
2709  0C3A  F1          	pop	af
2710  0C3B  33          	inc	sp
2711  0C3C  2E 00       	ld	l,0x00
2712  0C3E              l_game_enemy_add1_00133:
2713  0C3E  F1          	pop	af
2714  0C3F  DD E1       	pop	ix
2715  0C41  C9          	ret
2716  0C42              ;	---------------------------------
2717  0C42              ; Function game_enemy_add_get_index
2718  0C42              ; ---------------------------------
2719  0C42              _game_enemy_add_get_index:
2720  0C42  4D          	ld	c,l
2721  0C43  21 00 00    	ld	hl,_enemies
2722  0C46  36 00       	ld	(hl),0x00
2723  0C48              l_game_enemy_add_get_index_00104:
2724  0C48  2A 00 00    	ld	hl,(_enemies)
2725  0C4B  26 00       	ld	h,0x00
2726  0C4D  11 00 00    	ld	de,_class
2727  0C50  19          	add	hl,de
2728  0C51  46          	ld	b, (hl)
2729  0C52  79          	ld	a,c
2730  0C53  90          	sub	a,b
2731  0C54  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2732  0C56  2A 00 00    	ld	hl,(_enemies)
2733  0C59  18 0B       	jr	l_game_enemy_add_get_index_00106
2734  0C5B              l_game_enemy_add_get_index_00105:
2735  0C5B  21 00 00    	ld	hl,_enemies
2736  0C5E  34          	inc	(hl)
2737  0C5F  3E 05       	ld	a,0x05
2738  0C61  96          	sub	a, (hl)
2739  0C62  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2740  0C64  2E FF       	ld	l,0xff
2741  0C66              l_game_enemy_add_get_index_00106:
2742  0C66  C9          	ret
2743  0C67              ;	---------------------------------
2744  0C67              ; Function game_freeze
2745  0C67              ; ---------------------------------
2746  0C67              _game_freeze:
2747  0C67  CD 00 00    	call	___sdcc_enter_ix
2748  0C6A  DD 7E 05    	ld	a,(ix+5)
2749  0C6D  D6 1F       	sub	a,0x1f
2750  0C6F  30 5F       	jr	NC,l_game_freeze_00107
2751  0C71  21 00 00    	ld	hl,_tmp
2752  0C74  36 01       	ld	(hl),0x01
2753  0C76  DD 66 05    	ld	h,(ix+5)
2754  0C79  DD 6E 04    	ld	l,(ix+4)
2755  0C7C  E5          	push	hl
2756  0C7D  CD 00 00    	call	_game_calc_index
2757  0C80  F1          	pop	af
2758  0C81  22 00 00    	ld	(_index1),hl
2759  0C84  01 00 00    	ld	bc,_lvl_1
2760  0C87  09          	add	hl,bc
2761  0C88  7E          	ld	a,(hl)
2762  0C89  D6 12       	sub	a,0x12
2763  0C8B  20 43       	jr	NZ,l_game_freeze_00107
2764  0C8D  36 14       	ld	(hl),0x14
2765  0C8F  76          	halt
2766  0C90  DD 7E 05    	ld	a,(ix+5)
2767  0C93  F5          	push	af
2768  0C94  33          	inc	sp
2769  0C95  DD 56 04    	ld	d,(ix+4)
2770  0C98  1E 8B       	ld	e,0x8b
2771  0C9A  D5          	push	de
2772  0C9B  CD 00 00    	call	_NIRVANAP_drawT_callee
2773  0C9E  ED 4B 00 00 	ld	bc,(_index1)
2774  0CA2  03          	inc	bc
2775  0CA3  21 00 00    	ld	hl,_lvl_1
2776  0CA6  09          	add	hl,bc
2777  0CA7  4E          	ld	c,(hl)
2778  0CA8  DD 46 05    	ld	b,(ix+5)
2779  0CAB  04          	inc	b
2780  0CAC  79          	ld	a,c
2781  0CAD  B7          	or	a, a
2782  0CAE  20 0C       	jr	NZ,l_game_freeze_00102
2783  0CB0  C5          	push	bc
2784  0CB1  DD 4E 04    	ld	c,(ix+4)
2785  0CB4  C5          	push	bc
2786  0CB5  AF          	xor	a, a
2787  0CB6  F5          	push	af
2788  0CB7  33          	inc	sp
2789  0CB8  CD 00 00    	call	_NIRVANAP_fillT_callee
2790  0CBB  C1          	pop	bc
2791  0CBC              l_game_freeze_00102:
2792  0CBC  DD 4E 04    	ld	c,(ix+4)
2793  0CBF  C5          	push	bc
2794  0CC0  CD 67 0C    	call	_game_freeze
2795  0CC3  F1          	pop	af
2796  0CC4  DD 46 05    	ld	b,(ix+5)
2797  0CC7  05          	dec	b
2798  0CC8  DD 4E 04    	ld	c,(ix+4)
2799  0CCB  C5          	push	bc
2800  0CCC  CD 67 0C    	call	_game_freeze
2801  0CCF  F1          	pop	af
2802  0CD0              l_game_freeze_00107:
2803  0CD0  DD E1       	pop	ix
2804  0CD2  C9          	ret
2805  0CD3              ;	---------------------------------
2806  0CD3              ; Function game_unfreeze_all
2807  0CD3              ; ---------------------------------
2808  0CD3              _game_unfreeze_all:
2809  0CD3  21 C0 00    	ld	hl,0x00c0
2810  0CD6  22 00 00    	ld	(_index1),hl
2811  0CD9              l_game_unfreeze_all_00104:
2812  0CD9  01 00 00    	ld	bc,_lvl_1
2813  0CDC  2A 00 00    	ld	hl,(_index1)
2814  0CDF  09          	add	hl,bc
2815  0CE0  7E          	ld	a,(hl)
2816  0CE1  D6 14       	sub	a,0x14
2817  0CE3  20 02       	jr	NZ,l_game_unfreeze_all_00105
2818  0CE5  36 12       	ld	(hl),0x12
2819  0CE7              l_game_unfreeze_all_00105:
2820  0CE7  21 00 00    	ld	hl,_index1
2821  0CEA  34          	inc	(hl)
2822  0CEB  20 02       	jr	NZ,l_game_unfreeze_all_00118
2823  0CED  23          	inc	hl
2824  0CEE  34          	inc	(hl)
2825  0CEF              l_game_unfreeze_all_00118:
2826  0CEF  3E 20       	ld	a,0x20
2827  0CF1  21 00 00    	ld	hl,_index1
2828  0CF4  BE          	cp	a, (hl)
2829  0CF5  3E 02       	ld	a,0x02
2830  0CF7  23          	inc	hl
2831  0CF8  9E          	sbc	a, (hl)
2832  0CF9  30 DE       	jr	NC,l_game_unfreeze_all_00104
2833  0CFB  C9          	ret
2834  0CFC              ;	---------------------------------
2835  0CFC              ; Function game_freeze_all
2836  0CFC              ; ---------------------------------
2837  0CFC              _game_freeze_all:
2838  0CFC  21 C0 00    	ld	hl,0x00c0
2839  0CFF  22 00 00    	ld	(_index1),hl
2840  0D02              l_game_freeze_all_00104:
2841  0D02  01 00 00    	ld	bc,_lvl_1
2842  0D05  2A 00 00    	ld	hl,(_index1)
2843  0D08  09          	add	hl,bc
2844  0D09  7E          	ld	a,(hl)
2845  0D0A  D6 12       	sub	a,0x12
2846  0D0C  20 02       	jr	NZ,l_game_freeze_all_00105
2847  0D0E  36 14       	ld	(hl),0x14
2848  0D10              l_game_freeze_all_00105:
2849  0D10  21 00 00    	ld	hl,_index1
2850  0D13  34          	inc	(hl)
2851  0D14  20 02       	jr	NZ,l_game_freeze_all_00118
2852  0D16  23          	inc	hl
2853  0D17  34          	inc	(hl)
2854  0D18              l_game_freeze_all_00118:
2855  0D18  3E 20       	ld	a,0x20
2856  0D1A  21 00 00    	ld	hl,_index1
2857  0D1D  BE          	cp	a, (hl)
2858  0D1E  3E 02       	ld	a,0x02
2859  0D20  23          	inc	hl
2860  0D21  9E          	sbc	a, (hl)
2861  0D22  30 DE       	jr	NC,l_game_freeze_all_00104
2862  0D24  C9          	ret
2863  0D25              ;	---------------------------------
2864  0D25              ; Function game_print_score
2865  0D25              ; ---------------------------------
2866  0D25              _game_print_score:
2867  0D25  21 00 00    	ld	hl,_screen_ink
2868  0D28  36 07       	ld	(hl),0x07
2869  0D2A  21 00 00    	ld	hl,_screen_paper
2870  0D2D  36 00       	ld	(hl),0x00
2871  0D2F  2A 00 00    	ld	hl,(_player_score)
2872  0D32  E5          	push	hl
2873  0D33  21 00 03    	ld	hl,0x0300
2874  0D36  E5          	push	hl
2875  0D37  CD 00 00    	call	_zx_print_int
2876  0D3A  2A 00 00    	ld	hl,(_game_score_top)
2877  0D3D  E5          	push	hl
2878  0D3E  21 00 0E    	ld	hl,0x0e00
2879  0D41  E5          	push	hl
2880  0D42  CD 00 00    	call	_zx_print_int
2881  0D45  3A 00 00    	ld	a,(_game_two_player)
2882  0D48  B7          	or	a, a
2883  0D49  C8          	ret	Z
2884  0D4A  2A 02 00    	ld	hl, (_player_score + 2)
2885  0D4D  E5          	push	hl
2886  0D4E  21 00 18    	ld	hl,0x1800
2887  0D51  E5          	push	hl
2888  0D52  CD 00 00    	call	_zx_print_int
2889  0D55  C9          	ret
2890  0D56              ;	---------------------------------
2891  0D56              ; Function game_paint_attrib
2892  0D56              ; ---------------------------------
2893  0D56              _game_paint_attrib:
2894  0D56  7D          	ld	a,l
2895  0D57  32 00 00    	ld	(_tmp0),a
2896  0D5A              l_game_paint_attrib_00103:
2897  0D5A  3E 13       	ld	a,0x13
2898  0D5C  21 00 00    	ld	hl,_tmp0
2899  0D5F  96          	sub	a, (hl)
2900  0D60  D8          	ret	C
2901  0D61  7E          	ld	a,(hl)
2902  0D62  07          	rlca
2903  0D63  07          	rlca
2904  0D64  07          	rlca
2905  0D65  E6 F8       	and	a,0xf8
2906  0D67  C6 08       	add	a,0x08
2907  0D69  F5          	push	af
2908  0D6A  33          	inc	sp
2909  0D6B  21 01 1F    	ld	hl,0x1f01
2910  0D6E  E5          	push	hl
2911  0D6F  CD 7A 0D    	call	_game_paint_attrib_lin
2912  0D72  F1          	pop	af
2913  0D73  33          	inc	sp
2914  0D74  21 00 00    	ld	hl,_tmp0
2915  0D77  34          	inc	(hl)
2916  0D78  18 E0       	jr	l_game_paint_attrib_00103
2917  0D7A              ;	---------------------------------
2918  0D7A              ; Function game_paint_attrib_lin
2919  0D7A              ; ---------------------------------
2920  0D7A              _game_paint_attrib_lin:
2921  0D7A  CD 00 00    	call	___sdcc_enter_ix
2922  0D7D  DD 7E 04    	ld	a,(ix+4)
2923  0D80  32 00 00    	ld	(_tmp_uc),a
2924  0D83              l_game_paint_attrib_lin_00103:
2925  0D83  21 00 00    	ld	hl,_tmp_uc
2926  0D86  7E          	ld	a,(hl)
2927  0D87  DD 96 05    	sub	a,(ix+5)
2928  0D8A  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2929  0D8C  66          	ld	h,(hl)
2930  0D8D  DD 6E 06    	ld	l,(ix+6)
2931  0D90  E5          	push	hl
2932  0D91  21 00 00    	ld	hl,_attrib
2933  0D94  E5          	push	hl
2934  0D95  CD 00 00    	call	_NIRVANAP_paintC_callee
2935  0D98  21 00 00    	ld	hl,_tmp_uc
2936  0D9B  34          	inc	(hl)
2937  0D9C  18 E5       	jr	l_game_paint_attrib_lin_00103
2938  0D9E              l_game_paint_attrib_lin_00105:
2939  0D9E  DD E1       	pop	ix
2940  0DA0  C9          	ret
2941  0DA1              ;	---------------------------------
2942  0DA1              ; Function game_paint_attrib_lin_h
2943  0DA1              ; ---------------------------------
2944  0DA1              _game_paint_attrib_lin_h:
2945  0DA1  CD 00 00    	call	___sdcc_enter_ix
2946  0DA4  DD 7E 04    	ld	a,(ix+4)
2947  0DA7  32 00 00    	ld	(_tmp_uc),a
2948  0DAA              l_game_paint_attrib_lin_h_00103:
2949  0DAA  21 00 00    	ld	hl,_tmp_uc
2950  0DAD  7E          	ld	a,(hl)
2951  0DAE  DD 96 05    	sub	a,(ix+5)
2952  0DB1  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2953  0DB3  66          	ld	h,(hl)
2954  0DB4  DD 6E 06    	ld	l,(ix+6)
2955  0DB7  E5          	push	hl
2956  0DB8  21 00 00    	ld	hl,_attrib_hl
2957  0DBB  E5          	push	hl
2958  0DBC  CD 00 00    	call	_NIRVANAP_paintC_callee
2959  0DBF  21 00 00    	ld	hl,_tmp_uc
2960  0DC2  34          	inc	(hl)
2961  0DC3  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2962  0DC5              l_game_paint_attrib_lin_h_00105:
2963  0DC5  DD E1       	pop	ix
2964  0DC7  C9          	ret
2965  0DC8              ;	---------------------------------
2966  0DC8              ; Function game_menu_config
2967  0DC8              ; ---------------------------------
2968  0DC8              _game_menu_config:
2969  0DC8  CD 00 00    	call	___sdcc_enter_ix
2970  0DCB  F5          	push	af
2971  0DCC  3B          	dec	sp
2972  0DCD  2E 0B       	ld	l,0x0b
2973  0DCF  CD 56 0D    	call	_game_paint_attrib
2974  0DD2  DD 36 FD 01 	ld	(ix-3),0x01
2975  0DD6              l_game_menu_config_00116:
2976  0DD6  DD 7E FD    	ld	a,(ix-3)
2977  0DD9  B7          	or	a, a
2978  0DDA  CA 39 0F    	jp	Z,l_game_menu_config_00119
2979  0DDD              l_game_menu_config_00101:
2980  0DDD  21 00 00    	ld	hl,_k1
2981  0DE0  E5          	push	hl
2982  0DE1  2A 00 00    	ld	hl,(_joyfunc1)
2983  0DE4  CD 00 00    	call	___sdcc_call_hl
2984  0DE7  F1          	pop	af
2985  0DE8  7C          	ld	a,h
2986  0DE9  B5          	or	a,l
2987  0DEA  20 F1       	jr	NZ,l_game_menu_config_00101
2988  0DEC  3A 00 00    	ld	a,(_spec128)
2989  0DEF  B7          	or	a,a
2990  0DF0  28 0A       	jr	Z,l_game_menu_config_00121
2991  0DF2  DD 36 FE 3E 	ld	(ix-2),+((___str_24) & 0xFF)
2992  0DF6  DD 36 FF 0F 	ld	(ix-1),+((___str_24) / 256)
2993  0DFA  18 08       	jr	l_game_menu_config_00122
2994  0DFC              l_game_menu_config_00121:
2995  0DFC  DD 36 FE 49 	ld	(ix-2),+((___str_25) & 0xFF)
2996  0E00  DD 36 FF 0F 	ld	(ix-1),+((___str_25) / 256)
2997  0E04              l_game_menu_config_00122:
2998  0E04  DD 4E FE    	ld	c,(ix-2)
2999  0E07  DD 46 FF    	ld	b,(ix-1)
3000  0E0A  C5          	push	bc
3001  0E0B  21 0E 0A    	ld	hl,0x0a0e
3002  0E0E  E5          	push	hl
3003  0E0F  CD 00 00    	call	_zx_print_str
3004  0E12  21 54 0F    	ld	hl,___str_26
3005  0E15  E5          	push	hl
3006  0E16  21 0F 0A    	ld	hl,0x0a0f
3007  0E19  E5          	push	hl
3008  0E1A  CD 00 00    	call	_zx_print_str
3009  0E1D  21 5F 0F    	ld	hl,___str_27
3010  0E20  E5          	push	hl
3011  0E21  21 10 0A    	ld	hl,0x0a10
3012  0E24  E5          	push	hl
3013  0E25  CD 00 00    	call	_zx_print_str
3014  0E28  21 6A 0F    	ld	hl,___str_28
3015  0E2B  E5          	push	hl
3016  0E2C  21 11 0A    	ld	hl,0x0a11
3017  0E2F  E5          	push	hl
3018  0E30  CD 00 00    	call	_zx_print_str
3019  0E33  21 75 0F    	ld	hl,___str_29
3020  0E36  E5          	push	hl
3021  0E37  21 12 0A    	ld	hl,0x0a12
3022  0E3A  E5          	push	hl
3023  0E3B  CD 00 00    	call	_zx_print_str
3024  0E3E  3A 00 00    	ld	a,(_game_sound)
3025  0E41  E6 05       	and	a,0x05
3026  0E43  28 05       	jr	Z,l_game_menu_config_00123
3027  0E45  01 80 0F    	ld	bc,___str_30
3028  0E48  18 03       	jr	l_game_menu_config_00124
3029  0E4A              l_game_menu_config_00123:
3030  0E4A  01 84 0F    	ld	bc,___str_31
3031  0E4D              l_game_menu_config_00124:
3032  0E4D  C5          	push	bc
3033  0E4E  21 0E 14    	ld	hl,0x140e
3034  0E51  E5          	push	hl
3035  0E52  CD 00 00    	call	_zx_print_str
3036  0E55  3E 02       	ld	a,0x02
3037  0E57  21 00 00    	ld	hl,_game_type
3038  0E5A  96          	sub	a, (hl)
3039  0E5B  38 34       	jr	C,l_game_menu_config_00107
3040  0E5D  5E          	ld	e,(hl)
3041  0E5E  16 00       	ld	d,0x00
3042  0E60  21 66 0E    	ld	hl,l_game_menu_config_00164
3043  0E63  19          	add	hl,de
3044  0E64  19          	add	hl,de
3045  0E65  E9          	jp	(hl)
3046  0E66              l_game_menu_config_00164:
3047  0E66  18 04       	jr	l_game_menu_config_00104
3048  0E68  18 0F       	jr	l_game_menu_config_00105
3049  0E6A  18 1A       	jr	l_game_menu_config_00106
3050  0E6C              l_game_menu_config_00104:
3051  0E6C  21 88 0F    	ld	hl,___str_32
3052  0E6F  E5          	push	hl
3053  0E70  21 0F 14    	ld	hl,0x140f
3054  0E73  E5          	push	hl
3055  0E74  CD 00 00    	call	_zx_print_str
3056  0E77  18 18       	jr	l_game_menu_config_00107
3057  0E79              l_game_menu_config_00105:
3058  0E79  21 8C 0F    	ld	hl,___str_33
3059  0E7C  E5          	push	hl
3060  0E7D  21 0F 14    	ld	hl,0x140f
3061  0E80  E5          	push	hl
3062  0E81  CD 00 00    	call	_zx_print_str
3063  0E84  18 0B       	jr	l_game_menu_config_00107
3064  0E86              l_game_menu_config_00106:
3065  0E86  21 90 0F    	ld	hl,___str_34
3066  0E89  E5          	push	hl
3067  0E8A  21 0F 14    	ld	hl,0x140f
3068  0E8D  E5          	push	hl
3069  0E8E  CD 00 00    	call	_zx_print_str
3070  0E91              l_game_menu_config_00107:
3071  0E91  2A 00 00    	ld	hl,(_player_joy)
3072  0E94  29          	add	hl, hl
3073  0E95  11 00 00    	ld	de,_joynames
3074  0E98  19          	add	hl,de
3075  0E99  4E          	ld	c,(hl)
3076  0E9A  23          	inc	hl
3077  0E9B  46          	ld	b,(hl)
3078  0E9C  C5          	push	bc
3079  0E9D  21 10 14    	ld	hl,0x1410
3080  0EA0  E5          	push	hl
3081  0EA1  CD 00 00    	call	_zx_print_str
3082  0EA4  2A 02 00    	ld	hl, (_player_joy + 2)
3083  0EA7  29          	add	hl, hl
3084  0EA8  11 00 00    	ld	de,_joynames
3085  0EAB  19          	add	hl,de
3086  0EAC  4E          	ld	c,(hl)
3087  0EAD  23          	inc	hl
3088  0EAE  46          	ld	b,(hl)
3089  0EAF  C5          	push	bc
3090  0EB0  21 11 14    	ld	hl,0x1411
3091  0EB3  E5          	push	hl
3092  0EB4  CD 00 00    	call	_zx_print_str
3093  0EB7  21 00 00    	ld	hl,0x0000
3094  0EBA  E5          	push	hl
3095  0EBB  21 0E 12    	ld	hl,0x120e
3096  0EBE  E5          	push	hl
3097  0EBF  21 0A 01    	ld	hl,0x010a
3098  0EC2  E5          	push	hl
3099  0EC3  CD 93 12    	call	_game_menu_handle
3100  0EC6  F1          	pop	af
3101  0EC7  F1          	pop	af
3102  0EC8  F1          	pop	af
3103  0EC9  7D          	ld	a,l
3104  0ECA  32 00 00    	ld	(_game_menu_sel),a
3105  0ECD  21 00 00    	ld	hl,_ay_effect_10
3106  0ED0  CD 00 00    	call	_ay_fx_play
3107  0ED3  CD 00 00    	call	_sound_coin
3108  0ED6  3E 04       	ld	a,0x04
3109  0ED8  21 00 00    	ld	hl,_game_menu_sel
3110  0EDB  96          	sub	a, (hl)
3111  0EDC  DA D6 0D    	jp	C,l_game_menu_config_00116
3112  0EDF  5E          	ld	e,(hl)
3113  0EE0  16 00       	ld	d,0x00
3114  0EE2  21 E8 0E    	ld	hl,l_game_menu_config_00165
3115  0EE5  19          	add	hl,de
3116  0EE6  19          	add	hl,de
3117  0EE7  E9          	jp	(hl)
3118  0EE8              l_game_menu_config_00165:
3119  0EE8  18 08       	jr	l_game_menu_config_00108
3120  0EEA  18 1A       	jr	l_game_menu_config_00109
3121  0EEC  18 27       	jr	l_game_menu_config_00112
3122  0EEE  18 2F       	jr	l_game_menu_config_00113
3123  0EF0  18 38       	jr	l_game_menu_config_00114
3124  0EF2              l_game_menu_config_00108:
3125  0EF2  3A 00 00    	ld	a,(_spec128)
3126  0EF5  B7          	or	a, a
3127  0EF6  28 04       	jr	Z,l_game_menu_config_00125
3128  0EF8  3E 04       	ld	a,0x04
3129  0EFA  18 02       	jr	l_game_menu_config_00126
3130  0EFC              l_game_menu_config_00125:
3131  0EFC  3E 01       	ld	a,0x01
3132  0EFE              l_game_menu_config_00126:
3133  0EFE  21 00 00    	ld	hl,_game_sound
3134  0F01  AE          	xor	a, (hl)
3135  0F02  77          	ld	(hl),a
3136  0F03  C3 D6 0D    	jp	l_game_menu_config_00116
3137  0F06              l_game_menu_config_00109:
3138  0F06  21 00 00    	ld	hl,_game_type
3139  0F09  34          	inc	(hl)
3140  0F0A  3E 02       	ld	a,0x02
3141  0F0C  96          	sub	a, (hl)
3142  0F0D  D2 D6 0D    	jp	NC,l_game_menu_config_00116
3143  0F10  36 00       	ld	(hl),0x00
3144  0F12  C3 D6 0D    	jp	l_game_menu_config_00116
3145  0F15              l_game_menu_config_00112:
3146  0F15  AF          	xor	a, a
3147  0F16  F5          	push	af
3148  0F17  33          	inc	sp
3149  0F18  CD 94 0F    	call	_game_joystick_change
3150  0F1B  33          	inc	sp
3151  0F1C  C3 D6 0D    	jp	l_game_menu_config_00116
3152  0F1F              l_game_menu_config_00113:
3153  0F1F  3E 01       	ld	a,0x01
3154  0F21  F5          	push	af
3155  0F22  33          	inc	sp
3156  0F23  CD 94 0F    	call	_game_joystick_change
3157  0F26  33          	inc	sp
3158  0F27  C3 D6 0D    	jp	l_game_menu_config_00116
3159  0F2A              l_game_menu_config_00114:
3160  0F2A  21 00 00    	ld	hl,_game_menu_sel
3161  0F2D  36 00       	ld	(hl),0x00
3162  0F2F  CD 16 11    	call	_game_menu_paint
3163  0F32  DD 36 FD 00 	ld	(ix-3),0x00
3164  0F36  C3 D6 0D    	jp	l_game_menu_config_00116
3165  0F39              l_game_menu_config_00119:
3166  0F39  DD F9       	ld	sp, ix
3167  0F3B  DD E1       	pop	ix
3168  0F3D  C9          	ret
3169  0F3E              ___str_24:
3170  0F3E  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3171  0F48  00          	DEFB 0x00
3172  0F49              ___str_25:
3173  0F49  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3174  0F53  00          	DEFB 0x00
3175  0F54              ___str_26:
3176  0F54  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3177  0F5E  00          	DEFB 0x00
3178  0F5F              ___str_27:
3179  0F5F  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3180  0F69  00          	DEFB 0x00
3181  0F6A              ___str_28:
3182  0F6A  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3183  0F74  00          	DEFB 0x00
3184  0F75              ___str_29:
3185  0F75  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3186  0F7F  00          	DEFB 0x00
3187  0F80              ___str_30:
3188  0F80  4F 4E 20    	DEFM "ON "
3189  0F83  00          	DEFB 0x00
3190  0F84              ___str_31:
3191  0F84  4F 46 46    	DEFM "OFF"
3192  0F87  00          	DEFB 0x00
3193  0F88              ___str_32:
3194  0F88  41 20 20    	DEFM "A  "
3195  0F8B  00          	DEFB 0x00
3196  0F8C              ___str_33:
3197  0F8C  42 20 20    	DEFM "B  "
3198  0F8F  00          	DEFB 0x00
3199  0F90              ___str_34:
3200  0F90  52 4E 44    	DEFM "RND"
3201  0F93  00          	DEFB 0x00
3202  0F94              ;	---------------------------------
3203  0F94              ; Function game_joystick_change
3204  0F94              ; ---------------------------------
3205  0F94              _game_joystick_change:
3206  0F94  CD 00 00    	call	___sdcc_enter_ix
3207  0F97  DD 4E 04    	ld	c,(ix+4)
3208  0F9A  06 00       	ld	b,0x00
3209  0F9C  CB 21       	sla	c
3210  0F9E  CB 10       	rl	b
3211  0FA0  21 00 00    	ld	hl,_player_joy
3212  0FA3  09          	add	hl,bc
3213  0FA4  4D          	ld	c,l
3214  0FA5  44          	ld	b,h
3215  0FA6  5E          	ld	e,(hl)
3216  0FA7  23          	inc	hl
3217  0FA8  56          	ld	d,(hl)
3218  0FA9  13          	inc	de
3219  0FAA  69          	ld	l, c
3220  0FAB  60          	ld	h, b
3221  0FAC  73          	ld	(hl),e
3222  0FAD  23          	inc	hl
3223  0FAE  72          	ld	(hl),d
3224  0FAF  7B          	ld	a,e
3225  0FB0  D6 07       	sub	a,0x07
3226  0FB2  20 09       	jr	NZ,l_game_joystick_change_00102
3227  0FB4  B2          	or	a,d
3228  0FB5  20 06       	jr	NZ,l_game_joystick_change_00102
3229  0FB7  69          	ld	l, c
3230  0FB8  60          	ld	h, b
3231  0FB9  AF          	xor	a, a
3232  0FBA  77          	ld	(hl), a
3233  0FBB  23          	inc	hl
3234  0FBC  77          	ld	(hl), a
3235  0FBD              l_game_joystick_change_00102:
3236  0FBD  DD 7E 04    	ld	a,(ix+4)
3237  0FC0  B7          	or	a, a
3238  0FC1  20 15       	jr	NZ,l_game_joystick_change_00104
3239  0FC3  69          	ld	l, c
3240  0FC4  60          	ld	h, b
3241  0FC5  5E          	ld	e,(hl)
3242  0FC6  23          	inc	hl
3243  0FC7  56          	ld	d,(hl)
3244  0FC8  1D          	dec	e
3245  0FC9  20 0D       	jr	NZ,l_game_joystick_change_00104
3246  0FCB  7A          	ld	a,d
3247  0FCC  B7          	or	a, a
3248  0FCD  20 09       	jr	NZ,l_game_joystick_change_00104
3249  0FCF  ED 5B 00 00 	ld	de,(_player_joy)
3250  0FD3  13          	inc	de
3251  0FD4  ED 53 00 00 	ld	(_player_joy), de
3252  0FD8              l_game_joystick_change_00104:
3253  0FD8  DD 7E 04    	ld	a,(ix+4)
3254  0FDB  3D          	dec	a
3255  0FDC  20 11       	jr	NZ,l_game_joystick_change_00107
3256  0FDE  69          	ld	l, c
3257  0FDF  60          	ld	h, b
3258  0FE0  4E          	ld	c,(hl)
3259  0FE1  23          	inc	hl
3260  0FE2  7E          	ld	a, (hl)
3261  0FE3  B1          	or	a,c
3262  0FE4  20 09       	jr	NZ,l_game_joystick_change_00107
3263  0FE6  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3264  0FEA  03          	inc	bc
3265  0FEB  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3266  0FEF              l_game_joystick_change_00107:
3267  0FEF  ED 4B 00 00 	ld	bc,(_player_joy)
3268  0FF3  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3269  0FF7  79          	ld	a,c
3270  0FF8  93          	sub	a, e
3271  0FF9  20 18       	jr	NZ,l_game_joystick_change_00114
3272  0FFB  78          	ld	a,b
3273  0FFC  92          	sub	a, d
3274  0FFD  20 14       	jr	NZ,l_game_joystick_change_00114
3275  0FFF  DD 7E 04    	ld	a,(ix+4)
3276  1002  B7          	or	a, a
3277  1003  20 08       	jr	NZ,l_game_joystick_change_00110
3278  1005  21 01 00    	ld	hl,0x0001
3279  1008  22 02 00    	ld	(_player_joy + 0x0002),hl
3280  100B  18 06       	jr	l_game_joystick_change_00114
3281  100D              l_game_joystick_change_00110:
3282  100D  21 00 00    	ld	hl,0x0000
3283  1010  22 00 00    	ld	(_player_joy), hl
3284  1013              l_game_joystick_change_00114:
3285  1013  DD E1       	pop	ix
3286  1015  C9          	ret
3287  1016              ;	---------------------------------
3288  1016              ; Function game_joystick_set_menu
3289  1016              ; ---------------------------------
3290  1016              _game_joystick_set_menu:
3291  1016  21 00 00    	ld	hl,_in_stick_sinclair1
3292  1019  22 00 00    	ld	(_joyfunc1),hl
3293  101C  21 00 00    	ld	hl,_in_stick_sinclair2
3294  101F  22 00 00    	ld	(_joyfunc2),hl
3295  1022  C9          	ret
3296  1023              ;	---------------------------------
3297  1023              ; Function game_joystick_set
3298  1023              ; ---------------------------------
3299  1023              _game_joystick_set:
3300  1023  01 00 00    	ld	bc,_control_method+0
3301  1026  2A 00 00    	ld	hl,(_player_joy)
3302  1029  29          	add	hl, hl
3303  102A  09          	add	hl,bc
3304  102B  11 00 00    	ld	de,_joyfunc1
3305  102E  ED A0       	ldi
3306  1030  03          	inc	bc
3307  1031  7E          	ld	a,(hl)
3308  1032  12          	ld	(de),a
3309  1033  2A 02 00    	ld	hl, (_player_joy + 2)
3310  1036  29          	add	hl, hl
3311  1037  09          	add	hl,bc
3312  1038  11 00 00    	ld	de,_joyfunc2
3313  103B  ED A0       	ldi
3314  103D  7E          	ld	a,(hl)
3315  103E  12          	ld	(de),a
3316  103F  C9          	ret
3317  1040              ;	---------------------------------
3318  1040              ; Function game_menu
3319  1040              ; ---------------------------------
3320  1040              _game_menu:
3321  1040  CD A2 10    	call	_game_menu_top_paint
3322  1043  CD 16 11    	call	_game_menu_paint
3323  1046  CD 00 00    	call	_ay_reset
3324  1049  21 00 00    	ld	hl,_pb_midi_title
3325  104C  CD 00 00    	call	_ay_midi_play
3326  104F              l_game_menu_00101:
3327  104F  21 00 00    	ld	hl,_k1
3328  1052  E5          	push	hl
3329  1053  2A 00 00    	ld	hl,(_joyfunc1)
3330  1056  CD 00 00    	call	___sdcc_call_hl
3331  1059  F1          	pop	af
3332  105A  7C          	ld	a,h
3333  105B  B5          	or	a,l
3334  105C  20 F1       	jr	NZ,l_game_menu_00101
3335  105E  21 E8 03    	ld	hl,0x03e8
3336  1061  E5          	push	hl
3337  1062  21 0E 12    	ld	hl,0x120e
3338  1065  E5          	push	hl
3339  1066  21 0C 02    	ld	hl,0x020c
3340  1069  E5          	push	hl
3341  106A  CD 93 12    	call	_game_menu_handle
3342  106D  F1          	pop	af
3343  106E  F1          	pop	af
3344  106F  F1          	pop	af
3345  1070  4D          	ld	c,l
3346  1071  21 00 00    	ld	hl,_tmp_uc
3347  1074  71          	ld	(hl),c
3348  1075  3E 02       	ld	a,0x02
3349  1077  96          	sub	a, (hl)
3350  1078  38 D5       	jr	C,l_game_menu_00101
3351  107A  5E          	ld	e,(hl)
3352  107B  16 00       	ld	d,0x00
3353  107D  21 83 10    	ld	hl,l_game_menu_00125
3354  1080  19          	add	hl,de
3355  1081  19          	add	hl,de
3356  1082  E9          	jp	(hl)
3357  1083              l_game_menu_00125:
3358  1083  18 04       	jr	l_game_menu_00104
3359  1085  18 0C       	jr	l_game_menu_00105
3360  1087  18 14       	jr	l_game_menu_00106
3361  1089              l_game_menu_00104:
3362  1089  21 00 00    	ld	hl,_game_two_player
3363  108C  36 00       	ld	(hl),0x00
3364  108E  CD 7D 03    	call	_game_loop
3365  1091  18 BC       	jr	l_game_menu_00101
3366  1093              l_game_menu_00105:
3367  1093  21 00 00    	ld	hl,_game_two_player
3368  1096  36 01       	ld	(hl),0x01
3369  1098  CD 7D 03    	call	_game_loop
3370  109B  18 B2       	jr	l_game_menu_00101
3371  109D              l_game_menu_00106:
3372  109D  CD C8 0D    	call	_game_menu_config
3373  10A0  18 AD       	jr	l_game_menu_00101
3374  10A2              ;	---------------------------------
3375  10A2              ; Function game_menu_top_paint
3376  10A2              ; ---------------------------------
3377  10A2              _game_menu_top_paint:
3378  10A2  CD 00 00    	call	_spr_draw_clear
3379  10A5  2E 00       	ld	l,0x00
3380  10A7  CD 56 0D    	call	_game_paint_attrib
3381  10AA  21 9C 01    	ld	hl,0x019c
3382  10AD  E5          	push	hl
3383  10AE  21 00 1E    	ld	hl,0x1e00
3384  10B1  E5          	push	hl
3385  10B2  3E 10       	ld	a,0x10
3386  10B4  F5          	push	af
3387  10B5  33          	inc	sp
3388  10B6  CD E0 11    	call	_game_menu_e
3389  10B9  F1          	pop	af
3390  10BA  33          	inc	sp
3391  10BB  21 9F FF    	ld	hl,0xff9f
3392  10BE  E3          	ex	(sp),hl
3393  10BF  21 00 1E    	ld	hl,0x1e00
3394  10C2  E5          	push	hl
3395  10C3  3E 50       	ld	a,0x50
3396  10C5  F5          	push	af
3397  10C6  33          	inc	sp
3398  10C7  CD E0 11    	call	_game_menu_e
3399  10CA  F1          	pop	af
3400  10CB  F1          	pop	af
3401  10CC  33          	inc	sp
3402  10CD  21 00 00    	ld	hl,_tmp
3403  10D0  36 18       	ld	(hl),0x18
3404  10D2  F3          	di
3405  10D3  21 00 00    	ld	hl,_tmp_uc
3406  10D6  36 00       	ld	(hl),0x00
3407  10D8              l_game_menu_top_paint_00102:
3408  10D8  3A 00 00    	ld	a,(_tmp_uc)
3409  10DB  87          	add	a, a
3410  10DC  C6 05       	add	a,0x05
3411  10DE  47          	ld	b,a
3412  10DF  3A 00 00    	ld	a,(_tmp)
3413  10E2  C6 10       	add	a,0x10
3414  10E4  57          	ld	d,a
3415  10E5  3A 00 00    	ld	a,(_tmp_uc)
3416  10E8  C6 C0       	add	a,0xc0
3417  10EA  4A          	ld	c, d
3418  10EB  C5          	push	bc
3419  10EC  F5          	push	af
3420  10ED  33          	inc	sp
3421  10EE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3422  10F1  3A 00 00    	ld	a,(_tmp_uc)
3423  10F4  87          	add	a, a
3424  10F5  C6 05       	add	a,0x05
3425  10F7  47          	ld	b,a
3426  10F8  3A 00 00    	ld	a,(_tmp)
3427  10FB  C6 20       	add	a,0x20
3428  10FD  57          	ld	d,a
3429  10FE  3A 00 00    	ld	a,(_tmp_uc)
3430  1101  C6 CC       	add	a,0xcc
3431  1103  4A          	ld	c, d
3432  1104  C5          	push	bc
3433  1105  F5          	push	af
3434  1106  33          	inc	sp
3435  1107  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3436  110A  21 00 00    	ld	hl,_tmp_uc
3437  110D  7E          	ld	a,(hl)
3438  110E  3C          	inc	a
3439  110F  77          	ld	(hl),a
3440  1110  D6 0A       	sub	a,0x0a
3441  1112  38 C4       	jr	C,l_game_menu_top_paint_00102
3442  1114  FB          	ei
3443  1115  C9          	ret
3444  1116              ;	---------------------------------
3445  1116              ; Function game_menu_paint
3446  1116              ; ---------------------------------
3447  1116              _game_menu_paint:
3448  1116  76          	halt
3449  1117  3A 00 00    	ld	a,(_tmp)
3450  111A  C6 28       	add	a,0x28
3451  111C  4F          	ld	c, a
3452  111D  06 1A       	ld	b,0x1a
3453  111F  C5          	push	bc
3454  1120  3E 12       	ld	a,0x12
3455  1122  F5          	push	af
3456  1123  33          	inc	sp
3457  1124  CD 00 00    	call	_NIRVANAP_fillC_callee
3458  1127  21 00 20    	ld	hl,0x2000
3459  112A  E5          	push	hl
3460  112B  CD 00 00    	call	_game_fill_row
3461  112E  21 00 20    	ld	hl,0x2000
3462  1131  E5          	push	hl
3463  1132  CD 00 00    	call	_game_fill_row
3464  1135  21 91 11    	ld	hl,___str_35
3465  1138  E5          	push	hl
3466  1139  21 0E 0A    	ld	hl,0x0a0e
3467  113C  E5          	push	hl
3468  113D  CD 00 00    	call	_zx_print_str
3469  1140  21 0F 20    	ld	hl,0x200f
3470  1143  E5          	push	hl
3471  1144  CD 00 00    	call	_game_fill_row
3472  1147  21 9F 11    	ld	hl,___str_36
3473  114A  E5          	push	hl
3474  114B  21 10 0A    	ld	hl,0x0a10
3475  114E  E5          	push	hl
3476  114F  CD 00 00    	call	_zx_print_str
3477  1152  21 11 20    	ld	hl,0x2011
3478  1155  E5          	push	hl
3479  1156  CD 00 00    	call	_game_fill_row
3480  1159  21 AD 11    	ld	hl,___str_37
3481  115C  E5          	push	hl
3482  115D  21 12 0A    	ld	hl,0x0a12
3483  1160  E5          	push	hl
3484  1161  CD 00 00    	call	_zx_print_str
3485  1164  21 13 20    	ld	hl,0x2013
3486  1167  E5          	push	hl
3487  1168  CD 00 00    	call	_game_fill_row
3488  116B  21 00 00    	ld	hl,_screen_ink
3489  116E  36 01       	ld	(hl),0x01
3490  1170  21 BB 11    	ld	hl,___str_38
3491  1173  E5          	push	hl
3492  1174  21 16 07    	ld	hl,0x0716
3493  1177  E5          	push	hl
3494  1178  CD 00 00    	call	_zx_print_str
3495  117B  21 CE 11    	ld	hl,___str_39
3496  117E  E5          	push	hl
3497  117F  21 17 07    	ld	hl,0x0717
3498  1182  E5          	push	hl
3499  1183  CD 00 00    	call	_zx_print_str
3500  1186  21 00 00    	ld	hl,_tmp_uc
3501  1189  36 00       	ld	(hl),0x00
3502  118B  2E 0B       	ld	l,0x0b
3503  118D  CD 56 0D    	call	_game_paint_attrib
3504  1190  C9          	ret
3505  1191              ___str_35:
3506  1191  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3507  119E  00          	DEFB 0x00
3508  119F              ___str_36:
3509  119F  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3510  11AC  00          	DEFB 0x00
3511  11AD              ___str_37:
3512  11AD  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3513  11BA  00          	DEFB 0x00
3514  11BB              ___str_38:
3515  11BB  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3516  11CD  00          	DEFB 0x00
3517  11CE              ___str_39:
3518  11CE  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3519  11DF  00          	DEFB 0x00
3520  11E0              ;	---------------------------------
3521  11E0              ; Function game_menu_e
3522  11E0              ; ---------------------------------
3523  11E0              _game_menu_e:
3524  11E0  CD 00 00    	call	___sdcc_enter_ix
3525  11E3  F3          	di
3526  11E4  DD 4E 05    	ld	c,(ix+5)
3527  11E7  21 00 00    	ld	hl,_tmp_uc
3528  11EA  71          	ld	(hl),c
3529  11EB  DD 46 07    	ld	b,(ix+7)
3530  11EE  04          	inc	b
3531  11EF  DD 56 07    	ld	d,(ix+7)
3532  11F2  14          	inc	d
3533  11F3  14          	inc	d
3534  11F4              l_game_menu_e_00114:
3535  11F4  DD 7E 06    	ld	a,(ix+6)
3536  11F7  21 00 00    	ld	hl,_tmp_uc
3537  11FA  96          	sub	a, (hl)
3538  11FB  38 56       	jr	C,l_game_menu_e_00109
3539  11FD  7E          	ld	a,(hl)
3540  11FE  91          	sub	a, c
3541  11FF  20 15       	jr	NZ,l_game_menu_e_00102
3542  1201  3A 00 00    	ld	a,(_tmp_uc)
3543  1204  C5          	push	bc
3544  1205  D5          	push	de
3545  1206  F5          	push	af
3546  1207  33          	inc	sp
3547  1208  DD 66 04    	ld	h,(ix+4)
3548  120B  DD 6E 07    	ld	l,(ix+7)
3549  120E  E5          	push	hl
3550  120F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3551  1212  D1          	pop	de
3552  1213  C1          	pop	bc
3553  1214  18 36       	jr	l_game_menu_e_00108
3554  1216              l_game_menu_e_00102:
3555  1216  3A 00 00    	ld	a,(_tmp_uc)
3556  1219  DD 96 06    	sub	a,(ix+6)
3557  121C  20 14       	jr	NZ,l_game_menu_e_00104
3558  121E  3A 00 00    	ld	a,(_tmp_uc)
3559  1221  C5          	push	bc
3560  1222  D5          	push	de
3561  1223  F5          	push	af
3562  1224  33          	inc	sp
3563  1225  DD 7E 04    	ld	a,(ix+4)
3564  1228  5A          	ld	e,d
3565  1229  57          	ld	d,a
3566  122A  D5          	push	de
3567  122B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3568  122E  D1          	pop	de
3569  122F  C1          	pop	bc
3570  1230  18 1A       	jr	l_game_menu_e_00108
3571  1232              l_game_menu_e_00104:
3572  1232  3A 00 00    	ld	a,(_tmp_uc)
3573  1235  FE 0E       	cp	a,0x0e
3574  1237  28 13       	jr	Z,l_game_menu_e_00108
3575  1239  FE 10       	cp	a,0x10
3576  123B  28 0F       	jr	Z,l_game_menu_e_00108
3577  123D  C5          	push	bc
3578  123E  D5          	push	de
3579  123F  F5          	push	af
3580  1240  33          	inc	sp
3581  1241  DD 7E 04    	ld	a,(ix+4)
3582  1244  48          	ld	c,b
3583  1245  47          	ld	b,a
3584  1246  C5          	push	bc
3585  1247  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3586  124A  D1          	pop	de
3587  124B  C1          	pop	bc
3588  124C              l_game_menu_e_00108:
3589  124C  21 00 00    	ld	hl,_tmp_uc
3590  124F  34          	inc	(hl)
3591  1250  34          	inc	(hl)
3592  1251  18 A1       	jr	l_game_menu_e_00114
3593  1253              l_game_menu_e_00109:
3594  1253  DD 7E 08    	ld	a,(ix+8)
3595  1256  3C          	inc	a
3596  1257  20 0A       	jr	NZ,l_game_menu_e_00111
3597  1259  DD 7E 04    	ld	a,(ix+4)
3598  125C  C6 F0       	add	a,0xf0
3599  125E  DD 77 04    	ld	(ix+4),a
3600  1261  18 08       	jr	l_game_menu_e_00112
3601  1263              l_game_menu_e_00111:
3602  1263  DD 7E 04    	ld	a,(ix+4)
3603  1266  C6 10       	add	a,0x10
3604  1268  DD 77 04    	ld	(ix+4),a
3605  126B              l_game_menu_e_00112:
3606  126B  DD 7E 07    	ld	a,(ix+7)
3607  126E  C6 0C       	add	a,0x0c
3608  1270  47          	ld	b,a
3609  1271  79          	ld	a,c
3610  1272  F5          	push	af
3611  1273  33          	inc	sp
3612  1274  DD 7E 04    	ld	a,(ix+4)
3613  1277  48          	ld	c,b
3614  1278  47          	ld	b,a
3615  1279  C5          	push	bc
3616  127A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3617  127D  DD 7E 07    	ld	a,(ix+7)
3618  1280  C6 0E       	add	a,0x0e
3619  1282  47          	ld	b,a
3620  1283  DD 66 06    	ld	h,(ix+6)
3621  1286  DD 6E 04    	ld	l,(ix+4)
3622  1289  E5          	push	hl
3623  128A  C5          	push	bc
3624  128B  33          	inc	sp
3625  128C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3626  128F  FB          	ei
3627  1290  DD E1       	pop	ix
3628  1292  C9          	ret
3629  1293              ;	---------------------------------
3630  1293              ; Function game_menu_handle
3631  1293              ; ---------------------------------
3632  1293              _game_menu_handle:
3633  1293  CD 00 00    	call	___sdcc_enter_ix
3634  1296  3B          	dec	sp
3635  1297  2A 00 00    	ld	hl,(_curr_time)
3636  129A  22 00 00    	ld	(_entry_time),hl
3637  129D  DD 5E 05    	ld	e,(ix+5)
3638  12A0  21 00 00    	ld	hl,_game_menu_sel
3639  12A3  66          	ld	h,(hl)
3640  12A4  2E 00       	ld	l,0x00
3641  12A6  55          	ld	d, l
3642  12A7  06 08       	ld	b,0x08
3643  12A9              l_game_menu_handle_00148:
3644  12A9  29          	add	hl,hl
3645  12AA  30 01       	jr	NC,l_game_menu_handle_00149
3646  12AC  19          	add	hl,de
3647  12AD              l_game_menu_handle_00149:
3648  12AD  10 FA       	djnz	l_game_menu_handle_00148
3649  12AF  DD 7E 06    	ld	a,(ix+6)
3650  12B2  85          	add	a,l
3651  12B3  32 00 00    	ld	(_s_lin1),a
3652  12B6  DD 7E 06    	ld	a,(ix+6)
3653  12B9  DD 77 FF    	ld	(ix-1),a
3654  12BC              l_game_menu_handle_00111:
3655  12BC  21 00 00    	ld	hl,_k1
3656  12BF  E5          	push	hl
3657  12C0  2A 00 00    	ld	hl,(_joyfunc1)
3658  12C3  CD 00 00    	call	___sdcc_call_hl
3659  12C6  F1          	pop	af
3660  12C7  7D          	ld	a,l
3661  12C8  32 00 00    	ld	(_dirs),a
3662  12CB  D6 80       	sub	a,0x80
3663  12CD  CA 6B 13    	jp	Z,l_game_menu_handle_00113
3664  12D0  21 05 00    	ld	hl,0x0005
3665  12D3  E5          	push	hl
3666  12D4  2A 00 00    	ld	hl,(_frame_time)
3667  12D7  E5          	push	hl
3668  12D8  CD 2D 1C    	call	_game_check_time
3669  12DB  F1          	pop	af
3670  12DC  F1          	pop	af
3671  12DD  7D          	ld	a,l
3672  12DE  B7          	or	a, a
3673  12DF  28 58       	jr	Z,l_game_menu_handle_00106
3674  12E1  3A 00 00    	ld	a,(_dirs)
3675  12E4  B7          	or	a, a
3676  12E5  28 32       	jr	Z,l_game_menu_handle_00104
3677  12E7  21 00 00    	ld	hl,_ay_effect_03
3678  12EA  CD 00 00    	call	_ay_fx_play
3679  12ED  CD 00 00    	call	_sound_slide
3680  12F0  3A 00 00    	ld	a,(_s_lin1)
3681  12F3  07          	rlca
3682  12F4  07          	rlca
3683  12F5  07          	rlca
3684  12F6  E6 F8       	and	a,0xf8
3685  12F8  C6 08       	add	a,0x08
3686  12FA  F5          	push	af
3687  12FB  33          	inc	sp
3688  12FC  26 14       	ld	h,0x14
3689  12FE  DD 6E 04    	ld	l,(ix+4)
3690  1301  E5          	push	hl
3691  1302  CD 7A 0D    	call	_game_paint_attrib_lin
3692  1305  F1          	pop	af
3693  1306  33          	inc	sp
3694  1307  21 00 00    	ld	hl,_s_lin1
3695  130A  7E          	ld	a,(hl)
3696  130B  DD 86 05    	add	a,(ix+5)
3697  130E  77          	ld	(hl),a
3698  130F  DD 7E 07    	ld	a,(ix+7)
3699  1312  96          	sub	a, (hl)
3700  1313  30 04       	jr	NC,l_game_menu_handle_00104
3701  1315  DD 7E FF    	ld	a,(ix-1)
3702  1318  77          	ld	(hl),a
3703  1319              l_game_menu_handle_00104:
3704  1319  2A 00 00    	ld	hl,(_curr_time)
3705  131C  22 00 00    	ld	(_frame_time),hl
3706  131F  3A 00 00    	ld	a,(_s_lin1)
3707  1322  07          	rlca
3708  1323  07          	rlca
3709  1324  07          	rlca
3710  1325  E6 F8       	and	a,0xf8
3711  1327  C6 08       	add	a,0x08
3712  1329  F5          	push	af
3713  132A  33          	inc	sp
3714  132B  26 14       	ld	h,0x14
3715  132D  DD 6E 04    	ld	l,(ix+4)
3716  1330  E5          	push	hl
3717  1331  CD A1 0D    	call	_game_paint_attrib_lin_h
3718  1334  F1          	pop	af
3719  1335  33          	inc	sp
3720  1336  CD 7F 1B    	call	_game_rotate_attrib
3721  1339              l_game_menu_handle_00106:
3722  1339  DD 7E 09    	ld	a,(ix+9)
3723  133C  DD B6 08    	or	a,(ix+8)
3724  133F  CA BC 12    	jp	Z,l_game_menu_handle_00111
3725  1342  DD 6E 08    	ld	l,(ix+8)
3726  1345  DD 66 09    	ld	h,(ix+9)
3727  1348  E5          	push	hl
3728  1349  2A 00 00    	ld	hl,(_entry_time)
3729  134C  E5          	push	hl
3730  134D  CD 2D 1C    	call	_game_check_time
3731  1350  F1          	pop	af
3732  1351  F1          	pop	af
3733  1352  7D          	ld	a,l
3734  1353  B7          	or	a, a
3735  1354  CA BC 12    	jp	Z,l_game_menu_handle_00111
3736  1357  CD 00 00    	call	_ay_is_playing
3737  135A  7D          	ld	a,l
3738  135B  B7          	or	a, a
3739  135C  C2 BC 12    	jp	NZ,l_game_menu_handle_00111
3740  135F  CD 9D 1A    	call	_game_hall_of_fame
3741  1362  DD 6E FF    	ld	l,(ix-1)
3742  1365  CD 90 18    	call	_game_menu_back
3743  1368  C3 BC 12    	jp	l_game_menu_handle_00111
3744  136B              l_game_menu_handle_00113:
3745  136B  3A 00 00    	ld	a,(_s_lin1)
3746  136E  DD 96 FF    	sub	a,(ix-1)
3747  1371  47          	ld	b,a
3748  1372  DD 7E 05    	ld	a,(ix+5)
3749  1375  48          	ld	c,b
3750  1376  47          	ld	b,a
3751  1377  C5          	push	bc
3752  1378  CD 00 00    	call	__divuchar_callee
3753  137B  33          	inc	sp
3754  137C  DD E1       	pop	ix
3755  137E  C9          	ret
3756  137F              ;	---------------------------------
3757  137F              ; Function game_end
3758  137F              ; ---------------------------------
3759  137F              _game_end:
3760  137F  CD 00 00    	call	___sdcc_enter_ix
3761  1382  F5          	push	af
3762  1383  F5          	push	af
3763  1384  CD 63 09    	call	_game_kill_all_sprites
3764  1387  CD 00 00    	call	_spr_draw_clear
3765  138A  21 00 00    	ld	hl,_pb_midi_title
3766  138D  CD 00 00    	call	_ay_midi_play
3767  1390  21 00 00    	ld	hl,_tmp0
3768  1393  36 04       	ld	(hl),0x04
3769  1395              l_game_end_00129:
3770  1395  3A 00 00    	ld	a,(_tmp0)
3771  1398  F5          	push	af
3772  1399  33          	inc	sp
3773  139A  21 8C 50    	ld	hl,0x508c
3774  139D  E5          	push	hl
3775  139E  CD 00 00    	call	_NIRVANAP_drawT_callee
3776  13A1  21 00 00    	ld	hl,_tmp0
3777  13A4  7E          	ld	a,(hl)
3778  13A5  3C          	inc	a
3779  13A6  3C          	inc	a
3780  13A7  77          	ld	(hl),a
3781  13A8  D6 1C       	sub	a,0x1c
3782  13AA  38 E9       	jr	C,l_game_end_00129
3783  13AC  36 04       	ld	(hl),0x04
3784  13AE              l_game_end_00131:
3785  13AE  3A 00 00    	ld	a,(_tmp0)
3786  13B1  F5          	push	af
3787  13B2  33          	inc	sp
3788  13B3  21 8C 60    	ld	hl,0x608c
3789  13B6  E5          	push	hl
3790  13B7  CD 00 00    	call	_NIRVANAP_drawT_callee
3791  13BA  21 00 00    	ld	hl,_tmp0
3792  13BD  7E          	ld	a,(hl)
3793  13BE  3C          	inc	a
3794  13BF  3C          	inc	a
3795  13C0  77          	ld	(hl),a
3796  13C1  D6 1C       	sub	a,0x1c
3797  13C3  38 E9       	jr	C,l_game_end_00131
3798  13C5  36 04       	ld	(hl),0x04
3799  13C7              l_game_end_00133:
3800  13C7  3A 00 00    	ld	a,(_tmp0)
3801  13CA  F5          	push	af
3802  13CB  33          	inc	sp
3803  13CC  21 8C 70    	ld	hl,0x708c
3804  13CF  E5          	push	hl
3805  13D0  CD 00 00    	call	_NIRVANAP_drawT_callee
3806  13D3  21 00 00    	ld	hl,_tmp0
3807  13D6  7E          	ld	a,(hl)
3808  13D7  3C          	inc	a
3809  13D8  3C          	inc	a
3810  13D9  77          	ld	(hl),a
3811  13DA  D6 1C       	sub	a,0x1c
3812  13DC  38 E9       	jr	C,l_game_end_00133
3813  13DE  21 50 18    	ld	hl,0x1850
3814  13E1  E5          	push	hl
3815  13E2  3E D6       	ld	a,0xd6
3816  13E4  F5          	push	af
3817  13E5  33          	inc	sp
3818  13E6  CD 00 00    	call	_NIRVANAP_drawT_callee
3819  13E9  21 9C 01    	ld	hl,0x019c
3820  13EC  E5          	push	hl
3821  13ED  21 01 1D    	ld	hl,0x1d01
3822  13F0  E5          	push	hl
3823  13F1  3E 20       	ld	a,0x20
3824  13F3  F5          	push	af
3825  13F4  33          	inc	sp
3826  13F5  CD E0 11    	call	_game_menu_e
3827  13F8  F1          	pop	af
3828  13F9  33          	inc	sp
3829  13FA  21 9F FF    	ld	hl,0xff9f
3830  13FD  E3          	ex	(sp),hl
3831  13FE  21 01 1D    	ld	hl,0x1d01
3832  1401  E5          	push	hl
3833  1402  3E 80       	ld	a,0x80
3834  1404  F5          	push	af
3835  1405  33          	inc	sp
3836  1406  CD E0 11    	call	_game_menu_e
3837  1409  F1          	pop	af
3838  140A  F1          	pop	af
3839  140B  33          	inc	sp
3840  140C  3E 00       	ld	a,0x00
3841  140E  DD 77 FC    	ld	(ix-4),a
3842  1411  DD 77 FD    	ld	(ix-3),a
3843  1414  3A 00 00    	ld	a,(_game_two_player)
3844  1417  B7          	or	a, a
3845  1418  28 16       	jr	Z,l_game_end_00109
3846  141A  3A 00 00    	ld	a,(_game_lives)
3847  141D  B7          	or	a, a
3848  141E  28 04       	jr	Z,l_game_end_00105
3849  1420  DD 36 FC 01 	ld	(ix-4),0x01
3850  1424              l_game_end_00105:
3851  1424  3A 01 00    	ld	a, (_game_lives + 1)
3852  1427  B7          	or	a, a
3853  1428  28 0A       	jr	Z,l_game_end_00110
3854  142A  DD 36 FD 01 	ld	(ix-3),0x01
3855  142E  18 04       	jr	l_game_end_00110
3856  1430              l_game_end_00109:
3857  1430  DD 36 FC 01 	ld	(ix-4),0x01
3858  1434              l_game_end_00110:
3859  1434  DD 7E FC    	ld	a,(ix-4)
3860  1437  3D          	dec	a
3861  1438  20 04       	jr	NZ,l_game_end_00221
3862  143A  3E 01       	ld	a,0x01
3863  143C  18 01       	jr	l_game_end_00222
3864  143E              l_game_end_00221:
3865  143E  AF          	xor	a,a
3866  143F              l_game_end_00222:
3867  143F  DD 77 FF    	ld	(ix-1),a
3868  1442  B7          	or	a, a
3869  1443  28 1C       	jr	Z,l_game_end_00112
3870  1445  DD 7E FD    	ld	a,(ix-3)
3871  1448  B7          	or	a, a
3872  1449  20 16       	jr	NZ,l_game_end_00112
3873  144B  21 EB 15    	ld	hl,___str_40
3874  144E  E5          	push	hl
3875  144F  21 13 01    	ld	hl,0x0113
3876  1452  E5          	push	hl
3877  1453  CD 00 00    	call	_zx_print_str
3878  1456  21 50 0C    	ld	hl,0x0c50
3879  1459  E5          	push	hl
3880  145A  3E 03       	ld	a,0x03
3881  145C  F5          	push	af
3882  145D  33          	inc	sp
3883  145E  CD 00 00    	call	_NIRVANAP_drawT_callee
3884  1461              l_game_end_00112:
3885  1461  DD 7E FD    	ld	a,(ix-3)
3886  1464  3D          	dec	a
3887  1465  20 04       	jr	NZ,l_game_end_00223
3888  1467  3E 01       	ld	a,0x01
3889  1469  18 01       	jr	l_game_end_00224
3890  146B              l_game_end_00223:
3891  146B  AF          	xor	a,a
3892  146C              l_game_end_00224:
3893  146C  DD 77 FE    	ld	(ix-2),a
3894  146F  DD 7E FC    	ld	a,(ix-4)
3895  1472  B7          	or	a, a
3896  1473  20 1C       	jr	NZ,l_game_end_00115
3897  1475  DD 7E FE    	ld	a,(ix-2)
3898  1478  B7          	or	a, a
3899  1479  28 16       	jr	Z,l_game_end_00115
3900  147B  21 F5 15    	ld	hl,___str_41
3901  147E  E5          	push	hl
3902  147F  21 13 01    	ld	hl,0x0113
3903  1482  E5          	push	hl
3904  1483  CD 00 00    	call	_zx_print_str
3905  1486  21 60 0E    	ld	hl,0x0e60
3906  1489  E5          	push	hl
3907  148A  3E 1B       	ld	a,0x1b
3908  148C  F5          	push	af
3909  148D  33          	inc	sp
3910  148E  CD 00 00    	call	_NIRVANAP_drawT_callee
3911  1491              l_game_end_00115:
3912  1491  DD 7E FF    	ld	a,(ix-1)
3913  1494  B7          	or	a, a
3914  1495  28 27       	jr	Z,l_game_end_00118
3915  1497  DD 7E FE    	ld	a,(ix-2)
3916  149A  B7          	or	a, a
3917  149B  28 21       	jr	Z,l_game_end_00118
3918  149D  21 FE 15    	ld	hl,___str_42
3919  14A0  E5          	push	hl
3920  14A1  21 13 01    	ld	hl,0x0113
3921  14A4  E5          	push	hl
3922  14A5  CD 00 00    	call	_zx_print_str
3923  14A8  21 50 0C    	ld	hl,0x0c50
3924  14AB  E5          	push	hl
3925  14AC  3E 03       	ld	a,0x03
3926  14AE  F5          	push	af
3927  14AF  33          	inc	sp
3928  14B0  CD 00 00    	call	_NIRVANAP_drawT_callee
3929  14B3  21 60 0E    	ld	hl,0x0e60
3930  14B6  E5          	push	hl
3931  14B7  3E 1B       	ld	a,0x1b
3932  14B9  F5          	push	af
3933  14BA  33          	inc	sp
3934  14BB  CD 00 00    	call	_NIRVANAP_drawT_callee
3935  14BE              l_game_end_00118:
3936  14BE  21 C8 00    	ld	hl,0x00c8
3937  14C1  E5          	push	hl
3938  14C2  21 01 1F    	ld	hl,0x1f01
3939  14C5  E5          	push	hl
3940  14C6  3E 13       	ld	a,0x13
3941  14C8  F5          	push	af
3942  14C9  33          	inc	sp
3943  14CA  CD 9B 1B    	call	_game_colour_message
3944  14CD  F1          	pop	af
3945  14CE  F1          	pop	af
3946  14CF  33          	inc	sp
3947  14D0  DD 7E FF    	ld	a,(ix-1)
3948  14D3  B7          	or	a, a
3949  14D4  28 32       	jr	Z,l_game_end_00121
3950  14D6  DD 7E FD    	ld	a,(ix-3)
3951  14D9  B7          	or	a, a
3952  14DA  20 2C       	jr	NZ,l_game_end_00121
3953  14DC  21 40 12    	ld	hl,0x1240
3954  14DF  E5          	push	hl
3955  14E0  3E BE       	ld	a,0xbe
3956  14E2  F5          	push	af
3957  14E3  33          	inc	sp
3958  14E4  CD 00 00    	call	_NIRVANAP_drawT_callee
3959  14E7  21 50 12    	ld	hl,0x1250
3960  14EA  E5          	push	hl
3961  14EB  3E CA       	ld	a,0xca
3962  14ED  F5          	push	af
3963  14EE  33          	inc	sp
3964  14EF  CD 00 00    	call	_NIRVANAP_drawT_callee
3965  14F2  21 12 16    	ld	hl,___str_43
3966  14F5  E5          	push	hl
3967  14F6  21 13 01    	ld	hl,0x0113
3968  14F9  E5          	push	hl
3969  14FA  CD 00 00    	call	_zx_print_str
3970  14FD  21 40 0C    	ld	hl,0x0c40
3971  1500  E5          	push	hl
3972  1501  3E BE       	ld	a,0xbe
3973  1503  F5          	push	af
3974  1504  33          	inc	sp
3975  1505  CD 00 00    	call	_NIRVANAP_drawT_callee
3976  1508              l_game_end_00121:
3977  1508  DD 7E FC    	ld	a,(ix-4)
3978  150B  B7          	or	a, a
3979  150C  20 32       	jr	NZ,l_game_end_00124
3980  150E  DD 7E FE    	ld	a,(ix-2)
3981  1511  B7          	or	a, a
3982  1512  28 2C       	jr	Z,l_game_end_00124
3983  1514  21 50 12    	ld	hl,0x1250
3984  1517  E5          	push	hl
3985  1518  3E BE       	ld	a,0xbe
3986  151A  F5          	push	af
3987  151B  33          	inc	sp
3988  151C  CD 00 00    	call	_NIRVANAP_drawT_callee
3989  151F  21 60 12    	ld	hl,0x1260
3990  1522  E5          	push	hl
3991  1523  3E CA       	ld	a,0xca
3992  1525  F5          	push	af
3993  1526  33          	inc	sp
3994  1527  CD 00 00    	call	_NIRVANAP_drawT_callee
3995  152A  21 12 16    	ld	hl,___str_43
3996  152D  E5          	push	hl
3997  152E  21 13 01    	ld	hl,0x0113
3998  1531  E5          	push	hl
3999  1532  CD 00 00    	call	_zx_print_str
4000  1535  21 50 0E    	ld	hl,0x0e50
4001  1538  E5          	push	hl
4002  1539  3E BE       	ld	a,0xbe
4003  153B  F5          	push	af
4004  153C  33          	inc	sp
4005  153D  CD 00 00    	call	_NIRVANAP_drawT_callee
4006  1540              l_game_end_00124:
4007  1540  DD 7E FF    	ld	a,(ix-1)
4008  1543  B7          	or	a, a
4009  1544  28 53       	jr	Z,l_game_end_00127
4010  1546  DD 7E FE    	ld	a,(ix-2)
4011  1549  B7          	or	a, a
4012  154A  28 4D       	jr	Z,l_game_end_00127
4013  154C  21 26 16    	ld	hl,___str_44
4014  154F  E5          	push	hl
4015  1550  21 13 01    	ld	hl,0x0113
4016  1553  E5          	push	hl
4017  1554  CD 00 00    	call	_zx_print_str
4018  1557  21 40 12    	ld	hl,0x1240
4019  155A  E5          	push	hl
4020  155B  3E BE       	ld	a,0xbe
4021  155D  F5          	push	af
4022  155E  33          	inc	sp
4023  155F  CD 00 00    	call	_NIRVANAP_drawT_callee
4024  1562  21 50 12    	ld	hl,0x1250
4025  1565  E5          	push	hl
4026  1566  3E CA       	ld	a,0xca
4027  1568  F5          	push	af
4028  1569  33          	inc	sp
4029  156A  CD 00 00    	call	_NIRVANAP_drawT_callee
4030  156D  21 50 10    	ld	hl,0x1050
4031  1570  E5          	push	hl
4032  1571  3E BE       	ld	a,0xbe
4033  1573  F5          	push	af
4034  1574  33          	inc	sp
4035  1575  CD 00 00    	call	_NIRVANAP_drawT_callee
4036  1578  21 60 10    	ld	hl,0x1060
4037  157B  E5          	push	hl
4038  157C  3E CA       	ld	a,0xca
4039  157E  F5          	push	af
4040  157F  33          	inc	sp
4041  1580  CD 00 00    	call	_NIRVANAP_drawT_callee
4042  1583  21 40 0C    	ld	hl,0x0c40
4043  1586  E5          	push	hl
4044  1587  3E BE       	ld	a,0xbe
4045  1589  F5          	push	af
4046  158A  33          	inc	sp
4047  158B  CD 00 00    	call	_NIRVANAP_drawT_callee
4048  158E  21 50 0E    	ld	hl,0x0e50
4049  1591  E5          	push	hl
4050  1592  3E BE       	ld	a,0xbe
4051  1594  F5          	push	af
4052  1595  33          	inc	sp
4053  1596  CD 00 00    	call	_NIRVANAP_drawT_callee
4054  1599              l_game_end_00127:
4055  1599  21 C8 00    	ld	hl,0x00c8
4056  159C  E5          	push	hl
4057  159D  21 01 1F    	ld	hl,0x1f01
4058  15A0  E5          	push	hl
4059  15A1  3E 13       	ld	a,0x13
4060  15A3  F5          	push	af
4061  15A4  33          	inc	sp
4062  15A5  CD 9B 1B    	call	_game_colour_message
4063  15A8  F1          	pop	af
4064  15A9  33          	inc	sp
4065  15AA  21 3C 16    	ld	hl,___str_45
4066  15AD  E3          	ex	(sp),hl
4067  15AE  21 13 01    	ld	hl,0x0113
4068  15B1  E5          	push	hl
4069  15B2  CD 00 00    	call	_zx_print_str
4070  15B5  21 C8 00    	ld	hl,0x00c8
4071  15B8  E5          	push	hl
4072  15B9  21 01 1F    	ld	hl,0x1f01
4073  15BC  E5          	push	hl
4074  15BD  3E 13       	ld	a,0x13
4075  15BF  F5          	push	af
4076  15C0  33          	inc	sp
4077  15C1  CD 9B 1B    	call	_game_colour_message
4078  15C4  F1          	pop	af
4079  15C5  33          	inc	sp
4080  15C6  21 53 16    	ld	hl,___str_46
4081  15C9  E3          	ex	(sp),hl
4082  15CA  21 13 01    	ld	hl,0x0113
4083  15CD  E5          	push	hl
4084  15CE  CD 00 00    	call	_zx_print_str
4085  15D1  21 C8 00    	ld	hl,0x00c8
4086  15D4  E5          	push	hl
4087  15D5  21 01 1F    	ld	hl,0x1f01
4088  15D8  E5          	push	hl
4089  15D9  3E 13       	ld	a,0x13
4090  15DB  F5          	push	af
4091  15DC  33          	inc	sp
4092  15DD  CD 9B 1B    	call	_game_colour_message
4093  15E0  F1          	pop	af
4094  15E1  F1          	pop	af
4095  15E2  33          	inc	sp
4096  15E3  CD 00 00    	call	_spr_draw_clear
4097  15E6  DD F9       	ld	sp, ix
4098  15E8  DD E1       	pop	ix
4099  15EA  C9          	ret
4100  15EB              ___str_40:
4101  15EB  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4102  15F4  00          	DEFB 0x00
4103  15F5              ___str_41:
4104  15F5  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4105  15FD  00          	DEFB 0x00
4106  15FE              ___str_42:
4107  15FE  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4108  1611  00          	DEFB 0x00
4109  1612              ___str_43:
4110  1612  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4111  1625  00          	DEFB 0x00
4112  1626              ___str_44:
4113  1626  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4114  163B  00          	DEFB 0x00
4115  163C              ___str_45:
4116  163C  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4117  1652  00          	DEFB 0x00
4118  1653              ___str_46:
4119  1653  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4120  1669  00          	DEFB 0x00
4121  166A              ;	---------------------------------
4122  166A              ; Function game_hall_check
4123  166A              ; ---------------------------------
4124  166A              _game_hall_check:
4125  166A  5D          	ld	e,l
4126  166B  01 00 00    	ld	bc,_player_score+0
4127  166E  26 00       	ld	h,0x00
4128  1670  6B          	ld	l, e
4129  1671  29          	add	hl, hl
4130  1672  09          	add	hl,bc
4131  1673  4E          	ld	c,(hl)
4132  1674  23          	inc	hl
4133  1675  46          	ld	b,(hl)
4134  1676  2A 3A 00    	ld	hl,(_hof + 0x003a)
4135  1679  AF          	xor	a,a
4136  167A  ED 42       	sbc	hl,bc
4137  167C  30 09       	jr	NC,l_game_hall_check_00104
4138  167E  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4139  1682  21 36 00    	ld	hl,+(_hof + 0x0036)
4140  1685  18 14       	jr	l_game_hall_check_00106
4141  1687              l_game_hall_check_00104:
4142  1687  2A 34 00    	ld	hl,(_hof + 0x0034)
4143  168A  AF          	xor	a,a
4144  168B  ED 42       	sbc	hl,bc
4145  168D  30 09       	jr	NC,l_game_hall_check_00105
4146  168F  ED 43 34 00 	ld	(_hof + 0x0034),bc
4147  1693  21 30 00    	ld	hl,+(_hof + 0x0030)
4148  1696  18 03       	jr	l_game_hall_check_00106
4149  1698              l_game_hall_check_00105:
4150  1698  21 00 00    	ld	hl,0x0000
4151  169B              l_game_hall_check_00106:
4152  169B  C9          	ret
4153  169C              ;	---------------------------------
4154  169C              ; Function compare_scores
4155  169C              ; ---------------------------------
4156  169C              _compare_scores:
4157  169C  CD 00 00    	call	___sdcc_enter_ix
4158  169F  DD 6E 06    	ld	l,(ix+6)
4159  16A2  DD 66 07    	ld	h,(ix+7)
4160  16A5  11 04 00    	ld	de,0x0004
4161  16A8  19          	add	hl, de
4162  16A9  4E          	ld	c,(hl)
4163  16AA  23          	inc	hl
4164  16AB  46          	ld	b,(hl)
4165  16AC  DD 6E 04    	ld	l,(ix+4)
4166  16AF  DD 66 05    	ld	h,(ix+5)
4167  16B2  11 04 00    	ld	de,0x0004
4168  16B5  19          	add	hl, de
4169  16B6  5E          	ld	e,(hl)
4170  16B7  23          	inc	hl
4171  16B8  56          	ld	d,(hl)
4172  16B9  79          	ld	a,c
4173  16BA  93          	sub	a, e
4174  16BB  6F          	ld	l,a
4175  16BC  78          	ld	a,b
4176  16BD  9A          	sbc	a, d
4177  16BE  67          	ld	h,a
4178  16BF  DD E1       	pop	ix
4179  16C1  C9          	ret
4180  16C2              ;	---------------------------------
4181  16C2              ; Function game_hall_enter
4182  16C2              ; ---------------------------------
4183  16C2              _game_hall_enter:
4184  16C2  CD 00 00    	call	___sdcc_enter_ix
4185  16C5  21 F7 FF    	ld	hl,-9
4186  16C8  39          	add	hl,sp
4187  16C9  F9          	ld	sp,hl
4188  16CA  CD 00 00    	call	_spr_draw_clear
4189  16CD  2E 00       	ld	l,0x00
4190  16CF  CD 56 0D    	call	_game_paint_attrib
4191  16D2  ED 4B 00 00 	ld	bc,(_player_score)
4192  16D6  2A 02 00    	ld	hl, (_player_score + 2)
4193  16D9  AF          	xor	a,a
4194  16DA  ED 42       	sbc	hl,bc
4195  16DC  30 0F       	jr	NC,l_game_hall_enter_00102
4196  16DE  2E 00       	ld	l,0x00
4197  16E0  CD 6A 16    	call	_game_hall_check
4198  16E3  E5          	push	hl
4199  16E4  2E 01       	ld	l,0x01
4200  16E6  CD 6A 16    	call	_game_hall_check
4201  16E9  EB          	ex	de,hl
4202  16EA  C1          	pop	bc
4203  16EB  18 0E       	jr	l_game_hall_enter_00103
4204  16ED              l_game_hall_enter_00102:
4205  16ED  2E 01       	ld	l,0x01
4206  16EF  CD 6A 16    	call	_game_hall_check
4207  16F2  E5          	push	hl
4208  16F3  2E 00       	ld	l,0x00
4209  16F5  CD 6A 16    	call	_game_hall_check
4210  16F8  D1          	pop	de
4211  16F9  4D          	ld	c,l
4212  16FA  44          	ld	b,h
4213  16FB              l_game_hall_enter_00103:
4214  16FB  78          	ld	a,b
4215  16FC  B1          	or	a,c
4216  16FD  20 05       	jr	NZ,l_game_hall_enter_00125
4217  16FF  7A          	ld	a,d
4218  1700  B3          	or	a,e
4219  1701  CA 4F 18    	jp	Z,l_game_hall_enter_00126
4220  1704              l_game_hall_enter_00125:
4221  1704  3E 00       	ld	a,0x00
4222  1706  DD 77 F7    	ld	(ix-9),a
4223  1709  DD 77 FB    	ld	(ix-5),a
4224  170C  DD 77 F9    	ld	(ix-7),a
4225  170F  DD 77 F8    	ld	(ix-8),a
4226  1712  DD 36 FA 00 	ld	(ix-6),0x00
4227  1716  78          	ld	a,b
4228  1717  B1          	or	a,c
4229  1718  28 0D       	jr	Z,l_game_hall_enter_00105
4230  171A  DD 36 F8 01 	ld	(ix-8),0x01
4231  171E  C5          	push	bc
4232  171F  D5          	push	de
4233  1720  2E 00       	ld	l,0x00
4234  1722  CD A6 18    	call	_game_hall_enter_phs
4235  1725  D1          	pop	de
4236  1726  C1          	pop	bc
4237  1727              l_game_hall_enter_00105:
4238  1727  7A          	ld	a,d
4239  1728  B3          	or	a,e
4240  1729  28 0D       	jr	Z,l_game_hall_enter_00107
4241  172B  DD 36 FA 05 	ld	(ix-6),0x05
4242  172F  C5          	push	bc
4243  1730  D5          	push	de
4244  1731  2E 01       	ld	l,0x01
4245  1733  CD A6 18    	call	_game_hall_enter_phs
4246  1736  D1          	pop	de
4247  1737  C1          	pop	bc
4248  1738              l_game_hall_enter_00107:
4249  1738  C5          	push	bc
4250  1739  D5          	push	de
4251  173A  21 5C 18    	ld	hl,___str_47
4252  173D  E5          	push	hl
4253  173E  21 02 0A    	ld	hl,0x0a02
4254  1741  E5          	push	hl
4255  1742  CD 00 00    	call	_zx_print_str
4256  1745  21 69 18    	ld	hl,___str_48
4257  1748  E5          	push	hl
4258  1749  21 12 06    	ld	hl,0x0612
4259  174C  E5          	push	hl
4260  174D  CD 00 00    	call	_zx_print_str
4261  1750  21 7C 18    	ld	hl,___str_49
4262  1753  E5          	push	hl
4263  1754  21 13 06    	ld	hl,0x0613
4264  1757  E5          	push	hl
4265  1758  CD 00 00    	call	_zx_print_str
4266  175B  D1          	pop	de
4267  175C  C1          	pop	bc
4268  175D  DD 71 FE    	ld	(ix-2),c
4269  1760  DD 70 FF    	ld	(ix-1),b
4270  1763  DD 73 FC    	ld	(ix-4),e
4271  1766  DD 72 FD    	ld	(ix-3),d
4272  1769              l_game_hall_enter_00122:
4273  1769  DD 7E F8    	ld	a,(ix-8)
4274  176C  DD 86 FA    	add	a,(ix-6)
4275  176F  B7          	or	a, a
4276  1770  CA 37 18    	jp	Z,l_game_hall_enter_00124
4277  1773  21 05 00    	ld	hl,0x0005
4278  1776  E5          	push	hl
4279  1777  2A 00 00    	ld	hl,(_frame_time)
4280  177A  E5          	push	hl
4281  177B  CD 2D 1C    	call	_game_check_time
4282  177E  F1          	pop	af
4283  177F  F1          	pop	af
4284  1780  7D          	ld	a,l
4285  1781  B7          	or	a, a
4286  1782  28 36       	jr	Z,l_game_hall_enter_00113
4287  1784  DD 7E F9    	ld	a,(ix-7)
4288  1787  D6 01       	sub	a,0x01
4289  1789  3E 00       	ld	a,0x00
4290  178B  17          	rla
4291  178C  DD 77 F9    	ld	(ix-7),a
4292  178F  DD 7E F8    	ld	a,(ix-8)
4293  1792  B7          	or	a, a
4294  1793  28 0B       	jr	Z,l_game_hall_enter_00109
4295  1795  DD 66 F9    	ld	h,(ix-7)
4296  1798  DD 6E F8    	ld	l,(ix-8)
4297  179B  E5          	push	hl
4298  179C  CD 29 19    	call	_game_hall_print_p
4299  179F  F1          	pop	af
4300  17A0              l_game_hall_enter_00109:
4301  17A0  DD 7E FA    	ld	a,(ix-6)
4302  17A3  B7          	or	a, a
4303  17A4  28 0B       	jr	Z,l_game_hall_enter_00111
4304  17A6  DD 66 F9    	ld	h,(ix-7)
4305  17A9  DD 6E FA    	ld	l,(ix-6)
4306  17AC  E5          	push	hl
4307  17AD  CD 29 19    	call	_game_hall_print_p
4308  17B0  F1          	pop	af
4309  17B1              l_game_hall_enter_00111:
4310  17B1  CD 7F 1B    	call	_game_rotate_attrib
4311  17B4  2A 00 00    	ld	hl,(_curr_time)
4312  17B7  22 00 00    	ld	(_frame_time),hl
4313  17BA              l_game_hall_enter_00113:
4314  17BA  21 00 00    	ld	hl,_k1
4315  17BD  E5          	push	hl
4316  17BE  2A 00 00    	ld	hl,(_joyfunc1)
4317  17C1  CD 00 00    	call	___sdcc_call_hl
4318  17C4  F1          	pop	af
4319  17C5  7D          	ld	a,l
4320  17C6  32 00 00    	ld	(_dirs),a
4321  17C9  DD 7E F7    	ld	a,(ix-9)
4322  17CC  B7          	or	a, a
4323  17CD  20 22       	jr	NZ,l_game_hall_enter_00115
4324  17CF  DD 7E F8    	ld	a,(ix-8)
4325  17D2  B7          	or	a, a
4326  17D3  28 1C       	jr	Z,l_game_hall_enter_00115
4327  17D5  DD 6E F8    	ld	l,(ix-8)
4328  17D8  CD E7 19    	call	_game_hall_edit_p
4329  17DB  DD 75 F8    	ld	(ix-8),l
4330  17DE  7D          	ld	a,l
4331  17DF  B7          	or	a, a
4332  17E0  20 0F       	jr	NZ,l_game_hall_enter_00115
4333  17E2  DD 5E FE    	ld	e,(ix-2)
4334  17E5  DD 56 FF    	ld	d,(ix-1)
4335  17E8  AF          	xor	a,a
4336  17E9  21 00 00    	ld	hl,_initials
4337  17EC              l_game_hall_enter_00190:
4338  17EC  BE          	cp	a, (hl)
4339  17ED  ED A0       	ldi
4340  17EF  20 FB       	jr	NZ, l_game_hall_enter_00190
4341  17F1              l_game_hall_enter_00115:
4342  17F1  3A 00 00    	ld	a,(_dirs)
4343  17F4  DD 77 F7    	ld	(ix-9),a
4344  17F7  21 00 00    	ld	hl,_k2
4345  17FA  E5          	push	hl
4346  17FB  2A 00 00    	ld	hl,(_joyfunc2)
4347  17FE  CD 00 00    	call	___sdcc_call_hl
4348  1801  F1          	pop	af
4349  1802  7D          	ld	a,l
4350  1803  32 00 00    	ld	(_dirs),a
4351  1806  DD 7E FB    	ld	a,(ix-5)
4352  1809  B7          	or	a, a
4353  180A  20 22       	jr	NZ,l_game_hall_enter_00119
4354  180C  DD 7E FA    	ld	a,(ix-6)
4355  180F  B7          	or	a, a
4356  1810  28 1C       	jr	Z,l_game_hall_enter_00119
4357  1812  DD 6E FA    	ld	l,(ix-6)
4358  1815  CD E7 19    	call	_game_hall_edit_p
4359  1818  DD 75 FA    	ld	(ix-6),l
4360  181B  7D          	ld	a,l
4361  181C  B7          	or	a, a
4362  181D  20 0F       	jr	NZ,l_game_hall_enter_00119
4363  181F  DD 5E FC    	ld	e,(ix-4)
4364  1822  DD 56 FD    	ld	d,(ix-3)
4365  1825  AF          	xor	a,a
4366  1826  21 04 00    	ld	hl,+(_initials + 0x0004)
4367  1829              l_game_hall_enter_00191:
4368  1829  BE          	cp	a, (hl)
4369  182A  ED A0       	ldi
4370  182C  20 FB       	jr	NZ, l_game_hall_enter_00191
4371  182E              l_game_hall_enter_00119:
4372  182E  3A 00 00    	ld	a,(_dirs)
4373  1831  DD 77 FB    	ld	(ix-5),a
4374  1834  C3 69 17    	jp	l_game_hall_enter_00122
4375  1837              l_game_hall_enter_00124:
4376  1837  CD 00 00    	call	_ay_reset
4377  183A  CD 00 00    	call	_spr_draw_clear
4378  183D  01 9C 16    	ld	bc,_compare_scores
4379  1840  C5          	push	bc
4380  1841  21 06 00    	ld	hl,0x0006
4381  1844  E5          	push	hl
4382  1845  2E 0A       	ld	l,0x0a
4383  1847  E5          	push	hl
4384  1848  21 00 00    	ld	hl,_hof
4385  184B  E5          	push	hl
4386  184C  CD 00 00    	call	__insertion_sort__callee
4387  184F              l_game_hall_enter_00126:
4388  184F  CD 9D 1A    	call	_game_hall_of_fame
4389  1852  2E 00       	ld	l,0x00
4390  1854  CD 90 18    	call	_game_menu_back
4391  1857  DD F9       	ld	sp, ix
4392  1859  DD E1       	pop	ix
4393  185B  C9          	ret
4394  185C              ___str_47:
4395  185C  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4396  1868  00          	DEFB 0x00
4397  1869              ___str_48:
4398  1869  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4399  187B  00          	DEFB 0x00
4400  187C              ___str_49:
4401  187C  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4402  188F  00          	DEFB 0x00
4403  1890              ;	---------------------------------
4404  1890              ; Function game_menu_back
4405  1890              ; ---------------------------------
4406  1890              _game_menu_back:
4407  1890  7D          	ld	a,l
4408  1891  32 00 00    	ld	(_s_lin1),a
4409  1894  21 00 00    	ld	hl,_game_menu_sel
4410  1897  36 00       	ld	(hl),0x00
4411  1899  CD A2 10    	call	_game_menu_top_paint
4412  189C  CD 16 11    	call	_game_menu_paint
4413  189F  2A 00 00    	ld	hl,(_curr_time)
4414  18A2  22 00 00    	ld	(_entry_time),hl
4415  18A5  C9          	ret
4416  18A6              ;	---------------------------------
4417  18A6              ; Function game_hall_enter_phs
4418  18A6              ; ---------------------------------
4419  18A6              _game_hall_enter_phs:
4420  18A6  7D          	ld	a,l
4421  18A7  B7          	or	a, a
4422  18A8  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4423  18AA  21 9C 01    	ld	hl,0x019c
4424  18AD  E5          	push	hl
4425  18AE  21 02 0C    	ld	hl,0x0c02
4426  18B1  E5          	push	hl
4427  18B2  3E 30       	ld	a,0x30
4428  18B4  F5          	push	af
4429  18B5  33          	inc	sp
4430  18B6  CD E0 11    	call	_game_menu_e
4431  18B9  F1          	pop	af
4432  18BA  33          	inc	sp
4433  18BB  21 9F FF    	ld	hl,0xff9f
4434  18BE  E3          	ex	(sp),hl
4435  18BF  21 02 0C    	ld	hl,0x0c02
4436  18C2  E5          	push	hl
4437  18C3  3E 7C       	ld	a,0x7c
4438  18C5  F5          	push	af
4439  18C6  33          	inc	sp
4440  18C7  CD E0 11    	call	_game_menu_e
4441  18CA  F1          	pop	af
4442  18CB  33          	inc	sp
4443  18CC  21 1D 19    	ld	hl,___str_50
4444  18CF  E3          	ex	(sp),hl
4445  18D0  21 07 05    	ld	hl,0x0507
4446  18D3  E5          	push	hl
4447  18D4  CD 00 00    	call	_zx_print_str
4448  18D7  21 22 19    	ld	hl,___str_51
4449  18DA  E5          	push	hl
4450  18DB  21 08 05    	ld	hl,0x0508
4451  18DE  E5          	push	hl
4452  18DF  CD 00 00    	call	_zx_print_str
4453  18E2  18 38       	jr	l_game_hall_enter_phs_00104
4454  18E4              l_game_hall_enter_phs_00102:
4455  18E4  21 9C 01    	ld	hl,0x019c
4456  18E7  E5          	push	hl
4457  18E8  21 12 1C    	ld	hl,0x1c12
4458  18EB  E5          	push	hl
4459  18EC  3E 30       	ld	a,0x30
4460  18EE  F5          	push	af
4461  18EF  33          	inc	sp
4462  18F0  CD E0 11    	call	_game_menu_e
4463  18F3  F1          	pop	af
4464  18F4  33          	inc	sp
4465  18F5  21 9F FF    	ld	hl,0xff9f
4466  18F8  E3          	ex	(sp),hl
4467  18F9  21 12 1C    	ld	hl,0x1c12
4468  18FC  E5          	push	hl
4469  18FD  3E 7C       	ld	a,0x7c
4470  18FF  F5          	push	af
4471  1900  33          	inc	sp
4472  1901  CD E0 11    	call	_game_menu_e
4473  1904  F1          	pop	af
4474  1905  33          	inc	sp
4475  1906  21 1D 19    	ld	hl,___str_50
4476  1909  E3          	ex	(sp),hl
4477  190A  21 07 15    	ld	hl,0x1507
4478  190D  E5          	push	hl
4479  190E  CD 00 00    	call	_zx_print_str
4480  1911  21 22 19    	ld	hl,___str_51
4481  1914  E5          	push	hl
4482  1915  21 08 15    	ld	hl,0x1508
4483  1918  E5          	push	hl
4484  1919  CD 00 00    	call	_zx_print_str
4485  191C              l_game_hall_enter_phs_00104:
4486  191C  C9          	ret
4487  191D              ___str_50:
4488  191D  48 49 47 48 	DEFM "HIGH"
4489  1921  00          	DEFB 0x00
4490  1922              ___str_51:
4491  1922  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4492  1928  00          	DEFB 0x00
4493  1929              ;	---------------------------------
4494  1929              ; Function game_hall_print_p
4495  1929              ; ---------------------------------
4496  1929              _game_hall_print_p:
4497  1929  CD 00 00    	call	___sdcc_enter_ix
4498  192C  DD 7E 04    	ld	a,(ix+4)
4499  192F  D6 05       	sub	a,0x05
4500  1931  30 59       	jr	NC,l_game_hall_print_p_00108
4501  1933  21 00 00    	ld	hl,_initials
4502  1936  E5          	push	hl
4503  1937  21 0D 06    	ld	hl,0x060d
4504  193A  E5          	push	hl
4505  193B  CD 00 00    	call	_zx_print_str
4506  193E  DD 7E 04    	ld	a,(ix+4)
4507  1941  C6 06       	add	a,0x06
4508  1943  47          	ld	b,a
4509  1944  DD 7E 04    	ld	a,(ix+4)
4510  1947  C6 05       	add	a,0x05
4511  1949  57          	ld	d,a
4512  194A  3E 70       	ld	a,0x70
4513  194C  F5          	push	af
4514  194D  33          	inc	sp
4515  194E  4A          	ld	c, d
4516  194F  C5          	push	bc
4517  1950  CD A1 0D    	call	_game_paint_attrib_lin_h
4518  1953  F1          	pop	af
4519  1954  33          	inc	sp
4520  1955  76          	halt
4521  1956  DD 7E 05    	ld	a,(ix+5)
4522  1959  B7          	or	a, a
4523  195A  28 18       	jr	Z,l_game_hall_print_p_00102
4524  195C  21 56 06    	ld	hl,0x0656
4525  195F  E5          	push	hl
4526  1960  3E A9       	ld	a,0xa9
4527  1962  F5          	push	af
4528  1963  33          	inc	sp
4529  1964  CD 00 00    	call	_NIRVANAP_drawT_callee
4530  1967  21 58 06    	ld	hl,0x0658
4531  196A  E5          	push	hl
4532  196B  3E 03       	ld	a,0x03
4533  196D  F5          	push	af
4534  196E  33          	inc	sp
4535  196F  CD 00 00    	call	_NIRVANAP_drawT_callee
4536  1972  18 70       	jr	l_game_hall_print_p_00110
4537  1974              l_game_hall_print_p_00102:
4538  1974  21 58 06    	ld	hl,0x0658
4539  1977  E5          	push	hl
4540  1978  3E A9       	ld	a,0xa9
4541  197A  F5          	push	af
4542  197B  33          	inc	sp
4543  197C  CD 00 00    	call	_NIRVANAP_drawT_callee
4544  197F  21 56 06    	ld	hl,0x0656
4545  1982  E5          	push	hl
4546  1983  3E 16       	ld	a,0x16
4547  1985  F5          	push	af
4548  1986  33          	inc	sp
4549  1987  CD 00 00    	call	_NIRVANAP_drawT_callee
4550  198A  18 58       	jr	l_game_hall_print_p_00110
4551  198C              l_game_hall_print_p_00108:
4552  198C  21 04 00    	ld	hl,+(_initials + 0x0004)
4553  198F  E5          	push	hl
4554  1990  21 0D 16    	ld	hl,0x160d
4555  1993  E5          	push	hl
4556  1994  CD 00 00    	call	_zx_print_str
4557  1997  DD 7E 04    	ld	a,(ix+4)
4558  199A  C6 12       	add	a,0x12
4559  199C  57          	ld	d,a
4560  199D  DD 7E 04    	ld	a,(ix+4)
4561  19A0  C6 11       	add	a,0x11
4562  19A2  47          	ld	b,a
4563  19A3  3E 70       	ld	a,0x70
4564  19A5  5A          	ld	e,d
4565  19A6  57          	ld	d,a
4566  19A7  D5          	push	de
4567  19A8  C5          	push	bc
4568  19A9  33          	inc	sp
4569  19AA  CD A1 0D    	call	_game_paint_attrib_lin_h
4570  19AD  F1          	pop	af
4571  19AE  33          	inc	sp
4572  19AF  76          	halt
4573  19B0  DD 7E 05    	ld	a,(ix+5)
4574  19B3  B7          	or	a, a
4575  19B4  28 18       	jr	Z,l_game_hall_print_p_00105
4576  19B6  21 56 17    	ld	hl,0x1756
4577  19B9  E5          	push	hl
4578  19BA  3E A9       	ld	a,0xa9
4579  19BC  F5          	push	af
4580  19BD  33          	inc	sp
4581  19BE  CD 00 00    	call	_NIRVANAP_drawT_callee
4582  19C1  21 58 17    	ld	hl,0x1758
4583  19C4  E5          	push	hl
4584  19C5  3E 27       	ld	a,0x27
4585  19C7  F5          	push	af
4586  19C8  33          	inc	sp
4587  19C9  CD 00 00    	call	_NIRVANAP_drawT_callee
4588  19CC  18 16       	jr	l_game_hall_print_p_00110
4589  19CE              l_game_hall_print_p_00105:
4590  19CE  21 58 17    	ld	hl,0x1758
4591  19D1  E5          	push	hl
4592  19D2  3E A9       	ld	a,0xa9
4593  19D4  F5          	push	af
4594  19D5  33          	inc	sp
4595  19D6  CD 00 00    	call	_NIRVANAP_drawT_callee
4596  19D9  21 56 17    	ld	hl,0x1756
4597  19DC  E5          	push	hl
4598  19DD  3E 2E       	ld	a,0x2e
4599  19DF  F5          	push	af
4600  19E0  33          	inc	sp
4601  19E1  CD 00 00    	call	_NIRVANAP_drawT_callee
4602  19E4              l_game_hall_print_p_00110:
4603  19E4  DD E1       	pop	ix
4604  19E6  C9          	ret
4605  19E7              ;	---------------------------------
4606  19E7              ; Function game_hall_edit_p
4607  19E7              ; ---------------------------------
4608  19E7              _game_hall_edit_p:
4609  19E7  CD 00 00    	call	___sdcc_enter_ix
4610  19EA  F5          	push	af
4611  19EB  4D          	ld	c,l
4612  19EC  0D          	dec	c
4613  19ED  3A 00 00    	ld	a,(_dirs)
4614  19F0  07          	rlca
4615  19F1  30 63       	jr	NC,l_game_hall_edit_p_00120
4616  19F3  79          	ld	a,c
4617  19F4  FE 04       	cp	a,0x04
4618  19F6  30 17       	jr	NC,l_game_hall_edit_p_00102
4619  19F8  C6 07       	add	a,0x07
4620  19FA  57          	ld	d,a
4621  19FB  79          	ld	a,c
4622  19FC  C6 06       	add	a,0x06
4623  19FE  47          	ld	b,a
4624  19FF  C5          	push	bc
4625  1A00  3E 70       	ld	a,0x70
4626  1A02  5A          	ld	e,d
4627  1A03  57          	ld	d,a
4628  1A04  D5          	push	de
4629  1A05  C5          	push	bc
4630  1A06  33          	inc	sp
4631  1A07  CD 7A 0D    	call	_game_paint_attrib_lin
4632  1A0A  F1          	pop	af
4633  1A0B  33          	inc	sp
4634  1A0C  C1          	pop	bc
4635  1A0D  18 16       	jr	l_game_hall_edit_p_00103
4636  1A0F              l_game_hall_edit_p_00102:
4637  1A0F  79          	ld	a,c
4638  1A10  C6 13       	add	a,0x13
4639  1A12  57          	ld	d,a
4640  1A13  79          	ld	a,c
4641  1A14  C6 12       	add	a,0x12
4642  1A16  47          	ld	b,a
4643  1A17  C5          	push	bc
4644  1A18  3E 70       	ld	a,0x70
4645  1A1A  5A          	ld	e,d
4646  1A1B  57          	ld	d,a
4647  1A1C  D5          	push	de
4648  1A1D  C5          	push	bc
4649  1A1E  33          	inc	sp
4650  1A1F  CD 7A 0D    	call	_game_paint_attrib_lin
4651  1A22  F1          	pop	af
4652  1A23  33          	inc	sp
4653  1A24  C1          	pop	bc
4654  1A25              l_game_hall_edit_p_00103:
4655  1A25  C5          	push	bc
4656  1A26  CD 00 00    	call	_sound_slide
4657  1A29  C1          	pop	bc
4658  1A2A  21 00 00    	ld	hl,_ay_effect_01
4659  1A2D  CD 00 00    	call	_ay_fx_play
4660  1A30  11 00 00    	ld	de,_initials+0
4661  1A33  41          	ld	b,c
4662  1A34  0C          	inc	c
4663  1A35  68          	ld	l,b
4664  1A36  26 00       	ld	h,0x00
4665  1A38  19          	add	hl,de
4666  1A39  7E          	ld	a,(hl)
4667  1A3A  D6 7B       	sub	a,0x7b
4668  1A3C  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4669  1A3E  0D          	dec	c
4670  1A3F  79          	ld	a,c
4671  1A40  E6 03       	and	a,0x03
4672  1A42  28 08       	jr	Z,l_game_hall_edit_p_00107
4673  1A44  41          	ld	b,c
4674  1A45  0D          	dec	c
4675  1A46  68          	ld	l,b
4676  1A47  26 00       	ld	h,0x00
4677  1A49  19          	add	hl,de
4678  1A4A  36 41       	ld	(hl),0x41
4679  1A4C              l_game_hall_edit_p_00107:
4680  1A4C  79          	ld	a,c
4681  1A4D  E6 03       	and	a,0x03
4682  1A4F  D6 03       	sub	a,0x03
4683  1A51  20 44       	jr	NZ,l_game_hall_edit_p_00121
4684  1A53  6F          	ld	l,a
4685  1A54  18 43       	jr	l_game_hall_edit_p_00122
4686  1A56              l_game_hall_edit_p_00120:
4687  1A56  3A 00 00    	ld	a,(_dirs)
4688  1A59  E6 0C       	and	a,0x0c
4689  1A5B  28 3A       	jr	Z,l_game_hall_edit_p_00121
4690  1A5D  11 00 00    	ld	de,_hall_valids
4691  1A60  3E 00       	ld	a,+((_initials) & 0xFF)
4692  1A62  81          	add	a, c
4693  1A63  DD 77 FE    	ld	(ix-2),a
4694  1A66  3E 00       	ld	a,+((_initials) / 256)
4695  1A68  CE 00       	adc	a,0x00
4696  1A6A  DD 77 FF    	ld	(ix-1),a
4697  1A6D  E1          	pop	hl
4698  1A6E  46          	ld	b,(hl)
4699  1A6F  E5          	push	hl
4700  1A70              l_game_hall_edit_p_00168:
4701  1A70  1A          	ld	a, (de)
4702  1A71  B8          	cp	a, b
4703  1A72  28 06       	jr	Z,l_game_hall_edit_p_00167
4704  1A74  B7          	or	a, a
4705  1A75  13          	inc	de
4706  1A76  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4707  1A78  5F          	ld	e, a
4708  1A79  57          	ld	d, a
4709  1A7A              l_game_hall_edit_p_00167:
4710  1A7A  3A 00 00    	ld	a,(_dirs)
4711  1A7D  E6 04       	and	a,0x04
4712  1A7F  28 0A       	jr	Z,l_game_hall_edit_p_00115
4713  1A81  1B          	dec	de
4714  1A82  1A          	ld	a,(de)
4715  1A83  3D          	dec	a
4716  1A84  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4717  1A86  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4718  1A89  18 08       	jr	l_game_hall_edit_p_00116
4719  1A8B              l_game_hall_edit_p_00115:
4720  1A8B  13          	inc	de
4721  1A8C  1A          	ld	a,(de)
4722  1A8D  B7          	or	a, a
4723  1A8E  20 03       	jr	NZ,l_game_hall_edit_p_00116
4724  1A90  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4725  1A93              l_game_hall_edit_p_00116:
4726  1A93  E1          	pop	hl
4727  1A94  1A          	ld	a,(de)
4728  1A95  E5          	push	hl
4729  1A96  77          	ld	(hl),a
4730  1A97              l_game_hall_edit_p_00121:
4731  1A97  0C          	inc	c
4732  1A98  69          	ld	l,c
4733  1A99              l_game_hall_edit_p_00122:
4734  1A99  F1          	pop	af
4735  1A9A  DD E1       	pop	ix
4736  1A9C  C9          	ret
4737  1A9D              ;	---------------------------------
4738  1A9D              ; Function game_hall_of_fame
4739  1A9D              ; ---------------------------------
4740  1A9D              _game_hall_of_fame:
4741  1A9D  CD 00 00    	call	_spr_draw_clear
4742  1AA0  2E 00       	ld	l,0x00
4743  1AA2  CD 56 0D    	call	_game_paint_attrib
4744  1AA5  21 9C 01    	ld	hl,0x019c
4745  1AA8  E5          	push	hl
4746  1AA9  21 06 18    	ld	hl,0x1806
4747  1AAC  E5          	push	hl
4748  1AAD  3E 10       	ld	a,0x10
4749  1AAF  F5          	push	af
4750  1AB0  33          	inc	sp
4751  1AB1  CD E0 11    	call	_game_menu_e
4752  1AB4  F1          	pop	af
4753  1AB5  33          	inc	sp
4754  1AB6  21 9F FF    	ld	hl,0xff9f
4755  1AB9  E3          	ex	(sp),hl
4756  1ABA  21 06 18    	ld	hl,0x1806
4757  1ABD  E5          	push	hl
4758  1ABE  3E 98       	ld	a,0x98
4759  1AC0  F5          	push	af
4760  1AC1  33          	inc	sp
4761  1AC2  CD E0 11    	call	_game_menu_e
4762  1AC5  F1          	pop	af
4763  1AC6  F1          	pop	af
4764  1AC7  33          	inc	sp
4765  1AC8  21 00 00    	ld	hl,_s_lin1
4766  1ACB  36 00       	ld	(hl),0x00
4767  1ACD              l_game_hall_of_fame_00102:
4768  1ACD  21 00 00    	ld	hl,_screen_ink
4769  1AD0  36 05       	ld	(hl),0x05
4770  1AD2  2A 00 00    	ld	hl,(_s_lin1)
4771  1AD5  26 00       	ld	h,0x00
4772  1AD7  4D          	ld	c,l
4773  1AD8  44          	ld	b,h
4774  1AD9  29          	add	hl, hl
4775  1ADA  09          	add	hl, bc
4776  1ADB  29          	add	hl, hl
4777  1ADC  01 00 00    	ld	bc,_hof
4778  1ADF  09          	add	hl,bc
4779  1AE0  3A 00 00    	ld	a,(_s_lin1)
4780  1AE3  EB          	ex	de,hl
4781  1AE4  C6 07       	add	a,0x07
4782  1AE6  47          	ld	b,a
4783  1AE7  D5          	push	de
4784  1AE8  3E 0A       	ld	a,0x0a
4785  1AEA  48          	ld	c,b
4786  1AEB  47          	ld	b,a
4787  1AEC  C5          	push	bc
4788  1AED  CD 00 00    	call	_zx_print_str
4789  1AF0  2A 00 00    	ld	hl,(_s_lin1)
4790  1AF3  26 00       	ld	h,0x00
4791  1AF5  4D          	ld	c,l
4792  1AF6  44          	ld	b,h
4793  1AF7  29          	add	hl, hl
4794  1AF8  09          	add	hl, bc
4795  1AF9  29          	add	hl, hl
4796  1AFA  01 00 00    	ld	bc,_hof
4797  1AFD  09          	add	hl,bc
4798  1AFE  11 04 00    	ld	de,0x0004
4799  1B01  19          	add	hl, de
4800  1B02  5E          	ld	e,(hl)
4801  1B03  23          	inc	hl
4802  1B04  56          	ld	d,(hl)
4803  1B05  3A 00 00    	ld	a,(_s_lin1)
4804  1B08  C6 07       	add	a,0x07
4805  1B0A  47          	ld	b,a
4806  1B0B  D5          	push	de
4807  1B0C  3E 10       	ld	a,0x10
4808  1B0E  48          	ld	c,b
4809  1B0F  47          	ld	b,a
4810  1B10  C5          	push	bc
4811  1B11  CD 00 00    	call	_zx_print_int
4812  1B14  11 6E 1B    	ld	de,___str_52
4813  1B17  3A 00 00    	ld	a,(_s_lin1)
4814  1B1A  C6 07       	add	a,0x07
4815  1B1C  47          	ld	b,a
4816  1B1D  D5          	push	de
4817  1B1E  3E 0E       	ld	a,0x0e
4818  1B20  48          	ld	c,b
4819  1B21  47          	ld	b,a
4820  1B22  C5          	push	bc
4821  1B23  CD 00 00    	call	_zx_print_str
4822  1B26  11 70 1B    	ld	de,___str_53
4823  1B29  3A 00 00    	ld	a,(_s_lin1)
4824  1B2C  C6 07       	add	a,0x07
4825  1B2E  47          	ld	b,a
4826  1B2F  D5          	push	de
4827  1B30  3E 15       	ld	a,0x15
4828  1B32  48          	ld	c,b
4829  1B33  47          	ld	b,a
4830  1B34  C5          	push	bc
4831  1B35  CD 00 00    	call	_zx_print_str
4832  1B38  21 00 00    	ld	hl,_s_lin1
4833  1B3B  7E          	ld	a,(hl)
4834  1B3C  3C          	inc	a
4835  1B3D  77          	ld	(hl),a
4836  1B3E  D6 0A       	sub	a,0x0a
4837  1B40  38 8B       	jr	C,l_game_hall_of_fame_00102
4838  1B42  21 72 1B    	ld	hl,___str_54
4839  1B45  E5          	push	hl
4840  1B46  21 04 0A    	ld	hl,0x0a04
4841  1B49  E5          	push	hl
4842  1B4A  CD 00 00    	call	_zx_print_str
4843  1B4D  21 F4 01    	ld	hl,0x01f4
4844  1B50  E5          	push	hl
4845  1B51  21 0A 16    	ld	hl,0x160a
4846  1B54  E5          	push	hl
4847  1B55  3E 04       	ld	a,0x04
4848  1B57  F5          	push	af
4849  1B58  33          	inc	sp
4850  1B59  CD 9B 1B    	call	_game_colour_message
4851  1B5C  F1          	pop	af
4852  1B5D  F1          	pop	af
4853  1B5E  33          	inc	sp
4854  1B5F  CD 00 00    	call	_spr_draw_clear
4855  1B62  21 00 00    	ld	hl,_game_menu_sel
4856  1B65  36 00       	ld	(hl),0x00
4857  1B67  21 00 00    	ld	hl,_pb_midi_title
4858  1B6A  CD 00 00    	call	_ay_midi_play
4859  1B6D  C9          	ret
4860  1B6E              ___str_52:
4861  1B6E  2D          	DEFM "-"
4862  1B6F  00          	DEFB 0x00
4863  1B70              ___str_53:
4864  1B70  30          	DEFM "0"
4865  1B71  00          	DEFB 0x00
4866  1B72              ___str_54:
4867  1B72  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4868  1B7E  00          	DEFB 0x00
4869  1B7F              ;	---------------------------------
4870  1B7F              ; Function game_rotate_attrib
4871  1B7F              ; ---------------------------------
4872  1B7F              _game_rotate_attrib:
4873  1B7F  01 03 00    	ld	bc,_attrib_hl + 3
4874  1B82  0A          	ld	a,(bc)
4875  1B83  32 00 00    	ld	(_tmp_uc),a
4876  1B86  11 02 00    	ld	de,_attrib_hl + 2
4877  1B89  1A          	ld	a,(de)
4878  1B8A  02          	ld	(bc),a
4879  1B8B  01 01 00    	ld	bc,_attrib_hl + 1
4880  1B8E  0A          	ld	a,(bc)
4881  1B8F  12          	ld	(de),a
4882  1B90  3A 00 00    	ld	a,(_attrib_hl)
4883  1B93  02          	ld	(bc),a
4884  1B94  3A 00 00    	ld	a,(_tmp_uc)
4885  1B97  32 00 00    	ld	(_attrib_hl),a
4886  1B9A  C9          	ret
4887  1B9B              ;	---------------------------------
4888  1B9B              ; Function game_colour_message
4889  1B9B              ; ---------------------------------
4890  1B9B              _game_colour_message:
4891  1B9B  CD 00 00    	call	___sdcc_enter_ix
4892  1B9E  3B          	dec	sp
4893  1B9F  21 00 00    	ld	hl,_tmp
4894  1BA2  36 01       	ld	(hl),0x01
4895  1BA4  2A 00 00    	ld	hl,(_curr_time)
4896  1BA7  22 00 00    	ld	(_frame_time),hl
4897  1BAA  2A 00 00    	ld	hl,(_curr_time)
4898  1BAD  22 00 00    	ld	(_entry_time),hl
4899  1BB0  DD 7E 04    	ld	a,(ix+4)
4900  1BB3  07          	rlca
4901  1BB4  07          	rlca
4902  1BB5  07          	rlca
4903  1BB6  E6 F8       	and	a,0xf8
4904  1BB8  C6 08       	add	a,0x08
4905  1BBA  DD 77 FF    	ld	(ix-1),a
4906  1BBD              l_game_colour_message_00107:
4907  1BBD  3A 00 00    	ld	a,(_tmp)
4908  1BC0  B7          	or	a, a
4909  1BC1  28 66       	jr	Z,l_game_colour_message_00110
4910  1BC3  DD 6E 07    	ld	l,(ix+7)
4911  1BC6  DD 66 08    	ld	h,(ix+8)
4912  1BC9  E5          	push	hl
4913  1BCA  2A 00 00    	ld	hl,(_entry_time)
4914  1BCD  E5          	push	hl
4915  1BCE  CD 2D 1C    	call	_game_check_time
4916  1BD1  F1          	pop	af
4917  1BD2  F1          	pop	af
4918  1BD3  7D          	ld	a,l
4919  1BD4  B7          	or	a, a
4920  1BD5  20 52       	jr	NZ,l_game_colour_message_00110
4921  1BD7  21 05 00    	ld	hl,0x0005
4922  1BDA  E5          	push	hl
4923  1BDB  2A 00 00    	ld	hl,(_frame_time)
4924  1BDE  E5          	push	hl
4925  1BDF  CD 2D 1C    	call	_game_check_time
4926  1BE2  F1          	pop	af
4927  1BE3  F1          	pop	af
4928  1BE4  7D          	ld	a,l
4929  1BE5  B7          	or	a, a
4930  1BE6  28 1A       	jr	Z,l_game_colour_message_00103
4931  1BE8  2A 00 00    	ld	hl,(_curr_time)
4932  1BEB  22 00 00    	ld	(_frame_time),hl
4933  1BEE  DD 66 FF    	ld	h,(ix-1)
4934  1BF1  DD 6E 06    	ld	l,(ix+6)
4935  1BF4  E5          	push	hl
4936  1BF5  DD 7E 05    	ld	a,(ix+5)
4937  1BF8  F5          	push	af
4938  1BF9  33          	inc	sp
4939  1BFA  CD A1 0D    	call	_game_paint_attrib_lin_h
4940  1BFD  F1          	pop	af
4941  1BFE  33          	inc	sp
4942  1BFF  CD 7F 1B    	call	_game_rotate_attrib
4943  1C02              l_game_colour_message_00103:
4944  1C02  21 00 00    	ld	hl,_k1
4945  1C05  E5          	push	hl
4946  1C06  2A 00 00    	ld	hl,(_joyfunc1)
4947  1C09  CD 00 00    	call	___sdcc_call_hl
4948  1C0C  E3          	ex	(sp),hl
4949  1C0D  21 00 00    	ld	hl,_k2
4950  1C10  E5          	push	hl
4951  1C11  2A 00 00    	ld	hl,(_joyfunc2)
4952  1C14  CD 00 00    	call	___sdcc_call_hl
4953  1C17  F1          	pop	af
4954  1C18  EB          	ex	de,hl
4955  1C19  C1          	pop	bc
4956  1C1A  79          	ld	a,c
4957  1C1B  B3          	or	a, e
4958  1C1C  4F          	ld	c,a
4959  1C1D  78          	ld	a,b
4960  1C1E  B2          	or	a, d
4961  1C1F  B1          	or	a,c
4962  1C20  28 9B       	jr	Z,l_game_colour_message_00107
4963  1C22  21 00 00    	ld	hl,_tmp
4964  1C25  36 00       	ld	(hl),0x00
4965  1C27  18 D9       	jr	l_game_colour_message_00103
4966  1C29              l_game_colour_message_00110:
4967  1C29  33          	inc	sp
4968  1C2A  DD E1       	pop	ix
4969  1C2C  C9          	ret
4970  1C2D              ;	---------------------------------
4971  1C2D              ; Function game_check_time
4972  1C2D              ; ---------------------------------
4973  1C2D              _game_check_time:
4974  1C2D  CD 00 00    	call	___sdcc_enter_ix
4975  1C30  2A 00 00    	ld	hl,(_curr_time)
4976  1C33  7D          	ld	a,l
4977  1C34  DD 96 04    	sub	a,(ix+4)
4978  1C37  4F          	ld	c,a
4979  1C38  7C          	ld	a,h
4980  1C39  DD 9E 05    	sbc	a,(ix+5)
4981  1C3C  47          	ld	b,a
4982  1C3D  DD 7E 06    	ld	a,(ix+6)
4983  1C40  91          	sub	a, c
4984  1C41  DD 7E 07    	ld	a,(ix+7)
4985  1C44  98          	sbc	a, b
4986  1C45  30 04       	jr	NC,l_game_check_time_00102
4987  1C47  2E 01       	ld	l,0x01
4988  1C49  18 02       	jr	l_game_check_time_00104
4989  1C4B              l_game_check_time_00102:
4990  1C4B  2E 00       	ld	l,0x00
4991  1C4D              l_game_check_time_00104:
4992  1C4D  DD E1       	pop	ix
4993  1C4F  C9          	ret
4994  1C50              	SECTION IGNORE
4995  0000              
