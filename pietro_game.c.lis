1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _compare_scores
181   0000              	GLOBAL _game_calc_index
182   0000              	GLOBAL _game_print_footer
183   0000              	GLOBAL _game_phase_print_score_back
184   0000              	GLOBAL _game_print_lives
185   0000              	GLOBAL _game_tick
186   0000              	GLOBAL _game_start_timer
187   0000              	GLOBAL _game_phase_calc
188   0000              	GLOBAL _game_phase_init
189   0000              	GLOBAL _game_print_header
190   0000              	GLOBAL _game_phase_print
191   0000              	GLOBAL _game_loop
192   0000              	GLOBAL _game_score_osd
193   0000              	GLOBAL _game_bonus_clock
194   0000              	GLOBAL _game_bonus_summary
195   0000              	GLOBAL _game_bonus_summary_player
196   0000              	GLOBAL _game_kill_all_sprites
197   0000              	GLOBAL _game_check_maze
198   0000              	GLOBAL _game_enemy_add
199   0000              	GLOBAL _game_enemy_quota
200   0000              	GLOBAL _game_enemy_rnd
201   0000              	GLOBAL _game_enemy_add1
202   0000              	GLOBAL _game_enemy_add_get_index
203   0000              	GLOBAL _game_freeze
204   0000              	GLOBAL _game_unfreeze_all
205   0000              	GLOBAL _game_freeze_all
206   0000              	GLOBAL _game_print_score
207   0000              	GLOBAL _game_paint_attrib
208   0000              	GLOBAL _game_paint_attrib_lin
209   0000              	GLOBAL _game_paint_attrib_lin_h
210   0000              	GLOBAL _game_menu_config
211   0000              	GLOBAL _game_joystick_change
212   0000              	GLOBAL _game_joystick_set_menu
213   0000              	GLOBAL _game_joystick_set
214   0000              	GLOBAL _game_menu
215   0000              	GLOBAL _game_menu_top_paint
216   0000              	GLOBAL _game_menu_paint
217   0000              	GLOBAL _game_menu_e
218   0000              	GLOBAL _game_menu_handle
219   0000              	GLOBAL _game_end
220   0000              	GLOBAL _game_hall_check
221   0000              	GLOBAL _game_hall_enter
222   0000              	GLOBAL _game_menu_back
223   0000              	GLOBAL _game_hall_enter_phs
224   0000              	GLOBAL _game_hall_print_p
225   0000              	GLOBAL _game_hall_edit_p
226   0000              	GLOBAL _game_hall_of_fame
227   0000              	GLOBAL _game_rotate_attrib
228   0000              	GLOBAL _game_colour_message
229   0000              	GLOBAL _game_check_time
230   0000              ;--------------------------------------------------------
231   0000              ; Externals used
232   0000              ;--------------------------------------------------------
233   0000              	GLOBAL _debug3
234   0000              	GLOBAL _debug2
235   0000              	GLOBAL _debug
236   0000              	GLOBAL _zx_print_str
237   0000              	GLOBAL _zx_print_int
238   0000              	GLOBAL _zx_print_chr
239   0000              	GLOBAL _zx_print_bonus_time
240   0000              	GLOBAL _zx_isr
241   0000              	GLOBAL _spr_draw_clear
242   0000              	GLOBAL _spr_water_splash_draw
243   0000              	GLOBAL _spr_water_splash_clear
244   0000              	GLOBAL _spr_draw_back
245   0000              	GLOBAL _spr_cortina_pipes
246   0000              	GLOBAL _spr_cortina_brick
247   0000              	GLOBAL _spr_brick_anim
248   0000              	GLOBAL _spr_back_fix4
249   0000              	GLOBAL _spr_back_fix3
250   0000              	GLOBAL _spr_back_fix2
251   0000              	GLOBAL _spr_back_fix1
252   0000              	GLOBAL _spr_back_fix
253   0000              	GLOBAL _spr_back_clr
254   0000              	GLOBAL _spr_draw_pow
255   0000              	GLOBAL _spr_tile
256   0000              	GLOBAL _spr_set_fall
257   0000              	GLOBAL _spr_destroy
258   0000              	GLOBAL _spr_check_over
259   0000              	GLOBAL _spr_tile_dir
260   0000              	GLOBAL _spr_anim_kill
261   0000              	GLOBAL _spr_anim_fall
262   0000              	GLOBAL _spr_killed
263   0000              	GLOBAL _spr_redraw
264   0000              	GLOBAL _spr_move_left
265   0000              	GLOBAL _spr_move_right
266   0000              	GLOBAL _spr_move_horizontal
267   0000              	GLOBAL _spr_move_down
268   0000              	GLOBAL _spr_move_up
269   0000              	GLOBAL _spr_chktime
270   0000              	GLOBAL _sound_hit_pow
271   0000              	GLOBAL _sound_hit_brick
272   0000              	GLOBAL _sound_hit_enemy
273   0000              	GLOBAL _sound_kill
274   0000              	GLOBAL _sound_enter_enemy
275   0000              	GLOBAL _sound_coin
276   0000              	GLOBAL _sound_jump
277   0000              	GLOBAL _sound_slide
278   0000              	GLOBAL _player_move_horizontal
279   0000              	GLOBAL _player_push_check
280   0000              	GLOBAL _player_push
281   0000              	GLOBAL _player_hit_brick_clear
282   0000              	GLOBAL _player_lost_life
283   0000              	GLOBAL _player_score_add
284   0000              	GLOBAL _player_coin
285   0000              	GLOBAL _player_hit_pow
286   0000              	GLOBAL _player_hit_brick
287   0000              	GLOBAL _player_move_input
288   0000              	GLOBAL _player_turn
289   0000              	GLOBAL _player_move
290   0000              	GLOBAL _player_restart
291   0000              	GLOBAL _player_kill
292   0000              	GLOBAL _player_check_input
293   0000              	GLOBAL _player_collition_check
294   0000              	GLOBAL _player_collition
295   0000              	GLOBAL _player_calc_slide
296   0000              	GLOBAL _player_init
297   0000              	GLOBAL _player_set2
298   0000              	GLOBAL _player_set1
299   0000              	GLOBAL _game_fill_row
300   0000              	GLOBAL _enemy_kill
301   0000              	GLOBAL _enemy_init
302   0000              	GLOBAL _enemy_walk
303   0000              	GLOBAL _enemy_upgrade
304   0000              	GLOBAL _enemy_evolve
305   0000              	GLOBAL _enemy_standard_hit
306   0000              	GLOBAL _enemy_trip
307   0000              	GLOBAL _enemy_fighterfly
308   0000              	GLOBAL _enemy_fireball_green
309   0000              	GLOBAL _enemy_fireball_red
310   0000              	GLOBAL _enemy_slipice
311   0000              	GLOBAL _enemy_standard
312   0000              	GLOBAL _enemy_turn
313   0000              	GLOBAL _enemy_flip_sidestepper
314   0000              	GLOBAL _enemy_flip
315   0000              	GLOBAL _enemy_flip_change_dir
316   0000              	GLOBAL _enemy_hit
317   0000              	GLOBAL _enemy_collition_check
318   0000              	GLOBAL _enemy_collition
319   0000              	GLOBAL _enemy_coin1
320   0000              	GLOBAL _ay_fx_play
321   0000              	GLOBAL _ay_midi_play
322   0000              	GLOBAL _ay_is_playing
323   0000              	GLOBAL _ay_reset
324   0000              	GLOBAL _in_mouse_kempston_wheel_delta
325   0000              	GLOBAL _in_mouse_kempston_wheel
326   0000              	GLOBAL _in_mouse_kempston_callee
327   0000              	GLOBAL _in_mouse_kempston
328   0000              	GLOBAL _in_mouse_kempston_setpos_callee
329   0000              	GLOBAL _in_mouse_kempston_setpos
330   0000              	GLOBAL _in_mouse_kempston_reset
331   0000              	GLOBAL _in_mouse_kempston_init
332   0000              	GLOBAL _in_mouse_amx_wheel_delta
333   0000              	GLOBAL _in_mouse_amx_wheel
334   0000              	GLOBAL _in_mouse_amx_callee
335   0000              	GLOBAL _in_mouse_amx
336   0000              	GLOBAL _in_mouse_amx_setpos_callee
337   0000              	GLOBAL _in_mouse_amx_setpos
338   0000              	GLOBAL _in_mouse_amx_reset
339   0000              	GLOBAL _in_mouse_amx_init_callee
340   0000              	GLOBAL _in_mouse_amx_init
341   0000              	GLOBAL _in_stick_sinclair2
342   0000              	GLOBAL _in_stick_sinclair1
343   0000              	GLOBAL _in_stick_kempston
344   0000              	GLOBAL _in_stick_fuller
345   0000              	GLOBAL _in_stick_cursor
346   0000              	GLOBAL _in_stick_keyboard_fastcall
347   0000              	GLOBAL _in_stick_keyboard
348   0000              	GLOBAL _in_wait_nokey
349   0000              	GLOBAL _in_wait_key
350   0000              	GLOBAL _in_test_key
351   0000              	GLOBAL _in_pause_fastcall
352   0000              	GLOBAL _in_pause
353   0000              	GLOBAL _in_key_scancode_fastcall
354   0000              	GLOBAL _in_key_scancode
355   0000              	GLOBAL _in_key_pressed_fastcall
356   0000              	GLOBAL _in_key_pressed
357   0000              	GLOBAL _in_inkey
358   0000              	GLOBAL _NIRVANAP_chars_fastcall
359   0000              	GLOBAL _NIRVANAP_chars
360   0000              	GLOBAL _NIRVANAP_wides_fastcall
361   0000              	GLOBAL _NIRVANAP_wides
362   0000              	GLOBAL _NIRVANAP_tiles_fastcall
363   0000              	GLOBAL _NIRVANAP_tiles
364   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawW_raw
366   0000              	GLOBAL _NIRVANAP_drawW_callee
367   0000              	GLOBAL _NIRVANAP_drawW
368   0000              	GLOBAL _NIRVANAP_spriteT_callee
369   0000              	GLOBAL _NIRVANAP_spriteT
370   0000              	GLOBAL _NIRVANAP_fillC_callee
371   0000              	GLOBAL _NIRVANAP_fillC
372   0000              	GLOBAL _NIRVANAP_paintC_callee
373   0000              	GLOBAL _NIRVANAP_paintC
374   0000              	GLOBAL _NIRVANAP_printC_callee
375   0000              	GLOBAL _NIRVANAP_printC
376   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
377   0000              	GLOBAL _NIRVANAP_fillT_raw
378   0000              	GLOBAL _NIRVANAP_fillT_callee
379   0000              	GLOBAL _NIRVANAP_fillT
380   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
381   0000              	GLOBAL _NIRVANAP_drawT_raw
382   0000              	GLOBAL _NIRVANAP_drawT_callee
383   0000              	GLOBAL _NIRVANAP_drawT
384   0000              	GLOBAL _NIRVANAP_stop
385   0000              	GLOBAL _NIRVANAP_start
386   0000              	GLOBAL _z80_otdr_callee
387   0000              	GLOBAL _z80_otdr
388   0000              	GLOBAL _z80_otir_callee
389   0000              	GLOBAL _z80_otir
390   0000              	GLOBAL _z80_outp_callee
391   0000              	GLOBAL _z80_outp
392   0000              	GLOBAL _z80_indr_callee
393   0000              	GLOBAL _z80_indr
394   0000              	GLOBAL _z80_inir_callee
395   0000              	GLOBAL _z80_inir
396   0000              	GLOBAL _z80_inp_fastcall
397   0000              	GLOBAL _z80_inp
398   0000              	GLOBAL _z80_set_int_state_fastcall
399   0000              	GLOBAL _z80_set_int_state
400   0000              	GLOBAL _z80_get_int_state
401   0000              	GLOBAL _z80_delay_tstate_fastcall
402   0000              	GLOBAL _z80_delay_tstate
403   0000              	GLOBAL _z80_delay_ms_fastcall
404   0000              	GLOBAL _z80_delay_ms
405   0000              	GLOBAL _im2_remove_generic_callback_callee
406   0000              	GLOBAL _im2_remove_generic_callback
407   0000              	GLOBAL _im2_prepend_generic_callback_callee
408   0000              	GLOBAL _im2_prepend_generic_callback
409   0000              	GLOBAL _im2_append_generic_callback_callee
410   0000              	GLOBAL _im2_append_generic_callback
411   0000              	GLOBAL _im2_create_generic_isr_8080_callee
412   0000              	GLOBAL _im2_create_generic_isr_8080
413   0000              	GLOBAL _im2_create_generic_isr_callee
414   0000              	GLOBAL _im2_create_generic_isr
415   0000              	GLOBAL _im2_install_isr_callee
416   0000              	GLOBAL _im2_install_isr
417   0000              	GLOBAL _im2_init_fastcall
418   0000              	GLOBAL _im2_init
419   0000              	GLOBAL _ffsll_callee
420   0000              	GLOBAL _ffsll
421   0000              	GLOBAL _strxfrm_callee
422   0000              	GLOBAL _strxfrm
423   0000              	GLOBAL _strupr_fastcall
424   0000              	GLOBAL _strupr
425   0000              	GLOBAL _strtok_r_callee
426   0000              	GLOBAL _strtok_r
427   0000              	GLOBAL _strtok_callee
428   0000              	GLOBAL _strtok
429   0000              	GLOBAL _strstrip_fastcall
430   0000              	GLOBAL _strstrip
431   0000              	GLOBAL _strstr_callee
432   0000              	GLOBAL _strstr
433   0000              	GLOBAL _strspn_callee
434   0000              	GLOBAL _strspn
435   0000              	GLOBAL _strsep_callee
436   0000              	GLOBAL _strsep
437   0000              	GLOBAL _strrstrip_fastcall
438   0000              	GLOBAL _strrstrip
439   0000              	GLOBAL _strrspn_callee
440   0000              	GLOBAL _strrspn
441   0000              	GLOBAL _strrev_fastcall
442   0000              	GLOBAL _strrev
443   0000              	GLOBAL _strrcspn_callee
444   0000              	GLOBAL _strrcspn
445   0000              	GLOBAL _strrchr_callee
446   0000              	GLOBAL _strrchr
447   0000              	GLOBAL _strpbrk_callee
448   0000              	GLOBAL _strpbrk
449   0000              	GLOBAL _strnlen_callee
450   0000              	GLOBAL _strnlen
451   0000              	GLOBAL _strnicmp_callee
452   0000              	GLOBAL _strnicmp
453   0000              	GLOBAL _strndup_callee
454   0000              	GLOBAL _strndup
455   0000              	GLOBAL _strncpy_callee
456   0000              	GLOBAL _strncpy
457   0000              	GLOBAL _strncmp_callee
458   0000              	GLOBAL _strncmp
459   0000              	GLOBAL _strnchr_callee
460   0000              	GLOBAL _strnchr
461   0000              	GLOBAL _strncat_callee
462   0000              	GLOBAL _strncat
463   0000              	GLOBAL _strncasecmp_callee
464   0000              	GLOBAL _strncasecmp
465   0000              	GLOBAL _strlwr_fastcall
466   0000              	GLOBAL _strlwr
467   0000              	GLOBAL _strlen_fastcall
468   0000              	GLOBAL _strlen
469   0000              	GLOBAL _strlcpy_callee
470   0000              	GLOBAL _strlcpy
471   0000              	GLOBAL _strlcat_callee
472   0000              	GLOBAL _strlcat
473   0000              	GLOBAL _stricmp_callee
474   0000              	GLOBAL _stricmp
475   0000              	GLOBAL _strerror_fastcall
476   0000              	GLOBAL _strerror
477   0000              	GLOBAL _strdup_fastcall
478   0000              	GLOBAL _strdup
479   0000              	GLOBAL _strcspn_callee
480   0000              	GLOBAL _strcspn
481   0000              	GLOBAL _strcpy_callee
482   0000              	GLOBAL _strcpy
483   0000              	GLOBAL _strcoll_callee
484   0000              	GLOBAL _strcoll
485   0000              	GLOBAL _strcmp_callee
486   0000              	GLOBAL _strcmp
487   0000              	GLOBAL _strchrnul_callee
488   0000              	GLOBAL _strchrnul
489   0000              	GLOBAL _strchr_callee
490   0000              	GLOBAL _strchr
491   0000              	GLOBAL _strcat_callee
492   0000              	GLOBAL _strcat
493   0000              	GLOBAL _strcasecmp_callee
494   0000              	GLOBAL _strcasecmp
495   0000              	GLOBAL _stpncpy_callee
496   0000              	GLOBAL _stpncpy
497   0000              	GLOBAL _stpcpy_callee
498   0000              	GLOBAL _stpcpy
499   0000              	GLOBAL _memswap_callee
500   0000              	GLOBAL _memswap
501   0000              	GLOBAL _memset_callee
502   0000              	GLOBAL _memset
503   0000              	GLOBAL _memrchr_callee
504   0000              	GLOBAL _memrchr
505   0000              	GLOBAL _memmove_callee
506   0000              	GLOBAL _memmove
507   0000              	GLOBAL _memmem_callee
508   0000              	GLOBAL _memmem
509   0000              	GLOBAL _memcpy_callee
510   0000              	GLOBAL _memcpy
511   0000              	GLOBAL _memcmp_callee
512   0000              	GLOBAL _memcmp
513   0000              	GLOBAL _memchr_callee
514   0000              	GLOBAL _memchr
515   0000              	GLOBAL _memccpy_callee
516   0000              	GLOBAL _memccpy
517   0000              	GLOBAL _ffsl_fastcall
518   0000              	GLOBAL _ffsl
519   0000              	GLOBAL _ffs_fastcall
520   0000              	GLOBAL _ffs
521   0000              	GLOBAL __strrstrip__fastcall
522   0000              	GLOBAL __strrstrip_
523   0000              	GLOBAL __memupr__callee
524   0000              	GLOBAL __memupr_
525   0000              	GLOBAL __memstrcpy__callee
526   0000              	GLOBAL __memstrcpy_
527   0000              	GLOBAL __memlwr__callee
528   0000              	GLOBAL __memlwr_
529   0000              	GLOBAL _rawmemchr_callee
530   0000              	GLOBAL _rawmemchr
531   0000              	GLOBAL _strnset_callee
532   0000              	GLOBAL _strnset
533   0000              	GLOBAL _strset_callee
534   0000              	GLOBAL _strset
535   0000              	GLOBAL _rindex_callee
536   0000              	GLOBAL _rindex
537   0000              	GLOBAL _index_callee
538   0000              	GLOBAL _index
539   0000              	GLOBAL _bzero_callee
540   0000              	GLOBAL _bzero
541   0000              	GLOBAL _bcopy_callee
542   0000              	GLOBAL _bcopy
543   0000              	GLOBAL _bcmp_callee
544   0000              	GLOBAL _bcmp
545   0000              	GLOBAL _ulltoa_callee
546   0000              	GLOBAL _ulltoa
547   0000              	GLOBAL _strtoull_callee
548   0000              	GLOBAL _strtoull
549   0000              	GLOBAL _strtoll_callee
550   0000              	GLOBAL _strtoll
551   0000              	GLOBAL _lltoa_callee
552   0000              	GLOBAL _lltoa
553   0000              	GLOBAL _llabs_callee
554   0000              	GLOBAL _llabs
555   0000              	GLOBAL __lldivu__callee
556   0000              	GLOBAL __lldivu_
557   0000              	GLOBAL __lldiv__callee
558   0000              	GLOBAL __lldiv_
559   0000              	GLOBAL _atoll_callee
560   0000              	GLOBAL _atoll
561   0000              	GLOBAL _realloc_unlocked_callee
562   0000              	GLOBAL _realloc_unlocked
563   0000              	GLOBAL _malloc_unlocked_fastcall
564   0000              	GLOBAL _malloc_unlocked
565   0000              	GLOBAL _free_unlocked_fastcall
566   0000              	GLOBAL _free_unlocked
567   0000              	GLOBAL _calloc_unlocked_callee
568   0000              	GLOBAL _calloc_unlocked
569   0000              	GLOBAL _aligned_alloc_unlocked_callee
570   0000              	GLOBAL _aligned_alloc_unlocked
571   0000              	GLOBAL _realloc_callee
572   0000              	GLOBAL _realloc
573   0000              	GLOBAL _malloc_fastcall
574   0000              	GLOBAL _malloc
575   0000              	GLOBAL _free_fastcall
576   0000              	GLOBAL _free
577   0000              	GLOBAL _calloc_callee
578   0000              	GLOBAL _calloc
579   0000              	GLOBAL _aligned_alloc_callee
580   0000              	GLOBAL _aligned_alloc
581   0000              	GLOBAL _utoa_callee
582   0000              	GLOBAL _utoa
583   0000              	GLOBAL _ultoa_callee
584   0000              	GLOBAL _ultoa
585   0000              	GLOBAL _system_fastcall
586   0000              	GLOBAL _system
587   0000              	GLOBAL _strtoul_callee
588   0000              	GLOBAL _strtoul
589   0000              	GLOBAL _strtol_callee
590   0000              	GLOBAL _strtol
591   0000              	GLOBAL _strtof_callee
592   0000              	GLOBAL _strtof
593   0000              	GLOBAL _strtod_callee
594   0000              	GLOBAL _strtod
595   0000              	GLOBAL _srand_fastcall
596   0000              	GLOBAL _srand
597   0000              	GLOBAL _rand
598   0000              	GLOBAL _quick_exit_fastcall
599   0000              	GLOBAL _quick_exit
600   0000              	GLOBAL _qsort_callee
601   0000              	GLOBAL _qsort
602   0000              	GLOBAL _ltoa_callee
603   0000              	GLOBAL _ltoa
604   0000              	GLOBAL _labs_fastcall
605   0000              	GLOBAL _labs
606   0000              	GLOBAL _itoa_callee
607   0000              	GLOBAL _itoa
608   0000              	GLOBAL _ftoh_callee
609   0000              	GLOBAL _ftoh
610   0000              	GLOBAL _ftog_callee
611   0000              	GLOBAL _ftog
612   0000              	GLOBAL _ftoe_callee
613   0000              	GLOBAL _ftoe
614   0000              	GLOBAL _ftoa_callee
615   0000              	GLOBAL _ftoa
616   0000              	GLOBAL _exit_fastcall
617   0000              	GLOBAL _exit
618   0000              	GLOBAL _dtoh_callee
619   0000              	GLOBAL _dtoh
620   0000              	GLOBAL _dtog_callee
621   0000              	GLOBAL _dtog
622   0000              	GLOBAL _dtoe_callee
623   0000              	GLOBAL _dtoe
624   0000              	GLOBAL _dtoa_callee
625   0000              	GLOBAL _dtoa
626   0000              	GLOBAL _bsearch_callee
627   0000              	GLOBAL _bsearch
628   0000              	GLOBAL _atol_fastcall
629   0000              	GLOBAL _atol
630   0000              	GLOBAL _atoi_fastcall
631   0000              	GLOBAL _atoi
632   0000              	GLOBAL _atof_fastcall
633   0000              	GLOBAL _atof
634   0000              	GLOBAL _atexit_fastcall
635   0000              	GLOBAL _atexit
636   0000              	GLOBAL _at_quick_exit_fastcall
637   0000              	GLOBAL _at_quick_exit
638   0000              	GLOBAL _abs_fastcall
639   0000              	GLOBAL _abs
640   0000              	GLOBAL _abort
641   0000              	GLOBAL __strtou__callee
642   0000              	GLOBAL __strtou_
643   0000              	GLOBAL __strtoi__callee
644   0000              	GLOBAL __strtoi_
645   0000              	GLOBAL __random_uniform_xor_8__fastcall
646   0000              	GLOBAL __random_uniform_xor_8_
647   0000              	GLOBAL __random_uniform_xor_32__fastcall
648   0000              	GLOBAL __random_uniform_xor_32_
649   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
650   0000              	GLOBAL __random_uniform_cmwc_8_
651   0000              	GLOBAL __shellsort__callee
652   0000              	GLOBAL __shellsort_
653   0000              	GLOBAL __quicksort__callee
654   0000              	GLOBAL __quicksort_
655   0000              	GLOBAL __insertion_sort__callee
656   0000              	GLOBAL __insertion_sort_
657   0000              	GLOBAL __ldivu__callee
658   0000              	GLOBAL __ldivu_
659   0000              	GLOBAL __ldiv__callee
660   0000              	GLOBAL __ldiv_
661   0000              	GLOBAL __divu__callee
662   0000              	GLOBAL __divu_
663   0000              	GLOBAL __div__callee
664   0000              	GLOBAL __div_
665   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
666   0000              	GLOBAL _intrinsic_swap_word_32
667   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
668   0000              	GLOBAL _intrinsic_swap_endian_32
669   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
670   0000              	GLOBAL _intrinsic_swap_endian_16
671   0000              	GLOBAL _intrinsic_return_de
672   0000              	GLOBAL _intrinsic_return_bc
673   0000              	GLOBAL _intrinsic_exx
674   0000              	GLOBAL _intrinsic_ex_de_hl
675   0000              	GLOBAL _intrinsic_pop_iy
676   0000              	GLOBAL _intrinsic_pop_ix
677   0000              	GLOBAL _intrinsic_pop_hl
678   0000              	GLOBAL _intrinsic_pop_de
679   0000              	GLOBAL _intrinsic_pop_bc
680   0000              	GLOBAL _intrinsic_pop_af
681   0000              	GLOBAL _intrinsic_push_iy
682   0000              	GLOBAL _intrinsic_push_ix
683   0000              	GLOBAL _intrinsic_push_hl
684   0000              	GLOBAL _intrinsic_push_de
685   0000              	GLOBAL _intrinsic_push_bc
686   0000              	GLOBAL _intrinsic_push_af
687   0000              	GLOBAL _intrinsic_nop
688   0000              	GLOBAL _intrinsic_im_2
689   0000              	GLOBAL _intrinsic_im_1
690   0000              	GLOBAL _intrinsic_im_0
691   0000              	GLOBAL _intrinsic_retn
692   0000              	GLOBAL _intrinsic_reti
693   0000              	GLOBAL _intrinsic_halt
694   0000              	GLOBAL _intrinsic_ei
695   0000              	GLOBAL _intrinsic_di
696   0000              	GLOBAL _intrinsic_stub
697   0000              	GLOBAL _zx_pattern_fill_callee
698   0000              	GLOBAL _zx_pattern_fill
699   0000              	GLOBAL _zx_saddrpup_fastcall
700   0000              	GLOBAL _zx_saddrpup
701   0000              	GLOBAL _zx_saddrpright_callee
702   0000              	GLOBAL _zx_saddrpright
703   0000              	GLOBAL _zx_saddrpleft_callee
704   0000              	GLOBAL _zx_saddrpleft
705   0000              	GLOBAL _zx_saddrpdown_fastcall
706   0000              	GLOBAL _zx_saddrpdown
707   0000              	GLOBAL _zx_saddrcup_fastcall
708   0000              	GLOBAL _zx_saddrcup
709   0000              	GLOBAL _zx_saddrcright_fastcall
710   0000              	GLOBAL _zx_saddrcright
711   0000              	GLOBAL _zx_saddrcleft_fastcall
712   0000              	GLOBAL _zx_saddrcleft
713   0000              	GLOBAL _zx_saddrcdown_fastcall
714   0000              	GLOBAL _zx_saddrcdown
715   0000              	GLOBAL _zx_saddr2py_fastcall
716   0000              	GLOBAL _zx_saddr2py
717   0000              	GLOBAL _zx_saddr2px_fastcall
718   0000              	GLOBAL _zx_saddr2px
719   0000              	GLOBAL _zx_saddr2cy_fastcall
720   0000              	GLOBAL _zx_saddr2cy
721   0000              	GLOBAL _zx_saddr2cx_fastcall
722   0000              	GLOBAL _zx_saddr2cx
723   0000              	GLOBAL _zx_saddr2aaddr_fastcall
724   0000              	GLOBAL _zx_saddr2aaddr
725   0000              	GLOBAL _zx_py2saddr_fastcall
726   0000              	GLOBAL _zx_py2saddr
727   0000              	GLOBAL _zx_py2aaddr_fastcall
728   0000              	GLOBAL _zx_py2aaddr
729   0000              	GLOBAL _zx_pxy2saddr_callee
730   0000              	GLOBAL _zx_pxy2saddr
731   0000              	GLOBAL _zx_pxy2aaddr_callee
732   0000              	GLOBAL _zx_pxy2aaddr
733   0000              	GLOBAL _zx_px2bitmask_fastcall
734   0000              	GLOBAL _zx_px2bitmask
735   0000              	GLOBAL _zx_cyx2saddr_callee
736   0000              	GLOBAL _zx_cyx2saddr
737   0000              	GLOBAL _zx_cyx2aaddr_callee
738   0000              	GLOBAL _zx_cyx2aaddr
739   0000              	GLOBAL _zx_cy2saddr_fastcall
740   0000              	GLOBAL _zx_cy2saddr
741   0000              	GLOBAL _zx_cy2aaddr_fastcall
742   0000              	GLOBAL _zx_cy2aaddr
743   0000              	GLOBAL _zx_bitmask2px_fastcall
744   0000              	GLOBAL _zx_bitmask2px
745   0000              	GLOBAL _zx_aaddrcup_fastcall
746   0000              	GLOBAL _zx_aaddrcup
747   0000              	GLOBAL _zx_aaddrcright_fastcall
748   0000              	GLOBAL _zx_aaddrcright
749   0000              	GLOBAL _zx_aaddrcleft_fastcall
750   0000              	GLOBAL _zx_aaddrcleft
751   0000              	GLOBAL _zx_aaddrcdown_fastcall
752   0000              	GLOBAL _zx_aaddrcdown
753   0000              	GLOBAL _zx_aaddr2saddr_fastcall
754   0000              	GLOBAL _zx_aaddr2saddr
755   0000              	GLOBAL _zx_aaddr2py_fastcall
756   0000              	GLOBAL _zx_aaddr2py
757   0000              	GLOBAL _zx_aaddr2px_fastcall
758   0000              	GLOBAL _zx_aaddr2px
759   0000              	GLOBAL _zx_aaddr2cy_fastcall
760   0000              	GLOBAL _zx_aaddr2cy
761   0000              	GLOBAL _zx_aaddr2cx_fastcall
762   0000              	GLOBAL _zx_aaddr2cx
763   0000              	GLOBAL _zx_scroll_wc_up_callee
764   0000              	GLOBAL _zx_scroll_wc_up
765   0000              	GLOBAL _zx_scroll_up_callee
766   0000              	GLOBAL _zx_scroll_up
767   0000              	GLOBAL _zx_cls_wc_callee
768   0000              	GLOBAL _zx_cls_wc
769   0000              	GLOBAL _zx_cls_fastcall
770   0000              	GLOBAL _zx_cls
771   0000              	GLOBAL _zx_border_fastcall
772   0000              	GLOBAL _zx_border
773   0000              	GLOBAL _ay_effect_20
774   0000              	GLOBAL _ay_effect_19
775   0000              	GLOBAL _ay_effect_18
776   0000              	GLOBAL _ay_effect_17
777   0000              	GLOBAL _ay_effect_16
778   0000              	GLOBAL _ay_effect_15
779   0000              	GLOBAL _ay_effect_14
780   0000              	GLOBAL _ay_effect_13
781   0000              	GLOBAL _ay_effect_12
782   0000              	GLOBAL _ay_effect_11
783   0000              	GLOBAL _ay_effect_10
784   0000              	GLOBAL _ay_effect_09
785   0000              	GLOBAL _ay_effect_08
786   0000              	GLOBAL _ay_effect_07
787   0000              	GLOBAL _ay_effect_06
788   0000              	GLOBAL _ay_effect_05
789   0000              	GLOBAL _ay_effect_04
790   0000              	GLOBAL _ay_effect_03
791   0000              	GLOBAL _ay_effect_02
792   0000              	GLOBAL _ay_effect_01
793   0000              	GLOBAL _pb_midi_phase_1
794   0000              	GLOBAL _pb_midi_title
795   0000              	GLOBAL _joynames
796   0000              	GLOBAL _initials
797   0000              	GLOBAL _hof
798   0000              	GLOBAL _score_osd_tile
799   0000              	GLOBAL _score_osd_time
800   0000              	GLOBAL _score_osd_col
801   0000              	GLOBAL _score_osd_lin
802   0000              	GLOBAL _phase_bonus_total
803   0000              	GLOBAL _phase_angry
804   0000              	GLOBAL _phase_curr
805   0000              	GLOBAL _phase_end
806   0000              	GLOBAL _phase_coins
807   0000              	GLOBAL _phase_pop
808   0000              	GLOBAL _phase_tot
809   0000              	GLOBAL _phase_left
810   0000              	GLOBAL _phase_quota
811   0000              	GLOBAL _phases
812   0000              	GLOBAL _spr_idx
813   0000              	GLOBAL _lvl_1
814   0000              	GLOBAL _sprite_speed_alt
815   0000              	GLOBAL _sprite_speed
816   0000              	GLOBAL _screen_ink
817   0000              	GLOBAL _screen_paper
818   0000              	GLOBAL _game_menu_sel
819   0000              	GLOBAL _game_type
820   0000              	GLOBAL _game_bonus
821   0000              	GLOBAL _spr_water_time
822   0000              	GLOBAL _spr_water_clear
823   0000              	GLOBAL _game_time_fireball_start
824   0000              	GLOBAL _game_time_flipped
825   0000              	GLOBAL _game_score_top
826   0000              	GLOBAL _game_lives_update
827   0000              	GLOBAL _game_lives
828   0000              	GLOBAL _game_over
829   0000              	GLOBAL _game_sound
830   0000              	GLOBAL _game_two_player
831   0000              	GLOBAL _game_brick_tile
832   0000              	GLOBAL _game_pow
833   0000              	GLOBAL _spr_count
834   0000              	GLOBAL _frame_loop_count
835   0000              	GLOBAL _col_time
836   0000              	GLOBAL _frame_time
837   0000              	GLOBAL _entry_time
838   0000              	GLOBAL _curr_time
839   0000              	GLOBAL _s_state
840   0000              	GLOBAL _attrib_hl
841   0000              	GLOBAL _attrib
842   0000              	GLOBAL _zx_val_asm
843   0000              	GLOBAL _enemies
844   0000              	GLOBAL _tmp_ui
845   0000              	GLOBAL _tmp_sc
846   0000              	GLOBAL _tmp_uc
847   0000              	GLOBAL _tmp1
848   0000              	GLOBAL _tmp0
849   0000              	GLOBAL _tmp
850   0000              	GLOBAL _index_d
851   0000              	GLOBAL _index3
852   0000              	GLOBAL _index2
853   0000              	GLOBAL _index1
854   0000              	GLOBAL _loop_count
855   0000              	GLOBAL _sprite_lin_inc_mul
856   0000              	GLOBAL _s_col1
857   0000              	GLOBAL _s_col0
858   0000              	GLOBAL _s_lin1
859   0000              	GLOBAL _s_lin0
860   0000              	GLOBAL _s_tile1
861   0000              	GLOBAL _s_tile0
862   0000              	GLOBAL _hit_count
863   0000              	GLOBAL _tile_offset_other_player
864   0000              	GLOBAL _tile_offset
865   0000              	GLOBAL _index_player
866   0000              	GLOBAL _sprite_other_player
867   0000              	GLOBAL _sprite
868   0000              	GLOBAL _player_joy
869   0000              	GLOBAL _player_next_extra
870   0000              	GLOBAL _player_score
871   0000              	GLOBAL _last_time
872   0000              	GLOBAL _sliding
873   0000              	GLOBAL _spr_timer_c
874   0000              	GLOBAL _spr_timer
875   0000              	GLOBAL _jump_lin
876   0000              	GLOBAL _player_jump_c
877   0000              	GLOBAL _hit_col
878   0000              	GLOBAL _hit_lin
879   0000              	GLOBAL _colint
880   0000              	GLOBAL _col
881   0000              	GLOBAL _lin
882   0000              	GLOBAL _tile
883   0000              	GLOBAL _state_a
884   0000              	GLOBAL _state
885   0000              	GLOBAL _class
886   0000              	GLOBAL _tbuffer
887   0000              	GLOBAL _dirs
888   0000              	GLOBAL _k2
889   0000              	GLOBAL _k1
890   0000              	GLOBAL _joyfunc2
891   0000              	GLOBAL _joyfunc1
892   0000              	GLOBAL _btiles
893   0000              	GLOBAL _spec128
894   0000              	GLOBAL _control_method
895   0000              	GLOBAL _hall_valids
896   0000              ;--------------------------------------------------------
897   0000              ; special function registers
898   0000              ;--------------------------------------------------------
899   0000              ;--------------------------------------------------------
900   0000              ; ram data
901   0000              ;--------------------------------------------------------
902   0000              	SECTION bss_compiler
903   0000              defc _NIRVANAP_isr	=	0xf5d2
904   0000              ;--------------------------------------------------------
905   0000              ; ram data
906   0000              ;--------------------------------------------------------
907   0000              
908   0000              IF 0
909   0000              
910   0000              ; .area _INITIALIZED removed by z88dk
911   0000              
912   0000              
913   0000              ENDIF
914   0000              
915   0000              ;--------------------------------------------------------
916   0000              ; absolute external ram data
917   0000              ;--------------------------------------------------------
918   0000              	SECTION IGNORE
919   0000              ;--------------------------------------------------------
920   0000              ; global & static initialisations
921   0000              ;--------------------------------------------------------
922   0000              	SECTION code_crt_init
923   0000              ;--------------------------------------------------------
924   0000              ; Home
925   0000              ;--------------------------------------------------------
926   0000              	SECTION IGNORE
927   0000              ;--------------------------------------------------------
928   0000              ; code
929   0000              ;--------------------------------------------------------
930   0000              	SECTION code_compiler
931   0000              ;	---------------------------------
932   0000              ; Function game_calc_index
933   0000              ; ---------------------------------
934   0000              _game_calc_index:
935   0000  CD 00 00    	call	___sdcc_enter_ix
936   0003  DD 4E 05    	ld	c,(ix+5)
937   0006  06 00       	ld	b,0x00
938   0008  DD 7E 04    	ld	a,(ix+4)
939   000B  0F          	rrca
940   000C  0F          	rrca
941   000D  0F          	rrca
942   000E  E6 1F       	and	a,0x1f
943   0010  6F          	ld	l,a
944   0011  26 00       	ld	h,0x00
945   0013  29          	add	hl, hl
946   0014  29          	add	hl, hl
947   0015  29          	add	hl, hl
948   0016  29          	add	hl, hl
949   0017  29          	add	hl, hl
950   0018  09          	add	hl,bc
951   0019  DD E1       	pop	ix
952   001B  C9          	ret
953   001C              ;	---------------------------------
954   001C              ; Function game_print_footer
955   001C              ; ---------------------------------
956   001C              _game_print_footer:
957   001C  21 B1 00    	ld	hl,___str_0
958   001F  E5          	push	hl
959   0020  21 16 01    	ld	hl,0x0116
960   0023  E5          	push	hl
961   0024  CD 00 00    	call	_zx_print_str
962   0027  21 B1 00    	ld	hl,___str_0
963   002A  E5          	push	hl
964   002B  21 16 1E    	ld	hl,0x1e16
965   002E  E5          	push	hl
966   002F  CD 00 00    	call	_zx_print_str
967   0032  21 B3 00    	ld	hl,___str_1
968   0035  E5          	push	hl
969   0036  21 17 01    	ld	hl,0x0117
970   0039  E5          	push	hl
971   003A  CD 00 00    	call	_zx_print_str
972   003D  21 B3 00    	ld	hl,___str_1
973   0040  E5          	push	hl
974   0041  21 17 1E    	ld	hl,0x1e17
975   0044  E5          	push	hl
976   0045  CD 00 00    	call	_zx_print_str
977   0048  3A 00 00    	ld	a,(_game_lives)
978   004B  B7          	or	a, a
979   004C  28 20       	jr	Z,l_game_print_footer_00102
980   004E  21 00 00    	ld	hl,_screen_ink
981   0051  36 02       	ld	(hl),0x02
982   0053  21 B9 00    	ld	hl,___str_2
983   0056  E5          	push	hl
984   0057  21 16 01    	ld	hl,0x0116
985   005A  E5          	push	hl
986   005B  CD 00 00    	call	_zx_print_str
987   005E  21 00 00    	ld	hl,_screen_ink
988   0061  36 06       	ld	(hl),0x06
989   0063  21 BB 00    	ld	hl,___str_3
990   0066  E5          	push	hl
991   0067  21 17 01    	ld	hl,0x0117
992   006A  E5          	push	hl
993   006B  CD 00 00    	call	_zx_print_str
994   006E              l_game_print_footer_00102:
995   006E  3A 01 00    	ld	a, (_game_lives + 1)
996   0071  B7          	or	a, a
997   0072  28 20       	jr	Z,l_game_print_footer_00104
998   0074  21 00 00    	ld	hl,_screen_ink
999   0077  36 07       	ld	(hl),0x07
1000  0079  21 BD 00    	ld	hl,___str_4
1001  007C  E5          	push	hl
1002  007D  21 16 1E    	ld	hl,0x1e16
1003  0080  E5          	push	hl
1004  0081  CD 00 00    	call	_zx_print_str
1005  0084  21 00 00    	ld	hl,_screen_ink
1006  0087  36 06       	ld	(hl),0x06
1007  0089  21 BF 00    	ld	hl,___str_5
1008  008C  E5          	push	hl
1009  008D  21 17 1E    	ld	hl,0x1e17
1010  0090  E5          	push	hl
1011  0091  CD 00 00    	call	_zx_print_str
1012  0094              l_game_print_footer_00104:
1013  0094  CD 07 01    	call	_game_print_lives
1014  0097  21 C1 00    	ld	hl,___str_6
1015  009A  E5          	push	hl
1016  009B  21 17 0B    	ld	hl,0x0b17
1017  009E  E5          	push	hl
1018  009F  CD 00 00    	call	_zx_print_str
1019  00A2  21 00 00    	ld	hl,_phase_curr
1020  00A5  46          	ld	b,(hl)
1021  00A6  04          	inc	b
1022  00A7  C5          	push	bc
1023  00A8  33          	inc	sp
1024  00A9  21 17 12    	ld	hl,0x1217
1025  00AC  E5          	push	hl
1026  00AD  CD 00 00    	call	_zx_print_chr
1027  00B0  C9          	ret
1028  00B1              ___str_0:
1029  00B1  20          	DEFM " "
1030  00B2  00          	DEFB 0x00
1031  00B3              ___str_1:
1032  00B3  20 20 20 20 20 
                        	DEFM "     "
1033  00B8  00          	DEFB 0x00
1034  00B9              ___str_2:
1035  00B9  3C          	DEFM "<"
1036  00BA  00          	DEFB 0x00
1037  00BB              ___str_3:
1038  00BB  5C          	DEFB 0x5c
1039  00BC  00          	DEFB 0x00
1040  00BD              ___str_4:
1041  00BD  3E          	DEFM ">"
1042  00BE  00          	DEFB 0x00
1043  00BF              ___str_5:
1044  00BF  5E          	DEFM "^"
1045  00C0  00          	DEFB 0x00
1046  00C1              ___str_6:
1047  00C1  50 48 41 53 45 
                        	DEFM "PHASE"
1048  00C6  00          	DEFB 0x00
1049  00C7              ;	---------------------------------
1050  00C7              ; Function game_phase_print_score_back
1051  00C7              ; ---------------------------------
1052  00C7              _game_phase_print_score_back:
1053  00C7  21 00 00    	ld	hl,_screen_ink
1054  00CA  36 02       	ld	(hl),0x02
1055  00CC  21 FD 00    	ld	hl,___str_7
1056  00CF  E5          	push	hl
1057  00D0  21 00 0B    	ld	hl,0x0b00
1058  00D3  E5          	push	hl
1059  00D4  CD 00 00    	call	_zx_print_str
1060  00D7  21 00 00    	ld	hl,_screen_ink
1061  00DA  36 01       	ld	(hl),0x01
1062  00DC  21 01 01    	ld	hl,___str_8
1063  00DF  E5          	push	hl
1064  00E0  21 00 01    	ld	hl,0x0100
1065  00E3  E5          	push	hl
1066  00E4  CD 00 00    	call	_zx_print_str
1067  00E7  3A 00 00    	ld	a,(_game_two_player)
1068  00EA  B7          	or	a, a
1069  00EB  C8          	ret	Z
1070  00EC  21 00 00    	ld	hl,_screen_ink
1071  00EF  36 04       	ld	(hl),0x04
1072  00F1  21 04 01    	ld	hl,___str_9
1073  00F4  E5          	push	hl
1074  00F5  21 00 16    	ld	hl,0x1600
1075  00F8  E5          	push	hl
1076  00F9  CD 00 00    	call	_zx_print_str
1077  00FC  C9          	ret
1078  00FD              ___str_7:
1079  00FD  24 25 7C    	DEFM "$%|"
1080  0100  00          	DEFB 0x00
1081  0101              ___str_8:
1082  0101  5B 7C       	DEFM "[|"
1083  0103  00          	DEFB 0x00
1084  0104              ___str_9:
1085  0104  5D 7C       	DEFM "]|"
1086  0106  00          	DEFB 0x00
1087  0107              ;	---------------------------------
1088  0107              ; Function game_print_lives
1089  0107              ; ---------------------------------
1090  0107              _game_print_lives:
1091  0107  21 00 00    	ld	hl,_screen_ink
1092  010A  36 07       	ld	(hl),0x07
1093  010C  3A 00 00    	ld	a,(_game_lives)
1094  010F  C6 FF       	add	a,0xff
1095  0111  21 00 00    	ld	hl,_tmp
1096  0114  77          	ld	(hl),a
1097  0115  D6 FF       	sub	a,0xff
1098  0117  30 0A       	jr	NC,l_game_print_lives_00102
1099  0119  7E          	ld	a,(hl)
1100  011A  F5          	push	af
1101  011B  33          	inc	sp
1102  011C  21 17 03    	ld	hl,0x0317
1103  011F  E5          	push	hl
1104  0120  CD 00 00    	call	_zx_print_chr
1105  0123              l_game_print_lives_00102:
1106  0123  3A 01 00    	ld	a, (_game_lives + 1)
1107  0126  C6 FF       	add	a,0xff
1108  0128  21 00 00    	ld	hl,_tmp
1109  012B  77          	ld	(hl),a
1110  012C  D6 FF       	sub	a,0xff
1111  012E  D0          	ret	NC
1112  012F  7E          	ld	a,(hl)
1113  0130  F5          	push	af
1114  0131  33          	inc	sp
1115  0132  21 17 1A    	ld	hl,0x1a17
1116  0135  E5          	push	hl
1117  0136  CD 00 00    	call	_zx_print_chr
1118  0139  C9          	ret
1119  013A              ;	---------------------------------
1120  013A              ; Function game_tick
1121  013A              ; ---------------------------------
1122  013A              _game_tick:
1123  013A  21 00 00    	ld	hl,_curr_time
1124  013D  34          	inc	(hl)
1125  013E  C2 00 00    	jp	NZ,_zx_isr
1126  0141  23          	inc	hl
1127  0142  34          	inc	(hl)
1128  0143  C3 00 00    	jp  _zx_isr
1129  0146              ;	---------------------------------
1130  0146              ; Function game_start_timer
1131  0146              ; ---------------------------------
1132  0146              _game_start_timer:
1133  0146  21 D2 F5    	ld	hl,_NIRVANAP_isr
1134  0149  36 CD       	ld	(hl),0xcd
1135  014B  21 3A 01    	ld	hl,_game_tick
1136  014E  22 D3 F5    	ld	(_NIRVANAP_isr+1),hl
1137  0151  C9          	ret
1138  0152              ;	---------------------------------
1139  0152              ; Function game_phase_calc
1140  0152              ; ---------------------------------
1141  0152              _game_phase_calc:
1142  0152  3A 00 00    	ld	a,(_phase_curr)
1143  0155  87          	add	a, a
1144  0156  87          	add	a, a
1145  0157  21 00 00    	ld	hl,_tmp_uc
1146  015A  77          	ld	(hl),a
1147  015B  01 00 00    	ld	bc,_phases+0
1148  015E  5E          	ld	e,(hl)
1149  015F  16 00       	ld	d,0x00
1150  0161  69          	ld	l, c
1151  0162  60          	ld	h, b
1152  0163  19          	add	hl,de
1153  0164  7E          	ld	a,(hl)
1154  0165  32 00 00    	ld	(_phase_quota),a
1155  0168  2A 00 00    	ld	hl,(_tmp_uc)
1156  016B  26 00       	ld	h,0x00
1157  016D  23          	inc	hl
1158  016E  09          	add	hl,bc
1159  016F  7E          	ld	a,(hl)
1160  0170  32 01 00    	ld	((_phase_quota + 0x0001)),a
1161  0173  2A 00 00    	ld	hl,(_tmp_uc)
1162  0176  26 00       	ld	h,0x00
1163  0178  23          	inc	hl
1164  0179  23          	inc	hl
1165  017A  09          	add	hl,bc
1166  017B  7E          	ld	a,(hl)
1167  017C  32 02 00    	ld	((_phase_quota + 0x0002)),a
1168  017F  2A 00 00    	ld	hl,(_tmp_uc)
1169  0182  26 00       	ld	h,0x00
1170  0184  23          	inc	hl
1171  0185  23          	inc	hl
1172  0186  23          	inc	hl
1173  0187  09          	add	hl,bc
1174  0188  7E          	ld	a,(hl)
1175  0189  32 00 00    	ld	(_game_brick_tile),a
1176  018C  CD 19 0D    	call	_game_unfreeze_all
1177  018F  3A 00 00    	ld	a,(_game_brick_tile)
1178  0192  D6 8B       	sub	a,0x8b
1179  0194  20 03       	jr	NZ,l_game_phase_calc_00102
1180  0196  CD 42 0D    	call	_game_freeze_all
1181  0199              l_game_phase_calc_00102:
1182  0199  3A 00 00    	ld	a,(_game_brick_tile)
1183  019C  4F          	ld	c,a
1184  019D  06 00       	ld	b,0x00
1185  019F  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1186  01A3  21 00 00    	ld	hl,_phase_quota
1187  01A6  4E          	ld	c,(hl)
1188  01A7  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1189  01AA  46          	ld	b,(hl)
1190  01AB  79          	ld	a,c
1191  01AC  80          	add	a, b
1192  01AD  4F          	ld	c,a
1193  01AE  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1194  01B1  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1195  01B3  09          	add	hl, bc
1196  01B4  C9          	ret
1197  01B5              ;	---------------------------------
1198  01B5              ; Function game_phase_init
1199  01B5              ; ---------------------------------
1200  01B5              _game_phase_init:
1201  01B5  21 00 00    	ld	hl,_phase_end
1202  01B8  36 00       	ld	(hl),0x00
1203  01BA  21 00 00    	ld	hl,_phase_angry
1204  01BD  36 00       	ld	(hl),0x00
1205  01BF  21 00 00    	ld	hl,_phase_coins
1206  01C2  36 00       	ld	(hl),0x00
1207  01C4  21 00 00    	ld	hl,_phase_pop
1208  01C7  36 00       	ld	(hl),0x00
1209  01C9  21 00 00    	ld	hl,_game_bonus
1210  01CC  36 00       	ld	(hl),0x00
1211  01CE  21 00 00    	ld	hl,0x0000
1212  01D1  22 00 00    	ld	(_entry_time),hl
1213  01D4  21 00 00    	ld	hl,0
1214  01D7  22 00 00    	ld	(_curr_time),hl
1215  01DA  21 00 00    	ld	hl,0x0000
1216  01DD  22 00 00    	ld	(_frame_time),hl
1217  01E0  21 FF FF    	ld	hl,0xffff
1218  01E3  22 00 00    	ld	(_score_osd_col),hl
1219  01E6  CD 00 00    	call	_spr_draw_clear
1220  01E9  CD 00 00    	call	_spr_cortina_pipes
1221  01EC  21 00 00    	ld	hl,0x0000
1222  01EF  CD 00 00    	call	_zx_cls_fastcall
1223  01F2  21 00 00    	ld	hl,_spr_count
1224  01F5  36 00       	ld	(hl),0x00
1225  01F7  3A 00 00    	ld	a,(_game_type)
1226  01FA  D6 02       	sub	a,0x02
1227  01FC  CA 88 02    	jp	Z,l_game_phase_init_00104
1228  01FF  CD 52 01    	call	_game_phase_calc
1229  0202  7D          	ld	a,l
1230  0203  32 00 00    	ld	(_phase_left),a
1231  0206  32 00 00    	ld	(_phase_tot),a
1232  0209  21 00 00    	ld	hl,_phase_left
1233  020C  7E          	ld	a,(hl)
1234  020D  B7          	or	a, a
1235  020E  C2 9D 02    	jp	NZ,l_game_phase_init_00105
1236  0211  01 00 00    	ld	bc,_phase_bonus_total+0
1237  0214  AF          	xor	a, a
1238  0215  02          	ld	(bc),a
1239  0216  03          	inc	bc
1240  0217  AF          	xor	a, a
1241  0218  02          	ld	(bc),a
1242  0219  36 06       	ld	(hl),0x06
1243  021B  21 00 00    	ld	hl,_game_bonus
1244  021E  36 01       	ld	(hl),0x01
1245  0220  21 0C 00    	ld	hl,0x000c
1246  0223  E5          	push	hl
1247  0224  21 90 08    	ld	hl,0x0890
1248  0227  E5          	push	hl
1249  0228  AF          	xor	a, a
1250  0229  F5          	push	af
1251  022A  33          	inc	sp
1252  022B  CD 00 00    	call	_enemy_init
1253  022E  F1          	pop	af
1254  022F  33          	inc	sp
1255  0230  21 0C 00    	ld	hl,0x000c
1256  0233  E3          	ex	(sp),hl
1257  0234  21 90 16    	ld	hl,0x1690
1258  0237  E5          	push	hl
1259  0238  3E 01       	ld	a,0x01
1260  023A  F5          	push	af
1261  023B  33          	inc	sp
1262  023C  CD 00 00    	call	_enemy_init
1263  023F  F1          	pop	af
1264  0240  33          	inc	sp
1265  0241  21 0C 00    	ld	hl,0x000c
1266  0244  E3          	ex	(sp),hl
1267  0245  21 50 06    	ld	hl,0x0650
1268  0248  E5          	push	hl
1269  0249  3E 02       	ld	a,0x02
1270  024B  F5          	push	af
1271  024C  33          	inc	sp
1272  024D  CD 00 00    	call	_enemy_init
1273  0250  F1          	pop	af
1274  0251  33          	inc	sp
1275  0252  21 0C 00    	ld	hl,0x000c
1276  0255  E3          	ex	(sp),hl
1277  0256  21 50 18    	ld	hl,0x1850
1278  0259  E5          	push	hl
1279  025A  3E 03       	ld	a,0x03
1280  025C  F5          	push	af
1281  025D  33          	inc	sp
1282  025E  CD 00 00    	call	_enemy_init
1283  0261  F1          	pop	af
1284  0262  33          	inc	sp
1285  0263  21 0C 00    	ld	hl,0x000c
1286  0266  E3          	ex	(sp),hl
1287  0267  21 10 05    	ld	hl,0x0510
1288  026A  E5          	push	hl
1289  026B  3E 04       	ld	a,0x04
1290  026D  F5          	push	af
1291  026E  33          	inc	sp
1292  026F  CD 00 00    	call	_enemy_init
1293  0272  F1          	pop	af
1294  0273  33          	inc	sp
1295  0274  21 0C 00    	ld	hl,0x000c
1296  0277  E3          	ex	(sp),hl
1297  0278  21 10 19    	ld	hl,0x1910
1298  027B  E5          	push	hl
1299  027C  3E 05       	ld	a,0x05
1300  027E  F5          	push	af
1301  027F  33          	inc	sp
1302  0280  CD 00 00    	call	_enemy_init
1303  0283  F1          	pop	af
1304  0284  F1          	pop	af
1305  0285  33          	inc	sp
1306  0286  18 15       	jr	l_game_phase_init_00105
1307  0288              l_game_phase_init_00104:
1308  0288  21 00 00    	ld	hl,_phase_left
1309  028B  36 FF       	ld	(hl),0xff
1310  028D  21 00 00    	ld	hl,_phase_curr
1311  0290  36 FF       	ld	(hl),0xff
1312  0292  21 00 00    	ld	hl,_game_brick_tile
1313  0295  36 84       	ld	(hl),0x84
1314  0297  21 84 00    	ld	hl,0x0084
1315  029A  22 24 00    	ld	(_spr_idx + 0x0024),hl
1316  029D              l_game_phase_init_00105:
1317  029D  CD 00 00    	call	_ay_reset
1318  02A0  3A 00 00    	ld	a,(_game_bonus)
1319  02A3  B7          	or	a, a
1320  02A4  20 06       	jr	NZ,l_game_phase_init_00107
1321  02A6  21 00 00    	ld	hl,_pb_midi_phase_1
1322  02A9  CD 00 00    	call	_ay_midi_play
1323  02AC              l_game_phase_init_00107:
1324  02AC  CD E6 02    	call	_game_print_header
1325  02AF  3E 0C       	ld	a,0x0c
1326  02B1  F5          	push	af
1327  02B2  33          	inc	sp
1328  02B3  CD F1 02    	call	_game_phase_print
1329  02B6  33          	inc	sp
1330  02B7  3A 00 00    	ld	a,(_game_lives)
1331  02BA  B7          	or	a, a
1332  02BB  28 0D       	jr	Z,l_game_phase_init_00109
1333  02BD  21 0A 03    	ld	hl,0x030a
1334  02C0  E5          	push	hl
1335  02C1  21 07 98    	ld	hl,0x9807
1336  02C4  E5          	push	hl
1337  02C5  CD 00 00    	call	_player_init
1338  02C8  F1          	pop	af
1339  02C9  F1          	pop	af
1340  02CA              l_game_phase_init_00109:
1341  02CA  3A 01 00    	ld	a, (_game_lives + 1)
1342  02CD  B7          	or	a, a
1343  02CE  28 0D       	jr	Z,l_game_phase_init_00111
1344  02D0  21 14 27    	ld	hl,0x2714
1345  02D3  E5          	push	hl
1346  02D4  21 06 98    	ld	hl,0x9806
1347  02D7  E5          	push	hl
1348  02D8  CD 00 00    	call	_player_init
1349  02DB  F1          	pop	af
1350  02DC  F1          	pop	af
1351  02DD              l_game_phase_init_00111:
1352  02DD  CD 00 00    	call	_spr_draw_back
1353  02E0  CD E6 02    	call	_game_print_header
1354  02E3  C3 1C 00    	jp  _game_print_footer
1355  02E6              ;	---------------------------------
1356  02E6              ; Function game_print_header
1357  02E6              ; ---------------------------------
1358  02E6              _game_print_header:
1359  02E6  CD C7 00    	call	_game_phase_print_score_back
1360  02E9  21 00 00    	ld	hl,_screen_ink
1361  02EC  36 07       	ld	(hl),0x07
1362  02EE  C3 6B 0D    	jp  _game_print_score
1363  02F1              ;	---------------------------------
1364  02F1              ; Function game_phase_print
1365  02F1              ; ---------------------------------
1366  02F1              _game_phase_print:
1367  02F1  CD 00 00    	call	___sdcc_enter_ix
1368  02F4  21 68 03    	ld	hl,___str_10
1369  02F7  E5          	push	hl
1370  02F8  26 0B       	ld	h,0x0b
1371  02FA  DD 6E 04    	ld	l,(ix+4)
1372  02FD  E5          	push	hl
1373  02FE  CD 00 00    	call	_zx_print_str
1374  0301  3A 00 00    	ld	a,(_phase_curr)
1375  0304  D6 1F       	sub	a,0x1f
1376  0306  30 27       	jr	NC,l_game_phase_print_00108
1377  0308  3A 00 00    	ld	a,(_game_bonus)
1378  030B  B7          	or	a, a
1379  030C  20 12       	jr	NZ,l_game_phase_print_00102
1380  030E  21 00 00    	ld	hl,_phase_curr
1381  0311  46          	ld	b,(hl)
1382  0312  04          	inc	b
1383  0313  C5          	push	bc
1384  0314  33          	inc	sp
1385  0315  26 11       	ld	h,0x11
1386  0317  DD 6E 04    	ld	l,(ix+4)
1387  031A  E5          	push	hl
1388  031B  CD 00 00    	call	_zx_print_chr
1389  031E  18 32       	jr	l_game_phase_print_00109
1390  0320              l_game_phase_print_00102:
1391  0320  21 6E 03    	ld	hl,___str_11
1392  0323  E5          	push	hl
1393  0324  26 11       	ld	h,0x11
1394  0326  DD 6E 04    	ld	l,(ix+4)
1395  0329  E5          	push	hl
1396  032A  CD 00 00    	call	_zx_print_str
1397  032D  18 23       	jr	l_game_phase_print_00109
1398  032F              l_game_phase_print_00108:
1399  032F  3A 00 00    	ld	a,(_game_type)
1400  0332  D6 02       	sub	a,0x02
1401  0334  28 0F       	jr	Z,l_game_phase_print_00105
1402  0336  21 74 03    	ld	hl,___str_12
1403  0339  E5          	push	hl
1404  033A  26 11       	ld	h,0x11
1405  033C  DD 6E 04    	ld	l,(ix+4)
1406  033F  E5          	push	hl
1407  0340  CD 00 00    	call	_zx_print_str
1408  0343  18 0D       	jr	l_game_phase_print_00109
1409  0345              l_game_phase_print_00105:
1410  0345  21 79 03    	ld	hl,___str_13
1411  0348  E5          	push	hl
1412  0349  26 11       	ld	h,0x11
1413  034B  DD 6E 04    	ld	l,(ix+4)
1414  034E  E5          	push	hl
1415  034F  CD 00 00    	call	_zx_print_str
1416  0352              l_game_phase_print_00109:
1417  0352  21 2C 01    	ld	hl,0x012c
1418  0355  E5          	push	hl
1419  0356  21 0B 18    	ld	hl,0x180b
1420  0359  E5          	push	hl
1421  035A  DD 7E 04    	ld	a,(ix+4)
1422  035D  F5          	push	af
1423  035E  33          	inc	sp
1424  035F  CD 2C 1C    	call	_game_colour_message
1425  0362  F1          	pop	af
1426  0363  F1          	pop	af
1427  0364  33          	inc	sp
1428  0365  DD E1       	pop	ix
1429  0367  C9          	ret
1430  0368              ___str_10:
1431  0368  50 48 41 53 45 
                        	DEFM "PHASE"
1432  036D  00          	DEFB 0x00
1433  036E              ___str_11:
1434  036E  42 4F 4E 55 53 
                        	DEFM "BONUS"
1435  0373  00          	DEFB 0x00
1436  0374              ___str_12:
1437  0374  48 45 4C 4C 	DEFM "HELL"
1438  0378  00          	DEFB 0x00
1439  0379              ___str_13:
1440  0379  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1441  037F  00          	DEFB 0x00
1442  0380              ;	---------------------------------
1443  0380              ; Function game_loop
1444  0380              ; ---------------------------------
1445  0380              _game_loop:
1446  0380  21 6F 05    	ld	hl,___str_14
1447  0383  E5          	push	hl
1448  0384  21 16 07    	ld	hl,0x0716
1449  0387  E5          	push	hl
1450  0388  CD 00 00    	call	_zx_print_str
1451  038B  21 82 05    	ld	hl,___str_15
1452  038E  E5          	push	hl
1453  038F  21 17 07    	ld	hl,0x0717
1454  0392  E5          	push	hl
1455  0393  CD 00 00    	call	_zx_print_str
1456  0396  21 00 00    	ld	hl,_ay_effect_10
1457  0399  CD 00 00    	call	_ay_fx_play
1458  039C  CD 00 00    	call	_sound_coin
1459  039F  21 C8 00    	ld	hl,0x00c8
1460  03A2  CD 00 00    	call	_z80_delay_ms_fastcall
1461  03A5  21 95 05    	ld	hl,___str_16
1462  03A8  E5          	push	hl
1463  03A9  21 16 07    	ld	hl,0x0716
1464  03AC  E5          	push	hl
1465  03AD  CD 00 00    	call	_zx_print_str
1466  03B0  CD 00 00    	call	_ay_reset
1467  03B3  21 11 11    	ld	hl,0x1111
1468  03B6  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1469  03B9  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1470  03BC  01 00 00    	ld	bc,_game_lives+0
1471  03BF  3E 04       	ld	a,0x04
1472  03C1  02          	ld	(bc),a
1473  03C2  03          	inc	bc
1474  03C3  3A 00 00    	ld	a,(_game_two_player)
1475  03C6  B7          	or	a,a
1476  03C7  28 05       	jr	Z,l_game_loop_00102
1477  03C9  3E 04       	ld	a,0x04
1478  03CB  02          	ld	(bc),a
1479  03CC  18 02       	jr	l_game_loop_00103
1480  03CE              l_game_loop_00102:
1481  03CE  AF          	xor	a, a
1482  03CF  02          	ld	(bc),a
1483  03D0              l_game_loop_00103:
1484  03D0  21 00 00    	ld	hl,0x0000
1485  03D3  22 00 00    	ld	(_player_score), hl
1486  03D6  2E 00       	ld	l,0x00
1487  03D8  22 02 00    	ld	(_player_score + 0x0002),hl
1488  03DB  21 D0 07    	ld	hl,0x07d0
1489  03DE  22 00 00    	ld	(_player_next_extra), hl
1490  03E1  2E D0       	ld	l,0xd0
1491  03E3  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1492  03E6  21 00 00    	ld	hl,_spr_water_clear
1493  03E9  36 FF       	ld	(hl),0xff
1494  03EB  3A 00 00    	ld	a,(_game_type)
1495  03EE  B7          	or	a, a
1496  03EF  20 0E       	jr	NZ,l_game_loop_00105
1497  03F1  21 F4 01    	ld	hl,0x01f4
1498  03F4  22 00 00    	ld	(_game_time_flipped),hl
1499  03F7  21 D0 07    	ld	hl,0x07d0
1500  03FA  22 00 00    	ld	(_game_time_fireball_start),hl
1501  03FD  18 0C       	jr	l_game_loop_00106
1502  03FF              l_game_loop_00105:
1503  03FF  21 FA 00    	ld	hl,0x00fa
1504  0402  22 00 00    	ld	(_game_time_flipped),hl
1505  0405  21 F4 01    	ld	hl,0x01f4
1506  0408  22 00 00    	ld	(_game_time_fireball_start),hl
1507  040B              l_game_loop_00106:
1508  040B  21 00 00    	ld	hl,_game_over
1509  040E  36 00       	ld	(hl),0x00
1510  0410  21 00 00    	ld	hl,_game_pow
1511  0413  36 03       	ld	(hl),0x03
1512  0415  21 00 00    	ld	hl,_phase_curr
1513  0418  36 00       	ld	(hl),0x00
1514  041A  CD B5 01    	call	_game_phase_init
1515  041D  21 00 00    	ld	hl,_sprite_lin_inc_mul
1516  0420  36 00       	ld	(hl),0x00
1517  0422  21 00 00    	ld	hl,0x0000
1518  0425  22 00 00    	ld	(_loop_count),hl
1519  0428  21 00 00    	ld	hl,_dirs
1520  042B  36 00       	ld	(hl),0x00
1521  042D  CD 19 0D    	call	_game_unfreeze_all
1522  0430  CD 75 10    	call	_game_joystick_set
1523  0433              l_game_loop_00134:
1524  0433  3A 00 00    	ld	a,(_game_over)
1525  0436  B7          	or	a, a
1526  0437  C2 33 05    	jp	NZ,l_game_loop_00136
1527  043A  CD 00 00    	call	_player_set1
1528  043D  CD 00 00    	call	_player_turn
1529  0440  CD 00 00    	call	_player_set2
1530  0443  CD 00 00    	call	_player_turn
1531  0446  CD 00 00    	call	_enemy_turn
1532  0449  3A 00 00    	ld	a,(_game_bonus)
1533  044C  B7          	or	a, a
1534  044D  28 16       	jr	Z,l_game_loop_00111
1535  044F  CD F7 06    	call	_game_bonus_clock
1536  0452  3A 00 00    	ld	a,(_phase_left)
1537  0455  B7          	or	a, a
1538  0456  28 0D       	jr	Z,l_game_loop_00111
1539  0458  CD 00 00    	call	_ay_is_playing
1540  045B  7D          	ld	a,l
1541  045C  B7          	or	a, a
1542  045D  20 06       	jr	NZ,l_game_loop_00111
1543  045F  21 00 00    	ld	hl,_ay_effect_19
1544  0462  CD 00 00    	call	_ay_fx_play
1545  0465              l_game_loop_00111:
1546  0465  CD 00 00    	call	_spr_water_splash_clear
1547  0468  21 64 00    	ld	hl,0x0064
1548  046B  E5          	push	hl
1549  046C  2A 00 00    	ld	hl,(_frame_time)
1550  046F  E5          	push	hl
1551  0470  CD BE 1C    	call	_game_check_time
1552  0473  F1          	pop	af
1553  0474  F1          	pop	af
1554  0475  7D          	ld	a,l
1555  0476  B7          	or	a, a
1556  0477  CA 27 05    	jp	Z,l_game_loop_00133
1557  047A  2A 00 00    	ld	hl,(_curr_time)
1558  047D  22 00 00    	ld	(_frame_time),hl
1559  0480  3A 00 00    	ld	a,(_game_bonus)
1560  0483  B7          	or	a,a
1561  0484  20 03       	jr	NZ,l_game_loop_00113
1562  0486  CD A8 09    	call	_game_enemy_add
1563  0489              l_game_loop_00113:
1564  0489  3A 00 00    	ld	a,(_phase_left)
1565  048C  3D          	dec	a
1566  048D  20 58       	jr	NZ,l_game_loop_00120
1567  048F  3A 00 00    	ld	a,(_phase_angry)
1568  0492  B7          	or	a, a
1569  0493  20 52       	jr	NZ,l_game_loop_00120
1570  0495  21 00 00    	ld	hl,_sprite
1571  0498  36 00       	ld	(hl),0x00
1572  049A              l_game_loop_00137:
1573  049A  2A 00 00    	ld	hl,(_sprite)
1574  049D  26 00       	ld	h,0x00
1575  049F  01 00 00    	ld	bc,_class
1576  04A2  09          	add	hl,bc
1577  04A3  7E          	ld	a,(hl)
1578  04A4  4F          	ld	c,a
1579  04A5  B7          	or	a,a
1580  04A6  28 35       	jr	Z,l_game_loop_00138
1581  04A8  3E 09       	ld	a,0x09
1582  04AA  91          	sub	a,c
1583  04AB  38 30       	jr	C,l_game_loop_00138
1584  04AD  3A 00 00    	ld	a,(_sprite)
1585  04B0  4F          	ld	c,a
1586  04B1  06 00       	ld	b,0x00
1587  04B3  21 00 00    	ld	hl,_state
1588  04B6  09          	add	hl,bc
1589  04B7  CB 6E       	bit	5,(hl)
1590  04B9  20 22       	jr	NZ,l_game_loop_00138
1591  04BB  21 00 00    	ld	hl,_phase_angry
1592  04BE  36 01       	ld	(hl),0x01
1593  04C0  CD 00 00    	call	_enemy_evolve
1594  04C3  CD 00 00    	call	_enemy_evolve
1595  04C6  3E 00       	ld	a,+((_tile) & 0xFF)
1596  04C8  21 00 00    	ld	hl,_sprite
1597  04CB  86          	add	a, (hl)
1598  04CC  4F          	ld	c,a
1599  04CD  3E 00       	ld	a,+((_tile) / 256)
1600  04CF  CE 00       	adc	a,0x00
1601  04D1  47          	ld	b,a
1602  04D2  7E          	ld	a,(hl)
1603  04D3  C5          	push	bc
1604  04D4  F5          	push	af
1605  04D5  33          	inc	sp
1606  04D6  CD 00 00    	call	_spr_tile
1607  04D9  33          	inc	sp
1608  04DA  C1          	pop	bc
1609  04DB  7D          	ld	a, l
1610  04DC  02          	ld	(bc),a
1611  04DD              l_game_loop_00138:
1612  04DD  21 00 00    	ld	hl,_sprite
1613  04E0  7E          	ld	a,(hl)
1614  04E1  3C          	inc	a
1615  04E2  77          	ld	(hl),a
1616  04E3  D6 06       	sub	a,0x06
1617  04E5  38 B3       	jr	C,l_game_loop_00137
1618  04E7              l_game_loop_00120:
1619  04E7  3A 00 00    	ld	a,(_phase_end)
1620  04EA  3D          	dec	a
1621  04EB  20 3A       	jr	NZ,l_game_loop_00133
1622  04ED  3A 00 00    	ld	a,(_game_type)
1623  04F0  D6 02       	sub	a,0x02
1624  04F2  28 33       	jr	Z,l_game_loop_00133
1625  04F4  21 90 01    	ld	hl,0x0190
1626  04F7  CD 00 00    	call	_z80_delay_ms_fastcall
1627  04FA  CD 00 00    	call	_ay_is_playing
1628  04FD  7D          	ld	a, l
1629  04FE  D6 02       	sub	a,0x02
1630  0500  30 03       	jr	NC,l_game_loop_00123
1631  0502  CD 00 00    	call	_ay_reset
1632  0505              l_game_loop_00123:
1633  0505  CD 62 09    	call	_game_kill_all_sprites
1634  0508  3A 00 00    	ld	a,(_game_bonus)
1635  050B  B7          	or	a, a
1636  050C  28 03       	jr	Z,l_game_loop_00125
1637  050E  CD 5D 07    	call	_game_bonus_summary
1638  0511              l_game_loop_00125:
1639  0511  21 00 00    	ld	hl,_phase_curr
1640  0514  34          	inc	(hl)
1641  0515  3E 1F       	ld	a,0x1f
1642  0517  96          	sub	a, (hl)
1643  0518  30 0A       	jr	NC,l_game_loop_00127
1644  051A  CD D9 13    	call	_game_end
1645  051D  21 00 00    	ld	hl,_game_over
1646  0520  36 01       	ld	(hl),0x01
1647  0522  18 03       	jr	l_game_loop_00133
1648  0524              l_game_loop_00127:
1649  0524  CD B5 01    	call	_game_phase_init
1650  0527              l_game_loop_00133:
1651  0527  21 00 00    	ld	hl,_loop_count
1652  052A  34          	inc	(hl)
1653  052B  C2 33 04    	jp	NZ,l_game_loop_00134
1654  052E  23          	inc	hl
1655  052F  34          	inc	(hl)
1656  0530  C3 33 04    	jp	l_game_loop_00134
1657  0533              l_game_loop_00136:
1658  0533  21 20 03    	ld	hl,0x0320
1659  0536  CD 00 00    	call	_z80_delay_ms_fastcall
1660  0539  CD 62 09    	call	_game_kill_all_sprites
1661  053C  76          	halt
1662  053D  CD 00 00    	call	_spr_draw_clear
1663  0540  21 A8 05    	ld	hl,___str_17
1664  0543  E5          	push	hl
1665  0544  21 08 0B    	ld	hl,0x0b08
1666  0547  E5          	push	hl
1667  0548  CD 00 00    	call	_zx_print_str
1668  054B  21 C8 00    	ld	hl,0x00c8
1669  054E  E5          	push	hl
1670  054F  21 0B 15    	ld	hl,0x150b
1671  0552  E5          	push	hl
1672  0553  3E 08       	ld	a,0x08
1673  0555  F5          	push	af
1674  0556  33          	inc	sp
1675  0557  CD 2C 1C    	call	_game_colour_message
1676  055A  F1          	pop	af
1677  055B  F1          	pop	af
1678  055C  33          	inc	sp
1679  055D  CD 22 17    	call	_game_hall_enter
1680  0560  CD 00 00    	call	_ay_reset
1681  0563  21 00 00    	ld	hl,_game_menu_sel
1682  0566  36 00       	ld	(hl),0x00
1683  0568  CD 6A 11    	call	_game_menu_paint
1684  056B  CD 68 10    	call	_game_joystick_set_menu
1685  056E  C9          	ret
1686  056F              ___str_14:
1687  056F  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1688  0581  00          	DEFB 0x00
1689  0582              ___str_15:
1690  0582  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1691  0594  00          	DEFB 0x00
1692  0595              ___str_16:
1693  0595  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1694  05A7  00          	DEFB 0x00
1695  05A8              ___str_17:
1696  05A8  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1697  05B1  00          	DEFB 0x00
1698  05B2              ;	---------------------------------
1699  05B2              ; Function game_score_osd
1700  05B2              ; ---------------------------------
1701  05B2              _game_score_osd:
1702  05B2  3A 00 00    	ld	a,(_index_player)
1703  05B5  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1704  05B7  4F          	ld	c,a
1705  05B8  3E 00       	ld	a,+((_score_osd_col) / 256)
1706  05BA  CE 00       	adc	a,0x00
1707  05BC  47          	ld	b,a
1708  05BD  0A          	ld	a,(bc)
1709  05BE  57          	ld	d,a
1710  05BF  3C          	inc	a
1711  05C0  20 72       	jr	NZ,l_game_score_osd_00117
1712  05C2  3A 00 00    	ld	a,(_hit_count)
1713  05C5  B7          	or	a, a
1714  05C6  CA F6 06    	jp	Z,l_game_score_osd_00119
1715  05C9  2A 00 00    	ld	hl,(_sprite)
1716  05CC  26 00       	ld	h,0x00
1717  05CE  11 00 00    	ld	de,_col
1718  05D1  19          	add	hl,de
1719  05D2  7E          	ld	a,(hl)
1720  05D3  02          	ld	(bc),a
1721  05D4  3A 00 00    	ld	a,(_index_player)
1722  05D7  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1723  05D9  4F          	ld	c,a
1724  05DA  3E 00       	ld	a,+((_score_osd_lin) / 256)
1725  05DC  CE 00       	adc	a,0x00
1726  05DE  47          	ld	b,a
1727  05DF  2A 00 00    	ld	hl,(_sprite)
1728  05E2  26 00       	ld	h,0x00
1729  05E4  11 00 00    	ld	de,_lin
1730  05E7  19          	add	hl,de
1731  05E8  7E          	ld	a,(hl)
1732  05E9  02          	ld	(bc),a
1733  05EA  01 00 00    	ld	bc,_score_osd_time+0
1734  05ED  2A 00 00    	ld	hl,(_index_player)
1735  05F0  26 00       	ld	h,0x00
1736  05F2  29          	add	hl, hl
1737  05F3  09          	add	hl,bc
1738  05F4  ED 5B 00 00 	ld	de,(_curr_time)
1739  05F8  73          	ld	(hl),e
1740  05F9  23          	inc	hl
1741  05FA  72          	ld	(hl),d
1742  05FB  2A 00 00    	ld	hl,(_index_player)
1743  05FE  26 00       	ld	h,0x00
1744  0600  29          	add	hl,hl
1745  0601  3A 00 00    	ld	a,(_hit_count)
1746  0604  3D          	dec	a
1747  0605  4D          	ld	c,l
1748  0606  44          	ld	b,h
1749  0607  20 0C       	jr	NZ,l_game_score_osd_00105
1750  0609  21 00 00    	ld	hl,_score_osd_tile
1751  060C  09          	add	hl,bc
1752  060D  36 BC       	ld	(hl),0xbc
1753  060F  23          	inc	hl
1754  0610  36 00       	ld	(hl),0x00
1755  0612  C3 F6 06    	jp	l_game_score_osd_00119
1756  0615              l_game_score_osd_00105:
1757  0615  3A 00 00    	ld	a,(_hit_count)
1758  0618  D6 08       	sub	a,0x08
1759  061A  30 0C       	jr	NC,l_game_score_osd_00102
1760  061C  21 00 00    	ld	hl,_score_osd_tile
1761  061F  09          	add	hl,bc
1762  0620  36 BD       	ld	(hl),0xbd
1763  0622  23          	inc	hl
1764  0623  36 00       	ld	(hl),0x00
1765  0625  C3 F6 06    	jp	l_game_score_osd_00119
1766  0628              l_game_score_osd_00102:
1767  0628  21 00 00    	ld	hl,_score_osd_tile
1768  062B  09          	add	hl,bc
1769  062C  36 BE       	ld	(hl),0xbe
1770  062E  23          	inc	hl
1771  062F  36 00       	ld	(hl),0x00
1772  0631  C3 F6 06    	jp	l_game_score_osd_00119
1773  0634              l_game_score_osd_00117:
1774  0634  3A 00 00    	ld	a,(_index_player)
1775  0637  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1776  0639  4F          	ld	c,a
1777  063A  3E 00       	ld	a,+((_score_osd_lin) / 256)
1778  063C  CE 00       	adc	a,0x00
1779  063E  47          	ld	b,a
1780  063F  0A          	ld	a,(bc)
1781  0640  C6 FE       	add	a,0xfe
1782  0642  32 00 00    	ld	(_tmp),a
1783  0645  5F          	ld	e,a
1784  0646  D5          	push	de
1785  0647  CD 00 00    	call	_game_calc_index
1786  064A  F1          	pop	af
1787  064B  22 00 00    	ld	(_index1),hl
1788  064E  3E 08       	ld	a,0x08
1789  0650  21 00 00    	ld	hl,_tmp
1790  0653  96          	sub	a, (hl)
1791  0654  30 5B       	jr	NC,l_game_score_osd_00110
1792  0656  21 01 00    	ld	hl,_index1 + 1
1793  0659  7E          	ld	a,(hl)
1794  065A  2B          	dec	hl
1795  065B  B6          	or	a,(hl)
1796  065C  28 53       	jr	Z,l_game_score_osd_00110
1797  065E  01 00 00    	ld	bc,_lvl_1+0
1798  0661  79          	ld	a,c
1799  0662  86          	add	a, (hl)
1800  0663  5F          	ld	e,a
1801  0664  78          	ld	a,b
1802  0665  23          	inc	hl
1803  0666  8E          	adc	a, (hl)
1804  0667  57          	ld	d,a
1805  0668  1A          	ld	a,(de)
1806  0669  B7          	or	a, a
1807  066A  20 45       	jr	NZ,l_game_score_osd_00110
1808  066C  56          	ld	d,(hl)
1809  066D  2B          	dec	hl
1810  066E  5E          	ld	e,(hl)
1811  066F  13          	inc	de
1812  0670  69          	ld	l, c
1813  0671  60          	ld	h, b
1814  0672  19          	add	hl,de
1815  0673  7E          	ld	a,(hl)
1816  0674  B7          	or	a, a
1817  0675  20 3A       	jr	NZ,l_game_score_osd_00110
1818  0677  76          	halt
1819  0678  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1820  067A  21 00 00    	ld	hl,_index_player
1821  067D  86          	add	a, (hl)
1822  067E  4F          	ld	c,a
1823  067F  3E 00       	ld	a,+((_score_osd_col) / 256)
1824  0681  CE 00       	adc	a,0x00
1825  0683  47          	ld	b,a
1826  0684  0A          	ld	a,(bc)
1827  0685  57          	ld	d,a
1828  0686  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1829  0688  86          	add	a, (hl)
1830  0689  4F          	ld	c,a
1831  068A  3E 00       	ld	a,+((_score_osd_lin) / 256)
1832  068C  CE 00       	adc	a,0x00
1833  068E  47          	ld	b,a
1834  068F  0A          	ld	a,(bc)
1835  0690  5F          	ld	e,a
1836  0691  6E          	ld	l, (hl)
1837  0692  26 00       	ld	h,0x00
1838  0694  29          	add	hl, hl
1839  0695  01 00 00    	ld	bc,_score_osd_tile
1840  0698  09          	add	hl,bc
1841  0699  46          	ld	b,(hl)
1842  069A  23          	inc	hl
1843  069B  4E          	ld	c,(hl)
1844  069C  D5          	push	de
1845  069D  C5          	push	bc
1846  069E  33          	inc	sp
1847  069F  CD 00 00    	call	_NIRVANAP_drawT_callee
1848  06A2  3A 00 00    	ld	a,(_index_player)
1849  06A5  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1850  06A7  4F          	ld	c,a
1851  06A8  3E 00       	ld	a,+((_score_osd_lin) / 256)
1852  06AA  CE 00       	adc	a,0x00
1853  06AC  47          	ld	b,a
1854  06AD  3A 00 00    	ld	a,(_tmp)
1855  06B0  02          	ld	(bc),a
1856  06B1              l_game_score_osd_00110:
1857  06B1  01 00 00    	ld	bc,_score_osd_time+0
1858  06B4  2A 00 00    	ld	hl,(_index_player)
1859  06B7  26 00       	ld	h,0x00
1860  06B9  29          	add	hl, hl
1861  06BA  09          	add	hl,bc
1862  06BB  4E          	ld	c,(hl)
1863  06BC  23          	inc	hl
1864  06BD  46          	ld	b,(hl)
1865  06BE  21 32 00    	ld	hl,0x0032
1866  06C1  E5          	push	hl
1867  06C2  C5          	push	bc
1868  06C3  CD BE 1C    	call	_game_check_time
1869  06C6  F1          	pop	af
1870  06C7  F1          	pop	af
1871  06C8  7D          	ld	a,l
1872  06C9  B7          	or	a, a
1873  06CA  C8          	ret	Z
1874  06CB  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1875  06CD  21 00 00    	ld	hl,_index_player
1876  06D0  86          	add	a, (hl)
1877  06D1  4F          	ld	c,a
1878  06D2  3E 00       	ld	a,+((_score_osd_col) / 256)
1879  06D4  CE 00       	adc	a,0x00
1880  06D6  47          	ld	b,a
1881  06D7  0A          	ld	a,(bc)
1882  06D8  57          	ld	d,a
1883  06D9  4E          	ld	c,(hl)
1884  06DA  06 00       	ld	b,0x00
1885  06DC  21 00 00    	ld	hl,_score_osd_lin
1886  06DF  09          	add	hl,bc
1887  06E0  5E          	ld	e, (hl)
1888  06E1  D5          	push	de
1889  06E2  AF          	xor	a, a
1890  06E3  F5          	push	af
1891  06E4  33          	inc	sp
1892  06E5  CD 00 00    	call	_NIRVANAP_fillT_callee
1893  06E8  3A 00 00    	ld	a,(_index_player)
1894  06EB  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1895  06ED  4F          	ld	c,a
1896  06EE  3E 00       	ld	a,+((_score_osd_col) / 256)
1897  06F0  CE 00       	adc	a,0x00
1898  06F2  47          	ld	b,a
1899  06F3  3E FF       	ld	a,0xff
1900  06F5  02          	ld	(bc),a
1901  06F6              l_game_score_osd_00119:
1902  06F6  C9          	ret
1903  06F7              ;	---------------------------------
1904  06F7              ; Function game_bonus_clock
1905  06F7              ; ---------------------------------
1906  06F7              _game_bonus_clock:
1907  06F7  2A 00 00    	ld	hl,(_curr_time)
1908  06FA  29          	add	hl,hl
1909  06FB  3E D0       	ld	a,0xd0
1910  06FD  95          	sub	a,l
1911  06FE  44          	ld	b,h
1912  06FF  21 00 00    	ld	hl,_tmp_ui
1913  0702  77          	ld	(hl),a
1914  0703  3E 07       	ld	a,0x07
1915  0705  98          	sbc	a, b
1916  0706  23          	inc	hl
1917  0707  77          	ld	(hl),a
1918  0708  3E D0       	ld	a,0xd0
1919  070A  2B          	dec	hl
1920  070B  BE          	cp	a, (hl)
1921  070C  3E 07       	ld	a,0x07
1922  070E  23          	inc	hl
1923  070F  9E          	sbc	a, (hl)
1924  0710  30 14       	jr	NC,l_game_bonus_clock_00106
1925  0712  2B          	dec	hl
1926  0713  AF          	xor	a, a
1927  0714  77          	ld	(hl), a
1928  0715  23          	inc	hl
1929  0716  77          	ld	(hl), a
1930  0717  21 00 00    	ld	hl,_phase_left
1931  071A  36 00       	ld	(hl),0x00
1932  071C  21 00 00    	ld	hl,_phase_end
1933  071F  36 01       	ld	(hl),0x01
1934  0721  CD 00 00    	call	_ay_reset
1935  0724  18 36       	jr	l_game_bonus_clock_00108
1936  0726              l_game_bonus_clock_00106:
1937  0726  3A 00 00    	ld	a,(_phase_left)
1938  0729  B7          	or	a, a
1939  072A  C8          	ret	Z
1940  072B  2A 00 00    	ld	hl,(_tmp_ui)
1941  072E  E5          	push	hl
1942  072F  21 02 0E    	ld	hl,0x0e02
1943  0732  E5          	push	hl
1944  0733  CD 00 00    	call	_zx_print_bonus_time
1945  0736  21 05 00    	ld	hl,0x0005
1946  0739  E5          	push	hl
1947  073A  2A 00 00    	ld	hl,(_frame_time)
1948  073D  E5          	push	hl
1949  073E  CD BE 1C    	call	_game_check_time
1950  0741  F1          	pop	af
1951  0742  F1          	pop	af
1952  0743  7D          	ld	a,l
1953  0744  B7          	or	a, a
1954  0745  C8          	ret	Z
1955  0746  2A 00 00    	ld	hl,(_curr_time)
1956  0749  22 00 00    	ld	(_frame_time),hl
1957  074C  21 14 18    	ld	hl,0x1814
1958  074F  E5          	push	hl
1959  0750  3E 0E       	ld	a,0x0e
1960  0752  F5          	push	af
1961  0753  33          	inc	sp
1962  0754  CD F0 0D    	call	_game_paint_attrib_lin_h
1963  0757  F1          	pop	af
1964  0758  33          	inc	sp
1965  0759  CD 10 1C    	call	_game_rotate_attrib
1966  075C              l_game_bonus_clock_00108:
1967  075C  C9          	ret
1968  075D              ;	---------------------------------
1969  075D              ; Function game_bonus_summary
1970  075D              ; ---------------------------------
1971  075D              _game_bonus_summary:
1972  075D  CD 62 09    	call	_game_kill_all_sprites
1973  0760  CD 00 00    	call	_spr_draw_clear
1974  0763  21 00 00    	ld	hl,0x0000
1975  0766  CD 00 00    	call	_zx_cls_fastcall
1976  0769  CD C7 00    	call	_game_phase_print_score_back
1977  076C  CD 6B 0D    	call	_game_print_score
1978  076F  3A 00 00    	ld	a,(_game_lives)
1979  0772  B7          	or	a, a
1980  0773  28 07       	jr	Z,l_game_bonus_summary_00102
1981  0775  AF          	xor	a, a
1982  0776  F5          	push	af
1983  0777  33          	inc	sp
1984  0778  CD 4E 08    	call	_game_bonus_summary_player
1985  077B  33          	inc	sp
1986  077C              l_game_bonus_summary_00102:
1987  077C  3A 01 00    	ld	a, (_game_lives + 1)
1988  077F  B7          	or	a, a
1989  0780  28 08       	jr	Z,l_game_bonus_summary_00104
1990  0782  3E 01       	ld	a,0x01
1991  0784  F5          	push	af
1992  0785  33          	inc	sp
1993  0786  CD 4E 08    	call	_game_bonus_summary_player
1994  0789  33          	inc	sp
1995  078A              l_game_bonus_summary_00104:
1996  078A  21 1F 98    	ld	hl,0x981f
1997  078D  E5          	push	hl
1998  078E  AF          	xor	a, a
1999  078F  F5          	push	af
2000  0790  33          	inc	sp
2001  0791  CD C9 0D    	call	_game_paint_attrib_lin
2002  0794  F1          	pop	af
2003  0795  33          	inc	sp
2004  0796  3A 00 00    	ld	a,(_phase_bonus_total)
2005  0799  D6 06       	sub	a,0x06
2006  079B  20 70       	jr	NZ,l_game_bonus_summary_00109
2007  079D  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2008  07A0  B7          	or	a, a
2009  07A1  20 6A       	jr	NZ,l_game_bonus_summary_00109
2010  07A3  CD 00 00    	call	_sound_jump
2011  07A6  3A 00 00    	ld	a,(_phase_curr)
2012  07A9  D6 03       	sub	a,0x03
2013  07AB  20 27       	jr	NZ,l_game_bonus_summary_00106
2014  07AD  21 1F 08    	ld	hl,___str_18
2015  07B0  E5          	push	hl
2016  07B1  21 12 06    	ld	hl,0x0612
2017  07B4  E5          	push	hl
2018  07B5  CD 00 00    	call	_zx_print_str
2019  07B8  21 00 00    	ld	hl,_index_player
2020  07BB  36 00       	ld	(hl),0x00
2021  07BD  21 2C 01    	ld	hl,0x012c
2022  07C0  E5          	push	hl
2023  07C1  CD 00 00    	call	_player_score_add
2024  07C4  F1          	pop	af
2025  07C5  21 00 00    	ld	hl,_index_player
2026  07C8  36 01       	ld	(hl),0x01
2027  07CA  21 2C 01    	ld	hl,0x012c
2028  07CD  E5          	push	hl
2029  07CE  CD 00 00    	call	_player_score_add
2030  07D1  F1          	pop	af
2031  07D2  18 25       	jr	l_game_bonus_summary_00107
2032  07D4              l_game_bonus_summary_00106:
2033  07D4  21 32 08    	ld	hl,___str_19
2034  07D7  E5          	push	hl
2035  07D8  21 12 06    	ld	hl,0x0612
2036  07DB  E5          	push	hl
2037  07DC  CD 00 00    	call	_zx_print_str
2038  07DF  21 00 00    	ld	hl,_index_player
2039  07E2  36 00       	ld	(hl),0x00
2040  07E4  21 F4 01    	ld	hl,0x01f4
2041  07E7  E5          	push	hl
2042  07E8  CD 00 00    	call	_player_score_add
2043  07EB  F1          	pop	af
2044  07EC  21 00 00    	ld	hl,_index_player
2045  07EF  36 01       	ld	(hl),0x01
2046  07F1  21 F4 01    	ld	hl,0x01f4
2047  07F4  E5          	push	hl
2048  07F5  CD 00 00    	call	_player_score_add
2049  07F8  F1          	pop	af
2050  07F9              l_game_bonus_summary_00107:
2051  07F9  21 C8 00    	ld	hl,0x00c8
2052  07FC  E5          	push	hl
2053  07FD  21 10 1A    	ld	hl,0x1a10
2054  0800  E5          	push	hl
2055  0801  3E 12       	ld	a,0x12
2056  0803  F5          	push	af
2057  0804  33          	inc	sp
2058  0805  CD 2C 1C    	call	_game_colour_message
2059  0808  F1          	pop	af
2060  0809  F1          	pop	af
2061  080A  33          	inc	sp
2062  080B  18 11       	jr	l_game_bonus_summary_00112
2063  080D              l_game_bonus_summary_00109:
2064  080D  21 45 08    	ld	hl,___str_20
2065  0810  E5          	push	hl
2066  0811  21 12 0C    	ld	hl,0x0c12
2067  0814  E5          	push	hl
2068  0815  CD 00 00    	call	_zx_print_str
2069  0818  21 E8 03    	ld	hl,0x03e8
2070  081B  CD 00 00    	call	_z80_delay_ms_fastcall
2071  081E              l_game_bonus_summary_00112:
2072  081E  C9          	ret
2073  081F              ___str_18:
2074  081F  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2075  0831  00          	DEFB 0x00
2076  0832              ___str_19:
2077  0832  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2078  0844  00          	DEFB 0x00
2079  0845              ___str_20:
2080  0845  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2081  084D  00          	DEFB 0x00
2082  084E              ;	---------------------------------
2083  084E              ; Function game_bonus_summary_player
2084  084E              ; ---------------------------------
2085  084E              _game_bonus_summary_player:
2086  084E  CD 00 00    	call	___sdcc_enter_ix
2087  0851  F5          	push	af
2088  0852  76          	halt
2089  0853  DD 7E 04    	ld	a,(ix+4)
2090  0856  B7          	or	a, a
2091  0857  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2092  0859  21 00 00    	ld	hl,_s_lin1
2093  085C  36 06       	ld	(hl),0x06
2094  085E  21 4F 09    	ld	hl,___str_21
2095  0861  E5          	push	hl
2096  0862  21 06 07    	ld	hl,0x0706
2097  0865  E5          	push	hl
2098  0866  CD 00 00    	call	_zx_print_str
2099  0869  3A 00 00    	ld	a,(_s_lin1)
2100  086C  07          	rlca
2101  086D  07          	rlca
2102  086E  07          	rlca
2103  086F  E6 F8       	and	a,0xf8
2104  0871  47          	ld	b,a
2105  0872  04          	inc	b
2106  0873  04          	inc	b
2107  0874  04          	inc	b
2108  0875  04          	inc	b
2109  0876  3E 04       	ld	a,0x04
2110  0878  48          	ld	c,b
2111  0879  47          	ld	b,a
2112  087A  C5          	push	bc
2113  087B  3E 03       	ld	a,0x03
2114  087D  F5          	push	af
2115  087E  33          	inc	sp
2116  087F  CD 00 00    	call	_NIRVANAP_drawT_callee
2117  0882  21 00 00    	ld	hl,_index_player
2118  0885  36 00       	ld	(hl),0x00
2119  0887  18 2E       	jr	l_game_bonus_summary_player_00103
2120  0889              l_game_bonus_summary_player_00102:
2121  0889  21 00 00    	ld	hl,_s_lin1
2122  088C  36 0C       	ld	(hl),0x0c
2123  088E  21 56 09    	ld	hl,___str_22
2124  0891  E5          	push	hl
2125  0892  21 0C 07    	ld	hl,0x070c
2126  0895  E5          	push	hl
2127  0896  CD 00 00    	call	_zx_print_str
2128  0899  3A 00 00    	ld	a,(_s_lin1)
2129  089C  07          	rlca
2130  089D  07          	rlca
2131  089E  07          	rlca
2132  089F  E6 F8       	and	a,0xf8
2133  08A1  47          	ld	b,a
2134  08A2  04          	inc	b
2135  08A3  04          	inc	b
2136  08A4  04          	inc	b
2137  08A5  04          	inc	b
2138  08A6  3E 04       	ld	a,0x04
2139  08A8  48          	ld	c,b
2140  08A9  47          	ld	b,a
2141  08AA  C5          	push	bc
2142  08AB  3E 1B       	ld	a,0x1b
2143  08AD  F5          	push	af
2144  08AE  33          	inc	sp
2145  08AF  CD 00 00    	call	_NIRVANAP_drawT_callee
2146  08B2  21 00 00    	ld	hl,_index_player
2147  08B5  36 01       	ld	(hl),0x01
2148  08B7              l_game_bonus_summary_player_00103:
2149  08B7  3A 00 00    	ld	a,(_s_lin1)
2150  08BA  07          	rlca
2151  08BB  07          	rlca
2152  08BC  07          	rlca
2153  08BD  E6 F8       	and	a,0xf8
2154  08BF  C6 08       	add	a,0x08
2155  08C1  F5          	push	af
2156  08C2  33          	inc	sp
2157  08C3  21 07 1F    	ld	hl,0x1f07
2158  08C6  E5          	push	hl
2159  08C7  CD C9 0D    	call	_game_paint_attrib_lin
2160  08CA  F1          	pop	af
2161  08CB  33          	inc	sp
2162  08CC  21 00 00    	ld	hl,_tmp_uc
2163  08CF  36 00       	ld	(hl),0x00
2164  08D1  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2165  08D3  DD 86 04    	add	a,(ix+4)
2166  08D6  DD 77 FE    	ld	(ix-2),a
2167  08D9  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2168  08DB  CE 00       	adc	a,0x00
2169  08DD  DD 77 FF    	ld	(ix-1),a
2170  08E0              l_game_bonus_summary_player_00107:
2171  08E0  E1          	pop	hl
2172  08E1  4E          	ld	c,(hl)
2173  08E2  3A 00 00    	ld	a,(_tmp_uc)
2174  08E5  E5          	push	hl
2175  08E6  91          	sub	a, c
2176  08E7  30 55       	jr	NC,l_game_bonus_summary_player_00109
2177  08E9  3A 00 00    	ld	a,(_s_lin1)
2178  08EC  07          	rlca
2179  08ED  07          	rlca
2180  08EE  07          	rlca
2181  08EF  E6 F8       	and	a,0xf8
2182  08F1  4F          	ld	c,a
2183  08F2  3A 00 00    	ld	a,(_tmp_uc)
2184  08F5  D6 03       	sub	a,0x03
2185  08F7  30 08       	jr	NC,l_game_bonus_summary_player_00105
2186  08F9  79          	ld	a,c
2187  08FA  C6 F8       	add	a,0xf8
2188  08FC  32 00 00    	ld	(_s_lin0),a
2189  08FF  18 06       	jr	l_game_bonus_summary_player_00106
2190  0901              l_game_bonus_summary_player_00105:
2191  0901  79          	ld	a,c
2192  0902  C6 08       	add	a,0x08
2193  0904  32 00 00    	ld	(_s_lin0),a
2194  0907              l_game_bonus_summary_player_00106:
2195  0907  76          	halt
2196  0908  2A 00 00    	ld	hl,(_tmp_uc)
2197  090B  26 03       	ld	h,0x03
2198  090D  E5          	push	hl
2199  090E  CD 00 00    	call	__moduchar_callee
2200  0911  7D          	ld	a,l
2201  0912  87          	add	a, a
2202  0913  C6 0E       	add	a,0x0e
2203  0915  F5          	push	af
2204  0916  33          	inc	sp
2205  0917  3A 00 00    	ld	a,(_s_lin0)
2206  091A  57          	ld	d,a
2207  091B  1E B9       	ld	e,0xb9
2208  091D  D5          	push	de
2209  091E  CD 00 00    	call	_NIRVANAP_drawT_callee
2210  0921  21 50 00    	ld	hl,0x0050
2211  0924  E5          	push	hl
2212  0925  CD 00 00    	call	_player_score_add
2213  0928  F1          	pop	af
2214  0929  21 00 00    	ld	hl,_tmp_uc
2215  092C  34          	inc	(hl)
2216  092D  21 00 00    	ld	hl,_ay_effect_09
2217  0930  CD 00 00    	call	_ay_fx_play
2218  0933  CD 00 00    	call	_sound_coin
2219  0936  21 32 00    	ld	hl,0x0032
2220  0939  CD 00 00    	call	_z80_delay_ms_fastcall
2221  093C  18 A2       	jr	l_game_bonus_summary_player_00107
2222  093E              l_game_bonus_summary_player_00109:
2223  093E  21 5C 09    	ld	hl,___str_23
2224  0941  E5          	push	hl
2225  0942  2A 00 00    	ld	hl,(_s_lin1)
2226  0945  26 16       	ld	h,0x16
2227  0947  E5          	push	hl
2228  0948  CD 00 00    	call	_zx_print_str
2229  094B  F1          	pop	af
2230  094C  DD E1       	pop	ix
2231  094E  C9          	ret
2232  094F              ___str_21:
2233  094F  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2234  0955  00          	DEFB 0x00
2235  0956              ___str_22:
2236  0956  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2237  095B  00          	DEFB 0x00
2238  095C              ___str_23:
2239  095C  58 20 38 30 30 
                        	DEFM "X 800"
2240  0961  00          	DEFB 0x00
2241  0962              ;	---------------------------------
2242  0962              ; Function game_kill_all_sprites
2243  0962              ; ---------------------------------
2244  0962              _game_kill_all_sprites:
2245  0962  21 00 00    	ld	hl,_sprite
2246  0965  36 00       	ld	(hl),0x00
2247  0967              l_game_kill_all_sprites_00102:
2248  0967  3A 00 00    	ld	a,(_sprite)
2249  096A  F5          	push	af
2250  096B  33          	inc	sp
2251  096C  CD 00 00    	call	_spr_destroy
2252  096F  33          	inc	sp
2253  0970  21 00 00    	ld	hl,_sprite
2254  0973  7E          	ld	a,(hl)
2255  0974  3C          	inc	a
2256  0975  77          	ld	(hl),a
2257  0976  D6 08       	sub	a,0x08
2258  0978  38 ED       	jr	C,l_game_kill_all_sprites_00102
2259  097A  C9          	ret
2260  097B              ;	---------------------------------
2261  097B              ; Function game_check_maze
2262  097B              ; ---------------------------------
2263  097B              _game_check_maze:
2264  097B  CD 00 00    	call	___sdcc_enter_ix
2265  097E  3E 00       	ld	a,+((_lvl_1) & 0xFF)
2266  0980  DD 86 04    	add	a,(ix+4)
2267  0983  4F          	ld	c,a
2268  0984  3E 00       	ld	a,+((_lvl_1) / 256)
2269  0986  DD 8E 05    	adc	a,(ix+5)
2270  0989  47          	ld	b,a
2271  098A  0A          	ld	a,(bc)
2272  098B  D6 10       	sub	a,0x10
2273  098D  30 10       	jr	NC,l_game_check_maze_00103
2274  098F  DD 4E 04    	ld	c,(ix+4)
2275  0992  DD 46 05    	ld	b,(ix+5)
2276  0995  03          	inc	bc
2277  0996  21 00 00    	ld	hl,_lvl_1
2278  0999  09          	add	hl,bc
2279  099A  7E          	ld	a, (hl)
2280  099B  D6 10       	sub	a,0x10
2281  099D  38 04       	jr	C,l_game_check_maze_00104
2282  099F              l_game_check_maze_00103:
2283  099F  2E 00       	ld	l,0x00
2284  09A1  18 02       	jr	l_game_check_maze_00105
2285  09A3              l_game_check_maze_00104:
2286  09A3  2E 01       	ld	l,0x01
2287  09A5              l_game_check_maze_00105:
2288  09A5  DD E1       	pop	ix
2289  09A7  C9          	ret
2290  09A8              ;	---------------------------------
2291  09A8              ; Function game_enemy_add
2292  09A8              ; ---------------------------------
2293  09A8              _game_enemy_add:
2294  09A8  3A 00 00    	ld	a,(_game_type)
2295  09AB  D6 02       	sub	a,0x02
2296  09AD  20 05       	jr	NZ,l_game_enemy_add_00106
2297  09AF  CD F1 0A    	call	_game_enemy_rnd
2298  09B2  18 21       	jr	l_game_enemy_add_00107
2299  09B4              l_game_enemy_add_00106:
2300  09B4  3A 00 00    	ld	a,(_spr_count)
2301  09B7  D6 06       	sub	a,0x06
2302  09B9  30 1A       	jr	NC,l_game_enemy_add_00107
2303  09BB  21 64 00    	ld	hl,0x0064
2304  09BE  E5          	push	hl
2305  09BF  2A 00 00    	ld	hl,(_entry_time)
2306  09C2  E5          	push	hl
2307  09C3  CD BE 1C    	call	_game_check_time
2308  09C6  F1          	pop	af
2309  09C7  F1          	pop	af
2310  09C8  7D          	ld	a,l
2311  09C9  B7          	or	a, a
2312  09CA  28 09       	jr	Z,l_game_enemy_add_00107
2313  09CC  3A 00 00    	ld	a,(_phase_left)
2314  09CF  B7          	or	a, a
2315  09D0  28 03       	jr	Z,l_game_enemy_add_00107
2316  09D2  CD D8 09    	call	_game_enemy_quota
2317  09D5              l_game_enemy_add_00107:
2318  09D5  2E 00       	ld	l,0x00
2319  09D7  C9          	ret
2320  09D8              ;	---------------------------------
2321  09D8              ; Function game_enemy_quota
2322  09D8              ; ---------------------------------
2323  09D8              _game_enemy_quota:
2324  09D8  CD 00 00    	call	_rand
2325  09DB  7D          	ld	a, l
2326  09DC  E6 01       	and	a,0x01
2327  09DE  32 00 00    	ld	(_tmp),a
2328  09E1  3A 00 00    	ld	a,(_phase_pop)
2329  09E4  B7          	or	a, a
2330  09E5  28 06       	jr	Z,l_game_enemy_quota_00101
2331  09E7  3A 00 00    	ld	a,(_phase_left)
2332  09EA  3D          	dec	a
2333  09EB  20 05       	jr	NZ,l_game_enemy_quota_00102
2334  09ED              l_game_enemy_quota_00101:
2335  09ED  21 00 00    	ld	hl,_tmp
2336  09F0  36 00       	ld	(hl),0x00
2337  09F2              l_game_enemy_quota_00102:
2338  09F2  3A 00 00    	ld	a,(_phase_left)
2339  09F5  B7          	or	a, a
2340  09F6  28 55       	jr	Z,l_game_enemy_quota_00111
2341  09F8  3A 00 00    	ld	a,(_tmp)
2342  09FB  B7          	or	a, a
2343  09FC  20 4F       	jr	NZ,l_game_enemy_quota_00111
2344  09FE  01 00 00    	ld	bc,_phase_quota+0
2345  0A01  59          	ld	e, c
2346  0A02  50          	ld	d, b
2347  0A03  13          	inc	de
2348  0A04  13          	inc	de
2349  0A05  1A          	ld	a,(de)
2350  0A06  B7          	or	a, a
2351  0A07  28 13       	jr	Z,l_game_enemy_quota_00105
2352  0A09  D5          	push	de
2353  0A0A  3E 09       	ld	a,0x09
2354  0A0C  F5          	push	af
2355  0A0D  33          	inc	sp
2356  0A0E  CD 26 0B    	call	_game_enemy_add1
2357  0A11  33          	inc	sp
2358  0A12  D1          	pop	de
2359  0A13  1A          	ld	a,(de)
2360  0A14  C6 FF       	add	a,0xff
2361  0A16  12          	ld	(de),a
2362  0A17  2E 00       	ld	l,0x00
2363  0A19  C3 F0 0A    	jp	l_game_enemy_quota_00128
2364  0A1C              l_game_enemy_quota_00105:
2365  0A1C  59          	ld	e, c
2366  0A1D  50          	ld	d, b
2367  0A1E  13          	inc	de
2368  0A1F  1A          	ld	a,(de)
2369  0A20  B7          	or	a, a
2370  0A21  28 13       	jr	Z,l_game_enemy_quota_00107
2371  0A23  D5          	push	de
2372  0A24  3E 04       	ld	a,0x04
2373  0A26  F5          	push	af
2374  0A27  33          	inc	sp
2375  0A28  CD 26 0B    	call	_game_enemy_add1
2376  0A2B  33          	inc	sp
2377  0A2C  D1          	pop	de
2378  0A2D  1A          	ld	a,(de)
2379  0A2E  C6 FF       	add	a,0xff
2380  0A30  12          	ld	(de),a
2381  0A31  2E 00       	ld	l,0x00
2382  0A33  C3 F0 0A    	jp	l_game_enemy_quota_00128
2383  0A36              l_game_enemy_quota_00107:
2384  0A36  0A          	ld	a,(bc)
2385  0A37  B7          	or	a, a
2386  0A38  28 13       	jr	Z,l_game_enemy_quota_00111
2387  0A3A  C5          	push	bc
2388  0A3B  3E 01       	ld	a,0x01
2389  0A3D  F5          	push	af
2390  0A3E  33          	inc	sp
2391  0A3F  CD 26 0B    	call	_game_enemy_add1
2392  0A42  33          	inc	sp
2393  0A43  C1          	pop	bc
2394  0A44  0A          	ld	a,(bc)
2395  0A45  C6 FF       	add	a,0xff
2396  0A47  02          	ld	(bc),a
2397  0A48  2E 00       	ld	l,0x00
2398  0A4A  C3 F0 0A    	jp	l_game_enemy_quota_00128
2399  0A4D              l_game_enemy_quota_00111:
2400  0A4D  3A 00 00    	ld	a,(_phase_coins)
2401  0A50  B7          	or	a, a
2402  0A51  28 0D       	jr	Z,l_game_enemy_quota_00114
2403  0A53  3E 08       	ld	a,0x08
2404  0A55  F5          	push	af
2405  0A56  33          	inc	sp
2406  0A57  CD 26 0B    	call	_game_enemy_add1
2407  0A5A  33          	inc	sp
2408  0A5B  2E 00       	ld	l,0x00
2409  0A5D  C3 F0 0A    	jp	l_game_enemy_quota_00128
2410  0A60              l_game_enemy_quota_00114:
2411  0A60  CD 00 00    	call	_rand
2412  0A63  7D          	ld	a,l
2413  0A64  E6 03       	and	a,0x03
2414  0A66  44          	ld	b,h
2415  0A67  0E 00       	ld	c,0x00
2416  0A69  CB 79       	bit	7,c
2417  0A6B  C2 EE 0A    	jp	NZ,l_game_enemy_quota_00127
2418  0A6E  5F          	ld	e,a
2419  0A6F  3E 03       	ld	a,0x03
2420  0A71  BB          	cp	a, e
2421  0A72  3E 00       	ld	a,0x00
2422  0A74  99          	sbc	a, c
2423  0A75  E2 7A 0A    	jp	PO, l_game_enemy_quota_00184
2424  0A78  EE 80       	xor	a,0x80
2425  0A7A              l_game_enemy_quota_00184:
2426  0A7A  FA EE 0A    	jp	M,l_game_enemy_quota_00127
2427  0A7D  16 00       	ld	d,0x00
2428  0A7F  21 85 0A    	ld	hl,l_game_enemy_quota_00185
2429  0A82  19          	add	hl,de
2430  0A83  19          	add	hl,de
2431  0A84  E9          	jp	(hl)
2432  0A85              l_game_enemy_quota_00185:
2433  0A85  18 06       	jr	l_game_enemy_quota_00115
2434  0A87  18 16       	jr	l_game_enemy_quota_00118
2435  0A89  18 2F       	jr	l_game_enemy_quota_00121
2436  0A8B  18 48       	jr	l_game_enemy_quota_00124
2437  0A8D              l_game_enemy_quota_00115:
2438  0A8D  3E 07       	ld	a,0x07
2439  0A8F  21 00 00    	ld	hl,_phase_curr
2440  0A92  96          	sub	a, (hl)
2441  0A93  30 59       	jr	NC,l_game_enemy_quota_00127
2442  0A95  3E 07       	ld	a,0x07
2443  0A97  F5          	push	af
2444  0A98  33          	inc	sp
2445  0A99  CD 26 0B    	call	_game_enemy_add1
2446  0A9C  33          	inc	sp
2447  0A9D  18 4F       	jr	l_game_enemy_quota_00127
2448  0A9F              l_game_enemy_quota_00118:
2449  0A9F  2A 00 00    	ld	hl,(_game_time_fireball_start)
2450  0AA2  E5          	push	hl
2451  0AA3  21 00 00    	ld	hl,0x0000
2452  0AA6  E5          	push	hl
2453  0AA7  CD BE 1C    	call	_game_check_time
2454  0AAA  F1          	pop	af
2455  0AAB  F1          	pop	af
2456  0AAC  7D          	ld	a,l
2457  0AAD  B7          	or	a, a
2458  0AAE  28 3E       	jr	Z,l_game_enemy_quota_00127
2459  0AB0  3E 0B       	ld	a,0x0b
2460  0AB2  F5          	push	af
2461  0AB3  33          	inc	sp
2462  0AB4  CD 26 0B    	call	_game_enemy_add1
2463  0AB7  33          	inc	sp
2464  0AB8  18 34       	jr	l_game_enemy_quota_00127
2465  0ABA              l_game_enemy_quota_00121:
2466  0ABA  2A 00 00    	ld	hl,(_game_time_fireball_start)
2467  0ABD  E5          	push	hl
2468  0ABE  21 00 00    	ld	hl,0x0000
2469  0AC1  E5          	push	hl
2470  0AC2  CD BE 1C    	call	_game_check_time
2471  0AC5  F1          	pop	af
2472  0AC6  F1          	pop	af
2473  0AC7  7D          	ld	a,l
2474  0AC8  B7          	or	a, a
2475  0AC9  28 23       	jr	Z,l_game_enemy_quota_00127
2476  0ACB  3E 0B       	ld	a,0x0b
2477  0ACD  F5          	push	af
2478  0ACE  33          	inc	sp
2479  0ACF  CD 26 0B    	call	_game_enemy_add1
2480  0AD2  33          	inc	sp
2481  0AD3  18 19       	jr	l_game_enemy_quota_00127
2482  0AD5              l_game_enemy_quota_00124:
2483  0AD5  2A 00 00    	ld	hl,(_game_time_fireball_start)
2484  0AD8  E5          	push	hl
2485  0AD9  21 00 00    	ld	hl,0x0000
2486  0ADC  E5          	push	hl
2487  0ADD  CD BE 1C    	call	_game_check_time
2488  0AE0  F1          	pop	af
2489  0AE1  F1          	pop	af
2490  0AE2  7D          	ld	a,l
2491  0AE3  B7          	or	a, a
2492  0AE4  28 08       	jr	Z,l_game_enemy_quota_00127
2493  0AE6  3E 0A       	ld	a,0x0a
2494  0AE8  F5          	push	af
2495  0AE9  33          	inc	sp
2496  0AEA  CD 26 0B    	call	_game_enemy_add1
2497  0AED  33          	inc	sp
2498  0AEE              l_game_enemy_quota_00127:
2499  0AEE  2E 00       	ld	l,0x00
2500  0AF0              l_game_enemy_quota_00128:
2501  0AF0  C9          	ret
2502  0AF1              ;	---------------------------------
2503  0AF1              ; Function game_enemy_rnd
2504  0AF1              ; ---------------------------------
2505  0AF1              _game_enemy_rnd:
2506  0AF1  3A 00 00    	ld	a,(_spr_count)
2507  0AF4  D6 06       	sub	a,0x06
2508  0AF6  30 2B       	jr	NC,l_game_enemy_rnd_00102
2509  0AF8  21 64 00    	ld	hl,0x0064
2510  0AFB  E5          	push	hl
2511  0AFC  2A 00 00    	ld	hl,(_entry_time)
2512  0AFF  E5          	push	hl
2513  0B00  CD BE 1C    	call	_game_check_time
2514  0B03  F1          	pop	af
2515  0B04  F1          	pop	af
2516  0B05  7D          	ld	a,l
2517  0B06  B7          	or	a, a
2518  0B07  28 1A       	jr	Z,l_game_enemy_rnd_00102
2519  0B09  2A 00 00    	ld	hl,(_curr_time)
2520  0B0C  22 00 00    	ld	(_entry_time),hl
2521  0B0F  CD 00 00    	call	_rand
2522  0B12  01 0B 00    	ld	bc,0x000b
2523  0B15  C5          	push	bc
2524  0B16  E5          	push	hl
2525  0B17  CD 00 00    	call	__modsint_callee
2526  0B1A  45          	ld	b,l
2527  0B1B  4C          	ld	c,h
2528  0B1C  04          	inc	b
2529  0B1D  C5          	push	bc
2530  0B1E  33          	inc	sp
2531  0B1F  CD 26 0B    	call	_game_enemy_add1
2532  0B22  33          	inc	sp
2533  0B23              l_game_enemy_rnd_00102:
2534  0B23  2E 00       	ld	l,0x00
2535  0B25  C9          	ret
2536  0B26              ;	---------------------------------
2537  0B26              ; Function game_enemy_add1
2538  0B26              ; ---------------------------------
2539  0B26              _game_enemy_add1:
2540  0B26  CD 00 00    	call	___sdcc_enter_ix
2541  0B29  DD 7E 04    	ld	a,(ix+4)
2542  0B2C  D6 03       	sub	a,0x03
2543  0B2E  28 58       	jr	Z,l_game_enemy_add1_00101
2544  0B30  DD 7E 04    	ld	a,(ix+4)
2545  0B33  D6 06       	sub	a,0x06
2546  0B35  28 51       	jr	Z,l_game_enemy_add1_00101
2547  0B37  DD 7E 04    	ld	a,(ix+4)
2548  0B3A  D6 0A       	sub	a,0x0a
2549  0B3C  20 04       	jr	NZ,l_game_enemy_add1_00197
2550  0B3E  3E 01       	ld	a,0x01
2551  0B40  18 01       	jr	l_game_enemy_add1_00198
2552  0B42              l_game_enemy_add1_00197:
2553  0B42  AF          	xor	a,a
2554  0B43              l_game_enemy_add1_00198:
2555  0B43  4F          	ld	c,a
2556  0B44  B7          	or	a, a
2557  0B45  28 0E       	jr	Z,l_game_enemy_add1_00107
2558  0B47  C5          	push	bc
2559  0B48  3E 0A       	ld	a,0x0a
2560  0B4A  F5          	push	af
2561  0B4B  33          	inc	sp
2562  0B4C  CD 80 0C    	call	_game_enemy_add_get_index
2563  0B4F  33          	inc	sp
2564  0B50  C1          	pop	bc
2565  0B51  5D          	ld	e,l
2566  0B52  1C          	inc	e
2567  0B53  20 33       	jr	NZ,l_game_enemy_add1_00101
2568  0B55              l_game_enemy_add1_00107:
2569  0B55  DD 7E 04    	ld	a,(ix+4)
2570  0B58  D6 0B       	sub	a,0x0b
2571  0B5A  20 04       	jr	NZ,l_game_enemy_add1_00201
2572  0B5C  3E 01       	ld	a,0x01
2573  0B5E  18 01       	jr	l_game_enemy_add1_00202
2574  0B60              l_game_enemy_add1_00201:
2575  0B60  AF          	xor	a,a
2576  0B61              l_game_enemy_add1_00202:
2577  0B61  47          	ld	b,a
2578  0B62  B7          	or	a, a
2579  0B63  28 0E       	jr	Z,l_game_enemy_add1_00109
2580  0B65  C5          	push	bc
2581  0B66  3E 0B       	ld	a,0x0b
2582  0B68  F5          	push	af
2583  0B69  33          	inc	sp
2584  0B6A  CD 80 0C    	call	_game_enemy_add_get_index
2585  0B6D  33          	inc	sp
2586  0B6E  C1          	pop	bc
2587  0B6F  5D          	ld	e,l
2588  0B70  1C          	inc	e
2589  0B71  20 15       	jr	NZ,l_game_enemy_add1_00101
2590  0B73              l_game_enemy_add1_00109:
2591  0B73  DD 7E 04    	ld	a,(ix+4)
2592  0B76  D6 07       	sub	a,0x07
2593  0B78  20 13       	jr	NZ,l_game_enemy_add1_00102
2594  0B7A  C5          	push	bc
2595  0B7B  3E 07       	ld	a,0x07
2596  0B7D  F5          	push	af
2597  0B7E  33          	inc	sp
2598  0B7F  CD 80 0C    	call	_game_enemy_add_get_index
2599  0B82  33          	inc	sp
2600  0B83  C1          	pop	bc
2601  0B84  5D          	ld	e,l
2602  0B85  1C          	inc	e
2603  0B86  28 05       	jr	Z,l_game_enemy_add1_00102
2604  0B88              l_game_enemy_add1_00101:
2605  0B88  2E 00       	ld	l,0x00
2606  0B8A  C3 7D 0C    	jp	l_game_enemy_add1_00133
2607  0B8D              l_game_enemy_add1_00102:
2608  0B8D  21 00 00    	ld	hl,_phase_pop
2609  0B90  34          	inc	(hl)
2610  0B91  C5          	push	bc
2611  0B92  CD 00 00    	call	_sound_enter_enemy
2612  0B95  AF          	xor	a, a
2613  0B96  F5          	push	af
2614  0B97  33          	inc	sp
2615  0B98  CD 80 0C    	call	_game_enemy_add_get_index
2616  0B9B  33          	inc	sp
2617  0B9C  C1          	pop	bc
2618  0B9D  7D          	ld	a,l
2619  0B9E  32 00 00    	ld	(_tmp),a
2620  0BA1  C5          	push	bc
2621  0BA2  CD 00 00    	call	_rand
2622  0BA5  EB          	ex	de,hl
2623  0BA6  C1          	pop	bc
2624  0BA7  7B          	ld	a,e
2625  0BA8  E6 01       	and	a,0x01
2626  0BAA  32 00 00    	ld	(_tmp0),a
2627  0BAD  3D          	dec	a
2628  0BAE  20 1C       	jr	NZ,l_game_enemy_add1_00115
2629  0BB0  21 00 00    	ld	hl,_s_lin0
2630  0BB3  36 10       	ld	(hl),0x10
2631  0BB5  21 00 00    	ld	hl,_s_col0
2632  0BB8  36 04       	ld	(hl),0x04
2633  0BBA  21 00 00    	ld	hl,_s_col1
2634  0BBD  36 02       	ld	(hl),0x02
2635  0BBF  79          	ld	a,c
2636  0BC0  B7          	or	a, a
2637  0BC1  28 02       	jr	Z,l_game_enemy_add1_00111
2638  0BC3  36 03       	ld	(hl),0x03
2639  0BC5              l_game_enemy_add1_00111:
2640  0BC5  21 00 00    	ld	hl,_tmp1
2641  0BC8  36 01       	ld	(hl),0x01
2642  0BCA  18 1A       	jr	l_game_enemy_add1_00116
2643  0BCC              l_game_enemy_add1_00115:
2644  0BCC  21 00 00    	ld	hl,_s_lin0
2645  0BCF  36 10       	ld	(hl),0x10
2646  0BD1  21 00 00    	ld	hl,_s_col0
2647  0BD4  36 1A       	ld	(hl),0x1a
2648  0BD6  21 00 00    	ld	hl,_s_col1
2649  0BD9  36 1E       	ld	(hl),0x1e
2650  0BDB  79          	ld	a,c
2651  0BDC  B7          	or	a, a
2652  0BDD  28 02       	jr	Z,l_game_enemy_add1_00113
2653  0BDF  36 1C       	ld	(hl),0x1c
2654  0BE1              l_game_enemy_add1_00113:
2655  0BE1  21 00 00    	ld	hl,_tmp1
2656  0BE4  36 FF       	ld	(hl),0xff
2657  0BE6              l_game_enemy_add1_00116:
2658  0BE6  DD 7E 04    	ld	a,(ix+4)
2659  0BE9  D6 08       	sub	a,0x08
2660  0BEB  20 04       	jr	NZ,l_game_enemy_add1_00210
2661  0BED  3E 01       	ld	a,0x01
2662  0BEF  18 01       	jr	l_game_enemy_add1_00211
2663  0BF1              l_game_enemy_add1_00210:
2664  0BF1  AF          	xor	a,a
2665  0BF2              l_game_enemy_add1_00211:
2666  0BF2  5F          	ld	e,a
2667  0BF3  B7          	or	a, a
2668  0BF4  28 04       	jr	Z,l_game_enemy_add1_00118
2669  0BF6  21 00 00    	ld	hl,_phase_coins
2670  0BF9  35          	dec	(hl)
2671  0BFA              l_game_enemy_add1_00118:
2672  0BFA  21 00 00    	ld	hl,_tmp_uc
2673  0BFD  36 00       	ld	(hl),0x00
2674  0BFF  78          	ld	a,b
2675  0C00  B7          	or	a,a
2676  0C01  20 03       	jr	NZ,l_game_enemy_add1_00125
2677  0C03  B1          	or	a,c
2678  0C04  28 35       	jr	Z,l_game_enemy_add1_00126
2679  0C06              l_game_enemy_add1_00125:
2680  0C06  D5          	push	de
2681  0C07  CD 00 00    	call	_rand
2682  0C0A  01 03 00    	ld	bc,0x0003
2683  0C0D  C5          	push	bc
2684  0C0E  E5          	push	hl
2685  0C0F  CD 00 00    	call	__modsint_callee
2686  0C12  D1          	pop	de
2687  0C13  4D          	ld	c,l
2688  0C14  21 00 00    	ld	hl,_tmp_uc
2689  0C17  71          	ld	(hl),c
2690  0C18  79          	ld	a,c
2691  0C19  B7          	or	a, a
2692  0C1A  20 02       	jr	NZ,l_game_enemy_add1_00120
2693  0C1C  36 10       	ld	(hl),0x10
2694  0C1E              l_game_enemy_add1_00120:
2695  0C1E  3A 00 00    	ld	a,(_tmp_uc)
2696  0C21  3D          	dec	a
2697  0C22  20 05       	jr	NZ,l_game_enemy_add1_00122
2698  0C24  21 00 00    	ld	hl,_tmp_uc
2699  0C27  36 38       	ld	(hl),0x38
2700  0C29              l_game_enemy_add1_00122:
2701  0C29  3A 00 00    	ld	a,(_tmp_uc)
2702  0C2C  D6 02       	sub	a,0x02
2703  0C2E  20 05       	jr	NZ,l_game_enemy_add1_00124
2704  0C30  21 00 00    	ld	hl,_tmp_uc
2705  0C33  36 84       	ld	(hl),0x84
2706  0C35              l_game_enemy_add1_00124:
2707  0C35  3A 00 00    	ld	a,(_s_col1)
2708  0C38  32 00 00    	ld	(_s_col0),a
2709  0C3B              l_game_enemy_add1_00126:
2710  0C3B  CD 00 00    	call	_ay_is_playing
2711  0C3E  7D          	ld	a, l
2712  0C3F  D6 02       	sub	a,0x02
2713  0C41  30 12       	jr	NC,l_game_enemy_add1_00132
2714  0C43  7B          	ld	a,e
2715  0C44  B7          	or	a, a
2716  0C45  20 08       	jr	NZ,l_game_enemy_add1_00129
2717  0C47  21 00 00    	ld	hl,_ay_effect_04
2718  0C4A  CD 00 00    	call	_ay_fx_play
2719  0C4D  18 06       	jr	l_game_enemy_add1_00132
2720  0C4F              l_game_enemy_add1_00129:
2721  0C4F  21 00 00    	ld	hl,_ay_effect_07
2722  0C52  CD 00 00    	call	_ay_fx_play
2723  0C55              l_game_enemy_add1_00132:
2724  0C55  2A 00 00    	ld	hl,(_curr_time)
2725  0C58  22 00 00    	ld	(_entry_time),hl
2726  0C5B  3A 00 00    	ld	a,(_s_lin0)
2727  0C5E  21 00 00    	ld	hl,_tmp_uc
2728  0C61  86          	add	a, (hl)
2729  0C62  47          	ld	b,a
2730  0C63  2A FF FF    	ld	hl,(_tmp1-1)
2731  0C66  DD 6E 04    	ld	l,(ix+4)
2732  0C69  3A 00 00    	ld	a,(_s_col0)
2733  0C6C  E5          	push	hl
2734  0C6D  48          	ld	c,b
2735  0C6E  47          	ld	b,a
2736  0C6F  3A 00 00    	ld	a,(_tmp)
2737  0C72  C5          	push	bc
2738  0C73  F5          	push	af
2739  0C74  33          	inc	sp
2740  0C75  CD 00 00    	call	_enemy_init
2741  0C78  F1          	pop	af
2742  0C79  F1          	pop	af
2743  0C7A  33          	inc	sp
2744  0C7B  2E 00       	ld	l,0x00
2745  0C7D              l_game_enemy_add1_00133:
2746  0C7D  DD E1       	pop	ix
2747  0C7F  C9          	ret
2748  0C80              ;	---------------------------------
2749  0C80              ; Function game_enemy_add_get_index
2750  0C80              ; ---------------------------------
2751  0C80              _game_enemy_add_get_index:
2752  0C80  CD 00 00    	call	___sdcc_enter_ix
2753  0C83  21 00 00    	ld	hl,_enemies
2754  0C86  36 00       	ld	(hl),0x00
2755  0C88              l_game_enemy_add_get_index_00104:
2756  0C88  3E 00       	ld	a,+((_class) & 0xFF)
2757  0C8A  21 00 00    	ld	hl,_enemies
2758  0C8D  86          	add	a, (hl)
2759  0C8E  4F          	ld	c,a
2760  0C8F  3E 00       	ld	a,+((_class) / 256)
2761  0C91  CE 00       	adc	a,0x00
2762  0C93  47          	ld	b,a
2763  0C94  0A          	ld	a,(bc)
2764  0C95  4F          	ld	c,a
2765  0C96  DD 7E 04    	ld	a,(ix+4)
2766  0C99  91          	sub	a, c
2767  0C9A  20 03       	jr	NZ,l_game_enemy_add_get_index_00105
2768  0C9C  6E          	ld	l,(hl)
2769  0C9D  18 0B       	jr	l_game_enemy_add_get_index_00106
2770  0C9F              l_game_enemy_add_get_index_00105:
2771  0C9F  21 00 00    	ld	hl,_enemies
2772  0CA2  34          	inc	(hl)
2773  0CA3  3E 05       	ld	a,0x05
2774  0CA5  96          	sub	a, (hl)
2775  0CA6  30 E0       	jr	NC,l_game_enemy_add_get_index_00104
2776  0CA8  2E FF       	ld	l,0xff
2777  0CAA              l_game_enemy_add_get_index_00106:
2778  0CAA  DD E1       	pop	ix
2779  0CAC  C9          	ret
2780  0CAD              ;	---------------------------------
2781  0CAD              ; Function game_freeze
2782  0CAD              ; ---------------------------------
2783  0CAD              _game_freeze:
2784  0CAD  CD 00 00    	call	___sdcc_enter_ix
2785  0CB0  DD 7E 05    	ld	a,(ix+5)
2786  0CB3  D6 1F       	sub	a,0x1f
2787  0CB5  30 5F       	jr	NC,l_game_freeze_00107
2788  0CB7  21 00 00    	ld	hl,_tmp
2789  0CBA  36 01       	ld	(hl),0x01
2790  0CBC  DD 66 05    	ld	h,(ix+5)
2791  0CBF  DD 6E 04    	ld	l,(ix+4)
2792  0CC2  E5          	push	hl
2793  0CC3  CD 00 00    	call	_game_calc_index
2794  0CC6  F1          	pop	af
2795  0CC7  22 00 00    	ld	(_index1),hl
2796  0CCA  01 00 00    	ld	bc,_lvl_1
2797  0CCD  09          	add	hl,bc
2798  0CCE  7E          	ld	a,(hl)
2799  0CCF  D6 12       	sub	a,0x12
2800  0CD1  20 43       	jr	NZ,l_game_freeze_00107
2801  0CD3  36 14       	ld	(hl),0x14
2802  0CD5  76          	halt
2803  0CD6  DD 7E 05    	ld	a,(ix+5)
2804  0CD9  F5          	push	af
2805  0CDA  33          	inc	sp
2806  0CDB  DD 56 04    	ld	d,(ix+4)
2807  0CDE  1E 8B       	ld	e,0x8b
2808  0CE0  D5          	push	de
2809  0CE1  CD 00 00    	call	_NIRVANAP_drawT_callee
2810  0CE4  ED 4B 00 00 	ld	bc,(_index1)
2811  0CE8  03          	inc	bc
2812  0CE9  21 00 00    	ld	hl,_lvl_1
2813  0CEC  09          	add	hl,bc
2814  0CED  4E          	ld	c,(hl)
2815  0CEE  DD 46 05    	ld	b,(ix+5)
2816  0CF1  04          	inc	b
2817  0CF2  79          	ld	a,c
2818  0CF3  B7          	or	a, a
2819  0CF4  20 0C       	jr	NZ,l_game_freeze_00102
2820  0CF6  C5          	push	bc
2821  0CF7  DD 4E 04    	ld	c,(ix+4)
2822  0CFA  C5          	push	bc
2823  0CFB  AF          	xor	a, a
2824  0CFC  F5          	push	af
2825  0CFD  33          	inc	sp
2826  0CFE  CD 00 00    	call	_NIRVANAP_fillT_callee
2827  0D01  C1          	pop	bc
2828  0D02              l_game_freeze_00102:
2829  0D02  DD 4E 04    	ld	c,(ix+4)
2830  0D05  C5          	push	bc
2831  0D06  CD AD 0C    	call	_game_freeze
2832  0D09  F1          	pop	af
2833  0D0A  DD 46 05    	ld	b,(ix+5)
2834  0D0D  05          	dec	b
2835  0D0E  DD 4E 04    	ld	c,(ix+4)
2836  0D11  C5          	push	bc
2837  0D12  CD AD 0C    	call	_game_freeze
2838  0D15  F1          	pop	af
2839  0D16              l_game_freeze_00107:
2840  0D16  DD E1       	pop	ix
2841  0D18  C9          	ret
2842  0D19              ;	---------------------------------
2843  0D19              ; Function game_unfreeze_all
2844  0D19              ; ---------------------------------
2845  0D19              _game_unfreeze_all:
2846  0D19  21 C0 00    	ld	hl,0x00c0
2847  0D1C  22 00 00    	ld	(_index1),hl
2848  0D1F              l_game_unfreeze_all_00104:
2849  0D1F  01 00 00    	ld	bc,_lvl_1
2850  0D22  2A 00 00    	ld	hl,(_index1)
2851  0D25  09          	add	hl,bc
2852  0D26  7E          	ld	a,(hl)
2853  0D27  D6 14       	sub	a,0x14
2854  0D29  20 02       	jr	NZ,l_game_unfreeze_all_00105
2855  0D2B  36 12       	ld	(hl),0x12
2856  0D2D              l_game_unfreeze_all_00105:
2857  0D2D  21 00 00    	ld	hl,_index1
2858  0D30  34          	inc	(hl)
2859  0D31  20 02       	jr	NZ,l_game_unfreeze_all_00118
2860  0D33  23          	inc	hl
2861  0D34  34          	inc	(hl)
2862  0D35              l_game_unfreeze_all_00118:
2863  0D35  3E 20       	ld	a,0x20
2864  0D37  21 00 00    	ld	hl,_index1
2865  0D3A  BE          	cp	a, (hl)
2866  0D3B  3E 02       	ld	a,0x02
2867  0D3D  23          	inc	hl
2868  0D3E  9E          	sbc	a, (hl)
2869  0D3F  30 DE       	jr	NC,l_game_unfreeze_all_00104
2870  0D41  C9          	ret
2871  0D42              ;	---------------------------------
2872  0D42              ; Function game_freeze_all
2873  0D42              ; ---------------------------------
2874  0D42              _game_freeze_all:
2875  0D42  21 C0 00    	ld	hl,0x00c0
2876  0D45  22 00 00    	ld	(_index1),hl
2877  0D48              l_game_freeze_all_00104:
2878  0D48  01 00 00    	ld	bc,_lvl_1
2879  0D4B  2A 00 00    	ld	hl,(_index1)
2880  0D4E  09          	add	hl,bc
2881  0D4F  7E          	ld	a,(hl)
2882  0D50  D6 12       	sub	a,0x12
2883  0D52  20 02       	jr	NZ,l_game_freeze_all_00105
2884  0D54  36 14       	ld	(hl),0x14
2885  0D56              l_game_freeze_all_00105:
2886  0D56  21 00 00    	ld	hl,_index1
2887  0D59  34          	inc	(hl)
2888  0D5A  20 02       	jr	NZ,l_game_freeze_all_00118
2889  0D5C  23          	inc	hl
2890  0D5D  34          	inc	(hl)
2891  0D5E              l_game_freeze_all_00118:
2892  0D5E  3E 20       	ld	a,0x20
2893  0D60  21 00 00    	ld	hl,_index1
2894  0D63  BE          	cp	a, (hl)
2895  0D64  3E 02       	ld	a,0x02
2896  0D66  23          	inc	hl
2897  0D67  9E          	sbc	a, (hl)
2898  0D68  30 DE       	jr	NC,l_game_freeze_all_00104
2899  0D6A  C9          	ret
2900  0D6B              ;	---------------------------------
2901  0D6B              ; Function game_print_score
2902  0D6B              ; ---------------------------------
2903  0D6B              _game_print_score:
2904  0D6B  21 00 00    	ld	hl,_screen_ink
2905  0D6E  36 07       	ld	(hl),0x07
2906  0D70  21 00 00    	ld	hl,_screen_paper
2907  0D73  36 00       	ld	(hl),0x00
2908  0D75  2A 00 00    	ld	hl,(_player_score)
2909  0D78  E5          	push	hl
2910  0D79  21 00 03    	ld	hl,0x0300
2911  0D7C  E5          	push	hl
2912  0D7D  CD 00 00    	call	_zx_print_int
2913  0D80  2A 00 00    	ld	hl,(_game_score_top)
2914  0D83  E5          	push	hl
2915  0D84  21 00 0E    	ld	hl,0x0e00
2916  0D87  E5          	push	hl
2917  0D88  CD 00 00    	call	_zx_print_int
2918  0D8B  3A 00 00    	ld	a,(_game_two_player)
2919  0D8E  B7          	or	a, a
2920  0D8F  C8          	ret	Z
2921  0D90  2A 02 00    	ld	hl, (_player_score + 2)
2922  0D93  E5          	push	hl
2923  0D94  21 00 18    	ld	hl,0x1800
2924  0D97  E5          	push	hl
2925  0D98  CD 00 00    	call	_zx_print_int
2926  0D9B  C9          	ret
2927  0D9C              ;	---------------------------------
2928  0D9C              ; Function game_paint_attrib
2929  0D9C              ; ---------------------------------
2930  0D9C              _game_paint_attrib:
2931  0D9C  CD 00 00    	call	___sdcc_enter_ix
2932  0D9F  DD 7E 04    	ld	a,(ix+4)
2933  0DA2  32 00 00    	ld	(_tmp0),a
2934  0DA5              l_game_paint_attrib_00103:
2935  0DA5  3E 13       	ld	a,0x13
2936  0DA7  21 00 00    	ld	hl,_tmp0
2937  0DAA  96          	sub	a, (hl)
2938  0DAB  38 19       	jr	C,l_game_paint_attrib_00105
2939  0DAD  7E          	ld	a,(hl)
2940  0DAE  07          	rlca
2941  0DAF  07          	rlca
2942  0DB0  07          	rlca
2943  0DB1  E6 F8       	and	a,0xf8
2944  0DB3  C6 08       	add	a,0x08
2945  0DB5  F5          	push	af
2946  0DB6  33          	inc	sp
2947  0DB7  21 01 1F    	ld	hl,0x1f01
2948  0DBA  E5          	push	hl
2949  0DBB  CD C9 0D    	call	_game_paint_attrib_lin
2950  0DBE  F1          	pop	af
2951  0DBF  33          	inc	sp
2952  0DC0  21 00 00    	ld	hl,_tmp0
2953  0DC3  34          	inc	(hl)
2954  0DC4  18 DF       	jr	l_game_paint_attrib_00103
2955  0DC6              l_game_paint_attrib_00105:
2956  0DC6  DD E1       	pop	ix
2957  0DC8  C9          	ret
2958  0DC9              ;	---------------------------------
2959  0DC9              ; Function game_paint_attrib_lin
2960  0DC9              ; ---------------------------------
2961  0DC9              _game_paint_attrib_lin:
2962  0DC9  CD 00 00    	call	___sdcc_enter_ix
2963  0DCC  DD 7E 04    	ld	a,(ix+4)
2964  0DCF  32 00 00    	ld	(_tmp_uc),a
2965  0DD2              l_game_paint_attrib_lin_00103:
2966  0DD2  21 00 00    	ld	hl,_tmp_uc
2967  0DD5  7E          	ld	a,(hl)
2968  0DD6  DD 96 05    	sub	a,(ix+5)
2969  0DD9  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2970  0DDB  66          	ld	h,(hl)
2971  0DDC  DD 6E 06    	ld	l,(ix+6)
2972  0DDF  E5          	push	hl
2973  0DE0  21 00 00    	ld	hl,_attrib
2974  0DE3  E5          	push	hl
2975  0DE4  CD 00 00    	call	_NIRVANAP_paintC_callee
2976  0DE7  21 00 00    	ld	hl,_tmp_uc
2977  0DEA  34          	inc	(hl)
2978  0DEB  18 E5       	jr	l_game_paint_attrib_lin_00103
2979  0DED              l_game_paint_attrib_lin_00105:
2980  0DED  DD E1       	pop	ix
2981  0DEF  C9          	ret
2982  0DF0              ;	---------------------------------
2983  0DF0              ; Function game_paint_attrib_lin_h
2984  0DF0              ; ---------------------------------
2985  0DF0              _game_paint_attrib_lin_h:
2986  0DF0  CD 00 00    	call	___sdcc_enter_ix
2987  0DF3  DD 7E 04    	ld	a,(ix+4)
2988  0DF6  32 00 00    	ld	(_tmp_uc),a
2989  0DF9              l_game_paint_attrib_lin_h_00103:
2990  0DF9  21 00 00    	ld	hl,_tmp_uc
2991  0DFC  7E          	ld	a,(hl)
2992  0DFD  DD 96 05    	sub	a,(ix+5)
2993  0E00  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2994  0E02  66          	ld	h,(hl)
2995  0E03  DD 6E 06    	ld	l,(ix+6)
2996  0E06  E5          	push	hl
2997  0E07  21 00 00    	ld	hl,_attrib_hl
2998  0E0A  E5          	push	hl
2999  0E0B  CD 00 00    	call	_NIRVANAP_paintC_callee
3000  0E0E  21 00 00    	ld	hl,_tmp_uc
3001  0E11  34          	inc	(hl)
3002  0E12  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3003  0E14              l_game_paint_attrib_lin_h_00105:
3004  0E14  DD E1       	pop	ix
3005  0E16  C9          	ret
3006  0E17              ;	---------------------------------
3007  0E17              ; Function game_menu_config
3008  0E17              ; ---------------------------------
3009  0E17              _game_menu_config:
3010  0E17  CD 00 00    	call	___sdcc_enter_ix
3011  0E1A  F5          	push	af
3012  0E1B  3B          	dec	sp
3013  0E1C  3E 0B       	ld	a,0x0b
3014  0E1E  F5          	push	af
3015  0E1F  33          	inc	sp
3016  0E20  CD 9C 0D    	call	_game_paint_attrib
3017  0E23  33          	inc	sp
3018  0E24  DD 36 FD 01 	ld	(ix-3),0x01
3019  0E28              l_game_menu_config_00116:
3020  0E28  DD 7E FD    	ld	a,(ix-3)
3021  0E2B  B7          	or	a, a
3022  0E2C  CA 8B 0F    	jp	Z,l_game_menu_config_00119
3023  0E2F              l_game_menu_config_00101:
3024  0E2F  21 00 00    	ld	hl,_k1
3025  0E32  E5          	push	hl
3026  0E33  2A 00 00    	ld	hl,(_joyfunc1)
3027  0E36  CD 00 00    	call	___sdcc_call_hl
3028  0E39  F1          	pop	af
3029  0E3A  7C          	ld	a,h
3030  0E3B  B5          	or	a,l
3031  0E3C  20 F1       	jr	NZ,l_game_menu_config_00101
3032  0E3E  3A 00 00    	ld	a,(_spec128)
3033  0E41  B7          	or	a,a
3034  0E42  28 0A       	jr	Z,l_game_menu_config_00121
3035  0E44  DD 36 FE 90 	ld	(ix-2),+((___str_24) & 0xFF)
3036  0E48  DD 36 FF 0F 	ld	(ix-1),+((___str_24) / 256)
3037  0E4C  18 08       	jr	l_game_menu_config_00122
3038  0E4E              l_game_menu_config_00121:
3039  0E4E  DD 36 FE 9B 	ld	(ix-2),+((___str_25) & 0xFF)
3040  0E52  DD 36 FF 0F 	ld	(ix-1),+((___str_25) / 256)
3041  0E56              l_game_menu_config_00122:
3042  0E56  DD 4E FE    	ld	c,(ix-2)
3043  0E59  DD 46 FF    	ld	b,(ix-1)
3044  0E5C  C5          	push	bc
3045  0E5D  21 0E 0A    	ld	hl,0x0a0e
3046  0E60  E5          	push	hl
3047  0E61  CD 00 00    	call	_zx_print_str
3048  0E64  21 A6 0F    	ld	hl,___str_26
3049  0E67  E5          	push	hl
3050  0E68  21 0F 0A    	ld	hl,0x0a0f
3051  0E6B  E5          	push	hl
3052  0E6C  CD 00 00    	call	_zx_print_str
3053  0E6F  21 B1 0F    	ld	hl,___str_27
3054  0E72  E5          	push	hl
3055  0E73  21 10 0A    	ld	hl,0x0a10
3056  0E76  E5          	push	hl
3057  0E77  CD 00 00    	call	_zx_print_str
3058  0E7A  21 BC 0F    	ld	hl,___str_28
3059  0E7D  E5          	push	hl
3060  0E7E  21 11 0A    	ld	hl,0x0a11
3061  0E81  E5          	push	hl
3062  0E82  CD 00 00    	call	_zx_print_str
3063  0E85  21 C7 0F    	ld	hl,___str_29
3064  0E88  E5          	push	hl
3065  0E89  21 12 0A    	ld	hl,0x0a12
3066  0E8C  E5          	push	hl
3067  0E8D  CD 00 00    	call	_zx_print_str
3068  0E90  3A 00 00    	ld	a,(_game_sound)
3069  0E93  E6 05       	and	a,0x05
3070  0E95  28 05       	jr	Z,l_game_menu_config_00123
3071  0E97  01 D2 0F    	ld	bc,___str_30
3072  0E9A  18 03       	jr	l_game_menu_config_00124
3073  0E9C              l_game_menu_config_00123:
3074  0E9C  01 D6 0F    	ld	bc,___str_31
3075  0E9F              l_game_menu_config_00124:
3076  0E9F  C5          	push	bc
3077  0EA0  21 0E 14    	ld	hl,0x140e
3078  0EA3  E5          	push	hl
3079  0EA4  CD 00 00    	call	_zx_print_str
3080  0EA7  3E 02       	ld	a,0x02
3081  0EA9  21 00 00    	ld	hl,_game_type
3082  0EAC  96          	sub	a, (hl)
3083  0EAD  38 34       	jr	C,l_game_menu_config_00107
3084  0EAF  5E          	ld	e,(hl)
3085  0EB0  16 00       	ld	d,0x00
3086  0EB2  21 B8 0E    	ld	hl,l_game_menu_config_00164
3087  0EB5  19          	add	hl,de
3088  0EB6  19          	add	hl,de
3089  0EB7  E9          	jp	(hl)
3090  0EB8              l_game_menu_config_00164:
3091  0EB8  18 04       	jr	l_game_menu_config_00104
3092  0EBA  18 0F       	jr	l_game_menu_config_00105
3093  0EBC  18 1A       	jr	l_game_menu_config_00106
3094  0EBE              l_game_menu_config_00104:
3095  0EBE  21 DA 0F    	ld	hl,___str_32
3096  0EC1  E5          	push	hl
3097  0EC2  21 0F 14    	ld	hl,0x140f
3098  0EC5  E5          	push	hl
3099  0EC6  CD 00 00    	call	_zx_print_str
3100  0EC9  18 18       	jr	l_game_menu_config_00107
3101  0ECB              l_game_menu_config_00105:
3102  0ECB  21 DE 0F    	ld	hl,___str_33
3103  0ECE  E5          	push	hl
3104  0ECF  21 0F 14    	ld	hl,0x140f
3105  0ED2  E5          	push	hl
3106  0ED3  CD 00 00    	call	_zx_print_str
3107  0ED6  18 0B       	jr	l_game_menu_config_00107
3108  0ED8              l_game_menu_config_00106:
3109  0ED8  21 E2 0F    	ld	hl,___str_34
3110  0EDB  E5          	push	hl
3111  0EDC  21 0F 14    	ld	hl,0x140f
3112  0EDF  E5          	push	hl
3113  0EE0  CD 00 00    	call	_zx_print_str
3114  0EE3              l_game_menu_config_00107:
3115  0EE3  2A 00 00    	ld	hl,(_player_joy)
3116  0EE6  29          	add	hl, hl
3117  0EE7  11 00 00    	ld	de,_joynames
3118  0EEA  19          	add	hl,de
3119  0EEB  4E          	ld	c,(hl)
3120  0EEC  23          	inc	hl
3121  0EED  46          	ld	b,(hl)
3122  0EEE  C5          	push	bc
3123  0EEF  21 10 14    	ld	hl,0x1410
3124  0EF2  E5          	push	hl
3125  0EF3  CD 00 00    	call	_zx_print_str
3126  0EF6  2A 02 00    	ld	hl, (_player_joy + 2)
3127  0EF9  29          	add	hl, hl
3128  0EFA  11 00 00    	ld	de,_joynames
3129  0EFD  19          	add	hl,de
3130  0EFE  4E          	ld	c,(hl)
3131  0EFF  23          	inc	hl
3132  0F00  46          	ld	b,(hl)
3133  0F01  C5          	push	bc
3134  0F02  21 11 14    	ld	hl,0x1411
3135  0F05  E5          	push	hl
3136  0F06  CD 00 00    	call	_zx_print_str
3137  0F09  21 00 00    	ld	hl,0x0000
3138  0F0C  E5          	push	hl
3139  0F0D  21 0E 12    	ld	hl,0x120e
3140  0F10  E5          	push	hl
3141  0F11  21 0A 01    	ld	hl,0x010a
3142  0F14  E5          	push	hl
3143  0F15  CD EA 12    	call	_game_menu_handle
3144  0F18  F1          	pop	af
3145  0F19  F1          	pop	af
3146  0F1A  F1          	pop	af
3147  0F1B  7D          	ld	a,l
3148  0F1C  32 00 00    	ld	(_game_menu_sel),a
3149  0F1F  21 00 00    	ld	hl,_ay_effect_10
3150  0F22  CD 00 00    	call	_ay_fx_play
3151  0F25  CD 00 00    	call	_sound_coin
3152  0F28  3E 04       	ld	a,0x04
3153  0F2A  21 00 00    	ld	hl,_game_menu_sel
3154  0F2D  96          	sub	a, (hl)
3155  0F2E  DA 28 0E    	jp	C,l_game_menu_config_00116
3156  0F31  5E          	ld	e,(hl)
3157  0F32  16 00       	ld	d,0x00
3158  0F34  21 3A 0F    	ld	hl,l_game_menu_config_00165
3159  0F37  19          	add	hl,de
3160  0F38  19          	add	hl,de
3161  0F39  E9          	jp	(hl)
3162  0F3A              l_game_menu_config_00165:
3163  0F3A  18 08       	jr	l_game_menu_config_00108
3164  0F3C  18 1A       	jr	l_game_menu_config_00109
3165  0F3E  18 27       	jr	l_game_menu_config_00112
3166  0F40  18 2F       	jr	l_game_menu_config_00113
3167  0F42  18 38       	jr	l_game_menu_config_00114
3168  0F44              l_game_menu_config_00108:
3169  0F44  3A 00 00    	ld	a,(_spec128)
3170  0F47  B7          	or	a, a
3171  0F48  28 04       	jr	Z,l_game_menu_config_00125
3172  0F4A  3E 04       	ld	a,0x04
3173  0F4C  18 02       	jr	l_game_menu_config_00126
3174  0F4E              l_game_menu_config_00125:
3175  0F4E  3E 01       	ld	a,0x01
3176  0F50              l_game_menu_config_00126:
3177  0F50  21 00 00    	ld	hl,_game_sound
3178  0F53  AE          	xor	a, (hl)
3179  0F54  77          	ld	(hl),a
3180  0F55  C3 28 0E    	jp	l_game_menu_config_00116
3181  0F58              l_game_menu_config_00109:
3182  0F58  21 00 00    	ld	hl,_game_type
3183  0F5B  34          	inc	(hl)
3184  0F5C  3E 02       	ld	a,0x02
3185  0F5E  96          	sub	a, (hl)
3186  0F5F  D2 28 0E    	jp	NC,l_game_menu_config_00116
3187  0F62  36 00       	ld	(hl),0x00
3188  0F64  C3 28 0E    	jp	l_game_menu_config_00116
3189  0F67              l_game_menu_config_00112:
3190  0F67  AF          	xor	a, a
3191  0F68  F5          	push	af
3192  0F69  33          	inc	sp
3193  0F6A  CD E6 0F    	call	_game_joystick_change
3194  0F6D  33          	inc	sp
3195  0F6E  C3 28 0E    	jp	l_game_menu_config_00116
3196  0F71              l_game_menu_config_00113:
3197  0F71  3E 01       	ld	a,0x01
3198  0F73  F5          	push	af
3199  0F74  33          	inc	sp
3200  0F75  CD E6 0F    	call	_game_joystick_change
3201  0F78  33          	inc	sp
3202  0F79  C3 28 0E    	jp	l_game_menu_config_00116
3203  0F7C              l_game_menu_config_00114:
3204  0F7C  21 00 00    	ld	hl,_game_menu_sel
3205  0F7F  36 00       	ld	(hl),0x00
3206  0F81  CD 6A 11    	call	_game_menu_paint
3207  0F84  DD 36 FD 00 	ld	(ix-3),0x00
3208  0F88  C3 28 0E    	jp	l_game_menu_config_00116
3209  0F8B              l_game_menu_config_00119:
3210  0F8B  DD F9       	ld	sp, ix
3211  0F8D  DD E1       	pop	ix
3212  0F8F  C9          	ret
3213  0F90              ___str_24:
3214  0F90  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3215  0F9A  00          	DEFB 0x00
3216  0F9B              ___str_25:
3217  0F9B  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3218  0FA5  00          	DEFB 0x00
3219  0FA6              ___str_26:
3220  0FA6  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3221  0FB0  00          	DEFB 0x00
3222  0FB1              ___str_27:
3223  0FB1  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3224  0FBB  00          	DEFB 0x00
3225  0FBC              ___str_28:
3226  0FBC  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3227  0FC6  00          	DEFB 0x00
3228  0FC7              ___str_29:
3229  0FC7  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3230  0FD1  00          	DEFB 0x00
3231  0FD2              ___str_30:
3232  0FD2  4F 4E 20    	DEFM "ON "
3233  0FD5  00          	DEFB 0x00
3234  0FD6              ___str_31:
3235  0FD6  4F 46 46    	DEFM "OFF"
3236  0FD9  00          	DEFB 0x00
3237  0FDA              ___str_32:
3238  0FDA  41 20 20    	DEFM "A  "
3239  0FDD  00          	DEFB 0x00
3240  0FDE              ___str_33:
3241  0FDE  42 20 20    	DEFM "B  "
3242  0FE1  00          	DEFB 0x00
3243  0FE2              ___str_34:
3244  0FE2  52 4E 44    	DEFM "RND"
3245  0FE5  00          	DEFB 0x00
3246  0FE6              ;	---------------------------------
3247  0FE6              ; Function game_joystick_change
3248  0FE6              ; ---------------------------------
3249  0FE6              _game_joystick_change:
3250  0FE6  CD 00 00    	call	___sdcc_enter_ix
3251  0FE9  DD 4E 04    	ld	c,(ix+4)
3252  0FEC  06 00       	ld	b,0x00
3253  0FEE  CB 21       	sla	c
3254  0FF0  CB 10       	rl	b
3255  0FF2  21 00 00    	ld	hl,_player_joy
3256  0FF5  09          	add	hl,bc
3257  0FF6  4D          	ld	c,l
3258  0FF7  44          	ld	b,h
3259  0FF8  5E          	ld	e,(hl)
3260  0FF9  23          	inc	hl
3261  0FFA  56          	ld	d,(hl)
3262  0FFB  13          	inc	de
3263  0FFC  69          	ld	l, c
3264  0FFD  60          	ld	h, b
3265  0FFE  73          	ld	(hl),e
3266  0FFF  23          	inc	hl
3267  1000  72          	ld	(hl),d
3268  1001  7B          	ld	a,e
3269  1002  D6 07       	sub	a,0x07
3270  1004  20 09       	jr	NZ,l_game_joystick_change_00102
3271  1006  B2          	or	a,d
3272  1007  20 06       	jr	NZ,l_game_joystick_change_00102
3273  1009  69          	ld	l, c
3274  100A  60          	ld	h, b
3275  100B  AF          	xor	a, a
3276  100C  77          	ld	(hl), a
3277  100D  23          	inc	hl
3278  100E  77          	ld	(hl), a
3279  100F              l_game_joystick_change_00102:
3280  100F  DD 7E 04    	ld	a,(ix+4)
3281  1012  B7          	or	a, a
3282  1013  20 15       	jr	NZ,l_game_joystick_change_00104
3283  1015  69          	ld	l, c
3284  1016  60          	ld	h, b
3285  1017  5E          	ld	e,(hl)
3286  1018  23          	inc	hl
3287  1019  56          	ld	d,(hl)
3288  101A  1D          	dec	e
3289  101B  20 0D       	jr	NZ,l_game_joystick_change_00104
3290  101D  7A          	ld	a,d
3291  101E  B7          	or	a, a
3292  101F  20 09       	jr	NZ,l_game_joystick_change_00104
3293  1021  ED 5B 00 00 	ld	de,(_player_joy)
3294  1025  13          	inc	de
3295  1026  ED 53 00 00 	ld	(_player_joy), de
3296  102A              l_game_joystick_change_00104:
3297  102A  DD 7E 04    	ld	a,(ix+4)
3298  102D  3D          	dec	a
3299  102E  20 11       	jr	NZ,l_game_joystick_change_00107
3300  1030  69          	ld	l, c
3301  1031  60          	ld	h, b
3302  1032  4E          	ld	c,(hl)
3303  1033  23          	inc	hl
3304  1034  7E          	ld	a, (hl)
3305  1035  B1          	or	a,c
3306  1036  20 09       	jr	NZ,l_game_joystick_change_00107
3307  1038  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3308  103C  03          	inc	bc
3309  103D  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3310  1041              l_game_joystick_change_00107:
3311  1041  ED 4B 00 00 	ld	bc,(_player_joy)
3312  1045  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3313  1049  79          	ld	a,c
3314  104A  93          	sub	a, e
3315  104B  20 18       	jr	NZ,l_game_joystick_change_00114
3316  104D  78          	ld	a,b
3317  104E  92          	sub	a, d
3318  104F  20 14       	jr	NZ,l_game_joystick_change_00114
3319  1051  DD 7E 04    	ld	a,(ix+4)
3320  1054  B7          	or	a, a
3321  1055  20 08       	jr	NZ,l_game_joystick_change_00110
3322  1057  21 01 00    	ld	hl,0x0001
3323  105A  22 02 00    	ld	(_player_joy + 0x0002),hl
3324  105D  18 06       	jr	l_game_joystick_change_00114
3325  105F              l_game_joystick_change_00110:
3326  105F  21 00 00    	ld	hl,0x0000
3327  1062  22 00 00    	ld	(_player_joy), hl
3328  1065              l_game_joystick_change_00114:
3329  1065  DD E1       	pop	ix
3330  1067  C9          	ret
3331  1068              ;	---------------------------------
3332  1068              ; Function game_joystick_set_menu
3333  1068              ; ---------------------------------
3334  1068              _game_joystick_set_menu:
3335  1068  21 00 00    	ld	hl,_in_stick_sinclair1
3336  106B  22 00 00    	ld	(_joyfunc1),hl
3337  106E  21 00 00    	ld	hl,_in_stick_sinclair2
3338  1071  22 00 00    	ld	(_joyfunc2),hl
3339  1074  C9          	ret
3340  1075              ;	---------------------------------
3341  1075              ; Function game_joystick_set
3342  1075              ; ---------------------------------
3343  1075              _game_joystick_set:
3344  1075  01 00 00    	ld	bc,_control_method+0
3345  1078  2A 00 00    	ld	hl,(_player_joy)
3346  107B  29          	add	hl, hl
3347  107C  09          	add	hl,bc
3348  107D  11 00 00    	ld	de,_joyfunc1
3349  1080  ED A0       	ldi
3350  1082  03          	inc	bc
3351  1083  7E          	ld	a,(hl)
3352  1084  12          	ld	(de),a
3353  1085  2A 02 00    	ld	hl, (_player_joy + 2)
3354  1088  29          	add	hl, hl
3355  1089  09          	add	hl,bc
3356  108A  11 00 00    	ld	de,_joyfunc2
3357  108D  ED A0       	ldi
3358  108F  7E          	ld	a,(hl)
3359  1090  12          	ld	(de),a
3360  1091  C9          	ret
3361  1092              ;	---------------------------------
3362  1092              ; Function game_menu
3363  1092              ; ---------------------------------
3364  1092              _game_menu:
3365  1092  CD F4 10    	call	_game_menu_top_paint
3366  1095  CD 6A 11    	call	_game_menu_paint
3367  1098  CD 00 00    	call	_ay_reset
3368  109B  21 00 00    	ld	hl,_pb_midi_title
3369  109E  CD 00 00    	call	_ay_midi_play
3370  10A1              l_game_menu_00101:
3371  10A1  21 00 00    	ld	hl,_k1
3372  10A4  E5          	push	hl
3373  10A5  2A 00 00    	ld	hl,(_joyfunc1)
3374  10A8  CD 00 00    	call	___sdcc_call_hl
3375  10AB  F1          	pop	af
3376  10AC  7C          	ld	a,h
3377  10AD  B5          	or	a,l
3378  10AE  20 F1       	jr	NZ,l_game_menu_00101
3379  10B0  21 E8 03    	ld	hl,0x03e8
3380  10B3  E5          	push	hl
3381  10B4  21 0E 12    	ld	hl,0x120e
3382  10B7  E5          	push	hl
3383  10B8  21 0C 02    	ld	hl,0x020c
3384  10BB  E5          	push	hl
3385  10BC  CD EA 12    	call	_game_menu_handle
3386  10BF  F1          	pop	af
3387  10C0  F1          	pop	af
3388  10C1  F1          	pop	af
3389  10C2  4D          	ld	c,l
3390  10C3  21 00 00    	ld	hl,_tmp_uc
3391  10C6  71          	ld	(hl),c
3392  10C7  3E 02       	ld	a,0x02
3393  10C9  96          	sub	a, (hl)
3394  10CA  38 D5       	jr	C,l_game_menu_00101
3395  10CC  5E          	ld	e,(hl)
3396  10CD  16 00       	ld	d,0x00
3397  10CF  21 D5 10    	ld	hl,l_game_menu_00125
3398  10D2  19          	add	hl,de
3399  10D3  19          	add	hl,de
3400  10D4  E9          	jp	(hl)
3401  10D5              l_game_menu_00125:
3402  10D5  18 04       	jr	l_game_menu_00104
3403  10D7  18 0C       	jr	l_game_menu_00105
3404  10D9  18 14       	jr	l_game_menu_00106
3405  10DB              l_game_menu_00104:
3406  10DB  21 00 00    	ld	hl,_game_two_player
3407  10DE  36 00       	ld	(hl),0x00
3408  10E0  CD 80 03    	call	_game_loop
3409  10E3  18 BC       	jr	l_game_menu_00101
3410  10E5              l_game_menu_00105:
3411  10E5  21 00 00    	ld	hl,_game_two_player
3412  10E8  36 01       	ld	(hl),0x01
3413  10EA  CD 80 03    	call	_game_loop
3414  10ED  18 B2       	jr	l_game_menu_00101
3415  10EF              l_game_menu_00106:
3416  10EF  CD 17 0E    	call	_game_menu_config
3417  10F2  18 AD       	jr	l_game_menu_00101
3418  10F4              ;	---------------------------------
3419  10F4              ; Function game_menu_top_paint
3420  10F4              ; ---------------------------------
3421  10F4              _game_menu_top_paint:
3422  10F4  CD 00 00    	call	_spr_draw_clear
3423  10F7  AF          	xor	a, a
3424  10F8  F5          	push	af
3425  10F9  33          	inc	sp
3426  10FA  CD 9C 0D    	call	_game_paint_attrib
3427  10FD  33          	inc	sp
3428  10FE  21 9C 01    	ld	hl,0x019c
3429  1101  E5          	push	hl
3430  1102  21 00 1E    	ld	hl,0x1e00
3431  1105  E5          	push	hl
3432  1106  3E 10       	ld	a,0x10
3433  1108  F5          	push	af
3434  1109  33          	inc	sp
3435  110A  CD 37 12    	call	_game_menu_e
3436  110D  F1          	pop	af
3437  110E  33          	inc	sp
3438  110F  21 9F FF    	ld	hl,0xff9f
3439  1112  E3          	ex	(sp),hl
3440  1113  21 00 1E    	ld	hl,0x1e00
3441  1116  E5          	push	hl
3442  1117  3E 50       	ld	a,0x50
3443  1119  F5          	push	af
3444  111A  33          	inc	sp
3445  111B  CD 37 12    	call	_game_menu_e
3446  111E  F1          	pop	af
3447  111F  F1          	pop	af
3448  1120  33          	inc	sp
3449  1121  21 00 00    	ld	hl,_tmp
3450  1124  36 18       	ld	(hl),0x18
3451  1126  F3          	di
3452  1127  21 00 00    	ld	hl,_tmp_uc
3453  112A  36 00       	ld	(hl),0x00
3454  112C              l_game_menu_top_paint_00102:
3455  112C  3A 00 00    	ld	a,(_tmp_uc)
3456  112F  87          	add	a, a
3457  1130  C6 05       	add	a,0x05
3458  1132  47          	ld	b,a
3459  1133  3A 00 00    	ld	a,(_tmp)
3460  1136  C6 10       	add	a,0x10
3461  1138  57          	ld	d,a
3462  1139  3A 00 00    	ld	a,(_tmp_uc)
3463  113C  C6 C0       	add	a,0xc0
3464  113E  4A          	ld	c, d
3465  113F  C5          	push	bc
3466  1140  F5          	push	af
3467  1141  33          	inc	sp
3468  1142  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3469  1145  3A 00 00    	ld	a,(_tmp_uc)
3470  1148  87          	add	a, a
3471  1149  C6 05       	add	a,0x05
3472  114B  47          	ld	b,a
3473  114C  3A 00 00    	ld	a,(_tmp)
3474  114F  C6 20       	add	a,0x20
3475  1151  57          	ld	d,a
3476  1152  3A 00 00    	ld	a,(_tmp_uc)
3477  1155  C6 CC       	add	a,0xcc
3478  1157  4A          	ld	c, d
3479  1158  C5          	push	bc
3480  1159  F5          	push	af
3481  115A  33          	inc	sp
3482  115B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3483  115E  21 00 00    	ld	hl,_tmp_uc
3484  1161  7E          	ld	a,(hl)
3485  1162  3C          	inc	a
3486  1163  77          	ld	(hl),a
3487  1164  D6 0A       	sub	a,0x0a
3488  1166  38 C4       	jr	C,l_game_menu_top_paint_00102
3489  1168  FB          	ei
3490  1169  C9          	ret
3491  116A              ;	---------------------------------
3492  116A              ; Function game_menu_paint
3493  116A              ; ---------------------------------
3494  116A              _game_menu_paint:
3495  116A  76          	halt
3496  116B  3A 00 00    	ld	a,(_tmp)
3497  116E  C6 28       	add	a,0x28
3498  1170  4F          	ld	c, a
3499  1171  06 1A       	ld	b,0x1a
3500  1173  C5          	push	bc
3501  1174  3E 12       	ld	a,0x12
3502  1176  F5          	push	af
3503  1177  33          	inc	sp
3504  1178  CD 00 00    	call	_NIRVANAP_fillC_callee
3505  117B  21 00 20    	ld	hl,0x2000
3506  117E  E5          	push	hl
3507  117F  CD 00 00    	call	_game_fill_row
3508  1182  21 00 20    	ld	hl,0x2000
3509  1185  E5          	push	hl
3510  1186  CD 00 00    	call	_game_fill_row
3511  1189  21 E8 11    	ld	hl,___str_35
3512  118C  E5          	push	hl
3513  118D  21 0E 0A    	ld	hl,0x0a0e
3514  1190  E5          	push	hl
3515  1191  CD 00 00    	call	_zx_print_str
3516  1194  21 0F 20    	ld	hl,0x200f
3517  1197  E5          	push	hl
3518  1198  CD 00 00    	call	_game_fill_row
3519  119B  21 F6 11    	ld	hl,___str_36
3520  119E  E5          	push	hl
3521  119F  21 10 0A    	ld	hl,0x0a10
3522  11A2  E5          	push	hl
3523  11A3  CD 00 00    	call	_zx_print_str
3524  11A6  21 11 20    	ld	hl,0x2011
3525  11A9  E5          	push	hl
3526  11AA  CD 00 00    	call	_game_fill_row
3527  11AD  21 04 12    	ld	hl,___str_37
3528  11B0  E5          	push	hl
3529  11B1  21 12 0A    	ld	hl,0x0a12
3530  11B4  E5          	push	hl
3531  11B5  CD 00 00    	call	_zx_print_str
3532  11B8  21 13 20    	ld	hl,0x2013
3533  11BB  E5          	push	hl
3534  11BC  CD 00 00    	call	_game_fill_row
3535  11BF  21 00 00    	ld	hl,_screen_ink
3536  11C2  36 01       	ld	(hl),0x01
3537  11C4  21 12 12    	ld	hl,___str_38
3538  11C7  E5          	push	hl
3539  11C8  21 16 07    	ld	hl,0x0716
3540  11CB  E5          	push	hl
3541  11CC  CD 00 00    	call	_zx_print_str
3542  11CF  21 25 12    	ld	hl,___str_39
3543  11D2  E5          	push	hl
3544  11D3  21 17 07    	ld	hl,0x0717
3545  11D6  E5          	push	hl
3546  11D7  CD 00 00    	call	_zx_print_str
3547  11DA  21 00 00    	ld	hl,_tmp_uc
3548  11DD  36 00       	ld	(hl),0x00
3549  11DF  3E 0B       	ld	a,0x0b
3550  11E1  F5          	push	af
3551  11E2  33          	inc	sp
3552  11E3  CD 9C 0D    	call	_game_paint_attrib
3553  11E6  33          	inc	sp
3554  11E7  C9          	ret
3555  11E8              ___str_35:
3556  11E8  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3557  11F5  00          	DEFB 0x00
3558  11F6              ___str_36:
3559  11F6  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3560  1203  00          	DEFB 0x00
3561  1204              ___str_37:
3562  1204  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3563  1211  00          	DEFB 0x00
3564  1212              ___str_38:
3565  1212  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3566  1224  00          	DEFB 0x00
3567  1225              ___str_39:
3568  1225  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3569  1236  00          	DEFB 0x00
3570  1237              ;	---------------------------------
3571  1237              ; Function game_menu_e
3572  1237              ; ---------------------------------
3573  1237              _game_menu_e:
3574  1237  CD 00 00    	call	___sdcc_enter_ix
3575  123A  F3          	di
3576  123B  DD 4E 05    	ld	c,(ix+5)
3577  123E  21 00 00    	ld	hl,_tmp_uc
3578  1241  71          	ld	(hl),c
3579  1242  DD 46 07    	ld	b,(ix+7)
3580  1245  04          	inc	b
3581  1246  DD 56 07    	ld	d,(ix+7)
3582  1249  14          	inc	d
3583  124A  14          	inc	d
3584  124B              l_game_menu_e_00114:
3585  124B  DD 7E 06    	ld	a,(ix+6)
3586  124E  21 00 00    	ld	hl,_tmp_uc
3587  1251  96          	sub	a, (hl)
3588  1252  38 56       	jr	C,l_game_menu_e_00109
3589  1254  7E          	ld	a,(hl)
3590  1255  91          	sub	a, c
3591  1256  20 15       	jr	NZ,l_game_menu_e_00102
3592  1258  3A 00 00    	ld	a,(_tmp_uc)
3593  125B  C5          	push	bc
3594  125C  D5          	push	de
3595  125D  F5          	push	af
3596  125E  33          	inc	sp
3597  125F  DD 66 04    	ld	h,(ix+4)
3598  1262  DD 6E 07    	ld	l,(ix+7)
3599  1265  E5          	push	hl
3600  1266  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3601  1269  D1          	pop	de
3602  126A  C1          	pop	bc
3603  126B  18 36       	jr	l_game_menu_e_00108
3604  126D              l_game_menu_e_00102:
3605  126D  3A 00 00    	ld	a,(_tmp_uc)
3606  1270  DD 96 06    	sub	a,(ix+6)
3607  1273  20 14       	jr	NZ,l_game_menu_e_00104
3608  1275  3A 00 00    	ld	a,(_tmp_uc)
3609  1278  C5          	push	bc
3610  1279  D5          	push	de
3611  127A  F5          	push	af
3612  127B  33          	inc	sp
3613  127C  DD 7E 04    	ld	a,(ix+4)
3614  127F  5A          	ld	e,d
3615  1280  57          	ld	d,a
3616  1281  D5          	push	de
3617  1282  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3618  1285  D1          	pop	de
3619  1286  C1          	pop	bc
3620  1287  18 1A       	jr	l_game_menu_e_00108
3621  1289              l_game_menu_e_00104:
3622  1289  3A 00 00    	ld	a,(_tmp_uc)
3623  128C  FE 0E       	cp	a,0x0e
3624  128E  28 13       	jr	Z,l_game_menu_e_00108
3625  1290  FE 10       	cp	a,0x10
3626  1292  28 0F       	jr	Z,l_game_menu_e_00108
3627  1294  C5          	push	bc
3628  1295  D5          	push	de
3629  1296  F5          	push	af
3630  1297  33          	inc	sp
3631  1298  DD 7E 04    	ld	a,(ix+4)
3632  129B  48          	ld	c,b
3633  129C  47          	ld	b,a
3634  129D  C5          	push	bc
3635  129E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3636  12A1  D1          	pop	de
3637  12A2  C1          	pop	bc
3638  12A3              l_game_menu_e_00108:
3639  12A3  21 00 00    	ld	hl,_tmp_uc
3640  12A6  34          	inc	(hl)
3641  12A7  34          	inc	(hl)
3642  12A8  18 A1       	jr	l_game_menu_e_00114
3643  12AA              l_game_menu_e_00109:
3644  12AA  DD 7E 08    	ld	a,(ix+8)
3645  12AD  3C          	inc	a
3646  12AE  20 0A       	jr	NZ,l_game_menu_e_00111
3647  12B0  DD 7E 04    	ld	a,(ix+4)
3648  12B3  C6 F0       	add	a,0xf0
3649  12B5  DD 77 04    	ld	(ix+4),a
3650  12B8  18 08       	jr	l_game_menu_e_00112
3651  12BA              l_game_menu_e_00111:
3652  12BA  DD 7E 04    	ld	a,(ix+4)
3653  12BD  C6 10       	add	a,0x10
3654  12BF  DD 77 04    	ld	(ix+4),a
3655  12C2              l_game_menu_e_00112:
3656  12C2  DD 7E 07    	ld	a,(ix+7)
3657  12C5  C6 0C       	add	a,0x0c
3658  12C7  47          	ld	b,a
3659  12C8  79          	ld	a,c
3660  12C9  F5          	push	af
3661  12CA  33          	inc	sp
3662  12CB  DD 7E 04    	ld	a,(ix+4)
3663  12CE  48          	ld	c,b
3664  12CF  47          	ld	b,a
3665  12D0  C5          	push	bc
3666  12D1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3667  12D4  DD 7E 07    	ld	a,(ix+7)
3668  12D7  C6 0E       	add	a,0x0e
3669  12D9  47          	ld	b,a
3670  12DA  DD 66 06    	ld	h,(ix+6)
3671  12DD  DD 6E 04    	ld	l,(ix+4)
3672  12E0  E5          	push	hl
3673  12E1  C5          	push	bc
3674  12E2  33          	inc	sp
3675  12E3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3676  12E6  FB          	ei
3677  12E7  DD E1       	pop	ix
3678  12E9  C9          	ret
3679  12EA              ;	---------------------------------
3680  12EA              ; Function game_menu_handle
3681  12EA              ; ---------------------------------
3682  12EA              _game_menu_handle:
3683  12EA  CD 00 00    	call	___sdcc_enter_ix
3684  12ED  3B          	dec	sp
3685  12EE  2A 00 00    	ld	hl,(_curr_time)
3686  12F1  22 00 00    	ld	(_entry_time),hl
3687  12F4  DD 5E 05    	ld	e,(ix+5)
3688  12F7  21 00 00    	ld	hl,_game_menu_sel
3689  12FA  66          	ld	h,(hl)
3690  12FB  2E 00       	ld	l,0x00
3691  12FD  55          	ld	d, l
3692  12FE  06 08       	ld	b,0x08
3693  1300              l_game_menu_handle_00148:
3694  1300  29          	add	hl,hl
3695  1301  30 01       	jr	NC,l_game_menu_handle_00149
3696  1303  19          	add	hl,de
3697  1304              l_game_menu_handle_00149:
3698  1304  10 FA       	djnz	l_game_menu_handle_00148
3699  1306  DD 7E 06    	ld	a,(ix+6)
3700  1309  85          	add	a,l
3701  130A  32 00 00    	ld	(_s_lin1),a
3702  130D  DD 7E 06    	ld	a,(ix+6)
3703  1310  DD 77 FF    	ld	(ix-1),a
3704  1313              l_game_menu_handle_00111:
3705  1313  21 00 00    	ld	hl,_k1
3706  1316  E5          	push	hl
3707  1317  2A 00 00    	ld	hl,(_joyfunc1)
3708  131A  CD 00 00    	call	___sdcc_call_hl
3709  131D  F1          	pop	af
3710  131E  7D          	ld	a,l
3711  131F  32 00 00    	ld	(_dirs),a
3712  1322  D6 80       	sub	a,0x80
3713  1324  CA C5 13    	jp	Z,l_game_menu_handle_00113
3714  1327  21 05 00    	ld	hl,0x0005
3715  132A  E5          	push	hl
3716  132B  2A 00 00    	ld	hl,(_frame_time)
3717  132E  E5          	push	hl
3718  132F  CD BE 1C    	call	_game_check_time
3719  1332  F1          	pop	af
3720  1333  F1          	pop	af
3721  1334  7D          	ld	a,l
3722  1335  B7          	or	a, a
3723  1336  28 58       	jr	Z,l_game_menu_handle_00106
3724  1338  3A 00 00    	ld	a,(_dirs)
3725  133B  B7          	or	a, a
3726  133C  28 32       	jr	Z,l_game_menu_handle_00104
3727  133E  21 00 00    	ld	hl,_ay_effect_03
3728  1341  CD 00 00    	call	_ay_fx_play
3729  1344  CD 00 00    	call	_sound_slide
3730  1347  3A 00 00    	ld	a,(_s_lin1)
3731  134A  07          	rlca
3732  134B  07          	rlca
3733  134C  07          	rlca
3734  134D  E6 F8       	and	a,0xf8
3735  134F  C6 08       	add	a,0x08
3736  1351  F5          	push	af
3737  1352  33          	inc	sp
3738  1353  26 14       	ld	h,0x14
3739  1355  DD 6E 04    	ld	l,(ix+4)
3740  1358  E5          	push	hl
3741  1359  CD C9 0D    	call	_game_paint_attrib_lin
3742  135C  F1          	pop	af
3743  135D  33          	inc	sp
3744  135E  21 00 00    	ld	hl,_s_lin1
3745  1361  7E          	ld	a,(hl)
3746  1362  DD 86 05    	add	a,(ix+5)
3747  1365  77          	ld	(hl),a
3748  1366  DD 7E 07    	ld	a,(ix+7)
3749  1369  96          	sub	a, (hl)
3750  136A  30 04       	jr	NC,l_game_menu_handle_00104
3751  136C  DD 7E FF    	ld	a,(ix-1)
3752  136F  77          	ld	(hl),a
3753  1370              l_game_menu_handle_00104:
3754  1370  2A 00 00    	ld	hl,(_curr_time)
3755  1373  22 00 00    	ld	(_frame_time),hl
3756  1376  3A 00 00    	ld	a,(_s_lin1)
3757  1379  07          	rlca
3758  137A  07          	rlca
3759  137B  07          	rlca
3760  137C  E6 F8       	and	a,0xf8
3761  137E  C6 08       	add	a,0x08
3762  1380  F5          	push	af
3763  1381  33          	inc	sp
3764  1382  26 14       	ld	h,0x14
3765  1384  DD 6E 04    	ld	l,(ix+4)
3766  1387  E5          	push	hl
3767  1388  CD F0 0D    	call	_game_paint_attrib_lin_h
3768  138B  F1          	pop	af
3769  138C  33          	inc	sp
3770  138D  CD 10 1C    	call	_game_rotate_attrib
3771  1390              l_game_menu_handle_00106:
3772  1390  DD 7E 09    	ld	a,(ix+9)
3773  1393  DD B6 08    	or	a,(ix+8)
3774  1396  CA 13 13    	jp	Z,l_game_menu_handle_00111
3775  1399  DD 6E 08    	ld	l,(ix+8)
3776  139C  DD 66 09    	ld	h,(ix+9)
3777  139F  E5          	push	hl
3778  13A0  2A 00 00    	ld	hl,(_entry_time)
3779  13A3  E5          	push	hl
3780  13A4  CD BE 1C    	call	_game_check_time
3781  13A7  F1          	pop	af
3782  13A8  F1          	pop	af
3783  13A9  7D          	ld	a,l
3784  13AA  B7          	or	a, a
3785  13AB  CA 13 13    	jp	Z,l_game_menu_handle_00111
3786  13AE  CD 00 00    	call	_ay_is_playing
3787  13B1  7D          	ld	a,l
3788  13B2  B7          	or	a, a
3789  13B3  C2 13 13    	jp	NZ,l_game_menu_handle_00111
3790  13B6  CD 2C 1B    	call	_game_hall_of_fame
3791  13B9  DD 7E FF    	ld	a,(ix-1)
3792  13BC  F5          	push	af
3793  13BD  33          	inc	sp
3794  13BE  CD FC 18    	call	_game_menu_back
3795  13C1  33          	inc	sp
3796  13C2  C3 13 13    	jp	l_game_menu_handle_00111
3797  13C5              l_game_menu_handle_00113:
3798  13C5  3A 00 00    	ld	a,(_s_lin1)
3799  13C8  DD 96 FF    	sub	a,(ix-1)
3800  13CB  47          	ld	b,a
3801  13CC  DD 7E 05    	ld	a,(ix+5)
3802  13CF  48          	ld	c,b
3803  13D0  47          	ld	b,a
3804  13D1  C5          	push	bc
3805  13D2  CD 00 00    	call	__divuchar_callee
3806  13D5  33          	inc	sp
3807  13D6  DD E1       	pop	ix
3808  13D8  C9          	ret
3809  13D9              ;	---------------------------------
3810  13D9              ; Function game_end
3811  13D9              ; ---------------------------------
3812  13D9              _game_end:
3813  13D9  CD 00 00    	call	___sdcc_enter_ix
3814  13DC  F5          	push	af
3815  13DD  F5          	push	af
3816  13DE  CD 62 09    	call	_game_kill_all_sprites
3817  13E1  CD 00 00    	call	_spr_draw_clear
3818  13E4  21 00 00    	ld	hl,_pb_midi_title
3819  13E7  CD 00 00    	call	_ay_midi_play
3820  13EA  21 00 00    	ld	hl,_tmp0
3821  13ED  36 04       	ld	(hl),0x04
3822  13EF              l_game_end_00129:
3823  13EF  3A 00 00    	ld	a,(_tmp0)
3824  13F2  F5          	push	af
3825  13F3  33          	inc	sp
3826  13F4  21 8C 50    	ld	hl,0x508c
3827  13F7  E5          	push	hl
3828  13F8  CD 00 00    	call	_NIRVANAP_drawT_callee
3829  13FB  21 00 00    	ld	hl,_tmp0
3830  13FE  7E          	ld	a,(hl)
3831  13FF  3C          	inc	a
3832  1400  3C          	inc	a
3833  1401  77          	ld	(hl),a
3834  1402  D6 1C       	sub	a,0x1c
3835  1404  38 E9       	jr	C,l_game_end_00129
3836  1406  36 04       	ld	(hl),0x04
3837  1408              l_game_end_00131:
3838  1408  3A 00 00    	ld	a,(_tmp0)
3839  140B  F5          	push	af
3840  140C  33          	inc	sp
3841  140D  21 8C 60    	ld	hl,0x608c
3842  1410  E5          	push	hl
3843  1411  CD 00 00    	call	_NIRVANAP_drawT_callee
3844  1414  21 00 00    	ld	hl,_tmp0
3845  1417  7E          	ld	a,(hl)
3846  1418  3C          	inc	a
3847  1419  3C          	inc	a
3848  141A  77          	ld	(hl),a
3849  141B  D6 1C       	sub	a,0x1c
3850  141D  38 E9       	jr	C,l_game_end_00131
3851  141F  36 04       	ld	(hl),0x04
3852  1421              l_game_end_00133:
3853  1421  3A 00 00    	ld	a,(_tmp0)
3854  1424  F5          	push	af
3855  1425  33          	inc	sp
3856  1426  21 8C 70    	ld	hl,0x708c
3857  1429  E5          	push	hl
3858  142A  CD 00 00    	call	_NIRVANAP_drawT_callee
3859  142D  21 00 00    	ld	hl,_tmp0
3860  1430  7E          	ld	a,(hl)
3861  1431  3C          	inc	a
3862  1432  3C          	inc	a
3863  1433  77          	ld	(hl),a
3864  1434  D6 1C       	sub	a,0x1c
3865  1436  38 E9       	jr	C,l_game_end_00133
3866  1438  21 50 18    	ld	hl,0x1850
3867  143B  E5          	push	hl
3868  143C  3E D6       	ld	a,0xd6
3869  143E  F5          	push	af
3870  143F  33          	inc	sp
3871  1440  CD 00 00    	call	_NIRVANAP_drawT_callee
3872  1443  21 9C 01    	ld	hl,0x019c
3873  1446  E5          	push	hl
3874  1447  21 01 1D    	ld	hl,0x1d01
3875  144A  E5          	push	hl
3876  144B  3E 20       	ld	a,0x20
3877  144D  F5          	push	af
3878  144E  33          	inc	sp
3879  144F  CD 37 12    	call	_game_menu_e
3880  1452  F1          	pop	af
3881  1453  33          	inc	sp
3882  1454  21 9F FF    	ld	hl,0xff9f
3883  1457  E3          	ex	(sp),hl
3884  1458  21 01 1D    	ld	hl,0x1d01
3885  145B  E5          	push	hl
3886  145C  3E 80       	ld	a,0x80
3887  145E  F5          	push	af
3888  145F  33          	inc	sp
3889  1460  CD 37 12    	call	_game_menu_e
3890  1463  F1          	pop	af
3891  1464  F1          	pop	af
3892  1465  33          	inc	sp
3893  1466  3E 00       	ld	a,0x00
3894  1468  DD 77 FD    	ld	(ix-3),a
3895  146B  DD 77 FC    	ld	(ix-4),a
3896  146E  3A 00 00    	ld	a,(_game_two_player)
3897  1471  B7          	or	a, a
3898  1472  28 16       	jr	Z,l_game_end_00109
3899  1474  3A 00 00    	ld	a,(_game_lives)
3900  1477  B7          	or	a, a
3901  1478  28 04       	jr	Z,l_game_end_00105
3902  147A  DD 36 FD 01 	ld	(ix-3),0x01
3903  147E              l_game_end_00105:
3904  147E  3A 01 00    	ld	a, (_game_lives + 1)
3905  1481  B7          	or	a, a
3906  1482  28 0A       	jr	Z,l_game_end_00110
3907  1484  DD 36 FC 01 	ld	(ix-4),0x01
3908  1488  18 04       	jr	l_game_end_00110
3909  148A              l_game_end_00109:
3910  148A  DD 36 FD 01 	ld	(ix-3),0x01
3911  148E              l_game_end_00110:
3912  148E  DD 7E FD    	ld	a,(ix-3)
3913  1491  3D          	dec	a
3914  1492  20 04       	jr	NZ,l_game_end_00221
3915  1494  3E 01       	ld	a,0x01
3916  1496  18 01       	jr	l_game_end_00222
3917  1498              l_game_end_00221:
3918  1498  AF          	xor	a,a
3919  1499              l_game_end_00222:
3920  1499  DD 77 FE    	ld	(ix-2),a
3921  149C  B7          	or	a, a
3922  149D  28 1C       	jr	Z,l_game_end_00112
3923  149F  DD 7E FC    	ld	a,(ix-4)
3924  14A2  B7          	or	a, a
3925  14A3  20 16       	jr	NZ,l_game_end_00112
3926  14A5  21 45 16    	ld	hl,___str_40
3927  14A8  E5          	push	hl
3928  14A9  21 13 01    	ld	hl,0x0113
3929  14AC  E5          	push	hl
3930  14AD  CD 00 00    	call	_zx_print_str
3931  14B0  21 50 0C    	ld	hl,0x0c50
3932  14B3  E5          	push	hl
3933  14B4  3E 03       	ld	a,0x03
3934  14B6  F5          	push	af
3935  14B7  33          	inc	sp
3936  14B8  CD 00 00    	call	_NIRVANAP_drawT_callee
3937  14BB              l_game_end_00112:
3938  14BB  DD 7E FC    	ld	a,(ix-4)
3939  14BE  3D          	dec	a
3940  14BF  20 04       	jr	NZ,l_game_end_00223
3941  14C1  3E 01       	ld	a,0x01
3942  14C3  18 01       	jr	l_game_end_00224
3943  14C5              l_game_end_00223:
3944  14C5  AF          	xor	a,a
3945  14C6              l_game_end_00224:
3946  14C6  DD 77 FF    	ld	(ix-1),a
3947  14C9  DD 7E FD    	ld	a,(ix-3)
3948  14CC  B7          	or	a, a
3949  14CD  20 1C       	jr	NZ,l_game_end_00115
3950  14CF  DD 7E FF    	ld	a,(ix-1)
3951  14D2  B7          	or	a, a
3952  14D3  28 16       	jr	Z,l_game_end_00115
3953  14D5  21 4F 16    	ld	hl,___str_41
3954  14D8  E5          	push	hl
3955  14D9  21 13 01    	ld	hl,0x0113
3956  14DC  E5          	push	hl
3957  14DD  CD 00 00    	call	_zx_print_str
3958  14E0  21 60 0E    	ld	hl,0x0e60
3959  14E3  E5          	push	hl
3960  14E4  3E 1B       	ld	a,0x1b
3961  14E6  F5          	push	af
3962  14E7  33          	inc	sp
3963  14E8  CD 00 00    	call	_NIRVANAP_drawT_callee
3964  14EB              l_game_end_00115:
3965  14EB  DD 7E FE    	ld	a,(ix-2)
3966  14EE  B7          	or	a, a
3967  14EF  28 27       	jr	Z,l_game_end_00118
3968  14F1  DD 7E FF    	ld	a,(ix-1)
3969  14F4  B7          	or	a, a
3970  14F5  28 21       	jr	Z,l_game_end_00118
3971  14F7  21 58 16    	ld	hl,___str_42
3972  14FA  E5          	push	hl
3973  14FB  21 13 01    	ld	hl,0x0113
3974  14FE  E5          	push	hl
3975  14FF  CD 00 00    	call	_zx_print_str
3976  1502  21 50 0C    	ld	hl,0x0c50
3977  1505  E5          	push	hl
3978  1506  3E 03       	ld	a,0x03
3979  1508  F5          	push	af
3980  1509  33          	inc	sp
3981  150A  CD 00 00    	call	_NIRVANAP_drawT_callee
3982  150D  21 60 0E    	ld	hl,0x0e60
3983  1510  E5          	push	hl
3984  1511  3E 1B       	ld	a,0x1b
3985  1513  F5          	push	af
3986  1514  33          	inc	sp
3987  1515  CD 00 00    	call	_NIRVANAP_drawT_callee
3988  1518              l_game_end_00118:
3989  1518  21 C8 00    	ld	hl,0x00c8
3990  151B  E5          	push	hl
3991  151C  21 01 1F    	ld	hl,0x1f01
3992  151F  E5          	push	hl
3993  1520  3E 13       	ld	a,0x13
3994  1522  F5          	push	af
3995  1523  33          	inc	sp
3996  1524  CD 2C 1C    	call	_game_colour_message
3997  1527  F1          	pop	af
3998  1528  F1          	pop	af
3999  1529  33          	inc	sp
4000  152A  DD 7E FE    	ld	a,(ix-2)
4001  152D  B7          	or	a, a
4002  152E  28 32       	jr	Z,l_game_end_00121
4003  1530  DD 7E FC    	ld	a,(ix-4)
4004  1533  B7          	or	a, a
4005  1534  20 2C       	jr	NZ,l_game_end_00121
4006  1536  21 40 12    	ld	hl,0x1240
4007  1539  E5          	push	hl
4008  153A  3E BE       	ld	a,0xbe
4009  153C  F5          	push	af
4010  153D  33          	inc	sp
4011  153E  CD 00 00    	call	_NIRVANAP_drawT_callee
4012  1541  21 50 12    	ld	hl,0x1250
4013  1544  E5          	push	hl
4014  1545  3E CA       	ld	a,0xca
4015  1547  F5          	push	af
4016  1548  33          	inc	sp
4017  1549  CD 00 00    	call	_NIRVANAP_drawT_callee
4018  154C  21 6C 16    	ld	hl,___str_43
4019  154F  E5          	push	hl
4020  1550  21 13 01    	ld	hl,0x0113
4021  1553  E5          	push	hl
4022  1554  CD 00 00    	call	_zx_print_str
4023  1557  21 40 0C    	ld	hl,0x0c40
4024  155A  E5          	push	hl
4025  155B  3E BE       	ld	a,0xbe
4026  155D  F5          	push	af
4027  155E  33          	inc	sp
4028  155F  CD 00 00    	call	_NIRVANAP_drawT_callee
4029  1562              l_game_end_00121:
4030  1562  DD 7E FD    	ld	a,(ix-3)
4031  1565  B7          	or	a, a
4032  1566  20 32       	jr	NZ,l_game_end_00124
4033  1568  DD 7E FF    	ld	a,(ix-1)
4034  156B  B7          	or	a, a
4035  156C  28 2C       	jr	Z,l_game_end_00124
4036  156E  21 50 12    	ld	hl,0x1250
4037  1571  E5          	push	hl
4038  1572  3E BE       	ld	a,0xbe
4039  1574  F5          	push	af
4040  1575  33          	inc	sp
4041  1576  CD 00 00    	call	_NIRVANAP_drawT_callee
4042  1579  21 60 12    	ld	hl,0x1260
4043  157C  E5          	push	hl
4044  157D  3E CA       	ld	a,0xca
4045  157F  F5          	push	af
4046  1580  33          	inc	sp
4047  1581  CD 00 00    	call	_NIRVANAP_drawT_callee
4048  1584  21 6C 16    	ld	hl,___str_43
4049  1587  E5          	push	hl
4050  1588  21 13 01    	ld	hl,0x0113
4051  158B  E5          	push	hl
4052  158C  CD 00 00    	call	_zx_print_str
4053  158F  21 50 0E    	ld	hl,0x0e50
4054  1592  E5          	push	hl
4055  1593  3E BE       	ld	a,0xbe
4056  1595  F5          	push	af
4057  1596  33          	inc	sp
4058  1597  CD 00 00    	call	_NIRVANAP_drawT_callee
4059  159A              l_game_end_00124:
4060  159A  DD 7E FE    	ld	a,(ix-2)
4061  159D  B7          	or	a, a
4062  159E  28 53       	jr	Z,l_game_end_00127
4063  15A0  DD 7E FF    	ld	a,(ix-1)
4064  15A3  B7          	or	a, a
4065  15A4  28 4D       	jr	Z,l_game_end_00127
4066  15A6  21 80 16    	ld	hl,___str_44
4067  15A9  E5          	push	hl
4068  15AA  21 13 01    	ld	hl,0x0113
4069  15AD  E5          	push	hl
4070  15AE  CD 00 00    	call	_zx_print_str
4071  15B1  21 40 12    	ld	hl,0x1240
4072  15B4  E5          	push	hl
4073  15B5  3E BE       	ld	a,0xbe
4074  15B7  F5          	push	af
4075  15B8  33          	inc	sp
4076  15B9  CD 00 00    	call	_NIRVANAP_drawT_callee
4077  15BC  21 50 12    	ld	hl,0x1250
4078  15BF  E5          	push	hl
4079  15C0  3E CA       	ld	a,0xca
4080  15C2  F5          	push	af
4081  15C3  33          	inc	sp
4082  15C4  CD 00 00    	call	_NIRVANAP_drawT_callee
4083  15C7  21 50 10    	ld	hl,0x1050
4084  15CA  E5          	push	hl
4085  15CB  3E BE       	ld	a,0xbe
4086  15CD  F5          	push	af
4087  15CE  33          	inc	sp
4088  15CF  CD 00 00    	call	_NIRVANAP_drawT_callee
4089  15D2  21 60 10    	ld	hl,0x1060
4090  15D5  E5          	push	hl
4091  15D6  3E CA       	ld	a,0xca
4092  15D8  F5          	push	af
4093  15D9  33          	inc	sp
4094  15DA  CD 00 00    	call	_NIRVANAP_drawT_callee
4095  15DD  21 40 0C    	ld	hl,0x0c40
4096  15E0  E5          	push	hl
4097  15E1  3E BE       	ld	a,0xbe
4098  15E3  F5          	push	af
4099  15E4  33          	inc	sp
4100  15E5  CD 00 00    	call	_NIRVANAP_drawT_callee
4101  15E8  21 50 0E    	ld	hl,0x0e50
4102  15EB  E5          	push	hl
4103  15EC  3E BE       	ld	a,0xbe
4104  15EE  F5          	push	af
4105  15EF  33          	inc	sp
4106  15F0  CD 00 00    	call	_NIRVANAP_drawT_callee
4107  15F3              l_game_end_00127:
4108  15F3  21 C8 00    	ld	hl,0x00c8
4109  15F6  E5          	push	hl
4110  15F7  21 01 1F    	ld	hl,0x1f01
4111  15FA  E5          	push	hl
4112  15FB  3E 13       	ld	a,0x13
4113  15FD  F5          	push	af
4114  15FE  33          	inc	sp
4115  15FF  CD 2C 1C    	call	_game_colour_message
4116  1602  F1          	pop	af
4117  1603  33          	inc	sp
4118  1604  21 96 16    	ld	hl,___str_45
4119  1607  E3          	ex	(sp),hl
4120  1608  21 13 01    	ld	hl,0x0113
4121  160B  E5          	push	hl
4122  160C  CD 00 00    	call	_zx_print_str
4123  160F  21 C8 00    	ld	hl,0x00c8
4124  1612  E5          	push	hl
4125  1613  21 01 1F    	ld	hl,0x1f01
4126  1616  E5          	push	hl
4127  1617  3E 13       	ld	a,0x13
4128  1619  F5          	push	af
4129  161A  33          	inc	sp
4130  161B  CD 2C 1C    	call	_game_colour_message
4131  161E  F1          	pop	af
4132  161F  33          	inc	sp
4133  1620  21 AD 16    	ld	hl,___str_46
4134  1623  E3          	ex	(sp),hl
4135  1624  21 13 01    	ld	hl,0x0113
4136  1627  E5          	push	hl
4137  1628  CD 00 00    	call	_zx_print_str
4138  162B  21 C8 00    	ld	hl,0x00c8
4139  162E  E5          	push	hl
4140  162F  21 01 1F    	ld	hl,0x1f01
4141  1632  E5          	push	hl
4142  1633  3E 13       	ld	a,0x13
4143  1635  F5          	push	af
4144  1636  33          	inc	sp
4145  1637  CD 2C 1C    	call	_game_colour_message
4146  163A  F1          	pop	af
4147  163B  F1          	pop	af
4148  163C  33          	inc	sp
4149  163D  CD 00 00    	call	_spr_draw_clear
4150  1640  DD F9       	ld	sp, ix
4151  1642  DD E1       	pop	ix
4152  1644  C9          	ret
4153  1645              ___str_40:
4154  1645  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4155  164E  00          	DEFB 0x00
4156  164F              ___str_41:
4157  164F  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4158  1657  00          	DEFB 0x00
4159  1658              ___str_42:
4160  1658  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4161  166B  00          	DEFB 0x00
4162  166C              ___str_43:
4163  166C  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4164  167F  00          	DEFB 0x00
4165  1680              ___str_44:
4166  1680  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4167  1695  00          	DEFB 0x00
4168  1696              ___str_45:
4169  1696  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4170  16AC  00          	DEFB 0x00
4171  16AD              ___str_46:
4172  16AD  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4173  16C3  00          	DEFB 0x00
4174  16C4              ;	---------------------------------
4175  16C4              ; Function game_hall_check
4176  16C4              ; ---------------------------------
4177  16C4              _game_hall_check:
4178  16C4  CD 00 00    	call	___sdcc_enter_ix
4179  16C7  01 00 00    	ld	bc,_player_score+0
4180  16CA  DD 6E 04    	ld	l,(ix+4)
4181  16CD  26 00       	ld	h,0x00
4182  16CF  29          	add	hl, hl
4183  16D0  09          	add	hl,bc
4184  16D1  4E          	ld	c,(hl)
4185  16D2  23          	inc	hl
4186  16D3  46          	ld	b,(hl)
4187  16D4  2A 3A 00    	ld	hl,(_hof + 0x003a)
4188  16D7  AF          	xor	a,a
4189  16D8  ED 42       	sbc	hl,bc
4190  16DA  30 09       	jr	NC,l_game_hall_check_00104
4191  16DC  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4192  16E0  21 36 00    	ld	hl,+(_hof + 0x0036)
4193  16E3  18 14       	jr	l_game_hall_check_00106
4194  16E5              l_game_hall_check_00104:
4195  16E5  2A 34 00    	ld	hl,(_hof + 0x0034)
4196  16E8  AF          	xor	a,a
4197  16E9  ED 42       	sbc	hl,bc
4198  16EB  30 09       	jr	NC,l_game_hall_check_00105
4199  16ED  ED 43 34 00 	ld	(_hof + 0x0034),bc
4200  16F1  21 30 00    	ld	hl,+(_hof + 0x0030)
4201  16F4  18 03       	jr	l_game_hall_check_00106
4202  16F6              l_game_hall_check_00105:
4203  16F6  21 00 00    	ld	hl,0x0000
4204  16F9              l_game_hall_check_00106:
4205  16F9  DD E1       	pop	ix
4206  16FB  C9          	ret
4207  16FC              ;	---------------------------------
4208  16FC              ; Function compare_scores
4209  16FC              ; ---------------------------------
4210  16FC              _compare_scores:
4211  16FC  CD 00 00    	call	___sdcc_enter_ix
4212  16FF  DD 6E 06    	ld	l,(ix+6)
4213  1702  DD 66 07    	ld	h,(ix+7)
4214  1705  11 04 00    	ld	de,0x0004
4215  1708  19          	add	hl, de
4216  1709  4E          	ld	c,(hl)
4217  170A  23          	inc	hl
4218  170B  46          	ld	b,(hl)
4219  170C  DD 6E 04    	ld	l,(ix+4)
4220  170F  DD 66 05    	ld	h,(ix+5)
4221  1712  11 04 00    	ld	de,0x0004
4222  1715  19          	add	hl, de
4223  1716  5E          	ld	e,(hl)
4224  1717  23          	inc	hl
4225  1718  56          	ld	d,(hl)
4226  1719  79          	ld	a,c
4227  171A  93          	sub	a, e
4228  171B  6F          	ld	l,a
4229  171C  78          	ld	a,b
4230  171D  9A          	sbc	a, d
4231  171E  67          	ld	h,a
4232  171F  DD E1       	pop	ix
4233  1721  C9          	ret
4234  1722              ;	---------------------------------
4235  1722              ; Function game_hall_enter
4236  1722              ; ---------------------------------
4237  1722              _game_hall_enter:
4238  1722  CD 00 00    	call	___sdcc_enter_ix
4239  1725  21 F7 FF    	ld	hl,-9
4240  1728  39          	add	hl,sp
4241  1729  F9          	ld	sp,hl
4242  172A  CD 00 00    	call	_spr_draw_clear
4243  172D  AF          	xor	a, a
4244  172E  F5          	push	af
4245  172F  33          	inc	sp
4246  1730  CD 9C 0D    	call	_game_paint_attrib
4247  1733  33          	inc	sp
4248  1734  ED 4B 00 00 	ld	bc,(_player_score)
4249  1738  2A 02 00    	ld	hl, (_player_score + 2)
4250  173B  AF          	xor	a,a
4251  173C  ED 42       	sbc	hl,bc
4252  173E  30 14       	jr	NC,l_game_hall_enter_00102
4253  1740  AF          	xor	a, a
4254  1741  F5          	push	af
4255  1742  33          	inc	sp
4256  1743  CD C4 16    	call	_game_hall_check
4257  1746  33          	inc	sp
4258  1747  E5          	push	hl
4259  1748  3E 01       	ld	a,0x01
4260  174A  F5          	push	af
4261  174B  33          	inc	sp
4262  174C  CD C4 16    	call	_game_hall_check
4263  174F  33          	inc	sp
4264  1750  EB          	ex	de,hl
4265  1751  C1          	pop	bc
4266  1752  18 13       	jr	l_game_hall_enter_00103
4267  1754              l_game_hall_enter_00102:
4268  1754  3E 01       	ld	a,0x01
4269  1756  F5          	push	af
4270  1757  33          	inc	sp
4271  1758  CD C4 16    	call	_game_hall_check
4272  175B  33          	inc	sp
4273  175C  E5          	push	hl
4274  175D  AF          	xor	a, a
4275  175E  F5          	push	af
4276  175F  33          	inc	sp
4277  1760  CD C4 16    	call	_game_hall_check
4278  1763  33          	inc	sp
4279  1764  D1          	pop	de
4280  1765  4D          	ld	c,l
4281  1766  44          	ld	b,h
4282  1767              l_game_hall_enter_00103:
4283  1767  78          	ld	a,b
4284  1768  B1          	or	a,c
4285  1769  20 05       	jr	NZ,l_game_hall_enter_00125
4286  176B  7A          	ld	a,d
4287  176C  B3          	or	a,e
4288  176D  CA BA 18    	jp	Z,l_game_hall_enter_00126
4289  1770              l_game_hall_enter_00125:
4290  1770  3E 00       	ld	a,0x00
4291  1772  DD 77 FA    	ld	(ix-6),a
4292  1775  DD 77 FB    	ld	(ix-5),a
4293  1778  DD 77 F9    	ld	(ix-7),a
4294  177B  DD 77 F8    	ld	(ix-8),a
4295  177E  DD 36 F7 00 	ld	(ix-9),0x00
4296  1782  78          	ld	a,b
4297  1783  B1          	or	a,c
4298  1784  28 0F       	jr	Z,l_game_hall_enter_00105
4299  1786  DD 36 F8 01 	ld	(ix-8),0x01
4300  178A  C5          	push	bc
4301  178B  D5          	push	de
4302  178C  AF          	xor	a, a
4303  178D  F5          	push	af
4304  178E  33          	inc	sp
4305  178F  CD 19 19    	call	_game_hall_enter_phs
4306  1792  33          	inc	sp
4307  1793  D1          	pop	de
4308  1794  C1          	pop	bc
4309  1795              l_game_hall_enter_00105:
4310  1795  7A          	ld	a,d
4311  1796  B3          	or	a,e
4312  1797  28 10       	jr	Z,l_game_hall_enter_00107
4313  1799  DD 36 F7 05 	ld	(ix-9),0x05
4314  179D  C5          	push	bc
4315  179E  D5          	push	de
4316  179F  3E 01       	ld	a,0x01
4317  17A1  F5          	push	af
4318  17A2  33          	inc	sp
4319  17A3  CD 19 19    	call	_game_hall_enter_phs
4320  17A6  33          	inc	sp
4321  17A7  D1          	pop	de
4322  17A8  C1          	pop	bc
4323  17A9              l_game_hall_enter_00107:
4324  17A9  C5          	push	bc
4325  17AA  D5          	push	de
4326  17AB  21 C8 18    	ld	hl,___str_47
4327  17AE  E5          	push	hl
4328  17AF  21 02 0A    	ld	hl,0x0a02
4329  17B2  E5          	push	hl
4330  17B3  CD 00 00    	call	_zx_print_str
4331  17B6  21 D5 18    	ld	hl,___str_48
4332  17B9  E5          	push	hl
4333  17BA  21 12 06    	ld	hl,0x0612
4334  17BD  E5          	push	hl
4335  17BE  CD 00 00    	call	_zx_print_str
4336  17C1  21 E8 18    	ld	hl,___str_49
4337  17C4  E5          	push	hl
4338  17C5  21 13 06    	ld	hl,0x0613
4339  17C8  E5          	push	hl
4340  17C9  CD 00 00    	call	_zx_print_str
4341  17CC  D1          	pop	de
4342  17CD  C1          	pop	bc
4343  17CE  21 FF FF    	ld	hl,-1
4344  17D1  CD 00 00    	call	____sdcc_store_debc_hlix
4345  17D4              l_game_hall_enter_00122:
4346  17D4  DD 7E F8    	ld	a,(ix-8)
4347  17D7  DD 86 F7    	add	a,(ix-9)
4348  17DA  B7          	or	a, a
4349  17DB  CA A2 18    	jp	Z,l_game_hall_enter_00124
4350  17DE  21 05 00    	ld	hl,0x0005
4351  17E1  E5          	push	hl
4352  17E2  2A 00 00    	ld	hl,(_frame_time)
4353  17E5  E5          	push	hl
4354  17E6  CD BE 1C    	call	_game_check_time
4355  17E9  F1          	pop	af
4356  17EA  F1          	pop	af
4357  17EB  7D          	ld	a,l
4358  17EC  B7          	or	a, a
4359  17ED  28 36       	jr	Z,l_game_hall_enter_00113
4360  17EF  DD 7E F9    	ld	a,(ix-7)
4361  17F2  D6 01       	sub	a,0x01
4362  17F4  3E 00       	ld	a,0x00
4363  17F6  17          	rla
4364  17F7  DD 77 F9    	ld	(ix-7),a
4365  17FA  DD 7E F8    	ld	a,(ix-8)
4366  17FD  B7          	or	a, a
4367  17FE  28 0B       	jr	Z,l_game_hall_enter_00109
4368  1800  DD 66 F9    	ld	h,(ix-7)
4369  1803  DD 6E F8    	ld	l,(ix-8)
4370  1806  E5          	push	hl
4371  1807  CD A3 19    	call	_game_hall_print_p
4372  180A  F1          	pop	af
4373  180B              l_game_hall_enter_00109:
4374  180B  DD 7E F7    	ld	a,(ix-9)
4375  180E  B7          	or	a, a
4376  180F  28 0B       	jr	Z,l_game_hall_enter_00111
4377  1811  DD 66 F9    	ld	h,(ix-7)
4378  1814  DD 6E F7    	ld	l,(ix-9)
4379  1817  E5          	push	hl
4380  1818  CD A3 19    	call	_game_hall_print_p
4381  181B  F1          	pop	af
4382  181C              l_game_hall_enter_00111:
4383  181C  CD 10 1C    	call	_game_rotate_attrib
4384  181F  2A 00 00    	ld	hl,(_curr_time)
4385  1822  22 00 00    	ld	(_frame_time),hl
4386  1825              l_game_hall_enter_00113:
4387  1825  21 00 00    	ld	hl,_k1
4388  1828  E5          	push	hl
4389  1829  2A 00 00    	ld	hl,(_joyfunc1)
4390  182C  CD 00 00    	call	___sdcc_call_hl
4391  182F  F1          	pop	af
4392  1830  7D          	ld	a,l
4393  1831  32 00 00    	ld	(_dirs),a
4394  1834  DD 7E FA    	ld	a,(ix-6)
4395  1837  B7          	or	a, a
4396  1838  20 22       	jr	NZ,l_game_hall_enter_00115
4397  183A  DD 7E F8    	ld	a,(ix-8)
4398  183D  B7          	or	a, a
4399  183E  28 1C       	jr	Z,l_game_hall_enter_00115
4400  1840  F5          	push	af
4401  1841  33          	inc	sp
4402  1842  CD 61 1A    	call	_game_hall_edit_p
4403  1845  33          	inc	sp
4404  1846  DD 75 F8    	ld	(ix-8),l
4405  1849  7D          	ld	a,l
4406  184A  B7          	or	a, a
4407  184B  20 0F       	jr	NZ,l_game_hall_enter_00115
4408  184D  DD 5E FC    	ld	e,(ix-4)
4409  1850  DD 56 FD    	ld	d,(ix-3)
4410  1853  AF          	xor	a,a
4411  1854  21 00 00    	ld	hl,_initials
4412  1857              l_game_hall_enter_00190:
4413  1857  BE          	cp	a, (hl)
4414  1858  ED A0       	ldi
4415  185A  20 FB       	jr	NZ, l_game_hall_enter_00190
4416  185C              l_game_hall_enter_00115:
4417  185C  3A 00 00    	ld	a,(_dirs)
4418  185F  DD 77 FA    	ld	(ix-6),a
4419  1862  21 00 00    	ld	hl,_k2
4420  1865  E5          	push	hl
4421  1866  2A 00 00    	ld	hl,(_joyfunc2)
4422  1869  CD 00 00    	call	___sdcc_call_hl
4423  186C  F1          	pop	af
4424  186D  7D          	ld	a,l
4425  186E  32 00 00    	ld	(_dirs),a
4426  1871  DD 7E FB    	ld	a,(ix-5)
4427  1874  B7          	or	a, a
4428  1875  20 22       	jr	NZ,l_game_hall_enter_00119
4429  1877  DD 7E F7    	ld	a,(ix-9)
4430  187A  B7          	or	a, a
4431  187B  28 1C       	jr	Z,l_game_hall_enter_00119
4432  187D  F5          	push	af
4433  187E  33          	inc	sp
4434  187F  CD 61 1A    	call	_game_hall_edit_p
4435  1882  33          	inc	sp
4436  1883  DD 75 F7    	ld	(ix-9),l
4437  1886  7D          	ld	a,l
4438  1887  B7          	or	a, a
4439  1888  20 0F       	jr	NZ,l_game_hall_enter_00119
4440  188A  DD 5E FE    	ld	e,(ix-2)
4441  188D  DD 56 FF    	ld	d,(ix-1)
4442  1890  AF          	xor	a,a
4443  1891  21 04 00    	ld	hl,+(_initials + 0x0004)
4444  1894              l_game_hall_enter_00191:
4445  1894  BE          	cp	a, (hl)
4446  1895  ED A0       	ldi
4447  1897  20 FB       	jr	NZ, l_game_hall_enter_00191
4448  1899              l_game_hall_enter_00119:
4449  1899  3A 00 00    	ld	a,(_dirs)
4450  189C  DD 77 FB    	ld	(ix-5),a
4451  189F  C3 D4 17    	jp	l_game_hall_enter_00122
4452  18A2              l_game_hall_enter_00124:
4453  18A2  CD 00 00    	call	_ay_reset
4454  18A5  CD 00 00    	call	_spr_draw_clear
4455  18A8  01 FC 16    	ld	bc,_compare_scores
4456  18AB  C5          	push	bc
4457  18AC  21 06 00    	ld	hl,0x0006
4458  18AF  E5          	push	hl
4459  18B0  2E 0A       	ld	l,0x0a
4460  18B2  E5          	push	hl
4461  18B3  21 00 00    	ld	hl,_hof
4462  18B6  E5          	push	hl
4463  18B7  CD 00 00    	call	__insertion_sort__callee
4464  18BA              l_game_hall_enter_00126:
4465  18BA  CD 2C 1B    	call	_game_hall_of_fame
4466  18BD  AF          	xor	a, a
4467  18BE  F5          	push	af
4468  18BF  33          	inc	sp
4469  18C0  CD FC 18    	call	_game_menu_back
4470  18C3  DD F9       	ld	sp,ix
4471  18C5  DD E1       	pop	ix
4472  18C7  C9          	ret
4473  18C8              ___str_47:
4474  18C8  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4475  18D4  00          	DEFB 0x00
4476  18D5              ___str_48:
4477  18D5  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4478  18E7  00          	DEFB 0x00
4479  18E8              ___str_49:
4480  18E8  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4481  18FB  00          	DEFB 0x00
4482  18FC              ;	---------------------------------
4483  18FC              ; Function game_menu_back
4484  18FC              ; ---------------------------------
4485  18FC              _game_menu_back:
4486  18FC  CD 00 00    	call	___sdcc_enter_ix
4487  18FF  21 00 00    	ld	hl,_game_menu_sel
4488  1902  36 00       	ld	(hl),0x00
4489  1904  DD 7E 04    	ld	a,(ix+4)
4490  1907  32 00 00    	ld	(_s_lin1),a
4491  190A  CD F4 10    	call	_game_menu_top_paint
4492  190D  CD 6A 11    	call	_game_menu_paint
4493  1910  2A 00 00    	ld	hl,(_curr_time)
4494  1913  22 00 00    	ld	(_entry_time),hl
4495  1916  DD E1       	pop	ix
4496  1918  C9          	ret
4497  1919              ;	---------------------------------
4498  1919              ; Function game_hall_enter_phs
4499  1919              ; ---------------------------------
4500  1919              _game_hall_enter_phs:
4501  1919  CD 00 00    	call	___sdcc_enter_ix
4502  191C  DD 7E 04    	ld	a,(ix+4)
4503  191F  B7          	or	a, a
4504  1920  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4505  1922  21 9C 01    	ld	hl,0x019c
4506  1925  E5          	push	hl
4507  1926  21 02 0C    	ld	hl,0x0c02
4508  1929  E5          	push	hl
4509  192A  3E 30       	ld	a,0x30
4510  192C  F5          	push	af
4511  192D  33          	inc	sp
4512  192E  CD 37 12    	call	_game_menu_e
4513  1931  F1          	pop	af
4514  1932  33          	inc	sp
4515  1933  21 9F FF    	ld	hl,0xff9f
4516  1936  E3          	ex	(sp),hl
4517  1937  21 02 0C    	ld	hl,0x0c02
4518  193A  E5          	push	hl
4519  193B  3E 7C       	ld	a,0x7c
4520  193D  F5          	push	af
4521  193E  33          	inc	sp
4522  193F  CD 37 12    	call	_game_menu_e
4523  1942  F1          	pop	af
4524  1943  33          	inc	sp
4525  1944  21 97 19    	ld	hl,___str_50
4526  1947  E3          	ex	(sp),hl
4527  1948  21 07 05    	ld	hl,0x0507
4528  194B  E5          	push	hl
4529  194C  CD 00 00    	call	_zx_print_str
4530  194F  21 9C 19    	ld	hl,___str_51
4531  1952  E5          	push	hl
4532  1953  21 08 05    	ld	hl,0x0508
4533  1956  E5          	push	hl
4534  1957  CD 00 00    	call	_zx_print_str
4535  195A  18 38       	jr	l_game_hall_enter_phs_00104
4536  195C              l_game_hall_enter_phs_00102:
4537  195C  21 9C 01    	ld	hl,0x019c
4538  195F  E5          	push	hl
4539  1960  21 12 1C    	ld	hl,0x1c12
4540  1963  E5          	push	hl
4541  1964  3E 30       	ld	a,0x30
4542  1966  F5          	push	af
4543  1967  33          	inc	sp
4544  1968  CD 37 12    	call	_game_menu_e
4545  196B  F1          	pop	af
4546  196C  33          	inc	sp
4547  196D  21 9F FF    	ld	hl,0xff9f
4548  1970  E3          	ex	(sp),hl
4549  1971  21 12 1C    	ld	hl,0x1c12
4550  1974  E5          	push	hl
4551  1975  3E 7C       	ld	a,0x7c
4552  1977  F5          	push	af
4553  1978  33          	inc	sp
4554  1979  CD 37 12    	call	_game_menu_e
4555  197C  F1          	pop	af
4556  197D  33          	inc	sp
4557  197E  21 97 19    	ld	hl,___str_50
4558  1981  E3          	ex	(sp),hl
4559  1982  21 07 15    	ld	hl,0x1507
4560  1985  E5          	push	hl
4561  1986  CD 00 00    	call	_zx_print_str
4562  1989  21 9C 19    	ld	hl,___str_51
4563  198C  E5          	push	hl
4564  198D  21 08 15    	ld	hl,0x1508
4565  1990  E5          	push	hl
4566  1991  CD 00 00    	call	_zx_print_str
4567  1994              l_game_hall_enter_phs_00104:
4568  1994  DD E1       	pop	ix
4569  1996  C9          	ret
4570  1997              ___str_50:
4571  1997  48 49 47 48 	DEFM "HIGH"
4572  199B  00          	DEFB 0x00
4573  199C              ___str_51:
4574  199C  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4575  19A2  00          	DEFB 0x00
4576  19A3              ;	---------------------------------
4577  19A3              ; Function game_hall_print_p
4578  19A3              ; ---------------------------------
4579  19A3              _game_hall_print_p:
4580  19A3  CD 00 00    	call	___sdcc_enter_ix
4581  19A6  DD 7E 04    	ld	a,(ix+4)
4582  19A9  D6 05       	sub	a,0x05
4583  19AB  30 59       	jr	NC,l_game_hall_print_p_00108
4584  19AD  21 00 00    	ld	hl,_initials
4585  19B0  E5          	push	hl
4586  19B1  21 0D 06    	ld	hl,0x060d
4587  19B4  E5          	push	hl
4588  19B5  CD 00 00    	call	_zx_print_str
4589  19B8  DD 7E 04    	ld	a,(ix+4)
4590  19BB  C6 06       	add	a,0x06
4591  19BD  47          	ld	b,a
4592  19BE  DD 7E 04    	ld	a,(ix+4)
4593  19C1  C6 05       	add	a,0x05
4594  19C3  57          	ld	d,a
4595  19C4  3E 70       	ld	a,0x70
4596  19C6  F5          	push	af
4597  19C7  33          	inc	sp
4598  19C8  4A          	ld	c, d
4599  19C9  C5          	push	bc
4600  19CA  CD F0 0D    	call	_game_paint_attrib_lin_h
4601  19CD  F1          	pop	af
4602  19CE  33          	inc	sp
4603  19CF  76          	halt
4604  19D0  DD 7E 05    	ld	a,(ix+5)
4605  19D3  B7          	or	a, a
4606  19D4  28 18       	jr	Z,l_game_hall_print_p_00102
4607  19D6  21 56 06    	ld	hl,0x0656
4608  19D9  E5          	push	hl
4609  19DA  3E A9       	ld	a,0xa9
4610  19DC  F5          	push	af
4611  19DD  33          	inc	sp
4612  19DE  CD 00 00    	call	_NIRVANAP_drawT_callee
4613  19E1  21 58 06    	ld	hl,0x0658
4614  19E4  E5          	push	hl
4615  19E5  3E 03       	ld	a,0x03
4616  19E7  F5          	push	af
4617  19E8  33          	inc	sp
4618  19E9  CD 00 00    	call	_NIRVANAP_drawT_callee
4619  19EC  18 70       	jr	l_game_hall_print_p_00110
4620  19EE              l_game_hall_print_p_00102:
4621  19EE  21 58 06    	ld	hl,0x0658
4622  19F1  E5          	push	hl
4623  19F2  3E A9       	ld	a,0xa9
4624  19F4  F5          	push	af
4625  19F5  33          	inc	sp
4626  19F6  CD 00 00    	call	_NIRVANAP_drawT_callee
4627  19F9  21 56 06    	ld	hl,0x0656
4628  19FC  E5          	push	hl
4629  19FD  3E 16       	ld	a,0x16
4630  19FF  F5          	push	af
4631  1A00  33          	inc	sp
4632  1A01  CD 00 00    	call	_NIRVANAP_drawT_callee
4633  1A04  18 58       	jr	l_game_hall_print_p_00110
4634  1A06              l_game_hall_print_p_00108:
4635  1A06  21 04 00    	ld	hl,+(_initials + 0x0004)
4636  1A09  E5          	push	hl
4637  1A0A  21 0D 16    	ld	hl,0x160d
4638  1A0D  E5          	push	hl
4639  1A0E  CD 00 00    	call	_zx_print_str
4640  1A11  DD 7E 04    	ld	a,(ix+4)
4641  1A14  C6 12       	add	a,0x12
4642  1A16  57          	ld	d,a
4643  1A17  DD 7E 04    	ld	a,(ix+4)
4644  1A1A  C6 11       	add	a,0x11
4645  1A1C  47          	ld	b,a
4646  1A1D  3E 70       	ld	a,0x70
4647  1A1F  5A          	ld	e,d
4648  1A20  57          	ld	d,a
4649  1A21  D5          	push	de
4650  1A22  C5          	push	bc
4651  1A23  33          	inc	sp
4652  1A24  CD F0 0D    	call	_game_paint_attrib_lin_h
4653  1A27  F1          	pop	af
4654  1A28  33          	inc	sp
4655  1A29  76          	halt
4656  1A2A  DD 7E 05    	ld	a,(ix+5)
4657  1A2D  B7          	or	a, a
4658  1A2E  28 18       	jr	Z,l_game_hall_print_p_00105
4659  1A30  21 56 17    	ld	hl,0x1756
4660  1A33  E5          	push	hl
4661  1A34  3E A9       	ld	a,0xa9
4662  1A36  F5          	push	af
4663  1A37  33          	inc	sp
4664  1A38  CD 00 00    	call	_NIRVANAP_drawT_callee
4665  1A3B  21 58 17    	ld	hl,0x1758
4666  1A3E  E5          	push	hl
4667  1A3F  3E 27       	ld	a,0x27
4668  1A41  F5          	push	af
4669  1A42  33          	inc	sp
4670  1A43  CD 00 00    	call	_NIRVANAP_drawT_callee
4671  1A46  18 16       	jr	l_game_hall_print_p_00110
4672  1A48              l_game_hall_print_p_00105:
4673  1A48  21 58 17    	ld	hl,0x1758
4674  1A4B  E5          	push	hl
4675  1A4C  3E A9       	ld	a,0xa9
4676  1A4E  F5          	push	af
4677  1A4F  33          	inc	sp
4678  1A50  CD 00 00    	call	_NIRVANAP_drawT_callee
4679  1A53  21 56 17    	ld	hl,0x1756
4680  1A56  E5          	push	hl
4681  1A57  3E 2E       	ld	a,0x2e
4682  1A59  F5          	push	af
4683  1A5A  33          	inc	sp
4684  1A5B  CD 00 00    	call	_NIRVANAP_drawT_callee
4685  1A5E              l_game_hall_print_p_00110:
4686  1A5E  DD E1       	pop	ix
4687  1A60  C9          	ret
4688  1A61              ;	---------------------------------
4689  1A61              ; Function game_hall_edit_p
4690  1A61              ; ---------------------------------
4691  1A61              _game_hall_edit_p:
4692  1A61  CD 00 00    	call	___sdcc_enter_ix
4693  1A64  DD 35 04    	dec	(ix+4)
4694  1A67  3A 00 00    	ld	a,(_dirs)
4695  1A6A  07          	rlca
4696  1A6B  30 7B       	jr	NC,l_game_hall_edit_p_00120
4697  1A6D  DD 7E 04    	ld	a,(ix+4)
4698  1A70  D6 04       	sub	a,0x04
4699  1A72  30 1A       	jr	NC,l_game_hall_edit_p_00102
4700  1A74  DD 7E 04    	ld	a,(ix+4)
4701  1A77  C6 07       	add	a,0x07
4702  1A79  57          	ld	d,a
4703  1A7A  DD 7E 04    	ld	a,(ix+4)
4704  1A7D  C6 06       	add	a,0x06
4705  1A7F  47          	ld	b,a
4706  1A80  3E 70       	ld	a,0x70
4707  1A82  5A          	ld	e,d
4708  1A83  57          	ld	d,a
4709  1A84  D5          	push	de
4710  1A85  C5          	push	bc
4711  1A86  33          	inc	sp
4712  1A87  CD C9 0D    	call	_game_paint_attrib_lin
4713  1A8A  F1          	pop	af
4714  1A8B  33          	inc	sp
4715  1A8C  18 18       	jr	l_game_hall_edit_p_00103
4716  1A8E              l_game_hall_edit_p_00102:
4717  1A8E  DD 7E 04    	ld	a,(ix+4)
4718  1A91  C6 13       	add	a,0x13
4719  1A93  57          	ld	d,a
4720  1A94  DD 7E 04    	ld	a,(ix+4)
4721  1A97  C6 12       	add	a,0x12
4722  1A99  47          	ld	b,a
4723  1A9A  3E 70       	ld	a,0x70
4724  1A9C  5A          	ld	e,d
4725  1A9D  57          	ld	d,a
4726  1A9E  D5          	push	de
4727  1A9F  C5          	push	bc
4728  1AA0  33          	inc	sp
4729  1AA1  CD C9 0D    	call	_game_paint_attrib_lin
4730  1AA4  F1          	pop	af
4731  1AA5  33          	inc	sp
4732  1AA6              l_game_hall_edit_p_00103:
4733  1AA6  CD 00 00    	call	_sound_slide
4734  1AA9  21 00 00    	ld	hl,_ay_effect_01
4735  1AAC  CD 00 00    	call	_ay_fx_play
4736  1AAF  01 00 00    	ld	bc,_initials+0
4737  1AB2  DD 5E 04    	ld	e,(ix+4)
4738  1AB5  7B          	ld	a,e
4739  1AB6  3C          	inc	a
4740  1AB7  DD 77 04    	ld	(ix+4),a
4741  1ABA  6B          	ld	l,e
4742  1ABB  26 00       	ld	h,0x00
4743  1ABD  09          	add	hl,bc
4744  1ABE  7E          	ld	a,(hl)
4745  1ABF  D6 7B       	sub	a,0x7b
4746  1AC1  20 19       	jr	NZ,l_game_hall_edit_p_00107
4747  1AC3  DD 35 04    	dec	(ix+4)
4748  1AC6  DD 7E 04    	ld	a,(ix+4)
4749  1AC9  E6 03       	and	a,0x03
4750  1ACB  28 0F       	jr	Z,l_game_hall_edit_p_00107
4751  1ACD  DD 5E 04    	ld	e,(ix+4)
4752  1AD0  7B          	ld	a,e
4753  1AD1  C6 FF       	add	a,0xff
4754  1AD3  DD 77 04    	ld	(ix+4),a
4755  1AD6  6B          	ld	l,e
4756  1AD7  26 00       	ld	h,0x00
4757  1AD9  09          	add	hl,bc
4758  1ADA  36 41       	ld	(hl),0x41
4759  1ADC              l_game_hall_edit_p_00107:
4760  1ADC  DD 7E 04    	ld	a,(ix+4)
4761  1ADF  E6 03       	and	a,0x03
4762  1AE1  D6 03       	sub	a,0x03
4763  1AE3  20 3F       	jr	NZ,l_game_hall_edit_p_00121
4764  1AE5  6F          	ld	l,a
4765  1AE6  18 41       	jr	l_game_hall_edit_p_00122
4766  1AE8              l_game_hall_edit_p_00120:
4767  1AE8  3A 00 00    	ld	a,(_dirs)
4768  1AEB  E6 0C       	and	a,0x0c
4769  1AED  28 35       	jr	Z,l_game_hall_edit_p_00121
4770  1AEF  11 00 00    	ld	de,_hall_valids
4771  1AF2  3E 00       	ld	a,+((_initials) & 0xFF)
4772  1AF4  DD 86 04    	add	a,(ix+4)
4773  1AF7  4F          	ld	c,a
4774  1AF8  3E 00       	ld	a,+((_initials) / 256)
4775  1AFA  CE 00       	adc	a,0x00
4776  1AFC  47          	ld	b,a
4777  1AFD  0A          	ld	a,(bc)
4778  1AFE  6F          	ld	l,a
4779  1AFF              l_game_hall_edit_p_00168:
4780  1AFF  1A          	ld	a, (de)
4781  1B00  BD          	cp	a, l
4782  1B01  28 06       	jr	Z,l_game_hall_edit_p_00167
4783  1B03  B7          	or	a, a
4784  1B04  13          	inc	de
4785  1B05  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4786  1B07  5F          	ld	e, a
4787  1B08  57          	ld	d, a
4788  1B09              l_game_hall_edit_p_00167:
4789  1B09  3A 00 00    	ld	a,(_dirs)
4790  1B0C  E6 04       	and	a,0x04
4791  1B0E  28 0A       	jr	Z,l_game_hall_edit_p_00115
4792  1B10  1B          	dec	de
4793  1B11  1A          	ld	a,(de)
4794  1B12  3D          	dec	a
4795  1B13  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4796  1B15  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4797  1B18  18 08       	jr	l_game_hall_edit_p_00116
4798  1B1A              l_game_hall_edit_p_00115:
4799  1B1A  13          	inc	de
4800  1B1B  1A          	ld	a,(de)
4801  1B1C  B7          	or	a, a
4802  1B1D  20 03       	jr	NZ,l_game_hall_edit_p_00116
4803  1B1F  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4804  1B22              l_game_hall_edit_p_00116:
4805  1B22  1A          	ld	a,(de)
4806  1B23  02          	ld	(bc),a
4807  1B24              l_game_hall_edit_p_00121:
4808  1B24  DD 4E 04    	ld	c,(ix+4)
4809  1B27  0C          	inc	c
4810  1B28  69          	ld	l,c
4811  1B29              l_game_hall_edit_p_00122:
4812  1B29  DD E1       	pop	ix
4813  1B2B  C9          	ret
4814  1B2C              ;	---------------------------------
4815  1B2C              ; Function game_hall_of_fame
4816  1B2C              ; ---------------------------------
4817  1B2C              _game_hall_of_fame:
4818  1B2C  CD 00 00    	call	_spr_draw_clear
4819  1B2F  AF          	xor	a, a
4820  1B30  F5          	push	af
4821  1B31  33          	inc	sp
4822  1B32  CD 9C 0D    	call	_game_paint_attrib
4823  1B35  33          	inc	sp
4824  1B36  21 9C 01    	ld	hl,0x019c
4825  1B39  E5          	push	hl
4826  1B3A  21 06 18    	ld	hl,0x1806
4827  1B3D  E5          	push	hl
4828  1B3E  3E 10       	ld	a,0x10
4829  1B40  F5          	push	af
4830  1B41  33          	inc	sp
4831  1B42  CD 37 12    	call	_game_menu_e
4832  1B45  F1          	pop	af
4833  1B46  33          	inc	sp
4834  1B47  21 9F FF    	ld	hl,0xff9f
4835  1B4A  E3          	ex	(sp),hl
4836  1B4B  21 06 18    	ld	hl,0x1806
4837  1B4E  E5          	push	hl
4838  1B4F  3E 98       	ld	a,0x98
4839  1B51  F5          	push	af
4840  1B52  33          	inc	sp
4841  1B53  CD 37 12    	call	_game_menu_e
4842  1B56  F1          	pop	af
4843  1B57  F1          	pop	af
4844  1B58  33          	inc	sp
4845  1B59  21 00 00    	ld	hl,_s_lin1
4846  1B5C  36 00       	ld	(hl),0x00
4847  1B5E              l_game_hall_of_fame_00102:
4848  1B5E  21 00 00    	ld	hl,_screen_ink
4849  1B61  36 05       	ld	(hl),0x05
4850  1B63  2A 00 00    	ld	hl,(_s_lin1)
4851  1B66  26 00       	ld	h,0x00
4852  1B68  4D          	ld	c,l
4853  1B69  44          	ld	b,h
4854  1B6A  29          	add	hl, hl
4855  1B6B  09          	add	hl, bc
4856  1B6C  29          	add	hl, hl
4857  1B6D  01 00 00    	ld	bc,_hof
4858  1B70  09          	add	hl,bc
4859  1B71  3A 00 00    	ld	a,(_s_lin1)
4860  1B74  EB          	ex	de,hl
4861  1B75  C6 07       	add	a,0x07
4862  1B77  47          	ld	b,a
4863  1B78  D5          	push	de
4864  1B79  3E 0A       	ld	a,0x0a
4865  1B7B  48          	ld	c,b
4866  1B7C  47          	ld	b,a
4867  1B7D  C5          	push	bc
4868  1B7E  CD 00 00    	call	_zx_print_str
4869  1B81  2A 00 00    	ld	hl,(_s_lin1)
4870  1B84  26 00       	ld	h,0x00
4871  1B86  4D          	ld	c,l
4872  1B87  44          	ld	b,h
4873  1B88  29          	add	hl, hl
4874  1B89  09          	add	hl, bc
4875  1B8A  29          	add	hl, hl
4876  1B8B  01 00 00    	ld	bc,_hof
4877  1B8E  09          	add	hl,bc
4878  1B8F  11 04 00    	ld	de,0x0004
4879  1B92  19          	add	hl, de
4880  1B93  5E          	ld	e,(hl)
4881  1B94  23          	inc	hl
4882  1B95  56          	ld	d,(hl)
4883  1B96  3A 00 00    	ld	a,(_s_lin1)
4884  1B99  C6 07       	add	a,0x07
4885  1B9B  47          	ld	b,a
4886  1B9C  D5          	push	de
4887  1B9D  3E 10       	ld	a,0x10
4888  1B9F  48          	ld	c,b
4889  1BA0  47          	ld	b,a
4890  1BA1  C5          	push	bc
4891  1BA2  CD 00 00    	call	_zx_print_int
4892  1BA5  11 FF 1B    	ld	de,___str_52
4893  1BA8  3A 00 00    	ld	a,(_s_lin1)
4894  1BAB  C6 07       	add	a,0x07
4895  1BAD  47          	ld	b,a
4896  1BAE  D5          	push	de
4897  1BAF  3E 0E       	ld	a,0x0e
4898  1BB1  48          	ld	c,b
4899  1BB2  47          	ld	b,a
4900  1BB3  C5          	push	bc
4901  1BB4  CD 00 00    	call	_zx_print_str
4902  1BB7  11 01 1C    	ld	de,___str_53
4903  1BBA  3A 00 00    	ld	a,(_s_lin1)
4904  1BBD  C6 07       	add	a,0x07
4905  1BBF  47          	ld	b,a
4906  1BC0  D5          	push	de
4907  1BC1  3E 15       	ld	a,0x15
4908  1BC3  48          	ld	c,b
4909  1BC4  47          	ld	b,a
4910  1BC5  C5          	push	bc
4911  1BC6  CD 00 00    	call	_zx_print_str
4912  1BC9  21 00 00    	ld	hl,_s_lin1
4913  1BCC  7E          	ld	a,(hl)
4914  1BCD  3C          	inc	a
4915  1BCE  77          	ld	(hl),a
4916  1BCF  D6 0A       	sub	a,0x0a
4917  1BD1  38 8B       	jr	C,l_game_hall_of_fame_00102
4918  1BD3  21 03 1C    	ld	hl,___str_54
4919  1BD6  E5          	push	hl
4920  1BD7  21 04 0A    	ld	hl,0x0a04
4921  1BDA  E5          	push	hl
4922  1BDB  CD 00 00    	call	_zx_print_str
4923  1BDE  21 F4 01    	ld	hl,0x01f4
4924  1BE1  E5          	push	hl
4925  1BE2  21 0A 16    	ld	hl,0x160a
4926  1BE5  E5          	push	hl
4927  1BE6  3E 04       	ld	a,0x04
4928  1BE8  F5          	push	af
4929  1BE9  33          	inc	sp
4930  1BEA  CD 2C 1C    	call	_game_colour_message
4931  1BED  F1          	pop	af
4932  1BEE  F1          	pop	af
4933  1BEF  33          	inc	sp
4934  1BF0  CD 00 00    	call	_spr_draw_clear
4935  1BF3  21 00 00    	ld	hl,_game_menu_sel
4936  1BF6  36 00       	ld	(hl),0x00
4937  1BF8  21 00 00    	ld	hl,_pb_midi_title
4938  1BFB  CD 00 00    	call	_ay_midi_play
4939  1BFE  C9          	ret
4940  1BFF              ___str_52:
4941  1BFF  2D          	DEFM "-"
4942  1C00  00          	DEFB 0x00
4943  1C01              ___str_53:
4944  1C01  30          	DEFM "0"
4945  1C02  00          	DEFB 0x00
4946  1C03              ___str_54:
4947  1C03  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4948  1C0F  00          	DEFB 0x00
4949  1C10              ;	---------------------------------
4950  1C10              ; Function game_rotate_attrib
4951  1C10              ; ---------------------------------
4952  1C10              _game_rotate_attrib:
4953  1C10  01 03 00    	ld	bc,_attrib_hl + 3
4954  1C13  0A          	ld	a,(bc)
4955  1C14  32 00 00    	ld	(_tmp_uc),a
4956  1C17  11 02 00    	ld	de,_attrib_hl + 2
4957  1C1A  1A          	ld	a,(de)
4958  1C1B  02          	ld	(bc),a
4959  1C1C  01 01 00    	ld	bc,_attrib_hl + 1
4960  1C1F  0A          	ld	a,(bc)
4961  1C20  12          	ld	(de),a
4962  1C21  3A 00 00    	ld	a,(_attrib_hl)
4963  1C24  02          	ld	(bc),a
4964  1C25  3A 00 00    	ld	a,(_tmp_uc)
4965  1C28  32 00 00    	ld	(_attrib_hl),a
4966  1C2B  C9          	ret
4967  1C2C              ;	---------------------------------
4968  1C2C              ; Function game_colour_message
4969  1C2C              ; ---------------------------------
4970  1C2C              _game_colour_message:
4971  1C2C  CD 00 00    	call	___sdcc_enter_ix
4972  1C2F  3B          	dec	sp
4973  1C30  21 00 00    	ld	hl,_tmp
4974  1C33  36 01       	ld	(hl),0x01
4975  1C35  2A 00 00    	ld	hl,(_curr_time)
4976  1C38  22 00 00    	ld	(_frame_time),hl
4977  1C3B  2A 00 00    	ld	hl,(_curr_time)
4978  1C3E  22 00 00    	ld	(_entry_time),hl
4979  1C41  DD 7E 04    	ld	a,(ix+4)
4980  1C44  07          	rlca
4981  1C45  07          	rlca
4982  1C46  07          	rlca
4983  1C47  E6 F8       	and	a,0xf8
4984  1C49  C6 08       	add	a,0x08
4985  1C4B  DD 77 FF    	ld	(ix-1),a
4986  1C4E              l_game_colour_message_00107:
4987  1C4E  3A 00 00    	ld	a,(_tmp)
4988  1C51  B7          	or	a, a
4989  1C52  28 66       	jr	Z,l_game_colour_message_00110
4990  1C54  DD 6E 07    	ld	l,(ix+7)
4991  1C57  DD 66 08    	ld	h,(ix+8)
4992  1C5A  E5          	push	hl
4993  1C5B  2A 00 00    	ld	hl,(_entry_time)
4994  1C5E  E5          	push	hl
4995  1C5F  CD BE 1C    	call	_game_check_time
4996  1C62  F1          	pop	af
4997  1C63  F1          	pop	af
4998  1C64  7D          	ld	a,l
4999  1C65  B7          	or	a, a
5000  1C66  20 52       	jr	NZ,l_game_colour_message_00110
5001  1C68  21 05 00    	ld	hl,0x0005
5002  1C6B  E5          	push	hl
5003  1C6C  2A 00 00    	ld	hl,(_frame_time)
5004  1C6F  E5          	push	hl
5005  1C70  CD BE 1C    	call	_game_check_time
5006  1C73  F1          	pop	af
5007  1C74  F1          	pop	af
5008  1C75  7D          	ld	a,l
5009  1C76  B7          	or	a, a
5010  1C77  28 1A       	jr	Z,l_game_colour_message_00103
5011  1C79  2A 00 00    	ld	hl,(_curr_time)
5012  1C7C  22 00 00    	ld	(_frame_time),hl
5013  1C7F  DD 66 FF    	ld	h,(ix-1)
5014  1C82  DD 6E 06    	ld	l,(ix+6)
5015  1C85  E5          	push	hl
5016  1C86  DD 7E 05    	ld	a,(ix+5)
5017  1C89  F5          	push	af
5018  1C8A  33          	inc	sp
5019  1C8B  CD F0 0D    	call	_game_paint_attrib_lin_h
5020  1C8E  F1          	pop	af
5021  1C8F  33          	inc	sp
5022  1C90  CD 10 1C    	call	_game_rotate_attrib
5023  1C93              l_game_colour_message_00103:
5024  1C93  21 00 00    	ld	hl,_k1
5025  1C96  E5          	push	hl
5026  1C97  2A 00 00    	ld	hl,(_joyfunc1)
5027  1C9A  CD 00 00    	call	___sdcc_call_hl
5028  1C9D  E3          	ex	(sp),hl
5029  1C9E  21 00 00    	ld	hl,_k2
5030  1CA1  E5          	push	hl
5031  1CA2  2A 00 00    	ld	hl,(_joyfunc2)
5032  1CA5  CD 00 00    	call	___sdcc_call_hl
5033  1CA8  F1          	pop	af
5034  1CA9  EB          	ex	de,hl
5035  1CAA  C1          	pop	bc
5036  1CAB  79          	ld	a,c
5037  1CAC  B3          	or	a, e
5038  1CAD  4F          	ld	c,a
5039  1CAE  78          	ld	a,b
5040  1CAF  B2          	or	a, d
5041  1CB0  B1          	or	a,c
5042  1CB1  28 9B       	jr	Z,l_game_colour_message_00107
5043  1CB3  21 00 00    	ld	hl,_tmp
5044  1CB6  36 00       	ld	(hl),0x00
5045  1CB8  18 D9       	jr	l_game_colour_message_00103
5046  1CBA              l_game_colour_message_00110:
5047  1CBA  33          	inc	sp
5048  1CBB  DD E1       	pop	ix
5049  1CBD  C9          	ret
5050  1CBE              ;	---------------------------------
5051  1CBE              ; Function game_check_time
5052  1CBE              ; ---------------------------------
5053  1CBE              _game_check_time:
5054  1CBE  CD 00 00    	call	___sdcc_enter_ix
5055  1CC1  2A 00 00    	ld	hl,(_curr_time)
5056  1CC4  7D          	ld	a,l
5057  1CC5  DD 96 04    	sub	a,(ix+4)
5058  1CC8  4F          	ld	c,a
5059  1CC9  7C          	ld	a,h
5060  1CCA  DD 9E 05    	sbc	a,(ix+5)
5061  1CCD  47          	ld	b,a
5062  1CCE  DD 7E 06    	ld	a,(ix+6)
5063  1CD1  91          	sub	a, c
5064  1CD2  DD 7E 07    	ld	a,(ix+7)
5065  1CD5  98          	sbc	a, b
5066  1CD6  30 04       	jr	NC,l_game_check_time_00102
5067  1CD8  2E 01       	ld	l,0x01
5068  1CDA  18 02       	jr	l_game_check_time_00104
5069  1CDC              l_game_check_time_00102:
5070  1CDC  2E 00       	ld	l,0x00
5071  1CDE              l_game_check_time_00104:
5072  1CDE  DD E1       	pop	ix
5073  1CE0  C9          	ret
5074  1CE1              	SECTION IGNORE
5075  0000              
