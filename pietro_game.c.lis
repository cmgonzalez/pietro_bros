1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _compare_scores
181   0000              	GLOBAL _game_menu_paint
182   0000              	GLOBAL _game_calc_index
183   0000              	GLOBAL _game_print_footer
184   0000              	GLOBAL _game_phase_print_score_back
185   0000              	GLOBAL _game_print_lives
186   0000              	GLOBAL _game_tick
187   0000              	GLOBAL _game_start_timer
188   0000              	GLOBAL _game_phase_calc
189   0000              	GLOBAL _game_phase_init
190   0000              	GLOBAL _game_print_header
191   0000              	GLOBAL _game_phase_print
192   0000              	GLOBAL _game_loop
193   0000              	GLOBAL _game_score_osd
194   0000              	GLOBAL _game_bonus_clock
195   0000              	GLOBAL _game_bonus_summary
196   0000              	GLOBAL _game_bonus_summary_player
197   0000              	GLOBAL _game_kill_all_sprites
198   0000              	GLOBAL _game_check_maze
199   0000              	GLOBAL _game_enemy_add
200   0000              	GLOBAL _game_enemy_quota
201   0000              	GLOBAL _game_enemy_rnd
202   0000              	GLOBAL _game_enemy_add1
203   0000              	GLOBAL _game_enemy_add_get_index
204   0000              	GLOBAL _game_freeze
205   0000              	GLOBAL _game_unfreeze_all
206   0000              	GLOBAL _game_freeze_all
207   0000              	GLOBAL _game_print_score
208   0000              	GLOBAL _game_paint_attrib
209   0000              	GLOBAL _game_paint_attrib_lin
210   0000              	GLOBAL _game_paint_attrib_lin_h
211   0000              	GLOBAL _game_menu_config
212   0000              	GLOBAL _game_menu
213   0000              	GLOBAL _game_menu_e
214   0000              	GLOBAL _game_menu_handle
215   0000              	GLOBAL _game_end
216   0000              	GLOBAL _game_hall_check
217   0000              	GLOBAL _game_hall_enter
218   0000              	GLOBAL _game_menu_back
219   0000              	GLOBAL _game_hall_enter_phs
220   0000              	GLOBAL _game_hall_print_p
221   0000              	GLOBAL _game_hall_edit_p
222   0000              	GLOBAL _game_hall_of_fame
223   0000              	GLOBAL _game_rotate_attrib
224   0000              	GLOBAL _game_colour_message
225   0000              	GLOBAL _game_check_time
226   0000              ;--------------------------------------------------------
227   0000              ; Externals used
228   0000              ;--------------------------------------------------------
229   0000              	GLOBAL _debug3
230   0000              	GLOBAL _debug2
231   0000              	GLOBAL _debug
232   0000              	GLOBAL _zx_print_str
233   0000              	GLOBAL _zx_print_int
234   0000              	GLOBAL _zx_print_chr
235   0000              	GLOBAL _zx_print_bonus_time
236   0000              	GLOBAL _zx_isr
237   0000              	GLOBAL _spr_draw_clear
238   0000              	GLOBAL _spr_water_splash_draw
239   0000              	GLOBAL _spr_water_splash_clear
240   0000              	GLOBAL _spr_draw_back
241   0000              	GLOBAL _spr_cortina_pipes
242   0000              	GLOBAL _spr_cortina_brick
243   0000              	GLOBAL _spr_brick_anim
244   0000              	GLOBAL _spr_back_fix4
245   0000              	GLOBAL _spr_back_fix3
246   0000              	GLOBAL _spr_back_fix2
247   0000              	GLOBAL _spr_back_fix1
248   0000              	GLOBAL _spr_back_fix
249   0000              	GLOBAL _spr_back_clr
250   0000              	GLOBAL _spr_draw_pow
251   0000              	GLOBAL _spr_tile
252   0000              	GLOBAL _spr_set_fall
253   0000              	GLOBAL _spr_destroy
254   0000              	GLOBAL _spr_check_over
255   0000              	GLOBAL _spr_tile_dir
256   0000              	GLOBAL _spr_collition_check
257   0000              	GLOBAL _spr_anim_kill
258   0000              	GLOBAL _spr_anim_fall
259   0000              	GLOBAL _spr_killed
260   0000              	GLOBAL _spr_redraw
261   0000              	GLOBAL _spr_move_left
262   0000              	GLOBAL _spr_move_right
263   0000              	GLOBAL _spr_move_horizontal
264   0000              	GLOBAL _spr_move_down
265   0000              	GLOBAL _spr_move_up
266   0000              	GLOBAL _spr_chktime
267   0000              	GLOBAL _sound_hit_pow
268   0000              	GLOBAL _sound_hit_brick
269   0000              	GLOBAL _sound_hit_enemy
270   0000              	GLOBAL _sound_kill
271   0000              	GLOBAL _sound_enter_enemy
272   0000              	GLOBAL _sound_coin
273   0000              	GLOBAL _sound_jump
274   0000              	GLOBAL _sound_slide
275   0000              	GLOBAL _player_move_horizontal
276   0000              	GLOBAL _player_push_check
277   0000              	GLOBAL _player_push
278   0000              	GLOBAL _player_hit_brick_clear
279   0000              	GLOBAL _player_lost_life
280   0000              	GLOBAL _player_score_add
281   0000              	GLOBAL _player_coin
282   0000              	GLOBAL _player_hit_pow
283   0000              	GLOBAL _player_hit_brick
284   0000              	GLOBAL _player_hit_slipice
285   0000              	GLOBAL _player_move_input
286   0000              	GLOBAL _player_turn
287   0000              	GLOBAL _player_move
288   0000              	GLOBAL _player_restart
289   0000              	GLOBAL _player_kill
290   0000              	GLOBAL _player_collition_check
291   0000              	GLOBAL _player_collition
292   0000              	GLOBAL _player_init
293   0000              	GLOBAL _player_set2
294   0000              	GLOBAL _player_set1
295   0000              	GLOBAL _game_fill_row
296   0000              	GLOBAL _enemy_kill
297   0000              	GLOBAL _enemy_init
298   0000              	GLOBAL _enemy_walk
299   0000              	GLOBAL _enemy_upgrade
300   0000              	GLOBAL _enemy_evolve
301   0000              	GLOBAL _enemy_standard_hit
302   0000              	GLOBAL _enemy_trip
303   0000              	GLOBAL _enemy_fighterfly
304   0000              	GLOBAL _enemy_fireball_green
305   0000              	GLOBAL _enemy_fireball_red
306   0000              	GLOBAL _enemy_slipice
307   0000              	GLOBAL _enemy_standard
308   0000              	GLOBAL _enemy_turn
309   0000              	GLOBAL _enemy_flip_sidestepper
310   0000              	GLOBAL _enemy_flip
311   0000              	GLOBAL _enemy_flip_change_dir
312   0000              	GLOBAL _enemy_hit
313   0000              	GLOBAL _enemy_collition_check
314   0000              	GLOBAL _enemy_collition
315   0000              	GLOBAL _enemy_coin1
316   0000              	GLOBAL _ay_fx_play
317   0000              	GLOBAL _ay_midi_play
318   0000              	GLOBAL _ay_is_playing
319   0000              	GLOBAL _ay_reset
320   0000              	GLOBAL _in_mouse_kempston_wheel_delta
321   0000              	GLOBAL _in_mouse_kempston_wheel
322   0000              	GLOBAL _in_mouse_kempston_callee
323   0000              	GLOBAL _in_mouse_kempston
324   0000              	GLOBAL _in_mouse_kempston_setpos_callee
325   0000              	GLOBAL _in_mouse_kempston_setpos
326   0000              	GLOBAL _in_mouse_kempston_reset
327   0000              	GLOBAL _in_mouse_kempston_init
328   0000              	GLOBAL _in_mouse_amx_wheel_delta
329   0000              	GLOBAL _in_mouse_amx_wheel
330   0000              	GLOBAL _in_mouse_amx_callee
331   0000              	GLOBAL _in_mouse_amx
332   0000              	GLOBAL _in_mouse_amx_setpos_callee
333   0000              	GLOBAL _in_mouse_amx_setpos
334   0000              	GLOBAL _in_mouse_amx_reset
335   0000              	GLOBAL _in_mouse_amx_init_callee
336   0000              	GLOBAL _in_mouse_amx_init
337   0000              	GLOBAL _in_stick_sinclair2
338   0000              	GLOBAL _in_stick_sinclair1
339   0000              	GLOBAL _in_stick_kempston
340   0000              	GLOBAL _in_stick_fuller
341   0000              	GLOBAL _in_stick_cursor
342   0000              	GLOBAL _in_stick_keyboard_fastcall
343   0000              	GLOBAL _in_stick_keyboard
344   0000              	GLOBAL _in_wait_nokey
345   0000              	GLOBAL _in_wait_key
346   0000              	GLOBAL _in_test_key
347   0000              	GLOBAL _in_pause_fastcall
348   0000              	GLOBAL _in_pause
349   0000              	GLOBAL _in_key_scancode_fastcall
350   0000              	GLOBAL _in_key_scancode
351   0000              	GLOBAL _in_key_pressed_fastcall
352   0000              	GLOBAL _in_key_pressed
353   0000              	GLOBAL _in_inkey
354   0000              	GLOBAL _NIRVANAP_chars_fastcall
355   0000              	GLOBAL _NIRVANAP_chars
356   0000              	GLOBAL _NIRVANAP_wides_fastcall
357   0000              	GLOBAL _NIRVANAP_wides
358   0000              	GLOBAL _NIRVANAP_tiles_fastcall
359   0000              	GLOBAL _NIRVANAP_tiles
360   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
361   0000              	GLOBAL _NIRVANAP_drawW_raw
362   0000              	GLOBAL _NIRVANAP_drawW_callee
363   0000              	GLOBAL _NIRVANAP_drawW
364   0000              	GLOBAL _NIRVANAP_spriteT_callee
365   0000              	GLOBAL _NIRVANAP_spriteT
366   0000              	GLOBAL _NIRVANAP_fillC_callee
367   0000              	GLOBAL _NIRVANAP_fillC
368   0000              	GLOBAL _NIRVANAP_paintC_callee
369   0000              	GLOBAL _NIRVANAP_paintC
370   0000              	GLOBAL _NIRVANAP_printC_callee
371   0000              	GLOBAL _NIRVANAP_printC
372   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
373   0000              	GLOBAL _NIRVANAP_fillT_raw
374   0000              	GLOBAL _NIRVANAP_fillT_callee
375   0000              	GLOBAL _NIRVANAP_fillT
376   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
377   0000              	GLOBAL _NIRVANAP_drawT_raw
378   0000              	GLOBAL _NIRVANAP_drawT_callee
379   0000              	GLOBAL _NIRVANAP_drawT
380   0000              	GLOBAL _NIRVANAP_stop
381   0000              	GLOBAL _NIRVANAP_start
382   0000              	GLOBAL _z80_otdr_callee
383   0000              	GLOBAL _z80_otdr
384   0000              	GLOBAL _z80_otir_callee
385   0000              	GLOBAL _z80_otir
386   0000              	GLOBAL _z80_outp_callee
387   0000              	GLOBAL _z80_outp
388   0000              	GLOBAL _z80_indr_callee
389   0000              	GLOBAL _z80_indr
390   0000              	GLOBAL _z80_inir_callee
391   0000              	GLOBAL _z80_inir
392   0000              	GLOBAL _z80_inp_fastcall
393   0000              	GLOBAL _z80_inp
394   0000              	GLOBAL _z80_set_int_state_fastcall
395   0000              	GLOBAL _z80_set_int_state
396   0000              	GLOBAL _z80_get_int_state
397   0000              	GLOBAL _z80_delay_tstate_fastcall
398   0000              	GLOBAL _z80_delay_tstate
399   0000              	GLOBAL _z80_delay_ms_fastcall
400   0000              	GLOBAL _z80_delay_ms
401   0000              	GLOBAL _im2_remove_generic_callback_callee
402   0000              	GLOBAL _im2_remove_generic_callback
403   0000              	GLOBAL _im2_prepend_generic_callback_callee
404   0000              	GLOBAL _im2_prepend_generic_callback
405   0000              	GLOBAL _im2_append_generic_callback_callee
406   0000              	GLOBAL _im2_append_generic_callback
407   0000              	GLOBAL _im2_create_generic_isr_8080_callee
408   0000              	GLOBAL _im2_create_generic_isr_8080
409   0000              	GLOBAL _im2_create_generic_isr_callee
410   0000              	GLOBAL _im2_create_generic_isr
411   0000              	GLOBAL _im2_install_isr_callee
412   0000              	GLOBAL _im2_install_isr
413   0000              	GLOBAL _im2_init_fastcall
414   0000              	GLOBAL _im2_init
415   0000              	GLOBAL _ffsll_callee
416   0000              	GLOBAL _ffsll
417   0000              	GLOBAL _strxfrm_callee
418   0000              	GLOBAL _strxfrm
419   0000              	GLOBAL _strupr_fastcall
420   0000              	GLOBAL _strupr
421   0000              	GLOBAL _strtok_r_callee
422   0000              	GLOBAL _strtok_r
423   0000              	GLOBAL _strtok_callee
424   0000              	GLOBAL _strtok
425   0000              	GLOBAL _strstrip_fastcall
426   0000              	GLOBAL _strstrip
427   0000              	GLOBAL _strstr_callee
428   0000              	GLOBAL _strstr
429   0000              	GLOBAL _strspn_callee
430   0000              	GLOBAL _strspn
431   0000              	GLOBAL _strsep_callee
432   0000              	GLOBAL _strsep
433   0000              	GLOBAL _strrstrip_fastcall
434   0000              	GLOBAL _strrstrip
435   0000              	GLOBAL _strrspn_callee
436   0000              	GLOBAL _strrspn
437   0000              	GLOBAL _strrev_fastcall
438   0000              	GLOBAL _strrev
439   0000              	GLOBAL _strrcspn_callee
440   0000              	GLOBAL _strrcspn
441   0000              	GLOBAL _strrchr_callee
442   0000              	GLOBAL _strrchr
443   0000              	GLOBAL _strpbrk_callee
444   0000              	GLOBAL _strpbrk
445   0000              	GLOBAL _strnlen_callee
446   0000              	GLOBAL _strnlen
447   0000              	GLOBAL _strnicmp_callee
448   0000              	GLOBAL _strnicmp
449   0000              	GLOBAL _strndup_callee
450   0000              	GLOBAL _strndup
451   0000              	GLOBAL _strncpy_callee
452   0000              	GLOBAL _strncpy
453   0000              	GLOBAL _strncmp_callee
454   0000              	GLOBAL _strncmp
455   0000              	GLOBAL _strnchr_callee
456   0000              	GLOBAL _strnchr
457   0000              	GLOBAL _strncat_callee
458   0000              	GLOBAL _strncat
459   0000              	GLOBAL _strncasecmp_callee
460   0000              	GLOBAL _strncasecmp
461   0000              	GLOBAL _strlwr_fastcall
462   0000              	GLOBAL _strlwr
463   0000              	GLOBAL _strlen_fastcall
464   0000              	GLOBAL _strlen
465   0000              	GLOBAL _strlcpy_callee
466   0000              	GLOBAL _strlcpy
467   0000              	GLOBAL _strlcat_callee
468   0000              	GLOBAL _strlcat
469   0000              	GLOBAL _stricmp_callee
470   0000              	GLOBAL _stricmp
471   0000              	GLOBAL _strerror_fastcall
472   0000              	GLOBAL _strerror
473   0000              	GLOBAL _strdup_fastcall
474   0000              	GLOBAL _strdup
475   0000              	GLOBAL _strcspn_callee
476   0000              	GLOBAL _strcspn
477   0000              	GLOBAL _strcpy_callee
478   0000              	GLOBAL _strcpy
479   0000              	GLOBAL _strcoll_callee
480   0000              	GLOBAL _strcoll
481   0000              	GLOBAL _strcmp_callee
482   0000              	GLOBAL _strcmp
483   0000              	GLOBAL _strchrnul_callee
484   0000              	GLOBAL _strchrnul
485   0000              	GLOBAL _strchr_callee
486   0000              	GLOBAL _strchr
487   0000              	GLOBAL _strcat_callee
488   0000              	GLOBAL _strcat
489   0000              	GLOBAL _strcasecmp_callee
490   0000              	GLOBAL _strcasecmp
491   0000              	GLOBAL _stpncpy_callee
492   0000              	GLOBAL _stpncpy
493   0000              	GLOBAL _stpcpy_callee
494   0000              	GLOBAL _stpcpy
495   0000              	GLOBAL _memswap_callee
496   0000              	GLOBAL _memswap
497   0000              	GLOBAL _memset_callee
498   0000              	GLOBAL _memset
499   0000              	GLOBAL _memrchr_callee
500   0000              	GLOBAL _memrchr
501   0000              	GLOBAL _memmove_callee
502   0000              	GLOBAL _memmove
503   0000              	GLOBAL _memmem_callee
504   0000              	GLOBAL _memmem
505   0000              	GLOBAL _memcpy_callee
506   0000              	GLOBAL _memcpy
507   0000              	GLOBAL _memcmp_callee
508   0000              	GLOBAL _memcmp
509   0000              	GLOBAL _memchr_callee
510   0000              	GLOBAL _memchr
511   0000              	GLOBAL _memccpy_callee
512   0000              	GLOBAL _memccpy
513   0000              	GLOBAL _ffsl_fastcall
514   0000              	GLOBAL _ffsl
515   0000              	GLOBAL _ffs_fastcall
516   0000              	GLOBAL _ffs
517   0000              	GLOBAL __strrstrip__fastcall
518   0000              	GLOBAL __strrstrip_
519   0000              	GLOBAL __memupr__callee
520   0000              	GLOBAL __memupr_
521   0000              	GLOBAL __memstrcpy__callee
522   0000              	GLOBAL __memstrcpy_
523   0000              	GLOBAL __memlwr__callee
524   0000              	GLOBAL __memlwr_
525   0000              	GLOBAL _rawmemchr_callee
526   0000              	GLOBAL _rawmemchr
527   0000              	GLOBAL _strnset_callee
528   0000              	GLOBAL _strnset
529   0000              	GLOBAL _strset_callee
530   0000              	GLOBAL _strset
531   0000              	GLOBAL _rindex_callee
532   0000              	GLOBAL _rindex
533   0000              	GLOBAL _index_callee
534   0000              	GLOBAL _index
535   0000              	GLOBAL _bzero_callee
536   0000              	GLOBAL _bzero
537   0000              	GLOBAL _bcopy_callee
538   0000              	GLOBAL _bcopy
539   0000              	GLOBAL _bcmp_callee
540   0000              	GLOBAL _bcmp
541   0000              	GLOBAL _ulltoa_callee
542   0000              	GLOBAL _ulltoa
543   0000              	GLOBAL _strtoull_callee
544   0000              	GLOBAL _strtoull
545   0000              	GLOBAL _strtoll_callee
546   0000              	GLOBAL _strtoll
547   0000              	GLOBAL _lltoa_callee
548   0000              	GLOBAL _lltoa
549   0000              	GLOBAL _llabs_callee
550   0000              	GLOBAL _llabs
551   0000              	GLOBAL __lldivu__callee
552   0000              	GLOBAL __lldivu_
553   0000              	GLOBAL __lldiv__callee
554   0000              	GLOBAL __lldiv_
555   0000              	GLOBAL _atoll_callee
556   0000              	GLOBAL _atoll
557   0000              	GLOBAL _realloc_unlocked_callee
558   0000              	GLOBAL _realloc_unlocked
559   0000              	GLOBAL _malloc_unlocked_fastcall
560   0000              	GLOBAL _malloc_unlocked
561   0000              	GLOBAL _free_unlocked_fastcall
562   0000              	GLOBAL _free_unlocked
563   0000              	GLOBAL _calloc_unlocked_callee
564   0000              	GLOBAL _calloc_unlocked
565   0000              	GLOBAL _aligned_alloc_unlocked_callee
566   0000              	GLOBAL _aligned_alloc_unlocked
567   0000              	GLOBAL _realloc_callee
568   0000              	GLOBAL _realloc
569   0000              	GLOBAL _malloc_fastcall
570   0000              	GLOBAL _malloc
571   0000              	GLOBAL _free_fastcall
572   0000              	GLOBAL _free
573   0000              	GLOBAL _calloc_callee
574   0000              	GLOBAL _calloc
575   0000              	GLOBAL _aligned_alloc_callee
576   0000              	GLOBAL _aligned_alloc
577   0000              	GLOBAL _utoa_callee
578   0000              	GLOBAL _utoa
579   0000              	GLOBAL _ultoa_callee
580   0000              	GLOBAL _ultoa
581   0000              	GLOBAL _system_fastcall
582   0000              	GLOBAL _system
583   0000              	GLOBAL _strtoul_callee
584   0000              	GLOBAL _strtoul
585   0000              	GLOBAL _strtol_callee
586   0000              	GLOBAL _strtol
587   0000              	GLOBAL _strtof_callee
588   0000              	GLOBAL _strtof
589   0000              	GLOBAL _strtod_callee
590   0000              	GLOBAL _strtod
591   0000              	GLOBAL _srand_fastcall
592   0000              	GLOBAL _srand
593   0000              	GLOBAL _rand
594   0000              	GLOBAL _quick_exit_fastcall
595   0000              	GLOBAL _quick_exit
596   0000              	GLOBAL _qsort_callee
597   0000              	GLOBAL _qsort
598   0000              	GLOBAL _ltoa_callee
599   0000              	GLOBAL _ltoa
600   0000              	GLOBAL _labs_fastcall
601   0000              	GLOBAL _labs
602   0000              	GLOBAL _itoa_callee
603   0000              	GLOBAL _itoa
604   0000              	GLOBAL _ftoh_callee
605   0000              	GLOBAL _ftoh
606   0000              	GLOBAL _ftog_callee
607   0000              	GLOBAL _ftog
608   0000              	GLOBAL _ftoe_callee
609   0000              	GLOBAL _ftoe
610   0000              	GLOBAL _ftoa_callee
611   0000              	GLOBAL _ftoa
612   0000              	GLOBAL _exit_fastcall
613   0000              	GLOBAL _exit
614   0000              	GLOBAL _dtoh_callee
615   0000              	GLOBAL _dtoh
616   0000              	GLOBAL _dtog_callee
617   0000              	GLOBAL _dtog
618   0000              	GLOBAL _dtoe_callee
619   0000              	GLOBAL _dtoe
620   0000              	GLOBAL _dtoa_callee
621   0000              	GLOBAL _dtoa
622   0000              	GLOBAL _bsearch_callee
623   0000              	GLOBAL _bsearch
624   0000              	GLOBAL _atol_fastcall
625   0000              	GLOBAL _atol
626   0000              	GLOBAL _atoi_fastcall
627   0000              	GLOBAL _atoi
628   0000              	GLOBAL _atof_fastcall
629   0000              	GLOBAL _atof
630   0000              	GLOBAL _atexit_fastcall
631   0000              	GLOBAL _atexit
632   0000              	GLOBAL _at_quick_exit_fastcall
633   0000              	GLOBAL _at_quick_exit
634   0000              	GLOBAL _abs_fastcall
635   0000              	GLOBAL _abs
636   0000              	GLOBAL _abort
637   0000              	GLOBAL __strtou__callee
638   0000              	GLOBAL __strtou_
639   0000              	GLOBAL __strtoi__callee
640   0000              	GLOBAL __strtoi_
641   0000              	GLOBAL __random_uniform_xor_8__fastcall
642   0000              	GLOBAL __random_uniform_xor_8_
643   0000              	GLOBAL __random_uniform_xor_32__fastcall
644   0000              	GLOBAL __random_uniform_xor_32_
645   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
646   0000              	GLOBAL __random_uniform_cmwc_8_
647   0000              	GLOBAL __shellsort__callee
648   0000              	GLOBAL __shellsort_
649   0000              	GLOBAL __quicksort__callee
650   0000              	GLOBAL __quicksort_
651   0000              	GLOBAL __insertion_sort__callee
652   0000              	GLOBAL __insertion_sort_
653   0000              	GLOBAL __ldivu__callee
654   0000              	GLOBAL __ldivu_
655   0000              	GLOBAL __ldiv__callee
656   0000              	GLOBAL __ldiv_
657   0000              	GLOBAL __divu__callee
658   0000              	GLOBAL __divu_
659   0000              	GLOBAL __div__callee
660   0000              	GLOBAL __div_
661   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
662   0000              	GLOBAL _intrinsic_swap_word_32
663   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
664   0000              	GLOBAL _intrinsic_swap_endian_32
665   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
666   0000              	GLOBAL _intrinsic_swap_endian_16
667   0000              	GLOBAL _intrinsic_return_de
668   0000              	GLOBAL _intrinsic_return_bc
669   0000              	GLOBAL _intrinsic_exx
670   0000              	GLOBAL _intrinsic_ex_de_hl
671   0000              	GLOBAL _intrinsic_pop_iy
672   0000              	GLOBAL _intrinsic_pop_ix
673   0000              	GLOBAL _intrinsic_pop_hl
674   0000              	GLOBAL _intrinsic_pop_de
675   0000              	GLOBAL _intrinsic_pop_bc
676   0000              	GLOBAL _intrinsic_pop_af
677   0000              	GLOBAL _intrinsic_push_iy
678   0000              	GLOBAL _intrinsic_push_ix
679   0000              	GLOBAL _intrinsic_push_hl
680   0000              	GLOBAL _intrinsic_push_de
681   0000              	GLOBAL _intrinsic_push_bc
682   0000              	GLOBAL _intrinsic_push_af
683   0000              	GLOBAL _intrinsic_nop
684   0000              	GLOBAL _intrinsic_im_2
685   0000              	GLOBAL _intrinsic_im_1
686   0000              	GLOBAL _intrinsic_im_0
687   0000              	GLOBAL _intrinsic_retn
688   0000              	GLOBAL _intrinsic_reti
689   0000              	GLOBAL _intrinsic_halt
690   0000              	GLOBAL _intrinsic_ei
691   0000              	GLOBAL _intrinsic_di
692   0000              	GLOBAL _intrinsic_stub
693   0000              	GLOBAL _zx_pattern_fill_callee
694   0000              	GLOBAL _zx_pattern_fill
695   0000              	GLOBAL _zx_saddrpup_fastcall
696   0000              	GLOBAL _zx_saddrpup
697   0000              	GLOBAL _zx_saddrpright_callee
698   0000              	GLOBAL _zx_saddrpright
699   0000              	GLOBAL _zx_saddrpleft_callee
700   0000              	GLOBAL _zx_saddrpleft
701   0000              	GLOBAL _zx_saddrpdown_fastcall
702   0000              	GLOBAL _zx_saddrpdown
703   0000              	GLOBAL _zx_saddrcup_fastcall
704   0000              	GLOBAL _zx_saddrcup
705   0000              	GLOBAL _zx_saddrcright_fastcall
706   0000              	GLOBAL _zx_saddrcright
707   0000              	GLOBAL _zx_saddrcleft_fastcall
708   0000              	GLOBAL _zx_saddrcleft
709   0000              	GLOBAL _zx_saddrcdown_fastcall
710   0000              	GLOBAL _zx_saddrcdown
711   0000              	GLOBAL _zx_saddr2py_fastcall
712   0000              	GLOBAL _zx_saddr2py
713   0000              	GLOBAL _zx_saddr2px_fastcall
714   0000              	GLOBAL _zx_saddr2px
715   0000              	GLOBAL _zx_saddr2cy_fastcall
716   0000              	GLOBAL _zx_saddr2cy
717   0000              	GLOBAL _zx_saddr2cx_fastcall
718   0000              	GLOBAL _zx_saddr2cx
719   0000              	GLOBAL _zx_saddr2aaddr_fastcall
720   0000              	GLOBAL _zx_saddr2aaddr
721   0000              	GLOBAL _zx_py2saddr_fastcall
722   0000              	GLOBAL _zx_py2saddr
723   0000              	GLOBAL _zx_py2aaddr_fastcall
724   0000              	GLOBAL _zx_py2aaddr
725   0000              	GLOBAL _zx_pxy2saddr_callee
726   0000              	GLOBAL _zx_pxy2saddr
727   0000              	GLOBAL _zx_pxy2aaddr_callee
728   0000              	GLOBAL _zx_pxy2aaddr
729   0000              	GLOBAL _zx_px2bitmask_fastcall
730   0000              	GLOBAL _zx_px2bitmask
731   0000              	GLOBAL _zx_cyx2saddr_callee
732   0000              	GLOBAL _zx_cyx2saddr
733   0000              	GLOBAL _zx_cyx2aaddr_callee
734   0000              	GLOBAL _zx_cyx2aaddr
735   0000              	GLOBAL _zx_cy2saddr_fastcall
736   0000              	GLOBAL _zx_cy2saddr
737   0000              	GLOBAL _zx_cy2aaddr_fastcall
738   0000              	GLOBAL _zx_cy2aaddr
739   0000              	GLOBAL _zx_bitmask2px_fastcall
740   0000              	GLOBAL _zx_bitmask2px
741   0000              	GLOBAL _zx_aaddrcup_fastcall
742   0000              	GLOBAL _zx_aaddrcup
743   0000              	GLOBAL _zx_aaddrcright_fastcall
744   0000              	GLOBAL _zx_aaddrcright
745   0000              	GLOBAL _zx_aaddrcleft_fastcall
746   0000              	GLOBAL _zx_aaddrcleft
747   0000              	GLOBAL _zx_aaddrcdown_fastcall
748   0000              	GLOBAL _zx_aaddrcdown
749   0000              	GLOBAL _zx_aaddr2saddr_fastcall
750   0000              	GLOBAL _zx_aaddr2saddr
751   0000              	GLOBAL _zx_aaddr2py_fastcall
752   0000              	GLOBAL _zx_aaddr2py
753   0000              	GLOBAL _zx_aaddr2px_fastcall
754   0000              	GLOBAL _zx_aaddr2px
755   0000              	GLOBAL _zx_aaddr2cy_fastcall
756   0000              	GLOBAL _zx_aaddr2cy
757   0000              	GLOBAL _zx_aaddr2cx_fastcall
758   0000              	GLOBAL _zx_aaddr2cx
759   0000              	GLOBAL _zx_scroll_wc_up_callee
760   0000              	GLOBAL _zx_scroll_wc_up
761   0000              	GLOBAL _zx_scroll_up_callee
762   0000              	GLOBAL _zx_scroll_up
763   0000              	GLOBAL _zx_cls_wc_callee
764   0000              	GLOBAL _zx_cls_wc
765   0000              	GLOBAL _zx_cls_fastcall
766   0000              	GLOBAL _zx_cls
767   0000              	GLOBAL _zx_border_fastcall
768   0000              	GLOBAL _zx_border
769   0000              	GLOBAL _ay_effect_20
770   0000              	GLOBAL _ay_effect_19
771   0000              	GLOBAL _ay_effect_18
772   0000              	GLOBAL _ay_effect_17
773   0000              	GLOBAL _ay_effect_16
774   0000              	GLOBAL _ay_effect_15
775   0000              	GLOBAL _ay_effect_14
776   0000              	GLOBAL _ay_effect_13
777   0000              	GLOBAL _ay_effect_12
778   0000              	GLOBAL _ay_effect_11
779   0000              	GLOBAL _ay_effect_10
780   0000              	GLOBAL _ay_effect_09
781   0000              	GLOBAL _ay_effect_08
782   0000              	GLOBAL _ay_effect_07
783   0000              	GLOBAL _ay_effect_06
784   0000              	GLOBAL _ay_effect_05
785   0000              	GLOBAL _ay_effect_04
786   0000              	GLOBAL _ay_effect_03
787   0000              	GLOBAL _ay_effect_02
788   0000              	GLOBAL _ay_effect_01
789   0000              	GLOBAL _pb_midi_phase_1
790   0000              	GLOBAL _pb_midi_title
791   0000              	GLOBAL _initials
792   0000              	GLOBAL _hof
793   0000              	GLOBAL _score_osd_tile
794   0000              	GLOBAL _score_osd_time
795   0000              	GLOBAL _score_osd_col
796   0000              	GLOBAL _score_osd_lin
797   0000              	GLOBAL _phase_bonus_total
798   0000              	GLOBAL _phase_angry
799   0000              	GLOBAL _phase_curr
800   0000              	GLOBAL _phase_end
801   0000              	GLOBAL _phase_coins
802   0000              	GLOBAL _phase_pop
803   0000              	GLOBAL _phase_tot
804   0000              	GLOBAL _phase_left
805   0000              	GLOBAL _phase_quota
806   0000              	GLOBAL _phases
807   0000              	GLOBAL _spr_idx
808   0000              	GLOBAL _lvl_1
809   0000              	GLOBAL _sprite_speed_alt
810   0000              	GLOBAL _sprite_speed
811   0000              	GLOBAL _screen_ink
812   0000              	GLOBAL _screen_paper
813   0000              	GLOBAL _game_menu_sel
814   0000              	GLOBAL _game_type
815   0000              	GLOBAL _game_bonus
816   0000              	GLOBAL _spr_water_time
817   0000              	GLOBAL _spr_water_clear
818   0000              	GLOBAL _game_time_fireball_start
819   0000              	GLOBAL _game_time_flipped
820   0000              	GLOBAL _game_score_top
821   0000              	GLOBAL _game_lives_update
822   0000              	GLOBAL _game_lives
823   0000              	GLOBAL _game_over
824   0000              	GLOBAL _game_sound
825   0000              	GLOBAL _game_two_player
826   0000              	GLOBAL _game_brick_tile
827   0000              	GLOBAL _game_pow
828   0000              	GLOBAL _spr_count
829   0000              	GLOBAL _frame_loop_count
830   0000              	GLOBAL _col_time
831   0000              	GLOBAL _frame_time
832   0000              	GLOBAL _entry_time
833   0000              	GLOBAL _curr_time
834   0000              	GLOBAL _s_state
835   0000              	GLOBAL _attrib_hl
836   0000              	GLOBAL _attrib
837   0000              	GLOBAL _zx_val_asm
838   0000              	GLOBAL _enemies
839   0000              	GLOBAL _tmp_ui
840   0000              	GLOBAL _tmp_sc
841   0000              	GLOBAL _tmp_uc
842   0000              	GLOBAL _tmp1
843   0000              	GLOBAL _tmp0
844   0000              	GLOBAL _tmp
845   0000              	GLOBAL _index_d
846   0000              	GLOBAL _index3
847   0000              	GLOBAL _index2
848   0000              	GLOBAL _index1
849   0000              	GLOBAL _loop_count
850   0000              	GLOBAL _s_col1
851   0000              	GLOBAL _s_col0
852   0000              	GLOBAL _s_lin1
853   0000              	GLOBAL _s_lin0
854   0000              	GLOBAL _s_tile1
855   0000              	GLOBAL _s_tile0
856   0000              	GLOBAL _hit_count
857   0000              	GLOBAL _tile_offset_other_player
858   0000              	GLOBAL _tile_offset
859   0000              	GLOBAL _index_player
860   0000              	GLOBAL _sprite_other_player
861   0000              	GLOBAL _sprite
862   0000              	GLOBAL _player_lock
863   0000              	GLOBAL _player_next_extra
864   0000              	GLOBAL _player_score
865   0000              	GLOBAL _last_time
866   0000              	GLOBAL _sliding
867   0000              	GLOBAL _spr_timer_c
868   0000              	GLOBAL _spr_timer
869   0000              	GLOBAL _jump_lin
870   0000              	GLOBAL _hit_col
871   0000              	GLOBAL _hit_lin
872   0000              	GLOBAL _colint
873   0000              	GLOBAL _col
874   0000              	GLOBAL _lin
875   0000              	GLOBAL _tile
876   0000              	GLOBAL _state_a
877   0000              	GLOBAL _state
878   0000              	GLOBAL _class
879   0000              	GLOBAL _tbuffer
880   0000              	GLOBAL _dirs
881   0000              	GLOBAL _k2
882   0000              	GLOBAL _k1
883   0000              	GLOBAL _joyfunc2
884   0000              	GLOBAL _joyfunc1
885   0000              	GLOBAL _joynames
886   0000              	GLOBAL _btiles
887   0000              	GLOBAL _spec128
888   0000              	GLOBAL _hall_valids
889   0000              ;--------------------------------------------------------
890   0000              ; special function registers
891   0000              ;--------------------------------------------------------
892   0000              ;--------------------------------------------------------
893   0000              ; ram data
894   0000              ;--------------------------------------------------------
895   0000              	SECTION bss_compiler
896   0000              defc _NIRVANAP_isr	=	0xf5d2
897   0000              ;--------------------------------------------------------
898   0000              ; ram data
899   0000              ;--------------------------------------------------------
900   0000              
901   0000              IF 0
902   0000              
903   0000              ; .area _INITIALIZED removed by z88dk
904   0000              
905   0000              
906   0000              ENDIF
907   0000              
908   0000              ;--------------------------------------------------------
909   0000              ; absolute external ram data
910   0000              ;--------------------------------------------------------
911   0000              	SECTION IGNORE
912   0000              ;--------------------------------------------------------
913   0000              ; global & static initialisations
914   0000              ;--------------------------------------------------------
915   0000              	SECTION code_crt_init
916   0000              ;--------------------------------------------------------
917   0000              ; Home
918   0000              ;--------------------------------------------------------
919   0000              	SECTION IGNORE
920   0000              ;--------------------------------------------------------
921   0000              ; code
922   0000              ;--------------------------------------------------------
923   0000              	SECTION code_compiler
924   0000              ;	---------------------------------
925   0000              ; Function game_calc_index
926   0000              ; ---------------------------------
927   0000              _game_calc_index:
928   0000  CD 00 00    	call	___sdcc_enter_ix
929   0003  DD 4E 05    	ld	c,(ix+5)
930   0006  06 00       	ld	b,0x00
931   0008  DD 7E 04    	ld	a,(ix+4)
932   000B  0F          	rrca
933   000C  0F          	rrca
934   000D  0F          	rrca
935   000E  E6 1F       	and	a,0x1f
936   0010  6F          	ld	l,a
937   0011  26 00       	ld	h,0x00
938   0013  29          	add	hl, hl
939   0014  29          	add	hl, hl
940   0015  29          	add	hl, hl
941   0016  29          	add	hl, hl
942   0017  29          	add	hl, hl
943   0018  09          	add	hl,bc
944   0019  DD E1       	pop	ix
945   001B  C9          	ret
946   001C              ;	---------------------------------
947   001C              ; Function game_print_footer
948   001C              ; ---------------------------------
949   001C              _game_print_footer:
950   001C  21 B1 00    	ld	hl,___str_0
951   001F  E5          	push	hl
952   0020  21 16 01    	ld	hl,0x0116
953   0023  E5          	push	hl
954   0024  CD 00 00    	call	_zx_print_str
955   0027  21 B1 00    	ld	hl,___str_0
956   002A  E5          	push	hl
957   002B  21 16 1E    	ld	hl,0x1e16
958   002E  E5          	push	hl
959   002F  CD 00 00    	call	_zx_print_str
960   0032  21 B3 00    	ld	hl,___str_1
961   0035  E5          	push	hl
962   0036  21 17 01    	ld	hl,0x0117
963   0039  E5          	push	hl
964   003A  CD 00 00    	call	_zx_print_str
965   003D  21 B3 00    	ld	hl,___str_1
966   0040  E5          	push	hl
967   0041  21 17 1E    	ld	hl,0x1e17
968   0044  E5          	push	hl
969   0045  CD 00 00    	call	_zx_print_str
970   0048  3A 00 00    	ld	a,(_game_lives)
971   004B  B7          	or	a, a
972   004C  28 20       	jr	Z,l_game_print_footer_00102
973   004E  21 00 00    	ld	hl,_screen_ink
974   0051  36 02       	ld	(hl),0x02
975   0053  21 B9 00    	ld	hl,___str_2
976   0056  E5          	push	hl
977   0057  21 16 01    	ld	hl,0x0116
978   005A  E5          	push	hl
979   005B  CD 00 00    	call	_zx_print_str
980   005E  21 00 00    	ld	hl,_screen_ink
981   0061  36 06       	ld	(hl),0x06
982   0063  21 BB 00    	ld	hl,___str_3
983   0066  E5          	push	hl
984   0067  21 17 01    	ld	hl,0x0117
985   006A  E5          	push	hl
986   006B  CD 00 00    	call	_zx_print_str
987   006E              l_game_print_footer_00102:
988   006E  3A 01 00    	ld	a, (_game_lives + 1)
989   0071  B7          	or	a, a
990   0072  28 20       	jr	Z,l_game_print_footer_00104
991   0074  21 00 00    	ld	hl,_screen_ink
992   0077  36 07       	ld	(hl),0x07
993   0079  21 BD 00    	ld	hl,___str_4
994   007C  E5          	push	hl
995   007D  21 16 1E    	ld	hl,0x1e16
996   0080  E5          	push	hl
997   0081  CD 00 00    	call	_zx_print_str
998   0084  21 00 00    	ld	hl,_screen_ink
999   0087  36 06       	ld	(hl),0x06
1000  0089  21 BF 00    	ld	hl,___str_5
1001  008C  E5          	push	hl
1002  008D  21 17 1E    	ld	hl,0x1e17
1003  0090  E5          	push	hl
1004  0091  CD 00 00    	call	_zx_print_str
1005  0094              l_game_print_footer_00104:
1006  0094  CD 07 01    	call	_game_print_lives
1007  0097  21 C1 00    	ld	hl,___str_6
1008  009A  E5          	push	hl
1009  009B  21 17 0B    	ld	hl,0x0b17
1010  009E  E5          	push	hl
1011  009F  CD 00 00    	call	_zx_print_str
1012  00A2  21 00 00    	ld	hl,_phase_curr
1013  00A5  46          	ld	b,(hl)
1014  00A6  04          	inc	b
1015  00A7  C5          	push	bc
1016  00A8  33          	inc	sp
1017  00A9  21 17 12    	ld	hl,0x1217
1018  00AC  E5          	push	hl
1019  00AD  CD 00 00    	call	_zx_print_chr
1020  00B0  C9          	ret
1021  00B1              ___str_0:
1022  00B1  20          	DEFM " "
1023  00B2  00          	DEFB 0x00
1024  00B3              ___str_1:
1025  00B3  20 20 20 20 20 
                        	DEFM "     "
1026  00B8  00          	DEFB 0x00
1027  00B9              ___str_2:
1028  00B9  3C          	DEFM "<"
1029  00BA  00          	DEFB 0x00
1030  00BB              ___str_3:
1031  00BB  5C          	DEFB 0x5c
1032  00BC  00          	DEFB 0x00
1033  00BD              ___str_4:
1034  00BD  3E          	DEFM ">"
1035  00BE  00          	DEFB 0x00
1036  00BF              ___str_5:
1037  00BF  5E          	DEFM "^"
1038  00C0  00          	DEFB 0x00
1039  00C1              ___str_6:
1040  00C1  50 48 41 53 45 
                        	DEFM "PHASE"
1041  00C6  00          	DEFB 0x00
1042  00C7              ;	---------------------------------
1043  00C7              ; Function game_phase_print_score_back
1044  00C7              ; ---------------------------------
1045  00C7              _game_phase_print_score_back:
1046  00C7  21 00 00    	ld	hl,_screen_ink
1047  00CA  36 02       	ld	(hl),0x02
1048  00CC  21 FD 00    	ld	hl,___str_7
1049  00CF  E5          	push	hl
1050  00D0  21 00 0B    	ld	hl,0x0b00
1051  00D3  E5          	push	hl
1052  00D4  CD 00 00    	call	_zx_print_str
1053  00D7  21 00 00    	ld	hl,_screen_ink
1054  00DA  36 01       	ld	(hl),0x01
1055  00DC  21 01 01    	ld	hl,___str_8
1056  00DF  E5          	push	hl
1057  00E0  21 00 01    	ld	hl,0x0100
1058  00E3  E5          	push	hl
1059  00E4  CD 00 00    	call	_zx_print_str
1060  00E7  3A 00 00    	ld	a,(_game_two_player)
1061  00EA  B7          	or	a, a
1062  00EB  C8          	ret	Z
1063  00EC  21 00 00    	ld	hl,_screen_ink
1064  00EF  36 04       	ld	(hl),0x04
1065  00F1  21 04 01    	ld	hl,___str_9
1066  00F4  E5          	push	hl
1067  00F5  21 00 16    	ld	hl,0x1600
1068  00F8  E5          	push	hl
1069  00F9  CD 00 00    	call	_zx_print_str
1070  00FC  C9          	ret
1071  00FD              ___str_7:
1072  00FD  24 25 7C    	DEFM "$%|"
1073  0100  00          	DEFB 0x00
1074  0101              ___str_8:
1075  0101  5B 7C       	DEFM "[|"
1076  0103  00          	DEFB 0x00
1077  0104              ___str_9:
1078  0104  5D 7C       	DEFM "]|"
1079  0106  00          	DEFB 0x00
1080  0107              ;	---------------------------------
1081  0107              ; Function game_print_lives
1082  0107              ; ---------------------------------
1083  0107              _game_print_lives:
1084  0107  21 00 00    	ld	hl,_screen_ink
1085  010A  36 07       	ld	(hl),0x07
1086  010C  3A 00 00    	ld	a,(_game_lives)
1087  010F  C6 FF       	add	a,0xff
1088  0111  21 00 00    	ld	hl,_tmp
1089  0114  77          	ld	(hl),a
1090  0115  D6 FF       	sub	a,0xff
1091  0117  30 0A       	jr	NC,l_game_print_lives_00102
1092  0119  7E          	ld	a,(hl)
1093  011A  F5          	push	af
1094  011B  33          	inc	sp
1095  011C  21 17 03    	ld	hl,0x0317
1096  011F  E5          	push	hl
1097  0120  CD 00 00    	call	_zx_print_chr
1098  0123              l_game_print_lives_00102:
1099  0123  3A 01 00    	ld	a, (_game_lives + 1)
1100  0126  C6 FF       	add	a,0xff
1101  0128  21 00 00    	ld	hl,_tmp
1102  012B  77          	ld	(hl),a
1103  012C  D6 FF       	sub	a,0xff
1104  012E  D0          	ret	NC
1105  012F  7E          	ld	a,(hl)
1106  0130  F5          	push	af
1107  0131  33          	inc	sp
1108  0132  21 17 1A    	ld	hl,0x1a17
1109  0135  E5          	push	hl
1110  0136  CD 00 00    	call	_zx_print_chr
1111  0139  C9          	ret
1112  013A              ;	---------------------------------
1113  013A              ; Function game_tick
1114  013A              ; ---------------------------------
1115  013A              _game_tick:
1116  013A  21 00 00    	ld	hl,_curr_time
1117  013D  34          	inc	(hl)
1118  013E  C2 00 00    	jp	NZ,_zx_isr
1119  0141  23          	inc	hl
1120  0142  34          	inc	(hl)
1121  0143  C3 00 00    	jp  _zx_isr
1122  0146              ;	---------------------------------
1123  0146              ; Function game_start_timer
1124  0146              ; ---------------------------------
1125  0146              _game_start_timer:
1126  0146  21 D2 F5    	ld	hl,_NIRVANAP_isr
1127  0149  36 CD       	ld	(hl),0xcd
1128  014B  21 3A 01    	ld	hl,_game_tick
1129  014E  22 D3 F5    	ld	(_NIRVANAP_isr+1),hl
1130  0151  C9          	ret
1131  0152              ;	---------------------------------
1132  0152              ; Function game_phase_calc
1133  0152              ; ---------------------------------
1134  0152              _game_phase_calc:
1135  0152  3A 00 00    	ld	a,(_phase_curr)
1136  0155  87          	add	a, a
1137  0156  87          	add	a, a
1138  0157  21 00 00    	ld	hl,_tmp_uc
1139  015A  77          	ld	(hl),a
1140  015B  01 00 00    	ld	bc,_phases+0
1141  015E  5E          	ld	e,(hl)
1142  015F  16 00       	ld	d,0x00
1143  0161  69          	ld	l, c
1144  0162  60          	ld	h, b
1145  0163  19          	add	hl,de
1146  0164  7E          	ld	a,(hl)
1147  0165  32 00 00    	ld	(_phase_quota),a
1148  0168  3A 00 00    	ld	a,(_tmp_uc)
1149  016B  5F          	ld	e,a
1150  016C  16 00       	ld	d,0x00
1151  016E  EB          	ex	de,hl
1152  016F  23          	inc	hl
1153  0170  09          	add	hl,bc
1154  0171  7E          	ld	a,(hl)
1155  0172  32 01 00    	ld	((_phase_quota + 0x0001)),a
1156  0175  3A 00 00    	ld	a,(_tmp_uc)
1157  0178  5F          	ld	e,a
1158  0179  16 00       	ld	d,0x00
1159  017B  EB          	ex	de,hl
1160  017C  23          	inc	hl
1161  017D  23          	inc	hl
1162  017E  09          	add	hl,bc
1163  017F  7E          	ld	a,(hl)
1164  0180  32 02 00    	ld	((_phase_quota + 0x0002)),a
1165  0183  3A 00 00    	ld	a,(_tmp_uc)
1166  0186  5F          	ld	e,a
1167  0187  16 00       	ld	d,0x00
1168  0189  EB          	ex	de,hl
1169  018A  23          	inc	hl
1170  018B  23          	inc	hl
1171  018C  23          	inc	hl
1172  018D  09          	add	hl,bc
1173  018E  7E          	ld	a,(hl)
1174  018F  32 00 00    	ld	(_game_brick_tile),a
1175  0192  CD 34 0D    	call	_game_unfreeze_all
1176  0195  3A 00 00    	ld	a,(_game_brick_tile)
1177  0198  D6 8B       	sub	a,0x8b
1178  019A  20 03       	jr	NZ,l_game_phase_calc_00102
1179  019C  CD 5D 0D    	call	_game_freeze_all
1180  019F              l_game_phase_calc_00102:
1181  019F  3A 00 00    	ld	a,(_game_brick_tile)
1182  01A2  4F          	ld	c,a
1183  01A3  06 00       	ld	b,0x00
1184  01A5  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1185  01A9  21 00 00    	ld	hl,_phase_quota
1186  01AC  4E          	ld	c,(hl)
1187  01AD  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1188  01B0  46          	ld	b,(hl)
1189  01B1  79          	ld	a,c
1190  01B2  80          	add	a, b
1191  01B3  4F          	ld	c,a
1192  01B4  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1193  01B7  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1194  01B9  09          	add	hl, bc
1195  01BA  C9          	ret
1196  01BB              ;	---------------------------------
1197  01BB              ; Function game_phase_init
1198  01BB              ; ---------------------------------
1199  01BB              _game_phase_init:
1200  01BB  21 00 00    	ld	hl,_phase_end
1201  01BE  36 00       	ld	(hl),0x00
1202  01C0  21 00 00    	ld	hl,_phase_angry
1203  01C3  36 00       	ld	(hl),0x00
1204  01C5  21 00 00    	ld	hl,_phase_coins
1205  01C8  36 00       	ld	(hl),0x00
1206  01CA  21 00 00    	ld	hl,_phase_pop
1207  01CD  36 00       	ld	(hl),0x00
1208  01CF  21 00 00    	ld	hl,_game_bonus
1209  01D2  36 00       	ld	(hl),0x00
1210  01D4  21 00 00    	ld	hl,0x0000
1211  01D7  22 00 00    	ld	(_entry_time),hl
1212  01DA  21 00 00    	ld	hl,0
1213  01DD  22 00 00    	ld	(_curr_time),hl
1214  01E0  21 00 00    	ld	hl,0x0000
1215  01E3  22 00 00    	ld	(_frame_time),hl
1216  01E6  21 FF FF    	ld	hl,0xffff
1217  01E9  22 00 00    	ld	(_score_osd_col),hl
1218  01EC  21 01 01    	ld	hl,0x0101
1219  01EF  22 00 00    	ld	(_player_lock),hl
1220  01F2  CD 00 00    	call	_spr_draw_clear
1221  01F5  CD 00 00    	call	_spr_cortina_pipes
1222  01F8  21 00 00    	ld	hl,0x0000
1223  01FB  CD 00 00    	call	_zx_cls_fastcall
1224  01FE  21 00 00    	ld	hl,_spr_count
1225  0201  36 00       	ld	(hl),0x00
1226  0203  3A 00 00    	ld	a,(_game_type)
1227  0206  D6 02       	sub	a,0x02
1228  0208  CA 94 02    	jp	Z,l_game_phase_init_00104
1229  020B  CD 52 01    	call	_game_phase_calc
1230  020E  7D          	ld	a,l
1231  020F  32 00 00    	ld	(_phase_left),a
1232  0212  32 00 00    	ld	(_phase_tot),a
1233  0215  21 00 00    	ld	hl,_phase_left
1234  0218  7E          	ld	a,(hl)
1235  0219  B7          	or	a, a
1236  021A  C2 A9 02    	jp	NZ,l_game_phase_init_00105
1237  021D  01 00 00    	ld	bc,_phase_bonus_total+0
1238  0220  AF          	xor	a, a
1239  0221  02          	ld	(bc),a
1240  0222  03          	inc	bc
1241  0223  AF          	xor	a, a
1242  0224  02          	ld	(bc),a
1243  0225  36 06       	ld	(hl),0x06
1244  0227  21 00 00    	ld	hl,_game_bonus
1245  022A  36 01       	ld	(hl),0x01
1246  022C  21 0C 00    	ld	hl,0x000c
1247  022F  E5          	push	hl
1248  0230  21 90 08    	ld	hl,0x0890
1249  0233  E5          	push	hl
1250  0234  AF          	xor	a, a
1251  0235  F5          	push	af
1252  0236  33          	inc	sp
1253  0237  CD 00 00    	call	_enemy_init
1254  023A  F1          	pop	af
1255  023B  33          	inc	sp
1256  023C  21 0C 00    	ld	hl,0x000c
1257  023F  E3          	ex	(sp),hl
1258  0240  21 90 16    	ld	hl,0x1690
1259  0243  E5          	push	hl
1260  0244  3E 01       	ld	a,0x01
1261  0246  F5          	push	af
1262  0247  33          	inc	sp
1263  0248  CD 00 00    	call	_enemy_init
1264  024B  F1          	pop	af
1265  024C  33          	inc	sp
1266  024D  21 0C 00    	ld	hl,0x000c
1267  0250  E3          	ex	(sp),hl
1268  0251  21 50 06    	ld	hl,0x0650
1269  0254  E5          	push	hl
1270  0255  3E 02       	ld	a,0x02
1271  0257  F5          	push	af
1272  0258  33          	inc	sp
1273  0259  CD 00 00    	call	_enemy_init
1274  025C  F1          	pop	af
1275  025D  33          	inc	sp
1276  025E  21 0C 00    	ld	hl,0x000c
1277  0261  E3          	ex	(sp),hl
1278  0262  21 50 18    	ld	hl,0x1850
1279  0265  E5          	push	hl
1280  0266  3E 03       	ld	a,0x03
1281  0268  F5          	push	af
1282  0269  33          	inc	sp
1283  026A  CD 00 00    	call	_enemy_init
1284  026D  F1          	pop	af
1285  026E  33          	inc	sp
1286  026F  21 0C 00    	ld	hl,0x000c
1287  0272  E3          	ex	(sp),hl
1288  0273  21 10 05    	ld	hl,0x0510
1289  0276  E5          	push	hl
1290  0277  3E 04       	ld	a,0x04
1291  0279  F5          	push	af
1292  027A  33          	inc	sp
1293  027B  CD 00 00    	call	_enemy_init
1294  027E  F1          	pop	af
1295  027F  33          	inc	sp
1296  0280  21 0C 00    	ld	hl,0x000c
1297  0283  E3          	ex	(sp),hl
1298  0284  21 10 19    	ld	hl,0x1910
1299  0287  E5          	push	hl
1300  0288  3E 05       	ld	a,0x05
1301  028A  F5          	push	af
1302  028B  33          	inc	sp
1303  028C  CD 00 00    	call	_enemy_init
1304  028F  F1          	pop	af
1305  0290  F1          	pop	af
1306  0291  33          	inc	sp
1307  0292  18 15       	jr	l_game_phase_init_00105
1308  0294              l_game_phase_init_00104:
1309  0294  21 00 00    	ld	hl,_phase_left
1310  0297  36 FF       	ld	(hl),0xff
1311  0299  21 00 00    	ld	hl,_phase_curr
1312  029C  36 FF       	ld	(hl),0xff
1313  029E  21 00 00    	ld	hl,_game_brick_tile
1314  02A1  36 84       	ld	(hl),0x84
1315  02A3  21 84 00    	ld	hl,0x0084
1316  02A6  22 24 00    	ld	(_spr_idx + 0x0024),hl
1317  02A9              l_game_phase_init_00105:
1318  02A9  CD 00 00    	call	_ay_reset
1319  02AC  3A 00 00    	ld	a,(_game_bonus)
1320  02AF  B7          	or	a, a
1321  02B0  20 06       	jr	NZ,l_game_phase_init_00107
1322  02B2  21 00 00    	ld	hl,_pb_midi_phase_1
1323  02B5  CD 00 00    	call	_ay_midi_play
1324  02B8              l_game_phase_init_00107:
1325  02B8  CD F2 02    	call	_game_print_header
1326  02BB  3E 0C       	ld	a,0x0c
1327  02BD  F5          	push	af
1328  02BE  33          	inc	sp
1329  02BF  CD FD 02    	call	_game_phase_print
1330  02C2  33          	inc	sp
1331  02C3  3A 00 00    	ld	a,(_game_lives)
1332  02C6  B7          	or	a, a
1333  02C7  28 0D       	jr	Z,l_game_phase_init_00109
1334  02C9  21 0A 03    	ld	hl,0x030a
1335  02CC  E5          	push	hl
1336  02CD  21 07 98    	ld	hl,0x9807
1337  02D0  E5          	push	hl
1338  02D1  CD 00 00    	call	_player_init
1339  02D4  F1          	pop	af
1340  02D5  F1          	pop	af
1341  02D6              l_game_phase_init_00109:
1342  02D6  3A 01 00    	ld	a, (_game_lives + 1)
1343  02D9  B7          	or	a, a
1344  02DA  28 0D       	jr	Z,l_game_phase_init_00111
1345  02DC  21 14 27    	ld	hl,0x2714
1346  02DF  E5          	push	hl
1347  02E0  21 06 98    	ld	hl,0x9806
1348  02E3  E5          	push	hl
1349  02E4  CD 00 00    	call	_player_init
1350  02E7  F1          	pop	af
1351  02E8  F1          	pop	af
1352  02E9              l_game_phase_init_00111:
1353  02E9  CD 00 00    	call	_spr_draw_back
1354  02EC  CD F2 02    	call	_game_print_header
1355  02EF  C3 1C 00    	jp  _game_print_footer
1356  02F2              ;	---------------------------------
1357  02F2              ; Function game_print_header
1358  02F2              ; ---------------------------------
1359  02F2              _game_print_header:
1360  02F2  CD C7 00    	call	_game_phase_print_score_back
1361  02F5  21 00 00    	ld	hl,_screen_ink
1362  02F8  36 07       	ld	(hl),0x07
1363  02FA  C3 86 0D    	jp  _game_print_score
1364  02FD              ;	---------------------------------
1365  02FD              ; Function game_phase_print
1366  02FD              ; ---------------------------------
1367  02FD              _game_phase_print:
1368  02FD  CD 00 00    	call	___sdcc_enter_ix
1369  0300  21 83 03    	ld	hl,___str_10
1370  0303  E5          	push	hl
1371  0304  3E 0B       	ld	a,0x0b
1372  0306  F5          	push	af
1373  0307  33          	inc	sp
1374  0308  DD 7E 04    	ld	a,(ix+4)
1375  030B  F5          	push	af
1376  030C  33          	inc	sp
1377  030D  CD 00 00    	call	_zx_print_str
1378  0310  3A 00 00    	ld	a,(_phase_curr)
1379  0313  D6 1F       	sub	a,0x1f
1380  0315  30 2D       	jr	NC,l_game_phase_print_00108
1381  0317  3A 00 00    	ld	a,(_game_bonus)
1382  031A  B7          	or	a, a
1383  031B  20 15       	jr	NZ,l_game_phase_print_00102
1384  031D  21 00 00    	ld	hl,_phase_curr
1385  0320  46          	ld	b,(hl)
1386  0321  04          	inc	b
1387  0322  C5          	push	bc
1388  0323  33          	inc	sp
1389  0324  3E 11       	ld	a,0x11
1390  0326  F5          	push	af
1391  0327  33          	inc	sp
1392  0328  DD 7E 04    	ld	a,(ix+4)
1393  032B  F5          	push	af
1394  032C  33          	inc	sp
1395  032D  CD 00 00    	call	_zx_print_chr
1396  0330  18 3B       	jr	l_game_phase_print_00109
1397  0332              l_game_phase_print_00102:
1398  0332  21 89 03    	ld	hl,___str_11
1399  0335  E5          	push	hl
1400  0336  3E 11       	ld	a,0x11
1401  0338  F5          	push	af
1402  0339  33          	inc	sp
1403  033A  DD 7E 04    	ld	a,(ix+4)
1404  033D  F5          	push	af
1405  033E  33          	inc	sp
1406  033F  CD 00 00    	call	_zx_print_str
1407  0342  18 29       	jr	l_game_phase_print_00109
1408  0344              l_game_phase_print_00108:
1409  0344  3A 00 00    	ld	a,(_game_type)
1410  0347  D6 02       	sub	a,0x02
1411  0349  28 12       	jr	Z,l_game_phase_print_00105
1412  034B  21 8F 03    	ld	hl,___str_12
1413  034E  E5          	push	hl
1414  034F  3E 11       	ld	a,0x11
1415  0351  F5          	push	af
1416  0352  33          	inc	sp
1417  0353  DD 7E 04    	ld	a,(ix+4)
1418  0356  F5          	push	af
1419  0357  33          	inc	sp
1420  0358  CD 00 00    	call	_zx_print_str
1421  035B  18 10       	jr	l_game_phase_print_00109
1422  035D              l_game_phase_print_00105:
1423  035D  21 94 03    	ld	hl,___str_13
1424  0360  E5          	push	hl
1425  0361  3E 11       	ld	a,0x11
1426  0363  F5          	push	af
1427  0364  33          	inc	sp
1428  0365  DD 7E 04    	ld	a,(ix+4)
1429  0368  F5          	push	af
1430  0369  33          	inc	sp
1431  036A  CD 00 00    	call	_zx_print_str
1432  036D              l_game_phase_print_00109:
1433  036D  21 2C 01    	ld	hl,0x012c
1434  0370  E5          	push	hl
1435  0371  21 0B 18    	ld	hl,0x180b
1436  0374  E5          	push	hl
1437  0375  DD 7E 04    	ld	a,(ix+4)
1438  0378  F5          	push	af
1439  0379  33          	inc	sp
1440  037A  CD 0A 1B    	call	_game_colour_message
1441  037D  F1          	pop	af
1442  037E  F1          	pop	af
1443  037F  33          	inc	sp
1444  0380  DD E1       	pop	ix
1445  0382  C9          	ret
1446  0383              ___str_10:
1447  0383  50 48 41 53 45 
                        	DEFM "PHASE"
1448  0388  00          	DEFB 0x00
1449  0389              ___str_11:
1450  0389  42 4F 4E 55 53 
                        	DEFM "BONUS"
1451  038E  00          	DEFB 0x00
1452  038F              ___str_12:
1453  038F  48 45 4C 4C 	DEFM "HELL"
1454  0393  00          	DEFB 0x00
1455  0394              ___str_13:
1456  0394  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1457  039A  00          	DEFB 0x00
1458  039B              ;	---------------------------------
1459  039B              ; Function game_loop
1460  039B              ; ---------------------------------
1461  039B              _game_loop:
1462  039B  21 7E 05    	ld	hl,___str_14
1463  039E  E5          	push	hl
1464  039F  21 16 07    	ld	hl,0x0716
1465  03A2  E5          	push	hl
1466  03A3  CD 00 00    	call	_zx_print_str
1467  03A6  21 91 05    	ld	hl,___str_15
1468  03A9  E5          	push	hl
1469  03AA  21 17 07    	ld	hl,0x0717
1470  03AD  E5          	push	hl
1471  03AE  CD 00 00    	call	_zx_print_str
1472  03B1  21 00 00    	ld	hl,_ay_effect_10
1473  03B4  CD 00 00    	call	_ay_fx_play
1474  03B7  CD 00 00    	call	_sound_coin
1475  03BA  21 C8 00    	ld	hl,0x00c8
1476  03BD  CD 00 00    	call	_z80_delay_ms_fastcall
1477  03C0  21 A4 05    	ld	hl,___str_16
1478  03C3  E5          	push	hl
1479  03C4  21 16 07    	ld	hl,0x0716
1480  03C7  E5          	push	hl
1481  03C8  CD 00 00    	call	_zx_print_str
1482  03CB  CD 00 00    	call	_ay_reset
1483  03CE  21 11 11    	ld	hl,0x1111
1484  03D1  22 EF 01    	ld	((_lvl_1 + 0x01ef)),hl
1485  03D4  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1486  03D7  01 00 00    	ld	bc,_game_lives+0
1487  03DA  3E 04       	ld	a,0x04
1488  03DC  02          	ld	(bc),a
1489  03DD  03          	inc	bc
1490  03DE  3A 00 00    	ld	a,(_game_two_player)
1491  03E1  B7          	or	a,a
1492  03E2  28 05       	jr	Z,l_game_loop_00102
1493  03E4  3E 04       	ld	a,0x04
1494  03E6  02          	ld	(bc),a
1495  03E7  18 02       	jr	l_game_loop_00103
1496  03E9              l_game_loop_00102:
1497  03E9  AF          	xor	a, a
1498  03EA  02          	ld	(bc),a
1499  03EB              l_game_loop_00103:
1500  03EB  21 00 00    	ld	hl,0x0000
1501  03EE  22 00 00    	ld	(_player_score), hl
1502  03F1  2E 00       	ld	l,0x00
1503  03F3  22 02 00    	ld	(_player_score + 0x0002),hl
1504  03F6  21 D0 07    	ld	hl,0x07d0
1505  03F9  22 00 00    	ld	(_player_next_extra), hl
1506  03FC  2E D0       	ld	l,0xd0
1507  03FE  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1508  0401  21 00 00    	ld	hl,_spr_water_clear
1509  0404  36 FF       	ld	(hl),0xff
1510  0406  3A 00 00    	ld	a,(_game_type)
1511  0409  B7          	or	a, a
1512  040A  20 0E       	jr	NZ,l_game_loop_00105
1513  040C  21 F4 01    	ld	hl,0x01f4
1514  040F  22 00 00    	ld	(_game_time_flipped),hl
1515  0412  21 D0 07    	ld	hl,0x07d0
1516  0415  22 00 00    	ld	(_game_time_fireball_start),hl
1517  0418  18 0C       	jr	l_game_loop_00106
1518  041A              l_game_loop_00105:
1519  041A  21 FA 00    	ld	hl,0x00fa
1520  041D  22 00 00    	ld	(_game_time_flipped),hl
1521  0420  21 F4 01    	ld	hl,0x01f4
1522  0423  22 00 00    	ld	(_game_time_fireball_start),hl
1523  0426              l_game_loop_00106:
1524  0426  21 00 00    	ld	hl,_game_over
1525  0429  36 00       	ld	(hl),0x00
1526  042B  21 00 00    	ld	hl,_game_pow
1527  042E  36 03       	ld	(hl),0x03
1528  0430  21 00 00    	ld	hl,_phase_curr
1529  0433  36 03       	ld	(hl),0x03
1530  0435  CD BB 01    	call	_game_phase_init
1531  0438  21 00 00    	ld	hl,0x0000
1532  043B  22 00 00    	ld	(_loop_count),hl
1533  043E  21 00 00    	ld	hl,_dirs
1534  0441  36 00       	ld	(hl),0x00
1535  0443  CD 34 0D    	call	_game_unfreeze_all
1536  0446              l_game_loop_00134:
1537  0446  3A 00 00    	ld	a,(_game_over)
1538  0449  B7          	or	a, a
1539  044A  C2 45 05    	jp	NZ,l_game_loop_00136
1540  044D  CD 00 00    	call	_player_set1
1541  0450  CD 00 00    	call	_player_turn
1542  0453  CD 00 00    	call	_player_set2
1543  0456  CD 00 00    	call	_player_turn
1544  0459  CD 00 00    	call	_enemy_turn
1545  045C  3A 00 00    	ld	a,(_game_bonus)
1546  045F  B7          	or	a, a
1547  0460  28 16       	jr	Z,l_game_loop_00111
1548  0462  CD 0A 07    	call	_game_bonus_clock
1549  0465  3A 00 00    	ld	a,(_phase_left)
1550  0468  B7          	or	a, a
1551  0469  28 0D       	jr	Z,l_game_loop_00111
1552  046B  CD 00 00    	call	_ay_is_playing
1553  046E  7D          	ld	a,l
1554  046F  B7          	or	a, a
1555  0470  20 06       	jr	NZ,l_game_loop_00111
1556  0472  21 00 00    	ld	hl,_ay_effect_19
1557  0475  CD 00 00    	call	_ay_fx_play
1558  0478              l_game_loop_00111:
1559  0478  CD 00 00    	call	_spr_water_splash_clear
1560  047B  21 64 00    	ld	hl,0x0064
1561  047E  E5          	push	hl
1562  047F  2A 00 00    	ld	hl,(_frame_time)
1563  0482  E5          	push	hl
1564  0483  CD 9C 1B    	call	_game_check_time
1565  0486  F1          	pop	af
1566  0487  F1          	pop	af
1567  0488  7D          	ld	a,l
1568  0489  B7          	or	a, a
1569  048A  CA 39 05    	jp	Z,l_game_loop_00133
1570  048D  2A 00 00    	ld	hl,(_curr_time)
1571  0490  22 00 00    	ld	(_frame_time),hl
1572  0493  3A 00 00    	ld	a,(_game_bonus)
1573  0496  B7          	or	a,a
1574  0497  20 03       	jr	NZ,l_game_loop_00113
1575  0499  CD BA 09    	call	_game_enemy_add
1576  049C              l_game_loop_00113:
1577  049C  3A 00 00    	ld	a,(_phase_left)
1578  049F  3D          	dec	a
1579  04A0  20 57       	jr	NZ,l_game_loop_00120
1580  04A2  3A 00 00    	ld	a,(_phase_angry)
1581  04A5  B7          	or	a, a
1582  04A6  20 51       	jr	NZ,l_game_loop_00120
1583  04A8  21 00 00    	ld	hl,_sprite
1584  04AB  36 00       	ld	(hl),0x00
1585  04AD              l_game_loop_00137:
1586  04AD  2A 00 00    	ld	hl,(_sprite)
1587  04B0  26 00       	ld	h,0x00
1588  04B2  01 00 00    	ld	bc,_class
1589  04B5  09          	add	hl,bc
1590  04B6  7E          	ld	a,(hl)
1591  04B7  4F          	ld	c,a
1592  04B8  B7          	or	a,a
1593  04B9  28 35       	jr	Z,l_game_loop_00138
1594  04BB  3E 09       	ld	a,0x09
1595  04BD  91          	sub	a,c
1596  04BE  38 30       	jr	C,l_game_loop_00138
1597  04C0  3A 00 00    	ld	a,(_sprite)
1598  04C3  4F          	ld	c,a
1599  04C4  06 00       	ld	b,0x00
1600  04C6  21 00 00    	ld	hl,_state
1601  04C9  09          	add	hl,bc
1602  04CA  CB 6E       	bit	5,(hl)
1603  04CC  20 22       	jr	NZ,l_game_loop_00138
1604  04CE  21 00 00    	ld	hl,_phase_angry
1605  04D1  36 01       	ld	(hl),0x01
1606  04D3  CD 00 00    	call	_enemy_evolve
1607  04D6  CD 00 00    	call	_enemy_evolve
1608  04D9  3E 00       	ld	a,+((_tile) & 0xFF)
1609  04DB  21 00 00    	ld	hl,_sprite
1610  04DE  86          	add	a, (hl)
1611  04DF  4F          	ld	c,a
1612  04E0  3E 00       	ld	a,+((_tile) / 256)
1613  04E2  CE 00       	adc	a,0x00
1614  04E4  47          	ld	b,a
1615  04E5  7E          	ld	a,(hl)
1616  04E6  C5          	push	bc
1617  04E7  F5          	push	af
1618  04E8  33          	inc	sp
1619  04E9  CD 00 00    	call	_spr_tile
1620  04EC  33          	inc	sp
1621  04ED  C1          	pop	bc
1622  04EE  7D          	ld	a, l
1623  04EF  02          	ld	(bc),a
1624  04F0              l_game_loop_00138:
1625  04F0  21 00 00    	ld	hl,_sprite
1626  04F3  34          	inc	(hl)
1627  04F4  7E          	ld	a,(hl)
1628  04F5  D6 06       	sub	a,0x06
1629  04F7  38 B4       	jr	C,l_game_loop_00137
1630  04F9              l_game_loop_00120:
1631  04F9  3A 00 00    	ld	a,(_phase_end)
1632  04FC  3D          	dec	a
1633  04FD  20 3A       	jr	NZ,l_game_loop_00133
1634  04FF  3A 00 00    	ld	a,(_game_type)
1635  0502  D6 02       	sub	a,0x02
1636  0504  28 33       	jr	Z,l_game_loop_00133
1637  0506  21 90 01    	ld	hl,0x0190
1638  0509  CD 00 00    	call	_z80_delay_ms_fastcall
1639  050C  CD 00 00    	call	_ay_is_playing
1640  050F  7D          	ld	a, l
1641  0510  D6 02       	sub	a,0x02
1642  0512  30 03       	jr	NC,l_game_loop_00123
1643  0514  CD 00 00    	call	_ay_reset
1644  0517              l_game_loop_00123:
1645  0517  CD 75 09    	call	_game_kill_all_sprites
1646  051A  3A 00 00    	ld	a,(_game_bonus)
1647  051D  B7          	or	a, a
1648  051E  28 03       	jr	Z,l_game_loop_00125
1649  0520  CD 70 07    	call	_game_bonus_summary
1650  0523              l_game_loop_00125:
1651  0523  21 00 00    	ld	hl,_phase_curr
1652  0526  34          	inc	(hl)
1653  0527  3E 1F       	ld	a,0x1f
1654  0529  96          	sub	a, (hl)
1655  052A  30 0A       	jr	NC,l_game_loop_00127
1656  052C  CD B8 12    	call	_game_end
1657  052F  21 00 00    	ld	hl,_game_over
1658  0532  36 01       	ld	(hl),0x01
1659  0534  18 03       	jr	l_game_loop_00133
1660  0536              l_game_loop_00127:
1661  0536  CD BB 01    	call	_game_phase_init
1662  0539              l_game_loop_00133:
1663  0539  21 00 00    	ld	hl,_loop_count
1664  053C  34          	inc	(hl)
1665  053D  C2 46 04    	jp	NZ,l_game_loop_00134
1666  0540  23          	inc	hl
1667  0541  34          	inc	(hl)
1668  0542  C3 46 04    	jp	l_game_loop_00134
1669  0545              l_game_loop_00136:
1670  0545  21 20 03    	ld	hl,0x0320
1671  0548  CD 00 00    	call	_z80_delay_ms_fastcall
1672  054B  CD 75 09    	call	_game_kill_all_sprites
1673  054E  76          	halt
1674  054F  CD 00 00    	call	_spr_draw_clear
1675  0552  21 B7 05    	ld	hl,___str_17
1676  0555  E5          	push	hl
1677  0556  21 08 0B    	ld	hl,0x0b08
1678  0559  E5          	push	hl
1679  055A  CD 00 00    	call	_zx_print_str
1680  055D  21 C8 00    	ld	hl,0x00c8
1681  0560  E5          	push	hl
1682  0561  21 0B 15    	ld	hl,0x150b
1683  0564  E5          	push	hl
1684  0565  3E 08       	ld	a,0x08
1685  0567  F5          	push	af
1686  0568  33          	inc	sp
1687  0569  CD 0A 1B    	call	_game_colour_message
1688  056C  F1          	pop	af
1689  056D  F1          	pop	af
1690  056E  33          	inc	sp
1691  056F  CD FE 15    	call	_game_hall_enter
1692  0572  CD 00 00    	call	_ay_reset
1693  0575  21 00 00    	ld	hl,_game_menu_sel
1694  0578  36 00       	ld	(hl),0x00
1695  057A  CD EA 0F    	call	_game_menu_paint
1696  057D  C9          	ret
1697  057E              ___str_14:
1698  057E  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1699  0590  00          	DEFB 0x00
1700  0591              ___str_15:
1701  0591  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1702  05A3  00          	DEFB 0x00
1703  05A4              ___str_16:
1704  05A4  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1705  05B6  00          	DEFB 0x00
1706  05B7              ___str_17:
1707  05B7  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1708  05C0  00          	DEFB 0x00
1709  05C1              ;	---------------------------------
1710  05C1              ; Function game_score_osd
1711  05C1              ; ---------------------------------
1712  05C1              _game_score_osd:
1713  05C1  3A 00 00    	ld	a,(_index_player)
1714  05C4  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1715  05C6  4F          	ld	c,a
1716  05C7  3E 00       	ld	a,+((_score_osd_col) / 256)
1717  05C9  CE 00       	adc	a,0x00
1718  05CB  47          	ld	b,a
1719  05CC  0A          	ld	a,(bc)
1720  05CD  57          	ld	d,a
1721  05CE  3C          	inc	a
1722  05CF  20 72       	jr	NZ,l_game_score_osd_00117
1723  05D1  3A 00 00    	ld	a,(_hit_count)
1724  05D4  B7          	or	a, a
1725  05D5  CA 09 07    	jp	Z,l_game_score_osd_00119
1726  05D8  2A 00 00    	ld	hl,(_sprite)
1727  05DB  26 00       	ld	h,0x00
1728  05DD  11 00 00    	ld	de,_col
1729  05E0  19          	add	hl,de
1730  05E1  7E          	ld	a,(hl)
1731  05E2  02          	ld	(bc),a
1732  05E3  3A 00 00    	ld	a,(_index_player)
1733  05E6  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1734  05E8  4F          	ld	c,a
1735  05E9  3E 00       	ld	a,+((_score_osd_lin) / 256)
1736  05EB  CE 00       	adc	a,0x00
1737  05ED  47          	ld	b,a
1738  05EE  2A 00 00    	ld	hl,(_sprite)
1739  05F1  26 00       	ld	h,0x00
1740  05F3  11 00 00    	ld	de,_lin
1741  05F6  19          	add	hl,de
1742  05F7  7E          	ld	a,(hl)
1743  05F8  02          	ld	(bc),a
1744  05F9  01 00 00    	ld	bc,_score_osd_time+0
1745  05FC  2A 00 00    	ld	hl,(_index_player)
1746  05FF  26 00       	ld	h,0x00
1747  0601  29          	add	hl, hl
1748  0602  09          	add	hl,bc
1749  0603  ED 5B 00 00 	ld	de,(_curr_time)
1750  0607  73          	ld	(hl),e
1751  0608  23          	inc	hl
1752  0609  72          	ld	(hl),d
1753  060A  2A 00 00    	ld	hl,(_index_player)
1754  060D  26 00       	ld	h,0x00
1755  060F  29          	add	hl,hl
1756  0610  3A 00 00    	ld	a,(_hit_count)
1757  0613  3D          	dec	a
1758  0614  4D          	ld	c,l
1759  0615  44          	ld	b,h
1760  0616  20 0C       	jr	NZ,l_game_score_osd_00105
1761  0618  21 00 00    	ld	hl,_score_osd_tile
1762  061B  09          	add	hl,bc
1763  061C  36 BC       	ld	(hl),0xbc
1764  061E  23          	inc	hl
1765  061F  36 00       	ld	(hl),0x00
1766  0621  C3 09 07    	jp	l_game_score_osd_00119
1767  0624              l_game_score_osd_00105:
1768  0624  3A 00 00    	ld	a,(_hit_count)
1769  0627  D6 08       	sub	a,0x08
1770  0629  30 0C       	jr	NC,l_game_score_osd_00102
1771  062B  21 00 00    	ld	hl,_score_osd_tile
1772  062E  09          	add	hl,bc
1773  062F  36 BD       	ld	(hl),0xbd
1774  0631  23          	inc	hl
1775  0632  36 00       	ld	(hl),0x00
1776  0634  C3 09 07    	jp	l_game_score_osd_00119
1777  0637              l_game_score_osd_00102:
1778  0637  21 00 00    	ld	hl,_score_osd_tile
1779  063A  09          	add	hl,bc
1780  063B  36 BE       	ld	(hl),0xbe
1781  063D  23          	inc	hl
1782  063E  36 00       	ld	(hl),0x00
1783  0640  C3 09 07    	jp	l_game_score_osd_00119
1784  0643              l_game_score_osd_00117:
1785  0643  3A 00 00    	ld	a,(_index_player)
1786  0646  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1787  0648  4F          	ld	c,a
1788  0649  3E 00       	ld	a,+((_score_osd_lin) / 256)
1789  064B  CE 00       	adc	a,0x00
1790  064D  47          	ld	b,a
1791  064E  0A          	ld	a,(bc)
1792  064F  C6 FE       	add	a,0xfe
1793  0651  21 00 00    	ld	hl,_tmp
1794  0654  77          	ld	(hl),a
1795  0655  D5          	push	de
1796  0656  33          	inc	sp
1797  0657  7E          	ld	a,(hl)
1798  0658  F5          	push	af
1799  0659  33          	inc	sp
1800  065A  CD 00 00    	call	_game_calc_index
1801  065D  F1          	pop	af
1802  065E  22 00 00    	ld	(_index1),hl
1803  0661  3E 08       	ld	a,0x08
1804  0663  21 00 00    	ld	hl,_tmp
1805  0666  96          	sub	a, (hl)
1806  0667  30 5B       	jr	NC,l_game_score_osd_00110
1807  0669  21 01 00    	ld	hl,_index1 + 1
1808  066C  7E          	ld	a,(hl)
1809  066D  2B          	dec	hl
1810  066E  B6          	or	a,(hl)
1811  066F  28 53       	jr	Z,l_game_score_osd_00110
1812  0671  01 00 00    	ld	bc,_lvl_1+0
1813  0674  79          	ld	a,c
1814  0675  86          	add	a, (hl)
1815  0676  5F          	ld	e,a
1816  0677  78          	ld	a,b
1817  0678  23          	inc	hl
1818  0679  8E          	adc	a, (hl)
1819  067A  57          	ld	d,a
1820  067B  1A          	ld	a,(de)
1821  067C  B7          	or	a, a
1822  067D  20 45       	jr	NZ,l_game_score_osd_00110
1823  067F  56          	ld	d,(hl)
1824  0680  2B          	dec	hl
1825  0681  5E          	ld	e,(hl)
1826  0682  13          	inc	de
1827  0683  69          	ld	l, c
1828  0684  60          	ld	h, b
1829  0685  19          	add	hl,de
1830  0686  7E          	ld	a,(hl)
1831  0687  B7          	or	a, a
1832  0688  20 3A       	jr	NZ,l_game_score_osd_00110
1833  068A  76          	halt
1834  068B  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1835  068D  21 00 00    	ld	hl,_index_player
1836  0690  86          	add	a, (hl)
1837  0691  4F          	ld	c,a
1838  0692  3E 00       	ld	a,+((_score_osd_col) / 256)
1839  0694  CE 00       	adc	a,0x00
1840  0696  47          	ld	b,a
1841  0697  0A          	ld	a,(bc)
1842  0698  57          	ld	d,a
1843  0699  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1844  069B  86          	add	a, (hl)
1845  069C  4F          	ld	c,a
1846  069D  3E 00       	ld	a,+((_score_osd_lin) / 256)
1847  069F  CE 00       	adc	a,0x00
1848  06A1  47          	ld	b,a
1849  06A2  0A          	ld	a,(bc)
1850  06A3  5F          	ld	e,a
1851  06A4  6E          	ld	l, (hl)
1852  06A5  26 00       	ld	h,0x00
1853  06A7  29          	add	hl, hl
1854  06A8  01 00 00    	ld	bc,_score_osd_tile
1855  06AB  09          	add	hl,bc
1856  06AC  46          	ld	b,(hl)
1857  06AD  23          	inc	hl
1858  06AE  4E          	ld	c,(hl)
1859  06AF  D5          	push	de
1860  06B0  C5          	push	bc
1861  06B1  33          	inc	sp
1862  06B2  CD 00 00    	call	_NIRVANAP_drawT_callee
1863  06B5  3A 00 00    	ld	a,(_index_player)
1864  06B8  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1865  06BA  4F          	ld	c,a
1866  06BB  3E 00       	ld	a,+((_score_osd_lin) / 256)
1867  06BD  CE 00       	adc	a,0x00
1868  06BF  47          	ld	b,a
1869  06C0  3A 00 00    	ld	a,(_tmp)
1870  06C3  02          	ld	(bc),a
1871  06C4              l_game_score_osd_00110:
1872  06C4  01 00 00    	ld	bc,_score_osd_time+0
1873  06C7  2A 00 00    	ld	hl,(_index_player)
1874  06CA  26 00       	ld	h,0x00
1875  06CC  29          	add	hl, hl
1876  06CD  09          	add	hl,bc
1877  06CE  4E          	ld	c,(hl)
1878  06CF  23          	inc	hl
1879  06D0  46          	ld	b,(hl)
1880  06D1  21 32 00    	ld	hl,0x0032
1881  06D4  E5          	push	hl
1882  06D5  C5          	push	bc
1883  06D6  CD 9C 1B    	call	_game_check_time
1884  06D9  F1          	pop	af
1885  06DA  F1          	pop	af
1886  06DB  7D          	ld	a,l
1887  06DC  B7          	or	a, a
1888  06DD  C8          	ret	Z
1889  06DE  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1890  06E0  21 00 00    	ld	hl,_index_player
1891  06E3  86          	add	a, (hl)
1892  06E4  4F          	ld	c,a
1893  06E5  3E 00       	ld	a,+((_score_osd_col) / 256)
1894  06E7  CE 00       	adc	a,0x00
1895  06E9  47          	ld	b,a
1896  06EA  0A          	ld	a,(bc)
1897  06EB  57          	ld	d,a
1898  06EC  4E          	ld	c,(hl)
1899  06ED  06 00       	ld	b,0x00
1900  06EF  21 00 00    	ld	hl,_score_osd_lin
1901  06F2  09          	add	hl,bc
1902  06F3  5E          	ld	e, (hl)
1903  06F4  D5          	push	de
1904  06F5  AF          	xor	a, a
1905  06F6  F5          	push	af
1906  06F7  33          	inc	sp
1907  06F8  CD 00 00    	call	_NIRVANAP_fillT_callee
1908  06FB  3A 00 00    	ld	a,(_index_player)
1909  06FE  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1910  0700  4F          	ld	c,a
1911  0701  3E 00       	ld	a,+((_score_osd_col) / 256)
1912  0703  CE 00       	adc	a,0x00
1913  0705  47          	ld	b,a
1914  0706  3E FF       	ld	a,0xff
1915  0708  02          	ld	(bc),a
1916  0709              l_game_score_osd_00119:
1917  0709  C9          	ret
1918  070A              ;	---------------------------------
1919  070A              ; Function game_bonus_clock
1920  070A              ; ---------------------------------
1921  070A              _game_bonus_clock:
1922  070A  2A 00 00    	ld	hl,(_curr_time)
1923  070D  29          	add	hl,hl
1924  070E  3E D0       	ld	a,0xd0
1925  0710  95          	sub	a,l
1926  0711  44          	ld	b,h
1927  0712  21 00 00    	ld	hl,_tmp_ui
1928  0715  77          	ld	(hl),a
1929  0716  3E 07       	ld	a,0x07
1930  0718  98          	sbc	a, b
1931  0719  23          	inc	hl
1932  071A  77          	ld	(hl),a
1933  071B  3E D0       	ld	a,0xd0
1934  071D  2B          	dec	hl
1935  071E  BE          	cp	a, (hl)
1936  071F  3E 07       	ld	a,0x07
1937  0721  23          	inc	hl
1938  0722  9E          	sbc	a, (hl)
1939  0723  30 14       	jr	NC,l_game_bonus_clock_00106
1940  0725  2B          	dec	hl
1941  0726  AF          	xor	a, a
1942  0727  77          	ld	(hl), a
1943  0728  23          	inc	hl
1944  0729  77          	ld	(hl), a
1945  072A  21 00 00    	ld	hl,_phase_left
1946  072D  36 00       	ld	(hl),0x00
1947  072F  21 00 00    	ld	hl,_phase_end
1948  0732  36 01       	ld	(hl),0x01
1949  0734  CD 00 00    	call	_ay_reset
1950  0737  18 36       	jr	l_game_bonus_clock_00108
1951  0739              l_game_bonus_clock_00106:
1952  0739  3A 00 00    	ld	a,(_phase_left)
1953  073C  B7          	or	a, a
1954  073D  C8          	ret	Z
1955  073E  2A 00 00    	ld	hl,(_tmp_ui)
1956  0741  E5          	push	hl
1957  0742  21 02 0E    	ld	hl,0x0e02
1958  0745  E5          	push	hl
1959  0746  CD 00 00    	call	_zx_print_bonus_time
1960  0749  21 05 00    	ld	hl,0x0005
1961  074C  E5          	push	hl
1962  074D  2A 00 00    	ld	hl,(_frame_time)
1963  0750  E5          	push	hl
1964  0751  CD 9C 1B    	call	_game_check_time
1965  0754  F1          	pop	af
1966  0755  F1          	pop	af
1967  0756  7D          	ld	a,l
1968  0757  B7          	or	a, a
1969  0758  C8          	ret	Z
1970  0759  2A 00 00    	ld	hl,(_curr_time)
1971  075C  22 00 00    	ld	(_frame_time),hl
1972  075F  21 14 18    	ld	hl,0x1814
1973  0762  E5          	push	hl
1974  0763  3E 0E       	ld	a,0x0e
1975  0765  F5          	push	af
1976  0766  33          	inc	sp
1977  0767  CD 0E 0E    	call	_game_paint_attrib_lin_h
1978  076A  F1          	pop	af
1979  076B  33          	inc	sp
1980  076C  CD EE 1A    	call	_game_rotate_attrib
1981  076F              l_game_bonus_clock_00108:
1982  076F  C9          	ret
1983  0770              ;	---------------------------------
1984  0770              ; Function game_bonus_summary
1985  0770              ; ---------------------------------
1986  0770              _game_bonus_summary:
1987  0770  CD 75 09    	call	_game_kill_all_sprites
1988  0773  CD 00 00    	call	_spr_draw_clear
1989  0776  21 00 00    	ld	hl,0x0000
1990  0779  CD 00 00    	call	_zx_cls_fastcall
1991  077C  CD C7 00    	call	_game_phase_print_score_back
1992  077F  CD 86 0D    	call	_game_print_score
1993  0782  3A 00 00    	ld	a,(_game_lives)
1994  0785  B7          	or	a, a
1995  0786  28 07       	jr	Z,l_game_bonus_summary_00102
1996  0788  AF          	xor	a, a
1997  0789  F5          	push	af
1998  078A  33          	inc	sp
1999  078B  CD 61 08    	call	_game_bonus_summary_player
2000  078E  33          	inc	sp
2001  078F              l_game_bonus_summary_00102:
2002  078F  3A 01 00    	ld	a, (_game_lives + 1)
2003  0792  B7          	or	a, a
2004  0793  28 08       	jr	Z,l_game_bonus_summary_00104
2005  0795  3E 01       	ld	a,0x01
2006  0797  F5          	push	af
2007  0798  33          	inc	sp
2008  0799  CD 61 08    	call	_game_bonus_summary_player
2009  079C  33          	inc	sp
2010  079D              l_game_bonus_summary_00104:
2011  079D  21 1F 98    	ld	hl,0x981f
2012  07A0  E5          	push	hl
2013  07A1  AF          	xor	a, a
2014  07A2  F5          	push	af
2015  07A3  33          	inc	sp
2016  07A4  CD E4 0D    	call	_game_paint_attrib_lin
2017  07A7  F1          	pop	af
2018  07A8  33          	inc	sp
2019  07A9  3A 00 00    	ld	a,(_phase_bonus_total)
2020  07AC  D6 06       	sub	a,0x06
2021  07AE  20 70       	jr	NZ,l_game_bonus_summary_00109
2022  07B0  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2023  07B3  B7          	or	a, a
2024  07B4  20 6A       	jr	NZ,l_game_bonus_summary_00109
2025  07B6  CD 00 00    	call	_sound_jump
2026  07B9  3A 00 00    	ld	a,(_phase_curr)
2027  07BC  D6 03       	sub	a,0x03
2028  07BE  20 27       	jr	NZ,l_game_bonus_summary_00106
2029  07C0  21 32 08    	ld	hl,___str_18
2030  07C3  E5          	push	hl
2031  07C4  21 12 06    	ld	hl,0x0612
2032  07C7  E5          	push	hl
2033  07C8  CD 00 00    	call	_zx_print_str
2034  07CB  21 00 00    	ld	hl,_index_player
2035  07CE  36 00       	ld	(hl),0x00
2036  07D0  21 2C 01    	ld	hl,0x012c
2037  07D3  E5          	push	hl
2038  07D4  CD 00 00    	call	_player_score_add
2039  07D7  F1          	pop	af
2040  07D8  21 00 00    	ld	hl,_index_player
2041  07DB  36 01       	ld	(hl),0x01
2042  07DD  21 2C 01    	ld	hl,0x012c
2043  07E0  E5          	push	hl
2044  07E1  CD 00 00    	call	_player_score_add
2045  07E4  F1          	pop	af
2046  07E5  18 25       	jr	l_game_bonus_summary_00107
2047  07E7              l_game_bonus_summary_00106:
2048  07E7  21 45 08    	ld	hl,___str_19
2049  07EA  E5          	push	hl
2050  07EB  21 12 06    	ld	hl,0x0612
2051  07EE  E5          	push	hl
2052  07EF  CD 00 00    	call	_zx_print_str
2053  07F2  21 00 00    	ld	hl,_index_player
2054  07F5  36 00       	ld	(hl),0x00
2055  07F7  21 F4 01    	ld	hl,0x01f4
2056  07FA  E5          	push	hl
2057  07FB  CD 00 00    	call	_player_score_add
2058  07FE  F1          	pop	af
2059  07FF  21 00 00    	ld	hl,_index_player
2060  0802  36 01       	ld	(hl),0x01
2061  0804  21 F4 01    	ld	hl,0x01f4
2062  0807  E5          	push	hl
2063  0808  CD 00 00    	call	_player_score_add
2064  080B  F1          	pop	af
2065  080C              l_game_bonus_summary_00107:
2066  080C  21 C8 00    	ld	hl,0x00c8
2067  080F  E5          	push	hl
2068  0810  21 10 1A    	ld	hl,0x1a10
2069  0813  E5          	push	hl
2070  0814  3E 12       	ld	a,0x12
2071  0816  F5          	push	af
2072  0817  33          	inc	sp
2073  0818  CD 0A 1B    	call	_game_colour_message
2074  081B  F1          	pop	af
2075  081C  F1          	pop	af
2076  081D  33          	inc	sp
2077  081E  18 11       	jr	l_game_bonus_summary_00112
2078  0820              l_game_bonus_summary_00109:
2079  0820  21 58 08    	ld	hl,___str_20
2080  0823  E5          	push	hl
2081  0824  21 12 0C    	ld	hl,0x0c12
2082  0827  E5          	push	hl
2083  0828  CD 00 00    	call	_zx_print_str
2084  082B  21 E8 03    	ld	hl,0x03e8
2085  082E  CD 00 00    	call	_z80_delay_ms_fastcall
2086  0831              l_game_bonus_summary_00112:
2087  0831  C9          	ret
2088  0832              ___str_18:
2089  0832  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2090  0844  00          	DEFB 0x00
2091  0845              ___str_19:
2092  0845  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2093  0857  00          	DEFB 0x00
2094  0858              ___str_20:
2095  0858  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2096  0860  00          	DEFB 0x00
2097  0861              ;	---------------------------------
2098  0861              ; Function game_bonus_summary_player
2099  0861              ; ---------------------------------
2100  0861              _game_bonus_summary_player:
2101  0861  CD 00 00    	call	___sdcc_enter_ix
2102  0864  F5          	push	af
2103  0865  76          	halt
2104  0866  DD 7E 04    	ld	a,(ix+4)
2105  0869  B7          	or	a, a
2106  086A  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2107  086C  21 00 00    	ld	hl,_s_lin1
2108  086F  36 06       	ld	(hl),0x06
2109  0871  21 62 09    	ld	hl,___str_21
2110  0874  E5          	push	hl
2111  0875  21 06 07    	ld	hl,0x0706
2112  0878  E5          	push	hl
2113  0879  CD 00 00    	call	_zx_print_str
2114  087C  3A 00 00    	ld	a,(_s_lin1)
2115  087F  07          	rlca
2116  0880  07          	rlca
2117  0881  07          	rlca
2118  0882  E6 F8       	and	a,0xf8
2119  0884  47          	ld	b,a
2120  0885  04          	inc	b
2121  0886  04          	inc	b
2122  0887  04          	inc	b
2123  0888  04          	inc	b
2124  0889  3E 04       	ld	a,0x04
2125  088B  48          	ld	c,b
2126  088C  47          	ld	b,a
2127  088D  C5          	push	bc
2128  088E  3E 03       	ld	a,0x03
2129  0890  F5          	push	af
2130  0891  33          	inc	sp
2131  0892  CD 00 00    	call	_NIRVANAP_drawT_callee
2132  0895  21 00 00    	ld	hl,_index_player
2133  0898  36 00       	ld	(hl),0x00
2134  089A  18 2E       	jr	l_game_bonus_summary_player_00103
2135  089C              l_game_bonus_summary_player_00102:
2136  089C  21 00 00    	ld	hl,_s_lin1
2137  089F  36 0C       	ld	(hl),0x0c
2138  08A1  21 69 09    	ld	hl,___str_22
2139  08A4  E5          	push	hl
2140  08A5  21 0C 07    	ld	hl,0x070c
2141  08A8  E5          	push	hl
2142  08A9  CD 00 00    	call	_zx_print_str
2143  08AC  3A 00 00    	ld	a,(_s_lin1)
2144  08AF  07          	rlca
2145  08B0  07          	rlca
2146  08B1  07          	rlca
2147  08B2  E6 F8       	and	a,0xf8
2148  08B4  47          	ld	b,a
2149  08B5  04          	inc	b
2150  08B6  04          	inc	b
2151  08B7  04          	inc	b
2152  08B8  04          	inc	b
2153  08B9  3E 04       	ld	a,0x04
2154  08BB  48          	ld	c,b
2155  08BC  47          	ld	b,a
2156  08BD  C5          	push	bc
2157  08BE  3E 1B       	ld	a,0x1b
2158  08C0  F5          	push	af
2159  08C1  33          	inc	sp
2160  08C2  CD 00 00    	call	_NIRVANAP_drawT_callee
2161  08C5  21 00 00    	ld	hl,_index_player
2162  08C8  36 01       	ld	(hl),0x01
2163  08CA              l_game_bonus_summary_player_00103:
2164  08CA  3A 00 00    	ld	a,(_s_lin1)
2165  08CD  07          	rlca
2166  08CE  07          	rlca
2167  08CF  07          	rlca
2168  08D0  E6 F8       	and	a,0xf8
2169  08D2  C6 08       	add	a,0x08
2170  08D4  F5          	push	af
2171  08D5  33          	inc	sp
2172  08D6  21 07 1F    	ld	hl,0x1f07
2173  08D9  E5          	push	hl
2174  08DA  CD E4 0D    	call	_game_paint_attrib_lin
2175  08DD  F1          	pop	af
2176  08DE  33          	inc	sp
2177  08DF  21 00 00    	ld	hl,_tmp_uc
2178  08E2  36 00       	ld	(hl),0x00
2179  08E4  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2180  08E6  DD 86 04    	add	a,(ix+4)
2181  08E9  DD 77 FE    	ld	(ix-2),a
2182  08EC  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2183  08EE  CE 00       	adc	a,0x00
2184  08F0  DD 77 FF    	ld	(ix-1),a
2185  08F3              l_game_bonus_summary_player_00107:
2186  08F3  E1          	pop	hl
2187  08F4  4E          	ld	c,(hl)
2188  08F5  3A 00 00    	ld	a,(_tmp_uc)
2189  08F8  E5          	push	hl
2190  08F9  91          	sub	a, c
2191  08FA  30 55       	jr	NC,l_game_bonus_summary_player_00109
2192  08FC  3A 00 00    	ld	a,(_s_lin1)
2193  08FF  07          	rlca
2194  0900  07          	rlca
2195  0901  07          	rlca
2196  0902  E6 F8       	and	a,0xf8
2197  0904  4F          	ld	c,a
2198  0905  3A 00 00    	ld	a,(_tmp_uc)
2199  0908  D6 03       	sub	a,0x03
2200  090A  30 08       	jr	NC,l_game_bonus_summary_player_00105
2201  090C  79          	ld	a,c
2202  090D  C6 F8       	add	a,0xf8
2203  090F  32 00 00    	ld	(_s_lin0),a
2204  0912  18 06       	jr	l_game_bonus_summary_player_00106
2205  0914              l_game_bonus_summary_player_00105:
2206  0914  79          	ld	a,c
2207  0915  C6 08       	add	a,0x08
2208  0917  32 00 00    	ld	(_s_lin0),a
2209  091A              l_game_bonus_summary_player_00106:
2210  091A  76          	halt
2211  091B  2A 00 00    	ld	hl,(_tmp_uc)
2212  091E  26 03       	ld	h,0x03
2213  0920  E5          	push	hl
2214  0921  CD 00 00    	call	__moduchar_callee
2215  0924  7D          	ld	a,l
2216  0925  87          	add	a, a
2217  0926  C6 0E       	add	a,0x0e
2218  0928  F5          	push	af
2219  0929  33          	inc	sp
2220  092A  3A 00 00    	ld	a,(_s_lin0)
2221  092D  57          	ld	d,a
2222  092E  1E B9       	ld	e,0xb9
2223  0930  D5          	push	de
2224  0931  CD 00 00    	call	_NIRVANAP_drawT_callee
2225  0934  21 50 00    	ld	hl,0x0050
2226  0937  E5          	push	hl
2227  0938  CD 00 00    	call	_player_score_add
2228  093B  F1          	pop	af
2229  093C  21 00 00    	ld	hl,_tmp_uc
2230  093F  34          	inc	(hl)
2231  0940  21 00 00    	ld	hl,_ay_effect_09
2232  0943  CD 00 00    	call	_ay_fx_play
2233  0946  CD 00 00    	call	_sound_coin
2234  0949  21 32 00    	ld	hl,0x0032
2235  094C  CD 00 00    	call	_z80_delay_ms_fastcall
2236  094F  18 A2       	jr	l_game_bonus_summary_player_00107
2237  0951              l_game_bonus_summary_player_00109:
2238  0951  21 6F 09    	ld	hl,___str_23
2239  0954  E5          	push	hl
2240  0955  2A 00 00    	ld	hl,(_s_lin1)
2241  0958  26 16       	ld	h,0x16
2242  095A  E5          	push	hl
2243  095B  CD 00 00    	call	_zx_print_str
2244  095E  F1          	pop	af
2245  095F  DD E1       	pop	ix
2246  0961  C9          	ret
2247  0962              ___str_21:
2248  0962  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2249  0968  00          	DEFB 0x00
2250  0969              ___str_22:
2251  0969  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2252  096E  00          	DEFB 0x00
2253  096F              ___str_23:
2254  096F  58 20 38 30 30 
                        	DEFM "X 800"
2255  0974  00          	DEFB 0x00
2256  0975              ;	---------------------------------
2257  0975              ; Function game_kill_all_sprites
2258  0975              ; ---------------------------------
2259  0975              _game_kill_all_sprites:
2260  0975  21 00 00    	ld	hl,_sprite
2261  0978  36 00       	ld	(hl),0x00
2262  097A              l_game_kill_all_sprites_00102:
2263  097A  3A 00 00    	ld	a,(_sprite)
2264  097D  F5          	push	af
2265  097E  33          	inc	sp
2266  097F  CD 00 00    	call	_spr_destroy
2267  0982  33          	inc	sp
2268  0983  21 00 00    	ld	hl,_sprite
2269  0986  34          	inc	(hl)
2270  0987  7E          	ld	a,(hl)
2271  0988  D6 08       	sub	a,0x08
2272  098A  38 EE       	jr	C,l_game_kill_all_sprites_00102
2273  098C  C9          	ret
2274  098D              ;	---------------------------------
2275  098D              ; Function game_check_maze
2276  098D              ; ---------------------------------
2277  098D              _game_check_maze:
2278  098D  CD 00 00    	call	___sdcc_enter_ix
2279  0990  3E 00       	ld	a,+((_lvl_1) & 0xFF)
2280  0992  DD 86 04    	add	a,(ix+4)
2281  0995  4F          	ld	c,a
2282  0996  3E 00       	ld	a,+((_lvl_1) / 256)
2283  0998  DD 8E 05    	adc	a,(ix+5)
2284  099B  47          	ld	b,a
2285  099C  0A          	ld	a,(bc)
2286  099D  D6 10       	sub	a,0x10
2287  099F  30 10       	jr	NC,l_game_check_maze_00103
2288  09A1  DD 4E 04    	ld	c,(ix+4)
2289  09A4  DD 46 05    	ld	b,(ix+5)
2290  09A7  03          	inc	bc
2291  09A8  21 00 00    	ld	hl,_lvl_1
2292  09AB  09          	add	hl,bc
2293  09AC  7E          	ld	a, (hl)
2294  09AD  D6 10       	sub	a,0x10
2295  09AF  38 04       	jr	C,l_game_check_maze_00104
2296  09B1              l_game_check_maze_00103:
2297  09B1  2E 00       	ld	l,0x00
2298  09B3  18 02       	jr	l_game_check_maze_00105
2299  09B5              l_game_check_maze_00104:
2300  09B5  2E 01       	ld	l,0x01
2301  09B7              l_game_check_maze_00105:
2302  09B7  DD E1       	pop	ix
2303  09B9  C9          	ret
2304  09BA              ;	---------------------------------
2305  09BA              ; Function game_enemy_add
2306  09BA              ; ---------------------------------
2307  09BA              _game_enemy_add:
2308  09BA  3A 00 00    	ld	a,(_game_type)
2309  09BD  D6 02       	sub	a,0x02
2310  09BF  20 05       	jr	NZ,l_game_enemy_add_00106
2311  09C1  CD 03 0B    	call	_game_enemy_rnd
2312  09C4  18 21       	jr	l_game_enemy_add_00107
2313  09C6              l_game_enemy_add_00106:
2314  09C6  3A 00 00    	ld	a,(_spr_count)
2315  09C9  D6 06       	sub	a,0x06
2316  09CB  30 1A       	jr	NC,l_game_enemy_add_00107
2317  09CD  21 64 00    	ld	hl,0x0064
2318  09D0  E5          	push	hl
2319  09D1  2A 00 00    	ld	hl,(_entry_time)
2320  09D4  E5          	push	hl
2321  09D5  CD 9C 1B    	call	_game_check_time
2322  09D8  F1          	pop	af
2323  09D9  F1          	pop	af
2324  09DA  7D          	ld	a,l
2325  09DB  B7          	or	a, a
2326  09DC  28 09       	jr	Z,l_game_enemy_add_00107
2327  09DE  3A 00 00    	ld	a,(_phase_left)
2328  09E1  B7          	or	a, a
2329  09E2  28 03       	jr	Z,l_game_enemy_add_00107
2330  09E4  CD EA 09    	call	_game_enemy_quota
2331  09E7              l_game_enemy_add_00107:
2332  09E7  2E 00       	ld	l,0x00
2333  09E9  C9          	ret
2334  09EA              ;	---------------------------------
2335  09EA              ; Function game_enemy_quota
2336  09EA              ; ---------------------------------
2337  09EA              _game_enemy_quota:
2338  09EA  CD 00 00    	call	_rand
2339  09ED  7D          	ld	a, l
2340  09EE  E6 01       	and	a,0x01
2341  09F0  32 00 00    	ld	(_tmp),a
2342  09F3  3A 00 00    	ld	a,(_phase_pop)
2343  09F6  B7          	or	a, a
2344  09F7  28 06       	jr	Z,l_game_enemy_quota_00101
2345  09F9  3A 00 00    	ld	a,(_phase_left)
2346  09FC  3D          	dec	a
2347  09FD  20 05       	jr	NZ,l_game_enemy_quota_00102
2348  09FF              l_game_enemy_quota_00101:
2349  09FF  21 00 00    	ld	hl,_tmp
2350  0A02  36 00       	ld	(hl),0x00
2351  0A04              l_game_enemy_quota_00102:
2352  0A04  3A 00 00    	ld	a,(_phase_left)
2353  0A07  B7          	or	a, a
2354  0A08  28 55       	jr	Z,l_game_enemy_quota_00111
2355  0A0A  3A 00 00    	ld	a,(_tmp)
2356  0A0D  B7          	or	a, a
2357  0A0E  20 4F       	jr	NZ,l_game_enemy_quota_00111
2358  0A10  01 00 00    	ld	bc,_phase_quota+0
2359  0A13  59          	ld	e, c
2360  0A14  50          	ld	d, b
2361  0A15  13          	inc	de
2362  0A16  13          	inc	de
2363  0A17  1A          	ld	a,(de)
2364  0A18  B7          	or	a, a
2365  0A19  28 13       	jr	Z,l_game_enemy_quota_00105
2366  0A1B  D5          	push	de
2367  0A1C  3E 09       	ld	a,0x09
2368  0A1E  F5          	push	af
2369  0A1F  33          	inc	sp
2370  0A20  CD 38 0B    	call	_game_enemy_add1
2371  0A23  33          	inc	sp
2372  0A24  D1          	pop	de
2373  0A25  1A          	ld	a,(de)
2374  0A26  C6 FF       	add	a,0xff
2375  0A28  12          	ld	(de),a
2376  0A29  2E 00       	ld	l,0x00
2377  0A2B  C3 02 0B    	jp	l_game_enemy_quota_00128
2378  0A2E              l_game_enemy_quota_00105:
2379  0A2E  59          	ld	e, c
2380  0A2F  50          	ld	d, b
2381  0A30  13          	inc	de
2382  0A31  1A          	ld	a,(de)
2383  0A32  B7          	or	a, a
2384  0A33  28 13       	jr	Z,l_game_enemy_quota_00107
2385  0A35  D5          	push	de
2386  0A36  3E 04       	ld	a,0x04
2387  0A38  F5          	push	af
2388  0A39  33          	inc	sp
2389  0A3A  CD 38 0B    	call	_game_enemy_add1
2390  0A3D  33          	inc	sp
2391  0A3E  D1          	pop	de
2392  0A3F  1A          	ld	a,(de)
2393  0A40  C6 FF       	add	a,0xff
2394  0A42  12          	ld	(de),a
2395  0A43  2E 00       	ld	l,0x00
2396  0A45  C3 02 0B    	jp	l_game_enemy_quota_00128
2397  0A48              l_game_enemy_quota_00107:
2398  0A48  0A          	ld	a,(bc)
2399  0A49  B7          	or	a, a
2400  0A4A  28 13       	jr	Z,l_game_enemy_quota_00111
2401  0A4C  C5          	push	bc
2402  0A4D  3E 01       	ld	a,0x01
2403  0A4F  F5          	push	af
2404  0A50  33          	inc	sp
2405  0A51  CD 38 0B    	call	_game_enemy_add1
2406  0A54  33          	inc	sp
2407  0A55  C1          	pop	bc
2408  0A56  0A          	ld	a,(bc)
2409  0A57  C6 FF       	add	a,0xff
2410  0A59  02          	ld	(bc),a
2411  0A5A  2E 00       	ld	l,0x00
2412  0A5C  C3 02 0B    	jp	l_game_enemy_quota_00128
2413  0A5F              l_game_enemy_quota_00111:
2414  0A5F  3A 00 00    	ld	a,(_phase_coins)
2415  0A62  B7          	or	a, a
2416  0A63  28 0D       	jr	Z,l_game_enemy_quota_00114
2417  0A65  3E 08       	ld	a,0x08
2418  0A67  F5          	push	af
2419  0A68  33          	inc	sp
2420  0A69  CD 38 0B    	call	_game_enemy_add1
2421  0A6C  33          	inc	sp
2422  0A6D  2E 00       	ld	l,0x00
2423  0A6F  C3 02 0B    	jp	l_game_enemy_quota_00128
2424  0A72              l_game_enemy_quota_00114:
2425  0A72  CD 00 00    	call	_rand
2426  0A75  7D          	ld	a,l
2427  0A76  E6 03       	and	a,0x03
2428  0A78  44          	ld	b,h
2429  0A79  0E 00       	ld	c,0x00
2430  0A7B  CB 79       	bit	7,c
2431  0A7D  C2 00 0B    	jp	NZ,l_game_enemy_quota_00127
2432  0A80  5F          	ld	e,a
2433  0A81  3E 03       	ld	a,0x03
2434  0A83  BB          	cp	a, e
2435  0A84  3E 00       	ld	a,0x00
2436  0A86  99          	sbc	a, c
2437  0A87  E2 8C 0A    	jp	PO, l_game_enemy_quota_00184
2438  0A8A  EE 80       	xor	a,0x80
2439  0A8C              l_game_enemy_quota_00184:
2440  0A8C  FA 00 0B    	jp	M,l_game_enemy_quota_00127
2441  0A8F  16 00       	ld	d,0x00
2442  0A91  21 97 0A    	ld	hl,l_game_enemy_quota_00185
2443  0A94  19          	add	hl,de
2444  0A95  19          	add	hl,de
2445  0A96  E9          	jp	(hl)
2446  0A97              l_game_enemy_quota_00185:
2447  0A97  18 06       	jr	l_game_enemy_quota_00115
2448  0A99  18 16       	jr	l_game_enemy_quota_00118
2449  0A9B  18 2F       	jr	l_game_enemy_quota_00121
2450  0A9D  18 48       	jr	l_game_enemy_quota_00124
2451  0A9F              l_game_enemy_quota_00115:
2452  0A9F  3E 07       	ld	a,0x07
2453  0AA1  21 00 00    	ld	hl,_phase_curr
2454  0AA4  96          	sub	a, (hl)
2455  0AA5  30 59       	jr	NC,l_game_enemy_quota_00127
2456  0AA7  3E 07       	ld	a,0x07
2457  0AA9  F5          	push	af
2458  0AAA  33          	inc	sp
2459  0AAB  CD 38 0B    	call	_game_enemy_add1
2460  0AAE  33          	inc	sp
2461  0AAF  18 4F       	jr	l_game_enemy_quota_00127
2462  0AB1              l_game_enemy_quota_00118:
2463  0AB1  2A 00 00    	ld	hl,(_game_time_fireball_start)
2464  0AB4  E5          	push	hl
2465  0AB5  21 00 00    	ld	hl,0x0000
2466  0AB8  E5          	push	hl
2467  0AB9  CD 9C 1B    	call	_game_check_time
2468  0ABC  F1          	pop	af
2469  0ABD  F1          	pop	af
2470  0ABE  7D          	ld	a,l
2471  0ABF  B7          	or	a, a
2472  0AC0  28 3E       	jr	Z,l_game_enemy_quota_00127
2473  0AC2  3E 0B       	ld	a,0x0b
2474  0AC4  F5          	push	af
2475  0AC5  33          	inc	sp
2476  0AC6  CD 38 0B    	call	_game_enemy_add1
2477  0AC9  33          	inc	sp
2478  0ACA  18 34       	jr	l_game_enemy_quota_00127
2479  0ACC              l_game_enemy_quota_00121:
2480  0ACC  2A 00 00    	ld	hl,(_game_time_fireball_start)
2481  0ACF  E5          	push	hl
2482  0AD0  21 00 00    	ld	hl,0x0000
2483  0AD3  E5          	push	hl
2484  0AD4  CD 9C 1B    	call	_game_check_time
2485  0AD7  F1          	pop	af
2486  0AD8  F1          	pop	af
2487  0AD9  7D          	ld	a,l
2488  0ADA  B7          	or	a, a
2489  0ADB  28 23       	jr	Z,l_game_enemy_quota_00127
2490  0ADD  3E 0B       	ld	a,0x0b
2491  0ADF  F5          	push	af
2492  0AE0  33          	inc	sp
2493  0AE1  CD 38 0B    	call	_game_enemy_add1
2494  0AE4  33          	inc	sp
2495  0AE5  18 19       	jr	l_game_enemy_quota_00127
2496  0AE7              l_game_enemy_quota_00124:
2497  0AE7  2A 00 00    	ld	hl,(_game_time_fireball_start)
2498  0AEA  E5          	push	hl
2499  0AEB  21 00 00    	ld	hl,0x0000
2500  0AEE  E5          	push	hl
2501  0AEF  CD 9C 1B    	call	_game_check_time
2502  0AF2  F1          	pop	af
2503  0AF3  F1          	pop	af
2504  0AF4  7D          	ld	a,l
2505  0AF5  B7          	or	a, a
2506  0AF6  28 08       	jr	Z,l_game_enemy_quota_00127
2507  0AF8  3E 0A       	ld	a,0x0a
2508  0AFA  F5          	push	af
2509  0AFB  33          	inc	sp
2510  0AFC  CD 38 0B    	call	_game_enemy_add1
2511  0AFF  33          	inc	sp
2512  0B00              l_game_enemy_quota_00127:
2513  0B00  2E 00       	ld	l,0x00
2514  0B02              l_game_enemy_quota_00128:
2515  0B02  C9          	ret
2516  0B03              ;	---------------------------------
2517  0B03              ; Function game_enemy_rnd
2518  0B03              ; ---------------------------------
2519  0B03              _game_enemy_rnd:
2520  0B03  3A 00 00    	ld	a,(_spr_count)
2521  0B06  D6 06       	sub	a,0x06
2522  0B08  30 2B       	jr	NC,l_game_enemy_rnd_00102
2523  0B0A  21 64 00    	ld	hl,0x0064
2524  0B0D  E5          	push	hl
2525  0B0E  2A 00 00    	ld	hl,(_entry_time)
2526  0B11  E5          	push	hl
2527  0B12  CD 9C 1B    	call	_game_check_time
2528  0B15  F1          	pop	af
2529  0B16  F1          	pop	af
2530  0B17  7D          	ld	a,l
2531  0B18  B7          	or	a, a
2532  0B19  28 1A       	jr	Z,l_game_enemy_rnd_00102
2533  0B1B  2A 00 00    	ld	hl,(_curr_time)
2534  0B1E  22 00 00    	ld	(_entry_time),hl
2535  0B21  CD 00 00    	call	_rand
2536  0B24  01 0B 00    	ld	bc,0x000b
2537  0B27  C5          	push	bc
2538  0B28  E5          	push	hl
2539  0B29  CD 00 00    	call	__modsint_callee
2540  0B2C  45          	ld	b,l
2541  0B2D  4C          	ld	c,h
2542  0B2E  04          	inc	b
2543  0B2F  C5          	push	bc
2544  0B30  33          	inc	sp
2545  0B31  CD 38 0B    	call	_game_enemy_add1
2546  0B34  33          	inc	sp
2547  0B35              l_game_enemy_rnd_00102:
2548  0B35  2E 00       	ld	l,0x00
2549  0B37  C9          	ret
2550  0B38              ;	---------------------------------
2551  0B38              ; Function game_enemy_add1
2552  0B38              ; ---------------------------------
2553  0B38              _game_enemy_add1:
2554  0B38  CD 00 00    	call	___sdcc_enter_ix
2555  0B3B  DD 7E 04    	ld	a,(ix+4)
2556  0B3E  D6 03       	sub	a,0x03
2557  0B40  28 58       	jr	Z,l_game_enemy_add1_00101
2558  0B42  DD 7E 04    	ld	a,(ix+4)
2559  0B45  D6 06       	sub	a,0x06
2560  0B47  28 51       	jr	Z,l_game_enemy_add1_00101
2561  0B49  DD 7E 04    	ld	a,(ix+4)
2562  0B4C  D6 0A       	sub	a,0x0a
2563  0B4E  20 04       	jr	NZ,l_game_enemy_add1_00197
2564  0B50  3E 01       	ld	a,0x01
2565  0B52  18 01       	jr	l_game_enemy_add1_00198
2566  0B54              l_game_enemy_add1_00197:
2567  0B54  AF          	xor	a,a
2568  0B55              l_game_enemy_add1_00198:
2569  0B55  4F          	ld	c,a
2570  0B56  B7          	or	a, a
2571  0B57  28 0E       	jr	Z,l_game_enemy_add1_00107
2572  0B59  C5          	push	bc
2573  0B5A  3E 0A       	ld	a,0x0a
2574  0B5C  F5          	push	af
2575  0B5D  33          	inc	sp
2576  0B5E  CD 92 0C    	call	_game_enemy_add_get_index
2577  0B61  33          	inc	sp
2578  0B62  C1          	pop	bc
2579  0B63  5D          	ld	e,l
2580  0B64  1C          	inc	e
2581  0B65  20 33       	jr	NZ,l_game_enemy_add1_00101
2582  0B67              l_game_enemy_add1_00107:
2583  0B67  DD 7E 04    	ld	a,(ix+4)
2584  0B6A  D6 0B       	sub	a,0x0b
2585  0B6C  20 04       	jr	NZ,l_game_enemy_add1_00201
2586  0B6E  3E 01       	ld	a,0x01
2587  0B70  18 01       	jr	l_game_enemy_add1_00202
2588  0B72              l_game_enemy_add1_00201:
2589  0B72  AF          	xor	a,a
2590  0B73              l_game_enemy_add1_00202:
2591  0B73  47          	ld	b,a
2592  0B74  B7          	or	a, a
2593  0B75  28 0E       	jr	Z,l_game_enemy_add1_00109
2594  0B77  C5          	push	bc
2595  0B78  3E 0B       	ld	a,0x0b
2596  0B7A  F5          	push	af
2597  0B7B  33          	inc	sp
2598  0B7C  CD 92 0C    	call	_game_enemy_add_get_index
2599  0B7F  33          	inc	sp
2600  0B80  C1          	pop	bc
2601  0B81  5D          	ld	e,l
2602  0B82  1C          	inc	e
2603  0B83  20 15       	jr	NZ,l_game_enemy_add1_00101
2604  0B85              l_game_enemy_add1_00109:
2605  0B85  DD 7E 04    	ld	a,(ix+4)
2606  0B88  D6 07       	sub	a,0x07
2607  0B8A  20 13       	jr	NZ,l_game_enemy_add1_00102
2608  0B8C  C5          	push	bc
2609  0B8D  3E 07       	ld	a,0x07
2610  0B8F  F5          	push	af
2611  0B90  33          	inc	sp
2612  0B91  CD 92 0C    	call	_game_enemy_add_get_index
2613  0B94  33          	inc	sp
2614  0B95  C1          	pop	bc
2615  0B96  5D          	ld	e,l
2616  0B97  1C          	inc	e
2617  0B98  28 05       	jr	Z,l_game_enemy_add1_00102
2618  0B9A              l_game_enemy_add1_00101:
2619  0B9A  2E 00       	ld	l,0x00
2620  0B9C  C3 8F 0C    	jp	l_game_enemy_add1_00133
2621  0B9F              l_game_enemy_add1_00102:
2622  0B9F  21 00 00    	ld	hl,_phase_pop
2623  0BA2  34          	inc	(hl)
2624  0BA3  C5          	push	bc
2625  0BA4  CD 00 00    	call	_sound_enter_enemy
2626  0BA7  AF          	xor	a, a
2627  0BA8  F5          	push	af
2628  0BA9  33          	inc	sp
2629  0BAA  CD 92 0C    	call	_game_enemy_add_get_index
2630  0BAD  33          	inc	sp
2631  0BAE  C1          	pop	bc
2632  0BAF  7D          	ld	a,l
2633  0BB0  32 00 00    	ld	(_tmp),a
2634  0BB3  C5          	push	bc
2635  0BB4  CD 00 00    	call	_rand
2636  0BB7  EB          	ex	de,hl
2637  0BB8  C1          	pop	bc
2638  0BB9  7B          	ld	a,e
2639  0BBA  E6 01       	and	a,0x01
2640  0BBC  32 00 00    	ld	(_tmp0),a
2641  0BBF  3D          	dec	a
2642  0BC0  20 1C       	jr	NZ,l_game_enemy_add1_00115
2643  0BC2  21 00 00    	ld	hl,_s_lin0
2644  0BC5  36 10       	ld	(hl),0x10
2645  0BC7  21 00 00    	ld	hl,_s_col0
2646  0BCA  36 04       	ld	(hl),0x04
2647  0BCC  21 00 00    	ld	hl,_s_col1
2648  0BCF  36 02       	ld	(hl),0x02
2649  0BD1  79          	ld	a,c
2650  0BD2  B7          	or	a, a
2651  0BD3  28 02       	jr	Z,l_game_enemy_add1_00111
2652  0BD5  36 03       	ld	(hl),0x03
2653  0BD7              l_game_enemy_add1_00111:
2654  0BD7  21 00 00    	ld	hl,_tmp1
2655  0BDA  36 01       	ld	(hl),0x01
2656  0BDC  18 1A       	jr	l_game_enemy_add1_00116
2657  0BDE              l_game_enemy_add1_00115:
2658  0BDE  21 00 00    	ld	hl,_s_lin0
2659  0BE1  36 10       	ld	(hl),0x10
2660  0BE3  21 00 00    	ld	hl,_s_col0
2661  0BE6  36 1A       	ld	(hl),0x1a
2662  0BE8  21 00 00    	ld	hl,_s_col1
2663  0BEB  36 1E       	ld	(hl),0x1e
2664  0BED  79          	ld	a,c
2665  0BEE  B7          	or	a, a
2666  0BEF  28 02       	jr	Z,l_game_enemy_add1_00113
2667  0BF1  36 1C       	ld	(hl),0x1c
2668  0BF3              l_game_enemy_add1_00113:
2669  0BF3  21 00 00    	ld	hl,_tmp1
2670  0BF6  36 FF       	ld	(hl),0xff
2671  0BF8              l_game_enemy_add1_00116:
2672  0BF8  DD 7E 04    	ld	a,(ix+4)
2673  0BFB  D6 08       	sub	a,0x08
2674  0BFD  20 04       	jr	NZ,l_game_enemy_add1_00210
2675  0BFF  3E 01       	ld	a,0x01
2676  0C01  18 01       	jr	l_game_enemy_add1_00211
2677  0C03              l_game_enemy_add1_00210:
2678  0C03  AF          	xor	a,a
2679  0C04              l_game_enemy_add1_00211:
2680  0C04  5F          	ld	e,a
2681  0C05  B7          	or	a, a
2682  0C06  28 04       	jr	Z,l_game_enemy_add1_00118
2683  0C08  21 00 00    	ld	hl,_phase_coins
2684  0C0B  35          	dec	(hl)
2685  0C0C              l_game_enemy_add1_00118:
2686  0C0C  21 00 00    	ld	hl,_tmp_uc
2687  0C0F  36 00       	ld	(hl),0x00
2688  0C11  78          	ld	a,b
2689  0C12  B7          	or	a,a
2690  0C13  20 03       	jr	NZ,l_game_enemy_add1_00125
2691  0C15  B1          	or	a,c
2692  0C16  28 35       	jr	Z,l_game_enemy_add1_00126
2693  0C18              l_game_enemy_add1_00125:
2694  0C18  D5          	push	de
2695  0C19  CD 00 00    	call	_rand
2696  0C1C  01 03 00    	ld	bc,0x0003
2697  0C1F  C5          	push	bc
2698  0C20  E5          	push	hl
2699  0C21  CD 00 00    	call	__modsint_callee
2700  0C24  D1          	pop	de
2701  0C25  4D          	ld	c,l
2702  0C26  21 00 00    	ld	hl,_tmp_uc
2703  0C29  71          	ld	(hl),c
2704  0C2A  79          	ld	a,c
2705  0C2B  B7          	or	a, a
2706  0C2C  20 02       	jr	NZ,l_game_enemy_add1_00120
2707  0C2E  36 10       	ld	(hl),0x10
2708  0C30              l_game_enemy_add1_00120:
2709  0C30  3A 00 00    	ld	a,(_tmp_uc)
2710  0C33  3D          	dec	a
2711  0C34  20 05       	jr	NZ,l_game_enemy_add1_00122
2712  0C36  21 00 00    	ld	hl,_tmp_uc
2713  0C39  36 28       	ld	(hl),0x28
2714  0C3B              l_game_enemy_add1_00122:
2715  0C3B  3A 00 00    	ld	a,(_tmp_uc)
2716  0C3E  D6 02       	sub	a,0x02
2717  0C40  20 05       	jr	NZ,l_game_enemy_add1_00124
2718  0C42  21 00 00    	ld	hl,_tmp_uc
2719  0C45  36 84       	ld	(hl),0x84
2720  0C47              l_game_enemy_add1_00124:
2721  0C47  3A 00 00    	ld	a,(_s_col1)
2722  0C4A  32 00 00    	ld	(_s_col0),a
2723  0C4D              l_game_enemy_add1_00126:
2724  0C4D  CD 00 00    	call	_ay_is_playing
2725  0C50  7D          	ld	a, l
2726  0C51  D6 02       	sub	a,0x02
2727  0C53  30 12       	jr	NC,l_game_enemy_add1_00132
2728  0C55  7B          	ld	a,e
2729  0C56  B7          	or	a, a
2730  0C57  20 08       	jr	NZ,l_game_enemy_add1_00129
2731  0C59  21 00 00    	ld	hl,_ay_effect_04
2732  0C5C  CD 00 00    	call	_ay_fx_play
2733  0C5F  18 06       	jr	l_game_enemy_add1_00132
2734  0C61              l_game_enemy_add1_00129:
2735  0C61  21 00 00    	ld	hl,_ay_effect_07
2736  0C64  CD 00 00    	call	_ay_fx_play
2737  0C67              l_game_enemy_add1_00132:
2738  0C67  2A 00 00    	ld	hl,(_curr_time)
2739  0C6A  22 00 00    	ld	(_entry_time),hl
2740  0C6D  3A 00 00    	ld	a,(_s_lin0)
2741  0C70  21 00 00    	ld	hl,_tmp_uc
2742  0C73  86          	add	a, (hl)
2743  0C74  47          	ld	b,a
2744  0C75  2A FF FF    	ld	hl,(_tmp1-1)
2745  0C78  DD 6E 04    	ld	l,(ix+4)
2746  0C7B  3A 00 00    	ld	a,(_s_col0)
2747  0C7E  E5          	push	hl
2748  0C7F  48          	ld	c,b
2749  0C80  47          	ld	b,a
2750  0C81  3A 00 00    	ld	a,(_tmp)
2751  0C84  C5          	push	bc
2752  0C85  F5          	push	af
2753  0C86  33          	inc	sp
2754  0C87  CD 00 00    	call	_enemy_init
2755  0C8A  F1          	pop	af
2756  0C8B  F1          	pop	af
2757  0C8C  33          	inc	sp
2758  0C8D  2E 00       	ld	l,0x00
2759  0C8F              l_game_enemy_add1_00133:
2760  0C8F  DD E1       	pop	ix
2761  0C91  C9          	ret
2762  0C92              ;	---------------------------------
2763  0C92              ; Function game_enemy_add_get_index
2764  0C92              ; ---------------------------------
2765  0C92              _game_enemy_add_get_index:
2766  0C92  CD 00 00    	call	___sdcc_enter_ix
2767  0C95  21 00 00    	ld	hl,_enemies
2768  0C98  36 00       	ld	(hl),0x00
2769  0C9A              l_game_enemy_add_get_index_00104:
2770  0C9A  3E 00       	ld	a,+((_class) & 0xFF)
2771  0C9C  21 00 00    	ld	hl,_enemies
2772  0C9F  86          	add	a, (hl)
2773  0CA0  4F          	ld	c,a
2774  0CA1  3E 00       	ld	a,+((_class) / 256)
2775  0CA3  CE 00       	adc	a,0x00
2776  0CA5  47          	ld	b,a
2777  0CA6  0A          	ld	a,(bc)
2778  0CA7  4F          	ld	c,a
2779  0CA8  DD 7E 04    	ld	a,(ix+4)
2780  0CAB  91          	sub	a, c
2781  0CAC  20 03       	jr	NZ,l_game_enemy_add_get_index_00105
2782  0CAE  6E          	ld	l,(hl)
2783  0CAF  18 0B       	jr	l_game_enemy_add_get_index_00106
2784  0CB1              l_game_enemy_add_get_index_00105:
2785  0CB1  21 00 00    	ld	hl,_enemies
2786  0CB4  34          	inc	(hl)
2787  0CB5  3E 05       	ld	a,0x05
2788  0CB7  96          	sub	a, (hl)
2789  0CB8  30 E0       	jr	NC,l_game_enemy_add_get_index_00104
2790  0CBA  2E FF       	ld	l,0xff
2791  0CBC              l_game_enemy_add_get_index_00106:
2792  0CBC  DD E1       	pop	ix
2793  0CBE  C9          	ret
2794  0CBF              ;	---------------------------------
2795  0CBF              ; Function game_freeze
2796  0CBF              ; ---------------------------------
2797  0CBF              _game_freeze:
2798  0CBF  CD 00 00    	call	___sdcc_enter_ix
2799  0CC2  DD 7E 05    	ld	a,(ix+5)
2800  0CC5  D6 1F       	sub	a,0x1f
2801  0CC7  30 68       	jr	NC,l_game_freeze_00107
2802  0CC9  21 00 00    	ld	hl,_tmp
2803  0CCC  36 01       	ld	(hl),0x01
2804  0CCE  DD 66 05    	ld	h,(ix+5)
2805  0CD1  DD 6E 04    	ld	l,(ix+4)
2806  0CD4  E5          	push	hl
2807  0CD5  CD 00 00    	call	_game_calc_index
2808  0CD8  F1          	pop	af
2809  0CD9  22 00 00    	ld	(_index1),hl
2810  0CDC  01 00 00    	ld	bc,_lvl_1
2811  0CDF  09          	add	hl,bc
2812  0CE0  7E          	ld	a,(hl)
2813  0CE1  D6 12       	sub	a,0x12
2814  0CE3  20 4C       	jr	NZ,l_game_freeze_00107
2815  0CE5  36 14       	ld	(hl),0x14
2816  0CE7  76          	halt
2817  0CE8  DD 7E 05    	ld	a,(ix+5)
2818  0CEB  F5          	push	af
2819  0CEC  33          	inc	sp
2820  0CED  DD 56 04    	ld	d,(ix+4)
2821  0CF0  1E 8B       	ld	e,0x8b
2822  0CF2  D5          	push	de
2823  0CF3  CD 00 00    	call	_NIRVANAP_drawT_callee
2824  0CF6  ED 4B 00 00 	ld	bc,(_index1)
2825  0CFA  03          	inc	bc
2826  0CFB  21 00 00    	ld	hl,_lvl_1
2827  0CFE  09          	add	hl,bc
2828  0CFF  4E          	ld	c,(hl)
2829  0D00  DD 46 05    	ld	b,(ix+5)
2830  0D03  04          	inc	b
2831  0D04  79          	ld	a,c
2832  0D05  B7          	or	a, a
2833  0D06  20 0F       	jr	NZ,l_game_freeze_00102
2834  0D08  C5          	push	bc
2835  0D09  C5          	push	bc
2836  0D0A  33          	inc	sp
2837  0D0B  DD 7E 04    	ld	a,(ix+4)
2838  0D0E  F5          	push	af
2839  0D0F  33          	inc	sp
2840  0D10  AF          	xor	a, a
2841  0D11  F5          	push	af
2842  0D12  33          	inc	sp
2843  0D13  CD 00 00    	call	_NIRVANAP_fillT_callee
2844  0D16  C1          	pop	bc
2845  0D17              l_game_freeze_00102:
2846  0D17  C5          	push	bc
2847  0D18  33          	inc	sp
2848  0D19  DD 7E 04    	ld	a,(ix+4)
2849  0D1C  F5          	push	af
2850  0D1D  33          	inc	sp
2851  0D1E  CD BF 0C    	call	_game_freeze
2852  0D21  F1          	pop	af
2853  0D22  DD 46 05    	ld	b,(ix+5)
2854  0D25  05          	dec	b
2855  0D26  C5          	push	bc
2856  0D27  33          	inc	sp
2857  0D28  DD 7E 04    	ld	a,(ix+4)
2858  0D2B  F5          	push	af
2859  0D2C  33          	inc	sp
2860  0D2D  CD BF 0C    	call	_game_freeze
2861  0D30  F1          	pop	af
2862  0D31              l_game_freeze_00107:
2863  0D31  DD E1       	pop	ix
2864  0D33  C9          	ret
2865  0D34              ;	---------------------------------
2866  0D34              ; Function game_unfreeze_all
2867  0D34              ; ---------------------------------
2868  0D34              _game_unfreeze_all:
2869  0D34  21 C0 00    	ld	hl,0x00c0
2870  0D37  22 00 00    	ld	(_index1),hl
2871  0D3A              l_game_unfreeze_all_00104:
2872  0D3A  01 00 00    	ld	bc,_lvl_1
2873  0D3D  2A 00 00    	ld	hl,(_index1)
2874  0D40  09          	add	hl,bc
2875  0D41  7E          	ld	a,(hl)
2876  0D42  D6 14       	sub	a,0x14
2877  0D44  20 02       	jr	NZ,l_game_unfreeze_all_00105
2878  0D46  36 12       	ld	(hl),0x12
2879  0D48              l_game_unfreeze_all_00105:
2880  0D48  21 00 00    	ld	hl,_index1
2881  0D4B  34          	inc	(hl)
2882  0D4C  20 02       	jr	NZ,l_game_unfreeze_all_00118
2883  0D4E  23          	inc	hl
2884  0D4F  34          	inc	(hl)
2885  0D50              l_game_unfreeze_all_00118:
2886  0D50  3E 20       	ld	a,0x20
2887  0D52  21 00 00    	ld	hl,_index1
2888  0D55  BE          	cp	a, (hl)
2889  0D56  3E 02       	ld	a,0x02
2890  0D58  23          	inc	hl
2891  0D59  9E          	sbc	a, (hl)
2892  0D5A  30 DE       	jr	NC,l_game_unfreeze_all_00104
2893  0D5C  C9          	ret
2894  0D5D              ;	---------------------------------
2895  0D5D              ; Function game_freeze_all
2896  0D5D              ; ---------------------------------
2897  0D5D              _game_freeze_all:
2898  0D5D  21 C0 00    	ld	hl,0x00c0
2899  0D60  22 00 00    	ld	(_index1),hl
2900  0D63              l_game_freeze_all_00104:
2901  0D63  01 00 00    	ld	bc,_lvl_1
2902  0D66  2A 00 00    	ld	hl,(_index1)
2903  0D69  09          	add	hl,bc
2904  0D6A  7E          	ld	a,(hl)
2905  0D6B  D6 12       	sub	a,0x12
2906  0D6D  20 02       	jr	NZ,l_game_freeze_all_00105
2907  0D6F  36 14       	ld	(hl),0x14
2908  0D71              l_game_freeze_all_00105:
2909  0D71  21 00 00    	ld	hl,_index1
2910  0D74  34          	inc	(hl)
2911  0D75  20 02       	jr	NZ,l_game_freeze_all_00118
2912  0D77  23          	inc	hl
2913  0D78  34          	inc	(hl)
2914  0D79              l_game_freeze_all_00118:
2915  0D79  3E 20       	ld	a,0x20
2916  0D7B  21 00 00    	ld	hl,_index1
2917  0D7E  BE          	cp	a, (hl)
2918  0D7F  3E 02       	ld	a,0x02
2919  0D81  23          	inc	hl
2920  0D82  9E          	sbc	a, (hl)
2921  0D83  30 DE       	jr	NC,l_game_freeze_all_00104
2922  0D85  C9          	ret
2923  0D86              ;	---------------------------------
2924  0D86              ; Function game_print_score
2925  0D86              ; ---------------------------------
2926  0D86              _game_print_score:
2927  0D86  21 00 00    	ld	hl,_screen_ink
2928  0D89  36 07       	ld	(hl),0x07
2929  0D8B  21 00 00    	ld	hl,_screen_paper
2930  0D8E  36 00       	ld	(hl),0x00
2931  0D90  2A 00 00    	ld	hl,(_player_score)
2932  0D93  E5          	push	hl
2933  0D94  21 00 03    	ld	hl,0x0300
2934  0D97  E5          	push	hl
2935  0D98  CD 00 00    	call	_zx_print_int
2936  0D9B  2A 00 00    	ld	hl,(_game_score_top)
2937  0D9E  E5          	push	hl
2938  0D9F  21 00 0E    	ld	hl,0x0e00
2939  0DA2  E5          	push	hl
2940  0DA3  CD 00 00    	call	_zx_print_int
2941  0DA6  3A 00 00    	ld	a,(_game_two_player)
2942  0DA9  B7          	or	a, a
2943  0DAA  C8          	ret	Z
2944  0DAB  2A 02 00    	ld	hl, (_player_score + 2)
2945  0DAE  E5          	push	hl
2946  0DAF  21 00 18    	ld	hl,0x1800
2947  0DB2  E5          	push	hl
2948  0DB3  CD 00 00    	call	_zx_print_int
2949  0DB6  C9          	ret
2950  0DB7              ;	---------------------------------
2951  0DB7              ; Function game_paint_attrib
2952  0DB7              ; ---------------------------------
2953  0DB7              _game_paint_attrib:
2954  0DB7  CD 00 00    	call	___sdcc_enter_ix
2955  0DBA  DD 7E 04    	ld	a,(ix+4)
2956  0DBD  32 00 00    	ld	(_tmp0),a
2957  0DC0              l_game_paint_attrib_00103:
2958  0DC0  3E 13       	ld	a,0x13
2959  0DC2  21 00 00    	ld	hl,_tmp0
2960  0DC5  96          	sub	a, (hl)
2961  0DC6  38 19       	jr	C,l_game_paint_attrib_00105
2962  0DC8  7E          	ld	a,(hl)
2963  0DC9  07          	rlca
2964  0DCA  07          	rlca
2965  0DCB  07          	rlca
2966  0DCC  E6 F8       	and	a,0xf8
2967  0DCE  C6 08       	add	a,0x08
2968  0DD0  F5          	push	af
2969  0DD1  33          	inc	sp
2970  0DD2  21 01 1F    	ld	hl,0x1f01
2971  0DD5  E5          	push	hl
2972  0DD6  CD E4 0D    	call	_game_paint_attrib_lin
2973  0DD9  F1          	pop	af
2974  0DDA  33          	inc	sp
2975  0DDB  21 00 00    	ld	hl,_tmp0
2976  0DDE  34          	inc	(hl)
2977  0DDF  18 DF       	jr	l_game_paint_attrib_00103
2978  0DE1              l_game_paint_attrib_00105:
2979  0DE1  DD E1       	pop	ix
2980  0DE3  C9          	ret
2981  0DE4              ;	---------------------------------
2982  0DE4              ; Function game_paint_attrib_lin
2983  0DE4              ; ---------------------------------
2984  0DE4              _game_paint_attrib_lin:
2985  0DE4  CD 00 00    	call	___sdcc_enter_ix
2986  0DE7  DD 7E 04    	ld	a,(ix+4)
2987  0DEA  32 00 00    	ld	(_tmp_uc),a
2988  0DED              l_game_paint_attrib_lin_00103:
2989  0DED  21 00 00    	ld	hl,_tmp_uc
2990  0DF0  7E          	ld	a,(hl)
2991  0DF1  DD 96 05    	sub	a,(ix+5)
2992  0DF4  30 15       	jr	NC,l_game_paint_attrib_lin_00105
2993  0DF6  7E          	ld	a,(hl)
2994  0DF7  F5          	push	af
2995  0DF8  33          	inc	sp
2996  0DF9  DD 7E 06    	ld	a,(ix+6)
2997  0DFC  F5          	push	af
2998  0DFD  33          	inc	sp
2999  0DFE  21 00 00    	ld	hl,_attrib
3000  0E01  E5          	push	hl
3001  0E02  CD 00 00    	call	_NIRVANAP_paintC_callee
3002  0E05  21 00 00    	ld	hl,_tmp_uc
3003  0E08  34          	inc	(hl)
3004  0E09  18 E2       	jr	l_game_paint_attrib_lin_00103
3005  0E0B              l_game_paint_attrib_lin_00105:
3006  0E0B  DD E1       	pop	ix
3007  0E0D  C9          	ret
3008  0E0E              ;	---------------------------------
3009  0E0E              ; Function game_paint_attrib_lin_h
3010  0E0E              ; ---------------------------------
3011  0E0E              _game_paint_attrib_lin_h:
3012  0E0E  CD 00 00    	call	___sdcc_enter_ix
3013  0E11  DD 7E 04    	ld	a,(ix+4)
3014  0E14  32 00 00    	ld	(_tmp_uc),a
3015  0E17              l_game_paint_attrib_lin_h_00103:
3016  0E17  21 00 00    	ld	hl,_tmp_uc
3017  0E1A  7E          	ld	a,(hl)
3018  0E1B  DD 96 05    	sub	a,(ix+5)
3019  0E1E  30 15       	jr	NC,l_game_paint_attrib_lin_h_00105
3020  0E20  7E          	ld	a,(hl)
3021  0E21  F5          	push	af
3022  0E22  33          	inc	sp
3023  0E23  DD 7E 06    	ld	a,(ix+6)
3024  0E26  F5          	push	af
3025  0E27  33          	inc	sp
3026  0E28  21 00 00    	ld	hl,_attrib_hl
3027  0E2B  E5          	push	hl
3028  0E2C  CD 00 00    	call	_NIRVANAP_paintC_callee
3029  0E2F  21 00 00    	ld	hl,_tmp_uc
3030  0E32  34          	inc	(hl)
3031  0E33  18 E2       	jr	l_game_paint_attrib_lin_h_00103
3032  0E35              l_game_paint_attrib_lin_h_00105:
3033  0E35  DD E1       	pop	ix
3034  0E37  C9          	ret
3035  0E38              ;	---------------------------------
3036  0E38              ; Function game_menu_config
3037  0E38              ; ---------------------------------
3038  0E38              _game_menu_config:
3039  0E38  CD 00 00    	call	___sdcc_enter_ix
3040  0E3B  3B          	dec	sp
3041  0E3C  3E 0B       	ld	a,0x0b
3042  0E3E  F5          	push	af
3043  0E3F  33          	inc	sp
3044  0E40  CD B7 0D    	call	_game_paint_attrib
3045  0E43  33          	inc	sp
3046  0E44  21 80 04    	ld	hl,0x0480
3047  0E47  E5          	push	hl
3048  0E48  3E 03       	ld	a,0x03
3049  0E4A  F5          	push	af
3050  0E4B  33          	inc	sp
3051  0E4C  CD 00 00    	call	_NIRVANAP_drawT_callee
3052  0E4F  21 80 19    	ld	hl,0x1980
3053  0E52  E5          	push	hl
3054  0E53  3E 3B       	ld	a,0x3b
3055  0E55  F5          	push	af
3056  0E56  33          	inc	sp
3057  0E57  CD 00 00    	call	_NIRVANAP_drawT_callee
3058  0E5A  DD 36 FF 01 	ld	(ix-1),0x01
3059  0E5E              l_game_menu_config_00117:
3060  0E5E  DD 7E FF    	ld	a,(ix-1)
3061  0E61  B7          	or	a, a
3062  0E62  CA 55 0F    	jp	Z,l_game_menu_config_00120
3063  0E65              l_game_menu_config_00101:
3064  0E65  21 00 00    	ld	hl,_k1
3065  0E68  E5          	push	hl
3066  0E69  2A 00 00    	ld	hl,(_joyfunc1)
3067  0E6C  CD 00 00    	call	___sdcc_call_hl
3068  0E6F  F1          	pop	af
3069  0E70  7C          	ld	a,h
3070  0E71  B5          	or	a,l
3071  0E72  20 F1       	jr	NZ,l_game_menu_config_00101
3072  0E74  21 59 0F    	ld	hl,___str_24
3073  0E77  E5          	push	hl
3074  0E78  21 0E 0A    	ld	hl,0x0a0e
3075  0E7B  E5          	push	hl
3076  0E7C  CD 00 00    	call	_zx_print_str
3077  0E7F  21 64 0F    	ld	hl,___str_25
3078  0E82  E5          	push	hl
3079  0E83  21 10 0A    	ld	hl,0x0a10
3080  0E86  E5          	push	hl
3081  0E87  CD 00 00    	call	_zx_print_str
3082  0E8A  21 6F 0F    	ld	hl,___str_26
3083  0E8D  E5          	push	hl
3084  0E8E  21 12 0A    	ld	hl,0x0a12
3085  0E91  E5          	push	hl
3086  0E92  CD 00 00    	call	_zx_print_str
3087  0E95  3A 00 00    	ld	a,(_game_sound)
3088  0E98  0F          	rrca
3089  0E99  30 0D       	jr	NC,l_game_menu_config_00105
3090  0E9B  21 7A 0F    	ld	hl,___str_27
3091  0E9E  E5          	push	hl
3092  0E9F  21 0E 14    	ld	hl,0x140e
3093  0EA2  E5          	push	hl
3094  0EA3  CD 00 00    	call	_zx_print_str
3095  0EA6  18 0B       	jr	l_game_menu_config_00106
3096  0EA8              l_game_menu_config_00105:
3097  0EA8  21 7E 0F    	ld	hl,___str_28
3098  0EAB  E5          	push	hl
3099  0EAC  21 0E 14    	ld	hl,0x140e
3100  0EAF  E5          	push	hl
3101  0EB0  CD 00 00    	call	_zx_print_str
3102  0EB3              l_game_menu_config_00106:
3103  0EB3  3E 02       	ld	a,0x02
3104  0EB5  21 00 00    	ld	hl,_game_type
3105  0EB8  96          	sub	a, (hl)
3106  0EB9  38 34       	jr	C,l_game_menu_config_00110
3107  0EBB  5E          	ld	e,(hl)
3108  0EBC  16 00       	ld	d,0x00
3109  0EBE  21 C4 0E    	ld	hl,l_game_menu_config_00151
3110  0EC1  19          	add	hl,de
3111  0EC2  19          	add	hl,de
3112  0EC3  E9          	jp	(hl)
3113  0EC4              l_game_menu_config_00151:
3114  0EC4  18 04       	jr	l_game_menu_config_00107
3115  0EC6  18 0F       	jr	l_game_menu_config_00108
3116  0EC8  18 1A       	jr	l_game_menu_config_00109
3117  0ECA              l_game_menu_config_00107:
3118  0ECA  21 82 0F    	ld	hl,___str_29
3119  0ECD  E5          	push	hl
3120  0ECE  21 10 14    	ld	hl,0x1410
3121  0ED1  E5          	push	hl
3122  0ED2  CD 00 00    	call	_zx_print_str
3123  0ED5  18 18       	jr	l_game_menu_config_00110
3124  0ED7              l_game_menu_config_00108:
3125  0ED7  21 86 0F    	ld	hl,___str_30
3126  0EDA  E5          	push	hl
3127  0EDB  21 10 14    	ld	hl,0x1410
3128  0EDE  E5          	push	hl
3129  0EDF  CD 00 00    	call	_zx_print_str
3130  0EE2  18 0B       	jr	l_game_menu_config_00110
3131  0EE4              l_game_menu_config_00109:
3132  0EE4  21 8A 0F    	ld	hl,___str_31
3133  0EE7  E5          	push	hl
3134  0EE8  21 10 14    	ld	hl,0x1410
3135  0EEB  E5          	push	hl
3136  0EEC  CD 00 00    	call	_zx_print_str
3137  0EEF              l_game_menu_config_00110:
3138  0EEF  21 00 00    	ld	hl,0x0000
3139  0EF2  E5          	push	hl
3140  0EF3  21 0E 12    	ld	hl,0x120e
3141  0EF6  E5          	push	hl
3142  0EF7  21 0A 02    	ld	hl,0x020a
3143  0EFA  E5          	push	hl
3144  0EFB  CD CE 11    	call	_game_menu_handle
3145  0EFE  F1          	pop	af
3146  0EFF  F1          	pop	af
3147  0F00  F1          	pop	af
3148  0F01  4D          	ld	c,l
3149  0F02  21 00 00    	ld	hl,_game_menu_sel
3150  0F05  71          	ld	(hl),c
3151  0F06  3E 02       	ld	a,0x02
3152  0F08  96          	sub	a, (hl)
3153  0F09  DA 5E 0E    	jp	C,l_game_menu_config_00117
3154  0F0C  5E          	ld	e,(hl)
3155  0F0D  16 00       	ld	d,0x00
3156  0F0F  21 15 0F    	ld	hl,l_game_menu_config_00152
3157  0F12  19          	add	hl,de
3158  0F13  19          	add	hl,de
3159  0F14  E9          	jp	(hl)
3160  0F15              l_game_menu_config_00152:
3161  0F15  18 04       	jr	l_game_menu_config_00111
3162  0F17  18 15       	jr	l_game_menu_config_00112
3163  0F19  18 2B       	jr	l_game_menu_config_00115
3164  0F1B              l_game_menu_config_00111:
3165  0F1B  21 00 00    	ld	hl,_ay_effect_10
3166  0F1E  CD 00 00    	call	_ay_fx_play
3167  0F21  CD 00 00    	call	_sound_coin
3168  0F24  21 00 00    	ld	hl,_game_sound
3169  0F27  7E          	ld	a,(hl)
3170  0F28  EE 05       	xor	a,0x05
3171  0F2A  77          	ld	(hl),a
3172  0F2B  C3 5E 0E    	jp	l_game_menu_config_00117
3173  0F2E              l_game_menu_config_00112:
3174  0F2E  21 00 00    	ld	hl,_ay_effect_10
3175  0F31  CD 00 00    	call	_ay_fx_play
3176  0F34  CD 00 00    	call	_sound_coin
3177  0F37  21 00 00    	ld	hl,_game_type
3178  0F3A  34          	inc	(hl)
3179  0F3B  3E 02       	ld	a,0x02
3180  0F3D  96          	sub	a, (hl)
3181  0F3E  D2 5E 0E    	jp	NC,l_game_menu_config_00117
3182  0F41  36 00       	ld	(hl),0x00
3183  0F43  C3 5E 0E    	jp	l_game_menu_config_00117
3184  0F46              l_game_menu_config_00115:
3185  0F46  21 00 00    	ld	hl,_game_menu_sel
3186  0F49  36 00       	ld	(hl),0x00
3187  0F4B  CD EA 0F    	call	_game_menu_paint
3188  0F4E  DD 36 FF 00 	ld	(ix-1),0x00
3189  0F52  C3 5E 0E    	jp	l_game_menu_config_00117
3190  0F55              l_game_menu_config_00120:
3191  0F55  33          	inc	sp
3192  0F56  DD E1       	pop	ix
3193  0F58  C9          	ret
3194  0F59              ___str_24:
3195  0F59  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3196  0F63  00          	DEFB 0x00
3197  0F64              ___str_25:
3198  0F64  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3199  0F6E  00          	DEFB 0x00
3200  0F6F              ___str_26:
3201  0F6F  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3202  0F79  00          	DEFB 0x00
3203  0F7A              ___str_27:
3204  0F7A  4F 4E 20    	DEFM "ON "
3205  0F7D  00          	DEFB 0x00
3206  0F7E              ___str_28:
3207  0F7E  4F 46 46    	DEFM "OFF"
3208  0F81  00          	DEFB 0x00
3209  0F82              ___str_29:
3210  0F82  41 20 20    	DEFM "A  "
3211  0F85  00          	DEFB 0x00
3212  0F86              ___str_30:
3213  0F86  42 20 20    	DEFM "B  "
3214  0F89  00          	DEFB 0x00
3215  0F8A              ___str_31:
3216  0F8A  52 4E 44    	DEFM "RND"
3217  0F8D  00          	DEFB 0x00
3218  0F8E              ;	---------------------------------
3219  0F8E              ; Function game_menu
3220  0F8E              ; ---------------------------------
3221  0F8E              _game_menu:
3222  0F8E  21 00 00    	ld	hl,_pb_midi_title
3223  0F91  CD 00 00    	call	_ay_midi_play
3224  0F94  CD EA 0F    	call	_game_menu_paint
3225  0F97              l_game_menu_00101:
3226  0F97  21 00 00    	ld	hl,_k1
3227  0F9A  E5          	push	hl
3228  0F9B  2A 00 00    	ld	hl,(_joyfunc1)
3229  0F9E  CD 00 00    	call	___sdcc_call_hl
3230  0FA1  F1          	pop	af
3231  0FA2  7C          	ld	a,h
3232  0FA3  B5          	or	a,l
3233  0FA4  20 F1       	jr	NZ,l_game_menu_00101
3234  0FA6  21 E8 03    	ld	hl,0x03e8
3235  0FA9  E5          	push	hl
3236  0FAA  21 0E 12    	ld	hl,0x120e
3237  0FAD  E5          	push	hl
3238  0FAE  21 0C 02    	ld	hl,0x020c
3239  0FB1  E5          	push	hl
3240  0FB2  CD CE 11    	call	_game_menu_handle
3241  0FB5  F1          	pop	af
3242  0FB6  F1          	pop	af
3243  0FB7  F1          	pop	af
3244  0FB8  4D          	ld	c,l
3245  0FB9  21 00 00    	ld	hl,_tmp_uc
3246  0FBC  71          	ld	(hl),c
3247  0FBD  3E 02       	ld	a,0x02
3248  0FBF  96          	sub	a, (hl)
3249  0FC0  38 D5       	jr	C,l_game_menu_00101
3250  0FC2  5E          	ld	e,(hl)
3251  0FC3  16 00       	ld	d,0x00
3252  0FC5  21 CB 0F    	ld	hl,l_game_menu_00125
3253  0FC8  19          	add	hl,de
3254  0FC9  19          	add	hl,de
3255  0FCA  E9          	jp	(hl)
3256  0FCB              l_game_menu_00125:
3257  0FCB  18 04       	jr	l_game_menu_00104
3258  0FCD  18 0C       	jr	l_game_menu_00105
3259  0FCF  18 14       	jr	l_game_menu_00106
3260  0FD1              l_game_menu_00104:
3261  0FD1  21 00 00    	ld	hl,_game_two_player
3262  0FD4  36 00       	ld	(hl),0x00
3263  0FD6  CD 9B 03    	call	_game_loop
3264  0FD9  18 BC       	jr	l_game_menu_00101
3265  0FDB              l_game_menu_00105:
3266  0FDB  21 00 00    	ld	hl,_game_two_player
3267  0FDE  36 01       	ld	(hl),0x01
3268  0FE0  CD 9B 03    	call	_game_loop
3269  0FE3  18 B2       	jr	l_game_menu_00101
3270  0FE5              l_game_menu_00106:
3271  0FE5  CD 38 0E    	call	_game_menu_config
3272  0FE8  18 AD       	jr	l_game_menu_00101
3273  0FEA              ;	---------------------------------
3274  0FEA              ; Function game_menu_paint
3275  0FEA              ; ---------------------------------
3276  0FEA              _game_menu_paint:
3277  0FEA  3E 0B       	ld	a,0x0b
3278  0FEC  F5          	push	af
3279  0FED  33          	inc	sp
3280  0FEE  CD B7 0D    	call	_game_paint_attrib
3281  0FF1  33          	inc	sp
3282  0FF2  21 00 20    	ld	hl,0x2000
3283  0FF5  E5          	push	hl
3284  0FF6  CD 00 00    	call	_game_fill_row
3285  0FF9  21 9C 01    	ld	hl,0x019c
3286  0FFC  E5          	push	hl
3287  0FFD  21 00 1E    	ld	hl,0x1e00
3288  1000  E5          	push	hl
3289  1001  3E 10       	ld	a,0x10
3290  1003  F5          	push	af
3291  1004  33          	inc	sp
3292  1005  CD 1B 11    	call	_game_menu_e
3293  1008  F1          	pop	af
3294  1009  33          	inc	sp
3295  100A  21 9F FF    	ld	hl,0xff9f
3296  100D  E3          	ex	(sp),hl
3297  100E  21 00 1E    	ld	hl,0x1e00
3298  1011  E5          	push	hl
3299  1012  3E 50       	ld	a,0x50
3300  1014  F5          	push	af
3301  1015  33          	inc	sp
3302  1016  CD 1B 11    	call	_game_menu_e
3303  1019  F1          	pop	af
3304  101A  F1          	pop	af
3305  101B  33          	inc	sp
3306  101C  21 00 00    	ld	hl,_tmp
3307  101F  36 18       	ld	(hl),0x18
3308  1021  F3          	di
3309  1022  21 00 00    	ld	hl,_tmp_uc
3310  1025  36 00       	ld	(hl),0x00
3311  1027              l_game_menu_paint_00102:
3312  1027  3A 00 00    	ld	a,(_tmp_uc)
3313  102A  87          	add	a, a
3314  102B  C6 05       	add	a,0x05
3315  102D  57          	ld	d,a
3316  102E  3A 00 00    	ld	a,(_tmp)
3317  1031  C6 10       	add	a,0x10
3318  1033  47          	ld	b,a
3319  1034  3A 00 00    	ld	a,(_tmp_uc)
3320  1037  C6 C0       	add	a,0xc0
3321  1039  58          	ld	e,b
3322  103A  D5          	push	de
3323  103B  F5          	push	af
3324  103C  33          	inc	sp
3325  103D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3326  1040  3A 00 00    	ld	a,(_tmp_uc)
3327  1043  87          	add	a, a
3328  1044  C6 05       	add	a,0x05
3329  1046  57          	ld	d,a
3330  1047  3A 00 00    	ld	a,(_tmp)
3331  104A  C6 20       	add	a,0x20
3332  104C  47          	ld	b,a
3333  104D  3A 00 00    	ld	a,(_tmp_uc)
3334  1050  C6 CC       	add	a,0xcc
3335  1052  58          	ld	e,b
3336  1053  D5          	push	de
3337  1054  F5          	push	af
3338  1055  33          	inc	sp
3339  1056  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3340  1059  21 00 00    	ld	hl,_tmp_uc
3341  105C  34          	inc	(hl)
3342  105D  7E          	ld	a,(hl)
3343  105E  D6 0A       	sub	a,0x0a
3344  1060  38 C5       	jr	C,l_game_menu_paint_00102
3345  1062  21 80 04    	ld	hl,0x0480
3346  1065  E5          	push	hl
3347  1066  3E 03       	ld	a,0x03
3348  1068  F5          	push	af
3349  1069  33          	inc	sp
3350  106A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3351  106D  21 80 19    	ld	hl,0x1980
3352  1070  E5          	push	hl
3353  1071  3E 3B       	ld	a,0x3b
3354  1073  F5          	push	af
3355  1074  33          	inc	sp
3356  1075  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3357  1078  FB          	ei
3358  1079  76          	halt
3359  107A  3A 00 00    	ld	a,(_tmp)
3360  107D  C6 28       	add	a,0x28
3361  107F  4F          	ld	c, a
3362  1080  06 1A       	ld	b,0x1a
3363  1082  C5          	push	bc
3364  1083  3E 12       	ld	a,0x12
3365  1085  F5          	push	af
3366  1086  33          	inc	sp
3367  1087  CD 00 00    	call	_NIRVANAP_fillC_callee
3368  108A  21 CC 10    	ld	hl,___str_32
3369  108D  E5          	push	hl
3370  108E  21 0E 0A    	ld	hl,0x0a0e
3371  1091  E5          	push	hl
3372  1092  CD 00 00    	call	_zx_print_str
3373  1095  21 DA 10    	ld	hl,___str_33
3374  1098  E5          	push	hl
3375  1099  21 10 0A    	ld	hl,0x0a10
3376  109C  E5          	push	hl
3377  109D  CD 00 00    	call	_zx_print_str
3378  10A0  21 E8 10    	ld	hl,___str_34
3379  10A3  E5          	push	hl
3380  10A4  21 12 0A    	ld	hl,0x0a12
3381  10A7  E5          	push	hl
3382  10A8  CD 00 00    	call	_zx_print_str
3383  10AB  21 00 00    	ld	hl,_screen_ink
3384  10AE  36 01       	ld	(hl),0x01
3385  10B0  21 F6 10    	ld	hl,___str_35
3386  10B3  E5          	push	hl
3387  10B4  21 16 07    	ld	hl,0x0716
3388  10B7  E5          	push	hl
3389  10B8  CD 00 00    	call	_zx_print_str
3390  10BB  21 09 11    	ld	hl,___str_36
3391  10BE  E5          	push	hl
3392  10BF  21 17 07    	ld	hl,0x0717
3393  10C2  E5          	push	hl
3394  10C3  CD 00 00    	call	_zx_print_str
3395  10C6  21 00 00    	ld	hl,_tmp_uc
3396  10C9  36 00       	ld	(hl),0x00
3397  10CB  C9          	ret
3398  10CC              ___str_32:
3399  10CC  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3400  10D9  00          	DEFB 0x00
3401  10DA              ___str_33:
3402  10DA  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3403  10E7  00          	DEFB 0x00
3404  10E8              ___str_34:
3405  10E8  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3406  10F5  00          	DEFB 0x00
3407  10F6              ___str_35:
3408  10F6  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3409  1108  00          	DEFB 0x00
3410  1109              ___str_36:
3411  1109  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3412  111A  00          	DEFB 0x00
3413  111B              ;	---------------------------------
3414  111B              ; Function game_menu_e
3415  111B              ; ---------------------------------
3416  111B              _game_menu_e:
3417  111B  CD 00 00    	call	___sdcc_enter_ix
3418  111E  F3          	di
3419  111F  DD 4E 05    	ld	c,(ix+5)
3420  1122  21 00 00    	ld	hl,_tmp_uc
3421  1125  71          	ld	(hl),c
3422  1126  DD 46 07    	ld	b,(ix+7)
3423  1129  04          	inc	b
3424  112A  DD 56 07    	ld	d,(ix+7)
3425  112D  14          	inc	d
3426  112E  14          	inc	d
3427  112F              l_game_menu_e_00114:
3428  112F  DD 7E 06    	ld	a,(ix+6)
3429  1132  21 00 00    	ld	hl,_tmp_uc
3430  1135  96          	sub	a, (hl)
3431  1136  38 56       	jr	C,l_game_menu_e_00109
3432  1138  7E          	ld	a,(hl)
3433  1139  91          	sub	a, c
3434  113A  20 15       	jr	NZ,l_game_menu_e_00102
3435  113C  3A 00 00    	ld	a,(_tmp_uc)
3436  113F  C5          	push	bc
3437  1140  D5          	push	de
3438  1141  F5          	push	af
3439  1142  33          	inc	sp
3440  1143  DD 66 04    	ld	h,(ix+4)
3441  1146  DD 6E 07    	ld	l,(ix+7)
3442  1149  E5          	push	hl
3443  114A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3444  114D  D1          	pop	de
3445  114E  C1          	pop	bc
3446  114F  18 36       	jr	l_game_menu_e_00108
3447  1151              l_game_menu_e_00102:
3448  1151  3A 00 00    	ld	a,(_tmp_uc)
3449  1154  DD 96 06    	sub	a,(ix+6)
3450  1157  20 14       	jr	NZ,l_game_menu_e_00104
3451  1159  3A 00 00    	ld	a,(_tmp_uc)
3452  115C  C5          	push	bc
3453  115D  D5          	push	de
3454  115E  F5          	push	af
3455  115F  33          	inc	sp
3456  1160  DD 7E 04    	ld	a,(ix+4)
3457  1163  5A          	ld	e,d
3458  1164  57          	ld	d,a
3459  1165  D5          	push	de
3460  1166  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3461  1169  D1          	pop	de
3462  116A  C1          	pop	bc
3463  116B  18 1A       	jr	l_game_menu_e_00108
3464  116D              l_game_menu_e_00104:
3465  116D  3A 00 00    	ld	a,(_tmp_uc)
3466  1170  FE 0E       	cp	a,0x0e
3467  1172  28 13       	jr	Z,l_game_menu_e_00108
3468  1174  FE 10       	cp	a,0x10
3469  1176  28 0F       	jr	Z,l_game_menu_e_00108
3470  1178  C5          	push	bc
3471  1179  D5          	push	de
3472  117A  F5          	push	af
3473  117B  33          	inc	sp
3474  117C  DD 7E 04    	ld	a,(ix+4)
3475  117F  48          	ld	c,b
3476  1180  47          	ld	b,a
3477  1181  C5          	push	bc
3478  1182  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3479  1185  D1          	pop	de
3480  1186  C1          	pop	bc
3481  1187              l_game_menu_e_00108:
3482  1187  21 00 00    	ld	hl,_tmp_uc
3483  118A  34          	inc	(hl)
3484  118B  34          	inc	(hl)
3485  118C  18 A1       	jr	l_game_menu_e_00114
3486  118E              l_game_menu_e_00109:
3487  118E  DD 7E 08    	ld	a,(ix+8)
3488  1191  3C          	inc	a
3489  1192  20 0A       	jr	NZ,l_game_menu_e_00111
3490  1194  DD 7E 04    	ld	a,(ix+4)
3491  1197  C6 F0       	add	a,0xf0
3492  1199  DD 77 04    	ld	(ix+4),a
3493  119C  18 08       	jr	l_game_menu_e_00112
3494  119E              l_game_menu_e_00111:
3495  119E  DD 7E 04    	ld	a,(ix+4)
3496  11A1  C6 10       	add	a,0x10
3497  11A3  DD 77 04    	ld	(ix+4),a
3498  11A6              l_game_menu_e_00112:
3499  11A6  DD 7E 07    	ld	a,(ix+7)
3500  11A9  C6 0C       	add	a,0x0c
3501  11AB  47          	ld	b,a
3502  11AC  79          	ld	a,c
3503  11AD  F5          	push	af
3504  11AE  33          	inc	sp
3505  11AF  DD 7E 04    	ld	a,(ix+4)
3506  11B2  48          	ld	c,b
3507  11B3  47          	ld	b,a
3508  11B4  C5          	push	bc
3509  11B5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3510  11B8  DD 7E 07    	ld	a,(ix+7)
3511  11BB  C6 0E       	add	a,0x0e
3512  11BD  47          	ld	b,a
3513  11BE  DD 66 06    	ld	h,(ix+6)
3514  11C1  DD 6E 04    	ld	l,(ix+4)
3515  11C4  E5          	push	hl
3516  11C5  C5          	push	bc
3517  11C6  33          	inc	sp
3518  11C7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3519  11CA  FB          	ei
3520  11CB  DD E1       	pop	ix
3521  11CD  C9          	ret
3522  11CE              ;	---------------------------------
3523  11CE              ; Function game_menu_handle
3524  11CE              ; ---------------------------------
3525  11CE              _game_menu_handle:
3526  11CE  CD 00 00    	call	___sdcc_enter_ix
3527  11D1  3B          	dec	sp
3528  11D2  2A 00 00    	ld	hl,(_curr_time)
3529  11D5  22 00 00    	ld	(_entry_time),hl
3530  11D8  DD 5E 05    	ld	e,(ix+5)
3531  11DB  21 00 00    	ld	hl,_game_menu_sel
3532  11DE  66          	ld	h,(hl)
3533  11DF  2E 00       	ld	l,0x00
3534  11E1  55          	ld	d, l
3535  11E2  06 08       	ld	b,0x08
3536  11E4              l_game_menu_handle_00148:
3537  11E4  29          	add	hl,hl
3538  11E5  30 01       	jr	NC,l_game_menu_handle_00149
3539  11E7  19          	add	hl,de
3540  11E8              l_game_menu_handle_00149:
3541  11E8  10 FA       	djnz	l_game_menu_handle_00148
3542  11EA  DD 7E 06    	ld	a,(ix+6)
3543  11ED  85          	add	a,l
3544  11EE  32 00 00    	ld	(_s_lin1),a
3545  11F1  DD 7E 06    	ld	a,(ix+6)
3546  11F4  DD 77 FF    	ld	(ix-1),a
3547  11F7              l_game_menu_handle_00111:
3548  11F7  21 00 00    	ld	hl,_k1
3549  11FA  E5          	push	hl
3550  11FB  2A 00 00    	ld	hl,(_joyfunc1)
3551  11FE  CD 00 00    	call	___sdcc_call_hl
3552  1201  F1          	pop	af
3553  1202  7D          	ld	a,l
3554  1203  32 00 00    	ld	(_dirs),a
3555  1206  D6 80       	sub	a,0x80
3556  1208  CA AB 12    	jp	Z,l_game_menu_handle_00113
3557  120B  21 05 00    	ld	hl,0x0005
3558  120E  E5          	push	hl
3559  120F  2A 00 00    	ld	hl,(_frame_time)
3560  1212  E5          	push	hl
3561  1213  CD 9C 1B    	call	_game_check_time
3562  1216  F1          	pop	af
3563  1217  F1          	pop	af
3564  1218  7D          	ld	a,l
3565  1219  B7          	or	a, a
3566  121A  28 5A       	jr	Z,l_game_menu_handle_00106
3567  121C  3A 00 00    	ld	a,(_dirs)
3568  121F  B7          	or	a, a
3569  1220  28 33       	jr	Z,l_game_menu_handle_00104
3570  1222  21 00 00    	ld	hl,_ay_effect_03
3571  1225  CD 00 00    	call	_ay_fx_play
3572  1228  CD 00 00    	call	_sound_slide
3573  122B  3A 00 00    	ld	a,(_s_lin1)
3574  122E  07          	rlca
3575  122F  07          	rlca
3576  1230  07          	rlca
3577  1231  E6 F8       	and	a,0xf8
3578  1233  C6 08       	add	a,0x08
3579  1235  57          	ld	d,a
3580  1236  1E 14       	ld	e,0x14
3581  1238  D5          	push	de
3582  1239  DD 7E 04    	ld	a,(ix+4)
3583  123C  F5          	push	af
3584  123D  33          	inc	sp
3585  123E  CD E4 0D    	call	_game_paint_attrib_lin
3586  1241  F1          	pop	af
3587  1242  33          	inc	sp
3588  1243  21 00 00    	ld	hl,_s_lin1
3589  1246  7E          	ld	a,(hl)
3590  1247  DD 86 05    	add	a,(ix+5)
3591  124A  77          	ld	(hl),a
3592  124B  DD 7E 07    	ld	a,(ix+7)
3593  124E  96          	sub	a, (hl)
3594  124F  30 04       	jr	NC,l_game_menu_handle_00104
3595  1251  DD 7E FF    	ld	a,(ix-1)
3596  1254  77          	ld	(hl),a
3597  1255              l_game_menu_handle_00104:
3598  1255  2A 00 00    	ld	hl,(_curr_time)
3599  1258  22 00 00    	ld	(_frame_time),hl
3600  125B  3A 00 00    	ld	a,(_s_lin1)
3601  125E  07          	rlca
3602  125F  07          	rlca
3603  1260  07          	rlca
3604  1261  E6 F8       	and	a,0xf8
3605  1263  C6 08       	add	a,0x08
3606  1265  57          	ld	d,a
3607  1266  1E 14       	ld	e,0x14
3608  1268  D5          	push	de
3609  1269  DD 7E 04    	ld	a,(ix+4)
3610  126C  F5          	push	af
3611  126D  33          	inc	sp
3612  126E  CD 0E 0E    	call	_game_paint_attrib_lin_h
3613  1271  F1          	pop	af
3614  1272  33          	inc	sp
3615  1273  CD EE 1A    	call	_game_rotate_attrib
3616  1276              l_game_menu_handle_00106:
3617  1276  DD 7E 09    	ld	a,(ix+9)
3618  1279  DD B6 08    	or	a,(ix+8)
3619  127C  CA F7 11    	jp	Z,l_game_menu_handle_00111
3620  127F  DD 6E 08    	ld	l,(ix+8)
3621  1282  DD 66 09    	ld	h,(ix+9)
3622  1285  E5          	push	hl
3623  1286  2A 00 00    	ld	hl,(_entry_time)
3624  1289  E5          	push	hl
3625  128A  CD 9C 1B    	call	_game_check_time
3626  128D  F1          	pop	af
3627  128E  F1          	pop	af
3628  128F  7D          	ld	a,l
3629  1290  B7          	or	a, a
3630  1291  CA F7 11    	jp	Z,l_game_menu_handle_00111
3631  1294  CD 00 00    	call	_ay_is_playing
3632  1297  7D          	ld	a,l
3633  1298  B7          	or	a, a
3634  1299  C2 F7 11    	jp	NZ,l_game_menu_handle_00111
3635  129C  CD 0B 1A    	call	_game_hall_of_fame
3636  129F  DD 7E FF    	ld	a,(ix-1)
3637  12A2  F5          	push	af
3638  12A3  33          	inc	sp
3639  12A4  CD DE 17    	call	_game_menu_back
3640  12A7  33          	inc	sp
3641  12A8  C3 F7 11    	jp	l_game_menu_handle_00111
3642  12AB              l_game_menu_handle_00113:
3643  12AB  3A 00 00    	ld	a,(_s_lin1)
3644  12AE  DD 96 FF    	sub	a,(ix-1)
3645  12B1  CB 3F       	srl	a
3646  12B3  6F          	ld	l,a
3647  12B4  33          	inc	sp
3648  12B5  DD E1       	pop	ix
3649  12B7  C9          	ret
3650  12B8              ;	---------------------------------
3651  12B8              ; Function game_end
3652  12B8              ; ---------------------------------
3653  12B8              _game_end:
3654  12B8  CD 00 00    	call	___sdcc_enter_ix
3655  12BB  F5          	push	af
3656  12BC  F5          	push	af
3657  12BD  CD 75 09    	call	_game_kill_all_sprites
3658  12C0  CD 00 00    	call	_spr_draw_clear
3659  12C3  21 00 00    	ld	hl,_pb_midi_title
3660  12C6  CD 00 00    	call	_ay_midi_play
3661  12C9  21 00 00    	ld	hl,_tmp0
3662  12CC  36 04       	ld	(hl),0x04
3663  12CE              l_game_end_00129:
3664  12CE  3A 00 00    	ld	a,(_tmp0)
3665  12D1  F5          	push	af
3666  12D2  33          	inc	sp
3667  12D3  21 8C 50    	ld	hl,0x508c
3668  12D6  E5          	push	hl
3669  12D7  CD 00 00    	call	_NIRVANAP_drawT_callee
3670  12DA  21 00 00    	ld	hl,_tmp0
3671  12DD  34          	inc	(hl)
3672  12DE  34          	inc	(hl)
3673  12DF  7E          	ld	a,(hl)
3674  12E0  D6 1C       	sub	a,0x1c
3675  12E2  38 EA       	jr	C,l_game_end_00129
3676  12E4  36 04       	ld	(hl),0x04
3677  12E6              l_game_end_00131:
3678  12E6  3A 00 00    	ld	a,(_tmp0)
3679  12E9  F5          	push	af
3680  12EA  33          	inc	sp
3681  12EB  21 8C 60    	ld	hl,0x608c
3682  12EE  E5          	push	hl
3683  12EF  CD 00 00    	call	_NIRVANAP_drawT_callee
3684  12F2  21 00 00    	ld	hl,_tmp0
3685  12F5  34          	inc	(hl)
3686  12F6  34          	inc	(hl)
3687  12F7  7E          	ld	a,(hl)
3688  12F8  D6 1C       	sub	a,0x1c
3689  12FA  38 EA       	jr	C,l_game_end_00131
3690  12FC  36 04       	ld	(hl),0x04
3691  12FE              l_game_end_00133:
3692  12FE  3A 00 00    	ld	a,(_tmp0)
3693  1301  F5          	push	af
3694  1302  33          	inc	sp
3695  1303  21 8C 70    	ld	hl,0x708c
3696  1306  E5          	push	hl
3697  1307  CD 00 00    	call	_NIRVANAP_drawT_callee
3698  130A  21 00 00    	ld	hl,_tmp0
3699  130D  34          	inc	(hl)
3700  130E  34          	inc	(hl)
3701  130F  7E          	ld	a,(hl)
3702  1310  D6 1C       	sub	a,0x1c
3703  1312  38 EA       	jr	C,l_game_end_00133
3704  1314  21 50 18    	ld	hl,0x1850
3705  1317  E5          	push	hl
3706  1318  3E D6       	ld	a,0xd6
3707  131A  F5          	push	af
3708  131B  33          	inc	sp
3709  131C  CD 00 00    	call	_NIRVANAP_drawT_callee
3710  131F  21 9C 01    	ld	hl,0x019c
3711  1322  E5          	push	hl
3712  1323  21 01 1D    	ld	hl,0x1d01
3713  1326  E5          	push	hl
3714  1327  3E 20       	ld	a,0x20
3715  1329  F5          	push	af
3716  132A  33          	inc	sp
3717  132B  CD 1B 11    	call	_game_menu_e
3718  132E  F1          	pop	af
3719  132F  33          	inc	sp
3720  1330  21 9F FF    	ld	hl,0xff9f
3721  1333  E3          	ex	(sp),hl
3722  1334  21 01 1D    	ld	hl,0x1d01
3723  1337  E5          	push	hl
3724  1338  3E 80       	ld	a,0x80
3725  133A  F5          	push	af
3726  133B  33          	inc	sp
3727  133C  CD 1B 11    	call	_game_menu_e
3728  133F  F1          	pop	af
3729  1340  F1          	pop	af
3730  1341  33          	inc	sp
3731  1342  3E 00       	ld	a,0x00
3732  1344  DD 77 FD    	ld	(ix-3),a
3733  1347  DD 77 FC    	ld	(ix-4),a
3734  134A  3A 00 00    	ld	a,(_game_two_player)
3735  134D  B7          	or	a, a
3736  134E  28 16       	jr	Z,l_game_end_00109
3737  1350  3A 00 00    	ld	a,(_game_lives)
3738  1353  B7          	or	a, a
3739  1354  28 04       	jr	Z,l_game_end_00105
3740  1356  DD 36 FD 01 	ld	(ix-3),0x01
3741  135A              l_game_end_00105:
3742  135A  3A 01 00    	ld	a, (_game_lives + 1)
3743  135D  B7          	or	a, a
3744  135E  28 0A       	jr	Z,l_game_end_00110
3745  1360  DD 36 FC 01 	ld	(ix-4),0x01
3746  1364  18 04       	jr	l_game_end_00110
3747  1366              l_game_end_00109:
3748  1366  DD 36 FD 01 	ld	(ix-3),0x01
3749  136A              l_game_end_00110:
3750  136A  DD 7E FD    	ld	a,(ix-3)
3751  136D  3D          	dec	a
3752  136E  20 04       	jr	NZ,l_game_end_00221
3753  1370  3E 01       	ld	a,0x01
3754  1372  18 01       	jr	l_game_end_00222
3755  1374              l_game_end_00221:
3756  1374  AF          	xor	a,a
3757  1375              l_game_end_00222:
3758  1375  DD 77 FE    	ld	(ix-2),a
3759  1378  B7          	or	a, a
3760  1379  28 1C       	jr	Z,l_game_end_00112
3761  137B  DD 7E FC    	ld	a,(ix-4)
3762  137E  B7          	or	a, a
3763  137F  20 16       	jr	NZ,l_game_end_00112
3764  1381  21 21 15    	ld	hl,___str_37
3765  1384  E5          	push	hl
3766  1385  21 13 01    	ld	hl,0x0113
3767  1388  E5          	push	hl
3768  1389  CD 00 00    	call	_zx_print_str
3769  138C  21 50 0C    	ld	hl,0x0c50
3770  138F  E5          	push	hl
3771  1390  3E 03       	ld	a,0x03
3772  1392  F5          	push	af
3773  1393  33          	inc	sp
3774  1394  CD 00 00    	call	_NIRVANAP_drawT_callee
3775  1397              l_game_end_00112:
3776  1397  DD 7E FC    	ld	a,(ix-4)
3777  139A  3D          	dec	a
3778  139B  20 04       	jr	NZ,l_game_end_00223
3779  139D  3E 01       	ld	a,0x01
3780  139F  18 01       	jr	l_game_end_00224
3781  13A1              l_game_end_00223:
3782  13A1  AF          	xor	a,a
3783  13A2              l_game_end_00224:
3784  13A2  DD 77 FF    	ld	(ix-1),a
3785  13A5  DD 7E FD    	ld	a,(ix-3)
3786  13A8  B7          	or	a, a
3787  13A9  20 1C       	jr	NZ,l_game_end_00115
3788  13AB  DD 7E FF    	ld	a,(ix-1)
3789  13AE  B7          	or	a, a
3790  13AF  28 16       	jr	Z,l_game_end_00115
3791  13B1  21 2B 15    	ld	hl,___str_38
3792  13B4  E5          	push	hl
3793  13B5  21 13 01    	ld	hl,0x0113
3794  13B8  E5          	push	hl
3795  13B9  CD 00 00    	call	_zx_print_str
3796  13BC  21 60 0E    	ld	hl,0x0e60
3797  13BF  E5          	push	hl
3798  13C0  3E 1B       	ld	a,0x1b
3799  13C2  F5          	push	af
3800  13C3  33          	inc	sp
3801  13C4  CD 00 00    	call	_NIRVANAP_drawT_callee
3802  13C7              l_game_end_00115:
3803  13C7  DD 7E FE    	ld	a,(ix-2)
3804  13CA  B7          	or	a, a
3805  13CB  28 27       	jr	Z,l_game_end_00118
3806  13CD  DD 7E FF    	ld	a,(ix-1)
3807  13D0  B7          	or	a, a
3808  13D1  28 21       	jr	Z,l_game_end_00118
3809  13D3  21 34 15    	ld	hl,___str_39
3810  13D6  E5          	push	hl
3811  13D7  21 13 01    	ld	hl,0x0113
3812  13DA  E5          	push	hl
3813  13DB  CD 00 00    	call	_zx_print_str
3814  13DE  21 50 0C    	ld	hl,0x0c50
3815  13E1  E5          	push	hl
3816  13E2  3E 03       	ld	a,0x03
3817  13E4  F5          	push	af
3818  13E5  33          	inc	sp
3819  13E6  CD 00 00    	call	_NIRVANAP_drawT_callee
3820  13E9  21 60 0E    	ld	hl,0x0e60
3821  13EC  E5          	push	hl
3822  13ED  3E 1B       	ld	a,0x1b
3823  13EF  F5          	push	af
3824  13F0  33          	inc	sp
3825  13F1  CD 00 00    	call	_NIRVANAP_drawT_callee
3826  13F4              l_game_end_00118:
3827  13F4  21 C8 00    	ld	hl,0x00c8
3828  13F7  E5          	push	hl
3829  13F8  21 01 1F    	ld	hl,0x1f01
3830  13FB  E5          	push	hl
3831  13FC  3E 13       	ld	a,0x13
3832  13FE  F5          	push	af
3833  13FF  33          	inc	sp
3834  1400  CD 0A 1B    	call	_game_colour_message
3835  1403  F1          	pop	af
3836  1404  F1          	pop	af
3837  1405  33          	inc	sp
3838  1406  DD 7E FE    	ld	a,(ix-2)
3839  1409  B7          	or	a, a
3840  140A  28 32       	jr	Z,l_game_end_00121
3841  140C  DD 7E FC    	ld	a,(ix-4)
3842  140F  B7          	or	a, a
3843  1410  20 2C       	jr	NZ,l_game_end_00121
3844  1412  21 40 12    	ld	hl,0x1240
3845  1415  E5          	push	hl
3846  1416  3E BE       	ld	a,0xbe
3847  1418  F5          	push	af
3848  1419  33          	inc	sp
3849  141A  CD 00 00    	call	_NIRVANAP_drawT_callee
3850  141D  21 50 12    	ld	hl,0x1250
3851  1420  E5          	push	hl
3852  1421  3E CA       	ld	a,0xca
3853  1423  F5          	push	af
3854  1424  33          	inc	sp
3855  1425  CD 00 00    	call	_NIRVANAP_drawT_callee
3856  1428  21 48 15    	ld	hl,___str_40
3857  142B  E5          	push	hl
3858  142C  21 13 01    	ld	hl,0x0113
3859  142F  E5          	push	hl
3860  1430  CD 00 00    	call	_zx_print_str
3861  1433  21 40 0C    	ld	hl,0x0c40
3862  1436  E5          	push	hl
3863  1437  3E BE       	ld	a,0xbe
3864  1439  F5          	push	af
3865  143A  33          	inc	sp
3866  143B  CD 00 00    	call	_NIRVANAP_drawT_callee
3867  143E              l_game_end_00121:
3868  143E  DD 7E FD    	ld	a,(ix-3)
3869  1441  B7          	or	a, a
3870  1442  20 32       	jr	NZ,l_game_end_00124
3871  1444  DD 7E FF    	ld	a,(ix-1)
3872  1447  B7          	or	a, a
3873  1448  28 2C       	jr	Z,l_game_end_00124
3874  144A  21 50 12    	ld	hl,0x1250
3875  144D  E5          	push	hl
3876  144E  3E BE       	ld	a,0xbe
3877  1450  F5          	push	af
3878  1451  33          	inc	sp
3879  1452  CD 00 00    	call	_NIRVANAP_drawT_callee
3880  1455  21 60 12    	ld	hl,0x1260
3881  1458  E5          	push	hl
3882  1459  3E CA       	ld	a,0xca
3883  145B  F5          	push	af
3884  145C  33          	inc	sp
3885  145D  CD 00 00    	call	_NIRVANAP_drawT_callee
3886  1460  21 48 15    	ld	hl,___str_40
3887  1463  E5          	push	hl
3888  1464  21 13 01    	ld	hl,0x0113
3889  1467  E5          	push	hl
3890  1468  CD 00 00    	call	_zx_print_str
3891  146B  21 50 0E    	ld	hl,0x0e50
3892  146E  E5          	push	hl
3893  146F  3E BE       	ld	a,0xbe
3894  1471  F5          	push	af
3895  1472  33          	inc	sp
3896  1473  CD 00 00    	call	_NIRVANAP_drawT_callee
3897  1476              l_game_end_00124:
3898  1476  DD 7E FE    	ld	a,(ix-2)
3899  1479  B7          	or	a, a
3900  147A  28 53       	jr	Z,l_game_end_00127
3901  147C  DD 7E FF    	ld	a,(ix-1)
3902  147F  B7          	or	a, a
3903  1480  28 4D       	jr	Z,l_game_end_00127
3904  1482  21 5C 15    	ld	hl,___str_41
3905  1485  E5          	push	hl
3906  1486  21 13 01    	ld	hl,0x0113
3907  1489  E5          	push	hl
3908  148A  CD 00 00    	call	_zx_print_str
3909  148D  21 40 12    	ld	hl,0x1240
3910  1490  E5          	push	hl
3911  1491  3E BE       	ld	a,0xbe
3912  1493  F5          	push	af
3913  1494  33          	inc	sp
3914  1495  CD 00 00    	call	_NIRVANAP_drawT_callee
3915  1498  21 50 12    	ld	hl,0x1250
3916  149B  E5          	push	hl
3917  149C  3E CA       	ld	a,0xca
3918  149E  F5          	push	af
3919  149F  33          	inc	sp
3920  14A0  CD 00 00    	call	_NIRVANAP_drawT_callee
3921  14A3  21 50 10    	ld	hl,0x1050
3922  14A6  E5          	push	hl
3923  14A7  3E BE       	ld	a,0xbe
3924  14A9  F5          	push	af
3925  14AA  33          	inc	sp
3926  14AB  CD 00 00    	call	_NIRVANAP_drawT_callee
3927  14AE  21 60 10    	ld	hl,0x1060
3928  14B1  E5          	push	hl
3929  14B2  3E CA       	ld	a,0xca
3930  14B4  F5          	push	af
3931  14B5  33          	inc	sp
3932  14B6  CD 00 00    	call	_NIRVANAP_drawT_callee
3933  14B9  21 40 0C    	ld	hl,0x0c40
3934  14BC  E5          	push	hl
3935  14BD  3E BE       	ld	a,0xbe
3936  14BF  F5          	push	af
3937  14C0  33          	inc	sp
3938  14C1  CD 00 00    	call	_NIRVANAP_drawT_callee
3939  14C4  21 50 0E    	ld	hl,0x0e50
3940  14C7  E5          	push	hl
3941  14C8  3E BE       	ld	a,0xbe
3942  14CA  F5          	push	af
3943  14CB  33          	inc	sp
3944  14CC  CD 00 00    	call	_NIRVANAP_drawT_callee
3945  14CF              l_game_end_00127:
3946  14CF  21 C8 00    	ld	hl,0x00c8
3947  14D2  E5          	push	hl
3948  14D3  21 01 1F    	ld	hl,0x1f01
3949  14D6  E5          	push	hl
3950  14D7  3E 13       	ld	a,0x13
3951  14D9  F5          	push	af
3952  14DA  33          	inc	sp
3953  14DB  CD 0A 1B    	call	_game_colour_message
3954  14DE  F1          	pop	af
3955  14DF  33          	inc	sp
3956  14E0  21 72 15    	ld	hl,___str_42
3957  14E3  E3          	ex	(sp),hl
3958  14E4  21 13 01    	ld	hl,0x0113
3959  14E7  E5          	push	hl
3960  14E8  CD 00 00    	call	_zx_print_str
3961  14EB  21 C8 00    	ld	hl,0x00c8
3962  14EE  E5          	push	hl
3963  14EF  21 01 1F    	ld	hl,0x1f01
3964  14F2  E5          	push	hl
3965  14F3  3E 13       	ld	a,0x13
3966  14F5  F5          	push	af
3967  14F6  33          	inc	sp
3968  14F7  CD 0A 1B    	call	_game_colour_message
3969  14FA  F1          	pop	af
3970  14FB  33          	inc	sp
3971  14FC  21 89 15    	ld	hl,___str_43
3972  14FF  E3          	ex	(sp),hl
3973  1500  21 13 01    	ld	hl,0x0113
3974  1503  E5          	push	hl
3975  1504  CD 00 00    	call	_zx_print_str
3976  1507  21 C8 00    	ld	hl,0x00c8
3977  150A  E5          	push	hl
3978  150B  21 01 1F    	ld	hl,0x1f01
3979  150E  E5          	push	hl
3980  150F  3E 13       	ld	a,0x13
3981  1511  F5          	push	af
3982  1512  33          	inc	sp
3983  1513  CD 0A 1B    	call	_game_colour_message
3984  1516  F1          	pop	af
3985  1517  F1          	pop	af
3986  1518  33          	inc	sp
3987  1519  CD 00 00    	call	_spr_draw_clear
3988  151C  DD F9       	ld	sp, ix
3989  151E  DD E1       	pop	ix
3990  1520  C9          	ret
3991  1521              ___str_37:
3992  1521  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
3993  152A  00          	DEFB 0x00
3994  152B              ___str_38:
3995  152B  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
3996  1533  00          	DEFB 0x00
3997  1534              ___str_39:
3998  1534  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
3999  1547  00          	DEFB 0x00
4000  1548              ___str_40:
4001  1548  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4002  155B  00          	DEFB 0x00
4003  155C              ___str_41:
4004  155C  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4005  1571  00          	DEFB 0x00
4006  1572              ___str_42:
4007  1572  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4008  1588  00          	DEFB 0x00
4009  1589              ___str_43:
4010  1589  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4011  159F  00          	DEFB 0x00
4012  15A0              ;	---------------------------------
4013  15A0              ; Function game_hall_check
4014  15A0              ; ---------------------------------
4015  15A0              _game_hall_check:
4016  15A0  CD 00 00    	call	___sdcc_enter_ix
4017  15A3  01 00 00    	ld	bc,_player_score+0
4018  15A6  DD 6E 04    	ld	l,(ix+4)
4019  15A9  26 00       	ld	h,0x00
4020  15AB  29          	add	hl, hl
4021  15AC  09          	add	hl,bc
4022  15AD  4E          	ld	c,(hl)
4023  15AE  23          	inc	hl
4024  15AF  46          	ld	b,(hl)
4025  15B0  2A 3A 00    	ld	hl,(_hof + 0x003a)
4026  15B3  AF          	xor	a,a
4027  15B4  ED 42       	sbc	hl,bc
4028  15B6  30 09       	jr	NC,l_game_hall_check_00104
4029  15B8  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4030  15BC  21 36 00    	ld	hl,+(_hof + 0x0036)
4031  15BF  18 14       	jr	l_game_hall_check_00106
4032  15C1              l_game_hall_check_00104:
4033  15C1  2A 34 00    	ld	hl,(_hof + 0x0034)
4034  15C4  AF          	xor	a,a
4035  15C5  ED 42       	sbc	hl,bc
4036  15C7  30 09       	jr	NC,l_game_hall_check_00105
4037  15C9  ED 43 34 00 	ld	(_hof + 0x0034),bc
4038  15CD  21 30 00    	ld	hl,+(_hof + 0x0030)
4039  15D0  18 03       	jr	l_game_hall_check_00106
4040  15D2              l_game_hall_check_00105:
4041  15D2  21 00 00    	ld	hl,0x0000
4042  15D5              l_game_hall_check_00106:
4043  15D5  DD E1       	pop	ix
4044  15D7  C9          	ret
4045  15D8              ;	---------------------------------
4046  15D8              ; Function compare_scores
4047  15D8              ; ---------------------------------
4048  15D8              _compare_scores:
4049  15D8  CD 00 00    	call	___sdcc_enter_ix
4050  15DB  DD 6E 06    	ld	l,(ix+6)
4051  15DE  DD 66 07    	ld	h,(ix+7)
4052  15E1  11 04 00    	ld	de,0x0004
4053  15E4  19          	add	hl, de
4054  15E5  4E          	ld	c,(hl)
4055  15E6  23          	inc	hl
4056  15E7  46          	ld	b,(hl)
4057  15E8  DD 6E 04    	ld	l,(ix+4)
4058  15EB  DD 66 05    	ld	h,(ix+5)
4059  15EE  11 04 00    	ld	de,0x0004
4060  15F1  19          	add	hl, de
4061  15F2  5E          	ld	e,(hl)
4062  15F3  23          	inc	hl
4063  15F4  56          	ld	d,(hl)
4064  15F5  79          	ld	a,c
4065  15F6  93          	sub	a, e
4066  15F7  6F          	ld	l,a
4067  15F8  78          	ld	a,b
4068  15F9  9A          	sbc	a, d
4069  15FA  67          	ld	h,a
4070  15FB  DD E1       	pop	ix
4071  15FD  C9          	ret
4072  15FE              ;	---------------------------------
4073  15FE              ; Function game_hall_enter
4074  15FE              ; ---------------------------------
4075  15FE              _game_hall_enter:
4076  15FE  CD 00 00    	call	___sdcc_enter_ix
4077  1601  21 F7 FF    	ld	hl,-9
4078  1604  39          	add	hl,sp
4079  1605  F9          	ld	sp,hl
4080  1606  CD 00 00    	call	_spr_draw_clear
4081  1609  AF          	xor	a, a
4082  160A  F5          	push	af
4083  160B  33          	inc	sp
4084  160C  CD B7 0D    	call	_game_paint_attrib
4085  160F  33          	inc	sp
4086  1610  ED 4B 00 00 	ld	bc,(_player_score)
4087  1614  2A 02 00    	ld	hl, (_player_score + 2)
4088  1617  AF          	xor	a,a
4089  1618  ED 42       	sbc	hl,bc
4090  161A  30 14       	jr	NC,l_game_hall_enter_00102
4091  161C  AF          	xor	a, a
4092  161D  F5          	push	af
4093  161E  33          	inc	sp
4094  161F  CD A0 15    	call	_game_hall_check
4095  1622  33          	inc	sp
4096  1623  E5          	push	hl
4097  1624  3E 01       	ld	a,0x01
4098  1626  F5          	push	af
4099  1627  33          	inc	sp
4100  1628  CD A0 15    	call	_game_hall_check
4101  162B  33          	inc	sp
4102  162C  EB          	ex	de,hl
4103  162D  C1          	pop	bc
4104  162E  18 13       	jr	l_game_hall_enter_00103
4105  1630              l_game_hall_enter_00102:
4106  1630  3E 01       	ld	a,0x01
4107  1632  F5          	push	af
4108  1633  33          	inc	sp
4109  1634  CD A0 15    	call	_game_hall_check
4110  1637  33          	inc	sp
4111  1638  E5          	push	hl
4112  1639  AF          	xor	a, a
4113  163A  F5          	push	af
4114  163B  33          	inc	sp
4115  163C  CD A0 15    	call	_game_hall_check
4116  163F  33          	inc	sp
4117  1640  D1          	pop	de
4118  1641  4D          	ld	c,l
4119  1642  44          	ld	b,h
4120  1643              l_game_hall_enter_00103:
4121  1643  78          	ld	a,b
4122  1644  B1          	or	a,c
4123  1645  20 05       	jr	NZ,l_game_hall_enter_00125
4124  1647  7A          	ld	a,d
4125  1648  B3          	or	a,e
4126  1649  CA 9C 17    	jp	Z,l_game_hall_enter_00126
4127  164C              l_game_hall_enter_00125:
4128  164C  3E 00       	ld	a,0x00
4129  164E  DD 77 FB    	ld	(ix-5),a
4130  1651  DD 77 FA    	ld	(ix-6),a
4131  1654  DD 77 F8    	ld	(ix-8),a
4132  1657  DD 77 F7    	ld	(ix-9),a
4133  165A  DD 36 F9 00 	ld	(ix-7),0x00
4134  165E  78          	ld	a,b
4135  165F  B1          	or	a,c
4136  1660  28 0F       	jr	Z,l_game_hall_enter_00105
4137  1662  DD 36 F7 01 	ld	(ix-9),0x01
4138  1666  C5          	push	bc
4139  1667  D5          	push	de
4140  1668  AF          	xor	a, a
4141  1669  F5          	push	af
4142  166A  33          	inc	sp
4143  166B  CD F8 17    	call	_game_hall_enter_phs
4144  166E  33          	inc	sp
4145  166F  D1          	pop	de
4146  1670  C1          	pop	bc
4147  1671              l_game_hall_enter_00105:
4148  1671  7A          	ld	a,d
4149  1672  B3          	or	a,e
4150  1673  28 10       	jr	Z,l_game_hall_enter_00107
4151  1675  DD 36 F9 05 	ld	(ix-7),0x05
4152  1679  C5          	push	bc
4153  167A  D5          	push	de
4154  167B  3E 01       	ld	a,0x01
4155  167D  F5          	push	af
4156  167E  33          	inc	sp
4157  167F  CD F8 17    	call	_game_hall_enter_phs
4158  1682  33          	inc	sp
4159  1683  D1          	pop	de
4160  1684  C1          	pop	bc
4161  1685              l_game_hall_enter_00107:
4162  1685  C5          	push	bc
4163  1686  D5          	push	de
4164  1687  21 AA 17    	ld	hl,___str_44
4165  168A  E5          	push	hl
4166  168B  21 02 0A    	ld	hl,0x0a02
4167  168E  E5          	push	hl
4168  168F  CD 00 00    	call	_zx_print_str
4169  1692  21 B7 17    	ld	hl,___str_45
4170  1695  E5          	push	hl
4171  1696  21 12 06    	ld	hl,0x0612
4172  1699  E5          	push	hl
4173  169A  CD 00 00    	call	_zx_print_str
4174  169D  21 CA 17    	ld	hl,___str_46
4175  16A0  E5          	push	hl
4176  16A1  21 13 06    	ld	hl,0x0613
4177  16A4  E5          	push	hl
4178  16A5  CD 00 00    	call	_zx_print_str
4179  16A8  D1          	pop	de
4180  16A9  C1          	pop	bc
4181  16AA  21 FF FF    	ld	hl,-1
4182  16AD  CD 00 00    	call	____sdcc_store_debc_hlix
4183  16B0              l_game_hall_enter_00122:
4184  16B0  DD 4E F7    	ld	c,(ix-9)
4185  16B3  06 00       	ld	b,0x00
4186  16B5  DD 6E F9    	ld	l,(ix-7)
4187  16B8  26 00       	ld	h,0x00
4188  16BA  09          	add	hl,bc
4189  16BB  7C          	ld	a,h
4190  16BC  B5          	or	a,l
4191  16BD  CA 84 17    	jp	Z,l_game_hall_enter_00124
4192  16C0  21 05 00    	ld	hl,0x0005
4193  16C3  E5          	push	hl
4194  16C4  2A 00 00    	ld	hl,(_frame_time)
4195  16C7  E5          	push	hl
4196  16C8  CD 9C 1B    	call	_game_check_time
4197  16CB  F1          	pop	af
4198  16CC  F1          	pop	af
4199  16CD  7D          	ld	a,l
4200  16CE  B7          	or	a, a
4201  16CF  28 36       	jr	Z,l_game_hall_enter_00113
4202  16D1  DD 7E F8    	ld	a,(ix-8)
4203  16D4  D6 01       	sub	a,0x01
4204  16D6  3E 00       	ld	a,0x00
4205  16D8  17          	rla
4206  16D9  DD 77 F8    	ld	(ix-8),a
4207  16DC  DD 7E F7    	ld	a,(ix-9)
4208  16DF  B7          	or	a, a
4209  16E0  28 0B       	jr	Z,l_game_hall_enter_00109
4210  16E2  DD 66 F8    	ld	h,(ix-8)
4211  16E5  DD 6E F7    	ld	l,(ix-9)
4212  16E8  E5          	push	hl
4213  16E9  CD 82 18    	call	_game_hall_print_p
4214  16EC  F1          	pop	af
4215  16ED              l_game_hall_enter_00109:
4216  16ED  DD 7E F9    	ld	a,(ix-7)
4217  16F0  B7          	or	a, a
4218  16F1  28 0B       	jr	Z,l_game_hall_enter_00111
4219  16F3  DD 66 F8    	ld	h,(ix-8)
4220  16F6  DD 6E F9    	ld	l,(ix-7)
4221  16F9  E5          	push	hl
4222  16FA  CD 82 18    	call	_game_hall_print_p
4223  16FD  F1          	pop	af
4224  16FE              l_game_hall_enter_00111:
4225  16FE  CD EE 1A    	call	_game_rotate_attrib
4226  1701  2A 00 00    	ld	hl,(_curr_time)
4227  1704  22 00 00    	ld	(_frame_time),hl
4228  1707              l_game_hall_enter_00113:
4229  1707  21 00 00    	ld	hl,_k1
4230  170A  E5          	push	hl
4231  170B  2A 00 00    	ld	hl,(_joyfunc1)
4232  170E  CD 00 00    	call	___sdcc_call_hl
4233  1711  F1          	pop	af
4234  1712  7D          	ld	a,l
4235  1713  32 00 00    	ld	(_dirs),a
4236  1716  DD 7E FB    	ld	a,(ix-5)
4237  1719  B7          	or	a, a
4238  171A  20 22       	jr	NZ,l_game_hall_enter_00115
4239  171C  DD 7E F7    	ld	a,(ix-9)
4240  171F  B7          	or	a, a
4241  1720  28 1C       	jr	Z,l_game_hall_enter_00115
4242  1722  F5          	push	af
4243  1723  33          	inc	sp
4244  1724  CD 40 19    	call	_game_hall_edit_p
4245  1727  33          	inc	sp
4246  1728  DD 75 F7    	ld	(ix-9),l
4247  172B  7D          	ld	a,l
4248  172C  B7          	or	a, a
4249  172D  20 0F       	jr	NZ,l_game_hall_enter_00115
4250  172F  DD 5E FC    	ld	e,(ix-4)
4251  1732  DD 56 FD    	ld	d,(ix-3)
4252  1735  AF          	xor	a,a
4253  1736  21 00 00    	ld	hl,_initials
4254  1739              l_game_hall_enter_00190:
4255  1739  BE          	cp	a, (hl)
4256  173A  ED A0       	ldi
4257  173C  20 FB       	jr	NZ, l_game_hall_enter_00190
4258  173E              l_game_hall_enter_00115:
4259  173E  3A 00 00    	ld	a,(_dirs)
4260  1741  DD 77 FB    	ld	(ix-5),a
4261  1744  21 00 00    	ld	hl,_k2
4262  1747  E5          	push	hl
4263  1748  2A 00 00    	ld	hl,(_joyfunc2)
4264  174B  CD 00 00    	call	___sdcc_call_hl
4265  174E  F1          	pop	af
4266  174F  7D          	ld	a,l
4267  1750  32 00 00    	ld	(_dirs),a
4268  1753  DD 7E FA    	ld	a,(ix-6)
4269  1756  B7          	or	a, a
4270  1757  20 22       	jr	NZ,l_game_hall_enter_00119
4271  1759  DD 7E F9    	ld	a,(ix-7)
4272  175C  B7          	or	a, a
4273  175D  28 1C       	jr	Z,l_game_hall_enter_00119
4274  175F  F5          	push	af
4275  1760  33          	inc	sp
4276  1761  CD 40 19    	call	_game_hall_edit_p
4277  1764  33          	inc	sp
4278  1765  DD 75 F9    	ld	(ix-7),l
4279  1768  7D          	ld	a,l
4280  1769  B7          	or	a, a
4281  176A  20 0F       	jr	NZ,l_game_hall_enter_00119
4282  176C  DD 5E FE    	ld	e,(ix-2)
4283  176F  DD 56 FF    	ld	d,(ix-1)
4284  1772  AF          	xor	a,a
4285  1773  21 04 00    	ld	hl,+(_initials + 0x0004)
4286  1776              l_game_hall_enter_00191:
4287  1776  BE          	cp	a, (hl)
4288  1777  ED A0       	ldi
4289  1779  20 FB       	jr	NZ, l_game_hall_enter_00191
4290  177B              l_game_hall_enter_00119:
4291  177B  3A 00 00    	ld	a,(_dirs)
4292  177E  DD 77 FA    	ld	(ix-6),a
4293  1781  C3 B0 16    	jp	l_game_hall_enter_00122
4294  1784              l_game_hall_enter_00124:
4295  1784  CD 00 00    	call	_spr_draw_clear
4296  1787  01 D8 15    	ld	bc,_compare_scores
4297  178A  C5          	push	bc
4298  178B  21 06 00    	ld	hl,0x0006
4299  178E  E5          	push	hl
4300  178F  2E 0A       	ld	l,0x0a
4301  1791  E5          	push	hl
4302  1792  21 00 00    	ld	hl,_hof
4303  1795  E5          	push	hl
4304  1796  CD 00 00    	call	__insertion_sort__callee
4305  1799  CD 00 00    	call	_ay_reset
4306  179C              l_game_hall_enter_00126:
4307  179C  CD 0B 1A    	call	_game_hall_of_fame
4308  179F  AF          	xor	a, a
4309  17A0  F5          	push	af
4310  17A1  33          	inc	sp
4311  17A2  CD DE 17    	call	_game_menu_back
4312  17A5  DD F9       	ld	sp,ix
4313  17A7  DD E1       	pop	ix
4314  17A9  C9          	ret
4315  17AA              ___str_44:
4316  17AA  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4317  17B6  00          	DEFB 0x00
4318  17B7              ___str_45:
4319  17B7  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4320  17C9  00          	DEFB 0x00
4321  17CA              ___str_46:
4322  17CA  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4323  17DD  00          	DEFB 0x00
4324  17DE              ;	---------------------------------
4325  17DE              ; Function game_menu_back
4326  17DE              ; ---------------------------------
4327  17DE              _game_menu_back:
4328  17DE  CD 00 00    	call	___sdcc_enter_ix
4329  17E1  21 00 00    	ld	hl,_game_menu_sel
4330  17E4  36 00       	ld	(hl),0x00
4331  17E6  DD 7E 04    	ld	a,(ix+4)
4332  17E9  32 00 00    	ld	(_s_lin1),a
4333  17EC  CD EA 0F    	call	_game_menu_paint
4334  17EF  2A 00 00    	ld	hl,(_curr_time)
4335  17F2  22 00 00    	ld	(_entry_time),hl
4336  17F5  DD E1       	pop	ix
4337  17F7  C9          	ret
4338  17F8              ;	---------------------------------
4339  17F8              ; Function game_hall_enter_phs
4340  17F8              ; ---------------------------------
4341  17F8              _game_hall_enter_phs:
4342  17F8  CD 00 00    	call	___sdcc_enter_ix
4343  17FB  DD 7E 04    	ld	a,(ix+4)
4344  17FE  B7          	or	a, a
4345  17FF  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4346  1801  21 9C 01    	ld	hl,0x019c
4347  1804  E5          	push	hl
4348  1805  21 02 0C    	ld	hl,0x0c02
4349  1808  E5          	push	hl
4350  1809  3E 30       	ld	a,0x30
4351  180B  F5          	push	af
4352  180C  33          	inc	sp
4353  180D  CD 1B 11    	call	_game_menu_e
4354  1810  F1          	pop	af
4355  1811  33          	inc	sp
4356  1812  21 9F FF    	ld	hl,0xff9f
4357  1815  E3          	ex	(sp),hl
4358  1816  21 02 0C    	ld	hl,0x0c02
4359  1819  E5          	push	hl
4360  181A  3E 7C       	ld	a,0x7c
4361  181C  F5          	push	af
4362  181D  33          	inc	sp
4363  181E  CD 1B 11    	call	_game_menu_e
4364  1821  F1          	pop	af
4365  1822  33          	inc	sp
4366  1823  21 76 18    	ld	hl,___str_47
4367  1826  E3          	ex	(sp),hl
4368  1827  21 07 05    	ld	hl,0x0507
4369  182A  E5          	push	hl
4370  182B  CD 00 00    	call	_zx_print_str
4371  182E  21 7B 18    	ld	hl,___str_48
4372  1831  E5          	push	hl
4373  1832  21 08 05    	ld	hl,0x0508
4374  1835  E5          	push	hl
4375  1836  CD 00 00    	call	_zx_print_str
4376  1839  18 38       	jr	l_game_hall_enter_phs_00104
4377  183B              l_game_hall_enter_phs_00102:
4378  183B  21 9C 01    	ld	hl,0x019c
4379  183E  E5          	push	hl
4380  183F  21 12 1C    	ld	hl,0x1c12
4381  1842  E5          	push	hl
4382  1843  3E 30       	ld	a,0x30
4383  1845  F5          	push	af
4384  1846  33          	inc	sp
4385  1847  CD 1B 11    	call	_game_menu_e
4386  184A  F1          	pop	af
4387  184B  33          	inc	sp
4388  184C  21 9F FF    	ld	hl,0xff9f
4389  184F  E3          	ex	(sp),hl
4390  1850  21 12 1C    	ld	hl,0x1c12
4391  1853  E5          	push	hl
4392  1854  3E 7C       	ld	a,0x7c
4393  1856  F5          	push	af
4394  1857  33          	inc	sp
4395  1858  CD 1B 11    	call	_game_menu_e
4396  185B  F1          	pop	af
4397  185C  33          	inc	sp
4398  185D  21 76 18    	ld	hl,___str_47
4399  1860  E3          	ex	(sp),hl
4400  1861  21 07 15    	ld	hl,0x1507
4401  1864  E5          	push	hl
4402  1865  CD 00 00    	call	_zx_print_str
4403  1868  21 7B 18    	ld	hl,___str_48
4404  186B  E5          	push	hl
4405  186C  21 08 15    	ld	hl,0x1508
4406  186F  E5          	push	hl
4407  1870  CD 00 00    	call	_zx_print_str
4408  1873              l_game_hall_enter_phs_00104:
4409  1873  DD E1       	pop	ix
4410  1875  C9          	ret
4411  1876              ___str_47:
4412  1876  48 49 47 48 	DEFM "HIGH"
4413  187A  00          	DEFB 0x00
4414  187B              ___str_48:
4415  187B  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4416  1881  00          	DEFB 0x00
4417  1882              ;	---------------------------------
4418  1882              ; Function game_hall_print_p
4419  1882              ; ---------------------------------
4420  1882              _game_hall_print_p:
4421  1882  CD 00 00    	call	___sdcc_enter_ix
4422  1885  DD 7E 04    	ld	a,(ix+4)
4423  1888  D6 05       	sub	a,0x05
4424  188A  30 59       	jr	NC,l_game_hall_print_p_00108
4425  188C  21 00 00    	ld	hl,_initials
4426  188F  E5          	push	hl
4427  1890  21 0D 06    	ld	hl,0x060d
4428  1893  E5          	push	hl
4429  1894  CD 00 00    	call	_zx_print_str
4430  1897  DD 7E 04    	ld	a,(ix+4)
4431  189A  C6 06       	add	a,0x06
4432  189C  47          	ld	b,a
4433  189D  DD 7E 04    	ld	a,(ix+4)
4434  18A0  C6 05       	add	a,0x05
4435  18A2  57          	ld	d,a
4436  18A3  3E 70       	ld	a,0x70
4437  18A5  F5          	push	af
4438  18A6  33          	inc	sp
4439  18A7  4A          	ld	c, d
4440  18A8  C5          	push	bc
4441  18A9  CD 0E 0E    	call	_game_paint_attrib_lin_h
4442  18AC  F1          	pop	af
4443  18AD  33          	inc	sp
4444  18AE  76          	halt
4445  18AF  DD 7E 05    	ld	a,(ix+5)
4446  18B2  B7          	or	a, a
4447  18B3  28 18       	jr	Z,l_game_hall_print_p_00102
4448  18B5  21 56 06    	ld	hl,0x0656
4449  18B8  E5          	push	hl
4450  18B9  3E A9       	ld	a,0xa9
4451  18BB  F5          	push	af
4452  18BC  33          	inc	sp
4453  18BD  CD 00 00    	call	_NIRVANAP_drawT_callee
4454  18C0  21 58 06    	ld	hl,0x0658
4455  18C3  E5          	push	hl
4456  18C4  3E 03       	ld	a,0x03
4457  18C6  F5          	push	af
4458  18C7  33          	inc	sp
4459  18C8  CD 00 00    	call	_NIRVANAP_drawT_callee
4460  18CB  18 70       	jr	l_game_hall_print_p_00110
4461  18CD              l_game_hall_print_p_00102:
4462  18CD  21 58 06    	ld	hl,0x0658
4463  18D0  E5          	push	hl
4464  18D1  3E A9       	ld	a,0xa9
4465  18D3  F5          	push	af
4466  18D4  33          	inc	sp
4467  18D5  CD 00 00    	call	_NIRVANAP_drawT_callee
4468  18D8  21 56 06    	ld	hl,0x0656
4469  18DB  E5          	push	hl
4470  18DC  3E 16       	ld	a,0x16
4471  18DE  F5          	push	af
4472  18DF  33          	inc	sp
4473  18E0  CD 00 00    	call	_NIRVANAP_drawT_callee
4474  18E3  18 58       	jr	l_game_hall_print_p_00110
4475  18E5              l_game_hall_print_p_00108:
4476  18E5  21 04 00    	ld	hl,+(_initials + 0x0004)
4477  18E8  E5          	push	hl
4478  18E9  21 0D 16    	ld	hl,0x160d
4479  18EC  E5          	push	hl
4480  18ED  CD 00 00    	call	_zx_print_str
4481  18F0  DD 7E 04    	ld	a,(ix+4)
4482  18F3  C6 12       	add	a,0x12
4483  18F5  57          	ld	d,a
4484  18F6  DD 7E 04    	ld	a,(ix+4)
4485  18F9  C6 11       	add	a,0x11
4486  18FB  47          	ld	b,a
4487  18FC  3E 70       	ld	a,0x70
4488  18FE  5A          	ld	e,d
4489  18FF  57          	ld	d,a
4490  1900  D5          	push	de
4491  1901  C5          	push	bc
4492  1902  33          	inc	sp
4493  1903  CD 0E 0E    	call	_game_paint_attrib_lin_h
4494  1906  F1          	pop	af
4495  1907  33          	inc	sp
4496  1908  76          	halt
4497  1909  DD 7E 05    	ld	a,(ix+5)
4498  190C  B7          	or	a, a
4499  190D  28 18       	jr	Z,l_game_hall_print_p_00105
4500  190F  21 56 17    	ld	hl,0x1756
4501  1912  E5          	push	hl
4502  1913  3E A9       	ld	a,0xa9
4503  1915  F5          	push	af
4504  1916  33          	inc	sp
4505  1917  CD 00 00    	call	_NIRVANAP_drawT_callee
4506  191A  21 58 17    	ld	hl,0x1758
4507  191D  E5          	push	hl
4508  191E  3E 27       	ld	a,0x27
4509  1920  F5          	push	af
4510  1921  33          	inc	sp
4511  1922  CD 00 00    	call	_NIRVANAP_drawT_callee
4512  1925  18 16       	jr	l_game_hall_print_p_00110
4513  1927              l_game_hall_print_p_00105:
4514  1927  21 58 17    	ld	hl,0x1758
4515  192A  E5          	push	hl
4516  192B  3E A9       	ld	a,0xa9
4517  192D  F5          	push	af
4518  192E  33          	inc	sp
4519  192F  CD 00 00    	call	_NIRVANAP_drawT_callee
4520  1932  21 56 17    	ld	hl,0x1756
4521  1935  E5          	push	hl
4522  1936  3E 2E       	ld	a,0x2e
4523  1938  F5          	push	af
4524  1939  33          	inc	sp
4525  193A  CD 00 00    	call	_NIRVANAP_drawT_callee
4526  193D              l_game_hall_print_p_00110:
4527  193D  DD E1       	pop	ix
4528  193F  C9          	ret
4529  1940              ;	---------------------------------
4530  1940              ; Function game_hall_edit_p
4531  1940              ; ---------------------------------
4532  1940              _game_hall_edit_p:
4533  1940  CD 00 00    	call	___sdcc_enter_ix
4534  1943  DD 35 04    	dec	(ix+4)
4535  1946  3A 00 00    	ld	a,(_dirs)
4536  1949  07          	rlca
4537  194A  30 7B       	jr	NC,l_game_hall_edit_p_00120
4538  194C  DD 7E 04    	ld	a,(ix+4)
4539  194F  D6 04       	sub	a,0x04
4540  1951  30 1A       	jr	NC,l_game_hall_edit_p_00102
4541  1953  DD 7E 04    	ld	a,(ix+4)
4542  1956  C6 07       	add	a,0x07
4543  1958  57          	ld	d,a
4544  1959  DD 7E 04    	ld	a,(ix+4)
4545  195C  C6 06       	add	a,0x06
4546  195E  47          	ld	b,a
4547  195F  3E 70       	ld	a,0x70
4548  1961  5A          	ld	e,d
4549  1962  57          	ld	d,a
4550  1963  D5          	push	de
4551  1964  C5          	push	bc
4552  1965  33          	inc	sp
4553  1966  CD E4 0D    	call	_game_paint_attrib_lin
4554  1969  F1          	pop	af
4555  196A  33          	inc	sp
4556  196B  18 18       	jr	l_game_hall_edit_p_00103
4557  196D              l_game_hall_edit_p_00102:
4558  196D  DD 7E 04    	ld	a,(ix+4)
4559  1970  C6 13       	add	a,0x13
4560  1972  57          	ld	d,a
4561  1973  DD 7E 04    	ld	a,(ix+4)
4562  1976  C6 12       	add	a,0x12
4563  1978  47          	ld	b,a
4564  1979  3E 70       	ld	a,0x70
4565  197B  5A          	ld	e,d
4566  197C  57          	ld	d,a
4567  197D  D5          	push	de
4568  197E  C5          	push	bc
4569  197F  33          	inc	sp
4570  1980  CD E4 0D    	call	_game_paint_attrib_lin
4571  1983  F1          	pop	af
4572  1984  33          	inc	sp
4573  1985              l_game_hall_edit_p_00103:
4574  1985  CD 00 00    	call	_sound_slide
4575  1988  21 00 00    	ld	hl,_ay_effect_01
4576  198B  CD 00 00    	call	_ay_fx_play
4577  198E  01 00 00    	ld	bc,_initials+0
4578  1991  DD 5E 04    	ld	e,(ix+4)
4579  1994  7B          	ld	a,e
4580  1995  3C          	inc	a
4581  1996  DD 77 04    	ld	(ix+4),a
4582  1999  6B          	ld	l,e
4583  199A  26 00       	ld	h,0x00
4584  199C  09          	add	hl,bc
4585  199D  7E          	ld	a,(hl)
4586  199E  D6 7B       	sub	a,0x7b
4587  19A0  20 19       	jr	NZ,l_game_hall_edit_p_00107
4588  19A2  DD 35 04    	dec	(ix+4)
4589  19A5  DD 7E 04    	ld	a,(ix+4)
4590  19A8  E6 03       	and	a,0x03
4591  19AA  28 0F       	jr	Z,l_game_hall_edit_p_00107
4592  19AC  DD 5E 04    	ld	e,(ix+4)
4593  19AF  7B          	ld	a,e
4594  19B0  C6 FF       	add	a,0xff
4595  19B2  DD 77 04    	ld	(ix+4),a
4596  19B5  6B          	ld	l,e
4597  19B6  26 00       	ld	h,0x00
4598  19B8  09          	add	hl,bc
4599  19B9  36 41       	ld	(hl),0x41
4600  19BB              l_game_hall_edit_p_00107:
4601  19BB  DD 7E 04    	ld	a,(ix+4)
4602  19BE  E6 03       	and	a,0x03
4603  19C0  D6 03       	sub	a,0x03
4604  19C2  20 3F       	jr	NZ,l_game_hall_edit_p_00121
4605  19C4  6F          	ld	l,a
4606  19C5  18 41       	jr	l_game_hall_edit_p_00122
4607  19C7              l_game_hall_edit_p_00120:
4608  19C7  3A 00 00    	ld	a,(_dirs)
4609  19CA  E6 0C       	and	a,0x0c
4610  19CC  28 35       	jr	Z,l_game_hall_edit_p_00121
4611  19CE  11 00 00    	ld	de,_hall_valids
4612  19D1  3E 00       	ld	a,+((_initials) & 0xFF)
4613  19D3  DD 86 04    	add	a,(ix+4)
4614  19D6  4F          	ld	c,a
4615  19D7  3E 00       	ld	a,+((_initials) / 256)
4616  19D9  CE 00       	adc	a,0x00
4617  19DB  47          	ld	b,a
4618  19DC  0A          	ld	a,(bc)
4619  19DD  6F          	ld	l,a
4620  19DE              l_game_hall_edit_p_00168:
4621  19DE  1A          	ld	a, (de)
4622  19DF  BD          	cp	a, l
4623  19E0  28 06       	jr	Z,l_game_hall_edit_p_00167
4624  19E2  B7          	or	a, a
4625  19E3  13          	inc	de
4626  19E4  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4627  19E6  5F          	ld	e, a
4628  19E7  57          	ld	d, a
4629  19E8              l_game_hall_edit_p_00167:
4630  19E8  3A 00 00    	ld	a,(_dirs)
4631  19EB  E6 04       	and	a,0x04
4632  19ED  28 0A       	jr	Z,l_game_hall_edit_p_00115
4633  19EF  1B          	dec	de
4634  19F0  1A          	ld	a,(de)
4635  19F1  3D          	dec	a
4636  19F2  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4637  19F4  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4638  19F7  18 08       	jr	l_game_hall_edit_p_00116
4639  19F9              l_game_hall_edit_p_00115:
4640  19F9  13          	inc	de
4641  19FA  1A          	ld	a,(de)
4642  19FB  B7          	or	a, a
4643  19FC  20 03       	jr	NZ,l_game_hall_edit_p_00116
4644  19FE  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4645  1A01              l_game_hall_edit_p_00116:
4646  1A01  1A          	ld	a,(de)
4647  1A02  02          	ld	(bc),a
4648  1A03              l_game_hall_edit_p_00121:
4649  1A03  DD 4E 04    	ld	c,(ix+4)
4650  1A06  0C          	inc	c
4651  1A07  69          	ld	l,c
4652  1A08              l_game_hall_edit_p_00122:
4653  1A08  DD E1       	pop	ix
4654  1A0A  C9          	ret
4655  1A0B              ;	---------------------------------
4656  1A0B              ; Function game_hall_of_fame
4657  1A0B              ; ---------------------------------
4658  1A0B              _game_hall_of_fame:
4659  1A0B  CD 00 00    	call	_spr_draw_clear
4660  1A0E  AF          	xor	a, a
4661  1A0F  F5          	push	af
4662  1A10  33          	inc	sp
4663  1A11  CD B7 0D    	call	_game_paint_attrib
4664  1A14  33          	inc	sp
4665  1A15  21 9C 01    	ld	hl,0x019c
4666  1A18  E5          	push	hl
4667  1A19  21 06 18    	ld	hl,0x1806
4668  1A1C  E5          	push	hl
4669  1A1D  3E 10       	ld	a,0x10
4670  1A1F  F5          	push	af
4671  1A20  33          	inc	sp
4672  1A21  CD 1B 11    	call	_game_menu_e
4673  1A24  F1          	pop	af
4674  1A25  33          	inc	sp
4675  1A26  21 9F FF    	ld	hl,0xff9f
4676  1A29  E3          	ex	(sp),hl
4677  1A2A  21 06 18    	ld	hl,0x1806
4678  1A2D  E5          	push	hl
4679  1A2E  3E 98       	ld	a,0x98
4680  1A30  F5          	push	af
4681  1A31  33          	inc	sp
4682  1A32  CD 1B 11    	call	_game_menu_e
4683  1A35  F1          	pop	af
4684  1A36  F1          	pop	af
4685  1A37  33          	inc	sp
4686  1A38  21 00 00    	ld	hl,_s_lin1
4687  1A3B  36 00       	ld	(hl),0x00
4688  1A3D              l_game_hall_of_fame_00102:
4689  1A3D  21 00 00    	ld	hl,_screen_ink
4690  1A40  36 05       	ld	(hl),0x05
4691  1A42  2A 00 00    	ld	hl,(_s_lin1)
4692  1A45  26 00       	ld	h,0x00
4693  1A47  4D          	ld	c,l
4694  1A48  44          	ld	b,h
4695  1A49  29          	add	hl, hl
4696  1A4A  09          	add	hl, bc
4697  1A4B  29          	add	hl, hl
4698  1A4C  01 00 00    	ld	bc,_hof
4699  1A4F  09          	add	hl,bc
4700  1A50  3A 00 00    	ld	a,(_s_lin1)
4701  1A53  EB          	ex	de,hl
4702  1A54  C6 07       	add	a,0x07
4703  1A56  47          	ld	b,a
4704  1A57  D5          	push	de
4705  1A58  3E 0A       	ld	a,0x0a
4706  1A5A  48          	ld	c,b
4707  1A5B  47          	ld	b,a
4708  1A5C  C5          	push	bc
4709  1A5D  CD 00 00    	call	_zx_print_str
4710  1A60  2A 00 00    	ld	hl,(_s_lin1)
4711  1A63  26 00       	ld	h,0x00
4712  1A65  4D          	ld	c,l
4713  1A66  44          	ld	b,h
4714  1A67  29          	add	hl, hl
4715  1A68  09          	add	hl, bc
4716  1A69  29          	add	hl, hl
4717  1A6A  01 00 00    	ld	bc,_hof
4718  1A6D  09          	add	hl,bc
4719  1A6E  11 04 00    	ld	de,0x0004
4720  1A71  19          	add	hl, de
4721  1A72  5E          	ld	e,(hl)
4722  1A73  23          	inc	hl
4723  1A74  56          	ld	d,(hl)
4724  1A75  3A 00 00    	ld	a,(_s_lin1)
4725  1A78  C6 07       	add	a,0x07
4726  1A7A  47          	ld	b,a
4727  1A7B  D5          	push	de
4728  1A7C  3E 10       	ld	a,0x10
4729  1A7E  48          	ld	c,b
4730  1A7F  47          	ld	b,a
4731  1A80  C5          	push	bc
4732  1A81  CD 00 00    	call	_zx_print_int
4733  1A84  11 DD 1A    	ld	de,___str_49
4734  1A87  3A 00 00    	ld	a,(_s_lin1)
4735  1A8A  C6 07       	add	a,0x07
4736  1A8C  47          	ld	b,a
4737  1A8D  D5          	push	de
4738  1A8E  3E 0E       	ld	a,0x0e
4739  1A90  48          	ld	c,b
4740  1A91  47          	ld	b,a
4741  1A92  C5          	push	bc
4742  1A93  CD 00 00    	call	_zx_print_str
4743  1A96  11 DF 1A    	ld	de,___str_50
4744  1A99  3A 00 00    	ld	a,(_s_lin1)
4745  1A9C  C6 07       	add	a,0x07
4746  1A9E  47          	ld	b,a
4747  1A9F  D5          	push	de
4748  1AA0  3E 15       	ld	a,0x15
4749  1AA2  48          	ld	c,b
4750  1AA3  47          	ld	b,a
4751  1AA4  C5          	push	bc
4752  1AA5  CD 00 00    	call	_zx_print_str
4753  1AA8  21 00 00    	ld	hl,_s_lin1
4754  1AAB  34          	inc	(hl)
4755  1AAC  7E          	ld	a,(hl)
4756  1AAD  D6 0A       	sub	a,0x0a
4757  1AAF  38 8C       	jr	C,l_game_hall_of_fame_00102
4758  1AB1  21 E1 1A    	ld	hl,___str_51
4759  1AB4  E5          	push	hl
4760  1AB5  21 04 0A    	ld	hl,0x0a04
4761  1AB8  E5          	push	hl
4762  1AB9  CD 00 00    	call	_zx_print_str
4763  1ABC  21 F4 01    	ld	hl,0x01f4
4764  1ABF  E5          	push	hl
4765  1AC0  21 0A 16    	ld	hl,0x160a
4766  1AC3  E5          	push	hl
4767  1AC4  3E 04       	ld	a,0x04
4768  1AC6  F5          	push	af
4769  1AC7  33          	inc	sp
4770  1AC8  CD 0A 1B    	call	_game_colour_message
4771  1ACB  F1          	pop	af
4772  1ACC  F1          	pop	af
4773  1ACD  33          	inc	sp
4774  1ACE  CD 00 00    	call	_spr_draw_clear
4775  1AD1  21 00 00    	ld	hl,_game_menu_sel
4776  1AD4  36 00       	ld	(hl),0x00
4777  1AD6  21 00 00    	ld	hl,_pb_midi_title
4778  1AD9  CD 00 00    	call	_ay_midi_play
4779  1ADC  C9          	ret
4780  1ADD              ___str_49:
4781  1ADD  2D          	DEFM "-"
4782  1ADE  00          	DEFB 0x00
4783  1ADF              ___str_50:
4784  1ADF  30          	DEFM "0"
4785  1AE0  00          	DEFB 0x00
4786  1AE1              ___str_51:
4787  1AE1  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4788  1AED  00          	DEFB 0x00
4789  1AEE              ;	---------------------------------
4790  1AEE              ; Function game_rotate_attrib
4791  1AEE              ; ---------------------------------
4792  1AEE              _game_rotate_attrib:
4793  1AEE  01 03 00    	ld	bc,_attrib_hl + 3
4794  1AF1  0A          	ld	a,(bc)
4795  1AF2  32 00 00    	ld	(_tmp_uc),a
4796  1AF5  11 02 00    	ld	de,_attrib_hl + 2
4797  1AF8  1A          	ld	a,(de)
4798  1AF9  02          	ld	(bc),a
4799  1AFA  01 01 00    	ld	bc,_attrib_hl + 1
4800  1AFD  0A          	ld	a,(bc)
4801  1AFE  12          	ld	(de),a
4802  1AFF  3A 00 00    	ld	a,(_attrib_hl)
4803  1B02  02          	ld	(bc),a
4804  1B03  3A 00 00    	ld	a,(_tmp_uc)
4805  1B06  32 00 00    	ld	(_attrib_hl),a
4806  1B09  C9          	ret
4807  1B0A              ;	---------------------------------
4808  1B0A              ; Function game_colour_message
4809  1B0A              ; ---------------------------------
4810  1B0A              _game_colour_message:
4811  1B0A  CD 00 00    	call	___sdcc_enter_ix
4812  1B0D  3B          	dec	sp
4813  1B0E  21 00 00    	ld	hl,_tmp
4814  1B11  36 01       	ld	(hl),0x01
4815  1B13  2A 00 00    	ld	hl,(_curr_time)
4816  1B16  22 00 00    	ld	(_frame_time),hl
4817  1B19  2A 00 00    	ld	hl,(_curr_time)
4818  1B1C  22 00 00    	ld	(_entry_time),hl
4819  1B1F  DD 7E 04    	ld	a,(ix+4)
4820  1B22  07          	rlca
4821  1B23  07          	rlca
4822  1B24  07          	rlca
4823  1B25  E6 F8       	and	a,0xf8
4824  1B27  C6 08       	add	a,0x08
4825  1B29  DD 77 FF    	ld	(ix-1),a
4826  1B2C              l_game_colour_message_00107:
4827  1B2C  3A 00 00    	ld	a,(_tmp)
4828  1B2F  B7          	or	a, a
4829  1B30  28 66       	jr	Z,l_game_colour_message_00110
4830  1B32  DD 6E 07    	ld	l,(ix+7)
4831  1B35  DD 66 08    	ld	h,(ix+8)
4832  1B38  E5          	push	hl
4833  1B39  2A 00 00    	ld	hl,(_entry_time)
4834  1B3C  E5          	push	hl
4835  1B3D  CD 9C 1B    	call	_game_check_time
4836  1B40  F1          	pop	af
4837  1B41  F1          	pop	af
4838  1B42  7D          	ld	a,l
4839  1B43  B7          	or	a, a
4840  1B44  20 52       	jr	NZ,l_game_colour_message_00110
4841  1B46  21 05 00    	ld	hl,0x0005
4842  1B49  E5          	push	hl
4843  1B4A  2A 00 00    	ld	hl,(_frame_time)
4844  1B4D  E5          	push	hl
4845  1B4E  CD 9C 1B    	call	_game_check_time
4846  1B51  F1          	pop	af
4847  1B52  F1          	pop	af
4848  1B53  7D          	ld	a,l
4849  1B54  B7          	or	a, a
4850  1B55  28 1A       	jr	Z,l_game_colour_message_00103
4851  1B57  2A 00 00    	ld	hl,(_curr_time)
4852  1B5A  22 00 00    	ld	(_frame_time),hl
4853  1B5D  DD 66 FF    	ld	h,(ix-1)
4854  1B60  DD 6E 06    	ld	l,(ix+6)
4855  1B63  E5          	push	hl
4856  1B64  DD 7E 05    	ld	a,(ix+5)
4857  1B67  F5          	push	af
4858  1B68  33          	inc	sp
4859  1B69  CD 0E 0E    	call	_game_paint_attrib_lin_h
4860  1B6C  F1          	pop	af
4861  1B6D  33          	inc	sp
4862  1B6E  CD EE 1A    	call	_game_rotate_attrib
4863  1B71              l_game_colour_message_00103:
4864  1B71  21 00 00    	ld	hl,_k1
4865  1B74  E5          	push	hl
4866  1B75  2A 00 00    	ld	hl,(_joyfunc1)
4867  1B78  CD 00 00    	call	___sdcc_call_hl
4868  1B7B  E3          	ex	(sp),hl
4869  1B7C  21 00 00    	ld	hl,_k2
4870  1B7F  E5          	push	hl
4871  1B80  2A 00 00    	ld	hl,(_joyfunc2)
4872  1B83  CD 00 00    	call	___sdcc_call_hl
4873  1B86  F1          	pop	af
4874  1B87  EB          	ex	de,hl
4875  1B88  C1          	pop	bc
4876  1B89  79          	ld	a,c
4877  1B8A  B3          	or	a, e
4878  1B8B  4F          	ld	c,a
4879  1B8C  78          	ld	a,b
4880  1B8D  B2          	or	a, d
4881  1B8E  B1          	or	a,c
4882  1B8F  28 9B       	jr	Z,l_game_colour_message_00107
4883  1B91  21 00 00    	ld	hl,_tmp
4884  1B94  36 00       	ld	(hl),0x00
4885  1B96  18 D9       	jr	l_game_colour_message_00103
4886  1B98              l_game_colour_message_00110:
4887  1B98  33          	inc	sp
4888  1B99  DD E1       	pop	ix
4889  1B9B  C9          	ret
4890  1B9C              ;	---------------------------------
4891  1B9C              ; Function game_check_time
4892  1B9C              ; ---------------------------------
4893  1B9C              _game_check_time:
4894  1B9C  CD 00 00    	call	___sdcc_enter_ix
4895  1B9F  2A 00 00    	ld	hl,(_curr_time)
4896  1BA2  7D          	ld	a,l
4897  1BA3  DD 96 04    	sub	a,(ix+4)
4898  1BA6  4F          	ld	c,a
4899  1BA7  7C          	ld	a,h
4900  1BA8  DD 9E 05    	sbc	a,(ix+5)
4901  1BAB  47          	ld	b,a
4902  1BAC  DD 7E 06    	ld	a,(ix+6)
4903  1BAF  91          	sub	a, c
4904  1BB0  DD 7E 07    	ld	a,(ix+7)
4905  1BB3  98          	sbc	a, b
4906  1BB4  30 04       	jr	NC,l_game_check_time_00102
4907  1BB6  2E 01       	ld	l,0x01
4908  1BB8  18 02       	jr	l_game_check_time_00104
4909  1BBA              l_game_check_time_00102:
4910  1BBA  2E 00       	ld	l,0x00
4911  1BBC              l_game_check_time_00104:
4912  1BBC  DD E1       	pop	ix
4913  1BBE  C9          	ret
4914  1BBF              	SECTION IGNORE
4915  0000              
