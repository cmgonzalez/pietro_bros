1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9880 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_print_phase
184   0000              	GLOBAL _game_calc_index
185   0000              	GLOBAL _game_print_footer
186   0000              	GLOBAL _game_phase_print_score_back
187   0000              	GLOBAL _game_print_lives
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_start_timer
190   0000              	GLOBAL _game_phase_calc
191   0000              	GLOBAL _game_phase_init
192   0000              	GLOBAL _game_print_header
193   0000              	GLOBAL _game_phase_print
194   0000              	GLOBAL _game_loop
195   0000              	GLOBAL _game_score_osd
196   0000              	GLOBAL _game_bonus_clock
197   0000              	GLOBAL _game_bonus_summary
198   0000              	GLOBAL _game_bonus_summary_player
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_check_floor
201   0000              	GLOBAL _game_enemy_add
202   0000              	GLOBAL _game_enemy_quota
203   0000              	GLOBAL _game_enemy_rnd
204   0000              	GLOBAL _game_enemy_add1
205   0000              	GLOBAL _game_enemy_add_get_index
206   0000              	GLOBAL _game_freeze
207   0000              	GLOBAL _game_unfreeze_all
208   0000              	GLOBAL _game_freeze_all
209   0000              	GLOBAL _game_print_score
210   0000              	GLOBAL _game_paint_attrib
211   0000              	GLOBAL _game_paint_attrib_lin
212   0000              	GLOBAL _game_paint_attrib_lin_h
213   0000              	GLOBAL _game_menu_config
214   0000              	GLOBAL _game_joystick_change
215   0000              	GLOBAL _game_joystick_set_menu
216   0000              	GLOBAL _game_joystick_set
217   0000              	GLOBAL _game_menu
218   0000              	GLOBAL _game_menu_top_paint
219   0000              	GLOBAL _game_menu_paint
220   0000              	GLOBAL _game_menu_e
221   0000              	GLOBAL _game_menu_handle
222   0000              	GLOBAL _game_end
223   0000              	GLOBAL _game_hall_check
224   0000              	GLOBAL _game_hall_enter
225   0000              	GLOBAL _game_menu_back
226   0000              	GLOBAL _game_hall_enter_phs
227   0000              	GLOBAL _game_hall_print_p
228   0000              	GLOBAL _game_hall_edit_p
229   0000              	GLOBAL _game_hall_of_fame
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_colour_message
232   0000              	GLOBAL _game_check_time
233   0000              ;--------------------------------------------------------
234   0000              ; Externals used
235   0000              ;--------------------------------------------------------
236   0000              	GLOBAL _debug3
237   0000              	GLOBAL _debug2
238   0000              	GLOBAL _debug
239   0000              	GLOBAL _zx_print_str
240   0000              	GLOBAL _zx_print_int
241   0000              	GLOBAL _zx_print_chr
242   0000              	GLOBAL _zx_print_bonus_time
243   0000              	GLOBAL _zx_isr
244   0000              	GLOBAL _spr_mapfix
245   0000              	GLOBAL _spr_kill_all
246   0000              	GLOBAL _spr_collision_check
247   0000              	GLOBAL _spr_calc_hor
248   0000              	GLOBAL _spr_draw_row
249   0000              	GLOBAL _spr_draw_index
250   0000              	GLOBAL _spr_draw_clear
251   0000              	GLOBAL _spr_water_splash_draw
252   0000              	GLOBAL _spr_water_splash_clear
253   0000              	GLOBAL _spr_draw_background
254   0000              	GLOBAL _spr_cortina_brick
255   0000              	GLOBAL _spr_brick_anim
256   0000              	GLOBAL _spr_back_fix
257   0000              	GLOBAL _spr_back_paint
258   0000              	GLOBAL _spr_back_clr
259   0000              	GLOBAL _spr_draw_pow
260   0000              	GLOBAL _spr_tile
261   0000              	GLOBAL _spr_set_fall
262   0000              	GLOBAL _spr_destroy
263   0000              	GLOBAL _spr_check_over
264   0000              	GLOBAL _spr_tile_dir
265   0000              	GLOBAL _spr_anim_kill
266   0000              	GLOBAL _spr_anim_fall
267   0000              	GLOBAL _spr_killed
268   0000              	GLOBAL _spr_redraw
269   0000              	GLOBAL _spr_move_left
270   0000              	GLOBAL _spr_move_right
271   0000              	GLOBAL _spr_move_horizontal
272   0000              	GLOBAL _spr_move_down
273   0000              	GLOBAL _spr_move_up
274   0000              	GLOBAL _spr_chktime
275   0000              	GLOBAL _sound_hit_pow
276   0000              	GLOBAL _sound_hit_brick
277   0000              	GLOBAL _sound_hit_enemy
278   0000              	GLOBAL _sound_kill
279   0000              	GLOBAL _sound_enter_enemy
280   0000              	GLOBAL _sound_coin
281   0000              	GLOBAL _sound_jump
282   0000              	GLOBAL _sound_slide
283   0000              	GLOBAL _player_set
284   0000              	GLOBAL _player_move_horizontal
285   0000              	GLOBAL _player_push
286   0000              	GLOBAL _player_hit_brick_clear
287   0000              	GLOBAL _player_lost_life
288   0000              	GLOBAL _player_score_add
289   0000              	GLOBAL _player_coin
290   0000              	GLOBAL _player_hit_pow
291   0000              	GLOBAL _player_hit_brick
292   0000              	GLOBAL _player_move_input
293   0000              	GLOBAL _player_turn
294   0000              	GLOBAL _player_move
295   0000              	GLOBAL _player_restart
296   0000              	GLOBAL _player_kill
297   0000              	GLOBAL _player_check_input
298   0000              	GLOBAL _player_collision
299   0000              	GLOBAL _player_calc_slide
300   0000              	GLOBAL _player_init
301   0000              	GLOBAL _player_set2
302   0000              	GLOBAL _player_set1
303   0000              	GLOBAL _game_fill_row
304   0000              	GLOBAL _enemy_ugly_fix
305   0000              	GLOBAL _enemy_kill
306   0000              	GLOBAL _enemy_init
307   0000              	GLOBAL _enemy_walk
308   0000              	GLOBAL _enemy_upgrade
309   0000              	GLOBAL _enemy_evolve
310   0000              	GLOBAL _enemy_standard_hit
311   0000              	GLOBAL _enemy_trip_move
312   0000              	GLOBAL _enemy_trip
313   0000              	GLOBAL _enemy_fighterfly
314   0000              	GLOBAL _enemy_fireball_green
315   0000              	GLOBAL _enemy_fireball_red
316   0000              	GLOBAL _enemy_slipice
317   0000              	GLOBAL _enemy_standard
318   0000              	GLOBAL _enemy_turn
319   0000              	GLOBAL _enemy_flip_sidestepper
320   0000              	GLOBAL _enemy_flip
321   0000              	GLOBAL _enemy_flip_change_dir
322   0000              	GLOBAL _enemy_hit
323   0000              	GLOBAL _enemy_collision_turn_dir
324   0000              	GLOBAL _enemy_collision
325   0000              	GLOBAL _enemy_coin1
326   0000              	GLOBAL _ay_fx_play
327   0000              	GLOBAL _ay_midi_play
328   0000              	GLOBAL _ay_is_playing
329   0000              	GLOBAL _ay_reset
330   0000              	GLOBAL _in_mouse_kempston_wheel_delta
331   0000              	GLOBAL _in_mouse_kempston_wheel
332   0000              	GLOBAL _in_mouse_kempston_callee
333   0000              	GLOBAL _in_mouse_kempston
334   0000              	GLOBAL _in_mouse_kempston_setpos_callee
335   0000              	GLOBAL _in_mouse_kempston_setpos
336   0000              	GLOBAL _in_mouse_kempston_reset
337   0000              	GLOBAL _in_mouse_kempston_init
338   0000              	GLOBAL _in_mouse_amx_wheel_delta
339   0000              	GLOBAL _in_mouse_amx_wheel
340   0000              	GLOBAL _in_mouse_amx_callee
341   0000              	GLOBAL _in_mouse_amx
342   0000              	GLOBAL _in_mouse_amx_setpos_callee
343   0000              	GLOBAL _in_mouse_amx_setpos
344   0000              	GLOBAL _in_mouse_amx_reset
345   0000              	GLOBAL _in_mouse_amx_init_callee
346   0000              	GLOBAL _in_mouse_amx_init
347   0000              	GLOBAL _in_stick_sinclair2
348   0000              	GLOBAL _in_stick_sinclair1
349   0000              	GLOBAL _in_stick_kempston
350   0000              	GLOBAL _in_stick_fuller
351   0000              	GLOBAL _in_stick_cursor
352   0000              	GLOBAL _in_stick_keyboard_fastcall
353   0000              	GLOBAL _in_stick_keyboard
354   0000              	GLOBAL _in_wait_nokey
355   0000              	GLOBAL _in_wait_key
356   0000              	GLOBAL _in_test_key
357   0000              	GLOBAL _in_pause_fastcall
358   0000              	GLOBAL _in_pause
359   0000              	GLOBAL _in_key_scancode_fastcall
360   0000              	GLOBAL _in_key_scancode
361   0000              	GLOBAL _in_key_pressed_fastcall
362   0000              	GLOBAL _in_key_pressed
363   0000              	GLOBAL _in_inkey
364   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawTW_raw
366   0000              	GLOBAL _NIRVANAP_drawTW_callee
367   0000              	GLOBAL _NIRVANAP_drawTW
368   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
369   0000              	GLOBAL _NIRVANAP_drawW_raw
370   0000              	GLOBAL _NIRVANAP_drawW_callee
371   0000              	GLOBAL _NIRVANAP_drawW
372   0000              	GLOBAL _NIRVANAP_spriteT_callee
373   0000              	GLOBAL _NIRVANAP_spriteT
374   0000              	GLOBAL _NIRVANAP_fillC_callee
375   0000              	GLOBAL _NIRVANAP_fillC
376   0000              	GLOBAL _NIRVANAP_readC_callee
377   0000              	GLOBAL _NIRVANAP_readC
378   0000              	GLOBAL _NIRVANAP_paintC_callee
379   0000              	GLOBAL _NIRVANAP_paintC
380   0000              	GLOBAL _NIRVANAP_printC_callee
381   0000              	GLOBAL _NIRVANAP_printC
382   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
383   0000              	GLOBAL _NIRVANAP_fillT_raw
384   0000              	GLOBAL _NIRVANAP_fillT_callee
385   0000              	GLOBAL _NIRVANAP_fillT
386   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
387   0000              	GLOBAL _NIRVANAP_drawT_raw
388   0000              	GLOBAL _NIRVANAP_drawT_callee
389   0000              	GLOBAL _NIRVANAP_drawT
390   0000              	GLOBAL _NIRVANAP_stop
391   0000              	GLOBAL _NIRVANAP_start
392   0000              	GLOBAL _z80_otdr_callee
393   0000              	GLOBAL _z80_otdr
394   0000              	GLOBAL _z80_otir_callee
395   0000              	GLOBAL _z80_otir
396   0000              	GLOBAL _z80_outp_callee
397   0000              	GLOBAL _z80_outp
398   0000              	GLOBAL _z80_indr_callee
399   0000              	GLOBAL _z80_indr
400   0000              	GLOBAL _z80_inir_callee
401   0000              	GLOBAL _z80_inir
402   0000              	GLOBAL _z80_inp_fastcall
403   0000              	GLOBAL _z80_inp
404   0000              	GLOBAL _z80_set_int_state_fastcall
405   0000              	GLOBAL _z80_set_int_state
406   0000              	GLOBAL _z80_get_int_state
407   0000              	GLOBAL _z80_delay_tstate_fastcall
408   0000              	GLOBAL _z80_delay_tstate
409   0000              	GLOBAL _z80_delay_ms_fastcall
410   0000              	GLOBAL _z80_delay_ms
411   0000              	GLOBAL _im2_remove_generic_callback_callee
412   0000              	GLOBAL _im2_remove_generic_callback
413   0000              	GLOBAL _im2_prepend_generic_callback_callee
414   0000              	GLOBAL _im2_prepend_generic_callback
415   0000              	GLOBAL _im2_append_generic_callback_callee
416   0000              	GLOBAL _im2_append_generic_callback
417   0000              	GLOBAL _im2_create_generic_isr_8080_callee
418   0000              	GLOBAL _im2_create_generic_isr_8080
419   0000              	GLOBAL _im2_create_generic_isr_callee
420   0000              	GLOBAL _im2_create_generic_isr
421   0000              	GLOBAL _im2_install_isr_callee
422   0000              	GLOBAL _im2_install_isr
423   0000              	GLOBAL _im2_init_fastcall
424   0000              	GLOBAL _im2_init
425   0000              	GLOBAL _ffsll_callee
426   0000              	GLOBAL _ffsll
427   0000              	GLOBAL _strxfrm_callee
428   0000              	GLOBAL _strxfrm
429   0000              	GLOBAL _strupr_fastcall
430   0000              	GLOBAL _strupr
431   0000              	GLOBAL _strtok_r_callee
432   0000              	GLOBAL _strtok_r
433   0000              	GLOBAL _strtok_callee
434   0000              	GLOBAL _strtok
435   0000              	GLOBAL _strstrip_fastcall
436   0000              	GLOBAL _strstrip
437   0000              	GLOBAL _strstr_callee
438   0000              	GLOBAL _strstr
439   0000              	GLOBAL _strspn_callee
440   0000              	GLOBAL _strspn
441   0000              	GLOBAL _strsep_callee
442   0000              	GLOBAL _strsep
443   0000              	GLOBAL _strrstrip_fastcall
444   0000              	GLOBAL _strrstrip
445   0000              	GLOBAL _strrspn_callee
446   0000              	GLOBAL _strrspn
447   0000              	GLOBAL _strrev_fastcall
448   0000              	GLOBAL _strrev
449   0000              	GLOBAL _strrcspn_callee
450   0000              	GLOBAL _strrcspn
451   0000              	GLOBAL _strrchr_callee
452   0000              	GLOBAL _strrchr
453   0000              	GLOBAL _strpbrk_callee
454   0000              	GLOBAL _strpbrk
455   0000              	GLOBAL _strnlen_callee
456   0000              	GLOBAL _strnlen
457   0000              	GLOBAL _strnicmp_callee
458   0000              	GLOBAL _strnicmp
459   0000              	GLOBAL _strndup_callee
460   0000              	GLOBAL _strndup
461   0000              	GLOBAL _strncpy_callee
462   0000              	GLOBAL _strncpy
463   0000              	GLOBAL _strncmp_callee
464   0000              	GLOBAL _strncmp
465   0000              	GLOBAL _strnchr_callee
466   0000              	GLOBAL _strnchr
467   0000              	GLOBAL _strncat_callee
468   0000              	GLOBAL _strncat
469   0000              	GLOBAL _strncasecmp_callee
470   0000              	GLOBAL _strncasecmp
471   0000              	GLOBAL _strlwr_fastcall
472   0000              	GLOBAL _strlwr
473   0000              	GLOBAL _strlen_fastcall
474   0000              	GLOBAL _strlen
475   0000              	GLOBAL _strlcpy_callee
476   0000              	GLOBAL _strlcpy
477   0000              	GLOBAL _strlcat_callee
478   0000              	GLOBAL _strlcat
479   0000              	GLOBAL _stricmp_callee
480   0000              	GLOBAL _stricmp
481   0000              	GLOBAL _strerror_fastcall
482   0000              	GLOBAL _strerror
483   0000              	GLOBAL _strdup_fastcall
484   0000              	GLOBAL _strdup
485   0000              	GLOBAL _strcspn_callee
486   0000              	GLOBAL _strcspn
487   0000              	GLOBAL _strcpy_callee
488   0000              	GLOBAL _strcpy
489   0000              	GLOBAL _strcoll_callee
490   0000              	GLOBAL _strcoll
491   0000              	GLOBAL _strcmp_callee
492   0000              	GLOBAL _strcmp
493   0000              	GLOBAL _strchrnul_callee
494   0000              	GLOBAL _strchrnul
495   0000              	GLOBAL _strchr_callee
496   0000              	GLOBAL _strchr
497   0000              	GLOBAL _strcat_callee
498   0000              	GLOBAL _strcat
499   0000              	GLOBAL _strcasecmp_callee
500   0000              	GLOBAL _strcasecmp
501   0000              	GLOBAL _stpncpy_callee
502   0000              	GLOBAL _stpncpy
503   0000              	GLOBAL _stpcpy_callee
504   0000              	GLOBAL _stpcpy
505   0000              	GLOBAL _memswap_callee
506   0000              	GLOBAL _memswap
507   0000              	GLOBAL _memset_callee
508   0000              	GLOBAL _memset
509   0000              	GLOBAL _memrchr_callee
510   0000              	GLOBAL _memrchr
511   0000              	GLOBAL _memmove_callee
512   0000              	GLOBAL _memmove
513   0000              	GLOBAL _memmem_callee
514   0000              	GLOBAL _memmem
515   0000              	GLOBAL _memcpy_callee
516   0000              	GLOBAL _memcpy
517   0000              	GLOBAL _memcmp_callee
518   0000              	GLOBAL _memcmp
519   0000              	GLOBAL _memchr_callee
520   0000              	GLOBAL _memchr
521   0000              	GLOBAL _memccpy_callee
522   0000              	GLOBAL _memccpy
523   0000              	GLOBAL _ffsl_fastcall
524   0000              	GLOBAL _ffsl
525   0000              	GLOBAL _ffs_fastcall
526   0000              	GLOBAL _ffs
527   0000              	GLOBAL __strrstrip__fastcall
528   0000              	GLOBAL __strrstrip_
529   0000              	GLOBAL __memupr__callee
530   0000              	GLOBAL __memupr_
531   0000              	GLOBAL __memstrcpy__callee
532   0000              	GLOBAL __memstrcpy_
533   0000              	GLOBAL __memlwr__callee
534   0000              	GLOBAL __memlwr_
535   0000              	GLOBAL _rawmemchr_callee
536   0000              	GLOBAL _rawmemchr
537   0000              	GLOBAL _strnset_callee
538   0000              	GLOBAL _strnset
539   0000              	GLOBAL _strset_callee
540   0000              	GLOBAL _strset
541   0000              	GLOBAL _rindex_callee
542   0000              	GLOBAL _rindex
543   0000              	GLOBAL _index_callee
544   0000              	GLOBAL _index
545   0000              	GLOBAL _bzero_callee
546   0000              	GLOBAL _bzero
547   0000              	GLOBAL _bcopy_callee
548   0000              	GLOBAL _bcopy
549   0000              	GLOBAL _bcmp_callee
550   0000              	GLOBAL _bcmp
551   0000              	GLOBAL _ulltoa_callee
552   0000              	GLOBAL _ulltoa
553   0000              	GLOBAL _strtoull_callee
554   0000              	GLOBAL _strtoull
555   0000              	GLOBAL _strtoll_callee
556   0000              	GLOBAL _strtoll
557   0000              	GLOBAL _lltoa_callee
558   0000              	GLOBAL _lltoa
559   0000              	GLOBAL _llabs_callee
560   0000              	GLOBAL _llabs
561   0000              	GLOBAL __lldivu__callee
562   0000              	GLOBAL __lldivu_
563   0000              	GLOBAL __lldiv__callee
564   0000              	GLOBAL __lldiv_
565   0000              	GLOBAL _atoll_callee
566   0000              	GLOBAL _atoll
567   0000              	GLOBAL _realloc_unlocked_callee
568   0000              	GLOBAL _realloc_unlocked
569   0000              	GLOBAL _malloc_unlocked_fastcall
570   0000              	GLOBAL _malloc_unlocked
571   0000              	GLOBAL _free_unlocked_fastcall
572   0000              	GLOBAL _free_unlocked
573   0000              	GLOBAL _calloc_unlocked_callee
574   0000              	GLOBAL _calloc_unlocked
575   0000              	GLOBAL _aligned_alloc_unlocked_callee
576   0000              	GLOBAL _aligned_alloc_unlocked
577   0000              	GLOBAL _realloc_callee
578   0000              	GLOBAL _realloc
579   0000              	GLOBAL _malloc_fastcall
580   0000              	GLOBAL _malloc
581   0000              	GLOBAL _free_fastcall
582   0000              	GLOBAL _free
583   0000              	GLOBAL _calloc_callee
584   0000              	GLOBAL _calloc
585   0000              	GLOBAL _aligned_alloc_callee
586   0000              	GLOBAL _aligned_alloc
587   0000              	GLOBAL _utoa_callee
588   0000              	GLOBAL _utoa
589   0000              	GLOBAL _ultoa_callee
590   0000              	GLOBAL _ultoa
591   0000              	GLOBAL _system_fastcall
592   0000              	GLOBAL _system
593   0000              	GLOBAL _strtoul_callee
594   0000              	GLOBAL _strtoul
595   0000              	GLOBAL _strtol_callee
596   0000              	GLOBAL _strtol
597   0000              	GLOBAL _strtof_callee
598   0000              	GLOBAL _strtof
599   0000              	GLOBAL _strtod_callee
600   0000              	GLOBAL _strtod
601   0000              	GLOBAL _srand_fastcall
602   0000              	GLOBAL _srand
603   0000              	GLOBAL _rand
604   0000              	GLOBAL _quick_exit_fastcall
605   0000              	GLOBAL _quick_exit
606   0000              	GLOBAL _qsort_callee
607   0000              	GLOBAL _qsort
608   0000              	GLOBAL _ltoa_callee
609   0000              	GLOBAL _ltoa
610   0000              	GLOBAL _labs_fastcall
611   0000              	GLOBAL _labs
612   0000              	GLOBAL _itoa_callee
613   0000              	GLOBAL _itoa
614   0000              	GLOBAL _ftoh_callee
615   0000              	GLOBAL _ftoh
616   0000              	GLOBAL _ftog_callee
617   0000              	GLOBAL _ftog
618   0000              	GLOBAL _ftoe_callee
619   0000              	GLOBAL _ftoe
620   0000              	GLOBAL _ftoa_callee
621   0000              	GLOBAL _ftoa
622   0000              	GLOBAL _exit_fastcall
623   0000              	GLOBAL _exit
624   0000              	GLOBAL _dtoh_callee
625   0000              	GLOBAL _dtoh
626   0000              	GLOBAL _dtog_callee
627   0000              	GLOBAL _dtog
628   0000              	GLOBAL _dtoe_callee
629   0000              	GLOBAL _dtoe
630   0000              	GLOBAL _dtoa_callee
631   0000              	GLOBAL _dtoa
632   0000              	GLOBAL _bsearch_callee
633   0000              	GLOBAL _bsearch
634   0000              	GLOBAL _atol_fastcall
635   0000              	GLOBAL _atol
636   0000              	GLOBAL _atoi_fastcall
637   0000              	GLOBAL _atoi
638   0000              	GLOBAL _atof_fastcall
639   0000              	GLOBAL _atof
640   0000              	GLOBAL _atexit_fastcall
641   0000              	GLOBAL _atexit
642   0000              	GLOBAL _at_quick_exit_fastcall
643   0000              	GLOBAL _at_quick_exit
644   0000              	GLOBAL _abs_fastcall
645   0000              	GLOBAL _abs
646   0000              	GLOBAL _abort
647   0000              	GLOBAL __strtou__callee
648   0000              	GLOBAL __strtou_
649   0000              	GLOBAL __strtoi__callee
650   0000              	GLOBAL __strtoi_
651   0000              	GLOBAL __random_uniform_xor_8__fastcall
652   0000              	GLOBAL __random_uniform_xor_8_
653   0000              	GLOBAL __random_uniform_xor_32__fastcall
654   0000              	GLOBAL __random_uniform_xor_32_
655   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
656   0000              	GLOBAL __random_uniform_cmwc_8_
657   0000              	GLOBAL __shellsort__callee
658   0000              	GLOBAL __shellsort_
659   0000              	GLOBAL __quicksort__callee
660   0000              	GLOBAL __quicksort_
661   0000              	GLOBAL __insertion_sort__callee
662   0000              	GLOBAL __insertion_sort_
663   0000              	GLOBAL __ldivu__callee
664   0000              	GLOBAL __ldivu_
665   0000              	GLOBAL __ldiv__callee
666   0000              	GLOBAL __ldiv_
667   0000              	GLOBAL __divu__callee
668   0000              	GLOBAL __divu_
669   0000              	GLOBAL __div__callee
670   0000              	GLOBAL __div_
671   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
672   0000              	GLOBAL _intrinsic_swap_word_32
673   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
674   0000              	GLOBAL _intrinsic_swap_endian_32
675   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
676   0000              	GLOBAL _intrinsic_swap_endian_16
677   0000              	GLOBAL _intrinsic_return_de
678   0000              	GLOBAL _intrinsic_return_bc
679   0000              	GLOBAL _intrinsic_exx
680   0000              	GLOBAL _intrinsic_ex_de_hl
681   0000              	GLOBAL _intrinsic_nop
682   0000              	GLOBAL _intrinsic_im_2
683   0000              	GLOBAL _intrinsic_im_1
684   0000              	GLOBAL _intrinsic_im_0
685   0000              	GLOBAL _intrinsic_retn
686   0000              	GLOBAL _intrinsic_reti
687   0000              	GLOBAL _intrinsic_halt
688   0000              	GLOBAL _intrinsic_ei
689   0000              	GLOBAL _intrinsic_di
690   0000              	GLOBAL _intrinsic_stub
691   0000              	GLOBAL _zx_pattern_fill_callee
692   0000              	GLOBAL _zx_pattern_fill
693   0000              	GLOBAL _zx_saddrpup_fastcall
694   0000              	GLOBAL _zx_saddrpup
695   0000              	GLOBAL _zx_saddrpright_callee
696   0000              	GLOBAL _zx_saddrpright
697   0000              	GLOBAL _zx_saddrpleft_callee
698   0000              	GLOBAL _zx_saddrpleft
699   0000              	GLOBAL _zx_saddrpdown_fastcall
700   0000              	GLOBAL _zx_saddrpdown
701   0000              	GLOBAL _zx_saddrcup_fastcall
702   0000              	GLOBAL _zx_saddrcup
703   0000              	GLOBAL _zx_saddrcright_fastcall
704   0000              	GLOBAL _zx_saddrcright
705   0000              	GLOBAL _zx_saddrcleft_fastcall
706   0000              	GLOBAL _zx_saddrcleft
707   0000              	GLOBAL _zx_saddrcdown_fastcall
708   0000              	GLOBAL _zx_saddrcdown
709   0000              	GLOBAL _zx_saddr2py_fastcall
710   0000              	GLOBAL _zx_saddr2py
711   0000              	GLOBAL _zx_saddr2px_fastcall
712   0000              	GLOBAL _zx_saddr2px
713   0000              	GLOBAL _zx_saddr2cy_fastcall
714   0000              	GLOBAL _zx_saddr2cy
715   0000              	GLOBAL _zx_saddr2cx_fastcall
716   0000              	GLOBAL _zx_saddr2cx
717   0000              	GLOBAL _zx_saddr2aaddr_fastcall
718   0000              	GLOBAL _zx_saddr2aaddr
719   0000              	GLOBAL _zx_py2saddr_fastcall
720   0000              	GLOBAL _zx_py2saddr
721   0000              	GLOBAL _zx_py2aaddr_fastcall
722   0000              	GLOBAL _zx_py2aaddr
723   0000              	GLOBAL _zx_pxy2saddr_callee
724   0000              	GLOBAL _zx_pxy2saddr
725   0000              	GLOBAL _zx_pxy2aaddr_callee
726   0000              	GLOBAL _zx_pxy2aaddr
727   0000              	GLOBAL _zx_px2bitmask_fastcall
728   0000              	GLOBAL _zx_px2bitmask
729   0000              	GLOBAL _zx_cyx2saddr_callee
730   0000              	GLOBAL _zx_cyx2saddr
731   0000              	GLOBAL _zx_cyx2aaddr_callee
732   0000              	GLOBAL _zx_cyx2aaddr
733   0000              	GLOBAL _zx_cy2saddr_fastcall
734   0000              	GLOBAL _zx_cy2saddr
735   0000              	GLOBAL _zx_cy2aaddr_fastcall
736   0000              	GLOBAL _zx_cy2aaddr
737   0000              	GLOBAL _zx_bitmask2px_fastcall
738   0000              	GLOBAL _zx_bitmask2px
739   0000              	GLOBAL _zx_aaddrcup_fastcall
740   0000              	GLOBAL _zx_aaddrcup
741   0000              	GLOBAL _zx_aaddrcright_fastcall
742   0000              	GLOBAL _zx_aaddrcright
743   0000              	GLOBAL _zx_aaddrcleft_fastcall
744   0000              	GLOBAL _zx_aaddrcleft
745   0000              	GLOBAL _zx_aaddrcdown_fastcall
746   0000              	GLOBAL _zx_aaddrcdown
747   0000              	GLOBAL _zx_aaddr2saddr_fastcall
748   0000              	GLOBAL _zx_aaddr2saddr
749   0000              	GLOBAL _zx_aaddr2py_fastcall
750   0000              	GLOBAL _zx_aaddr2py
751   0000              	GLOBAL _zx_aaddr2px_fastcall
752   0000              	GLOBAL _zx_aaddr2px
753   0000              	GLOBAL _zx_aaddr2cy_fastcall
754   0000              	GLOBAL _zx_aaddr2cy
755   0000              	GLOBAL _zx_aaddr2cx_fastcall
756   0000              	GLOBAL _zx_aaddr2cx
757   0000              	GLOBAL _zx_scroll_wc_up_callee
758   0000              	GLOBAL _zx_scroll_wc_up
759   0000              	GLOBAL _zx_scroll_up_callee
760   0000              	GLOBAL _zx_scroll_up
761   0000              	GLOBAL _zx_cls_wc_callee
762   0000              	GLOBAL _zx_cls_wc
763   0000              	GLOBAL _zx_cls_fastcall
764   0000              	GLOBAL _zx_cls
765   0000              	GLOBAL _zx_border_fastcall
766   0000              	GLOBAL _zx_border
767   0000              	GLOBAL _game_hlt_cnt
768   0000              	GLOBAL _joynames
769   0000              	GLOBAL _initials
770   0000              	GLOBAL _hof
771   0000              	GLOBAL _score_osd_tile
772   0000              	GLOBAL _score_osd_update_time
773   0000              	GLOBAL _score_osd_col
774   0000              	GLOBAL _score_osd_lin
775   0000              	GLOBAL _phase_bonus_total
776   0000              	GLOBAL _phase_angry
777   0000              	GLOBAL _phase_curr
778   0000              	GLOBAL _phase_end
779   0000              	GLOBAL _phase_coins
780   0000              	GLOBAL _phase_pop
781   0000              	GLOBAL _phase_tot
782   0000              	GLOBAL _phase_left
783   0000              	GLOBAL _phase_quota
784   0000              	GLOBAL _phases
785   0000              	GLOBAL _lvl_1
786   0000              	GLOBAL _sprite_speed_alt
787   0000              	GLOBAL _sprite_speed
788   0000              	GLOBAL _screen_ink
789   0000              	GLOBAL _screen_paper
790   0000              	GLOBAL _game_menu_sel
791   0000              	GLOBAL _game_type
792   0000              	GLOBAL _game_osd
793   0000              	GLOBAL _game_bonus
794   0000              	GLOBAL _spr_water_time
795   0000              	GLOBAL _spr_water_clear
796   0000              	GLOBAL _game_time_fireball_start
797   0000              	GLOBAL _game_time_flipped
798   0000              	GLOBAL _game_score_top
799   0000              	GLOBAL _game_lives
800   0000              	GLOBAL _game_over
801   0000              	GLOBAL _game_sound
802   0000              	GLOBAL _game_inmune
803   0000              	GLOBAL _game_god_mode
804   0000              	GLOBAL _game_start_phase
805   0000              	GLOBAL _game_two_player
806   0000              	GLOBAL _game_brick_tile
807   0000              	GLOBAL _game_pow
808   0000              	GLOBAL _game_ugly_fix_cnt
809   0000              	GLOBAL _spr_count
810   0000              	GLOBAL _osd_show_time
811   0000              	GLOBAL _osd_update_time
812   0000              	GLOBAL _frame_time
813   0000              	GLOBAL _entry_time
814   0000              	GLOBAL _curr_time
815   0000              	GLOBAL _s_state
816   0000              	GLOBAL _attrib_hl
817   0000              	GLOBAL _attrib
818   0000              	GLOBAL _zx_val_asm
819   0000              	GLOBAL _enemies
820   0000              	GLOBAL _tmp_ui
821   0000              	GLOBAL _tmp_sc
822   0000              	GLOBAL _tmp_uc
823   0000              	GLOBAL _tmp1
824   0000              	GLOBAL _tmp0
825   0000              	GLOBAL _tmp
826   0000              	GLOBAL _index3
827   0000              	GLOBAL _index2
828   0000              	GLOBAL _index1
829   0000              	GLOBAL _loop_count
830   0000              	GLOBAL _sprite_lin_inc_mul
831   0000              	GLOBAL _s_col1
832   0000              	GLOBAL _s_col0
833   0000              	GLOBAL _s_lin1
834   0000              	GLOBAL _s_lin0
835   0000              	GLOBAL _s_tile1
836   0000              	GLOBAL _s_tile0
837   0000              	GLOBAL _hit_count
838   0000              	GLOBAL _tile_offset_other_player
839   0000              	GLOBAL _tile_offset
840   0000              	GLOBAL _index_player
841   0000              	GLOBAL _sprite_other_player
842   0000              	GLOBAL _sprite
843   0000              	GLOBAL _player_joy
844   0000              	GLOBAL _player_next_extra
845   0000              	GLOBAL _player_score
846   0000              	GLOBAL _last_time
847   0000              	GLOBAL _sliding
848   0000              	GLOBAL _spr_timer
849   0000              	GLOBAL _jump_lin
850   0000              	GLOBAL _player_jump_c
851   0000              	GLOBAL _hit_col
852   0000              	GLOBAL _hit_lin
853   0000              	GLOBAL _colint
854   0000              	GLOBAL _col
855   0000              	GLOBAL _lin
856   0000              	GLOBAL _tile
857   0000              	GLOBAL _state_a
858   0000              	GLOBAL _state
859   0000              	GLOBAL _class
860   0000              	GLOBAL _tbuffer
861   0000              	GLOBAL _dirs
862   0000              	GLOBAL _k2
863   0000              	GLOBAL _k1
864   0000              	GLOBAL _joyfunc2
865   0000              	GLOBAL _joyfunc1
866   0000              	GLOBAL _btiles
867   0000              	GLOBAL _spec128
868   0000              	GLOBAL _ay_effect_20
869   0000              	GLOBAL _ay_effect_19
870   0000              	GLOBAL _ay_effect_18
871   0000              	GLOBAL _ay_effect_17
872   0000              	GLOBAL _ay_effect_16
873   0000              	GLOBAL _ay_effect_15
874   0000              	GLOBAL _ay_effect_14
875   0000              	GLOBAL _ay_effect_13
876   0000              	GLOBAL _ay_effect_12
877   0000              	GLOBAL _ay_effect_11
878   0000              	GLOBAL _ay_effect_10
879   0000              	GLOBAL _ay_effect_09
880   0000              	GLOBAL _ay_effect_08
881   0000              	GLOBAL _ay_effect_07
882   0000              	GLOBAL _ay_effect_06
883   0000              	GLOBAL _ay_effect_05
884   0000              	GLOBAL _ay_effect_04
885   0000              	GLOBAL _ay_effect_03
886   0000              	GLOBAL _ay_effect_02
887   0000              	GLOBAL _ay_effect_01
888   0000              	GLOBAL _pb_midi_phase_1
889   0000              	GLOBAL _pb_midi_title
890   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
891   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
892   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
893   0000              	GLOBAL _NIRVANAP_HOLE
894   0000              	GLOBAL _NIRVANAP_ISR_HOOK
895   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
896   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
897   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
898   0000              	GLOBAL _control_method
899   0000              	GLOBAL _hall_valids
900   0000              ;--------------------------------------------------------
901   0000              ; special function registers
902   0000              ;--------------------------------------------------------
903   0000              defc _IO_FE	=	0x00fe
904   0000              defc _IO_1FFD	=	0x1ffd
905   0000              defc _IO_7FFD	=	0x7ffd
906   0000              ;--------------------------------------------------------
907   0000              ; ram data
908   0000              ;--------------------------------------------------------
909   0000              	SECTION bss_compiler
910   0000              ;--------------------------------------------------------
911   0000              ; ram data
912   0000              ;--------------------------------------------------------
913   0000              
914   0000              IF 0
915   0000              
916   0000              ; .area _INITIALIZED removed by z88dk
917   0000              
918   0000              
919   0000              ENDIF
920   0000              
921   0000              ;--------------------------------------------------------
922   0000              ; absolute external ram data
923   0000              ;--------------------------------------------------------
924   0000              	SECTION IGNORE
925   0000              ;--------------------------------------------------------
926   0000              ; global & static initialisations
927   0000              ;--------------------------------------------------------
928   0000              	SECTION code_crt_init
929   0000              ;--------------------------------------------------------
930   0000              ; Home
931   0000              ;--------------------------------------------------------
932   0000              	SECTION IGNORE
933   0000              ;--------------------------------------------------------
934   0000              ; code
935   0000              ;--------------------------------------------------------
936   0000              	SECTION code_compiler
937   0000              ;	---------------------------------
938   0000              ; Function game_calc_index
939   0000              ; ---------------------------------
940   0000              _game_calc_index:
941   0000  CD 00 00    	call	___sdcc_enter_ix
942   0003  DD 4E 05    	ld	c,(ix+5)
943   0006  06 00       	ld	b,0x00
944   0008  DD 7E 04    	ld	a,(ix+4)
945   000B  0F          	rrca
946   000C  0F          	rrca
947   000D  0F          	rrca
948   000E  E6 1F       	and	a,0x1f
949   0010  6F          	ld	l,a
950   0011  26 00       	ld	h,0x00
951   0013  29          	add	hl, hl
952   0014  29          	add	hl, hl
953   0015  29          	add	hl, hl
954   0016  29          	add	hl, hl
955   0017  29          	add	hl, hl
956   0018  09          	add	hl,bc
957   0019  DD E1       	pop	ix
958   001B  C9          	ret
959   001C              	SECTION code_compiler
960   001C              ;	---------------------------------
961   001C              ; Function game_print_footer
962   001C              ; ---------------------------------
963   001C              _game_print_footer:
964   001C  21 00 00    	ld	hl,___str_0
965   001F  E5          	push	hl
966   0020  21 16 01    	ld	hl,0x0116
967   0023  E5          	push	hl
968   0024  CD 00 00    	call	_zx_print_str
969   0027  21 00 00    	ld	hl,___str_0
970   002A  E5          	push	hl
971   002B  21 16 1E    	ld	hl,0x1e16
972   002E  E5          	push	hl
973   002F  CD 00 00    	call	_zx_print_str
974   0032  21 02 00    	ld	hl,___str_1
975   0035  E5          	push	hl
976   0036  21 17 01    	ld	hl,0x0117
977   0039  E5          	push	hl
978   003A  CD 00 00    	call	_zx_print_str
979   003D  21 02 00    	ld	hl,___str_1
980   0040  E5          	push	hl
981   0041  21 17 1E    	ld	hl,0x1e17
982   0044  E5          	push	hl
983   0045  CD 00 00    	call	_zx_print_str
984   0048  3A 00 00    	ld	a,(_game_lives)
985   004B  B7          	or	a, a
986   004C  28 20       	jr	Z,l_game_print_footer_00102
987   004E  21 00 00    	ld	hl,_screen_ink
988   0051  36 02       	ld	(hl),0x02
989   0053  21 08 00    	ld	hl,___str_2
990   0056  E5          	push	hl
991   0057  21 16 01    	ld	hl,0x0116
992   005A  E5          	push	hl
993   005B  CD 00 00    	call	_zx_print_str
994   005E  21 00 00    	ld	hl,_screen_ink
995   0061  36 06       	ld	(hl),0x06
996   0063  21 0A 00    	ld	hl,___str_3
997   0066  E5          	push	hl
998   0067  21 17 01    	ld	hl,0x0117
999   006A  E5          	push	hl
1000  006B  CD 00 00    	call	_zx_print_str
1001  006E              l_game_print_footer_00102:
1002  006E  3A 01 00    	ld	a, (_game_lives + 1)
1003  0071  B7          	or	a, a
1004  0072  28 20       	jr	Z,l_game_print_footer_00104
1005  0074  21 00 00    	ld	hl,_screen_ink
1006  0077  36 07       	ld	(hl),0x07
1007  0079  21 0C 00    	ld	hl,___str_4
1008  007C  E5          	push	hl
1009  007D  21 16 1E    	ld	hl,0x1e16
1010  0080  E5          	push	hl
1011  0081  CD 00 00    	call	_zx_print_str
1012  0084  21 00 00    	ld	hl,_screen_ink
1013  0087  36 06       	ld	(hl),0x06
1014  0089  21 0E 00    	ld	hl,___str_5
1015  008C  E5          	push	hl
1016  008D  21 17 1E    	ld	hl,0x1e17
1017  0090  E5          	push	hl
1018  0091  CD 00 00    	call	_zx_print_str
1019  0094              l_game_print_footer_00104:
1020  0094  CD CE 00    	call	_game_print_lives
1021  0097  C9          	ret
1022  0098              	SECTION rodata_compiler
1023  0000              ___str_0:
1024  0000  20          	DEFM " "
1025  0001  00          	DEFB 0x00
1026  0002              	SECTION rodata_compiler
1027  0002              ___str_1:
1028  0002  20 20 20 20 20 
                        	DEFM "     "
1029  0007  00          	DEFB 0x00
1030  0008              	SECTION rodata_compiler
1031  0008              ___str_2:
1032  0008  3C          	DEFM "<"
1033  0009  00          	DEFB 0x00
1034  000A              	SECTION rodata_compiler
1035  000A              ___str_3:
1036  000A  5C          	DEFB 0x5c
1037  000B  00          	DEFB 0x00
1038  000C              	SECTION rodata_compiler
1039  000C              ___str_4:
1040  000C  3E          	DEFM ">"
1041  000D  00          	DEFB 0x00
1042  000E              	SECTION rodata_compiler
1043  000E              ___str_5:
1044  000E  5E          	DEFM "^"
1045  000F  00          	DEFB 0x00
1046  0010              	SECTION code_compiler
1047  0098              ;	---------------------------------
1048  0098              ; Function game_phase_print_score_back
1049  0098              ; ---------------------------------
1050  0098              _game_phase_print_score_back:
1051  0098  21 00 00    	ld	hl,_screen_ink
1052  009B  36 02       	ld	(hl),0x02
1053  009D  21 10 00    	ld	hl,___str_6
1054  00A0  E5          	push	hl
1055  00A1  21 00 0B    	ld	hl,0x0b00
1056  00A4  E5          	push	hl
1057  00A5  CD 00 00    	call	_zx_print_str
1058  00A8  21 00 00    	ld	hl,_screen_ink
1059  00AB  36 01       	ld	(hl),0x01
1060  00AD  21 14 00    	ld	hl,___str_7
1061  00B0  E5          	push	hl
1062  00B1  21 00 01    	ld	hl,0x0100
1063  00B4  E5          	push	hl
1064  00B5  CD 00 00    	call	_zx_print_str
1065  00B8  3A 00 00    	ld	a,(_game_two_player)
1066  00BB  B7          	or	a, a
1067  00BC  C8          	ret	Z
1068  00BD  21 00 00    	ld	hl,_screen_ink
1069  00C0  36 04       	ld	(hl),0x04
1070  00C2  21 17 00    	ld	hl,___str_8
1071  00C5  E5          	push	hl
1072  00C6  21 00 16    	ld	hl,0x1600
1073  00C9  E5          	push	hl
1074  00CA  CD 00 00    	call	_zx_print_str
1075  00CD  C9          	ret
1076  00CE              	SECTION rodata_compiler
1077  0010              ___str_6:
1078  0010  24 25 7C    	DEFM "$%|"
1079  0013  00          	DEFB 0x00
1080  0014              	SECTION rodata_compiler
1081  0014              ___str_7:
1082  0014  5B 7C       	DEFM "[|"
1083  0016  00          	DEFB 0x00
1084  0017              	SECTION rodata_compiler
1085  0017              ___str_8:
1086  0017  5D 7C       	DEFM "]|"
1087  0019  00          	DEFB 0x00
1088  001A              	SECTION code_compiler
1089  00CE              ;	---------------------------------
1090  00CE              ; Function game_print_lives
1091  00CE              ; ---------------------------------
1092  00CE              _game_print_lives:
1093  00CE  21 00 00    	ld	hl,_screen_ink
1094  00D1  36 07       	ld	(hl),0x07
1095  00D3  3A 00 00    	ld	a,(_game_lives)
1096  00D6  C6 FF       	add	a,0xff
1097  00D8  21 00 00    	ld	hl,_tmp
1098  00DB  77          	ld	(hl),a
1099  00DC  D6 FF       	sub	a,0xff
1100  00DE  30 0A       	jr	NC,l_game_print_lives_00102
1101  00E0  7E          	ld	a,(hl)
1102  00E1  F5          	push	af
1103  00E2  33          	inc	sp
1104  00E3  21 17 03    	ld	hl,0x0317
1105  00E6  E5          	push	hl
1106  00E7  CD 00 00    	call	_zx_print_chr
1107  00EA              l_game_print_lives_00102:
1108  00EA  3A 01 00    	ld	a, (_game_lives + 1)
1109  00ED  C6 FF       	add	a,0xff
1110  00EF  21 00 00    	ld	hl,_tmp
1111  00F2  77          	ld	(hl),a
1112  00F3  D6 FF       	sub	a,0xff
1113  00F5  D0          	ret	NC
1114  00F6  7E          	ld	a,(hl)
1115  00F7  F5          	push	af
1116  00F8  33          	inc	sp
1117  00F9  21 17 1A    	ld	hl,0x1a17
1118  00FC  E5          	push	hl
1119  00FD  CD 00 00    	call	_zx_print_chr
1120  0100  C9          	ret
1121  0101              	SECTION code_compiler
1122  0101              ;	---------------------------------
1123  0101              ; Function game_tick
1124  0101              ; ---------------------------------
1125  0101              _game_tick:
1126  0101  21 00 00    	ld	hl,_curr_time
1127  0104  34          	inc	(hl)
1128  0105  C2 00 00    	jp	NZ,_zx_isr
1129  0108  23          	inc	hl
1130  0109  34          	inc	(hl)
1131  010A  C3 00 00    	jp  _zx_isr
1132  010D              	SECTION code_compiler
1133  010D              ;	---------------------------------
1134  010D              ; Function game_start_timer
1135  010D              ; ---------------------------------
1136  010D              _game_start_timer:
1137  010D  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1138  0110  36 CD       	ld	(hl),0xcd
1139  0112  23          	inc	hl
1140  0113  11 01 01    	ld	de,_game_tick
1141  0116  73          	ld	(hl), e
1142  0117  23          	inc	hl
1143  0118  72          	ld	(hl), d
1144  0119  C9          	ret
1145  011A              	SECTION code_compiler
1146  011A              ;	---------------------------------
1147  011A              ; Function game_phase_calc
1148  011A              ; ---------------------------------
1149  011A              _game_phase_calc:
1150  011A  3A 00 00    	ld	a,(_phase_curr)
1151  011D  87          	add	a, a
1152  011E  87          	add	a, a
1153  011F  21 00 00    	ld	hl,_tmp_uc
1154  0122  77          	ld	(hl),a
1155  0123  01 00 00    	ld	bc,_phases+0
1156  0126  5E          	ld	e,(hl)
1157  0127  16 00       	ld	d,0x00
1158  0129  69          	ld	l, c
1159  012A  60          	ld	h, b
1160  012B  19          	add	hl,de
1161  012C  7E          	ld	a,(hl)
1162  012D  32 00 00    	ld	(_phase_quota),a
1163  0130  2A 00 00    	ld	hl,(_tmp_uc)
1164  0133  26 00       	ld	h,0x00
1165  0135  23          	inc	hl
1166  0136  09          	add	hl,bc
1167  0137  7E          	ld	a,(hl)
1168  0138  32 01 00    	ld	((_phase_quota + 0x0001)),a
1169  013B  2A 00 00    	ld	hl,(_tmp_uc)
1170  013E  26 00       	ld	h,0x00
1171  0140  23          	inc	hl
1172  0141  23          	inc	hl
1173  0142  09          	add	hl,bc
1174  0143  7E          	ld	a,(hl)
1175  0144  32 02 00    	ld	((_phase_quota + 0x0002)),a
1176  0147  2A 00 00    	ld	hl,(_tmp_uc)
1177  014A  26 00       	ld	h,0x00
1178  014C  23          	inc	hl
1179  014D  23          	inc	hl
1180  014E  23          	inc	hl
1181  014F  09          	add	hl,bc
1182  0150  7E          	ld	a,(hl)
1183  0151  32 00 00    	ld	(_game_brick_tile),a
1184  0154  D6 8B       	sub	a,0x8b
1185  0156  20 05       	jr	NZ,l_game_phase_calc_00102
1186  0158  CD A3 0C    	call	_game_freeze_all
1187  015B  18 03       	jr	l_game_phase_calc_00103
1188  015D              l_game_phase_calc_00102:
1189  015D  CD 7A 0C    	call	_game_unfreeze_all
1190  0160              l_game_phase_calc_00103:
1191  0160  21 00 00    	ld	hl,_phase_quota
1192  0163  4E          	ld	c,(hl)
1193  0164  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1194  0167  46          	ld	b,(hl)
1195  0168  79          	ld	a,c
1196  0169  80          	add	a, b
1197  016A  4F          	ld	c,a
1198  016B  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1199  016E  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1200  0170  09          	add	hl, bc
1201  0171  C9          	ret
1202  0172              	SECTION code_compiler
1203  0172              ;	---------------------------------
1204  0172              ; Function game_phase_init
1205  0172              ; ---------------------------------
1206  0172              _game_phase_init:
1207  0172  21 00 00    	ld	hl,0x0000
1208  0175  22 00 00    	ld	(_loop_count),hl
1209  0178  21 00 00    	ld	hl,_phase_end
1210  017B  36 00       	ld	(hl),0x00
1211  017D  21 00 00    	ld	hl,_phase_angry
1212  0180  36 00       	ld	(hl),0x00
1213  0182  21 00 00    	ld	hl,_phase_coins
1214  0185  36 00       	ld	(hl),0x00
1215  0187  21 00 00    	ld	hl,_phase_pop
1216  018A  36 00       	ld	(hl),0x00
1217  018C  21 00 00    	ld	hl,_game_bonus
1218  018F  36 00       	ld	(hl),0x00
1219  0191  21 00 00    	ld	hl,0x0000
1220  0194  22 00 00    	ld	(_entry_time),hl
1221  0197  21 00 00    	ld	hl,0
1222  019A  22 00 00    	ld	(_curr_time),hl
1223  019D  21 00 00    	ld	hl,0x0000
1224  01A0  22 00 00    	ld	(_frame_time),hl
1225  01A3  21 FF FF    	ld	hl,0xffff
1226  01A6  22 00 00    	ld	(_score_osd_col),hl
1227  01A9  21 00 00    	ld	hl,_spr_count
1228  01AC  36 00       	ld	(hl),0x00
1229  01AE  21 00 00    	ld	hl,_game_ugly_fix_cnt
1230  01B1  36 00       	ld	(hl),0x00
1231  01B3  3A 00 00    	ld	a,(_game_type)
1232  01B6  D6 02       	sub	a,0x02
1233  01B8  CA 44 02    	jp	Z,l_game_phase_init_00104
1234  01BB  CD 1A 01    	call	_game_phase_calc
1235  01BE  7D          	ld	a,l
1236  01BF  32 00 00    	ld	(_phase_left),a
1237  01C2  32 00 00    	ld	(_phase_tot),a
1238  01C5  21 00 00    	ld	hl,_phase_left
1239  01C8  7E          	ld	a,(hl)
1240  01C9  B7          	or	a, a
1241  01CA  C2 56 02    	jp	NZ,l_game_phase_init_00105
1242  01CD  01 00 00    	ld	bc,_phase_bonus_total+0
1243  01D0  AF          	xor	a, a
1244  01D1  02          	ld	(bc),a
1245  01D2  03          	inc	bc
1246  01D3  AF          	xor	a, a
1247  01D4  02          	ld	(bc),a
1248  01D5  36 06       	ld	(hl),0x06
1249  01D7  21 00 00    	ld	hl,_game_bonus
1250  01DA  36 01       	ld	(hl),0x01
1251  01DC  21 0C 00    	ld	hl,0x000c
1252  01DF  E5          	push	hl
1253  01E0  21 90 08    	ld	hl,0x0890
1254  01E3  E5          	push	hl
1255  01E4  AF          	xor	a, a
1256  01E5  F5          	push	af
1257  01E6  33          	inc	sp
1258  01E7  CD 00 00    	call	_enemy_init
1259  01EA  F1          	pop	af
1260  01EB  33          	inc	sp
1261  01EC  21 0C 00    	ld	hl,0x000c
1262  01EF  E3          	ex	(sp),hl
1263  01F0  21 90 16    	ld	hl,0x1690
1264  01F3  E5          	push	hl
1265  01F4  3E 01       	ld	a,0x01
1266  01F6  F5          	push	af
1267  01F7  33          	inc	sp
1268  01F8  CD 00 00    	call	_enemy_init
1269  01FB  F1          	pop	af
1270  01FC  33          	inc	sp
1271  01FD  21 0C 00    	ld	hl,0x000c
1272  0200  E3          	ex	(sp),hl
1273  0201  21 50 06    	ld	hl,0x0650
1274  0204  E5          	push	hl
1275  0205  3E 02       	ld	a,0x02
1276  0207  F5          	push	af
1277  0208  33          	inc	sp
1278  0209  CD 00 00    	call	_enemy_init
1279  020C  F1          	pop	af
1280  020D  33          	inc	sp
1281  020E  21 0C 00    	ld	hl,0x000c
1282  0211  E3          	ex	(sp),hl
1283  0212  21 50 18    	ld	hl,0x1850
1284  0215  E5          	push	hl
1285  0216  3E 03       	ld	a,0x03
1286  0218  F5          	push	af
1287  0219  33          	inc	sp
1288  021A  CD 00 00    	call	_enemy_init
1289  021D  F1          	pop	af
1290  021E  33          	inc	sp
1291  021F  21 0C 00    	ld	hl,0x000c
1292  0222  E3          	ex	(sp),hl
1293  0223  21 10 05    	ld	hl,0x0510
1294  0226  E5          	push	hl
1295  0227  3E 04       	ld	a,0x04
1296  0229  F5          	push	af
1297  022A  33          	inc	sp
1298  022B  CD 00 00    	call	_enemy_init
1299  022E  F1          	pop	af
1300  022F  33          	inc	sp
1301  0230  21 0C 00    	ld	hl,0x000c
1302  0233  E3          	ex	(sp),hl
1303  0234  21 10 19    	ld	hl,0x1910
1304  0237  E5          	push	hl
1305  0238  3E 05       	ld	a,0x05
1306  023A  F5          	push	af
1307  023B  33          	inc	sp
1308  023C  CD 00 00    	call	_enemy_init
1309  023F  F1          	pop	af
1310  0240  F1          	pop	af
1311  0241  33          	inc	sp
1312  0242  18 12       	jr	l_game_phase_init_00105
1313  0244              l_game_phase_init_00104:
1314  0244  21 00 00    	ld	hl,_phase_left
1315  0247  36 FF       	ld	(hl),0xff
1316  0249  21 00 00    	ld	hl,_phase_curr
1317  024C  36 FF       	ld	(hl),0xff
1318  024E  CD 7A 0C    	call	_game_unfreeze_all
1319  0251  21 00 00    	ld	hl,_game_brick_tile
1320  0254  36 84       	ld	(hl),0x84
1321  0256              l_game_phase_init_00105:
1322  0256  CD 00 00    	call	_ay_reset
1323  0259  3A 00 00    	ld	a,(_game_bonus)
1324  025C  B7          	or	a, a
1325  025D  20 06       	jr	NZ,l_game_phase_init_00107
1326  025F  21 00 00    	ld	hl,_pb_midi_phase_1
1327  0262  CD 00 00    	call	_ay_midi_play
1328  0265              l_game_phase_init_00107:
1329  0265  CD 00 00    	call	_spr_draw_clear
1330  0268  21 00 00    	ld	hl,0x0000
1331  026B  CD 00 00    	call	_zx_cls_fastcall
1332  026E  CD 00 00    	call	_spr_draw_background
1333  0271  CD AC 02    	call	_game_print_header
1334  0274  CD 1C 00    	call	_game_print_footer
1335  0277  3A 00 00    	ld	a,(_game_lives)
1336  027A  B7          	or	a, a
1337  027B  28 0D       	jr	Z,l_game_phase_init_00109
1338  027D  21 0A 03    	ld	hl,0x030a
1339  0280  E5          	push	hl
1340  0281  21 07 98    	ld	hl,0x9807
1341  0284  E5          	push	hl
1342  0285  CD 00 00    	call	_player_init
1343  0288  F1          	pop	af
1344  0289  F1          	pop	af
1345  028A              l_game_phase_init_00109:
1346  028A  3A 01 00    	ld	a, (_game_lives + 1)
1347  028D  B7          	or	a, a
1348  028E  28 0D       	jr	Z,l_game_phase_init_00111
1349  0290  21 14 27    	ld	hl,0x2714
1350  0293  E5          	push	hl
1351  0294  21 06 98    	ld	hl,0x9806
1352  0297  E5          	push	hl
1353  0298  CD 00 00    	call	_player_init
1354  029B  F1          	pop	af
1355  029C  F1          	pop	af
1356  029D              l_game_phase_init_00111:
1357  029D  21 00 00    	ld	hl,_game_osd
1358  02A0  36 01       	ld	(hl),0x01
1359  02A2  2A 00 00    	ld	hl,(_curr_time)
1360  02A5  22 00 00    	ld	(_osd_update_time),hl
1361  02A8  22 00 00    	ld	(_osd_show_time),hl
1362  02AB  C9          	ret
1363  02AC              	SECTION code_compiler
1364  02AC              ;	---------------------------------
1365  02AC              ; Function game_print_header
1366  02AC              ; ---------------------------------
1367  02AC              _game_print_header:
1368  02AC  CD 98 00    	call	_game_phase_print_score_back
1369  02AF  21 00 00    	ld	hl,_screen_ink
1370  02B2  36 07       	ld	(hl),0x07
1371  02B4  C3 CC 0C    	jp  _game_print_score
1372  02B7              	SECTION code_compiler
1373  02B7              ;	---------------------------------
1374  02B7              ; Function game_phase_print
1375  02B7              ; ---------------------------------
1376  02B7              _game_phase_print:
1377  02B7  45          	ld	b,l
1378  02B8  C5          	push	bc
1379  02B9  21 1A 00    	ld	hl,___str_9
1380  02BC  E5          	push	hl
1381  02BD  3E 0B       	ld	a,0x0b
1382  02BF  48          	ld	c,b
1383  02C0  47          	ld	b,a
1384  02C1  C5          	push	bc
1385  02C2  CD 00 00    	call	_zx_print_str
1386  02C5  C1          	pop	bc
1387  02C6  3A 00 00    	ld	a,(_phase_curr)
1388  02C9  D6 1F       	sub	a,0x1f
1389  02CB  30 3F       	jr	NC,l_game_phase_print_00108
1390  02CD  3A 00 00    	ld	a,(_game_bonus)
1391  02D0  B7          	or	a, a
1392  02D1  20 2B       	jr	NZ,l_game_phase_print_00102
1393  02D3  C5          	push	bc
1394  02D4  21 20 00    	ld	hl,___str_10
1395  02D7  E5          	push	hl
1396  02D8  3E 10       	ld	a,0x10
1397  02DA  48          	ld	c,b
1398  02DB  47          	ld	b,a
1399  02DC  C5          	push	bc
1400  02DD  CD 00 00    	call	_zx_print_str
1401  02E0  C1          	pop	bc
1402  02E1  21 00 00    	ld	hl,_phase_curr
1403  02E4  56          	ld	d,(hl)
1404  02E5  14          	inc	d
1405  02E6  C5          	push	bc
1406  02E7  1E 12       	ld	e,0x12
1407  02E9  D5          	push	de
1408  02EA  C5          	push	bc
1409  02EB  33          	inc	sp
1410  02EC  CD 00 00    	call	_zx_print_chr
1411  02EF  C1          	pop	bc
1412  02F0  21 20 00    	ld	hl,___str_10
1413  02F3  E5          	push	hl
1414  02F4  3E 15       	ld	a,0x15
1415  02F6  48          	ld	c,b
1416  02F7  47          	ld	b,a
1417  02F8  C5          	push	bc
1418  02F9  CD 00 00    	call	_zx_print_str
1419  02FC  18 2F       	jr	l_game_phase_print_00110
1420  02FE              l_game_phase_print_00102:
1421  02FE  21 23 00    	ld	hl,___str_11
1422  0301  E5          	push	hl
1423  0302  3E 11       	ld	a,0x11
1424  0304  48          	ld	c,b
1425  0305  47          	ld	b,a
1426  0306  C5          	push	bc
1427  0307  CD 00 00    	call	_zx_print_str
1428  030A  18 21       	jr	l_game_phase_print_00110
1429  030C              l_game_phase_print_00108:
1430  030C  3A 00 00    	ld	a,(_game_type)
1431  030F  D6 02       	sub	a,0x02
1432  0311  28 0E       	jr	Z,l_game_phase_print_00105
1433  0313  21 2A 00    	ld	hl,___str_12
1434  0316  E5          	push	hl
1435  0317  3E 11       	ld	a,0x11
1436  0319  48          	ld	c,b
1437  031A  47          	ld	b,a
1438  031B  C5          	push	bc
1439  031C  CD 00 00    	call	_zx_print_str
1440  031F  18 0C       	jr	l_game_phase_print_00110
1441  0321              l_game_phase_print_00105:
1442  0321  21 31 00    	ld	hl,___str_13
1443  0324  E5          	push	hl
1444  0325  3E 11       	ld	a,0x11
1445  0327  48          	ld	c,b
1446  0328  47          	ld	b,a
1447  0329  C5          	push	bc
1448  032A  CD 00 00    	call	_zx_print_str
1449  032D              l_game_phase_print_00110:
1450  032D  C9          	ret
1451  032E              	SECTION rodata_compiler
1452  001A              ___str_9:
1453  001A  50 48 41 53 45 
                        	DEFM "PHASE"
1454  001F  00          	DEFB 0x00
1455  0020              	SECTION rodata_compiler
1456  0020              ___str_10:
1457  0020  20 20       	DEFM "  "
1458  0022  00          	DEFB 0x00
1459  0023              	SECTION rodata_compiler
1460  0023              ___str_11:
1461  0023  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1462  0029  00          	DEFB 0x00
1463  002A              	SECTION rodata_compiler
1464  002A              ___str_12:
1465  002A  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1466  0030  00          	DEFB 0x00
1467  0031              	SECTION rodata_compiler
1468  0031              ___str_13:
1469  0031  52 41 4E 44 20 20 
                        	DEFM "RAND  "
1470  0037  00          	DEFB 0x00
1471  0038              	SECTION code_compiler
1472  032E              ;	---------------------------------
1473  032E              ; Function game_loop
1474  032E              ; ---------------------------------
1475  032E              _game_loop:
1476  032E  21 15 20    	ld	hl,0x2015
1477  0331  E5          	push	hl
1478  0332  CD 00 00    	call	_game_fill_row
1479  0335  21 16 20    	ld	hl,0x2016
1480  0338  E5          	push	hl
1481  0339  CD 00 00    	call	_game_fill_row
1482  033C  21 17 20    	ld	hl,0x2017
1483  033F  E5          	push	hl
1484  0340  CD 00 00    	call	_game_fill_row
1485  0343  21 00 00    	ld	hl,_screen_ink
1486  0346  36 03       	ld	(hl),0x03
1487  0348  21 38 00    	ld	hl,___str_14
1488  034B  E5          	push	hl
1489  034C  21 16 06    	ld	hl,0x0616
1490  034F  E5          	push	hl
1491  0350  CD 00 00    	call	_zx_print_str
1492  0353  21 00 00    	ld	hl,_ay_effect_10
1493  0356  CD 00 00    	call	_ay_fx_play
1494  0359  CD 00 00    	call	_sound_coin
1495  035C  21 C8 00    	ld	hl,0x00c8
1496  035F  CD 00 00    	call	_z80_delay_ms_fastcall
1497  0362  21 16 20    	ld	hl,0x2016
1498  0365  E5          	push	hl
1499  0366  CD 00 00    	call	_game_fill_row
1500  0369  CD 00 00    	call	_ay_reset
1501  036C  21 8C 8C    	ld	hl,0x8c8c
1502  036F  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1503  0372  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1504  0375  21 00 00    	ld	hl,_game_lives+0
1505  0378  36 04       	ld	(hl),0x04
1506  037A  23          	inc	hl
1507  037B  3A 00 00    	ld	a,(_game_two_player)
1508  037E  B7          	or	a,a
1509  037F  4D          	ld	c,l
1510  0380  44          	ld	b,h
1511  0381  28 05       	jr	Z,l_game_loop_00102
1512  0383  3E 04       	ld	a,0x04
1513  0385  02          	ld	(bc),a
1514  0386  18 02       	jr	l_game_loop_00103
1515  0388              l_game_loop_00102:
1516  0388  AF          	xor	a, a
1517  0389  02          	ld	(bc),a
1518  038A              l_game_loop_00103:
1519  038A  21 00 00    	ld	hl,0x0000
1520  038D  22 00 00    	ld	(_player_score), hl
1521  0390  2E 00       	ld	l,0x00
1522  0392  22 02 00    	ld	(_player_score + 0x0002),hl
1523  0395  21 D0 07    	ld	hl,0x07d0
1524  0398  22 00 00    	ld	(_player_next_extra), hl
1525  039B  2E D0       	ld	l,0xd0
1526  039D  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1527  03A0  21 00 00    	ld	hl,_spr_water_clear
1528  03A3  36 FF       	ld	(hl),0xff
1529  03A5  3A 00 00    	ld	a,(_game_type)
1530  03A8  B7          	or	a, a
1531  03A9  20 0E       	jr	NZ,l_game_loop_00105
1532  03AB  21 F4 01    	ld	hl,0x01f4
1533  03AE  22 00 00    	ld	(_game_time_flipped),hl
1534  03B1  21 D0 07    	ld	hl,0x07d0
1535  03B4  22 00 00    	ld	(_game_time_fireball_start),hl
1536  03B7  18 0C       	jr	l_game_loop_00106
1537  03B9              l_game_loop_00105:
1538  03B9  21 FA 00    	ld	hl,0x00fa
1539  03BC  22 00 00    	ld	(_game_time_flipped),hl
1540  03BF  21 F4 01    	ld	hl,0x01f4
1541  03C2  22 00 00    	ld	(_game_time_fireball_start),hl
1542  03C5              l_game_loop_00106:
1543  03C5  21 00 00    	ld	hl,_game_over
1544  03C8  36 00       	ld	(hl),0x00
1545  03CA  21 00 00    	ld	hl,_game_pow
1546  03CD  36 03       	ld	(hl),0x03
1547  03CF  3A 00 00    	ld	a,(_game_start_phase)
1548  03D2  32 00 00    	ld	(_phase_curr),a
1549  03D5  CD 72 01    	call	_game_phase_init
1550  03D8  21 00 00    	ld	hl,_sprite_lin_inc_mul
1551  03DB  36 00       	ld	(hl),0x00
1552  03DD  21 00 00    	ld	hl,_dirs
1553  03E0  36 00       	ld	(hl),0x00
1554  03E2  CD 6E 0F    	call	_game_joystick_set
1555  03E5              l_game_loop_00136:
1556  03E5  3A 00 00    	ld	a,(_game_over)
1557  03E8  B7          	or	a, a
1558  03E9  C2 19 05    	jp	NZ,l_game_loop_00138
1559  03EC  CD 00 00    	call	_spr_mapfix
1560  03EF  3A 00 00    	ld	a,(_loop_count)
1561  03F2  E6 03       	and	a,0x03
1562  03F4  20 12       	jr	NZ,l_game_loop_00108
1563  03F6  CD 00 00    	call	_spr_draw_pow
1564  03F9  AF          	xor	a, a
1565  03FA  F5          	push	af
1566  03FB  33          	inc	sp
1567  03FC  CD A1 05    	call	_game_score_osd
1568  03FF  33          	inc	sp
1569  0400  3E 01       	ld	a,0x01
1570  0402  F5          	push	af
1571  0403  33          	inc	sp
1572  0404  CD A1 05    	call	_game_score_osd
1573  0407  33          	inc	sp
1574  0408              l_game_loop_00108:
1575  0408  21 00 18    	ld	hl,0x1800
1576  040B  E5          	push	hl
1577  040C  21 06 00    	ld	hl,0x0006
1578  040F  E5          	push	hl
1579  0410  3E 07       	ld	a,0x07
1580  0412  F5          	push	af
1581  0413  33          	inc	sp
1582  0414  CD 00 00    	call	_player_set
1583  0417  F1          	pop	af
1584  0418  F1          	pop	af
1585  0419  33          	inc	sp
1586  041A  CD 00 00    	call	_player_turn
1587  041D  21 18 00    	ld	hl,0x0018
1588  0420  E5          	push	hl
1589  0421  21 07 01    	ld	hl,0x0107
1590  0424  E5          	push	hl
1591  0425  3E 06       	ld	a,0x06
1592  0427  F5          	push	af
1593  0428  33          	inc	sp
1594  0429  CD 00 00    	call	_player_set
1595  042C  F1          	pop	af
1596  042D  F1          	pop	af
1597  042E  33          	inc	sp
1598  042F  CD 00 00    	call	_player_turn
1599  0432  CD 00 00    	call	_enemy_turn
1600  0435  3A 00 00    	ld	a,(_game_bonus)
1601  0438  B7          	or	a, a
1602  0439  28 16       	jr	Z,l_game_loop_00113
1603  043B  CD 68 06    	call	_game_bonus_clock
1604  043E  3A 00 00    	ld	a,(_phase_left)
1605  0441  B7          	or	a, a
1606  0442  28 0D       	jr	Z,l_game_loop_00113
1607  0444  CD 00 00    	call	_ay_is_playing
1608  0447  7D          	ld	a,l
1609  0448  B7          	or	a, a
1610  0449  20 06       	jr	NZ,l_game_loop_00113
1611  044B  21 00 00    	ld	hl,_ay_effect_19
1612  044E  CD 00 00    	call	_ay_fx_play
1613  0451              l_game_loop_00113:
1614  0451  3A 00 00    	ld	a,(_game_osd)
1615  0454  B7          	or	a, a
1616  0455  28 53       	jr	Z,l_game_loop_00121
1617  0457  21 05 00    	ld	hl,0x0005
1618  045A  E5          	push	hl
1619  045B  2A 00 00    	ld	hl,(_osd_update_time)
1620  045E  E5          	push	hl
1621  045F  CD 46 1A    	call	_game_check_time
1622  0462  F1          	pop	af
1623  0463  F1          	pop	af
1624  0464  7D          	ld	a,l
1625  0465  B7          	or	a, a
1626  0466  28 1B       	jr	Z,l_game_loop_00115
1627  0468  2A 00 00    	ld	hl,(_curr_time)
1628  046B  22 00 00    	ld	(_osd_update_time),hl
1629  046E  2E 0C       	ld	l,0x0c
1630  0470  CD B7 02    	call	_game_phase_print
1631  0473  21 17 68    	ld	hl,0x6817
1632  0476  E5          	push	hl
1633  0477  3E 0B       	ld	a,0x0b
1634  0479  F5          	push	af
1635  047A  33          	inc	sp
1636  047B  CD 48 0D    	call	_game_paint_attrib_lin_h
1637  047E  F1          	pop	af
1638  047F  33          	inc	sp
1639  0480  CD 98 19    	call	_game_rotate_attrib
1640  0483              l_game_loop_00115:
1641  0483  21 96 00    	ld	hl,0x0096
1642  0486  E5          	push	hl
1643  0487  2A 00 00    	ld	hl,(_osd_show_time)
1644  048A  E5          	push	hl
1645  048B  CD 46 1A    	call	_game_check_time
1646  048E  F1          	pop	af
1647  048F  F1          	pop	af
1648  0490  7D          	ld	a,l
1649  0491  B7          	or	a, a
1650  0492  28 16       	jr	Z,l_game_loop_00121
1651  0494  21 0C 20    	ld	hl,0x200c
1652  0497  E5          	push	hl
1653  0498  CD 00 00    	call	_game_fill_row
1654  049B  21 00 00    	ld	hl,_game_osd
1655  049E  36 00       	ld	(hl),0x00
1656  04A0  21 00 00    	ld	hl,_game_bonus
1657  04A3  7E          	ld	a,(hl)
1658  04A4  B7          	or	a, a
1659  04A5  20 03       	jr	NZ,l_game_loop_00121
1660  04A7  CD 87 05    	call	_game_print_phase
1661  04AA              l_game_loop_00121:
1662  04AA  CD 00 00    	call	_spr_water_splash_clear
1663  04AD  21 64 00    	ld	hl,0x0064
1664  04B0  E5          	push	hl
1665  04B1  2A 00 00    	ld	hl,(_frame_time)
1666  04B4  E5          	push	hl
1667  04B5  CD 46 1A    	call	_game_check_time
1668  04B8  F1          	pop	af
1669  04B9  F1          	pop	af
1670  04BA  7D          	ld	a,l
1671  04BB  B7          	or	a, a
1672  04BC  28 4F       	jr	Z,l_game_loop_00135
1673  04BE  2A 00 00    	ld	hl,(_curr_time)
1674  04C1  22 00 00    	ld	(_frame_time),hl
1675  04C4  3A 00 00    	ld	a,(_game_bonus)
1676  04C7  B7          	or	a,a
1677  04C8  20 03       	jr	NZ,l_game_loop_00123
1678  04CA  CD 07 09    	call	_game_enemy_add
1679  04CD              l_game_loop_00123:
1680  04CD  3A 00 00    	ld	a,(_phase_end)
1681  04D0  3D          	dec	a
1682  04D1  20 3A       	jr	NZ,l_game_loop_00135
1683  04D3  3A 00 00    	ld	a,(_game_type)
1684  04D6  D6 02       	sub	a,0x02
1685  04D8  28 33       	jr	Z,l_game_loop_00135
1686  04DA  CD 00 00    	call	_ay_is_playing
1687  04DD  7D          	ld	a, l
1688  04DE  D6 02       	sub	a,0x02
1689  04E0  30 03       	jr	NC,l_game_loop_00125
1690  04E2  CD 00 00    	call	_ay_reset
1691  04E5              l_game_loop_00125:
1692  04E5  CD 00 00    	call	_spr_kill_all
1693  04E8  3A 00 00    	ld	a,(_game_bonus)
1694  04EB  B7          	or	a, a
1695  04EC  28 03       	jr	Z,l_game_loop_00127
1696  04EE  CD DF 06    	call	_game_bonus_summary
1697  04F1              l_game_loop_00127:
1698  04F1  21 00 00    	ld	hl,_phase_curr
1699  04F4  34          	inc	(hl)
1700  04F5  3E 1F       	ld	a,0x1f
1701  04F7  96          	sub	a, (hl)
1702  04F8  30 0A       	jr	NC,l_game_loop_00129
1703  04FA  CD 88 12    	call	_game_end
1704  04FD  21 00 00    	ld	hl,_game_over
1705  0500  36 01       	ld	(hl),0x01
1706  0502  18 09       	jr	l_game_loop_00135
1707  0504              l_game_loop_00129:
1708  0504  21 90 01    	ld	hl,0x0190
1709  0507  CD 00 00    	call	_z80_delay_ms_fastcall
1710  050A  CD 72 01    	call	_game_phase_init
1711  050D              l_game_loop_00135:
1712  050D  21 00 00    	ld	hl,_loop_count
1713  0510  34          	inc	(hl)
1714  0511  C2 E5 03    	jp	NZ,l_game_loop_00136
1715  0514  23          	inc	hl
1716  0515  34          	inc	(hl)
1717  0516  C3 E5 03    	jp	l_game_loop_00136
1718  0519              l_game_loop_00138:
1719  0519  3A 00 00    	ld	a,(_score_osd_col)
1720  051C  47          	ld	b,a
1721  051D  3C          	inc	a
1722  051E  28 0C       	jr	Z,l_game_loop_00140
1723  0520  21 00 00    	ld	hl,_score_osd_lin
1724  0523  4E          	ld	c, (hl)
1725  0524  C5          	push	bc
1726  0525  3E A9       	ld	a,0xa9
1727  0527  F5          	push	af
1728  0528  33          	inc	sp
1729  0529  CD 00 00    	call	_NIRVANAP_drawT_callee
1730  052C              l_game_loop_00140:
1731  052C  3A 01 00    	ld	a,(_score_osd_col + 1)
1732  052F  47          	ld	b,a
1733  0530  3C          	inc	a
1734  0531  28 0C       	jr	Z,l_game_loop_00142
1735  0533  21 01 00    	ld	hl,+(_score_osd_lin + 0x0001)
1736  0536  4E          	ld	c, (hl)
1737  0537  C5          	push	bc
1738  0538  3E A9       	ld	a,0xa9
1739  053A  F5          	push	af
1740  053B  33          	inc	sp
1741  053C  CD 00 00    	call	_NIRVANAP_drawT_callee
1742  053F              l_game_loop_00142:
1743  053F  CD 00 00    	call	_spr_kill_all
1744  0542  21 90 01    	ld	hl,0x0190
1745  0545  CD 00 00    	call	_z80_delay_ms_fastcall
1746  0548  76          	halt
1747  0549  CD 00 00    	call	_spr_draw_background
1748  054C  CD AC 02    	call	_game_print_header
1749  054F  CD 1C 00    	call	_game_print_footer
1750  0552  CD 87 05    	call	_game_print_phase
1751  0555  21 4D 00    	ld	hl,___str_15
1752  0558  E5          	push	hl
1753  0559  21 08 0B    	ld	hl,0x0b08
1754  055C  E5          	push	hl
1755  055D  CD 00 00    	call	_zx_print_str
1756  0560  21 C8 00    	ld	hl,0x00c8
1757  0563  E5          	push	hl
1758  0564  21 0B 15    	ld	hl,0x150b
1759  0567  E5          	push	hl
1760  0568  3E 08       	ld	a,0x08
1761  056A  F5          	push	af
1762  056B  33          	inc	sp
1763  056C  CD B4 19    	call	_game_colour_message
1764  056F  F1          	pop	af
1765  0570  F1          	pop	af
1766  0571  33          	inc	sp
1767  0572  CD 00 00    	call	_spr_draw_clear
1768  0575  CD 2C 15    	call	_game_hall_enter
1769  0578  CD 00 00    	call	_ay_reset
1770  057B  21 00 00    	ld	hl,_game_menu_sel
1771  057E  36 00       	ld	(hl),0x00
1772  0580  CD 66 10    	call	_game_menu_paint
1773  0583  CD 61 0F    	call	_game_joystick_set_menu
1774  0586  C9          	ret
1775  0587              	SECTION rodata_compiler
1776  0038              ___str_14:
1777  0038  54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 4E 20 45 49 4E 41 52 
                        	DEFM "THANKS ALVIN N EINAR"
1778  004C  00          	DEFB 0x00
1779  004D              	SECTION rodata_compiler
1780  004D              ___str_15:
1781  004D  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1782  0058  00          	DEFB 0x00
1783  0059              	SECTION code_compiler
1784  0587              ;	---------------------------------
1785  0587              ; Function game_print_phase
1786  0587              ; ---------------------------------
1787  0587              _game_print_phase:
1788  0587  21 59 00    	ld	hl,___str_16
1789  058A  E5          	push	hl
1790  058B  21 17 0B    	ld	hl,0x0b17
1791  058E  E5          	push	hl
1792  058F  CD 00 00    	call	_zx_print_str
1793  0592  21 00 00    	ld	hl,_phase_curr
1794  0595  46          	ld	b,(hl)
1795  0596  04          	inc	b
1796  0597  C5          	push	bc
1797  0598  33          	inc	sp
1798  0599  21 17 12    	ld	hl,0x1217
1799  059C  E5          	push	hl
1800  059D  CD 00 00    	call	_zx_print_chr
1801  05A0  C9          	ret
1802  05A1              	SECTION rodata_compiler
1803  0059              ___str_16:
1804  0059  50 48 41 53 45 
                        	DEFM "PHASE"
1805  005E  00          	DEFB 0x00
1806  005F              	SECTION code_compiler
1807  05A1              ;	---------------------------------
1808  05A1              ; Function game_score_osd
1809  05A1              ; ---------------------------------
1810  05A1              _game_score_osd:
1811  05A1  CD 00 00    	call	___sdcc_enter_ix
1812  05A4  F5          	push	af
1813  05A5  F5          	push	af
1814  05A6  3B          	dec	sp
1815  05A7  11 00 00    	ld	de,_score_osd_col
1816  05AA  DD 6E 04    	ld	l,(ix+4)
1817  05AD  26 00       	ld	h,0x00
1818  05AF  19          	add	hl,de
1819  05B0  DD 75 FE    	ld	(ix-2),l
1820  05B3  DD 74 FF    	ld	(ix-1),h
1821  05B6  7E          	ld	a,(hl)
1822  05B7  47          	ld	b,a
1823  05B8  3C          	inc	a
1824  05B9  CA 63 06    	jp	Z,l_game_score_osd_00108
1825  05BC  11 00 00    	ld	de,_score_osd_lin
1826  05BF  DD 6E 04    	ld	l,(ix+4)
1827  05C2  26 00       	ld	h,0x00
1828  05C4  19          	add	hl,de
1829  05C5  DD 75 FC    	ld	(ix-4),l
1830  05C8  DD 74 FD    	ld	(ix-3),h
1831  05CB  7E          	ld	a,(hl)
1832  05CC  C6 FE       	add	a,0xfe
1833  05CE  32 00 00    	ld	(_tmp),a
1834  05D1  4F          	ld	c,a
1835  05D2  C5          	push	bc
1836  05D3  CD 00 00    	call	_game_calc_index
1837  05D6  F1          	pop	af
1838  05D7  22 00 00    	ld	(_index1),hl
1839  05DA  01 00 00    	ld	bc,_lvl_1
1840  05DD  09          	add	hl,bc
1841  05DE  5E          	ld	e, (hl)
1842  05DF  21 01 00    	ld	hl,_index1 + 1
1843  05E2  DD 4E 04    	ld	c,(ix+4)
1844  05E5  06 00       	ld	b,0x00
1845  05E7  CB 21       	sla	c
1846  05E9  CB 10       	rl	b
1847  05EB  7B          	ld	a,e
1848  05EC  D6 A9       	sub	a,0xa9
1849  05EE  20 41       	jr	NZ,l_game_score_osd_00102
1850  05F0  56          	ld	d,(hl)
1851  05F1  2B          	dec	hl
1852  05F2  5E          	ld	e,(hl)
1853  05F3  13          	inc	de
1854  05F4  21 00 00    	ld	hl,_lvl_1
1855  05F7  19          	add	hl,de
1856  05F8  7E          	ld	a,(hl)
1857  05F9  D6 A9       	sub	a,0xa9
1858  05FB  20 34       	jr	NZ,l_game_score_osd_00102
1859  05FD  76          	halt
1860  05FE  DD 6E FE    	ld	l,(ix-2)
1861  0601  DD 66 FF    	ld	h,(ix-1)
1862  0604  7E          	ld	a,(hl)
1863  0605  DD 77 FB    	ld	(ix-5),a
1864  0608  DD 6E FC    	ld	l,(ix-4)
1865  060B  DD 66 FD    	ld	h,(ix-3)
1866  060E  5E          	ld	e,(hl)
1867  060F  21 00 00    	ld	hl,_score_osd_tile
1868  0612  09          	add	hl,bc
1869  0613  56          	ld	d,(hl)
1870  0614  C5          	push	bc
1871  0615  DD 7E FB    	ld	a,(ix-5)
1872  0618  F5          	push	af
1873  0619  33          	inc	sp
1874  061A  7B          	ld	a,e
1875  061B  5A          	ld	e,d
1876  061C  57          	ld	d,a
1877  061D  D5          	push	de
1878  061E  CD 00 00    	call	_NIRVANAP_drawT_callee
1879  0621  C1          	pop	bc
1880  0622  3A 00 00    	ld	a,(_index_player)
1881  0625  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1882  0627  5F          	ld	e,a
1883  0628  3E 00       	ld	a,+((_score_osd_lin) / 256)
1884  062A  CE 00       	adc	a,0x00
1885  062C  57          	ld	d,a
1886  062D  3A 00 00    	ld	a,(_tmp)
1887  0630  12          	ld	(de),a
1888  0631              l_game_score_osd_00102:
1889  0631  21 00 00    	ld	hl,_score_osd_update_time
1890  0634  09          	add	hl,bc
1891  0635  4E          	ld	c,(hl)
1892  0636  23          	inc	hl
1893  0637  46          	ld	b,(hl)
1894  0638  21 3C 00    	ld	hl,0x003c
1895  063B  E5          	push	hl
1896  063C  C5          	push	bc
1897  063D  CD 46 1A    	call	_game_check_time
1898  0640  F1          	pop	af
1899  0641  F1          	pop	af
1900  0642  7D          	ld	a,l
1901  0643  B7          	or	a, a
1902  0644  28 1D       	jr	Z,l_game_score_osd_00108
1903  0646  DD 6E FE    	ld	l,(ix-2)
1904  0649  DD 66 FF    	ld	h,(ix-1)
1905  064C  46          	ld	b,(hl)
1906  064D  DD 6E FC    	ld	l,(ix-4)
1907  0650  DD 66 FD    	ld	h,(ix-3)
1908  0653  4E          	ld	c, (hl)
1909  0654  C5          	push	bc
1910  0655  AF          	xor	a, a
1911  0656  F5          	push	af
1912  0657  33          	inc	sp
1913  0658  CD 00 00    	call	_NIRVANAP_fillT_callee
1914  065B  DD 6E FE    	ld	l,(ix-2)
1915  065E  DD 66 FF    	ld	h,(ix-1)
1916  0661  36 FF       	ld	(hl),0xff
1917  0663              l_game_score_osd_00108:
1918  0663  DD F9       	ld	sp, ix
1919  0665  DD E1       	pop	ix
1920  0667  C9          	ret
1921  0668              	SECTION code_compiler
1922  0668              ;	---------------------------------
1923  0668              ; Function game_bonus_clock
1924  0668              ; ---------------------------------
1925  0668              _game_bonus_clock:
1926  0668  2A 00 00    	ld	hl,(_curr_time)
1927  066B  29          	add	hl,hl
1928  066C  3E 40       	ld	a,0x40
1929  066E  95          	sub	a,l
1930  066F  44          	ld	b,h
1931  0670  21 00 00    	ld	hl,_tmp_ui
1932  0673  77          	ld	(hl),a
1933  0674  3E 06       	ld	a,0x06
1934  0676  98          	sbc	a, b
1935  0677  23          	inc	hl
1936  0678  77          	ld	(hl),a
1937  0679  3E 40       	ld	a,0x40
1938  067B  2B          	dec	hl
1939  067C  BE          	cp	a, (hl)
1940  067D  3E 06       	ld	a,0x06
1941  067F  23          	inc	hl
1942  0680  9E          	sbc	a, (hl)
1943  0681  30 25       	jr	NC,l_game_bonus_clock_00108
1944  0683  2B          	dec	hl
1945  0684  AF          	xor	a, a
1946  0685  77          	ld	(hl), a
1947  0686  23          	inc	hl
1948  0687  77          	ld	(hl), a
1949  0688  3A 00 00    	ld	a,(_phase_left)
1950  068B  B7          	or	a, a
1951  068C  28 0B       	jr	Z,l_game_bonus_clock_00102
1952  068E  21 00 00    	ld	hl,0x0000
1953  0691  E5          	push	hl
1954  0692  21 02 0E    	ld	hl,0x0e02
1955  0695  E5          	push	hl
1956  0696  CD 00 00    	call	_zx_print_bonus_time
1957  0699              l_game_bonus_clock_00102:
1958  0699  21 00 00    	ld	hl,_phase_left
1959  069C  36 00       	ld	(hl),0x00
1960  069E  21 00 00    	ld	hl,_phase_end
1961  06A1  36 01       	ld	(hl),0x01
1962  06A3  CD 00 00    	call	_ay_reset
1963  06A6  18 36       	jr	l_game_bonus_clock_00110
1964  06A8              l_game_bonus_clock_00108:
1965  06A8  3A 00 00    	ld	a,(_phase_left)
1966  06AB  B7          	or	a, a
1967  06AC  C8          	ret	Z
1968  06AD  2A 00 00    	ld	hl,(_tmp_ui)
1969  06B0  E5          	push	hl
1970  06B1  21 02 0E    	ld	hl,0x0e02
1971  06B4  E5          	push	hl
1972  06B5  CD 00 00    	call	_zx_print_bonus_time
1973  06B8  21 05 00    	ld	hl,0x0005
1974  06BB  E5          	push	hl
1975  06BC  2A 00 00    	ld	hl,(_frame_time)
1976  06BF  E5          	push	hl
1977  06C0  CD 46 1A    	call	_game_check_time
1978  06C3  F1          	pop	af
1979  06C4  F1          	pop	af
1980  06C5  7D          	ld	a,l
1981  06C6  B7          	or	a, a
1982  06C7  C8          	ret	Z
1983  06C8  2A 00 00    	ld	hl,(_curr_time)
1984  06CB  22 00 00    	ld	(_frame_time),hl
1985  06CE  21 14 18    	ld	hl,0x1814
1986  06D1  E5          	push	hl
1987  06D2  3E 0E       	ld	a,0x0e
1988  06D4  F5          	push	af
1989  06D5  33          	inc	sp
1990  06D6  CD 48 0D    	call	_game_paint_attrib_lin_h
1991  06D9  F1          	pop	af
1992  06DA  33          	inc	sp
1993  06DB  CD 98 19    	call	_game_rotate_attrib
1994  06DE              l_game_bonus_clock_00110:
1995  06DE  C9          	ret
1996  06DF              	SECTION code_compiler
1997  06DF              ;	---------------------------------
1998  06DF              ; Function game_bonus_summary
1999  06DF              ; ---------------------------------
2000  06DF              _game_bonus_summary:
2001  06DF  CD 00 00    	call	_spr_kill_all
2002  06E2  CD 00 00    	call	_spr_draw_clear
2003  06E5  21 00 00    	ld	hl,0x0000
2004  06E8  CD 00 00    	call	_zx_cls_fastcall
2005  06EB  CD 98 00    	call	_game_phase_print_score_back
2006  06EE  CD CC 0C    	call	_game_print_score
2007  06F1  3A 00 00    	ld	a,(_game_lives)
2008  06F4  B7          	or	a, a
2009  06F5  28 05       	jr	Z,l_game_bonus_summary_00102
2010  06F7  2E 00       	ld	l,0x00
2011  06F9  CD 94 07    	call	_game_bonus_summary_player
2012  06FC              l_game_bonus_summary_00102:
2013  06FC  3A 01 00    	ld	a, (_game_lives + 1)
2014  06FF  B7          	or	a, a
2015  0700  28 05       	jr	Z,l_game_bonus_summary_00104
2016  0702  2E 01       	ld	l,0x01
2017  0704  CD 94 07    	call	_game_bonus_summary_player
2018  0707              l_game_bonus_summary_00104:
2019  0707  21 1F 98    	ld	hl,0x981f
2020  070A  E5          	push	hl
2021  070B  AF          	xor	a, a
2022  070C  F5          	push	af
2023  070D  33          	inc	sp
2024  070E  CD 21 0D    	call	_game_paint_attrib_lin
2025  0711  F1          	pop	af
2026  0712  33          	inc	sp
2027  0713  3A 00 00    	ld	a,(_phase_bonus_total)
2028  0716  D6 06       	sub	a,0x06
2029  0718  20 68       	jr	NZ,l_game_bonus_summary_00109
2030  071A  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2031  071D  B7          	or	a, a
2032  071E  20 62       	jr	NZ,l_game_bonus_summary_00109
2033  0720  CD 00 00    	call	_sound_jump
2034  0723  3A 00 00    	ld	a,(_phase_curr)
2035  0726  D6 03       	sub	a,0x03
2036  0728  30 23       	jr	NC,l_game_bonus_summary_00106
2037  072A  21 5F 00    	ld	hl,___str_17
2038  072D  E5          	push	hl
2039  072E  21 12 06    	ld	hl,0x0612
2040  0731  E5          	push	hl
2041  0732  CD 00 00    	call	_zx_print_str
2042  0735  21 00 00    	ld	hl,_index_player
2043  0738  36 00       	ld	(hl),0x00
2044  073A  21 2C 01    	ld	hl,0x012c
2045  073D  CD 00 00    	call	_player_score_add
2046  0740  21 00 00    	ld	hl,_index_player
2047  0743  36 01       	ld	(hl),0x01
2048  0745  21 2C 01    	ld	hl,0x012c
2049  0748  CD 00 00    	call	_player_score_add
2050  074B  18 21       	jr	l_game_bonus_summary_00107
2051  074D              l_game_bonus_summary_00106:
2052  074D  21 72 00    	ld	hl,___str_18
2053  0750  E5          	push	hl
2054  0751  21 12 06    	ld	hl,0x0612
2055  0754  E5          	push	hl
2056  0755  CD 00 00    	call	_zx_print_str
2057  0758  21 00 00    	ld	hl,_index_player
2058  075B  36 00       	ld	(hl),0x00
2059  075D  21 F4 01    	ld	hl,0x01f4
2060  0760  CD 00 00    	call	_player_score_add
2061  0763  21 00 00    	ld	hl,_index_player
2062  0766  36 01       	ld	(hl),0x01
2063  0768  21 F4 01    	ld	hl,0x01f4
2064  076B  CD 00 00    	call	_player_score_add
2065  076E              l_game_bonus_summary_00107:
2066  076E  21 C8 00    	ld	hl,0x00c8
2067  0771  E5          	push	hl
2068  0772  21 10 1A    	ld	hl,0x1a10
2069  0775  E5          	push	hl
2070  0776  3E 12       	ld	a,0x12
2071  0778  F5          	push	af
2072  0779  33          	inc	sp
2073  077A  CD B4 19    	call	_game_colour_message
2074  077D  F1          	pop	af
2075  077E  F1          	pop	af
2076  077F  33          	inc	sp
2077  0780  18 11       	jr	l_game_bonus_summary_00112
2078  0782              l_game_bonus_summary_00109:
2079  0782  21 85 00    	ld	hl,___str_19
2080  0785  E5          	push	hl
2081  0786  21 12 0C    	ld	hl,0x0c12
2082  0789  E5          	push	hl
2083  078A  CD 00 00    	call	_zx_print_str
2084  078D  21 E8 03    	ld	hl,0x03e8
2085  0790  CD 00 00    	call	_z80_delay_ms_fastcall
2086  0793              l_game_bonus_summary_00112:
2087  0793  C9          	ret
2088  0794              	SECTION rodata_compiler
2089  005F              ___str_17:
2090  005F  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2091  0071  00          	DEFB 0x00
2092  0072              	SECTION rodata_compiler
2093  0072              ___str_18:
2094  0072  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2095  0084  00          	DEFB 0x00
2096  0085              	SECTION rodata_compiler
2097  0085              ___str_19:
2098  0085  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2099  008D  00          	DEFB 0x00
2100  008E              	SECTION code_compiler
2101  0794              ;	---------------------------------
2102  0794              ; Function game_bonus_summary_player
2103  0794              ; ---------------------------------
2104  0794              _game_bonus_summary_player:
2105  0794  CD 00 00    	call	___sdcc_enter_ix
2106  0797  F5          	push	af
2107  0798  3B          	dec	sp
2108  0799  DD 75 FD    	ld	(ix-3),l
2109  079C  76          	halt
2110  079D  DD 7E FD    	ld	a,(ix-3)
2111  07A0  B7          	or	a, a
2112  07A1  20 2C       	jr	NZ,l_game_bonus_summary_player_00102
2113  07A3  21 00 00    	ld	hl,_s_lin1
2114  07A6  36 06       	ld	(hl),0x06
2115  07A8  21 8E 00    	ld	hl,___str_20
2116  07AB  E5          	push	hl
2117  07AC  21 06 07    	ld	hl,0x0706
2118  07AF  E5          	push	hl
2119  07B0  CD 00 00    	call	_zx_print_str
2120  07B3  3A 00 00    	ld	a,(_s_lin1)
2121  07B6  07          	rlca
2122  07B7  07          	rlca
2123  07B8  07          	rlca
2124  07B9  E6 F8       	and	a,0xf8
2125  07BB  C6 04       	add	a,0x02+0x02
2126  07BD  4F          	ld	c, a
2127  07BE  06 04       	ld	b,0x04
2128  07C0  C5          	push	bc
2129  07C1  3E 03       	ld	a,0x03
2130  07C3  F5          	push	af
2131  07C4  33          	inc	sp
2132  07C5  CD 00 00    	call	_NIRVANAP_drawT_callee
2133  07C8  21 00 00    	ld	hl,_index_player
2134  07CB  36 00       	ld	(hl),0x00
2135  07CD  18 2A       	jr	l_game_bonus_summary_player_00103
2136  07CF              l_game_bonus_summary_player_00102:
2137  07CF  21 00 00    	ld	hl,_s_lin1
2138  07D2  36 0C       	ld	(hl),0x0c
2139  07D4  21 95 00    	ld	hl,___str_21
2140  07D7  E5          	push	hl
2141  07D8  21 0C 07    	ld	hl,0x070c
2142  07DB  E5          	push	hl
2143  07DC  CD 00 00    	call	_zx_print_str
2144  07DF  3A 00 00    	ld	a,(_s_lin1)
2145  07E2  07          	rlca
2146  07E3  07          	rlca
2147  07E4  07          	rlca
2148  07E5  E6 F8       	and	a,0xf8
2149  07E7  C6 04       	add	a,0x02+0x02
2150  07E9  4F          	ld	c, a
2151  07EA  06 04       	ld	b,0x04
2152  07EC  C5          	push	bc
2153  07ED  3E 1B       	ld	a,0x1b
2154  07EF  F5          	push	af
2155  07F0  33          	inc	sp
2156  07F1  CD 00 00    	call	_NIRVANAP_drawT_callee
2157  07F4  21 00 00    	ld	hl,_index_player
2158  07F7  36 01       	ld	(hl),0x01
2159  07F9              l_game_bonus_summary_player_00103:
2160  07F9  3A 00 00    	ld	a,(_s_lin1)
2161  07FC  07          	rlca
2162  07FD  07          	rlca
2163  07FE  07          	rlca
2164  07FF  E6 F8       	and	a,0xf8
2165  0801  C6 08       	add	a,0x08
2166  0803  F5          	push	af
2167  0804  33          	inc	sp
2168  0805  21 07 1F    	ld	hl,0x1f07
2169  0808  E5          	push	hl
2170  0809  CD 21 0D    	call	_game_paint_attrib_lin
2171  080C  F1          	pop	af
2172  080D  33          	inc	sp
2173  080E  21 00 00    	ld	hl,_tmp_uc
2174  0811  36 00       	ld	(hl),0x00
2175  0813  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2176  0815  DD 86 FD    	add	a,(ix-3)
2177  0818  DD 77 FE    	ld	(ix-2),a
2178  081B  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2179  081D  CE 00       	adc	a,0x00
2180  081F  DD 77 FF    	ld	(ix-1),a
2181  0822              l_game_bonus_summary_player_00107:
2182  0822  DD 6E FE    	ld	l,(ix-2)
2183  0825  DD 66 FF    	ld	h,(ix-1)
2184  0828  4E          	ld	c,(hl)
2185  0829  3A 00 00    	ld	a,(_tmp_uc)
2186  082C  91          	sub	a, c
2187  082D  30 53       	jr	NC,l_game_bonus_summary_player_00109
2188  082F  3A 00 00    	ld	a,(_s_lin1)
2189  0832  07          	rlca
2190  0833  07          	rlca
2191  0834  07          	rlca
2192  0835  E6 F8       	and	a,0xf8
2193  0837  4F          	ld	c,a
2194  0838  3A 00 00    	ld	a,(_tmp_uc)
2195  083B  D6 03       	sub	a,0x03
2196  083D  30 08       	jr	NC,l_game_bonus_summary_player_00105
2197  083F  79          	ld	a,c
2198  0840  C6 F8       	add	a,0xf8
2199  0842  32 00 00    	ld	(_s_lin0),a
2200  0845  18 06       	jr	l_game_bonus_summary_player_00106
2201  0847              l_game_bonus_summary_player_00105:
2202  0847  79          	ld	a,c
2203  0848  C6 08       	add	a,0x08
2204  084A  32 00 00    	ld	(_s_lin0),a
2205  084D              l_game_bonus_summary_player_00106:
2206  084D  76          	halt
2207  084E  2A 00 00    	ld	hl,(_tmp_uc)
2208  0851  26 03       	ld	h,0x03
2209  0853  E5          	push	hl
2210  0854  CD 00 00    	call	__moduchar_callee
2211  0857  7D          	ld	a,l
2212  0858  87          	add	a, a
2213  0859  C6 0E       	add	a,0x0e
2214  085B  F5          	push	af
2215  085C  33          	inc	sp
2216  085D  3A 00 00    	ld	a,(_s_lin0)
2217  0860  57          	ld	d,a
2218  0861  1E B9       	ld	e,0xb9
2219  0863  D5          	push	de
2220  0864  CD 00 00    	call	_NIRVANAP_drawT_callee
2221  0867  21 50 00    	ld	hl,0x0050
2222  086A  CD 00 00    	call	_player_score_add
2223  086D  21 00 00    	ld	hl,_tmp_uc
2224  0870  34          	inc	(hl)
2225  0871  21 00 00    	ld	hl,_ay_effect_09
2226  0874  CD 00 00    	call	_ay_fx_play
2227  0877  CD 00 00    	call	_sound_coin
2228  087A  21 32 00    	ld	hl,0x0032
2229  087D  CD 00 00    	call	_z80_delay_ms_fastcall
2230  0880  18 A0       	jr	l_game_bonus_summary_player_00107
2231  0882              l_game_bonus_summary_player_00109:
2232  0882  21 9B 00    	ld	hl,___str_22
2233  0885  E5          	push	hl
2234  0886  2A 00 00    	ld	hl,(_s_lin1)
2235  0889  26 16       	ld	h,0x16
2236  088B  E5          	push	hl
2237  088C  CD 00 00    	call	_zx_print_str
2238  088F  DD F9       	ld	sp, ix
2239  0891  DD E1       	pop	ix
2240  0893  C9          	ret
2241  0894              	SECTION rodata_compiler
2242  008E              ___str_20:
2243  008E  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2244  0094  00          	DEFB 0x00
2245  0095              	SECTION rodata_compiler
2246  0095              ___str_21:
2247  0095  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2248  009A  00          	DEFB 0x00
2249  009B              	SECTION rodata_compiler
2250  009B              ___str_22:
2251  009B  58 20 38 30 30 
                        	DEFM "X 800"
2252  00A0  00          	DEFB 0x00
2253  00A1              	SECTION code_compiler
2254  0894              ;	---------------------------------
2255  0894              ; Function game_check_maze
2256  0894              ; ---------------------------------
2257  0894              _game_check_maze:
2258  0894  4D          	ld	c,l
2259  0895  44          	ld	b,h
2260  0896  21 00 00    	ld	hl,_lvl_1
2261  0899  09          	add	hl,bc
2262  089A  5E          	ld	e,(hl)
2263  089B  3E 8C       	ld	a,0x8c
2264  089D  93          	sub	a, e
2265  089E  30 0B       	jr	NC,l_game_check_maze_00103
2266  08A0  03          	inc	bc
2267  08A1  21 00 00    	ld	hl,_lvl_1
2268  08A4  09          	add	hl,bc
2269  08A5  4E          	ld	c,(hl)
2270  08A6  3E 8C       	ld	a,0x8c
2271  08A8  91          	sub	a, c
2272  08A9  38 04       	jr	C,l_game_check_maze_00104
2273  08AB              l_game_check_maze_00103:
2274  08AB  2E 00       	ld	l,0x00
2275  08AD  18 02       	jr	l_game_check_maze_00105
2276  08AF              l_game_check_maze_00104:
2277  08AF  2E 01       	ld	l,0x01
2278  08B1              l_game_check_maze_00105:
2279  08B1  C9          	ret
2280  08B2              	SECTION code_compiler
2281  08B2              ;	---------------------------------
2282  08B2              ; Function game_check_floor
2283  08B2              ; ---------------------------------
2284  08B2              _game_check_floor:
2285  08B2  CD 00 00    	call	___sdcc_enter_ix
2286  08B5  3B          	dec	sp
2287  08B6  11 00 00    	ld	de,_lvl_1+0
2288  08B9  4D          	ld	c,l
2289  08BA  44          	ld	b,h
2290  08BB  6B          	ld	l, e
2291  08BC  62          	ld	h, d
2292  08BD  09          	add	hl,bc
2293  08BE  7E          	ld	a,(hl)
2294  08BF  DD 77 FF    	ld	(ix-1),a
2295  08C2  69          	ld	l, c
2296  08C3  60          	ld	h, b
2297  08C4  23          	inc	hl
2298  08C5  19          	add	hl,de
2299  08C6  6E          	ld	l,(hl)
2300  08C7  DD 7E FF    	ld	a,(ix-1)
2301  08CA  D6 11       	sub	a,0x11
2302  08CC  28 05       	jr	Z,l_game_check_floor_00101
2303  08CE  7D          	ld	a,l
2304  08CF  D6 11       	sub	a,0x11
2305  08D1  20 1E       	jr	NZ,l_game_check_floor_00102
2306  08D3              l_game_check_floor_00101:
2307  08D3  21 20 00    	ld	hl,0x0020
2308  08D6  09          	add	hl,bc
2309  08D7  19          	add	hl,de
2310  08D8  6E          	ld	l,(hl)
2311  08D9  3E 8C       	ld	a,0x8c
2312  08DB  95          	sub	a, l
2313  08DC  30 0B       	jr	NC,l_game_check_floor_00107
2314  08DE  21 21 00    	ld	hl,0x0021
2315  08E1  09          	add	hl,bc
2316  08E2  19          	add	hl,de
2317  08E3  4E          	ld	c,(hl)
2318  08E4  3E 8C       	ld	a,0x8c
2319  08E6  91          	sub	a, c
2320  08E7  38 04       	jr	C,l_game_check_floor_00108
2321  08E9              l_game_check_floor_00107:
2322  08E9  2E 00       	ld	l,0x00
2323  08EB  18 02       	jr	l_game_check_floor_00109
2324  08ED              l_game_check_floor_00108:
2325  08ED  2E 01       	ld	l,0x01
2326  08EF              l_game_check_floor_00109:
2327  08EF  18 12       	jr	l_game_check_floor_00105
2328  08F1              l_game_check_floor_00102:
2329  08F1  3E 8C       	ld	a,0x8c
2330  08F3  DD 96 FF    	sub	a,(ix-1)
2331  08F6  30 05       	jr	NC,l_game_check_floor_00110
2332  08F8  3E 8C       	ld	a,0x8c
2333  08FA  95          	sub	a, l
2334  08FB  38 04       	jr	C,l_game_check_floor_00111
2335  08FD              l_game_check_floor_00110:
2336  08FD  2E 00       	ld	l,0x00
2337  08FF  18 02       	jr	l_game_check_floor_00112
2338  0901              l_game_check_floor_00111:
2339  0901  2E 01       	ld	l,0x01
2340  0903              l_game_check_floor_00112:
2341  0903              l_game_check_floor_00105:
2342  0903  33          	inc	sp
2343  0904  DD E1       	pop	ix
2344  0906  C9          	ret
2345  0907              	SECTION code_compiler
2346  0907              ;	---------------------------------
2347  0907              ; Function game_enemy_add
2348  0907              ; ---------------------------------
2349  0907              _game_enemy_add:
2350  0907  3A 00 00    	ld	a,(_game_type)
2351  090A  D6 02       	sub	a,0x02
2352  090C  20 05       	jr	NZ,l_game_enemy_add_00106
2353  090E  CD 76 0A    	call	_game_enemy_rnd
2354  0911  18 21       	jr	l_game_enemy_add_00107
2355  0913              l_game_enemy_add_00106:
2356  0913  3A 00 00    	ld	a,(_spr_count)
2357  0916  D6 06       	sub	a,0x06
2358  0918  30 1A       	jr	NC,l_game_enemy_add_00107
2359  091A  21 64 00    	ld	hl,0x0064
2360  091D  E5          	push	hl
2361  091E  2A 00 00    	ld	hl,(_entry_time)
2362  0921  E5          	push	hl
2363  0922  CD 46 1A    	call	_game_check_time
2364  0925  F1          	pop	af
2365  0926  F1          	pop	af
2366  0927  7D          	ld	a,l
2367  0928  B7          	or	a, a
2368  0929  28 09       	jr	Z,l_game_enemy_add_00107
2369  092B  3A 00 00    	ld	a,(_phase_left)
2370  092E  B7          	or	a, a
2371  092F  28 03       	jr	Z,l_game_enemy_add_00107
2372  0931  CD 37 09    	call	_game_enemy_quota
2373  0934              l_game_enemy_add_00107:
2374  0934  2E 00       	ld	l,0x00
2375  0936  C9          	ret
2376  0937              	SECTION code_compiler
2377  0937              ;	---------------------------------
2378  0937              ; Function game_enemy_quota
2379  0937              ; ---------------------------------
2380  0937              _game_enemy_quota:
2381  0937  3A 00 00    	ld	a,(_phase_left)
2382  093A  B7          	or	a, a
2383  093B  CA E2 09    	jp	Z,l_game_enemy_quota_00128
2384  093E  CD 00 00    	call	_rand
2385  0941  7D          	ld	a, l
2386  0942  E6 03       	and	a,0x03
2387  0944  32 00 00    	ld	(_tmp),a
2388  0947  3A 00 00    	ld	a,(_phase_pop)
2389  094A  B7          	or	a, a
2390  094B  28 06       	jr	Z,l_game_enemy_quota_00101
2391  094D  3A 00 00    	ld	a,(_phase_left)
2392  0950  3D          	dec	a
2393  0951  20 05       	jr	NZ,l_game_enemy_quota_00102
2394  0953              l_game_enemy_quota_00101:
2395  0953  21 00 00    	ld	hl,_tmp
2396  0956  36 00       	ld	(hl),0x00
2397  0958              l_game_enemy_quota_00102:
2398  0958  21 00 00    	ld	hl,_tmp_sc
2399  095B  36 00       	ld	(hl),0x00
2400  095D              l_game_enemy_quota_00124:
2401  095D  3A 00 00    	ld	a,(_tmp_sc)
2402  0960  EE 80       	xor	a,0x80
2403  0962  D6 83       	sub	a,0x83
2404  0964  D2 E2 09    	jp	NC,l_game_enemy_quota_00128
2405  0967  21 00 00    	ld	hl,_tmp
2406  096A  7E          	ld	a,(hl)
2407  096B  D6 03       	sub	a,0x03
2408  096D  30 73       	jr	NC,l_game_enemy_quota_00128
2409  096F  3E 00       	ld	a,+((_phase_quota) & 0xFF)
2410  0971  86          	add	a, (hl)
2411  0972  4F          	ld	c,a
2412  0973  3E 00       	ld	a,+((_phase_quota) / 256)
2413  0975  CE 00       	adc	a,0x00
2414  0977  47          	ld	b,a
2415  0978  0A          	ld	a,(bc)
2416  0979  B7          	or	a, a
2417  097A  28 54       	jr	Z,l_game_enemy_quota_00120
2418  097C  C6 FF       	add	a,0xff
2419  097E  02          	ld	(bc),a
2420  097F  3A 00 00    	ld	a,(_phase_angry)
2421  0982  B7          	or	a, a
2422  0983  28 24       	jr	Z,l_game_enemy_quota_00117
2423  0985  3A 00 00    	ld	a,(_tmp)
2424  0988  B7          	or	a, a
2425  0989  20 05       	jr	NZ,l_game_enemy_quota_00105
2426  098B  2E 03       	ld	l,0x03
2427  098D  CD A6 0A    	call	_game_enemy_add1
2428  0990              l_game_enemy_quota_00105:
2429  0990  3A 00 00    	ld	a,(_tmp)
2430  0993  3D          	dec	a
2431  0994  20 05       	jr	NZ,l_game_enemy_quota_00107
2432  0996  2E 06       	ld	l,0x06
2433  0998  CD A6 0A    	call	_game_enemy_add1
2434  099B              l_game_enemy_quota_00107:
2435  099B  3A 00 00    	ld	a,(_tmp)
2436  099E  D6 02       	sub	a,0x02
2437  09A0  20 29       	jr	NZ,l_game_enemy_quota_00118
2438  09A2  2E 09       	ld	l,0x09
2439  09A4  CD A6 0A    	call	_game_enemy_add1
2440  09A7  18 22       	jr	l_game_enemy_quota_00118
2441  09A9              l_game_enemy_quota_00117:
2442  09A9  3A 00 00    	ld	a,(_tmp)
2443  09AC  B7          	or	a, a
2444  09AD  20 05       	jr	NZ,l_game_enemy_quota_00111
2445  09AF  2E 01       	ld	l,0x01
2446  09B1  CD A6 0A    	call	_game_enemy_add1
2447  09B4              l_game_enemy_quota_00111:
2448  09B4  3A 00 00    	ld	a,(_tmp)
2449  09B7  3D          	dec	a
2450  09B8  20 05       	jr	NZ,l_game_enemy_quota_00113
2451  09BA  2E 04       	ld	l,0x04
2452  09BC  CD A6 0A    	call	_game_enemy_add1
2453  09BF              l_game_enemy_quota_00113:
2454  09BF  3A 00 00    	ld	a,(_tmp)
2455  09C2  D6 02       	sub	a,0x02
2456  09C4  20 05       	jr	NZ,l_game_enemy_quota_00118
2457  09C6  2E 09       	ld	l,0x09
2458  09C8  CD A6 0A    	call	_game_enemy_add1
2459  09CB              l_game_enemy_quota_00118:
2460  09CB  2E 00       	ld	l,0x00
2461  09CD  C3 75 0A    	jp	l_game_enemy_quota_00144
2462  09D0              l_game_enemy_quota_00120:
2463  09D0  21 00 00    	ld	hl,_tmp
2464  09D3  34          	inc	(hl)
2465  09D4  3E 02       	ld	a,0x02
2466  09D6  96          	sub	a, (hl)
2467  09D7  30 02       	jr	NC,l_game_enemy_quota_00122
2468  09D9  36 00       	ld	(hl),0x00
2469  09DB              l_game_enemy_quota_00122:
2470  09DB  21 00 00    	ld	hl,_tmp_sc
2471  09DE  34          	inc	(hl)
2472  09DF  C3 5D 09    	jp	l_game_enemy_quota_00124
2473  09E2              l_game_enemy_quota_00128:
2474  09E2  3A 00 00    	ld	a,(_phase_coins)
2475  09E5  B7          	or	a, a
2476  09E6  28 0A       	jr	Z,l_game_enemy_quota_00130
2477  09E8  2E 08       	ld	l,0x08
2478  09EA  CD A6 0A    	call	_game_enemy_add1
2479  09ED  2E 00       	ld	l,0x00
2480  09EF  C3 75 0A    	jp	l_game_enemy_quota_00144
2481  09F2              l_game_enemy_quota_00130:
2482  09F2  CD 00 00    	call	_rand
2483  09F5  7D          	ld	a,l
2484  09F6  E6 03       	and	a,0x03
2485  09F8  44          	ld	b,h
2486  09F9  0E 00       	ld	c,0x00
2487  09FB  CB 79       	bit	7,c
2488  09FD  20 74       	jr	NZ,l_game_enemy_quota_00143
2489  09FF  5F          	ld	e,a
2490  0A00  3E 03       	ld	a,0x03
2491  0A02  BB          	cp	a, e
2492  0A03  3E 00       	ld	a,0x00
2493  0A05  99          	sbc	a, c
2494  0A06  E2 0B 0A    	jp	PO, l_game_enemy_quota_00240
2495  0A09  EE 80       	xor	a,0x80
2496  0A0B              l_game_enemy_quota_00240:
2497  0A0B  FA 73 0A    	jp	M,l_game_enemy_quota_00143
2498  0A0E  16 00       	ld	d,0x00
2499  0A10  21 16 0A    	ld	hl,l_game_enemy_quota_00241
2500  0A13  19          	add	hl,de
2501  0A14  19          	add	hl,de
2502  0A15  E9          	jp	(hl)
2503  0A16              l_game_enemy_quota_00241:
2504  0A16  18 06       	jr	l_game_enemy_quota_00131
2505  0A18  18 13       	jr	l_game_enemy_quota_00134
2506  0A1A  18 29       	jr	l_game_enemy_quota_00137
2507  0A1C  18 3F       	jr	l_game_enemy_quota_00140
2508  0A1E              l_game_enemy_quota_00131:
2509  0A1E  3E 07       	ld	a,0x07
2510  0A20  21 00 00    	ld	hl,_phase_curr
2511  0A23  96          	sub	a, (hl)
2512  0A24  30 4D       	jr	NC,l_game_enemy_quota_00143
2513  0A26  2E 07       	ld	l,0x07
2514  0A28  CD A6 0A    	call	_game_enemy_add1
2515  0A2B  18 46       	jr	l_game_enemy_quota_00143
2516  0A2D              l_game_enemy_quota_00134:
2517  0A2D  2A 00 00    	ld	hl,(_game_time_fireball_start)
2518  0A30  E5          	push	hl
2519  0A31  21 00 00    	ld	hl,0x0000
2520  0A34  E5          	push	hl
2521  0A35  CD 46 1A    	call	_game_check_time
2522  0A38  F1          	pop	af
2523  0A39  F1          	pop	af
2524  0A3A  7D          	ld	a,l
2525  0A3B  B7          	or	a, a
2526  0A3C  28 35       	jr	Z,l_game_enemy_quota_00143
2527  0A3E  2E 0B       	ld	l,0x0b
2528  0A40  CD A6 0A    	call	_game_enemy_add1
2529  0A43  18 2E       	jr	l_game_enemy_quota_00143
2530  0A45              l_game_enemy_quota_00137:
2531  0A45  2A 00 00    	ld	hl,(_game_time_fireball_start)
2532  0A48  E5          	push	hl
2533  0A49  21 00 00    	ld	hl,0x0000
2534  0A4C  E5          	push	hl
2535  0A4D  CD 46 1A    	call	_game_check_time
2536  0A50  F1          	pop	af
2537  0A51  F1          	pop	af
2538  0A52  7D          	ld	a,l
2539  0A53  B7          	or	a, a
2540  0A54  28 1D       	jr	Z,l_game_enemy_quota_00143
2541  0A56  2E 0B       	ld	l,0x0b
2542  0A58  CD A6 0A    	call	_game_enemy_add1
2543  0A5B  18 16       	jr	l_game_enemy_quota_00143
2544  0A5D              l_game_enemy_quota_00140:
2545  0A5D  2A 00 00    	ld	hl,(_game_time_fireball_start)
2546  0A60  E5          	push	hl
2547  0A61  21 00 00    	ld	hl,0x0000
2548  0A64  E5          	push	hl
2549  0A65  CD 46 1A    	call	_game_check_time
2550  0A68  F1          	pop	af
2551  0A69  F1          	pop	af
2552  0A6A  7D          	ld	a,l
2553  0A6B  B7          	or	a, a
2554  0A6C  28 05       	jr	Z,l_game_enemy_quota_00143
2555  0A6E  2E 0A       	ld	l,0x0a
2556  0A70  CD A6 0A    	call	_game_enemy_add1
2557  0A73              l_game_enemy_quota_00143:
2558  0A73  2E 00       	ld	l,0x00
2559  0A75              l_game_enemy_quota_00144:
2560  0A75  C9          	ret
2561  0A76              	SECTION code_compiler
2562  0A76              ;	---------------------------------
2563  0A76              ; Function game_enemy_rnd
2564  0A76              ; ---------------------------------
2565  0A76              _game_enemy_rnd:
2566  0A76  3A 00 00    	ld	a,(_spr_count)
2567  0A79  D6 06       	sub	a,0x06
2568  0A7B  30 26       	jr	NC,l_game_enemy_rnd_00102
2569  0A7D  21 64 00    	ld	hl,0x0064
2570  0A80  E5          	push	hl
2571  0A81  2A 00 00    	ld	hl,(_entry_time)
2572  0A84  E5          	push	hl
2573  0A85  CD 46 1A    	call	_game_check_time
2574  0A88  F1          	pop	af
2575  0A89  F1          	pop	af
2576  0A8A  7D          	ld	a,l
2577  0A8B  B7          	or	a, a
2578  0A8C  28 15       	jr	Z,l_game_enemy_rnd_00102
2579  0A8E  2A 00 00    	ld	hl,(_curr_time)
2580  0A91  22 00 00    	ld	(_entry_time),hl
2581  0A94  CD 00 00    	call	_rand
2582  0A97  01 0B 00    	ld	bc,0x000b
2583  0A9A  C5          	push	bc
2584  0A9B  E5          	push	hl
2585  0A9C  CD 00 00    	call	__modsint_callee
2586  0A9F  2C          	inc	l
2587  0AA0  CD A6 0A    	call	_game_enemy_add1
2588  0AA3              l_game_enemy_rnd_00102:
2589  0AA3  2E 00       	ld	l,0x00
2590  0AA5  C9          	ret
2591  0AA6              	SECTION code_compiler
2592  0AA6              ;	---------------------------------
2593  0AA6              ; Function game_enemy_add1
2594  0AA6              ; ---------------------------------
2595  0AA6              _game_enemy_add1:
2596  0AA6  CD 00 00    	call	___sdcc_enter_ix
2597  0AA9  F5          	push	af
2598  0AAA  45          	ld	b,l
2599  0AAB  78          	ld	a,b
2600  0AAC  D6 0A       	sub	a,0x0a
2601  0AAE  20 04       	jr	NZ,l_game_enemy_add1_00185
2602  0AB0  3E 01       	ld	a,0x01
2603  0AB2  18 01       	jr	l_game_enemy_add1_00186
2604  0AB4              l_game_enemy_add1_00185:
2605  0AB4  AF          	xor	a,a
2606  0AB5              l_game_enemy_add1_00186:
2607  0AB5  4F          	ld	c,a
2608  0AB6  B7          	or	a, a
2609  0AB7  28 0B       	jr	Z,l_game_enemy_add1_00105
2610  0AB9  C5          	push	bc
2611  0ABA  2E 0A       	ld	l,0x0a
2612  0ABC  CD E8 0B    	call	_game_enemy_add_get_index
2613  0ABF  C1          	pop	bc
2614  0AC0  5D          	ld	e,l
2615  0AC1  1C          	inc	e
2616  0AC2  20 2B       	jr	NZ,l_game_enemy_add1_00101
2617  0AC4              l_game_enemy_add1_00105:
2618  0AC4  78          	ld	a,b
2619  0AC5  D6 0B       	sub	a,0x0b
2620  0AC7  20 04       	jr	NZ,l_game_enemy_add1_00189
2621  0AC9  3E 01       	ld	a,0x01
2622  0ACB  18 01       	jr	l_game_enemy_add1_00190
2623  0ACD              l_game_enemy_add1_00189:
2624  0ACD  AF          	xor	a,a
2625  0ACE              l_game_enemy_add1_00190:
2626  0ACE  DD 77 FF    	ld	(ix-1),a
2627  0AD1  B7          	or	a, a
2628  0AD2  28 0B       	jr	Z,l_game_enemy_add1_00107
2629  0AD4  C5          	push	bc
2630  0AD5  2E 0B       	ld	l,0x0b
2631  0AD7  CD E8 0B    	call	_game_enemy_add_get_index
2632  0ADA  C1          	pop	bc
2633  0ADB  5D          	ld	e,l
2634  0ADC  1C          	inc	e
2635  0ADD  20 10       	jr	NZ,l_game_enemy_add1_00101
2636  0ADF              l_game_enemy_add1_00107:
2637  0ADF  78          	ld	a,b
2638  0AE0  D6 07       	sub	a,0x07
2639  0AE2  20 10       	jr	NZ,l_game_enemy_add1_00102
2640  0AE4  C5          	push	bc
2641  0AE5  2E 07       	ld	l,0x07
2642  0AE7  CD E8 0B    	call	_game_enemy_add_get_index
2643  0AEA  C1          	pop	bc
2644  0AEB  5D          	ld	e,l
2645  0AEC  1C          	inc	e
2646  0AED  28 05       	jr	Z,l_game_enemy_add1_00102
2647  0AEF              l_game_enemy_add1_00101:
2648  0AEF  2E 00       	ld	l,0x00
2649  0AF1  C3 E4 0B    	jp	l_game_enemy_add1_00131
2650  0AF4              l_game_enemy_add1_00102:
2651  0AF4  21 00 00    	ld	hl,_phase_pop
2652  0AF7  34          	inc	(hl)
2653  0AF8  C5          	push	bc
2654  0AF9  CD 00 00    	call	_sound_enter_enemy
2655  0AFC  2E 00       	ld	l,0x00
2656  0AFE  CD E8 0B    	call	_game_enemy_add_get_index
2657  0B01  C1          	pop	bc
2658  0B02  7D          	ld	a,l
2659  0B03  32 00 00    	ld	(_tmp),a
2660  0B06  C5          	push	bc
2661  0B07  CD 00 00    	call	_rand
2662  0B0A  C1          	pop	bc
2663  0B0B  7D          	ld	a, l
2664  0B0C  E6 01       	and	a,0x01
2665  0B0E  32 00 00    	ld	(_tmp0),a
2666  0B11  3D          	dec	a
2667  0B12  20 1C       	jr	NZ,l_game_enemy_add1_00113
2668  0B14  21 00 00    	ld	hl,_s_lin0
2669  0B17  36 10       	ld	(hl),0x10
2670  0B19  21 00 00    	ld	hl,_s_col0
2671  0B1C  36 04       	ld	(hl),0x04
2672  0B1E  21 00 00    	ld	hl,_s_col1
2673  0B21  36 02       	ld	(hl),0x02
2674  0B23  79          	ld	a,c
2675  0B24  B7          	or	a, a
2676  0B25  28 02       	jr	Z,l_game_enemy_add1_00109
2677  0B27  36 03       	ld	(hl),0x03
2678  0B29              l_game_enemy_add1_00109:
2679  0B29  21 00 00    	ld	hl,_tmp1
2680  0B2C  36 01       	ld	(hl),0x01
2681  0B2E  18 1A       	jr	l_game_enemy_add1_00114
2682  0B30              l_game_enemy_add1_00113:
2683  0B30  21 00 00    	ld	hl,_s_lin0
2684  0B33  36 10       	ld	(hl),0x10
2685  0B35  21 00 00    	ld	hl,_s_col0
2686  0B38  36 1A       	ld	(hl),0x1a
2687  0B3A  21 00 00    	ld	hl,_s_col1
2688  0B3D  36 1E       	ld	(hl),0x1e
2689  0B3F  79          	ld	a,c
2690  0B40  B7          	or	a, a
2691  0B41  28 02       	jr	Z,l_game_enemy_add1_00111
2692  0B43  36 1C       	ld	(hl),0x1c
2693  0B45              l_game_enemy_add1_00111:
2694  0B45  21 00 00    	ld	hl,_tmp1
2695  0B48  36 FF       	ld	(hl),0xff
2696  0B4A              l_game_enemy_add1_00114:
2697  0B4A  78          	ld	a,b
2698  0B4B  D6 08       	sub	a,0x08
2699  0B4D  20 04       	jr	NZ,l_game_enemy_add1_00198
2700  0B4F  3E 01       	ld	a,0x01
2701  0B51  18 01       	jr	l_game_enemy_add1_00199
2702  0B53              l_game_enemy_add1_00198:
2703  0B53  AF          	xor	a,a
2704  0B54              l_game_enemy_add1_00199:
2705  0B54  DD 77 FE    	ld	(ix-2),a
2706  0B57  B7          	or	a, a
2707  0B58  28 04       	jr	Z,l_game_enemy_add1_00116
2708  0B5A  21 00 00    	ld	hl,_phase_coins
2709  0B5D  35          	dec	(hl)
2710  0B5E              l_game_enemy_add1_00116:
2711  0B5E  21 00 00    	ld	hl,_tmp_uc
2712  0B61  36 00       	ld	(hl),0x00
2713  0B63  DD 7E FF    	ld	a,(ix-1)
2714  0B66  B7          	or	a,a
2715  0B67  20 03       	jr	NZ,l_game_enemy_add1_00123
2716  0B69  B1          	or	a,c
2717  0B6A  28 35       	jr	Z,l_game_enemy_add1_00124
2718  0B6C              l_game_enemy_add1_00123:
2719  0B6C  C5          	push	bc
2720  0B6D  CD 00 00    	call	_rand
2721  0B70  11 03 00    	ld	de,0x0003
2722  0B73  D5          	push	de
2723  0B74  E5          	push	hl
2724  0B75  CD 00 00    	call	__modsint_callee
2725  0B78  C1          	pop	bc
2726  0B79  5D          	ld	e,l
2727  0B7A  21 00 00    	ld	hl,_tmp_uc
2728  0B7D  73          	ld	(hl),e
2729  0B7E  7B          	ld	a,e
2730  0B7F  B7          	or	a, a
2731  0B80  20 02       	jr	NZ,l_game_enemy_add1_00118
2732  0B82  36 10       	ld	(hl),0x10
2733  0B84              l_game_enemy_add1_00118:
2734  0B84  3A 00 00    	ld	a,(_tmp_uc)
2735  0B87  3D          	dec	a
2736  0B88  20 05       	jr	NZ,l_game_enemy_add1_00120
2737  0B8A  21 00 00    	ld	hl,_tmp_uc
2738  0B8D  36 38       	ld	(hl),0x38
2739  0B8F              l_game_enemy_add1_00120:
2740  0B8F  3A 00 00    	ld	a,(_tmp_uc)
2741  0B92  D6 02       	sub	a,0x02
2742  0B94  20 05       	jr	NZ,l_game_enemy_add1_00122
2743  0B96  21 00 00    	ld	hl,_tmp_uc
2744  0B99  36 84       	ld	(hl),0x84
2745  0B9B              l_game_enemy_add1_00122:
2746  0B9B  3A 00 00    	ld	a,(_s_col1)
2747  0B9E  32 00 00    	ld	(_s_col0),a
2748  0BA1              l_game_enemy_add1_00124:
2749  0BA1  CD 00 00    	call	_ay_is_playing
2750  0BA4  7D          	ld	a,l
2751  0BA5  D6 02       	sub	a,0x02
2752  0BA7  30 14       	jr	NC,l_game_enemy_add1_00130
2753  0BA9  DD 7E FE    	ld	a,(ix-2)
2754  0BAC  B7          	or	a, a
2755  0BAD  20 08       	jr	NZ,l_game_enemy_add1_00127
2756  0BAF  21 00 00    	ld	hl,_ay_effect_04
2757  0BB2  CD 00 00    	call	_ay_fx_play
2758  0BB5  18 06       	jr	l_game_enemy_add1_00130
2759  0BB7              l_game_enemy_add1_00127:
2760  0BB7  21 00 00    	ld	hl,_ay_effect_07
2761  0BBA  CD 00 00    	call	_ay_fx_play
2762  0BBD              l_game_enemy_add1_00130:
2763  0BBD  2A 00 00    	ld	hl,(_curr_time)
2764  0BC0  22 00 00    	ld	(_entry_time),hl
2765  0BC3  3A 00 00    	ld	a,(_s_lin0)
2766  0BC6  21 00 00    	ld	hl,_tmp_uc
2767  0BC9  86          	add	a, (hl)
2768  0BCA  57          	ld	d,a
2769  0BCB  3A 00 00    	ld	a,(_tmp1)
2770  0BCE  48          	ld	c,b
2771  0BCF  47          	ld	b,a
2772  0BD0  3A 00 00    	ld	a,(_s_col0)
2773  0BD3  C5          	push	bc
2774  0BD4  5A          	ld	e,d
2775  0BD5  57          	ld	d,a
2776  0BD6  3A 00 00    	ld	a,(_tmp)
2777  0BD9  D5          	push	de
2778  0BDA  F5          	push	af
2779  0BDB  33          	inc	sp
2780  0BDC  CD 00 00    	call	_enemy_init
2781  0BDF  F1          	pop	af
2782  0BE0  F1          	pop	af
2783  0BE1  33          	inc	sp
2784  0BE2  2E 00       	ld	l,0x00
2785  0BE4              l_game_enemy_add1_00131:
2786  0BE4  F1          	pop	af
2787  0BE5  DD E1       	pop	ix
2788  0BE7  C9          	ret
2789  0BE8              	SECTION code_compiler
2790  0BE8              ;	---------------------------------
2791  0BE8              ; Function game_enemy_add_get_index
2792  0BE8              ; ---------------------------------
2793  0BE8              _game_enemy_add_get_index:
2794  0BE8  4D          	ld	c,l
2795  0BE9  21 00 00    	ld	hl,_enemies
2796  0BEC  36 00       	ld	(hl),0x00
2797  0BEE              l_game_enemy_add_get_index_00104:
2798  0BEE  2A 00 00    	ld	hl,(_enemies)
2799  0BF1  26 00       	ld	h,0x00
2800  0BF3  11 00 00    	ld	de,_class
2801  0BF6  19          	add	hl,de
2802  0BF7  46          	ld	b, (hl)
2803  0BF8  79          	ld	a,c
2804  0BF9  90          	sub	a,b
2805  0BFA  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2806  0BFC  2A 00 00    	ld	hl,(_enemies)
2807  0BFF  18 0B       	jr	l_game_enemy_add_get_index_00106
2808  0C01              l_game_enemy_add_get_index_00105:
2809  0C01  21 00 00    	ld	hl,_enemies
2810  0C04  34          	inc	(hl)
2811  0C05  3E 05       	ld	a,0x05
2812  0C07  96          	sub	a, (hl)
2813  0C08  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2814  0C0A  2E FF       	ld	l,0xff
2815  0C0C              l_game_enemy_add_get_index_00106:
2816  0C0C  C9          	ret
2817  0C0D              	SECTION code_compiler
2818  0C0D              ;	---------------------------------
2819  0C0D              ; Function game_freeze
2820  0C0D              ; ---------------------------------
2821  0C0D              _game_freeze:
2822  0C0D  CD 00 00    	call	___sdcc_enter_ix
2823  0C10  DD 7E 05    	ld	a,(ix+5)
2824  0C13  D6 1F       	sub	a,0x1f
2825  0C15  30 60       	jr	NC,l_game_freeze_00107
2826  0C17  21 00 00    	ld	hl,_tmp
2827  0C1A  36 01       	ld	(hl),0x01
2828  0C1C  DD 66 05    	ld	h,(ix+5)
2829  0C1F  DD 6E 04    	ld	l,(ix+4)
2830  0C22  E5          	push	hl
2831  0C23  CD 00 00    	call	_game_calc_index
2832  0C26  F1          	pop	af
2833  0C27  22 00 00    	ld	(_index1),hl
2834  0C2A  01 00 00    	ld	bc,_lvl_1
2835  0C2D  09          	add	hl,bc
2836  0C2E  7E          	ld	a,(hl)
2837  0C2F  D6 84       	sub	a,0x84
2838  0C31  20 44       	jr	NZ,l_game_freeze_00107
2839  0C33  36 8B       	ld	(hl),0x8b
2840  0C35  76          	halt
2841  0C36  DD 7E 05    	ld	a,(ix+5)
2842  0C39  F5          	push	af
2843  0C3A  33          	inc	sp
2844  0C3B  DD 56 04    	ld	d,(ix+4)
2845  0C3E  1E 8B       	ld	e,0x8b
2846  0C40  D5          	push	de
2847  0C41  CD 00 00    	call	_NIRVANAP_drawT_callee
2848  0C44  ED 4B 00 00 	ld	bc,(_index1)
2849  0C48  03          	inc	bc
2850  0C49  21 00 00    	ld	hl,_lvl_1
2851  0C4C  09          	add	hl,bc
2852  0C4D  4E          	ld	c,(hl)
2853  0C4E  DD 46 05    	ld	b,(ix+5)
2854  0C51  04          	inc	b
2855  0C52  79          	ld	a,c
2856  0C53  D6 A9       	sub	a,0xa9
2857  0C55  20 0C       	jr	NZ,l_game_freeze_00102
2858  0C57  C5          	push	bc
2859  0C58  DD 4E 04    	ld	c,(ix+4)
2860  0C5B  C5          	push	bc
2861  0C5C  AF          	xor	a, a
2862  0C5D  F5          	push	af
2863  0C5E  33          	inc	sp
2864  0C5F  CD 00 00    	call	_NIRVANAP_fillT_callee
2865  0C62  C1          	pop	bc
2866  0C63              l_game_freeze_00102:
2867  0C63  DD 4E 04    	ld	c,(ix+4)
2868  0C66  C5          	push	bc
2869  0C67  CD 0D 0C    	call	_game_freeze
2870  0C6A  F1          	pop	af
2871  0C6B  DD 46 05    	ld	b,(ix+5)
2872  0C6E  05          	dec	b
2873  0C6F  DD 4E 04    	ld	c,(ix+4)
2874  0C72  C5          	push	bc
2875  0C73  CD 0D 0C    	call	_game_freeze
2876  0C76  F1          	pop	af
2877  0C77              l_game_freeze_00107:
2878  0C77  DD E1       	pop	ix
2879  0C79  C9          	ret
2880  0C7A              	SECTION code_compiler
2881  0C7A              ;	---------------------------------
2882  0C7A              ; Function game_unfreeze_all
2883  0C7A              ; ---------------------------------
2884  0C7A              _game_unfreeze_all:
2885  0C7A  21 C0 00    	ld	hl,0x00c0
2886  0C7D  22 00 00    	ld	(_index1),hl
2887  0C80              l_game_unfreeze_all_00104:
2888  0C80  01 00 00    	ld	bc,_lvl_1
2889  0C83  2A 00 00    	ld	hl,(_index1)
2890  0C86  09          	add	hl,bc
2891  0C87  7E          	ld	a,(hl)
2892  0C88  D6 8B       	sub	a,0x8b
2893  0C8A  20 02       	jr	NZ,l_game_unfreeze_all_00105
2894  0C8C  36 84       	ld	(hl),0x84
2895  0C8E              l_game_unfreeze_all_00105:
2896  0C8E  21 00 00    	ld	hl,_index1
2897  0C91  34          	inc	(hl)
2898  0C92  20 02       	jr	NZ,l_game_unfreeze_all_00118
2899  0C94  23          	inc	hl
2900  0C95  34          	inc	(hl)
2901  0C96              l_game_unfreeze_all_00118:
2902  0C96  3E 20       	ld	a,0x20
2903  0C98  21 00 00    	ld	hl,_index1
2904  0C9B  BE          	cp	a, (hl)
2905  0C9C  3E 02       	ld	a,0x02
2906  0C9E  23          	inc	hl
2907  0C9F  9E          	sbc	a, (hl)
2908  0CA0  30 DE       	jr	NC,l_game_unfreeze_all_00104
2909  0CA2  C9          	ret
2910  0CA3              	SECTION code_compiler
2911  0CA3              ;	---------------------------------
2912  0CA3              ; Function game_freeze_all
2913  0CA3              ; ---------------------------------
2914  0CA3              _game_freeze_all:
2915  0CA3  21 C0 00    	ld	hl,0x00c0
2916  0CA6  22 00 00    	ld	(_index1),hl
2917  0CA9              l_game_freeze_all_00104:
2918  0CA9  01 00 00    	ld	bc,_lvl_1
2919  0CAC  2A 00 00    	ld	hl,(_index1)
2920  0CAF  09          	add	hl,bc
2921  0CB0  7E          	ld	a,(hl)
2922  0CB1  D6 84       	sub	a,0x84
2923  0CB3  20 02       	jr	NZ,l_game_freeze_all_00105
2924  0CB5  36 8B       	ld	(hl),0x8b
2925  0CB7              l_game_freeze_all_00105:
2926  0CB7  21 00 00    	ld	hl,_index1
2927  0CBA  34          	inc	(hl)
2928  0CBB  20 02       	jr	NZ,l_game_freeze_all_00118
2929  0CBD  23          	inc	hl
2930  0CBE  34          	inc	(hl)
2931  0CBF              l_game_freeze_all_00118:
2932  0CBF  3E 20       	ld	a,0x20
2933  0CC1  21 00 00    	ld	hl,_index1
2934  0CC4  BE          	cp	a, (hl)
2935  0CC5  3E 02       	ld	a,0x02
2936  0CC7  23          	inc	hl
2937  0CC8  9E          	sbc	a, (hl)
2938  0CC9  30 DE       	jr	NC,l_game_freeze_all_00104
2939  0CCB  C9          	ret
2940  0CCC              	SECTION code_compiler
2941  0CCC              ;	---------------------------------
2942  0CCC              ; Function game_print_score
2943  0CCC              ; ---------------------------------
2944  0CCC              _game_print_score:
2945  0CCC  21 00 00    	ld	hl,_screen_ink
2946  0CCF  36 07       	ld	(hl),0x07
2947  0CD1  21 00 00    	ld	hl,_screen_paper
2948  0CD4  36 00       	ld	(hl),0x00
2949  0CD6  2A 00 00    	ld	hl,(_player_score)
2950  0CD9  E5          	push	hl
2951  0CDA  21 00 03    	ld	hl,0x0300
2952  0CDD  E5          	push	hl
2953  0CDE  CD 00 00    	call	_zx_print_int
2954  0CE1  2A 00 00    	ld	hl,(_game_score_top)
2955  0CE4  E5          	push	hl
2956  0CE5  21 00 0E    	ld	hl,0x0e00
2957  0CE8  E5          	push	hl
2958  0CE9  CD 00 00    	call	_zx_print_int
2959  0CEC  3A 00 00    	ld	a,(_game_two_player)
2960  0CEF  B7          	or	a, a
2961  0CF0  C8          	ret	Z
2962  0CF1  2A 02 00    	ld	hl, (_player_score + 2)
2963  0CF4  E5          	push	hl
2964  0CF5  21 00 18    	ld	hl,0x1800
2965  0CF8  E5          	push	hl
2966  0CF9  CD 00 00    	call	_zx_print_int
2967  0CFC  C9          	ret
2968  0CFD              	SECTION code_compiler
2969  0CFD              ;	---------------------------------
2970  0CFD              ; Function game_paint_attrib
2971  0CFD              ; ---------------------------------
2972  0CFD              _game_paint_attrib:
2973  0CFD  7D          	ld	a,l
2974  0CFE  32 00 00    	ld	(_tmp0),a
2975  0D01              l_game_paint_attrib_00103:
2976  0D01  3E 13       	ld	a,0x13
2977  0D03  21 00 00    	ld	hl,_tmp0
2978  0D06  96          	sub	a, (hl)
2979  0D07  D8          	ret	C
2980  0D08  7E          	ld	a,(hl)
2981  0D09  07          	rlca
2982  0D0A  07          	rlca
2983  0D0B  07          	rlca
2984  0D0C  E6 F8       	and	a,0xf8
2985  0D0E  C6 08       	add	a,0x08
2986  0D10  F5          	push	af
2987  0D11  33          	inc	sp
2988  0D12  21 01 1F    	ld	hl,0x1f01
2989  0D15  E5          	push	hl
2990  0D16  CD 21 0D    	call	_game_paint_attrib_lin
2991  0D19  F1          	pop	af
2992  0D1A  33          	inc	sp
2993  0D1B  21 00 00    	ld	hl,_tmp0
2994  0D1E  34          	inc	(hl)
2995  0D1F  18 E0       	jr	l_game_paint_attrib_00103
2996  0D21              	SECTION code_compiler
2997  0D21              ;	---------------------------------
2998  0D21              ; Function game_paint_attrib_lin
2999  0D21              ; ---------------------------------
3000  0D21              _game_paint_attrib_lin:
3001  0D21  CD 00 00    	call	___sdcc_enter_ix
3002  0D24  DD 7E 04    	ld	a,(ix+4)
3003  0D27  32 00 00    	ld	(_tmp_uc),a
3004  0D2A              l_game_paint_attrib_lin_00103:
3005  0D2A  21 00 00    	ld	hl,_tmp_uc
3006  0D2D  7E          	ld	a,(hl)
3007  0D2E  DD 96 05    	sub	a,(ix+5)
3008  0D31  30 12       	jr	NC,l_game_paint_attrib_lin_00105
3009  0D33  66          	ld	h,(hl)
3010  0D34  DD 6E 06    	ld	l,(ix+6)
3011  0D37  E5          	push	hl
3012  0D38  21 00 00    	ld	hl,_attrib
3013  0D3B  E5          	push	hl
3014  0D3C  CD 00 00    	call	_NIRVANAP_paintC_callee
3015  0D3F  21 00 00    	ld	hl,_tmp_uc
3016  0D42  34          	inc	(hl)
3017  0D43  18 E5       	jr	l_game_paint_attrib_lin_00103
3018  0D45              l_game_paint_attrib_lin_00105:
3019  0D45  DD E1       	pop	ix
3020  0D47  C9          	ret
3021  0D48              	SECTION code_compiler
3022  0D48              ;	---------------------------------
3023  0D48              ; Function game_paint_attrib_lin_h
3024  0D48              ; ---------------------------------
3025  0D48              _game_paint_attrib_lin_h:
3026  0D48  CD 00 00    	call	___sdcc_enter_ix
3027  0D4B  DD 7E 04    	ld	a,(ix+4)
3028  0D4E  32 00 00    	ld	(_tmp_uc),a
3029  0D51              l_game_paint_attrib_lin_h_00103:
3030  0D51  21 00 00    	ld	hl,_tmp_uc
3031  0D54  7E          	ld	a,(hl)
3032  0D55  DD 96 05    	sub	a,(ix+5)
3033  0D58  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3034  0D5A  66          	ld	h,(hl)
3035  0D5B  DD 6E 06    	ld	l,(ix+6)
3036  0D5E  E5          	push	hl
3037  0D5F  21 00 00    	ld	hl,_attrib_hl
3038  0D62  E5          	push	hl
3039  0D63  CD 00 00    	call	_NIRVANAP_paintC_callee
3040  0D66  21 00 00    	ld	hl,_tmp_uc
3041  0D69  34          	inc	(hl)
3042  0D6A  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3043  0D6C              l_game_paint_attrib_lin_h_00105:
3044  0D6C  DD E1       	pop	ix
3045  0D6E  C9          	ret
3046  0D6F              	SECTION code_compiler
3047  0D6F              ;	---------------------------------
3048  0D6F              ; Function game_menu_config
3049  0D6F              ; ---------------------------------
3050  0D6F              _game_menu_config:
3051  0D6F  CD 00 00    	call	___sdcc_enter_ix
3052  0D72  F5          	push	af
3053  0D73  3B          	dec	sp
3054  0D74  2E 0B       	ld	l,0x0b
3055  0D76  CD FD 0C    	call	_game_paint_attrib
3056  0D79  DD 36 FD 01 	ld	(ix-3),0x01
3057  0D7D              l_game_menu_config_00116:
3058  0D7D  DD 7E FD    	ld	a,(ix-3)
3059  0D80  B7          	or	a, a
3060  0D81  CA DB 0E    	jp	Z,l_game_menu_config_00119
3061  0D84              l_game_menu_config_00101:
3062  0D84  21 00 00    	ld	hl,_k1
3063  0D87  E5          	push	hl
3064  0D88  2A 00 00    	ld	hl,(_joyfunc1)
3065  0D8B  CD 00 00    	call	___sdcc_call_hl
3066  0D8E  F1          	pop	af
3067  0D8F  7C          	ld	a,h
3068  0D90  B5          	or	a,l
3069  0D91  20 F1       	jr	NZ,l_game_menu_config_00101
3070  0D93  3A 00 00    	ld	a,(_spec128)
3071  0D96  B7          	or	a,a
3072  0D97  28 0A       	jr	Z,l_game_menu_config_00121
3073  0D99  DD 36 FE A1 	ld	(ix-2),+((___str_23) & 0xFF)
3074  0D9D  DD 36 FF 00 	ld	(ix-1),+((___str_23) / 256)
3075  0DA1  18 08       	jr	l_game_menu_config_00122
3076  0DA3              l_game_menu_config_00121:
3077  0DA3  DD 36 FE AC 	ld	(ix-2),+((___str_24) & 0xFF)
3078  0DA7  DD 36 FF 00 	ld	(ix-1),+((___str_24) / 256)
3079  0DAB              l_game_menu_config_00122:
3080  0DAB  DD 4E FE    	ld	c,(ix-2)
3081  0DAE  DD 46 FF    	ld	b,(ix-1)
3082  0DB1  C5          	push	bc
3083  0DB2  21 0E 0A    	ld	hl,0x0a0e
3084  0DB5  E5          	push	hl
3085  0DB6  CD 00 00    	call	_zx_print_str
3086  0DB9  21 B7 00    	ld	hl,___str_25
3087  0DBC  E5          	push	hl
3088  0DBD  21 0F 0A    	ld	hl,0x0a0f
3089  0DC0  E5          	push	hl
3090  0DC1  CD 00 00    	call	_zx_print_str
3091  0DC4  21 C2 00    	ld	hl,___str_26
3092  0DC7  E5          	push	hl
3093  0DC8  21 10 0A    	ld	hl,0x0a10
3094  0DCB  E5          	push	hl
3095  0DCC  CD 00 00    	call	_zx_print_str
3096  0DCF  21 CD 00    	ld	hl,___str_27
3097  0DD2  E5          	push	hl
3098  0DD3  21 11 0A    	ld	hl,0x0a11
3099  0DD6  E5          	push	hl
3100  0DD7  CD 00 00    	call	_zx_print_str
3101  0DDA  21 D8 00    	ld	hl,___str_28
3102  0DDD  E5          	push	hl
3103  0DDE  21 12 0A    	ld	hl,0x0a12
3104  0DE1  E5          	push	hl
3105  0DE2  CD 00 00    	call	_zx_print_str
3106  0DE5  3A 00 00    	ld	a,(_game_sound)
3107  0DE8  E6 05       	and	a,0x05
3108  0DEA  28 05       	jr	Z,l_game_menu_config_00123
3109  0DEC  01 E3 00    	ld	bc,___str_29
3110  0DEF  18 03       	jr	l_game_menu_config_00124
3111  0DF1              l_game_menu_config_00123:
3112  0DF1  01 E7 00    	ld	bc,___str_30
3113  0DF4              l_game_menu_config_00124:
3114  0DF4  C5          	push	bc
3115  0DF5  21 0E 14    	ld	hl,0x140e
3116  0DF8  E5          	push	hl
3117  0DF9  CD 00 00    	call	_zx_print_str
3118  0DFC  3E 02       	ld	a,0x02
3119  0DFE  21 00 00    	ld	hl,_game_type
3120  0E01  96          	sub	a, (hl)
3121  0E02  38 34       	jr	C,l_game_menu_config_00107
3122  0E04  5E          	ld	e,(hl)
3123  0E05  16 00       	ld	d,0x00
3124  0E07  21 0D 0E    	ld	hl,l_game_menu_config_00164
3125  0E0A  19          	add	hl,de
3126  0E0B  19          	add	hl,de
3127  0E0C  E9          	jp	(hl)
3128  0E0D              l_game_menu_config_00164:
3129  0E0D  18 04       	jr	l_game_menu_config_00104
3130  0E0F  18 0F       	jr	l_game_menu_config_00105
3131  0E11  18 1A       	jr	l_game_menu_config_00106
3132  0E13              l_game_menu_config_00104:
3133  0E13  21 EB 00    	ld	hl,___str_31
3134  0E16  E5          	push	hl
3135  0E17  21 0F 14    	ld	hl,0x140f
3136  0E1A  E5          	push	hl
3137  0E1B  CD 00 00    	call	_zx_print_str
3138  0E1E  18 18       	jr	l_game_menu_config_00107
3139  0E20              l_game_menu_config_00105:
3140  0E20  21 EF 00    	ld	hl,___str_32
3141  0E23  E5          	push	hl
3142  0E24  21 0F 14    	ld	hl,0x140f
3143  0E27  E5          	push	hl
3144  0E28  CD 00 00    	call	_zx_print_str
3145  0E2B  18 0B       	jr	l_game_menu_config_00107
3146  0E2D              l_game_menu_config_00106:
3147  0E2D  21 F3 00    	ld	hl,___str_33
3148  0E30  E5          	push	hl
3149  0E31  21 0F 14    	ld	hl,0x140f
3150  0E34  E5          	push	hl
3151  0E35  CD 00 00    	call	_zx_print_str
3152  0E38              l_game_menu_config_00107:
3153  0E38  2A 00 00    	ld	hl,(_player_joy)
3154  0E3B  29          	add	hl, hl
3155  0E3C  11 00 00    	ld	de,_joynames
3156  0E3F  19          	add	hl,de
3157  0E40  4E          	ld	c,(hl)
3158  0E41  23          	inc	hl
3159  0E42  46          	ld	b,(hl)
3160  0E43  C5          	push	bc
3161  0E44  21 10 14    	ld	hl,0x1410
3162  0E47  E5          	push	hl
3163  0E48  CD 00 00    	call	_zx_print_str
3164  0E4B  2A 02 00    	ld	hl, (_player_joy + 2)
3165  0E4E  29          	add	hl, hl
3166  0E4F  11 00 00    	ld	de,_joynames
3167  0E52  19          	add	hl,de
3168  0E53  4E          	ld	c,(hl)
3169  0E54  23          	inc	hl
3170  0E55  46          	ld	b,(hl)
3171  0E56  C5          	push	bc
3172  0E57  21 11 14    	ld	hl,0x1411
3173  0E5A  E5          	push	hl
3174  0E5B  CD 00 00    	call	_zx_print_str
3175  0E5E  21 00 00    	ld	hl,0x0000
3176  0E61  E5          	push	hl
3177  0E62  21 0E 12    	ld	hl,0x120e
3178  0E65  E5          	push	hl
3179  0E66  21 0A 01    	ld	hl,0x010a
3180  0E69  E5          	push	hl
3181  0E6A  CD 99 11    	call	_game_menu_handle
3182  0E6D  F1          	pop	af
3183  0E6E  F1          	pop	af
3184  0E6F  F1          	pop	af
3185  0E70  7D          	ld	a,l
3186  0E71  32 00 00    	ld	(_game_menu_sel),a
3187  0E74  21 00 00    	ld	hl,_ay_effect_10
3188  0E77  CD 00 00    	call	_ay_fx_play
3189  0E7A  CD 00 00    	call	_sound_coin
3190  0E7D  3E 04       	ld	a,0x04
3191  0E7F  21 00 00    	ld	hl,_game_menu_sel
3192  0E82  96          	sub	a, (hl)
3193  0E83  DA 7D 0D    	jp	C,l_game_menu_config_00116
3194  0E86  5E          	ld	e,(hl)
3195  0E87  16 00       	ld	d,0x00
3196  0E89  21 8F 0E    	ld	hl,l_game_menu_config_00165
3197  0E8C  19          	add	hl,de
3198  0E8D  19          	add	hl,de
3199  0E8E  E9          	jp	(hl)
3200  0E8F              l_game_menu_config_00165:
3201  0E8F  18 08       	jr	l_game_menu_config_00108
3202  0E91  18 1A       	jr	l_game_menu_config_00109
3203  0E93  18 27       	jr	l_game_menu_config_00112
3204  0E95  18 2D       	jr	l_game_menu_config_00113
3205  0E97  18 33       	jr	l_game_menu_config_00114
3206  0E99              l_game_menu_config_00108:
3207  0E99  3A 00 00    	ld	a,(_spec128)
3208  0E9C  B7          	or	a, a
3209  0E9D  28 04       	jr	Z,l_game_menu_config_00125
3210  0E9F  3E 04       	ld	a,0x04
3211  0EA1  18 02       	jr	l_game_menu_config_00126
3212  0EA3              l_game_menu_config_00125:
3213  0EA3  3E 01       	ld	a,0x01
3214  0EA5              l_game_menu_config_00126:
3215  0EA5  21 00 00    	ld	hl,_game_sound
3216  0EA8  AE          	xor	a, (hl)
3217  0EA9  77          	ld	(hl),a
3218  0EAA  C3 7D 0D    	jp	l_game_menu_config_00116
3219  0EAD              l_game_menu_config_00109:
3220  0EAD  21 00 00    	ld	hl,_game_type
3221  0EB0  34          	inc	(hl)
3222  0EB1  3E 02       	ld	a,0x02
3223  0EB3  96          	sub	a, (hl)
3224  0EB4  D2 7D 0D    	jp	NC,l_game_menu_config_00116
3225  0EB7  36 00       	ld	(hl),0x00
3226  0EB9  C3 7D 0D    	jp	l_game_menu_config_00116
3227  0EBC              l_game_menu_config_00112:
3228  0EBC  2E 00       	ld	l,0x00
3229  0EBE  CD E0 0E    	call	_game_joystick_change
3230  0EC1  C3 7D 0D    	jp	l_game_menu_config_00116
3231  0EC4              l_game_menu_config_00113:
3232  0EC4  2E 01       	ld	l,0x01
3233  0EC6  CD E0 0E    	call	_game_joystick_change
3234  0EC9  C3 7D 0D    	jp	l_game_menu_config_00116
3235  0ECC              l_game_menu_config_00114:
3236  0ECC  21 00 00    	ld	hl,_game_menu_sel
3237  0ECF  36 00       	ld	(hl),0x00
3238  0ED1  CD 66 10    	call	_game_menu_paint
3239  0ED4  DD 36 FD 00 	ld	(ix-3),0x00
3240  0ED8  C3 7D 0D    	jp	l_game_menu_config_00116
3241  0EDB              l_game_menu_config_00119:
3242  0EDB  DD F9       	ld	sp, ix
3243  0EDD  DD E1       	pop	ix
3244  0EDF  C9          	ret
3245  0EE0              	SECTION rodata_compiler
3246  00A1              ___str_23:
3247  00A1  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3248  00AB  00          	DEFB 0x00
3249  00AC              	SECTION rodata_compiler
3250  00AC              ___str_24:
3251  00AC  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3252  00B6  00          	DEFB 0x00
3253  00B7              	SECTION rodata_compiler
3254  00B7              ___str_25:
3255  00B7  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3256  00C1  00          	DEFB 0x00
3257  00C2              	SECTION rodata_compiler
3258  00C2              ___str_26:
3259  00C2  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3260  00CC  00          	DEFB 0x00
3261  00CD              	SECTION rodata_compiler
3262  00CD              ___str_27:
3263  00CD  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3264  00D7  00          	DEFB 0x00
3265  00D8              	SECTION rodata_compiler
3266  00D8              ___str_28:
3267  00D8  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3268  00E2  00          	DEFB 0x00
3269  00E3              	SECTION rodata_compiler
3270  00E3              ___str_29:
3271  00E3  4F 4E 20    	DEFM "ON "
3272  00E6  00          	DEFB 0x00
3273  00E7              	SECTION rodata_compiler
3274  00E7              ___str_30:
3275  00E7  4F 46 46    	DEFM "OFF"
3276  00EA  00          	DEFB 0x00
3277  00EB              	SECTION rodata_compiler
3278  00EB              ___str_31:
3279  00EB  41 20 20    	DEFM "A  "
3280  00EE  00          	DEFB 0x00
3281  00EF              	SECTION rodata_compiler
3282  00EF              ___str_32:
3283  00EF  42 20 20    	DEFM "B  "
3284  00F2  00          	DEFB 0x00
3285  00F3              	SECTION rodata_compiler
3286  00F3              ___str_33:
3287  00F3  52 4E 44    	DEFM "RND"
3288  00F6  00          	DEFB 0x00
3289  00F7              	SECTION code_compiler
3290  0EE0              ;	---------------------------------
3291  0EE0              ; Function game_joystick_change
3292  0EE0              ; ---------------------------------
3293  0EE0              _game_joystick_change:
3294  0EE0  CD 00 00    	call	___sdcc_enter_ix
3295  0EE3  3B          	dec	sp
3296  0EE4  DD 75 FF    	ld	(ix-1),l
3297  0EE7  26 00       	ld	h,0x00
3298  0EE9  29          	add	hl, hl
3299  0EEA  01 00 00    	ld	bc,_player_joy
3300  0EED  09          	add	hl,bc
3301  0EEE  5E          	ld	e,(hl)
3302  0EEF  4D          	ld	c,l
3303  0EF0  44          	ld	b,h
3304  0EF1  23          	inc	hl
3305  0EF2  56          	ld	d,(hl)
3306  0EF3  13          	inc	de
3307  0EF4  69          	ld	l, c
3308  0EF5  60          	ld	h, b
3309  0EF6  73          	ld	(hl),e
3310  0EF7  23          	inc	hl
3311  0EF8  72          	ld	(hl),d
3312  0EF9  7B          	ld	a,e
3313  0EFA  D6 07       	sub	a,0x07
3314  0EFC  20 09       	jr	NZ,l_game_joystick_change_00102
3315  0EFE  B2          	or	a,d
3316  0EFF  20 06       	jr	NZ,l_game_joystick_change_00102
3317  0F01  69          	ld	l, c
3318  0F02  60          	ld	h, b
3319  0F03  AF          	xor	a, a
3320  0F04  77          	ld	(hl), a
3321  0F05  23          	inc	hl
3322  0F06  77          	ld	(hl), a
3323  0F07              l_game_joystick_change_00102:
3324  0F07  DD 7E FF    	ld	a,(ix-1)
3325  0F0A  B7          	or	a, a
3326  0F0B  20 15       	jr	NZ,l_game_joystick_change_00104
3327  0F0D  69          	ld	l, c
3328  0F0E  60          	ld	h, b
3329  0F0F  5E          	ld	e,(hl)
3330  0F10  23          	inc	hl
3331  0F11  56          	ld	d,(hl)
3332  0F12  1D          	dec	e
3333  0F13  20 0D       	jr	NZ,l_game_joystick_change_00104
3334  0F15  7A          	ld	a,d
3335  0F16  B7          	or	a, a
3336  0F17  20 09       	jr	NZ,l_game_joystick_change_00104
3337  0F19  ED 5B 00 00 	ld	de,(_player_joy)
3338  0F1D  13          	inc	de
3339  0F1E  ED 53 00 00 	ld	(_player_joy), de
3340  0F22              l_game_joystick_change_00104:
3341  0F22  DD 7E FF    	ld	a,(ix-1)
3342  0F25  3D          	dec	a
3343  0F26  20 11       	jr	NZ,l_game_joystick_change_00107
3344  0F28  69          	ld	l, c
3345  0F29  60          	ld	h, b
3346  0F2A  4E          	ld	c,(hl)
3347  0F2B  23          	inc	hl
3348  0F2C  7E          	ld	a, (hl)
3349  0F2D  B1          	or	a,c
3350  0F2E  20 09       	jr	NZ,l_game_joystick_change_00107
3351  0F30  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3352  0F34  03          	inc	bc
3353  0F35  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3354  0F39              l_game_joystick_change_00107:
3355  0F39  ED 4B 00 00 	ld	bc,(_player_joy)
3356  0F3D  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3357  0F41  79          	ld	a,c
3358  0F42  93          	sub	a, e
3359  0F43  20 18       	jr	NZ,l_game_joystick_change_00114
3360  0F45  78          	ld	a,b
3361  0F46  92          	sub	a, d
3362  0F47  20 14       	jr	NZ,l_game_joystick_change_00114
3363  0F49  DD 7E FF    	ld	a,(ix-1)
3364  0F4C  B7          	or	a, a
3365  0F4D  20 08       	jr	NZ,l_game_joystick_change_00110
3366  0F4F  21 01 00    	ld	hl,0x0001
3367  0F52  22 02 00    	ld	(_player_joy + 0x0002),hl
3368  0F55  18 06       	jr	l_game_joystick_change_00114
3369  0F57              l_game_joystick_change_00110:
3370  0F57  21 00 00    	ld	hl,0x0000
3371  0F5A  22 00 00    	ld	(_player_joy), hl
3372  0F5D              l_game_joystick_change_00114:
3373  0F5D  33          	inc	sp
3374  0F5E  DD E1       	pop	ix
3375  0F60  C9          	ret
3376  0F61              	SECTION code_compiler
3377  0F61              ;	---------------------------------
3378  0F61              ; Function game_joystick_set_menu
3379  0F61              ; ---------------------------------
3380  0F61              _game_joystick_set_menu:
3381  0F61  21 00 00    	ld	hl,_in_stick_sinclair1
3382  0F64  22 00 00    	ld	(_joyfunc1),hl
3383  0F67  21 00 00    	ld	hl,_in_stick_sinclair2
3384  0F6A  22 00 00    	ld	(_joyfunc2),hl
3385  0F6D  C9          	ret
3386  0F6E              	SECTION code_compiler
3387  0F6E              ;	---------------------------------
3388  0F6E              ; Function game_joystick_set
3389  0F6E              ; ---------------------------------
3390  0F6E              _game_joystick_set:
3391  0F6E  01 00 00    	ld	bc,_control_method+0
3392  0F71  2A 00 00    	ld	hl,(_player_joy)
3393  0F74  29          	add	hl, hl
3394  0F75  09          	add	hl,bc
3395  0F76  11 00 00    	ld	de,_joyfunc1
3396  0F79  ED A0       	ldi
3397  0F7B  03          	inc	bc
3398  0F7C  7E          	ld	a,(hl)
3399  0F7D  12          	ld	(de),a
3400  0F7E  2A 02 00    	ld	hl, (_player_joy + 2)
3401  0F81  29          	add	hl, hl
3402  0F82  09          	add	hl,bc
3403  0F83  11 00 00    	ld	de,_joyfunc2
3404  0F86  ED A0       	ldi
3405  0F88  7E          	ld	a,(hl)
3406  0F89  12          	ld	(de),a
3407  0F8A  C9          	ret
3408  0F8B              	SECTION code_compiler
3409  0F8B              ;	---------------------------------
3410  0F8B              ; Function game_menu
3411  0F8B              ; ---------------------------------
3412  0F8B              _game_menu:
3413  0F8B  21 00 00    	ld	hl,_game_menu_sel
3414  0F8E  36 00       	ld	(hl),0x00
3415  0F90  CD F2 0F    	call	_game_menu_top_paint
3416  0F93  CD 66 10    	call	_game_menu_paint
3417  0F96  CD 00 00    	call	_ay_reset
3418  0F99  21 00 00    	ld	hl,_pb_midi_title
3419  0F9C  CD 00 00    	call	_ay_midi_play
3420  0F9F              l_game_menu_00101:
3421  0F9F  21 00 00    	ld	hl,_k1
3422  0FA2  E5          	push	hl
3423  0FA3  2A 00 00    	ld	hl,(_joyfunc1)
3424  0FA6  CD 00 00    	call	___sdcc_call_hl
3425  0FA9  F1          	pop	af
3426  0FAA  7C          	ld	a,h
3427  0FAB  B5          	or	a,l
3428  0FAC  20 F1       	jr	NZ,l_game_menu_00101
3429  0FAE  21 E8 03    	ld	hl,0x03e8
3430  0FB1  E5          	push	hl
3431  0FB2  21 0E 12    	ld	hl,0x120e
3432  0FB5  E5          	push	hl
3433  0FB6  21 0C 02    	ld	hl,0x020c
3434  0FB9  E5          	push	hl
3435  0FBA  CD 99 11    	call	_game_menu_handle
3436  0FBD  F1          	pop	af
3437  0FBE  F1          	pop	af
3438  0FBF  F1          	pop	af
3439  0FC0  4D          	ld	c,l
3440  0FC1  21 00 00    	ld	hl,_tmp_uc
3441  0FC4  71          	ld	(hl),c
3442  0FC5  3E 02       	ld	a,0x02
3443  0FC7  96          	sub	a, (hl)
3444  0FC8  38 D5       	jr	C,l_game_menu_00101
3445  0FCA  5E          	ld	e,(hl)
3446  0FCB  16 00       	ld	d,0x00
3447  0FCD  21 D3 0F    	ld	hl,l_game_menu_00125
3448  0FD0  19          	add	hl,de
3449  0FD1  19          	add	hl,de
3450  0FD2  E9          	jp	(hl)
3451  0FD3              l_game_menu_00125:
3452  0FD3  18 04       	jr	l_game_menu_00104
3453  0FD5  18 0C       	jr	l_game_menu_00105
3454  0FD7  18 14       	jr	l_game_menu_00106
3455  0FD9              l_game_menu_00104:
3456  0FD9  21 00 00    	ld	hl,_game_two_player
3457  0FDC  36 00       	ld	(hl),0x00
3458  0FDE  CD 2E 03    	call	_game_loop
3459  0FE1  18 BC       	jr	l_game_menu_00101
3460  0FE3              l_game_menu_00105:
3461  0FE3  21 00 00    	ld	hl,_game_two_player
3462  0FE6  36 01       	ld	(hl),0x01
3463  0FE8  CD 2E 03    	call	_game_loop
3464  0FEB  18 B2       	jr	l_game_menu_00101
3465  0FED              l_game_menu_00106:
3466  0FED  CD 6F 0D    	call	_game_menu_config
3467  0FF0  18 AD       	jr	l_game_menu_00101
3468  0FF2              	SECTION code_compiler
3469  0FF2              ;	---------------------------------
3470  0FF2              ; Function game_menu_top_paint
3471  0FF2              ; ---------------------------------
3472  0FF2              _game_menu_top_paint:
3473  0FF2  CD 00 00    	call	_spr_draw_clear
3474  0FF5  2E 00       	ld	l,0x00
3475  0FF7  CD FD 0C    	call	_game_paint_attrib
3476  0FFA  21 9C 01    	ld	hl,0x019c
3477  0FFD  E5          	push	hl
3478  0FFE  21 00 1E    	ld	hl,0x1e00
3479  1001  E5          	push	hl
3480  1002  3E 10       	ld	a,0x10
3481  1004  F5          	push	af
3482  1005  33          	inc	sp
3483  1006  CD E6 10    	call	_game_menu_e
3484  1009  F1          	pop	af
3485  100A  33          	inc	sp
3486  100B  21 9F FF    	ld	hl,0xff9f
3487  100E  E3          	ex	(sp),hl
3488  100F  21 00 1E    	ld	hl,0x1e00
3489  1012  E5          	push	hl
3490  1013  3E 50       	ld	a,0x50
3491  1015  F5          	push	af
3492  1016  33          	inc	sp
3493  1017  CD E6 10    	call	_game_menu_e
3494  101A  F1          	pop	af
3495  101B  F1          	pop	af
3496  101C  33          	inc	sp
3497  101D  21 00 00    	ld	hl,_tmp
3498  1020  36 18       	ld	(hl),0x18
3499  1022  F3          	di
3500  1023  21 00 00    	ld	hl,_tmp_uc
3501  1026  36 00       	ld	(hl),0x00
3502  1028              l_game_menu_top_paint_00102:
3503  1028  3A 00 00    	ld	a,(_tmp_uc)
3504  102B  87          	add	a, a
3505  102C  C6 05       	add	a,0x05
3506  102E  47          	ld	b,a
3507  102F  3A 00 00    	ld	a,(_tmp)
3508  1032  C6 10       	add	a,0x10
3509  1034  57          	ld	d,a
3510  1035  3A 00 00    	ld	a,(_tmp_uc)
3511  1038  C6 C0       	add	a,0xc0
3512  103A  4A          	ld	c, d
3513  103B  C5          	push	bc
3514  103C  F5          	push	af
3515  103D  33          	inc	sp
3516  103E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3517  1041  3A 00 00    	ld	a,(_tmp_uc)
3518  1044  87          	add	a, a
3519  1045  C6 05       	add	a,0x05
3520  1047  47          	ld	b,a
3521  1048  3A 00 00    	ld	a,(_tmp)
3522  104B  C6 20       	add	a,0x20
3523  104D  57          	ld	d,a
3524  104E  3A 00 00    	ld	a,(_tmp_uc)
3525  1051  C6 CC       	add	a,0xcc
3526  1053  4A          	ld	c, d
3527  1054  C5          	push	bc
3528  1055  F5          	push	af
3529  1056  33          	inc	sp
3530  1057  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3531  105A  21 00 00    	ld	hl,_tmp_uc
3532  105D  7E          	ld	a,(hl)
3533  105E  3C          	inc	a
3534  105F  77          	ld	(hl),a
3535  1060  D6 0A       	sub	a,0x0a
3536  1062  38 C4       	jr	C,l_game_menu_top_paint_00102
3537  1064  FB          	ei
3538  1065  C9          	ret
3539  1066              	SECTION code_compiler
3540  1066              ;	---------------------------------
3541  1066              ; Function game_menu_paint
3542  1066              ; ---------------------------------
3543  1066              _game_menu_paint:
3544  1066  76          	halt
3545  1067  3A 00 00    	ld	a,(_tmp)
3546  106A  C6 28       	add	a,0x28
3547  106C  4F          	ld	c, a
3548  106D  06 1A       	ld	b,0x1a
3549  106F  C5          	push	bc
3550  1070  3E 12       	ld	a,0x12
3551  1072  F5          	push	af
3552  1073  33          	inc	sp
3553  1074  CD 00 00    	call	_NIRVANAP_fillC_callee
3554  1077  21 00 20    	ld	hl,0x2000
3555  107A  E5          	push	hl
3556  107B  CD 00 00    	call	_game_fill_row
3557  107E  21 00 20    	ld	hl,0x2000
3558  1081  E5          	push	hl
3559  1082  CD 00 00    	call	_game_fill_row
3560  1085  21 F7 00    	ld	hl,___str_34
3561  1088  E5          	push	hl
3562  1089  21 0E 0A    	ld	hl,0x0a0e
3563  108C  E5          	push	hl
3564  108D  CD 00 00    	call	_zx_print_str
3565  1090  21 0F 20    	ld	hl,0x200f
3566  1093  E5          	push	hl
3567  1094  CD 00 00    	call	_game_fill_row
3568  1097  21 05 01    	ld	hl,___str_35
3569  109A  E5          	push	hl
3570  109B  21 10 0A    	ld	hl,0x0a10
3571  109E  E5          	push	hl
3572  109F  CD 00 00    	call	_zx_print_str
3573  10A2  21 11 20    	ld	hl,0x2011
3574  10A5  E5          	push	hl
3575  10A6  CD 00 00    	call	_game_fill_row
3576  10A9  21 13 01    	ld	hl,___str_36
3577  10AC  E5          	push	hl
3578  10AD  21 12 0A    	ld	hl,0x0a12
3579  10B0  E5          	push	hl
3580  10B1  CD 00 00    	call	_zx_print_str
3581  10B4  21 13 20    	ld	hl,0x2013
3582  10B7  E5          	push	hl
3583  10B8  CD 00 00    	call	_game_fill_row
3584  10BB  21 00 00    	ld	hl,_screen_ink
3585  10BE  36 07       	ld	(hl),0x07
3586  10C0  21 21 01    	ld	hl,___str_37
3587  10C3  E5          	push	hl
3588  10C4  21 15 07    	ld	hl,0x0715
3589  10C7  E5          	push	hl
3590  10C8  CD 00 00    	call	_zx_print_str
3591  10CB  21 00 00    	ld	hl,_screen_ink
3592  10CE  36 01       	ld	(hl),0x01
3593  10D0  21 35 01    	ld	hl,___str_38
3594  10D3  E5          	push	hl
3595  10D4  21 17 03    	ld	hl,0x0317
3596  10D7  E5          	push	hl
3597  10D8  CD 00 00    	call	_zx_print_str
3598  10DB  21 00 00    	ld	hl,_tmp_uc
3599  10DE  36 00       	ld	(hl),0x00
3600  10E0  2E 0B       	ld	l,0x0b
3601  10E2  CD FD 0C    	call	_game_paint_attrib
3602  10E5  C9          	ret
3603  10E6              	SECTION rodata_compiler
3604  00F7              ___str_34:
3605  00F7  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3606  0104  00          	DEFB 0x00
3607  0105              	SECTION rodata_compiler
3608  0105              ___str_35:
3609  0105  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3610  0112  00          	DEFB 0x00
3611  0113              	SECTION rodata_compiler
3612  0113              ___str_36:
3613  0113  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3614  0120  00          	DEFB 0x00
3615  0121              	SECTION rodata_compiler
3616  0121              ___str_37:
3617  0121  53 45 4C 45 43 54 3A 36 37 38 39 20 53 54 41 52 54 3A 30 
                        	DEFM "SELECT:6789 START:0"
3618  0134  00          	DEFB 0x00
3619  0135              	SECTION rodata_compiler
3620  0135              ___str_38:
3621  0135  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 20 56 45 52 20 31 2E 39 20 20 
                        	DEFM "CODED BY CGONZALEZ VER 1.9  "
3622  0151  00          	DEFB 0x00
3623  0152              	SECTION code_compiler
3624  10E6              ;	---------------------------------
3625  10E6              ; Function game_menu_e
3626  10E6              ; ---------------------------------
3627  10E6              _game_menu_e:
3628  10E6  CD 00 00    	call	___sdcc_enter_ix
3629  10E9  F3          	di
3630  10EA  DD 4E 05    	ld	c,(ix+5)
3631  10ED  21 00 00    	ld	hl,_tmp_uc
3632  10F0  71          	ld	(hl),c
3633  10F1  DD 46 07    	ld	b,(ix+7)
3634  10F4  04          	inc	b
3635  10F5  DD 56 07    	ld	d,(ix+7)
3636  10F8  14          	inc	d
3637  10F9  14          	inc	d
3638  10FA              l_game_menu_e_00114:
3639  10FA  DD 7E 06    	ld	a,(ix+6)
3640  10FD  21 00 00    	ld	hl,_tmp_uc
3641  1100  96          	sub	a, (hl)
3642  1101  38 56       	jr	C,l_game_menu_e_00109
3643  1103  7E          	ld	a,(hl)
3644  1104  91          	sub	a, c
3645  1105  20 15       	jr	NZ,l_game_menu_e_00102
3646  1107  3A 00 00    	ld	a,(_tmp_uc)
3647  110A  C5          	push	bc
3648  110B  D5          	push	de
3649  110C  F5          	push	af
3650  110D  33          	inc	sp
3651  110E  DD 66 04    	ld	h,(ix+4)
3652  1111  DD 6E 07    	ld	l,(ix+7)
3653  1114  E5          	push	hl
3654  1115  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3655  1118  D1          	pop	de
3656  1119  C1          	pop	bc
3657  111A  18 36       	jr	l_game_menu_e_00108
3658  111C              l_game_menu_e_00102:
3659  111C  3A 00 00    	ld	a,(_tmp_uc)
3660  111F  DD 96 06    	sub	a,(ix+6)
3661  1122  20 14       	jr	NZ,l_game_menu_e_00104
3662  1124  3A 00 00    	ld	a,(_tmp_uc)
3663  1127  C5          	push	bc
3664  1128  D5          	push	de
3665  1129  F5          	push	af
3666  112A  33          	inc	sp
3667  112B  DD 7E 04    	ld	a,(ix+4)
3668  112E  5A          	ld	e,d
3669  112F  57          	ld	d,a
3670  1130  D5          	push	de
3671  1131  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3672  1134  D1          	pop	de
3673  1135  C1          	pop	bc
3674  1136  18 1A       	jr	l_game_menu_e_00108
3675  1138              l_game_menu_e_00104:
3676  1138  3A 00 00    	ld	a,(_tmp_uc)
3677  113B  FE 0E       	cp	a,0x0e
3678  113D  28 13       	jr	Z,l_game_menu_e_00108
3679  113F  FE 10       	cp	a,0x10
3680  1141  28 0F       	jr	Z,l_game_menu_e_00108
3681  1143  C5          	push	bc
3682  1144  D5          	push	de
3683  1145  F5          	push	af
3684  1146  33          	inc	sp
3685  1147  DD 7E 04    	ld	a,(ix+4)
3686  114A  48          	ld	c,b
3687  114B  47          	ld	b,a
3688  114C  C5          	push	bc
3689  114D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3690  1150  D1          	pop	de
3691  1151  C1          	pop	bc
3692  1152              l_game_menu_e_00108:
3693  1152  21 00 00    	ld	hl,_tmp_uc
3694  1155  34          	inc	(hl)
3695  1156  34          	inc	(hl)
3696  1157  18 A1       	jr	l_game_menu_e_00114
3697  1159              l_game_menu_e_00109:
3698  1159  DD 7E 08    	ld	a,(ix+8)
3699  115C  3C          	inc	a
3700  115D  20 0A       	jr	NZ,l_game_menu_e_00111
3701  115F  DD 7E 04    	ld	a,(ix+4)
3702  1162  C6 F0       	add	a,0xf0
3703  1164  DD 77 04    	ld	(ix+4),a
3704  1167  18 08       	jr	l_game_menu_e_00112
3705  1169              l_game_menu_e_00111:
3706  1169  DD 7E 04    	ld	a,(ix+4)
3707  116C  C6 10       	add	a,0x10
3708  116E  DD 77 04    	ld	(ix+4),a
3709  1171              l_game_menu_e_00112:
3710  1171  DD 7E 07    	ld	a,(ix+7)
3711  1174  C6 0C       	add	a,0x0c
3712  1176  47          	ld	b,a
3713  1177  79          	ld	a,c
3714  1178  F5          	push	af
3715  1179  33          	inc	sp
3716  117A  DD 7E 04    	ld	a,(ix+4)
3717  117D  48          	ld	c,b
3718  117E  47          	ld	b,a
3719  117F  C5          	push	bc
3720  1180  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3721  1183  DD 7E 07    	ld	a,(ix+7)
3722  1186  C6 0E       	add	a,0x0e
3723  1188  47          	ld	b,a
3724  1189  DD 66 06    	ld	h,(ix+6)
3725  118C  DD 6E 04    	ld	l,(ix+4)
3726  118F  E5          	push	hl
3727  1190  C5          	push	bc
3728  1191  33          	inc	sp
3729  1192  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3730  1195  FB          	ei
3731  1196  DD E1       	pop	ix
3732  1198  C9          	ret
3733  1199              	SECTION code_compiler
3734  1199              ;	---------------------------------
3735  1199              ; Function game_menu_handle
3736  1199              ; ---------------------------------
3737  1199              _game_menu_handle:
3738  1199  CD 00 00    	call	___sdcc_enter_ix
3739  119C  3B          	dec	sp
3740  119D  2A 00 00    	ld	hl,(_curr_time)
3741  11A0  22 00 00    	ld	(_entry_time),hl
3742  11A3  DD 5E 05    	ld	e,(ix+5)
3743  11A6  2A FF FF    	ld	hl,(_game_menu_sel-1)
3744  11A9  2E 00       	ld	l,0x00
3745  11AB  55          	ld	d, l
3746  11AC  06 08       	ld	b,0x08
3747  11AE              l_game_menu_handle_00148:
3748  11AE  29          	add	hl,hl
3749  11AF  30 01       	jr	NC,l_game_menu_handle_00149
3750  11B1  19          	add	hl,de
3751  11B2              l_game_menu_handle_00149:
3752  11B2  10 FA       	djnz	l_game_menu_handle_00148
3753  11B4  DD 7E 06    	ld	a,(ix+6)
3754  11B7  85          	add	a,l
3755  11B8  32 00 00    	ld	(_s_lin1),a
3756  11BB  DD 7E 06    	ld	a,(ix+6)
3757  11BE  DD 77 FF    	ld	(ix-1),a
3758  11C1              l_game_menu_handle_00111:
3759  11C1  21 00 00    	ld	hl,_k1
3760  11C4  E5          	push	hl
3761  11C5  2A 00 00    	ld	hl,(_joyfunc1)
3762  11C8  CD 00 00    	call	___sdcc_call_hl
3763  11CB  F1          	pop	af
3764  11CC  7D          	ld	a,l
3765  11CD  32 00 00    	ld	(_dirs),a
3766  11D0  D6 80       	sub	a,0x80
3767  11D2  CA 74 12    	jp	Z,l_game_menu_handle_00113
3768  11D5  21 05 00    	ld	hl,0x0005
3769  11D8  E5          	push	hl
3770  11D9  2A 00 00    	ld	hl,(_frame_time)
3771  11DC  E5          	push	hl
3772  11DD  CD 46 1A    	call	_game_check_time
3773  11E0  F1          	pop	af
3774  11E1  F1          	pop	af
3775  11E2  7D          	ld	a,l
3776  11E3  B7          	or	a, a
3777  11E4  28 58       	jr	Z,l_game_menu_handle_00106
3778  11E6  3A 00 00    	ld	a,(_dirs)
3779  11E9  B7          	or	a, a
3780  11EA  28 32       	jr	Z,l_game_menu_handle_00104
3781  11EC  21 00 00    	ld	hl,_ay_effect_03
3782  11EF  CD 00 00    	call	_ay_fx_play
3783  11F2  CD 00 00    	call	_sound_slide
3784  11F5  3A 00 00    	ld	a,(_s_lin1)
3785  11F8  07          	rlca
3786  11F9  07          	rlca
3787  11FA  07          	rlca
3788  11FB  E6 F8       	and	a,0xf8
3789  11FD  C6 08       	add	a,0x08
3790  11FF  F5          	push	af
3791  1200  33          	inc	sp
3792  1201  26 14       	ld	h,0x14
3793  1203  DD 6E 04    	ld	l,(ix+4)
3794  1206  E5          	push	hl
3795  1207  CD 21 0D    	call	_game_paint_attrib_lin
3796  120A  F1          	pop	af
3797  120B  33          	inc	sp
3798  120C  21 00 00    	ld	hl,_s_lin1
3799  120F  7E          	ld	a,(hl)
3800  1210  DD 86 05    	add	a,(ix+5)
3801  1213  77          	ld	(hl),a
3802  1214  DD 7E 07    	ld	a,(ix+7)
3803  1217  96          	sub	a, (hl)
3804  1218  30 04       	jr	NC,l_game_menu_handle_00104
3805  121A  DD 7E FF    	ld	a,(ix-1)
3806  121D  77          	ld	(hl),a
3807  121E              l_game_menu_handle_00104:
3808  121E  2A 00 00    	ld	hl,(_curr_time)
3809  1221  22 00 00    	ld	(_frame_time),hl
3810  1224  3A 00 00    	ld	a,(_s_lin1)
3811  1227  07          	rlca
3812  1228  07          	rlca
3813  1229  07          	rlca
3814  122A  E6 F8       	and	a,0xf8
3815  122C  C6 08       	add	a,0x08
3816  122E  F5          	push	af
3817  122F  33          	inc	sp
3818  1230  26 14       	ld	h,0x14
3819  1232  DD 6E 04    	ld	l,(ix+4)
3820  1235  E5          	push	hl
3821  1236  CD 48 0D    	call	_game_paint_attrib_lin_h
3822  1239  F1          	pop	af
3823  123A  33          	inc	sp
3824  123B  CD 98 19    	call	_game_rotate_attrib
3825  123E              l_game_menu_handle_00106:
3826  123E  DD 7E 09    	ld	a,(ix+9)
3827  1241  DD B6 08    	or	a,(ix+8)
3828  1244  CA C1 11    	jp	Z,l_game_menu_handle_00111
3829  1247  DD 6E 08    	ld	l,(ix+8)
3830  124A  DD 66 09    	ld	h,(ix+9)
3831  124D  E5          	push	hl
3832  124E  2A 00 00    	ld	hl,(_entry_time)
3833  1251  E5          	push	hl
3834  1252  CD 46 1A    	call	_game_check_time
3835  1255  F1          	pop	af
3836  1256  F1          	pop	af
3837  1257  7D          	ld	a,l
3838  1258  B7          	or	a, a
3839  1259  CA C1 11    	jp	Z,l_game_menu_handle_00111
3840  125C  CD 00 00    	call	_ay_is_playing
3841  125F  7D          	ld	a,l
3842  1260  B7          	or	a, a
3843  1261  C2 C1 11    	jp	NZ,l_game_menu_handle_00111
3844  1264  CD C7 18    	call	_game_hall_of_fame
3845  1267  21 00 00    	ld	hl,_game_menu_sel
3846  126A  2E 00       	ld	l,0x00
3847  126C  75          	ld	(hl),l
3848  126D  CD C6 16    	call	_game_menu_back
3849  1270  2E FF       	ld	l,0xff
3850  1272  18 10       	jr	l_game_menu_handle_00114
3851  1274              l_game_menu_handle_00113:
3852  1274  3A 00 00    	ld	a,(_s_lin1)
3853  1277  DD 96 FF    	sub	a,(ix-1)
3854  127A  47          	ld	b,a
3855  127B  DD 7E 05    	ld	a,(ix+5)
3856  127E  48          	ld	c,b
3857  127F  47          	ld	b,a
3858  1280  C5          	push	bc
3859  1281  CD 00 00    	call	__divuchar_callee
3860  1284              l_game_menu_handle_00114:
3861  1284  33          	inc	sp
3862  1285  DD E1       	pop	ix
3863  1287  C9          	ret
3864  1288              	SECTION code_compiler
3865  1288              ;	---------------------------------
3866  1288              ; Function game_end
3867  1288              ; ---------------------------------
3868  1288              _game_end:
3869  1288  CD 00 00    	call	___sdcc_enter_ix
3870  128B  F5          	push	af
3871  128C  F5          	push	af
3872  128D  CD 00 00    	call	_spr_kill_all
3873  1290  CD 00 00    	call	_spr_draw_clear
3874  1293  21 00 00    	ld	hl,_pb_midi_title
3875  1296  CD 00 00    	call	_ay_midi_play
3876  1299  21 00 00    	ld	hl,_tmp1
3877  129C  36 50       	ld	(hl),0x50
3878  129E              l_game_end_00102:
3879  129E  3E 70       	ld	a,0x70
3880  12A0  21 00 00    	ld	hl,_tmp1
3881  12A3  96          	sub	a, (hl)
3882  12A4  38 28       	jr	C,l_game_end_00104
3883  12A6  21 00 00    	ld	hl,_tmp0
3884  12A9  36 04       	ld	(hl),0x04
3885  12AB              l_game_end_00130:
3886  12AB  3A 00 00    	ld	a,(_tmp0)
3887  12AE  F5          	push	af
3888  12AF  33          	inc	sp
3889  12B0  3A 00 00    	ld	a,(_tmp1)
3890  12B3  57          	ld	d,a
3891  12B4  1E 8F       	ld	e,0x8f
3892  12B6  D5          	push	de
3893  12B7  CD 00 00    	call	_NIRVANAP_drawT_callee
3894  12BA  21 00 00    	ld	hl,_tmp0
3895  12BD  7E          	ld	a,(hl)
3896  12BE  C6 02       	add	a,0x02
3897  12C0  77          	ld	(hl),a
3898  12C1  D6 1C       	sub	a,0x1c
3899  12C3  38 E6       	jr	C,l_game_end_00130
3900  12C5  21 00 00    	ld	hl,_tmp1
3901  12C8  7E          	ld	a,(hl)
3902  12C9  C6 10       	add	a,0x10
3903  12CB  77          	ld	(hl),a
3904  12CC  18 D0       	jr	l_game_end_00102
3905  12CE              l_game_end_00104:
3906  12CE  21 50 18    	ld	hl,0x1850
3907  12D1  E5          	push	hl
3908  12D2  3E D6       	ld	a,0xd6
3909  12D4  F5          	push	af
3910  12D5  33          	inc	sp
3911  12D6  CD 00 00    	call	_NIRVANAP_drawT_callee
3912  12D9  21 9C 01    	ld	hl,0x019c
3913  12DC  E5          	push	hl
3914  12DD  21 01 1D    	ld	hl,0x1d01
3915  12E0  E5          	push	hl
3916  12E1  3E 20       	ld	a,0x20
3917  12E3  F5          	push	af
3918  12E4  33          	inc	sp
3919  12E5  CD E6 10    	call	_game_menu_e
3920  12E8  F1          	pop	af
3921  12E9  33          	inc	sp
3922  12EA  21 9F FF    	ld	hl,0xff9f
3923  12ED  E3          	ex	(sp),hl
3924  12EE  21 01 1D    	ld	hl,0x1d01
3925  12F1  E5          	push	hl
3926  12F2  3E 80       	ld	a,0x80
3927  12F4  F5          	push	af
3928  12F5  33          	inc	sp
3929  12F6  CD E6 10    	call	_game_menu_e
3930  12F9  F1          	pop	af
3931  12FA  F1          	pop	af
3932  12FB  33          	inc	sp
3933  12FC  3E 00       	ld	a,0x00
3934  12FE  DD 77 FD    	ld	(ix-3),a
3935  1301  DD 77 FC    	ld	(ix-4),a
3936  1304  3A 00 00    	ld	a,(_game_two_player)
3937  1307  B7          	or	a, a
3938  1308  28 16       	jr	Z,l_game_end_00110
3939  130A  3A 00 00    	ld	a,(_game_lives)
3940  130D  B7          	or	a, a
3941  130E  28 04       	jr	Z,l_game_end_00106
3942  1310  DD 36 FD 01 	ld	(ix-3),0x01
3943  1314              l_game_end_00106:
3944  1314  3A 01 00    	ld	a, (_game_lives + 1)
3945  1317  B7          	or	a, a
3946  1318  28 0A       	jr	Z,l_game_end_00111
3947  131A  DD 36 FC 01 	ld	(ix-4),0x01
3948  131E  18 04       	jr	l_game_end_00111
3949  1320              l_game_end_00110:
3950  1320  DD 36 FD 01 	ld	(ix-3),0x01
3951  1324              l_game_end_00111:
3952  1324  DD 7E FD    	ld	a,(ix-3)
3953  1327  3D          	dec	a
3954  1328  20 04       	jr	NZ,l_game_end_00210
3955  132A  3E 01       	ld	a,0x01
3956  132C  18 01       	jr	l_game_end_00211
3957  132E              l_game_end_00210:
3958  132E  AF          	xor	a,a
3959  132F              l_game_end_00211:
3960  132F  DD 77 FF    	ld	(ix-1),a
3961  1332  B7          	or	a, a
3962  1333  28 1C       	jr	Z,l_game_end_00113
3963  1335  DD 7E FC    	ld	a,(ix-4)
3964  1338  B7          	or	a, a
3965  1339  20 16       	jr	NZ,l_game_end_00113
3966  133B  21 52 01    	ld	hl,___str_39
3967  133E  E5          	push	hl
3968  133F  21 13 01    	ld	hl,0x0113
3969  1342  E5          	push	hl
3970  1343  CD 00 00    	call	_zx_print_str
3971  1346  21 50 0C    	ld	hl,0x0c50
3972  1349  E5          	push	hl
3973  134A  3E 03       	ld	a,0x03
3974  134C  F5          	push	af
3975  134D  33          	inc	sp
3976  134E  CD 00 00    	call	_NIRVANAP_drawT_callee
3977  1351              l_game_end_00113:
3978  1351  DD 7E FC    	ld	a,(ix-4)
3979  1354  3D          	dec	a
3980  1355  20 04       	jr	NZ,l_game_end_00212
3981  1357  3E 01       	ld	a,0x01
3982  1359  18 01       	jr	l_game_end_00213
3983  135B              l_game_end_00212:
3984  135B  AF          	xor	a,a
3985  135C              l_game_end_00213:
3986  135C  DD 77 FE    	ld	(ix-2),a
3987  135F  DD 7E FD    	ld	a,(ix-3)
3988  1362  B7          	or	a, a
3989  1363  20 1C       	jr	NZ,l_game_end_00116
3990  1365  DD 7E FE    	ld	a,(ix-2)
3991  1368  B7          	or	a, a
3992  1369  28 16       	jr	Z,l_game_end_00116
3993  136B  21 5C 01    	ld	hl,___str_40
3994  136E  E5          	push	hl
3995  136F  21 13 01    	ld	hl,0x0113
3996  1372  E5          	push	hl
3997  1373  CD 00 00    	call	_zx_print_str
3998  1376  21 60 0E    	ld	hl,0x0e60
3999  1379  E5          	push	hl
4000  137A  3E 1B       	ld	a,0x1b
4001  137C  F5          	push	af
4002  137D  33          	inc	sp
4003  137E  CD 00 00    	call	_NIRVANAP_drawT_callee
4004  1381              l_game_end_00116:
4005  1381  DD 7E FF    	ld	a,(ix-1)
4006  1384  B7          	or	a, a
4007  1385  28 27       	jr	Z,l_game_end_00119
4008  1387  DD 7E FE    	ld	a,(ix-2)
4009  138A  B7          	or	a, a
4010  138B  28 21       	jr	Z,l_game_end_00119
4011  138D  21 65 01    	ld	hl,___str_41
4012  1390  E5          	push	hl
4013  1391  21 13 01    	ld	hl,0x0113
4014  1394  E5          	push	hl
4015  1395  CD 00 00    	call	_zx_print_str
4016  1398  21 50 0C    	ld	hl,0x0c50
4017  139B  E5          	push	hl
4018  139C  3E 03       	ld	a,0x03
4019  139E  F5          	push	af
4020  139F  33          	inc	sp
4021  13A0  CD 00 00    	call	_NIRVANAP_drawT_callee
4022  13A3  21 60 0E    	ld	hl,0x0e60
4023  13A6  E5          	push	hl
4024  13A7  3E 1B       	ld	a,0x1b
4025  13A9  F5          	push	af
4026  13AA  33          	inc	sp
4027  13AB  CD 00 00    	call	_NIRVANAP_drawT_callee
4028  13AE              l_game_end_00119:
4029  13AE  21 C8 00    	ld	hl,0x00c8
4030  13B1  E5          	push	hl
4031  13B2  21 01 1F    	ld	hl,0x1f01
4032  13B5  E5          	push	hl
4033  13B6  3E 13       	ld	a,0x13
4034  13B8  F5          	push	af
4035  13B9  33          	inc	sp
4036  13BA  CD B4 19    	call	_game_colour_message
4037  13BD  F1          	pop	af
4038  13BE  F1          	pop	af
4039  13BF  33          	inc	sp
4040  13C0  DD 7E FF    	ld	a,(ix-1)
4041  13C3  B7          	or	a, a
4042  13C4  28 32       	jr	Z,l_game_end_00122
4043  13C6  DD 7E FC    	ld	a,(ix-4)
4044  13C9  B7          	or	a, a
4045  13CA  20 2C       	jr	NZ,l_game_end_00122
4046  13CC  21 40 12    	ld	hl,0x1240
4047  13CF  E5          	push	hl
4048  13D0  3E CB       	ld	a,0xcb
4049  13D2  F5          	push	af
4050  13D3  33          	inc	sp
4051  13D4  CD 00 00    	call	_NIRVANAP_drawT_callee
4052  13D7  21 50 12    	ld	hl,0x1250
4053  13DA  E5          	push	hl
4054  13DB  3E CA       	ld	a,0xca
4055  13DD  F5          	push	af
4056  13DE  33          	inc	sp
4057  13DF  CD 00 00    	call	_NIRVANAP_drawT_callee
4058  13E2  21 79 01    	ld	hl,___str_42
4059  13E5  E5          	push	hl
4060  13E6  21 13 01    	ld	hl,0x0113
4061  13E9  E5          	push	hl
4062  13EA  CD 00 00    	call	_zx_print_str
4063  13ED  21 40 0C    	ld	hl,0x0c40
4064  13F0  E5          	push	hl
4065  13F1  3E CB       	ld	a,0xcb
4066  13F3  F5          	push	af
4067  13F4  33          	inc	sp
4068  13F5  CD 00 00    	call	_NIRVANAP_drawT_callee
4069  13F8              l_game_end_00122:
4070  13F8  DD 7E FD    	ld	a,(ix-3)
4071  13FB  B7          	or	a, a
4072  13FC  20 32       	jr	NZ,l_game_end_00125
4073  13FE  DD 7E FE    	ld	a,(ix-2)
4074  1401  B7          	or	a, a
4075  1402  28 2C       	jr	Z,l_game_end_00125
4076  1404  21 50 12    	ld	hl,0x1250
4077  1407  E5          	push	hl
4078  1408  3E CB       	ld	a,0xcb
4079  140A  F5          	push	af
4080  140B  33          	inc	sp
4081  140C  CD 00 00    	call	_NIRVANAP_drawT_callee
4082  140F  21 60 12    	ld	hl,0x1260
4083  1412  E5          	push	hl
4084  1413  3E CA       	ld	a,0xca
4085  1415  F5          	push	af
4086  1416  33          	inc	sp
4087  1417  CD 00 00    	call	_NIRVANAP_drawT_callee
4088  141A  21 79 01    	ld	hl,___str_42
4089  141D  E5          	push	hl
4090  141E  21 13 01    	ld	hl,0x0113
4091  1421  E5          	push	hl
4092  1422  CD 00 00    	call	_zx_print_str
4093  1425  21 50 0E    	ld	hl,0x0e50
4094  1428  E5          	push	hl
4095  1429  3E CB       	ld	a,0xcb
4096  142B  F5          	push	af
4097  142C  33          	inc	sp
4098  142D  CD 00 00    	call	_NIRVANAP_drawT_callee
4099  1430              l_game_end_00125:
4100  1430  DD 7E FF    	ld	a,(ix-1)
4101  1433  B7          	or	a, a
4102  1434  28 53       	jr	Z,l_game_end_00128
4103  1436  DD 7E FE    	ld	a,(ix-2)
4104  1439  B7          	or	a, a
4105  143A  28 4D       	jr	Z,l_game_end_00128
4106  143C  21 8D 01    	ld	hl,___str_43
4107  143F  E5          	push	hl
4108  1440  21 13 01    	ld	hl,0x0113
4109  1443  E5          	push	hl
4110  1444  CD 00 00    	call	_zx_print_str
4111  1447  21 40 12    	ld	hl,0x1240
4112  144A  E5          	push	hl
4113  144B  3E CB       	ld	a,0xcb
4114  144D  F5          	push	af
4115  144E  33          	inc	sp
4116  144F  CD 00 00    	call	_NIRVANAP_drawT_callee
4117  1452  21 50 12    	ld	hl,0x1250
4118  1455  E5          	push	hl
4119  1456  3E CA       	ld	a,0xca
4120  1458  F5          	push	af
4121  1459  33          	inc	sp
4122  145A  CD 00 00    	call	_NIRVANAP_drawT_callee
4123  145D  21 50 10    	ld	hl,0x1050
4124  1460  E5          	push	hl
4125  1461  3E CB       	ld	a,0xcb
4126  1463  F5          	push	af
4127  1464  33          	inc	sp
4128  1465  CD 00 00    	call	_NIRVANAP_drawT_callee
4129  1468  21 60 10    	ld	hl,0x1060
4130  146B  E5          	push	hl
4131  146C  3E CA       	ld	a,0xca
4132  146E  F5          	push	af
4133  146F  33          	inc	sp
4134  1470  CD 00 00    	call	_NIRVANAP_drawT_callee
4135  1473  21 40 0C    	ld	hl,0x0c40
4136  1476  E5          	push	hl
4137  1477  3E CB       	ld	a,0xcb
4138  1479  F5          	push	af
4139  147A  33          	inc	sp
4140  147B  CD 00 00    	call	_NIRVANAP_drawT_callee
4141  147E  21 50 0E    	ld	hl,0x0e50
4142  1481  E5          	push	hl
4143  1482  3E CB       	ld	a,0xcb
4144  1484  F5          	push	af
4145  1485  33          	inc	sp
4146  1486  CD 00 00    	call	_NIRVANAP_drawT_callee
4147  1489              l_game_end_00128:
4148  1489  21 C8 00    	ld	hl,0x00c8
4149  148C  E5          	push	hl
4150  148D  21 01 1F    	ld	hl,0x1f01
4151  1490  E5          	push	hl
4152  1491  3E 13       	ld	a,0x13
4153  1493  F5          	push	af
4154  1494  33          	inc	sp
4155  1495  CD B4 19    	call	_game_colour_message
4156  1498  F1          	pop	af
4157  1499  33          	inc	sp
4158  149A  21 A3 01    	ld	hl,___str_44
4159  149D  E3          	ex	(sp),hl
4160  149E  21 13 01    	ld	hl,0x0113
4161  14A1  E5          	push	hl
4162  14A2  CD 00 00    	call	_zx_print_str
4163  14A5  21 C8 00    	ld	hl,0x00c8
4164  14A8  E5          	push	hl
4165  14A9  21 01 1F    	ld	hl,0x1f01
4166  14AC  E5          	push	hl
4167  14AD  3E 13       	ld	a,0x13
4168  14AF  F5          	push	af
4169  14B0  33          	inc	sp
4170  14B1  CD B4 19    	call	_game_colour_message
4171  14B4  F1          	pop	af
4172  14B5  F1          	pop	af
4173  14B6  33          	inc	sp
4174  14B7  CD 00 00    	call	_spr_draw_clear
4175  14BA  DD F9       	ld	sp, ix
4176  14BC  DD E1       	pop	ix
4177  14BE  C9          	ret
4178  14BF              	SECTION rodata_compiler
4179  0152              ___str_39:
4180  0152  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4181  015B  00          	DEFB 0x00
4182  015C              	SECTION rodata_compiler
4183  015C              ___str_40:
4184  015C  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4185  0164  00          	DEFB 0x00
4186  0165              	SECTION rodata_compiler
4187  0165              ___str_41:
4188  0165  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4189  0178  00          	DEFB 0x00
4190  0179              	SECTION rodata_compiler
4191  0179              ___str_42:
4192  0179  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4193  018C  00          	DEFB 0x00
4194  018D              	SECTION rodata_compiler
4195  018D              ___str_43:
4196  018D  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4197  01A2  00          	DEFB 0x00
4198  01A3              	SECTION rodata_compiler
4199  01A3              ___str_44:
4200  01A3  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE U!"
4201  01C1  00          	DEFB 0x00
4202  01C2              	SECTION code_compiler
4203  14BF              ;	---------------------------------
4204  14BF              ; Function game_hall_check
4205  14BF              ; ---------------------------------
4206  14BF              _game_hall_check:
4207  14BF  5D          	ld	e,l
4208  14C0  01 00 00    	ld	bc,_player_score+0
4209  14C3  26 00       	ld	h,0x00
4210  14C5  6B          	ld	l, e
4211  14C6  29          	add	hl, hl
4212  14C7  09          	add	hl,bc
4213  14C8  4E          	ld	c,(hl)
4214  14C9  23          	inc	hl
4215  14CA  46          	ld	b,(hl)
4216  14CB  2A 3A 00    	ld	hl,(_hof + 0x003a)
4217  14CE  AF          	xor	a,a
4218  14CF  ED 42       	sbc	hl,bc
4219  14D1  30 09       	jr	NC,l_game_hall_check_00104
4220  14D3  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4221  14D7  21 36 00    	ld	hl,+(_hof + 0x0036)
4222  14DA  18 14       	jr	l_game_hall_check_00106
4223  14DC              l_game_hall_check_00104:
4224  14DC  2A 34 00    	ld	hl,(_hof + 0x0034)
4225  14DF  AF          	xor	a,a
4226  14E0  ED 42       	sbc	hl,bc
4227  14E2  30 09       	jr	NC,l_game_hall_check_00105
4228  14E4  ED 43 34 00 	ld	(_hof + 0x0034),bc
4229  14E8  21 30 00    	ld	hl,+(_hof + 0x0030)
4230  14EB  18 03       	jr	l_game_hall_check_00106
4231  14ED              l_game_hall_check_00105:
4232  14ED  21 00 00    	ld	hl,0x0000
4233  14F0              l_game_hall_check_00106:
4234  14F0  C9          	ret
4235  14F1              	SECTION code_compiler
4236  14F1              ;	---------------------------------
4237  14F1              ; Function compare_scores
4238  14F1              ; ---------------------------------
4239  14F1              _compare_scores:
4240  14F1  CD 00 00    	call	___sdcc_enter_ix
4241  14F4  DD 6E 06    	ld	l,(ix+6)
4242  14F7  DD 66 07    	ld	h,(ix+7)
4243  14FA  11 04 00    	ld	de,0x0004
4244  14FD  19          	add	hl, de
4245  14FE  4E          	ld	c,(hl)
4246  14FF  23          	inc	hl
4247  1500  46          	ld	b,(hl)
4248  1501  DD 6E 04    	ld	l,(ix+4)
4249  1504  DD 66 05    	ld	h,(ix+5)
4250  1507  11 04 00    	ld	de,0x0004
4251  150A  19          	add	hl, de
4252  150B  7E          	ld	a,(hl)
4253  150C  23          	inc	hl
4254  150D  56          	ld	d,(hl)
4255  150E  5F          	ld	e,a
4256  150F  91          	sub	a, c
4257  1510  7A          	ld	a,d
4258  1511  98          	sbc	a, b
4259  1512  30 05       	jr	NC,l_compare_scores_00102
4260  1514  21 01 00    	ld	hl,0x0001
4261  1517  18 10       	jr	l_compare_scores_00105
4262  1519              l_compare_scores_00102:
4263  1519  79          	ld	a,c
4264  151A  93          	sub	a, e
4265  151B  20 09       	jr	NZ,l_compare_scores_00104
4266  151D  78          	ld	a,b
4267  151E  92          	sub	a, d
4268  151F  20 05       	jr	NZ,l_compare_scores_00104
4269  1521  21 00 00    	ld	hl,0x0000
4270  1524  18 03       	jr	l_compare_scores_00105
4271  1526              l_compare_scores_00104:
4272  1526  21 FF FF    	ld	hl,0xffff
4273  1529              l_compare_scores_00105:
4274  1529  DD E1       	pop	ix
4275  152B  C9          	ret
4276  152C              	SECTION code_compiler
4277  152C              ;	---------------------------------
4278  152C              ; Function game_hall_enter
4279  152C              ; ---------------------------------
4280  152C              _game_hall_enter:
4281  152C  CD 00 00    	call	___sdcc_enter_ix
4282  152F  21 F7 FF    	ld	hl,-9
4283  1532  39          	add	hl,sp
4284  1533  F9          	ld	sp,hl
4285  1534  CD 00 00    	call	_spr_draw_clear
4286  1537  2E 00       	ld	l,0x00
4287  1539  CD FD 0C    	call	_game_paint_attrib
4288  153C  ED 4B 00 00 	ld	bc,(_player_score)
4289  1540  2A 02 00    	ld	hl, (_player_score + 2)
4290  1543  AF          	xor	a,a
4291  1544  ED 42       	sbc	hl,bc
4292  1546  30 0F       	jr	NC,l_game_hall_enter_00102
4293  1548  2E 00       	ld	l,0x00
4294  154A  CD BF 14    	call	_game_hall_check
4295  154D  E5          	push	hl
4296  154E  2E 01       	ld	l,0x01
4297  1550  CD BF 14    	call	_game_hall_check
4298  1553  EB          	ex	de,hl
4299  1554  C1          	pop	bc
4300  1555  18 0E       	jr	l_game_hall_enter_00103
4301  1557              l_game_hall_enter_00102:
4302  1557  2E 01       	ld	l,0x01
4303  1559  CD BF 14    	call	_game_hall_check
4304  155C  E5          	push	hl
4305  155D  2E 00       	ld	l,0x00
4306  155F  CD BF 14    	call	_game_hall_check
4307  1562  D1          	pop	de
4308  1563  4D          	ld	c,l
4309  1564  44          	ld	b,h
4310  1565              l_game_hall_enter_00103:
4311  1565  78          	ld	a,b
4312  1566  B1          	or	a,c
4313  1567  20 05       	jr	NZ,l_game_hall_enter_00125
4314  1569  7A          	ld	a,d
4315  156A  B3          	or	a,e
4316  156B  CA B9 16    	jp	Z,l_game_hall_enter_00126
4317  156E              l_game_hall_enter_00125:
4318  156E  3E 00       	ld	a,0x00
4319  1570  DD 77 FB    	ld	(ix-5),a
4320  1573  DD 77 FA    	ld	(ix-6),a
4321  1576  DD 77 F9    	ld	(ix-7),a
4322  1579  DD 77 F8    	ld	(ix-8),a
4323  157C  DD 36 F7 00 	ld	(ix-9),0x00
4324  1580  78          	ld	a,b
4325  1581  B1          	or	a,c
4326  1582  28 0D       	jr	Z,l_game_hall_enter_00105
4327  1584  DD 36 F8 01 	ld	(ix-8),0x01
4328  1588  C5          	push	bc
4329  1589  D5          	push	de
4330  158A  2E 00       	ld	l,0x00
4331  158C  CD DC 16    	call	_game_hall_enter_phs
4332  158F  D1          	pop	de
4333  1590  C1          	pop	bc
4334  1591              l_game_hall_enter_00105:
4335  1591  7A          	ld	a,d
4336  1592  B3          	or	a,e
4337  1593  28 0D       	jr	Z,l_game_hall_enter_00107
4338  1595  DD 36 F7 05 	ld	(ix-9),0x05
4339  1599  C5          	push	bc
4340  159A  D5          	push	de
4341  159B  2E 01       	ld	l,0x01
4342  159D  CD DC 16    	call	_game_hall_enter_phs
4343  15A0  D1          	pop	de
4344  15A1  C1          	pop	bc
4345  15A2              l_game_hall_enter_00107:
4346  15A2  C5          	push	bc
4347  15A3  D5          	push	de
4348  15A4  21 C2 01    	ld	hl,___str_45
4349  15A7  E5          	push	hl
4350  15A8  21 02 0A    	ld	hl,0x0a02
4351  15AB  E5          	push	hl
4352  15AC  CD 00 00    	call	_zx_print_str
4353  15AF  21 CF 01    	ld	hl,___str_46
4354  15B2  E5          	push	hl
4355  15B3  21 12 06    	ld	hl,0x0612
4356  15B6  E5          	push	hl
4357  15B7  CD 00 00    	call	_zx_print_str
4358  15BA  21 E2 01    	ld	hl,___str_47
4359  15BD  E5          	push	hl
4360  15BE  21 13 06    	ld	hl,0x0613
4361  15C1  E5          	push	hl
4362  15C2  CD 00 00    	call	_zx_print_str
4363  15C5  D1          	pop	de
4364  15C6  C1          	pop	bc
4365  15C7  DD 71 FE    	ld	(ix-2),c
4366  15CA  DD 70 FF    	ld	(ix-1),b
4367  15CD  DD 73 FC    	ld	(ix-4),e
4368  15D0  DD 72 FD    	ld	(ix-3),d
4369  15D3              l_game_hall_enter_00122:
4370  15D3  DD 7E F8    	ld	a,(ix-8)
4371  15D6  DD 86 F7    	add	a,(ix-9)
4372  15D9  B7          	or	a, a
4373  15DA  CA A1 16    	jp	Z,l_game_hall_enter_00124
4374  15DD  21 05 00    	ld	hl,0x0005
4375  15E0  E5          	push	hl
4376  15E1  2A 00 00    	ld	hl,(_frame_time)
4377  15E4  E5          	push	hl
4378  15E5  CD 46 1A    	call	_game_check_time
4379  15E8  F1          	pop	af
4380  15E9  F1          	pop	af
4381  15EA  7D          	ld	a,l
4382  15EB  B7          	or	a, a
4383  15EC  28 36       	jr	Z,l_game_hall_enter_00113
4384  15EE  DD 7E F9    	ld	a,(ix-7)
4385  15F1  D6 01       	sub	a,0x01
4386  15F3  3E 00       	ld	a,0x00
4387  15F5  17          	rla
4388  15F6  DD 77 F9    	ld	(ix-7),a
4389  15F9  DD 7E F8    	ld	a,(ix-8)
4390  15FC  B7          	or	a, a
4391  15FD  28 0B       	jr	Z,l_game_hall_enter_00109
4392  15FF  DD 66 F9    	ld	h,(ix-7)
4393  1602  DD 6E F8    	ld	l,(ix-8)
4394  1605  E5          	push	hl
4395  1606  CD 53 17    	call	_game_hall_print_p
4396  1609  F1          	pop	af
4397  160A              l_game_hall_enter_00109:
4398  160A  DD 7E F7    	ld	a,(ix-9)
4399  160D  B7          	or	a, a
4400  160E  28 0B       	jr	Z,l_game_hall_enter_00111
4401  1610  DD 66 F9    	ld	h,(ix-7)
4402  1613  DD 6E F7    	ld	l,(ix-9)
4403  1616  E5          	push	hl
4404  1617  CD 53 17    	call	_game_hall_print_p
4405  161A  F1          	pop	af
4406  161B              l_game_hall_enter_00111:
4407  161B  CD 98 19    	call	_game_rotate_attrib
4408  161E  2A 00 00    	ld	hl,(_curr_time)
4409  1621  22 00 00    	ld	(_frame_time),hl
4410  1624              l_game_hall_enter_00113:
4411  1624  21 00 00    	ld	hl,_k1
4412  1627  E5          	push	hl
4413  1628  2A 00 00    	ld	hl,(_joyfunc1)
4414  162B  CD 00 00    	call	___sdcc_call_hl
4415  162E  F1          	pop	af
4416  162F  7D          	ld	a,l
4417  1630  32 00 00    	ld	(_dirs),a
4418  1633  DD 7E FB    	ld	a,(ix-5)
4419  1636  B7          	or	a, a
4420  1637  20 22       	jr	NZ,l_game_hall_enter_00115
4421  1639  DD 7E F8    	ld	a,(ix-8)
4422  163C  B7          	or	a, a
4423  163D  28 1C       	jr	Z,l_game_hall_enter_00115
4424  163F  DD 6E F8    	ld	l,(ix-8)
4425  1642  CD 11 18    	call	_game_hall_edit_p
4426  1645  DD 75 F8    	ld	(ix-8),l
4427  1648  7D          	ld	a,l
4428  1649  B7          	or	a, a
4429  164A  20 0F       	jr	NZ,l_game_hall_enter_00115
4430  164C  DD 5E FE    	ld	e,(ix-2)
4431  164F  DD 56 FF    	ld	d,(ix-1)
4432  1652  AF          	xor	a,a
4433  1653  21 00 00    	ld	hl,_initials
4434  1656              l_game_hall_enter_00190:
4435  1656  BE          	cp	a, (hl)
4436  1657  ED A0       	ldi
4437  1659  20 FB       	jr	NZ, l_game_hall_enter_00190
4438  165B              l_game_hall_enter_00115:
4439  165B  3A 00 00    	ld	a,(_dirs)
4440  165E  DD 77 FB    	ld	(ix-5),a
4441  1661  21 00 00    	ld	hl,_k2
4442  1664  E5          	push	hl
4443  1665  2A 00 00    	ld	hl,(_joyfunc2)
4444  1668  CD 00 00    	call	___sdcc_call_hl
4445  166B  F1          	pop	af
4446  166C  7D          	ld	a,l
4447  166D  32 00 00    	ld	(_dirs),a
4448  1670  DD 7E FA    	ld	a,(ix-6)
4449  1673  B7          	or	a, a
4450  1674  20 22       	jr	NZ,l_game_hall_enter_00119
4451  1676  DD 7E F7    	ld	a,(ix-9)
4452  1679  B7          	or	a, a
4453  167A  28 1C       	jr	Z,l_game_hall_enter_00119
4454  167C  DD 6E F7    	ld	l,(ix-9)
4455  167F  CD 11 18    	call	_game_hall_edit_p
4456  1682  DD 75 F7    	ld	(ix-9),l
4457  1685  7D          	ld	a,l
4458  1686  B7          	or	a, a
4459  1687  20 0F       	jr	NZ,l_game_hall_enter_00119
4460  1689  DD 5E FC    	ld	e,(ix-4)
4461  168C  DD 56 FD    	ld	d,(ix-3)
4462  168F  AF          	xor	a,a
4463  1690  21 04 00    	ld	hl,+(_initials + 0x0004)
4464  1693              l_game_hall_enter_00191:
4465  1693  BE          	cp	a, (hl)
4466  1694  ED A0       	ldi
4467  1696  20 FB       	jr	NZ, l_game_hall_enter_00191
4468  1698              l_game_hall_enter_00119:
4469  1698  3A 00 00    	ld	a,(_dirs)
4470  169B  DD 77 FA    	ld	(ix-6),a
4471  169E  C3 D3 15    	jp	l_game_hall_enter_00122
4472  16A1              l_game_hall_enter_00124:
4473  16A1  CD 00 00    	call	_ay_reset
4474  16A4  CD 00 00    	call	_spr_draw_clear
4475  16A7  01 F1 14    	ld	bc,_compare_scores
4476  16AA  C5          	push	bc
4477  16AB  21 06 00    	ld	hl,0x0006
4478  16AE  E5          	push	hl
4479  16AF  2E 0A       	ld	l,0x0a
4480  16B1  E5          	push	hl
4481  16B2  21 00 00    	ld	hl,_hof
4482  16B5  E5          	push	hl
4483  16B6  CD 00 00    	call	__insertion_sort__callee
4484  16B9              l_game_hall_enter_00126:
4485  16B9  CD C7 18    	call	_game_hall_of_fame
4486  16BC  2E 00       	ld	l,0x00
4487  16BE  CD C6 16    	call	_game_menu_back
4488  16C1  DD F9       	ld	sp, ix
4489  16C3  DD E1       	pop	ix
4490  16C5  C9          	ret
4491  16C6              	SECTION rodata_compiler
4492  01C2              ___str_45:
4493  01C2  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4494  01CE  00          	DEFB 0x00
4495  01CF              	SECTION rodata_compiler
4496  01CF              ___str_46:
4497  01CF  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4498  01E1  00          	DEFB 0x00
4499  01E2              	SECTION rodata_compiler
4500  01E2              ___str_47:
4501  01E2  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4502  01F5  00          	DEFB 0x00
4503  01F6              	SECTION code_compiler
4504  16C6              ;	---------------------------------
4505  16C6              ; Function game_menu_back
4506  16C6              ; ---------------------------------
4507  16C6              _game_menu_back:
4508  16C6  7D          	ld	a,l
4509  16C7  32 00 00    	ld	(_s_lin1),a
4510  16CA  21 00 00    	ld	hl,_game_menu_sel
4511  16CD  36 00       	ld	(hl),0x00
4512  16CF  CD F2 0F    	call	_game_menu_top_paint
4513  16D2  CD 66 10    	call	_game_menu_paint
4514  16D5  2A 00 00    	ld	hl,(_curr_time)
4515  16D8  22 00 00    	ld	(_entry_time),hl
4516  16DB  C9          	ret
4517  16DC              	SECTION code_compiler
4518  16DC              ;	---------------------------------
4519  16DC              ; Function game_hall_enter_phs
4520  16DC              ; ---------------------------------
4521  16DC              _game_hall_enter_phs:
4522  16DC  7D          	ld	a,l
4523  16DD  B7          	or	a, a
4524  16DE  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4525  16E0  21 9C 01    	ld	hl,0x019c
4526  16E3  E5          	push	hl
4527  16E4  21 02 0C    	ld	hl,0x0c02
4528  16E7  E5          	push	hl
4529  16E8  3E 30       	ld	a,0x30
4530  16EA  F5          	push	af
4531  16EB  33          	inc	sp
4532  16EC  CD E6 10    	call	_game_menu_e
4533  16EF  F1          	pop	af
4534  16F0  33          	inc	sp
4535  16F1  21 9F FF    	ld	hl,0xff9f
4536  16F4  E3          	ex	(sp),hl
4537  16F5  21 02 0C    	ld	hl,0x0c02
4538  16F8  E5          	push	hl
4539  16F9  3E 7C       	ld	a,0x7c
4540  16FB  F5          	push	af
4541  16FC  33          	inc	sp
4542  16FD  CD E6 10    	call	_game_menu_e
4543  1700  F1          	pop	af
4544  1701  33          	inc	sp
4545  1702  21 F6 01    	ld	hl,___str_48
4546  1705  E3          	ex	(sp),hl
4547  1706  21 07 05    	ld	hl,0x0507
4548  1709  E5          	push	hl
4549  170A  CD 00 00    	call	_zx_print_str
4550  170D  21 FB 01    	ld	hl,___str_49
4551  1710  E5          	push	hl
4552  1711  21 08 05    	ld	hl,0x0508
4553  1714  E5          	push	hl
4554  1715  CD 00 00    	call	_zx_print_str
4555  1718  18 38       	jr	l_game_hall_enter_phs_00104
4556  171A              l_game_hall_enter_phs_00102:
4557  171A  21 9C 01    	ld	hl,0x019c
4558  171D  E5          	push	hl
4559  171E  21 12 1C    	ld	hl,0x1c12
4560  1721  E5          	push	hl
4561  1722  3E 30       	ld	a,0x30
4562  1724  F5          	push	af
4563  1725  33          	inc	sp
4564  1726  CD E6 10    	call	_game_menu_e
4565  1729  F1          	pop	af
4566  172A  33          	inc	sp
4567  172B  21 9F FF    	ld	hl,0xff9f
4568  172E  E3          	ex	(sp),hl
4569  172F  21 12 1C    	ld	hl,0x1c12
4570  1732  E5          	push	hl
4571  1733  3E 7C       	ld	a,0x7c
4572  1735  F5          	push	af
4573  1736  33          	inc	sp
4574  1737  CD E6 10    	call	_game_menu_e
4575  173A  F1          	pop	af
4576  173B  33          	inc	sp
4577  173C  21 F6 01    	ld	hl,___str_48
4578  173F  E3          	ex	(sp),hl
4579  1740  21 07 15    	ld	hl,0x1507
4580  1743  E5          	push	hl
4581  1744  CD 00 00    	call	_zx_print_str
4582  1747  21 FB 01    	ld	hl,___str_49
4583  174A  E5          	push	hl
4584  174B  21 08 15    	ld	hl,0x1508
4585  174E  E5          	push	hl
4586  174F  CD 00 00    	call	_zx_print_str
4587  1752              l_game_hall_enter_phs_00104:
4588  1752  C9          	ret
4589  1753              	SECTION rodata_compiler
4590  01F6              ___str_48:
4591  01F6  48 49 47 48 	DEFM "HIGH"
4592  01FA  00          	DEFB 0x00
4593  01FB              	SECTION rodata_compiler
4594  01FB              ___str_49:
4595  01FB  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4596  0201  00          	DEFB 0x00
4597  0202              	SECTION code_compiler
4598  1753              ;	---------------------------------
4599  1753              ; Function game_hall_print_p
4600  1753              ; ---------------------------------
4601  1753              _game_hall_print_p:
4602  1753  CD 00 00    	call	___sdcc_enter_ix
4603  1756  DD 7E 04    	ld	a,(ix+4)
4604  1759  D6 05       	sub	a,0x05
4605  175B  30 59       	jr	NC,l_game_hall_print_p_00108
4606  175D  21 00 00    	ld	hl,_initials
4607  1760  E5          	push	hl
4608  1761  21 0D 06    	ld	hl,0x060d
4609  1764  E5          	push	hl
4610  1765  CD 00 00    	call	_zx_print_str
4611  1768  DD 7E 04    	ld	a,(ix+4)
4612  176B  C6 06       	add	a,0x06
4613  176D  47          	ld	b,a
4614  176E  DD 7E 04    	ld	a,(ix+4)
4615  1771  C6 05       	add	a,0x05
4616  1773  57          	ld	d,a
4617  1774  3E 70       	ld	a,0x70
4618  1776  F5          	push	af
4619  1777  33          	inc	sp
4620  1778  4A          	ld	c, d
4621  1779  C5          	push	bc
4622  177A  CD 48 0D    	call	_game_paint_attrib_lin_h
4623  177D  F1          	pop	af
4624  177E  33          	inc	sp
4625  177F  76          	halt
4626  1780  DD 7E 05    	ld	a,(ix+5)
4627  1783  B7          	or	a, a
4628  1784  28 18       	jr	Z,l_game_hall_print_p_00102
4629  1786  21 56 06    	ld	hl,0x0656
4630  1789  E5          	push	hl
4631  178A  3E A9       	ld	a,0xa9
4632  178C  F5          	push	af
4633  178D  33          	inc	sp
4634  178E  CD 00 00    	call	_NIRVANAP_drawT_callee
4635  1791  21 58 06    	ld	hl,0x0658
4636  1794  E5          	push	hl
4637  1795  3E 03       	ld	a,0x03
4638  1797  F5          	push	af
4639  1798  33          	inc	sp
4640  1799  CD 00 00    	call	_NIRVANAP_drawT_callee
4641  179C  18 70       	jr	l_game_hall_print_p_00110
4642  179E              l_game_hall_print_p_00102:
4643  179E  21 58 06    	ld	hl,0x0658
4644  17A1  E5          	push	hl
4645  17A2  3E A9       	ld	a,0xa9
4646  17A4  F5          	push	af
4647  17A5  33          	inc	sp
4648  17A6  CD 00 00    	call	_NIRVANAP_drawT_callee
4649  17A9  21 56 06    	ld	hl,0x0656
4650  17AC  E5          	push	hl
4651  17AD  3E 16       	ld	a,0x16
4652  17AF  F5          	push	af
4653  17B0  33          	inc	sp
4654  17B1  CD 00 00    	call	_NIRVANAP_drawT_callee
4655  17B4  18 58       	jr	l_game_hall_print_p_00110
4656  17B6              l_game_hall_print_p_00108:
4657  17B6  21 04 00    	ld	hl,+(_initials + 0x0004)
4658  17B9  E5          	push	hl
4659  17BA  21 0D 16    	ld	hl,0x160d
4660  17BD  E5          	push	hl
4661  17BE  CD 00 00    	call	_zx_print_str
4662  17C1  DD 7E 04    	ld	a,(ix+4)
4663  17C4  C6 12       	add	a,0x12
4664  17C6  57          	ld	d,a
4665  17C7  DD 7E 04    	ld	a,(ix+4)
4666  17CA  C6 11       	add	a,0x11
4667  17CC  47          	ld	b,a
4668  17CD  3E 70       	ld	a,0x70
4669  17CF  5A          	ld	e,d
4670  17D0  57          	ld	d,a
4671  17D1  D5          	push	de
4672  17D2  C5          	push	bc
4673  17D3  33          	inc	sp
4674  17D4  CD 48 0D    	call	_game_paint_attrib_lin_h
4675  17D7  F1          	pop	af
4676  17D8  33          	inc	sp
4677  17D9  76          	halt
4678  17DA  DD 7E 05    	ld	a,(ix+5)
4679  17DD  B7          	or	a, a
4680  17DE  28 18       	jr	Z,l_game_hall_print_p_00105
4681  17E0  21 56 17    	ld	hl,0x1756
4682  17E3  E5          	push	hl
4683  17E4  3E A9       	ld	a,0xa9
4684  17E6  F5          	push	af
4685  17E7  33          	inc	sp
4686  17E8  CD 00 00    	call	_NIRVANAP_drawT_callee
4687  17EB  21 58 17    	ld	hl,0x1758
4688  17EE  E5          	push	hl
4689  17EF  3E 27       	ld	a,0x27
4690  17F1  F5          	push	af
4691  17F2  33          	inc	sp
4692  17F3  CD 00 00    	call	_NIRVANAP_drawT_callee
4693  17F6  18 16       	jr	l_game_hall_print_p_00110
4694  17F8              l_game_hall_print_p_00105:
4695  17F8  21 58 17    	ld	hl,0x1758
4696  17FB  E5          	push	hl
4697  17FC  3E A9       	ld	a,0xa9
4698  17FE  F5          	push	af
4699  17FF  33          	inc	sp
4700  1800  CD 00 00    	call	_NIRVANAP_drawT_callee
4701  1803  21 56 17    	ld	hl,0x1756
4702  1806  E5          	push	hl
4703  1807  3E 2E       	ld	a,0x2e
4704  1809  F5          	push	af
4705  180A  33          	inc	sp
4706  180B  CD 00 00    	call	_NIRVANAP_drawT_callee
4707  180E              l_game_hall_print_p_00110:
4708  180E  DD E1       	pop	ix
4709  1810  C9          	ret
4710  1811              	SECTION code_compiler
4711  1811              ;	---------------------------------
4712  1811              ; Function game_hall_edit_p
4713  1811              ; ---------------------------------
4714  1811              _game_hall_edit_p:
4715  1811  CD 00 00    	call	___sdcc_enter_ix
4716  1814  F5          	push	af
4717  1815  4D          	ld	c,l
4718  1816  0D          	dec	c
4719  1817  3A 00 00    	ld	a,(_dirs)
4720  181A  07          	rlca
4721  181B  30 63       	jr	NC,l_game_hall_edit_p_00120
4722  181D  79          	ld	a,c
4723  181E  FE 04       	cp	a,0x04
4724  1820  30 17       	jr	NC,l_game_hall_edit_p_00102
4725  1822  C6 07       	add	a,0x07
4726  1824  57          	ld	d,a
4727  1825  79          	ld	a,c
4728  1826  C6 06       	add	a,0x06
4729  1828  47          	ld	b,a
4730  1829  C5          	push	bc
4731  182A  3E 70       	ld	a,0x70
4732  182C  5A          	ld	e,d
4733  182D  57          	ld	d,a
4734  182E  D5          	push	de
4735  182F  C5          	push	bc
4736  1830  33          	inc	sp
4737  1831  CD 21 0D    	call	_game_paint_attrib_lin
4738  1834  F1          	pop	af
4739  1835  33          	inc	sp
4740  1836  C1          	pop	bc
4741  1837  18 16       	jr	l_game_hall_edit_p_00103
4742  1839              l_game_hall_edit_p_00102:
4743  1839  79          	ld	a,c
4744  183A  C6 13       	add	a,0x13
4745  183C  57          	ld	d,a
4746  183D  79          	ld	a,c
4747  183E  C6 12       	add	a,0x12
4748  1840  47          	ld	b,a
4749  1841  C5          	push	bc
4750  1842  3E 70       	ld	a,0x70
4751  1844  5A          	ld	e,d
4752  1845  57          	ld	d,a
4753  1846  D5          	push	de
4754  1847  C5          	push	bc
4755  1848  33          	inc	sp
4756  1849  CD 21 0D    	call	_game_paint_attrib_lin
4757  184C  F1          	pop	af
4758  184D  33          	inc	sp
4759  184E  C1          	pop	bc
4760  184F              l_game_hall_edit_p_00103:
4761  184F  C5          	push	bc
4762  1850  CD 00 00    	call	_sound_slide
4763  1853  C1          	pop	bc
4764  1854  21 00 00    	ld	hl,_ay_effect_01
4765  1857  CD 00 00    	call	_ay_fx_play
4766  185A  11 00 00    	ld	de,_initials+0
4767  185D  41          	ld	b,c
4768  185E  0C          	inc	c
4769  185F  68          	ld	l,b
4770  1860  26 00       	ld	h,0x00
4771  1862  19          	add	hl,de
4772  1863  7E          	ld	a,(hl)
4773  1864  D6 7B       	sub	a,0x7b
4774  1866  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4775  1868  0D          	dec	c
4776  1869  79          	ld	a,c
4777  186A  E6 03       	and	a,0x03
4778  186C  28 08       	jr	Z,l_game_hall_edit_p_00107
4779  186E  41          	ld	b,c
4780  186F  0D          	dec	c
4781  1870  68          	ld	l,b
4782  1871  26 00       	ld	h,0x00
4783  1873  19          	add	hl,de
4784  1874  36 41       	ld	(hl),0x41
4785  1876              l_game_hall_edit_p_00107:
4786  1876  79          	ld	a,c
4787  1877  E6 03       	and	a,0x03
4788  1879  D6 03       	sub	a,0x03
4789  187B  20 44       	jr	NZ,l_game_hall_edit_p_00121
4790  187D  6F          	ld	l,a
4791  187E  18 43       	jr	l_game_hall_edit_p_00122
4792  1880              l_game_hall_edit_p_00120:
4793  1880  3A 00 00    	ld	a,(_dirs)
4794  1883  E6 0C       	and	a,0x0c
4795  1885  28 3A       	jr	Z,l_game_hall_edit_p_00121
4796  1887  11 00 00    	ld	de,_hall_valids
4797  188A  3E 00       	ld	a,+((_initials) & 0xFF)
4798  188C  81          	add	a, c
4799  188D  DD 77 FE    	ld	(ix-2),a
4800  1890  3E 00       	ld	a,+((_initials) / 256)
4801  1892  CE 00       	adc	a,0x00
4802  1894  DD 77 FF    	ld	(ix-1),a
4803  1897  E1          	pop	hl
4804  1898  46          	ld	b,(hl)
4805  1899  E5          	push	hl
4806  189A              l_game_hall_edit_p_00168:
4807  189A  1A          	ld	a, (de)
4808  189B  B8          	cp	a, b
4809  189C  28 06       	jr	Z,l_game_hall_edit_p_00167
4810  189E  B7          	or	a, a
4811  189F  13          	inc	de
4812  18A0  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4813  18A2  5F          	ld	e, a
4814  18A3  57          	ld	d, a
4815  18A4              l_game_hall_edit_p_00167:
4816  18A4  3A 00 00    	ld	a,(_dirs)
4817  18A7  E6 04       	and	a,0x04
4818  18A9  28 0A       	jr	Z,l_game_hall_edit_p_00115
4819  18AB  1B          	dec	de
4820  18AC  1A          	ld	a,(de)
4821  18AD  3D          	dec	a
4822  18AE  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4823  18B0  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4824  18B3  18 08       	jr	l_game_hall_edit_p_00116
4825  18B5              l_game_hall_edit_p_00115:
4826  18B5  13          	inc	de
4827  18B6  1A          	ld	a,(de)
4828  18B7  B7          	or	a, a
4829  18B8  20 03       	jr	NZ,l_game_hall_edit_p_00116
4830  18BA  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4831  18BD              l_game_hall_edit_p_00116:
4832  18BD  E1          	pop	hl
4833  18BE  1A          	ld	a,(de)
4834  18BF  E5          	push	hl
4835  18C0  77          	ld	(hl),a
4836  18C1              l_game_hall_edit_p_00121:
4837  18C1  0C          	inc	c
4838  18C2  69          	ld	l,c
4839  18C3              l_game_hall_edit_p_00122:
4840  18C3  F1          	pop	af
4841  18C4  DD E1       	pop	ix
4842  18C6  C9          	ret
4843  18C7              	SECTION code_compiler
4844  18C7              ;	---------------------------------
4845  18C7              ; Function game_hall_of_fame
4846  18C7              ; ---------------------------------
4847  18C7              _game_hall_of_fame:
4848  18C7  CD 00 00    	call	_spr_draw_clear
4849  18CA  2E 00       	ld	l,0x00
4850  18CC  CD FD 0C    	call	_game_paint_attrib
4851  18CF  21 9C 01    	ld	hl,0x019c
4852  18D2  E5          	push	hl
4853  18D3  21 06 18    	ld	hl,0x1806
4854  18D6  E5          	push	hl
4855  18D7  3E 10       	ld	a,0x10
4856  18D9  F5          	push	af
4857  18DA  33          	inc	sp
4858  18DB  CD E6 10    	call	_game_menu_e
4859  18DE  F1          	pop	af
4860  18DF  33          	inc	sp
4861  18E0  21 9F FF    	ld	hl,0xff9f
4862  18E3  E3          	ex	(sp),hl
4863  18E4  21 06 18    	ld	hl,0x1806
4864  18E7  E5          	push	hl
4865  18E8  3E 98       	ld	a,0x98
4866  18EA  F5          	push	af
4867  18EB  33          	inc	sp
4868  18EC  CD E6 10    	call	_game_menu_e
4869  18EF  F1          	pop	af
4870  18F0  F1          	pop	af
4871  18F1  33          	inc	sp
4872  18F2  21 00 00    	ld	hl,_s_lin1
4873  18F5  36 00       	ld	(hl),0x00
4874  18F7              l_game_hall_of_fame_00102:
4875  18F7  21 00 00    	ld	hl,_screen_ink
4876  18FA  36 05       	ld	(hl),0x05
4877  18FC  2A 00 00    	ld	hl,(_s_lin1)
4878  18FF  26 00       	ld	h,0x00
4879  1901  4D          	ld	c,l
4880  1902  44          	ld	b,h
4881  1903  29          	add	hl, hl
4882  1904  09          	add	hl, bc
4883  1905  29          	add	hl, hl
4884  1906  01 00 00    	ld	bc,_hof
4885  1909  09          	add	hl,bc
4886  190A  3A 00 00    	ld	a,(_s_lin1)
4887  190D  EB          	ex	de,hl
4888  190E  C6 07       	add	a,0x07
4889  1910  47          	ld	b,a
4890  1911  D5          	push	de
4891  1912  3E 0A       	ld	a,0x0a
4892  1914  48          	ld	c,b
4893  1915  47          	ld	b,a
4894  1916  C5          	push	bc
4895  1917  CD 00 00    	call	_zx_print_str
4896  191A  2A 00 00    	ld	hl,(_s_lin1)
4897  191D  26 00       	ld	h,0x00
4898  191F  4D          	ld	c,l
4899  1920  44          	ld	b,h
4900  1921  29          	add	hl, hl
4901  1922  09          	add	hl, bc
4902  1923  29          	add	hl, hl
4903  1924  01 00 00    	ld	bc,_hof
4904  1927  09          	add	hl,bc
4905  1928  11 04 00    	ld	de,0x0004
4906  192B  19          	add	hl, de
4907  192C  5E          	ld	e,(hl)
4908  192D  23          	inc	hl
4909  192E  56          	ld	d,(hl)
4910  192F  3A 00 00    	ld	a,(_s_lin1)
4911  1932  C6 07       	add	a,0x07
4912  1934  47          	ld	b,a
4913  1935  D5          	push	de
4914  1936  3E 10       	ld	a,0x10
4915  1938  48          	ld	c,b
4916  1939  47          	ld	b,a
4917  193A  C5          	push	bc
4918  193B  CD 00 00    	call	_zx_print_int
4919  193E  11 02 02    	ld	de,___str_50
4920  1941  3A 00 00    	ld	a,(_s_lin1)
4921  1944  C6 07       	add	a,0x07
4922  1946  47          	ld	b,a
4923  1947  D5          	push	de
4924  1948  3E 0E       	ld	a,0x0e
4925  194A  48          	ld	c,b
4926  194B  47          	ld	b,a
4927  194C  C5          	push	bc
4928  194D  CD 00 00    	call	_zx_print_str
4929  1950  11 04 02    	ld	de,___str_51
4930  1953  3A 00 00    	ld	a,(_s_lin1)
4931  1956  C6 07       	add	a,0x07
4932  1958  47          	ld	b,a
4933  1959  D5          	push	de
4934  195A  3E 15       	ld	a,0x15
4935  195C  48          	ld	c,b
4936  195D  47          	ld	b,a
4937  195E  C5          	push	bc
4938  195F  CD 00 00    	call	_zx_print_str
4939  1962  21 00 00    	ld	hl,_s_lin1
4940  1965  7E          	ld	a,(hl)
4941  1966  3C          	inc	a
4942  1967  77          	ld	(hl),a
4943  1968  D6 0A       	sub	a,0x0a
4944  196A  38 8B       	jr	C,l_game_hall_of_fame_00102
4945  196C  21 06 02    	ld	hl,___str_52
4946  196F  E5          	push	hl
4947  1970  21 04 0A    	ld	hl,0x0a04
4948  1973  E5          	push	hl
4949  1974  CD 00 00    	call	_zx_print_str
4950  1977  21 F4 01    	ld	hl,0x01f4
4951  197A  E5          	push	hl
4952  197B  21 0A 16    	ld	hl,0x160a
4953  197E  E5          	push	hl
4954  197F  3E 04       	ld	a,0x04
4955  1981  F5          	push	af
4956  1982  33          	inc	sp
4957  1983  CD B4 19    	call	_game_colour_message
4958  1986  F1          	pop	af
4959  1987  F1          	pop	af
4960  1988  33          	inc	sp
4961  1989  CD 00 00    	call	_spr_draw_clear
4962  198C  21 00 00    	ld	hl,_game_menu_sel
4963  198F  36 00       	ld	(hl),0x00
4964  1991  21 00 00    	ld	hl,_pb_midi_title
4965  1994  CD 00 00    	call	_ay_midi_play
4966  1997  C9          	ret
4967  1998              	SECTION rodata_compiler
4968  0202              ___str_50:
4969  0202  2D          	DEFM "-"
4970  0203  00          	DEFB 0x00
4971  0204              	SECTION rodata_compiler
4972  0204              ___str_51:
4973  0204  30          	DEFM "0"
4974  0205  00          	DEFB 0x00
4975  0206              	SECTION rodata_compiler
4976  0206              ___str_52:
4977  0206  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4978  0212  00          	DEFB 0x00
4979  0213              	SECTION code_compiler
4980  1998              ;	---------------------------------
4981  1998              ; Function game_rotate_attrib
4982  1998              ; ---------------------------------
4983  1998              _game_rotate_attrib:
4984  1998  01 03 00    	ld	bc,_attrib_hl + 3
4985  199B  0A          	ld	a,(bc)
4986  199C  32 00 00    	ld	(_tmp_uc),a
4987  199F  11 02 00    	ld	de,_attrib_hl + 2
4988  19A2  1A          	ld	a,(de)
4989  19A3  02          	ld	(bc),a
4990  19A4  01 01 00    	ld	bc,_attrib_hl + 1
4991  19A7  0A          	ld	a,(bc)
4992  19A8  12          	ld	(de),a
4993  19A9  3A 00 00    	ld	a,(_attrib_hl)
4994  19AC  02          	ld	(bc),a
4995  19AD  3A 00 00    	ld	a,(_tmp_uc)
4996  19B0  32 00 00    	ld	(_attrib_hl),a
4997  19B3  C9          	ret
4998  19B4              	SECTION code_compiler
4999  19B4              ;	---------------------------------
5000  19B4              ; Function game_colour_message
5001  19B4              ; ---------------------------------
5002  19B4              _game_colour_message:
5003  19B4  CD 00 00    	call	___sdcc_enter_ix
5004  19B7  3B          	dec	sp
5005  19B8  21 00 00    	ld	hl,_tmp
5006  19BB  36 01       	ld	(hl),0x01
5007  19BD  2A 00 00    	ld	hl,(_curr_time)
5008  19C0  22 00 00    	ld	(_frame_time),hl
5009  19C3  2A 00 00    	ld	hl,(_curr_time)
5010  19C6  22 00 00    	ld	(_entry_time),hl
5011  19C9  DD 7E 04    	ld	a,(ix+4)
5012  19CC  07          	rlca
5013  19CD  07          	rlca
5014  19CE  07          	rlca
5015  19CF  E6 F8       	and	a,0xf8
5016  19D1  C6 08       	add	a,0x08
5017  19D3  DD 77 FF    	ld	(ix-1),a
5018  19D6              l_game_colour_message_00107:
5019  19D6  3A 00 00    	ld	a,(_tmp)
5020  19D9  B7          	or	a, a
5021  19DA  28 66       	jr	Z,l_game_colour_message_00110
5022  19DC  DD 6E 07    	ld	l,(ix+7)
5023  19DF  DD 66 08    	ld	h,(ix+8)
5024  19E2  E5          	push	hl
5025  19E3  2A 00 00    	ld	hl,(_entry_time)
5026  19E6  E5          	push	hl
5027  19E7  CD 46 1A    	call	_game_check_time
5028  19EA  F1          	pop	af
5029  19EB  F1          	pop	af
5030  19EC  7D          	ld	a,l
5031  19ED  B7          	or	a, a
5032  19EE  20 52       	jr	NZ,l_game_colour_message_00110
5033  19F0  21 05 00    	ld	hl,0x0005
5034  19F3  E5          	push	hl
5035  19F4  2A 00 00    	ld	hl,(_frame_time)
5036  19F7  E5          	push	hl
5037  19F8  CD 46 1A    	call	_game_check_time
5038  19FB  F1          	pop	af
5039  19FC  F1          	pop	af
5040  19FD  7D          	ld	a,l
5041  19FE  B7          	or	a, a
5042  19FF  28 1A       	jr	Z,l_game_colour_message_00103
5043  1A01  2A 00 00    	ld	hl,(_curr_time)
5044  1A04  22 00 00    	ld	(_frame_time),hl
5045  1A07  DD 66 FF    	ld	h,(ix-1)
5046  1A0A  DD 6E 06    	ld	l,(ix+6)
5047  1A0D  E5          	push	hl
5048  1A0E  DD 7E 05    	ld	a,(ix+5)
5049  1A11  F5          	push	af
5050  1A12  33          	inc	sp
5051  1A13  CD 48 0D    	call	_game_paint_attrib_lin_h
5052  1A16  F1          	pop	af
5053  1A17  33          	inc	sp
5054  1A18  CD 98 19    	call	_game_rotate_attrib
5055  1A1B              l_game_colour_message_00103:
5056  1A1B  21 00 00    	ld	hl,_k1
5057  1A1E  E5          	push	hl
5058  1A1F  2A 00 00    	ld	hl,(_joyfunc1)
5059  1A22  CD 00 00    	call	___sdcc_call_hl
5060  1A25  E3          	ex	(sp),hl
5061  1A26  21 00 00    	ld	hl,_k2
5062  1A29  E5          	push	hl
5063  1A2A  2A 00 00    	ld	hl,(_joyfunc2)
5064  1A2D  CD 00 00    	call	___sdcc_call_hl
5065  1A30  F1          	pop	af
5066  1A31  EB          	ex	de,hl
5067  1A32  C1          	pop	bc
5068  1A33  79          	ld	a,c
5069  1A34  B3          	or	a, e
5070  1A35  4F          	ld	c,a
5071  1A36  78          	ld	a,b
5072  1A37  B2          	or	a, d
5073  1A38  B1          	or	a,c
5074  1A39  28 9B       	jr	Z,l_game_colour_message_00107
5075  1A3B  21 00 00    	ld	hl,_tmp
5076  1A3E  36 00       	ld	(hl),0x00
5077  1A40  18 D9       	jr	l_game_colour_message_00103
5078  1A42              l_game_colour_message_00110:
5079  1A42  33          	inc	sp
5080  1A43  DD E1       	pop	ix
5081  1A45  C9          	ret
5082  1A46              	SECTION code_compiler
5083  1A46              ;	---------------------------------
5084  1A46              ; Function game_check_time
5085  1A46              ; ---------------------------------
5086  1A46              _game_check_time:
5087  1A46  CD 00 00    	call	___sdcc_enter_ix
5088  1A49  2A 00 00    	ld	hl,(_curr_time)
5089  1A4C  7D          	ld	a,l
5090  1A4D  DD 96 04    	sub	a,(ix+4)
5091  1A50  4F          	ld	c,a
5092  1A51  7C          	ld	a,h
5093  1A52  DD 9E 05    	sbc	a,(ix+5)
5094  1A55  47          	ld	b,a
5095  1A56  DD 7E 06    	ld	a,(ix+6)
5096  1A59  91          	sub	a, c
5097  1A5A  DD 7E 07    	ld	a,(ix+7)
5098  1A5D  98          	sbc	a, b
5099  1A5E  30 04       	jr	NC,l_game_check_time_00102
5100  1A60  2E 01       	ld	l,0x01
5101  1A62  18 02       	jr	l_game_check_time_00104
5102  1A64              l_game_check_time_00102:
5103  1A64  2E 00       	ld	l,0x00
5104  1A66              l_game_check_time_00104:
5105  1A66  DD E1       	pop	ix
5106  1A68  C9          	ret
5107  1A69              	SECTION IGNORE
5108  0000              
