1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9824 (MSVC)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_clear
244   0000              	GLOBAL _spr_water_splash_draw
245   0000              	GLOBAL _spr_water_splash_clear
246   0000              	GLOBAL _spr_draw_back
247   0000              	GLOBAL _spr_cortina_pipes
248   0000              	GLOBAL _spr_cortina_brick
249   0000              	GLOBAL _spr_brick_anim
250   0000              	GLOBAL _spr_back_fix4
251   0000              	GLOBAL _spr_back_fix3
252   0000              	GLOBAL _spr_back_fix2
253   0000              	GLOBAL _spr_back_fix1
254   0000              	GLOBAL _spr_back_fix
255   0000              	GLOBAL _spr_back_clr
256   0000              	GLOBAL _spr_draw_pow
257   0000              	GLOBAL _spr_tile
258   0000              	GLOBAL _spr_set_fall
259   0000              	GLOBAL _spr_destroy
260   0000              	GLOBAL _spr_check_over
261   0000              	GLOBAL _spr_tile_dir
262   0000              	GLOBAL _spr_anim_kill
263   0000              	GLOBAL _spr_anim_fall
264   0000              	GLOBAL _spr_killed
265   0000              	GLOBAL _spr_redraw
266   0000              	GLOBAL _spr_move_left
267   0000              	GLOBAL _spr_move_right
268   0000              	GLOBAL _spr_move_horizontal
269   0000              	GLOBAL _spr_move_down
270   0000              	GLOBAL _spr_move_up
271   0000              	GLOBAL _spr_chktime
272   0000              	GLOBAL _sound_hit_pow
273   0000              	GLOBAL _sound_hit_brick
274   0000              	GLOBAL _sound_hit_enemy
275   0000              	GLOBAL _sound_kill
276   0000              	GLOBAL _sound_enter_enemy
277   0000              	GLOBAL _sound_coin
278   0000              	GLOBAL _sound_jump
279   0000              	GLOBAL _sound_slide
280   0000              	GLOBAL _player_move_horizontal
281   0000              	GLOBAL _player_push_check
282   0000              	GLOBAL _player_push
283   0000              	GLOBAL _player_hit_brick_clear
284   0000              	GLOBAL _player_lost_life
285   0000              	GLOBAL _player_score_add
286   0000              	GLOBAL _player_coin
287   0000              	GLOBAL _player_hit_pow
288   0000              	GLOBAL _player_hit_brick
289   0000              	GLOBAL _player_move_input
290   0000              	GLOBAL _player_turn
291   0000              	GLOBAL _player_move
292   0000              	GLOBAL _player_restart
293   0000              	GLOBAL _player_kill
294   0000              	GLOBAL _player_check_input
295   0000              	GLOBAL _player_collition_check
296   0000              	GLOBAL _player_collition
297   0000              	GLOBAL _player_calc_slide
298   0000              	GLOBAL _player_init
299   0000              	GLOBAL _player_set2
300   0000              	GLOBAL _player_set1
301   0000              	GLOBAL _game_fill_row
302   0000              	GLOBAL _enemy_kill
303   0000              	GLOBAL _enemy_init
304   0000              	GLOBAL _enemy_walk
305   0000              	GLOBAL _enemy_upgrade
306   0000              	GLOBAL _enemy_evolve
307   0000              	GLOBAL _enemy_standard_hit
308   0000              	GLOBAL _enemy_trip
309   0000              	GLOBAL _enemy_fighterfly
310   0000              	GLOBAL _enemy_fireball_green
311   0000              	GLOBAL _enemy_fireball_red
312   0000              	GLOBAL _enemy_slipice
313   0000              	GLOBAL _enemy_standard
314   0000              	GLOBAL _enemy_turn
315   0000              	GLOBAL _enemy_flip_sidestepper
316   0000              	GLOBAL _enemy_flip
317   0000              	GLOBAL _enemy_flip_change_dir
318   0000              	GLOBAL _enemy_hit
319   0000              	GLOBAL _enemy_collition_check
320   0000              	GLOBAL _enemy_collition
321   0000              	GLOBAL _enemy_coin1
322   0000              	GLOBAL _ay_fx_play
323   0000              	GLOBAL _ay_midi_play
324   0000              	GLOBAL _ay_is_playing
325   0000              	GLOBAL _ay_reset
326   0000              	GLOBAL _test_func
327   0000              	GLOBAL _in_mouse_kempston_wheel_delta
328   0000              	GLOBAL _in_mouse_kempston_wheel
329   0000              	GLOBAL _in_mouse_kempston_callee
330   0000              	GLOBAL _in_mouse_kempston
331   0000              	GLOBAL _in_mouse_kempston_setpos_callee
332   0000              	GLOBAL _in_mouse_kempston_setpos
333   0000              	GLOBAL _in_mouse_kempston_reset
334   0000              	GLOBAL _in_mouse_kempston_init
335   0000              	GLOBAL _in_mouse_amx_wheel_delta
336   0000              	GLOBAL _in_mouse_amx_wheel
337   0000              	GLOBAL _in_mouse_amx_callee
338   0000              	GLOBAL _in_mouse_amx
339   0000              	GLOBAL _in_mouse_amx_setpos_callee
340   0000              	GLOBAL _in_mouse_amx_setpos
341   0000              	GLOBAL _in_mouse_amx_reset
342   0000              	GLOBAL _in_mouse_amx_init_callee
343   0000              	GLOBAL _in_mouse_amx_init
344   0000              	GLOBAL _in_stick_sinclair2
345   0000              	GLOBAL _in_stick_sinclair1
346   0000              	GLOBAL _in_stick_kempston
347   0000              	GLOBAL _in_stick_fuller
348   0000              	GLOBAL _in_stick_cursor
349   0000              	GLOBAL _in_stick_keyboard_fastcall
350   0000              	GLOBAL _in_stick_keyboard
351   0000              	GLOBAL _in_wait_nokey
352   0000              	GLOBAL _in_wait_key
353   0000              	GLOBAL _in_test_key
354   0000              	GLOBAL _in_pause_fastcall
355   0000              	GLOBAL _in_pause
356   0000              	GLOBAL _in_key_scancode_fastcall
357   0000              	GLOBAL _in_key_scancode
358   0000              	GLOBAL _in_key_pressed_fastcall
359   0000              	GLOBAL _in_key_pressed
360   0000              	GLOBAL _in_inkey
361   0000              	GLOBAL _NIRVANAP_chars_fastcall
362   0000              	GLOBAL _NIRVANAP_chars
363   0000              	GLOBAL _NIRVANAP_wides_fastcall
364   0000              	GLOBAL _NIRVANAP_wides
365   0000              	GLOBAL _NIRVANAP_tiles_fastcall
366   0000              	GLOBAL _NIRVANAP_tiles
367   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
368   0000              	GLOBAL _NIRVANAP_drawW_raw
369   0000              	GLOBAL _NIRVANAP_drawW_callee
370   0000              	GLOBAL _NIRVANAP_drawW
371   0000              	GLOBAL _NIRVANAP_spriteT_callee
372   0000              	GLOBAL _NIRVANAP_spriteT
373   0000              	GLOBAL _NIRVANAP_fillC_callee
374   0000              	GLOBAL _NIRVANAP_fillC
375   0000              	GLOBAL _NIRVANAP_paintC_callee
376   0000              	GLOBAL _NIRVANAP_paintC
377   0000              	GLOBAL _NIRVANAP_printC_callee
378   0000              	GLOBAL _NIRVANAP_printC
379   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
380   0000              	GLOBAL _NIRVANAP_fillT_raw
381   0000              	GLOBAL _NIRVANAP_fillT_callee
382   0000              	GLOBAL _NIRVANAP_fillT
383   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
384   0000              	GLOBAL _NIRVANAP_drawT_raw
385   0000              	GLOBAL _NIRVANAP_drawT_callee
386   0000              	GLOBAL _NIRVANAP_drawT
387   0000              	GLOBAL _NIRVANAP_stop
388   0000              	GLOBAL _NIRVANAP_start
389   0000              	GLOBAL _z80_otdr_callee
390   0000              	GLOBAL _z80_otdr
391   0000              	GLOBAL _z80_otir_callee
392   0000              	GLOBAL _z80_otir
393   0000              	GLOBAL _z80_outp_callee
394   0000              	GLOBAL _z80_outp
395   0000              	GLOBAL _z80_indr_callee
396   0000              	GLOBAL _z80_indr
397   0000              	GLOBAL _z80_inir_callee
398   0000              	GLOBAL _z80_inir
399   0000              	GLOBAL _z80_inp_fastcall
400   0000              	GLOBAL _z80_inp
401   0000              	GLOBAL _z80_set_int_state_fastcall
402   0000              	GLOBAL _z80_set_int_state
403   0000              	GLOBAL _z80_get_int_state
404   0000              	GLOBAL _z80_delay_tstate_fastcall
405   0000              	GLOBAL _z80_delay_tstate
406   0000              	GLOBAL _z80_delay_ms_fastcall
407   0000              	GLOBAL _z80_delay_ms
408   0000              	GLOBAL _im2_remove_generic_callback_callee
409   0000              	GLOBAL _im2_remove_generic_callback
410   0000              	GLOBAL _im2_prepend_generic_callback_callee
411   0000              	GLOBAL _im2_prepend_generic_callback
412   0000              	GLOBAL _im2_append_generic_callback_callee
413   0000              	GLOBAL _im2_append_generic_callback
414   0000              	GLOBAL _im2_create_generic_isr_8080_callee
415   0000              	GLOBAL _im2_create_generic_isr_8080
416   0000              	GLOBAL _im2_create_generic_isr_callee
417   0000              	GLOBAL _im2_create_generic_isr
418   0000              	GLOBAL _im2_install_isr_callee
419   0000              	GLOBAL _im2_install_isr
420   0000              	GLOBAL _im2_init_fastcall
421   0000              	GLOBAL _im2_init
422   0000              	GLOBAL _ffsll_callee
423   0000              	GLOBAL _ffsll
424   0000              	GLOBAL _strxfrm_callee
425   0000              	GLOBAL _strxfrm
426   0000              	GLOBAL _strupr_fastcall
427   0000              	GLOBAL _strupr
428   0000              	GLOBAL _strtok_r_callee
429   0000              	GLOBAL _strtok_r
430   0000              	GLOBAL _strtok_callee
431   0000              	GLOBAL _strtok
432   0000              	GLOBAL _strstrip_fastcall
433   0000              	GLOBAL _strstrip
434   0000              	GLOBAL _strstr_callee
435   0000              	GLOBAL _strstr
436   0000              	GLOBAL _strspn_callee
437   0000              	GLOBAL _strspn
438   0000              	GLOBAL _strsep_callee
439   0000              	GLOBAL _strsep
440   0000              	GLOBAL _strrstrip_fastcall
441   0000              	GLOBAL _strrstrip
442   0000              	GLOBAL _strrspn_callee
443   0000              	GLOBAL _strrspn
444   0000              	GLOBAL _strrev_fastcall
445   0000              	GLOBAL _strrev
446   0000              	GLOBAL _strrcspn_callee
447   0000              	GLOBAL _strrcspn
448   0000              	GLOBAL _strrchr_callee
449   0000              	GLOBAL _strrchr
450   0000              	GLOBAL _strpbrk_callee
451   0000              	GLOBAL _strpbrk
452   0000              	GLOBAL _strnlen_callee
453   0000              	GLOBAL _strnlen
454   0000              	GLOBAL _strnicmp_callee
455   0000              	GLOBAL _strnicmp
456   0000              	GLOBAL _strndup_callee
457   0000              	GLOBAL _strndup
458   0000              	GLOBAL _strncpy_callee
459   0000              	GLOBAL _strncpy
460   0000              	GLOBAL _strncmp_callee
461   0000              	GLOBAL _strncmp
462   0000              	GLOBAL _strnchr_callee
463   0000              	GLOBAL _strnchr
464   0000              	GLOBAL _strncat_callee
465   0000              	GLOBAL _strncat
466   0000              	GLOBAL _strncasecmp_callee
467   0000              	GLOBAL _strncasecmp
468   0000              	GLOBAL _strlwr_fastcall
469   0000              	GLOBAL _strlwr
470   0000              	GLOBAL _strlen_fastcall
471   0000              	GLOBAL _strlen
472   0000              	GLOBAL _strlcpy_callee
473   0000              	GLOBAL _strlcpy
474   0000              	GLOBAL _strlcat_callee
475   0000              	GLOBAL _strlcat
476   0000              	GLOBAL _stricmp_callee
477   0000              	GLOBAL _stricmp
478   0000              	GLOBAL _strerror_fastcall
479   0000              	GLOBAL _strerror
480   0000              	GLOBAL _strdup_fastcall
481   0000              	GLOBAL _strdup
482   0000              	GLOBAL _strcspn_callee
483   0000              	GLOBAL _strcspn
484   0000              	GLOBAL _strcpy_callee
485   0000              	GLOBAL _strcpy
486   0000              	GLOBAL _strcoll_callee
487   0000              	GLOBAL _strcoll
488   0000              	GLOBAL _strcmp_callee
489   0000              	GLOBAL _strcmp
490   0000              	GLOBAL _strchrnul_callee
491   0000              	GLOBAL _strchrnul
492   0000              	GLOBAL _strchr_callee
493   0000              	GLOBAL _strchr
494   0000              	GLOBAL _strcat_callee
495   0000              	GLOBAL _strcat
496   0000              	GLOBAL _strcasecmp_callee
497   0000              	GLOBAL _strcasecmp
498   0000              	GLOBAL _stpncpy_callee
499   0000              	GLOBAL _stpncpy
500   0000              	GLOBAL _stpcpy_callee
501   0000              	GLOBAL _stpcpy
502   0000              	GLOBAL _memswap_callee
503   0000              	GLOBAL _memswap
504   0000              	GLOBAL _memset_callee
505   0000              	GLOBAL _memset
506   0000              	GLOBAL _memrchr_callee
507   0000              	GLOBAL _memrchr
508   0000              	GLOBAL _memmove_callee
509   0000              	GLOBAL _memmove
510   0000              	GLOBAL _memmem_callee
511   0000              	GLOBAL _memmem
512   0000              	GLOBAL _memcpy_callee
513   0000              	GLOBAL _memcpy
514   0000              	GLOBAL _memcmp_callee
515   0000              	GLOBAL _memcmp
516   0000              	GLOBAL _memchr_callee
517   0000              	GLOBAL _memchr
518   0000              	GLOBAL _memccpy_callee
519   0000              	GLOBAL _memccpy
520   0000              	GLOBAL _ffsl_fastcall
521   0000              	GLOBAL _ffsl
522   0000              	GLOBAL _ffs_fastcall
523   0000              	GLOBAL _ffs
524   0000              	GLOBAL __strrstrip__fastcall
525   0000              	GLOBAL __strrstrip_
526   0000              	GLOBAL __memupr__callee
527   0000              	GLOBAL __memupr_
528   0000              	GLOBAL __memstrcpy__callee
529   0000              	GLOBAL __memstrcpy_
530   0000              	GLOBAL __memlwr__callee
531   0000              	GLOBAL __memlwr_
532   0000              	GLOBAL _rawmemchr_callee
533   0000              	GLOBAL _rawmemchr
534   0000              	GLOBAL _strnset_callee
535   0000              	GLOBAL _strnset
536   0000              	GLOBAL _strset_callee
537   0000              	GLOBAL _strset
538   0000              	GLOBAL _rindex_callee
539   0000              	GLOBAL _rindex
540   0000              	GLOBAL _index_callee
541   0000              	GLOBAL _index
542   0000              	GLOBAL _bzero_callee
543   0000              	GLOBAL _bzero
544   0000              	GLOBAL _bcopy_callee
545   0000              	GLOBAL _bcopy
546   0000              	GLOBAL _bcmp_callee
547   0000              	GLOBAL _bcmp
548   0000              	GLOBAL _ulltoa_callee
549   0000              	GLOBAL _ulltoa
550   0000              	GLOBAL _strtoull_callee
551   0000              	GLOBAL _strtoull
552   0000              	GLOBAL _strtoll_callee
553   0000              	GLOBAL _strtoll
554   0000              	GLOBAL _lltoa_callee
555   0000              	GLOBAL _lltoa
556   0000              	GLOBAL _llabs_callee
557   0000              	GLOBAL _llabs
558   0000              	GLOBAL __lldivu__callee
559   0000              	GLOBAL __lldivu_
560   0000              	GLOBAL __lldiv__callee
561   0000              	GLOBAL __lldiv_
562   0000              	GLOBAL _atoll_callee
563   0000              	GLOBAL _atoll
564   0000              	GLOBAL _realloc_unlocked_callee
565   0000              	GLOBAL _realloc_unlocked
566   0000              	GLOBAL _malloc_unlocked_fastcall
567   0000              	GLOBAL _malloc_unlocked
568   0000              	GLOBAL _free_unlocked_fastcall
569   0000              	GLOBAL _free_unlocked
570   0000              	GLOBAL _calloc_unlocked_callee
571   0000              	GLOBAL _calloc_unlocked
572   0000              	GLOBAL _aligned_alloc_unlocked_callee
573   0000              	GLOBAL _aligned_alloc_unlocked
574   0000              	GLOBAL _realloc_callee
575   0000              	GLOBAL _realloc
576   0000              	GLOBAL _malloc_fastcall
577   0000              	GLOBAL _malloc
578   0000              	GLOBAL _free_fastcall
579   0000              	GLOBAL _free
580   0000              	GLOBAL _calloc_callee
581   0000              	GLOBAL _calloc
582   0000              	GLOBAL _aligned_alloc_callee
583   0000              	GLOBAL _aligned_alloc
584   0000              	GLOBAL _utoa_callee
585   0000              	GLOBAL _utoa
586   0000              	GLOBAL _ultoa_callee
587   0000              	GLOBAL _ultoa
588   0000              	GLOBAL _system_fastcall
589   0000              	GLOBAL _system
590   0000              	GLOBAL _strtoul_callee
591   0000              	GLOBAL _strtoul
592   0000              	GLOBAL _strtol_callee
593   0000              	GLOBAL _strtol
594   0000              	GLOBAL _strtof_callee
595   0000              	GLOBAL _strtof
596   0000              	GLOBAL _strtod_callee
597   0000              	GLOBAL _strtod
598   0000              	GLOBAL _srand_fastcall
599   0000              	GLOBAL _srand
600   0000              	GLOBAL _rand
601   0000              	GLOBAL _quick_exit_fastcall
602   0000              	GLOBAL _quick_exit
603   0000              	GLOBAL _qsort_callee
604   0000              	GLOBAL _qsort
605   0000              	GLOBAL _ltoa_callee
606   0000              	GLOBAL _ltoa
607   0000              	GLOBAL _labs_fastcall
608   0000              	GLOBAL _labs
609   0000              	GLOBAL _itoa_callee
610   0000              	GLOBAL _itoa
611   0000              	GLOBAL _ftoh_callee
612   0000              	GLOBAL _ftoh
613   0000              	GLOBAL _ftog_callee
614   0000              	GLOBAL _ftog
615   0000              	GLOBAL _ftoe_callee
616   0000              	GLOBAL _ftoe
617   0000              	GLOBAL _ftoa_callee
618   0000              	GLOBAL _ftoa
619   0000              	GLOBAL _exit_fastcall
620   0000              	GLOBAL _exit
621   0000              	GLOBAL _dtoh_callee
622   0000              	GLOBAL _dtoh
623   0000              	GLOBAL _dtog_callee
624   0000              	GLOBAL _dtog
625   0000              	GLOBAL _dtoe_callee
626   0000              	GLOBAL _dtoe
627   0000              	GLOBAL _dtoa_callee
628   0000              	GLOBAL _dtoa
629   0000              	GLOBAL _bsearch_callee
630   0000              	GLOBAL _bsearch
631   0000              	GLOBAL _atol_fastcall
632   0000              	GLOBAL _atol
633   0000              	GLOBAL _atoi_fastcall
634   0000              	GLOBAL _atoi
635   0000              	GLOBAL _atof_fastcall
636   0000              	GLOBAL _atof
637   0000              	GLOBAL _atexit_fastcall
638   0000              	GLOBAL _atexit
639   0000              	GLOBAL _at_quick_exit_fastcall
640   0000              	GLOBAL _at_quick_exit
641   0000              	GLOBAL _abs_fastcall
642   0000              	GLOBAL _abs
643   0000              	GLOBAL _abort
644   0000              	GLOBAL __strtou__callee
645   0000              	GLOBAL __strtou_
646   0000              	GLOBAL __strtoi__callee
647   0000              	GLOBAL __strtoi_
648   0000              	GLOBAL __random_uniform_xor_8__fastcall
649   0000              	GLOBAL __random_uniform_xor_8_
650   0000              	GLOBAL __random_uniform_xor_32__fastcall
651   0000              	GLOBAL __random_uniform_xor_32_
652   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
653   0000              	GLOBAL __random_uniform_cmwc_8_
654   0000              	GLOBAL __shellsort__callee
655   0000              	GLOBAL __shellsort_
656   0000              	GLOBAL __quicksort__callee
657   0000              	GLOBAL __quicksort_
658   0000              	GLOBAL __insertion_sort__callee
659   0000              	GLOBAL __insertion_sort_
660   0000              	GLOBAL __ldivu__callee
661   0000              	GLOBAL __ldivu_
662   0000              	GLOBAL __ldiv__callee
663   0000              	GLOBAL __ldiv_
664   0000              	GLOBAL __divu__callee
665   0000              	GLOBAL __divu_
666   0000              	GLOBAL __div__callee
667   0000              	GLOBAL __div_
668   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
669   0000              	GLOBAL _intrinsic_swap_word_32
670   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
671   0000              	GLOBAL _intrinsic_swap_endian_32
672   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
673   0000              	GLOBAL _intrinsic_swap_endian_16
674   0000              	GLOBAL _intrinsic_return_de
675   0000              	GLOBAL _intrinsic_return_bc
676   0000              	GLOBAL _intrinsic_exx
677   0000              	GLOBAL _intrinsic_ex_de_hl
678   0000              	GLOBAL _intrinsic_pop_iy
679   0000              	GLOBAL _intrinsic_pop_ix
680   0000              	GLOBAL _intrinsic_pop_hl
681   0000              	GLOBAL _intrinsic_pop_de
682   0000              	GLOBAL _intrinsic_pop_bc
683   0000              	GLOBAL _intrinsic_pop_af
684   0000              	GLOBAL _intrinsic_push_iy
685   0000              	GLOBAL _intrinsic_push_ix
686   0000              	GLOBAL _intrinsic_push_hl
687   0000              	GLOBAL _intrinsic_push_de
688   0000              	GLOBAL _intrinsic_push_bc
689   0000              	GLOBAL _intrinsic_push_af
690   0000              	GLOBAL _intrinsic_nop
691   0000              	GLOBAL _intrinsic_im_2
692   0000              	GLOBAL _intrinsic_im_1
693   0000              	GLOBAL _intrinsic_im_0
694   0000              	GLOBAL _intrinsic_retn
695   0000              	GLOBAL _intrinsic_reti
696   0000              	GLOBAL _intrinsic_halt
697   0000              	GLOBAL _intrinsic_ei
698   0000              	GLOBAL _intrinsic_di
699   0000              	GLOBAL _intrinsic_stub
700   0000              	GLOBAL _zx_pattern_fill_callee
701   0000              	GLOBAL _zx_pattern_fill
702   0000              	GLOBAL _zx_saddrpup_fastcall
703   0000              	GLOBAL _zx_saddrpup
704   0000              	GLOBAL _zx_saddrpright_callee
705   0000              	GLOBAL _zx_saddrpright
706   0000              	GLOBAL _zx_saddrpleft_callee
707   0000              	GLOBAL _zx_saddrpleft
708   0000              	GLOBAL _zx_saddrpdown_fastcall
709   0000              	GLOBAL _zx_saddrpdown
710   0000              	GLOBAL _zx_saddrcup_fastcall
711   0000              	GLOBAL _zx_saddrcup
712   0000              	GLOBAL _zx_saddrcright_fastcall
713   0000              	GLOBAL _zx_saddrcright
714   0000              	GLOBAL _zx_saddrcleft_fastcall
715   0000              	GLOBAL _zx_saddrcleft
716   0000              	GLOBAL _zx_saddrcdown_fastcall
717   0000              	GLOBAL _zx_saddrcdown
718   0000              	GLOBAL _zx_saddr2py_fastcall
719   0000              	GLOBAL _zx_saddr2py
720   0000              	GLOBAL _zx_saddr2px_fastcall
721   0000              	GLOBAL _zx_saddr2px
722   0000              	GLOBAL _zx_saddr2cy_fastcall
723   0000              	GLOBAL _zx_saddr2cy
724   0000              	GLOBAL _zx_saddr2cx_fastcall
725   0000              	GLOBAL _zx_saddr2cx
726   0000              	GLOBAL _zx_saddr2aaddr_fastcall
727   0000              	GLOBAL _zx_saddr2aaddr
728   0000              	GLOBAL _zx_py2saddr_fastcall
729   0000              	GLOBAL _zx_py2saddr
730   0000              	GLOBAL _zx_py2aaddr_fastcall
731   0000              	GLOBAL _zx_py2aaddr
732   0000              	GLOBAL _zx_pxy2saddr_callee
733   0000              	GLOBAL _zx_pxy2saddr
734   0000              	GLOBAL _zx_pxy2aaddr_callee
735   0000              	GLOBAL _zx_pxy2aaddr
736   0000              	GLOBAL _zx_px2bitmask_fastcall
737   0000              	GLOBAL _zx_px2bitmask
738   0000              	GLOBAL _zx_cyx2saddr_callee
739   0000              	GLOBAL _zx_cyx2saddr
740   0000              	GLOBAL _zx_cyx2aaddr_callee
741   0000              	GLOBAL _zx_cyx2aaddr
742   0000              	GLOBAL _zx_cy2saddr_fastcall
743   0000              	GLOBAL _zx_cy2saddr
744   0000              	GLOBAL _zx_cy2aaddr_fastcall
745   0000              	GLOBAL _zx_cy2aaddr
746   0000              	GLOBAL _zx_bitmask2px_fastcall
747   0000              	GLOBAL _zx_bitmask2px
748   0000              	GLOBAL _zx_aaddrcup_fastcall
749   0000              	GLOBAL _zx_aaddrcup
750   0000              	GLOBAL _zx_aaddrcright_fastcall
751   0000              	GLOBAL _zx_aaddrcright
752   0000              	GLOBAL _zx_aaddrcleft_fastcall
753   0000              	GLOBAL _zx_aaddrcleft
754   0000              	GLOBAL _zx_aaddrcdown_fastcall
755   0000              	GLOBAL _zx_aaddrcdown
756   0000              	GLOBAL _zx_aaddr2saddr_fastcall
757   0000              	GLOBAL _zx_aaddr2saddr
758   0000              	GLOBAL _zx_aaddr2py_fastcall
759   0000              	GLOBAL _zx_aaddr2py
760   0000              	GLOBAL _zx_aaddr2px_fastcall
761   0000              	GLOBAL _zx_aaddr2px
762   0000              	GLOBAL _zx_aaddr2cy_fastcall
763   0000              	GLOBAL _zx_aaddr2cy
764   0000              	GLOBAL _zx_aaddr2cx_fastcall
765   0000              	GLOBAL _zx_aaddr2cx
766   0000              	GLOBAL _zx_scroll_wc_up_callee
767   0000              	GLOBAL _zx_scroll_wc_up
768   0000              	GLOBAL _zx_scroll_up_callee
769   0000              	GLOBAL _zx_scroll_up
770   0000              	GLOBAL _zx_cls_wc_callee
771   0000              	GLOBAL _zx_cls_wc
772   0000              	GLOBAL _zx_cls_fastcall
773   0000              	GLOBAL _zx_cls
774   0000              	GLOBAL _zx_border_fastcall
775   0000              	GLOBAL _zx_border
776   0000              	GLOBAL _ay_effect_20
777   0000              	GLOBAL _ay_effect_19
778   0000              	GLOBAL _ay_effect_18
779   0000              	GLOBAL _ay_effect_17
780   0000              	GLOBAL _ay_effect_16
781   0000              	GLOBAL _ay_effect_15
782   0000              	GLOBAL _ay_effect_14
783   0000              	GLOBAL _ay_effect_13
784   0000              	GLOBAL _ay_effect_12
785   0000              	GLOBAL _ay_effect_11
786   0000              	GLOBAL _ay_effect_10
787   0000              	GLOBAL _ay_effect_09
788   0000              	GLOBAL _ay_effect_08
789   0000              	GLOBAL _ay_effect_07
790   0000              	GLOBAL _ay_effect_06
791   0000              	GLOBAL _ay_effect_05
792   0000              	GLOBAL _ay_effect_04
793   0000              	GLOBAL _ay_effect_03
794   0000              	GLOBAL _ay_effect_02
795   0000              	GLOBAL _ay_effect_01
796   0000              	GLOBAL _pb_midi_phase_1
797   0000              	GLOBAL _pb_midi_title
798   0000              	GLOBAL _joynames
799   0000              	GLOBAL _initials
800   0000              	GLOBAL _hof
801   0000              	GLOBAL _score_osd_tile
802   0000              	GLOBAL _score_osd_time
803   0000              	GLOBAL _score_osd_col
804   0000              	GLOBAL _score_osd_lin
805   0000              	GLOBAL _phase_bonus_total
806   0000              	GLOBAL _phase_angry
807   0000              	GLOBAL _phase_curr
808   0000              	GLOBAL _phase_end
809   0000              	GLOBAL _phase_coins
810   0000              	GLOBAL _phase_pop
811   0000              	GLOBAL _phase_tot
812   0000              	GLOBAL _phase_left
813   0000              	GLOBAL _phase_quota
814   0000              	GLOBAL _phases
815   0000              	GLOBAL _spr_idx
816   0000              	GLOBAL _lvl_1
817   0000              	GLOBAL _sprite_speed_alt
818   0000              	GLOBAL _sprite_speed
819   0000              	GLOBAL _screen_ink
820   0000              	GLOBAL _screen_paper
821   0000              	GLOBAL _game_menu_sel
822   0000              	GLOBAL _game_type
823   0000              	GLOBAL _game_bonus
824   0000              	GLOBAL _spr_water_time
825   0000              	GLOBAL _spr_water_clear
826   0000              	GLOBAL _game_time_fireball_start
827   0000              	GLOBAL _game_time_flipped
828   0000              	GLOBAL _game_score_top
829   0000              	GLOBAL _game_lives_update
830   0000              	GLOBAL _game_lives
831   0000              	GLOBAL _game_over
832   0000              	GLOBAL _game_sound
833   0000              	GLOBAL _game_two_player
834   0000              	GLOBAL _game_brick_tile
835   0000              	GLOBAL _game_pow
836   0000              	GLOBAL _spr_count
837   0000              	GLOBAL _frame_loop_count
838   0000              	GLOBAL _col_time
839   0000              	GLOBAL _frame_time
840   0000              	GLOBAL _entry_time
841   0000              	GLOBAL _curr_time
842   0000              	GLOBAL _s_state
843   0000              	GLOBAL _attrib_hl
844   0000              	GLOBAL _attrib
845   0000              	GLOBAL _zx_val_asm
846   0000              	GLOBAL _enemies
847   0000              	GLOBAL _tmp_ui
848   0000              	GLOBAL _tmp_sc
849   0000              	GLOBAL _tmp_uc
850   0000              	GLOBAL _tmp1
851   0000              	GLOBAL _tmp0
852   0000              	GLOBAL _tmp
853   0000              	GLOBAL _index_d
854   0000              	GLOBAL _index3
855   0000              	GLOBAL _index2
856   0000              	GLOBAL _index1
857   0000              	GLOBAL _loop_count
858   0000              	GLOBAL _sprite_lin_inc_mul
859   0000              	GLOBAL _s_col1
860   0000              	GLOBAL _s_col0
861   0000              	GLOBAL _s_lin1
862   0000              	GLOBAL _s_lin0
863   0000              	GLOBAL _s_tile1
864   0000              	GLOBAL _s_tile0
865   0000              	GLOBAL _hit_count
866   0000              	GLOBAL _tile_offset_other_player
867   0000              	GLOBAL _tile_offset
868   0000              	GLOBAL _index_player
869   0000              	GLOBAL _sprite_other_player
870   0000              	GLOBAL _sprite
871   0000              	GLOBAL _player_joy
872   0000              	GLOBAL _player_next_extra
873   0000              	GLOBAL _player_score
874   0000              	GLOBAL _last_time
875   0000              	GLOBAL _sliding
876   0000              	GLOBAL _spr_timer_c
877   0000              	GLOBAL _spr_timer
878   0000              	GLOBAL _jump_lin
879   0000              	GLOBAL _player_jump_c
880   0000              	GLOBAL _hit_col
881   0000              	GLOBAL _hit_lin
882   0000              	GLOBAL _colint
883   0000              	GLOBAL _col
884   0000              	GLOBAL _lin
885   0000              	GLOBAL _tile
886   0000              	GLOBAL _state_a
887   0000              	GLOBAL _state
888   0000              	GLOBAL _class
889   0000              	GLOBAL _tbuffer
890   0000              	GLOBAL _dirs
891   0000              	GLOBAL _k2
892   0000              	GLOBAL _k1
893   0000              	GLOBAL _joyfunc2
894   0000              	GLOBAL _joyfunc1
895   0000              	GLOBAL _btiles
896   0000              	GLOBAL _spec128
897   0000              	GLOBAL _control_method
898   0000              	GLOBAL _hall_valids
899   0000              ;--------------------------------------------------------
900   0000              ; special function registers
901   0000              ;--------------------------------------------------------
902   0000              ;--------------------------------------------------------
903   0000              ; ram data
904   0000              ;--------------------------------------------------------
905   0000              	SECTION bss_compiler
906   0000              defc _NIRVANAP_isr	=	0xf5d2
907   0000              ;--------------------------------------------------------
908   0000              ; ram data
909   0000              ;--------------------------------------------------------
910   0000              
911   0000              IF 0
912   0000              
913   0000              ; .area _INITIALIZED removed by z88dk
914   0000              
915   0000              
916   0000              ENDIF
917   0000              
918   0000              ;--------------------------------------------------------
919   0000              ; absolute external ram data
920   0000              ;--------------------------------------------------------
921   0000              	SECTION IGNORE
922   0000              ;--------------------------------------------------------
923   0000              ; global & static initialisations
924   0000              ;--------------------------------------------------------
925   0000              	SECTION code_crt_init
926   0000              ;--------------------------------------------------------
927   0000              ; Home
928   0000              ;--------------------------------------------------------
929   0000              	SECTION IGNORE
930   0000              ;--------------------------------------------------------
931   0000              ; code
932   0000              ;--------------------------------------------------------
933   0000              	SECTION code_compiler
934   0000              ;	---------------------------------
935   0000              ; Function game_calc_index
936   0000              ; ---------------------------------
937   0000              _game_calc_index:
938   0000  CD 00 00    	call	___sdcc_enter_ix
939   0003  DD 4E 05    	ld	c,(ix+5)
940   0006  06 00       	ld	b,0x00
941   0008  DD 7E 04    	ld	a,(ix+4)
942   000B  0F          	rrca
943   000C  0F          	rrca
944   000D  0F          	rrca
945   000E  E6 1F       	and	a,0x1f
946   0010  6F          	ld	l,a
947   0011  26 00       	ld	h,0x00
948   0013  29          	add	hl, hl
949   0014  29          	add	hl, hl
950   0015  29          	add	hl, hl
951   0016  29          	add	hl, hl
952   0017  29          	add	hl, hl
953   0018  09          	add	hl,bc
954   0019  DD E1       	pop	ix
955   001B  C9          	ret
956   001C              	SECTION code_compiler
957   001C              ;	---------------------------------
958   001C              ; Function game_print_footer
959   001C              ; ---------------------------------
960   001C              _game_print_footer:
961   001C  21 00 00    	ld	hl,___str_0
962   001F  E5          	push	hl
963   0020  21 16 01    	ld	hl,0x0116
964   0023  E5          	push	hl
965   0024  CD 00 00    	call	_zx_print_str
966   0027  21 00 00    	ld	hl,___str_0
967   002A  E5          	push	hl
968   002B  21 16 1E    	ld	hl,0x1e16
969   002E  E5          	push	hl
970   002F  CD 00 00    	call	_zx_print_str
971   0032  21 02 00    	ld	hl,___str_1
972   0035  E5          	push	hl
973   0036  21 17 01    	ld	hl,0x0117
974   0039  E5          	push	hl
975   003A  CD 00 00    	call	_zx_print_str
976   003D  21 02 00    	ld	hl,___str_1
977   0040  E5          	push	hl
978   0041  21 17 1E    	ld	hl,0x1e17
979   0044  E5          	push	hl
980   0045  CD 00 00    	call	_zx_print_str
981   0048  3A 00 00    	ld	a,(_game_lives)
982   004B  B7          	or	a, a
983   004C  28 20       	jr	Z,l_game_print_footer_00102
984   004E  21 00 00    	ld	hl,_screen_ink
985   0051  36 02       	ld	(hl),0x02
986   0053  21 08 00    	ld	hl,___str_2
987   0056  E5          	push	hl
988   0057  21 16 01    	ld	hl,0x0116
989   005A  E5          	push	hl
990   005B  CD 00 00    	call	_zx_print_str
991   005E  21 00 00    	ld	hl,_screen_ink
992   0061  36 06       	ld	(hl),0x06
993   0063  21 0A 00    	ld	hl,___str_3
994   0066  E5          	push	hl
995   0067  21 17 01    	ld	hl,0x0117
996   006A  E5          	push	hl
997   006B  CD 00 00    	call	_zx_print_str
998   006E              l_game_print_footer_00102:
999   006E  3A 01 00    	ld	a, (_game_lives + 1)
1000  0071  B7          	or	a, a
1001  0072  28 20       	jr	Z,l_game_print_footer_00104
1002  0074  21 00 00    	ld	hl,_screen_ink
1003  0077  36 07       	ld	(hl),0x07
1004  0079  21 0C 00    	ld	hl,___str_4
1005  007C  E5          	push	hl
1006  007D  21 16 1E    	ld	hl,0x1e16
1007  0080  E5          	push	hl
1008  0081  CD 00 00    	call	_zx_print_str
1009  0084  21 00 00    	ld	hl,_screen_ink
1010  0087  36 06       	ld	(hl),0x06
1011  0089  21 0E 00    	ld	hl,___str_5
1012  008C  E5          	push	hl
1013  008D  21 17 1E    	ld	hl,0x1e17
1014  0090  E5          	push	hl
1015  0091  CD 00 00    	call	_zx_print_str
1016  0094              l_game_print_footer_00104:
1017  0094  CD E7 00    	call	_game_print_lives
1018  0097  21 10 00    	ld	hl,___str_6
1019  009A  E5          	push	hl
1020  009B  21 17 0B    	ld	hl,0x0b17
1021  009E  E5          	push	hl
1022  009F  CD 00 00    	call	_zx_print_str
1023  00A2  21 00 00    	ld	hl,_phase_curr
1024  00A5  46          	ld	b,(hl)
1025  00A6  04          	inc	b
1026  00A7  C5          	push	bc
1027  00A8  33          	inc	sp
1028  00A9  21 17 12    	ld	hl,0x1217
1029  00AC  E5          	push	hl
1030  00AD  CD 00 00    	call	_zx_print_chr
1031  00B0  C9          	ret
1032  00B1              	SECTION rodata_compiler
1033  0000              ___str_0:
1034  0000  20          	DEFM " "
1035  0001  00          	DEFB 0x00
1036  0002              	SECTION rodata_compiler
1037  0002              ___str_1:
1038  0002  20 20 20 20 20 
                        	DEFM "     "
1039  0007  00          	DEFB 0x00
1040  0008              	SECTION rodata_compiler
1041  0008              ___str_2:
1042  0008  3C          	DEFM "<"
1043  0009  00          	DEFB 0x00
1044  000A              	SECTION rodata_compiler
1045  000A              ___str_3:
1046  000A  5C          	DEFB 0x5c
1047  000B  00          	DEFB 0x00
1048  000C              	SECTION rodata_compiler
1049  000C              ___str_4:
1050  000C  3E          	DEFM ">"
1051  000D  00          	DEFB 0x00
1052  000E              	SECTION rodata_compiler
1053  000E              ___str_5:
1054  000E  5E          	DEFM "^"
1055  000F  00          	DEFB 0x00
1056  0010              	SECTION rodata_compiler
1057  0010              ___str_6:
1058  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1059  0015  00          	DEFB 0x00
1060  0016              	SECTION code_compiler
1061  00B1              ;	---------------------------------
1062  00B1              ; Function game_phase_print_score_back
1063  00B1              ; ---------------------------------
1064  00B1              _game_phase_print_score_back:
1065  00B1  21 00 00    	ld	hl,_screen_ink
1066  00B4  36 02       	ld	(hl),0x02
1067  00B6  21 16 00    	ld	hl,___str_7
1068  00B9  E5          	push	hl
1069  00BA  21 00 0B    	ld	hl,0x0b00
1070  00BD  E5          	push	hl
1071  00BE  CD 00 00    	call	_zx_print_str
1072  00C1  21 00 00    	ld	hl,_screen_ink
1073  00C4  36 01       	ld	(hl),0x01
1074  00C6  21 1A 00    	ld	hl,___str_8
1075  00C9  E5          	push	hl
1076  00CA  21 00 01    	ld	hl,0x0100
1077  00CD  E5          	push	hl
1078  00CE  CD 00 00    	call	_zx_print_str
1079  00D1  3A 00 00    	ld	a,(_game_two_player)
1080  00D4  B7          	or	a, a
1081  00D5  C8          	ret	Z
1082  00D6  21 00 00    	ld	hl,_screen_ink
1083  00D9  36 04       	ld	(hl),0x04
1084  00DB  21 1D 00    	ld	hl,___str_9
1085  00DE  E5          	push	hl
1086  00DF  21 00 16    	ld	hl,0x1600
1087  00E2  E5          	push	hl
1088  00E3  CD 00 00    	call	_zx_print_str
1089  00E6  C9          	ret
1090  00E7              	SECTION rodata_compiler
1091  0016              ___str_7:
1092  0016  24 25 7C    	DEFM "$%|"
1093  0019  00          	DEFB 0x00
1094  001A              	SECTION rodata_compiler
1095  001A              ___str_8:
1096  001A  5B 7C       	DEFM "[|"
1097  001C  00          	DEFB 0x00
1098  001D              	SECTION rodata_compiler
1099  001D              ___str_9:
1100  001D  5D 7C       	DEFM "]|"
1101  001F  00          	DEFB 0x00
1102  0020              	SECTION code_compiler
1103  00E7              ;	---------------------------------
1104  00E7              ; Function game_print_lives
1105  00E7              ; ---------------------------------
1106  00E7              _game_print_lives:
1107  00E7  21 00 00    	ld	hl,_screen_ink
1108  00EA  36 07       	ld	(hl),0x07
1109  00EC  3A 00 00    	ld	a,(_game_lives)
1110  00EF  C6 FF       	add	a,0xff
1111  00F1  21 00 00    	ld	hl,_tmp
1112  00F4  77          	ld	(hl),a
1113  00F5  D6 FF       	sub	a,0xff
1114  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1115  00F9  7E          	ld	a,(hl)
1116  00FA  F5          	push	af
1117  00FB  33          	inc	sp
1118  00FC  21 17 03    	ld	hl,0x0317
1119  00FF  E5          	push	hl
1120  0100  CD 00 00    	call	_zx_print_chr
1121  0103              l_game_print_lives_00102:
1122  0103  3A 01 00    	ld	a, (_game_lives + 1)
1123  0106  C6 FF       	add	a,0xff
1124  0108  21 00 00    	ld	hl,_tmp
1125  010B  77          	ld	(hl),a
1126  010C  D6 FF       	sub	a,0xff
1127  010E  D0          	ret	NC
1128  010F  7E          	ld	a,(hl)
1129  0110  F5          	push	af
1130  0111  33          	inc	sp
1131  0112  21 17 1A    	ld	hl,0x1a17
1132  0115  E5          	push	hl
1133  0116  CD 00 00    	call	_zx_print_chr
1134  0119  C9          	ret
1135  011A              	SECTION code_compiler
1136  011A              ;	---------------------------------
1137  011A              ; Function game_tick
1138  011A              ; ---------------------------------
1139  011A              _game_tick:
1140  011A  21 00 00    	ld	hl,_curr_time
1141  011D  34          	inc	(hl)
1142  011E  C2 00 00    	jp	NZ,_zx_isr
1143  0121  23          	inc	hl
1144  0122  34          	inc	(hl)
1145  0123  C3 00 00    	jp  _zx_isr
1146  0126              	SECTION code_compiler
1147  0126              ;	---------------------------------
1148  0126              ; Function game_start_timer
1149  0126              ; ---------------------------------
1150  0126              _game_start_timer:
1151  0126  21 D2 F5    	ld	hl,_NIRVANAP_isr
1152  0129  36 CD       	ld	(hl),0xcd
1153  012B  21 1A 01    	ld	hl,_game_tick
1154  012E  22 D3 F5    	ld	(_NIRVANAP_isr+1),hl
1155  0131  C9          	ret
1156  0132              	SECTION code_compiler
1157  0132              ;	---------------------------------
1158  0132              ; Function game_phase_calc
1159  0132              ; ---------------------------------
1160  0132              _game_phase_calc:
1161  0132  3A 00 00    	ld	a,(_phase_curr)
1162  0135  87          	add	a, a
1163  0136  87          	add	a, a
1164  0137  21 00 00    	ld	hl,_tmp_uc
1165  013A  77          	ld	(hl),a
1166  013B  01 00 00    	ld	bc,_phases+0
1167  013E  5E          	ld	e,(hl)
1168  013F  16 00       	ld	d,0x00
1169  0141  69          	ld	l, c
1170  0142  60          	ld	h, b
1171  0143  19          	add	hl,de
1172  0144  7E          	ld	a,(hl)
1173  0145  32 00 00    	ld	(_phase_quota),a
1174  0148  2A 00 00    	ld	hl,(_tmp_uc)
1175  014B  26 00       	ld	h,0x00
1176  014D  23          	inc	hl
1177  014E  09          	add	hl,bc
1178  014F  7E          	ld	a,(hl)
1179  0150  32 01 00    	ld	((_phase_quota + 0x0001)),a
1180  0153  2A 00 00    	ld	hl,(_tmp_uc)
1181  0156  26 00       	ld	h,0x00
1182  0158  23          	inc	hl
1183  0159  23          	inc	hl
1184  015A  09          	add	hl,bc
1185  015B  7E          	ld	a,(hl)
1186  015C  32 02 00    	ld	((_phase_quota + 0x0002)),a
1187  015F  2A 00 00    	ld	hl,(_tmp_uc)
1188  0162  26 00       	ld	h,0x00
1189  0164  23          	inc	hl
1190  0165  23          	inc	hl
1191  0166  23          	inc	hl
1192  0167  09          	add	hl,bc
1193  0168  7E          	ld	a,(hl)
1194  0169  32 00 00    	ld	(_game_brick_tile),a
1195  016C  CD FE 0B    	call	_game_unfreeze_all
1196  016F  3A 00 00    	ld	a,(_game_brick_tile)
1197  0172  D6 8B       	sub	a,0x8b
1198  0174  20 03       	jr	NZ,l_game_phase_calc_00102
1199  0176  CD 27 0C    	call	_game_freeze_all
1200  0179              l_game_phase_calc_00102:
1201  0179  3A 00 00    	ld	a,(_game_brick_tile)
1202  017C  4F          	ld	c,a
1203  017D  06 00       	ld	b,0x00
1204  017F  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1205  0183  21 00 00    	ld	hl,_phase_quota
1206  0186  4E          	ld	c,(hl)
1207  0187  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1208  018A  46          	ld	b,(hl)
1209  018B  79          	ld	a,c
1210  018C  80          	add	a, b
1211  018D  4F          	ld	c,a
1212  018E  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1213  0191  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1214  0193  09          	add	hl, bc
1215  0194  C9          	ret
1216  0195              	SECTION code_compiler
1217  0195              ;	---------------------------------
1218  0195              ; Function game_phase_init
1219  0195              ; ---------------------------------
1220  0195              _game_phase_init:
1221  0195  21 00 00    	ld	hl,_phase_end
1222  0198  36 00       	ld	(hl),0x00
1223  019A  21 00 00    	ld	hl,_phase_angry
1224  019D  36 00       	ld	(hl),0x00
1225  019F  21 00 00    	ld	hl,_phase_coins
1226  01A2  36 00       	ld	(hl),0x00
1227  01A4  21 00 00    	ld	hl,_phase_pop
1228  01A7  36 00       	ld	(hl),0x00
1229  01A9  21 00 00    	ld	hl,_game_bonus
1230  01AC  36 00       	ld	(hl),0x00
1231  01AE  21 00 00    	ld	hl,0x0000
1232  01B1  22 00 00    	ld	(_entry_time),hl
1233  01B4  21 00 00    	ld	hl,0
1234  01B7  22 00 00    	ld	(_curr_time),hl
1235  01BA  21 00 00    	ld	hl,0x0000
1236  01BD  22 00 00    	ld	(_frame_time),hl
1237  01C0  21 FF FF    	ld	hl,0xffff
1238  01C3  22 00 00    	ld	(_score_osd_col),hl
1239  01C6  CD 00 00    	call	_spr_draw_clear
1240  01C9  CD 00 00    	call	_spr_cortina_pipes
1241  01CC  21 00 00    	ld	hl,0x0000
1242  01CF  CD 00 00    	call	_zx_cls_fastcall
1243  01D2  21 00 00    	ld	hl,_spr_count
1244  01D5  36 00       	ld	(hl),0x00
1245  01D7  3A 00 00    	ld	a,(_game_type)
1246  01DA  D6 02       	sub	a,0x02
1247  01DC  CA 68 02    	jp	Z,l_game_phase_init_00104
1248  01DF  CD 32 01    	call	_game_phase_calc
1249  01E2  7D          	ld	a,l
1250  01E3  32 00 00    	ld	(_phase_left),a
1251  01E6  32 00 00    	ld	(_phase_tot),a
1252  01E9  21 00 00    	ld	hl,_phase_left
1253  01EC  7E          	ld	a,(hl)
1254  01ED  B7          	or	a, a
1255  01EE  C2 7D 02    	jp	NZ,l_game_phase_init_00105
1256  01F1  01 00 00    	ld	bc,_phase_bonus_total+0
1257  01F4  AF          	xor	a, a
1258  01F5  02          	ld	(bc),a
1259  01F6  03          	inc	bc
1260  01F7  AF          	xor	a, a
1261  01F8  02          	ld	(bc),a
1262  01F9  36 06       	ld	(hl),0x06
1263  01FB  21 00 00    	ld	hl,_game_bonus
1264  01FE  36 01       	ld	(hl),0x01
1265  0200  21 0C 00    	ld	hl,0x000c
1266  0203  E5          	push	hl
1267  0204  21 90 08    	ld	hl,0x0890
1268  0207  E5          	push	hl
1269  0208  AF          	xor	a, a
1270  0209  F5          	push	af
1271  020A  33          	inc	sp
1272  020B  CD 00 00    	call	_enemy_init
1273  020E  F1          	pop	af
1274  020F  33          	inc	sp
1275  0210  21 0C 00    	ld	hl,0x000c
1276  0213  E3          	ex	(sp),hl
1277  0214  21 90 16    	ld	hl,0x1690
1278  0217  E5          	push	hl
1279  0218  3E 01       	ld	a,0x01
1280  021A  F5          	push	af
1281  021B  33          	inc	sp
1282  021C  CD 00 00    	call	_enemy_init
1283  021F  F1          	pop	af
1284  0220  33          	inc	sp
1285  0221  21 0C 00    	ld	hl,0x000c
1286  0224  E3          	ex	(sp),hl
1287  0225  21 50 06    	ld	hl,0x0650
1288  0228  E5          	push	hl
1289  0229  3E 02       	ld	a,0x02
1290  022B  F5          	push	af
1291  022C  33          	inc	sp
1292  022D  CD 00 00    	call	_enemy_init
1293  0230  F1          	pop	af
1294  0231  33          	inc	sp
1295  0232  21 0C 00    	ld	hl,0x000c
1296  0235  E3          	ex	(sp),hl
1297  0236  21 50 18    	ld	hl,0x1850
1298  0239  E5          	push	hl
1299  023A  3E 03       	ld	a,0x03
1300  023C  F5          	push	af
1301  023D  33          	inc	sp
1302  023E  CD 00 00    	call	_enemy_init
1303  0241  F1          	pop	af
1304  0242  33          	inc	sp
1305  0243  21 0C 00    	ld	hl,0x000c
1306  0246  E3          	ex	(sp),hl
1307  0247  21 10 05    	ld	hl,0x0510
1308  024A  E5          	push	hl
1309  024B  3E 04       	ld	a,0x04
1310  024D  F5          	push	af
1311  024E  33          	inc	sp
1312  024F  CD 00 00    	call	_enemy_init
1313  0252  F1          	pop	af
1314  0253  33          	inc	sp
1315  0254  21 0C 00    	ld	hl,0x000c
1316  0257  E3          	ex	(sp),hl
1317  0258  21 10 19    	ld	hl,0x1910
1318  025B  E5          	push	hl
1319  025C  3E 05       	ld	a,0x05
1320  025E  F5          	push	af
1321  025F  33          	inc	sp
1322  0260  CD 00 00    	call	_enemy_init
1323  0263  F1          	pop	af
1324  0264  F1          	pop	af
1325  0265  33          	inc	sp
1326  0266  18 15       	jr	l_game_phase_init_00105
1327  0268              l_game_phase_init_00104:
1328  0268  21 00 00    	ld	hl,_phase_left
1329  026B  36 FF       	ld	(hl),0xff
1330  026D  21 00 00    	ld	hl,_phase_curr
1331  0270  36 FF       	ld	(hl),0xff
1332  0272  21 00 00    	ld	hl,_game_brick_tile
1333  0275  36 84       	ld	(hl),0x84
1334  0277  21 84 00    	ld	hl,0x0084
1335  027A  22 24 00    	ld	(_spr_idx + 0x0024),hl
1336  027D              l_game_phase_init_00105:
1337  027D  CD 00 00    	call	_ay_reset
1338  0280  3A 00 00    	ld	a,(_game_bonus)
1339  0283  B7          	or	a, a
1340  0284  20 06       	jr	NZ,l_game_phase_init_00107
1341  0286  21 00 00    	ld	hl,_pb_midi_phase_1
1342  0289  CD 00 00    	call	_ay_midi_play
1343  028C              l_game_phase_init_00107:
1344  028C  CD C3 02    	call	_game_print_header
1345  028F  2E 0C       	ld	l,0x0c
1346  0291  CD CE 02    	call	_game_phase_print
1347  0294  3A 00 00    	ld	a,(_game_lives)
1348  0297  B7          	or	a, a
1349  0298  28 0D       	jr	Z,l_game_phase_init_00109
1350  029A  21 0A 03    	ld	hl,0x030a
1351  029D  E5          	push	hl
1352  029E  21 07 98    	ld	hl,0x9807
1353  02A1  E5          	push	hl
1354  02A2  CD 00 00    	call	_player_init
1355  02A5  F1          	pop	af
1356  02A6  F1          	pop	af
1357  02A7              l_game_phase_init_00109:
1358  02A7  3A 01 00    	ld	a, (_game_lives + 1)
1359  02AA  B7          	or	a, a
1360  02AB  28 0D       	jr	Z,l_game_phase_init_00111
1361  02AD  21 14 27    	ld	hl,0x2714
1362  02B0  E5          	push	hl
1363  02B1  21 06 98    	ld	hl,0x9806
1364  02B4  E5          	push	hl
1365  02B5  CD 00 00    	call	_player_init
1366  02B8  F1          	pop	af
1367  02B9  F1          	pop	af
1368  02BA              l_game_phase_init_00111:
1369  02BA  CD 00 00    	call	_spr_draw_back
1370  02BD  CD C3 02    	call	_game_print_header
1371  02C0  C3 1C 00    	jp  _game_print_footer
1372  02C3              	SECTION code_compiler
1373  02C3              ;	---------------------------------
1374  02C3              ; Function game_print_header
1375  02C3              ; ---------------------------------
1376  02C3              _game_print_header:
1377  02C3  CD B1 00    	call	_game_phase_print_score_back
1378  02C6  21 00 00    	ld	hl,_screen_ink
1379  02C9  36 07       	ld	(hl),0x07
1380  02CB  C3 50 0C    	jp  _game_print_score
1381  02CE              	SECTION code_compiler
1382  02CE              ;	---------------------------------
1383  02CE              ; Function game_phase_print
1384  02CE              ; ---------------------------------
1385  02CE              _game_phase_print:
1386  02CE  45          	ld	b,l
1387  02CF  C5          	push	bc
1388  02D0  21 20 00    	ld	hl,___str_10
1389  02D3  E5          	push	hl
1390  02D4  3E 0B       	ld	a,0x0b
1391  02D6  48          	ld	c,b
1392  02D7  47          	ld	b,a
1393  02D8  C5          	push	bc
1394  02D9  CD 00 00    	call	_zx_print_str
1395  02DC  C1          	pop	bc
1396  02DD  3A 00 00    	ld	a,(_phase_curr)
1397  02E0  D6 1F       	sub	a,0x1f
1398  02E2  30 27       	jr	NC,l_game_phase_print_00108
1399  02E4  3A 00 00    	ld	a,(_game_bonus)
1400  02E7  B7          	or	a, a
1401  02E8  20 11       	jr	NZ,l_game_phase_print_00102
1402  02EA  21 00 00    	ld	hl,_phase_curr
1403  02ED  56          	ld	d,(hl)
1404  02EE  14          	inc	d
1405  02EF  C5          	push	bc
1406  02F0  1E 11       	ld	e,0x11
1407  02F2  D5          	push	de
1408  02F3  C5          	push	bc
1409  02F4  33          	inc	sp
1410  02F5  CD 00 00    	call	_zx_print_chr
1411  02F8  C1          	pop	bc
1412  02F9  18 35       	jr	l_game_phase_print_00109
1413  02FB              l_game_phase_print_00102:
1414  02FB  C5          	push	bc
1415  02FC  21 26 00    	ld	hl,___str_11
1416  02FF  E5          	push	hl
1417  0300  3E 11       	ld	a,0x11
1418  0302  48          	ld	c,b
1419  0303  47          	ld	b,a
1420  0304  C5          	push	bc
1421  0305  CD 00 00    	call	_zx_print_str
1422  0308  C1          	pop	bc
1423  0309  18 25       	jr	l_game_phase_print_00109
1424  030B              l_game_phase_print_00108:
1425  030B  3A 00 00    	ld	a,(_game_type)
1426  030E  D6 02       	sub	a,0x02
1427  0310  28 10       	jr	Z,l_game_phase_print_00105
1428  0312  C5          	push	bc
1429  0313  21 2C 00    	ld	hl,___str_12
1430  0316  E5          	push	hl
1431  0317  3E 11       	ld	a,0x11
1432  0319  48          	ld	c,b
1433  031A  47          	ld	b,a
1434  031B  C5          	push	bc
1435  031C  CD 00 00    	call	_zx_print_str
1436  031F  C1          	pop	bc
1437  0320  18 0E       	jr	l_game_phase_print_00109
1438  0322              l_game_phase_print_00105:
1439  0322  C5          	push	bc
1440  0323  21 31 00    	ld	hl,___str_13
1441  0326  E5          	push	hl
1442  0327  3E 11       	ld	a,0x11
1443  0329  48          	ld	c,b
1444  032A  47          	ld	b,a
1445  032B  C5          	push	bc
1446  032C  CD 00 00    	call	_zx_print_str
1447  032F  C1          	pop	bc
1448  0330              l_game_phase_print_00109:
1449  0330  21 2C 01    	ld	hl,0x012c
1450  0333  E5          	push	hl
1451  0334  21 0B 18    	ld	hl,0x180b
1452  0337  E5          	push	hl
1453  0338  C5          	push	bc
1454  0339  33          	inc	sp
1455  033A  CD 51 19    	call	_game_colour_message
1456  033D  F1          	pop	af
1457  033E  F1          	pop	af
1458  033F  33          	inc	sp
1459  0340  C9          	ret
1460  0341              	SECTION rodata_compiler
1461  0020              ___str_10:
1462  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1463  0025  00          	DEFB 0x00
1464  0026              	SECTION rodata_compiler
1465  0026              ___str_11:
1466  0026  42 4F 4E 55 53 
                        	DEFM "BONUS"
1467  002B  00          	DEFB 0x00
1468  002C              	SECTION rodata_compiler
1469  002C              ___str_12:
1470  002C  48 45 4C 4C 	DEFM "HELL"
1471  0030  00          	DEFB 0x00
1472  0031              	SECTION rodata_compiler
1473  0031              ___str_13:
1474  0031  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1475  0037  00          	DEFB 0x00
1476  0038              	SECTION code_compiler
1477  0341              ;	---------------------------------
1478  0341              ; Function game_loop
1479  0341              ; ---------------------------------
1480  0341              _game_loop:
1481  0341  21 38 00    	ld	hl,___str_14
1482  0344  E5          	push	hl
1483  0345  21 16 07    	ld	hl,0x0716
1484  0348  E5          	push	hl
1485  0349  CD 00 00    	call	_zx_print_str
1486  034C  21 4B 00    	ld	hl,___str_15
1487  034F  E5          	push	hl
1488  0350  21 17 07    	ld	hl,0x0717
1489  0353  E5          	push	hl
1490  0354  CD 00 00    	call	_zx_print_str
1491  0357  21 00 00    	ld	hl,_ay_effect_10
1492  035A  CD 00 00    	call	_ay_fx_play
1493  035D  CD 00 00    	call	_sound_coin
1494  0360  21 C8 00    	ld	hl,0x00c8
1495  0363  CD 00 00    	call	_z80_delay_ms_fastcall
1496  0366  21 5E 00    	ld	hl,___str_16
1497  0369  E5          	push	hl
1498  036A  21 16 07    	ld	hl,0x0716
1499  036D  E5          	push	hl
1500  036E  CD 00 00    	call	_zx_print_str
1501  0371  CD 00 00    	call	_ay_reset
1502  0374  21 11 11    	ld	hl,0x1111
1503  0377  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1504  037A  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1505  037D  01 00 00    	ld	bc,_game_lives+0
1506  0380  3E 04       	ld	a,0x04
1507  0382  02          	ld	(bc),a
1508  0383  03          	inc	bc
1509  0384  3A 00 00    	ld	a,(_game_two_player)
1510  0387  B7          	or	a,a
1511  0388  28 05       	jr	Z,l_game_loop_00102
1512  038A  3E 04       	ld	a,0x04
1513  038C  02          	ld	(bc),a
1514  038D  18 02       	jr	l_game_loop_00103
1515  038F              l_game_loop_00102:
1516  038F  AF          	xor	a, a
1517  0390  02          	ld	(bc),a
1518  0391              l_game_loop_00103:
1519  0391  21 00 00    	ld	hl,0x0000
1520  0394  22 00 00    	ld	(_player_score), hl
1521  0397  2E 00       	ld	l,0x00
1522  0399  22 02 00    	ld	(_player_score + 0x0002),hl
1523  039C  21 D0 07    	ld	hl,0x07d0
1524  039F  22 00 00    	ld	(_player_next_extra), hl
1525  03A2  2E D0       	ld	l,0xd0
1526  03A4  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1527  03A7  21 00 00    	ld	hl,_spr_water_clear
1528  03AA  36 FF       	ld	(hl),0xff
1529  03AC  3A 00 00    	ld	a,(_game_type)
1530  03AF  B7          	or	a, a
1531  03B0  20 0E       	jr	NZ,l_game_loop_00105
1532  03B2  21 F4 01    	ld	hl,0x01f4
1533  03B5  22 00 00    	ld	(_game_time_flipped),hl
1534  03B8  21 D0 07    	ld	hl,0x07d0
1535  03BB  22 00 00    	ld	(_game_time_fireball_start),hl
1536  03BE  18 0C       	jr	l_game_loop_00106
1537  03C0              l_game_loop_00105:
1538  03C0  21 FA 00    	ld	hl,0x00fa
1539  03C3  22 00 00    	ld	(_game_time_flipped),hl
1540  03C6  21 F4 01    	ld	hl,0x01f4
1541  03C9  22 00 00    	ld	(_game_time_fireball_start),hl
1542  03CC              l_game_loop_00106:
1543  03CC  21 00 00    	ld	hl,_game_over
1544  03CF  36 00       	ld	(hl),0x00
1545  03D1  21 00 00    	ld	hl,_game_pow
1546  03D4  36 03       	ld	(hl),0x03
1547  03D6  21 00 00    	ld	hl,_phase_curr
1548  03D9  36 00       	ld	(hl),0x00
1549  03DB  CD 95 01    	call	_game_phase_init
1550  03DE  21 00 00    	ld	hl,_sprite_lin_inc_mul
1551  03E1  36 00       	ld	(hl),0x00
1552  03E3  21 00 00    	ld	hl,0x0000
1553  03E6  22 00 00    	ld	(_loop_count),hl
1554  03E9  21 00 00    	ld	hl,_dirs
1555  03EC  36 00       	ld	(hl),0x00
1556  03EE  CD FE 0B    	call	_game_unfreeze_all
1557  03F1  CD F8 0E    	call	_game_joystick_set
1558  03F4              l_game_loop_00134:
1559  03F4  3A 00 00    	ld	a,(_game_over)
1560  03F7  B7          	or	a, a
1561  03F8  C2 F1 04    	jp	NZ,l_game_loop_00136
1562  03FB  CD 00 00    	call	_player_set1
1563  03FE  CD 00 00    	call	_player_turn
1564  0401  CD 00 00    	call	_player_set2
1565  0404  CD 00 00    	call	_player_turn
1566  0407  CD 00 00    	call	_enemy_turn
1567  040A  3A 00 00    	ld	a,(_game_bonus)
1568  040D  B7          	or	a, a
1569  040E  28 16       	jr	Z,l_game_loop_00111
1570  0410  CD 72 06    	call	_game_bonus_clock
1571  0413  3A 00 00    	ld	a,(_phase_left)
1572  0416  B7          	or	a, a
1573  0417  28 0D       	jr	Z,l_game_loop_00111
1574  0419  CD 00 00    	call	_ay_is_playing
1575  041C  7D          	ld	a,l
1576  041D  B7          	or	a, a
1577  041E  20 06       	jr	NZ,l_game_loop_00111
1578  0420  21 00 00    	ld	hl,_ay_effect_19
1579  0423  CD 00 00    	call	_ay_fx_play
1580  0426              l_game_loop_00111:
1581  0426  CD 00 00    	call	_spr_water_splash_clear
1582  0429  21 64 00    	ld	hl,0x0064
1583  042C  E5          	push	hl
1584  042D  2A 00 00    	ld	hl,(_frame_time)
1585  0430  E5          	push	hl
1586  0431  CD E3 19    	call	_game_check_time
1587  0434  F1          	pop	af
1588  0435  F1          	pop	af
1589  0436  7D          	ld	a,l
1590  0437  B7          	or	a, a
1591  0438  CA E5 04    	jp	Z,l_game_loop_00133
1592  043B  2A 00 00    	ld	hl,(_curr_time)
1593  043E  22 00 00    	ld	(_frame_time),hl
1594  0441  3A 00 00    	ld	a,(_game_bonus)
1595  0444  B7          	or	a,a
1596  0445  20 03       	jr	NZ,l_game_loop_00113
1597  0447  CD C3 08    	call	_game_enemy_add
1598  044A              l_game_loop_00113:
1599  044A  3A 00 00    	ld	a,(_phase_left)
1600  044D  3D          	dec	a
1601  044E  20 55       	jr	NZ,l_game_loop_00120
1602  0450  3A 00 00    	ld	a,(_phase_angry)
1603  0453  B7          	or	a, a
1604  0454  20 4F       	jr	NZ,l_game_loop_00120
1605  0456  21 00 00    	ld	hl,_sprite
1606  0459  36 00       	ld	(hl),0x00
1607  045B              l_game_loop_00137:
1608  045B  2A 00 00    	ld	hl,(_sprite)
1609  045E  26 00       	ld	h,0x00
1610  0460  01 00 00    	ld	bc,_class
1611  0463  09          	add	hl,bc
1612  0464  7E          	ld	a,(hl)
1613  0465  4F          	ld	c,a
1614  0466  B7          	or	a,a
1615  0467  28 32       	jr	Z,l_game_loop_00138
1616  0469  3E 09       	ld	a,0x09
1617  046B  91          	sub	a,c
1618  046C  38 2D       	jr	C,l_game_loop_00138
1619  046E  3A 00 00    	ld	a,(_sprite)
1620  0471  4F          	ld	c,a
1621  0472  06 00       	ld	b,0x00
1622  0474  21 00 00    	ld	hl,_state
1623  0477  09          	add	hl,bc
1624  0478  CB 6E       	bit	5,(hl)
1625  047A  20 1F       	jr	NZ,l_game_loop_00138
1626  047C  21 00 00    	ld	hl,_phase_angry
1627  047F  36 01       	ld	(hl),0x01
1628  0481  CD 00 00    	call	_enemy_evolve
1629  0484  CD 00 00    	call	_enemy_evolve
1630  0487  3E 00       	ld	a,+((_tile) & 0xFF)
1631  0489  21 00 00    	ld	hl,_sprite
1632  048C  86          	add	a, (hl)
1633  048D  4F          	ld	c,a
1634  048E  3E 00       	ld	a,+((_tile) / 256)
1635  0490  CE 00       	adc	a,0x00
1636  0492  47          	ld	b,a
1637  0493  6E          	ld	l,(hl)
1638  0494  C5          	push	bc
1639  0495  CD 00 00    	call	_spr_tile
1640  0498  C1          	pop	bc
1641  0499  7D          	ld	a, l
1642  049A  02          	ld	(bc),a
1643  049B              l_game_loop_00138:
1644  049B  21 00 00    	ld	hl,_sprite
1645  049E  7E          	ld	a,(hl)
1646  049F  3C          	inc	a
1647  04A0  77          	ld	(hl),a
1648  04A1  D6 06       	sub	a,0x06
1649  04A3  38 B6       	jr	C,l_game_loop_00137
1650  04A5              l_game_loop_00120:
1651  04A5  3A 00 00    	ld	a,(_phase_end)
1652  04A8  3D          	dec	a
1653  04A9  20 3A       	jr	NZ,l_game_loop_00133
1654  04AB  3A 00 00    	ld	a,(_game_type)
1655  04AE  D6 02       	sub	a,0x02
1656  04B0  28 33       	jr	Z,l_game_loop_00133
1657  04B2  21 90 01    	ld	hl,0x0190
1658  04B5  CD 00 00    	call	_z80_delay_ms_fastcall
1659  04B8  CD 00 00    	call	_ay_is_playing
1660  04BB  7D          	ld	a, l
1661  04BC  D6 02       	sub	a,0x02
1662  04BE  30 03       	jr	NC,l_game_loop_00123
1663  04C0  CD 00 00    	call	_ay_reset
1664  04C3              l_game_loop_00123:
1665  04C3  CD 91 08    	call	_game_kill_all_sprites
1666  04C6  3A 00 00    	ld	a,(_game_bonus)
1667  04C9  B7          	or	a, a
1668  04CA  28 03       	jr	Z,l_game_loop_00125
1669  04CC  CD D8 06    	call	_game_bonus_summary
1670  04CF              l_game_loop_00125:
1671  04CF  21 00 00    	ld	hl,_phase_curr
1672  04D2  34          	inc	(hl)
1673  04D3  3E 1F       	ld	a,0x1f
1674  04D5  96          	sub	a, (hl)
1675  04D6  30 0A       	jr	NC,l_game_loop_00127
1676  04D8  CD 05 12    	call	_game_end
1677  04DB  21 00 00    	ld	hl,_game_over
1678  04DE  36 01       	ld	(hl),0x01
1679  04E0  18 03       	jr	l_game_loop_00133
1680  04E2              l_game_loop_00127:
1681  04E2  CD 95 01    	call	_game_phase_init
1682  04E5              l_game_loop_00133:
1683  04E5  21 00 00    	ld	hl,_loop_count
1684  04E8  34          	inc	(hl)
1685  04E9  C2 F4 03    	jp	NZ,l_game_loop_00134
1686  04EC  23          	inc	hl
1687  04ED  34          	inc	(hl)
1688  04EE  C3 F4 03    	jp	l_game_loop_00134
1689  04F1              l_game_loop_00136:
1690  04F1  21 20 03    	ld	hl,0x0320
1691  04F4  CD 00 00    	call	_z80_delay_ms_fastcall
1692  04F7  CD 91 08    	call	_game_kill_all_sprites
1693  04FA  76          	halt
1694  04FB  CD 00 00    	call	_spr_draw_clear
1695  04FE  21 71 00    	ld	hl,___str_17
1696  0501  E5          	push	hl
1697  0502  21 08 0B    	ld	hl,0x0b08
1698  0505  E5          	push	hl
1699  0506  CD 00 00    	call	_zx_print_str
1700  0509  21 C8 00    	ld	hl,0x00c8
1701  050C  E5          	push	hl
1702  050D  21 0B 15    	ld	hl,0x150b
1703  0510  E5          	push	hl
1704  0511  3E 08       	ld	a,0x08
1705  0513  F5          	push	af
1706  0514  33          	inc	sp
1707  0515  CD 51 19    	call	_game_colour_message
1708  0518  F1          	pop	af
1709  0519  F1          	pop	af
1710  051A  33          	inc	sp
1711  051B  CD C9 14    	call	_game_hall_enter
1712  051E  CD 00 00    	call	_ay_reset
1713  0521  21 00 00    	ld	hl,_game_menu_sel
1714  0524  36 00       	ld	(hl),0x00
1715  0526  CD EB 0F    	call	_game_menu_paint
1716  0529  CD EB 0E    	call	_game_joystick_set_menu
1717  052C  C9          	ret
1718  052D              	SECTION rodata_compiler
1719  0038              ___str_14:
1720  0038  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1721  004A  00          	DEFB 0x00
1722  004B              	SECTION rodata_compiler
1723  004B              ___str_15:
1724  004B  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1725  005D  00          	DEFB 0x00
1726  005E              	SECTION rodata_compiler
1727  005E              ___str_16:
1728  005E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1729  0070  00          	DEFB 0x00
1730  0071              	SECTION rodata_compiler
1731  0071              ___str_17:
1732  0071  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1733  007A  00          	DEFB 0x00
1734  007B              	SECTION code_compiler
1735  052D              ;	---------------------------------
1736  052D              ; Function game_score_osd
1737  052D              ; ---------------------------------
1738  052D              _game_score_osd:
1739  052D  3A 00 00    	ld	a,(_index_player)
1740  0530  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1741  0532  4F          	ld	c,a
1742  0533  3E 00       	ld	a,+((_score_osd_col) / 256)
1743  0535  CE 00       	adc	a,0x00
1744  0537  47          	ld	b,a
1745  0538  0A          	ld	a,(bc)
1746  0539  57          	ld	d,a
1747  053A  3C          	inc	a
1748  053B  20 72       	jr	NZ,l_game_score_osd_00117
1749  053D  3A 00 00    	ld	a,(_hit_count)
1750  0540  B7          	or	a, a
1751  0541  CA 71 06    	jp	Z,l_game_score_osd_00119
1752  0544  2A 00 00    	ld	hl,(_sprite)
1753  0547  26 00       	ld	h,0x00
1754  0549  11 00 00    	ld	de,_col
1755  054C  19          	add	hl,de
1756  054D  7E          	ld	a,(hl)
1757  054E  02          	ld	(bc),a
1758  054F  3A 00 00    	ld	a,(_index_player)
1759  0552  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1760  0554  4F          	ld	c,a
1761  0555  3E 00       	ld	a,+((_score_osd_lin) / 256)
1762  0557  CE 00       	adc	a,0x00
1763  0559  47          	ld	b,a
1764  055A  2A 00 00    	ld	hl,(_sprite)
1765  055D  26 00       	ld	h,0x00
1766  055F  11 00 00    	ld	de,_lin
1767  0562  19          	add	hl,de
1768  0563  7E          	ld	a,(hl)
1769  0564  02          	ld	(bc),a
1770  0565  01 00 00    	ld	bc,_score_osd_time+0
1771  0568  2A 00 00    	ld	hl,(_index_player)
1772  056B  26 00       	ld	h,0x00
1773  056D  29          	add	hl, hl
1774  056E  09          	add	hl,bc
1775  056F  ED 5B 00 00 	ld	de,(_curr_time)
1776  0573  73          	ld	(hl),e
1777  0574  23          	inc	hl
1778  0575  72          	ld	(hl),d
1779  0576  2A 00 00    	ld	hl,(_index_player)
1780  0579  26 00       	ld	h,0x00
1781  057B  29          	add	hl,hl
1782  057C  3A 00 00    	ld	a,(_hit_count)
1783  057F  3D          	dec	a
1784  0580  4D          	ld	c,l
1785  0581  44          	ld	b,h
1786  0582  20 0C       	jr	NZ,l_game_score_osd_00105
1787  0584  21 00 00    	ld	hl,_score_osd_tile
1788  0587  09          	add	hl,bc
1789  0588  36 BC       	ld	(hl),0xbc
1790  058A  23          	inc	hl
1791  058B  36 00       	ld	(hl),0x00
1792  058D  C3 71 06    	jp	l_game_score_osd_00119
1793  0590              l_game_score_osd_00105:
1794  0590  3A 00 00    	ld	a,(_hit_count)
1795  0593  D6 08       	sub	a,0x08
1796  0595  30 0C       	jr	NC,l_game_score_osd_00102
1797  0597  21 00 00    	ld	hl,_score_osd_tile
1798  059A  09          	add	hl,bc
1799  059B  36 BD       	ld	(hl),0xbd
1800  059D  23          	inc	hl
1801  059E  36 00       	ld	(hl),0x00
1802  05A0  C3 71 06    	jp	l_game_score_osd_00119
1803  05A3              l_game_score_osd_00102:
1804  05A3  21 00 00    	ld	hl,_score_osd_tile
1805  05A6  09          	add	hl,bc
1806  05A7  36 BE       	ld	(hl),0xbe
1807  05A9  23          	inc	hl
1808  05AA  36 00       	ld	(hl),0x00
1809  05AC  C3 71 06    	jp	l_game_score_osd_00119
1810  05AF              l_game_score_osd_00117:
1811  05AF  3A 00 00    	ld	a,(_index_player)
1812  05B2  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1813  05B4  4F          	ld	c,a
1814  05B5  3E 00       	ld	a,+((_score_osd_lin) / 256)
1815  05B7  CE 00       	adc	a,0x00
1816  05B9  47          	ld	b,a
1817  05BA  0A          	ld	a,(bc)
1818  05BB  C6 FE       	add	a,0xfe
1819  05BD  32 00 00    	ld	(_tmp),a
1820  05C0  5F          	ld	e,a
1821  05C1  D5          	push	de
1822  05C2  CD 00 00    	call	_game_calc_index
1823  05C5  F1          	pop	af
1824  05C6  22 00 00    	ld	(_index1),hl
1825  05C9  3E 08       	ld	a,0x08
1826  05CB  21 00 00    	ld	hl,_tmp
1827  05CE  96          	sub	a, (hl)
1828  05CF  30 5B       	jr	NC,l_game_score_osd_00110
1829  05D1  21 01 00    	ld	hl,_index1 + 1
1830  05D4  7E          	ld	a,(hl)
1831  05D5  2B          	dec	hl
1832  05D6  B6          	or	a,(hl)
1833  05D7  28 53       	jr	Z,l_game_score_osd_00110
1834  05D9  01 00 00    	ld	bc,_lvl_1+0
1835  05DC  79          	ld	a,c
1836  05DD  86          	add	a, (hl)
1837  05DE  5F          	ld	e,a
1838  05DF  78          	ld	a,b
1839  05E0  23          	inc	hl
1840  05E1  8E          	adc	a, (hl)
1841  05E2  57          	ld	d,a
1842  05E3  1A          	ld	a,(de)
1843  05E4  B7          	or	a, a
1844  05E5  20 45       	jr	NZ,l_game_score_osd_00110
1845  05E7  56          	ld	d,(hl)
1846  05E8  2B          	dec	hl
1847  05E9  5E          	ld	e,(hl)
1848  05EA  13          	inc	de
1849  05EB  69          	ld	l, c
1850  05EC  60          	ld	h, b
1851  05ED  19          	add	hl,de
1852  05EE  7E          	ld	a,(hl)
1853  05EF  B7          	or	a, a
1854  05F0  20 3A       	jr	NZ,l_game_score_osd_00110
1855  05F2  76          	halt
1856  05F3  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1857  05F5  21 00 00    	ld	hl,_index_player
1858  05F8  86          	add	a, (hl)
1859  05F9  4F          	ld	c,a
1860  05FA  3E 00       	ld	a,+((_score_osd_col) / 256)
1861  05FC  CE 00       	adc	a,0x00
1862  05FE  47          	ld	b,a
1863  05FF  0A          	ld	a,(bc)
1864  0600  57          	ld	d,a
1865  0601  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1866  0603  86          	add	a, (hl)
1867  0604  4F          	ld	c,a
1868  0605  3E 00       	ld	a,+((_score_osd_lin) / 256)
1869  0607  CE 00       	adc	a,0x00
1870  0609  47          	ld	b,a
1871  060A  0A          	ld	a,(bc)
1872  060B  5F          	ld	e,a
1873  060C  6E          	ld	l, (hl)
1874  060D  26 00       	ld	h,0x00
1875  060F  29          	add	hl, hl
1876  0610  01 00 00    	ld	bc,_score_osd_tile
1877  0613  09          	add	hl,bc
1878  0614  46          	ld	b,(hl)
1879  0615  23          	inc	hl
1880  0616  4E          	ld	c,(hl)
1881  0617  D5          	push	de
1882  0618  C5          	push	bc
1883  0619  33          	inc	sp
1884  061A  CD 00 00    	call	_NIRVANAP_drawT_callee
1885  061D  3A 00 00    	ld	a,(_index_player)
1886  0620  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1887  0622  4F          	ld	c,a
1888  0623  3E 00       	ld	a,+((_score_osd_lin) / 256)
1889  0625  CE 00       	adc	a,0x00
1890  0627  47          	ld	b,a
1891  0628  3A 00 00    	ld	a,(_tmp)
1892  062B  02          	ld	(bc),a
1893  062C              l_game_score_osd_00110:
1894  062C  01 00 00    	ld	bc,_score_osd_time+0
1895  062F  2A 00 00    	ld	hl,(_index_player)
1896  0632  26 00       	ld	h,0x00
1897  0634  29          	add	hl, hl
1898  0635  09          	add	hl,bc
1899  0636  4E          	ld	c,(hl)
1900  0637  23          	inc	hl
1901  0638  46          	ld	b,(hl)
1902  0639  21 32 00    	ld	hl,0x0032
1903  063C  E5          	push	hl
1904  063D  C5          	push	bc
1905  063E  CD E3 19    	call	_game_check_time
1906  0641  F1          	pop	af
1907  0642  F1          	pop	af
1908  0643  7D          	ld	a,l
1909  0644  B7          	or	a, a
1910  0645  C8          	ret	Z
1911  0646  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1912  0648  21 00 00    	ld	hl,_index_player
1913  064B  86          	add	a, (hl)
1914  064C  4F          	ld	c,a
1915  064D  3E 00       	ld	a,+((_score_osd_col) / 256)
1916  064F  CE 00       	adc	a,0x00
1917  0651  47          	ld	b,a
1918  0652  0A          	ld	a,(bc)
1919  0653  57          	ld	d,a
1920  0654  4E          	ld	c,(hl)
1921  0655  06 00       	ld	b,0x00
1922  0657  21 00 00    	ld	hl,_score_osd_lin
1923  065A  09          	add	hl,bc
1924  065B  5E          	ld	e, (hl)
1925  065C  D5          	push	de
1926  065D  AF          	xor	a, a
1927  065E  F5          	push	af
1928  065F  33          	inc	sp
1929  0660  CD 00 00    	call	_NIRVANAP_fillT_callee
1930  0663  3A 00 00    	ld	a,(_index_player)
1931  0666  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1932  0668  4F          	ld	c,a
1933  0669  3E 00       	ld	a,+((_score_osd_col) / 256)
1934  066B  CE 00       	adc	a,0x00
1935  066D  47          	ld	b,a
1936  066E  3E FF       	ld	a,0xff
1937  0670  02          	ld	(bc),a
1938  0671              l_game_score_osd_00119:
1939  0671  C9          	ret
1940  0672              	SECTION code_compiler
1941  0672              ;	---------------------------------
1942  0672              ; Function game_bonus_clock
1943  0672              ; ---------------------------------
1944  0672              _game_bonus_clock:
1945  0672  2A 00 00    	ld	hl,(_curr_time)
1946  0675  29          	add	hl,hl
1947  0676  3E D0       	ld	a,0xd0
1948  0678  95          	sub	a,l
1949  0679  44          	ld	b,h
1950  067A  21 00 00    	ld	hl,_tmp_ui
1951  067D  77          	ld	(hl),a
1952  067E  3E 07       	ld	a,0x07
1953  0680  98          	sbc	a, b
1954  0681  23          	inc	hl
1955  0682  77          	ld	(hl),a
1956  0683  3E D0       	ld	a,0xd0
1957  0685  2B          	dec	hl
1958  0686  BE          	cp	a, (hl)
1959  0687  3E 07       	ld	a,0x07
1960  0689  23          	inc	hl
1961  068A  9E          	sbc	a, (hl)
1962  068B  30 14       	jr	NC,l_game_bonus_clock_00106
1963  068D  2B          	dec	hl
1964  068E  AF          	xor	a, a
1965  068F  77          	ld	(hl), a
1966  0690  23          	inc	hl
1967  0691  77          	ld	(hl), a
1968  0692  21 00 00    	ld	hl,_phase_left
1969  0695  36 00       	ld	(hl),0x00
1970  0697  21 00 00    	ld	hl,_phase_end
1971  069A  36 01       	ld	(hl),0x01
1972  069C  CD 00 00    	call	_ay_reset
1973  069F  18 36       	jr	l_game_bonus_clock_00108
1974  06A1              l_game_bonus_clock_00106:
1975  06A1  3A 00 00    	ld	a,(_phase_left)
1976  06A4  B7          	or	a, a
1977  06A5  C8          	ret	Z
1978  06A6  2A 00 00    	ld	hl,(_tmp_ui)
1979  06A9  E5          	push	hl
1980  06AA  21 02 0E    	ld	hl,0x0e02
1981  06AD  E5          	push	hl
1982  06AE  CD 00 00    	call	_zx_print_bonus_time
1983  06B1  21 05 00    	ld	hl,0x0005
1984  06B4  E5          	push	hl
1985  06B5  2A 00 00    	ld	hl,(_frame_time)
1986  06B8  E5          	push	hl
1987  06B9  CD E3 19    	call	_game_check_time
1988  06BC  F1          	pop	af
1989  06BD  F1          	pop	af
1990  06BE  7D          	ld	a,l
1991  06BF  B7          	or	a, a
1992  06C0  C8          	ret	Z
1993  06C1  2A 00 00    	ld	hl,(_curr_time)
1994  06C4  22 00 00    	ld	(_frame_time),hl
1995  06C7  21 14 18    	ld	hl,0x1814
1996  06CA  E5          	push	hl
1997  06CB  3E 0E       	ld	a,0x0e
1998  06CD  F5          	push	af
1999  06CE  33          	inc	sp
2000  06CF  CD CC 0C    	call	_game_paint_attrib_lin_h
2001  06D2  F1          	pop	af
2002  06D3  33          	inc	sp
2003  06D4  CD 35 19    	call	_game_rotate_attrib
2004  06D7              l_game_bonus_clock_00108:
2005  06D7  C9          	ret
2006  06D8              	SECTION code_compiler
2007  06D8              ;	---------------------------------
2008  06D8              ; Function game_bonus_summary
2009  06D8              ; ---------------------------------
2010  06D8              _game_bonus_summary:
2011  06D8  CD 91 08    	call	_game_kill_all_sprites
2012  06DB  CD 00 00    	call	_spr_draw_clear
2013  06DE  21 00 00    	ld	hl,0x0000
2014  06E1  CD 00 00    	call	_zx_cls_fastcall
2015  06E4  CD B1 00    	call	_game_phase_print_score_back
2016  06E7  CD 50 0C    	call	_game_print_score
2017  06EA  3A 00 00    	ld	a,(_game_lives)
2018  06ED  B7          	or	a, a
2019  06EE  28 05       	jr	Z,l_game_bonus_summary_00102
2020  06F0  2E 00       	ld	l,0x00
2021  06F2  CD 8D 07    	call	_game_bonus_summary_player
2022  06F5              l_game_bonus_summary_00102:
2023  06F5  3A 01 00    	ld	a, (_game_lives + 1)
2024  06F8  B7          	or	a, a
2025  06F9  28 05       	jr	Z,l_game_bonus_summary_00104
2026  06FB  2E 01       	ld	l,0x01
2027  06FD  CD 8D 07    	call	_game_bonus_summary_player
2028  0700              l_game_bonus_summary_00104:
2029  0700  21 1F 98    	ld	hl,0x981f
2030  0703  E5          	push	hl
2031  0704  AF          	xor	a, a
2032  0705  F5          	push	af
2033  0706  33          	inc	sp
2034  0707  CD A5 0C    	call	_game_paint_attrib_lin
2035  070A  F1          	pop	af
2036  070B  33          	inc	sp
2037  070C  3A 00 00    	ld	a,(_phase_bonus_total)
2038  070F  D6 06       	sub	a,0x06
2039  0711  20 68       	jr	NZ,l_game_bonus_summary_00109
2040  0713  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2041  0716  B7          	or	a, a
2042  0717  20 62       	jr	NZ,l_game_bonus_summary_00109
2043  0719  CD 00 00    	call	_sound_jump
2044  071C  3A 00 00    	ld	a,(_phase_curr)
2045  071F  D6 03       	sub	a,0x03
2046  0721  20 23       	jr	NZ,l_game_bonus_summary_00106
2047  0723  21 7B 00    	ld	hl,___str_18
2048  0726  E5          	push	hl
2049  0727  21 12 06    	ld	hl,0x0612
2050  072A  E5          	push	hl
2051  072B  CD 00 00    	call	_zx_print_str
2052  072E  21 00 00    	ld	hl,_index_player
2053  0731  36 00       	ld	(hl),0x00
2054  0733  21 2C 01    	ld	hl,0x012c
2055  0736  CD 00 00    	call	_player_score_add
2056  0739  21 00 00    	ld	hl,_index_player
2057  073C  36 01       	ld	(hl),0x01
2058  073E  21 2C 01    	ld	hl,0x012c
2059  0741  CD 00 00    	call	_player_score_add
2060  0744  18 21       	jr	l_game_bonus_summary_00107
2061  0746              l_game_bonus_summary_00106:
2062  0746  21 8E 00    	ld	hl,___str_19
2063  0749  E5          	push	hl
2064  074A  21 12 06    	ld	hl,0x0612
2065  074D  E5          	push	hl
2066  074E  CD 00 00    	call	_zx_print_str
2067  0751  21 00 00    	ld	hl,_index_player
2068  0754  36 00       	ld	(hl),0x00
2069  0756  21 F4 01    	ld	hl,0x01f4
2070  0759  CD 00 00    	call	_player_score_add
2071  075C  21 00 00    	ld	hl,_index_player
2072  075F  36 01       	ld	(hl),0x01
2073  0761  21 F4 01    	ld	hl,0x01f4
2074  0764  CD 00 00    	call	_player_score_add
2075  0767              l_game_bonus_summary_00107:
2076  0767  21 C8 00    	ld	hl,0x00c8
2077  076A  E5          	push	hl
2078  076B  21 10 1A    	ld	hl,0x1a10
2079  076E  E5          	push	hl
2080  076F  3E 12       	ld	a,0x12
2081  0771  F5          	push	af
2082  0772  33          	inc	sp
2083  0773  CD 51 19    	call	_game_colour_message
2084  0776  F1          	pop	af
2085  0777  F1          	pop	af
2086  0778  33          	inc	sp
2087  0779  18 11       	jr	l_game_bonus_summary_00112
2088  077B              l_game_bonus_summary_00109:
2089  077B  21 A1 00    	ld	hl,___str_20
2090  077E  E5          	push	hl
2091  077F  21 12 0C    	ld	hl,0x0c12
2092  0782  E5          	push	hl
2093  0783  CD 00 00    	call	_zx_print_str
2094  0786  21 E8 03    	ld	hl,0x03e8
2095  0789  CD 00 00    	call	_z80_delay_ms_fastcall
2096  078C              l_game_bonus_summary_00112:
2097  078C  C9          	ret
2098  078D              	SECTION rodata_compiler
2099  007B              ___str_18:
2100  007B  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2101  008D  00          	DEFB 0x00
2102  008E              	SECTION rodata_compiler
2103  008E              ___str_19:
2104  008E  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2105  00A0  00          	DEFB 0x00
2106  00A1              	SECTION rodata_compiler
2107  00A1              ___str_20:
2108  00A1  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2109  00A9  00          	DEFB 0x00
2110  00AA              	SECTION code_compiler
2111  078D              ;	---------------------------------
2112  078D              ; Function game_bonus_summary_player
2113  078D              ; ---------------------------------
2114  078D              _game_bonus_summary_player:
2115  078D  CD 00 00    	call	___sdcc_enter_ix
2116  0790  F5          	push	af
2117  0791  3B          	dec	sp
2118  0792  DD 75 FF    	ld	(ix-1),l
2119  0795  76          	halt
2120  0796  DD 7E FF    	ld	a,(ix-1)
2121  0799  B7          	or	a, a
2122  079A  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2123  079C  21 00 00    	ld	hl,_s_lin1
2124  079F  36 06       	ld	(hl),0x06
2125  07A1  21 AA 00    	ld	hl,___str_21
2126  07A4  E5          	push	hl
2127  07A5  21 06 07    	ld	hl,0x0706
2128  07A8  E5          	push	hl
2129  07A9  CD 00 00    	call	_zx_print_str
2130  07AC  3A 00 00    	ld	a,(_s_lin1)
2131  07AF  07          	rlca
2132  07B0  07          	rlca
2133  07B1  07          	rlca
2134  07B2  E6 F8       	and	a,0xf8
2135  07B4  47          	ld	b,a
2136  07B5  04          	inc	b
2137  07B6  04          	inc	b
2138  07B7  04          	inc	b
2139  07B8  04          	inc	b
2140  07B9  3E 04       	ld	a,0x04
2141  07BB  48          	ld	c,b
2142  07BC  47          	ld	b,a
2143  07BD  C5          	push	bc
2144  07BE  3E 03       	ld	a,0x03
2145  07C0  F5          	push	af
2146  07C1  33          	inc	sp
2147  07C2  CD 00 00    	call	_NIRVANAP_drawT_callee
2148  07C5  21 00 00    	ld	hl,_index_player
2149  07C8  36 00       	ld	(hl),0x00
2150  07CA  18 2E       	jr	l_game_bonus_summary_player_00103
2151  07CC              l_game_bonus_summary_player_00102:
2152  07CC  21 00 00    	ld	hl,_s_lin1
2153  07CF  36 0C       	ld	(hl),0x0c
2154  07D1  21 B1 00    	ld	hl,___str_22
2155  07D4  E5          	push	hl
2156  07D5  21 0C 07    	ld	hl,0x070c
2157  07D8  E5          	push	hl
2158  07D9  CD 00 00    	call	_zx_print_str
2159  07DC  3A 00 00    	ld	a,(_s_lin1)
2160  07DF  07          	rlca
2161  07E0  07          	rlca
2162  07E1  07          	rlca
2163  07E2  E6 F8       	and	a,0xf8
2164  07E4  47          	ld	b,a
2165  07E5  04          	inc	b
2166  07E6  04          	inc	b
2167  07E7  04          	inc	b
2168  07E8  04          	inc	b
2169  07E9  3E 04       	ld	a,0x04
2170  07EB  48          	ld	c,b
2171  07EC  47          	ld	b,a
2172  07ED  C5          	push	bc
2173  07EE  3E 1B       	ld	a,0x1b
2174  07F0  F5          	push	af
2175  07F1  33          	inc	sp
2176  07F2  CD 00 00    	call	_NIRVANAP_drawT_callee
2177  07F5  21 00 00    	ld	hl,_index_player
2178  07F8  36 01       	ld	(hl),0x01
2179  07FA              l_game_bonus_summary_player_00103:
2180  07FA  3A 00 00    	ld	a,(_s_lin1)
2181  07FD  07          	rlca
2182  07FE  07          	rlca
2183  07FF  07          	rlca
2184  0800  E6 F8       	and	a,0xf8
2185  0802  C6 08       	add	a,0x08
2186  0804  F5          	push	af
2187  0805  33          	inc	sp
2188  0806  21 07 1F    	ld	hl,0x1f07
2189  0809  E5          	push	hl
2190  080A  CD A5 0C    	call	_game_paint_attrib_lin
2191  080D  F1          	pop	af
2192  080E  33          	inc	sp
2193  080F  21 00 00    	ld	hl,_tmp_uc
2194  0812  36 00       	ld	(hl),0x00
2195  0814  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2196  0816  DD 86 FF    	add	a,(ix-1)
2197  0819  DD 77 FD    	ld	(ix-3),a
2198  081C  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2199  081E  CE 00       	adc	a,0x00
2200  0820  DD 77 FE    	ld	(ix-2),a
2201  0823              l_game_bonus_summary_player_00107:
2202  0823  E1          	pop	hl
2203  0824  4E          	ld	c,(hl)
2204  0825  3A 00 00    	ld	a,(_tmp_uc)
2205  0828  E5          	push	hl
2206  0829  91          	sub	a, c
2207  082A  30 53       	jr	NC,l_game_bonus_summary_player_00109
2208  082C  3A 00 00    	ld	a,(_s_lin1)
2209  082F  07          	rlca
2210  0830  07          	rlca
2211  0831  07          	rlca
2212  0832  E6 F8       	and	a,0xf8
2213  0834  4F          	ld	c,a
2214  0835  3A 00 00    	ld	a,(_tmp_uc)
2215  0838  D6 03       	sub	a,0x03
2216  083A  30 08       	jr	NC,l_game_bonus_summary_player_00105
2217  083C  79          	ld	a,c
2218  083D  C6 F8       	add	a,0xf8
2219  083F  32 00 00    	ld	(_s_lin0),a
2220  0842  18 06       	jr	l_game_bonus_summary_player_00106
2221  0844              l_game_bonus_summary_player_00105:
2222  0844  79          	ld	a,c
2223  0845  C6 08       	add	a,0x08
2224  0847  32 00 00    	ld	(_s_lin0),a
2225  084A              l_game_bonus_summary_player_00106:
2226  084A  76          	halt
2227  084B  2A 00 00    	ld	hl,(_tmp_uc)
2228  084E  26 03       	ld	h,0x03
2229  0850  E5          	push	hl
2230  0851  CD 00 00    	call	__moduchar_callee
2231  0854  7D          	ld	a,l
2232  0855  87          	add	a, a
2233  0856  C6 0E       	add	a,0x0e
2234  0858  F5          	push	af
2235  0859  33          	inc	sp
2236  085A  3A 00 00    	ld	a,(_s_lin0)
2237  085D  57          	ld	d,a
2238  085E  1E B9       	ld	e,0xb9
2239  0860  D5          	push	de
2240  0861  CD 00 00    	call	_NIRVANAP_drawT_callee
2241  0864  21 50 00    	ld	hl,0x0050
2242  0867  CD 00 00    	call	_player_score_add
2243  086A  21 00 00    	ld	hl,_tmp_uc
2244  086D  34          	inc	(hl)
2245  086E  21 00 00    	ld	hl,_ay_effect_09
2246  0871  CD 00 00    	call	_ay_fx_play
2247  0874  CD 00 00    	call	_sound_coin
2248  0877  21 32 00    	ld	hl,0x0032
2249  087A  CD 00 00    	call	_z80_delay_ms_fastcall
2250  087D  18 A4       	jr	l_game_bonus_summary_player_00107
2251  087F              l_game_bonus_summary_player_00109:
2252  087F  21 B7 00    	ld	hl,___str_23
2253  0882  E5          	push	hl
2254  0883  2A 00 00    	ld	hl,(_s_lin1)
2255  0886  26 16       	ld	h,0x16
2256  0888  E5          	push	hl
2257  0889  CD 00 00    	call	_zx_print_str
2258  088C  DD F9       	ld	sp, ix
2259  088E  DD E1       	pop	ix
2260  0890  C9          	ret
2261  0891              	SECTION rodata_compiler
2262  00AA              ___str_21:
2263  00AA  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2264  00B0  00          	DEFB 0x00
2265  00B1              	SECTION rodata_compiler
2266  00B1              ___str_22:
2267  00B1  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2268  00B6  00          	DEFB 0x00
2269  00B7              	SECTION rodata_compiler
2270  00B7              ___str_23:
2271  00B7  58 20 38 30 30 
                        	DEFM "X 800"
2272  00BC  00          	DEFB 0x00
2273  00BD              	SECTION code_compiler
2274  0891              ;	---------------------------------
2275  0891              ; Function game_kill_all_sprites
2276  0891              ; ---------------------------------
2277  0891              _game_kill_all_sprites:
2278  0891  21 00 00    	ld	hl,_sprite
2279  0894  36 00       	ld	(hl),0x00
2280  0896              l_game_kill_all_sprites_00102:
2281  0896  2A 00 00    	ld	hl,(_sprite)
2282  0899  CD 00 00    	call	_spr_destroy
2283  089C  21 00 00    	ld	hl,_sprite
2284  089F  7E          	ld	a,(hl)
2285  08A0  3C          	inc	a
2286  08A1  77          	ld	(hl),a
2287  08A2  D6 08       	sub	a,0x08
2288  08A4  38 F0       	jr	C,l_game_kill_all_sprites_00102
2289  08A6  C9          	ret
2290  08A7              	SECTION code_compiler
2291  08A7              ;	---------------------------------
2292  08A7              ; Function game_check_maze
2293  08A7              ; ---------------------------------
2294  08A7              _game_check_maze:
2295  08A7  4D          	ld	c,l
2296  08A8  44          	ld	b,h
2297  08A9  21 00 00    	ld	hl,_lvl_1
2298  08AC  09          	add	hl,bc
2299  08AD  7E          	ld	a, (hl)
2300  08AE  D6 10       	sub	a,0x10
2301  08B0  30 0A       	jr	NC,l_game_check_maze_00103
2302  08B2  03          	inc	bc
2303  08B3  21 00 00    	ld	hl,_lvl_1
2304  08B6  09          	add	hl,bc
2305  08B7  7E          	ld	a, (hl)
2306  08B8  D6 10       	sub	a,0x10
2307  08BA  38 04       	jr	C,l_game_check_maze_00104
2308  08BC              l_game_check_maze_00103:
2309  08BC  2E 00       	ld	l,0x00
2310  08BE  18 02       	jr	l_game_check_maze_00105
2311  08C0              l_game_check_maze_00104:
2312  08C0  2E 01       	ld	l,0x01
2313  08C2              l_game_check_maze_00105:
2314  08C2  C9          	ret
2315  08C3              	SECTION code_compiler
2316  08C3              ;	---------------------------------
2317  08C3              ; Function game_enemy_add
2318  08C3              ; ---------------------------------
2319  08C3              _game_enemy_add:
2320  08C3  3A 00 00    	ld	a,(_game_type)
2321  08C6  D6 02       	sub	a,0x02
2322  08C8  20 05       	jr	NZ,l_game_enemy_add_00106
2323  08CA  CD F3 09    	call	_game_enemy_rnd
2324  08CD  18 21       	jr	l_game_enemy_add_00107
2325  08CF              l_game_enemy_add_00106:
2326  08CF  3A 00 00    	ld	a,(_spr_count)
2327  08D2  D6 06       	sub	a,0x06
2328  08D4  30 1A       	jr	NC,l_game_enemy_add_00107
2329  08D6  21 64 00    	ld	hl,0x0064
2330  08D9  E5          	push	hl
2331  08DA  2A 00 00    	ld	hl,(_entry_time)
2332  08DD  E5          	push	hl
2333  08DE  CD E3 19    	call	_game_check_time
2334  08E1  F1          	pop	af
2335  08E2  F1          	pop	af
2336  08E3  7D          	ld	a,l
2337  08E4  B7          	or	a, a
2338  08E5  28 09       	jr	Z,l_game_enemy_add_00107
2339  08E7  3A 00 00    	ld	a,(_phase_left)
2340  08EA  B7          	or	a, a
2341  08EB  28 03       	jr	Z,l_game_enemy_add_00107
2342  08ED  CD F3 08    	call	_game_enemy_quota
2343  08F0              l_game_enemy_add_00107:
2344  08F0  2E 00       	ld	l,0x00
2345  08F2  C9          	ret
2346  08F3              	SECTION code_compiler
2347  08F3              ;	---------------------------------
2348  08F3              ; Function game_enemy_quota
2349  08F3              ; ---------------------------------
2350  08F3              _game_enemy_quota:
2351  08F3  CD 00 00    	call	_rand
2352  08F6  7D          	ld	a, l
2353  08F7  E6 01       	and	a,0x01
2354  08F9  32 00 00    	ld	(_tmp),a
2355  08FC  3A 00 00    	ld	a,(_phase_pop)
2356  08FF  B7          	or	a, a
2357  0900  28 06       	jr	Z,l_game_enemy_quota_00101
2358  0902  3A 00 00    	ld	a,(_phase_left)
2359  0905  3D          	dec	a
2360  0906  20 05       	jr	NZ,l_game_enemy_quota_00102
2361  0908              l_game_enemy_quota_00101:
2362  0908  21 00 00    	ld	hl,_tmp
2363  090B  36 00       	ld	(hl),0x00
2364  090D              l_game_enemy_quota_00102:
2365  090D  3A 00 00    	ld	a,(_phase_left)
2366  0910  B7          	or	a, a
2367  0911  28 4C       	jr	Z,l_game_enemy_quota_00111
2368  0913  3A 00 00    	ld	a,(_tmp)
2369  0916  B7          	or	a, a
2370  0917  20 46       	jr	NZ,l_game_enemy_quota_00111
2371  0919  01 00 00    	ld	bc,_phase_quota+0
2372  091C  59          	ld	e, c
2373  091D  50          	ld	d, b
2374  091E  13          	inc	de
2375  091F  13          	inc	de
2376  0920  1A          	ld	a,(de)
2377  0921  B7          	or	a, a
2378  0922  28 10       	jr	Z,l_game_enemy_quota_00105
2379  0924  D5          	push	de
2380  0925  2E 09       	ld	l,0x09
2381  0927  CD 23 0A    	call	_game_enemy_add1
2382  092A  D1          	pop	de
2383  092B  1A          	ld	a,(de)
2384  092C  C6 FF       	add	a,0xff
2385  092E  12          	ld	(de),a
2386  092F  2E 00       	ld	l,0x00
2387  0931  C3 F2 09    	jp	l_game_enemy_quota_00128
2388  0934              l_game_enemy_quota_00105:
2389  0934  59          	ld	e, c
2390  0935  50          	ld	d, b
2391  0936  13          	inc	de
2392  0937  1A          	ld	a,(de)
2393  0938  B7          	or	a, a
2394  0939  28 10       	jr	Z,l_game_enemy_quota_00107
2395  093B  D5          	push	de
2396  093C  2E 04       	ld	l,0x04
2397  093E  CD 23 0A    	call	_game_enemy_add1
2398  0941  D1          	pop	de
2399  0942  1A          	ld	a,(de)
2400  0943  C6 FF       	add	a,0xff
2401  0945  12          	ld	(de),a
2402  0946  2E 00       	ld	l,0x00
2403  0948  C3 F2 09    	jp	l_game_enemy_quota_00128
2404  094B              l_game_enemy_quota_00107:
2405  094B  0A          	ld	a,(bc)
2406  094C  B7          	or	a, a
2407  094D  28 10       	jr	Z,l_game_enemy_quota_00111
2408  094F  C5          	push	bc
2409  0950  2E 01       	ld	l,0x01
2410  0952  CD 23 0A    	call	_game_enemy_add1
2411  0955  C1          	pop	bc
2412  0956  0A          	ld	a,(bc)
2413  0957  C6 FF       	add	a,0xff
2414  0959  02          	ld	(bc),a
2415  095A  2E 00       	ld	l,0x00
2416  095C  C3 F2 09    	jp	l_game_enemy_quota_00128
2417  095F              l_game_enemy_quota_00111:
2418  095F  3A 00 00    	ld	a,(_phase_coins)
2419  0962  B7          	or	a, a
2420  0963  28 0A       	jr	Z,l_game_enemy_quota_00114
2421  0965  2E 08       	ld	l,0x08
2422  0967  CD 23 0A    	call	_game_enemy_add1
2423  096A  2E 00       	ld	l,0x00
2424  096C  C3 F2 09    	jp	l_game_enemy_quota_00128
2425  096F              l_game_enemy_quota_00114:
2426  096F  CD 00 00    	call	_rand
2427  0972  7D          	ld	a,l
2428  0973  E6 03       	and	a,0x03
2429  0975  44          	ld	b,h
2430  0976  0E 00       	ld	c,0x00
2431  0978  CB 79       	bit	7,c
2432  097A  20 74       	jr	NZ,l_game_enemy_quota_00127
2433  097C  5F          	ld	e,a
2434  097D  3E 03       	ld	a,0x03
2435  097F  BB          	cp	a, e
2436  0980  3E 00       	ld	a,0x00
2437  0982  99          	sbc	a, c
2438  0983  E2 88 09    	jp	PO, l_game_enemy_quota_00184
2439  0986  EE 80       	xor	a,0x80
2440  0988              l_game_enemy_quota_00184:
2441  0988  FA F0 09    	jp	M,l_game_enemy_quota_00127
2442  098B  16 00       	ld	d,0x00
2443  098D  21 93 09    	ld	hl,l_game_enemy_quota_00185
2444  0990  19          	add	hl,de
2445  0991  19          	add	hl,de
2446  0992  E9          	jp	(hl)
2447  0993              l_game_enemy_quota_00185:
2448  0993  18 06       	jr	l_game_enemy_quota_00115
2449  0995  18 13       	jr	l_game_enemy_quota_00118
2450  0997  18 29       	jr	l_game_enemy_quota_00121
2451  0999  18 3F       	jr	l_game_enemy_quota_00124
2452  099B              l_game_enemy_quota_00115:
2453  099B  3E 07       	ld	a,0x07
2454  099D  21 00 00    	ld	hl,_phase_curr
2455  09A0  96          	sub	a, (hl)
2456  09A1  30 4D       	jr	NC,l_game_enemy_quota_00127
2457  09A3  2E 07       	ld	l,0x07
2458  09A5  CD 23 0A    	call	_game_enemy_add1
2459  09A8  18 46       	jr	l_game_enemy_quota_00127
2460  09AA              l_game_enemy_quota_00118:
2461  09AA  2A 00 00    	ld	hl,(_game_time_fireball_start)
2462  09AD  E5          	push	hl
2463  09AE  21 00 00    	ld	hl,0x0000
2464  09B1  E5          	push	hl
2465  09B2  CD E3 19    	call	_game_check_time
2466  09B5  F1          	pop	af
2467  09B6  F1          	pop	af
2468  09B7  7D          	ld	a,l
2469  09B8  B7          	or	a, a
2470  09B9  28 35       	jr	Z,l_game_enemy_quota_00127
2471  09BB  2E 0B       	ld	l,0x0b
2472  09BD  CD 23 0A    	call	_game_enemy_add1
2473  09C0  18 2E       	jr	l_game_enemy_quota_00127
2474  09C2              l_game_enemy_quota_00121:
2475  09C2  2A 00 00    	ld	hl,(_game_time_fireball_start)
2476  09C5  E5          	push	hl
2477  09C6  21 00 00    	ld	hl,0x0000
2478  09C9  E5          	push	hl
2479  09CA  CD E3 19    	call	_game_check_time
2480  09CD  F1          	pop	af
2481  09CE  F1          	pop	af
2482  09CF  7D          	ld	a,l
2483  09D0  B7          	or	a, a
2484  09D1  28 1D       	jr	Z,l_game_enemy_quota_00127
2485  09D3  2E 0B       	ld	l,0x0b
2486  09D5  CD 23 0A    	call	_game_enemy_add1
2487  09D8  18 16       	jr	l_game_enemy_quota_00127
2488  09DA              l_game_enemy_quota_00124:
2489  09DA  2A 00 00    	ld	hl,(_game_time_fireball_start)
2490  09DD  E5          	push	hl
2491  09DE  21 00 00    	ld	hl,0x0000
2492  09E1  E5          	push	hl
2493  09E2  CD E3 19    	call	_game_check_time
2494  09E5  F1          	pop	af
2495  09E6  F1          	pop	af
2496  09E7  7D          	ld	a,l
2497  09E8  B7          	or	a, a
2498  09E9  28 05       	jr	Z,l_game_enemy_quota_00127
2499  09EB  2E 0A       	ld	l,0x0a
2500  09ED  CD 23 0A    	call	_game_enemy_add1
2501  09F0              l_game_enemy_quota_00127:
2502  09F0  2E 00       	ld	l,0x00
2503  09F2              l_game_enemy_quota_00128:
2504  09F2  C9          	ret
2505  09F3              	SECTION code_compiler
2506  09F3              ;	---------------------------------
2507  09F3              ; Function game_enemy_rnd
2508  09F3              ; ---------------------------------
2509  09F3              _game_enemy_rnd:
2510  09F3  3A 00 00    	ld	a,(_spr_count)
2511  09F6  D6 06       	sub	a,0x06
2512  09F8  30 26       	jr	NC,l_game_enemy_rnd_00102
2513  09FA  21 64 00    	ld	hl,0x0064
2514  09FD  E5          	push	hl
2515  09FE  2A 00 00    	ld	hl,(_entry_time)
2516  0A01  E5          	push	hl
2517  0A02  CD E3 19    	call	_game_check_time
2518  0A05  F1          	pop	af
2519  0A06  F1          	pop	af
2520  0A07  7D          	ld	a,l
2521  0A08  B7          	or	a, a
2522  0A09  28 15       	jr	Z,l_game_enemy_rnd_00102
2523  0A0B  2A 00 00    	ld	hl,(_curr_time)
2524  0A0E  22 00 00    	ld	(_entry_time),hl
2525  0A11  CD 00 00    	call	_rand
2526  0A14  01 0B 00    	ld	bc,0x000b
2527  0A17  C5          	push	bc
2528  0A18  E5          	push	hl
2529  0A19  CD 00 00    	call	__modsint_callee
2530  0A1C  2C          	inc	l
2531  0A1D  CD 23 0A    	call	_game_enemy_add1
2532  0A20              l_game_enemy_rnd_00102:
2533  0A20  2E 00       	ld	l,0x00
2534  0A22  C9          	ret
2535  0A23              	SECTION code_compiler
2536  0A23              ;	---------------------------------
2537  0A23              ; Function game_enemy_add1
2538  0A23              ; ---------------------------------
2539  0A23              _game_enemy_add1:
2540  0A23  CD 00 00    	call	___sdcc_enter_ix
2541  0A26  F5          	push	af
2542  0A27  45          	ld	b,l
2543  0A28  78          	ld	a,b
2544  0A29  FE 03       	cp	a,0x03
2545  0A2B  28 47       	jr	Z,l_game_enemy_add1_00101
2546  0A2D  FE 06       	cp	a,0x06
2547  0A2F  28 43       	jr	Z,l_game_enemy_add1_00101
2548  0A31  D6 0A       	sub	a,0x0a
2549  0A33  20 04       	jr	NZ,l_game_enemy_add1_00197
2550  0A35  3E 01       	ld	a,0x01
2551  0A37  18 01       	jr	l_game_enemy_add1_00198
2552  0A39              l_game_enemy_add1_00197:
2553  0A39  AF          	xor	a,a
2554  0A3A              l_game_enemy_add1_00198:
2555  0A3A  4F          	ld	c,a
2556  0A3B  B7          	or	a, a
2557  0A3C  28 0B       	jr	Z,l_game_enemy_add1_00107
2558  0A3E  C5          	push	bc
2559  0A3F  2E 0A       	ld	l,0x0a
2560  0A41  CD 6D 0B    	call	_game_enemy_add_get_index
2561  0A44  C1          	pop	bc
2562  0A45  5D          	ld	e,l
2563  0A46  1C          	inc	e
2564  0A47  20 2B       	jr	NZ,l_game_enemy_add1_00101
2565  0A49              l_game_enemy_add1_00107:
2566  0A49  78          	ld	a,b
2567  0A4A  D6 0B       	sub	a,0x0b
2568  0A4C  20 04       	jr	NZ,l_game_enemy_add1_00201
2569  0A4E  3E 01       	ld	a,0x01
2570  0A50  18 01       	jr	l_game_enemy_add1_00202
2571  0A52              l_game_enemy_add1_00201:
2572  0A52  AF          	xor	a,a
2573  0A53              l_game_enemy_add1_00202:
2574  0A53  DD 77 FF    	ld	(ix-1),a
2575  0A56  B7          	or	a, a
2576  0A57  28 0B       	jr	Z,l_game_enemy_add1_00109
2577  0A59  C5          	push	bc
2578  0A5A  2E 0B       	ld	l,0x0b
2579  0A5C  CD 6D 0B    	call	_game_enemy_add_get_index
2580  0A5F  C1          	pop	bc
2581  0A60  5D          	ld	e,l
2582  0A61  1C          	inc	e
2583  0A62  20 10       	jr	NZ,l_game_enemy_add1_00101
2584  0A64              l_game_enemy_add1_00109:
2585  0A64  78          	ld	a,b
2586  0A65  D6 07       	sub	a,0x07
2587  0A67  20 10       	jr	NZ,l_game_enemy_add1_00102
2588  0A69  C5          	push	bc
2589  0A6A  2E 07       	ld	l,0x07
2590  0A6C  CD 6D 0B    	call	_game_enemy_add_get_index
2591  0A6F  C1          	pop	bc
2592  0A70  5D          	ld	e,l
2593  0A71  1C          	inc	e
2594  0A72  28 05       	jr	Z,l_game_enemy_add1_00102
2595  0A74              l_game_enemy_add1_00101:
2596  0A74  2E 00       	ld	l,0x00
2597  0A76  C3 69 0B    	jp	l_game_enemy_add1_00133
2598  0A79              l_game_enemy_add1_00102:
2599  0A79  21 00 00    	ld	hl,_phase_pop
2600  0A7C  34          	inc	(hl)
2601  0A7D  C5          	push	bc
2602  0A7E  CD 00 00    	call	_sound_enter_enemy
2603  0A81  2E 00       	ld	l,0x00
2604  0A83  CD 6D 0B    	call	_game_enemy_add_get_index
2605  0A86  C1          	pop	bc
2606  0A87  7D          	ld	a,l
2607  0A88  32 00 00    	ld	(_tmp),a
2608  0A8B  C5          	push	bc
2609  0A8C  CD 00 00    	call	_rand
2610  0A8F  C1          	pop	bc
2611  0A90  7D          	ld	a, l
2612  0A91  E6 01       	and	a,0x01
2613  0A93  32 00 00    	ld	(_tmp0),a
2614  0A96  3D          	dec	a
2615  0A97  20 1C       	jr	NZ,l_game_enemy_add1_00115
2616  0A99  21 00 00    	ld	hl,_s_lin0
2617  0A9C  36 10       	ld	(hl),0x10
2618  0A9E  21 00 00    	ld	hl,_s_col0
2619  0AA1  36 04       	ld	(hl),0x04
2620  0AA3  21 00 00    	ld	hl,_s_col1
2621  0AA6  36 02       	ld	(hl),0x02
2622  0AA8  79          	ld	a,c
2623  0AA9  B7          	or	a, a
2624  0AAA  28 02       	jr	Z,l_game_enemy_add1_00111
2625  0AAC  36 03       	ld	(hl),0x03
2626  0AAE              l_game_enemy_add1_00111:
2627  0AAE  21 00 00    	ld	hl,_tmp1
2628  0AB1  36 01       	ld	(hl),0x01
2629  0AB3  18 1A       	jr	l_game_enemy_add1_00116
2630  0AB5              l_game_enemy_add1_00115:
2631  0AB5  21 00 00    	ld	hl,_s_lin0
2632  0AB8  36 10       	ld	(hl),0x10
2633  0ABA  21 00 00    	ld	hl,_s_col0
2634  0ABD  36 1A       	ld	(hl),0x1a
2635  0ABF  21 00 00    	ld	hl,_s_col1
2636  0AC2  36 1E       	ld	(hl),0x1e
2637  0AC4  79          	ld	a,c
2638  0AC5  B7          	or	a, a
2639  0AC6  28 02       	jr	Z,l_game_enemy_add1_00113
2640  0AC8  36 1C       	ld	(hl),0x1c
2641  0ACA              l_game_enemy_add1_00113:
2642  0ACA  21 00 00    	ld	hl,_tmp1
2643  0ACD  36 FF       	ld	(hl),0xff
2644  0ACF              l_game_enemy_add1_00116:
2645  0ACF  78          	ld	a,b
2646  0AD0  D6 08       	sub	a,0x08
2647  0AD2  20 04       	jr	NZ,l_game_enemy_add1_00210
2648  0AD4  3E 01       	ld	a,0x01
2649  0AD6  18 01       	jr	l_game_enemy_add1_00211
2650  0AD8              l_game_enemy_add1_00210:
2651  0AD8  AF          	xor	a,a
2652  0AD9              l_game_enemy_add1_00211:
2653  0AD9  DD 77 FE    	ld	(ix-2),a
2654  0ADC  B7          	or	a, a
2655  0ADD  28 04       	jr	Z,l_game_enemy_add1_00118
2656  0ADF  21 00 00    	ld	hl,_phase_coins
2657  0AE2  35          	dec	(hl)
2658  0AE3              l_game_enemy_add1_00118:
2659  0AE3  21 00 00    	ld	hl,_tmp_uc
2660  0AE6  36 00       	ld	(hl),0x00
2661  0AE8  DD 7E FF    	ld	a,(ix-1)
2662  0AEB  B7          	or	a,a
2663  0AEC  20 03       	jr	NZ,l_game_enemy_add1_00125
2664  0AEE  B1          	or	a,c
2665  0AEF  28 35       	jr	Z,l_game_enemy_add1_00126
2666  0AF1              l_game_enemy_add1_00125:
2667  0AF1  C5          	push	bc
2668  0AF2  CD 00 00    	call	_rand
2669  0AF5  11 03 00    	ld	de,0x0003
2670  0AF8  D5          	push	de
2671  0AF9  E5          	push	hl
2672  0AFA  CD 00 00    	call	__modsint_callee
2673  0AFD  C1          	pop	bc
2674  0AFE  5D          	ld	e,l
2675  0AFF  21 00 00    	ld	hl,_tmp_uc
2676  0B02  73          	ld	(hl),e
2677  0B03  7B          	ld	a,e
2678  0B04  B7          	or	a, a
2679  0B05  20 02       	jr	NZ,l_game_enemy_add1_00120
2680  0B07  36 10       	ld	(hl),0x10
2681  0B09              l_game_enemy_add1_00120:
2682  0B09  3A 00 00    	ld	a,(_tmp_uc)
2683  0B0C  3D          	dec	a
2684  0B0D  20 05       	jr	NZ,l_game_enemy_add1_00122
2685  0B0F  21 00 00    	ld	hl,_tmp_uc
2686  0B12  36 38       	ld	(hl),0x38
2687  0B14              l_game_enemy_add1_00122:
2688  0B14  3A 00 00    	ld	a,(_tmp_uc)
2689  0B17  D6 02       	sub	a,0x02
2690  0B19  20 05       	jr	NZ,l_game_enemy_add1_00124
2691  0B1B  21 00 00    	ld	hl,_tmp_uc
2692  0B1E  36 84       	ld	(hl),0x84
2693  0B20              l_game_enemy_add1_00124:
2694  0B20  3A 00 00    	ld	a,(_s_col1)
2695  0B23  32 00 00    	ld	(_s_col0),a
2696  0B26              l_game_enemy_add1_00126:
2697  0B26  CD 00 00    	call	_ay_is_playing
2698  0B29  7D          	ld	a,l
2699  0B2A  D6 02       	sub	a,0x02
2700  0B2C  30 14       	jr	NC,l_game_enemy_add1_00132
2701  0B2E  DD 7E FE    	ld	a,(ix-2)
2702  0B31  B7          	or	a, a
2703  0B32  20 08       	jr	NZ,l_game_enemy_add1_00129
2704  0B34  21 00 00    	ld	hl,_ay_effect_04
2705  0B37  CD 00 00    	call	_ay_fx_play
2706  0B3A  18 06       	jr	l_game_enemy_add1_00132
2707  0B3C              l_game_enemy_add1_00129:
2708  0B3C  21 00 00    	ld	hl,_ay_effect_07
2709  0B3F  CD 00 00    	call	_ay_fx_play
2710  0B42              l_game_enemy_add1_00132:
2711  0B42  2A 00 00    	ld	hl,(_curr_time)
2712  0B45  22 00 00    	ld	(_entry_time),hl
2713  0B48  3A 00 00    	ld	a,(_s_lin0)
2714  0B4B  21 00 00    	ld	hl,_tmp_uc
2715  0B4E  86          	add	a, (hl)
2716  0B4F  57          	ld	d,a
2717  0B50  3A 00 00    	ld	a,(_tmp1)
2718  0B53  48          	ld	c,b
2719  0B54  47          	ld	b,a
2720  0B55  3A 00 00    	ld	a,(_s_col0)
2721  0B58  C5          	push	bc
2722  0B59  5A          	ld	e,d
2723  0B5A  57          	ld	d,a
2724  0B5B  3A 00 00    	ld	a,(_tmp)
2725  0B5E  D5          	push	de
2726  0B5F  F5          	push	af
2727  0B60  33          	inc	sp
2728  0B61  CD 00 00    	call	_enemy_init
2729  0B64  F1          	pop	af
2730  0B65  F1          	pop	af
2731  0B66  33          	inc	sp
2732  0B67  2E 00       	ld	l,0x00
2733  0B69              l_game_enemy_add1_00133:
2734  0B69  F1          	pop	af
2735  0B6A  DD E1       	pop	ix
2736  0B6C  C9          	ret
2737  0B6D              	SECTION code_compiler
2738  0B6D              ;	---------------------------------
2739  0B6D              ; Function game_enemy_add_get_index
2740  0B6D              ; ---------------------------------
2741  0B6D              _game_enemy_add_get_index:
2742  0B6D  4D          	ld	c,l
2743  0B6E  21 00 00    	ld	hl,_enemies
2744  0B71  36 00       	ld	(hl),0x00
2745  0B73              l_game_enemy_add_get_index_00104:
2746  0B73  2A 00 00    	ld	hl,(_enemies)
2747  0B76  26 00       	ld	h,0x00
2748  0B78  11 00 00    	ld	de,_class
2749  0B7B  19          	add	hl,de
2750  0B7C  46          	ld	b, (hl)
2751  0B7D  79          	ld	a,c
2752  0B7E  90          	sub	a,b
2753  0B7F  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2754  0B81  2A 00 00    	ld	hl,(_enemies)
2755  0B84  18 0B       	jr	l_game_enemy_add_get_index_00106
2756  0B86              l_game_enemy_add_get_index_00105:
2757  0B86  21 00 00    	ld	hl,_enemies
2758  0B89  34          	inc	(hl)
2759  0B8A  3E 05       	ld	a,0x05
2760  0B8C  96          	sub	a, (hl)
2761  0B8D  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2762  0B8F  2E FF       	ld	l,0xff
2763  0B91              l_game_enemy_add_get_index_00106:
2764  0B91  C9          	ret
2765  0B92              	SECTION code_compiler
2766  0B92              ;	---------------------------------
2767  0B92              ; Function game_freeze
2768  0B92              ; ---------------------------------
2769  0B92              _game_freeze:
2770  0B92  CD 00 00    	call	___sdcc_enter_ix
2771  0B95  DD 7E 05    	ld	a,(ix+5)
2772  0B98  D6 1F       	sub	a,0x1f
2773  0B9A  30 5F       	jr	NC,l_game_freeze_00107
2774  0B9C  21 00 00    	ld	hl,_tmp
2775  0B9F  36 01       	ld	(hl),0x01
2776  0BA1  DD 66 05    	ld	h,(ix+5)
2777  0BA4  DD 6E 04    	ld	l,(ix+4)
2778  0BA7  E5          	push	hl
2779  0BA8  CD 00 00    	call	_game_calc_index
2780  0BAB  F1          	pop	af
2781  0BAC  22 00 00    	ld	(_index1),hl
2782  0BAF  01 00 00    	ld	bc,_lvl_1
2783  0BB2  09          	add	hl,bc
2784  0BB3  7E          	ld	a,(hl)
2785  0BB4  D6 12       	sub	a,0x12
2786  0BB6  20 43       	jr	NZ,l_game_freeze_00107
2787  0BB8  36 14       	ld	(hl),0x14
2788  0BBA  76          	halt
2789  0BBB  DD 7E 05    	ld	a,(ix+5)
2790  0BBE  F5          	push	af
2791  0BBF  33          	inc	sp
2792  0BC0  DD 56 04    	ld	d,(ix+4)
2793  0BC3  1E 8B       	ld	e,0x8b
2794  0BC5  D5          	push	de
2795  0BC6  CD 00 00    	call	_NIRVANAP_drawT_callee
2796  0BC9  ED 4B 00 00 	ld	bc,(_index1)
2797  0BCD  03          	inc	bc
2798  0BCE  21 00 00    	ld	hl,_lvl_1
2799  0BD1  09          	add	hl,bc
2800  0BD2  4E          	ld	c,(hl)
2801  0BD3  DD 46 05    	ld	b,(ix+5)
2802  0BD6  04          	inc	b
2803  0BD7  79          	ld	a,c
2804  0BD8  B7          	or	a, a
2805  0BD9  20 0C       	jr	NZ,l_game_freeze_00102
2806  0BDB  C5          	push	bc
2807  0BDC  DD 4E 04    	ld	c,(ix+4)
2808  0BDF  C5          	push	bc
2809  0BE0  AF          	xor	a, a
2810  0BE1  F5          	push	af
2811  0BE2  33          	inc	sp
2812  0BE3  CD 00 00    	call	_NIRVANAP_fillT_callee
2813  0BE6  C1          	pop	bc
2814  0BE7              l_game_freeze_00102:
2815  0BE7  DD 4E 04    	ld	c,(ix+4)
2816  0BEA  C5          	push	bc
2817  0BEB  CD 92 0B    	call	_game_freeze
2818  0BEE  F1          	pop	af
2819  0BEF  DD 46 05    	ld	b,(ix+5)
2820  0BF2  05          	dec	b
2821  0BF3  DD 4E 04    	ld	c,(ix+4)
2822  0BF6  C5          	push	bc
2823  0BF7  CD 92 0B    	call	_game_freeze
2824  0BFA  F1          	pop	af
2825  0BFB              l_game_freeze_00107:
2826  0BFB  DD E1       	pop	ix
2827  0BFD  C9          	ret
2828  0BFE              	SECTION code_compiler
2829  0BFE              ;	---------------------------------
2830  0BFE              ; Function game_unfreeze_all
2831  0BFE              ; ---------------------------------
2832  0BFE              _game_unfreeze_all:
2833  0BFE  21 C0 00    	ld	hl,0x00c0
2834  0C01  22 00 00    	ld	(_index1),hl
2835  0C04              l_game_unfreeze_all_00104:
2836  0C04  01 00 00    	ld	bc,_lvl_1
2837  0C07  2A 00 00    	ld	hl,(_index1)
2838  0C0A  09          	add	hl,bc
2839  0C0B  7E          	ld	a,(hl)
2840  0C0C  D6 14       	sub	a,0x14
2841  0C0E  20 02       	jr	NZ,l_game_unfreeze_all_00105
2842  0C10  36 12       	ld	(hl),0x12
2843  0C12              l_game_unfreeze_all_00105:
2844  0C12  21 00 00    	ld	hl,_index1
2845  0C15  34          	inc	(hl)
2846  0C16  20 02       	jr	NZ,l_game_unfreeze_all_00118
2847  0C18  23          	inc	hl
2848  0C19  34          	inc	(hl)
2849  0C1A              l_game_unfreeze_all_00118:
2850  0C1A  3E 20       	ld	a,0x20
2851  0C1C  21 00 00    	ld	hl,_index1
2852  0C1F  BE          	cp	a, (hl)
2853  0C20  3E 02       	ld	a,0x02
2854  0C22  23          	inc	hl
2855  0C23  9E          	sbc	a, (hl)
2856  0C24  30 DE       	jr	NC,l_game_unfreeze_all_00104
2857  0C26  C9          	ret
2858  0C27              	SECTION code_compiler
2859  0C27              ;	---------------------------------
2860  0C27              ; Function game_freeze_all
2861  0C27              ; ---------------------------------
2862  0C27              _game_freeze_all:
2863  0C27  21 C0 00    	ld	hl,0x00c0
2864  0C2A  22 00 00    	ld	(_index1),hl
2865  0C2D              l_game_freeze_all_00104:
2866  0C2D  01 00 00    	ld	bc,_lvl_1
2867  0C30  2A 00 00    	ld	hl,(_index1)
2868  0C33  09          	add	hl,bc
2869  0C34  7E          	ld	a,(hl)
2870  0C35  D6 12       	sub	a,0x12
2871  0C37  20 02       	jr	NZ,l_game_freeze_all_00105
2872  0C39  36 14       	ld	(hl),0x14
2873  0C3B              l_game_freeze_all_00105:
2874  0C3B  21 00 00    	ld	hl,_index1
2875  0C3E  34          	inc	(hl)
2876  0C3F  20 02       	jr	NZ,l_game_freeze_all_00118
2877  0C41  23          	inc	hl
2878  0C42  34          	inc	(hl)
2879  0C43              l_game_freeze_all_00118:
2880  0C43  3E 20       	ld	a,0x20
2881  0C45  21 00 00    	ld	hl,_index1
2882  0C48  BE          	cp	a, (hl)
2883  0C49  3E 02       	ld	a,0x02
2884  0C4B  23          	inc	hl
2885  0C4C  9E          	sbc	a, (hl)
2886  0C4D  30 DE       	jr	NC,l_game_freeze_all_00104
2887  0C4F  C9          	ret
2888  0C50              	SECTION code_compiler
2889  0C50              ;	---------------------------------
2890  0C50              ; Function game_print_score
2891  0C50              ; ---------------------------------
2892  0C50              _game_print_score:
2893  0C50  21 00 00    	ld	hl,_screen_ink
2894  0C53  36 07       	ld	(hl),0x07
2895  0C55  21 00 00    	ld	hl,_screen_paper
2896  0C58  36 00       	ld	(hl),0x00
2897  0C5A  2A 00 00    	ld	hl,(_player_score)
2898  0C5D  E5          	push	hl
2899  0C5E  21 00 03    	ld	hl,0x0300
2900  0C61  E5          	push	hl
2901  0C62  CD 00 00    	call	_zx_print_int
2902  0C65  2A 00 00    	ld	hl,(_game_score_top)
2903  0C68  E5          	push	hl
2904  0C69  21 00 0E    	ld	hl,0x0e00
2905  0C6C  E5          	push	hl
2906  0C6D  CD 00 00    	call	_zx_print_int
2907  0C70  3A 00 00    	ld	a,(_game_two_player)
2908  0C73  B7          	or	a, a
2909  0C74  C8          	ret	Z
2910  0C75  2A 02 00    	ld	hl, (_player_score + 2)
2911  0C78  E5          	push	hl
2912  0C79  21 00 18    	ld	hl,0x1800
2913  0C7C  E5          	push	hl
2914  0C7D  CD 00 00    	call	_zx_print_int
2915  0C80  C9          	ret
2916  0C81              	SECTION code_compiler
2917  0C81              ;	---------------------------------
2918  0C81              ; Function game_paint_attrib
2919  0C81              ; ---------------------------------
2920  0C81              _game_paint_attrib:
2921  0C81  7D          	ld	a,l
2922  0C82  32 00 00    	ld	(_tmp0),a
2923  0C85              l_game_paint_attrib_00103:
2924  0C85  3E 13       	ld	a,0x13
2925  0C87  21 00 00    	ld	hl,_tmp0
2926  0C8A  96          	sub	a, (hl)
2927  0C8B  D8          	ret	C
2928  0C8C  7E          	ld	a,(hl)
2929  0C8D  07          	rlca
2930  0C8E  07          	rlca
2931  0C8F  07          	rlca
2932  0C90  E6 F8       	and	a,0xf8
2933  0C92  C6 08       	add	a,0x08
2934  0C94  F5          	push	af
2935  0C95  33          	inc	sp
2936  0C96  21 01 1F    	ld	hl,0x1f01
2937  0C99  E5          	push	hl
2938  0C9A  CD A5 0C    	call	_game_paint_attrib_lin
2939  0C9D  F1          	pop	af
2940  0C9E  33          	inc	sp
2941  0C9F  21 00 00    	ld	hl,_tmp0
2942  0CA2  34          	inc	(hl)
2943  0CA3  18 E0       	jr	l_game_paint_attrib_00103
2944  0CA5              	SECTION code_compiler
2945  0CA5              ;	---------------------------------
2946  0CA5              ; Function game_paint_attrib_lin
2947  0CA5              ; ---------------------------------
2948  0CA5              _game_paint_attrib_lin:
2949  0CA5  CD 00 00    	call	___sdcc_enter_ix
2950  0CA8  DD 7E 04    	ld	a,(ix+4)
2951  0CAB  32 00 00    	ld	(_tmp_uc),a
2952  0CAE              l_game_paint_attrib_lin_00103:
2953  0CAE  21 00 00    	ld	hl,_tmp_uc
2954  0CB1  7E          	ld	a,(hl)
2955  0CB2  DD 96 05    	sub	a,(ix+5)
2956  0CB5  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2957  0CB7  66          	ld	h,(hl)
2958  0CB8  DD 6E 06    	ld	l,(ix+6)
2959  0CBB  E5          	push	hl
2960  0CBC  21 00 00    	ld	hl,_attrib
2961  0CBF  E5          	push	hl
2962  0CC0  CD 00 00    	call	_NIRVANAP_paintC_callee
2963  0CC3  21 00 00    	ld	hl,_tmp_uc
2964  0CC6  34          	inc	(hl)
2965  0CC7  18 E5       	jr	l_game_paint_attrib_lin_00103
2966  0CC9              l_game_paint_attrib_lin_00105:
2967  0CC9  DD E1       	pop	ix
2968  0CCB  C9          	ret
2969  0CCC              	SECTION code_compiler
2970  0CCC              ;	---------------------------------
2971  0CCC              ; Function game_paint_attrib_lin_h
2972  0CCC              ; ---------------------------------
2973  0CCC              _game_paint_attrib_lin_h:
2974  0CCC  CD 00 00    	call	___sdcc_enter_ix
2975  0CCF  DD 7E 04    	ld	a,(ix+4)
2976  0CD2  32 00 00    	ld	(_tmp_uc),a
2977  0CD5              l_game_paint_attrib_lin_h_00103:
2978  0CD5  21 00 00    	ld	hl,_tmp_uc
2979  0CD8  7E          	ld	a,(hl)
2980  0CD9  DD 96 05    	sub	a,(ix+5)
2981  0CDC  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2982  0CDE  66          	ld	h,(hl)
2983  0CDF  DD 6E 06    	ld	l,(ix+6)
2984  0CE2  E5          	push	hl
2985  0CE3  21 00 00    	ld	hl,_attrib_hl
2986  0CE6  E5          	push	hl
2987  0CE7  CD 00 00    	call	_NIRVANAP_paintC_callee
2988  0CEA  21 00 00    	ld	hl,_tmp_uc
2989  0CED  34          	inc	(hl)
2990  0CEE  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2991  0CF0              l_game_paint_attrib_lin_h_00105:
2992  0CF0  DD E1       	pop	ix
2993  0CF2  C9          	ret
2994  0CF3              	SECTION code_compiler
2995  0CF3              ;	---------------------------------
2996  0CF3              ; Function game_menu_config
2997  0CF3              ; ---------------------------------
2998  0CF3              _game_menu_config:
2999  0CF3  CD 00 00    	call	___sdcc_enter_ix
3000  0CF6  F5          	push	af
3001  0CF7  3B          	dec	sp
3002  0CF8  2E 0B       	ld	l,0x0b
3003  0CFA  CD 81 0C    	call	_game_paint_attrib
3004  0CFD  DD 36 FD 01 	ld	(ix-3),0x01
3005  0D01              l_game_menu_config_00116:
3006  0D01  DD 7E FD    	ld	a,(ix-3)
3007  0D04  B7          	or	a, a
3008  0D05  CA 64 0E    	jp	Z,l_game_menu_config_00119
3009  0D08              l_game_menu_config_00101:
3010  0D08  21 00 00    	ld	hl,_k1
3011  0D0B  E5          	push	hl
3012  0D0C  2A 00 00    	ld	hl,(_joyfunc1)
3013  0D0F  CD 00 00    	call	___sdcc_call_hl
3014  0D12  F1          	pop	af
3015  0D13  7C          	ld	a,h
3016  0D14  B5          	or	a,l
3017  0D15  20 F1       	jr	NZ,l_game_menu_config_00101
3018  0D17  3A 00 00    	ld	a,(_spec128)
3019  0D1A  B7          	or	a,a
3020  0D1B  28 0A       	jr	Z,l_game_menu_config_00121
3021  0D1D  DD 36 FE BD 	ld	(ix-2),+((___str_24) & 0xFF)
3022  0D21  DD 36 FF 00 	ld	(ix-1),+((___str_24) / 256)
3023  0D25  18 08       	jr	l_game_menu_config_00122
3024  0D27              l_game_menu_config_00121:
3025  0D27  DD 36 FE C8 	ld	(ix-2),+((___str_25) & 0xFF)
3026  0D2B  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3027  0D2F              l_game_menu_config_00122:
3028  0D2F  DD 4E FE    	ld	c,(ix-2)
3029  0D32  DD 46 FF    	ld	b,(ix-1)
3030  0D35  C5          	push	bc
3031  0D36  21 0E 0A    	ld	hl,0x0a0e
3032  0D39  E5          	push	hl
3033  0D3A  CD 00 00    	call	_zx_print_str
3034  0D3D  21 D3 00    	ld	hl,___str_26
3035  0D40  E5          	push	hl
3036  0D41  21 0F 0A    	ld	hl,0x0a0f
3037  0D44  E5          	push	hl
3038  0D45  CD 00 00    	call	_zx_print_str
3039  0D48  21 DE 00    	ld	hl,___str_27
3040  0D4B  E5          	push	hl
3041  0D4C  21 10 0A    	ld	hl,0x0a10
3042  0D4F  E5          	push	hl
3043  0D50  CD 00 00    	call	_zx_print_str
3044  0D53  21 E9 00    	ld	hl,___str_28
3045  0D56  E5          	push	hl
3046  0D57  21 11 0A    	ld	hl,0x0a11
3047  0D5A  E5          	push	hl
3048  0D5B  CD 00 00    	call	_zx_print_str
3049  0D5E  21 F4 00    	ld	hl,___str_29
3050  0D61  E5          	push	hl
3051  0D62  21 12 0A    	ld	hl,0x0a12
3052  0D65  E5          	push	hl
3053  0D66  CD 00 00    	call	_zx_print_str
3054  0D69  3A 00 00    	ld	a,(_game_sound)
3055  0D6C  E6 05       	and	a,0x05
3056  0D6E  28 05       	jr	Z,l_game_menu_config_00123
3057  0D70  01 FF 00    	ld	bc,___str_30
3058  0D73  18 03       	jr	l_game_menu_config_00124
3059  0D75              l_game_menu_config_00123:
3060  0D75  01 03 01    	ld	bc,___str_31
3061  0D78              l_game_menu_config_00124:
3062  0D78  C5          	push	bc
3063  0D79  21 0E 14    	ld	hl,0x140e
3064  0D7C  E5          	push	hl
3065  0D7D  CD 00 00    	call	_zx_print_str
3066  0D80  3E 02       	ld	a,0x02
3067  0D82  21 00 00    	ld	hl,_game_type
3068  0D85  96          	sub	a, (hl)
3069  0D86  38 34       	jr	C,l_game_menu_config_00107
3070  0D88  5E          	ld	e,(hl)
3071  0D89  16 00       	ld	d,0x00
3072  0D8B  21 91 0D    	ld	hl,l_game_menu_config_00164
3073  0D8E  19          	add	hl,de
3074  0D8F  19          	add	hl,de
3075  0D90  E9          	jp	(hl)
3076  0D91              l_game_menu_config_00164:
3077  0D91  18 04       	jr	l_game_menu_config_00104
3078  0D93  18 0F       	jr	l_game_menu_config_00105
3079  0D95  18 1A       	jr	l_game_menu_config_00106
3080  0D97              l_game_menu_config_00104:
3081  0D97  21 07 01    	ld	hl,___str_32
3082  0D9A  E5          	push	hl
3083  0D9B  21 0F 14    	ld	hl,0x140f
3084  0D9E  E5          	push	hl
3085  0D9F  CD 00 00    	call	_zx_print_str
3086  0DA2  18 18       	jr	l_game_menu_config_00107
3087  0DA4              l_game_menu_config_00105:
3088  0DA4  21 0B 01    	ld	hl,___str_33
3089  0DA7  E5          	push	hl
3090  0DA8  21 0F 14    	ld	hl,0x140f
3091  0DAB  E5          	push	hl
3092  0DAC  CD 00 00    	call	_zx_print_str
3093  0DAF  18 0B       	jr	l_game_menu_config_00107
3094  0DB1              l_game_menu_config_00106:
3095  0DB1  21 0F 01    	ld	hl,___str_34
3096  0DB4  E5          	push	hl
3097  0DB5  21 0F 14    	ld	hl,0x140f
3098  0DB8  E5          	push	hl
3099  0DB9  CD 00 00    	call	_zx_print_str
3100  0DBC              l_game_menu_config_00107:
3101  0DBC  2A 00 00    	ld	hl,(_player_joy)
3102  0DBF  29          	add	hl, hl
3103  0DC0  11 00 00    	ld	de,_joynames
3104  0DC3  19          	add	hl,de
3105  0DC4  4E          	ld	c,(hl)
3106  0DC5  23          	inc	hl
3107  0DC6  46          	ld	b,(hl)
3108  0DC7  C5          	push	bc
3109  0DC8  21 10 14    	ld	hl,0x1410
3110  0DCB  E5          	push	hl
3111  0DCC  CD 00 00    	call	_zx_print_str
3112  0DCF  2A 02 00    	ld	hl, (_player_joy + 2)
3113  0DD2  29          	add	hl, hl
3114  0DD3  11 00 00    	ld	de,_joynames
3115  0DD6  19          	add	hl,de
3116  0DD7  4E          	ld	c,(hl)
3117  0DD8  23          	inc	hl
3118  0DD9  46          	ld	b,(hl)
3119  0DDA  C5          	push	bc
3120  0DDB  21 11 14    	ld	hl,0x1411
3121  0DDE  E5          	push	hl
3122  0DDF  CD 00 00    	call	_zx_print_str
3123  0DE2  21 00 00    	ld	hl,0x0000
3124  0DE5  E5          	push	hl
3125  0DE6  21 0E 12    	ld	hl,0x120e
3126  0DE9  E5          	push	hl
3127  0DEA  21 0A 01    	ld	hl,0x010a
3128  0DED  E5          	push	hl
3129  0DEE  CD 19 11    	call	_game_menu_handle
3130  0DF1  F1          	pop	af
3131  0DF2  F1          	pop	af
3132  0DF3  F1          	pop	af
3133  0DF4  7D          	ld	a,l
3134  0DF5  32 00 00    	ld	(_game_menu_sel),a
3135  0DF8  21 00 00    	ld	hl,_ay_effect_10
3136  0DFB  CD 00 00    	call	_ay_fx_play
3137  0DFE  CD 00 00    	call	_sound_coin
3138  0E01  3E 04       	ld	a,0x04
3139  0E03  21 00 00    	ld	hl,_game_menu_sel
3140  0E06  96          	sub	a, (hl)
3141  0E07  DA 01 0D    	jp	C,l_game_menu_config_00116
3142  0E0A  5E          	ld	e,(hl)
3143  0E0B  16 00       	ld	d,0x00
3144  0E0D  21 13 0E    	ld	hl,l_game_menu_config_00165
3145  0E10  19          	add	hl,de
3146  0E11  19          	add	hl,de
3147  0E12  E9          	jp	(hl)
3148  0E13              l_game_menu_config_00165:
3149  0E13  18 08       	jr	l_game_menu_config_00108
3150  0E15  18 1A       	jr	l_game_menu_config_00109
3151  0E17  18 27       	jr	l_game_menu_config_00112
3152  0E19  18 2F       	jr	l_game_menu_config_00113
3153  0E1B  18 38       	jr	l_game_menu_config_00114
3154  0E1D              l_game_menu_config_00108:
3155  0E1D  3A 00 00    	ld	a,(_spec128)
3156  0E20  B7          	or	a, a
3157  0E21  28 04       	jr	Z,l_game_menu_config_00125
3158  0E23  3E 04       	ld	a,0x04
3159  0E25  18 02       	jr	l_game_menu_config_00126
3160  0E27              l_game_menu_config_00125:
3161  0E27  3E 01       	ld	a,0x01
3162  0E29              l_game_menu_config_00126:
3163  0E29  21 00 00    	ld	hl,_game_sound
3164  0E2C  AE          	xor	a, (hl)
3165  0E2D  77          	ld	(hl),a
3166  0E2E  C3 01 0D    	jp	l_game_menu_config_00116
3167  0E31              l_game_menu_config_00109:
3168  0E31  21 00 00    	ld	hl,_game_type
3169  0E34  34          	inc	(hl)
3170  0E35  3E 02       	ld	a,0x02
3171  0E37  96          	sub	a, (hl)
3172  0E38  D2 01 0D    	jp	NC,l_game_menu_config_00116
3173  0E3B  36 00       	ld	(hl),0x00
3174  0E3D  C3 01 0D    	jp	l_game_menu_config_00116
3175  0E40              l_game_menu_config_00112:
3176  0E40  AF          	xor	a, a
3177  0E41  F5          	push	af
3178  0E42  33          	inc	sp
3179  0E43  CD 69 0E    	call	_game_joystick_change
3180  0E46  33          	inc	sp
3181  0E47  C3 01 0D    	jp	l_game_menu_config_00116
3182  0E4A              l_game_menu_config_00113:
3183  0E4A  3E 01       	ld	a,0x01
3184  0E4C  F5          	push	af
3185  0E4D  33          	inc	sp
3186  0E4E  CD 69 0E    	call	_game_joystick_change
3187  0E51  33          	inc	sp
3188  0E52  C3 01 0D    	jp	l_game_menu_config_00116
3189  0E55              l_game_menu_config_00114:
3190  0E55  21 00 00    	ld	hl,_game_menu_sel
3191  0E58  36 00       	ld	(hl),0x00
3192  0E5A  CD EB 0F    	call	_game_menu_paint
3193  0E5D  DD 36 FD 00 	ld	(ix-3),0x00
3194  0E61  C3 01 0D    	jp	l_game_menu_config_00116
3195  0E64              l_game_menu_config_00119:
3196  0E64  DD F9       	ld	sp, ix
3197  0E66  DD E1       	pop	ix
3198  0E68  C9          	ret
3199  0E69              	SECTION rodata_compiler
3200  00BD              ___str_24:
3201  00BD  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3202  00C7  00          	DEFB 0x00
3203  00C8              	SECTION rodata_compiler
3204  00C8              ___str_25:
3205  00C8  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3206  00D2  00          	DEFB 0x00
3207  00D3              	SECTION rodata_compiler
3208  00D3              ___str_26:
3209  00D3  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3210  00DD  00          	DEFB 0x00
3211  00DE              	SECTION rodata_compiler
3212  00DE              ___str_27:
3213  00DE  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3214  00E8  00          	DEFB 0x00
3215  00E9              	SECTION rodata_compiler
3216  00E9              ___str_28:
3217  00E9  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3218  00F3  00          	DEFB 0x00
3219  00F4              	SECTION rodata_compiler
3220  00F4              ___str_29:
3221  00F4  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3222  00FE  00          	DEFB 0x00
3223  00FF              	SECTION rodata_compiler
3224  00FF              ___str_30:
3225  00FF  4F 4E 20    	DEFM "ON "
3226  0102  00          	DEFB 0x00
3227  0103              	SECTION rodata_compiler
3228  0103              ___str_31:
3229  0103  4F 46 46    	DEFM "OFF"
3230  0106  00          	DEFB 0x00
3231  0107              	SECTION rodata_compiler
3232  0107              ___str_32:
3233  0107  41 20 20    	DEFM "A  "
3234  010A  00          	DEFB 0x00
3235  010B              	SECTION rodata_compiler
3236  010B              ___str_33:
3237  010B  42 20 20    	DEFM "B  "
3238  010E  00          	DEFB 0x00
3239  010F              	SECTION rodata_compiler
3240  010F              ___str_34:
3241  010F  52 4E 44    	DEFM "RND"
3242  0112  00          	DEFB 0x00
3243  0113              	SECTION code_compiler
3244  0E69              ;	---------------------------------
3245  0E69              ; Function game_joystick_change
3246  0E69              ; ---------------------------------
3247  0E69              _game_joystick_change:
3248  0E69  CD 00 00    	call	___sdcc_enter_ix
3249  0E6C  DD 4E 04    	ld	c,(ix+4)
3250  0E6F  06 00       	ld	b,0x00
3251  0E71  CB 21       	sla	c
3252  0E73  CB 10       	rl	b
3253  0E75  21 00 00    	ld	hl,_player_joy
3254  0E78  09          	add	hl,bc
3255  0E79  4D          	ld	c,l
3256  0E7A  44          	ld	b,h
3257  0E7B  5E          	ld	e,(hl)
3258  0E7C  23          	inc	hl
3259  0E7D  56          	ld	d,(hl)
3260  0E7E  13          	inc	de
3261  0E7F  69          	ld	l, c
3262  0E80  60          	ld	h, b
3263  0E81  73          	ld	(hl),e
3264  0E82  23          	inc	hl
3265  0E83  72          	ld	(hl),d
3266  0E84  7B          	ld	a,e
3267  0E85  D6 07       	sub	a,0x07
3268  0E87  20 09       	jr	NZ,l_game_joystick_change_00102
3269  0E89  B2          	or	a,d
3270  0E8A  20 06       	jr	NZ,l_game_joystick_change_00102
3271  0E8C  69          	ld	l, c
3272  0E8D  60          	ld	h, b
3273  0E8E  AF          	xor	a, a
3274  0E8F  77          	ld	(hl), a
3275  0E90  23          	inc	hl
3276  0E91  77          	ld	(hl), a
3277  0E92              l_game_joystick_change_00102:
3278  0E92  DD 7E 04    	ld	a,(ix+4)
3279  0E95  B7          	or	a, a
3280  0E96  20 15       	jr	NZ,l_game_joystick_change_00104
3281  0E98  69          	ld	l, c
3282  0E99  60          	ld	h, b
3283  0E9A  5E          	ld	e,(hl)
3284  0E9B  23          	inc	hl
3285  0E9C  56          	ld	d,(hl)
3286  0E9D  1D          	dec	e
3287  0E9E  20 0D       	jr	NZ,l_game_joystick_change_00104
3288  0EA0  7A          	ld	a,d
3289  0EA1  B7          	or	a, a
3290  0EA2  20 09       	jr	NZ,l_game_joystick_change_00104
3291  0EA4  ED 5B 00 00 	ld	de,(_player_joy)
3292  0EA8  13          	inc	de
3293  0EA9  ED 53 00 00 	ld	(_player_joy), de
3294  0EAD              l_game_joystick_change_00104:
3295  0EAD  DD 7E 04    	ld	a,(ix+4)
3296  0EB0  3D          	dec	a
3297  0EB1  20 11       	jr	NZ,l_game_joystick_change_00107
3298  0EB3  69          	ld	l, c
3299  0EB4  60          	ld	h, b
3300  0EB5  4E          	ld	c,(hl)
3301  0EB6  23          	inc	hl
3302  0EB7  7E          	ld	a, (hl)
3303  0EB8  B1          	or	a,c
3304  0EB9  20 09       	jr	NZ,l_game_joystick_change_00107
3305  0EBB  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3306  0EBF  03          	inc	bc
3307  0EC0  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3308  0EC4              l_game_joystick_change_00107:
3309  0EC4  ED 4B 00 00 	ld	bc,(_player_joy)
3310  0EC8  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3311  0ECC  79          	ld	a,c
3312  0ECD  93          	sub	a, e
3313  0ECE  20 18       	jr	NZ,l_game_joystick_change_00114
3314  0ED0  78          	ld	a,b
3315  0ED1  92          	sub	a, d
3316  0ED2  20 14       	jr	NZ,l_game_joystick_change_00114
3317  0ED4  DD 7E 04    	ld	a,(ix+4)
3318  0ED7  B7          	or	a, a
3319  0ED8  20 08       	jr	NZ,l_game_joystick_change_00110
3320  0EDA  21 01 00    	ld	hl,0x0001
3321  0EDD  22 02 00    	ld	(_player_joy + 0x0002),hl
3322  0EE0  18 06       	jr	l_game_joystick_change_00114
3323  0EE2              l_game_joystick_change_00110:
3324  0EE2  21 00 00    	ld	hl,0x0000
3325  0EE5  22 00 00    	ld	(_player_joy), hl
3326  0EE8              l_game_joystick_change_00114:
3327  0EE8  DD E1       	pop	ix
3328  0EEA  C9          	ret
3329  0EEB              	SECTION code_compiler
3330  0EEB              ;	---------------------------------
3331  0EEB              ; Function game_joystick_set_menu
3332  0EEB              ; ---------------------------------
3333  0EEB              _game_joystick_set_menu:
3334  0EEB  21 00 00    	ld	hl,_in_stick_sinclair1
3335  0EEE  22 00 00    	ld	(_joyfunc1),hl
3336  0EF1  21 00 00    	ld	hl,_in_stick_sinclair2
3337  0EF4  22 00 00    	ld	(_joyfunc2),hl
3338  0EF7  C9          	ret
3339  0EF8              	SECTION code_compiler
3340  0EF8              ;	---------------------------------
3341  0EF8              ; Function game_joystick_set
3342  0EF8              ; ---------------------------------
3343  0EF8              _game_joystick_set:
3344  0EF8  01 00 00    	ld	bc,_control_method+0
3345  0EFB  2A 00 00    	ld	hl,(_player_joy)
3346  0EFE  29          	add	hl, hl
3347  0EFF  09          	add	hl,bc
3348  0F00  11 00 00    	ld	de,_joyfunc1
3349  0F03  ED A0       	ldi
3350  0F05  03          	inc	bc
3351  0F06  7E          	ld	a,(hl)
3352  0F07  12          	ld	(de),a
3353  0F08  2A 02 00    	ld	hl, (_player_joy + 2)
3354  0F0B  29          	add	hl, hl
3355  0F0C  09          	add	hl,bc
3356  0F0D  11 00 00    	ld	de,_joyfunc2
3357  0F10  ED A0       	ldi
3358  0F12  7E          	ld	a,(hl)
3359  0F13  12          	ld	(de),a
3360  0F14  C9          	ret
3361  0F15              	SECTION code_compiler
3362  0F15              ;	---------------------------------
3363  0F15              ; Function game_menu
3364  0F15              ; ---------------------------------
3365  0F15              _game_menu:
3366  0F15  CD 77 0F    	call	_game_menu_top_paint
3367  0F18  CD EB 0F    	call	_game_menu_paint
3368  0F1B  CD 00 00    	call	_ay_reset
3369  0F1E  21 00 00    	ld	hl,_pb_midi_title
3370  0F21  CD 00 00    	call	_ay_midi_play
3371  0F24              l_game_menu_00101:
3372  0F24  21 00 00    	ld	hl,_k1
3373  0F27  E5          	push	hl
3374  0F28  2A 00 00    	ld	hl,(_joyfunc1)
3375  0F2B  CD 00 00    	call	___sdcc_call_hl
3376  0F2E  F1          	pop	af
3377  0F2F  7C          	ld	a,h
3378  0F30  B5          	or	a,l
3379  0F31  20 F1       	jr	NZ,l_game_menu_00101
3380  0F33  21 E8 03    	ld	hl,0x03e8
3381  0F36  E5          	push	hl
3382  0F37  21 0E 12    	ld	hl,0x120e
3383  0F3A  E5          	push	hl
3384  0F3B  21 0C 02    	ld	hl,0x020c
3385  0F3E  E5          	push	hl
3386  0F3F  CD 19 11    	call	_game_menu_handle
3387  0F42  F1          	pop	af
3388  0F43  F1          	pop	af
3389  0F44  F1          	pop	af
3390  0F45  4D          	ld	c,l
3391  0F46  21 00 00    	ld	hl,_tmp_uc
3392  0F49  71          	ld	(hl),c
3393  0F4A  3E 02       	ld	a,0x02
3394  0F4C  96          	sub	a, (hl)
3395  0F4D  38 D5       	jr	C,l_game_menu_00101
3396  0F4F  5E          	ld	e,(hl)
3397  0F50  16 00       	ld	d,0x00
3398  0F52  21 58 0F    	ld	hl,l_game_menu_00125
3399  0F55  19          	add	hl,de
3400  0F56  19          	add	hl,de
3401  0F57  E9          	jp	(hl)
3402  0F58              l_game_menu_00125:
3403  0F58  18 04       	jr	l_game_menu_00104
3404  0F5A  18 0C       	jr	l_game_menu_00105
3405  0F5C  18 14       	jr	l_game_menu_00106
3406  0F5E              l_game_menu_00104:
3407  0F5E  21 00 00    	ld	hl,_game_two_player
3408  0F61  36 00       	ld	(hl),0x00
3409  0F63  CD 41 03    	call	_game_loop
3410  0F66  18 BC       	jr	l_game_menu_00101
3411  0F68              l_game_menu_00105:
3412  0F68  21 00 00    	ld	hl,_game_two_player
3413  0F6B  36 01       	ld	(hl),0x01
3414  0F6D  CD 41 03    	call	_game_loop
3415  0F70  18 B2       	jr	l_game_menu_00101
3416  0F72              l_game_menu_00106:
3417  0F72  CD F3 0C    	call	_game_menu_config
3418  0F75  18 AD       	jr	l_game_menu_00101
3419  0F77              	SECTION code_compiler
3420  0F77              ;	---------------------------------
3421  0F77              ; Function game_menu_top_paint
3422  0F77              ; ---------------------------------
3423  0F77              _game_menu_top_paint:
3424  0F77  CD 00 00    	call	_spr_draw_clear
3425  0F7A  2E 00       	ld	l,0x00
3426  0F7C  CD 81 0C    	call	_game_paint_attrib
3427  0F7F  21 9C 01    	ld	hl,0x019c
3428  0F82  E5          	push	hl
3429  0F83  21 00 1E    	ld	hl,0x1e00
3430  0F86  E5          	push	hl
3431  0F87  3E 10       	ld	a,0x10
3432  0F89  F5          	push	af
3433  0F8A  33          	inc	sp
3434  0F8B  CD 66 10    	call	_game_menu_e
3435  0F8E  F1          	pop	af
3436  0F8F  33          	inc	sp
3437  0F90  21 9F FF    	ld	hl,0xff9f
3438  0F93  E3          	ex	(sp),hl
3439  0F94  21 00 1E    	ld	hl,0x1e00
3440  0F97  E5          	push	hl
3441  0F98  3E 50       	ld	a,0x50
3442  0F9A  F5          	push	af
3443  0F9B  33          	inc	sp
3444  0F9C  CD 66 10    	call	_game_menu_e
3445  0F9F  F1          	pop	af
3446  0FA0  F1          	pop	af
3447  0FA1  33          	inc	sp
3448  0FA2  21 00 00    	ld	hl,_tmp
3449  0FA5  36 18       	ld	(hl),0x18
3450  0FA7  F3          	di
3451  0FA8  21 00 00    	ld	hl,_tmp_uc
3452  0FAB  36 00       	ld	(hl),0x00
3453  0FAD              l_game_menu_top_paint_00102:
3454  0FAD  3A 00 00    	ld	a,(_tmp_uc)
3455  0FB0  87          	add	a, a
3456  0FB1  C6 05       	add	a,0x05
3457  0FB3  47          	ld	b,a
3458  0FB4  3A 00 00    	ld	a,(_tmp)
3459  0FB7  C6 10       	add	a,0x10
3460  0FB9  57          	ld	d,a
3461  0FBA  3A 00 00    	ld	a,(_tmp_uc)
3462  0FBD  C6 C0       	add	a,0xc0
3463  0FBF  4A          	ld	c, d
3464  0FC0  C5          	push	bc
3465  0FC1  F5          	push	af
3466  0FC2  33          	inc	sp
3467  0FC3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3468  0FC6  3A 00 00    	ld	a,(_tmp_uc)
3469  0FC9  87          	add	a, a
3470  0FCA  C6 05       	add	a,0x05
3471  0FCC  47          	ld	b,a
3472  0FCD  3A 00 00    	ld	a,(_tmp)
3473  0FD0  C6 20       	add	a,0x20
3474  0FD2  57          	ld	d,a
3475  0FD3  3A 00 00    	ld	a,(_tmp_uc)
3476  0FD6  C6 CC       	add	a,0xcc
3477  0FD8  4A          	ld	c, d
3478  0FD9  C5          	push	bc
3479  0FDA  F5          	push	af
3480  0FDB  33          	inc	sp
3481  0FDC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3482  0FDF  21 00 00    	ld	hl,_tmp_uc
3483  0FE2  7E          	ld	a,(hl)
3484  0FE3  3C          	inc	a
3485  0FE4  77          	ld	(hl),a
3486  0FE5  D6 0A       	sub	a,0x0a
3487  0FE7  38 C4       	jr	C,l_game_menu_top_paint_00102
3488  0FE9  FB          	ei
3489  0FEA  C9          	ret
3490  0FEB              	SECTION code_compiler
3491  0FEB              ;	---------------------------------
3492  0FEB              ; Function game_menu_paint
3493  0FEB              ; ---------------------------------
3494  0FEB              _game_menu_paint:
3495  0FEB  76          	halt
3496  0FEC  3A 00 00    	ld	a,(_tmp)
3497  0FEF  C6 28       	add	a,0x28
3498  0FF1  4F          	ld	c, a
3499  0FF2  06 1A       	ld	b,0x1a
3500  0FF4  C5          	push	bc
3501  0FF5  3E 12       	ld	a,0x12
3502  0FF7  F5          	push	af
3503  0FF8  33          	inc	sp
3504  0FF9  CD 00 00    	call	_NIRVANAP_fillC_callee
3505  0FFC  21 00 20    	ld	hl,0x2000
3506  0FFF  E5          	push	hl
3507  1000  CD 00 00    	call	_game_fill_row
3508  1003  21 00 20    	ld	hl,0x2000
3509  1006  E5          	push	hl
3510  1007  CD 00 00    	call	_game_fill_row
3511  100A  21 13 01    	ld	hl,___str_35
3512  100D  E5          	push	hl
3513  100E  21 0E 0A    	ld	hl,0x0a0e
3514  1011  E5          	push	hl
3515  1012  CD 00 00    	call	_zx_print_str
3516  1015  21 0F 20    	ld	hl,0x200f
3517  1018  E5          	push	hl
3518  1019  CD 00 00    	call	_game_fill_row
3519  101C  21 21 01    	ld	hl,___str_36
3520  101F  E5          	push	hl
3521  1020  21 10 0A    	ld	hl,0x0a10
3522  1023  E5          	push	hl
3523  1024  CD 00 00    	call	_zx_print_str
3524  1027  21 11 20    	ld	hl,0x2011
3525  102A  E5          	push	hl
3526  102B  CD 00 00    	call	_game_fill_row
3527  102E  21 2F 01    	ld	hl,___str_37
3528  1031  E5          	push	hl
3529  1032  21 12 0A    	ld	hl,0x0a12
3530  1035  E5          	push	hl
3531  1036  CD 00 00    	call	_zx_print_str
3532  1039  21 13 20    	ld	hl,0x2013
3533  103C  E5          	push	hl
3534  103D  CD 00 00    	call	_game_fill_row
3535  1040  21 00 00    	ld	hl,_screen_ink
3536  1043  36 01       	ld	(hl),0x01
3537  1045  21 3D 01    	ld	hl,___str_38
3538  1048  E5          	push	hl
3539  1049  21 16 07    	ld	hl,0x0716
3540  104C  E5          	push	hl
3541  104D  CD 00 00    	call	_zx_print_str
3542  1050  21 50 01    	ld	hl,___str_39
3543  1053  E5          	push	hl
3544  1054  21 17 07    	ld	hl,0x0717
3545  1057  E5          	push	hl
3546  1058  CD 00 00    	call	_zx_print_str
3547  105B  21 00 00    	ld	hl,_tmp_uc
3548  105E  36 00       	ld	(hl),0x00
3549  1060  2E 0B       	ld	l,0x0b
3550  1062  CD 81 0C    	call	_game_paint_attrib
3551  1065  C9          	ret
3552  1066              	SECTION rodata_compiler
3553  0113              ___str_35:
3554  0113  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3555  0120  00          	DEFB 0x00
3556  0121              	SECTION rodata_compiler
3557  0121              ___str_36:
3558  0121  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3559  012E  00          	DEFB 0x00
3560  012F              	SECTION rodata_compiler
3561  012F              ___str_37:
3562  012F  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3563  013C  00          	DEFB 0x00
3564  013D              	SECTION rodata_compiler
3565  013D              ___str_38:
3566  013D  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3567  014F  00          	DEFB 0x00
3568  0150              	SECTION rodata_compiler
3569  0150              ___str_39:
3570  0150  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3571  0161  00          	DEFB 0x00
3572  0162              	SECTION code_compiler
3573  1066              ;	---------------------------------
3574  1066              ; Function game_menu_e
3575  1066              ; ---------------------------------
3576  1066              _game_menu_e:
3577  1066  CD 00 00    	call	___sdcc_enter_ix
3578  1069  F3          	di
3579  106A  DD 4E 05    	ld	c,(ix+5)
3580  106D  21 00 00    	ld	hl,_tmp_uc
3581  1070  71          	ld	(hl),c
3582  1071  DD 46 07    	ld	b,(ix+7)
3583  1074  04          	inc	b
3584  1075  DD 56 07    	ld	d,(ix+7)
3585  1078  14          	inc	d
3586  1079  14          	inc	d
3587  107A              l_game_menu_e_00114:
3588  107A  DD 7E 06    	ld	a,(ix+6)
3589  107D  21 00 00    	ld	hl,_tmp_uc
3590  1080  96          	sub	a, (hl)
3591  1081  38 56       	jr	C,l_game_menu_e_00109
3592  1083  7E          	ld	a,(hl)
3593  1084  91          	sub	a, c
3594  1085  20 15       	jr	NZ,l_game_menu_e_00102
3595  1087  3A 00 00    	ld	a,(_tmp_uc)
3596  108A  C5          	push	bc
3597  108B  D5          	push	de
3598  108C  F5          	push	af
3599  108D  33          	inc	sp
3600  108E  DD 66 04    	ld	h,(ix+4)
3601  1091  DD 6E 07    	ld	l,(ix+7)
3602  1094  E5          	push	hl
3603  1095  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3604  1098  D1          	pop	de
3605  1099  C1          	pop	bc
3606  109A  18 36       	jr	l_game_menu_e_00108
3607  109C              l_game_menu_e_00102:
3608  109C  3A 00 00    	ld	a,(_tmp_uc)
3609  109F  DD 96 06    	sub	a,(ix+6)
3610  10A2  20 14       	jr	NZ,l_game_menu_e_00104
3611  10A4  3A 00 00    	ld	a,(_tmp_uc)
3612  10A7  C5          	push	bc
3613  10A8  D5          	push	de
3614  10A9  F5          	push	af
3615  10AA  33          	inc	sp
3616  10AB  DD 7E 04    	ld	a,(ix+4)
3617  10AE  5A          	ld	e,d
3618  10AF  57          	ld	d,a
3619  10B0  D5          	push	de
3620  10B1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3621  10B4  D1          	pop	de
3622  10B5  C1          	pop	bc
3623  10B6  18 1A       	jr	l_game_menu_e_00108
3624  10B8              l_game_menu_e_00104:
3625  10B8  3A 00 00    	ld	a,(_tmp_uc)
3626  10BB  FE 0E       	cp	a,0x0e
3627  10BD  28 13       	jr	Z,l_game_menu_e_00108
3628  10BF  FE 10       	cp	a,0x10
3629  10C1  28 0F       	jr	Z,l_game_menu_e_00108
3630  10C3  C5          	push	bc
3631  10C4  D5          	push	de
3632  10C5  F5          	push	af
3633  10C6  33          	inc	sp
3634  10C7  DD 7E 04    	ld	a,(ix+4)
3635  10CA  48          	ld	c,b
3636  10CB  47          	ld	b,a
3637  10CC  C5          	push	bc
3638  10CD  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3639  10D0  D1          	pop	de
3640  10D1  C1          	pop	bc
3641  10D2              l_game_menu_e_00108:
3642  10D2  21 00 00    	ld	hl,_tmp_uc
3643  10D5  34          	inc	(hl)
3644  10D6  34          	inc	(hl)
3645  10D7  18 A1       	jr	l_game_menu_e_00114
3646  10D9              l_game_menu_e_00109:
3647  10D9  DD 7E 08    	ld	a,(ix+8)
3648  10DC  3C          	inc	a
3649  10DD  20 0A       	jr	NZ,l_game_menu_e_00111
3650  10DF  DD 7E 04    	ld	a,(ix+4)
3651  10E2  C6 F0       	add	a,0xf0
3652  10E4  DD 77 04    	ld	(ix+4),a
3653  10E7  18 08       	jr	l_game_menu_e_00112
3654  10E9              l_game_menu_e_00111:
3655  10E9  DD 7E 04    	ld	a,(ix+4)
3656  10EC  C6 10       	add	a,0x10
3657  10EE  DD 77 04    	ld	(ix+4),a
3658  10F1              l_game_menu_e_00112:
3659  10F1  DD 7E 07    	ld	a,(ix+7)
3660  10F4  C6 0C       	add	a,0x0c
3661  10F6  47          	ld	b,a
3662  10F7  79          	ld	a,c
3663  10F8  F5          	push	af
3664  10F9  33          	inc	sp
3665  10FA  DD 7E 04    	ld	a,(ix+4)
3666  10FD  48          	ld	c,b
3667  10FE  47          	ld	b,a
3668  10FF  C5          	push	bc
3669  1100  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3670  1103  DD 7E 07    	ld	a,(ix+7)
3671  1106  C6 0E       	add	a,0x0e
3672  1108  47          	ld	b,a
3673  1109  DD 66 06    	ld	h,(ix+6)
3674  110C  DD 6E 04    	ld	l,(ix+4)
3675  110F  E5          	push	hl
3676  1110  C5          	push	bc
3677  1111  33          	inc	sp
3678  1112  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3679  1115  FB          	ei
3680  1116  DD E1       	pop	ix
3681  1118  C9          	ret
3682  1119              	SECTION code_compiler
3683  1119              ;	---------------------------------
3684  1119              ; Function game_menu_handle
3685  1119              ; ---------------------------------
3686  1119              _game_menu_handle:
3687  1119  CD 00 00    	call	___sdcc_enter_ix
3688  111C  3B          	dec	sp
3689  111D  2A 00 00    	ld	hl,(_curr_time)
3690  1120  22 00 00    	ld	(_entry_time),hl
3691  1123  DD 5E 05    	ld	e,(ix+5)
3692  1126  21 00 00    	ld	hl,_game_menu_sel
3693  1129  66          	ld	h,(hl)
3694  112A  2E 00       	ld	l,0x00
3695  112C  55          	ld	d, l
3696  112D  06 08       	ld	b,0x08
3697  112F              l_game_menu_handle_00148:
3698  112F  29          	add	hl,hl
3699  1130  30 01       	jr	NC,l_game_menu_handle_00149
3700  1132  19          	add	hl,de
3701  1133              l_game_menu_handle_00149:
3702  1133  10 FA       	djnz	l_game_menu_handle_00148
3703  1135  DD 7E 06    	ld	a,(ix+6)
3704  1138  85          	add	a,l
3705  1139  32 00 00    	ld	(_s_lin1),a
3706  113C  DD 7E 06    	ld	a,(ix+6)
3707  113F  DD 77 FF    	ld	(ix-1),a
3708  1142              l_game_menu_handle_00111:
3709  1142  21 00 00    	ld	hl,_k1
3710  1145  E5          	push	hl
3711  1146  2A 00 00    	ld	hl,(_joyfunc1)
3712  1149  CD 00 00    	call	___sdcc_call_hl
3713  114C  F1          	pop	af
3714  114D  7D          	ld	a,l
3715  114E  32 00 00    	ld	(_dirs),a
3716  1151  D6 80       	sub	a,0x80
3717  1153  CA F1 11    	jp	Z,l_game_menu_handle_00113
3718  1156  21 05 00    	ld	hl,0x0005
3719  1159  E5          	push	hl
3720  115A  2A 00 00    	ld	hl,(_frame_time)
3721  115D  E5          	push	hl
3722  115E  CD E3 19    	call	_game_check_time
3723  1161  F1          	pop	af
3724  1162  F1          	pop	af
3725  1163  7D          	ld	a,l
3726  1164  B7          	or	a, a
3727  1165  28 58       	jr	Z,l_game_menu_handle_00106
3728  1167  3A 00 00    	ld	a,(_dirs)
3729  116A  B7          	or	a, a
3730  116B  28 32       	jr	Z,l_game_menu_handle_00104
3731  116D  21 00 00    	ld	hl,_ay_effect_03
3732  1170  CD 00 00    	call	_ay_fx_play
3733  1173  CD 00 00    	call	_sound_slide
3734  1176  3A 00 00    	ld	a,(_s_lin1)
3735  1179  07          	rlca
3736  117A  07          	rlca
3737  117B  07          	rlca
3738  117C  E6 F8       	and	a,0xf8
3739  117E  C6 08       	add	a,0x08
3740  1180  F5          	push	af
3741  1181  33          	inc	sp
3742  1182  26 14       	ld	h,0x14
3743  1184  DD 6E 04    	ld	l,(ix+4)
3744  1187  E5          	push	hl
3745  1188  CD A5 0C    	call	_game_paint_attrib_lin
3746  118B  F1          	pop	af
3747  118C  33          	inc	sp
3748  118D  21 00 00    	ld	hl,_s_lin1
3749  1190  7E          	ld	a,(hl)
3750  1191  DD 86 05    	add	a,(ix+5)
3751  1194  77          	ld	(hl),a
3752  1195  DD 7E 07    	ld	a,(ix+7)
3753  1198  96          	sub	a, (hl)
3754  1199  30 04       	jr	NC,l_game_menu_handle_00104
3755  119B  DD 7E FF    	ld	a,(ix-1)
3756  119E  77          	ld	(hl),a
3757  119F              l_game_menu_handle_00104:
3758  119F  2A 00 00    	ld	hl,(_curr_time)
3759  11A2  22 00 00    	ld	(_frame_time),hl
3760  11A5  3A 00 00    	ld	a,(_s_lin1)
3761  11A8  07          	rlca
3762  11A9  07          	rlca
3763  11AA  07          	rlca
3764  11AB  E6 F8       	and	a,0xf8
3765  11AD  C6 08       	add	a,0x08
3766  11AF  F5          	push	af
3767  11B0  33          	inc	sp
3768  11B1  26 14       	ld	h,0x14
3769  11B3  DD 6E 04    	ld	l,(ix+4)
3770  11B6  E5          	push	hl
3771  11B7  CD CC 0C    	call	_game_paint_attrib_lin_h
3772  11BA  F1          	pop	af
3773  11BB  33          	inc	sp
3774  11BC  CD 35 19    	call	_game_rotate_attrib
3775  11BF              l_game_menu_handle_00106:
3776  11BF  DD 7E 09    	ld	a,(ix+9)
3777  11C2  DD B6 08    	or	a,(ix+8)
3778  11C5  CA 42 11    	jp	Z,l_game_menu_handle_00111
3779  11C8  DD 6E 08    	ld	l,(ix+8)
3780  11CB  DD 66 09    	ld	h,(ix+9)
3781  11CE  E5          	push	hl
3782  11CF  2A 00 00    	ld	hl,(_entry_time)
3783  11D2  E5          	push	hl
3784  11D3  CD E3 19    	call	_game_check_time
3785  11D6  F1          	pop	af
3786  11D7  F1          	pop	af
3787  11D8  7D          	ld	a,l
3788  11D9  B7          	or	a, a
3789  11DA  CA 42 11    	jp	Z,l_game_menu_handle_00111
3790  11DD  CD 00 00    	call	_ay_is_playing
3791  11E0  7D          	ld	a,l
3792  11E1  B7          	or	a, a
3793  11E2  C2 42 11    	jp	NZ,l_game_menu_handle_00111
3794  11E5  CD 64 18    	call	_game_hall_of_fame
3795  11E8  DD 6E FF    	ld	l,(ix-1)
3796  11EB  CD 63 16    	call	_game_menu_back
3797  11EE  C3 42 11    	jp	l_game_menu_handle_00111
3798  11F1              l_game_menu_handle_00113:
3799  11F1  3A 00 00    	ld	a,(_s_lin1)
3800  11F4  DD 96 FF    	sub	a,(ix-1)
3801  11F7  47          	ld	b,a
3802  11F8  DD 7E 05    	ld	a,(ix+5)
3803  11FB  48          	ld	c,b
3804  11FC  47          	ld	b,a
3805  11FD  C5          	push	bc
3806  11FE  CD 00 00    	call	__divuchar_callee
3807  1201  33          	inc	sp
3808  1202  DD E1       	pop	ix
3809  1204  C9          	ret
3810  1205              	SECTION code_compiler
3811  1205              ;	---------------------------------
3812  1205              ; Function game_end
3813  1205              ; ---------------------------------
3814  1205              _game_end:
3815  1205  CD 00 00    	call	___sdcc_enter_ix
3816  1208  F5          	push	af
3817  1209  F5          	push	af
3818  120A  CD 91 08    	call	_game_kill_all_sprites
3819  120D  CD 00 00    	call	_spr_draw_clear
3820  1210  21 00 00    	ld	hl,_pb_midi_title
3821  1213  CD 00 00    	call	_ay_midi_play
3822  1216  21 00 00    	ld	hl,_tmp0
3823  1219  36 04       	ld	(hl),0x04
3824  121B              l_game_end_00129:
3825  121B  3A 00 00    	ld	a,(_tmp0)
3826  121E  F5          	push	af
3827  121F  33          	inc	sp
3828  1220  21 8C 50    	ld	hl,0x508c
3829  1223  E5          	push	hl
3830  1224  CD 00 00    	call	_NIRVANAP_drawT_callee
3831  1227  21 00 00    	ld	hl,_tmp0
3832  122A  7E          	ld	a,(hl)
3833  122B  3C          	inc	a
3834  122C  3C          	inc	a
3835  122D  77          	ld	(hl),a
3836  122E  D6 1C       	sub	a,0x1c
3837  1230  38 E9       	jr	C,l_game_end_00129
3838  1232  36 04       	ld	(hl),0x04
3839  1234              l_game_end_00131:
3840  1234  3A 00 00    	ld	a,(_tmp0)
3841  1237  F5          	push	af
3842  1238  33          	inc	sp
3843  1239  21 8C 60    	ld	hl,0x608c
3844  123C  E5          	push	hl
3845  123D  CD 00 00    	call	_NIRVANAP_drawT_callee
3846  1240  21 00 00    	ld	hl,_tmp0
3847  1243  7E          	ld	a,(hl)
3848  1244  3C          	inc	a
3849  1245  3C          	inc	a
3850  1246  77          	ld	(hl),a
3851  1247  D6 1C       	sub	a,0x1c
3852  1249  38 E9       	jr	C,l_game_end_00131
3853  124B  36 04       	ld	(hl),0x04
3854  124D              l_game_end_00133:
3855  124D  3A 00 00    	ld	a,(_tmp0)
3856  1250  F5          	push	af
3857  1251  33          	inc	sp
3858  1252  21 8C 70    	ld	hl,0x708c
3859  1255  E5          	push	hl
3860  1256  CD 00 00    	call	_NIRVANAP_drawT_callee
3861  1259  21 00 00    	ld	hl,_tmp0
3862  125C  7E          	ld	a,(hl)
3863  125D  3C          	inc	a
3864  125E  3C          	inc	a
3865  125F  77          	ld	(hl),a
3866  1260  D6 1C       	sub	a,0x1c
3867  1262  38 E9       	jr	C,l_game_end_00133
3868  1264  21 50 18    	ld	hl,0x1850
3869  1267  E5          	push	hl
3870  1268  3E D6       	ld	a,0xd6
3871  126A  F5          	push	af
3872  126B  33          	inc	sp
3873  126C  CD 00 00    	call	_NIRVANAP_drawT_callee
3874  126F  21 9C 01    	ld	hl,0x019c
3875  1272  E5          	push	hl
3876  1273  21 01 1D    	ld	hl,0x1d01
3877  1276  E5          	push	hl
3878  1277  3E 20       	ld	a,0x20
3879  1279  F5          	push	af
3880  127A  33          	inc	sp
3881  127B  CD 66 10    	call	_game_menu_e
3882  127E  F1          	pop	af
3883  127F  33          	inc	sp
3884  1280  21 9F FF    	ld	hl,0xff9f
3885  1283  E3          	ex	(sp),hl
3886  1284  21 01 1D    	ld	hl,0x1d01
3887  1287  E5          	push	hl
3888  1288  3E 80       	ld	a,0x80
3889  128A  F5          	push	af
3890  128B  33          	inc	sp
3891  128C  CD 66 10    	call	_game_menu_e
3892  128F  F1          	pop	af
3893  1290  F1          	pop	af
3894  1291  33          	inc	sp
3895  1292  3E 00       	ld	a,0x00
3896  1294  DD 77 FD    	ld	(ix-3),a
3897  1297  DD 77 FC    	ld	(ix-4),a
3898  129A  3A 00 00    	ld	a,(_game_two_player)
3899  129D  B7          	or	a, a
3900  129E  28 16       	jr	Z,l_game_end_00109
3901  12A0  3A 00 00    	ld	a,(_game_lives)
3902  12A3  B7          	or	a, a
3903  12A4  28 04       	jr	Z,l_game_end_00105
3904  12A6  DD 36 FD 01 	ld	(ix-3),0x01
3905  12AA              l_game_end_00105:
3906  12AA  3A 01 00    	ld	a, (_game_lives + 1)
3907  12AD  B7          	or	a, a
3908  12AE  28 0A       	jr	Z,l_game_end_00110
3909  12B0  DD 36 FC 01 	ld	(ix-4),0x01
3910  12B4  18 04       	jr	l_game_end_00110
3911  12B6              l_game_end_00109:
3912  12B6  DD 36 FD 01 	ld	(ix-3),0x01
3913  12BA              l_game_end_00110:
3914  12BA  DD 7E FD    	ld	a,(ix-3)
3915  12BD  3D          	dec	a
3916  12BE  20 04       	jr	NZ,l_game_end_00221
3917  12C0  3E 01       	ld	a,0x01
3918  12C2  18 01       	jr	l_game_end_00222
3919  12C4              l_game_end_00221:
3920  12C4  AF          	xor	a,a
3921  12C5              l_game_end_00222:
3922  12C5  DD 77 FF    	ld	(ix-1),a
3923  12C8  B7          	or	a, a
3924  12C9  28 1C       	jr	Z,l_game_end_00112
3925  12CB  DD 7E FC    	ld	a,(ix-4)
3926  12CE  B7          	or	a, a
3927  12CF  20 16       	jr	NZ,l_game_end_00112
3928  12D1  21 62 01    	ld	hl,___str_40
3929  12D4  E5          	push	hl
3930  12D5  21 13 01    	ld	hl,0x0113
3931  12D8  E5          	push	hl
3932  12D9  CD 00 00    	call	_zx_print_str
3933  12DC  21 50 0C    	ld	hl,0x0c50
3934  12DF  E5          	push	hl
3935  12E0  3E 03       	ld	a,0x03
3936  12E2  F5          	push	af
3937  12E3  33          	inc	sp
3938  12E4  CD 00 00    	call	_NIRVANAP_drawT_callee
3939  12E7              l_game_end_00112:
3940  12E7  DD 7E FC    	ld	a,(ix-4)
3941  12EA  3D          	dec	a
3942  12EB  20 04       	jr	NZ,l_game_end_00223
3943  12ED  3E 01       	ld	a,0x01
3944  12EF  18 01       	jr	l_game_end_00224
3945  12F1              l_game_end_00223:
3946  12F1  AF          	xor	a,a
3947  12F2              l_game_end_00224:
3948  12F2  DD 77 FE    	ld	(ix-2),a
3949  12F5  DD 7E FD    	ld	a,(ix-3)
3950  12F8  B7          	or	a, a
3951  12F9  20 1C       	jr	NZ,l_game_end_00115
3952  12FB  DD 7E FE    	ld	a,(ix-2)
3953  12FE  B7          	or	a, a
3954  12FF  28 16       	jr	Z,l_game_end_00115
3955  1301  21 6C 01    	ld	hl,___str_41
3956  1304  E5          	push	hl
3957  1305  21 13 01    	ld	hl,0x0113
3958  1308  E5          	push	hl
3959  1309  CD 00 00    	call	_zx_print_str
3960  130C  21 60 0E    	ld	hl,0x0e60
3961  130F  E5          	push	hl
3962  1310  3E 1B       	ld	a,0x1b
3963  1312  F5          	push	af
3964  1313  33          	inc	sp
3965  1314  CD 00 00    	call	_NIRVANAP_drawT_callee
3966  1317              l_game_end_00115:
3967  1317  DD 7E FF    	ld	a,(ix-1)
3968  131A  B7          	or	a, a
3969  131B  28 27       	jr	Z,l_game_end_00118
3970  131D  DD 7E FE    	ld	a,(ix-2)
3971  1320  B7          	or	a, a
3972  1321  28 21       	jr	Z,l_game_end_00118
3973  1323  21 75 01    	ld	hl,___str_42
3974  1326  E5          	push	hl
3975  1327  21 13 01    	ld	hl,0x0113
3976  132A  E5          	push	hl
3977  132B  CD 00 00    	call	_zx_print_str
3978  132E  21 50 0C    	ld	hl,0x0c50
3979  1331  E5          	push	hl
3980  1332  3E 03       	ld	a,0x03
3981  1334  F5          	push	af
3982  1335  33          	inc	sp
3983  1336  CD 00 00    	call	_NIRVANAP_drawT_callee
3984  1339  21 60 0E    	ld	hl,0x0e60
3985  133C  E5          	push	hl
3986  133D  3E 1B       	ld	a,0x1b
3987  133F  F5          	push	af
3988  1340  33          	inc	sp
3989  1341  CD 00 00    	call	_NIRVANAP_drawT_callee
3990  1344              l_game_end_00118:
3991  1344  21 C8 00    	ld	hl,0x00c8
3992  1347  E5          	push	hl
3993  1348  21 01 1F    	ld	hl,0x1f01
3994  134B  E5          	push	hl
3995  134C  3E 13       	ld	a,0x13
3996  134E  F5          	push	af
3997  134F  33          	inc	sp
3998  1350  CD 51 19    	call	_game_colour_message
3999  1353  F1          	pop	af
4000  1354  F1          	pop	af
4001  1355  33          	inc	sp
4002  1356  DD 7E FF    	ld	a,(ix-1)
4003  1359  B7          	or	a, a
4004  135A  28 32       	jr	Z,l_game_end_00121
4005  135C  DD 7E FC    	ld	a,(ix-4)
4006  135F  B7          	or	a, a
4007  1360  20 2C       	jr	NZ,l_game_end_00121
4008  1362  21 40 12    	ld	hl,0x1240
4009  1365  E5          	push	hl
4010  1366  3E BE       	ld	a,0xbe
4011  1368  F5          	push	af
4012  1369  33          	inc	sp
4013  136A  CD 00 00    	call	_NIRVANAP_drawT_callee
4014  136D  21 50 12    	ld	hl,0x1250
4015  1370  E5          	push	hl
4016  1371  3E CA       	ld	a,0xca
4017  1373  F5          	push	af
4018  1374  33          	inc	sp
4019  1375  CD 00 00    	call	_NIRVANAP_drawT_callee
4020  1378  21 89 01    	ld	hl,___str_43
4021  137B  E5          	push	hl
4022  137C  21 13 01    	ld	hl,0x0113
4023  137F  E5          	push	hl
4024  1380  CD 00 00    	call	_zx_print_str
4025  1383  21 40 0C    	ld	hl,0x0c40
4026  1386  E5          	push	hl
4027  1387  3E BE       	ld	a,0xbe
4028  1389  F5          	push	af
4029  138A  33          	inc	sp
4030  138B  CD 00 00    	call	_NIRVANAP_drawT_callee
4031  138E              l_game_end_00121:
4032  138E  DD 7E FD    	ld	a,(ix-3)
4033  1391  B7          	or	a, a
4034  1392  20 32       	jr	NZ,l_game_end_00124
4035  1394  DD 7E FE    	ld	a,(ix-2)
4036  1397  B7          	or	a, a
4037  1398  28 2C       	jr	Z,l_game_end_00124
4038  139A  21 50 12    	ld	hl,0x1250
4039  139D  E5          	push	hl
4040  139E  3E BE       	ld	a,0xbe
4041  13A0  F5          	push	af
4042  13A1  33          	inc	sp
4043  13A2  CD 00 00    	call	_NIRVANAP_drawT_callee
4044  13A5  21 60 12    	ld	hl,0x1260
4045  13A8  E5          	push	hl
4046  13A9  3E CA       	ld	a,0xca
4047  13AB  F5          	push	af
4048  13AC  33          	inc	sp
4049  13AD  CD 00 00    	call	_NIRVANAP_drawT_callee
4050  13B0  21 89 01    	ld	hl,___str_43
4051  13B3  E5          	push	hl
4052  13B4  21 13 01    	ld	hl,0x0113
4053  13B7  E5          	push	hl
4054  13B8  CD 00 00    	call	_zx_print_str
4055  13BB  21 50 0E    	ld	hl,0x0e50
4056  13BE  E5          	push	hl
4057  13BF  3E BE       	ld	a,0xbe
4058  13C1  F5          	push	af
4059  13C2  33          	inc	sp
4060  13C3  CD 00 00    	call	_NIRVANAP_drawT_callee
4061  13C6              l_game_end_00124:
4062  13C6  DD 7E FF    	ld	a,(ix-1)
4063  13C9  B7          	or	a, a
4064  13CA  28 53       	jr	Z,l_game_end_00127
4065  13CC  DD 7E FE    	ld	a,(ix-2)
4066  13CF  B7          	or	a, a
4067  13D0  28 4D       	jr	Z,l_game_end_00127
4068  13D2  21 9D 01    	ld	hl,___str_44
4069  13D5  E5          	push	hl
4070  13D6  21 13 01    	ld	hl,0x0113
4071  13D9  E5          	push	hl
4072  13DA  CD 00 00    	call	_zx_print_str
4073  13DD  21 40 12    	ld	hl,0x1240
4074  13E0  E5          	push	hl
4075  13E1  3E BE       	ld	a,0xbe
4076  13E3  F5          	push	af
4077  13E4  33          	inc	sp
4078  13E5  CD 00 00    	call	_NIRVANAP_drawT_callee
4079  13E8  21 50 12    	ld	hl,0x1250
4080  13EB  E5          	push	hl
4081  13EC  3E CA       	ld	a,0xca
4082  13EE  F5          	push	af
4083  13EF  33          	inc	sp
4084  13F0  CD 00 00    	call	_NIRVANAP_drawT_callee
4085  13F3  21 50 10    	ld	hl,0x1050
4086  13F6  E5          	push	hl
4087  13F7  3E BE       	ld	a,0xbe
4088  13F9  F5          	push	af
4089  13FA  33          	inc	sp
4090  13FB  CD 00 00    	call	_NIRVANAP_drawT_callee
4091  13FE  21 60 10    	ld	hl,0x1060
4092  1401  E5          	push	hl
4093  1402  3E CA       	ld	a,0xca
4094  1404  F5          	push	af
4095  1405  33          	inc	sp
4096  1406  CD 00 00    	call	_NIRVANAP_drawT_callee
4097  1409  21 40 0C    	ld	hl,0x0c40
4098  140C  E5          	push	hl
4099  140D  3E BE       	ld	a,0xbe
4100  140F  F5          	push	af
4101  1410  33          	inc	sp
4102  1411  CD 00 00    	call	_NIRVANAP_drawT_callee
4103  1414  21 50 0E    	ld	hl,0x0e50
4104  1417  E5          	push	hl
4105  1418  3E BE       	ld	a,0xbe
4106  141A  F5          	push	af
4107  141B  33          	inc	sp
4108  141C  CD 00 00    	call	_NIRVANAP_drawT_callee
4109  141F              l_game_end_00127:
4110  141F  21 C8 00    	ld	hl,0x00c8
4111  1422  E5          	push	hl
4112  1423  21 01 1F    	ld	hl,0x1f01
4113  1426  E5          	push	hl
4114  1427  3E 13       	ld	a,0x13
4115  1429  F5          	push	af
4116  142A  33          	inc	sp
4117  142B  CD 51 19    	call	_game_colour_message
4118  142E  F1          	pop	af
4119  142F  33          	inc	sp
4120  1430  21 B3 01    	ld	hl,___str_45
4121  1433  E3          	ex	(sp),hl
4122  1434  21 13 01    	ld	hl,0x0113
4123  1437  E5          	push	hl
4124  1438  CD 00 00    	call	_zx_print_str
4125  143B  21 C8 00    	ld	hl,0x00c8
4126  143E  E5          	push	hl
4127  143F  21 01 1F    	ld	hl,0x1f01
4128  1442  E5          	push	hl
4129  1443  3E 13       	ld	a,0x13
4130  1445  F5          	push	af
4131  1446  33          	inc	sp
4132  1447  CD 51 19    	call	_game_colour_message
4133  144A  F1          	pop	af
4134  144B  33          	inc	sp
4135  144C  21 CA 01    	ld	hl,___str_46
4136  144F  E3          	ex	(sp),hl
4137  1450  21 13 01    	ld	hl,0x0113
4138  1453  E5          	push	hl
4139  1454  CD 00 00    	call	_zx_print_str
4140  1457  21 C8 00    	ld	hl,0x00c8
4141  145A  E5          	push	hl
4142  145B  21 01 1F    	ld	hl,0x1f01
4143  145E  E5          	push	hl
4144  145F  3E 13       	ld	a,0x13
4145  1461  F5          	push	af
4146  1462  33          	inc	sp
4147  1463  CD 51 19    	call	_game_colour_message
4148  1466  F1          	pop	af
4149  1467  F1          	pop	af
4150  1468  33          	inc	sp
4151  1469  CD 00 00    	call	_spr_draw_clear
4152  146C  DD F9       	ld	sp, ix
4153  146E  DD E1       	pop	ix
4154  1470  C9          	ret
4155  1471              	SECTION rodata_compiler
4156  0162              ___str_40:
4157  0162  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4158  016B  00          	DEFB 0x00
4159  016C              	SECTION rodata_compiler
4160  016C              ___str_41:
4161  016C  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4162  0174  00          	DEFB 0x00
4163  0175              	SECTION rodata_compiler
4164  0175              ___str_42:
4165  0175  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4166  0188  00          	DEFB 0x00
4167  0189              	SECTION rodata_compiler
4168  0189              ___str_43:
4169  0189  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4170  019C  00          	DEFB 0x00
4171  019D              	SECTION rodata_compiler
4172  019D              ___str_44:
4173  019D  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4174  01B2  00          	DEFB 0x00
4175  01B3              	SECTION rodata_compiler
4176  01B3              ___str_45:
4177  01B3  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4178  01C9  00          	DEFB 0x00
4179  01CA              	SECTION rodata_compiler
4180  01CA              ___str_46:
4181  01CA  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4182  01E0  00          	DEFB 0x00
4183  01E1              	SECTION code_compiler
4184  1471              ;	---------------------------------
4185  1471              ; Function game_hall_check
4186  1471              ; ---------------------------------
4187  1471              _game_hall_check:
4188  1471  5D          	ld	e,l
4189  1472  01 00 00    	ld	bc,_player_score+0
4190  1475  26 00       	ld	h,0x00
4191  1477  6B          	ld	l, e
4192  1478  29          	add	hl, hl
4193  1479  09          	add	hl,bc
4194  147A  4E          	ld	c,(hl)
4195  147B  23          	inc	hl
4196  147C  46          	ld	b,(hl)
4197  147D  2A 3A 00    	ld	hl,(_hof + 0x003a)
4198  1480  AF          	xor	a,a
4199  1481  ED 42       	sbc	hl,bc
4200  1483  30 09       	jr	NC,l_game_hall_check_00104
4201  1485  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4202  1489  21 36 00    	ld	hl,+(_hof + 0x0036)
4203  148C  18 14       	jr	l_game_hall_check_00106
4204  148E              l_game_hall_check_00104:
4205  148E  2A 34 00    	ld	hl,(_hof + 0x0034)
4206  1491  AF          	xor	a,a
4207  1492  ED 42       	sbc	hl,bc
4208  1494  30 09       	jr	NC,l_game_hall_check_00105
4209  1496  ED 43 34 00 	ld	(_hof + 0x0034),bc
4210  149A  21 30 00    	ld	hl,+(_hof + 0x0030)
4211  149D  18 03       	jr	l_game_hall_check_00106
4212  149F              l_game_hall_check_00105:
4213  149F  21 00 00    	ld	hl,0x0000
4214  14A2              l_game_hall_check_00106:
4215  14A2  C9          	ret
4216  14A3              	SECTION code_compiler
4217  14A3              ;	---------------------------------
4218  14A3              ; Function compare_scores
4219  14A3              ; ---------------------------------
4220  14A3              _compare_scores:
4221  14A3  CD 00 00    	call	___sdcc_enter_ix
4222  14A6  DD 6E 06    	ld	l,(ix+6)
4223  14A9  DD 66 07    	ld	h,(ix+7)
4224  14AC  11 04 00    	ld	de,0x0004
4225  14AF  19          	add	hl, de
4226  14B0  4E          	ld	c,(hl)
4227  14B1  23          	inc	hl
4228  14B2  46          	ld	b,(hl)
4229  14B3  DD 6E 04    	ld	l,(ix+4)
4230  14B6  DD 66 05    	ld	h,(ix+5)
4231  14B9  11 04 00    	ld	de,0x0004
4232  14BC  19          	add	hl, de
4233  14BD  5E          	ld	e,(hl)
4234  14BE  23          	inc	hl
4235  14BF  56          	ld	d,(hl)
4236  14C0  79          	ld	a,c
4237  14C1  93          	sub	a, e
4238  14C2  6F          	ld	l,a
4239  14C3  78          	ld	a,b
4240  14C4  9A          	sbc	a, d
4241  14C5  67          	ld	h,a
4242  14C6  DD E1       	pop	ix
4243  14C8  C9          	ret
4244  14C9              	SECTION code_compiler
4245  14C9              ;	---------------------------------
4246  14C9              ; Function game_hall_enter
4247  14C9              ; ---------------------------------
4248  14C9              _game_hall_enter:
4249  14C9  CD 00 00    	call	___sdcc_enter_ix
4250  14CC  21 F7 FF    	ld	hl,-9
4251  14CF  39          	add	hl,sp
4252  14D0  F9          	ld	sp,hl
4253  14D1  CD 00 00    	call	_spr_draw_clear
4254  14D4  2E 00       	ld	l,0x00
4255  14D6  CD 81 0C    	call	_game_paint_attrib
4256  14D9  ED 4B 00 00 	ld	bc,(_player_score)
4257  14DD  2A 02 00    	ld	hl, (_player_score + 2)
4258  14E0  AF          	xor	a,a
4259  14E1  ED 42       	sbc	hl,bc
4260  14E3  30 0F       	jr	NC,l_game_hall_enter_00102
4261  14E5  2E 00       	ld	l,0x00
4262  14E7  CD 71 14    	call	_game_hall_check
4263  14EA  E5          	push	hl
4264  14EB  2E 01       	ld	l,0x01
4265  14ED  CD 71 14    	call	_game_hall_check
4266  14F0  EB          	ex	de,hl
4267  14F1  C1          	pop	bc
4268  14F2  18 0E       	jr	l_game_hall_enter_00103
4269  14F4              l_game_hall_enter_00102:
4270  14F4  2E 01       	ld	l,0x01
4271  14F6  CD 71 14    	call	_game_hall_check
4272  14F9  E5          	push	hl
4273  14FA  2E 00       	ld	l,0x00
4274  14FC  CD 71 14    	call	_game_hall_check
4275  14FF  D1          	pop	de
4276  1500  4D          	ld	c,l
4277  1501  44          	ld	b,h
4278  1502              l_game_hall_enter_00103:
4279  1502  78          	ld	a,b
4280  1503  B1          	or	a,c
4281  1504  20 05       	jr	NZ,l_game_hall_enter_00125
4282  1506  7A          	ld	a,d
4283  1507  B3          	or	a,e
4284  1508  CA 56 16    	jp	Z,l_game_hall_enter_00126
4285  150B              l_game_hall_enter_00125:
4286  150B  3E 00       	ld	a,0x00
4287  150D  DD 77 F8    	ld	(ix-8),a
4288  1510  DD 77 F9    	ld	(ix-7),a
4289  1513  DD 77 FA    	ld	(ix-6),a
4290  1516  DD 77 F7    	ld	(ix-9),a
4291  1519  DD 36 FB 00 	ld	(ix-5),0x00
4292  151D  78          	ld	a,b
4293  151E  B1          	or	a,c
4294  151F  28 0D       	jr	Z,l_game_hall_enter_00105
4295  1521  DD 36 F7 01 	ld	(ix-9),0x01
4296  1525  C5          	push	bc
4297  1526  D5          	push	de
4298  1527  2E 00       	ld	l,0x00
4299  1529  CD 79 16    	call	_game_hall_enter_phs
4300  152C  D1          	pop	de
4301  152D  C1          	pop	bc
4302  152E              l_game_hall_enter_00105:
4303  152E  7A          	ld	a,d
4304  152F  B3          	or	a,e
4305  1530  28 0D       	jr	Z,l_game_hall_enter_00107
4306  1532  DD 36 FB 05 	ld	(ix-5),0x05
4307  1536  C5          	push	bc
4308  1537  D5          	push	de
4309  1538  2E 01       	ld	l,0x01
4310  153A  CD 79 16    	call	_game_hall_enter_phs
4311  153D  D1          	pop	de
4312  153E  C1          	pop	bc
4313  153F              l_game_hall_enter_00107:
4314  153F  C5          	push	bc
4315  1540  D5          	push	de
4316  1541  21 E1 01    	ld	hl,___str_47
4317  1544  E5          	push	hl
4318  1545  21 02 0A    	ld	hl,0x0a02
4319  1548  E5          	push	hl
4320  1549  CD 00 00    	call	_zx_print_str
4321  154C  21 EE 01    	ld	hl,___str_48
4322  154F  E5          	push	hl
4323  1550  21 12 06    	ld	hl,0x0612
4324  1553  E5          	push	hl
4325  1554  CD 00 00    	call	_zx_print_str
4326  1557  21 01 02    	ld	hl,___str_49
4327  155A  E5          	push	hl
4328  155B  21 13 06    	ld	hl,0x0613
4329  155E  E5          	push	hl
4330  155F  CD 00 00    	call	_zx_print_str
4331  1562  D1          	pop	de
4332  1563  C1          	pop	bc
4333  1564  DD 71 FE    	ld	(ix-2),c
4334  1567  DD 70 FF    	ld	(ix-1),b
4335  156A  DD 73 FC    	ld	(ix-4),e
4336  156D  DD 72 FD    	ld	(ix-3),d
4337  1570              l_game_hall_enter_00122:
4338  1570  DD 7E F7    	ld	a,(ix-9)
4339  1573  DD 86 FB    	add	a,(ix-5)
4340  1576  B7          	or	a, a
4341  1577  CA 3E 16    	jp	Z,l_game_hall_enter_00124
4342  157A  21 05 00    	ld	hl,0x0005
4343  157D  E5          	push	hl
4344  157E  2A 00 00    	ld	hl,(_frame_time)
4345  1581  E5          	push	hl
4346  1582  CD E3 19    	call	_game_check_time
4347  1585  F1          	pop	af
4348  1586  F1          	pop	af
4349  1587  7D          	ld	a,l
4350  1588  B7          	or	a, a
4351  1589  28 36       	jr	Z,l_game_hall_enter_00113
4352  158B  DD 7E FA    	ld	a,(ix-6)
4353  158E  D6 01       	sub	a,0x01
4354  1590  3E 00       	ld	a,0x00
4355  1592  17          	rla
4356  1593  DD 77 FA    	ld	(ix-6),a
4357  1596  DD 7E F7    	ld	a,(ix-9)
4358  1599  B7          	or	a, a
4359  159A  28 0B       	jr	Z,l_game_hall_enter_00109
4360  159C  DD 66 FA    	ld	h,(ix-6)
4361  159F  DD 6E F7    	ld	l,(ix-9)
4362  15A2  E5          	push	hl
4363  15A3  CD F0 16    	call	_game_hall_print_p
4364  15A6  F1          	pop	af
4365  15A7              l_game_hall_enter_00109:
4366  15A7  DD 7E FB    	ld	a,(ix-5)
4367  15AA  B7          	or	a, a
4368  15AB  28 0B       	jr	Z,l_game_hall_enter_00111
4369  15AD  DD 66 FA    	ld	h,(ix-6)
4370  15B0  DD 6E FB    	ld	l,(ix-5)
4371  15B3  E5          	push	hl
4372  15B4  CD F0 16    	call	_game_hall_print_p
4373  15B7  F1          	pop	af
4374  15B8              l_game_hall_enter_00111:
4375  15B8  CD 35 19    	call	_game_rotate_attrib
4376  15BB  2A 00 00    	ld	hl,(_curr_time)
4377  15BE  22 00 00    	ld	(_frame_time),hl
4378  15C1              l_game_hall_enter_00113:
4379  15C1  21 00 00    	ld	hl,_k1
4380  15C4  E5          	push	hl
4381  15C5  2A 00 00    	ld	hl,(_joyfunc1)
4382  15C8  CD 00 00    	call	___sdcc_call_hl
4383  15CB  F1          	pop	af
4384  15CC  7D          	ld	a,l
4385  15CD  32 00 00    	ld	(_dirs),a
4386  15D0  DD 7E F8    	ld	a,(ix-8)
4387  15D3  B7          	or	a, a
4388  15D4  20 22       	jr	NZ,l_game_hall_enter_00115
4389  15D6  DD 7E F7    	ld	a,(ix-9)
4390  15D9  B7          	or	a, a
4391  15DA  28 1C       	jr	Z,l_game_hall_enter_00115
4392  15DC  DD 6E F7    	ld	l,(ix-9)
4393  15DF  CD AE 17    	call	_game_hall_edit_p
4394  15E2  DD 75 F7    	ld	(ix-9),l
4395  15E5  7D          	ld	a,l
4396  15E6  B7          	or	a, a
4397  15E7  20 0F       	jr	NZ,l_game_hall_enter_00115
4398  15E9  DD 5E FE    	ld	e,(ix-2)
4399  15EC  DD 56 FF    	ld	d,(ix-1)
4400  15EF  AF          	xor	a,a
4401  15F0  21 00 00    	ld	hl,_initials
4402  15F3              l_game_hall_enter_00190:
4403  15F3  BE          	cp	a, (hl)
4404  15F4  ED A0       	ldi
4405  15F6  20 FB       	jr	NZ, l_game_hall_enter_00190
4406  15F8              l_game_hall_enter_00115:
4407  15F8  3A 00 00    	ld	a,(_dirs)
4408  15FB  DD 77 F8    	ld	(ix-8),a
4409  15FE  21 00 00    	ld	hl,_k2
4410  1601  E5          	push	hl
4411  1602  2A 00 00    	ld	hl,(_joyfunc2)
4412  1605  CD 00 00    	call	___sdcc_call_hl
4413  1608  F1          	pop	af
4414  1609  7D          	ld	a,l
4415  160A  32 00 00    	ld	(_dirs),a
4416  160D  DD 7E F9    	ld	a,(ix-7)
4417  1610  B7          	or	a, a
4418  1611  20 22       	jr	NZ,l_game_hall_enter_00119
4419  1613  DD 7E FB    	ld	a,(ix-5)
4420  1616  B7          	or	a, a
4421  1617  28 1C       	jr	Z,l_game_hall_enter_00119
4422  1619  DD 6E FB    	ld	l,(ix-5)
4423  161C  CD AE 17    	call	_game_hall_edit_p
4424  161F  DD 75 FB    	ld	(ix-5),l
4425  1622  7D          	ld	a,l
4426  1623  B7          	or	a, a
4427  1624  20 0F       	jr	NZ,l_game_hall_enter_00119
4428  1626  DD 5E FC    	ld	e,(ix-4)
4429  1629  DD 56 FD    	ld	d,(ix-3)
4430  162C  AF          	xor	a,a
4431  162D  21 04 00    	ld	hl,+(_initials + 0x0004)
4432  1630              l_game_hall_enter_00191:
4433  1630  BE          	cp	a, (hl)
4434  1631  ED A0       	ldi
4435  1633  20 FB       	jr	NZ, l_game_hall_enter_00191
4436  1635              l_game_hall_enter_00119:
4437  1635  3A 00 00    	ld	a,(_dirs)
4438  1638  DD 77 F9    	ld	(ix-7),a
4439  163B  C3 70 15    	jp	l_game_hall_enter_00122
4440  163E              l_game_hall_enter_00124:
4441  163E  CD 00 00    	call	_ay_reset
4442  1641  CD 00 00    	call	_spr_draw_clear
4443  1644  01 A3 14    	ld	bc,_compare_scores
4444  1647  C5          	push	bc
4445  1648  21 06 00    	ld	hl,0x0006
4446  164B  E5          	push	hl
4447  164C  2E 0A       	ld	l,0x0a
4448  164E  E5          	push	hl
4449  164F  21 00 00    	ld	hl,_hof
4450  1652  E5          	push	hl
4451  1653  CD 00 00    	call	__insertion_sort__callee
4452  1656              l_game_hall_enter_00126:
4453  1656  CD 64 18    	call	_game_hall_of_fame
4454  1659  2E 00       	ld	l,0x00
4455  165B  CD 63 16    	call	_game_menu_back
4456  165E  DD F9       	ld	sp, ix
4457  1660  DD E1       	pop	ix
4458  1662  C9          	ret
4459  1663              	SECTION rodata_compiler
4460  01E1              ___str_47:
4461  01E1  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4462  01ED  00          	DEFB 0x00
4463  01EE              	SECTION rodata_compiler
4464  01EE              ___str_48:
4465  01EE  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4466  0200  00          	DEFB 0x00
4467  0201              	SECTION rodata_compiler
4468  0201              ___str_49:
4469  0201  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4470  0214  00          	DEFB 0x00
4471  0215              	SECTION code_compiler
4472  1663              ;	---------------------------------
4473  1663              ; Function game_menu_back
4474  1663              ; ---------------------------------
4475  1663              _game_menu_back:
4476  1663  7D          	ld	a,l
4477  1664  32 00 00    	ld	(_s_lin1),a
4478  1667  21 00 00    	ld	hl,_game_menu_sel
4479  166A  36 00       	ld	(hl),0x00
4480  166C  CD 77 0F    	call	_game_menu_top_paint
4481  166F  CD EB 0F    	call	_game_menu_paint
4482  1672  2A 00 00    	ld	hl,(_curr_time)
4483  1675  22 00 00    	ld	(_entry_time),hl
4484  1678  C9          	ret
4485  1679              	SECTION code_compiler
4486  1679              ;	---------------------------------
4487  1679              ; Function game_hall_enter_phs
4488  1679              ; ---------------------------------
4489  1679              _game_hall_enter_phs:
4490  1679  7D          	ld	a,l
4491  167A  B7          	or	a, a
4492  167B  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4493  167D  21 9C 01    	ld	hl,0x019c
4494  1680  E5          	push	hl
4495  1681  21 02 0C    	ld	hl,0x0c02
4496  1684  E5          	push	hl
4497  1685  3E 30       	ld	a,0x30
4498  1687  F5          	push	af
4499  1688  33          	inc	sp
4500  1689  CD 66 10    	call	_game_menu_e
4501  168C  F1          	pop	af
4502  168D  33          	inc	sp
4503  168E  21 9F FF    	ld	hl,0xff9f
4504  1691  E3          	ex	(sp),hl
4505  1692  21 02 0C    	ld	hl,0x0c02
4506  1695  E5          	push	hl
4507  1696  3E 7C       	ld	a,0x7c
4508  1698  F5          	push	af
4509  1699  33          	inc	sp
4510  169A  CD 66 10    	call	_game_menu_e
4511  169D  F1          	pop	af
4512  169E  33          	inc	sp
4513  169F  21 15 02    	ld	hl,___str_50
4514  16A2  E3          	ex	(sp),hl
4515  16A3  21 07 05    	ld	hl,0x0507
4516  16A6  E5          	push	hl
4517  16A7  CD 00 00    	call	_zx_print_str
4518  16AA  21 1A 02    	ld	hl,___str_51
4519  16AD  E5          	push	hl
4520  16AE  21 08 05    	ld	hl,0x0508
4521  16B1  E5          	push	hl
4522  16B2  CD 00 00    	call	_zx_print_str
4523  16B5  18 38       	jr	l_game_hall_enter_phs_00104
4524  16B7              l_game_hall_enter_phs_00102:
4525  16B7  21 9C 01    	ld	hl,0x019c
4526  16BA  E5          	push	hl
4527  16BB  21 12 1C    	ld	hl,0x1c12
4528  16BE  E5          	push	hl
4529  16BF  3E 30       	ld	a,0x30
4530  16C1  F5          	push	af
4531  16C2  33          	inc	sp
4532  16C3  CD 66 10    	call	_game_menu_e
4533  16C6  F1          	pop	af
4534  16C7  33          	inc	sp
4535  16C8  21 9F FF    	ld	hl,0xff9f
4536  16CB  E3          	ex	(sp),hl
4537  16CC  21 12 1C    	ld	hl,0x1c12
4538  16CF  E5          	push	hl
4539  16D0  3E 7C       	ld	a,0x7c
4540  16D2  F5          	push	af
4541  16D3  33          	inc	sp
4542  16D4  CD 66 10    	call	_game_menu_e
4543  16D7  F1          	pop	af
4544  16D8  33          	inc	sp
4545  16D9  21 15 02    	ld	hl,___str_50
4546  16DC  E3          	ex	(sp),hl
4547  16DD  21 07 15    	ld	hl,0x1507
4548  16E0  E5          	push	hl
4549  16E1  CD 00 00    	call	_zx_print_str
4550  16E4  21 1A 02    	ld	hl,___str_51
4551  16E7  E5          	push	hl
4552  16E8  21 08 15    	ld	hl,0x1508
4553  16EB  E5          	push	hl
4554  16EC  CD 00 00    	call	_zx_print_str
4555  16EF              l_game_hall_enter_phs_00104:
4556  16EF  C9          	ret
4557  16F0              	SECTION rodata_compiler
4558  0215              ___str_50:
4559  0215  48 49 47 48 	DEFM "HIGH"
4560  0219  00          	DEFB 0x00
4561  021A              	SECTION rodata_compiler
4562  021A              ___str_51:
4563  021A  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4564  0220  00          	DEFB 0x00
4565  0221              	SECTION code_compiler
4566  16F0              ;	---------------------------------
4567  16F0              ; Function game_hall_print_p
4568  16F0              ; ---------------------------------
4569  16F0              _game_hall_print_p:
4570  16F0  CD 00 00    	call	___sdcc_enter_ix
4571  16F3  DD 7E 04    	ld	a,(ix+4)
4572  16F6  D6 05       	sub	a,0x05
4573  16F8  30 59       	jr	NC,l_game_hall_print_p_00108
4574  16FA  21 00 00    	ld	hl,_initials
4575  16FD  E5          	push	hl
4576  16FE  21 0D 06    	ld	hl,0x060d
4577  1701  E5          	push	hl
4578  1702  CD 00 00    	call	_zx_print_str
4579  1705  DD 7E 04    	ld	a,(ix+4)
4580  1708  C6 06       	add	a,0x06
4581  170A  47          	ld	b,a
4582  170B  DD 7E 04    	ld	a,(ix+4)
4583  170E  C6 05       	add	a,0x05
4584  1710  57          	ld	d,a
4585  1711  3E 70       	ld	a,0x70
4586  1713  F5          	push	af
4587  1714  33          	inc	sp
4588  1715  4A          	ld	c, d
4589  1716  C5          	push	bc
4590  1717  CD CC 0C    	call	_game_paint_attrib_lin_h
4591  171A  F1          	pop	af
4592  171B  33          	inc	sp
4593  171C  76          	halt
4594  171D  DD 7E 05    	ld	a,(ix+5)
4595  1720  B7          	or	a, a
4596  1721  28 18       	jr	Z,l_game_hall_print_p_00102
4597  1723  21 56 06    	ld	hl,0x0656
4598  1726  E5          	push	hl
4599  1727  3E A9       	ld	a,0xa9
4600  1729  F5          	push	af
4601  172A  33          	inc	sp
4602  172B  CD 00 00    	call	_NIRVANAP_drawT_callee
4603  172E  21 58 06    	ld	hl,0x0658
4604  1731  E5          	push	hl
4605  1732  3E 03       	ld	a,0x03
4606  1734  F5          	push	af
4607  1735  33          	inc	sp
4608  1736  CD 00 00    	call	_NIRVANAP_drawT_callee
4609  1739  18 70       	jr	l_game_hall_print_p_00110
4610  173B              l_game_hall_print_p_00102:
4611  173B  21 58 06    	ld	hl,0x0658
4612  173E  E5          	push	hl
4613  173F  3E A9       	ld	a,0xa9
4614  1741  F5          	push	af
4615  1742  33          	inc	sp
4616  1743  CD 00 00    	call	_NIRVANAP_drawT_callee
4617  1746  21 56 06    	ld	hl,0x0656
4618  1749  E5          	push	hl
4619  174A  3E 16       	ld	a,0x16
4620  174C  F5          	push	af
4621  174D  33          	inc	sp
4622  174E  CD 00 00    	call	_NIRVANAP_drawT_callee
4623  1751  18 58       	jr	l_game_hall_print_p_00110
4624  1753              l_game_hall_print_p_00108:
4625  1753  21 04 00    	ld	hl,+(_initials + 0x0004)
4626  1756  E5          	push	hl
4627  1757  21 0D 16    	ld	hl,0x160d
4628  175A  E5          	push	hl
4629  175B  CD 00 00    	call	_zx_print_str
4630  175E  DD 7E 04    	ld	a,(ix+4)
4631  1761  C6 12       	add	a,0x12
4632  1763  57          	ld	d,a
4633  1764  DD 7E 04    	ld	a,(ix+4)
4634  1767  C6 11       	add	a,0x11
4635  1769  47          	ld	b,a
4636  176A  3E 70       	ld	a,0x70
4637  176C  5A          	ld	e,d
4638  176D  57          	ld	d,a
4639  176E  D5          	push	de
4640  176F  C5          	push	bc
4641  1770  33          	inc	sp
4642  1771  CD CC 0C    	call	_game_paint_attrib_lin_h
4643  1774  F1          	pop	af
4644  1775  33          	inc	sp
4645  1776  76          	halt
4646  1777  DD 7E 05    	ld	a,(ix+5)
4647  177A  B7          	or	a, a
4648  177B  28 18       	jr	Z,l_game_hall_print_p_00105
4649  177D  21 56 17    	ld	hl,0x1756
4650  1780  E5          	push	hl
4651  1781  3E A9       	ld	a,0xa9
4652  1783  F5          	push	af
4653  1784  33          	inc	sp
4654  1785  CD 00 00    	call	_NIRVANAP_drawT_callee
4655  1788  21 58 17    	ld	hl,0x1758
4656  178B  E5          	push	hl
4657  178C  3E 27       	ld	a,0x27
4658  178E  F5          	push	af
4659  178F  33          	inc	sp
4660  1790  CD 00 00    	call	_NIRVANAP_drawT_callee
4661  1793  18 16       	jr	l_game_hall_print_p_00110
4662  1795              l_game_hall_print_p_00105:
4663  1795  21 58 17    	ld	hl,0x1758
4664  1798  E5          	push	hl
4665  1799  3E A9       	ld	a,0xa9
4666  179B  F5          	push	af
4667  179C  33          	inc	sp
4668  179D  CD 00 00    	call	_NIRVANAP_drawT_callee
4669  17A0  21 56 17    	ld	hl,0x1756
4670  17A3  E5          	push	hl
4671  17A4  3E 2E       	ld	a,0x2e
4672  17A6  F5          	push	af
4673  17A7  33          	inc	sp
4674  17A8  CD 00 00    	call	_NIRVANAP_drawT_callee
4675  17AB              l_game_hall_print_p_00110:
4676  17AB  DD E1       	pop	ix
4677  17AD  C9          	ret
4678  17AE              	SECTION code_compiler
4679  17AE              ;	---------------------------------
4680  17AE              ; Function game_hall_edit_p
4681  17AE              ; ---------------------------------
4682  17AE              _game_hall_edit_p:
4683  17AE  CD 00 00    	call	___sdcc_enter_ix
4684  17B1  F5          	push	af
4685  17B2  4D          	ld	c,l
4686  17B3  0D          	dec	c
4687  17B4  3A 00 00    	ld	a,(_dirs)
4688  17B7  07          	rlca
4689  17B8  30 63       	jr	NC,l_game_hall_edit_p_00120
4690  17BA  79          	ld	a,c
4691  17BB  FE 04       	cp	a,0x04
4692  17BD  30 17       	jr	NC,l_game_hall_edit_p_00102
4693  17BF  C6 07       	add	a,0x07
4694  17C1  57          	ld	d,a
4695  17C2  79          	ld	a,c
4696  17C3  C6 06       	add	a,0x06
4697  17C5  47          	ld	b,a
4698  17C6  C5          	push	bc
4699  17C7  3E 70       	ld	a,0x70
4700  17C9  5A          	ld	e,d
4701  17CA  57          	ld	d,a
4702  17CB  D5          	push	de
4703  17CC  C5          	push	bc
4704  17CD  33          	inc	sp
4705  17CE  CD A5 0C    	call	_game_paint_attrib_lin
4706  17D1  F1          	pop	af
4707  17D2  33          	inc	sp
4708  17D3  C1          	pop	bc
4709  17D4  18 16       	jr	l_game_hall_edit_p_00103
4710  17D6              l_game_hall_edit_p_00102:
4711  17D6  79          	ld	a,c
4712  17D7  C6 13       	add	a,0x13
4713  17D9  57          	ld	d,a
4714  17DA  79          	ld	a,c
4715  17DB  C6 12       	add	a,0x12
4716  17DD  47          	ld	b,a
4717  17DE  C5          	push	bc
4718  17DF  3E 70       	ld	a,0x70
4719  17E1  5A          	ld	e,d
4720  17E2  57          	ld	d,a
4721  17E3  D5          	push	de
4722  17E4  C5          	push	bc
4723  17E5  33          	inc	sp
4724  17E6  CD A5 0C    	call	_game_paint_attrib_lin
4725  17E9  F1          	pop	af
4726  17EA  33          	inc	sp
4727  17EB  C1          	pop	bc
4728  17EC              l_game_hall_edit_p_00103:
4729  17EC  C5          	push	bc
4730  17ED  CD 00 00    	call	_sound_slide
4731  17F0  C1          	pop	bc
4732  17F1  21 00 00    	ld	hl,_ay_effect_01
4733  17F4  CD 00 00    	call	_ay_fx_play
4734  17F7  11 00 00    	ld	de,_initials+0
4735  17FA  41          	ld	b,c
4736  17FB  0C          	inc	c
4737  17FC  68          	ld	l,b
4738  17FD  26 00       	ld	h,0x00
4739  17FF  19          	add	hl,de
4740  1800  7E          	ld	a,(hl)
4741  1801  D6 7B       	sub	a,0x7b
4742  1803  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4743  1805  0D          	dec	c
4744  1806  79          	ld	a,c
4745  1807  E6 03       	and	a,0x03
4746  1809  28 08       	jr	Z,l_game_hall_edit_p_00107
4747  180B  41          	ld	b,c
4748  180C  0D          	dec	c
4749  180D  68          	ld	l,b
4750  180E  26 00       	ld	h,0x00
4751  1810  19          	add	hl,de
4752  1811  36 41       	ld	(hl),0x41
4753  1813              l_game_hall_edit_p_00107:
4754  1813  79          	ld	a,c
4755  1814  E6 03       	and	a,0x03
4756  1816  D6 03       	sub	a,0x03
4757  1818  20 44       	jr	NZ,l_game_hall_edit_p_00121
4758  181A  6F          	ld	l,a
4759  181B  18 43       	jr	l_game_hall_edit_p_00122
4760  181D              l_game_hall_edit_p_00120:
4761  181D  3A 00 00    	ld	a,(_dirs)
4762  1820  E6 0C       	and	a,0x0c
4763  1822  28 3A       	jr	Z,l_game_hall_edit_p_00121
4764  1824  11 00 00    	ld	de,_hall_valids
4765  1827  3E 00       	ld	a,+((_initials) & 0xFF)
4766  1829  81          	add	a, c
4767  182A  DD 77 FE    	ld	(ix-2),a
4768  182D  3E 00       	ld	a,+((_initials) / 256)
4769  182F  CE 00       	adc	a,0x00
4770  1831  DD 77 FF    	ld	(ix-1),a
4771  1834  E1          	pop	hl
4772  1835  46          	ld	b,(hl)
4773  1836  E5          	push	hl
4774  1837              l_game_hall_edit_p_00168:
4775  1837  1A          	ld	a, (de)
4776  1838  B8          	cp	a, b
4777  1839  28 06       	jr	Z,l_game_hall_edit_p_00167
4778  183B  B7          	or	a, a
4779  183C  13          	inc	de
4780  183D  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4781  183F  5F          	ld	e, a
4782  1840  57          	ld	d, a
4783  1841              l_game_hall_edit_p_00167:
4784  1841  3A 00 00    	ld	a,(_dirs)
4785  1844  E6 04       	and	a,0x04
4786  1846  28 0A       	jr	Z,l_game_hall_edit_p_00115
4787  1848  1B          	dec	de
4788  1849  1A          	ld	a,(de)
4789  184A  3D          	dec	a
4790  184B  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4791  184D  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4792  1850  18 08       	jr	l_game_hall_edit_p_00116
4793  1852              l_game_hall_edit_p_00115:
4794  1852  13          	inc	de
4795  1853  1A          	ld	a,(de)
4796  1854  B7          	or	a, a
4797  1855  20 03       	jr	NZ,l_game_hall_edit_p_00116
4798  1857  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4799  185A              l_game_hall_edit_p_00116:
4800  185A  E1          	pop	hl
4801  185B  1A          	ld	a,(de)
4802  185C  E5          	push	hl
4803  185D  77          	ld	(hl),a
4804  185E              l_game_hall_edit_p_00121:
4805  185E  0C          	inc	c
4806  185F  69          	ld	l,c
4807  1860              l_game_hall_edit_p_00122:
4808  1860  F1          	pop	af
4809  1861  DD E1       	pop	ix
4810  1863  C9          	ret
4811  1864              	SECTION code_compiler
4812  1864              ;	---------------------------------
4813  1864              ; Function game_hall_of_fame
4814  1864              ; ---------------------------------
4815  1864              _game_hall_of_fame:
4816  1864  CD 00 00    	call	_spr_draw_clear
4817  1867  2E 00       	ld	l,0x00
4818  1869  CD 81 0C    	call	_game_paint_attrib
4819  186C  21 9C 01    	ld	hl,0x019c
4820  186F  E5          	push	hl
4821  1870  21 06 18    	ld	hl,0x1806
4822  1873  E5          	push	hl
4823  1874  3E 10       	ld	a,0x10
4824  1876  F5          	push	af
4825  1877  33          	inc	sp
4826  1878  CD 66 10    	call	_game_menu_e
4827  187B  F1          	pop	af
4828  187C  33          	inc	sp
4829  187D  21 9F FF    	ld	hl,0xff9f
4830  1880  E3          	ex	(sp),hl
4831  1881  21 06 18    	ld	hl,0x1806
4832  1884  E5          	push	hl
4833  1885  3E 98       	ld	a,0x98
4834  1887  F5          	push	af
4835  1888  33          	inc	sp
4836  1889  CD 66 10    	call	_game_menu_e
4837  188C  F1          	pop	af
4838  188D  F1          	pop	af
4839  188E  33          	inc	sp
4840  188F  21 00 00    	ld	hl,_s_lin1
4841  1892  36 00       	ld	(hl),0x00
4842  1894              l_game_hall_of_fame_00102:
4843  1894  21 00 00    	ld	hl,_screen_ink
4844  1897  36 05       	ld	(hl),0x05
4845  1899  2A 00 00    	ld	hl,(_s_lin1)
4846  189C  26 00       	ld	h,0x00
4847  189E  4D          	ld	c,l
4848  189F  44          	ld	b,h
4849  18A0  29          	add	hl, hl
4850  18A1  09          	add	hl, bc
4851  18A2  29          	add	hl, hl
4852  18A3  01 00 00    	ld	bc,_hof
4853  18A6  09          	add	hl,bc
4854  18A7  3A 00 00    	ld	a,(_s_lin1)
4855  18AA  EB          	ex	de,hl
4856  18AB  C6 07       	add	a,0x07
4857  18AD  47          	ld	b,a
4858  18AE  D5          	push	de
4859  18AF  3E 0A       	ld	a,0x0a
4860  18B1  48          	ld	c,b
4861  18B2  47          	ld	b,a
4862  18B3  C5          	push	bc
4863  18B4  CD 00 00    	call	_zx_print_str
4864  18B7  2A 00 00    	ld	hl,(_s_lin1)
4865  18BA  26 00       	ld	h,0x00
4866  18BC  4D          	ld	c,l
4867  18BD  44          	ld	b,h
4868  18BE  29          	add	hl, hl
4869  18BF  09          	add	hl, bc
4870  18C0  29          	add	hl, hl
4871  18C1  01 00 00    	ld	bc,_hof
4872  18C4  09          	add	hl,bc
4873  18C5  11 04 00    	ld	de,0x0004
4874  18C8  19          	add	hl, de
4875  18C9  5E          	ld	e,(hl)
4876  18CA  23          	inc	hl
4877  18CB  56          	ld	d,(hl)
4878  18CC  3A 00 00    	ld	a,(_s_lin1)
4879  18CF  C6 07       	add	a,0x07
4880  18D1  47          	ld	b,a
4881  18D2  D5          	push	de
4882  18D3  3E 10       	ld	a,0x10
4883  18D5  48          	ld	c,b
4884  18D6  47          	ld	b,a
4885  18D7  C5          	push	bc
4886  18D8  CD 00 00    	call	_zx_print_int
4887  18DB  11 21 02    	ld	de,___str_52
4888  18DE  3A 00 00    	ld	a,(_s_lin1)
4889  18E1  C6 07       	add	a,0x07
4890  18E3  47          	ld	b,a
4891  18E4  D5          	push	de
4892  18E5  3E 0E       	ld	a,0x0e
4893  18E7  48          	ld	c,b
4894  18E8  47          	ld	b,a
4895  18E9  C5          	push	bc
4896  18EA  CD 00 00    	call	_zx_print_str
4897  18ED  11 23 02    	ld	de,___str_53
4898  18F0  3A 00 00    	ld	a,(_s_lin1)
4899  18F3  C6 07       	add	a,0x07
4900  18F5  47          	ld	b,a
4901  18F6  D5          	push	de
4902  18F7  3E 15       	ld	a,0x15
4903  18F9  48          	ld	c,b
4904  18FA  47          	ld	b,a
4905  18FB  C5          	push	bc
4906  18FC  CD 00 00    	call	_zx_print_str
4907  18FF  21 00 00    	ld	hl,_s_lin1
4908  1902  7E          	ld	a,(hl)
4909  1903  3C          	inc	a
4910  1904  77          	ld	(hl),a
4911  1905  D6 0A       	sub	a,0x0a
4912  1907  38 8B       	jr	C,l_game_hall_of_fame_00102
4913  1909  21 25 02    	ld	hl,___str_54
4914  190C  E5          	push	hl
4915  190D  21 04 0A    	ld	hl,0x0a04
4916  1910  E5          	push	hl
4917  1911  CD 00 00    	call	_zx_print_str
4918  1914  21 F4 01    	ld	hl,0x01f4
4919  1917  E5          	push	hl
4920  1918  21 0A 16    	ld	hl,0x160a
4921  191B  E5          	push	hl
4922  191C  3E 04       	ld	a,0x04
4923  191E  F5          	push	af
4924  191F  33          	inc	sp
4925  1920  CD 51 19    	call	_game_colour_message
4926  1923  F1          	pop	af
4927  1924  F1          	pop	af
4928  1925  33          	inc	sp
4929  1926  CD 00 00    	call	_spr_draw_clear
4930  1929  21 00 00    	ld	hl,_game_menu_sel
4931  192C  36 00       	ld	(hl),0x00
4932  192E  21 00 00    	ld	hl,_pb_midi_title
4933  1931  CD 00 00    	call	_ay_midi_play
4934  1934  C9          	ret
4935  1935              	SECTION rodata_compiler
4936  0221              ___str_52:
4937  0221  2D          	DEFM "-"
4938  0222  00          	DEFB 0x00
4939  0223              	SECTION rodata_compiler
4940  0223              ___str_53:
4941  0223  30          	DEFM "0"
4942  0224  00          	DEFB 0x00
4943  0225              	SECTION rodata_compiler
4944  0225              ___str_54:
4945  0225  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4946  0231  00          	DEFB 0x00
4947  0232              	SECTION code_compiler
4948  1935              ;	---------------------------------
4949  1935              ; Function game_rotate_attrib
4950  1935              ; ---------------------------------
4951  1935              _game_rotate_attrib:
4952  1935  01 03 00    	ld	bc,_attrib_hl + 3
4953  1938  0A          	ld	a,(bc)
4954  1939  32 00 00    	ld	(_tmp_uc),a
4955  193C  11 02 00    	ld	de,_attrib_hl + 2
4956  193F  1A          	ld	a,(de)
4957  1940  02          	ld	(bc),a
4958  1941  01 01 00    	ld	bc,_attrib_hl + 1
4959  1944  0A          	ld	a,(bc)
4960  1945  12          	ld	(de),a
4961  1946  3A 00 00    	ld	a,(_attrib_hl)
4962  1949  02          	ld	(bc),a
4963  194A  3A 00 00    	ld	a,(_tmp_uc)
4964  194D  32 00 00    	ld	(_attrib_hl),a
4965  1950  C9          	ret
4966  1951              	SECTION code_compiler
4967  1951              ;	---------------------------------
4968  1951              ; Function game_colour_message
4969  1951              ; ---------------------------------
4970  1951              _game_colour_message:
4971  1951  CD 00 00    	call	___sdcc_enter_ix
4972  1954  3B          	dec	sp
4973  1955  21 00 00    	ld	hl,_tmp
4974  1958  36 01       	ld	(hl),0x01
4975  195A  2A 00 00    	ld	hl,(_curr_time)
4976  195D  22 00 00    	ld	(_frame_time),hl
4977  1960  2A 00 00    	ld	hl,(_curr_time)
4978  1963  22 00 00    	ld	(_entry_time),hl
4979  1966  DD 7E 04    	ld	a,(ix+4)
4980  1969  07          	rlca
4981  196A  07          	rlca
4982  196B  07          	rlca
4983  196C  E6 F8       	and	a,0xf8
4984  196E  C6 08       	add	a,0x08
4985  1970  DD 77 FF    	ld	(ix-1),a
4986  1973              l_game_colour_message_00107:
4987  1973  3A 00 00    	ld	a,(_tmp)
4988  1976  B7          	or	a, a
4989  1977  28 66       	jr	Z,l_game_colour_message_00110
4990  1979  DD 6E 07    	ld	l,(ix+7)
4991  197C  DD 66 08    	ld	h,(ix+8)
4992  197F  E5          	push	hl
4993  1980  2A 00 00    	ld	hl,(_entry_time)
4994  1983  E5          	push	hl
4995  1984  CD E3 19    	call	_game_check_time
4996  1987  F1          	pop	af
4997  1988  F1          	pop	af
4998  1989  7D          	ld	a,l
4999  198A  B7          	or	a, a
5000  198B  20 52       	jr	NZ,l_game_colour_message_00110
5001  198D  21 05 00    	ld	hl,0x0005
5002  1990  E5          	push	hl
5003  1991  2A 00 00    	ld	hl,(_frame_time)
5004  1994  E5          	push	hl
5005  1995  CD E3 19    	call	_game_check_time
5006  1998  F1          	pop	af
5007  1999  F1          	pop	af
5008  199A  7D          	ld	a,l
5009  199B  B7          	or	a, a
5010  199C  28 1A       	jr	Z,l_game_colour_message_00103
5011  199E  2A 00 00    	ld	hl,(_curr_time)
5012  19A1  22 00 00    	ld	(_frame_time),hl
5013  19A4  DD 66 FF    	ld	h,(ix-1)
5014  19A7  DD 6E 06    	ld	l,(ix+6)
5015  19AA  E5          	push	hl
5016  19AB  DD 7E 05    	ld	a,(ix+5)
5017  19AE  F5          	push	af
5018  19AF  33          	inc	sp
5019  19B0  CD CC 0C    	call	_game_paint_attrib_lin_h
5020  19B3  F1          	pop	af
5021  19B4  33          	inc	sp
5022  19B5  CD 35 19    	call	_game_rotate_attrib
5023  19B8              l_game_colour_message_00103:
5024  19B8  21 00 00    	ld	hl,_k1
5025  19BB  E5          	push	hl
5026  19BC  2A 00 00    	ld	hl,(_joyfunc1)
5027  19BF  CD 00 00    	call	___sdcc_call_hl
5028  19C2  E3          	ex	(sp),hl
5029  19C3  21 00 00    	ld	hl,_k2
5030  19C6  E5          	push	hl
5031  19C7  2A 00 00    	ld	hl,(_joyfunc2)
5032  19CA  CD 00 00    	call	___sdcc_call_hl
5033  19CD  F1          	pop	af
5034  19CE  EB          	ex	de,hl
5035  19CF  C1          	pop	bc
5036  19D0  79          	ld	a,c
5037  19D1  B3          	or	a, e
5038  19D2  4F          	ld	c,a
5039  19D3  78          	ld	a,b
5040  19D4  B2          	or	a, d
5041  19D5  B1          	or	a,c
5042  19D6  28 9B       	jr	Z,l_game_colour_message_00107
5043  19D8  21 00 00    	ld	hl,_tmp
5044  19DB  36 00       	ld	(hl),0x00
5045  19DD  18 D9       	jr	l_game_colour_message_00103
5046  19DF              l_game_colour_message_00110:
5047  19DF  33          	inc	sp
5048  19E0  DD E1       	pop	ix
5049  19E2  C9          	ret
5050  19E3              	SECTION code_compiler
5051  19E3              ;	---------------------------------
5052  19E3              ; Function game_check_time
5053  19E3              ; ---------------------------------
5054  19E3              _game_check_time:
5055  19E3  CD 00 00    	call	___sdcc_enter_ix
5056  19E6  2A 00 00    	ld	hl,(_curr_time)
5057  19E9  7D          	ld	a,l
5058  19EA  DD 96 04    	sub	a,(ix+4)
5059  19ED  4F          	ld	c,a
5060  19EE  7C          	ld	a,h
5061  19EF  DD 9E 05    	sbc	a,(ix+5)
5062  19F2  47          	ld	b,a
5063  19F3  DD 7E 06    	ld	a,(ix+6)
5064  19F6  91          	sub	a, c
5065  19F7  DD 7E 07    	ld	a,(ix+7)
5066  19FA  98          	sbc	a, b
5067  19FB  30 04       	jr	NC,l_game_check_time_00102
5068  19FD  2E 01       	ld	l,0x01
5069  19FF  18 02       	jr	l_game_check_time_00104
5070  1A01              l_game_check_time_00102:
5071  1A01  2E 00       	ld	l,0x00
5072  1A03              l_game_check_time_00104:
5073  1A03  DD E1       	pop	ix
5074  1A05  C9          	ret
5075  1A06              	SECTION IGNORE
5076  0000              
