1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _compare_scores
181   0000              	GLOBAL _game_calc_index
182   0000              	GLOBAL _game_print_footer
183   0000              	GLOBAL _game_phase_print_score_back
184   0000              	GLOBAL _game_print_lives
185   0000              	GLOBAL _game_tick
186   0000              	GLOBAL _game_start_timer
187   0000              	GLOBAL _game_phase_calc
188   0000              	GLOBAL _game_phase_init
189   0000              	GLOBAL _game_print_header
190   0000              	GLOBAL _game_phase_print
191   0000              	GLOBAL _game_loop
192   0000              	GLOBAL _game_score_osd
193   0000              	GLOBAL _game_bonus_clock
194   0000              	GLOBAL _game_bonus_summary
195   0000              	GLOBAL _game_bonus_summary_player
196   0000              	GLOBAL _game_kill_all_sprites
197   0000              	GLOBAL _game_check_maze
198   0000              	GLOBAL _game_enemy_add
199   0000              	GLOBAL _game_enemy_quota
200   0000              	GLOBAL _game_enemy_rnd
201   0000              	GLOBAL _game_enemy_add1
202   0000              	GLOBAL _game_enemy_add_get_index
203   0000              	GLOBAL _game_freeze
204   0000              	GLOBAL _game_unfreeze_all
205   0000              	GLOBAL _game_freeze_all
206   0000              	GLOBAL _game_print_score
207   0000              	GLOBAL _game_paint_attrib
208   0000              	GLOBAL _game_paint_attrib_lin
209   0000              	GLOBAL _game_paint_attrib_lin_h
210   0000              	GLOBAL _game_menu_config
211   0000              	GLOBAL _game_joystick_change
212   0000              	GLOBAL _game_joystick_set_menu
213   0000              	GLOBAL _game_joystick_set
214   0000              	GLOBAL _game_menu
215   0000              	GLOBAL _game_menu_top_paint
216   0000              	GLOBAL _game_menu_paint
217   0000              	GLOBAL _game_menu_e
218   0000              	GLOBAL _game_menu_handle
219   0000              	GLOBAL _game_end
220   0000              	GLOBAL _game_hall_check
221   0000              	GLOBAL _game_hall_enter
222   0000              	GLOBAL _game_menu_back
223   0000              	GLOBAL _game_hall_enter_phs
224   0000              	GLOBAL _game_hall_print_p
225   0000              	GLOBAL _game_hall_edit_p
226   0000              	GLOBAL _game_hall_of_fame
227   0000              	GLOBAL _game_rotate_attrib
228   0000              	GLOBAL _game_colour_message
229   0000              	GLOBAL _game_check_time
230   0000              ;--------------------------------------------------------
231   0000              ; Externals used
232   0000              ;--------------------------------------------------------
233   0000              	GLOBAL _debug3
234   0000              	GLOBAL _debug2
235   0000              	GLOBAL _debug
236   0000              	GLOBAL _zx_print_str
237   0000              	GLOBAL _zx_print_int
238   0000              	GLOBAL _zx_print_chr
239   0000              	GLOBAL _zx_print_bonus_time
240   0000              	GLOBAL _zx_isr
241   0000              	GLOBAL _spr_draw_clear
242   0000              	GLOBAL _spr_water_splash_draw
243   0000              	GLOBAL _spr_water_splash_clear
244   0000              	GLOBAL _spr_draw_back
245   0000              	GLOBAL _spr_cortina_pipes
246   0000              	GLOBAL _spr_cortina_brick
247   0000              	GLOBAL _spr_brick_anim
248   0000              	GLOBAL _spr_back_fix4
249   0000              	GLOBAL _spr_back_fix3
250   0000              	GLOBAL _spr_back_fix2
251   0000              	GLOBAL _spr_back_fix1
252   0000              	GLOBAL _spr_back_fix
253   0000              	GLOBAL _spr_back_clr
254   0000              	GLOBAL _spr_draw_pow
255   0000              	GLOBAL _spr_tile
256   0000              	GLOBAL _spr_set_fall
257   0000              	GLOBAL _spr_destroy
258   0000              	GLOBAL _spr_check_over
259   0000              	GLOBAL _spr_tile_dir
260   0000              	GLOBAL _spr_anim_kill
261   0000              	GLOBAL _spr_anim_fall
262   0000              	GLOBAL _spr_killed
263   0000              	GLOBAL _spr_redraw
264   0000              	GLOBAL _spr_move_left
265   0000              	GLOBAL _spr_move_right
266   0000              	GLOBAL _spr_move_horizontal
267   0000              	GLOBAL _spr_move_down
268   0000              	GLOBAL _spr_move_up
269   0000              	GLOBAL _spr_chktime
270   0000              	GLOBAL _sound_hit_pow
271   0000              	GLOBAL _sound_hit_brick
272   0000              	GLOBAL _sound_hit_enemy
273   0000              	GLOBAL _sound_kill
274   0000              	GLOBAL _sound_enter_enemy
275   0000              	GLOBAL _sound_coin
276   0000              	GLOBAL _sound_jump
277   0000              	GLOBAL _sound_slide
278   0000              	GLOBAL _player_move_horizontal
279   0000              	GLOBAL _player_push_check
280   0000              	GLOBAL _player_push
281   0000              	GLOBAL _player_hit_brick_clear
282   0000              	GLOBAL _player_lost_life
283   0000              	GLOBAL _player_score_add
284   0000              	GLOBAL _player_coin
285   0000              	GLOBAL _player_hit_pow
286   0000              	GLOBAL _player_hit_brick
287   0000              	GLOBAL _player_move_input
288   0000              	GLOBAL _player_turn
289   0000              	GLOBAL _player_move
290   0000              	GLOBAL _player_restart
291   0000              	GLOBAL _player_kill
292   0000              	GLOBAL _player_check_input
293   0000              	GLOBAL _player_collition_check
294   0000              	GLOBAL _player_collition
295   0000              	GLOBAL _player_calc_slide
296   0000              	GLOBAL _player_init
297   0000              	GLOBAL _player_set2
298   0000              	GLOBAL _player_set1
299   0000              	GLOBAL _game_fill_row
300   0000              	GLOBAL _enemy_kill
301   0000              	GLOBAL _enemy_init
302   0000              	GLOBAL _enemy_walk
303   0000              	GLOBAL _enemy_upgrade
304   0000              	GLOBAL _enemy_evolve
305   0000              	GLOBAL _enemy_standard_hit
306   0000              	GLOBAL _enemy_trip
307   0000              	GLOBAL _enemy_fighterfly
308   0000              	GLOBAL _enemy_fireball_green
309   0000              	GLOBAL _enemy_fireball_red
310   0000              	GLOBAL _enemy_slipice
311   0000              	GLOBAL _enemy_standard
312   0000              	GLOBAL _enemy_turn
313   0000              	GLOBAL _enemy_flip_sidestepper
314   0000              	GLOBAL _enemy_flip
315   0000              	GLOBAL _enemy_flip_change_dir
316   0000              	GLOBAL _enemy_hit
317   0000              	GLOBAL _enemy_collition_check
318   0000              	GLOBAL _enemy_collition
319   0000              	GLOBAL _enemy_coin1
320   0000              	GLOBAL _ay_fx_play
321   0000              	GLOBAL _ay_midi_play
322   0000              	GLOBAL _ay_is_playing
323   0000              	GLOBAL _ay_reset
324   0000              	GLOBAL _in_mouse_kempston_wheel_delta
325   0000              	GLOBAL _in_mouse_kempston_wheel
326   0000              	GLOBAL _in_mouse_kempston_callee
327   0000              	GLOBAL _in_mouse_kempston
328   0000              	GLOBAL _in_mouse_kempston_setpos_callee
329   0000              	GLOBAL _in_mouse_kempston_setpos
330   0000              	GLOBAL _in_mouse_kempston_reset
331   0000              	GLOBAL _in_mouse_kempston_init
332   0000              	GLOBAL _in_mouse_amx_wheel_delta
333   0000              	GLOBAL _in_mouse_amx_wheel
334   0000              	GLOBAL _in_mouse_amx_callee
335   0000              	GLOBAL _in_mouse_amx
336   0000              	GLOBAL _in_mouse_amx_setpos_callee
337   0000              	GLOBAL _in_mouse_amx_setpos
338   0000              	GLOBAL _in_mouse_amx_reset
339   0000              	GLOBAL _in_mouse_amx_init_callee
340   0000              	GLOBAL _in_mouse_amx_init
341   0000              	GLOBAL _in_stick_sinclair2
342   0000              	GLOBAL _in_stick_sinclair1
343   0000              	GLOBAL _in_stick_kempston
344   0000              	GLOBAL _in_stick_fuller
345   0000              	GLOBAL _in_stick_cursor
346   0000              	GLOBAL _in_stick_keyboard_fastcall
347   0000              	GLOBAL _in_stick_keyboard
348   0000              	GLOBAL _in_wait_nokey
349   0000              	GLOBAL _in_wait_key
350   0000              	GLOBAL _in_test_key
351   0000              	GLOBAL _in_pause_fastcall
352   0000              	GLOBAL _in_pause
353   0000              	GLOBAL _in_key_scancode_fastcall
354   0000              	GLOBAL _in_key_scancode
355   0000              	GLOBAL _in_key_pressed_fastcall
356   0000              	GLOBAL _in_key_pressed
357   0000              	GLOBAL _in_inkey
358   0000              	GLOBAL _NIRVANAP_chars_fastcall
359   0000              	GLOBAL _NIRVANAP_chars
360   0000              	GLOBAL _NIRVANAP_wides_fastcall
361   0000              	GLOBAL _NIRVANAP_wides
362   0000              	GLOBAL _NIRVANAP_tiles_fastcall
363   0000              	GLOBAL _NIRVANAP_tiles
364   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawW_raw
366   0000              	GLOBAL _NIRVANAP_drawW_callee
367   0000              	GLOBAL _NIRVANAP_drawW
368   0000              	GLOBAL _NIRVANAP_spriteT_callee
369   0000              	GLOBAL _NIRVANAP_spriteT
370   0000              	GLOBAL _NIRVANAP_fillC_callee
371   0000              	GLOBAL _NIRVANAP_fillC
372   0000              	GLOBAL _NIRVANAP_paintC_callee
373   0000              	GLOBAL _NIRVANAP_paintC
374   0000              	GLOBAL _NIRVANAP_printC_callee
375   0000              	GLOBAL _NIRVANAP_printC
376   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
377   0000              	GLOBAL _NIRVANAP_fillT_raw
378   0000              	GLOBAL _NIRVANAP_fillT_callee
379   0000              	GLOBAL _NIRVANAP_fillT
380   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
381   0000              	GLOBAL _NIRVANAP_drawT_raw
382   0000              	GLOBAL _NIRVANAP_drawT_callee
383   0000              	GLOBAL _NIRVANAP_drawT
384   0000              	GLOBAL _NIRVANAP_stop
385   0000              	GLOBAL _NIRVANAP_start
386   0000              	GLOBAL _z80_otdr_callee
387   0000              	GLOBAL _z80_otdr
388   0000              	GLOBAL _z80_otir_callee
389   0000              	GLOBAL _z80_otir
390   0000              	GLOBAL _z80_outp_callee
391   0000              	GLOBAL _z80_outp
392   0000              	GLOBAL _z80_indr_callee
393   0000              	GLOBAL _z80_indr
394   0000              	GLOBAL _z80_inir_callee
395   0000              	GLOBAL _z80_inir
396   0000              	GLOBAL _z80_inp_fastcall
397   0000              	GLOBAL _z80_inp
398   0000              	GLOBAL _z80_set_int_state_fastcall
399   0000              	GLOBAL _z80_set_int_state
400   0000              	GLOBAL _z80_get_int_state
401   0000              	GLOBAL _z80_delay_tstate_fastcall
402   0000              	GLOBAL _z80_delay_tstate
403   0000              	GLOBAL _z80_delay_ms_fastcall
404   0000              	GLOBAL _z80_delay_ms
405   0000              	GLOBAL _im2_remove_generic_callback_callee
406   0000              	GLOBAL _im2_remove_generic_callback
407   0000              	GLOBAL _im2_prepend_generic_callback_callee
408   0000              	GLOBAL _im2_prepend_generic_callback
409   0000              	GLOBAL _im2_append_generic_callback_callee
410   0000              	GLOBAL _im2_append_generic_callback
411   0000              	GLOBAL _im2_create_generic_isr_8080_callee
412   0000              	GLOBAL _im2_create_generic_isr_8080
413   0000              	GLOBAL _im2_create_generic_isr_callee
414   0000              	GLOBAL _im2_create_generic_isr
415   0000              	GLOBAL _im2_install_isr_callee
416   0000              	GLOBAL _im2_install_isr
417   0000              	GLOBAL _im2_init_fastcall
418   0000              	GLOBAL _im2_init
419   0000              	GLOBAL _ffsll_callee
420   0000              	GLOBAL _ffsll
421   0000              	GLOBAL _strxfrm_callee
422   0000              	GLOBAL _strxfrm
423   0000              	GLOBAL _strupr_fastcall
424   0000              	GLOBAL _strupr
425   0000              	GLOBAL _strtok_r_callee
426   0000              	GLOBAL _strtok_r
427   0000              	GLOBAL _strtok_callee
428   0000              	GLOBAL _strtok
429   0000              	GLOBAL _strstrip_fastcall
430   0000              	GLOBAL _strstrip
431   0000              	GLOBAL _strstr_callee
432   0000              	GLOBAL _strstr
433   0000              	GLOBAL _strspn_callee
434   0000              	GLOBAL _strspn
435   0000              	GLOBAL _strsep_callee
436   0000              	GLOBAL _strsep
437   0000              	GLOBAL _strrstrip_fastcall
438   0000              	GLOBAL _strrstrip
439   0000              	GLOBAL _strrspn_callee
440   0000              	GLOBAL _strrspn
441   0000              	GLOBAL _strrev_fastcall
442   0000              	GLOBAL _strrev
443   0000              	GLOBAL _strrcspn_callee
444   0000              	GLOBAL _strrcspn
445   0000              	GLOBAL _strrchr_callee
446   0000              	GLOBAL _strrchr
447   0000              	GLOBAL _strpbrk_callee
448   0000              	GLOBAL _strpbrk
449   0000              	GLOBAL _strnlen_callee
450   0000              	GLOBAL _strnlen
451   0000              	GLOBAL _strnicmp_callee
452   0000              	GLOBAL _strnicmp
453   0000              	GLOBAL _strndup_callee
454   0000              	GLOBAL _strndup
455   0000              	GLOBAL _strncpy_callee
456   0000              	GLOBAL _strncpy
457   0000              	GLOBAL _strncmp_callee
458   0000              	GLOBAL _strncmp
459   0000              	GLOBAL _strnchr_callee
460   0000              	GLOBAL _strnchr
461   0000              	GLOBAL _strncat_callee
462   0000              	GLOBAL _strncat
463   0000              	GLOBAL _strncasecmp_callee
464   0000              	GLOBAL _strncasecmp
465   0000              	GLOBAL _strlwr_fastcall
466   0000              	GLOBAL _strlwr
467   0000              	GLOBAL _strlen_fastcall
468   0000              	GLOBAL _strlen
469   0000              	GLOBAL _strlcpy_callee
470   0000              	GLOBAL _strlcpy
471   0000              	GLOBAL _strlcat_callee
472   0000              	GLOBAL _strlcat
473   0000              	GLOBAL _stricmp_callee
474   0000              	GLOBAL _stricmp
475   0000              	GLOBAL _strerror_fastcall
476   0000              	GLOBAL _strerror
477   0000              	GLOBAL _strdup_fastcall
478   0000              	GLOBAL _strdup
479   0000              	GLOBAL _strcspn_callee
480   0000              	GLOBAL _strcspn
481   0000              	GLOBAL _strcpy_callee
482   0000              	GLOBAL _strcpy
483   0000              	GLOBAL _strcoll_callee
484   0000              	GLOBAL _strcoll
485   0000              	GLOBAL _strcmp_callee
486   0000              	GLOBAL _strcmp
487   0000              	GLOBAL _strchrnul_callee
488   0000              	GLOBAL _strchrnul
489   0000              	GLOBAL _strchr_callee
490   0000              	GLOBAL _strchr
491   0000              	GLOBAL _strcat_callee
492   0000              	GLOBAL _strcat
493   0000              	GLOBAL _strcasecmp_callee
494   0000              	GLOBAL _strcasecmp
495   0000              	GLOBAL _stpncpy_callee
496   0000              	GLOBAL _stpncpy
497   0000              	GLOBAL _stpcpy_callee
498   0000              	GLOBAL _stpcpy
499   0000              	GLOBAL _memswap_callee
500   0000              	GLOBAL _memswap
501   0000              	GLOBAL _memset_callee
502   0000              	GLOBAL _memset
503   0000              	GLOBAL _memrchr_callee
504   0000              	GLOBAL _memrchr
505   0000              	GLOBAL _memmove_callee
506   0000              	GLOBAL _memmove
507   0000              	GLOBAL _memmem_callee
508   0000              	GLOBAL _memmem
509   0000              	GLOBAL _memcpy_callee
510   0000              	GLOBAL _memcpy
511   0000              	GLOBAL _memcmp_callee
512   0000              	GLOBAL _memcmp
513   0000              	GLOBAL _memchr_callee
514   0000              	GLOBAL _memchr
515   0000              	GLOBAL _memccpy_callee
516   0000              	GLOBAL _memccpy
517   0000              	GLOBAL _ffsl_fastcall
518   0000              	GLOBAL _ffsl
519   0000              	GLOBAL _ffs_fastcall
520   0000              	GLOBAL _ffs
521   0000              	GLOBAL __strrstrip__fastcall
522   0000              	GLOBAL __strrstrip_
523   0000              	GLOBAL __memupr__callee
524   0000              	GLOBAL __memupr_
525   0000              	GLOBAL __memstrcpy__callee
526   0000              	GLOBAL __memstrcpy_
527   0000              	GLOBAL __memlwr__callee
528   0000              	GLOBAL __memlwr_
529   0000              	GLOBAL _rawmemchr_callee
530   0000              	GLOBAL _rawmemchr
531   0000              	GLOBAL _strnset_callee
532   0000              	GLOBAL _strnset
533   0000              	GLOBAL _strset_callee
534   0000              	GLOBAL _strset
535   0000              	GLOBAL _rindex_callee
536   0000              	GLOBAL _rindex
537   0000              	GLOBAL _index_callee
538   0000              	GLOBAL _index
539   0000              	GLOBAL _bzero_callee
540   0000              	GLOBAL _bzero
541   0000              	GLOBAL _bcopy_callee
542   0000              	GLOBAL _bcopy
543   0000              	GLOBAL _bcmp_callee
544   0000              	GLOBAL _bcmp
545   0000              	GLOBAL _ulltoa_callee
546   0000              	GLOBAL _ulltoa
547   0000              	GLOBAL _strtoull_callee
548   0000              	GLOBAL _strtoull
549   0000              	GLOBAL _strtoll_callee
550   0000              	GLOBAL _strtoll
551   0000              	GLOBAL _lltoa_callee
552   0000              	GLOBAL _lltoa
553   0000              	GLOBAL _llabs_callee
554   0000              	GLOBAL _llabs
555   0000              	GLOBAL __lldivu__callee
556   0000              	GLOBAL __lldivu_
557   0000              	GLOBAL __lldiv__callee
558   0000              	GLOBAL __lldiv_
559   0000              	GLOBAL _atoll_callee
560   0000              	GLOBAL _atoll
561   0000              	GLOBAL _realloc_unlocked_callee
562   0000              	GLOBAL _realloc_unlocked
563   0000              	GLOBAL _malloc_unlocked_fastcall
564   0000              	GLOBAL _malloc_unlocked
565   0000              	GLOBAL _free_unlocked_fastcall
566   0000              	GLOBAL _free_unlocked
567   0000              	GLOBAL _calloc_unlocked_callee
568   0000              	GLOBAL _calloc_unlocked
569   0000              	GLOBAL _aligned_alloc_unlocked_callee
570   0000              	GLOBAL _aligned_alloc_unlocked
571   0000              	GLOBAL _realloc_callee
572   0000              	GLOBAL _realloc
573   0000              	GLOBAL _malloc_fastcall
574   0000              	GLOBAL _malloc
575   0000              	GLOBAL _free_fastcall
576   0000              	GLOBAL _free
577   0000              	GLOBAL _calloc_callee
578   0000              	GLOBAL _calloc
579   0000              	GLOBAL _aligned_alloc_callee
580   0000              	GLOBAL _aligned_alloc
581   0000              	GLOBAL _utoa_callee
582   0000              	GLOBAL _utoa
583   0000              	GLOBAL _ultoa_callee
584   0000              	GLOBAL _ultoa
585   0000              	GLOBAL _system_fastcall
586   0000              	GLOBAL _system
587   0000              	GLOBAL _strtoul_callee
588   0000              	GLOBAL _strtoul
589   0000              	GLOBAL _strtol_callee
590   0000              	GLOBAL _strtol
591   0000              	GLOBAL _strtof_callee
592   0000              	GLOBAL _strtof
593   0000              	GLOBAL _strtod_callee
594   0000              	GLOBAL _strtod
595   0000              	GLOBAL _srand_fastcall
596   0000              	GLOBAL _srand
597   0000              	GLOBAL _rand
598   0000              	GLOBAL _quick_exit_fastcall
599   0000              	GLOBAL _quick_exit
600   0000              	GLOBAL _qsort_callee
601   0000              	GLOBAL _qsort
602   0000              	GLOBAL _ltoa_callee
603   0000              	GLOBAL _ltoa
604   0000              	GLOBAL _labs_fastcall
605   0000              	GLOBAL _labs
606   0000              	GLOBAL _itoa_callee
607   0000              	GLOBAL _itoa
608   0000              	GLOBAL _ftoh_callee
609   0000              	GLOBAL _ftoh
610   0000              	GLOBAL _ftog_callee
611   0000              	GLOBAL _ftog
612   0000              	GLOBAL _ftoe_callee
613   0000              	GLOBAL _ftoe
614   0000              	GLOBAL _ftoa_callee
615   0000              	GLOBAL _ftoa
616   0000              	GLOBAL _exit_fastcall
617   0000              	GLOBAL _exit
618   0000              	GLOBAL _dtoh_callee
619   0000              	GLOBAL _dtoh
620   0000              	GLOBAL _dtog_callee
621   0000              	GLOBAL _dtog
622   0000              	GLOBAL _dtoe_callee
623   0000              	GLOBAL _dtoe
624   0000              	GLOBAL _dtoa_callee
625   0000              	GLOBAL _dtoa
626   0000              	GLOBAL _bsearch_callee
627   0000              	GLOBAL _bsearch
628   0000              	GLOBAL _atol_fastcall
629   0000              	GLOBAL _atol
630   0000              	GLOBAL _atoi_fastcall
631   0000              	GLOBAL _atoi
632   0000              	GLOBAL _atof_fastcall
633   0000              	GLOBAL _atof
634   0000              	GLOBAL _atexit_fastcall
635   0000              	GLOBAL _atexit
636   0000              	GLOBAL _at_quick_exit_fastcall
637   0000              	GLOBAL _at_quick_exit
638   0000              	GLOBAL _abs_fastcall
639   0000              	GLOBAL _abs
640   0000              	GLOBAL _abort
641   0000              	GLOBAL __strtou__callee
642   0000              	GLOBAL __strtou_
643   0000              	GLOBAL __strtoi__callee
644   0000              	GLOBAL __strtoi_
645   0000              	GLOBAL __random_uniform_xor_8__fastcall
646   0000              	GLOBAL __random_uniform_xor_8_
647   0000              	GLOBAL __random_uniform_xor_32__fastcall
648   0000              	GLOBAL __random_uniform_xor_32_
649   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
650   0000              	GLOBAL __random_uniform_cmwc_8_
651   0000              	GLOBAL __shellsort__callee
652   0000              	GLOBAL __shellsort_
653   0000              	GLOBAL __quicksort__callee
654   0000              	GLOBAL __quicksort_
655   0000              	GLOBAL __insertion_sort__callee
656   0000              	GLOBAL __insertion_sort_
657   0000              	GLOBAL __ldivu__callee
658   0000              	GLOBAL __ldivu_
659   0000              	GLOBAL __ldiv__callee
660   0000              	GLOBAL __ldiv_
661   0000              	GLOBAL __divu__callee
662   0000              	GLOBAL __divu_
663   0000              	GLOBAL __div__callee
664   0000              	GLOBAL __div_
665   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
666   0000              	GLOBAL _intrinsic_swap_word_32
667   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
668   0000              	GLOBAL _intrinsic_swap_endian_32
669   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
670   0000              	GLOBAL _intrinsic_swap_endian_16
671   0000              	GLOBAL _intrinsic_return_de
672   0000              	GLOBAL _intrinsic_return_bc
673   0000              	GLOBAL _intrinsic_exx
674   0000              	GLOBAL _intrinsic_ex_de_hl
675   0000              	GLOBAL _intrinsic_pop_iy
676   0000              	GLOBAL _intrinsic_pop_ix
677   0000              	GLOBAL _intrinsic_pop_hl
678   0000              	GLOBAL _intrinsic_pop_de
679   0000              	GLOBAL _intrinsic_pop_bc
680   0000              	GLOBAL _intrinsic_pop_af
681   0000              	GLOBAL _intrinsic_push_iy
682   0000              	GLOBAL _intrinsic_push_ix
683   0000              	GLOBAL _intrinsic_push_hl
684   0000              	GLOBAL _intrinsic_push_de
685   0000              	GLOBAL _intrinsic_push_bc
686   0000              	GLOBAL _intrinsic_push_af
687   0000              	GLOBAL _intrinsic_nop
688   0000              	GLOBAL _intrinsic_im_2
689   0000              	GLOBAL _intrinsic_im_1
690   0000              	GLOBAL _intrinsic_im_0
691   0000              	GLOBAL _intrinsic_retn
692   0000              	GLOBAL _intrinsic_reti
693   0000              	GLOBAL _intrinsic_halt
694   0000              	GLOBAL _intrinsic_ei
695   0000              	GLOBAL _intrinsic_di
696   0000              	GLOBAL _intrinsic_stub
697   0000              	GLOBAL _zx_pattern_fill_callee
698   0000              	GLOBAL _zx_pattern_fill
699   0000              	GLOBAL _zx_saddrpup_fastcall
700   0000              	GLOBAL _zx_saddrpup
701   0000              	GLOBAL _zx_saddrpright_callee
702   0000              	GLOBAL _zx_saddrpright
703   0000              	GLOBAL _zx_saddrpleft_callee
704   0000              	GLOBAL _zx_saddrpleft
705   0000              	GLOBAL _zx_saddrpdown_fastcall
706   0000              	GLOBAL _zx_saddrpdown
707   0000              	GLOBAL _zx_saddrcup_fastcall
708   0000              	GLOBAL _zx_saddrcup
709   0000              	GLOBAL _zx_saddrcright_fastcall
710   0000              	GLOBAL _zx_saddrcright
711   0000              	GLOBAL _zx_saddrcleft_fastcall
712   0000              	GLOBAL _zx_saddrcleft
713   0000              	GLOBAL _zx_saddrcdown_fastcall
714   0000              	GLOBAL _zx_saddrcdown
715   0000              	GLOBAL _zx_saddr2py_fastcall
716   0000              	GLOBAL _zx_saddr2py
717   0000              	GLOBAL _zx_saddr2px_fastcall
718   0000              	GLOBAL _zx_saddr2px
719   0000              	GLOBAL _zx_saddr2cy_fastcall
720   0000              	GLOBAL _zx_saddr2cy
721   0000              	GLOBAL _zx_saddr2cx_fastcall
722   0000              	GLOBAL _zx_saddr2cx
723   0000              	GLOBAL _zx_saddr2aaddr_fastcall
724   0000              	GLOBAL _zx_saddr2aaddr
725   0000              	GLOBAL _zx_py2saddr_fastcall
726   0000              	GLOBAL _zx_py2saddr
727   0000              	GLOBAL _zx_py2aaddr_fastcall
728   0000              	GLOBAL _zx_py2aaddr
729   0000              	GLOBAL _zx_pxy2saddr_callee
730   0000              	GLOBAL _zx_pxy2saddr
731   0000              	GLOBAL _zx_pxy2aaddr_callee
732   0000              	GLOBAL _zx_pxy2aaddr
733   0000              	GLOBAL _zx_px2bitmask_fastcall
734   0000              	GLOBAL _zx_px2bitmask
735   0000              	GLOBAL _zx_cyx2saddr_callee
736   0000              	GLOBAL _zx_cyx2saddr
737   0000              	GLOBAL _zx_cyx2aaddr_callee
738   0000              	GLOBAL _zx_cyx2aaddr
739   0000              	GLOBAL _zx_cy2saddr_fastcall
740   0000              	GLOBAL _zx_cy2saddr
741   0000              	GLOBAL _zx_cy2aaddr_fastcall
742   0000              	GLOBAL _zx_cy2aaddr
743   0000              	GLOBAL _zx_bitmask2px_fastcall
744   0000              	GLOBAL _zx_bitmask2px
745   0000              	GLOBAL _zx_aaddrcup_fastcall
746   0000              	GLOBAL _zx_aaddrcup
747   0000              	GLOBAL _zx_aaddrcright_fastcall
748   0000              	GLOBAL _zx_aaddrcright
749   0000              	GLOBAL _zx_aaddrcleft_fastcall
750   0000              	GLOBAL _zx_aaddrcleft
751   0000              	GLOBAL _zx_aaddrcdown_fastcall
752   0000              	GLOBAL _zx_aaddrcdown
753   0000              	GLOBAL _zx_aaddr2saddr_fastcall
754   0000              	GLOBAL _zx_aaddr2saddr
755   0000              	GLOBAL _zx_aaddr2py_fastcall
756   0000              	GLOBAL _zx_aaddr2py
757   0000              	GLOBAL _zx_aaddr2px_fastcall
758   0000              	GLOBAL _zx_aaddr2px
759   0000              	GLOBAL _zx_aaddr2cy_fastcall
760   0000              	GLOBAL _zx_aaddr2cy
761   0000              	GLOBAL _zx_aaddr2cx_fastcall
762   0000              	GLOBAL _zx_aaddr2cx
763   0000              	GLOBAL _zx_scroll_wc_up_callee
764   0000              	GLOBAL _zx_scroll_wc_up
765   0000              	GLOBAL _zx_scroll_up_callee
766   0000              	GLOBAL _zx_scroll_up
767   0000              	GLOBAL _zx_cls_wc_callee
768   0000              	GLOBAL _zx_cls_wc
769   0000              	GLOBAL _zx_cls_fastcall
770   0000              	GLOBAL _zx_cls
771   0000              	GLOBAL _zx_border_fastcall
772   0000              	GLOBAL _zx_border
773   0000              	GLOBAL _ay_effect_20
774   0000              	GLOBAL _ay_effect_19
775   0000              	GLOBAL _ay_effect_18
776   0000              	GLOBAL _ay_effect_17
777   0000              	GLOBAL _ay_effect_16
778   0000              	GLOBAL _ay_effect_15
779   0000              	GLOBAL _ay_effect_14
780   0000              	GLOBAL _ay_effect_13
781   0000              	GLOBAL _ay_effect_12
782   0000              	GLOBAL _ay_effect_11
783   0000              	GLOBAL _ay_effect_10
784   0000              	GLOBAL _ay_effect_09
785   0000              	GLOBAL _ay_effect_08
786   0000              	GLOBAL _ay_effect_07
787   0000              	GLOBAL _ay_effect_06
788   0000              	GLOBAL _ay_effect_05
789   0000              	GLOBAL _ay_effect_04
790   0000              	GLOBAL _ay_effect_03
791   0000              	GLOBAL _ay_effect_02
792   0000              	GLOBAL _ay_effect_01
793   0000              	GLOBAL _pb_midi_phase_1
794   0000              	GLOBAL _pb_midi_title
795   0000              	GLOBAL _initials
796   0000              	GLOBAL _hof
797   0000              	GLOBAL _score_osd_tile
798   0000              	GLOBAL _score_osd_time
799   0000              	GLOBAL _score_osd_col
800   0000              	GLOBAL _score_osd_lin
801   0000              	GLOBAL _phase_bonus_total
802   0000              	GLOBAL _phase_angry
803   0000              	GLOBAL _phase_curr
804   0000              	GLOBAL _phase_end
805   0000              	GLOBAL _phase_coins
806   0000              	GLOBAL _phase_pop
807   0000              	GLOBAL _phase_tot
808   0000              	GLOBAL _phase_left
809   0000              	GLOBAL _phase_quota
810   0000              	GLOBAL _phases
811   0000              	GLOBAL _spr_idx
812   0000              	GLOBAL _lvl_1
813   0000              	GLOBAL _sprite_speed_alt
814   0000              	GLOBAL _sprite_speed
815   0000              	GLOBAL _screen_ink
816   0000              	GLOBAL _screen_paper
817   0000              	GLOBAL _game_menu_sel
818   0000              	GLOBAL _game_type
819   0000              	GLOBAL _game_bonus
820   0000              	GLOBAL _spr_water_time
821   0000              	GLOBAL _spr_water_clear
822   0000              	GLOBAL _game_time_fireball_start
823   0000              	GLOBAL _game_time_flipped
824   0000              	GLOBAL _game_score_top
825   0000              	GLOBAL _game_lives_update
826   0000              	GLOBAL _game_lives
827   0000              	GLOBAL _game_over
828   0000              	GLOBAL _game_sound
829   0000              	GLOBAL _game_two_player
830   0000              	GLOBAL _game_brick_tile
831   0000              	GLOBAL _game_pow
832   0000              	GLOBAL _spr_count
833   0000              	GLOBAL _frame_loop_count
834   0000              	GLOBAL _col_time
835   0000              	GLOBAL _frame_time
836   0000              	GLOBAL _entry_time
837   0000              	GLOBAL _curr_time
838   0000              	GLOBAL _s_state
839   0000              	GLOBAL _attrib_hl
840   0000              	GLOBAL _attrib
841   0000              	GLOBAL _zx_val_asm
842   0000              	GLOBAL _enemies
843   0000              	GLOBAL _tmp_ui
844   0000              	GLOBAL _tmp_sc
845   0000              	GLOBAL _tmp_uc
846   0000              	GLOBAL _tmp1
847   0000              	GLOBAL _tmp0
848   0000              	GLOBAL _tmp
849   0000              	GLOBAL _index_d
850   0000              	GLOBAL _index3
851   0000              	GLOBAL _index2
852   0000              	GLOBAL _index1
853   0000              	GLOBAL _loop_count
854   0000              	GLOBAL _s_col1
855   0000              	GLOBAL _s_col0
856   0000              	GLOBAL _s_lin1
857   0000              	GLOBAL _s_lin0
858   0000              	GLOBAL _s_tile1
859   0000              	GLOBAL _s_tile0
860   0000              	GLOBAL _hit_count
861   0000              	GLOBAL _tile_offset_other_player
862   0000              	GLOBAL _tile_offset
863   0000              	GLOBAL _index_player
864   0000              	GLOBAL _sprite_other_player
865   0000              	GLOBAL _sprite
866   0000              	GLOBAL _player_joy
867   0000              	GLOBAL _player_next_extra
868   0000              	GLOBAL _player_score
869   0000              	GLOBAL _last_time
870   0000              	GLOBAL _sliding
871   0000              	GLOBAL _spr_timer_c
872   0000              	GLOBAL _spr_timer
873   0000              	GLOBAL _jump_lin
874   0000              	GLOBAL _hit_col
875   0000              	GLOBAL _hit_lin
876   0000              	GLOBAL _colint
877   0000              	GLOBAL _col
878   0000              	GLOBAL _lin
879   0000              	GLOBAL _tile
880   0000              	GLOBAL _state_a
881   0000              	GLOBAL _state
882   0000              	GLOBAL _class
883   0000              	GLOBAL _tbuffer
884   0000              	GLOBAL _dirs
885   0000              	GLOBAL _k2
886   0000              	GLOBAL _k1
887   0000              	GLOBAL _joyfunc2
888   0000              	GLOBAL _joyfunc1
889   0000              	GLOBAL _joynames
890   0000              	GLOBAL _btiles
891   0000              	GLOBAL _spec128
892   0000              	GLOBAL _control_method
893   0000              	GLOBAL _hall_valids
894   0000              ;--------------------------------------------------------
895   0000              ; special function registers
896   0000              ;--------------------------------------------------------
897   0000              ;--------------------------------------------------------
898   0000              ; ram data
899   0000              ;--------------------------------------------------------
900   0000              	SECTION bss_compiler
901   0000              defc _NIRVANAP_isr	=	0xf5d2
902   0000              ;--------------------------------------------------------
903   0000              ; ram data
904   0000              ;--------------------------------------------------------
905   0000              
906   0000              IF 0
907   0000              
908   0000              ; .area _INITIALIZED removed by z88dk
909   0000              
910   0000              
911   0000              ENDIF
912   0000              
913   0000              ;--------------------------------------------------------
914   0000              ; absolute external ram data
915   0000              ;--------------------------------------------------------
916   0000              	SECTION IGNORE
917   0000              ;--------------------------------------------------------
918   0000              ; global & static initialisations
919   0000              ;--------------------------------------------------------
920   0000              	SECTION code_crt_init
921   0000              ;--------------------------------------------------------
922   0000              ; Home
923   0000              ;--------------------------------------------------------
924   0000              	SECTION IGNORE
925   0000              ;--------------------------------------------------------
926   0000              ; code
927   0000              ;--------------------------------------------------------
928   0000              	SECTION code_compiler
929   0000              ;	---------------------------------
930   0000              ; Function game_calc_index
931   0000              ; ---------------------------------
932   0000              _game_calc_index:
933   0000  CD 00 00    	call	___sdcc_enter_ix
934   0003  DD 4E 05    	ld	c,(ix+5)
935   0006  06 00       	ld	b,0x00
936   0008  DD 7E 04    	ld	a,(ix+4)
937   000B  0F          	rrca
938   000C  0F          	rrca
939   000D  0F          	rrca
940   000E  E6 1F       	and	a,0x1f
941   0010  6F          	ld	l,a
942   0011  26 00       	ld	h,0x00
943   0013  29          	add	hl, hl
944   0014  29          	add	hl, hl
945   0015  29          	add	hl, hl
946   0016  29          	add	hl, hl
947   0017  29          	add	hl, hl
948   0018  09          	add	hl,bc
949   0019  DD E1       	pop	ix
950   001B  C9          	ret
951   001C              ;	---------------------------------
952   001C              ; Function game_print_footer
953   001C              ; ---------------------------------
954   001C              _game_print_footer:
955   001C  21 B1 00    	ld	hl,___str_0
956   001F  E5          	push	hl
957   0020  21 16 01    	ld	hl,0x0116
958   0023  E5          	push	hl
959   0024  CD 00 00    	call	_zx_print_str
960   0027  21 B1 00    	ld	hl,___str_0
961   002A  E5          	push	hl
962   002B  21 16 1E    	ld	hl,0x1e16
963   002E  E5          	push	hl
964   002F  CD 00 00    	call	_zx_print_str
965   0032  21 B3 00    	ld	hl,___str_1
966   0035  E5          	push	hl
967   0036  21 17 01    	ld	hl,0x0117
968   0039  E5          	push	hl
969   003A  CD 00 00    	call	_zx_print_str
970   003D  21 B3 00    	ld	hl,___str_1
971   0040  E5          	push	hl
972   0041  21 17 1E    	ld	hl,0x1e17
973   0044  E5          	push	hl
974   0045  CD 00 00    	call	_zx_print_str
975   0048  3A 00 00    	ld	a,(_game_lives)
976   004B  B7          	or	a, a
977   004C  28 20       	jr	Z,l_game_print_footer_00102
978   004E  21 00 00    	ld	hl,_screen_ink
979   0051  36 02       	ld	(hl),0x02
980   0053  21 B9 00    	ld	hl,___str_2
981   0056  E5          	push	hl
982   0057  21 16 01    	ld	hl,0x0116
983   005A  E5          	push	hl
984   005B  CD 00 00    	call	_zx_print_str
985   005E  21 00 00    	ld	hl,_screen_ink
986   0061  36 06       	ld	(hl),0x06
987   0063  21 BB 00    	ld	hl,___str_3
988   0066  E5          	push	hl
989   0067  21 17 01    	ld	hl,0x0117
990   006A  E5          	push	hl
991   006B  CD 00 00    	call	_zx_print_str
992   006E              l_game_print_footer_00102:
993   006E  3A 01 00    	ld	a, (_game_lives + 1)
994   0071  B7          	or	a, a
995   0072  28 20       	jr	Z,l_game_print_footer_00104
996   0074  21 00 00    	ld	hl,_screen_ink
997   0077  36 07       	ld	(hl),0x07
998   0079  21 BD 00    	ld	hl,___str_4
999   007C  E5          	push	hl
1000  007D  21 16 1E    	ld	hl,0x1e16
1001  0080  E5          	push	hl
1002  0081  CD 00 00    	call	_zx_print_str
1003  0084  21 00 00    	ld	hl,_screen_ink
1004  0087  36 06       	ld	(hl),0x06
1005  0089  21 BF 00    	ld	hl,___str_5
1006  008C  E5          	push	hl
1007  008D  21 17 1E    	ld	hl,0x1e17
1008  0090  E5          	push	hl
1009  0091  CD 00 00    	call	_zx_print_str
1010  0094              l_game_print_footer_00104:
1011  0094  CD 07 01    	call	_game_print_lives
1012  0097  21 C1 00    	ld	hl,___str_6
1013  009A  E5          	push	hl
1014  009B  21 17 0B    	ld	hl,0x0b17
1015  009E  E5          	push	hl
1016  009F  CD 00 00    	call	_zx_print_str
1017  00A2  21 00 00    	ld	hl,_phase_curr
1018  00A5  46          	ld	b,(hl)
1019  00A6  04          	inc	b
1020  00A7  C5          	push	bc
1021  00A8  33          	inc	sp
1022  00A9  21 17 12    	ld	hl,0x1217
1023  00AC  E5          	push	hl
1024  00AD  CD 00 00    	call	_zx_print_chr
1025  00B0  C9          	ret
1026  00B1              ___str_0:
1027  00B1  20          	DEFM " "
1028  00B2  00          	DEFB 0x00
1029  00B3              ___str_1:
1030  00B3  20 20 20 20 20 
                        	DEFM "     "
1031  00B8  00          	DEFB 0x00
1032  00B9              ___str_2:
1033  00B9  3C          	DEFM "<"
1034  00BA  00          	DEFB 0x00
1035  00BB              ___str_3:
1036  00BB  5C          	DEFB 0x5c
1037  00BC  00          	DEFB 0x00
1038  00BD              ___str_4:
1039  00BD  3E          	DEFM ">"
1040  00BE  00          	DEFB 0x00
1041  00BF              ___str_5:
1042  00BF  5E          	DEFM "^"
1043  00C0  00          	DEFB 0x00
1044  00C1              ___str_6:
1045  00C1  50 48 41 53 45 
                        	DEFM "PHASE"
1046  00C6  00          	DEFB 0x00
1047  00C7              ;	---------------------------------
1048  00C7              ; Function game_phase_print_score_back
1049  00C7              ; ---------------------------------
1050  00C7              _game_phase_print_score_back:
1051  00C7  21 00 00    	ld	hl,_screen_ink
1052  00CA  36 02       	ld	(hl),0x02
1053  00CC  21 FD 00    	ld	hl,___str_7
1054  00CF  E5          	push	hl
1055  00D0  21 00 0B    	ld	hl,0x0b00
1056  00D3  E5          	push	hl
1057  00D4  CD 00 00    	call	_zx_print_str
1058  00D7  21 00 00    	ld	hl,_screen_ink
1059  00DA  36 01       	ld	(hl),0x01
1060  00DC  21 01 01    	ld	hl,___str_8
1061  00DF  E5          	push	hl
1062  00E0  21 00 01    	ld	hl,0x0100
1063  00E3  E5          	push	hl
1064  00E4  CD 00 00    	call	_zx_print_str
1065  00E7  3A 00 00    	ld	a,(_game_two_player)
1066  00EA  B7          	or	a, a
1067  00EB  C8          	ret	Z
1068  00EC  21 00 00    	ld	hl,_screen_ink
1069  00EF  36 04       	ld	(hl),0x04
1070  00F1  21 04 01    	ld	hl,___str_9
1071  00F4  E5          	push	hl
1072  00F5  21 00 16    	ld	hl,0x1600
1073  00F8  E5          	push	hl
1074  00F9  CD 00 00    	call	_zx_print_str
1075  00FC  C9          	ret
1076  00FD              ___str_7:
1077  00FD  24 25 7C    	DEFM "$%|"
1078  0100  00          	DEFB 0x00
1079  0101              ___str_8:
1080  0101  5B 7C       	DEFM "[|"
1081  0103  00          	DEFB 0x00
1082  0104              ___str_9:
1083  0104  5D 7C       	DEFM "]|"
1084  0106  00          	DEFB 0x00
1085  0107              ;	---------------------------------
1086  0107              ; Function game_print_lives
1087  0107              ; ---------------------------------
1088  0107              _game_print_lives:
1089  0107  21 00 00    	ld	hl,_screen_ink
1090  010A  36 07       	ld	(hl),0x07
1091  010C  3A 00 00    	ld	a,(_game_lives)
1092  010F  C6 FF       	add	a,0xff
1093  0111  21 00 00    	ld	hl,_tmp
1094  0114  77          	ld	(hl),a
1095  0115  D6 FF       	sub	a,0xff
1096  0117  30 0A       	jr	NC,l_game_print_lives_00102
1097  0119  7E          	ld	a,(hl)
1098  011A  F5          	push	af
1099  011B  33          	inc	sp
1100  011C  21 17 03    	ld	hl,0x0317
1101  011F  E5          	push	hl
1102  0120  CD 00 00    	call	_zx_print_chr
1103  0123              l_game_print_lives_00102:
1104  0123  3A 01 00    	ld	a, (_game_lives + 1)
1105  0126  C6 FF       	add	a,0xff
1106  0128  21 00 00    	ld	hl,_tmp
1107  012B  77          	ld	(hl),a
1108  012C  D6 FF       	sub	a,0xff
1109  012E  D0          	ret	NC
1110  012F  7E          	ld	a,(hl)
1111  0130  F5          	push	af
1112  0131  33          	inc	sp
1113  0132  21 17 1A    	ld	hl,0x1a17
1114  0135  E5          	push	hl
1115  0136  CD 00 00    	call	_zx_print_chr
1116  0139  C9          	ret
1117  013A              ;	---------------------------------
1118  013A              ; Function game_tick
1119  013A              ; ---------------------------------
1120  013A              _game_tick:
1121  013A  21 00 00    	ld	hl,_curr_time
1122  013D  34          	inc	(hl)
1123  013E  C2 00 00    	jp	NZ,_zx_isr
1124  0141  23          	inc	hl
1125  0142  34          	inc	(hl)
1126  0143  C3 00 00    	jp  _zx_isr
1127  0146              ;	---------------------------------
1128  0146              ; Function game_start_timer
1129  0146              ; ---------------------------------
1130  0146              _game_start_timer:
1131  0146  21 D2 F5    	ld	hl,_NIRVANAP_isr
1132  0149  36 CD       	ld	(hl),0xcd
1133  014B  21 3A 01    	ld	hl,_game_tick
1134  014E  22 D3 F5    	ld	(_NIRVANAP_isr+1),hl
1135  0151  C9          	ret
1136  0152              ;	---------------------------------
1137  0152              ; Function game_phase_calc
1138  0152              ; ---------------------------------
1139  0152              _game_phase_calc:
1140  0152  3A 00 00    	ld	a,(_phase_curr)
1141  0155  87          	add	a, a
1142  0156  87          	add	a, a
1143  0157  21 00 00    	ld	hl,_tmp_uc
1144  015A  77          	ld	(hl),a
1145  015B  01 00 00    	ld	bc,_phases+0
1146  015E  5E          	ld	e,(hl)
1147  015F  16 00       	ld	d,0x00
1148  0161  69          	ld	l, c
1149  0162  60          	ld	h, b
1150  0163  19          	add	hl,de
1151  0164  7E          	ld	a,(hl)
1152  0165  32 00 00    	ld	(_phase_quota),a
1153  0168  2A 00 00    	ld	hl,(_tmp_uc)
1154  016B  26 00       	ld	h,0x00
1155  016D  23          	inc	hl
1156  016E  09          	add	hl,bc
1157  016F  7E          	ld	a,(hl)
1158  0170  32 01 00    	ld	((_phase_quota + 0x0001)),a
1159  0173  2A 00 00    	ld	hl,(_tmp_uc)
1160  0176  26 00       	ld	h,0x00
1161  0178  23          	inc	hl
1162  0179  23          	inc	hl
1163  017A  09          	add	hl,bc
1164  017B  7E          	ld	a,(hl)
1165  017C  32 02 00    	ld	((_phase_quota + 0x0002)),a
1166  017F  2A 00 00    	ld	hl,(_tmp_uc)
1167  0182  26 00       	ld	h,0x00
1168  0184  23          	inc	hl
1169  0185  23          	inc	hl
1170  0186  23          	inc	hl
1171  0187  09          	add	hl,bc
1172  0188  7E          	ld	a,(hl)
1173  0189  32 00 00    	ld	(_game_brick_tile),a
1174  018C  CD 14 0D    	call	_game_unfreeze_all
1175  018F  3A 00 00    	ld	a,(_game_brick_tile)
1176  0192  D6 8B       	sub	a,0x8b
1177  0194  20 03       	jr	NZ,l_game_phase_calc_00102
1178  0196  CD 3D 0D    	call	_game_freeze_all
1179  0199              l_game_phase_calc_00102:
1180  0199  3A 00 00    	ld	a,(_game_brick_tile)
1181  019C  4F          	ld	c,a
1182  019D  06 00       	ld	b,0x00
1183  019F  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1184  01A3  21 00 00    	ld	hl,_phase_quota
1185  01A6  4E          	ld	c,(hl)
1186  01A7  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1187  01AA  46          	ld	b,(hl)
1188  01AB  79          	ld	a,c
1189  01AC  80          	add	a, b
1190  01AD  4F          	ld	c,a
1191  01AE  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1192  01B1  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1193  01B3  09          	add	hl, bc
1194  01B4  C9          	ret
1195  01B5              ;	---------------------------------
1196  01B5              ; Function game_phase_init
1197  01B5              ; ---------------------------------
1198  01B5              _game_phase_init:
1199  01B5  21 00 00    	ld	hl,_phase_end
1200  01B8  36 00       	ld	(hl),0x00
1201  01BA  21 00 00    	ld	hl,_phase_angry
1202  01BD  36 00       	ld	(hl),0x00
1203  01BF  21 00 00    	ld	hl,_phase_coins
1204  01C2  36 00       	ld	(hl),0x00
1205  01C4  21 00 00    	ld	hl,_phase_pop
1206  01C7  36 00       	ld	(hl),0x00
1207  01C9  21 00 00    	ld	hl,_game_bonus
1208  01CC  36 00       	ld	(hl),0x00
1209  01CE  21 00 00    	ld	hl,0x0000
1210  01D1  22 00 00    	ld	(_entry_time),hl
1211  01D4  21 00 00    	ld	hl,0
1212  01D7  22 00 00    	ld	(_curr_time),hl
1213  01DA  21 00 00    	ld	hl,0x0000
1214  01DD  22 00 00    	ld	(_frame_time),hl
1215  01E0  21 FF FF    	ld	hl,0xffff
1216  01E3  22 00 00    	ld	(_score_osd_col),hl
1217  01E6  CD 00 00    	call	_spr_draw_clear
1218  01E9  CD 00 00    	call	_spr_cortina_pipes
1219  01EC  21 00 00    	ld	hl,0x0000
1220  01EF  CD 00 00    	call	_zx_cls_fastcall
1221  01F2  21 00 00    	ld	hl,_spr_count
1222  01F5  36 00       	ld	(hl),0x00
1223  01F7  3A 00 00    	ld	a,(_game_type)
1224  01FA  D6 02       	sub	a,0x02
1225  01FC  CA 88 02    	jp	Z,l_game_phase_init_00104
1226  01FF  CD 52 01    	call	_game_phase_calc
1227  0202  7D          	ld	a,l
1228  0203  32 00 00    	ld	(_phase_left),a
1229  0206  32 00 00    	ld	(_phase_tot),a
1230  0209  21 00 00    	ld	hl,_phase_left
1231  020C  7E          	ld	a,(hl)
1232  020D  B7          	or	a, a
1233  020E  C2 9D 02    	jp	NZ,l_game_phase_init_00105
1234  0211  01 00 00    	ld	bc,_phase_bonus_total+0
1235  0214  AF          	xor	a, a
1236  0215  02          	ld	(bc),a
1237  0216  03          	inc	bc
1238  0217  AF          	xor	a, a
1239  0218  02          	ld	(bc),a
1240  0219  36 06       	ld	(hl),0x06
1241  021B  21 00 00    	ld	hl,_game_bonus
1242  021E  36 01       	ld	(hl),0x01
1243  0220  21 0C 00    	ld	hl,0x000c
1244  0223  E5          	push	hl
1245  0224  21 90 08    	ld	hl,0x0890
1246  0227  E5          	push	hl
1247  0228  AF          	xor	a, a
1248  0229  F5          	push	af
1249  022A  33          	inc	sp
1250  022B  CD 00 00    	call	_enemy_init
1251  022E  F1          	pop	af
1252  022F  33          	inc	sp
1253  0230  21 0C 00    	ld	hl,0x000c
1254  0233  E3          	ex	(sp),hl
1255  0234  21 90 16    	ld	hl,0x1690
1256  0237  E5          	push	hl
1257  0238  3E 01       	ld	a,0x01
1258  023A  F5          	push	af
1259  023B  33          	inc	sp
1260  023C  CD 00 00    	call	_enemy_init
1261  023F  F1          	pop	af
1262  0240  33          	inc	sp
1263  0241  21 0C 00    	ld	hl,0x000c
1264  0244  E3          	ex	(sp),hl
1265  0245  21 50 06    	ld	hl,0x0650
1266  0248  E5          	push	hl
1267  0249  3E 02       	ld	a,0x02
1268  024B  F5          	push	af
1269  024C  33          	inc	sp
1270  024D  CD 00 00    	call	_enemy_init
1271  0250  F1          	pop	af
1272  0251  33          	inc	sp
1273  0252  21 0C 00    	ld	hl,0x000c
1274  0255  E3          	ex	(sp),hl
1275  0256  21 50 18    	ld	hl,0x1850
1276  0259  E5          	push	hl
1277  025A  3E 03       	ld	a,0x03
1278  025C  F5          	push	af
1279  025D  33          	inc	sp
1280  025E  CD 00 00    	call	_enemy_init
1281  0261  F1          	pop	af
1282  0262  33          	inc	sp
1283  0263  21 0C 00    	ld	hl,0x000c
1284  0266  E3          	ex	(sp),hl
1285  0267  21 10 05    	ld	hl,0x0510
1286  026A  E5          	push	hl
1287  026B  3E 04       	ld	a,0x04
1288  026D  F5          	push	af
1289  026E  33          	inc	sp
1290  026F  CD 00 00    	call	_enemy_init
1291  0272  F1          	pop	af
1292  0273  33          	inc	sp
1293  0274  21 0C 00    	ld	hl,0x000c
1294  0277  E3          	ex	(sp),hl
1295  0278  21 10 19    	ld	hl,0x1910
1296  027B  E5          	push	hl
1297  027C  3E 05       	ld	a,0x05
1298  027E  F5          	push	af
1299  027F  33          	inc	sp
1300  0280  CD 00 00    	call	_enemy_init
1301  0283  F1          	pop	af
1302  0284  F1          	pop	af
1303  0285  33          	inc	sp
1304  0286  18 15       	jr	l_game_phase_init_00105
1305  0288              l_game_phase_init_00104:
1306  0288  21 00 00    	ld	hl,_phase_left
1307  028B  36 FF       	ld	(hl),0xff
1308  028D  21 00 00    	ld	hl,_phase_curr
1309  0290  36 FF       	ld	(hl),0xff
1310  0292  21 00 00    	ld	hl,_game_brick_tile
1311  0295  36 84       	ld	(hl),0x84
1312  0297  21 84 00    	ld	hl,0x0084
1313  029A  22 24 00    	ld	(_spr_idx + 0x0024),hl
1314  029D              l_game_phase_init_00105:
1315  029D  CD 00 00    	call	_ay_reset
1316  02A0  3A 00 00    	ld	a,(_game_bonus)
1317  02A3  B7          	or	a, a
1318  02A4  20 06       	jr	NZ,l_game_phase_init_00107
1319  02A6  21 00 00    	ld	hl,_pb_midi_phase_1
1320  02A9  CD 00 00    	call	_ay_midi_play
1321  02AC              l_game_phase_init_00107:
1322  02AC  CD E6 02    	call	_game_print_header
1323  02AF  3E 0C       	ld	a,0x0c
1324  02B1  F5          	push	af
1325  02B2  33          	inc	sp
1326  02B3  CD F1 02    	call	_game_phase_print
1327  02B6  33          	inc	sp
1328  02B7  3A 00 00    	ld	a,(_game_lives)
1329  02BA  B7          	or	a, a
1330  02BB  28 0D       	jr	Z,l_game_phase_init_00109
1331  02BD  21 0A 03    	ld	hl,0x030a
1332  02C0  E5          	push	hl
1333  02C1  21 07 98    	ld	hl,0x9807
1334  02C4  E5          	push	hl
1335  02C5  CD 00 00    	call	_player_init
1336  02C8  F1          	pop	af
1337  02C9  F1          	pop	af
1338  02CA              l_game_phase_init_00109:
1339  02CA  3A 01 00    	ld	a, (_game_lives + 1)
1340  02CD  B7          	or	a, a
1341  02CE  28 0D       	jr	Z,l_game_phase_init_00111
1342  02D0  21 14 27    	ld	hl,0x2714
1343  02D3  E5          	push	hl
1344  02D4  21 06 98    	ld	hl,0x9806
1345  02D7  E5          	push	hl
1346  02D8  CD 00 00    	call	_player_init
1347  02DB  F1          	pop	af
1348  02DC  F1          	pop	af
1349  02DD              l_game_phase_init_00111:
1350  02DD  CD 00 00    	call	_spr_draw_back
1351  02E0  CD E6 02    	call	_game_print_header
1352  02E3  C3 1C 00    	jp  _game_print_footer
1353  02E6              ;	---------------------------------
1354  02E6              ; Function game_print_header
1355  02E6              ; ---------------------------------
1356  02E6              _game_print_header:
1357  02E6  CD C7 00    	call	_game_phase_print_score_back
1358  02E9  21 00 00    	ld	hl,_screen_ink
1359  02EC  36 07       	ld	(hl),0x07
1360  02EE  C3 66 0D    	jp  _game_print_score
1361  02F1              ;	---------------------------------
1362  02F1              ; Function game_phase_print
1363  02F1              ; ---------------------------------
1364  02F1              _game_phase_print:
1365  02F1  CD 00 00    	call	___sdcc_enter_ix
1366  02F4  21 68 03    	ld	hl,___str_10
1367  02F7  E5          	push	hl
1368  02F8  26 0B       	ld	h,0x0b
1369  02FA  DD 6E 04    	ld	l,(ix+4)
1370  02FD  E5          	push	hl
1371  02FE  CD 00 00    	call	_zx_print_str
1372  0301  3A 00 00    	ld	a,(_phase_curr)
1373  0304  D6 1F       	sub	a,0x1f
1374  0306  30 27       	jr	NC,l_game_phase_print_00108
1375  0308  3A 00 00    	ld	a,(_game_bonus)
1376  030B  B7          	or	a, a
1377  030C  20 12       	jr	NZ,l_game_phase_print_00102
1378  030E  21 00 00    	ld	hl,_phase_curr
1379  0311  46          	ld	b,(hl)
1380  0312  04          	inc	b
1381  0313  C5          	push	bc
1382  0314  33          	inc	sp
1383  0315  26 11       	ld	h,0x11
1384  0317  DD 6E 04    	ld	l,(ix+4)
1385  031A  E5          	push	hl
1386  031B  CD 00 00    	call	_zx_print_chr
1387  031E  18 32       	jr	l_game_phase_print_00109
1388  0320              l_game_phase_print_00102:
1389  0320  21 6E 03    	ld	hl,___str_11
1390  0323  E5          	push	hl
1391  0324  26 11       	ld	h,0x11
1392  0326  DD 6E 04    	ld	l,(ix+4)
1393  0329  E5          	push	hl
1394  032A  CD 00 00    	call	_zx_print_str
1395  032D  18 23       	jr	l_game_phase_print_00109
1396  032F              l_game_phase_print_00108:
1397  032F  3A 00 00    	ld	a,(_game_type)
1398  0332  D6 02       	sub	a,0x02
1399  0334  28 0F       	jr	Z,l_game_phase_print_00105
1400  0336  21 74 03    	ld	hl,___str_12
1401  0339  E5          	push	hl
1402  033A  26 11       	ld	h,0x11
1403  033C  DD 6E 04    	ld	l,(ix+4)
1404  033F  E5          	push	hl
1405  0340  CD 00 00    	call	_zx_print_str
1406  0343  18 0D       	jr	l_game_phase_print_00109
1407  0345              l_game_phase_print_00105:
1408  0345  21 79 03    	ld	hl,___str_13
1409  0348  E5          	push	hl
1410  0349  26 11       	ld	h,0x11
1411  034B  DD 6E 04    	ld	l,(ix+4)
1412  034E  E5          	push	hl
1413  034F  CD 00 00    	call	_zx_print_str
1414  0352              l_game_phase_print_00109:
1415  0352  21 2C 01    	ld	hl,0x012c
1416  0355  E5          	push	hl
1417  0356  21 0B 18    	ld	hl,0x180b
1418  0359  E5          	push	hl
1419  035A  DD 7E 04    	ld	a,(ix+4)
1420  035D  F5          	push	af
1421  035E  33          	inc	sp
1422  035F  CD 2D 1C    	call	_game_colour_message
1423  0362  F1          	pop	af
1424  0363  F1          	pop	af
1425  0364  33          	inc	sp
1426  0365  DD E1       	pop	ix
1427  0367  C9          	ret
1428  0368              ___str_10:
1429  0368  50 48 41 53 45 
                        	DEFM "PHASE"
1430  036D  00          	DEFB 0x00
1431  036E              ___str_11:
1432  036E  42 4F 4E 55 53 
                        	DEFM "BONUS"
1433  0373  00          	DEFB 0x00
1434  0374              ___str_12:
1435  0374  48 45 4C 4C 	DEFM "HELL"
1436  0378  00          	DEFB 0x00
1437  0379              ___str_13:
1438  0379  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1439  037F  00          	DEFB 0x00
1440  0380              ;	---------------------------------
1441  0380              ; Function game_loop
1442  0380              ; ---------------------------------
1443  0380              _game_loop:
1444  0380  21 6A 05    	ld	hl,___str_14
1445  0383  E5          	push	hl
1446  0384  21 16 07    	ld	hl,0x0716
1447  0387  E5          	push	hl
1448  0388  CD 00 00    	call	_zx_print_str
1449  038B  21 7D 05    	ld	hl,___str_15
1450  038E  E5          	push	hl
1451  038F  21 17 07    	ld	hl,0x0717
1452  0392  E5          	push	hl
1453  0393  CD 00 00    	call	_zx_print_str
1454  0396  21 00 00    	ld	hl,_ay_effect_10
1455  0399  CD 00 00    	call	_ay_fx_play
1456  039C  CD 00 00    	call	_sound_coin
1457  039F  21 C8 00    	ld	hl,0x00c8
1458  03A2  CD 00 00    	call	_z80_delay_ms_fastcall
1459  03A5  21 90 05    	ld	hl,___str_16
1460  03A8  E5          	push	hl
1461  03A9  21 16 07    	ld	hl,0x0716
1462  03AC  E5          	push	hl
1463  03AD  CD 00 00    	call	_zx_print_str
1464  03B0  CD 00 00    	call	_ay_reset
1465  03B3  21 11 11    	ld	hl,0x1111
1466  03B6  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1467  03B9  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1468  03BC  01 00 00    	ld	bc,_game_lives+0
1469  03BF  3E 04       	ld	a,0x04
1470  03C1  02          	ld	(bc),a
1471  03C2  03          	inc	bc
1472  03C3  3A 00 00    	ld	a,(_game_two_player)
1473  03C6  B7          	or	a,a
1474  03C7  28 05       	jr	Z,l_game_loop_00102
1475  03C9  3E 04       	ld	a,0x04
1476  03CB  02          	ld	(bc),a
1477  03CC  18 02       	jr	l_game_loop_00103
1478  03CE              l_game_loop_00102:
1479  03CE  AF          	xor	a, a
1480  03CF  02          	ld	(bc),a
1481  03D0              l_game_loop_00103:
1482  03D0  21 00 00    	ld	hl,0x0000
1483  03D3  22 00 00    	ld	(_player_score), hl
1484  03D6  2E 00       	ld	l,0x00
1485  03D8  22 02 00    	ld	(_player_score + 0x0002),hl
1486  03DB  21 D0 07    	ld	hl,0x07d0
1487  03DE  22 00 00    	ld	(_player_next_extra), hl
1488  03E1  2E D0       	ld	l,0xd0
1489  03E3  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1490  03E6  21 00 00    	ld	hl,_spr_water_clear
1491  03E9  36 FF       	ld	(hl),0xff
1492  03EB  3A 00 00    	ld	a,(_game_type)
1493  03EE  B7          	or	a, a
1494  03EF  20 0E       	jr	NZ,l_game_loop_00105
1495  03F1  21 F4 01    	ld	hl,0x01f4
1496  03F4  22 00 00    	ld	(_game_time_flipped),hl
1497  03F7  21 D0 07    	ld	hl,0x07d0
1498  03FA  22 00 00    	ld	(_game_time_fireball_start),hl
1499  03FD  18 0C       	jr	l_game_loop_00106
1500  03FF              l_game_loop_00105:
1501  03FF  21 FA 00    	ld	hl,0x00fa
1502  0402  22 00 00    	ld	(_game_time_flipped),hl
1503  0405  21 F4 01    	ld	hl,0x01f4
1504  0408  22 00 00    	ld	(_game_time_fireball_start),hl
1505  040B              l_game_loop_00106:
1506  040B  21 00 00    	ld	hl,_game_over
1507  040E  36 00       	ld	(hl),0x00
1508  0410  21 00 00    	ld	hl,_game_pow
1509  0413  36 03       	ld	(hl),0x03
1510  0415  21 00 00    	ld	hl,_phase_curr
1511  0418  36 00       	ld	(hl),0x00
1512  041A  CD B5 01    	call	_game_phase_init
1513  041D  21 00 00    	ld	hl,0x0000
1514  0420  22 00 00    	ld	(_loop_count),hl
1515  0423  21 00 00    	ld	hl,_dirs
1516  0426  36 00       	ld	(hl),0x00
1517  0428  CD 14 0D    	call	_game_unfreeze_all
1518  042B  CD 70 10    	call	_game_joystick_set
1519  042E              l_game_loop_00134:
1520  042E  3A 00 00    	ld	a,(_game_over)
1521  0431  B7          	or	a, a
1522  0432  C2 2E 05    	jp	NZ,l_game_loop_00136
1523  0435  CD 00 00    	call	_player_set1
1524  0438  CD 00 00    	call	_player_turn
1525  043B  CD 00 00    	call	_player_set2
1526  043E  CD 00 00    	call	_player_turn
1527  0441  CD 00 00    	call	_enemy_turn
1528  0444  3A 00 00    	ld	a,(_game_bonus)
1529  0447  B7          	or	a, a
1530  0448  28 16       	jr	Z,l_game_loop_00111
1531  044A  CD F2 06    	call	_game_bonus_clock
1532  044D  3A 00 00    	ld	a,(_phase_left)
1533  0450  B7          	or	a, a
1534  0451  28 0D       	jr	Z,l_game_loop_00111
1535  0453  CD 00 00    	call	_ay_is_playing
1536  0456  7D          	ld	a,l
1537  0457  B7          	or	a, a
1538  0458  20 06       	jr	NZ,l_game_loop_00111
1539  045A  21 00 00    	ld	hl,_ay_effect_19
1540  045D  CD 00 00    	call	_ay_fx_play
1541  0460              l_game_loop_00111:
1542  0460  CD 00 00    	call	_spr_water_splash_clear
1543  0463  21 64 00    	ld	hl,0x0064
1544  0466  E5          	push	hl
1545  0467  2A 00 00    	ld	hl,(_frame_time)
1546  046A  E5          	push	hl
1547  046B  CD BF 1C    	call	_game_check_time
1548  046E  F1          	pop	af
1549  046F  F1          	pop	af
1550  0470  7D          	ld	a,l
1551  0471  B7          	or	a, a
1552  0472  CA 22 05    	jp	Z,l_game_loop_00133
1553  0475  2A 00 00    	ld	hl,(_curr_time)
1554  0478  22 00 00    	ld	(_frame_time),hl
1555  047B  3A 00 00    	ld	a,(_game_bonus)
1556  047E  B7          	or	a,a
1557  047F  20 03       	jr	NZ,l_game_loop_00113
1558  0481  CD A3 09    	call	_game_enemy_add
1559  0484              l_game_loop_00113:
1560  0484  3A 00 00    	ld	a,(_phase_left)
1561  0487  3D          	dec	a
1562  0488  20 58       	jr	NZ,l_game_loop_00120
1563  048A  3A 00 00    	ld	a,(_phase_angry)
1564  048D  B7          	or	a, a
1565  048E  20 52       	jr	NZ,l_game_loop_00120
1566  0490  21 00 00    	ld	hl,_sprite
1567  0493  36 00       	ld	(hl),0x00
1568  0495              l_game_loop_00137:
1569  0495  2A 00 00    	ld	hl,(_sprite)
1570  0498  26 00       	ld	h,0x00
1571  049A  01 00 00    	ld	bc,_class
1572  049D  09          	add	hl,bc
1573  049E  7E          	ld	a,(hl)
1574  049F  4F          	ld	c,a
1575  04A0  B7          	or	a,a
1576  04A1  28 35       	jr	Z,l_game_loop_00138
1577  04A3  3E 09       	ld	a,0x09
1578  04A5  91          	sub	a,c
1579  04A6  38 30       	jr	C,l_game_loop_00138
1580  04A8  3A 00 00    	ld	a,(_sprite)
1581  04AB  4F          	ld	c,a
1582  04AC  06 00       	ld	b,0x00
1583  04AE  21 00 00    	ld	hl,_state
1584  04B1  09          	add	hl,bc
1585  04B2  CB 6E       	bit	5,(hl)
1586  04B4  20 22       	jr	NZ,l_game_loop_00138
1587  04B6  21 00 00    	ld	hl,_phase_angry
1588  04B9  36 01       	ld	(hl),0x01
1589  04BB  CD 00 00    	call	_enemy_evolve
1590  04BE  CD 00 00    	call	_enemy_evolve
1591  04C1  3E 00       	ld	a,+((_tile) & 0xFF)
1592  04C3  21 00 00    	ld	hl,_sprite
1593  04C6  86          	add	a, (hl)
1594  04C7  4F          	ld	c,a
1595  04C8  3E 00       	ld	a,+((_tile) / 256)
1596  04CA  CE 00       	adc	a,0x00
1597  04CC  47          	ld	b,a
1598  04CD  7E          	ld	a,(hl)
1599  04CE  C5          	push	bc
1600  04CF  F5          	push	af
1601  04D0  33          	inc	sp
1602  04D1  CD 00 00    	call	_spr_tile
1603  04D4  33          	inc	sp
1604  04D5  C1          	pop	bc
1605  04D6  7D          	ld	a, l
1606  04D7  02          	ld	(bc),a
1607  04D8              l_game_loop_00138:
1608  04D8  21 00 00    	ld	hl,_sprite
1609  04DB  7E          	ld	a,(hl)
1610  04DC  3C          	inc	a
1611  04DD  77          	ld	(hl),a
1612  04DE  D6 06       	sub	a,0x06
1613  04E0  38 B3       	jr	C,l_game_loop_00137
1614  04E2              l_game_loop_00120:
1615  04E2  3A 00 00    	ld	a,(_phase_end)
1616  04E5  3D          	dec	a
1617  04E6  20 3A       	jr	NZ,l_game_loop_00133
1618  04E8  3A 00 00    	ld	a,(_game_type)
1619  04EB  D6 02       	sub	a,0x02
1620  04ED  28 33       	jr	Z,l_game_loop_00133
1621  04EF  21 90 01    	ld	hl,0x0190
1622  04F2  CD 00 00    	call	_z80_delay_ms_fastcall
1623  04F5  CD 00 00    	call	_ay_is_playing
1624  04F8  7D          	ld	a, l
1625  04F9  D6 02       	sub	a,0x02
1626  04FB  30 03       	jr	NC,l_game_loop_00123
1627  04FD  CD 00 00    	call	_ay_reset
1628  0500              l_game_loop_00123:
1629  0500  CD 5D 09    	call	_game_kill_all_sprites
1630  0503  3A 00 00    	ld	a,(_game_bonus)
1631  0506  B7          	or	a, a
1632  0507  28 03       	jr	Z,l_game_loop_00125
1633  0509  CD 58 07    	call	_game_bonus_summary
1634  050C              l_game_loop_00125:
1635  050C  21 00 00    	ld	hl,_phase_curr
1636  050F  34          	inc	(hl)
1637  0510  3E 1F       	ld	a,0x1f
1638  0512  96          	sub	a, (hl)
1639  0513  30 0A       	jr	NC,l_game_loop_00127
1640  0515  CD D4 13    	call	_game_end
1641  0518  21 00 00    	ld	hl,_game_over
1642  051B  36 01       	ld	(hl),0x01
1643  051D  18 03       	jr	l_game_loop_00133
1644  051F              l_game_loop_00127:
1645  051F  CD B5 01    	call	_game_phase_init
1646  0522              l_game_loop_00133:
1647  0522  21 00 00    	ld	hl,_loop_count
1648  0525  34          	inc	(hl)
1649  0526  C2 2E 04    	jp	NZ,l_game_loop_00134
1650  0529  23          	inc	hl
1651  052A  34          	inc	(hl)
1652  052B  C3 2E 04    	jp	l_game_loop_00134
1653  052E              l_game_loop_00136:
1654  052E  21 20 03    	ld	hl,0x0320
1655  0531  CD 00 00    	call	_z80_delay_ms_fastcall
1656  0534  CD 5D 09    	call	_game_kill_all_sprites
1657  0537  76          	halt
1658  0538  CD 00 00    	call	_spr_draw_clear
1659  053B  21 A3 05    	ld	hl,___str_17
1660  053E  E5          	push	hl
1661  053F  21 08 0B    	ld	hl,0x0b08
1662  0542  E5          	push	hl
1663  0543  CD 00 00    	call	_zx_print_str
1664  0546  21 C8 00    	ld	hl,0x00c8
1665  0549  E5          	push	hl
1666  054A  21 0B 15    	ld	hl,0x150b
1667  054D  E5          	push	hl
1668  054E  3E 08       	ld	a,0x08
1669  0550  F5          	push	af
1670  0551  33          	inc	sp
1671  0552  CD 2D 1C    	call	_game_colour_message
1672  0555  F1          	pop	af
1673  0556  F1          	pop	af
1674  0557  33          	inc	sp
1675  0558  CD 1D 17    	call	_game_hall_enter
1676  055B  CD 00 00    	call	_ay_reset
1677  055E  21 00 00    	ld	hl,_game_menu_sel
1678  0561  36 00       	ld	(hl),0x00
1679  0563  CD 65 11    	call	_game_menu_paint
1680  0566  CD 63 10    	call	_game_joystick_set_menu
1681  0569  C9          	ret
1682  056A              ___str_14:
1683  056A  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1684  057C  00          	DEFB 0x00
1685  057D              ___str_15:
1686  057D  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1687  058F  00          	DEFB 0x00
1688  0590              ___str_16:
1689  0590  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1690  05A2  00          	DEFB 0x00
1691  05A3              ___str_17:
1692  05A3  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1693  05AC  00          	DEFB 0x00
1694  05AD              ;	---------------------------------
1695  05AD              ; Function game_score_osd
1696  05AD              ; ---------------------------------
1697  05AD              _game_score_osd:
1698  05AD  3A 00 00    	ld	a,(_index_player)
1699  05B0  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1700  05B2  4F          	ld	c,a
1701  05B3  3E 00       	ld	a,+((_score_osd_col) / 256)
1702  05B5  CE 00       	adc	a,0x00
1703  05B7  47          	ld	b,a
1704  05B8  0A          	ld	a,(bc)
1705  05B9  57          	ld	d,a
1706  05BA  3C          	inc	a
1707  05BB  20 72       	jr	NZ,l_game_score_osd_00117
1708  05BD  3A 00 00    	ld	a,(_hit_count)
1709  05C0  B7          	or	a, a
1710  05C1  CA F1 06    	jp	Z,l_game_score_osd_00119
1711  05C4  2A 00 00    	ld	hl,(_sprite)
1712  05C7  26 00       	ld	h,0x00
1713  05C9  11 00 00    	ld	de,_col
1714  05CC  19          	add	hl,de
1715  05CD  7E          	ld	a,(hl)
1716  05CE  02          	ld	(bc),a
1717  05CF  3A 00 00    	ld	a,(_index_player)
1718  05D2  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1719  05D4  4F          	ld	c,a
1720  05D5  3E 00       	ld	a,+((_score_osd_lin) / 256)
1721  05D7  CE 00       	adc	a,0x00
1722  05D9  47          	ld	b,a
1723  05DA  2A 00 00    	ld	hl,(_sprite)
1724  05DD  26 00       	ld	h,0x00
1725  05DF  11 00 00    	ld	de,_lin
1726  05E2  19          	add	hl,de
1727  05E3  7E          	ld	a,(hl)
1728  05E4  02          	ld	(bc),a
1729  05E5  01 00 00    	ld	bc,_score_osd_time+0
1730  05E8  2A 00 00    	ld	hl,(_index_player)
1731  05EB  26 00       	ld	h,0x00
1732  05ED  29          	add	hl, hl
1733  05EE  09          	add	hl,bc
1734  05EF  ED 5B 00 00 	ld	de,(_curr_time)
1735  05F3  73          	ld	(hl),e
1736  05F4  23          	inc	hl
1737  05F5  72          	ld	(hl),d
1738  05F6  2A 00 00    	ld	hl,(_index_player)
1739  05F9  26 00       	ld	h,0x00
1740  05FB  29          	add	hl,hl
1741  05FC  3A 00 00    	ld	a,(_hit_count)
1742  05FF  3D          	dec	a
1743  0600  4D          	ld	c,l
1744  0601  44          	ld	b,h
1745  0602  20 0C       	jr	NZ,l_game_score_osd_00105
1746  0604  21 00 00    	ld	hl,_score_osd_tile
1747  0607  09          	add	hl,bc
1748  0608  36 BC       	ld	(hl),0xbc
1749  060A  23          	inc	hl
1750  060B  36 00       	ld	(hl),0x00
1751  060D  C3 F1 06    	jp	l_game_score_osd_00119
1752  0610              l_game_score_osd_00105:
1753  0610  3A 00 00    	ld	a,(_hit_count)
1754  0613  D6 08       	sub	a,0x08
1755  0615  30 0C       	jr	NC,l_game_score_osd_00102
1756  0617  21 00 00    	ld	hl,_score_osd_tile
1757  061A  09          	add	hl,bc
1758  061B  36 BD       	ld	(hl),0xbd
1759  061D  23          	inc	hl
1760  061E  36 00       	ld	(hl),0x00
1761  0620  C3 F1 06    	jp	l_game_score_osd_00119
1762  0623              l_game_score_osd_00102:
1763  0623  21 00 00    	ld	hl,_score_osd_tile
1764  0626  09          	add	hl,bc
1765  0627  36 BE       	ld	(hl),0xbe
1766  0629  23          	inc	hl
1767  062A  36 00       	ld	(hl),0x00
1768  062C  C3 F1 06    	jp	l_game_score_osd_00119
1769  062F              l_game_score_osd_00117:
1770  062F  3A 00 00    	ld	a,(_index_player)
1771  0632  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1772  0634  4F          	ld	c,a
1773  0635  3E 00       	ld	a,+((_score_osd_lin) / 256)
1774  0637  CE 00       	adc	a,0x00
1775  0639  47          	ld	b,a
1776  063A  0A          	ld	a,(bc)
1777  063B  C6 FE       	add	a,0xfe
1778  063D  32 00 00    	ld	(_tmp),a
1779  0640  5F          	ld	e,a
1780  0641  D5          	push	de
1781  0642  CD 00 00    	call	_game_calc_index
1782  0645  F1          	pop	af
1783  0646  22 00 00    	ld	(_index1),hl
1784  0649  3E 08       	ld	a,0x08
1785  064B  21 00 00    	ld	hl,_tmp
1786  064E  96          	sub	a, (hl)
1787  064F  30 5B       	jr	NC,l_game_score_osd_00110
1788  0651  21 01 00    	ld	hl,_index1 + 1
1789  0654  7E          	ld	a,(hl)
1790  0655  2B          	dec	hl
1791  0656  B6          	or	a,(hl)
1792  0657  28 53       	jr	Z,l_game_score_osd_00110
1793  0659  01 00 00    	ld	bc,_lvl_1+0
1794  065C  79          	ld	a,c
1795  065D  86          	add	a, (hl)
1796  065E  5F          	ld	e,a
1797  065F  78          	ld	a,b
1798  0660  23          	inc	hl
1799  0661  8E          	adc	a, (hl)
1800  0662  57          	ld	d,a
1801  0663  1A          	ld	a,(de)
1802  0664  B7          	or	a, a
1803  0665  20 45       	jr	NZ,l_game_score_osd_00110
1804  0667  56          	ld	d,(hl)
1805  0668  2B          	dec	hl
1806  0669  5E          	ld	e,(hl)
1807  066A  13          	inc	de
1808  066B  69          	ld	l, c
1809  066C  60          	ld	h, b
1810  066D  19          	add	hl,de
1811  066E  7E          	ld	a,(hl)
1812  066F  B7          	or	a, a
1813  0670  20 3A       	jr	NZ,l_game_score_osd_00110
1814  0672  76          	halt
1815  0673  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1816  0675  21 00 00    	ld	hl,_index_player
1817  0678  86          	add	a, (hl)
1818  0679  4F          	ld	c,a
1819  067A  3E 00       	ld	a,+((_score_osd_col) / 256)
1820  067C  CE 00       	adc	a,0x00
1821  067E  47          	ld	b,a
1822  067F  0A          	ld	a,(bc)
1823  0680  57          	ld	d,a
1824  0681  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1825  0683  86          	add	a, (hl)
1826  0684  4F          	ld	c,a
1827  0685  3E 00       	ld	a,+((_score_osd_lin) / 256)
1828  0687  CE 00       	adc	a,0x00
1829  0689  47          	ld	b,a
1830  068A  0A          	ld	a,(bc)
1831  068B  5F          	ld	e,a
1832  068C  6E          	ld	l, (hl)
1833  068D  26 00       	ld	h,0x00
1834  068F  29          	add	hl, hl
1835  0690  01 00 00    	ld	bc,_score_osd_tile
1836  0693  09          	add	hl,bc
1837  0694  46          	ld	b,(hl)
1838  0695  23          	inc	hl
1839  0696  4E          	ld	c,(hl)
1840  0697  D5          	push	de
1841  0698  C5          	push	bc
1842  0699  33          	inc	sp
1843  069A  CD 00 00    	call	_NIRVANAP_drawT_callee
1844  069D  3A 00 00    	ld	a,(_index_player)
1845  06A0  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1846  06A2  4F          	ld	c,a
1847  06A3  3E 00       	ld	a,+((_score_osd_lin) / 256)
1848  06A5  CE 00       	adc	a,0x00
1849  06A7  47          	ld	b,a
1850  06A8  3A 00 00    	ld	a,(_tmp)
1851  06AB  02          	ld	(bc),a
1852  06AC              l_game_score_osd_00110:
1853  06AC  01 00 00    	ld	bc,_score_osd_time+0
1854  06AF  2A 00 00    	ld	hl,(_index_player)
1855  06B2  26 00       	ld	h,0x00
1856  06B4  29          	add	hl, hl
1857  06B5  09          	add	hl,bc
1858  06B6  4E          	ld	c,(hl)
1859  06B7  23          	inc	hl
1860  06B8  46          	ld	b,(hl)
1861  06B9  21 32 00    	ld	hl,0x0032
1862  06BC  E5          	push	hl
1863  06BD  C5          	push	bc
1864  06BE  CD BF 1C    	call	_game_check_time
1865  06C1  F1          	pop	af
1866  06C2  F1          	pop	af
1867  06C3  7D          	ld	a,l
1868  06C4  B7          	or	a, a
1869  06C5  C8          	ret	Z
1870  06C6  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1871  06C8  21 00 00    	ld	hl,_index_player
1872  06CB  86          	add	a, (hl)
1873  06CC  4F          	ld	c,a
1874  06CD  3E 00       	ld	a,+((_score_osd_col) / 256)
1875  06CF  CE 00       	adc	a,0x00
1876  06D1  47          	ld	b,a
1877  06D2  0A          	ld	a,(bc)
1878  06D3  57          	ld	d,a
1879  06D4  4E          	ld	c,(hl)
1880  06D5  06 00       	ld	b,0x00
1881  06D7  21 00 00    	ld	hl,_score_osd_lin
1882  06DA  09          	add	hl,bc
1883  06DB  5E          	ld	e, (hl)
1884  06DC  D5          	push	de
1885  06DD  AF          	xor	a, a
1886  06DE  F5          	push	af
1887  06DF  33          	inc	sp
1888  06E0  CD 00 00    	call	_NIRVANAP_fillT_callee
1889  06E3  3A 00 00    	ld	a,(_index_player)
1890  06E6  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1891  06E8  4F          	ld	c,a
1892  06E9  3E 00       	ld	a,+((_score_osd_col) / 256)
1893  06EB  CE 00       	adc	a,0x00
1894  06ED  47          	ld	b,a
1895  06EE  3E FF       	ld	a,0xff
1896  06F0  02          	ld	(bc),a
1897  06F1              l_game_score_osd_00119:
1898  06F1  C9          	ret
1899  06F2              ;	---------------------------------
1900  06F2              ; Function game_bonus_clock
1901  06F2              ; ---------------------------------
1902  06F2              _game_bonus_clock:
1903  06F2  2A 00 00    	ld	hl,(_curr_time)
1904  06F5  29          	add	hl,hl
1905  06F6  3E D0       	ld	a,0xd0
1906  06F8  95          	sub	a,l
1907  06F9  44          	ld	b,h
1908  06FA  21 00 00    	ld	hl,_tmp_ui
1909  06FD  77          	ld	(hl),a
1910  06FE  3E 07       	ld	a,0x07
1911  0700  98          	sbc	a, b
1912  0701  23          	inc	hl
1913  0702  77          	ld	(hl),a
1914  0703  3E D0       	ld	a,0xd0
1915  0705  2B          	dec	hl
1916  0706  BE          	cp	a, (hl)
1917  0707  3E 07       	ld	a,0x07
1918  0709  23          	inc	hl
1919  070A  9E          	sbc	a, (hl)
1920  070B  30 14       	jr	NC,l_game_bonus_clock_00106
1921  070D  2B          	dec	hl
1922  070E  AF          	xor	a, a
1923  070F  77          	ld	(hl), a
1924  0710  23          	inc	hl
1925  0711  77          	ld	(hl), a
1926  0712  21 00 00    	ld	hl,_phase_left
1927  0715  36 00       	ld	(hl),0x00
1928  0717  21 00 00    	ld	hl,_phase_end
1929  071A  36 01       	ld	(hl),0x01
1930  071C  CD 00 00    	call	_ay_reset
1931  071F  18 36       	jr	l_game_bonus_clock_00108
1932  0721              l_game_bonus_clock_00106:
1933  0721  3A 00 00    	ld	a,(_phase_left)
1934  0724  B7          	or	a, a
1935  0725  C8          	ret	Z
1936  0726  2A 00 00    	ld	hl,(_tmp_ui)
1937  0729  E5          	push	hl
1938  072A  21 02 0E    	ld	hl,0x0e02
1939  072D  E5          	push	hl
1940  072E  CD 00 00    	call	_zx_print_bonus_time
1941  0731  21 05 00    	ld	hl,0x0005
1942  0734  E5          	push	hl
1943  0735  2A 00 00    	ld	hl,(_frame_time)
1944  0738  E5          	push	hl
1945  0739  CD BF 1C    	call	_game_check_time
1946  073C  F1          	pop	af
1947  073D  F1          	pop	af
1948  073E  7D          	ld	a,l
1949  073F  B7          	or	a, a
1950  0740  C8          	ret	Z
1951  0741  2A 00 00    	ld	hl,(_curr_time)
1952  0744  22 00 00    	ld	(_frame_time),hl
1953  0747  21 14 18    	ld	hl,0x1814
1954  074A  E5          	push	hl
1955  074B  3E 0E       	ld	a,0x0e
1956  074D  F5          	push	af
1957  074E  33          	inc	sp
1958  074F  CD EB 0D    	call	_game_paint_attrib_lin_h
1959  0752  F1          	pop	af
1960  0753  33          	inc	sp
1961  0754  CD 11 1C    	call	_game_rotate_attrib
1962  0757              l_game_bonus_clock_00108:
1963  0757  C9          	ret
1964  0758              ;	---------------------------------
1965  0758              ; Function game_bonus_summary
1966  0758              ; ---------------------------------
1967  0758              _game_bonus_summary:
1968  0758  CD 5D 09    	call	_game_kill_all_sprites
1969  075B  CD 00 00    	call	_spr_draw_clear
1970  075E  21 00 00    	ld	hl,0x0000
1971  0761  CD 00 00    	call	_zx_cls_fastcall
1972  0764  CD C7 00    	call	_game_phase_print_score_back
1973  0767  CD 66 0D    	call	_game_print_score
1974  076A  3A 00 00    	ld	a,(_game_lives)
1975  076D  B7          	or	a, a
1976  076E  28 07       	jr	Z,l_game_bonus_summary_00102
1977  0770  AF          	xor	a, a
1978  0771  F5          	push	af
1979  0772  33          	inc	sp
1980  0773  CD 49 08    	call	_game_bonus_summary_player
1981  0776  33          	inc	sp
1982  0777              l_game_bonus_summary_00102:
1983  0777  3A 01 00    	ld	a, (_game_lives + 1)
1984  077A  B7          	or	a, a
1985  077B  28 08       	jr	Z,l_game_bonus_summary_00104
1986  077D  3E 01       	ld	a,0x01
1987  077F  F5          	push	af
1988  0780  33          	inc	sp
1989  0781  CD 49 08    	call	_game_bonus_summary_player
1990  0784  33          	inc	sp
1991  0785              l_game_bonus_summary_00104:
1992  0785  21 1F 98    	ld	hl,0x981f
1993  0788  E5          	push	hl
1994  0789  AF          	xor	a, a
1995  078A  F5          	push	af
1996  078B  33          	inc	sp
1997  078C  CD C4 0D    	call	_game_paint_attrib_lin
1998  078F  F1          	pop	af
1999  0790  33          	inc	sp
2000  0791  3A 00 00    	ld	a,(_phase_bonus_total)
2001  0794  D6 06       	sub	a,0x06
2002  0796  20 70       	jr	NZ,l_game_bonus_summary_00109
2003  0798  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2004  079B  B7          	or	a, a
2005  079C  20 6A       	jr	NZ,l_game_bonus_summary_00109
2006  079E  CD 00 00    	call	_sound_jump
2007  07A1  3A 00 00    	ld	a,(_phase_curr)
2008  07A4  D6 03       	sub	a,0x03
2009  07A6  20 27       	jr	NZ,l_game_bonus_summary_00106
2010  07A8  21 1A 08    	ld	hl,___str_18
2011  07AB  E5          	push	hl
2012  07AC  21 12 06    	ld	hl,0x0612
2013  07AF  E5          	push	hl
2014  07B0  CD 00 00    	call	_zx_print_str
2015  07B3  21 00 00    	ld	hl,_index_player
2016  07B6  36 00       	ld	(hl),0x00
2017  07B8  21 2C 01    	ld	hl,0x012c
2018  07BB  E5          	push	hl
2019  07BC  CD 00 00    	call	_player_score_add
2020  07BF  F1          	pop	af
2021  07C0  21 00 00    	ld	hl,_index_player
2022  07C3  36 01       	ld	(hl),0x01
2023  07C5  21 2C 01    	ld	hl,0x012c
2024  07C8  E5          	push	hl
2025  07C9  CD 00 00    	call	_player_score_add
2026  07CC  F1          	pop	af
2027  07CD  18 25       	jr	l_game_bonus_summary_00107
2028  07CF              l_game_bonus_summary_00106:
2029  07CF  21 2D 08    	ld	hl,___str_19
2030  07D2  E5          	push	hl
2031  07D3  21 12 06    	ld	hl,0x0612
2032  07D6  E5          	push	hl
2033  07D7  CD 00 00    	call	_zx_print_str
2034  07DA  21 00 00    	ld	hl,_index_player
2035  07DD  36 00       	ld	(hl),0x00
2036  07DF  21 F4 01    	ld	hl,0x01f4
2037  07E2  E5          	push	hl
2038  07E3  CD 00 00    	call	_player_score_add
2039  07E6  F1          	pop	af
2040  07E7  21 00 00    	ld	hl,_index_player
2041  07EA  36 01       	ld	(hl),0x01
2042  07EC  21 F4 01    	ld	hl,0x01f4
2043  07EF  E5          	push	hl
2044  07F0  CD 00 00    	call	_player_score_add
2045  07F3  F1          	pop	af
2046  07F4              l_game_bonus_summary_00107:
2047  07F4  21 C8 00    	ld	hl,0x00c8
2048  07F7  E5          	push	hl
2049  07F8  21 10 1A    	ld	hl,0x1a10
2050  07FB  E5          	push	hl
2051  07FC  3E 12       	ld	a,0x12
2052  07FE  F5          	push	af
2053  07FF  33          	inc	sp
2054  0800  CD 2D 1C    	call	_game_colour_message
2055  0803  F1          	pop	af
2056  0804  F1          	pop	af
2057  0805  33          	inc	sp
2058  0806  18 11       	jr	l_game_bonus_summary_00112
2059  0808              l_game_bonus_summary_00109:
2060  0808  21 40 08    	ld	hl,___str_20
2061  080B  E5          	push	hl
2062  080C  21 12 0C    	ld	hl,0x0c12
2063  080F  E5          	push	hl
2064  0810  CD 00 00    	call	_zx_print_str
2065  0813  21 E8 03    	ld	hl,0x03e8
2066  0816  CD 00 00    	call	_z80_delay_ms_fastcall
2067  0819              l_game_bonus_summary_00112:
2068  0819  C9          	ret
2069  081A              ___str_18:
2070  081A  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2071  082C  00          	DEFB 0x00
2072  082D              ___str_19:
2073  082D  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2074  083F  00          	DEFB 0x00
2075  0840              ___str_20:
2076  0840  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2077  0848  00          	DEFB 0x00
2078  0849              ;	---------------------------------
2079  0849              ; Function game_bonus_summary_player
2080  0849              ; ---------------------------------
2081  0849              _game_bonus_summary_player:
2082  0849  CD 00 00    	call	___sdcc_enter_ix
2083  084C  F5          	push	af
2084  084D  76          	halt
2085  084E  DD 7E 04    	ld	a,(ix+4)
2086  0851  B7          	or	a, a
2087  0852  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2088  0854  21 00 00    	ld	hl,_s_lin1
2089  0857  36 06       	ld	(hl),0x06
2090  0859  21 4A 09    	ld	hl,___str_21
2091  085C  E5          	push	hl
2092  085D  21 06 07    	ld	hl,0x0706
2093  0860  E5          	push	hl
2094  0861  CD 00 00    	call	_zx_print_str
2095  0864  3A 00 00    	ld	a,(_s_lin1)
2096  0867  07          	rlca
2097  0868  07          	rlca
2098  0869  07          	rlca
2099  086A  E6 F8       	and	a,0xf8
2100  086C  47          	ld	b,a
2101  086D  04          	inc	b
2102  086E  04          	inc	b
2103  086F  04          	inc	b
2104  0870  04          	inc	b
2105  0871  3E 04       	ld	a,0x04
2106  0873  48          	ld	c,b
2107  0874  47          	ld	b,a
2108  0875  C5          	push	bc
2109  0876  3E 03       	ld	a,0x03
2110  0878  F5          	push	af
2111  0879  33          	inc	sp
2112  087A  CD 00 00    	call	_NIRVANAP_drawT_callee
2113  087D  21 00 00    	ld	hl,_index_player
2114  0880  36 00       	ld	(hl),0x00
2115  0882  18 2E       	jr	l_game_bonus_summary_player_00103
2116  0884              l_game_bonus_summary_player_00102:
2117  0884  21 00 00    	ld	hl,_s_lin1
2118  0887  36 0C       	ld	(hl),0x0c
2119  0889  21 51 09    	ld	hl,___str_22
2120  088C  E5          	push	hl
2121  088D  21 0C 07    	ld	hl,0x070c
2122  0890  E5          	push	hl
2123  0891  CD 00 00    	call	_zx_print_str
2124  0894  3A 00 00    	ld	a,(_s_lin1)
2125  0897  07          	rlca
2126  0898  07          	rlca
2127  0899  07          	rlca
2128  089A  E6 F8       	and	a,0xf8
2129  089C  47          	ld	b,a
2130  089D  04          	inc	b
2131  089E  04          	inc	b
2132  089F  04          	inc	b
2133  08A0  04          	inc	b
2134  08A1  3E 04       	ld	a,0x04
2135  08A3  48          	ld	c,b
2136  08A4  47          	ld	b,a
2137  08A5  C5          	push	bc
2138  08A6  3E 1B       	ld	a,0x1b
2139  08A8  F5          	push	af
2140  08A9  33          	inc	sp
2141  08AA  CD 00 00    	call	_NIRVANAP_drawT_callee
2142  08AD  21 00 00    	ld	hl,_index_player
2143  08B0  36 01       	ld	(hl),0x01
2144  08B2              l_game_bonus_summary_player_00103:
2145  08B2  3A 00 00    	ld	a,(_s_lin1)
2146  08B5  07          	rlca
2147  08B6  07          	rlca
2148  08B7  07          	rlca
2149  08B8  E6 F8       	and	a,0xf8
2150  08BA  C6 08       	add	a,0x08
2151  08BC  F5          	push	af
2152  08BD  33          	inc	sp
2153  08BE  21 07 1F    	ld	hl,0x1f07
2154  08C1  E5          	push	hl
2155  08C2  CD C4 0D    	call	_game_paint_attrib_lin
2156  08C5  F1          	pop	af
2157  08C6  33          	inc	sp
2158  08C7  21 00 00    	ld	hl,_tmp_uc
2159  08CA  36 00       	ld	(hl),0x00
2160  08CC  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2161  08CE  DD 86 04    	add	a,(ix+4)
2162  08D1  DD 77 FE    	ld	(ix-2),a
2163  08D4  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2164  08D6  CE 00       	adc	a,0x00
2165  08D8  DD 77 FF    	ld	(ix-1),a
2166  08DB              l_game_bonus_summary_player_00107:
2167  08DB  E1          	pop	hl
2168  08DC  4E          	ld	c,(hl)
2169  08DD  3A 00 00    	ld	a,(_tmp_uc)
2170  08E0  E5          	push	hl
2171  08E1  91          	sub	a, c
2172  08E2  30 55       	jr	NC,l_game_bonus_summary_player_00109
2173  08E4  3A 00 00    	ld	a,(_s_lin1)
2174  08E7  07          	rlca
2175  08E8  07          	rlca
2176  08E9  07          	rlca
2177  08EA  E6 F8       	and	a,0xf8
2178  08EC  4F          	ld	c,a
2179  08ED  3A 00 00    	ld	a,(_tmp_uc)
2180  08F0  D6 03       	sub	a,0x03
2181  08F2  30 08       	jr	NC,l_game_bonus_summary_player_00105
2182  08F4  79          	ld	a,c
2183  08F5  C6 F8       	add	a,0xf8
2184  08F7  32 00 00    	ld	(_s_lin0),a
2185  08FA  18 06       	jr	l_game_bonus_summary_player_00106
2186  08FC              l_game_bonus_summary_player_00105:
2187  08FC  79          	ld	a,c
2188  08FD  C6 08       	add	a,0x08
2189  08FF  32 00 00    	ld	(_s_lin0),a
2190  0902              l_game_bonus_summary_player_00106:
2191  0902  76          	halt
2192  0903  2A 00 00    	ld	hl,(_tmp_uc)
2193  0906  26 03       	ld	h,0x03
2194  0908  E5          	push	hl
2195  0909  CD 00 00    	call	__moduchar_callee
2196  090C  7D          	ld	a,l
2197  090D  87          	add	a, a
2198  090E  C6 0E       	add	a,0x0e
2199  0910  F5          	push	af
2200  0911  33          	inc	sp
2201  0912  3A 00 00    	ld	a,(_s_lin0)
2202  0915  57          	ld	d,a
2203  0916  1E B9       	ld	e,0xb9
2204  0918  D5          	push	de
2205  0919  CD 00 00    	call	_NIRVANAP_drawT_callee
2206  091C  21 50 00    	ld	hl,0x0050
2207  091F  E5          	push	hl
2208  0920  CD 00 00    	call	_player_score_add
2209  0923  F1          	pop	af
2210  0924  21 00 00    	ld	hl,_tmp_uc
2211  0927  34          	inc	(hl)
2212  0928  21 00 00    	ld	hl,_ay_effect_09
2213  092B  CD 00 00    	call	_ay_fx_play
2214  092E  CD 00 00    	call	_sound_coin
2215  0931  21 32 00    	ld	hl,0x0032
2216  0934  CD 00 00    	call	_z80_delay_ms_fastcall
2217  0937  18 A2       	jr	l_game_bonus_summary_player_00107
2218  0939              l_game_bonus_summary_player_00109:
2219  0939  21 57 09    	ld	hl,___str_23
2220  093C  E5          	push	hl
2221  093D  2A 00 00    	ld	hl,(_s_lin1)
2222  0940  26 16       	ld	h,0x16
2223  0942  E5          	push	hl
2224  0943  CD 00 00    	call	_zx_print_str
2225  0946  F1          	pop	af
2226  0947  DD E1       	pop	ix
2227  0949  C9          	ret
2228  094A              ___str_21:
2229  094A  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2230  0950  00          	DEFB 0x00
2231  0951              ___str_22:
2232  0951  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2233  0956  00          	DEFB 0x00
2234  0957              ___str_23:
2235  0957  58 20 38 30 30 
                        	DEFM "X 800"
2236  095C  00          	DEFB 0x00
2237  095D              ;	---------------------------------
2238  095D              ; Function game_kill_all_sprites
2239  095D              ; ---------------------------------
2240  095D              _game_kill_all_sprites:
2241  095D  21 00 00    	ld	hl,_sprite
2242  0960  36 00       	ld	(hl),0x00
2243  0962              l_game_kill_all_sprites_00102:
2244  0962  3A 00 00    	ld	a,(_sprite)
2245  0965  F5          	push	af
2246  0966  33          	inc	sp
2247  0967  CD 00 00    	call	_spr_destroy
2248  096A  33          	inc	sp
2249  096B  21 00 00    	ld	hl,_sprite
2250  096E  7E          	ld	a,(hl)
2251  096F  3C          	inc	a
2252  0970  77          	ld	(hl),a
2253  0971  D6 08       	sub	a,0x08
2254  0973  38 ED       	jr	C,l_game_kill_all_sprites_00102
2255  0975  C9          	ret
2256  0976              ;	---------------------------------
2257  0976              ; Function game_check_maze
2258  0976              ; ---------------------------------
2259  0976              _game_check_maze:
2260  0976  CD 00 00    	call	___sdcc_enter_ix
2261  0979  3E 00       	ld	a,+((_lvl_1) & 0xFF)
2262  097B  DD 86 04    	add	a,(ix+4)
2263  097E  4F          	ld	c,a
2264  097F  3E 00       	ld	a,+((_lvl_1) / 256)
2265  0981  DD 8E 05    	adc	a,(ix+5)
2266  0984  47          	ld	b,a
2267  0985  0A          	ld	a,(bc)
2268  0986  D6 10       	sub	a,0x10
2269  0988  30 10       	jr	NC,l_game_check_maze_00103
2270  098A  DD 4E 04    	ld	c,(ix+4)
2271  098D  DD 46 05    	ld	b,(ix+5)
2272  0990  03          	inc	bc
2273  0991  21 00 00    	ld	hl,_lvl_1
2274  0994  09          	add	hl,bc
2275  0995  7E          	ld	a, (hl)
2276  0996  D6 10       	sub	a,0x10
2277  0998  38 04       	jr	C,l_game_check_maze_00104
2278  099A              l_game_check_maze_00103:
2279  099A  2E 00       	ld	l,0x00
2280  099C  18 02       	jr	l_game_check_maze_00105
2281  099E              l_game_check_maze_00104:
2282  099E  2E 01       	ld	l,0x01
2283  09A0              l_game_check_maze_00105:
2284  09A0  DD E1       	pop	ix
2285  09A2  C9          	ret
2286  09A3              ;	---------------------------------
2287  09A3              ; Function game_enemy_add
2288  09A3              ; ---------------------------------
2289  09A3              _game_enemy_add:
2290  09A3  3A 00 00    	ld	a,(_game_type)
2291  09A6  D6 02       	sub	a,0x02
2292  09A8  20 05       	jr	NZ,l_game_enemy_add_00106
2293  09AA  CD EC 0A    	call	_game_enemy_rnd
2294  09AD  18 21       	jr	l_game_enemy_add_00107
2295  09AF              l_game_enemy_add_00106:
2296  09AF  3A 00 00    	ld	a,(_spr_count)
2297  09B2  D6 06       	sub	a,0x06
2298  09B4  30 1A       	jr	NC,l_game_enemy_add_00107
2299  09B6  21 64 00    	ld	hl,0x0064
2300  09B9  E5          	push	hl
2301  09BA  2A 00 00    	ld	hl,(_entry_time)
2302  09BD  E5          	push	hl
2303  09BE  CD BF 1C    	call	_game_check_time
2304  09C1  F1          	pop	af
2305  09C2  F1          	pop	af
2306  09C3  7D          	ld	a,l
2307  09C4  B7          	or	a, a
2308  09C5  28 09       	jr	Z,l_game_enemy_add_00107
2309  09C7  3A 00 00    	ld	a,(_phase_left)
2310  09CA  B7          	or	a, a
2311  09CB  28 03       	jr	Z,l_game_enemy_add_00107
2312  09CD  CD D3 09    	call	_game_enemy_quota
2313  09D0              l_game_enemy_add_00107:
2314  09D0  2E 00       	ld	l,0x00
2315  09D2  C9          	ret
2316  09D3              ;	---------------------------------
2317  09D3              ; Function game_enemy_quota
2318  09D3              ; ---------------------------------
2319  09D3              _game_enemy_quota:
2320  09D3  CD 00 00    	call	_rand
2321  09D6  7D          	ld	a, l
2322  09D7  E6 01       	and	a,0x01
2323  09D9  32 00 00    	ld	(_tmp),a
2324  09DC  3A 00 00    	ld	a,(_phase_pop)
2325  09DF  B7          	or	a, a
2326  09E0  28 06       	jr	Z,l_game_enemy_quota_00101
2327  09E2  3A 00 00    	ld	a,(_phase_left)
2328  09E5  3D          	dec	a
2329  09E6  20 05       	jr	NZ,l_game_enemy_quota_00102
2330  09E8              l_game_enemy_quota_00101:
2331  09E8  21 00 00    	ld	hl,_tmp
2332  09EB  36 00       	ld	(hl),0x00
2333  09ED              l_game_enemy_quota_00102:
2334  09ED  3A 00 00    	ld	a,(_phase_left)
2335  09F0  B7          	or	a, a
2336  09F1  28 55       	jr	Z,l_game_enemy_quota_00111
2337  09F3  3A 00 00    	ld	a,(_tmp)
2338  09F6  B7          	or	a, a
2339  09F7  20 4F       	jr	NZ,l_game_enemy_quota_00111
2340  09F9  01 00 00    	ld	bc,_phase_quota+0
2341  09FC  59          	ld	e, c
2342  09FD  50          	ld	d, b
2343  09FE  13          	inc	de
2344  09FF  13          	inc	de
2345  0A00  1A          	ld	a,(de)
2346  0A01  B7          	or	a, a
2347  0A02  28 13       	jr	Z,l_game_enemy_quota_00105
2348  0A04  D5          	push	de
2349  0A05  3E 09       	ld	a,0x09
2350  0A07  F5          	push	af
2351  0A08  33          	inc	sp
2352  0A09  CD 21 0B    	call	_game_enemy_add1
2353  0A0C  33          	inc	sp
2354  0A0D  D1          	pop	de
2355  0A0E  1A          	ld	a,(de)
2356  0A0F  C6 FF       	add	a,0xff
2357  0A11  12          	ld	(de),a
2358  0A12  2E 00       	ld	l,0x00
2359  0A14  C3 EB 0A    	jp	l_game_enemy_quota_00128
2360  0A17              l_game_enemy_quota_00105:
2361  0A17  59          	ld	e, c
2362  0A18  50          	ld	d, b
2363  0A19  13          	inc	de
2364  0A1A  1A          	ld	a,(de)
2365  0A1B  B7          	or	a, a
2366  0A1C  28 13       	jr	Z,l_game_enemy_quota_00107
2367  0A1E  D5          	push	de
2368  0A1F  3E 04       	ld	a,0x04
2369  0A21  F5          	push	af
2370  0A22  33          	inc	sp
2371  0A23  CD 21 0B    	call	_game_enemy_add1
2372  0A26  33          	inc	sp
2373  0A27  D1          	pop	de
2374  0A28  1A          	ld	a,(de)
2375  0A29  C6 FF       	add	a,0xff
2376  0A2B  12          	ld	(de),a
2377  0A2C  2E 00       	ld	l,0x00
2378  0A2E  C3 EB 0A    	jp	l_game_enemy_quota_00128
2379  0A31              l_game_enemy_quota_00107:
2380  0A31  0A          	ld	a,(bc)
2381  0A32  B7          	or	a, a
2382  0A33  28 13       	jr	Z,l_game_enemy_quota_00111
2383  0A35  C5          	push	bc
2384  0A36  3E 01       	ld	a,0x01
2385  0A38  F5          	push	af
2386  0A39  33          	inc	sp
2387  0A3A  CD 21 0B    	call	_game_enemy_add1
2388  0A3D  33          	inc	sp
2389  0A3E  C1          	pop	bc
2390  0A3F  0A          	ld	a,(bc)
2391  0A40  C6 FF       	add	a,0xff
2392  0A42  02          	ld	(bc),a
2393  0A43  2E 00       	ld	l,0x00
2394  0A45  C3 EB 0A    	jp	l_game_enemy_quota_00128
2395  0A48              l_game_enemy_quota_00111:
2396  0A48  3A 00 00    	ld	a,(_phase_coins)
2397  0A4B  B7          	or	a, a
2398  0A4C  28 0D       	jr	Z,l_game_enemy_quota_00114
2399  0A4E  3E 08       	ld	a,0x08
2400  0A50  F5          	push	af
2401  0A51  33          	inc	sp
2402  0A52  CD 21 0B    	call	_game_enemy_add1
2403  0A55  33          	inc	sp
2404  0A56  2E 00       	ld	l,0x00
2405  0A58  C3 EB 0A    	jp	l_game_enemy_quota_00128
2406  0A5B              l_game_enemy_quota_00114:
2407  0A5B  CD 00 00    	call	_rand
2408  0A5E  7D          	ld	a,l
2409  0A5F  E6 03       	and	a,0x03
2410  0A61  44          	ld	b,h
2411  0A62  0E 00       	ld	c,0x00
2412  0A64  CB 79       	bit	7,c
2413  0A66  C2 E9 0A    	jp	NZ,l_game_enemy_quota_00127
2414  0A69  5F          	ld	e,a
2415  0A6A  3E 03       	ld	a,0x03
2416  0A6C  BB          	cp	a, e
2417  0A6D  3E 00       	ld	a,0x00
2418  0A6F  99          	sbc	a, c
2419  0A70  E2 75 0A    	jp	PO, l_game_enemy_quota_00184
2420  0A73  EE 80       	xor	a,0x80
2421  0A75              l_game_enemy_quota_00184:
2422  0A75  FA E9 0A    	jp	M,l_game_enemy_quota_00127
2423  0A78  16 00       	ld	d,0x00
2424  0A7A  21 80 0A    	ld	hl,l_game_enemy_quota_00185
2425  0A7D  19          	add	hl,de
2426  0A7E  19          	add	hl,de
2427  0A7F  E9          	jp	(hl)
2428  0A80              l_game_enemy_quota_00185:
2429  0A80  18 06       	jr	l_game_enemy_quota_00115
2430  0A82  18 16       	jr	l_game_enemy_quota_00118
2431  0A84  18 2F       	jr	l_game_enemy_quota_00121
2432  0A86  18 48       	jr	l_game_enemy_quota_00124
2433  0A88              l_game_enemy_quota_00115:
2434  0A88  3E 07       	ld	a,0x07
2435  0A8A  21 00 00    	ld	hl,_phase_curr
2436  0A8D  96          	sub	a, (hl)
2437  0A8E  30 59       	jr	NC,l_game_enemy_quota_00127
2438  0A90  3E 07       	ld	a,0x07
2439  0A92  F5          	push	af
2440  0A93  33          	inc	sp
2441  0A94  CD 21 0B    	call	_game_enemy_add1
2442  0A97  33          	inc	sp
2443  0A98  18 4F       	jr	l_game_enemy_quota_00127
2444  0A9A              l_game_enemy_quota_00118:
2445  0A9A  2A 00 00    	ld	hl,(_game_time_fireball_start)
2446  0A9D  E5          	push	hl
2447  0A9E  21 00 00    	ld	hl,0x0000
2448  0AA1  E5          	push	hl
2449  0AA2  CD BF 1C    	call	_game_check_time
2450  0AA5  F1          	pop	af
2451  0AA6  F1          	pop	af
2452  0AA7  7D          	ld	a,l
2453  0AA8  B7          	or	a, a
2454  0AA9  28 3E       	jr	Z,l_game_enemy_quota_00127
2455  0AAB  3E 0B       	ld	a,0x0b
2456  0AAD  F5          	push	af
2457  0AAE  33          	inc	sp
2458  0AAF  CD 21 0B    	call	_game_enemy_add1
2459  0AB2  33          	inc	sp
2460  0AB3  18 34       	jr	l_game_enemy_quota_00127
2461  0AB5              l_game_enemy_quota_00121:
2462  0AB5  2A 00 00    	ld	hl,(_game_time_fireball_start)
2463  0AB8  E5          	push	hl
2464  0AB9  21 00 00    	ld	hl,0x0000
2465  0ABC  E5          	push	hl
2466  0ABD  CD BF 1C    	call	_game_check_time
2467  0AC0  F1          	pop	af
2468  0AC1  F1          	pop	af
2469  0AC2  7D          	ld	a,l
2470  0AC3  B7          	or	a, a
2471  0AC4  28 23       	jr	Z,l_game_enemy_quota_00127
2472  0AC6  3E 0B       	ld	a,0x0b
2473  0AC8  F5          	push	af
2474  0AC9  33          	inc	sp
2475  0ACA  CD 21 0B    	call	_game_enemy_add1
2476  0ACD  33          	inc	sp
2477  0ACE  18 19       	jr	l_game_enemy_quota_00127
2478  0AD0              l_game_enemy_quota_00124:
2479  0AD0  2A 00 00    	ld	hl,(_game_time_fireball_start)
2480  0AD3  E5          	push	hl
2481  0AD4  21 00 00    	ld	hl,0x0000
2482  0AD7  E5          	push	hl
2483  0AD8  CD BF 1C    	call	_game_check_time
2484  0ADB  F1          	pop	af
2485  0ADC  F1          	pop	af
2486  0ADD  7D          	ld	a,l
2487  0ADE  B7          	or	a, a
2488  0ADF  28 08       	jr	Z,l_game_enemy_quota_00127
2489  0AE1  3E 0A       	ld	a,0x0a
2490  0AE3  F5          	push	af
2491  0AE4  33          	inc	sp
2492  0AE5  CD 21 0B    	call	_game_enemy_add1
2493  0AE8  33          	inc	sp
2494  0AE9              l_game_enemy_quota_00127:
2495  0AE9  2E 00       	ld	l,0x00
2496  0AEB              l_game_enemy_quota_00128:
2497  0AEB  C9          	ret
2498  0AEC              ;	---------------------------------
2499  0AEC              ; Function game_enemy_rnd
2500  0AEC              ; ---------------------------------
2501  0AEC              _game_enemy_rnd:
2502  0AEC  3A 00 00    	ld	a,(_spr_count)
2503  0AEF  D6 06       	sub	a,0x06
2504  0AF1  30 2B       	jr	NC,l_game_enemy_rnd_00102
2505  0AF3  21 64 00    	ld	hl,0x0064
2506  0AF6  E5          	push	hl
2507  0AF7  2A 00 00    	ld	hl,(_entry_time)
2508  0AFA  E5          	push	hl
2509  0AFB  CD BF 1C    	call	_game_check_time
2510  0AFE  F1          	pop	af
2511  0AFF  F1          	pop	af
2512  0B00  7D          	ld	a,l
2513  0B01  B7          	or	a, a
2514  0B02  28 1A       	jr	Z,l_game_enemy_rnd_00102
2515  0B04  2A 00 00    	ld	hl,(_curr_time)
2516  0B07  22 00 00    	ld	(_entry_time),hl
2517  0B0A  CD 00 00    	call	_rand
2518  0B0D  01 0B 00    	ld	bc,0x000b
2519  0B10  C5          	push	bc
2520  0B11  E5          	push	hl
2521  0B12  CD 00 00    	call	__modsint_callee
2522  0B15  45          	ld	b,l
2523  0B16  4C          	ld	c,h
2524  0B17  04          	inc	b
2525  0B18  C5          	push	bc
2526  0B19  33          	inc	sp
2527  0B1A  CD 21 0B    	call	_game_enemy_add1
2528  0B1D  33          	inc	sp
2529  0B1E              l_game_enemy_rnd_00102:
2530  0B1E  2E 00       	ld	l,0x00
2531  0B20  C9          	ret
2532  0B21              ;	---------------------------------
2533  0B21              ; Function game_enemy_add1
2534  0B21              ; ---------------------------------
2535  0B21              _game_enemy_add1:
2536  0B21  CD 00 00    	call	___sdcc_enter_ix
2537  0B24  DD 7E 04    	ld	a,(ix+4)
2538  0B27  D6 03       	sub	a,0x03
2539  0B29  28 58       	jr	Z,l_game_enemy_add1_00101
2540  0B2B  DD 7E 04    	ld	a,(ix+4)
2541  0B2E  D6 06       	sub	a,0x06
2542  0B30  28 51       	jr	Z,l_game_enemy_add1_00101
2543  0B32  DD 7E 04    	ld	a,(ix+4)
2544  0B35  D6 0A       	sub	a,0x0a
2545  0B37  20 04       	jr	NZ,l_game_enemy_add1_00197
2546  0B39  3E 01       	ld	a,0x01
2547  0B3B  18 01       	jr	l_game_enemy_add1_00198
2548  0B3D              l_game_enemy_add1_00197:
2549  0B3D  AF          	xor	a,a
2550  0B3E              l_game_enemy_add1_00198:
2551  0B3E  4F          	ld	c,a
2552  0B3F  B7          	or	a, a
2553  0B40  28 0E       	jr	Z,l_game_enemy_add1_00107
2554  0B42  C5          	push	bc
2555  0B43  3E 0A       	ld	a,0x0a
2556  0B45  F5          	push	af
2557  0B46  33          	inc	sp
2558  0B47  CD 7B 0C    	call	_game_enemy_add_get_index
2559  0B4A  33          	inc	sp
2560  0B4B  C1          	pop	bc
2561  0B4C  5D          	ld	e,l
2562  0B4D  1C          	inc	e
2563  0B4E  20 33       	jr	NZ,l_game_enemy_add1_00101
2564  0B50              l_game_enemy_add1_00107:
2565  0B50  DD 7E 04    	ld	a,(ix+4)
2566  0B53  D6 0B       	sub	a,0x0b
2567  0B55  20 04       	jr	NZ,l_game_enemy_add1_00201
2568  0B57  3E 01       	ld	a,0x01
2569  0B59  18 01       	jr	l_game_enemy_add1_00202
2570  0B5B              l_game_enemy_add1_00201:
2571  0B5B  AF          	xor	a,a
2572  0B5C              l_game_enemy_add1_00202:
2573  0B5C  47          	ld	b,a
2574  0B5D  B7          	or	a, a
2575  0B5E  28 0E       	jr	Z,l_game_enemy_add1_00109
2576  0B60  C5          	push	bc
2577  0B61  3E 0B       	ld	a,0x0b
2578  0B63  F5          	push	af
2579  0B64  33          	inc	sp
2580  0B65  CD 7B 0C    	call	_game_enemy_add_get_index
2581  0B68  33          	inc	sp
2582  0B69  C1          	pop	bc
2583  0B6A  5D          	ld	e,l
2584  0B6B  1C          	inc	e
2585  0B6C  20 15       	jr	NZ,l_game_enemy_add1_00101
2586  0B6E              l_game_enemy_add1_00109:
2587  0B6E  DD 7E 04    	ld	a,(ix+4)
2588  0B71  D6 07       	sub	a,0x07
2589  0B73  20 13       	jr	NZ,l_game_enemy_add1_00102
2590  0B75  C5          	push	bc
2591  0B76  3E 07       	ld	a,0x07
2592  0B78  F5          	push	af
2593  0B79  33          	inc	sp
2594  0B7A  CD 7B 0C    	call	_game_enemy_add_get_index
2595  0B7D  33          	inc	sp
2596  0B7E  C1          	pop	bc
2597  0B7F  5D          	ld	e,l
2598  0B80  1C          	inc	e
2599  0B81  28 05       	jr	Z,l_game_enemy_add1_00102
2600  0B83              l_game_enemy_add1_00101:
2601  0B83  2E 00       	ld	l,0x00
2602  0B85  C3 78 0C    	jp	l_game_enemy_add1_00133
2603  0B88              l_game_enemy_add1_00102:
2604  0B88  21 00 00    	ld	hl,_phase_pop
2605  0B8B  34          	inc	(hl)
2606  0B8C  C5          	push	bc
2607  0B8D  CD 00 00    	call	_sound_enter_enemy
2608  0B90  AF          	xor	a, a
2609  0B91  F5          	push	af
2610  0B92  33          	inc	sp
2611  0B93  CD 7B 0C    	call	_game_enemy_add_get_index
2612  0B96  33          	inc	sp
2613  0B97  C1          	pop	bc
2614  0B98  7D          	ld	a,l
2615  0B99  32 00 00    	ld	(_tmp),a
2616  0B9C  C5          	push	bc
2617  0B9D  CD 00 00    	call	_rand
2618  0BA0  EB          	ex	de,hl
2619  0BA1  C1          	pop	bc
2620  0BA2  7B          	ld	a,e
2621  0BA3  E6 01       	and	a,0x01
2622  0BA5  32 00 00    	ld	(_tmp0),a
2623  0BA8  3D          	dec	a
2624  0BA9  20 1C       	jr	NZ,l_game_enemy_add1_00115
2625  0BAB  21 00 00    	ld	hl,_s_lin0
2626  0BAE  36 10       	ld	(hl),0x10
2627  0BB0  21 00 00    	ld	hl,_s_col0
2628  0BB3  36 04       	ld	(hl),0x04
2629  0BB5  21 00 00    	ld	hl,_s_col1
2630  0BB8  36 02       	ld	(hl),0x02
2631  0BBA  79          	ld	a,c
2632  0BBB  B7          	or	a, a
2633  0BBC  28 02       	jr	Z,l_game_enemy_add1_00111
2634  0BBE  36 03       	ld	(hl),0x03
2635  0BC0              l_game_enemy_add1_00111:
2636  0BC0  21 00 00    	ld	hl,_tmp1
2637  0BC3  36 01       	ld	(hl),0x01
2638  0BC5  18 1A       	jr	l_game_enemy_add1_00116
2639  0BC7              l_game_enemy_add1_00115:
2640  0BC7  21 00 00    	ld	hl,_s_lin0
2641  0BCA  36 10       	ld	(hl),0x10
2642  0BCC  21 00 00    	ld	hl,_s_col0
2643  0BCF  36 1A       	ld	(hl),0x1a
2644  0BD1  21 00 00    	ld	hl,_s_col1
2645  0BD4  36 1E       	ld	(hl),0x1e
2646  0BD6  79          	ld	a,c
2647  0BD7  B7          	or	a, a
2648  0BD8  28 02       	jr	Z,l_game_enemy_add1_00113
2649  0BDA  36 1C       	ld	(hl),0x1c
2650  0BDC              l_game_enemy_add1_00113:
2651  0BDC  21 00 00    	ld	hl,_tmp1
2652  0BDF  36 FF       	ld	(hl),0xff
2653  0BE1              l_game_enemy_add1_00116:
2654  0BE1  DD 7E 04    	ld	a,(ix+4)
2655  0BE4  D6 08       	sub	a,0x08
2656  0BE6  20 04       	jr	NZ,l_game_enemy_add1_00210
2657  0BE8  3E 01       	ld	a,0x01
2658  0BEA  18 01       	jr	l_game_enemy_add1_00211
2659  0BEC              l_game_enemy_add1_00210:
2660  0BEC  AF          	xor	a,a
2661  0BED              l_game_enemy_add1_00211:
2662  0BED  5F          	ld	e,a
2663  0BEE  B7          	or	a, a
2664  0BEF  28 04       	jr	Z,l_game_enemy_add1_00118
2665  0BF1  21 00 00    	ld	hl,_phase_coins
2666  0BF4  35          	dec	(hl)
2667  0BF5              l_game_enemy_add1_00118:
2668  0BF5  21 00 00    	ld	hl,_tmp_uc
2669  0BF8  36 00       	ld	(hl),0x00
2670  0BFA  78          	ld	a,b
2671  0BFB  B7          	or	a,a
2672  0BFC  20 03       	jr	NZ,l_game_enemy_add1_00125
2673  0BFE  B1          	or	a,c
2674  0BFF  28 35       	jr	Z,l_game_enemy_add1_00126
2675  0C01              l_game_enemy_add1_00125:
2676  0C01  D5          	push	de
2677  0C02  CD 00 00    	call	_rand
2678  0C05  01 03 00    	ld	bc,0x0003
2679  0C08  C5          	push	bc
2680  0C09  E5          	push	hl
2681  0C0A  CD 00 00    	call	__modsint_callee
2682  0C0D  D1          	pop	de
2683  0C0E  4D          	ld	c,l
2684  0C0F  21 00 00    	ld	hl,_tmp_uc
2685  0C12  71          	ld	(hl),c
2686  0C13  79          	ld	a,c
2687  0C14  B7          	or	a, a
2688  0C15  20 02       	jr	NZ,l_game_enemy_add1_00120
2689  0C17  36 10       	ld	(hl),0x10
2690  0C19              l_game_enemy_add1_00120:
2691  0C19  3A 00 00    	ld	a,(_tmp_uc)
2692  0C1C  3D          	dec	a
2693  0C1D  20 05       	jr	NZ,l_game_enemy_add1_00122
2694  0C1F  21 00 00    	ld	hl,_tmp_uc
2695  0C22  36 38       	ld	(hl),0x38
2696  0C24              l_game_enemy_add1_00122:
2697  0C24  3A 00 00    	ld	a,(_tmp_uc)
2698  0C27  D6 02       	sub	a,0x02
2699  0C29  20 05       	jr	NZ,l_game_enemy_add1_00124
2700  0C2B  21 00 00    	ld	hl,_tmp_uc
2701  0C2E  36 84       	ld	(hl),0x84
2702  0C30              l_game_enemy_add1_00124:
2703  0C30  3A 00 00    	ld	a,(_s_col1)
2704  0C33  32 00 00    	ld	(_s_col0),a
2705  0C36              l_game_enemy_add1_00126:
2706  0C36  CD 00 00    	call	_ay_is_playing
2707  0C39  7D          	ld	a, l
2708  0C3A  D6 02       	sub	a,0x02
2709  0C3C  30 12       	jr	NC,l_game_enemy_add1_00132
2710  0C3E  7B          	ld	a,e
2711  0C3F  B7          	or	a, a
2712  0C40  20 08       	jr	NZ,l_game_enemy_add1_00129
2713  0C42  21 00 00    	ld	hl,_ay_effect_04
2714  0C45  CD 00 00    	call	_ay_fx_play
2715  0C48  18 06       	jr	l_game_enemy_add1_00132
2716  0C4A              l_game_enemy_add1_00129:
2717  0C4A  21 00 00    	ld	hl,_ay_effect_07
2718  0C4D  CD 00 00    	call	_ay_fx_play
2719  0C50              l_game_enemy_add1_00132:
2720  0C50  2A 00 00    	ld	hl,(_curr_time)
2721  0C53  22 00 00    	ld	(_entry_time),hl
2722  0C56  3A 00 00    	ld	a,(_s_lin0)
2723  0C59  21 00 00    	ld	hl,_tmp_uc
2724  0C5C  86          	add	a, (hl)
2725  0C5D  47          	ld	b,a
2726  0C5E  2A FF FF    	ld	hl,(_tmp1-1)
2727  0C61  DD 6E 04    	ld	l,(ix+4)
2728  0C64  3A 00 00    	ld	a,(_s_col0)
2729  0C67  E5          	push	hl
2730  0C68  48          	ld	c,b
2731  0C69  47          	ld	b,a
2732  0C6A  3A 00 00    	ld	a,(_tmp)
2733  0C6D  C5          	push	bc
2734  0C6E  F5          	push	af
2735  0C6F  33          	inc	sp
2736  0C70  CD 00 00    	call	_enemy_init
2737  0C73  F1          	pop	af
2738  0C74  F1          	pop	af
2739  0C75  33          	inc	sp
2740  0C76  2E 00       	ld	l,0x00
2741  0C78              l_game_enemy_add1_00133:
2742  0C78  DD E1       	pop	ix
2743  0C7A  C9          	ret
2744  0C7B              ;	---------------------------------
2745  0C7B              ; Function game_enemy_add_get_index
2746  0C7B              ; ---------------------------------
2747  0C7B              _game_enemy_add_get_index:
2748  0C7B  CD 00 00    	call	___sdcc_enter_ix
2749  0C7E  21 00 00    	ld	hl,_enemies
2750  0C81  36 00       	ld	(hl),0x00
2751  0C83              l_game_enemy_add_get_index_00104:
2752  0C83  3E 00       	ld	a,+((_class) & 0xFF)
2753  0C85  21 00 00    	ld	hl,_enemies
2754  0C88  86          	add	a, (hl)
2755  0C89  4F          	ld	c,a
2756  0C8A  3E 00       	ld	a,+((_class) / 256)
2757  0C8C  CE 00       	adc	a,0x00
2758  0C8E  47          	ld	b,a
2759  0C8F  0A          	ld	a,(bc)
2760  0C90  4F          	ld	c,a
2761  0C91  DD 7E 04    	ld	a,(ix+4)
2762  0C94  91          	sub	a, c
2763  0C95  20 03       	jr	NZ,l_game_enemy_add_get_index_00105
2764  0C97  6E          	ld	l,(hl)
2765  0C98  18 0B       	jr	l_game_enemy_add_get_index_00106
2766  0C9A              l_game_enemy_add_get_index_00105:
2767  0C9A  21 00 00    	ld	hl,_enemies
2768  0C9D  34          	inc	(hl)
2769  0C9E  3E 05       	ld	a,0x05
2770  0CA0  96          	sub	a, (hl)
2771  0CA1  30 E0       	jr	NC,l_game_enemy_add_get_index_00104
2772  0CA3  2E FF       	ld	l,0xff
2773  0CA5              l_game_enemy_add_get_index_00106:
2774  0CA5  DD E1       	pop	ix
2775  0CA7  C9          	ret
2776  0CA8              ;	---------------------------------
2777  0CA8              ; Function game_freeze
2778  0CA8              ; ---------------------------------
2779  0CA8              _game_freeze:
2780  0CA8  CD 00 00    	call	___sdcc_enter_ix
2781  0CAB  DD 7E 05    	ld	a,(ix+5)
2782  0CAE  D6 1F       	sub	a,0x1f
2783  0CB0  30 5F       	jr	NC,l_game_freeze_00107
2784  0CB2  21 00 00    	ld	hl,_tmp
2785  0CB5  36 01       	ld	(hl),0x01
2786  0CB7  DD 66 05    	ld	h,(ix+5)
2787  0CBA  DD 6E 04    	ld	l,(ix+4)
2788  0CBD  E5          	push	hl
2789  0CBE  CD 00 00    	call	_game_calc_index
2790  0CC1  F1          	pop	af
2791  0CC2  22 00 00    	ld	(_index1),hl
2792  0CC5  01 00 00    	ld	bc,_lvl_1
2793  0CC8  09          	add	hl,bc
2794  0CC9  7E          	ld	a,(hl)
2795  0CCA  D6 12       	sub	a,0x12
2796  0CCC  20 43       	jr	NZ,l_game_freeze_00107
2797  0CCE  36 14       	ld	(hl),0x14
2798  0CD0  76          	halt
2799  0CD1  DD 7E 05    	ld	a,(ix+5)
2800  0CD4  F5          	push	af
2801  0CD5  33          	inc	sp
2802  0CD6  DD 56 04    	ld	d,(ix+4)
2803  0CD9  1E 8B       	ld	e,0x8b
2804  0CDB  D5          	push	de
2805  0CDC  CD 00 00    	call	_NIRVANAP_drawT_callee
2806  0CDF  ED 4B 00 00 	ld	bc,(_index1)
2807  0CE3  03          	inc	bc
2808  0CE4  21 00 00    	ld	hl,_lvl_1
2809  0CE7  09          	add	hl,bc
2810  0CE8  4E          	ld	c,(hl)
2811  0CE9  DD 46 05    	ld	b,(ix+5)
2812  0CEC  04          	inc	b
2813  0CED  79          	ld	a,c
2814  0CEE  B7          	or	a, a
2815  0CEF  20 0C       	jr	NZ,l_game_freeze_00102
2816  0CF1  C5          	push	bc
2817  0CF2  DD 4E 04    	ld	c,(ix+4)
2818  0CF5  C5          	push	bc
2819  0CF6  AF          	xor	a, a
2820  0CF7  F5          	push	af
2821  0CF8  33          	inc	sp
2822  0CF9  CD 00 00    	call	_NIRVANAP_fillT_callee
2823  0CFC  C1          	pop	bc
2824  0CFD              l_game_freeze_00102:
2825  0CFD  DD 4E 04    	ld	c,(ix+4)
2826  0D00  C5          	push	bc
2827  0D01  CD A8 0C    	call	_game_freeze
2828  0D04  F1          	pop	af
2829  0D05  DD 46 05    	ld	b,(ix+5)
2830  0D08  05          	dec	b
2831  0D09  DD 4E 04    	ld	c,(ix+4)
2832  0D0C  C5          	push	bc
2833  0D0D  CD A8 0C    	call	_game_freeze
2834  0D10  F1          	pop	af
2835  0D11              l_game_freeze_00107:
2836  0D11  DD E1       	pop	ix
2837  0D13  C9          	ret
2838  0D14              ;	---------------------------------
2839  0D14              ; Function game_unfreeze_all
2840  0D14              ; ---------------------------------
2841  0D14              _game_unfreeze_all:
2842  0D14  21 C0 00    	ld	hl,0x00c0
2843  0D17  22 00 00    	ld	(_index1),hl
2844  0D1A              l_game_unfreeze_all_00104:
2845  0D1A  01 00 00    	ld	bc,_lvl_1
2846  0D1D  2A 00 00    	ld	hl,(_index1)
2847  0D20  09          	add	hl,bc
2848  0D21  7E          	ld	a,(hl)
2849  0D22  D6 14       	sub	a,0x14
2850  0D24  20 02       	jr	NZ,l_game_unfreeze_all_00105
2851  0D26  36 12       	ld	(hl),0x12
2852  0D28              l_game_unfreeze_all_00105:
2853  0D28  21 00 00    	ld	hl,_index1
2854  0D2B  34          	inc	(hl)
2855  0D2C  20 02       	jr	NZ,l_game_unfreeze_all_00118
2856  0D2E  23          	inc	hl
2857  0D2F  34          	inc	(hl)
2858  0D30              l_game_unfreeze_all_00118:
2859  0D30  3E 20       	ld	a,0x20
2860  0D32  21 00 00    	ld	hl,_index1
2861  0D35  BE          	cp	a, (hl)
2862  0D36  3E 02       	ld	a,0x02
2863  0D38  23          	inc	hl
2864  0D39  9E          	sbc	a, (hl)
2865  0D3A  30 DE       	jr	NC,l_game_unfreeze_all_00104
2866  0D3C  C9          	ret
2867  0D3D              ;	---------------------------------
2868  0D3D              ; Function game_freeze_all
2869  0D3D              ; ---------------------------------
2870  0D3D              _game_freeze_all:
2871  0D3D  21 C0 00    	ld	hl,0x00c0
2872  0D40  22 00 00    	ld	(_index1),hl
2873  0D43              l_game_freeze_all_00104:
2874  0D43  01 00 00    	ld	bc,_lvl_1
2875  0D46  2A 00 00    	ld	hl,(_index1)
2876  0D49  09          	add	hl,bc
2877  0D4A  7E          	ld	a,(hl)
2878  0D4B  D6 12       	sub	a,0x12
2879  0D4D  20 02       	jr	NZ,l_game_freeze_all_00105
2880  0D4F  36 14       	ld	(hl),0x14
2881  0D51              l_game_freeze_all_00105:
2882  0D51  21 00 00    	ld	hl,_index1
2883  0D54  34          	inc	(hl)
2884  0D55  20 02       	jr	NZ,l_game_freeze_all_00118
2885  0D57  23          	inc	hl
2886  0D58  34          	inc	(hl)
2887  0D59              l_game_freeze_all_00118:
2888  0D59  3E 20       	ld	a,0x20
2889  0D5B  21 00 00    	ld	hl,_index1
2890  0D5E  BE          	cp	a, (hl)
2891  0D5F  3E 02       	ld	a,0x02
2892  0D61  23          	inc	hl
2893  0D62  9E          	sbc	a, (hl)
2894  0D63  30 DE       	jr	NC,l_game_freeze_all_00104
2895  0D65  C9          	ret
2896  0D66              ;	---------------------------------
2897  0D66              ; Function game_print_score
2898  0D66              ; ---------------------------------
2899  0D66              _game_print_score:
2900  0D66  21 00 00    	ld	hl,_screen_ink
2901  0D69  36 07       	ld	(hl),0x07
2902  0D6B  21 00 00    	ld	hl,_screen_paper
2903  0D6E  36 00       	ld	(hl),0x00
2904  0D70  2A 00 00    	ld	hl,(_player_score)
2905  0D73  E5          	push	hl
2906  0D74  21 00 03    	ld	hl,0x0300
2907  0D77  E5          	push	hl
2908  0D78  CD 00 00    	call	_zx_print_int
2909  0D7B  2A 00 00    	ld	hl,(_game_score_top)
2910  0D7E  E5          	push	hl
2911  0D7F  21 00 0E    	ld	hl,0x0e00
2912  0D82  E5          	push	hl
2913  0D83  CD 00 00    	call	_zx_print_int
2914  0D86  3A 00 00    	ld	a,(_game_two_player)
2915  0D89  B7          	or	a, a
2916  0D8A  C8          	ret	Z
2917  0D8B  2A 02 00    	ld	hl, (_player_score + 2)
2918  0D8E  E5          	push	hl
2919  0D8F  21 00 18    	ld	hl,0x1800
2920  0D92  E5          	push	hl
2921  0D93  CD 00 00    	call	_zx_print_int
2922  0D96  C9          	ret
2923  0D97              ;	---------------------------------
2924  0D97              ; Function game_paint_attrib
2925  0D97              ; ---------------------------------
2926  0D97              _game_paint_attrib:
2927  0D97  CD 00 00    	call	___sdcc_enter_ix
2928  0D9A  DD 7E 04    	ld	a,(ix+4)
2929  0D9D  32 00 00    	ld	(_tmp0),a
2930  0DA0              l_game_paint_attrib_00103:
2931  0DA0  3E 13       	ld	a,0x13
2932  0DA2  21 00 00    	ld	hl,_tmp0
2933  0DA5  96          	sub	a, (hl)
2934  0DA6  38 19       	jr	C,l_game_paint_attrib_00105
2935  0DA8  7E          	ld	a,(hl)
2936  0DA9  07          	rlca
2937  0DAA  07          	rlca
2938  0DAB  07          	rlca
2939  0DAC  E6 F8       	and	a,0xf8
2940  0DAE  C6 08       	add	a,0x08
2941  0DB0  F5          	push	af
2942  0DB1  33          	inc	sp
2943  0DB2  21 01 1F    	ld	hl,0x1f01
2944  0DB5  E5          	push	hl
2945  0DB6  CD C4 0D    	call	_game_paint_attrib_lin
2946  0DB9  F1          	pop	af
2947  0DBA  33          	inc	sp
2948  0DBB  21 00 00    	ld	hl,_tmp0
2949  0DBE  34          	inc	(hl)
2950  0DBF  18 DF       	jr	l_game_paint_attrib_00103
2951  0DC1              l_game_paint_attrib_00105:
2952  0DC1  DD E1       	pop	ix
2953  0DC3  C9          	ret
2954  0DC4              ;	---------------------------------
2955  0DC4              ; Function game_paint_attrib_lin
2956  0DC4              ; ---------------------------------
2957  0DC4              _game_paint_attrib_lin:
2958  0DC4  CD 00 00    	call	___sdcc_enter_ix
2959  0DC7  DD 7E 04    	ld	a,(ix+4)
2960  0DCA  32 00 00    	ld	(_tmp_uc),a
2961  0DCD              l_game_paint_attrib_lin_00103:
2962  0DCD  21 00 00    	ld	hl,_tmp_uc
2963  0DD0  7E          	ld	a,(hl)
2964  0DD1  DD 96 05    	sub	a,(ix+5)
2965  0DD4  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2966  0DD6  66          	ld	h,(hl)
2967  0DD7  DD 6E 06    	ld	l,(ix+6)
2968  0DDA  E5          	push	hl
2969  0DDB  21 00 00    	ld	hl,_attrib
2970  0DDE  E5          	push	hl
2971  0DDF  CD 00 00    	call	_NIRVANAP_paintC_callee
2972  0DE2  21 00 00    	ld	hl,_tmp_uc
2973  0DE5  34          	inc	(hl)
2974  0DE6  18 E5       	jr	l_game_paint_attrib_lin_00103
2975  0DE8              l_game_paint_attrib_lin_00105:
2976  0DE8  DD E1       	pop	ix
2977  0DEA  C9          	ret
2978  0DEB              ;	---------------------------------
2979  0DEB              ; Function game_paint_attrib_lin_h
2980  0DEB              ; ---------------------------------
2981  0DEB              _game_paint_attrib_lin_h:
2982  0DEB  CD 00 00    	call	___sdcc_enter_ix
2983  0DEE  DD 7E 04    	ld	a,(ix+4)
2984  0DF1  32 00 00    	ld	(_tmp_uc),a
2985  0DF4              l_game_paint_attrib_lin_h_00103:
2986  0DF4  21 00 00    	ld	hl,_tmp_uc
2987  0DF7  7E          	ld	a,(hl)
2988  0DF8  DD 96 05    	sub	a,(ix+5)
2989  0DFB  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2990  0DFD  66          	ld	h,(hl)
2991  0DFE  DD 6E 06    	ld	l,(ix+6)
2992  0E01  E5          	push	hl
2993  0E02  21 00 00    	ld	hl,_attrib_hl
2994  0E05  E5          	push	hl
2995  0E06  CD 00 00    	call	_NIRVANAP_paintC_callee
2996  0E09  21 00 00    	ld	hl,_tmp_uc
2997  0E0C  34          	inc	(hl)
2998  0E0D  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2999  0E0F              l_game_paint_attrib_lin_h_00105:
3000  0E0F  DD E1       	pop	ix
3001  0E11  C9          	ret
3002  0E12              ;	---------------------------------
3003  0E12              ; Function game_menu_config
3004  0E12              ; ---------------------------------
3005  0E12              _game_menu_config:
3006  0E12  CD 00 00    	call	___sdcc_enter_ix
3007  0E15  F5          	push	af
3008  0E16  3B          	dec	sp
3009  0E17  3E 0B       	ld	a,0x0b
3010  0E19  F5          	push	af
3011  0E1A  33          	inc	sp
3012  0E1B  CD 97 0D    	call	_game_paint_attrib
3013  0E1E  33          	inc	sp
3014  0E1F  DD 36 FD 01 	ld	(ix-3),0x01
3015  0E23              l_game_menu_config_00116:
3016  0E23  DD 7E FD    	ld	a,(ix-3)
3017  0E26  B7          	or	a, a
3018  0E27  CA 86 0F    	jp	Z,l_game_menu_config_00119
3019  0E2A              l_game_menu_config_00101:
3020  0E2A  21 00 00    	ld	hl,_k1
3021  0E2D  E5          	push	hl
3022  0E2E  2A 00 00    	ld	hl,(_joyfunc1)
3023  0E31  CD 00 00    	call	___sdcc_call_hl
3024  0E34  F1          	pop	af
3025  0E35  7C          	ld	a,h
3026  0E36  B5          	or	a,l
3027  0E37  20 F1       	jr	NZ,l_game_menu_config_00101
3028  0E39  3A 00 00    	ld	a,(_spec128)
3029  0E3C  B7          	or	a,a
3030  0E3D  28 0A       	jr	Z,l_game_menu_config_00121
3031  0E3F  DD 36 FE 8B 	ld	(ix-2),+((___str_24) & 0xFF)
3032  0E43  DD 36 FF 0F 	ld	(ix-1),+((___str_24) / 256)
3033  0E47  18 08       	jr	l_game_menu_config_00122
3034  0E49              l_game_menu_config_00121:
3035  0E49  DD 36 FE 96 	ld	(ix-2),+((___str_25) & 0xFF)
3036  0E4D  DD 36 FF 0F 	ld	(ix-1),+((___str_25) / 256)
3037  0E51              l_game_menu_config_00122:
3038  0E51  DD 4E FE    	ld	c,(ix-2)
3039  0E54  DD 46 FF    	ld	b,(ix-1)
3040  0E57  C5          	push	bc
3041  0E58  21 0E 0A    	ld	hl,0x0a0e
3042  0E5B  E5          	push	hl
3043  0E5C  CD 00 00    	call	_zx_print_str
3044  0E5F  21 A1 0F    	ld	hl,___str_26
3045  0E62  E5          	push	hl
3046  0E63  21 0F 0A    	ld	hl,0x0a0f
3047  0E66  E5          	push	hl
3048  0E67  CD 00 00    	call	_zx_print_str
3049  0E6A  21 AC 0F    	ld	hl,___str_27
3050  0E6D  E5          	push	hl
3051  0E6E  21 10 0A    	ld	hl,0x0a10
3052  0E71  E5          	push	hl
3053  0E72  CD 00 00    	call	_zx_print_str
3054  0E75  21 B7 0F    	ld	hl,___str_28
3055  0E78  E5          	push	hl
3056  0E79  21 11 0A    	ld	hl,0x0a11
3057  0E7C  E5          	push	hl
3058  0E7D  CD 00 00    	call	_zx_print_str
3059  0E80  21 C2 0F    	ld	hl,___str_29
3060  0E83  E5          	push	hl
3061  0E84  21 12 0A    	ld	hl,0x0a12
3062  0E87  E5          	push	hl
3063  0E88  CD 00 00    	call	_zx_print_str
3064  0E8B  3A 00 00    	ld	a,(_game_sound)
3065  0E8E  E6 05       	and	a,0x05
3066  0E90  28 05       	jr	Z,l_game_menu_config_00123
3067  0E92  01 CD 0F    	ld	bc,___str_30
3068  0E95  18 03       	jr	l_game_menu_config_00124
3069  0E97              l_game_menu_config_00123:
3070  0E97  01 D1 0F    	ld	bc,___str_31
3071  0E9A              l_game_menu_config_00124:
3072  0E9A  C5          	push	bc
3073  0E9B  21 0E 14    	ld	hl,0x140e
3074  0E9E  E5          	push	hl
3075  0E9F  CD 00 00    	call	_zx_print_str
3076  0EA2  3E 02       	ld	a,0x02
3077  0EA4  21 00 00    	ld	hl,_game_type
3078  0EA7  96          	sub	a, (hl)
3079  0EA8  38 34       	jr	C,l_game_menu_config_00107
3080  0EAA  5E          	ld	e,(hl)
3081  0EAB  16 00       	ld	d,0x00
3082  0EAD  21 B3 0E    	ld	hl,l_game_menu_config_00164
3083  0EB0  19          	add	hl,de
3084  0EB1  19          	add	hl,de
3085  0EB2  E9          	jp	(hl)
3086  0EB3              l_game_menu_config_00164:
3087  0EB3  18 04       	jr	l_game_menu_config_00104
3088  0EB5  18 0F       	jr	l_game_menu_config_00105
3089  0EB7  18 1A       	jr	l_game_menu_config_00106
3090  0EB9              l_game_menu_config_00104:
3091  0EB9  21 D5 0F    	ld	hl,___str_32
3092  0EBC  E5          	push	hl
3093  0EBD  21 0F 14    	ld	hl,0x140f
3094  0EC0  E5          	push	hl
3095  0EC1  CD 00 00    	call	_zx_print_str
3096  0EC4  18 18       	jr	l_game_menu_config_00107
3097  0EC6              l_game_menu_config_00105:
3098  0EC6  21 D9 0F    	ld	hl,___str_33
3099  0EC9  E5          	push	hl
3100  0ECA  21 0F 14    	ld	hl,0x140f
3101  0ECD  E5          	push	hl
3102  0ECE  CD 00 00    	call	_zx_print_str
3103  0ED1  18 0B       	jr	l_game_menu_config_00107
3104  0ED3              l_game_menu_config_00106:
3105  0ED3  21 DD 0F    	ld	hl,___str_34
3106  0ED6  E5          	push	hl
3107  0ED7  21 0F 14    	ld	hl,0x140f
3108  0EDA  E5          	push	hl
3109  0EDB  CD 00 00    	call	_zx_print_str
3110  0EDE              l_game_menu_config_00107:
3111  0EDE  2A 00 00    	ld	hl,(_player_joy)
3112  0EE1  29          	add	hl, hl
3113  0EE2  11 00 00    	ld	de,_joynames
3114  0EE5  19          	add	hl,de
3115  0EE6  4E          	ld	c,(hl)
3116  0EE7  23          	inc	hl
3117  0EE8  46          	ld	b,(hl)
3118  0EE9  C5          	push	bc
3119  0EEA  21 10 14    	ld	hl,0x1410
3120  0EED  E5          	push	hl
3121  0EEE  CD 00 00    	call	_zx_print_str
3122  0EF1  2A 02 00    	ld	hl, (_player_joy + 2)
3123  0EF4  29          	add	hl, hl
3124  0EF5  11 00 00    	ld	de,_joynames
3125  0EF8  19          	add	hl,de
3126  0EF9  4E          	ld	c,(hl)
3127  0EFA  23          	inc	hl
3128  0EFB  46          	ld	b,(hl)
3129  0EFC  C5          	push	bc
3130  0EFD  21 11 14    	ld	hl,0x1411
3131  0F00  E5          	push	hl
3132  0F01  CD 00 00    	call	_zx_print_str
3133  0F04  21 00 00    	ld	hl,0x0000
3134  0F07  E5          	push	hl
3135  0F08  21 0E 12    	ld	hl,0x120e
3136  0F0B  E5          	push	hl
3137  0F0C  21 0A 01    	ld	hl,0x010a
3138  0F0F  E5          	push	hl
3139  0F10  CD E5 12    	call	_game_menu_handle
3140  0F13  F1          	pop	af
3141  0F14  F1          	pop	af
3142  0F15  F1          	pop	af
3143  0F16  7D          	ld	a,l
3144  0F17  32 00 00    	ld	(_game_menu_sel),a
3145  0F1A  21 00 00    	ld	hl,_ay_effect_10
3146  0F1D  CD 00 00    	call	_ay_fx_play
3147  0F20  CD 00 00    	call	_sound_coin
3148  0F23  3E 04       	ld	a,0x04
3149  0F25  21 00 00    	ld	hl,_game_menu_sel
3150  0F28  96          	sub	a, (hl)
3151  0F29  DA 23 0E    	jp	C,l_game_menu_config_00116
3152  0F2C  5E          	ld	e,(hl)
3153  0F2D  16 00       	ld	d,0x00
3154  0F2F  21 35 0F    	ld	hl,l_game_menu_config_00165
3155  0F32  19          	add	hl,de
3156  0F33  19          	add	hl,de
3157  0F34  E9          	jp	(hl)
3158  0F35              l_game_menu_config_00165:
3159  0F35  18 08       	jr	l_game_menu_config_00108
3160  0F37  18 1A       	jr	l_game_menu_config_00109
3161  0F39  18 27       	jr	l_game_menu_config_00112
3162  0F3B  18 2F       	jr	l_game_menu_config_00113
3163  0F3D  18 38       	jr	l_game_menu_config_00114
3164  0F3F              l_game_menu_config_00108:
3165  0F3F  3A 00 00    	ld	a,(_spec128)
3166  0F42  B7          	or	a, a
3167  0F43  28 04       	jr	Z,l_game_menu_config_00125
3168  0F45  3E 04       	ld	a,0x04
3169  0F47  18 02       	jr	l_game_menu_config_00126
3170  0F49              l_game_menu_config_00125:
3171  0F49  3E 01       	ld	a,0x01
3172  0F4B              l_game_menu_config_00126:
3173  0F4B  21 00 00    	ld	hl,_game_sound
3174  0F4E  AE          	xor	a, (hl)
3175  0F4F  77          	ld	(hl),a
3176  0F50  C3 23 0E    	jp	l_game_menu_config_00116
3177  0F53              l_game_menu_config_00109:
3178  0F53  21 00 00    	ld	hl,_game_type
3179  0F56  34          	inc	(hl)
3180  0F57  3E 02       	ld	a,0x02
3181  0F59  96          	sub	a, (hl)
3182  0F5A  D2 23 0E    	jp	NC,l_game_menu_config_00116
3183  0F5D  36 00       	ld	(hl),0x00
3184  0F5F  C3 23 0E    	jp	l_game_menu_config_00116
3185  0F62              l_game_menu_config_00112:
3186  0F62  AF          	xor	a, a
3187  0F63  F5          	push	af
3188  0F64  33          	inc	sp
3189  0F65  CD E1 0F    	call	_game_joystick_change
3190  0F68  33          	inc	sp
3191  0F69  C3 23 0E    	jp	l_game_menu_config_00116
3192  0F6C              l_game_menu_config_00113:
3193  0F6C  3E 01       	ld	a,0x01
3194  0F6E  F5          	push	af
3195  0F6F  33          	inc	sp
3196  0F70  CD E1 0F    	call	_game_joystick_change
3197  0F73  33          	inc	sp
3198  0F74  C3 23 0E    	jp	l_game_menu_config_00116
3199  0F77              l_game_menu_config_00114:
3200  0F77  21 00 00    	ld	hl,_game_menu_sel
3201  0F7A  36 00       	ld	(hl),0x00
3202  0F7C  CD 65 11    	call	_game_menu_paint
3203  0F7F  DD 36 FD 00 	ld	(ix-3),0x00
3204  0F83  C3 23 0E    	jp	l_game_menu_config_00116
3205  0F86              l_game_menu_config_00119:
3206  0F86  DD F9       	ld	sp, ix
3207  0F88  DD E1       	pop	ix
3208  0F8A  C9          	ret
3209  0F8B              ___str_24:
3210  0F8B  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3211  0F95  00          	DEFB 0x00
3212  0F96              ___str_25:
3213  0F96  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3214  0FA0  00          	DEFB 0x00
3215  0FA1              ___str_26:
3216  0FA1  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3217  0FAB  00          	DEFB 0x00
3218  0FAC              ___str_27:
3219  0FAC  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3220  0FB6  00          	DEFB 0x00
3221  0FB7              ___str_28:
3222  0FB7  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3223  0FC1  00          	DEFB 0x00
3224  0FC2              ___str_29:
3225  0FC2  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3226  0FCC  00          	DEFB 0x00
3227  0FCD              ___str_30:
3228  0FCD  4F 4E 20    	DEFM "ON "
3229  0FD0  00          	DEFB 0x00
3230  0FD1              ___str_31:
3231  0FD1  4F 46 46    	DEFM "OFF"
3232  0FD4  00          	DEFB 0x00
3233  0FD5              ___str_32:
3234  0FD5  41 20 20    	DEFM "A  "
3235  0FD8  00          	DEFB 0x00
3236  0FD9              ___str_33:
3237  0FD9  42 20 20    	DEFM "B  "
3238  0FDC  00          	DEFB 0x00
3239  0FDD              ___str_34:
3240  0FDD  52 4E 44    	DEFM "RND"
3241  0FE0  00          	DEFB 0x00
3242  0FE1              ;	---------------------------------
3243  0FE1              ; Function game_joystick_change
3244  0FE1              ; ---------------------------------
3245  0FE1              _game_joystick_change:
3246  0FE1  CD 00 00    	call	___sdcc_enter_ix
3247  0FE4  DD 4E 04    	ld	c,(ix+4)
3248  0FE7  06 00       	ld	b,0x00
3249  0FE9  CB 21       	sla	c
3250  0FEB  CB 10       	rl	b
3251  0FED  21 00 00    	ld	hl,_player_joy
3252  0FF0  09          	add	hl,bc
3253  0FF1  4D          	ld	c,l
3254  0FF2  44          	ld	b,h
3255  0FF3  5E          	ld	e,(hl)
3256  0FF4  23          	inc	hl
3257  0FF5  56          	ld	d,(hl)
3258  0FF6  13          	inc	de
3259  0FF7  69          	ld	l, c
3260  0FF8  60          	ld	h, b
3261  0FF9  73          	ld	(hl),e
3262  0FFA  23          	inc	hl
3263  0FFB  72          	ld	(hl),d
3264  0FFC  7B          	ld	a,e
3265  0FFD  D6 07       	sub	a,0x07
3266  0FFF  20 09       	jr	NZ,l_game_joystick_change_00102
3267  1001  B2          	or	a,d
3268  1002  20 06       	jr	NZ,l_game_joystick_change_00102
3269  1004  69          	ld	l, c
3270  1005  60          	ld	h, b
3271  1006  AF          	xor	a, a
3272  1007  77          	ld	(hl), a
3273  1008  23          	inc	hl
3274  1009  77          	ld	(hl), a
3275  100A              l_game_joystick_change_00102:
3276  100A  DD 7E 04    	ld	a,(ix+4)
3277  100D  B7          	or	a, a
3278  100E  20 15       	jr	NZ,l_game_joystick_change_00104
3279  1010  69          	ld	l, c
3280  1011  60          	ld	h, b
3281  1012  5E          	ld	e,(hl)
3282  1013  23          	inc	hl
3283  1014  56          	ld	d,(hl)
3284  1015  1D          	dec	e
3285  1016  20 0D       	jr	NZ,l_game_joystick_change_00104
3286  1018  7A          	ld	a,d
3287  1019  B7          	or	a, a
3288  101A  20 09       	jr	NZ,l_game_joystick_change_00104
3289  101C  ED 5B 00 00 	ld	de,(_player_joy)
3290  1020  13          	inc	de
3291  1021  ED 53 00 00 	ld	(_player_joy), de
3292  1025              l_game_joystick_change_00104:
3293  1025  DD 7E 04    	ld	a,(ix+4)
3294  1028  3D          	dec	a
3295  1029  20 11       	jr	NZ,l_game_joystick_change_00107
3296  102B  69          	ld	l, c
3297  102C  60          	ld	h, b
3298  102D  4E          	ld	c,(hl)
3299  102E  23          	inc	hl
3300  102F  7E          	ld	a, (hl)
3301  1030  B1          	or	a,c
3302  1031  20 09       	jr	NZ,l_game_joystick_change_00107
3303  1033  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3304  1037  03          	inc	bc
3305  1038  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3306  103C              l_game_joystick_change_00107:
3307  103C  ED 4B 00 00 	ld	bc,(_player_joy)
3308  1040  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3309  1044  79          	ld	a,c
3310  1045  93          	sub	a, e
3311  1046  20 18       	jr	NZ,l_game_joystick_change_00114
3312  1048  78          	ld	a,b
3313  1049  92          	sub	a, d
3314  104A  20 14       	jr	NZ,l_game_joystick_change_00114
3315  104C  DD 7E 04    	ld	a,(ix+4)
3316  104F  B7          	or	a, a
3317  1050  20 08       	jr	NZ,l_game_joystick_change_00110
3318  1052  21 01 00    	ld	hl,0x0001
3319  1055  22 02 00    	ld	(_player_joy + 0x0002),hl
3320  1058  18 06       	jr	l_game_joystick_change_00114
3321  105A              l_game_joystick_change_00110:
3322  105A  21 00 00    	ld	hl,0x0000
3323  105D  22 00 00    	ld	(_player_joy), hl
3324  1060              l_game_joystick_change_00114:
3325  1060  DD E1       	pop	ix
3326  1062  C9          	ret
3327  1063              ;	---------------------------------
3328  1063              ; Function game_joystick_set_menu
3329  1063              ; ---------------------------------
3330  1063              _game_joystick_set_menu:
3331  1063  21 00 00    	ld	hl,_in_stick_sinclair1
3332  1066  22 00 00    	ld	(_joyfunc1),hl
3333  1069  21 00 00    	ld	hl,_in_stick_sinclair2
3334  106C  22 00 00    	ld	(_joyfunc2),hl
3335  106F  C9          	ret
3336  1070              ;	---------------------------------
3337  1070              ; Function game_joystick_set
3338  1070              ; ---------------------------------
3339  1070              _game_joystick_set:
3340  1070  01 00 00    	ld	bc,_control_method+0
3341  1073  2A 00 00    	ld	hl,(_player_joy)
3342  1076  29          	add	hl, hl
3343  1077  09          	add	hl,bc
3344  1078  11 00 00    	ld	de,_joyfunc1
3345  107B  ED A0       	ldi
3346  107D  03          	inc	bc
3347  107E  7E          	ld	a,(hl)
3348  107F  12          	ld	(de),a
3349  1080  2A 02 00    	ld	hl, (_player_joy + 2)
3350  1083  29          	add	hl, hl
3351  1084  09          	add	hl,bc
3352  1085  11 00 00    	ld	de,_joyfunc2
3353  1088  ED A0       	ldi
3354  108A  7E          	ld	a,(hl)
3355  108B  12          	ld	(de),a
3356  108C  C9          	ret
3357  108D              ;	---------------------------------
3358  108D              ; Function game_menu
3359  108D              ; ---------------------------------
3360  108D              _game_menu:
3361  108D  CD EF 10    	call	_game_menu_top_paint
3362  1090  CD 65 11    	call	_game_menu_paint
3363  1093  CD 00 00    	call	_ay_reset
3364  1096  21 00 00    	ld	hl,_pb_midi_title
3365  1099  CD 00 00    	call	_ay_midi_play
3366  109C              l_game_menu_00101:
3367  109C  21 00 00    	ld	hl,_k1
3368  109F  E5          	push	hl
3369  10A0  2A 00 00    	ld	hl,(_joyfunc1)
3370  10A3  CD 00 00    	call	___sdcc_call_hl
3371  10A6  F1          	pop	af
3372  10A7  7C          	ld	a,h
3373  10A8  B5          	or	a,l
3374  10A9  20 F1       	jr	NZ,l_game_menu_00101
3375  10AB  21 E8 03    	ld	hl,0x03e8
3376  10AE  E5          	push	hl
3377  10AF  21 0E 12    	ld	hl,0x120e
3378  10B2  E5          	push	hl
3379  10B3  21 0C 02    	ld	hl,0x020c
3380  10B6  E5          	push	hl
3381  10B7  CD E5 12    	call	_game_menu_handle
3382  10BA  F1          	pop	af
3383  10BB  F1          	pop	af
3384  10BC  F1          	pop	af
3385  10BD  4D          	ld	c,l
3386  10BE  21 00 00    	ld	hl,_tmp_uc
3387  10C1  71          	ld	(hl),c
3388  10C2  3E 02       	ld	a,0x02
3389  10C4  96          	sub	a, (hl)
3390  10C5  38 D5       	jr	C,l_game_menu_00101
3391  10C7  5E          	ld	e,(hl)
3392  10C8  16 00       	ld	d,0x00
3393  10CA  21 D0 10    	ld	hl,l_game_menu_00125
3394  10CD  19          	add	hl,de
3395  10CE  19          	add	hl,de
3396  10CF  E9          	jp	(hl)
3397  10D0              l_game_menu_00125:
3398  10D0  18 04       	jr	l_game_menu_00104
3399  10D2  18 0C       	jr	l_game_menu_00105
3400  10D4  18 14       	jr	l_game_menu_00106
3401  10D6              l_game_menu_00104:
3402  10D6  21 00 00    	ld	hl,_game_two_player
3403  10D9  36 00       	ld	(hl),0x00
3404  10DB  CD 80 03    	call	_game_loop
3405  10DE  18 BC       	jr	l_game_menu_00101
3406  10E0              l_game_menu_00105:
3407  10E0  21 00 00    	ld	hl,_game_two_player
3408  10E3  36 01       	ld	(hl),0x01
3409  10E5  CD 80 03    	call	_game_loop
3410  10E8  18 B2       	jr	l_game_menu_00101
3411  10EA              l_game_menu_00106:
3412  10EA  CD 12 0E    	call	_game_menu_config
3413  10ED  18 AD       	jr	l_game_menu_00101
3414  10EF              ;	---------------------------------
3415  10EF              ; Function game_menu_top_paint
3416  10EF              ; ---------------------------------
3417  10EF              _game_menu_top_paint:
3418  10EF  CD 00 00    	call	_spr_draw_clear
3419  10F2  AF          	xor	a, a
3420  10F3  F5          	push	af
3421  10F4  33          	inc	sp
3422  10F5  CD 97 0D    	call	_game_paint_attrib
3423  10F8  33          	inc	sp
3424  10F9  21 9C 01    	ld	hl,0x019c
3425  10FC  E5          	push	hl
3426  10FD  21 00 1E    	ld	hl,0x1e00
3427  1100  E5          	push	hl
3428  1101  3E 10       	ld	a,0x10
3429  1103  F5          	push	af
3430  1104  33          	inc	sp
3431  1105  CD 32 12    	call	_game_menu_e
3432  1108  F1          	pop	af
3433  1109  33          	inc	sp
3434  110A  21 9F FF    	ld	hl,0xff9f
3435  110D  E3          	ex	(sp),hl
3436  110E  21 00 1E    	ld	hl,0x1e00
3437  1111  E5          	push	hl
3438  1112  3E 50       	ld	a,0x50
3439  1114  F5          	push	af
3440  1115  33          	inc	sp
3441  1116  CD 32 12    	call	_game_menu_e
3442  1119  F1          	pop	af
3443  111A  F1          	pop	af
3444  111B  33          	inc	sp
3445  111C  21 00 00    	ld	hl,_tmp
3446  111F  36 18       	ld	(hl),0x18
3447  1121  F3          	di
3448  1122  21 00 00    	ld	hl,_tmp_uc
3449  1125  36 00       	ld	(hl),0x00
3450  1127              l_game_menu_top_paint_00102:
3451  1127  3A 00 00    	ld	a,(_tmp_uc)
3452  112A  87          	add	a, a
3453  112B  C6 05       	add	a,0x05
3454  112D  47          	ld	b,a
3455  112E  3A 00 00    	ld	a,(_tmp)
3456  1131  C6 10       	add	a,0x10
3457  1133  57          	ld	d,a
3458  1134  3A 00 00    	ld	a,(_tmp_uc)
3459  1137  C6 C0       	add	a,0xc0
3460  1139  4A          	ld	c, d
3461  113A  C5          	push	bc
3462  113B  F5          	push	af
3463  113C  33          	inc	sp
3464  113D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3465  1140  3A 00 00    	ld	a,(_tmp_uc)
3466  1143  87          	add	a, a
3467  1144  C6 05       	add	a,0x05
3468  1146  47          	ld	b,a
3469  1147  3A 00 00    	ld	a,(_tmp)
3470  114A  C6 20       	add	a,0x20
3471  114C  57          	ld	d,a
3472  114D  3A 00 00    	ld	a,(_tmp_uc)
3473  1150  C6 CC       	add	a,0xcc
3474  1152  4A          	ld	c, d
3475  1153  C5          	push	bc
3476  1154  F5          	push	af
3477  1155  33          	inc	sp
3478  1156  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3479  1159  21 00 00    	ld	hl,_tmp_uc
3480  115C  7E          	ld	a,(hl)
3481  115D  3C          	inc	a
3482  115E  77          	ld	(hl),a
3483  115F  D6 0A       	sub	a,0x0a
3484  1161  38 C4       	jr	C,l_game_menu_top_paint_00102
3485  1163  FB          	ei
3486  1164  C9          	ret
3487  1165              ;	---------------------------------
3488  1165              ; Function game_menu_paint
3489  1165              ; ---------------------------------
3490  1165              _game_menu_paint:
3491  1165  76          	halt
3492  1166  3A 00 00    	ld	a,(_tmp)
3493  1169  C6 28       	add	a,0x28
3494  116B  4F          	ld	c, a
3495  116C  06 1A       	ld	b,0x1a
3496  116E  C5          	push	bc
3497  116F  3E 12       	ld	a,0x12
3498  1171  F5          	push	af
3499  1172  33          	inc	sp
3500  1173  CD 00 00    	call	_NIRVANAP_fillC_callee
3501  1176  21 00 20    	ld	hl,0x2000
3502  1179  E5          	push	hl
3503  117A  CD 00 00    	call	_game_fill_row
3504  117D  21 00 20    	ld	hl,0x2000
3505  1180  E5          	push	hl
3506  1181  CD 00 00    	call	_game_fill_row
3507  1184  21 E3 11    	ld	hl,___str_35
3508  1187  E5          	push	hl
3509  1188  21 0E 0A    	ld	hl,0x0a0e
3510  118B  E5          	push	hl
3511  118C  CD 00 00    	call	_zx_print_str
3512  118F  21 0F 20    	ld	hl,0x200f
3513  1192  E5          	push	hl
3514  1193  CD 00 00    	call	_game_fill_row
3515  1196  21 F1 11    	ld	hl,___str_36
3516  1199  E5          	push	hl
3517  119A  21 10 0A    	ld	hl,0x0a10
3518  119D  E5          	push	hl
3519  119E  CD 00 00    	call	_zx_print_str
3520  11A1  21 11 20    	ld	hl,0x2011
3521  11A4  E5          	push	hl
3522  11A5  CD 00 00    	call	_game_fill_row
3523  11A8  21 FF 11    	ld	hl,___str_37
3524  11AB  E5          	push	hl
3525  11AC  21 12 0A    	ld	hl,0x0a12
3526  11AF  E5          	push	hl
3527  11B0  CD 00 00    	call	_zx_print_str
3528  11B3  21 13 20    	ld	hl,0x2013
3529  11B6  E5          	push	hl
3530  11B7  CD 00 00    	call	_game_fill_row
3531  11BA  21 00 00    	ld	hl,_screen_ink
3532  11BD  36 01       	ld	(hl),0x01
3533  11BF  21 0D 12    	ld	hl,___str_38
3534  11C2  E5          	push	hl
3535  11C3  21 16 07    	ld	hl,0x0716
3536  11C6  E5          	push	hl
3537  11C7  CD 00 00    	call	_zx_print_str
3538  11CA  21 20 12    	ld	hl,___str_39
3539  11CD  E5          	push	hl
3540  11CE  21 17 07    	ld	hl,0x0717
3541  11D1  E5          	push	hl
3542  11D2  CD 00 00    	call	_zx_print_str
3543  11D5  21 00 00    	ld	hl,_tmp_uc
3544  11D8  36 00       	ld	(hl),0x00
3545  11DA  3E 0B       	ld	a,0x0b
3546  11DC  F5          	push	af
3547  11DD  33          	inc	sp
3548  11DE  CD 97 0D    	call	_game_paint_attrib
3549  11E1  33          	inc	sp
3550  11E2  C9          	ret
3551  11E3              ___str_35:
3552  11E3  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3553  11F0  00          	DEFB 0x00
3554  11F1              ___str_36:
3555  11F1  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3556  11FE  00          	DEFB 0x00
3557  11FF              ___str_37:
3558  11FF  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3559  120C  00          	DEFB 0x00
3560  120D              ___str_38:
3561  120D  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3562  121F  00          	DEFB 0x00
3563  1220              ___str_39:
3564  1220  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3565  1231  00          	DEFB 0x00
3566  1232              ;	---------------------------------
3567  1232              ; Function game_menu_e
3568  1232              ; ---------------------------------
3569  1232              _game_menu_e:
3570  1232  CD 00 00    	call	___sdcc_enter_ix
3571  1235  F3          	di
3572  1236  DD 4E 05    	ld	c,(ix+5)
3573  1239  21 00 00    	ld	hl,_tmp_uc
3574  123C  71          	ld	(hl),c
3575  123D  DD 46 07    	ld	b,(ix+7)
3576  1240  04          	inc	b
3577  1241  DD 56 07    	ld	d,(ix+7)
3578  1244  14          	inc	d
3579  1245  14          	inc	d
3580  1246              l_game_menu_e_00114:
3581  1246  DD 7E 06    	ld	a,(ix+6)
3582  1249  21 00 00    	ld	hl,_tmp_uc
3583  124C  96          	sub	a, (hl)
3584  124D  38 56       	jr	C,l_game_menu_e_00109
3585  124F  7E          	ld	a,(hl)
3586  1250  91          	sub	a, c
3587  1251  20 15       	jr	NZ,l_game_menu_e_00102
3588  1253  3A 00 00    	ld	a,(_tmp_uc)
3589  1256  C5          	push	bc
3590  1257  D5          	push	de
3591  1258  F5          	push	af
3592  1259  33          	inc	sp
3593  125A  DD 66 04    	ld	h,(ix+4)
3594  125D  DD 6E 07    	ld	l,(ix+7)
3595  1260  E5          	push	hl
3596  1261  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3597  1264  D1          	pop	de
3598  1265  C1          	pop	bc
3599  1266  18 36       	jr	l_game_menu_e_00108
3600  1268              l_game_menu_e_00102:
3601  1268  3A 00 00    	ld	a,(_tmp_uc)
3602  126B  DD 96 06    	sub	a,(ix+6)
3603  126E  20 14       	jr	NZ,l_game_menu_e_00104
3604  1270  3A 00 00    	ld	a,(_tmp_uc)
3605  1273  C5          	push	bc
3606  1274  D5          	push	de
3607  1275  F5          	push	af
3608  1276  33          	inc	sp
3609  1277  DD 7E 04    	ld	a,(ix+4)
3610  127A  5A          	ld	e,d
3611  127B  57          	ld	d,a
3612  127C  D5          	push	de
3613  127D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3614  1280  D1          	pop	de
3615  1281  C1          	pop	bc
3616  1282  18 1A       	jr	l_game_menu_e_00108
3617  1284              l_game_menu_e_00104:
3618  1284  3A 00 00    	ld	a,(_tmp_uc)
3619  1287  FE 0E       	cp	a,0x0e
3620  1289  28 13       	jr	Z,l_game_menu_e_00108
3621  128B  FE 10       	cp	a,0x10
3622  128D  28 0F       	jr	Z,l_game_menu_e_00108
3623  128F  C5          	push	bc
3624  1290  D5          	push	de
3625  1291  F5          	push	af
3626  1292  33          	inc	sp
3627  1293  DD 7E 04    	ld	a,(ix+4)
3628  1296  48          	ld	c,b
3629  1297  47          	ld	b,a
3630  1298  C5          	push	bc
3631  1299  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3632  129C  D1          	pop	de
3633  129D  C1          	pop	bc
3634  129E              l_game_menu_e_00108:
3635  129E  21 00 00    	ld	hl,_tmp_uc
3636  12A1  34          	inc	(hl)
3637  12A2  34          	inc	(hl)
3638  12A3  18 A1       	jr	l_game_menu_e_00114
3639  12A5              l_game_menu_e_00109:
3640  12A5  DD 7E 08    	ld	a,(ix+8)
3641  12A8  3C          	inc	a
3642  12A9  20 0A       	jr	NZ,l_game_menu_e_00111
3643  12AB  DD 7E 04    	ld	a,(ix+4)
3644  12AE  C6 F0       	add	a,0xf0
3645  12B0  DD 77 04    	ld	(ix+4),a
3646  12B3  18 08       	jr	l_game_menu_e_00112
3647  12B5              l_game_menu_e_00111:
3648  12B5  DD 7E 04    	ld	a,(ix+4)
3649  12B8  C6 10       	add	a,0x10
3650  12BA  DD 77 04    	ld	(ix+4),a
3651  12BD              l_game_menu_e_00112:
3652  12BD  DD 7E 07    	ld	a,(ix+7)
3653  12C0  C6 0C       	add	a,0x0c
3654  12C2  47          	ld	b,a
3655  12C3  79          	ld	a,c
3656  12C4  F5          	push	af
3657  12C5  33          	inc	sp
3658  12C6  DD 7E 04    	ld	a,(ix+4)
3659  12C9  48          	ld	c,b
3660  12CA  47          	ld	b,a
3661  12CB  C5          	push	bc
3662  12CC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3663  12CF  DD 7E 07    	ld	a,(ix+7)
3664  12D2  C6 0E       	add	a,0x0e
3665  12D4  47          	ld	b,a
3666  12D5  DD 66 06    	ld	h,(ix+6)
3667  12D8  DD 6E 04    	ld	l,(ix+4)
3668  12DB  E5          	push	hl
3669  12DC  C5          	push	bc
3670  12DD  33          	inc	sp
3671  12DE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3672  12E1  FB          	ei
3673  12E2  DD E1       	pop	ix
3674  12E4  C9          	ret
3675  12E5              ;	---------------------------------
3676  12E5              ; Function game_menu_handle
3677  12E5              ; ---------------------------------
3678  12E5              _game_menu_handle:
3679  12E5  CD 00 00    	call	___sdcc_enter_ix
3680  12E8  3B          	dec	sp
3681  12E9  2A 00 00    	ld	hl,(_curr_time)
3682  12EC  22 00 00    	ld	(_entry_time),hl
3683  12EF  DD 5E 05    	ld	e,(ix+5)
3684  12F2  21 00 00    	ld	hl,_game_menu_sel
3685  12F5  66          	ld	h,(hl)
3686  12F6  2E 00       	ld	l,0x00
3687  12F8  55          	ld	d, l
3688  12F9  06 08       	ld	b,0x08
3689  12FB              l_game_menu_handle_00148:
3690  12FB  29          	add	hl,hl
3691  12FC  30 01       	jr	NC,l_game_menu_handle_00149
3692  12FE  19          	add	hl,de
3693  12FF              l_game_menu_handle_00149:
3694  12FF  10 FA       	djnz	l_game_menu_handle_00148
3695  1301  DD 7E 06    	ld	a,(ix+6)
3696  1304  85          	add	a,l
3697  1305  32 00 00    	ld	(_s_lin1),a
3698  1308  DD 7E 06    	ld	a,(ix+6)
3699  130B  DD 77 FF    	ld	(ix-1),a
3700  130E              l_game_menu_handle_00111:
3701  130E  21 00 00    	ld	hl,_k1
3702  1311  E5          	push	hl
3703  1312  2A 00 00    	ld	hl,(_joyfunc1)
3704  1315  CD 00 00    	call	___sdcc_call_hl
3705  1318  F1          	pop	af
3706  1319  7D          	ld	a,l
3707  131A  32 00 00    	ld	(_dirs),a
3708  131D  D6 80       	sub	a,0x80
3709  131F  CA C0 13    	jp	Z,l_game_menu_handle_00113
3710  1322  21 05 00    	ld	hl,0x0005
3711  1325  E5          	push	hl
3712  1326  2A 00 00    	ld	hl,(_frame_time)
3713  1329  E5          	push	hl
3714  132A  CD BF 1C    	call	_game_check_time
3715  132D  F1          	pop	af
3716  132E  F1          	pop	af
3717  132F  7D          	ld	a,l
3718  1330  B7          	or	a, a
3719  1331  28 58       	jr	Z,l_game_menu_handle_00106
3720  1333  3A 00 00    	ld	a,(_dirs)
3721  1336  B7          	or	a, a
3722  1337  28 32       	jr	Z,l_game_menu_handle_00104
3723  1339  21 00 00    	ld	hl,_ay_effect_03
3724  133C  CD 00 00    	call	_ay_fx_play
3725  133F  CD 00 00    	call	_sound_slide
3726  1342  3A 00 00    	ld	a,(_s_lin1)
3727  1345  07          	rlca
3728  1346  07          	rlca
3729  1347  07          	rlca
3730  1348  E6 F8       	and	a,0xf8
3731  134A  C6 08       	add	a,0x08
3732  134C  F5          	push	af
3733  134D  33          	inc	sp
3734  134E  26 14       	ld	h,0x14
3735  1350  DD 6E 04    	ld	l,(ix+4)
3736  1353  E5          	push	hl
3737  1354  CD C4 0D    	call	_game_paint_attrib_lin
3738  1357  F1          	pop	af
3739  1358  33          	inc	sp
3740  1359  21 00 00    	ld	hl,_s_lin1
3741  135C  7E          	ld	a,(hl)
3742  135D  DD 86 05    	add	a,(ix+5)
3743  1360  77          	ld	(hl),a
3744  1361  DD 7E 07    	ld	a,(ix+7)
3745  1364  96          	sub	a, (hl)
3746  1365  30 04       	jr	NC,l_game_menu_handle_00104
3747  1367  DD 7E FF    	ld	a,(ix-1)
3748  136A  77          	ld	(hl),a
3749  136B              l_game_menu_handle_00104:
3750  136B  2A 00 00    	ld	hl,(_curr_time)
3751  136E  22 00 00    	ld	(_frame_time),hl
3752  1371  3A 00 00    	ld	a,(_s_lin1)
3753  1374  07          	rlca
3754  1375  07          	rlca
3755  1376  07          	rlca
3756  1377  E6 F8       	and	a,0xf8
3757  1379  C6 08       	add	a,0x08
3758  137B  F5          	push	af
3759  137C  33          	inc	sp
3760  137D  26 14       	ld	h,0x14
3761  137F  DD 6E 04    	ld	l,(ix+4)
3762  1382  E5          	push	hl
3763  1383  CD EB 0D    	call	_game_paint_attrib_lin_h
3764  1386  F1          	pop	af
3765  1387  33          	inc	sp
3766  1388  CD 11 1C    	call	_game_rotate_attrib
3767  138B              l_game_menu_handle_00106:
3768  138B  DD 7E 09    	ld	a,(ix+9)
3769  138E  DD B6 08    	or	a,(ix+8)
3770  1391  CA 0E 13    	jp	Z,l_game_menu_handle_00111
3771  1394  DD 6E 08    	ld	l,(ix+8)
3772  1397  DD 66 09    	ld	h,(ix+9)
3773  139A  E5          	push	hl
3774  139B  2A 00 00    	ld	hl,(_entry_time)
3775  139E  E5          	push	hl
3776  139F  CD BF 1C    	call	_game_check_time
3777  13A2  F1          	pop	af
3778  13A3  F1          	pop	af
3779  13A4  7D          	ld	a,l
3780  13A5  B7          	or	a, a
3781  13A6  CA 0E 13    	jp	Z,l_game_menu_handle_00111
3782  13A9  CD 00 00    	call	_ay_is_playing
3783  13AC  7D          	ld	a,l
3784  13AD  B7          	or	a, a
3785  13AE  C2 0E 13    	jp	NZ,l_game_menu_handle_00111
3786  13B1  CD 2D 1B    	call	_game_hall_of_fame
3787  13B4  DD 7E FF    	ld	a,(ix-1)
3788  13B7  F5          	push	af
3789  13B8  33          	inc	sp
3790  13B9  CD FD 18    	call	_game_menu_back
3791  13BC  33          	inc	sp
3792  13BD  C3 0E 13    	jp	l_game_menu_handle_00111
3793  13C0              l_game_menu_handle_00113:
3794  13C0  3A 00 00    	ld	a,(_s_lin1)
3795  13C3  DD 96 FF    	sub	a,(ix-1)
3796  13C6  47          	ld	b,a
3797  13C7  DD 7E 05    	ld	a,(ix+5)
3798  13CA  48          	ld	c,b
3799  13CB  47          	ld	b,a
3800  13CC  C5          	push	bc
3801  13CD  CD 00 00    	call	__divuchar_callee
3802  13D0  33          	inc	sp
3803  13D1  DD E1       	pop	ix
3804  13D3  C9          	ret
3805  13D4              ;	---------------------------------
3806  13D4              ; Function game_end
3807  13D4              ; ---------------------------------
3808  13D4              _game_end:
3809  13D4  CD 00 00    	call	___sdcc_enter_ix
3810  13D7  F5          	push	af
3811  13D8  F5          	push	af
3812  13D9  CD 5D 09    	call	_game_kill_all_sprites
3813  13DC  CD 00 00    	call	_spr_draw_clear
3814  13DF  21 00 00    	ld	hl,_pb_midi_title
3815  13E2  CD 00 00    	call	_ay_midi_play
3816  13E5  21 00 00    	ld	hl,_tmp0
3817  13E8  36 04       	ld	(hl),0x04
3818  13EA              l_game_end_00129:
3819  13EA  3A 00 00    	ld	a,(_tmp0)
3820  13ED  F5          	push	af
3821  13EE  33          	inc	sp
3822  13EF  21 8C 50    	ld	hl,0x508c
3823  13F2  E5          	push	hl
3824  13F3  CD 00 00    	call	_NIRVANAP_drawT_callee
3825  13F6  21 00 00    	ld	hl,_tmp0
3826  13F9  7E          	ld	a,(hl)
3827  13FA  3C          	inc	a
3828  13FB  3C          	inc	a
3829  13FC  77          	ld	(hl),a
3830  13FD  D6 1C       	sub	a,0x1c
3831  13FF  38 E9       	jr	C,l_game_end_00129
3832  1401  36 04       	ld	(hl),0x04
3833  1403              l_game_end_00131:
3834  1403  3A 00 00    	ld	a,(_tmp0)
3835  1406  F5          	push	af
3836  1407  33          	inc	sp
3837  1408  21 8C 60    	ld	hl,0x608c
3838  140B  E5          	push	hl
3839  140C  CD 00 00    	call	_NIRVANAP_drawT_callee
3840  140F  21 00 00    	ld	hl,_tmp0
3841  1412  7E          	ld	a,(hl)
3842  1413  3C          	inc	a
3843  1414  3C          	inc	a
3844  1415  77          	ld	(hl),a
3845  1416  D6 1C       	sub	a,0x1c
3846  1418  38 E9       	jr	C,l_game_end_00131
3847  141A  36 04       	ld	(hl),0x04
3848  141C              l_game_end_00133:
3849  141C  3A 00 00    	ld	a,(_tmp0)
3850  141F  F5          	push	af
3851  1420  33          	inc	sp
3852  1421  21 8C 70    	ld	hl,0x708c
3853  1424  E5          	push	hl
3854  1425  CD 00 00    	call	_NIRVANAP_drawT_callee
3855  1428  21 00 00    	ld	hl,_tmp0
3856  142B  7E          	ld	a,(hl)
3857  142C  3C          	inc	a
3858  142D  3C          	inc	a
3859  142E  77          	ld	(hl),a
3860  142F  D6 1C       	sub	a,0x1c
3861  1431  38 E9       	jr	C,l_game_end_00133
3862  1433  21 50 18    	ld	hl,0x1850
3863  1436  E5          	push	hl
3864  1437  3E D6       	ld	a,0xd6
3865  1439  F5          	push	af
3866  143A  33          	inc	sp
3867  143B  CD 00 00    	call	_NIRVANAP_drawT_callee
3868  143E  21 9C 01    	ld	hl,0x019c
3869  1441  E5          	push	hl
3870  1442  21 01 1D    	ld	hl,0x1d01
3871  1445  E5          	push	hl
3872  1446  3E 20       	ld	a,0x20
3873  1448  F5          	push	af
3874  1449  33          	inc	sp
3875  144A  CD 32 12    	call	_game_menu_e
3876  144D  F1          	pop	af
3877  144E  33          	inc	sp
3878  144F  21 9F FF    	ld	hl,0xff9f
3879  1452  E3          	ex	(sp),hl
3880  1453  21 01 1D    	ld	hl,0x1d01
3881  1456  E5          	push	hl
3882  1457  3E 80       	ld	a,0x80
3883  1459  F5          	push	af
3884  145A  33          	inc	sp
3885  145B  CD 32 12    	call	_game_menu_e
3886  145E  F1          	pop	af
3887  145F  F1          	pop	af
3888  1460  33          	inc	sp
3889  1461  3E 00       	ld	a,0x00
3890  1463  DD 77 FD    	ld	(ix-3),a
3891  1466  DD 77 FC    	ld	(ix-4),a
3892  1469  3A 00 00    	ld	a,(_game_two_player)
3893  146C  B7          	or	a, a
3894  146D  28 16       	jr	Z,l_game_end_00109
3895  146F  3A 00 00    	ld	a,(_game_lives)
3896  1472  B7          	or	a, a
3897  1473  28 04       	jr	Z,l_game_end_00105
3898  1475  DD 36 FD 01 	ld	(ix-3),0x01
3899  1479              l_game_end_00105:
3900  1479  3A 01 00    	ld	a, (_game_lives + 1)
3901  147C  B7          	or	a, a
3902  147D  28 0A       	jr	Z,l_game_end_00110
3903  147F  DD 36 FC 01 	ld	(ix-4),0x01
3904  1483  18 04       	jr	l_game_end_00110
3905  1485              l_game_end_00109:
3906  1485  DD 36 FD 01 	ld	(ix-3),0x01
3907  1489              l_game_end_00110:
3908  1489  DD 7E FD    	ld	a,(ix-3)
3909  148C  3D          	dec	a
3910  148D  20 04       	jr	NZ,l_game_end_00221
3911  148F  3E 01       	ld	a,0x01
3912  1491  18 01       	jr	l_game_end_00222
3913  1493              l_game_end_00221:
3914  1493  AF          	xor	a,a
3915  1494              l_game_end_00222:
3916  1494  DD 77 FE    	ld	(ix-2),a
3917  1497  B7          	or	a, a
3918  1498  28 1C       	jr	Z,l_game_end_00112
3919  149A  DD 7E FC    	ld	a,(ix-4)
3920  149D  B7          	or	a, a
3921  149E  20 16       	jr	NZ,l_game_end_00112
3922  14A0  21 40 16    	ld	hl,___str_40
3923  14A3  E5          	push	hl
3924  14A4  21 13 01    	ld	hl,0x0113
3925  14A7  E5          	push	hl
3926  14A8  CD 00 00    	call	_zx_print_str
3927  14AB  21 50 0C    	ld	hl,0x0c50
3928  14AE  E5          	push	hl
3929  14AF  3E 03       	ld	a,0x03
3930  14B1  F5          	push	af
3931  14B2  33          	inc	sp
3932  14B3  CD 00 00    	call	_NIRVANAP_drawT_callee
3933  14B6              l_game_end_00112:
3934  14B6  DD 7E FC    	ld	a,(ix-4)
3935  14B9  3D          	dec	a
3936  14BA  20 04       	jr	NZ,l_game_end_00223
3937  14BC  3E 01       	ld	a,0x01
3938  14BE  18 01       	jr	l_game_end_00224
3939  14C0              l_game_end_00223:
3940  14C0  AF          	xor	a,a
3941  14C1              l_game_end_00224:
3942  14C1  DD 77 FF    	ld	(ix-1),a
3943  14C4  DD 7E FD    	ld	a,(ix-3)
3944  14C7  B7          	or	a, a
3945  14C8  20 1C       	jr	NZ,l_game_end_00115
3946  14CA  DD 7E FF    	ld	a,(ix-1)
3947  14CD  B7          	or	a, a
3948  14CE  28 16       	jr	Z,l_game_end_00115
3949  14D0  21 4A 16    	ld	hl,___str_41
3950  14D3  E5          	push	hl
3951  14D4  21 13 01    	ld	hl,0x0113
3952  14D7  E5          	push	hl
3953  14D8  CD 00 00    	call	_zx_print_str
3954  14DB  21 60 0E    	ld	hl,0x0e60
3955  14DE  E5          	push	hl
3956  14DF  3E 1B       	ld	a,0x1b
3957  14E1  F5          	push	af
3958  14E2  33          	inc	sp
3959  14E3  CD 00 00    	call	_NIRVANAP_drawT_callee
3960  14E6              l_game_end_00115:
3961  14E6  DD 7E FE    	ld	a,(ix-2)
3962  14E9  B7          	or	a, a
3963  14EA  28 27       	jr	Z,l_game_end_00118
3964  14EC  DD 7E FF    	ld	a,(ix-1)
3965  14EF  B7          	or	a, a
3966  14F0  28 21       	jr	Z,l_game_end_00118
3967  14F2  21 53 16    	ld	hl,___str_42
3968  14F5  E5          	push	hl
3969  14F6  21 13 01    	ld	hl,0x0113
3970  14F9  E5          	push	hl
3971  14FA  CD 00 00    	call	_zx_print_str
3972  14FD  21 50 0C    	ld	hl,0x0c50
3973  1500  E5          	push	hl
3974  1501  3E 03       	ld	a,0x03
3975  1503  F5          	push	af
3976  1504  33          	inc	sp
3977  1505  CD 00 00    	call	_NIRVANAP_drawT_callee
3978  1508  21 60 0E    	ld	hl,0x0e60
3979  150B  E5          	push	hl
3980  150C  3E 1B       	ld	a,0x1b
3981  150E  F5          	push	af
3982  150F  33          	inc	sp
3983  1510  CD 00 00    	call	_NIRVANAP_drawT_callee
3984  1513              l_game_end_00118:
3985  1513  21 C8 00    	ld	hl,0x00c8
3986  1516  E5          	push	hl
3987  1517  21 01 1F    	ld	hl,0x1f01
3988  151A  E5          	push	hl
3989  151B  3E 13       	ld	a,0x13
3990  151D  F5          	push	af
3991  151E  33          	inc	sp
3992  151F  CD 2D 1C    	call	_game_colour_message
3993  1522  F1          	pop	af
3994  1523  F1          	pop	af
3995  1524  33          	inc	sp
3996  1525  DD 7E FE    	ld	a,(ix-2)
3997  1528  B7          	or	a, a
3998  1529  28 32       	jr	Z,l_game_end_00121
3999  152B  DD 7E FC    	ld	a,(ix-4)
4000  152E  B7          	or	a, a
4001  152F  20 2C       	jr	NZ,l_game_end_00121
4002  1531  21 40 12    	ld	hl,0x1240
4003  1534  E5          	push	hl
4004  1535  3E BE       	ld	a,0xbe
4005  1537  F5          	push	af
4006  1538  33          	inc	sp
4007  1539  CD 00 00    	call	_NIRVANAP_drawT_callee
4008  153C  21 50 12    	ld	hl,0x1250
4009  153F  E5          	push	hl
4010  1540  3E CA       	ld	a,0xca
4011  1542  F5          	push	af
4012  1543  33          	inc	sp
4013  1544  CD 00 00    	call	_NIRVANAP_drawT_callee
4014  1547  21 67 16    	ld	hl,___str_43
4015  154A  E5          	push	hl
4016  154B  21 13 01    	ld	hl,0x0113
4017  154E  E5          	push	hl
4018  154F  CD 00 00    	call	_zx_print_str
4019  1552  21 40 0C    	ld	hl,0x0c40
4020  1555  E5          	push	hl
4021  1556  3E BE       	ld	a,0xbe
4022  1558  F5          	push	af
4023  1559  33          	inc	sp
4024  155A  CD 00 00    	call	_NIRVANAP_drawT_callee
4025  155D              l_game_end_00121:
4026  155D  DD 7E FD    	ld	a,(ix-3)
4027  1560  B7          	or	a, a
4028  1561  20 32       	jr	NZ,l_game_end_00124
4029  1563  DD 7E FF    	ld	a,(ix-1)
4030  1566  B7          	or	a, a
4031  1567  28 2C       	jr	Z,l_game_end_00124
4032  1569  21 50 12    	ld	hl,0x1250
4033  156C  E5          	push	hl
4034  156D  3E BE       	ld	a,0xbe
4035  156F  F5          	push	af
4036  1570  33          	inc	sp
4037  1571  CD 00 00    	call	_NIRVANAP_drawT_callee
4038  1574  21 60 12    	ld	hl,0x1260
4039  1577  E5          	push	hl
4040  1578  3E CA       	ld	a,0xca
4041  157A  F5          	push	af
4042  157B  33          	inc	sp
4043  157C  CD 00 00    	call	_NIRVANAP_drawT_callee
4044  157F  21 67 16    	ld	hl,___str_43
4045  1582  E5          	push	hl
4046  1583  21 13 01    	ld	hl,0x0113
4047  1586  E5          	push	hl
4048  1587  CD 00 00    	call	_zx_print_str
4049  158A  21 50 0E    	ld	hl,0x0e50
4050  158D  E5          	push	hl
4051  158E  3E BE       	ld	a,0xbe
4052  1590  F5          	push	af
4053  1591  33          	inc	sp
4054  1592  CD 00 00    	call	_NIRVANAP_drawT_callee
4055  1595              l_game_end_00124:
4056  1595  DD 7E FE    	ld	a,(ix-2)
4057  1598  B7          	or	a, a
4058  1599  28 53       	jr	Z,l_game_end_00127
4059  159B  DD 7E FF    	ld	a,(ix-1)
4060  159E  B7          	or	a, a
4061  159F  28 4D       	jr	Z,l_game_end_00127
4062  15A1  21 7B 16    	ld	hl,___str_44
4063  15A4  E5          	push	hl
4064  15A5  21 13 01    	ld	hl,0x0113
4065  15A8  E5          	push	hl
4066  15A9  CD 00 00    	call	_zx_print_str
4067  15AC  21 40 12    	ld	hl,0x1240
4068  15AF  E5          	push	hl
4069  15B0  3E BE       	ld	a,0xbe
4070  15B2  F5          	push	af
4071  15B3  33          	inc	sp
4072  15B4  CD 00 00    	call	_NIRVANAP_drawT_callee
4073  15B7  21 50 12    	ld	hl,0x1250
4074  15BA  E5          	push	hl
4075  15BB  3E CA       	ld	a,0xca
4076  15BD  F5          	push	af
4077  15BE  33          	inc	sp
4078  15BF  CD 00 00    	call	_NIRVANAP_drawT_callee
4079  15C2  21 50 10    	ld	hl,0x1050
4080  15C5  E5          	push	hl
4081  15C6  3E BE       	ld	a,0xbe
4082  15C8  F5          	push	af
4083  15C9  33          	inc	sp
4084  15CA  CD 00 00    	call	_NIRVANAP_drawT_callee
4085  15CD  21 60 10    	ld	hl,0x1060
4086  15D0  E5          	push	hl
4087  15D1  3E CA       	ld	a,0xca
4088  15D3  F5          	push	af
4089  15D4  33          	inc	sp
4090  15D5  CD 00 00    	call	_NIRVANAP_drawT_callee
4091  15D8  21 40 0C    	ld	hl,0x0c40
4092  15DB  E5          	push	hl
4093  15DC  3E BE       	ld	a,0xbe
4094  15DE  F5          	push	af
4095  15DF  33          	inc	sp
4096  15E0  CD 00 00    	call	_NIRVANAP_drawT_callee
4097  15E3  21 50 0E    	ld	hl,0x0e50
4098  15E6  E5          	push	hl
4099  15E7  3E BE       	ld	a,0xbe
4100  15E9  F5          	push	af
4101  15EA  33          	inc	sp
4102  15EB  CD 00 00    	call	_NIRVANAP_drawT_callee
4103  15EE              l_game_end_00127:
4104  15EE  21 C8 00    	ld	hl,0x00c8
4105  15F1  E5          	push	hl
4106  15F2  21 01 1F    	ld	hl,0x1f01
4107  15F5  E5          	push	hl
4108  15F6  3E 13       	ld	a,0x13
4109  15F8  F5          	push	af
4110  15F9  33          	inc	sp
4111  15FA  CD 2D 1C    	call	_game_colour_message
4112  15FD  F1          	pop	af
4113  15FE  33          	inc	sp
4114  15FF  21 91 16    	ld	hl,___str_45
4115  1602  E3          	ex	(sp),hl
4116  1603  21 13 01    	ld	hl,0x0113
4117  1606  E5          	push	hl
4118  1607  CD 00 00    	call	_zx_print_str
4119  160A  21 C8 00    	ld	hl,0x00c8
4120  160D  E5          	push	hl
4121  160E  21 01 1F    	ld	hl,0x1f01
4122  1611  E5          	push	hl
4123  1612  3E 13       	ld	a,0x13
4124  1614  F5          	push	af
4125  1615  33          	inc	sp
4126  1616  CD 2D 1C    	call	_game_colour_message
4127  1619  F1          	pop	af
4128  161A  33          	inc	sp
4129  161B  21 A8 16    	ld	hl,___str_46
4130  161E  E3          	ex	(sp),hl
4131  161F  21 13 01    	ld	hl,0x0113
4132  1622  E5          	push	hl
4133  1623  CD 00 00    	call	_zx_print_str
4134  1626  21 C8 00    	ld	hl,0x00c8
4135  1629  E5          	push	hl
4136  162A  21 01 1F    	ld	hl,0x1f01
4137  162D  E5          	push	hl
4138  162E  3E 13       	ld	a,0x13
4139  1630  F5          	push	af
4140  1631  33          	inc	sp
4141  1632  CD 2D 1C    	call	_game_colour_message
4142  1635  F1          	pop	af
4143  1636  F1          	pop	af
4144  1637  33          	inc	sp
4145  1638  CD 00 00    	call	_spr_draw_clear
4146  163B  DD F9       	ld	sp, ix
4147  163D  DD E1       	pop	ix
4148  163F  C9          	ret
4149  1640              ___str_40:
4150  1640  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4151  1649  00          	DEFB 0x00
4152  164A              ___str_41:
4153  164A  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4154  1652  00          	DEFB 0x00
4155  1653              ___str_42:
4156  1653  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4157  1666  00          	DEFB 0x00
4158  1667              ___str_43:
4159  1667  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4160  167A  00          	DEFB 0x00
4161  167B              ___str_44:
4162  167B  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4163  1690  00          	DEFB 0x00
4164  1691              ___str_45:
4165  1691  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4166  16A7  00          	DEFB 0x00
4167  16A8              ___str_46:
4168  16A8  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4169  16BE  00          	DEFB 0x00
4170  16BF              ;	---------------------------------
4171  16BF              ; Function game_hall_check
4172  16BF              ; ---------------------------------
4173  16BF              _game_hall_check:
4174  16BF  CD 00 00    	call	___sdcc_enter_ix
4175  16C2  01 00 00    	ld	bc,_player_score+0
4176  16C5  DD 6E 04    	ld	l,(ix+4)
4177  16C8  26 00       	ld	h,0x00
4178  16CA  29          	add	hl, hl
4179  16CB  09          	add	hl,bc
4180  16CC  4E          	ld	c,(hl)
4181  16CD  23          	inc	hl
4182  16CE  46          	ld	b,(hl)
4183  16CF  2A 3A 00    	ld	hl,(_hof + 0x003a)
4184  16D2  AF          	xor	a,a
4185  16D3  ED 42       	sbc	hl,bc
4186  16D5  30 09       	jr	NC,l_game_hall_check_00104
4187  16D7  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4188  16DB  21 36 00    	ld	hl,+(_hof + 0x0036)
4189  16DE  18 14       	jr	l_game_hall_check_00106
4190  16E0              l_game_hall_check_00104:
4191  16E0  2A 34 00    	ld	hl,(_hof + 0x0034)
4192  16E3  AF          	xor	a,a
4193  16E4  ED 42       	sbc	hl,bc
4194  16E6  30 09       	jr	NC,l_game_hall_check_00105
4195  16E8  ED 43 34 00 	ld	(_hof + 0x0034),bc
4196  16EC  21 30 00    	ld	hl,+(_hof + 0x0030)
4197  16EF  18 03       	jr	l_game_hall_check_00106
4198  16F1              l_game_hall_check_00105:
4199  16F1  21 00 00    	ld	hl,0x0000
4200  16F4              l_game_hall_check_00106:
4201  16F4  DD E1       	pop	ix
4202  16F6  C9          	ret
4203  16F7              ;	---------------------------------
4204  16F7              ; Function compare_scores
4205  16F7              ; ---------------------------------
4206  16F7              _compare_scores:
4207  16F7  CD 00 00    	call	___sdcc_enter_ix
4208  16FA  DD 6E 06    	ld	l,(ix+6)
4209  16FD  DD 66 07    	ld	h,(ix+7)
4210  1700  11 04 00    	ld	de,0x0004
4211  1703  19          	add	hl, de
4212  1704  4E          	ld	c,(hl)
4213  1705  23          	inc	hl
4214  1706  46          	ld	b,(hl)
4215  1707  DD 6E 04    	ld	l,(ix+4)
4216  170A  DD 66 05    	ld	h,(ix+5)
4217  170D  11 04 00    	ld	de,0x0004
4218  1710  19          	add	hl, de
4219  1711  5E          	ld	e,(hl)
4220  1712  23          	inc	hl
4221  1713  56          	ld	d,(hl)
4222  1714  79          	ld	a,c
4223  1715  93          	sub	a, e
4224  1716  6F          	ld	l,a
4225  1717  78          	ld	a,b
4226  1718  9A          	sbc	a, d
4227  1719  67          	ld	h,a
4228  171A  DD E1       	pop	ix
4229  171C  C9          	ret
4230  171D              ;	---------------------------------
4231  171D              ; Function game_hall_enter
4232  171D              ; ---------------------------------
4233  171D              _game_hall_enter:
4234  171D  CD 00 00    	call	___sdcc_enter_ix
4235  1720  21 F7 FF    	ld	hl,-9
4236  1723  39          	add	hl,sp
4237  1724  F9          	ld	sp,hl
4238  1725  CD 00 00    	call	_spr_draw_clear
4239  1728  AF          	xor	a, a
4240  1729  F5          	push	af
4241  172A  33          	inc	sp
4242  172B  CD 97 0D    	call	_game_paint_attrib
4243  172E  33          	inc	sp
4244  172F  ED 4B 00 00 	ld	bc,(_player_score)
4245  1733  2A 02 00    	ld	hl, (_player_score + 2)
4246  1736  AF          	xor	a,a
4247  1737  ED 42       	sbc	hl,bc
4248  1739  30 14       	jr	NC,l_game_hall_enter_00102
4249  173B  AF          	xor	a, a
4250  173C  F5          	push	af
4251  173D  33          	inc	sp
4252  173E  CD BF 16    	call	_game_hall_check
4253  1741  33          	inc	sp
4254  1742  E5          	push	hl
4255  1743  3E 01       	ld	a,0x01
4256  1745  F5          	push	af
4257  1746  33          	inc	sp
4258  1747  CD BF 16    	call	_game_hall_check
4259  174A  33          	inc	sp
4260  174B  EB          	ex	de,hl
4261  174C  C1          	pop	bc
4262  174D  18 13       	jr	l_game_hall_enter_00103
4263  174F              l_game_hall_enter_00102:
4264  174F  3E 01       	ld	a,0x01
4265  1751  F5          	push	af
4266  1752  33          	inc	sp
4267  1753  CD BF 16    	call	_game_hall_check
4268  1756  33          	inc	sp
4269  1757  E5          	push	hl
4270  1758  AF          	xor	a, a
4271  1759  F5          	push	af
4272  175A  33          	inc	sp
4273  175B  CD BF 16    	call	_game_hall_check
4274  175E  33          	inc	sp
4275  175F  D1          	pop	de
4276  1760  4D          	ld	c,l
4277  1761  44          	ld	b,h
4278  1762              l_game_hall_enter_00103:
4279  1762  78          	ld	a,b
4280  1763  B1          	or	a,c
4281  1764  20 05       	jr	NZ,l_game_hall_enter_00125
4282  1766  7A          	ld	a,d
4283  1767  B3          	or	a,e
4284  1768  CA BB 18    	jp	Z,l_game_hall_enter_00126
4285  176B              l_game_hall_enter_00125:
4286  176B  3E 00       	ld	a,0x00
4287  176D  DD 77 FA    	ld	(ix-6),a
4288  1770  DD 77 FB    	ld	(ix-5),a
4289  1773  DD 77 F7    	ld	(ix-9),a
4290  1776  DD 77 F8    	ld	(ix-8),a
4291  1779  DD 36 F9 00 	ld	(ix-7),0x00
4292  177D  78          	ld	a,b
4293  177E  B1          	or	a,c
4294  177F  28 0F       	jr	Z,l_game_hall_enter_00105
4295  1781  DD 36 F8 01 	ld	(ix-8),0x01
4296  1785  C5          	push	bc
4297  1786  D5          	push	de
4298  1787  AF          	xor	a, a
4299  1788  F5          	push	af
4300  1789  33          	inc	sp
4301  178A  CD 1A 19    	call	_game_hall_enter_phs
4302  178D  33          	inc	sp
4303  178E  D1          	pop	de
4304  178F  C1          	pop	bc
4305  1790              l_game_hall_enter_00105:
4306  1790  7A          	ld	a,d
4307  1791  B3          	or	a,e
4308  1792  28 10       	jr	Z,l_game_hall_enter_00107
4309  1794  DD 36 F9 05 	ld	(ix-7),0x05
4310  1798  C5          	push	bc
4311  1799  D5          	push	de
4312  179A  3E 01       	ld	a,0x01
4313  179C  F5          	push	af
4314  179D  33          	inc	sp
4315  179E  CD 1A 19    	call	_game_hall_enter_phs
4316  17A1  33          	inc	sp
4317  17A2  D1          	pop	de
4318  17A3  C1          	pop	bc
4319  17A4              l_game_hall_enter_00107:
4320  17A4  C5          	push	bc
4321  17A5  D5          	push	de
4322  17A6  21 C9 18    	ld	hl,___str_47
4323  17A9  E5          	push	hl
4324  17AA  21 02 0A    	ld	hl,0x0a02
4325  17AD  E5          	push	hl
4326  17AE  CD 00 00    	call	_zx_print_str
4327  17B1  21 D6 18    	ld	hl,___str_48
4328  17B4  E5          	push	hl
4329  17B5  21 12 06    	ld	hl,0x0612
4330  17B8  E5          	push	hl
4331  17B9  CD 00 00    	call	_zx_print_str
4332  17BC  21 E9 18    	ld	hl,___str_49
4333  17BF  E5          	push	hl
4334  17C0  21 13 06    	ld	hl,0x0613
4335  17C3  E5          	push	hl
4336  17C4  CD 00 00    	call	_zx_print_str
4337  17C7  D1          	pop	de
4338  17C8  C1          	pop	bc
4339  17C9  DD 71 FE    	ld	(ix-2),c
4340  17CC  DD 70 FF    	ld	(ix-1),b
4341  17CF  DD 73 FC    	ld	(ix-4),e
4342  17D2  DD 72 FD    	ld	(ix-3),d
4343  17D5              l_game_hall_enter_00122:
4344  17D5  DD 7E F8    	ld	a,(ix-8)
4345  17D8  DD 86 F9    	add	a,(ix-7)
4346  17DB  B7          	or	a, a
4347  17DC  CA A3 18    	jp	Z,l_game_hall_enter_00124
4348  17DF  21 05 00    	ld	hl,0x0005
4349  17E2  E5          	push	hl
4350  17E3  2A 00 00    	ld	hl,(_frame_time)
4351  17E6  E5          	push	hl
4352  17E7  CD BF 1C    	call	_game_check_time
4353  17EA  F1          	pop	af
4354  17EB  F1          	pop	af
4355  17EC  7D          	ld	a,l
4356  17ED  B7          	or	a, a
4357  17EE  28 36       	jr	Z,l_game_hall_enter_00113
4358  17F0  DD 7E F7    	ld	a,(ix-9)
4359  17F3  D6 01       	sub	a,0x01
4360  17F5  3E 00       	ld	a,0x00
4361  17F7  17          	rla
4362  17F8  DD 77 F7    	ld	(ix-9),a
4363  17FB  DD 7E F8    	ld	a,(ix-8)
4364  17FE  B7          	or	a, a
4365  17FF  28 0B       	jr	Z,l_game_hall_enter_00109
4366  1801  DD 66 F7    	ld	h,(ix-9)
4367  1804  DD 6E F8    	ld	l,(ix-8)
4368  1807  E5          	push	hl
4369  1808  CD A4 19    	call	_game_hall_print_p
4370  180B  F1          	pop	af
4371  180C              l_game_hall_enter_00109:
4372  180C  DD 7E F9    	ld	a,(ix-7)
4373  180F  B7          	or	a, a
4374  1810  28 0B       	jr	Z,l_game_hall_enter_00111
4375  1812  DD 66 F7    	ld	h,(ix-9)
4376  1815  DD 6E F9    	ld	l,(ix-7)
4377  1818  E5          	push	hl
4378  1819  CD A4 19    	call	_game_hall_print_p
4379  181C  F1          	pop	af
4380  181D              l_game_hall_enter_00111:
4381  181D  CD 11 1C    	call	_game_rotate_attrib
4382  1820  2A 00 00    	ld	hl,(_curr_time)
4383  1823  22 00 00    	ld	(_frame_time),hl
4384  1826              l_game_hall_enter_00113:
4385  1826  21 00 00    	ld	hl,_k1
4386  1829  E5          	push	hl
4387  182A  2A 00 00    	ld	hl,(_joyfunc1)
4388  182D  CD 00 00    	call	___sdcc_call_hl
4389  1830  F1          	pop	af
4390  1831  7D          	ld	a,l
4391  1832  32 00 00    	ld	(_dirs),a
4392  1835  DD 7E FA    	ld	a,(ix-6)
4393  1838  B7          	or	a, a
4394  1839  20 22       	jr	NZ,l_game_hall_enter_00115
4395  183B  DD 7E F8    	ld	a,(ix-8)
4396  183E  B7          	or	a, a
4397  183F  28 1C       	jr	Z,l_game_hall_enter_00115
4398  1841  F5          	push	af
4399  1842  33          	inc	sp
4400  1843  CD 62 1A    	call	_game_hall_edit_p
4401  1846  33          	inc	sp
4402  1847  DD 75 F8    	ld	(ix-8),l
4403  184A  7D          	ld	a,l
4404  184B  B7          	or	a, a
4405  184C  20 0F       	jr	NZ,l_game_hall_enter_00115
4406  184E  DD 5E FE    	ld	e,(ix-2)
4407  1851  DD 56 FF    	ld	d,(ix-1)
4408  1854  AF          	xor	a,a
4409  1855  21 00 00    	ld	hl,_initials
4410  1858              l_game_hall_enter_00190:
4411  1858  BE          	cp	a, (hl)
4412  1859  ED A0       	ldi
4413  185B  20 FB       	jr	NZ, l_game_hall_enter_00190
4414  185D              l_game_hall_enter_00115:
4415  185D  3A 00 00    	ld	a,(_dirs)
4416  1860  DD 77 FA    	ld	(ix-6),a
4417  1863  21 00 00    	ld	hl,_k2
4418  1866  E5          	push	hl
4419  1867  2A 00 00    	ld	hl,(_joyfunc2)
4420  186A  CD 00 00    	call	___sdcc_call_hl
4421  186D  F1          	pop	af
4422  186E  7D          	ld	a,l
4423  186F  32 00 00    	ld	(_dirs),a
4424  1872  DD 7E FB    	ld	a,(ix-5)
4425  1875  B7          	or	a, a
4426  1876  20 22       	jr	NZ,l_game_hall_enter_00119
4427  1878  DD 7E F9    	ld	a,(ix-7)
4428  187B  B7          	or	a, a
4429  187C  28 1C       	jr	Z,l_game_hall_enter_00119
4430  187E  F5          	push	af
4431  187F  33          	inc	sp
4432  1880  CD 62 1A    	call	_game_hall_edit_p
4433  1883  33          	inc	sp
4434  1884  DD 75 F9    	ld	(ix-7),l
4435  1887  7D          	ld	a,l
4436  1888  B7          	or	a, a
4437  1889  20 0F       	jr	NZ,l_game_hall_enter_00119
4438  188B  DD 5E FC    	ld	e,(ix-4)
4439  188E  DD 56 FD    	ld	d,(ix-3)
4440  1891  AF          	xor	a,a
4441  1892  21 04 00    	ld	hl,+(_initials + 0x0004)
4442  1895              l_game_hall_enter_00191:
4443  1895  BE          	cp	a, (hl)
4444  1896  ED A0       	ldi
4445  1898  20 FB       	jr	NZ, l_game_hall_enter_00191
4446  189A              l_game_hall_enter_00119:
4447  189A  3A 00 00    	ld	a,(_dirs)
4448  189D  DD 77 FB    	ld	(ix-5),a
4449  18A0  C3 D5 17    	jp	l_game_hall_enter_00122
4450  18A3              l_game_hall_enter_00124:
4451  18A3  CD 00 00    	call	_ay_reset
4452  18A6  CD 00 00    	call	_spr_draw_clear
4453  18A9  01 F7 16    	ld	bc,_compare_scores
4454  18AC  C5          	push	bc
4455  18AD  21 06 00    	ld	hl,0x0006
4456  18B0  E5          	push	hl
4457  18B1  2E 0A       	ld	l,0x0a
4458  18B3  E5          	push	hl
4459  18B4  21 00 00    	ld	hl,_hof
4460  18B7  E5          	push	hl
4461  18B8  CD 00 00    	call	__insertion_sort__callee
4462  18BB              l_game_hall_enter_00126:
4463  18BB  CD 2D 1B    	call	_game_hall_of_fame
4464  18BE  AF          	xor	a, a
4465  18BF  F5          	push	af
4466  18C0  33          	inc	sp
4467  18C1  CD FD 18    	call	_game_menu_back
4468  18C4  DD F9       	ld	sp,ix
4469  18C6  DD E1       	pop	ix
4470  18C8  C9          	ret
4471  18C9              ___str_47:
4472  18C9  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4473  18D5  00          	DEFB 0x00
4474  18D6              ___str_48:
4475  18D6  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4476  18E8  00          	DEFB 0x00
4477  18E9              ___str_49:
4478  18E9  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4479  18FC  00          	DEFB 0x00
4480  18FD              ;	---------------------------------
4481  18FD              ; Function game_menu_back
4482  18FD              ; ---------------------------------
4483  18FD              _game_menu_back:
4484  18FD  CD 00 00    	call	___sdcc_enter_ix
4485  1900  21 00 00    	ld	hl,_game_menu_sel
4486  1903  36 00       	ld	(hl),0x00
4487  1905  DD 7E 04    	ld	a,(ix+4)
4488  1908  32 00 00    	ld	(_s_lin1),a
4489  190B  CD EF 10    	call	_game_menu_top_paint
4490  190E  CD 65 11    	call	_game_menu_paint
4491  1911  2A 00 00    	ld	hl,(_curr_time)
4492  1914  22 00 00    	ld	(_entry_time),hl
4493  1917  DD E1       	pop	ix
4494  1919  C9          	ret
4495  191A              ;	---------------------------------
4496  191A              ; Function game_hall_enter_phs
4497  191A              ; ---------------------------------
4498  191A              _game_hall_enter_phs:
4499  191A  CD 00 00    	call	___sdcc_enter_ix
4500  191D  DD 7E 04    	ld	a,(ix+4)
4501  1920  B7          	or	a, a
4502  1921  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4503  1923  21 9C 01    	ld	hl,0x019c
4504  1926  E5          	push	hl
4505  1927  21 02 0C    	ld	hl,0x0c02
4506  192A  E5          	push	hl
4507  192B  3E 30       	ld	a,0x30
4508  192D  F5          	push	af
4509  192E  33          	inc	sp
4510  192F  CD 32 12    	call	_game_menu_e
4511  1932  F1          	pop	af
4512  1933  33          	inc	sp
4513  1934  21 9F FF    	ld	hl,0xff9f
4514  1937  E3          	ex	(sp),hl
4515  1938  21 02 0C    	ld	hl,0x0c02
4516  193B  E5          	push	hl
4517  193C  3E 7C       	ld	a,0x7c
4518  193E  F5          	push	af
4519  193F  33          	inc	sp
4520  1940  CD 32 12    	call	_game_menu_e
4521  1943  F1          	pop	af
4522  1944  33          	inc	sp
4523  1945  21 98 19    	ld	hl,___str_50
4524  1948  E3          	ex	(sp),hl
4525  1949  21 07 05    	ld	hl,0x0507
4526  194C  E5          	push	hl
4527  194D  CD 00 00    	call	_zx_print_str
4528  1950  21 9D 19    	ld	hl,___str_51
4529  1953  E5          	push	hl
4530  1954  21 08 05    	ld	hl,0x0508
4531  1957  E5          	push	hl
4532  1958  CD 00 00    	call	_zx_print_str
4533  195B  18 38       	jr	l_game_hall_enter_phs_00104
4534  195D              l_game_hall_enter_phs_00102:
4535  195D  21 9C 01    	ld	hl,0x019c
4536  1960  E5          	push	hl
4537  1961  21 12 1C    	ld	hl,0x1c12
4538  1964  E5          	push	hl
4539  1965  3E 30       	ld	a,0x30
4540  1967  F5          	push	af
4541  1968  33          	inc	sp
4542  1969  CD 32 12    	call	_game_menu_e
4543  196C  F1          	pop	af
4544  196D  33          	inc	sp
4545  196E  21 9F FF    	ld	hl,0xff9f
4546  1971  E3          	ex	(sp),hl
4547  1972  21 12 1C    	ld	hl,0x1c12
4548  1975  E5          	push	hl
4549  1976  3E 7C       	ld	a,0x7c
4550  1978  F5          	push	af
4551  1979  33          	inc	sp
4552  197A  CD 32 12    	call	_game_menu_e
4553  197D  F1          	pop	af
4554  197E  33          	inc	sp
4555  197F  21 98 19    	ld	hl,___str_50
4556  1982  E3          	ex	(sp),hl
4557  1983  21 07 15    	ld	hl,0x1507
4558  1986  E5          	push	hl
4559  1987  CD 00 00    	call	_zx_print_str
4560  198A  21 9D 19    	ld	hl,___str_51
4561  198D  E5          	push	hl
4562  198E  21 08 15    	ld	hl,0x1508
4563  1991  E5          	push	hl
4564  1992  CD 00 00    	call	_zx_print_str
4565  1995              l_game_hall_enter_phs_00104:
4566  1995  DD E1       	pop	ix
4567  1997  C9          	ret
4568  1998              ___str_50:
4569  1998  48 49 47 48 	DEFM "HIGH"
4570  199C  00          	DEFB 0x00
4571  199D              ___str_51:
4572  199D  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4573  19A3  00          	DEFB 0x00
4574  19A4              ;	---------------------------------
4575  19A4              ; Function game_hall_print_p
4576  19A4              ; ---------------------------------
4577  19A4              _game_hall_print_p:
4578  19A4  CD 00 00    	call	___sdcc_enter_ix
4579  19A7  DD 7E 04    	ld	a,(ix+4)
4580  19AA  D6 05       	sub	a,0x05
4581  19AC  30 59       	jr	NC,l_game_hall_print_p_00108
4582  19AE  21 00 00    	ld	hl,_initials
4583  19B1  E5          	push	hl
4584  19B2  21 0D 06    	ld	hl,0x060d
4585  19B5  E5          	push	hl
4586  19B6  CD 00 00    	call	_zx_print_str
4587  19B9  DD 7E 04    	ld	a,(ix+4)
4588  19BC  C6 06       	add	a,0x06
4589  19BE  47          	ld	b,a
4590  19BF  DD 7E 04    	ld	a,(ix+4)
4591  19C2  C6 05       	add	a,0x05
4592  19C4  57          	ld	d,a
4593  19C5  3E 70       	ld	a,0x70
4594  19C7  F5          	push	af
4595  19C8  33          	inc	sp
4596  19C9  4A          	ld	c, d
4597  19CA  C5          	push	bc
4598  19CB  CD EB 0D    	call	_game_paint_attrib_lin_h
4599  19CE  F1          	pop	af
4600  19CF  33          	inc	sp
4601  19D0  76          	halt
4602  19D1  DD 7E 05    	ld	a,(ix+5)
4603  19D4  B7          	or	a, a
4604  19D5  28 18       	jr	Z,l_game_hall_print_p_00102
4605  19D7  21 56 06    	ld	hl,0x0656
4606  19DA  E5          	push	hl
4607  19DB  3E A9       	ld	a,0xa9
4608  19DD  F5          	push	af
4609  19DE  33          	inc	sp
4610  19DF  CD 00 00    	call	_NIRVANAP_drawT_callee
4611  19E2  21 58 06    	ld	hl,0x0658
4612  19E5  E5          	push	hl
4613  19E6  3E 03       	ld	a,0x03
4614  19E8  F5          	push	af
4615  19E9  33          	inc	sp
4616  19EA  CD 00 00    	call	_NIRVANAP_drawT_callee
4617  19ED  18 70       	jr	l_game_hall_print_p_00110
4618  19EF              l_game_hall_print_p_00102:
4619  19EF  21 58 06    	ld	hl,0x0658
4620  19F2  E5          	push	hl
4621  19F3  3E A9       	ld	a,0xa9
4622  19F5  F5          	push	af
4623  19F6  33          	inc	sp
4624  19F7  CD 00 00    	call	_NIRVANAP_drawT_callee
4625  19FA  21 56 06    	ld	hl,0x0656
4626  19FD  E5          	push	hl
4627  19FE  3E 16       	ld	a,0x16
4628  1A00  F5          	push	af
4629  1A01  33          	inc	sp
4630  1A02  CD 00 00    	call	_NIRVANAP_drawT_callee
4631  1A05  18 58       	jr	l_game_hall_print_p_00110
4632  1A07              l_game_hall_print_p_00108:
4633  1A07  21 04 00    	ld	hl,+(_initials + 0x0004)
4634  1A0A  E5          	push	hl
4635  1A0B  21 0D 16    	ld	hl,0x160d
4636  1A0E  E5          	push	hl
4637  1A0F  CD 00 00    	call	_zx_print_str
4638  1A12  DD 7E 04    	ld	a,(ix+4)
4639  1A15  C6 12       	add	a,0x12
4640  1A17  57          	ld	d,a
4641  1A18  DD 7E 04    	ld	a,(ix+4)
4642  1A1B  C6 11       	add	a,0x11
4643  1A1D  47          	ld	b,a
4644  1A1E  3E 70       	ld	a,0x70
4645  1A20  5A          	ld	e,d
4646  1A21  57          	ld	d,a
4647  1A22  D5          	push	de
4648  1A23  C5          	push	bc
4649  1A24  33          	inc	sp
4650  1A25  CD EB 0D    	call	_game_paint_attrib_lin_h
4651  1A28  F1          	pop	af
4652  1A29  33          	inc	sp
4653  1A2A  76          	halt
4654  1A2B  DD 7E 05    	ld	a,(ix+5)
4655  1A2E  B7          	or	a, a
4656  1A2F  28 18       	jr	Z,l_game_hall_print_p_00105
4657  1A31  21 56 17    	ld	hl,0x1756
4658  1A34  E5          	push	hl
4659  1A35  3E A9       	ld	a,0xa9
4660  1A37  F5          	push	af
4661  1A38  33          	inc	sp
4662  1A39  CD 00 00    	call	_NIRVANAP_drawT_callee
4663  1A3C  21 58 17    	ld	hl,0x1758
4664  1A3F  E5          	push	hl
4665  1A40  3E 27       	ld	a,0x27
4666  1A42  F5          	push	af
4667  1A43  33          	inc	sp
4668  1A44  CD 00 00    	call	_NIRVANAP_drawT_callee
4669  1A47  18 16       	jr	l_game_hall_print_p_00110
4670  1A49              l_game_hall_print_p_00105:
4671  1A49  21 58 17    	ld	hl,0x1758
4672  1A4C  E5          	push	hl
4673  1A4D  3E A9       	ld	a,0xa9
4674  1A4F  F5          	push	af
4675  1A50  33          	inc	sp
4676  1A51  CD 00 00    	call	_NIRVANAP_drawT_callee
4677  1A54  21 56 17    	ld	hl,0x1756
4678  1A57  E5          	push	hl
4679  1A58  3E 2E       	ld	a,0x2e
4680  1A5A  F5          	push	af
4681  1A5B  33          	inc	sp
4682  1A5C  CD 00 00    	call	_NIRVANAP_drawT_callee
4683  1A5F              l_game_hall_print_p_00110:
4684  1A5F  DD E1       	pop	ix
4685  1A61  C9          	ret
4686  1A62              ;	---------------------------------
4687  1A62              ; Function game_hall_edit_p
4688  1A62              ; ---------------------------------
4689  1A62              _game_hall_edit_p:
4690  1A62  CD 00 00    	call	___sdcc_enter_ix
4691  1A65  DD 35 04    	dec	(ix+4)
4692  1A68  3A 00 00    	ld	a,(_dirs)
4693  1A6B  07          	rlca
4694  1A6C  30 7B       	jr	NC,l_game_hall_edit_p_00120
4695  1A6E  DD 7E 04    	ld	a,(ix+4)
4696  1A71  D6 04       	sub	a,0x04
4697  1A73  30 1A       	jr	NC,l_game_hall_edit_p_00102
4698  1A75  DD 7E 04    	ld	a,(ix+4)
4699  1A78  C6 07       	add	a,0x07
4700  1A7A  57          	ld	d,a
4701  1A7B  DD 7E 04    	ld	a,(ix+4)
4702  1A7E  C6 06       	add	a,0x06
4703  1A80  47          	ld	b,a
4704  1A81  3E 70       	ld	a,0x70
4705  1A83  5A          	ld	e,d
4706  1A84  57          	ld	d,a
4707  1A85  D5          	push	de
4708  1A86  C5          	push	bc
4709  1A87  33          	inc	sp
4710  1A88  CD C4 0D    	call	_game_paint_attrib_lin
4711  1A8B  F1          	pop	af
4712  1A8C  33          	inc	sp
4713  1A8D  18 18       	jr	l_game_hall_edit_p_00103
4714  1A8F              l_game_hall_edit_p_00102:
4715  1A8F  DD 7E 04    	ld	a,(ix+4)
4716  1A92  C6 13       	add	a,0x13
4717  1A94  57          	ld	d,a
4718  1A95  DD 7E 04    	ld	a,(ix+4)
4719  1A98  C6 12       	add	a,0x12
4720  1A9A  47          	ld	b,a
4721  1A9B  3E 70       	ld	a,0x70
4722  1A9D  5A          	ld	e,d
4723  1A9E  57          	ld	d,a
4724  1A9F  D5          	push	de
4725  1AA0  C5          	push	bc
4726  1AA1  33          	inc	sp
4727  1AA2  CD C4 0D    	call	_game_paint_attrib_lin
4728  1AA5  F1          	pop	af
4729  1AA6  33          	inc	sp
4730  1AA7              l_game_hall_edit_p_00103:
4731  1AA7  CD 00 00    	call	_sound_slide
4732  1AAA  21 00 00    	ld	hl,_ay_effect_01
4733  1AAD  CD 00 00    	call	_ay_fx_play
4734  1AB0  01 00 00    	ld	bc,_initials+0
4735  1AB3  DD 5E 04    	ld	e,(ix+4)
4736  1AB6  7B          	ld	a,e
4737  1AB7  3C          	inc	a
4738  1AB8  DD 77 04    	ld	(ix+4),a
4739  1ABB  6B          	ld	l,e
4740  1ABC  26 00       	ld	h,0x00
4741  1ABE  09          	add	hl,bc
4742  1ABF  7E          	ld	a,(hl)
4743  1AC0  D6 7B       	sub	a,0x7b
4744  1AC2  20 19       	jr	NZ,l_game_hall_edit_p_00107
4745  1AC4  DD 35 04    	dec	(ix+4)
4746  1AC7  DD 7E 04    	ld	a,(ix+4)
4747  1ACA  E6 03       	and	a,0x03
4748  1ACC  28 0F       	jr	Z,l_game_hall_edit_p_00107
4749  1ACE  DD 5E 04    	ld	e,(ix+4)
4750  1AD1  7B          	ld	a,e
4751  1AD2  C6 FF       	add	a,0xff
4752  1AD4  DD 77 04    	ld	(ix+4),a
4753  1AD7  6B          	ld	l,e
4754  1AD8  26 00       	ld	h,0x00
4755  1ADA  09          	add	hl,bc
4756  1ADB  36 41       	ld	(hl),0x41
4757  1ADD              l_game_hall_edit_p_00107:
4758  1ADD  DD 7E 04    	ld	a,(ix+4)
4759  1AE0  E6 03       	and	a,0x03
4760  1AE2  D6 03       	sub	a,0x03
4761  1AE4  20 3F       	jr	NZ,l_game_hall_edit_p_00121
4762  1AE6  6F          	ld	l,a
4763  1AE7  18 41       	jr	l_game_hall_edit_p_00122
4764  1AE9              l_game_hall_edit_p_00120:
4765  1AE9  3A 00 00    	ld	a,(_dirs)
4766  1AEC  E6 0C       	and	a,0x0c
4767  1AEE  28 35       	jr	Z,l_game_hall_edit_p_00121
4768  1AF0  11 00 00    	ld	de,_hall_valids
4769  1AF3  3E 00       	ld	a,+((_initials) & 0xFF)
4770  1AF5  DD 86 04    	add	a,(ix+4)
4771  1AF8  4F          	ld	c,a
4772  1AF9  3E 00       	ld	a,+((_initials) / 256)
4773  1AFB  CE 00       	adc	a,0x00
4774  1AFD  47          	ld	b,a
4775  1AFE  0A          	ld	a,(bc)
4776  1AFF  6F          	ld	l,a
4777  1B00              l_game_hall_edit_p_00168:
4778  1B00  1A          	ld	a, (de)
4779  1B01  BD          	cp	a, l
4780  1B02  28 06       	jr	Z,l_game_hall_edit_p_00167
4781  1B04  B7          	or	a, a
4782  1B05  13          	inc	de
4783  1B06  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4784  1B08  5F          	ld	e, a
4785  1B09  57          	ld	d, a
4786  1B0A              l_game_hall_edit_p_00167:
4787  1B0A  3A 00 00    	ld	a,(_dirs)
4788  1B0D  E6 04       	and	a,0x04
4789  1B0F  28 0A       	jr	Z,l_game_hall_edit_p_00115
4790  1B11  1B          	dec	de
4791  1B12  1A          	ld	a,(de)
4792  1B13  3D          	dec	a
4793  1B14  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4794  1B16  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4795  1B19  18 08       	jr	l_game_hall_edit_p_00116
4796  1B1B              l_game_hall_edit_p_00115:
4797  1B1B  13          	inc	de
4798  1B1C  1A          	ld	a,(de)
4799  1B1D  B7          	or	a, a
4800  1B1E  20 03       	jr	NZ,l_game_hall_edit_p_00116
4801  1B20  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4802  1B23              l_game_hall_edit_p_00116:
4803  1B23  1A          	ld	a,(de)
4804  1B24  02          	ld	(bc),a
4805  1B25              l_game_hall_edit_p_00121:
4806  1B25  DD 4E 04    	ld	c,(ix+4)
4807  1B28  0C          	inc	c
4808  1B29  69          	ld	l,c
4809  1B2A              l_game_hall_edit_p_00122:
4810  1B2A  DD E1       	pop	ix
4811  1B2C  C9          	ret
4812  1B2D              ;	---------------------------------
4813  1B2D              ; Function game_hall_of_fame
4814  1B2D              ; ---------------------------------
4815  1B2D              _game_hall_of_fame:
4816  1B2D  CD 00 00    	call	_spr_draw_clear
4817  1B30  AF          	xor	a, a
4818  1B31  F5          	push	af
4819  1B32  33          	inc	sp
4820  1B33  CD 97 0D    	call	_game_paint_attrib
4821  1B36  33          	inc	sp
4822  1B37  21 9C 01    	ld	hl,0x019c
4823  1B3A  E5          	push	hl
4824  1B3B  21 06 18    	ld	hl,0x1806
4825  1B3E  E5          	push	hl
4826  1B3F  3E 10       	ld	a,0x10
4827  1B41  F5          	push	af
4828  1B42  33          	inc	sp
4829  1B43  CD 32 12    	call	_game_menu_e
4830  1B46  F1          	pop	af
4831  1B47  33          	inc	sp
4832  1B48  21 9F FF    	ld	hl,0xff9f
4833  1B4B  E3          	ex	(sp),hl
4834  1B4C  21 06 18    	ld	hl,0x1806
4835  1B4F  E5          	push	hl
4836  1B50  3E 98       	ld	a,0x98
4837  1B52  F5          	push	af
4838  1B53  33          	inc	sp
4839  1B54  CD 32 12    	call	_game_menu_e
4840  1B57  F1          	pop	af
4841  1B58  F1          	pop	af
4842  1B59  33          	inc	sp
4843  1B5A  21 00 00    	ld	hl,_s_lin1
4844  1B5D  36 00       	ld	(hl),0x00
4845  1B5F              l_game_hall_of_fame_00102:
4846  1B5F  21 00 00    	ld	hl,_screen_ink
4847  1B62  36 05       	ld	(hl),0x05
4848  1B64  2A 00 00    	ld	hl,(_s_lin1)
4849  1B67  26 00       	ld	h,0x00
4850  1B69  4D          	ld	c,l
4851  1B6A  44          	ld	b,h
4852  1B6B  29          	add	hl, hl
4853  1B6C  09          	add	hl, bc
4854  1B6D  29          	add	hl, hl
4855  1B6E  01 00 00    	ld	bc,_hof
4856  1B71  09          	add	hl,bc
4857  1B72  3A 00 00    	ld	a,(_s_lin1)
4858  1B75  EB          	ex	de,hl
4859  1B76  C6 07       	add	a,0x07
4860  1B78  47          	ld	b,a
4861  1B79  D5          	push	de
4862  1B7A  3E 0A       	ld	a,0x0a
4863  1B7C  48          	ld	c,b
4864  1B7D  47          	ld	b,a
4865  1B7E  C5          	push	bc
4866  1B7F  CD 00 00    	call	_zx_print_str
4867  1B82  2A 00 00    	ld	hl,(_s_lin1)
4868  1B85  26 00       	ld	h,0x00
4869  1B87  4D          	ld	c,l
4870  1B88  44          	ld	b,h
4871  1B89  29          	add	hl, hl
4872  1B8A  09          	add	hl, bc
4873  1B8B  29          	add	hl, hl
4874  1B8C  01 00 00    	ld	bc,_hof
4875  1B8F  09          	add	hl,bc
4876  1B90  11 04 00    	ld	de,0x0004
4877  1B93  19          	add	hl, de
4878  1B94  5E          	ld	e,(hl)
4879  1B95  23          	inc	hl
4880  1B96  56          	ld	d,(hl)
4881  1B97  3A 00 00    	ld	a,(_s_lin1)
4882  1B9A  C6 07       	add	a,0x07
4883  1B9C  47          	ld	b,a
4884  1B9D  D5          	push	de
4885  1B9E  3E 10       	ld	a,0x10
4886  1BA0  48          	ld	c,b
4887  1BA1  47          	ld	b,a
4888  1BA2  C5          	push	bc
4889  1BA3  CD 00 00    	call	_zx_print_int
4890  1BA6  11 00 1C    	ld	de,___str_52
4891  1BA9  3A 00 00    	ld	a,(_s_lin1)
4892  1BAC  C6 07       	add	a,0x07
4893  1BAE  47          	ld	b,a
4894  1BAF  D5          	push	de
4895  1BB0  3E 0E       	ld	a,0x0e
4896  1BB2  48          	ld	c,b
4897  1BB3  47          	ld	b,a
4898  1BB4  C5          	push	bc
4899  1BB5  CD 00 00    	call	_zx_print_str
4900  1BB8  11 02 1C    	ld	de,___str_53
4901  1BBB  3A 00 00    	ld	a,(_s_lin1)
4902  1BBE  C6 07       	add	a,0x07
4903  1BC0  47          	ld	b,a
4904  1BC1  D5          	push	de
4905  1BC2  3E 15       	ld	a,0x15
4906  1BC4  48          	ld	c,b
4907  1BC5  47          	ld	b,a
4908  1BC6  C5          	push	bc
4909  1BC7  CD 00 00    	call	_zx_print_str
4910  1BCA  21 00 00    	ld	hl,_s_lin1
4911  1BCD  7E          	ld	a,(hl)
4912  1BCE  3C          	inc	a
4913  1BCF  77          	ld	(hl),a
4914  1BD0  D6 0A       	sub	a,0x0a
4915  1BD2  38 8B       	jr	C,l_game_hall_of_fame_00102
4916  1BD4  21 04 1C    	ld	hl,___str_54
4917  1BD7  E5          	push	hl
4918  1BD8  21 04 0A    	ld	hl,0x0a04
4919  1BDB  E5          	push	hl
4920  1BDC  CD 00 00    	call	_zx_print_str
4921  1BDF  21 F4 01    	ld	hl,0x01f4
4922  1BE2  E5          	push	hl
4923  1BE3  21 0A 16    	ld	hl,0x160a
4924  1BE6  E5          	push	hl
4925  1BE7  3E 04       	ld	a,0x04
4926  1BE9  F5          	push	af
4927  1BEA  33          	inc	sp
4928  1BEB  CD 2D 1C    	call	_game_colour_message
4929  1BEE  F1          	pop	af
4930  1BEF  F1          	pop	af
4931  1BF0  33          	inc	sp
4932  1BF1  CD 00 00    	call	_spr_draw_clear
4933  1BF4  21 00 00    	ld	hl,_game_menu_sel
4934  1BF7  36 00       	ld	(hl),0x00
4935  1BF9  21 00 00    	ld	hl,_pb_midi_title
4936  1BFC  CD 00 00    	call	_ay_midi_play
4937  1BFF  C9          	ret
4938  1C00              ___str_52:
4939  1C00  2D          	DEFM "-"
4940  1C01  00          	DEFB 0x00
4941  1C02              ___str_53:
4942  1C02  30          	DEFM "0"
4943  1C03  00          	DEFB 0x00
4944  1C04              ___str_54:
4945  1C04  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4946  1C10  00          	DEFB 0x00
4947  1C11              ;	---------------------------------
4948  1C11              ; Function game_rotate_attrib
4949  1C11              ; ---------------------------------
4950  1C11              _game_rotate_attrib:
4951  1C11  01 03 00    	ld	bc,_attrib_hl + 3
4952  1C14  0A          	ld	a,(bc)
4953  1C15  32 00 00    	ld	(_tmp_uc),a
4954  1C18  11 02 00    	ld	de,_attrib_hl + 2
4955  1C1B  1A          	ld	a,(de)
4956  1C1C  02          	ld	(bc),a
4957  1C1D  01 01 00    	ld	bc,_attrib_hl + 1
4958  1C20  0A          	ld	a,(bc)
4959  1C21  12          	ld	(de),a
4960  1C22  3A 00 00    	ld	a,(_attrib_hl)
4961  1C25  02          	ld	(bc),a
4962  1C26  3A 00 00    	ld	a,(_tmp_uc)
4963  1C29  32 00 00    	ld	(_attrib_hl),a
4964  1C2C  C9          	ret
4965  1C2D              ;	---------------------------------
4966  1C2D              ; Function game_colour_message
4967  1C2D              ; ---------------------------------
4968  1C2D              _game_colour_message:
4969  1C2D  CD 00 00    	call	___sdcc_enter_ix
4970  1C30  3B          	dec	sp
4971  1C31  21 00 00    	ld	hl,_tmp
4972  1C34  36 01       	ld	(hl),0x01
4973  1C36  2A 00 00    	ld	hl,(_curr_time)
4974  1C39  22 00 00    	ld	(_frame_time),hl
4975  1C3C  2A 00 00    	ld	hl,(_curr_time)
4976  1C3F  22 00 00    	ld	(_entry_time),hl
4977  1C42  DD 7E 04    	ld	a,(ix+4)
4978  1C45  07          	rlca
4979  1C46  07          	rlca
4980  1C47  07          	rlca
4981  1C48  E6 F8       	and	a,0xf8
4982  1C4A  C6 08       	add	a,0x08
4983  1C4C  DD 77 FF    	ld	(ix-1),a
4984  1C4F              l_game_colour_message_00107:
4985  1C4F  3A 00 00    	ld	a,(_tmp)
4986  1C52  B7          	or	a, a
4987  1C53  28 66       	jr	Z,l_game_colour_message_00110
4988  1C55  DD 6E 07    	ld	l,(ix+7)
4989  1C58  DD 66 08    	ld	h,(ix+8)
4990  1C5B  E5          	push	hl
4991  1C5C  2A 00 00    	ld	hl,(_entry_time)
4992  1C5F  E5          	push	hl
4993  1C60  CD BF 1C    	call	_game_check_time
4994  1C63  F1          	pop	af
4995  1C64  F1          	pop	af
4996  1C65  7D          	ld	a,l
4997  1C66  B7          	or	a, a
4998  1C67  20 52       	jr	NZ,l_game_colour_message_00110
4999  1C69  21 05 00    	ld	hl,0x0005
5000  1C6C  E5          	push	hl
5001  1C6D  2A 00 00    	ld	hl,(_frame_time)
5002  1C70  E5          	push	hl
5003  1C71  CD BF 1C    	call	_game_check_time
5004  1C74  F1          	pop	af
5005  1C75  F1          	pop	af
5006  1C76  7D          	ld	a,l
5007  1C77  B7          	or	a, a
5008  1C78  28 1A       	jr	Z,l_game_colour_message_00103
5009  1C7A  2A 00 00    	ld	hl,(_curr_time)
5010  1C7D  22 00 00    	ld	(_frame_time),hl
5011  1C80  DD 66 FF    	ld	h,(ix-1)
5012  1C83  DD 6E 06    	ld	l,(ix+6)
5013  1C86  E5          	push	hl
5014  1C87  DD 7E 05    	ld	a,(ix+5)
5015  1C8A  F5          	push	af
5016  1C8B  33          	inc	sp
5017  1C8C  CD EB 0D    	call	_game_paint_attrib_lin_h
5018  1C8F  F1          	pop	af
5019  1C90  33          	inc	sp
5020  1C91  CD 11 1C    	call	_game_rotate_attrib
5021  1C94              l_game_colour_message_00103:
5022  1C94  21 00 00    	ld	hl,_k1
5023  1C97  E5          	push	hl
5024  1C98  2A 00 00    	ld	hl,(_joyfunc1)
5025  1C9B  CD 00 00    	call	___sdcc_call_hl
5026  1C9E  E3          	ex	(sp),hl
5027  1C9F  21 00 00    	ld	hl,_k2
5028  1CA2  E5          	push	hl
5029  1CA3  2A 00 00    	ld	hl,(_joyfunc2)
5030  1CA6  CD 00 00    	call	___sdcc_call_hl
5031  1CA9  F1          	pop	af
5032  1CAA  EB          	ex	de,hl
5033  1CAB  C1          	pop	bc
5034  1CAC  79          	ld	a,c
5035  1CAD  B3          	or	a, e
5036  1CAE  4F          	ld	c,a
5037  1CAF  78          	ld	a,b
5038  1CB0  B2          	or	a, d
5039  1CB1  B1          	or	a,c
5040  1CB2  28 9B       	jr	Z,l_game_colour_message_00107
5041  1CB4  21 00 00    	ld	hl,_tmp
5042  1CB7  36 00       	ld	(hl),0x00
5043  1CB9  18 D9       	jr	l_game_colour_message_00103
5044  1CBB              l_game_colour_message_00110:
5045  1CBB  33          	inc	sp
5046  1CBC  DD E1       	pop	ix
5047  1CBE  C9          	ret
5048  1CBF              ;	---------------------------------
5049  1CBF              ; Function game_check_time
5050  1CBF              ; ---------------------------------
5051  1CBF              _game_check_time:
5052  1CBF  CD 00 00    	call	___sdcc_enter_ix
5053  1CC2  2A 00 00    	ld	hl,(_curr_time)
5054  1CC5  7D          	ld	a,l
5055  1CC6  DD 96 04    	sub	a,(ix+4)
5056  1CC9  4F          	ld	c,a
5057  1CCA  7C          	ld	a,h
5058  1CCB  DD 9E 05    	sbc	a,(ix+5)
5059  1CCE  47          	ld	b,a
5060  1CCF  DD 7E 06    	ld	a,(ix+6)
5061  1CD2  91          	sub	a, c
5062  1CD3  DD 7E 07    	ld	a,(ix+7)
5063  1CD6  98          	sbc	a, b
5064  1CD7  30 04       	jr	NC,l_game_check_time_00102
5065  1CD9  2E 01       	ld	l,0x01
5066  1CDB  18 02       	jr	l_game_check_time_00104
5067  1CDD              l_game_check_time_00102:
5068  1CDD  2E 00       	ld	l,0x00
5069  1CDF              l_game_check_time_00104:
5070  1CDF  DD E1       	pop	ix
5071  1CE1  C9          	ret
5072  1CE2              	SECTION IGNORE
5073  0000              
