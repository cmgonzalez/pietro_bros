1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9833 (MSVC)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_clear
244   0000              	GLOBAL _spr_water_splash_draw
245   0000              	GLOBAL _spr_water_splash_clear
246   0000              	GLOBAL _spr_draw_back
247   0000              	GLOBAL _spr_cortina_pipes
248   0000              	GLOBAL _spr_cortina_brick
249   0000              	GLOBAL _spr_brick_anim
250   0000              	GLOBAL _spr_back_fix4
251   0000              	GLOBAL _spr_back_fix3
252   0000              	GLOBAL _spr_back_fix2
253   0000              	GLOBAL _spr_back_fix1
254   0000              	GLOBAL _spr_back_fix
255   0000              	GLOBAL _spr_back_clr
256   0000              	GLOBAL _spr_draw_pow
257   0000              	GLOBAL _spr_tile
258   0000              	GLOBAL _spr_set_fall
259   0000              	GLOBAL _spr_destroy
260   0000              	GLOBAL _spr_check_over
261   0000              	GLOBAL _spr_tile_dir
262   0000              	GLOBAL _spr_anim_kill
263   0000              	GLOBAL _spr_anim_fall
264   0000              	GLOBAL _spr_killed
265   0000              	GLOBAL _spr_redraw
266   0000              	GLOBAL _spr_move_left
267   0000              	GLOBAL _spr_move_right
268   0000              	GLOBAL _spr_move_horizontal
269   0000              	GLOBAL _spr_move_down
270   0000              	GLOBAL _spr_move_up
271   0000              	GLOBAL _spr_chktime
272   0000              	GLOBAL _sound_hit_pow
273   0000              	GLOBAL _sound_hit_brick
274   0000              	GLOBAL _sound_hit_enemy
275   0000              	GLOBAL _sound_kill
276   0000              	GLOBAL _sound_enter_enemy
277   0000              	GLOBAL _sound_coin
278   0000              	GLOBAL _sound_jump
279   0000              	GLOBAL _sound_slide
280   0000              	GLOBAL _player_move_horizontal
281   0000              	GLOBAL _player_push_check
282   0000              	GLOBAL _player_push
283   0000              	GLOBAL _player_hit_brick_clear
284   0000              	GLOBAL _player_lost_life
285   0000              	GLOBAL _player_score_add
286   0000              	GLOBAL _player_coin
287   0000              	GLOBAL _player_hit_pow
288   0000              	GLOBAL _player_hit_brick
289   0000              	GLOBAL _player_move_input
290   0000              	GLOBAL _player_turn
291   0000              	GLOBAL _player_move
292   0000              	GLOBAL _player_restart
293   0000              	GLOBAL _player_kill
294   0000              	GLOBAL _player_check_input
295   0000              	GLOBAL _player_collition_check
296   0000              	GLOBAL _player_collition
297   0000              	GLOBAL _player_calc_slide
298   0000              	GLOBAL _player_init
299   0000              	GLOBAL _player_set2
300   0000              	GLOBAL _player_set1
301   0000              	GLOBAL _game_fill_row
302   0000              	GLOBAL _enemy_kill
303   0000              	GLOBAL _enemy_init
304   0000              	GLOBAL _enemy_walk
305   0000              	GLOBAL _enemy_upgrade
306   0000              	GLOBAL _enemy_evolve
307   0000              	GLOBAL _enemy_standard_hit
308   0000              	GLOBAL _enemy_trip
309   0000              	GLOBAL _enemy_fighterfly
310   0000              	GLOBAL _enemy_fireball_green
311   0000              	GLOBAL _enemy_fireball_red
312   0000              	GLOBAL _enemy_slipice
313   0000              	GLOBAL _enemy_standard
314   0000              	GLOBAL _enemy_turn
315   0000              	GLOBAL _enemy_flip_sidestepper
316   0000              	GLOBAL _enemy_flip
317   0000              	GLOBAL _enemy_flip_change_dir
318   0000              	GLOBAL _enemy_hit
319   0000              	GLOBAL _enemy_collition_check
320   0000              	GLOBAL _enemy_collition
321   0000              	GLOBAL _enemy_coin1
322   0000              	GLOBAL _ay_fx_play
323   0000              	GLOBAL _ay_midi_play
324   0000              	GLOBAL _ay_is_playing
325   0000              	GLOBAL _ay_reset
326   0000              	GLOBAL _test_func
327   0000              	GLOBAL _in_mouse_kempston_wheel_delta
328   0000              	GLOBAL _in_mouse_kempston_wheel
329   0000              	GLOBAL _in_mouse_kempston_callee
330   0000              	GLOBAL _in_mouse_kempston
331   0000              	GLOBAL _in_mouse_kempston_setpos_callee
332   0000              	GLOBAL _in_mouse_kempston_setpos
333   0000              	GLOBAL _in_mouse_kempston_reset
334   0000              	GLOBAL _in_mouse_kempston_init
335   0000              	GLOBAL _in_mouse_amx_wheel_delta
336   0000              	GLOBAL _in_mouse_amx_wheel
337   0000              	GLOBAL _in_mouse_amx_callee
338   0000              	GLOBAL _in_mouse_amx
339   0000              	GLOBAL _in_mouse_amx_setpos_callee
340   0000              	GLOBAL _in_mouse_amx_setpos
341   0000              	GLOBAL _in_mouse_amx_reset
342   0000              	GLOBAL _in_mouse_amx_init_callee
343   0000              	GLOBAL _in_mouse_amx_init
344   0000              	GLOBAL _in_stick_sinclair2
345   0000              	GLOBAL _in_stick_sinclair1
346   0000              	GLOBAL _in_stick_kempston
347   0000              	GLOBAL _in_stick_fuller
348   0000              	GLOBAL _in_stick_cursor
349   0000              	GLOBAL _in_stick_keyboard_fastcall
350   0000              	GLOBAL _in_stick_keyboard
351   0000              	GLOBAL _in_wait_nokey
352   0000              	GLOBAL _in_wait_key
353   0000              	GLOBAL _in_test_key
354   0000              	GLOBAL _in_pause_fastcall
355   0000              	GLOBAL _in_pause
356   0000              	GLOBAL _in_key_scancode_fastcall
357   0000              	GLOBAL _in_key_scancode
358   0000              	GLOBAL _in_key_pressed_fastcall
359   0000              	GLOBAL _in_key_pressed
360   0000              	GLOBAL _in_inkey
361   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawTW_raw
363   0000              	GLOBAL _NIRVANAP_drawTW_callee
364   0000              	GLOBAL _NIRVANAP_drawTW
365   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawW_raw
367   0000              	GLOBAL _NIRVANAP_drawW_callee
368   0000              	GLOBAL _NIRVANAP_drawW
369   0000              	GLOBAL _NIRVANAP_spriteT_callee
370   0000              	GLOBAL _NIRVANAP_spriteT
371   0000              	GLOBAL _NIRVANAP_fillC_callee
372   0000              	GLOBAL _NIRVANAP_fillC
373   0000              	GLOBAL _NIRVANAP_readC_callee
374   0000              	GLOBAL _NIRVANAP_readC
375   0000              	GLOBAL _NIRVANAP_paintC_callee
376   0000              	GLOBAL _NIRVANAP_paintC
377   0000              	GLOBAL _NIRVANAP_printC_callee
378   0000              	GLOBAL _NIRVANAP_printC
379   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
380   0000              	GLOBAL _NIRVANAP_fillT_raw
381   0000              	GLOBAL _NIRVANAP_fillT_callee
382   0000              	GLOBAL _NIRVANAP_fillT
383   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
384   0000              	GLOBAL _NIRVANAP_drawT_raw
385   0000              	GLOBAL _NIRVANAP_drawT_callee
386   0000              	GLOBAL _NIRVANAP_drawT
387   0000              	GLOBAL _NIRVANAP_stop
388   0000              	GLOBAL _NIRVANAP_start
389   0000              	GLOBAL _z80_otdr_callee
390   0000              	GLOBAL _z80_otdr
391   0000              	GLOBAL _z80_otir_callee
392   0000              	GLOBAL _z80_otir
393   0000              	GLOBAL _z80_outp_callee
394   0000              	GLOBAL _z80_outp
395   0000              	GLOBAL _z80_indr_callee
396   0000              	GLOBAL _z80_indr
397   0000              	GLOBAL _z80_inir_callee
398   0000              	GLOBAL _z80_inir
399   0000              	GLOBAL _z80_inp_fastcall
400   0000              	GLOBAL _z80_inp
401   0000              	GLOBAL _z80_set_int_state_fastcall
402   0000              	GLOBAL _z80_set_int_state
403   0000              	GLOBAL _z80_get_int_state
404   0000              	GLOBAL _z80_delay_tstate_fastcall
405   0000              	GLOBAL _z80_delay_tstate
406   0000              	GLOBAL _z80_delay_ms_fastcall
407   0000              	GLOBAL _z80_delay_ms
408   0000              	GLOBAL _im2_remove_generic_callback_callee
409   0000              	GLOBAL _im2_remove_generic_callback
410   0000              	GLOBAL _im2_prepend_generic_callback_callee
411   0000              	GLOBAL _im2_prepend_generic_callback
412   0000              	GLOBAL _im2_append_generic_callback_callee
413   0000              	GLOBAL _im2_append_generic_callback
414   0000              	GLOBAL _im2_create_generic_isr_8080_callee
415   0000              	GLOBAL _im2_create_generic_isr_8080
416   0000              	GLOBAL _im2_create_generic_isr_callee
417   0000              	GLOBAL _im2_create_generic_isr
418   0000              	GLOBAL _im2_install_isr_callee
419   0000              	GLOBAL _im2_install_isr
420   0000              	GLOBAL _im2_init_fastcall
421   0000              	GLOBAL _im2_init
422   0000              	GLOBAL _ffsll_callee
423   0000              	GLOBAL _ffsll
424   0000              	GLOBAL _strxfrm_callee
425   0000              	GLOBAL _strxfrm
426   0000              	GLOBAL _strupr_fastcall
427   0000              	GLOBAL _strupr
428   0000              	GLOBAL _strtok_r_callee
429   0000              	GLOBAL _strtok_r
430   0000              	GLOBAL _strtok_callee
431   0000              	GLOBAL _strtok
432   0000              	GLOBAL _strstrip_fastcall
433   0000              	GLOBAL _strstrip
434   0000              	GLOBAL _strstr_callee
435   0000              	GLOBAL _strstr
436   0000              	GLOBAL _strspn_callee
437   0000              	GLOBAL _strspn
438   0000              	GLOBAL _strsep_callee
439   0000              	GLOBAL _strsep
440   0000              	GLOBAL _strrstrip_fastcall
441   0000              	GLOBAL _strrstrip
442   0000              	GLOBAL _strrspn_callee
443   0000              	GLOBAL _strrspn
444   0000              	GLOBAL _strrev_fastcall
445   0000              	GLOBAL _strrev
446   0000              	GLOBAL _strrcspn_callee
447   0000              	GLOBAL _strrcspn
448   0000              	GLOBAL _strrchr_callee
449   0000              	GLOBAL _strrchr
450   0000              	GLOBAL _strpbrk_callee
451   0000              	GLOBAL _strpbrk
452   0000              	GLOBAL _strnlen_callee
453   0000              	GLOBAL _strnlen
454   0000              	GLOBAL _strnicmp_callee
455   0000              	GLOBAL _strnicmp
456   0000              	GLOBAL _strndup_callee
457   0000              	GLOBAL _strndup
458   0000              	GLOBAL _strncpy_callee
459   0000              	GLOBAL _strncpy
460   0000              	GLOBAL _strncmp_callee
461   0000              	GLOBAL _strncmp
462   0000              	GLOBAL _strnchr_callee
463   0000              	GLOBAL _strnchr
464   0000              	GLOBAL _strncat_callee
465   0000              	GLOBAL _strncat
466   0000              	GLOBAL _strncasecmp_callee
467   0000              	GLOBAL _strncasecmp
468   0000              	GLOBAL _strlwr_fastcall
469   0000              	GLOBAL _strlwr
470   0000              	GLOBAL _strlen_fastcall
471   0000              	GLOBAL _strlen
472   0000              	GLOBAL _strlcpy_callee
473   0000              	GLOBAL _strlcpy
474   0000              	GLOBAL _strlcat_callee
475   0000              	GLOBAL _strlcat
476   0000              	GLOBAL _stricmp_callee
477   0000              	GLOBAL _stricmp
478   0000              	GLOBAL _strerror_fastcall
479   0000              	GLOBAL _strerror
480   0000              	GLOBAL _strdup_fastcall
481   0000              	GLOBAL _strdup
482   0000              	GLOBAL _strcspn_callee
483   0000              	GLOBAL _strcspn
484   0000              	GLOBAL _strcpy_callee
485   0000              	GLOBAL _strcpy
486   0000              	GLOBAL _strcoll_callee
487   0000              	GLOBAL _strcoll
488   0000              	GLOBAL _strcmp_callee
489   0000              	GLOBAL _strcmp
490   0000              	GLOBAL _strchrnul_callee
491   0000              	GLOBAL _strchrnul
492   0000              	GLOBAL _strchr_callee
493   0000              	GLOBAL _strchr
494   0000              	GLOBAL _strcat_callee
495   0000              	GLOBAL _strcat
496   0000              	GLOBAL _strcasecmp_callee
497   0000              	GLOBAL _strcasecmp
498   0000              	GLOBAL _stpncpy_callee
499   0000              	GLOBAL _stpncpy
500   0000              	GLOBAL _stpcpy_callee
501   0000              	GLOBAL _stpcpy
502   0000              	GLOBAL _memswap_callee
503   0000              	GLOBAL _memswap
504   0000              	GLOBAL _memset_callee
505   0000              	GLOBAL _memset
506   0000              	GLOBAL _memrchr_callee
507   0000              	GLOBAL _memrchr
508   0000              	GLOBAL _memmove_callee
509   0000              	GLOBAL _memmove
510   0000              	GLOBAL _memmem_callee
511   0000              	GLOBAL _memmem
512   0000              	GLOBAL _memcpy_callee
513   0000              	GLOBAL _memcpy
514   0000              	GLOBAL _memcmp_callee
515   0000              	GLOBAL _memcmp
516   0000              	GLOBAL _memchr_callee
517   0000              	GLOBAL _memchr
518   0000              	GLOBAL _memccpy_callee
519   0000              	GLOBAL _memccpy
520   0000              	GLOBAL _ffsl_fastcall
521   0000              	GLOBAL _ffsl
522   0000              	GLOBAL _ffs_fastcall
523   0000              	GLOBAL _ffs
524   0000              	GLOBAL __strrstrip__fastcall
525   0000              	GLOBAL __strrstrip_
526   0000              	GLOBAL __memupr__callee
527   0000              	GLOBAL __memupr_
528   0000              	GLOBAL __memstrcpy__callee
529   0000              	GLOBAL __memstrcpy_
530   0000              	GLOBAL __memlwr__callee
531   0000              	GLOBAL __memlwr_
532   0000              	GLOBAL _rawmemchr_callee
533   0000              	GLOBAL _rawmemchr
534   0000              	GLOBAL _strnset_callee
535   0000              	GLOBAL _strnset
536   0000              	GLOBAL _strset_callee
537   0000              	GLOBAL _strset
538   0000              	GLOBAL _rindex_callee
539   0000              	GLOBAL _rindex
540   0000              	GLOBAL _index_callee
541   0000              	GLOBAL _index
542   0000              	GLOBAL _bzero_callee
543   0000              	GLOBAL _bzero
544   0000              	GLOBAL _bcopy_callee
545   0000              	GLOBAL _bcopy
546   0000              	GLOBAL _bcmp_callee
547   0000              	GLOBAL _bcmp
548   0000              	GLOBAL _ulltoa_callee
549   0000              	GLOBAL _ulltoa
550   0000              	GLOBAL _strtoull_callee
551   0000              	GLOBAL _strtoull
552   0000              	GLOBAL _strtoll_callee
553   0000              	GLOBAL _strtoll
554   0000              	GLOBAL _lltoa_callee
555   0000              	GLOBAL _lltoa
556   0000              	GLOBAL _llabs_callee
557   0000              	GLOBAL _llabs
558   0000              	GLOBAL __lldivu__callee
559   0000              	GLOBAL __lldivu_
560   0000              	GLOBAL __lldiv__callee
561   0000              	GLOBAL __lldiv_
562   0000              	GLOBAL _atoll_callee
563   0000              	GLOBAL _atoll
564   0000              	GLOBAL _realloc_unlocked_callee
565   0000              	GLOBAL _realloc_unlocked
566   0000              	GLOBAL _malloc_unlocked_fastcall
567   0000              	GLOBAL _malloc_unlocked
568   0000              	GLOBAL _free_unlocked_fastcall
569   0000              	GLOBAL _free_unlocked
570   0000              	GLOBAL _calloc_unlocked_callee
571   0000              	GLOBAL _calloc_unlocked
572   0000              	GLOBAL _aligned_alloc_unlocked_callee
573   0000              	GLOBAL _aligned_alloc_unlocked
574   0000              	GLOBAL _realloc_callee
575   0000              	GLOBAL _realloc
576   0000              	GLOBAL _malloc_fastcall
577   0000              	GLOBAL _malloc
578   0000              	GLOBAL _free_fastcall
579   0000              	GLOBAL _free
580   0000              	GLOBAL _calloc_callee
581   0000              	GLOBAL _calloc
582   0000              	GLOBAL _aligned_alloc_callee
583   0000              	GLOBAL _aligned_alloc
584   0000              	GLOBAL _utoa_callee
585   0000              	GLOBAL _utoa
586   0000              	GLOBAL _ultoa_callee
587   0000              	GLOBAL _ultoa
588   0000              	GLOBAL _system_fastcall
589   0000              	GLOBAL _system
590   0000              	GLOBAL _strtoul_callee
591   0000              	GLOBAL _strtoul
592   0000              	GLOBAL _strtol_callee
593   0000              	GLOBAL _strtol
594   0000              	GLOBAL _strtof_callee
595   0000              	GLOBAL _strtof
596   0000              	GLOBAL _strtod_callee
597   0000              	GLOBAL _strtod
598   0000              	GLOBAL _srand_fastcall
599   0000              	GLOBAL _srand
600   0000              	GLOBAL _rand
601   0000              	GLOBAL _quick_exit_fastcall
602   0000              	GLOBAL _quick_exit
603   0000              	GLOBAL _qsort_callee
604   0000              	GLOBAL _qsort
605   0000              	GLOBAL _ltoa_callee
606   0000              	GLOBAL _ltoa
607   0000              	GLOBAL _labs_fastcall
608   0000              	GLOBAL _labs
609   0000              	GLOBAL _itoa_callee
610   0000              	GLOBAL _itoa
611   0000              	GLOBAL _ftoh_callee
612   0000              	GLOBAL _ftoh
613   0000              	GLOBAL _ftog_callee
614   0000              	GLOBAL _ftog
615   0000              	GLOBAL _ftoe_callee
616   0000              	GLOBAL _ftoe
617   0000              	GLOBAL _ftoa_callee
618   0000              	GLOBAL _ftoa
619   0000              	GLOBAL _exit_fastcall
620   0000              	GLOBAL _exit
621   0000              	GLOBAL _dtoh_callee
622   0000              	GLOBAL _dtoh
623   0000              	GLOBAL _dtog_callee
624   0000              	GLOBAL _dtog
625   0000              	GLOBAL _dtoe_callee
626   0000              	GLOBAL _dtoe
627   0000              	GLOBAL _dtoa_callee
628   0000              	GLOBAL _dtoa
629   0000              	GLOBAL _bsearch_callee
630   0000              	GLOBAL _bsearch
631   0000              	GLOBAL _atol_fastcall
632   0000              	GLOBAL _atol
633   0000              	GLOBAL _atoi_fastcall
634   0000              	GLOBAL _atoi
635   0000              	GLOBAL _atof_fastcall
636   0000              	GLOBAL _atof
637   0000              	GLOBAL _atexit_fastcall
638   0000              	GLOBAL _atexit
639   0000              	GLOBAL _at_quick_exit_fastcall
640   0000              	GLOBAL _at_quick_exit
641   0000              	GLOBAL _abs_fastcall
642   0000              	GLOBAL _abs
643   0000              	GLOBAL _abort
644   0000              	GLOBAL __strtou__callee
645   0000              	GLOBAL __strtou_
646   0000              	GLOBAL __strtoi__callee
647   0000              	GLOBAL __strtoi_
648   0000              	GLOBAL __random_uniform_xor_8__fastcall
649   0000              	GLOBAL __random_uniform_xor_8_
650   0000              	GLOBAL __random_uniform_xor_32__fastcall
651   0000              	GLOBAL __random_uniform_xor_32_
652   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
653   0000              	GLOBAL __random_uniform_cmwc_8_
654   0000              	GLOBAL __shellsort__callee
655   0000              	GLOBAL __shellsort_
656   0000              	GLOBAL __quicksort__callee
657   0000              	GLOBAL __quicksort_
658   0000              	GLOBAL __insertion_sort__callee
659   0000              	GLOBAL __insertion_sort_
660   0000              	GLOBAL __ldivu__callee
661   0000              	GLOBAL __ldivu_
662   0000              	GLOBAL __ldiv__callee
663   0000              	GLOBAL __ldiv_
664   0000              	GLOBAL __divu__callee
665   0000              	GLOBAL __divu_
666   0000              	GLOBAL __div__callee
667   0000              	GLOBAL __div_
668   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
669   0000              	GLOBAL _intrinsic_swap_word_32
670   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
671   0000              	GLOBAL _intrinsic_swap_endian_32
672   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
673   0000              	GLOBAL _intrinsic_swap_endian_16
674   0000              	GLOBAL _intrinsic_return_de
675   0000              	GLOBAL _intrinsic_return_bc
676   0000              	GLOBAL _intrinsic_exx
677   0000              	GLOBAL _intrinsic_ex_de_hl
678   0000              	GLOBAL _intrinsic_pop_iy
679   0000              	GLOBAL _intrinsic_pop_ix
680   0000              	GLOBAL _intrinsic_pop_hl
681   0000              	GLOBAL _intrinsic_pop_de
682   0000              	GLOBAL _intrinsic_pop_bc
683   0000              	GLOBAL _intrinsic_pop_af
684   0000              	GLOBAL _intrinsic_push_iy
685   0000              	GLOBAL _intrinsic_push_ix
686   0000              	GLOBAL _intrinsic_push_hl
687   0000              	GLOBAL _intrinsic_push_de
688   0000              	GLOBAL _intrinsic_push_bc
689   0000              	GLOBAL _intrinsic_push_af
690   0000              	GLOBAL _intrinsic_nop
691   0000              	GLOBAL _intrinsic_im_2
692   0000              	GLOBAL _intrinsic_im_1
693   0000              	GLOBAL _intrinsic_im_0
694   0000              	GLOBAL _intrinsic_retn
695   0000              	GLOBAL _intrinsic_reti
696   0000              	GLOBAL _intrinsic_halt
697   0000              	GLOBAL _intrinsic_ei
698   0000              	GLOBAL _intrinsic_di
699   0000              	GLOBAL _intrinsic_stub
700   0000              	GLOBAL _zx_pattern_fill_callee
701   0000              	GLOBAL _zx_pattern_fill
702   0000              	GLOBAL _zx_saddrpup_fastcall
703   0000              	GLOBAL _zx_saddrpup
704   0000              	GLOBAL _zx_saddrpright_callee
705   0000              	GLOBAL _zx_saddrpright
706   0000              	GLOBAL _zx_saddrpleft_callee
707   0000              	GLOBAL _zx_saddrpleft
708   0000              	GLOBAL _zx_saddrpdown_fastcall
709   0000              	GLOBAL _zx_saddrpdown
710   0000              	GLOBAL _zx_saddrcup_fastcall
711   0000              	GLOBAL _zx_saddrcup
712   0000              	GLOBAL _zx_saddrcright_fastcall
713   0000              	GLOBAL _zx_saddrcright
714   0000              	GLOBAL _zx_saddrcleft_fastcall
715   0000              	GLOBAL _zx_saddrcleft
716   0000              	GLOBAL _zx_saddrcdown_fastcall
717   0000              	GLOBAL _zx_saddrcdown
718   0000              	GLOBAL _zx_saddr2py_fastcall
719   0000              	GLOBAL _zx_saddr2py
720   0000              	GLOBAL _zx_saddr2px_fastcall
721   0000              	GLOBAL _zx_saddr2px
722   0000              	GLOBAL _zx_saddr2cy_fastcall
723   0000              	GLOBAL _zx_saddr2cy
724   0000              	GLOBAL _zx_saddr2cx_fastcall
725   0000              	GLOBAL _zx_saddr2cx
726   0000              	GLOBAL _zx_saddr2aaddr_fastcall
727   0000              	GLOBAL _zx_saddr2aaddr
728   0000              	GLOBAL _zx_py2saddr_fastcall
729   0000              	GLOBAL _zx_py2saddr
730   0000              	GLOBAL _zx_py2aaddr_fastcall
731   0000              	GLOBAL _zx_py2aaddr
732   0000              	GLOBAL _zx_pxy2saddr_callee
733   0000              	GLOBAL _zx_pxy2saddr
734   0000              	GLOBAL _zx_pxy2aaddr_callee
735   0000              	GLOBAL _zx_pxy2aaddr
736   0000              	GLOBAL _zx_px2bitmask_fastcall
737   0000              	GLOBAL _zx_px2bitmask
738   0000              	GLOBAL _zx_cyx2saddr_callee
739   0000              	GLOBAL _zx_cyx2saddr
740   0000              	GLOBAL _zx_cyx2aaddr_callee
741   0000              	GLOBAL _zx_cyx2aaddr
742   0000              	GLOBAL _zx_cy2saddr_fastcall
743   0000              	GLOBAL _zx_cy2saddr
744   0000              	GLOBAL _zx_cy2aaddr_fastcall
745   0000              	GLOBAL _zx_cy2aaddr
746   0000              	GLOBAL _zx_bitmask2px_fastcall
747   0000              	GLOBAL _zx_bitmask2px
748   0000              	GLOBAL _zx_aaddrcup_fastcall
749   0000              	GLOBAL _zx_aaddrcup
750   0000              	GLOBAL _zx_aaddrcright_fastcall
751   0000              	GLOBAL _zx_aaddrcright
752   0000              	GLOBAL _zx_aaddrcleft_fastcall
753   0000              	GLOBAL _zx_aaddrcleft
754   0000              	GLOBAL _zx_aaddrcdown_fastcall
755   0000              	GLOBAL _zx_aaddrcdown
756   0000              	GLOBAL _zx_aaddr2saddr_fastcall
757   0000              	GLOBAL _zx_aaddr2saddr
758   0000              	GLOBAL _zx_aaddr2py_fastcall
759   0000              	GLOBAL _zx_aaddr2py
760   0000              	GLOBAL _zx_aaddr2px_fastcall
761   0000              	GLOBAL _zx_aaddr2px
762   0000              	GLOBAL _zx_aaddr2cy_fastcall
763   0000              	GLOBAL _zx_aaddr2cy
764   0000              	GLOBAL _zx_aaddr2cx_fastcall
765   0000              	GLOBAL _zx_aaddr2cx
766   0000              	GLOBAL _zx_scroll_wc_up_callee
767   0000              	GLOBAL _zx_scroll_wc_up
768   0000              	GLOBAL _zx_scroll_up_callee
769   0000              	GLOBAL _zx_scroll_up
770   0000              	GLOBAL _zx_cls_wc_callee
771   0000              	GLOBAL _zx_cls_wc
772   0000              	GLOBAL _zx_cls_fastcall
773   0000              	GLOBAL _zx_cls
774   0000              	GLOBAL _zx_border_fastcall
775   0000              	GLOBAL _zx_border
776   0000              	GLOBAL _ay_effect_20
777   0000              	GLOBAL _ay_effect_19
778   0000              	GLOBAL _ay_effect_18
779   0000              	GLOBAL _ay_effect_17
780   0000              	GLOBAL _ay_effect_16
781   0000              	GLOBAL _ay_effect_15
782   0000              	GLOBAL _ay_effect_14
783   0000              	GLOBAL _ay_effect_13
784   0000              	GLOBAL _ay_effect_12
785   0000              	GLOBAL _ay_effect_11
786   0000              	GLOBAL _ay_effect_10
787   0000              	GLOBAL _ay_effect_09
788   0000              	GLOBAL _ay_effect_08
789   0000              	GLOBAL _ay_effect_07
790   0000              	GLOBAL _ay_effect_06
791   0000              	GLOBAL _ay_effect_05
792   0000              	GLOBAL _ay_effect_04
793   0000              	GLOBAL _ay_effect_03
794   0000              	GLOBAL _ay_effect_02
795   0000              	GLOBAL _ay_effect_01
796   0000              	GLOBAL _pb_midi_phase_1
797   0000              	GLOBAL _pb_midi_title
798   0000              	GLOBAL _joynames
799   0000              	GLOBAL _initials
800   0000              	GLOBAL _hof
801   0000              	GLOBAL _score_osd_tile
802   0000              	GLOBAL _score_osd_time
803   0000              	GLOBAL _score_osd_col
804   0000              	GLOBAL _score_osd_lin
805   0000              	GLOBAL _phase_bonus_total
806   0000              	GLOBAL _phase_angry
807   0000              	GLOBAL _phase_curr
808   0000              	GLOBAL _phase_end
809   0000              	GLOBAL _phase_coins
810   0000              	GLOBAL _phase_pop
811   0000              	GLOBAL _phase_tot
812   0000              	GLOBAL _phase_left
813   0000              	GLOBAL _phase_quota
814   0000              	GLOBAL _phases
815   0000              	GLOBAL _spr_idx
816   0000              	GLOBAL _lvl_1
817   0000              	GLOBAL _sprite_speed_alt
818   0000              	GLOBAL _sprite_speed
819   0000              	GLOBAL _screen_ink
820   0000              	GLOBAL _screen_paper
821   0000              	GLOBAL _game_menu_sel
822   0000              	GLOBAL _game_type
823   0000              	GLOBAL _game_bonus
824   0000              	GLOBAL _spr_water_time
825   0000              	GLOBAL _spr_water_clear
826   0000              	GLOBAL _game_time_fireball_start
827   0000              	GLOBAL _game_time_flipped
828   0000              	GLOBAL _game_score_top
829   0000              	GLOBAL _game_lives_update
830   0000              	GLOBAL _game_lives
831   0000              	GLOBAL _game_over
832   0000              	GLOBAL _game_sound
833   0000              	GLOBAL _game_two_player
834   0000              	GLOBAL _game_brick_tile
835   0000              	GLOBAL _game_pow
836   0000              	GLOBAL _spr_count
837   0000              	GLOBAL _frame_loop_count
838   0000              	GLOBAL _col_time
839   0000              	GLOBAL _frame_time
840   0000              	GLOBAL _entry_time
841   0000              	GLOBAL _curr_time
842   0000              	GLOBAL _s_state
843   0000              	GLOBAL _attrib_hl
844   0000              	GLOBAL _attrib
845   0000              	GLOBAL _zx_val_asm
846   0000              	GLOBAL _enemies
847   0000              	GLOBAL _tmp_ui
848   0000              	GLOBAL _tmp_sc
849   0000              	GLOBAL _tmp_uc
850   0000              	GLOBAL _tmp1
851   0000              	GLOBAL _tmp0
852   0000              	GLOBAL _tmp
853   0000              	GLOBAL _index_d
854   0000              	GLOBAL _index3
855   0000              	GLOBAL _index2
856   0000              	GLOBAL _index1
857   0000              	GLOBAL _loop_count
858   0000              	GLOBAL _sprite_lin_inc_mul
859   0000              	GLOBAL _s_col1
860   0000              	GLOBAL _s_col0
861   0000              	GLOBAL _s_lin1
862   0000              	GLOBAL _s_lin0
863   0000              	GLOBAL _s_tile1
864   0000              	GLOBAL _s_tile0
865   0000              	GLOBAL _hit_count
866   0000              	GLOBAL _tile_offset_other_player
867   0000              	GLOBAL _tile_offset
868   0000              	GLOBAL _index_player
869   0000              	GLOBAL _sprite_other_player
870   0000              	GLOBAL _sprite
871   0000              	GLOBAL _player_joy
872   0000              	GLOBAL _player_next_extra
873   0000              	GLOBAL _player_score
874   0000              	GLOBAL _last_time
875   0000              	GLOBAL _sliding
876   0000              	GLOBAL _spr_timer_c
877   0000              	GLOBAL _spr_timer
878   0000              	GLOBAL _jump_lin
879   0000              	GLOBAL _player_jump_c
880   0000              	GLOBAL _hit_col
881   0000              	GLOBAL _hit_lin
882   0000              	GLOBAL _colint
883   0000              	GLOBAL _col
884   0000              	GLOBAL _lin
885   0000              	GLOBAL _tile
886   0000              	GLOBAL _state_a
887   0000              	GLOBAL _state
888   0000              	GLOBAL _class
889   0000              	GLOBAL _tbuffer
890   0000              	GLOBAL _dirs
891   0000              	GLOBAL _k2
892   0000              	GLOBAL _k1
893   0000              	GLOBAL _joyfunc2
894   0000              	GLOBAL _joyfunc1
895   0000              	GLOBAL _btiles
896   0000              	GLOBAL _spec128
897   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
898   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
899   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
900   0000              	GLOBAL _NIRVANAP_HOLE
901   0000              	GLOBAL _NIRVANAP_ISR_HOOK
902   0000              	GLOBAL _control_method
903   0000              	GLOBAL _hall_valids
904   0000              ;--------------------------------------------------------
905   0000              ; special function registers
906   0000              ;--------------------------------------------------------
907   0000              ;--------------------------------------------------------
908   0000              ; ram data
909   0000              ;--------------------------------------------------------
910   0000              	SECTION bss_compiler
911   0000              ;--------------------------------------------------------
912   0000              ; ram data
913   0000              ;--------------------------------------------------------
914   0000              
915   0000              IF 0
916   0000              
917   0000              ; .area _INITIALIZED removed by z88dk
918   0000              
919   0000              
920   0000              ENDIF
921   0000              
922   0000              ;--------------------------------------------------------
923   0000              ; absolute external ram data
924   0000              ;--------------------------------------------------------
925   0000              	SECTION IGNORE
926   0000              ;--------------------------------------------------------
927   0000              ; global & static initialisations
928   0000              ;--------------------------------------------------------
929   0000              	SECTION code_crt_init
930   0000              ;--------------------------------------------------------
931   0000              ; Home
932   0000              ;--------------------------------------------------------
933   0000              	SECTION IGNORE
934   0000              ;--------------------------------------------------------
935   0000              ; code
936   0000              ;--------------------------------------------------------
937   0000              	SECTION code_compiler
938   0000              ;	---------------------------------
939   0000              ; Function game_calc_index
940   0000              ; ---------------------------------
941   0000              _game_calc_index:
942   0000  CD 00 00    	call	___sdcc_enter_ix
943   0003  DD 4E 05    	ld	c,(ix+5)
944   0006  06 00       	ld	b,0x00
945   0008  DD 7E 04    	ld	a,(ix+4)
946   000B  0F          	rrca
947   000C  0F          	rrca
948   000D  0F          	rrca
949   000E  E6 1F       	and	a,0x1f
950   0010  6F          	ld	l,a
951   0011  26 00       	ld	h,0x00
952   0013  29          	add	hl, hl
953   0014  29          	add	hl, hl
954   0015  29          	add	hl, hl
955   0016  29          	add	hl, hl
956   0017  29          	add	hl, hl
957   0018  09          	add	hl,bc
958   0019  DD E1       	pop	ix
959   001B  C9          	ret
960   001C              	SECTION code_compiler
961   001C              ;	---------------------------------
962   001C              ; Function game_print_footer
963   001C              ; ---------------------------------
964   001C              _game_print_footer:
965   001C  21 00 00    	ld	hl,___str_0
966   001F  E5          	push	hl
967   0020  21 16 01    	ld	hl,0x0116
968   0023  E5          	push	hl
969   0024  CD 00 00    	call	_zx_print_str
970   0027  21 00 00    	ld	hl,___str_0
971   002A  E5          	push	hl
972   002B  21 16 1E    	ld	hl,0x1e16
973   002E  E5          	push	hl
974   002F  CD 00 00    	call	_zx_print_str
975   0032  21 02 00    	ld	hl,___str_1
976   0035  E5          	push	hl
977   0036  21 17 01    	ld	hl,0x0117
978   0039  E5          	push	hl
979   003A  CD 00 00    	call	_zx_print_str
980   003D  21 02 00    	ld	hl,___str_1
981   0040  E5          	push	hl
982   0041  21 17 1E    	ld	hl,0x1e17
983   0044  E5          	push	hl
984   0045  CD 00 00    	call	_zx_print_str
985   0048  3A 00 00    	ld	a,(_game_lives)
986   004B  B7          	or	a, a
987   004C  28 20       	jr	Z,l_game_print_footer_00102
988   004E  21 00 00    	ld	hl,_screen_ink
989   0051  36 02       	ld	(hl),0x02
990   0053  21 08 00    	ld	hl,___str_2
991   0056  E5          	push	hl
992   0057  21 16 01    	ld	hl,0x0116
993   005A  E5          	push	hl
994   005B  CD 00 00    	call	_zx_print_str
995   005E  21 00 00    	ld	hl,_screen_ink
996   0061  36 06       	ld	(hl),0x06
997   0063  21 0A 00    	ld	hl,___str_3
998   0066  E5          	push	hl
999   0067  21 17 01    	ld	hl,0x0117
1000  006A  E5          	push	hl
1001  006B  CD 00 00    	call	_zx_print_str
1002  006E              l_game_print_footer_00102:
1003  006E  3A 01 00    	ld	a, (_game_lives + 1)
1004  0071  B7          	or	a, a
1005  0072  28 20       	jr	Z,l_game_print_footer_00104
1006  0074  21 00 00    	ld	hl,_screen_ink
1007  0077  36 07       	ld	(hl),0x07
1008  0079  21 0C 00    	ld	hl,___str_4
1009  007C  E5          	push	hl
1010  007D  21 16 1E    	ld	hl,0x1e16
1011  0080  E5          	push	hl
1012  0081  CD 00 00    	call	_zx_print_str
1013  0084  21 00 00    	ld	hl,_screen_ink
1014  0087  36 06       	ld	(hl),0x06
1015  0089  21 0E 00    	ld	hl,___str_5
1016  008C  E5          	push	hl
1017  008D  21 17 1E    	ld	hl,0x1e17
1018  0090  E5          	push	hl
1019  0091  CD 00 00    	call	_zx_print_str
1020  0094              l_game_print_footer_00104:
1021  0094  CD E7 00    	call	_game_print_lives
1022  0097  21 10 00    	ld	hl,___str_6
1023  009A  E5          	push	hl
1024  009B  21 17 0B    	ld	hl,0x0b17
1025  009E  E5          	push	hl
1026  009F  CD 00 00    	call	_zx_print_str
1027  00A2  21 00 00    	ld	hl,_phase_curr
1028  00A5  46          	ld	b,(hl)
1029  00A6  04          	inc	b
1030  00A7  C5          	push	bc
1031  00A8  33          	inc	sp
1032  00A9  21 17 12    	ld	hl,0x1217
1033  00AC  E5          	push	hl
1034  00AD  CD 00 00    	call	_zx_print_chr
1035  00B0  C9          	ret
1036  00B1              	SECTION rodata_compiler
1037  0000              ___str_0:
1038  0000  20          	DEFM " "
1039  0001  00          	DEFB 0x00
1040  0002              	SECTION rodata_compiler
1041  0002              ___str_1:
1042  0002  20 20 20 20 20 
                        	DEFM "     "
1043  0007  00          	DEFB 0x00
1044  0008              	SECTION rodata_compiler
1045  0008              ___str_2:
1046  0008  3C          	DEFM "<"
1047  0009  00          	DEFB 0x00
1048  000A              	SECTION rodata_compiler
1049  000A              ___str_3:
1050  000A  5C          	DEFB 0x5c
1051  000B  00          	DEFB 0x00
1052  000C              	SECTION rodata_compiler
1053  000C              ___str_4:
1054  000C  3E          	DEFM ">"
1055  000D  00          	DEFB 0x00
1056  000E              	SECTION rodata_compiler
1057  000E              ___str_5:
1058  000E  5E          	DEFM "^"
1059  000F  00          	DEFB 0x00
1060  0010              	SECTION rodata_compiler
1061  0010              ___str_6:
1062  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1063  0015  00          	DEFB 0x00
1064  0016              	SECTION code_compiler
1065  00B1              ;	---------------------------------
1066  00B1              ; Function game_phase_print_score_back
1067  00B1              ; ---------------------------------
1068  00B1              _game_phase_print_score_back:
1069  00B1  21 00 00    	ld	hl,_screen_ink
1070  00B4  36 02       	ld	(hl),0x02
1071  00B6  21 16 00    	ld	hl,___str_7
1072  00B9  E5          	push	hl
1073  00BA  21 00 0B    	ld	hl,0x0b00
1074  00BD  E5          	push	hl
1075  00BE  CD 00 00    	call	_zx_print_str
1076  00C1  21 00 00    	ld	hl,_screen_ink
1077  00C4  36 01       	ld	(hl),0x01
1078  00C6  21 1A 00    	ld	hl,___str_8
1079  00C9  E5          	push	hl
1080  00CA  21 00 01    	ld	hl,0x0100
1081  00CD  E5          	push	hl
1082  00CE  CD 00 00    	call	_zx_print_str
1083  00D1  3A 00 00    	ld	a,(_game_two_player)
1084  00D4  B7          	or	a, a
1085  00D5  C8          	ret	Z
1086  00D6  21 00 00    	ld	hl,_screen_ink
1087  00D9  36 04       	ld	(hl),0x04
1088  00DB  21 1D 00    	ld	hl,___str_9
1089  00DE  E5          	push	hl
1090  00DF  21 00 16    	ld	hl,0x1600
1091  00E2  E5          	push	hl
1092  00E3  CD 00 00    	call	_zx_print_str
1093  00E6  C9          	ret
1094  00E7              	SECTION rodata_compiler
1095  0016              ___str_7:
1096  0016  24 25 7C    	DEFM "$%|"
1097  0019  00          	DEFB 0x00
1098  001A              	SECTION rodata_compiler
1099  001A              ___str_8:
1100  001A  5B 7C       	DEFM "[|"
1101  001C  00          	DEFB 0x00
1102  001D              	SECTION rodata_compiler
1103  001D              ___str_9:
1104  001D  5D 7C       	DEFM "]|"
1105  001F  00          	DEFB 0x00
1106  0020              	SECTION code_compiler
1107  00E7              ;	---------------------------------
1108  00E7              ; Function game_print_lives
1109  00E7              ; ---------------------------------
1110  00E7              _game_print_lives:
1111  00E7  21 00 00    	ld	hl,_screen_ink
1112  00EA  36 07       	ld	(hl),0x07
1113  00EC  3A 00 00    	ld	a,(_game_lives)
1114  00EF  C6 FF       	add	a,0xff
1115  00F1  21 00 00    	ld	hl,_tmp
1116  00F4  77          	ld	(hl),a
1117  00F5  D6 FF       	sub	a,0xff
1118  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1119  00F9  7E          	ld	a,(hl)
1120  00FA  F5          	push	af
1121  00FB  33          	inc	sp
1122  00FC  21 17 03    	ld	hl,0x0317
1123  00FF  E5          	push	hl
1124  0100  CD 00 00    	call	_zx_print_chr
1125  0103              l_game_print_lives_00102:
1126  0103  3A 01 00    	ld	a, (_game_lives + 1)
1127  0106  C6 FF       	add	a,0xff
1128  0108  21 00 00    	ld	hl,_tmp
1129  010B  77          	ld	(hl),a
1130  010C  D6 FF       	sub	a,0xff
1131  010E  D0          	ret	NC
1132  010F  7E          	ld	a,(hl)
1133  0110  F5          	push	af
1134  0111  33          	inc	sp
1135  0112  21 17 1A    	ld	hl,0x1a17
1136  0115  E5          	push	hl
1137  0116  CD 00 00    	call	_zx_print_chr
1138  0119  C9          	ret
1139  011A              	SECTION code_compiler
1140  011A              ;	---------------------------------
1141  011A              ; Function game_tick
1142  011A              ; ---------------------------------
1143  011A              _game_tick:
1144  011A  21 00 00    	ld	hl,_curr_time
1145  011D  34          	inc	(hl)
1146  011E  C2 00 00    	jp	NZ,_zx_isr
1147  0121  23          	inc	hl
1148  0122  34          	inc	(hl)
1149  0123  C3 00 00    	jp  _zx_isr
1150  0126              	SECTION code_compiler
1151  0126              ;	---------------------------------
1152  0126              ; Function game_start_timer
1153  0126              ; ---------------------------------
1154  0126              _game_start_timer:
1155  0126  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1156  0129  3E CD       	ld	a,0xcd
1157  012B  02          	ld	(bc),a
1158  012C  03          	inc	bc
1159  012D  11 1A 01    	ld	de,_game_tick
1160  0130  7B          	ld	a,e
1161  0131  02          	ld	(bc),a
1162  0132  03          	inc	bc
1163  0133  7A          	ld	a,d
1164  0134  02          	ld	(bc),a
1165  0135  C9          	ret
1166  0136              	SECTION code_compiler
1167  0136              ;	---------------------------------
1168  0136              ; Function game_phase_calc
1169  0136              ; ---------------------------------
1170  0136              _game_phase_calc:
1171  0136  3A 00 00    	ld	a,(_phase_curr)
1172  0139  87          	add	a, a
1173  013A  87          	add	a, a
1174  013B  21 00 00    	ld	hl,_tmp_uc
1175  013E  77          	ld	(hl),a
1176  013F  01 00 00    	ld	bc,_phases+0
1177  0142  5E          	ld	e,(hl)
1178  0143  16 00       	ld	d,0x00
1179  0145  69          	ld	l, c
1180  0146  60          	ld	h, b
1181  0147  19          	add	hl,de
1182  0148  7E          	ld	a,(hl)
1183  0149  32 00 00    	ld	(_phase_quota),a
1184  014C  2A 00 00    	ld	hl,(_tmp_uc)
1185  014F  26 00       	ld	h,0x00
1186  0151  23          	inc	hl
1187  0152  09          	add	hl,bc
1188  0153  7E          	ld	a,(hl)
1189  0154  32 01 00    	ld	((_phase_quota + 0x0001)),a
1190  0157  2A 00 00    	ld	hl,(_tmp_uc)
1191  015A  26 00       	ld	h,0x00
1192  015C  23          	inc	hl
1193  015D  23          	inc	hl
1194  015E  09          	add	hl,bc
1195  015F  7E          	ld	a,(hl)
1196  0160  32 02 00    	ld	((_phase_quota + 0x0002)),a
1197  0163  2A 00 00    	ld	hl,(_tmp_uc)
1198  0166  26 00       	ld	h,0x00
1199  0168  23          	inc	hl
1200  0169  23          	inc	hl
1201  016A  23          	inc	hl
1202  016B  09          	add	hl,bc
1203  016C  7E          	ld	a,(hl)
1204  016D  32 00 00    	ld	(_game_brick_tile),a
1205  0170  CD 23 0C    	call	_game_unfreeze_all
1206  0173  3A 00 00    	ld	a,(_game_brick_tile)
1207  0176  D6 8B       	sub	a,0x8b
1208  0178  20 03       	jr	NZ,l_game_phase_calc_00102
1209  017A  CD 4C 0C    	call	_game_freeze_all
1210  017D              l_game_phase_calc_00102:
1211  017D  3A 00 00    	ld	a,(_game_brick_tile)
1212  0180  4F          	ld	c,a
1213  0181  06 00       	ld	b,0x00
1214  0183  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1215  0187  21 00 00    	ld	hl,_phase_quota
1216  018A  4E          	ld	c,(hl)
1217  018B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1218  018E  46          	ld	b,(hl)
1219  018F  79          	ld	a,c
1220  0190  80          	add	a, b
1221  0191  4F          	ld	c,a
1222  0192  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1223  0195  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1224  0197  09          	add	hl, bc
1225  0198  C9          	ret
1226  0199              	SECTION code_compiler
1227  0199              ;	---------------------------------
1228  0199              ; Function game_phase_init
1229  0199              ; ---------------------------------
1230  0199              _game_phase_init:
1231  0199  21 00 00    	ld	hl,_phase_end
1232  019C  36 00       	ld	(hl),0x00
1233  019E  21 00 00    	ld	hl,_phase_angry
1234  01A1  36 00       	ld	(hl),0x00
1235  01A3  21 00 00    	ld	hl,_phase_coins
1236  01A6  36 00       	ld	(hl),0x00
1237  01A8  21 00 00    	ld	hl,_phase_pop
1238  01AB  36 00       	ld	(hl),0x00
1239  01AD  21 00 00    	ld	hl,_game_bonus
1240  01B0  36 00       	ld	(hl),0x00
1241  01B2  21 00 00    	ld	hl,0x0000
1242  01B5  22 00 00    	ld	(_entry_time),hl
1243  01B8  21 00 00    	ld	hl,0
1244  01BB  22 00 00    	ld	(_curr_time),hl
1245  01BE  21 00 00    	ld	hl,0x0000
1246  01C1  22 00 00    	ld	(_frame_time),hl
1247  01C4  21 FF FF    	ld	hl,0xffff
1248  01C7  22 00 00    	ld	(_score_osd_col),hl
1249  01CA  CD 00 00    	call	_spr_draw_clear
1250  01CD  CD 00 00    	call	_spr_cortina_pipes
1251  01D0  21 00 00    	ld	hl,0x0000
1252  01D3  CD 00 00    	call	_zx_cls_fastcall
1253  01D6  21 00 00    	ld	hl,_spr_count
1254  01D9  36 00       	ld	(hl),0x00
1255  01DB  3A 00 00    	ld	a,(_game_type)
1256  01DE  D6 02       	sub	a,0x02
1257  01E0  CA 6C 02    	jp	Z,l_game_phase_init_00104
1258  01E3  CD 36 01    	call	_game_phase_calc
1259  01E6  7D          	ld	a,l
1260  01E7  32 00 00    	ld	(_phase_left),a
1261  01EA  32 00 00    	ld	(_phase_tot),a
1262  01ED  21 00 00    	ld	hl,_phase_left
1263  01F0  7E          	ld	a,(hl)
1264  01F1  B7          	or	a, a
1265  01F2  C2 81 02    	jp	NZ,l_game_phase_init_00105
1266  01F5  01 00 00    	ld	bc,_phase_bonus_total+0
1267  01F8  AF          	xor	a, a
1268  01F9  02          	ld	(bc),a
1269  01FA  03          	inc	bc
1270  01FB  AF          	xor	a, a
1271  01FC  02          	ld	(bc),a
1272  01FD  36 06       	ld	(hl),0x06
1273  01FF  21 00 00    	ld	hl,_game_bonus
1274  0202  36 01       	ld	(hl),0x01
1275  0204  21 0C 00    	ld	hl,0x000c
1276  0207  E5          	push	hl
1277  0208  21 90 08    	ld	hl,0x0890
1278  020B  E5          	push	hl
1279  020C  AF          	xor	a, a
1280  020D  F5          	push	af
1281  020E  33          	inc	sp
1282  020F  CD 00 00    	call	_enemy_init
1283  0212  F1          	pop	af
1284  0213  33          	inc	sp
1285  0214  21 0C 00    	ld	hl,0x000c
1286  0217  E3          	ex	(sp),hl
1287  0218  21 90 16    	ld	hl,0x1690
1288  021B  E5          	push	hl
1289  021C  3E 01       	ld	a,0x01
1290  021E  F5          	push	af
1291  021F  33          	inc	sp
1292  0220  CD 00 00    	call	_enemy_init
1293  0223  F1          	pop	af
1294  0224  33          	inc	sp
1295  0225  21 0C 00    	ld	hl,0x000c
1296  0228  E3          	ex	(sp),hl
1297  0229  21 50 06    	ld	hl,0x0650
1298  022C  E5          	push	hl
1299  022D  3E 02       	ld	a,0x02
1300  022F  F5          	push	af
1301  0230  33          	inc	sp
1302  0231  CD 00 00    	call	_enemy_init
1303  0234  F1          	pop	af
1304  0235  33          	inc	sp
1305  0236  21 0C 00    	ld	hl,0x000c
1306  0239  E3          	ex	(sp),hl
1307  023A  21 50 18    	ld	hl,0x1850
1308  023D  E5          	push	hl
1309  023E  3E 03       	ld	a,0x03
1310  0240  F5          	push	af
1311  0241  33          	inc	sp
1312  0242  CD 00 00    	call	_enemy_init
1313  0245  F1          	pop	af
1314  0246  33          	inc	sp
1315  0247  21 0C 00    	ld	hl,0x000c
1316  024A  E3          	ex	(sp),hl
1317  024B  21 10 05    	ld	hl,0x0510
1318  024E  E5          	push	hl
1319  024F  3E 04       	ld	a,0x04
1320  0251  F5          	push	af
1321  0252  33          	inc	sp
1322  0253  CD 00 00    	call	_enemy_init
1323  0256  F1          	pop	af
1324  0257  33          	inc	sp
1325  0258  21 0C 00    	ld	hl,0x000c
1326  025B  E3          	ex	(sp),hl
1327  025C  21 10 19    	ld	hl,0x1910
1328  025F  E5          	push	hl
1329  0260  3E 05       	ld	a,0x05
1330  0262  F5          	push	af
1331  0263  33          	inc	sp
1332  0264  CD 00 00    	call	_enemy_init
1333  0267  F1          	pop	af
1334  0268  F1          	pop	af
1335  0269  33          	inc	sp
1336  026A  18 15       	jr	l_game_phase_init_00105
1337  026C              l_game_phase_init_00104:
1338  026C  21 00 00    	ld	hl,_phase_left
1339  026F  36 FF       	ld	(hl),0xff
1340  0271  21 00 00    	ld	hl,_phase_curr
1341  0274  36 FF       	ld	(hl),0xff
1342  0276  21 00 00    	ld	hl,_game_brick_tile
1343  0279  36 84       	ld	(hl),0x84
1344  027B  21 84 00    	ld	hl,0x0084
1345  027E  22 24 00    	ld	(_spr_idx + 0x0024),hl
1346  0281              l_game_phase_init_00105:
1347  0281  CD 00 00    	call	_ay_reset
1348  0284  3A 00 00    	ld	a,(_game_bonus)
1349  0287  B7          	or	a, a
1350  0288  20 06       	jr	NZ,l_game_phase_init_00107
1351  028A  21 00 00    	ld	hl,_pb_midi_phase_1
1352  028D  CD 00 00    	call	_ay_midi_play
1353  0290              l_game_phase_init_00107:
1354  0290  CD C7 02    	call	_game_print_header
1355  0293  2E 0C       	ld	l,0x0c
1356  0295  CD D2 02    	call	_game_phase_print
1357  0298  3A 00 00    	ld	a,(_game_lives)
1358  029B  B7          	or	a, a
1359  029C  28 0D       	jr	Z,l_game_phase_init_00109
1360  029E  21 0A 03    	ld	hl,0x030a
1361  02A1  E5          	push	hl
1362  02A2  21 07 98    	ld	hl,0x9807
1363  02A5  E5          	push	hl
1364  02A6  CD 00 00    	call	_player_init
1365  02A9  F1          	pop	af
1366  02AA  F1          	pop	af
1367  02AB              l_game_phase_init_00109:
1368  02AB  3A 01 00    	ld	a, (_game_lives + 1)
1369  02AE  B7          	or	a, a
1370  02AF  28 0D       	jr	Z,l_game_phase_init_00111
1371  02B1  21 14 27    	ld	hl,0x2714
1372  02B4  E5          	push	hl
1373  02B5  21 06 98    	ld	hl,0x9806
1374  02B8  E5          	push	hl
1375  02B9  CD 00 00    	call	_player_init
1376  02BC  F1          	pop	af
1377  02BD  F1          	pop	af
1378  02BE              l_game_phase_init_00111:
1379  02BE  CD 00 00    	call	_spr_draw_back
1380  02C1  CD C7 02    	call	_game_print_header
1381  02C4  C3 1C 00    	jp  _game_print_footer
1382  02C7              	SECTION code_compiler
1383  02C7              ;	---------------------------------
1384  02C7              ; Function game_print_header
1385  02C7              ; ---------------------------------
1386  02C7              _game_print_header:
1387  02C7  CD B1 00    	call	_game_phase_print_score_back
1388  02CA  21 00 00    	ld	hl,_screen_ink
1389  02CD  36 07       	ld	(hl),0x07
1390  02CF  C3 75 0C    	jp  _game_print_score
1391  02D2              	SECTION code_compiler
1392  02D2              ;	---------------------------------
1393  02D2              ; Function game_phase_print
1394  02D2              ; ---------------------------------
1395  02D2              _game_phase_print:
1396  02D2  45          	ld	b,l
1397  02D3  C5          	push	bc
1398  02D4  21 20 00    	ld	hl,___str_10
1399  02D7  E5          	push	hl
1400  02D8  3E 0B       	ld	a,0x0b
1401  02DA  48          	ld	c,b
1402  02DB  47          	ld	b,a
1403  02DC  C5          	push	bc
1404  02DD  CD 00 00    	call	_zx_print_str
1405  02E0  C1          	pop	bc
1406  02E1  3A 00 00    	ld	a,(_phase_curr)
1407  02E4  D6 1F       	sub	a,0x1f
1408  02E6  30 27       	jr	NC,l_game_phase_print_00108
1409  02E8  3A 00 00    	ld	a,(_game_bonus)
1410  02EB  B7          	or	a, a
1411  02EC  20 11       	jr	NZ,l_game_phase_print_00102
1412  02EE  21 00 00    	ld	hl,_phase_curr
1413  02F1  56          	ld	d,(hl)
1414  02F2  14          	inc	d
1415  02F3  C5          	push	bc
1416  02F4  1E 11       	ld	e,0x11
1417  02F6  D5          	push	de
1418  02F7  C5          	push	bc
1419  02F8  33          	inc	sp
1420  02F9  CD 00 00    	call	_zx_print_chr
1421  02FC  C1          	pop	bc
1422  02FD  18 35       	jr	l_game_phase_print_00109
1423  02FF              l_game_phase_print_00102:
1424  02FF  C5          	push	bc
1425  0300  21 26 00    	ld	hl,___str_11
1426  0303  E5          	push	hl
1427  0304  3E 11       	ld	a,0x11
1428  0306  48          	ld	c,b
1429  0307  47          	ld	b,a
1430  0308  C5          	push	bc
1431  0309  CD 00 00    	call	_zx_print_str
1432  030C  C1          	pop	bc
1433  030D  18 25       	jr	l_game_phase_print_00109
1434  030F              l_game_phase_print_00108:
1435  030F  3A 00 00    	ld	a,(_game_type)
1436  0312  D6 02       	sub	a,0x02
1437  0314  28 10       	jr	Z,l_game_phase_print_00105
1438  0316  C5          	push	bc
1439  0317  21 2C 00    	ld	hl,___str_12
1440  031A  E5          	push	hl
1441  031B  3E 11       	ld	a,0x11
1442  031D  48          	ld	c,b
1443  031E  47          	ld	b,a
1444  031F  C5          	push	bc
1445  0320  CD 00 00    	call	_zx_print_str
1446  0323  C1          	pop	bc
1447  0324  18 0E       	jr	l_game_phase_print_00109
1448  0326              l_game_phase_print_00105:
1449  0326  C5          	push	bc
1450  0327  21 31 00    	ld	hl,___str_13
1451  032A  E5          	push	hl
1452  032B  3E 11       	ld	a,0x11
1453  032D  48          	ld	c,b
1454  032E  47          	ld	b,a
1455  032F  C5          	push	bc
1456  0330  CD 00 00    	call	_zx_print_str
1457  0333  C1          	pop	bc
1458  0334              l_game_phase_print_00109:
1459  0334  21 2C 01    	ld	hl,0x012c
1460  0337  E5          	push	hl
1461  0338  21 0B 18    	ld	hl,0x180b
1462  033B  E5          	push	hl
1463  033C  C5          	push	bc
1464  033D  33          	inc	sp
1465  033E  CD 8E 19    	call	_game_colour_message
1466  0341  F1          	pop	af
1467  0342  F1          	pop	af
1468  0343  33          	inc	sp
1469  0344  C9          	ret
1470  0345              	SECTION rodata_compiler
1471  0020              ___str_10:
1472  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1473  0025  00          	DEFB 0x00
1474  0026              	SECTION rodata_compiler
1475  0026              ___str_11:
1476  0026  42 4F 4E 55 53 
                        	DEFM "BONUS"
1477  002B  00          	DEFB 0x00
1478  002C              	SECTION rodata_compiler
1479  002C              ___str_12:
1480  002C  48 45 4C 4C 	DEFM "HELL"
1481  0030  00          	DEFB 0x00
1482  0031              	SECTION rodata_compiler
1483  0031              ___str_13:
1484  0031  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1485  0037  00          	DEFB 0x00
1486  0038              	SECTION code_compiler
1487  0345              ;	---------------------------------
1488  0345              ; Function game_loop
1489  0345              ; ---------------------------------
1490  0345              _game_loop:
1491  0345  21 38 00    	ld	hl,___str_14
1492  0348  E5          	push	hl
1493  0349  21 16 07    	ld	hl,0x0716
1494  034C  E5          	push	hl
1495  034D  CD 00 00    	call	_zx_print_str
1496  0350  21 4B 00    	ld	hl,___str_15
1497  0353  E5          	push	hl
1498  0354  21 17 07    	ld	hl,0x0717
1499  0357  E5          	push	hl
1500  0358  CD 00 00    	call	_zx_print_str
1501  035B  21 00 00    	ld	hl,_ay_effect_10
1502  035E  CD 00 00    	call	_ay_fx_play
1503  0361  CD 00 00    	call	_sound_coin
1504  0364  21 C8 00    	ld	hl,0x00c8
1505  0367  CD 00 00    	call	_z80_delay_ms_fastcall
1506  036A  21 5E 00    	ld	hl,___str_16
1507  036D  E5          	push	hl
1508  036E  21 16 07    	ld	hl,0x0716
1509  0371  E5          	push	hl
1510  0372  CD 00 00    	call	_zx_print_str
1511  0375  CD 00 00    	call	_ay_reset
1512  0378  21 11 11    	ld	hl,0x1111
1513  037B  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1514  037E  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1515  0381  01 00 00    	ld	bc,_game_lives+0
1516  0384  3E 04       	ld	a,0x04
1517  0386  02          	ld	(bc),a
1518  0387  03          	inc	bc
1519  0388  3A 00 00    	ld	a,(_game_two_player)
1520  038B  B7          	or	a,a
1521  038C  28 05       	jr	Z,l_game_loop_00102
1522  038E  3E 04       	ld	a,0x04
1523  0390  02          	ld	(bc),a
1524  0391  18 02       	jr	l_game_loop_00103
1525  0393              l_game_loop_00102:
1526  0393  AF          	xor	a, a
1527  0394  02          	ld	(bc),a
1528  0395              l_game_loop_00103:
1529  0395  21 00 00    	ld	hl,0x0000
1530  0398  22 00 00    	ld	(_player_score), hl
1531  039B  2E 00       	ld	l,0x00
1532  039D  22 02 00    	ld	(_player_score + 0x0002),hl
1533  03A0  21 D0 07    	ld	hl,0x07d0
1534  03A3  22 00 00    	ld	(_player_next_extra), hl
1535  03A6  2E D0       	ld	l,0xd0
1536  03A8  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1537  03AB  21 00 00    	ld	hl,_spr_water_clear
1538  03AE  36 FF       	ld	(hl),0xff
1539  03B0  3A 00 00    	ld	a,(_game_type)
1540  03B3  B7          	or	a, a
1541  03B4  20 0E       	jr	NZ,l_game_loop_00105
1542  03B6  21 F4 01    	ld	hl,0x01f4
1543  03B9  22 00 00    	ld	(_game_time_flipped),hl
1544  03BC  21 D0 07    	ld	hl,0x07d0
1545  03BF  22 00 00    	ld	(_game_time_fireball_start),hl
1546  03C2  18 0C       	jr	l_game_loop_00106
1547  03C4              l_game_loop_00105:
1548  03C4  21 FA 00    	ld	hl,0x00fa
1549  03C7  22 00 00    	ld	(_game_time_flipped),hl
1550  03CA  21 F4 01    	ld	hl,0x01f4
1551  03CD  22 00 00    	ld	(_game_time_fireball_start),hl
1552  03D0              l_game_loop_00106:
1553  03D0  21 00 00    	ld	hl,_game_over
1554  03D3  36 00       	ld	(hl),0x00
1555  03D5  21 00 00    	ld	hl,_game_pow
1556  03D8  36 03       	ld	(hl),0x03
1557  03DA  21 00 00    	ld	hl,_phase_curr
1558  03DD  36 00       	ld	(hl),0x00
1559  03DF  CD 99 01    	call	_game_phase_init
1560  03E2  21 00 00    	ld	hl,_sprite_lin_inc_mul
1561  03E5  36 00       	ld	(hl),0x00
1562  03E7  21 00 00    	ld	hl,0x0000
1563  03EA  22 00 00    	ld	(_loop_count),hl
1564  03ED  21 00 00    	ld	hl,_dirs
1565  03F0  36 00       	ld	(hl),0x00
1566  03F2  CD 23 0C    	call	_game_unfreeze_all
1567  03F5  CD 17 0F    	call	_game_joystick_set
1568  03F8              l_game_loop_00134:
1569  03F8  3A 00 00    	ld	a,(_game_over)
1570  03FB  B7          	or	a, a
1571  03FC  C2 F5 04    	jp	NZ,l_game_loop_00136
1572  03FF  CD 00 00    	call	_player_set1
1573  0402  CD 00 00    	call	_player_turn
1574  0405  CD 00 00    	call	_player_set2
1575  0408  CD 00 00    	call	_player_turn
1576  040B  CD 00 00    	call	_enemy_turn
1577  040E  3A 00 00    	ld	a,(_game_bonus)
1578  0411  B7          	or	a, a
1579  0412  28 16       	jr	Z,l_game_loop_00111
1580  0414  CD 97 06    	call	_game_bonus_clock
1581  0417  3A 00 00    	ld	a,(_phase_left)
1582  041A  B7          	or	a, a
1583  041B  28 0D       	jr	Z,l_game_loop_00111
1584  041D  CD 00 00    	call	_ay_is_playing
1585  0420  7D          	ld	a,l
1586  0421  B7          	or	a, a
1587  0422  20 06       	jr	NZ,l_game_loop_00111
1588  0424  21 00 00    	ld	hl,_ay_effect_19
1589  0427  CD 00 00    	call	_ay_fx_play
1590  042A              l_game_loop_00111:
1591  042A  CD 00 00    	call	_spr_water_splash_clear
1592  042D  21 64 00    	ld	hl,0x0064
1593  0430  E5          	push	hl
1594  0431  2A 00 00    	ld	hl,(_frame_time)
1595  0434  E5          	push	hl
1596  0435  CD 20 1A    	call	_game_check_time
1597  0438  F1          	pop	af
1598  0439  F1          	pop	af
1599  043A  7D          	ld	a,l
1600  043B  B7          	or	a, a
1601  043C  CA E9 04    	jp	Z,l_game_loop_00133
1602  043F  2A 00 00    	ld	hl,(_curr_time)
1603  0442  22 00 00    	ld	(_frame_time),hl
1604  0445  3A 00 00    	ld	a,(_game_bonus)
1605  0448  B7          	or	a,a
1606  0449  20 03       	jr	NZ,l_game_loop_00113
1607  044B  CD E8 08    	call	_game_enemy_add
1608  044E              l_game_loop_00113:
1609  044E  3A 00 00    	ld	a,(_phase_left)
1610  0451  3D          	dec	a
1611  0452  20 55       	jr	NZ,l_game_loop_00120
1612  0454  3A 00 00    	ld	a,(_phase_angry)
1613  0457  B7          	or	a, a
1614  0458  20 4F       	jr	NZ,l_game_loop_00120
1615  045A  21 00 00    	ld	hl,_sprite
1616  045D  36 00       	ld	(hl),0x00
1617  045F              l_game_loop_00137:
1618  045F  2A 00 00    	ld	hl,(_sprite)
1619  0462  26 00       	ld	h,0x00
1620  0464  01 00 00    	ld	bc,_class
1621  0467  09          	add	hl,bc
1622  0468  7E          	ld	a,(hl)
1623  0469  4F          	ld	c,a
1624  046A  B7          	or	a,a
1625  046B  28 32       	jr	Z,l_game_loop_00138
1626  046D  3E 09       	ld	a,0x09
1627  046F  91          	sub	a,c
1628  0470  38 2D       	jr	C,l_game_loop_00138
1629  0472  3A 00 00    	ld	a,(_sprite)
1630  0475  4F          	ld	c,a
1631  0476  06 00       	ld	b,0x00
1632  0478  21 00 00    	ld	hl,_state
1633  047B  09          	add	hl,bc
1634  047C  CB 6E       	bit	5,(hl)
1635  047E  20 1F       	jr	NZ,l_game_loop_00138
1636  0480  21 00 00    	ld	hl,_phase_angry
1637  0483  36 01       	ld	(hl),0x01
1638  0485  CD 00 00    	call	_enemy_evolve
1639  0488  CD 00 00    	call	_enemy_evolve
1640  048B  3E 00       	ld	a,+((_tile) & 0xFF)
1641  048D  21 00 00    	ld	hl,_sprite
1642  0490  86          	add	a, (hl)
1643  0491  4F          	ld	c,a
1644  0492  3E 00       	ld	a,+((_tile) / 256)
1645  0494  CE 00       	adc	a,0x00
1646  0496  47          	ld	b,a
1647  0497  6E          	ld	l,(hl)
1648  0498  C5          	push	bc
1649  0499  CD 00 00    	call	_spr_tile
1650  049C  C1          	pop	bc
1651  049D  7D          	ld	a, l
1652  049E  02          	ld	(bc),a
1653  049F              l_game_loop_00138:
1654  049F  21 00 00    	ld	hl,_sprite
1655  04A2  7E          	ld	a,(hl)
1656  04A3  3C          	inc	a
1657  04A4  77          	ld	(hl),a
1658  04A5  D6 06       	sub	a,0x06
1659  04A7  38 B6       	jr	C,l_game_loop_00137
1660  04A9              l_game_loop_00120:
1661  04A9  3A 00 00    	ld	a,(_phase_end)
1662  04AC  3D          	dec	a
1663  04AD  20 3A       	jr	NZ,l_game_loop_00133
1664  04AF  3A 00 00    	ld	a,(_game_type)
1665  04B2  D6 02       	sub	a,0x02
1666  04B4  28 33       	jr	Z,l_game_loop_00133
1667  04B6  21 90 01    	ld	hl,0x0190
1668  04B9  CD 00 00    	call	_z80_delay_ms_fastcall
1669  04BC  CD 00 00    	call	_ay_is_playing
1670  04BF  7D          	ld	a, l
1671  04C0  D6 02       	sub	a,0x02
1672  04C2  30 03       	jr	NC,l_game_loop_00123
1673  04C4  CD 00 00    	call	_ay_reset
1674  04C7              l_game_loop_00123:
1675  04C7  CD B6 08    	call	_game_kill_all_sprites
1676  04CA  3A 00 00    	ld	a,(_game_bonus)
1677  04CD  B7          	or	a, a
1678  04CE  28 03       	jr	Z,l_game_loop_00125
1679  04D0  CD FD 06    	call	_game_bonus_summary
1680  04D3              l_game_loop_00125:
1681  04D3  21 00 00    	ld	hl,_phase_curr
1682  04D6  34          	inc	(hl)
1683  04D7  3E 1F       	ld	a,0x1f
1684  04D9  96          	sub	a, (hl)
1685  04DA  30 0A       	jr	NC,l_game_loop_00127
1686  04DC  CD 2D 12    	call	_game_end
1687  04DF  21 00 00    	ld	hl,_game_over
1688  04E2  36 01       	ld	(hl),0x01
1689  04E4  18 03       	jr	l_game_loop_00133
1690  04E6              l_game_loop_00127:
1691  04E6  CD 99 01    	call	_game_phase_init
1692  04E9              l_game_loop_00133:
1693  04E9  21 00 00    	ld	hl,_loop_count
1694  04EC  34          	inc	(hl)
1695  04ED  C2 F8 03    	jp	NZ,l_game_loop_00134
1696  04F0  23          	inc	hl
1697  04F1  34          	inc	(hl)
1698  04F2  C3 F8 03    	jp	l_game_loop_00134
1699  04F5              l_game_loop_00136:
1700  04F5  21 20 03    	ld	hl,0x0320
1701  04F8  CD 00 00    	call	_z80_delay_ms_fastcall
1702  04FB  CD B6 08    	call	_game_kill_all_sprites
1703  04FE  76          	halt
1704  04FF  CD 00 00    	call	_spr_draw_clear
1705  0502  21 71 00    	ld	hl,___str_17
1706  0505  E5          	push	hl
1707  0506  21 08 0B    	ld	hl,0x0b08
1708  0509  E5          	push	hl
1709  050A  CD 00 00    	call	_zx_print_str
1710  050D  21 C8 00    	ld	hl,0x00c8
1711  0510  E5          	push	hl
1712  0511  21 0B 15    	ld	hl,0x150b
1713  0514  E5          	push	hl
1714  0515  3E 08       	ld	a,0x08
1715  0517  F5          	push	af
1716  0518  33          	inc	sp
1717  0519  CD 8E 19    	call	_game_colour_message
1718  051C  F1          	pop	af
1719  051D  F1          	pop	af
1720  051E  33          	inc	sp
1721  051F  CD 06 15    	call	_game_hall_enter
1722  0522  CD 00 00    	call	_ay_reset
1723  0525  21 00 00    	ld	hl,_game_menu_sel
1724  0528  36 00       	ld	(hl),0x00
1725  052A  CD 0F 10    	call	_game_menu_paint
1726  052D  CD 0A 0F    	call	_game_joystick_set_menu
1727  0530  C9          	ret
1728  0531              	SECTION rodata_compiler
1729  0038              ___str_14:
1730  0038  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1731  004A  00          	DEFB 0x00
1732  004B              	SECTION rodata_compiler
1733  004B              ___str_15:
1734  004B  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1735  005D  00          	DEFB 0x00
1736  005E              	SECTION rodata_compiler
1737  005E              ___str_16:
1738  005E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1739  0070  00          	DEFB 0x00
1740  0071              	SECTION rodata_compiler
1741  0071              ___str_17:
1742  0071  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1743  007A  00          	DEFB 0x00
1744  007B              	SECTION code_compiler
1745  0531              ;	---------------------------------
1746  0531              ; Function game_score_osd
1747  0531              ; ---------------------------------
1748  0531              _game_score_osd:
1749  0531  3A 00 00    	ld	a,(_index_player)
1750  0534  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1751  0536  4F          	ld	c,a
1752  0537  3E 00       	ld	a,+((_score_osd_col) / 256)
1753  0539  CE 00       	adc	a,0x00
1754  053B  47          	ld	b,a
1755  053C  0A          	ld	a,(bc)
1756  053D  57          	ld	d,a
1757  053E  3C          	inc	a
1758  053F  20 72       	jr	NZ,l_game_score_osd_00117
1759  0541  3A 00 00    	ld	a,(_hit_count)
1760  0544  B7          	or	a, a
1761  0545  CA 96 06    	jp	Z,l_game_score_osd_00119
1762  0548  2A 00 00    	ld	hl,(_sprite)
1763  054B  26 00       	ld	h,0x00
1764  054D  11 00 00    	ld	de,_col
1765  0550  19          	add	hl,de
1766  0551  7E          	ld	a,(hl)
1767  0552  02          	ld	(bc),a
1768  0553  3A 00 00    	ld	a,(_index_player)
1769  0556  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1770  0558  4F          	ld	c,a
1771  0559  3E 00       	ld	a,+((_score_osd_lin) / 256)
1772  055B  CE 00       	adc	a,0x00
1773  055D  47          	ld	b,a
1774  055E  2A 00 00    	ld	hl,(_sprite)
1775  0561  26 00       	ld	h,0x00
1776  0563  11 00 00    	ld	de,_lin
1777  0566  19          	add	hl,de
1778  0567  7E          	ld	a,(hl)
1779  0568  02          	ld	(bc),a
1780  0569  01 00 00    	ld	bc,_score_osd_time+0
1781  056C  2A 00 00    	ld	hl,(_index_player)
1782  056F  26 00       	ld	h,0x00
1783  0571  29          	add	hl, hl
1784  0572  09          	add	hl,bc
1785  0573  ED 5B 00 00 	ld	de,(_curr_time)
1786  0577  73          	ld	(hl),e
1787  0578  23          	inc	hl
1788  0579  72          	ld	(hl),d
1789  057A  2A 00 00    	ld	hl,(_index_player)
1790  057D  26 00       	ld	h,0x00
1791  057F  29          	add	hl,hl
1792  0580  3A 00 00    	ld	a,(_hit_count)
1793  0583  3D          	dec	a
1794  0584  4D          	ld	c,l
1795  0585  44          	ld	b,h
1796  0586  20 0C       	jr	NZ,l_game_score_osd_00105
1797  0588  21 00 00    	ld	hl,_score_osd_tile
1798  058B  09          	add	hl,bc
1799  058C  36 BC       	ld	(hl),0xbc
1800  058E  23          	inc	hl
1801  058F  36 00       	ld	(hl),0x00
1802  0591  C3 96 06    	jp	l_game_score_osd_00119
1803  0594              l_game_score_osd_00105:
1804  0594  3A 00 00    	ld	a,(_hit_count)
1805  0597  D6 08       	sub	a,0x08
1806  0599  30 0C       	jr	NC,l_game_score_osd_00102
1807  059B  21 00 00    	ld	hl,_score_osd_tile
1808  059E  09          	add	hl,bc
1809  059F  36 BD       	ld	(hl),0xbd
1810  05A1  23          	inc	hl
1811  05A2  36 00       	ld	(hl),0x00
1812  05A4  C3 96 06    	jp	l_game_score_osd_00119
1813  05A7              l_game_score_osd_00102:
1814  05A7  21 00 00    	ld	hl,_score_osd_tile
1815  05AA  09          	add	hl,bc
1816  05AB  36 BE       	ld	(hl),0xbe
1817  05AD  23          	inc	hl
1818  05AE  36 00       	ld	(hl),0x00
1819  05B0  C3 96 06    	jp	l_game_score_osd_00119
1820  05B3              l_game_score_osd_00117:
1821  05B3  3A 00 00    	ld	a,(_index_player)
1822  05B6  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1823  05B8  4F          	ld	c,a
1824  05B9  3E 00       	ld	a,+((_score_osd_lin) / 256)
1825  05BB  CE 00       	adc	a,0x00
1826  05BD  47          	ld	b,a
1827  05BE  0A          	ld	a,(bc)
1828  05BF  C6 FE       	add	a,0xfe
1829  05C1  32 00 00    	ld	(_tmp),a
1830  05C4  5F          	ld	e,a
1831  05C5  D5          	push	de
1832  05C6  CD 00 00    	call	_game_calc_index
1833  05C9  F1          	pop	af
1834  05CA  22 00 00    	ld	(_index1),hl
1835  05CD  3E 08       	ld	a,0x08
1836  05CF  21 00 00    	ld	hl,_tmp
1837  05D2  96          	sub	a, (hl)
1838  05D3  30 5B       	jr	NC,l_game_score_osd_00110
1839  05D5  21 01 00    	ld	hl,_index1 + 1
1840  05D8  7E          	ld	a,(hl)
1841  05D9  2B          	dec	hl
1842  05DA  B6          	or	a,(hl)
1843  05DB  28 53       	jr	Z,l_game_score_osd_00110
1844  05DD  01 00 00    	ld	bc,_lvl_1+0
1845  05E0  79          	ld	a,c
1846  05E1  86          	add	a, (hl)
1847  05E2  5F          	ld	e,a
1848  05E3  78          	ld	a,b
1849  05E4  23          	inc	hl
1850  05E5  8E          	adc	a, (hl)
1851  05E6  57          	ld	d,a
1852  05E7  1A          	ld	a,(de)
1853  05E8  B7          	or	a, a
1854  05E9  20 45       	jr	NZ,l_game_score_osd_00110
1855  05EB  56          	ld	d,(hl)
1856  05EC  2B          	dec	hl
1857  05ED  5E          	ld	e,(hl)
1858  05EE  13          	inc	de
1859  05EF  69          	ld	l, c
1860  05F0  60          	ld	h, b
1861  05F1  19          	add	hl,de
1862  05F2  7E          	ld	a,(hl)
1863  05F3  B7          	or	a, a
1864  05F4  20 3A       	jr	NZ,l_game_score_osd_00110
1865  05F6  76          	halt
1866  05F7  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1867  05F9  21 00 00    	ld	hl,_index_player
1868  05FC  86          	add	a, (hl)
1869  05FD  4F          	ld	c,a
1870  05FE  3E 00       	ld	a,+((_score_osd_col) / 256)
1871  0600  CE 00       	adc	a,0x00
1872  0602  47          	ld	b,a
1873  0603  0A          	ld	a,(bc)
1874  0604  57          	ld	d,a
1875  0605  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1876  0607  86          	add	a, (hl)
1877  0608  4F          	ld	c,a
1878  0609  3E 00       	ld	a,+((_score_osd_lin) / 256)
1879  060B  CE 00       	adc	a,0x00
1880  060D  47          	ld	b,a
1881  060E  0A          	ld	a,(bc)
1882  060F  5F          	ld	e,a
1883  0610  6E          	ld	l, (hl)
1884  0611  26 00       	ld	h,0x00
1885  0613  29          	add	hl, hl
1886  0614  01 00 00    	ld	bc,_score_osd_tile
1887  0617  09          	add	hl,bc
1888  0618  46          	ld	b,(hl)
1889  0619  23          	inc	hl
1890  061A  4E          	ld	c,(hl)
1891  061B  D5          	push	de
1892  061C  C5          	push	bc
1893  061D  33          	inc	sp
1894  061E  CD 00 00    	call	_NIRVANAP_drawT_callee
1895  0621  3A 00 00    	ld	a,(_index_player)
1896  0624  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1897  0626  4F          	ld	c,a
1898  0627  3E 00       	ld	a,+((_score_osd_lin) / 256)
1899  0629  CE 00       	adc	a,0x00
1900  062B  47          	ld	b,a
1901  062C  3A 00 00    	ld	a,(_tmp)
1902  062F  02          	ld	(bc),a
1903  0630              l_game_score_osd_00110:
1904  0630  01 00 00    	ld	bc,_score_osd_time+0
1905  0633  2A 00 00    	ld	hl,(_index_player)
1906  0636  26 00       	ld	h,0x00
1907  0638  29          	add	hl, hl
1908  0639  09          	add	hl,bc
1909  063A  4E          	ld	c,(hl)
1910  063B  23          	inc	hl
1911  063C  46          	ld	b,(hl)
1912  063D  21 32 00    	ld	hl,0x0032
1913  0640  E5          	push	hl
1914  0641  C5          	push	bc
1915  0642  CD 20 1A    	call	_game_check_time
1916  0645  F1          	pop	af
1917  0646  F1          	pop	af
1918  0647  7D          	ld	a,l
1919  0648  B7          	or	a, a
1920  0649  C8          	ret	Z
1921  064A  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1922  064C  21 00 00    	ld	hl,_index_player
1923  064F  86          	add	a, (hl)
1924  0650  4F          	ld	c,a
1925  0651  3E 00       	ld	a,+((_score_osd_col) / 256)
1926  0653  CE 00       	adc	a,0x00
1927  0655  47          	ld	b,a
1928  0656  0A          	ld	a,(bc)
1929  0657  57          	ld	d,a
1930  0658  4E          	ld	c,(hl)
1931  0659  06 00       	ld	b,0x00
1932  065B  21 00 00    	ld	hl,_score_osd_lin
1933  065E  09          	add	hl,bc
1934  065F  5E          	ld	e, (hl)
1935  0660  D5          	push	de
1936  0661  AF          	xor	a, a
1937  0662  F5          	push	af
1938  0663  33          	inc	sp
1939  0664  CD 00 00    	call	_NIRVANAP_fillT_callee
1940  0667  3A 00 00    	ld	a,(_index_player)
1941  066A  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1942  066C  4F          	ld	c,a
1943  066D  3E 00       	ld	a,+((_score_osd_lin) / 256)
1944  066F  CE 00       	adc	a,0x00
1945  0671  47          	ld	b,a
1946  0672  0A          	ld	a,(bc)
1947  0673  32 00 00    	ld	(_s_lin0),a
1948  0676  3A 00 00    	ld	a,(_index_player)
1949  0679  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1950  067B  4F          	ld	c,a
1951  067C  3E 00       	ld	a,+((_score_osd_col) / 256)
1952  067E  CE 00       	adc	a,0x00
1953  0680  47          	ld	b,a
1954  0681  0A          	ld	a,(bc)
1955  0682  32 00 00    	ld	(_s_col0),a
1956  0685  CD 00 00    	call	_spr_check_over
1957  0688  3A 00 00    	ld	a,(_index_player)
1958  068B  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1959  068D  4F          	ld	c,a
1960  068E  3E 00       	ld	a,+((_score_osd_col) / 256)
1961  0690  CE 00       	adc	a,0x00
1962  0692  47          	ld	b,a
1963  0693  3E FF       	ld	a,0xff
1964  0695  02          	ld	(bc),a
1965  0696              l_game_score_osd_00119:
1966  0696  C9          	ret
1967  0697              	SECTION code_compiler
1968  0697              ;	---------------------------------
1969  0697              ; Function game_bonus_clock
1970  0697              ; ---------------------------------
1971  0697              _game_bonus_clock:
1972  0697  2A 00 00    	ld	hl,(_curr_time)
1973  069A  29          	add	hl,hl
1974  069B  3E D0       	ld	a,0xd0
1975  069D  95          	sub	a,l
1976  069E  44          	ld	b,h
1977  069F  21 00 00    	ld	hl,_tmp_ui
1978  06A2  77          	ld	(hl),a
1979  06A3  3E 07       	ld	a,0x07
1980  06A5  98          	sbc	a, b
1981  06A6  23          	inc	hl
1982  06A7  77          	ld	(hl),a
1983  06A8  3E D0       	ld	a,0xd0
1984  06AA  2B          	dec	hl
1985  06AB  BE          	cp	a, (hl)
1986  06AC  3E 07       	ld	a,0x07
1987  06AE  23          	inc	hl
1988  06AF  9E          	sbc	a, (hl)
1989  06B0  30 14       	jr	NC,l_game_bonus_clock_00106
1990  06B2  2B          	dec	hl
1991  06B3  AF          	xor	a, a
1992  06B4  77          	ld	(hl), a
1993  06B5  23          	inc	hl
1994  06B6  77          	ld	(hl), a
1995  06B7  21 00 00    	ld	hl,_phase_left
1996  06BA  36 00       	ld	(hl),0x00
1997  06BC  21 00 00    	ld	hl,_phase_end
1998  06BF  36 01       	ld	(hl),0x01
1999  06C1  CD 00 00    	call	_ay_reset
2000  06C4  18 36       	jr	l_game_bonus_clock_00108
2001  06C6              l_game_bonus_clock_00106:
2002  06C6  3A 00 00    	ld	a,(_phase_left)
2003  06C9  B7          	or	a, a
2004  06CA  C8          	ret	Z
2005  06CB  2A 00 00    	ld	hl,(_tmp_ui)
2006  06CE  E5          	push	hl
2007  06CF  21 02 0E    	ld	hl,0x0e02
2008  06D2  E5          	push	hl
2009  06D3  CD 00 00    	call	_zx_print_bonus_time
2010  06D6  21 05 00    	ld	hl,0x0005
2011  06D9  E5          	push	hl
2012  06DA  2A 00 00    	ld	hl,(_frame_time)
2013  06DD  E5          	push	hl
2014  06DE  CD 20 1A    	call	_game_check_time
2015  06E1  F1          	pop	af
2016  06E2  F1          	pop	af
2017  06E3  7D          	ld	a,l
2018  06E4  B7          	or	a, a
2019  06E5  C8          	ret	Z
2020  06E6  2A 00 00    	ld	hl,(_curr_time)
2021  06E9  22 00 00    	ld	(_frame_time),hl
2022  06EC  21 14 18    	ld	hl,0x1814
2023  06EF  E5          	push	hl
2024  06F0  3E 0E       	ld	a,0x0e
2025  06F2  F5          	push	af
2026  06F3  33          	inc	sp
2027  06F4  CD F1 0C    	call	_game_paint_attrib_lin_h
2028  06F7  F1          	pop	af
2029  06F8  33          	inc	sp
2030  06F9  CD 72 19    	call	_game_rotate_attrib
2031  06FC              l_game_bonus_clock_00108:
2032  06FC  C9          	ret
2033  06FD              	SECTION code_compiler
2034  06FD              ;	---------------------------------
2035  06FD              ; Function game_bonus_summary
2036  06FD              ; ---------------------------------
2037  06FD              _game_bonus_summary:
2038  06FD  CD B6 08    	call	_game_kill_all_sprites
2039  0700  CD 00 00    	call	_spr_draw_clear
2040  0703  21 00 00    	ld	hl,0x0000
2041  0706  CD 00 00    	call	_zx_cls_fastcall
2042  0709  CD B1 00    	call	_game_phase_print_score_back
2043  070C  CD 75 0C    	call	_game_print_score
2044  070F  3A 00 00    	ld	a,(_game_lives)
2045  0712  B7          	or	a, a
2046  0713  28 05       	jr	Z,l_game_bonus_summary_00102
2047  0715  2E 00       	ld	l,0x00
2048  0717  CD B2 07    	call	_game_bonus_summary_player
2049  071A              l_game_bonus_summary_00102:
2050  071A  3A 01 00    	ld	a, (_game_lives + 1)
2051  071D  B7          	or	a, a
2052  071E  28 05       	jr	Z,l_game_bonus_summary_00104
2053  0720  2E 01       	ld	l,0x01
2054  0722  CD B2 07    	call	_game_bonus_summary_player
2055  0725              l_game_bonus_summary_00104:
2056  0725  21 1F 98    	ld	hl,0x981f
2057  0728  E5          	push	hl
2058  0729  AF          	xor	a, a
2059  072A  F5          	push	af
2060  072B  33          	inc	sp
2061  072C  CD CA 0C    	call	_game_paint_attrib_lin
2062  072F  F1          	pop	af
2063  0730  33          	inc	sp
2064  0731  3A 00 00    	ld	a,(_phase_bonus_total)
2065  0734  D6 06       	sub	a,0x06
2066  0736  20 68       	jr	NZ,l_game_bonus_summary_00109
2067  0738  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2068  073B  B7          	or	a, a
2069  073C  20 62       	jr	NZ,l_game_bonus_summary_00109
2070  073E  CD 00 00    	call	_sound_jump
2071  0741  3A 00 00    	ld	a,(_phase_curr)
2072  0744  D6 03       	sub	a,0x03
2073  0746  20 23       	jr	NZ,l_game_bonus_summary_00106
2074  0748  21 7B 00    	ld	hl,___str_18
2075  074B  E5          	push	hl
2076  074C  21 12 06    	ld	hl,0x0612
2077  074F  E5          	push	hl
2078  0750  CD 00 00    	call	_zx_print_str
2079  0753  21 00 00    	ld	hl,_index_player
2080  0756  36 00       	ld	(hl),0x00
2081  0758  21 2C 01    	ld	hl,0x012c
2082  075B  CD 00 00    	call	_player_score_add
2083  075E  21 00 00    	ld	hl,_index_player
2084  0761  36 01       	ld	(hl),0x01
2085  0763  21 2C 01    	ld	hl,0x012c
2086  0766  CD 00 00    	call	_player_score_add
2087  0769  18 21       	jr	l_game_bonus_summary_00107
2088  076B              l_game_bonus_summary_00106:
2089  076B  21 8E 00    	ld	hl,___str_19
2090  076E  E5          	push	hl
2091  076F  21 12 06    	ld	hl,0x0612
2092  0772  E5          	push	hl
2093  0773  CD 00 00    	call	_zx_print_str
2094  0776  21 00 00    	ld	hl,_index_player
2095  0779  36 00       	ld	(hl),0x00
2096  077B  21 F4 01    	ld	hl,0x01f4
2097  077E  CD 00 00    	call	_player_score_add
2098  0781  21 00 00    	ld	hl,_index_player
2099  0784  36 01       	ld	(hl),0x01
2100  0786  21 F4 01    	ld	hl,0x01f4
2101  0789  CD 00 00    	call	_player_score_add
2102  078C              l_game_bonus_summary_00107:
2103  078C  21 C8 00    	ld	hl,0x00c8
2104  078F  E5          	push	hl
2105  0790  21 10 1A    	ld	hl,0x1a10
2106  0793  E5          	push	hl
2107  0794  3E 12       	ld	a,0x12
2108  0796  F5          	push	af
2109  0797  33          	inc	sp
2110  0798  CD 8E 19    	call	_game_colour_message
2111  079B  F1          	pop	af
2112  079C  F1          	pop	af
2113  079D  33          	inc	sp
2114  079E  18 11       	jr	l_game_bonus_summary_00112
2115  07A0              l_game_bonus_summary_00109:
2116  07A0  21 A1 00    	ld	hl,___str_20
2117  07A3  E5          	push	hl
2118  07A4  21 12 0C    	ld	hl,0x0c12
2119  07A7  E5          	push	hl
2120  07A8  CD 00 00    	call	_zx_print_str
2121  07AB  21 E8 03    	ld	hl,0x03e8
2122  07AE  CD 00 00    	call	_z80_delay_ms_fastcall
2123  07B1              l_game_bonus_summary_00112:
2124  07B1  C9          	ret
2125  07B2              	SECTION rodata_compiler
2126  007B              ___str_18:
2127  007B  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2128  008D  00          	DEFB 0x00
2129  008E              	SECTION rodata_compiler
2130  008E              ___str_19:
2131  008E  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2132  00A0  00          	DEFB 0x00
2133  00A1              	SECTION rodata_compiler
2134  00A1              ___str_20:
2135  00A1  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2136  00A9  00          	DEFB 0x00
2137  00AA              	SECTION code_compiler
2138  07B2              ;	---------------------------------
2139  07B2              ; Function game_bonus_summary_player
2140  07B2              ; ---------------------------------
2141  07B2              _game_bonus_summary_player:
2142  07B2  CD 00 00    	call	___sdcc_enter_ix
2143  07B5  F5          	push	af
2144  07B6  3B          	dec	sp
2145  07B7  DD 75 FF    	ld	(ix-1),l
2146  07BA  76          	halt
2147  07BB  DD 7E FF    	ld	a,(ix-1)
2148  07BE  B7          	or	a, a
2149  07BF  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2150  07C1  21 00 00    	ld	hl,_s_lin1
2151  07C4  36 06       	ld	(hl),0x06
2152  07C6  21 AA 00    	ld	hl,___str_21
2153  07C9  E5          	push	hl
2154  07CA  21 06 07    	ld	hl,0x0706
2155  07CD  E5          	push	hl
2156  07CE  CD 00 00    	call	_zx_print_str
2157  07D1  3A 00 00    	ld	a,(_s_lin1)
2158  07D4  07          	rlca
2159  07D5  07          	rlca
2160  07D6  07          	rlca
2161  07D7  E6 F8       	and	a,0xf8
2162  07D9  47          	ld	b,a
2163  07DA  04          	inc	b
2164  07DB  04          	inc	b
2165  07DC  04          	inc	b
2166  07DD  04          	inc	b
2167  07DE  3E 04       	ld	a,0x04
2168  07E0  48          	ld	c,b
2169  07E1  47          	ld	b,a
2170  07E2  C5          	push	bc
2171  07E3  3E 03       	ld	a,0x03
2172  07E5  F5          	push	af
2173  07E6  33          	inc	sp
2174  07E7  CD 00 00    	call	_NIRVANAP_drawT_callee
2175  07EA  21 00 00    	ld	hl,_index_player
2176  07ED  36 00       	ld	(hl),0x00
2177  07EF  18 2E       	jr	l_game_bonus_summary_player_00103
2178  07F1              l_game_bonus_summary_player_00102:
2179  07F1  21 00 00    	ld	hl,_s_lin1
2180  07F4  36 0C       	ld	(hl),0x0c
2181  07F6  21 B1 00    	ld	hl,___str_22
2182  07F9  E5          	push	hl
2183  07FA  21 0C 07    	ld	hl,0x070c
2184  07FD  E5          	push	hl
2185  07FE  CD 00 00    	call	_zx_print_str
2186  0801  3A 00 00    	ld	a,(_s_lin1)
2187  0804  07          	rlca
2188  0805  07          	rlca
2189  0806  07          	rlca
2190  0807  E6 F8       	and	a,0xf8
2191  0809  47          	ld	b,a
2192  080A  04          	inc	b
2193  080B  04          	inc	b
2194  080C  04          	inc	b
2195  080D  04          	inc	b
2196  080E  3E 04       	ld	a,0x04
2197  0810  48          	ld	c,b
2198  0811  47          	ld	b,a
2199  0812  C5          	push	bc
2200  0813  3E 1B       	ld	a,0x1b
2201  0815  F5          	push	af
2202  0816  33          	inc	sp
2203  0817  CD 00 00    	call	_NIRVANAP_drawT_callee
2204  081A  21 00 00    	ld	hl,_index_player
2205  081D  36 01       	ld	(hl),0x01
2206  081F              l_game_bonus_summary_player_00103:
2207  081F  3A 00 00    	ld	a,(_s_lin1)
2208  0822  07          	rlca
2209  0823  07          	rlca
2210  0824  07          	rlca
2211  0825  E6 F8       	and	a,0xf8
2212  0827  C6 08       	add	a,0x08
2213  0829  F5          	push	af
2214  082A  33          	inc	sp
2215  082B  21 07 1F    	ld	hl,0x1f07
2216  082E  E5          	push	hl
2217  082F  CD CA 0C    	call	_game_paint_attrib_lin
2218  0832  F1          	pop	af
2219  0833  33          	inc	sp
2220  0834  21 00 00    	ld	hl,_tmp_uc
2221  0837  36 00       	ld	(hl),0x00
2222  0839  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2223  083B  DD 86 FF    	add	a,(ix-1)
2224  083E  DD 77 FD    	ld	(ix-3),a
2225  0841  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2226  0843  CE 00       	adc	a,0x00
2227  0845  DD 77 FE    	ld	(ix-2),a
2228  0848              l_game_bonus_summary_player_00107:
2229  0848  E1          	pop	hl
2230  0849  4E          	ld	c,(hl)
2231  084A  3A 00 00    	ld	a,(_tmp_uc)
2232  084D  E5          	push	hl
2233  084E  91          	sub	a, c
2234  084F  30 53       	jr	NC,l_game_bonus_summary_player_00109
2235  0851  3A 00 00    	ld	a,(_s_lin1)
2236  0854  07          	rlca
2237  0855  07          	rlca
2238  0856  07          	rlca
2239  0857  E6 F8       	and	a,0xf8
2240  0859  4F          	ld	c,a
2241  085A  3A 00 00    	ld	a,(_tmp_uc)
2242  085D  D6 03       	sub	a,0x03
2243  085F  30 08       	jr	NC,l_game_bonus_summary_player_00105
2244  0861  79          	ld	a,c
2245  0862  C6 F8       	add	a,0xf8
2246  0864  32 00 00    	ld	(_s_lin0),a
2247  0867  18 06       	jr	l_game_bonus_summary_player_00106
2248  0869              l_game_bonus_summary_player_00105:
2249  0869  79          	ld	a,c
2250  086A  C6 08       	add	a,0x08
2251  086C  32 00 00    	ld	(_s_lin0),a
2252  086F              l_game_bonus_summary_player_00106:
2253  086F  76          	halt
2254  0870  2A 00 00    	ld	hl,(_tmp_uc)
2255  0873  26 03       	ld	h,0x03
2256  0875  E5          	push	hl
2257  0876  CD 00 00    	call	__moduchar_callee
2258  0879  7D          	ld	a,l
2259  087A  87          	add	a, a
2260  087B  C6 0E       	add	a,0x0e
2261  087D  F5          	push	af
2262  087E  33          	inc	sp
2263  087F  3A 00 00    	ld	a,(_s_lin0)
2264  0882  57          	ld	d,a
2265  0883  1E B9       	ld	e,0xb9
2266  0885  D5          	push	de
2267  0886  CD 00 00    	call	_NIRVANAP_drawT_callee
2268  0889  21 50 00    	ld	hl,0x0050
2269  088C  CD 00 00    	call	_player_score_add
2270  088F  21 00 00    	ld	hl,_tmp_uc
2271  0892  34          	inc	(hl)
2272  0893  21 00 00    	ld	hl,_ay_effect_09
2273  0896  CD 00 00    	call	_ay_fx_play
2274  0899  CD 00 00    	call	_sound_coin
2275  089C  21 32 00    	ld	hl,0x0032
2276  089F  CD 00 00    	call	_z80_delay_ms_fastcall
2277  08A2  18 A4       	jr	l_game_bonus_summary_player_00107
2278  08A4              l_game_bonus_summary_player_00109:
2279  08A4  21 B7 00    	ld	hl,___str_23
2280  08A7  E5          	push	hl
2281  08A8  2A 00 00    	ld	hl,(_s_lin1)
2282  08AB  26 16       	ld	h,0x16
2283  08AD  E5          	push	hl
2284  08AE  CD 00 00    	call	_zx_print_str
2285  08B1  DD F9       	ld	sp, ix
2286  08B3  DD E1       	pop	ix
2287  08B5  C9          	ret
2288  08B6              	SECTION rodata_compiler
2289  00AA              ___str_21:
2290  00AA  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2291  00B0  00          	DEFB 0x00
2292  00B1              	SECTION rodata_compiler
2293  00B1              ___str_22:
2294  00B1  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2295  00B6  00          	DEFB 0x00
2296  00B7              	SECTION rodata_compiler
2297  00B7              ___str_23:
2298  00B7  58 20 38 30 30 
                        	DEFM "X 800"
2299  00BC  00          	DEFB 0x00
2300  00BD              	SECTION code_compiler
2301  08B6              ;	---------------------------------
2302  08B6              ; Function game_kill_all_sprites
2303  08B6              ; ---------------------------------
2304  08B6              _game_kill_all_sprites:
2305  08B6  21 00 00    	ld	hl,_sprite
2306  08B9  36 00       	ld	(hl),0x00
2307  08BB              l_game_kill_all_sprites_00102:
2308  08BB  2A 00 00    	ld	hl,(_sprite)
2309  08BE  CD 00 00    	call	_spr_destroy
2310  08C1  21 00 00    	ld	hl,_sprite
2311  08C4  7E          	ld	a,(hl)
2312  08C5  3C          	inc	a
2313  08C6  77          	ld	(hl),a
2314  08C7  D6 08       	sub	a,0x08
2315  08C9  38 F0       	jr	C,l_game_kill_all_sprites_00102
2316  08CB  C9          	ret
2317  08CC              	SECTION code_compiler
2318  08CC              ;	---------------------------------
2319  08CC              ; Function game_check_maze
2320  08CC              ; ---------------------------------
2321  08CC              _game_check_maze:
2322  08CC  4D          	ld	c,l
2323  08CD  44          	ld	b,h
2324  08CE  21 00 00    	ld	hl,_lvl_1
2325  08D1  09          	add	hl,bc
2326  08D2  7E          	ld	a, (hl)
2327  08D3  D6 10       	sub	a,0x10
2328  08D5  30 0A       	jr	NC,l_game_check_maze_00103
2329  08D7  03          	inc	bc
2330  08D8  21 00 00    	ld	hl,_lvl_1
2331  08DB  09          	add	hl,bc
2332  08DC  7E          	ld	a, (hl)
2333  08DD  D6 10       	sub	a,0x10
2334  08DF  38 04       	jr	C,l_game_check_maze_00104
2335  08E1              l_game_check_maze_00103:
2336  08E1  2E 00       	ld	l,0x00
2337  08E3  18 02       	jr	l_game_check_maze_00105
2338  08E5              l_game_check_maze_00104:
2339  08E5  2E 01       	ld	l,0x01
2340  08E7              l_game_check_maze_00105:
2341  08E7  C9          	ret
2342  08E8              	SECTION code_compiler
2343  08E8              ;	---------------------------------
2344  08E8              ; Function game_enemy_add
2345  08E8              ; ---------------------------------
2346  08E8              _game_enemy_add:
2347  08E8  3A 00 00    	ld	a,(_game_type)
2348  08EB  D6 02       	sub	a,0x02
2349  08ED  20 05       	jr	NZ,l_game_enemy_add_00106
2350  08EF  CD 18 0A    	call	_game_enemy_rnd
2351  08F2  18 21       	jr	l_game_enemy_add_00107
2352  08F4              l_game_enemy_add_00106:
2353  08F4  3A 00 00    	ld	a,(_spr_count)
2354  08F7  D6 06       	sub	a,0x06
2355  08F9  30 1A       	jr	NC,l_game_enemy_add_00107
2356  08FB  21 64 00    	ld	hl,0x0064
2357  08FE  E5          	push	hl
2358  08FF  2A 00 00    	ld	hl,(_entry_time)
2359  0902  E5          	push	hl
2360  0903  CD 20 1A    	call	_game_check_time
2361  0906  F1          	pop	af
2362  0907  F1          	pop	af
2363  0908  7D          	ld	a,l
2364  0909  B7          	or	a, a
2365  090A  28 09       	jr	Z,l_game_enemy_add_00107
2366  090C  3A 00 00    	ld	a,(_phase_left)
2367  090F  B7          	or	a, a
2368  0910  28 03       	jr	Z,l_game_enemy_add_00107
2369  0912  CD 18 09    	call	_game_enemy_quota
2370  0915              l_game_enemy_add_00107:
2371  0915  2E 00       	ld	l,0x00
2372  0917  C9          	ret
2373  0918              	SECTION code_compiler
2374  0918              ;	---------------------------------
2375  0918              ; Function game_enemy_quota
2376  0918              ; ---------------------------------
2377  0918              _game_enemy_quota:
2378  0918  CD 00 00    	call	_rand
2379  091B  7D          	ld	a, l
2380  091C  E6 01       	and	a,0x01
2381  091E  32 00 00    	ld	(_tmp),a
2382  0921  3A 00 00    	ld	a,(_phase_pop)
2383  0924  B7          	or	a, a
2384  0925  28 06       	jr	Z,l_game_enemy_quota_00101
2385  0927  3A 00 00    	ld	a,(_phase_left)
2386  092A  3D          	dec	a
2387  092B  20 05       	jr	NZ,l_game_enemy_quota_00102
2388  092D              l_game_enemy_quota_00101:
2389  092D  21 00 00    	ld	hl,_tmp
2390  0930  36 00       	ld	(hl),0x00
2391  0932              l_game_enemy_quota_00102:
2392  0932  3A 00 00    	ld	a,(_phase_left)
2393  0935  B7          	or	a, a
2394  0936  28 4C       	jr	Z,l_game_enemy_quota_00111
2395  0938  3A 00 00    	ld	a,(_tmp)
2396  093B  B7          	or	a, a
2397  093C  20 46       	jr	NZ,l_game_enemy_quota_00111
2398  093E  01 00 00    	ld	bc,_phase_quota+0
2399  0941  59          	ld	e, c
2400  0942  50          	ld	d, b
2401  0943  13          	inc	de
2402  0944  13          	inc	de
2403  0945  1A          	ld	a,(de)
2404  0946  B7          	or	a, a
2405  0947  28 10       	jr	Z,l_game_enemy_quota_00105
2406  0949  D5          	push	de
2407  094A  2E 09       	ld	l,0x09
2408  094C  CD 48 0A    	call	_game_enemy_add1
2409  094F  D1          	pop	de
2410  0950  1A          	ld	a,(de)
2411  0951  C6 FF       	add	a,0xff
2412  0953  12          	ld	(de),a
2413  0954  2E 00       	ld	l,0x00
2414  0956  C3 17 0A    	jp	l_game_enemy_quota_00128
2415  0959              l_game_enemy_quota_00105:
2416  0959  59          	ld	e, c
2417  095A  50          	ld	d, b
2418  095B  13          	inc	de
2419  095C  1A          	ld	a,(de)
2420  095D  B7          	or	a, a
2421  095E  28 10       	jr	Z,l_game_enemy_quota_00107
2422  0960  D5          	push	de
2423  0961  2E 04       	ld	l,0x04
2424  0963  CD 48 0A    	call	_game_enemy_add1
2425  0966  D1          	pop	de
2426  0967  1A          	ld	a,(de)
2427  0968  C6 FF       	add	a,0xff
2428  096A  12          	ld	(de),a
2429  096B  2E 00       	ld	l,0x00
2430  096D  C3 17 0A    	jp	l_game_enemy_quota_00128
2431  0970              l_game_enemy_quota_00107:
2432  0970  0A          	ld	a,(bc)
2433  0971  B7          	or	a, a
2434  0972  28 10       	jr	Z,l_game_enemy_quota_00111
2435  0974  C5          	push	bc
2436  0975  2E 01       	ld	l,0x01
2437  0977  CD 48 0A    	call	_game_enemy_add1
2438  097A  C1          	pop	bc
2439  097B  0A          	ld	a,(bc)
2440  097C  C6 FF       	add	a,0xff
2441  097E  02          	ld	(bc),a
2442  097F  2E 00       	ld	l,0x00
2443  0981  C3 17 0A    	jp	l_game_enemy_quota_00128
2444  0984              l_game_enemy_quota_00111:
2445  0984  3A 00 00    	ld	a,(_phase_coins)
2446  0987  B7          	or	a, a
2447  0988  28 0A       	jr	Z,l_game_enemy_quota_00114
2448  098A  2E 08       	ld	l,0x08
2449  098C  CD 48 0A    	call	_game_enemy_add1
2450  098F  2E 00       	ld	l,0x00
2451  0991  C3 17 0A    	jp	l_game_enemy_quota_00128
2452  0994              l_game_enemy_quota_00114:
2453  0994  CD 00 00    	call	_rand
2454  0997  7D          	ld	a,l
2455  0998  E6 03       	and	a,0x03
2456  099A  44          	ld	b,h
2457  099B  0E 00       	ld	c,0x00
2458  099D  CB 79       	bit	7,c
2459  099F  20 74       	jr	NZ,l_game_enemy_quota_00127
2460  09A1  5F          	ld	e,a
2461  09A2  3E 03       	ld	a,0x03
2462  09A4  BB          	cp	a, e
2463  09A5  3E 00       	ld	a,0x00
2464  09A7  99          	sbc	a, c
2465  09A8  E2 AD 09    	jp	PO, l_game_enemy_quota_00184
2466  09AB  EE 80       	xor	a,0x80
2467  09AD              l_game_enemy_quota_00184:
2468  09AD  FA 15 0A    	jp	M,l_game_enemy_quota_00127
2469  09B0  16 00       	ld	d,0x00
2470  09B2  21 B8 09    	ld	hl,l_game_enemy_quota_00185
2471  09B5  19          	add	hl,de
2472  09B6  19          	add	hl,de
2473  09B7  E9          	jp	(hl)
2474  09B8              l_game_enemy_quota_00185:
2475  09B8  18 06       	jr	l_game_enemy_quota_00115
2476  09BA  18 13       	jr	l_game_enemy_quota_00118
2477  09BC  18 29       	jr	l_game_enemy_quota_00121
2478  09BE  18 3F       	jr	l_game_enemy_quota_00124
2479  09C0              l_game_enemy_quota_00115:
2480  09C0  3E 07       	ld	a,0x07
2481  09C2  21 00 00    	ld	hl,_phase_curr
2482  09C5  96          	sub	a, (hl)
2483  09C6  30 4D       	jr	NC,l_game_enemy_quota_00127
2484  09C8  2E 07       	ld	l,0x07
2485  09CA  CD 48 0A    	call	_game_enemy_add1
2486  09CD  18 46       	jr	l_game_enemy_quota_00127
2487  09CF              l_game_enemy_quota_00118:
2488  09CF  2A 00 00    	ld	hl,(_game_time_fireball_start)
2489  09D2  E5          	push	hl
2490  09D3  21 00 00    	ld	hl,0x0000
2491  09D6  E5          	push	hl
2492  09D7  CD 20 1A    	call	_game_check_time
2493  09DA  F1          	pop	af
2494  09DB  F1          	pop	af
2495  09DC  7D          	ld	a,l
2496  09DD  B7          	or	a, a
2497  09DE  28 35       	jr	Z,l_game_enemy_quota_00127
2498  09E0  2E 0B       	ld	l,0x0b
2499  09E2  CD 48 0A    	call	_game_enemy_add1
2500  09E5  18 2E       	jr	l_game_enemy_quota_00127
2501  09E7              l_game_enemy_quota_00121:
2502  09E7  2A 00 00    	ld	hl,(_game_time_fireball_start)
2503  09EA  E5          	push	hl
2504  09EB  21 00 00    	ld	hl,0x0000
2505  09EE  E5          	push	hl
2506  09EF  CD 20 1A    	call	_game_check_time
2507  09F2  F1          	pop	af
2508  09F3  F1          	pop	af
2509  09F4  7D          	ld	a,l
2510  09F5  B7          	or	a, a
2511  09F6  28 1D       	jr	Z,l_game_enemy_quota_00127
2512  09F8  2E 0B       	ld	l,0x0b
2513  09FA  CD 48 0A    	call	_game_enemy_add1
2514  09FD  18 16       	jr	l_game_enemy_quota_00127
2515  09FF              l_game_enemy_quota_00124:
2516  09FF  2A 00 00    	ld	hl,(_game_time_fireball_start)
2517  0A02  E5          	push	hl
2518  0A03  21 00 00    	ld	hl,0x0000
2519  0A06  E5          	push	hl
2520  0A07  CD 20 1A    	call	_game_check_time
2521  0A0A  F1          	pop	af
2522  0A0B  F1          	pop	af
2523  0A0C  7D          	ld	a,l
2524  0A0D  B7          	or	a, a
2525  0A0E  28 05       	jr	Z,l_game_enemy_quota_00127
2526  0A10  2E 0A       	ld	l,0x0a
2527  0A12  CD 48 0A    	call	_game_enemy_add1
2528  0A15              l_game_enemy_quota_00127:
2529  0A15  2E 00       	ld	l,0x00
2530  0A17              l_game_enemy_quota_00128:
2531  0A17  C9          	ret
2532  0A18              	SECTION code_compiler
2533  0A18              ;	---------------------------------
2534  0A18              ; Function game_enemy_rnd
2535  0A18              ; ---------------------------------
2536  0A18              _game_enemy_rnd:
2537  0A18  3A 00 00    	ld	a,(_spr_count)
2538  0A1B  D6 06       	sub	a,0x06
2539  0A1D  30 26       	jr	NC,l_game_enemy_rnd_00102
2540  0A1F  21 64 00    	ld	hl,0x0064
2541  0A22  E5          	push	hl
2542  0A23  2A 00 00    	ld	hl,(_entry_time)
2543  0A26  E5          	push	hl
2544  0A27  CD 20 1A    	call	_game_check_time
2545  0A2A  F1          	pop	af
2546  0A2B  F1          	pop	af
2547  0A2C  7D          	ld	a,l
2548  0A2D  B7          	or	a, a
2549  0A2E  28 15       	jr	Z,l_game_enemy_rnd_00102
2550  0A30  2A 00 00    	ld	hl,(_curr_time)
2551  0A33  22 00 00    	ld	(_entry_time),hl
2552  0A36  CD 00 00    	call	_rand
2553  0A39  01 0B 00    	ld	bc,0x000b
2554  0A3C  C5          	push	bc
2555  0A3D  E5          	push	hl
2556  0A3E  CD 00 00    	call	__modsint_callee
2557  0A41  2C          	inc	l
2558  0A42  CD 48 0A    	call	_game_enemy_add1
2559  0A45              l_game_enemy_rnd_00102:
2560  0A45  2E 00       	ld	l,0x00
2561  0A47  C9          	ret
2562  0A48              	SECTION code_compiler
2563  0A48              ;	---------------------------------
2564  0A48              ; Function game_enemy_add1
2565  0A48              ; ---------------------------------
2566  0A48              _game_enemy_add1:
2567  0A48  CD 00 00    	call	___sdcc_enter_ix
2568  0A4B  F5          	push	af
2569  0A4C  45          	ld	b,l
2570  0A4D  78          	ld	a,b
2571  0A4E  FE 03       	cp	a,0x03
2572  0A50  28 47       	jr	Z,l_game_enemy_add1_00101
2573  0A52  FE 06       	cp	a,0x06
2574  0A54  28 43       	jr	Z,l_game_enemy_add1_00101
2575  0A56  D6 0A       	sub	a,0x0a
2576  0A58  20 04       	jr	NZ,l_game_enemy_add1_00197
2577  0A5A  3E 01       	ld	a,0x01
2578  0A5C  18 01       	jr	l_game_enemy_add1_00198
2579  0A5E              l_game_enemy_add1_00197:
2580  0A5E  AF          	xor	a,a
2581  0A5F              l_game_enemy_add1_00198:
2582  0A5F  4F          	ld	c,a
2583  0A60  B7          	or	a, a
2584  0A61  28 0B       	jr	Z,l_game_enemy_add1_00107
2585  0A63  C5          	push	bc
2586  0A64  2E 0A       	ld	l,0x0a
2587  0A66  CD 92 0B    	call	_game_enemy_add_get_index
2588  0A69  C1          	pop	bc
2589  0A6A  5D          	ld	e,l
2590  0A6B  1C          	inc	e
2591  0A6C  20 2B       	jr	NZ,l_game_enemy_add1_00101
2592  0A6E              l_game_enemy_add1_00107:
2593  0A6E  78          	ld	a,b
2594  0A6F  D6 0B       	sub	a,0x0b
2595  0A71  20 04       	jr	NZ,l_game_enemy_add1_00201
2596  0A73  3E 01       	ld	a,0x01
2597  0A75  18 01       	jr	l_game_enemy_add1_00202
2598  0A77              l_game_enemy_add1_00201:
2599  0A77  AF          	xor	a,a
2600  0A78              l_game_enemy_add1_00202:
2601  0A78  DD 77 FF    	ld	(ix-1),a
2602  0A7B  B7          	or	a, a
2603  0A7C  28 0B       	jr	Z,l_game_enemy_add1_00109
2604  0A7E  C5          	push	bc
2605  0A7F  2E 0B       	ld	l,0x0b
2606  0A81  CD 92 0B    	call	_game_enemy_add_get_index
2607  0A84  C1          	pop	bc
2608  0A85  5D          	ld	e,l
2609  0A86  1C          	inc	e
2610  0A87  20 10       	jr	NZ,l_game_enemy_add1_00101
2611  0A89              l_game_enemy_add1_00109:
2612  0A89  78          	ld	a,b
2613  0A8A  D6 07       	sub	a,0x07
2614  0A8C  20 10       	jr	NZ,l_game_enemy_add1_00102
2615  0A8E  C5          	push	bc
2616  0A8F  2E 07       	ld	l,0x07
2617  0A91  CD 92 0B    	call	_game_enemy_add_get_index
2618  0A94  C1          	pop	bc
2619  0A95  5D          	ld	e,l
2620  0A96  1C          	inc	e
2621  0A97  28 05       	jr	Z,l_game_enemy_add1_00102
2622  0A99              l_game_enemy_add1_00101:
2623  0A99  2E 00       	ld	l,0x00
2624  0A9B  C3 8E 0B    	jp	l_game_enemy_add1_00133
2625  0A9E              l_game_enemy_add1_00102:
2626  0A9E  21 00 00    	ld	hl,_phase_pop
2627  0AA1  34          	inc	(hl)
2628  0AA2  C5          	push	bc
2629  0AA3  CD 00 00    	call	_sound_enter_enemy
2630  0AA6  2E 00       	ld	l,0x00
2631  0AA8  CD 92 0B    	call	_game_enemy_add_get_index
2632  0AAB  C1          	pop	bc
2633  0AAC  7D          	ld	a,l
2634  0AAD  32 00 00    	ld	(_tmp),a
2635  0AB0  C5          	push	bc
2636  0AB1  CD 00 00    	call	_rand
2637  0AB4  C1          	pop	bc
2638  0AB5  7D          	ld	a, l
2639  0AB6  E6 01       	and	a,0x01
2640  0AB8  32 00 00    	ld	(_tmp0),a
2641  0ABB  3D          	dec	a
2642  0ABC  20 1C       	jr	NZ,l_game_enemy_add1_00115
2643  0ABE  21 00 00    	ld	hl,_s_lin0
2644  0AC1  36 10       	ld	(hl),0x10
2645  0AC3  21 00 00    	ld	hl,_s_col0
2646  0AC6  36 04       	ld	(hl),0x04
2647  0AC8  21 00 00    	ld	hl,_s_col1
2648  0ACB  36 02       	ld	(hl),0x02
2649  0ACD  79          	ld	a,c
2650  0ACE  B7          	or	a, a
2651  0ACF  28 02       	jr	Z,l_game_enemy_add1_00111
2652  0AD1  36 03       	ld	(hl),0x03
2653  0AD3              l_game_enemy_add1_00111:
2654  0AD3  21 00 00    	ld	hl,_tmp1
2655  0AD6  36 01       	ld	(hl),0x01
2656  0AD8  18 1A       	jr	l_game_enemy_add1_00116
2657  0ADA              l_game_enemy_add1_00115:
2658  0ADA  21 00 00    	ld	hl,_s_lin0
2659  0ADD  36 10       	ld	(hl),0x10
2660  0ADF  21 00 00    	ld	hl,_s_col0
2661  0AE2  36 1A       	ld	(hl),0x1a
2662  0AE4  21 00 00    	ld	hl,_s_col1
2663  0AE7  36 1E       	ld	(hl),0x1e
2664  0AE9  79          	ld	a,c
2665  0AEA  B7          	or	a, a
2666  0AEB  28 02       	jr	Z,l_game_enemy_add1_00113
2667  0AED  36 1C       	ld	(hl),0x1c
2668  0AEF              l_game_enemy_add1_00113:
2669  0AEF  21 00 00    	ld	hl,_tmp1
2670  0AF2  36 FF       	ld	(hl),0xff
2671  0AF4              l_game_enemy_add1_00116:
2672  0AF4  78          	ld	a,b
2673  0AF5  D6 08       	sub	a,0x08
2674  0AF7  20 04       	jr	NZ,l_game_enemy_add1_00210
2675  0AF9  3E 01       	ld	a,0x01
2676  0AFB  18 01       	jr	l_game_enemy_add1_00211
2677  0AFD              l_game_enemy_add1_00210:
2678  0AFD  AF          	xor	a,a
2679  0AFE              l_game_enemy_add1_00211:
2680  0AFE  DD 77 FE    	ld	(ix-2),a
2681  0B01  B7          	or	a, a
2682  0B02  28 04       	jr	Z,l_game_enemy_add1_00118
2683  0B04  21 00 00    	ld	hl,_phase_coins
2684  0B07  35          	dec	(hl)
2685  0B08              l_game_enemy_add1_00118:
2686  0B08  21 00 00    	ld	hl,_tmp_uc
2687  0B0B  36 00       	ld	(hl),0x00
2688  0B0D  DD 7E FF    	ld	a,(ix-1)
2689  0B10  B7          	or	a,a
2690  0B11  20 03       	jr	NZ,l_game_enemy_add1_00125
2691  0B13  B1          	or	a,c
2692  0B14  28 35       	jr	Z,l_game_enemy_add1_00126
2693  0B16              l_game_enemy_add1_00125:
2694  0B16  C5          	push	bc
2695  0B17  CD 00 00    	call	_rand
2696  0B1A  11 03 00    	ld	de,0x0003
2697  0B1D  D5          	push	de
2698  0B1E  E5          	push	hl
2699  0B1F  CD 00 00    	call	__modsint_callee
2700  0B22  C1          	pop	bc
2701  0B23  5D          	ld	e,l
2702  0B24  21 00 00    	ld	hl,_tmp_uc
2703  0B27  73          	ld	(hl),e
2704  0B28  7B          	ld	a,e
2705  0B29  B7          	or	a, a
2706  0B2A  20 02       	jr	NZ,l_game_enemy_add1_00120
2707  0B2C  36 10       	ld	(hl),0x10
2708  0B2E              l_game_enemy_add1_00120:
2709  0B2E  3A 00 00    	ld	a,(_tmp_uc)
2710  0B31  3D          	dec	a
2711  0B32  20 05       	jr	NZ,l_game_enemy_add1_00122
2712  0B34  21 00 00    	ld	hl,_tmp_uc
2713  0B37  36 38       	ld	(hl),0x38
2714  0B39              l_game_enemy_add1_00122:
2715  0B39  3A 00 00    	ld	a,(_tmp_uc)
2716  0B3C  D6 02       	sub	a,0x02
2717  0B3E  20 05       	jr	NZ,l_game_enemy_add1_00124
2718  0B40  21 00 00    	ld	hl,_tmp_uc
2719  0B43  36 84       	ld	(hl),0x84
2720  0B45              l_game_enemy_add1_00124:
2721  0B45  3A 00 00    	ld	a,(_s_col1)
2722  0B48  32 00 00    	ld	(_s_col0),a
2723  0B4B              l_game_enemy_add1_00126:
2724  0B4B  CD 00 00    	call	_ay_is_playing
2725  0B4E  7D          	ld	a,l
2726  0B4F  D6 02       	sub	a,0x02
2727  0B51  30 14       	jr	NC,l_game_enemy_add1_00132
2728  0B53  DD 7E FE    	ld	a,(ix-2)
2729  0B56  B7          	or	a, a
2730  0B57  20 08       	jr	NZ,l_game_enemy_add1_00129
2731  0B59  21 00 00    	ld	hl,_ay_effect_04
2732  0B5C  CD 00 00    	call	_ay_fx_play
2733  0B5F  18 06       	jr	l_game_enemy_add1_00132
2734  0B61              l_game_enemy_add1_00129:
2735  0B61  21 00 00    	ld	hl,_ay_effect_07
2736  0B64  CD 00 00    	call	_ay_fx_play
2737  0B67              l_game_enemy_add1_00132:
2738  0B67  2A 00 00    	ld	hl,(_curr_time)
2739  0B6A  22 00 00    	ld	(_entry_time),hl
2740  0B6D  3A 00 00    	ld	a,(_s_lin0)
2741  0B70  21 00 00    	ld	hl,_tmp_uc
2742  0B73  86          	add	a, (hl)
2743  0B74  57          	ld	d,a
2744  0B75  3A 00 00    	ld	a,(_tmp1)
2745  0B78  48          	ld	c,b
2746  0B79  47          	ld	b,a
2747  0B7A  3A 00 00    	ld	a,(_s_col0)
2748  0B7D  C5          	push	bc
2749  0B7E  5A          	ld	e,d
2750  0B7F  57          	ld	d,a
2751  0B80  3A 00 00    	ld	a,(_tmp)
2752  0B83  D5          	push	de
2753  0B84  F5          	push	af
2754  0B85  33          	inc	sp
2755  0B86  CD 00 00    	call	_enemy_init
2756  0B89  F1          	pop	af
2757  0B8A  F1          	pop	af
2758  0B8B  33          	inc	sp
2759  0B8C  2E 00       	ld	l,0x00
2760  0B8E              l_game_enemy_add1_00133:
2761  0B8E  F1          	pop	af
2762  0B8F  DD E1       	pop	ix
2763  0B91  C9          	ret
2764  0B92              	SECTION code_compiler
2765  0B92              ;	---------------------------------
2766  0B92              ; Function game_enemy_add_get_index
2767  0B92              ; ---------------------------------
2768  0B92              _game_enemy_add_get_index:
2769  0B92  4D          	ld	c,l
2770  0B93  21 00 00    	ld	hl,_enemies
2771  0B96  36 00       	ld	(hl),0x00
2772  0B98              l_game_enemy_add_get_index_00104:
2773  0B98  2A 00 00    	ld	hl,(_enemies)
2774  0B9B  26 00       	ld	h,0x00
2775  0B9D  11 00 00    	ld	de,_class
2776  0BA0  19          	add	hl,de
2777  0BA1  46          	ld	b, (hl)
2778  0BA2  79          	ld	a,c
2779  0BA3  90          	sub	a,b
2780  0BA4  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2781  0BA6  2A 00 00    	ld	hl,(_enemies)
2782  0BA9  18 0B       	jr	l_game_enemy_add_get_index_00106
2783  0BAB              l_game_enemy_add_get_index_00105:
2784  0BAB  21 00 00    	ld	hl,_enemies
2785  0BAE  34          	inc	(hl)
2786  0BAF  3E 05       	ld	a,0x05
2787  0BB1  96          	sub	a, (hl)
2788  0BB2  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2789  0BB4  2E FF       	ld	l,0xff
2790  0BB6              l_game_enemy_add_get_index_00106:
2791  0BB6  C9          	ret
2792  0BB7              	SECTION code_compiler
2793  0BB7              ;	---------------------------------
2794  0BB7              ; Function game_freeze
2795  0BB7              ; ---------------------------------
2796  0BB7              _game_freeze:
2797  0BB7  CD 00 00    	call	___sdcc_enter_ix
2798  0BBA  DD 7E 05    	ld	a,(ix+5)
2799  0BBD  D6 1F       	sub	a,0x1f
2800  0BBF  30 5F       	jr	NC,l_game_freeze_00107
2801  0BC1  21 00 00    	ld	hl,_tmp
2802  0BC4  36 01       	ld	(hl),0x01
2803  0BC6  DD 66 05    	ld	h,(ix+5)
2804  0BC9  DD 6E 04    	ld	l,(ix+4)
2805  0BCC  E5          	push	hl
2806  0BCD  CD 00 00    	call	_game_calc_index
2807  0BD0  F1          	pop	af
2808  0BD1  22 00 00    	ld	(_index1),hl
2809  0BD4  01 00 00    	ld	bc,_lvl_1
2810  0BD7  09          	add	hl,bc
2811  0BD8  7E          	ld	a,(hl)
2812  0BD9  D6 12       	sub	a,0x12
2813  0BDB  20 43       	jr	NZ,l_game_freeze_00107
2814  0BDD  36 14       	ld	(hl),0x14
2815  0BDF  76          	halt
2816  0BE0  DD 7E 05    	ld	a,(ix+5)
2817  0BE3  F5          	push	af
2818  0BE4  33          	inc	sp
2819  0BE5  DD 56 04    	ld	d,(ix+4)
2820  0BE8  1E 8B       	ld	e,0x8b
2821  0BEA  D5          	push	de
2822  0BEB  CD 00 00    	call	_NIRVANAP_drawT_callee
2823  0BEE  ED 4B 00 00 	ld	bc,(_index1)
2824  0BF2  03          	inc	bc
2825  0BF3  21 00 00    	ld	hl,_lvl_1
2826  0BF6  09          	add	hl,bc
2827  0BF7  4E          	ld	c,(hl)
2828  0BF8  DD 46 05    	ld	b,(ix+5)
2829  0BFB  04          	inc	b
2830  0BFC  79          	ld	a,c
2831  0BFD  B7          	or	a, a
2832  0BFE  20 0C       	jr	NZ,l_game_freeze_00102
2833  0C00  C5          	push	bc
2834  0C01  DD 4E 04    	ld	c,(ix+4)
2835  0C04  C5          	push	bc
2836  0C05  AF          	xor	a, a
2837  0C06  F5          	push	af
2838  0C07  33          	inc	sp
2839  0C08  CD 00 00    	call	_NIRVANAP_fillT_callee
2840  0C0B  C1          	pop	bc
2841  0C0C              l_game_freeze_00102:
2842  0C0C  DD 4E 04    	ld	c,(ix+4)
2843  0C0F  C5          	push	bc
2844  0C10  CD B7 0B    	call	_game_freeze
2845  0C13  F1          	pop	af
2846  0C14  DD 46 05    	ld	b,(ix+5)
2847  0C17  05          	dec	b
2848  0C18  DD 4E 04    	ld	c,(ix+4)
2849  0C1B  C5          	push	bc
2850  0C1C  CD B7 0B    	call	_game_freeze
2851  0C1F  F1          	pop	af
2852  0C20              l_game_freeze_00107:
2853  0C20  DD E1       	pop	ix
2854  0C22  C9          	ret
2855  0C23              	SECTION code_compiler
2856  0C23              ;	---------------------------------
2857  0C23              ; Function game_unfreeze_all
2858  0C23              ; ---------------------------------
2859  0C23              _game_unfreeze_all:
2860  0C23  21 C0 00    	ld	hl,0x00c0
2861  0C26  22 00 00    	ld	(_index1),hl
2862  0C29              l_game_unfreeze_all_00104:
2863  0C29  01 00 00    	ld	bc,_lvl_1
2864  0C2C  2A 00 00    	ld	hl,(_index1)
2865  0C2F  09          	add	hl,bc
2866  0C30  7E          	ld	a,(hl)
2867  0C31  D6 14       	sub	a,0x14
2868  0C33  20 02       	jr	NZ,l_game_unfreeze_all_00105
2869  0C35  36 12       	ld	(hl),0x12
2870  0C37              l_game_unfreeze_all_00105:
2871  0C37  21 00 00    	ld	hl,_index1
2872  0C3A  34          	inc	(hl)
2873  0C3B  20 02       	jr	NZ,l_game_unfreeze_all_00118
2874  0C3D  23          	inc	hl
2875  0C3E  34          	inc	(hl)
2876  0C3F              l_game_unfreeze_all_00118:
2877  0C3F  3E 20       	ld	a,0x20
2878  0C41  21 00 00    	ld	hl,_index1
2879  0C44  BE          	cp	a, (hl)
2880  0C45  3E 02       	ld	a,0x02
2881  0C47  23          	inc	hl
2882  0C48  9E          	sbc	a, (hl)
2883  0C49  30 DE       	jr	NC,l_game_unfreeze_all_00104
2884  0C4B  C9          	ret
2885  0C4C              	SECTION code_compiler
2886  0C4C              ;	---------------------------------
2887  0C4C              ; Function game_freeze_all
2888  0C4C              ; ---------------------------------
2889  0C4C              _game_freeze_all:
2890  0C4C  21 C0 00    	ld	hl,0x00c0
2891  0C4F  22 00 00    	ld	(_index1),hl
2892  0C52              l_game_freeze_all_00104:
2893  0C52  01 00 00    	ld	bc,_lvl_1
2894  0C55  2A 00 00    	ld	hl,(_index1)
2895  0C58  09          	add	hl,bc
2896  0C59  7E          	ld	a,(hl)
2897  0C5A  D6 12       	sub	a,0x12
2898  0C5C  20 02       	jr	NZ,l_game_freeze_all_00105
2899  0C5E  36 14       	ld	(hl),0x14
2900  0C60              l_game_freeze_all_00105:
2901  0C60  21 00 00    	ld	hl,_index1
2902  0C63  34          	inc	(hl)
2903  0C64  20 02       	jr	NZ,l_game_freeze_all_00118
2904  0C66  23          	inc	hl
2905  0C67  34          	inc	(hl)
2906  0C68              l_game_freeze_all_00118:
2907  0C68  3E 20       	ld	a,0x20
2908  0C6A  21 00 00    	ld	hl,_index1
2909  0C6D  BE          	cp	a, (hl)
2910  0C6E  3E 02       	ld	a,0x02
2911  0C70  23          	inc	hl
2912  0C71  9E          	sbc	a, (hl)
2913  0C72  30 DE       	jr	NC,l_game_freeze_all_00104
2914  0C74  C9          	ret
2915  0C75              	SECTION code_compiler
2916  0C75              ;	---------------------------------
2917  0C75              ; Function game_print_score
2918  0C75              ; ---------------------------------
2919  0C75              _game_print_score:
2920  0C75  21 00 00    	ld	hl,_screen_ink
2921  0C78  36 07       	ld	(hl),0x07
2922  0C7A  21 00 00    	ld	hl,_screen_paper
2923  0C7D  36 00       	ld	(hl),0x00
2924  0C7F  2A 00 00    	ld	hl,(_player_score)
2925  0C82  E5          	push	hl
2926  0C83  21 00 03    	ld	hl,0x0300
2927  0C86  E5          	push	hl
2928  0C87  CD 00 00    	call	_zx_print_int
2929  0C8A  2A 00 00    	ld	hl,(_game_score_top)
2930  0C8D  E5          	push	hl
2931  0C8E  21 00 0E    	ld	hl,0x0e00
2932  0C91  E5          	push	hl
2933  0C92  CD 00 00    	call	_zx_print_int
2934  0C95  3A 00 00    	ld	a,(_game_two_player)
2935  0C98  B7          	or	a, a
2936  0C99  C8          	ret	Z
2937  0C9A  2A 02 00    	ld	hl, (_player_score + 2)
2938  0C9D  E5          	push	hl
2939  0C9E  21 00 18    	ld	hl,0x1800
2940  0CA1  E5          	push	hl
2941  0CA2  CD 00 00    	call	_zx_print_int
2942  0CA5  C9          	ret
2943  0CA6              	SECTION code_compiler
2944  0CA6              ;	---------------------------------
2945  0CA6              ; Function game_paint_attrib
2946  0CA6              ; ---------------------------------
2947  0CA6              _game_paint_attrib:
2948  0CA6  7D          	ld	a,l
2949  0CA7  32 00 00    	ld	(_tmp0),a
2950  0CAA              l_game_paint_attrib_00103:
2951  0CAA  3E 13       	ld	a,0x13
2952  0CAC  21 00 00    	ld	hl,_tmp0
2953  0CAF  96          	sub	a, (hl)
2954  0CB0  D8          	ret	C
2955  0CB1  7E          	ld	a,(hl)
2956  0CB2  07          	rlca
2957  0CB3  07          	rlca
2958  0CB4  07          	rlca
2959  0CB5  E6 F8       	and	a,0xf8
2960  0CB7  C6 08       	add	a,0x08
2961  0CB9  F5          	push	af
2962  0CBA  33          	inc	sp
2963  0CBB  21 01 1F    	ld	hl,0x1f01
2964  0CBE  E5          	push	hl
2965  0CBF  CD CA 0C    	call	_game_paint_attrib_lin
2966  0CC2  F1          	pop	af
2967  0CC3  33          	inc	sp
2968  0CC4  21 00 00    	ld	hl,_tmp0
2969  0CC7  34          	inc	(hl)
2970  0CC8  18 E0       	jr	l_game_paint_attrib_00103
2971  0CCA              	SECTION code_compiler
2972  0CCA              ;	---------------------------------
2973  0CCA              ; Function game_paint_attrib_lin
2974  0CCA              ; ---------------------------------
2975  0CCA              _game_paint_attrib_lin:
2976  0CCA  CD 00 00    	call	___sdcc_enter_ix
2977  0CCD  DD 7E 04    	ld	a,(ix+4)
2978  0CD0  32 00 00    	ld	(_tmp_uc),a
2979  0CD3              l_game_paint_attrib_lin_00103:
2980  0CD3  21 00 00    	ld	hl,_tmp_uc
2981  0CD6  7E          	ld	a,(hl)
2982  0CD7  DD 96 05    	sub	a,(ix+5)
2983  0CDA  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2984  0CDC  66          	ld	h,(hl)
2985  0CDD  DD 6E 06    	ld	l,(ix+6)
2986  0CE0  E5          	push	hl
2987  0CE1  21 00 00    	ld	hl,_attrib
2988  0CE4  E5          	push	hl
2989  0CE5  CD 00 00    	call	_NIRVANAP_paintC_callee
2990  0CE8  21 00 00    	ld	hl,_tmp_uc
2991  0CEB  34          	inc	(hl)
2992  0CEC  18 E5       	jr	l_game_paint_attrib_lin_00103
2993  0CEE              l_game_paint_attrib_lin_00105:
2994  0CEE  DD E1       	pop	ix
2995  0CF0  C9          	ret
2996  0CF1              	SECTION code_compiler
2997  0CF1              ;	---------------------------------
2998  0CF1              ; Function game_paint_attrib_lin_h
2999  0CF1              ; ---------------------------------
3000  0CF1              _game_paint_attrib_lin_h:
3001  0CF1  CD 00 00    	call	___sdcc_enter_ix
3002  0CF4  DD 7E 04    	ld	a,(ix+4)
3003  0CF7  32 00 00    	ld	(_tmp_uc),a
3004  0CFA              l_game_paint_attrib_lin_h_00103:
3005  0CFA  21 00 00    	ld	hl,_tmp_uc
3006  0CFD  7E          	ld	a,(hl)
3007  0CFE  DD 96 05    	sub	a,(ix+5)
3008  0D01  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3009  0D03  66          	ld	h,(hl)
3010  0D04  DD 6E 06    	ld	l,(ix+6)
3011  0D07  E5          	push	hl
3012  0D08  21 00 00    	ld	hl,_attrib_hl
3013  0D0B  E5          	push	hl
3014  0D0C  CD 00 00    	call	_NIRVANAP_paintC_callee
3015  0D0F  21 00 00    	ld	hl,_tmp_uc
3016  0D12  34          	inc	(hl)
3017  0D13  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3018  0D15              l_game_paint_attrib_lin_h_00105:
3019  0D15  DD E1       	pop	ix
3020  0D17  C9          	ret
3021  0D18              	SECTION code_compiler
3022  0D18              ;	---------------------------------
3023  0D18              ; Function game_menu_config
3024  0D18              ; ---------------------------------
3025  0D18              _game_menu_config:
3026  0D18  CD 00 00    	call	___sdcc_enter_ix
3027  0D1B  F5          	push	af
3028  0D1C  3B          	dec	sp
3029  0D1D  2E 0B       	ld	l,0x0b
3030  0D1F  CD A6 0C    	call	_game_paint_attrib
3031  0D22  DD 36 FD 01 	ld	(ix-3),0x01
3032  0D26              l_game_menu_config_00116:
3033  0D26  DD 7E FD    	ld	a,(ix-3)
3034  0D29  B7          	or	a, a
3035  0D2A  CA 84 0E    	jp	Z,l_game_menu_config_00119
3036  0D2D              l_game_menu_config_00101:
3037  0D2D  21 00 00    	ld	hl,_k1
3038  0D30  E5          	push	hl
3039  0D31  2A 00 00    	ld	hl,(_joyfunc1)
3040  0D34  CD 00 00    	call	___sdcc_call_hl
3041  0D37  F1          	pop	af
3042  0D38  7C          	ld	a,h
3043  0D39  B5          	or	a,l
3044  0D3A  20 F1       	jr	NZ,l_game_menu_config_00101
3045  0D3C  3A 00 00    	ld	a,(_spec128)
3046  0D3F  B7          	or	a,a
3047  0D40  28 0A       	jr	Z,l_game_menu_config_00121
3048  0D42  DD 36 FE BD 	ld	(ix-2),+((___str_24) & 0xFF)
3049  0D46  DD 36 FF 00 	ld	(ix-1),+((___str_24) / 256)
3050  0D4A  18 08       	jr	l_game_menu_config_00122
3051  0D4C              l_game_menu_config_00121:
3052  0D4C  DD 36 FE C8 	ld	(ix-2),+((___str_25) & 0xFF)
3053  0D50  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3054  0D54              l_game_menu_config_00122:
3055  0D54  DD 4E FE    	ld	c,(ix-2)
3056  0D57  DD 46 FF    	ld	b,(ix-1)
3057  0D5A  C5          	push	bc
3058  0D5B  21 0E 0A    	ld	hl,0x0a0e
3059  0D5E  E5          	push	hl
3060  0D5F  CD 00 00    	call	_zx_print_str
3061  0D62  21 D3 00    	ld	hl,___str_26
3062  0D65  E5          	push	hl
3063  0D66  21 0F 0A    	ld	hl,0x0a0f
3064  0D69  E5          	push	hl
3065  0D6A  CD 00 00    	call	_zx_print_str
3066  0D6D  21 DE 00    	ld	hl,___str_27
3067  0D70  E5          	push	hl
3068  0D71  21 10 0A    	ld	hl,0x0a10
3069  0D74  E5          	push	hl
3070  0D75  CD 00 00    	call	_zx_print_str
3071  0D78  21 E9 00    	ld	hl,___str_28
3072  0D7B  E5          	push	hl
3073  0D7C  21 11 0A    	ld	hl,0x0a11
3074  0D7F  E5          	push	hl
3075  0D80  CD 00 00    	call	_zx_print_str
3076  0D83  21 F4 00    	ld	hl,___str_29
3077  0D86  E5          	push	hl
3078  0D87  21 12 0A    	ld	hl,0x0a12
3079  0D8A  E5          	push	hl
3080  0D8B  CD 00 00    	call	_zx_print_str
3081  0D8E  3A 00 00    	ld	a,(_game_sound)
3082  0D91  E6 05       	and	a,0x05
3083  0D93  28 05       	jr	Z,l_game_menu_config_00123
3084  0D95  01 FF 00    	ld	bc,___str_30
3085  0D98  18 03       	jr	l_game_menu_config_00124
3086  0D9A              l_game_menu_config_00123:
3087  0D9A  01 03 01    	ld	bc,___str_31
3088  0D9D              l_game_menu_config_00124:
3089  0D9D  C5          	push	bc
3090  0D9E  21 0E 14    	ld	hl,0x140e
3091  0DA1  E5          	push	hl
3092  0DA2  CD 00 00    	call	_zx_print_str
3093  0DA5  3E 02       	ld	a,0x02
3094  0DA7  21 00 00    	ld	hl,_game_type
3095  0DAA  96          	sub	a, (hl)
3096  0DAB  38 34       	jr	C,l_game_menu_config_00107
3097  0DAD  5E          	ld	e,(hl)
3098  0DAE  16 00       	ld	d,0x00
3099  0DB0  21 B6 0D    	ld	hl,l_game_menu_config_00164
3100  0DB3  19          	add	hl,de
3101  0DB4  19          	add	hl,de
3102  0DB5  E9          	jp	(hl)
3103  0DB6              l_game_menu_config_00164:
3104  0DB6  18 04       	jr	l_game_menu_config_00104
3105  0DB8  18 0F       	jr	l_game_menu_config_00105
3106  0DBA  18 1A       	jr	l_game_menu_config_00106
3107  0DBC              l_game_menu_config_00104:
3108  0DBC  21 07 01    	ld	hl,___str_32
3109  0DBF  E5          	push	hl
3110  0DC0  21 0F 14    	ld	hl,0x140f
3111  0DC3  E5          	push	hl
3112  0DC4  CD 00 00    	call	_zx_print_str
3113  0DC7  18 18       	jr	l_game_menu_config_00107
3114  0DC9              l_game_menu_config_00105:
3115  0DC9  21 0B 01    	ld	hl,___str_33
3116  0DCC  E5          	push	hl
3117  0DCD  21 0F 14    	ld	hl,0x140f
3118  0DD0  E5          	push	hl
3119  0DD1  CD 00 00    	call	_zx_print_str
3120  0DD4  18 0B       	jr	l_game_menu_config_00107
3121  0DD6              l_game_menu_config_00106:
3122  0DD6  21 0F 01    	ld	hl,___str_34
3123  0DD9  E5          	push	hl
3124  0DDA  21 0F 14    	ld	hl,0x140f
3125  0DDD  E5          	push	hl
3126  0DDE  CD 00 00    	call	_zx_print_str
3127  0DE1              l_game_menu_config_00107:
3128  0DE1  2A 00 00    	ld	hl,(_player_joy)
3129  0DE4  29          	add	hl, hl
3130  0DE5  11 00 00    	ld	de,_joynames
3131  0DE8  19          	add	hl,de
3132  0DE9  4E          	ld	c,(hl)
3133  0DEA  23          	inc	hl
3134  0DEB  46          	ld	b,(hl)
3135  0DEC  C5          	push	bc
3136  0DED  21 10 14    	ld	hl,0x1410
3137  0DF0  E5          	push	hl
3138  0DF1  CD 00 00    	call	_zx_print_str
3139  0DF4  2A 02 00    	ld	hl, (_player_joy + 2)
3140  0DF7  29          	add	hl, hl
3141  0DF8  11 00 00    	ld	de,_joynames
3142  0DFB  19          	add	hl,de
3143  0DFC  4E          	ld	c,(hl)
3144  0DFD  23          	inc	hl
3145  0DFE  46          	ld	b,(hl)
3146  0DFF  C5          	push	bc
3147  0E00  21 11 14    	ld	hl,0x1411
3148  0E03  E5          	push	hl
3149  0E04  CD 00 00    	call	_zx_print_str
3150  0E07  21 00 00    	ld	hl,0x0000
3151  0E0A  E5          	push	hl
3152  0E0B  21 0E 12    	ld	hl,0x120e
3153  0E0E  E5          	push	hl
3154  0E0F  21 0A 01    	ld	hl,0x010a
3155  0E12  E5          	push	hl
3156  0E13  CD 3D 11    	call	_game_menu_handle
3157  0E16  F1          	pop	af
3158  0E17  F1          	pop	af
3159  0E18  F1          	pop	af
3160  0E19  7D          	ld	a,l
3161  0E1A  32 00 00    	ld	(_game_menu_sel),a
3162  0E1D  21 00 00    	ld	hl,_ay_effect_10
3163  0E20  CD 00 00    	call	_ay_fx_play
3164  0E23  CD 00 00    	call	_sound_coin
3165  0E26  3E 04       	ld	a,0x04
3166  0E28  21 00 00    	ld	hl,_game_menu_sel
3167  0E2B  96          	sub	a, (hl)
3168  0E2C  DA 26 0D    	jp	C,l_game_menu_config_00116
3169  0E2F  5E          	ld	e,(hl)
3170  0E30  16 00       	ld	d,0x00
3171  0E32  21 38 0E    	ld	hl,l_game_menu_config_00165
3172  0E35  19          	add	hl,de
3173  0E36  19          	add	hl,de
3174  0E37  E9          	jp	(hl)
3175  0E38              l_game_menu_config_00165:
3176  0E38  18 08       	jr	l_game_menu_config_00108
3177  0E3A  18 1A       	jr	l_game_menu_config_00109
3178  0E3C  18 27       	jr	l_game_menu_config_00112
3179  0E3E  18 2D       	jr	l_game_menu_config_00113
3180  0E40  18 33       	jr	l_game_menu_config_00114
3181  0E42              l_game_menu_config_00108:
3182  0E42  3A 00 00    	ld	a,(_spec128)
3183  0E45  B7          	or	a, a
3184  0E46  28 04       	jr	Z,l_game_menu_config_00125
3185  0E48  3E 04       	ld	a,0x04
3186  0E4A  18 02       	jr	l_game_menu_config_00126
3187  0E4C              l_game_menu_config_00125:
3188  0E4C  3E 01       	ld	a,0x01
3189  0E4E              l_game_menu_config_00126:
3190  0E4E  21 00 00    	ld	hl,_game_sound
3191  0E51  AE          	xor	a, (hl)
3192  0E52  77          	ld	(hl),a
3193  0E53  C3 26 0D    	jp	l_game_menu_config_00116
3194  0E56              l_game_menu_config_00109:
3195  0E56  21 00 00    	ld	hl,_game_type
3196  0E59  34          	inc	(hl)
3197  0E5A  3E 02       	ld	a,0x02
3198  0E5C  96          	sub	a, (hl)
3199  0E5D  D2 26 0D    	jp	NC,l_game_menu_config_00116
3200  0E60  36 00       	ld	(hl),0x00
3201  0E62  C3 26 0D    	jp	l_game_menu_config_00116
3202  0E65              l_game_menu_config_00112:
3203  0E65  2E 00       	ld	l,0x00
3204  0E67  CD 89 0E    	call	_game_joystick_change
3205  0E6A  C3 26 0D    	jp	l_game_menu_config_00116
3206  0E6D              l_game_menu_config_00113:
3207  0E6D  2E 01       	ld	l,0x01
3208  0E6F  CD 89 0E    	call	_game_joystick_change
3209  0E72  C3 26 0D    	jp	l_game_menu_config_00116
3210  0E75              l_game_menu_config_00114:
3211  0E75  21 00 00    	ld	hl,_game_menu_sel
3212  0E78  36 00       	ld	(hl),0x00
3213  0E7A  CD 0F 10    	call	_game_menu_paint
3214  0E7D  DD 36 FD 00 	ld	(ix-3),0x00
3215  0E81  C3 26 0D    	jp	l_game_menu_config_00116
3216  0E84              l_game_menu_config_00119:
3217  0E84  DD F9       	ld	sp, ix
3218  0E86  DD E1       	pop	ix
3219  0E88  C9          	ret
3220  0E89              	SECTION rodata_compiler
3221  00BD              ___str_24:
3222  00BD  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3223  00C7  00          	DEFB 0x00
3224  00C8              	SECTION rodata_compiler
3225  00C8              ___str_25:
3226  00C8  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3227  00D2  00          	DEFB 0x00
3228  00D3              	SECTION rodata_compiler
3229  00D3              ___str_26:
3230  00D3  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3231  00DD  00          	DEFB 0x00
3232  00DE              	SECTION rodata_compiler
3233  00DE              ___str_27:
3234  00DE  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3235  00E8  00          	DEFB 0x00
3236  00E9              	SECTION rodata_compiler
3237  00E9              ___str_28:
3238  00E9  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3239  00F3  00          	DEFB 0x00
3240  00F4              	SECTION rodata_compiler
3241  00F4              ___str_29:
3242  00F4  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3243  00FE  00          	DEFB 0x00
3244  00FF              	SECTION rodata_compiler
3245  00FF              ___str_30:
3246  00FF  4F 4E 20    	DEFM "ON "
3247  0102  00          	DEFB 0x00
3248  0103              	SECTION rodata_compiler
3249  0103              ___str_31:
3250  0103  4F 46 46    	DEFM "OFF"
3251  0106  00          	DEFB 0x00
3252  0107              	SECTION rodata_compiler
3253  0107              ___str_32:
3254  0107  41 20 20    	DEFM "A  "
3255  010A  00          	DEFB 0x00
3256  010B              	SECTION rodata_compiler
3257  010B              ___str_33:
3258  010B  42 20 20    	DEFM "B  "
3259  010E  00          	DEFB 0x00
3260  010F              	SECTION rodata_compiler
3261  010F              ___str_34:
3262  010F  52 4E 44    	DEFM "RND"
3263  0112  00          	DEFB 0x00
3264  0113              	SECTION code_compiler
3265  0E89              ;	---------------------------------
3266  0E89              ; Function game_joystick_change
3267  0E89              ; ---------------------------------
3268  0E89              _game_joystick_change:
3269  0E89  CD 00 00    	call	___sdcc_enter_ix
3270  0E8C  3B          	dec	sp
3271  0E8D  DD 75 FF    	ld	(ix-1),l
3272  0E90  26 00       	ld	h,0x00
3273  0E92  29          	add	hl, hl
3274  0E93  01 00 00    	ld	bc,_player_joy
3275  0E96  09          	add	hl,bc
3276  0E97  4D          	ld	c,l
3277  0E98  44          	ld	b,h
3278  0E99  5E          	ld	e,(hl)
3279  0E9A  23          	inc	hl
3280  0E9B  56          	ld	d,(hl)
3281  0E9C  13          	inc	de
3282  0E9D  69          	ld	l, c
3283  0E9E  60          	ld	h, b
3284  0E9F  73          	ld	(hl),e
3285  0EA0  23          	inc	hl
3286  0EA1  72          	ld	(hl),d
3287  0EA2  7B          	ld	a,e
3288  0EA3  D6 07       	sub	a,0x07
3289  0EA5  20 09       	jr	NZ,l_game_joystick_change_00102
3290  0EA7  B2          	or	a,d
3291  0EA8  20 06       	jr	NZ,l_game_joystick_change_00102
3292  0EAA  69          	ld	l, c
3293  0EAB  60          	ld	h, b
3294  0EAC  AF          	xor	a, a
3295  0EAD  77          	ld	(hl), a
3296  0EAE  23          	inc	hl
3297  0EAF  77          	ld	(hl), a
3298  0EB0              l_game_joystick_change_00102:
3299  0EB0  DD 7E FF    	ld	a,(ix-1)
3300  0EB3  B7          	or	a, a
3301  0EB4  20 15       	jr	NZ,l_game_joystick_change_00104
3302  0EB6  69          	ld	l, c
3303  0EB7  60          	ld	h, b
3304  0EB8  5E          	ld	e,(hl)
3305  0EB9  23          	inc	hl
3306  0EBA  56          	ld	d,(hl)
3307  0EBB  1D          	dec	e
3308  0EBC  20 0D       	jr	NZ,l_game_joystick_change_00104
3309  0EBE  7A          	ld	a,d
3310  0EBF  B7          	or	a, a
3311  0EC0  20 09       	jr	NZ,l_game_joystick_change_00104
3312  0EC2  ED 5B 00 00 	ld	de,(_player_joy)
3313  0EC6  13          	inc	de
3314  0EC7  ED 53 00 00 	ld	(_player_joy), de
3315  0ECB              l_game_joystick_change_00104:
3316  0ECB  DD 7E FF    	ld	a,(ix-1)
3317  0ECE  3D          	dec	a
3318  0ECF  20 11       	jr	NZ,l_game_joystick_change_00107
3319  0ED1  69          	ld	l, c
3320  0ED2  60          	ld	h, b
3321  0ED3  4E          	ld	c,(hl)
3322  0ED4  23          	inc	hl
3323  0ED5  7E          	ld	a, (hl)
3324  0ED6  B1          	or	a,c
3325  0ED7  20 09       	jr	NZ,l_game_joystick_change_00107
3326  0ED9  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3327  0EDD  03          	inc	bc
3328  0EDE  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3329  0EE2              l_game_joystick_change_00107:
3330  0EE2  ED 4B 00 00 	ld	bc,(_player_joy)
3331  0EE6  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3332  0EEA  79          	ld	a,c
3333  0EEB  93          	sub	a, e
3334  0EEC  20 18       	jr	NZ,l_game_joystick_change_00114
3335  0EEE  78          	ld	a,b
3336  0EEF  92          	sub	a, d
3337  0EF0  20 14       	jr	NZ,l_game_joystick_change_00114
3338  0EF2  DD 7E FF    	ld	a,(ix-1)
3339  0EF5  B7          	or	a, a
3340  0EF6  20 08       	jr	NZ,l_game_joystick_change_00110
3341  0EF8  21 01 00    	ld	hl,0x0001
3342  0EFB  22 02 00    	ld	(_player_joy + 0x0002),hl
3343  0EFE  18 06       	jr	l_game_joystick_change_00114
3344  0F00              l_game_joystick_change_00110:
3345  0F00  21 00 00    	ld	hl,0x0000
3346  0F03  22 00 00    	ld	(_player_joy), hl
3347  0F06              l_game_joystick_change_00114:
3348  0F06  33          	inc	sp
3349  0F07  DD E1       	pop	ix
3350  0F09  C9          	ret
3351  0F0A              	SECTION code_compiler
3352  0F0A              ;	---------------------------------
3353  0F0A              ; Function game_joystick_set_menu
3354  0F0A              ; ---------------------------------
3355  0F0A              _game_joystick_set_menu:
3356  0F0A  21 00 00    	ld	hl,_in_stick_sinclair1
3357  0F0D  22 00 00    	ld	(_joyfunc1),hl
3358  0F10  21 00 00    	ld	hl,_in_stick_sinclair2
3359  0F13  22 00 00    	ld	(_joyfunc2),hl
3360  0F16  C9          	ret
3361  0F17              	SECTION code_compiler
3362  0F17              ;	---------------------------------
3363  0F17              ; Function game_joystick_set
3364  0F17              ; ---------------------------------
3365  0F17              _game_joystick_set:
3366  0F17  01 00 00    	ld	bc,_control_method+0
3367  0F1A  2A 00 00    	ld	hl,(_player_joy)
3368  0F1D  29          	add	hl, hl
3369  0F1E  09          	add	hl,bc
3370  0F1F  11 00 00    	ld	de,_joyfunc1
3371  0F22  ED A0       	ldi
3372  0F24  03          	inc	bc
3373  0F25  7E          	ld	a,(hl)
3374  0F26  12          	ld	(de),a
3375  0F27  2A 02 00    	ld	hl, (_player_joy + 2)
3376  0F2A  29          	add	hl, hl
3377  0F2B  09          	add	hl,bc
3378  0F2C  11 00 00    	ld	de,_joyfunc2
3379  0F2F  ED A0       	ldi
3380  0F31  7E          	ld	a,(hl)
3381  0F32  12          	ld	(de),a
3382  0F33  C9          	ret
3383  0F34              	SECTION code_compiler
3384  0F34              ;	---------------------------------
3385  0F34              ; Function game_menu
3386  0F34              ; ---------------------------------
3387  0F34              _game_menu:
3388  0F34  21 00 00    	ld	hl,_game_menu_sel
3389  0F37  36 00       	ld	(hl),0x00
3390  0F39  CD 9B 0F    	call	_game_menu_top_paint
3391  0F3C  CD 0F 10    	call	_game_menu_paint
3392  0F3F  CD 00 00    	call	_ay_reset
3393  0F42  21 00 00    	ld	hl,_pb_midi_title
3394  0F45  CD 00 00    	call	_ay_midi_play
3395  0F48              l_game_menu_00101:
3396  0F48  21 00 00    	ld	hl,_k1
3397  0F4B  E5          	push	hl
3398  0F4C  2A 00 00    	ld	hl,(_joyfunc1)
3399  0F4F  CD 00 00    	call	___sdcc_call_hl
3400  0F52  F1          	pop	af
3401  0F53  7C          	ld	a,h
3402  0F54  B5          	or	a,l
3403  0F55  20 F1       	jr	NZ,l_game_menu_00101
3404  0F57  21 E8 03    	ld	hl,0x03e8
3405  0F5A  E5          	push	hl
3406  0F5B  21 0E 12    	ld	hl,0x120e
3407  0F5E  E5          	push	hl
3408  0F5F  21 0C 02    	ld	hl,0x020c
3409  0F62  E5          	push	hl
3410  0F63  CD 3D 11    	call	_game_menu_handle
3411  0F66  F1          	pop	af
3412  0F67  F1          	pop	af
3413  0F68  F1          	pop	af
3414  0F69  4D          	ld	c,l
3415  0F6A  21 00 00    	ld	hl,_tmp_uc
3416  0F6D  71          	ld	(hl),c
3417  0F6E  3E 02       	ld	a,0x02
3418  0F70  96          	sub	a, (hl)
3419  0F71  38 D5       	jr	C,l_game_menu_00101
3420  0F73  5E          	ld	e,(hl)
3421  0F74  16 00       	ld	d,0x00
3422  0F76  21 7C 0F    	ld	hl,l_game_menu_00125
3423  0F79  19          	add	hl,de
3424  0F7A  19          	add	hl,de
3425  0F7B  E9          	jp	(hl)
3426  0F7C              l_game_menu_00125:
3427  0F7C  18 04       	jr	l_game_menu_00104
3428  0F7E  18 0C       	jr	l_game_menu_00105
3429  0F80  18 14       	jr	l_game_menu_00106
3430  0F82              l_game_menu_00104:
3431  0F82  21 00 00    	ld	hl,_game_two_player
3432  0F85  36 00       	ld	(hl),0x00
3433  0F87  CD 45 03    	call	_game_loop
3434  0F8A  18 BC       	jr	l_game_menu_00101
3435  0F8C              l_game_menu_00105:
3436  0F8C  21 00 00    	ld	hl,_game_two_player
3437  0F8F  36 01       	ld	(hl),0x01
3438  0F91  CD 45 03    	call	_game_loop
3439  0F94  18 B2       	jr	l_game_menu_00101
3440  0F96              l_game_menu_00106:
3441  0F96  CD 18 0D    	call	_game_menu_config
3442  0F99  18 AD       	jr	l_game_menu_00101
3443  0F9B              	SECTION code_compiler
3444  0F9B              ;	---------------------------------
3445  0F9B              ; Function game_menu_top_paint
3446  0F9B              ; ---------------------------------
3447  0F9B              _game_menu_top_paint:
3448  0F9B  CD 00 00    	call	_spr_draw_clear
3449  0F9E  2E 00       	ld	l,0x00
3450  0FA0  CD A6 0C    	call	_game_paint_attrib
3451  0FA3  21 9C 01    	ld	hl,0x019c
3452  0FA6  E5          	push	hl
3453  0FA7  21 00 1E    	ld	hl,0x1e00
3454  0FAA  E5          	push	hl
3455  0FAB  3E 10       	ld	a,0x10
3456  0FAD  F5          	push	af
3457  0FAE  33          	inc	sp
3458  0FAF  CD 8A 10    	call	_game_menu_e
3459  0FB2  F1          	pop	af
3460  0FB3  33          	inc	sp
3461  0FB4  21 9F FF    	ld	hl,0xff9f
3462  0FB7  E3          	ex	(sp),hl
3463  0FB8  21 00 1E    	ld	hl,0x1e00
3464  0FBB  E5          	push	hl
3465  0FBC  3E 50       	ld	a,0x50
3466  0FBE  F5          	push	af
3467  0FBF  33          	inc	sp
3468  0FC0  CD 8A 10    	call	_game_menu_e
3469  0FC3  F1          	pop	af
3470  0FC4  F1          	pop	af
3471  0FC5  33          	inc	sp
3472  0FC6  21 00 00    	ld	hl,_tmp
3473  0FC9  36 18       	ld	(hl),0x18
3474  0FCB  F3          	di
3475  0FCC  21 00 00    	ld	hl,_tmp_uc
3476  0FCF  36 00       	ld	(hl),0x00
3477  0FD1              l_game_menu_top_paint_00102:
3478  0FD1  3A 00 00    	ld	a,(_tmp_uc)
3479  0FD4  87          	add	a, a
3480  0FD5  C6 05       	add	a,0x05
3481  0FD7  47          	ld	b,a
3482  0FD8  3A 00 00    	ld	a,(_tmp)
3483  0FDB  C6 10       	add	a,0x10
3484  0FDD  57          	ld	d,a
3485  0FDE  3A 00 00    	ld	a,(_tmp_uc)
3486  0FE1  C6 C0       	add	a,0xc0
3487  0FE3  4A          	ld	c, d
3488  0FE4  C5          	push	bc
3489  0FE5  F5          	push	af
3490  0FE6  33          	inc	sp
3491  0FE7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3492  0FEA  3A 00 00    	ld	a,(_tmp_uc)
3493  0FED  87          	add	a, a
3494  0FEE  C6 05       	add	a,0x05
3495  0FF0  47          	ld	b,a
3496  0FF1  3A 00 00    	ld	a,(_tmp)
3497  0FF4  C6 20       	add	a,0x20
3498  0FF6  57          	ld	d,a
3499  0FF7  3A 00 00    	ld	a,(_tmp_uc)
3500  0FFA  C6 CC       	add	a,0xcc
3501  0FFC  4A          	ld	c, d
3502  0FFD  C5          	push	bc
3503  0FFE  F5          	push	af
3504  0FFF  33          	inc	sp
3505  1000  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3506  1003  21 00 00    	ld	hl,_tmp_uc
3507  1006  7E          	ld	a,(hl)
3508  1007  3C          	inc	a
3509  1008  77          	ld	(hl),a
3510  1009  D6 0A       	sub	a,0x0a
3511  100B  38 C4       	jr	C,l_game_menu_top_paint_00102
3512  100D  FB          	ei
3513  100E  C9          	ret
3514  100F              	SECTION code_compiler
3515  100F              ;	---------------------------------
3516  100F              ; Function game_menu_paint
3517  100F              ; ---------------------------------
3518  100F              _game_menu_paint:
3519  100F  76          	halt
3520  1010  3A 00 00    	ld	a,(_tmp)
3521  1013  C6 28       	add	a,0x28
3522  1015  4F          	ld	c, a
3523  1016  06 1A       	ld	b,0x1a
3524  1018  C5          	push	bc
3525  1019  3E 12       	ld	a,0x12
3526  101B  F5          	push	af
3527  101C  33          	inc	sp
3528  101D  CD 00 00    	call	_NIRVANAP_fillC_callee
3529  1020  21 00 20    	ld	hl,0x2000
3530  1023  E5          	push	hl
3531  1024  CD 00 00    	call	_game_fill_row
3532  1027  21 00 20    	ld	hl,0x2000
3533  102A  E5          	push	hl
3534  102B  CD 00 00    	call	_game_fill_row
3535  102E  21 13 01    	ld	hl,___str_35
3536  1031  E5          	push	hl
3537  1032  21 0E 0A    	ld	hl,0x0a0e
3538  1035  E5          	push	hl
3539  1036  CD 00 00    	call	_zx_print_str
3540  1039  21 0F 20    	ld	hl,0x200f
3541  103C  E5          	push	hl
3542  103D  CD 00 00    	call	_game_fill_row
3543  1040  21 21 01    	ld	hl,___str_36
3544  1043  E5          	push	hl
3545  1044  21 10 0A    	ld	hl,0x0a10
3546  1047  E5          	push	hl
3547  1048  CD 00 00    	call	_zx_print_str
3548  104B  21 11 20    	ld	hl,0x2011
3549  104E  E5          	push	hl
3550  104F  CD 00 00    	call	_game_fill_row
3551  1052  21 2F 01    	ld	hl,___str_37
3552  1055  E5          	push	hl
3553  1056  21 12 0A    	ld	hl,0x0a12
3554  1059  E5          	push	hl
3555  105A  CD 00 00    	call	_zx_print_str
3556  105D  21 13 20    	ld	hl,0x2013
3557  1060  E5          	push	hl
3558  1061  CD 00 00    	call	_game_fill_row
3559  1064  21 00 00    	ld	hl,_screen_ink
3560  1067  36 01       	ld	(hl),0x01
3561  1069  21 3D 01    	ld	hl,___str_38
3562  106C  E5          	push	hl
3563  106D  21 16 07    	ld	hl,0x0716
3564  1070  E5          	push	hl
3565  1071  CD 00 00    	call	_zx_print_str
3566  1074  21 50 01    	ld	hl,___str_39
3567  1077  E5          	push	hl
3568  1078  21 17 07    	ld	hl,0x0717
3569  107B  E5          	push	hl
3570  107C  CD 00 00    	call	_zx_print_str
3571  107F  21 00 00    	ld	hl,_tmp_uc
3572  1082  36 00       	ld	(hl),0x00
3573  1084  2E 0B       	ld	l,0x0b
3574  1086  CD A6 0C    	call	_game_paint_attrib
3575  1089  C9          	ret
3576  108A              	SECTION rodata_compiler
3577  0113              ___str_35:
3578  0113  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3579  0120  00          	DEFB 0x00
3580  0121              	SECTION rodata_compiler
3581  0121              ___str_36:
3582  0121  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3583  012E  00          	DEFB 0x00
3584  012F              	SECTION rodata_compiler
3585  012F              ___str_37:
3586  012F  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3587  013C  00          	DEFB 0x00
3588  013D              	SECTION rodata_compiler
3589  013D              ___str_38:
3590  013D  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3591  014F  00          	DEFB 0x00
3592  0150              	SECTION rodata_compiler
3593  0150              ___str_39:
3594  0150  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3595  0161  00          	DEFB 0x00
3596  0162              	SECTION code_compiler
3597  108A              ;	---------------------------------
3598  108A              ; Function game_menu_e
3599  108A              ; ---------------------------------
3600  108A              _game_menu_e:
3601  108A  CD 00 00    	call	___sdcc_enter_ix
3602  108D  F3          	di
3603  108E  DD 4E 05    	ld	c,(ix+5)
3604  1091  21 00 00    	ld	hl,_tmp_uc
3605  1094  71          	ld	(hl),c
3606  1095  DD 46 07    	ld	b,(ix+7)
3607  1098  04          	inc	b
3608  1099  DD 56 07    	ld	d,(ix+7)
3609  109C  14          	inc	d
3610  109D  14          	inc	d
3611  109E              l_game_menu_e_00114:
3612  109E  DD 7E 06    	ld	a,(ix+6)
3613  10A1  21 00 00    	ld	hl,_tmp_uc
3614  10A4  96          	sub	a, (hl)
3615  10A5  38 56       	jr	C,l_game_menu_e_00109
3616  10A7  7E          	ld	a,(hl)
3617  10A8  91          	sub	a, c
3618  10A9  20 15       	jr	NZ,l_game_menu_e_00102
3619  10AB  3A 00 00    	ld	a,(_tmp_uc)
3620  10AE  C5          	push	bc
3621  10AF  D5          	push	de
3622  10B0  F5          	push	af
3623  10B1  33          	inc	sp
3624  10B2  DD 66 04    	ld	h,(ix+4)
3625  10B5  DD 6E 07    	ld	l,(ix+7)
3626  10B8  E5          	push	hl
3627  10B9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3628  10BC  D1          	pop	de
3629  10BD  C1          	pop	bc
3630  10BE  18 36       	jr	l_game_menu_e_00108
3631  10C0              l_game_menu_e_00102:
3632  10C0  3A 00 00    	ld	a,(_tmp_uc)
3633  10C3  DD 96 06    	sub	a,(ix+6)
3634  10C6  20 14       	jr	NZ,l_game_menu_e_00104
3635  10C8  3A 00 00    	ld	a,(_tmp_uc)
3636  10CB  C5          	push	bc
3637  10CC  D5          	push	de
3638  10CD  F5          	push	af
3639  10CE  33          	inc	sp
3640  10CF  DD 7E 04    	ld	a,(ix+4)
3641  10D2  5A          	ld	e,d
3642  10D3  57          	ld	d,a
3643  10D4  D5          	push	de
3644  10D5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3645  10D8  D1          	pop	de
3646  10D9  C1          	pop	bc
3647  10DA  18 1A       	jr	l_game_menu_e_00108
3648  10DC              l_game_menu_e_00104:
3649  10DC  3A 00 00    	ld	a,(_tmp_uc)
3650  10DF  FE 0E       	cp	a,0x0e
3651  10E1  28 13       	jr	Z,l_game_menu_e_00108
3652  10E3  FE 10       	cp	a,0x10
3653  10E5  28 0F       	jr	Z,l_game_menu_e_00108
3654  10E7  C5          	push	bc
3655  10E8  D5          	push	de
3656  10E9  F5          	push	af
3657  10EA  33          	inc	sp
3658  10EB  DD 7E 04    	ld	a,(ix+4)
3659  10EE  48          	ld	c,b
3660  10EF  47          	ld	b,a
3661  10F0  C5          	push	bc
3662  10F1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3663  10F4  D1          	pop	de
3664  10F5  C1          	pop	bc
3665  10F6              l_game_menu_e_00108:
3666  10F6  21 00 00    	ld	hl,_tmp_uc
3667  10F9  34          	inc	(hl)
3668  10FA  34          	inc	(hl)
3669  10FB  18 A1       	jr	l_game_menu_e_00114
3670  10FD              l_game_menu_e_00109:
3671  10FD  DD 7E 08    	ld	a,(ix+8)
3672  1100  3C          	inc	a
3673  1101  20 0A       	jr	NZ,l_game_menu_e_00111
3674  1103  DD 7E 04    	ld	a,(ix+4)
3675  1106  C6 F0       	add	a,0xf0
3676  1108  DD 77 04    	ld	(ix+4),a
3677  110B  18 08       	jr	l_game_menu_e_00112
3678  110D              l_game_menu_e_00111:
3679  110D  DD 7E 04    	ld	a,(ix+4)
3680  1110  C6 10       	add	a,0x10
3681  1112  DD 77 04    	ld	(ix+4),a
3682  1115              l_game_menu_e_00112:
3683  1115  DD 7E 07    	ld	a,(ix+7)
3684  1118  C6 0C       	add	a,0x0c
3685  111A  47          	ld	b,a
3686  111B  79          	ld	a,c
3687  111C  F5          	push	af
3688  111D  33          	inc	sp
3689  111E  DD 7E 04    	ld	a,(ix+4)
3690  1121  48          	ld	c,b
3691  1122  47          	ld	b,a
3692  1123  C5          	push	bc
3693  1124  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3694  1127  DD 7E 07    	ld	a,(ix+7)
3695  112A  C6 0E       	add	a,0x0e
3696  112C  47          	ld	b,a
3697  112D  DD 66 06    	ld	h,(ix+6)
3698  1130  DD 6E 04    	ld	l,(ix+4)
3699  1133  E5          	push	hl
3700  1134  C5          	push	bc
3701  1135  33          	inc	sp
3702  1136  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3703  1139  FB          	ei
3704  113A  DD E1       	pop	ix
3705  113C  C9          	ret
3706  113D              	SECTION code_compiler
3707  113D              ;	---------------------------------
3708  113D              ; Function game_menu_handle
3709  113D              ; ---------------------------------
3710  113D              _game_menu_handle:
3711  113D  CD 00 00    	call	___sdcc_enter_ix
3712  1140  3B          	dec	sp
3713  1141  2A 00 00    	ld	hl,(_curr_time)
3714  1144  22 00 00    	ld	(_entry_time),hl
3715  1147  DD 5E 05    	ld	e,(ix+5)
3716  114A  21 00 00    	ld	hl,_game_menu_sel
3717  114D  66          	ld	h,(hl)
3718  114E  2E 00       	ld	l,0x00
3719  1150  55          	ld	d, l
3720  1151  06 08       	ld	b,0x08
3721  1153              l_game_menu_handle_00148:
3722  1153  29          	add	hl,hl
3723  1154  30 01       	jr	NC,l_game_menu_handle_00149
3724  1156  19          	add	hl,de
3725  1157              l_game_menu_handle_00149:
3726  1157  10 FA       	djnz	l_game_menu_handle_00148
3727  1159  DD 7E 06    	ld	a,(ix+6)
3728  115C  85          	add	a,l
3729  115D  32 00 00    	ld	(_s_lin1),a
3730  1160  DD 7E 06    	ld	a,(ix+6)
3731  1163  DD 77 FF    	ld	(ix-1),a
3732  1166              l_game_menu_handle_00111:
3733  1166  21 00 00    	ld	hl,_k1
3734  1169  E5          	push	hl
3735  116A  2A 00 00    	ld	hl,(_joyfunc1)
3736  116D  CD 00 00    	call	___sdcc_call_hl
3737  1170  F1          	pop	af
3738  1171  7D          	ld	a,l
3739  1172  32 00 00    	ld	(_dirs),a
3740  1175  D6 80       	sub	a,0x80
3741  1177  CA 19 12    	jp	Z,l_game_menu_handle_00113
3742  117A  21 05 00    	ld	hl,0x0005
3743  117D  E5          	push	hl
3744  117E  2A 00 00    	ld	hl,(_frame_time)
3745  1181  E5          	push	hl
3746  1182  CD 20 1A    	call	_game_check_time
3747  1185  F1          	pop	af
3748  1186  F1          	pop	af
3749  1187  7D          	ld	a,l
3750  1188  B7          	or	a, a
3751  1189  28 58       	jr	Z,l_game_menu_handle_00106
3752  118B  3A 00 00    	ld	a,(_dirs)
3753  118E  B7          	or	a, a
3754  118F  28 32       	jr	Z,l_game_menu_handle_00104
3755  1191  21 00 00    	ld	hl,_ay_effect_03
3756  1194  CD 00 00    	call	_ay_fx_play
3757  1197  CD 00 00    	call	_sound_slide
3758  119A  3A 00 00    	ld	a,(_s_lin1)
3759  119D  07          	rlca
3760  119E  07          	rlca
3761  119F  07          	rlca
3762  11A0  E6 F8       	and	a,0xf8
3763  11A2  C6 08       	add	a,0x08
3764  11A4  F5          	push	af
3765  11A5  33          	inc	sp
3766  11A6  26 14       	ld	h,0x14
3767  11A8  DD 6E 04    	ld	l,(ix+4)
3768  11AB  E5          	push	hl
3769  11AC  CD CA 0C    	call	_game_paint_attrib_lin
3770  11AF  F1          	pop	af
3771  11B0  33          	inc	sp
3772  11B1  21 00 00    	ld	hl,_s_lin1
3773  11B4  7E          	ld	a,(hl)
3774  11B5  DD 86 05    	add	a,(ix+5)
3775  11B8  77          	ld	(hl),a
3776  11B9  DD 7E 07    	ld	a,(ix+7)
3777  11BC  96          	sub	a, (hl)
3778  11BD  30 04       	jr	NC,l_game_menu_handle_00104
3779  11BF  DD 7E FF    	ld	a,(ix-1)
3780  11C2  77          	ld	(hl),a
3781  11C3              l_game_menu_handle_00104:
3782  11C3  2A 00 00    	ld	hl,(_curr_time)
3783  11C6  22 00 00    	ld	(_frame_time),hl
3784  11C9  3A 00 00    	ld	a,(_s_lin1)
3785  11CC  07          	rlca
3786  11CD  07          	rlca
3787  11CE  07          	rlca
3788  11CF  E6 F8       	and	a,0xf8
3789  11D1  C6 08       	add	a,0x08
3790  11D3  F5          	push	af
3791  11D4  33          	inc	sp
3792  11D5  26 14       	ld	h,0x14
3793  11D7  DD 6E 04    	ld	l,(ix+4)
3794  11DA  E5          	push	hl
3795  11DB  CD F1 0C    	call	_game_paint_attrib_lin_h
3796  11DE  F1          	pop	af
3797  11DF  33          	inc	sp
3798  11E0  CD 72 19    	call	_game_rotate_attrib
3799  11E3              l_game_menu_handle_00106:
3800  11E3  DD 7E 09    	ld	a,(ix+9)
3801  11E6  DD B6 08    	or	a,(ix+8)
3802  11E9  CA 66 11    	jp	Z,l_game_menu_handle_00111
3803  11EC  DD 6E 08    	ld	l,(ix+8)
3804  11EF  DD 66 09    	ld	h,(ix+9)
3805  11F2  E5          	push	hl
3806  11F3  2A 00 00    	ld	hl,(_entry_time)
3807  11F6  E5          	push	hl
3808  11F7  CD 20 1A    	call	_game_check_time
3809  11FA  F1          	pop	af
3810  11FB  F1          	pop	af
3811  11FC  7D          	ld	a,l
3812  11FD  B7          	or	a, a
3813  11FE  CA 66 11    	jp	Z,l_game_menu_handle_00111
3814  1201  CD 00 00    	call	_ay_is_playing
3815  1204  7D          	ld	a,l
3816  1205  B7          	or	a, a
3817  1206  C2 66 11    	jp	NZ,l_game_menu_handle_00111
3818  1209  CD A1 18    	call	_game_hall_of_fame
3819  120C  21 00 00    	ld	hl,_game_menu_sel
3820  120F  2E 00       	ld	l,0x00
3821  1211  75          	ld	(hl),l
3822  1212  CD A0 16    	call	_game_menu_back
3823  1215  2E FF       	ld	l,0xff
3824  1217  18 10       	jr	l_game_menu_handle_00114
3825  1219              l_game_menu_handle_00113:
3826  1219  3A 00 00    	ld	a,(_s_lin1)
3827  121C  DD 96 FF    	sub	a,(ix-1)
3828  121F  47          	ld	b,a
3829  1220  DD 7E 05    	ld	a,(ix+5)
3830  1223  48          	ld	c,b
3831  1224  47          	ld	b,a
3832  1225  C5          	push	bc
3833  1226  CD 00 00    	call	__divuchar_callee
3834  1229              l_game_menu_handle_00114:
3835  1229  33          	inc	sp
3836  122A  DD E1       	pop	ix
3837  122C  C9          	ret
3838  122D              	SECTION code_compiler
3839  122D              ;	---------------------------------
3840  122D              ; Function game_end
3841  122D              ; ---------------------------------
3842  122D              _game_end:
3843  122D  CD 00 00    	call	___sdcc_enter_ix
3844  1230  F5          	push	af
3845  1231  F5          	push	af
3846  1232  CD B6 08    	call	_game_kill_all_sprites
3847  1235  CD 00 00    	call	_spr_draw_clear
3848  1238  21 00 00    	ld	hl,_pb_midi_title
3849  123B  CD 00 00    	call	_ay_midi_play
3850  123E  21 00 00    	ld	hl,_tmp0
3851  1241  36 04       	ld	(hl),0x04
3852  1243              l_game_end_00129:
3853  1243  3A 00 00    	ld	a,(_tmp0)
3854  1246  F5          	push	af
3855  1247  33          	inc	sp
3856  1248  21 8C 50    	ld	hl,0x508c
3857  124B  E5          	push	hl
3858  124C  CD 00 00    	call	_NIRVANAP_drawT_callee
3859  124F  21 00 00    	ld	hl,_tmp0
3860  1252  7E          	ld	a,(hl)
3861  1253  3C          	inc	a
3862  1254  3C          	inc	a
3863  1255  77          	ld	(hl),a
3864  1256  D6 1C       	sub	a,0x1c
3865  1258  38 E9       	jr	C,l_game_end_00129
3866  125A  36 04       	ld	(hl),0x04
3867  125C              l_game_end_00131:
3868  125C  3A 00 00    	ld	a,(_tmp0)
3869  125F  F5          	push	af
3870  1260  33          	inc	sp
3871  1261  21 8C 60    	ld	hl,0x608c
3872  1264  E5          	push	hl
3873  1265  CD 00 00    	call	_NIRVANAP_drawT_callee
3874  1268  21 00 00    	ld	hl,_tmp0
3875  126B  7E          	ld	a,(hl)
3876  126C  3C          	inc	a
3877  126D  3C          	inc	a
3878  126E  77          	ld	(hl),a
3879  126F  D6 1C       	sub	a,0x1c
3880  1271  38 E9       	jr	C,l_game_end_00131
3881  1273  36 04       	ld	(hl),0x04
3882  1275              l_game_end_00133:
3883  1275  3A 00 00    	ld	a,(_tmp0)
3884  1278  F5          	push	af
3885  1279  33          	inc	sp
3886  127A  21 8C 70    	ld	hl,0x708c
3887  127D  E5          	push	hl
3888  127E  CD 00 00    	call	_NIRVANAP_drawT_callee
3889  1281  21 00 00    	ld	hl,_tmp0
3890  1284  7E          	ld	a,(hl)
3891  1285  3C          	inc	a
3892  1286  3C          	inc	a
3893  1287  77          	ld	(hl),a
3894  1288  D6 1C       	sub	a,0x1c
3895  128A  38 E9       	jr	C,l_game_end_00133
3896  128C  21 50 18    	ld	hl,0x1850
3897  128F  E5          	push	hl
3898  1290  3E D6       	ld	a,0xd6
3899  1292  F5          	push	af
3900  1293  33          	inc	sp
3901  1294  CD 00 00    	call	_NIRVANAP_drawT_callee
3902  1297  21 9C 01    	ld	hl,0x019c
3903  129A  E5          	push	hl
3904  129B  21 01 1D    	ld	hl,0x1d01
3905  129E  E5          	push	hl
3906  129F  3E 20       	ld	a,0x20
3907  12A1  F5          	push	af
3908  12A2  33          	inc	sp
3909  12A3  CD 8A 10    	call	_game_menu_e
3910  12A6  F1          	pop	af
3911  12A7  33          	inc	sp
3912  12A8  21 9F FF    	ld	hl,0xff9f
3913  12AB  E3          	ex	(sp),hl
3914  12AC  21 01 1D    	ld	hl,0x1d01
3915  12AF  E5          	push	hl
3916  12B0  3E 80       	ld	a,0x80
3917  12B2  F5          	push	af
3918  12B3  33          	inc	sp
3919  12B4  CD 8A 10    	call	_game_menu_e
3920  12B7  F1          	pop	af
3921  12B8  F1          	pop	af
3922  12B9  33          	inc	sp
3923  12BA  3E 00       	ld	a,0x00
3924  12BC  DD 77 FC    	ld	(ix-4),a
3925  12BF  DD 77 FD    	ld	(ix-3),a
3926  12C2  3A 00 00    	ld	a,(_game_two_player)
3927  12C5  B7          	or	a, a
3928  12C6  28 16       	jr	Z,l_game_end_00109
3929  12C8  3A 00 00    	ld	a,(_game_lives)
3930  12CB  B7          	or	a, a
3931  12CC  28 04       	jr	Z,l_game_end_00105
3932  12CE  DD 36 FC 01 	ld	(ix-4),0x01
3933  12D2              l_game_end_00105:
3934  12D2  3A 01 00    	ld	a, (_game_lives + 1)
3935  12D5  B7          	or	a, a
3936  12D6  28 0A       	jr	Z,l_game_end_00110
3937  12D8  DD 36 FD 01 	ld	(ix-3),0x01
3938  12DC  18 04       	jr	l_game_end_00110
3939  12DE              l_game_end_00109:
3940  12DE  DD 36 FC 01 	ld	(ix-4),0x01
3941  12E2              l_game_end_00110:
3942  12E2  DD 7E FC    	ld	a,(ix-4)
3943  12E5  3D          	dec	a
3944  12E6  20 04       	jr	NZ,l_game_end_00221
3945  12E8  3E 01       	ld	a,0x01
3946  12EA  18 01       	jr	l_game_end_00222
3947  12EC              l_game_end_00221:
3948  12EC  AF          	xor	a,a
3949  12ED              l_game_end_00222:
3950  12ED  DD 77 FF    	ld	(ix-1),a
3951  12F0  B7          	or	a, a
3952  12F1  28 1C       	jr	Z,l_game_end_00112
3953  12F3  DD 7E FD    	ld	a,(ix-3)
3954  12F6  B7          	or	a, a
3955  12F7  20 16       	jr	NZ,l_game_end_00112
3956  12F9  21 62 01    	ld	hl,___str_40
3957  12FC  E5          	push	hl
3958  12FD  21 13 01    	ld	hl,0x0113
3959  1300  E5          	push	hl
3960  1301  CD 00 00    	call	_zx_print_str
3961  1304  21 50 0C    	ld	hl,0x0c50
3962  1307  E5          	push	hl
3963  1308  3E 03       	ld	a,0x03
3964  130A  F5          	push	af
3965  130B  33          	inc	sp
3966  130C  CD 00 00    	call	_NIRVANAP_drawT_callee
3967  130F              l_game_end_00112:
3968  130F  DD 7E FD    	ld	a,(ix-3)
3969  1312  3D          	dec	a
3970  1313  20 04       	jr	NZ,l_game_end_00223
3971  1315  3E 01       	ld	a,0x01
3972  1317  18 01       	jr	l_game_end_00224
3973  1319              l_game_end_00223:
3974  1319  AF          	xor	a,a
3975  131A              l_game_end_00224:
3976  131A  DD 77 FE    	ld	(ix-2),a
3977  131D  DD 7E FC    	ld	a,(ix-4)
3978  1320  B7          	or	a, a
3979  1321  20 1C       	jr	NZ,l_game_end_00115
3980  1323  DD 7E FE    	ld	a,(ix-2)
3981  1326  B7          	or	a, a
3982  1327  28 16       	jr	Z,l_game_end_00115
3983  1329  21 6C 01    	ld	hl,___str_41
3984  132C  E5          	push	hl
3985  132D  21 13 01    	ld	hl,0x0113
3986  1330  E5          	push	hl
3987  1331  CD 00 00    	call	_zx_print_str
3988  1334  21 60 0E    	ld	hl,0x0e60
3989  1337  E5          	push	hl
3990  1338  3E 1B       	ld	a,0x1b
3991  133A  F5          	push	af
3992  133B  33          	inc	sp
3993  133C  CD 00 00    	call	_NIRVANAP_drawT_callee
3994  133F              l_game_end_00115:
3995  133F  DD 7E FF    	ld	a,(ix-1)
3996  1342  B7          	or	a, a
3997  1343  28 27       	jr	Z,l_game_end_00118
3998  1345  DD 7E FE    	ld	a,(ix-2)
3999  1348  B7          	or	a, a
4000  1349  28 21       	jr	Z,l_game_end_00118
4001  134B  21 75 01    	ld	hl,___str_42
4002  134E  E5          	push	hl
4003  134F  21 13 01    	ld	hl,0x0113
4004  1352  E5          	push	hl
4005  1353  CD 00 00    	call	_zx_print_str
4006  1356  21 50 0C    	ld	hl,0x0c50
4007  1359  E5          	push	hl
4008  135A  3E 03       	ld	a,0x03
4009  135C  F5          	push	af
4010  135D  33          	inc	sp
4011  135E  CD 00 00    	call	_NIRVANAP_drawT_callee
4012  1361  21 60 0E    	ld	hl,0x0e60
4013  1364  E5          	push	hl
4014  1365  3E 1B       	ld	a,0x1b
4015  1367  F5          	push	af
4016  1368  33          	inc	sp
4017  1369  CD 00 00    	call	_NIRVANAP_drawT_callee
4018  136C              l_game_end_00118:
4019  136C  21 C8 00    	ld	hl,0x00c8
4020  136F  E5          	push	hl
4021  1370  21 01 1F    	ld	hl,0x1f01
4022  1373  E5          	push	hl
4023  1374  3E 13       	ld	a,0x13
4024  1376  F5          	push	af
4025  1377  33          	inc	sp
4026  1378  CD 8E 19    	call	_game_colour_message
4027  137B  F1          	pop	af
4028  137C  F1          	pop	af
4029  137D  33          	inc	sp
4030  137E  DD 7E FF    	ld	a,(ix-1)
4031  1381  B7          	or	a, a
4032  1382  28 32       	jr	Z,l_game_end_00121
4033  1384  DD 7E FD    	ld	a,(ix-3)
4034  1387  B7          	or	a, a
4035  1388  20 2C       	jr	NZ,l_game_end_00121
4036  138A  21 40 12    	ld	hl,0x1240
4037  138D  E5          	push	hl
4038  138E  3E BE       	ld	a,0xbe
4039  1390  F5          	push	af
4040  1391  33          	inc	sp
4041  1392  CD 00 00    	call	_NIRVANAP_drawT_callee
4042  1395  21 50 12    	ld	hl,0x1250
4043  1398  E5          	push	hl
4044  1399  3E CA       	ld	a,0xca
4045  139B  F5          	push	af
4046  139C  33          	inc	sp
4047  139D  CD 00 00    	call	_NIRVANAP_drawT_callee
4048  13A0  21 89 01    	ld	hl,___str_43
4049  13A3  E5          	push	hl
4050  13A4  21 13 01    	ld	hl,0x0113
4051  13A7  E5          	push	hl
4052  13A8  CD 00 00    	call	_zx_print_str
4053  13AB  21 40 0C    	ld	hl,0x0c40
4054  13AE  E5          	push	hl
4055  13AF  3E BE       	ld	a,0xbe
4056  13B1  F5          	push	af
4057  13B2  33          	inc	sp
4058  13B3  CD 00 00    	call	_NIRVANAP_drawT_callee
4059  13B6              l_game_end_00121:
4060  13B6  DD 7E FC    	ld	a,(ix-4)
4061  13B9  B7          	or	a, a
4062  13BA  20 32       	jr	NZ,l_game_end_00124
4063  13BC  DD 7E FE    	ld	a,(ix-2)
4064  13BF  B7          	or	a, a
4065  13C0  28 2C       	jr	Z,l_game_end_00124
4066  13C2  21 50 12    	ld	hl,0x1250
4067  13C5  E5          	push	hl
4068  13C6  3E BE       	ld	a,0xbe
4069  13C8  F5          	push	af
4070  13C9  33          	inc	sp
4071  13CA  CD 00 00    	call	_NIRVANAP_drawT_callee
4072  13CD  21 60 12    	ld	hl,0x1260
4073  13D0  E5          	push	hl
4074  13D1  3E CA       	ld	a,0xca
4075  13D3  F5          	push	af
4076  13D4  33          	inc	sp
4077  13D5  CD 00 00    	call	_NIRVANAP_drawT_callee
4078  13D8  21 89 01    	ld	hl,___str_43
4079  13DB  E5          	push	hl
4080  13DC  21 13 01    	ld	hl,0x0113
4081  13DF  E5          	push	hl
4082  13E0  CD 00 00    	call	_zx_print_str
4083  13E3  21 50 0E    	ld	hl,0x0e50
4084  13E6  E5          	push	hl
4085  13E7  3E BE       	ld	a,0xbe
4086  13E9  F5          	push	af
4087  13EA  33          	inc	sp
4088  13EB  CD 00 00    	call	_NIRVANAP_drawT_callee
4089  13EE              l_game_end_00124:
4090  13EE  DD 7E FF    	ld	a,(ix-1)
4091  13F1  B7          	or	a, a
4092  13F2  28 53       	jr	Z,l_game_end_00127
4093  13F4  DD 7E FE    	ld	a,(ix-2)
4094  13F7  B7          	or	a, a
4095  13F8  28 4D       	jr	Z,l_game_end_00127
4096  13FA  21 9D 01    	ld	hl,___str_44
4097  13FD  E5          	push	hl
4098  13FE  21 13 01    	ld	hl,0x0113
4099  1401  E5          	push	hl
4100  1402  CD 00 00    	call	_zx_print_str
4101  1405  21 40 12    	ld	hl,0x1240
4102  1408  E5          	push	hl
4103  1409  3E BE       	ld	a,0xbe
4104  140B  F5          	push	af
4105  140C  33          	inc	sp
4106  140D  CD 00 00    	call	_NIRVANAP_drawT_callee
4107  1410  21 50 12    	ld	hl,0x1250
4108  1413  E5          	push	hl
4109  1414  3E CA       	ld	a,0xca
4110  1416  F5          	push	af
4111  1417  33          	inc	sp
4112  1418  CD 00 00    	call	_NIRVANAP_drawT_callee
4113  141B  21 50 10    	ld	hl,0x1050
4114  141E  E5          	push	hl
4115  141F  3E BE       	ld	a,0xbe
4116  1421  F5          	push	af
4117  1422  33          	inc	sp
4118  1423  CD 00 00    	call	_NIRVANAP_drawT_callee
4119  1426  21 60 10    	ld	hl,0x1060
4120  1429  E5          	push	hl
4121  142A  3E CA       	ld	a,0xca
4122  142C  F5          	push	af
4123  142D  33          	inc	sp
4124  142E  CD 00 00    	call	_NIRVANAP_drawT_callee
4125  1431  21 40 0C    	ld	hl,0x0c40
4126  1434  E5          	push	hl
4127  1435  3E BE       	ld	a,0xbe
4128  1437  F5          	push	af
4129  1438  33          	inc	sp
4130  1439  CD 00 00    	call	_NIRVANAP_drawT_callee
4131  143C  21 50 0E    	ld	hl,0x0e50
4132  143F  E5          	push	hl
4133  1440  3E BE       	ld	a,0xbe
4134  1442  F5          	push	af
4135  1443  33          	inc	sp
4136  1444  CD 00 00    	call	_NIRVANAP_drawT_callee
4137  1447              l_game_end_00127:
4138  1447  21 C8 00    	ld	hl,0x00c8
4139  144A  E5          	push	hl
4140  144B  21 01 1F    	ld	hl,0x1f01
4141  144E  E5          	push	hl
4142  144F  3E 13       	ld	a,0x13
4143  1451  F5          	push	af
4144  1452  33          	inc	sp
4145  1453  CD 8E 19    	call	_game_colour_message
4146  1456  F1          	pop	af
4147  1457  33          	inc	sp
4148  1458  21 B3 01    	ld	hl,___str_45
4149  145B  E3          	ex	(sp),hl
4150  145C  21 13 01    	ld	hl,0x0113
4151  145F  E5          	push	hl
4152  1460  CD 00 00    	call	_zx_print_str
4153  1463  21 C8 00    	ld	hl,0x00c8
4154  1466  E5          	push	hl
4155  1467  21 01 1F    	ld	hl,0x1f01
4156  146A  E5          	push	hl
4157  146B  3E 13       	ld	a,0x13
4158  146D  F5          	push	af
4159  146E  33          	inc	sp
4160  146F  CD 8E 19    	call	_game_colour_message
4161  1472  F1          	pop	af
4162  1473  33          	inc	sp
4163  1474  21 CA 01    	ld	hl,___str_46
4164  1477  E3          	ex	(sp),hl
4165  1478  21 13 01    	ld	hl,0x0113
4166  147B  E5          	push	hl
4167  147C  CD 00 00    	call	_zx_print_str
4168  147F  21 C8 00    	ld	hl,0x00c8
4169  1482  E5          	push	hl
4170  1483  21 01 1F    	ld	hl,0x1f01
4171  1486  E5          	push	hl
4172  1487  3E 13       	ld	a,0x13
4173  1489  F5          	push	af
4174  148A  33          	inc	sp
4175  148B  CD 8E 19    	call	_game_colour_message
4176  148E  F1          	pop	af
4177  148F  F1          	pop	af
4178  1490  33          	inc	sp
4179  1491  CD 00 00    	call	_spr_draw_clear
4180  1494  DD F9       	ld	sp, ix
4181  1496  DD E1       	pop	ix
4182  1498  C9          	ret
4183  1499              	SECTION rodata_compiler
4184  0162              ___str_40:
4185  0162  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4186  016B  00          	DEFB 0x00
4187  016C              	SECTION rodata_compiler
4188  016C              ___str_41:
4189  016C  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4190  0174  00          	DEFB 0x00
4191  0175              	SECTION rodata_compiler
4192  0175              ___str_42:
4193  0175  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4194  0188  00          	DEFB 0x00
4195  0189              	SECTION rodata_compiler
4196  0189              ___str_43:
4197  0189  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4198  019C  00          	DEFB 0x00
4199  019D              	SECTION rodata_compiler
4200  019D              ___str_44:
4201  019D  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4202  01B2  00          	DEFB 0x00
4203  01B3              	SECTION rodata_compiler
4204  01B3              ___str_45:
4205  01B3  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4206  01C9  00          	DEFB 0x00
4207  01CA              	SECTION rodata_compiler
4208  01CA              ___str_46:
4209  01CA  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4210  01E0  00          	DEFB 0x00
4211  01E1              	SECTION code_compiler
4212  1499              ;	---------------------------------
4213  1499              ; Function game_hall_check
4214  1499              ; ---------------------------------
4215  1499              _game_hall_check:
4216  1499  5D          	ld	e,l
4217  149A  01 00 00    	ld	bc,_player_score+0
4218  149D  26 00       	ld	h,0x00
4219  149F  6B          	ld	l, e
4220  14A0  29          	add	hl, hl
4221  14A1  09          	add	hl,bc
4222  14A2  4E          	ld	c,(hl)
4223  14A3  23          	inc	hl
4224  14A4  46          	ld	b,(hl)
4225  14A5  2A 3A 00    	ld	hl,(_hof + 0x003a)
4226  14A8  AF          	xor	a,a
4227  14A9  ED 42       	sbc	hl,bc
4228  14AB  30 09       	jr	NC,l_game_hall_check_00104
4229  14AD  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4230  14B1  21 36 00    	ld	hl,+(_hof + 0x0036)
4231  14B4  18 14       	jr	l_game_hall_check_00106
4232  14B6              l_game_hall_check_00104:
4233  14B6  2A 34 00    	ld	hl,(_hof + 0x0034)
4234  14B9  AF          	xor	a,a
4235  14BA  ED 42       	sbc	hl,bc
4236  14BC  30 09       	jr	NC,l_game_hall_check_00105
4237  14BE  ED 43 34 00 	ld	(_hof + 0x0034),bc
4238  14C2  21 30 00    	ld	hl,+(_hof + 0x0030)
4239  14C5  18 03       	jr	l_game_hall_check_00106
4240  14C7              l_game_hall_check_00105:
4241  14C7  21 00 00    	ld	hl,0x0000
4242  14CA              l_game_hall_check_00106:
4243  14CA  C9          	ret
4244  14CB              	SECTION code_compiler
4245  14CB              ;	---------------------------------
4246  14CB              ; Function compare_scores
4247  14CB              ; ---------------------------------
4248  14CB              _compare_scores:
4249  14CB  CD 00 00    	call	___sdcc_enter_ix
4250  14CE  DD 6E 06    	ld	l,(ix+6)
4251  14D1  DD 66 07    	ld	h,(ix+7)
4252  14D4  11 04 00    	ld	de,0x0004
4253  14D7  19          	add	hl, de
4254  14D8  4E          	ld	c,(hl)
4255  14D9  23          	inc	hl
4256  14DA  46          	ld	b,(hl)
4257  14DB  DD 6E 04    	ld	l,(ix+4)
4258  14DE  DD 66 05    	ld	h,(ix+5)
4259  14E1  11 04 00    	ld	de,0x0004
4260  14E4  19          	add	hl, de
4261  14E5  7E          	ld	a,(hl)
4262  14E6  23          	inc	hl
4263  14E7  56          	ld	d,(hl)
4264  14E8  5F          	ld	e,a
4265  14E9  91          	sub	a, c
4266  14EA  7A          	ld	a,d
4267  14EB  98          	sbc	a, b
4268  14EC  30 05       	jr	NC,l_compare_scores_00102
4269  14EE  21 01 00    	ld	hl,0x0001
4270  14F1  18 10       	jr	l_compare_scores_00105
4271  14F3              l_compare_scores_00102:
4272  14F3  79          	ld	a,c
4273  14F4  93          	sub	a, e
4274  14F5  20 09       	jr	NZ,l_compare_scores_00104
4275  14F7  78          	ld	a,b
4276  14F8  92          	sub	a, d
4277  14F9  20 05       	jr	NZ,l_compare_scores_00104
4278  14FB  21 00 00    	ld	hl,0x0000
4279  14FE  18 03       	jr	l_compare_scores_00105
4280  1500              l_compare_scores_00104:
4281  1500  21 FF FF    	ld	hl,0xffff
4282  1503              l_compare_scores_00105:
4283  1503  DD E1       	pop	ix
4284  1505  C9          	ret
4285  1506              	SECTION code_compiler
4286  1506              ;	---------------------------------
4287  1506              ; Function game_hall_enter
4288  1506              ; ---------------------------------
4289  1506              _game_hall_enter:
4290  1506  CD 00 00    	call	___sdcc_enter_ix
4291  1509  21 F7 FF    	ld	hl,-9
4292  150C  39          	add	hl,sp
4293  150D  F9          	ld	sp,hl
4294  150E  CD 00 00    	call	_spr_draw_clear
4295  1511  2E 00       	ld	l,0x00
4296  1513  CD A6 0C    	call	_game_paint_attrib
4297  1516  ED 4B 00 00 	ld	bc,(_player_score)
4298  151A  2A 02 00    	ld	hl, (_player_score + 2)
4299  151D  AF          	xor	a,a
4300  151E  ED 42       	sbc	hl,bc
4301  1520  30 0F       	jr	NC,l_game_hall_enter_00102
4302  1522  2E 00       	ld	l,0x00
4303  1524  CD 99 14    	call	_game_hall_check
4304  1527  E5          	push	hl
4305  1528  2E 01       	ld	l,0x01
4306  152A  CD 99 14    	call	_game_hall_check
4307  152D  EB          	ex	de,hl
4308  152E  C1          	pop	bc
4309  152F  18 0E       	jr	l_game_hall_enter_00103
4310  1531              l_game_hall_enter_00102:
4311  1531  2E 01       	ld	l,0x01
4312  1533  CD 99 14    	call	_game_hall_check
4313  1536  E5          	push	hl
4314  1537  2E 00       	ld	l,0x00
4315  1539  CD 99 14    	call	_game_hall_check
4316  153C  D1          	pop	de
4317  153D  4D          	ld	c,l
4318  153E  44          	ld	b,h
4319  153F              l_game_hall_enter_00103:
4320  153F  78          	ld	a,b
4321  1540  B1          	or	a,c
4322  1541  20 05       	jr	NZ,l_game_hall_enter_00125
4323  1543  7A          	ld	a,d
4324  1544  B3          	or	a,e
4325  1545  CA 93 16    	jp	Z,l_game_hall_enter_00126
4326  1548              l_game_hall_enter_00125:
4327  1548  3E 00       	ld	a,0x00
4328  154A  DD 77 FB    	ld	(ix-5),a
4329  154D  DD 77 FA    	ld	(ix-6),a
4330  1550  DD 77 F8    	ld	(ix-8),a
4331  1553  DD 77 F7    	ld	(ix-9),a
4332  1556  DD 36 F9 00 	ld	(ix-7),0x00
4333  155A  78          	ld	a,b
4334  155B  B1          	or	a,c
4335  155C  28 0D       	jr	Z,l_game_hall_enter_00105
4336  155E  DD 36 F7 01 	ld	(ix-9),0x01
4337  1562  C5          	push	bc
4338  1563  D5          	push	de
4339  1564  2E 00       	ld	l,0x00
4340  1566  CD B6 16    	call	_game_hall_enter_phs
4341  1569  D1          	pop	de
4342  156A  C1          	pop	bc
4343  156B              l_game_hall_enter_00105:
4344  156B  7A          	ld	a,d
4345  156C  B3          	or	a,e
4346  156D  28 0D       	jr	Z,l_game_hall_enter_00107
4347  156F  DD 36 F9 05 	ld	(ix-7),0x05
4348  1573  C5          	push	bc
4349  1574  D5          	push	de
4350  1575  2E 01       	ld	l,0x01
4351  1577  CD B6 16    	call	_game_hall_enter_phs
4352  157A  D1          	pop	de
4353  157B  C1          	pop	bc
4354  157C              l_game_hall_enter_00107:
4355  157C  C5          	push	bc
4356  157D  D5          	push	de
4357  157E  21 E1 01    	ld	hl,___str_47
4358  1581  E5          	push	hl
4359  1582  21 02 0A    	ld	hl,0x0a02
4360  1585  E5          	push	hl
4361  1586  CD 00 00    	call	_zx_print_str
4362  1589  21 EE 01    	ld	hl,___str_48
4363  158C  E5          	push	hl
4364  158D  21 12 06    	ld	hl,0x0612
4365  1590  E5          	push	hl
4366  1591  CD 00 00    	call	_zx_print_str
4367  1594  21 01 02    	ld	hl,___str_49
4368  1597  E5          	push	hl
4369  1598  21 13 06    	ld	hl,0x0613
4370  159B  E5          	push	hl
4371  159C  CD 00 00    	call	_zx_print_str
4372  159F  D1          	pop	de
4373  15A0  C1          	pop	bc
4374  15A1  DD 71 FE    	ld	(ix-2),c
4375  15A4  DD 70 FF    	ld	(ix-1),b
4376  15A7  DD 73 FC    	ld	(ix-4),e
4377  15AA  DD 72 FD    	ld	(ix-3),d
4378  15AD              l_game_hall_enter_00122:
4379  15AD  DD 7E F7    	ld	a,(ix-9)
4380  15B0  DD 86 F9    	add	a,(ix-7)
4381  15B3  B7          	or	a, a
4382  15B4  CA 7B 16    	jp	Z,l_game_hall_enter_00124
4383  15B7  21 05 00    	ld	hl,0x0005
4384  15BA  E5          	push	hl
4385  15BB  2A 00 00    	ld	hl,(_frame_time)
4386  15BE  E5          	push	hl
4387  15BF  CD 20 1A    	call	_game_check_time
4388  15C2  F1          	pop	af
4389  15C3  F1          	pop	af
4390  15C4  7D          	ld	a,l
4391  15C5  B7          	or	a, a
4392  15C6  28 36       	jr	Z,l_game_hall_enter_00113
4393  15C8  DD 7E F8    	ld	a,(ix-8)
4394  15CB  D6 01       	sub	a,0x01
4395  15CD  3E 00       	ld	a,0x00
4396  15CF  17          	rla
4397  15D0  DD 77 F8    	ld	(ix-8),a
4398  15D3  DD 7E F7    	ld	a,(ix-9)
4399  15D6  B7          	or	a, a
4400  15D7  28 0B       	jr	Z,l_game_hall_enter_00109
4401  15D9  DD 66 F8    	ld	h,(ix-8)
4402  15DC  DD 6E F7    	ld	l,(ix-9)
4403  15DF  E5          	push	hl
4404  15E0  CD 2D 17    	call	_game_hall_print_p
4405  15E3  F1          	pop	af
4406  15E4              l_game_hall_enter_00109:
4407  15E4  DD 7E F9    	ld	a,(ix-7)
4408  15E7  B7          	or	a, a
4409  15E8  28 0B       	jr	Z,l_game_hall_enter_00111
4410  15EA  DD 66 F8    	ld	h,(ix-8)
4411  15ED  DD 6E F9    	ld	l,(ix-7)
4412  15F0  E5          	push	hl
4413  15F1  CD 2D 17    	call	_game_hall_print_p
4414  15F4  F1          	pop	af
4415  15F5              l_game_hall_enter_00111:
4416  15F5  CD 72 19    	call	_game_rotate_attrib
4417  15F8  2A 00 00    	ld	hl,(_curr_time)
4418  15FB  22 00 00    	ld	(_frame_time),hl
4419  15FE              l_game_hall_enter_00113:
4420  15FE  21 00 00    	ld	hl,_k1
4421  1601  E5          	push	hl
4422  1602  2A 00 00    	ld	hl,(_joyfunc1)
4423  1605  CD 00 00    	call	___sdcc_call_hl
4424  1608  F1          	pop	af
4425  1609  7D          	ld	a,l
4426  160A  32 00 00    	ld	(_dirs),a
4427  160D  DD 7E FB    	ld	a,(ix-5)
4428  1610  B7          	or	a, a
4429  1611  20 22       	jr	NZ,l_game_hall_enter_00115
4430  1613  DD 7E F7    	ld	a,(ix-9)
4431  1616  B7          	or	a, a
4432  1617  28 1C       	jr	Z,l_game_hall_enter_00115
4433  1619  DD 6E F7    	ld	l,(ix-9)
4434  161C  CD EB 17    	call	_game_hall_edit_p
4435  161F  DD 75 F7    	ld	(ix-9),l
4436  1622  7D          	ld	a,l
4437  1623  B7          	or	a, a
4438  1624  20 0F       	jr	NZ,l_game_hall_enter_00115
4439  1626  DD 5E FE    	ld	e,(ix-2)
4440  1629  DD 56 FF    	ld	d,(ix-1)
4441  162C  AF          	xor	a,a
4442  162D  21 00 00    	ld	hl,_initials
4443  1630              l_game_hall_enter_00190:
4444  1630  BE          	cp	a, (hl)
4445  1631  ED A0       	ldi
4446  1633  20 FB       	jr	NZ, l_game_hall_enter_00190
4447  1635              l_game_hall_enter_00115:
4448  1635  3A 00 00    	ld	a,(_dirs)
4449  1638  DD 77 FB    	ld	(ix-5),a
4450  163B  21 00 00    	ld	hl,_k2
4451  163E  E5          	push	hl
4452  163F  2A 00 00    	ld	hl,(_joyfunc2)
4453  1642  CD 00 00    	call	___sdcc_call_hl
4454  1645  F1          	pop	af
4455  1646  7D          	ld	a,l
4456  1647  32 00 00    	ld	(_dirs),a
4457  164A  DD 7E FA    	ld	a,(ix-6)
4458  164D  B7          	or	a, a
4459  164E  20 22       	jr	NZ,l_game_hall_enter_00119
4460  1650  DD 7E F9    	ld	a,(ix-7)
4461  1653  B7          	or	a, a
4462  1654  28 1C       	jr	Z,l_game_hall_enter_00119
4463  1656  DD 6E F9    	ld	l,(ix-7)
4464  1659  CD EB 17    	call	_game_hall_edit_p
4465  165C  DD 75 F9    	ld	(ix-7),l
4466  165F  7D          	ld	a,l
4467  1660  B7          	or	a, a
4468  1661  20 0F       	jr	NZ,l_game_hall_enter_00119
4469  1663  DD 5E FC    	ld	e,(ix-4)
4470  1666  DD 56 FD    	ld	d,(ix-3)
4471  1669  AF          	xor	a,a
4472  166A  21 04 00    	ld	hl,+(_initials + 0x0004)
4473  166D              l_game_hall_enter_00191:
4474  166D  BE          	cp	a, (hl)
4475  166E  ED A0       	ldi
4476  1670  20 FB       	jr	NZ, l_game_hall_enter_00191
4477  1672              l_game_hall_enter_00119:
4478  1672  3A 00 00    	ld	a,(_dirs)
4479  1675  DD 77 FA    	ld	(ix-6),a
4480  1678  C3 AD 15    	jp	l_game_hall_enter_00122
4481  167B              l_game_hall_enter_00124:
4482  167B  CD 00 00    	call	_ay_reset
4483  167E  CD 00 00    	call	_spr_draw_clear
4484  1681  01 CB 14    	ld	bc,_compare_scores
4485  1684  C5          	push	bc
4486  1685  21 06 00    	ld	hl,0x0006
4487  1688  E5          	push	hl
4488  1689  2E 0A       	ld	l,0x0a
4489  168B  E5          	push	hl
4490  168C  21 00 00    	ld	hl,_hof
4491  168F  E5          	push	hl
4492  1690  CD 00 00    	call	__insertion_sort__callee
4493  1693              l_game_hall_enter_00126:
4494  1693  CD A1 18    	call	_game_hall_of_fame
4495  1696  2E 00       	ld	l,0x00
4496  1698  CD A0 16    	call	_game_menu_back
4497  169B  DD F9       	ld	sp, ix
4498  169D  DD E1       	pop	ix
4499  169F  C9          	ret
4500  16A0              	SECTION rodata_compiler
4501  01E1              ___str_47:
4502  01E1  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4503  01ED  00          	DEFB 0x00
4504  01EE              	SECTION rodata_compiler
4505  01EE              ___str_48:
4506  01EE  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4507  0200  00          	DEFB 0x00
4508  0201              	SECTION rodata_compiler
4509  0201              ___str_49:
4510  0201  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4511  0214  00          	DEFB 0x00
4512  0215              	SECTION code_compiler
4513  16A0              ;	---------------------------------
4514  16A0              ; Function game_menu_back
4515  16A0              ; ---------------------------------
4516  16A0              _game_menu_back:
4517  16A0  7D          	ld	a,l
4518  16A1  32 00 00    	ld	(_s_lin1),a
4519  16A4  21 00 00    	ld	hl,_game_menu_sel
4520  16A7  36 00       	ld	(hl),0x00
4521  16A9  CD 9B 0F    	call	_game_menu_top_paint
4522  16AC  CD 0F 10    	call	_game_menu_paint
4523  16AF  2A 00 00    	ld	hl,(_curr_time)
4524  16B2  22 00 00    	ld	(_entry_time),hl
4525  16B5  C9          	ret
4526  16B6              	SECTION code_compiler
4527  16B6              ;	---------------------------------
4528  16B6              ; Function game_hall_enter_phs
4529  16B6              ; ---------------------------------
4530  16B6              _game_hall_enter_phs:
4531  16B6  7D          	ld	a,l
4532  16B7  B7          	or	a, a
4533  16B8  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4534  16BA  21 9C 01    	ld	hl,0x019c
4535  16BD  E5          	push	hl
4536  16BE  21 02 0C    	ld	hl,0x0c02
4537  16C1  E5          	push	hl
4538  16C2  3E 30       	ld	a,0x30
4539  16C4  F5          	push	af
4540  16C5  33          	inc	sp
4541  16C6  CD 8A 10    	call	_game_menu_e
4542  16C9  F1          	pop	af
4543  16CA  33          	inc	sp
4544  16CB  21 9F FF    	ld	hl,0xff9f
4545  16CE  E3          	ex	(sp),hl
4546  16CF  21 02 0C    	ld	hl,0x0c02
4547  16D2  E5          	push	hl
4548  16D3  3E 7C       	ld	a,0x7c
4549  16D5  F5          	push	af
4550  16D6  33          	inc	sp
4551  16D7  CD 8A 10    	call	_game_menu_e
4552  16DA  F1          	pop	af
4553  16DB  33          	inc	sp
4554  16DC  21 15 02    	ld	hl,___str_50
4555  16DF  E3          	ex	(sp),hl
4556  16E0  21 07 05    	ld	hl,0x0507
4557  16E3  E5          	push	hl
4558  16E4  CD 00 00    	call	_zx_print_str
4559  16E7  21 1A 02    	ld	hl,___str_51
4560  16EA  E5          	push	hl
4561  16EB  21 08 05    	ld	hl,0x0508
4562  16EE  E5          	push	hl
4563  16EF  CD 00 00    	call	_zx_print_str
4564  16F2  18 38       	jr	l_game_hall_enter_phs_00104
4565  16F4              l_game_hall_enter_phs_00102:
4566  16F4  21 9C 01    	ld	hl,0x019c
4567  16F7  E5          	push	hl
4568  16F8  21 12 1C    	ld	hl,0x1c12
4569  16FB  E5          	push	hl
4570  16FC  3E 30       	ld	a,0x30
4571  16FE  F5          	push	af
4572  16FF  33          	inc	sp
4573  1700  CD 8A 10    	call	_game_menu_e
4574  1703  F1          	pop	af
4575  1704  33          	inc	sp
4576  1705  21 9F FF    	ld	hl,0xff9f
4577  1708  E3          	ex	(sp),hl
4578  1709  21 12 1C    	ld	hl,0x1c12
4579  170C  E5          	push	hl
4580  170D  3E 7C       	ld	a,0x7c
4581  170F  F5          	push	af
4582  1710  33          	inc	sp
4583  1711  CD 8A 10    	call	_game_menu_e
4584  1714  F1          	pop	af
4585  1715  33          	inc	sp
4586  1716  21 15 02    	ld	hl,___str_50
4587  1719  E3          	ex	(sp),hl
4588  171A  21 07 15    	ld	hl,0x1507
4589  171D  E5          	push	hl
4590  171E  CD 00 00    	call	_zx_print_str
4591  1721  21 1A 02    	ld	hl,___str_51
4592  1724  E5          	push	hl
4593  1725  21 08 15    	ld	hl,0x1508
4594  1728  E5          	push	hl
4595  1729  CD 00 00    	call	_zx_print_str
4596  172C              l_game_hall_enter_phs_00104:
4597  172C  C9          	ret
4598  172D              	SECTION rodata_compiler
4599  0215              ___str_50:
4600  0215  48 49 47 48 	DEFM "HIGH"
4601  0219  00          	DEFB 0x00
4602  021A              	SECTION rodata_compiler
4603  021A              ___str_51:
4604  021A  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4605  0220  00          	DEFB 0x00
4606  0221              	SECTION code_compiler
4607  172D              ;	---------------------------------
4608  172D              ; Function game_hall_print_p
4609  172D              ; ---------------------------------
4610  172D              _game_hall_print_p:
4611  172D  CD 00 00    	call	___sdcc_enter_ix
4612  1730  DD 7E 04    	ld	a,(ix+4)
4613  1733  D6 05       	sub	a,0x05
4614  1735  30 59       	jr	NC,l_game_hall_print_p_00108
4615  1737  21 00 00    	ld	hl,_initials
4616  173A  E5          	push	hl
4617  173B  21 0D 06    	ld	hl,0x060d
4618  173E  E5          	push	hl
4619  173F  CD 00 00    	call	_zx_print_str
4620  1742  DD 7E 04    	ld	a,(ix+4)
4621  1745  C6 06       	add	a,0x06
4622  1747  47          	ld	b,a
4623  1748  DD 7E 04    	ld	a,(ix+4)
4624  174B  C6 05       	add	a,0x05
4625  174D  57          	ld	d,a
4626  174E  3E 70       	ld	a,0x70
4627  1750  F5          	push	af
4628  1751  33          	inc	sp
4629  1752  4A          	ld	c, d
4630  1753  C5          	push	bc
4631  1754  CD F1 0C    	call	_game_paint_attrib_lin_h
4632  1757  F1          	pop	af
4633  1758  33          	inc	sp
4634  1759  76          	halt
4635  175A  DD 7E 05    	ld	a,(ix+5)
4636  175D  B7          	or	a, a
4637  175E  28 18       	jr	Z,l_game_hall_print_p_00102
4638  1760  21 56 06    	ld	hl,0x0656
4639  1763  E5          	push	hl
4640  1764  3E A9       	ld	a,0xa9
4641  1766  F5          	push	af
4642  1767  33          	inc	sp
4643  1768  CD 00 00    	call	_NIRVANAP_drawT_callee
4644  176B  21 58 06    	ld	hl,0x0658
4645  176E  E5          	push	hl
4646  176F  3E 03       	ld	a,0x03
4647  1771  F5          	push	af
4648  1772  33          	inc	sp
4649  1773  CD 00 00    	call	_NIRVANAP_drawT_callee
4650  1776  18 70       	jr	l_game_hall_print_p_00110
4651  1778              l_game_hall_print_p_00102:
4652  1778  21 58 06    	ld	hl,0x0658
4653  177B  E5          	push	hl
4654  177C  3E A9       	ld	a,0xa9
4655  177E  F5          	push	af
4656  177F  33          	inc	sp
4657  1780  CD 00 00    	call	_NIRVANAP_drawT_callee
4658  1783  21 56 06    	ld	hl,0x0656
4659  1786  E5          	push	hl
4660  1787  3E 16       	ld	a,0x16
4661  1789  F5          	push	af
4662  178A  33          	inc	sp
4663  178B  CD 00 00    	call	_NIRVANAP_drawT_callee
4664  178E  18 58       	jr	l_game_hall_print_p_00110
4665  1790              l_game_hall_print_p_00108:
4666  1790  21 04 00    	ld	hl,+(_initials + 0x0004)
4667  1793  E5          	push	hl
4668  1794  21 0D 16    	ld	hl,0x160d
4669  1797  E5          	push	hl
4670  1798  CD 00 00    	call	_zx_print_str
4671  179B  DD 7E 04    	ld	a,(ix+4)
4672  179E  C6 12       	add	a,0x12
4673  17A0  57          	ld	d,a
4674  17A1  DD 7E 04    	ld	a,(ix+4)
4675  17A4  C6 11       	add	a,0x11
4676  17A6  47          	ld	b,a
4677  17A7  3E 70       	ld	a,0x70
4678  17A9  5A          	ld	e,d
4679  17AA  57          	ld	d,a
4680  17AB  D5          	push	de
4681  17AC  C5          	push	bc
4682  17AD  33          	inc	sp
4683  17AE  CD F1 0C    	call	_game_paint_attrib_lin_h
4684  17B1  F1          	pop	af
4685  17B2  33          	inc	sp
4686  17B3  76          	halt
4687  17B4  DD 7E 05    	ld	a,(ix+5)
4688  17B7  B7          	or	a, a
4689  17B8  28 18       	jr	Z,l_game_hall_print_p_00105
4690  17BA  21 56 17    	ld	hl,0x1756
4691  17BD  E5          	push	hl
4692  17BE  3E A9       	ld	a,0xa9
4693  17C0  F5          	push	af
4694  17C1  33          	inc	sp
4695  17C2  CD 00 00    	call	_NIRVANAP_drawT_callee
4696  17C5  21 58 17    	ld	hl,0x1758
4697  17C8  E5          	push	hl
4698  17C9  3E 27       	ld	a,0x27
4699  17CB  F5          	push	af
4700  17CC  33          	inc	sp
4701  17CD  CD 00 00    	call	_NIRVANAP_drawT_callee
4702  17D0  18 16       	jr	l_game_hall_print_p_00110
4703  17D2              l_game_hall_print_p_00105:
4704  17D2  21 58 17    	ld	hl,0x1758
4705  17D5  E5          	push	hl
4706  17D6  3E A9       	ld	a,0xa9
4707  17D8  F5          	push	af
4708  17D9  33          	inc	sp
4709  17DA  CD 00 00    	call	_NIRVANAP_drawT_callee
4710  17DD  21 56 17    	ld	hl,0x1756
4711  17E0  E5          	push	hl
4712  17E1  3E 2E       	ld	a,0x2e
4713  17E3  F5          	push	af
4714  17E4  33          	inc	sp
4715  17E5  CD 00 00    	call	_NIRVANAP_drawT_callee
4716  17E8              l_game_hall_print_p_00110:
4717  17E8  DD E1       	pop	ix
4718  17EA  C9          	ret
4719  17EB              	SECTION code_compiler
4720  17EB              ;	---------------------------------
4721  17EB              ; Function game_hall_edit_p
4722  17EB              ; ---------------------------------
4723  17EB              _game_hall_edit_p:
4724  17EB  CD 00 00    	call	___sdcc_enter_ix
4725  17EE  F5          	push	af
4726  17EF  4D          	ld	c,l
4727  17F0  0D          	dec	c
4728  17F1  3A 00 00    	ld	a,(_dirs)
4729  17F4  07          	rlca
4730  17F5  30 63       	jr	NC,l_game_hall_edit_p_00120
4731  17F7  79          	ld	a,c
4732  17F8  FE 04       	cp	a,0x04
4733  17FA  30 17       	jr	NC,l_game_hall_edit_p_00102
4734  17FC  C6 07       	add	a,0x07
4735  17FE  57          	ld	d,a
4736  17FF  79          	ld	a,c
4737  1800  C6 06       	add	a,0x06
4738  1802  47          	ld	b,a
4739  1803  C5          	push	bc
4740  1804  3E 70       	ld	a,0x70
4741  1806  5A          	ld	e,d
4742  1807  57          	ld	d,a
4743  1808  D5          	push	de
4744  1809  C5          	push	bc
4745  180A  33          	inc	sp
4746  180B  CD CA 0C    	call	_game_paint_attrib_lin
4747  180E  F1          	pop	af
4748  180F  33          	inc	sp
4749  1810  C1          	pop	bc
4750  1811  18 16       	jr	l_game_hall_edit_p_00103
4751  1813              l_game_hall_edit_p_00102:
4752  1813  79          	ld	a,c
4753  1814  C6 13       	add	a,0x13
4754  1816  57          	ld	d,a
4755  1817  79          	ld	a,c
4756  1818  C6 12       	add	a,0x12
4757  181A  47          	ld	b,a
4758  181B  C5          	push	bc
4759  181C  3E 70       	ld	a,0x70
4760  181E  5A          	ld	e,d
4761  181F  57          	ld	d,a
4762  1820  D5          	push	de
4763  1821  C5          	push	bc
4764  1822  33          	inc	sp
4765  1823  CD CA 0C    	call	_game_paint_attrib_lin
4766  1826  F1          	pop	af
4767  1827  33          	inc	sp
4768  1828  C1          	pop	bc
4769  1829              l_game_hall_edit_p_00103:
4770  1829  C5          	push	bc
4771  182A  CD 00 00    	call	_sound_slide
4772  182D  C1          	pop	bc
4773  182E  21 00 00    	ld	hl,_ay_effect_01
4774  1831  CD 00 00    	call	_ay_fx_play
4775  1834  11 00 00    	ld	de,_initials+0
4776  1837  41          	ld	b,c
4777  1838  0C          	inc	c
4778  1839  68          	ld	l,b
4779  183A  26 00       	ld	h,0x00
4780  183C  19          	add	hl,de
4781  183D  7E          	ld	a,(hl)
4782  183E  D6 7B       	sub	a,0x7b
4783  1840  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4784  1842  0D          	dec	c
4785  1843  79          	ld	a,c
4786  1844  E6 03       	and	a,0x03
4787  1846  28 08       	jr	Z,l_game_hall_edit_p_00107
4788  1848  41          	ld	b,c
4789  1849  0D          	dec	c
4790  184A  68          	ld	l,b
4791  184B  26 00       	ld	h,0x00
4792  184D  19          	add	hl,de
4793  184E  36 41       	ld	(hl),0x41
4794  1850              l_game_hall_edit_p_00107:
4795  1850  79          	ld	a,c
4796  1851  E6 03       	and	a,0x03
4797  1853  D6 03       	sub	a,0x03
4798  1855  20 44       	jr	NZ,l_game_hall_edit_p_00121
4799  1857  6F          	ld	l,a
4800  1858  18 43       	jr	l_game_hall_edit_p_00122
4801  185A              l_game_hall_edit_p_00120:
4802  185A  3A 00 00    	ld	a,(_dirs)
4803  185D  E6 0C       	and	a,0x0c
4804  185F  28 3A       	jr	Z,l_game_hall_edit_p_00121
4805  1861  11 00 00    	ld	de,_hall_valids
4806  1864  3E 00       	ld	a,+((_initials) & 0xFF)
4807  1866  81          	add	a, c
4808  1867  DD 77 FE    	ld	(ix-2),a
4809  186A  3E 00       	ld	a,+((_initials) / 256)
4810  186C  CE 00       	adc	a,0x00
4811  186E  DD 77 FF    	ld	(ix-1),a
4812  1871  E1          	pop	hl
4813  1872  46          	ld	b,(hl)
4814  1873  E5          	push	hl
4815  1874              l_game_hall_edit_p_00168:
4816  1874  1A          	ld	a, (de)
4817  1875  B8          	cp	a, b
4818  1876  28 06       	jr	Z,l_game_hall_edit_p_00167
4819  1878  B7          	or	a, a
4820  1879  13          	inc	de
4821  187A  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4822  187C  5F          	ld	e, a
4823  187D  57          	ld	d, a
4824  187E              l_game_hall_edit_p_00167:
4825  187E  3A 00 00    	ld	a,(_dirs)
4826  1881  E6 04       	and	a,0x04
4827  1883  28 0A       	jr	Z,l_game_hall_edit_p_00115
4828  1885  1B          	dec	de
4829  1886  1A          	ld	a,(de)
4830  1887  3D          	dec	a
4831  1888  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4832  188A  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4833  188D  18 08       	jr	l_game_hall_edit_p_00116
4834  188F              l_game_hall_edit_p_00115:
4835  188F  13          	inc	de
4836  1890  1A          	ld	a,(de)
4837  1891  B7          	or	a, a
4838  1892  20 03       	jr	NZ,l_game_hall_edit_p_00116
4839  1894  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4840  1897              l_game_hall_edit_p_00116:
4841  1897  E1          	pop	hl
4842  1898  1A          	ld	a,(de)
4843  1899  E5          	push	hl
4844  189A  77          	ld	(hl),a
4845  189B              l_game_hall_edit_p_00121:
4846  189B  0C          	inc	c
4847  189C  69          	ld	l,c
4848  189D              l_game_hall_edit_p_00122:
4849  189D  F1          	pop	af
4850  189E  DD E1       	pop	ix
4851  18A0  C9          	ret
4852  18A1              	SECTION code_compiler
4853  18A1              ;	---------------------------------
4854  18A1              ; Function game_hall_of_fame
4855  18A1              ; ---------------------------------
4856  18A1              _game_hall_of_fame:
4857  18A1  CD 00 00    	call	_spr_draw_clear
4858  18A4  2E 00       	ld	l,0x00
4859  18A6  CD A6 0C    	call	_game_paint_attrib
4860  18A9  21 9C 01    	ld	hl,0x019c
4861  18AC  E5          	push	hl
4862  18AD  21 06 18    	ld	hl,0x1806
4863  18B0  E5          	push	hl
4864  18B1  3E 10       	ld	a,0x10
4865  18B3  F5          	push	af
4866  18B4  33          	inc	sp
4867  18B5  CD 8A 10    	call	_game_menu_e
4868  18B8  F1          	pop	af
4869  18B9  33          	inc	sp
4870  18BA  21 9F FF    	ld	hl,0xff9f
4871  18BD  E3          	ex	(sp),hl
4872  18BE  21 06 18    	ld	hl,0x1806
4873  18C1  E5          	push	hl
4874  18C2  3E 98       	ld	a,0x98
4875  18C4  F5          	push	af
4876  18C5  33          	inc	sp
4877  18C6  CD 8A 10    	call	_game_menu_e
4878  18C9  F1          	pop	af
4879  18CA  F1          	pop	af
4880  18CB  33          	inc	sp
4881  18CC  21 00 00    	ld	hl,_s_lin1
4882  18CF  36 00       	ld	(hl),0x00
4883  18D1              l_game_hall_of_fame_00102:
4884  18D1  21 00 00    	ld	hl,_screen_ink
4885  18D4  36 05       	ld	(hl),0x05
4886  18D6  2A 00 00    	ld	hl,(_s_lin1)
4887  18D9  26 00       	ld	h,0x00
4888  18DB  4D          	ld	c,l
4889  18DC  44          	ld	b,h
4890  18DD  29          	add	hl, hl
4891  18DE  09          	add	hl, bc
4892  18DF  29          	add	hl, hl
4893  18E0  01 00 00    	ld	bc,_hof
4894  18E3  09          	add	hl,bc
4895  18E4  3A 00 00    	ld	a,(_s_lin1)
4896  18E7  EB          	ex	de,hl
4897  18E8  C6 07       	add	a,0x07
4898  18EA  47          	ld	b,a
4899  18EB  D5          	push	de
4900  18EC  3E 0A       	ld	a,0x0a
4901  18EE  48          	ld	c,b
4902  18EF  47          	ld	b,a
4903  18F0  C5          	push	bc
4904  18F1  CD 00 00    	call	_zx_print_str
4905  18F4  2A 00 00    	ld	hl,(_s_lin1)
4906  18F7  26 00       	ld	h,0x00
4907  18F9  4D          	ld	c,l
4908  18FA  44          	ld	b,h
4909  18FB  29          	add	hl, hl
4910  18FC  09          	add	hl, bc
4911  18FD  29          	add	hl, hl
4912  18FE  01 00 00    	ld	bc,_hof
4913  1901  09          	add	hl,bc
4914  1902  11 04 00    	ld	de,0x0004
4915  1905  19          	add	hl, de
4916  1906  5E          	ld	e,(hl)
4917  1907  23          	inc	hl
4918  1908  56          	ld	d,(hl)
4919  1909  3A 00 00    	ld	a,(_s_lin1)
4920  190C  C6 07       	add	a,0x07
4921  190E  47          	ld	b,a
4922  190F  D5          	push	de
4923  1910  3E 10       	ld	a,0x10
4924  1912  48          	ld	c,b
4925  1913  47          	ld	b,a
4926  1914  C5          	push	bc
4927  1915  CD 00 00    	call	_zx_print_int
4928  1918  11 21 02    	ld	de,___str_52
4929  191B  3A 00 00    	ld	a,(_s_lin1)
4930  191E  C6 07       	add	a,0x07
4931  1920  47          	ld	b,a
4932  1921  D5          	push	de
4933  1922  3E 0E       	ld	a,0x0e
4934  1924  48          	ld	c,b
4935  1925  47          	ld	b,a
4936  1926  C5          	push	bc
4937  1927  CD 00 00    	call	_zx_print_str
4938  192A  11 23 02    	ld	de,___str_53
4939  192D  3A 00 00    	ld	a,(_s_lin1)
4940  1930  C6 07       	add	a,0x07
4941  1932  47          	ld	b,a
4942  1933  D5          	push	de
4943  1934  3E 15       	ld	a,0x15
4944  1936  48          	ld	c,b
4945  1937  47          	ld	b,a
4946  1938  C5          	push	bc
4947  1939  CD 00 00    	call	_zx_print_str
4948  193C  21 00 00    	ld	hl,_s_lin1
4949  193F  7E          	ld	a,(hl)
4950  1940  3C          	inc	a
4951  1941  77          	ld	(hl),a
4952  1942  D6 0A       	sub	a,0x0a
4953  1944  38 8B       	jr	C,l_game_hall_of_fame_00102
4954  1946  21 25 02    	ld	hl,___str_54
4955  1949  E5          	push	hl
4956  194A  21 04 0A    	ld	hl,0x0a04
4957  194D  E5          	push	hl
4958  194E  CD 00 00    	call	_zx_print_str
4959  1951  21 F4 01    	ld	hl,0x01f4
4960  1954  E5          	push	hl
4961  1955  21 0A 16    	ld	hl,0x160a
4962  1958  E5          	push	hl
4963  1959  3E 04       	ld	a,0x04
4964  195B  F5          	push	af
4965  195C  33          	inc	sp
4966  195D  CD 8E 19    	call	_game_colour_message
4967  1960  F1          	pop	af
4968  1961  F1          	pop	af
4969  1962  33          	inc	sp
4970  1963  CD 00 00    	call	_spr_draw_clear
4971  1966  21 00 00    	ld	hl,_game_menu_sel
4972  1969  36 00       	ld	(hl),0x00
4973  196B  21 00 00    	ld	hl,_pb_midi_title
4974  196E  CD 00 00    	call	_ay_midi_play
4975  1971  C9          	ret
4976  1972              	SECTION rodata_compiler
4977  0221              ___str_52:
4978  0221  2D          	DEFM "-"
4979  0222  00          	DEFB 0x00
4980  0223              	SECTION rodata_compiler
4981  0223              ___str_53:
4982  0223  30          	DEFM "0"
4983  0224  00          	DEFB 0x00
4984  0225              	SECTION rodata_compiler
4985  0225              ___str_54:
4986  0225  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4987  0231  00          	DEFB 0x00
4988  0232              	SECTION code_compiler
4989  1972              ;	---------------------------------
4990  1972              ; Function game_rotate_attrib
4991  1972              ; ---------------------------------
4992  1972              _game_rotate_attrib:
4993  1972  01 03 00    	ld	bc,_attrib_hl + 3
4994  1975  0A          	ld	a,(bc)
4995  1976  32 00 00    	ld	(_tmp_uc),a
4996  1979  11 02 00    	ld	de,_attrib_hl + 2
4997  197C  1A          	ld	a,(de)
4998  197D  02          	ld	(bc),a
4999  197E  01 01 00    	ld	bc,_attrib_hl + 1
5000  1981  0A          	ld	a,(bc)
5001  1982  12          	ld	(de),a
5002  1983  3A 00 00    	ld	a,(_attrib_hl)
5003  1986  02          	ld	(bc),a
5004  1987  3A 00 00    	ld	a,(_tmp_uc)
5005  198A  32 00 00    	ld	(_attrib_hl),a
5006  198D  C9          	ret
5007  198E              	SECTION code_compiler
5008  198E              ;	---------------------------------
5009  198E              ; Function game_colour_message
5010  198E              ; ---------------------------------
5011  198E              _game_colour_message:
5012  198E  CD 00 00    	call	___sdcc_enter_ix
5013  1991  3B          	dec	sp
5014  1992  21 00 00    	ld	hl,_tmp
5015  1995  36 01       	ld	(hl),0x01
5016  1997  2A 00 00    	ld	hl,(_curr_time)
5017  199A  22 00 00    	ld	(_frame_time),hl
5018  199D  2A 00 00    	ld	hl,(_curr_time)
5019  19A0  22 00 00    	ld	(_entry_time),hl
5020  19A3  DD 7E 04    	ld	a,(ix+4)
5021  19A6  07          	rlca
5022  19A7  07          	rlca
5023  19A8  07          	rlca
5024  19A9  E6 F8       	and	a,0xf8
5025  19AB  C6 08       	add	a,0x08
5026  19AD  DD 77 FF    	ld	(ix-1),a
5027  19B0              l_game_colour_message_00107:
5028  19B0  3A 00 00    	ld	a,(_tmp)
5029  19B3  B7          	or	a, a
5030  19B4  28 66       	jr	Z,l_game_colour_message_00110
5031  19B6  DD 6E 07    	ld	l,(ix+7)
5032  19B9  DD 66 08    	ld	h,(ix+8)
5033  19BC  E5          	push	hl
5034  19BD  2A 00 00    	ld	hl,(_entry_time)
5035  19C0  E5          	push	hl
5036  19C1  CD 20 1A    	call	_game_check_time
5037  19C4  F1          	pop	af
5038  19C5  F1          	pop	af
5039  19C6  7D          	ld	a,l
5040  19C7  B7          	or	a, a
5041  19C8  20 52       	jr	NZ,l_game_colour_message_00110
5042  19CA  21 05 00    	ld	hl,0x0005
5043  19CD  E5          	push	hl
5044  19CE  2A 00 00    	ld	hl,(_frame_time)
5045  19D1  E5          	push	hl
5046  19D2  CD 20 1A    	call	_game_check_time
5047  19D5  F1          	pop	af
5048  19D6  F1          	pop	af
5049  19D7  7D          	ld	a,l
5050  19D8  B7          	or	a, a
5051  19D9  28 1A       	jr	Z,l_game_colour_message_00103
5052  19DB  2A 00 00    	ld	hl,(_curr_time)
5053  19DE  22 00 00    	ld	(_frame_time),hl
5054  19E1  DD 66 FF    	ld	h,(ix-1)
5055  19E4  DD 6E 06    	ld	l,(ix+6)
5056  19E7  E5          	push	hl
5057  19E8  DD 7E 05    	ld	a,(ix+5)
5058  19EB  F5          	push	af
5059  19EC  33          	inc	sp
5060  19ED  CD F1 0C    	call	_game_paint_attrib_lin_h
5061  19F0  F1          	pop	af
5062  19F1  33          	inc	sp
5063  19F2  CD 72 19    	call	_game_rotate_attrib
5064  19F5              l_game_colour_message_00103:
5065  19F5  21 00 00    	ld	hl,_k1
5066  19F8  E5          	push	hl
5067  19F9  2A 00 00    	ld	hl,(_joyfunc1)
5068  19FC  CD 00 00    	call	___sdcc_call_hl
5069  19FF  E3          	ex	(sp),hl
5070  1A00  21 00 00    	ld	hl,_k2
5071  1A03  E5          	push	hl
5072  1A04  2A 00 00    	ld	hl,(_joyfunc2)
5073  1A07  CD 00 00    	call	___sdcc_call_hl
5074  1A0A  F1          	pop	af
5075  1A0B  EB          	ex	de,hl
5076  1A0C  C1          	pop	bc
5077  1A0D  79          	ld	a,c
5078  1A0E  B3          	or	a, e
5079  1A0F  4F          	ld	c,a
5080  1A10  78          	ld	a,b
5081  1A11  B2          	or	a, d
5082  1A12  B1          	or	a,c
5083  1A13  28 9B       	jr	Z,l_game_colour_message_00107
5084  1A15  21 00 00    	ld	hl,_tmp
5085  1A18  36 00       	ld	(hl),0x00
5086  1A1A  18 D9       	jr	l_game_colour_message_00103
5087  1A1C              l_game_colour_message_00110:
5088  1A1C  33          	inc	sp
5089  1A1D  DD E1       	pop	ix
5090  1A1F  C9          	ret
5091  1A20              	SECTION code_compiler
5092  1A20              ;	---------------------------------
5093  1A20              ; Function game_check_time
5094  1A20              ; ---------------------------------
5095  1A20              _game_check_time:
5096  1A20  CD 00 00    	call	___sdcc_enter_ix
5097  1A23  2A 00 00    	ld	hl,(_curr_time)
5098  1A26  7D          	ld	a,l
5099  1A27  DD 96 04    	sub	a,(ix+4)
5100  1A2A  4F          	ld	c,a
5101  1A2B  7C          	ld	a,h
5102  1A2C  DD 9E 05    	sbc	a,(ix+5)
5103  1A2F  47          	ld	b,a
5104  1A30  DD 7E 06    	ld	a,(ix+6)
5105  1A33  91          	sub	a, c
5106  1A34  DD 7E 07    	ld	a,(ix+7)
5107  1A37  98          	sbc	a, b
5108  1A38  30 04       	jr	NC,l_game_check_time_00102
5109  1A3A  2E 01       	ld	l,0x01
5110  1A3C  18 02       	jr	l_game_check_time_00104
5111  1A3E              l_game_check_time_00102:
5112  1A3E  2E 00       	ld	l,0x00
5113  1A40              l_game_check_time_00104:
5114  1A40  DD E1       	pop	ix
5115  1A42  C9          	ret
5116  1A43              	SECTION IGNORE
5117  0000              
