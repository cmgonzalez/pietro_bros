1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_clear
244   0000              	GLOBAL _spr_water_splash_draw
245   0000              	GLOBAL _spr_water_splash_clear
246   0000              	GLOBAL _spr_draw_back
247   0000              	GLOBAL _spr_cortina_pipes
248   0000              	GLOBAL _spr_cortina_brick
249   0000              	GLOBAL _spr_brick_anim
250   0000              	GLOBAL _spr_back_fix4
251   0000              	GLOBAL _spr_back_fix3
252   0000              	GLOBAL _spr_back_fix2
253   0000              	GLOBAL _spr_back_fix1
254   0000              	GLOBAL _spr_back_fix
255   0000              	GLOBAL _spr_back_clr
256   0000              	GLOBAL _spr_draw_pow
257   0000              	GLOBAL _spr_tile
258   0000              	GLOBAL _spr_set_fall
259   0000              	GLOBAL _spr_destroy
260   0000              	GLOBAL _spr_check_over
261   0000              	GLOBAL _spr_tile_dir
262   0000              	GLOBAL _spr_anim_kill
263   0000              	GLOBAL _spr_anim_fall
264   0000              	GLOBAL _spr_killed
265   0000              	GLOBAL _spr_redraw
266   0000              	GLOBAL _spr_move_left
267   0000              	GLOBAL _spr_move_right
268   0000              	GLOBAL _spr_move_horizontal
269   0000              	GLOBAL _spr_move_down
270   0000              	GLOBAL _spr_move_up
271   0000              	GLOBAL _spr_chktime
272   0000              	GLOBAL _sound_hit_pow
273   0000              	GLOBAL _sound_hit_brick
274   0000              	GLOBAL _sound_hit_enemy
275   0000              	GLOBAL _sound_kill
276   0000              	GLOBAL _sound_enter_enemy
277   0000              	GLOBAL _sound_coin
278   0000              	GLOBAL _sound_jump
279   0000              	GLOBAL _sound_slide
280   0000              	GLOBAL _player_move_horizontal
281   0000              	GLOBAL _player_push_check
282   0000              	GLOBAL _player_push
283   0000              	GLOBAL _player_hit_brick_clear
284   0000              	GLOBAL _player_lost_life
285   0000              	GLOBAL _player_score_add
286   0000              	GLOBAL _player_coin
287   0000              	GLOBAL _player_hit_pow
288   0000              	GLOBAL _player_hit_brick
289   0000              	GLOBAL _player_move_input
290   0000              	GLOBAL _player_turn
291   0000              	GLOBAL _player_move
292   0000              	GLOBAL _player_restart
293   0000              	GLOBAL _player_kill
294   0000              	GLOBAL _player_check_input
295   0000              	GLOBAL _player_collition_check
296   0000              	GLOBAL _player_collition
297   0000              	GLOBAL _player_calc_slide
298   0000              	GLOBAL _player_init
299   0000              	GLOBAL _player_set2
300   0000              	GLOBAL _player_set1
301   0000              	GLOBAL _game_fill_row
302   0000              	GLOBAL _enemy_kill
303   0000              	GLOBAL _enemy_init
304   0000              	GLOBAL _enemy_walk
305   0000              	GLOBAL _enemy_upgrade
306   0000              	GLOBAL _enemy_evolve
307   0000              	GLOBAL _enemy_standard_hit
308   0000              	GLOBAL _enemy_trip
309   0000              	GLOBAL _enemy_fighterfly
310   0000              	GLOBAL _enemy_fireball_green
311   0000              	GLOBAL _enemy_fireball_red
312   0000              	GLOBAL _enemy_slipice
313   0000              	GLOBAL _enemy_standard
314   0000              	GLOBAL _enemy_turn
315   0000              	GLOBAL _enemy_flip_sidestepper
316   0000              	GLOBAL _enemy_flip
317   0000              	GLOBAL _enemy_flip_change_dir
318   0000              	GLOBAL _enemy_hit
319   0000              	GLOBAL _enemy_collition_check
320   0000              	GLOBAL _enemy_collition
321   0000              	GLOBAL _enemy_coin1
322   0000              	GLOBAL _ay_fx_play
323   0000              	GLOBAL _ay_midi_play
324   0000              	GLOBAL _ay_is_playing
325   0000              	GLOBAL _ay_reset
326   0000              	GLOBAL _test_func
327   0000              	GLOBAL _in_mouse_kempston_wheel_delta
328   0000              	GLOBAL _in_mouse_kempston_wheel
329   0000              	GLOBAL _in_mouse_kempston_callee
330   0000              	GLOBAL _in_mouse_kempston
331   0000              	GLOBAL _in_mouse_kempston_setpos_callee
332   0000              	GLOBAL _in_mouse_kempston_setpos
333   0000              	GLOBAL _in_mouse_kempston_reset
334   0000              	GLOBAL _in_mouse_kempston_init
335   0000              	GLOBAL _in_mouse_amx_wheel_delta
336   0000              	GLOBAL _in_mouse_amx_wheel
337   0000              	GLOBAL _in_mouse_amx_callee
338   0000              	GLOBAL _in_mouse_amx
339   0000              	GLOBAL _in_mouse_amx_setpos_callee
340   0000              	GLOBAL _in_mouse_amx_setpos
341   0000              	GLOBAL _in_mouse_amx_reset
342   0000              	GLOBAL _in_mouse_amx_init_callee
343   0000              	GLOBAL _in_mouse_amx_init
344   0000              	GLOBAL _in_stick_sinclair2
345   0000              	GLOBAL _in_stick_sinclair1
346   0000              	GLOBAL _in_stick_kempston
347   0000              	GLOBAL _in_stick_fuller
348   0000              	GLOBAL _in_stick_cursor
349   0000              	GLOBAL _in_stick_keyboard_fastcall
350   0000              	GLOBAL _in_stick_keyboard
351   0000              	GLOBAL _in_wait_nokey
352   0000              	GLOBAL _in_wait_key
353   0000              	GLOBAL _in_test_key
354   0000              	GLOBAL _in_pause_fastcall
355   0000              	GLOBAL _in_pause
356   0000              	GLOBAL _in_key_scancode_fastcall
357   0000              	GLOBAL _in_key_scancode
358   0000              	GLOBAL _in_key_pressed_fastcall
359   0000              	GLOBAL _in_key_pressed
360   0000              	GLOBAL _in_inkey
361   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawTW_raw
363   0000              	GLOBAL _NIRVANAP_drawTW_callee
364   0000              	GLOBAL _NIRVANAP_drawTW
365   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawW_raw
367   0000              	GLOBAL _NIRVANAP_drawW_callee
368   0000              	GLOBAL _NIRVANAP_drawW
369   0000              	GLOBAL _NIRVANAP_spriteT_callee
370   0000              	GLOBAL _NIRVANAP_spriteT
371   0000              	GLOBAL _NIRVANAP_fillC_callee
372   0000              	GLOBAL _NIRVANAP_fillC
373   0000              	GLOBAL _NIRVANAP_readC_callee
374   0000              	GLOBAL _NIRVANAP_readC
375   0000              	GLOBAL _NIRVANAP_paintC_callee
376   0000              	GLOBAL _NIRVANAP_paintC
377   0000              	GLOBAL _NIRVANAP_printC_callee
378   0000              	GLOBAL _NIRVANAP_printC
379   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
380   0000              	GLOBAL _NIRVANAP_fillT_raw
381   0000              	GLOBAL _NIRVANAP_fillT_callee
382   0000              	GLOBAL _NIRVANAP_fillT
383   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
384   0000              	GLOBAL _NIRVANAP_drawT_raw
385   0000              	GLOBAL _NIRVANAP_drawT_callee
386   0000              	GLOBAL _NIRVANAP_drawT
387   0000              	GLOBAL _NIRVANAP_stop
388   0000              	GLOBAL _NIRVANAP_start
389   0000              	GLOBAL _z80_otdr_callee
390   0000              	GLOBAL _z80_otdr
391   0000              	GLOBAL _z80_otir_callee
392   0000              	GLOBAL _z80_otir
393   0000              	GLOBAL _z80_outp_callee
394   0000              	GLOBAL _z80_outp
395   0000              	GLOBAL _z80_indr_callee
396   0000              	GLOBAL _z80_indr
397   0000              	GLOBAL _z80_inir_callee
398   0000              	GLOBAL _z80_inir
399   0000              	GLOBAL _z80_inp_fastcall
400   0000              	GLOBAL _z80_inp
401   0000              	GLOBAL _z80_set_int_state_fastcall
402   0000              	GLOBAL _z80_set_int_state
403   0000              	GLOBAL _z80_get_int_state
404   0000              	GLOBAL _z80_delay_tstate_fastcall
405   0000              	GLOBAL _z80_delay_tstate
406   0000              	GLOBAL _z80_delay_ms_fastcall
407   0000              	GLOBAL _z80_delay_ms
408   0000              	GLOBAL _im2_remove_generic_callback_callee
409   0000              	GLOBAL _im2_remove_generic_callback
410   0000              	GLOBAL _im2_prepend_generic_callback_callee
411   0000              	GLOBAL _im2_prepend_generic_callback
412   0000              	GLOBAL _im2_append_generic_callback_callee
413   0000              	GLOBAL _im2_append_generic_callback
414   0000              	GLOBAL _im2_create_generic_isr_8080_callee
415   0000              	GLOBAL _im2_create_generic_isr_8080
416   0000              	GLOBAL _im2_create_generic_isr_callee
417   0000              	GLOBAL _im2_create_generic_isr
418   0000              	GLOBAL _im2_install_isr_callee
419   0000              	GLOBAL _im2_install_isr
420   0000              	GLOBAL _im2_init_fastcall
421   0000              	GLOBAL _im2_init
422   0000              	GLOBAL _ffsll_callee
423   0000              	GLOBAL _ffsll
424   0000              	GLOBAL _strxfrm_callee
425   0000              	GLOBAL _strxfrm
426   0000              	GLOBAL _strupr_fastcall
427   0000              	GLOBAL _strupr
428   0000              	GLOBAL _strtok_r_callee
429   0000              	GLOBAL _strtok_r
430   0000              	GLOBAL _strtok_callee
431   0000              	GLOBAL _strtok
432   0000              	GLOBAL _strstrip_fastcall
433   0000              	GLOBAL _strstrip
434   0000              	GLOBAL _strstr_callee
435   0000              	GLOBAL _strstr
436   0000              	GLOBAL _strspn_callee
437   0000              	GLOBAL _strspn
438   0000              	GLOBAL _strsep_callee
439   0000              	GLOBAL _strsep
440   0000              	GLOBAL _strrstrip_fastcall
441   0000              	GLOBAL _strrstrip
442   0000              	GLOBAL _strrspn_callee
443   0000              	GLOBAL _strrspn
444   0000              	GLOBAL _strrev_fastcall
445   0000              	GLOBAL _strrev
446   0000              	GLOBAL _strrcspn_callee
447   0000              	GLOBAL _strrcspn
448   0000              	GLOBAL _strrchr_callee
449   0000              	GLOBAL _strrchr
450   0000              	GLOBAL _strpbrk_callee
451   0000              	GLOBAL _strpbrk
452   0000              	GLOBAL _strnlen_callee
453   0000              	GLOBAL _strnlen
454   0000              	GLOBAL _strnicmp_callee
455   0000              	GLOBAL _strnicmp
456   0000              	GLOBAL _strndup_callee
457   0000              	GLOBAL _strndup
458   0000              	GLOBAL _strncpy_callee
459   0000              	GLOBAL _strncpy
460   0000              	GLOBAL _strncmp_callee
461   0000              	GLOBAL _strncmp
462   0000              	GLOBAL _strnchr_callee
463   0000              	GLOBAL _strnchr
464   0000              	GLOBAL _strncat_callee
465   0000              	GLOBAL _strncat
466   0000              	GLOBAL _strncasecmp_callee
467   0000              	GLOBAL _strncasecmp
468   0000              	GLOBAL _strlwr_fastcall
469   0000              	GLOBAL _strlwr
470   0000              	GLOBAL _strlen_fastcall
471   0000              	GLOBAL _strlen
472   0000              	GLOBAL _strlcpy_callee
473   0000              	GLOBAL _strlcpy
474   0000              	GLOBAL _strlcat_callee
475   0000              	GLOBAL _strlcat
476   0000              	GLOBAL _stricmp_callee
477   0000              	GLOBAL _stricmp
478   0000              	GLOBAL _strerror_fastcall
479   0000              	GLOBAL _strerror
480   0000              	GLOBAL _strdup_fastcall
481   0000              	GLOBAL _strdup
482   0000              	GLOBAL _strcspn_callee
483   0000              	GLOBAL _strcspn
484   0000              	GLOBAL _strcpy_callee
485   0000              	GLOBAL _strcpy
486   0000              	GLOBAL _strcoll_callee
487   0000              	GLOBAL _strcoll
488   0000              	GLOBAL _strcmp_callee
489   0000              	GLOBAL _strcmp
490   0000              	GLOBAL _strchrnul_callee
491   0000              	GLOBAL _strchrnul
492   0000              	GLOBAL _strchr_callee
493   0000              	GLOBAL _strchr
494   0000              	GLOBAL _strcat_callee
495   0000              	GLOBAL _strcat
496   0000              	GLOBAL _strcasecmp_callee
497   0000              	GLOBAL _strcasecmp
498   0000              	GLOBAL _stpncpy_callee
499   0000              	GLOBAL _stpncpy
500   0000              	GLOBAL _stpcpy_callee
501   0000              	GLOBAL _stpcpy
502   0000              	GLOBAL _memswap_callee
503   0000              	GLOBAL _memswap
504   0000              	GLOBAL _memset_callee
505   0000              	GLOBAL _memset
506   0000              	GLOBAL _memrchr_callee
507   0000              	GLOBAL _memrchr
508   0000              	GLOBAL _memmove_callee
509   0000              	GLOBAL _memmove
510   0000              	GLOBAL _memmem_callee
511   0000              	GLOBAL _memmem
512   0000              	GLOBAL _memcpy_callee
513   0000              	GLOBAL _memcpy
514   0000              	GLOBAL _memcmp_callee
515   0000              	GLOBAL _memcmp
516   0000              	GLOBAL _memchr_callee
517   0000              	GLOBAL _memchr
518   0000              	GLOBAL _memccpy_callee
519   0000              	GLOBAL _memccpy
520   0000              	GLOBAL _ffsl_fastcall
521   0000              	GLOBAL _ffsl
522   0000              	GLOBAL _ffs_fastcall
523   0000              	GLOBAL _ffs
524   0000              	GLOBAL __strrstrip__fastcall
525   0000              	GLOBAL __strrstrip_
526   0000              	GLOBAL __memupr__callee
527   0000              	GLOBAL __memupr_
528   0000              	GLOBAL __memstrcpy__callee
529   0000              	GLOBAL __memstrcpy_
530   0000              	GLOBAL __memlwr__callee
531   0000              	GLOBAL __memlwr_
532   0000              	GLOBAL _rawmemchr_callee
533   0000              	GLOBAL _rawmemchr
534   0000              	GLOBAL _strnset_callee
535   0000              	GLOBAL _strnset
536   0000              	GLOBAL _strset_callee
537   0000              	GLOBAL _strset
538   0000              	GLOBAL _rindex_callee
539   0000              	GLOBAL _rindex
540   0000              	GLOBAL _index_callee
541   0000              	GLOBAL _index
542   0000              	GLOBAL _bzero_callee
543   0000              	GLOBAL _bzero
544   0000              	GLOBAL _bcopy_callee
545   0000              	GLOBAL _bcopy
546   0000              	GLOBAL _bcmp_callee
547   0000              	GLOBAL _bcmp
548   0000              	GLOBAL _ulltoa_callee
549   0000              	GLOBAL _ulltoa
550   0000              	GLOBAL _strtoull_callee
551   0000              	GLOBAL _strtoull
552   0000              	GLOBAL _strtoll_callee
553   0000              	GLOBAL _strtoll
554   0000              	GLOBAL _lltoa_callee
555   0000              	GLOBAL _lltoa
556   0000              	GLOBAL _llabs_callee
557   0000              	GLOBAL _llabs
558   0000              	GLOBAL __lldivu__callee
559   0000              	GLOBAL __lldivu_
560   0000              	GLOBAL __lldiv__callee
561   0000              	GLOBAL __lldiv_
562   0000              	GLOBAL _atoll_callee
563   0000              	GLOBAL _atoll
564   0000              	GLOBAL _realloc_unlocked_callee
565   0000              	GLOBAL _realloc_unlocked
566   0000              	GLOBAL _malloc_unlocked_fastcall
567   0000              	GLOBAL _malloc_unlocked
568   0000              	GLOBAL _free_unlocked_fastcall
569   0000              	GLOBAL _free_unlocked
570   0000              	GLOBAL _calloc_unlocked_callee
571   0000              	GLOBAL _calloc_unlocked
572   0000              	GLOBAL _aligned_alloc_unlocked_callee
573   0000              	GLOBAL _aligned_alloc_unlocked
574   0000              	GLOBAL _realloc_callee
575   0000              	GLOBAL _realloc
576   0000              	GLOBAL _malloc_fastcall
577   0000              	GLOBAL _malloc
578   0000              	GLOBAL _free_fastcall
579   0000              	GLOBAL _free
580   0000              	GLOBAL _calloc_callee
581   0000              	GLOBAL _calloc
582   0000              	GLOBAL _aligned_alloc_callee
583   0000              	GLOBAL _aligned_alloc
584   0000              	GLOBAL _utoa_callee
585   0000              	GLOBAL _utoa
586   0000              	GLOBAL _ultoa_callee
587   0000              	GLOBAL _ultoa
588   0000              	GLOBAL _system_fastcall
589   0000              	GLOBAL _system
590   0000              	GLOBAL _strtoul_callee
591   0000              	GLOBAL _strtoul
592   0000              	GLOBAL _strtol_callee
593   0000              	GLOBAL _strtol
594   0000              	GLOBAL _strtof_callee
595   0000              	GLOBAL _strtof
596   0000              	GLOBAL _strtod_callee
597   0000              	GLOBAL _strtod
598   0000              	GLOBAL _srand_fastcall
599   0000              	GLOBAL _srand
600   0000              	GLOBAL _rand
601   0000              	GLOBAL _quick_exit_fastcall
602   0000              	GLOBAL _quick_exit
603   0000              	GLOBAL _qsort_callee
604   0000              	GLOBAL _qsort
605   0000              	GLOBAL _ltoa_callee
606   0000              	GLOBAL _ltoa
607   0000              	GLOBAL _labs_fastcall
608   0000              	GLOBAL _labs
609   0000              	GLOBAL _itoa_callee
610   0000              	GLOBAL _itoa
611   0000              	GLOBAL _ftoh_callee
612   0000              	GLOBAL _ftoh
613   0000              	GLOBAL _ftog_callee
614   0000              	GLOBAL _ftog
615   0000              	GLOBAL _ftoe_callee
616   0000              	GLOBAL _ftoe
617   0000              	GLOBAL _ftoa_callee
618   0000              	GLOBAL _ftoa
619   0000              	GLOBAL _exit_fastcall
620   0000              	GLOBAL _exit
621   0000              	GLOBAL _dtoh_callee
622   0000              	GLOBAL _dtoh
623   0000              	GLOBAL _dtog_callee
624   0000              	GLOBAL _dtog
625   0000              	GLOBAL _dtoe_callee
626   0000              	GLOBAL _dtoe
627   0000              	GLOBAL _dtoa_callee
628   0000              	GLOBAL _dtoa
629   0000              	GLOBAL _bsearch_callee
630   0000              	GLOBAL _bsearch
631   0000              	GLOBAL _atol_fastcall
632   0000              	GLOBAL _atol
633   0000              	GLOBAL _atoi_fastcall
634   0000              	GLOBAL _atoi
635   0000              	GLOBAL _atof_fastcall
636   0000              	GLOBAL _atof
637   0000              	GLOBAL _atexit_fastcall
638   0000              	GLOBAL _atexit
639   0000              	GLOBAL _at_quick_exit_fastcall
640   0000              	GLOBAL _at_quick_exit
641   0000              	GLOBAL _abs_fastcall
642   0000              	GLOBAL _abs
643   0000              	GLOBAL _abort
644   0000              	GLOBAL __strtou__callee
645   0000              	GLOBAL __strtou_
646   0000              	GLOBAL __strtoi__callee
647   0000              	GLOBAL __strtoi_
648   0000              	GLOBAL __random_uniform_xor_8__fastcall
649   0000              	GLOBAL __random_uniform_xor_8_
650   0000              	GLOBAL __random_uniform_xor_32__fastcall
651   0000              	GLOBAL __random_uniform_xor_32_
652   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
653   0000              	GLOBAL __random_uniform_cmwc_8_
654   0000              	GLOBAL __shellsort__callee
655   0000              	GLOBAL __shellsort_
656   0000              	GLOBAL __quicksort__callee
657   0000              	GLOBAL __quicksort_
658   0000              	GLOBAL __insertion_sort__callee
659   0000              	GLOBAL __insertion_sort_
660   0000              	GLOBAL __ldivu__callee
661   0000              	GLOBAL __ldivu_
662   0000              	GLOBAL __ldiv__callee
663   0000              	GLOBAL __ldiv_
664   0000              	GLOBAL __divu__callee
665   0000              	GLOBAL __divu_
666   0000              	GLOBAL __div__callee
667   0000              	GLOBAL __div_
668   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
669   0000              	GLOBAL _intrinsic_swap_word_32
670   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
671   0000              	GLOBAL _intrinsic_swap_endian_32
672   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
673   0000              	GLOBAL _intrinsic_swap_endian_16
674   0000              	GLOBAL _intrinsic_return_de
675   0000              	GLOBAL _intrinsic_return_bc
676   0000              	GLOBAL _intrinsic_exx
677   0000              	GLOBAL _intrinsic_ex_de_hl
678   0000              	GLOBAL _intrinsic_pop_iy
679   0000              	GLOBAL _intrinsic_pop_ix
680   0000              	GLOBAL _intrinsic_pop_hl
681   0000              	GLOBAL _intrinsic_pop_de
682   0000              	GLOBAL _intrinsic_pop_bc
683   0000              	GLOBAL _intrinsic_pop_af
684   0000              	GLOBAL _intrinsic_push_iy
685   0000              	GLOBAL _intrinsic_push_ix
686   0000              	GLOBAL _intrinsic_push_hl
687   0000              	GLOBAL _intrinsic_push_de
688   0000              	GLOBAL _intrinsic_push_bc
689   0000              	GLOBAL _intrinsic_push_af
690   0000              	GLOBAL _intrinsic_nop
691   0000              	GLOBAL _intrinsic_im_2
692   0000              	GLOBAL _intrinsic_im_1
693   0000              	GLOBAL _intrinsic_im_0
694   0000              	GLOBAL _intrinsic_retn
695   0000              	GLOBAL _intrinsic_reti
696   0000              	GLOBAL _intrinsic_halt
697   0000              	GLOBAL _intrinsic_ei
698   0000              	GLOBAL _intrinsic_di
699   0000              	GLOBAL _intrinsic_stub
700   0000              	GLOBAL _zx_pattern_fill_callee
701   0000              	GLOBAL _zx_pattern_fill
702   0000              	GLOBAL _zx_saddrpup_fastcall
703   0000              	GLOBAL _zx_saddrpup
704   0000              	GLOBAL _zx_saddrpright_callee
705   0000              	GLOBAL _zx_saddrpright
706   0000              	GLOBAL _zx_saddrpleft_callee
707   0000              	GLOBAL _zx_saddrpleft
708   0000              	GLOBAL _zx_saddrpdown_fastcall
709   0000              	GLOBAL _zx_saddrpdown
710   0000              	GLOBAL _zx_saddrcup_fastcall
711   0000              	GLOBAL _zx_saddrcup
712   0000              	GLOBAL _zx_saddrcright_fastcall
713   0000              	GLOBAL _zx_saddrcright
714   0000              	GLOBAL _zx_saddrcleft_fastcall
715   0000              	GLOBAL _zx_saddrcleft
716   0000              	GLOBAL _zx_saddrcdown_fastcall
717   0000              	GLOBAL _zx_saddrcdown
718   0000              	GLOBAL _zx_saddr2py_fastcall
719   0000              	GLOBAL _zx_saddr2py
720   0000              	GLOBAL _zx_saddr2px_fastcall
721   0000              	GLOBAL _zx_saddr2px
722   0000              	GLOBAL _zx_saddr2cy_fastcall
723   0000              	GLOBAL _zx_saddr2cy
724   0000              	GLOBAL _zx_saddr2cx_fastcall
725   0000              	GLOBAL _zx_saddr2cx
726   0000              	GLOBAL _zx_saddr2aaddr_fastcall
727   0000              	GLOBAL _zx_saddr2aaddr
728   0000              	GLOBAL _zx_py2saddr_fastcall
729   0000              	GLOBAL _zx_py2saddr
730   0000              	GLOBAL _zx_py2aaddr_fastcall
731   0000              	GLOBAL _zx_py2aaddr
732   0000              	GLOBAL _zx_pxy2saddr_callee
733   0000              	GLOBAL _zx_pxy2saddr
734   0000              	GLOBAL _zx_pxy2aaddr_callee
735   0000              	GLOBAL _zx_pxy2aaddr
736   0000              	GLOBAL _zx_px2bitmask_fastcall
737   0000              	GLOBAL _zx_px2bitmask
738   0000              	GLOBAL _zx_cyx2saddr_callee
739   0000              	GLOBAL _zx_cyx2saddr
740   0000              	GLOBAL _zx_cyx2aaddr_callee
741   0000              	GLOBAL _zx_cyx2aaddr
742   0000              	GLOBAL _zx_cy2saddr_fastcall
743   0000              	GLOBAL _zx_cy2saddr
744   0000              	GLOBAL _zx_cy2aaddr_fastcall
745   0000              	GLOBAL _zx_cy2aaddr
746   0000              	GLOBAL _zx_bitmask2px_fastcall
747   0000              	GLOBAL _zx_bitmask2px
748   0000              	GLOBAL _zx_aaddrcup_fastcall
749   0000              	GLOBAL _zx_aaddrcup
750   0000              	GLOBAL _zx_aaddrcright_fastcall
751   0000              	GLOBAL _zx_aaddrcright
752   0000              	GLOBAL _zx_aaddrcleft_fastcall
753   0000              	GLOBAL _zx_aaddrcleft
754   0000              	GLOBAL _zx_aaddrcdown_fastcall
755   0000              	GLOBAL _zx_aaddrcdown
756   0000              	GLOBAL _zx_aaddr2saddr_fastcall
757   0000              	GLOBAL _zx_aaddr2saddr
758   0000              	GLOBAL _zx_aaddr2py_fastcall
759   0000              	GLOBAL _zx_aaddr2py
760   0000              	GLOBAL _zx_aaddr2px_fastcall
761   0000              	GLOBAL _zx_aaddr2px
762   0000              	GLOBAL _zx_aaddr2cy_fastcall
763   0000              	GLOBAL _zx_aaddr2cy
764   0000              	GLOBAL _zx_aaddr2cx_fastcall
765   0000              	GLOBAL _zx_aaddr2cx
766   0000              	GLOBAL _zx_scroll_wc_up_callee
767   0000              	GLOBAL _zx_scroll_wc_up
768   0000              	GLOBAL _zx_scroll_up_callee
769   0000              	GLOBAL _zx_scroll_up
770   0000              	GLOBAL _zx_cls_wc_callee
771   0000              	GLOBAL _zx_cls_wc
772   0000              	GLOBAL _zx_cls_fastcall
773   0000              	GLOBAL _zx_cls
774   0000              	GLOBAL _zx_border_fastcall
775   0000              	GLOBAL _zx_border
776   0000              	GLOBAL _ay_effect_20
777   0000              	GLOBAL _ay_effect_19
778   0000              	GLOBAL _ay_effect_18
779   0000              	GLOBAL _ay_effect_17
780   0000              	GLOBAL _ay_effect_16
781   0000              	GLOBAL _ay_effect_15
782   0000              	GLOBAL _ay_effect_14
783   0000              	GLOBAL _ay_effect_13
784   0000              	GLOBAL _ay_effect_12
785   0000              	GLOBAL _ay_effect_11
786   0000              	GLOBAL _ay_effect_10
787   0000              	GLOBAL _ay_effect_09
788   0000              	GLOBAL _ay_effect_08
789   0000              	GLOBAL _ay_effect_07
790   0000              	GLOBAL _ay_effect_06
791   0000              	GLOBAL _ay_effect_05
792   0000              	GLOBAL _ay_effect_04
793   0000              	GLOBAL _ay_effect_03
794   0000              	GLOBAL _ay_effect_02
795   0000              	GLOBAL _ay_effect_01
796   0000              	GLOBAL _pb_midi_phase_1
797   0000              	GLOBAL _pb_midi_title
798   0000              	GLOBAL _joynames
799   0000              	GLOBAL _initials
800   0000              	GLOBAL _hof
801   0000              	GLOBAL _score_osd_tile
802   0000              	GLOBAL _score_osd_time
803   0000              	GLOBAL _score_osd_col
804   0000              	GLOBAL _score_osd_lin
805   0000              	GLOBAL _phase_bonus_total
806   0000              	GLOBAL _phase_angry
807   0000              	GLOBAL _phase_curr
808   0000              	GLOBAL _phase_end
809   0000              	GLOBAL _phase_coins
810   0000              	GLOBAL _phase_pop
811   0000              	GLOBAL _phase_tot
812   0000              	GLOBAL _phase_left
813   0000              	GLOBAL _phase_quota
814   0000              	GLOBAL _phases
815   0000              	GLOBAL _spr_idx
816   0000              	GLOBAL _lvl_1
817   0000              	GLOBAL _sprite_speed_alt
818   0000              	GLOBAL _sprite_speed
819   0000              	GLOBAL _screen_ink
820   0000              	GLOBAL _screen_paper
821   0000              	GLOBAL _game_god_mode
822   0000              	GLOBAL _game_menu_sel
823   0000              	GLOBAL _game_type
824   0000              	GLOBAL _game_osd
825   0000              	GLOBAL _game_bonus
826   0000              	GLOBAL _spr_water_time
827   0000              	GLOBAL _spr_water_clear
828   0000              	GLOBAL _game_time_fireball_start
829   0000              	GLOBAL _game_time_flipped
830   0000              	GLOBAL _game_score_top
831   0000              	GLOBAL _game_lives
832   0000              	GLOBAL _game_over
833   0000              	GLOBAL _game_sound
834   0000              	GLOBAL _game_two_player
835   0000              	GLOBAL _game_brick_tile
836   0000              	GLOBAL _game_pow
837   0000              	GLOBAL _spr_count
838   0000              	GLOBAL _frame_loop_count
839   0000              	GLOBAL _osd_time
840   0000              	GLOBAL _frame_time
841   0000              	GLOBAL _entry_time
842   0000              	GLOBAL _curr_time
843   0000              	GLOBAL _s_state
844   0000              	GLOBAL _attrib_hl
845   0000              	GLOBAL _attrib
846   0000              	GLOBAL _zx_val_asm
847   0000              	GLOBAL _enemies
848   0000              	GLOBAL _tmp_ui
849   0000              	GLOBAL _tmp_sc
850   0000              	GLOBAL _tmp_uc
851   0000              	GLOBAL _tmp1
852   0000              	GLOBAL _tmp0
853   0000              	GLOBAL _tmp
854   0000              	GLOBAL _index_d
855   0000              	GLOBAL _index3
856   0000              	GLOBAL _index2
857   0000              	GLOBAL _index1
858   0000              	GLOBAL _loop_count
859   0000              	GLOBAL _sprite_lin_inc_mul
860   0000              	GLOBAL _s_col1
861   0000              	GLOBAL _s_col0
862   0000              	GLOBAL _s_lin1
863   0000              	GLOBAL _s_lin0
864   0000              	GLOBAL _s_tile1
865   0000              	GLOBAL _s_tile0
866   0000              	GLOBAL _hit_count
867   0000              	GLOBAL _tile_offset_other_player
868   0000              	GLOBAL _tile_offset
869   0000              	GLOBAL _index_player
870   0000              	GLOBAL _sprite_other_player
871   0000              	GLOBAL _sprite
872   0000              	GLOBAL _player_joy
873   0000              	GLOBAL _player_next_extra
874   0000              	GLOBAL _player_score
875   0000              	GLOBAL _last_time
876   0000              	GLOBAL _sliding
877   0000              	GLOBAL _spr_timer_c
878   0000              	GLOBAL _spr_timer
879   0000              	GLOBAL _jump_lin
880   0000              	GLOBAL _player_jump_c
881   0000              	GLOBAL _hit_col
882   0000              	GLOBAL _hit_lin
883   0000              	GLOBAL _colint
884   0000              	GLOBAL _col
885   0000              	GLOBAL _lin
886   0000              	GLOBAL _tile
887   0000              	GLOBAL _state_a
888   0000              	GLOBAL _state
889   0000              	GLOBAL _class
890   0000              	GLOBAL _tbuffer
891   0000              	GLOBAL _dirs
892   0000              	GLOBAL _k2
893   0000              	GLOBAL _k1
894   0000              	GLOBAL _joyfunc2
895   0000              	GLOBAL _joyfunc1
896   0000              	GLOBAL _btiles
897   0000              	GLOBAL _spec128
898   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
899   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
900   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
901   0000              	GLOBAL _NIRVANAP_HOLE
902   0000              	GLOBAL _NIRVANAP_ISR_HOOK
903   0000              	GLOBAL _control_method
904   0000              	GLOBAL _hall_valids
905   0000              ;--------------------------------------------------------
906   0000              ; special function registers
907   0000              ;--------------------------------------------------------
908   0000              ;--------------------------------------------------------
909   0000              ; ram data
910   0000              ;--------------------------------------------------------
911   0000              	SECTION bss_compiler
912   0000              ;--------------------------------------------------------
913   0000              ; ram data
914   0000              ;--------------------------------------------------------
915   0000              
916   0000              IF 0
917   0000              
918   0000              ; .area _INITIALIZED removed by z88dk
919   0000              
920   0000              
921   0000              ENDIF
922   0000              
923   0000              ;--------------------------------------------------------
924   0000              ; absolute external ram data
925   0000              ;--------------------------------------------------------
926   0000              	SECTION IGNORE
927   0000              ;--------------------------------------------------------
928   0000              ; global & static initialisations
929   0000              ;--------------------------------------------------------
930   0000              	SECTION code_crt_init
931   0000              ;--------------------------------------------------------
932   0000              ; Home
933   0000              ;--------------------------------------------------------
934   0000              	SECTION IGNORE
935   0000              ;--------------------------------------------------------
936   0000              ; code
937   0000              ;--------------------------------------------------------
938   0000              	SECTION code_compiler
939   0000              ;	---------------------------------
940   0000              ; Function game_calc_index
941   0000              ; ---------------------------------
942   0000              _game_calc_index:
943   0000  CD 00 00    	call	___sdcc_enter_ix
944   0003  DD 4E 05    	ld	c,(ix+5)
945   0006  06 00       	ld	b,0x00
946   0008  DD 7E 04    	ld	a,(ix+4)
947   000B  0F          	rrca
948   000C  0F          	rrca
949   000D  0F          	rrca
950   000E  E6 1F       	and	a,0x1f
951   0010  6F          	ld	l,a
952   0011  26 00       	ld	h,0x00
953   0013  29          	add	hl, hl
954   0014  29          	add	hl, hl
955   0015  29          	add	hl, hl
956   0016  29          	add	hl, hl
957   0017  29          	add	hl, hl
958   0018  09          	add	hl,bc
959   0019  DD E1       	pop	ix
960   001B  C9          	ret
961   001C              	SECTION code_compiler
962   001C              ;	---------------------------------
963   001C              ; Function game_print_footer
964   001C              ; ---------------------------------
965   001C              _game_print_footer:
966   001C  21 00 00    	ld	hl,___str_0
967   001F  E5          	push	hl
968   0020  21 16 01    	ld	hl,0x0116
969   0023  E5          	push	hl
970   0024  CD 00 00    	call	_zx_print_str
971   0027  21 00 00    	ld	hl,___str_0
972   002A  E5          	push	hl
973   002B  21 16 1E    	ld	hl,0x1e16
974   002E  E5          	push	hl
975   002F  CD 00 00    	call	_zx_print_str
976   0032  21 02 00    	ld	hl,___str_1
977   0035  E5          	push	hl
978   0036  21 17 01    	ld	hl,0x0117
979   0039  E5          	push	hl
980   003A  CD 00 00    	call	_zx_print_str
981   003D  21 02 00    	ld	hl,___str_1
982   0040  E5          	push	hl
983   0041  21 17 1E    	ld	hl,0x1e17
984   0044  E5          	push	hl
985   0045  CD 00 00    	call	_zx_print_str
986   0048  3A 00 00    	ld	a,(_game_lives)
987   004B  B7          	or	a, a
988   004C  28 20       	jr	Z,l_game_print_footer_00102
989   004E  21 00 00    	ld	hl,_screen_ink
990   0051  36 02       	ld	(hl),0x02
991   0053  21 08 00    	ld	hl,___str_2
992   0056  E5          	push	hl
993   0057  21 16 01    	ld	hl,0x0116
994   005A  E5          	push	hl
995   005B  CD 00 00    	call	_zx_print_str
996   005E  21 00 00    	ld	hl,_screen_ink
997   0061  36 06       	ld	(hl),0x06
998   0063  21 0A 00    	ld	hl,___str_3
999   0066  E5          	push	hl
1000  0067  21 17 01    	ld	hl,0x0117
1001  006A  E5          	push	hl
1002  006B  CD 00 00    	call	_zx_print_str
1003  006E              l_game_print_footer_00102:
1004  006E  3A 01 00    	ld	a, (_game_lives + 1)
1005  0071  B7          	or	a, a
1006  0072  28 20       	jr	Z,l_game_print_footer_00104
1007  0074  21 00 00    	ld	hl,_screen_ink
1008  0077  36 07       	ld	(hl),0x07
1009  0079  21 0C 00    	ld	hl,___str_4
1010  007C  E5          	push	hl
1011  007D  21 16 1E    	ld	hl,0x1e16
1012  0080  E5          	push	hl
1013  0081  CD 00 00    	call	_zx_print_str
1014  0084  21 00 00    	ld	hl,_screen_ink
1015  0087  36 06       	ld	(hl),0x06
1016  0089  21 0E 00    	ld	hl,___str_5
1017  008C  E5          	push	hl
1018  008D  21 17 1E    	ld	hl,0x1e17
1019  0090  E5          	push	hl
1020  0091  CD 00 00    	call	_zx_print_str
1021  0094              l_game_print_footer_00104:
1022  0094  CD E7 00    	call	_game_print_lives
1023  0097  21 10 00    	ld	hl,___str_6
1024  009A  E5          	push	hl
1025  009B  21 17 0B    	ld	hl,0x0b17
1026  009E  E5          	push	hl
1027  009F  CD 00 00    	call	_zx_print_str
1028  00A2  21 00 00    	ld	hl,_phase_curr
1029  00A5  46          	ld	b,(hl)
1030  00A6  04          	inc	b
1031  00A7  C5          	push	bc
1032  00A8  33          	inc	sp
1033  00A9  21 17 12    	ld	hl,0x1217
1034  00AC  E5          	push	hl
1035  00AD  CD 00 00    	call	_zx_print_chr
1036  00B0  C9          	ret
1037  00B1              	SECTION rodata_compiler
1038  0000              ___str_0:
1039  0000  20          	DEFM " "
1040  0001  00          	DEFB 0x00
1041  0002              	SECTION rodata_compiler
1042  0002              ___str_1:
1043  0002  20 20 20 20 20 
                        	DEFM "     "
1044  0007  00          	DEFB 0x00
1045  0008              	SECTION rodata_compiler
1046  0008              ___str_2:
1047  0008  3C          	DEFM "<"
1048  0009  00          	DEFB 0x00
1049  000A              	SECTION rodata_compiler
1050  000A              ___str_3:
1051  000A  5C          	DEFB 0x5c
1052  000B  00          	DEFB 0x00
1053  000C              	SECTION rodata_compiler
1054  000C              ___str_4:
1055  000C  3E          	DEFM ">"
1056  000D  00          	DEFB 0x00
1057  000E              	SECTION rodata_compiler
1058  000E              ___str_5:
1059  000E  5E          	DEFM "^"
1060  000F  00          	DEFB 0x00
1061  0010              	SECTION rodata_compiler
1062  0010              ___str_6:
1063  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1064  0015  00          	DEFB 0x00
1065  0016              	SECTION code_compiler
1066  00B1              ;	---------------------------------
1067  00B1              ; Function game_phase_print_score_back
1068  00B1              ; ---------------------------------
1069  00B1              _game_phase_print_score_back:
1070  00B1  21 00 00    	ld	hl,_screen_ink
1071  00B4  36 02       	ld	(hl),0x02
1072  00B6  21 16 00    	ld	hl,___str_7
1073  00B9  E5          	push	hl
1074  00BA  21 00 0B    	ld	hl,0x0b00
1075  00BD  E5          	push	hl
1076  00BE  CD 00 00    	call	_zx_print_str
1077  00C1  21 00 00    	ld	hl,_screen_ink
1078  00C4  36 01       	ld	(hl),0x01
1079  00C6  21 1A 00    	ld	hl,___str_8
1080  00C9  E5          	push	hl
1081  00CA  21 00 01    	ld	hl,0x0100
1082  00CD  E5          	push	hl
1083  00CE  CD 00 00    	call	_zx_print_str
1084  00D1  3A 00 00    	ld	a,(_game_two_player)
1085  00D4  B7          	or	a, a
1086  00D5  C8          	ret	Z
1087  00D6  21 00 00    	ld	hl,_screen_ink
1088  00D9  36 04       	ld	(hl),0x04
1089  00DB  21 1D 00    	ld	hl,___str_9
1090  00DE  E5          	push	hl
1091  00DF  21 00 16    	ld	hl,0x1600
1092  00E2  E5          	push	hl
1093  00E3  CD 00 00    	call	_zx_print_str
1094  00E6  C9          	ret
1095  00E7              	SECTION rodata_compiler
1096  0016              ___str_7:
1097  0016  24 25 7C    	DEFM "$%|"
1098  0019  00          	DEFB 0x00
1099  001A              	SECTION rodata_compiler
1100  001A              ___str_8:
1101  001A  5B 7C       	DEFM "[|"
1102  001C  00          	DEFB 0x00
1103  001D              	SECTION rodata_compiler
1104  001D              ___str_9:
1105  001D  5D 7C       	DEFM "]|"
1106  001F  00          	DEFB 0x00
1107  0020              	SECTION code_compiler
1108  00E7              ;	---------------------------------
1109  00E7              ; Function game_print_lives
1110  00E7              ; ---------------------------------
1111  00E7              _game_print_lives:
1112  00E7  21 00 00    	ld	hl,_screen_ink
1113  00EA  36 07       	ld	(hl),0x07
1114  00EC  3A 00 00    	ld	a,(_game_lives)
1115  00EF  C6 FF       	add	a,0xff
1116  00F1  21 00 00    	ld	hl,_tmp
1117  00F4  77          	ld	(hl),a
1118  00F5  D6 FF       	sub	a,0xff
1119  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1120  00F9  7E          	ld	a,(hl)
1121  00FA  F5          	push	af
1122  00FB  33          	inc	sp
1123  00FC  21 17 03    	ld	hl,0x0317
1124  00FF  E5          	push	hl
1125  0100  CD 00 00    	call	_zx_print_chr
1126  0103              l_game_print_lives_00102:
1127  0103  3A 01 00    	ld	a, (_game_lives + 1)
1128  0106  C6 FF       	add	a,0xff
1129  0108  21 00 00    	ld	hl,_tmp
1130  010B  77          	ld	(hl),a
1131  010C  D6 FF       	sub	a,0xff
1132  010E  D0          	ret	NC
1133  010F  7E          	ld	a,(hl)
1134  0110  F5          	push	af
1135  0111  33          	inc	sp
1136  0112  21 17 1A    	ld	hl,0x1a17
1137  0115  E5          	push	hl
1138  0116  CD 00 00    	call	_zx_print_chr
1139  0119  C9          	ret
1140  011A              	SECTION code_compiler
1141  011A              ;	---------------------------------
1142  011A              ; Function game_tick
1143  011A              ; ---------------------------------
1144  011A              _game_tick:
1145  011A  21 00 00    	ld	hl,_curr_time
1146  011D  34          	inc	(hl)
1147  011E  C2 00 00    	jp	NZ,_zx_isr
1148  0121  23          	inc	hl
1149  0122  34          	inc	(hl)
1150  0123  C3 00 00    	jp  _zx_isr
1151  0126              	SECTION code_compiler
1152  0126              ;	---------------------------------
1153  0126              ; Function game_start_timer
1154  0126              ; ---------------------------------
1155  0126              _game_start_timer:
1156  0126  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1157  0129  3E CD       	ld	a,0xcd
1158  012B  02          	ld	(bc),a
1159  012C  03          	inc	bc
1160  012D  11 1A 01    	ld	de,_game_tick
1161  0130  7B          	ld	a,e
1162  0131  02          	ld	(bc),a
1163  0132  03          	inc	bc
1164  0133  7A          	ld	a,d
1165  0134  02          	ld	(bc),a
1166  0135  C9          	ret
1167  0136              	SECTION code_compiler
1168  0136              ;	---------------------------------
1169  0136              ; Function game_phase_calc
1170  0136              ; ---------------------------------
1171  0136              _game_phase_calc:
1172  0136  3A 00 00    	ld	a,(_phase_curr)
1173  0139  87          	add	a, a
1174  013A  87          	add	a, a
1175  013B  21 00 00    	ld	hl,_tmp_uc
1176  013E  77          	ld	(hl),a
1177  013F  01 00 00    	ld	bc,_phases+0
1178  0142  5E          	ld	e,(hl)
1179  0143  16 00       	ld	d,0x00
1180  0145  69          	ld	l, c
1181  0146  60          	ld	h, b
1182  0147  19          	add	hl,de
1183  0148  7E          	ld	a,(hl)
1184  0149  32 00 00    	ld	(_phase_quota),a
1185  014C  2A 00 00    	ld	hl,(_tmp_uc)
1186  014F  26 00       	ld	h,0x00
1187  0151  23          	inc	hl
1188  0152  09          	add	hl,bc
1189  0153  7E          	ld	a,(hl)
1190  0154  32 01 00    	ld	((_phase_quota + 0x0001)),a
1191  0157  2A 00 00    	ld	hl,(_tmp_uc)
1192  015A  26 00       	ld	h,0x00
1193  015C  23          	inc	hl
1194  015D  23          	inc	hl
1195  015E  09          	add	hl,bc
1196  015F  7E          	ld	a,(hl)
1197  0160  32 02 00    	ld	((_phase_quota + 0x0002)),a
1198  0163  2A 00 00    	ld	hl,(_tmp_uc)
1199  0166  26 00       	ld	h,0x00
1200  0168  23          	inc	hl
1201  0169  23          	inc	hl
1202  016A  23          	inc	hl
1203  016B  09          	add	hl,bc
1204  016C  7E          	ld	a,(hl)
1205  016D  32 00 00    	ld	(_game_brick_tile),a
1206  0170  CD 3E 0C    	call	_game_unfreeze_all
1207  0173  3A 00 00    	ld	a,(_game_brick_tile)
1208  0176  D6 8B       	sub	a,0x8b
1209  0178  20 03       	jr	NZ,l_game_phase_calc_00102
1210  017A  CD 67 0C    	call	_game_freeze_all
1211  017D              l_game_phase_calc_00102:
1212  017D  3A 00 00    	ld	a,(_game_brick_tile)
1213  0180  4F          	ld	c,a
1214  0181  06 00       	ld	b,0x00
1215  0183  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1216  0187  21 00 00    	ld	hl,_phase_quota
1217  018A  4E          	ld	c,(hl)
1218  018B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1219  018E  46          	ld	b,(hl)
1220  018F  79          	ld	a,c
1221  0190  80          	add	a, b
1222  0191  4F          	ld	c,a
1223  0192  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1224  0195  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1225  0197  09          	add	hl, bc
1226  0198  C9          	ret
1227  0199              	SECTION code_compiler
1228  0199              ;	---------------------------------
1229  0199              ; Function game_phase_init
1230  0199              ; ---------------------------------
1231  0199              _game_phase_init:
1232  0199  CD 00 00    	call	_ay_reset
1233  019C  3A 00 00    	ld	a,(_game_bonus)
1234  019F  B7          	or	a, a
1235  01A0  20 06       	jr	NZ,l_game_phase_init_00102
1236  01A2  21 00 00    	ld	hl,_pb_midi_phase_1
1237  01A5  CD 00 00    	call	_ay_midi_play
1238  01A8              l_game_phase_init_00102:
1239  01A8  21 00 00    	ld	hl,0x0000
1240  01AB  22 00 00    	ld	(_loop_count),hl
1241  01AE  21 00 00    	ld	hl,_phase_end
1242  01B1  36 00       	ld	(hl),0x00
1243  01B3  21 00 00    	ld	hl,_phase_angry
1244  01B6  36 00       	ld	(hl),0x00
1245  01B8  21 00 00    	ld	hl,_phase_coins
1246  01BB  36 00       	ld	(hl),0x00
1247  01BD  21 00 00    	ld	hl,_phase_pop
1248  01C0  36 00       	ld	(hl),0x00
1249  01C2  21 00 00    	ld	hl,_game_bonus
1250  01C5  36 00       	ld	(hl),0x00
1251  01C7  21 00 00    	ld	hl,0x0000
1252  01CA  22 00 00    	ld	(_entry_time),hl
1253  01CD  21 00 00    	ld	hl,0
1254  01D0  22 00 00    	ld	(_curr_time),hl
1255  01D3  21 00 00    	ld	hl,0x0000
1256  01D6  22 00 00    	ld	(_frame_time),hl
1257  01D9  21 FF FF    	ld	hl,0xffff
1258  01DC  22 00 00    	ld	(_score_osd_col),hl
1259  01DF  CD 00 00    	call	_spr_draw_clear
1260  01E2  CD 00 00    	call	_spr_cortina_pipes
1261  01E5  21 00 00    	ld	hl,0x0000
1262  01E8  CD 00 00    	call	_zx_cls_fastcall
1263  01EB  21 00 00    	ld	hl,_spr_count
1264  01EE  36 00       	ld	(hl),0x00
1265  01F0  3A 00 00    	ld	a,(_game_type)
1266  01F3  D6 02       	sub	a,0x02
1267  01F5  CA 81 02    	jp	Z,l_game_phase_init_00106
1268  01F8  CD 36 01    	call	_game_phase_calc
1269  01FB  7D          	ld	a,l
1270  01FC  32 00 00    	ld	(_phase_left),a
1271  01FF  32 00 00    	ld	(_phase_tot),a
1272  0202  21 00 00    	ld	hl,_phase_left
1273  0205  7E          	ld	a,(hl)
1274  0206  B7          	or	a, a
1275  0207  C2 96 02    	jp	NZ,l_game_phase_init_00107
1276  020A  01 00 00    	ld	bc,_phase_bonus_total+0
1277  020D  AF          	xor	a, a
1278  020E  02          	ld	(bc),a
1279  020F  03          	inc	bc
1280  0210  AF          	xor	a, a
1281  0211  02          	ld	(bc),a
1282  0212  36 06       	ld	(hl),0x06
1283  0214  21 00 00    	ld	hl,_game_bonus
1284  0217  36 01       	ld	(hl),0x01
1285  0219  21 0C 00    	ld	hl,0x000c
1286  021C  E5          	push	hl
1287  021D  21 90 08    	ld	hl,0x0890
1288  0220  E5          	push	hl
1289  0221  AF          	xor	a, a
1290  0222  F5          	push	af
1291  0223  33          	inc	sp
1292  0224  CD 00 00    	call	_enemy_init
1293  0227  F1          	pop	af
1294  0228  33          	inc	sp
1295  0229  21 0C 00    	ld	hl,0x000c
1296  022C  E3          	ex	(sp),hl
1297  022D  21 90 16    	ld	hl,0x1690
1298  0230  E5          	push	hl
1299  0231  3E 01       	ld	a,0x01
1300  0233  F5          	push	af
1301  0234  33          	inc	sp
1302  0235  CD 00 00    	call	_enemy_init
1303  0238  F1          	pop	af
1304  0239  33          	inc	sp
1305  023A  21 0C 00    	ld	hl,0x000c
1306  023D  E3          	ex	(sp),hl
1307  023E  21 50 06    	ld	hl,0x0650
1308  0241  E5          	push	hl
1309  0242  3E 02       	ld	a,0x02
1310  0244  F5          	push	af
1311  0245  33          	inc	sp
1312  0246  CD 00 00    	call	_enemy_init
1313  0249  F1          	pop	af
1314  024A  33          	inc	sp
1315  024B  21 0C 00    	ld	hl,0x000c
1316  024E  E3          	ex	(sp),hl
1317  024F  21 50 18    	ld	hl,0x1850
1318  0252  E5          	push	hl
1319  0253  3E 03       	ld	a,0x03
1320  0255  F5          	push	af
1321  0256  33          	inc	sp
1322  0257  CD 00 00    	call	_enemy_init
1323  025A  F1          	pop	af
1324  025B  33          	inc	sp
1325  025C  21 0C 00    	ld	hl,0x000c
1326  025F  E3          	ex	(sp),hl
1327  0260  21 10 05    	ld	hl,0x0510
1328  0263  E5          	push	hl
1329  0264  3E 04       	ld	a,0x04
1330  0266  F5          	push	af
1331  0267  33          	inc	sp
1332  0268  CD 00 00    	call	_enemy_init
1333  026B  F1          	pop	af
1334  026C  33          	inc	sp
1335  026D  21 0C 00    	ld	hl,0x000c
1336  0270  E3          	ex	(sp),hl
1337  0271  21 10 19    	ld	hl,0x1910
1338  0274  E5          	push	hl
1339  0275  3E 05       	ld	a,0x05
1340  0277  F5          	push	af
1341  0278  33          	inc	sp
1342  0279  CD 00 00    	call	_enemy_init
1343  027C  F1          	pop	af
1344  027D  F1          	pop	af
1345  027E  33          	inc	sp
1346  027F  18 15       	jr	l_game_phase_init_00107
1347  0281              l_game_phase_init_00106:
1348  0281  21 00 00    	ld	hl,_phase_left
1349  0284  36 FF       	ld	(hl),0xff
1350  0286  21 00 00    	ld	hl,_phase_curr
1351  0289  36 FF       	ld	(hl),0xff
1352  028B  21 00 00    	ld	hl,_game_brick_tile
1353  028E  36 84       	ld	(hl),0x84
1354  0290  21 84 00    	ld	hl,0x0084
1355  0293  22 24 00    	ld	(_spr_idx + 0x0024),hl
1356  0296              l_game_phase_init_00107:
1357  0296  CD 00 00    	call	_spr_draw_back
1358  0299  CD D6 02    	call	_game_print_header
1359  029C  CD 1C 00    	call	_game_print_footer
1360  029F  21 64 00    	ld	hl,0x0064
1361  02A2  CD 00 00    	call	_z80_delay_ms_fastcall
1362  02A5  21 00 00    	ld	hl,_game_osd
1363  02A8  36 01       	ld	(hl),0x01
1364  02AA  2A 00 00    	ld	hl,(_curr_time)
1365  02AD  22 00 00    	ld	(_osd_time),hl
1366  02B0  3A 00 00    	ld	a,(_game_lives)
1367  02B3  B7          	or	a,a
1368  02B4  28 0D       	jr	Z,l_game_phase_init_00109
1369  02B6  21 0A 03    	ld	hl,0x030a
1370  02B9  E5          	push	hl
1371  02BA  21 07 98    	ld	hl,0x9807
1372  02BD  E5          	push	hl
1373  02BE  CD 00 00    	call	_player_init
1374  02C1  F1          	pop	af
1375  02C2  F1          	pop	af
1376  02C3              l_game_phase_init_00109:
1377  02C3  3A 01 00    	ld	a, (_game_lives + 1)
1378  02C6  B7          	or	a, a
1379  02C7  C8          	ret	Z
1380  02C8  21 14 27    	ld	hl,0x2714
1381  02CB  E5          	push	hl
1382  02CC  21 06 98    	ld	hl,0x9806
1383  02CF  E5          	push	hl
1384  02D0  CD 00 00    	call	_player_init
1385  02D3  F1          	pop	af
1386  02D4  F1          	pop	af
1387  02D5  C9          	ret
1388  02D6              	SECTION code_compiler
1389  02D6              ;	---------------------------------
1390  02D6              ; Function game_print_header
1391  02D6              ; ---------------------------------
1392  02D6              _game_print_header:
1393  02D6  CD B1 00    	call	_game_phase_print_score_back
1394  02D9  21 00 00    	ld	hl,_screen_ink
1395  02DC  36 07       	ld	(hl),0x07
1396  02DE  C3 90 0C    	jp  _game_print_score
1397  02E1              	SECTION code_compiler
1398  02E1              ;	---------------------------------
1399  02E1              ; Function game_phase_print
1400  02E1              ; ---------------------------------
1401  02E1              _game_phase_print:
1402  02E1  45          	ld	b,l
1403  02E2  C5          	push	bc
1404  02E3  21 20 00    	ld	hl,___str_10
1405  02E6  E5          	push	hl
1406  02E7  3E 0B       	ld	a,0x0b
1407  02E9  48          	ld	c,b
1408  02EA  47          	ld	b,a
1409  02EB  C5          	push	bc
1410  02EC  CD 00 00    	call	_zx_print_str
1411  02EF  C1          	pop	bc
1412  02F0  3A 00 00    	ld	a,(_phase_curr)
1413  02F3  D6 1F       	sub	a,0x1f
1414  02F5  30 3F       	jr	NC,l_game_phase_print_00108
1415  02F7  3A 00 00    	ld	a,(_game_bonus)
1416  02FA  B7          	or	a, a
1417  02FB  20 2B       	jr	NZ,l_game_phase_print_00102
1418  02FD  C5          	push	bc
1419  02FE  21 26 00    	ld	hl,___str_11
1420  0301  E5          	push	hl
1421  0302  3E 10       	ld	a,0x10
1422  0304  48          	ld	c,b
1423  0305  47          	ld	b,a
1424  0306  C5          	push	bc
1425  0307  CD 00 00    	call	_zx_print_str
1426  030A  C1          	pop	bc
1427  030B  21 00 00    	ld	hl,_phase_curr
1428  030E  56          	ld	d,(hl)
1429  030F  14          	inc	d
1430  0310  C5          	push	bc
1431  0311  1E 12       	ld	e,0x12
1432  0313  D5          	push	de
1433  0314  C5          	push	bc
1434  0315  33          	inc	sp
1435  0316  CD 00 00    	call	_zx_print_chr
1436  0319  C1          	pop	bc
1437  031A  21 26 00    	ld	hl,___str_11
1438  031D  E5          	push	hl
1439  031E  3E 15       	ld	a,0x15
1440  0320  48          	ld	c,b
1441  0321  47          	ld	b,a
1442  0322  C5          	push	bc
1443  0323  CD 00 00    	call	_zx_print_str
1444  0326  18 2F       	jr	l_game_phase_print_00110
1445  0328              l_game_phase_print_00102:
1446  0328  21 29 00    	ld	hl,___str_12
1447  032B  E5          	push	hl
1448  032C  3E 11       	ld	a,0x11
1449  032E  48          	ld	c,b
1450  032F  47          	ld	b,a
1451  0330  C5          	push	bc
1452  0331  CD 00 00    	call	_zx_print_str
1453  0334  18 21       	jr	l_game_phase_print_00110
1454  0336              l_game_phase_print_00108:
1455  0336  3A 00 00    	ld	a,(_game_type)
1456  0339  D6 02       	sub	a,0x02
1457  033B  28 0E       	jr	Z,l_game_phase_print_00105
1458  033D  21 30 00    	ld	hl,___str_13
1459  0340  E5          	push	hl
1460  0341  3E 11       	ld	a,0x11
1461  0343  48          	ld	c,b
1462  0344  47          	ld	b,a
1463  0345  C5          	push	bc
1464  0346  CD 00 00    	call	_zx_print_str
1465  0349  18 0C       	jr	l_game_phase_print_00110
1466  034B              l_game_phase_print_00105:
1467  034B  21 37 00    	ld	hl,___str_14
1468  034E  E5          	push	hl
1469  034F  3E 11       	ld	a,0x11
1470  0351  48          	ld	c,b
1471  0352  47          	ld	b,a
1472  0353  C5          	push	bc
1473  0354  CD 00 00    	call	_zx_print_str
1474  0357              l_game_phase_print_00110:
1475  0357  C9          	ret
1476  0358              	SECTION rodata_compiler
1477  0020              ___str_10:
1478  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1479  0025  00          	DEFB 0x00
1480  0026              	SECTION rodata_compiler
1481  0026              ___str_11:
1482  0026  20 20       	DEFM "  "
1483  0028  00          	DEFB 0x00
1484  0029              	SECTION rodata_compiler
1485  0029              ___str_12:
1486  0029  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1487  002F  00          	DEFB 0x00
1488  0030              	SECTION rodata_compiler
1489  0030              ___str_13:
1490  0030  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1491  0036  00          	DEFB 0x00
1492  0037              	SECTION rodata_compiler
1493  0037              ___str_14:
1494  0037  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1495  003D  00          	DEFB 0x00
1496  003E              	SECTION code_compiler
1497  0358              ;	---------------------------------
1498  0358              ; Function game_loop
1499  0358              ; ---------------------------------
1500  0358              _game_loop:
1501  0358  21 3E 00    	ld	hl,___str_15
1502  035B  E5          	push	hl
1503  035C  21 16 07    	ld	hl,0x0716
1504  035F  E5          	push	hl
1505  0360  CD 00 00    	call	_zx_print_str
1506  0363  21 51 00    	ld	hl,___str_16
1507  0366  E5          	push	hl
1508  0367  21 17 07    	ld	hl,0x0717
1509  036A  E5          	push	hl
1510  036B  CD 00 00    	call	_zx_print_str
1511  036E  21 00 00    	ld	hl,_ay_effect_10
1512  0371  CD 00 00    	call	_ay_fx_play
1513  0374  CD 00 00    	call	_sound_coin
1514  0377  21 C8 00    	ld	hl,0x00c8
1515  037A  CD 00 00    	call	_z80_delay_ms_fastcall
1516  037D  21 64 00    	ld	hl,___str_17
1517  0380  E5          	push	hl
1518  0381  21 16 07    	ld	hl,0x0716
1519  0384  E5          	push	hl
1520  0385  CD 00 00    	call	_zx_print_str
1521  0388  CD 00 00    	call	_ay_reset
1522  038B  21 11 11    	ld	hl,0x1111
1523  038E  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1524  0391  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1525  0394  01 00 00    	ld	bc,_game_lives+0
1526  0397  3E 04       	ld	a,0x04
1527  0399  02          	ld	(bc),a
1528  039A  03          	inc	bc
1529  039B  3A 00 00    	ld	a,(_game_two_player)
1530  039E  B7          	or	a,a
1531  039F  28 05       	jr	Z,l_game_loop_00102
1532  03A1  3E 04       	ld	a,0x04
1533  03A3  02          	ld	(bc),a
1534  03A4  18 02       	jr	l_game_loop_00103
1535  03A6              l_game_loop_00102:
1536  03A6  AF          	xor	a, a
1537  03A7  02          	ld	(bc),a
1538  03A8              l_game_loop_00103:
1539  03A8  21 00 00    	ld	hl,0x0000
1540  03AB  22 00 00    	ld	(_player_score), hl
1541  03AE  2E 00       	ld	l,0x00
1542  03B0  22 02 00    	ld	(_player_score + 0x0002),hl
1543  03B3  21 D0 07    	ld	hl,0x07d0
1544  03B6  22 00 00    	ld	(_player_next_extra), hl
1545  03B9  2E D0       	ld	l,0xd0
1546  03BB  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1547  03BE  21 00 00    	ld	hl,_spr_water_clear
1548  03C1  36 FF       	ld	(hl),0xff
1549  03C3  3A 00 00    	ld	a,(_game_type)
1550  03C6  B7          	or	a, a
1551  03C7  20 0E       	jr	NZ,l_game_loop_00105
1552  03C9  21 F4 01    	ld	hl,0x01f4
1553  03CC  22 00 00    	ld	(_game_time_flipped),hl
1554  03CF  21 D0 07    	ld	hl,0x07d0
1555  03D2  22 00 00    	ld	(_game_time_fireball_start),hl
1556  03D5  18 0C       	jr	l_game_loop_00106
1557  03D7              l_game_loop_00105:
1558  03D7  21 FA 00    	ld	hl,0x00fa
1559  03DA  22 00 00    	ld	(_game_time_flipped),hl
1560  03DD  21 F4 01    	ld	hl,0x01f4
1561  03E0  22 00 00    	ld	(_game_time_fireball_start),hl
1562  03E3              l_game_loop_00106:
1563  03E3  21 00 00    	ld	hl,_game_over
1564  03E6  36 00       	ld	(hl),0x00
1565  03E8  21 00 00    	ld	hl,_game_pow
1566  03EB  36 03       	ld	(hl),0x03
1567  03ED  21 00 00    	ld	hl,_phase_curr
1568  03F0  36 00       	ld	(hl),0x00
1569  03F2  CD 99 01    	call	_game_phase_init
1570  03F5  21 00 00    	ld	hl,_sprite_lin_inc_mul
1571  03F8  36 00       	ld	(hl),0x00
1572  03FA  21 00 00    	ld	hl,0x0000
1573  03FD  22 00 00    	ld	(_loop_count),hl
1574  0400  21 00 00    	ld	hl,_dirs
1575  0403  36 00       	ld	(hl),0x00
1576  0405  CD 3E 0C    	call	_game_unfreeze_all
1577  0408  CD 20 0F    	call	_game_joystick_set
1578  040B              l_game_loop_00132:
1579  040B  3A 00 00    	ld	a,(_game_over)
1580  040E  B7          	or	a, a
1581  040F  C2 F7 04    	jp	NZ,l_game_loop_00134
1582  0412  CD 00 00    	call	_player_set1
1583  0415  CD 00 00    	call	_player_turn
1584  0418  CD 00 00    	call	_player_set2
1585  041B  CD 00 00    	call	_player_turn
1586  041E  CD 00 00    	call	_enemy_turn
1587  0421  3A 00 00    	ld	a,(_game_bonus)
1588  0424  B7          	or	a, a
1589  0425  28 16       	jr	Z,l_game_loop_00111
1590  0427  CD 99 06    	call	_game_bonus_clock
1591  042A  3A 00 00    	ld	a,(_phase_left)
1592  042D  B7          	or	a, a
1593  042E  28 0D       	jr	Z,l_game_loop_00111
1594  0430  CD 00 00    	call	_ay_is_playing
1595  0433  7D          	ld	a,l
1596  0434  B7          	or	a, a
1597  0435  20 06       	jr	NZ,l_game_loop_00111
1598  0437  21 00 00    	ld	hl,_ay_effect_19
1599  043A  CD 00 00    	call	_ay_fx_play
1600  043D              l_game_loop_00111:
1601  043D  3A 00 00    	ld	a,(_game_osd)
1602  0440  B7          	or	a, a
1603  0441  28 45       	jr	Z,l_game_loop_00117
1604  0443  21 05 00    	ld	hl,0x0005
1605  0446  E5          	push	hl
1606  0447  2A 00 00    	ld	hl,(_osd_time)
1607  044A  E5          	push	hl
1608  044B  CD 29 1A    	call	_game_check_time
1609  044E  F1          	pop	af
1610  044F  F1          	pop	af
1611  0450  7D          	ld	a,l
1612  0451  B7          	or	a, a
1613  0452  28 1B       	jr	Z,l_game_loop_00113
1614  0454  2A 00 00    	ld	hl,(_curr_time)
1615  0457  22 00 00    	ld	(_osd_time),hl
1616  045A  2E 0C       	ld	l,0x0c
1617  045C  CD E1 02    	call	_game_phase_print
1618  045F  21 17 68    	ld	hl,0x6817
1619  0462  E5          	push	hl
1620  0463  3E 0B       	ld	a,0x0b
1621  0465  F5          	push	af
1622  0466  33          	inc	sp
1623  0467  CD 0C 0D    	call	_game_paint_attrib_lin_h
1624  046A  F1          	pop	af
1625  046B  33          	inc	sp
1626  046C  CD 7B 19    	call	_game_rotate_attrib
1627  046F              l_game_loop_00113:
1628  046F  21 00 00    	ld	hl,_loop_count
1629  0472  7E          	ld	a,(hl)
1630  0473  D6 90       	sub	a,0x90
1631  0475  20 11       	jr	NZ,l_game_loop_00117
1632  0477  23          	inc	hl
1633  0478  7E          	ld	a,(hl)
1634  0479  3D          	dec	a
1635  047A  20 0C       	jr	NZ,l_game_loop_00117
1636  047C  21 0C 20    	ld	hl,0x200c
1637  047F  E5          	push	hl
1638  0480  CD 00 00    	call	_game_fill_row
1639  0483  21 00 00    	ld	hl,_game_osd
1640  0486  36 00       	ld	(hl),0x00
1641  0488              l_game_loop_00117:
1642  0488  CD 00 00    	call	_spr_water_splash_clear
1643  048B  21 64 00    	ld	hl,0x0064
1644  048E  E5          	push	hl
1645  048F  2A 00 00    	ld	hl,(_frame_time)
1646  0492  E5          	push	hl
1647  0493  CD 29 1A    	call	_game_check_time
1648  0496  F1          	pop	af
1649  0497  F1          	pop	af
1650  0498  7D          	ld	a,l
1651  0499  B7          	or	a, a
1652  049A  28 4F       	jr	Z,l_game_loop_00131
1653  049C  2A 00 00    	ld	hl,(_curr_time)
1654  049F  22 00 00    	ld	(_frame_time),hl
1655  04A2  3A 00 00    	ld	a,(_game_bonus)
1656  04A5  B7          	or	a,a
1657  04A6  20 03       	jr	NZ,l_game_loop_00119
1658  04A8  CD EE 08    	call	_game_enemy_add
1659  04AB              l_game_loop_00119:
1660  04AB  3A 00 00    	ld	a,(_phase_end)
1661  04AE  3D          	dec	a
1662  04AF  20 3A       	jr	NZ,l_game_loop_00131
1663  04B1  3A 00 00    	ld	a,(_game_type)
1664  04B4  D6 02       	sub	a,0x02
1665  04B6  28 33       	jr	Z,l_game_loop_00131
1666  04B8  21 90 01    	ld	hl,0x0190
1667  04BB  CD 00 00    	call	_z80_delay_ms_fastcall
1668  04BE  CD 00 00    	call	_ay_is_playing
1669  04C1  7D          	ld	a, l
1670  04C2  D6 02       	sub	a,0x02
1671  04C4  30 03       	jr	NC,l_game_loop_00121
1672  04C6  CD 00 00    	call	_ay_reset
1673  04C9              l_game_loop_00121:
1674  04C9  CD BC 08    	call	_game_kill_all_sprites
1675  04CC  3A 00 00    	ld	a,(_game_bonus)
1676  04CF  B7          	or	a, a
1677  04D0  28 03       	jr	Z,l_game_loop_00123
1678  04D2  CD FF 06    	call	_game_bonus_summary
1679  04D5              l_game_loop_00123:
1680  04D5  21 00 00    	ld	hl,_phase_curr
1681  04D8  34          	inc	(hl)
1682  04D9  3E 1F       	ld	a,0x1f
1683  04DB  96          	sub	a, (hl)
1684  04DC  30 0A       	jr	NC,l_game_loop_00125
1685  04DE  CD 36 12    	call	_game_end
1686  04E1  21 00 00    	ld	hl,_game_over
1687  04E4  36 01       	ld	(hl),0x01
1688  04E6  18 03       	jr	l_game_loop_00131
1689  04E8              l_game_loop_00125:
1690  04E8  CD 99 01    	call	_game_phase_init
1691  04EB              l_game_loop_00131:
1692  04EB  21 00 00    	ld	hl,_loop_count
1693  04EE  34          	inc	(hl)
1694  04EF  C2 0B 04    	jp	NZ,l_game_loop_00132
1695  04F2  23          	inc	hl
1696  04F3  34          	inc	(hl)
1697  04F4  C3 0B 04    	jp	l_game_loop_00132
1698  04F7              l_game_loop_00134:
1699  04F7  21 20 03    	ld	hl,0x0320
1700  04FA  CD 00 00    	call	_z80_delay_ms_fastcall
1701  04FD  CD BC 08    	call	_game_kill_all_sprites
1702  0500  76          	halt
1703  0501  CD 00 00    	call	_spr_draw_clear
1704  0504  21 77 00    	ld	hl,___str_18
1705  0507  E5          	push	hl
1706  0508  21 08 0B    	ld	hl,0x0b08
1707  050B  E5          	push	hl
1708  050C  CD 00 00    	call	_zx_print_str
1709  050F  21 C8 00    	ld	hl,0x00c8
1710  0512  E5          	push	hl
1711  0513  21 0B 15    	ld	hl,0x150b
1712  0516  E5          	push	hl
1713  0517  3E 08       	ld	a,0x08
1714  0519  F5          	push	af
1715  051A  33          	inc	sp
1716  051B  CD 97 19    	call	_game_colour_message
1717  051E  F1          	pop	af
1718  051F  F1          	pop	af
1719  0520  33          	inc	sp
1720  0521  CD 0F 15    	call	_game_hall_enter
1721  0524  CD 00 00    	call	_ay_reset
1722  0527  21 00 00    	ld	hl,_game_menu_sel
1723  052A  36 00       	ld	(hl),0x00
1724  052C  CD 18 10    	call	_game_menu_paint
1725  052F  CD 13 0F    	call	_game_joystick_set_menu
1726  0532  C9          	ret
1727  0533              	SECTION rodata_compiler
1728  003E              ___str_15:
1729  003E  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1730  0050  00          	DEFB 0x00
1731  0051              	SECTION rodata_compiler
1732  0051              ___str_16:
1733  0051  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1734  0063  00          	DEFB 0x00
1735  0064              	SECTION rodata_compiler
1736  0064              ___str_17:
1737  0064  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1738  0076  00          	DEFB 0x00
1739  0077              	SECTION rodata_compiler
1740  0077              ___str_18:
1741  0077  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1742  0080  00          	DEFB 0x00
1743  0081              	SECTION code_compiler
1744  0533              ;	---------------------------------
1745  0533              ; Function game_score_osd
1746  0533              ; ---------------------------------
1747  0533              _game_score_osd:
1748  0533  3A 00 00    	ld	a,(_index_player)
1749  0536  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1750  0538  4F          	ld	c,a
1751  0539  3E 00       	ld	a,+((_score_osd_col) / 256)
1752  053B  CE 00       	adc	a,0x00
1753  053D  47          	ld	b,a
1754  053E  0A          	ld	a,(bc)
1755  053F  57          	ld	d,a
1756  0540  3C          	inc	a
1757  0541  20 72       	jr	NZ,l_game_score_osd_00117
1758  0543  3A 00 00    	ld	a,(_hit_count)
1759  0546  B7          	or	a, a
1760  0547  CA 98 06    	jp	Z,l_game_score_osd_00119
1761  054A  2A 00 00    	ld	hl,(_sprite)
1762  054D  26 00       	ld	h,0x00
1763  054F  11 00 00    	ld	de,_col
1764  0552  19          	add	hl,de
1765  0553  7E          	ld	a,(hl)
1766  0554  02          	ld	(bc),a
1767  0555  3A 00 00    	ld	a,(_index_player)
1768  0558  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1769  055A  4F          	ld	c,a
1770  055B  3E 00       	ld	a,+((_score_osd_lin) / 256)
1771  055D  CE 00       	adc	a,0x00
1772  055F  47          	ld	b,a
1773  0560  2A 00 00    	ld	hl,(_sprite)
1774  0563  26 00       	ld	h,0x00
1775  0565  11 00 00    	ld	de,_lin
1776  0568  19          	add	hl,de
1777  0569  7E          	ld	a,(hl)
1778  056A  02          	ld	(bc),a
1779  056B  01 00 00    	ld	bc,_score_osd_time+0
1780  056E  2A 00 00    	ld	hl,(_index_player)
1781  0571  26 00       	ld	h,0x00
1782  0573  29          	add	hl, hl
1783  0574  09          	add	hl,bc
1784  0575  ED 5B 00 00 	ld	de,(_curr_time)
1785  0579  73          	ld	(hl),e
1786  057A  23          	inc	hl
1787  057B  72          	ld	(hl),d
1788  057C  2A 00 00    	ld	hl,(_index_player)
1789  057F  26 00       	ld	h,0x00
1790  0581  29          	add	hl,hl
1791  0582  3A 00 00    	ld	a,(_hit_count)
1792  0585  3D          	dec	a
1793  0586  4D          	ld	c,l
1794  0587  44          	ld	b,h
1795  0588  20 0C       	jr	NZ,l_game_score_osd_00105
1796  058A  21 00 00    	ld	hl,_score_osd_tile
1797  058D  09          	add	hl,bc
1798  058E  36 BC       	ld	(hl),0xbc
1799  0590  23          	inc	hl
1800  0591  36 00       	ld	(hl),0x00
1801  0593  C3 98 06    	jp	l_game_score_osd_00119
1802  0596              l_game_score_osd_00105:
1803  0596  3A 00 00    	ld	a,(_hit_count)
1804  0599  D6 08       	sub	a,0x08
1805  059B  30 0C       	jr	NC,l_game_score_osd_00102
1806  059D  21 00 00    	ld	hl,_score_osd_tile
1807  05A0  09          	add	hl,bc
1808  05A1  36 BD       	ld	(hl),0xbd
1809  05A3  23          	inc	hl
1810  05A4  36 00       	ld	(hl),0x00
1811  05A6  C3 98 06    	jp	l_game_score_osd_00119
1812  05A9              l_game_score_osd_00102:
1813  05A9  21 00 00    	ld	hl,_score_osd_tile
1814  05AC  09          	add	hl,bc
1815  05AD  36 BE       	ld	(hl),0xbe
1816  05AF  23          	inc	hl
1817  05B0  36 00       	ld	(hl),0x00
1818  05B2  C3 98 06    	jp	l_game_score_osd_00119
1819  05B5              l_game_score_osd_00117:
1820  05B5  3A 00 00    	ld	a,(_index_player)
1821  05B8  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1822  05BA  4F          	ld	c,a
1823  05BB  3E 00       	ld	a,+((_score_osd_lin) / 256)
1824  05BD  CE 00       	adc	a,0x00
1825  05BF  47          	ld	b,a
1826  05C0  0A          	ld	a,(bc)
1827  05C1  C6 FE       	add	a,0xfe
1828  05C3  32 00 00    	ld	(_tmp),a
1829  05C6  5F          	ld	e,a
1830  05C7  D5          	push	de
1831  05C8  CD 00 00    	call	_game_calc_index
1832  05CB  F1          	pop	af
1833  05CC  22 00 00    	ld	(_index1),hl
1834  05CF  3E 08       	ld	a,0x08
1835  05D1  21 00 00    	ld	hl,_tmp
1836  05D4  96          	sub	a, (hl)
1837  05D5  30 5B       	jr	NC,l_game_score_osd_00110
1838  05D7  21 01 00    	ld	hl,_index1 + 1
1839  05DA  7E          	ld	a,(hl)
1840  05DB  2B          	dec	hl
1841  05DC  B6          	or	a,(hl)
1842  05DD  28 53       	jr	Z,l_game_score_osd_00110
1843  05DF  01 00 00    	ld	bc,_lvl_1+0
1844  05E2  79          	ld	a,c
1845  05E3  86          	add	a, (hl)
1846  05E4  5F          	ld	e,a
1847  05E5  78          	ld	a,b
1848  05E6  23          	inc	hl
1849  05E7  8E          	adc	a, (hl)
1850  05E8  57          	ld	d,a
1851  05E9  1A          	ld	a,(de)
1852  05EA  B7          	or	a, a
1853  05EB  20 45       	jr	NZ,l_game_score_osd_00110
1854  05ED  56          	ld	d,(hl)
1855  05EE  2B          	dec	hl
1856  05EF  5E          	ld	e,(hl)
1857  05F0  13          	inc	de
1858  05F1  69          	ld	l, c
1859  05F2  60          	ld	h, b
1860  05F3  19          	add	hl,de
1861  05F4  7E          	ld	a,(hl)
1862  05F5  B7          	or	a, a
1863  05F6  20 3A       	jr	NZ,l_game_score_osd_00110
1864  05F8  76          	halt
1865  05F9  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1866  05FB  21 00 00    	ld	hl,_index_player
1867  05FE  86          	add	a, (hl)
1868  05FF  4F          	ld	c,a
1869  0600  3E 00       	ld	a,+((_score_osd_col) / 256)
1870  0602  CE 00       	adc	a,0x00
1871  0604  47          	ld	b,a
1872  0605  0A          	ld	a,(bc)
1873  0606  57          	ld	d,a
1874  0607  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1875  0609  86          	add	a, (hl)
1876  060A  4F          	ld	c,a
1877  060B  3E 00       	ld	a,+((_score_osd_lin) / 256)
1878  060D  CE 00       	adc	a,0x00
1879  060F  47          	ld	b,a
1880  0610  0A          	ld	a,(bc)
1881  0611  5F          	ld	e,a
1882  0612  6E          	ld	l, (hl)
1883  0613  26 00       	ld	h,0x00
1884  0615  29          	add	hl, hl
1885  0616  01 00 00    	ld	bc,_score_osd_tile
1886  0619  09          	add	hl,bc
1887  061A  46          	ld	b,(hl)
1888  061B  23          	inc	hl
1889  061C  4E          	ld	c,(hl)
1890  061D  D5          	push	de
1891  061E  C5          	push	bc
1892  061F  33          	inc	sp
1893  0620  CD 00 00    	call	_NIRVANAP_drawT_callee
1894  0623  3A 00 00    	ld	a,(_index_player)
1895  0626  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1896  0628  4F          	ld	c,a
1897  0629  3E 00       	ld	a,+((_score_osd_lin) / 256)
1898  062B  CE 00       	adc	a,0x00
1899  062D  47          	ld	b,a
1900  062E  3A 00 00    	ld	a,(_tmp)
1901  0631  02          	ld	(bc),a
1902  0632              l_game_score_osd_00110:
1903  0632  01 00 00    	ld	bc,_score_osd_time+0
1904  0635  2A 00 00    	ld	hl,(_index_player)
1905  0638  26 00       	ld	h,0x00
1906  063A  29          	add	hl, hl
1907  063B  09          	add	hl,bc
1908  063C  4E          	ld	c,(hl)
1909  063D  23          	inc	hl
1910  063E  46          	ld	b,(hl)
1911  063F  21 32 00    	ld	hl,0x0032
1912  0642  E5          	push	hl
1913  0643  C5          	push	bc
1914  0644  CD 29 1A    	call	_game_check_time
1915  0647  F1          	pop	af
1916  0648  F1          	pop	af
1917  0649  7D          	ld	a,l
1918  064A  B7          	or	a, a
1919  064B  C8          	ret	Z
1920  064C  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1921  064E  21 00 00    	ld	hl,_index_player
1922  0651  86          	add	a, (hl)
1923  0652  4F          	ld	c,a
1924  0653  3E 00       	ld	a,+((_score_osd_col) / 256)
1925  0655  CE 00       	adc	a,0x00
1926  0657  47          	ld	b,a
1927  0658  0A          	ld	a,(bc)
1928  0659  57          	ld	d,a
1929  065A  4E          	ld	c,(hl)
1930  065B  06 00       	ld	b,0x00
1931  065D  21 00 00    	ld	hl,_score_osd_lin
1932  0660  09          	add	hl,bc
1933  0661  5E          	ld	e, (hl)
1934  0662  D5          	push	de
1935  0663  AF          	xor	a, a
1936  0664  F5          	push	af
1937  0665  33          	inc	sp
1938  0666  CD 00 00    	call	_NIRVANAP_fillT_callee
1939  0669  3A 00 00    	ld	a,(_index_player)
1940  066C  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1941  066E  4F          	ld	c,a
1942  066F  3E 00       	ld	a,+((_score_osd_lin) / 256)
1943  0671  CE 00       	adc	a,0x00
1944  0673  47          	ld	b,a
1945  0674  0A          	ld	a,(bc)
1946  0675  32 00 00    	ld	(_s_lin0),a
1947  0678  3A 00 00    	ld	a,(_index_player)
1948  067B  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1949  067D  4F          	ld	c,a
1950  067E  3E 00       	ld	a,+((_score_osd_col) / 256)
1951  0680  CE 00       	adc	a,0x00
1952  0682  47          	ld	b,a
1953  0683  0A          	ld	a,(bc)
1954  0684  32 00 00    	ld	(_s_col0),a
1955  0687  CD 00 00    	call	_spr_check_over
1956  068A  3A 00 00    	ld	a,(_index_player)
1957  068D  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1958  068F  4F          	ld	c,a
1959  0690  3E 00       	ld	a,+((_score_osd_col) / 256)
1960  0692  CE 00       	adc	a,0x00
1961  0694  47          	ld	b,a
1962  0695  3E FF       	ld	a,0xff
1963  0697  02          	ld	(bc),a
1964  0698              l_game_score_osd_00119:
1965  0698  C9          	ret
1966  0699              	SECTION code_compiler
1967  0699              ;	---------------------------------
1968  0699              ; Function game_bonus_clock
1969  0699              ; ---------------------------------
1970  0699              _game_bonus_clock:
1971  0699  2A 00 00    	ld	hl,(_curr_time)
1972  069C  29          	add	hl,hl
1973  069D  3E DC       	ld	a,0xdc
1974  069F  95          	sub	a,l
1975  06A0  44          	ld	b,h
1976  06A1  21 00 00    	ld	hl,_tmp_ui
1977  06A4  77          	ld	(hl),a
1978  06A5  3E 05       	ld	a,0x05
1979  06A7  98          	sbc	a, b
1980  06A8  23          	inc	hl
1981  06A9  77          	ld	(hl),a
1982  06AA  3E DC       	ld	a,0xdc
1983  06AC  2B          	dec	hl
1984  06AD  BE          	cp	a, (hl)
1985  06AE  3E 05       	ld	a,0x05
1986  06B0  23          	inc	hl
1987  06B1  9E          	sbc	a, (hl)
1988  06B2  30 14       	jr	NC,l_game_bonus_clock_00106
1989  06B4  2B          	dec	hl
1990  06B5  AF          	xor	a, a
1991  06B6  77          	ld	(hl), a
1992  06B7  23          	inc	hl
1993  06B8  77          	ld	(hl), a
1994  06B9  21 00 00    	ld	hl,_phase_left
1995  06BC  36 00       	ld	(hl),0x00
1996  06BE  21 00 00    	ld	hl,_phase_end
1997  06C1  36 01       	ld	(hl),0x01
1998  06C3  CD 00 00    	call	_ay_reset
1999  06C6  18 36       	jr	l_game_bonus_clock_00108
2000  06C8              l_game_bonus_clock_00106:
2001  06C8  3A 00 00    	ld	a,(_phase_left)
2002  06CB  B7          	or	a, a
2003  06CC  C8          	ret	Z
2004  06CD  2A 00 00    	ld	hl,(_tmp_ui)
2005  06D0  E5          	push	hl
2006  06D1  21 02 0E    	ld	hl,0x0e02
2007  06D4  E5          	push	hl
2008  06D5  CD 00 00    	call	_zx_print_bonus_time
2009  06D8  21 05 00    	ld	hl,0x0005
2010  06DB  E5          	push	hl
2011  06DC  2A 00 00    	ld	hl,(_frame_time)
2012  06DF  E5          	push	hl
2013  06E0  CD 29 1A    	call	_game_check_time
2014  06E3  F1          	pop	af
2015  06E4  F1          	pop	af
2016  06E5  7D          	ld	a,l
2017  06E6  B7          	or	a, a
2018  06E7  C8          	ret	Z
2019  06E8  2A 00 00    	ld	hl,(_curr_time)
2020  06EB  22 00 00    	ld	(_frame_time),hl
2021  06EE  21 14 18    	ld	hl,0x1814
2022  06F1  E5          	push	hl
2023  06F2  3E 0E       	ld	a,0x0e
2024  06F4  F5          	push	af
2025  06F5  33          	inc	sp
2026  06F6  CD 0C 0D    	call	_game_paint_attrib_lin_h
2027  06F9  F1          	pop	af
2028  06FA  33          	inc	sp
2029  06FB  CD 7B 19    	call	_game_rotate_attrib
2030  06FE              l_game_bonus_clock_00108:
2031  06FE  C9          	ret
2032  06FF              	SECTION code_compiler
2033  06FF              ;	---------------------------------
2034  06FF              ; Function game_bonus_summary
2035  06FF              ; ---------------------------------
2036  06FF              _game_bonus_summary:
2037  06FF  CD BC 08    	call	_game_kill_all_sprites
2038  0702  CD 00 00    	call	_spr_draw_clear
2039  0705  21 00 00    	ld	hl,0x0000
2040  0708  CD 00 00    	call	_zx_cls_fastcall
2041  070B  CD B1 00    	call	_game_phase_print_score_back
2042  070E  CD 90 0C    	call	_game_print_score
2043  0711  3A 00 00    	ld	a,(_game_lives)
2044  0714  B7          	or	a, a
2045  0715  28 05       	jr	Z,l_game_bonus_summary_00102
2046  0717  2E 00       	ld	l,0x00
2047  0719  CD B4 07    	call	_game_bonus_summary_player
2048  071C              l_game_bonus_summary_00102:
2049  071C  3A 01 00    	ld	a, (_game_lives + 1)
2050  071F  B7          	or	a, a
2051  0720  28 05       	jr	Z,l_game_bonus_summary_00104
2052  0722  2E 01       	ld	l,0x01
2053  0724  CD B4 07    	call	_game_bonus_summary_player
2054  0727              l_game_bonus_summary_00104:
2055  0727  21 1F 98    	ld	hl,0x981f
2056  072A  E5          	push	hl
2057  072B  AF          	xor	a, a
2058  072C  F5          	push	af
2059  072D  33          	inc	sp
2060  072E  CD E5 0C    	call	_game_paint_attrib_lin
2061  0731  F1          	pop	af
2062  0732  33          	inc	sp
2063  0733  3A 00 00    	ld	a,(_phase_bonus_total)
2064  0736  D6 06       	sub	a,0x06
2065  0738  20 68       	jr	NZ,l_game_bonus_summary_00109
2066  073A  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2067  073D  B7          	or	a, a
2068  073E  20 62       	jr	NZ,l_game_bonus_summary_00109
2069  0740  CD 00 00    	call	_sound_jump
2070  0743  3A 00 00    	ld	a,(_phase_curr)
2071  0746  D6 03       	sub	a,0x03
2072  0748  20 23       	jr	NZ,l_game_bonus_summary_00106
2073  074A  21 81 00    	ld	hl,___str_19
2074  074D  E5          	push	hl
2075  074E  21 12 06    	ld	hl,0x0612
2076  0751  E5          	push	hl
2077  0752  CD 00 00    	call	_zx_print_str
2078  0755  21 00 00    	ld	hl,_index_player
2079  0758  36 00       	ld	(hl),0x00
2080  075A  21 2C 01    	ld	hl,0x012c
2081  075D  CD 00 00    	call	_player_score_add
2082  0760  21 00 00    	ld	hl,_index_player
2083  0763  36 01       	ld	(hl),0x01
2084  0765  21 2C 01    	ld	hl,0x012c
2085  0768  CD 00 00    	call	_player_score_add
2086  076B  18 21       	jr	l_game_bonus_summary_00107
2087  076D              l_game_bonus_summary_00106:
2088  076D  21 94 00    	ld	hl,___str_20
2089  0770  E5          	push	hl
2090  0771  21 12 06    	ld	hl,0x0612
2091  0774  E5          	push	hl
2092  0775  CD 00 00    	call	_zx_print_str
2093  0778  21 00 00    	ld	hl,_index_player
2094  077B  36 00       	ld	(hl),0x00
2095  077D  21 F4 01    	ld	hl,0x01f4
2096  0780  CD 00 00    	call	_player_score_add
2097  0783  21 00 00    	ld	hl,_index_player
2098  0786  36 01       	ld	(hl),0x01
2099  0788  21 F4 01    	ld	hl,0x01f4
2100  078B  CD 00 00    	call	_player_score_add
2101  078E              l_game_bonus_summary_00107:
2102  078E  21 C8 00    	ld	hl,0x00c8
2103  0791  E5          	push	hl
2104  0792  21 10 1A    	ld	hl,0x1a10
2105  0795  E5          	push	hl
2106  0796  3E 12       	ld	a,0x12
2107  0798  F5          	push	af
2108  0799  33          	inc	sp
2109  079A  CD 97 19    	call	_game_colour_message
2110  079D  F1          	pop	af
2111  079E  F1          	pop	af
2112  079F  33          	inc	sp
2113  07A0  18 11       	jr	l_game_bonus_summary_00112
2114  07A2              l_game_bonus_summary_00109:
2115  07A2  21 A7 00    	ld	hl,___str_21
2116  07A5  E5          	push	hl
2117  07A6  21 12 0C    	ld	hl,0x0c12
2118  07A9  E5          	push	hl
2119  07AA  CD 00 00    	call	_zx_print_str
2120  07AD  21 E8 03    	ld	hl,0x03e8
2121  07B0  CD 00 00    	call	_z80_delay_ms_fastcall
2122  07B3              l_game_bonus_summary_00112:
2123  07B3  C9          	ret
2124  07B4              	SECTION rodata_compiler
2125  0081              ___str_19:
2126  0081  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2127  0093  00          	DEFB 0x00
2128  0094              	SECTION rodata_compiler
2129  0094              ___str_20:
2130  0094  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2131  00A6  00          	DEFB 0x00
2132  00A7              	SECTION rodata_compiler
2133  00A7              ___str_21:
2134  00A7  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2135  00AF  00          	DEFB 0x00
2136  00B0              	SECTION code_compiler
2137  07B4              ;	---------------------------------
2138  07B4              ; Function game_bonus_summary_player
2139  07B4              ; ---------------------------------
2140  07B4              _game_bonus_summary_player:
2141  07B4  CD 00 00    	call	___sdcc_enter_ix
2142  07B7  F5          	push	af
2143  07B8  3B          	dec	sp
2144  07B9  DD 75 FD    	ld	(ix-3),l
2145  07BC  76          	halt
2146  07BD  DD 7E FD    	ld	a,(ix-3)
2147  07C0  B7          	or	a, a
2148  07C1  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2149  07C3  21 00 00    	ld	hl,_s_lin1
2150  07C6  36 06       	ld	(hl),0x06
2151  07C8  21 B0 00    	ld	hl,___str_22
2152  07CB  E5          	push	hl
2153  07CC  21 06 07    	ld	hl,0x0706
2154  07CF  E5          	push	hl
2155  07D0  CD 00 00    	call	_zx_print_str
2156  07D3  3A 00 00    	ld	a,(_s_lin1)
2157  07D6  07          	rlca
2158  07D7  07          	rlca
2159  07D8  07          	rlca
2160  07D9  E6 F8       	and	a,0xf8
2161  07DB  47          	ld	b,a
2162  07DC  04          	inc	b
2163  07DD  04          	inc	b
2164  07DE  04          	inc	b
2165  07DF  04          	inc	b
2166  07E0  3E 04       	ld	a,0x04
2167  07E2  48          	ld	c,b
2168  07E3  47          	ld	b,a
2169  07E4  C5          	push	bc
2170  07E5  3E 03       	ld	a,0x03
2171  07E7  F5          	push	af
2172  07E8  33          	inc	sp
2173  07E9  CD 00 00    	call	_NIRVANAP_drawT_callee
2174  07EC  21 00 00    	ld	hl,_index_player
2175  07EF  36 00       	ld	(hl),0x00
2176  07F1  18 2E       	jr	l_game_bonus_summary_player_00103
2177  07F3              l_game_bonus_summary_player_00102:
2178  07F3  21 00 00    	ld	hl,_s_lin1
2179  07F6  36 0C       	ld	(hl),0x0c
2180  07F8  21 B7 00    	ld	hl,___str_23
2181  07FB  E5          	push	hl
2182  07FC  21 0C 07    	ld	hl,0x070c
2183  07FF  E5          	push	hl
2184  0800  CD 00 00    	call	_zx_print_str
2185  0803  3A 00 00    	ld	a,(_s_lin1)
2186  0806  07          	rlca
2187  0807  07          	rlca
2188  0808  07          	rlca
2189  0809  E6 F8       	and	a,0xf8
2190  080B  47          	ld	b,a
2191  080C  04          	inc	b
2192  080D  04          	inc	b
2193  080E  04          	inc	b
2194  080F  04          	inc	b
2195  0810  3E 04       	ld	a,0x04
2196  0812  48          	ld	c,b
2197  0813  47          	ld	b,a
2198  0814  C5          	push	bc
2199  0815  3E 1B       	ld	a,0x1b
2200  0817  F5          	push	af
2201  0818  33          	inc	sp
2202  0819  CD 00 00    	call	_NIRVANAP_drawT_callee
2203  081C  21 00 00    	ld	hl,_index_player
2204  081F  36 01       	ld	(hl),0x01
2205  0821              l_game_bonus_summary_player_00103:
2206  0821  3A 00 00    	ld	a,(_s_lin1)
2207  0824  07          	rlca
2208  0825  07          	rlca
2209  0826  07          	rlca
2210  0827  E6 F8       	and	a,0xf8
2211  0829  C6 08       	add	a,0x08
2212  082B  F5          	push	af
2213  082C  33          	inc	sp
2214  082D  21 07 1F    	ld	hl,0x1f07
2215  0830  E5          	push	hl
2216  0831  CD E5 0C    	call	_game_paint_attrib_lin
2217  0834  F1          	pop	af
2218  0835  33          	inc	sp
2219  0836  21 00 00    	ld	hl,_tmp_uc
2220  0839  36 00       	ld	(hl),0x00
2221  083B  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2222  083D  DD 86 FD    	add	a,(ix-3)
2223  0840  DD 77 FE    	ld	(ix-2),a
2224  0843  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2225  0845  CE 00       	adc	a,0x00
2226  0847  DD 77 FF    	ld	(ix-1),a
2227  084A              l_game_bonus_summary_player_00107:
2228  084A  DD 6E FE    	ld	l,(ix-2)
2229  084D  DD 66 FF    	ld	h,(ix-1)
2230  0850  4E          	ld	c,(hl)
2231  0851  3A 00 00    	ld	a,(_tmp_uc)
2232  0854  91          	sub	a, c
2233  0855  30 53       	jr	NC,l_game_bonus_summary_player_00109
2234  0857  3A 00 00    	ld	a,(_s_lin1)
2235  085A  07          	rlca
2236  085B  07          	rlca
2237  085C  07          	rlca
2238  085D  E6 F8       	and	a,0xf8
2239  085F  4F          	ld	c,a
2240  0860  3A 00 00    	ld	a,(_tmp_uc)
2241  0863  D6 03       	sub	a,0x03
2242  0865  30 08       	jr	NC,l_game_bonus_summary_player_00105
2243  0867  79          	ld	a,c
2244  0868  C6 F8       	add	a,0xf8
2245  086A  32 00 00    	ld	(_s_lin0),a
2246  086D  18 06       	jr	l_game_bonus_summary_player_00106
2247  086F              l_game_bonus_summary_player_00105:
2248  086F  79          	ld	a,c
2249  0870  C6 08       	add	a,0x08
2250  0872  32 00 00    	ld	(_s_lin0),a
2251  0875              l_game_bonus_summary_player_00106:
2252  0875  76          	halt
2253  0876  2A 00 00    	ld	hl,(_tmp_uc)
2254  0879  26 03       	ld	h,0x03
2255  087B  E5          	push	hl
2256  087C  CD 00 00    	call	__moduchar_callee
2257  087F  7D          	ld	a,l
2258  0880  87          	add	a, a
2259  0881  C6 0E       	add	a,0x0e
2260  0883  F5          	push	af
2261  0884  33          	inc	sp
2262  0885  3A 00 00    	ld	a,(_s_lin0)
2263  0888  57          	ld	d,a
2264  0889  1E B9       	ld	e,0xb9
2265  088B  D5          	push	de
2266  088C  CD 00 00    	call	_NIRVANAP_drawT_callee
2267  088F  21 50 00    	ld	hl,0x0050
2268  0892  CD 00 00    	call	_player_score_add
2269  0895  21 00 00    	ld	hl,_tmp_uc
2270  0898  34          	inc	(hl)
2271  0899  21 00 00    	ld	hl,_ay_effect_09
2272  089C  CD 00 00    	call	_ay_fx_play
2273  089F  CD 00 00    	call	_sound_coin
2274  08A2  21 32 00    	ld	hl,0x0032
2275  08A5  CD 00 00    	call	_z80_delay_ms_fastcall
2276  08A8  18 A0       	jr	l_game_bonus_summary_player_00107
2277  08AA              l_game_bonus_summary_player_00109:
2278  08AA  21 BD 00    	ld	hl,___str_24
2279  08AD  E5          	push	hl
2280  08AE  2A 00 00    	ld	hl,(_s_lin1)
2281  08B1  26 16       	ld	h,0x16
2282  08B3  E5          	push	hl
2283  08B4  CD 00 00    	call	_zx_print_str
2284  08B7  DD F9       	ld	sp, ix
2285  08B9  DD E1       	pop	ix
2286  08BB  C9          	ret
2287  08BC              	SECTION rodata_compiler
2288  00B0              ___str_22:
2289  00B0  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2290  00B6  00          	DEFB 0x00
2291  00B7              	SECTION rodata_compiler
2292  00B7              ___str_23:
2293  00B7  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2294  00BC  00          	DEFB 0x00
2295  00BD              	SECTION rodata_compiler
2296  00BD              ___str_24:
2297  00BD  58 20 38 30 30 
                        	DEFM "X 800"
2298  00C2  00          	DEFB 0x00
2299  00C3              	SECTION code_compiler
2300  08BC              ;	---------------------------------
2301  08BC              ; Function game_kill_all_sprites
2302  08BC              ; ---------------------------------
2303  08BC              _game_kill_all_sprites:
2304  08BC  21 00 00    	ld	hl,_sprite
2305  08BF  36 00       	ld	(hl),0x00
2306  08C1              l_game_kill_all_sprites_00102:
2307  08C1  2A 00 00    	ld	hl,(_sprite)
2308  08C4  CD 00 00    	call	_spr_destroy
2309  08C7  21 00 00    	ld	hl,_sprite
2310  08CA  7E          	ld	a,(hl)
2311  08CB  3C          	inc	a
2312  08CC  77          	ld	(hl),a
2313  08CD  D6 08       	sub	a,0x08
2314  08CF  38 F0       	jr	C,l_game_kill_all_sprites_00102
2315  08D1  C9          	ret
2316  08D2              	SECTION code_compiler
2317  08D2              ;	---------------------------------
2318  08D2              ; Function game_check_maze
2319  08D2              ; ---------------------------------
2320  08D2              _game_check_maze:
2321  08D2  4D          	ld	c,l
2322  08D3  44          	ld	b,h
2323  08D4  21 00 00    	ld	hl,_lvl_1
2324  08D7  09          	add	hl,bc
2325  08D8  7E          	ld	a, (hl)
2326  08D9  D6 10       	sub	a,0x10
2327  08DB  30 0A       	jr	NC,l_game_check_maze_00103
2328  08DD  03          	inc	bc
2329  08DE  21 00 00    	ld	hl,_lvl_1
2330  08E1  09          	add	hl,bc
2331  08E2  7E          	ld	a, (hl)
2332  08E3  D6 10       	sub	a,0x10
2333  08E5  38 04       	jr	C,l_game_check_maze_00104
2334  08E7              l_game_check_maze_00103:
2335  08E7  2E 00       	ld	l,0x00
2336  08E9  18 02       	jr	l_game_check_maze_00105
2337  08EB              l_game_check_maze_00104:
2338  08EB  2E 01       	ld	l,0x01
2339  08ED              l_game_check_maze_00105:
2340  08ED  C9          	ret
2341  08EE              	SECTION code_compiler
2342  08EE              ;	---------------------------------
2343  08EE              ; Function game_enemy_add
2344  08EE              ; ---------------------------------
2345  08EE              _game_enemy_add:
2346  08EE  3A 00 00    	ld	a,(_game_type)
2347  08F1  D6 02       	sub	a,0x02
2348  08F3  20 05       	jr	NZ,l_game_enemy_add_00106
2349  08F5  CD 3B 0A    	call	_game_enemy_rnd
2350  08F8  18 21       	jr	l_game_enemy_add_00107
2351  08FA              l_game_enemy_add_00106:
2352  08FA  3A 00 00    	ld	a,(_spr_count)
2353  08FD  D6 06       	sub	a,0x06
2354  08FF  30 1A       	jr	NC,l_game_enemy_add_00107
2355  0901  21 64 00    	ld	hl,0x0064
2356  0904  E5          	push	hl
2357  0905  2A 00 00    	ld	hl,(_entry_time)
2358  0908  E5          	push	hl
2359  0909  CD 29 1A    	call	_game_check_time
2360  090C  F1          	pop	af
2361  090D  F1          	pop	af
2362  090E  7D          	ld	a,l
2363  090F  B7          	or	a, a
2364  0910  28 09       	jr	Z,l_game_enemy_add_00107
2365  0912  3A 00 00    	ld	a,(_phase_left)
2366  0915  B7          	or	a, a
2367  0916  28 03       	jr	Z,l_game_enemy_add_00107
2368  0918  CD 1E 09    	call	_game_enemy_quota
2369  091B              l_game_enemy_add_00107:
2370  091B  2E 00       	ld	l,0x00
2371  091D  C9          	ret
2372  091E              	SECTION code_compiler
2373  091E              ;	---------------------------------
2374  091E              ; Function game_enemy_quota
2375  091E              ; ---------------------------------
2376  091E              _game_enemy_quota:
2377  091E  CD 00 00    	call	_rand
2378  0921  7D          	ld	a, l
2379  0922  E6 01       	and	a,0x01
2380  0924  32 00 00    	ld	(_tmp),a
2381  0927  3A 00 00    	ld	a,(_phase_pop)
2382  092A  B7          	or	a, a
2383  092B  28 06       	jr	Z,l_game_enemy_quota_00101
2384  092D  3A 00 00    	ld	a,(_phase_left)
2385  0930  3D          	dec	a
2386  0931  20 05       	jr	NZ,l_game_enemy_quota_00102
2387  0933              l_game_enemy_quota_00101:
2388  0933  21 00 00    	ld	hl,_tmp
2389  0936  36 00       	ld	(hl),0x00
2390  0938              l_game_enemy_quota_00102:
2391  0938  3A 00 00    	ld	a,(_phase_left)
2392  093B  B7          	or	a, a
2393  093C  28 69       	jr	Z,l_game_enemy_quota_00117
2394  093E  3A 00 00    	ld	a,(_tmp)
2395  0941  B7          	or	a, a
2396  0942  20 63       	jr	NZ,l_game_enemy_quota_00117
2397  0944  01 02 00    	ld	bc,_phase_quota + 2
2398  0947  0A          	ld	a,(bc)
2399  0948  B7          	or	a, a
2400  0949  28 10       	jr	Z,l_game_enemy_quota_00105
2401  094B  C5          	push	bc
2402  094C  2E 09       	ld	l,0x09
2403  094E  CD 6B 0A    	call	_game_enemy_add1
2404  0951  C1          	pop	bc
2405  0952  0A          	ld	a,(bc)
2406  0953  C6 FF       	add	a,0xff
2407  0955  02          	ld	(bc),a
2408  0956  2E 00       	ld	l,0x00
2409  0958  C3 3A 0A    	jp	l_game_enemy_quota_00134
2410  095B              l_game_enemy_quota_00105:
2411  095B  01 01 00    	ld	bc,_phase_quota + 1
2412  095E  0A          	ld	a,(bc)
2413  095F  B7          	or	a, a
2414  0960  28 1F       	jr	Z,l_game_enemy_quota_00110
2415  0962  3A 00 00    	ld	a,(_phase_angry)
2416  0965  B7          	or	a, a
2417  0966  28 09       	jr	Z,l_game_enemy_quota_00107
2418  0968  C5          	push	bc
2419  0969  2E 06       	ld	l,0x06
2420  096B  CD 6B 0A    	call	_game_enemy_add1
2421  096E  C1          	pop	bc
2422  096F  18 07       	jr	l_game_enemy_quota_00108
2423  0971              l_game_enemy_quota_00107:
2424  0971  C5          	push	bc
2425  0972  2E 04       	ld	l,0x04
2426  0974  CD 6B 0A    	call	_game_enemy_add1
2427  0977  C1          	pop	bc
2428  0978              l_game_enemy_quota_00108:
2429  0978  0A          	ld	a,(bc)
2430  0979  C6 FF       	add	a,0xff
2431  097B  02          	ld	(bc),a
2432  097C  2E 00       	ld	l,0x00
2433  097E  C3 3A 0A    	jp	l_game_enemy_quota_00134
2434  0981              l_game_enemy_quota_00110:
2435  0981  3A 00 00    	ld	a,(_phase_quota)
2436  0984  B7          	or	a, a
2437  0985  28 20       	jr	Z,l_game_enemy_quota_00117
2438  0987  3A 00 00    	ld	a,(_phase_angry)
2439  098A  B7          	or	a, a
2440  098B  28 07       	jr	Z,l_game_enemy_quota_00112
2441  098D  2E 03       	ld	l,0x03
2442  098F  CD 6B 0A    	call	_game_enemy_add1
2443  0992  18 05       	jr	l_game_enemy_quota_00113
2444  0994              l_game_enemy_quota_00112:
2445  0994  2E 01       	ld	l,0x01
2446  0996  CD 6B 0A    	call	_game_enemy_add1
2447  0999              l_game_enemy_quota_00113:
2448  0999  21 00 00    	ld	hl,_phase_quota
2449  099C  4E          	ld	c,(hl)
2450  099D  0D          	dec	c
2451  099E  21 00 00    	ld	hl,_phase_quota
2452  09A1  71          	ld	(hl),c
2453  09A2  2E 00       	ld	l,0x00
2454  09A4  C3 3A 0A    	jp	l_game_enemy_quota_00134
2455  09A7              l_game_enemy_quota_00117:
2456  09A7  3A 00 00    	ld	a,(_phase_coins)
2457  09AA  B7          	or	a, a
2458  09AB  28 0A       	jr	Z,l_game_enemy_quota_00120
2459  09AD  2E 08       	ld	l,0x08
2460  09AF  CD 6B 0A    	call	_game_enemy_add1
2461  09B2  2E 00       	ld	l,0x00
2462  09B4  C3 3A 0A    	jp	l_game_enemy_quota_00134
2463  09B7              l_game_enemy_quota_00120:
2464  09B7  CD 00 00    	call	_rand
2465  09BA  7D          	ld	a,l
2466  09BB  E6 03       	and	a,0x03
2467  09BD  44          	ld	b,h
2468  09BE  0E 00       	ld	c,0x00
2469  09C0  CB 79       	bit	7,c
2470  09C2  20 74       	jr	NZ,l_game_enemy_quota_00133
2471  09C4  5F          	ld	e,a
2472  09C5  3E 03       	ld	a,0x03
2473  09C7  BB          	cp	a, e
2474  09C8  3E 00       	ld	a,0x00
2475  09CA  99          	sbc	a, c
2476  09CB  E2 D0 09    	jp	PO, l_game_enemy_quota_00198
2477  09CE  EE 80       	xor	a,0x80
2478  09D0              l_game_enemy_quota_00198:
2479  09D0  FA 38 0A    	jp	M,l_game_enemy_quota_00133
2480  09D3  16 00       	ld	d,0x00
2481  09D5  21 DB 09    	ld	hl,l_game_enemy_quota_00199
2482  09D8  19          	add	hl,de
2483  09D9  19          	add	hl,de
2484  09DA  E9          	jp	(hl)
2485  09DB              l_game_enemy_quota_00199:
2486  09DB  18 06       	jr	l_game_enemy_quota_00121
2487  09DD  18 13       	jr	l_game_enemy_quota_00124
2488  09DF  18 29       	jr	l_game_enemy_quota_00127
2489  09E1  18 3F       	jr	l_game_enemy_quota_00130
2490  09E3              l_game_enemy_quota_00121:
2491  09E3  3E 07       	ld	a,0x07
2492  09E5  21 00 00    	ld	hl,_phase_curr
2493  09E8  96          	sub	a, (hl)
2494  09E9  30 4D       	jr	NC,l_game_enemy_quota_00133
2495  09EB  2E 07       	ld	l,0x07
2496  09ED  CD 6B 0A    	call	_game_enemy_add1
2497  09F0  18 46       	jr	l_game_enemy_quota_00133
2498  09F2              l_game_enemy_quota_00124:
2499  09F2  2A 00 00    	ld	hl,(_game_time_fireball_start)
2500  09F5  E5          	push	hl
2501  09F6  21 00 00    	ld	hl,0x0000
2502  09F9  E5          	push	hl
2503  09FA  CD 29 1A    	call	_game_check_time
2504  09FD  F1          	pop	af
2505  09FE  F1          	pop	af
2506  09FF  7D          	ld	a,l
2507  0A00  B7          	or	a, a
2508  0A01  28 35       	jr	Z,l_game_enemy_quota_00133
2509  0A03  2E 0B       	ld	l,0x0b
2510  0A05  CD 6B 0A    	call	_game_enemy_add1
2511  0A08  18 2E       	jr	l_game_enemy_quota_00133
2512  0A0A              l_game_enemy_quota_00127:
2513  0A0A  2A 00 00    	ld	hl,(_game_time_fireball_start)
2514  0A0D  E5          	push	hl
2515  0A0E  21 00 00    	ld	hl,0x0000
2516  0A11  E5          	push	hl
2517  0A12  CD 29 1A    	call	_game_check_time
2518  0A15  F1          	pop	af
2519  0A16  F1          	pop	af
2520  0A17  7D          	ld	a,l
2521  0A18  B7          	or	a, a
2522  0A19  28 1D       	jr	Z,l_game_enemy_quota_00133
2523  0A1B  2E 0B       	ld	l,0x0b
2524  0A1D  CD 6B 0A    	call	_game_enemy_add1
2525  0A20  18 16       	jr	l_game_enemy_quota_00133
2526  0A22              l_game_enemy_quota_00130:
2527  0A22  2A 00 00    	ld	hl,(_game_time_fireball_start)
2528  0A25  E5          	push	hl
2529  0A26  21 00 00    	ld	hl,0x0000
2530  0A29  E5          	push	hl
2531  0A2A  CD 29 1A    	call	_game_check_time
2532  0A2D  F1          	pop	af
2533  0A2E  F1          	pop	af
2534  0A2F  7D          	ld	a,l
2535  0A30  B7          	or	a, a
2536  0A31  28 05       	jr	Z,l_game_enemy_quota_00133
2537  0A33  2E 0A       	ld	l,0x0a
2538  0A35  CD 6B 0A    	call	_game_enemy_add1
2539  0A38              l_game_enemy_quota_00133:
2540  0A38  2E 00       	ld	l,0x00
2541  0A3A              l_game_enemy_quota_00134:
2542  0A3A  C9          	ret
2543  0A3B              	SECTION code_compiler
2544  0A3B              ;	---------------------------------
2545  0A3B              ; Function game_enemy_rnd
2546  0A3B              ; ---------------------------------
2547  0A3B              _game_enemy_rnd:
2548  0A3B  3A 00 00    	ld	a,(_spr_count)
2549  0A3E  D6 06       	sub	a,0x06
2550  0A40  30 26       	jr	NC,l_game_enemy_rnd_00102
2551  0A42  21 64 00    	ld	hl,0x0064
2552  0A45  E5          	push	hl
2553  0A46  2A 00 00    	ld	hl,(_entry_time)
2554  0A49  E5          	push	hl
2555  0A4A  CD 29 1A    	call	_game_check_time
2556  0A4D  F1          	pop	af
2557  0A4E  F1          	pop	af
2558  0A4F  7D          	ld	a,l
2559  0A50  B7          	or	a, a
2560  0A51  28 15       	jr	Z,l_game_enemy_rnd_00102
2561  0A53  2A 00 00    	ld	hl,(_curr_time)
2562  0A56  22 00 00    	ld	(_entry_time),hl
2563  0A59  CD 00 00    	call	_rand
2564  0A5C  01 0B 00    	ld	bc,0x000b
2565  0A5F  C5          	push	bc
2566  0A60  E5          	push	hl
2567  0A61  CD 00 00    	call	__modsint_callee
2568  0A64  2C          	inc	l
2569  0A65  CD 6B 0A    	call	_game_enemy_add1
2570  0A68              l_game_enemy_rnd_00102:
2571  0A68  2E 00       	ld	l,0x00
2572  0A6A  C9          	ret
2573  0A6B              	SECTION code_compiler
2574  0A6B              ;	---------------------------------
2575  0A6B              ; Function game_enemy_add1
2576  0A6B              ; ---------------------------------
2577  0A6B              _game_enemy_add1:
2578  0A6B  CD 00 00    	call	___sdcc_enter_ix
2579  0A6E  F5          	push	af
2580  0A6F  45          	ld	b,l
2581  0A70  78          	ld	a,b
2582  0A71  D6 0A       	sub	a,0x0a
2583  0A73  20 04       	jr	NZ,l_game_enemy_add1_00185
2584  0A75  3E 01       	ld	a,0x01
2585  0A77  18 01       	jr	l_game_enemy_add1_00186
2586  0A79              l_game_enemy_add1_00185:
2587  0A79  AF          	xor	a,a
2588  0A7A              l_game_enemy_add1_00186:
2589  0A7A  4F          	ld	c,a
2590  0A7B  B7          	or	a, a
2591  0A7C  28 0B       	jr	Z,l_game_enemy_add1_00105
2592  0A7E  C5          	push	bc
2593  0A7F  2E 0A       	ld	l,0x0a
2594  0A81  CD AD 0B    	call	_game_enemy_add_get_index
2595  0A84  C1          	pop	bc
2596  0A85  5D          	ld	e,l
2597  0A86  1C          	inc	e
2598  0A87  20 2B       	jr	NZ,l_game_enemy_add1_00101
2599  0A89              l_game_enemy_add1_00105:
2600  0A89  78          	ld	a,b
2601  0A8A  D6 0B       	sub	a,0x0b
2602  0A8C  20 04       	jr	NZ,l_game_enemy_add1_00189
2603  0A8E  3E 01       	ld	a,0x01
2604  0A90  18 01       	jr	l_game_enemy_add1_00190
2605  0A92              l_game_enemy_add1_00189:
2606  0A92  AF          	xor	a,a
2607  0A93              l_game_enemy_add1_00190:
2608  0A93  DD 77 FE    	ld	(ix-2),a
2609  0A96  B7          	or	a, a
2610  0A97  28 0B       	jr	Z,l_game_enemy_add1_00107
2611  0A99  C5          	push	bc
2612  0A9A  2E 0B       	ld	l,0x0b
2613  0A9C  CD AD 0B    	call	_game_enemy_add_get_index
2614  0A9F  C1          	pop	bc
2615  0AA0  5D          	ld	e,l
2616  0AA1  1C          	inc	e
2617  0AA2  20 10       	jr	NZ,l_game_enemy_add1_00101
2618  0AA4              l_game_enemy_add1_00107:
2619  0AA4  78          	ld	a,b
2620  0AA5  D6 07       	sub	a,0x07
2621  0AA7  20 10       	jr	NZ,l_game_enemy_add1_00102
2622  0AA9  C5          	push	bc
2623  0AAA  2E 07       	ld	l,0x07
2624  0AAC  CD AD 0B    	call	_game_enemy_add_get_index
2625  0AAF  C1          	pop	bc
2626  0AB0  5D          	ld	e,l
2627  0AB1  1C          	inc	e
2628  0AB2  28 05       	jr	Z,l_game_enemy_add1_00102
2629  0AB4              l_game_enemy_add1_00101:
2630  0AB4  2E 00       	ld	l,0x00
2631  0AB6  C3 A9 0B    	jp	l_game_enemy_add1_00131
2632  0AB9              l_game_enemy_add1_00102:
2633  0AB9  21 00 00    	ld	hl,_phase_pop
2634  0ABC  34          	inc	(hl)
2635  0ABD  C5          	push	bc
2636  0ABE  CD 00 00    	call	_sound_enter_enemy
2637  0AC1  2E 00       	ld	l,0x00
2638  0AC3  CD AD 0B    	call	_game_enemy_add_get_index
2639  0AC6  C1          	pop	bc
2640  0AC7  7D          	ld	a,l
2641  0AC8  32 00 00    	ld	(_tmp),a
2642  0ACB  C5          	push	bc
2643  0ACC  CD 00 00    	call	_rand
2644  0ACF  C1          	pop	bc
2645  0AD0  7D          	ld	a, l
2646  0AD1  E6 01       	and	a,0x01
2647  0AD3  32 00 00    	ld	(_tmp0),a
2648  0AD6  3D          	dec	a
2649  0AD7  20 1C       	jr	NZ,l_game_enemy_add1_00113
2650  0AD9  21 00 00    	ld	hl,_s_lin0
2651  0ADC  36 10       	ld	(hl),0x10
2652  0ADE  21 00 00    	ld	hl,_s_col0
2653  0AE1  36 04       	ld	(hl),0x04
2654  0AE3  21 00 00    	ld	hl,_s_col1
2655  0AE6  36 02       	ld	(hl),0x02
2656  0AE8  79          	ld	a,c
2657  0AE9  B7          	or	a, a
2658  0AEA  28 02       	jr	Z,l_game_enemy_add1_00109
2659  0AEC  36 03       	ld	(hl),0x03
2660  0AEE              l_game_enemy_add1_00109:
2661  0AEE  21 00 00    	ld	hl,_tmp1
2662  0AF1  36 01       	ld	(hl),0x01
2663  0AF3  18 1A       	jr	l_game_enemy_add1_00114
2664  0AF5              l_game_enemy_add1_00113:
2665  0AF5  21 00 00    	ld	hl,_s_lin0
2666  0AF8  36 10       	ld	(hl),0x10
2667  0AFA  21 00 00    	ld	hl,_s_col0
2668  0AFD  36 1A       	ld	(hl),0x1a
2669  0AFF  21 00 00    	ld	hl,_s_col1
2670  0B02  36 1E       	ld	(hl),0x1e
2671  0B04  79          	ld	a,c
2672  0B05  B7          	or	a, a
2673  0B06  28 02       	jr	Z,l_game_enemy_add1_00111
2674  0B08  36 1C       	ld	(hl),0x1c
2675  0B0A              l_game_enemy_add1_00111:
2676  0B0A  21 00 00    	ld	hl,_tmp1
2677  0B0D  36 FF       	ld	(hl),0xff
2678  0B0F              l_game_enemy_add1_00114:
2679  0B0F  78          	ld	a,b
2680  0B10  D6 08       	sub	a,0x08
2681  0B12  20 04       	jr	NZ,l_game_enemy_add1_00198
2682  0B14  3E 01       	ld	a,0x01
2683  0B16  18 01       	jr	l_game_enemy_add1_00199
2684  0B18              l_game_enemy_add1_00198:
2685  0B18  AF          	xor	a,a
2686  0B19              l_game_enemy_add1_00199:
2687  0B19  DD 77 FF    	ld	(ix-1),a
2688  0B1C  B7          	or	a, a
2689  0B1D  28 04       	jr	Z,l_game_enemy_add1_00116
2690  0B1F  21 00 00    	ld	hl,_phase_coins
2691  0B22  35          	dec	(hl)
2692  0B23              l_game_enemy_add1_00116:
2693  0B23  21 00 00    	ld	hl,_tmp_uc
2694  0B26  36 00       	ld	(hl),0x00
2695  0B28  DD 7E FE    	ld	a,(ix-2)
2696  0B2B  B7          	or	a,a
2697  0B2C  20 03       	jr	NZ,l_game_enemy_add1_00123
2698  0B2E  B1          	or	a,c
2699  0B2F  28 35       	jr	Z,l_game_enemy_add1_00124
2700  0B31              l_game_enemy_add1_00123:
2701  0B31  C5          	push	bc
2702  0B32  CD 00 00    	call	_rand
2703  0B35  11 03 00    	ld	de,0x0003
2704  0B38  D5          	push	de
2705  0B39  E5          	push	hl
2706  0B3A  CD 00 00    	call	__modsint_callee
2707  0B3D  C1          	pop	bc
2708  0B3E  5D          	ld	e,l
2709  0B3F  21 00 00    	ld	hl,_tmp_uc
2710  0B42  73          	ld	(hl),e
2711  0B43  7B          	ld	a,e
2712  0B44  B7          	or	a, a
2713  0B45  20 02       	jr	NZ,l_game_enemy_add1_00118
2714  0B47  36 10       	ld	(hl),0x10
2715  0B49              l_game_enemy_add1_00118:
2716  0B49  3A 00 00    	ld	a,(_tmp_uc)
2717  0B4C  3D          	dec	a
2718  0B4D  20 05       	jr	NZ,l_game_enemy_add1_00120
2719  0B4F  21 00 00    	ld	hl,_tmp_uc
2720  0B52  36 38       	ld	(hl),0x38
2721  0B54              l_game_enemy_add1_00120:
2722  0B54  3A 00 00    	ld	a,(_tmp_uc)
2723  0B57  D6 02       	sub	a,0x02
2724  0B59  20 05       	jr	NZ,l_game_enemy_add1_00122
2725  0B5B  21 00 00    	ld	hl,_tmp_uc
2726  0B5E  36 84       	ld	(hl),0x84
2727  0B60              l_game_enemy_add1_00122:
2728  0B60  3A 00 00    	ld	a,(_s_col1)
2729  0B63  32 00 00    	ld	(_s_col0),a
2730  0B66              l_game_enemy_add1_00124:
2731  0B66  CD 00 00    	call	_ay_is_playing
2732  0B69  7D          	ld	a,l
2733  0B6A  D6 02       	sub	a,0x02
2734  0B6C  30 14       	jr	NC,l_game_enemy_add1_00130
2735  0B6E  DD 7E FF    	ld	a,(ix-1)
2736  0B71  B7          	or	a, a
2737  0B72  20 08       	jr	NZ,l_game_enemy_add1_00127
2738  0B74  21 00 00    	ld	hl,_ay_effect_04
2739  0B77  CD 00 00    	call	_ay_fx_play
2740  0B7A  18 06       	jr	l_game_enemy_add1_00130
2741  0B7C              l_game_enemy_add1_00127:
2742  0B7C  21 00 00    	ld	hl,_ay_effect_07
2743  0B7F  CD 00 00    	call	_ay_fx_play
2744  0B82              l_game_enemy_add1_00130:
2745  0B82  2A 00 00    	ld	hl,(_curr_time)
2746  0B85  22 00 00    	ld	(_entry_time),hl
2747  0B88  3A 00 00    	ld	a,(_s_lin0)
2748  0B8B  21 00 00    	ld	hl,_tmp_uc
2749  0B8E  86          	add	a, (hl)
2750  0B8F  57          	ld	d,a
2751  0B90  3A 00 00    	ld	a,(_tmp1)
2752  0B93  48          	ld	c,b
2753  0B94  47          	ld	b,a
2754  0B95  3A 00 00    	ld	a,(_s_col0)
2755  0B98  C5          	push	bc
2756  0B99  5A          	ld	e,d
2757  0B9A  57          	ld	d,a
2758  0B9B  3A 00 00    	ld	a,(_tmp)
2759  0B9E  D5          	push	de
2760  0B9F  F5          	push	af
2761  0BA0  33          	inc	sp
2762  0BA1  CD 00 00    	call	_enemy_init
2763  0BA4  F1          	pop	af
2764  0BA5  F1          	pop	af
2765  0BA6  33          	inc	sp
2766  0BA7  2E 00       	ld	l,0x00
2767  0BA9              l_game_enemy_add1_00131:
2768  0BA9  F1          	pop	af
2769  0BAA  DD E1       	pop	ix
2770  0BAC  C9          	ret
2771  0BAD              	SECTION code_compiler
2772  0BAD              ;	---------------------------------
2773  0BAD              ; Function game_enemy_add_get_index
2774  0BAD              ; ---------------------------------
2775  0BAD              _game_enemy_add_get_index:
2776  0BAD  4D          	ld	c,l
2777  0BAE  21 00 00    	ld	hl,_enemies
2778  0BB1  36 00       	ld	(hl),0x00
2779  0BB3              l_game_enemy_add_get_index_00104:
2780  0BB3  2A 00 00    	ld	hl,(_enemies)
2781  0BB6  26 00       	ld	h,0x00
2782  0BB8  11 00 00    	ld	de,_class
2783  0BBB  19          	add	hl,de
2784  0BBC  46          	ld	b, (hl)
2785  0BBD  79          	ld	a,c
2786  0BBE  90          	sub	a,b
2787  0BBF  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2788  0BC1  2A 00 00    	ld	hl,(_enemies)
2789  0BC4  18 0B       	jr	l_game_enemy_add_get_index_00106
2790  0BC6              l_game_enemy_add_get_index_00105:
2791  0BC6  21 00 00    	ld	hl,_enemies
2792  0BC9  34          	inc	(hl)
2793  0BCA  3E 05       	ld	a,0x05
2794  0BCC  96          	sub	a, (hl)
2795  0BCD  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2796  0BCF  2E FF       	ld	l,0xff
2797  0BD1              l_game_enemy_add_get_index_00106:
2798  0BD1  C9          	ret
2799  0BD2              	SECTION code_compiler
2800  0BD2              ;	---------------------------------
2801  0BD2              ; Function game_freeze
2802  0BD2              ; ---------------------------------
2803  0BD2              _game_freeze:
2804  0BD2  CD 00 00    	call	___sdcc_enter_ix
2805  0BD5  DD 7E 05    	ld	a,(ix+5)
2806  0BD8  D6 1F       	sub	a,0x1f
2807  0BDA  30 5F       	jr	NC,l_game_freeze_00107
2808  0BDC  21 00 00    	ld	hl,_tmp
2809  0BDF  36 01       	ld	(hl),0x01
2810  0BE1  DD 66 05    	ld	h,(ix+5)
2811  0BE4  DD 6E 04    	ld	l,(ix+4)
2812  0BE7  E5          	push	hl
2813  0BE8  CD 00 00    	call	_game_calc_index
2814  0BEB  F1          	pop	af
2815  0BEC  22 00 00    	ld	(_index1),hl
2816  0BEF  01 00 00    	ld	bc,_lvl_1
2817  0BF2  09          	add	hl,bc
2818  0BF3  7E          	ld	a,(hl)
2819  0BF4  D6 12       	sub	a,0x12
2820  0BF6  20 43       	jr	NZ,l_game_freeze_00107
2821  0BF8  36 14       	ld	(hl),0x14
2822  0BFA  76          	halt
2823  0BFB  DD 7E 05    	ld	a,(ix+5)
2824  0BFE  F5          	push	af
2825  0BFF  33          	inc	sp
2826  0C00  DD 56 04    	ld	d,(ix+4)
2827  0C03  1E 8B       	ld	e,0x8b
2828  0C05  D5          	push	de
2829  0C06  CD 00 00    	call	_NIRVANAP_drawT_callee
2830  0C09  ED 4B 00 00 	ld	bc,(_index1)
2831  0C0D  03          	inc	bc
2832  0C0E  21 00 00    	ld	hl,_lvl_1
2833  0C11  09          	add	hl,bc
2834  0C12  4E          	ld	c,(hl)
2835  0C13  DD 46 05    	ld	b,(ix+5)
2836  0C16  04          	inc	b
2837  0C17  79          	ld	a,c
2838  0C18  B7          	or	a, a
2839  0C19  20 0C       	jr	NZ,l_game_freeze_00102
2840  0C1B  C5          	push	bc
2841  0C1C  DD 4E 04    	ld	c,(ix+4)
2842  0C1F  C5          	push	bc
2843  0C20  AF          	xor	a, a
2844  0C21  F5          	push	af
2845  0C22  33          	inc	sp
2846  0C23  CD 00 00    	call	_NIRVANAP_fillT_callee
2847  0C26  C1          	pop	bc
2848  0C27              l_game_freeze_00102:
2849  0C27  DD 4E 04    	ld	c,(ix+4)
2850  0C2A  C5          	push	bc
2851  0C2B  CD D2 0B    	call	_game_freeze
2852  0C2E  F1          	pop	af
2853  0C2F  DD 46 05    	ld	b,(ix+5)
2854  0C32  05          	dec	b
2855  0C33  DD 4E 04    	ld	c,(ix+4)
2856  0C36  C5          	push	bc
2857  0C37  CD D2 0B    	call	_game_freeze
2858  0C3A  F1          	pop	af
2859  0C3B              l_game_freeze_00107:
2860  0C3B  DD E1       	pop	ix
2861  0C3D  C9          	ret
2862  0C3E              	SECTION code_compiler
2863  0C3E              ;	---------------------------------
2864  0C3E              ; Function game_unfreeze_all
2865  0C3E              ; ---------------------------------
2866  0C3E              _game_unfreeze_all:
2867  0C3E  21 C0 00    	ld	hl,0x00c0
2868  0C41  22 00 00    	ld	(_index1),hl
2869  0C44              l_game_unfreeze_all_00104:
2870  0C44  01 00 00    	ld	bc,_lvl_1
2871  0C47  2A 00 00    	ld	hl,(_index1)
2872  0C4A  09          	add	hl,bc
2873  0C4B  7E          	ld	a,(hl)
2874  0C4C  D6 14       	sub	a,0x14
2875  0C4E  20 02       	jr	NZ,l_game_unfreeze_all_00105
2876  0C50  36 12       	ld	(hl),0x12
2877  0C52              l_game_unfreeze_all_00105:
2878  0C52  21 00 00    	ld	hl,_index1
2879  0C55  34          	inc	(hl)
2880  0C56  20 02       	jr	NZ,l_game_unfreeze_all_00118
2881  0C58  23          	inc	hl
2882  0C59  34          	inc	(hl)
2883  0C5A              l_game_unfreeze_all_00118:
2884  0C5A  3E 20       	ld	a,0x20
2885  0C5C  21 00 00    	ld	hl,_index1
2886  0C5F  BE          	cp	a, (hl)
2887  0C60  3E 02       	ld	a,0x02
2888  0C62  23          	inc	hl
2889  0C63  9E          	sbc	a, (hl)
2890  0C64  30 DE       	jr	NC,l_game_unfreeze_all_00104
2891  0C66  C9          	ret
2892  0C67              	SECTION code_compiler
2893  0C67              ;	---------------------------------
2894  0C67              ; Function game_freeze_all
2895  0C67              ; ---------------------------------
2896  0C67              _game_freeze_all:
2897  0C67  21 C0 00    	ld	hl,0x00c0
2898  0C6A  22 00 00    	ld	(_index1),hl
2899  0C6D              l_game_freeze_all_00104:
2900  0C6D  01 00 00    	ld	bc,_lvl_1
2901  0C70  2A 00 00    	ld	hl,(_index1)
2902  0C73  09          	add	hl,bc
2903  0C74  7E          	ld	a,(hl)
2904  0C75  D6 12       	sub	a,0x12
2905  0C77  20 02       	jr	NZ,l_game_freeze_all_00105
2906  0C79  36 14       	ld	(hl),0x14
2907  0C7B              l_game_freeze_all_00105:
2908  0C7B  21 00 00    	ld	hl,_index1
2909  0C7E  34          	inc	(hl)
2910  0C7F  20 02       	jr	NZ,l_game_freeze_all_00118
2911  0C81  23          	inc	hl
2912  0C82  34          	inc	(hl)
2913  0C83              l_game_freeze_all_00118:
2914  0C83  3E 20       	ld	a,0x20
2915  0C85  21 00 00    	ld	hl,_index1
2916  0C88  BE          	cp	a, (hl)
2917  0C89  3E 02       	ld	a,0x02
2918  0C8B  23          	inc	hl
2919  0C8C  9E          	sbc	a, (hl)
2920  0C8D  30 DE       	jr	NC,l_game_freeze_all_00104
2921  0C8F  C9          	ret
2922  0C90              	SECTION code_compiler
2923  0C90              ;	---------------------------------
2924  0C90              ; Function game_print_score
2925  0C90              ; ---------------------------------
2926  0C90              _game_print_score:
2927  0C90  21 00 00    	ld	hl,_screen_ink
2928  0C93  36 07       	ld	(hl),0x07
2929  0C95  21 00 00    	ld	hl,_screen_paper
2930  0C98  36 00       	ld	(hl),0x00
2931  0C9A  2A 00 00    	ld	hl,(_player_score)
2932  0C9D  E5          	push	hl
2933  0C9E  21 00 03    	ld	hl,0x0300
2934  0CA1  E5          	push	hl
2935  0CA2  CD 00 00    	call	_zx_print_int
2936  0CA5  2A 00 00    	ld	hl,(_game_score_top)
2937  0CA8  E5          	push	hl
2938  0CA9  21 00 0E    	ld	hl,0x0e00
2939  0CAC  E5          	push	hl
2940  0CAD  CD 00 00    	call	_zx_print_int
2941  0CB0  3A 00 00    	ld	a,(_game_two_player)
2942  0CB3  B7          	or	a, a
2943  0CB4  C8          	ret	Z
2944  0CB5  2A 02 00    	ld	hl, (_player_score + 2)
2945  0CB8  E5          	push	hl
2946  0CB9  21 00 18    	ld	hl,0x1800
2947  0CBC  E5          	push	hl
2948  0CBD  CD 00 00    	call	_zx_print_int
2949  0CC0  C9          	ret
2950  0CC1              	SECTION code_compiler
2951  0CC1              ;	---------------------------------
2952  0CC1              ; Function game_paint_attrib
2953  0CC1              ; ---------------------------------
2954  0CC1              _game_paint_attrib:
2955  0CC1  7D          	ld	a,l
2956  0CC2  32 00 00    	ld	(_tmp0),a
2957  0CC5              l_game_paint_attrib_00103:
2958  0CC5  3E 13       	ld	a,0x13
2959  0CC7  21 00 00    	ld	hl,_tmp0
2960  0CCA  96          	sub	a, (hl)
2961  0CCB  D8          	ret	C
2962  0CCC  7E          	ld	a,(hl)
2963  0CCD  07          	rlca
2964  0CCE  07          	rlca
2965  0CCF  07          	rlca
2966  0CD0  E6 F8       	and	a,0xf8
2967  0CD2  C6 08       	add	a,0x08
2968  0CD4  F5          	push	af
2969  0CD5  33          	inc	sp
2970  0CD6  21 01 1F    	ld	hl,0x1f01
2971  0CD9  E5          	push	hl
2972  0CDA  CD E5 0C    	call	_game_paint_attrib_lin
2973  0CDD  F1          	pop	af
2974  0CDE  33          	inc	sp
2975  0CDF  21 00 00    	ld	hl,_tmp0
2976  0CE2  34          	inc	(hl)
2977  0CE3  18 E0       	jr	l_game_paint_attrib_00103
2978  0CE5              	SECTION code_compiler
2979  0CE5              ;	---------------------------------
2980  0CE5              ; Function game_paint_attrib_lin
2981  0CE5              ; ---------------------------------
2982  0CE5              _game_paint_attrib_lin:
2983  0CE5  CD 00 00    	call	___sdcc_enter_ix
2984  0CE8  DD 7E 04    	ld	a,(ix+4)
2985  0CEB  32 00 00    	ld	(_tmp_uc),a
2986  0CEE              l_game_paint_attrib_lin_00103:
2987  0CEE  21 00 00    	ld	hl,_tmp_uc
2988  0CF1  7E          	ld	a,(hl)
2989  0CF2  DD 96 05    	sub	a,(ix+5)
2990  0CF5  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2991  0CF7  66          	ld	h,(hl)
2992  0CF8  DD 6E 06    	ld	l,(ix+6)
2993  0CFB  E5          	push	hl
2994  0CFC  21 00 00    	ld	hl,_attrib
2995  0CFF  E5          	push	hl
2996  0D00  CD 00 00    	call	_NIRVANAP_paintC_callee
2997  0D03  21 00 00    	ld	hl,_tmp_uc
2998  0D06  34          	inc	(hl)
2999  0D07  18 E5       	jr	l_game_paint_attrib_lin_00103
3000  0D09              l_game_paint_attrib_lin_00105:
3001  0D09  DD E1       	pop	ix
3002  0D0B  C9          	ret
3003  0D0C              	SECTION code_compiler
3004  0D0C              ;	---------------------------------
3005  0D0C              ; Function game_paint_attrib_lin_h
3006  0D0C              ; ---------------------------------
3007  0D0C              _game_paint_attrib_lin_h:
3008  0D0C  CD 00 00    	call	___sdcc_enter_ix
3009  0D0F  DD 7E 04    	ld	a,(ix+4)
3010  0D12  32 00 00    	ld	(_tmp_uc),a
3011  0D15              l_game_paint_attrib_lin_h_00103:
3012  0D15  21 00 00    	ld	hl,_tmp_uc
3013  0D18  7E          	ld	a,(hl)
3014  0D19  DD 96 05    	sub	a,(ix+5)
3015  0D1C  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3016  0D1E  66          	ld	h,(hl)
3017  0D1F  DD 6E 06    	ld	l,(ix+6)
3018  0D22  E5          	push	hl
3019  0D23  21 00 00    	ld	hl,_attrib_hl
3020  0D26  E5          	push	hl
3021  0D27  CD 00 00    	call	_NIRVANAP_paintC_callee
3022  0D2A  21 00 00    	ld	hl,_tmp_uc
3023  0D2D  34          	inc	(hl)
3024  0D2E  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3025  0D30              l_game_paint_attrib_lin_h_00105:
3026  0D30  DD E1       	pop	ix
3027  0D32  C9          	ret
3028  0D33              	SECTION code_compiler
3029  0D33              ;	---------------------------------
3030  0D33              ; Function game_menu_config
3031  0D33              ; ---------------------------------
3032  0D33              _game_menu_config:
3033  0D33  CD 00 00    	call	___sdcc_enter_ix
3034  0D36  3B          	dec	sp
3035  0D37  2E 0B       	ld	l,0x0b
3036  0D39  CD C1 0C    	call	_game_paint_attrib
3037  0D3C  DD 36 FF 01 	ld	(ix-1),0x01
3038  0D40              l_game_menu_config_00116:
3039  0D40  DD 7E FF    	ld	a,(ix-1)
3040  0D43  B7          	or	a, a
3041  0D44  CA 8E 0E    	jp	Z,l_game_menu_config_00119
3042  0D47              l_game_menu_config_00101:
3043  0D47  21 00 00    	ld	hl,_k1
3044  0D4A  E5          	push	hl
3045  0D4B  2A 00 00    	ld	hl,(_joyfunc1)
3046  0D4E  CD 00 00    	call	___sdcc_call_hl
3047  0D51  F1          	pop	af
3048  0D52  7C          	ld	a,h
3049  0D53  B5          	or	a,l
3050  0D54  20 F1       	jr	NZ,l_game_menu_config_00101
3051  0D56  3A 00 00    	ld	a,(_spec128)
3052  0D59  B7          	or	a,a
3053  0D5A  28 05       	jr	Z,l_game_menu_config_00121
3054  0D5C  01 C3 00    	ld	bc,___str_25
3055  0D5F  18 03       	jr	l_game_menu_config_00122
3056  0D61              l_game_menu_config_00121:
3057  0D61  01 CE 00    	ld	bc,___str_26
3058  0D64              l_game_menu_config_00122:
3059  0D64  C5          	push	bc
3060  0D65  21 0E 0A    	ld	hl,0x0a0e
3061  0D68  E5          	push	hl
3062  0D69  CD 00 00    	call	_zx_print_str
3063  0D6C  21 D9 00    	ld	hl,___str_27
3064  0D6F  E5          	push	hl
3065  0D70  21 0F 0A    	ld	hl,0x0a0f
3066  0D73  E5          	push	hl
3067  0D74  CD 00 00    	call	_zx_print_str
3068  0D77  21 E4 00    	ld	hl,___str_28
3069  0D7A  E5          	push	hl
3070  0D7B  21 10 0A    	ld	hl,0x0a10
3071  0D7E  E5          	push	hl
3072  0D7F  CD 00 00    	call	_zx_print_str
3073  0D82  21 EF 00    	ld	hl,___str_29
3074  0D85  E5          	push	hl
3075  0D86  21 11 0A    	ld	hl,0x0a11
3076  0D89  E5          	push	hl
3077  0D8A  CD 00 00    	call	_zx_print_str
3078  0D8D  21 FA 00    	ld	hl,___str_30
3079  0D90  E5          	push	hl
3080  0D91  21 12 0A    	ld	hl,0x0a12
3081  0D94  E5          	push	hl
3082  0D95  CD 00 00    	call	_zx_print_str
3083  0D98  3A 00 00    	ld	a,(_game_sound)
3084  0D9B  E6 05       	and	a,0x05
3085  0D9D  28 05       	jr	Z,l_game_menu_config_00123
3086  0D9F  01 05 01    	ld	bc,___str_31
3087  0DA2  18 03       	jr	l_game_menu_config_00124
3088  0DA4              l_game_menu_config_00123:
3089  0DA4  01 09 01    	ld	bc,___str_32
3090  0DA7              l_game_menu_config_00124:
3091  0DA7  C5          	push	bc
3092  0DA8  21 0E 14    	ld	hl,0x140e
3093  0DAB  E5          	push	hl
3094  0DAC  CD 00 00    	call	_zx_print_str
3095  0DAF  3E 02       	ld	a,0x02
3096  0DB1  21 00 00    	ld	hl,_game_type
3097  0DB4  96          	sub	a, (hl)
3098  0DB5  38 34       	jr	C,l_game_menu_config_00107
3099  0DB7  5E          	ld	e,(hl)
3100  0DB8  16 00       	ld	d,0x00
3101  0DBA  21 C0 0D    	ld	hl,l_game_menu_config_00164
3102  0DBD  19          	add	hl,de
3103  0DBE  19          	add	hl,de
3104  0DBF  E9          	jp	(hl)
3105  0DC0              l_game_menu_config_00164:
3106  0DC0  18 04       	jr	l_game_menu_config_00104
3107  0DC2  18 0F       	jr	l_game_menu_config_00105
3108  0DC4  18 1A       	jr	l_game_menu_config_00106
3109  0DC6              l_game_menu_config_00104:
3110  0DC6  21 0D 01    	ld	hl,___str_33
3111  0DC9  E5          	push	hl
3112  0DCA  21 0F 14    	ld	hl,0x140f
3113  0DCD  E5          	push	hl
3114  0DCE  CD 00 00    	call	_zx_print_str
3115  0DD1  18 18       	jr	l_game_menu_config_00107
3116  0DD3              l_game_menu_config_00105:
3117  0DD3  21 11 01    	ld	hl,___str_34
3118  0DD6  E5          	push	hl
3119  0DD7  21 0F 14    	ld	hl,0x140f
3120  0DDA  E5          	push	hl
3121  0DDB  CD 00 00    	call	_zx_print_str
3122  0DDE  18 0B       	jr	l_game_menu_config_00107
3123  0DE0              l_game_menu_config_00106:
3124  0DE0  21 15 01    	ld	hl,___str_35
3125  0DE3  E5          	push	hl
3126  0DE4  21 0F 14    	ld	hl,0x140f
3127  0DE7  E5          	push	hl
3128  0DE8  CD 00 00    	call	_zx_print_str
3129  0DEB              l_game_menu_config_00107:
3130  0DEB  2A 00 00    	ld	hl,(_player_joy)
3131  0DEE  29          	add	hl, hl
3132  0DEF  11 00 00    	ld	de,_joynames
3133  0DF2  19          	add	hl,de
3134  0DF3  4E          	ld	c,(hl)
3135  0DF4  23          	inc	hl
3136  0DF5  46          	ld	b,(hl)
3137  0DF6  C5          	push	bc
3138  0DF7  21 10 14    	ld	hl,0x1410
3139  0DFA  E5          	push	hl
3140  0DFB  CD 00 00    	call	_zx_print_str
3141  0DFE  2A 02 00    	ld	hl, (_player_joy + 2)
3142  0E01  29          	add	hl, hl
3143  0E02  11 00 00    	ld	de,_joynames
3144  0E05  19          	add	hl,de
3145  0E06  4E          	ld	c,(hl)
3146  0E07  23          	inc	hl
3147  0E08  46          	ld	b,(hl)
3148  0E09  C5          	push	bc
3149  0E0A  21 11 14    	ld	hl,0x1411
3150  0E0D  E5          	push	hl
3151  0E0E  CD 00 00    	call	_zx_print_str
3152  0E11  21 00 00    	ld	hl,0x0000
3153  0E14  E5          	push	hl
3154  0E15  21 0E 12    	ld	hl,0x120e
3155  0E18  E5          	push	hl
3156  0E19  21 0A 01    	ld	hl,0x010a
3157  0E1C  E5          	push	hl
3158  0E1D  CD 46 11    	call	_game_menu_handle
3159  0E20  F1          	pop	af
3160  0E21  F1          	pop	af
3161  0E22  F1          	pop	af
3162  0E23  7D          	ld	a,l
3163  0E24  32 00 00    	ld	(_game_menu_sel),a
3164  0E27  21 00 00    	ld	hl,_ay_effect_10
3165  0E2A  CD 00 00    	call	_ay_fx_play
3166  0E2D  CD 00 00    	call	_sound_coin
3167  0E30  3E 04       	ld	a,0x04
3168  0E32  21 00 00    	ld	hl,_game_menu_sel
3169  0E35  96          	sub	a, (hl)
3170  0E36  DA 40 0D    	jp	C,l_game_menu_config_00116
3171  0E39  5E          	ld	e,(hl)
3172  0E3A  16 00       	ld	d,0x00
3173  0E3C  21 42 0E    	ld	hl,l_game_menu_config_00165
3174  0E3F  19          	add	hl,de
3175  0E40  19          	add	hl,de
3176  0E41  E9          	jp	(hl)
3177  0E42              l_game_menu_config_00165:
3178  0E42  18 08       	jr	l_game_menu_config_00108
3179  0E44  18 1A       	jr	l_game_menu_config_00109
3180  0E46  18 27       	jr	l_game_menu_config_00112
3181  0E48  18 2D       	jr	l_game_menu_config_00113
3182  0E4A  18 33       	jr	l_game_menu_config_00114
3183  0E4C              l_game_menu_config_00108:
3184  0E4C  3A 00 00    	ld	a,(_spec128)
3185  0E4F  B7          	or	a, a
3186  0E50  28 04       	jr	Z,l_game_menu_config_00125
3187  0E52  3E 04       	ld	a,0x04
3188  0E54  18 02       	jr	l_game_menu_config_00126
3189  0E56              l_game_menu_config_00125:
3190  0E56  3E 01       	ld	a,0x01
3191  0E58              l_game_menu_config_00126:
3192  0E58  21 00 00    	ld	hl,_game_sound
3193  0E5B  AE          	xor	a, (hl)
3194  0E5C  77          	ld	(hl),a
3195  0E5D  C3 40 0D    	jp	l_game_menu_config_00116
3196  0E60              l_game_menu_config_00109:
3197  0E60  21 00 00    	ld	hl,_game_type
3198  0E63  34          	inc	(hl)
3199  0E64  3E 02       	ld	a,0x02
3200  0E66  96          	sub	a, (hl)
3201  0E67  D2 40 0D    	jp	NC,l_game_menu_config_00116
3202  0E6A  36 00       	ld	(hl),0x00
3203  0E6C  C3 40 0D    	jp	l_game_menu_config_00116
3204  0E6F              l_game_menu_config_00112:
3205  0E6F  2E 00       	ld	l,0x00
3206  0E71  CD 92 0E    	call	_game_joystick_change
3207  0E74  C3 40 0D    	jp	l_game_menu_config_00116
3208  0E77              l_game_menu_config_00113:
3209  0E77  2E 01       	ld	l,0x01
3210  0E79  CD 92 0E    	call	_game_joystick_change
3211  0E7C  C3 40 0D    	jp	l_game_menu_config_00116
3212  0E7F              l_game_menu_config_00114:
3213  0E7F  21 00 00    	ld	hl,_game_menu_sel
3214  0E82  36 00       	ld	(hl),0x00
3215  0E84  CD 18 10    	call	_game_menu_paint
3216  0E87  DD 36 FF 00 	ld	(ix-1),0x00
3217  0E8B  C3 40 0D    	jp	l_game_menu_config_00116
3218  0E8E              l_game_menu_config_00119:
3219  0E8E  33          	inc	sp
3220  0E8F  DD E1       	pop	ix
3221  0E91  C9          	ret
3222  0E92              	SECTION rodata_compiler
3223  00C3              ___str_25:
3224  00C3  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3225  00CD  00          	DEFB 0x00
3226  00CE              	SECTION rodata_compiler
3227  00CE              ___str_26:
3228  00CE  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3229  00D8  00          	DEFB 0x00
3230  00D9              	SECTION rodata_compiler
3231  00D9              ___str_27:
3232  00D9  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3233  00E3  00          	DEFB 0x00
3234  00E4              	SECTION rodata_compiler
3235  00E4              ___str_28:
3236  00E4  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3237  00EE  00          	DEFB 0x00
3238  00EF              	SECTION rodata_compiler
3239  00EF              ___str_29:
3240  00EF  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3241  00F9  00          	DEFB 0x00
3242  00FA              	SECTION rodata_compiler
3243  00FA              ___str_30:
3244  00FA  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3245  0104  00          	DEFB 0x00
3246  0105              	SECTION rodata_compiler
3247  0105              ___str_31:
3248  0105  4F 4E 20    	DEFM "ON "
3249  0108  00          	DEFB 0x00
3250  0109              	SECTION rodata_compiler
3251  0109              ___str_32:
3252  0109  4F 46 46    	DEFM "OFF"
3253  010C  00          	DEFB 0x00
3254  010D              	SECTION rodata_compiler
3255  010D              ___str_33:
3256  010D  41 20 20    	DEFM "A  "
3257  0110  00          	DEFB 0x00
3258  0111              	SECTION rodata_compiler
3259  0111              ___str_34:
3260  0111  42 20 20    	DEFM "B  "
3261  0114  00          	DEFB 0x00
3262  0115              	SECTION rodata_compiler
3263  0115              ___str_35:
3264  0115  52 4E 44    	DEFM "RND"
3265  0118  00          	DEFB 0x00
3266  0119              	SECTION code_compiler
3267  0E92              ;	---------------------------------
3268  0E92              ; Function game_joystick_change
3269  0E92              ; ---------------------------------
3270  0E92              _game_joystick_change:
3271  0E92  CD 00 00    	call	___sdcc_enter_ix
3272  0E95  3B          	dec	sp
3273  0E96  DD 75 FF    	ld	(ix-1),l
3274  0E99  26 00       	ld	h,0x00
3275  0E9B  29          	add	hl, hl
3276  0E9C  01 00 00    	ld	bc,_player_joy
3277  0E9F  09          	add	hl,bc
3278  0EA0  4D          	ld	c,l
3279  0EA1  44          	ld	b,h
3280  0EA2  5E          	ld	e,(hl)
3281  0EA3  23          	inc	hl
3282  0EA4  56          	ld	d,(hl)
3283  0EA5  13          	inc	de
3284  0EA6  69          	ld	l, c
3285  0EA7  60          	ld	h, b
3286  0EA8  73          	ld	(hl),e
3287  0EA9  23          	inc	hl
3288  0EAA  72          	ld	(hl),d
3289  0EAB  7B          	ld	a,e
3290  0EAC  D6 07       	sub	a,0x07
3291  0EAE  20 09       	jr	NZ,l_game_joystick_change_00102
3292  0EB0  B2          	or	a,d
3293  0EB1  20 06       	jr	NZ,l_game_joystick_change_00102
3294  0EB3  69          	ld	l, c
3295  0EB4  60          	ld	h, b
3296  0EB5  AF          	xor	a, a
3297  0EB6  77          	ld	(hl), a
3298  0EB7  23          	inc	hl
3299  0EB8  77          	ld	(hl), a
3300  0EB9              l_game_joystick_change_00102:
3301  0EB9  DD 7E FF    	ld	a,(ix-1)
3302  0EBC  B7          	or	a, a
3303  0EBD  20 15       	jr	NZ,l_game_joystick_change_00104
3304  0EBF  69          	ld	l, c
3305  0EC0  60          	ld	h, b
3306  0EC1  5E          	ld	e,(hl)
3307  0EC2  23          	inc	hl
3308  0EC3  56          	ld	d,(hl)
3309  0EC4  1D          	dec	e
3310  0EC5  20 0D       	jr	NZ,l_game_joystick_change_00104
3311  0EC7  7A          	ld	a,d
3312  0EC8  B7          	or	a, a
3313  0EC9  20 09       	jr	NZ,l_game_joystick_change_00104
3314  0ECB  ED 5B 00 00 	ld	de,(_player_joy)
3315  0ECF  13          	inc	de
3316  0ED0  ED 53 00 00 	ld	(_player_joy), de
3317  0ED4              l_game_joystick_change_00104:
3318  0ED4  DD 7E FF    	ld	a,(ix-1)
3319  0ED7  3D          	dec	a
3320  0ED8  20 11       	jr	NZ,l_game_joystick_change_00107
3321  0EDA  69          	ld	l, c
3322  0EDB  60          	ld	h, b
3323  0EDC  4E          	ld	c,(hl)
3324  0EDD  23          	inc	hl
3325  0EDE  7E          	ld	a, (hl)
3326  0EDF  B1          	or	a,c
3327  0EE0  20 09       	jr	NZ,l_game_joystick_change_00107
3328  0EE2  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3329  0EE6  03          	inc	bc
3330  0EE7  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3331  0EEB              l_game_joystick_change_00107:
3332  0EEB  ED 4B 00 00 	ld	bc,(_player_joy)
3333  0EEF  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3334  0EF3  79          	ld	a,c
3335  0EF4  93          	sub	a, e
3336  0EF5  20 18       	jr	NZ,l_game_joystick_change_00114
3337  0EF7  78          	ld	a,b
3338  0EF8  92          	sub	a, d
3339  0EF9  20 14       	jr	NZ,l_game_joystick_change_00114
3340  0EFB  DD 7E FF    	ld	a,(ix-1)
3341  0EFE  B7          	or	a, a
3342  0EFF  20 08       	jr	NZ,l_game_joystick_change_00110
3343  0F01  21 01 00    	ld	hl,0x0001
3344  0F04  22 02 00    	ld	(_player_joy + 0x0002),hl
3345  0F07  18 06       	jr	l_game_joystick_change_00114
3346  0F09              l_game_joystick_change_00110:
3347  0F09  21 00 00    	ld	hl,0x0000
3348  0F0C  22 00 00    	ld	(_player_joy), hl
3349  0F0F              l_game_joystick_change_00114:
3350  0F0F  33          	inc	sp
3351  0F10  DD E1       	pop	ix
3352  0F12  C9          	ret
3353  0F13              	SECTION code_compiler
3354  0F13              ;	---------------------------------
3355  0F13              ; Function game_joystick_set_menu
3356  0F13              ; ---------------------------------
3357  0F13              _game_joystick_set_menu:
3358  0F13  21 00 00    	ld	hl,_in_stick_sinclair1
3359  0F16  22 00 00    	ld	(_joyfunc1),hl
3360  0F19  21 00 00    	ld	hl,_in_stick_sinclair2
3361  0F1C  22 00 00    	ld	(_joyfunc2),hl
3362  0F1F  C9          	ret
3363  0F20              	SECTION code_compiler
3364  0F20              ;	---------------------------------
3365  0F20              ; Function game_joystick_set
3366  0F20              ; ---------------------------------
3367  0F20              _game_joystick_set:
3368  0F20  01 00 00    	ld	bc,_control_method+0
3369  0F23  2A 00 00    	ld	hl,(_player_joy)
3370  0F26  29          	add	hl, hl
3371  0F27  09          	add	hl,bc
3372  0F28  11 00 00    	ld	de,_joyfunc1
3373  0F2B  ED A0       	ldi
3374  0F2D  03          	inc	bc
3375  0F2E  7E          	ld	a,(hl)
3376  0F2F  12          	ld	(de),a
3377  0F30  2A 02 00    	ld	hl, (_player_joy + 2)
3378  0F33  29          	add	hl, hl
3379  0F34  09          	add	hl,bc
3380  0F35  11 00 00    	ld	de,_joyfunc2
3381  0F38  ED A0       	ldi
3382  0F3A  7E          	ld	a,(hl)
3383  0F3B  12          	ld	(de),a
3384  0F3C  C9          	ret
3385  0F3D              	SECTION code_compiler
3386  0F3D              ;	---------------------------------
3387  0F3D              ; Function game_menu
3388  0F3D              ; ---------------------------------
3389  0F3D              _game_menu:
3390  0F3D  21 00 00    	ld	hl,_game_menu_sel
3391  0F40  36 00       	ld	(hl),0x00
3392  0F42  CD A4 0F    	call	_game_menu_top_paint
3393  0F45  CD 18 10    	call	_game_menu_paint
3394  0F48  CD 00 00    	call	_ay_reset
3395  0F4B  21 00 00    	ld	hl,_pb_midi_title
3396  0F4E  CD 00 00    	call	_ay_midi_play
3397  0F51              l_game_menu_00101:
3398  0F51  21 00 00    	ld	hl,_k1
3399  0F54  E5          	push	hl
3400  0F55  2A 00 00    	ld	hl,(_joyfunc1)
3401  0F58  CD 00 00    	call	___sdcc_call_hl
3402  0F5B  F1          	pop	af
3403  0F5C  7C          	ld	a,h
3404  0F5D  B5          	or	a,l
3405  0F5E  20 F1       	jr	NZ,l_game_menu_00101
3406  0F60  21 E8 03    	ld	hl,0x03e8
3407  0F63  E5          	push	hl
3408  0F64  21 0E 12    	ld	hl,0x120e
3409  0F67  E5          	push	hl
3410  0F68  21 0C 02    	ld	hl,0x020c
3411  0F6B  E5          	push	hl
3412  0F6C  CD 46 11    	call	_game_menu_handle
3413  0F6F  F1          	pop	af
3414  0F70  F1          	pop	af
3415  0F71  F1          	pop	af
3416  0F72  4D          	ld	c,l
3417  0F73  21 00 00    	ld	hl,_tmp_uc
3418  0F76  71          	ld	(hl),c
3419  0F77  3E 02       	ld	a,0x02
3420  0F79  96          	sub	a, (hl)
3421  0F7A  38 D5       	jr	C,l_game_menu_00101
3422  0F7C  5E          	ld	e,(hl)
3423  0F7D  16 00       	ld	d,0x00
3424  0F7F  21 85 0F    	ld	hl,l_game_menu_00125
3425  0F82  19          	add	hl,de
3426  0F83  19          	add	hl,de
3427  0F84  E9          	jp	(hl)
3428  0F85              l_game_menu_00125:
3429  0F85  18 04       	jr	l_game_menu_00104
3430  0F87  18 0C       	jr	l_game_menu_00105
3431  0F89  18 14       	jr	l_game_menu_00106
3432  0F8B              l_game_menu_00104:
3433  0F8B  21 00 00    	ld	hl,_game_two_player
3434  0F8E  36 00       	ld	(hl),0x00
3435  0F90  CD 58 03    	call	_game_loop
3436  0F93  18 BC       	jr	l_game_menu_00101
3437  0F95              l_game_menu_00105:
3438  0F95  21 00 00    	ld	hl,_game_two_player
3439  0F98  36 01       	ld	(hl),0x01
3440  0F9A  CD 58 03    	call	_game_loop
3441  0F9D  18 B2       	jr	l_game_menu_00101
3442  0F9F              l_game_menu_00106:
3443  0F9F  CD 33 0D    	call	_game_menu_config
3444  0FA2  18 AD       	jr	l_game_menu_00101
3445  0FA4              	SECTION code_compiler
3446  0FA4              ;	---------------------------------
3447  0FA4              ; Function game_menu_top_paint
3448  0FA4              ; ---------------------------------
3449  0FA4              _game_menu_top_paint:
3450  0FA4  CD 00 00    	call	_spr_draw_clear
3451  0FA7  2E 00       	ld	l,0x00
3452  0FA9  CD C1 0C    	call	_game_paint_attrib
3453  0FAC  21 9C 01    	ld	hl,0x019c
3454  0FAF  E5          	push	hl
3455  0FB0  21 00 1E    	ld	hl,0x1e00
3456  0FB3  E5          	push	hl
3457  0FB4  3E 10       	ld	a,0x10
3458  0FB6  F5          	push	af
3459  0FB7  33          	inc	sp
3460  0FB8  CD 93 10    	call	_game_menu_e
3461  0FBB  F1          	pop	af
3462  0FBC  33          	inc	sp
3463  0FBD  21 9F FF    	ld	hl,0xff9f
3464  0FC0  E3          	ex	(sp),hl
3465  0FC1  21 00 1E    	ld	hl,0x1e00
3466  0FC4  E5          	push	hl
3467  0FC5  3E 50       	ld	a,0x50
3468  0FC7  F5          	push	af
3469  0FC8  33          	inc	sp
3470  0FC9  CD 93 10    	call	_game_menu_e
3471  0FCC  F1          	pop	af
3472  0FCD  F1          	pop	af
3473  0FCE  33          	inc	sp
3474  0FCF  21 00 00    	ld	hl,_tmp
3475  0FD2  36 18       	ld	(hl),0x18
3476  0FD4  F3          	di
3477  0FD5  21 00 00    	ld	hl,_tmp_uc
3478  0FD8  36 00       	ld	(hl),0x00
3479  0FDA              l_game_menu_top_paint_00102:
3480  0FDA  3A 00 00    	ld	a,(_tmp_uc)
3481  0FDD  87          	add	a, a
3482  0FDE  C6 05       	add	a,0x05
3483  0FE0  47          	ld	b,a
3484  0FE1  3A 00 00    	ld	a,(_tmp)
3485  0FE4  C6 10       	add	a,0x10
3486  0FE6  57          	ld	d,a
3487  0FE7  3A 00 00    	ld	a,(_tmp_uc)
3488  0FEA  C6 C0       	add	a,0xc0
3489  0FEC  4A          	ld	c, d
3490  0FED  C5          	push	bc
3491  0FEE  F5          	push	af
3492  0FEF  33          	inc	sp
3493  0FF0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3494  0FF3  3A 00 00    	ld	a,(_tmp_uc)
3495  0FF6  87          	add	a, a
3496  0FF7  C6 05       	add	a,0x05
3497  0FF9  47          	ld	b,a
3498  0FFA  3A 00 00    	ld	a,(_tmp)
3499  0FFD  C6 20       	add	a,0x20
3500  0FFF  57          	ld	d,a
3501  1000  3A 00 00    	ld	a,(_tmp_uc)
3502  1003  C6 CC       	add	a,0xcc
3503  1005  4A          	ld	c, d
3504  1006  C5          	push	bc
3505  1007  F5          	push	af
3506  1008  33          	inc	sp
3507  1009  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3508  100C  21 00 00    	ld	hl,_tmp_uc
3509  100F  7E          	ld	a,(hl)
3510  1010  3C          	inc	a
3511  1011  77          	ld	(hl),a
3512  1012  D6 0A       	sub	a,0x0a
3513  1014  38 C4       	jr	C,l_game_menu_top_paint_00102
3514  1016  FB          	ei
3515  1017  C9          	ret
3516  1018              	SECTION code_compiler
3517  1018              ;	---------------------------------
3518  1018              ; Function game_menu_paint
3519  1018              ; ---------------------------------
3520  1018              _game_menu_paint:
3521  1018  76          	halt
3522  1019  3A 00 00    	ld	a,(_tmp)
3523  101C  C6 28       	add	a,0x28
3524  101E  4F          	ld	c, a
3525  101F  06 1A       	ld	b,0x1a
3526  1021  C5          	push	bc
3527  1022  3E 12       	ld	a,0x12
3528  1024  F5          	push	af
3529  1025  33          	inc	sp
3530  1026  CD 00 00    	call	_NIRVANAP_fillC_callee
3531  1029  21 00 20    	ld	hl,0x2000
3532  102C  E5          	push	hl
3533  102D  CD 00 00    	call	_game_fill_row
3534  1030  21 00 20    	ld	hl,0x2000
3535  1033  E5          	push	hl
3536  1034  CD 00 00    	call	_game_fill_row
3537  1037  21 19 01    	ld	hl,___str_36
3538  103A  E5          	push	hl
3539  103B  21 0E 0A    	ld	hl,0x0a0e
3540  103E  E5          	push	hl
3541  103F  CD 00 00    	call	_zx_print_str
3542  1042  21 0F 20    	ld	hl,0x200f
3543  1045  E5          	push	hl
3544  1046  CD 00 00    	call	_game_fill_row
3545  1049  21 27 01    	ld	hl,___str_37
3546  104C  E5          	push	hl
3547  104D  21 10 0A    	ld	hl,0x0a10
3548  1050  E5          	push	hl
3549  1051  CD 00 00    	call	_zx_print_str
3550  1054  21 11 20    	ld	hl,0x2011
3551  1057  E5          	push	hl
3552  1058  CD 00 00    	call	_game_fill_row
3553  105B  21 35 01    	ld	hl,___str_38
3554  105E  E5          	push	hl
3555  105F  21 12 0A    	ld	hl,0x0a12
3556  1062  E5          	push	hl
3557  1063  CD 00 00    	call	_zx_print_str
3558  1066  21 13 20    	ld	hl,0x2013
3559  1069  E5          	push	hl
3560  106A  CD 00 00    	call	_game_fill_row
3561  106D  21 00 00    	ld	hl,_screen_ink
3562  1070  36 01       	ld	(hl),0x01
3563  1072  21 43 01    	ld	hl,___str_39
3564  1075  E5          	push	hl
3565  1076  21 16 07    	ld	hl,0x0716
3566  1079  E5          	push	hl
3567  107A  CD 00 00    	call	_zx_print_str
3568  107D  21 56 01    	ld	hl,___str_40
3569  1080  E5          	push	hl
3570  1081  21 17 07    	ld	hl,0x0717
3571  1084  E5          	push	hl
3572  1085  CD 00 00    	call	_zx_print_str
3573  1088  21 00 00    	ld	hl,_tmp_uc
3574  108B  36 00       	ld	(hl),0x00
3575  108D  2E 0B       	ld	l,0x0b
3576  108F  CD C1 0C    	call	_game_paint_attrib
3577  1092  C9          	ret
3578  1093              	SECTION rodata_compiler
3579  0119              ___str_36:
3580  0119  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3581  0126  00          	DEFB 0x00
3582  0127              	SECTION rodata_compiler
3583  0127              ___str_37:
3584  0127  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3585  0134  00          	DEFB 0x00
3586  0135              	SECTION rodata_compiler
3587  0135              ___str_38:
3588  0135  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3589  0142  00          	DEFB 0x00
3590  0143              	SECTION rodata_compiler
3591  0143              ___str_39:
3592  0143  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3593  0155  00          	DEFB 0x00
3594  0156              	SECTION rodata_compiler
3595  0156              ___str_40:
3596  0156  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3597  0167  00          	DEFB 0x00
3598  0168              	SECTION code_compiler
3599  1093              ;	---------------------------------
3600  1093              ; Function game_menu_e
3601  1093              ; ---------------------------------
3602  1093              _game_menu_e:
3603  1093  CD 00 00    	call	___sdcc_enter_ix
3604  1096  F3          	di
3605  1097  DD 4E 05    	ld	c,(ix+5)
3606  109A  21 00 00    	ld	hl,_tmp_uc
3607  109D  71          	ld	(hl),c
3608  109E  DD 46 07    	ld	b,(ix+7)
3609  10A1  04          	inc	b
3610  10A2  DD 56 07    	ld	d,(ix+7)
3611  10A5  14          	inc	d
3612  10A6  14          	inc	d
3613  10A7              l_game_menu_e_00114:
3614  10A7  DD 7E 06    	ld	a,(ix+6)
3615  10AA  21 00 00    	ld	hl,_tmp_uc
3616  10AD  96          	sub	a, (hl)
3617  10AE  38 56       	jr	C,l_game_menu_e_00109
3618  10B0  7E          	ld	a,(hl)
3619  10B1  91          	sub	a, c
3620  10B2  20 15       	jr	NZ,l_game_menu_e_00102
3621  10B4  3A 00 00    	ld	a,(_tmp_uc)
3622  10B7  C5          	push	bc
3623  10B8  D5          	push	de
3624  10B9  F5          	push	af
3625  10BA  33          	inc	sp
3626  10BB  DD 66 04    	ld	h,(ix+4)
3627  10BE  DD 6E 07    	ld	l,(ix+7)
3628  10C1  E5          	push	hl
3629  10C2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3630  10C5  D1          	pop	de
3631  10C6  C1          	pop	bc
3632  10C7  18 36       	jr	l_game_menu_e_00108
3633  10C9              l_game_menu_e_00102:
3634  10C9  3A 00 00    	ld	a,(_tmp_uc)
3635  10CC  DD 96 06    	sub	a,(ix+6)
3636  10CF  20 14       	jr	NZ,l_game_menu_e_00104
3637  10D1  3A 00 00    	ld	a,(_tmp_uc)
3638  10D4  C5          	push	bc
3639  10D5  D5          	push	de
3640  10D6  F5          	push	af
3641  10D7  33          	inc	sp
3642  10D8  DD 7E 04    	ld	a,(ix+4)
3643  10DB  5A          	ld	e,d
3644  10DC  57          	ld	d,a
3645  10DD  D5          	push	de
3646  10DE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3647  10E1  D1          	pop	de
3648  10E2  C1          	pop	bc
3649  10E3  18 1A       	jr	l_game_menu_e_00108
3650  10E5              l_game_menu_e_00104:
3651  10E5  3A 00 00    	ld	a,(_tmp_uc)
3652  10E8  FE 0E       	cp	a,0x0e
3653  10EA  28 13       	jr	Z,l_game_menu_e_00108
3654  10EC  FE 10       	cp	a,0x10
3655  10EE  28 0F       	jr	Z,l_game_menu_e_00108
3656  10F0  C5          	push	bc
3657  10F1  D5          	push	de
3658  10F2  F5          	push	af
3659  10F3  33          	inc	sp
3660  10F4  DD 7E 04    	ld	a,(ix+4)
3661  10F7  48          	ld	c,b
3662  10F8  47          	ld	b,a
3663  10F9  C5          	push	bc
3664  10FA  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3665  10FD  D1          	pop	de
3666  10FE  C1          	pop	bc
3667  10FF              l_game_menu_e_00108:
3668  10FF  21 00 00    	ld	hl,_tmp_uc
3669  1102  34          	inc	(hl)
3670  1103  34          	inc	(hl)
3671  1104  18 A1       	jr	l_game_menu_e_00114
3672  1106              l_game_menu_e_00109:
3673  1106  DD 7E 08    	ld	a,(ix+8)
3674  1109  3C          	inc	a
3675  110A  20 0A       	jr	NZ,l_game_menu_e_00111
3676  110C  DD 7E 04    	ld	a,(ix+4)
3677  110F  C6 F0       	add	a,0xf0
3678  1111  DD 77 04    	ld	(ix+4),a
3679  1114  18 08       	jr	l_game_menu_e_00112
3680  1116              l_game_menu_e_00111:
3681  1116  DD 7E 04    	ld	a,(ix+4)
3682  1119  C6 10       	add	a,0x10
3683  111B  DD 77 04    	ld	(ix+4),a
3684  111E              l_game_menu_e_00112:
3685  111E  DD 7E 07    	ld	a,(ix+7)
3686  1121  C6 0C       	add	a,0x0c
3687  1123  47          	ld	b,a
3688  1124  79          	ld	a,c
3689  1125  F5          	push	af
3690  1126  33          	inc	sp
3691  1127  DD 7E 04    	ld	a,(ix+4)
3692  112A  48          	ld	c,b
3693  112B  47          	ld	b,a
3694  112C  C5          	push	bc
3695  112D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3696  1130  DD 7E 07    	ld	a,(ix+7)
3697  1133  C6 0E       	add	a,0x0e
3698  1135  47          	ld	b,a
3699  1136  DD 66 06    	ld	h,(ix+6)
3700  1139  DD 6E 04    	ld	l,(ix+4)
3701  113C  E5          	push	hl
3702  113D  C5          	push	bc
3703  113E  33          	inc	sp
3704  113F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3705  1142  FB          	ei
3706  1143  DD E1       	pop	ix
3707  1145  C9          	ret
3708  1146              	SECTION code_compiler
3709  1146              ;	---------------------------------
3710  1146              ; Function game_menu_handle
3711  1146              ; ---------------------------------
3712  1146              _game_menu_handle:
3713  1146  CD 00 00    	call	___sdcc_enter_ix
3714  1149  3B          	dec	sp
3715  114A  2A 00 00    	ld	hl,(_curr_time)
3716  114D  22 00 00    	ld	(_entry_time),hl
3717  1150  DD 5E 05    	ld	e,(ix+5)
3718  1153  21 00 00    	ld	hl,_game_menu_sel
3719  1156  66          	ld	h,(hl)
3720  1157  2E 00       	ld	l,0x00
3721  1159  55          	ld	d, l
3722  115A  06 08       	ld	b,0x08
3723  115C              l_game_menu_handle_00148:
3724  115C  29          	add	hl,hl
3725  115D  30 01       	jr	NC,l_game_menu_handle_00149
3726  115F  19          	add	hl,de
3727  1160              l_game_menu_handle_00149:
3728  1160  10 FA       	djnz	l_game_menu_handle_00148
3729  1162  DD 7E 06    	ld	a,(ix+6)
3730  1165  85          	add	a,l
3731  1166  32 00 00    	ld	(_s_lin1),a
3732  1169  DD 7E 06    	ld	a,(ix+6)
3733  116C  DD 77 FF    	ld	(ix-1),a
3734  116F              l_game_menu_handle_00111:
3735  116F  21 00 00    	ld	hl,_k1
3736  1172  E5          	push	hl
3737  1173  2A 00 00    	ld	hl,(_joyfunc1)
3738  1176  CD 00 00    	call	___sdcc_call_hl
3739  1179  F1          	pop	af
3740  117A  7D          	ld	a,l
3741  117B  32 00 00    	ld	(_dirs),a
3742  117E  D6 80       	sub	a,0x80
3743  1180  CA 22 12    	jp	Z,l_game_menu_handle_00113
3744  1183  21 05 00    	ld	hl,0x0005
3745  1186  E5          	push	hl
3746  1187  2A 00 00    	ld	hl,(_frame_time)
3747  118A  E5          	push	hl
3748  118B  CD 29 1A    	call	_game_check_time
3749  118E  F1          	pop	af
3750  118F  F1          	pop	af
3751  1190  7D          	ld	a,l
3752  1191  B7          	or	a, a
3753  1192  28 58       	jr	Z,l_game_menu_handle_00106
3754  1194  3A 00 00    	ld	a,(_dirs)
3755  1197  B7          	or	a, a
3756  1198  28 32       	jr	Z,l_game_menu_handle_00104
3757  119A  21 00 00    	ld	hl,_ay_effect_03
3758  119D  CD 00 00    	call	_ay_fx_play
3759  11A0  CD 00 00    	call	_sound_slide
3760  11A3  3A 00 00    	ld	a,(_s_lin1)
3761  11A6  07          	rlca
3762  11A7  07          	rlca
3763  11A8  07          	rlca
3764  11A9  E6 F8       	and	a,0xf8
3765  11AB  C6 08       	add	a,0x08
3766  11AD  F5          	push	af
3767  11AE  33          	inc	sp
3768  11AF  26 14       	ld	h,0x14
3769  11B1  DD 6E 04    	ld	l,(ix+4)
3770  11B4  E5          	push	hl
3771  11B5  CD E5 0C    	call	_game_paint_attrib_lin
3772  11B8  F1          	pop	af
3773  11B9  33          	inc	sp
3774  11BA  21 00 00    	ld	hl,_s_lin1
3775  11BD  7E          	ld	a,(hl)
3776  11BE  DD 86 05    	add	a,(ix+5)
3777  11C1  77          	ld	(hl),a
3778  11C2  DD 7E 07    	ld	a,(ix+7)
3779  11C5  96          	sub	a, (hl)
3780  11C6  30 04       	jr	NC,l_game_menu_handle_00104
3781  11C8  DD 7E FF    	ld	a,(ix-1)
3782  11CB  77          	ld	(hl),a
3783  11CC              l_game_menu_handle_00104:
3784  11CC  2A 00 00    	ld	hl,(_curr_time)
3785  11CF  22 00 00    	ld	(_frame_time),hl
3786  11D2  3A 00 00    	ld	a,(_s_lin1)
3787  11D5  07          	rlca
3788  11D6  07          	rlca
3789  11D7  07          	rlca
3790  11D8  E6 F8       	and	a,0xf8
3791  11DA  C6 08       	add	a,0x08
3792  11DC  F5          	push	af
3793  11DD  33          	inc	sp
3794  11DE  26 14       	ld	h,0x14
3795  11E0  DD 6E 04    	ld	l,(ix+4)
3796  11E3  E5          	push	hl
3797  11E4  CD 0C 0D    	call	_game_paint_attrib_lin_h
3798  11E7  F1          	pop	af
3799  11E8  33          	inc	sp
3800  11E9  CD 7B 19    	call	_game_rotate_attrib
3801  11EC              l_game_menu_handle_00106:
3802  11EC  DD 7E 09    	ld	a,(ix+9)
3803  11EF  DD B6 08    	or	a,(ix+8)
3804  11F2  CA 6F 11    	jp	Z,l_game_menu_handle_00111
3805  11F5  DD 6E 08    	ld	l,(ix+8)
3806  11F8  DD 66 09    	ld	h,(ix+9)
3807  11FB  E5          	push	hl
3808  11FC  2A 00 00    	ld	hl,(_entry_time)
3809  11FF  E5          	push	hl
3810  1200  CD 29 1A    	call	_game_check_time
3811  1203  F1          	pop	af
3812  1204  F1          	pop	af
3813  1205  7D          	ld	a,l
3814  1206  B7          	or	a, a
3815  1207  CA 6F 11    	jp	Z,l_game_menu_handle_00111
3816  120A  CD 00 00    	call	_ay_is_playing
3817  120D  7D          	ld	a,l
3818  120E  B7          	or	a, a
3819  120F  C2 6F 11    	jp	NZ,l_game_menu_handle_00111
3820  1212  CD AA 18    	call	_game_hall_of_fame
3821  1215  21 00 00    	ld	hl,_game_menu_sel
3822  1218  2E 00       	ld	l,0x00
3823  121A  75          	ld	(hl),l
3824  121B  CD A9 16    	call	_game_menu_back
3825  121E  2E FF       	ld	l,0xff
3826  1220  18 10       	jr	l_game_menu_handle_00114
3827  1222              l_game_menu_handle_00113:
3828  1222  3A 00 00    	ld	a,(_s_lin1)
3829  1225  DD 96 FF    	sub	a,(ix-1)
3830  1228  47          	ld	b,a
3831  1229  DD 7E 05    	ld	a,(ix+5)
3832  122C  48          	ld	c,b
3833  122D  47          	ld	b,a
3834  122E  C5          	push	bc
3835  122F  CD 00 00    	call	__divuchar_callee
3836  1232              l_game_menu_handle_00114:
3837  1232  33          	inc	sp
3838  1233  DD E1       	pop	ix
3839  1235  C9          	ret
3840  1236              	SECTION code_compiler
3841  1236              ;	---------------------------------
3842  1236              ; Function game_end
3843  1236              ; ---------------------------------
3844  1236              _game_end:
3845  1236  CD 00 00    	call	___sdcc_enter_ix
3846  1239  F5          	push	af
3847  123A  F5          	push	af
3848  123B  CD BC 08    	call	_game_kill_all_sprites
3849  123E  CD 00 00    	call	_spr_draw_clear
3850  1241  21 00 00    	ld	hl,_pb_midi_title
3851  1244  CD 00 00    	call	_ay_midi_play
3852  1247  21 00 00    	ld	hl,_tmp0
3853  124A  36 04       	ld	(hl),0x04
3854  124C              l_game_end_00129:
3855  124C  3A 00 00    	ld	a,(_tmp0)
3856  124F  F5          	push	af
3857  1250  33          	inc	sp
3858  1251  21 8C 50    	ld	hl,0x508c
3859  1254  E5          	push	hl
3860  1255  CD 00 00    	call	_NIRVANAP_drawT_callee
3861  1258  21 00 00    	ld	hl,_tmp0
3862  125B  7E          	ld	a,(hl)
3863  125C  3C          	inc	a
3864  125D  3C          	inc	a
3865  125E  77          	ld	(hl),a
3866  125F  D6 1C       	sub	a,0x1c
3867  1261  38 E9       	jr	C,l_game_end_00129
3868  1263  36 04       	ld	(hl),0x04
3869  1265              l_game_end_00131:
3870  1265  3A 00 00    	ld	a,(_tmp0)
3871  1268  F5          	push	af
3872  1269  33          	inc	sp
3873  126A  21 8C 60    	ld	hl,0x608c
3874  126D  E5          	push	hl
3875  126E  CD 00 00    	call	_NIRVANAP_drawT_callee
3876  1271  21 00 00    	ld	hl,_tmp0
3877  1274  7E          	ld	a,(hl)
3878  1275  3C          	inc	a
3879  1276  3C          	inc	a
3880  1277  77          	ld	(hl),a
3881  1278  D6 1C       	sub	a,0x1c
3882  127A  38 E9       	jr	C,l_game_end_00131
3883  127C  36 04       	ld	(hl),0x04
3884  127E              l_game_end_00133:
3885  127E  3A 00 00    	ld	a,(_tmp0)
3886  1281  F5          	push	af
3887  1282  33          	inc	sp
3888  1283  21 8C 70    	ld	hl,0x708c
3889  1286  E5          	push	hl
3890  1287  CD 00 00    	call	_NIRVANAP_drawT_callee
3891  128A  21 00 00    	ld	hl,_tmp0
3892  128D  7E          	ld	a,(hl)
3893  128E  3C          	inc	a
3894  128F  3C          	inc	a
3895  1290  77          	ld	(hl),a
3896  1291  D6 1C       	sub	a,0x1c
3897  1293  38 E9       	jr	C,l_game_end_00133
3898  1295  21 50 18    	ld	hl,0x1850
3899  1298  E5          	push	hl
3900  1299  3E D6       	ld	a,0xd6
3901  129B  F5          	push	af
3902  129C  33          	inc	sp
3903  129D  CD 00 00    	call	_NIRVANAP_drawT_callee
3904  12A0  21 9C 01    	ld	hl,0x019c
3905  12A3  E5          	push	hl
3906  12A4  21 01 1D    	ld	hl,0x1d01
3907  12A7  E5          	push	hl
3908  12A8  3E 20       	ld	a,0x20
3909  12AA  F5          	push	af
3910  12AB  33          	inc	sp
3911  12AC  CD 93 10    	call	_game_menu_e
3912  12AF  F1          	pop	af
3913  12B0  33          	inc	sp
3914  12B1  21 9F FF    	ld	hl,0xff9f
3915  12B4  E3          	ex	(sp),hl
3916  12B5  21 01 1D    	ld	hl,0x1d01
3917  12B8  E5          	push	hl
3918  12B9  3E 80       	ld	a,0x80
3919  12BB  F5          	push	af
3920  12BC  33          	inc	sp
3921  12BD  CD 93 10    	call	_game_menu_e
3922  12C0  F1          	pop	af
3923  12C1  F1          	pop	af
3924  12C2  33          	inc	sp
3925  12C3  3E 00       	ld	a,0x00
3926  12C5  DD 77 FD    	ld	(ix-3),a
3927  12C8  DD 77 FC    	ld	(ix-4),a
3928  12CB  3A 00 00    	ld	a,(_game_two_player)
3929  12CE  B7          	or	a, a
3930  12CF  28 16       	jr	Z,l_game_end_00109
3931  12D1  3A 00 00    	ld	a,(_game_lives)
3932  12D4  B7          	or	a, a
3933  12D5  28 04       	jr	Z,l_game_end_00105
3934  12D7  DD 36 FD 01 	ld	(ix-3),0x01
3935  12DB              l_game_end_00105:
3936  12DB  3A 01 00    	ld	a, (_game_lives + 1)
3937  12DE  B7          	or	a, a
3938  12DF  28 0A       	jr	Z,l_game_end_00110
3939  12E1  DD 36 FC 01 	ld	(ix-4),0x01
3940  12E5  18 04       	jr	l_game_end_00110
3941  12E7              l_game_end_00109:
3942  12E7  DD 36 FD 01 	ld	(ix-3),0x01
3943  12EB              l_game_end_00110:
3944  12EB  DD 7E FD    	ld	a,(ix-3)
3945  12EE  3D          	dec	a
3946  12EF  20 04       	jr	NZ,l_game_end_00221
3947  12F1  3E 01       	ld	a,0x01
3948  12F3  18 01       	jr	l_game_end_00222
3949  12F5              l_game_end_00221:
3950  12F5  AF          	xor	a,a
3951  12F6              l_game_end_00222:
3952  12F6  DD 77 FF    	ld	(ix-1),a
3953  12F9  B7          	or	a, a
3954  12FA  28 1C       	jr	Z,l_game_end_00112
3955  12FC  DD 7E FC    	ld	a,(ix-4)
3956  12FF  B7          	or	a, a
3957  1300  20 16       	jr	NZ,l_game_end_00112
3958  1302  21 68 01    	ld	hl,___str_41
3959  1305  E5          	push	hl
3960  1306  21 13 01    	ld	hl,0x0113
3961  1309  E5          	push	hl
3962  130A  CD 00 00    	call	_zx_print_str
3963  130D  21 50 0C    	ld	hl,0x0c50
3964  1310  E5          	push	hl
3965  1311  3E 03       	ld	a,0x03
3966  1313  F5          	push	af
3967  1314  33          	inc	sp
3968  1315  CD 00 00    	call	_NIRVANAP_drawT_callee
3969  1318              l_game_end_00112:
3970  1318  DD 7E FC    	ld	a,(ix-4)
3971  131B  3D          	dec	a
3972  131C  20 04       	jr	NZ,l_game_end_00223
3973  131E  3E 01       	ld	a,0x01
3974  1320  18 01       	jr	l_game_end_00224
3975  1322              l_game_end_00223:
3976  1322  AF          	xor	a,a
3977  1323              l_game_end_00224:
3978  1323  DD 77 FE    	ld	(ix-2),a
3979  1326  DD 7E FD    	ld	a,(ix-3)
3980  1329  B7          	or	a, a
3981  132A  20 1C       	jr	NZ,l_game_end_00115
3982  132C  DD 7E FE    	ld	a,(ix-2)
3983  132F  B7          	or	a, a
3984  1330  28 16       	jr	Z,l_game_end_00115
3985  1332  21 72 01    	ld	hl,___str_42
3986  1335  E5          	push	hl
3987  1336  21 13 01    	ld	hl,0x0113
3988  1339  E5          	push	hl
3989  133A  CD 00 00    	call	_zx_print_str
3990  133D  21 60 0E    	ld	hl,0x0e60
3991  1340  E5          	push	hl
3992  1341  3E 1B       	ld	a,0x1b
3993  1343  F5          	push	af
3994  1344  33          	inc	sp
3995  1345  CD 00 00    	call	_NIRVANAP_drawT_callee
3996  1348              l_game_end_00115:
3997  1348  DD 7E FF    	ld	a,(ix-1)
3998  134B  B7          	or	a, a
3999  134C  28 27       	jr	Z,l_game_end_00118
4000  134E  DD 7E FE    	ld	a,(ix-2)
4001  1351  B7          	or	a, a
4002  1352  28 21       	jr	Z,l_game_end_00118
4003  1354  21 7B 01    	ld	hl,___str_43
4004  1357  E5          	push	hl
4005  1358  21 13 01    	ld	hl,0x0113
4006  135B  E5          	push	hl
4007  135C  CD 00 00    	call	_zx_print_str
4008  135F  21 50 0C    	ld	hl,0x0c50
4009  1362  E5          	push	hl
4010  1363  3E 03       	ld	a,0x03
4011  1365  F5          	push	af
4012  1366  33          	inc	sp
4013  1367  CD 00 00    	call	_NIRVANAP_drawT_callee
4014  136A  21 60 0E    	ld	hl,0x0e60
4015  136D  E5          	push	hl
4016  136E  3E 1B       	ld	a,0x1b
4017  1370  F5          	push	af
4018  1371  33          	inc	sp
4019  1372  CD 00 00    	call	_NIRVANAP_drawT_callee
4020  1375              l_game_end_00118:
4021  1375  21 C8 00    	ld	hl,0x00c8
4022  1378  E5          	push	hl
4023  1379  21 01 1F    	ld	hl,0x1f01
4024  137C  E5          	push	hl
4025  137D  3E 13       	ld	a,0x13
4026  137F  F5          	push	af
4027  1380  33          	inc	sp
4028  1381  CD 97 19    	call	_game_colour_message
4029  1384  F1          	pop	af
4030  1385  F1          	pop	af
4031  1386  33          	inc	sp
4032  1387  DD 7E FF    	ld	a,(ix-1)
4033  138A  B7          	or	a, a
4034  138B  28 32       	jr	Z,l_game_end_00121
4035  138D  DD 7E FC    	ld	a,(ix-4)
4036  1390  B7          	or	a, a
4037  1391  20 2C       	jr	NZ,l_game_end_00121
4038  1393  21 40 12    	ld	hl,0x1240
4039  1396  E5          	push	hl
4040  1397  3E BE       	ld	a,0xbe
4041  1399  F5          	push	af
4042  139A  33          	inc	sp
4043  139B  CD 00 00    	call	_NIRVANAP_drawT_callee
4044  139E  21 50 12    	ld	hl,0x1250
4045  13A1  E5          	push	hl
4046  13A2  3E CA       	ld	a,0xca
4047  13A4  F5          	push	af
4048  13A5  33          	inc	sp
4049  13A6  CD 00 00    	call	_NIRVANAP_drawT_callee
4050  13A9  21 8F 01    	ld	hl,___str_44
4051  13AC  E5          	push	hl
4052  13AD  21 13 01    	ld	hl,0x0113
4053  13B0  E5          	push	hl
4054  13B1  CD 00 00    	call	_zx_print_str
4055  13B4  21 40 0C    	ld	hl,0x0c40
4056  13B7  E5          	push	hl
4057  13B8  3E BE       	ld	a,0xbe
4058  13BA  F5          	push	af
4059  13BB  33          	inc	sp
4060  13BC  CD 00 00    	call	_NIRVANAP_drawT_callee
4061  13BF              l_game_end_00121:
4062  13BF  DD 7E FD    	ld	a,(ix-3)
4063  13C2  B7          	or	a, a
4064  13C3  20 32       	jr	NZ,l_game_end_00124
4065  13C5  DD 7E FE    	ld	a,(ix-2)
4066  13C8  B7          	or	a, a
4067  13C9  28 2C       	jr	Z,l_game_end_00124
4068  13CB  21 50 12    	ld	hl,0x1250
4069  13CE  E5          	push	hl
4070  13CF  3E BE       	ld	a,0xbe
4071  13D1  F5          	push	af
4072  13D2  33          	inc	sp
4073  13D3  CD 00 00    	call	_NIRVANAP_drawT_callee
4074  13D6  21 60 12    	ld	hl,0x1260
4075  13D9  E5          	push	hl
4076  13DA  3E CA       	ld	a,0xca
4077  13DC  F5          	push	af
4078  13DD  33          	inc	sp
4079  13DE  CD 00 00    	call	_NIRVANAP_drawT_callee
4080  13E1  21 8F 01    	ld	hl,___str_44
4081  13E4  E5          	push	hl
4082  13E5  21 13 01    	ld	hl,0x0113
4083  13E8  E5          	push	hl
4084  13E9  CD 00 00    	call	_zx_print_str
4085  13EC  21 50 0E    	ld	hl,0x0e50
4086  13EF  E5          	push	hl
4087  13F0  3E BE       	ld	a,0xbe
4088  13F2  F5          	push	af
4089  13F3  33          	inc	sp
4090  13F4  CD 00 00    	call	_NIRVANAP_drawT_callee
4091  13F7              l_game_end_00124:
4092  13F7  DD 7E FF    	ld	a,(ix-1)
4093  13FA  B7          	or	a, a
4094  13FB  28 53       	jr	Z,l_game_end_00127
4095  13FD  DD 7E FE    	ld	a,(ix-2)
4096  1400  B7          	or	a, a
4097  1401  28 4D       	jr	Z,l_game_end_00127
4098  1403  21 A3 01    	ld	hl,___str_45
4099  1406  E5          	push	hl
4100  1407  21 13 01    	ld	hl,0x0113
4101  140A  E5          	push	hl
4102  140B  CD 00 00    	call	_zx_print_str
4103  140E  21 40 12    	ld	hl,0x1240
4104  1411  E5          	push	hl
4105  1412  3E BE       	ld	a,0xbe
4106  1414  F5          	push	af
4107  1415  33          	inc	sp
4108  1416  CD 00 00    	call	_NIRVANAP_drawT_callee
4109  1419  21 50 12    	ld	hl,0x1250
4110  141C  E5          	push	hl
4111  141D  3E CA       	ld	a,0xca
4112  141F  F5          	push	af
4113  1420  33          	inc	sp
4114  1421  CD 00 00    	call	_NIRVANAP_drawT_callee
4115  1424  21 50 10    	ld	hl,0x1050
4116  1427  E5          	push	hl
4117  1428  3E BE       	ld	a,0xbe
4118  142A  F5          	push	af
4119  142B  33          	inc	sp
4120  142C  CD 00 00    	call	_NIRVANAP_drawT_callee
4121  142F  21 60 10    	ld	hl,0x1060
4122  1432  E5          	push	hl
4123  1433  3E CA       	ld	a,0xca
4124  1435  F5          	push	af
4125  1436  33          	inc	sp
4126  1437  CD 00 00    	call	_NIRVANAP_drawT_callee
4127  143A  21 40 0C    	ld	hl,0x0c40
4128  143D  E5          	push	hl
4129  143E  3E BE       	ld	a,0xbe
4130  1440  F5          	push	af
4131  1441  33          	inc	sp
4132  1442  CD 00 00    	call	_NIRVANAP_drawT_callee
4133  1445  21 50 0E    	ld	hl,0x0e50
4134  1448  E5          	push	hl
4135  1449  3E BE       	ld	a,0xbe
4136  144B  F5          	push	af
4137  144C  33          	inc	sp
4138  144D  CD 00 00    	call	_NIRVANAP_drawT_callee
4139  1450              l_game_end_00127:
4140  1450  21 C8 00    	ld	hl,0x00c8
4141  1453  E5          	push	hl
4142  1454  21 01 1F    	ld	hl,0x1f01
4143  1457  E5          	push	hl
4144  1458  3E 13       	ld	a,0x13
4145  145A  F5          	push	af
4146  145B  33          	inc	sp
4147  145C  CD 97 19    	call	_game_colour_message
4148  145F  F1          	pop	af
4149  1460  33          	inc	sp
4150  1461  21 B9 01    	ld	hl,___str_46
4151  1464  E3          	ex	(sp),hl
4152  1465  21 13 01    	ld	hl,0x0113
4153  1468  E5          	push	hl
4154  1469  CD 00 00    	call	_zx_print_str
4155  146C  21 C8 00    	ld	hl,0x00c8
4156  146F  E5          	push	hl
4157  1470  21 01 1F    	ld	hl,0x1f01
4158  1473  E5          	push	hl
4159  1474  3E 13       	ld	a,0x13
4160  1476  F5          	push	af
4161  1477  33          	inc	sp
4162  1478  CD 97 19    	call	_game_colour_message
4163  147B  F1          	pop	af
4164  147C  33          	inc	sp
4165  147D  21 D0 01    	ld	hl,___str_47
4166  1480  E3          	ex	(sp),hl
4167  1481  21 13 01    	ld	hl,0x0113
4168  1484  E5          	push	hl
4169  1485  CD 00 00    	call	_zx_print_str
4170  1488  21 C8 00    	ld	hl,0x00c8
4171  148B  E5          	push	hl
4172  148C  21 01 1F    	ld	hl,0x1f01
4173  148F  E5          	push	hl
4174  1490  3E 13       	ld	a,0x13
4175  1492  F5          	push	af
4176  1493  33          	inc	sp
4177  1494  CD 97 19    	call	_game_colour_message
4178  1497  F1          	pop	af
4179  1498  F1          	pop	af
4180  1499  33          	inc	sp
4181  149A  CD 00 00    	call	_spr_draw_clear
4182  149D  DD F9       	ld	sp, ix
4183  149F  DD E1       	pop	ix
4184  14A1  C9          	ret
4185  14A2              	SECTION rodata_compiler
4186  0168              ___str_41:
4187  0168  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4188  0171  00          	DEFB 0x00
4189  0172              	SECTION rodata_compiler
4190  0172              ___str_42:
4191  0172  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4192  017A  00          	DEFB 0x00
4193  017B              	SECTION rodata_compiler
4194  017B              ___str_43:
4195  017B  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4196  018E  00          	DEFB 0x00
4197  018F              	SECTION rodata_compiler
4198  018F              ___str_44:
4199  018F  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4200  01A2  00          	DEFB 0x00
4201  01A3              	SECTION rodata_compiler
4202  01A3              ___str_45:
4203  01A3  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4204  01B8  00          	DEFB 0x00
4205  01B9              	SECTION rodata_compiler
4206  01B9              ___str_46:
4207  01B9  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4208  01CF  00          	DEFB 0x00
4209  01D0              	SECTION rodata_compiler
4210  01D0              ___str_47:
4211  01D0  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4212  01E6  00          	DEFB 0x00
4213  01E7              	SECTION code_compiler
4214  14A2              ;	---------------------------------
4215  14A2              ; Function game_hall_check
4216  14A2              ; ---------------------------------
4217  14A2              _game_hall_check:
4218  14A2  5D          	ld	e,l
4219  14A3  01 00 00    	ld	bc,_player_score+0
4220  14A6  26 00       	ld	h,0x00
4221  14A8  6B          	ld	l, e
4222  14A9  29          	add	hl, hl
4223  14AA  09          	add	hl,bc
4224  14AB  4E          	ld	c,(hl)
4225  14AC  23          	inc	hl
4226  14AD  46          	ld	b,(hl)
4227  14AE  2A 3A 00    	ld	hl,(_hof + 0x003a)
4228  14B1  AF          	xor	a,a
4229  14B2  ED 42       	sbc	hl,bc
4230  14B4  30 09       	jr	NC,l_game_hall_check_00104
4231  14B6  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4232  14BA  21 36 00    	ld	hl,+(_hof + 0x0036)
4233  14BD  18 14       	jr	l_game_hall_check_00106
4234  14BF              l_game_hall_check_00104:
4235  14BF  2A 34 00    	ld	hl,(_hof + 0x0034)
4236  14C2  AF          	xor	a,a
4237  14C3  ED 42       	sbc	hl,bc
4238  14C5  30 09       	jr	NC,l_game_hall_check_00105
4239  14C7  ED 43 34 00 	ld	(_hof + 0x0034),bc
4240  14CB  21 30 00    	ld	hl,+(_hof + 0x0030)
4241  14CE  18 03       	jr	l_game_hall_check_00106
4242  14D0              l_game_hall_check_00105:
4243  14D0  21 00 00    	ld	hl,0x0000
4244  14D3              l_game_hall_check_00106:
4245  14D3  C9          	ret
4246  14D4              	SECTION code_compiler
4247  14D4              ;	---------------------------------
4248  14D4              ; Function compare_scores
4249  14D4              ; ---------------------------------
4250  14D4              _compare_scores:
4251  14D4  CD 00 00    	call	___sdcc_enter_ix
4252  14D7  DD 6E 06    	ld	l,(ix+6)
4253  14DA  DD 66 07    	ld	h,(ix+7)
4254  14DD  11 04 00    	ld	de,0x0004
4255  14E0  19          	add	hl, de
4256  14E1  4E          	ld	c,(hl)
4257  14E2  23          	inc	hl
4258  14E3  46          	ld	b,(hl)
4259  14E4  DD 6E 04    	ld	l,(ix+4)
4260  14E7  DD 66 05    	ld	h,(ix+5)
4261  14EA  11 04 00    	ld	de,0x0004
4262  14ED  19          	add	hl, de
4263  14EE  7E          	ld	a,(hl)
4264  14EF  23          	inc	hl
4265  14F0  56          	ld	d,(hl)
4266  14F1  5F          	ld	e,a
4267  14F2  91          	sub	a, c
4268  14F3  7A          	ld	a,d
4269  14F4  98          	sbc	a, b
4270  14F5  30 05       	jr	NC,l_compare_scores_00102
4271  14F7  21 01 00    	ld	hl,0x0001
4272  14FA  18 10       	jr	l_compare_scores_00105
4273  14FC              l_compare_scores_00102:
4274  14FC  79          	ld	a,c
4275  14FD  93          	sub	a, e
4276  14FE  20 09       	jr	NZ,l_compare_scores_00104
4277  1500  78          	ld	a,b
4278  1501  92          	sub	a, d
4279  1502  20 05       	jr	NZ,l_compare_scores_00104
4280  1504  21 00 00    	ld	hl,0x0000
4281  1507  18 03       	jr	l_compare_scores_00105
4282  1509              l_compare_scores_00104:
4283  1509  21 FF FF    	ld	hl,0xffff
4284  150C              l_compare_scores_00105:
4285  150C  DD E1       	pop	ix
4286  150E  C9          	ret
4287  150F              	SECTION code_compiler
4288  150F              ;	---------------------------------
4289  150F              ; Function game_hall_enter
4290  150F              ; ---------------------------------
4291  150F              _game_hall_enter:
4292  150F  CD 00 00    	call	___sdcc_enter_ix
4293  1512  21 F7 FF    	ld	hl,-9
4294  1515  39          	add	hl,sp
4295  1516  F9          	ld	sp,hl
4296  1517  CD 00 00    	call	_spr_draw_clear
4297  151A  2E 00       	ld	l,0x00
4298  151C  CD C1 0C    	call	_game_paint_attrib
4299  151F  ED 4B 00 00 	ld	bc,(_player_score)
4300  1523  2A 02 00    	ld	hl, (_player_score + 2)
4301  1526  AF          	xor	a,a
4302  1527  ED 42       	sbc	hl,bc
4303  1529  30 0F       	jr	NC,l_game_hall_enter_00102
4304  152B  2E 00       	ld	l,0x00
4305  152D  CD A2 14    	call	_game_hall_check
4306  1530  E5          	push	hl
4307  1531  2E 01       	ld	l,0x01
4308  1533  CD A2 14    	call	_game_hall_check
4309  1536  EB          	ex	de,hl
4310  1537  C1          	pop	bc
4311  1538  18 0E       	jr	l_game_hall_enter_00103
4312  153A              l_game_hall_enter_00102:
4313  153A  2E 01       	ld	l,0x01
4314  153C  CD A2 14    	call	_game_hall_check
4315  153F  E5          	push	hl
4316  1540  2E 00       	ld	l,0x00
4317  1542  CD A2 14    	call	_game_hall_check
4318  1545  D1          	pop	de
4319  1546  4D          	ld	c,l
4320  1547  44          	ld	b,h
4321  1548              l_game_hall_enter_00103:
4322  1548  78          	ld	a,b
4323  1549  B1          	or	a,c
4324  154A  20 05       	jr	NZ,l_game_hall_enter_00125
4325  154C  7A          	ld	a,d
4326  154D  B3          	or	a,e
4327  154E  CA 9C 16    	jp	Z,l_game_hall_enter_00126
4328  1551              l_game_hall_enter_00125:
4329  1551  3E 00       	ld	a,0x00
4330  1553  DD 77 FB    	ld	(ix-5),a
4331  1556  DD 77 FA    	ld	(ix-6),a
4332  1559  DD 77 F9    	ld	(ix-7),a
4333  155C  DD 77 F8    	ld	(ix-8),a
4334  155F  DD 36 F7 00 	ld	(ix-9),0x00
4335  1563  78          	ld	a,b
4336  1564  B1          	or	a,c
4337  1565  28 0D       	jr	Z,l_game_hall_enter_00105
4338  1567  DD 36 F8 01 	ld	(ix-8),0x01
4339  156B  C5          	push	bc
4340  156C  D5          	push	de
4341  156D  2E 00       	ld	l,0x00
4342  156F  CD BF 16    	call	_game_hall_enter_phs
4343  1572  D1          	pop	de
4344  1573  C1          	pop	bc
4345  1574              l_game_hall_enter_00105:
4346  1574  7A          	ld	a,d
4347  1575  B3          	or	a,e
4348  1576  28 0D       	jr	Z,l_game_hall_enter_00107
4349  1578  DD 36 F7 05 	ld	(ix-9),0x05
4350  157C  C5          	push	bc
4351  157D  D5          	push	de
4352  157E  2E 01       	ld	l,0x01
4353  1580  CD BF 16    	call	_game_hall_enter_phs
4354  1583  D1          	pop	de
4355  1584  C1          	pop	bc
4356  1585              l_game_hall_enter_00107:
4357  1585  C5          	push	bc
4358  1586  D5          	push	de
4359  1587  21 E7 01    	ld	hl,___str_48
4360  158A  E5          	push	hl
4361  158B  21 02 0A    	ld	hl,0x0a02
4362  158E  E5          	push	hl
4363  158F  CD 00 00    	call	_zx_print_str
4364  1592  21 F4 01    	ld	hl,___str_49
4365  1595  E5          	push	hl
4366  1596  21 12 06    	ld	hl,0x0612
4367  1599  E5          	push	hl
4368  159A  CD 00 00    	call	_zx_print_str
4369  159D  21 07 02    	ld	hl,___str_50
4370  15A0  E5          	push	hl
4371  15A1  21 13 06    	ld	hl,0x0613
4372  15A4  E5          	push	hl
4373  15A5  CD 00 00    	call	_zx_print_str
4374  15A8  D1          	pop	de
4375  15A9  C1          	pop	bc
4376  15AA  DD 71 FE    	ld	(ix-2),c
4377  15AD  DD 70 FF    	ld	(ix-1),b
4378  15B0  DD 73 FC    	ld	(ix-4),e
4379  15B3  DD 72 FD    	ld	(ix-3),d
4380  15B6              l_game_hall_enter_00122:
4381  15B6  DD 7E F8    	ld	a,(ix-8)
4382  15B9  DD 86 F7    	add	a,(ix-9)
4383  15BC  B7          	or	a, a
4384  15BD  CA 84 16    	jp	Z,l_game_hall_enter_00124
4385  15C0  21 05 00    	ld	hl,0x0005
4386  15C3  E5          	push	hl
4387  15C4  2A 00 00    	ld	hl,(_frame_time)
4388  15C7  E5          	push	hl
4389  15C8  CD 29 1A    	call	_game_check_time
4390  15CB  F1          	pop	af
4391  15CC  F1          	pop	af
4392  15CD  7D          	ld	a,l
4393  15CE  B7          	or	a, a
4394  15CF  28 36       	jr	Z,l_game_hall_enter_00113
4395  15D1  DD 7E F9    	ld	a,(ix-7)
4396  15D4  D6 01       	sub	a,0x01
4397  15D6  3E 00       	ld	a,0x00
4398  15D8  17          	rla
4399  15D9  DD 77 F9    	ld	(ix-7),a
4400  15DC  DD 7E F8    	ld	a,(ix-8)
4401  15DF  B7          	or	a, a
4402  15E0  28 0B       	jr	Z,l_game_hall_enter_00109
4403  15E2  DD 66 F9    	ld	h,(ix-7)
4404  15E5  DD 6E F8    	ld	l,(ix-8)
4405  15E8  E5          	push	hl
4406  15E9  CD 36 17    	call	_game_hall_print_p
4407  15EC  F1          	pop	af
4408  15ED              l_game_hall_enter_00109:
4409  15ED  DD 7E F7    	ld	a,(ix-9)
4410  15F0  B7          	or	a, a
4411  15F1  28 0B       	jr	Z,l_game_hall_enter_00111
4412  15F3  DD 66 F9    	ld	h,(ix-7)
4413  15F6  DD 6E F7    	ld	l,(ix-9)
4414  15F9  E5          	push	hl
4415  15FA  CD 36 17    	call	_game_hall_print_p
4416  15FD  F1          	pop	af
4417  15FE              l_game_hall_enter_00111:
4418  15FE  CD 7B 19    	call	_game_rotate_attrib
4419  1601  2A 00 00    	ld	hl,(_curr_time)
4420  1604  22 00 00    	ld	(_frame_time),hl
4421  1607              l_game_hall_enter_00113:
4422  1607  21 00 00    	ld	hl,_k1
4423  160A  E5          	push	hl
4424  160B  2A 00 00    	ld	hl,(_joyfunc1)
4425  160E  CD 00 00    	call	___sdcc_call_hl
4426  1611  F1          	pop	af
4427  1612  7D          	ld	a,l
4428  1613  32 00 00    	ld	(_dirs),a
4429  1616  DD 7E FB    	ld	a,(ix-5)
4430  1619  B7          	or	a, a
4431  161A  20 22       	jr	NZ,l_game_hall_enter_00115
4432  161C  DD 7E F8    	ld	a,(ix-8)
4433  161F  B7          	or	a, a
4434  1620  28 1C       	jr	Z,l_game_hall_enter_00115
4435  1622  DD 6E F8    	ld	l,(ix-8)
4436  1625  CD F4 17    	call	_game_hall_edit_p
4437  1628  DD 75 F8    	ld	(ix-8),l
4438  162B  7D          	ld	a,l
4439  162C  B7          	or	a, a
4440  162D  20 0F       	jr	NZ,l_game_hall_enter_00115
4441  162F  DD 5E FE    	ld	e,(ix-2)
4442  1632  DD 56 FF    	ld	d,(ix-1)
4443  1635  AF          	xor	a,a
4444  1636  21 00 00    	ld	hl,_initials
4445  1639              l_game_hall_enter_00190:
4446  1639  BE          	cp	a, (hl)
4447  163A  ED A0       	ldi
4448  163C  20 FB       	jr	NZ, l_game_hall_enter_00190
4449  163E              l_game_hall_enter_00115:
4450  163E  3A 00 00    	ld	a,(_dirs)
4451  1641  DD 77 FB    	ld	(ix-5),a
4452  1644  21 00 00    	ld	hl,_k2
4453  1647  E5          	push	hl
4454  1648  2A 00 00    	ld	hl,(_joyfunc2)
4455  164B  CD 00 00    	call	___sdcc_call_hl
4456  164E  F1          	pop	af
4457  164F  7D          	ld	a,l
4458  1650  32 00 00    	ld	(_dirs),a
4459  1653  DD 7E FA    	ld	a,(ix-6)
4460  1656  B7          	or	a, a
4461  1657  20 22       	jr	NZ,l_game_hall_enter_00119
4462  1659  DD 7E F7    	ld	a,(ix-9)
4463  165C  B7          	or	a, a
4464  165D  28 1C       	jr	Z,l_game_hall_enter_00119
4465  165F  DD 6E F7    	ld	l,(ix-9)
4466  1662  CD F4 17    	call	_game_hall_edit_p
4467  1665  DD 75 F7    	ld	(ix-9),l
4468  1668  7D          	ld	a,l
4469  1669  B7          	or	a, a
4470  166A  20 0F       	jr	NZ,l_game_hall_enter_00119
4471  166C  DD 5E FC    	ld	e,(ix-4)
4472  166F  DD 56 FD    	ld	d,(ix-3)
4473  1672  AF          	xor	a,a
4474  1673  21 04 00    	ld	hl,+(_initials + 0x0004)
4475  1676              l_game_hall_enter_00191:
4476  1676  BE          	cp	a, (hl)
4477  1677  ED A0       	ldi
4478  1679  20 FB       	jr	NZ, l_game_hall_enter_00191
4479  167B              l_game_hall_enter_00119:
4480  167B  3A 00 00    	ld	a,(_dirs)
4481  167E  DD 77 FA    	ld	(ix-6),a
4482  1681  C3 B6 15    	jp	l_game_hall_enter_00122
4483  1684              l_game_hall_enter_00124:
4484  1684  CD 00 00    	call	_ay_reset
4485  1687  CD 00 00    	call	_spr_draw_clear
4486  168A  01 D4 14    	ld	bc,_compare_scores
4487  168D  C5          	push	bc
4488  168E  21 06 00    	ld	hl,0x0006
4489  1691  E5          	push	hl
4490  1692  2E 0A       	ld	l,0x0a
4491  1694  E5          	push	hl
4492  1695  21 00 00    	ld	hl,_hof
4493  1698  E5          	push	hl
4494  1699  CD 00 00    	call	__insertion_sort__callee
4495  169C              l_game_hall_enter_00126:
4496  169C  CD AA 18    	call	_game_hall_of_fame
4497  169F  2E 00       	ld	l,0x00
4498  16A1  CD A9 16    	call	_game_menu_back
4499  16A4  DD F9       	ld	sp, ix
4500  16A6  DD E1       	pop	ix
4501  16A8  C9          	ret
4502  16A9              	SECTION rodata_compiler
4503  01E7              ___str_48:
4504  01E7  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4505  01F3  00          	DEFB 0x00
4506  01F4              	SECTION rodata_compiler
4507  01F4              ___str_49:
4508  01F4  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4509  0206  00          	DEFB 0x00
4510  0207              	SECTION rodata_compiler
4511  0207              ___str_50:
4512  0207  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4513  021A  00          	DEFB 0x00
4514  021B              	SECTION code_compiler
4515  16A9              ;	---------------------------------
4516  16A9              ; Function game_menu_back
4517  16A9              ; ---------------------------------
4518  16A9              _game_menu_back:
4519  16A9  7D          	ld	a,l
4520  16AA  32 00 00    	ld	(_s_lin1),a
4521  16AD  21 00 00    	ld	hl,_game_menu_sel
4522  16B0  36 00       	ld	(hl),0x00
4523  16B2  CD A4 0F    	call	_game_menu_top_paint
4524  16B5  CD 18 10    	call	_game_menu_paint
4525  16B8  2A 00 00    	ld	hl,(_curr_time)
4526  16BB  22 00 00    	ld	(_entry_time),hl
4527  16BE  C9          	ret
4528  16BF              	SECTION code_compiler
4529  16BF              ;	---------------------------------
4530  16BF              ; Function game_hall_enter_phs
4531  16BF              ; ---------------------------------
4532  16BF              _game_hall_enter_phs:
4533  16BF  7D          	ld	a,l
4534  16C0  B7          	or	a, a
4535  16C1  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4536  16C3  21 9C 01    	ld	hl,0x019c
4537  16C6  E5          	push	hl
4538  16C7  21 02 0C    	ld	hl,0x0c02
4539  16CA  E5          	push	hl
4540  16CB  3E 30       	ld	a,0x30
4541  16CD  F5          	push	af
4542  16CE  33          	inc	sp
4543  16CF  CD 93 10    	call	_game_menu_e
4544  16D2  F1          	pop	af
4545  16D3  33          	inc	sp
4546  16D4  21 9F FF    	ld	hl,0xff9f
4547  16D7  E3          	ex	(sp),hl
4548  16D8  21 02 0C    	ld	hl,0x0c02
4549  16DB  E5          	push	hl
4550  16DC  3E 7C       	ld	a,0x7c
4551  16DE  F5          	push	af
4552  16DF  33          	inc	sp
4553  16E0  CD 93 10    	call	_game_menu_e
4554  16E3  F1          	pop	af
4555  16E4  33          	inc	sp
4556  16E5  21 1B 02    	ld	hl,___str_51
4557  16E8  E3          	ex	(sp),hl
4558  16E9  21 07 05    	ld	hl,0x0507
4559  16EC  E5          	push	hl
4560  16ED  CD 00 00    	call	_zx_print_str
4561  16F0  21 20 02    	ld	hl,___str_52
4562  16F3  E5          	push	hl
4563  16F4  21 08 05    	ld	hl,0x0508
4564  16F7  E5          	push	hl
4565  16F8  CD 00 00    	call	_zx_print_str
4566  16FB  18 38       	jr	l_game_hall_enter_phs_00104
4567  16FD              l_game_hall_enter_phs_00102:
4568  16FD  21 9C 01    	ld	hl,0x019c
4569  1700  E5          	push	hl
4570  1701  21 12 1C    	ld	hl,0x1c12
4571  1704  E5          	push	hl
4572  1705  3E 30       	ld	a,0x30
4573  1707  F5          	push	af
4574  1708  33          	inc	sp
4575  1709  CD 93 10    	call	_game_menu_e
4576  170C  F1          	pop	af
4577  170D  33          	inc	sp
4578  170E  21 9F FF    	ld	hl,0xff9f
4579  1711  E3          	ex	(sp),hl
4580  1712  21 12 1C    	ld	hl,0x1c12
4581  1715  E5          	push	hl
4582  1716  3E 7C       	ld	a,0x7c
4583  1718  F5          	push	af
4584  1719  33          	inc	sp
4585  171A  CD 93 10    	call	_game_menu_e
4586  171D  F1          	pop	af
4587  171E  33          	inc	sp
4588  171F  21 1B 02    	ld	hl,___str_51
4589  1722  E3          	ex	(sp),hl
4590  1723  21 07 15    	ld	hl,0x1507
4591  1726  E5          	push	hl
4592  1727  CD 00 00    	call	_zx_print_str
4593  172A  21 20 02    	ld	hl,___str_52
4594  172D  E5          	push	hl
4595  172E  21 08 15    	ld	hl,0x1508
4596  1731  E5          	push	hl
4597  1732  CD 00 00    	call	_zx_print_str
4598  1735              l_game_hall_enter_phs_00104:
4599  1735  C9          	ret
4600  1736              	SECTION rodata_compiler
4601  021B              ___str_51:
4602  021B  48 49 47 48 	DEFM "HIGH"
4603  021F  00          	DEFB 0x00
4604  0220              	SECTION rodata_compiler
4605  0220              ___str_52:
4606  0220  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4607  0226  00          	DEFB 0x00
4608  0227              	SECTION code_compiler
4609  1736              ;	---------------------------------
4610  1736              ; Function game_hall_print_p
4611  1736              ; ---------------------------------
4612  1736              _game_hall_print_p:
4613  1736  CD 00 00    	call	___sdcc_enter_ix
4614  1739  DD 7E 04    	ld	a,(ix+4)
4615  173C  D6 05       	sub	a,0x05
4616  173E  30 59       	jr	NC,l_game_hall_print_p_00108
4617  1740  21 00 00    	ld	hl,_initials
4618  1743  E5          	push	hl
4619  1744  21 0D 06    	ld	hl,0x060d
4620  1747  E5          	push	hl
4621  1748  CD 00 00    	call	_zx_print_str
4622  174B  DD 7E 04    	ld	a,(ix+4)
4623  174E  C6 06       	add	a,0x06
4624  1750  47          	ld	b,a
4625  1751  DD 7E 04    	ld	a,(ix+4)
4626  1754  C6 05       	add	a,0x05
4627  1756  57          	ld	d,a
4628  1757  3E 70       	ld	a,0x70
4629  1759  F5          	push	af
4630  175A  33          	inc	sp
4631  175B  4A          	ld	c, d
4632  175C  C5          	push	bc
4633  175D  CD 0C 0D    	call	_game_paint_attrib_lin_h
4634  1760  F1          	pop	af
4635  1761  33          	inc	sp
4636  1762  76          	halt
4637  1763  DD 7E 05    	ld	a,(ix+5)
4638  1766  B7          	or	a, a
4639  1767  28 18       	jr	Z,l_game_hall_print_p_00102
4640  1769  21 56 06    	ld	hl,0x0656
4641  176C  E5          	push	hl
4642  176D  3E A9       	ld	a,0xa9
4643  176F  F5          	push	af
4644  1770  33          	inc	sp
4645  1771  CD 00 00    	call	_NIRVANAP_drawT_callee
4646  1774  21 58 06    	ld	hl,0x0658
4647  1777  E5          	push	hl
4648  1778  3E 03       	ld	a,0x03
4649  177A  F5          	push	af
4650  177B  33          	inc	sp
4651  177C  CD 00 00    	call	_NIRVANAP_drawT_callee
4652  177F  18 70       	jr	l_game_hall_print_p_00110
4653  1781              l_game_hall_print_p_00102:
4654  1781  21 58 06    	ld	hl,0x0658
4655  1784  E5          	push	hl
4656  1785  3E A9       	ld	a,0xa9
4657  1787  F5          	push	af
4658  1788  33          	inc	sp
4659  1789  CD 00 00    	call	_NIRVANAP_drawT_callee
4660  178C  21 56 06    	ld	hl,0x0656
4661  178F  E5          	push	hl
4662  1790  3E 16       	ld	a,0x16
4663  1792  F5          	push	af
4664  1793  33          	inc	sp
4665  1794  CD 00 00    	call	_NIRVANAP_drawT_callee
4666  1797  18 58       	jr	l_game_hall_print_p_00110
4667  1799              l_game_hall_print_p_00108:
4668  1799  21 04 00    	ld	hl,+(_initials + 0x0004)
4669  179C  E5          	push	hl
4670  179D  21 0D 16    	ld	hl,0x160d
4671  17A0  E5          	push	hl
4672  17A1  CD 00 00    	call	_zx_print_str
4673  17A4  DD 7E 04    	ld	a,(ix+4)
4674  17A7  C6 12       	add	a,0x12
4675  17A9  57          	ld	d,a
4676  17AA  DD 7E 04    	ld	a,(ix+4)
4677  17AD  C6 11       	add	a,0x11
4678  17AF  47          	ld	b,a
4679  17B0  3E 70       	ld	a,0x70
4680  17B2  5A          	ld	e,d
4681  17B3  57          	ld	d,a
4682  17B4  D5          	push	de
4683  17B5  C5          	push	bc
4684  17B6  33          	inc	sp
4685  17B7  CD 0C 0D    	call	_game_paint_attrib_lin_h
4686  17BA  F1          	pop	af
4687  17BB  33          	inc	sp
4688  17BC  76          	halt
4689  17BD  DD 7E 05    	ld	a,(ix+5)
4690  17C0  B7          	or	a, a
4691  17C1  28 18       	jr	Z,l_game_hall_print_p_00105
4692  17C3  21 56 17    	ld	hl,0x1756
4693  17C6  E5          	push	hl
4694  17C7  3E A9       	ld	a,0xa9
4695  17C9  F5          	push	af
4696  17CA  33          	inc	sp
4697  17CB  CD 00 00    	call	_NIRVANAP_drawT_callee
4698  17CE  21 58 17    	ld	hl,0x1758
4699  17D1  E5          	push	hl
4700  17D2  3E 27       	ld	a,0x27
4701  17D4  F5          	push	af
4702  17D5  33          	inc	sp
4703  17D6  CD 00 00    	call	_NIRVANAP_drawT_callee
4704  17D9  18 16       	jr	l_game_hall_print_p_00110
4705  17DB              l_game_hall_print_p_00105:
4706  17DB  21 58 17    	ld	hl,0x1758
4707  17DE  E5          	push	hl
4708  17DF  3E A9       	ld	a,0xa9
4709  17E1  F5          	push	af
4710  17E2  33          	inc	sp
4711  17E3  CD 00 00    	call	_NIRVANAP_drawT_callee
4712  17E6  21 56 17    	ld	hl,0x1756
4713  17E9  E5          	push	hl
4714  17EA  3E 2E       	ld	a,0x2e
4715  17EC  F5          	push	af
4716  17ED  33          	inc	sp
4717  17EE  CD 00 00    	call	_NIRVANAP_drawT_callee
4718  17F1              l_game_hall_print_p_00110:
4719  17F1  DD E1       	pop	ix
4720  17F3  C9          	ret
4721  17F4              	SECTION code_compiler
4722  17F4              ;	---------------------------------
4723  17F4              ; Function game_hall_edit_p
4724  17F4              ; ---------------------------------
4725  17F4              _game_hall_edit_p:
4726  17F4  CD 00 00    	call	___sdcc_enter_ix
4727  17F7  F5          	push	af
4728  17F8  4D          	ld	c,l
4729  17F9  0D          	dec	c
4730  17FA  3A 00 00    	ld	a,(_dirs)
4731  17FD  07          	rlca
4732  17FE  30 63       	jr	NC,l_game_hall_edit_p_00120
4733  1800  79          	ld	a,c
4734  1801  FE 04       	cp	a,0x04
4735  1803  30 17       	jr	NC,l_game_hall_edit_p_00102
4736  1805  C6 07       	add	a,0x07
4737  1807  57          	ld	d,a
4738  1808  79          	ld	a,c
4739  1809  C6 06       	add	a,0x06
4740  180B  47          	ld	b,a
4741  180C  C5          	push	bc
4742  180D  3E 70       	ld	a,0x70
4743  180F  5A          	ld	e,d
4744  1810  57          	ld	d,a
4745  1811  D5          	push	de
4746  1812  C5          	push	bc
4747  1813  33          	inc	sp
4748  1814  CD E5 0C    	call	_game_paint_attrib_lin
4749  1817  F1          	pop	af
4750  1818  33          	inc	sp
4751  1819  C1          	pop	bc
4752  181A  18 16       	jr	l_game_hall_edit_p_00103
4753  181C              l_game_hall_edit_p_00102:
4754  181C  79          	ld	a,c
4755  181D  C6 13       	add	a,0x13
4756  181F  57          	ld	d,a
4757  1820  79          	ld	a,c
4758  1821  C6 12       	add	a,0x12
4759  1823  47          	ld	b,a
4760  1824  C5          	push	bc
4761  1825  3E 70       	ld	a,0x70
4762  1827  5A          	ld	e,d
4763  1828  57          	ld	d,a
4764  1829  D5          	push	de
4765  182A  C5          	push	bc
4766  182B  33          	inc	sp
4767  182C  CD E5 0C    	call	_game_paint_attrib_lin
4768  182F  F1          	pop	af
4769  1830  33          	inc	sp
4770  1831  C1          	pop	bc
4771  1832              l_game_hall_edit_p_00103:
4772  1832  C5          	push	bc
4773  1833  CD 00 00    	call	_sound_slide
4774  1836  C1          	pop	bc
4775  1837  21 00 00    	ld	hl,_ay_effect_01
4776  183A  CD 00 00    	call	_ay_fx_play
4777  183D  11 00 00    	ld	de,_initials+0
4778  1840  41          	ld	b,c
4779  1841  0C          	inc	c
4780  1842  68          	ld	l,b
4781  1843  26 00       	ld	h,0x00
4782  1845  19          	add	hl,de
4783  1846  7E          	ld	a,(hl)
4784  1847  D6 7B       	sub	a,0x7b
4785  1849  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4786  184B  0D          	dec	c
4787  184C  79          	ld	a,c
4788  184D  E6 03       	and	a,0x03
4789  184F  28 08       	jr	Z,l_game_hall_edit_p_00107
4790  1851  41          	ld	b,c
4791  1852  0D          	dec	c
4792  1853  68          	ld	l,b
4793  1854  26 00       	ld	h,0x00
4794  1856  19          	add	hl,de
4795  1857  36 41       	ld	(hl),0x41
4796  1859              l_game_hall_edit_p_00107:
4797  1859  79          	ld	a,c
4798  185A  E6 03       	and	a,0x03
4799  185C  D6 03       	sub	a,0x03
4800  185E  20 44       	jr	NZ,l_game_hall_edit_p_00121
4801  1860  6F          	ld	l,a
4802  1861  18 43       	jr	l_game_hall_edit_p_00122
4803  1863              l_game_hall_edit_p_00120:
4804  1863  3A 00 00    	ld	a,(_dirs)
4805  1866  E6 0C       	and	a,0x0c
4806  1868  28 3A       	jr	Z,l_game_hall_edit_p_00121
4807  186A  11 00 00    	ld	de,_hall_valids
4808  186D  3E 00       	ld	a,+((_initials) & 0xFF)
4809  186F  81          	add	a, c
4810  1870  DD 77 FE    	ld	(ix-2),a
4811  1873  3E 00       	ld	a,+((_initials) / 256)
4812  1875  CE 00       	adc	a,0x00
4813  1877  DD 77 FF    	ld	(ix-1),a
4814  187A  E1          	pop	hl
4815  187B  46          	ld	b,(hl)
4816  187C  E5          	push	hl
4817  187D              l_game_hall_edit_p_00168:
4818  187D  1A          	ld	a, (de)
4819  187E  B8          	cp	a, b
4820  187F  28 06       	jr	Z,l_game_hall_edit_p_00167
4821  1881  B7          	or	a, a
4822  1882  13          	inc	de
4823  1883  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4824  1885  5F          	ld	e, a
4825  1886  57          	ld	d, a
4826  1887              l_game_hall_edit_p_00167:
4827  1887  3A 00 00    	ld	a,(_dirs)
4828  188A  E6 04       	and	a,0x04
4829  188C  28 0A       	jr	Z,l_game_hall_edit_p_00115
4830  188E  1B          	dec	de
4831  188F  1A          	ld	a,(de)
4832  1890  3D          	dec	a
4833  1891  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4834  1893  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4835  1896  18 08       	jr	l_game_hall_edit_p_00116
4836  1898              l_game_hall_edit_p_00115:
4837  1898  13          	inc	de
4838  1899  1A          	ld	a,(de)
4839  189A  B7          	or	a, a
4840  189B  20 03       	jr	NZ,l_game_hall_edit_p_00116
4841  189D  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4842  18A0              l_game_hall_edit_p_00116:
4843  18A0  E1          	pop	hl
4844  18A1  1A          	ld	a,(de)
4845  18A2  E5          	push	hl
4846  18A3  77          	ld	(hl),a
4847  18A4              l_game_hall_edit_p_00121:
4848  18A4  0C          	inc	c
4849  18A5  69          	ld	l,c
4850  18A6              l_game_hall_edit_p_00122:
4851  18A6  F1          	pop	af
4852  18A7  DD E1       	pop	ix
4853  18A9  C9          	ret
4854  18AA              	SECTION code_compiler
4855  18AA              ;	---------------------------------
4856  18AA              ; Function game_hall_of_fame
4857  18AA              ; ---------------------------------
4858  18AA              _game_hall_of_fame:
4859  18AA  CD 00 00    	call	_spr_draw_clear
4860  18AD  2E 00       	ld	l,0x00
4861  18AF  CD C1 0C    	call	_game_paint_attrib
4862  18B2  21 9C 01    	ld	hl,0x019c
4863  18B5  E5          	push	hl
4864  18B6  21 06 18    	ld	hl,0x1806
4865  18B9  E5          	push	hl
4866  18BA  3E 10       	ld	a,0x10
4867  18BC  F5          	push	af
4868  18BD  33          	inc	sp
4869  18BE  CD 93 10    	call	_game_menu_e
4870  18C1  F1          	pop	af
4871  18C2  33          	inc	sp
4872  18C3  21 9F FF    	ld	hl,0xff9f
4873  18C6  E3          	ex	(sp),hl
4874  18C7  21 06 18    	ld	hl,0x1806
4875  18CA  E5          	push	hl
4876  18CB  3E 98       	ld	a,0x98
4877  18CD  F5          	push	af
4878  18CE  33          	inc	sp
4879  18CF  CD 93 10    	call	_game_menu_e
4880  18D2  F1          	pop	af
4881  18D3  F1          	pop	af
4882  18D4  33          	inc	sp
4883  18D5  21 00 00    	ld	hl,_s_lin1
4884  18D8  36 00       	ld	(hl),0x00
4885  18DA              l_game_hall_of_fame_00102:
4886  18DA  21 00 00    	ld	hl,_screen_ink
4887  18DD  36 05       	ld	(hl),0x05
4888  18DF  2A 00 00    	ld	hl,(_s_lin1)
4889  18E2  26 00       	ld	h,0x00
4890  18E4  4D          	ld	c,l
4891  18E5  44          	ld	b,h
4892  18E6  29          	add	hl, hl
4893  18E7  09          	add	hl, bc
4894  18E8  29          	add	hl, hl
4895  18E9  01 00 00    	ld	bc,_hof
4896  18EC  09          	add	hl,bc
4897  18ED  3A 00 00    	ld	a,(_s_lin1)
4898  18F0  EB          	ex	de,hl
4899  18F1  C6 07       	add	a,0x07
4900  18F3  47          	ld	b,a
4901  18F4  D5          	push	de
4902  18F5  3E 0A       	ld	a,0x0a
4903  18F7  48          	ld	c,b
4904  18F8  47          	ld	b,a
4905  18F9  C5          	push	bc
4906  18FA  CD 00 00    	call	_zx_print_str
4907  18FD  2A 00 00    	ld	hl,(_s_lin1)
4908  1900  26 00       	ld	h,0x00
4909  1902  4D          	ld	c,l
4910  1903  44          	ld	b,h
4911  1904  29          	add	hl, hl
4912  1905  09          	add	hl, bc
4913  1906  29          	add	hl, hl
4914  1907  01 00 00    	ld	bc,_hof
4915  190A  09          	add	hl,bc
4916  190B  11 04 00    	ld	de,0x0004
4917  190E  19          	add	hl, de
4918  190F  5E          	ld	e,(hl)
4919  1910  23          	inc	hl
4920  1911  56          	ld	d,(hl)
4921  1912  3A 00 00    	ld	a,(_s_lin1)
4922  1915  C6 07       	add	a,0x07
4923  1917  47          	ld	b,a
4924  1918  D5          	push	de
4925  1919  3E 10       	ld	a,0x10
4926  191B  48          	ld	c,b
4927  191C  47          	ld	b,a
4928  191D  C5          	push	bc
4929  191E  CD 00 00    	call	_zx_print_int
4930  1921  11 27 02    	ld	de,___str_53
4931  1924  3A 00 00    	ld	a,(_s_lin1)
4932  1927  C6 07       	add	a,0x07
4933  1929  47          	ld	b,a
4934  192A  D5          	push	de
4935  192B  3E 0E       	ld	a,0x0e
4936  192D  48          	ld	c,b
4937  192E  47          	ld	b,a
4938  192F  C5          	push	bc
4939  1930  CD 00 00    	call	_zx_print_str
4940  1933  11 29 02    	ld	de,___str_54
4941  1936  3A 00 00    	ld	a,(_s_lin1)
4942  1939  C6 07       	add	a,0x07
4943  193B  47          	ld	b,a
4944  193C  D5          	push	de
4945  193D  3E 15       	ld	a,0x15
4946  193F  48          	ld	c,b
4947  1940  47          	ld	b,a
4948  1941  C5          	push	bc
4949  1942  CD 00 00    	call	_zx_print_str
4950  1945  21 00 00    	ld	hl,_s_lin1
4951  1948  7E          	ld	a,(hl)
4952  1949  3C          	inc	a
4953  194A  77          	ld	(hl),a
4954  194B  D6 0A       	sub	a,0x0a
4955  194D  38 8B       	jr	C,l_game_hall_of_fame_00102
4956  194F  21 2B 02    	ld	hl,___str_55
4957  1952  E5          	push	hl
4958  1953  21 04 0A    	ld	hl,0x0a04
4959  1956  E5          	push	hl
4960  1957  CD 00 00    	call	_zx_print_str
4961  195A  21 F4 01    	ld	hl,0x01f4
4962  195D  E5          	push	hl
4963  195E  21 0A 16    	ld	hl,0x160a
4964  1961  E5          	push	hl
4965  1962  3E 04       	ld	a,0x04
4966  1964  F5          	push	af
4967  1965  33          	inc	sp
4968  1966  CD 97 19    	call	_game_colour_message
4969  1969  F1          	pop	af
4970  196A  F1          	pop	af
4971  196B  33          	inc	sp
4972  196C  CD 00 00    	call	_spr_draw_clear
4973  196F  21 00 00    	ld	hl,_game_menu_sel
4974  1972  36 00       	ld	(hl),0x00
4975  1974  21 00 00    	ld	hl,_pb_midi_title
4976  1977  CD 00 00    	call	_ay_midi_play
4977  197A  C9          	ret
4978  197B              	SECTION rodata_compiler
4979  0227              ___str_53:
4980  0227  2D          	DEFM "-"
4981  0228  00          	DEFB 0x00
4982  0229              	SECTION rodata_compiler
4983  0229              ___str_54:
4984  0229  30          	DEFM "0"
4985  022A  00          	DEFB 0x00
4986  022B              	SECTION rodata_compiler
4987  022B              ___str_55:
4988  022B  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4989  0237  00          	DEFB 0x00
4990  0238              	SECTION code_compiler
4991  197B              ;	---------------------------------
4992  197B              ; Function game_rotate_attrib
4993  197B              ; ---------------------------------
4994  197B              _game_rotate_attrib:
4995  197B  01 03 00    	ld	bc,_attrib_hl + 3
4996  197E  0A          	ld	a,(bc)
4997  197F  32 00 00    	ld	(_tmp_uc),a
4998  1982  11 02 00    	ld	de,_attrib_hl + 2
4999  1985  1A          	ld	a,(de)
5000  1986  02          	ld	(bc),a
5001  1987  01 01 00    	ld	bc,_attrib_hl + 1
5002  198A  0A          	ld	a,(bc)
5003  198B  12          	ld	(de),a
5004  198C  3A 00 00    	ld	a,(_attrib_hl)
5005  198F  02          	ld	(bc),a
5006  1990  3A 00 00    	ld	a,(_tmp_uc)
5007  1993  32 00 00    	ld	(_attrib_hl),a
5008  1996  C9          	ret
5009  1997              	SECTION code_compiler
5010  1997              ;	---------------------------------
5011  1997              ; Function game_colour_message
5012  1997              ; ---------------------------------
5013  1997              _game_colour_message:
5014  1997  CD 00 00    	call	___sdcc_enter_ix
5015  199A  3B          	dec	sp
5016  199B  21 00 00    	ld	hl,_tmp
5017  199E  36 01       	ld	(hl),0x01
5018  19A0  2A 00 00    	ld	hl,(_curr_time)
5019  19A3  22 00 00    	ld	(_frame_time),hl
5020  19A6  2A 00 00    	ld	hl,(_curr_time)
5021  19A9  22 00 00    	ld	(_entry_time),hl
5022  19AC  DD 7E 04    	ld	a,(ix+4)
5023  19AF  07          	rlca
5024  19B0  07          	rlca
5025  19B1  07          	rlca
5026  19B2  E6 F8       	and	a,0xf8
5027  19B4  C6 08       	add	a,0x08
5028  19B6  DD 77 FF    	ld	(ix-1),a
5029  19B9              l_game_colour_message_00107:
5030  19B9  3A 00 00    	ld	a,(_tmp)
5031  19BC  B7          	or	a, a
5032  19BD  28 66       	jr	Z,l_game_colour_message_00110
5033  19BF  DD 6E 07    	ld	l,(ix+7)
5034  19C2  DD 66 08    	ld	h,(ix+8)
5035  19C5  E5          	push	hl
5036  19C6  2A 00 00    	ld	hl,(_entry_time)
5037  19C9  E5          	push	hl
5038  19CA  CD 29 1A    	call	_game_check_time
5039  19CD  F1          	pop	af
5040  19CE  F1          	pop	af
5041  19CF  7D          	ld	a,l
5042  19D0  B7          	or	a, a
5043  19D1  20 52       	jr	NZ,l_game_colour_message_00110
5044  19D3  21 05 00    	ld	hl,0x0005
5045  19D6  E5          	push	hl
5046  19D7  2A 00 00    	ld	hl,(_frame_time)
5047  19DA  E5          	push	hl
5048  19DB  CD 29 1A    	call	_game_check_time
5049  19DE  F1          	pop	af
5050  19DF  F1          	pop	af
5051  19E0  7D          	ld	a,l
5052  19E1  B7          	or	a, a
5053  19E2  28 1A       	jr	Z,l_game_colour_message_00103
5054  19E4  2A 00 00    	ld	hl,(_curr_time)
5055  19E7  22 00 00    	ld	(_frame_time),hl
5056  19EA  DD 66 FF    	ld	h,(ix-1)
5057  19ED  DD 6E 06    	ld	l,(ix+6)
5058  19F0  E5          	push	hl
5059  19F1  DD 7E 05    	ld	a,(ix+5)
5060  19F4  F5          	push	af
5061  19F5  33          	inc	sp
5062  19F6  CD 0C 0D    	call	_game_paint_attrib_lin_h
5063  19F9  F1          	pop	af
5064  19FA  33          	inc	sp
5065  19FB  CD 7B 19    	call	_game_rotate_attrib
5066  19FE              l_game_colour_message_00103:
5067  19FE  21 00 00    	ld	hl,_k1
5068  1A01  E5          	push	hl
5069  1A02  2A 00 00    	ld	hl,(_joyfunc1)
5070  1A05  CD 00 00    	call	___sdcc_call_hl
5071  1A08  E3          	ex	(sp),hl
5072  1A09  21 00 00    	ld	hl,_k2
5073  1A0C  E5          	push	hl
5074  1A0D  2A 00 00    	ld	hl,(_joyfunc2)
5075  1A10  CD 00 00    	call	___sdcc_call_hl
5076  1A13  F1          	pop	af
5077  1A14  EB          	ex	de,hl
5078  1A15  C1          	pop	bc
5079  1A16  79          	ld	a,c
5080  1A17  B3          	or	a, e
5081  1A18  4F          	ld	c,a
5082  1A19  78          	ld	a,b
5083  1A1A  B2          	or	a, d
5084  1A1B  B1          	or	a,c
5085  1A1C  28 9B       	jr	Z,l_game_colour_message_00107
5086  1A1E  21 00 00    	ld	hl,_tmp
5087  1A21  36 00       	ld	(hl),0x00
5088  1A23  18 D9       	jr	l_game_colour_message_00103
5089  1A25              l_game_colour_message_00110:
5090  1A25  33          	inc	sp
5091  1A26  DD E1       	pop	ix
5092  1A28  C9          	ret
5093  1A29              	SECTION code_compiler
5094  1A29              ;	---------------------------------
5095  1A29              ; Function game_check_time
5096  1A29              ; ---------------------------------
5097  1A29              _game_check_time:
5098  1A29  CD 00 00    	call	___sdcc_enter_ix
5099  1A2C  2A 00 00    	ld	hl,(_curr_time)
5100  1A2F  7D          	ld	a,l
5101  1A30  DD 96 04    	sub	a,(ix+4)
5102  1A33  4F          	ld	c,a
5103  1A34  7C          	ld	a,h
5104  1A35  DD 9E 05    	sbc	a,(ix+5)
5105  1A38  47          	ld	b,a
5106  1A39  DD 7E 06    	ld	a,(ix+6)
5107  1A3C  91          	sub	a, c
5108  1A3D  DD 7E 07    	ld	a,(ix+7)
5109  1A40  98          	sbc	a, b
5110  1A41  30 04       	jr	NC,l_game_check_time_00102
5111  1A43  2E 01       	ld	l,0x01
5112  1A45  18 02       	jr	l_game_check_time_00104
5113  1A47              l_game_check_time_00102:
5114  1A47  2E 00       	ld	l,0x00
5115  1A49              l_game_check_time_00104:
5116  1A49  DD E1       	pop	ix
5117  1A4B  C9          	ret
5118  1A4C              	SECTION IGNORE
5119  0000              
