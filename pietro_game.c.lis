1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9880 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_print_phase
184   0000              	GLOBAL _game_calc_index
185   0000              	GLOBAL _game_print_footer
186   0000              	GLOBAL _game_phase_print_score_back
187   0000              	GLOBAL _game_print_lives
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_start_timer
190   0000              	GLOBAL _game_phase_calc
191   0000              	GLOBAL _game_phase_init
192   0000              	GLOBAL _game_print_header
193   0000              	GLOBAL _game_phase_print
194   0000              	GLOBAL _game_loop
195   0000              	GLOBAL _game_score_osd
196   0000              	GLOBAL _game_bonus_clock
197   0000              	GLOBAL _game_bonus_summary
198   0000              	GLOBAL _game_bonus_summary_player
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_check_floor
201   0000              	GLOBAL _game_enemy_add
202   0000              	GLOBAL _game_enemy_quota
203   0000              	GLOBAL _game_enemy_rnd
204   0000              	GLOBAL _game_enemy_add1
205   0000              	GLOBAL _game_enemy_add_get_index
206   0000              	GLOBAL _game_freeze
207   0000              	GLOBAL _game_unfreeze_all
208   0000              	GLOBAL _game_freeze_all
209   0000              	GLOBAL _game_print_score
210   0000              	GLOBAL _game_paint_attrib
211   0000              	GLOBAL _game_paint_attrib_lin
212   0000              	GLOBAL _game_paint_attrib_lin_h
213   0000              	GLOBAL _game_menu_config
214   0000              	GLOBAL _game_joystick_change
215   0000              	GLOBAL _game_joystick_set_menu
216   0000              	GLOBAL _game_joystick_set
217   0000              	GLOBAL _game_menu
218   0000              	GLOBAL _game_menu_top_paint
219   0000              	GLOBAL _game_menu_paint
220   0000              	GLOBAL _game_menu_e
221   0000              	GLOBAL _game_menu_handle
222   0000              	GLOBAL _game_end
223   0000              	GLOBAL _game_hall_check
224   0000              	GLOBAL _game_hall_enter
225   0000              	GLOBAL _game_menu_back
226   0000              	GLOBAL _game_hall_enter_phs
227   0000              	GLOBAL _game_hall_print_p
228   0000              	GLOBAL _game_hall_edit_p
229   0000              	GLOBAL _game_hall_of_fame
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_colour_message
232   0000              	GLOBAL _game_check_time
233   0000              ;--------------------------------------------------------
234   0000              ; Externals used
235   0000              ;--------------------------------------------------------
236   0000              	GLOBAL _debug3
237   0000              	GLOBAL _debug2
238   0000              	GLOBAL _debug
239   0000              	GLOBAL _zx_print_str
240   0000              	GLOBAL _zx_print_int
241   0000              	GLOBAL _zx_print_chr
242   0000              	GLOBAL _zx_print_bonus_time
243   0000              	GLOBAL _zx_isr
244   0000              	GLOBAL _spr_mapfix
245   0000              	GLOBAL _spr_kill_all
246   0000              	GLOBAL _spr_collision_check
247   0000              	GLOBAL _spr_calc_hor
248   0000              	GLOBAL _spr_draw_row
249   0000              	GLOBAL _spr_draw_index
250   0000              	GLOBAL _spr_draw_clear
251   0000              	GLOBAL _spr_water_splash_draw
252   0000              	GLOBAL _spr_water_splash_clear
253   0000              	GLOBAL _spr_draw_background
254   0000              	GLOBAL _spr_cortina_brick
255   0000              	GLOBAL _spr_brick_anim
256   0000              	GLOBAL _spr_back_fix
257   0000              	GLOBAL _spr_back_paint
258   0000              	GLOBAL _spr_back_clr
259   0000              	GLOBAL _spr_draw_pow
260   0000              	GLOBAL _spr_tile
261   0000              	GLOBAL _spr_set_fall
262   0000              	GLOBAL _spr_destroy
263   0000              	GLOBAL _spr_check_over
264   0000              	GLOBAL _spr_tile_dir
265   0000              	GLOBAL _spr_anim_kill
266   0000              	GLOBAL _spr_anim_fall
267   0000              	GLOBAL _spr_killed
268   0000              	GLOBAL _spr_redraw
269   0000              	GLOBAL _spr_move_left
270   0000              	GLOBAL _spr_move_right
271   0000              	GLOBAL _spr_move_horizontal
272   0000              	GLOBAL _spr_move_down
273   0000              	GLOBAL _spr_move_up
274   0000              	GLOBAL _spr_chktime
275   0000              	GLOBAL _sound_hit_pow
276   0000              	GLOBAL _sound_hit_brick
277   0000              	GLOBAL _sound_hit_enemy
278   0000              	GLOBAL _sound_kill
279   0000              	GLOBAL _sound_enter_enemy
280   0000              	GLOBAL _sound_coin
281   0000              	GLOBAL _sound_jump
282   0000              	GLOBAL _sound_slide
283   0000              	GLOBAL _player_set
284   0000              	GLOBAL _player_move_horizontal
285   0000              	GLOBAL _player_push
286   0000              	GLOBAL _player_hit_brick_clear
287   0000              	GLOBAL _player_lost_life
288   0000              	GLOBAL _player_score_add
289   0000              	GLOBAL _player_coin
290   0000              	GLOBAL _player_hit_pow
291   0000              	GLOBAL _player_hit_brick
292   0000              	GLOBAL _player_move_input
293   0000              	GLOBAL _player_turn
294   0000              	GLOBAL _player_move
295   0000              	GLOBAL _player_restart
296   0000              	GLOBAL _player_kill
297   0000              	GLOBAL _player_check_input
298   0000              	GLOBAL _player_collision
299   0000              	GLOBAL _player_calc_slide
300   0000              	GLOBAL _player_init
301   0000              	GLOBAL _player_set2
302   0000              	GLOBAL _player_set1
303   0000              	GLOBAL _game_fill_row
304   0000              	GLOBAL _enemy_ugly_fix
305   0000              	GLOBAL _enemy_kill
306   0000              	GLOBAL _enemy_init
307   0000              	GLOBAL _enemy_walk
308   0000              	GLOBAL _enemy_upgrade
309   0000              	GLOBAL _enemy_evolve
310   0000              	GLOBAL _enemy_standard_hit
311   0000              	GLOBAL _enemy_trip_move
312   0000              	GLOBAL _enemy_trip
313   0000              	GLOBAL _enemy_fighterfly
314   0000              	GLOBAL _enemy_fireball_green
315   0000              	GLOBAL _enemy_fireball_red
316   0000              	GLOBAL _enemy_slipice
317   0000              	GLOBAL _enemy_standard
318   0000              	GLOBAL _enemy_turn
319   0000              	GLOBAL _enemy_flip_sidestepper
320   0000              	GLOBAL _enemy_flip
321   0000              	GLOBAL _enemy_flip_change_dir
322   0000              	GLOBAL _enemy_hit
323   0000              	GLOBAL _enemy_collision_turn_dir
324   0000              	GLOBAL _enemy_collision
325   0000              	GLOBAL _enemy_coin1
326   0000              	GLOBAL _ay_fx_play
327   0000              	GLOBAL _ay_midi_play
328   0000              	GLOBAL _ay_is_playing
329   0000              	GLOBAL _ay_reset
330   0000              	GLOBAL _in_mouse_kempston_wheel_delta
331   0000              	GLOBAL _in_mouse_kempston_wheel
332   0000              	GLOBAL _in_mouse_kempston_callee
333   0000              	GLOBAL _in_mouse_kempston
334   0000              	GLOBAL _in_mouse_kempston_setpos_callee
335   0000              	GLOBAL _in_mouse_kempston_setpos
336   0000              	GLOBAL _in_mouse_kempston_reset
337   0000              	GLOBAL _in_mouse_kempston_init
338   0000              	GLOBAL _in_mouse_amx_wheel_delta
339   0000              	GLOBAL _in_mouse_amx_wheel
340   0000              	GLOBAL _in_mouse_amx_callee
341   0000              	GLOBAL _in_mouse_amx
342   0000              	GLOBAL _in_mouse_amx_setpos_callee
343   0000              	GLOBAL _in_mouse_amx_setpos
344   0000              	GLOBAL _in_mouse_amx_reset
345   0000              	GLOBAL _in_mouse_amx_init_callee
346   0000              	GLOBAL _in_mouse_amx_init
347   0000              	GLOBAL _in_stick_sinclair2
348   0000              	GLOBAL _in_stick_sinclair1
349   0000              	GLOBAL _in_stick_kempston
350   0000              	GLOBAL _in_stick_fuller
351   0000              	GLOBAL _in_stick_cursor
352   0000              	GLOBAL _in_stick_keyboard_fastcall
353   0000              	GLOBAL _in_stick_keyboard
354   0000              	GLOBAL _in_wait_nokey
355   0000              	GLOBAL _in_wait_key
356   0000              	GLOBAL _in_test_key
357   0000              	GLOBAL _in_pause_fastcall
358   0000              	GLOBAL _in_pause
359   0000              	GLOBAL _in_key_scancode_fastcall
360   0000              	GLOBAL _in_key_scancode
361   0000              	GLOBAL _in_key_pressed_fastcall
362   0000              	GLOBAL _in_key_pressed
363   0000              	GLOBAL _in_inkey
364   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawTW_raw
366   0000              	GLOBAL _NIRVANAP_drawTW_callee
367   0000              	GLOBAL _NIRVANAP_drawTW
368   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
369   0000              	GLOBAL _NIRVANAP_drawW_raw
370   0000              	GLOBAL _NIRVANAP_drawW_callee
371   0000              	GLOBAL _NIRVANAP_drawW
372   0000              	GLOBAL _NIRVANAP_spriteT_callee
373   0000              	GLOBAL _NIRVANAP_spriteT
374   0000              	GLOBAL _NIRVANAP_fillC_callee
375   0000              	GLOBAL _NIRVANAP_fillC
376   0000              	GLOBAL _NIRVANAP_readC_callee
377   0000              	GLOBAL _NIRVANAP_readC
378   0000              	GLOBAL _NIRVANAP_paintC_callee
379   0000              	GLOBAL _NIRVANAP_paintC
380   0000              	GLOBAL _NIRVANAP_printC_callee
381   0000              	GLOBAL _NIRVANAP_printC
382   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
383   0000              	GLOBAL _NIRVANAP_fillT_raw
384   0000              	GLOBAL _NIRVANAP_fillT_callee
385   0000              	GLOBAL _NIRVANAP_fillT
386   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
387   0000              	GLOBAL _NIRVANAP_drawT_raw
388   0000              	GLOBAL _NIRVANAP_drawT_callee
389   0000              	GLOBAL _NIRVANAP_drawT
390   0000              	GLOBAL _NIRVANAP_stop
391   0000              	GLOBAL _NIRVANAP_start
392   0000              	GLOBAL _z80_otdr_callee
393   0000              	GLOBAL _z80_otdr
394   0000              	GLOBAL _z80_otir_callee
395   0000              	GLOBAL _z80_otir
396   0000              	GLOBAL _z80_outp_callee
397   0000              	GLOBAL _z80_outp
398   0000              	GLOBAL _z80_indr_callee
399   0000              	GLOBAL _z80_indr
400   0000              	GLOBAL _z80_inir_callee
401   0000              	GLOBAL _z80_inir
402   0000              	GLOBAL _z80_inp_fastcall
403   0000              	GLOBAL _z80_inp
404   0000              	GLOBAL _z80_set_int_state_fastcall
405   0000              	GLOBAL _z80_set_int_state
406   0000              	GLOBAL _z80_get_int_state
407   0000              	GLOBAL _z80_delay_tstate_fastcall
408   0000              	GLOBAL _z80_delay_tstate
409   0000              	GLOBAL _z80_delay_ms_fastcall
410   0000              	GLOBAL _z80_delay_ms
411   0000              	GLOBAL _im2_remove_generic_callback_callee
412   0000              	GLOBAL _im2_remove_generic_callback
413   0000              	GLOBAL _im2_prepend_generic_callback_callee
414   0000              	GLOBAL _im2_prepend_generic_callback
415   0000              	GLOBAL _im2_append_generic_callback_callee
416   0000              	GLOBAL _im2_append_generic_callback
417   0000              	GLOBAL _im2_create_generic_isr_8080_callee
418   0000              	GLOBAL _im2_create_generic_isr_8080
419   0000              	GLOBAL _im2_create_generic_isr_callee
420   0000              	GLOBAL _im2_create_generic_isr
421   0000              	GLOBAL _im2_install_isr_callee
422   0000              	GLOBAL _im2_install_isr
423   0000              	GLOBAL _im2_init_fastcall
424   0000              	GLOBAL _im2_init
425   0000              	GLOBAL _ffsll_callee
426   0000              	GLOBAL _ffsll
427   0000              	GLOBAL _strxfrm_callee
428   0000              	GLOBAL _strxfrm
429   0000              	GLOBAL _strupr_fastcall
430   0000              	GLOBAL _strupr
431   0000              	GLOBAL _strtok_r_callee
432   0000              	GLOBAL _strtok_r
433   0000              	GLOBAL _strtok_callee
434   0000              	GLOBAL _strtok
435   0000              	GLOBAL _strstrip_fastcall
436   0000              	GLOBAL _strstrip
437   0000              	GLOBAL _strstr_callee
438   0000              	GLOBAL _strstr
439   0000              	GLOBAL _strspn_callee
440   0000              	GLOBAL _strspn
441   0000              	GLOBAL _strsep_callee
442   0000              	GLOBAL _strsep
443   0000              	GLOBAL _strrstrip_fastcall
444   0000              	GLOBAL _strrstrip
445   0000              	GLOBAL _strrspn_callee
446   0000              	GLOBAL _strrspn
447   0000              	GLOBAL _strrev_fastcall
448   0000              	GLOBAL _strrev
449   0000              	GLOBAL _strrcspn_callee
450   0000              	GLOBAL _strrcspn
451   0000              	GLOBAL _strrchr_callee
452   0000              	GLOBAL _strrchr
453   0000              	GLOBAL _strpbrk_callee
454   0000              	GLOBAL _strpbrk
455   0000              	GLOBAL _strnlen_callee
456   0000              	GLOBAL _strnlen
457   0000              	GLOBAL _strnicmp_callee
458   0000              	GLOBAL _strnicmp
459   0000              	GLOBAL _strndup_callee
460   0000              	GLOBAL _strndup
461   0000              	GLOBAL _strncpy_callee
462   0000              	GLOBAL _strncpy
463   0000              	GLOBAL _strncmp_callee
464   0000              	GLOBAL _strncmp
465   0000              	GLOBAL _strnchr_callee
466   0000              	GLOBAL _strnchr
467   0000              	GLOBAL _strncat_callee
468   0000              	GLOBAL _strncat
469   0000              	GLOBAL _strncasecmp_callee
470   0000              	GLOBAL _strncasecmp
471   0000              	GLOBAL _strlwr_fastcall
472   0000              	GLOBAL _strlwr
473   0000              	GLOBAL _strlen_fastcall
474   0000              	GLOBAL _strlen
475   0000              	GLOBAL _strlcpy_callee
476   0000              	GLOBAL _strlcpy
477   0000              	GLOBAL _strlcat_callee
478   0000              	GLOBAL _strlcat
479   0000              	GLOBAL _stricmp_callee
480   0000              	GLOBAL _stricmp
481   0000              	GLOBAL _strerror_fastcall
482   0000              	GLOBAL _strerror
483   0000              	GLOBAL _strdup_fastcall
484   0000              	GLOBAL _strdup
485   0000              	GLOBAL _strcspn_callee
486   0000              	GLOBAL _strcspn
487   0000              	GLOBAL _strcpy_callee
488   0000              	GLOBAL _strcpy
489   0000              	GLOBAL _strcoll_callee
490   0000              	GLOBAL _strcoll
491   0000              	GLOBAL _strcmp_callee
492   0000              	GLOBAL _strcmp
493   0000              	GLOBAL _strchrnul_callee
494   0000              	GLOBAL _strchrnul
495   0000              	GLOBAL _strchr_callee
496   0000              	GLOBAL _strchr
497   0000              	GLOBAL _strcat_callee
498   0000              	GLOBAL _strcat
499   0000              	GLOBAL _strcasecmp_callee
500   0000              	GLOBAL _strcasecmp
501   0000              	GLOBAL _stpncpy_callee
502   0000              	GLOBAL _stpncpy
503   0000              	GLOBAL _stpcpy_callee
504   0000              	GLOBAL _stpcpy
505   0000              	GLOBAL _memswap_callee
506   0000              	GLOBAL _memswap
507   0000              	GLOBAL _memset_callee
508   0000              	GLOBAL _memset
509   0000              	GLOBAL _memrchr_callee
510   0000              	GLOBAL _memrchr
511   0000              	GLOBAL _memmove_callee
512   0000              	GLOBAL _memmove
513   0000              	GLOBAL _memmem_callee
514   0000              	GLOBAL _memmem
515   0000              	GLOBAL _memcpy_callee
516   0000              	GLOBAL _memcpy
517   0000              	GLOBAL _memcmp_callee
518   0000              	GLOBAL _memcmp
519   0000              	GLOBAL _memchr_callee
520   0000              	GLOBAL _memchr
521   0000              	GLOBAL _memccpy_callee
522   0000              	GLOBAL _memccpy
523   0000              	GLOBAL _ffsl_fastcall
524   0000              	GLOBAL _ffsl
525   0000              	GLOBAL _ffs_fastcall
526   0000              	GLOBAL _ffs
527   0000              	GLOBAL __strrstrip__fastcall
528   0000              	GLOBAL __strrstrip_
529   0000              	GLOBAL __memupr__callee
530   0000              	GLOBAL __memupr_
531   0000              	GLOBAL __memstrcpy__callee
532   0000              	GLOBAL __memstrcpy_
533   0000              	GLOBAL __memlwr__callee
534   0000              	GLOBAL __memlwr_
535   0000              	GLOBAL _rawmemchr_callee
536   0000              	GLOBAL _rawmemchr
537   0000              	GLOBAL _strnset_callee
538   0000              	GLOBAL _strnset
539   0000              	GLOBAL _strset_callee
540   0000              	GLOBAL _strset
541   0000              	GLOBAL _rindex_callee
542   0000              	GLOBAL _rindex
543   0000              	GLOBAL _index_callee
544   0000              	GLOBAL _index
545   0000              	GLOBAL _bzero_callee
546   0000              	GLOBAL _bzero
547   0000              	GLOBAL _bcopy_callee
548   0000              	GLOBAL _bcopy
549   0000              	GLOBAL _bcmp_callee
550   0000              	GLOBAL _bcmp
551   0000              	GLOBAL _ulltoa_callee
552   0000              	GLOBAL _ulltoa
553   0000              	GLOBAL _strtoull_callee
554   0000              	GLOBAL _strtoull
555   0000              	GLOBAL _strtoll_callee
556   0000              	GLOBAL _strtoll
557   0000              	GLOBAL _lltoa_callee
558   0000              	GLOBAL _lltoa
559   0000              	GLOBAL _llabs_callee
560   0000              	GLOBAL _llabs
561   0000              	GLOBAL __lldivu__callee
562   0000              	GLOBAL __lldivu_
563   0000              	GLOBAL __lldiv__callee
564   0000              	GLOBAL __lldiv_
565   0000              	GLOBAL _atoll_callee
566   0000              	GLOBAL _atoll
567   0000              	GLOBAL _realloc_unlocked_callee
568   0000              	GLOBAL _realloc_unlocked
569   0000              	GLOBAL _malloc_unlocked_fastcall
570   0000              	GLOBAL _malloc_unlocked
571   0000              	GLOBAL _free_unlocked_fastcall
572   0000              	GLOBAL _free_unlocked
573   0000              	GLOBAL _calloc_unlocked_callee
574   0000              	GLOBAL _calloc_unlocked
575   0000              	GLOBAL _aligned_alloc_unlocked_callee
576   0000              	GLOBAL _aligned_alloc_unlocked
577   0000              	GLOBAL _realloc_callee
578   0000              	GLOBAL _realloc
579   0000              	GLOBAL _malloc_fastcall
580   0000              	GLOBAL _malloc
581   0000              	GLOBAL _free_fastcall
582   0000              	GLOBAL _free
583   0000              	GLOBAL _calloc_callee
584   0000              	GLOBAL _calloc
585   0000              	GLOBAL _aligned_alloc_callee
586   0000              	GLOBAL _aligned_alloc
587   0000              	GLOBAL _utoa_callee
588   0000              	GLOBAL _utoa
589   0000              	GLOBAL _ultoa_callee
590   0000              	GLOBAL _ultoa
591   0000              	GLOBAL _system_fastcall
592   0000              	GLOBAL _system
593   0000              	GLOBAL _strtoul_callee
594   0000              	GLOBAL _strtoul
595   0000              	GLOBAL _strtol_callee
596   0000              	GLOBAL _strtol
597   0000              	GLOBAL _strtof_callee
598   0000              	GLOBAL _strtof
599   0000              	GLOBAL _strtod_callee
600   0000              	GLOBAL _strtod
601   0000              	GLOBAL _srand_fastcall
602   0000              	GLOBAL _srand
603   0000              	GLOBAL _rand
604   0000              	GLOBAL _quick_exit_fastcall
605   0000              	GLOBAL _quick_exit
606   0000              	GLOBAL _qsort_callee
607   0000              	GLOBAL _qsort
608   0000              	GLOBAL _ltoa_callee
609   0000              	GLOBAL _ltoa
610   0000              	GLOBAL _labs_fastcall
611   0000              	GLOBAL _labs
612   0000              	GLOBAL _itoa_callee
613   0000              	GLOBAL _itoa
614   0000              	GLOBAL _ftoh_callee
615   0000              	GLOBAL _ftoh
616   0000              	GLOBAL _ftog_callee
617   0000              	GLOBAL _ftog
618   0000              	GLOBAL _ftoe_callee
619   0000              	GLOBAL _ftoe
620   0000              	GLOBAL _ftoa_callee
621   0000              	GLOBAL _ftoa
622   0000              	GLOBAL _exit_fastcall
623   0000              	GLOBAL _exit
624   0000              	GLOBAL _dtoh_callee
625   0000              	GLOBAL _dtoh
626   0000              	GLOBAL _dtog_callee
627   0000              	GLOBAL _dtog
628   0000              	GLOBAL _dtoe_callee
629   0000              	GLOBAL _dtoe
630   0000              	GLOBAL _dtoa_callee
631   0000              	GLOBAL _dtoa
632   0000              	GLOBAL _bsearch_callee
633   0000              	GLOBAL _bsearch
634   0000              	GLOBAL _atol_fastcall
635   0000              	GLOBAL _atol
636   0000              	GLOBAL _atoi_fastcall
637   0000              	GLOBAL _atoi
638   0000              	GLOBAL _atof_fastcall
639   0000              	GLOBAL _atof
640   0000              	GLOBAL _atexit_fastcall
641   0000              	GLOBAL _atexit
642   0000              	GLOBAL _at_quick_exit_fastcall
643   0000              	GLOBAL _at_quick_exit
644   0000              	GLOBAL _abs_fastcall
645   0000              	GLOBAL _abs
646   0000              	GLOBAL _abort
647   0000              	GLOBAL __strtou__callee
648   0000              	GLOBAL __strtou_
649   0000              	GLOBAL __strtoi__callee
650   0000              	GLOBAL __strtoi_
651   0000              	GLOBAL __random_uniform_xor_8__fastcall
652   0000              	GLOBAL __random_uniform_xor_8_
653   0000              	GLOBAL __random_uniform_xor_32__fastcall
654   0000              	GLOBAL __random_uniform_xor_32_
655   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
656   0000              	GLOBAL __random_uniform_cmwc_8_
657   0000              	GLOBAL __shellsort__callee
658   0000              	GLOBAL __shellsort_
659   0000              	GLOBAL __quicksort__callee
660   0000              	GLOBAL __quicksort_
661   0000              	GLOBAL __insertion_sort__callee
662   0000              	GLOBAL __insertion_sort_
663   0000              	GLOBAL __ldivu__callee
664   0000              	GLOBAL __ldivu_
665   0000              	GLOBAL __ldiv__callee
666   0000              	GLOBAL __ldiv_
667   0000              	GLOBAL __divu__callee
668   0000              	GLOBAL __divu_
669   0000              	GLOBAL __div__callee
670   0000              	GLOBAL __div_
671   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
672   0000              	GLOBAL _intrinsic_swap_word_32
673   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
674   0000              	GLOBAL _intrinsic_swap_endian_32
675   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
676   0000              	GLOBAL _intrinsic_swap_endian_16
677   0000              	GLOBAL _intrinsic_return_de
678   0000              	GLOBAL _intrinsic_return_bc
679   0000              	GLOBAL _intrinsic_exx
680   0000              	GLOBAL _intrinsic_ex_de_hl
681   0000              	GLOBAL _intrinsic_nop
682   0000              	GLOBAL _intrinsic_im_2
683   0000              	GLOBAL _intrinsic_im_1
684   0000              	GLOBAL _intrinsic_im_0
685   0000              	GLOBAL _intrinsic_retn
686   0000              	GLOBAL _intrinsic_reti
687   0000              	GLOBAL _intrinsic_halt
688   0000              	GLOBAL _intrinsic_ei
689   0000              	GLOBAL _intrinsic_di
690   0000              	GLOBAL _intrinsic_stub
691   0000              	GLOBAL _zx_pattern_fill_callee
692   0000              	GLOBAL _zx_pattern_fill
693   0000              	GLOBAL _zx_saddrpup_fastcall
694   0000              	GLOBAL _zx_saddrpup
695   0000              	GLOBAL _zx_saddrpright_callee
696   0000              	GLOBAL _zx_saddrpright
697   0000              	GLOBAL _zx_saddrpleft_callee
698   0000              	GLOBAL _zx_saddrpleft
699   0000              	GLOBAL _zx_saddrpdown_fastcall
700   0000              	GLOBAL _zx_saddrpdown
701   0000              	GLOBAL _zx_saddrcup_fastcall
702   0000              	GLOBAL _zx_saddrcup
703   0000              	GLOBAL _zx_saddrcright_fastcall
704   0000              	GLOBAL _zx_saddrcright
705   0000              	GLOBAL _zx_saddrcleft_fastcall
706   0000              	GLOBAL _zx_saddrcleft
707   0000              	GLOBAL _zx_saddrcdown_fastcall
708   0000              	GLOBAL _zx_saddrcdown
709   0000              	GLOBAL _zx_saddr2py_fastcall
710   0000              	GLOBAL _zx_saddr2py
711   0000              	GLOBAL _zx_saddr2px_fastcall
712   0000              	GLOBAL _zx_saddr2px
713   0000              	GLOBAL _zx_saddr2cy_fastcall
714   0000              	GLOBAL _zx_saddr2cy
715   0000              	GLOBAL _zx_saddr2cx_fastcall
716   0000              	GLOBAL _zx_saddr2cx
717   0000              	GLOBAL _zx_saddr2aaddr_fastcall
718   0000              	GLOBAL _zx_saddr2aaddr
719   0000              	GLOBAL _zx_py2saddr_fastcall
720   0000              	GLOBAL _zx_py2saddr
721   0000              	GLOBAL _zx_py2aaddr_fastcall
722   0000              	GLOBAL _zx_py2aaddr
723   0000              	GLOBAL _zx_pxy2saddr_callee
724   0000              	GLOBAL _zx_pxy2saddr
725   0000              	GLOBAL _zx_pxy2aaddr_callee
726   0000              	GLOBAL _zx_pxy2aaddr
727   0000              	GLOBAL _zx_px2bitmask_fastcall
728   0000              	GLOBAL _zx_px2bitmask
729   0000              	GLOBAL _zx_cyx2saddr_callee
730   0000              	GLOBAL _zx_cyx2saddr
731   0000              	GLOBAL _zx_cyx2aaddr_callee
732   0000              	GLOBAL _zx_cyx2aaddr
733   0000              	GLOBAL _zx_cy2saddr_fastcall
734   0000              	GLOBAL _zx_cy2saddr
735   0000              	GLOBAL _zx_cy2aaddr_fastcall
736   0000              	GLOBAL _zx_cy2aaddr
737   0000              	GLOBAL _zx_bitmask2px_fastcall
738   0000              	GLOBAL _zx_bitmask2px
739   0000              	GLOBAL _zx_aaddrcup_fastcall
740   0000              	GLOBAL _zx_aaddrcup
741   0000              	GLOBAL _zx_aaddrcright_fastcall
742   0000              	GLOBAL _zx_aaddrcright
743   0000              	GLOBAL _zx_aaddrcleft_fastcall
744   0000              	GLOBAL _zx_aaddrcleft
745   0000              	GLOBAL _zx_aaddrcdown_fastcall
746   0000              	GLOBAL _zx_aaddrcdown
747   0000              	GLOBAL _zx_aaddr2saddr_fastcall
748   0000              	GLOBAL _zx_aaddr2saddr
749   0000              	GLOBAL _zx_aaddr2py_fastcall
750   0000              	GLOBAL _zx_aaddr2py
751   0000              	GLOBAL _zx_aaddr2px_fastcall
752   0000              	GLOBAL _zx_aaddr2px
753   0000              	GLOBAL _zx_aaddr2cy_fastcall
754   0000              	GLOBAL _zx_aaddr2cy
755   0000              	GLOBAL _zx_aaddr2cx_fastcall
756   0000              	GLOBAL _zx_aaddr2cx
757   0000              	GLOBAL _zx_scroll_wc_up_callee
758   0000              	GLOBAL _zx_scroll_wc_up
759   0000              	GLOBAL _zx_scroll_up_callee
760   0000              	GLOBAL _zx_scroll_up
761   0000              	GLOBAL _zx_cls_wc_callee
762   0000              	GLOBAL _zx_cls_wc
763   0000              	GLOBAL _zx_cls_fastcall
764   0000              	GLOBAL _zx_cls
765   0000              	GLOBAL _zx_border_fastcall
766   0000              	GLOBAL _zx_border
767   0000              	GLOBAL _game_hlt_cnt
768   0000              	GLOBAL _joynames
769   0000              	GLOBAL _initials
770   0000              	GLOBAL _hof
771   0000              	GLOBAL _score_osd_tile
772   0000              	GLOBAL _score_osd_update_time
773   0000              	GLOBAL _score_osd_col
774   0000              	GLOBAL _score_osd_lin
775   0000              	GLOBAL _phase_bonus_total
776   0000              	GLOBAL _phase_angry
777   0000              	GLOBAL _phase_curr
778   0000              	GLOBAL _phase_end
779   0000              	GLOBAL _phase_coins
780   0000              	GLOBAL _phase_pop
781   0000              	GLOBAL _phase_tot
782   0000              	GLOBAL _phase_left
783   0000              	GLOBAL _phase_quota
784   0000              	GLOBAL _phases
785   0000              	GLOBAL _lvl_1
786   0000              	GLOBAL _sprite_speed_alt
787   0000              	GLOBAL _sprite_speed
788   0000              	GLOBAL _screen_ink
789   0000              	GLOBAL _screen_paper
790   0000              	GLOBAL _game_menu_sel
791   0000              	GLOBAL _game_type
792   0000              	GLOBAL _game_osd
793   0000              	GLOBAL _game_bonus
794   0000              	GLOBAL _spr_water_time
795   0000              	GLOBAL _spr_water_clear
796   0000              	GLOBAL _game_time_fireball_start
797   0000              	GLOBAL _game_time_flipped
798   0000              	GLOBAL _game_score_top
799   0000              	GLOBAL _game_lives
800   0000              	GLOBAL _game_over
801   0000              	GLOBAL _game_sound
802   0000              	GLOBAL _game_inmune
803   0000              	GLOBAL _game_god_mode
804   0000              	GLOBAL _game_start_phase
805   0000              	GLOBAL _game_two_player
806   0000              	GLOBAL _game_brick_tile
807   0000              	GLOBAL _game_pow
808   0000              	GLOBAL _game_ugly_fix_cnt
809   0000              	GLOBAL _spr_count
810   0000              	GLOBAL _osd_show_time
811   0000              	GLOBAL _osd_update_time
812   0000              	GLOBAL _frame_time
813   0000              	GLOBAL _entry_time
814   0000              	GLOBAL _curr_time
815   0000              	GLOBAL _s_state
816   0000              	GLOBAL _attrib_hl
817   0000              	GLOBAL _attrib
818   0000              	GLOBAL _zx_val_asm
819   0000              	GLOBAL _enemies
820   0000              	GLOBAL _tmp_ui
821   0000              	GLOBAL _tmp_sc
822   0000              	GLOBAL _tmp_uc
823   0000              	GLOBAL _tmp1
824   0000              	GLOBAL _tmp0
825   0000              	GLOBAL _tmp
826   0000              	GLOBAL _index3
827   0000              	GLOBAL _index2
828   0000              	GLOBAL _index1
829   0000              	GLOBAL _loop_count
830   0000              	GLOBAL _sprite_lin_inc_mul
831   0000              	GLOBAL _s_col1
832   0000              	GLOBAL _s_col0
833   0000              	GLOBAL _s_lin1
834   0000              	GLOBAL _s_lin0
835   0000              	GLOBAL _s_tile1
836   0000              	GLOBAL _s_tile0
837   0000              	GLOBAL _hit_count
838   0000              	GLOBAL _tile_offset_other_player
839   0000              	GLOBAL _tile_offset
840   0000              	GLOBAL _index_player
841   0000              	GLOBAL _sprite_other_player
842   0000              	GLOBAL _sprite
843   0000              	GLOBAL _player_joy
844   0000              	GLOBAL _player_next_extra
845   0000              	GLOBAL _player_score
846   0000              	GLOBAL _last_time
847   0000              	GLOBAL _sliding
848   0000              	GLOBAL _spr_timer
849   0000              	GLOBAL _jump_lin
850   0000              	GLOBAL _player_jump_c
851   0000              	GLOBAL _hit_col
852   0000              	GLOBAL _hit_lin
853   0000              	GLOBAL _colint
854   0000              	GLOBAL _col
855   0000              	GLOBAL _lin
856   0000              	GLOBAL _tile
857   0000              	GLOBAL _state_a
858   0000              	GLOBAL _state
859   0000              	GLOBAL _class
860   0000              	GLOBAL _tbuffer
861   0000              	GLOBAL _dirs
862   0000              	GLOBAL _k2
863   0000              	GLOBAL _k1
864   0000              	GLOBAL _joyfunc2
865   0000              	GLOBAL _joyfunc1
866   0000              	GLOBAL _btiles
867   0000              	GLOBAL _spec128
868   0000              	GLOBAL _ay_effect_20
869   0000              	GLOBAL _ay_effect_19
870   0000              	GLOBAL _ay_effect_18
871   0000              	GLOBAL _ay_effect_17
872   0000              	GLOBAL _ay_effect_16
873   0000              	GLOBAL _ay_effect_15
874   0000              	GLOBAL _ay_effect_14
875   0000              	GLOBAL _ay_effect_13
876   0000              	GLOBAL _ay_effect_12
877   0000              	GLOBAL _ay_effect_11
878   0000              	GLOBAL _ay_effect_10
879   0000              	GLOBAL _ay_effect_09
880   0000              	GLOBAL _ay_effect_08
881   0000              	GLOBAL _ay_effect_07
882   0000              	GLOBAL _ay_effect_06
883   0000              	GLOBAL _ay_effect_05
884   0000              	GLOBAL _ay_effect_04
885   0000              	GLOBAL _ay_effect_03
886   0000              	GLOBAL _ay_effect_02
887   0000              	GLOBAL _ay_effect_01
888   0000              	GLOBAL _pb_midi_phase_1
889   0000              	GLOBAL _pb_midi_title
890   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
891   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
892   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
893   0000              	GLOBAL _NIRVANAP_HOLE
894   0000              	GLOBAL _NIRVANAP_ISR_HOOK
895   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
896   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
897   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
898   0000              	GLOBAL _control_method
899   0000              	GLOBAL _hall_valids
900   0000              ;--------------------------------------------------------
901   0000              ; special function registers
902   0000              ;--------------------------------------------------------
903   0000              defc _IO_FE	=	0x00fe
904   0000              defc _IO_1FFD	=	0x1ffd
905   0000              defc _IO_7FFD	=	0x7ffd
906   0000              ;--------------------------------------------------------
907   0000              ; ram data
908   0000              ;--------------------------------------------------------
909   0000              	SECTION bss_compiler
910   0000              ;--------------------------------------------------------
911   0000              ; ram data
912   0000              ;--------------------------------------------------------
913   0000              
914   0000              IF 0
915   0000              
916   0000              ; .area _INITIALIZED removed by z88dk
917   0000              
918   0000              
919   0000              ENDIF
920   0000              
921   0000              ;--------------------------------------------------------
922   0000              ; absolute external ram data
923   0000              ;--------------------------------------------------------
924   0000              	SECTION IGNORE
925   0000              ;--------------------------------------------------------
926   0000              ; global & static initialisations
927   0000              ;--------------------------------------------------------
928   0000              	SECTION code_crt_init
929   0000              ;--------------------------------------------------------
930   0000              ; Home
931   0000              ;--------------------------------------------------------
932   0000              	SECTION IGNORE
933   0000              ;--------------------------------------------------------
934   0000              ; code
935   0000              ;--------------------------------------------------------
936   0000              	SECTION code_compiler
937   0000              ;	---------------------------------
938   0000              ; Function game_calc_index
939   0000              ; ---------------------------------
940   0000              _game_calc_index:
941   0000  CD 00 00    	call	___sdcc_enter_ix
942   0003  DD 4E 05    	ld	c,(ix+5)
943   0006  06 00       	ld	b,0x00
944   0008  DD 7E 04    	ld	a,(ix+4)
945   000B  0F          	rrca
946   000C  0F          	rrca
947   000D  0F          	rrca
948   000E  E6 1F       	and	a,0x1f
949   0010  6F          	ld	l,a
950   0011  26 00       	ld	h,0x00
951   0013  29          	add	hl, hl
952   0014  29          	add	hl, hl
953   0015  29          	add	hl, hl
954   0016  29          	add	hl, hl
955   0017  29          	add	hl, hl
956   0018  09          	add	hl,bc
957   0019  DD E1       	pop	ix
958   001B  C9          	ret
959   001C              	SECTION code_compiler
960   001C              ;	---------------------------------
961   001C              ; Function game_print_footer
962   001C              ; ---------------------------------
963   001C              _game_print_footer:
964   001C  21 00 00    	ld	hl,___str_0
965   001F  E5          	push	hl
966   0020  21 16 01    	ld	hl,0x0116
967   0023  E5          	push	hl
968   0024  CD 00 00    	call	_zx_print_str
969   0027  21 00 00    	ld	hl,___str_0
970   002A  E5          	push	hl
971   002B  21 16 1E    	ld	hl,0x1e16
972   002E  E5          	push	hl
973   002F  CD 00 00    	call	_zx_print_str
974   0032  21 02 00    	ld	hl,___str_1
975   0035  E5          	push	hl
976   0036  21 17 01    	ld	hl,0x0117
977   0039  E5          	push	hl
978   003A  CD 00 00    	call	_zx_print_str
979   003D  21 02 00    	ld	hl,___str_1
980   0040  E5          	push	hl
981   0041  21 17 1E    	ld	hl,0x1e17
982   0044  E5          	push	hl
983   0045  CD 00 00    	call	_zx_print_str
984   0048  3A 00 00    	ld	a,(_game_lives)
985   004B  B7          	or	a, a
986   004C  28 20       	jr	Z,l_game_print_footer_00102
987   004E  21 00 00    	ld	hl,_screen_ink
988   0051  36 02       	ld	(hl),0x02
989   0053  21 08 00    	ld	hl,___str_2
990   0056  E5          	push	hl
991   0057  21 16 01    	ld	hl,0x0116
992   005A  E5          	push	hl
993   005B  CD 00 00    	call	_zx_print_str
994   005E  21 00 00    	ld	hl,_screen_ink
995   0061  36 06       	ld	(hl),0x06
996   0063  21 0A 00    	ld	hl,___str_3
997   0066  E5          	push	hl
998   0067  21 17 01    	ld	hl,0x0117
999   006A  E5          	push	hl
1000  006B  CD 00 00    	call	_zx_print_str
1001  006E              l_game_print_footer_00102:
1002  006E  3A 01 00    	ld	a, (_game_lives + 1)
1003  0071  B7          	or	a, a
1004  0072  28 20       	jr	Z,l_game_print_footer_00104
1005  0074  21 00 00    	ld	hl,_screen_ink
1006  0077  36 07       	ld	(hl),0x07
1007  0079  21 0C 00    	ld	hl,___str_4
1008  007C  E5          	push	hl
1009  007D  21 16 1E    	ld	hl,0x1e16
1010  0080  E5          	push	hl
1011  0081  CD 00 00    	call	_zx_print_str
1012  0084  21 00 00    	ld	hl,_screen_ink
1013  0087  36 06       	ld	(hl),0x06
1014  0089  21 0E 00    	ld	hl,___str_5
1015  008C  E5          	push	hl
1016  008D  21 17 1E    	ld	hl,0x1e17
1017  0090  E5          	push	hl
1018  0091  CD 00 00    	call	_zx_print_str
1019  0094              l_game_print_footer_00104:
1020  0094  CD CE 00    	call	_game_print_lives
1021  0097  C9          	ret
1022  0098              	SECTION rodata_compiler
1023  0000              ___str_0:
1024  0000  20          	DEFM " "
1025  0001  00          	DEFB 0x00
1026  0002              	SECTION rodata_compiler
1027  0002              ___str_1:
1028  0002  20 20 20 20 20 
                        	DEFM "     "
1029  0007  00          	DEFB 0x00
1030  0008              	SECTION rodata_compiler
1031  0008              ___str_2:
1032  0008  3C          	DEFM "<"
1033  0009  00          	DEFB 0x00
1034  000A              	SECTION rodata_compiler
1035  000A              ___str_3:
1036  000A  5C          	DEFB 0x5c
1037  000B  00          	DEFB 0x00
1038  000C              	SECTION rodata_compiler
1039  000C              ___str_4:
1040  000C  3E          	DEFM ">"
1041  000D  00          	DEFB 0x00
1042  000E              	SECTION rodata_compiler
1043  000E              ___str_5:
1044  000E  5E          	DEFM "^"
1045  000F  00          	DEFB 0x00
1046  0010              	SECTION code_compiler
1047  0098              ;	---------------------------------
1048  0098              ; Function game_phase_print_score_back
1049  0098              ; ---------------------------------
1050  0098              _game_phase_print_score_back:
1051  0098  21 00 00    	ld	hl,_screen_ink
1052  009B  36 02       	ld	(hl),0x02
1053  009D  21 10 00    	ld	hl,___str_6
1054  00A0  E5          	push	hl
1055  00A1  21 00 0B    	ld	hl,0x0b00
1056  00A4  E5          	push	hl
1057  00A5  CD 00 00    	call	_zx_print_str
1058  00A8  21 00 00    	ld	hl,_screen_ink
1059  00AB  36 01       	ld	(hl),0x01
1060  00AD  21 14 00    	ld	hl,___str_7
1061  00B0  E5          	push	hl
1062  00B1  21 00 01    	ld	hl,0x0100
1063  00B4  E5          	push	hl
1064  00B5  CD 00 00    	call	_zx_print_str
1065  00B8  3A 00 00    	ld	a,(_game_two_player)
1066  00BB  B7          	or	a, a
1067  00BC  C8          	ret	Z
1068  00BD  21 00 00    	ld	hl,_screen_ink
1069  00C0  36 04       	ld	(hl),0x04
1070  00C2  21 17 00    	ld	hl,___str_8
1071  00C5  E5          	push	hl
1072  00C6  21 00 16    	ld	hl,0x1600
1073  00C9  E5          	push	hl
1074  00CA  CD 00 00    	call	_zx_print_str
1075  00CD  C9          	ret
1076  00CE              	SECTION rodata_compiler
1077  0010              ___str_6:
1078  0010  24 25 7C    	DEFM "$%|"
1079  0013  00          	DEFB 0x00
1080  0014              	SECTION rodata_compiler
1081  0014              ___str_7:
1082  0014  5B 7C       	DEFM "[|"
1083  0016  00          	DEFB 0x00
1084  0017              	SECTION rodata_compiler
1085  0017              ___str_8:
1086  0017  5D 7C       	DEFM "]|"
1087  0019  00          	DEFB 0x00
1088  001A              	SECTION code_compiler
1089  00CE              ;	---------------------------------
1090  00CE              ; Function game_print_lives
1091  00CE              ; ---------------------------------
1092  00CE              _game_print_lives:
1093  00CE  21 00 00    	ld	hl,_screen_ink
1094  00D1  36 07       	ld	(hl),0x07
1095  00D3  3A 00 00    	ld	a,(_game_lives)
1096  00D6  C6 FF       	add	a,0xff
1097  00D8  21 00 00    	ld	hl,_tmp
1098  00DB  77          	ld	(hl),a
1099  00DC  D6 FF       	sub	a,0xff
1100  00DE  30 0A       	jr	NC,l_game_print_lives_00102
1101  00E0  7E          	ld	a,(hl)
1102  00E1  F5          	push	af
1103  00E2  33          	inc	sp
1104  00E3  21 17 03    	ld	hl,0x0317
1105  00E6  E5          	push	hl
1106  00E7  CD 00 00    	call	_zx_print_chr
1107  00EA              l_game_print_lives_00102:
1108  00EA  3A 01 00    	ld	a, (_game_lives + 1)
1109  00ED  C6 FF       	add	a,0xff
1110  00EF  21 00 00    	ld	hl,_tmp
1111  00F2  77          	ld	(hl),a
1112  00F3  D6 FF       	sub	a,0xff
1113  00F5  D0          	ret	NC
1114  00F6  7E          	ld	a,(hl)
1115  00F7  F5          	push	af
1116  00F8  33          	inc	sp
1117  00F9  21 17 1A    	ld	hl,0x1a17
1118  00FC  E5          	push	hl
1119  00FD  CD 00 00    	call	_zx_print_chr
1120  0100  C9          	ret
1121  0101              	SECTION code_compiler
1122  0101              ;	---------------------------------
1123  0101              ; Function game_tick
1124  0101              ; ---------------------------------
1125  0101              _game_tick:
1126  0101  21 00 00    	ld	hl,_curr_time
1127  0104  34          	inc	(hl)
1128  0105  C2 00 00    	jp	NZ,_zx_isr
1129  0108  23          	inc	hl
1130  0109  34          	inc	(hl)
1131  010A  C3 00 00    	jp  _zx_isr
1132  010D              	SECTION code_compiler
1133  010D              ;	---------------------------------
1134  010D              ; Function game_start_timer
1135  010D              ; ---------------------------------
1136  010D              _game_start_timer:
1137  010D  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1138  0110  36 CD       	ld	(hl),0xcd
1139  0112  23          	inc	hl
1140  0113  11 01 01    	ld	de,_game_tick
1141  0116  73          	ld	(hl), e
1142  0117  23          	inc	hl
1143  0118  72          	ld	(hl), d
1144  0119  C9          	ret
1145  011A              	SECTION code_compiler
1146  011A              ;	---------------------------------
1147  011A              ; Function game_phase_calc
1148  011A              ; ---------------------------------
1149  011A              _game_phase_calc:
1150  011A  3A 00 00    	ld	a,(_phase_curr)
1151  011D  87          	add	a, a
1152  011E  87          	add	a, a
1153  011F  21 00 00    	ld	hl,_tmp_uc
1154  0122  77          	ld	(hl),a
1155  0123  01 00 00    	ld	bc,_phases+0
1156  0126  5E          	ld	e,(hl)
1157  0127  16 00       	ld	d,0x00
1158  0129  69          	ld	l, c
1159  012A  60          	ld	h, b
1160  012B  19          	add	hl,de
1161  012C  7E          	ld	a,(hl)
1162  012D  32 00 00    	ld	(_phase_quota),a
1163  0130  2A 00 00    	ld	hl,(_tmp_uc)
1164  0133  26 00       	ld	h,0x00
1165  0135  23          	inc	hl
1166  0136  09          	add	hl,bc
1167  0137  7E          	ld	a,(hl)
1168  0138  32 01 00    	ld	((_phase_quota + 0x0001)),a
1169  013B  2A 00 00    	ld	hl,(_tmp_uc)
1170  013E  26 00       	ld	h,0x00
1171  0140  23          	inc	hl
1172  0141  23          	inc	hl
1173  0142  09          	add	hl,bc
1174  0143  7E          	ld	a,(hl)
1175  0144  32 02 00    	ld	((_phase_quota + 0x0002)),a
1176  0147  2A 00 00    	ld	hl,(_tmp_uc)
1177  014A  26 00       	ld	h,0x00
1178  014C  23          	inc	hl
1179  014D  23          	inc	hl
1180  014E  23          	inc	hl
1181  014F  09          	add	hl,bc
1182  0150  7E          	ld	a,(hl)
1183  0151  32 00 00    	ld	(_game_brick_tile),a
1184  0154  D6 8B       	sub	a,0x8b
1185  0156  20 05       	jr	NZ,l_game_phase_calc_00102
1186  0158  CD 64 0C    	call	_game_freeze_all
1187  015B  18 03       	jr	l_game_phase_calc_00103
1188  015D              l_game_phase_calc_00102:
1189  015D  CD 3B 0C    	call	_game_unfreeze_all
1190  0160              l_game_phase_calc_00103:
1191  0160  21 00 00    	ld	hl,_phase_quota
1192  0163  4E          	ld	c,(hl)
1193  0164  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1194  0167  46          	ld	b,(hl)
1195  0168  79          	ld	a,c
1196  0169  80          	add	a, b
1197  016A  4F          	ld	c,a
1198  016B  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1199  016E  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1200  0170  09          	add	hl, bc
1201  0171  C9          	ret
1202  0172              	SECTION code_compiler
1203  0172              ;	---------------------------------
1204  0172              ; Function game_phase_init
1205  0172              ; ---------------------------------
1206  0172              _game_phase_init:
1207  0172  21 00 00    	ld	hl,0x0000
1208  0175  22 00 00    	ld	(_loop_count),hl
1209  0178  21 00 00    	ld	hl,_phase_end
1210  017B  36 00       	ld	(hl),0x00
1211  017D  21 00 00    	ld	hl,_phase_angry
1212  0180  36 00       	ld	(hl),0x00
1213  0182  21 00 00    	ld	hl,_phase_coins
1214  0185  36 00       	ld	(hl),0x00
1215  0187  21 00 00    	ld	hl,_phase_pop
1216  018A  36 00       	ld	(hl),0x00
1217  018C  21 00 00    	ld	hl,_game_bonus
1218  018F  36 00       	ld	(hl),0x00
1219  0191  21 00 00    	ld	hl,0x0000
1220  0194  22 00 00    	ld	(_entry_time),hl
1221  0197  21 00 00    	ld	hl,0
1222  019A  22 00 00    	ld	(_curr_time),hl
1223  019D  21 00 00    	ld	hl,0x0000
1224  01A0  22 00 00    	ld	(_frame_time),hl
1225  01A3  21 FF FF    	ld	hl,0xffff
1226  01A6  22 00 00    	ld	(_score_osd_col),hl
1227  01A9  21 00 00    	ld	hl,_spr_count
1228  01AC  36 00       	ld	(hl),0x00
1229  01AE  21 00 00    	ld	hl,_game_ugly_fix_cnt
1230  01B1  36 00       	ld	(hl),0x00
1231  01B3  3A 00 00    	ld	a,(_game_type)
1232  01B6  D6 02       	sub	a,0x02
1233  01B8  CA 44 02    	jp	Z,l_game_phase_init_00104
1234  01BB  CD 1A 01    	call	_game_phase_calc
1235  01BE  7D          	ld	a,l
1236  01BF  32 00 00    	ld	(_phase_left),a
1237  01C2  32 00 00    	ld	(_phase_tot),a
1238  01C5  21 00 00    	ld	hl,_phase_left
1239  01C8  7E          	ld	a,(hl)
1240  01C9  B7          	or	a, a
1241  01CA  C2 56 02    	jp	NZ,l_game_phase_init_00105
1242  01CD  01 00 00    	ld	bc,_phase_bonus_total+0
1243  01D0  AF          	xor	a, a
1244  01D1  02          	ld	(bc),a
1245  01D2  03          	inc	bc
1246  01D3  AF          	xor	a, a
1247  01D4  02          	ld	(bc),a
1248  01D5  36 06       	ld	(hl),0x06
1249  01D7  21 00 00    	ld	hl,_game_bonus
1250  01DA  36 01       	ld	(hl),0x01
1251  01DC  21 0C 00    	ld	hl,0x000c
1252  01DF  E5          	push	hl
1253  01E0  21 90 08    	ld	hl,0x0890
1254  01E3  E5          	push	hl
1255  01E4  AF          	xor	a, a
1256  01E5  F5          	push	af
1257  01E6  33          	inc	sp
1258  01E7  CD 00 00    	call	_enemy_init
1259  01EA  F1          	pop	af
1260  01EB  33          	inc	sp
1261  01EC  21 0C 00    	ld	hl,0x000c
1262  01EF  E3          	ex	(sp),hl
1263  01F0  21 90 16    	ld	hl,0x1690
1264  01F3  E5          	push	hl
1265  01F4  3E 01       	ld	a,0x01
1266  01F6  F5          	push	af
1267  01F7  33          	inc	sp
1268  01F8  CD 00 00    	call	_enemy_init
1269  01FB  F1          	pop	af
1270  01FC  33          	inc	sp
1271  01FD  21 0C 00    	ld	hl,0x000c
1272  0200  E3          	ex	(sp),hl
1273  0201  21 50 06    	ld	hl,0x0650
1274  0204  E5          	push	hl
1275  0205  3E 02       	ld	a,0x02
1276  0207  F5          	push	af
1277  0208  33          	inc	sp
1278  0209  CD 00 00    	call	_enemy_init
1279  020C  F1          	pop	af
1280  020D  33          	inc	sp
1281  020E  21 0C 00    	ld	hl,0x000c
1282  0211  E3          	ex	(sp),hl
1283  0212  21 50 18    	ld	hl,0x1850
1284  0215  E5          	push	hl
1285  0216  3E 03       	ld	a,0x03
1286  0218  F5          	push	af
1287  0219  33          	inc	sp
1288  021A  CD 00 00    	call	_enemy_init
1289  021D  F1          	pop	af
1290  021E  33          	inc	sp
1291  021F  21 0C 00    	ld	hl,0x000c
1292  0222  E3          	ex	(sp),hl
1293  0223  21 10 05    	ld	hl,0x0510
1294  0226  E5          	push	hl
1295  0227  3E 04       	ld	a,0x04
1296  0229  F5          	push	af
1297  022A  33          	inc	sp
1298  022B  CD 00 00    	call	_enemy_init
1299  022E  F1          	pop	af
1300  022F  33          	inc	sp
1301  0230  21 0C 00    	ld	hl,0x000c
1302  0233  E3          	ex	(sp),hl
1303  0234  21 10 19    	ld	hl,0x1910
1304  0237  E5          	push	hl
1305  0238  3E 05       	ld	a,0x05
1306  023A  F5          	push	af
1307  023B  33          	inc	sp
1308  023C  CD 00 00    	call	_enemy_init
1309  023F  F1          	pop	af
1310  0240  F1          	pop	af
1311  0241  33          	inc	sp
1312  0242  18 12       	jr	l_game_phase_init_00105
1313  0244              l_game_phase_init_00104:
1314  0244  21 00 00    	ld	hl,_phase_left
1315  0247  36 FF       	ld	(hl),0xff
1316  0249  21 00 00    	ld	hl,_phase_curr
1317  024C  36 FF       	ld	(hl),0xff
1318  024E  CD 3B 0C    	call	_game_unfreeze_all
1319  0251  21 00 00    	ld	hl,_game_brick_tile
1320  0254  36 84       	ld	(hl),0x84
1321  0256              l_game_phase_init_00105:
1322  0256  CD 00 00    	call	_ay_reset
1323  0259  3A 00 00    	ld	a,(_game_bonus)
1324  025C  B7          	or	a, a
1325  025D  20 06       	jr	NZ,l_game_phase_init_00107
1326  025F  21 00 00    	ld	hl,_pb_midi_phase_1
1327  0262  CD 00 00    	call	_ay_midi_play
1328  0265              l_game_phase_init_00107:
1329  0265  CD 00 00    	call	_spr_draw_clear
1330  0268  21 00 00    	ld	hl,0x0000
1331  026B  CD 00 00    	call	_zx_cls_fastcall
1332  026E  CD 00 00    	call	_spr_draw_background
1333  0271  CD AC 02    	call	_game_print_header
1334  0274  CD 1C 00    	call	_game_print_footer
1335  0277  3A 00 00    	ld	a,(_game_lives)
1336  027A  B7          	or	a, a
1337  027B  28 0D       	jr	Z,l_game_phase_init_00109
1338  027D  21 0A 03    	ld	hl,0x030a
1339  0280  E5          	push	hl
1340  0281  21 07 98    	ld	hl,0x9807
1341  0284  E5          	push	hl
1342  0285  CD 00 00    	call	_player_init
1343  0288  F1          	pop	af
1344  0289  F1          	pop	af
1345  028A              l_game_phase_init_00109:
1346  028A  3A 01 00    	ld	a, (_game_lives + 1)
1347  028D  B7          	or	a, a
1348  028E  28 0D       	jr	Z,l_game_phase_init_00111
1349  0290  21 14 27    	ld	hl,0x2714
1350  0293  E5          	push	hl
1351  0294  21 06 98    	ld	hl,0x9806
1352  0297  E5          	push	hl
1353  0298  CD 00 00    	call	_player_init
1354  029B  F1          	pop	af
1355  029C  F1          	pop	af
1356  029D              l_game_phase_init_00111:
1357  029D  21 00 00    	ld	hl,_game_osd
1358  02A0  36 01       	ld	(hl),0x01
1359  02A2  2A 00 00    	ld	hl,(_curr_time)
1360  02A5  22 00 00    	ld	(_osd_update_time),hl
1361  02A8  22 00 00    	ld	(_osd_show_time),hl
1362  02AB  C9          	ret
1363  02AC              	SECTION code_compiler
1364  02AC              ;	---------------------------------
1365  02AC              ; Function game_print_header
1366  02AC              ; ---------------------------------
1367  02AC              _game_print_header:
1368  02AC  CD 98 00    	call	_game_phase_print_score_back
1369  02AF  21 00 00    	ld	hl,_screen_ink
1370  02B2  36 07       	ld	(hl),0x07
1371  02B4  C3 8D 0C    	jp  _game_print_score
1372  02B7              	SECTION code_compiler
1373  02B7              ;	---------------------------------
1374  02B7              ; Function game_phase_print
1375  02B7              ; ---------------------------------
1376  02B7              _game_phase_print:
1377  02B7  45          	ld	b,l
1378  02B8  C5          	push	bc
1379  02B9  21 1A 00    	ld	hl,___str_9
1380  02BC  E5          	push	hl
1381  02BD  3E 0B       	ld	a,0x0b
1382  02BF  48          	ld	c,b
1383  02C0  47          	ld	b,a
1384  02C1  C5          	push	bc
1385  02C2  CD 00 00    	call	_zx_print_str
1386  02C5  C1          	pop	bc
1387  02C6  3A 00 00    	ld	a,(_phase_curr)
1388  02C9  D6 1F       	sub	a,0x1f
1389  02CB  30 3F       	jr	NC,l_game_phase_print_00108
1390  02CD  3A 00 00    	ld	a,(_game_bonus)
1391  02D0  B7          	or	a, a
1392  02D1  20 2B       	jr	NZ,l_game_phase_print_00102
1393  02D3  C5          	push	bc
1394  02D4  21 20 00    	ld	hl,___str_10
1395  02D7  E5          	push	hl
1396  02D8  3E 10       	ld	a,0x10
1397  02DA  48          	ld	c,b
1398  02DB  47          	ld	b,a
1399  02DC  C5          	push	bc
1400  02DD  CD 00 00    	call	_zx_print_str
1401  02E0  C1          	pop	bc
1402  02E1  21 00 00    	ld	hl,_phase_curr
1403  02E4  56          	ld	d,(hl)
1404  02E5  14          	inc	d
1405  02E6  C5          	push	bc
1406  02E7  1E 12       	ld	e,0x12
1407  02E9  D5          	push	de
1408  02EA  C5          	push	bc
1409  02EB  33          	inc	sp
1410  02EC  CD 00 00    	call	_zx_print_chr
1411  02EF  C1          	pop	bc
1412  02F0  21 20 00    	ld	hl,___str_10
1413  02F3  E5          	push	hl
1414  02F4  3E 15       	ld	a,0x15
1415  02F6  48          	ld	c,b
1416  02F7  47          	ld	b,a
1417  02F8  C5          	push	bc
1418  02F9  CD 00 00    	call	_zx_print_str
1419  02FC  18 2F       	jr	l_game_phase_print_00110
1420  02FE              l_game_phase_print_00102:
1421  02FE  21 23 00    	ld	hl,___str_11
1422  0301  E5          	push	hl
1423  0302  3E 11       	ld	a,0x11
1424  0304  48          	ld	c,b
1425  0305  47          	ld	b,a
1426  0306  C5          	push	bc
1427  0307  CD 00 00    	call	_zx_print_str
1428  030A  18 21       	jr	l_game_phase_print_00110
1429  030C              l_game_phase_print_00108:
1430  030C  3A 00 00    	ld	a,(_game_type)
1431  030F  D6 02       	sub	a,0x02
1432  0311  28 0E       	jr	Z,l_game_phase_print_00105
1433  0313  21 2A 00    	ld	hl,___str_12
1434  0316  E5          	push	hl
1435  0317  3E 11       	ld	a,0x11
1436  0319  48          	ld	c,b
1437  031A  47          	ld	b,a
1438  031B  C5          	push	bc
1439  031C  CD 00 00    	call	_zx_print_str
1440  031F  18 0C       	jr	l_game_phase_print_00110
1441  0321              l_game_phase_print_00105:
1442  0321  21 31 00    	ld	hl,___str_13
1443  0324  E5          	push	hl
1444  0325  3E 11       	ld	a,0x11
1445  0327  48          	ld	c,b
1446  0328  47          	ld	b,a
1447  0329  C5          	push	bc
1448  032A  CD 00 00    	call	_zx_print_str
1449  032D              l_game_phase_print_00110:
1450  032D  C9          	ret
1451  032E              	SECTION rodata_compiler
1452  001A              ___str_9:
1453  001A  50 48 41 53 45 
                        	DEFM "PHASE"
1454  001F  00          	DEFB 0x00
1455  0020              	SECTION rodata_compiler
1456  0020              ___str_10:
1457  0020  20 20       	DEFM "  "
1458  0022  00          	DEFB 0x00
1459  0023              	SECTION rodata_compiler
1460  0023              ___str_11:
1461  0023  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1462  0029  00          	DEFB 0x00
1463  002A              	SECTION rodata_compiler
1464  002A              ___str_12:
1465  002A  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1466  0030  00          	DEFB 0x00
1467  0031              	SECTION rodata_compiler
1468  0031              ___str_13:
1469  0031  52 41 4E 44 20 20 
                        	DEFM "RAND  "
1470  0037  00          	DEFB 0x00
1471  0038              	SECTION code_compiler
1472  032E              ;	---------------------------------
1473  032E              ; Function game_loop
1474  032E              ; ---------------------------------
1475  032E              _game_loop:
1476  032E  21 38 00    	ld	hl,___str_14
1477  0331  E5          	push	hl
1478  0332  21 16 03    	ld	hl,0x0316
1479  0335  E5          	push	hl
1480  0336  CD 00 00    	call	_zx_print_str
1481  0339  21 53 00    	ld	hl,___str_15
1482  033C  E5          	push	hl
1483  033D  21 17 03    	ld	hl,0x0317
1484  0340  E5          	push	hl
1485  0341  CD 00 00    	call	_zx_print_str
1486  0344  21 00 00    	ld	hl,_ay_effect_10
1487  0347  CD 00 00    	call	_ay_fx_play
1488  034A  CD 00 00    	call	_sound_coin
1489  034D  21 C8 00    	ld	hl,0x00c8
1490  0350  CD 00 00    	call	_z80_delay_ms_fastcall
1491  0353  21 6E 00    	ld	hl,___str_16
1492  0356  E5          	push	hl
1493  0357  21 16 07    	ld	hl,0x0716
1494  035A  E5          	push	hl
1495  035B  CD 00 00    	call	_zx_print_str
1496  035E  CD 00 00    	call	_ay_reset
1497  0361  21 8C 8C    	ld	hl,0x8c8c
1498  0364  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1499  0367  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1500  036A  21 00 00    	ld	hl,_game_lives+0
1501  036D  36 04       	ld	(hl),0x04
1502  036F  23          	inc	hl
1503  0370  3A 00 00    	ld	a,(_game_two_player)
1504  0373  B7          	or	a,a
1505  0374  4D          	ld	c,l
1506  0375  44          	ld	b,h
1507  0376  28 05       	jr	Z,l_game_loop_00102
1508  0378  3E 04       	ld	a,0x04
1509  037A  02          	ld	(bc),a
1510  037B  18 02       	jr	l_game_loop_00103
1511  037D              l_game_loop_00102:
1512  037D  AF          	xor	a, a
1513  037E  02          	ld	(bc),a
1514  037F              l_game_loop_00103:
1515  037F  21 00 00    	ld	hl,0x0000
1516  0382  22 00 00    	ld	(_player_score), hl
1517  0385  2E 00       	ld	l,0x00
1518  0387  22 02 00    	ld	(_player_score + 0x0002),hl
1519  038A  21 D0 07    	ld	hl,0x07d0
1520  038D  22 00 00    	ld	(_player_next_extra), hl
1521  0390  2E D0       	ld	l,0xd0
1522  0392  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1523  0395  21 00 00    	ld	hl,_spr_water_clear
1524  0398  36 FF       	ld	(hl),0xff
1525  039A  3A 00 00    	ld	a,(_game_type)
1526  039D  B7          	or	a, a
1527  039E  20 0E       	jr	NZ,l_game_loop_00105
1528  03A0  21 F4 01    	ld	hl,0x01f4
1529  03A3  22 00 00    	ld	(_game_time_flipped),hl
1530  03A6  21 D0 07    	ld	hl,0x07d0
1531  03A9  22 00 00    	ld	(_game_time_fireball_start),hl
1532  03AC  18 0C       	jr	l_game_loop_00106
1533  03AE              l_game_loop_00105:
1534  03AE  21 FA 00    	ld	hl,0x00fa
1535  03B1  22 00 00    	ld	(_game_time_flipped),hl
1536  03B4  21 F4 01    	ld	hl,0x01f4
1537  03B7  22 00 00    	ld	(_game_time_fireball_start),hl
1538  03BA              l_game_loop_00106:
1539  03BA  21 00 00    	ld	hl,_game_over
1540  03BD  36 00       	ld	(hl),0x00
1541  03BF  21 00 00    	ld	hl,_game_pow
1542  03C2  36 03       	ld	(hl),0x03
1543  03C4  3A 00 00    	ld	a,(_game_start_phase)
1544  03C7  32 00 00    	ld	(_phase_curr),a
1545  03CA  CD 72 01    	call	_game_phase_init
1546  03CD  21 00 00    	ld	hl,_sprite_lin_inc_mul
1547  03D0  36 00       	ld	(hl),0x00
1548  03D2  21 00 00    	ld	hl,_dirs
1549  03D5  36 00       	ld	(hl),0x00
1550  03D7  CD 2F 0F    	call	_game_joystick_set
1551  03DA              l_game_loop_00136:
1552  03DA  3A 00 00    	ld	a,(_game_over)
1553  03DD  B7          	or	a, a
1554  03DE  C2 0E 05    	jp	NZ,l_game_loop_00138
1555  03E1  CD 00 00    	call	_spr_mapfix
1556  03E4  3A 00 00    	ld	a,(_loop_count)
1557  03E7  E6 03       	and	a,0x03
1558  03E9  20 12       	jr	NZ,l_game_loop_00108
1559  03EB  CD 00 00    	call	_spr_draw_pow
1560  03EE  AF          	xor	a, a
1561  03EF  F5          	push	af
1562  03F0  33          	inc	sp
1563  03F1  CD 70 05    	call	_game_score_osd
1564  03F4  33          	inc	sp
1565  03F5  3E 01       	ld	a,0x01
1566  03F7  F5          	push	af
1567  03F8  33          	inc	sp
1568  03F9  CD 70 05    	call	_game_score_osd
1569  03FC  33          	inc	sp
1570  03FD              l_game_loop_00108:
1571  03FD  21 00 18    	ld	hl,0x1800
1572  0400  E5          	push	hl
1573  0401  21 06 00    	ld	hl,0x0006
1574  0404  E5          	push	hl
1575  0405  3E 07       	ld	a,0x07
1576  0407  F5          	push	af
1577  0408  33          	inc	sp
1578  0409  CD 00 00    	call	_player_set
1579  040C  F1          	pop	af
1580  040D  F1          	pop	af
1581  040E  33          	inc	sp
1582  040F  CD 00 00    	call	_player_turn
1583  0412  21 18 00    	ld	hl,0x0018
1584  0415  E5          	push	hl
1585  0416  21 07 01    	ld	hl,0x0107
1586  0419  E5          	push	hl
1587  041A  3E 06       	ld	a,0x06
1588  041C  F5          	push	af
1589  041D  33          	inc	sp
1590  041E  CD 00 00    	call	_player_set
1591  0421  F1          	pop	af
1592  0422  F1          	pop	af
1593  0423  33          	inc	sp
1594  0424  CD 00 00    	call	_player_turn
1595  0427  CD 00 00    	call	_enemy_turn
1596  042A  3A 00 00    	ld	a,(_game_bonus)
1597  042D  B7          	or	a, a
1598  042E  28 16       	jr	Z,l_game_loop_00113
1599  0430  CD 2D 06    	call	_game_bonus_clock
1600  0433  3A 00 00    	ld	a,(_phase_left)
1601  0436  B7          	or	a, a
1602  0437  28 0D       	jr	Z,l_game_loop_00113
1603  0439  CD 00 00    	call	_ay_is_playing
1604  043C  7D          	ld	a,l
1605  043D  B7          	or	a, a
1606  043E  20 06       	jr	NZ,l_game_loop_00113
1607  0440  21 00 00    	ld	hl,_ay_effect_19
1608  0443  CD 00 00    	call	_ay_fx_play
1609  0446              l_game_loop_00113:
1610  0446  3A 00 00    	ld	a,(_game_osd)
1611  0449  B7          	or	a, a
1612  044A  28 53       	jr	Z,l_game_loop_00121
1613  044C  21 05 00    	ld	hl,0x0005
1614  044F  E5          	push	hl
1615  0450  2A 00 00    	ld	hl,(_osd_update_time)
1616  0453  E5          	push	hl
1617  0454  CD 07 1A    	call	_game_check_time
1618  0457  F1          	pop	af
1619  0458  F1          	pop	af
1620  0459  7D          	ld	a,l
1621  045A  B7          	or	a, a
1622  045B  28 1B       	jr	Z,l_game_loop_00115
1623  045D  2A 00 00    	ld	hl,(_curr_time)
1624  0460  22 00 00    	ld	(_osd_update_time),hl
1625  0463  2E 0C       	ld	l,0x0c
1626  0465  CD B7 02    	call	_game_phase_print
1627  0468  21 17 68    	ld	hl,0x6817
1628  046B  E5          	push	hl
1629  046C  3E 0B       	ld	a,0x0b
1630  046E  F5          	push	af
1631  046F  33          	inc	sp
1632  0470  CD 09 0D    	call	_game_paint_attrib_lin_h
1633  0473  F1          	pop	af
1634  0474  33          	inc	sp
1635  0475  CD 59 19    	call	_game_rotate_attrib
1636  0478              l_game_loop_00115:
1637  0478  21 96 00    	ld	hl,0x0096
1638  047B  E5          	push	hl
1639  047C  2A 00 00    	ld	hl,(_osd_show_time)
1640  047F  E5          	push	hl
1641  0480  CD 07 1A    	call	_game_check_time
1642  0483  F1          	pop	af
1643  0484  F1          	pop	af
1644  0485  7D          	ld	a,l
1645  0486  B7          	or	a, a
1646  0487  28 16       	jr	Z,l_game_loop_00121
1647  0489  21 0C 20    	ld	hl,0x200c
1648  048C  E5          	push	hl
1649  048D  CD 00 00    	call	_game_fill_row
1650  0490  21 00 00    	ld	hl,_game_osd
1651  0493  36 00       	ld	(hl),0x00
1652  0495  21 00 00    	ld	hl,_game_bonus
1653  0498  7E          	ld	a,(hl)
1654  0499  B7          	or	a, a
1655  049A  20 03       	jr	NZ,l_game_loop_00121
1656  049C  CD 56 05    	call	_game_print_phase
1657  049F              l_game_loop_00121:
1658  049F  CD 00 00    	call	_spr_water_splash_clear
1659  04A2  21 64 00    	ld	hl,0x0064
1660  04A5  E5          	push	hl
1661  04A6  2A 00 00    	ld	hl,(_frame_time)
1662  04A9  E5          	push	hl
1663  04AA  CD 07 1A    	call	_game_check_time
1664  04AD  F1          	pop	af
1665  04AE  F1          	pop	af
1666  04AF  7D          	ld	a,l
1667  04B0  B7          	or	a, a
1668  04B1  28 4F       	jr	Z,l_game_loop_00135
1669  04B3  2A 00 00    	ld	hl,(_curr_time)
1670  04B6  22 00 00    	ld	(_frame_time),hl
1671  04B9  3A 00 00    	ld	a,(_game_bonus)
1672  04BC  B7          	or	a,a
1673  04BD  20 03       	jr	NZ,l_game_loop_00123
1674  04BF  CD C8 08    	call	_game_enemy_add
1675  04C2              l_game_loop_00123:
1676  04C2  3A 00 00    	ld	a,(_phase_end)
1677  04C5  3D          	dec	a
1678  04C6  20 3A       	jr	NZ,l_game_loop_00135
1679  04C8  3A 00 00    	ld	a,(_game_type)
1680  04CB  D6 02       	sub	a,0x02
1681  04CD  28 33       	jr	Z,l_game_loop_00135
1682  04CF  CD 00 00    	call	_ay_is_playing
1683  04D2  7D          	ld	a, l
1684  04D3  D6 02       	sub	a,0x02
1685  04D5  30 03       	jr	NC,l_game_loop_00125
1686  04D7  CD 00 00    	call	_ay_reset
1687  04DA              l_game_loop_00125:
1688  04DA  CD 00 00    	call	_spr_kill_all
1689  04DD  3A 00 00    	ld	a,(_game_bonus)
1690  04E0  B7          	or	a, a
1691  04E1  28 03       	jr	Z,l_game_loop_00127
1692  04E3  CD A4 06    	call	_game_bonus_summary
1693  04E6              l_game_loop_00127:
1694  04E6  21 00 00    	ld	hl,_phase_curr
1695  04E9  34          	inc	(hl)
1696  04EA  3E 1F       	ld	a,0x1f
1697  04EC  96          	sub	a, (hl)
1698  04ED  30 0A       	jr	NC,l_game_loop_00129
1699  04EF  CD 49 12    	call	_game_end
1700  04F2  21 00 00    	ld	hl,_game_over
1701  04F5  36 01       	ld	(hl),0x01
1702  04F7  18 09       	jr	l_game_loop_00135
1703  04F9              l_game_loop_00129:
1704  04F9  21 90 01    	ld	hl,0x0190
1705  04FC  CD 00 00    	call	_z80_delay_ms_fastcall
1706  04FF  CD 72 01    	call	_game_phase_init
1707  0502              l_game_loop_00135:
1708  0502  21 00 00    	ld	hl,_loop_count
1709  0505  34          	inc	(hl)
1710  0506  C2 DA 03    	jp	NZ,l_game_loop_00136
1711  0509  23          	inc	hl
1712  050A  34          	inc	(hl)
1713  050B  C3 DA 03    	jp	l_game_loop_00136
1714  050E              l_game_loop_00138:
1715  050E  CD 00 00    	call	_spr_kill_all
1716  0511  21 90 01    	ld	hl,0x0190
1717  0514  CD 00 00    	call	_z80_delay_ms_fastcall
1718  0517  76          	halt
1719  0518  CD 00 00    	call	_spr_draw_background
1720  051B  CD AC 02    	call	_game_print_header
1721  051E  CD 1C 00    	call	_game_print_footer
1722  0521  CD 56 05    	call	_game_print_phase
1723  0524  21 81 00    	ld	hl,___str_17
1724  0527  E5          	push	hl
1725  0528  21 08 0B    	ld	hl,0x0b08
1726  052B  E5          	push	hl
1727  052C  CD 00 00    	call	_zx_print_str
1728  052F  21 C8 00    	ld	hl,0x00c8
1729  0532  E5          	push	hl
1730  0533  21 0B 15    	ld	hl,0x150b
1731  0536  E5          	push	hl
1732  0537  3E 08       	ld	a,0x08
1733  0539  F5          	push	af
1734  053A  33          	inc	sp
1735  053B  CD 75 19    	call	_game_colour_message
1736  053E  F1          	pop	af
1737  053F  F1          	pop	af
1738  0540  33          	inc	sp
1739  0541  CD 00 00    	call	_spr_draw_clear
1740  0544  CD ED 14    	call	_game_hall_enter
1741  0547  CD 00 00    	call	_ay_reset
1742  054A  21 00 00    	ld	hl,_game_menu_sel
1743  054D  36 00       	ld	(hl),0x00
1744  054F  CD 27 10    	call	_game_menu_paint
1745  0552  CD 22 0F    	call	_game_joystick_set_menu
1746  0555  C9          	ret
1747  0556              	SECTION rodata_compiler
1748  0038              ___str_14:
1749  0038  20 20 20 20 20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 20 20 20 20 
                        	DEFM "       THANKS ALVIN       "
1750  0052  00          	DEFB 0x00
1751  0053              	SECTION rodata_compiler
1752  0053              ___str_15:
1753  0053  20 20 20 20 20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 20 20 20 20 
                        	DEFM "        AND  EINAR        "
1754  006D  00          	DEFB 0x00
1755  006E              	SECTION rodata_compiler
1756  006E              ___str_16:
1757  006E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1758  0080  00          	DEFB 0x00
1759  0081              	SECTION rodata_compiler
1760  0081              ___str_17:
1761  0081  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1762  008C  00          	DEFB 0x00
1763  008D              	SECTION code_compiler
1764  0556              ;	---------------------------------
1765  0556              ; Function game_print_phase
1766  0556              ; ---------------------------------
1767  0556              _game_print_phase:
1768  0556  21 8D 00    	ld	hl,___str_18
1769  0559  E5          	push	hl
1770  055A  21 17 0B    	ld	hl,0x0b17
1771  055D  E5          	push	hl
1772  055E  CD 00 00    	call	_zx_print_str
1773  0561  21 00 00    	ld	hl,_phase_curr
1774  0564  46          	ld	b,(hl)
1775  0565  04          	inc	b
1776  0566  C5          	push	bc
1777  0567  33          	inc	sp
1778  0568  21 17 12    	ld	hl,0x1217
1779  056B  E5          	push	hl
1780  056C  CD 00 00    	call	_zx_print_chr
1781  056F  C9          	ret
1782  0570              	SECTION rodata_compiler
1783  008D              ___str_18:
1784  008D  50 48 41 53 45 
                        	DEFM "PHASE"
1785  0092  00          	DEFB 0x00
1786  0093              	SECTION code_compiler
1787  0570              ;	---------------------------------
1788  0570              ; Function game_score_osd
1789  0570              ; ---------------------------------
1790  0570              _game_score_osd:
1791  0570  CD 00 00    	call	___sdcc_enter_ix
1792  0573  F5          	push	af
1793  0574  F5          	push	af
1794  0575  3B          	dec	sp
1795  0576  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1796  0578  DD 86 04    	add	a,(ix+4)
1797  057B  DD 77 FB    	ld	(ix-5),a
1798  057E  3E 00       	ld	a,+((_score_osd_col) / 256)
1799  0580  CE 00       	adc	a,0x00
1800  0582  DD 77 FC    	ld	(ix-4),a
1801  0585  E1          	pop	hl
1802  0586  7E          	ld	a,(hl)
1803  0587  E5          	push	hl
1804  0588  47          	ld	b,a
1805  0589  3C          	inc	a
1806  058A  CA 28 06    	jp	Z,l_game_score_osd_00108
1807  058D  11 00 00    	ld	de,_score_osd_lin
1808  0590  DD 6E 04    	ld	l,(ix+4)
1809  0593  26 00       	ld	h,0x00
1810  0595  19          	add	hl,de
1811  0596  DD 75 FE    	ld	(ix-2),l
1812  0599  DD 74 FF    	ld	(ix-1),h
1813  059C  7E          	ld	a,(hl)
1814  059D  C6 FE       	add	a,0xfe
1815  059F  32 00 00    	ld	(_tmp),a
1816  05A2  4F          	ld	c,a
1817  05A3  C5          	push	bc
1818  05A4  CD 00 00    	call	_game_calc_index
1819  05A7  F1          	pop	af
1820  05A8  22 00 00    	ld	(_index1),hl
1821  05AB  01 00 00    	ld	bc,_lvl_1
1822  05AE  09          	add	hl,bc
1823  05AF  5E          	ld	e, (hl)
1824  05B0  21 01 00    	ld	hl,_index1 + 1
1825  05B3  DD 4E 04    	ld	c,(ix+4)
1826  05B6  06 00       	ld	b,0x00
1827  05B8  CB 21       	sla	c
1828  05BA  CB 10       	rl	b
1829  05BC  7B          	ld	a,e
1830  05BD  D6 A9       	sub	a,0xa9
1831  05BF  20 3D       	jr	NZ,l_game_score_osd_00102
1832  05C1  56          	ld	d,(hl)
1833  05C2  2B          	dec	hl
1834  05C3  5E          	ld	e,(hl)
1835  05C4  13          	inc	de
1836  05C5  21 00 00    	ld	hl,_lvl_1
1837  05C8  19          	add	hl,de
1838  05C9  7E          	ld	a,(hl)
1839  05CA  D6 A9       	sub	a,0xa9
1840  05CC  20 30       	jr	NZ,l_game_score_osd_00102
1841  05CE  76          	halt
1842  05CF  E1          	pop	hl
1843  05D0  7E          	ld	a,(hl)
1844  05D1  E5          	push	hl
1845  05D2  DD 77 FD    	ld	(ix-3),a
1846  05D5  DD 6E FE    	ld	l,(ix-2)
1847  05D8  DD 66 FF    	ld	h,(ix-1)
1848  05DB  5E          	ld	e,(hl)
1849  05DC  21 00 00    	ld	hl,_score_osd_tile
1850  05DF  09          	add	hl,bc
1851  05E0  56          	ld	d,(hl)
1852  05E1  C5          	push	bc
1853  05E2  DD 7E FD    	ld	a,(ix-3)
1854  05E5  F5          	push	af
1855  05E6  33          	inc	sp
1856  05E7  7B          	ld	a,e
1857  05E8  5A          	ld	e,d
1858  05E9  57          	ld	d,a
1859  05EA  D5          	push	de
1860  05EB  CD 00 00    	call	_NIRVANAP_drawT_callee
1861  05EE  C1          	pop	bc
1862  05EF  3A 00 00    	ld	a,(_index_player)
1863  05F2  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1864  05F4  5F          	ld	e,a
1865  05F5  3E 00       	ld	a,+((_score_osd_lin) / 256)
1866  05F7  CE 00       	adc	a,0x00
1867  05F9  57          	ld	d,a
1868  05FA  3A 00 00    	ld	a,(_tmp)
1869  05FD  12          	ld	(de),a
1870  05FE              l_game_score_osd_00102:
1871  05FE  21 00 00    	ld	hl,_score_osd_update_time
1872  0601  09          	add	hl,bc
1873  0602  4E          	ld	c,(hl)
1874  0603  23          	inc	hl
1875  0604  46          	ld	b,(hl)
1876  0605  21 3C 00    	ld	hl,0x003c
1877  0608  E5          	push	hl
1878  0609  C5          	push	bc
1879  060A  CD 07 1A    	call	_game_check_time
1880  060D  F1          	pop	af
1881  060E  F1          	pop	af
1882  060F  7D          	ld	a,l
1883  0610  B7          	or	a, a
1884  0611  28 15       	jr	Z,l_game_score_osd_00108
1885  0613  E1          	pop	hl
1886  0614  46          	ld	b,(hl)
1887  0615  E5          	push	hl
1888  0616  DD 6E FE    	ld	l,(ix-2)
1889  0619  DD 66 FF    	ld	h,(ix-1)
1890  061C  4E          	ld	c, (hl)
1891  061D  C5          	push	bc
1892  061E  AF          	xor	a, a
1893  061F  F5          	push	af
1894  0620  33          	inc	sp
1895  0621  CD 00 00    	call	_NIRVANAP_fillT_callee
1896  0624  E1          	pop	hl
1897  0625  E5          	push	hl
1898  0626  36 FF       	ld	(hl),0xff
1899  0628              l_game_score_osd_00108:
1900  0628  DD F9       	ld	sp, ix
1901  062A  DD E1       	pop	ix
1902  062C  C9          	ret
1903  062D              	SECTION code_compiler
1904  062D              ;	---------------------------------
1905  062D              ; Function game_bonus_clock
1906  062D              ; ---------------------------------
1907  062D              _game_bonus_clock:
1908  062D  2A 00 00    	ld	hl,(_curr_time)
1909  0630  29          	add	hl,hl
1910  0631  3E 40       	ld	a,0x40
1911  0633  95          	sub	a,l
1912  0634  44          	ld	b,h
1913  0635  21 00 00    	ld	hl,_tmp_ui
1914  0638  77          	ld	(hl),a
1915  0639  3E 06       	ld	a,0x06
1916  063B  98          	sbc	a, b
1917  063C  23          	inc	hl
1918  063D  77          	ld	(hl),a
1919  063E  3E 40       	ld	a,0x40
1920  0640  2B          	dec	hl
1921  0641  BE          	cp	a, (hl)
1922  0642  3E 06       	ld	a,0x06
1923  0644  23          	inc	hl
1924  0645  9E          	sbc	a, (hl)
1925  0646  30 25       	jr	NC,l_game_bonus_clock_00108
1926  0648  2B          	dec	hl
1927  0649  AF          	xor	a, a
1928  064A  77          	ld	(hl), a
1929  064B  23          	inc	hl
1930  064C  77          	ld	(hl), a
1931  064D  3A 00 00    	ld	a,(_phase_left)
1932  0650  B7          	or	a, a
1933  0651  28 0B       	jr	Z,l_game_bonus_clock_00102
1934  0653  21 00 00    	ld	hl,0x0000
1935  0656  E5          	push	hl
1936  0657  21 02 0E    	ld	hl,0x0e02
1937  065A  E5          	push	hl
1938  065B  CD 00 00    	call	_zx_print_bonus_time
1939  065E              l_game_bonus_clock_00102:
1940  065E  21 00 00    	ld	hl,_phase_left
1941  0661  36 00       	ld	(hl),0x00
1942  0663  21 00 00    	ld	hl,_phase_end
1943  0666  36 01       	ld	(hl),0x01
1944  0668  CD 00 00    	call	_ay_reset
1945  066B  18 36       	jr	l_game_bonus_clock_00110
1946  066D              l_game_bonus_clock_00108:
1947  066D  3A 00 00    	ld	a,(_phase_left)
1948  0670  B7          	or	a, a
1949  0671  C8          	ret	Z
1950  0672  2A 00 00    	ld	hl,(_tmp_ui)
1951  0675  E5          	push	hl
1952  0676  21 02 0E    	ld	hl,0x0e02
1953  0679  E5          	push	hl
1954  067A  CD 00 00    	call	_zx_print_bonus_time
1955  067D  21 05 00    	ld	hl,0x0005
1956  0680  E5          	push	hl
1957  0681  2A 00 00    	ld	hl,(_frame_time)
1958  0684  E5          	push	hl
1959  0685  CD 07 1A    	call	_game_check_time
1960  0688  F1          	pop	af
1961  0689  F1          	pop	af
1962  068A  7D          	ld	a,l
1963  068B  B7          	or	a, a
1964  068C  C8          	ret	Z
1965  068D  2A 00 00    	ld	hl,(_curr_time)
1966  0690  22 00 00    	ld	(_frame_time),hl
1967  0693  21 14 18    	ld	hl,0x1814
1968  0696  E5          	push	hl
1969  0697  3E 0E       	ld	a,0x0e
1970  0699  F5          	push	af
1971  069A  33          	inc	sp
1972  069B  CD 09 0D    	call	_game_paint_attrib_lin_h
1973  069E  F1          	pop	af
1974  069F  33          	inc	sp
1975  06A0  CD 59 19    	call	_game_rotate_attrib
1976  06A3              l_game_bonus_clock_00110:
1977  06A3  C9          	ret
1978  06A4              	SECTION code_compiler
1979  06A4              ;	---------------------------------
1980  06A4              ; Function game_bonus_summary
1981  06A4              ; ---------------------------------
1982  06A4              _game_bonus_summary:
1983  06A4  CD 00 00    	call	_spr_kill_all
1984  06A7  CD 00 00    	call	_spr_draw_clear
1985  06AA  21 00 00    	ld	hl,0x0000
1986  06AD  CD 00 00    	call	_zx_cls_fastcall
1987  06B0  CD 98 00    	call	_game_phase_print_score_back
1988  06B3  CD 8D 0C    	call	_game_print_score
1989  06B6  3A 00 00    	ld	a,(_game_lives)
1990  06B9  B7          	or	a, a
1991  06BA  28 05       	jr	Z,l_game_bonus_summary_00102
1992  06BC  2E 00       	ld	l,0x00
1993  06BE  CD 59 07    	call	_game_bonus_summary_player
1994  06C1              l_game_bonus_summary_00102:
1995  06C1  3A 01 00    	ld	a, (_game_lives + 1)
1996  06C4  B7          	or	a, a
1997  06C5  28 05       	jr	Z,l_game_bonus_summary_00104
1998  06C7  2E 01       	ld	l,0x01
1999  06C9  CD 59 07    	call	_game_bonus_summary_player
2000  06CC              l_game_bonus_summary_00104:
2001  06CC  21 1F 98    	ld	hl,0x981f
2002  06CF  E5          	push	hl
2003  06D0  AF          	xor	a, a
2004  06D1  F5          	push	af
2005  06D2  33          	inc	sp
2006  06D3  CD E2 0C    	call	_game_paint_attrib_lin
2007  06D6  F1          	pop	af
2008  06D7  33          	inc	sp
2009  06D8  3A 00 00    	ld	a,(_phase_bonus_total)
2010  06DB  D6 06       	sub	a,0x06
2011  06DD  20 68       	jr	NZ,l_game_bonus_summary_00109
2012  06DF  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2013  06E2  B7          	or	a, a
2014  06E3  20 62       	jr	NZ,l_game_bonus_summary_00109
2015  06E5  CD 00 00    	call	_sound_jump
2016  06E8  3A 00 00    	ld	a,(_phase_curr)
2017  06EB  D6 03       	sub	a,0x03
2018  06ED  30 23       	jr	NC,l_game_bonus_summary_00106
2019  06EF  21 93 00    	ld	hl,___str_19
2020  06F2  E5          	push	hl
2021  06F3  21 12 06    	ld	hl,0x0612
2022  06F6  E5          	push	hl
2023  06F7  CD 00 00    	call	_zx_print_str
2024  06FA  21 00 00    	ld	hl,_index_player
2025  06FD  36 00       	ld	(hl),0x00
2026  06FF  21 2C 01    	ld	hl,0x012c
2027  0702  CD 00 00    	call	_player_score_add
2028  0705  21 00 00    	ld	hl,_index_player
2029  0708  36 01       	ld	(hl),0x01
2030  070A  21 2C 01    	ld	hl,0x012c
2031  070D  CD 00 00    	call	_player_score_add
2032  0710  18 21       	jr	l_game_bonus_summary_00107
2033  0712              l_game_bonus_summary_00106:
2034  0712  21 A6 00    	ld	hl,___str_20
2035  0715  E5          	push	hl
2036  0716  21 12 06    	ld	hl,0x0612
2037  0719  E5          	push	hl
2038  071A  CD 00 00    	call	_zx_print_str
2039  071D  21 00 00    	ld	hl,_index_player
2040  0720  36 00       	ld	(hl),0x00
2041  0722  21 F4 01    	ld	hl,0x01f4
2042  0725  CD 00 00    	call	_player_score_add
2043  0728  21 00 00    	ld	hl,_index_player
2044  072B  36 01       	ld	(hl),0x01
2045  072D  21 F4 01    	ld	hl,0x01f4
2046  0730  CD 00 00    	call	_player_score_add
2047  0733              l_game_bonus_summary_00107:
2048  0733  21 C8 00    	ld	hl,0x00c8
2049  0736  E5          	push	hl
2050  0737  21 10 1A    	ld	hl,0x1a10
2051  073A  E5          	push	hl
2052  073B  3E 12       	ld	a,0x12
2053  073D  F5          	push	af
2054  073E  33          	inc	sp
2055  073F  CD 75 19    	call	_game_colour_message
2056  0742  F1          	pop	af
2057  0743  F1          	pop	af
2058  0744  33          	inc	sp
2059  0745  18 11       	jr	l_game_bonus_summary_00112
2060  0747              l_game_bonus_summary_00109:
2061  0747  21 B9 00    	ld	hl,___str_21
2062  074A  E5          	push	hl
2063  074B  21 12 0C    	ld	hl,0x0c12
2064  074E  E5          	push	hl
2065  074F  CD 00 00    	call	_zx_print_str
2066  0752  21 E8 03    	ld	hl,0x03e8
2067  0755  CD 00 00    	call	_z80_delay_ms_fastcall
2068  0758              l_game_bonus_summary_00112:
2069  0758  C9          	ret
2070  0759              	SECTION rodata_compiler
2071  0093              ___str_19:
2072  0093  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2073  00A5  00          	DEFB 0x00
2074  00A6              	SECTION rodata_compiler
2075  00A6              ___str_20:
2076  00A6  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2077  00B8  00          	DEFB 0x00
2078  00B9              	SECTION rodata_compiler
2079  00B9              ___str_21:
2080  00B9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2081  00C1  00          	DEFB 0x00
2082  00C2              	SECTION code_compiler
2083  0759              ;	---------------------------------
2084  0759              ; Function game_bonus_summary_player
2085  0759              ; ---------------------------------
2086  0759              _game_bonus_summary_player:
2087  0759  CD 00 00    	call	___sdcc_enter_ix
2088  075C  F5          	push	af
2089  075D  3B          	dec	sp
2090  075E  DD 75 FF    	ld	(ix-1),l
2091  0761  76          	halt
2092  0762  DD 7E FF    	ld	a,(ix-1)
2093  0765  B7          	or	a, a
2094  0766  20 2C       	jr	NZ,l_game_bonus_summary_player_00102
2095  0768  21 00 00    	ld	hl,_s_lin1
2096  076B  36 06       	ld	(hl),0x06
2097  076D  21 C2 00    	ld	hl,___str_22
2098  0770  E5          	push	hl
2099  0771  21 06 07    	ld	hl,0x0706
2100  0774  E5          	push	hl
2101  0775  CD 00 00    	call	_zx_print_str
2102  0778  3A 00 00    	ld	a,(_s_lin1)
2103  077B  07          	rlca
2104  077C  07          	rlca
2105  077D  07          	rlca
2106  077E  E6 F8       	and	a,0xf8
2107  0780  C6 04       	add	a,0x02+0x02
2108  0782  4F          	ld	c, a
2109  0783  06 04       	ld	b,0x04
2110  0785  C5          	push	bc
2111  0786  3E 03       	ld	a,0x03
2112  0788  F5          	push	af
2113  0789  33          	inc	sp
2114  078A  CD 00 00    	call	_NIRVANAP_drawT_callee
2115  078D  21 00 00    	ld	hl,_index_player
2116  0790  36 00       	ld	(hl),0x00
2117  0792  18 2A       	jr	l_game_bonus_summary_player_00103
2118  0794              l_game_bonus_summary_player_00102:
2119  0794  21 00 00    	ld	hl,_s_lin1
2120  0797  36 0C       	ld	(hl),0x0c
2121  0799  21 C9 00    	ld	hl,___str_23
2122  079C  E5          	push	hl
2123  079D  21 0C 07    	ld	hl,0x070c
2124  07A0  E5          	push	hl
2125  07A1  CD 00 00    	call	_zx_print_str
2126  07A4  3A 00 00    	ld	a,(_s_lin1)
2127  07A7  07          	rlca
2128  07A8  07          	rlca
2129  07A9  07          	rlca
2130  07AA  E6 F8       	and	a,0xf8
2131  07AC  C6 04       	add	a,0x02+0x02
2132  07AE  4F          	ld	c, a
2133  07AF  06 04       	ld	b,0x04
2134  07B1  C5          	push	bc
2135  07B2  3E 1B       	ld	a,0x1b
2136  07B4  F5          	push	af
2137  07B5  33          	inc	sp
2138  07B6  CD 00 00    	call	_NIRVANAP_drawT_callee
2139  07B9  21 00 00    	ld	hl,_index_player
2140  07BC  36 01       	ld	(hl),0x01
2141  07BE              l_game_bonus_summary_player_00103:
2142  07BE  3A 00 00    	ld	a,(_s_lin1)
2143  07C1  07          	rlca
2144  07C2  07          	rlca
2145  07C3  07          	rlca
2146  07C4  E6 F8       	and	a,0xf8
2147  07C6  C6 08       	add	a,0x08
2148  07C8  F5          	push	af
2149  07C9  33          	inc	sp
2150  07CA  21 07 1F    	ld	hl,0x1f07
2151  07CD  E5          	push	hl
2152  07CE  CD E2 0C    	call	_game_paint_attrib_lin
2153  07D1  F1          	pop	af
2154  07D2  33          	inc	sp
2155  07D3  21 00 00    	ld	hl,_tmp_uc
2156  07D6  36 00       	ld	(hl),0x00
2157  07D8  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2158  07DA  DD 86 FF    	add	a,(ix-1)
2159  07DD  DD 77 FD    	ld	(ix-3),a
2160  07E0  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2161  07E2  CE 00       	adc	a,0x00
2162  07E4  DD 77 FE    	ld	(ix-2),a
2163  07E7              l_game_bonus_summary_player_00107:
2164  07E7  E1          	pop	hl
2165  07E8  4E          	ld	c,(hl)
2166  07E9  3A 00 00    	ld	a,(_tmp_uc)
2167  07EC  E5          	push	hl
2168  07ED  91          	sub	a, c
2169  07EE  30 53       	jr	NC,l_game_bonus_summary_player_00109
2170  07F0  3A 00 00    	ld	a,(_s_lin1)
2171  07F3  07          	rlca
2172  07F4  07          	rlca
2173  07F5  07          	rlca
2174  07F6  E6 F8       	and	a,0xf8
2175  07F8  4F          	ld	c,a
2176  07F9  3A 00 00    	ld	a,(_tmp_uc)
2177  07FC  D6 03       	sub	a,0x03
2178  07FE  30 08       	jr	NC,l_game_bonus_summary_player_00105
2179  0800  79          	ld	a,c
2180  0801  C6 F8       	add	a,0xf8
2181  0803  32 00 00    	ld	(_s_lin0),a
2182  0806  18 06       	jr	l_game_bonus_summary_player_00106
2183  0808              l_game_bonus_summary_player_00105:
2184  0808  79          	ld	a,c
2185  0809  C6 08       	add	a,0x08
2186  080B  32 00 00    	ld	(_s_lin0),a
2187  080E              l_game_bonus_summary_player_00106:
2188  080E  76          	halt
2189  080F  2A 00 00    	ld	hl,(_tmp_uc)
2190  0812  26 03       	ld	h,0x03
2191  0814  E5          	push	hl
2192  0815  CD 00 00    	call	__moduchar_callee
2193  0818  7D          	ld	a,l
2194  0819  87          	add	a, a
2195  081A  C6 0E       	add	a,0x0e
2196  081C  F5          	push	af
2197  081D  33          	inc	sp
2198  081E  3A 00 00    	ld	a,(_s_lin0)
2199  0821  57          	ld	d,a
2200  0822  1E B9       	ld	e,0xb9
2201  0824  D5          	push	de
2202  0825  CD 00 00    	call	_NIRVANAP_drawT_callee
2203  0828  21 50 00    	ld	hl,0x0050
2204  082B  CD 00 00    	call	_player_score_add
2205  082E  21 00 00    	ld	hl,_tmp_uc
2206  0831  34          	inc	(hl)
2207  0832  21 00 00    	ld	hl,_ay_effect_09
2208  0835  CD 00 00    	call	_ay_fx_play
2209  0838  CD 00 00    	call	_sound_coin
2210  083B  21 32 00    	ld	hl,0x0032
2211  083E  CD 00 00    	call	_z80_delay_ms_fastcall
2212  0841  18 A4       	jr	l_game_bonus_summary_player_00107
2213  0843              l_game_bonus_summary_player_00109:
2214  0843  21 CF 00    	ld	hl,___str_24
2215  0846  E5          	push	hl
2216  0847  2A 00 00    	ld	hl,(_s_lin1)
2217  084A  26 16       	ld	h,0x16
2218  084C  E5          	push	hl
2219  084D  CD 00 00    	call	_zx_print_str
2220  0850  DD F9       	ld	sp, ix
2221  0852  DD E1       	pop	ix
2222  0854  C9          	ret
2223  0855              	SECTION rodata_compiler
2224  00C2              ___str_22:
2225  00C2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2226  00C8  00          	DEFB 0x00
2227  00C9              	SECTION rodata_compiler
2228  00C9              ___str_23:
2229  00C9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2230  00CE  00          	DEFB 0x00
2231  00CF              	SECTION rodata_compiler
2232  00CF              ___str_24:
2233  00CF  58 20 38 30 30 
                        	DEFM "X 800"
2234  00D4  00          	DEFB 0x00
2235  00D5              	SECTION code_compiler
2236  0855              ;	---------------------------------
2237  0855              ; Function game_check_maze
2238  0855              ; ---------------------------------
2239  0855              _game_check_maze:
2240  0855  4D          	ld	c,l
2241  0856  44          	ld	b,h
2242  0857  21 00 00    	ld	hl,_lvl_1
2243  085A  09          	add	hl,bc
2244  085B  5E          	ld	e,(hl)
2245  085C  3E 8C       	ld	a,0x8c
2246  085E  93          	sub	a, e
2247  085F  30 0B       	jr	NC,l_game_check_maze_00103
2248  0861  03          	inc	bc
2249  0862  21 00 00    	ld	hl,_lvl_1
2250  0865  09          	add	hl,bc
2251  0866  4E          	ld	c,(hl)
2252  0867  3E 8C       	ld	a,0x8c
2253  0869  91          	sub	a, c
2254  086A  38 04       	jr	C,l_game_check_maze_00104
2255  086C              l_game_check_maze_00103:
2256  086C  2E 00       	ld	l,0x00
2257  086E  18 02       	jr	l_game_check_maze_00105
2258  0870              l_game_check_maze_00104:
2259  0870  2E 01       	ld	l,0x01
2260  0872              l_game_check_maze_00105:
2261  0872  C9          	ret
2262  0873              	SECTION code_compiler
2263  0873              ;	---------------------------------
2264  0873              ; Function game_check_floor
2265  0873              ; ---------------------------------
2266  0873              _game_check_floor:
2267  0873  CD 00 00    	call	___sdcc_enter_ix
2268  0876  3B          	dec	sp
2269  0877  11 00 00    	ld	de,_lvl_1+0
2270  087A  4D          	ld	c,l
2271  087B  44          	ld	b,h
2272  087C  6B          	ld	l, e
2273  087D  62          	ld	h, d
2274  087E  09          	add	hl,bc
2275  087F  7E          	ld	a,(hl)
2276  0880  DD 77 FF    	ld	(ix-1),a
2277  0883  69          	ld	l, c
2278  0884  60          	ld	h, b
2279  0885  23          	inc	hl
2280  0886  19          	add	hl,de
2281  0887  6E          	ld	l,(hl)
2282  0888  DD 7E FF    	ld	a,(ix-1)
2283  088B  D6 11       	sub	a,0x11
2284  088D  28 05       	jr	Z,l_game_check_floor_00101
2285  088F  7D          	ld	a,l
2286  0890  D6 11       	sub	a,0x11
2287  0892  20 1E       	jr	NZ,l_game_check_floor_00102
2288  0894              l_game_check_floor_00101:
2289  0894  21 20 00    	ld	hl,0x0020
2290  0897  09          	add	hl,bc
2291  0898  19          	add	hl,de
2292  0899  6E          	ld	l,(hl)
2293  089A  3E 8C       	ld	a,0x8c
2294  089C  95          	sub	a, l
2295  089D  30 0B       	jr	NC,l_game_check_floor_00107
2296  089F  21 21 00    	ld	hl,0x0021
2297  08A2  09          	add	hl,bc
2298  08A3  19          	add	hl,de
2299  08A4  4E          	ld	c,(hl)
2300  08A5  3E 8C       	ld	a,0x8c
2301  08A7  91          	sub	a, c
2302  08A8  38 04       	jr	C,l_game_check_floor_00108
2303  08AA              l_game_check_floor_00107:
2304  08AA  2E 00       	ld	l,0x00
2305  08AC  18 02       	jr	l_game_check_floor_00109
2306  08AE              l_game_check_floor_00108:
2307  08AE  2E 01       	ld	l,0x01
2308  08B0              l_game_check_floor_00109:
2309  08B0  18 12       	jr	l_game_check_floor_00105
2310  08B2              l_game_check_floor_00102:
2311  08B2  3E 8C       	ld	a,0x8c
2312  08B4  DD 96 FF    	sub	a,(ix-1)
2313  08B7  30 05       	jr	NC,l_game_check_floor_00110
2314  08B9  3E 8C       	ld	a,0x8c
2315  08BB  95          	sub	a, l
2316  08BC  38 04       	jr	C,l_game_check_floor_00111
2317  08BE              l_game_check_floor_00110:
2318  08BE  2E 00       	ld	l,0x00
2319  08C0  18 02       	jr	l_game_check_floor_00112
2320  08C2              l_game_check_floor_00111:
2321  08C2  2E 01       	ld	l,0x01
2322  08C4              l_game_check_floor_00112:
2323  08C4              l_game_check_floor_00105:
2324  08C4  33          	inc	sp
2325  08C5  DD E1       	pop	ix
2326  08C7  C9          	ret
2327  08C8              	SECTION code_compiler
2328  08C8              ;	---------------------------------
2329  08C8              ; Function game_enemy_add
2330  08C8              ; ---------------------------------
2331  08C8              _game_enemy_add:
2332  08C8  3A 00 00    	ld	a,(_game_type)
2333  08CB  D6 02       	sub	a,0x02
2334  08CD  20 05       	jr	NZ,l_game_enemy_add_00106
2335  08CF  CD 37 0A    	call	_game_enemy_rnd
2336  08D2  18 21       	jr	l_game_enemy_add_00107
2337  08D4              l_game_enemy_add_00106:
2338  08D4  3A 00 00    	ld	a,(_spr_count)
2339  08D7  D6 06       	sub	a,0x06
2340  08D9  30 1A       	jr	NC,l_game_enemy_add_00107
2341  08DB  21 64 00    	ld	hl,0x0064
2342  08DE  E5          	push	hl
2343  08DF  2A 00 00    	ld	hl,(_entry_time)
2344  08E2  E5          	push	hl
2345  08E3  CD 07 1A    	call	_game_check_time
2346  08E6  F1          	pop	af
2347  08E7  F1          	pop	af
2348  08E8  7D          	ld	a,l
2349  08E9  B7          	or	a, a
2350  08EA  28 09       	jr	Z,l_game_enemy_add_00107
2351  08EC  3A 00 00    	ld	a,(_phase_left)
2352  08EF  B7          	or	a, a
2353  08F0  28 03       	jr	Z,l_game_enemy_add_00107
2354  08F2  CD F8 08    	call	_game_enemy_quota
2355  08F5              l_game_enemy_add_00107:
2356  08F5  2E 00       	ld	l,0x00
2357  08F7  C9          	ret
2358  08F8              	SECTION code_compiler
2359  08F8              ;	---------------------------------
2360  08F8              ; Function game_enemy_quota
2361  08F8              ; ---------------------------------
2362  08F8              _game_enemy_quota:
2363  08F8  3A 00 00    	ld	a,(_phase_left)
2364  08FB  B7          	or	a, a
2365  08FC  CA A3 09    	jp	Z,l_game_enemy_quota_00128
2366  08FF  CD 00 00    	call	_rand
2367  0902  7D          	ld	a, l
2368  0903  E6 03       	and	a,0x03
2369  0905  32 00 00    	ld	(_tmp),a
2370  0908  3A 00 00    	ld	a,(_phase_pop)
2371  090B  B7          	or	a, a
2372  090C  28 06       	jr	Z,l_game_enemy_quota_00101
2373  090E  3A 00 00    	ld	a,(_phase_left)
2374  0911  3D          	dec	a
2375  0912  20 05       	jr	NZ,l_game_enemy_quota_00102
2376  0914              l_game_enemy_quota_00101:
2377  0914  21 00 00    	ld	hl,_tmp
2378  0917  36 00       	ld	(hl),0x00
2379  0919              l_game_enemy_quota_00102:
2380  0919  21 00 00    	ld	hl,_tmp_sc
2381  091C  36 00       	ld	(hl),0x00
2382  091E              l_game_enemy_quota_00124:
2383  091E  3A 00 00    	ld	a,(_tmp_sc)
2384  0921  EE 80       	xor	a,0x80
2385  0923  D6 83       	sub	a,0x83
2386  0925  D2 A3 09    	jp	NC,l_game_enemy_quota_00128
2387  0928  21 00 00    	ld	hl,_tmp
2388  092B  7E          	ld	a,(hl)
2389  092C  D6 03       	sub	a,0x03
2390  092E  30 73       	jr	NC,l_game_enemy_quota_00128
2391  0930  3E 00       	ld	a,+((_phase_quota) & 0xFF)
2392  0932  86          	add	a, (hl)
2393  0933  4F          	ld	c,a
2394  0934  3E 00       	ld	a,+((_phase_quota) / 256)
2395  0936  CE 00       	adc	a,0x00
2396  0938  47          	ld	b,a
2397  0939  0A          	ld	a,(bc)
2398  093A  B7          	or	a, a
2399  093B  28 54       	jr	Z,l_game_enemy_quota_00120
2400  093D  C6 FF       	add	a,0xff
2401  093F  02          	ld	(bc),a
2402  0940  3A 00 00    	ld	a,(_phase_angry)
2403  0943  B7          	or	a, a
2404  0944  28 24       	jr	Z,l_game_enemy_quota_00117
2405  0946  3A 00 00    	ld	a,(_tmp)
2406  0949  B7          	or	a, a
2407  094A  20 05       	jr	NZ,l_game_enemy_quota_00105
2408  094C  2E 03       	ld	l,0x03
2409  094E  CD 67 0A    	call	_game_enemy_add1
2410  0951              l_game_enemy_quota_00105:
2411  0951  3A 00 00    	ld	a,(_tmp)
2412  0954  3D          	dec	a
2413  0955  20 05       	jr	NZ,l_game_enemy_quota_00107
2414  0957  2E 06       	ld	l,0x06
2415  0959  CD 67 0A    	call	_game_enemy_add1
2416  095C              l_game_enemy_quota_00107:
2417  095C  3A 00 00    	ld	a,(_tmp)
2418  095F  D6 02       	sub	a,0x02
2419  0961  20 29       	jr	NZ,l_game_enemy_quota_00118
2420  0963  2E 09       	ld	l,0x09
2421  0965  CD 67 0A    	call	_game_enemy_add1
2422  0968  18 22       	jr	l_game_enemy_quota_00118
2423  096A              l_game_enemy_quota_00117:
2424  096A  3A 00 00    	ld	a,(_tmp)
2425  096D  B7          	or	a, a
2426  096E  20 05       	jr	NZ,l_game_enemy_quota_00111
2427  0970  2E 01       	ld	l,0x01
2428  0972  CD 67 0A    	call	_game_enemy_add1
2429  0975              l_game_enemy_quota_00111:
2430  0975  3A 00 00    	ld	a,(_tmp)
2431  0978  3D          	dec	a
2432  0979  20 05       	jr	NZ,l_game_enemy_quota_00113
2433  097B  2E 04       	ld	l,0x04
2434  097D  CD 67 0A    	call	_game_enemy_add1
2435  0980              l_game_enemy_quota_00113:
2436  0980  3A 00 00    	ld	a,(_tmp)
2437  0983  D6 02       	sub	a,0x02
2438  0985  20 05       	jr	NZ,l_game_enemy_quota_00118
2439  0987  2E 09       	ld	l,0x09
2440  0989  CD 67 0A    	call	_game_enemy_add1
2441  098C              l_game_enemy_quota_00118:
2442  098C  2E 00       	ld	l,0x00
2443  098E  C3 36 0A    	jp	l_game_enemy_quota_00144
2444  0991              l_game_enemy_quota_00120:
2445  0991  21 00 00    	ld	hl,_tmp
2446  0994  34          	inc	(hl)
2447  0995  3E 02       	ld	a,0x02
2448  0997  96          	sub	a, (hl)
2449  0998  30 02       	jr	NC,l_game_enemy_quota_00122
2450  099A  36 00       	ld	(hl),0x00
2451  099C              l_game_enemy_quota_00122:
2452  099C  21 00 00    	ld	hl,_tmp_sc
2453  099F  34          	inc	(hl)
2454  09A0  C3 1E 09    	jp	l_game_enemy_quota_00124
2455  09A3              l_game_enemy_quota_00128:
2456  09A3  3A 00 00    	ld	a,(_phase_coins)
2457  09A6  B7          	or	a, a
2458  09A7  28 0A       	jr	Z,l_game_enemy_quota_00130
2459  09A9  2E 08       	ld	l,0x08
2460  09AB  CD 67 0A    	call	_game_enemy_add1
2461  09AE  2E 00       	ld	l,0x00
2462  09B0  C3 36 0A    	jp	l_game_enemy_quota_00144
2463  09B3              l_game_enemy_quota_00130:
2464  09B3  CD 00 00    	call	_rand
2465  09B6  7D          	ld	a,l
2466  09B7  E6 03       	and	a,0x03
2467  09B9  44          	ld	b,h
2468  09BA  0E 00       	ld	c,0x00
2469  09BC  CB 79       	bit	7,c
2470  09BE  20 74       	jr	NZ,l_game_enemy_quota_00143
2471  09C0  5F          	ld	e,a
2472  09C1  3E 03       	ld	a,0x03
2473  09C3  BB          	cp	a, e
2474  09C4  3E 00       	ld	a,0x00
2475  09C6  99          	sbc	a, c
2476  09C7  E2 CC 09    	jp	PO, l_game_enemy_quota_00240
2477  09CA  EE 80       	xor	a,0x80
2478  09CC              l_game_enemy_quota_00240:
2479  09CC  FA 34 0A    	jp	M,l_game_enemy_quota_00143
2480  09CF  16 00       	ld	d,0x00
2481  09D1  21 D7 09    	ld	hl,l_game_enemy_quota_00241
2482  09D4  19          	add	hl,de
2483  09D5  19          	add	hl,de
2484  09D6  E9          	jp	(hl)
2485  09D7              l_game_enemy_quota_00241:
2486  09D7  18 06       	jr	l_game_enemy_quota_00131
2487  09D9  18 13       	jr	l_game_enemy_quota_00134
2488  09DB  18 29       	jr	l_game_enemy_quota_00137
2489  09DD  18 3F       	jr	l_game_enemy_quota_00140
2490  09DF              l_game_enemy_quota_00131:
2491  09DF  3E 07       	ld	a,0x07
2492  09E1  21 00 00    	ld	hl,_phase_curr
2493  09E4  96          	sub	a, (hl)
2494  09E5  30 4D       	jr	NC,l_game_enemy_quota_00143
2495  09E7  2E 07       	ld	l,0x07
2496  09E9  CD 67 0A    	call	_game_enemy_add1
2497  09EC  18 46       	jr	l_game_enemy_quota_00143
2498  09EE              l_game_enemy_quota_00134:
2499  09EE  2A 00 00    	ld	hl,(_game_time_fireball_start)
2500  09F1  E5          	push	hl
2501  09F2  21 00 00    	ld	hl,0x0000
2502  09F5  E5          	push	hl
2503  09F6  CD 07 1A    	call	_game_check_time
2504  09F9  F1          	pop	af
2505  09FA  F1          	pop	af
2506  09FB  7D          	ld	a,l
2507  09FC  B7          	or	a, a
2508  09FD  28 35       	jr	Z,l_game_enemy_quota_00143
2509  09FF  2E 0B       	ld	l,0x0b
2510  0A01  CD 67 0A    	call	_game_enemy_add1
2511  0A04  18 2E       	jr	l_game_enemy_quota_00143
2512  0A06              l_game_enemy_quota_00137:
2513  0A06  2A 00 00    	ld	hl,(_game_time_fireball_start)
2514  0A09  E5          	push	hl
2515  0A0A  21 00 00    	ld	hl,0x0000
2516  0A0D  E5          	push	hl
2517  0A0E  CD 07 1A    	call	_game_check_time
2518  0A11  F1          	pop	af
2519  0A12  F1          	pop	af
2520  0A13  7D          	ld	a,l
2521  0A14  B7          	or	a, a
2522  0A15  28 1D       	jr	Z,l_game_enemy_quota_00143
2523  0A17  2E 0B       	ld	l,0x0b
2524  0A19  CD 67 0A    	call	_game_enemy_add1
2525  0A1C  18 16       	jr	l_game_enemy_quota_00143
2526  0A1E              l_game_enemy_quota_00140:
2527  0A1E  2A 00 00    	ld	hl,(_game_time_fireball_start)
2528  0A21  E5          	push	hl
2529  0A22  21 00 00    	ld	hl,0x0000
2530  0A25  E5          	push	hl
2531  0A26  CD 07 1A    	call	_game_check_time
2532  0A29  F1          	pop	af
2533  0A2A  F1          	pop	af
2534  0A2B  7D          	ld	a,l
2535  0A2C  B7          	or	a, a
2536  0A2D  28 05       	jr	Z,l_game_enemy_quota_00143
2537  0A2F  2E 0A       	ld	l,0x0a
2538  0A31  CD 67 0A    	call	_game_enemy_add1
2539  0A34              l_game_enemy_quota_00143:
2540  0A34  2E 00       	ld	l,0x00
2541  0A36              l_game_enemy_quota_00144:
2542  0A36  C9          	ret
2543  0A37              	SECTION code_compiler
2544  0A37              ;	---------------------------------
2545  0A37              ; Function game_enemy_rnd
2546  0A37              ; ---------------------------------
2547  0A37              _game_enemy_rnd:
2548  0A37  3A 00 00    	ld	a,(_spr_count)
2549  0A3A  D6 06       	sub	a,0x06
2550  0A3C  30 26       	jr	NC,l_game_enemy_rnd_00102
2551  0A3E  21 64 00    	ld	hl,0x0064
2552  0A41  E5          	push	hl
2553  0A42  2A 00 00    	ld	hl,(_entry_time)
2554  0A45  E5          	push	hl
2555  0A46  CD 07 1A    	call	_game_check_time
2556  0A49  F1          	pop	af
2557  0A4A  F1          	pop	af
2558  0A4B  7D          	ld	a,l
2559  0A4C  B7          	or	a, a
2560  0A4D  28 15       	jr	Z,l_game_enemy_rnd_00102
2561  0A4F  2A 00 00    	ld	hl,(_curr_time)
2562  0A52  22 00 00    	ld	(_entry_time),hl
2563  0A55  CD 00 00    	call	_rand
2564  0A58  01 0B 00    	ld	bc,0x000b
2565  0A5B  C5          	push	bc
2566  0A5C  E5          	push	hl
2567  0A5D  CD 00 00    	call	__modsint_callee
2568  0A60  2C          	inc	l
2569  0A61  CD 67 0A    	call	_game_enemy_add1
2570  0A64              l_game_enemy_rnd_00102:
2571  0A64  2E 00       	ld	l,0x00
2572  0A66  C9          	ret
2573  0A67              	SECTION code_compiler
2574  0A67              ;	---------------------------------
2575  0A67              ; Function game_enemy_add1
2576  0A67              ; ---------------------------------
2577  0A67              _game_enemy_add1:
2578  0A67  CD 00 00    	call	___sdcc_enter_ix
2579  0A6A  F5          	push	af
2580  0A6B  45          	ld	b,l
2581  0A6C  78          	ld	a,b
2582  0A6D  D6 0A       	sub	a,0x0a
2583  0A6F  20 04       	jr	NZ,l_game_enemy_add1_00185
2584  0A71  3E 01       	ld	a,0x01
2585  0A73  18 01       	jr	l_game_enemy_add1_00186
2586  0A75              l_game_enemy_add1_00185:
2587  0A75  AF          	xor	a,a
2588  0A76              l_game_enemy_add1_00186:
2589  0A76  4F          	ld	c,a
2590  0A77  B7          	or	a, a
2591  0A78  28 0B       	jr	Z,l_game_enemy_add1_00105
2592  0A7A  C5          	push	bc
2593  0A7B  2E 0A       	ld	l,0x0a
2594  0A7D  CD A9 0B    	call	_game_enemy_add_get_index
2595  0A80  C1          	pop	bc
2596  0A81  5D          	ld	e,l
2597  0A82  1C          	inc	e
2598  0A83  20 2B       	jr	NZ,l_game_enemy_add1_00101
2599  0A85              l_game_enemy_add1_00105:
2600  0A85  78          	ld	a,b
2601  0A86  D6 0B       	sub	a,0x0b
2602  0A88  20 04       	jr	NZ,l_game_enemy_add1_00189
2603  0A8A  3E 01       	ld	a,0x01
2604  0A8C  18 01       	jr	l_game_enemy_add1_00190
2605  0A8E              l_game_enemy_add1_00189:
2606  0A8E  AF          	xor	a,a
2607  0A8F              l_game_enemy_add1_00190:
2608  0A8F  DD 77 FF    	ld	(ix-1),a
2609  0A92  B7          	or	a, a
2610  0A93  28 0B       	jr	Z,l_game_enemy_add1_00107
2611  0A95  C5          	push	bc
2612  0A96  2E 0B       	ld	l,0x0b
2613  0A98  CD A9 0B    	call	_game_enemy_add_get_index
2614  0A9B  C1          	pop	bc
2615  0A9C  5D          	ld	e,l
2616  0A9D  1C          	inc	e
2617  0A9E  20 10       	jr	NZ,l_game_enemy_add1_00101
2618  0AA0              l_game_enemy_add1_00107:
2619  0AA0  78          	ld	a,b
2620  0AA1  D6 07       	sub	a,0x07
2621  0AA3  20 10       	jr	NZ,l_game_enemy_add1_00102
2622  0AA5  C5          	push	bc
2623  0AA6  2E 07       	ld	l,0x07
2624  0AA8  CD A9 0B    	call	_game_enemy_add_get_index
2625  0AAB  C1          	pop	bc
2626  0AAC  5D          	ld	e,l
2627  0AAD  1C          	inc	e
2628  0AAE  28 05       	jr	Z,l_game_enemy_add1_00102
2629  0AB0              l_game_enemy_add1_00101:
2630  0AB0  2E 00       	ld	l,0x00
2631  0AB2  C3 A5 0B    	jp	l_game_enemy_add1_00131
2632  0AB5              l_game_enemy_add1_00102:
2633  0AB5  21 00 00    	ld	hl,_phase_pop
2634  0AB8  34          	inc	(hl)
2635  0AB9  C5          	push	bc
2636  0ABA  CD 00 00    	call	_sound_enter_enemy
2637  0ABD  2E 00       	ld	l,0x00
2638  0ABF  CD A9 0B    	call	_game_enemy_add_get_index
2639  0AC2  C1          	pop	bc
2640  0AC3  7D          	ld	a,l
2641  0AC4  32 00 00    	ld	(_tmp),a
2642  0AC7  C5          	push	bc
2643  0AC8  CD 00 00    	call	_rand
2644  0ACB  C1          	pop	bc
2645  0ACC  7D          	ld	a, l
2646  0ACD  E6 01       	and	a,0x01
2647  0ACF  32 00 00    	ld	(_tmp0),a
2648  0AD2  3D          	dec	a
2649  0AD3  20 1C       	jr	NZ,l_game_enemy_add1_00113
2650  0AD5  21 00 00    	ld	hl,_s_lin0
2651  0AD8  36 10       	ld	(hl),0x10
2652  0ADA  21 00 00    	ld	hl,_s_col0
2653  0ADD  36 04       	ld	(hl),0x04
2654  0ADF  21 00 00    	ld	hl,_s_col1
2655  0AE2  36 02       	ld	(hl),0x02
2656  0AE4  79          	ld	a,c
2657  0AE5  B7          	or	a, a
2658  0AE6  28 02       	jr	Z,l_game_enemy_add1_00109
2659  0AE8  36 03       	ld	(hl),0x03
2660  0AEA              l_game_enemy_add1_00109:
2661  0AEA  21 00 00    	ld	hl,_tmp1
2662  0AED  36 01       	ld	(hl),0x01
2663  0AEF  18 1A       	jr	l_game_enemy_add1_00114
2664  0AF1              l_game_enemy_add1_00113:
2665  0AF1  21 00 00    	ld	hl,_s_lin0
2666  0AF4  36 10       	ld	(hl),0x10
2667  0AF6  21 00 00    	ld	hl,_s_col0
2668  0AF9  36 1A       	ld	(hl),0x1a
2669  0AFB  21 00 00    	ld	hl,_s_col1
2670  0AFE  36 1E       	ld	(hl),0x1e
2671  0B00  79          	ld	a,c
2672  0B01  B7          	or	a, a
2673  0B02  28 02       	jr	Z,l_game_enemy_add1_00111
2674  0B04  36 1C       	ld	(hl),0x1c
2675  0B06              l_game_enemy_add1_00111:
2676  0B06  21 00 00    	ld	hl,_tmp1
2677  0B09  36 FF       	ld	(hl),0xff
2678  0B0B              l_game_enemy_add1_00114:
2679  0B0B  78          	ld	a,b
2680  0B0C  D6 08       	sub	a,0x08
2681  0B0E  20 04       	jr	NZ,l_game_enemy_add1_00198
2682  0B10  3E 01       	ld	a,0x01
2683  0B12  18 01       	jr	l_game_enemy_add1_00199
2684  0B14              l_game_enemy_add1_00198:
2685  0B14  AF          	xor	a,a
2686  0B15              l_game_enemy_add1_00199:
2687  0B15  DD 77 FE    	ld	(ix-2),a
2688  0B18  B7          	or	a, a
2689  0B19  28 04       	jr	Z,l_game_enemy_add1_00116
2690  0B1B  21 00 00    	ld	hl,_phase_coins
2691  0B1E  35          	dec	(hl)
2692  0B1F              l_game_enemy_add1_00116:
2693  0B1F  21 00 00    	ld	hl,_tmp_uc
2694  0B22  36 00       	ld	(hl),0x00
2695  0B24  DD 7E FF    	ld	a,(ix-1)
2696  0B27  B7          	or	a,a
2697  0B28  20 03       	jr	NZ,l_game_enemy_add1_00123
2698  0B2A  B1          	or	a,c
2699  0B2B  28 35       	jr	Z,l_game_enemy_add1_00124
2700  0B2D              l_game_enemy_add1_00123:
2701  0B2D  C5          	push	bc
2702  0B2E  CD 00 00    	call	_rand
2703  0B31  11 03 00    	ld	de,0x0003
2704  0B34  D5          	push	de
2705  0B35  E5          	push	hl
2706  0B36  CD 00 00    	call	__modsint_callee
2707  0B39  C1          	pop	bc
2708  0B3A  5D          	ld	e,l
2709  0B3B  21 00 00    	ld	hl,_tmp_uc
2710  0B3E  73          	ld	(hl),e
2711  0B3F  7B          	ld	a,e
2712  0B40  B7          	or	a, a
2713  0B41  20 02       	jr	NZ,l_game_enemy_add1_00118
2714  0B43  36 10       	ld	(hl),0x10
2715  0B45              l_game_enemy_add1_00118:
2716  0B45  3A 00 00    	ld	a,(_tmp_uc)
2717  0B48  3D          	dec	a
2718  0B49  20 05       	jr	NZ,l_game_enemy_add1_00120
2719  0B4B  21 00 00    	ld	hl,_tmp_uc
2720  0B4E  36 38       	ld	(hl),0x38
2721  0B50              l_game_enemy_add1_00120:
2722  0B50  3A 00 00    	ld	a,(_tmp_uc)
2723  0B53  D6 02       	sub	a,0x02
2724  0B55  20 05       	jr	NZ,l_game_enemy_add1_00122
2725  0B57  21 00 00    	ld	hl,_tmp_uc
2726  0B5A  36 84       	ld	(hl),0x84
2727  0B5C              l_game_enemy_add1_00122:
2728  0B5C  3A 00 00    	ld	a,(_s_col1)
2729  0B5F  32 00 00    	ld	(_s_col0),a
2730  0B62              l_game_enemy_add1_00124:
2731  0B62  CD 00 00    	call	_ay_is_playing
2732  0B65  7D          	ld	a,l
2733  0B66  D6 02       	sub	a,0x02
2734  0B68  30 14       	jr	NC,l_game_enemy_add1_00130
2735  0B6A  DD 7E FE    	ld	a,(ix-2)
2736  0B6D  B7          	or	a, a
2737  0B6E  20 08       	jr	NZ,l_game_enemy_add1_00127
2738  0B70  21 00 00    	ld	hl,_ay_effect_04
2739  0B73  CD 00 00    	call	_ay_fx_play
2740  0B76  18 06       	jr	l_game_enemy_add1_00130
2741  0B78              l_game_enemy_add1_00127:
2742  0B78  21 00 00    	ld	hl,_ay_effect_07
2743  0B7B  CD 00 00    	call	_ay_fx_play
2744  0B7E              l_game_enemy_add1_00130:
2745  0B7E  2A 00 00    	ld	hl,(_curr_time)
2746  0B81  22 00 00    	ld	(_entry_time),hl
2747  0B84  3A 00 00    	ld	a,(_s_lin0)
2748  0B87  21 00 00    	ld	hl,_tmp_uc
2749  0B8A  86          	add	a, (hl)
2750  0B8B  57          	ld	d,a
2751  0B8C  3A 00 00    	ld	a,(_tmp1)
2752  0B8F  48          	ld	c,b
2753  0B90  47          	ld	b,a
2754  0B91  3A 00 00    	ld	a,(_s_col0)
2755  0B94  C5          	push	bc
2756  0B95  5A          	ld	e,d
2757  0B96  57          	ld	d,a
2758  0B97  3A 00 00    	ld	a,(_tmp)
2759  0B9A  D5          	push	de
2760  0B9B  F5          	push	af
2761  0B9C  33          	inc	sp
2762  0B9D  CD 00 00    	call	_enemy_init
2763  0BA0  F1          	pop	af
2764  0BA1  F1          	pop	af
2765  0BA2  33          	inc	sp
2766  0BA3  2E 00       	ld	l,0x00
2767  0BA5              l_game_enemy_add1_00131:
2768  0BA5  F1          	pop	af
2769  0BA6  DD E1       	pop	ix
2770  0BA8  C9          	ret
2771  0BA9              	SECTION code_compiler
2772  0BA9              ;	---------------------------------
2773  0BA9              ; Function game_enemy_add_get_index
2774  0BA9              ; ---------------------------------
2775  0BA9              _game_enemy_add_get_index:
2776  0BA9  4D          	ld	c,l
2777  0BAA  21 00 00    	ld	hl,_enemies
2778  0BAD  36 00       	ld	(hl),0x00
2779  0BAF              l_game_enemy_add_get_index_00104:
2780  0BAF  2A 00 00    	ld	hl,(_enemies)
2781  0BB2  26 00       	ld	h,0x00
2782  0BB4  11 00 00    	ld	de,_class
2783  0BB7  19          	add	hl,de
2784  0BB8  46          	ld	b, (hl)
2785  0BB9  79          	ld	a,c
2786  0BBA  90          	sub	a,b
2787  0BBB  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2788  0BBD  2A 00 00    	ld	hl,(_enemies)
2789  0BC0  18 0B       	jr	l_game_enemy_add_get_index_00106
2790  0BC2              l_game_enemy_add_get_index_00105:
2791  0BC2  21 00 00    	ld	hl,_enemies
2792  0BC5  34          	inc	(hl)
2793  0BC6  3E 05       	ld	a,0x05
2794  0BC8  96          	sub	a, (hl)
2795  0BC9  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2796  0BCB  2E FF       	ld	l,0xff
2797  0BCD              l_game_enemy_add_get_index_00106:
2798  0BCD  C9          	ret
2799  0BCE              	SECTION code_compiler
2800  0BCE              ;	---------------------------------
2801  0BCE              ; Function game_freeze
2802  0BCE              ; ---------------------------------
2803  0BCE              _game_freeze:
2804  0BCE  CD 00 00    	call	___sdcc_enter_ix
2805  0BD1  DD 7E 05    	ld	a,(ix+5)
2806  0BD4  D6 1F       	sub	a,0x1f
2807  0BD6  30 60       	jr	NC,l_game_freeze_00107
2808  0BD8  21 00 00    	ld	hl,_tmp
2809  0BDB  36 01       	ld	(hl),0x01
2810  0BDD  DD 66 05    	ld	h,(ix+5)
2811  0BE0  DD 6E 04    	ld	l,(ix+4)
2812  0BE3  E5          	push	hl
2813  0BE4  CD 00 00    	call	_game_calc_index
2814  0BE7  F1          	pop	af
2815  0BE8  22 00 00    	ld	(_index1),hl
2816  0BEB  01 00 00    	ld	bc,_lvl_1
2817  0BEE  09          	add	hl,bc
2818  0BEF  7E          	ld	a,(hl)
2819  0BF0  D6 84       	sub	a,0x84
2820  0BF2  20 44       	jr	NZ,l_game_freeze_00107
2821  0BF4  36 8B       	ld	(hl),0x8b
2822  0BF6  76          	halt
2823  0BF7  DD 7E 05    	ld	a,(ix+5)
2824  0BFA  F5          	push	af
2825  0BFB  33          	inc	sp
2826  0BFC  DD 56 04    	ld	d,(ix+4)
2827  0BFF  1E 8B       	ld	e,0x8b
2828  0C01  D5          	push	de
2829  0C02  CD 00 00    	call	_NIRVANAP_drawT_callee
2830  0C05  ED 4B 00 00 	ld	bc,(_index1)
2831  0C09  03          	inc	bc
2832  0C0A  21 00 00    	ld	hl,_lvl_1
2833  0C0D  09          	add	hl,bc
2834  0C0E  4E          	ld	c,(hl)
2835  0C0F  DD 46 05    	ld	b,(ix+5)
2836  0C12  04          	inc	b
2837  0C13  79          	ld	a,c
2838  0C14  D6 A9       	sub	a,0xa9
2839  0C16  20 0C       	jr	NZ,l_game_freeze_00102
2840  0C18  C5          	push	bc
2841  0C19  DD 4E 04    	ld	c,(ix+4)
2842  0C1C  C5          	push	bc
2843  0C1D  AF          	xor	a, a
2844  0C1E  F5          	push	af
2845  0C1F  33          	inc	sp
2846  0C20  CD 00 00    	call	_NIRVANAP_fillT_callee
2847  0C23  C1          	pop	bc
2848  0C24              l_game_freeze_00102:
2849  0C24  DD 4E 04    	ld	c,(ix+4)
2850  0C27  C5          	push	bc
2851  0C28  CD CE 0B    	call	_game_freeze
2852  0C2B  F1          	pop	af
2853  0C2C  DD 46 05    	ld	b,(ix+5)
2854  0C2F  05          	dec	b
2855  0C30  DD 4E 04    	ld	c,(ix+4)
2856  0C33  C5          	push	bc
2857  0C34  CD CE 0B    	call	_game_freeze
2858  0C37  F1          	pop	af
2859  0C38              l_game_freeze_00107:
2860  0C38  DD E1       	pop	ix
2861  0C3A  C9          	ret
2862  0C3B              	SECTION code_compiler
2863  0C3B              ;	---------------------------------
2864  0C3B              ; Function game_unfreeze_all
2865  0C3B              ; ---------------------------------
2866  0C3B              _game_unfreeze_all:
2867  0C3B  21 C0 00    	ld	hl,0x00c0
2868  0C3E  22 00 00    	ld	(_index1),hl
2869  0C41              l_game_unfreeze_all_00104:
2870  0C41  01 00 00    	ld	bc,_lvl_1
2871  0C44  2A 00 00    	ld	hl,(_index1)
2872  0C47  09          	add	hl,bc
2873  0C48  7E          	ld	a,(hl)
2874  0C49  D6 8B       	sub	a,0x8b
2875  0C4B  20 02       	jr	NZ,l_game_unfreeze_all_00105
2876  0C4D  36 84       	ld	(hl),0x84
2877  0C4F              l_game_unfreeze_all_00105:
2878  0C4F  21 00 00    	ld	hl,_index1
2879  0C52  34          	inc	(hl)
2880  0C53  20 02       	jr	NZ,l_game_unfreeze_all_00118
2881  0C55  23          	inc	hl
2882  0C56  34          	inc	(hl)
2883  0C57              l_game_unfreeze_all_00118:
2884  0C57  3E 20       	ld	a,0x20
2885  0C59  21 00 00    	ld	hl,_index1
2886  0C5C  BE          	cp	a, (hl)
2887  0C5D  3E 02       	ld	a,0x02
2888  0C5F  23          	inc	hl
2889  0C60  9E          	sbc	a, (hl)
2890  0C61  30 DE       	jr	NC,l_game_unfreeze_all_00104
2891  0C63  C9          	ret
2892  0C64              	SECTION code_compiler
2893  0C64              ;	---------------------------------
2894  0C64              ; Function game_freeze_all
2895  0C64              ; ---------------------------------
2896  0C64              _game_freeze_all:
2897  0C64  21 C0 00    	ld	hl,0x00c0
2898  0C67  22 00 00    	ld	(_index1),hl
2899  0C6A              l_game_freeze_all_00104:
2900  0C6A  01 00 00    	ld	bc,_lvl_1
2901  0C6D  2A 00 00    	ld	hl,(_index1)
2902  0C70  09          	add	hl,bc
2903  0C71  7E          	ld	a,(hl)
2904  0C72  D6 84       	sub	a,0x84
2905  0C74  20 02       	jr	NZ,l_game_freeze_all_00105
2906  0C76  36 8B       	ld	(hl),0x8b
2907  0C78              l_game_freeze_all_00105:
2908  0C78  21 00 00    	ld	hl,_index1
2909  0C7B  34          	inc	(hl)
2910  0C7C  20 02       	jr	NZ,l_game_freeze_all_00118
2911  0C7E  23          	inc	hl
2912  0C7F  34          	inc	(hl)
2913  0C80              l_game_freeze_all_00118:
2914  0C80  3E 20       	ld	a,0x20
2915  0C82  21 00 00    	ld	hl,_index1
2916  0C85  BE          	cp	a, (hl)
2917  0C86  3E 02       	ld	a,0x02
2918  0C88  23          	inc	hl
2919  0C89  9E          	sbc	a, (hl)
2920  0C8A  30 DE       	jr	NC,l_game_freeze_all_00104
2921  0C8C  C9          	ret
2922  0C8D              	SECTION code_compiler
2923  0C8D              ;	---------------------------------
2924  0C8D              ; Function game_print_score
2925  0C8D              ; ---------------------------------
2926  0C8D              _game_print_score:
2927  0C8D  21 00 00    	ld	hl,_screen_ink
2928  0C90  36 07       	ld	(hl),0x07
2929  0C92  21 00 00    	ld	hl,_screen_paper
2930  0C95  36 00       	ld	(hl),0x00
2931  0C97  2A 00 00    	ld	hl,(_player_score)
2932  0C9A  E5          	push	hl
2933  0C9B  21 00 03    	ld	hl,0x0300
2934  0C9E  E5          	push	hl
2935  0C9F  CD 00 00    	call	_zx_print_int
2936  0CA2  2A 00 00    	ld	hl,(_game_score_top)
2937  0CA5  E5          	push	hl
2938  0CA6  21 00 0E    	ld	hl,0x0e00
2939  0CA9  E5          	push	hl
2940  0CAA  CD 00 00    	call	_zx_print_int
2941  0CAD  3A 00 00    	ld	a,(_game_two_player)
2942  0CB0  B7          	or	a, a
2943  0CB1  C8          	ret	Z
2944  0CB2  2A 02 00    	ld	hl, (_player_score + 2)
2945  0CB5  E5          	push	hl
2946  0CB6  21 00 18    	ld	hl,0x1800
2947  0CB9  E5          	push	hl
2948  0CBA  CD 00 00    	call	_zx_print_int
2949  0CBD  C9          	ret
2950  0CBE              	SECTION code_compiler
2951  0CBE              ;	---------------------------------
2952  0CBE              ; Function game_paint_attrib
2953  0CBE              ; ---------------------------------
2954  0CBE              _game_paint_attrib:
2955  0CBE  7D          	ld	a,l
2956  0CBF  32 00 00    	ld	(_tmp0),a
2957  0CC2              l_game_paint_attrib_00103:
2958  0CC2  3E 13       	ld	a,0x13
2959  0CC4  21 00 00    	ld	hl,_tmp0
2960  0CC7  96          	sub	a, (hl)
2961  0CC8  D8          	ret	C
2962  0CC9  7E          	ld	a,(hl)
2963  0CCA  07          	rlca
2964  0CCB  07          	rlca
2965  0CCC  07          	rlca
2966  0CCD  E6 F8       	and	a,0xf8
2967  0CCF  C6 08       	add	a,0x08
2968  0CD1  F5          	push	af
2969  0CD2  33          	inc	sp
2970  0CD3  21 01 1F    	ld	hl,0x1f01
2971  0CD6  E5          	push	hl
2972  0CD7  CD E2 0C    	call	_game_paint_attrib_lin
2973  0CDA  F1          	pop	af
2974  0CDB  33          	inc	sp
2975  0CDC  21 00 00    	ld	hl,_tmp0
2976  0CDF  34          	inc	(hl)
2977  0CE0  18 E0       	jr	l_game_paint_attrib_00103
2978  0CE2              	SECTION code_compiler
2979  0CE2              ;	---------------------------------
2980  0CE2              ; Function game_paint_attrib_lin
2981  0CE2              ; ---------------------------------
2982  0CE2              _game_paint_attrib_lin:
2983  0CE2  CD 00 00    	call	___sdcc_enter_ix
2984  0CE5  DD 7E 04    	ld	a,(ix+4)
2985  0CE8  32 00 00    	ld	(_tmp_uc),a
2986  0CEB              l_game_paint_attrib_lin_00103:
2987  0CEB  21 00 00    	ld	hl,_tmp_uc
2988  0CEE  7E          	ld	a,(hl)
2989  0CEF  DD 96 05    	sub	a,(ix+5)
2990  0CF2  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2991  0CF4  66          	ld	h,(hl)
2992  0CF5  DD 6E 06    	ld	l,(ix+6)
2993  0CF8  E5          	push	hl
2994  0CF9  21 00 00    	ld	hl,_attrib
2995  0CFC  E5          	push	hl
2996  0CFD  CD 00 00    	call	_NIRVANAP_paintC_callee
2997  0D00  21 00 00    	ld	hl,_tmp_uc
2998  0D03  34          	inc	(hl)
2999  0D04  18 E5       	jr	l_game_paint_attrib_lin_00103
3000  0D06              l_game_paint_attrib_lin_00105:
3001  0D06  DD E1       	pop	ix
3002  0D08  C9          	ret
3003  0D09              	SECTION code_compiler
3004  0D09              ;	---------------------------------
3005  0D09              ; Function game_paint_attrib_lin_h
3006  0D09              ; ---------------------------------
3007  0D09              _game_paint_attrib_lin_h:
3008  0D09  CD 00 00    	call	___sdcc_enter_ix
3009  0D0C  DD 7E 04    	ld	a,(ix+4)
3010  0D0F  32 00 00    	ld	(_tmp_uc),a
3011  0D12              l_game_paint_attrib_lin_h_00103:
3012  0D12  21 00 00    	ld	hl,_tmp_uc
3013  0D15  7E          	ld	a,(hl)
3014  0D16  DD 96 05    	sub	a,(ix+5)
3015  0D19  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3016  0D1B  66          	ld	h,(hl)
3017  0D1C  DD 6E 06    	ld	l,(ix+6)
3018  0D1F  E5          	push	hl
3019  0D20  21 00 00    	ld	hl,_attrib_hl
3020  0D23  E5          	push	hl
3021  0D24  CD 00 00    	call	_NIRVANAP_paintC_callee
3022  0D27  21 00 00    	ld	hl,_tmp_uc
3023  0D2A  34          	inc	(hl)
3024  0D2B  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3025  0D2D              l_game_paint_attrib_lin_h_00105:
3026  0D2D  DD E1       	pop	ix
3027  0D2F  C9          	ret
3028  0D30              	SECTION code_compiler
3029  0D30              ;	---------------------------------
3030  0D30              ; Function game_menu_config
3031  0D30              ; ---------------------------------
3032  0D30              _game_menu_config:
3033  0D30  CD 00 00    	call	___sdcc_enter_ix
3034  0D33  F5          	push	af
3035  0D34  3B          	dec	sp
3036  0D35  2E 0B       	ld	l,0x0b
3037  0D37  CD BE 0C    	call	_game_paint_attrib
3038  0D3A  DD 36 FD 01 	ld	(ix-3),0x01
3039  0D3E              l_game_menu_config_00116:
3040  0D3E  DD 7E FD    	ld	a,(ix-3)
3041  0D41  B7          	or	a, a
3042  0D42  CA 9C 0E    	jp	Z,l_game_menu_config_00119
3043  0D45              l_game_menu_config_00101:
3044  0D45  21 00 00    	ld	hl,_k1
3045  0D48  E5          	push	hl
3046  0D49  2A 00 00    	ld	hl,(_joyfunc1)
3047  0D4C  CD 00 00    	call	___sdcc_call_hl
3048  0D4F  F1          	pop	af
3049  0D50  7C          	ld	a,h
3050  0D51  B5          	or	a,l
3051  0D52  20 F1       	jr	NZ,l_game_menu_config_00101
3052  0D54  3A 00 00    	ld	a,(_spec128)
3053  0D57  B7          	or	a,a
3054  0D58  28 0A       	jr	Z,l_game_menu_config_00121
3055  0D5A  DD 36 FE D5 	ld	(ix-2),+((___str_25) & 0xFF)
3056  0D5E  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3057  0D62  18 08       	jr	l_game_menu_config_00122
3058  0D64              l_game_menu_config_00121:
3059  0D64  DD 36 FE E0 	ld	(ix-2),+((___str_26) & 0xFF)
3060  0D68  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3061  0D6C              l_game_menu_config_00122:
3062  0D6C  DD 4E FE    	ld	c,(ix-2)
3063  0D6F  DD 46 FF    	ld	b,(ix-1)
3064  0D72  C5          	push	bc
3065  0D73  21 0E 0A    	ld	hl,0x0a0e
3066  0D76  E5          	push	hl
3067  0D77  CD 00 00    	call	_zx_print_str
3068  0D7A  21 EB 00    	ld	hl,___str_27
3069  0D7D  E5          	push	hl
3070  0D7E  21 0F 0A    	ld	hl,0x0a0f
3071  0D81  E5          	push	hl
3072  0D82  CD 00 00    	call	_zx_print_str
3073  0D85  21 F6 00    	ld	hl,___str_28
3074  0D88  E5          	push	hl
3075  0D89  21 10 0A    	ld	hl,0x0a10
3076  0D8C  E5          	push	hl
3077  0D8D  CD 00 00    	call	_zx_print_str
3078  0D90  21 01 01    	ld	hl,___str_29
3079  0D93  E5          	push	hl
3080  0D94  21 11 0A    	ld	hl,0x0a11
3081  0D97  E5          	push	hl
3082  0D98  CD 00 00    	call	_zx_print_str
3083  0D9B  21 0C 01    	ld	hl,___str_30
3084  0D9E  E5          	push	hl
3085  0D9F  21 12 0A    	ld	hl,0x0a12
3086  0DA2  E5          	push	hl
3087  0DA3  CD 00 00    	call	_zx_print_str
3088  0DA6  3A 00 00    	ld	a,(_game_sound)
3089  0DA9  E6 05       	and	a,0x05
3090  0DAB  28 05       	jr	Z,l_game_menu_config_00123
3091  0DAD  01 17 01    	ld	bc,___str_31
3092  0DB0  18 03       	jr	l_game_menu_config_00124
3093  0DB2              l_game_menu_config_00123:
3094  0DB2  01 1B 01    	ld	bc,___str_32
3095  0DB5              l_game_menu_config_00124:
3096  0DB5  C5          	push	bc
3097  0DB6  21 0E 14    	ld	hl,0x140e
3098  0DB9  E5          	push	hl
3099  0DBA  CD 00 00    	call	_zx_print_str
3100  0DBD  3E 02       	ld	a,0x02
3101  0DBF  21 00 00    	ld	hl,_game_type
3102  0DC2  96          	sub	a, (hl)
3103  0DC3  38 34       	jr	C,l_game_menu_config_00107
3104  0DC5  5E          	ld	e,(hl)
3105  0DC6  16 00       	ld	d,0x00
3106  0DC8  21 CE 0D    	ld	hl,l_game_menu_config_00164
3107  0DCB  19          	add	hl,de
3108  0DCC  19          	add	hl,de
3109  0DCD  E9          	jp	(hl)
3110  0DCE              l_game_menu_config_00164:
3111  0DCE  18 04       	jr	l_game_menu_config_00104
3112  0DD0  18 0F       	jr	l_game_menu_config_00105
3113  0DD2  18 1A       	jr	l_game_menu_config_00106
3114  0DD4              l_game_menu_config_00104:
3115  0DD4  21 1F 01    	ld	hl,___str_33
3116  0DD7  E5          	push	hl
3117  0DD8  21 0F 14    	ld	hl,0x140f
3118  0DDB  E5          	push	hl
3119  0DDC  CD 00 00    	call	_zx_print_str
3120  0DDF  18 18       	jr	l_game_menu_config_00107
3121  0DE1              l_game_menu_config_00105:
3122  0DE1  21 23 01    	ld	hl,___str_34
3123  0DE4  E5          	push	hl
3124  0DE5  21 0F 14    	ld	hl,0x140f
3125  0DE8  E5          	push	hl
3126  0DE9  CD 00 00    	call	_zx_print_str
3127  0DEC  18 0B       	jr	l_game_menu_config_00107
3128  0DEE              l_game_menu_config_00106:
3129  0DEE  21 27 01    	ld	hl,___str_35
3130  0DF1  E5          	push	hl
3131  0DF2  21 0F 14    	ld	hl,0x140f
3132  0DF5  E5          	push	hl
3133  0DF6  CD 00 00    	call	_zx_print_str
3134  0DF9              l_game_menu_config_00107:
3135  0DF9  2A 00 00    	ld	hl,(_player_joy)
3136  0DFC  29          	add	hl, hl
3137  0DFD  11 00 00    	ld	de,_joynames
3138  0E00  19          	add	hl,de
3139  0E01  4E          	ld	c,(hl)
3140  0E02  23          	inc	hl
3141  0E03  46          	ld	b,(hl)
3142  0E04  C5          	push	bc
3143  0E05  21 10 14    	ld	hl,0x1410
3144  0E08  E5          	push	hl
3145  0E09  CD 00 00    	call	_zx_print_str
3146  0E0C  2A 02 00    	ld	hl, (_player_joy + 2)
3147  0E0F  29          	add	hl, hl
3148  0E10  11 00 00    	ld	de,_joynames
3149  0E13  19          	add	hl,de
3150  0E14  4E          	ld	c,(hl)
3151  0E15  23          	inc	hl
3152  0E16  46          	ld	b,(hl)
3153  0E17  C5          	push	bc
3154  0E18  21 11 14    	ld	hl,0x1411
3155  0E1B  E5          	push	hl
3156  0E1C  CD 00 00    	call	_zx_print_str
3157  0E1F  21 00 00    	ld	hl,0x0000
3158  0E22  E5          	push	hl
3159  0E23  21 0E 12    	ld	hl,0x120e
3160  0E26  E5          	push	hl
3161  0E27  21 0A 01    	ld	hl,0x010a
3162  0E2A  E5          	push	hl
3163  0E2B  CD 5A 11    	call	_game_menu_handle
3164  0E2E  F1          	pop	af
3165  0E2F  F1          	pop	af
3166  0E30  F1          	pop	af
3167  0E31  7D          	ld	a,l
3168  0E32  32 00 00    	ld	(_game_menu_sel),a
3169  0E35  21 00 00    	ld	hl,_ay_effect_10
3170  0E38  CD 00 00    	call	_ay_fx_play
3171  0E3B  CD 00 00    	call	_sound_coin
3172  0E3E  3E 04       	ld	a,0x04
3173  0E40  21 00 00    	ld	hl,_game_menu_sel
3174  0E43  96          	sub	a, (hl)
3175  0E44  DA 3E 0D    	jp	C,l_game_menu_config_00116
3176  0E47  5E          	ld	e,(hl)
3177  0E48  16 00       	ld	d,0x00
3178  0E4A  21 50 0E    	ld	hl,l_game_menu_config_00165
3179  0E4D  19          	add	hl,de
3180  0E4E  19          	add	hl,de
3181  0E4F  E9          	jp	(hl)
3182  0E50              l_game_menu_config_00165:
3183  0E50  18 08       	jr	l_game_menu_config_00108
3184  0E52  18 1A       	jr	l_game_menu_config_00109
3185  0E54  18 27       	jr	l_game_menu_config_00112
3186  0E56  18 2D       	jr	l_game_menu_config_00113
3187  0E58  18 33       	jr	l_game_menu_config_00114
3188  0E5A              l_game_menu_config_00108:
3189  0E5A  3A 00 00    	ld	a,(_spec128)
3190  0E5D  B7          	or	a, a
3191  0E5E  28 04       	jr	Z,l_game_menu_config_00125
3192  0E60  3E 04       	ld	a,0x04
3193  0E62  18 02       	jr	l_game_menu_config_00126
3194  0E64              l_game_menu_config_00125:
3195  0E64  3E 01       	ld	a,0x01
3196  0E66              l_game_menu_config_00126:
3197  0E66  21 00 00    	ld	hl,_game_sound
3198  0E69  AE          	xor	a, (hl)
3199  0E6A  77          	ld	(hl),a
3200  0E6B  C3 3E 0D    	jp	l_game_menu_config_00116
3201  0E6E              l_game_menu_config_00109:
3202  0E6E  21 00 00    	ld	hl,_game_type
3203  0E71  34          	inc	(hl)
3204  0E72  3E 02       	ld	a,0x02
3205  0E74  96          	sub	a, (hl)
3206  0E75  D2 3E 0D    	jp	NC,l_game_menu_config_00116
3207  0E78  36 00       	ld	(hl),0x00
3208  0E7A  C3 3E 0D    	jp	l_game_menu_config_00116
3209  0E7D              l_game_menu_config_00112:
3210  0E7D  2E 00       	ld	l,0x00
3211  0E7F  CD A1 0E    	call	_game_joystick_change
3212  0E82  C3 3E 0D    	jp	l_game_menu_config_00116
3213  0E85              l_game_menu_config_00113:
3214  0E85  2E 01       	ld	l,0x01
3215  0E87  CD A1 0E    	call	_game_joystick_change
3216  0E8A  C3 3E 0D    	jp	l_game_menu_config_00116
3217  0E8D              l_game_menu_config_00114:
3218  0E8D  21 00 00    	ld	hl,_game_menu_sel
3219  0E90  36 00       	ld	(hl),0x00
3220  0E92  CD 27 10    	call	_game_menu_paint
3221  0E95  DD 36 FD 00 	ld	(ix-3),0x00
3222  0E99  C3 3E 0D    	jp	l_game_menu_config_00116
3223  0E9C              l_game_menu_config_00119:
3224  0E9C  DD F9       	ld	sp, ix
3225  0E9E  DD E1       	pop	ix
3226  0EA0  C9          	ret
3227  0EA1              	SECTION rodata_compiler
3228  00D5              ___str_25:
3229  00D5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3230  00DF  00          	DEFB 0x00
3231  00E0              	SECTION rodata_compiler
3232  00E0              ___str_26:
3233  00E0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3234  00EA  00          	DEFB 0x00
3235  00EB              	SECTION rodata_compiler
3236  00EB              ___str_27:
3237  00EB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3238  00F5  00          	DEFB 0x00
3239  00F6              	SECTION rodata_compiler
3240  00F6              ___str_28:
3241  00F6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3242  0100  00          	DEFB 0x00
3243  0101              	SECTION rodata_compiler
3244  0101              ___str_29:
3245  0101  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3246  010B  00          	DEFB 0x00
3247  010C              	SECTION rodata_compiler
3248  010C              ___str_30:
3249  010C  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3250  0116  00          	DEFB 0x00
3251  0117              	SECTION rodata_compiler
3252  0117              ___str_31:
3253  0117  4F 4E 20    	DEFM "ON "
3254  011A  00          	DEFB 0x00
3255  011B              	SECTION rodata_compiler
3256  011B              ___str_32:
3257  011B  4F 46 46    	DEFM "OFF"
3258  011E  00          	DEFB 0x00
3259  011F              	SECTION rodata_compiler
3260  011F              ___str_33:
3261  011F  41 20 20    	DEFM "A  "
3262  0122  00          	DEFB 0x00
3263  0123              	SECTION rodata_compiler
3264  0123              ___str_34:
3265  0123  42 20 20    	DEFM "B  "
3266  0126  00          	DEFB 0x00
3267  0127              	SECTION rodata_compiler
3268  0127              ___str_35:
3269  0127  52 4E 44    	DEFM "RND"
3270  012A  00          	DEFB 0x00
3271  012B              	SECTION code_compiler
3272  0EA1              ;	---------------------------------
3273  0EA1              ; Function game_joystick_change
3274  0EA1              ; ---------------------------------
3275  0EA1              _game_joystick_change:
3276  0EA1  CD 00 00    	call	___sdcc_enter_ix
3277  0EA4  3B          	dec	sp
3278  0EA5  DD 75 FF    	ld	(ix-1),l
3279  0EA8  26 00       	ld	h,0x00
3280  0EAA  29          	add	hl, hl
3281  0EAB  01 00 00    	ld	bc,_player_joy
3282  0EAE  09          	add	hl,bc
3283  0EAF  5E          	ld	e,(hl)
3284  0EB0  4D          	ld	c,l
3285  0EB1  44          	ld	b,h
3286  0EB2  23          	inc	hl
3287  0EB3  56          	ld	d,(hl)
3288  0EB4  13          	inc	de
3289  0EB5  69          	ld	l, c
3290  0EB6  60          	ld	h, b
3291  0EB7  73          	ld	(hl),e
3292  0EB8  23          	inc	hl
3293  0EB9  72          	ld	(hl),d
3294  0EBA  7B          	ld	a,e
3295  0EBB  D6 07       	sub	a,0x07
3296  0EBD  20 09       	jr	NZ,l_game_joystick_change_00102
3297  0EBF  B2          	or	a,d
3298  0EC0  20 06       	jr	NZ,l_game_joystick_change_00102
3299  0EC2  69          	ld	l, c
3300  0EC3  60          	ld	h, b
3301  0EC4  AF          	xor	a, a
3302  0EC5  77          	ld	(hl), a
3303  0EC6  23          	inc	hl
3304  0EC7  77          	ld	(hl), a
3305  0EC8              l_game_joystick_change_00102:
3306  0EC8  DD 7E FF    	ld	a,(ix-1)
3307  0ECB  B7          	or	a, a
3308  0ECC  20 15       	jr	NZ,l_game_joystick_change_00104
3309  0ECE  69          	ld	l, c
3310  0ECF  60          	ld	h, b
3311  0ED0  5E          	ld	e,(hl)
3312  0ED1  23          	inc	hl
3313  0ED2  56          	ld	d,(hl)
3314  0ED3  1D          	dec	e
3315  0ED4  20 0D       	jr	NZ,l_game_joystick_change_00104
3316  0ED6  7A          	ld	a,d
3317  0ED7  B7          	or	a, a
3318  0ED8  20 09       	jr	NZ,l_game_joystick_change_00104
3319  0EDA  ED 5B 00 00 	ld	de,(_player_joy)
3320  0EDE  13          	inc	de
3321  0EDF  ED 53 00 00 	ld	(_player_joy), de
3322  0EE3              l_game_joystick_change_00104:
3323  0EE3  DD 7E FF    	ld	a,(ix-1)
3324  0EE6  3D          	dec	a
3325  0EE7  20 11       	jr	NZ,l_game_joystick_change_00107
3326  0EE9  69          	ld	l, c
3327  0EEA  60          	ld	h, b
3328  0EEB  4E          	ld	c,(hl)
3329  0EEC  23          	inc	hl
3330  0EED  7E          	ld	a, (hl)
3331  0EEE  B1          	or	a,c
3332  0EEF  20 09       	jr	NZ,l_game_joystick_change_00107
3333  0EF1  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3334  0EF5  03          	inc	bc
3335  0EF6  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3336  0EFA              l_game_joystick_change_00107:
3337  0EFA  ED 4B 00 00 	ld	bc,(_player_joy)
3338  0EFE  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3339  0F02  79          	ld	a,c
3340  0F03  93          	sub	a, e
3341  0F04  20 18       	jr	NZ,l_game_joystick_change_00114
3342  0F06  78          	ld	a,b
3343  0F07  92          	sub	a, d
3344  0F08  20 14       	jr	NZ,l_game_joystick_change_00114
3345  0F0A  DD 7E FF    	ld	a,(ix-1)
3346  0F0D  B7          	or	a, a
3347  0F0E  20 08       	jr	NZ,l_game_joystick_change_00110
3348  0F10  21 01 00    	ld	hl,0x0001
3349  0F13  22 02 00    	ld	(_player_joy + 0x0002),hl
3350  0F16  18 06       	jr	l_game_joystick_change_00114
3351  0F18              l_game_joystick_change_00110:
3352  0F18  21 00 00    	ld	hl,0x0000
3353  0F1B  22 00 00    	ld	(_player_joy), hl
3354  0F1E              l_game_joystick_change_00114:
3355  0F1E  33          	inc	sp
3356  0F1F  DD E1       	pop	ix
3357  0F21  C9          	ret
3358  0F22              	SECTION code_compiler
3359  0F22              ;	---------------------------------
3360  0F22              ; Function game_joystick_set_menu
3361  0F22              ; ---------------------------------
3362  0F22              _game_joystick_set_menu:
3363  0F22  21 00 00    	ld	hl,_in_stick_sinclair1
3364  0F25  22 00 00    	ld	(_joyfunc1),hl
3365  0F28  21 00 00    	ld	hl,_in_stick_sinclair2
3366  0F2B  22 00 00    	ld	(_joyfunc2),hl
3367  0F2E  C9          	ret
3368  0F2F              	SECTION code_compiler
3369  0F2F              ;	---------------------------------
3370  0F2F              ; Function game_joystick_set
3371  0F2F              ; ---------------------------------
3372  0F2F              _game_joystick_set:
3373  0F2F  01 00 00    	ld	bc,_control_method+0
3374  0F32  2A 00 00    	ld	hl,(_player_joy)
3375  0F35  29          	add	hl, hl
3376  0F36  09          	add	hl,bc
3377  0F37  11 00 00    	ld	de,_joyfunc1
3378  0F3A  ED A0       	ldi
3379  0F3C  03          	inc	bc
3380  0F3D  7E          	ld	a,(hl)
3381  0F3E  12          	ld	(de),a
3382  0F3F  2A 02 00    	ld	hl, (_player_joy + 2)
3383  0F42  29          	add	hl, hl
3384  0F43  09          	add	hl,bc
3385  0F44  11 00 00    	ld	de,_joyfunc2
3386  0F47  ED A0       	ldi
3387  0F49  7E          	ld	a,(hl)
3388  0F4A  12          	ld	(de),a
3389  0F4B  C9          	ret
3390  0F4C              	SECTION code_compiler
3391  0F4C              ;	---------------------------------
3392  0F4C              ; Function game_menu
3393  0F4C              ; ---------------------------------
3394  0F4C              _game_menu:
3395  0F4C  21 00 00    	ld	hl,_game_menu_sel
3396  0F4F  36 00       	ld	(hl),0x00
3397  0F51  CD B3 0F    	call	_game_menu_top_paint
3398  0F54  CD 27 10    	call	_game_menu_paint
3399  0F57  CD 00 00    	call	_ay_reset
3400  0F5A  21 00 00    	ld	hl,_pb_midi_title
3401  0F5D  CD 00 00    	call	_ay_midi_play
3402  0F60              l_game_menu_00101:
3403  0F60  21 00 00    	ld	hl,_k1
3404  0F63  E5          	push	hl
3405  0F64  2A 00 00    	ld	hl,(_joyfunc1)
3406  0F67  CD 00 00    	call	___sdcc_call_hl
3407  0F6A  F1          	pop	af
3408  0F6B  7C          	ld	a,h
3409  0F6C  B5          	or	a,l
3410  0F6D  20 F1       	jr	NZ,l_game_menu_00101
3411  0F6F  21 E8 03    	ld	hl,0x03e8
3412  0F72  E5          	push	hl
3413  0F73  21 0E 12    	ld	hl,0x120e
3414  0F76  E5          	push	hl
3415  0F77  21 0C 02    	ld	hl,0x020c
3416  0F7A  E5          	push	hl
3417  0F7B  CD 5A 11    	call	_game_menu_handle
3418  0F7E  F1          	pop	af
3419  0F7F  F1          	pop	af
3420  0F80  F1          	pop	af
3421  0F81  4D          	ld	c,l
3422  0F82  21 00 00    	ld	hl,_tmp_uc
3423  0F85  71          	ld	(hl),c
3424  0F86  3E 02       	ld	a,0x02
3425  0F88  96          	sub	a, (hl)
3426  0F89  38 D5       	jr	C,l_game_menu_00101
3427  0F8B  5E          	ld	e,(hl)
3428  0F8C  16 00       	ld	d,0x00
3429  0F8E  21 94 0F    	ld	hl,l_game_menu_00125
3430  0F91  19          	add	hl,de
3431  0F92  19          	add	hl,de
3432  0F93  E9          	jp	(hl)
3433  0F94              l_game_menu_00125:
3434  0F94  18 04       	jr	l_game_menu_00104
3435  0F96  18 0C       	jr	l_game_menu_00105
3436  0F98  18 14       	jr	l_game_menu_00106
3437  0F9A              l_game_menu_00104:
3438  0F9A  21 00 00    	ld	hl,_game_two_player
3439  0F9D  36 00       	ld	(hl),0x00
3440  0F9F  CD 2E 03    	call	_game_loop
3441  0FA2  18 BC       	jr	l_game_menu_00101
3442  0FA4              l_game_menu_00105:
3443  0FA4  21 00 00    	ld	hl,_game_two_player
3444  0FA7  36 01       	ld	(hl),0x01
3445  0FA9  CD 2E 03    	call	_game_loop
3446  0FAC  18 B2       	jr	l_game_menu_00101
3447  0FAE              l_game_menu_00106:
3448  0FAE  CD 30 0D    	call	_game_menu_config
3449  0FB1  18 AD       	jr	l_game_menu_00101
3450  0FB3              	SECTION code_compiler
3451  0FB3              ;	---------------------------------
3452  0FB3              ; Function game_menu_top_paint
3453  0FB3              ; ---------------------------------
3454  0FB3              _game_menu_top_paint:
3455  0FB3  CD 00 00    	call	_spr_draw_clear
3456  0FB6  2E 00       	ld	l,0x00
3457  0FB8  CD BE 0C    	call	_game_paint_attrib
3458  0FBB  21 9C 01    	ld	hl,0x019c
3459  0FBE  E5          	push	hl
3460  0FBF  21 00 1E    	ld	hl,0x1e00
3461  0FC2  E5          	push	hl
3462  0FC3  3E 10       	ld	a,0x10
3463  0FC5  F5          	push	af
3464  0FC6  33          	inc	sp
3465  0FC7  CD A7 10    	call	_game_menu_e
3466  0FCA  F1          	pop	af
3467  0FCB  33          	inc	sp
3468  0FCC  21 9F FF    	ld	hl,0xff9f
3469  0FCF  E3          	ex	(sp),hl
3470  0FD0  21 00 1E    	ld	hl,0x1e00
3471  0FD3  E5          	push	hl
3472  0FD4  3E 50       	ld	a,0x50
3473  0FD6  F5          	push	af
3474  0FD7  33          	inc	sp
3475  0FD8  CD A7 10    	call	_game_menu_e
3476  0FDB  F1          	pop	af
3477  0FDC  F1          	pop	af
3478  0FDD  33          	inc	sp
3479  0FDE  21 00 00    	ld	hl,_tmp
3480  0FE1  36 18       	ld	(hl),0x18
3481  0FE3  F3          	di
3482  0FE4  21 00 00    	ld	hl,_tmp_uc
3483  0FE7  36 00       	ld	(hl),0x00
3484  0FE9              l_game_menu_top_paint_00102:
3485  0FE9  3A 00 00    	ld	a,(_tmp_uc)
3486  0FEC  87          	add	a, a
3487  0FED  C6 05       	add	a,0x05
3488  0FEF  47          	ld	b,a
3489  0FF0  3A 00 00    	ld	a,(_tmp)
3490  0FF3  C6 10       	add	a,0x10
3491  0FF5  57          	ld	d,a
3492  0FF6  3A 00 00    	ld	a,(_tmp_uc)
3493  0FF9  C6 C0       	add	a,0xc0
3494  0FFB  4A          	ld	c, d
3495  0FFC  C5          	push	bc
3496  0FFD  F5          	push	af
3497  0FFE  33          	inc	sp
3498  0FFF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3499  1002  3A 00 00    	ld	a,(_tmp_uc)
3500  1005  87          	add	a, a
3501  1006  C6 05       	add	a,0x05
3502  1008  47          	ld	b,a
3503  1009  3A 00 00    	ld	a,(_tmp)
3504  100C  C6 20       	add	a,0x20
3505  100E  57          	ld	d,a
3506  100F  3A 00 00    	ld	a,(_tmp_uc)
3507  1012  C6 CC       	add	a,0xcc
3508  1014  4A          	ld	c, d
3509  1015  C5          	push	bc
3510  1016  F5          	push	af
3511  1017  33          	inc	sp
3512  1018  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3513  101B  21 00 00    	ld	hl,_tmp_uc
3514  101E  7E          	ld	a,(hl)
3515  101F  3C          	inc	a
3516  1020  77          	ld	(hl),a
3517  1021  D6 0A       	sub	a,0x0a
3518  1023  38 C4       	jr	C,l_game_menu_top_paint_00102
3519  1025  FB          	ei
3520  1026  C9          	ret
3521  1027              	SECTION code_compiler
3522  1027              ;	---------------------------------
3523  1027              ; Function game_menu_paint
3524  1027              ; ---------------------------------
3525  1027              _game_menu_paint:
3526  1027  76          	halt
3527  1028  3A 00 00    	ld	a,(_tmp)
3528  102B  C6 28       	add	a,0x28
3529  102D  4F          	ld	c, a
3530  102E  06 1A       	ld	b,0x1a
3531  1030  C5          	push	bc
3532  1031  3E 12       	ld	a,0x12
3533  1033  F5          	push	af
3534  1034  33          	inc	sp
3535  1035  CD 00 00    	call	_NIRVANAP_fillC_callee
3536  1038  21 00 20    	ld	hl,0x2000
3537  103B  E5          	push	hl
3538  103C  CD 00 00    	call	_game_fill_row
3539  103F  21 00 20    	ld	hl,0x2000
3540  1042  E5          	push	hl
3541  1043  CD 00 00    	call	_game_fill_row
3542  1046  21 2B 01    	ld	hl,___str_36
3543  1049  E5          	push	hl
3544  104A  21 0E 0A    	ld	hl,0x0a0e
3545  104D  E5          	push	hl
3546  104E  CD 00 00    	call	_zx_print_str
3547  1051  21 0F 20    	ld	hl,0x200f
3548  1054  E5          	push	hl
3549  1055  CD 00 00    	call	_game_fill_row
3550  1058  21 39 01    	ld	hl,___str_37
3551  105B  E5          	push	hl
3552  105C  21 10 0A    	ld	hl,0x0a10
3553  105F  E5          	push	hl
3554  1060  CD 00 00    	call	_zx_print_str
3555  1063  21 11 20    	ld	hl,0x2011
3556  1066  E5          	push	hl
3557  1067  CD 00 00    	call	_game_fill_row
3558  106A  21 47 01    	ld	hl,___str_38
3559  106D  E5          	push	hl
3560  106E  21 12 0A    	ld	hl,0x0a12
3561  1071  E5          	push	hl
3562  1072  CD 00 00    	call	_zx_print_str
3563  1075  21 13 20    	ld	hl,0x2013
3564  1078  E5          	push	hl
3565  1079  CD 00 00    	call	_game_fill_row
3566  107C  21 00 00    	ld	hl,_screen_ink
3567  107F  36 07       	ld	(hl),0x07
3568  1081  21 55 01    	ld	hl,___str_39
3569  1084  E5          	push	hl
3570  1085  21 16 07    	ld	hl,0x0716
3571  1088  E5          	push	hl
3572  1089  CD 00 00    	call	_zx_print_str
3573  108C  21 00 00    	ld	hl,_screen_ink
3574  108F  36 01       	ld	(hl),0x01
3575  1091  21 69 01    	ld	hl,___str_40
3576  1094  E5          	push	hl
3577  1095  21 17 03    	ld	hl,0x0317
3578  1098  E5          	push	hl
3579  1099  CD 00 00    	call	_zx_print_str
3580  109C  21 00 00    	ld	hl,_tmp_uc
3581  109F  36 00       	ld	(hl),0x00
3582  10A1  2E 0B       	ld	l,0x0b
3583  10A3  CD BE 0C    	call	_game_paint_attrib
3584  10A6  C9          	ret
3585  10A7              	SECTION rodata_compiler
3586  012B              ___str_36:
3587  012B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3588  0138  00          	DEFB 0x00
3589  0139              	SECTION rodata_compiler
3590  0139              ___str_37:
3591  0139  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3592  0146  00          	DEFB 0x00
3593  0147              	SECTION rodata_compiler
3594  0147              ___str_38:
3595  0147  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3596  0154  00          	DEFB 0x00
3597  0155              	SECTION rodata_compiler
3598  0155              ___str_39:
3599  0155  53 45 4C 45 43 54 3A 36 37 38 39 20 53 54 41 52 54 3A 30 
                        	DEFM "SELECT:6789 START:0"
3600  0168  00          	DEFB 0x00
3601  0169              	SECTION rodata_compiler
3602  0169              ___str_40:
3603  0169  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 20 56 45 52 20 31 2E 39 20 20 
                        	DEFM "CODED BY CGONZALEZ VER 1.9  "
3604  0185  00          	DEFB 0x00
3605  0186              	SECTION code_compiler
3606  10A7              ;	---------------------------------
3607  10A7              ; Function game_menu_e
3608  10A7              ; ---------------------------------
3609  10A7              _game_menu_e:
3610  10A7  CD 00 00    	call	___sdcc_enter_ix
3611  10AA  F3          	di
3612  10AB  DD 4E 05    	ld	c,(ix+5)
3613  10AE  21 00 00    	ld	hl,_tmp_uc
3614  10B1  71          	ld	(hl),c
3615  10B2  DD 46 07    	ld	b,(ix+7)
3616  10B5  04          	inc	b
3617  10B6  DD 56 07    	ld	d,(ix+7)
3618  10B9  14          	inc	d
3619  10BA  14          	inc	d
3620  10BB              l_game_menu_e_00114:
3621  10BB  DD 7E 06    	ld	a,(ix+6)
3622  10BE  21 00 00    	ld	hl,_tmp_uc
3623  10C1  96          	sub	a, (hl)
3624  10C2  38 56       	jr	C,l_game_menu_e_00109
3625  10C4  7E          	ld	a,(hl)
3626  10C5  91          	sub	a, c
3627  10C6  20 15       	jr	NZ,l_game_menu_e_00102
3628  10C8  3A 00 00    	ld	a,(_tmp_uc)
3629  10CB  C5          	push	bc
3630  10CC  D5          	push	de
3631  10CD  F5          	push	af
3632  10CE  33          	inc	sp
3633  10CF  DD 66 04    	ld	h,(ix+4)
3634  10D2  DD 6E 07    	ld	l,(ix+7)
3635  10D5  E5          	push	hl
3636  10D6  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3637  10D9  D1          	pop	de
3638  10DA  C1          	pop	bc
3639  10DB  18 36       	jr	l_game_menu_e_00108
3640  10DD              l_game_menu_e_00102:
3641  10DD  3A 00 00    	ld	a,(_tmp_uc)
3642  10E0  DD 96 06    	sub	a,(ix+6)
3643  10E3  20 14       	jr	NZ,l_game_menu_e_00104
3644  10E5  3A 00 00    	ld	a,(_tmp_uc)
3645  10E8  C5          	push	bc
3646  10E9  D5          	push	de
3647  10EA  F5          	push	af
3648  10EB  33          	inc	sp
3649  10EC  DD 7E 04    	ld	a,(ix+4)
3650  10EF  5A          	ld	e,d
3651  10F0  57          	ld	d,a
3652  10F1  D5          	push	de
3653  10F2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3654  10F5  D1          	pop	de
3655  10F6  C1          	pop	bc
3656  10F7  18 1A       	jr	l_game_menu_e_00108
3657  10F9              l_game_menu_e_00104:
3658  10F9  3A 00 00    	ld	a,(_tmp_uc)
3659  10FC  FE 0E       	cp	a,0x0e
3660  10FE  28 13       	jr	Z,l_game_menu_e_00108
3661  1100  FE 10       	cp	a,0x10
3662  1102  28 0F       	jr	Z,l_game_menu_e_00108
3663  1104  C5          	push	bc
3664  1105  D5          	push	de
3665  1106  F5          	push	af
3666  1107  33          	inc	sp
3667  1108  DD 7E 04    	ld	a,(ix+4)
3668  110B  48          	ld	c,b
3669  110C  47          	ld	b,a
3670  110D  C5          	push	bc
3671  110E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3672  1111  D1          	pop	de
3673  1112  C1          	pop	bc
3674  1113              l_game_menu_e_00108:
3675  1113  21 00 00    	ld	hl,_tmp_uc
3676  1116  34          	inc	(hl)
3677  1117  34          	inc	(hl)
3678  1118  18 A1       	jr	l_game_menu_e_00114
3679  111A              l_game_menu_e_00109:
3680  111A  DD 7E 08    	ld	a,(ix+8)
3681  111D  3C          	inc	a
3682  111E  20 0A       	jr	NZ,l_game_menu_e_00111
3683  1120  DD 7E 04    	ld	a,(ix+4)
3684  1123  C6 F0       	add	a,0xf0
3685  1125  DD 77 04    	ld	(ix+4),a
3686  1128  18 08       	jr	l_game_menu_e_00112
3687  112A              l_game_menu_e_00111:
3688  112A  DD 7E 04    	ld	a,(ix+4)
3689  112D  C6 10       	add	a,0x10
3690  112F  DD 77 04    	ld	(ix+4),a
3691  1132              l_game_menu_e_00112:
3692  1132  DD 7E 07    	ld	a,(ix+7)
3693  1135  C6 0C       	add	a,0x0c
3694  1137  47          	ld	b,a
3695  1138  79          	ld	a,c
3696  1139  F5          	push	af
3697  113A  33          	inc	sp
3698  113B  DD 7E 04    	ld	a,(ix+4)
3699  113E  48          	ld	c,b
3700  113F  47          	ld	b,a
3701  1140  C5          	push	bc
3702  1141  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3703  1144  DD 7E 07    	ld	a,(ix+7)
3704  1147  C6 0E       	add	a,0x0e
3705  1149  47          	ld	b,a
3706  114A  DD 66 06    	ld	h,(ix+6)
3707  114D  DD 6E 04    	ld	l,(ix+4)
3708  1150  E5          	push	hl
3709  1151  C5          	push	bc
3710  1152  33          	inc	sp
3711  1153  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3712  1156  FB          	ei
3713  1157  DD E1       	pop	ix
3714  1159  C9          	ret
3715  115A              	SECTION code_compiler
3716  115A              ;	---------------------------------
3717  115A              ; Function game_menu_handle
3718  115A              ; ---------------------------------
3719  115A              _game_menu_handle:
3720  115A  CD 00 00    	call	___sdcc_enter_ix
3721  115D  3B          	dec	sp
3722  115E  2A 00 00    	ld	hl,(_curr_time)
3723  1161  22 00 00    	ld	(_entry_time),hl
3724  1164  DD 5E 05    	ld	e,(ix+5)
3725  1167  2A FF FF    	ld	hl,(_game_menu_sel-1)
3726  116A  2E 00       	ld	l,0x00
3727  116C  55          	ld	d, l
3728  116D  06 08       	ld	b,0x08
3729  116F              l_game_menu_handle_00148:
3730  116F  29          	add	hl,hl
3731  1170  30 01       	jr	NC,l_game_menu_handle_00149
3732  1172  19          	add	hl,de
3733  1173              l_game_menu_handle_00149:
3734  1173  10 FA       	djnz	l_game_menu_handle_00148
3735  1175  DD 7E 06    	ld	a,(ix+6)
3736  1178  85          	add	a,l
3737  1179  32 00 00    	ld	(_s_lin1),a
3738  117C  DD 7E 06    	ld	a,(ix+6)
3739  117F  DD 77 FF    	ld	(ix-1),a
3740  1182              l_game_menu_handle_00111:
3741  1182  21 00 00    	ld	hl,_k1
3742  1185  E5          	push	hl
3743  1186  2A 00 00    	ld	hl,(_joyfunc1)
3744  1189  CD 00 00    	call	___sdcc_call_hl
3745  118C  F1          	pop	af
3746  118D  7D          	ld	a,l
3747  118E  32 00 00    	ld	(_dirs),a
3748  1191  D6 80       	sub	a,0x80
3749  1193  CA 35 12    	jp	Z,l_game_menu_handle_00113
3750  1196  21 05 00    	ld	hl,0x0005
3751  1199  E5          	push	hl
3752  119A  2A 00 00    	ld	hl,(_frame_time)
3753  119D  E5          	push	hl
3754  119E  CD 07 1A    	call	_game_check_time
3755  11A1  F1          	pop	af
3756  11A2  F1          	pop	af
3757  11A3  7D          	ld	a,l
3758  11A4  B7          	or	a, a
3759  11A5  28 58       	jr	Z,l_game_menu_handle_00106
3760  11A7  3A 00 00    	ld	a,(_dirs)
3761  11AA  B7          	or	a, a
3762  11AB  28 32       	jr	Z,l_game_menu_handle_00104
3763  11AD  21 00 00    	ld	hl,_ay_effect_03
3764  11B0  CD 00 00    	call	_ay_fx_play
3765  11B3  CD 00 00    	call	_sound_slide
3766  11B6  3A 00 00    	ld	a,(_s_lin1)
3767  11B9  07          	rlca
3768  11BA  07          	rlca
3769  11BB  07          	rlca
3770  11BC  E6 F8       	and	a,0xf8
3771  11BE  C6 08       	add	a,0x08
3772  11C0  F5          	push	af
3773  11C1  33          	inc	sp
3774  11C2  26 14       	ld	h,0x14
3775  11C4  DD 6E 04    	ld	l,(ix+4)
3776  11C7  E5          	push	hl
3777  11C8  CD E2 0C    	call	_game_paint_attrib_lin
3778  11CB  F1          	pop	af
3779  11CC  33          	inc	sp
3780  11CD  21 00 00    	ld	hl,_s_lin1
3781  11D0  7E          	ld	a,(hl)
3782  11D1  DD 86 05    	add	a,(ix+5)
3783  11D4  77          	ld	(hl),a
3784  11D5  DD 7E 07    	ld	a,(ix+7)
3785  11D8  96          	sub	a, (hl)
3786  11D9  30 04       	jr	NC,l_game_menu_handle_00104
3787  11DB  DD 7E FF    	ld	a,(ix-1)
3788  11DE  77          	ld	(hl),a
3789  11DF              l_game_menu_handle_00104:
3790  11DF  2A 00 00    	ld	hl,(_curr_time)
3791  11E2  22 00 00    	ld	(_frame_time),hl
3792  11E5  3A 00 00    	ld	a,(_s_lin1)
3793  11E8  07          	rlca
3794  11E9  07          	rlca
3795  11EA  07          	rlca
3796  11EB  E6 F8       	and	a,0xf8
3797  11ED  C6 08       	add	a,0x08
3798  11EF  F5          	push	af
3799  11F0  33          	inc	sp
3800  11F1  26 14       	ld	h,0x14
3801  11F3  DD 6E 04    	ld	l,(ix+4)
3802  11F6  E5          	push	hl
3803  11F7  CD 09 0D    	call	_game_paint_attrib_lin_h
3804  11FA  F1          	pop	af
3805  11FB  33          	inc	sp
3806  11FC  CD 59 19    	call	_game_rotate_attrib
3807  11FF              l_game_menu_handle_00106:
3808  11FF  DD 7E 09    	ld	a,(ix+9)
3809  1202  DD B6 08    	or	a,(ix+8)
3810  1205  CA 82 11    	jp	Z,l_game_menu_handle_00111
3811  1208  DD 6E 08    	ld	l,(ix+8)
3812  120B  DD 66 09    	ld	h,(ix+9)
3813  120E  E5          	push	hl
3814  120F  2A 00 00    	ld	hl,(_entry_time)
3815  1212  E5          	push	hl
3816  1213  CD 07 1A    	call	_game_check_time
3817  1216  F1          	pop	af
3818  1217  F1          	pop	af
3819  1218  7D          	ld	a,l
3820  1219  B7          	or	a, a
3821  121A  CA 82 11    	jp	Z,l_game_menu_handle_00111
3822  121D  CD 00 00    	call	_ay_is_playing
3823  1220  7D          	ld	a,l
3824  1221  B7          	or	a, a
3825  1222  C2 82 11    	jp	NZ,l_game_menu_handle_00111
3826  1225  CD 88 18    	call	_game_hall_of_fame
3827  1228  21 00 00    	ld	hl,_game_menu_sel
3828  122B  2E 00       	ld	l,0x00
3829  122D  75          	ld	(hl),l
3830  122E  CD 87 16    	call	_game_menu_back
3831  1231  2E FF       	ld	l,0xff
3832  1233  18 10       	jr	l_game_menu_handle_00114
3833  1235              l_game_menu_handle_00113:
3834  1235  3A 00 00    	ld	a,(_s_lin1)
3835  1238  DD 96 FF    	sub	a,(ix-1)
3836  123B  47          	ld	b,a
3837  123C  DD 7E 05    	ld	a,(ix+5)
3838  123F  48          	ld	c,b
3839  1240  47          	ld	b,a
3840  1241  C5          	push	bc
3841  1242  CD 00 00    	call	__divuchar_callee
3842  1245              l_game_menu_handle_00114:
3843  1245  33          	inc	sp
3844  1246  DD E1       	pop	ix
3845  1248  C9          	ret
3846  1249              	SECTION code_compiler
3847  1249              ;	---------------------------------
3848  1249              ; Function game_end
3849  1249              ; ---------------------------------
3850  1249              _game_end:
3851  1249  CD 00 00    	call	___sdcc_enter_ix
3852  124C  F5          	push	af
3853  124D  F5          	push	af
3854  124E  CD 00 00    	call	_spr_kill_all
3855  1251  CD 00 00    	call	_spr_draw_clear
3856  1254  21 00 00    	ld	hl,_pb_midi_title
3857  1257  CD 00 00    	call	_ay_midi_play
3858  125A  21 00 00    	ld	hl,_tmp1
3859  125D  36 50       	ld	(hl),0x50
3860  125F              l_game_end_00102:
3861  125F  3E 70       	ld	a,0x70
3862  1261  21 00 00    	ld	hl,_tmp1
3863  1264  96          	sub	a, (hl)
3864  1265  38 28       	jr	C,l_game_end_00104
3865  1267  21 00 00    	ld	hl,_tmp0
3866  126A  36 04       	ld	(hl),0x04
3867  126C              l_game_end_00130:
3868  126C  3A 00 00    	ld	a,(_tmp0)
3869  126F  F5          	push	af
3870  1270  33          	inc	sp
3871  1271  3A 00 00    	ld	a,(_tmp1)
3872  1274  57          	ld	d,a
3873  1275  1E 8F       	ld	e,0x8f
3874  1277  D5          	push	de
3875  1278  CD 00 00    	call	_NIRVANAP_drawT_callee
3876  127B  21 00 00    	ld	hl,_tmp0
3877  127E  7E          	ld	a,(hl)
3878  127F  C6 02       	add	a,0x02
3879  1281  77          	ld	(hl),a
3880  1282  D6 1C       	sub	a,0x1c
3881  1284  38 E6       	jr	C,l_game_end_00130
3882  1286  21 00 00    	ld	hl,_tmp1
3883  1289  7E          	ld	a,(hl)
3884  128A  C6 10       	add	a,0x10
3885  128C  77          	ld	(hl),a
3886  128D  18 D0       	jr	l_game_end_00102
3887  128F              l_game_end_00104:
3888  128F  21 50 18    	ld	hl,0x1850
3889  1292  E5          	push	hl
3890  1293  3E D6       	ld	a,0xd6
3891  1295  F5          	push	af
3892  1296  33          	inc	sp
3893  1297  CD 00 00    	call	_NIRVANAP_drawT_callee
3894  129A  21 9C 01    	ld	hl,0x019c
3895  129D  E5          	push	hl
3896  129E  21 01 1D    	ld	hl,0x1d01
3897  12A1  E5          	push	hl
3898  12A2  3E 20       	ld	a,0x20
3899  12A4  F5          	push	af
3900  12A5  33          	inc	sp
3901  12A6  CD A7 10    	call	_game_menu_e
3902  12A9  F1          	pop	af
3903  12AA  33          	inc	sp
3904  12AB  21 9F FF    	ld	hl,0xff9f
3905  12AE  E3          	ex	(sp),hl
3906  12AF  21 01 1D    	ld	hl,0x1d01
3907  12B2  E5          	push	hl
3908  12B3  3E 80       	ld	a,0x80
3909  12B5  F5          	push	af
3910  12B6  33          	inc	sp
3911  12B7  CD A7 10    	call	_game_menu_e
3912  12BA  F1          	pop	af
3913  12BB  F1          	pop	af
3914  12BC  33          	inc	sp
3915  12BD  3E 00       	ld	a,0x00
3916  12BF  DD 77 FD    	ld	(ix-3),a
3917  12C2  DD 77 FC    	ld	(ix-4),a
3918  12C5  3A 00 00    	ld	a,(_game_two_player)
3919  12C8  B7          	or	a, a
3920  12C9  28 16       	jr	Z,l_game_end_00110
3921  12CB  3A 00 00    	ld	a,(_game_lives)
3922  12CE  B7          	or	a, a
3923  12CF  28 04       	jr	Z,l_game_end_00106
3924  12D1  DD 36 FD 01 	ld	(ix-3),0x01
3925  12D5              l_game_end_00106:
3926  12D5  3A 01 00    	ld	a, (_game_lives + 1)
3927  12D8  B7          	or	a, a
3928  12D9  28 0A       	jr	Z,l_game_end_00111
3929  12DB  DD 36 FC 01 	ld	(ix-4),0x01
3930  12DF  18 04       	jr	l_game_end_00111
3931  12E1              l_game_end_00110:
3932  12E1  DD 36 FD 01 	ld	(ix-3),0x01
3933  12E5              l_game_end_00111:
3934  12E5  DD 7E FD    	ld	a,(ix-3)
3935  12E8  3D          	dec	a
3936  12E9  20 04       	jr	NZ,l_game_end_00210
3937  12EB  3E 01       	ld	a,0x01
3938  12ED  18 01       	jr	l_game_end_00211
3939  12EF              l_game_end_00210:
3940  12EF  AF          	xor	a,a
3941  12F0              l_game_end_00211:
3942  12F0  DD 77 FF    	ld	(ix-1),a
3943  12F3  B7          	or	a, a
3944  12F4  28 1C       	jr	Z,l_game_end_00113
3945  12F6  DD 7E FC    	ld	a,(ix-4)
3946  12F9  B7          	or	a, a
3947  12FA  20 16       	jr	NZ,l_game_end_00113
3948  12FC  21 86 01    	ld	hl,___str_41
3949  12FF  E5          	push	hl
3950  1300  21 13 01    	ld	hl,0x0113
3951  1303  E5          	push	hl
3952  1304  CD 00 00    	call	_zx_print_str
3953  1307  21 50 0C    	ld	hl,0x0c50
3954  130A  E5          	push	hl
3955  130B  3E 03       	ld	a,0x03
3956  130D  F5          	push	af
3957  130E  33          	inc	sp
3958  130F  CD 00 00    	call	_NIRVANAP_drawT_callee
3959  1312              l_game_end_00113:
3960  1312  DD 7E FC    	ld	a,(ix-4)
3961  1315  3D          	dec	a
3962  1316  20 04       	jr	NZ,l_game_end_00212
3963  1318  3E 01       	ld	a,0x01
3964  131A  18 01       	jr	l_game_end_00213
3965  131C              l_game_end_00212:
3966  131C  AF          	xor	a,a
3967  131D              l_game_end_00213:
3968  131D  DD 77 FE    	ld	(ix-2),a
3969  1320  DD 7E FD    	ld	a,(ix-3)
3970  1323  B7          	or	a, a
3971  1324  20 1C       	jr	NZ,l_game_end_00116
3972  1326  DD 7E FE    	ld	a,(ix-2)
3973  1329  B7          	or	a, a
3974  132A  28 16       	jr	Z,l_game_end_00116
3975  132C  21 90 01    	ld	hl,___str_42
3976  132F  E5          	push	hl
3977  1330  21 13 01    	ld	hl,0x0113
3978  1333  E5          	push	hl
3979  1334  CD 00 00    	call	_zx_print_str
3980  1337  21 60 0E    	ld	hl,0x0e60
3981  133A  E5          	push	hl
3982  133B  3E 1B       	ld	a,0x1b
3983  133D  F5          	push	af
3984  133E  33          	inc	sp
3985  133F  CD 00 00    	call	_NIRVANAP_drawT_callee
3986  1342              l_game_end_00116:
3987  1342  DD 7E FF    	ld	a,(ix-1)
3988  1345  B7          	or	a, a
3989  1346  28 27       	jr	Z,l_game_end_00119
3990  1348  DD 7E FE    	ld	a,(ix-2)
3991  134B  B7          	or	a, a
3992  134C  28 21       	jr	Z,l_game_end_00119
3993  134E  21 99 01    	ld	hl,___str_43
3994  1351  E5          	push	hl
3995  1352  21 13 01    	ld	hl,0x0113
3996  1355  E5          	push	hl
3997  1356  CD 00 00    	call	_zx_print_str
3998  1359  21 50 0C    	ld	hl,0x0c50
3999  135C  E5          	push	hl
4000  135D  3E 03       	ld	a,0x03
4001  135F  F5          	push	af
4002  1360  33          	inc	sp
4003  1361  CD 00 00    	call	_NIRVANAP_drawT_callee
4004  1364  21 60 0E    	ld	hl,0x0e60
4005  1367  E5          	push	hl
4006  1368  3E 1B       	ld	a,0x1b
4007  136A  F5          	push	af
4008  136B  33          	inc	sp
4009  136C  CD 00 00    	call	_NIRVANAP_drawT_callee
4010  136F              l_game_end_00119:
4011  136F  21 C8 00    	ld	hl,0x00c8
4012  1372  E5          	push	hl
4013  1373  21 01 1F    	ld	hl,0x1f01
4014  1376  E5          	push	hl
4015  1377  3E 13       	ld	a,0x13
4016  1379  F5          	push	af
4017  137A  33          	inc	sp
4018  137B  CD 75 19    	call	_game_colour_message
4019  137E  F1          	pop	af
4020  137F  F1          	pop	af
4021  1380  33          	inc	sp
4022  1381  DD 7E FF    	ld	a,(ix-1)
4023  1384  B7          	or	a, a
4024  1385  28 32       	jr	Z,l_game_end_00122
4025  1387  DD 7E FC    	ld	a,(ix-4)
4026  138A  B7          	or	a, a
4027  138B  20 2C       	jr	NZ,l_game_end_00122
4028  138D  21 40 12    	ld	hl,0x1240
4029  1390  E5          	push	hl
4030  1391  3E CB       	ld	a,0xcb
4031  1393  F5          	push	af
4032  1394  33          	inc	sp
4033  1395  CD 00 00    	call	_NIRVANAP_drawT_callee
4034  1398  21 50 12    	ld	hl,0x1250
4035  139B  E5          	push	hl
4036  139C  3E CA       	ld	a,0xca
4037  139E  F5          	push	af
4038  139F  33          	inc	sp
4039  13A0  CD 00 00    	call	_NIRVANAP_drawT_callee
4040  13A3  21 AD 01    	ld	hl,___str_44
4041  13A6  E5          	push	hl
4042  13A7  21 13 01    	ld	hl,0x0113
4043  13AA  E5          	push	hl
4044  13AB  CD 00 00    	call	_zx_print_str
4045  13AE  21 40 0C    	ld	hl,0x0c40
4046  13B1  E5          	push	hl
4047  13B2  3E CB       	ld	a,0xcb
4048  13B4  F5          	push	af
4049  13B5  33          	inc	sp
4050  13B6  CD 00 00    	call	_NIRVANAP_drawT_callee
4051  13B9              l_game_end_00122:
4052  13B9  DD 7E FD    	ld	a,(ix-3)
4053  13BC  B7          	or	a, a
4054  13BD  20 32       	jr	NZ,l_game_end_00125
4055  13BF  DD 7E FE    	ld	a,(ix-2)
4056  13C2  B7          	or	a, a
4057  13C3  28 2C       	jr	Z,l_game_end_00125
4058  13C5  21 50 12    	ld	hl,0x1250
4059  13C8  E5          	push	hl
4060  13C9  3E CB       	ld	a,0xcb
4061  13CB  F5          	push	af
4062  13CC  33          	inc	sp
4063  13CD  CD 00 00    	call	_NIRVANAP_drawT_callee
4064  13D0  21 60 12    	ld	hl,0x1260
4065  13D3  E5          	push	hl
4066  13D4  3E CA       	ld	a,0xca
4067  13D6  F5          	push	af
4068  13D7  33          	inc	sp
4069  13D8  CD 00 00    	call	_NIRVANAP_drawT_callee
4070  13DB  21 AD 01    	ld	hl,___str_44
4071  13DE  E5          	push	hl
4072  13DF  21 13 01    	ld	hl,0x0113
4073  13E2  E5          	push	hl
4074  13E3  CD 00 00    	call	_zx_print_str
4075  13E6  21 50 0E    	ld	hl,0x0e50
4076  13E9  E5          	push	hl
4077  13EA  3E CB       	ld	a,0xcb
4078  13EC  F5          	push	af
4079  13ED  33          	inc	sp
4080  13EE  CD 00 00    	call	_NIRVANAP_drawT_callee
4081  13F1              l_game_end_00125:
4082  13F1  DD 7E FF    	ld	a,(ix-1)
4083  13F4  B7          	or	a, a
4084  13F5  28 53       	jr	Z,l_game_end_00128
4085  13F7  DD 7E FE    	ld	a,(ix-2)
4086  13FA  B7          	or	a, a
4087  13FB  28 4D       	jr	Z,l_game_end_00128
4088  13FD  21 C1 01    	ld	hl,___str_45
4089  1400  E5          	push	hl
4090  1401  21 13 01    	ld	hl,0x0113
4091  1404  E5          	push	hl
4092  1405  CD 00 00    	call	_zx_print_str
4093  1408  21 40 12    	ld	hl,0x1240
4094  140B  E5          	push	hl
4095  140C  3E CB       	ld	a,0xcb
4096  140E  F5          	push	af
4097  140F  33          	inc	sp
4098  1410  CD 00 00    	call	_NIRVANAP_drawT_callee
4099  1413  21 50 12    	ld	hl,0x1250
4100  1416  E5          	push	hl
4101  1417  3E CA       	ld	a,0xca
4102  1419  F5          	push	af
4103  141A  33          	inc	sp
4104  141B  CD 00 00    	call	_NIRVANAP_drawT_callee
4105  141E  21 50 10    	ld	hl,0x1050
4106  1421  E5          	push	hl
4107  1422  3E CB       	ld	a,0xcb
4108  1424  F5          	push	af
4109  1425  33          	inc	sp
4110  1426  CD 00 00    	call	_NIRVANAP_drawT_callee
4111  1429  21 60 10    	ld	hl,0x1060
4112  142C  E5          	push	hl
4113  142D  3E CA       	ld	a,0xca
4114  142F  F5          	push	af
4115  1430  33          	inc	sp
4116  1431  CD 00 00    	call	_NIRVANAP_drawT_callee
4117  1434  21 40 0C    	ld	hl,0x0c40
4118  1437  E5          	push	hl
4119  1438  3E CB       	ld	a,0xcb
4120  143A  F5          	push	af
4121  143B  33          	inc	sp
4122  143C  CD 00 00    	call	_NIRVANAP_drawT_callee
4123  143F  21 50 0E    	ld	hl,0x0e50
4124  1442  E5          	push	hl
4125  1443  3E CB       	ld	a,0xcb
4126  1445  F5          	push	af
4127  1446  33          	inc	sp
4128  1447  CD 00 00    	call	_NIRVANAP_drawT_callee
4129  144A              l_game_end_00128:
4130  144A  21 C8 00    	ld	hl,0x00c8
4131  144D  E5          	push	hl
4132  144E  21 01 1F    	ld	hl,0x1f01
4133  1451  E5          	push	hl
4134  1452  3E 13       	ld	a,0x13
4135  1454  F5          	push	af
4136  1455  33          	inc	sp
4137  1456  CD 75 19    	call	_game_colour_message
4138  1459  F1          	pop	af
4139  145A  33          	inc	sp
4140  145B  21 D7 01    	ld	hl,___str_46
4141  145E  E3          	ex	(sp),hl
4142  145F  21 13 01    	ld	hl,0x0113
4143  1462  E5          	push	hl
4144  1463  CD 00 00    	call	_zx_print_str
4145  1466  21 C8 00    	ld	hl,0x00c8
4146  1469  E5          	push	hl
4147  146A  21 01 1F    	ld	hl,0x1f01
4148  146D  E5          	push	hl
4149  146E  3E 13       	ld	a,0x13
4150  1470  F5          	push	af
4151  1471  33          	inc	sp
4152  1472  CD 75 19    	call	_game_colour_message
4153  1475  F1          	pop	af
4154  1476  F1          	pop	af
4155  1477  33          	inc	sp
4156  1478  CD 00 00    	call	_spr_draw_clear
4157  147B  DD F9       	ld	sp, ix
4158  147D  DD E1       	pop	ix
4159  147F  C9          	ret
4160  1480              	SECTION rodata_compiler
4161  0186              ___str_41:
4162  0186  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4163  018F  00          	DEFB 0x00
4164  0190              	SECTION rodata_compiler
4165  0190              ___str_42:
4166  0190  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4167  0198  00          	DEFB 0x00
4168  0199              	SECTION rodata_compiler
4169  0199              ___str_43:
4170  0199  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4171  01AC  00          	DEFB 0x00
4172  01AD              	SECTION rodata_compiler
4173  01AD              ___str_44:
4174  01AD  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4175  01C0  00          	DEFB 0x00
4176  01C1              	SECTION rodata_compiler
4177  01C1              ___str_45:
4178  01C1  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4179  01D6  00          	DEFB 0x00
4180  01D7              	SECTION rodata_compiler
4181  01D7              ___str_46:
4182  01D7  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE U!"
4183  01F5  00          	DEFB 0x00
4184  01F6              	SECTION code_compiler
4185  1480              ;	---------------------------------
4186  1480              ; Function game_hall_check
4187  1480              ; ---------------------------------
4188  1480              _game_hall_check:
4189  1480  5D          	ld	e,l
4190  1481  01 00 00    	ld	bc,_player_score+0
4191  1484  26 00       	ld	h,0x00
4192  1486  6B          	ld	l, e
4193  1487  29          	add	hl, hl
4194  1488  09          	add	hl,bc
4195  1489  4E          	ld	c,(hl)
4196  148A  23          	inc	hl
4197  148B  46          	ld	b,(hl)
4198  148C  2A 3A 00    	ld	hl,(_hof + 0x003a)
4199  148F  AF          	xor	a,a
4200  1490  ED 42       	sbc	hl,bc
4201  1492  30 09       	jr	NC,l_game_hall_check_00104
4202  1494  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4203  1498  21 36 00    	ld	hl,+(_hof + 0x0036)
4204  149B  18 14       	jr	l_game_hall_check_00106
4205  149D              l_game_hall_check_00104:
4206  149D  2A 34 00    	ld	hl,(_hof + 0x0034)
4207  14A0  AF          	xor	a,a
4208  14A1  ED 42       	sbc	hl,bc
4209  14A3  30 09       	jr	NC,l_game_hall_check_00105
4210  14A5  ED 43 34 00 	ld	(_hof + 0x0034),bc
4211  14A9  21 30 00    	ld	hl,+(_hof + 0x0030)
4212  14AC  18 03       	jr	l_game_hall_check_00106
4213  14AE              l_game_hall_check_00105:
4214  14AE  21 00 00    	ld	hl,0x0000
4215  14B1              l_game_hall_check_00106:
4216  14B1  C9          	ret
4217  14B2              	SECTION code_compiler
4218  14B2              ;	---------------------------------
4219  14B2              ; Function compare_scores
4220  14B2              ; ---------------------------------
4221  14B2              _compare_scores:
4222  14B2  CD 00 00    	call	___sdcc_enter_ix
4223  14B5  DD 6E 06    	ld	l,(ix+6)
4224  14B8  DD 66 07    	ld	h,(ix+7)
4225  14BB  11 04 00    	ld	de,0x0004
4226  14BE  19          	add	hl, de
4227  14BF  4E          	ld	c,(hl)
4228  14C0  23          	inc	hl
4229  14C1  46          	ld	b,(hl)
4230  14C2  DD 6E 04    	ld	l,(ix+4)
4231  14C5  DD 66 05    	ld	h,(ix+5)
4232  14C8  11 04 00    	ld	de,0x0004
4233  14CB  19          	add	hl, de
4234  14CC  7E          	ld	a,(hl)
4235  14CD  23          	inc	hl
4236  14CE  56          	ld	d,(hl)
4237  14CF  5F          	ld	e,a
4238  14D0  91          	sub	a, c
4239  14D1  7A          	ld	a,d
4240  14D2  98          	sbc	a, b
4241  14D3  30 05       	jr	NC,l_compare_scores_00102
4242  14D5  21 01 00    	ld	hl,0x0001
4243  14D8  18 10       	jr	l_compare_scores_00105
4244  14DA              l_compare_scores_00102:
4245  14DA  79          	ld	a,c
4246  14DB  93          	sub	a, e
4247  14DC  20 09       	jr	NZ,l_compare_scores_00104
4248  14DE  78          	ld	a,b
4249  14DF  92          	sub	a, d
4250  14E0  20 05       	jr	NZ,l_compare_scores_00104
4251  14E2  21 00 00    	ld	hl,0x0000
4252  14E5  18 03       	jr	l_compare_scores_00105
4253  14E7              l_compare_scores_00104:
4254  14E7  21 FF FF    	ld	hl,0xffff
4255  14EA              l_compare_scores_00105:
4256  14EA  DD E1       	pop	ix
4257  14EC  C9          	ret
4258  14ED              	SECTION code_compiler
4259  14ED              ;	---------------------------------
4260  14ED              ; Function game_hall_enter
4261  14ED              ; ---------------------------------
4262  14ED              _game_hall_enter:
4263  14ED  CD 00 00    	call	___sdcc_enter_ix
4264  14F0  21 F7 FF    	ld	hl,-9
4265  14F3  39          	add	hl,sp
4266  14F4  F9          	ld	sp,hl
4267  14F5  CD 00 00    	call	_spr_draw_clear
4268  14F8  2E 00       	ld	l,0x00
4269  14FA  CD BE 0C    	call	_game_paint_attrib
4270  14FD  ED 4B 00 00 	ld	bc,(_player_score)
4271  1501  2A 02 00    	ld	hl, (_player_score + 2)
4272  1504  AF          	xor	a,a
4273  1505  ED 42       	sbc	hl,bc
4274  1507  30 0F       	jr	NC,l_game_hall_enter_00102
4275  1509  2E 00       	ld	l,0x00
4276  150B  CD 80 14    	call	_game_hall_check
4277  150E  E5          	push	hl
4278  150F  2E 01       	ld	l,0x01
4279  1511  CD 80 14    	call	_game_hall_check
4280  1514  EB          	ex	de,hl
4281  1515  C1          	pop	bc
4282  1516  18 0E       	jr	l_game_hall_enter_00103
4283  1518              l_game_hall_enter_00102:
4284  1518  2E 01       	ld	l,0x01
4285  151A  CD 80 14    	call	_game_hall_check
4286  151D  E5          	push	hl
4287  151E  2E 00       	ld	l,0x00
4288  1520  CD 80 14    	call	_game_hall_check
4289  1523  D1          	pop	de
4290  1524  4D          	ld	c,l
4291  1525  44          	ld	b,h
4292  1526              l_game_hall_enter_00103:
4293  1526  78          	ld	a,b
4294  1527  B1          	or	a,c
4295  1528  20 05       	jr	NZ,l_game_hall_enter_00125
4296  152A  7A          	ld	a,d
4297  152B  B3          	or	a,e
4298  152C  CA 7A 16    	jp	Z,l_game_hall_enter_00126
4299  152F              l_game_hall_enter_00125:
4300  152F  3E 00       	ld	a,0x00
4301  1531  DD 77 FB    	ld	(ix-5),a
4302  1534  DD 77 FA    	ld	(ix-6),a
4303  1537  DD 77 F9    	ld	(ix-7),a
4304  153A  DD 77 F8    	ld	(ix-8),a
4305  153D  DD 36 F7 00 	ld	(ix-9),0x00
4306  1541  78          	ld	a,b
4307  1542  B1          	or	a,c
4308  1543  28 0D       	jr	Z,l_game_hall_enter_00105
4309  1545  DD 36 F8 01 	ld	(ix-8),0x01
4310  1549  C5          	push	bc
4311  154A  D5          	push	de
4312  154B  2E 00       	ld	l,0x00
4313  154D  CD 9D 16    	call	_game_hall_enter_phs
4314  1550  D1          	pop	de
4315  1551  C1          	pop	bc
4316  1552              l_game_hall_enter_00105:
4317  1552  7A          	ld	a,d
4318  1553  B3          	or	a,e
4319  1554  28 0D       	jr	Z,l_game_hall_enter_00107
4320  1556  DD 36 F7 05 	ld	(ix-9),0x05
4321  155A  C5          	push	bc
4322  155B  D5          	push	de
4323  155C  2E 01       	ld	l,0x01
4324  155E  CD 9D 16    	call	_game_hall_enter_phs
4325  1561  D1          	pop	de
4326  1562  C1          	pop	bc
4327  1563              l_game_hall_enter_00107:
4328  1563  C5          	push	bc
4329  1564  D5          	push	de
4330  1565  21 F6 01    	ld	hl,___str_47
4331  1568  E5          	push	hl
4332  1569  21 02 0A    	ld	hl,0x0a02
4333  156C  E5          	push	hl
4334  156D  CD 00 00    	call	_zx_print_str
4335  1570  21 03 02    	ld	hl,___str_48
4336  1573  E5          	push	hl
4337  1574  21 12 06    	ld	hl,0x0612
4338  1577  E5          	push	hl
4339  1578  CD 00 00    	call	_zx_print_str
4340  157B  21 16 02    	ld	hl,___str_49
4341  157E  E5          	push	hl
4342  157F  21 13 06    	ld	hl,0x0613
4343  1582  E5          	push	hl
4344  1583  CD 00 00    	call	_zx_print_str
4345  1586  D1          	pop	de
4346  1587  C1          	pop	bc
4347  1588  DD 71 FE    	ld	(ix-2),c
4348  158B  DD 70 FF    	ld	(ix-1),b
4349  158E  DD 73 FC    	ld	(ix-4),e
4350  1591  DD 72 FD    	ld	(ix-3),d
4351  1594              l_game_hall_enter_00122:
4352  1594  DD 7E F8    	ld	a,(ix-8)
4353  1597  DD 86 F7    	add	a,(ix-9)
4354  159A  B7          	or	a, a
4355  159B  CA 62 16    	jp	Z,l_game_hall_enter_00124
4356  159E  21 05 00    	ld	hl,0x0005
4357  15A1  E5          	push	hl
4358  15A2  2A 00 00    	ld	hl,(_frame_time)
4359  15A5  E5          	push	hl
4360  15A6  CD 07 1A    	call	_game_check_time
4361  15A9  F1          	pop	af
4362  15AA  F1          	pop	af
4363  15AB  7D          	ld	a,l
4364  15AC  B7          	or	a, a
4365  15AD  28 36       	jr	Z,l_game_hall_enter_00113
4366  15AF  DD 7E F9    	ld	a,(ix-7)
4367  15B2  D6 01       	sub	a,0x01
4368  15B4  3E 00       	ld	a,0x00
4369  15B6  17          	rla
4370  15B7  DD 77 F9    	ld	(ix-7),a
4371  15BA  DD 7E F8    	ld	a,(ix-8)
4372  15BD  B7          	or	a, a
4373  15BE  28 0B       	jr	Z,l_game_hall_enter_00109
4374  15C0  DD 66 F9    	ld	h,(ix-7)
4375  15C3  DD 6E F8    	ld	l,(ix-8)
4376  15C6  E5          	push	hl
4377  15C7  CD 14 17    	call	_game_hall_print_p
4378  15CA  F1          	pop	af
4379  15CB              l_game_hall_enter_00109:
4380  15CB  DD 7E F7    	ld	a,(ix-9)
4381  15CE  B7          	or	a, a
4382  15CF  28 0B       	jr	Z,l_game_hall_enter_00111
4383  15D1  DD 66 F9    	ld	h,(ix-7)
4384  15D4  DD 6E F7    	ld	l,(ix-9)
4385  15D7  E5          	push	hl
4386  15D8  CD 14 17    	call	_game_hall_print_p
4387  15DB  F1          	pop	af
4388  15DC              l_game_hall_enter_00111:
4389  15DC  CD 59 19    	call	_game_rotate_attrib
4390  15DF  2A 00 00    	ld	hl,(_curr_time)
4391  15E2  22 00 00    	ld	(_frame_time),hl
4392  15E5              l_game_hall_enter_00113:
4393  15E5  21 00 00    	ld	hl,_k1
4394  15E8  E5          	push	hl
4395  15E9  2A 00 00    	ld	hl,(_joyfunc1)
4396  15EC  CD 00 00    	call	___sdcc_call_hl
4397  15EF  F1          	pop	af
4398  15F0  7D          	ld	a,l
4399  15F1  32 00 00    	ld	(_dirs),a
4400  15F4  DD 7E FB    	ld	a,(ix-5)
4401  15F7  B7          	or	a, a
4402  15F8  20 22       	jr	NZ,l_game_hall_enter_00115
4403  15FA  DD 7E F8    	ld	a,(ix-8)
4404  15FD  B7          	or	a, a
4405  15FE  28 1C       	jr	Z,l_game_hall_enter_00115
4406  1600  DD 6E F8    	ld	l,(ix-8)
4407  1603  CD D2 17    	call	_game_hall_edit_p
4408  1606  DD 75 F8    	ld	(ix-8),l
4409  1609  7D          	ld	a,l
4410  160A  B7          	or	a, a
4411  160B  20 0F       	jr	NZ,l_game_hall_enter_00115
4412  160D  DD 5E FE    	ld	e,(ix-2)
4413  1610  DD 56 FF    	ld	d,(ix-1)
4414  1613  AF          	xor	a,a
4415  1614  21 00 00    	ld	hl,_initials
4416  1617              l_game_hall_enter_00190:
4417  1617  BE          	cp	a, (hl)
4418  1618  ED A0       	ldi
4419  161A  20 FB       	jr	NZ, l_game_hall_enter_00190
4420  161C              l_game_hall_enter_00115:
4421  161C  3A 00 00    	ld	a,(_dirs)
4422  161F  DD 77 FB    	ld	(ix-5),a
4423  1622  21 00 00    	ld	hl,_k2
4424  1625  E5          	push	hl
4425  1626  2A 00 00    	ld	hl,(_joyfunc2)
4426  1629  CD 00 00    	call	___sdcc_call_hl
4427  162C  F1          	pop	af
4428  162D  7D          	ld	a,l
4429  162E  32 00 00    	ld	(_dirs),a
4430  1631  DD 7E FA    	ld	a,(ix-6)
4431  1634  B7          	or	a, a
4432  1635  20 22       	jr	NZ,l_game_hall_enter_00119
4433  1637  DD 7E F7    	ld	a,(ix-9)
4434  163A  B7          	or	a, a
4435  163B  28 1C       	jr	Z,l_game_hall_enter_00119
4436  163D  DD 6E F7    	ld	l,(ix-9)
4437  1640  CD D2 17    	call	_game_hall_edit_p
4438  1643  DD 75 F7    	ld	(ix-9),l
4439  1646  7D          	ld	a,l
4440  1647  B7          	or	a, a
4441  1648  20 0F       	jr	NZ,l_game_hall_enter_00119
4442  164A  DD 5E FC    	ld	e,(ix-4)
4443  164D  DD 56 FD    	ld	d,(ix-3)
4444  1650  AF          	xor	a,a
4445  1651  21 04 00    	ld	hl,+(_initials + 0x0004)
4446  1654              l_game_hall_enter_00191:
4447  1654  BE          	cp	a, (hl)
4448  1655  ED A0       	ldi
4449  1657  20 FB       	jr	NZ, l_game_hall_enter_00191
4450  1659              l_game_hall_enter_00119:
4451  1659  3A 00 00    	ld	a,(_dirs)
4452  165C  DD 77 FA    	ld	(ix-6),a
4453  165F  C3 94 15    	jp	l_game_hall_enter_00122
4454  1662              l_game_hall_enter_00124:
4455  1662  CD 00 00    	call	_ay_reset
4456  1665  CD 00 00    	call	_spr_draw_clear
4457  1668  01 B2 14    	ld	bc,_compare_scores
4458  166B  C5          	push	bc
4459  166C  21 06 00    	ld	hl,0x0006
4460  166F  E5          	push	hl
4461  1670  2E 0A       	ld	l,0x0a
4462  1672  E5          	push	hl
4463  1673  21 00 00    	ld	hl,_hof
4464  1676  E5          	push	hl
4465  1677  CD 00 00    	call	__insertion_sort__callee
4466  167A              l_game_hall_enter_00126:
4467  167A  CD 88 18    	call	_game_hall_of_fame
4468  167D  2E 00       	ld	l,0x00
4469  167F  CD 87 16    	call	_game_menu_back
4470  1682  DD F9       	ld	sp, ix
4471  1684  DD E1       	pop	ix
4472  1686  C9          	ret
4473  1687              	SECTION rodata_compiler
4474  01F6              ___str_47:
4475  01F6  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4476  0202  00          	DEFB 0x00
4477  0203              	SECTION rodata_compiler
4478  0203              ___str_48:
4479  0203  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4480  0215  00          	DEFB 0x00
4481  0216              	SECTION rodata_compiler
4482  0216              ___str_49:
4483  0216  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4484  0229  00          	DEFB 0x00
4485  022A              	SECTION code_compiler
4486  1687              ;	---------------------------------
4487  1687              ; Function game_menu_back
4488  1687              ; ---------------------------------
4489  1687              _game_menu_back:
4490  1687  7D          	ld	a,l
4491  1688  32 00 00    	ld	(_s_lin1),a
4492  168B  21 00 00    	ld	hl,_game_menu_sel
4493  168E  36 00       	ld	(hl),0x00
4494  1690  CD B3 0F    	call	_game_menu_top_paint
4495  1693  CD 27 10    	call	_game_menu_paint
4496  1696  2A 00 00    	ld	hl,(_curr_time)
4497  1699  22 00 00    	ld	(_entry_time),hl
4498  169C  C9          	ret
4499  169D              	SECTION code_compiler
4500  169D              ;	---------------------------------
4501  169D              ; Function game_hall_enter_phs
4502  169D              ; ---------------------------------
4503  169D              _game_hall_enter_phs:
4504  169D  7D          	ld	a,l
4505  169E  B7          	or	a, a
4506  169F  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4507  16A1  21 9C 01    	ld	hl,0x019c
4508  16A4  E5          	push	hl
4509  16A5  21 02 0C    	ld	hl,0x0c02
4510  16A8  E5          	push	hl
4511  16A9  3E 30       	ld	a,0x30
4512  16AB  F5          	push	af
4513  16AC  33          	inc	sp
4514  16AD  CD A7 10    	call	_game_menu_e
4515  16B0  F1          	pop	af
4516  16B1  33          	inc	sp
4517  16B2  21 9F FF    	ld	hl,0xff9f
4518  16B5  E3          	ex	(sp),hl
4519  16B6  21 02 0C    	ld	hl,0x0c02
4520  16B9  E5          	push	hl
4521  16BA  3E 7C       	ld	a,0x7c
4522  16BC  F5          	push	af
4523  16BD  33          	inc	sp
4524  16BE  CD A7 10    	call	_game_menu_e
4525  16C1  F1          	pop	af
4526  16C2  33          	inc	sp
4527  16C3  21 2A 02    	ld	hl,___str_50
4528  16C6  E3          	ex	(sp),hl
4529  16C7  21 07 05    	ld	hl,0x0507
4530  16CA  E5          	push	hl
4531  16CB  CD 00 00    	call	_zx_print_str
4532  16CE  21 2F 02    	ld	hl,___str_51
4533  16D1  E5          	push	hl
4534  16D2  21 08 05    	ld	hl,0x0508
4535  16D5  E5          	push	hl
4536  16D6  CD 00 00    	call	_zx_print_str
4537  16D9  18 38       	jr	l_game_hall_enter_phs_00104
4538  16DB              l_game_hall_enter_phs_00102:
4539  16DB  21 9C 01    	ld	hl,0x019c
4540  16DE  E5          	push	hl
4541  16DF  21 12 1C    	ld	hl,0x1c12
4542  16E2  E5          	push	hl
4543  16E3  3E 30       	ld	a,0x30
4544  16E5  F5          	push	af
4545  16E6  33          	inc	sp
4546  16E7  CD A7 10    	call	_game_menu_e
4547  16EA  F1          	pop	af
4548  16EB  33          	inc	sp
4549  16EC  21 9F FF    	ld	hl,0xff9f
4550  16EF  E3          	ex	(sp),hl
4551  16F0  21 12 1C    	ld	hl,0x1c12
4552  16F3  E5          	push	hl
4553  16F4  3E 7C       	ld	a,0x7c
4554  16F6  F5          	push	af
4555  16F7  33          	inc	sp
4556  16F8  CD A7 10    	call	_game_menu_e
4557  16FB  F1          	pop	af
4558  16FC  33          	inc	sp
4559  16FD  21 2A 02    	ld	hl,___str_50
4560  1700  E3          	ex	(sp),hl
4561  1701  21 07 15    	ld	hl,0x1507
4562  1704  E5          	push	hl
4563  1705  CD 00 00    	call	_zx_print_str
4564  1708  21 2F 02    	ld	hl,___str_51
4565  170B  E5          	push	hl
4566  170C  21 08 15    	ld	hl,0x1508
4567  170F  E5          	push	hl
4568  1710  CD 00 00    	call	_zx_print_str
4569  1713              l_game_hall_enter_phs_00104:
4570  1713  C9          	ret
4571  1714              	SECTION rodata_compiler
4572  022A              ___str_50:
4573  022A  48 49 47 48 	DEFM "HIGH"
4574  022E  00          	DEFB 0x00
4575  022F              	SECTION rodata_compiler
4576  022F              ___str_51:
4577  022F  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4578  0235  00          	DEFB 0x00
4579  0236              	SECTION code_compiler
4580  1714              ;	---------------------------------
4581  1714              ; Function game_hall_print_p
4582  1714              ; ---------------------------------
4583  1714              _game_hall_print_p:
4584  1714  CD 00 00    	call	___sdcc_enter_ix
4585  1717  DD 7E 04    	ld	a,(ix+4)
4586  171A  D6 05       	sub	a,0x05
4587  171C  30 59       	jr	NC,l_game_hall_print_p_00108
4588  171E  21 00 00    	ld	hl,_initials
4589  1721  E5          	push	hl
4590  1722  21 0D 06    	ld	hl,0x060d
4591  1725  E5          	push	hl
4592  1726  CD 00 00    	call	_zx_print_str
4593  1729  DD 7E 04    	ld	a,(ix+4)
4594  172C  C6 06       	add	a,0x06
4595  172E  47          	ld	b,a
4596  172F  DD 7E 04    	ld	a,(ix+4)
4597  1732  C6 05       	add	a,0x05
4598  1734  57          	ld	d,a
4599  1735  3E 70       	ld	a,0x70
4600  1737  F5          	push	af
4601  1738  33          	inc	sp
4602  1739  4A          	ld	c, d
4603  173A  C5          	push	bc
4604  173B  CD 09 0D    	call	_game_paint_attrib_lin_h
4605  173E  F1          	pop	af
4606  173F  33          	inc	sp
4607  1740  76          	halt
4608  1741  DD 7E 05    	ld	a,(ix+5)
4609  1744  B7          	or	a, a
4610  1745  28 18       	jr	Z,l_game_hall_print_p_00102
4611  1747  21 56 06    	ld	hl,0x0656
4612  174A  E5          	push	hl
4613  174B  3E A9       	ld	a,0xa9
4614  174D  F5          	push	af
4615  174E  33          	inc	sp
4616  174F  CD 00 00    	call	_NIRVANAP_drawT_callee
4617  1752  21 58 06    	ld	hl,0x0658
4618  1755  E5          	push	hl
4619  1756  3E 03       	ld	a,0x03
4620  1758  F5          	push	af
4621  1759  33          	inc	sp
4622  175A  CD 00 00    	call	_NIRVANAP_drawT_callee
4623  175D  18 70       	jr	l_game_hall_print_p_00110
4624  175F              l_game_hall_print_p_00102:
4625  175F  21 58 06    	ld	hl,0x0658
4626  1762  E5          	push	hl
4627  1763  3E A9       	ld	a,0xa9
4628  1765  F5          	push	af
4629  1766  33          	inc	sp
4630  1767  CD 00 00    	call	_NIRVANAP_drawT_callee
4631  176A  21 56 06    	ld	hl,0x0656
4632  176D  E5          	push	hl
4633  176E  3E 16       	ld	a,0x16
4634  1770  F5          	push	af
4635  1771  33          	inc	sp
4636  1772  CD 00 00    	call	_NIRVANAP_drawT_callee
4637  1775  18 58       	jr	l_game_hall_print_p_00110
4638  1777              l_game_hall_print_p_00108:
4639  1777  21 04 00    	ld	hl,+(_initials + 0x0004)
4640  177A  E5          	push	hl
4641  177B  21 0D 16    	ld	hl,0x160d
4642  177E  E5          	push	hl
4643  177F  CD 00 00    	call	_zx_print_str
4644  1782  DD 7E 04    	ld	a,(ix+4)
4645  1785  C6 12       	add	a,0x12
4646  1787  57          	ld	d,a
4647  1788  DD 7E 04    	ld	a,(ix+4)
4648  178B  C6 11       	add	a,0x11
4649  178D  47          	ld	b,a
4650  178E  3E 70       	ld	a,0x70
4651  1790  5A          	ld	e,d
4652  1791  57          	ld	d,a
4653  1792  D5          	push	de
4654  1793  C5          	push	bc
4655  1794  33          	inc	sp
4656  1795  CD 09 0D    	call	_game_paint_attrib_lin_h
4657  1798  F1          	pop	af
4658  1799  33          	inc	sp
4659  179A  76          	halt
4660  179B  DD 7E 05    	ld	a,(ix+5)
4661  179E  B7          	or	a, a
4662  179F  28 18       	jr	Z,l_game_hall_print_p_00105
4663  17A1  21 56 17    	ld	hl,0x1756
4664  17A4  E5          	push	hl
4665  17A5  3E A9       	ld	a,0xa9
4666  17A7  F5          	push	af
4667  17A8  33          	inc	sp
4668  17A9  CD 00 00    	call	_NIRVANAP_drawT_callee
4669  17AC  21 58 17    	ld	hl,0x1758
4670  17AF  E5          	push	hl
4671  17B0  3E 27       	ld	a,0x27
4672  17B2  F5          	push	af
4673  17B3  33          	inc	sp
4674  17B4  CD 00 00    	call	_NIRVANAP_drawT_callee
4675  17B7  18 16       	jr	l_game_hall_print_p_00110
4676  17B9              l_game_hall_print_p_00105:
4677  17B9  21 58 17    	ld	hl,0x1758
4678  17BC  E5          	push	hl
4679  17BD  3E A9       	ld	a,0xa9
4680  17BF  F5          	push	af
4681  17C0  33          	inc	sp
4682  17C1  CD 00 00    	call	_NIRVANAP_drawT_callee
4683  17C4  21 56 17    	ld	hl,0x1756
4684  17C7  E5          	push	hl
4685  17C8  3E 2E       	ld	a,0x2e
4686  17CA  F5          	push	af
4687  17CB  33          	inc	sp
4688  17CC  CD 00 00    	call	_NIRVANAP_drawT_callee
4689  17CF              l_game_hall_print_p_00110:
4690  17CF  DD E1       	pop	ix
4691  17D1  C9          	ret
4692  17D2              	SECTION code_compiler
4693  17D2              ;	---------------------------------
4694  17D2              ; Function game_hall_edit_p
4695  17D2              ; ---------------------------------
4696  17D2              _game_hall_edit_p:
4697  17D2  CD 00 00    	call	___sdcc_enter_ix
4698  17D5  F5          	push	af
4699  17D6  4D          	ld	c,l
4700  17D7  0D          	dec	c
4701  17D8  3A 00 00    	ld	a,(_dirs)
4702  17DB  07          	rlca
4703  17DC  30 63       	jr	NC,l_game_hall_edit_p_00120
4704  17DE  79          	ld	a,c
4705  17DF  FE 04       	cp	a,0x04
4706  17E1  30 17       	jr	NC,l_game_hall_edit_p_00102
4707  17E3  C6 07       	add	a,0x07
4708  17E5  57          	ld	d,a
4709  17E6  79          	ld	a,c
4710  17E7  C6 06       	add	a,0x06
4711  17E9  47          	ld	b,a
4712  17EA  C5          	push	bc
4713  17EB  3E 70       	ld	a,0x70
4714  17ED  5A          	ld	e,d
4715  17EE  57          	ld	d,a
4716  17EF  D5          	push	de
4717  17F0  C5          	push	bc
4718  17F1  33          	inc	sp
4719  17F2  CD E2 0C    	call	_game_paint_attrib_lin
4720  17F5  F1          	pop	af
4721  17F6  33          	inc	sp
4722  17F7  C1          	pop	bc
4723  17F8  18 16       	jr	l_game_hall_edit_p_00103
4724  17FA              l_game_hall_edit_p_00102:
4725  17FA  79          	ld	a,c
4726  17FB  C6 13       	add	a,0x13
4727  17FD  57          	ld	d,a
4728  17FE  79          	ld	a,c
4729  17FF  C6 12       	add	a,0x12
4730  1801  47          	ld	b,a
4731  1802  C5          	push	bc
4732  1803  3E 70       	ld	a,0x70
4733  1805  5A          	ld	e,d
4734  1806  57          	ld	d,a
4735  1807  D5          	push	de
4736  1808  C5          	push	bc
4737  1809  33          	inc	sp
4738  180A  CD E2 0C    	call	_game_paint_attrib_lin
4739  180D  F1          	pop	af
4740  180E  33          	inc	sp
4741  180F  C1          	pop	bc
4742  1810              l_game_hall_edit_p_00103:
4743  1810  C5          	push	bc
4744  1811  CD 00 00    	call	_sound_slide
4745  1814  C1          	pop	bc
4746  1815  21 00 00    	ld	hl,_ay_effect_01
4747  1818  CD 00 00    	call	_ay_fx_play
4748  181B  11 00 00    	ld	de,_initials+0
4749  181E  41          	ld	b,c
4750  181F  0C          	inc	c
4751  1820  68          	ld	l,b
4752  1821  26 00       	ld	h,0x00
4753  1823  19          	add	hl,de
4754  1824  7E          	ld	a,(hl)
4755  1825  D6 7B       	sub	a,0x7b
4756  1827  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4757  1829  0D          	dec	c
4758  182A  79          	ld	a,c
4759  182B  E6 03       	and	a,0x03
4760  182D  28 08       	jr	Z,l_game_hall_edit_p_00107
4761  182F  41          	ld	b,c
4762  1830  0D          	dec	c
4763  1831  68          	ld	l,b
4764  1832  26 00       	ld	h,0x00
4765  1834  19          	add	hl,de
4766  1835  36 41       	ld	(hl),0x41
4767  1837              l_game_hall_edit_p_00107:
4768  1837  79          	ld	a,c
4769  1838  E6 03       	and	a,0x03
4770  183A  D6 03       	sub	a,0x03
4771  183C  20 44       	jr	NZ,l_game_hall_edit_p_00121
4772  183E  6F          	ld	l,a
4773  183F  18 43       	jr	l_game_hall_edit_p_00122
4774  1841              l_game_hall_edit_p_00120:
4775  1841  3A 00 00    	ld	a,(_dirs)
4776  1844  E6 0C       	and	a,0x0c
4777  1846  28 3A       	jr	Z,l_game_hall_edit_p_00121
4778  1848  11 00 00    	ld	de,_hall_valids
4779  184B  3E 00       	ld	a,+((_initials) & 0xFF)
4780  184D  81          	add	a, c
4781  184E  DD 77 FE    	ld	(ix-2),a
4782  1851  3E 00       	ld	a,+((_initials) / 256)
4783  1853  CE 00       	adc	a,0x00
4784  1855  DD 77 FF    	ld	(ix-1),a
4785  1858  E1          	pop	hl
4786  1859  46          	ld	b,(hl)
4787  185A  E5          	push	hl
4788  185B              l_game_hall_edit_p_00168:
4789  185B  1A          	ld	a, (de)
4790  185C  B8          	cp	a, b
4791  185D  28 06       	jr	Z,l_game_hall_edit_p_00167
4792  185F  B7          	or	a, a
4793  1860  13          	inc	de
4794  1861  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4795  1863  5F          	ld	e, a
4796  1864  57          	ld	d, a
4797  1865              l_game_hall_edit_p_00167:
4798  1865  3A 00 00    	ld	a,(_dirs)
4799  1868  E6 04       	and	a,0x04
4800  186A  28 0A       	jr	Z,l_game_hall_edit_p_00115
4801  186C  1B          	dec	de
4802  186D  1A          	ld	a,(de)
4803  186E  3D          	dec	a
4804  186F  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4805  1871  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4806  1874  18 08       	jr	l_game_hall_edit_p_00116
4807  1876              l_game_hall_edit_p_00115:
4808  1876  13          	inc	de
4809  1877  1A          	ld	a,(de)
4810  1878  B7          	or	a, a
4811  1879  20 03       	jr	NZ,l_game_hall_edit_p_00116
4812  187B  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4813  187E              l_game_hall_edit_p_00116:
4814  187E  E1          	pop	hl
4815  187F  1A          	ld	a,(de)
4816  1880  E5          	push	hl
4817  1881  77          	ld	(hl),a
4818  1882              l_game_hall_edit_p_00121:
4819  1882  0C          	inc	c
4820  1883  69          	ld	l,c
4821  1884              l_game_hall_edit_p_00122:
4822  1884  F1          	pop	af
4823  1885  DD E1       	pop	ix
4824  1887  C9          	ret
4825  1888              	SECTION code_compiler
4826  1888              ;	---------------------------------
4827  1888              ; Function game_hall_of_fame
4828  1888              ; ---------------------------------
4829  1888              _game_hall_of_fame:
4830  1888  CD 00 00    	call	_spr_draw_clear
4831  188B  2E 00       	ld	l,0x00
4832  188D  CD BE 0C    	call	_game_paint_attrib
4833  1890  21 9C 01    	ld	hl,0x019c
4834  1893  E5          	push	hl
4835  1894  21 06 18    	ld	hl,0x1806
4836  1897  E5          	push	hl
4837  1898  3E 10       	ld	a,0x10
4838  189A  F5          	push	af
4839  189B  33          	inc	sp
4840  189C  CD A7 10    	call	_game_menu_e
4841  189F  F1          	pop	af
4842  18A0  33          	inc	sp
4843  18A1  21 9F FF    	ld	hl,0xff9f
4844  18A4  E3          	ex	(sp),hl
4845  18A5  21 06 18    	ld	hl,0x1806
4846  18A8  E5          	push	hl
4847  18A9  3E 98       	ld	a,0x98
4848  18AB  F5          	push	af
4849  18AC  33          	inc	sp
4850  18AD  CD A7 10    	call	_game_menu_e
4851  18B0  F1          	pop	af
4852  18B1  F1          	pop	af
4853  18B2  33          	inc	sp
4854  18B3  21 00 00    	ld	hl,_s_lin1
4855  18B6  36 00       	ld	(hl),0x00
4856  18B8              l_game_hall_of_fame_00102:
4857  18B8  21 00 00    	ld	hl,_screen_ink
4858  18BB  36 05       	ld	(hl),0x05
4859  18BD  2A 00 00    	ld	hl,(_s_lin1)
4860  18C0  26 00       	ld	h,0x00
4861  18C2  4D          	ld	c,l
4862  18C3  44          	ld	b,h
4863  18C4  29          	add	hl, hl
4864  18C5  09          	add	hl, bc
4865  18C6  29          	add	hl, hl
4866  18C7  01 00 00    	ld	bc,_hof
4867  18CA  09          	add	hl,bc
4868  18CB  3A 00 00    	ld	a,(_s_lin1)
4869  18CE  EB          	ex	de,hl
4870  18CF  C6 07       	add	a,0x07
4871  18D1  47          	ld	b,a
4872  18D2  D5          	push	de
4873  18D3  3E 0A       	ld	a,0x0a
4874  18D5  48          	ld	c,b
4875  18D6  47          	ld	b,a
4876  18D7  C5          	push	bc
4877  18D8  CD 00 00    	call	_zx_print_str
4878  18DB  2A 00 00    	ld	hl,(_s_lin1)
4879  18DE  26 00       	ld	h,0x00
4880  18E0  4D          	ld	c,l
4881  18E1  44          	ld	b,h
4882  18E2  29          	add	hl, hl
4883  18E3  09          	add	hl, bc
4884  18E4  29          	add	hl, hl
4885  18E5  01 00 00    	ld	bc,_hof
4886  18E8  09          	add	hl,bc
4887  18E9  11 04 00    	ld	de,0x0004
4888  18EC  19          	add	hl, de
4889  18ED  5E          	ld	e,(hl)
4890  18EE  23          	inc	hl
4891  18EF  56          	ld	d,(hl)
4892  18F0  3A 00 00    	ld	a,(_s_lin1)
4893  18F3  C6 07       	add	a,0x07
4894  18F5  47          	ld	b,a
4895  18F6  D5          	push	de
4896  18F7  3E 10       	ld	a,0x10
4897  18F9  48          	ld	c,b
4898  18FA  47          	ld	b,a
4899  18FB  C5          	push	bc
4900  18FC  CD 00 00    	call	_zx_print_int
4901  18FF  11 36 02    	ld	de,___str_52
4902  1902  3A 00 00    	ld	a,(_s_lin1)
4903  1905  C6 07       	add	a,0x07
4904  1907  47          	ld	b,a
4905  1908  D5          	push	de
4906  1909  3E 0E       	ld	a,0x0e
4907  190B  48          	ld	c,b
4908  190C  47          	ld	b,a
4909  190D  C5          	push	bc
4910  190E  CD 00 00    	call	_zx_print_str
4911  1911  11 38 02    	ld	de,___str_53
4912  1914  3A 00 00    	ld	a,(_s_lin1)
4913  1917  C6 07       	add	a,0x07
4914  1919  47          	ld	b,a
4915  191A  D5          	push	de
4916  191B  3E 15       	ld	a,0x15
4917  191D  48          	ld	c,b
4918  191E  47          	ld	b,a
4919  191F  C5          	push	bc
4920  1920  CD 00 00    	call	_zx_print_str
4921  1923  21 00 00    	ld	hl,_s_lin1
4922  1926  7E          	ld	a,(hl)
4923  1927  3C          	inc	a
4924  1928  77          	ld	(hl),a
4925  1929  D6 0A       	sub	a,0x0a
4926  192B  38 8B       	jr	C,l_game_hall_of_fame_00102
4927  192D  21 3A 02    	ld	hl,___str_54
4928  1930  E5          	push	hl
4929  1931  21 04 0A    	ld	hl,0x0a04
4930  1934  E5          	push	hl
4931  1935  CD 00 00    	call	_zx_print_str
4932  1938  21 F4 01    	ld	hl,0x01f4
4933  193B  E5          	push	hl
4934  193C  21 0A 16    	ld	hl,0x160a
4935  193F  E5          	push	hl
4936  1940  3E 04       	ld	a,0x04
4937  1942  F5          	push	af
4938  1943  33          	inc	sp
4939  1944  CD 75 19    	call	_game_colour_message
4940  1947  F1          	pop	af
4941  1948  F1          	pop	af
4942  1949  33          	inc	sp
4943  194A  CD 00 00    	call	_spr_draw_clear
4944  194D  21 00 00    	ld	hl,_game_menu_sel
4945  1950  36 00       	ld	(hl),0x00
4946  1952  21 00 00    	ld	hl,_pb_midi_title
4947  1955  CD 00 00    	call	_ay_midi_play
4948  1958  C9          	ret
4949  1959              	SECTION rodata_compiler
4950  0236              ___str_52:
4951  0236  2D          	DEFM "-"
4952  0237  00          	DEFB 0x00
4953  0238              	SECTION rodata_compiler
4954  0238              ___str_53:
4955  0238  30          	DEFM "0"
4956  0239  00          	DEFB 0x00
4957  023A              	SECTION rodata_compiler
4958  023A              ___str_54:
4959  023A  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4960  0246  00          	DEFB 0x00
4961  0247              	SECTION code_compiler
4962  1959              ;	---------------------------------
4963  1959              ; Function game_rotate_attrib
4964  1959              ; ---------------------------------
4965  1959              _game_rotate_attrib:
4966  1959  01 03 00    	ld	bc,_attrib_hl + 3
4967  195C  0A          	ld	a,(bc)
4968  195D  32 00 00    	ld	(_tmp_uc),a
4969  1960  11 02 00    	ld	de,_attrib_hl + 2
4970  1963  1A          	ld	a,(de)
4971  1964  02          	ld	(bc),a
4972  1965  01 01 00    	ld	bc,_attrib_hl + 1
4973  1968  0A          	ld	a,(bc)
4974  1969  12          	ld	(de),a
4975  196A  3A 00 00    	ld	a,(_attrib_hl)
4976  196D  02          	ld	(bc),a
4977  196E  3A 00 00    	ld	a,(_tmp_uc)
4978  1971  32 00 00    	ld	(_attrib_hl),a
4979  1974  C9          	ret
4980  1975              	SECTION code_compiler
4981  1975              ;	---------------------------------
4982  1975              ; Function game_colour_message
4983  1975              ; ---------------------------------
4984  1975              _game_colour_message:
4985  1975  CD 00 00    	call	___sdcc_enter_ix
4986  1978  3B          	dec	sp
4987  1979  21 00 00    	ld	hl,_tmp
4988  197C  36 01       	ld	(hl),0x01
4989  197E  2A 00 00    	ld	hl,(_curr_time)
4990  1981  22 00 00    	ld	(_frame_time),hl
4991  1984  2A 00 00    	ld	hl,(_curr_time)
4992  1987  22 00 00    	ld	(_entry_time),hl
4993  198A  DD 7E 04    	ld	a,(ix+4)
4994  198D  07          	rlca
4995  198E  07          	rlca
4996  198F  07          	rlca
4997  1990  E6 F8       	and	a,0xf8
4998  1992  C6 08       	add	a,0x08
4999  1994  DD 77 FF    	ld	(ix-1),a
5000  1997              l_game_colour_message_00107:
5001  1997  3A 00 00    	ld	a,(_tmp)
5002  199A  B7          	or	a, a
5003  199B  28 66       	jr	Z,l_game_colour_message_00110
5004  199D  DD 6E 07    	ld	l,(ix+7)
5005  19A0  DD 66 08    	ld	h,(ix+8)
5006  19A3  E5          	push	hl
5007  19A4  2A 00 00    	ld	hl,(_entry_time)
5008  19A7  E5          	push	hl
5009  19A8  CD 07 1A    	call	_game_check_time
5010  19AB  F1          	pop	af
5011  19AC  F1          	pop	af
5012  19AD  7D          	ld	a,l
5013  19AE  B7          	or	a, a
5014  19AF  20 52       	jr	NZ,l_game_colour_message_00110
5015  19B1  21 05 00    	ld	hl,0x0005
5016  19B4  E5          	push	hl
5017  19B5  2A 00 00    	ld	hl,(_frame_time)
5018  19B8  E5          	push	hl
5019  19B9  CD 07 1A    	call	_game_check_time
5020  19BC  F1          	pop	af
5021  19BD  F1          	pop	af
5022  19BE  7D          	ld	a,l
5023  19BF  B7          	or	a, a
5024  19C0  28 1A       	jr	Z,l_game_colour_message_00103
5025  19C2  2A 00 00    	ld	hl,(_curr_time)
5026  19C5  22 00 00    	ld	(_frame_time),hl
5027  19C8  DD 66 FF    	ld	h,(ix-1)
5028  19CB  DD 6E 06    	ld	l,(ix+6)
5029  19CE  E5          	push	hl
5030  19CF  DD 7E 05    	ld	a,(ix+5)
5031  19D2  F5          	push	af
5032  19D3  33          	inc	sp
5033  19D4  CD 09 0D    	call	_game_paint_attrib_lin_h
5034  19D7  F1          	pop	af
5035  19D8  33          	inc	sp
5036  19D9  CD 59 19    	call	_game_rotate_attrib
5037  19DC              l_game_colour_message_00103:
5038  19DC  21 00 00    	ld	hl,_k1
5039  19DF  E5          	push	hl
5040  19E0  2A 00 00    	ld	hl,(_joyfunc1)
5041  19E3  CD 00 00    	call	___sdcc_call_hl
5042  19E6  E3          	ex	(sp),hl
5043  19E7  21 00 00    	ld	hl,_k2
5044  19EA  E5          	push	hl
5045  19EB  2A 00 00    	ld	hl,(_joyfunc2)
5046  19EE  CD 00 00    	call	___sdcc_call_hl
5047  19F1  F1          	pop	af
5048  19F2  EB          	ex	de,hl
5049  19F3  C1          	pop	bc
5050  19F4  79          	ld	a,c
5051  19F5  B3          	or	a, e
5052  19F6  4F          	ld	c,a
5053  19F7  78          	ld	a,b
5054  19F8  B2          	or	a, d
5055  19F9  B1          	or	a,c
5056  19FA  28 9B       	jr	Z,l_game_colour_message_00107
5057  19FC  21 00 00    	ld	hl,_tmp
5058  19FF  36 00       	ld	(hl),0x00
5059  1A01  18 D9       	jr	l_game_colour_message_00103
5060  1A03              l_game_colour_message_00110:
5061  1A03  33          	inc	sp
5062  1A04  DD E1       	pop	ix
5063  1A06  C9          	ret
5064  1A07              	SECTION code_compiler
5065  1A07              ;	---------------------------------
5066  1A07              ; Function game_check_time
5067  1A07              ; ---------------------------------
5068  1A07              _game_check_time:
5069  1A07  CD 00 00    	call	___sdcc_enter_ix
5070  1A0A  2A 00 00    	ld	hl,(_curr_time)
5071  1A0D  7D          	ld	a,l
5072  1A0E  DD 96 04    	sub	a,(ix+4)
5073  1A11  4F          	ld	c,a
5074  1A12  7C          	ld	a,h
5075  1A13  DD 9E 05    	sbc	a,(ix+5)
5076  1A16  47          	ld	b,a
5077  1A17  DD 7E 06    	ld	a,(ix+6)
5078  1A1A  91          	sub	a, c
5079  1A1B  DD 7E 07    	ld	a,(ix+7)
5080  1A1E  98          	sbc	a, b
5081  1A1F  30 04       	jr	NC,l_game_check_time_00102
5082  1A21  2E 01       	ld	l,0x01
5083  1A23  18 02       	jr	l_game_check_time_00104
5084  1A25              l_game_check_time_00102:
5085  1A25  2E 00       	ld	l,0x00
5086  1A27              l_game_check_time_00104:
5087  1A27  DD E1       	pop	ix
5088  1A29  C9          	ret
5089  1A2A              	SECTION IGNORE
5090  0000              
