1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _compare_scores
181   0000              	GLOBAL _game_menu_paint
182   0000              	GLOBAL _game_calc_index
183   0000              	GLOBAL _game_print_footer
184   0000              	GLOBAL _game_phase_print_score_back
185   0000              	GLOBAL _game_print_lives
186   0000              	GLOBAL _game_tick
187   0000              	GLOBAL _game_start_timer
188   0000              	GLOBAL _game_phase_calc
189   0000              	GLOBAL _game_phase_init
190   0000              	GLOBAL _game_print_header
191   0000              	GLOBAL _game_phase_print
192   0000              	GLOBAL _game_loop
193   0000              	GLOBAL _game_score_osd
194   0000              	GLOBAL _game_bonus_clock
195   0000              	GLOBAL _game_bonus_summary
196   0000              	GLOBAL _game_bonus_summary_player
197   0000              	GLOBAL _game_kill_all_sprites
198   0000              	GLOBAL _game_check_maze
199   0000              	GLOBAL _game_enemy_add
200   0000              	GLOBAL _game_enemy_quota
201   0000              	GLOBAL _game_enemy_rnd
202   0000              	GLOBAL _game_enemy_add1
203   0000              	GLOBAL _game_enemy_add_get_index
204   0000              	GLOBAL _game_freeze
205   0000              	GLOBAL _game_unfreeze_all
206   0000              	GLOBAL _game_freeze_all
207   0000              	GLOBAL _game_print_score
208   0000              	GLOBAL _game_paint_attrib
209   0000              	GLOBAL _game_paint_attrib_lin
210   0000              	GLOBAL _game_paint_attrib_lin_h
211   0000              	GLOBAL _game_menu_config
212   0000              	GLOBAL _game_menu
213   0000              	GLOBAL _game_menu_e
214   0000              	GLOBAL _game_menu_handle
215   0000              	GLOBAL _game_end
216   0000              	GLOBAL _game_hall_check
217   0000              	GLOBAL _game_hall_enter
218   0000              	GLOBAL _game_menu_back
219   0000              	GLOBAL _game_hall_enter_phs
220   0000              	GLOBAL _game_hall_print_p
221   0000              	GLOBAL _game_hall_edit_p
222   0000              	GLOBAL _game_hall_of_fame
223   0000              	GLOBAL _game_rotate_attrib
224   0000              	GLOBAL _game_colour_message
225   0000              	GLOBAL _game_check_time
226   0000              ;--------------------------------------------------------
227   0000              ; Externals used
228   0000              ;--------------------------------------------------------
229   0000              	GLOBAL _debug3
230   0000              	GLOBAL _debug2
231   0000              	GLOBAL _debug
232   0000              	GLOBAL _zx_print_str
233   0000              	GLOBAL _zx_print_int
234   0000              	GLOBAL _zx_print_chr
235   0000              	GLOBAL _zx_print_bonus_time
236   0000              	GLOBAL _zx_isr
237   0000              	GLOBAL _spr_draw_clear
238   0000              	GLOBAL _spr_water_splash_draw
239   0000              	GLOBAL _spr_water_splash_clear
240   0000              	GLOBAL _spr_draw_back
241   0000              	GLOBAL _spr_cortina_pipes
242   0000              	GLOBAL _spr_cortina_brick
243   0000              	GLOBAL _spr_brick_anim
244   0000              	GLOBAL _spr_back_fix4
245   0000              	GLOBAL _spr_back_fix3
246   0000              	GLOBAL _spr_back_fix2
247   0000              	GLOBAL _spr_back_fix1
248   0000              	GLOBAL _spr_back_fix
249   0000              	GLOBAL _spr_back_clr
250   0000              	GLOBAL _spr_draw_pow
251   0000              	GLOBAL _spr_tile
252   0000              	GLOBAL _spr_set_fall
253   0000              	GLOBAL _spr_destroy
254   0000              	GLOBAL _spr_check_over
255   0000              	GLOBAL _spr_tile_dir
256   0000              	GLOBAL _spr_anim_kill
257   0000              	GLOBAL _spr_anim_fall
258   0000              	GLOBAL _spr_killed
259   0000              	GLOBAL _spr_redraw
260   0000              	GLOBAL _spr_move_left
261   0000              	GLOBAL _spr_move_right
262   0000              	GLOBAL _spr_move_horizontal
263   0000              	GLOBAL _spr_move_down
264   0000              	GLOBAL _spr_move_up
265   0000              	GLOBAL _spr_chktime
266   0000              	GLOBAL _sound_hit_pow
267   0000              	GLOBAL _sound_hit_brick
268   0000              	GLOBAL _sound_hit_enemy
269   0000              	GLOBAL _sound_kill
270   0000              	GLOBAL _sound_enter_enemy
271   0000              	GLOBAL _sound_coin
272   0000              	GLOBAL _sound_jump
273   0000              	GLOBAL _sound_slide
274   0000              	GLOBAL _player_move_horizontal
275   0000              	GLOBAL _player_push_check
276   0000              	GLOBAL _player_push
277   0000              	GLOBAL _player_hit_brick_clear
278   0000              	GLOBAL _player_lost_life
279   0000              	GLOBAL _player_score_add
280   0000              	GLOBAL _player_coin
281   0000              	GLOBAL _player_hit_pow
282   0000              	GLOBAL _player_hit_brick
283   0000              	GLOBAL _player_hit_slipice
284   0000              	GLOBAL _player_move_input
285   0000              	GLOBAL _player_turn
286   0000              	GLOBAL _player_move
287   0000              	GLOBAL _player_restart
288   0000              	GLOBAL _player_kill
289   0000              	GLOBAL _player_collition_check
290   0000              	GLOBAL _player_collition
291   0000              	GLOBAL _player_init
292   0000              	GLOBAL _player_set2
293   0000              	GLOBAL _player_set1
294   0000              	GLOBAL _game_fill_row
295   0000              	GLOBAL _enemy_kill
296   0000              	GLOBAL _enemy_init
297   0000              	GLOBAL _enemy_walk
298   0000              	GLOBAL _enemy_upgrade
299   0000              	GLOBAL _enemy_evolve
300   0000              	GLOBAL _enemy_standard_hit
301   0000              	GLOBAL _enemy_trip
302   0000              	GLOBAL _enemy_fighterfly
303   0000              	GLOBAL _enemy_fireball_green
304   0000              	GLOBAL _enemy_fireball_red
305   0000              	GLOBAL _enemy_slipice
306   0000              	GLOBAL _enemy_standard
307   0000              	GLOBAL _enemy_turn
308   0000              	GLOBAL _enemy_flip_sidestepper
309   0000              	GLOBAL _enemy_flip
310   0000              	GLOBAL _enemy_flip_change_dir
311   0000              	GLOBAL _enemy_hit
312   0000              	GLOBAL _enemy_collition_check
313   0000              	GLOBAL _enemy_collition
314   0000              	GLOBAL _enemy_coin1
315   0000              	GLOBAL _ay_fx_play
316   0000              	GLOBAL _ay_midi_play
317   0000              	GLOBAL _ay_is_playing
318   0000              	GLOBAL _ay_reset
319   0000              	GLOBAL _in_mouse_kempston_wheel_delta
320   0000              	GLOBAL _in_mouse_kempston_wheel
321   0000              	GLOBAL _in_mouse_kempston_callee
322   0000              	GLOBAL _in_mouse_kempston
323   0000              	GLOBAL _in_mouse_kempston_setpos_callee
324   0000              	GLOBAL _in_mouse_kempston_setpos
325   0000              	GLOBAL _in_mouse_kempston_reset
326   0000              	GLOBAL _in_mouse_kempston_init
327   0000              	GLOBAL _in_mouse_amx_wheel_delta
328   0000              	GLOBAL _in_mouse_amx_wheel
329   0000              	GLOBAL _in_mouse_amx_callee
330   0000              	GLOBAL _in_mouse_amx
331   0000              	GLOBAL _in_mouse_amx_setpos_callee
332   0000              	GLOBAL _in_mouse_amx_setpos
333   0000              	GLOBAL _in_mouse_amx_reset
334   0000              	GLOBAL _in_mouse_amx_init_callee
335   0000              	GLOBAL _in_mouse_amx_init
336   0000              	GLOBAL _in_stick_sinclair2
337   0000              	GLOBAL _in_stick_sinclair1
338   0000              	GLOBAL _in_stick_kempston
339   0000              	GLOBAL _in_stick_fuller
340   0000              	GLOBAL _in_stick_cursor
341   0000              	GLOBAL _in_stick_keyboard_fastcall
342   0000              	GLOBAL _in_stick_keyboard
343   0000              	GLOBAL _in_wait_nokey
344   0000              	GLOBAL _in_wait_key
345   0000              	GLOBAL _in_test_key
346   0000              	GLOBAL _in_pause_fastcall
347   0000              	GLOBAL _in_pause
348   0000              	GLOBAL _in_key_scancode_fastcall
349   0000              	GLOBAL _in_key_scancode
350   0000              	GLOBAL _in_key_pressed_fastcall
351   0000              	GLOBAL _in_key_pressed
352   0000              	GLOBAL _in_inkey
353   0000              	GLOBAL _NIRVANAP_chars_fastcall
354   0000              	GLOBAL _NIRVANAP_chars
355   0000              	GLOBAL _NIRVANAP_wides_fastcall
356   0000              	GLOBAL _NIRVANAP_wides
357   0000              	GLOBAL _NIRVANAP_tiles_fastcall
358   0000              	GLOBAL _NIRVANAP_tiles
359   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawW_raw
361   0000              	GLOBAL _NIRVANAP_drawW_callee
362   0000              	GLOBAL _NIRVANAP_drawW
363   0000              	GLOBAL _NIRVANAP_spriteT_callee
364   0000              	GLOBAL _NIRVANAP_spriteT
365   0000              	GLOBAL _NIRVANAP_fillC_callee
366   0000              	GLOBAL _NIRVANAP_fillC
367   0000              	GLOBAL _NIRVANAP_paintC_callee
368   0000              	GLOBAL _NIRVANAP_paintC
369   0000              	GLOBAL _NIRVANAP_printC_callee
370   0000              	GLOBAL _NIRVANAP_printC
371   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
372   0000              	GLOBAL _NIRVANAP_fillT_raw
373   0000              	GLOBAL _NIRVANAP_fillT_callee
374   0000              	GLOBAL _NIRVANAP_fillT
375   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
376   0000              	GLOBAL _NIRVANAP_drawT_raw
377   0000              	GLOBAL _NIRVANAP_drawT_callee
378   0000              	GLOBAL _NIRVANAP_drawT
379   0000              	GLOBAL _NIRVANAP_stop
380   0000              	GLOBAL _NIRVANAP_start
381   0000              	GLOBAL _z80_otdr_callee
382   0000              	GLOBAL _z80_otdr
383   0000              	GLOBAL _z80_otir_callee
384   0000              	GLOBAL _z80_otir
385   0000              	GLOBAL _z80_outp_callee
386   0000              	GLOBAL _z80_outp
387   0000              	GLOBAL _z80_indr_callee
388   0000              	GLOBAL _z80_indr
389   0000              	GLOBAL _z80_inir_callee
390   0000              	GLOBAL _z80_inir
391   0000              	GLOBAL _z80_inp_fastcall
392   0000              	GLOBAL _z80_inp
393   0000              	GLOBAL _z80_set_int_state_fastcall
394   0000              	GLOBAL _z80_set_int_state
395   0000              	GLOBAL _z80_get_int_state
396   0000              	GLOBAL _z80_delay_tstate_fastcall
397   0000              	GLOBAL _z80_delay_tstate
398   0000              	GLOBAL _z80_delay_ms_fastcall
399   0000              	GLOBAL _z80_delay_ms
400   0000              	GLOBAL _im2_remove_generic_callback_callee
401   0000              	GLOBAL _im2_remove_generic_callback
402   0000              	GLOBAL _im2_prepend_generic_callback_callee
403   0000              	GLOBAL _im2_prepend_generic_callback
404   0000              	GLOBAL _im2_append_generic_callback_callee
405   0000              	GLOBAL _im2_append_generic_callback
406   0000              	GLOBAL _im2_create_generic_isr_8080_callee
407   0000              	GLOBAL _im2_create_generic_isr_8080
408   0000              	GLOBAL _im2_create_generic_isr_callee
409   0000              	GLOBAL _im2_create_generic_isr
410   0000              	GLOBAL _im2_install_isr_callee
411   0000              	GLOBAL _im2_install_isr
412   0000              	GLOBAL _im2_init_fastcall
413   0000              	GLOBAL _im2_init
414   0000              	GLOBAL _ffsll_callee
415   0000              	GLOBAL _ffsll
416   0000              	GLOBAL _strxfrm_callee
417   0000              	GLOBAL _strxfrm
418   0000              	GLOBAL _strupr_fastcall
419   0000              	GLOBAL _strupr
420   0000              	GLOBAL _strtok_r_callee
421   0000              	GLOBAL _strtok_r
422   0000              	GLOBAL _strtok_callee
423   0000              	GLOBAL _strtok
424   0000              	GLOBAL _strstrip_fastcall
425   0000              	GLOBAL _strstrip
426   0000              	GLOBAL _strstr_callee
427   0000              	GLOBAL _strstr
428   0000              	GLOBAL _strspn_callee
429   0000              	GLOBAL _strspn
430   0000              	GLOBAL _strsep_callee
431   0000              	GLOBAL _strsep
432   0000              	GLOBAL _strrstrip_fastcall
433   0000              	GLOBAL _strrstrip
434   0000              	GLOBAL _strrspn_callee
435   0000              	GLOBAL _strrspn
436   0000              	GLOBAL _strrev_fastcall
437   0000              	GLOBAL _strrev
438   0000              	GLOBAL _strrcspn_callee
439   0000              	GLOBAL _strrcspn
440   0000              	GLOBAL _strrchr_callee
441   0000              	GLOBAL _strrchr
442   0000              	GLOBAL _strpbrk_callee
443   0000              	GLOBAL _strpbrk
444   0000              	GLOBAL _strnlen_callee
445   0000              	GLOBAL _strnlen
446   0000              	GLOBAL _strnicmp_callee
447   0000              	GLOBAL _strnicmp
448   0000              	GLOBAL _strndup_callee
449   0000              	GLOBAL _strndup
450   0000              	GLOBAL _strncpy_callee
451   0000              	GLOBAL _strncpy
452   0000              	GLOBAL _strncmp_callee
453   0000              	GLOBAL _strncmp
454   0000              	GLOBAL _strnchr_callee
455   0000              	GLOBAL _strnchr
456   0000              	GLOBAL _strncat_callee
457   0000              	GLOBAL _strncat
458   0000              	GLOBAL _strncasecmp_callee
459   0000              	GLOBAL _strncasecmp
460   0000              	GLOBAL _strlwr_fastcall
461   0000              	GLOBAL _strlwr
462   0000              	GLOBAL _strlen_fastcall
463   0000              	GLOBAL _strlen
464   0000              	GLOBAL _strlcpy_callee
465   0000              	GLOBAL _strlcpy
466   0000              	GLOBAL _strlcat_callee
467   0000              	GLOBAL _strlcat
468   0000              	GLOBAL _stricmp_callee
469   0000              	GLOBAL _stricmp
470   0000              	GLOBAL _strerror_fastcall
471   0000              	GLOBAL _strerror
472   0000              	GLOBAL _strdup_fastcall
473   0000              	GLOBAL _strdup
474   0000              	GLOBAL _strcspn_callee
475   0000              	GLOBAL _strcspn
476   0000              	GLOBAL _strcpy_callee
477   0000              	GLOBAL _strcpy
478   0000              	GLOBAL _strcoll_callee
479   0000              	GLOBAL _strcoll
480   0000              	GLOBAL _strcmp_callee
481   0000              	GLOBAL _strcmp
482   0000              	GLOBAL _strchrnul_callee
483   0000              	GLOBAL _strchrnul
484   0000              	GLOBAL _strchr_callee
485   0000              	GLOBAL _strchr
486   0000              	GLOBAL _strcat_callee
487   0000              	GLOBAL _strcat
488   0000              	GLOBAL _strcasecmp_callee
489   0000              	GLOBAL _strcasecmp
490   0000              	GLOBAL _stpncpy_callee
491   0000              	GLOBAL _stpncpy
492   0000              	GLOBAL _stpcpy_callee
493   0000              	GLOBAL _stpcpy
494   0000              	GLOBAL _memswap_callee
495   0000              	GLOBAL _memswap
496   0000              	GLOBAL _memset_callee
497   0000              	GLOBAL _memset
498   0000              	GLOBAL _memrchr_callee
499   0000              	GLOBAL _memrchr
500   0000              	GLOBAL _memmove_callee
501   0000              	GLOBAL _memmove
502   0000              	GLOBAL _memmem_callee
503   0000              	GLOBAL _memmem
504   0000              	GLOBAL _memcpy_callee
505   0000              	GLOBAL _memcpy
506   0000              	GLOBAL _memcmp_callee
507   0000              	GLOBAL _memcmp
508   0000              	GLOBAL _memchr_callee
509   0000              	GLOBAL _memchr
510   0000              	GLOBAL _memccpy_callee
511   0000              	GLOBAL _memccpy
512   0000              	GLOBAL _ffsl_fastcall
513   0000              	GLOBAL _ffsl
514   0000              	GLOBAL _ffs_fastcall
515   0000              	GLOBAL _ffs
516   0000              	GLOBAL __strrstrip__fastcall
517   0000              	GLOBAL __strrstrip_
518   0000              	GLOBAL __memupr__callee
519   0000              	GLOBAL __memupr_
520   0000              	GLOBAL __memstrcpy__callee
521   0000              	GLOBAL __memstrcpy_
522   0000              	GLOBAL __memlwr__callee
523   0000              	GLOBAL __memlwr_
524   0000              	GLOBAL _rawmemchr_callee
525   0000              	GLOBAL _rawmemchr
526   0000              	GLOBAL _strnset_callee
527   0000              	GLOBAL _strnset
528   0000              	GLOBAL _strset_callee
529   0000              	GLOBAL _strset
530   0000              	GLOBAL _rindex_callee
531   0000              	GLOBAL _rindex
532   0000              	GLOBAL _index_callee
533   0000              	GLOBAL _index
534   0000              	GLOBAL _bzero_callee
535   0000              	GLOBAL _bzero
536   0000              	GLOBAL _bcopy_callee
537   0000              	GLOBAL _bcopy
538   0000              	GLOBAL _bcmp_callee
539   0000              	GLOBAL _bcmp
540   0000              	GLOBAL _ulltoa_callee
541   0000              	GLOBAL _ulltoa
542   0000              	GLOBAL _strtoull_callee
543   0000              	GLOBAL _strtoull
544   0000              	GLOBAL _strtoll_callee
545   0000              	GLOBAL _strtoll
546   0000              	GLOBAL _lltoa_callee
547   0000              	GLOBAL _lltoa
548   0000              	GLOBAL _llabs_callee
549   0000              	GLOBAL _llabs
550   0000              	GLOBAL __lldivu__callee
551   0000              	GLOBAL __lldivu_
552   0000              	GLOBAL __lldiv__callee
553   0000              	GLOBAL __lldiv_
554   0000              	GLOBAL _atoll_callee
555   0000              	GLOBAL _atoll
556   0000              	GLOBAL _realloc_unlocked_callee
557   0000              	GLOBAL _realloc_unlocked
558   0000              	GLOBAL _malloc_unlocked_fastcall
559   0000              	GLOBAL _malloc_unlocked
560   0000              	GLOBAL _free_unlocked_fastcall
561   0000              	GLOBAL _free_unlocked
562   0000              	GLOBAL _calloc_unlocked_callee
563   0000              	GLOBAL _calloc_unlocked
564   0000              	GLOBAL _aligned_alloc_unlocked_callee
565   0000              	GLOBAL _aligned_alloc_unlocked
566   0000              	GLOBAL _realloc_callee
567   0000              	GLOBAL _realloc
568   0000              	GLOBAL _malloc_fastcall
569   0000              	GLOBAL _malloc
570   0000              	GLOBAL _free_fastcall
571   0000              	GLOBAL _free
572   0000              	GLOBAL _calloc_callee
573   0000              	GLOBAL _calloc
574   0000              	GLOBAL _aligned_alloc_callee
575   0000              	GLOBAL _aligned_alloc
576   0000              	GLOBAL _utoa_callee
577   0000              	GLOBAL _utoa
578   0000              	GLOBAL _ultoa_callee
579   0000              	GLOBAL _ultoa
580   0000              	GLOBAL _system_fastcall
581   0000              	GLOBAL _system
582   0000              	GLOBAL _strtoul_callee
583   0000              	GLOBAL _strtoul
584   0000              	GLOBAL _strtol_callee
585   0000              	GLOBAL _strtol
586   0000              	GLOBAL _strtof_callee
587   0000              	GLOBAL _strtof
588   0000              	GLOBAL _strtod_callee
589   0000              	GLOBAL _strtod
590   0000              	GLOBAL _srand_fastcall
591   0000              	GLOBAL _srand
592   0000              	GLOBAL _rand
593   0000              	GLOBAL _quick_exit_fastcall
594   0000              	GLOBAL _quick_exit
595   0000              	GLOBAL _qsort_callee
596   0000              	GLOBAL _qsort
597   0000              	GLOBAL _ltoa_callee
598   0000              	GLOBAL _ltoa
599   0000              	GLOBAL _labs_fastcall
600   0000              	GLOBAL _labs
601   0000              	GLOBAL _itoa_callee
602   0000              	GLOBAL _itoa
603   0000              	GLOBAL _ftoh_callee
604   0000              	GLOBAL _ftoh
605   0000              	GLOBAL _ftog_callee
606   0000              	GLOBAL _ftog
607   0000              	GLOBAL _ftoe_callee
608   0000              	GLOBAL _ftoe
609   0000              	GLOBAL _ftoa_callee
610   0000              	GLOBAL _ftoa
611   0000              	GLOBAL _exit_fastcall
612   0000              	GLOBAL _exit
613   0000              	GLOBAL _dtoh_callee
614   0000              	GLOBAL _dtoh
615   0000              	GLOBAL _dtog_callee
616   0000              	GLOBAL _dtog
617   0000              	GLOBAL _dtoe_callee
618   0000              	GLOBAL _dtoe
619   0000              	GLOBAL _dtoa_callee
620   0000              	GLOBAL _dtoa
621   0000              	GLOBAL _bsearch_callee
622   0000              	GLOBAL _bsearch
623   0000              	GLOBAL _atol_fastcall
624   0000              	GLOBAL _atol
625   0000              	GLOBAL _atoi_fastcall
626   0000              	GLOBAL _atoi
627   0000              	GLOBAL _atof_fastcall
628   0000              	GLOBAL _atof
629   0000              	GLOBAL _atexit_fastcall
630   0000              	GLOBAL _atexit
631   0000              	GLOBAL _at_quick_exit_fastcall
632   0000              	GLOBAL _at_quick_exit
633   0000              	GLOBAL _abs_fastcall
634   0000              	GLOBAL _abs
635   0000              	GLOBAL _abort
636   0000              	GLOBAL __strtou__callee
637   0000              	GLOBAL __strtou_
638   0000              	GLOBAL __strtoi__callee
639   0000              	GLOBAL __strtoi_
640   0000              	GLOBAL __random_uniform_xor_8__fastcall
641   0000              	GLOBAL __random_uniform_xor_8_
642   0000              	GLOBAL __random_uniform_xor_32__fastcall
643   0000              	GLOBAL __random_uniform_xor_32_
644   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
645   0000              	GLOBAL __random_uniform_cmwc_8_
646   0000              	GLOBAL __shellsort__callee
647   0000              	GLOBAL __shellsort_
648   0000              	GLOBAL __quicksort__callee
649   0000              	GLOBAL __quicksort_
650   0000              	GLOBAL __insertion_sort__callee
651   0000              	GLOBAL __insertion_sort_
652   0000              	GLOBAL __ldivu__callee
653   0000              	GLOBAL __ldivu_
654   0000              	GLOBAL __ldiv__callee
655   0000              	GLOBAL __ldiv_
656   0000              	GLOBAL __divu__callee
657   0000              	GLOBAL __divu_
658   0000              	GLOBAL __div__callee
659   0000              	GLOBAL __div_
660   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
661   0000              	GLOBAL _intrinsic_swap_word_32
662   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
663   0000              	GLOBAL _intrinsic_swap_endian_32
664   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
665   0000              	GLOBAL _intrinsic_swap_endian_16
666   0000              	GLOBAL _intrinsic_return_de
667   0000              	GLOBAL _intrinsic_return_bc
668   0000              	GLOBAL _intrinsic_exx
669   0000              	GLOBAL _intrinsic_ex_de_hl
670   0000              	GLOBAL _intrinsic_pop_iy
671   0000              	GLOBAL _intrinsic_pop_ix
672   0000              	GLOBAL _intrinsic_pop_hl
673   0000              	GLOBAL _intrinsic_pop_de
674   0000              	GLOBAL _intrinsic_pop_bc
675   0000              	GLOBAL _intrinsic_pop_af
676   0000              	GLOBAL _intrinsic_push_iy
677   0000              	GLOBAL _intrinsic_push_ix
678   0000              	GLOBAL _intrinsic_push_hl
679   0000              	GLOBAL _intrinsic_push_de
680   0000              	GLOBAL _intrinsic_push_bc
681   0000              	GLOBAL _intrinsic_push_af
682   0000              	GLOBAL _intrinsic_nop
683   0000              	GLOBAL _intrinsic_im_2
684   0000              	GLOBAL _intrinsic_im_1
685   0000              	GLOBAL _intrinsic_im_0
686   0000              	GLOBAL _intrinsic_retn
687   0000              	GLOBAL _intrinsic_reti
688   0000              	GLOBAL _intrinsic_halt
689   0000              	GLOBAL _intrinsic_ei
690   0000              	GLOBAL _intrinsic_di
691   0000              	GLOBAL _intrinsic_stub
692   0000              	GLOBAL _zx_pattern_fill_callee
693   0000              	GLOBAL _zx_pattern_fill
694   0000              	GLOBAL _zx_saddrpup_fastcall
695   0000              	GLOBAL _zx_saddrpup
696   0000              	GLOBAL _zx_saddrpright_callee
697   0000              	GLOBAL _zx_saddrpright
698   0000              	GLOBAL _zx_saddrpleft_callee
699   0000              	GLOBAL _zx_saddrpleft
700   0000              	GLOBAL _zx_saddrpdown_fastcall
701   0000              	GLOBAL _zx_saddrpdown
702   0000              	GLOBAL _zx_saddrcup_fastcall
703   0000              	GLOBAL _zx_saddrcup
704   0000              	GLOBAL _zx_saddrcright_fastcall
705   0000              	GLOBAL _zx_saddrcright
706   0000              	GLOBAL _zx_saddrcleft_fastcall
707   0000              	GLOBAL _zx_saddrcleft
708   0000              	GLOBAL _zx_saddrcdown_fastcall
709   0000              	GLOBAL _zx_saddrcdown
710   0000              	GLOBAL _zx_saddr2py_fastcall
711   0000              	GLOBAL _zx_saddr2py
712   0000              	GLOBAL _zx_saddr2px_fastcall
713   0000              	GLOBAL _zx_saddr2px
714   0000              	GLOBAL _zx_saddr2cy_fastcall
715   0000              	GLOBAL _zx_saddr2cy
716   0000              	GLOBAL _zx_saddr2cx_fastcall
717   0000              	GLOBAL _zx_saddr2cx
718   0000              	GLOBAL _zx_saddr2aaddr_fastcall
719   0000              	GLOBAL _zx_saddr2aaddr
720   0000              	GLOBAL _zx_py2saddr_fastcall
721   0000              	GLOBAL _zx_py2saddr
722   0000              	GLOBAL _zx_py2aaddr_fastcall
723   0000              	GLOBAL _zx_py2aaddr
724   0000              	GLOBAL _zx_pxy2saddr_callee
725   0000              	GLOBAL _zx_pxy2saddr
726   0000              	GLOBAL _zx_pxy2aaddr_callee
727   0000              	GLOBAL _zx_pxy2aaddr
728   0000              	GLOBAL _zx_px2bitmask_fastcall
729   0000              	GLOBAL _zx_px2bitmask
730   0000              	GLOBAL _zx_cyx2saddr_callee
731   0000              	GLOBAL _zx_cyx2saddr
732   0000              	GLOBAL _zx_cyx2aaddr_callee
733   0000              	GLOBAL _zx_cyx2aaddr
734   0000              	GLOBAL _zx_cy2saddr_fastcall
735   0000              	GLOBAL _zx_cy2saddr
736   0000              	GLOBAL _zx_cy2aaddr_fastcall
737   0000              	GLOBAL _zx_cy2aaddr
738   0000              	GLOBAL _zx_bitmask2px_fastcall
739   0000              	GLOBAL _zx_bitmask2px
740   0000              	GLOBAL _zx_aaddrcup_fastcall
741   0000              	GLOBAL _zx_aaddrcup
742   0000              	GLOBAL _zx_aaddrcright_fastcall
743   0000              	GLOBAL _zx_aaddrcright
744   0000              	GLOBAL _zx_aaddrcleft_fastcall
745   0000              	GLOBAL _zx_aaddrcleft
746   0000              	GLOBAL _zx_aaddrcdown_fastcall
747   0000              	GLOBAL _zx_aaddrcdown
748   0000              	GLOBAL _zx_aaddr2saddr_fastcall
749   0000              	GLOBAL _zx_aaddr2saddr
750   0000              	GLOBAL _zx_aaddr2py_fastcall
751   0000              	GLOBAL _zx_aaddr2py
752   0000              	GLOBAL _zx_aaddr2px_fastcall
753   0000              	GLOBAL _zx_aaddr2px
754   0000              	GLOBAL _zx_aaddr2cy_fastcall
755   0000              	GLOBAL _zx_aaddr2cy
756   0000              	GLOBAL _zx_aaddr2cx_fastcall
757   0000              	GLOBAL _zx_aaddr2cx
758   0000              	GLOBAL _zx_scroll_wc_up_callee
759   0000              	GLOBAL _zx_scroll_wc_up
760   0000              	GLOBAL _zx_scroll_up_callee
761   0000              	GLOBAL _zx_scroll_up
762   0000              	GLOBAL _zx_cls_wc_callee
763   0000              	GLOBAL _zx_cls_wc
764   0000              	GLOBAL _zx_cls_fastcall
765   0000              	GLOBAL _zx_cls
766   0000              	GLOBAL _zx_border_fastcall
767   0000              	GLOBAL _zx_border
768   0000              	GLOBAL _ay_effect_20
769   0000              	GLOBAL _ay_effect_19
770   0000              	GLOBAL _ay_effect_18
771   0000              	GLOBAL _ay_effect_17
772   0000              	GLOBAL _ay_effect_16
773   0000              	GLOBAL _ay_effect_15
774   0000              	GLOBAL _ay_effect_14
775   0000              	GLOBAL _ay_effect_13
776   0000              	GLOBAL _ay_effect_12
777   0000              	GLOBAL _ay_effect_11
778   0000              	GLOBAL _ay_effect_10
779   0000              	GLOBAL _ay_effect_09
780   0000              	GLOBAL _ay_effect_08
781   0000              	GLOBAL _ay_effect_07
782   0000              	GLOBAL _ay_effect_06
783   0000              	GLOBAL _ay_effect_05
784   0000              	GLOBAL _ay_effect_04
785   0000              	GLOBAL _ay_effect_03
786   0000              	GLOBAL _ay_effect_02
787   0000              	GLOBAL _ay_effect_01
788   0000              	GLOBAL _pb_midi_phase_1
789   0000              	GLOBAL _pb_midi_title
790   0000              	GLOBAL _initials
791   0000              	GLOBAL _hof
792   0000              	GLOBAL _score_osd_tile
793   0000              	GLOBAL _score_osd_time
794   0000              	GLOBAL _score_osd_col
795   0000              	GLOBAL _score_osd_lin
796   0000              	GLOBAL _phase_bonus_total
797   0000              	GLOBAL _phase_angry
798   0000              	GLOBAL _phase_curr
799   0000              	GLOBAL _phase_end
800   0000              	GLOBAL _phase_coins
801   0000              	GLOBAL _phase_pop
802   0000              	GLOBAL _phase_tot
803   0000              	GLOBAL _phase_left
804   0000              	GLOBAL _phase_quota
805   0000              	GLOBAL _phases
806   0000              	GLOBAL _spr_idx
807   0000              	GLOBAL _lvl_1
808   0000              	GLOBAL _sprite_speed_alt
809   0000              	GLOBAL _sprite_speed
810   0000              	GLOBAL _screen_ink
811   0000              	GLOBAL _screen_paper
812   0000              	GLOBAL _game_menu_sel
813   0000              	GLOBAL _game_type
814   0000              	GLOBAL _game_bonus
815   0000              	GLOBAL _spr_water_time
816   0000              	GLOBAL _spr_water_clear
817   0000              	GLOBAL _game_time_fireball_start
818   0000              	GLOBAL _game_time_flipped
819   0000              	GLOBAL _game_score_top
820   0000              	GLOBAL _game_lives_update
821   0000              	GLOBAL _game_lives
822   0000              	GLOBAL _game_over
823   0000              	GLOBAL _game_sound
824   0000              	GLOBAL _game_two_player
825   0000              	GLOBAL _game_brick_tile
826   0000              	GLOBAL _game_pow
827   0000              	GLOBAL _spr_count
828   0000              	GLOBAL _frame_loop_count
829   0000              	GLOBAL _col_time
830   0000              	GLOBAL _frame_time
831   0000              	GLOBAL _entry_time
832   0000              	GLOBAL _curr_time
833   0000              	GLOBAL _s_state
834   0000              	GLOBAL _attrib_hl
835   0000              	GLOBAL _attrib
836   0000              	GLOBAL _zx_val_asm
837   0000              	GLOBAL _enemies
838   0000              	GLOBAL _tmp_ui
839   0000              	GLOBAL _tmp_sc
840   0000              	GLOBAL _tmp_uc
841   0000              	GLOBAL _tmp1
842   0000              	GLOBAL _tmp0
843   0000              	GLOBAL _tmp
844   0000              	GLOBAL _index_d
845   0000              	GLOBAL _index3
846   0000              	GLOBAL _index2
847   0000              	GLOBAL _index1
848   0000              	GLOBAL _loop_count
849   0000              	GLOBAL _s_col1
850   0000              	GLOBAL _s_col0
851   0000              	GLOBAL _s_lin1
852   0000              	GLOBAL _s_lin0
853   0000              	GLOBAL _s_tile1
854   0000              	GLOBAL _s_tile0
855   0000              	GLOBAL _hit_count
856   0000              	GLOBAL _tile_offset_other_player
857   0000              	GLOBAL _tile_offset
858   0000              	GLOBAL _index_player
859   0000              	GLOBAL _sprite_other_player
860   0000              	GLOBAL _sprite
861   0000              	GLOBAL _player_next_extra
862   0000              	GLOBAL _player_score
863   0000              	GLOBAL _last_time
864   0000              	GLOBAL _sliding
865   0000              	GLOBAL _spr_timer_c
866   0000              	GLOBAL _spr_timer
867   0000              	GLOBAL _jump_lin
868   0000              	GLOBAL _hit_col
869   0000              	GLOBAL _hit_lin
870   0000              	GLOBAL _colint
871   0000              	GLOBAL _col
872   0000              	GLOBAL _lin
873   0000              	GLOBAL _tile
874   0000              	GLOBAL _state_a
875   0000              	GLOBAL _state
876   0000              	GLOBAL _class
877   0000              	GLOBAL _tbuffer
878   0000              	GLOBAL _dirs
879   0000              	GLOBAL _k2
880   0000              	GLOBAL _k1
881   0000              	GLOBAL _joyfunc2
882   0000              	GLOBAL _joyfunc1
883   0000              	GLOBAL _joynames
884   0000              	GLOBAL _btiles
885   0000              	GLOBAL _spec128
886   0000              	GLOBAL _hall_valids
887   0000              ;--------------------------------------------------------
888   0000              ; special function registers
889   0000              ;--------------------------------------------------------
890   0000              ;--------------------------------------------------------
891   0000              ; ram data
892   0000              ;--------------------------------------------------------
893   0000              	SECTION bss_compiler
894   0000              defc _NIRVANAP_isr	=	0xf5d2
895   0000              ;--------------------------------------------------------
896   0000              ; ram data
897   0000              ;--------------------------------------------------------
898   0000              
899   0000              IF 0
900   0000              
901   0000              ; .area _INITIALIZED removed by z88dk
902   0000              
903   0000              
904   0000              ENDIF
905   0000              
906   0000              ;--------------------------------------------------------
907   0000              ; absolute external ram data
908   0000              ;--------------------------------------------------------
909   0000              	SECTION IGNORE
910   0000              ;--------------------------------------------------------
911   0000              ; global & static initialisations
912   0000              ;--------------------------------------------------------
913   0000              	SECTION code_crt_init
914   0000              ;--------------------------------------------------------
915   0000              ; Home
916   0000              ;--------------------------------------------------------
917   0000              	SECTION IGNORE
918   0000              ;--------------------------------------------------------
919   0000              ; code
920   0000              ;--------------------------------------------------------
921   0000              	SECTION code_compiler
922   0000              ;	---------------------------------
923   0000              ; Function game_calc_index
924   0000              ; ---------------------------------
925   0000              _game_calc_index:
926   0000  CD 00 00    	call	___sdcc_enter_ix
927   0003  DD 4E 05    	ld	c,(ix+5)
928   0006  06 00       	ld	b,0x00
929   0008  DD 7E 04    	ld	a,(ix+4)
930   000B  0F          	rrca
931   000C  0F          	rrca
932   000D  0F          	rrca
933   000E  E6 1F       	and	a,0x1f
934   0010  6F          	ld	l,a
935   0011  26 00       	ld	h,0x00
936   0013  29          	add	hl, hl
937   0014  29          	add	hl, hl
938   0015  29          	add	hl, hl
939   0016  29          	add	hl, hl
940   0017  29          	add	hl, hl
941   0018  09          	add	hl,bc
942   0019  DD E1       	pop	ix
943   001B  C9          	ret
944   001C              ;	---------------------------------
945   001C              ; Function game_print_footer
946   001C              ; ---------------------------------
947   001C              _game_print_footer:
948   001C  21 B1 00    	ld	hl,___str_0
949   001F  E5          	push	hl
950   0020  21 16 01    	ld	hl,0x0116
951   0023  E5          	push	hl
952   0024  CD 00 00    	call	_zx_print_str
953   0027  21 B1 00    	ld	hl,___str_0
954   002A  E5          	push	hl
955   002B  21 16 1E    	ld	hl,0x1e16
956   002E  E5          	push	hl
957   002F  CD 00 00    	call	_zx_print_str
958   0032  21 B3 00    	ld	hl,___str_1
959   0035  E5          	push	hl
960   0036  21 17 01    	ld	hl,0x0117
961   0039  E5          	push	hl
962   003A  CD 00 00    	call	_zx_print_str
963   003D  21 B3 00    	ld	hl,___str_1
964   0040  E5          	push	hl
965   0041  21 17 1E    	ld	hl,0x1e17
966   0044  E5          	push	hl
967   0045  CD 00 00    	call	_zx_print_str
968   0048  3A 00 00    	ld	a,(_game_lives)
969   004B  B7          	or	a, a
970   004C  28 20       	jr	Z,l_game_print_footer_00102
971   004E  21 00 00    	ld	hl,_screen_ink
972   0051  36 02       	ld	(hl),0x02
973   0053  21 B9 00    	ld	hl,___str_2
974   0056  E5          	push	hl
975   0057  21 16 01    	ld	hl,0x0116
976   005A  E5          	push	hl
977   005B  CD 00 00    	call	_zx_print_str
978   005E  21 00 00    	ld	hl,_screen_ink
979   0061  36 06       	ld	(hl),0x06
980   0063  21 BB 00    	ld	hl,___str_3
981   0066  E5          	push	hl
982   0067  21 17 01    	ld	hl,0x0117
983   006A  E5          	push	hl
984   006B  CD 00 00    	call	_zx_print_str
985   006E              l_game_print_footer_00102:
986   006E  3A 01 00    	ld	a, (_game_lives + 1)
987   0071  B7          	or	a, a
988   0072  28 20       	jr	Z,l_game_print_footer_00104
989   0074  21 00 00    	ld	hl,_screen_ink
990   0077  36 07       	ld	(hl),0x07
991   0079  21 BD 00    	ld	hl,___str_4
992   007C  E5          	push	hl
993   007D  21 16 1E    	ld	hl,0x1e16
994   0080  E5          	push	hl
995   0081  CD 00 00    	call	_zx_print_str
996   0084  21 00 00    	ld	hl,_screen_ink
997   0087  36 06       	ld	(hl),0x06
998   0089  21 BF 00    	ld	hl,___str_5
999   008C  E5          	push	hl
1000  008D  21 17 1E    	ld	hl,0x1e17
1001  0090  E5          	push	hl
1002  0091  CD 00 00    	call	_zx_print_str
1003  0094              l_game_print_footer_00104:
1004  0094  CD 07 01    	call	_game_print_lives
1005  0097  21 C1 00    	ld	hl,___str_6
1006  009A  E5          	push	hl
1007  009B  21 17 0B    	ld	hl,0x0b17
1008  009E  E5          	push	hl
1009  009F  CD 00 00    	call	_zx_print_str
1010  00A2  21 00 00    	ld	hl,_phase_curr
1011  00A5  46          	ld	b,(hl)
1012  00A6  04          	inc	b
1013  00A7  C5          	push	bc
1014  00A8  33          	inc	sp
1015  00A9  21 17 12    	ld	hl,0x1217
1016  00AC  E5          	push	hl
1017  00AD  CD 00 00    	call	_zx_print_chr
1018  00B0  C9          	ret
1019  00B1              ___str_0:
1020  00B1  20          	DEFM " "
1021  00B2  00          	DEFB 0x00
1022  00B3              ___str_1:
1023  00B3  20 20 20 20 20 
                        	DEFM "     "
1024  00B8  00          	DEFB 0x00
1025  00B9              ___str_2:
1026  00B9  3C          	DEFM "<"
1027  00BA  00          	DEFB 0x00
1028  00BB              ___str_3:
1029  00BB  5C          	DEFB 0x5c
1030  00BC  00          	DEFB 0x00
1031  00BD              ___str_4:
1032  00BD  3E          	DEFM ">"
1033  00BE  00          	DEFB 0x00
1034  00BF              ___str_5:
1035  00BF  5E          	DEFM "^"
1036  00C0  00          	DEFB 0x00
1037  00C1              ___str_6:
1038  00C1  50 48 41 53 45 
                        	DEFM "PHASE"
1039  00C6  00          	DEFB 0x00
1040  00C7              ;	---------------------------------
1041  00C7              ; Function game_phase_print_score_back
1042  00C7              ; ---------------------------------
1043  00C7              _game_phase_print_score_back:
1044  00C7  21 00 00    	ld	hl,_screen_ink
1045  00CA  36 02       	ld	(hl),0x02
1046  00CC  21 FD 00    	ld	hl,___str_7
1047  00CF  E5          	push	hl
1048  00D0  21 00 0B    	ld	hl,0x0b00
1049  00D3  E5          	push	hl
1050  00D4  CD 00 00    	call	_zx_print_str
1051  00D7  21 00 00    	ld	hl,_screen_ink
1052  00DA  36 01       	ld	(hl),0x01
1053  00DC  21 01 01    	ld	hl,___str_8
1054  00DF  E5          	push	hl
1055  00E0  21 00 01    	ld	hl,0x0100
1056  00E3  E5          	push	hl
1057  00E4  CD 00 00    	call	_zx_print_str
1058  00E7  3A 00 00    	ld	a,(_game_two_player)
1059  00EA  B7          	or	a, a
1060  00EB  C8          	ret	Z
1061  00EC  21 00 00    	ld	hl,_screen_ink
1062  00EF  36 04       	ld	(hl),0x04
1063  00F1  21 04 01    	ld	hl,___str_9
1064  00F4  E5          	push	hl
1065  00F5  21 00 16    	ld	hl,0x1600
1066  00F8  E5          	push	hl
1067  00F9  CD 00 00    	call	_zx_print_str
1068  00FC  C9          	ret
1069  00FD              ___str_7:
1070  00FD  24 25 7C    	DEFM "$%|"
1071  0100  00          	DEFB 0x00
1072  0101              ___str_8:
1073  0101  5B 7C       	DEFM "[|"
1074  0103  00          	DEFB 0x00
1075  0104              ___str_9:
1076  0104  5D 7C       	DEFM "]|"
1077  0106  00          	DEFB 0x00
1078  0107              ;	---------------------------------
1079  0107              ; Function game_print_lives
1080  0107              ; ---------------------------------
1081  0107              _game_print_lives:
1082  0107  21 00 00    	ld	hl,_screen_ink
1083  010A  36 07       	ld	(hl),0x07
1084  010C  3A 00 00    	ld	a,(_game_lives)
1085  010F  C6 FF       	add	a,0xff
1086  0111  21 00 00    	ld	hl,_tmp
1087  0114  77          	ld	(hl),a
1088  0115  D6 FF       	sub	a,0xff
1089  0117  30 0A       	jr	NC,l_game_print_lives_00102
1090  0119  7E          	ld	a,(hl)
1091  011A  F5          	push	af
1092  011B  33          	inc	sp
1093  011C  21 17 03    	ld	hl,0x0317
1094  011F  E5          	push	hl
1095  0120  CD 00 00    	call	_zx_print_chr
1096  0123              l_game_print_lives_00102:
1097  0123  3A 01 00    	ld	a, (_game_lives + 1)
1098  0126  C6 FF       	add	a,0xff
1099  0128  21 00 00    	ld	hl,_tmp
1100  012B  77          	ld	(hl),a
1101  012C  D6 FF       	sub	a,0xff
1102  012E  D0          	ret	NC
1103  012F  7E          	ld	a,(hl)
1104  0130  F5          	push	af
1105  0131  33          	inc	sp
1106  0132  21 17 1A    	ld	hl,0x1a17
1107  0135  E5          	push	hl
1108  0136  CD 00 00    	call	_zx_print_chr
1109  0139  C9          	ret
1110  013A              ;	---------------------------------
1111  013A              ; Function game_tick
1112  013A              ; ---------------------------------
1113  013A              _game_tick:
1114  013A  21 00 00    	ld	hl,_curr_time
1115  013D  34          	inc	(hl)
1116  013E  C2 00 00    	jp	NZ,_zx_isr
1117  0141  23          	inc	hl
1118  0142  34          	inc	(hl)
1119  0143  C3 00 00    	jp  _zx_isr
1120  0146              ;	---------------------------------
1121  0146              ; Function game_start_timer
1122  0146              ; ---------------------------------
1123  0146              _game_start_timer:
1124  0146  21 D2 F5    	ld	hl,_NIRVANAP_isr
1125  0149  36 CD       	ld	(hl),0xcd
1126  014B  21 3A 01    	ld	hl,_game_tick
1127  014E  22 D3 F5    	ld	(_NIRVANAP_isr+1),hl
1128  0151  C9          	ret
1129  0152              ;	---------------------------------
1130  0152              ; Function game_phase_calc
1131  0152              ; ---------------------------------
1132  0152              _game_phase_calc:
1133  0152  3A 00 00    	ld	a,(_phase_curr)
1134  0155  87          	add	a, a
1135  0156  87          	add	a, a
1136  0157  21 00 00    	ld	hl,_tmp_uc
1137  015A  77          	ld	(hl),a
1138  015B  01 00 00    	ld	bc,_phases+0
1139  015E  5E          	ld	e,(hl)
1140  015F  16 00       	ld	d,0x00
1141  0161  69          	ld	l, c
1142  0162  60          	ld	h, b
1143  0163  19          	add	hl,de
1144  0164  7E          	ld	a,(hl)
1145  0165  32 00 00    	ld	(_phase_quota),a
1146  0168  3A 00 00    	ld	a,(_tmp_uc)
1147  016B  5F          	ld	e,a
1148  016C  16 00       	ld	d,0x00
1149  016E  EB          	ex	de,hl
1150  016F  23          	inc	hl
1151  0170  09          	add	hl,bc
1152  0171  7E          	ld	a,(hl)
1153  0172  32 01 00    	ld	((_phase_quota + 0x0001)),a
1154  0175  3A 00 00    	ld	a,(_tmp_uc)
1155  0178  5F          	ld	e,a
1156  0179  16 00       	ld	d,0x00
1157  017B  EB          	ex	de,hl
1158  017C  23          	inc	hl
1159  017D  23          	inc	hl
1160  017E  09          	add	hl,bc
1161  017F  7E          	ld	a,(hl)
1162  0180  32 02 00    	ld	((_phase_quota + 0x0002)),a
1163  0183  3A 00 00    	ld	a,(_tmp_uc)
1164  0186  5F          	ld	e,a
1165  0187  16 00       	ld	d,0x00
1166  0189  EB          	ex	de,hl
1167  018A  23          	inc	hl
1168  018B  23          	inc	hl
1169  018C  23          	inc	hl
1170  018D  09          	add	hl,bc
1171  018E  7E          	ld	a,(hl)
1172  018F  32 00 00    	ld	(_game_brick_tile),a
1173  0192  CD 2E 0D    	call	_game_unfreeze_all
1174  0195  3A 00 00    	ld	a,(_game_brick_tile)
1175  0198  D6 8B       	sub	a,0x8b
1176  019A  20 03       	jr	NZ,l_game_phase_calc_00102
1177  019C  CD 57 0D    	call	_game_freeze_all
1178  019F              l_game_phase_calc_00102:
1179  019F  3A 00 00    	ld	a,(_game_brick_tile)
1180  01A2  4F          	ld	c,a
1181  01A3  06 00       	ld	b,0x00
1182  01A5  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1183  01A9  21 00 00    	ld	hl,_phase_quota
1184  01AC  4E          	ld	c,(hl)
1185  01AD  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1186  01B0  46          	ld	b,(hl)
1187  01B1  79          	ld	a,c
1188  01B2  80          	add	a, b
1189  01B3  4F          	ld	c,a
1190  01B4  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1191  01B7  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1192  01B9  09          	add	hl, bc
1193  01BA  C9          	ret
1194  01BB              ;	---------------------------------
1195  01BB              ; Function game_phase_init
1196  01BB              ; ---------------------------------
1197  01BB              _game_phase_init:
1198  01BB  21 00 00    	ld	hl,_phase_end
1199  01BE  36 00       	ld	(hl),0x00
1200  01C0  21 00 00    	ld	hl,_phase_angry
1201  01C3  36 00       	ld	(hl),0x00
1202  01C5  21 00 00    	ld	hl,_phase_coins
1203  01C8  36 00       	ld	(hl),0x00
1204  01CA  21 00 00    	ld	hl,_phase_pop
1205  01CD  36 00       	ld	(hl),0x00
1206  01CF  21 00 00    	ld	hl,_game_bonus
1207  01D2  36 00       	ld	(hl),0x00
1208  01D4  21 00 00    	ld	hl,0x0000
1209  01D7  22 00 00    	ld	(_entry_time),hl
1210  01DA  21 00 00    	ld	hl,0
1211  01DD  22 00 00    	ld	(_curr_time),hl
1212  01E0  21 00 00    	ld	hl,0x0000
1213  01E3  22 00 00    	ld	(_frame_time),hl
1214  01E6  21 FF FF    	ld	hl,0xffff
1215  01E9  22 00 00    	ld	(_score_osd_col),hl
1216  01EC  CD 00 00    	call	_spr_draw_clear
1217  01EF  CD 00 00    	call	_spr_cortina_pipes
1218  01F2  21 00 00    	ld	hl,0x0000
1219  01F5  CD 00 00    	call	_zx_cls_fastcall
1220  01F8  21 00 00    	ld	hl,_spr_count
1221  01FB  36 00       	ld	(hl),0x00
1222  01FD  3A 00 00    	ld	a,(_game_type)
1223  0200  D6 02       	sub	a,0x02
1224  0202  CA 8E 02    	jp	Z,l_game_phase_init_00104
1225  0205  CD 52 01    	call	_game_phase_calc
1226  0208  7D          	ld	a,l
1227  0209  32 00 00    	ld	(_phase_left),a
1228  020C  32 00 00    	ld	(_phase_tot),a
1229  020F  21 00 00    	ld	hl,_phase_left
1230  0212  7E          	ld	a,(hl)
1231  0213  B7          	or	a, a
1232  0214  C2 A3 02    	jp	NZ,l_game_phase_init_00105
1233  0217  01 00 00    	ld	bc,_phase_bonus_total+0
1234  021A  AF          	xor	a, a
1235  021B  02          	ld	(bc),a
1236  021C  03          	inc	bc
1237  021D  AF          	xor	a, a
1238  021E  02          	ld	(bc),a
1239  021F  36 06       	ld	(hl),0x06
1240  0221  21 00 00    	ld	hl,_game_bonus
1241  0224  36 01       	ld	(hl),0x01
1242  0226  21 0C 00    	ld	hl,0x000c
1243  0229  E5          	push	hl
1244  022A  21 90 08    	ld	hl,0x0890
1245  022D  E5          	push	hl
1246  022E  AF          	xor	a, a
1247  022F  F5          	push	af
1248  0230  33          	inc	sp
1249  0231  CD 00 00    	call	_enemy_init
1250  0234  F1          	pop	af
1251  0235  33          	inc	sp
1252  0236  21 0C 00    	ld	hl,0x000c
1253  0239  E3          	ex	(sp),hl
1254  023A  21 90 16    	ld	hl,0x1690
1255  023D  E5          	push	hl
1256  023E  3E 01       	ld	a,0x01
1257  0240  F5          	push	af
1258  0241  33          	inc	sp
1259  0242  CD 00 00    	call	_enemy_init
1260  0245  F1          	pop	af
1261  0246  33          	inc	sp
1262  0247  21 0C 00    	ld	hl,0x000c
1263  024A  E3          	ex	(sp),hl
1264  024B  21 50 06    	ld	hl,0x0650
1265  024E  E5          	push	hl
1266  024F  3E 02       	ld	a,0x02
1267  0251  F5          	push	af
1268  0252  33          	inc	sp
1269  0253  CD 00 00    	call	_enemy_init
1270  0256  F1          	pop	af
1271  0257  33          	inc	sp
1272  0258  21 0C 00    	ld	hl,0x000c
1273  025B  E3          	ex	(sp),hl
1274  025C  21 50 18    	ld	hl,0x1850
1275  025F  E5          	push	hl
1276  0260  3E 03       	ld	a,0x03
1277  0262  F5          	push	af
1278  0263  33          	inc	sp
1279  0264  CD 00 00    	call	_enemy_init
1280  0267  F1          	pop	af
1281  0268  33          	inc	sp
1282  0269  21 0C 00    	ld	hl,0x000c
1283  026C  E3          	ex	(sp),hl
1284  026D  21 10 05    	ld	hl,0x0510
1285  0270  E5          	push	hl
1286  0271  3E 04       	ld	a,0x04
1287  0273  F5          	push	af
1288  0274  33          	inc	sp
1289  0275  CD 00 00    	call	_enemy_init
1290  0278  F1          	pop	af
1291  0279  33          	inc	sp
1292  027A  21 0C 00    	ld	hl,0x000c
1293  027D  E3          	ex	(sp),hl
1294  027E  21 10 19    	ld	hl,0x1910
1295  0281  E5          	push	hl
1296  0282  3E 05       	ld	a,0x05
1297  0284  F5          	push	af
1298  0285  33          	inc	sp
1299  0286  CD 00 00    	call	_enemy_init
1300  0289  F1          	pop	af
1301  028A  F1          	pop	af
1302  028B  33          	inc	sp
1303  028C  18 15       	jr	l_game_phase_init_00105
1304  028E              l_game_phase_init_00104:
1305  028E  21 00 00    	ld	hl,_phase_left
1306  0291  36 FF       	ld	(hl),0xff
1307  0293  21 00 00    	ld	hl,_phase_curr
1308  0296  36 FF       	ld	(hl),0xff
1309  0298  21 00 00    	ld	hl,_game_brick_tile
1310  029B  36 84       	ld	(hl),0x84
1311  029D  21 84 00    	ld	hl,0x0084
1312  02A0  22 24 00    	ld	(_spr_idx + 0x0024),hl
1313  02A3              l_game_phase_init_00105:
1314  02A3  CD 00 00    	call	_ay_reset
1315  02A6  3A 00 00    	ld	a,(_game_bonus)
1316  02A9  B7          	or	a, a
1317  02AA  20 06       	jr	NZ,l_game_phase_init_00107
1318  02AC  21 00 00    	ld	hl,_pb_midi_phase_1
1319  02AF  CD 00 00    	call	_ay_midi_play
1320  02B2              l_game_phase_init_00107:
1321  02B2  CD EC 02    	call	_game_print_header
1322  02B5  3E 0C       	ld	a,0x0c
1323  02B7  F5          	push	af
1324  02B8  33          	inc	sp
1325  02B9  CD F7 02    	call	_game_phase_print
1326  02BC  33          	inc	sp
1327  02BD  3A 00 00    	ld	a,(_game_lives)
1328  02C0  B7          	or	a, a
1329  02C1  28 0D       	jr	Z,l_game_phase_init_00109
1330  02C3  21 0A 03    	ld	hl,0x030a
1331  02C6  E5          	push	hl
1332  02C7  21 07 98    	ld	hl,0x9807
1333  02CA  E5          	push	hl
1334  02CB  CD 00 00    	call	_player_init
1335  02CE  F1          	pop	af
1336  02CF  F1          	pop	af
1337  02D0              l_game_phase_init_00109:
1338  02D0  3A 01 00    	ld	a, (_game_lives + 1)
1339  02D3  B7          	or	a, a
1340  02D4  28 0D       	jr	Z,l_game_phase_init_00111
1341  02D6  21 14 27    	ld	hl,0x2714
1342  02D9  E5          	push	hl
1343  02DA  21 06 98    	ld	hl,0x9806
1344  02DD  E5          	push	hl
1345  02DE  CD 00 00    	call	_player_init
1346  02E1  F1          	pop	af
1347  02E2  F1          	pop	af
1348  02E3              l_game_phase_init_00111:
1349  02E3  CD 00 00    	call	_spr_draw_back
1350  02E6  CD EC 02    	call	_game_print_header
1351  02E9  C3 1C 00    	jp  _game_print_footer
1352  02EC              ;	---------------------------------
1353  02EC              ; Function game_print_header
1354  02EC              ; ---------------------------------
1355  02EC              _game_print_header:
1356  02EC  CD C7 00    	call	_game_phase_print_score_back
1357  02EF  21 00 00    	ld	hl,_screen_ink
1358  02F2  36 07       	ld	(hl),0x07
1359  02F4  C3 80 0D    	jp  _game_print_score
1360  02F7              ;	---------------------------------
1361  02F7              ; Function game_phase_print
1362  02F7              ; ---------------------------------
1363  02F7              _game_phase_print:
1364  02F7  CD 00 00    	call	___sdcc_enter_ix
1365  02FA  21 7D 03    	ld	hl,___str_10
1366  02FD  E5          	push	hl
1367  02FE  3E 0B       	ld	a,0x0b
1368  0300  F5          	push	af
1369  0301  33          	inc	sp
1370  0302  DD 7E 04    	ld	a,(ix+4)
1371  0305  F5          	push	af
1372  0306  33          	inc	sp
1373  0307  CD 00 00    	call	_zx_print_str
1374  030A  3A 00 00    	ld	a,(_phase_curr)
1375  030D  D6 1F       	sub	a,0x1f
1376  030F  30 2D       	jr	NC,l_game_phase_print_00108
1377  0311  3A 00 00    	ld	a,(_game_bonus)
1378  0314  B7          	or	a, a
1379  0315  20 15       	jr	NZ,l_game_phase_print_00102
1380  0317  21 00 00    	ld	hl,_phase_curr
1381  031A  46          	ld	b,(hl)
1382  031B  04          	inc	b
1383  031C  C5          	push	bc
1384  031D  33          	inc	sp
1385  031E  3E 11       	ld	a,0x11
1386  0320  F5          	push	af
1387  0321  33          	inc	sp
1388  0322  DD 7E 04    	ld	a,(ix+4)
1389  0325  F5          	push	af
1390  0326  33          	inc	sp
1391  0327  CD 00 00    	call	_zx_print_chr
1392  032A  18 3B       	jr	l_game_phase_print_00109
1393  032C              l_game_phase_print_00102:
1394  032C  21 83 03    	ld	hl,___str_11
1395  032F  E5          	push	hl
1396  0330  3E 11       	ld	a,0x11
1397  0332  F5          	push	af
1398  0333  33          	inc	sp
1399  0334  DD 7E 04    	ld	a,(ix+4)
1400  0337  F5          	push	af
1401  0338  33          	inc	sp
1402  0339  CD 00 00    	call	_zx_print_str
1403  033C  18 29       	jr	l_game_phase_print_00109
1404  033E              l_game_phase_print_00108:
1405  033E  3A 00 00    	ld	a,(_game_type)
1406  0341  D6 02       	sub	a,0x02
1407  0343  28 12       	jr	Z,l_game_phase_print_00105
1408  0345  21 89 03    	ld	hl,___str_12
1409  0348  E5          	push	hl
1410  0349  3E 11       	ld	a,0x11
1411  034B  F5          	push	af
1412  034C  33          	inc	sp
1413  034D  DD 7E 04    	ld	a,(ix+4)
1414  0350  F5          	push	af
1415  0351  33          	inc	sp
1416  0352  CD 00 00    	call	_zx_print_str
1417  0355  18 10       	jr	l_game_phase_print_00109
1418  0357              l_game_phase_print_00105:
1419  0357  21 8E 03    	ld	hl,___str_13
1420  035A  E5          	push	hl
1421  035B  3E 11       	ld	a,0x11
1422  035D  F5          	push	af
1423  035E  33          	inc	sp
1424  035F  DD 7E 04    	ld	a,(ix+4)
1425  0362  F5          	push	af
1426  0363  33          	inc	sp
1427  0364  CD 00 00    	call	_zx_print_str
1428  0367              l_game_phase_print_00109:
1429  0367  21 2C 01    	ld	hl,0x012c
1430  036A  E5          	push	hl
1431  036B  21 0B 18    	ld	hl,0x180b
1432  036E  E5          	push	hl
1433  036F  DD 7E 04    	ld	a,(ix+4)
1434  0372  F5          	push	af
1435  0373  33          	inc	sp
1436  0374  CD 04 1B    	call	_game_colour_message
1437  0377  F1          	pop	af
1438  0378  F1          	pop	af
1439  0379  33          	inc	sp
1440  037A  DD E1       	pop	ix
1441  037C  C9          	ret
1442  037D              ___str_10:
1443  037D  50 48 41 53 45 
                        	DEFM "PHASE"
1444  0382  00          	DEFB 0x00
1445  0383              ___str_11:
1446  0383  42 4F 4E 55 53 
                        	DEFM "BONUS"
1447  0388  00          	DEFB 0x00
1448  0389              ___str_12:
1449  0389  48 45 4C 4C 	DEFM "HELL"
1450  038D  00          	DEFB 0x00
1451  038E              ___str_13:
1452  038E  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1453  0394  00          	DEFB 0x00
1454  0395              ;	---------------------------------
1455  0395              ; Function game_loop
1456  0395              ; ---------------------------------
1457  0395              _game_loop:
1458  0395  21 78 05    	ld	hl,___str_14
1459  0398  E5          	push	hl
1460  0399  21 16 07    	ld	hl,0x0716
1461  039C  E5          	push	hl
1462  039D  CD 00 00    	call	_zx_print_str
1463  03A0  21 8B 05    	ld	hl,___str_15
1464  03A3  E5          	push	hl
1465  03A4  21 17 07    	ld	hl,0x0717
1466  03A7  E5          	push	hl
1467  03A8  CD 00 00    	call	_zx_print_str
1468  03AB  21 00 00    	ld	hl,_ay_effect_10
1469  03AE  CD 00 00    	call	_ay_fx_play
1470  03B1  CD 00 00    	call	_sound_coin
1471  03B4  21 C8 00    	ld	hl,0x00c8
1472  03B7  CD 00 00    	call	_z80_delay_ms_fastcall
1473  03BA  21 9E 05    	ld	hl,___str_16
1474  03BD  E5          	push	hl
1475  03BE  21 16 07    	ld	hl,0x0716
1476  03C1  E5          	push	hl
1477  03C2  CD 00 00    	call	_zx_print_str
1478  03C5  CD 00 00    	call	_ay_reset
1479  03C8  21 11 11    	ld	hl,0x1111
1480  03CB  22 EF 01    	ld	((_lvl_1 + 0x01ef)),hl
1481  03CE  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1482  03D1  01 00 00    	ld	bc,_game_lives+0
1483  03D4  3E 04       	ld	a,0x04
1484  03D6  02          	ld	(bc),a
1485  03D7  03          	inc	bc
1486  03D8  3A 00 00    	ld	a,(_game_two_player)
1487  03DB  B7          	or	a,a
1488  03DC  28 05       	jr	Z,l_game_loop_00102
1489  03DE  3E 04       	ld	a,0x04
1490  03E0  02          	ld	(bc),a
1491  03E1  18 02       	jr	l_game_loop_00103
1492  03E3              l_game_loop_00102:
1493  03E3  AF          	xor	a, a
1494  03E4  02          	ld	(bc),a
1495  03E5              l_game_loop_00103:
1496  03E5  21 00 00    	ld	hl,0x0000
1497  03E8  22 00 00    	ld	(_player_score), hl
1498  03EB  2E 00       	ld	l,0x00
1499  03ED  22 02 00    	ld	(_player_score + 0x0002),hl
1500  03F0  21 D0 07    	ld	hl,0x07d0
1501  03F3  22 00 00    	ld	(_player_next_extra), hl
1502  03F6  2E D0       	ld	l,0xd0
1503  03F8  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1504  03FB  21 00 00    	ld	hl,_spr_water_clear
1505  03FE  36 FF       	ld	(hl),0xff
1506  0400  3A 00 00    	ld	a,(_game_type)
1507  0403  B7          	or	a, a
1508  0404  20 0E       	jr	NZ,l_game_loop_00105
1509  0406  21 F4 01    	ld	hl,0x01f4
1510  0409  22 00 00    	ld	(_game_time_flipped),hl
1511  040C  21 D0 07    	ld	hl,0x07d0
1512  040F  22 00 00    	ld	(_game_time_fireball_start),hl
1513  0412  18 0C       	jr	l_game_loop_00106
1514  0414              l_game_loop_00105:
1515  0414  21 FA 00    	ld	hl,0x00fa
1516  0417  22 00 00    	ld	(_game_time_flipped),hl
1517  041A  21 F4 01    	ld	hl,0x01f4
1518  041D  22 00 00    	ld	(_game_time_fireball_start),hl
1519  0420              l_game_loop_00106:
1520  0420  21 00 00    	ld	hl,_game_over
1521  0423  36 00       	ld	(hl),0x00
1522  0425  21 00 00    	ld	hl,_game_pow
1523  0428  36 03       	ld	(hl),0x03
1524  042A  21 00 00    	ld	hl,_phase_curr
1525  042D  36 00       	ld	(hl),0x00
1526  042F  CD BB 01    	call	_game_phase_init
1527  0432  21 00 00    	ld	hl,0x0000
1528  0435  22 00 00    	ld	(_loop_count),hl
1529  0438  21 00 00    	ld	hl,_dirs
1530  043B  36 00       	ld	(hl),0x00
1531  043D  CD 2E 0D    	call	_game_unfreeze_all
1532  0440              l_game_loop_00134:
1533  0440  3A 00 00    	ld	a,(_game_over)
1534  0443  B7          	or	a, a
1535  0444  C2 3F 05    	jp	NZ,l_game_loop_00136
1536  0447  CD 00 00    	call	_player_set1
1537  044A  CD 00 00    	call	_player_turn
1538  044D  CD 00 00    	call	_player_set2
1539  0450  CD 00 00    	call	_player_turn
1540  0453  CD 00 00    	call	_enemy_turn
1541  0456  3A 00 00    	ld	a,(_game_bonus)
1542  0459  B7          	or	a, a
1543  045A  28 16       	jr	Z,l_game_loop_00111
1544  045C  CD 04 07    	call	_game_bonus_clock
1545  045F  3A 00 00    	ld	a,(_phase_left)
1546  0462  B7          	or	a, a
1547  0463  28 0D       	jr	Z,l_game_loop_00111
1548  0465  CD 00 00    	call	_ay_is_playing
1549  0468  7D          	ld	a,l
1550  0469  B7          	or	a, a
1551  046A  20 06       	jr	NZ,l_game_loop_00111
1552  046C  21 00 00    	ld	hl,_ay_effect_19
1553  046F  CD 00 00    	call	_ay_fx_play
1554  0472              l_game_loop_00111:
1555  0472  CD 00 00    	call	_spr_water_splash_clear
1556  0475  21 64 00    	ld	hl,0x0064
1557  0478  E5          	push	hl
1558  0479  2A 00 00    	ld	hl,(_frame_time)
1559  047C  E5          	push	hl
1560  047D  CD 96 1B    	call	_game_check_time
1561  0480  F1          	pop	af
1562  0481  F1          	pop	af
1563  0482  7D          	ld	a,l
1564  0483  B7          	or	a, a
1565  0484  CA 33 05    	jp	Z,l_game_loop_00133
1566  0487  2A 00 00    	ld	hl,(_curr_time)
1567  048A  22 00 00    	ld	(_frame_time),hl
1568  048D  3A 00 00    	ld	a,(_game_bonus)
1569  0490  B7          	or	a,a
1570  0491  20 03       	jr	NZ,l_game_loop_00113
1571  0493  CD B4 09    	call	_game_enemy_add
1572  0496              l_game_loop_00113:
1573  0496  3A 00 00    	ld	a,(_phase_left)
1574  0499  3D          	dec	a
1575  049A  20 57       	jr	NZ,l_game_loop_00120
1576  049C  3A 00 00    	ld	a,(_phase_angry)
1577  049F  B7          	or	a, a
1578  04A0  20 51       	jr	NZ,l_game_loop_00120
1579  04A2  21 00 00    	ld	hl,_sprite
1580  04A5  36 00       	ld	(hl),0x00
1581  04A7              l_game_loop_00137:
1582  04A7  2A 00 00    	ld	hl,(_sprite)
1583  04AA  26 00       	ld	h,0x00
1584  04AC  01 00 00    	ld	bc,_class
1585  04AF  09          	add	hl,bc
1586  04B0  7E          	ld	a,(hl)
1587  04B1  4F          	ld	c,a
1588  04B2  B7          	or	a,a
1589  04B3  28 35       	jr	Z,l_game_loop_00138
1590  04B5  3E 09       	ld	a,0x09
1591  04B7  91          	sub	a,c
1592  04B8  38 30       	jr	C,l_game_loop_00138
1593  04BA  3A 00 00    	ld	a,(_sprite)
1594  04BD  4F          	ld	c,a
1595  04BE  06 00       	ld	b,0x00
1596  04C0  21 00 00    	ld	hl,_state
1597  04C3  09          	add	hl,bc
1598  04C4  CB 6E       	bit	5,(hl)
1599  04C6  20 22       	jr	NZ,l_game_loop_00138
1600  04C8  21 00 00    	ld	hl,_phase_angry
1601  04CB  36 01       	ld	(hl),0x01
1602  04CD  CD 00 00    	call	_enemy_evolve
1603  04D0  CD 00 00    	call	_enemy_evolve
1604  04D3  3E 00       	ld	a,+((_tile) & 0xFF)
1605  04D5  21 00 00    	ld	hl,_sprite
1606  04D8  86          	add	a, (hl)
1607  04D9  4F          	ld	c,a
1608  04DA  3E 00       	ld	a,+((_tile) / 256)
1609  04DC  CE 00       	adc	a,0x00
1610  04DE  47          	ld	b,a
1611  04DF  7E          	ld	a,(hl)
1612  04E0  C5          	push	bc
1613  04E1  F5          	push	af
1614  04E2  33          	inc	sp
1615  04E3  CD 00 00    	call	_spr_tile
1616  04E6  33          	inc	sp
1617  04E7  C1          	pop	bc
1618  04E8  7D          	ld	a, l
1619  04E9  02          	ld	(bc),a
1620  04EA              l_game_loop_00138:
1621  04EA  21 00 00    	ld	hl,_sprite
1622  04ED  34          	inc	(hl)
1623  04EE  7E          	ld	a,(hl)
1624  04EF  D6 06       	sub	a,0x06
1625  04F1  38 B4       	jr	C,l_game_loop_00137
1626  04F3              l_game_loop_00120:
1627  04F3  3A 00 00    	ld	a,(_phase_end)
1628  04F6  3D          	dec	a
1629  04F7  20 3A       	jr	NZ,l_game_loop_00133
1630  04F9  3A 00 00    	ld	a,(_game_type)
1631  04FC  D6 02       	sub	a,0x02
1632  04FE  28 33       	jr	Z,l_game_loop_00133
1633  0500  21 90 01    	ld	hl,0x0190
1634  0503  CD 00 00    	call	_z80_delay_ms_fastcall
1635  0506  CD 00 00    	call	_ay_is_playing
1636  0509  7D          	ld	a, l
1637  050A  D6 02       	sub	a,0x02
1638  050C  30 03       	jr	NC,l_game_loop_00123
1639  050E  CD 00 00    	call	_ay_reset
1640  0511              l_game_loop_00123:
1641  0511  CD 6F 09    	call	_game_kill_all_sprites
1642  0514  3A 00 00    	ld	a,(_game_bonus)
1643  0517  B7          	or	a, a
1644  0518  28 03       	jr	Z,l_game_loop_00125
1645  051A  CD 6A 07    	call	_game_bonus_summary
1646  051D              l_game_loop_00125:
1647  051D  21 00 00    	ld	hl,_phase_curr
1648  0520  34          	inc	(hl)
1649  0521  3E 1F       	ld	a,0x1f
1650  0523  96          	sub	a, (hl)
1651  0524  30 0A       	jr	NC,l_game_loop_00127
1652  0526  CD B2 12    	call	_game_end
1653  0529  21 00 00    	ld	hl,_game_over
1654  052C  36 01       	ld	(hl),0x01
1655  052E  18 03       	jr	l_game_loop_00133
1656  0530              l_game_loop_00127:
1657  0530  CD BB 01    	call	_game_phase_init
1658  0533              l_game_loop_00133:
1659  0533  21 00 00    	ld	hl,_loop_count
1660  0536  34          	inc	(hl)
1661  0537  C2 40 04    	jp	NZ,l_game_loop_00134
1662  053A  23          	inc	hl
1663  053B  34          	inc	(hl)
1664  053C  C3 40 04    	jp	l_game_loop_00134
1665  053F              l_game_loop_00136:
1666  053F  21 20 03    	ld	hl,0x0320
1667  0542  CD 00 00    	call	_z80_delay_ms_fastcall
1668  0545  CD 6F 09    	call	_game_kill_all_sprites
1669  0548  76          	halt
1670  0549  CD 00 00    	call	_spr_draw_clear
1671  054C  21 B1 05    	ld	hl,___str_17
1672  054F  E5          	push	hl
1673  0550  21 08 0B    	ld	hl,0x0b08
1674  0553  E5          	push	hl
1675  0554  CD 00 00    	call	_zx_print_str
1676  0557  21 C8 00    	ld	hl,0x00c8
1677  055A  E5          	push	hl
1678  055B  21 0B 15    	ld	hl,0x150b
1679  055E  E5          	push	hl
1680  055F  3E 08       	ld	a,0x08
1681  0561  F5          	push	af
1682  0562  33          	inc	sp
1683  0563  CD 04 1B    	call	_game_colour_message
1684  0566  F1          	pop	af
1685  0567  F1          	pop	af
1686  0568  33          	inc	sp
1687  0569  CD F8 15    	call	_game_hall_enter
1688  056C  CD 00 00    	call	_ay_reset
1689  056F  21 00 00    	ld	hl,_game_menu_sel
1690  0572  36 00       	ld	(hl),0x00
1691  0574  CD E4 0F    	call	_game_menu_paint
1692  0577  C9          	ret
1693  0578              ___str_14:
1694  0578  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1695  058A  00          	DEFB 0x00
1696  058B              ___str_15:
1697  058B  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1698  059D  00          	DEFB 0x00
1699  059E              ___str_16:
1700  059E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1701  05B0  00          	DEFB 0x00
1702  05B1              ___str_17:
1703  05B1  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1704  05BA  00          	DEFB 0x00
1705  05BB              ;	---------------------------------
1706  05BB              ; Function game_score_osd
1707  05BB              ; ---------------------------------
1708  05BB              _game_score_osd:
1709  05BB  3A 00 00    	ld	a,(_index_player)
1710  05BE  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1711  05C0  4F          	ld	c,a
1712  05C1  3E 00       	ld	a,+((_score_osd_col) / 256)
1713  05C3  CE 00       	adc	a,0x00
1714  05C5  47          	ld	b,a
1715  05C6  0A          	ld	a,(bc)
1716  05C7  57          	ld	d,a
1717  05C8  3C          	inc	a
1718  05C9  20 72       	jr	NZ,l_game_score_osd_00117
1719  05CB  3A 00 00    	ld	a,(_hit_count)
1720  05CE  B7          	or	a, a
1721  05CF  CA 03 07    	jp	Z,l_game_score_osd_00119
1722  05D2  2A 00 00    	ld	hl,(_sprite)
1723  05D5  26 00       	ld	h,0x00
1724  05D7  11 00 00    	ld	de,_col
1725  05DA  19          	add	hl,de
1726  05DB  7E          	ld	a,(hl)
1727  05DC  02          	ld	(bc),a
1728  05DD  3A 00 00    	ld	a,(_index_player)
1729  05E0  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1730  05E2  4F          	ld	c,a
1731  05E3  3E 00       	ld	a,+((_score_osd_lin) / 256)
1732  05E5  CE 00       	adc	a,0x00
1733  05E7  47          	ld	b,a
1734  05E8  2A 00 00    	ld	hl,(_sprite)
1735  05EB  26 00       	ld	h,0x00
1736  05ED  11 00 00    	ld	de,_lin
1737  05F0  19          	add	hl,de
1738  05F1  7E          	ld	a,(hl)
1739  05F2  02          	ld	(bc),a
1740  05F3  01 00 00    	ld	bc,_score_osd_time+0
1741  05F6  2A 00 00    	ld	hl,(_index_player)
1742  05F9  26 00       	ld	h,0x00
1743  05FB  29          	add	hl, hl
1744  05FC  09          	add	hl,bc
1745  05FD  ED 5B 00 00 	ld	de,(_curr_time)
1746  0601  73          	ld	(hl),e
1747  0602  23          	inc	hl
1748  0603  72          	ld	(hl),d
1749  0604  2A 00 00    	ld	hl,(_index_player)
1750  0607  26 00       	ld	h,0x00
1751  0609  29          	add	hl,hl
1752  060A  3A 00 00    	ld	a,(_hit_count)
1753  060D  3D          	dec	a
1754  060E  4D          	ld	c,l
1755  060F  44          	ld	b,h
1756  0610  20 0C       	jr	NZ,l_game_score_osd_00105
1757  0612  21 00 00    	ld	hl,_score_osd_tile
1758  0615  09          	add	hl,bc
1759  0616  36 BC       	ld	(hl),0xbc
1760  0618  23          	inc	hl
1761  0619  36 00       	ld	(hl),0x00
1762  061B  C3 03 07    	jp	l_game_score_osd_00119
1763  061E              l_game_score_osd_00105:
1764  061E  3A 00 00    	ld	a,(_hit_count)
1765  0621  D6 08       	sub	a,0x08
1766  0623  30 0C       	jr	NC,l_game_score_osd_00102
1767  0625  21 00 00    	ld	hl,_score_osd_tile
1768  0628  09          	add	hl,bc
1769  0629  36 BD       	ld	(hl),0xbd
1770  062B  23          	inc	hl
1771  062C  36 00       	ld	(hl),0x00
1772  062E  C3 03 07    	jp	l_game_score_osd_00119
1773  0631              l_game_score_osd_00102:
1774  0631  21 00 00    	ld	hl,_score_osd_tile
1775  0634  09          	add	hl,bc
1776  0635  36 BE       	ld	(hl),0xbe
1777  0637  23          	inc	hl
1778  0638  36 00       	ld	(hl),0x00
1779  063A  C3 03 07    	jp	l_game_score_osd_00119
1780  063D              l_game_score_osd_00117:
1781  063D  3A 00 00    	ld	a,(_index_player)
1782  0640  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1783  0642  4F          	ld	c,a
1784  0643  3E 00       	ld	a,+((_score_osd_lin) / 256)
1785  0645  CE 00       	adc	a,0x00
1786  0647  47          	ld	b,a
1787  0648  0A          	ld	a,(bc)
1788  0649  C6 FE       	add	a,0xfe
1789  064B  21 00 00    	ld	hl,_tmp
1790  064E  77          	ld	(hl),a
1791  064F  D5          	push	de
1792  0650  33          	inc	sp
1793  0651  7E          	ld	a,(hl)
1794  0652  F5          	push	af
1795  0653  33          	inc	sp
1796  0654  CD 00 00    	call	_game_calc_index
1797  0657  F1          	pop	af
1798  0658  22 00 00    	ld	(_index1),hl
1799  065B  3E 08       	ld	a,0x08
1800  065D  21 00 00    	ld	hl,_tmp
1801  0660  96          	sub	a, (hl)
1802  0661  30 5B       	jr	NC,l_game_score_osd_00110
1803  0663  21 01 00    	ld	hl,_index1 + 1
1804  0666  7E          	ld	a,(hl)
1805  0667  2B          	dec	hl
1806  0668  B6          	or	a,(hl)
1807  0669  28 53       	jr	Z,l_game_score_osd_00110
1808  066B  01 00 00    	ld	bc,_lvl_1+0
1809  066E  79          	ld	a,c
1810  066F  86          	add	a, (hl)
1811  0670  5F          	ld	e,a
1812  0671  78          	ld	a,b
1813  0672  23          	inc	hl
1814  0673  8E          	adc	a, (hl)
1815  0674  57          	ld	d,a
1816  0675  1A          	ld	a,(de)
1817  0676  B7          	or	a, a
1818  0677  20 45       	jr	NZ,l_game_score_osd_00110
1819  0679  56          	ld	d,(hl)
1820  067A  2B          	dec	hl
1821  067B  5E          	ld	e,(hl)
1822  067C  13          	inc	de
1823  067D  69          	ld	l, c
1824  067E  60          	ld	h, b
1825  067F  19          	add	hl,de
1826  0680  7E          	ld	a,(hl)
1827  0681  B7          	or	a, a
1828  0682  20 3A       	jr	NZ,l_game_score_osd_00110
1829  0684  76          	halt
1830  0685  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1831  0687  21 00 00    	ld	hl,_index_player
1832  068A  86          	add	a, (hl)
1833  068B  4F          	ld	c,a
1834  068C  3E 00       	ld	a,+((_score_osd_col) / 256)
1835  068E  CE 00       	adc	a,0x00
1836  0690  47          	ld	b,a
1837  0691  0A          	ld	a,(bc)
1838  0692  57          	ld	d,a
1839  0693  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1840  0695  86          	add	a, (hl)
1841  0696  4F          	ld	c,a
1842  0697  3E 00       	ld	a,+((_score_osd_lin) / 256)
1843  0699  CE 00       	adc	a,0x00
1844  069B  47          	ld	b,a
1845  069C  0A          	ld	a,(bc)
1846  069D  5F          	ld	e,a
1847  069E  6E          	ld	l, (hl)
1848  069F  26 00       	ld	h,0x00
1849  06A1  29          	add	hl, hl
1850  06A2  01 00 00    	ld	bc,_score_osd_tile
1851  06A5  09          	add	hl,bc
1852  06A6  46          	ld	b,(hl)
1853  06A7  23          	inc	hl
1854  06A8  4E          	ld	c,(hl)
1855  06A9  D5          	push	de
1856  06AA  C5          	push	bc
1857  06AB  33          	inc	sp
1858  06AC  CD 00 00    	call	_NIRVANAP_drawT_callee
1859  06AF  3A 00 00    	ld	a,(_index_player)
1860  06B2  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1861  06B4  4F          	ld	c,a
1862  06B5  3E 00       	ld	a,+((_score_osd_lin) / 256)
1863  06B7  CE 00       	adc	a,0x00
1864  06B9  47          	ld	b,a
1865  06BA  3A 00 00    	ld	a,(_tmp)
1866  06BD  02          	ld	(bc),a
1867  06BE              l_game_score_osd_00110:
1868  06BE  01 00 00    	ld	bc,_score_osd_time+0
1869  06C1  2A 00 00    	ld	hl,(_index_player)
1870  06C4  26 00       	ld	h,0x00
1871  06C6  29          	add	hl, hl
1872  06C7  09          	add	hl,bc
1873  06C8  4E          	ld	c,(hl)
1874  06C9  23          	inc	hl
1875  06CA  46          	ld	b,(hl)
1876  06CB  21 32 00    	ld	hl,0x0032
1877  06CE  E5          	push	hl
1878  06CF  C5          	push	bc
1879  06D0  CD 96 1B    	call	_game_check_time
1880  06D3  F1          	pop	af
1881  06D4  F1          	pop	af
1882  06D5  7D          	ld	a,l
1883  06D6  B7          	or	a, a
1884  06D7  C8          	ret	Z
1885  06D8  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1886  06DA  21 00 00    	ld	hl,_index_player
1887  06DD  86          	add	a, (hl)
1888  06DE  4F          	ld	c,a
1889  06DF  3E 00       	ld	a,+((_score_osd_col) / 256)
1890  06E1  CE 00       	adc	a,0x00
1891  06E3  47          	ld	b,a
1892  06E4  0A          	ld	a,(bc)
1893  06E5  57          	ld	d,a
1894  06E6  4E          	ld	c,(hl)
1895  06E7  06 00       	ld	b,0x00
1896  06E9  21 00 00    	ld	hl,_score_osd_lin
1897  06EC  09          	add	hl,bc
1898  06ED  5E          	ld	e, (hl)
1899  06EE  D5          	push	de
1900  06EF  AF          	xor	a, a
1901  06F0  F5          	push	af
1902  06F1  33          	inc	sp
1903  06F2  CD 00 00    	call	_NIRVANAP_fillT_callee
1904  06F5  3A 00 00    	ld	a,(_index_player)
1905  06F8  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1906  06FA  4F          	ld	c,a
1907  06FB  3E 00       	ld	a,+((_score_osd_col) / 256)
1908  06FD  CE 00       	adc	a,0x00
1909  06FF  47          	ld	b,a
1910  0700  3E FF       	ld	a,0xff
1911  0702  02          	ld	(bc),a
1912  0703              l_game_score_osd_00119:
1913  0703  C9          	ret
1914  0704              ;	---------------------------------
1915  0704              ; Function game_bonus_clock
1916  0704              ; ---------------------------------
1917  0704              _game_bonus_clock:
1918  0704  2A 00 00    	ld	hl,(_curr_time)
1919  0707  29          	add	hl,hl
1920  0708  3E D0       	ld	a,0xd0
1921  070A  95          	sub	a,l
1922  070B  44          	ld	b,h
1923  070C  21 00 00    	ld	hl,_tmp_ui
1924  070F  77          	ld	(hl),a
1925  0710  3E 07       	ld	a,0x07
1926  0712  98          	sbc	a, b
1927  0713  23          	inc	hl
1928  0714  77          	ld	(hl),a
1929  0715  3E D0       	ld	a,0xd0
1930  0717  2B          	dec	hl
1931  0718  BE          	cp	a, (hl)
1932  0719  3E 07       	ld	a,0x07
1933  071B  23          	inc	hl
1934  071C  9E          	sbc	a, (hl)
1935  071D  30 14       	jr	NC,l_game_bonus_clock_00106
1936  071F  2B          	dec	hl
1937  0720  AF          	xor	a, a
1938  0721  77          	ld	(hl), a
1939  0722  23          	inc	hl
1940  0723  77          	ld	(hl), a
1941  0724  21 00 00    	ld	hl,_phase_left
1942  0727  36 00       	ld	(hl),0x00
1943  0729  21 00 00    	ld	hl,_phase_end
1944  072C  36 01       	ld	(hl),0x01
1945  072E  CD 00 00    	call	_ay_reset
1946  0731  18 36       	jr	l_game_bonus_clock_00108
1947  0733              l_game_bonus_clock_00106:
1948  0733  3A 00 00    	ld	a,(_phase_left)
1949  0736  B7          	or	a, a
1950  0737  C8          	ret	Z
1951  0738  2A 00 00    	ld	hl,(_tmp_ui)
1952  073B  E5          	push	hl
1953  073C  21 02 0E    	ld	hl,0x0e02
1954  073F  E5          	push	hl
1955  0740  CD 00 00    	call	_zx_print_bonus_time
1956  0743  21 05 00    	ld	hl,0x0005
1957  0746  E5          	push	hl
1958  0747  2A 00 00    	ld	hl,(_frame_time)
1959  074A  E5          	push	hl
1960  074B  CD 96 1B    	call	_game_check_time
1961  074E  F1          	pop	af
1962  074F  F1          	pop	af
1963  0750  7D          	ld	a,l
1964  0751  B7          	or	a, a
1965  0752  C8          	ret	Z
1966  0753  2A 00 00    	ld	hl,(_curr_time)
1967  0756  22 00 00    	ld	(_frame_time),hl
1968  0759  21 14 18    	ld	hl,0x1814
1969  075C  E5          	push	hl
1970  075D  3E 0E       	ld	a,0x0e
1971  075F  F5          	push	af
1972  0760  33          	inc	sp
1973  0761  CD 08 0E    	call	_game_paint_attrib_lin_h
1974  0764  F1          	pop	af
1975  0765  33          	inc	sp
1976  0766  CD E8 1A    	call	_game_rotate_attrib
1977  0769              l_game_bonus_clock_00108:
1978  0769  C9          	ret
1979  076A              ;	---------------------------------
1980  076A              ; Function game_bonus_summary
1981  076A              ; ---------------------------------
1982  076A              _game_bonus_summary:
1983  076A  CD 6F 09    	call	_game_kill_all_sprites
1984  076D  CD 00 00    	call	_spr_draw_clear
1985  0770  21 00 00    	ld	hl,0x0000
1986  0773  CD 00 00    	call	_zx_cls_fastcall
1987  0776  CD C7 00    	call	_game_phase_print_score_back
1988  0779  CD 80 0D    	call	_game_print_score
1989  077C  3A 00 00    	ld	a,(_game_lives)
1990  077F  B7          	or	a, a
1991  0780  28 07       	jr	Z,l_game_bonus_summary_00102
1992  0782  AF          	xor	a, a
1993  0783  F5          	push	af
1994  0784  33          	inc	sp
1995  0785  CD 5B 08    	call	_game_bonus_summary_player
1996  0788  33          	inc	sp
1997  0789              l_game_bonus_summary_00102:
1998  0789  3A 01 00    	ld	a, (_game_lives + 1)
1999  078C  B7          	or	a, a
2000  078D  28 08       	jr	Z,l_game_bonus_summary_00104
2001  078F  3E 01       	ld	a,0x01
2002  0791  F5          	push	af
2003  0792  33          	inc	sp
2004  0793  CD 5B 08    	call	_game_bonus_summary_player
2005  0796  33          	inc	sp
2006  0797              l_game_bonus_summary_00104:
2007  0797  21 1F 98    	ld	hl,0x981f
2008  079A  E5          	push	hl
2009  079B  AF          	xor	a, a
2010  079C  F5          	push	af
2011  079D  33          	inc	sp
2012  079E  CD DE 0D    	call	_game_paint_attrib_lin
2013  07A1  F1          	pop	af
2014  07A2  33          	inc	sp
2015  07A3  3A 00 00    	ld	a,(_phase_bonus_total)
2016  07A6  D6 06       	sub	a,0x06
2017  07A8  20 70       	jr	NZ,l_game_bonus_summary_00109
2018  07AA  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2019  07AD  B7          	or	a, a
2020  07AE  20 6A       	jr	NZ,l_game_bonus_summary_00109
2021  07B0  CD 00 00    	call	_sound_jump
2022  07B3  3A 00 00    	ld	a,(_phase_curr)
2023  07B6  D6 03       	sub	a,0x03
2024  07B8  20 27       	jr	NZ,l_game_bonus_summary_00106
2025  07BA  21 2C 08    	ld	hl,___str_18
2026  07BD  E5          	push	hl
2027  07BE  21 12 06    	ld	hl,0x0612
2028  07C1  E5          	push	hl
2029  07C2  CD 00 00    	call	_zx_print_str
2030  07C5  21 00 00    	ld	hl,_index_player
2031  07C8  36 00       	ld	(hl),0x00
2032  07CA  21 2C 01    	ld	hl,0x012c
2033  07CD  E5          	push	hl
2034  07CE  CD 00 00    	call	_player_score_add
2035  07D1  F1          	pop	af
2036  07D2  21 00 00    	ld	hl,_index_player
2037  07D5  36 01       	ld	(hl),0x01
2038  07D7  21 2C 01    	ld	hl,0x012c
2039  07DA  E5          	push	hl
2040  07DB  CD 00 00    	call	_player_score_add
2041  07DE  F1          	pop	af
2042  07DF  18 25       	jr	l_game_bonus_summary_00107
2043  07E1              l_game_bonus_summary_00106:
2044  07E1  21 3F 08    	ld	hl,___str_19
2045  07E4  E5          	push	hl
2046  07E5  21 12 06    	ld	hl,0x0612
2047  07E8  E5          	push	hl
2048  07E9  CD 00 00    	call	_zx_print_str
2049  07EC  21 00 00    	ld	hl,_index_player
2050  07EF  36 00       	ld	(hl),0x00
2051  07F1  21 F4 01    	ld	hl,0x01f4
2052  07F4  E5          	push	hl
2053  07F5  CD 00 00    	call	_player_score_add
2054  07F8  F1          	pop	af
2055  07F9  21 00 00    	ld	hl,_index_player
2056  07FC  36 01       	ld	(hl),0x01
2057  07FE  21 F4 01    	ld	hl,0x01f4
2058  0801  E5          	push	hl
2059  0802  CD 00 00    	call	_player_score_add
2060  0805  F1          	pop	af
2061  0806              l_game_bonus_summary_00107:
2062  0806  21 C8 00    	ld	hl,0x00c8
2063  0809  E5          	push	hl
2064  080A  21 10 1A    	ld	hl,0x1a10
2065  080D  E5          	push	hl
2066  080E  3E 12       	ld	a,0x12
2067  0810  F5          	push	af
2068  0811  33          	inc	sp
2069  0812  CD 04 1B    	call	_game_colour_message
2070  0815  F1          	pop	af
2071  0816  F1          	pop	af
2072  0817  33          	inc	sp
2073  0818  18 11       	jr	l_game_bonus_summary_00112
2074  081A              l_game_bonus_summary_00109:
2075  081A  21 52 08    	ld	hl,___str_20
2076  081D  E5          	push	hl
2077  081E  21 12 0C    	ld	hl,0x0c12
2078  0821  E5          	push	hl
2079  0822  CD 00 00    	call	_zx_print_str
2080  0825  21 E8 03    	ld	hl,0x03e8
2081  0828  CD 00 00    	call	_z80_delay_ms_fastcall
2082  082B              l_game_bonus_summary_00112:
2083  082B  C9          	ret
2084  082C              ___str_18:
2085  082C  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2086  083E  00          	DEFB 0x00
2087  083F              ___str_19:
2088  083F  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2089  0851  00          	DEFB 0x00
2090  0852              ___str_20:
2091  0852  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2092  085A  00          	DEFB 0x00
2093  085B              ;	---------------------------------
2094  085B              ; Function game_bonus_summary_player
2095  085B              ; ---------------------------------
2096  085B              _game_bonus_summary_player:
2097  085B  CD 00 00    	call	___sdcc_enter_ix
2098  085E  F5          	push	af
2099  085F  76          	halt
2100  0860  DD 7E 04    	ld	a,(ix+4)
2101  0863  B7          	or	a, a
2102  0864  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2103  0866  21 00 00    	ld	hl,_s_lin1
2104  0869  36 06       	ld	(hl),0x06
2105  086B  21 5C 09    	ld	hl,___str_21
2106  086E  E5          	push	hl
2107  086F  21 06 07    	ld	hl,0x0706
2108  0872  E5          	push	hl
2109  0873  CD 00 00    	call	_zx_print_str
2110  0876  3A 00 00    	ld	a,(_s_lin1)
2111  0879  07          	rlca
2112  087A  07          	rlca
2113  087B  07          	rlca
2114  087C  E6 F8       	and	a,0xf8
2115  087E  47          	ld	b,a
2116  087F  04          	inc	b
2117  0880  04          	inc	b
2118  0881  04          	inc	b
2119  0882  04          	inc	b
2120  0883  3E 04       	ld	a,0x04
2121  0885  48          	ld	c,b
2122  0886  47          	ld	b,a
2123  0887  C5          	push	bc
2124  0888  3E 03       	ld	a,0x03
2125  088A  F5          	push	af
2126  088B  33          	inc	sp
2127  088C  CD 00 00    	call	_NIRVANAP_drawT_callee
2128  088F  21 00 00    	ld	hl,_index_player
2129  0892  36 00       	ld	(hl),0x00
2130  0894  18 2E       	jr	l_game_bonus_summary_player_00103
2131  0896              l_game_bonus_summary_player_00102:
2132  0896  21 00 00    	ld	hl,_s_lin1
2133  0899  36 0C       	ld	(hl),0x0c
2134  089B  21 63 09    	ld	hl,___str_22
2135  089E  E5          	push	hl
2136  089F  21 0C 07    	ld	hl,0x070c
2137  08A2  E5          	push	hl
2138  08A3  CD 00 00    	call	_zx_print_str
2139  08A6  3A 00 00    	ld	a,(_s_lin1)
2140  08A9  07          	rlca
2141  08AA  07          	rlca
2142  08AB  07          	rlca
2143  08AC  E6 F8       	and	a,0xf8
2144  08AE  47          	ld	b,a
2145  08AF  04          	inc	b
2146  08B0  04          	inc	b
2147  08B1  04          	inc	b
2148  08B2  04          	inc	b
2149  08B3  3E 04       	ld	a,0x04
2150  08B5  48          	ld	c,b
2151  08B6  47          	ld	b,a
2152  08B7  C5          	push	bc
2153  08B8  3E 1B       	ld	a,0x1b
2154  08BA  F5          	push	af
2155  08BB  33          	inc	sp
2156  08BC  CD 00 00    	call	_NIRVANAP_drawT_callee
2157  08BF  21 00 00    	ld	hl,_index_player
2158  08C2  36 01       	ld	(hl),0x01
2159  08C4              l_game_bonus_summary_player_00103:
2160  08C4  3A 00 00    	ld	a,(_s_lin1)
2161  08C7  07          	rlca
2162  08C8  07          	rlca
2163  08C9  07          	rlca
2164  08CA  E6 F8       	and	a,0xf8
2165  08CC  C6 08       	add	a,0x08
2166  08CE  F5          	push	af
2167  08CF  33          	inc	sp
2168  08D0  21 07 1F    	ld	hl,0x1f07
2169  08D3  E5          	push	hl
2170  08D4  CD DE 0D    	call	_game_paint_attrib_lin
2171  08D7  F1          	pop	af
2172  08D8  33          	inc	sp
2173  08D9  21 00 00    	ld	hl,_tmp_uc
2174  08DC  36 00       	ld	(hl),0x00
2175  08DE  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2176  08E0  DD 86 04    	add	a,(ix+4)
2177  08E3  DD 77 FE    	ld	(ix-2),a
2178  08E6  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2179  08E8  CE 00       	adc	a,0x00
2180  08EA  DD 77 FF    	ld	(ix-1),a
2181  08ED              l_game_bonus_summary_player_00107:
2182  08ED  E1          	pop	hl
2183  08EE  4E          	ld	c,(hl)
2184  08EF  3A 00 00    	ld	a,(_tmp_uc)
2185  08F2  E5          	push	hl
2186  08F3  91          	sub	a, c
2187  08F4  30 55       	jr	NC,l_game_bonus_summary_player_00109
2188  08F6  3A 00 00    	ld	a,(_s_lin1)
2189  08F9  07          	rlca
2190  08FA  07          	rlca
2191  08FB  07          	rlca
2192  08FC  E6 F8       	and	a,0xf8
2193  08FE  4F          	ld	c,a
2194  08FF  3A 00 00    	ld	a,(_tmp_uc)
2195  0902  D6 03       	sub	a,0x03
2196  0904  30 08       	jr	NC,l_game_bonus_summary_player_00105
2197  0906  79          	ld	a,c
2198  0907  C6 F8       	add	a,0xf8
2199  0909  32 00 00    	ld	(_s_lin0),a
2200  090C  18 06       	jr	l_game_bonus_summary_player_00106
2201  090E              l_game_bonus_summary_player_00105:
2202  090E  79          	ld	a,c
2203  090F  C6 08       	add	a,0x08
2204  0911  32 00 00    	ld	(_s_lin0),a
2205  0914              l_game_bonus_summary_player_00106:
2206  0914  76          	halt
2207  0915  2A 00 00    	ld	hl,(_tmp_uc)
2208  0918  26 03       	ld	h,0x03
2209  091A  E5          	push	hl
2210  091B  CD 00 00    	call	__moduchar_callee
2211  091E  7D          	ld	a,l
2212  091F  87          	add	a, a
2213  0920  C6 0E       	add	a,0x0e
2214  0922  F5          	push	af
2215  0923  33          	inc	sp
2216  0924  3A 00 00    	ld	a,(_s_lin0)
2217  0927  57          	ld	d,a
2218  0928  1E B9       	ld	e,0xb9
2219  092A  D5          	push	de
2220  092B  CD 00 00    	call	_NIRVANAP_drawT_callee
2221  092E  21 50 00    	ld	hl,0x0050
2222  0931  E5          	push	hl
2223  0932  CD 00 00    	call	_player_score_add
2224  0935  F1          	pop	af
2225  0936  21 00 00    	ld	hl,_tmp_uc
2226  0939  34          	inc	(hl)
2227  093A  21 00 00    	ld	hl,_ay_effect_09
2228  093D  CD 00 00    	call	_ay_fx_play
2229  0940  CD 00 00    	call	_sound_coin
2230  0943  21 32 00    	ld	hl,0x0032
2231  0946  CD 00 00    	call	_z80_delay_ms_fastcall
2232  0949  18 A2       	jr	l_game_bonus_summary_player_00107
2233  094B              l_game_bonus_summary_player_00109:
2234  094B  21 69 09    	ld	hl,___str_23
2235  094E  E5          	push	hl
2236  094F  2A 00 00    	ld	hl,(_s_lin1)
2237  0952  26 16       	ld	h,0x16
2238  0954  E5          	push	hl
2239  0955  CD 00 00    	call	_zx_print_str
2240  0958  F1          	pop	af
2241  0959  DD E1       	pop	ix
2242  095B  C9          	ret
2243  095C              ___str_21:
2244  095C  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2245  0962  00          	DEFB 0x00
2246  0963              ___str_22:
2247  0963  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2248  0968  00          	DEFB 0x00
2249  0969              ___str_23:
2250  0969  58 20 38 30 30 
                        	DEFM "X 800"
2251  096E  00          	DEFB 0x00
2252  096F              ;	---------------------------------
2253  096F              ; Function game_kill_all_sprites
2254  096F              ; ---------------------------------
2255  096F              _game_kill_all_sprites:
2256  096F  21 00 00    	ld	hl,_sprite
2257  0972  36 00       	ld	(hl),0x00
2258  0974              l_game_kill_all_sprites_00102:
2259  0974  3A 00 00    	ld	a,(_sprite)
2260  0977  F5          	push	af
2261  0978  33          	inc	sp
2262  0979  CD 00 00    	call	_spr_destroy
2263  097C  33          	inc	sp
2264  097D  21 00 00    	ld	hl,_sprite
2265  0980  34          	inc	(hl)
2266  0981  7E          	ld	a,(hl)
2267  0982  D6 08       	sub	a,0x08
2268  0984  38 EE       	jr	C,l_game_kill_all_sprites_00102
2269  0986  C9          	ret
2270  0987              ;	---------------------------------
2271  0987              ; Function game_check_maze
2272  0987              ; ---------------------------------
2273  0987              _game_check_maze:
2274  0987  CD 00 00    	call	___sdcc_enter_ix
2275  098A  3E 00       	ld	a,+((_lvl_1) & 0xFF)
2276  098C  DD 86 04    	add	a,(ix+4)
2277  098F  4F          	ld	c,a
2278  0990  3E 00       	ld	a,+((_lvl_1) / 256)
2279  0992  DD 8E 05    	adc	a,(ix+5)
2280  0995  47          	ld	b,a
2281  0996  0A          	ld	a,(bc)
2282  0997  D6 10       	sub	a,0x10
2283  0999  30 10       	jr	NC,l_game_check_maze_00103
2284  099B  DD 4E 04    	ld	c,(ix+4)
2285  099E  DD 46 05    	ld	b,(ix+5)
2286  09A1  03          	inc	bc
2287  09A2  21 00 00    	ld	hl,_lvl_1
2288  09A5  09          	add	hl,bc
2289  09A6  7E          	ld	a, (hl)
2290  09A7  D6 10       	sub	a,0x10
2291  09A9  38 04       	jr	C,l_game_check_maze_00104
2292  09AB              l_game_check_maze_00103:
2293  09AB  2E 00       	ld	l,0x00
2294  09AD  18 02       	jr	l_game_check_maze_00105
2295  09AF              l_game_check_maze_00104:
2296  09AF  2E 01       	ld	l,0x01
2297  09B1              l_game_check_maze_00105:
2298  09B1  DD E1       	pop	ix
2299  09B3  C9          	ret
2300  09B4              ;	---------------------------------
2301  09B4              ; Function game_enemy_add
2302  09B4              ; ---------------------------------
2303  09B4              _game_enemy_add:
2304  09B4  3A 00 00    	ld	a,(_game_type)
2305  09B7  D6 02       	sub	a,0x02
2306  09B9  20 05       	jr	NZ,l_game_enemy_add_00106
2307  09BB  CD FD 0A    	call	_game_enemy_rnd
2308  09BE  18 21       	jr	l_game_enemy_add_00107
2309  09C0              l_game_enemy_add_00106:
2310  09C0  3A 00 00    	ld	a,(_spr_count)
2311  09C3  D6 06       	sub	a,0x06
2312  09C5  30 1A       	jr	NC,l_game_enemy_add_00107
2313  09C7  21 64 00    	ld	hl,0x0064
2314  09CA  E5          	push	hl
2315  09CB  2A 00 00    	ld	hl,(_entry_time)
2316  09CE  E5          	push	hl
2317  09CF  CD 96 1B    	call	_game_check_time
2318  09D2  F1          	pop	af
2319  09D3  F1          	pop	af
2320  09D4  7D          	ld	a,l
2321  09D5  B7          	or	a, a
2322  09D6  28 09       	jr	Z,l_game_enemy_add_00107
2323  09D8  3A 00 00    	ld	a,(_phase_left)
2324  09DB  B7          	or	a, a
2325  09DC  28 03       	jr	Z,l_game_enemy_add_00107
2326  09DE  CD E4 09    	call	_game_enemy_quota
2327  09E1              l_game_enemy_add_00107:
2328  09E1  2E 00       	ld	l,0x00
2329  09E3  C9          	ret
2330  09E4              ;	---------------------------------
2331  09E4              ; Function game_enemy_quota
2332  09E4              ; ---------------------------------
2333  09E4              _game_enemy_quota:
2334  09E4  CD 00 00    	call	_rand
2335  09E7  7D          	ld	a, l
2336  09E8  E6 01       	and	a,0x01
2337  09EA  32 00 00    	ld	(_tmp),a
2338  09ED  3A 00 00    	ld	a,(_phase_pop)
2339  09F0  B7          	or	a, a
2340  09F1  28 06       	jr	Z,l_game_enemy_quota_00101
2341  09F3  3A 00 00    	ld	a,(_phase_left)
2342  09F6  3D          	dec	a
2343  09F7  20 05       	jr	NZ,l_game_enemy_quota_00102
2344  09F9              l_game_enemy_quota_00101:
2345  09F9  21 00 00    	ld	hl,_tmp
2346  09FC  36 00       	ld	(hl),0x00
2347  09FE              l_game_enemy_quota_00102:
2348  09FE  3A 00 00    	ld	a,(_phase_left)
2349  0A01  B7          	or	a, a
2350  0A02  28 55       	jr	Z,l_game_enemy_quota_00111
2351  0A04  3A 00 00    	ld	a,(_tmp)
2352  0A07  B7          	or	a, a
2353  0A08  20 4F       	jr	NZ,l_game_enemy_quota_00111
2354  0A0A  01 00 00    	ld	bc,_phase_quota+0
2355  0A0D  59          	ld	e, c
2356  0A0E  50          	ld	d, b
2357  0A0F  13          	inc	de
2358  0A10  13          	inc	de
2359  0A11  1A          	ld	a,(de)
2360  0A12  B7          	or	a, a
2361  0A13  28 13       	jr	Z,l_game_enemy_quota_00105
2362  0A15  D5          	push	de
2363  0A16  3E 09       	ld	a,0x09
2364  0A18  F5          	push	af
2365  0A19  33          	inc	sp
2366  0A1A  CD 32 0B    	call	_game_enemy_add1
2367  0A1D  33          	inc	sp
2368  0A1E  D1          	pop	de
2369  0A1F  1A          	ld	a,(de)
2370  0A20  C6 FF       	add	a,0xff
2371  0A22  12          	ld	(de),a
2372  0A23  2E 00       	ld	l,0x00
2373  0A25  C3 FC 0A    	jp	l_game_enemy_quota_00128
2374  0A28              l_game_enemy_quota_00105:
2375  0A28  59          	ld	e, c
2376  0A29  50          	ld	d, b
2377  0A2A  13          	inc	de
2378  0A2B  1A          	ld	a,(de)
2379  0A2C  B7          	or	a, a
2380  0A2D  28 13       	jr	Z,l_game_enemy_quota_00107
2381  0A2F  D5          	push	de
2382  0A30  3E 04       	ld	a,0x04
2383  0A32  F5          	push	af
2384  0A33  33          	inc	sp
2385  0A34  CD 32 0B    	call	_game_enemy_add1
2386  0A37  33          	inc	sp
2387  0A38  D1          	pop	de
2388  0A39  1A          	ld	a,(de)
2389  0A3A  C6 FF       	add	a,0xff
2390  0A3C  12          	ld	(de),a
2391  0A3D  2E 00       	ld	l,0x00
2392  0A3F  C3 FC 0A    	jp	l_game_enemy_quota_00128
2393  0A42              l_game_enemy_quota_00107:
2394  0A42  0A          	ld	a,(bc)
2395  0A43  B7          	or	a, a
2396  0A44  28 13       	jr	Z,l_game_enemy_quota_00111
2397  0A46  C5          	push	bc
2398  0A47  3E 01       	ld	a,0x01
2399  0A49  F5          	push	af
2400  0A4A  33          	inc	sp
2401  0A4B  CD 32 0B    	call	_game_enemy_add1
2402  0A4E  33          	inc	sp
2403  0A4F  C1          	pop	bc
2404  0A50  0A          	ld	a,(bc)
2405  0A51  C6 FF       	add	a,0xff
2406  0A53  02          	ld	(bc),a
2407  0A54  2E 00       	ld	l,0x00
2408  0A56  C3 FC 0A    	jp	l_game_enemy_quota_00128
2409  0A59              l_game_enemy_quota_00111:
2410  0A59  3A 00 00    	ld	a,(_phase_coins)
2411  0A5C  B7          	or	a, a
2412  0A5D  28 0D       	jr	Z,l_game_enemy_quota_00114
2413  0A5F  3E 08       	ld	a,0x08
2414  0A61  F5          	push	af
2415  0A62  33          	inc	sp
2416  0A63  CD 32 0B    	call	_game_enemy_add1
2417  0A66  33          	inc	sp
2418  0A67  2E 00       	ld	l,0x00
2419  0A69  C3 FC 0A    	jp	l_game_enemy_quota_00128
2420  0A6C              l_game_enemy_quota_00114:
2421  0A6C  CD 00 00    	call	_rand
2422  0A6F  7D          	ld	a,l
2423  0A70  E6 03       	and	a,0x03
2424  0A72  44          	ld	b,h
2425  0A73  0E 00       	ld	c,0x00
2426  0A75  CB 79       	bit	7,c
2427  0A77  C2 FA 0A    	jp	NZ,l_game_enemy_quota_00127
2428  0A7A  5F          	ld	e,a
2429  0A7B  3E 03       	ld	a,0x03
2430  0A7D  BB          	cp	a, e
2431  0A7E  3E 00       	ld	a,0x00
2432  0A80  99          	sbc	a, c
2433  0A81  E2 86 0A    	jp	PO, l_game_enemy_quota_00184
2434  0A84  EE 80       	xor	a,0x80
2435  0A86              l_game_enemy_quota_00184:
2436  0A86  FA FA 0A    	jp	M,l_game_enemy_quota_00127
2437  0A89  16 00       	ld	d,0x00
2438  0A8B  21 91 0A    	ld	hl,l_game_enemy_quota_00185
2439  0A8E  19          	add	hl,de
2440  0A8F  19          	add	hl,de
2441  0A90  E9          	jp	(hl)
2442  0A91              l_game_enemy_quota_00185:
2443  0A91  18 06       	jr	l_game_enemy_quota_00115
2444  0A93  18 16       	jr	l_game_enemy_quota_00118
2445  0A95  18 2F       	jr	l_game_enemy_quota_00121
2446  0A97  18 48       	jr	l_game_enemy_quota_00124
2447  0A99              l_game_enemy_quota_00115:
2448  0A99  3E 07       	ld	a,0x07
2449  0A9B  21 00 00    	ld	hl,_phase_curr
2450  0A9E  96          	sub	a, (hl)
2451  0A9F  30 59       	jr	NC,l_game_enemy_quota_00127
2452  0AA1  3E 07       	ld	a,0x07
2453  0AA3  F5          	push	af
2454  0AA4  33          	inc	sp
2455  0AA5  CD 32 0B    	call	_game_enemy_add1
2456  0AA8  33          	inc	sp
2457  0AA9  18 4F       	jr	l_game_enemy_quota_00127
2458  0AAB              l_game_enemy_quota_00118:
2459  0AAB  2A 00 00    	ld	hl,(_game_time_fireball_start)
2460  0AAE  E5          	push	hl
2461  0AAF  21 00 00    	ld	hl,0x0000
2462  0AB2  E5          	push	hl
2463  0AB3  CD 96 1B    	call	_game_check_time
2464  0AB6  F1          	pop	af
2465  0AB7  F1          	pop	af
2466  0AB8  7D          	ld	a,l
2467  0AB9  B7          	or	a, a
2468  0ABA  28 3E       	jr	Z,l_game_enemy_quota_00127
2469  0ABC  3E 0B       	ld	a,0x0b
2470  0ABE  F5          	push	af
2471  0ABF  33          	inc	sp
2472  0AC0  CD 32 0B    	call	_game_enemy_add1
2473  0AC3  33          	inc	sp
2474  0AC4  18 34       	jr	l_game_enemy_quota_00127
2475  0AC6              l_game_enemy_quota_00121:
2476  0AC6  2A 00 00    	ld	hl,(_game_time_fireball_start)
2477  0AC9  E5          	push	hl
2478  0ACA  21 00 00    	ld	hl,0x0000
2479  0ACD  E5          	push	hl
2480  0ACE  CD 96 1B    	call	_game_check_time
2481  0AD1  F1          	pop	af
2482  0AD2  F1          	pop	af
2483  0AD3  7D          	ld	a,l
2484  0AD4  B7          	or	a, a
2485  0AD5  28 23       	jr	Z,l_game_enemy_quota_00127
2486  0AD7  3E 0B       	ld	a,0x0b
2487  0AD9  F5          	push	af
2488  0ADA  33          	inc	sp
2489  0ADB  CD 32 0B    	call	_game_enemy_add1
2490  0ADE  33          	inc	sp
2491  0ADF  18 19       	jr	l_game_enemy_quota_00127
2492  0AE1              l_game_enemy_quota_00124:
2493  0AE1  2A 00 00    	ld	hl,(_game_time_fireball_start)
2494  0AE4  E5          	push	hl
2495  0AE5  21 00 00    	ld	hl,0x0000
2496  0AE8  E5          	push	hl
2497  0AE9  CD 96 1B    	call	_game_check_time
2498  0AEC  F1          	pop	af
2499  0AED  F1          	pop	af
2500  0AEE  7D          	ld	a,l
2501  0AEF  B7          	or	a, a
2502  0AF0  28 08       	jr	Z,l_game_enemy_quota_00127
2503  0AF2  3E 0A       	ld	a,0x0a
2504  0AF4  F5          	push	af
2505  0AF5  33          	inc	sp
2506  0AF6  CD 32 0B    	call	_game_enemy_add1
2507  0AF9  33          	inc	sp
2508  0AFA              l_game_enemy_quota_00127:
2509  0AFA  2E 00       	ld	l,0x00
2510  0AFC              l_game_enemy_quota_00128:
2511  0AFC  C9          	ret
2512  0AFD              ;	---------------------------------
2513  0AFD              ; Function game_enemy_rnd
2514  0AFD              ; ---------------------------------
2515  0AFD              _game_enemy_rnd:
2516  0AFD  3A 00 00    	ld	a,(_spr_count)
2517  0B00  D6 06       	sub	a,0x06
2518  0B02  30 2B       	jr	NC,l_game_enemy_rnd_00102
2519  0B04  21 64 00    	ld	hl,0x0064
2520  0B07  E5          	push	hl
2521  0B08  2A 00 00    	ld	hl,(_entry_time)
2522  0B0B  E5          	push	hl
2523  0B0C  CD 96 1B    	call	_game_check_time
2524  0B0F  F1          	pop	af
2525  0B10  F1          	pop	af
2526  0B11  7D          	ld	a,l
2527  0B12  B7          	or	a, a
2528  0B13  28 1A       	jr	Z,l_game_enemy_rnd_00102
2529  0B15  2A 00 00    	ld	hl,(_curr_time)
2530  0B18  22 00 00    	ld	(_entry_time),hl
2531  0B1B  CD 00 00    	call	_rand
2532  0B1E  01 0B 00    	ld	bc,0x000b
2533  0B21  C5          	push	bc
2534  0B22  E5          	push	hl
2535  0B23  CD 00 00    	call	__modsint_callee
2536  0B26  45          	ld	b,l
2537  0B27  4C          	ld	c,h
2538  0B28  04          	inc	b
2539  0B29  C5          	push	bc
2540  0B2A  33          	inc	sp
2541  0B2B  CD 32 0B    	call	_game_enemy_add1
2542  0B2E  33          	inc	sp
2543  0B2F              l_game_enemy_rnd_00102:
2544  0B2F  2E 00       	ld	l,0x00
2545  0B31  C9          	ret
2546  0B32              ;	---------------------------------
2547  0B32              ; Function game_enemy_add1
2548  0B32              ; ---------------------------------
2549  0B32              _game_enemy_add1:
2550  0B32  CD 00 00    	call	___sdcc_enter_ix
2551  0B35  DD 7E 04    	ld	a,(ix+4)
2552  0B38  D6 03       	sub	a,0x03
2553  0B3A  28 58       	jr	Z,l_game_enemy_add1_00101
2554  0B3C  DD 7E 04    	ld	a,(ix+4)
2555  0B3F  D6 06       	sub	a,0x06
2556  0B41  28 51       	jr	Z,l_game_enemy_add1_00101
2557  0B43  DD 7E 04    	ld	a,(ix+4)
2558  0B46  D6 0A       	sub	a,0x0a
2559  0B48  20 04       	jr	NZ,l_game_enemy_add1_00197
2560  0B4A  3E 01       	ld	a,0x01
2561  0B4C  18 01       	jr	l_game_enemy_add1_00198
2562  0B4E              l_game_enemy_add1_00197:
2563  0B4E  AF          	xor	a,a
2564  0B4F              l_game_enemy_add1_00198:
2565  0B4F  4F          	ld	c,a
2566  0B50  B7          	or	a, a
2567  0B51  28 0E       	jr	Z,l_game_enemy_add1_00107
2568  0B53  C5          	push	bc
2569  0B54  3E 0A       	ld	a,0x0a
2570  0B56  F5          	push	af
2571  0B57  33          	inc	sp
2572  0B58  CD 8C 0C    	call	_game_enemy_add_get_index
2573  0B5B  33          	inc	sp
2574  0B5C  C1          	pop	bc
2575  0B5D  5D          	ld	e,l
2576  0B5E  1C          	inc	e
2577  0B5F  20 33       	jr	NZ,l_game_enemy_add1_00101
2578  0B61              l_game_enemy_add1_00107:
2579  0B61  DD 7E 04    	ld	a,(ix+4)
2580  0B64  D6 0B       	sub	a,0x0b
2581  0B66  20 04       	jr	NZ,l_game_enemy_add1_00201
2582  0B68  3E 01       	ld	a,0x01
2583  0B6A  18 01       	jr	l_game_enemy_add1_00202
2584  0B6C              l_game_enemy_add1_00201:
2585  0B6C  AF          	xor	a,a
2586  0B6D              l_game_enemy_add1_00202:
2587  0B6D  47          	ld	b,a
2588  0B6E  B7          	or	a, a
2589  0B6F  28 0E       	jr	Z,l_game_enemy_add1_00109
2590  0B71  C5          	push	bc
2591  0B72  3E 0B       	ld	a,0x0b
2592  0B74  F5          	push	af
2593  0B75  33          	inc	sp
2594  0B76  CD 8C 0C    	call	_game_enemy_add_get_index
2595  0B79  33          	inc	sp
2596  0B7A  C1          	pop	bc
2597  0B7B  5D          	ld	e,l
2598  0B7C  1C          	inc	e
2599  0B7D  20 15       	jr	NZ,l_game_enemy_add1_00101
2600  0B7F              l_game_enemy_add1_00109:
2601  0B7F  DD 7E 04    	ld	a,(ix+4)
2602  0B82  D6 07       	sub	a,0x07
2603  0B84  20 13       	jr	NZ,l_game_enemy_add1_00102
2604  0B86  C5          	push	bc
2605  0B87  3E 07       	ld	a,0x07
2606  0B89  F5          	push	af
2607  0B8A  33          	inc	sp
2608  0B8B  CD 8C 0C    	call	_game_enemy_add_get_index
2609  0B8E  33          	inc	sp
2610  0B8F  C1          	pop	bc
2611  0B90  5D          	ld	e,l
2612  0B91  1C          	inc	e
2613  0B92  28 05       	jr	Z,l_game_enemy_add1_00102
2614  0B94              l_game_enemy_add1_00101:
2615  0B94  2E 00       	ld	l,0x00
2616  0B96  C3 89 0C    	jp	l_game_enemy_add1_00133
2617  0B99              l_game_enemy_add1_00102:
2618  0B99  21 00 00    	ld	hl,_phase_pop
2619  0B9C  34          	inc	(hl)
2620  0B9D  C5          	push	bc
2621  0B9E  CD 00 00    	call	_sound_enter_enemy
2622  0BA1  AF          	xor	a, a
2623  0BA2  F5          	push	af
2624  0BA3  33          	inc	sp
2625  0BA4  CD 8C 0C    	call	_game_enemy_add_get_index
2626  0BA7  33          	inc	sp
2627  0BA8  C1          	pop	bc
2628  0BA9  7D          	ld	a,l
2629  0BAA  32 00 00    	ld	(_tmp),a
2630  0BAD  C5          	push	bc
2631  0BAE  CD 00 00    	call	_rand
2632  0BB1  EB          	ex	de,hl
2633  0BB2  C1          	pop	bc
2634  0BB3  7B          	ld	a,e
2635  0BB4  E6 01       	and	a,0x01
2636  0BB6  32 00 00    	ld	(_tmp0),a
2637  0BB9  3D          	dec	a
2638  0BBA  20 1C       	jr	NZ,l_game_enemy_add1_00115
2639  0BBC  21 00 00    	ld	hl,_s_lin0
2640  0BBF  36 10       	ld	(hl),0x10
2641  0BC1  21 00 00    	ld	hl,_s_col0
2642  0BC4  36 04       	ld	(hl),0x04
2643  0BC6  21 00 00    	ld	hl,_s_col1
2644  0BC9  36 02       	ld	(hl),0x02
2645  0BCB  79          	ld	a,c
2646  0BCC  B7          	or	a, a
2647  0BCD  28 02       	jr	Z,l_game_enemy_add1_00111
2648  0BCF  36 03       	ld	(hl),0x03
2649  0BD1              l_game_enemy_add1_00111:
2650  0BD1  21 00 00    	ld	hl,_tmp1
2651  0BD4  36 01       	ld	(hl),0x01
2652  0BD6  18 1A       	jr	l_game_enemy_add1_00116
2653  0BD8              l_game_enemy_add1_00115:
2654  0BD8  21 00 00    	ld	hl,_s_lin0
2655  0BDB  36 10       	ld	(hl),0x10
2656  0BDD  21 00 00    	ld	hl,_s_col0
2657  0BE0  36 1A       	ld	(hl),0x1a
2658  0BE2  21 00 00    	ld	hl,_s_col1
2659  0BE5  36 1E       	ld	(hl),0x1e
2660  0BE7  79          	ld	a,c
2661  0BE8  B7          	or	a, a
2662  0BE9  28 02       	jr	Z,l_game_enemy_add1_00113
2663  0BEB  36 1C       	ld	(hl),0x1c
2664  0BED              l_game_enemy_add1_00113:
2665  0BED  21 00 00    	ld	hl,_tmp1
2666  0BF0  36 FF       	ld	(hl),0xff
2667  0BF2              l_game_enemy_add1_00116:
2668  0BF2  DD 7E 04    	ld	a,(ix+4)
2669  0BF5  D6 08       	sub	a,0x08
2670  0BF7  20 04       	jr	NZ,l_game_enemy_add1_00210
2671  0BF9  3E 01       	ld	a,0x01
2672  0BFB  18 01       	jr	l_game_enemy_add1_00211
2673  0BFD              l_game_enemy_add1_00210:
2674  0BFD  AF          	xor	a,a
2675  0BFE              l_game_enemy_add1_00211:
2676  0BFE  5F          	ld	e,a
2677  0BFF  B7          	or	a, a
2678  0C00  28 04       	jr	Z,l_game_enemy_add1_00118
2679  0C02  21 00 00    	ld	hl,_phase_coins
2680  0C05  35          	dec	(hl)
2681  0C06              l_game_enemy_add1_00118:
2682  0C06  21 00 00    	ld	hl,_tmp_uc
2683  0C09  36 00       	ld	(hl),0x00
2684  0C0B  78          	ld	a,b
2685  0C0C  B7          	or	a,a
2686  0C0D  20 03       	jr	NZ,l_game_enemy_add1_00125
2687  0C0F  B1          	or	a,c
2688  0C10  28 35       	jr	Z,l_game_enemy_add1_00126
2689  0C12              l_game_enemy_add1_00125:
2690  0C12  D5          	push	de
2691  0C13  CD 00 00    	call	_rand
2692  0C16  01 03 00    	ld	bc,0x0003
2693  0C19  C5          	push	bc
2694  0C1A  E5          	push	hl
2695  0C1B  CD 00 00    	call	__modsint_callee
2696  0C1E  D1          	pop	de
2697  0C1F  4D          	ld	c,l
2698  0C20  21 00 00    	ld	hl,_tmp_uc
2699  0C23  71          	ld	(hl),c
2700  0C24  79          	ld	a,c
2701  0C25  B7          	or	a, a
2702  0C26  20 02       	jr	NZ,l_game_enemy_add1_00120
2703  0C28  36 10       	ld	(hl),0x10
2704  0C2A              l_game_enemy_add1_00120:
2705  0C2A  3A 00 00    	ld	a,(_tmp_uc)
2706  0C2D  3D          	dec	a
2707  0C2E  20 05       	jr	NZ,l_game_enemy_add1_00122
2708  0C30  21 00 00    	ld	hl,_tmp_uc
2709  0C33  36 28       	ld	(hl),0x28
2710  0C35              l_game_enemy_add1_00122:
2711  0C35  3A 00 00    	ld	a,(_tmp_uc)
2712  0C38  D6 02       	sub	a,0x02
2713  0C3A  20 05       	jr	NZ,l_game_enemy_add1_00124
2714  0C3C  21 00 00    	ld	hl,_tmp_uc
2715  0C3F  36 84       	ld	(hl),0x84
2716  0C41              l_game_enemy_add1_00124:
2717  0C41  3A 00 00    	ld	a,(_s_col1)
2718  0C44  32 00 00    	ld	(_s_col0),a
2719  0C47              l_game_enemy_add1_00126:
2720  0C47  CD 00 00    	call	_ay_is_playing
2721  0C4A  7D          	ld	a, l
2722  0C4B  D6 02       	sub	a,0x02
2723  0C4D  30 12       	jr	NC,l_game_enemy_add1_00132
2724  0C4F  7B          	ld	a,e
2725  0C50  B7          	or	a, a
2726  0C51  20 08       	jr	NZ,l_game_enemy_add1_00129
2727  0C53  21 00 00    	ld	hl,_ay_effect_04
2728  0C56  CD 00 00    	call	_ay_fx_play
2729  0C59  18 06       	jr	l_game_enemy_add1_00132
2730  0C5B              l_game_enemy_add1_00129:
2731  0C5B  21 00 00    	ld	hl,_ay_effect_07
2732  0C5E  CD 00 00    	call	_ay_fx_play
2733  0C61              l_game_enemy_add1_00132:
2734  0C61  2A 00 00    	ld	hl,(_curr_time)
2735  0C64  22 00 00    	ld	(_entry_time),hl
2736  0C67  3A 00 00    	ld	a,(_s_lin0)
2737  0C6A  21 00 00    	ld	hl,_tmp_uc
2738  0C6D  86          	add	a, (hl)
2739  0C6E  47          	ld	b,a
2740  0C6F  2A FF FF    	ld	hl,(_tmp1-1)
2741  0C72  DD 6E 04    	ld	l,(ix+4)
2742  0C75  3A 00 00    	ld	a,(_s_col0)
2743  0C78  E5          	push	hl
2744  0C79  48          	ld	c,b
2745  0C7A  47          	ld	b,a
2746  0C7B  3A 00 00    	ld	a,(_tmp)
2747  0C7E  C5          	push	bc
2748  0C7F  F5          	push	af
2749  0C80  33          	inc	sp
2750  0C81  CD 00 00    	call	_enemy_init
2751  0C84  F1          	pop	af
2752  0C85  F1          	pop	af
2753  0C86  33          	inc	sp
2754  0C87  2E 00       	ld	l,0x00
2755  0C89              l_game_enemy_add1_00133:
2756  0C89  DD E1       	pop	ix
2757  0C8B  C9          	ret
2758  0C8C              ;	---------------------------------
2759  0C8C              ; Function game_enemy_add_get_index
2760  0C8C              ; ---------------------------------
2761  0C8C              _game_enemy_add_get_index:
2762  0C8C  CD 00 00    	call	___sdcc_enter_ix
2763  0C8F  21 00 00    	ld	hl,_enemies
2764  0C92  36 00       	ld	(hl),0x00
2765  0C94              l_game_enemy_add_get_index_00104:
2766  0C94  3E 00       	ld	a,+((_class) & 0xFF)
2767  0C96  21 00 00    	ld	hl,_enemies
2768  0C99  86          	add	a, (hl)
2769  0C9A  4F          	ld	c,a
2770  0C9B  3E 00       	ld	a,+((_class) / 256)
2771  0C9D  CE 00       	adc	a,0x00
2772  0C9F  47          	ld	b,a
2773  0CA0  0A          	ld	a,(bc)
2774  0CA1  4F          	ld	c,a
2775  0CA2  DD 7E 04    	ld	a,(ix+4)
2776  0CA5  91          	sub	a, c
2777  0CA6  20 03       	jr	NZ,l_game_enemy_add_get_index_00105
2778  0CA8  6E          	ld	l,(hl)
2779  0CA9  18 0B       	jr	l_game_enemy_add_get_index_00106
2780  0CAB              l_game_enemy_add_get_index_00105:
2781  0CAB  21 00 00    	ld	hl,_enemies
2782  0CAE  34          	inc	(hl)
2783  0CAF  3E 05       	ld	a,0x05
2784  0CB1  96          	sub	a, (hl)
2785  0CB2  30 E0       	jr	NC,l_game_enemy_add_get_index_00104
2786  0CB4  2E FF       	ld	l,0xff
2787  0CB6              l_game_enemy_add_get_index_00106:
2788  0CB6  DD E1       	pop	ix
2789  0CB8  C9          	ret
2790  0CB9              ;	---------------------------------
2791  0CB9              ; Function game_freeze
2792  0CB9              ; ---------------------------------
2793  0CB9              _game_freeze:
2794  0CB9  CD 00 00    	call	___sdcc_enter_ix
2795  0CBC  DD 7E 05    	ld	a,(ix+5)
2796  0CBF  D6 1F       	sub	a,0x1f
2797  0CC1  30 68       	jr	NC,l_game_freeze_00107
2798  0CC3  21 00 00    	ld	hl,_tmp
2799  0CC6  36 01       	ld	(hl),0x01
2800  0CC8  DD 66 05    	ld	h,(ix+5)
2801  0CCB  DD 6E 04    	ld	l,(ix+4)
2802  0CCE  E5          	push	hl
2803  0CCF  CD 00 00    	call	_game_calc_index
2804  0CD2  F1          	pop	af
2805  0CD3  22 00 00    	ld	(_index1),hl
2806  0CD6  01 00 00    	ld	bc,_lvl_1
2807  0CD9  09          	add	hl,bc
2808  0CDA  7E          	ld	a,(hl)
2809  0CDB  D6 12       	sub	a,0x12
2810  0CDD  20 4C       	jr	NZ,l_game_freeze_00107
2811  0CDF  36 14       	ld	(hl),0x14
2812  0CE1  76          	halt
2813  0CE2  DD 7E 05    	ld	a,(ix+5)
2814  0CE5  F5          	push	af
2815  0CE6  33          	inc	sp
2816  0CE7  DD 56 04    	ld	d,(ix+4)
2817  0CEA  1E 8B       	ld	e,0x8b
2818  0CEC  D5          	push	de
2819  0CED  CD 00 00    	call	_NIRVANAP_drawT_callee
2820  0CF0  ED 4B 00 00 	ld	bc,(_index1)
2821  0CF4  03          	inc	bc
2822  0CF5  21 00 00    	ld	hl,_lvl_1
2823  0CF8  09          	add	hl,bc
2824  0CF9  4E          	ld	c,(hl)
2825  0CFA  DD 46 05    	ld	b,(ix+5)
2826  0CFD  04          	inc	b
2827  0CFE  79          	ld	a,c
2828  0CFF  B7          	or	a, a
2829  0D00  20 0F       	jr	NZ,l_game_freeze_00102
2830  0D02  C5          	push	bc
2831  0D03  C5          	push	bc
2832  0D04  33          	inc	sp
2833  0D05  DD 7E 04    	ld	a,(ix+4)
2834  0D08  F5          	push	af
2835  0D09  33          	inc	sp
2836  0D0A  AF          	xor	a, a
2837  0D0B  F5          	push	af
2838  0D0C  33          	inc	sp
2839  0D0D  CD 00 00    	call	_NIRVANAP_fillT_callee
2840  0D10  C1          	pop	bc
2841  0D11              l_game_freeze_00102:
2842  0D11  C5          	push	bc
2843  0D12  33          	inc	sp
2844  0D13  DD 7E 04    	ld	a,(ix+4)
2845  0D16  F5          	push	af
2846  0D17  33          	inc	sp
2847  0D18  CD B9 0C    	call	_game_freeze
2848  0D1B  F1          	pop	af
2849  0D1C  DD 46 05    	ld	b,(ix+5)
2850  0D1F  05          	dec	b
2851  0D20  C5          	push	bc
2852  0D21  33          	inc	sp
2853  0D22  DD 7E 04    	ld	a,(ix+4)
2854  0D25  F5          	push	af
2855  0D26  33          	inc	sp
2856  0D27  CD B9 0C    	call	_game_freeze
2857  0D2A  F1          	pop	af
2858  0D2B              l_game_freeze_00107:
2859  0D2B  DD E1       	pop	ix
2860  0D2D  C9          	ret
2861  0D2E              ;	---------------------------------
2862  0D2E              ; Function game_unfreeze_all
2863  0D2E              ; ---------------------------------
2864  0D2E              _game_unfreeze_all:
2865  0D2E  21 C0 00    	ld	hl,0x00c0
2866  0D31  22 00 00    	ld	(_index1),hl
2867  0D34              l_game_unfreeze_all_00104:
2868  0D34  01 00 00    	ld	bc,_lvl_1
2869  0D37  2A 00 00    	ld	hl,(_index1)
2870  0D3A  09          	add	hl,bc
2871  0D3B  7E          	ld	a,(hl)
2872  0D3C  D6 14       	sub	a,0x14
2873  0D3E  20 02       	jr	NZ,l_game_unfreeze_all_00105
2874  0D40  36 12       	ld	(hl),0x12
2875  0D42              l_game_unfreeze_all_00105:
2876  0D42  21 00 00    	ld	hl,_index1
2877  0D45  34          	inc	(hl)
2878  0D46  20 02       	jr	NZ,l_game_unfreeze_all_00118
2879  0D48  23          	inc	hl
2880  0D49  34          	inc	(hl)
2881  0D4A              l_game_unfreeze_all_00118:
2882  0D4A  3E 20       	ld	a,0x20
2883  0D4C  21 00 00    	ld	hl,_index1
2884  0D4F  BE          	cp	a, (hl)
2885  0D50  3E 02       	ld	a,0x02
2886  0D52  23          	inc	hl
2887  0D53  9E          	sbc	a, (hl)
2888  0D54  30 DE       	jr	NC,l_game_unfreeze_all_00104
2889  0D56  C9          	ret
2890  0D57              ;	---------------------------------
2891  0D57              ; Function game_freeze_all
2892  0D57              ; ---------------------------------
2893  0D57              _game_freeze_all:
2894  0D57  21 C0 00    	ld	hl,0x00c0
2895  0D5A  22 00 00    	ld	(_index1),hl
2896  0D5D              l_game_freeze_all_00104:
2897  0D5D  01 00 00    	ld	bc,_lvl_1
2898  0D60  2A 00 00    	ld	hl,(_index1)
2899  0D63  09          	add	hl,bc
2900  0D64  7E          	ld	a,(hl)
2901  0D65  D6 12       	sub	a,0x12
2902  0D67  20 02       	jr	NZ,l_game_freeze_all_00105
2903  0D69  36 14       	ld	(hl),0x14
2904  0D6B              l_game_freeze_all_00105:
2905  0D6B  21 00 00    	ld	hl,_index1
2906  0D6E  34          	inc	(hl)
2907  0D6F  20 02       	jr	NZ,l_game_freeze_all_00118
2908  0D71  23          	inc	hl
2909  0D72  34          	inc	(hl)
2910  0D73              l_game_freeze_all_00118:
2911  0D73  3E 20       	ld	a,0x20
2912  0D75  21 00 00    	ld	hl,_index1
2913  0D78  BE          	cp	a, (hl)
2914  0D79  3E 02       	ld	a,0x02
2915  0D7B  23          	inc	hl
2916  0D7C  9E          	sbc	a, (hl)
2917  0D7D  30 DE       	jr	NC,l_game_freeze_all_00104
2918  0D7F  C9          	ret
2919  0D80              ;	---------------------------------
2920  0D80              ; Function game_print_score
2921  0D80              ; ---------------------------------
2922  0D80              _game_print_score:
2923  0D80  21 00 00    	ld	hl,_screen_ink
2924  0D83  36 07       	ld	(hl),0x07
2925  0D85  21 00 00    	ld	hl,_screen_paper
2926  0D88  36 00       	ld	(hl),0x00
2927  0D8A  2A 00 00    	ld	hl,(_player_score)
2928  0D8D  E5          	push	hl
2929  0D8E  21 00 03    	ld	hl,0x0300
2930  0D91  E5          	push	hl
2931  0D92  CD 00 00    	call	_zx_print_int
2932  0D95  2A 00 00    	ld	hl,(_game_score_top)
2933  0D98  E5          	push	hl
2934  0D99  21 00 0E    	ld	hl,0x0e00
2935  0D9C  E5          	push	hl
2936  0D9D  CD 00 00    	call	_zx_print_int
2937  0DA0  3A 00 00    	ld	a,(_game_two_player)
2938  0DA3  B7          	or	a, a
2939  0DA4  C8          	ret	Z
2940  0DA5  2A 02 00    	ld	hl, (_player_score + 2)
2941  0DA8  E5          	push	hl
2942  0DA9  21 00 18    	ld	hl,0x1800
2943  0DAC  E5          	push	hl
2944  0DAD  CD 00 00    	call	_zx_print_int
2945  0DB0  C9          	ret
2946  0DB1              ;	---------------------------------
2947  0DB1              ; Function game_paint_attrib
2948  0DB1              ; ---------------------------------
2949  0DB1              _game_paint_attrib:
2950  0DB1  CD 00 00    	call	___sdcc_enter_ix
2951  0DB4  DD 7E 04    	ld	a,(ix+4)
2952  0DB7  32 00 00    	ld	(_tmp0),a
2953  0DBA              l_game_paint_attrib_00103:
2954  0DBA  3E 13       	ld	a,0x13
2955  0DBC  21 00 00    	ld	hl,_tmp0
2956  0DBF  96          	sub	a, (hl)
2957  0DC0  38 19       	jr	C,l_game_paint_attrib_00105
2958  0DC2  7E          	ld	a,(hl)
2959  0DC3  07          	rlca
2960  0DC4  07          	rlca
2961  0DC5  07          	rlca
2962  0DC6  E6 F8       	and	a,0xf8
2963  0DC8  C6 08       	add	a,0x08
2964  0DCA  F5          	push	af
2965  0DCB  33          	inc	sp
2966  0DCC  21 01 1F    	ld	hl,0x1f01
2967  0DCF  E5          	push	hl
2968  0DD0  CD DE 0D    	call	_game_paint_attrib_lin
2969  0DD3  F1          	pop	af
2970  0DD4  33          	inc	sp
2971  0DD5  21 00 00    	ld	hl,_tmp0
2972  0DD8  34          	inc	(hl)
2973  0DD9  18 DF       	jr	l_game_paint_attrib_00103
2974  0DDB              l_game_paint_attrib_00105:
2975  0DDB  DD E1       	pop	ix
2976  0DDD  C9          	ret
2977  0DDE              ;	---------------------------------
2978  0DDE              ; Function game_paint_attrib_lin
2979  0DDE              ; ---------------------------------
2980  0DDE              _game_paint_attrib_lin:
2981  0DDE  CD 00 00    	call	___sdcc_enter_ix
2982  0DE1  DD 7E 04    	ld	a,(ix+4)
2983  0DE4  32 00 00    	ld	(_tmp_uc),a
2984  0DE7              l_game_paint_attrib_lin_00103:
2985  0DE7  21 00 00    	ld	hl,_tmp_uc
2986  0DEA  7E          	ld	a,(hl)
2987  0DEB  DD 96 05    	sub	a,(ix+5)
2988  0DEE  30 15       	jr	NC,l_game_paint_attrib_lin_00105
2989  0DF0  7E          	ld	a,(hl)
2990  0DF1  F5          	push	af
2991  0DF2  33          	inc	sp
2992  0DF3  DD 7E 06    	ld	a,(ix+6)
2993  0DF6  F5          	push	af
2994  0DF7  33          	inc	sp
2995  0DF8  21 00 00    	ld	hl,_attrib
2996  0DFB  E5          	push	hl
2997  0DFC  CD 00 00    	call	_NIRVANAP_paintC_callee
2998  0DFF  21 00 00    	ld	hl,_tmp_uc
2999  0E02  34          	inc	(hl)
3000  0E03  18 E2       	jr	l_game_paint_attrib_lin_00103
3001  0E05              l_game_paint_attrib_lin_00105:
3002  0E05  DD E1       	pop	ix
3003  0E07  C9          	ret
3004  0E08              ;	---------------------------------
3005  0E08              ; Function game_paint_attrib_lin_h
3006  0E08              ; ---------------------------------
3007  0E08              _game_paint_attrib_lin_h:
3008  0E08  CD 00 00    	call	___sdcc_enter_ix
3009  0E0B  DD 7E 04    	ld	a,(ix+4)
3010  0E0E  32 00 00    	ld	(_tmp_uc),a
3011  0E11              l_game_paint_attrib_lin_h_00103:
3012  0E11  21 00 00    	ld	hl,_tmp_uc
3013  0E14  7E          	ld	a,(hl)
3014  0E15  DD 96 05    	sub	a,(ix+5)
3015  0E18  30 15       	jr	NC,l_game_paint_attrib_lin_h_00105
3016  0E1A  7E          	ld	a,(hl)
3017  0E1B  F5          	push	af
3018  0E1C  33          	inc	sp
3019  0E1D  DD 7E 06    	ld	a,(ix+6)
3020  0E20  F5          	push	af
3021  0E21  33          	inc	sp
3022  0E22  21 00 00    	ld	hl,_attrib_hl
3023  0E25  E5          	push	hl
3024  0E26  CD 00 00    	call	_NIRVANAP_paintC_callee
3025  0E29  21 00 00    	ld	hl,_tmp_uc
3026  0E2C  34          	inc	(hl)
3027  0E2D  18 E2       	jr	l_game_paint_attrib_lin_h_00103
3028  0E2F              l_game_paint_attrib_lin_h_00105:
3029  0E2F  DD E1       	pop	ix
3030  0E31  C9          	ret
3031  0E32              ;	---------------------------------
3032  0E32              ; Function game_menu_config
3033  0E32              ; ---------------------------------
3034  0E32              _game_menu_config:
3035  0E32  CD 00 00    	call	___sdcc_enter_ix
3036  0E35  3B          	dec	sp
3037  0E36  3E 0B       	ld	a,0x0b
3038  0E38  F5          	push	af
3039  0E39  33          	inc	sp
3040  0E3A  CD B1 0D    	call	_game_paint_attrib
3041  0E3D  33          	inc	sp
3042  0E3E  21 80 04    	ld	hl,0x0480
3043  0E41  E5          	push	hl
3044  0E42  3E 03       	ld	a,0x03
3045  0E44  F5          	push	af
3046  0E45  33          	inc	sp
3047  0E46  CD 00 00    	call	_NIRVANAP_drawT_callee
3048  0E49  21 80 19    	ld	hl,0x1980
3049  0E4C  E5          	push	hl
3050  0E4D  3E 3B       	ld	a,0x3b
3051  0E4F  F5          	push	af
3052  0E50  33          	inc	sp
3053  0E51  CD 00 00    	call	_NIRVANAP_drawT_callee
3054  0E54  DD 36 FF 01 	ld	(ix-1),0x01
3055  0E58              l_game_menu_config_00117:
3056  0E58  DD 7E FF    	ld	a,(ix-1)
3057  0E5B  B7          	or	a, a
3058  0E5C  CA 4F 0F    	jp	Z,l_game_menu_config_00120
3059  0E5F              l_game_menu_config_00101:
3060  0E5F  21 00 00    	ld	hl,_k1
3061  0E62  E5          	push	hl
3062  0E63  2A 00 00    	ld	hl,(_joyfunc1)
3063  0E66  CD 00 00    	call	___sdcc_call_hl
3064  0E69  F1          	pop	af
3065  0E6A  7C          	ld	a,h
3066  0E6B  B5          	or	a,l
3067  0E6C  20 F1       	jr	NZ,l_game_menu_config_00101
3068  0E6E  21 53 0F    	ld	hl,___str_24
3069  0E71  E5          	push	hl
3070  0E72  21 0E 0A    	ld	hl,0x0a0e
3071  0E75  E5          	push	hl
3072  0E76  CD 00 00    	call	_zx_print_str
3073  0E79  21 5E 0F    	ld	hl,___str_25
3074  0E7C  E5          	push	hl
3075  0E7D  21 10 0A    	ld	hl,0x0a10
3076  0E80  E5          	push	hl
3077  0E81  CD 00 00    	call	_zx_print_str
3078  0E84  21 69 0F    	ld	hl,___str_26
3079  0E87  E5          	push	hl
3080  0E88  21 12 0A    	ld	hl,0x0a12
3081  0E8B  E5          	push	hl
3082  0E8C  CD 00 00    	call	_zx_print_str
3083  0E8F  3A 00 00    	ld	a,(_game_sound)
3084  0E92  0F          	rrca
3085  0E93  30 0D       	jr	NC,l_game_menu_config_00105
3086  0E95  21 74 0F    	ld	hl,___str_27
3087  0E98  E5          	push	hl
3088  0E99  21 0E 14    	ld	hl,0x140e
3089  0E9C  E5          	push	hl
3090  0E9D  CD 00 00    	call	_zx_print_str
3091  0EA0  18 0B       	jr	l_game_menu_config_00106
3092  0EA2              l_game_menu_config_00105:
3093  0EA2  21 78 0F    	ld	hl,___str_28
3094  0EA5  E5          	push	hl
3095  0EA6  21 0E 14    	ld	hl,0x140e
3096  0EA9  E5          	push	hl
3097  0EAA  CD 00 00    	call	_zx_print_str
3098  0EAD              l_game_menu_config_00106:
3099  0EAD  3E 02       	ld	a,0x02
3100  0EAF  21 00 00    	ld	hl,_game_type
3101  0EB2  96          	sub	a, (hl)
3102  0EB3  38 34       	jr	C,l_game_menu_config_00110
3103  0EB5  5E          	ld	e,(hl)
3104  0EB6  16 00       	ld	d,0x00
3105  0EB8  21 BE 0E    	ld	hl,l_game_menu_config_00151
3106  0EBB  19          	add	hl,de
3107  0EBC  19          	add	hl,de
3108  0EBD  E9          	jp	(hl)
3109  0EBE              l_game_menu_config_00151:
3110  0EBE  18 04       	jr	l_game_menu_config_00107
3111  0EC0  18 0F       	jr	l_game_menu_config_00108
3112  0EC2  18 1A       	jr	l_game_menu_config_00109
3113  0EC4              l_game_menu_config_00107:
3114  0EC4  21 7C 0F    	ld	hl,___str_29
3115  0EC7  E5          	push	hl
3116  0EC8  21 10 14    	ld	hl,0x1410
3117  0ECB  E5          	push	hl
3118  0ECC  CD 00 00    	call	_zx_print_str
3119  0ECF  18 18       	jr	l_game_menu_config_00110
3120  0ED1              l_game_menu_config_00108:
3121  0ED1  21 80 0F    	ld	hl,___str_30
3122  0ED4  E5          	push	hl
3123  0ED5  21 10 14    	ld	hl,0x1410
3124  0ED8  E5          	push	hl
3125  0ED9  CD 00 00    	call	_zx_print_str
3126  0EDC  18 0B       	jr	l_game_menu_config_00110
3127  0EDE              l_game_menu_config_00109:
3128  0EDE  21 84 0F    	ld	hl,___str_31
3129  0EE1  E5          	push	hl
3130  0EE2  21 10 14    	ld	hl,0x1410
3131  0EE5  E5          	push	hl
3132  0EE6  CD 00 00    	call	_zx_print_str
3133  0EE9              l_game_menu_config_00110:
3134  0EE9  21 00 00    	ld	hl,0x0000
3135  0EEC  E5          	push	hl
3136  0EED  21 0E 12    	ld	hl,0x120e
3137  0EF0  E5          	push	hl
3138  0EF1  21 0A 02    	ld	hl,0x020a
3139  0EF4  E5          	push	hl
3140  0EF5  CD C8 11    	call	_game_menu_handle
3141  0EF8  F1          	pop	af
3142  0EF9  F1          	pop	af
3143  0EFA  F1          	pop	af
3144  0EFB  4D          	ld	c,l
3145  0EFC  21 00 00    	ld	hl,_game_menu_sel
3146  0EFF  71          	ld	(hl),c
3147  0F00  3E 02       	ld	a,0x02
3148  0F02  96          	sub	a, (hl)
3149  0F03  DA 58 0E    	jp	C,l_game_menu_config_00117
3150  0F06  5E          	ld	e,(hl)
3151  0F07  16 00       	ld	d,0x00
3152  0F09  21 0F 0F    	ld	hl,l_game_menu_config_00152
3153  0F0C  19          	add	hl,de
3154  0F0D  19          	add	hl,de
3155  0F0E  E9          	jp	(hl)
3156  0F0F              l_game_menu_config_00152:
3157  0F0F  18 04       	jr	l_game_menu_config_00111
3158  0F11  18 15       	jr	l_game_menu_config_00112
3159  0F13  18 2B       	jr	l_game_menu_config_00115
3160  0F15              l_game_menu_config_00111:
3161  0F15  21 00 00    	ld	hl,_ay_effect_10
3162  0F18  CD 00 00    	call	_ay_fx_play
3163  0F1B  CD 00 00    	call	_sound_coin
3164  0F1E  21 00 00    	ld	hl,_game_sound
3165  0F21  7E          	ld	a,(hl)
3166  0F22  EE 05       	xor	a,0x05
3167  0F24  77          	ld	(hl),a
3168  0F25  C3 58 0E    	jp	l_game_menu_config_00117
3169  0F28              l_game_menu_config_00112:
3170  0F28  21 00 00    	ld	hl,_ay_effect_10
3171  0F2B  CD 00 00    	call	_ay_fx_play
3172  0F2E  CD 00 00    	call	_sound_coin
3173  0F31  21 00 00    	ld	hl,_game_type
3174  0F34  34          	inc	(hl)
3175  0F35  3E 02       	ld	a,0x02
3176  0F37  96          	sub	a, (hl)
3177  0F38  D2 58 0E    	jp	NC,l_game_menu_config_00117
3178  0F3B  36 00       	ld	(hl),0x00
3179  0F3D  C3 58 0E    	jp	l_game_menu_config_00117
3180  0F40              l_game_menu_config_00115:
3181  0F40  21 00 00    	ld	hl,_game_menu_sel
3182  0F43  36 00       	ld	(hl),0x00
3183  0F45  CD E4 0F    	call	_game_menu_paint
3184  0F48  DD 36 FF 00 	ld	(ix-1),0x00
3185  0F4C  C3 58 0E    	jp	l_game_menu_config_00117
3186  0F4F              l_game_menu_config_00120:
3187  0F4F  33          	inc	sp
3188  0F50  DD E1       	pop	ix
3189  0F52  C9          	ret
3190  0F53              ___str_24:
3191  0F53  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3192  0F5D  00          	DEFB 0x00
3193  0F5E              ___str_25:
3194  0F5E  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3195  0F68  00          	DEFB 0x00
3196  0F69              ___str_26:
3197  0F69  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3198  0F73  00          	DEFB 0x00
3199  0F74              ___str_27:
3200  0F74  4F 4E 20    	DEFM "ON "
3201  0F77  00          	DEFB 0x00
3202  0F78              ___str_28:
3203  0F78  4F 46 46    	DEFM "OFF"
3204  0F7B  00          	DEFB 0x00
3205  0F7C              ___str_29:
3206  0F7C  41 20 20    	DEFM "A  "
3207  0F7F  00          	DEFB 0x00
3208  0F80              ___str_30:
3209  0F80  42 20 20    	DEFM "B  "
3210  0F83  00          	DEFB 0x00
3211  0F84              ___str_31:
3212  0F84  52 4E 44    	DEFM "RND"
3213  0F87  00          	DEFB 0x00
3214  0F88              ;	---------------------------------
3215  0F88              ; Function game_menu
3216  0F88              ; ---------------------------------
3217  0F88              _game_menu:
3218  0F88  21 00 00    	ld	hl,_pb_midi_title
3219  0F8B  CD 00 00    	call	_ay_midi_play
3220  0F8E  CD E4 0F    	call	_game_menu_paint
3221  0F91              l_game_menu_00101:
3222  0F91  21 00 00    	ld	hl,_k1
3223  0F94  E5          	push	hl
3224  0F95  2A 00 00    	ld	hl,(_joyfunc1)
3225  0F98  CD 00 00    	call	___sdcc_call_hl
3226  0F9B  F1          	pop	af
3227  0F9C  7C          	ld	a,h
3228  0F9D  B5          	or	a,l
3229  0F9E  20 F1       	jr	NZ,l_game_menu_00101
3230  0FA0  21 E8 03    	ld	hl,0x03e8
3231  0FA3  E5          	push	hl
3232  0FA4  21 0E 12    	ld	hl,0x120e
3233  0FA7  E5          	push	hl
3234  0FA8  21 0C 02    	ld	hl,0x020c
3235  0FAB  E5          	push	hl
3236  0FAC  CD C8 11    	call	_game_menu_handle
3237  0FAF  F1          	pop	af
3238  0FB0  F1          	pop	af
3239  0FB1  F1          	pop	af
3240  0FB2  4D          	ld	c,l
3241  0FB3  21 00 00    	ld	hl,_tmp_uc
3242  0FB6  71          	ld	(hl),c
3243  0FB7  3E 02       	ld	a,0x02
3244  0FB9  96          	sub	a, (hl)
3245  0FBA  38 D5       	jr	C,l_game_menu_00101
3246  0FBC  5E          	ld	e,(hl)
3247  0FBD  16 00       	ld	d,0x00
3248  0FBF  21 C5 0F    	ld	hl,l_game_menu_00125
3249  0FC2  19          	add	hl,de
3250  0FC3  19          	add	hl,de
3251  0FC4  E9          	jp	(hl)
3252  0FC5              l_game_menu_00125:
3253  0FC5  18 04       	jr	l_game_menu_00104
3254  0FC7  18 0C       	jr	l_game_menu_00105
3255  0FC9  18 14       	jr	l_game_menu_00106
3256  0FCB              l_game_menu_00104:
3257  0FCB  21 00 00    	ld	hl,_game_two_player
3258  0FCE  36 00       	ld	(hl),0x00
3259  0FD0  CD 95 03    	call	_game_loop
3260  0FD3  18 BC       	jr	l_game_menu_00101
3261  0FD5              l_game_menu_00105:
3262  0FD5  21 00 00    	ld	hl,_game_two_player
3263  0FD8  36 01       	ld	(hl),0x01
3264  0FDA  CD 95 03    	call	_game_loop
3265  0FDD  18 B2       	jr	l_game_menu_00101
3266  0FDF              l_game_menu_00106:
3267  0FDF  CD 32 0E    	call	_game_menu_config
3268  0FE2  18 AD       	jr	l_game_menu_00101
3269  0FE4              ;	---------------------------------
3270  0FE4              ; Function game_menu_paint
3271  0FE4              ; ---------------------------------
3272  0FE4              _game_menu_paint:
3273  0FE4  3E 0B       	ld	a,0x0b
3274  0FE6  F5          	push	af
3275  0FE7  33          	inc	sp
3276  0FE8  CD B1 0D    	call	_game_paint_attrib
3277  0FEB  33          	inc	sp
3278  0FEC  21 00 20    	ld	hl,0x2000
3279  0FEF  E5          	push	hl
3280  0FF0  CD 00 00    	call	_game_fill_row
3281  0FF3  21 9C 01    	ld	hl,0x019c
3282  0FF6  E5          	push	hl
3283  0FF7  21 00 1E    	ld	hl,0x1e00
3284  0FFA  E5          	push	hl
3285  0FFB  3E 10       	ld	a,0x10
3286  0FFD  F5          	push	af
3287  0FFE  33          	inc	sp
3288  0FFF  CD 15 11    	call	_game_menu_e
3289  1002  F1          	pop	af
3290  1003  33          	inc	sp
3291  1004  21 9F FF    	ld	hl,0xff9f
3292  1007  E3          	ex	(sp),hl
3293  1008  21 00 1E    	ld	hl,0x1e00
3294  100B  E5          	push	hl
3295  100C  3E 50       	ld	a,0x50
3296  100E  F5          	push	af
3297  100F  33          	inc	sp
3298  1010  CD 15 11    	call	_game_menu_e
3299  1013  F1          	pop	af
3300  1014  F1          	pop	af
3301  1015  33          	inc	sp
3302  1016  21 00 00    	ld	hl,_tmp
3303  1019  36 18       	ld	(hl),0x18
3304  101B  F3          	di
3305  101C  21 00 00    	ld	hl,_tmp_uc
3306  101F  36 00       	ld	(hl),0x00
3307  1021              l_game_menu_paint_00102:
3308  1021  3A 00 00    	ld	a,(_tmp_uc)
3309  1024  87          	add	a, a
3310  1025  C6 05       	add	a,0x05
3311  1027  57          	ld	d,a
3312  1028  3A 00 00    	ld	a,(_tmp)
3313  102B  C6 10       	add	a,0x10
3314  102D  47          	ld	b,a
3315  102E  3A 00 00    	ld	a,(_tmp_uc)
3316  1031  C6 C0       	add	a,0xc0
3317  1033  58          	ld	e,b
3318  1034  D5          	push	de
3319  1035  F5          	push	af
3320  1036  33          	inc	sp
3321  1037  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3322  103A  3A 00 00    	ld	a,(_tmp_uc)
3323  103D  87          	add	a, a
3324  103E  C6 05       	add	a,0x05
3325  1040  57          	ld	d,a
3326  1041  3A 00 00    	ld	a,(_tmp)
3327  1044  C6 20       	add	a,0x20
3328  1046  47          	ld	b,a
3329  1047  3A 00 00    	ld	a,(_tmp_uc)
3330  104A  C6 CC       	add	a,0xcc
3331  104C  58          	ld	e,b
3332  104D  D5          	push	de
3333  104E  F5          	push	af
3334  104F  33          	inc	sp
3335  1050  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3336  1053  21 00 00    	ld	hl,_tmp_uc
3337  1056  34          	inc	(hl)
3338  1057  7E          	ld	a,(hl)
3339  1058  D6 0A       	sub	a,0x0a
3340  105A  38 C5       	jr	C,l_game_menu_paint_00102
3341  105C  21 80 04    	ld	hl,0x0480
3342  105F  E5          	push	hl
3343  1060  3E 03       	ld	a,0x03
3344  1062  F5          	push	af
3345  1063  33          	inc	sp
3346  1064  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3347  1067  21 80 19    	ld	hl,0x1980
3348  106A  E5          	push	hl
3349  106B  3E 3B       	ld	a,0x3b
3350  106D  F5          	push	af
3351  106E  33          	inc	sp
3352  106F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3353  1072  FB          	ei
3354  1073  76          	halt
3355  1074  3A 00 00    	ld	a,(_tmp)
3356  1077  C6 28       	add	a,0x28
3357  1079  4F          	ld	c, a
3358  107A  06 1A       	ld	b,0x1a
3359  107C  C5          	push	bc
3360  107D  3E 12       	ld	a,0x12
3361  107F  F5          	push	af
3362  1080  33          	inc	sp
3363  1081  CD 00 00    	call	_NIRVANAP_fillC_callee
3364  1084  21 C6 10    	ld	hl,___str_32
3365  1087  E5          	push	hl
3366  1088  21 0E 0A    	ld	hl,0x0a0e
3367  108B  E5          	push	hl
3368  108C  CD 00 00    	call	_zx_print_str
3369  108F  21 D4 10    	ld	hl,___str_33
3370  1092  E5          	push	hl
3371  1093  21 10 0A    	ld	hl,0x0a10
3372  1096  E5          	push	hl
3373  1097  CD 00 00    	call	_zx_print_str
3374  109A  21 E2 10    	ld	hl,___str_34
3375  109D  E5          	push	hl
3376  109E  21 12 0A    	ld	hl,0x0a12
3377  10A1  E5          	push	hl
3378  10A2  CD 00 00    	call	_zx_print_str
3379  10A5  21 00 00    	ld	hl,_screen_ink
3380  10A8  36 01       	ld	(hl),0x01
3381  10AA  21 F0 10    	ld	hl,___str_35
3382  10AD  E5          	push	hl
3383  10AE  21 16 07    	ld	hl,0x0716
3384  10B1  E5          	push	hl
3385  10B2  CD 00 00    	call	_zx_print_str
3386  10B5  21 03 11    	ld	hl,___str_36
3387  10B8  E5          	push	hl
3388  10B9  21 17 07    	ld	hl,0x0717
3389  10BC  E5          	push	hl
3390  10BD  CD 00 00    	call	_zx_print_str
3391  10C0  21 00 00    	ld	hl,_tmp_uc
3392  10C3  36 00       	ld	(hl),0x00
3393  10C5  C9          	ret
3394  10C6              ___str_32:
3395  10C6  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3396  10D3  00          	DEFB 0x00
3397  10D4              ___str_33:
3398  10D4  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3399  10E1  00          	DEFB 0x00
3400  10E2              ___str_34:
3401  10E2  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3402  10EF  00          	DEFB 0x00
3403  10F0              ___str_35:
3404  10F0  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3405  1102  00          	DEFB 0x00
3406  1103              ___str_36:
3407  1103  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3408  1114  00          	DEFB 0x00
3409  1115              ;	---------------------------------
3410  1115              ; Function game_menu_e
3411  1115              ; ---------------------------------
3412  1115              _game_menu_e:
3413  1115  CD 00 00    	call	___sdcc_enter_ix
3414  1118  F3          	di
3415  1119  DD 4E 05    	ld	c,(ix+5)
3416  111C  21 00 00    	ld	hl,_tmp_uc
3417  111F  71          	ld	(hl),c
3418  1120  DD 46 07    	ld	b,(ix+7)
3419  1123  04          	inc	b
3420  1124  DD 56 07    	ld	d,(ix+7)
3421  1127  14          	inc	d
3422  1128  14          	inc	d
3423  1129              l_game_menu_e_00114:
3424  1129  DD 7E 06    	ld	a,(ix+6)
3425  112C  21 00 00    	ld	hl,_tmp_uc
3426  112F  96          	sub	a, (hl)
3427  1130  38 56       	jr	C,l_game_menu_e_00109
3428  1132  7E          	ld	a,(hl)
3429  1133  91          	sub	a, c
3430  1134  20 15       	jr	NZ,l_game_menu_e_00102
3431  1136  3A 00 00    	ld	a,(_tmp_uc)
3432  1139  C5          	push	bc
3433  113A  D5          	push	de
3434  113B  F5          	push	af
3435  113C  33          	inc	sp
3436  113D  DD 66 04    	ld	h,(ix+4)
3437  1140  DD 6E 07    	ld	l,(ix+7)
3438  1143  E5          	push	hl
3439  1144  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3440  1147  D1          	pop	de
3441  1148  C1          	pop	bc
3442  1149  18 36       	jr	l_game_menu_e_00108
3443  114B              l_game_menu_e_00102:
3444  114B  3A 00 00    	ld	a,(_tmp_uc)
3445  114E  DD 96 06    	sub	a,(ix+6)
3446  1151  20 14       	jr	NZ,l_game_menu_e_00104
3447  1153  3A 00 00    	ld	a,(_tmp_uc)
3448  1156  C5          	push	bc
3449  1157  D5          	push	de
3450  1158  F5          	push	af
3451  1159  33          	inc	sp
3452  115A  DD 7E 04    	ld	a,(ix+4)
3453  115D  5A          	ld	e,d
3454  115E  57          	ld	d,a
3455  115F  D5          	push	de
3456  1160  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3457  1163  D1          	pop	de
3458  1164  C1          	pop	bc
3459  1165  18 1A       	jr	l_game_menu_e_00108
3460  1167              l_game_menu_e_00104:
3461  1167  3A 00 00    	ld	a,(_tmp_uc)
3462  116A  FE 0E       	cp	a,0x0e
3463  116C  28 13       	jr	Z,l_game_menu_e_00108
3464  116E  FE 10       	cp	a,0x10
3465  1170  28 0F       	jr	Z,l_game_menu_e_00108
3466  1172  C5          	push	bc
3467  1173  D5          	push	de
3468  1174  F5          	push	af
3469  1175  33          	inc	sp
3470  1176  DD 7E 04    	ld	a,(ix+4)
3471  1179  48          	ld	c,b
3472  117A  47          	ld	b,a
3473  117B  C5          	push	bc
3474  117C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3475  117F  D1          	pop	de
3476  1180  C1          	pop	bc
3477  1181              l_game_menu_e_00108:
3478  1181  21 00 00    	ld	hl,_tmp_uc
3479  1184  34          	inc	(hl)
3480  1185  34          	inc	(hl)
3481  1186  18 A1       	jr	l_game_menu_e_00114
3482  1188              l_game_menu_e_00109:
3483  1188  DD 7E 08    	ld	a,(ix+8)
3484  118B  3C          	inc	a
3485  118C  20 0A       	jr	NZ,l_game_menu_e_00111
3486  118E  DD 7E 04    	ld	a,(ix+4)
3487  1191  C6 F0       	add	a,0xf0
3488  1193  DD 77 04    	ld	(ix+4),a
3489  1196  18 08       	jr	l_game_menu_e_00112
3490  1198              l_game_menu_e_00111:
3491  1198  DD 7E 04    	ld	a,(ix+4)
3492  119B  C6 10       	add	a,0x10
3493  119D  DD 77 04    	ld	(ix+4),a
3494  11A0              l_game_menu_e_00112:
3495  11A0  DD 7E 07    	ld	a,(ix+7)
3496  11A3  C6 0C       	add	a,0x0c
3497  11A5  47          	ld	b,a
3498  11A6  79          	ld	a,c
3499  11A7  F5          	push	af
3500  11A8  33          	inc	sp
3501  11A9  DD 7E 04    	ld	a,(ix+4)
3502  11AC  48          	ld	c,b
3503  11AD  47          	ld	b,a
3504  11AE  C5          	push	bc
3505  11AF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3506  11B2  DD 7E 07    	ld	a,(ix+7)
3507  11B5  C6 0E       	add	a,0x0e
3508  11B7  47          	ld	b,a
3509  11B8  DD 66 06    	ld	h,(ix+6)
3510  11BB  DD 6E 04    	ld	l,(ix+4)
3511  11BE  E5          	push	hl
3512  11BF  C5          	push	bc
3513  11C0  33          	inc	sp
3514  11C1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3515  11C4  FB          	ei
3516  11C5  DD E1       	pop	ix
3517  11C7  C9          	ret
3518  11C8              ;	---------------------------------
3519  11C8              ; Function game_menu_handle
3520  11C8              ; ---------------------------------
3521  11C8              _game_menu_handle:
3522  11C8  CD 00 00    	call	___sdcc_enter_ix
3523  11CB  3B          	dec	sp
3524  11CC  2A 00 00    	ld	hl,(_curr_time)
3525  11CF  22 00 00    	ld	(_entry_time),hl
3526  11D2  DD 5E 05    	ld	e,(ix+5)
3527  11D5  21 00 00    	ld	hl,_game_menu_sel
3528  11D8  66          	ld	h,(hl)
3529  11D9  2E 00       	ld	l,0x00
3530  11DB  55          	ld	d, l
3531  11DC  06 08       	ld	b,0x08
3532  11DE              l_game_menu_handle_00148:
3533  11DE  29          	add	hl,hl
3534  11DF  30 01       	jr	NC,l_game_menu_handle_00149
3535  11E1  19          	add	hl,de
3536  11E2              l_game_menu_handle_00149:
3537  11E2  10 FA       	djnz	l_game_menu_handle_00148
3538  11E4  DD 7E 06    	ld	a,(ix+6)
3539  11E7  85          	add	a,l
3540  11E8  32 00 00    	ld	(_s_lin1),a
3541  11EB  DD 7E 06    	ld	a,(ix+6)
3542  11EE  DD 77 FF    	ld	(ix-1),a
3543  11F1              l_game_menu_handle_00111:
3544  11F1  21 00 00    	ld	hl,_k1
3545  11F4  E5          	push	hl
3546  11F5  2A 00 00    	ld	hl,(_joyfunc1)
3547  11F8  CD 00 00    	call	___sdcc_call_hl
3548  11FB  F1          	pop	af
3549  11FC  7D          	ld	a,l
3550  11FD  32 00 00    	ld	(_dirs),a
3551  1200  D6 80       	sub	a,0x80
3552  1202  CA A5 12    	jp	Z,l_game_menu_handle_00113
3553  1205  21 05 00    	ld	hl,0x0005
3554  1208  E5          	push	hl
3555  1209  2A 00 00    	ld	hl,(_frame_time)
3556  120C  E5          	push	hl
3557  120D  CD 96 1B    	call	_game_check_time
3558  1210  F1          	pop	af
3559  1211  F1          	pop	af
3560  1212  7D          	ld	a,l
3561  1213  B7          	or	a, a
3562  1214  28 5A       	jr	Z,l_game_menu_handle_00106
3563  1216  3A 00 00    	ld	a,(_dirs)
3564  1219  B7          	or	a, a
3565  121A  28 33       	jr	Z,l_game_menu_handle_00104
3566  121C  21 00 00    	ld	hl,_ay_effect_03
3567  121F  CD 00 00    	call	_ay_fx_play
3568  1222  CD 00 00    	call	_sound_slide
3569  1225  3A 00 00    	ld	a,(_s_lin1)
3570  1228  07          	rlca
3571  1229  07          	rlca
3572  122A  07          	rlca
3573  122B  E6 F8       	and	a,0xf8
3574  122D  C6 08       	add	a,0x08
3575  122F  57          	ld	d,a
3576  1230  1E 14       	ld	e,0x14
3577  1232  D5          	push	de
3578  1233  DD 7E 04    	ld	a,(ix+4)
3579  1236  F5          	push	af
3580  1237  33          	inc	sp
3581  1238  CD DE 0D    	call	_game_paint_attrib_lin
3582  123B  F1          	pop	af
3583  123C  33          	inc	sp
3584  123D  21 00 00    	ld	hl,_s_lin1
3585  1240  7E          	ld	a,(hl)
3586  1241  DD 86 05    	add	a,(ix+5)
3587  1244  77          	ld	(hl),a
3588  1245  DD 7E 07    	ld	a,(ix+7)
3589  1248  96          	sub	a, (hl)
3590  1249  30 04       	jr	NC,l_game_menu_handle_00104
3591  124B  DD 7E FF    	ld	a,(ix-1)
3592  124E  77          	ld	(hl),a
3593  124F              l_game_menu_handle_00104:
3594  124F  2A 00 00    	ld	hl,(_curr_time)
3595  1252  22 00 00    	ld	(_frame_time),hl
3596  1255  3A 00 00    	ld	a,(_s_lin1)
3597  1258  07          	rlca
3598  1259  07          	rlca
3599  125A  07          	rlca
3600  125B  E6 F8       	and	a,0xf8
3601  125D  C6 08       	add	a,0x08
3602  125F  57          	ld	d,a
3603  1260  1E 14       	ld	e,0x14
3604  1262  D5          	push	de
3605  1263  DD 7E 04    	ld	a,(ix+4)
3606  1266  F5          	push	af
3607  1267  33          	inc	sp
3608  1268  CD 08 0E    	call	_game_paint_attrib_lin_h
3609  126B  F1          	pop	af
3610  126C  33          	inc	sp
3611  126D  CD E8 1A    	call	_game_rotate_attrib
3612  1270              l_game_menu_handle_00106:
3613  1270  DD 7E 09    	ld	a,(ix+9)
3614  1273  DD B6 08    	or	a,(ix+8)
3615  1276  CA F1 11    	jp	Z,l_game_menu_handle_00111
3616  1279  DD 6E 08    	ld	l,(ix+8)
3617  127C  DD 66 09    	ld	h,(ix+9)
3618  127F  E5          	push	hl
3619  1280  2A 00 00    	ld	hl,(_entry_time)
3620  1283  E5          	push	hl
3621  1284  CD 96 1B    	call	_game_check_time
3622  1287  F1          	pop	af
3623  1288  F1          	pop	af
3624  1289  7D          	ld	a,l
3625  128A  B7          	or	a, a
3626  128B  CA F1 11    	jp	Z,l_game_menu_handle_00111
3627  128E  CD 00 00    	call	_ay_is_playing
3628  1291  7D          	ld	a,l
3629  1292  B7          	or	a, a
3630  1293  C2 F1 11    	jp	NZ,l_game_menu_handle_00111
3631  1296  CD 05 1A    	call	_game_hall_of_fame
3632  1299  DD 7E FF    	ld	a,(ix-1)
3633  129C  F5          	push	af
3634  129D  33          	inc	sp
3635  129E  CD D8 17    	call	_game_menu_back
3636  12A1  33          	inc	sp
3637  12A2  C3 F1 11    	jp	l_game_menu_handle_00111
3638  12A5              l_game_menu_handle_00113:
3639  12A5  3A 00 00    	ld	a,(_s_lin1)
3640  12A8  DD 96 FF    	sub	a,(ix-1)
3641  12AB  CB 3F       	srl	a
3642  12AD  6F          	ld	l,a
3643  12AE  33          	inc	sp
3644  12AF  DD E1       	pop	ix
3645  12B1  C9          	ret
3646  12B2              ;	---------------------------------
3647  12B2              ; Function game_end
3648  12B2              ; ---------------------------------
3649  12B2              _game_end:
3650  12B2  CD 00 00    	call	___sdcc_enter_ix
3651  12B5  F5          	push	af
3652  12B6  F5          	push	af
3653  12B7  CD 6F 09    	call	_game_kill_all_sprites
3654  12BA  CD 00 00    	call	_spr_draw_clear
3655  12BD  21 00 00    	ld	hl,_pb_midi_title
3656  12C0  CD 00 00    	call	_ay_midi_play
3657  12C3  21 00 00    	ld	hl,_tmp0
3658  12C6  36 04       	ld	(hl),0x04
3659  12C8              l_game_end_00129:
3660  12C8  3A 00 00    	ld	a,(_tmp0)
3661  12CB  F5          	push	af
3662  12CC  33          	inc	sp
3663  12CD  21 8C 50    	ld	hl,0x508c
3664  12D0  E5          	push	hl
3665  12D1  CD 00 00    	call	_NIRVANAP_drawT_callee
3666  12D4  21 00 00    	ld	hl,_tmp0
3667  12D7  34          	inc	(hl)
3668  12D8  34          	inc	(hl)
3669  12D9  7E          	ld	a,(hl)
3670  12DA  D6 1C       	sub	a,0x1c
3671  12DC  38 EA       	jr	C,l_game_end_00129
3672  12DE  36 04       	ld	(hl),0x04
3673  12E0              l_game_end_00131:
3674  12E0  3A 00 00    	ld	a,(_tmp0)
3675  12E3  F5          	push	af
3676  12E4  33          	inc	sp
3677  12E5  21 8C 60    	ld	hl,0x608c
3678  12E8  E5          	push	hl
3679  12E9  CD 00 00    	call	_NIRVANAP_drawT_callee
3680  12EC  21 00 00    	ld	hl,_tmp0
3681  12EF  34          	inc	(hl)
3682  12F0  34          	inc	(hl)
3683  12F1  7E          	ld	a,(hl)
3684  12F2  D6 1C       	sub	a,0x1c
3685  12F4  38 EA       	jr	C,l_game_end_00131
3686  12F6  36 04       	ld	(hl),0x04
3687  12F8              l_game_end_00133:
3688  12F8  3A 00 00    	ld	a,(_tmp0)
3689  12FB  F5          	push	af
3690  12FC  33          	inc	sp
3691  12FD  21 8C 70    	ld	hl,0x708c
3692  1300  E5          	push	hl
3693  1301  CD 00 00    	call	_NIRVANAP_drawT_callee
3694  1304  21 00 00    	ld	hl,_tmp0
3695  1307  34          	inc	(hl)
3696  1308  34          	inc	(hl)
3697  1309  7E          	ld	a,(hl)
3698  130A  D6 1C       	sub	a,0x1c
3699  130C  38 EA       	jr	C,l_game_end_00133
3700  130E  21 50 18    	ld	hl,0x1850
3701  1311  E5          	push	hl
3702  1312  3E D6       	ld	a,0xd6
3703  1314  F5          	push	af
3704  1315  33          	inc	sp
3705  1316  CD 00 00    	call	_NIRVANAP_drawT_callee
3706  1319  21 9C 01    	ld	hl,0x019c
3707  131C  E5          	push	hl
3708  131D  21 01 1D    	ld	hl,0x1d01
3709  1320  E5          	push	hl
3710  1321  3E 20       	ld	a,0x20
3711  1323  F5          	push	af
3712  1324  33          	inc	sp
3713  1325  CD 15 11    	call	_game_menu_e
3714  1328  F1          	pop	af
3715  1329  33          	inc	sp
3716  132A  21 9F FF    	ld	hl,0xff9f
3717  132D  E3          	ex	(sp),hl
3718  132E  21 01 1D    	ld	hl,0x1d01
3719  1331  E5          	push	hl
3720  1332  3E 80       	ld	a,0x80
3721  1334  F5          	push	af
3722  1335  33          	inc	sp
3723  1336  CD 15 11    	call	_game_menu_e
3724  1339  F1          	pop	af
3725  133A  F1          	pop	af
3726  133B  33          	inc	sp
3727  133C  3E 00       	ld	a,0x00
3728  133E  DD 77 FD    	ld	(ix-3),a
3729  1341  DD 77 FC    	ld	(ix-4),a
3730  1344  3A 00 00    	ld	a,(_game_two_player)
3731  1347  B7          	or	a, a
3732  1348  28 16       	jr	Z,l_game_end_00109
3733  134A  3A 00 00    	ld	a,(_game_lives)
3734  134D  B7          	or	a, a
3735  134E  28 04       	jr	Z,l_game_end_00105
3736  1350  DD 36 FD 01 	ld	(ix-3),0x01
3737  1354              l_game_end_00105:
3738  1354  3A 01 00    	ld	a, (_game_lives + 1)
3739  1357  B7          	or	a, a
3740  1358  28 0A       	jr	Z,l_game_end_00110
3741  135A  DD 36 FC 01 	ld	(ix-4),0x01
3742  135E  18 04       	jr	l_game_end_00110
3743  1360              l_game_end_00109:
3744  1360  DD 36 FD 01 	ld	(ix-3),0x01
3745  1364              l_game_end_00110:
3746  1364  DD 7E FD    	ld	a,(ix-3)
3747  1367  3D          	dec	a
3748  1368  20 04       	jr	NZ,l_game_end_00221
3749  136A  3E 01       	ld	a,0x01
3750  136C  18 01       	jr	l_game_end_00222
3751  136E              l_game_end_00221:
3752  136E  AF          	xor	a,a
3753  136F              l_game_end_00222:
3754  136F  DD 77 FF    	ld	(ix-1),a
3755  1372  B7          	or	a, a
3756  1373  28 1C       	jr	Z,l_game_end_00112
3757  1375  DD 7E FC    	ld	a,(ix-4)
3758  1378  B7          	or	a, a
3759  1379  20 16       	jr	NZ,l_game_end_00112
3760  137B  21 1B 15    	ld	hl,___str_37
3761  137E  E5          	push	hl
3762  137F  21 13 01    	ld	hl,0x0113
3763  1382  E5          	push	hl
3764  1383  CD 00 00    	call	_zx_print_str
3765  1386  21 50 0C    	ld	hl,0x0c50
3766  1389  E5          	push	hl
3767  138A  3E 03       	ld	a,0x03
3768  138C  F5          	push	af
3769  138D  33          	inc	sp
3770  138E  CD 00 00    	call	_NIRVANAP_drawT_callee
3771  1391              l_game_end_00112:
3772  1391  DD 7E FC    	ld	a,(ix-4)
3773  1394  3D          	dec	a
3774  1395  20 04       	jr	NZ,l_game_end_00223
3775  1397  3E 01       	ld	a,0x01
3776  1399  18 01       	jr	l_game_end_00224
3777  139B              l_game_end_00223:
3778  139B  AF          	xor	a,a
3779  139C              l_game_end_00224:
3780  139C  DD 77 FE    	ld	(ix-2),a
3781  139F  DD 7E FD    	ld	a,(ix-3)
3782  13A2  B7          	or	a, a
3783  13A3  20 1C       	jr	NZ,l_game_end_00115
3784  13A5  DD 7E FE    	ld	a,(ix-2)
3785  13A8  B7          	or	a, a
3786  13A9  28 16       	jr	Z,l_game_end_00115
3787  13AB  21 25 15    	ld	hl,___str_38
3788  13AE  E5          	push	hl
3789  13AF  21 13 01    	ld	hl,0x0113
3790  13B2  E5          	push	hl
3791  13B3  CD 00 00    	call	_zx_print_str
3792  13B6  21 60 0E    	ld	hl,0x0e60
3793  13B9  E5          	push	hl
3794  13BA  3E 1B       	ld	a,0x1b
3795  13BC  F5          	push	af
3796  13BD  33          	inc	sp
3797  13BE  CD 00 00    	call	_NIRVANAP_drawT_callee
3798  13C1              l_game_end_00115:
3799  13C1  DD 7E FF    	ld	a,(ix-1)
3800  13C4  B7          	or	a, a
3801  13C5  28 27       	jr	Z,l_game_end_00118
3802  13C7  DD 7E FE    	ld	a,(ix-2)
3803  13CA  B7          	or	a, a
3804  13CB  28 21       	jr	Z,l_game_end_00118
3805  13CD  21 2E 15    	ld	hl,___str_39
3806  13D0  E5          	push	hl
3807  13D1  21 13 01    	ld	hl,0x0113
3808  13D4  E5          	push	hl
3809  13D5  CD 00 00    	call	_zx_print_str
3810  13D8  21 50 0C    	ld	hl,0x0c50
3811  13DB  E5          	push	hl
3812  13DC  3E 03       	ld	a,0x03
3813  13DE  F5          	push	af
3814  13DF  33          	inc	sp
3815  13E0  CD 00 00    	call	_NIRVANAP_drawT_callee
3816  13E3  21 60 0E    	ld	hl,0x0e60
3817  13E6  E5          	push	hl
3818  13E7  3E 1B       	ld	a,0x1b
3819  13E9  F5          	push	af
3820  13EA  33          	inc	sp
3821  13EB  CD 00 00    	call	_NIRVANAP_drawT_callee
3822  13EE              l_game_end_00118:
3823  13EE  21 C8 00    	ld	hl,0x00c8
3824  13F1  E5          	push	hl
3825  13F2  21 01 1F    	ld	hl,0x1f01
3826  13F5  E5          	push	hl
3827  13F6  3E 13       	ld	a,0x13
3828  13F8  F5          	push	af
3829  13F9  33          	inc	sp
3830  13FA  CD 04 1B    	call	_game_colour_message
3831  13FD  F1          	pop	af
3832  13FE  F1          	pop	af
3833  13FF  33          	inc	sp
3834  1400  DD 7E FF    	ld	a,(ix-1)
3835  1403  B7          	or	a, a
3836  1404  28 32       	jr	Z,l_game_end_00121
3837  1406  DD 7E FC    	ld	a,(ix-4)
3838  1409  B7          	or	a, a
3839  140A  20 2C       	jr	NZ,l_game_end_00121
3840  140C  21 40 12    	ld	hl,0x1240
3841  140F  E5          	push	hl
3842  1410  3E BE       	ld	a,0xbe
3843  1412  F5          	push	af
3844  1413  33          	inc	sp
3845  1414  CD 00 00    	call	_NIRVANAP_drawT_callee
3846  1417  21 50 12    	ld	hl,0x1250
3847  141A  E5          	push	hl
3848  141B  3E CA       	ld	a,0xca
3849  141D  F5          	push	af
3850  141E  33          	inc	sp
3851  141F  CD 00 00    	call	_NIRVANAP_drawT_callee
3852  1422  21 42 15    	ld	hl,___str_40
3853  1425  E5          	push	hl
3854  1426  21 13 01    	ld	hl,0x0113
3855  1429  E5          	push	hl
3856  142A  CD 00 00    	call	_zx_print_str
3857  142D  21 40 0C    	ld	hl,0x0c40
3858  1430  E5          	push	hl
3859  1431  3E BE       	ld	a,0xbe
3860  1433  F5          	push	af
3861  1434  33          	inc	sp
3862  1435  CD 00 00    	call	_NIRVANAP_drawT_callee
3863  1438              l_game_end_00121:
3864  1438  DD 7E FD    	ld	a,(ix-3)
3865  143B  B7          	or	a, a
3866  143C  20 32       	jr	NZ,l_game_end_00124
3867  143E  DD 7E FE    	ld	a,(ix-2)
3868  1441  B7          	or	a, a
3869  1442  28 2C       	jr	Z,l_game_end_00124
3870  1444  21 50 12    	ld	hl,0x1250
3871  1447  E5          	push	hl
3872  1448  3E BE       	ld	a,0xbe
3873  144A  F5          	push	af
3874  144B  33          	inc	sp
3875  144C  CD 00 00    	call	_NIRVANAP_drawT_callee
3876  144F  21 60 12    	ld	hl,0x1260
3877  1452  E5          	push	hl
3878  1453  3E CA       	ld	a,0xca
3879  1455  F5          	push	af
3880  1456  33          	inc	sp
3881  1457  CD 00 00    	call	_NIRVANAP_drawT_callee
3882  145A  21 42 15    	ld	hl,___str_40
3883  145D  E5          	push	hl
3884  145E  21 13 01    	ld	hl,0x0113
3885  1461  E5          	push	hl
3886  1462  CD 00 00    	call	_zx_print_str
3887  1465  21 50 0E    	ld	hl,0x0e50
3888  1468  E5          	push	hl
3889  1469  3E BE       	ld	a,0xbe
3890  146B  F5          	push	af
3891  146C  33          	inc	sp
3892  146D  CD 00 00    	call	_NIRVANAP_drawT_callee
3893  1470              l_game_end_00124:
3894  1470  DD 7E FF    	ld	a,(ix-1)
3895  1473  B7          	or	a, a
3896  1474  28 53       	jr	Z,l_game_end_00127
3897  1476  DD 7E FE    	ld	a,(ix-2)
3898  1479  B7          	or	a, a
3899  147A  28 4D       	jr	Z,l_game_end_00127
3900  147C  21 56 15    	ld	hl,___str_41
3901  147F  E5          	push	hl
3902  1480  21 13 01    	ld	hl,0x0113
3903  1483  E5          	push	hl
3904  1484  CD 00 00    	call	_zx_print_str
3905  1487  21 40 12    	ld	hl,0x1240
3906  148A  E5          	push	hl
3907  148B  3E BE       	ld	a,0xbe
3908  148D  F5          	push	af
3909  148E  33          	inc	sp
3910  148F  CD 00 00    	call	_NIRVANAP_drawT_callee
3911  1492  21 50 12    	ld	hl,0x1250
3912  1495  E5          	push	hl
3913  1496  3E CA       	ld	a,0xca
3914  1498  F5          	push	af
3915  1499  33          	inc	sp
3916  149A  CD 00 00    	call	_NIRVANAP_drawT_callee
3917  149D  21 50 10    	ld	hl,0x1050
3918  14A0  E5          	push	hl
3919  14A1  3E BE       	ld	a,0xbe
3920  14A3  F5          	push	af
3921  14A4  33          	inc	sp
3922  14A5  CD 00 00    	call	_NIRVANAP_drawT_callee
3923  14A8  21 60 10    	ld	hl,0x1060
3924  14AB  E5          	push	hl
3925  14AC  3E CA       	ld	a,0xca
3926  14AE  F5          	push	af
3927  14AF  33          	inc	sp
3928  14B0  CD 00 00    	call	_NIRVANAP_drawT_callee
3929  14B3  21 40 0C    	ld	hl,0x0c40
3930  14B6  E5          	push	hl
3931  14B7  3E BE       	ld	a,0xbe
3932  14B9  F5          	push	af
3933  14BA  33          	inc	sp
3934  14BB  CD 00 00    	call	_NIRVANAP_drawT_callee
3935  14BE  21 50 0E    	ld	hl,0x0e50
3936  14C1  E5          	push	hl
3937  14C2  3E BE       	ld	a,0xbe
3938  14C4  F5          	push	af
3939  14C5  33          	inc	sp
3940  14C6  CD 00 00    	call	_NIRVANAP_drawT_callee
3941  14C9              l_game_end_00127:
3942  14C9  21 C8 00    	ld	hl,0x00c8
3943  14CC  E5          	push	hl
3944  14CD  21 01 1F    	ld	hl,0x1f01
3945  14D0  E5          	push	hl
3946  14D1  3E 13       	ld	a,0x13
3947  14D3  F5          	push	af
3948  14D4  33          	inc	sp
3949  14D5  CD 04 1B    	call	_game_colour_message
3950  14D8  F1          	pop	af
3951  14D9  33          	inc	sp
3952  14DA  21 6C 15    	ld	hl,___str_42
3953  14DD  E3          	ex	(sp),hl
3954  14DE  21 13 01    	ld	hl,0x0113
3955  14E1  E5          	push	hl
3956  14E2  CD 00 00    	call	_zx_print_str
3957  14E5  21 C8 00    	ld	hl,0x00c8
3958  14E8  E5          	push	hl
3959  14E9  21 01 1F    	ld	hl,0x1f01
3960  14EC  E5          	push	hl
3961  14ED  3E 13       	ld	a,0x13
3962  14EF  F5          	push	af
3963  14F0  33          	inc	sp
3964  14F1  CD 04 1B    	call	_game_colour_message
3965  14F4  F1          	pop	af
3966  14F5  33          	inc	sp
3967  14F6  21 83 15    	ld	hl,___str_43
3968  14F9  E3          	ex	(sp),hl
3969  14FA  21 13 01    	ld	hl,0x0113
3970  14FD  E5          	push	hl
3971  14FE  CD 00 00    	call	_zx_print_str
3972  1501  21 C8 00    	ld	hl,0x00c8
3973  1504  E5          	push	hl
3974  1505  21 01 1F    	ld	hl,0x1f01
3975  1508  E5          	push	hl
3976  1509  3E 13       	ld	a,0x13
3977  150B  F5          	push	af
3978  150C  33          	inc	sp
3979  150D  CD 04 1B    	call	_game_colour_message
3980  1510  F1          	pop	af
3981  1511  F1          	pop	af
3982  1512  33          	inc	sp
3983  1513  CD 00 00    	call	_spr_draw_clear
3984  1516  DD F9       	ld	sp, ix
3985  1518  DD E1       	pop	ix
3986  151A  C9          	ret
3987  151B              ___str_37:
3988  151B  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
3989  1524  00          	DEFB 0x00
3990  1525              ___str_38:
3991  1525  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
3992  152D  00          	DEFB 0x00
3993  152E              ___str_39:
3994  152E  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
3995  1541  00          	DEFB 0x00
3996  1542              ___str_40:
3997  1542  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
3998  1555  00          	DEFB 0x00
3999  1556              ___str_41:
4000  1556  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4001  156B  00          	DEFB 0x00
4002  156C              ___str_42:
4003  156C  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4004  1582  00          	DEFB 0x00
4005  1583              ___str_43:
4006  1583  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4007  1599  00          	DEFB 0x00
4008  159A              ;	---------------------------------
4009  159A              ; Function game_hall_check
4010  159A              ; ---------------------------------
4011  159A              _game_hall_check:
4012  159A  CD 00 00    	call	___sdcc_enter_ix
4013  159D  01 00 00    	ld	bc,_player_score+0
4014  15A0  DD 6E 04    	ld	l,(ix+4)
4015  15A3  26 00       	ld	h,0x00
4016  15A5  29          	add	hl, hl
4017  15A6  09          	add	hl,bc
4018  15A7  4E          	ld	c,(hl)
4019  15A8  23          	inc	hl
4020  15A9  46          	ld	b,(hl)
4021  15AA  2A 3A 00    	ld	hl,(_hof + 0x003a)
4022  15AD  AF          	xor	a,a
4023  15AE  ED 42       	sbc	hl,bc
4024  15B0  30 09       	jr	NC,l_game_hall_check_00104
4025  15B2  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4026  15B6  21 36 00    	ld	hl,+(_hof + 0x0036)
4027  15B9  18 14       	jr	l_game_hall_check_00106
4028  15BB              l_game_hall_check_00104:
4029  15BB  2A 34 00    	ld	hl,(_hof + 0x0034)
4030  15BE  AF          	xor	a,a
4031  15BF  ED 42       	sbc	hl,bc
4032  15C1  30 09       	jr	NC,l_game_hall_check_00105
4033  15C3  ED 43 34 00 	ld	(_hof + 0x0034),bc
4034  15C7  21 30 00    	ld	hl,+(_hof + 0x0030)
4035  15CA  18 03       	jr	l_game_hall_check_00106
4036  15CC              l_game_hall_check_00105:
4037  15CC  21 00 00    	ld	hl,0x0000
4038  15CF              l_game_hall_check_00106:
4039  15CF  DD E1       	pop	ix
4040  15D1  C9          	ret
4041  15D2              ;	---------------------------------
4042  15D2              ; Function compare_scores
4043  15D2              ; ---------------------------------
4044  15D2              _compare_scores:
4045  15D2  CD 00 00    	call	___sdcc_enter_ix
4046  15D5  DD 6E 06    	ld	l,(ix+6)
4047  15D8  DD 66 07    	ld	h,(ix+7)
4048  15DB  11 04 00    	ld	de,0x0004
4049  15DE  19          	add	hl, de
4050  15DF  4E          	ld	c,(hl)
4051  15E0  23          	inc	hl
4052  15E1  46          	ld	b,(hl)
4053  15E2  DD 6E 04    	ld	l,(ix+4)
4054  15E5  DD 66 05    	ld	h,(ix+5)
4055  15E8  11 04 00    	ld	de,0x0004
4056  15EB  19          	add	hl, de
4057  15EC  5E          	ld	e,(hl)
4058  15ED  23          	inc	hl
4059  15EE  56          	ld	d,(hl)
4060  15EF  79          	ld	a,c
4061  15F0  93          	sub	a, e
4062  15F1  6F          	ld	l,a
4063  15F2  78          	ld	a,b
4064  15F3  9A          	sbc	a, d
4065  15F4  67          	ld	h,a
4066  15F5  DD E1       	pop	ix
4067  15F7  C9          	ret
4068  15F8              ;	---------------------------------
4069  15F8              ; Function game_hall_enter
4070  15F8              ; ---------------------------------
4071  15F8              _game_hall_enter:
4072  15F8  CD 00 00    	call	___sdcc_enter_ix
4073  15FB  21 F7 FF    	ld	hl,-9
4074  15FE  39          	add	hl,sp
4075  15FF  F9          	ld	sp,hl
4076  1600  CD 00 00    	call	_spr_draw_clear
4077  1603  AF          	xor	a, a
4078  1604  F5          	push	af
4079  1605  33          	inc	sp
4080  1606  CD B1 0D    	call	_game_paint_attrib
4081  1609  33          	inc	sp
4082  160A  ED 4B 00 00 	ld	bc,(_player_score)
4083  160E  2A 02 00    	ld	hl, (_player_score + 2)
4084  1611  AF          	xor	a,a
4085  1612  ED 42       	sbc	hl,bc
4086  1614  30 14       	jr	NC,l_game_hall_enter_00102
4087  1616  AF          	xor	a, a
4088  1617  F5          	push	af
4089  1618  33          	inc	sp
4090  1619  CD 9A 15    	call	_game_hall_check
4091  161C  33          	inc	sp
4092  161D  E5          	push	hl
4093  161E  3E 01       	ld	a,0x01
4094  1620  F5          	push	af
4095  1621  33          	inc	sp
4096  1622  CD 9A 15    	call	_game_hall_check
4097  1625  33          	inc	sp
4098  1626  EB          	ex	de,hl
4099  1627  C1          	pop	bc
4100  1628  18 13       	jr	l_game_hall_enter_00103
4101  162A              l_game_hall_enter_00102:
4102  162A  3E 01       	ld	a,0x01
4103  162C  F5          	push	af
4104  162D  33          	inc	sp
4105  162E  CD 9A 15    	call	_game_hall_check
4106  1631  33          	inc	sp
4107  1632  E5          	push	hl
4108  1633  AF          	xor	a, a
4109  1634  F5          	push	af
4110  1635  33          	inc	sp
4111  1636  CD 9A 15    	call	_game_hall_check
4112  1639  33          	inc	sp
4113  163A  D1          	pop	de
4114  163B  4D          	ld	c,l
4115  163C  44          	ld	b,h
4116  163D              l_game_hall_enter_00103:
4117  163D  78          	ld	a,b
4118  163E  B1          	or	a,c
4119  163F  20 05       	jr	NZ,l_game_hall_enter_00125
4120  1641  7A          	ld	a,d
4121  1642  B3          	or	a,e
4122  1643  CA 96 17    	jp	Z,l_game_hall_enter_00126
4123  1646              l_game_hall_enter_00125:
4124  1646  3E 00       	ld	a,0x00
4125  1648  DD 77 F7    	ld	(ix-9),a
4126  164B  DD 77 FB    	ld	(ix-5),a
4127  164E  DD 77 FA    	ld	(ix-6),a
4128  1651  DD 77 F9    	ld	(ix-7),a
4129  1654  DD 36 F8 00 	ld	(ix-8),0x00
4130  1658  78          	ld	a,b
4131  1659  B1          	or	a,c
4132  165A  28 0F       	jr	Z,l_game_hall_enter_00105
4133  165C  DD 36 F9 01 	ld	(ix-7),0x01
4134  1660  C5          	push	bc
4135  1661  D5          	push	de
4136  1662  AF          	xor	a, a
4137  1663  F5          	push	af
4138  1664  33          	inc	sp
4139  1665  CD F2 17    	call	_game_hall_enter_phs
4140  1668  33          	inc	sp
4141  1669  D1          	pop	de
4142  166A  C1          	pop	bc
4143  166B              l_game_hall_enter_00105:
4144  166B  7A          	ld	a,d
4145  166C  B3          	or	a,e
4146  166D  28 10       	jr	Z,l_game_hall_enter_00107
4147  166F  DD 36 F8 05 	ld	(ix-8),0x05
4148  1673  C5          	push	bc
4149  1674  D5          	push	de
4150  1675  3E 01       	ld	a,0x01
4151  1677  F5          	push	af
4152  1678  33          	inc	sp
4153  1679  CD F2 17    	call	_game_hall_enter_phs
4154  167C  33          	inc	sp
4155  167D  D1          	pop	de
4156  167E  C1          	pop	bc
4157  167F              l_game_hall_enter_00107:
4158  167F  C5          	push	bc
4159  1680  D5          	push	de
4160  1681  21 A4 17    	ld	hl,___str_44
4161  1684  E5          	push	hl
4162  1685  21 02 0A    	ld	hl,0x0a02
4163  1688  E5          	push	hl
4164  1689  CD 00 00    	call	_zx_print_str
4165  168C  21 B1 17    	ld	hl,___str_45
4166  168F  E5          	push	hl
4167  1690  21 12 06    	ld	hl,0x0612
4168  1693  E5          	push	hl
4169  1694  CD 00 00    	call	_zx_print_str
4170  1697  21 C4 17    	ld	hl,___str_46
4171  169A  E5          	push	hl
4172  169B  21 13 06    	ld	hl,0x0613
4173  169E  E5          	push	hl
4174  169F  CD 00 00    	call	_zx_print_str
4175  16A2  D1          	pop	de
4176  16A3  C1          	pop	bc
4177  16A4  21 FF FF    	ld	hl,-1
4178  16A7  CD 00 00    	call	____sdcc_store_debc_hlix
4179  16AA              l_game_hall_enter_00122:
4180  16AA  DD 4E F9    	ld	c,(ix-7)
4181  16AD  06 00       	ld	b,0x00
4182  16AF  DD 6E F8    	ld	l,(ix-8)
4183  16B2  26 00       	ld	h,0x00
4184  16B4  09          	add	hl,bc
4185  16B5  7C          	ld	a,h
4186  16B6  B5          	or	a,l
4187  16B7  CA 7E 17    	jp	Z,l_game_hall_enter_00124
4188  16BA  21 05 00    	ld	hl,0x0005
4189  16BD  E5          	push	hl
4190  16BE  2A 00 00    	ld	hl,(_frame_time)
4191  16C1  E5          	push	hl
4192  16C2  CD 96 1B    	call	_game_check_time
4193  16C5  F1          	pop	af
4194  16C6  F1          	pop	af
4195  16C7  7D          	ld	a,l
4196  16C8  B7          	or	a, a
4197  16C9  28 36       	jr	Z,l_game_hall_enter_00113
4198  16CB  DD 7E FA    	ld	a,(ix-6)
4199  16CE  D6 01       	sub	a,0x01
4200  16D0  3E 00       	ld	a,0x00
4201  16D2  17          	rla
4202  16D3  DD 77 FA    	ld	(ix-6),a
4203  16D6  DD 7E F9    	ld	a,(ix-7)
4204  16D9  B7          	or	a, a
4205  16DA  28 0B       	jr	Z,l_game_hall_enter_00109
4206  16DC  DD 66 FA    	ld	h,(ix-6)
4207  16DF  DD 6E F9    	ld	l,(ix-7)
4208  16E2  E5          	push	hl
4209  16E3  CD 7C 18    	call	_game_hall_print_p
4210  16E6  F1          	pop	af
4211  16E7              l_game_hall_enter_00109:
4212  16E7  DD 7E F8    	ld	a,(ix-8)
4213  16EA  B7          	or	a, a
4214  16EB  28 0B       	jr	Z,l_game_hall_enter_00111
4215  16ED  DD 66 FA    	ld	h,(ix-6)
4216  16F0  DD 6E F8    	ld	l,(ix-8)
4217  16F3  E5          	push	hl
4218  16F4  CD 7C 18    	call	_game_hall_print_p
4219  16F7  F1          	pop	af
4220  16F8              l_game_hall_enter_00111:
4221  16F8  CD E8 1A    	call	_game_rotate_attrib
4222  16FB  2A 00 00    	ld	hl,(_curr_time)
4223  16FE  22 00 00    	ld	(_frame_time),hl
4224  1701              l_game_hall_enter_00113:
4225  1701  21 00 00    	ld	hl,_k1
4226  1704  E5          	push	hl
4227  1705  2A 00 00    	ld	hl,(_joyfunc1)
4228  1708  CD 00 00    	call	___sdcc_call_hl
4229  170B  F1          	pop	af
4230  170C  7D          	ld	a,l
4231  170D  32 00 00    	ld	(_dirs),a
4232  1710  DD 7E F7    	ld	a,(ix-9)
4233  1713  B7          	or	a, a
4234  1714  20 22       	jr	NZ,l_game_hall_enter_00115
4235  1716  DD 7E F9    	ld	a,(ix-7)
4236  1719  B7          	or	a, a
4237  171A  28 1C       	jr	Z,l_game_hall_enter_00115
4238  171C  F5          	push	af
4239  171D  33          	inc	sp
4240  171E  CD 3A 19    	call	_game_hall_edit_p
4241  1721  33          	inc	sp
4242  1722  DD 75 F9    	ld	(ix-7),l
4243  1725  7D          	ld	a,l
4244  1726  B7          	or	a, a
4245  1727  20 0F       	jr	NZ,l_game_hall_enter_00115
4246  1729  DD 5E FC    	ld	e,(ix-4)
4247  172C  DD 56 FD    	ld	d,(ix-3)
4248  172F  AF          	xor	a,a
4249  1730  21 00 00    	ld	hl,_initials
4250  1733              l_game_hall_enter_00190:
4251  1733  BE          	cp	a, (hl)
4252  1734  ED A0       	ldi
4253  1736  20 FB       	jr	NZ, l_game_hall_enter_00190
4254  1738              l_game_hall_enter_00115:
4255  1738  3A 00 00    	ld	a,(_dirs)
4256  173B  DD 77 F7    	ld	(ix-9),a
4257  173E  21 00 00    	ld	hl,_k2
4258  1741  E5          	push	hl
4259  1742  2A 00 00    	ld	hl,(_joyfunc2)
4260  1745  CD 00 00    	call	___sdcc_call_hl
4261  1748  F1          	pop	af
4262  1749  7D          	ld	a,l
4263  174A  32 00 00    	ld	(_dirs),a
4264  174D  DD 7E FB    	ld	a,(ix-5)
4265  1750  B7          	or	a, a
4266  1751  20 22       	jr	NZ,l_game_hall_enter_00119
4267  1753  DD 7E F8    	ld	a,(ix-8)
4268  1756  B7          	or	a, a
4269  1757  28 1C       	jr	Z,l_game_hall_enter_00119
4270  1759  F5          	push	af
4271  175A  33          	inc	sp
4272  175B  CD 3A 19    	call	_game_hall_edit_p
4273  175E  33          	inc	sp
4274  175F  DD 75 F8    	ld	(ix-8),l
4275  1762  7D          	ld	a,l
4276  1763  B7          	or	a, a
4277  1764  20 0F       	jr	NZ,l_game_hall_enter_00119
4278  1766  DD 5E FE    	ld	e,(ix-2)
4279  1769  DD 56 FF    	ld	d,(ix-1)
4280  176C  AF          	xor	a,a
4281  176D  21 04 00    	ld	hl,+(_initials + 0x0004)
4282  1770              l_game_hall_enter_00191:
4283  1770  BE          	cp	a, (hl)
4284  1771  ED A0       	ldi
4285  1773  20 FB       	jr	NZ, l_game_hall_enter_00191
4286  1775              l_game_hall_enter_00119:
4287  1775  3A 00 00    	ld	a,(_dirs)
4288  1778  DD 77 FB    	ld	(ix-5),a
4289  177B  C3 AA 16    	jp	l_game_hall_enter_00122
4290  177E              l_game_hall_enter_00124:
4291  177E  CD 00 00    	call	_spr_draw_clear
4292  1781  01 D2 15    	ld	bc,_compare_scores
4293  1784  C5          	push	bc
4294  1785  21 06 00    	ld	hl,0x0006
4295  1788  E5          	push	hl
4296  1789  2E 0A       	ld	l,0x0a
4297  178B  E5          	push	hl
4298  178C  21 00 00    	ld	hl,_hof
4299  178F  E5          	push	hl
4300  1790  CD 00 00    	call	__insertion_sort__callee
4301  1793  CD 00 00    	call	_ay_reset
4302  1796              l_game_hall_enter_00126:
4303  1796  CD 05 1A    	call	_game_hall_of_fame
4304  1799  AF          	xor	a, a
4305  179A  F5          	push	af
4306  179B  33          	inc	sp
4307  179C  CD D8 17    	call	_game_menu_back
4308  179F  DD F9       	ld	sp,ix
4309  17A1  DD E1       	pop	ix
4310  17A3  C9          	ret
4311  17A4              ___str_44:
4312  17A4  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4313  17B0  00          	DEFB 0x00
4314  17B1              ___str_45:
4315  17B1  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4316  17C3  00          	DEFB 0x00
4317  17C4              ___str_46:
4318  17C4  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4319  17D7  00          	DEFB 0x00
4320  17D8              ;	---------------------------------
4321  17D8              ; Function game_menu_back
4322  17D8              ; ---------------------------------
4323  17D8              _game_menu_back:
4324  17D8  CD 00 00    	call	___sdcc_enter_ix
4325  17DB  21 00 00    	ld	hl,_game_menu_sel
4326  17DE  36 00       	ld	(hl),0x00
4327  17E0  DD 7E 04    	ld	a,(ix+4)
4328  17E3  32 00 00    	ld	(_s_lin1),a
4329  17E6  CD E4 0F    	call	_game_menu_paint
4330  17E9  2A 00 00    	ld	hl,(_curr_time)
4331  17EC  22 00 00    	ld	(_entry_time),hl
4332  17EF  DD E1       	pop	ix
4333  17F1  C9          	ret
4334  17F2              ;	---------------------------------
4335  17F2              ; Function game_hall_enter_phs
4336  17F2              ; ---------------------------------
4337  17F2              _game_hall_enter_phs:
4338  17F2  CD 00 00    	call	___sdcc_enter_ix
4339  17F5  DD 7E 04    	ld	a,(ix+4)
4340  17F8  B7          	or	a, a
4341  17F9  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4342  17FB  21 9C 01    	ld	hl,0x019c
4343  17FE  E5          	push	hl
4344  17FF  21 02 0C    	ld	hl,0x0c02
4345  1802  E5          	push	hl
4346  1803  3E 30       	ld	a,0x30
4347  1805  F5          	push	af
4348  1806  33          	inc	sp
4349  1807  CD 15 11    	call	_game_menu_e
4350  180A  F1          	pop	af
4351  180B  33          	inc	sp
4352  180C  21 9F FF    	ld	hl,0xff9f
4353  180F  E3          	ex	(sp),hl
4354  1810  21 02 0C    	ld	hl,0x0c02
4355  1813  E5          	push	hl
4356  1814  3E 7C       	ld	a,0x7c
4357  1816  F5          	push	af
4358  1817  33          	inc	sp
4359  1818  CD 15 11    	call	_game_menu_e
4360  181B  F1          	pop	af
4361  181C  33          	inc	sp
4362  181D  21 70 18    	ld	hl,___str_47
4363  1820  E3          	ex	(sp),hl
4364  1821  21 07 05    	ld	hl,0x0507
4365  1824  E5          	push	hl
4366  1825  CD 00 00    	call	_zx_print_str
4367  1828  21 75 18    	ld	hl,___str_48
4368  182B  E5          	push	hl
4369  182C  21 08 05    	ld	hl,0x0508
4370  182F  E5          	push	hl
4371  1830  CD 00 00    	call	_zx_print_str
4372  1833  18 38       	jr	l_game_hall_enter_phs_00104
4373  1835              l_game_hall_enter_phs_00102:
4374  1835  21 9C 01    	ld	hl,0x019c
4375  1838  E5          	push	hl
4376  1839  21 12 1C    	ld	hl,0x1c12
4377  183C  E5          	push	hl
4378  183D  3E 30       	ld	a,0x30
4379  183F  F5          	push	af
4380  1840  33          	inc	sp
4381  1841  CD 15 11    	call	_game_menu_e
4382  1844  F1          	pop	af
4383  1845  33          	inc	sp
4384  1846  21 9F FF    	ld	hl,0xff9f
4385  1849  E3          	ex	(sp),hl
4386  184A  21 12 1C    	ld	hl,0x1c12
4387  184D  E5          	push	hl
4388  184E  3E 7C       	ld	a,0x7c
4389  1850  F5          	push	af
4390  1851  33          	inc	sp
4391  1852  CD 15 11    	call	_game_menu_e
4392  1855  F1          	pop	af
4393  1856  33          	inc	sp
4394  1857  21 70 18    	ld	hl,___str_47
4395  185A  E3          	ex	(sp),hl
4396  185B  21 07 15    	ld	hl,0x1507
4397  185E  E5          	push	hl
4398  185F  CD 00 00    	call	_zx_print_str
4399  1862  21 75 18    	ld	hl,___str_48
4400  1865  E5          	push	hl
4401  1866  21 08 15    	ld	hl,0x1508
4402  1869  E5          	push	hl
4403  186A  CD 00 00    	call	_zx_print_str
4404  186D              l_game_hall_enter_phs_00104:
4405  186D  DD E1       	pop	ix
4406  186F  C9          	ret
4407  1870              ___str_47:
4408  1870  48 49 47 48 	DEFM "HIGH"
4409  1874  00          	DEFB 0x00
4410  1875              ___str_48:
4411  1875  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4412  187B  00          	DEFB 0x00
4413  187C              ;	---------------------------------
4414  187C              ; Function game_hall_print_p
4415  187C              ; ---------------------------------
4416  187C              _game_hall_print_p:
4417  187C  CD 00 00    	call	___sdcc_enter_ix
4418  187F  DD 7E 04    	ld	a,(ix+4)
4419  1882  D6 05       	sub	a,0x05
4420  1884  30 59       	jr	NC,l_game_hall_print_p_00108
4421  1886  21 00 00    	ld	hl,_initials
4422  1889  E5          	push	hl
4423  188A  21 0D 06    	ld	hl,0x060d
4424  188D  E5          	push	hl
4425  188E  CD 00 00    	call	_zx_print_str
4426  1891  DD 7E 04    	ld	a,(ix+4)
4427  1894  C6 06       	add	a,0x06
4428  1896  47          	ld	b,a
4429  1897  DD 7E 04    	ld	a,(ix+4)
4430  189A  C6 05       	add	a,0x05
4431  189C  57          	ld	d,a
4432  189D  3E 70       	ld	a,0x70
4433  189F  F5          	push	af
4434  18A0  33          	inc	sp
4435  18A1  4A          	ld	c, d
4436  18A2  C5          	push	bc
4437  18A3  CD 08 0E    	call	_game_paint_attrib_lin_h
4438  18A6  F1          	pop	af
4439  18A7  33          	inc	sp
4440  18A8  76          	halt
4441  18A9  DD 7E 05    	ld	a,(ix+5)
4442  18AC  B7          	or	a, a
4443  18AD  28 18       	jr	Z,l_game_hall_print_p_00102
4444  18AF  21 56 06    	ld	hl,0x0656
4445  18B2  E5          	push	hl
4446  18B3  3E A9       	ld	a,0xa9
4447  18B5  F5          	push	af
4448  18B6  33          	inc	sp
4449  18B7  CD 00 00    	call	_NIRVANAP_drawT_callee
4450  18BA  21 58 06    	ld	hl,0x0658
4451  18BD  E5          	push	hl
4452  18BE  3E 03       	ld	a,0x03
4453  18C0  F5          	push	af
4454  18C1  33          	inc	sp
4455  18C2  CD 00 00    	call	_NIRVANAP_drawT_callee
4456  18C5  18 70       	jr	l_game_hall_print_p_00110
4457  18C7              l_game_hall_print_p_00102:
4458  18C7  21 58 06    	ld	hl,0x0658
4459  18CA  E5          	push	hl
4460  18CB  3E A9       	ld	a,0xa9
4461  18CD  F5          	push	af
4462  18CE  33          	inc	sp
4463  18CF  CD 00 00    	call	_NIRVANAP_drawT_callee
4464  18D2  21 56 06    	ld	hl,0x0656
4465  18D5  E5          	push	hl
4466  18D6  3E 16       	ld	a,0x16
4467  18D8  F5          	push	af
4468  18D9  33          	inc	sp
4469  18DA  CD 00 00    	call	_NIRVANAP_drawT_callee
4470  18DD  18 58       	jr	l_game_hall_print_p_00110
4471  18DF              l_game_hall_print_p_00108:
4472  18DF  21 04 00    	ld	hl,+(_initials + 0x0004)
4473  18E2  E5          	push	hl
4474  18E3  21 0D 16    	ld	hl,0x160d
4475  18E6  E5          	push	hl
4476  18E7  CD 00 00    	call	_zx_print_str
4477  18EA  DD 7E 04    	ld	a,(ix+4)
4478  18ED  C6 12       	add	a,0x12
4479  18EF  57          	ld	d,a
4480  18F0  DD 7E 04    	ld	a,(ix+4)
4481  18F3  C6 11       	add	a,0x11
4482  18F5  47          	ld	b,a
4483  18F6  3E 70       	ld	a,0x70
4484  18F8  5A          	ld	e,d
4485  18F9  57          	ld	d,a
4486  18FA  D5          	push	de
4487  18FB  C5          	push	bc
4488  18FC  33          	inc	sp
4489  18FD  CD 08 0E    	call	_game_paint_attrib_lin_h
4490  1900  F1          	pop	af
4491  1901  33          	inc	sp
4492  1902  76          	halt
4493  1903  DD 7E 05    	ld	a,(ix+5)
4494  1906  B7          	or	a, a
4495  1907  28 18       	jr	Z,l_game_hall_print_p_00105
4496  1909  21 56 17    	ld	hl,0x1756
4497  190C  E5          	push	hl
4498  190D  3E A9       	ld	a,0xa9
4499  190F  F5          	push	af
4500  1910  33          	inc	sp
4501  1911  CD 00 00    	call	_NIRVANAP_drawT_callee
4502  1914  21 58 17    	ld	hl,0x1758
4503  1917  E5          	push	hl
4504  1918  3E 27       	ld	a,0x27
4505  191A  F5          	push	af
4506  191B  33          	inc	sp
4507  191C  CD 00 00    	call	_NIRVANAP_drawT_callee
4508  191F  18 16       	jr	l_game_hall_print_p_00110
4509  1921              l_game_hall_print_p_00105:
4510  1921  21 58 17    	ld	hl,0x1758
4511  1924  E5          	push	hl
4512  1925  3E A9       	ld	a,0xa9
4513  1927  F5          	push	af
4514  1928  33          	inc	sp
4515  1929  CD 00 00    	call	_NIRVANAP_drawT_callee
4516  192C  21 56 17    	ld	hl,0x1756
4517  192F  E5          	push	hl
4518  1930  3E 2E       	ld	a,0x2e
4519  1932  F5          	push	af
4520  1933  33          	inc	sp
4521  1934  CD 00 00    	call	_NIRVANAP_drawT_callee
4522  1937              l_game_hall_print_p_00110:
4523  1937  DD E1       	pop	ix
4524  1939  C9          	ret
4525  193A              ;	---------------------------------
4526  193A              ; Function game_hall_edit_p
4527  193A              ; ---------------------------------
4528  193A              _game_hall_edit_p:
4529  193A  CD 00 00    	call	___sdcc_enter_ix
4530  193D  DD 35 04    	dec	(ix+4)
4531  1940  3A 00 00    	ld	a,(_dirs)
4532  1943  07          	rlca
4533  1944  30 7B       	jr	NC,l_game_hall_edit_p_00120
4534  1946  DD 7E 04    	ld	a,(ix+4)
4535  1949  D6 04       	sub	a,0x04
4536  194B  30 1A       	jr	NC,l_game_hall_edit_p_00102
4537  194D  DD 7E 04    	ld	a,(ix+4)
4538  1950  C6 07       	add	a,0x07
4539  1952  57          	ld	d,a
4540  1953  DD 7E 04    	ld	a,(ix+4)
4541  1956  C6 06       	add	a,0x06
4542  1958  47          	ld	b,a
4543  1959  3E 70       	ld	a,0x70
4544  195B  5A          	ld	e,d
4545  195C  57          	ld	d,a
4546  195D  D5          	push	de
4547  195E  C5          	push	bc
4548  195F  33          	inc	sp
4549  1960  CD DE 0D    	call	_game_paint_attrib_lin
4550  1963  F1          	pop	af
4551  1964  33          	inc	sp
4552  1965  18 18       	jr	l_game_hall_edit_p_00103
4553  1967              l_game_hall_edit_p_00102:
4554  1967  DD 7E 04    	ld	a,(ix+4)
4555  196A  C6 13       	add	a,0x13
4556  196C  57          	ld	d,a
4557  196D  DD 7E 04    	ld	a,(ix+4)
4558  1970  C6 12       	add	a,0x12
4559  1972  47          	ld	b,a
4560  1973  3E 70       	ld	a,0x70
4561  1975  5A          	ld	e,d
4562  1976  57          	ld	d,a
4563  1977  D5          	push	de
4564  1978  C5          	push	bc
4565  1979  33          	inc	sp
4566  197A  CD DE 0D    	call	_game_paint_attrib_lin
4567  197D  F1          	pop	af
4568  197E  33          	inc	sp
4569  197F              l_game_hall_edit_p_00103:
4570  197F  CD 00 00    	call	_sound_slide
4571  1982  21 00 00    	ld	hl,_ay_effect_01
4572  1985  CD 00 00    	call	_ay_fx_play
4573  1988  01 00 00    	ld	bc,_initials+0
4574  198B  DD 5E 04    	ld	e,(ix+4)
4575  198E  7B          	ld	a,e
4576  198F  3C          	inc	a
4577  1990  DD 77 04    	ld	(ix+4),a
4578  1993  6B          	ld	l,e
4579  1994  26 00       	ld	h,0x00
4580  1996  09          	add	hl,bc
4581  1997  7E          	ld	a,(hl)
4582  1998  D6 7B       	sub	a,0x7b
4583  199A  20 19       	jr	NZ,l_game_hall_edit_p_00107
4584  199C  DD 35 04    	dec	(ix+4)
4585  199F  DD 7E 04    	ld	a,(ix+4)
4586  19A2  E6 03       	and	a,0x03
4587  19A4  28 0F       	jr	Z,l_game_hall_edit_p_00107
4588  19A6  DD 5E 04    	ld	e,(ix+4)
4589  19A9  7B          	ld	a,e
4590  19AA  C6 FF       	add	a,0xff
4591  19AC  DD 77 04    	ld	(ix+4),a
4592  19AF  6B          	ld	l,e
4593  19B0  26 00       	ld	h,0x00
4594  19B2  09          	add	hl,bc
4595  19B3  36 41       	ld	(hl),0x41
4596  19B5              l_game_hall_edit_p_00107:
4597  19B5  DD 7E 04    	ld	a,(ix+4)
4598  19B8  E6 03       	and	a,0x03
4599  19BA  D6 03       	sub	a,0x03
4600  19BC  20 3F       	jr	NZ,l_game_hall_edit_p_00121
4601  19BE  6F          	ld	l,a
4602  19BF  18 41       	jr	l_game_hall_edit_p_00122
4603  19C1              l_game_hall_edit_p_00120:
4604  19C1  3A 00 00    	ld	a,(_dirs)
4605  19C4  E6 0C       	and	a,0x0c
4606  19C6  28 35       	jr	Z,l_game_hall_edit_p_00121
4607  19C8  11 00 00    	ld	de,_hall_valids
4608  19CB  3E 00       	ld	a,+((_initials) & 0xFF)
4609  19CD  DD 86 04    	add	a,(ix+4)
4610  19D0  4F          	ld	c,a
4611  19D1  3E 00       	ld	a,+((_initials) / 256)
4612  19D3  CE 00       	adc	a,0x00
4613  19D5  47          	ld	b,a
4614  19D6  0A          	ld	a,(bc)
4615  19D7  6F          	ld	l,a
4616  19D8              l_game_hall_edit_p_00168:
4617  19D8  1A          	ld	a, (de)
4618  19D9  BD          	cp	a, l
4619  19DA  28 06       	jr	Z,l_game_hall_edit_p_00167
4620  19DC  B7          	or	a, a
4621  19DD  13          	inc	de
4622  19DE  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4623  19E0  5F          	ld	e, a
4624  19E1  57          	ld	d, a
4625  19E2              l_game_hall_edit_p_00167:
4626  19E2  3A 00 00    	ld	a,(_dirs)
4627  19E5  E6 04       	and	a,0x04
4628  19E7  28 0A       	jr	Z,l_game_hall_edit_p_00115
4629  19E9  1B          	dec	de
4630  19EA  1A          	ld	a,(de)
4631  19EB  3D          	dec	a
4632  19EC  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4633  19EE  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4634  19F1  18 08       	jr	l_game_hall_edit_p_00116
4635  19F3              l_game_hall_edit_p_00115:
4636  19F3  13          	inc	de
4637  19F4  1A          	ld	a,(de)
4638  19F5  B7          	or	a, a
4639  19F6  20 03       	jr	NZ,l_game_hall_edit_p_00116
4640  19F8  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4641  19FB              l_game_hall_edit_p_00116:
4642  19FB  1A          	ld	a,(de)
4643  19FC  02          	ld	(bc),a
4644  19FD              l_game_hall_edit_p_00121:
4645  19FD  DD 4E 04    	ld	c,(ix+4)
4646  1A00  0C          	inc	c
4647  1A01  69          	ld	l,c
4648  1A02              l_game_hall_edit_p_00122:
4649  1A02  DD E1       	pop	ix
4650  1A04  C9          	ret
4651  1A05              ;	---------------------------------
4652  1A05              ; Function game_hall_of_fame
4653  1A05              ; ---------------------------------
4654  1A05              _game_hall_of_fame:
4655  1A05  CD 00 00    	call	_spr_draw_clear
4656  1A08  AF          	xor	a, a
4657  1A09  F5          	push	af
4658  1A0A  33          	inc	sp
4659  1A0B  CD B1 0D    	call	_game_paint_attrib
4660  1A0E  33          	inc	sp
4661  1A0F  21 9C 01    	ld	hl,0x019c
4662  1A12  E5          	push	hl
4663  1A13  21 06 18    	ld	hl,0x1806
4664  1A16  E5          	push	hl
4665  1A17  3E 10       	ld	a,0x10
4666  1A19  F5          	push	af
4667  1A1A  33          	inc	sp
4668  1A1B  CD 15 11    	call	_game_menu_e
4669  1A1E  F1          	pop	af
4670  1A1F  33          	inc	sp
4671  1A20  21 9F FF    	ld	hl,0xff9f
4672  1A23  E3          	ex	(sp),hl
4673  1A24  21 06 18    	ld	hl,0x1806
4674  1A27  E5          	push	hl
4675  1A28  3E 98       	ld	a,0x98
4676  1A2A  F5          	push	af
4677  1A2B  33          	inc	sp
4678  1A2C  CD 15 11    	call	_game_menu_e
4679  1A2F  F1          	pop	af
4680  1A30  F1          	pop	af
4681  1A31  33          	inc	sp
4682  1A32  21 00 00    	ld	hl,_s_lin1
4683  1A35  36 00       	ld	(hl),0x00
4684  1A37              l_game_hall_of_fame_00102:
4685  1A37  21 00 00    	ld	hl,_screen_ink
4686  1A3A  36 05       	ld	(hl),0x05
4687  1A3C  2A 00 00    	ld	hl,(_s_lin1)
4688  1A3F  26 00       	ld	h,0x00
4689  1A41  4D          	ld	c,l
4690  1A42  44          	ld	b,h
4691  1A43  29          	add	hl, hl
4692  1A44  09          	add	hl, bc
4693  1A45  29          	add	hl, hl
4694  1A46  01 00 00    	ld	bc,_hof
4695  1A49  09          	add	hl,bc
4696  1A4A  3A 00 00    	ld	a,(_s_lin1)
4697  1A4D  EB          	ex	de,hl
4698  1A4E  C6 07       	add	a,0x07
4699  1A50  47          	ld	b,a
4700  1A51  D5          	push	de
4701  1A52  3E 0A       	ld	a,0x0a
4702  1A54  48          	ld	c,b
4703  1A55  47          	ld	b,a
4704  1A56  C5          	push	bc
4705  1A57  CD 00 00    	call	_zx_print_str
4706  1A5A  2A 00 00    	ld	hl,(_s_lin1)
4707  1A5D  26 00       	ld	h,0x00
4708  1A5F  4D          	ld	c,l
4709  1A60  44          	ld	b,h
4710  1A61  29          	add	hl, hl
4711  1A62  09          	add	hl, bc
4712  1A63  29          	add	hl, hl
4713  1A64  01 00 00    	ld	bc,_hof
4714  1A67  09          	add	hl,bc
4715  1A68  11 04 00    	ld	de,0x0004
4716  1A6B  19          	add	hl, de
4717  1A6C  5E          	ld	e,(hl)
4718  1A6D  23          	inc	hl
4719  1A6E  56          	ld	d,(hl)
4720  1A6F  3A 00 00    	ld	a,(_s_lin1)
4721  1A72  C6 07       	add	a,0x07
4722  1A74  47          	ld	b,a
4723  1A75  D5          	push	de
4724  1A76  3E 10       	ld	a,0x10
4725  1A78  48          	ld	c,b
4726  1A79  47          	ld	b,a
4727  1A7A  C5          	push	bc
4728  1A7B  CD 00 00    	call	_zx_print_int
4729  1A7E  11 D7 1A    	ld	de,___str_49
4730  1A81  3A 00 00    	ld	a,(_s_lin1)
4731  1A84  C6 07       	add	a,0x07
4732  1A86  47          	ld	b,a
4733  1A87  D5          	push	de
4734  1A88  3E 0E       	ld	a,0x0e
4735  1A8A  48          	ld	c,b
4736  1A8B  47          	ld	b,a
4737  1A8C  C5          	push	bc
4738  1A8D  CD 00 00    	call	_zx_print_str
4739  1A90  11 D9 1A    	ld	de,___str_50
4740  1A93  3A 00 00    	ld	a,(_s_lin1)
4741  1A96  C6 07       	add	a,0x07
4742  1A98  47          	ld	b,a
4743  1A99  D5          	push	de
4744  1A9A  3E 15       	ld	a,0x15
4745  1A9C  48          	ld	c,b
4746  1A9D  47          	ld	b,a
4747  1A9E  C5          	push	bc
4748  1A9F  CD 00 00    	call	_zx_print_str
4749  1AA2  21 00 00    	ld	hl,_s_lin1
4750  1AA5  34          	inc	(hl)
4751  1AA6  7E          	ld	a,(hl)
4752  1AA7  D6 0A       	sub	a,0x0a
4753  1AA9  38 8C       	jr	C,l_game_hall_of_fame_00102
4754  1AAB  21 DB 1A    	ld	hl,___str_51
4755  1AAE  E5          	push	hl
4756  1AAF  21 04 0A    	ld	hl,0x0a04
4757  1AB2  E5          	push	hl
4758  1AB3  CD 00 00    	call	_zx_print_str
4759  1AB6  21 F4 01    	ld	hl,0x01f4
4760  1AB9  E5          	push	hl
4761  1ABA  21 0A 16    	ld	hl,0x160a
4762  1ABD  E5          	push	hl
4763  1ABE  3E 04       	ld	a,0x04
4764  1AC0  F5          	push	af
4765  1AC1  33          	inc	sp
4766  1AC2  CD 04 1B    	call	_game_colour_message
4767  1AC5  F1          	pop	af
4768  1AC6  F1          	pop	af
4769  1AC7  33          	inc	sp
4770  1AC8  CD 00 00    	call	_spr_draw_clear
4771  1ACB  21 00 00    	ld	hl,_game_menu_sel
4772  1ACE  36 00       	ld	(hl),0x00
4773  1AD0  21 00 00    	ld	hl,_pb_midi_title
4774  1AD3  CD 00 00    	call	_ay_midi_play
4775  1AD6  C9          	ret
4776  1AD7              ___str_49:
4777  1AD7  2D          	DEFM "-"
4778  1AD8  00          	DEFB 0x00
4779  1AD9              ___str_50:
4780  1AD9  30          	DEFM "0"
4781  1ADA  00          	DEFB 0x00
4782  1ADB              ___str_51:
4783  1ADB  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4784  1AE7  00          	DEFB 0x00
4785  1AE8              ;	---------------------------------
4786  1AE8              ; Function game_rotate_attrib
4787  1AE8              ; ---------------------------------
4788  1AE8              _game_rotate_attrib:
4789  1AE8  01 03 00    	ld	bc,_attrib_hl + 3
4790  1AEB  0A          	ld	a,(bc)
4791  1AEC  32 00 00    	ld	(_tmp_uc),a
4792  1AEF  11 02 00    	ld	de,_attrib_hl + 2
4793  1AF2  1A          	ld	a,(de)
4794  1AF3  02          	ld	(bc),a
4795  1AF4  01 01 00    	ld	bc,_attrib_hl + 1
4796  1AF7  0A          	ld	a,(bc)
4797  1AF8  12          	ld	(de),a
4798  1AF9  3A 00 00    	ld	a,(_attrib_hl)
4799  1AFC  02          	ld	(bc),a
4800  1AFD  3A 00 00    	ld	a,(_tmp_uc)
4801  1B00  32 00 00    	ld	(_attrib_hl),a
4802  1B03  C9          	ret
4803  1B04              ;	---------------------------------
4804  1B04              ; Function game_colour_message
4805  1B04              ; ---------------------------------
4806  1B04              _game_colour_message:
4807  1B04  CD 00 00    	call	___sdcc_enter_ix
4808  1B07  3B          	dec	sp
4809  1B08  21 00 00    	ld	hl,_tmp
4810  1B0B  36 01       	ld	(hl),0x01
4811  1B0D  2A 00 00    	ld	hl,(_curr_time)
4812  1B10  22 00 00    	ld	(_frame_time),hl
4813  1B13  2A 00 00    	ld	hl,(_curr_time)
4814  1B16  22 00 00    	ld	(_entry_time),hl
4815  1B19  DD 7E 04    	ld	a,(ix+4)
4816  1B1C  07          	rlca
4817  1B1D  07          	rlca
4818  1B1E  07          	rlca
4819  1B1F  E6 F8       	and	a,0xf8
4820  1B21  C6 08       	add	a,0x08
4821  1B23  DD 77 FF    	ld	(ix-1),a
4822  1B26              l_game_colour_message_00107:
4823  1B26  3A 00 00    	ld	a,(_tmp)
4824  1B29  B7          	or	a, a
4825  1B2A  28 66       	jr	Z,l_game_colour_message_00110
4826  1B2C  DD 6E 07    	ld	l,(ix+7)
4827  1B2F  DD 66 08    	ld	h,(ix+8)
4828  1B32  E5          	push	hl
4829  1B33  2A 00 00    	ld	hl,(_entry_time)
4830  1B36  E5          	push	hl
4831  1B37  CD 96 1B    	call	_game_check_time
4832  1B3A  F1          	pop	af
4833  1B3B  F1          	pop	af
4834  1B3C  7D          	ld	a,l
4835  1B3D  B7          	or	a, a
4836  1B3E  20 52       	jr	NZ,l_game_colour_message_00110
4837  1B40  21 05 00    	ld	hl,0x0005
4838  1B43  E5          	push	hl
4839  1B44  2A 00 00    	ld	hl,(_frame_time)
4840  1B47  E5          	push	hl
4841  1B48  CD 96 1B    	call	_game_check_time
4842  1B4B  F1          	pop	af
4843  1B4C  F1          	pop	af
4844  1B4D  7D          	ld	a,l
4845  1B4E  B7          	or	a, a
4846  1B4F  28 1A       	jr	Z,l_game_colour_message_00103
4847  1B51  2A 00 00    	ld	hl,(_curr_time)
4848  1B54  22 00 00    	ld	(_frame_time),hl
4849  1B57  DD 66 FF    	ld	h,(ix-1)
4850  1B5A  DD 6E 06    	ld	l,(ix+6)
4851  1B5D  E5          	push	hl
4852  1B5E  DD 7E 05    	ld	a,(ix+5)
4853  1B61  F5          	push	af
4854  1B62  33          	inc	sp
4855  1B63  CD 08 0E    	call	_game_paint_attrib_lin_h
4856  1B66  F1          	pop	af
4857  1B67  33          	inc	sp
4858  1B68  CD E8 1A    	call	_game_rotate_attrib
4859  1B6B              l_game_colour_message_00103:
4860  1B6B  21 00 00    	ld	hl,_k1
4861  1B6E  E5          	push	hl
4862  1B6F  2A 00 00    	ld	hl,(_joyfunc1)
4863  1B72  CD 00 00    	call	___sdcc_call_hl
4864  1B75  E3          	ex	(sp),hl
4865  1B76  21 00 00    	ld	hl,_k2
4866  1B79  E5          	push	hl
4867  1B7A  2A 00 00    	ld	hl,(_joyfunc2)
4868  1B7D  CD 00 00    	call	___sdcc_call_hl
4869  1B80  F1          	pop	af
4870  1B81  EB          	ex	de,hl
4871  1B82  C1          	pop	bc
4872  1B83  79          	ld	a,c
4873  1B84  B3          	or	a, e
4874  1B85  4F          	ld	c,a
4875  1B86  78          	ld	a,b
4876  1B87  B2          	or	a, d
4877  1B88  B1          	or	a,c
4878  1B89  28 9B       	jr	Z,l_game_colour_message_00107
4879  1B8B  21 00 00    	ld	hl,_tmp
4880  1B8E  36 00       	ld	(hl),0x00
4881  1B90  18 D9       	jr	l_game_colour_message_00103
4882  1B92              l_game_colour_message_00110:
4883  1B92  33          	inc	sp
4884  1B93  DD E1       	pop	ix
4885  1B95  C9          	ret
4886  1B96              ;	---------------------------------
4887  1B96              ; Function game_check_time
4888  1B96              ; ---------------------------------
4889  1B96              _game_check_time:
4890  1B96  CD 00 00    	call	___sdcc_enter_ix
4891  1B99  2A 00 00    	ld	hl,(_curr_time)
4892  1B9C  7D          	ld	a,l
4893  1B9D  DD 96 04    	sub	a,(ix+4)
4894  1BA0  4F          	ld	c,a
4895  1BA1  7C          	ld	a,h
4896  1BA2  DD 9E 05    	sbc	a,(ix+5)
4897  1BA5  47          	ld	b,a
4898  1BA6  DD 7E 06    	ld	a,(ix+6)
4899  1BA9  91          	sub	a, c
4900  1BAA  DD 7E 07    	ld	a,(ix+7)
4901  1BAD  98          	sbc	a, b
4902  1BAE  30 04       	jr	NC,l_game_check_time_00102
4903  1BB0  2E 01       	ld	l,0x01
4904  1BB2  18 02       	jr	l_game_check_time_00104
4905  1BB4              l_game_check_time_00102:
4906  1BB4  2E 00       	ld	l,0x00
4907  1BB6              l_game_check_time_00104:
4908  1BB6  DD E1       	pop	ix
4909  1BB8  C9          	ret
4910  1BB9              	SECTION IGNORE
4911  0000              
