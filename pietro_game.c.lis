1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9880 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_print_phase
184   0000              	GLOBAL _game_calc_index
185   0000              	GLOBAL _game_print_footer
186   0000              	GLOBAL _game_phase_print_score_back
187   0000              	GLOBAL _game_print_lives
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_start_timer
190   0000              	GLOBAL _game_phase_calc
191   0000              	GLOBAL _game_phase_init
192   0000              	GLOBAL _game_print_header
193   0000              	GLOBAL _game_phase_print
194   0000              	GLOBAL _game_loop
195   0000              	GLOBAL _game_score_osd
196   0000              	GLOBAL _game_bonus_clock
197   0000              	GLOBAL _game_bonus_summary
198   0000              	GLOBAL _game_bonus_summary_player
199   0000              	GLOBAL _game_kill_all_sprites
200   0000              	GLOBAL _game_check_maze
201   0000              	GLOBAL _game_check_floor
202   0000              	GLOBAL _game_enemy_add
203   0000              	GLOBAL _game_enemy_quota
204   0000              	GLOBAL _game_enemy_rnd
205   0000              	GLOBAL _game_enemy_add1
206   0000              	GLOBAL _game_enemy_add_get_index
207   0000              	GLOBAL _game_freeze
208   0000              	GLOBAL _game_unfreeze_all
209   0000              	GLOBAL _game_freeze_all
210   0000              	GLOBAL _game_print_score
211   0000              	GLOBAL _game_paint_attrib
212   0000              	GLOBAL _game_paint_attrib_lin
213   0000              	GLOBAL _game_paint_attrib_lin_h
214   0000              	GLOBAL _game_menu_config
215   0000              	GLOBAL _game_joystick_change
216   0000              	GLOBAL _game_joystick_set_menu
217   0000              	GLOBAL _game_joystick_set
218   0000              	GLOBAL _game_menu
219   0000              	GLOBAL _game_menu_top_paint
220   0000              	GLOBAL _game_menu_paint
221   0000              	GLOBAL _game_menu_e
222   0000              	GLOBAL _game_menu_handle
223   0000              	GLOBAL _game_end
224   0000              	GLOBAL _game_hall_check
225   0000              	GLOBAL _game_hall_enter
226   0000              	GLOBAL _game_menu_back
227   0000              	GLOBAL _game_hall_enter_phs
228   0000              	GLOBAL _game_hall_print_p
229   0000              	GLOBAL _game_hall_edit_p
230   0000              	GLOBAL _game_hall_of_fame
231   0000              	GLOBAL _game_rotate_attrib
232   0000              	GLOBAL _game_colour_message
233   0000              	GLOBAL _game_check_time
234   0000              ;--------------------------------------------------------
235   0000              ; Externals used
236   0000              ;--------------------------------------------------------
237   0000              	GLOBAL _debug3
238   0000              	GLOBAL _debug2
239   0000              	GLOBAL _debug
240   0000              	GLOBAL _zx_print_str
241   0000              	GLOBAL _zx_print_int
242   0000              	GLOBAL _zx_print_chr
243   0000              	GLOBAL _zx_print_bonus_time
244   0000              	GLOBAL _zx_isr
245   0000              	GLOBAL _spr_calc_hor
246   0000              	GLOBAL _spr_draw_row
247   0000              	GLOBAL _spr_draw_index
248   0000              	GLOBAL _spr_draw_clear
249   0000              	GLOBAL _spr_water_splash_draw
250   0000              	GLOBAL _spr_water_splash_clear
251   0000              	GLOBAL _spr_draw_back
252   0000              	GLOBAL _spr_cortina_brick
253   0000              	GLOBAL _spr_brick_anim
254   0000              	GLOBAL _spr_back_fix
255   0000              	GLOBAL _spr_back_paint
256   0000              	GLOBAL _spr_back_clr
257   0000              	GLOBAL _spr_draw_pow
258   0000              	GLOBAL _spr_tile
259   0000              	GLOBAL _spr_set_fall
260   0000              	GLOBAL _spr_destroy
261   0000              	GLOBAL _spr_check_over
262   0000              	GLOBAL _spr_tile_dir
263   0000              	GLOBAL _spr_anim_kill
264   0000              	GLOBAL _spr_anim_fall
265   0000              	GLOBAL _spr_killed
266   0000              	GLOBAL _spr_redraw
267   0000              	GLOBAL _spr_move_left
268   0000              	GLOBAL _spr_move_right
269   0000              	GLOBAL _spr_move_horizontal
270   0000              	GLOBAL _spr_move_down
271   0000              	GLOBAL _spr_move_up
272   0000              	GLOBAL _spr_chktime
273   0000              	GLOBAL _sound_hit_pow
274   0000              	GLOBAL _sound_hit_brick
275   0000              	GLOBAL _sound_hit_enemy
276   0000              	GLOBAL _sound_kill
277   0000              	GLOBAL _sound_enter_enemy
278   0000              	GLOBAL _sound_coin
279   0000              	GLOBAL _sound_jump
280   0000              	GLOBAL _sound_slide
281   0000              	GLOBAL _player_set
282   0000              	GLOBAL _player_move_horizontal
283   0000              	GLOBAL _player_push_check
284   0000              	GLOBAL _player_push
285   0000              	GLOBAL _player_hit_brick_clear
286   0000              	GLOBAL _player_lost_life
287   0000              	GLOBAL _player_score_add
288   0000              	GLOBAL _player_coin
289   0000              	GLOBAL _player_hit_pow
290   0000              	GLOBAL _player_hit_brick
291   0000              	GLOBAL _player_move_input
292   0000              	GLOBAL _player_turn
293   0000              	GLOBAL _player_move
294   0000              	GLOBAL _player_restart
295   0000              	GLOBAL _player_kill
296   0000              	GLOBAL _player_check_input
297   0000              	GLOBAL _player_collision_check
298   0000              	GLOBAL _player_collision
299   0000              	GLOBAL _player_calc_slide
300   0000              	GLOBAL _player_init
301   0000              	GLOBAL _player_set2
302   0000              	GLOBAL _player_set1
303   0000              	GLOBAL _game_fill_row
304   0000              	GLOBAL _enemy_ugly_fix
305   0000              	GLOBAL _enemy_kill
306   0000              	GLOBAL _enemy_init
307   0000              	GLOBAL _enemy_walk
308   0000              	GLOBAL _enemy_upgrade
309   0000              	GLOBAL _enemy_evolve
310   0000              	GLOBAL _enemy_standard_hit
311   0000              	GLOBAL _enemy_trip
312   0000              	GLOBAL _enemy_fighterfly
313   0000              	GLOBAL _enemy_fireball_green
314   0000              	GLOBAL _enemy_fireball_red
315   0000              	GLOBAL _enemy_slipice
316   0000              	GLOBAL _enemy_standard
317   0000              	GLOBAL _enemy_turn
318   0000              	GLOBAL _enemy_flip_sidestepper
319   0000              	GLOBAL _enemy_flip
320   0000              	GLOBAL _enemy_flip_change_dir
321   0000              	GLOBAL _enemy_hit
322   0000              	GLOBAL _enemy_collision_check
323   0000              	GLOBAL _enemy_collision
324   0000              	GLOBAL _enemy_coin1
325   0000              	GLOBAL _ay_fx_play
326   0000              	GLOBAL _ay_midi_play
327   0000              	GLOBAL _ay_is_playing
328   0000              	GLOBAL _ay_reset
329   0000              	GLOBAL _debug_func
330   0000              	GLOBAL _test_func
331   0000              	GLOBAL _in_mouse_kempston_wheel_delta
332   0000              	GLOBAL _in_mouse_kempston_wheel
333   0000              	GLOBAL _in_mouse_kempston_callee
334   0000              	GLOBAL _in_mouse_kempston
335   0000              	GLOBAL _in_mouse_kempston_setpos_callee
336   0000              	GLOBAL _in_mouse_kempston_setpos
337   0000              	GLOBAL _in_mouse_kempston_reset
338   0000              	GLOBAL _in_mouse_kempston_init
339   0000              	GLOBAL _in_mouse_amx_wheel_delta
340   0000              	GLOBAL _in_mouse_amx_wheel
341   0000              	GLOBAL _in_mouse_amx_callee
342   0000              	GLOBAL _in_mouse_amx
343   0000              	GLOBAL _in_mouse_amx_setpos_callee
344   0000              	GLOBAL _in_mouse_amx_setpos
345   0000              	GLOBAL _in_mouse_amx_reset
346   0000              	GLOBAL _in_mouse_amx_init_callee
347   0000              	GLOBAL _in_mouse_amx_init
348   0000              	GLOBAL _in_stick_sinclair2
349   0000              	GLOBAL _in_stick_sinclair1
350   0000              	GLOBAL _in_stick_kempston
351   0000              	GLOBAL _in_stick_fuller
352   0000              	GLOBAL _in_stick_cursor
353   0000              	GLOBAL _in_stick_keyboard_fastcall
354   0000              	GLOBAL _in_stick_keyboard
355   0000              	GLOBAL _in_wait_nokey
356   0000              	GLOBAL _in_wait_key
357   0000              	GLOBAL _in_test_key
358   0000              	GLOBAL _in_pause_fastcall
359   0000              	GLOBAL _in_pause
360   0000              	GLOBAL _in_key_scancode_fastcall
361   0000              	GLOBAL _in_key_scancode
362   0000              	GLOBAL _in_key_pressed_fastcall
363   0000              	GLOBAL _in_key_pressed
364   0000              	GLOBAL _in_inkey
365   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawTW_raw
367   0000              	GLOBAL _NIRVANAP_drawTW_callee
368   0000              	GLOBAL _NIRVANAP_drawTW
369   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
370   0000              	GLOBAL _NIRVANAP_drawW_raw
371   0000              	GLOBAL _NIRVANAP_drawW_callee
372   0000              	GLOBAL _NIRVANAP_drawW
373   0000              	GLOBAL _NIRVANAP_spriteT_callee
374   0000              	GLOBAL _NIRVANAP_spriteT
375   0000              	GLOBAL _NIRVANAP_fillC_callee
376   0000              	GLOBAL _NIRVANAP_fillC
377   0000              	GLOBAL _NIRVANAP_readC_callee
378   0000              	GLOBAL _NIRVANAP_readC
379   0000              	GLOBAL _NIRVANAP_paintC_callee
380   0000              	GLOBAL _NIRVANAP_paintC
381   0000              	GLOBAL _NIRVANAP_printC_callee
382   0000              	GLOBAL _NIRVANAP_printC
383   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
384   0000              	GLOBAL _NIRVANAP_fillT_raw
385   0000              	GLOBAL _NIRVANAP_fillT_callee
386   0000              	GLOBAL _NIRVANAP_fillT
387   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
388   0000              	GLOBAL _NIRVANAP_drawT_raw
389   0000              	GLOBAL _NIRVANAP_drawT_callee
390   0000              	GLOBAL _NIRVANAP_drawT
391   0000              	GLOBAL _NIRVANAP_stop
392   0000              	GLOBAL _NIRVANAP_start
393   0000              	GLOBAL _z80_otdr_callee
394   0000              	GLOBAL _z80_otdr
395   0000              	GLOBAL _z80_otir_callee
396   0000              	GLOBAL _z80_otir
397   0000              	GLOBAL _z80_outp_callee
398   0000              	GLOBAL _z80_outp
399   0000              	GLOBAL _z80_indr_callee
400   0000              	GLOBAL _z80_indr
401   0000              	GLOBAL _z80_inir_callee
402   0000              	GLOBAL _z80_inir
403   0000              	GLOBAL _z80_inp_fastcall
404   0000              	GLOBAL _z80_inp
405   0000              	GLOBAL _z80_set_int_state_fastcall
406   0000              	GLOBAL _z80_set_int_state
407   0000              	GLOBAL _z80_get_int_state
408   0000              	GLOBAL _z80_delay_tstate_fastcall
409   0000              	GLOBAL _z80_delay_tstate
410   0000              	GLOBAL _z80_delay_ms_fastcall
411   0000              	GLOBAL _z80_delay_ms
412   0000              	GLOBAL _im2_remove_generic_callback_callee
413   0000              	GLOBAL _im2_remove_generic_callback
414   0000              	GLOBAL _im2_prepend_generic_callback_callee
415   0000              	GLOBAL _im2_prepend_generic_callback
416   0000              	GLOBAL _im2_append_generic_callback_callee
417   0000              	GLOBAL _im2_append_generic_callback
418   0000              	GLOBAL _im2_create_generic_isr_8080_callee
419   0000              	GLOBAL _im2_create_generic_isr_8080
420   0000              	GLOBAL _im2_create_generic_isr_callee
421   0000              	GLOBAL _im2_create_generic_isr
422   0000              	GLOBAL _im2_install_isr_callee
423   0000              	GLOBAL _im2_install_isr
424   0000              	GLOBAL _im2_init_fastcall
425   0000              	GLOBAL _im2_init
426   0000              	GLOBAL _ffsll_callee
427   0000              	GLOBAL _ffsll
428   0000              	GLOBAL _strxfrm_callee
429   0000              	GLOBAL _strxfrm
430   0000              	GLOBAL _strupr_fastcall
431   0000              	GLOBAL _strupr
432   0000              	GLOBAL _strtok_r_callee
433   0000              	GLOBAL _strtok_r
434   0000              	GLOBAL _strtok_callee
435   0000              	GLOBAL _strtok
436   0000              	GLOBAL _strstrip_fastcall
437   0000              	GLOBAL _strstrip
438   0000              	GLOBAL _strstr_callee
439   0000              	GLOBAL _strstr
440   0000              	GLOBAL _strspn_callee
441   0000              	GLOBAL _strspn
442   0000              	GLOBAL _strsep_callee
443   0000              	GLOBAL _strsep
444   0000              	GLOBAL _strrstrip_fastcall
445   0000              	GLOBAL _strrstrip
446   0000              	GLOBAL _strrspn_callee
447   0000              	GLOBAL _strrspn
448   0000              	GLOBAL _strrev_fastcall
449   0000              	GLOBAL _strrev
450   0000              	GLOBAL _strrcspn_callee
451   0000              	GLOBAL _strrcspn
452   0000              	GLOBAL _strrchr_callee
453   0000              	GLOBAL _strrchr
454   0000              	GLOBAL _strpbrk_callee
455   0000              	GLOBAL _strpbrk
456   0000              	GLOBAL _strnlen_callee
457   0000              	GLOBAL _strnlen
458   0000              	GLOBAL _strnicmp_callee
459   0000              	GLOBAL _strnicmp
460   0000              	GLOBAL _strndup_callee
461   0000              	GLOBAL _strndup
462   0000              	GLOBAL _strncpy_callee
463   0000              	GLOBAL _strncpy
464   0000              	GLOBAL _strncmp_callee
465   0000              	GLOBAL _strncmp
466   0000              	GLOBAL _strnchr_callee
467   0000              	GLOBAL _strnchr
468   0000              	GLOBAL _strncat_callee
469   0000              	GLOBAL _strncat
470   0000              	GLOBAL _strncasecmp_callee
471   0000              	GLOBAL _strncasecmp
472   0000              	GLOBAL _strlwr_fastcall
473   0000              	GLOBAL _strlwr
474   0000              	GLOBAL _strlen_fastcall
475   0000              	GLOBAL _strlen
476   0000              	GLOBAL _strlcpy_callee
477   0000              	GLOBAL _strlcpy
478   0000              	GLOBAL _strlcat_callee
479   0000              	GLOBAL _strlcat
480   0000              	GLOBAL _stricmp_callee
481   0000              	GLOBAL _stricmp
482   0000              	GLOBAL _strerror_fastcall
483   0000              	GLOBAL _strerror
484   0000              	GLOBAL _strdup_fastcall
485   0000              	GLOBAL _strdup
486   0000              	GLOBAL _strcspn_callee
487   0000              	GLOBAL _strcspn
488   0000              	GLOBAL _strcpy_callee
489   0000              	GLOBAL _strcpy
490   0000              	GLOBAL _strcoll_callee
491   0000              	GLOBAL _strcoll
492   0000              	GLOBAL _strcmp_callee
493   0000              	GLOBAL _strcmp
494   0000              	GLOBAL _strchrnul_callee
495   0000              	GLOBAL _strchrnul
496   0000              	GLOBAL _strchr_callee
497   0000              	GLOBAL _strchr
498   0000              	GLOBAL _strcat_callee
499   0000              	GLOBAL _strcat
500   0000              	GLOBAL _strcasecmp_callee
501   0000              	GLOBAL _strcasecmp
502   0000              	GLOBAL _stpncpy_callee
503   0000              	GLOBAL _stpncpy
504   0000              	GLOBAL _stpcpy_callee
505   0000              	GLOBAL _stpcpy
506   0000              	GLOBAL _memswap_callee
507   0000              	GLOBAL _memswap
508   0000              	GLOBAL _memset_callee
509   0000              	GLOBAL _memset
510   0000              	GLOBAL _memrchr_callee
511   0000              	GLOBAL _memrchr
512   0000              	GLOBAL _memmove_callee
513   0000              	GLOBAL _memmove
514   0000              	GLOBAL _memmem_callee
515   0000              	GLOBAL _memmem
516   0000              	GLOBAL _memcpy_callee
517   0000              	GLOBAL _memcpy
518   0000              	GLOBAL _memcmp_callee
519   0000              	GLOBAL _memcmp
520   0000              	GLOBAL _memchr_callee
521   0000              	GLOBAL _memchr
522   0000              	GLOBAL _memccpy_callee
523   0000              	GLOBAL _memccpy
524   0000              	GLOBAL _ffsl_fastcall
525   0000              	GLOBAL _ffsl
526   0000              	GLOBAL _ffs_fastcall
527   0000              	GLOBAL _ffs
528   0000              	GLOBAL __strrstrip__fastcall
529   0000              	GLOBAL __strrstrip_
530   0000              	GLOBAL __memupr__callee
531   0000              	GLOBAL __memupr_
532   0000              	GLOBAL __memstrcpy__callee
533   0000              	GLOBAL __memstrcpy_
534   0000              	GLOBAL __memlwr__callee
535   0000              	GLOBAL __memlwr_
536   0000              	GLOBAL _rawmemchr_callee
537   0000              	GLOBAL _rawmemchr
538   0000              	GLOBAL _strnset_callee
539   0000              	GLOBAL _strnset
540   0000              	GLOBAL _strset_callee
541   0000              	GLOBAL _strset
542   0000              	GLOBAL _rindex_callee
543   0000              	GLOBAL _rindex
544   0000              	GLOBAL _index_callee
545   0000              	GLOBAL _index
546   0000              	GLOBAL _bzero_callee
547   0000              	GLOBAL _bzero
548   0000              	GLOBAL _bcopy_callee
549   0000              	GLOBAL _bcopy
550   0000              	GLOBAL _bcmp_callee
551   0000              	GLOBAL _bcmp
552   0000              	GLOBAL _ulltoa_callee
553   0000              	GLOBAL _ulltoa
554   0000              	GLOBAL _strtoull_callee
555   0000              	GLOBAL _strtoull
556   0000              	GLOBAL _strtoll_callee
557   0000              	GLOBAL _strtoll
558   0000              	GLOBAL _lltoa_callee
559   0000              	GLOBAL _lltoa
560   0000              	GLOBAL _llabs_callee
561   0000              	GLOBAL _llabs
562   0000              	GLOBAL __lldivu__callee
563   0000              	GLOBAL __lldivu_
564   0000              	GLOBAL __lldiv__callee
565   0000              	GLOBAL __lldiv_
566   0000              	GLOBAL _atoll_callee
567   0000              	GLOBAL _atoll
568   0000              	GLOBAL _realloc_unlocked_callee
569   0000              	GLOBAL _realloc_unlocked
570   0000              	GLOBAL _malloc_unlocked_fastcall
571   0000              	GLOBAL _malloc_unlocked
572   0000              	GLOBAL _free_unlocked_fastcall
573   0000              	GLOBAL _free_unlocked
574   0000              	GLOBAL _calloc_unlocked_callee
575   0000              	GLOBAL _calloc_unlocked
576   0000              	GLOBAL _aligned_alloc_unlocked_callee
577   0000              	GLOBAL _aligned_alloc_unlocked
578   0000              	GLOBAL _realloc_callee
579   0000              	GLOBAL _realloc
580   0000              	GLOBAL _malloc_fastcall
581   0000              	GLOBAL _malloc
582   0000              	GLOBAL _free_fastcall
583   0000              	GLOBAL _free
584   0000              	GLOBAL _calloc_callee
585   0000              	GLOBAL _calloc
586   0000              	GLOBAL _aligned_alloc_callee
587   0000              	GLOBAL _aligned_alloc
588   0000              	GLOBAL _utoa_callee
589   0000              	GLOBAL _utoa
590   0000              	GLOBAL _ultoa_callee
591   0000              	GLOBAL _ultoa
592   0000              	GLOBAL _system_fastcall
593   0000              	GLOBAL _system
594   0000              	GLOBAL _strtoul_callee
595   0000              	GLOBAL _strtoul
596   0000              	GLOBAL _strtol_callee
597   0000              	GLOBAL _strtol
598   0000              	GLOBAL _strtof_callee
599   0000              	GLOBAL _strtof
600   0000              	GLOBAL _strtod_callee
601   0000              	GLOBAL _strtod
602   0000              	GLOBAL _srand_fastcall
603   0000              	GLOBAL _srand
604   0000              	GLOBAL _rand
605   0000              	GLOBAL _quick_exit_fastcall
606   0000              	GLOBAL _quick_exit
607   0000              	GLOBAL _qsort_callee
608   0000              	GLOBAL _qsort
609   0000              	GLOBAL _ltoa_callee
610   0000              	GLOBAL _ltoa
611   0000              	GLOBAL _labs_fastcall
612   0000              	GLOBAL _labs
613   0000              	GLOBAL _itoa_callee
614   0000              	GLOBAL _itoa
615   0000              	GLOBAL _ftoh_callee
616   0000              	GLOBAL _ftoh
617   0000              	GLOBAL _ftog_callee
618   0000              	GLOBAL _ftog
619   0000              	GLOBAL _ftoe_callee
620   0000              	GLOBAL _ftoe
621   0000              	GLOBAL _ftoa_callee
622   0000              	GLOBAL _ftoa
623   0000              	GLOBAL _exit_fastcall
624   0000              	GLOBAL _exit
625   0000              	GLOBAL _dtoh_callee
626   0000              	GLOBAL _dtoh
627   0000              	GLOBAL _dtog_callee
628   0000              	GLOBAL _dtog
629   0000              	GLOBAL _dtoe_callee
630   0000              	GLOBAL _dtoe
631   0000              	GLOBAL _dtoa_callee
632   0000              	GLOBAL _dtoa
633   0000              	GLOBAL _bsearch_callee
634   0000              	GLOBAL _bsearch
635   0000              	GLOBAL _atol_fastcall
636   0000              	GLOBAL _atol
637   0000              	GLOBAL _atoi_fastcall
638   0000              	GLOBAL _atoi
639   0000              	GLOBAL _atof_fastcall
640   0000              	GLOBAL _atof
641   0000              	GLOBAL _atexit_fastcall
642   0000              	GLOBAL _atexit
643   0000              	GLOBAL _at_quick_exit_fastcall
644   0000              	GLOBAL _at_quick_exit
645   0000              	GLOBAL _abs_fastcall
646   0000              	GLOBAL _abs
647   0000              	GLOBAL _abort
648   0000              	GLOBAL __strtou__callee
649   0000              	GLOBAL __strtou_
650   0000              	GLOBAL __strtoi__callee
651   0000              	GLOBAL __strtoi_
652   0000              	GLOBAL __random_uniform_xor_8__fastcall
653   0000              	GLOBAL __random_uniform_xor_8_
654   0000              	GLOBAL __random_uniform_xor_32__fastcall
655   0000              	GLOBAL __random_uniform_xor_32_
656   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
657   0000              	GLOBAL __random_uniform_cmwc_8_
658   0000              	GLOBAL __shellsort__callee
659   0000              	GLOBAL __shellsort_
660   0000              	GLOBAL __quicksort__callee
661   0000              	GLOBAL __quicksort_
662   0000              	GLOBAL __insertion_sort__callee
663   0000              	GLOBAL __insertion_sort_
664   0000              	GLOBAL __ldivu__callee
665   0000              	GLOBAL __ldivu_
666   0000              	GLOBAL __ldiv__callee
667   0000              	GLOBAL __ldiv_
668   0000              	GLOBAL __divu__callee
669   0000              	GLOBAL __divu_
670   0000              	GLOBAL __div__callee
671   0000              	GLOBAL __div_
672   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
673   0000              	GLOBAL _intrinsic_swap_word_32
674   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
675   0000              	GLOBAL _intrinsic_swap_endian_32
676   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
677   0000              	GLOBAL _intrinsic_swap_endian_16
678   0000              	GLOBAL _intrinsic_return_de
679   0000              	GLOBAL _intrinsic_return_bc
680   0000              	GLOBAL _intrinsic_exx
681   0000              	GLOBAL _intrinsic_ex_de_hl
682   0000              	GLOBAL _intrinsic_nop
683   0000              	GLOBAL _intrinsic_im_2
684   0000              	GLOBAL _intrinsic_im_1
685   0000              	GLOBAL _intrinsic_im_0
686   0000              	GLOBAL _intrinsic_retn
687   0000              	GLOBAL _intrinsic_reti
688   0000              	GLOBAL _intrinsic_halt
689   0000              	GLOBAL _intrinsic_ei
690   0000              	GLOBAL _intrinsic_di
691   0000              	GLOBAL _intrinsic_stub
692   0000              	GLOBAL _zx_pattern_fill_callee
693   0000              	GLOBAL _zx_pattern_fill
694   0000              	GLOBAL _zx_saddrpup_fastcall
695   0000              	GLOBAL _zx_saddrpup
696   0000              	GLOBAL _zx_saddrpright_callee
697   0000              	GLOBAL _zx_saddrpright
698   0000              	GLOBAL _zx_saddrpleft_callee
699   0000              	GLOBAL _zx_saddrpleft
700   0000              	GLOBAL _zx_saddrpdown_fastcall
701   0000              	GLOBAL _zx_saddrpdown
702   0000              	GLOBAL _zx_saddrcup_fastcall
703   0000              	GLOBAL _zx_saddrcup
704   0000              	GLOBAL _zx_saddrcright_fastcall
705   0000              	GLOBAL _zx_saddrcright
706   0000              	GLOBAL _zx_saddrcleft_fastcall
707   0000              	GLOBAL _zx_saddrcleft
708   0000              	GLOBAL _zx_saddrcdown_fastcall
709   0000              	GLOBAL _zx_saddrcdown
710   0000              	GLOBAL _zx_saddr2py_fastcall
711   0000              	GLOBAL _zx_saddr2py
712   0000              	GLOBAL _zx_saddr2px_fastcall
713   0000              	GLOBAL _zx_saddr2px
714   0000              	GLOBAL _zx_saddr2cy_fastcall
715   0000              	GLOBAL _zx_saddr2cy
716   0000              	GLOBAL _zx_saddr2cx_fastcall
717   0000              	GLOBAL _zx_saddr2cx
718   0000              	GLOBAL _zx_saddr2aaddr_fastcall
719   0000              	GLOBAL _zx_saddr2aaddr
720   0000              	GLOBAL _zx_py2saddr_fastcall
721   0000              	GLOBAL _zx_py2saddr
722   0000              	GLOBAL _zx_py2aaddr_fastcall
723   0000              	GLOBAL _zx_py2aaddr
724   0000              	GLOBAL _zx_pxy2saddr_callee
725   0000              	GLOBAL _zx_pxy2saddr
726   0000              	GLOBAL _zx_pxy2aaddr_callee
727   0000              	GLOBAL _zx_pxy2aaddr
728   0000              	GLOBAL _zx_px2bitmask_fastcall
729   0000              	GLOBAL _zx_px2bitmask
730   0000              	GLOBAL _zx_cyx2saddr_callee
731   0000              	GLOBAL _zx_cyx2saddr
732   0000              	GLOBAL _zx_cyx2aaddr_callee
733   0000              	GLOBAL _zx_cyx2aaddr
734   0000              	GLOBAL _zx_cy2saddr_fastcall
735   0000              	GLOBAL _zx_cy2saddr
736   0000              	GLOBAL _zx_cy2aaddr_fastcall
737   0000              	GLOBAL _zx_cy2aaddr
738   0000              	GLOBAL _zx_bitmask2px_fastcall
739   0000              	GLOBAL _zx_bitmask2px
740   0000              	GLOBAL _zx_aaddrcup_fastcall
741   0000              	GLOBAL _zx_aaddrcup
742   0000              	GLOBAL _zx_aaddrcright_fastcall
743   0000              	GLOBAL _zx_aaddrcright
744   0000              	GLOBAL _zx_aaddrcleft_fastcall
745   0000              	GLOBAL _zx_aaddrcleft
746   0000              	GLOBAL _zx_aaddrcdown_fastcall
747   0000              	GLOBAL _zx_aaddrcdown
748   0000              	GLOBAL _zx_aaddr2saddr_fastcall
749   0000              	GLOBAL _zx_aaddr2saddr
750   0000              	GLOBAL _zx_aaddr2py_fastcall
751   0000              	GLOBAL _zx_aaddr2py
752   0000              	GLOBAL _zx_aaddr2px_fastcall
753   0000              	GLOBAL _zx_aaddr2px
754   0000              	GLOBAL _zx_aaddr2cy_fastcall
755   0000              	GLOBAL _zx_aaddr2cy
756   0000              	GLOBAL _zx_aaddr2cx_fastcall
757   0000              	GLOBAL _zx_aaddr2cx
758   0000              	GLOBAL _zx_scroll_wc_up_callee
759   0000              	GLOBAL _zx_scroll_wc_up
760   0000              	GLOBAL _zx_scroll_up_callee
761   0000              	GLOBAL _zx_scroll_up
762   0000              	GLOBAL _zx_cls_wc_callee
763   0000              	GLOBAL _zx_cls_wc
764   0000              	GLOBAL _zx_cls_fastcall
765   0000              	GLOBAL _zx_cls
766   0000              	GLOBAL _zx_border_fastcall
767   0000              	GLOBAL _zx_border
768   0000              	GLOBAL _joynames
769   0000              	GLOBAL _initials
770   0000              	GLOBAL _hof
771   0000              	GLOBAL _score_osd_tile
772   0000              	GLOBAL _score_osd_time
773   0000              	GLOBAL _score_osd_col
774   0000              	GLOBAL _score_osd_lin
775   0000              	GLOBAL _phase_bonus_total
776   0000              	GLOBAL _phase_angry
777   0000              	GLOBAL _phase_curr
778   0000              	GLOBAL _phase_end
779   0000              	GLOBAL _phase_coins
780   0000              	GLOBAL _phase_pop
781   0000              	GLOBAL _phase_tot
782   0000              	GLOBAL _phase_left
783   0000              	GLOBAL _phase_quota
784   0000              	GLOBAL _phases
785   0000              	GLOBAL _spr_idx
786   0000              	GLOBAL _lvl_1
787   0000              	GLOBAL _sprite_speed_alt
788   0000              	GLOBAL _sprite_speed
789   0000              	GLOBAL _screen_ink
790   0000              	GLOBAL _screen_paper
791   0000              	GLOBAL _game_menu_sel
792   0000              	GLOBAL _game_type
793   0000              	GLOBAL _game_osd
794   0000              	GLOBAL _game_bonus
795   0000              	GLOBAL _spr_water_time
796   0000              	GLOBAL _spr_water_clear
797   0000              	GLOBAL _game_time_fireball_start
798   0000              	GLOBAL _game_time_flipped
799   0000              	GLOBAL _game_score_top
800   0000              	GLOBAL _game_lives
801   0000              	GLOBAL _game_over
802   0000              	GLOBAL _game_sound
803   0000              	GLOBAL _game_inmune
804   0000              	GLOBAL _game_god_mode
805   0000              	GLOBAL _game_start_phase
806   0000              	GLOBAL _game_two_player
807   0000              	GLOBAL _game_brick_tile
808   0000              	GLOBAL _game_pow
809   0000              	GLOBAL _spr_count
810   0000              	GLOBAL _osd_time
811   0000              	GLOBAL _frame_time
812   0000              	GLOBAL _entry_time
813   0000              	GLOBAL _curr_time
814   0000              	GLOBAL _s_state
815   0000              	GLOBAL _attrib_hl
816   0000              	GLOBAL _attrib
817   0000              	GLOBAL _zx_val_asm
818   0000              	GLOBAL _enemies
819   0000              	GLOBAL _tmp_ui
820   0000              	GLOBAL _tmp_sc
821   0000              	GLOBAL _tmp_uc
822   0000              	GLOBAL _tmp1
823   0000              	GLOBAL _tmp0
824   0000              	GLOBAL _tmp
825   0000              	GLOBAL _index_d
826   0000              	GLOBAL _index3
827   0000              	GLOBAL _index2
828   0000              	GLOBAL _index1
829   0000              	GLOBAL _loop_count
830   0000              	GLOBAL _sprite_lin_inc_mul
831   0000              	GLOBAL _s_col1
832   0000              	GLOBAL _s_col0
833   0000              	GLOBAL _s_lin1
834   0000              	GLOBAL _s_lin0
835   0000              	GLOBAL _s_tile1
836   0000              	GLOBAL _s_tile0
837   0000              	GLOBAL _hit_count
838   0000              	GLOBAL _tile_offset_other_player
839   0000              	GLOBAL _tile_offset
840   0000              	GLOBAL _index_player
841   0000              	GLOBAL _sprite_other_player
842   0000              	GLOBAL _sprite
843   0000              	GLOBAL _player_joy
844   0000              	GLOBAL _player_next_extra
845   0000              	GLOBAL _player_score
846   0000              	GLOBAL _last_time
847   0000              	GLOBAL _sliding
848   0000              	GLOBAL _spr_timer_c
849   0000              	GLOBAL _spr_timer
850   0000              	GLOBAL _jump_lin
851   0000              	GLOBAL _player_jump_c
852   0000              	GLOBAL _hit_col
853   0000              	GLOBAL _hit_lin
854   0000              	GLOBAL _colint
855   0000              	GLOBAL _col
856   0000              	GLOBAL _lin
857   0000              	GLOBAL _tile
858   0000              	GLOBAL _state_a
859   0000              	GLOBAL _state
860   0000              	GLOBAL _class
861   0000              	GLOBAL _tbuffer
862   0000              	GLOBAL _dirs
863   0000              	GLOBAL _k2
864   0000              	GLOBAL _k1
865   0000              	GLOBAL _joyfunc2
866   0000              	GLOBAL _joyfunc1
867   0000              	GLOBAL _btiles
868   0000              	GLOBAL _spec128
869   0000              	GLOBAL _ay_effect_20
870   0000              	GLOBAL _ay_effect_19
871   0000              	GLOBAL _ay_effect_18
872   0000              	GLOBAL _ay_effect_17
873   0000              	GLOBAL _ay_effect_16
874   0000              	GLOBAL _ay_effect_15
875   0000              	GLOBAL _ay_effect_14
876   0000              	GLOBAL _ay_effect_13
877   0000              	GLOBAL _ay_effect_12
878   0000              	GLOBAL _ay_effect_11
879   0000              	GLOBAL _ay_effect_10
880   0000              	GLOBAL _ay_effect_09
881   0000              	GLOBAL _ay_effect_08
882   0000              	GLOBAL _ay_effect_07
883   0000              	GLOBAL _ay_effect_06
884   0000              	GLOBAL _ay_effect_05
885   0000              	GLOBAL _ay_effect_04
886   0000              	GLOBAL _ay_effect_03
887   0000              	GLOBAL _ay_effect_02
888   0000              	GLOBAL _ay_effect_01
889   0000              	GLOBAL _pb_midi_phase_1
890   0000              	GLOBAL _pb_midi_title
891   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
892   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
893   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
894   0000              	GLOBAL _NIRVANAP_HOLE
895   0000              	GLOBAL _NIRVANAP_ISR_HOOK
896   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
897   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
898   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
899   0000              	GLOBAL _control_method
900   0000              	GLOBAL _hall_valids
901   0000              ;--------------------------------------------------------
902   0000              ; special function registers
903   0000              ;--------------------------------------------------------
904   0000              defc _IO_FE	=	0x00fe
905   0000              defc _IO_1FFD	=	0x1ffd
906   0000              defc _IO_7FFD	=	0x7ffd
907   0000              ;--------------------------------------------------------
908   0000              ; ram data
909   0000              ;--------------------------------------------------------
910   0000              	SECTION bss_compiler
911   0000              ;--------------------------------------------------------
912   0000              ; ram data
913   0000              ;--------------------------------------------------------
914   0000              
915   0000              IF 0
916   0000              
917   0000              ; .area _INITIALIZED removed by z88dk
918   0000              
919   0000              
920   0000              ENDIF
921   0000              
922   0000              ;--------------------------------------------------------
923   0000              ; absolute external ram data
924   0000              ;--------------------------------------------------------
925   0000              	SECTION IGNORE
926   0000              ;--------------------------------------------------------
927   0000              ; global & static initialisations
928   0000              ;--------------------------------------------------------
929   0000              	SECTION code_crt_init
930   0000              ;--------------------------------------------------------
931   0000              ; Home
932   0000              ;--------------------------------------------------------
933   0000              	SECTION IGNORE
934   0000              ;--------------------------------------------------------
935   0000              ; code
936   0000              ;--------------------------------------------------------
937   0000              	SECTION code_compiler
938   0000              ;	---------------------------------
939   0000              ; Function game_calc_index
940   0000              ; ---------------------------------
941   0000              _game_calc_index:
942   0000  CD 00 00    	call	___sdcc_enter_ix
943   0003  DD 4E 05    	ld	c,(ix+5)
944   0006  06 00       	ld	b,0x00
945   0008  DD 7E 04    	ld	a,(ix+4)
946   000B  0F          	rrca
947   000C  0F          	rrca
948   000D  0F          	rrca
949   000E  E6 1F       	and	a,0x1f
950   0010  6F          	ld	l,a
951   0011  26 00       	ld	h,0x00
952   0013  29          	add	hl, hl
953   0014  29          	add	hl, hl
954   0015  29          	add	hl, hl
955   0016  29          	add	hl, hl
956   0017  29          	add	hl, hl
957   0018  09          	add	hl,bc
958   0019  DD E1       	pop	ix
959   001B  C9          	ret
960   001C              	SECTION code_compiler
961   001C              ;	---------------------------------
962   001C              ; Function game_print_footer
963   001C              ; ---------------------------------
964   001C              _game_print_footer:
965   001C  21 00 00    	ld	hl,___str_0
966   001F  E5          	push	hl
967   0020  21 16 01    	ld	hl,0x0116
968   0023  E5          	push	hl
969   0024  CD 00 00    	call	_zx_print_str
970   0027  21 00 00    	ld	hl,___str_0
971   002A  E5          	push	hl
972   002B  21 16 1E    	ld	hl,0x1e16
973   002E  E5          	push	hl
974   002F  CD 00 00    	call	_zx_print_str
975   0032  21 02 00    	ld	hl,___str_1
976   0035  E5          	push	hl
977   0036  21 17 01    	ld	hl,0x0117
978   0039  E5          	push	hl
979   003A  CD 00 00    	call	_zx_print_str
980   003D  21 02 00    	ld	hl,___str_1
981   0040  E5          	push	hl
982   0041  21 17 1E    	ld	hl,0x1e17
983   0044  E5          	push	hl
984   0045  CD 00 00    	call	_zx_print_str
985   0048  3A 00 00    	ld	a,(_game_lives)
986   004B  B7          	or	a, a
987   004C  28 20       	jr	Z,l_game_print_footer_00102
988   004E  21 00 00    	ld	hl,_screen_ink
989   0051  36 02       	ld	(hl),0x02
990   0053  21 08 00    	ld	hl,___str_2
991   0056  E5          	push	hl
992   0057  21 16 01    	ld	hl,0x0116
993   005A  E5          	push	hl
994   005B  CD 00 00    	call	_zx_print_str
995   005E  21 00 00    	ld	hl,_screen_ink
996   0061  36 06       	ld	(hl),0x06
997   0063  21 0A 00    	ld	hl,___str_3
998   0066  E5          	push	hl
999   0067  21 17 01    	ld	hl,0x0117
1000  006A  E5          	push	hl
1001  006B  CD 00 00    	call	_zx_print_str
1002  006E              l_game_print_footer_00102:
1003  006E  3A 01 00    	ld	a, (_game_lives + 1)
1004  0071  B7          	or	a, a
1005  0072  28 20       	jr	Z,l_game_print_footer_00104
1006  0074  21 00 00    	ld	hl,_screen_ink
1007  0077  36 07       	ld	(hl),0x07
1008  0079  21 0C 00    	ld	hl,___str_4
1009  007C  E5          	push	hl
1010  007D  21 16 1E    	ld	hl,0x1e16
1011  0080  E5          	push	hl
1012  0081  CD 00 00    	call	_zx_print_str
1013  0084  21 00 00    	ld	hl,_screen_ink
1014  0087  36 06       	ld	(hl),0x06
1015  0089  21 0E 00    	ld	hl,___str_5
1016  008C  E5          	push	hl
1017  008D  21 17 1E    	ld	hl,0x1e17
1018  0090  E5          	push	hl
1019  0091  CD 00 00    	call	_zx_print_str
1020  0094              l_game_print_footer_00104:
1021  0094  CD CE 00    	call	_game_print_lives
1022  0097  C9          	ret
1023  0098              	SECTION rodata_compiler
1024  0000              ___str_0:
1025  0000  20          	DEFM " "
1026  0001  00          	DEFB 0x00
1027  0002              	SECTION rodata_compiler
1028  0002              ___str_1:
1029  0002  20 20 20 20 20 
                        	DEFM "     "
1030  0007  00          	DEFB 0x00
1031  0008              	SECTION rodata_compiler
1032  0008              ___str_2:
1033  0008  3C          	DEFM "<"
1034  0009  00          	DEFB 0x00
1035  000A              	SECTION rodata_compiler
1036  000A              ___str_3:
1037  000A  5C          	DEFB 0x5c
1038  000B  00          	DEFB 0x00
1039  000C              	SECTION rodata_compiler
1040  000C              ___str_4:
1041  000C  3E          	DEFM ">"
1042  000D  00          	DEFB 0x00
1043  000E              	SECTION rodata_compiler
1044  000E              ___str_5:
1045  000E  5E          	DEFM "^"
1046  000F  00          	DEFB 0x00
1047  0010              	SECTION code_compiler
1048  0098              ;	---------------------------------
1049  0098              ; Function game_phase_print_score_back
1050  0098              ; ---------------------------------
1051  0098              _game_phase_print_score_back:
1052  0098  21 00 00    	ld	hl,_screen_ink
1053  009B  36 02       	ld	(hl),0x02
1054  009D  21 10 00    	ld	hl,___str_6
1055  00A0  E5          	push	hl
1056  00A1  21 00 0B    	ld	hl,0x0b00
1057  00A4  E5          	push	hl
1058  00A5  CD 00 00    	call	_zx_print_str
1059  00A8  21 00 00    	ld	hl,_screen_ink
1060  00AB  36 01       	ld	(hl),0x01
1061  00AD  21 14 00    	ld	hl,___str_7
1062  00B0  E5          	push	hl
1063  00B1  21 00 01    	ld	hl,0x0100
1064  00B4  E5          	push	hl
1065  00B5  CD 00 00    	call	_zx_print_str
1066  00B8  3A 00 00    	ld	a,(_game_two_player)
1067  00BB  B7          	or	a, a
1068  00BC  C8          	ret	Z
1069  00BD  21 00 00    	ld	hl,_screen_ink
1070  00C0  36 04       	ld	(hl),0x04
1071  00C2  21 17 00    	ld	hl,___str_8
1072  00C5  E5          	push	hl
1073  00C6  21 00 16    	ld	hl,0x1600
1074  00C9  E5          	push	hl
1075  00CA  CD 00 00    	call	_zx_print_str
1076  00CD  C9          	ret
1077  00CE              	SECTION rodata_compiler
1078  0010              ___str_6:
1079  0010  24 25 7C    	DEFM "$%|"
1080  0013  00          	DEFB 0x00
1081  0014              	SECTION rodata_compiler
1082  0014              ___str_7:
1083  0014  5B 7C       	DEFM "[|"
1084  0016  00          	DEFB 0x00
1085  0017              	SECTION rodata_compiler
1086  0017              ___str_8:
1087  0017  5D 7C       	DEFM "]|"
1088  0019  00          	DEFB 0x00
1089  001A              	SECTION code_compiler
1090  00CE              ;	---------------------------------
1091  00CE              ; Function game_print_lives
1092  00CE              ; ---------------------------------
1093  00CE              _game_print_lives:
1094  00CE  21 00 00    	ld	hl,_screen_ink
1095  00D1  36 07       	ld	(hl),0x07
1096  00D3  3A 00 00    	ld	a,(_game_lives)
1097  00D6  C6 FF       	add	a,0xff
1098  00D8  21 00 00    	ld	hl,_tmp
1099  00DB  77          	ld	(hl),a
1100  00DC  D6 FF       	sub	a,0xff
1101  00DE  30 0A       	jr	NC,l_game_print_lives_00102
1102  00E0  7E          	ld	a,(hl)
1103  00E1  F5          	push	af
1104  00E2  33          	inc	sp
1105  00E3  21 17 03    	ld	hl,0x0317
1106  00E6  E5          	push	hl
1107  00E7  CD 00 00    	call	_zx_print_chr
1108  00EA              l_game_print_lives_00102:
1109  00EA  3A 01 00    	ld	a, (_game_lives + 1)
1110  00ED  C6 FF       	add	a,0xff
1111  00EF  21 00 00    	ld	hl,_tmp
1112  00F2  77          	ld	(hl),a
1113  00F3  D6 FF       	sub	a,0xff
1114  00F5  D0          	ret	NC
1115  00F6  7E          	ld	a,(hl)
1116  00F7  F5          	push	af
1117  00F8  33          	inc	sp
1118  00F9  21 17 1A    	ld	hl,0x1a17
1119  00FC  E5          	push	hl
1120  00FD  CD 00 00    	call	_zx_print_chr
1121  0100  C9          	ret
1122  0101              	SECTION code_compiler
1123  0101              ;	---------------------------------
1124  0101              ; Function game_tick
1125  0101              ; ---------------------------------
1126  0101              _game_tick:
1127  0101  21 00 00    	ld	hl,_curr_time
1128  0104  34          	inc	(hl)
1129  0105  C2 00 00    	jp	NZ,_zx_isr
1130  0108  23          	inc	hl
1131  0109  34          	inc	(hl)
1132  010A  C3 00 00    	jp  _zx_isr
1133  010D              	SECTION code_compiler
1134  010D              ;	---------------------------------
1135  010D              ; Function game_start_timer
1136  010D              ; ---------------------------------
1137  010D              _game_start_timer:
1138  010D  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1139  0110  36 CD       	ld	(hl),0xcd
1140  0112  23          	inc	hl
1141  0113  11 01 01    	ld	de,_game_tick
1142  0116  73          	ld	(hl), e
1143  0117  23          	inc	hl
1144  0118  72          	ld	(hl), d
1145  0119  C9          	ret
1146  011A              	SECTION code_compiler
1147  011A              ;	---------------------------------
1148  011A              ; Function game_phase_calc
1149  011A              ; ---------------------------------
1150  011A              _game_phase_calc:
1151  011A  3A 00 00    	ld	a,(_phase_curr)
1152  011D  87          	add	a, a
1153  011E  87          	add	a, a
1154  011F  21 00 00    	ld	hl,_tmp_uc
1155  0122  77          	ld	(hl),a
1156  0123  01 00 00    	ld	bc,_phases+0
1157  0126  5E          	ld	e,(hl)
1158  0127  16 00       	ld	d,0x00
1159  0129  69          	ld	l, c
1160  012A  60          	ld	h, b
1161  012B  19          	add	hl,de
1162  012C  7E          	ld	a,(hl)
1163  012D  32 00 00    	ld	(_phase_quota),a
1164  0130  2A 00 00    	ld	hl,(_tmp_uc)
1165  0133  26 00       	ld	h,0x00
1166  0135  23          	inc	hl
1167  0136  09          	add	hl,bc
1168  0137  7E          	ld	a,(hl)
1169  0138  32 01 00    	ld	((_phase_quota + 0x0001)),a
1170  013B  2A 00 00    	ld	hl,(_tmp_uc)
1171  013E  26 00       	ld	h,0x00
1172  0140  23          	inc	hl
1173  0141  23          	inc	hl
1174  0142  09          	add	hl,bc
1175  0143  7E          	ld	a,(hl)
1176  0144  32 02 00    	ld	((_phase_quota + 0x0002)),a
1177  0147  2A 00 00    	ld	hl,(_tmp_uc)
1178  014A  26 00       	ld	h,0x00
1179  014C  23          	inc	hl
1180  014D  23          	inc	hl
1181  014E  23          	inc	hl
1182  014F  09          	add	hl,bc
1183  0150  7E          	ld	a,(hl)
1184  0151  32 00 00    	ld	(_game_brick_tile),a
1185  0154  21 00 00    	ld	hl,_game_brick_tile
1186  0157  4E          	ld	c,(hl)
1187  0158  06 00       	ld	b,0x00
1188  015A  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1189  015E  7E          	ld	a,(hl)
1190  015F  D6 8B       	sub	a,0x8b
1191  0161  20 05       	jr	NZ,l_game_phase_calc_00102
1192  0163  CD EF 0C    	call	_game_freeze_all
1193  0166  18 03       	jr	l_game_phase_calc_00103
1194  0168              l_game_phase_calc_00102:
1195  0168  CD C6 0C    	call	_game_unfreeze_all
1196  016B              l_game_phase_calc_00103:
1197  016B  21 00 00    	ld	hl,_phase_quota
1198  016E  4E          	ld	c,(hl)
1199  016F  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1200  0172  46          	ld	b,(hl)
1201  0173  79          	ld	a,c
1202  0174  80          	add	a, b
1203  0175  4F          	ld	c,a
1204  0176  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1205  0179  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1206  017B  09          	add	hl, bc
1207  017C  C9          	ret
1208  017D              	SECTION code_compiler
1209  017D              ;	---------------------------------
1210  017D              ; Function game_phase_init
1211  017D              ; ---------------------------------
1212  017D              _game_phase_init:
1213  017D  21 00 00    	ld	hl,0x0000
1214  0180  22 00 00    	ld	(_loop_count),hl
1215  0183  21 00 00    	ld	hl,_phase_end
1216  0186  36 00       	ld	(hl),0x00
1217  0188  21 00 00    	ld	hl,_phase_angry
1218  018B  36 00       	ld	(hl),0x00
1219  018D  21 00 00    	ld	hl,_phase_coins
1220  0190  36 00       	ld	(hl),0x00
1221  0192  21 00 00    	ld	hl,_phase_pop
1222  0195  36 00       	ld	(hl),0x00
1223  0197  21 00 00    	ld	hl,_game_bonus
1224  019A  36 00       	ld	(hl),0x00
1225  019C  21 00 00    	ld	hl,0x0000
1226  019F  22 00 00    	ld	(_entry_time),hl
1227  01A2  21 00 00    	ld	hl,0
1228  01A5  22 00 00    	ld	(_curr_time),hl
1229  01A8  21 00 00    	ld	hl,0x0000
1230  01AB  22 00 00    	ld	(_frame_time),hl
1231  01AE  21 FF FF    	ld	hl,0xffff
1232  01B1  22 00 00    	ld	(_score_osd_col),hl
1233  01B4  21 00 00    	ld	hl,_spr_count
1234  01B7  36 00       	ld	(hl),0x00
1235  01B9  3A 00 00    	ld	a,(_game_type)
1236  01BC  D6 02       	sub	a,0x02
1237  01BE  CA 4A 02    	jp	Z,l_game_phase_init_00104
1238  01C1  CD 1A 01    	call	_game_phase_calc
1239  01C4  7D          	ld	a,l
1240  01C5  32 00 00    	ld	(_phase_left),a
1241  01C8  32 00 00    	ld	(_phase_tot),a
1242  01CB  21 00 00    	ld	hl,_phase_left
1243  01CE  7E          	ld	a,(hl)
1244  01CF  B7          	or	a, a
1245  01D0  C2 62 02    	jp	NZ,l_game_phase_init_00105
1246  01D3  01 00 00    	ld	bc,_phase_bonus_total+0
1247  01D6  AF          	xor	a, a
1248  01D7  02          	ld	(bc),a
1249  01D8  03          	inc	bc
1250  01D9  AF          	xor	a, a
1251  01DA  02          	ld	(bc),a
1252  01DB  36 06       	ld	(hl),0x06
1253  01DD  21 00 00    	ld	hl,_game_bonus
1254  01E0  36 01       	ld	(hl),0x01
1255  01E2  21 0C 00    	ld	hl,0x000c
1256  01E5  E5          	push	hl
1257  01E6  21 90 08    	ld	hl,0x0890
1258  01E9  E5          	push	hl
1259  01EA  AF          	xor	a, a
1260  01EB  F5          	push	af
1261  01EC  33          	inc	sp
1262  01ED  CD 00 00    	call	_enemy_init
1263  01F0  F1          	pop	af
1264  01F1  33          	inc	sp
1265  01F2  21 0C 00    	ld	hl,0x000c
1266  01F5  E3          	ex	(sp),hl
1267  01F6  21 90 16    	ld	hl,0x1690
1268  01F9  E5          	push	hl
1269  01FA  3E 01       	ld	a,0x01
1270  01FC  F5          	push	af
1271  01FD  33          	inc	sp
1272  01FE  CD 00 00    	call	_enemy_init
1273  0201  F1          	pop	af
1274  0202  33          	inc	sp
1275  0203  21 0C 00    	ld	hl,0x000c
1276  0206  E3          	ex	(sp),hl
1277  0207  21 50 06    	ld	hl,0x0650
1278  020A  E5          	push	hl
1279  020B  3E 02       	ld	a,0x02
1280  020D  F5          	push	af
1281  020E  33          	inc	sp
1282  020F  CD 00 00    	call	_enemy_init
1283  0212  F1          	pop	af
1284  0213  33          	inc	sp
1285  0214  21 0C 00    	ld	hl,0x000c
1286  0217  E3          	ex	(sp),hl
1287  0218  21 50 18    	ld	hl,0x1850
1288  021B  E5          	push	hl
1289  021C  3E 03       	ld	a,0x03
1290  021E  F5          	push	af
1291  021F  33          	inc	sp
1292  0220  CD 00 00    	call	_enemy_init
1293  0223  F1          	pop	af
1294  0224  33          	inc	sp
1295  0225  21 0C 00    	ld	hl,0x000c
1296  0228  E3          	ex	(sp),hl
1297  0229  21 10 05    	ld	hl,0x0510
1298  022C  E5          	push	hl
1299  022D  3E 04       	ld	a,0x04
1300  022F  F5          	push	af
1301  0230  33          	inc	sp
1302  0231  CD 00 00    	call	_enemy_init
1303  0234  F1          	pop	af
1304  0235  33          	inc	sp
1305  0236  21 0C 00    	ld	hl,0x000c
1306  0239  E3          	ex	(sp),hl
1307  023A  21 10 19    	ld	hl,0x1910
1308  023D  E5          	push	hl
1309  023E  3E 05       	ld	a,0x05
1310  0240  F5          	push	af
1311  0241  33          	inc	sp
1312  0242  CD 00 00    	call	_enemy_init
1313  0245  F1          	pop	af
1314  0246  F1          	pop	af
1315  0247  33          	inc	sp
1316  0248  18 18       	jr	l_game_phase_init_00105
1317  024A              l_game_phase_init_00104:
1318  024A  21 00 00    	ld	hl,_phase_left
1319  024D  36 FF       	ld	(hl),0xff
1320  024F  21 00 00    	ld	hl,_phase_curr
1321  0252  36 FF       	ld	(hl),0xff
1322  0254  CD C6 0C    	call	_game_unfreeze_all
1323  0257  21 00 00    	ld	hl,_game_brick_tile
1324  025A  36 84       	ld	(hl),0x84
1325  025C  21 84 00    	ld	hl,0x0084
1326  025F  22 24 00    	ld	(_spr_idx + 0x0024),hl
1327  0262              l_game_phase_init_00105:
1328  0262  CD 00 00    	call	_ay_reset
1329  0265  3A 00 00    	ld	a,(_game_bonus)
1330  0268  B7          	or	a, a
1331  0269  20 06       	jr	NZ,l_game_phase_init_00107
1332  026B  21 00 00    	ld	hl,_pb_midi_phase_1
1333  026E  CD 00 00    	call	_ay_midi_play
1334  0271              l_game_phase_init_00107:
1335  0271  CD 00 00    	call	_spr_draw_clear
1336  0274  21 00 00    	ld	hl,0x0000
1337  0277  CD 00 00    	call	_zx_cls_fastcall
1338  027A  CD 00 00    	call	_spr_draw_back
1339  027D  CD B5 02    	call	_game_print_header
1340  0280  CD 1C 00    	call	_game_print_footer
1341  0283  3A 00 00    	ld	a,(_game_lives)
1342  0286  B7          	or	a, a
1343  0287  28 0D       	jr	Z,l_game_phase_init_00109
1344  0289  21 0A 03    	ld	hl,0x030a
1345  028C  E5          	push	hl
1346  028D  21 07 98    	ld	hl,0x9807
1347  0290  E5          	push	hl
1348  0291  CD 00 00    	call	_player_init
1349  0294  F1          	pop	af
1350  0295  F1          	pop	af
1351  0296              l_game_phase_init_00109:
1352  0296  3A 01 00    	ld	a, (_game_lives + 1)
1353  0299  B7          	or	a, a
1354  029A  28 0D       	jr	Z,l_game_phase_init_00111
1355  029C  21 14 27    	ld	hl,0x2714
1356  029F  E5          	push	hl
1357  02A0  21 06 98    	ld	hl,0x9806
1358  02A3  E5          	push	hl
1359  02A4  CD 00 00    	call	_player_init
1360  02A7  F1          	pop	af
1361  02A8  F1          	pop	af
1362  02A9              l_game_phase_init_00111:
1363  02A9  21 00 00    	ld	hl,_game_osd
1364  02AC  36 01       	ld	(hl),0x01
1365  02AE  2A 00 00    	ld	hl,(_curr_time)
1366  02B1  22 00 00    	ld	(_osd_time),hl
1367  02B4  C9          	ret
1368  02B5              	SECTION code_compiler
1369  02B5              ;	---------------------------------
1370  02B5              ; Function game_print_header
1371  02B5              ; ---------------------------------
1372  02B5              _game_print_header:
1373  02B5  CD 98 00    	call	_game_phase_print_score_back
1374  02B8  21 00 00    	ld	hl,_screen_ink
1375  02BB  36 07       	ld	(hl),0x07
1376  02BD  C3 18 0D    	jp  _game_print_score
1377  02C0              	SECTION code_compiler
1378  02C0              ;	---------------------------------
1379  02C0              ; Function game_phase_print
1380  02C0              ; ---------------------------------
1381  02C0              _game_phase_print:
1382  02C0  45          	ld	b,l
1383  02C1  C5          	push	bc
1384  02C2  21 1A 00    	ld	hl,___str_9
1385  02C5  E5          	push	hl
1386  02C6  3E 0B       	ld	a,0x0b
1387  02C8  48          	ld	c,b
1388  02C9  47          	ld	b,a
1389  02CA  C5          	push	bc
1390  02CB  CD 00 00    	call	_zx_print_str
1391  02CE  C1          	pop	bc
1392  02CF  3A 00 00    	ld	a,(_phase_curr)
1393  02D2  D6 1F       	sub	a,0x1f
1394  02D4  30 3F       	jr	NC,l_game_phase_print_00108
1395  02D6  3A 00 00    	ld	a,(_game_bonus)
1396  02D9  B7          	or	a, a
1397  02DA  20 2B       	jr	NZ,l_game_phase_print_00102
1398  02DC  C5          	push	bc
1399  02DD  21 20 00    	ld	hl,___str_10
1400  02E0  E5          	push	hl
1401  02E1  3E 10       	ld	a,0x10
1402  02E3  48          	ld	c,b
1403  02E4  47          	ld	b,a
1404  02E5  C5          	push	bc
1405  02E6  CD 00 00    	call	_zx_print_str
1406  02E9  C1          	pop	bc
1407  02EA  21 00 00    	ld	hl,_phase_curr
1408  02ED  56          	ld	d,(hl)
1409  02EE  14          	inc	d
1410  02EF  C5          	push	bc
1411  02F0  1E 12       	ld	e,0x12
1412  02F2  D5          	push	de
1413  02F3  C5          	push	bc
1414  02F4  33          	inc	sp
1415  02F5  CD 00 00    	call	_zx_print_chr
1416  02F8  C1          	pop	bc
1417  02F9  21 20 00    	ld	hl,___str_10
1418  02FC  E5          	push	hl
1419  02FD  3E 15       	ld	a,0x15
1420  02FF  48          	ld	c,b
1421  0300  47          	ld	b,a
1422  0301  C5          	push	bc
1423  0302  CD 00 00    	call	_zx_print_str
1424  0305  18 2F       	jr	l_game_phase_print_00110
1425  0307              l_game_phase_print_00102:
1426  0307  21 23 00    	ld	hl,___str_11
1427  030A  E5          	push	hl
1428  030B  3E 11       	ld	a,0x11
1429  030D  48          	ld	c,b
1430  030E  47          	ld	b,a
1431  030F  C5          	push	bc
1432  0310  CD 00 00    	call	_zx_print_str
1433  0313  18 21       	jr	l_game_phase_print_00110
1434  0315              l_game_phase_print_00108:
1435  0315  3A 00 00    	ld	a,(_game_type)
1436  0318  D6 02       	sub	a,0x02
1437  031A  28 0E       	jr	Z,l_game_phase_print_00105
1438  031C  21 2A 00    	ld	hl,___str_12
1439  031F  E5          	push	hl
1440  0320  3E 11       	ld	a,0x11
1441  0322  48          	ld	c,b
1442  0323  47          	ld	b,a
1443  0324  C5          	push	bc
1444  0325  CD 00 00    	call	_zx_print_str
1445  0328  18 0C       	jr	l_game_phase_print_00110
1446  032A              l_game_phase_print_00105:
1447  032A  21 31 00    	ld	hl,___str_13
1448  032D  E5          	push	hl
1449  032E  3E 11       	ld	a,0x11
1450  0330  48          	ld	c,b
1451  0331  47          	ld	b,a
1452  0332  C5          	push	bc
1453  0333  CD 00 00    	call	_zx_print_str
1454  0336              l_game_phase_print_00110:
1455  0336  C9          	ret
1456  0337              	SECTION rodata_compiler
1457  001A              ___str_9:
1458  001A  50 48 41 53 45 
                        	DEFM "PHASE"
1459  001F  00          	DEFB 0x00
1460  0020              	SECTION rodata_compiler
1461  0020              ___str_10:
1462  0020  20 20       	DEFM "  "
1463  0022  00          	DEFB 0x00
1464  0023              	SECTION rodata_compiler
1465  0023              ___str_11:
1466  0023  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1467  0029  00          	DEFB 0x00
1468  002A              	SECTION rodata_compiler
1469  002A              ___str_12:
1470  002A  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1471  0030  00          	DEFB 0x00
1472  0031              	SECTION rodata_compiler
1473  0031              ___str_13:
1474  0031  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1475  0037  00          	DEFB 0x00
1476  0038              	SECTION code_compiler
1477  0337              ;	---------------------------------
1478  0337              ; Function game_loop
1479  0337              ; ---------------------------------
1480  0337              _game_loop:
1481  0337  21 38 00    	ld	hl,___str_14
1482  033A  E5          	push	hl
1483  033B  21 16 07    	ld	hl,0x0716
1484  033E  E5          	push	hl
1485  033F  CD 00 00    	call	_zx_print_str
1486  0342  21 4B 00    	ld	hl,___str_15
1487  0345  E5          	push	hl
1488  0346  21 17 07    	ld	hl,0x0717
1489  0349  E5          	push	hl
1490  034A  CD 00 00    	call	_zx_print_str
1491  034D  21 00 00    	ld	hl,_ay_effect_10
1492  0350  CD 00 00    	call	_ay_fx_play
1493  0353  CD 00 00    	call	_sound_coin
1494  0356  21 C8 00    	ld	hl,0x00c8
1495  0359  CD 00 00    	call	_z80_delay_ms_fastcall
1496  035C  21 5E 00    	ld	hl,___str_16
1497  035F  E5          	push	hl
1498  0360  21 16 07    	ld	hl,0x0716
1499  0363  E5          	push	hl
1500  0364  CD 00 00    	call	_zx_print_str
1501  0367  CD 00 00    	call	_ay_reset
1502  036A  21 11 11    	ld	hl,0x1111
1503  036D  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1504  0370  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1505  0373  21 00 00    	ld	hl,_game_lives+0
1506  0376  36 04       	ld	(hl),0x04
1507  0378  23          	inc	hl
1508  0379  3A 00 00    	ld	a,(_game_two_player)
1509  037C  B7          	or	a,a
1510  037D  4D          	ld	c,l
1511  037E  44          	ld	b,h
1512  037F  28 05       	jr	Z,l_game_loop_00102
1513  0381  3E 04       	ld	a,0x04
1514  0383  02          	ld	(bc),a
1515  0384  18 02       	jr	l_game_loop_00103
1516  0386              l_game_loop_00102:
1517  0386  AF          	xor	a, a
1518  0387  02          	ld	(bc),a
1519  0388              l_game_loop_00103:
1520  0388  21 00 00    	ld	hl,0x0000
1521  038B  22 00 00    	ld	(_player_score), hl
1522  038E  2E 00       	ld	l,0x00
1523  0390  22 02 00    	ld	(_player_score + 0x0002),hl
1524  0393  21 D0 07    	ld	hl,0x07d0
1525  0396  22 00 00    	ld	(_player_next_extra), hl
1526  0399  2E D0       	ld	l,0xd0
1527  039B  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1528  039E  21 00 00    	ld	hl,_spr_water_clear
1529  03A1  36 FF       	ld	(hl),0xff
1530  03A3  3A 00 00    	ld	a,(_game_type)
1531  03A6  B7          	or	a, a
1532  03A7  20 0E       	jr	NZ,l_game_loop_00105
1533  03A9  21 F4 01    	ld	hl,0x01f4
1534  03AC  22 00 00    	ld	(_game_time_flipped),hl
1535  03AF  21 D0 07    	ld	hl,0x07d0
1536  03B2  22 00 00    	ld	(_game_time_fireball_start),hl
1537  03B5  18 0C       	jr	l_game_loop_00106
1538  03B7              l_game_loop_00105:
1539  03B7  21 FA 00    	ld	hl,0x00fa
1540  03BA  22 00 00    	ld	(_game_time_flipped),hl
1541  03BD  21 F4 01    	ld	hl,0x01f4
1542  03C0  22 00 00    	ld	(_game_time_fireball_start),hl
1543  03C3              l_game_loop_00106:
1544  03C3  21 00 00    	ld	hl,_game_over
1545  03C6  36 00       	ld	(hl),0x00
1546  03C8  21 00 00    	ld	hl,_game_pow
1547  03CB  36 03       	ld	(hl),0x03
1548  03CD  3A 00 00    	ld	a,(_game_start_phase)
1549  03D0  32 00 00    	ld	(_phase_curr),a
1550  03D3  CD 7D 01    	call	_game_phase_init
1551  03D6  21 00 00    	ld	hl,_sprite_lin_inc_mul
1552  03D9  36 00       	ld	(hl),0x00
1553  03DB  21 00 00    	ld	hl,_dirs
1554  03DE  36 00       	ld	(hl),0x00
1555  03E0  CD BA 0F    	call	_game_joystick_set
1556  03E3              l_game_loop_00134:
1557  03E3  3A 00 00    	ld	a,(_game_over)
1558  03E6  B7          	or	a, a
1559  03E7  C2 FA 04    	jp	NZ,l_game_loop_00136
1560  03EA  21 00 18    	ld	hl,0x1800
1561  03ED  E5          	push	hl
1562  03EE  21 06 00    	ld	hl,0x0006
1563  03F1  E5          	push	hl
1564  03F2  3E 07       	ld	a,0x07
1565  03F4  F5          	push	af
1566  03F5  33          	inc	sp
1567  03F6  CD 00 00    	call	_player_set
1568  03F9  F1          	pop	af
1569  03FA  F1          	pop	af
1570  03FB  33          	inc	sp
1571  03FC  CD 00 00    	call	_player_turn
1572  03FF  21 18 00    	ld	hl,0x0018
1573  0402  E5          	push	hl
1574  0403  21 07 01    	ld	hl,0x0107
1575  0406  E5          	push	hl
1576  0407  3E 06       	ld	a,0x06
1577  0409  F5          	push	af
1578  040A  33          	inc	sp
1579  040B  CD 00 00    	call	_player_set
1580  040E  F1          	pop	af
1581  040F  F1          	pop	af
1582  0410  33          	inc	sp
1583  0411  CD 00 00    	call	_player_turn
1584  0414  CD 00 00    	call	_enemy_turn
1585  0417  3A 00 00    	ld	a,(_game_bonus)
1586  041A  B7          	or	a, a
1587  041B  28 16       	jr	Z,l_game_loop_00111
1588  041D  CD A7 06    	call	_game_bonus_clock
1589  0420  3A 00 00    	ld	a,(_phase_left)
1590  0423  B7          	or	a, a
1591  0424  28 0D       	jr	Z,l_game_loop_00111
1592  0426  CD 00 00    	call	_ay_is_playing
1593  0429  7D          	ld	a,l
1594  042A  B7          	or	a, a
1595  042B  20 06       	jr	NZ,l_game_loop_00111
1596  042D  21 00 00    	ld	hl,_ay_effect_19
1597  0430  CD 00 00    	call	_ay_fx_play
1598  0433              l_game_loop_00111:
1599  0433  3A 00 00    	ld	a,(_game_osd)
1600  0436  B7          	or	a, a
1601  0437  28 4F       	jr	Z,l_game_loop_00119
1602  0439  21 05 00    	ld	hl,0x0005
1603  043C  E5          	push	hl
1604  043D  2A 00 00    	ld	hl,(_osd_time)
1605  0440  E5          	push	hl
1606  0441  CD 7B 1A    	call	_game_check_time
1607  0444  F1          	pop	af
1608  0445  F1          	pop	af
1609  0446  7D          	ld	a,l
1610  0447  B7          	or	a, a
1611  0448  28 1B       	jr	Z,l_game_loop_00113
1612  044A  2A 00 00    	ld	hl,(_curr_time)
1613  044D  22 00 00    	ld	(_osd_time),hl
1614  0450  2E 0C       	ld	l,0x0c
1615  0452  CD C0 02    	call	_game_phase_print
1616  0455  21 17 68    	ld	hl,0x6817
1617  0458  E5          	push	hl
1618  0459  3E 0B       	ld	a,0x0b
1619  045B  F5          	push	af
1620  045C  33          	inc	sp
1621  045D  CD 94 0D    	call	_game_paint_attrib_lin_h
1622  0460  F1          	pop	af
1623  0461  33          	inc	sp
1624  0462  CD CD 19    	call	_game_rotate_attrib
1625  0465              l_game_loop_00113:
1626  0465  21 00 00    	ld	hl,_loop_count
1627  0468  7E          	ld	a,(hl)
1628  0469  D6 90       	sub	a,0x90
1629  046B  20 1B       	jr	NZ,l_game_loop_00119
1630  046D  23          	inc	hl
1631  046E  7E          	ld	a,(hl)
1632  046F  3D          	dec	a
1633  0470  20 16       	jr	NZ,l_game_loop_00119
1634  0472  21 0C 20    	ld	hl,0x200c
1635  0475  E5          	push	hl
1636  0476  CD 00 00    	call	_game_fill_row
1637  0479  21 00 00    	ld	hl,_game_osd
1638  047C  36 00       	ld	(hl),0x00
1639  047E  21 00 00    	ld	hl,_game_bonus
1640  0481  7E          	ld	a,(hl)
1641  0482  B7          	or	a, a
1642  0483  20 03       	jr	NZ,l_game_loop_00119
1643  0485  CD 42 05    	call	_game_print_phase
1644  0488              l_game_loop_00119:
1645  0488  CD 00 00    	call	_spr_water_splash_clear
1646  048B  21 64 00    	ld	hl,0x0064
1647  048E  E5          	push	hl
1648  048F  2A 00 00    	ld	hl,(_frame_time)
1649  0492  E5          	push	hl
1650  0493  CD 7B 1A    	call	_game_check_time
1651  0496  F1          	pop	af
1652  0497  F1          	pop	af
1653  0498  7D          	ld	a,l
1654  0499  B7          	or	a, a
1655  049A  28 52       	jr	Z,l_game_loop_00133
1656  049C  2A 00 00    	ld	hl,(_curr_time)
1657  049F  22 00 00    	ld	(_frame_time),hl
1658  04A2  3A 00 00    	ld	a,(_game_bonus)
1659  04A5  B7          	or	a,a
1660  04A6  20 03       	jr	NZ,l_game_loop_00121
1661  04A8  CD 54 09    	call	_game_enemy_add
1662  04AB              l_game_loop_00121:
1663  04AB  3A 00 00    	ld	a,(_phase_end)
1664  04AE  3D          	dec	a
1665  04AF  20 3A       	jr	NZ,l_game_loop_00130
1666  04B1  3A 00 00    	ld	a,(_game_type)
1667  04B4  D6 02       	sub	a,0x02
1668  04B6  28 33       	jr	Z,l_game_loop_00130
1669  04B8  CD 00 00    	call	_ay_is_playing
1670  04BB  7D          	ld	a, l
1671  04BC  D6 02       	sub	a,0x02
1672  04BE  30 03       	jr	NC,l_game_loop_00123
1673  04C0  CD 00 00    	call	_ay_reset
1674  04C3              l_game_loop_00123:
1675  04C3  CD CF 08    	call	_game_kill_all_sprites
1676  04C6  3A 00 00    	ld	a,(_game_bonus)
1677  04C9  B7          	or	a, a
1678  04CA  28 03       	jr	Z,l_game_loop_00125
1679  04CC  CD 1E 07    	call	_game_bonus_summary
1680  04CF              l_game_loop_00125:
1681  04CF  21 00 00    	ld	hl,_phase_curr
1682  04D2  34          	inc	(hl)
1683  04D3  3E 1F       	ld	a,0x1f
1684  04D5  96          	sub	a, (hl)
1685  04D6  30 0A       	jr	NC,l_game_loop_00127
1686  04D8  CD CF 12    	call	_game_end
1687  04DB  21 00 00    	ld	hl,_game_over
1688  04DE  36 01       	ld	(hl),0x01
1689  04E0  18 09       	jr	l_game_loop_00130
1690  04E2              l_game_loop_00127:
1691  04E2  21 90 01    	ld	hl,0x0190
1692  04E5  CD 00 00    	call	_z80_delay_ms_fastcall
1693  04E8  CD 7D 01    	call	_game_phase_init
1694  04EB              l_game_loop_00130:
1695  04EB  CD 00 00    	call	_debug_func
1696  04EE              l_game_loop_00133:
1697  04EE  21 00 00    	ld	hl,_loop_count
1698  04F1  34          	inc	(hl)
1699  04F2  C2 E3 03    	jp	NZ,l_game_loop_00134
1700  04F5  23          	inc	hl
1701  04F6  34          	inc	(hl)
1702  04F7  C3 E3 03    	jp	l_game_loop_00134
1703  04FA              l_game_loop_00136:
1704  04FA  CD CF 08    	call	_game_kill_all_sprites
1705  04FD  21 90 01    	ld	hl,0x0190
1706  0500  CD 00 00    	call	_z80_delay_ms_fastcall
1707  0503  76          	halt
1708  0504  CD 00 00    	call	_spr_draw_back
1709  0507  CD B5 02    	call	_game_print_header
1710  050A  CD 1C 00    	call	_game_print_footer
1711  050D  CD 42 05    	call	_game_print_phase
1712  0510  21 71 00    	ld	hl,___str_17
1713  0513  E5          	push	hl
1714  0514  21 08 0B    	ld	hl,0x0b08
1715  0517  E5          	push	hl
1716  0518  CD 00 00    	call	_zx_print_str
1717  051B  21 C8 00    	ld	hl,0x00c8
1718  051E  E5          	push	hl
1719  051F  21 0B 15    	ld	hl,0x150b
1720  0522  E5          	push	hl
1721  0523  3E 08       	ld	a,0x08
1722  0525  F5          	push	af
1723  0526  33          	inc	sp
1724  0527  CD E9 19    	call	_game_colour_message
1725  052A  F1          	pop	af
1726  052B  F1          	pop	af
1727  052C  33          	inc	sp
1728  052D  CD 00 00    	call	_spr_draw_clear
1729  0530  CD 61 15    	call	_game_hall_enter
1730  0533  CD 00 00    	call	_ay_reset
1731  0536  21 00 00    	ld	hl,_game_menu_sel
1732  0539  36 00       	ld	(hl),0x00
1733  053B  CD B2 10    	call	_game_menu_paint
1734  053E  CD AD 0F    	call	_game_joystick_set_menu
1735  0541  C9          	ret
1736  0542              	SECTION rodata_compiler
1737  0038              ___str_14:
1738  0038  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1739  004A  00          	DEFB 0x00
1740  004B              	SECTION rodata_compiler
1741  004B              ___str_15:
1742  004B  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1743  005D  00          	DEFB 0x00
1744  005E              	SECTION rodata_compiler
1745  005E              ___str_16:
1746  005E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1747  0070  00          	DEFB 0x00
1748  0071              	SECTION rodata_compiler
1749  0071              ___str_17:
1750  0071  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1751  007C  00          	DEFB 0x00
1752  007D              	SECTION code_compiler
1753  0542              ;	---------------------------------
1754  0542              ; Function game_print_phase
1755  0542              ; ---------------------------------
1756  0542              _game_print_phase:
1757  0542  21 7D 00    	ld	hl,___str_18
1758  0545  E5          	push	hl
1759  0546  21 17 0B    	ld	hl,0x0b17
1760  0549  E5          	push	hl
1761  054A  CD 00 00    	call	_zx_print_str
1762  054D  21 00 00    	ld	hl,_phase_curr
1763  0550  46          	ld	b,(hl)
1764  0551  04          	inc	b
1765  0552  C5          	push	bc
1766  0553  33          	inc	sp
1767  0554  21 17 12    	ld	hl,0x1217
1768  0557  E5          	push	hl
1769  0558  CD 00 00    	call	_zx_print_chr
1770  055B  C9          	ret
1771  055C              	SECTION rodata_compiler
1772  007D              ___str_18:
1773  007D  50 48 41 53 45 
                        	DEFM "PHASE"
1774  0082  00          	DEFB 0x00
1775  0083              	SECTION code_compiler
1776  055C              ;	---------------------------------
1777  055C              ; Function game_score_osd
1778  055C              ; ---------------------------------
1779  055C              _game_score_osd:
1780  055C  2A 00 00    	ld	hl,(_index_player)
1781  055F  26 00       	ld	h,0x00
1782  0561  01 00 00    	ld	bc,_score_osd_col
1783  0564  09          	add	hl,bc
1784  0565  7E          	ld	a,(hl)
1785  0566  57          	ld	d,a
1786  0567  3C          	inc	a
1787  0568  20 69       	jr	NZ,l_game_score_osd_00116
1788  056A  3A 00 00    	ld	a,(_hit_count)
1789  056D  B7          	or	a,a
1790  056E  CA A6 06    	jp	Z,l_game_score_osd_00118
1791  0571  4D          	ld	c,l
1792  0572  44          	ld	b,h
1793  0573  2A 00 00    	ld	hl,(_sprite)
1794  0576  26 00       	ld	h,0x00
1795  0578  11 00 00    	ld	de,_col
1796  057B  19          	add	hl,de
1797  057C  7E          	ld	a,(hl)
1798  057D  02          	ld	(bc),a
1799  057E  2A 00 00    	ld	hl,(_index_player)
1800  0581  26 00       	ld	h,0x00
1801  0583  01 00 00    	ld	bc,_score_osd_lin
1802  0586  09          	add	hl,bc
1803  0587  4D          	ld	c,l
1804  0588  44          	ld	b,h
1805  0589  2A 00 00    	ld	hl,(_sprite)
1806  058C  26 00       	ld	h,0x00
1807  058E  11 00 00    	ld	de,_lin
1808  0591  19          	add	hl,de
1809  0592  7E          	ld	a,(hl)
1810  0593  02          	ld	(bc),a
1811  0594  01 00 00    	ld	bc,_score_osd_time+0
1812  0597  2A 00 00    	ld	hl,(_index_player)
1813  059A  26 00       	ld	h,0x00
1814  059C  29          	add	hl, hl
1815  059D  09          	add	hl,bc
1816  059E  ED 5B 00 00 	ld	de,(_curr_time)
1817  05A2  73          	ld	(hl),e
1818  05A3  23          	inc	hl
1819  05A4  72          	ld	(hl),d
1820  05A5  3A 00 00    	ld	a,(_hit_count)
1821  05A8  B7          	or	a, a
1822  05A9  CA A6 06    	jp	Z,l_game_score_osd_00118
1823  05AC  2A 00 00    	ld	hl,(_index_player)
1824  05AF  26 00       	ld	h,0x00
1825  05B1  29          	add	hl,hl
1826  05B2  3A 00 00    	ld	a,(_hit_count)
1827  05B5  D6 02       	sub	a,0x02
1828  05B7  4D          	ld	c,l
1829  05B8  44          	ld	b,h
1830  05B9  30 0C       	jr	NC,l_game_score_osd_00102
1831  05BB  21 00 00    	ld	hl,_score_osd_tile
1832  05BE  09          	add	hl,bc
1833  05BF  36 BC       	ld	(hl),0xbc
1834  05C1  23          	inc	hl
1835  05C2  36 00       	ld	(hl),0x00
1836  05C4  C3 A6 06    	jp	l_game_score_osd_00118
1837  05C7              l_game_score_osd_00102:
1838  05C7  21 00 00    	ld	hl,_score_osd_tile
1839  05CA  09          	add	hl,bc
1840  05CB  36 BD       	ld	(hl),0xbd
1841  05CD  23          	inc	hl
1842  05CE  36 00       	ld	(hl),0x00
1843  05D0  C3 A6 06    	jp	l_game_score_osd_00118
1844  05D3              l_game_score_osd_00116:
1845  05D3  2A 00 00    	ld	hl,(_index_player)
1846  05D6  26 00       	ld	h,0x00
1847  05D8  01 00 00    	ld	bc,_score_osd_lin
1848  05DB  09          	add	hl,bc
1849  05DC  7E          	ld	a,(hl)
1850  05DD  C6 FE       	add	a,0xfe
1851  05DF  32 00 00    	ld	(_tmp),a
1852  05E2  5F          	ld	e,a
1853  05E3  D5          	push	de
1854  05E4  CD 00 00    	call	_game_calc_index
1855  05E7  F1          	pop	af
1856  05E8  22 00 00    	ld	(_index1),hl
1857  05EB  3E 08       	ld	a,0x08
1858  05ED  21 00 00    	ld	hl,_tmp
1859  05F0  96          	sub	a, (hl)
1860  05F1  30 56       	jr	NC,l_game_score_osd_00109
1861  05F3  21 01 00    	ld	hl,_index1 + 1
1862  05F6  7E          	ld	a,(hl)
1863  05F7  2B          	dec	hl
1864  05F8  B6          	or	a,(hl)
1865  05F9  28 4E       	jr	Z,l_game_score_osd_00109
1866  05FB  01 00 00    	ld	bc,_lvl_1+0
1867  05FE  79          	ld	a,c
1868  05FF  86          	add	a, (hl)
1869  0600  5F          	ld	e,a
1870  0601  78          	ld	a,b
1871  0602  23          	inc	hl
1872  0603  8E          	adc	a, (hl)
1873  0604  57          	ld	d,a
1874  0605  1A          	ld	a,(de)
1875  0606  B7          	or	a, a
1876  0607  20 40       	jr	NZ,l_game_score_osd_00109
1877  0609  56          	ld	d,(hl)
1878  060A  2B          	dec	hl
1879  060B  5E          	ld	e,(hl)
1880  060C  13          	inc	de
1881  060D  69          	ld	l, c
1882  060E  60          	ld	h, b
1883  060F  19          	add	hl,de
1884  0610  7E          	ld	a,(hl)
1885  0611  B7          	or	a, a
1886  0612  20 35       	jr	NZ,l_game_score_osd_00109
1887  0614  76          	halt
1888  0615  2A 00 00    	ld	hl,(_index_player)
1889  0618  26 00       	ld	h,0x00
1890  061A  01 00 00    	ld	bc,_score_osd_col
1891  061D  09          	add	hl,bc
1892  061E  56          	ld	d, (hl)
1893  061F  2A 00 00    	ld	hl,(_index_player)
1894  0622  26 00       	ld	h,0x00
1895  0624  01 00 00    	ld	bc,_score_osd_lin
1896  0627  09          	add	hl,bc
1897  0628  5E          	ld	e, (hl)
1898  0629  2A 00 00    	ld	hl,(_index_player)
1899  062C  26 00       	ld	h,0x00
1900  062E  29          	add	hl, hl
1901  062F  01 00 00    	ld	bc,_score_osd_tile
1902  0632  09          	add	hl,bc
1903  0633  46          	ld	b,(hl)
1904  0634  23          	inc	hl
1905  0635  4E          	ld	c,(hl)
1906  0636  D5          	push	de
1907  0637  C5          	push	bc
1908  0638  33          	inc	sp
1909  0639  CD 00 00    	call	_NIRVANAP_drawT_callee
1910  063C  2A 00 00    	ld	hl,(_index_player)
1911  063F  26 00       	ld	h,0x00
1912  0641  01 00 00    	ld	bc,_score_osd_lin
1913  0644  09          	add	hl,bc
1914  0645  3A 00 00    	ld	a,(_tmp)
1915  0648  77          	ld	(hl),a
1916  0649              l_game_score_osd_00109:
1917  0649  01 00 00    	ld	bc,_score_osd_time+0
1918  064C  2A 00 00    	ld	hl,(_index_player)
1919  064F  26 00       	ld	h,0x00
1920  0651  29          	add	hl, hl
1921  0652  09          	add	hl,bc
1922  0653  4E          	ld	c,(hl)
1923  0654  23          	inc	hl
1924  0655  46          	ld	b,(hl)
1925  0656  21 32 00    	ld	hl,0x0032
1926  0659  E5          	push	hl
1927  065A  C5          	push	bc
1928  065B  CD 7B 1A    	call	_game_check_time
1929  065E  F1          	pop	af
1930  065F  F1          	pop	af
1931  0660  7D          	ld	a,l
1932  0661  B7          	or	a, a
1933  0662  C8          	ret	Z
1934  0663  2A 00 00    	ld	hl,(_index_player)
1935  0666  26 00       	ld	h,0x00
1936  0668  01 00 00    	ld	bc,_score_osd_col
1937  066B  09          	add	hl,bc
1938  066C  56          	ld	d, (hl)
1939  066D  2A 00 00    	ld	hl,(_index_player)
1940  0670  26 00       	ld	h,0x00
1941  0672  01 00 00    	ld	bc,_score_osd_lin
1942  0675  09          	add	hl,bc
1943  0676  5E          	ld	e, (hl)
1944  0677  D5          	push	de
1945  0678  AF          	xor	a, a
1946  0679  F5          	push	af
1947  067A  33          	inc	sp
1948  067B  CD 00 00    	call	_NIRVANAP_fillT_callee
1949  067E  2A 00 00    	ld	hl,(_index_player)
1950  0681  26 00       	ld	h,0x00
1951  0683  01 00 00    	ld	bc,_score_osd_lin
1952  0686  09          	add	hl,bc
1953  0687  7E          	ld	a,(hl)
1954  0688  32 00 00    	ld	(_s_lin0),a
1955  068B  2A 00 00    	ld	hl,(_index_player)
1956  068E  26 00       	ld	h,0x00
1957  0690  01 00 00    	ld	bc,_score_osd_col
1958  0693  09          	add	hl,bc
1959  0694  7E          	ld	a,(hl)
1960  0695  32 00 00    	ld	(_s_col0),a
1961  0698  CD 00 00    	call	_spr_check_over
1962  069B  2A 00 00    	ld	hl,(_index_player)
1963  069E  26 00       	ld	h,0x00
1964  06A0  01 00 00    	ld	bc,_score_osd_col
1965  06A3  09          	add	hl,bc
1966  06A4  36 FF       	ld	(hl),0xff
1967  06A6              l_game_score_osd_00118:
1968  06A6  C9          	ret
1969  06A7              	SECTION code_compiler
1970  06A7              ;	---------------------------------
1971  06A7              ; Function game_bonus_clock
1972  06A7              ; ---------------------------------
1973  06A7              _game_bonus_clock:
1974  06A7  2A 00 00    	ld	hl,(_curr_time)
1975  06AA  29          	add	hl,hl
1976  06AB  3E 40       	ld	a,0x40
1977  06AD  95          	sub	a,l
1978  06AE  44          	ld	b,h
1979  06AF  21 00 00    	ld	hl,_tmp_ui
1980  06B2  77          	ld	(hl),a
1981  06B3  3E 06       	ld	a,0x06
1982  06B5  98          	sbc	a, b
1983  06B6  23          	inc	hl
1984  06B7  77          	ld	(hl),a
1985  06B8  3E 40       	ld	a,0x40
1986  06BA  2B          	dec	hl
1987  06BB  BE          	cp	a, (hl)
1988  06BC  3E 06       	ld	a,0x06
1989  06BE  23          	inc	hl
1990  06BF  9E          	sbc	a, (hl)
1991  06C0  30 25       	jr	NC,l_game_bonus_clock_00108
1992  06C2  2B          	dec	hl
1993  06C3  AF          	xor	a, a
1994  06C4  77          	ld	(hl), a
1995  06C5  23          	inc	hl
1996  06C6  77          	ld	(hl), a
1997  06C7  3A 00 00    	ld	a,(_phase_left)
1998  06CA  B7          	or	a, a
1999  06CB  28 0B       	jr	Z,l_game_bonus_clock_00102
2000  06CD  21 00 00    	ld	hl,0x0000
2001  06D0  E5          	push	hl
2002  06D1  21 02 0E    	ld	hl,0x0e02
2003  06D4  E5          	push	hl
2004  06D5  CD 00 00    	call	_zx_print_bonus_time
2005  06D8              l_game_bonus_clock_00102:
2006  06D8  21 00 00    	ld	hl,_phase_left
2007  06DB  36 00       	ld	(hl),0x00
2008  06DD  21 00 00    	ld	hl,_phase_end
2009  06E0  36 01       	ld	(hl),0x01
2010  06E2  CD 00 00    	call	_ay_reset
2011  06E5  18 36       	jr	l_game_bonus_clock_00110
2012  06E7              l_game_bonus_clock_00108:
2013  06E7  3A 00 00    	ld	a,(_phase_left)
2014  06EA  B7          	or	a, a
2015  06EB  C8          	ret	Z
2016  06EC  2A 00 00    	ld	hl,(_tmp_ui)
2017  06EF  E5          	push	hl
2018  06F0  21 02 0E    	ld	hl,0x0e02
2019  06F3  E5          	push	hl
2020  06F4  CD 00 00    	call	_zx_print_bonus_time
2021  06F7  21 05 00    	ld	hl,0x0005
2022  06FA  E5          	push	hl
2023  06FB  2A 00 00    	ld	hl,(_frame_time)
2024  06FE  E5          	push	hl
2025  06FF  CD 7B 1A    	call	_game_check_time
2026  0702  F1          	pop	af
2027  0703  F1          	pop	af
2028  0704  7D          	ld	a,l
2029  0705  B7          	or	a, a
2030  0706  C8          	ret	Z
2031  0707  2A 00 00    	ld	hl,(_curr_time)
2032  070A  22 00 00    	ld	(_frame_time),hl
2033  070D  21 14 18    	ld	hl,0x1814
2034  0710  E5          	push	hl
2035  0711  3E 0E       	ld	a,0x0e
2036  0713  F5          	push	af
2037  0714  33          	inc	sp
2038  0715  CD 94 0D    	call	_game_paint_attrib_lin_h
2039  0718  F1          	pop	af
2040  0719  33          	inc	sp
2041  071A  CD CD 19    	call	_game_rotate_attrib
2042  071D              l_game_bonus_clock_00110:
2043  071D  C9          	ret
2044  071E              	SECTION code_compiler
2045  071E              ;	---------------------------------
2046  071E              ; Function game_bonus_summary
2047  071E              ; ---------------------------------
2048  071E              _game_bonus_summary:
2049  071E  CD CF 08    	call	_game_kill_all_sprites
2050  0721  CD 00 00    	call	_spr_draw_clear
2051  0724  21 00 00    	ld	hl,0x0000
2052  0727  CD 00 00    	call	_zx_cls_fastcall
2053  072A  CD 98 00    	call	_game_phase_print_score_back
2054  072D  CD 18 0D    	call	_game_print_score
2055  0730  3A 00 00    	ld	a,(_game_lives)
2056  0733  B7          	or	a, a
2057  0734  28 05       	jr	Z,l_game_bonus_summary_00102
2058  0736  2E 00       	ld	l,0x00
2059  0738  CD D3 07    	call	_game_bonus_summary_player
2060  073B              l_game_bonus_summary_00102:
2061  073B  3A 01 00    	ld	a, (_game_lives + 1)
2062  073E  B7          	or	a, a
2063  073F  28 05       	jr	Z,l_game_bonus_summary_00104
2064  0741  2E 01       	ld	l,0x01
2065  0743  CD D3 07    	call	_game_bonus_summary_player
2066  0746              l_game_bonus_summary_00104:
2067  0746  21 1F 98    	ld	hl,0x981f
2068  0749  E5          	push	hl
2069  074A  AF          	xor	a, a
2070  074B  F5          	push	af
2071  074C  33          	inc	sp
2072  074D  CD 6D 0D    	call	_game_paint_attrib_lin
2073  0750  F1          	pop	af
2074  0751  33          	inc	sp
2075  0752  3A 00 00    	ld	a,(_phase_bonus_total)
2076  0755  D6 06       	sub	a,0x06
2077  0757  20 68       	jr	NZ,l_game_bonus_summary_00109
2078  0759  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2079  075C  B7          	or	a, a
2080  075D  20 62       	jr	NZ,l_game_bonus_summary_00109
2081  075F  CD 00 00    	call	_sound_jump
2082  0762  3A 00 00    	ld	a,(_phase_curr)
2083  0765  D6 03       	sub	a,0x03
2084  0767  30 23       	jr	NC,l_game_bonus_summary_00106
2085  0769  21 83 00    	ld	hl,___str_19
2086  076C  E5          	push	hl
2087  076D  21 12 06    	ld	hl,0x0612
2088  0770  E5          	push	hl
2089  0771  CD 00 00    	call	_zx_print_str
2090  0774  21 00 00    	ld	hl,_index_player
2091  0777  36 00       	ld	(hl),0x00
2092  0779  21 2C 01    	ld	hl,0x012c
2093  077C  CD 00 00    	call	_player_score_add
2094  077F  21 00 00    	ld	hl,_index_player
2095  0782  36 01       	ld	(hl),0x01
2096  0784  21 2C 01    	ld	hl,0x012c
2097  0787  CD 00 00    	call	_player_score_add
2098  078A  18 21       	jr	l_game_bonus_summary_00107
2099  078C              l_game_bonus_summary_00106:
2100  078C  21 96 00    	ld	hl,___str_20
2101  078F  E5          	push	hl
2102  0790  21 12 06    	ld	hl,0x0612
2103  0793  E5          	push	hl
2104  0794  CD 00 00    	call	_zx_print_str
2105  0797  21 00 00    	ld	hl,_index_player
2106  079A  36 00       	ld	(hl),0x00
2107  079C  21 F4 01    	ld	hl,0x01f4
2108  079F  CD 00 00    	call	_player_score_add
2109  07A2  21 00 00    	ld	hl,_index_player
2110  07A5  36 01       	ld	(hl),0x01
2111  07A7  21 F4 01    	ld	hl,0x01f4
2112  07AA  CD 00 00    	call	_player_score_add
2113  07AD              l_game_bonus_summary_00107:
2114  07AD  21 C8 00    	ld	hl,0x00c8
2115  07B0  E5          	push	hl
2116  07B1  21 10 1A    	ld	hl,0x1a10
2117  07B4  E5          	push	hl
2118  07B5  3E 12       	ld	a,0x12
2119  07B7  F5          	push	af
2120  07B8  33          	inc	sp
2121  07B9  CD E9 19    	call	_game_colour_message
2122  07BC  F1          	pop	af
2123  07BD  F1          	pop	af
2124  07BE  33          	inc	sp
2125  07BF  18 11       	jr	l_game_bonus_summary_00112
2126  07C1              l_game_bonus_summary_00109:
2127  07C1  21 A9 00    	ld	hl,___str_21
2128  07C4  E5          	push	hl
2129  07C5  21 12 0C    	ld	hl,0x0c12
2130  07C8  E5          	push	hl
2131  07C9  CD 00 00    	call	_zx_print_str
2132  07CC  21 E8 03    	ld	hl,0x03e8
2133  07CF  CD 00 00    	call	_z80_delay_ms_fastcall
2134  07D2              l_game_bonus_summary_00112:
2135  07D2  C9          	ret
2136  07D3              	SECTION rodata_compiler
2137  0083              ___str_19:
2138  0083  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2139  0095  00          	DEFB 0x00
2140  0096              	SECTION rodata_compiler
2141  0096              ___str_20:
2142  0096  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2143  00A8  00          	DEFB 0x00
2144  00A9              	SECTION rodata_compiler
2145  00A9              ___str_21:
2146  00A9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2147  00B1  00          	DEFB 0x00
2148  00B2              	SECTION code_compiler
2149  07D3              ;	---------------------------------
2150  07D3              ; Function game_bonus_summary_player
2151  07D3              ; ---------------------------------
2152  07D3              _game_bonus_summary_player:
2153  07D3  CD 00 00    	call	___sdcc_enter_ix
2154  07D6  F5          	push	af
2155  07D7  3B          	dec	sp
2156  07D8  DD 75 FF    	ld	(ix-1),l
2157  07DB  76          	halt
2158  07DC  DD 7E FF    	ld	a,(ix-1)
2159  07DF  B7          	or	a, a
2160  07E0  20 2C       	jr	NZ,l_game_bonus_summary_player_00102
2161  07E2  21 00 00    	ld	hl,_s_lin1
2162  07E5  36 06       	ld	(hl),0x06
2163  07E7  21 B2 00    	ld	hl,___str_22
2164  07EA  E5          	push	hl
2165  07EB  21 06 07    	ld	hl,0x0706
2166  07EE  E5          	push	hl
2167  07EF  CD 00 00    	call	_zx_print_str
2168  07F2  3A 00 00    	ld	a,(_s_lin1)
2169  07F5  07          	rlca
2170  07F6  07          	rlca
2171  07F7  07          	rlca
2172  07F8  E6 F8       	and	a,0xf8
2173  07FA  C6 04       	add	a,0x02+0x02
2174  07FC  4F          	ld	c, a
2175  07FD  06 04       	ld	b,0x04
2176  07FF  C5          	push	bc
2177  0800  3E 03       	ld	a,0x03
2178  0802  F5          	push	af
2179  0803  33          	inc	sp
2180  0804  CD 00 00    	call	_NIRVANAP_drawT_callee
2181  0807  21 00 00    	ld	hl,_index_player
2182  080A  36 00       	ld	(hl),0x00
2183  080C  18 2A       	jr	l_game_bonus_summary_player_00103
2184  080E              l_game_bonus_summary_player_00102:
2185  080E  21 00 00    	ld	hl,_s_lin1
2186  0811  36 0C       	ld	(hl),0x0c
2187  0813  21 B9 00    	ld	hl,___str_23
2188  0816  E5          	push	hl
2189  0817  21 0C 07    	ld	hl,0x070c
2190  081A  E5          	push	hl
2191  081B  CD 00 00    	call	_zx_print_str
2192  081E  3A 00 00    	ld	a,(_s_lin1)
2193  0821  07          	rlca
2194  0822  07          	rlca
2195  0823  07          	rlca
2196  0824  E6 F8       	and	a,0xf8
2197  0826  C6 04       	add	a,0x02+0x02
2198  0828  4F          	ld	c, a
2199  0829  06 04       	ld	b,0x04
2200  082B  C5          	push	bc
2201  082C  3E 1B       	ld	a,0x1b
2202  082E  F5          	push	af
2203  082F  33          	inc	sp
2204  0830  CD 00 00    	call	_NIRVANAP_drawT_callee
2205  0833  21 00 00    	ld	hl,_index_player
2206  0836  36 01       	ld	(hl),0x01
2207  0838              l_game_bonus_summary_player_00103:
2208  0838  3A 00 00    	ld	a,(_s_lin1)
2209  083B  07          	rlca
2210  083C  07          	rlca
2211  083D  07          	rlca
2212  083E  E6 F8       	and	a,0xf8
2213  0840  C6 08       	add	a,0x08
2214  0842  F5          	push	af
2215  0843  33          	inc	sp
2216  0844  21 07 1F    	ld	hl,0x1f07
2217  0847  E5          	push	hl
2218  0848  CD 6D 0D    	call	_game_paint_attrib_lin
2219  084B  F1          	pop	af
2220  084C  33          	inc	sp
2221  084D  21 00 00    	ld	hl,_tmp_uc
2222  0850  36 00       	ld	(hl),0x00
2223  0852  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2224  0854  DD 86 FF    	add	a,(ix-1)
2225  0857  DD 77 FD    	ld	(ix-3),a
2226  085A  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2227  085C  CE 00       	adc	a,0x00
2228  085E  DD 77 FE    	ld	(ix-2),a
2229  0861              l_game_bonus_summary_player_00107:
2230  0861  E1          	pop	hl
2231  0862  4E          	ld	c,(hl)
2232  0863  3A 00 00    	ld	a,(_tmp_uc)
2233  0866  E5          	push	hl
2234  0867  91          	sub	a, c
2235  0868  30 53       	jr	NC,l_game_bonus_summary_player_00109
2236  086A  3A 00 00    	ld	a,(_s_lin1)
2237  086D  07          	rlca
2238  086E  07          	rlca
2239  086F  07          	rlca
2240  0870  E6 F8       	and	a,0xf8
2241  0872  4F          	ld	c,a
2242  0873  3A 00 00    	ld	a,(_tmp_uc)
2243  0876  D6 03       	sub	a,0x03
2244  0878  30 08       	jr	NC,l_game_bonus_summary_player_00105
2245  087A  79          	ld	a,c
2246  087B  C6 F8       	add	a,0xf8
2247  087D  32 00 00    	ld	(_s_lin0),a
2248  0880  18 06       	jr	l_game_bonus_summary_player_00106
2249  0882              l_game_bonus_summary_player_00105:
2250  0882  79          	ld	a,c
2251  0883  C6 08       	add	a,0x08
2252  0885  32 00 00    	ld	(_s_lin0),a
2253  0888              l_game_bonus_summary_player_00106:
2254  0888  76          	halt
2255  0889  2A 00 00    	ld	hl,(_tmp_uc)
2256  088C  26 03       	ld	h,0x03
2257  088E  E5          	push	hl
2258  088F  CD 00 00    	call	__moduchar_callee
2259  0892  7D          	ld	a,l
2260  0893  87          	add	a, a
2261  0894  C6 0E       	add	a,0x0e
2262  0896  F5          	push	af
2263  0897  33          	inc	sp
2264  0898  3A 00 00    	ld	a,(_s_lin0)
2265  089B  57          	ld	d,a
2266  089C  1E B9       	ld	e,0xb9
2267  089E  D5          	push	de
2268  089F  CD 00 00    	call	_NIRVANAP_drawT_callee
2269  08A2  21 50 00    	ld	hl,0x0050
2270  08A5  CD 00 00    	call	_player_score_add
2271  08A8  21 00 00    	ld	hl,_tmp_uc
2272  08AB  34          	inc	(hl)
2273  08AC  21 00 00    	ld	hl,_ay_effect_09
2274  08AF  CD 00 00    	call	_ay_fx_play
2275  08B2  CD 00 00    	call	_sound_coin
2276  08B5  21 32 00    	ld	hl,0x0032
2277  08B8  CD 00 00    	call	_z80_delay_ms_fastcall
2278  08BB  18 A4       	jr	l_game_bonus_summary_player_00107
2279  08BD              l_game_bonus_summary_player_00109:
2280  08BD  21 BF 00    	ld	hl,___str_24
2281  08C0  E5          	push	hl
2282  08C1  2A 00 00    	ld	hl,(_s_lin1)
2283  08C4  26 16       	ld	h,0x16
2284  08C6  E5          	push	hl
2285  08C7  CD 00 00    	call	_zx_print_str
2286  08CA  DD F9       	ld	sp, ix
2287  08CC  DD E1       	pop	ix
2288  08CE  C9          	ret
2289  08CF              	SECTION rodata_compiler
2290  00B2              ___str_22:
2291  00B2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2292  00B8  00          	DEFB 0x00
2293  00B9              	SECTION rodata_compiler
2294  00B9              ___str_23:
2295  00B9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2296  00BE  00          	DEFB 0x00
2297  00BF              	SECTION rodata_compiler
2298  00BF              ___str_24:
2299  00BF  58 20 38 30 30 
                        	DEFM "X 800"
2300  00C4  00          	DEFB 0x00
2301  00C5              	SECTION code_compiler
2302  08CF              ;	---------------------------------
2303  08CF              ; Function game_kill_all_sprites
2304  08CF              ; ---------------------------------
2305  08CF              _game_kill_all_sprites:
2306  08CF  21 00 00    	ld	hl,_sprite
2307  08D2  36 00       	ld	(hl),0x00
2308  08D4              l_game_kill_all_sprites_00102:
2309  08D4  2A 00 00    	ld	hl,(_sprite)
2310  08D7  CD 00 00    	call	_spr_destroy
2311  08DA  21 00 00    	ld	hl,_sprite
2312  08DD  7E          	ld	a,(hl)
2313  08DE  3C          	inc	a
2314  08DF  77          	ld	(hl),a
2315  08E0  D6 08       	sub	a,0x08
2316  08E2  38 F0       	jr	C,l_game_kill_all_sprites_00102
2317  08E4  C9          	ret
2318  08E5              	SECTION code_compiler
2319  08E5              ;	---------------------------------
2320  08E5              ; Function game_check_maze
2321  08E5              ; ---------------------------------
2322  08E5              _game_check_maze:
2323  08E5  4D          	ld	c,l
2324  08E6  44          	ld	b,h
2325  08E7  21 00 00    	ld	hl,_lvl_1
2326  08EA  09          	add	hl,bc
2327  08EB  7E          	ld	a, (hl)
2328  08EC  D6 10       	sub	a,0x10
2329  08EE  30 0A       	jr	NC,l_game_check_maze_00103
2330  08F0  03          	inc	bc
2331  08F1  21 00 00    	ld	hl,_lvl_1
2332  08F4  09          	add	hl,bc
2333  08F5  7E          	ld	a, (hl)
2334  08F6  D6 10       	sub	a,0x10
2335  08F8  38 04       	jr	C,l_game_check_maze_00104
2336  08FA              l_game_check_maze_00103:
2337  08FA  2E 00       	ld	l,0x00
2338  08FC  18 02       	jr	l_game_check_maze_00105
2339  08FE              l_game_check_maze_00104:
2340  08FE  2E 01       	ld	l,0x01
2341  0900              l_game_check_maze_00105:
2342  0900  C9          	ret
2343  0901              	SECTION code_compiler
2344  0901              ;	---------------------------------
2345  0901              ; Function game_check_floor
2346  0901              ; ---------------------------------
2347  0901              _game_check_floor:
2348  0901  CD 00 00    	call	___sdcc_enter_ix
2349  0904  3B          	dec	sp
2350  0905  11 00 00    	ld	de,_lvl_1+0
2351  0908  4D          	ld	c,l
2352  0909  44          	ld	b,h
2353  090A  6B          	ld	l, e
2354  090B  62          	ld	h, d
2355  090C  09          	add	hl,bc
2356  090D  7E          	ld	a,(hl)
2357  090E  DD 77 FF    	ld	(ix-1),a
2358  0911  69          	ld	l, c
2359  0912  60          	ld	h, b
2360  0913  23          	inc	hl
2361  0914  19          	add	hl,de
2362  0915  6E          	ld	l,(hl)
2363  0916  DD 7E FF    	ld	a,(ix-1)
2364  0919  D6 11       	sub	a,0x11
2365  091B  28 05       	jr	Z,l_game_check_floor_00101
2366  091D  7D          	ld	a,l
2367  091E  D6 11       	sub	a,0x11
2368  0920  20 1C       	jr	NZ,l_game_check_floor_00102
2369  0922              l_game_check_floor_00101:
2370  0922  21 20 00    	ld	hl,0x0020
2371  0925  09          	add	hl,bc
2372  0926  19          	add	hl,de
2373  0927  7E          	ld	a, (hl)
2374  0928  D6 10       	sub	a,0x10
2375  092A  30 0A       	jr	NC,l_game_check_floor_00107
2376  092C  21 21 00    	ld	hl,0x0021
2377  092F  09          	add	hl,bc
2378  0930  19          	add	hl,de
2379  0931  7E          	ld	a, (hl)
2380  0932  D6 10       	sub	a,0x10
2381  0934  38 04       	jr	C,l_game_check_floor_00108
2382  0936              l_game_check_floor_00107:
2383  0936  2E 00       	ld	l,0x00
2384  0938  18 02       	jr	l_game_check_floor_00109
2385  093A              l_game_check_floor_00108:
2386  093A  2E 01       	ld	l,0x01
2387  093C              l_game_check_floor_00109:
2388  093C  18 12       	jr	l_game_check_floor_00105
2389  093E              l_game_check_floor_00102:
2390  093E  DD 7E FF    	ld	a,(ix-1)
2391  0941  D6 10       	sub	a,0x10
2392  0943  30 05       	jr	NC,l_game_check_floor_00110
2393  0945  7D          	ld	a,l
2394  0946  D6 10       	sub	a,0x10
2395  0948  38 04       	jr	C,l_game_check_floor_00111
2396  094A              l_game_check_floor_00110:
2397  094A  2E 00       	ld	l,0x00
2398  094C  18 02       	jr	l_game_check_floor_00112
2399  094E              l_game_check_floor_00111:
2400  094E  2E 01       	ld	l,0x01
2401  0950              l_game_check_floor_00112:
2402  0950              l_game_check_floor_00105:
2403  0950  33          	inc	sp
2404  0951  DD E1       	pop	ix
2405  0953  C9          	ret
2406  0954              	SECTION code_compiler
2407  0954              ;	---------------------------------
2408  0954              ; Function game_enemy_add
2409  0954              ; ---------------------------------
2410  0954              _game_enemy_add:
2411  0954  3A 00 00    	ld	a,(_game_type)
2412  0957  D6 02       	sub	a,0x02
2413  0959  20 05       	jr	NZ,l_game_enemy_add_00106
2414  095B  CD C3 0A    	call	_game_enemy_rnd
2415  095E  18 21       	jr	l_game_enemy_add_00107
2416  0960              l_game_enemy_add_00106:
2417  0960  3A 00 00    	ld	a,(_spr_count)
2418  0963  D6 06       	sub	a,0x06
2419  0965  30 1A       	jr	NC,l_game_enemy_add_00107
2420  0967  21 64 00    	ld	hl,0x0064
2421  096A  E5          	push	hl
2422  096B  2A 00 00    	ld	hl,(_entry_time)
2423  096E  E5          	push	hl
2424  096F  CD 7B 1A    	call	_game_check_time
2425  0972  F1          	pop	af
2426  0973  F1          	pop	af
2427  0974  7D          	ld	a,l
2428  0975  B7          	or	a, a
2429  0976  28 09       	jr	Z,l_game_enemy_add_00107
2430  0978  3A 00 00    	ld	a,(_phase_left)
2431  097B  B7          	or	a, a
2432  097C  28 03       	jr	Z,l_game_enemy_add_00107
2433  097E  CD 84 09    	call	_game_enemy_quota
2434  0981              l_game_enemy_add_00107:
2435  0981  2E 00       	ld	l,0x00
2436  0983  C9          	ret
2437  0984              	SECTION code_compiler
2438  0984              ;	---------------------------------
2439  0984              ; Function game_enemy_quota
2440  0984              ; ---------------------------------
2441  0984              _game_enemy_quota:
2442  0984  3A 00 00    	ld	a,(_phase_left)
2443  0987  B7          	or	a, a
2444  0988  CA 2F 0A    	jp	Z,l_game_enemy_quota_00128
2445  098B  CD 00 00    	call	_rand
2446  098E  7D          	ld	a, l
2447  098F  E6 03       	and	a,0x03
2448  0991  32 00 00    	ld	(_tmp),a
2449  0994  3A 00 00    	ld	a,(_phase_pop)
2450  0997  B7          	or	a, a
2451  0998  28 06       	jr	Z,l_game_enemy_quota_00101
2452  099A  3A 00 00    	ld	a,(_phase_left)
2453  099D  3D          	dec	a
2454  099E  20 05       	jr	NZ,l_game_enemy_quota_00102
2455  09A0              l_game_enemy_quota_00101:
2456  09A0  21 00 00    	ld	hl,_tmp
2457  09A3  36 00       	ld	(hl),0x00
2458  09A5              l_game_enemy_quota_00102:
2459  09A5  21 00 00    	ld	hl,_tmp_sc
2460  09A8  36 00       	ld	(hl),0x00
2461  09AA              l_game_enemy_quota_00124:
2462  09AA  3A 00 00    	ld	a,(_tmp_sc)
2463  09AD  EE 80       	xor	a,0x80
2464  09AF  D6 83       	sub	a,0x83
2465  09B1  D2 2F 0A    	jp	NC,l_game_enemy_quota_00128
2466  09B4  21 00 00    	ld	hl,_tmp
2467  09B7  7E          	ld	a,(hl)
2468  09B8  D6 03       	sub	a,0x03
2469  09BA  30 73       	jr	NC,l_game_enemy_quota_00128
2470  09BC  3E 00       	ld	a,+((_phase_quota) & 0xFF)
2471  09BE  86          	add	a, (hl)
2472  09BF  4F          	ld	c,a
2473  09C0  3E 00       	ld	a,+((_phase_quota) / 256)
2474  09C2  CE 00       	adc	a,0x00
2475  09C4  47          	ld	b,a
2476  09C5  0A          	ld	a,(bc)
2477  09C6  B7          	or	a, a
2478  09C7  28 54       	jr	Z,l_game_enemy_quota_00120
2479  09C9  C6 FF       	add	a,0xff
2480  09CB  02          	ld	(bc),a
2481  09CC  3A 00 00    	ld	a,(_phase_angry)
2482  09CF  B7          	or	a, a
2483  09D0  28 24       	jr	Z,l_game_enemy_quota_00117
2484  09D2  3A 00 00    	ld	a,(_tmp)
2485  09D5  B7          	or	a, a
2486  09D6  20 05       	jr	NZ,l_game_enemy_quota_00105
2487  09D8  2E 03       	ld	l,0x03
2488  09DA  CD F3 0A    	call	_game_enemy_add1
2489  09DD              l_game_enemy_quota_00105:
2490  09DD  3A 00 00    	ld	a,(_tmp)
2491  09E0  3D          	dec	a
2492  09E1  20 05       	jr	NZ,l_game_enemy_quota_00107
2493  09E3  2E 06       	ld	l,0x06
2494  09E5  CD F3 0A    	call	_game_enemy_add1
2495  09E8              l_game_enemy_quota_00107:
2496  09E8  3A 00 00    	ld	a,(_tmp)
2497  09EB  D6 02       	sub	a,0x02
2498  09ED  20 29       	jr	NZ,l_game_enemy_quota_00118
2499  09EF  2E 09       	ld	l,0x09
2500  09F1  CD F3 0A    	call	_game_enemy_add1
2501  09F4  18 22       	jr	l_game_enemy_quota_00118
2502  09F6              l_game_enemy_quota_00117:
2503  09F6  3A 00 00    	ld	a,(_tmp)
2504  09F9  B7          	or	a, a
2505  09FA  20 05       	jr	NZ,l_game_enemy_quota_00111
2506  09FC  2E 01       	ld	l,0x01
2507  09FE  CD F3 0A    	call	_game_enemy_add1
2508  0A01              l_game_enemy_quota_00111:
2509  0A01  3A 00 00    	ld	a,(_tmp)
2510  0A04  3D          	dec	a
2511  0A05  20 05       	jr	NZ,l_game_enemy_quota_00113
2512  0A07  2E 04       	ld	l,0x04
2513  0A09  CD F3 0A    	call	_game_enemy_add1
2514  0A0C              l_game_enemy_quota_00113:
2515  0A0C  3A 00 00    	ld	a,(_tmp)
2516  0A0F  D6 02       	sub	a,0x02
2517  0A11  20 05       	jr	NZ,l_game_enemy_quota_00118
2518  0A13  2E 09       	ld	l,0x09
2519  0A15  CD F3 0A    	call	_game_enemy_add1
2520  0A18              l_game_enemy_quota_00118:
2521  0A18  2E 00       	ld	l,0x00
2522  0A1A  C3 C2 0A    	jp	l_game_enemy_quota_00144
2523  0A1D              l_game_enemy_quota_00120:
2524  0A1D  21 00 00    	ld	hl,_tmp
2525  0A20  34          	inc	(hl)
2526  0A21  3E 02       	ld	a,0x02
2527  0A23  96          	sub	a, (hl)
2528  0A24  30 02       	jr	NC,l_game_enemy_quota_00122
2529  0A26  36 00       	ld	(hl),0x00
2530  0A28              l_game_enemy_quota_00122:
2531  0A28  21 00 00    	ld	hl,_tmp_sc
2532  0A2B  34          	inc	(hl)
2533  0A2C  C3 AA 09    	jp	l_game_enemy_quota_00124
2534  0A2F              l_game_enemy_quota_00128:
2535  0A2F  3A 00 00    	ld	a,(_phase_coins)
2536  0A32  B7          	or	a, a
2537  0A33  28 0A       	jr	Z,l_game_enemy_quota_00130
2538  0A35  2E 08       	ld	l,0x08
2539  0A37  CD F3 0A    	call	_game_enemy_add1
2540  0A3A  2E 00       	ld	l,0x00
2541  0A3C  C3 C2 0A    	jp	l_game_enemy_quota_00144
2542  0A3F              l_game_enemy_quota_00130:
2543  0A3F  CD 00 00    	call	_rand
2544  0A42  7D          	ld	a,l
2545  0A43  E6 03       	and	a,0x03
2546  0A45  44          	ld	b,h
2547  0A46  0E 00       	ld	c,0x00
2548  0A48  CB 79       	bit	7,c
2549  0A4A  20 74       	jr	NZ,l_game_enemy_quota_00143
2550  0A4C  5F          	ld	e,a
2551  0A4D  3E 03       	ld	a,0x03
2552  0A4F  BB          	cp	a, e
2553  0A50  3E 00       	ld	a,0x00
2554  0A52  99          	sbc	a, c
2555  0A53  E2 58 0A    	jp	PO, l_game_enemy_quota_00240
2556  0A56  EE 80       	xor	a,0x80
2557  0A58              l_game_enemy_quota_00240:
2558  0A58  FA C0 0A    	jp	M,l_game_enemy_quota_00143
2559  0A5B  16 00       	ld	d,0x00
2560  0A5D  21 63 0A    	ld	hl,l_game_enemy_quota_00241
2561  0A60  19          	add	hl,de
2562  0A61  19          	add	hl,de
2563  0A62  E9          	jp	(hl)
2564  0A63              l_game_enemy_quota_00241:
2565  0A63  18 06       	jr	l_game_enemy_quota_00131
2566  0A65  18 13       	jr	l_game_enemy_quota_00134
2567  0A67  18 29       	jr	l_game_enemy_quota_00137
2568  0A69  18 3F       	jr	l_game_enemy_quota_00140
2569  0A6B              l_game_enemy_quota_00131:
2570  0A6B  3E 07       	ld	a,0x07
2571  0A6D  21 00 00    	ld	hl,_phase_curr
2572  0A70  96          	sub	a, (hl)
2573  0A71  30 4D       	jr	NC,l_game_enemy_quota_00143
2574  0A73  2E 07       	ld	l,0x07
2575  0A75  CD F3 0A    	call	_game_enemy_add1
2576  0A78  18 46       	jr	l_game_enemy_quota_00143
2577  0A7A              l_game_enemy_quota_00134:
2578  0A7A  2A 00 00    	ld	hl,(_game_time_fireball_start)
2579  0A7D  E5          	push	hl
2580  0A7E  21 00 00    	ld	hl,0x0000
2581  0A81  E5          	push	hl
2582  0A82  CD 7B 1A    	call	_game_check_time
2583  0A85  F1          	pop	af
2584  0A86  F1          	pop	af
2585  0A87  7D          	ld	a,l
2586  0A88  B7          	or	a, a
2587  0A89  28 35       	jr	Z,l_game_enemy_quota_00143
2588  0A8B  2E 0B       	ld	l,0x0b
2589  0A8D  CD F3 0A    	call	_game_enemy_add1
2590  0A90  18 2E       	jr	l_game_enemy_quota_00143
2591  0A92              l_game_enemy_quota_00137:
2592  0A92  2A 00 00    	ld	hl,(_game_time_fireball_start)
2593  0A95  E5          	push	hl
2594  0A96  21 00 00    	ld	hl,0x0000
2595  0A99  E5          	push	hl
2596  0A9A  CD 7B 1A    	call	_game_check_time
2597  0A9D  F1          	pop	af
2598  0A9E  F1          	pop	af
2599  0A9F  7D          	ld	a,l
2600  0AA0  B7          	or	a, a
2601  0AA1  28 1D       	jr	Z,l_game_enemy_quota_00143
2602  0AA3  2E 0B       	ld	l,0x0b
2603  0AA5  CD F3 0A    	call	_game_enemy_add1
2604  0AA8  18 16       	jr	l_game_enemy_quota_00143
2605  0AAA              l_game_enemy_quota_00140:
2606  0AAA  2A 00 00    	ld	hl,(_game_time_fireball_start)
2607  0AAD  E5          	push	hl
2608  0AAE  21 00 00    	ld	hl,0x0000
2609  0AB1  E5          	push	hl
2610  0AB2  CD 7B 1A    	call	_game_check_time
2611  0AB5  F1          	pop	af
2612  0AB6  F1          	pop	af
2613  0AB7  7D          	ld	a,l
2614  0AB8  B7          	or	a, a
2615  0AB9  28 05       	jr	Z,l_game_enemy_quota_00143
2616  0ABB  2E 0A       	ld	l,0x0a
2617  0ABD  CD F3 0A    	call	_game_enemy_add1
2618  0AC0              l_game_enemy_quota_00143:
2619  0AC0  2E 00       	ld	l,0x00
2620  0AC2              l_game_enemy_quota_00144:
2621  0AC2  C9          	ret
2622  0AC3              	SECTION code_compiler
2623  0AC3              ;	---------------------------------
2624  0AC3              ; Function game_enemy_rnd
2625  0AC3              ; ---------------------------------
2626  0AC3              _game_enemy_rnd:
2627  0AC3  3A 00 00    	ld	a,(_spr_count)
2628  0AC6  D6 06       	sub	a,0x06
2629  0AC8  30 26       	jr	NC,l_game_enemy_rnd_00102
2630  0ACA  21 64 00    	ld	hl,0x0064
2631  0ACD  E5          	push	hl
2632  0ACE  2A 00 00    	ld	hl,(_entry_time)
2633  0AD1  E5          	push	hl
2634  0AD2  CD 7B 1A    	call	_game_check_time
2635  0AD5  F1          	pop	af
2636  0AD6  F1          	pop	af
2637  0AD7  7D          	ld	a,l
2638  0AD8  B7          	or	a, a
2639  0AD9  28 15       	jr	Z,l_game_enemy_rnd_00102
2640  0ADB  2A 00 00    	ld	hl,(_curr_time)
2641  0ADE  22 00 00    	ld	(_entry_time),hl
2642  0AE1  CD 00 00    	call	_rand
2643  0AE4  01 0B 00    	ld	bc,0x000b
2644  0AE7  C5          	push	bc
2645  0AE8  E5          	push	hl
2646  0AE9  CD 00 00    	call	__modsint_callee
2647  0AEC  2C          	inc	l
2648  0AED  CD F3 0A    	call	_game_enemy_add1
2649  0AF0              l_game_enemy_rnd_00102:
2650  0AF0  2E 00       	ld	l,0x00
2651  0AF2  C9          	ret
2652  0AF3              	SECTION code_compiler
2653  0AF3              ;	---------------------------------
2654  0AF3              ; Function game_enemy_add1
2655  0AF3              ; ---------------------------------
2656  0AF3              _game_enemy_add1:
2657  0AF3  CD 00 00    	call	___sdcc_enter_ix
2658  0AF6  F5          	push	af
2659  0AF7  45          	ld	b,l
2660  0AF8  78          	ld	a,b
2661  0AF9  D6 0A       	sub	a,0x0a
2662  0AFB  20 04       	jr	NZ,l_game_enemy_add1_00185
2663  0AFD  3E 01       	ld	a,0x01
2664  0AFF  18 01       	jr	l_game_enemy_add1_00186
2665  0B01              l_game_enemy_add1_00185:
2666  0B01  AF          	xor	a,a
2667  0B02              l_game_enemy_add1_00186:
2668  0B02  4F          	ld	c,a
2669  0B03  B7          	or	a, a
2670  0B04  28 0B       	jr	Z,l_game_enemy_add1_00105
2671  0B06  C5          	push	bc
2672  0B07  2E 0A       	ld	l,0x0a
2673  0B09  CD 35 0C    	call	_game_enemy_add_get_index
2674  0B0C  C1          	pop	bc
2675  0B0D  5D          	ld	e,l
2676  0B0E  1C          	inc	e
2677  0B0F  20 2B       	jr	NZ,l_game_enemy_add1_00101
2678  0B11              l_game_enemy_add1_00105:
2679  0B11  78          	ld	a,b
2680  0B12  D6 0B       	sub	a,0x0b
2681  0B14  20 04       	jr	NZ,l_game_enemy_add1_00189
2682  0B16  3E 01       	ld	a,0x01
2683  0B18  18 01       	jr	l_game_enemy_add1_00190
2684  0B1A              l_game_enemy_add1_00189:
2685  0B1A  AF          	xor	a,a
2686  0B1B              l_game_enemy_add1_00190:
2687  0B1B  DD 77 FF    	ld	(ix-1),a
2688  0B1E  B7          	or	a, a
2689  0B1F  28 0B       	jr	Z,l_game_enemy_add1_00107
2690  0B21  C5          	push	bc
2691  0B22  2E 0B       	ld	l,0x0b
2692  0B24  CD 35 0C    	call	_game_enemy_add_get_index
2693  0B27  C1          	pop	bc
2694  0B28  5D          	ld	e,l
2695  0B29  1C          	inc	e
2696  0B2A  20 10       	jr	NZ,l_game_enemy_add1_00101
2697  0B2C              l_game_enemy_add1_00107:
2698  0B2C  78          	ld	a,b
2699  0B2D  D6 07       	sub	a,0x07
2700  0B2F  20 10       	jr	NZ,l_game_enemy_add1_00102
2701  0B31  C5          	push	bc
2702  0B32  2E 07       	ld	l,0x07
2703  0B34  CD 35 0C    	call	_game_enemy_add_get_index
2704  0B37  C1          	pop	bc
2705  0B38  5D          	ld	e,l
2706  0B39  1C          	inc	e
2707  0B3A  28 05       	jr	Z,l_game_enemy_add1_00102
2708  0B3C              l_game_enemy_add1_00101:
2709  0B3C  2E 00       	ld	l,0x00
2710  0B3E  C3 31 0C    	jp	l_game_enemy_add1_00131
2711  0B41              l_game_enemy_add1_00102:
2712  0B41  21 00 00    	ld	hl,_phase_pop
2713  0B44  34          	inc	(hl)
2714  0B45  C5          	push	bc
2715  0B46  CD 00 00    	call	_sound_enter_enemy
2716  0B49  2E 00       	ld	l,0x00
2717  0B4B  CD 35 0C    	call	_game_enemy_add_get_index
2718  0B4E  C1          	pop	bc
2719  0B4F  7D          	ld	a,l
2720  0B50  32 00 00    	ld	(_tmp),a
2721  0B53  C5          	push	bc
2722  0B54  CD 00 00    	call	_rand
2723  0B57  C1          	pop	bc
2724  0B58  7D          	ld	a, l
2725  0B59  E6 01       	and	a,0x01
2726  0B5B  32 00 00    	ld	(_tmp0),a
2727  0B5E  3D          	dec	a
2728  0B5F  20 1C       	jr	NZ,l_game_enemy_add1_00113
2729  0B61  21 00 00    	ld	hl,_s_lin0
2730  0B64  36 10       	ld	(hl),0x10
2731  0B66  21 00 00    	ld	hl,_s_col0
2732  0B69  36 04       	ld	(hl),0x04
2733  0B6B  21 00 00    	ld	hl,_s_col1
2734  0B6E  36 02       	ld	(hl),0x02
2735  0B70  79          	ld	a,c
2736  0B71  B7          	or	a, a
2737  0B72  28 02       	jr	Z,l_game_enemy_add1_00109
2738  0B74  36 03       	ld	(hl),0x03
2739  0B76              l_game_enemy_add1_00109:
2740  0B76  21 00 00    	ld	hl,_tmp1
2741  0B79  36 01       	ld	(hl),0x01
2742  0B7B  18 1A       	jr	l_game_enemy_add1_00114
2743  0B7D              l_game_enemy_add1_00113:
2744  0B7D  21 00 00    	ld	hl,_s_lin0
2745  0B80  36 10       	ld	(hl),0x10
2746  0B82  21 00 00    	ld	hl,_s_col0
2747  0B85  36 1A       	ld	(hl),0x1a
2748  0B87  21 00 00    	ld	hl,_s_col1
2749  0B8A  36 1E       	ld	(hl),0x1e
2750  0B8C  79          	ld	a,c
2751  0B8D  B7          	or	a, a
2752  0B8E  28 02       	jr	Z,l_game_enemy_add1_00111
2753  0B90  36 1C       	ld	(hl),0x1c
2754  0B92              l_game_enemy_add1_00111:
2755  0B92  21 00 00    	ld	hl,_tmp1
2756  0B95  36 FF       	ld	(hl),0xff
2757  0B97              l_game_enemy_add1_00114:
2758  0B97  78          	ld	a,b
2759  0B98  D6 08       	sub	a,0x08
2760  0B9A  20 04       	jr	NZ,l_game_enemy_add1_00198
2761  0B9C  3E 01       	ld	a,0x01
2762  0B9E  18 01       	jr	l_game_enemy_add1_00199
2763  0BA0              l_game_enemy_add1_00198:
2764  0BA0  AF          	xor	a,a
2765  0BA1              l_game_enemy_add1_00199:
2766  0BA1  DD 77 FE    	ld	(ix-2),a
2767  0BA4  B7          	or	a, a
2768  0BA5  28 04       	jr	Z,l_game_enemy_add1_00116
2769  0BA7  21 00 00    	ld	hl,_phase_coins
2770  0BAA  35          	dec	(hl)
2771  0BAB              l_game_enemy_add1_00116:
2772  0BAB  21 00 00    	ld	hl,_tmp_uc
2773  0BAE  36 00       	ld	(hl),0x00
2774  0BB0  DD 7E FF    	ld	a,(ix-1)
2775  0BB3  B7          	or	a,a
2776  0BB4  20 03       	jr	NZ,l_game_enemy_add1_00123
2777  0BB6  B1          	or	a,c
2778  0BB7  28 35       	jr	Z,l_game_enemy_add1_00124
2779  0BB9              l_game_enemy_add1_00123:
2780  0BB9  C5          	push	bc
2781  0BBA  CD 00 00    	call	_rand
2782  0BBD  11 03 00    	ld	de,0x0003
2783  0BC0  D5          	push	de
2784  0BC1  E5          	push	hl
2785  0BC2  CD 00 00    	call	__modsint_callee
2786  0BC5  C1          	pop	bc
2787  0BC6  5D          	ld	e,l
2788  0BC7  21 00 00    	ld	hl,_tmp_uc
2789  0BCA  73          	ld	(hl),e
2790  0BCB  7B          	ld	a,e
2791  0BCC  B7          	or	a, a
2792  0BCD  20 02       	jr	NZ,l_game_enemy_add1_00118
2793  0BCF  36 10       	ld	(hl),0x10
2794  0BD1              l_game_enemy_add1_00118:
2795  0BD1  3A 00 00    	ld	a,(_tmp_uc)
2796  0BD4  3D          	dec	a
2797  0BD5  20 05       	jr	NZ,l_game_enemy_add1_00120
2798  0BD7  21 00 00    	ld	hl,_tmp_uc
2799  0BDA  36 38       	ld	(hl),0x38
2800  0BDC              l_game_enemy_add1_00120:
2801  0BDC  3A 00 00    	ld	a,(_tmp_uc)
2802  0BDF  D6 02       	sub	a,0x02
2803  0BE1  20 05       	jr	NZ,l_game_enemy_add1_00122
2804  0BE3  21 00 00    	ld	hl,_tmp_uc
2805  0BE6  36 84       	ld	(hl),0x84
2806  0BE8              l_game_enemy_add1_00122:
2807  0BE8  3A 00 00    	ld	a,(_s_col1)
2808  0BEB  32 00 00    	ld	(_s_col0),a
2809  0BEE              l_game_enemy_add1_00124:
2810  0BEE  CD 00 00    	call	_ay_is_playing
2811  0BF1  7D          	ld	a,l
2812  0BF2  D6 02       	sub	a,0x02
2813  0BF4  30 14       	jr	NC,l_game_enemy_add1_00130
2814  0BF6  DD 7E FE    	ld	a,(ix-2)
2815  0BF9  B7          	or	a, a
2816  0BFA  20 08       	jr	NZ,l_game_enemy_add1_00127
2817  0BFC  21 00 00    	ld	hl,_ay_effect_04
2818  0BFF  CD 00 00    	call	_ay_fx_play
2819  0C02  18 06       	jr	l_game_enemy_add1_00130
2820  0C04              l_game_enemy_add1_00127:
2821  0C04  21 00 00    	ld	hl,_ay_effect_07
2822  0C07  CD 00 00    	call	_ay_fx_play
2823  0C0A              l_game_enemy_add1_00130:
2824  0C0A  2A 00 00    	ld	hl,(_curr_time)
2825  0C0D  22 00 00    	ld	(_entry_time),hl
2826  0C10  3A 00 00    	ld	a,(_s_lin0)
2827  0C13  21 00 00    	ld	hl,_tmp_uc
2828  0C16  86          	add	a, (hl)
2829  0C17  57          	ld	d,a
2830  0C18  3A 00 00    	ld	a,(_tmp1)
2831  0C1B  48          	ld	c,b
2832  0C1C  47          	ld	b,a
2833  0C1D  3A 00 00    	ld	a,(_s_col0)
2834  0C20  C5          	push	bc
2835  0C21  5A          	ld	e,d
2836  0C22  57          	ld	d,a
2837  0C23  3A 00 00    	ld	a,(_tmp)
2838  0C26  D5          	push	de
2839  0C27  F5          	push	af
2840  0C28  33          	inc	sp
2841  0C29  CD 00 00    	call	_enemy_init
2842  0C2C  F1          	pop	af
2843  0C2D  F1          	pop	af
2844  0C2E  33          	inc	sp
2845  0C2F  2E 00       	ld	l,0x00
2846  0C31              l_game_enemy_add1_00131:
2847  0C31  F1          	pop	af
2848  0C32  DD E1       	pop	ix
2849  0C34  C9          	ret
2850  0C35              	SECTION code_compiler
2851  0C35              ;	---------------------------------
2852  0C35              ; Function game_enemy_add_get_index
2853  0C35              ; ---------------------------------
2854  0C35              _game_enemy_add_get_index:
2855  0C35  4D          	ld	c,l
2856  0C36  21 00 00    	ld	hl,_enemies
2857  0C39  36 00       	ld	(hl),0x00
2858  0C3B              l_game_enemy_add_get_index_00104:
2859  0C3B  2A 00 00    	ld	hl,(_enemies)
2860  0C3E  26 00       	ld	h,0x00
2861  0C40  11 00 00    	ld	de,_class
2862  0C43  19          	add	hl,de
2863  0C44  46          	ld	b, (hl)
2864  0C45  79          	ld	a,c
2865  0C46  90          	sub	a,b
2866  0C47  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2867  0C49  2A 00 00    	ld	hl,(_enemies)
2868  0C4C  18 0B       	jr	l_game_enemy_add_get_index_00106
2869  0C4E              l_game_enemy_add_get_index_00105:
2870  0C4E  21 00 00    	ld	hl,_enemies
2871  0C51  34          	inc	(hl)
2872  0C52  3E 05       	ld	a,0x05
2873  0C54  96          	sub	a, (hl)
2874  0C55  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2875  0C57  2E FF       	ld	l,0xff
2876  0C59              l_game_enemy_add_get_index_00106:
2877  0C59  C9          	ret
2878  0C5A              	SECTION code_compiler
2879  0C5A              ;	---------------------------------
2880  0C5A              ; Function game_freeze
2881  0C5A              ; ---------------------------------
2882  0C5A              _game_freeze:
2883  0C5A  CD 00 00    	call	___sdcc_enter_ix
2884  0C5D  DD 7E 05    	ld	a,(ix+5)
2885  0C60  D6 1F       	sub	a,0x1f
2886  0C62  30 5F       	jr	NC,l_game_freeze_00107
2887  0C64  21 00 00    	ld	hl,_tmp
2888  0C67  36 01       	ld	(hl),0x01
2889  0C69  DD 66 05    	ld	h,(ix+5)
2890  0C6C  DD 6E 04    	ld	l,(ix+4)
2891  0C6F  E5          	push	hl
2892  0C70  CD 00 00    	call	_game_calc_index
2893  0C73  F1          	pop	af
2894  0C74  22 00 00    	ld	(_index1),hl
2895  0C77  01 00 00    	ld	bc,_lvl_1
2896  0C7A  09          	add	hl,bc
2897  0C7B  7E          	ld	a,(hl)
2898  0C7C  D6 12       	sub	a,0x12
2899  0C7E  20 43       	jr	NZ,l_game_freeze_00107
2900  0C80  36 14       	ld	(hl),0x14
2901  0C82  76          	halt
2902  0C83  DD 7E 05    	ld	a,(ix+5)
2903  0C86  F5          	push	af
2904  0C87  33          	inc	sp
2905  0C88  DD 56 04    	ld	d,(ix+4)
2906  0C8B  1E 8B       	ld	e,0x8b
2907  0C8D  D5          	push	de
2908  0C8E  CD 00 00    	call	_NIRVANAP_drawT_callee
2909  0C91  ED 4B 00 00 	ld	bc,(_index1)
2910  0C95  03          	inc	bc
2911  0C96  21 00 00    	ld	hl,_lvl_1
2912  0C99  09          	add	hl,bc
2913  0C9A  4E          	ld	c,(hl)
2914  0C9B  DD 46 05    	ld	b,(ix+5)
2915  0C9E  04          	inc	b
2916  0C9F  79          	ld	a,c
2917  0CA0  B7          	or	a, a
2918  0CA1  20 0C       	jr	NZ,l_game_freeze_00102
2919  0CA3  C5          	push	bc
2920  0CA4  DD 4E 04    	ld	c,(ix+4)
2921  0CA7  C5          	push	bc
2922  0CA8  AF          	xor	a, a
2923  0CA9  F5          	push	af
2924  0CAA  33          	inc	sp
2925  0CAB  CD 00 00    	call	_NIRVANAP_fillT_callee
2926  0CAE  C1          	pop	bc
2927  0CAF              l_game_freeze_00102:
2928  0CAF  DD 4E 04    	ld	c,(ix+4)
2929  0CB2  C5          	push	bc
2930  0CB3  CD 5A 0C    	call	_game_freeze
2931  0CB6  F1          	pop	af
2932  0CB7  DD 46 05    	ld	b,(ix+5)
2933  0CBA  05          	dec	b
2934  0CBB  DD 4E 04    	ld	c,(ix+4)
2935  0CBE  C5          	push	bc
2936  0CBF  CD 5A 0C    	call	_game_freeze
2937  0CC2  F1          	pop	af
2938  0CC3              l_game_freeze_00107:
2939  0CC3  DD E1       	pop	ix
2940  0CC5  C9          	ret
2941  0CC6              	SECTION code_compiler
2942  0CC6              ;	---------------------------------
2943  0CC6              ; Function game_unfreeze_all
2944  0CC6              ; ---------------------------------
2945  0CC6              _game_unfreeze_all:
2946  0CC6  21 C0 00    	ld	hl,0x00c0
2947  0CC9  22 00 00    	ld	(_index1),hl
2948  0CCC              l_game_unfreeze_all_00104:
2949  0CCC  01 00 00    	ld	bc,_lvl_1
2950  0CCF  2A 00 00    	ld	hl,(_index1)
2951  0CD2  09          	add	hl,bc
2952  0CD3  7E          	ld	a,(hl)
2953  0CD4  D6 14       	sub	a,0x14
2954  0CD6  20 02       	jr	NZ,l_game_unfreeze_all_00105
2955  0CD8  36 12       	ld	(hl),0x12
2956  0CDA              l_game_unfreeze_all_00105:
2957  0CDA  21 00 00    	ld	hl,_index1
2958  0CDD  34          	inc	(hl)
2959  0CDE  20 02       	jr	NZ,l_game_unfreeze_all_00118
2960  0CE0  23          	inc	hl
2961  0CE1  34          	inc	(hl)
2962  0CE2              l_game_unfreeze_all_00118:
2963  0CE2  3E 20       	ld	a,0x20
2964  0CE4  21 00 00    	ld	hl,_index1
2965  0CE7  BE          	cp	a, (hl)
2966  0CE8  3E 02       	ld	a,0x02
2967  0CEA  23          	inc	hl
2968  0CEB  9E          	sbc	a, (hl)
2969  0CEC  30 DE       	jr	NC,l_game_unfreeze_all_00104
2970  0CEE  C9          	ret
2971  0CEF              	SECTION code_compiler
2972  0CEF              ;	---------------------------------
2973  0CEF              ; Function game_freeze_all
2974  0CEF              ; ---------------------------------
2975  0CEF              _game_freeze_all:
2976  0CEF  21 C0 00    	ld	hl,0x00c0
2977  0CF2  22 00 00    	ld	(_index1),hl
2978  0CF5              l_game_freeze_all_00104:
2979  0CF5  01 00 00    	ld	bc,_lvl_1
2980  0CF8  2A 00 00    	ld	hl,(_index1)
2981  0CFB  09          	add	hl,bc
2982  0CFC  7E          	ld	a,(hl)
2983  0CFD  D6 12       	sub	a,0x12
2984  0CFF  20 02       	jr	NZ,l_game_freeze_all_00105
2985  0D01  36 14       	ld	(hl),0x14
2986  0D03              l_game_freeze_all_00105:
2987  0D03  21 00 00    	ld	hl,_index1
2988  0D06  34          	inc	(hl)
2989  0D07  20 02       	jr	NZ,l_game_freeze_all_00118
2990  0D09  23          	inc	hl
2991  0D0A  34          	inc	(hl)
2992  0D0B              l_game_freeze_all_00118:
2993  0D0B  3E 20       	ld	a,0x20
2994  0D0D  21 00 00    	ld	hl,_index1
2995  0D10  BE          	cp	a, (hl)
2996  0D11  3E 02       	ld	a,0x02
2997  0D13  23          	inc	hl
2998  0D14  9E          	sbc	a, (hl)
2999  0D15  30 DE       	jr	NC,l_game_freeze_all_00104
3000  0D17  C9          	ret
3001  0D18              	SECTION code_compiler
3002  0D18              ;	---------------------------------
3003  0D18              ; Function game_print_score
3004  0D18              ; ---------------------------------
3005  0D18              _game_print_score:
3006  0D18  21 00 00    	ld	hl,_screen_ink
3007  0D1B  36 07       	ld	(hl),0x07
3008  0D1D  21 00 00    	ld	hl,_screen_paper
3009  0D20  36 00       	ld	(hl),0x00
3010  0D22  2A 00 00    	ld	hl,(_player_score)
3011  0D25  E5          	push	hl
3012  0D26  21 00 03    	ld	hl,0x0300
3013  0D29  E5          	push	hl
3014  0D2A  CD 00 00    	call	_zx_print_int
3015  0D2D  2A 00 00    	ld	hl,(_game_score_top)
3016  0D30  E5          	push	hl
3017  0D31  21 00 0E    	ld	hl,0x0e00
3018  0D34  E5          	push	hl
3019  0D35  CD 00 00    	call	_zx_print_int
3020  0D38  3A 00 00    	ld	a,(_game_two_player)
3021  0D3B  B7          	or	a, a
3022  0D3C  C8          	ret	Z
3023  0D3D  2A 02 00    	ld	hl, (_player_score + 2)
3024  0D40  E5          	push	hl
3025  0D41  21 00 18    	ld	hl,0x1800
3026  0D44  E5          	push	hl
3027  0D45  CD 00 00    	call	_zx_print_int
3028  0D48  C9          	ret
3029  0D49              	SECTION code_compiler
3030  0D49              ;	---------------------------------
3031  0D49              ; Function game_paint_attrib
3032  0D49              ; ---------------------------------
3033  0D49              _game_paint_attrib:
3034  0D49  7D          	ld	a,l
3035  0D4A  32 00 00    	ld	(_tmp0),a
3036  0D4D              l_game_paint_attrib_00103:
3037  0D4D  3E 13       	ld	a,0x13
3038  0D4F  21 00 00    	ld	hl,_tmp0
3039  0D52  96          	sub	a, (hl)
3040  0D53  D8          	ret	C
3041  0D54  7E          	ld	a,(hl)
3042  0D55  07          	rlca
3043  0D56  07          	rlca
3044  0D57  07          	rlca
3045  0D58  E6 F8       	and	a,0xf8
3046  0D5A  C6 08       	add	a,0x08
3047  0D5C  F5          	push	af
3048  0D5D  33          	inc	sp
3049  0D5E  21 01 1F    	ld	hl,0x1f01
3050  0D61  E5          	push	hl
3051  0D62  CD 6D 0D    	call	_game_paint_attrib_lin
3052  0D65  F1          	pop	af
3053  0D66  33          	inc	sp
3054  0D67  21 00 00    	ld	hl,_tmp0
3055  0D6A  34          	inc	(hl)
3056  0D6B  18 E0       	jr	l_game_paint_attrib_00103
3057  0D6D              	SECTION code_compiler
3058  0D6D              ;	---------------------------------
3059  0D6D              ; Function game_paint_attrib_lin
3060  0D6D              ; ---------------------------------
3061  0D6D              _game_paint_attrib_lin:
3062  0D6D  CD 00 00    	call	___sdcc_enter_ix
3063  0D70  DD 7E 04    	ld	a,(ix+4)
3064  0D73  32 00 00    	ld	(_tmp_uc),a
3065  0D76              l_game_paint_attrib_lin_00103:
3066  0D76  21 00 00    	ld	hl,_tmp_uc
3067  0D79  7E          	ld	a,(hl)
3068  0D7A  DD 96 05    	sub	a,(ix+5)
3069  0D7D  30 12       	jr	NC,l_game_paint_attrib_lin_00105
3070  0D7F  66          	ld	h,(hl)
3071  0D80  DD 6E 06    	ld	l,(ix+6)
3072  0D83  E5          	push	hl
3073  0D84  21 00 00    	ld	hl,_attrib
3074  0D87  E5          	push	hl
3075  0D88  CD 00 00    	call	_NIRVANAP_paintC_callee
3076  0D8B  21 00 00    	ld	hl,_tmp_uc
3077  0D8E  34          	inc	(hl)
3078  0D8F  18 E5       	jr	l_game_paint_attrib_lin_00103
3079  0D91              l_game_paint_attrib_lin_00105:
3080  0D91  DD E1       	pop	ix
3081  0D93  C9          	ret
3082  0D94              	SECTION code_compiler
3083  0D94              ;	---------------------------------
3084  0D94              ; Function game_paint_attrib_lin_h
3085  0D94              ; ---------------------------------
3086  0D94              _game_paint_attrib_lin_h:
3087  0D94  CD 00 00    	call	___sdcc_enter_ix
3088  0D97  DD 7E 04    	ld	a,(ix+4)
3089  0D9A  32 00 00    	ld	(_tmp_uc),a
3090  0D9D              l_game_paint_attrib_lin_h_00103:
3091  0D9D  21 00 00    	ld	hl,_tmp_uc
3092  0DA0  7E          	ld	a,(hl)
3093  0DA1  DD 96 05    	sub	a,(ix+5)
3094  0DA4  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3095  0DA6  66          	ld	h,(hl)
3096  0DA7  DD 6E 06    	ld	l,(ix+6)
3097  0DAA  E5          	push	hl
3098  0DAB  21 00 00    	ld	hl,_attrib_hl
3099  0DAE  E5          	push	hl
3100  0DAF  CD 00 00    	call	_NIRVANAP_paintC_callee
3101  0DB2  21 00 00    	ld	hl,_tmp_uc
3102  0DB5  34          	inc	(hl)
3103  0DB6  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3104  0DB8              l_game_paint_attrib_lin_h_00105:
3105  0DB8  DD E1       	pop	ix
3106  0DBA  C9          	ret
3107  0DBB              	SECTION code_compiler
3108  0DBB              ;	---------------------------------
3109  0DBB              ; Function game_menu_config
3110  0DBB              ; ---------------------------------
3111  0DBB              _game_menu_config:
3112  0DBB  CD 00 00    	call	___sdcc_enter_ix
3113  0DBE  F5          	push	af
3114  0DBF  3B          	dec	sp
3115  0DC0  2E 0B       	ld	l,0x0b
3116  0DC2  CD 49 0D    	call	_game_paint_attrib
3117  0DC5  DD 36 FD 01 	ld	(ix-3),0x01
3118  0DC9              l_game_menu_config_00116:
3119  0DC9  DD 7E FD    	ld	a,(ix-3)
3120  0DCC  B7          	or	a, a
3121  0DCD  CA 27 0F    	jp	Z,l_game_menu_config_00119
3122  0DD0              l_game_menu_config_00101:
3123  0DD0  21 00 00    	ld	hl,_k1
3124  0DD3  E5          	push	hl
3125  0DD4  2A 00 00    	ld	hl,(_joyfunc1)
3126  0DD7  CD 00 00    	call	___sdcc_call_hl
3127  0DDA  F1          	pop	af
3128  0DDB  7C          	ld	a,h
3129  0DDC  B5          	or	a,l
3130  0DDD  20 F1       	jr	NZ,l_game_menu_config_00101
3131  0DDF  3A 00 00    	ld	a,(_spec128)
3132  0DE2  B7          	or	a,a
3133  0DE3  28 0A       	jr	Z,l_game_menu_config_00121
3134  0DE5  DD 36 FE C5 	ld	(ix-2),+((___str_25) & 0xFF)
3135  0DE9  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3136  0DED  18 08       	jr	l_game_menu_config_00122
3137  0DEF              l_game_menu_config_00121:
3138  0DEF  DD 36 FE D0 	ld	(ix-2),+((___str_26) & 0xFF)
3139  0DF3  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3140  0DF7              l_game_menu_config_00122:
3141  0DF7  DD 4E FE    	ld	c,(ix-2)
3142  0DFA  DD 46 FF    	ld	b,(ix-1)
3143  0DFD  C5          	push	bc
3144  0DFE  21 0E 0A    	ld	hl,0x0a0e
3145  0E01  E5          	push	hl
3146  0E02  CD 00 00    	call	_zx_print_str
3147  0E05  21 DB 00    	ld	hl,___str_27
3148  0E08  E5          	push	hl
3149  0E09  21 0F 0A    	ld	hl,0x0a0f
3150  0E0C  E5          	push	hl
3151  0E0D  CD 00 00    	call	_zx_print_str
3152  0E10  21 E6 00    	ld	hl,___str_28
3153  0E13  E5          	push	hl
3154  0E14  21 10 0A    	ld	hl,0x0a10
3155  0E17  E5          	push	hl
3156  0E18  CD 00 00    	call	_zx_print_str
3157  0E1B  21 F1 00    	ld	hl,___str_29
3158  0E1E  E5          	push	hl
3159  0E1F  21 11 0A    	ld	hl,0x0a11
3160  0E22  E5          	push	hl
3161  0E23  CD 00 00    	call	_zx_print_str
3162  0E26  21 FC 00    	ld	hl,___str_30
3163  0E29  E5          	push	hl
3164  0E2A  21 12 0A    	ld	hl,0x0a12
3165  0E2D  E5          	push	hl
3166  0E2E  CD 00 00    	call	_zx_print_str
3167  0E31  3A 00 00    	ld	a,(_game_sound)
3168  0E34  E6 05       	and	a,0x05
3169  0E36  28 05       	jr	Z,l_game_menu_config_00123
3170  0E38  01 07 01    	ld	bc,___str_31
3171  0E3B  18 03       	jr	l_game_menu_config_00124
3172  0E3D              l_game_menu_config_00123:
3173  0E3D  01 0B 01    	ld	bc,___str_32
3174  0E40              l_game_menu_config_00124:
3175  0E40  C5          	push	bc
3176  0E41  21 0E 14    	ld	hl,0x140e
3177  0E44  E5          	push	hl
3178  0E45  CD 00 00    	call	_zx_print_str
3179  0E48  3E 02       	ld	a,0x02
3180  0E4A  21 00 00    	ld	hl,_game_type
3181  0E4D  96          	sub	a, (hl)
3182  0E4E  38 34       	jr	C,l_game_menu_config_00107
3183  0E50  5E          	ld	e,(hl)
3184  0E51  16 00       	ld	d,0x00
3185  0E53  21 59 0E    	ld	hl,l_game_menu_config_00164
3186  0E56  19          	add	hl,de
3187  0E57  19          	add	hl,de
3188  0E58  E9          	jp	(hl)
3189  0E59              l_game_menu_config_00164:
3190  0E59  18 04       	jr	l_game_menu_config_00104
3191  0E5B  18 0F       	jr	l_game_menu_config_00105
3192  0E5D  18 1A       	jr	l_game_menu_config_00106
3193  0E5F              l_game_menu_config_00104:
3194  0E5F  21 0F 01    	ld	hl,___str_33
3195  0E62  E5          	push	hl
3196  0E63  21 0F 14    	ld	hl,0x140f
3197  0E66  E5          	push	hl
3198  0E67  CD 00 00    	call	_zx_print_str
3199  0E6A  18 18       	jr	l_game_menu_config_00107
3200  0E6C              l_game_menu_config_00105:
3201  0E6C  21 13 01    	ld	hl,___str_34
3202  0E6F  E5          	push	hl
3203  0E70  21 0F 14    	ld	hl,0x140f
3204  0E73  E5          	push	hl
3205  0E74  CD 00 00    	call	_zx_print_str
3206  0E77  18 0B       	jr	l_game_menu_config_00107
3207  0E79              l_game_menu_config_00106:
3208  0E79  21 17 01    	ld	hl,___str_35
3209  0E7C  E5          	push	hl
3210  0E7D  21 0F 14    	ld	hl,0x140f
3211  0E80  E5          	push	hl
3212  0E81  CD 00 00    	call	_zx_print_str
3213  0E84              l_game_menu_config_00107:
3214  0E84  2A 00 00    	ld	hl,(_player_joy)
3215  0E87  29          	add	hl, hl
3216  0E88  11 00 00    	ld	de,_joynames
3217  0E8B  19          	add	hl,de
3218  0E8C  4E          	ld	c,(hl)
3219  0E8D  23          	inc	hl
3220  0E8E  46          	ld	b,(hl)
3221  0E8F  C5          	push	bc
3222  0E90  21 10 14    	ld	hl,0x1410
3223  0E93  E5          	push	hl
3224  0E94  CD 00 00    	call	_zx_print_str
3225  0E97  2A 02 00    	ld	hl, (_player_joy + 2)
3226  0E9A  29          	add	hl, hl
3227  0E9B  11 00 00    	ld	de,_joynames
3228  0E9E  19          	add	hl,de
3229  0E9F  4E          	ld	c,(hl)
3230  0EA0  23          	inc	hl
3231  0EA1  46          	ld	b,(hl)
3232  0EA2  C5          	push	bc
3233  0EA3  21 11 14    	ld	hl,0x1411
3234  0EA6  E5          	push	hl
3235  0EA7  CD 00 00    	call	_zx_print_str
3236  0EAA  21 00 00    	ld	hl,0x0000
3237  0EAD  E5          	push	hl
3238  0EAE  21 0E 12    	ld	hl,0x120e
3239  0EB1  E5          	push	hl
3240  0EB2  21 0A 01    	ld	hl,0x010a
3241  0EB5  E5          	push	hl
3242  0EB6  CD E0 11    	call	_game_menu_handle
3243  0EB9  F1          	pop	af
3244  0EBA  F1          	pop	af
3245  0EBB  F1          	pop	af
3246  0EBC  7D          	ld	a,l
3247  0EBD  32 00 00    	ld	(_game_menu_sel),a
3248  0EC0  21 00 00    	ld	hl,_ay_effect_10
3249  0EC3  CD 00 00    	call	_ay_fx_play
3250  0EC6  CD 00 00    	call	_sound_coin
3251  0EC9  3E 04       	ld	a,0x04
3252  0ECB  21 00 00    	ld	hl,_game_menu_sel
3253  0ECE  96          	sub	a, (hl)
3254  0ECF  DA C9 0D    	jp	C,l_game_menu_config_00116
3255  0ED2  5E          	ld	e,(hl)
3256  0ED3  16 00       	ld	d,0x00
3257  0ED5  21 DB 0E    	ld	hl,l_game_menu_config_00165
3258  0ED8  19          	add	hl,de
3259  0ED9  19          	add	hl,de
3260  0EDA  E9          	jp	(hl)
3261  0EDB              l_game_menu_config_00165:
3262  0EDB  18 08       	jr	l_game_menu_config_00108
3263  0EDD  18 1A       	jr	l_game_menu_config_00109
3264  0EDF  18 27       	jr	l_game_menu_config_00112
3265  0EE1  18 2D       	jr	l_game_menu_config_00113
3266  0EE3  18 33       	jr	l_game_menu_config_00114
3267  0EE5              l_game_menu_config_00108:
3268  0EE5  3A 00 00    	ld	a,(_spec128)
3269  0EE8  B7          	or	a, a
3270  0EE9  28 04       	jr	Z,l_game_menu_config_00125
3271  0EEB  3E 04       	ld	a,0x04
3272  0EED  18 02       	jr	l_game_menu_config_00126
3273  0EEF              l_game_menu_config_00125:
3274  0EEF  3E 01       	ld	a,0x01
3275  0EF1              l_game_menu_config_00126:
3276  0EF1  21 00 00    	ld	hl,_game_sound
3277  0EF4  AE          	xor	a, (hl)
3278  0EF5  77          	ld	(hl),a
3279  0EF6  C3 C9 0D    	jp	l_game_menu_config_00116
3280  0EF9              l_game_menu_config_00109:
3281  0EF9  21 00 00    	ld	hl,_game_type
3282  0EFC  34          	inc	(hl)
3283  0EFD  3E 02       	ld	a,0x02
3284  0EFF  96          	sub	a, (hl)
3285  0F00  D2 C9 0D    	jp	NC,l_game_menu_config_00116
3286  0F03  36 00       	ld	(hl),0x00
3287  0F05  C3 C9 0D    	jp	l_game_menu_config_00116
3288  0F08              l_game_menu_config_00112:
3289  0F08  2E 00       	ld	l,0x00
3290  0F0A  CD 2C 0F    	call	_game_joystick_change
3291  0F0D  C3 C9 0D    	jp	l_game_menu_config_00116
3292  0F10              l_game_menu_config_00113:
3293  0F10  2E 01       	ld	l,0x01
3294  0F12  CD 2C 0F    	call	_game_joystick_change
3295  0F15  C3 C9 0D    	jp	l_game_menu_config_00116
3296  0F18              l_game_menu_config_00114:
3297  0F18  21 00 00    	ld	hl,_game_menu_sel
3298  0F1B  36 00       	ld	(hl),0x00
3299  0F1D  CD B2 10    	call	_game_menu_paint
3300  0F20  DD 36 FD 00 	ld	(ix-3),0x00
3301  0F24  C3 C9 0D    	jp	l_game_menu_config_00116
3302  0F27              l_game_menu_config_00119:
3303  0F27  DD F9       	ld	sp, ix
3304  0F29  DD E1       	pop	ix
3305  0F2B  C9          	ret
3306  0F2C              	SECTION rodata_compiler
3307  00C5              ___str_25:
3308  00C5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3309  00CF  00          	DEFB 0x00
3310  00D0              	SECTION rodata_compiler
3311  00D0              ___str_26:
3312  00D0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3313  00DA  00          	DEFB 0x00
3314  00DB              	SECTION rodata_compiler
3315  00DB              ___str_27:
3316  00DB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3317  00E5  00          	DEFB 0x00
3318  00E6              	SECTION rodata_compiler
3319  00E6              ___str_28:
3320  00E6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3321  00F0  00          	DEFB 0x00
3322  00F1              	SECTION rodata_compiler
3323  00F1              ___str_29:
3324  00F1  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3325  00FB  00          	DEFB 0x00
3326  00FC              	SECTION rodata_compiler
3327  00FC              ___str_30:
3328  00FC  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3329  0106  00          	DEFB 0x00
3330  0107              	SECTION rodata_compiler
3331  0107              ___str_31:
3332  0107  4F 4E 20    	DEFM "ON "
3333  010A  00          	DEFB 0x00
3334  010B              	SECTION rodata_compiler
3335  010B              ___str_32:
3336  010B  4F 46 46    	DEFM "OFF"
3337  010E  00          	DEFB 0x00
3338  010F              	SECTION rodata_compiler
3339  010F              ___str_33:
3340  010F  41 20 20    	DEFM "A  "
3341  0112  00          	DEFB 0x00
3342  0113              	SECTION rodata_compiler
3343  0113              ___str_34:
3344  0113  42 20 20    	DEFM "B  "
3345  0116  00          	DEFB 0x00
3346  0117              	SECTION rodata_compiler
3347  0117              ___str_35:
3348  0117  52 4E 44    	DEFM "RND"
3349  011A  00          	DEFB 0x00
3350  011B              	SECTION code_compiler
3351  0F2C              ;	---------------------------------
3352  0F2C              ; Function game_joystick_change
3353  0F2C              ; ---------------------------------
3354  0F2C              _game_joystick_change:
3355  0F2C  CD 00 00    	call	___sdcc_enter_ix
3356  0F2F  3B          	dec	sp
3357  0F30  DD 75 FF    	ld	(ix-1),l
3358  0F33  26 00       	ld	h,0x00
3359  0F35  29          	add	hl, hl
3360  0F36  01 00 00    	ld	bc,_player_joy
3361  0F39  09          	add	hl,bc
3362  0F3A  5E          	ld	e,(hl)
3363  0F3B  4D          	ld	c,l
3364  0F3C  44          	ld	b,h
3365  0F3D  23          	inc	hl
3366  0F3E  56          	ld	d,(hl)
3367  0F3F  13          	inc	de
3368  0F40  69          	ld	l, c
3369  0F41  60          	ld	h, b
3370  0F42  73          	ld	(hl),e
3371  0F43  23          	inc	hl
3372  0F44  72          	ld	(hl),d
3373  0F45  7B          	ld	a,e
3374  0F46  D6 07       	sub	a,0x07
3375  0F48  20 09       	jr	NZ,l_game_joystick_change_00102
3376  0F4A  B2          	or	a,d
3377  0F4B  20 06       	jr	NZ,l_game_joystick_change_00102
3378  0F4D  69          	ld	l, c
3379  0F4E  60          	ld	h, b
3380  0F4F  AF          	xor	a, a
3381  0F50  77          	ld	(hl), a
3382  0F51  23          	inc	hl
3383  0F52  77          	ld	(hl), a
3384  0F53              l_game_joystick_change_00102:
3385  0F53  DD 7E FF    	ld	a,(ix-1)
3386  0F56  B7          	or	a, a
3387  0F57  20 15       	jr	NZ,l_game_joystick_change_00104
3388  0F59  69          	ld	l, c
3389  0F5A  60          	ld	h, b
3390  0F5B  5E          	ld	e,(hl)
3391  0F5C  23          	inc	hl
3392  0F5D  56          	ld	d,(hl)
3393  0F5E  1D          	dec	e
3394  0F5F  20 0D       	jr	NZ,l_game_joystick_change_00104
3395  0F61  7A          	ld	a,d
3396  0F62  B7          	or	a, a
3397  0F63  20 09       	jr	NZ,l_game_joystick_change_00104
3398  0F65  ED 5B 00 00 	ld	de,(_player_joy)
3399  0F69  13          	inc	de
3400  0F6A  ED 53 00 00 	ld	(_player_joy), de
3401  0F6E              l_game_joystick_change_00104:
3402  0F6E  DD 7E FF    	ld	a,(ix-1)
3403  0F71  3D          	dec	a
3404  0F72  20 11       	jr	NZ,l_game_joystick_change_00107
3405  0F74  69          	ld	l, c
3406  0F75  60          	ld	h, b
3407  0F76  4E          	ld	c,(hl)
3408  0F77  23          	inc	hl
3409  0F78  7E          	ld	a, (hl)
3410  0F79  B1          	or	a,c
3411  0F7A  20 09       	jr	NZ,l_game_joystick_change_00107
3412  0F7C  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3413  0F80  03          	inc	bc
3414  0F81  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3415  0F85              l_game_joystick_change_00107:
3416  0F85  ED 4B 00 00 	ld	bc,(_player_joy)
3417  0F89  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3418  0F8D  79          	ld	a,c
3419  0F8E  93          	sub	a, e
3420  0F8F  20 18       	jr	NZ,l_game_joystick_change_00114
3421  0F91  78          	ld	a,b
3422  0F92  92          	sub	a, d
3423  0F93  20 14       	jr	NZ,l_game_joystick_change_00114
3424  0F95  DD 7E FF    	ld	a,(ix-1)
3425  0F98  B7          	or	a, a
3426  0F99  20 08       	jr	NZ,l_game_joystick_change_00110
3427  0F9B  21 01 00    	ld	hl,0x0001
3428  0F9E  22 02 00    	ld	(_player_joy + 0x0002),hl
3429  0FA1  18 06       	jr	l_game_joystick_change_00114
3430  0FA3              l_game_joystick_change_00110:
3431  0FA3  21 00 00    	ld	hl,0x0000
3432  0FA6  22 00 00    	ld	(_player_joy), hl
3433  0FA9              l_game_joystick_change_00114:
3434  0FA9  33          	inc	sp
3435  0FAA  DD E1       	pop	ix
3436  0FAC  C9          	ret
3437  0FAD              	SECTION code_compiler
3438  0FAD              ;	---------------------------------
3439  0FAD              ; Function game_joystick_set_menu
3440  0FAD              ; ---------------------------------
3441  0FAD              _game_joystick_set_menu:
3442  0FAD  21 00 00    	ld	hl,_in_stick_sinclair1
3443  0FB0  22 00 00    	ld	(_joyfunc1),hl
3444  0FB3  21 00 00    	ld	hl,_in_stick_sinclair2
3445  0FB6  22 00 00    	ld	(_joyfunc2),hl
3446  0FB9  C9          	ret
3447  0FBA              	SECTION code_compiler
3448  0FBA              ;	---------------------------------
3449  0FBA              ; Function game_joystick_set
3450  0FBA              ; ---------------------------------
3451  0FBA              _game_joystick_set:
3452  0FBA  01 00 00    	ld	bc,_control_method+0
3453  0FBD  2A 00 00    	ld	hl,(_player_joy)
3454  0FC0  29          	add	hl, hl
3455  0FC1  09          	add	hl,bc
3456  0FC2  11 00 00    	ld	de,_joyfunc1
3457  0FC5  ED A0       	ldi
3458  0FC7  03          	inc	bc
3459  0FC8  7E          	ld	a,(hl)
3460  0FC9  12          	ld	(de),a
3461  0FCA  2A 02 00    	ld	hl, (_player_joy + 2)
3462  0FCD  29          	add	hl, hl
3463  0FCE  09          	add	hl,bc
3464  0FCF  11 00 00    	ld	de,_joyfunc2
3465  0FD2  ED A0       	ldi
3466  0FD4  7E          	ld	a,(hl)
3467  0FD5  12          	ld	(de),a
3468  0FD6  C9          	ret
3469  0FD7              	SECTION code_compiler
3470  0FD7              ;	---------------------------------
3471  0FD7              ; Function game_menu
3472  0FD7              ; ---------------------------------
3473  0FD7              _game_menu:
3474  0FD7  21 00 00    	ld	hl,_game_menu_sel
3475  0FDA  36 00       	ld	(hl),0x00
3476  0FDC  CD 3E 10    	call	_game_menu_top_paint
3477  0FDF  CD B2 10    	call	_game_menu_paint
3478  0FE2  CD 00 00    	call	_ay_reset
3479  0FE5  21 00 00    	ld	hl,_pb_midi_title
3480  0FE8  CD 00 00    	call	_ay_midi_play
3481  0FEB              l_game_menu_00101:
3482  0FEB  21 00 00    	ld	hl,_k1
3483  0FEE  E5          	push	hl
3484  0FEF  2A 00 00    	ld	hl,(_joyfunc1)
3485  0FF2  CD 00 00    	call	___sdcc_call_hl
3486  0FF5  F1          	pop	af
3487  0FF6  7C          	ld	a,h
3488  0FF7  B5          	or	a,l
3489  0FF8  20 F1       	jr	NZ,l_game_menu_00101
3490  0FFA  21 E8 03    	ld	hl,0x03e8
3491  0FFD  E5          	push	hl
3492  0FFE  21 0E 12    	ld	hl,0x120e
3493  1001  E5          	push	hl
3494  1002  21 0C 02    	ld	hl,0x020c
3495  1005  E5          	push	hl
3496  1006  CD E0 11    	call	_game_menu_handle
3497  1009  F1          	pop	af
3498  100A  F1          	pop	af
3499  100B  F1          	pop	af
3500  100C  4D          	ld	c,l
3501  100D  21 00 00    	ld	hl,_tmp_uc
3502  1010  71          	ld	(hl),c
3503  1011  3E 02       	ld	a,0x02
3504  1013  96          	sub	a, (hl)
3505  1014  38 D5       	jr	C,l_game_menu_00101
3506  1016  5E          	ld	e,(hl)
3507  1017  16 00       	ld	d,0x00
3508  1019  21 1F 10    	ld	hl,l_game_menu_00125
3509  101C  19          	add	hl,de
3510  101D  19          	add	hl,de
3511  101E  E9          	jp	(hl)
3512  101F              l_game_menu_00125:
3513  101F  18 04       	jr	l_game_menu_00104
3514  1021  18 0C       	jr	l_game_menu_00105
3515  1023  18 14       	jr	l_game_menu_00106
3516  1025              l_game_menu_00104:
3517  1025  21 00 00    	ld	hl,_game_two_player
3518  1028  36 00       	ld	(hl),0x00
3519  102A  CD 37 03    	call	_game_loop
3520  102D  18 BC       	jr	l_game_menu_00101
3521  102F              l_game_menu_00105:
3522  102F  21 00 00    	ld	hl,_game_two_player
3523  1032  36 01       	ld	(hl),0x01
3524  1034  CD 37 03    	call	_game_loop
3525  1037  18 B2       	jr	l_game_menu_00101
3526  1039              l_game_menu_00106:
3527  1039  CD BB 0D    	call	_game_menu_config
3528  103C  18 AD       	jr	l_game_menu_00101
3529  103E              	SECTION code_compiler
3530  103E              ;	---------------------------------
3531  103E              ; Function game_menu_top_paint
3532  103E              ; ---------------------------------
3533  103E              _game_menu_top_paint:
3534  103E  CD 00 00    	call	_spr_draw_clear
3535  1041  2E 00       	ld	l,0x00
3536  1043  CD 49 0D    	call	_game_paint_attrib
3537  1046  21 9C 01    	ld	hl,0x019c
3538  1049  E5          	push	hl
3539  104A  21 00 1E    	ld	hl,0x1e00
3540  104D  E5          	push	hl
3541  104E  3E 10       	ld	a,0x10
3542  1050  F5          	push	af
3543  1051  33          	inc	sp
3544  1052  CD 2D 11    	call	_game_menu_e
3545  1055  F1          	pop	af
3546  1056  33          	inc	sp
3547  1057  21 9F FF    	ld	hl,0xff9f
3548  105A  E3          	ex	(sp),hl
3549  105B  21 00 1E    	ld	hl,0x1e00
3550  105E  E5          	push	hl
3551  105F  3E 50       	ld	a,0x50
3552  1061  F5          	push	af
3553  1062  33          	inc	sp
3554  1063  CD 2D 11    	call	_game_menu_e
3555  1066  F1          	pop	af
3556  1067  F1          	pop	af
3557  1068  33          	inc	sp
3558  1069  21 00 00    	ld	hl,_tmp
3559  106C  36 18       	ld	(hl),0x18
3560  106E  F3          	di
3561  106F  21 00 00    	ld	hl,_tmp_uc
3562  1072  36 00       	ld	(hl),0x00
3563  1074              l_game_menu_top_paint_00102:
3564  1074  3A 00 00    	ld	a,(_tmp_uc)
3565  1077  87          	add	a, a
3566  1078  C6 05       	add	a,0x05
3567  107A  47          	ld	b,a
3568  107B  3A 00 00    	ld	a,(_tmp)
3569  107E  C6 10       	add	a,0x10
3570  1080  57          	ld	d,a
3571  1081  3A 00 00    	ld	a,(_tmp_uc)
3572  1084  C6 C0       	add	a,0xc0
3573  1086  4A          	ld	c, d
3574  1087  C5          	push	bc
3575  1088  F5          	push	af
3576  1089  33          	inc	sp
3577  108A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3578  108D  3A 00 00    	ld	a,(_tmp_uc)
3579  1090  87          	add	a, a
3580  1091  C6 05       	add	a,0x05
3581  1093  47          	ld	b,a
3582  1094  3A 00 00    	ld	a,(_tmp)
3583  1097  C6 20       	add	a,0x20
3584  1099  57          	ld	d,a
3585  109A  3A 00 00    	ld	a,(_tmp_uc)
3586  109D  C6 CC       	add	a,0xcc
3587  109F  4A          	ld	c, d
3588  10A0  C5          	push	bc
3589  10A1  F5          	push	af
3590  10A2  33          	inc	sp
3591  10A3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3592  10A6  21 00 00    	ld	hl,_tmp_uc
3593  10A9  7E          	ld	a,(hl)
3594  10AA  3C          	inc	a
3595  10AB  77          	ld	(hl),a
3596  10AC  D6 0A       	sub	a,0x0a
3597  10AE  38 C4       	jr	C,l_game_menu_top_paint_00102
3598  10B0  FB          	ei
3599  10B1  C9          	ret
3600  10B2              	SECTION code_compiler
3601  10B2              ;	---------------------------------
3602  10B2              ; Function game_menu_paint
3603  10B2              ; ---------------------------------
3604  10B2              _game_menu_paint:
3605  10B2  76          	halt
3606  10B3  3A 00 00    	ld	a,(_tmp)
3607  10B6  C6 28       	add	a,0x28
3608  10B8  4F          	ld	c, a
3609  10B9  06 1A       	ld	b,0x1a
3610  10BB  C5          	push	bc
3611  10BC  3E 12       	ld	a,0x12
3612  10BE  F5          	push	af
3613  10BF  33          	inc	sp
3614  10C0  CD 00 00    	call	_NIRVANAP_fillC_callee
3615  10C3  21 00 20    	ld	hl,0x2000
3616  10C6  E5          	push	hl
3617  10C7  CD 00 00    	call	_game_fill_row
3618  10CA  21 00 20    	ld	hl,0x2000
3619  10CD  E5          	push	hl
3620  10CE  CD 00 00    	call	_game_fill_row
3621  10D1  21 1B 01    	ld	hl,___str_36
3622  10D4  E5          	push	hl
3623  10D5  21 0E 0A    	ld	hl,0x0a0e
3624  10D8  E5          	push	hl
3625  10D9  CD 00 00    	call	_zx_print_str
3626  10DC  21 0F 20    	ld	hl,0x200f
3627  10DF  E5          	push	hl
3628  10E0  CD 00 00    	call	_game_fill_row
3629  10E3  21 29 01    	ld	hl,___str_37
3630  10E6  E5          	push	hl
3631  10E7  21 10 0A    	ld	hl,0x0a10
3632  10EA  E5          	push	hl
3633  10EB  CD 00 00    	call	_zx_print_str
3634  10EE  21 11 20    	ld	hl,0x2011
3635  10F1  E5          	push	hl
3636  10F2  CD 00 00    	call	_game_fill_row
3637  10F5  21 37 01    	ld	hl,___str_38
3638  10F8  E5          	push	hl
3639  10F9  21 12 0A    	ld	hl,0x0a12
3640  10FC  E5          	push	hl
3641  10FD  CD 00 00    	call	_zx_print_str
3642  1100  21 13 20    	ld	hl,0x2013
3643  1103  E5          	push	hl
3644  1104  CD 00 00    	call	_game_fill_row
3645  1107  21 00 00    	ld	hl,_screen_ink
3646  110A  36 01       	ld	(hl),0x01
3647  110C  21 45 01    	ld	hl,___str_39
3648  110F  E5          	push	hl
3649  1110  21 16 07    	ld	hl,0x0716
3650  1113  E5          	push	hl
3651  1114  CD 00 00    	call	_zx_print_str
3652  1117  21 58 01    	ld	hl,___str_40
3653  111A  E5          	push	hl
3654  111B  21 17 07    	ld	hl,0x0717
3655  111E  E5          	push	hl
3656  111F  CD 00 00    	call	_zx_print_str
3657  1122  21 00 00    	ld	hl,_tmp_uc
3658  1125  36 00       	ld	(hl),0x00
3659  1127  2E 0B       	ld	l,0x0b
3660  1129  CD 49 0D    	call	_game_paint_attrib
3661  112C  C9          	ret
3662  112D              	SECTION rodata_compiler
3663  011B              ___str_36:
3664  011B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3665  0128  00          	DEFB 0x00
3666  0129              	SECTION rodata_compiler
3667  0129              ___str_37:
3668  0129  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3669  0136  00          	DEFB 0x00
3670  0137              	SECTION rodata_compiler
3671  0137              ___str_38:
3672  0137  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3673  0144  00          	DEFB 0x00
3674  0145              	SECTION rodata_compiler
3675  0145              ___str_39:
3676  0145  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3677  0157  00          	DEFB 0x00
3678  0158              	SECTION rodata_compiler
3679  0158              ___str_40:
3680  0158  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3681  0169  00          	DEFB 0x00
3682  016A              	SECTION code_compiler
3683  112D              ;	---------------------------------
3684  112D              ; Function game_menu_e
3685  112D              ; ---------------------------------
3686  112D              _game_menu_e:
3687  112D  CD 00 00    	call	___sdcc_enter_ix
3688  1130  F3          	di
3689  1131  DD 4E 05    	ld	c,(ix+5)
3690  1134  21 00 00    	ld	hl,_tmp_uc
3691  1137  71          	ld	(hl),c
3692  1138  DD 46 07    	ld	b,(ix+7)
3693  113B  04          	inc	b
3694  113C  DD 56 07    	ld	d,(ix+7)
3695  113F  14          	inc	d
3696  1140  14          	inc	d
3697  1141              l_game_menu_e_00114:
3698  1141  DD 7E 06    	ld	a,(ix+6)
3699  1144  21 00 00    	ld	hl,_tmp_uc
3700  1147  96          	sub	a, (hl)
3701  1148  38 56       	jr	C,l_game_menu_e_00109
3702  114A  7E          	ld	a,(hl)
3703  114B  91          	sub	a, c
3704  114C  20 15       	jr	NZ,l_game_menu_e_00102
3705  114E  3A 00 00    	ld	a,(_tmp_uc)
3706  1151  C5          	push	bc
3707  1152  D5          	push	de
3708  1153  F5          	push	af
3709  1154  33          	inc	sp
3710  1155  DD 66 04    	ld	h,(ix+4)
3711  1158  DD 6E 07    	ld	l,(ix+7)
3712  115B  E5          	push	hl
3713  115C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3714  115F  D1          	pop	de
3715  1160  C1          	pop	bc
3716  1161  18 36       	jr	l_game_menu_e_00108
3717  1163              l_game_menu_e_00102:
3718  1163  3A 00 00    	ld	a,(_tmp_uc)
3719  1166  DD 96 06    	sub	a,(ix+6)
3720  1169  20 14       	jr	NZ,l_game_menu_e_00104
3721  116B  3A 00 00    	ld	a,(_tmp_uc)
3722  116E  C5          	push	bc
3723  116F  D5          	push	de
3724  1170  F5          	push	af
3725  1171  33          	inc	sp
3726  1172  DD 7E 04    	ld	a,(ix+4)
3727  1175  5A          	ld	e,d
3728  1176  57          	ld	d,a
3729  1177  D5          	push	de
3730  1178  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3731  117B  D1          	pop	de
3732  117C  C1          	pop	bc
3733  117D  18 1A       	jr	l_game_menu_e_00108
3734  117F              l_game_menu_e_00104:
3735  117F  3A 00 00    	ld	a,(_tmp_uc)
3736  1182  FE 0E       	cp	a,0x0e
3737  1184  28 13       	jr	Z,l_game_menu_e_00108
3738  1186  FE 10       	cp	a,0x10
3739  1188  28 0F       	jr	Z,l_game_menu_e_00108
3740  118A  C5          	push	bc
3741  118B  D5          	push	de
3742  118C  F5          	push	af
3743  118D  33          	inc	sp
3744  118E  DD 7E 04    	ld	a,(ix+4)
3745  1191  48          	ld	c,b
3746  1192  47          	ld	b,a
3747  1193  C5          	push	bc
3748  1194  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3749  1197  D1          	pop	de
3750  1198  C1          	pop	bc
3751  1199              l_game_menu_e_00108:
3752  1199  21 00 00    	ld	hl,_tmp_uc
3753  119C  34          	inc	(hl)
3754  119D  34          	inc	(hl)
3755  119E  18 A1       	jr	l_game_menu_e_00114
3756  11A0              l_game_menu_e_00109:
3757  11A0  DD 7E 08    	ld	a,(ix+8)
3758  11A3  3C          	inc	a
3759  11A4  20 0A       	jr	NZ,l_game_menu_e_00111
3760  11A6  DD 7E 04    	ld	a,(ix+4)
3761  11A9  C6 F0       	add	a,0xf0
3762  11AB  DD 77 04    	ld	(ix+4),a
3763  11AE  18 08       	jr	l_game_menu_e_00112
3764  11B0              l_game_menu_e_00111:
3765  11B0  DD 7E 04    	ld	a,(ix+4)
3766  11B3  C6 10       	add	a,0x10
3767  11B5  DD 77 04    	ld	(ix+4),a
3768  11B8              l_game_menu_e_00112:
3769  11B8  DD 7E 07    	ld	a,(ix+7)
3770  11BB  C6 0C       	add	a,0x0c
3771  11BD  47          	ld	b,a
3772  11BE  79          	ld	a,c
3773  11BF  F5          	push	af
3774  11C0  33          	inc	sp
3775  11C1  DD 7E 04    	ld	a,(ix+4)
3776  11C4  48          	ld	c,b
3777  11C5  47          	ld	b,a
3778  11C6  C5          	push	bc
3779  11C7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3780  11CA  DD 7E 07    	ld	a,(ix+7)
3781  11CD  C6 0E       	add	a,0x0e
3782  11CF  47          	ld	b,a
3783  11D0  DD 66 06    	ld	h,(ix+6)
3784  11D3  DD 6E 04    	ld	l,(ix+4)
3785  11D6  E5          	push	hl
3786  11D7  C5          	push	bc
3787  11D8  33          	inc	sp
3788  11D9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3789  11DC  FB          	ei
3790  11DD  DD E1       	pop	ix
3791  11DF  C9          	ret
3792  11E0              	SECTION code_compiler
3793  11E0              ;	---------------------------------
3794  11E0              ; Function game_menu_handle
3795  11E0              ; ---------------------------------
3796  11E0              _game_menu_handle:
3797  11E0  CD 00 00    	call	___sdcc_enter_ix
3798  11E3  3B          	dec	sp
3799  11E4  2A 00 00    	ld	hl,(_curr_time)
3800  11E7  22 00 00    	ld	(_entry_time),hl
3801  11EA  DD 5E 05    	ld	e,(ix+5)
3802  11ED  2A FF FF    	ld	hl,(_game_menu_sel-1)
3803  11F0  2E 00       	ld	l,0x00
3804  11F2  55          	ld	d, l
3805  11F3  06 08       	ld	b,0x08
3806  11F5              l_game_menu_handle_00148:
3807  11F5  29          	add	hl,hl
3808  11F6  30 01       	jr	NC,l_game_menu_handle_00149
3809  11F8  19          	add	hl,de
3810  11F9              l_game_menu_handle_00149:
3811  11F9  10 FA       	djnz	l_game_menu_handle_00148
3812  11FB  DD 7E 06    	ld	a,(ix+6)
3813  11FE  85          	add	a,l
3814  11FF  32 00 00    	ld	(_s_lin1),a
3815  1202  DD 7E 06    	ld	a,(ix+6)
3816  1205  DD 77 FF    	ld	(ix-1),a
3817  1208              l_game_menu_handle_00111:
3818  1208  21 00 00    	ld	hl,_k1
3819  120B  E5          	push	hl
3820  120C  2A 00 00    	ld	hl,(_joyfunc1)
3821  120F  CD 00 00    	call	___sdcc_call_hl
3822  1212  F1          	pop	af
3823  1213  7D          	ld	a,l
3824  1214  32 00 00    	ld	(_dirs),a
3825  1217  D6 80       	sub	a,0x80
3826  1219  CA BB 12    	jp	Z,l_game_menu_handle_00113
3827  121C  21 05 00    	ld	hl,0x0005
3828  121F  E5          	push	hl
3829  1220  2A 00 00    	ld	hl,(_frame_time)
3830  1223  E5          	push	hl
3831  1224  CD 7B 1A    	call	_game_check_time
3832  1227  F1          	pop	af
3833  1228  F1          	pop	af
3834  1229  7D          	ld	a,l
3835  122A  B7          	or	a, a
3836  122B  28 58       	jr	Z,l_game_menu_handle_00106
3837  122D  3A 00 00    	ld	a,(_dirs)
3838  1230  B7          	or	a, a
3839  1231  28 32       	jr	Z,l_game_menu_handle_00104
3840  1233  21 00 00    	ld	hl,_ay_effect_03
3841  1236  CD 00 00    	call	_ay_fx_play
3842  1239  CD 00 00    	call	_sound_slide
3843  123C  3A 00 00    	ld	a,(_s_lin1)
3844  123F  07          	rlca
3845  1240  07          	rlca
3846  1241  07          	rlca
3847  1242  E6 F8       	and	a,0xf8
3848  1244  C6 08       	add	a,0x08
3849  1246  F5          	push	af
3850  1247  33          	inc	sp
3851  1248  26 14       	ld	h,0x14
3852  124A  DD 6E 04    	ld	l,(ix+4)
3853  124D  E5          	push	hl
3854  124E  CD 6D 0D    	call	_game_paint_attrib_lin
3855  1251  F1          	pop	af
3856  1252  33          	inc	sp
3857  1253  21 00 00    	ld	hl,_s_lin1
3858  1256  7E          	ld	a,(hl)
3859  1257  DD 86 05    	add	a,(ix+5)
3860  125A  77          	ld	(hl),a
3861  125B  DD 7E 07    	ld	a,(ix+7)
3862  125E  96          	sub	a, (hl)
3863  125F  30 04       	jr	NC,l_game_menu_handle_00104
3864  1261  DD 7E FF    	ld	a,(ix-1)
3865  1264  77          	ld	(hl),a
3866  1265              l_game_menu_handle_00104:
3867  1265  2A 00 00    	ld	hl,(_curr_time)
3868  1268  22 00 00    	ld	(_frame_time),hl
3869  126B  3A 00 00    	ld	a,(_s_lin1)
3870  126E  07          	rlca
3871  126F  07          	rlca
3872  1270  07          	rlca
3873  1271  E6 F8       	and	a,0xf8
3874  1273  C6 08       	add	a,0x08
3875  1275  F5          	push	af
3876  1276  33          	inc	sp
3877  1277  26 14       	ld	h,0x14
3878  1279  DD 6E 04    	ld	l,(ix+4)
3879  127C  E5          	push	hl
3880  127D  CD 94 0D    	call	_game_paint_attrib_lin_h
3881  1280  F1          	pop	af
3882  1281  33          	inc	sp
3883  1282  CD CD 19    	call	_game_rotate_attrib
3884  1285              l_game_menu_handle_00106:
3885  1285  DD 7E 09    	ld	a,(ix+9)
3886  1288  DD B6 08    	or	a,(ix+8)
3887  128B  CA 08 12    	jp	Z,l_game_menu_handle_00111
3888  128E  DD 6E 08    	ld	l,(ix+8)
3889  1291  DD 66 09    	ld	h,(ix+9)
3890  1294  E5          	push	hl
3891  1295  2A 00 00    	ld	hl,(_entry_time)
3892  1298  E5          	push	hl
3893  1299  CD 7B 1A    	call	_game_check_time
3894  129C  F1          	pop	af
3895  129D  F1          	pop	af
3896  129E  7D          	ld	a,l
3897  129F  B7          	or	a, a
3898  12A0  CA 08 12    	jp	Z,l_game_menu_handle_00111
3899  12A3  CD 00 00    	call	_ay_is_playing
3900  12A6  7D          	ld	a,l
3901  12A7  B7          	or	a, a
3902  12A8  C2 08 12    	jp	NZ,l_game_menu_handle_00111
3903  12AB  CD FC 18    	call	_game_hall_of_fame
3904  12AE  21 00 00    	ld	hl,_game_menu_sel
3905  12B1  2E 00       	ld	l,0x00
3906  12B3  75          	ld	(hl),l
3907  12B4  CD FB 16    	call	_game_menu_back
3908  12B7  2E FF       	ld	l,0xff
3909  12B9  18 10       	jr	l_game_menu_handle_00114
3910  12BB              l_game_menu_handle_00113:
3911  12BB  3A 00 00    	ld	a,(_s_lin1)
3912  12BE  DD 96 FF    	sub	a,(ix-1)
3913  12C1  47          	ld	b,a
3914  12C2  DD 7E 05    	ld	a,(ix+5)
3915  12C5  48          	ld	c,b
3916  12C6  47          	ld	b,a
3917  12C7  C5          	push	bc
3918  12C8  CD 00 00    	call	__divuchar_callee
3919  12CB              l_game_menu_handle_00114:
3920  12CB  33          	inc	sp
3921  12CC  DD E1       	pop	ix
3922  12CE  C9          	ret
3923  12CF              	SECTION code_compiler
3924  12CF              ;	---------------------------------
3925  12CF              ; Function game_end
3926  12CF              ; ---------------------------------
3927  12CF              _game_end:
3928  12CF  CD 00 00    	call	___sdcc_enter_ix
3929  12D2  F5          	push	af
3930  12D3  F5          	push	af
3931  12D4  CD CF 08    	call	_game_kill_all_sprites
3932  12D7  CD 00 00    	call	_spr_draw_clear
3933  12DA  21 00 00    	ld	hl,_pb_midi_title
3934  12DD  CD 00 00    	call	_ay_midi_play
3935  12E0  21 00 00    	ld	hl,_tmp1
3936  12E3  36 50       	ld	(hl),0x50
3937  12E5              l_game_end_00102:
3938  12E5  3E 70       	ld	a,0x70
3939  12E7  21 00 00    	ld	hl,_tmp1
3940  12EA  96          	sub	a, (hl)
3941  12EB  38 28       	jr	C,l_game_end_00104
3942  12ED  21 00 00    	ld	hl,_tmp0
3943  12F0  36 04       	ld	(hl),0x04
3944  12F2              l_game_end_00130:
3945  12F2  3A 00 00    	ld	a,(_tmp0)
3946  12F5  F5          	push	af
3947  12F6  33          	inc	sp
3948  12F7  3A 00 00    	ld	a,(_tmp1)
3949  12FA  57          	ld	d,a
3950  12FB  1E 8C       	ld	e,0x8c
3951  12FD  D5          	push	de
3952  12FE  CD 00 00    	call	_NIRVANAP_drawT_callee
3953  1301  21 00 00    	ld	hl,_tmp0
3954  1304  7E          	ld	a,(hl)
3955  1305  C6 02       	add	a,0x02
3956  1307  77          	ld	(hl),a
3957  1308  D6 1C       	sub	a,0x1c
3958  130A  38 E6       	jr	C,l_game_end_00130
3959  130C  21 00 00    	ld	hl,_tmp1
3960  130F  7E          	ld	a,(hl)
3961  1310  C6 10       	add	a,0x10
3962  1312  77          	ld	(hl),a
3963  1313  18 D0       	jr	l_game_end_00102
3964  1315              l_game_end_00104:
3965  1315  21 50 18    	ld	hl,0x1850
3966  1318  E5          	push	hl
3967  1319  3E D6       	ld	a,0xd6
3968  131B  F5          	push	af
3969  131C  33          	inc	sp
3970  131D  CD 00 00    	call	_NIRVANAP_drawT_callee
3971  1320  21 9C 01    	ld	hl,0x019c
3972  1323  E5          	push	hl
3973  1324  21 01 1D    	ld	hl,0x1d01
3974  1327  E5          	push	hl
3975  1328  3E 20       	ld	a,0x20
3976  132A  F5          	push	af
3977  132B  33          	inc	sp
3978  132C  CD 2D 11    	call	_game_menu_e
3979  132F  F1          	pop	af
3980  1330  33          	inc	sp
3981  1331  21 9F FF    	ld	hl,0xff9f
3982  1334  E3          	ex	(sp),hl
3983  1335  21 01 1D    	ld	hl,0x1d01
3984  1338  E5          	push	hl
3985  1339  3E 80       	ld	a,0x80
3986  133B  F5          	push	af
3987  133C  33          	inc	sp
3988  133D  CD 2D 11    	call	_game_menu_e
3989  1340  F1          	pop	af
3990  1341  F1          	pop	af
3991  1342  33          	inc	sp
3992  1343  3E 00       	ld	a,0x00
3993  1345  DD 77 FD    	ld	(ix-3),a
3994  1348  DD 77 FC    	ld	(ix-4),a
3995  134B  3A 00 00    	ld	a,(_game_two_player)
3996  134E  B7          	or	a, a
3997  134F  28 16       	jr	Z,l_game_end_00110
3998  1351  3A 00 00    	ld	a,(_game_lives)
3999  1354  B7          	or	a, a
4000  1355  28 04       	jr	Z,l_game_end_00106
4001  1357  DD 36 FD 01 	ld	(ix-3),0x01
4002  135B              l_game_end_00106:
4003  135B  3A 01 00    	ld	a, (_game_lives + 1)
4004  135E  B7          	or	a, a
4005  135F  28 0A       	jr	Z,l_game_end_00111
4006  1361  DD 36 FC 01 	ld	(ix-4),0x01
4007  1365  18 04       	jr	l_game_end_00111
4008  1367              l_game_end_00110:
4009  1367  DD 36 FD 01 	ld	(ix-3),0x01
4010  136B              l_game_end_00111:
4011  136B  DD 7E FD    	ld	a,(ix-3)
4012  136E  3D          	dec	a
4013  136F  20 04       	jr	NZ,l_game_end_00210
4014  1371  3E 01       	ld	a,0x01
4015  1373  18 01       	jr	l_game_end_00211
4016  1375              l_game_end_00210:
4017  1375  AF          	xor	a,a
4018  1376              l_game_end_00211:
4019  1376  DD 77 FF    	ld	(ix-1),a
4020  1379  B7          	or	a, a
4021  137A  28 1C       	jr	Z,l_game_end_00113
4022  137C  DD 7E FC    	ld	a,(ix-4)
4023  137F  B7          	or	a, a
4024  1380  20 16       	jr	NZ,l_game_end_00113
4025  1382  21 6A 01    	ld	hl,___str_41
4026  1385  E5          	push	hl
4027  1386  21 13 01    	ld	hl,0x0113
4028  1389  E5          	push	hl
4029  138A  CD 00 00    	call	_zx_print_str
4030  138D  21 50 0C    	ld	hl,0x0c50
4031  1390  E5          	push	hl
4032  1391  3E 03       	ld	a,0x03
4033  1393  F5          	push	af
4034  1394  33          	inc	sp
4035  1395  CD 00 00    	call	_NIRVANAP_drawT_callee
4036  1398              l_game_end_00113:
4037  1398  DD 7E FC    	ld	a,(ix-4)
4038  139B  3D          	dec	a
4039  139C  20 04       	jr	NZ,l_game_end_00212
4040  139E  3E 01       	ld	a,0x01
4041  13A0  18 01       	jr	l_game_end_00213
4042  13A2              l_game_end_00212:
4043  13A2  AF          	xor	a,a
4044  13A3              l_game_end_00213:
4045  13A3  DD 77 FE    	ld	(ix-2),a
4046  13A6  DD 7E FD    	ld	a,(ix-3)
4047  13A9  B7          	or	a, a
4048  13AA  20 1C       	jr	NZ,l_game_end_00116
4049  13AC  DD 7E FE    	ld	a,(ix-2)
4050  13AF  B7          	or	a, a
4051  13B0  28 16       	jr	Z,l_game_end_00116
4052  13B2  21 74 01    	ld	hl,___str_42
4053  13B5  E5          	push	hl
4054  13B6  21 13 01    	ld	hl,0x0113
4055  13B9  E5          	push	hl
4056  13BA  CD 00 00    	call	_zx_print_str
4057  13BD  21 60 0E    	ld	hl,0x0e60
4058  13C0  E5          	push	hl
4059  13C1  3E 1B       	ld	a,0x1b
4060  13C3  F5          	push	af
4061  13C4  33          	inc	sp
4062  13C5  CD 00 00    	call	_NIRVANAP_drawT_callee
4063  13C8              l_game_end_00116:
4064  13C8  DD 7E FF    	ld	a,(ix-1)
4065  13CB  B7          	or	a, a
4066  13CC  28 27       	jr	Z,l_game_end_00119
4067  13CE  DD 7E FE    	ld	a,(ix-2)
4068  13D1  B7          	or	a, a
4069  13D2  28 21       	jr	Z,l_game_end_00119
4070  13D4  21 7D 01    	ld	hl,___str_43
4071  13D7  E5          	push	hl
4072  13D8  21 13 01    	ld	hl,0x0113
4073  13DB  E5          	push	hl
4074  13DC  CD 00 00    	call	_zx_print_str
4075  13DF  21 50 0C    	ld	hl,0x0c50
4076  13E2  E5          	push	hl
4077  13E3  3E 03       	ld	a,0x03
4078  13E5  F5          	push	af
4079  13E6  33          	inc	sp
4080  13E7  CD 00 00    	call	_NIRVANAP_drawT_callee
4081  13EA  21 60 0E    	ld	hl,0x0e60
4082  13ED  E5          	push	hl
4083  13EE  3E 1B       	ld	a,0x1b
4084  13F0  F5          	push	af
4085  13F1  33          	inc	sp
4086  13F2  CD 00 00    	call	_NIRVANAP_drawT_callee
4087  13F5              l_game_end_00119:
4088  13F5  21 C8 00    	ld	hl,0x00c8
4089  13F8  E5          	push	hl
4090  13F9  21 01 1F    	ld	hl,0x1f01
4091  13FC  E5          	push	hl
4092  13FD  3E 13       	ld	a,0x13
4093  13FF  F5          	push	af
4094  1400  33          	inc	sp
4095  1401  CD E9 19    	call	_game_colour_message
4096  1404  F1          	pop	af
4097  1405  F1          	pop	af
4098  1406  33          	inc	sp
4099  1407  DD 7E FF    	ld	a,(ix-1)
4100  140A  B7          	or	a, a
4101  140B  28 32       	jr	Z,l_game_end_00122
4102  140D  DD 7E FC    	ld	a,(ix-4)
4103  1410  B7          	or	a, a
4104  1411  20 2C       	jr	NZ,l_game_end_00122
4105  1413  21 40 12    	ld	hl,0x1240
4106  1416  E5          	push	hl
4107  1417  3E BE       	ld	a,0xbe
4108  1419  F5          	push	af
4109  141A  33          	inc	sp
4110  141B  CD 00 00    	call	_NIRVANAP_drawT_callee
4111  141E  21 50 12    	ld	hl,0x1250
4112  1421  E5          	push	hl
4113  1422  3E CA       	ld	a,0xca
4114  1424  F5          	push	af
4115  1425  33          	inc	sp
4116  1426  CD 00 00    	call	_NIRVANAP_drawT_callee
4117  1429  21 91 01    	ld	hl,___str_44
4118  142C  E5          	push	hl
4119  142D  21 13 01    	ld	hl,0x0113
4120  1430  E5          	push	hl
4121  1431  CD 00 00    	call	_zx_print_str
4122  1434  21 40 0C    	ld	hl,0x0c40
4123  1437  E5          	push	hl
4124  1438  3E BE       	ld	a,0xbe
4125  143A  F5          	push	af
4126  143B  33          	inc	sp
4127  143C  CD 00 00    	call	_NIRVANAP_drawT_callee
4128  143F              l_game_end_00122:
4129  143F  DD 7E FD    	ld	a,(ix-3)
4130  1442  B7          	or	a, a
4131  1443  20 32       	jr	NZ,l_game_end_00125
4132  1445  DD 7E FE    	ld	a,(ix-2)
4133  1448  B7          	or	a, a
4134  1449  28 2C       	jr	Z,l_game_end_00125
4135  144B  21 50 12    	ld	hl,0x1250
4136  144E  E5          	push	hl
4137  144F  3E BE       	ld	a,0xbe
4138  1451  F5          	push	af
4139  1452  33          	inc	sp
4140  1453  CD 00 00    	call	_NIRVANAP_drawT_callee
4141  1456  21 60 12    	ld	hl,0x1260
4142  1459  E5          	push	hl
4143  145A  3E CA       	ld	a,0xca
4144  145C  F5          	push	af
4145  145D  33          	inc	sp
4146  145E  CD 00 00    	call	_NIRVANAP_drawT_callee
4147  1461  21 91 01    	ld	hl,___str_44
4148  1464  E5          	push	hl
4149  1465  21 13 01    	ld	hl,0x0113
4150  1468  E5          	push	hl
4151  1469  CD 00 00    	call	_zx_print_str
4152  146C  21 50 0E    	ld	hl,0x0e50
4153  146F  E5          	push	hl
4154  1470  3E BE       	ld	a,0xbe
4155  1472  F5          	push	af
4156  1473  33          	inc	sp
4157  1474  CD 00 00    	call	_NIRVANAP_drawT_callee
4158  1477              l_game_end_00125:
4159  1477  DD 7E FF    	ld	a,(ix-1)
4160  147A  B7          	or	a, a
4161  147B  28 53       	jr	Z,l_game_end_00128
4162  147D  DD 7E FE    	ld	a,(ix-2)
4163  1480  B7          	or	a, a
4164  1481  28 4D       	jr	Z,l_game_end_00128
4165  1483  21 A5 01    	ld	hl,___str_45
4166  1486  E5          	push	hl
4167  1487  21 13 01    	ld	hl,0x0113
4168  148A  E5          	push	hl
4169  148B  CD 00 00    	call	_zx_print_str
4170  148E  21 40 12    	ld	hl,0x1240
4171  1491  E5          	push	hl
4172  1492  3E BE       	ld	a,0xbe
4173  1494  F5          	push	af
4174  1495  33          	inc	sp
4175  1496  CD 00 00    	call	_NIRVANAP_drawT_callee
4176  1499  21 50 12    	ld	hl,0x1250
4177  149C  E5          	push	hl
4178  149D  3E CA       	ld	a,0xca
4179  149F  F5          	push	af
4180  14A0  33          	inc	sp
4181  14A1  CD 00 00    	call	_NIRVANAP_drawT_callee
4182  14A4  21 50 10    	ld	hl,0x1050
4183  14A7  E5          	push	hl
4184  14A8  3E BE       	ld	a,0xbe
4185  14AA  F5          	push	af
4186  14AB  33          	inc	sp
4187  14AC  CD 00 00    	call	_NIRVANAP_drawT_callee
4188  14AF  21 60 10    	ld	hl,0x1060
4189  14B2  E5          	push	hl
4190  14B3  3E CA       	ld	a,0xca
4191  14B5  F5          	push	af
4192  14B6  33          	inc	sp
4193  14B7  CD 00 00    	call	_NIRVANAP_drawT_callee
4194  14BA  21 40 0C    	ld	hl,0x0c40
4195  14BD  E5          	push	hl
4196  14BE  3E BE       	ld	a,0xbe
4197  14C0  F5          	push	af
4198  14C1  33          	inc	sp
4199  14C2  CD 00 00    	call	_NIRVANAP_drawT_callee
4200  14C5  21 50 0E    	ld	hl,0x0e50
4201  14C8  E5          	push	hl
4202  14C9  3E BE       	ld	a,0xbe
4203  14CB  F5          	push	af
4204  14CC  33          	inc	sp
4205  14CD  CD 00 00    	call	_NIRVANAP_drawT_callee
4206  14D0              l_game_end_00128:
4207  14D0  21 C8 00    	ld	hl,0x00c8
4208  14D3  E5          	push	hl
4209  14D4  21 01 1F    	ld	hl,0x1f01
4210  14D7  E5          	push	hl
4211  14D8  3E 13       	ld	a,0x13
4212  14DA  F5          	push	af
4213  14DB  33          	inc	sp
4214  14DC  CD E9 19    	call	_game_colour_message
4215  14DF  F1          	pop	af
4216  14E0  33          	inc	sp
4217  14E1  21 BB 01    	ld	hl,___str_46
4218  14E4  E3          	ex	(sp),hl
4219  14E5  21 13 01    	ld	hl,0x0113
4220  14E8  E5          	push	hl
4221  14E9  CD 00 00    	call	_zx_print_str
4222  14EC  CD 00 00    	call	_spr_draw_clear
4223  14EF  DD F9       	ld	sp, ix
4224  14F1  DD E1       	pop	ix
4225  14F3  C9          	ret
4226  14F4              	SECTION rodata_compiler
4227  016A              ___str_41:
4228  016A  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4229  0173  00          	DEFB 0x00
4230  0174              	SECTION rodata_compiler
4231  0174              ___str_42:
4232  0174  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4233  017C  00          	DEFB 0x00
4234  017D              	SECTION rodata_compiler
4235  017D              ___str_43:
4236  017D  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4237  0190  00          	DEFB 0x00
4238  0191              	SECTION rodata_compiler
4239  0191              ___str_44:
4240  0191  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4241  01A4  00          	DEFB 0x00
4242  01A5              	SECTION rodata_compiler
4243  01A5              ___str_45:
4244  01A5  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4245  01BA  00          	DEFB 0x00
4246  01BB              	SECTION rodata_compiler
4247  01BB              ___str_46:
4248  01BB  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 59 4F 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE YOU!"
4249  01DB  00          	DEFB 0x00
4250  01DC              	SECTION code_compiler
4251  14F4              ;	---------------------------------
4252  14F4              ; Function game_hall_check
4253  14F4              ; ---------------------------------
4254  14F4              _game_hall_check:
4255  14F4  5D          	ld	e,l
4256  14F5  01 00 00    	ld	bc,_player_score+0
4257  14F8  26 00       	ld	h,0x00
4258  14FA  6B          	ld	l, e
4259  14FB  29          	add	hl, hl
4260  14FC  09          	add	hl,bc
4261  14FD  4E          	ld	c,(hl)
4262  14FE  23          	inc	hl
4263  14FF  46          	ld	b,(hl)
4264  1500  2A 3A 00    	ld	hl,(_hof + 0x003a)
4265  1503  AF          	xor	a,a
4266  1504  ED 42       	sbc	hl,bc
4267  1506  30 09       	jr	NC,l_game_hall_check_00104
4268  1508  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4269  150C  21 36 00    	ld	hl,+(_hof + 0x0036)
4270  150F  18 14       	jr	l_game_hall_check_00106
4271  1511              l_game_hall_check_00104:
4272  1511  2A 34 00    	ld	hl,(_hof + 0x0034)
4273  1514  AF          	xor	a,a
4274  1515  ED 42       	sbc	hl,bc
4275  1517  30 09       	jr	NC,l_game_hall_check_00105
4276  1519  ED 43 34 00 	ld	(_hof + 0x0034),bc
4277  151D  21 30 00    	ld	hl,+(_hof + 0x0030)
4278  1520  18 03       	jr	l_game_hall_check_00106
4279  1522              l_game_hall_check_00105:
4280  1522  21 00 00    	ld	hl,0x0000
4281  1525              l_game_hall_check_00106:
4282  1525  C9          	ret
4283  1526              	SECTION code_compiler
4284  1526              ;	---------------------------------
4285  1526              ; Function compare_scores
4286  1526              ; ---------------------------------
4287  1526              _compare_scores:
4288  1526  CD 00 00    	call	___sdcc_enter_ix
4289  1529  DD 6E 06    	ld	l,(ix+6)
4290  152C  DD 66 07    	ld	h,(ix+7)
4291  152F  11 04 00    	ld	de,0x0004
4292  1532  19          	add	hl, de
4293  1533  4E          	ld	c,(hl)
4294  1534  23          	inc	hl
4295  1535  46          	ld	b,(hl)
4296  1536  DD 6E 04    	ld	l,(ix+4)
4297  1539  DD 66 05    	ld	h,(ix+5)
4298  153C  11 04 00    	ld	de,0x0004
4299  153F  19          	add	hl, de
4300  1540  7E          	ld	a,(hl)
4301  1541  23          	inc	hl
4302  1542  56          	ld	d,(hl)
4303  1543  5F          	ld	e,a
4304  1544  91          	sub	a, c
4305  1545  7A          	ld	a,d
4306  1546  98          	sbc	a, b
4307  1547  30 05       	jr	NC,l_compare_scores_00102
4308  1549  21 01 00    	ld	hl,0x0001
4309  154C  18 10       	jr	l_compare_scores_00105
4310  154E              l_compare_scores_00102:
4311  154E  79          	ld	a,c
4312  154F  93          	sub	a, e
4313  1550  20 09       	jr	NZ,l_compare_scores_00104
4314  1552  78          	ld	a,b
4315  1553  92          	sub	a, d
4316  1554  20 05       	jr	NZ,l_compare_scores_00104
4317  1556  21 00 00    	ld	hl,0x0000
4318  1559  18 03       	jr	l_compare_scores_00105
4319  155B              l_compare_scores_00104:
4320  155B  21 FF FF    	ld	hl,0xffff
4321  155E              l_compare_scores_00105:
4322  155E  DD E1       	pop	ix
4323  1560  C9          	ret
4324  1561              	SECTION code_compiler
4325  1561              ;	---------------------------------
4326  1561              ; Function game_hall_enter
4327  1561              ; ---------------------------------
4328  1561              _game_hall_enter:
4329  1561  CD 00 00    	call	___sdcc_enter_ix
4330  1564  21 F7 FF    	ld	hl,-9
4331  1567  39          	add	hl,sp
4332  1568  F9          	ld	sp,hl
4333  1569  CD 00 00    	call	_spr_draw_clear
4334  156C  2E 00       	ld	l,0x00
4335  156E  CD 49 0D    	call	_game_paint_attrib
4336  1571  ED 4B 00 00 	ld	bc,(_player_score)
4337  1575  2A 02 00    	ld	hl, (_player_score + 2)
4338  1578  AF          	xor	a,a
4339  1579  ED 42       	sbc	hl,bc
4340  157B  30 0F       	jr	NC,l_game_hall_enter_00102
4341  157D  2E 00       	ld	l,0x00
4342  157F  CD F4 14    	call	_game_hall_check
4343  1582  E5          	push	hl
4344  1583  2E 01       	ld	l,0x01
4345  1585  CD F4 14    	call	_game_hall_check
4346  1588  EB          	ex	de,hl
4347  1589  C1          	pop	bc
4348  158A  18 0E       	jr	l_game_hall_enter_00103
4349  158C              l_game_hall_enter_00102:
4350  158C  2E 01       	ld	l,0x01
4351  158E  CD F4 14    	call	_game_hall_check
4352  1591  E5          	push	hl
4353  1592  2E 00       	ld	l,0x00
4354  1594  CD F4 14    	call	_game_hall_check
4355  1597  D1          	pop	de
4356  1598  4D          	ld	c,l
4357  1599  44          	ld	b,h
4358  159A              l_game_hall_enter_00103:
4359  159A  78          	ld	a,b
4360  159B  B1          	or	a,c
4361  159C  20 05       	jr	NZ,l_game_hall_enter_00125
4362  159E  7A          	ld	a,d
4363  159F  B3          	or	a,e
4364  15A0  CA EE 16    	jp	Z,l_game_hall_enter_00126
4365  15A3              l_game_hall_enter_00125:
4366  15A3  3E 00       	ld	a,0x00
4367  15A5  DD 77 FB    	ld	(ix-5),a
4368  15A8  DD 77 FA    	ld	(ix-6),a
4369  15AB  DD 77 F9    	ld	(ix-7),a
4370  15AE  DD 77 F8    	ld	(ix-8),a
4371  15B1  DD 36 F7 00 	ld	(ix-9),0x00
4372  15B5  78          	ld	a,b
4373  15B6  B1          	or	a,c
4374  15B7  28 0D       	jr	Z,l_game_hall_enter_00105
4375  15B9  DD 36 F8 01 	ld	(ix-8),0x01
4376  15BD  C5          	push	bc
4377  15BE  D5          	push	de
4378  15BF  2E 00       	ld	l,0x00
4379  15C1  CD 11 17    	call	_game_hall_enter_phs
4380  15C4  D1          	pop	de
4381  15C5  C1          	pop	bc
4382  15C6              l_game_hall_enter_00105:
4383  15C6  7A          	ld	a,d
4384  15C7  B3          	or	a,e
4385  15C8  28 0D       	jr	Z,l_game_hall_enter_00107
4386  15CA  DD 36 F7 05 	ld	(ix-9),0x05
4387  15CE  C5          	push	bc
4388  15CF  D5          	push	de
4389  15D0  2E 01       	ld	l,0x01
4390  15D2  CD 11 17    	call	_game_hall_enter_phs
4391  15D5  D1          	pop	de
4392  15D6  C1          	pop	bc
4393  15D7              l_game_hall_enter_00107:
4394  15D7  C5          	push	bc
4395  15D8  D5          	push	de
4396  15D9  21 DC 01    	ld	hl,___str_47
4397  15DC  E5          	push	hl
4398  15DD  21 02 0A    	ld	hl,0x0a02
4399  15E0  E5          	push	hl
4400  15E1  CD 00 00    	call	_zx_print_str
4401  15E4  21 E9 01    	ld	hl,___str_48
4402  15E7  E5          	push	hl
4403  15E8  21 12 06    	ld	hl,0x0612
4404  15EB  E5          	push	hl
4405  15EC  CD 00 00    	call	_zx_print_str
4406  15EF  21 FC 01    	ld	hl,___str_49
4407  15F2  E5          	push	hl
4408  15F3  21 13 06    	ld	hl,0x0613
4409  15F6  E5          	push	hl
4410  15F7  CD 00 00    	call	_zx_print_str
4411  15FA  D1          	pop	de
4412  15FB  C1          	pop	bc
4413  15FC  DD 71 FE    	ld	(ix-2),c
4414  15FF  DD 70 FF    	ld	(ix-1),b
4415  1602  DD 73 FC    	ld	(ix-4),e
4416  1605  DD 72 FD    	ld	(ix-3),d
4417  1608              l_game_hall_enter_00122:
4418  1608  DD 7E F8    	ld	a,(ix-8)
4419  160B  DD 86 F7    	add	a,(ix-9)
4420  160E  B7          	or	a, a
4421  160F  CA D6 16    	jp	Z,l_game_hall_enter_00124
4422  1612  21 05 00    	ld	hl,0x0005
4423  1615  E5          	push	hl
4424  1616  2A 00 00    	ld	hl,(_frame_time)
4425  1619  E5          	push	hl
4426  161A  CD 7B 1A    	call	_game_check_time
4427  161D  F1          	pop	af
4428  161E  F1          	pop	af
4429  161F  7D          	ld	a,l
4430  1620  B7          	or	a, a
4431  1621  28 36       	jr	Z,l_game_hall_enter_00113
4432  1623  DD 7E F9    	ld	a,(ix-7)
4433  1626  D6 01       	sub	a,0x01
4434  1628  3E 00       	ld	a,0x00
4435  162A  17          	rla
4436  162B  DD 77 F9    	ld	(ix-7),a
4437  162E  DD 7E F8    	ld	a,(ix-8)
4438  1631  B7          	or	a, a
4439  1632  28 0B       	jr	Z,l_game_hall_enter_00109
4440  1634  DD 66 F9    	ld	h,(ix-7)
4441  1637  DD 6E F8    	ld	l,(ix-8)
4442  163A  E5          	push	hl
4443  163B  CD 88 17    	call	_game_hall_print_p
4444  163E  F1          	pop	af
4445  163F              l_game_hall_enter_00109:
4446  163F  DD 7E F7    	ld	a,(ix-9)
4447  1642  B7          	or	a, a
4448  1643  28 0B       	jr	Z,l_game_hall_enter_00111
4449  1645  DD 66 F9    	ld	h,(ix-7)
4450  1648  DD 6E F7    	ld	l,(ix-9)
4451  164B  E5          	push	hl
4452  164C  CD 88 17    	call	_game_hall_print_p
4453  164F  F1          	pop	af
4454  1650              l_game_hall_enter_00111:
4455  1650  CD CD 19    	call	_game_rotate_attrib
4456  1653  2A 00 00    	ld	hl,(_curr_time)
4457  1656  22 00 00    	ld	(_frame_time),hl
4458  1659              l_game_hall_enter_00113:
4459  1659  21 00 00    	ld	hl,_k1
4460  165C  E5          	push	hl
4461  165D  2A 00 00    	ld	hl,(_joyfunc1)
4462  1660  CD 00 00    	call	___sdcc_call_hl
4463  1663  F1          	pop	af
4464  1664  7D          	ld	a,l
4465  1665  32 00 00    	ld	(_dirs),a
4466  1668  DD 7E FB    	ld	a,(ix-5)
4467  166B  B7          	or	a, a
4468  166C  20 22       	jr	NZ,l_game_hall_enter_00115
4469  166E  DD 7E F8    	ld	a,(ix-8)
4470  1671  B7          	or	a, a
4471  1672  28 1C       	jr	Z,l_game_hall_enter_00115
4472  1674  DD 6E F8    	ld	l,(ix-8)
4473  1677  CD 46 18    	call	_game_hall_edit_p
4474  167A  DD 75 F8    	ld	(ix-8),l
4475  167D  7D          	ld	a,l
4476  167E  B7          	or	a, a
4477  167F  20 0F       	jr	NZ,l_game_hall_enter_00115
4478  1681  DD 5E FE    	ld	e,(ix-2)
4479  1684  DD 56 FF    	ld	d,(ix-1)
4480  1687  AF          	xor	a,a
4481  1688  21 00 00    	ld	hl,_initials
4482  168B              l_game_hall_enter_00190:
4483  168B  BE          	cp	a, (hl)
4484  168C  ED A0       	ldi
4485  168E  20 FB       	jr	NZ, l_game_hall_enter_00190
4486  1690              l_game_hall_enter_00115:
4487  1690  3A 00 00    	ld	a,(_dirs)
4488  1693  DD 77 FB    	ld	(ix-5),a
4489  1696  21 00 00    	ld	hl,_k2
4490  1699  E5          	push	hl
4491  169A  2A 00 00    	ld	hl,(_joyfunc2)
4492  169D  CD 00 00    	call	___sdcc_call_hl
4493  16A0  F1          	pop	af
4494  16A1  7D          	ld	a,l
4495  16A2  32 00 00    	ld	(_dirs),a
4496  16A5  DD 7E FA    	ld	a,(ix-6)
4497  16A8  B7          	or	a, a
4498  16A9  20 22       	jr	NZ,l_game_hall_enter_00119
4499  16AB  DD 7E F7    	ld	a,(ix-9)
4500  16AE  B7          	or	a, a
4501  16AF  28 1C       	jr	Z,l_game_hall_enter_00119
4502  16B1  DD 6E F7    	ld	l,(ix-9)
4503  16B4  CD 46 18    	call	_game_hall_edit_p
4504  16B7  DD 75 F7    	ld	(ix-9),l
4505  16BA  7D          	ld	a,l
4506  16BB  B7          	or	a, a
4507  16BC  20 0F       	jr	NZ,l_game_hall_enter_00119
4508  16BE  DD 5E FC    	ld	e,(ix-4)
4509  16C1  DD 56 FD    	ld	d,(ix-3)
4510  16C4  AF          	xor	a,a
4511  16C5  21 04 00    	ld	hl,+(_initials + 0x0004)
4512  16C8              l_game_hall_enter_00191:
4513  16C8  BE          	cp	a, (hl)
4514  16C9  ED A0       	ldi
4515  16CB  20 FB       	jr	NZ, l_game_hall_enter_00191
4516  16CD              l_game_hall_enter_00119:
4517  16CD  3A 00 00    	ld	a,(_dirs)
4518  16D0  DD 77 FA    	ld	(ix-6),a
4519  16D3  C3 08 16    	jp	l_game_hall_enter_00122
4520  16D6              l_game_hall_enter_00124:
4521  16D6  CD 00 00    	call	_ay_reset
4522  16D9  CD 00 00    	call	_spr_draw_clear
4523  16DC  01 26 15    	ld	bc,_compare_scores
4524  16DF  C5          	push	bc
4525  16E0  21 06 00    	ld	hl,0x0006
4526  16E3  E5          	push	hl
4527  16E4  2E 0A       	ld	l,0x0a
4528  16E6  E5          	push	hl
4529  16E7  21 00 00    	ld	hl,_hof
4530  16EA  E5          	push	hl
4531  16EB  CD 00 00    	call	__insertion_sort__callee
4532  16EE              l_game_hall_enter_00126:
4533  16EE  CD FC 18    	call	_game_hall_of_fame
4534  16F1  2E 00       	ld	l,0x00
4535  16F3  CD FB 16    	call	_game_menu_back
4536  16F6  DD F9       	ld	sp, ix
4537  16F8  DD E1       	pop	ix
4538  16FA  C9          	ret
4539  16FB              	SECTION rodata_compiler
4540  01DC              ___str_47:
4541  01DC  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4542  01E8  00          	DEFB 0x00
4543  01E9              	SECTION rodata_compiler
4544  01E9              ___str_48:
4545  01E9  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4546  01FB  00          	DEFB 0x00
4547  01FC              	SECTION rodata_compiler
4548  01FC              ___str_49:
4549  01FC  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4550  020F  00          	DEFB 0x00
4551  0210              	SECTION code_compiler
4552  16FB              ;	---------------------------------
4553  16FB              ; Function game_menu_back
4554  16FB              ; ---------------------------------
4555  16FB              _game_menu_back:
4556  16FB  7D          	ld	a,l
4557  16FC  32 00 00    	ld	(_s_lin1),a
4558  16FF  21 00 00    	ld	hl,_game_menu_sel
4559  1702  36 00       	ld	(hl),0x00
4560  1704  CD 3E 10    	call	_game_menu_top_paint
4561  1707  CD B2 10    	call	_game_menu_paint
4562  170A  2A 00 00    	ld	hl,(_curr_time)
4563  170D  22 00 00    	ld	(_entry_time),hl
4564  1710  C9          	ret
4565  1711              	SECTION code_compiler
4566  1711              ;	---------------------------------
4567  1711              ; Function game_hall_enter_phs
4568  1711              ; ---------------------------------
4569  1711              _game_hall_enter_phs:
4570  1711  7D          	ld	a,l
4571  1712  B7          	or	a, a
4572  1713  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4573  1715  21 9C 01    	ld	hl,0x019c
4574  1718  E5          	push	hl
4575  1719  21 02 0C    	ld	hl,0x0c02
4576  171C  E5          	push	hl
4577  171D  3E 30       	ld	a,0x30
4578  171F  F5          	push	af
4579  1720  33          	inc	sp
4580  1721  CD 2D 11    	call	_game_menu_e
4581  1724  F1          	pop	af
4582  1725  33          	inc	sp
4583  1726  21 9F FF    	ld	hl,0xff9f
4584  1729  E3          	ex	(sp),hl
4585  172A  21 02 0C    	ld	hl,0x0c02
4586  172D  E5          	push	hl
4587  172E  3E 7C       	ld	a,0x7c
4588  1730  F5          	push	af
4589  1731  33          	inc	sp
4590  1732  CD 2D 11    	call	_game_menu_e
4591  1735  F1          	pop	af
4592  1736  33          	inc	sp
4593  1737  21 10 02    	ld	hl,___str_50
4594  173A  E3          	ex	(sp),hl
4595  173B  21 07 05    	ld	hl,0x0507
4596  173E  E5          	push	hl
4597  173F  CD 00 00    	call	_zx_print_str
4598  1742  21 15 02    	ld	hl,___str_51
4599  1745  E5          	push	hl
4600  1746  21 08 05    	ld	hl,0x0508
4601  1749  E5          	push	hl
4602  174A  CD 00 00    	call	_zx_print_str
4603  174D  18 38       	jr	l_game_hall_enter_phs_00104
4604  174F              l_game_hall_enter_phs_00102:
4605  174F  21 9C 01    	ld	hl,0x019c
4606  1752  E5          	push	hl
4607  1753  21 12 1C    	ld	hl,0x1c12
4608  1756  E5          	push	hl
4609  1757  3E 30       	ld	a,0x30
4610  1759  F5          	push	af
4611  175A  33          	inc	sp
4612  175B  CD 2D 11    	call	_game_menu_e
4613  175E  F1          	pop	af
4614  175F  33          	inc	sp
4615  1760  21 9F FF    	ld	hl,0xff9f
4616  1763  E3          	ex	(sp),hl
4617  1764  21 12 1C    	ld	hl,0x1c12
4618  1767  E5          	push	hl
4619  1768  3E 7C       	ld	a,0x7c
4620  176A  F5          	push	af
4621  176B  33          	inc	sp
4622  176C  CD 2D 11    	call	_game_menu_e
4623  176F  F1          	pop	af
4624  1770  33          	inc	sp
4625  1771  21 10 02    	ld	hl,___str_50
4626  1774  E3          	ex	(sp),hl
4627  1775  21 07 15    	ld	hl,0x1507
4628  1778  E5          	push	hl
4629  1779  CD 00 00    	call	_zx_print_str
4630  177C  21 15 02    	ld	hl,___str_51
4631  177F  E5          	push	hl
4632  1780  21 08 15    	ld	hl,0x1508
4633  1783  E5          	push	hl
4634  1784  CD 00 00    	call	_zx_print_str
4635  1787              l_game_hall_enter_phs_00104:
4636  1787  C9          	ret
4637  1788              	SECTION rodata_compiler
4638  0210              ___str_50:
4639  0210  48 49 47 48 	DEFM "HIGH"
4640  0214  00          	DEFB 0x00
4641  0215              	SECTION rodata_compiler
4642  0215              ___str_51:
4643  0215  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4644  021B  00          	DEFB 0x00
4645  021C              	SECTION code_compiler
4646  1788              ;	---------------------------------
4647  1788              ; Function game_hall_print_p
4648  1788              ; ---------------------------------
4649  1788              _game_hall_print_p:
4650  1788  CD 00 00    	call	___sdcc_enter_ix
4651  178B  DD 7E 04    	ld	a,(ix+4)
4652  178E  D6 05       	sub	a,0x05
4653  1790  30 59       	jr	NC,l_game_hall_print_p_00108
4654  1792  21 00 00    	ld	hl,_initials
4655  1795  E5          	push	hl
4656  1796  21 0D 06    	ld	hl,0x060d
4657  1799  E5          	push	hl
4658  179A  CD 00 00    	call	_zx_print_str
4659  179D  DD 7E 04    	ld	a,(ix+4)
4660  17A0  C6 06       	add	a,0x06
4661  17A2  47          	ld	b,a
4662  17A3  DD 7E 04    	ld	a,(ix+4)
4663  17A6  C6 05       	add	a,0x05
4664  17A8  57          	ld	d,a
4665  17A9  3E 70       	ld	a,0x70
4666  17AB  F5          	push	af
4667  17AC  33          	inc	sp
4668  17AD  4A          	ld	c, d
4669  17AE  C5          	push	bc
4670  17AF  CD 94 0D    	call	_game_paint_attrib_lin_h
4671  17B2  F1          	pop	af
4672  17B3  33          	inc	sp
4673  17B4  76          	halt
4674  17B5  DD 7E 05    	ld	a,(ix+5)
4675  17B8  B7          	or	a, a
4676  17B9  28 18       	jr	Z,l_game_hall_print_p_00102
4677  17BB  21 56 06    	ld	hl,0x0656
4678  17BE  E5          	push	hl
4679  17BF  3E A9       	ld	a,0xa9
4680  17C1  F5          	push	af
4681  17C2  33          	inc	sp
4682  17C3  CD 00 00    	call	_NIRVANAP_drawT_callee
4683  17C6  21 58 06    	ld	hl,0x0658
4684  17C9  E5          	push	hl
4685  17CA  3E 03       	ld	a,0x03
4686  17CC  F5          	push	af
4687  17CD  33          	inc	sp
4688  17CE  CD 00 00    	call	_NIRVANAP_drawT_callee
4689  17D1  18 70       	jr	l_game_hall_print_p_00110
4690  17D3              l_game_hall_print_p_00102:
4691  17D3  21 58 06    	ld	hl,0x0658
4692  17D6  E5          	push	hl
4693  17D7  3E A9       	ld	a,0xa9
4694  17D9  F5          	push	af
4695  17DA  33          	inc	sp
4696  17DB  CD 00 00    	call	_NIRVANAP_drawT_callee
4697  17DE  21 56 06    	ld	hl,0x0656
4698  17E1  E5          	push	hl
4699  17E2  3E 16       	ld	a,0x16
4700  17E4  F5          	push	af
4701  17E5  33          	inc	sp
4702  17E6  CD 00 00    	call	_NIRVANAP_drawT_callee
4703  17E9  18 58       	jr	l_game_hall_print_p_00110
4704  17EB              l_game_hall_print_p_00108:
4705  17EB  21 04 00    	ld	hl,+(_initials + 0x0004)
4706  17EE  E5          	push	hl
4707  17EF  21 0D 16    	ld	hl,0x160d
4708  17F2  E5          	push	hl
4709  17F3  CD 00 00    	call	_zx_print_str
4710  17F6  DD 7E 04    	ld	a,(ix+4)
4711  17F9  C6 12       	add	a,0x12
4712  17FB  57          	ld	d,a
4713  17FC  DD 7E 04    	ld	a,(ix+4)
4714  17FF  C6 11       	add	a,0x11
4715  1801  47          	ld	b,a
4716  1802  3E 70       	ld	a,0x70
4717  1804  5A          	ld	e,d
4718  1805  57          	ld	d,a
4719  1806  D5          	push	de
4720  1807  C5          	push	bc
4721  1808  33          	inc	sp
4722  1809  CD 94 0D    	call	_game_paint_attrib_lin_h
4723  180C  F1          	pop	af
4724  180D  33          	inc	sp
4725  180E  76          	halt
4726  180F  DD 7E 05    	ld	a,(ix+5)
4727  1812  B7          	or	a, a
4728  1813  28 18       	jr	Z,l_game_hall_print_p_00105
4729  1815  21 56 17    	ld	hl,0x1756
4730  1818  E5          	push	hl
4731  1819  3E A9       	ld	a,0xa9
4732  181B  F5          	push	af
4733  181C  33          	inc	sp
4734  181D  CD 00 00    	call	_NIRVANAP_drawT_callee
4735  1820  21 58 17    	ld	hl,0x1758
4736  1823  E5          	push	hl
4737  1824  3E 27       	ld	a,0x27
4738  1826  F5          	push	af
4739  1827  33          	inc	sp
4740  1828  CD 00 00    	call	_NIRVANAP_drawT_callee
4741  182B  18 16       	jr	l_game_hall_print_p_00110
4742  182D              l_game_hall_print_p_00105:
4743  182D  21 58 17    	ld	hl,0x1758
4744  1830  E5          	push	hl
4745  1831  3E A9       	ld	a,0xa9
4746  1833  F5          	push	af
4747  1834  33          	inc	sp
4748  1835  CD 00 00    	call	_NIRVANAP_drawT_callee
4749  1838  21 56 17    	ld	hl,0x1756
4750  183B  E5          	push	hl
4751  183C  3E 2E       	ld	a,0x2e
4752  183E  F5          	push	af
4753  183F  33          	inc	sp
4754  1840  CD 00 00    	call	_NIRVANAP_drawT_callee
4755  1843              l_game_hall_print_p_00110:
4756  1843  DD E1       	pop	ix
4757  1845  C9          	ret
4758  1846              	SECTION code_compiler
4759  1846              ;	---------------------------------
4760  1846              ; Function game_hall_edit_p
4761  1846              ; ---------------------------------
4762  1846              _game_hall_edit_p:
4763  1846  CD 00 00    	call	___sdcc_enter_ix
4764  1849  F5          	push	af
4765  184A  4D          	ld	c,l
4766  184B  0D          	dec	c
4767  184C  3A 00 00    	ld	a,(_dirs)
4768  184F  07          	rlca
4769  1850  30 63       	jr	NC,l_game_hall_edit_p_00120
4770  1852  79          	ld	a,c
4771  1853  FE 04       	cp	a,0x04
4772  1855  30 17       	jr	NC,l_game_hall_edit_p_00102
4773  1857  C6 07       	add	a,0x07
4774  1859  57          	ld	d,a
4775  185A  79          	ld	a,c
4776  185B  C6 06       	add	a,0x06
4777  185D  47          	ld	b,a
4778  185E  C5          	push	bc
4779  185F  3E 70       	ld	a,0x70
4780  1861  5A          	ld	e,d
4781  1862  57          	ld	d,a
4782  1863  D5          	push	de
4783  1864  C5          	push	bc
4784  1865  33          	inc	sp
4785  1866  CD 6D 0D    	call	_game_paint_attrib_lin
4786  1869  F1          	pop	af
4787  186A  33          	inc	sp
4788  186B  C1          	pop	bc
4789  186C  18 16       	jr	l_game_hall_edit_p_00103
4790  186E              l_game_hall_edit_p_00102:
4791  186E  79          	ld	a,c
4792  186F  C6 13       	add	a,0x13
4793  1871  57          	ld	d,a
4794  1872  79          	ld	a,c
4795  1873  C6 12       	add	a,0x12
4796  1875  47          	ld	b,a
4797  1876  C5          	push	bc
4798  1877  3E 70       	ld	a,0x70
4799  1879  5A          	ld	e,d
4800  187A  57          	ld	d,a
4801  187B  D5          	push	de
4802  187C  C5          	push	bc
4803  187D  33          	inc	sp
4804  187E  CD 6D 0D    	call	_game_paint_attrib_lin
4805  1881  F1          	pop	af
4806  1882  33          	inc	sp
4807  1883  C1          	pop	bc
4808  1884              l_game_hall_edit_p_00103:
4809  1884  C5          	push	bc
4810  1885  CD 00 00    	call	_sound_slide
4811  1888  C1          	pop	bc
4812  1889  21 00 00    	ld	hl,_ay_effect_01
4813  188C  CD 00 00    	call	_ay_fx_play
4814  188F  11 00 00    	ld	de,_initials+0
4815  1892  41          	ld	b,c
4816  1893  0C          	inc	c
4817  1894  68          	ld	l,b
4818  1895  26 00       	ld	h,0x00
4819  1897  19          	add	hl,de
4820  1898  7E          	ld	a,(hl)
4821  1899  D6 7B       	sub	a,0x7b
4822  189B  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4823  189D  0D          	dec	c
4824  189E  79          	ld	a,c
4825  189F  E6 03       	and	a,0x03
4826  18A1  28 08       	jr	Z,l_game_hall_edit_p_00107
4827  18A3  41          	ld	b,c
4828  18A4  0D          	dec	c
4829  18A5  68          	ld	l,b
4830  18A6  26 00       	ld	h,0x00
4831  18A8  19          	add	hl,de
4832  18A9  36 41       	ld	(hl),0x41
4833  18AB              l_game_hall_edit_p_00107:
4834  18AB  79          	ld	a,c
4835  18AC  E6 03       	and	a,0x03
4836  18AE  D6 03       	sub	a,0x03
4837  18B0  20 44       	jr	NZ,l_game_hall_edit_p_00121
4838  18B2  6F          	ld	l,a
4839  18B3  18 43       	jr	l_game_hall_edit_p_00122
4840  18B5              l_game_hall_edit_p_00120:
4841  18B5  3A 00 00    	ld	a,(_dirs)
4842  18B8  E6 0C       	and	a,0x0c
4843  18BA  28 3A       	jr	Z,l_game_hall_edit_p_00121
4844  18BC  11 00 00    	ld	de,_hall_valids
4845  18BF  3E 00       	ld	a,+((_initials) & 0xFF)
4846  18C1  81          	add	a, c
4847  18C2  DD 77 FE    	ld	(ix-2),a
4848  18C5  3E 00       	ld	a,+((_initials) / 256)
4849  18C7  CE 00       	adc	a,0x00
4850  18C9  DD 77 FF    	ld	(ix-1),a
4851  18CC  E1          	pop	hl
4852  18CD  46          	ld	b,(hl)
4853  18CE  E5          	push	hl
4854  18CF              l_game_hall_edit_p_00168:
4855  18CF  1A          	ld	a, (de)
4856  18D0  B8          	cp	a, b
4857  18D1  28 06       	jr	Z,l_game_hall_edit_p_00167
4858  18D3  B7          	or	a, a
4859  18D4  13          	inc	de
4860  18D5  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4861  18D7  5F          	ld	e, a
4862  18D8  57          	ld	d, a
4863  18D9              l_game_hall_edit_p_00167:
4864  18D9  3A 00 00    	ld	a,(_dirs)
4865  18DC  E6 04       	and	a,0x04
4866  18DE  28 0A       	jr	Z,l_game_hall_edit_p_00115
4867  18E0  1B          	dec	de
4868  18E1  1A          	ld	a,(de)
4869  18E2  3D          	dec	a
4870  18E3  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4871  18E5  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4872  18E8  18 08       	jr	l_game_hall_edit_p_00116
4873  18EA              l_game_hall_edit_p_00115:
4874  18EA  13          	inc	de
4875  18EB  1A          	ld	a,(de)
4876  18EC  B7          	or	a, a
4877  18ED  20 03       	jr	NZ,l_game_hall_edit_p_00116
4878  18EF  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4879  18F2              l_game_hall_edit_p_00116:
4880  18F2  E1          	pop	hl
4881  18F3  1A          	ld	a,(de)
4882  18F4  E5          	push	hl
4883  18F5  77          	ld	(hl),a
4884  18F6              l_game_hall_edit_p_00121:
4885  18F6  0C          	inc	c
4886  18F7  69          	ld	l,c
4887  18F8              l_game_hall_edit_p_00122:
4888  18F8  F1          	pop	af
4889  18F9  DD E1       	pop	ix
4890  18FB  C9          	ret
4891  18FC              	SECTION code_compiler
4892  18FC              ;	---------------------------------
4893  18FC              ; Function game_hall_of_fame
4894  18FC              ; ---------------------------------
4895  18FC              _game_hall_of_fame:
4896  18FC  CD 00 00    	call	_spr_draw_clear
4897  18FF  2E 00       	ld	l,0x00
4898  1901  CD 49 0D    	call	_game_paint_attrib
4899  1904  21 9C 01    	ld	hl,0x019c
4900  1907  E5          	push	hl
4901  1908  21 06 18    	ld	hl,0x1806
4902  190B  E5          	push	hl
4903  190C  3E 10       	ld	a,0x10
4904  190E  F5          	push	af
4905  190F  33          	inc	sp
4906  1910  CD 2D 11    	call	_game_menu_e
4907  1913  F1          	pop	af
4908  1914  33          	inc	sp
4909  1915  21 9F FF    	ld	hl,0xff9f
4910  1918  E3          	ex	(sp),hl
4911  1919  21 06 18    	ld	hl,0x1806
4912  191C  E5          	push	hl
4913  191D  3E 98       	ld	a,0x98
4914  191F  F5          	push	af
4915  1920  33          	inc	sp
4916  1921  CD 2D 11    	call	_game_menu_e
4917  1924  F1          	pop	af
4918  1925  F1          	pop	af
4919  1926  33          	inc	sp
4920  1927  21 00 00    	ld	hl,_s_lin1
4921  192A  36 00       	ld	(hl),0x00
4922  192C              l_game_hall_of_fame_00102:
4923  192C  21 00 00    	ld	hl,_screen_ink
4924  192F  36 05       	ld	(hl),0x05
4925  1931  2A 00 00    	ld	hl,(_s_lin1)
4926  1934  26 00       	ld	h,0x00
4927  1936  4D          	ld	c,l
4928  1937  44          	ld	b,h
4929  1938  29          	add	hl, hl
4930  1939  09          	add	hl, bc
4931  193A  29          	add	hl, hl
4932  193B  01 00 00    	ld	bc,_hof
4933  193E  09          	add	hl,bc
4934  193F  3A 00 00    	ld	a,(_s_lin1)
4935  1942  EB          	ex	de,hl
4936  1943  C6 07       	add	a,0x07
4937  1945  47          	ld	b,a
4938  1946  D5          	push	de
4939  1947  3E 0A       	ld	a,0x0a
4940  1949  48          	ld	c,b
4941  194A  47          	ld	b,a
4942  194B  C5          	push	bc
4943  194C  CD 00 00    	call	_zx_print_str
4944  194F  2A 00 00    	ld	hl,(_s_lin1)
4945  1952  26 00       	ld	h,0x00
4946  1954  4D          	ld	c,l
4947  1955  44          	ld	b,h
4948  1956  29          	add	hl, hl
4949  1957  09          	add	hl, bc
4950  1958  29          	add	hl, hl
4951  1959  01 00 00    	ld	bc,_hof
4952  195C  09          	add	hl,bc
4953  195D  11 04 00    	ld	de,0x0004
4954  1960  19          	add	hl, de
4955  1961  5E          	ld	e,(hl)
4956  1962  23          	inc	hl
4957  1963  56          	ld	d,(hl)
4958  1964  3A 00 00    	ld	a,(_s_lin1)
4959  1967  C6 07       	add	a,0x07
4960  1969  47          	ld	b,a
4961  196A  D5          	push	de
4962  196B  3E 10       	ld	a,0x10
4963  196D  48          	ld	c,b
4964  196E  47          	ld	b,a
4965  196F  C5          	push	bc
4966  1970  CD 00 00    	call	_zx_print_int
4967  1973  11 1C 02    	ld	de,___str_52
4968  1976  3A 00 00    	ld	a,(_s_lin1)
4969  1979  C6 07       	add	a,0x07
4970  197B  47          	ld	b,a
4971  197C  D5          	push	de
4972  197D  3E 0E       	ld	a,0x0e
4973  197F  48          	ld	c,b
4974  1980  47          	ld	b,a
4975  1981  C5          	push	bc
4976  1982  CD 00 00    	call	_zx_print_str
4977  1985  11 1E 02    	ld	de,___str_53
4978  1988  3A 00 00    	ld	a,(_s_lin1)
4979  198B  C6 07       	add	a,0x07
4980  198D  47          	ld	b,a
4981  198E  D5          	push	de
4982  198F  3E 15       	ld	a,0x15
4983  1991  48          	ld	c,b
4984  1992  47          	ld	b,a
4985  1993  C5          	push	bc
4986  1994  CD 00 00    	call	_zx_print_str
4987  1997  21 00 00    	ld	hl,_s_lin1
4988  199A  7E          	ld	a,(hl)
4989  199B  3C          	inc	a
4990  199C  77          	ld	(hl),a
4991  199D  D6 0A       	sub	a,0x0a
4992  199F  38 8B       	jr	C,l_game_hall_of_fame_00102
4993  19A1  21 20 02    	ld	hl,___str_54
4994  19A4  E5          	push	hl
4995  19A5  21 04 0A    	ld	hl,0x0a04
4996  19A8  E5          	push	hl
4997  19A9  CD 00 00    	call	_zx_print_str
4998  19AC  21 F4 01    	ld	hl,0x01f4
4999  19AF  E5          	push	hl
5000  19B0  21 0A 16    	ld	hl,0x160a
5001  19B3  E5          	push	hl
5002  19B4  3E 04       	ld	a,0x04
5003  19B6  F5          	push	af
5004  19B7  33          	inc	sp
5005  19B8  CD E9 19    	call	_game_colour_message
5006  19BB  F1          	pop	af
5007  19BC  F1          	pop	af
5008  19BD  33          	inc	sp
5009  19BE  CD 00 00    	call	_spr_draw_clear
5010  19C1  21 00 00    	ld	hl,_game_menu_sel
5011  19C4  36 00       	ld	(hl),0x00
5012  19C6  21 00 00    	ld	hl,_pb_midi_title
5013  19C9  CD 00 00    	call	_ay_midi_play
5014  19CC  C9          	ret
5015  19CD              	SECTION rodata_compiler
5016  021C              ___str_52:
5017  021C  2D          	DEFM "-"
5018  021D  00          	DEFB 0x00
5019  021E              	SECTION rodata_compiler
5020  021E              ___str_53:
5021  021E  30          	DEFM "0"
5022  021F  00          	DEFB 0x00
5023  0220              	SECTION rodata_compiler
5024  0220              ___str_54:
5025  0220  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
5026  022C  00          	DEFB 0x00
5027  022D              	SECTION code_compiler
5028  19CD              ;	---------------------------------
5029  19CD              ; Function game_rotate_attrib
5030  19CD              ; ---------------------------------
5031  19CD              _game_rotate_attrib:
5032  19CD  01 03 00    	ld	bc,_attrib_hl + 3
5033  19D0  0A          	ld	a,(bc)
5034  19D1  32 00 00    	ld	(_tmp_uc),a
5035  19D4  11 02 00    	ld	de,_attrib_hl + 2
5036  19D7  1A          	ld	a,(de)
5037  19D8  02          	ld	(bc),a
5038  19D9  01 01 00    	ld	bc,_attrib_hl + 1
5039  19DC  0A          	ld	a,(bc)
5040  19DD  12          	ld	(de),a
5041  19DE  3A 00 00    	ld	a,(_attrib_hl)
5042  19E1  02          	ld	(bc),a
5043  19E2  3A 00 00    	ld	a,(_tmp_uc)
5044  19E5  32 00 00    	ld	(_attrib_hl),a
5045  19E8  C9          	ret
5046  19E9              	SECTION code_compiler
5047  19E9              ;	---------------------------------
5048  19E9              ; Function game_colour_message
5049  19E9              ; ---------------------------------
5050  19E9              _game_colour_message:
5051  19E9  CD 00 00    	call	___sdcc_enter_ix
5052  19EC  3B          	dec	sp
5053  19ED  21 00 00    	ld	hl,_tmp
5054  19F0  36 01       	ld	(hl),0x01
5055  19F2  2A 00 00    	ld	hl,(_curr_time)
5056  19F5  22 00 00    	ld	(_frame_time),hl
5057  19F8  2A 00 00    	ld	hl,(_curr_time)
5058  19FB  22 00 00    	ld	(_entry_time),hl
5059  19FE  DD 7E 04    	ld	a,(ix+4)
5060  1A01  07          	rlca
5061  1A02  07          	rlca
5062  1A03  07          	rlca
5063  1A04  E6 F8       	and	a,0xf8
5064  1A06  C6 08       	add	a,0x08
5065  1A08  DD 77 FF    	ld	(ix-1),a
5066  1A0B              l_game_colour_message_00107:
5067  1A0B  3A 00 00    	ld	a,(_tmp)
5068  1A0E  B7          	or	a, a
5069  1A0F  28 66       	jr	Z,l_game_colour_message_00110
5070  1A11  DD 6E 07    	ld	l,(ix+7)
5071  1A14  DD 66 08    	ld	h,(ix+8)
5072  1A17  E5          	push	hl
5073  1A18  2A 00 00    	ld	hl,(_entry_time)
5074  1A1B  E5          	push	hl
5075  1A1C  CD 7B 1A    	call	_game_check_time
5076  1A1F  F1          	pop	af
5077  1A20  F1          	pop	af
5078  1A21  7D          	ld	a,l
5079  1A22  B7          	or	a, a
5080  1A23  20 52       	jr	NZ,l_game_colour_message_00110
5081  1A25  21 05 00    	ld	hl,0x0005
5082  1A28  E5          	push	hl
5083  1A29  2A 00 00    	ld	hl,(_frame_time)
5084  1A2C  E5          	push	hl
5085  1A2D  CD 7B 1A    	call	_game_check_time
5086  1A30  F1          	pop	af
5087  1A31  F1          	pop	af
5088  1A32  7D          	ld	a,l
5089  1A33  B7          	or	a, a
5090  1A34  28 1A       	jr	Z,l_game_colour_message_00103
5091  1A36  2A 00 00    	ld	hl,(_curr_time)
5092  1A39  22 00 00    	ld	(_frame_time),hl
5093  1A3C  DD 66 FF    	ld	h,(ix-1)
5094  1A3F  DD 6E 06    	ld	l,(ix+6)
5095  1A42  E5          	push	hl
5096  1A43  DD 7E 05    	ld	a,(ix+5)
5097  1A46  F5          	push	af
5098  1A47  33          	inc	sp
5099  1A48  CD 94 0D    	call	_game_paint_attrib_lin_h
5100  1A4B  F1          	pop	af
5101  1A4C  33          	inc	sp
5102  1A4D  CD CD 19    	call	_game_rotate_attrib
5103  1A50              l_game_colour_message_00103:
5104  1A50  21 00 00    	ld	hl,_k1
5105  1A53  E5          	push	hl
5106  1A54  2A 00 00    	ld	hl,(_joyfunc1)
5107  1A57  CD 00 00    	call	___sdcc_call_hl
5108  1A5A  E3          	ex	(sp),hl
5109  1A5B  21 00 00    	ld	hl,_k2
5110  1A5E  E5          	push	hl
5111  1A5F  2A 00 00    	ld	hl,(_joyfunc2)
5112  1A62  CD 00 00    	call	___sdcc_call_hl
5113  1A65  F1          	pop	af
5114  1A66  EB          	ex	de,hl
5115  1A67  C1          	pop	bc
5116  1A68  79          	ld	a,c
5117  1A69  B3          	or	a, e
5118  1A6A  4F          	ld	c,a
5119  1A6B  78          	ld	a,b
5120  1A6C  B2          	or	a, d
5121  1A6D  B1          	or	a,c
5122  1A6E  28 9B       	jr	Z,l_game_colour_message_00107
5123  1A70  21 00 00    	ld	hl,_tmp
5124  1A73  36 00       	ld	(hl),0x00
5125  1A75  18 D9       	jr	l_game_colour_message_00103
5126  1A77              l_game_colour_message_00110:
5127  1A77  33          	inc	sp
5128  1A78  DD E1       	pop	ix
5129  1A7A  C9          	ret
5130  1A7B              	SECTION code_compiler
5131  1A7B              ;	---------------------------------
5132  1A7B              ; Function game_check_time
5133  1A7B              ; ---------------------------------
5134  1A7B              _game_check_time:
5135  1A7B  CD 00 00    	call	___sdcc_enter_ix
5136  1A7E  2A 00 00    	ld	hl,(_curr_time)
5137  1A81  7D          	ld	a,l
5138  1A82  DD 96 04    	sub	a,(ix+4)
5139  1A85  4F          	ld	c,a
5140  1A86  7C          	ld	a,h
5141  1A87  DD 9E 05    	sbc	a,(ix+5)
5142  1A8A  47          	ld	b,a
5143  1A8B  DD 7E 06    	ld	a,(ix+6)
5144  1A8E  91          	sub	a, c
5145  1A8F  DD 7E 07    	ld	a,(ix+7)
5146  1A92  98          	sbc	a, b
5147  1A93  30 04       	jr	NC,l_game_check_time_00102
5148  1A95  2E 01       	ld	l,0x01
5149  1A97  18 02       	jr	l_game_check_time_00104
5150  1A99              l_game_check_time_00102:
5151  1A99  2E 00       	ld	l,0x00
5152  1A9B              l_game_check_time_00104:
5153  1A9B  DD E1       	pop	ix
5154  1A9D  C9          	ret
5155  1A9E              	SECTION IGNORE
5156  0000              
