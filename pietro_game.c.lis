1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_print_phase
184   0000              	GLOBAL _game_calc_index
185   0000              	GLOBAL _game_print_footer
186   0000              	GLOBAL _game_phase_print_score_back
187   0000              	GLOBAL _game_print_lives
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_start_timer
190   0000              	GLOBAL _game_phase_calc
191   0000              	GLOBAL _game_phase_init
192   0000              	GLOBAL _game_print_header
193   0000              	GLOBAL _game_phase_print
194   0000              	GLOBAL _game_loop
195   0000              	GLOBAL _game_score_osd
196   0000              	GLOBAL _game_bonus_clock
197   0000              	GLOBAL _game_bonus_summary
198   0000              	GLOBAL _game_bonus_summary_player
199   0000              	GLOBAL _game_kill_all_sprites
200   0000              	GLOBAL _game_check_maze
201   0000              	GLOBAL _game_enemy_add
202   0000              	GLOBAL _game_enemy_quota
203   0000              	GLOBAL _game_enemy_rnd
204   0000              	GLOBAL _game_enemy_add1
205   0000              	GLOBAL _game_enemy_add_get_index
206   0000              	GLOBAL _game_freeze
207   0000              	GLOBAL _game_unfreeze_all
208   0000              	GLOBAL _game_freeze_all
209   0000              	GLOBAL _game_print_score
210   0000              	GLOBAL _game_paint_attrib
211   0000              	GLOBAL _game_paint_attrib_lin
212   0000              	GLOBAL _game_paint_attrib_lin_h
213   0000              	GLOBAL _game_menu_config
214   0000              	GLOBAL _game_joystick_change
215   0000              	GLOBAL _game_joystick_set_menu
216   0000              	GLOBAL _game_joystick_set
217   0000              	GLOBAL _game_menu
218   0000              	GLOBAL _game_menu_top_paint
219   0000              	GLOBAL _game_menu_paint
220   0000              	GLOBAL _game_menu_e
221   0000              	GLOBAL _game_menu_handle
222   0000              	GLOBAL _game_end
223   0000              	GLOBAL _game_hall_check
224   0000              	GLOBAL _game_hall_enter
225   0000              	GLOBAL _game_menu_back
226   0000              	GLOBAL _game_hall_enter_phs
227   0000              	GLOBAL _game_hall_print_p
228   0000              	GLOBAL _game_hall_edit_p
229   0000              	GLOBAL _game_hall_of_fame
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_colour_message
232   0000              	GLOBAL _game_check_time
233   0000              ;--------------------------------------------------------
234   0000              ; Externals used
235   0000              ;--------------------------------------------------------
236   0000              	GLOBAL _debug3
237   0000              	GLOBAL _debug2
238   0000              	GLOBAL _debug
239   0000              	GLOBAL _zx_print_str
240   0000              	GLOBAL _zx_print_int
241   0000              	GLOBAL _zx_print_chr
242   0000              	GLOBAL _zx_print_bonus_time
243   0000              	GLOBAL _zx_isr
244   0000              	GLOBAL _spr_calc_hor
245   0000              	GLOBAL _spr_draw_row
246   0000              	GLOBAL _spr_draw_index
247   0000              	GLOBAL _spr_draw_clear
248   0000              	GLOBAL _spr_water_splash_draw
249   0000              	GLOBAL _spr_water_splash_clear
250   0000              	GLOBAL _spr_draw_back
251   0000              	GLOBAL _spr_cortina_brick
252   0000              	GLOBAL _spr_brick_anim
253   0000              	GLOBAL _spr_back_fix
254   0000              	GLOBAL _spr_back_paint
255   0000              	GLOBAL _spr_back_clr
256   0000              	GLOBAL _spr_draw_pow
257   0000              	GLOBAL _spr_tile
258   0000              	GLOBAL _spr_set_fall
259   0000              	GLOBAL _spr_destroy
260   0000              	GLOBAL _spr_check_over
261   0000              	GLOBAL _spr_tile_dir
262   0000              	GLOBAL _spr_anim_kill
263   0000              	GLOBAL _spr_anim_fall
264   0000              	GLOBAL _spr_killed
265   0000              	GLOBAL _spr_redraw
266   0000              	GLOBAL _spr_move_left
267   0000              	GLOBAL _spr_move_right
268   0000              	GLOBAL _spr_move_horizontal
269   0000              	GLOBAL _spr_move_down
270   0000              	GLOBAL _spr_move_up
271   0000              	GLOBAL _spr_chktime
272   0000              	GLOBAL _sound_hit_pow
273   0000              	GLOBAL _sound_hit_brick
274   0000              	GLOBAL _sound_hit_enemy
275   0000              	GLOBAL _sound_kill
276   0000              	GLOBAL _sound_enter_enemy
277   0000              	GLOBAL _sound_coin
278   0000              	GLOBAL _sound_jump
279   0000              	GLOBAL _sound_slide
280   0000              	GLOBAL _player_set
281   0000              	GLOBAL _player_move_horizontal
282   0000              	GLOBAL _player_push_check
283   0000              	GLOBAL _player_push
284   0000              	GLOBAL _player_hit_brick_clear
285   0000              	GLOBAL _player_lost_life
286   0000              	GLOBAL _player_score_add
287   0000              	GLOBAL _player_coin
288   0000              	GLOBAL _player_hit_pow
289   0000              	GLOBAL _player_hit_brick
290   0000              	GLOBAL _player_move_input
291   0000              	GLOBAL _player_turn
292   0000              	GLOBAL _player_move
293   0000              	GLOBAL _player_restart
294   0000              	GLOBAL _player_kill
295   0000              	GLOBAL _player_check_input
296   0000              	GLOBAL _player_collision_check
297   0000              	GLOBAL _player_collision
298   0000              	GLOBAL _player_calc_slide
299   0000              	GLOBAL _player_init
300   0000              	GLOBAL _player_set2
301   0000              	GLOBAL _player_set1
302   0000              	GLOBAL _game_fill_row
303   0000              	GLOBAL _enemy_ugly_fix
304   0000              	GLOBAL _enemy_kill
305   0000              	GLOBAL _enemy_init
306   0000              	GLOBAL _enemy_walk
307   0000              	GLOBAL _enemy_upgrade
308   0000              	GLOBAL _enemy_evolve
309   0000              	GLOBAL _enemy_standard_hit
310   0000              	GLOBAL _enemy_trip
311   0000              	GLOBAL _enemy_fighterfly
312   0000              	GLOBAL _enemy_fireball_green
313   0000              	GLOBAL _enemy_fireball_red
314   0000              	GLOBAL _enemy_slipice
315   0000              	GLOBAL _enemy_standard
316   0000              	GLOBAL _enemy_turn
317   0000              	GLOBAL _enemy_flip_sidestepper
318   0000              	GLOBAL _enemy_flip
319   0000              	GLOBAL _enemy_flip_change_dir
320   0000              	GLOBAL _enemy_hit
321   0000              	GLOBAL _enemy_collision_check
322   0000              	GLOBAL _enemy_collision
323   0000              	GLOBAL _enemy_coin1
324   0000              	GLOBAL _ay_fx_play
325   0000              	GLOBAL _ay_midi_play
326   0000              	GLOBAL _ay_is_playing
327   0000              	GLOBAL _ay_reset
328   0000              	GLOBAL _debug_func
329   0000              	GLOBAL _test_func
330   0000              	GLOBAL _in_mouse_kempston_wheel_delta
331   0000              	GLOBAL _in_mouse_kempston_wheel
332   0000              	GLOBAL _in_mouse_kempston_callee
333   0000              	GLOBAL _in_mouse_kempston
334   0000              	GLOBAL _in_mouse_kempston_setpos_callee
335   0000              	GLOBAL _in_mouse_kempston_setpos
336   0000              	GLOBAL _in_mouse_kempston_reset
337   0000              	GLOBAL _in_mouse_kempston_init
338   0000              	GLOBAL _in_mouse_amx_wheel_delta
339   0000              	GLOBAL _in_mouse_amx_wheel
340   0000              	GLOBAL _in_mouse_amx_callee
341   0000              	GLOBAL _in_mouse_amx
342   0000              	GLOBAL _in_mouse_amx_setpos_callee
343   0000              	GLOBAL _in_mouse_amx_setpos
344   0000              	GLOBAL _in_mouse_amx_reset
345   0000              	GLOBAL _in_mouse_amx_init_callee
346   0000              	GLOBAL _in_mouse_amx_init
347   0000              	GLOBAL _in_stick_sinclair2
348   0000              	GLOBAL _in_stick_sinclair1
349   0000              	GLOBAL _in_stick_kempston
350   0000              	GLOBAL _in_stick_fuller
351   0000              	GLOBAL _in_stick_cursor
352   0000              	GLOBAL _in_stick_keyboard_fastcall
353   0000              	GLOBAL _in_stick_keyboard
354   0000              	GLOBAL _in_wait_nokey
355   0000              	GLOBAL _in_wait_key
356   0000              	GLOBAL _in_test_key
357   0000              	GLOBAL _in_pause_fastcall
358   0000              	GLOBAL _in_pause
359   0000              	GLOBAL _in_key_scancode_fastcall
360   0000              	GLOBAL _in_key_scancode
361   0000              	GLOBAL _in_key_pressed_fastcall
362   0000              	GLOBAL _in_key_pressed
363   0000              	GLOBAL _in_inkey
364   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawTW_raw
366   0000              	GLOBAL _NIRVANAP_drawTW_callee
367   0000              	GLOBAL _NIRVANAP_drawTW
368   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
369   0000              	GLOBAL _NIRVANAP_drawW_raw
370   0000              	GLOBAL _NIRVANAP_drawW_callee
371   0000              	GLOBAL _NIRVANAP_drawW
372   0000              	GLOBAL _NIRVANAP_spriteT_callee
373   0000              	GLOBAL _NIRVANAP_spriteT
374   0000              	GLOBAL _NIRVANAP_fillC_callee
375   0000              	GLOBAL _NIRVANAP_fillC
376   0000              	GLOBAL _NIRVANAP_readC_callee
377   0000              	GLOBAL _NIRVANAP_readC
378   0000              	GLOBAL _NIRVANAP_paintC_callee
379   0000              	GLOBAL _NIRVANAP_paintC
380   0000              	GLOBAL _NIRVANAP_printC_callee
381   0000              	GLOBAL _NIRVANAP_printC
382   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
383   0000              	GLOBAL _NIRVANAP_fillT_raw
384   0000              	GLOBAL _NIRVANAP_fillT_callee
385   0000              	GLOBAL _NIRVANAP_fillT
386   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
387   0000              	GLOBAL _NIRVANAP_drawT_raw
388   0000              	GLOBAL _NIRVANAP_drawT_callee
389   0000              	GLOBAL _NIRVANAP_drawT
390   0000              	GLOBAL _NIRVANAP_stop
391   0000              	GLOBAL _NIRVANAP_start
392   0000              	GLOBAL _z80_otdr_callee
393   0000              	GLOBAL _z80_otdr
394   0000              	GLOBAL _z80_otir_callee
395   0000              	GLOBAL _z80_otir
396   0000              	GLOBAL _z80_outp_callee
397   0000              	GLOBAL _z80_outp
398   0000              	GLOBAL _z80_indr_callee
399   0000              	GLOBAL _z80_indr
400   0000              	GLOBAL _z80_inir_callee
401   0000              	GLOBAL _z80_inir
402   0000              	GLOBAL _z80_inp_fastcall
403   0000              	GLOBAL _z80_inp
404   0000              	GLOBAL _z80_set_int_state_fastcall
405   0000              	GLOBAL _z80_set_int_state
406   0000              	GLOBAL _z80_get_int_state
407   0000              	GLOBAL _z80_delay_tstate_fastcall
408   0000              	GLOBAL _z80_delay_tstate
409   0000              	GLOBAL _z80_delay_ms_fastcall
410   0000              	GLOBAL _z80_delay_ms
411   0000              	GLOBAL _im2_remove_generic_callback_callee
412   0000              	GLOBAL _im2_remove_generic_callback
413   0000              	GLOBAL _im2_prepend_generic_callback_callee
414   0000              	GLOBAL _im2_prepend_generic_callback
415   0000              	GLOBAL _im2_append_generic_callback_callee
416   0000              	GLOBAL _im2_append_generic_callback
417   0000              	GLOBAL _im2_create_generic_isr_8080_callee
418   0000              	GLOBAL _im2_create_generic_isr_8080
419   0000              	GLOBAL _im2_create_generic_isr_callee
420   0000              	GLOBAL _im2_create_generic_isr
421   0000              	GLOBAL _im2_install_isr_callee
422   0000              	GLOBAL _im2_install_isr
423   0000              	GLOBAL _im2_init_fastcall
424   0000              	GLOBAL _im2_init
425   0000              	GLOBAL _ffsll_callee
426   0000              	GLOBAL _ffsll
427   0000              	GLOBAL _strxfrm_callee
428   0000              	GLOBAL _strxfrm
429   0000              	GLOBAL _strupr_fastcall
430   0000              	GLOBAL _strupr
431   0000              	GLOBAL _strtok_r_callee
432   0000              	GLOBAL _strtok_r
433   0000              	GLOBAL _strtok_callee
434   0000              	GLOBAL _strtok
435   0000              	GLOBAL _strstrip_fastcall
436   0000              	GLOBAL _strstrip
437   0000              	GLOBAL _strstr_callee
438   0000              	GLOBAL _strstr
439   0000              	GLOBAL _strspn_callee
440   0000              	GLOBAL _strspn
441   0000              	GLOBAL _strsep_callee
442   0000              	GLOBAL _strsep
443   0000              	GLOBAL _strrstrip_fastcall
444   0000              	GLOBAL _strrstrip
445   0000              	GLOBAL _strrspn_callee
446   0000              	GLOBAL _strrspn
447   0000              	GLOBAL _strrev_fastcall
448   0000              	GLOBAL _strrev
449   0000              	GLOBAL _strrcspn_callee
450   0000              	GLOBAL _strrcspn
451   0000              	GLOBAL _strrchr_callee
452   0000              	GLOBAL _strrchr
453   0000              	GLOBAL _strpbrk_callee
454   0000              	GLOBAL _strpbrk
455   0000              	GLOBAL _strnlen_callee
456   0000              	GLOBAL _strnlen
457   0000              	GLOBAL _strnicmp_callee
458   0000              	GLOBAL _strnicmp
459   0000              	GLOBAL _strndup_callee
460   0000              	GLOBAL _strndup
461   0000              	GLOBAL _strncpy_callee
462   0000              	GLOBAL _strncpy
463   0000              	GLOBAL _strncmp_callee
464   0000              	GLOBAL _strncmp
465   0000              	GLOBAL _strnchr_callee
466   0000              	GLOBAL _strnchr
467   0000              	GLOBAL _strncat_callee
468   0000              	GLOBAL _strncat
469   0000              	GLOBAL _strncasecmp_callee
470   0000              	GLOBAL _strncasecmp
471   0000              	GLOBAL _strlwr_fastcall
472   0000              	GLOBAL _strlwr
473   0000              	GLOBAL _strlen_fastcall
474   0000              	GLOBAL _strlen
475   0000              	GLOBAL _strlcpy_callee
476   0000              	GLOBAL _strlcpy
477   0000              	GLOBAL _strlcat_callee
478   0000              	GLOBAL _strlcat
479   0000              	GLOBAL _stricmp_callee
480   0000              	GLOBAL _stricmp
481   0000              	GLOBAL _strerror_fastcall
482   0000              	GLOBAL _strerror
483   0000              	GLOBAL _strdup_fastcall
484   0000              	GLOBAL _strdup
485   0000              	GLOBAL _strcspn_callee
486   0000              	GLOBAL _strcspn
487   0000              	GLOBAL _strcpy_callee
488   0000              	GLOBAL _strcpy
489   0000              	GLOBAL _strcoll_callee
490   0000              	GLOBAL _strcoll
491   0000              	GLOBAL _strcmp_callee
492   0000              	GLOBAL _strcmp
493   0000              	GLOBAL _strchrnul_callee
494   0000              	GLOBAL _strchrnul
495   0000              	GLOBAL _strchr_callee
496   0000              	GLOBAL _strchr
497   0000              	GLOBAL _strcat_callee
498   0000              	GLOBAL _strcat
499   0000              	GLOBAL _strcasecmp_callee
500   0000              	GLOBAL _strcasecmp
501   0000              	GLOBAL _stpncpy_callee
502   0000              	GLOBAL _stpncpy
503   0000              	GLOBAL _stpcpy_callee
504   0000              	GLOBAL _stpcpy
505   0000              	GLOBAL _memswap_callee
506   0000              	GLOBAL _memswap
507   0000              	GLOBAL _memset_callee
508   0000              	GLOBAL _memset
509   0000              	GLOBAL _memrchr_callee
510   0000              	GLOBAL _memrchr
511   0000              	GLOBAL _memmove_callee
512   0000              	GLOBAL _memmove
513   0000              	GLOBAL _memmem_callee
514   0000              	GLOBAL _memmem
515   0000              	GLOBAL _memcpy_callee
516   0000              	GLOBAL _memcpy
517   0000              	GLOBAL _memcmp_callee
518   0000              	GLOBAL _memcmp
519   0000              	GLOBAL _memchr_callee
520   0000              	GLOBAL _memchr
521   0000              	GLOBAL _memccpy_callee
522   0000              	GLOBAL _memccpy
523   0000              	GLOBAL _ffsl_fastcall
524   0000              	GLOBAL _ffsl
525   0000              	GLOBAL _ffs_fastcall
526   0000              	GLOBAL _ffs
527   0000              	GLOBAL __strrstrip__fastcall
528   0000              	GLOBAL __strrstrip_
529   0000              	GLOBAL __memupr__callee
530   0000              	GLOBAL __memupr_
531   0000              	GLOBAL __memstrcpy__callee
532   0000              	GLOBAL __memstrcpy_
533   0000              	GLOBAL __memlwr__callee
534   0000              	GLOBAL __memlwr_
535   0000              	GLOBAL _rawmemchr_callee
536   0000              	GLOBAL _rawmemchr
537   0000              	GLOBAL _strnset_callee
538   0000              	GLOBAL _strnset
539   0000              	GLOBAL _strset_callee
540   0000              	GLOBAL _strset
541   0000              	GLOBAL _rindex_callee
542   0000              	GLOBAL _rindex
543   0000              	GLOBAL _index_callee
544   0000              	GLOBAL _index
545   0000              	GLOBAL _bzero_callee
546   0000              	GLOBAL _bzero
547   0000              	GLOBAL _bcopy_callee
548   0000              	GLOBAL _bcopy
549   0000              	GLOBAL _bcmp_callee
550   0000              	GLOBAL _bcmp
551   0000              	GLOBAL _ulltoa_callee
552   0000              	GLOBAL _ulltoa
553   0000              	GLOBAL _strtoull_callee
554   0000              	GLOBAL _strtoull
555   0000              	GLOBAL _strtoll_callee
556   0000              	GLOBAL _strtoll
557   0000              	GLOBAL _lltoa_callee
558   0000              	GLOBAL _lltoa
559   0000              	GLOBAL _llabs_callee
560   0000              	GLOBAL _llabs
561   0000              	GLOBAL __lldivu__callee
562   0000              	GLOBAL __lldivu_
563   0000              	GLOBAL __lldiv__callee
564   0000              	GLOBAL __lldiv_
565   0000              	GLOBAL _atoll_callee
566   0000              	GLOBAL _atoll
567   0000              	GLOBAL _realloc_unlocked_callee
568   0000              	GLOBAL _realloc_unlocked
569   0000              	GLOBAL _malloc_unlocked_fastcall
570   0000              	GLOBAL _malloc_unlocked
571   0000              	GLOBAL _free_unlocked_fastcall
572   0000              	GLOBAL _free_unlocked
573   0000              	GLOBAL _calloc_unlocked_callee
574   0000              	GLOBAL _calloc_unlocked
575   0000              	GLOBAL _aligned_alloc_unlocked_callee
576   0000              	GLOBAL _aligned_alloc_unlocked
577   0000              	GLOBAL _realloc_callee
578   0000              	GLOBAL _realloc
579   0000              	GLOBAL _malloc_fastcall
580   0000              	GLOBAL _malloc
581   0000              	GLOBAL _free_fastcall
582   0000              	GLOBAL _free
583   0000              	GLOBAL _calloc_callee
584   0000              	GLOBAL _calloc
585   0000              	GLOBAL _aligned_alloc_callee
586   0000              	GLOBAL _aligned_alloc
587   0000              	GLOBAL _utoa_callee
588   0000              	GLOBAL _utoa
589   0000              	GLOBAL _ultoa_callee
590   0000              	GLOBAL _ultoa
591   0000              	GLOBAL _system_fastcall
592   0000              	GLOBAL _system
593   0000              	GLOBAL _strtoul_callee
594   0000              	GLOBAL _strtoul
595   0000              	GLOBAL _strtol_callee
596   0000              	GLOBAL _strtol
597   0000              	GLOBAL _strtof_callee
598   0000              	GLOBAL _strtof
599   0000              	GLOBAL _strtod_callee
600   0000              	GLOBAL _strtod
601   0000              	GLOBAL _srand_fastcall
602   0000              	GLOBAL _srand
603   0000              	GLOBAL _rand
604   0000              	GLOBAL _quick_exit_fastcall
605   0000              	GLOBAL _quick_exit
606   0000              	GLOBAL _qsort_callee
607   0000              	GLOBAL _qsort
608   0000              	GLOBAL _ltoa_callee
609   0000              	GLOBAL _ltoa
610   0000              	GLOBAL _labs_fastcall
611   0000              	GLOBAL _labs
612   0000              	GLOBAL _itoa_callee
613   0000              	GLOBAL _itoa
614   0000              	GLOBAL _ftoh_callee
615   0000              	GLOBAL _ftoh
616   0000              	GLOBAL _ftog_callee
617   0000              	GLOBAL _ftog
618   0000              	GLOBAL _ftoe_callee
619   0000              	GLOBAL _ftoe
620   0000              	GLOBAL _ftoa_callee
621   0000              	GLOBAL _ftoa
622   0000              	GLOBAL _exit_fastcall
623   0000              	GLOBAL _exit
624   0000              	GLOBAL _dtoh_callee
625   0000              	GLOBAL _dtoh
626   0000              	GLOBAL _dtog_callee
627   0000              	GLOBAL _dtog
628   0000              	GLOBAL _dtoe_callee
629   0000              	GLOBAL _dtoe
630   0000              	GLOBAL _dtoa_callee
631   0000              	GLOBAL _dtoa
632   0000              	GLOBAL _bsearch_callee
633   0000              	GLOBAL _bsearch
634   0000              	GLOBAL _atol_fastcall
635   0000              	GLOBAL _atol
636   0000              	GLOBAL _atoi_fastcall
637   0000              	GLOBAL _atoi
638   0000              	GLOBAL _atof_fastcall
639   0000              	GLOBAL _atof
640   0000              	GLOBAL _atexit_fastcall
641   0000              	GLOBAL _atexit
642   0000              	GLOBAL _at_quick_exit_fastcall
643   0000              	GLOBAL _at_quick_exit
644   0000              	GLOBAL _abs_fastcall
645   0000              	GLOBAL _abs
646   0000              	GLOBAL _abort
647   0000              	GLOBAL __strtou__callee
648   0000              	GLOBAL __strtou_
649   0000              	GLOBAL __strtoi__callee
650   0000              	GLOBAL __strtoi_
651   0000              	GLOBAL __random_uniform_xor_8__fastcall
652   0000              	GLOBAL __random_uniform_xor_8_
653   0000              	GLOBAL __random_uniform_xor_32__fastcall
654   0000              	GLOBAL __random_uniform_xor_32_
655   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
656   0000              	GLOBAL __random_uniform_cmwc_8_
657   0000              	GLOBAL __shellsort__callee
658   0000              	GLOBAL __shellsort_
659   0000              	GLOBAL __quicksort__callee
660   0000              	GLOBAL __quicksort_
661   0000              	GLOBAL __insertion_sort__callee
662   0000              	GLOBAL __insertion_sort_
663   0000              	GLOBAL __ldivu__callee
664   0000              	GLOBAL __ldivu_
665   0000              	GLOBAL __ldiv__callee
666   0000              	GLOBAL __ldiv_
667   0000              	GLOBAL __divu__callee
668   0000              	GLOBAL __divu_
669   0000              	GLOBAL __div__callee
670   0000              	GLOBAL __div_
671   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
672   0000              	GLOBAL _intrinsic_swap_word_32
673   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
674   0000              	GLOBAL _intrinsic_swap_endian_32
675   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
676   0000              	GLOBAL _intrinsic_swap_endian_16
677   0000              	GLOBAL _intrinsic_return_de
678   0000              	GLOBAL _intrinsic_return_bc
679   0000              	GLOBAL _intrinsic_exx
680   0000              	GLOBAL _intrinsic_ex_de_hl
681   0000              	GLOBAL _intrinsic_pop_iy
682   0000              	GLOBAL _intrinsic_pop_ix
683   0000              	GLOBAL _intrinsic_pop_hl
684   0000              	GLOBAL _intrinsic_pop_de
685   0000              	GLOBAL _intrinsic_pop_bc
686   0000              	GLOBAL _intrinsic_pop_af
687   0000              	GLOBAL _intrinsic_push_iy
688   0000              	GLOBAL _intrinsic_push_ix
689   0000              	GLOBAL _intrinsic_push_hl
690   0000              	GLOBAL _intrinsic_push_de
691   0000              	GLOBAL _intrinsic_push_bc
692   0000              	GLOBAL _intrinsic_push_af
693   0000              	GLOBAL _intrinsic_nop
694   0000              	GLOBAL _intrinsic_im_2
695   0000              	GLOBAL _intrinsic_im_1
696   0000              	GLOBAL _intrinsic_im_0
697   0000              	GLOBAL _intrinsic_retn
698   0000              	GLOBAL _intrinsic_reti
699   0000              	GLOBAL _intrinsic_halt
700   0000              	GLOBAL _intrinsic_ei
701   0000              	GLOBAL _intrinsic_di
702   0000              	GLOBAL _intrinsic_stub
703   0000              	GLOBAL _zx_pattern_fill_callee
704   0000              	GLOBAL _zx_pattern_fill
705   0000              	GLOBAL _zx_saddrpup_fastcall
706   0000              	GLOBAL _zx_saddrpup
707   0000              	GLOBAL _zx_saddrpright_callee
708   0000              	GLOBAL _zx_saddrpright
709   0000              	GLOBAL _zx_saddrpleft_callee
710   0000              	GLOBAL _zx_saddrpleft
711   0000              	GLOBAL _zx_saddrpdown_fastcall
712   0000              	GLOBAL _zx_saddrpdown
713   0000              	GLOBAL _zx_saddrcup_fastcall
714   0000              	GLOBAL _zx_saddrcup
715   0000              	GLOBAL _zx_saddrcright_fastcall
716   0000              	GLOBAL _zx_saddrcright
717   0000              	GLOBAL _zx_saddrcleft_fastcall
718   0000              	GLOBAL _zx_saddrcleft
719   0000              	GLOBAL _zx_saddrcdown_fastcall
720   0000              	GLOBAL _zx_saddrcdown
721   0000              	GLOBAL _zx_saddr2py_fastcall
722   0000              	GLOBAL _zx_saddr2py
723   0000              	GLOBAL _zx_saddr2px_fastcall
724   0000              	GLOBAL _zx_saddr2px
725   0000              	GLOBAL _zx_saddr2cy_fastcall
726   0000              	GLOBAL _zx_saddr2cy
727   0000              	GLOBAL _zx_saddr2cx_fastcall
728   0000              	GLOBAL _zx_saddr2cx
729   0000              	GLOBAL _zx_saddr2aaddr_fastcall
730   0000              	GLOBAL _zx_saddr2aaddr
731   0000              	GLOBAL _zx_py2saddr_fastcall
732   0000              	GLOBAL _zx_py2saddr
733   0000              	GLOBAL _zx_py2aaddr_fastcall
734   0000              	GLOBAL _zx_py2aaddr
735   0000              	GLOBAL _zx_pxy2saddr_callee
736   0000              	GLOBAL _zx_pxy2saddr
737   0000              	GLOBAL _zx_pxy2aaddr_callee
738   0000              	GLOBAL _zx_pxy2aaddr
739   0000              	GLOBAL _zx_px2bitmask_fastcall
740   0000              	GLOBAL _zx_px2bitmask
741   0000              	GLOBAL _zx_cyx2saddr_callee
742   0000              	GLOBAL _zx_cyx2saddr
743   0000              	GLOBAL _zx_cyx2aaddr_callee
744   0000              	GLOBAL _zx_cyx2aaddr
745   0000              	GLOBAL _zx_cy2saddr_fastcall
746   0000              	GLOBAL _zx_cy2saddr
747   0000              	GLOBAL _zx_cy2aaddr_fastcall
748   0000              	GLOBAL _zx_cy2aaddr
749   0000              	GLOBAL _zx_bitmask2px_fastcall
750   0000              	GLOBAL _zx_bitmask2px
751   0000              	GLOBAL _zx_aaddrcup_fastcall
752   0000              	GLOBAL _zx_aaddrcup
753   0000              	GLOBAL _zx_aaddrcright_fastcall
754   0000              	GLOBAL _zx_aaddrcright
755   0000              	GLOBAL _zx_aaddrcleft_fastcall
756   0000              	GLOBAL _zx_aaddrcleft
757   0000              	GLOBAL _zx_aaddrcdown_fastcall
758   0000              	GLOBAL _zx_aaddrcdown
759   0000              	GLOBAL _zx_aaddr2saddr_fastcall
760   0000              	GLOBAL _zx_aaddr2saddr
761   0000              	GLOBAL _zx_aaddr2py_fastcall
762   0000              	GLOBAL _zx_aaddr2py
763   0000              	GLOBAL _zx_aaddr2px_fastcall
764   0000              	GLOBAL _zx_aaddr2px
765   0000              	GLOBAL _zx_aaddr2cy_fastcall
766   0000              	GLOBAL _zx_aaddr2cy
767   0000              	GLOBAL _zx_aaddr2cx_fastcall
768   0000              	GLOBAL _zx_aaddr2cx
769   0000              	GLOBAL _zx_scroll_wc_up_callee
770   0000              	GLOBAL _zx_scroll_wc_up
771   0000              	GLOBAL _zx_scroll_up_callee
772   0000              	GLOBAL _zx_scroll_up
773   0000              	GLOBAL _zx_cls_wc_callee
774   0000              	GLOBAL _zx_cls_wc
775   0000              	GLOBAL _zx_cls_fastcall
776   0000              	GLOBAL _zx_cls
777   0000              	GLOBAL _zx_border_fastcall
778   0000              	GLOBAL _zx_border
779   0000              	GLOBAL _joynames
780   0000              	GLOBAL _initials
781   0000              	GLOBAL _hof
782   0000              	GLOBAL _score_osd_tile
783   0000              	GLOBAL _score_osd_time
784   0000              	GLOBAL _score_osd_col
785   0000              	GLOBAL _score_osd_lin
786   0000              	GLOBAL _phase_bonus_total
787   0000              	GLOBAL _phase_angry
788   0000              	GLOBAL _phase_curr
789   0000              	GLOBAL _phase_end
790   0000              	GLOBAL _phase_coins
791   0000              	GLOBAL _phase_pop
792   0000              	GLOBAL _phase_tot
793   0000              	GLOBAL _phase_left
794   0000              	GLOBAL _phase_quota
795   0000              	GLOBAL _phases
796   0000              	GLOBAL _spr_idx
797   0000              	GLOBAL _lvl_1
798   0000              	GLOBAL _sprite_speed_alt
799   0000              	GLOBAL _sprite_speed
800   0000              	GLOBAL _screen_ink
801   0000              	GLOBAL _screen_paper
802   0000              	GLOBAL _game_menu_sel
803   0000              	GLOBAL _game_type
804   0000              	GLOBAL _game_osd
805   0000              	GLOBAL _game_bonus
806   0000              	GLOBAL _spr_water_time
807   0000              	GLOBAL _spr_water_clear
808   0000              	GLOBAL _game_time_fireball_start
809   0000              	GLOBAL _game_time_flipped
810   0000              	GLOBAL _game_score_top
811   0000              	GLOBAL _game_lives
812   0000              	GLOBAL _game_over
813   0000              	GLOBAL _game_sound
814   0000              	GLOBAL _game_inmune
815   0000              	GLOBAL _game_god_mode
816   0000              	GLOBAL _game_start_phase
817   0000              	GLOBAL _game_two_player
818   0000              	GLOBAL _game_brick_tile
819   0000              	GLOBAL _game_pow
820   0000              	GLOBAL _spr_count
821   0000              	GLOBAL _osd_time
822   0000              	GLOBAL _frame_time
823   0000              	GLOBAL _entry_time
824   0000              	GLOBAL _curr_time
825   0000              	GLOBAL _s_state
826   0000              	GLOBAL _attrib_hl
827   0000              	GLOBAL _attrib
828   0000              	GLOBAL _zx_val_asm
829   0000              	GLOBAL _enemies
830   0000              	GLOBAL _tmp_ui
831   0000              	GLOBAL _tmp_sc
832   0000              	GLOBAL _tmp_uc
833   0000              	GLOBAL _tmp1
834   0000              	GLOBAL _tmp0
835   0000              	GLOBAL _tmp
836   0000              	GLOBAL _index_d
837   0000              	GLOBAL _index3
838   0000              	GLOBAL _index2
839   0000              	GLOBAL _index1
840   0000              	GLOBAL _loop_count
841   0000              	GLOBAL _sprite_lin_inc_mul
842   0000              	GLOBAL _s_col1
843   0000              	GLOBAL _s_col0
844   0000              	GLOBAL _s_lin1
845   0000              	GLOBAL _s_lin0
846   0000              	GLOBAL _s_tile1
847   0000              	GLOBAL _s_tile0
848   0000              	GLOBAL _hit_count
849   0000              	GLOBAL _tile_offset_other_player
850   0000              	GLOBAL _tile_offset
851   0000              	GLOBAL _index_player
852   0000              	GLOBAL _sprite_other_player
853   0000              	GLOBAL _sprite
854   0000              	GLOBAL _player_joy
855   0000              	GLOBAL _player_next_extra
856   0000              	GLOBAL _player_score
857   0000              	GLOBAL _last_time
858   0000              	GLOBAL _sliding
859   0000              	GLOBAL _spr_timer_c
860   0000              	GLOBAL _spr_timer
861   0000              	GLOBAL _jump_lin
862   0000              	GLOBAL _player_jump_c
863   0000              	GLOBAL _hit_col
864   0000              	GLOBAL _hit_lin
865   0000              	GLOBAL _colint
866   0000              	GLOBAL _col
867   0000              	GLOBAL _lin
868   0000              	GLOBAL _tile
869   0000              	GLOBAL _state_a
870   0000              	GLOBAL _state
871   0000              	GLOBAL _class
872   0000              	GLOBAL _tbuffer
873   0000              	GLOBAL _dirs
874   0000              	GLOBAL _k2
875   0000              	GLOBAL _k1
876   0000              	GLOBAL _joyfunc2
877   0000              	GLOBAL _joyfunc1
878   0000              	GLOBAL _btiles
879   0000              	GLOBAL _spec128
880   0000              	GLOBAL _ay_effect_20
881   0000              	GLOBAL _ay_effect_19
882   0000              	GLOBAL _ay_effect_18
883   0000              	GLOBAL _ay_effect_17
884   0000              	GLOBAL _ay_effect_16
885   0000              	GLOBAL _ay_effect_15
886   0000              	GLOBAL _ay_effect_14
887   0000              	GLOBAL _ay_effect_13
888   0000              	GLOBAL _ay_effect_12
889   0000              	GLOBAL _ay_effect_11
890   0000              	GLOBAL _ay_effect_10
891   0000              	GLOBAL _ay_effect_09
892   0000              	GLOBAL _ay_effect_08
893   0000              	GLOBAL _ay_effect_07
894   0000              	GLOBAL _ay_effect_06
895   0000              	GLOBAL _ay_effect_05
896   0000              	GLOBAL _ay_effect_04
897   0000              	GLOBAL _ay_effect_03
898   0000              	GLOBAL _ay_effect_02
899   0000              	GLOBAL _ay_effect_01
900   0000              	GLOBAL _pb_midi_phase_1
901   0000              	GLOBAL _pb_midi_title
902   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
903   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
904   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
905   0000              	GLOBAL _NIRVANAP_HOLE
906   0000              	GLOBAL _NIRVANAP_ISR_HOOK
907   0000              	GLOBAL _control_method
908   0000              	GLOBAL _hall_valids
909   0000              ;--------------------------------------------------------
910   0000              ; special function registers
911   0000              ;--------------------------------------------------------
912   0000              ;--------------------------------------------------------
913   0000              ; ram data
914   0000              ;--------------------------------------------------------
915   0000              	SECTION bss_compiler
916   0000              ;--------------------------------------------------------
917   0000              ; ram data
918   0000              ;--------------------------------------------------------
919   0000              
920   0000              IF 0
921   0000              
922   0000              ; .area _INITIALIZED removed by z88dk
923   0000              
924   0000              
925   0000              ENDIF
926   0000              
927   0000              ;--------------------------------------------------------
928   0000              ; absolute external ram data
929   0000              ;--------------------------------------------------------
930   0000              	SECTION IGNORE
931   0000              ;--------------------------------------------------------
932   0000              ; global & static initialisations
933   0000              ;--------------------------------------------------------
934   0000              	SECTION code_crt_init
935   0000              ;--------------------------------------------------------
936   0000              ; Home
937   0000              ;--------------------------------------------------------
938   0000              	SECTION IGNORE
939   0000              ;--------------------------------------------------------
940   0000              ; code
941   0000              ;--------------------------------------------------------
942   0000              	SECTION code_compiler
943   0000              ;	---------------------------------
944   0000              ; Function game_calc_index
945   0000              ; ---------------------------------
946   0000              _game_calc_index:
947   0000  CD 00 00    	call	___sdcc_enter_ix
948   0003  DD 4E 05    	ld	c,(ix+5)
949   0006  06 00       	ld	b,0x00
950   0008  DD 7E 04    	ld	a,(ix+4)
951   000B  0F          	rrca
952   000C  0F          	rrca
953   000D  0F          	rrca
954   000E  E6 1F       	and	a,0x1f
955   0010  6F          	ld	l,a
956   0011  26 00       	ld	h,0x00
957   0013  29          	add	hl, hl
958   0014  29          	add	hl, hl
959   0015  29          	add	hl, hl
960   0016  29          	add	hl, hl
961   0017  29          	add	hl, hl
962   0018  09          	add	hl,bc
963   0019  DD E1       	pop	ix
964   001B  C9          	ret
965   001C              	SECTION code_compiler
966   001C              ;	---------------------------------
967   001C              ; Function game_print_footer
968   001C              ; ---------------------------------
969   001C              _game_print_footer:
970   001C  21 00 00    	ld	hl,___str_0
971   001F  E5          	push	hl
972   0020  21 16 01    	ld	hl,0x0116
973   0023  E5          	push	hl
974   0024  CD 00 00    	call	_zx_print_str
975   0027  21 00 00    	ld	hl,___str_0
976   002A  E5          	push	hl
977   002B  21 16 1E    	ld	hl,0x1e16
978   002E  E5          	push	hl
979   002F  CD 00 00    	call	_zx_print_str
980   0032  21 02 00    	ld	hl,___str_1
981   0035  E5          	push	hl
982   0036  21 17 01    	ld	hl,0x0117
983   0039  E5          	push	hl
984   003A  CD 00 00    	call	_zx_print_str
985   003D  21 02 00    	ld	hl,___str_1
986   0040  E5          	push	hl
987   0041  21 17 1E    	ld	hl,0x1e17
988   0044  E5          	push	hl
989   0045  CD 00 00    	call	_zx_print_str
990   0048  3A 00 00    	ld	a,(_game_lives)
991   004B  B7          	or	a, a
992   004C  28 20       	jr	Z,l_game_print_footer_00102
993   004E  21 00 00    	ld	hl,_screen_ink
994   0051  36 02       	ld	(hl),0x02
995   0053  21 08 00    	ld	hl,___str_2
996   0056  E5          	push	hl
997   0057  21 16 01    	ld	hl,0x0116
998   005A  E5          	push	hl
999   005B  CD 00 00    	call	_zx_print_str
1000  005E  21 00 00    	ld	hl,_screen_ink
1001  0061  36 06       	ld	(hl),0x06
1002  0063  21 0A 00    	ld	hl,___str_3
1003  0066  E5          	push	hl
1004  0067  21 17 01    	ld	hl,0x0117
1005  006A  E5          	push	hl
1006  006B  CD 00 00    	call	_zx_print_str
1007  006E              l_game_print_footer_00102:
1008  006E  3A 01 00    	ld	a, (_game_lives + 1)
1009  0071  B7          	or	a, a
1010  0072  28 20       	jr	Z,l_game_print_footer_00104
1011  0074  21 00 00    	ld	hl,_screen_ink
1012  0077  36 07       	ld	(hl),0x07
1013  0079  21 0C 00    	ld	hl,___str_4
1014  007C  E5          	push	hl
1015  007D  21 16 1E    	ld	hl,0x1e16
1016  0080  E5          	push	hl
1017  0081  CD 00 00    	call	_zx_print_str
1018  0084  21 00 00    	ld	hl,_screen_ink
1019  0087  36 06       	ld	(hl),0x06
1020  0089  21 0E 00    	ld	hl,___str_5
1021  008C  E5          	push	hl
1022  008D  21 17 1E    	ld	hl,0x1e17
1023  0090  E5          	push	hl
1024  0091  CD 00 00    	call	_zx_print_str
1025  0094              l_game_print_footer_00104:
1026  0094  CD CE 00    	call	_game_print_lives
1027  0097  C9          	ret
1028  0098              	SECTION rodata_compiler
1029  0000              ___str_0:
1030  0000  20          	DEFM " "
1031  0001  00          	DEFB 0x00
1032  0002              	SECTION rodata_compiler
1033  0002              ___str_1:
1034  0002  20 20 20 20 20 
                        	DEFM "     "
1035  0007  00          	DEFB 0x00
1036  0008              	SECTION rodata_compiler
1037  0008              ___str_2:
1038  0008  3C          	DEFM "<"
1039  0009  00          	DEFB 0x00
1040  000A              	SECTION rodata_compiler
1041  000A              ___str_3:
1042  000A  5C          	DEFB 0x5c
1043  000B  00          	DEFB 0x00
1044  000C              	SECTION rodata_compiler
1045  000C              ___str_4:
1046  000C  3E          	DEFM ">"
1047  000D  00          	DEFB 0x00
1048  000E              	SECTION rodata_compiler
1049  000E              ___str_5:
1050  000E  5E          	DEFM "^"
1051  000F  00          	DEFB 0x00
1052  0010              	SECTION code_compiler
1053  0098              ;	---------------------------------
1054  0098              ; Function game_phase_print_score_back
1055  0098              ; ---------------------------------
1056  0098              _game_phase_print_score_back:
1057  0098  21 00 00    	ld	hl,_screen_ink
1058  009B  36 02       	ld	(hl),0x02
1059  009D  21 10 00    	ld	hl,___str_6
1060  00A0  E5          	push	hl
1061  00A1  21 00 0B    	ld	hl,0x0b00
1062  00A4  E5          	push	hl
1063  00A5  CD 00 00    	call	_zx_print_str
1064  00A8  21 00 00    	ld	hl,_screen_ink
1065  00AB  36 01       	ld	(hl),0x01
1066  00AD  21 14 00    	ld	hl,___str_7
1067  00B0  E5          	push	hl
1068  00B1  21 00 01    	ld	hl,0x0100
1069  00B4  E5          	push	hl
1070  00B5  CD 00 00    	call	_zx_print_str
1071  00B8  3A 00 00    	ld	a,(_game_two_player)
1072  00BB  B7          	or	a, a
1073  00BC  C8          	ret	Z
1074  00BD  21 00 00    	ld	hl,_screen_ink
1075  00C0  36 04       	ld	(hl),0x04
1076  00C2  21 17 00    	ld	hl,___str_8
1077  00C5  E5          	push	hl
1078  00C6  21 00 16    	ld	hl,0x1600
1079  00C9  E5          	push	hl
1080  00CA  CD 00 00    	call	_zx_print_str
1081  00CD  C9          	ret
1082  00CE              	SECTION rodata_compiler
1083  0010              ___str_6:
1084  0010  24 25 7C    	DEFM "$%|"
1085  0013  00          	DEFB 0x00
1086  0014              	SECTION rodata_compiler
1087  0014              ___str_7:
1088  0014  5B 7C       	DEFM "[|"
1089  0016  00          	DEFB 0x00
1090  0017              	SECTION rodata_compiler
1091  0017              ___str_8:
1092  0017  5D 7C       	DEFM "]|"
1093  0019  00          	DEFB 0x00
1094  001A              	SECTION code_compiler
1095  00CE              ;	---------------------------------
1096  00CE              ; Function game_print_lives
1097  00CE              ; ---------------------------------
1098  00CE              _game_print_lives:
1099  00CE  21 00 00    	ld	hl,_screen_ink
1100  00D1  36 07       	ld	(hl),0x07
1101  00D3  3A 00 00    	ld	a,(_game_lives)
1102  00D6  C6 FF       	add	a,0xff
1103  00D8  21 00 00    	ld	hl,_tmp
1104  00DB  77          	ld	(hl),a
1105  00DC  D6 FF       	sub	a,0xff
1106  00DE  30 0A       	jr	NC,l_game_print_lives_00102
1107  00E0  7E          	ld	a,(hl)
1108  00E1  F5          	push	af
1109  00E2  33          	inc	sp
1110  00E3  21 17 03    	ld	hl,0x0317
1111  00E6  E5          	push	hl
1112  00E7  CD 00 00    	call	_zx_print_chr
1113  00EA              l_game_print_lives_00102:
1114  00EA  3A 01 00    	ld	a, (_game_lives + 1)
1115  00ED  C6 FF       	add	a,0xff
1116  00EF  21 00 00    	ld	hl,_tmp
1117  00F2  77          	ld	(hl),a
1118  00F3  D6 FF       	sub	a,0xff
1119  00F5  D0          	ret	NC
1120  00F6  7E          	ld	a,(hl)
1121  00F7  F5          	push	af
1122  00F8  33          	inc	sp
1123  00F9  21 17 1A    	ld	hl,0x1a17
1124  00FC  E5          	push	hl
1125  00FD  CD 00 00    	call	_zx_print_chr
1126  0100  C9          	ret
1127  0101              	SECTION code_compiler
1128  0101              ;	---------------------------------
1129  0101              ; Function game_tick
1130  0101              ; ---------------------------------
1131  0101              _game_tick:
1132  0101  21 00 00    	ld	hl,_curr_time
1133  0104  34          	inc	(hl)
1134  0105  C2 00 00    	jp	NZ,_zx_isr
1135  0108  23          	inc	hl
1136  0109  34          	inc	(hl)
1137  010A  C3 00 00    	jp  _zx_isr
1138  010D              	SECTION code_compiler
1139  010D              ;	---------------------------------
1140  010D              ; Function game_start_timer
1141  010D              ; ---------------------------------
1142  010D              _game_start_timer:
1143  010D  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1144  0110  3E CD       	ld	a,0xcd
1145  0112  02          	ld	(bc),a
1146  0113  03          	inc	bc
1147  0114  11 01 01    	ld	de,_game_tick
1148  0117  7B          	ld	a,e
1149  0118  02          	ld	(bc),a
1150  0119  03          	inc	bc
1151  011A  7A          	ld	a,d
1152  011B  02          	ld	(bc),a
1153  011C  C9          	ret
1154  011D              	SECTION code_compiler
1155  011D              ;	---------------------------------
1156  011D              ; Function game_phase_calc
1157  011D              ; ---------------------------------
1158  011D              _game_phase_calc:
1159  011D  3A 00 00    	ld	a,(_phase_curr)
1160  0120  87          	add	a, a
1161  0121  87          	add	a, a
1162  0122  21 00 00    	ld	hl,_tmp_uc
1163  0125  77          	ld	(hl),a
1164  0126  01 00 00    	ld	bc,_phases+0
1165  0129  5E          	ld	e,(hl)
1166  012A  16 00       	ld	d,0x00
1167  012C  69          	ld	l, c
1168  012D  60          	ld	h, b
1169  012E  19          	add	hl,de
1170  012F  7E          	ld	a,(hl)
1171  0130  32 00 00    	ld	(_phase_quota),a
1172  0133  2A 00 00    	ld	hl,(_tmp_uc)
1173  0136  26 00       	ld	h,0x00
1174  0138  23          	inc	hl
1175  0139  09          	add	hl,bc
1176  013A  7E          	ld	a,(hl)
1177  013B  32 01 00    	ld	((_phase_quota + 0x0001)),a
1178  013E  2A 00 00    	ld	hl,(_tmp_uc)
1179  0141  26 00       	ld	h,0x00
1180  0143  23          	inc	hl
1181  0144  23          	inc	hl
1182  0145  09          	add	hl,bc
1183  0146  7E          	ld	a,(hl)
1184  0147  32 02 00    	ld	((_phase_quota + 0x0002)),a
1185  014A  2A 00 00    	ld	hl,(_tmp_uc)
1186  014D  26 00       	ld	h,0x00
1187  014F  23          	inc	hl
1188  0150  23          	inc	hl
1189  0151  23          	inc	hl
1190  0152  09          	add	hl,bc
1191  0153  7E          	ld	a,(hl)
1192  0154  32 00 00    	ld	(_game_brick_tile),a
1193  0157  21 00 00    	ld	hl,_game_brick_tile
1194  015A  4E          	ld	c,(hl)
1195  015B  06 00       	ld	b,0x00
1196  015D  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1197  0161  7E          	ld	a,(hl)
1198  0162  D6 8B       	sub	a,0x8b
1199  0164  20 05       	jr	NZ,l_game_phase_calc_00102
1200  0166  CD B6 0C    	call	_game_freeze_all
1201  0169  18 03       	jr	l_game_phase_calc_00103
1202  016B              l_game_phase_calc_00102:
1203  016B  CD 8D 0C    	call	_game_unfreeze_all
1204  016E              l_game_phase_calc_00103:
1205  016E  21 00 00    	ld	hl,_phase_quota
1206  0171  4E          	ld	c,(hl)
1207  0172  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1208  0175  46          	ld	b,(hl)
1209  0176  79          	ld	a,c
1210  0177  80          	add	a, b
1211  0178  4F          	ld	c,a
1212  0179  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1213  017C  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1214  017E  09          	add	hl, bc
1215  017F  C9          	ret
1216  0180              	SECTION code_compiler
1217  0180              ;	---------------------------------
1218  0180              ; Function game_phase_init
1219  0180              ; ---------------------------------
1220  0180              _game_phase_init:
1221  0180  21 00 00    	ld	hl,0x0000
1222  0183  22 00 00    	ld	(_loop_count),hl
1223  0186  21 00 00    	ld	hl,_phase_end
1224  0189  36 00       	ld	(hl),0x00
1225  018B  21 00 00    	ld	hl,_phase_angry
1226  018E  36 00       	ld	(hl),0x00
1227  0190  21 00 00    	ld	hl,_phase_coins
1228  0193  36 00       	ld	(hl),0x00
1229  0195  21 00 00    	ld	hl,_phase_pop
1230  0198  36 00       	ld	(hl),0x00
1231  019A  21 00 00    	ld	hl,_game_bonus
1232  019D  36 00       	ld	(hl),0x00
1233  019F  21 00 00    	ld	hl,0x0000
1234  01A2  22 00 00    	ld	(_entry_time),hl
1235  01A5  21 00 00    	ld	hl,0
1236  01A8  22 00 00    	ld	(_curr_time),hl
1237  01AB  21 00 00    	ld	hl,0x0000
1238  01AE  22 00 00    	ld	(_frame_time),hl
1239  01B1  21 FF FF    	ld	hl,0xffff
1240  01B4  22 00 00    	ld	(_score_osd_col),hl
1241  01B7  21 00 00    	ld	hl,_spr_count
1242  01BA  36 00       	ld	(hl),0x00
1243  01BC  3A 00 00    	ld	a,(_game_type)
1244  01BF  D6 02       	sub	a,0x02
1245  01C1  CA 4D 02    	jp	Z,l_game_phase_init_00104
1246  01C4  CD 1D 01    	call	_game_phase_calc
1247  01C7  7D          	ld	a,l
1248  01C8  32 00 00    	ld	(_phase_left),a
1249  01CB  32 00 00    	ld	(_phase_tot),a
1250  01CE  21 00 00    	ld	hl,_phase_left
1251  01D1  7E          	ld	a,(hl)
1252  01D2  B7          	or	a, a
1253  01D3  C2 65 02    	jp	NZ,l_game_phase_init_00105
1254  01D6  01 00 00    	ld	bc,_phase_bonus_total+0
1255  01D9  AF          	xor	a, a
1256  01DA  02          	ld	(bc),a
1257  01DB  03          	inc	bc
1258  01DC  AF          	xor	a, a
1259  01DD  02          	ld	(bc),a
1260  01DE  36 06       	ld	(hl),0x06
1261  01E0  21 00 00    	ld	hl,_game_bonus
1262  01E3  36 01       	ld	(hl),0x01
1263  01E5  21 0C 00    	ld	hl,0x000c
1264  01E8  E5          	push	hl
1265  01E9  21 90 08    	ld	hl,0x0890
1266  01EC  E5          	push	hl
1267  01ED  AF          	xor	a, a
1268  01EE  F5          	push	af
1269  01EF  33          	inc	sp
1270  01F0  CD 00 00    	call	_enemy_init
1271  01F3  F1          	pop	af
1272  01F4  33          	inc	sp
1273  01F5  21 0C 00    	ld	hl,0x000c
1274  01F8  E3          	ex	(sp),hl
1275  01F9  21 90 16    	ld	hl,0x1690
1276  01FC  E5          	push	hl
1277  01FD  3E 01       	ld	a,0x01
1278  01FF  F5          	push	af
1279  0200  33          	inc	sp
1280  0201  CD 00 00    	call	_enemy_init
1281  0204  F1          	pop	af
1282  0205  33          	inc	sp
1283  0206  21 0C 00    	ld	hl,0x000c
1284  0209  E3          	ex	(sp),hl
1285  020A  21 50 06    	ld	hl,0x0650
1286  020D  E5          	push	hl
1287  020E  3E 02       	ld	a,0x02
1288  0210  F5          	push	af
1289  0211  33          	inc	sp
1290  0212  CD 00 00    	call	_enemy_init
1291  0215  F1          	pop	af
1292  0216  33          	inc	sp
1293  0217  21 0C 00    	ld	hl,0x000c
1294  021A  E3          	ex	(sp),hl
1295  021B  21 50 18    	ld	hl,0x1850
1296  021E  E5          	push	hl
1297  021F  3E 03       	ld	a,0x03
1298  0221  F5          	push	af
1299  0222  33          	inc	sp
1300  0223  CD 00 00    	call	_enemy_init
1301  0226  F1          	pop	af
1302  0227  33          	inc	sp
1303  0228  21 0C 00    	ld	hl,0x000c
1304  022B  E3          	ex	(sp),hl
1305  022C  21 10 05    	ld	hl,0x0510
1306  022F  E5          	push	hl
1307  0230  3E 04       	ld	a,0x04
1308  0232  F5          	push	af
1309  0233  33          	inc	sp
1310  0234  CD 00 00    	call	_enemy_init
1311  0237  F1          	pop	af
1312  0238  33          	inc	sp
1313  0239  21 0C 00    	ld	hl,0x000c
1314  023C  E3          	ex	(sp),hl
1315  023D  21 10 19    	ld	hl,0x1910
1316  0240  E5          	push	hl
1317  0241  3E 05       	ld	a,0x05
1318  0243  F5          	push	af
1319  0244  33          	inc	sp
1320  0245  CD 00 00    	call	_enemy_init
1321  0248  F1          	pop	af
1322  0249  F1          	pop	af
1323  024A  33          	inc	sp
1324  024B  18 18       	jr	l_game_phase_init_00105
1325  024D              l_game_phase_init_00104:
1326  024D  21 00 00    	ld	hl,_phase_left
1327  0250  36 FF       	ld	(hl),0xff
1328  0252  21 00 00    	ld	hl,_phase_curr
1329  0255  36 FF       	ld	(hl),0xff
1330  0257  CD 8D 0C    	call	_game_unfreeze_all
1331  025A  21 00 00    	ld	hl,_game_brick_tile
1332  025D  36 84       	ld	(hl),0x84
1333  025F  21 84 00    	ld	hl,0x0084
1334  0262  22 24 00    	ld	(_spr_idx + 0x0024),hl
1335  0265              l_game_phase_init_00105:
1336  0265  CD 00 00    	call	_ay_reset
1337  0268  3A 00 00    	ld	a,(_game_bonus)
1338  026B  B7          	or	a, a
1339  026C  20 06       	jr	NZ,l_game_phase_init_00107
1340  026E  21 00 00    	ld	hl,_pb_midi_phase_1
1341  0271  CD 00 00    	call	_ay_midi_play
1342  0274              l_game_phase_init_00107:
1343  0274  CD 00 00    	call	_spr_draw_clear
1344  0277  21 00 00    	ld	hl,0x0000
1345  027A  CD 00 00    	call	_zx_cls_fastcall
1346  027D  CD 00 00    	call	_spr_draw_back
1347  0280  CD B8 02    	call	_game_print_header
1348  0283  CD 1C 00    	call	_game_print_footer
1349  0286  3A 00 00    	ld	a,(_game_lives)
1350  0289  B7          	or	a, a
1351  028A  28 0D       	jr	Z,l_game_phase_init_00109
1352  028C  21 0A 03    	ld	hl,0x030a
1353  028F  E5          	push	hl
1354  0290  21 07 98    	ld	hl,0x9807
1355  0293  E5          	push	hl
1356  0294  CD 00 00    	call	_player_init
1357  0297  F1          	pop	af
1358  0298  F1          	pop	af
1359  0299              l_game_phase_init_00109:
1360  0299  3A 01 00    	ld	a, (_game_lives + 1)
1361  029C  B7          	or	a, a
1362  029D  28 0D       	jr	Z,l_game_phase_init_00111
1363  029F  21 14 27    	ld	hl,0x2714
1364  02A2  E5          	push	hl
1365  02A3  21 06 98    	ld	hl,0x9806
1366  02A6  E5          	push	hl
1367  02A7  CD 00 00    	call	_player_init
1368  02AA  F1          	pop	af
1369  02AB  F1          	pop	af
1370  02AC              l_game_phase_init_00111:
1371  02AC  21 00 00    	ld	hl,_game_osd
1372  02AF  36 01       	ld	(hl),0x01
1373  02B1  2A 00 00    	ld	hl,(_curr_time)
1374  02B4  22 00 00    	ld	(_osd_time),hl
1375  02B7  C9          	ret
1376  02B8              	SECTION code_compiler
1377  02B8              ;	---------------------------------
1378  02B8              ; Function game_print_header
1379  02B8              ; ---------------------------------
1380  02B8              _game_print_header:
1381  02B8  CD 98 00    	call	_game_phase_print_score_back
1382  02BB  21 00 00    	ld	hl,_screen_ink
1383  02BE  36 07       	ld	(hl),0x07
1384  02C0  C3 DF 0C    	jp  _game_print_score
1385  02C3              	SECTION code_compiler
1386  02C3              ;	---------------------------------
1387  02C3              ; Function game_phase_print
1388  02C3              ; ---------------------------------
1389  02C3              _game_phase_print:
1390  02C3  45          	ld	b,l
1391  02C4  C5          	push	bc
1392  02C5  21 1A 00    	ld	hl,___str_9
1393  02C8  E5          	push	hl
1394  02C9  3E 0B       	ld	a,0x0b
1395  02CB  48          	ld	c,b
1396  02CC  47          	ld	b,a
1397  02CD  C5          	push	bc
1398  02CE  CD 00 00    	call	_zx_print_str
1399  02D1  C1          	pop	bc
1400  02D2  3A 00 00    	ld	a,(_phase_curr)
1401  02D5  D6 1F       	sub	a,0x1f
1402  02D7  30 3F       	jr	NC,l_game_phase_print_00108
1403  02D9  3A 00 00    	ld	a,(_game_bonus)
1404  02DC  B7          	or	a, a
1405  02DD  20 2B       	jr	NZ,l_game_phase_print_00102
1406  02DF  C5          	push	bc
1407  02E0  21 20 00    	ld	hl,___str_10
1408  02E3  E5          	push	hl
1409  02E4  3E 10       	ld	a,0x10
1410  02E6  48          	ld	c,b
1411  02E7  47          	ld	b,a
1412  02E8  C5          	push	bc
1413  02E9  CD 00 00    	call	_zx_print_str
1414  02EC  C1          	pop	bc
1415  02ED  21 00 00    	ld	hl,_phase_curr
1416  02F0  56          	ld	d,(hl)
1417  02F1  14          	inc	d
1418  02F2  C5          	push	bc
1419  02F3  1E 12       	ld	e,0x12
1420  02F5  D5          	push	de
1421  02F6  C5          	push	bc
1422  02F7  33          	inc	sp
1423  02F8  CD 00 00    	call	_zx_print_chr
1424  02FB  C1          	pop	bc
1425  02FC  21 20 00    	ld	hl,___str_10
1426  02FF  E5          	push	hl
1427  0300  3E 15       	ld	a,0x15
1428  0302  48          	ld	c,b
1429  0303  47          	ld	b,a
1430  0304  C5          	push	bc
1431  0305  CD 00 00    	call	_zx_print_str
1432  0308  18 2F       	jr	l_game_phase_print_00110
1433  030A              l_game_phase_print_00102:
1434  030A  21 23 00    	ld	hl,___str_11
1435  030D  E5          	push	hl
1436  030E  3E 11       	ld	a,0x11
1437  0310  48          	ld	c,b
1438  0311  47          	ld	b,a
1439  0312  C5          	push	bc
1440  0313  CD 00 00    	call	_zx_print_str
1441  0316  18 21       	jr	l_game_phase_print_00110
1442  0318              l_game_phase_print_00108:
1443  0318  3A 00 00    	ld	a,(_game_type)
1444  031B  D6 02       	sub	a,0x02
1445  031D  28 0E       	jr	Z,l_game_phase_print_00105
1446  031F  21 2A 00    	ld	hl,___str_12
1447  0322  E5          	push	hl
1448  0323  3E 11       	ld	a,0x11
1449  0325  48          	ld	c,b
1450  0326  47          	ld	b,a
1451  0327  C5          	push	bc
1452  0328  CD 00 00    	call	_zx_print_str
1453  032B  18 0C       	jr	l_game_phase_print_00110
1454  032D              l_game_phase_print_00105:
1455  032D  21 31 00    	ld	hl,___str_13
1456  0330  E5          	push	hl
1457  0331  3E 11       	ld	a,0x11
1458  0333  48          	ld	c,b
1459  0334  47          	ld	b,a
1460  0335  C5          	push	bc
1461  0336  CD 00 00    	call	_zx_print_str
1462  0339              l_game_phase_print_00110:
1463  0339  C9          	ret
1464  033A              	SECTION rodata_compiler
1465  001A              ___str_9:
1466  001A  50 48 41 53 45 
                        	DEFM "PHASE"
1467  001F  00          	DEFB 0x00
1468  0020              	SECTION rodata_compiler
1469  0020              ___str_10:
1470  0020  20 20       	DEFM "  "
1471  0022  00          	DEFB 0x00
1472  0023              	SECTION rodata_compiler
1473  0023              ___str_11:
1474  0023  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1475  0029  00          	DEFB 0x00
1476  002A              	SECTION rodata_compiler
1477  002A              ___str_12:
1478  002A  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1479  0030  00          	DEFB 0x00
1480  0031              	SECTION rodata_compiler
1481  0031              ___str_13:
1482  0031  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1483  0037  00          	DEFB 0x00
1484  0038              	SECTION code_compiler
1485  033A              ;	---------------------------------
1486  033A              ; Function game_loop
1487  033A              ; ---------------------------------
1488  033A              _game_loop:
1489  033A  21 38 00    	ld	hl,___str_14
1490  033D  E5          	push	hl
1491  033E  21 16 07    	ld	hl,0x0716
1492  0341  E5          	push	hl
1493  0342  CD 00 00    	call	_zx_print_str
1494  0345  21 4B 00    	ld	hl,___str_15
1495  0348  E5          	push	hl
1496  0349  21 17 07    	ld	hl,0x0717
1497  034C  E5          	push	hl
1498  034D  CD 00 00    	call	_zx_print_str
1499  0350  21 00 00    	ld	hl,_ay_effect_10
1500  0353  CD 00 00    	call	_ay_fx_play
1501  0356  CD 00 00    	call	_sound_coin
1502  0359  21 C8 00    	ld	hl,0x00c8
1503  035C  CD 00 00    	call	_z80_delay_ms_fastcall
1504  035F  21 5E 00    	ld	hl,___str_16
1505  0362  E5          	push	hl
1506  0363  21 16 07    	ld	hl,0x0716
1507  0366  E5          	push	hl
1508  0367  CD 00 00    	call	_zx_print_str
1509  036A  CD 00 00    	call	_ay_reset
1510  036D  21 11 11    	ld	hl,0x1111
1511  0370  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1512  0373  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1513  0376  01 00 00    	ld	bc,_game_lives+0
1514  0379  3E 04       	ld	a,0x04
1515  037B  02          	ld	(bc),a
1516  037C  03          	inc	bc
1517  037D  3A 00 00    	ld	a,(_game_two_player)
1518  0380  B7          	or	a,a
1519  0381  28 05       	jr	Z,l_game_loop_00102
1520  0383  3E 04       	ld	a,0x04
1521  0385  02          	ld	(bc),a
1522  0386  18 02       	jr	l_game_loop_00103
1523  0388              l_game_loop_00102:
1524  0388  AF          	xor	a, a
1525  0389  02          	ld	(bc),a
1526  038A              l_game_loop_00103:
1527  038A  21 00 00    	ld	hl,0x0000
1528  038D  22 00 00    	ld	(_player_score), hl
1529  0390  2E 00       	ld	l,0x00
1530  0392  22 02 00    	ld	(_player_score + 0x0002),hl
1531  0395  21 D0 07    	ld	hl,0x07d0
1532  0398  22 00 00    	ld	(_player_next_extra), hl
1533  039B  2E D0       	ld	l,0xd0
1534  039D  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1535  03A0  21 00 00    	ld	hl,_spr_water_clear
1536  03A3  36 FF       	ld	(hl),0xff
1537  03A5  3A 00 00    	ld	a,(_game_type)
1538  03A8  B7          	or	a, a
1539  03A9  20 0E       	jr	NZ,l_game_loop_00105
1540  03AB  21 F4 01    	ld	hl,0x01f4
1541  03AE  22 00 00    	ld	(_game_time_flipped),hl
1542  03B1  21 D0 07    	ld	hl,0x07d0
1543  03B4  22 00 00    	ld	(_game_time_fireball_start),hl
1544  03B7  18 0C       	jr	l_game_loop_00106
1545  03B9              l_game_loop_00105:
1546  03B9  21 FA 00    	ld	hl,0x00fa
1547  03BC  22 00 00    	ld	(_game_time_flipped),hl
1548  03BF  21 F4 01    	ld	hl,0x01f4
1549  03C2  22 00 00    	ld	(_game_time_fireball_start),hl
1550  03C5              l_game_loop_00106:
1551  03C5  21 00 00    	ld	hl,_game_over
1552  03C8  36 00       	ld	(hl),0x00
1553  03CA  21 00 00    	ld	hl,_game_pow
1554  03CD  36 03       	ld	(hl),0x03
1555  03CF  3A 00 00    	ld	a,(_game_start_phase)
1556  03D2  32 00 00    	ld	(_phase_curr),a
1557  03D5  CD 80 01    	call	_game_phase_init
1558  03D8  21 00 00    	ld	hl,_sprite_lin_inc_mul
1559  03DB  36 00       	ld	(hl),0x00
1560  03DD  21 00 00    	ld	hl,_dirs
1561  03E0  36 00       	ld	(hl),0x00
1562  03E2  CD 81 0F    	call	_game_joystick_set
1563  03E5              l_game_loop_00134:
1564  03E5  3A 00 00    	ld	a,(_game_over)
1565  03E8  B7          	or	a, a
1566  03E9  C2 FC 04    	jp	NZ,l_game_loop_00136
1567  03EC  21 00 18    	ld	hl,0x1800
1568  03EF  E5          	push	hl
1569  03F0  21 06 00    	ld	hl,0x0006
1570  03F3  E5          	push	hl
1571  03F4  3E 07       	ld	a,0x07
1572  03F6  F5          	push	af
1573  03F7  33          	inc	sp
1574  03F8  CD 00 00    	call	_player_set
1575  03FB  F1          	pop	af
1576  03FC  F1          	pop	af
1577  03FD  33          	inc	sp
1578  03FE  CD 00 00    	call	_player_turn
1579  0401  21 18 00    	ld	hl,0x0018
1580  0404  E5          	push	hl
1581  0405  21 07 01    	ld	hl,0x0107
1582  0408  E5          	push	hl
1583  0409  3E 06       	ld	a,0x06
1584  040B  F5          	push	af
1585  040C  33          	inc	sp
1586  040D  CD 00 00    	call	_player_set
1587  0410  F1          	pop	af
1588  0411  F1          	pop	af
1589  0412  33          	inc	sp
1590  0413  CD 00 00    	call	_player_turn
1591  0416  CD 00 00    	call	_enemy_turn
1592  0419  3A 00 00    	ld	a,(_game_bonus)
1593  041C  B7          	or	a, a
1594  041D  28 16       	jr	Z,l_game_loop_00111
1595  041F  CD B9 06    	call	_game_bonus_clock
1596  0422  3A 00 00    	ld	a,(_phase_left)
1597  0425  B7          	or	a, a
1598  0426  28 0D       	jr	Z,l_game_loop_00111
1599  0428  CD 00 00    	call	_ay_is_playing
1600  042B  7D          	ld	a,l
1601  042C  B7          	or	a, a
1602  042D  20 06       	jr	NZ,l_game_loop_00111
1603  042F  21 00 00    	ld	hl,_ay_effect_19
1604  0432  CD 00 00    	call	_ay_fx_play
1605  0435              l_game_loop_00111:
1606  0435  3A 00 00    	ld	a,(_game_osd)
1607  0438  B7          	or	a, a
1608  0439  28 4F       	jr	Z,l_game_loop_00119
1609  043B  21 05 00    	ld	hl,0x0005
1610  043E  E5          	push	hl
1611  043F  2A 00 00    	ld	hl,(_osd_time)
1612  0442  E5          	push	hl
1613  0443  CD 43 1A    	call	_game_check_time
1614  0446  F1          	pop	af
1615  0447  F1          	pop	af
1616  0448  7D          	ld	a,l
1617  0449  B7          	or	a, a
1618  044A  28 1B       	jr	Z,l_game_loop_00113
1619  044C  2A 00 00    	ld	hl,(_curr_time)
1620  044F  22 00 00    	ld	(_osd_time),hl
1621  0452  2E 0C       	ld	l,0x0c
1622  0454  CD C3 02    	call	_game_phase_print
1623  0457  21 17 68    	ld	hl,0x6817
1624  045A  E5          	push	hl
1625  045B  3E 0B       	ld	a,0x0b
1626  045D  F5          	push	af
1627  045E  33          	inc	sp
1628  045F  CD 5B 0D    	call	_game_paint_attrib_lin_h
1629  0462  F1          	pop	af
1630  0463  33          	inc	sp
1631  0464  CD 95 19    	call	_game_rotate_attrib
1632  0467              l_game_loop_00113:
1633  0467  21 00 00    	ld	hl,_loop_count
1634  046A  7E          	ld	a,(hl)
1635  046B  D6 90       	sub	a,0x90
1636  046D  20 1B       	jr	NZ,l_game_loop_00119
1637  046F  23          	inc	hl
1638  0470  7E          	ld	a,(hl)
1639  0471  3D          	dec	a
1640  0472  20 16       	jr	NZ,l_game_loop_00119
1641  0474  21 0C 20    	ld	hl,0x200c
1642  0477  E5          	push	hl
1643  0478  CD 00 00    	call	_game_fill_row
1644  047B  21 00 00    	ld	hl,_game_osd
1645  047E  36 00       	ld	(hl),0x00
1646  0480  21 00 00    	ld	hl,_game_bonus
1647  0483  7E          	ld	a,(hl)
1648  0484  B7          	or	a, a
1649  0485  20 03       	jr	NZ,l_game_loop_00119
1650  0487  CD 44 05    	call	_game_print_phase
1651  048A              l_game_loop_00119:
1652  048A  CD 00 00    	call	_spr_water_splash_clear
1653  048D  21 64 00    	ld	hl,0x0064
1654  0490  E5          	push	hl
1655  0491  2A 00 00    	ld	hl,(_frame_time)
1656  0494  E5          	push	hl
1657  0495  CD 43 1A    	call	_game_check_time
1658  0498  F1          	pop	af
1659  0499  F1          	pop	af
1660  049A  7D          	ld	a,l
1661  049B  B7          	or	a, a
1662  049C  28 52       	jr	Z,l_game_loop_00133
1663  049E  2A 00 00    	ld	hl,(_curr_time)
1664  04A1  22 00 00    	ld	(_frame_time),hl
1665  04A4  3A 00 00    	ld	a,(_game_bonus)
1666  04A7  B7          	or	a,a
1667  04A8  20 03       	jr	NZ,l_game_loop_00121
1668  04AA  CD 1B 09    	call	_game_enemy_add
1669  04AD              l_game_loop_00121:
1670  04AD  3A 00 00    	ld	a,(_phase_end)
1671  04B0  3D          	dec	a
1672  04B1  20 3A       	jr	NZ,l_game_loop_00130
1673  04B3  3A 00 00    	ld	a,(_game_type)
1674  04B6  D6 02       	sub	a,0x02
1675  04B8  28 33       	jr	Z,l_game_loop_00130
1676  04BA  CD 00 00    	call	_ay_is_playing
1677  04BD  7D          	ld	a, l
1678  04BE  D6 02       	sub	a,0x02
1679  04C0  30 03       	jr	NC,l_game_loop_00123
1680  04C2  CD 00 00    	call	_ay_reset
1681  04C5              l_game_loop_00123:
1682  04C5  CD E9 08    	call	_game_kill_all_sprites
1683  04C8  3A 00 00    	ld	a,(_game_bonus)
1684  04CB  B7          	or	a, a
1685  04CC  28 03       	jr	Z,l_game_loop_00125
1686  04CE  CD 30 07    	call	_game_bonus_summary
1687  04D1              l_game_loop_00125:
1688  04D1  21 00 00    	ld	hl,_phase_curr
1689  04D4  34          	inc	(hl)
1690  04D5  3E 1F       	ld	a,0x1f
1691  04D7  96          	sub	a, (hl)
1692  04D8  30 0A       	jr	NC,l_game_loop_00127
1693  04DA  CD 97 12    	call	_game_end
1694  04DD  21 00 00    	ld	hl,_game_over
1695  04E0  36 01       	ld	(hl),0x01
1696  04E2  18 09       	jr	l_game_loop_00130
1697  04E4              l_game_loop_00127:
1698  04E4  21 90 01    	ld	hl,0x0190
1699  04E7  CD 00 00    	call	_z80_delay_ms_fastcall
1700  04EA  CD 80 01    	call	_game_phase_init
1701  04ED              l_game_loop_00130:
1702  04ED  CD 00 00    	call	_debug_func
1703  04F0              l_game_loop_00133:
1704  04F0  21 00 00    	ld	hl,_loop_count
1705  04F3  34          	inc	(hl)
1706  04F4  C2 E5 03    	jp	NZ,l_game_loop_00134
1707  04F7  23          	inc	hl
1708  04F8  34          	inc	(hl)
1709  04F9  C3 E5 03    	jp	l_game_loop_00134
1710  04FC              l_game_loop_00136:
1711  04FC  CD E9 08    	call	_game_kill_all_sprites
1712  04FF  21 90 01    	ld	hl,0x0190
1713  0502  CD 00 00    	call	_z80_delay_ms_fastcall
1714  0505  76          	halt
1715  0506  CD 00 00    	call	_spr_draw_back
1716  0509  CD B8 02    	call	_game_print_header
1717  050C  CD 1C 00    	call	_game_print_footer
1718  050F  CD 44 05    	call	_game_print_phase
1719  0512  21 71 00    	ld	hl,___str_17
1720  0515  E5          	push	hl
1721  0516  21 08 0B    	ld	hl,0x0b08
1722  0519  E5          	push	hl
1723  051A  CD 00 00    	call	_zx_print_str
1724  051D  21 C8 00    	ld	hl,0x00c8
1725  0520  E5          	push	hl
1726  0521  21 0B 15    	ld	hl,0x150b
1727  0524  E5          	push	hl
1728  0525  3E 08       	ld	a,0x08
1729  0527  F5          	push	af
1730  0528  33          	inc	sp
1731  0529  CD B1 19    	call	_game_colour_message
1732  052C  F1          	pop	af
1733  052D  F1          	pop	af
1734  052E  33          	inc	sp
1735  052F  CD 00 00    	call	_spr_draw_clear
1736  0532  CD 29 15    	call	_game_hall_enter
1737  0535  CD 00 00    	call	_ay_reset
1738  0538  21 00 00    	ld	hl,_game_menu_sel
1739  053B  36 00       	ld	(hl),0x00
1740  053D  CD 79 10    	call	_game_menu_paint
1741  0540  CD 74 0F    	call	_game_joystick_set_menu
1742  0543  C9          	ret
1743  0544              	SECTION rodata_compiler
1744  0038              ___str_14:
1745  0038  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1746  004A  00          	DEFB 0x00
1747  004B              	SECTION rodata_compiler
1748  004B              ___str_15:
1749  004B  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1750  005D  00          	DEFB 0x00
1751  005E              	SECTION rodata_compiler
1752  005E              ___str_16:
1753  005E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1754  0070  00          	DEFB 0x00
1755  0071              	SECTION rodata_compiler
1756  0071              ___str_17:
1757  0071  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1758  007C  00          	DEFB 0x00
1759  007D              	SECTION code_compiler
1760  0544              ;	---------------------------------
1761  0544              ; Function game_print_phase
1762  0544              ; ---------------------------------
1763  0544              _game_print_phase:
1764  0544  21 7D 00    	ld	hl,___str_18
1765  0547  E5          	push	hl
1766  0548  21 17 0B    	ld	hl,0x0b17
1767  054B  E5          	push	hl
1768  054C  CD 00 00    	call	_zx_print_str
1769  054F  21 00 00    	ld	hl,_phase_curr
1770  0552  46          	ld	b,(hl)
1771  0553  04          	inc	b
1772  0554  C5          	push	bc
1773  0555  33          	inc	sp
1774  0556  21 17 12    	ld	hl,0x1217
1775  0559  E5          	push	hl
1776  055A  CD 00 00    	call	_zx_print_chr
1777  055D  C9          	ret
1778  055E              	SECTION rodata_compiler
1779  007D              ___str_18:
1780  007D  50 48 41 53 45 
                        	DEFM "PHASE"
1781  0082  00          	DEFB 0x00
1782  0083              	SECTION code_compiler
1783  055E              ;	---------------------------------
1784  055E              ; Function game_score_osd
1785  055E              ; ---------------------------------
1786  055E              _game_score_osd:
1787  055E  3A 00 00    	ld	a,(_index_player)
1788  0561  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1789  0563  4F          	ld	c,a
1790  0564  3E 00       	ld	a,+((_score_osd_col) / 256)
1791  0566  CE 00       	adc	a,0x00
1792  0568  47          	ld	b,a
1793  0569  0A          	ld	a,(bc)
1794  056A  57          	ld	d,a
1795  056B  3C          	inc	a
1796  056C  20 67       	jr	NZ,l_game_score_osd_00116
1797  056E  3A 00 00    	ld	a,(_hit_count)
1798  0571  B7          	or	a, a
1799  0572  CA B8 06    	jp	Z,l_game_score_osd_00118
1800  0575  2A 00 00    	ld	hl,(_sprite)
1801  0578  26 00       	ld	h,0x00
1802  057A  11 00 00    	ld	de,_col
1803  057D  19          	add	hl,de
1804  057E  7E          	ld	a,(hl)
1805  057F  02          	ld	(bc),a
1806  0580  3A 00 00    	ld	a,(_index_player)
1807  0583  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1808  0585  4F          	ld	c,a
1809  0586  3E 00       	ld	a,+((_score_osd_lin) / 256)
1810  0588  CE 00       	adc	a,0x00
1811  058A  47          	ld	b,a
1812  058B  2A 00 00    	ld	hl,(_sprite)
1813  058E  26 00       	ld	h,0x00
1814  0590  11 00 00    	ld	de,_lin
1815  0593  19          	add	hl,de
1816  0594  7E          	ld	a,(hl)
1817  0595  02          	ld	(bc),a
1818  0596  01 00 00    	ld	bc,_score_osd_time+0
1819  0599  2A 00 00    	ld	hl,(_index_player)
1820  059C  26 00       	ld	h,0x00
1821  059E  29          	add	hl, hl
1822  059F  09          	add	hl,bc
1823  05A0  ED 5B 00 00 	ld	de,(_curr_time)
1824  05A4  73          	ld	(hl),e
1825  05A5  23          	inc	hl
1826  05A6  72          	ld	(hl),d
1827  05A7  3A 00 00    	ld	a,(_hit_count)
1828  05AA  B7          	or	a, a
1829  05AB  CA B8 06    	jp	Z,l_game_score_osd_00118
1830  05AE  2A 00 00    	ld	hl,(_index_player)
1831  05B1  26 00       	ld	h,0x00
1832  05B3  29          	add	hl,hl
1833  05B4  3A 00 00    	ld	a,(_hit_count)
1834  05B7  D6 02       	sub	a,0x02
1835  05B9  4D          	ld	c,l
1836  05BA  44          	ld	b,h
1837  05BB  30 0C       	jr	NC,l_game_score_osd_00102
1838  05BD  21 00 00    	ld	hl,_score_osd_tile
1839  05C0  09          	add	hl,bc
1840  05C1  36 BC       	ld	(hl),0xbc
1841  05C3  23          	inc	hl
1842  05C4  36 00       	ld	(hl),0x00
1843  05C6  C3 B8 06    	jp	l_game_score_osd_00118
1844  05C9              l_game_score_osd_00102:
1845  05C9  21 00 00    	ld	hl,_score_osd_tile
1846  05CC  09          	add	hl,bc
1847  05CD  36 BD       	ld	(hl),0xbd
1848  05CF  23          	inc	hl
1849  05D0  36 00       	ld	(hl),0x00
1850  05D2  C3 B8 06    	jp	l_game_score_osd_00118
1851  05D5              l_game_score_osd_00116:
1852  05D5  3A 00 00    	ld	a,(_index_player)
1853  05D8  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1854  05DA  4F          	ld	c,a
1855  05DB  3E 00       	ld	a,+((_score_osd_lin) / 256)
1856  05DD  CE 00       	adc	a,0x00
1857  05DF  47          	ld	b,a
1858  05E0  0A          	ld	a,(bc)
1859  05E1  C6 FE       	add	a,0xfe
1860  05E3  32 00 00    	ld	(_tmp),a
1861  05E6  5F          	ld	e,a
1862  05E7  D5          	push	de
1863  05E8  CD 00 00    	call	_game_calc_index
1864  05EB  F1          	pop	af
1865  05EC  22 00 00    	ld	(_index1),hl
1866  05EF  3E 08       	ld	a,0x08
1867  05F1  21 00 00    	ld	hl,_tmp
1868  05F4  96          	sub	a, (hl)
1869  05F5  30 5B       	jr	NC,l_game_score_osd_00109
1870  05F7  21 01 00    	ld	hl,_index1 + 1
1871  05FA  7E          	ld	a,(hl)
1872  05FB  2B          	dec	hl
1873  05FC  B6          	or	a,(hl)
1874  05FD  28 53       	jr	Z,l_game_score_osd_00109
1875  05FF  01 00 00    	ld	bc,_lvl_1+0
1876  0602  79          	ld	a,c
1877  0603  86          	add	a, (hl)
1878  0604  5F          	ld	e,a
1879  0605  78          	ld	a,b
1880  0606  23          	inc	hl
1881  0607  8E          	adc	a, (hl)
1882  0608  57          	ld	d,a
1883  0609  1A          	ld	a,(de)
1884  060A  B7          	or	a, a
1885  060B  20 45       	jr	NZ,l_game_score_osd_00109
1886  060D  56          	ld	d,(hl)
1887  060E  2B          	dec	hl
1888  060F  5E          	ld	e,(hl)
1889  0610  13          	inc	de
1890  0611  69          	ld	l, c
1891  0612  60          	ld	h, b
1892  0613  19          	add	hl,de
1893  0614  7E          	ld	a,(hl)
1894  0615  B7          	or	a, a
1895  0616  20 3A       	jr	NZ,l_game_score_osd_00109
1896  0618  76          	halt
1897  0619  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1898  061B  21 00 00    	ld	hl,_index_player
1899  061E  86          	add	a, (hl)
1900  061F  4F          	ld	c,a
1901  0620  3E 00       	ld	a,+((_score_osd_col) / 256)
1902  0622  CE 00       	adc	a,0x00
1903  0624  47          	ld	b,a
1904  0625  0A          	ld	a,(bc)
1905  0626  57          	ld	d,a
1906  0627  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1907  0629  86          	add	a, (hl)
1908  062A  4F          	ld	c,a
1909  062B  3E 00       	ld	a,+((_score_osd_lin) / 256)
1910  062D  CE 00       	adc	a,0x00
1911  062F  47          	ld	b,a
1912  0630  0A          	ld	a,(bc)
1913  0631  5F          	ld	e,a
1914  0632  6E          	ld	l, (hl)
1915  0633  26 00       	ld	h,0x00
1916  0635  29          	add	hl, hl
1917  0636  01 00 00    	ld	bc,_score_osd_tile
1918  0639  09          	add	hl,bc
1919  063A  46          	ld	b,(hl)
1920  063B  23          	inc	hl
1921  063C  4E          	ld	c,(hl)
1922  063D  D5          	push	de
1923  063E  C5          	push	bc
1924  063F  33          	inc	sp
1925  0640  CD 00 00    	call	_NIRVANAP_drawT_callee
1926  0643  3A 00 00    	ld	a,(_index_player)
1927  0646  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1928  0648  4F          	ld	c,a
1929  0649  3E 00       	ld	a,+((_score_osd_lin) / 256)
1930  064B  CE 00       	adc	a,0x00
1931  064D  47          	ld	b,a
1932  064E  3A 00 00    	ld	a,(_tmp)
1933  0651  02          	ld	(bc),a
1934  0652              l_game_score_osd_00109:
1935  0652  01 00 00    	ld	bc,_score_osd_time+0
1936  0655  2A 00 00    	ld	hl,(_index_player)
1937  0658  26 00       	ld	h,0x00
1938  065A  29          	add	hl, hl
1939  065B  09          	add	hl,bc
1940  065C  4E          	ld	c,(hl)
1941  065D  23          	inc	hl
1942  065E  46          	ld	b,(hl)
1943  065F  21 32 00    	ld	hl,0x0032
1944  0662  E5          	push	hl
1945  0663  C5          	push	bc
1946  0664  CD 43 1A    	call	_game_check_time
1947  0667  F1          	pop	af
1948  0668  F1          	pop	af
1949  0669  7D          	ld	a,l
1950  066A  B7          	or	a, a
1951  066B  C8          	ret	Z
1952  066C  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1953  066E  21 00 00    	ld	hl,_index_player
1954  0671  86          	add	a, (hl)
1955  0672  4F          	ld	c,a
1956  0673  3E 00       	ld	a,+((_score_osd_col) / 256)
1957  0675  CE 00       	adc	a,0x00
1958  0677  47          	ld	b,a
1959  0678  0A          	ld	a,(bc)
1960  0679  57          	ld	d,a
1961  067A  4E          	ld	c,(hl)
1962  067B  06 00       	ld	b,0x00
1963  067D  21 00 00    	ld	hl,_score_osd_lin
1964  0680  09          	add	hl,bc
1965  0681  5E          	ld	e, (hl)
1966  0682  D5          	push	de
1967  0683  AF          	xor	a, a
1968  0684  F5          	push	af
1969  0685  33          	inc	sp
1970  0686  CD 00 00    	call	_NIRVANAP_fillT_callee
1971  0689  3A 00 00    	ld	a,(_index_player)
1972  068C  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1973  068E  4F          	ld	c,a
1974  068F  3E 00       	ld	a,+((_score_osd_lin) / 256)
1975  0691  CE 00       	adc	a,0x00
1976  0693  47          	ld	b,a
1977  0694  0A          	ld	a,(bc)
1978  0695  32 00 00    	ld	(_s_lin0),a
1979  0698  3A 00 00    	ld	a,(_index_player)
1980  069B  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1981  069D  4F          	ld	c,a
1982  069E  3E 00       	ld	a,+((_score_osd_col) / 256)
1983  06A0  CE 00       	adc	a,0x00
1984  06A2  47          	ld	b,a
1985  06A3  0A          	ld	a,(bc)
1986  06A4  32 00 00    	ld	(_s_col0),a
1987  06A7  CD 00 00    	call	_spr_check_over
1988  06AA  3A 00 00    	ld	a,(_index_player)
1989  06AD  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1990  06AF  4F          	ld	c,a
1991  06B0  3E 00       	ld	a,+((_score_osd_col) / 256)
1992  06B2  CE 00       	adc	a,0x00
1993  06B4  47          	ld	b,a
1994  06B5  3E FF       	ld	a,0xff
1995  06B7  02          	ld	(bc),a
1996  06B8              l_game_score_osd_00118:
1997  06B8  C9          	ret
1998  06B9              	SECTION code_compiler
1999  06B9              ;	---------------------------------
2000  06B9              ; Function game_bonus_clock
2001  06B9              ; ---------------------------------
2002  06B9              _game_bonus_clock:
2003  06B9  2A 00 00    	ld	hl,(_curr_time)
2004  06BC  29          	add	hl,hl
2005  06BD  3E 40       	ld	a,0x40
2006  06BF  95          	sub	a,l
2007  06C0  44          	ld	b,h
2008  06C1  21 00 00    	ld	hl,_tmp_ui
2009  06C4  77          	ld	(hl),a
2010  06C5  3E 06       	ld	a,0x06
2011  06C7  98          	sbc	a, b
2012  06C8  23          	inc	hl
2013  06C9  77          	ld	(hl),a
2014  06CA  3E 40       	ld	a,0x40
2015  06CC  2B          	dec	hl
2016  06CD  BE          	cp	a, (hl)
2017  06CE  3E 06       	ld	a,0x06
2018  06D0  23          	inc	hl
2019  06D1  9E          	sbc	a, (hl)
2020  06D2  30 25       	jr	NC,l_game_bonus_clock_00108
2021  06D4  2B          	dec	hl
2022  06D5  AF          	xor	a, a
2023  06D6  77          	ld	(hl), a
2024  06D7  23          	inc	hl
2025  06D8  77          	ld	(hl), a
2026  06D9  3A 00 00    	ld	a,(_phase_left)
2027  06DC  B7          	or	a, a
2028  06DD  28 0B       	jr	Z,l_game_bonus_clock_00102
2029  06DF  21 00 00    	ld	hl,0x0000
2030  06E2  E5          	push	hl
2031  06E3  21 02 0E    	ld	hl,0x0e02
2032  06E6  E5          	push	hl
2033  06E7  CD 00 00    	call	_zx_print_bonus_time
2034  06EA              l_game_bonus_clock_00102:
2035  06EA  21 00 00    	ld	hl,_phase_left
2036  06ED  36 00       	ld	(hl),0x00
2037  06EF  21 00 00    	ld	hl,_phase_end
2038  06F2  36 01       	ld	(hl),0x01
2039  06F4  CD 00 00    	call	_ay_reset
2040  06F7  18 36       	jr	l_game_bonus_clock_00110
2041  06F9              l_game_bonus_clock_00108:
2042  06F9  3A 00 00    	ld	a,(_phase_left)
2043  06FC  B7          	or	a, a
2044  06FD  C8          	ret	Z
2045  06FE  2A 00 00    	ld	hl,(_tmp_ui)
2046  0701  E5          	push	hl
2047  0702  21 02 0E    	ld	hl,0x0e02
2048  0705  E5          	push	hl
2049  0706  CD 00 00    	call	_zx_print_bonus_time
2050  0709  21 05 00    	ld	hl,0x0005
2051  070C  E5          	push	hl
2052  070D  2A 00 00    	ld	hl,(_frame_time)
2053  0710  E5          	push	hl
2054  0711  CD 43 1A    	call	_game_check_time
2055  0714  F1          	pop	af
2056  0715  F1          	pop	af
2057  0716  7D          	ld	a,l
2058  0717  B7          	or	a, a
2059  0718  C8          	ret	Z
2060  0719  2A 00 00    	ld	hl,(_curr_time)
2061  071C  22 00 00    	ld	(_frame_time),hl
2062  071F  21 14 18    	ld	hl,0x1814
2063  0722  E5          	push	hl
2064  0723  3E 0E       	ld	a,0x0e
2065  0725  F5          	push	af
2066  0726  33          	inc	sp
2067  0727  CD 5B 0D    	call	_game_paint_attrib_lin_h
2068  072A  F1          	pop	af
2069  072B  33          	inc	sp
2070  072C  CD 95 19    	call	_game_rotate_attrib
2071  072F              l_game_bonus_clock_00110:
2072  072F  C9          	ret
2073  0730              	SECTION code_compiler
2074  0730              ;	---------------------------------
2075  0730              ; Function game_bonus_summary
2076  0730              ; ---------------------------------
2077  0730              _game_bonus_summary:
2078  0730  CD E9 08    	call	_game_kill_all_sprites
2079  0733  CD 00 00    	call	_spr_draw_clear
2080  0736  21 00 00    	ld	hl,0x0000
2081  0739  CD 00 00    	call	_zx_cls_fastcall
2082  073C  CD 98 00    	call	_game_phase_print_score_back
2083  073F  CD DF 0C    	call	_game_print_score
2084  0742  3A 00 00    	ld	a,(_game_lives)
2085  0745  B7          	or	a, a
2086  0746  28 05       	jr	Z,l_game_bonus_summary_00102
2087  0748  2E 00       	ld	l,0x00
2088  074A  CD E5 07    	call	_game_bonus_summary_player
2089  074D              l_game_bonus_summary_00102:
2090  074D  3A 01 00    	ld	a, (_game_lives + 1)
2091  0750  B7          	or	a, a
2092  0751  28 05       	jr	Z,l_game_bonus_summary_00104
2093  0753  2E 01       	ld	l,0x01
2094  0755  CD E5 07    	call	_game_bonus_summary_player
2095  0758              l_game_bonus_summary_00104:
2096  0758  21 1F 98    	ld	hl,0x981f
2097  075B  E5          	push	hl
2098  075C  AF          	xor	a, a
2099  075D  F5          	push	af
2100  075E  33          	inc	sp
2101  075F  CD 34 0D    	call	_game_paint_attrib_lin
2102  0762  F1          	pop	af
2103  0763  33          	inc	sp
2104  0764  3A 00 00    	ld	a,(_phase_bonus_total)
2105  0767  D6 06       	sub	a,0x06
2106  0769  20 68       	jr	NZ,l_game_bonus_summary_00109
2107  076B  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2108  076E  B7          	or	a, a
2109  076F  20 62       	jr	NZ,l_game_bonus_summary_00109
2110  0771  CD 00 00    	call	_sound_jump
2111  0774  3A 00 00    	ld	a,(_phase_curr)
2112  0777  D6 03       	sub	a,0x03
2113  0779  30 23       	jr	NC,l_game_bonus_summary_00106
2114  077B  21 83 00    	ld	hl,___str_19
2115  077E  E5          	push	hl
2116  077F  21 12 06    	ld	hl,0x0612
2117  0782  E5          	push	hl
2118  0783  CD 00 00    	call	_zx_print_str
2119  0786  21 00 00    	ld	hl,_index_player
2120  0789  36 00       	ld	(hl),0x00
2121  078B  21 2C 01    	ld	hl,0x012c
2122  078E  CD 00 00    	call	_player_score_add
2123  0791  21 00 00    	ld	hl,_index_player
2124  0794  36 01       	ld	(hl),0x01
2125  0796  21 2C 01    	ld	hl,0x012c
2126  0799  CD 00 00    	call	_player_score_add
2127  079C  18 21       	jr	l_game_bonus_summary_00107
2128  079E              l_game_bonus_summary_00106:
2129  079E  21 96 00    	ld	hl,___str_20
2130  07A1  E5          	push	hl
2131  07A2  21 12 06    	ld	hl,0x0612
2132  07A5  E5          	push	hl
2133  07A6  CD 00 00    	call	_zx_print_str
2134  07A9  21 00 00    	ld	hl,_index_player
2135  07AC  36 00       	ld	(hl),0x00
2136  07AE  21 F4 01    	ld	hl,0x01f4
2137  07B1  CD 00 00    	call	_player_score_add
2138  07B4  21 00 00    	ld	hl,_index_player
2139  07B7  36 01       	ld	(hl),0x01
2140  07B9  21 F4 01    	ld	hl,0x01f4
2141  07BC  CD 00 00    	call	_player_score_add
2142  07BF              l_game_bonus_summary_00107:
2143  07BF  21 C8 00    	ld	hl,0x00c8
2144  07C2  E5          	push	hl
2145  07C3  21 10 1A    	ld	hl,0x1a10
2146  07C6  E5          	push	hl
2147  07C7  3E 12       	ld	a,0x12
2148  07C9  F5          	push	af
2149  07CA  33          	inc	sp
2150  07CB  CD B1 19    	call	_game_colour_message
2151  07CE  F1          	pop	af
2152  07CF  F1          	pop	af
2153  07D0  33          	inc	sp
2154  07D1  18 11       	jr	l_game_bonus_summary_00112
2155  07D3              l_game_bonus_summary_00109:
2156  07D3  21 A9 00    	ld	hl,___str_21
2157  07D6  E5          	push	hl
2158  07D7  21 12 0C    	ld	hl,0x0c12
2159  07DA  E5          	push	hl
2160  07DB  CD 00 00    	call	_zx_print_str
2161  07DE  21 E8 03    	ld	hl,0x03e8
2162  07E1  CD 00 00    	call	_z80_delay_ms_fastcall
2163  07E4              l_game_bonus_summary_00112:
2164  07E4  C9          	ret
2165  07E5              	SECTION rodata_compiler
2166  0083              ___str_19:
2167  0083  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2168  0095  00          	DEFB 0x00
2169  0096              	SECTION rodata_compiler
2170  0096              ___str_20:
2171  0096  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2172  00A8  00          	DEFB 0x00
2173  00A9              	SECTION rodata_compiler
2174  00A9              ___str_21:
2175  00A9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2176  00B1  00          	DEFB 0x00
2177  00B2              	SECTION code_compiler
2178  07E5              ;	---------------------------------
2179  07E5              ; Function game_bonus_summary_player
2180  07E5              ; ---------------------------------
2181  07E5              _game_bonus_summary_player:
2182  07E5  CD 00 00    	call	___sdcc_enter_ix
2183  07E8  F5          	push	af
2184  07E9  3B          	dec	sp
2185  07EA  DD 75 FF    	ld	(ix-1),l
2186  07ED  76          	halt
2187  07EE  DD 7E FF    	ld	a,(ix-1)
2188  07F1  B7          	or	a, a
2189  07F2  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2190  07F4  21 00 00    	ld	hl,_s_lin1
2191  07F7  36 06       	ld	(hl),0x06
2192  07F9  21 B2 00    	ld	hl,___str_22
2193  07FC  E5          	push	hl
2194  07FD  21 06 07    	ld	hl,0x0706
2195  0800  E5          	push	hl
2196  0801  CD 00 00    	call	_zx_print_str
2197  0804  3A 00 00    	ld	a,(_s_lin1)
2198  0807  07          	rlca
2199  0808  07          	rlca
2200  0809  07          	rlca
2201  080A  E6 F8       	and	a,0xf8
2202  080C  47          	ld	b,a
2203  080D  04          	inc	b
2204  080E  04          	inc	b
2205  080F  04          	inc	b
2206  0810  04          	inc	b
2207  0811  3E 04       	ld	a,0x04
2208  0813  48          	ld	c,b
2209  0814  47          	ld	b,a
2210  0815  C5          	push	bc
2211  0816  3E 03       	ld	a,0x03
2212  0818  F5          	push	af
2213  0819  33          	inc	sp
2214  081A  CD 00 00    	call	_NIRVANAP_drawT_callee
2215  081D  21 00 00    	ld	hl,_index_player
2216  0820  36 00       	ld	(hl),0x00
2217  0822  18 2E       	jr	l_game_bonus_summary_player_00103
2218  0824              l_game_bonus_summary_player_00102:
2219  0824  21 00 00    	ld	hl,_s_lin1
2220  0827  36 0C       	ld	(hl),0x0c
2221  0829  21 B9 00    	ld	hl,___str_23
2222  082C  E5          	push	hl
2223  082D  21 0C 07    	ld	hl,0x070c
2224  0830  E5          	push	hl
2225  0831  CD 00 00    	call	_zx_print_str
2226  0834  3A 00 00    	ld	a,(_s_lin1)
2227  0837  07          	rlca
2228  0838  07          	rlca
2229  0839  07          	rlca
2230  083A  E6 F8       	and	a,0xf8
2231  083C  47          	ld	b,a
2232  083D  04          	inc	b
2233  083E  04          	inc	b
2234  083F  04          	inc	b
2235  0840  04          	inc	b
2236  0841  3E 04       	ld	a,0x04
2237  0843  48          	ld	c,b
2238  0844  47          	ld	b,a
2239  0845  C5          	push	bc
2240  0846  3E 1B       	ld	a,0x1b
2241  0848  F5          	push	af
2242  0849  33          	inc	sp
2243  084A  CD 00 00    	call	_NIRVANAP_drawT_callee
2244  084D  21 00 00    	ld	hl,_index_player
2245  0850  36 01       	ld	(hl),0x01
2246  0852              l_game_bonus_summary_player_00103:
2247  0852  3A 00 00    	ld	a,(_s_lin1)
2248  0855  07          	rlca
2249  0856  07          	rlca
2250  0857  07          	rlca
2251  0858  E6 F8       	and	a,0xf8
2252  085A  C6 08       	add	a,0x08
2253  085C  F5          	push	af
2254  085D  33          	inc	sp
2255  085E  21 07 1F    	ld	hl,0x1f07
2256  0861  E5          	push	hl
2257  0862  CD 34 0D    	call	_game_paint_attrib_lin
2258  0865  F1          	pop	af
2259  0866  33          	inc	sp
2260  0867  21 00 00    	ld	hl,_tmp_uc
2261  086A  36 00       	ld	(hl),0x00
2262  086C  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2263  086E  DD 86 FF    	add	a,(ix-1)
2264  0871  DD 77 FD    	ld	(ix-3),a
2265  0874  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2266  0876  CE 00       	adc	a,0x00
2267  0878  DD 77 FE    	ld	(ix-2),a
2268  087B              l_game_bonus_summary_player_00107:
2269  087B  E1          	pop	hl
2270  087C  4E          	ld	c,(hl)
2271  087D  3A 00 00    	ld	a,(_tmp_uc)
2272  0880  E5          	push	hl
2273  0881  91          	sub	a, c
2274  0882  30 53       	jr	NC,l_game_bonus_summary_player_00109
2275  0884  3A 00 00    	ld	a,(_s_lin1)
2276  0887  07          	rlca
2277  0888  07          	rlca
2278  0889  07          	rlca
2279  088A  E6 F8       	and	a,0xf8
2280  088C  4F          	ld	c,a
2281  088D  3A 00 00    	ld	a,(_tmp_uc)
2282  0890  D6 03       	sub	a,0x03
2283  0892  30 08       	jr	NC,l_game_bonus_summary_player_00105
2284  0894  79          	ld	a,c
2285  0895  C6 F8       	add	a,0xf8
2286  0897  32 00 00    	ld	(_s_lin0),a
2287  089A  18 06       	jr	l_game_bonus_summary_player_00106
2288  089C              l_game_bonus_summary_player_00105:
2289  089C  79          	ld	a,c
2290  089D  C6 08       	add	a,0x08
2291  089F  32 00 00    	ld	(_s_lin0),a
2292  08A2              l_game_bonus_summary_player_00106:
2293  08A2  76          	halt
2294  08A3  2A 00 00    	ld	hl,(_tmp_uc)
2295  08A6  26 03       	ld	h,0x03
2296  08A8  E5          	push	hl
2297  08A9  CD 00 00    	call	__moduchar_callee
2298  08AC  7D          	ld	a,l
2299  08AD  87          	add	a, a
2300  08AE  C6 0E       	add	a,0x0e
2301  08B0  F5          	push	af
2302  08B1  33          	inc	sp
2303  08B2  3A 00 00    	ld	a,(_s_lin0)
2304  08B5  57          	ld	d,a
2305  08B6  1E B9       	ld	e,0xb9
2306  08B8  D5          	push	de
2307  08B9  CD 00 00    	call	_NIRVANAP_drawT_callee
2308  08BC  21 50 00    	ld	hl,0x0050
2309  08BF  CD 00 00    	call	_player_score_add
2310  08C2  21 00 00    	ld	hl,_tmp_uc
2311  08C5  34          	inc	(hl)
2312  08C6  21 00 00    	ld	hl,_ay_effect_09
2313  08C9  CD 00 00    	call	_ay_fx_play
2314  08CC  CD 00 00    	call	_sound_coin
2315  08CF  21 32 00    	ld	hl,0x0032
2316  08D2  CD 00 00    	call	_z80_delay_ms_fastcall
2317  08D5  18 A4       	jr	l_game_bonus_summary_player_00107
2318  08D7              l_game_bonus_summary_player_00109:
2319  08D7  21 BF 00    	ld	hl,___str_24
2320  08DA  E5          	push	hl
2321  08DB  2A 00 00    	ld	hl,(_s_lin1)
2322  08DE  26 16       	ld	h,0x16
2323  08E0  E5          	push	hl
2324  08E1  CD 00 00    	call	_zx_print_str
2325  08E4  DD F9       	ld	sp, ix
2326  08E6  DD E1       	pop	ix
2327  08E8  C9          	ret
2328  08E9              	SECTION rodata_compiler
2329  00B2              ___str_22:
2330  00B2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2331  00B8  00          	DEFB 0x00
2332  00B9              	SECTION rodata_compiler
2333  00B9              ___str_23:
2334  00B9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2335  00BE  00          	DEFB 0x00
2336  00BF              	SECTION rodata_compiler
2337  00BF              ___str_24:
2338  00BF  58 20 38 30 30 
                        	DEFM "X 800"
2339  00C4  00          	DEFB 0x00
2340  00C5              	SECTION code_compiler
2341  08E9              ;	---------------------------------
2342  08E9              ; Function game_kill_all_sprites
2343  08E9              ; ---------------------------------
2344  08E9              _game_kill_all_sprites:
2345  08E9  21 00 00    	ld	hl,_sprite
2346  08EC  36 00       	ld	(hl),0x00
2347  08EE              l_game_kill_all_sprites_00102:
2348  08EE  2A 00 00    	ld	hl,(_sprite)
2349  08F1  CD 00 00    	call	_spr_destroy
2350  08F4  21 00 00    	ld	hl,_sprite
2351  08F7  7E          	ld	a,(hl)
2352  08F8  3C          	inc	a
2353  08F9  77          	ld	(hl),a
2354  08FA  D6 08       	sub	a,0x08
2355  08FC  38 F0       	jr	C,l_game_kill_all_sprites_00102
2356  08FE  C9          	ret
2357  08FF              	SECTION code_compiler
2358  08FF              ;	---------------------------------
2359  08FF              ; Function game_check_maze
2360  08FF              ; ---------------------------------
2361  08FF              _game_check_maze:
2362  08FF  4D          	ld	c,l
2363  0900  44          	ld	b,h
2364  0901  21 00 00    	ld	hl,_lvl_1
2365  0904  09          	add	hl,bc
2366  0905  7E          	ld	a, (hl)
2367  0906  D6 10       	sub	a,0x10
2368  0908  30 0A       	jr	NC,l_game_check_maze_00103
2369  090A  03          	inc	bc
2370  090B  21 00 00    	ld	hl,_lvl_1
2371  090E  09          	add	hl,bc
2372  090F  7E          	ld	a, (hl)
2373  0910  D6 10       	sub	a,0x10
2374  0912  38 04       	jr	C,l_game_check_maze_00104
2375  0914              l_game_check_maze_00103:
2376  0914  2E 00       	ld	l,0x00
2377  0916  18 02       	jr	l_game_check_maze_00105
2378  0918              l_game_check_maze_00104:
2379  0918  2E 01       	ld	l,0x01
2380  091A              l_game_check_maze_00105:
2381  091A  C9          	ret
2382  091B              	SECTION code_compiler
2383  091B              ;	---------------------------------
2384  091B              ; Function game_enemy_add
2385  091B              ; ---------------------------------
2386  091B              _game_enemy_add:
2387  091B  3A 00 00    	ld	a,(_game_type)
2388  091E  D6 02       	sub	a,0x02
2389  0920  20 05       	jr	NZ,l_game_enemy_add_00106
2390  0922  CD 8A 0A    	call	_game_enemy_rnd
2391  0925  18 21       	jr	l_game_enemy_add_00107
2392  0927              l_game_enemy_add_00106:
2393  0927  3A 00 00    	ld	a,(_spr_count)
2394  092A  D6 06       	sub	a,0x06
2395  092C  30 1A       	jr	NC,l_game_enemy_add_00107
2396  092E  21 64 00    	ld	hl,0x0064
2397  0931  E5          	push	hl
2398  0932  2A 00 00    	ld	hl,(_entry_time)
2399  0935  E5          	push	hl
2400  0936  CD 43 1A    	call	_game_check_time
2401  0939  F1          	pop	af
2402  093A  F1          	pop	af
2403  093B  7D          	ld	a,l
2404  093C  B7          	or	a, a
2405  093D  28 09       	jr	Z,l_game_enemy_add_00107
2406  093F  3A 00 00    	ld	a,(_phase_left)
2407  0942  B7          	or	a, a
2408  0943  28 03       	jr	Z,l_game_enemy_add_00107
2409  0945  CD 4B 09    	call	_game_enemy_quota
2410  0948              l_game_enemy_add_00107:
2411  0948  2E 00       	ld	l,0x00
2412  094A  C9          	ret
2413  094B              	SECTION code_compiler
2414  094B              ;	---------------------------------
2415  094B              ; Function game_enemy_quota
2416  094B              ; ---------------------------------
2417  094B              _game_enemy_quota:
2418  094B  3A 00 00    	ld	a,(_phase_left)
2419  094E  B7          	or	a, a
2420  094F  CA F6 09    	jp	Z,l_game_enemy_quota_00128
2421  0952  CD 00 00    	call	_rand
2422  0955  7D          	ld	a, l
2423  0956  E6 03       	and	a,0x03
2424  0958  32 00 00    	ld	(_tmp),a
2425  095B  3A 00 00    	ld	a,(_phase_pop)
2426  095E  B7          	or	a, a
2427  095F  28 06       	jr	Z,l_game_enemy_quota_00101
2428  0961  3A 00 00    	ld	a,(_phase_left)
2429  0964  3D          	dec	a
2430  0965  20 05       	jr	NZ,l_game_enemy_quota_00102
2431  0967              l_game_enemy_quota_00101:
2432  0967  21 00 00    	ld	hl,_tmp
2433  096A  36 00       	ld	(hl),0x00
2434  096C              l_game_enemy_quota_00102:
2435  096C  21 00 00    	ld	hl,_tmp_sc
2436  096F  36 00       	ld	(hl),0x00
2437  0971              l_game_enemy_quota_00124:
2438  0971  3A 00 00    	ld	a,(_tmp_sc)
2439  0974  EE 80       	xor	a,0x80
2440  0976  D6 83       	sub	a,0x83
2441  0978  D2 F6 09    	jp	NC,l_game_enemy_quota_00128
2442  097B  21 00 00    	ld	hl,_tmp
2443  097E  7E          	ld	a,(hl)
2444  097F  D6 03       	sub	a,0x03
2445  0981  30 73       	jr	NC,l_game_enemy_quota_00128
2446  0983  3E 00       	ld	a,+((_phase_quota) & 0xFF)
2447  0985  86          	add	a, (hl)
2448  0986  4F          	ld	c,a
2449  0987  3E 00       	ld	a,+((_phase_quota) / 256)
2450  0989  CE 00       	adc	a,0x00
2451  098B  47          	ld	b,a
2452  098C  0A          	ld	a,(bc)
2453  098D  B7          	or	a, a
2454  098E  28 54       	jr	Z,l_game_enemy_quota_00120
2455  0990  C6 FF       	add	a,0xff
2456  0992  02          	ld	(bc),a
2457  0993  3A 00 00    	ld	a,(_phase_angry)
2458  0996  B7          	or	a, a
2459  0997  28 24       	jr	Z,l_game_enemy_quota_00117
2460  0999  3A 00 00    	ld	a,(_tmp)
2461  099C  B7          	or	a, a
2462  099D  20 05       	jr	NZ,l_game_enemy_quota_00105
2463  099F  2E 03       	ld	l,0x03
2464  09A1  CD BA 0A    	call	_game_enemy_add1
2465  09A4              l_game_enemy_quota_00105:
2466  09A4  3A 00 00    	ld	a,(_tmp)
2467  09A7  3D          	dec	a
2468  09A8  20 05       	jr	NZ,l_game_enemy_quota_00107
2469  09AA  2E 06       	ld	l,0x06
2470  09AC  CD BA 0A    	call	_game_enemy_add1
2471  09AF              l_game_enemy_quota_00107:
2472  09AF  3A 00 00    	ld	a,(_tmp)
2473  09B2  D6 02       	sub	a,0x02
2474  09B4  20 29       	jr	NZ,l_game_enemy_quota_00118
2475  09B6  2E 09       	ld	l,0x09
2476  09B8  CD BA 0A    	call	_game_enemy_add1
2477  09BB  18 22       	jr	l_game_enemy_quota_00118
2478  09BD              l_game_enemy_quota_00117:
2479  09BD  3A 00 00    	ld	a,(_tmp)
2480  09C0  B7          	or	a, a
2481  09C1  20 05       	jr	NZ,l_game_enemy_quota_00111
2482  09C3  2E 01       	ld	l,0x01
2483  09C5  CD BA 0A    	call	_game_enemy_add1
2484  09C8              l_game_enemy_quota_00111:
2485  09C8  3A 00 00    	ld	a,(_tmp)
2486  09CB  3D          	dec	a
2487  09CC  20 05       	jr	NZ,l_game_enemy_quota_00113
2488  09CE  2E 04       	ld	l,0x04
2489  09D0  CD BA 0A    	call	_game_enemy_add1
2490  09D3              l_game_enemy_quota_00113:
2491  09D3  3A 00 00    	ld	a,(_tmp)
2492  09D6  D6 02       	sub	a,0x02
2493  09D8  20 05       	jr	NZ,l_game_enemy_quota_00118
2494  09DA  2E 09       	ld	l,0x09
2495  09DC  CD BA 0A    	call	_game_enemy_add1
2496  09DF              l_game_enemy_quota_00118:
2497  09DF  2E 00       	ld	l,0x00
2498  09E1  C3 89 0A    	jp	l_game_enemy_quota_00144
2499  09E4              l_game_enemy_quota_00120:
2500  09E4  21 00 00    	ld	hl,_tmp
2501  09E7  34          	inc	(hl)
2502  09E8  3E 02       	ld	a,0x02
2503  09EA  96          	sub	a, (hl)
2504  09EB  30 02       	jr	NC,l_game_enemy_quota_00122
2505  09ED  36 00       	ld	(hl),0x00
2506  09EF              l_game_enemy_quota_00122:
2507  09EF  21 00 00    	ld	hl,_tmp_sc
2508  09F2  34          	inc	(hl)
2509  09F3  C3 71 09    	jp	l_game_enemy_quota_00124
2510  09F6              l_game_enemy_quota_00128:
2511  09F6  3A 00 00    	ld	a,(_phase_coins)
2512  09F9  B7          	or	a, a
2513  09FA  28 0A       	jr	Z,l_game_enemy_quota_00130
2514  09FC  2E 08       	ld	l,0x08
2515  09FE  CD BA 0A    	call	_game_enemy_add1
2516  0A01  2E 00       	ld	l,0x00
2517  0A03  C3 89 0A    	jp	l_game_enemy_quota_00144
2518  0A06              l_game_enemy_quota_00130:
2519  0A06  CD 00 00    	call	_rand
2520  0A09  7D          	ld	a,l
2521  0A0A  E6 03       	and	a,0x03
2522  0A0C  44          	ld	b,h
2523  0A0D  0E 00       	ld	c,0x00
2524  0A0F  CB 79       	bit	7,c
2525  0A11  20 74       	jr	NZ,l_game_enemy_quota_00143
2526  0A13  5F          	ld	e,a
2527  0A14  3E 03       	ld	a,0x03
2528  0A16  BB          	cp	a, e
2529  0A17  3E 00       	ld	a,0x00
2530  0A19  99          	sbc	a, c
2531  0A1A  E2 1F 0A    	jp	PO, l_game_enemy_quota_00240
2532  0A1D  EE 80       	xor	a,0x80
2533  0A1F              l_game_enemy_quota_00240:
2534  0A1F  FA 87 0A    	jp	M,l_game_enemy_quota_00143
2535  0A22  16 00       	ld	d,0x00
2536  0A24  21 2A 0A    	ld	hl,l_game_enemy_quota_00241
2537  0A27  19          	add	hl,de
2538  0A28  19          	add	hl,de
2539  0A29  E9          	jp	(hl)
2540  0A2A              l_game_enemy_quota_00241:
2541  0A2A  18 06       	jr	l_game_enemy_quota_00131
2542  0A2C  18 13       	jr	l_game_enemy_quota_00134
2543  0A2E  18 29       	jr	l_game_enemy_quota_00137
2544  0A30  18 3F       	jr	l_game_enemy_quota_00140
2545  0A32              l_game_enemy_quota_00131:
2546  0A32  3E 07       	ld	a,0x07
2547  0A34  21 00 00    	ld	hl,_phase_curr
2548  0A37  96          	sub	a, (hl)
2549  0A38  30 4D       	jr	NC,l_game_enemy_quota_00143
2550  0A3A  2E 07       	ld	l,0x07
2551  0A3C  CD BA 0A    	call	_game_enemy_add1
2552  0A3F  18 46       	jr	l_game_enemy_quota_00143
2553  0A41              l_game_enemy_quota_00134:
2554  0A41  2A 00 00    	ld	hl,(_game_time_fireball_start)
2555  0A44  E5          	push	hl
2556  0A45  21 00 00    	ld	hl,0x0000
2557  0A48  E5          	push	hl
2558  0A49  CD 43 1A    	call	_game_check_time
2559  0A4C  F1          	pop	af
2560  0A4D  F1          	pop	af
2561  0A4E  7D          	ld	a,l
2562  0A4F  B7          	or	a, a
2563  0A50  28 35       	jr	Z,l_game_enemy_quota_00143
2564  0A52  2E 0B       	ld	l,0x0b
2565  0A54  CD BA 0A    	call	_game_enemy_add1
2566  0A57  18 2E       	jr	l_game_enemy_quota_00143
2567  0A59              l_game_enemy_quota_00137:
2568  0A59  2A 00 00    	ld	hl,(_game_time_fireball_start)
2569  0A5C  E5          	push	hl
2570  0A5D  21 00 00    	ld	hl,0x0000
2571  0A60  E5          	push	hl
2572  0A61  CD 43 1A    	call	_game_check_time
2573  0A64  F1          	pop	af
2574  0A65  F1          	pop	af
2575  0A66  7D          	ld	a,l
2576  0A67  B7          	or	a, a
2577  0A68  28 1D       	jr	Z,l_game_enemy_quota_00143
2578  0A6A  2E 0B       	ld	l,0x0b
2579  0A6C  CD BA 0A    	call	_game_enemy_add1
2580  0A6F  18 16       	jr	l_game_enemy_quota_00143
2581  0A71              l_game_enemy_quota_00140:
2582  0A71  2A 00 00    	ld	hl,(_game_time_fireball_start)
2583  0A74  E5          	push	hl
2584  0A75  21 00 00    	ld	hl,0x0000
2585  0A78  E5          	push	hl
2586  0A79  CD 43 1A    	call	_game_check_time
2587  0A7C  F1          	pop	af
2588  0A7D  F1          	pop	af
2589  0A7E  7D          	ld	a,l
2590  0A7F  B7          	or	a, a
2591  0A80  28 05       	jr	Z,l_game_enemy_quota_00143
2592  0A82  2E 0A       	ld	l,0x0a
2593  0A84  CD BA 0A    	call	_game_enemy_add1
2594  0A87              l_game_enemy_quota_00143:
2595  0A87  2E 00       	ld	l,0x00
2596  0A89              l_game_enemy_quota_00144:
2597  0A89  C9          	ret
2598  0A8A              	SECTION code_compiler
2599  0A8A              ;	---------------------------------
2600  0A8A              ; Function game_enemy_rnd
2601  0A8A              ; ---------------------------------
2602  0A8A              _game_enemy_rnd:
2603  0A8A  3A 00 00    	ld	a,(_spr_count)
2604  0A8D  D6 06       	sub	a,0x06
2605  0A8F  30 26       	jr	NC,l_game_enemy_rnd_00102
2606  0A91  21 64 00    	ld	hl,0x0064
2607  0A94  E5          	push	hl
2608  0A95  2A 00 00    	ld	hl,(_entry_time)
2609  0A98  E5          	push	hl
2610  0A99  CD 43 1A    	call	_game_check_time
2611  0A9C  F1          	pop	af
2612  0A9D  F1          	pop	af
2613  0A9E  7D          	ld	a,l
2614  0A9F  B7          	or	a, a
2615  0AA0  28 15       	jr	Z,l_game_enemy_rnd_00102
2616  0AA2  2A 00 00    	ld	hl,(_curr_time)
2617  0AA5  22 00 00    	ld	(_entry_time),hl
2618  0AA8  CD 00 00    	call	_rand
2619  0AAB  01 0B 00    	ld	bc,0x000b
2620  0AAE  C5          	push	bc
2621  0AAF  E5          	push	hl
2622  0AB0  CD 00 00    	call	__modsint_callee
2623  0AB3  2C          	inc	l
2624  0AB4  CD BA 0A    	call	_game_enemy_add1
2625  0AB7              l_game_enemy_rnd_00102:
2626  0AB7  2E 00       	ld	l,0x00
2627  0AB9  C9          	ret
2628  0ABA              	SECTION code_compiler
2629  0ABA              ;	---------------------------------
2630  0ABA              ; Function game_enemy_add1
2631  0ABA              ; ---------------------------------
2632  0ABA              _game_enemy_add1:
2633  0ABA  CD 00 00    	call	___sdcc_enter_ix
2634  0ABD  F5          	push	af
2635  0ABE  45          	ld	b,l
2636  0ABF  78          	ld	a,b
2637  0AC0  D6 0A       	sub	a,0x0a
2638  0AC2  20 04       	jr	NZ,l_game_enemy_add1_00185
2639  0AC4  3E 01       	ld	a,0x01
2640  0AC6  18 01       	jr	l_game_enemy_add1_00186
2641  0AC8              l_game_enemy_add1_00185:
2642  0AC8  AF          	xor	a,a
2643  0AC9              l_game_enemy_add1_00186:
2644  0AC9  4F          	ld	c,a
2645  0ACA  B7          	or	a, a
2646  0ACB  28 0B       	jr	Z,l_game_enemy_add1_00105
2647  0ACD  C5          	push	bc
2648  0ACE  2E 0A       	ld	l,0x0a
2649  0AD0  CD FC 0B    	call	_game_enemy_add_get_index
2650  0AD3  C1          	pop	bc
2651  0AD4  5D          	ld	e,l
2652  0AD5  1C          	inc	e
2653  0AD6  20 2B       	jr	NZ,l_game_enemy_add1_00101
2654  0AD8              l_game_enemy_add1_00105:
2655  0AD8  78          	ld	a,b
2656  0AD9  D6 0B       	sub	a,0x0b
2657  0ADB  20 04       	jr	NZ,l_game_enemy_add1_00189
2658  0ADD  3E 01       	ld	a,0x01
2659  0ADF  18 01       	jr	l_game_enemy_add1_00190
2660  0AE1              l_game_enemy_add1_00189:
2661  0AE1  AF          	xor	a,a
2662  0AE2              l_game_enemy_add1_00190:
2663  0AE2  DD 77 FF    	ld	(ix-1),a
2664  0AE5  B7          	or	a, a
2665  0AE6  28 0B       	jr	Z,l_game_enemy_add1_00107
2666  0AE8  C5          	push	bc
2667  0AE9  2E 0B       	ld	l,0x0b
2668  0AEB  CD FC 0B    	call	_game_enemy_add_get_index
2669  0AEE  C1          	pop	bc
2670  0AEF  5D          	ld	e,l
2671  0AF0  1C          	inc	e
2672  0AF1  20 10       	jr	NZ,l_game_enemy_add1_00101
2673  0AF3              l_game_enemy_add1_00107:
2674  0AF3  78          	ld	a,b
2675  0AF4  D6 07       	sub	a,0x07
2676  0AF6  20 10       	jr	NZ,l_game_enemy_add1_00102
2677  0AF8  C5          	push	bc
2678  0AF9  2E 07       	ld	l,0x07
2679  0AFB  CD FC 0B    	call	_game_enemy_add_get_index
2680  0AFE  C1          	pop	bc
2681  0AFF  5D          	ld	e,l
2682  0B00  1C          	inc	e
2683  0B01  28 05       	jr	Z,l_game_enemy_add1_00102
2684  0B03              l_game_enemy_add1_00101:
2685  0B03  2E 00       	ld	l,0x00
2686  0B05  C3 F8 0B    	jp	l_game_enemy_add1_00131
2687  0B08              l_game_enemy_add1_00102:
2688  0B08  21 00 00    	ld	hl,_phase_pop
2689  0B0B  34          	inc	(hl)
2690  0B0C  C5          	push	bc
2691  0B0D  CD 00 00    	call	_sound_enter_enemy
2692  0B10  2E 00       	ld	l,0x00
2693  0B12  CD FC 0B    	call	_game_enemy_add_get_index
2694  0B15  C1          	pop	bc
2695  0B16  7D          	ld	a,l
2696  0B17  32 00 00    	ld	(_tmp),a
2697  0B1A  C5          	push	bc
2698  0B1B  CD 00 00    	call	_rand
2699  0B1E  C1          	pop	bc
2700  0B1F  7D          	ld	a, l
2701  0B20  E6 01       	and	a,0x01
2702  0B22  32 00 00    	ld	(_tmp0),a
2703  0B25  3D          	dec	a
2704  0B26  20 1C       	jr	NZ,l_game_enemy_add1_00113
2705  0B28  21 00 00    	ld	hl,_s_lin0
2706  0B2B  36 10       	ld	(hl),0x10
2707  0B2D  21 00 00    	ld	hl,_s_col0
2708  0B30  36 04       	ld	(hl),0x04
2709  0B32  21 00 00    	ld	hl,_s_col1
2710  0B35  36 02       	ld	(hl),0x02
2711  0B37  79          	ld	a,c
2712  0B38  B7          	or	a, a
2713  0B39  28 02       	jr	Z,l_game_enemy_add1_00109
2714  0B3B  36 03       	ld	(hl),0x03
2715  0B3D              l_game_enemy_add1_00109:
2716  0B3D  21 00 00    	ld	hl,_tmp1
2717  0B40  36 01       	ld	(hl),0x01
2718  0B42  18 1A       	jr	l_game_enemy_add1_00114
2719  0B44              l_game_enemy_add1_00113:
2720  0B44  21 00 00    	ld	hl,_s_lin0
2721  0B47  36 10       	ld	(hl),0x10
2722  0B49  21 00 00    	ld	hl,_s_col0
2723  0B4C  36 1A       	ld	(hl),0x1a
2724  0B4E  21 00 00    	ld	hl,_s_col1
2725  0B51  36 1E       	ld	(hl),0x1e
2726  0B53  79          	ld	a,c
2727  0B54  B7          	or	a, a
2728  0B55  28 02       	jr	Z,l_game_enemy_add1_00111
2729  0B57  36 1C       	ld	(hl),0x1c
2730  0B59              l_game_enemy_add1_00111:
2731  0B59  21 00 00    	ld	hl,_tmp1
2732  0B5C  36 FF       	ld	(hl),0xff
2733  0B5E              l_game_enemy_add1_00114:
2734  0B5E  78          	ld	a,b
2735  0B5F  D6 08       	sub	a,0x08
2736  0B61  20 04       	jr	NZ,l_game_enemy_add1_00198
2737  0B63  3E 01       	ld	a,0x01
2738  0B65  18 01       	jr	l_game_enemy_add1_00199
2739  0B67              l_game_enemy_add1_00198:
2740  0B67  AF          	xor	a,a
2741  0B68              l_game_enemy_add1_00199:
2742  0B68  DD 77 FE    	ld	(ix-2),a
2743  0B6B  B7          	or	a, a
2744  0B6C  28 04       	jr	Z,l_game_enemy_add1_00116
2745  0B6E  21 00 00    	ld	hl,_phase_coins
2746  0B71  35          	dec	(hl)
2747  0B72              l_game_enemy_add1_00116:
2748  0B72  21 00 00    	ld	hl,_tmp_uc
2749  0B75  36 00       	ld	(hl),0x00
2750  0B77  DD 7E FF    	ld	a,(ix-1)
2751  0B7A  B7          	or	a,a
2752  0B7B  20 03       	jr	NZ,l_game_enemy_add1_00123
2753  0B7D  B1          	or	a,c
2754  0B7E  28 35       	jr	Z,l_game_enemy_add1_00124
2755  0B80              l_game_enemy_add1_00123:
2756  0B80  C5          	push	bc
2757  0B81  CD 00 00    	call	_rand
2758  0B84  11 03 00    	ld	de,0x0003
2759  0B87  D5          	push	de
2760  0B88  E5          	push	hl
2761  0B89  CD 00 00    	call	__modsint_callee
2762  0B8C  C1          	pop	bc
2763  0B8D  5D          	ld	e,l
2764  0B8E  21 00 00    	ld	hl,_tmp_uc
2765  0B91  73          	ld	(hl),e
2766  0B92  7B          	ld	a,e
2767  0B93  B7          	or	a, a
2768  0B94  20 02       	jr	NZ,l_game_enemy_add1_00118
2769  0B96  36 10       	ld	(hl),0x10
2770  0B98              l_game_enemy_add1_00118:
2771  0B98  3A 00 00    	ld	a,(_tmp_uc)
2772  0B9B  3D          	dec	a
2773  0B9C  20 05       	jr	NZ,l_game_enemy_add1_00120
2774  0B9E  21 00 00    	ld	hl,_tmp_uc
2775  0BA1  36 38       	ld	(hl),0x38
2776  0BA3              l_game_enemy_add1_00120:
2777  0BA3  3A 00 00    	ld	a,(_tmp_uc)
2778  0BA6  D6 02       	sub	a,0x02
2779  0BA8  20 05       	jr	NZ,l_game_enemy_add1_00122
2780  0BAA  21 00 00    	ld	hl,_tmp_uc
2781  0BAD  36 84       	ld	(hl),0x84
2782  0BAF              l_game_enemy_add1_00122:
2783  0BAF  3A 00 00    	ld	a,(_s_col1)
2784  0BB2  32 00 00    	ld	(_s_col0),a
2785  0BB5              l_game_enemy_add1_00124:
2786  0BB5  CD 00 00    	call	_ay_is_playing
2787  0BB8  7D          	ld	a,l
2788  0BB9  D6 02       	sub	a,0x02
2789  0BBB  30 14       	jr	NC,l_game_enemy_add1_00130
2790  0BBD  DD 7E FE    	ld	a,(ix-2)
2791  0BC0  B7          	or	a, a
2792  0BC1  20 08       	jr	NZ,l_game_enemy_add1_00127
2793  0BC3  21 00 00    	ld	hl,_ay_effect_04
2794  0BC6  CD 00 00    	call	_ay_fx_play
2795  0BC9  18 06       	jr	l_game_enemy_add1_00130
2796  0BCB              l_game_enemy_add1_00127:
2797  0BCB  21 00 00    	ld	hl,_ay_effect_07
2798  0BCE  CD 00 00    	call	_ay_fx_play
2799  0BD1              l_game_enemy_add1_00130:
2800  0BD1  2A 00 00    	ld	hl,(_curr_time)
2801  0BD4  22 00 00    	ld	(_entry_time),hl
2802  0BD7  3A 00 00    	ld	a,(_s_lin0)
2803  0BDA  21 00 00    	ld	hl,_tmp_uc
2804  0BDD  86          	add	a, (hl)
2805  0BDE  57          	ld	d,a
2806  0BDF  3A 00 00    	ld	a,(_tmp1)
2807  0BE2  48          	ld	c,b
2808  0BE3  47          	ld	b,a
2809  0BE4  3A 00 00    	ld	a,(_s_col0)
2810  0BE7  C5          	push	bc
2811  0BE8  5A          	ld	e,d
2812  0BE9  57          	ld	d,a
2813  0BEA  3A 00 00    	ld	a,(_tmp)
2814  0BED  D5          	push	de
2815  0BEE  F5          	push	af
2816  0BEF  33          	inc	sp
2817  0BF0  CD 00 00    	call	_enemy_init
2818  0BF3  F1          	pop	af
2819  0BF4  F1          	pop	af
2820  0BF5  33          	inc	sp
2821  0BF6  2E 00       	ld	l,0x00
2822  0BF8              l_game_enemy_add1_00131:
2823  0BF8  F1          	pop	af
2824  0BF9  DD E1       	pop	ix
2825  0BFB  C9          	ret
2826  0BFC              	SECTION code_compiler
2827  0BFC              ;	---------------------------------
2828  0BFC              ; Function game_enemy_add_get_index
2829  0BFC              ; ---------------------------------
2830  0BFC              _game_enemy_add_get_index:
2831  0BFC  4D          	ld	c,l
2832  0BFD  21 00 00    	ld	hl,_enemies
2833  0C00  36 00       	ld	(hl),0x00
2834  0C02              l_game_enemy_add_get_index_00104:
2835  0C02  2A 00 00    	ld	hl,(_enemies)
2836  0C05  26 00       	ld	h,0x00
2837  0C07  11 00 00    	ld	de,_class
2838  0C0A  19          	add	hl,de
2839  0C0B  46          	ld	b, (hl)
2840  0C0C  79          	ld	a,c
2841  0C0D  90          	sub	a,b
2842  0C0E  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2843  0C10  2A 00 00    	ld	hl,(_enemies)
2844  0C13  18 0B       	jr	l_game_enemy_add_get_index_00106
2845  0C15              l_game_enemy_add_get_index_00105:
2846  0C15  21 00 00    	ld	hl,_enemies
2847  0C18  34          	inc	(hl)
2848  0C19  3E 05       	ld	a,0x05
2849  0C1B  96          	sub	a, (hl)
2850  0C1C  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2851  0C1E  2E FF       	ld	l,0xff
2852  0C20              l_game_enemy_add_get_index_00106:
2853  0C20  C9          	ret
2854  0C21              	SECTION code_compiler
2855  0C21              ;	---------------------------------
2856  0C21              ; Function game_freeze
2857  0C21              ; ---------------------------------
2858  0C21              _game_freeze:
2859  0C21  CD 00 00    	call	___sdcc_enter_ix
2860  0C24  DD 7E 05    	ld	a,(ix+5)
2861  0C27  D6 1F       	sub	a,0x1f
2862  0C29  30 5F       	jr	NC,l_game_freeze_00107
2863  0C2B  21 00 00    	ld	hl,_tmp
2864  0C2E  36 01       	ld	(hl),0x01
2865  0C30  DD 66 05    	ld	h,(ix+5)
2866  0C33  DD 6E 04    	ld	l,(ix+4)
2867  0C36  E5          	push	hl
2868  0C37  CD 00 00    	call	_game_calc_index
2869  0C3A  F1          	pop	af
2870  0C3B  22 00 00    	ld	(_index1),hl
2871  0C3E  01 00 00    	ld	bc,_lvl_1
2872  0C41  09          	add	hl,bc
2873  0C42  7E          	ld	a,(hl)
2874  0C43  D6 12       	sub	a,0x12
2875  0C45  20 43       	jr	NZ,l_game_freeze_00107
2876  0C47  36 14       	ld	(hl),0x14
2877  0C49  76          	halt
2878  0C4A  DD 7E 05    	ld	a,(ix+5)
2879  0C4D  F5          	push	af
2880  0C4E  33          	inc	sp
2881  0C4F  DD 56 04    	ld	d,(ix+4)
2882  0C52  1E 8B       	ld	e,0x8b
2883  0C54  D5          	push	de
2884  0C55  CD 00 00    	call	_NIRVANAP_drawT_callee
2885  0C58  ED 4B 00 00 	ld	bc,(_index1)
2886  0C5C  03          	inc	bc
2887  0C5D  21 00 00    	ld	hl,_lvl_1
2888  0C60  09          	add	hl,bc
2889  0C61  4E          	ld	c,(hl)
2890  0C62  DD 46 05    	ld	b,(ix+5)
2891  0C65  04          	inc	b
2892  0C66  79          	ld	a,c
2893  0C67  B7          	or	a, a
2894  0C68  20 0C       	jr	NZ,l_game_freeze_00102
2895  0C6A  C5          	push	bc
2896  0C6B  DD 4E 04    	ld	c,(ix+4)
2897  0C6E  C5          	push	bc
2898  0C6F  AF          	xor	a, a
2899  0C70  F5          	push	af
2900  0C71  33          	inc	sp
2901  0C72  CD 00 00    	call	_NIRVANAP_fillT_callee
2902  0C75  C1          	pop	bc
2903  0C76              l_game_freeze_00102:
2904  0C76  DD 4E 04    	ld	c,(ix+4)
2905  0C79  C5          	push	bc
2906  0C7A  CD 21 0C    	call	_game_freeze
2907  0C7D  F1          	pop	af
2908  0C7E  DD 46 05    	ld	b,(ix+5)
2909  0C81  05          	dec	b
2910  0C82  DD 4E 04    	ld	c,(ix+4)
2911  0C85  C5          	push	bc
2912  0C86  CD 21 0C    	call	_game_freeze
2913  0C89  F1          	pop	af
2914  0C8A              l_game_freeze_00107:
2915  0C8A  DD E1       	pop	ix
2916  0C8C  C9          	ret
2917  0C8D              	SECTION code_compiler
2918  0C8D              ;	---------------------------------
2919  0C8D              ; Function game_unfreeze_all
2920  0C8D              ; ---------------------------------
2921  0C8D              _game_unfreeze_all:
2922  0C8D  21 C0 00    	ld	hl,0x00c0
2923  0C90  22 00 00    	ld	(_index1),hl
2924  0C93              l_game_unfreeze_all_00104:
2925  0C93  01 00 00    	ld	bc,_lvl_1
2926  0C96  2A 00 00    	ld	hl,(_index1)
2927  0C99  09          	add	hl,bc
2928  0C9A  7E          	ld	a,(hl)
2929  0C9B  D6 14       	sub	a,0x14
2930  0C9D  20 02       	jr	NZ,l_game_unfreeze_all_00105
2931  0C9F  36 12       	ld	(hl),0x12
2932  0CA1              l_game_unfreeze_all_00105:
2933  0CA1  21 00 00    	ld	hl,_index1
2934  0CA4  34          	inc	(hl)
2935  0CA5  20 02       	jr	NZ,l_game_unfreeze_all_00118
2936  0CA7  23          	inc	hl
2937  0CA8  34          	inc	(hl)
2938  0CA9              l_game_unfreeze_all_00118:
2939  0CA9  3E 20       	ld	a,0x20
2940  0CAB  21 00 00    	ld	hl,_index1
2941  0CAE  BE          	cp	a, (hl)
2942  0CAF  3E 02       	ld	a,0x02
2943  0CB1  23          	inc	hl
2944  0CB2  9E          	sbc	a, (hl)
2945  0CB3  30 DE       	jr	NC,l_game_unfreeze_all_00104
2946  0CB5  C9          	ret
2947  0CB6              	SECTION code_compiler
2948  0CB6              ;	---------------------------------
2949  0CB6              ; Function game_freeze_all
2950  0CB6              ; ---------------------------------
2951  0CB6              _game_freeze_all:
2952  0CB6  21 C0 00    	ld	hl,0x00c0
2953  0CB9  22 00 00    	ld	(_index1),hl
2954  0CBC              l_game_freeze_all_00104:
2955  0CBC  01 00 00    	ld	bc,_lvl_1
2956  0CBF  2A 00 00    	ld	hl,(_index1)
2957  0CC2  09          	add	hl,bc
2958  0CC3  7E          	ld	a,(hl)
2959  0CC4  D6 12       	sub	a,0x12
2960  0CC6  20 02       	jr	NZ,l_game_freeze_all_00105
2961  0CC8  36 14       	ld	(hl),0x14
2962  0CCA              l_game_freeze_all_00105:
2963  0CCA  21 00 00    	ld	hl,_index1
2964  0CCD  34          	inc	(hl)
2965  0CCE  20 02       	jr	NZ,l_game_freeze_all_00118
2966  0CD0  23          	inc	hl
2967  0CD1  34          	inc	(hl)
2968  0CD2              l_game_freeze_all_00118:
2969  0CD2  3E 20       	ld	a,0x20
2970  0CD4  21 00 00    	ld	hl,_index1
2971  0CD7  BE          	cp	a, (hl)
2972  0CD8  3E 02       	ld	a,0x02
2973  0CDA  23          	inc	hl
2974  0CDB  9E          	sbc	a, (hl)
2975  0CDC  30 DE       	jr	NC,l_game_freeze_all_00104
2976  0CDE  C9          	ret
2977  0CDF              	SECTION code_compiler
2978  0CDF              ;	---------------------------------
2979  0CDF              ; Function game_print_score
2980  0CDF              ; ---------------------------------
2981  0CDF              _game_print_score:
2982  0CDF  21 00 00    	ld	hl,_screen_ink
2983  0CE2  36 07       	ld	(hl),0x07
2984  0CE4  21 00 00    	ld	hl,_screen_paper
2985  0CE7  36 00       	ld	(hl),0x00
2986  0CE9  2A 00 00    	ld	hl,(_player_score)
2987  0CEC  E5          	push	hl
2988  0CED  21 00 03    	ld	hl,0x0300
2989  0CF0  E5          	push	hl
2990  0CF1  CD 00 00    	call	_zx_print_int
2991  0CF4  2A 00 00    	ld	hl,(_game_score_top)
2992  0CF7  E5          	push	hl
2993  0CF8  21 00 0E    	ld	hl,0x0e00
2994  0CFB  E5          	push	hl
2995  0CFC  CD 00 00    	call	_zx_print_int
2996  0CFF  3A 00 00    	ld	a,(_game_two_player)
2997  0D02  B7          	or	a, a
2998  0D03  C8          	ret	Z
2999  0D04  2A 02 00    	ld	hl, (_player_score + 2)
3000  0D07  E5          	push	hl
3001  0D08  21 00 18    	ld	hl,0x1800
3002  0D0B  E5          	push	hl
3003  0D0C  CD 00 00    	call	_zx_print_int
3004  0D0F  C9          	ret
3005  0D10              	SECTION code_compiler
3006  0D10              ;	---------------------------------
3007  0D10              ; Function game_paint_attrib
3008  0D10              ; ---------------------------------
3009  0D10              _game_paint_attrib:
3010  0D10  7D          	ld	a,l
3011  0D11  32 00 00    	ld	(_tmp0),a
3012  0D14              l_game_paint_attrib_00103:
3013  0D14  3E 13       	ld	a,0x13
3014  0D16  21 00 00    	ld	hl,_tmp0
3015  0D19  96          	sub	a, (hl)
3016  0D1A  D8          	ret	C
3017  0D1B  7E          	ld	a,(hl)
3018  0D1C  07          	rlca
3019  0D1D  07          	rlca
3020  0D1E  07          	rlca
3021  0D1F  E6 F8       	and	a,0xf8
3022  0D21  C6 08       	add	a,0x08
3023  0D23  F5          	push	af
3024  0D24  33          	inc	sp
3025  0D25  21 01 1F    	ld	hl,0x1f01
3026  0D28  E5          	push	hl
3027  0D29  CD 34 0D    	call	_game_paint_attrib_lin
3028  0D2C  F1          	pop	af
3029  0D2D  33          	inc	sp
3030  0D2E  21 00 00    	ld	hl,_tmp0
3031  0D31  34          	inc	(hl)
3032  0D32  18 E0       	jr	l_game_paint_attrib_00103
3033  0D34              	SECTION code_compiler
3034  0D34              ;	---------------------------------
3035  0D34              ; Function game_paint_attrib_lin
3036  0D34              ; ---------------------------------
3037  0D34              _game_paint_attrib_lin:
3038  0D34  CD 00 00    	call	___sdcc_enter_ix
3039  0D37  DD 7E 04    	ld	a,(ix+4)
3040  0D3A  32 00 00    	ld	(_tmp_uc),a
3041  0D3D              l_game_paint_attrib_lin_00103:
3042  0D3D  21 00 00    	ld	hl,_tmp_uc
3043  0D40  7E          	ld	a,(hl)
3044  0D41  DD 96 05    	sub	a,(ix+5)
3045  0D44  30 12       	jr	NC,l_game_paint_attrib_lin_00105
3046  0D46  66          	ld	h,(hl)
3047  0D47  DD 6E 06    	ld	l,(ix+6)
3048  0D4A  E5          	push	hl
3049  0D4B  21 00 00    	ld	hl,_attrib
3050  0D4E  E5          	push	hl
3051  0D4F  CD 00 00    	call	_NIRVANAP_paintC_callee
3052  0D52  21 00 00    	ld	hl,_tmp_uc
3053  0D55  34          	inc	(hl)
3054  0D56  18 E5       	jr	l_game_paint_attrib_lin_00103
3055  0D58              l_game_paint_attrib_lin_00105:
3056  0D58  DD E1       	pop	ix
3057  0D5A  C9          	ret
3058  0D5B              	SECTION code_compiler
3059  0D5B              ;	---------------------------------
3060  0D5B              ; Function game_paint_attrib_lin_h
3061  0D5B              ; ---------------------------------
3062  0D5B              _game_paint_attrib_lin_h:
3063  0D5B  CD 00 00    	call	___sdcc_enter_ix
3064  0D5E  DD 7E 04    	ld	a,(ix+4)
3065  0D61  32 00 00    	ld	(_tmp_uc),a
3066  0D64              l_game_paint_attrib_lin_h_00103:
3067  0D64  21 00 00    	ld	hl,_tmp_uc
3068  0D67  7E          	ld	a,(hl)
3069  0D68  DD 96 05    	sub	a,(ix+5)
3070  0D6B  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3071  0D6D  66          	ld	h,(hl)
3072  0D6E  DD 6E 06    	ld	l,(ix+6)
3073  0D71  E5          	push	hl
3074  0D72  21 00 00    	ld	hl,_attrib_hl
3075  0D75  E5          	push	hl
3076  0D76  CD 00 00    	call	_NIRVANAP_paintC_callee
3077  0D79  21 00 00    	ld	hl,_tmp_uc
3078  0D7C  34          	inc	(hl)
3079  0D7D  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3080  0D7F              l_game_paint_attrib_lin_h_00105:
3081  0D7F  DD E1       	pop	ix
3082  0D81  C9          	ret
3083  0D82              	SECTION code_compiler
3084  0D82              ;	---------------------------------
3085  0D82              ; Function game_menu_config
3086  0D82              ; ---------------------------------
3087  0D82              _game_menu_config:
3088  0D82  CD 00 00    	call	___sdcc_enter_ix
3089  0D85  F5          	push	af
3090  0D86  3B          	dec	sp
3091  0D87  2E 0B       	ld	l,0x0b
3092  0D89  CD 10 0D    	call	_game_paint_attrib
3093  0D8C  DD 36 FD 01 	ld	(ix-3),0x01
3094  0D90              l_game_menu_config_00116:
3095  0D90  DD 7E FD    	ld	a,(ix-3)
3096  0D93  B7          	or	a, a
3097  0D94  CA EE 0E    	jp	Z,l_game_menu_config_00119
3098  0D97              l_game_menu_config_00101:
3099  0D97  21 00 00    	ld	hl,_k1
3100  0D9A  E5          	push	hl
3101  0D9B  2A 00 00    	ld	hl,(_joyfunc1)
3102  0D9E  CD 00 00    	call	___sdcc_call_hl
3103  0DA1  F1          	pop	af
3104  0DA2  7C          	ld	a,h
3105  0DA3  B5          	or	a,l
3106  0DA4  20 F1       	jr	NZ,l_game_menu_config_00101
3107  0DA6  3A 00 00    	ld	a,(_spec128)
3108  0DA9  B7          	or	a,a
3109  0DAA  28 0A       	jr	Z,l_game_menu_config_00121
3110  0DAC  DD 36 FE C5 	ld	(ix-2),+((___str_25) & 0xFF)
3111  0DB0  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3112  0DB4  18 08       	jr	l_game_menu_config_00122
3113  0DB6              l_game_menu_config_00121:
3114  0DB6  DD 36 FE D0 	ld	(ix-2),+((___str_26) & 0xFF)
3115  0DBA  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3116  0DBE              l_game_menu_config_00122:
3117  0DBE  DD 4E FE    	ld	c,(ix-2)
3118  0DC1  DD 46 FF    	ld	b,(ix-1)
3119  0DC4  C5          	push	bc
3120  0DC5  21 0E 0A    	ld	hl,0x0a0e
3121  0DC8  E5          	push	hl
3122  0DC9  CD 00 00    	call	_zx_print_str
3123  0DCC  21 DB 00    	ld	hl,___str_27
3124  0DCF  E5          	push	hl
3125  0DD0  21 0F 0A    	ld	hl,0x0a0f
3126  0DD3  E5          	push	hl
3127  0DD4  CD 00 00    	call	_zx_print_str
3128  0DD7  21 E6 00    	ld	hl,___str_28
3129  0DDA  E5          	push	hl
3130  0DDB  21 10 0A    	ld	hl,0x0a10
3131  0DDE  E5          	push	hl
3132  0DDF  CD 00 00    	call	_zx_print_str
3133  0DE2  21 F1 00    	ld	hl,___str_29
3134  0DE5  E5          	push	hl
3135  0DE6  21 11 0A    	ld	hl,0x0a11
3136  0DE9  E5          	push	hl
3137  0DEA  CD 00 00    	call	_zx_print_str
3138  0DED  21 FC 00    	ld	hl,___str_30
3139  0DF0  E5          	push	hl
3140  0DF1  21 12 0A    	ld	hl,0x0a12
3141  0DF4  E5          	push	hl
3142  0DF5  CD 00 00    	call	_zx_print_str
3143  0DF8  3A 00 00    	ld	a,(_game_sound)
3144  0DFB  E6 05       	and	a,0x05
3145  0DFD  28 05       	jr	Z,l_game_menu_config_00123
3146  0DFF  01 07 01    	ld	bc,___str_31
3147  0E02  18 03       	jr	l_game_menu_config_00124
3148  0E04              l_game_menu_config_00123:
3149  0E04  01 0B 01    	ld	bc,___str_32
3150  0E07              l_game_menu_config_00124:
3151  0E07  C5          	push	bc
3152  0E08  21 0E 14    	ld	hl,0x140e
3153  0E0B  E5          	push	hl
3154  0E0C  CD 00 00    	call	_zx_print_str
3155  0E0F  3E 02       	ld	a,0x02
3156  0E11  21 00 00    	ld	hl,_game_type
3157  0E14  96          	sub	a, (hl)
3158  0E15  38 34       	jr	C,l_game_menu_config_00107
3159  0E17  5E          	ld	e,(hl)
3160  0E18  16 00       	ld	d,0x00
3161  0E1A  21 20 0E    	ld	hl,l_game_menu_config_00164
3162  0E1D  19          	add	hl,de
3163  0E1E  19          	add	hl,de
3164  0E1F  E9          	jp	(hl)
3165  0E20              l_game_menu_config_00164:
3166  0E20  18 04       	jr	l_game_menu_config_00104
3167  0E22  18 0F       	jr	l_game_menu_config_00105
3168  0E24  18 1A       	jr	l_game_menu_config_00106
3169  0E26              l_game_menu_config_00104:
3170  0E26  21 0F 01    	ld	hl,___str_33
3171  0E29  E5          	push	hl
3172  0E2A  21 0F 14    	ld	hl,0x140f
3173  0E2D  E5          	push	hl
3174  0E2E  CD 00 00    	call	_zx_print_str
3175  0E31  18 18       	jr	l_game_menu_config_00107
3176  0E33              l_game_menu_config_00105:
3177  0E33  21 13 01    	ld	hl,___str_34
3178  0E36  E5          	push	hl
3179  0E37  21 0F 14    	ld	hl,0x140f
3180  0E3A  E5          	push	hl
3181  0E3B  CD 00 00    	call	_zx_print_str
3182  0E3E  18 0B       	jr	l_game_menu_config_00107
3183  0E40              l_game_menu_config_00106:
3184  0E40  21 17 01    	ld	hl,___str_35
3185  0E43  E5          	push	hl
3186  0E44  21 0F 14    	ld	hl,0x140f
3187  0E47  E5          	push	hl
3188  0E48  CD 00 00    	call	_zx_print_str
3189  0E4B              l_game_menu_config_00107:
3190  0E4B  2A 00 00    	ld	hl,(_player_joy)
3191  0E4E  29          	add	hl, hl
3192  0E4F  11 00 00    	ld	de,_joynames
3193  0E52  19          	add	hl,de
3194  0E53  4E          	ld	c,(hl)
3195  0E54  23          	inc	hl
3196  0E55  46          	ld	b,(hl)
3197  0E56  C5          	push	bc
3198  0E57  21 10 14    	ld	hl,0x1410
3199  0E5A  E5          	push	hl
3200  0E5B  CD 00 00    	call	_zx_print_str
3201  0E5E  2A 02 00    	ld	hl, (_player_joy + 2)
3202  0E61  29          	add	hl, hl
3203  0E62  11 00 00    	ld	de,_joynames
3204  0E65  19          	add	hl,de
3205  0E66  4E          	ld	c,(hl)
3206  0E67  23          	inc	hl
3207  0E68  46          	ld	b,(hl)
3208  0E69  C5          	push	bc
3209  0E6A  21 11 14    	ld	hl,0x1411
3210  0E6D  E5          	push	hl
3211  0E6E  CD 00 00    	call	_zx_print_str
3212  0E71  21 00 00    	ld	hl,0x0000
3213  0E74  E5          	push	hl
3214  0E75  21 0E 12    	ld	hl,0x120e
3215  0E78  E5          	push	hl
3216  0E79  21 0A 01    	ld	hl,0x010a
3217  0E7C  E5          	push	hl
3218  0E7D  CD A7 11    	call	_game_menu_handle
3219  0E80  F1          	pop	af
3220  0E81  F1          	pop	af
3221  0E82  F1          	pop	af
3222  0E83  7D          	ld	a,l
3223  0E84  32 00 00    	ld	(_game_menu_sel),a
3224  0E87  21 00 00    	ld	hl,_ay_effect_10
3225  0E8A  CD 00 00    	call	_ay_fx_play
3226  0E8D  CD 00 00    	call	_sound_coin
3227  0E90  3E 04       	ld	a,0x04
3228  0E92  21 00 00    	ld	hl,_game_menu_sel
3229  0E95  96          	sub	a, (hl)
3230  0E96  DA 90 0D    	jp	C,l_game_menu_config_00116
3231  0E99  5E          	ld	e,(hl)
3232  0E9A  16 00       	ld	d,0x00
3233  0E9C  21 A2 0E    	ld	hl,l_game_menu_config_00165
3234  0E9F  19          	add	hl,de
3235  0EA0  19          	add	hl,de
3236  0EA1  E9          	jp	(hl)
3237  0EA2              l_game_menu_config_00165:
3238  0EA2  18 08       	jr	l_game_menu_config_00108
3239  0EA4  18 1A       	jr	l_game_menu_config_00109
3240  0EA6  18 27       	jr	l_game_menu_config_00112
3241  0EA8  18 2D       	jr	l_game_menu_config_00113
3242  0EAA  18 33       	jr	l_game_menu_config_00114
3243  0EAC              l_game_menu_config_00108:
3244  0EAC  3A 00 00    	ld	a,(_spec128)
3245  0EAF  B7          	or	a, a
3246  0EB0  28 04       	jr	Z,l_game_menu_config_00125
3247  0EB2  3E 04       	ld	a,0x04
3248  0EB4  18 02       	jr	l_game_menu_config_00126
3249  0EB6              l_game_menu_config_00125:
3250  0EB6  3E 01       	ld	a,0x01
3251  0EB8              l_game_menu_config_00126:
3252  0EB8  21 00 00    	ld	hl,_game_sound
3253  0EBB  AE          	xor	a, (hl)
3254  0EBC  77          	ld	(hl),a
3255  0EBD  C3 90 0D    	jp	l_game_menu_config_00116
3256  0EC0              l_game_menu_config_00109:
3257  0EC0  21 00 00    	ld	hl,_game_type
3258  0EC3  34          	inc	(hl)
3259  0EC4  3E 02       	ld	a,0x02
3260  0EC6  96          	sub	a, (hl)
3261  0EC7  D2 90 0D    	jp	NC,l_game_menu_config_00116
3262  0ECA  36 00       	ld	(hl),0x00
3263  0ECC  C3 90 0D    	jp	l_game_menu_config_00116
3264  0ECF              l_game_menu_config_00112:
3265  0ECF  2E 00       	ld	l,0x00
3266  0ED1  CD F3 0E    	call	_game_joystick_change
3267  0ED4  C3 90 0D    	jp	l_game_menu_config_00116
3268  0ED7              l_game_menu_config_00113:
3269  0ED7  2E 01       	ld	l,0x01
3270  0ED9  CD F3 0E    	call	_game_joystick_change
3271  0EDC  C3 90 0D    	jp	l_game_menu_config_00116
3272  0EDF              l_game_menu_config_00114:
3273  0EDF  21 00 00    	ld	hl,_game_menu_sel
3274  0EE2  36 00       	ld	(hl),0x00
3275  0EE4  CD 79 10    	call	_game_menu_paint
3276  0EE7  DD 36 FD 00 	ld	(ix-3),0x00
3277  0EEB  C3 90 0D    	jp	l_game_menu_config_00116
3278  0EEE              l_game_menu_config_00119:
3279  0EEE  DD F9       	ld	sp, ix
3280  0EF0  DD E1       	pop	ix
3281  0EF2  C9          	ret
3282  0EF3              	SECTION rodata_compiler
3283  00C5              ___str_25:
3284  00C5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3285  00CF  00          	DEFB 0x00
3286  00D0              	SECTION rodata_compiler
3287  00D0              ___str_26:
3288  00D0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3289  00DA  00          	DEFB 0x00
3290  00DB              	SECTION rodata_compiler
3291  00DB              ___str_27:
3292  00DB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3293  00E5  00          	DEFB 0x00
3294  00E6              	SECTION rodata_compiler
3295  00E6              ___str_28:
3296  00E6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3297  00F0  00          	DEFB 0x00
3298  00F1              	SECTION rodata_compiler
3299  00F1              ___str_29:
3300  00F1  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3301  00FB  00          	DEFB 0x00
3302  00FC              	SECTION rodata_compiler
3303  00FC              ___str_30:
3304  00FC  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3305  0106  00          	DEFB 0x00
3306  0107              	SECTION rodata_compiler
3307  0107              ___str_31:
3308  0107  4F 4E 20    	DEFM "ON "
3309  010A  00          	DEFB 0x00
3310  010B              	SECTION rodata_compiler
3311  010B              ___str_32:
3312  010B  4F 46 46    	DEFM "OFF"
3313  010E  00          	DEFB 0x00
3314  010F              	SECTION rodata_compiler
3315  010F              ___str_33:
3316  010F  41 20 20    	DEFM "A  "
3317  0112  00          	DEFB 0x00
3318  0113              	SECTION rodata_compiler
3319  0113              ___str_34:
3320  0113  42 20 20    	DEFM "B  "
3321  0116  00          	DEFB 0x00
3322  0117              	SECTION rodata_compiler
3323  0117              ___str_35:
3324  0117  52 4E 44    	DEFM "RND"
3325  011A  00          	DEFB 0x00
3326  011B              	SECTION code_compiler
3327  0EF3              ;	---------------------------------
3328  0EF3              ; Function game_joystick_change
3329  0EF3              ; ---------------------------------
3330  0EF3              _game_joystick_change:
3331  0EF3  CD 00 00    	call	___sdcc_enter_ix
3332  0EF6  3B          	dec	sp
3333  0EF7  DD 75 FF    	ld	(ix-1),l
3334  0EFA  26 00       	ld	h,0x00
3335  0EFC  29          	add	hl, hl
3336  0EFD  01 00 00    	ld	bc,_player_joy
3337  0F00  09          	add	hl,bc
3338  0F01  4D          	ld	c,l
3339  0F02  44          	ld	b,h
3340  0F03  5E          	ld	e,(hl)
3341  0F04  23          	inc	hl
3342  0F05  56          	ld	d,(hl)
3343  0F06  13          	inc	de
3344  0F07  69          	ld	l, c
3345  0F08  60          	ld	h, b
3346  0F09  73          	ld	(hl),e
3347  0F0A  23          	inc	hl
3348  0F0B  72          	ld	(hl),d
3349  0F0C  7B          	ld	a,e
3350  0F0D  D6 07       	sub	a,0x07
3351  0F0F  20 09       	jr	NZ,l_game_joystick_change_00102
3352  0F11  B2          	or	a,d
3353  0F12  20 06       	jr	NZ,l_game_joystick_change_00102
3354  0F14  69          	ld	l, c
3355  0F15  60          	ld	h, b
3356  0F16  AF          	xor	a, a
3357  0F17  77          	ld	(hl), a
3358  0F18  23          	inc	hl
3359  0F19  77          	ld	(hl), a
3360  0F1A              l_game_joystick_change_00102:
3361  0F1A  DD 7E FF    	ld	a,(ix-1)
3362  0F1D  B7          	or	a, a
3363  0F1E  20 15       	jr	NZ,l_game_joystick_change_00104
3364  0F20  69          	ld	l, c
3365  0F21  60          	ld	h, b
3366  0F22  5E          	ld	e,(hl)
3367  0F23  23          	inc	hl
3368  0F24  56          	ld	d,(hl)
3369  0F25  1D          	dec	e
3370  0F26  20 0D       	jr	NZ,l_game_joystick_change_00104
3371  0F28  7A          	ld	a,d
3372  0F29  B7          	or	a, a
3373  0F2A  20 09       	jr	NZ,l_game_joystick_change_00104
3374  0F2C  ED 5B 00 00 	ld	de,(_player_joy)
3375  0F30  13          	inc	de
3376  0F31  ED 53 00 00 	ld	(_player_joy), de
3377  0F35              l_game_joystick_change_00104:
3378  0F35  DD 7E FF    	ld	a,(ix-1)
3379  0F38  3D          	dec	a
3380  0F39  20 11       	jr	NZ,l_game_joystick_change_00107
3381  0F3B  69          	ld	l, c
3382  0F3C  60          	ld	h, b
3383  0F3D  4E          	ld	c,(hl)
3384  0F3E  23          	inc	hl
3385  0F3F  7E          	ld	a, (hl)
3386  0F40  B1          	or	a,c
3387  0F41  20 09       	jr	NZ,l_game_joystick_change_00107
3388  0F43  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3389  0F47  03          	inc	bc
3390  0F48  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3391  0F4C              l_game_joystick_change_00107:
3392  0F4C  ED 4B 00 00 	ld	bc,(_player_joy)
3393  0F50  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3394  0F54  79          	ld	a,c
3395  0F55  93          	sub	a, e
3396  0F56  20 18       	jr	NZ,l_game_joystick_change_00114
3397  0F58  78          	ld	a,b
3398  0F59  92          	sub	a, d
3399  0F5A  20 14       	jr	NZ,l_game_joystick_change_00114
3400  0F5C  DD 7E FF    	ld	a,(ix-1)
3401  0F5F  B7          	or	a, a
3402  0F60  20 08       	jr	NZ,l_game_joystick_change_00110
3403  0F62  21 01 00    	ld	hl,0x0001
3404  0F65  22 02 00    	ld	(_player_joy + 0x0002),hl
3405  0F68  18 06       	jr	l_game_joystick_change_00114
3406  0F6A              l_game_joystick_change_00110:
3407  0F6A  21 00 00    	ld	hl,0x0000
3408  0F6D  22 00 00    	ld	(_player_joy), hl
3409  0F70              l_game_joystick_change_00114:
3410  0F70  33          	inc	sp
3411  0F71  DD E1       	pop	ix
3412  0F73  C9          	ret
3413  0F74              	SECTION code_compiler
3414  0F74              ;	---------------------------------
3415  0F74              ; Function game_joystick_set_menu
3416  0F74              ; ---------------------------------
3417  0F74              _game_joystick_set_menu:
3418  0F74  21 00 00    	ld	hl,_in_stick_sinclair1
3419  0F77  22 00 00    	ld	(_joyfunc1),hl
3420  0F7A  21 00 00    	ld	hl,_in_stick_sinclair2
3421  0F7D  22 00 00    	ld	(_joyfunc2),hl
3422  0F80  C9          	ret
3423  0F81              	SECTION code_compiler
3424  0F81              ;	---------------------------------
3425  0F81              ; Function game_joystick_set
3426  0F81              ; ---------------------------------
3427  0F81              _game_joystick_set:
3428  0F81  01 00 00    	ld	bc,_control_method+0
3429  0F84  2A 00 00    	ld	hl,(_player_joy)
3430  0F87  29          	add	hl, hl
3431  0F88  09          	add	hl,bc
3432  0F89  11 00 00    	ld	de,_joyfunc1
3433  0F8C  ED A0       	ldi
3434  0F8E  03          	inc	bc
3435  0F8F  7E          	ld	a,(hl)
3436  0F90  12          	ld	(de),a
3437  0F91  2A 02 00    	ld	hl, (_player_joy + 2)
3438  0F94  29          	add	hl, hl
3439  0F95  09          	add	hl,bc
3440  0F96  11 00 00    	ld	de,_joyfunc2
3441  0F99  ED A0       	ldi
3442  0F9B  7E          	ld	a,(hl)
3443  0F9C  12          	ld	(de),a
3444  0F9D  C9          	ret
3445  0F9E              	SECTION code_compiler
3446  0F9E              ;	---------------------------------
3447  0F9E              ; Function game_menu
3448  0F9E              ; ---------------------------------
3449  0F9E              _game_menu:
3450  0F9E  21 00 00    	ld	hl,_game_menu_sel
3451  0FA1  36 00       	ld	(hl),0x00
3452  0FA3  CD 05 10    	call	_game_menu_top_paint
3453  0FA6  CD 79 10    	call	_game_menu_paint
3454  0FA9  CD 00 00    	call	_ay_reset
3455  0FAC  21 00 00    	ld	hl,_pb_midi_title
3456  0FAF  CD 00 00    	call	_ay_midi_play
3457  0FB2              l_game_menu_00101:
3458  0FB2  21 00 00    	ld	hl,_k1
3459  0FB5  E5          	push	hl
3460  0FB6  2A 00 00    	ld	hl,(_joyfunc1)
3461  0FB9  CD 00 00    	call	___sdcc_call_hl
3462  0FBC  F1          	pop	af
3463  0FBD  7C          	ld	a,h
3464  0FBE  B5          	or	a,l
3465  0FBF  20 F1       	jr	NZ,l_game_menu_00101
3466  0FC1  21 E8 03    	ld	hl,0x03e8
3467  0FC4  E5          	push	hl
3468  0FC5  21 0E 12    	ld	hl,0x120e
3469  0FC8  E5          	push	hl
3470  0FC9  21 0C 02    	ld	hl,0x020c
3471  0FCC  E5          	push	hl
3472  0FCD  CD A7 11    	call	_game_menu_handle
3473  0FD0  F1          	pop	af
3474  0FD1  F1          	pop	af
3475  0FD2  F1          	pop	af
3476  0FD3  4D          	ld	c,l
3477  0FD4  21 00 00    	ld	hl,_tmp_uc
3478  0FD7  71          	ld	(hl),c
3479  0FD8  3E 02       	ld	a,0x02
3480  0FDA  96          	sub	a, (hl)
3481  0FDB  38 D5       	jr	C,l_game_menu_00101
3482  0FDD  5E          	ld	e,(hl)
3483  0FDE  16 00       	ld	d,0x00
3484  0FE0  21 E6 0F    	ld	hl,l_game_menu_00125
3485  0FE3  19          	add	hl,de
3486  0FE4  19          	add	hl,de
3487  0FE5  E9          	jp	(hl)
3488  0FE6              l_game_menu_00125:
3489  0FE6  18 04       	jr	l_game_menu_00104
3490  0FE8  18 0C       	jr	l_game_menu_00105
3491  0FEA  18 14       	jr	l_game_menu_00106
3492  0FEC              l_game_menu_00104:
3493  0FEC  21 00 00    	ld	hl,_game_two_player
3494  0FEF  36 00       	ld	(hl),0x00
3495  0FF1  CD 3A 03    	call	_game_loop
3496  0FF4  18 BC       	jr	l_game_menu_00101
3497  0FF6              l_game_menu_00105:
3498  0FF6  21 00 00    	ld	hl,_game_two_player
3499  0FF9  36 01       	ld	(hl),0x01
3500  0FFB  CD 3A 03    	call	_game_loop
3501  0FFE  18 B2       	jr	l_game_menu_00101
3502  1000              l_game_menu_00106:
3503  1000  CD 82 0D    	call	_game_menu_config
3504  1003  18 AD       	jr	l_game_menu_00101
3505  1005              	SECTION code_compiler
3506  1005              ;	---------------------------------
3507  1005              ; Function game_menu_top_paint
3508  1005              ; ---------------------------------
3509  1005              _game_menu_top_paint:
3510  1005  CD 00 00    	call	_spr_draw_clear
3511  1008  2E 00       	ld	l,0x00
3512  100A  CD 10 0D    	call	_game_paint_attrib
3513  100D  21 9C 01    	ld	hl,0x019c
3514  1010  E5          	push	hl
3515  1011  21 00 1E    	ld	hl,0x1e00
3516  1014  E5          	push	hl
3517  1015  3E 10       	ld	a,0x10
3518  1017  F5          	push	af
3519  1018  33          	inc	sp
3520  1019  CD F4 10    	call	_game_menu_e
3521  101C  F1          	pop	af
3522  101D  33          	inc	sp
3523  101E  21 9F FF    	ld	hl,0xff9f
3524  1021  E3          	ex	(sp),hl
3525  1022  21 00 1E    	ld	hl,0x1e00
3526  1025  E5          	push	hl
3527  1026  3E 50       	ld	a,0x50
3528  1028  F5          	push	af
3529  1029  33          	inc	sp
3530  102A  CD F4 10    	call	_game_menu_e
3531  102D  F1          	pop	af
3532  102E  F1          	pop	af
3533  102F  33          	inc	sp
3534  1030  21 00 00    	ld	hl,_tmp
3535  1033  36 18       	ld	(hl),0x18
3536  1035  F3          	di
3537  1036  21 00 00    	ld	hl,_tmp_uc
3538  1039  36 00       	ld	(hl),0x00
3539  103B              l_game_menu_top_paint_00102:
3540  103B  3A 00 00    	ld	a,(_tmp_uc)
3541  103E  87          	add	a, a
3542  103F  C6 05       	add	a,0x05
3543  1041  47          	ld	b,a
3544  1042  3A 00 00    	ld	a,(_tmp)
3545  1045  C6 10       	add	a,0x10
3546  1047  57          	ld	d,a
3547  1048  3A 00 00    	ld	a,(_tmp_uc)
3548  104B  C6 C0       	add	a,0xc0
3549  104D  4A          	ld	c, d
3550  104E  C5          	push	bc
3551  104F  F5          	push	af
3552  1050  33          	inc	sp
3553  1051  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3554  1054  3A 00 00    	ld	a,(_tmp_uc)
3555  1057  87          	add	a, a
3556  1058  C6 05       	add	a,0x05
3557  105A  47          	ld	b,a
3558  105B  3A 00 00    	ld	a,(_tmp)
3559  105E  C6 20       	add	a,0x20
3560  1060  57          	ld	d,a
3561  1061  3A 00 00    	ld	a,(_tmp_uc)
3562  1064  C6 CC       	add	a,0xcc
3563  1066  4A          	ld	c, d
3564  1067  C5          	push	bc
3565  1068  F5          	push	af
3566  1069  33          	inc	sp
3567  106A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3568  106D  21 00 00    	ld	hl,_tmp_uc
3569  1070  7E          	ld	a,(hl)
3570  1071  3C          	inc	a
3571  1072  77          	ld	(hl),a
3572  1073  D6 0A       	sub	a,0x0a
3573  1075  38 C4       	jr	C,l_game_menu_top_paint_00102
3574  1077  FB          	ei
3575  1078  C9          	ret
3576  1079              	SECTION code_compiler
3577  1079              ;	---------------------------------
3578  1079              ; Function game_menu_paint
3579  1079              ; ---------------------------------
3580  1079              _game_menu_paint:
3581  1079  76          	halt
3582  107A  3A 00 00    	ld	a,(_tmp)
3583  107D  C6 28       	add	a,0x28
3584  107F  4F          	ld	c, a
3585  1080  06 1A       	ld	b,0x1a
3586  1082  C5          	push	bc
3587  1083  3E 12       	ld	a,0x12
3588  1085  F5          	push	af
3589  1086  33          	inc	sp
3590  1087  CD 00 00    	call	_NIRVANAP_fillC_callee
3591  108A  21 00 20    	ld	hl,0x2000
3592  108D  E5          	push	hl
3593  108E  CD 00 00    	call	_game_fill_row
3594  1091  21 00 20    	ld	hl,0x2000
3595  1094  E5          	push	hl
3596  1095  CD 00 00    	call	_game_fill_row
3597  1098  21 1B 01    	ld	hl,___str_36
3598  109B  E5          	push	hl
3599  109C  21 0E 0A    	ld	hl,0x0a0e
3600  109F  E5          	push	hl
3601  10A0  CD 00 00    	call	_zx_print_str
3602  10A3  21 0F 20    	ld	hl,0x200f
3603  10A6  E5          	push	hl
3604  10A7  CD 00 00    	call	_game_fill_row
3605  10AA  21 29 01    	ld	hl,___str_37
3606  10AD  E5          	push	hl
3607  10AE  21 10 0A    	ld	hl,0x0a10
3608  10B1  E5          	push	hl
3609  10B2  CD 00 00    	call	_zx_print_str
3610  10B5  21 11 20    	ld	hl,0x2011
3611  10B8  E5          	push	hl
3612  10B9  CD 00 00    	call	_game_fill_row
3613  10BC  21 37 01    	ld	hl,___str_38
3614  10BF  E5          	push	hl
3615  10C0  21 12 0A    	ld	hl,0x0a12
3616  10C3  E5          	push	hl
3617  10C4  CD 00 00    	call	_zx_print_str
3618  10C7  21 13 20    	ld	hl,0x2013
3619  10CA  E5          	push	hl
3620  10CB  CD 00 00    	call	_game_fill_row
3621  10CE  21 00 00    	ld	hl,_screen_ink
3622  10D1  36 01       	ld	(hl),0x01
3623  10D3  21 45 01    	ld	hl,___str_39
3624  10D6  E5          	push	hl
3625  10D7  21 16 07    	ld	hl,0x0716
3626  10DA  E5          	push	hl
3627  10DB  CD 00 00    	call	_zx_print_str
3628  10DE  21 58 01    	ld	hl,___str_40
3629  10E1  E5          	push	hl
3630  10E2  21 17 07    	ld	hl,0x0717
3631  10E5  E5          	push	hl
3632  10E6  CD 00 00    	call	_zx_print_str
3633  10E9  21 00 00    	ld	hl,_tmp_uc
3634  10EC  36 00       	ld	(hl),0x00
3635  10EE  2E 0B       	ld	l,0x0b
3636  10F0  CD 10 0D    	call	_game_paint_attrib
3637  10F3  C9          	ret
3638  10F4              	SECTION rodata_compiler
3639  011B              ___str_36:
3640  011B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3641  0128  00          	DEFB 0x00
3642  0129              	SECTION rodata_compiler
3643  0129              ___str_37:
3644  0129  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3645  0136  00          	DEFB 0x00
3646  0137              	SECTION rodata_compiler
3647  0137              ___str_38:
3648  0137  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3649  0144  00          	DEFB 0x00
3650  0145              	SECTION rodata_compiler
3651  0145              ___str_39:
3652  0145  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3653  0157  00          	DEFB 0x00
3654  0158              	SECTION rodata_compiler
3655  0158              ___str_40:
3656  0158  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3657  0169  00          	DEFB 0x00
3658  016A              	SECTION code_compiler
3659  10F4              ;	---------------------------------
3660  10F4              ; Function game_menu_e
3661  10F4              ; ---------------------------------
3662  10F4              _game_menu_e:
3663  10F4  CD 00 00    	call	___sdcc_enter_ix
3664  10F7  F3          	di
3665  10F8  DD 4E 05    	ld	c,(ix+5)
3666  10FB  21 00 00    	ld	hl,_tmp_uc
3667  10FE  71          	ld	(hl),c
3668  10FF  DD 46 07    	ld	b,(ix+7)
3669  1102  04          	inc	b
3670  1103  DD 56 07    	ld	d,(ix+7)
3671  1106  14          	inc	d
3672  1107  14          	inc	d
3673  1108              l_game_menu_e_00114:
3674  1108  DD 7E 06    	ld	a,(ix+6)
3675  110B  21 00 00    	ld	hl,_tmp_uc
3676  110E  96          	sub	a, (hl)
3677  110F  38 56       	jr	C,l_game_menu_e_00109
3678  1111  7E          	ld	a,(hl)
3679  1112  91          	sub	a, c
3680  1113  20 15       	jr	NZ,l_game_menu_e_00102
3681  1115  3A 00 00    	ld	a,(_tmp_uc)
3682  1118  C5          	push	bc
3683  1119  D5          	push	de
3684  111A  F5          	push	af
3685  111B  33          	inc	sp
3686  111C  DD 66 04    	ld	h,(ix+4)
3687  111F  DD 6E 07    	ld	l,(ix+7)
3688  1122  E5          	push	hl
3689  1123  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3690  1126  D1          	pop	de
3691  1127  C1          	pop	bc
3692  1128  18 36       	jr	l_game_menu_e_00108
3693  112A              l_game_menu_e_00102:
3694  112A  3A 00 00    	ld	a,(_tmp_uc)
3695  112D  DD 96 06    	sub	a,(ix+6)
3696  1130  20 14       	jr	NZ,l_game_menu_e_00104
3697  1132  3A 00 00    	ld	a,(_tmp_uc)
3698  1135  C5          	push	bc
3699  1136  D5          	push	de
3700  1137  F5          	push	af
3701  1138  33          	inc	sp
3702  1139  DD 7E 04    	ld	a,(ix+4)
3703  113C  5A          	ld	e,d
3704  113D  57          	ld	d,a
3705  113E  D5          	push	de
3706  113F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3707  1142  D1          	pop	de
3708  1143  C1          	pop	bc
3709  1144  18 1A       	jr	l_game_menu_e_00108
3710  1146              l_game_menu_e_00104:
3711  1146  3A 00 00    	ld	a,(_tmp_uc)
3712  1149  FE 0E       	cp	a,0x0e
3713  114B  28 13       	jr	Z,l_game_menu_e_00108
3714  114D  FE 10       	cp	a,0x10
3715  114F  28 0F       	jr	Z,l_game_menu_e_00108
3716  1151  C5          	push	bc
3717  1152  D5          	push	de
3718  1153  F5          	push	af
3719  1154  33          	inc	sp
3720  1155  DD 7E 04    	ld	a,(ix+4)
3721  1158  48          	ld	c,b
3722  1159  47          	ld	b,a
3723  115A  C5          	push	bc
3724  115B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3725  115E  D1          	pop	de
3726  115F  C1          	pop	bc
3727  1160              l_game_menu_e_00108:
3728  1160  21 00 00    	ld	hl,_tmp_uc
3729  1163  34          	inc	(hl)
3730  1164  34          	inc	(hl)
3731  1165  18 A1       	jr	l_game_menu_e_00114
3732  1167              l_game_menu_e_00109:
3733  1167  DD 7E 08    	ld	a,(ix+8)
3734  116A  3C          	inc	a
3735  116B  20 0A       	jr	NZ,l_game_menu_e_00111
3736  116D  DD 7E 04    	ld	a,(ix+4)
3737  1170  C6 F0       	add	a,0xf0
3738  1172  DD 77 04    	ld	(ix+4),a
3739  1175  18 08       	jr	l_game_menu_e_00112
3740  1177              l_game_menu_e_00111:
3741  1177  DD 7E 04    	ld	a,(ix+4)
3742  117A  C6 10       	add	a,0x10
3743  117C  DD 77 04    	ld	(ix+4),a
3744  117F              l_game_menu_e_00112:
3745  117F  DD 7E 07    	ld	a,(ix+7)
3746  1182  C6 0C       	add	a,0x0c
3747  1184  47          	ld	b,a
3748  1185  79          	ld	a,c
3749  1186  F5          	push	af
3750  1187  33          	inc	sp
3751  1188  DD 7E 04    	ld	a,(ix+4)
3752  118B  48          	ld	c,b
3753  118C  47          	ld	b,a
3754  118D  C5          	push	bc
3755  118E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3756  1191  DD 7E 07    	ld	a,(ix+7)
3757  1194  C6 0E       	add	a,0x0e
3758  1196  47          	ld	b,a
3759  1197  DD 66 06    	ld	h,(ix+6)
3760  119A  DD 6E 04    	ld	l,(ix+4)
3761  119D  E5          	push	hl
3762  119E  C5          	push	bc
3763  119F  33          	inc	sp
3764  11A0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3765  11A3  FB          	ei
3766  11A4  DD E1       	pop	ix
3767  11A6  C9          	ret
3768  11A7              	SECTION code_compiler
3769  11A7              ;	---------------------------------
3770  11A7              ; Function game_menu_handle
3771  11A7              ; ---------------------------------
3772  11A7              _game_menu_handle:
3773  11A7  CD 00 00    	call	___sdcc_enter_ix
3774  11AA  3B          	dec	sp
3775  11AB  2A 00 00    	ld	hl,(_curr_time)
3776  11AE  22 00 00    	ld	(_entry_time),hl
3777  11B1  DD 5E 05    	ld	e,(ix+5)
3778  11B4  21 00 00    	ld	hl,_game_menu_sel
3779  11B7  66          	ld	h,(hl)
3780  11B8  2E 00       	ld	l,0x00
3781  11BA  55          	ld	d, l
3782  11BB  06 08       	ld	b,0x08
3783  11BD              l_game_menu_handle_00148:
3784  11BD  29          	add	hl,hl
3785  11BE  30 01       	jr	NC,l_game_menu_handle_00149
3786  11C0  19          	add	hl,de
3787  11C1              l_game_menu_handle_00149:
3788  11C1  10 FA       	djnz	l_game_menu_handle_00148
3789  11C3  DD 7E 06    	ld	a,(ix+6)
3790  11C6  85          	add	a,l
3791  11C7  32 00 00    	ld	(_s_lin1),a
3792  11CA  DD 7E 06    	ld	a,(ix+6)
3793  11CD  DD 77 FF    	ld	(ix-1),a
3794  11D0              l_game_menu_handle_00111:
3795  11D0  21 00 00    	ld	hl,_k1
3796  11D3  E5          	push	hl
3797  11D4  2A 00 00    	ld	hl,(_joyfunc1)
3798  11D7  CD 00 00    	call	___sdcc_call_hl
3799  11DA  F1          	pop	af
3800  11DB  7D          	ld	a,l
3801  11DC  32 00 00    	ld	(_dirs),a
3802  11DF  D6 80       	sub	a,0x80
3803  11E1  CA 83 12    	jp	Z,l_game_menu_handle_00113
3804  11E4  21 05 00    	ld	hl,0x0005
3805  11E7  E5          	push	hl
3806  11E8  2A 00 00    	ld	hl,(_frame_time)
3807  11EB  E5          	push	hl
3808  11EC  CD 43 1A    	call	_game_check_time
3809  11EF  F1          	pop	af
3810  11F0  F1          	pop	af
3811  11F1  7D          	ld	a,l
3812  11F2  B7          	or	a, a
3813  11F3  28 58       	jr	Z,l_game_menu_handle_00106
3814  11F5  3A 00 00    	ld	a,(_dirs)
3815  11F8  B7          	or	a, a
3816  11F9  28 32       	jr	Z,l_game_menu_handle_00104
3817  11FB  21 00 00    	ld	hl,_ay_effect_03
3818  11FE  CD 00 00    	call	_ay_fx_play
3819  1201  CD 00 00    	call	_sound_slide
3820  1204  3A 00 00    	ld	a,(_s_lin1)
3821  1207  07          	rlca
3822  1208  07          	rlca
3823  1209  07          	rlca
3824  120A  E6 F8       	and	a,0xf8
3825  120C  C6 08       	add	a,0x08
3826  120E  F5          	push	af
3827  120F  33          	inc	sp
3828  1210  26 14       	ld	h,0x14
3829  1212  DD 6E 04    	ld	l,(ix+4)
3830  1215  E5          	push	hl
3831  1216  CD 34 0D    	call	_game_paint_attrib_lin
3832  1219  F1          	pop	af
3833  121A  33          	inc	sp
3834  121B  21 00 00    	ld	hl,_s_lin1
3835  121E  7E          	ld	a,(hl)
3836  121F  DD 86 05    	add	a,(ix+5)
3837  1222  77          	ld	(hl),a
3838  1223  DD 7E 07    	ld	a,(ix+7)
3839  1226  96          	sub	a, (hl)
3840  1227  30 04       	jr	NC,l_game_menu_handle_00104
3841  1229  DD 7E FF    	ld	a,(ix-1)
3842  122C  77          	ld	(hl),a
3843  122D              l_game_menu_handle_00104:
3844  122D  2A 00 00    	ld	hl,(_curr_time)
3845  1230  22 00 00    	ld	(_frame_time),hl
3846  1233  3A 00 00    	ld	a,(_s_lin1)
3847  1236  07          	rlca
3848  1237  07          	rlca
3849  1238  07          	rlca
3850  1239  E6 F8       	and	a,0xf8
3851  123B  C6 08       	add	a,0x08
3852  123D  F5          	push	af
3853  123E  33          	inc	sp
3854  123F  26 14       	ld	h,0x14
3855  1241  DD 6E 04    	ld	l,(ix+4)
3856  1244  E5          	push	hl
3857  1245  CD 5B 0D    	call	_game_paint_attrib_lin_h
3858  1248  F1          	pop	af
3859  1249  33          	inc	sp
3860  124A  CD 95 19    	call	_game_rotate_attrib
3861  124D              l_game_menu_handle_00106:
3862  124D  DD 7E 09    	ld	a,(ix+9)
3863  1250  DD B6 08    	or	a,(ix+8)
3864  1253  CA D0 11    	jp	Z,l_game_menu_handle_00111
3865  1256  DD 6E 08    	ld	l,(ix+8)
3866  1259  DD 66 09    	ld	h,(ix+9)
3867  125C  E5          	push	hl
3868  125D  2A 00 00    	ld	hl,(_entry_time)
3869  1260  E5          	push	hl
3870  1261  CD 43 1A    	call	_game_check_time
3871  1264  F1          	pop	af
3872  1265  F1          	pop	af
3873  1266  7D          	ld	a,l
3874  1267  B7          	or	a, a
3875  1268  CA D0 11    	jp	Z,l_game_menu_handle_00111
3876  126B  CD 00 00    	call	_ay_is_playing
3877  126E  7D          	ld	a,l
3878  126F  B7          	or	a, a
3879  1270  C2 D0 11    	jp	NZ,l_game_menu_handle_00111
3880  1273  CD C4 18    	call	_game_hall_of_fame
3881  1276  21 00 00    	ld	hl,_game_menu_sel
3882  1279  2E 00       	ld	l,0x00
3883  127B  75          	ld	(hl),l
3884  127C  CD C3 16    	call	_game_menu_back
3885  127F  2E FF       	ld	l,0xff
3886  1281  18 10       	jr	l_game_menu_handle_00114
3887  1283              l_game_menu_handle_00113:
3888  1283  3A 00 00    	ld	a,(_s_lin1)
3889  1286  DD 96 FF    	sub	a,(ix-1)
3890  1289  47          	ld	b,a
3891  128A  DD 7E 05    	ld	a,(ix+5)
3892  128D  48          	ld	c,b
3893  128E  47          	ld	b,a
3894  128F  C5          	push	bc
3895  1290  CD 00 00    	call	__divuchar_callee
3896  1293              l_game_menu_handle_00114:
3897  1293  33          	inc	sp
3898  1294  DD E1       	pop	ix
3899  1296  C9          	ret
3900  1297              	SECTION code_compiler
3901  1297              ;	---------------------------------
3902  1297              ; Function game_end
3903  1297              ; ---------------------------------
3904  1297              _game_end:
3905  1297  CD 00 00    	call	___sdcc_enter_ix
3906  129A  F5          	push	af
3907  129B  F5          	push	af
3908  129C  CD E9 08    	call	_game_kill_all_sprites
3909  129F  CD 00 00    	call	_spr_draw_clear
3910  12A2  21 00 00    	ld	hl,_pb_midi_title
3911  12A5  CD 00 00    	call	_ay_midi_play
3912  12A8  21 00 00    	ld	hl,_tmp1
3913  12AB  36 50       	ld	(hl),0x50
3914  12AD              l_game_end_00102:
3915  12AD  3E 70       	ld	a,0x70
3916  12AF  21 00 00    	ld	hl,_tmp1
3917  12B2  96          	sub	a, (hl)
3918  12B3  38 28       	jr	C,l_game_end_00104
3919  12B5  21 00 00    	ld	hl,_tmp0
3920  12B8  36 04       	ld	(hl),0x04
3921  12BA              l_game_end_00130:
3922  12BA  3A 00 00    	ld	a,(_tmp0)
3923  12BD  F5          	push	af
3924  12BE  33          	inc	sp
3925  12BF  3A 00 00    	ld	a,(_tmp1)
3926  12C2  57          	ld	d,a
3927  12C3  1E 8C       	ld	e,0x8c
3928  12C5  D5          	push	de
3929  12C6  CD 00 00    	call	_NIRVANAP_drawT_callee
3930  12C9  21 00 00    	ld	hl,_tmp0
3931  12CC  7E          	ld	a,(hl)
3932  12CD  3C          	inc	a
3933  12CE  3C          	inc	a
3934  12CF  77          	ld	(hl),a
3935  12D0  D6 1C       	sub	a,0x1c
3936  12D2  38 E6       	jr	C,l_game_end_00130
3937  12D4  21 00 00    	ld	hl,_tmp1
3938  12D7  7E          	ld	a,(hl)
3939  12D8  C6 10       	add	a,0x10
3940  12DA  77          	ld	(hl),a
3941  12DB  18 D0       	jr	l_game_end_00102
3942  12DD              l_game_end_00104:
3943  12DD  21 50 18    	ld	hl,0x1850
3944  12E0  E5          	push	hl
3945  12E1  3E D6       	ld	a,0xd6
3946  12E3  F5          	push	af
3947  12E4  33          	inc	sp
3948  12E5  CD 00 00    	call	_NIRVANAP_drawT_callee
3949  12E8  21 9C 01    	ld	hl,0x019c
3950  12EB  E5          	push	hl
3951  12EC  21 01 1D    	ld	hl,0x1d01
3952  12EF  E5          	push	hl
3953  12F0  3E 20       	ld	a,0x20
3954  12F2  F5          	push	af
3955  12F3  33          	inc	sp
3956  12F4  CD F4 10    	call	_game_menu_e
3957  12F7  F1          	pop	af
3958  12F8  33          	inc	sp
3959  12F9  21 9F FF    	ld	hl,0xff9f
3960  12FC  E3          	ex	(sp),hl
3961  12FD  21 01 1D    	ld	hl,0x1d01
3962  1300  E5          	push	hl
3963  1301  3E 80       	ld	a,0x80
3964  1303  F5          	push	af
3965  1304  33          	inc	sp
3966  1305  CD F4 10    	call	_game_menu_e
3967  1308  F1          	pop	af
3968  1309  F1          	pop	af
3969  130A  33          	inc	sp
3970  130B  3E 00       	ld	a,0x00
3971  130D  DD 77 FD    	ld	(ix-3),a
3972  1310  DD 77 FC    	ld	(ix-4),a
3973  1313  3A 00 00    	ld	a,(_game_two_player)
3974  1316  B7          	or	a, a
3975  1317  28 16       	jr	Z,l_game_end_00110
3976  1319  3A 00 00    	ld	a,(_game_lives)
3977  131C  B7          	or	a, a
3978  131D  28 04       	jr	Z,l_game_end_00106
3979  131F  DD 36 FD 01 	ld	(ix-3),0x01
3980  1323              l_game_end_00106:
3981  1323  3A 01 00    	ld	a, (_game_lives + 1)
3982  1326  B7          	or	a, a
3983  1327  28 0A       	jr	Z,l_game_end_00111
3984  1329  DD 36 FC 01 	ld	(ix-4),0x01
3985  132D  18 04       	jr	l_game_end_00111
3986  132F              l_game_end_00110:
3987  132F  DD 36 FD 01 	ld	(ix-3),0x01
3988  1333              l_game_end_00111:
3989  1333  DD 7E FD    	ld	a,(ix-3)
3990  1336  3D          	dec	a
3991  1337  20 04       	jr	NZ,l_game_end_00210
3992  1339  3E 01       	ld	a,0x01
3993  133B  18 01       	jr	l_game_end_00211
3994  133D              l_game_end_00210:
3995  133D  AF          	xor	a,a
3996  133E              l_game_end_00211:
3997  133E  DD 77 FF    	ld	(ix-1),a
3998  1341  B7          	or	a, a
3999  1342  28 1C       	jr	Z,l_game_end_00113
4000  1344  DD 7E FC    	ld	a,(ix-4)
4001  1347  B7          	or	a, a
4002  1348  20 16       	jr	NZ,l_game_end_00113
4003  134A  21 6A 01    	ld	hl,___str_41
4004  134D  E5          	push	hl
4005  134E  21 13 01    	ld	hl,0x0113
4006  1351  E5          	push	hl
4007  1352  CD 00 00    	call	_zx_print_str
4008  1355  21 50 0C    	ld	hl,0x0c50
4009  1358  E5          	push	hl
4010  1359  3E 03       	ld	a,0x03
4011  135B  F5          	push	af
4012  135C  33          	inc	sp
4013  135D  CD 00 00    	call	_NIRVANAP_drawT_callee
4014  1360              l_game_end_00113:
4015  1360  DD 7E FC    	ld	a,(ix-4)
4016  1363  3D          	dec	a
4017  1364  20 04       	jr	NZ,l_game_end_00212
4018  1366  3E 01       	ld	a,0x01
4019  1368  18 01       	jr	l_game_end_00213
4020  136A              l_game_end_00212:
4021  136A  AF          	xor	a,a
4022  136B              l_game_end_00213:
4023  136B  DD 77 FE    	ld	(ix-2),a
4024  136E  DD 7E FD    	ld	a,(ix-3)
4025  1371  B7          	or	a, a
4026  1372  20 1C       	jr	NZ,l_game_end_00116
4027  1374  DD 7E FE    	ld	a,(ix-2)
4028  1377  B7          	or	a, a
4029  1378  28 16       	jr	Z,l_game_end_00116
4030  137A  21 74 01    	ld	hl,___str_42
4031  137D  E5          	push	hl
4032  137E  21 13 01    	ld	hl,0x0113
4033  1381  E5          	push	hl
4034  1382  CD 00 00    	call	_zx_print_str
4035  1385  21 60 0E    	ld	hl,0x0e60
4036  1388  E5          	push	hl
4037  1389  3E 1B       	ld	a,0x1b
4038  138B  F5          	push	af
4039  138C  33          	inc	sp
4040  138D  CD 00 00    	call	_NIRVANAP_drawT_callee
4041  1390              l_game_end_00116:
4042  1390  DD 7E FF    	ld	a,(ix-1)
4043  1393  B7          	or	a, a
4044  1394  28 27       	jr	Z,l_game_end_00119
4045  1396  DD 7E FE    	ld	a,(ix-2)
4046  1399  B7          	or	a, a
4047  139A  28 21       	jr	Z,l_game_end_00119
4048  139C  21 7D 01    	ld	hl,___str_43
4049  139F  E5          	push	hl
4050  13A0  21 13 01    	ld	hl,0x0113
4051  13A3  E5          	push	hl
4052  13A4  CD 00 00    	call	_zx_print_str
4053  13A7  21 50 0C    	ld	hl,0x0c50
4054  13AA  E5          	push	hl
4055  13AB  3E 03       	ld	a,0x03
4056  13AD  F5          	push	af
4057  13AE  33          	inc	sp
4058  13AF  CD 00 00    	call	_NIRVANAP_drawT_callee
4059  13B2  21 60 0E    	ld	hl,0x0e60
4060  13B5  E5          	push	hl
4061  13B6  3E 1B       	ld	a,0x1b
4062  13B8  F5          	push	af
4063  13B9  33          	inc	sp
4064  13BA  CD 00 00    	call	_NIRVANAP_drawT_callee
4065  13BD              l_game_end_00119:
4066  13BD  21 C8 00    	ld	hl,0x00c8
4067  13C0  E5          	push	hl
4068  13C1  21 01 1F    	ld	hl,0x1f01
4069  13C4  E5          	push	hl
4070  13C5  3E 13       	ld	a,0x13
4071  13C7  F5          	push	af
4072  13C8  33          	inc	sp
4073  13C9  CD B1 19    	call	_game_colour_message
4074  13CC  F1          	pop	af
4075  13CD  F1          	pop	af
4076  13CE  33          	inc	sp
4077  13CF  DD 7E FF    	ld	a,(ix-1)
4078  13D2  B7          	or	a, a
4079  13D3  28 32       	jr	Z,l_game_end_00122
4080  13D5  DD 7E FC    	ld	a,(ix-4)
4081  13D8  B7          	or	a, a
4082  13D9  20 2C       	jr	NZ,l_game_end_00122
4083  13DB  21 40 12    	ld	hl,0x1240
4084  13DE  E5          	push	hl
4085  13DF  3E BE       	ld	a,0xbe
4086  13E1  F5          	push	af
4087  13E2  33          	inc	sp
4088  13E3  CD 00 00    	call	_NIRVANAP_drawT_callee
4089  13E6  21 50 12    	ld	hl,0x1250
4090  13E9  E5          	push	hl
4091  13EA  3E CA       	ld	a,0xca
4092  13EC  F5          	push	af
4093  13ED  33          	inc	sp
4094  13EE  CD 00 00    	call	_NIRVANAP_drawT_callee
4095  13F1  21 91 01    	ld	hl,___str_44
4096  13F4  E5          	push	hl
4097  13F5  21 13 01    	ld	hl,0x0113
4098  13F8  E5          	push	hl
4099  13F9  CD 00 00    	call	_zx_print_str
4100  13FC  21 40 0C    	ld	hl,0x0c40
4101  13FF  E5          	push	hl
4102  1400  3E BE       	ld	a,0xbe
4103  1402  F5          	push	af
4104  1403  33          	inc	sp
4105  1404  CD 00 00    	call	_NIRVANAP_drawT_callee
4106  1407              l_game_end_00122:
4107  1407  DD 7E FD    	ld	a,(ix-3)
4108  140A  B7          	or	a, a
4109  140B  20 32       	jr	NZ,l_game_end_00125
4110  140D  DD 7E FE    	ld	a,(ix-2)
4111  1410  B7          	or	a, a
4112  1411  28 2C       	jr	Z,l_game_end_00125
4113  1413  21 50 12    	ld	hl,0x1250
4114  1416  E5          	push	hl
4115  1417  3E BE       	ld	a,0xbe
4116  1419  F5          	push	af
4117  141A  33          	inc	sp
4118  141B  CD 00 00    	call	_NIRVANAP_drawT_callee
4119  141E  21 60 12    	ld	hl,0x1260
4120  1421  E5          	push	hl
4121  1422  3E CA       	ld	a,0xca
4122  1424  F5          	push	af
4123  1425  33          	inc	sp
4124  1426  CD 00 00    	call	_NIRVANAP_drawT_callee
4125  1429  21 91 01    	ld	hl,___str_44
4126  142C  E5          	push	hl
4127  142D  21 13 01    	ld	hl,0x0113
4128  1430  E5          	push	hl
4129  1431  CD 00 00    	call	_zx_print_str
4130  1434  21 50 0E    	ld	hl,0x0e50
4131  1437  E5          	push	hl
4132  1438  3E BE       	ld	a,0xbe
4133  143A  F5          	push	af
4134  143B  33          	inc	sp
4135  143C  CD 00 00    	call	_NIRVANAP_drawT_callee
4136  143F              l_game_end_00125:
4137  143F  DD 7E FF    	ld	a,(ix-1)
4138  1442  B7          	or	a, a
4139  1443  28 53       	jr	Z,l_game_end_00128
4140  1445  DD 7E FE    	ld	a,(ix-2)
4141  1448  B7          	or	a, a
4142  1449  28 4D       	jr	Z,l_game_end_00128
4143  144B  21 A5 01    	ld	hl,___str_45
4144  144E  E5          	push	hl
4145  144F  21 13 01    	ld	hl,0x0113
4146  1452  E5          	push	hl
4147  1453  CD 00 00    	call	_zx_print_str
4148  1456  21 40 12    	ld	hl,0x1240
4149  1459  E5          	push	hl
4150  145A  3E BE       	ld	a,0xbe
4151  145C  F5          	push	af
4152  145D  33          	inc	sp
4153  145E  CD 00 00    	call	_NIRVANAP_drawT_callee
4154  1461  21 50 12    	ld	hl,0x1250
4155  1464  E5          	push	hl
4156  1465  3E CA       	ld	a,0xca
4157  1467  F5          	push	af
4158  1468  33          	inc	sp
4159  1469  CD 00 00    	call	_NIRVANAP_drawT_callee
4160  146C  21 50 10    	ld	hl,0x1050
4161  146F  E5          	push	hl
4162  1470  3E BE       	ld	a,0xbe
4163  1472  F5          	push	af
4164  1473  33          	inc	sp
4165  1474  CD 00 00    	call	_NIRVANAP_drawT_callee
4166  1477  21 60 10    	ld	hl,0x1060
4167  147A  E5          	push	hl
4168  147B  3E CA       	ld	a,0xca
4169  147D  F5          	push	af
4170  147E  33          	inc	sp
4171  147F  CD 00 00    	call	_NIRVANAP_drawT_callee
4172  1482  21 40 0C    	ld	hl,0x0c40
4173  1485  E5          	push	hl
4174  1486  3E BE       	ld	a,0xbe
4175  1488  F5          	push	af
4176  1489  33          	inc	sp
4177  148A  CD 00 00    	call	_NIRVANAP_drawT_callee
4178  148D  21 50 0E    	ld	hl,0x0e50
4179  1490  E5          	push	hl
4180  1491  3E BE       	ld	a,0xbe
4181  1493  F5          	push	af
4182  1494  33          	inc	sp
4183  1495  CD 00 00    	call	_NIRVANAP_drawT_callee
4184  1498              l_game_end_00128:
4185  1498  21 C8 00    	ld	hl,0x00c8
4186  149B  E5          	push	hl
4187  149C  21 01 1F    	ld	hl,0x1f01
4188  149F  E5          	push	hl
4189  14A0  3E 13       	ld	a,0x13
4190  14A2  F5          	push	af
4191  14A3  33          	inc	sp
4192  14A4  CD B1 19    	call	_game_colour_message
4193  14A7  F1          	pop	af
4194  14A8  33          	inc	sp
4195  14A9  21 BB 01    	ld	hl,___str_46
4196  14AC  E3          	ex	(sp),hl
4197  14AD  21 13 01    	ld	hl,0x0113
4198  14B0  E5          	push	hl
4199  14B1  CD 00 00    	call	_zx_print_str
4200  14B4  CD 00 00    	call	_spr_draw_clear
4201  14B7  DD F9       	ld	sp, ix
4202  14B9  DD E1       	pop	ix
4203  14BB  C9          	ret
4204  14BC              	SECTION rodata_compiler
4205  016A              ___str_41:
4206  016A  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4207  0173  00          	DEFB 0x00
4208  0174              	SECTION rodata_compiler
4209  0174              ___str_42:
4210  0174  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4211  017C  00          	DEFB 0x00
4212  017D              	SECTION rodata_compiler
4213  017D              ___str_43:
4214  017D  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4215  0190  00          	DEFB 0x00
4216  0191              	SECTION rodata_compiler
4217  0191              ___str_44:
4218  0191  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4219  01A4  00          	DEFB 0x00
4220  01A5              	SECTION rodata_compiler
4221  01A5              ___str_45:
4222  01A5  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4223  01BA  00          	DEFB 0x00
4224  01BB              	SECTION rodata_compiler
4225  01BB              ___str_46:
4226  01BB  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 59 4F 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE YOU!"
4227  01DB  00          	DEFB 0x00
4228  01DC              	SECTION code_compiler
4229  14BC              ;	---------------------------------
4230  14BC              ; Function game_hall_check
4231  14BC              ; ---------------------------------
4232  14BC              _game_hall_check:
4233  14BC  5D          	ld	e,l
4234  14BD  01 00 00    	ld	bc,_player_score+0
4235  14C0  26 00       	ld	h,0x00
4236  14C2  6B          	ld	l, e
4237  14C3  29          	add	hl, hl
4238  14C4  09          	add	hl,bc
4239  14C5  4E          	ld	c,(hl)
4240  14C6  23          	inc	hl
4241  14C7  46          	ld	b,(hl)
4242  14C8  2A 3A 00    	ld	hl,(_hof + 0x003a)
4243  14CB  AF          	xor	a,a
4244  14CC  ED 42       	sbc	hl,bc
4245  14CE  30 09       	jr	NC,l_game_hall_check_00104
4246  14D0  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4247  14D4  21 36 00    	ld	hl,+(_hof + 0x0036)
4248  14D7  18 14       	jr	l_game_hall_check_00106
4249  14D9              l_game_hall_check_00104:
4250  14D9  2A 34 00    	ld	hl,(_hof + 0x0034)
4251  14DC  AF          	xor	a,a
4252  14DD  ED 42       	sbc	hl,bc
4253  14DF  30 09       	jr	NC,l_game_hall_check_00105
4254  14E1  ED 43 34 00 	ld	(_hof + 0x0034),bc
4255  14E5  21 30 00    	ld	hl,+(_hof + 0x0030)
4256  14E8  18 03       	jr	l_game_hall_check_00106
4257  14EA              l_game_hall_check_00105:
4258  14EA  21 00 00    	ld	hl,0x0000
4259  14ED              l_game_hall_check_00106:
4260  14ED  C9          	ret
4261  14EE              	SECTION code_compiler
4262  14EE              ;	---------------------------------
4263  14EE              ; Function compare_scores
4264  14EE              ; ---------------------------------
4265  14EE              _compare_scores:
4266  14EE  CD 00 00    	call	___sdcc_enter_ix
4267  14F1  DD 6E 06    	ld	l,(ix+6)
4268  14F4  DD 66 07    	ld	h,(ix+7)
4269  14F7  11 04 00    	ld	de,0x0004
4270  14FA  19          	add	hl, de
4271  14FB  4E          	ld	c,(hl)
4272  14FC  23          	inc	hl
4273  14FD  46          	ld	b,(hl)
4274  14FE  DD 6E 04    	ld	l,(ix+4)
4275  1501  DD 66 05    	ld	h,(ix+5)
4276  1504  11 04 00    	ld	de,0x0004
4277  1507  19          	add	hl, de
4278  1508  7E          	ld	a,(hl)
4279  1509  23          	inc	hl
4280  150A  56          	ld	d,(hl)
4281  150B  5F          	ld	e,a
4282  150C  91          	sub	a, c
4283  150D  7A          	ld	a,d
4284  150E  98          	sbc	a, b
4285  150F  30 05       	jr	NC,l_compare_scores_00102
4286  1511  21 01 00    	ld	hl,0x0001
4287  1514  18 10       	jr	l_compare_scores_00105
4288  1516              l_compare_scores_00102:
4289  1516  79          	ld	a,c
4290  1517  93          	sub	a, e
4291  1518  20 09       	jr	NZ,l_compare_scores_00104
4292  151A  78          	ld	a,b
4293  151B  92          	sub	a, d
4294  151C  20 05       	jr	NZ,l_compare_scores_00104
4295  151E  21 00 00    	ld	hl,0x0000
4296  1521  18 03       	jr	l_compare_scores_00105
4297  1523              l_compare_scores_00104:
4298  1523  21 FF FF    	ld	hl,0xffff
4299  1526              l_compare_scores_00105:
4300  1526  DD E1       	pop	ix
4301  1528  C9          	ret
4302  1529              	SECTION code_compiler
4303  1529              ;	---------------------------------
4304  1529              ; Function game_hall_enter
4305  1529              ; ---------------------------------
4306  1529              _game_hall_enter:
4307  1529  CD 00 00    	call	___sdcc_enter_ix
4308  152C  21 F7 FF    	ld	hl,-9
4309  152F  39          	add	hl,sp
4310  1530  F9          	ld	sp,hl
4311  1531  CD 00 00    	call	_spr_draw_clear
4312  1534  2E 00       	ld	l,0x00
4313  1536  CD 10 0D    	call	_game_paint_attrib
4314  1539  ED 4B 00 00 	ld	bc,(_player_score)
4315  153D  2A 02 00    	ld	hl, (_player_score + 2)
4316  1540  AF          	xor	a,a
4317  1541  ED 42       	sbc	hl,bc
4318  1543  30 0F       	jr	NC,l_game_hall_enter_00102
4319  1545  2E 00       	ld	l,0x00
4320  1547  CD BC 14    	call	_game_hall_check
4321  154A  E5          	push	hl
4322  154B  2E 01       	ld	l,0x01
4323  154D  CD BC 14    	call	_game_hall_check
4324  1550  EB          	ex	de,hl
4325  1551  C1          	pop	bc
4326  1552  18 0E       	jr	l_game_hall_enter_00103
4327  1554              l_game_hall_enter_00102:
4328  1554  2E 01       	ld	l,0x01
4329  1556  CD BC 14    	call	_game_hall_check
4330  1559  E5          	push	hl
4331  155A  2E 00       	ld	l,0x00
4332  155C  CD BC 14    	call	_game_hall_check
4333  155F  D1          	pop	de
4334  1560  4D          	ld	c,l
4335  1561  44          	ld	b,h
4336  1562              l_game_hall_enter_00103:
4337  1562  78          	ld	a,b
4338  1563  B1          	or	a,c
4339  1564  20 05       	jr	NZ,l_game_hall_enter_00125
4340  1566  7A          	ld	a,d
4341  1567  B3          	or	a,e
4342  1568  CA B6 16    	jp	Z,l_game_hall_enter_00126
4343  156B              l_game_hall_enter_00125:
4344  156B  3E 00       	ld	a,0x00
4345  156D  DD 77 FB    	ld	(ix-5),a
4346  1570  DD 77 FA    	ld	(ix-6),a
4347  1573  DD 77 F9    	ld	(ix-7),a
4348  1576  DD 77 F8    	ld	(ix-8),a
4349  1579  DD 36 F7 00 	ld	(ix-9),0x00
4350  157D  78          	ld	a,b
4351  157E  B1          	or	a,c
4352  157F  28 0D       	jr	Z,l_game_hall_enter_00105
4353  1581  DD 36 F8 01 	ld	(ix-8),0x01
4354  1585  C5          	push	bc
4355  1586  D5          	push	de
4356  1587  2E 00       	ld	l,0x00
4357  1589  CD D9 16    	call	_game_hall_enter_phs
4358  158C  D1          	pop	de
4359  158D  C1          	pop	bc
4360  158E              l_game_hall_enter_00105:
4361  158E  7A          	ld	a,d
4362  158F  B3          	or	a,e
4363  1590  28 0D       	jr	Z,l_game_hall_enter_00107
4364  1592  DD 36 F7 05 	ld	(ix-9),0x05
4365  1596  C5          	push	bc
4366  1597  D5          	push	de
4367  1598  2E 01       	ld	l,0x01
4368  159A  CD D9 16    	call	_game_hall_enter_phs
4369  159D  D1          	pop	de
4370  159E  C1          	pop	bc
4371  159F              l_game_hall_enter_00107:
4372  159F  C5          	push	bc
4373  15A0  D5          	push	de
4374  15A1  21 DC 01    	ld	hl,___str_47
4375  15A4  E5          	push	hl
4376  15A5  21 02 0A    	ld	hl,0x0a02
4377  15A8  E5          	push	hl
4378  15A9  CD 00 00    	call	_zx_print_str
4379  15AC  21 E9 01    	ld	hl,___str_48
4380  15AF  E5          	push	hl
4381  15B0  21 12 06    	ld	hl,0x0612
4382  15B3  E5          	push	hl
4383  15B4  CD 00 00    	call	_zx_print_str
4384  15B7  21 FC 01    	ld	hl,___str_49
4385  15BA  E5          	push	hl
4386  15BB  21 13 06    	ld	hl,0x0613
4387  15BE  E5          	push	hl
4388  15BF  CD 00 00    	call	_zx_print_str
4389  15C2  D1          	pop	de
4390  15C3  C1          	pop	bc
4391  15C4  DD 71 FE    	ld	(ix-2),c
4392  15C7  DD 70 FF    	ld	(ix-1),b
4393  15CA  DD 73 FC    	ld	(ix-4),e
4394  15CD  DD 72 FD    	ld	(ix-3),d
4395  15D0              l_game_hall_enter_00122:
4396  15D0  DD 7E F8    	ld	a,(ix-8)
4397  15D3  DD 86 F7    	add	a,(ix-9)
4398  15D6  B7          	or	a, a
4399  15D7  CA 9E 16    	jp	Z,l_game_hall_enter_00124
4400  15DA  21 05 00    	ld	hl,0x0005
4401  15DD  E5          	push	hl
4402  15DE  2A 00 00    	ld	hl,(_frame_time)
4403  15E1  E5          	push	hl
4404  15E2  CD 43 1A    	call	_game_check_time
4405  15E5  F1          	pop	af
4406  15E6  F1          	pop	af
4407  15E7  7D          	ld	a,l
4408  15E8  B7          	or	a, a
4409  15E9  28 36       	jr	Z,l_game_hall_enter_00113
4410  15EB  DD 7E F9    	ld	a,(ix-7)
4411  15EE  D6 01       	sub	a,0x01
4412  15F0  3E 00       	ld	a,0x00
4413  15F2  17          	rla
4414  15F3  DD 77 F9    	ld	(ix-7),a
4415  15F6  DD 7E F8    	ld	a,(ix-8)
4416  15F9  B7          	or	a, a
4417  15FA  28 0B       	jr	Z,l_game_hall_enter_00109
4418  15FC  DD 66 F9    	ld	h,(ix-7)
4419  15FF  DD 6E F8    	ld	l,(ix-8)
4420  1602  E5          	push	hl
4421  1603  CD 50 17    	call	_game_hall_print_p
4422  1606  F1          	pop	af
4423  1607              l_game_hall_enter_00109:
4424  1607  DD 7E F7    	ld	a,(ix-9)
4425  160A  B7          	or	a, a
4426  160B  28 0B       	jr	Z,l_game_hall_enter_00111
4427  160D  DD 66 F9    	ld	h,(ix-7)
4428  1610  DD 6E F7    	ld	l,(ix-9)
4429  1613  E5          	push	hl
4430  1614  CD 50 17    	call	_game_hall_print_p
4431  1617  F1          	pop	af
4432  1618              l_game_hall_enter_00111:
4433  1618  CD 95 19    	call	_game_rotate_attrib
4434  161B  2A 00 00    	ld	hl,(_curr_time)
4435  161E  22 00 00    	ld	(_frame_time),hl
4436  1621              l_game_hall_enter_00113:
4437  1621  21 00 00    	ld	hl,_k1
4438  1624  E5          	push	hl
4439  1625  2A 00 00    	ld	hl,(_joyfunc1)
4440  1628  CD 00 00    	call	___sdcc_call_hl
4441  162B  F1          	pop	af
4442  162C  7D          	ld	a,l
4443  162D  32 00 00    	ld	(_dirs),a
4444  1630  DD 7E FB    	ld	a,(ix-5)
4445  1633  B7          	or	a, a
4446  1634  20 22       	jr	NZ,l_game_hall_enter_00115
4447  1636  DD 7E F8    	ld	a,(ix-8)
4448  1639  B7          	or	a, a
4449  163A  28 1C       	jr	Z,l_game_hall_enter_00115
4450  163C  DD 6E F8    	ld	l,(ix-8)
4451  163F  CD 0E 18    	call	_game_hall_edit_p
4452  1642  DD 75 F8    	ld	(ix-8),l
4453  1645  7D          	ld	a,l
4454  1646  B7          	or	a, a
4455  1647  20 0F       	jr	NZ,l_game_hall_enter_00115
4456  1649  DD 5E FE    	ld	e,(ix-2)
4457  164C  DD 56 FF    	ld	d,(ix-1)
4458  164F  AF          	xor	a,a
4459  1650  21 00 00    	ld	hl,_initials
4460  1653              l_game_hall_enter_00190:
4461  1653  BE          	cp	a, (hl)
4462  1654  ED A0       	ldi
4463  1656  20 FB       	jr	NZ, l_game_hall_enter_00190
4464  1658              l_game_hall_enter_00115:
4465  1658  3A 00 00    	ld	a,(_dirs)
4466  165B  DD 77 FB    	ld	(ix-5),a
4467  165E  21 00 00    	ld	hl,_k2
4468  1661  E5          	push	hl
4469  1662  2A 00 00    	ld	hl,(_joyfunc2)
4470  1665  CD 00 00    	call	___sdcc_call_hl
4471  1668  F1          	pop	af
4472  1669  7D          	ld	a,l
4473  166A  32 00 00    	ld	(_dirs),a
4474  166D  DD 7E FA    	ld	a,(ix-6)
4475  1670  B7          	or	a, a
4476  1671  20 22       	jr	NZ,l_game_hall_enter_00119
4477  1673  DD 7E F7    	ld	a,(ix-9)
4478  1676  B7          	or	a, a
4479  1677  28 1C       	jr	Z,l_game_hall_enter_00119
4480  1679  DD 6E F7    	ld	l,(ix-9)
4481  167C  CD 0E 18    	call	_game_hall_edit_p
4482  167F  DD 75 F7    	ld	(ix-9),l
4483  1682  7D          	ld	a,l
4484  1683  B7          	or	a, a
4485  1684  20 0F       	jr	NZ,l_game_hall_enter_00119
4486  1686  DD 5E FC    	ld	e,(ix-4)
4487  1689  DD 56 FD    	ld	d,(ix-3)
4488  168C  AF          	xor	a,a
4489  168D  21 04 00    	ld	hl,+(_initials + 0x0004)
4490  1690              l_game_hall_enter_00191:
4491  1690  BE          	cp	a, (hl)
4492  1691  ED A0       	ldi
4493  1693  20 FB       	jr	NZ, l_game_hall_enter_00191
4494  1695              l_game_hall_enter_00119:
4495  1695  3A 00 00    	ld	a,(_dirs)
4496  1698  DD 77 FA    	ld	(ix-6),a
4497  169B  C3 D0 15    	jp	l_game_hall_enter_00122
4498  169E              l_game_hall_enter_00124:
4499  169E  CD 00 00    	call	_ay_reset
4500  16A1  CD 00 00    	call	_spr_draw_clear
4501  16A4  01 EE 14    	ld	bc,_compare_scores
4502  16A7  C5          	push	bc
4503  16A8  21 06 00    	ld	hl,0x0006
4504  16AB  E5          	push	hl
4505  16AC  2E 0A       	ld	l,0x0a
4506  16AE  E5          	push	hl
4507  16AF  21 00 00    	ld	hl,_hof
4508  16B2  E5          	push	hl
4509  16B3  CD 00 00    	call	__insertion_sort__callee
4510  16B6              l_game_hall_enter_00126:
4511  16B6  CD C4 18    	call	_game_hall_of_fame
4512  16B9  2E 00       	ld	l,0x00
4513  16BB  CD C3 16    	call	_game_menu_back
4514  16BE  DD F9       	ld	sp, ix
4515  16C0  DD E1       	pop	ix
4516  16C2  C9          	ret
4517  16C3              	SECTION rodata_compiler
4518  01DC              ___str_47:
4519  01DC  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4520  01E8  00          	DEFB 0x00
4521  01E9              	SECTION rodata_compiler
4522  01E9              ___str_48:
4523  01E9  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4524  01FB  00          	DEFB 0x00
4525  01FC              	SECTION rodata_compiler
4526  01FC              ___str_49:
4527  01FC  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4528  020F  00          	DEFB 0x00
4529  0210              	SECTION code_compiler
4530  16C3              ;	---------------------------------
4531  16C3              ; Function game_menu_back
4532  16C3              ; ---------------------------------
4533  16C3              _game_menu_back:
4534  16C3  7D          	ld	a,l
4535  16C4  32 00 00    	ld	(_s_lin1),a
4536  16C7  21 00 00    	ld	hl,_game_menu_sel
4537  16CA  36 00       	ld	(hl),0x00
4538  16CC  CD 05 10    	call	_game_menu_top_paint
4539  16CF  CD 79 10    	call	_game_menu_paint
4540  16D2  2A 00 00    	ld	hl,(_curr_time)
4541  16D5  22 00 00    	ld	(_entry_time),hl
4542  16D8  C9          	ret
4543  16D9              	SECTION code_compiler
4544  16D9              ;	---------------------------------
4545  16D9              ; Function game_hall_enter_phs
4546  16D9              ; ---------------------------------
4547  16D9              _game_hall_enter_phs:
4548  16D9  7D          	ld	a,l
4549  16DA  B7          	or	a, a
4550  16DB  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4551  16DD  21 9C 01    	ld	hl,0x019c
4552  16E0  E5          	push	hl
4553  16E1  21 02 0C    	ld	hl,0x0c02
4554  16E4  E5          	push	hl
4555  16E5  3E 30       	ld	a,0x30
4556  16E7  F5          	push	af
4557  16E8  33          	inc	sp
4558  16E9  CD F4 10    	call	_game_menu_e
4559  16EC  F1          	pop	af
4560  16ED  33          	inc	sp
4561  16EE  21 9F FF    	ld	hl,0xff9f
4562  16F1  E3          	ex	(sp),hl
4563  16F2  21 02 0C    	ld	hl,0x0c02
4564  16F5  E5          	push	hl
4565  16F6  3E 7C       	ld	a,0x7c
4566  16F8  F5          	push	af
4567  16F9  33          	inc	sp
4568  16FA  CD F4 10    	call	_game_menu_e
4569  16FD  F1          	pop	af
4570  16FE  33          	inc	sp
4571  16FF  21 10 02    	ld	hl,___str_50
4572  1702  E3          	ex	(sp),hl
4573  1703  21 07 05    	ld	hl,0x0507
4574  1706  E5          	push	hl
4575  1707  CD 00 00    	call	_zx_print_str
4576  170A  21 15 02    	ld	hl,___str_51
4577  170D  E5          	push	hl
4578  170E  21 08 05    	ld	hl,0x0508
4579  1711  E5          	push	hl
4580  1712  CD 00 00    	call	_zx_print_str
4581  1715  18 38       	jr	l_game_hall_enter_phs_00104
4582  1717              l_game_hall_enter_phs_00102:
4583  1717  21 9C 01    	ld	hl,0x019c
4584  171A  E5          	push	hl
4585  171B  21 12 1C    	ld	hl,0x1c12
4586  171E  E5          	push	hl
4587  171F  3E 30       	ld	a,0x30
4588  1721  F5          	push	af
4589  1722  33          	inc	sp
4590  1723  CD F4 10    	call	_game_menu_e
4591  1726  F1          	pop	af
4592  1727  33          	inc	sp
4593  1728  21 9F FF    	ld	hl,0xff9f
4594  172B  E3          	ex	(sp),hl
4595  172C  21 12 1C    	ld	hl,0x1c12
4596  172F  E5          	push	hl
4597  1730  3E 7C       	ld	a,0x7c
4598  1732  F5          	push	af
4599  1733  33          	inc	sp
4600  1734  CD F4 10    	call	_game_menu_e
4601  1737  F1          	pop	af
4602  1738  33          	inc	sp
4603  1739  21 10 02    	ld	hl,___str_50
4604  173C  E3          	ex	(sp),hl
4605  173D  21 07 15    	ld	hl,0x1507
4606  1740  E5          	push	hl
4607  1741  CD 00 00    	call	_zx_print_str
4608  1744  21 15 02    	ld	hl,___str_51
4609  1747  E5          	push	hl
4610  1748  21 08 15    	ld	hl,0x1508
4611  174B  E5          	push	hl
4612  174C  CD 00 00    	call	_zx_print_str
4613  174F              l_game_hall_enter_phs_00104:
4614  174F  C9          	ret
4615  1750              	SECTION rodata_compiler
4616  0210              ___str_50:
4617  0210  48 49 47 48 	DEFM "HIGH"
4618  0214  00          	DEFB 0x00
4619  0215              	SECTION rodata_compiler
4620  0215              ___str_51:
4621  0215  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4622  021B  00          	DEFB 0x00
4623  021C              	SECTION code_compiler
4624  1750              ;	---------------------------------
4625  1750              ; Function game_hall_print_p
4626  1750              ; ---------------------------------
4627  1750              _game_hall_print_p:
4628  1750  CD 00 00    	call	___sdcc_enter_ix
4629  1753  DD 7E 04    	ld	a,(ix+4)
4630  1756  D6 05       	sub	a,0x05
4631  1758  30 59       	jr	NC,l_game_hall_print_p_00108
4632  175A  21 00 00    	ld	hl,_initials
4633  175D  E5          	push	hl
4634  175E  21 0D 06    	ld	hl,0x060d
4635  1761  E5          	push	hl
4636  1762  CD 00 00    	call	_zx_print_str
4637  1765  DD 7E 04    	ld	a,(ix+4)
4638  1768  C6 06       	add	a,0x06
4639  176A  47          	ld	b,a
4640  176B  DD 7E 04    	ld	a,(ix+4)
4641  176E  C6 05       	add	a,0x05
4642  1770  57          	ld	d,a
4643  1771  3E 70       	ld	a,0x70
4644  1773  F5          	push	af
4645  1774  33          	inc	sp
4646  1775  4A          	ld	c, d
4647  1776  C5          	push	bc
4648  1777  CD 5B 0D    	call	_game_paint_attrib_lin_h
4649  177A  F1          	pop	af
4650  177B  33          	inc	sp
4651  177C  76          	halt
4652  177D  DD 7E 05    	ld	a,(ix+5)
4653  1780  B7          	or	a, a
4654  1781  28 18       	jr	Z,l_game_hall_print_p_00102
4655  1783  21 56 06    	ld	hl,0x0656
4656  1786  E5          	push	hl
4657  1787  3E A9       	ld	a,0xa9
4658  1789  F5          	push	af
4659  178A  33          	inc	sp
4660  178B  CD 00 00    	call	_NIRVANAP_drawT_callee
4661  178E  21 58 06    	ld	hl,0x0658
4662  1791  E5          	push	hl
4663  1792  3E 03       	ld	a,0x03
4664  1794  F5          	push	af
4665  1795  33          	inc	sp
4666  1796  CD 00 00    	call	_NIRVANAP_drawT_callee
4667  1799  18 70       	jr	l_game_hall_print_p_00110
4668  179B              l_game_hall_print_p_00102:
4669  179B  21 58 06    	ld	hl,0x0658
4670  179E  E5          	push	hl
4671  179F  3E A9       	ld	a,0xa9
4672  17A1  F5          	push	af
4673  17A2  33          	inc	sp
4674  17A3  CD 00 00    	call	_NIRVANAP_drawT_callee
4675  17A6  21 56 06    	ld	hl,0x0656
4676  17A9  E5          	push	hl
4677  17AA  3E 16       	ld	a,0x16
4678  17AC  F5          	push	af
4679  17AD  33          	inc	sp
4680  17AE  CD 00 00    	call	_NIRVANAP_drawT_callee
4681  17B1  18 58       	jr	l_game_hall_print_p_00110
4682  17B3              l_game_hall_print_p_00108:
4683  17B3  21 04 00    	ld	hl,+(_initials + 0x0004)
4684  17B6  E5          	push	hl
4685  17B7  21 0D 16    	ld	hl,0x160d
4686  17BA  E5          	push	hl
4687  17BB  CD 00 00    	call	_zx_print_str
4688  17BE  DD 7E 04    	ld	a,(ix+4)
4689  17C1  C6 12       	add	a,0x12
4690  17C3  57          	ld	d,a
4691  17C4  DD 7E 04    	ld	a,(ix+4)
4692  17C7  C6 11       	add	a,0x11
4693  17C9  47          	ld	b,a
4694  17CA  3E 70       	ld	a,0x70
4695  17CC  5A          	ld	e,d
4696  17CD  57          	ld	d,a
4697  17CE  D5          	push	de
4698  17CF  C5          	push	bc
4699  17D0  33          	inc	sp
4700  17D1  CD 5B 0D    	call	_game_paint_attrib_lin_h
4701  17D4  F1          	pop	af
4702  17D5  33          	inc	sp
4703  17D6  76          	halt
4704  17D7  DD 7E 05    	ld	a,(ix+5)
4705  17DA  B7          	or	a, a
4706  17DB  28 18       	jr	Z,l_game_hall_print_p_00105
4707  17DD  21 56 17    	ld	hl,0x1756
4708  17E0  E5          	push	hl
4709  17E1  3E A9       	ld	a,0xa9
4710  17E3  F5          	push	af
4711  17E4  33          	inc	sp
4712  17E5  CD 00 00    	call	_NIRVANAP_drawT_callee
4713  17E8  21 58 17    	ld	hl,0x1758
4714  17EB  E5          	push	hl
4715  17EC  3E 27       	ld	a,0x27
4716  17EE  F5          	push	af
4717  17EF  33          	inc	sp
4718  17F0  CD 00 00    	call	_NIRVANAP_drawT_callee
4719  17F3  18 16       	jr	l_game_hall_print_p_00110
4720  17F5              l_game_hall_print_p_00105:
4721  17F5  21 58 17    	ld	hl,0x1758
4722  17F8  E5          	push	hl
4723  17F9  3E A9       	ld	a,0xa9
4724  17FB  F5          	push	af
4725  17FC  33          	inc	sp
4726  17FD  CD 00 00    	call	_NIRVANAP_drawT_callee
4727  1800  21 56 17    	ld	hl,0x1756
4728  1803  E5          	push	hl
4729  1804  3E 2E       	ld	a,0x2e
4730  1806  F5          	push	af
4731  1807  33          	inc	sp
4732  1808  CD 00 00    	call	_NIRVANAP_drawT_callee
4733  180B              l_game_hall_print_p_00110:
4734  180B  DD E1       	pop	ix
4735  180D  C9          	ret
4736  180E              	SECTION code_compiler
4737  180E              ;	---------------------------------
4738  180E              ; Function game_hall_edit_p
4739  180E              ; ---------------------------------
4740  180E              _game_hall_edit_p:
4741  180E  CD 00 00    	call	___sdcc_enter_ix
4742  1811  F5          	push	af
4743  1812  4D          	ld	c,l
4744  1813  0D          	dec	c
4745  1814  3A 00 00    	ld	a,(_dirs)
4746  1817  07          	rlca
4747  1818  30 63       	jr	NC,l_game_hall_edit_p_00120
4748  181A  79          	ld	a,c
4749  181B  FE 04       	cp	a,0x04
4750  181D  30 17       	jr	NC,l_game_hall_edit_p_00102
4751  181F  C6 07       	add	a,0x07
4752  1821  57          	ld	d,a
4753  1822  79          	ld	a,c
4754  1823  C6 06       	add	a,0x06
4755  1825  47          	ld	b,a
4756  1826  C5          	push	bc
4757  1827  3E 70       	ld	a,0x70
4758  1829  5A          	ld	e,d
4759  182A  57          	ld	d,a
4760  182B  D5          	push	de
4761  182C  C5          	push	bc
4762  182D  33          	inc	sp
4763  182E  CD 34 0D    	call	_game_paint_attrib_lin
4764  1831  F1          	pop	af
4765  1832  33          	inc	sp
4766  1833  C1          	pop	bc
4767  1834  18 16       	jr	l_game_hall_edit_p_00103
4768  1836              l_game_hall_edit_p_00102:
4769  1836  79          	ld	a,c
4770  1837  C6 13       	add	a,0x13
4771  1839  57          	ld	d,a
4772  183A  79          	ld	a,c
4773  183B  C6 12       	add	a,0x12
4774  183D  47          	ld	b,a
4775  183E  C5          	push	bc
4776  183F  3E 70       	ld	a,0x70
4777  1841  5A          	ld	e,d
4778  1842  57          	ld	d,a
4779  1843  D5          	push	de
4780  1844  C5          	push	bc
4781  1845  33          	inc	sp
4782  1846  CD 34 0D    	call	_game_paint_attrib_lin
4783  1849  F1          	pop	af
4784  184A  33          	inc	sp
4785  184B  C1          	pop	bc
4786  184C              l_game_hall_edit_p_00103:
4787  184C  C5          	push	bc
4788  184D  CD 00 00    	call	_sound_slide
4789  1850  C1          	pop	bc
4790  1851  21 00 00    	ld	hl,_ay_effect_01
4791  1854  CD 00 00    	call	_ay_fx_play
4792  1857  11 00 00    	ld	de,_initials+0
4793  185A  41          	ld	b,c
4794  185B  0C          	inc	c
4795  185C  68          	ld	l,b
4796  185D  26 00       	ld	h,0x00
4797  185F  19          	add	hl,de
4798  1860  7E          	ld	a,(hl)
4799  1861  D6 7B       	sub	a,0x7b
4800  1863  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4801  1865  0D          	dec	c
4802  1866  79          	ld	a,c
4803  1867  E6 03       	and	a,0x03
4804  1869  28 08       	jr	Z,l_game_hall_edit_p_00107
4805  186B  41          	ld	b,c
4806  186C  0D          	dec	c
4807  186D  68          	ld	l,b
4808  186E  26 00       	ld	h,0x00
4809  1870  19          	add	hl,de
4810  1871  36 41       	ld	(hl),0x41
4811  1873              l_game_hall_edit_p_00107:
4812  1873  79          	ld	a,c
4813  1874  E6 03       	and	a,0x03
4814  1876  D6 03       	sub	a,0x03
4815  1878  20 44       	jr	NZ,l_game_hall_edit_p_00121
4816  187A  6F          	ld	l,a
4817  187B  18 43       	jr	l_game_hall_edit_p_00122
4818  187D              l_game_hall_edit_p_00120:
4819  187D  3A 00 00    	ld	a,(_dirs)
4820  1880  E6 0C       	and	a,0x0c
4821  1882  28 3A       	jr	Z,l_game_hall_edit_p_00121
4822  1884  11 00 00    	ld	de,_hall_valids
4823  1887  3E 00       	ld	a,+((_initials) & 0xFF)
4824  1889  81          	add	a, c
4825  188A  DD 77 FE    	ld	(ix-2),a
4826  188D  3E 00       	ld	a,+((_initials) / 256)
4827  188F  CE 00       	adc	a,0x00
4828  1891  DD 77 FF    	ld	(ix-1),a
4829  1894  E1          	pop	hl
4830  1895  46          	ld	b,(hl)
4831  1896  E5          	push	hl
4832  1897              l_game_hall_edit_p_00168:
4833  1897  1A          	ld	a, (de)
4834  1898  B8          	cp	a, b
4835  1899  28 06       	jr	Z,l_game_hall_edit_p_00167
4836  189B  B7          	or	a, a
4837  189C  13          	inc	de
4838  189D  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4839  189F  5F          	ld	e, a
4840  18A0  57          	ld	d, a
4841  18A1              l_game_hall_edit_p_00167:
4842  18A1  3A 00 00    	ld	a,(_dirs)
4843  18A4  E6 04       	and	a,0x04
4844  18A6  28 0A       	jr	Z,l_game_hall_edit_p_00115
4845  18A8  1B          	dec	de
4846  18A9  1A          	ld	a,(de)
4847  18AA  3D          	dec	a
4848  18AB  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4849  18AD  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4850  18B0  18 08       	jr	l_game_hall_edit_p_00116
4851  18B2              l_game_hall_edit_p_00115:
4852  18B2  13          	inc	de
4853  18B3  1A          	ld	a,(de)
4854  18B4  B7          	or	a, a
4855  18B5  20 03       	jr	NZ,l_game_hall_edit_p_00116
4856  18B7  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4857  18BA              l_game_hall_edit_p_00116:
4858  18BA  E1          	pop	hl
4859  18BB  1A          	ld	a,(de)
4860  18BC  E5          	push	hl
4861  18BD  77          	ld	(hl),a
4862  18BE              l_game_hall_edit_p_00121:
4863  18BE  0C          	inc	c
4864  18BF  69          	ld	l,c
4865  18C0              l_game_hall_edit_p_00122:
4866  18C0  F1          	pop	af
4867  18C1  DD E1       	pop	ix
4868  18C3  C9          	ret
4869  18C4              	SECTION code_compiler
4870  18C4              ;	---------------------------------
4871  18C4              ; Function game_hall_of_fame
4872  18C4              ; ---------------------------------
4873  18C4              _game_hall_of_fame:
4874  18C4  CD 00 00    	call	_spr_draw_clear
4875  18C7  2E 00       	ld	l,0x00
4876  18C9  CD 10 0D    	call	_game_paint_attrib
4877  18CC  21 9C 01    	ld	hl,0x019c
4878  18CF  E5          	push	hl
4879  18D0  21 06 18    	ld	hl,0x1806
4880  18D3  E5          	push	hl
4881  18D4  3E 10       	ld	a,0x10
4882  18D6  F5          	push	af
4883  18D7  33          	inc	sp
4884  18D8  CD F4 10    	call	_game_menu_e
4885  18DB  F1          	pop	af
4886  18DC  33          	inc	sp
4887  18DD  21 9F FF    	ld	hl,0xff9f
4888  18E0  E3          	ex	(sp),hl
4889  18E1  21 06 18    	ld	hl,0x1806
4890  18E4  E5          	push	hl
4891  18E5  3E 98       	ld	a,0x98
4892  18E7  F5          	push	af
4893  18E8  33          	inc	sp
4894  18E9  CD F4 10    	call	_game_menu_e
4895  18EC  F1          	pop	af
4896  18ED  F1          	pop	af
4897  18EE  33          	inc	sp
4898  18EF  21 00 00    	ld	hl,_s_lin1
4899  18F2  36 00       	ld	(hl),0x00
4900  18F4              l_game_hall_of_fame_00102:
4901  18F4  21 00 00    	ld	hl,_screen_ink
4902  18F7  36 05       	ld	(hl),0x05
4903  18F9  2A 00 00    	ld	hl,(_s_lin1)
4904  18FC  26 00       	ld	h,0x00
4905  18FE  4D          	ld	c,l
4906  18FF  44          	ld	b,h
4907  1900  29          	add	hl, hl
4908  1901  09          	add	hl, bc
4909  1902  29          	add	hl, hl
4910  1903  01 00 00    	ld	bc,_hof
4911  1906  09          	add	hl,bc
4912  1907  3A 00 00    	ld	a,(_s_lin1)
4913  190A  EB          	ex	de,hl
4914  190B  C6 07       	add	a,0x07
4915  190D  47          	ld	b,a
4916  190E  D5          	push	de
4917  190F  3E 0A       	ld	a,0x0a
4918  1911  48          	ld	c,b
4919  1912  47          	ld	b,a
4920  1913  C5          	push	bc
4921  1914  CD 00 00    	call	_zx_print_str
4922  1917  2A 00 00    	ld	hl,(_s_lin1)
4923  191A  26 00       	ld	h,0x00
4924  191C  4D          	ld	c,l
4925  191D  44          	ld	b,h
4926  191E  29          	add	hl, hl
4927  191F  09          	add	hl, bc
4928  1920  29          	add	hl, hl
4929  1921  01 00 00    	ld	bc,_hof
4930  1924  09          	add	hl,bc
4931  1925  11 04 00    	ld	de,0x0004
4932  1928  19          	add	hl, de
4933  1929  5E          	ld	e,(hl)
4934  192A  23          	inc	hl
4935  192B  56          	ld	d,(hl)
4936  192C  3A 00 00    	ld	a,(_s_lin1)
4937  192F  C6 07       	add	a,0x07
4938  1931  47          	ld	b,a
4939  1932  D5          	push	de
4940  1933  3E 10       	ld	a,0x10
4941  1935  48          	ld	c,b
4942  1936  47          	ld	b,a
4943  1937  C5          	push	bc
4944  1938  CD 00 00    	call	_zx_print_int
4945  193B  11 1C 02    	ld	de,___str_52
4946  193E  3A 00 00    	ld	a,(_s_lin1)
4947  1941  C6 07       	add	a,0x07
4948  1943  47          	ld	b,a
4949  1944  D5          	push	de
4950  1945  3E 0E       	ld	a,0x0e
4951  1947  48          	ld	c,b
4952  1948  47          	ld	b,a
4953  1949  C5          	push	bc
4954  194A  CD 00 00    	call	_zx_print_str
4955  194D  11 1E 02    	ld	de,___str_53
4956  1950  3A 00 00    	ld	a,(_s_lin1)
4957  1953  C6 07       	add	a,0x07
4958  1955  47          	ld	b,a
4959  1956  D5          	push	de
4960  1957  3E 15       	ld	a,0x15
4961  1959  48          	ld	c,b
4962  195A  47          	ld	b,a
4963  195B  C5          	push	bc
4964  195C  CD 00 00    	call	_zx_print_str
4965  195F  21 00 00    	ld	hl,_s_lin1
4966  1962  7E          	ld	a,(hl)
4967  1963  3C          	inc	a
4968  1964  77          	ld	(hl),a
4969  1965  D6 0A       	sub	a,0x0a
4970  1967  38 8B       	jr	C,l_game_hall_of_fame_00102
4971  1969  21 20 02    	ld	hl,___str_54
4972  196C  E5          	push	hl
4973  196D  21 04 0A    	ld	hl,0x0a04
4974  1970  E5          	push	hl
4975  1971  CD 00 00    	call	_zx_print_str
4976  1974  21 F4 01    	ld	hl,0x01f4
4977  1977  E5          	push	hl
4978  1978  21 0A 16    	ld	hl,0x160a
4979  197B  E5          	push	hl
4980  197C  3E 04       	ld	a,0x04
4981  197E  F5          	push	af
4982  197F  33          	inc	sp
4983  1980  CD B1 19    	call	_game_colour_message
4984  1983  F1          	pop	af
4985  1984  F1          	pop	af
4986  1985  33          	inc	sp
4987  1986  CD 00 00    	call	_spr_draw_clear
4988  1989  21 00 00    	ld	hl,_game_menu_sel
4989  198C  36 00       	ld	(hl),0x00
4990  198E  21 00 00    	ld	hl,_pb_midi_title
4991  1991  CD 00 00    	call	_ay_midi_play
4992  1994  C9          	ret
4993  1995              	SECTION rodata_compiler
4994  021C              ___str_52:
4995  021C  2D          	DEFM "-"
4996  021D  00          	DEFB 0x00
4997  021E              	SECTION rodata_compiler
4998  021E              ___str_53:
4999  021E  30          	DEFM "0"
5000  021F  00          	DEFB 0x00
5001  0220              	SECTION rodata_compiler
5002  0220              ___str_54:
5003  0220  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
5004  022C  00          	DEFB 0x00
5005  022D              	SECTION code_compiler
5006  1995              ;	---------------------------------
5007  1995              ; Function game_rotate_attrib
5008  1995              ; ---------------------------------
5009  1995              _game_rotate_attrib:
5010  1995  01 03 00    	ld	bc,_attrib_hl + 3
5011  1998  0A          	ld	a,(bc)
5012  1999  32 00 00    	ld	(_tmp_uc),a
5013  199C  11 02 00    	ld	de,_attrib_hl + 2
5014  199F  1A          	ld	a,(de)
5015  19A0  02          	ld	(bc),a
5016  19A1  01 01 00    	ld	bc,_attrib_hl + 1
5017  19A4  0A          	ld	a,(bc)
5018  19A5  12          	ld	(de),a
5019  19A6  3A 00 00    	ld	a,(_attrib_hl)
5020  19A9  02          	ld	(bc),a
5021  19AA  3A 00 00    	ld	a,(_tmp_uc)
5022  19AD  32 00 00    	ld	(_attrib_hl),a
5023  19B0  C9          	ret
5024  19B1              	SECTION code_compiler
5025  19B1              ;	---------------------------------
5026  19B1              ; Function game_colour_message
5027  19B1              ; ---------------------------------
5028  19B1              _game_colour_message:
5029  19B1  CD 00 00    	call	___sdcc_enter_ix
5030  19B4  3B          	dec	sp
5031  19B5  21 00 00    	ld	hl,_tmp
5032  19B8  36 01       	ld	(hl),0x01
5033  19BA  2A 00 00    	ld	hl,(_curr_time)
5034  19BD  22 00 00    	ld	(_frame_time),hl
5035  19C0  2A 00 00    	ld	hl,(_curr_time)
5036  19C3  22 00 00    	ld	(_entry_time),hl
5037  19C6  DD 7E 04    	ld	a,(ix+4)
5038  19C9  07          	rlca
5039  19CA  07          	rlca
5040  19CB  07          	rlca
5041  19CC  E6 F8       	and	a,0xf8
5042  19CE  C6 08       	add	a,0x08
5043  19D0  DD 77 FF    	ld	(ix-1),a
5044  19D3              l_game_colour_message_00107:
5045  19D3  3A 00 00    	ld	a,(_tmp)
5046  19D6  B7          	or	a, a
5047  19D7  28 66       	jr	Z,l_game_colour_message_00110
5048  19D9  DD 6E 07    	ld	l,(ix+7)
5049  19DC  DD 66 08    	ld	h,(ix+8)
5050  19DF  E5          	push	hl
5051  19E0  2A 00 00    	ld	hl,(_entry_time)
5052  19E3  E5          	push	hl
5053  19E4  CD 43 1A    	call	_game_check_time
5054  19E7  F1          	pop	af
5055  19E8  F1          	pop	af
5056  19E9  7D          	ld	a,l
5057  19EA  B7          	or	a, a
5058  19EB  20 52       	jr	NZ,l_game_colour_message_00110
5059  19ED  21 05 00    	ld	hl,0x0005
5060  19F0  E5          	push	hl
5061  19F1  2A 00 00    	ld	hl,(_frame_time)
5062  19F4  E5          	push	hl
5063  19F5  CD 43 1A    	call	_game_check_time
5064  19F8  F1          	pop	af
5065  19F9  F1          	pop	af
5066  19FA  7D          	ld	a,l
5067  19FB  B7          	or	a, a
5068  19FC  28 1A       	jr	Z,l_game_colour_message_00103
5069  19FE  2A 00 00    	ld	hl,(_curr_time)
5070  1A01  22 00 00    	ld	(_frame_time),hl
5071  1A04  DD 66 FF    	ld	h,(ix-1)
5072  1A07  DD 6E 06    	ld	l,(ix+6)
5073  1A0A  E5          	push	hl
5074  1A0B  DD 7E 05    	ld	a,(ix+5)
5075  1A0E  F5          	push	af
5076  1A0F  33          	inc	sp
5077  1A10  CD 5B 0D    	call	_game_paint_attrib_lin_h
5078  1A13  F1          	pop	af
5079  1A14  33          	inc	sp
5080  1A15  CD 95 19    	call	_game_rotate_attrib
5081  1A18              l_game_colour_message_00103:
5082  1A18  21 00 00    	ld	hl,_k1
5083  1A1B  E5          	push	hl
5084  1A1C  2A 00 00    	ld	hl,(_joyfunc1)
5085  1A1F  CD 00 00    	call	___sdcc_call_hl
5086  1A22  E3          	ex	(sp),hl
5087  1A23  21 00 00    	ld	hl,_k2
5088  1A26  E5          	push	hl
5089  1A27  2A 00 00    	ld	hl,(_joyfunc2)
5090  1A2A  CD 00 00    	call	___sdcc_call_hl
5091  1A2D  F1          	pop	af
5092  1A2E  EB          	ex	de,hl
5093  1A2F  C1          	pop	bc
5094  1A30  79          	ld	a,c
5095  1A31  B3          	or	a, e
5096  1A32  4F          	ld	c,a
5097  1A33  78          	ld	a,b
5098  1A34  B2          	or	a, d
5099  1A35  B1          	or	a,c
5100  1A36  28 9B       	jr	Z,l_game_colour_message_00107
5101  1A38  21 00 00    	ld	hl,_tmp
5102  1A3B  36 00       	ld	(hl),0x00
5103  1A3D  18 D9       	jr	l_game_colour_message_00103
5104  1A3F              l_game_colour_message_00110:
5105  1A3F  33          	inc	sp
5106  1A40  DD E1       	pop	ix
5107  1A42  C9          	ret
5108  1A43              	SECTION code_compiler
5109  1A43              ;	---------------------------------
5110  1A43              ; Function game_check_time
5111  1A43              ; ---------------------------------
5112  1A43              _game_check_time:
5113  1A43  CD 00 00    	call	___sdcc_enter_ix
5114  1A46  2A 00 00    	ld	hl,(_curr_time)
5115  1A49  7D          	ld	a,l
5116  1A4A  DD 96 04    	sub	a,(ix+4)
5117  1A4D  4F          	ld	c,a
5118  1A4E  7C          	ld	a,h
5119  1A4F  DD 9E 05    	sbc	a,(ix+5)
5120  1A52  47          	ld	b,a
5121  1A53  DD 7E 06    	ld	a,(ix+6)
5122  1A56  91          	sub	a, c
5123  1A57  DD 7E 07    	ld	a,(ix+7)
5124  1A5A  98          	sbc	a, b
5125  1A5B  30 04       	jr	NC,l_game_check_time_00102
5126  1A5D  2E 01       	ld	l,0x01
5127  1A5F  18 02       	jr	l_game_check_time_00104
5128  1A61              l_game_check_time_00102:
5129  1A61  2E 00       	ld	l,0x00
5130  1A63              l_game_check_time_00104:
5131  1A63  DD E1       	pop	ix
5132  1A65  C9          	ret
5133  1A66              	SECTION IGNORE
5134  0000              
