1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_row
244   0000              	GLOBAL _spr_draw_index
245   0000              	GLOBAL _spr_draw_clear
246   0000              	GLOBAL _spr_water_splash_draw
247   0000              	GLOBAL _spr_water_splash_clear
248   0000              	GLOBAL _spr_draw_back
249   0000              	GLOBAL _spr_cortina_brick
250   0000              	GLOBAL _spr_brick_anim
251   0000              	GLOBAL _spr_back_fix
252   0000              	GLOBAL _spr_back_paint
253   0000              	GLOBAL _spr_back_clr
254   0000              	GLOBAL _spr_draw_pow
255   0000              	GLOBAL _spr_tile
256   0000              	GLOBAL _spr_set_fall
257   0000              	GLOBAL _spr_destroy
258   0000              	GLOBAL _spr_check_over
259   0000              	GLOBAL _spr_tile_dir
260   0000              	GLOBAL _spr_anim_kill
261   0000              	GLOBAL _spr_anim_fall
262   0000              	GLOBAL _spr_killed
263   0000              	GLOBAL _spr_redraw
264   0000              	GLOBAL _spr_move_left
265   0000              	GLOBAL _spr_move_right
266   0000              	GLOBAL _spr_move_horizontal
267   0000              	GLOBAL _spr_move_down
268   0000              	GLOBAL _spr_move_up
269   0000              	GLOBAL _spr_chktime
270   0000              	GLOBAL _sound_hit_pow
271   0000              	GLOBAL _sound_hit_brick
272   0000              	GLOBAL _sound_hit_enemy
273   0000              	GLOBAL _sound_kill
274   0000              	GLOBAL _sound_enter_enemy
275   0000              	GLOBAL _sound_coin
276   0000              	GLOBAL _sound_jump
277   0000              	GLOBAL _sound_slide
278   0000              	GLOBAL _player_move_horizontal
279   0000              	GLOBAL _player_push_check
280   0000              	GLOBAL _player_push
281   0000              	GLOBAL _player_hit_brick_clear
282   0000              	GLOBAL _player_lost_life
283   0000              	GLOBAL _player_score_add
284   0000              	GLOBAL _player_coin
285   0000              	GLOBAL _player_hit_pow
286   0000              	GLOBAL _player_hit_brick
287   0000              	GLOBAL _player_move_input
288   0000              	GLOBAL _player_turn
289   0000              	GLOBAL _player_move
290   0000              	GLOBAL _player_restart
291   0000              	GLOBAL _player_kill
292   0000              	GLOBAL _player_check_input
293   0000              	GLOBAL _player_collision_check
294   0000              	GLOBAL _player_collision
295   0000              	GLOBAL _player_calc_slide
296   0000              	GLOBAL _player_init
297   0000              	GLOBAL _player_set2
298   0000              	GLOBAL _player_set1
299   0000              	GLOBAL _game_fill_row
300   0000              	GLOBAL _enemy_ugly_fix
301   0000              	GLOBAL _enemy_kill
302   0000              	GLOBAL _enemy_init
303   0000              	GLOBAL _enemy_walk
304   0000              	GLOBAL _enemy_upgrade
305   0000              	GLOBAL _enemy_evolve
306   0000              	GLOBAL _enemy_standard_hit
307   0000              	GLOBAL _enemy_trip
308   0000              	GLOBAL _enemy_fighterfly
309   0000              	GLOBAL _enemy_fireball_green
310   0000              	GLOBAL _enemy_fireball_red
311   0000              	GLOBAL _enemy_slipice
312   0000              	GLOBAL _enemy_standard
313   0000              	GLOBAL _enemy_turn
314   0000              	GLOBAL _enemy_flip_sidestepper
315   0000              	GLOBAL _enemy_flip
316   0000              	GLOBAL _enemy_flip_change_dir
317   0000              	GLOBAL _enemy_hit
318   0000              	GLOBAL _enemy_collision_check
319   0000              	GLOBAL _enemy_collision
320   0000              	GLOBAL _enemy_coin1
321   0000              	GLOBAL _ay_fx_play
322   0000              	GLOBAL _ay_midi_play
323   0000              	GLOBAL _ay_is_playing
324   0000              	GLOBAL _ay_reset
325   0000              	GLOBAL _test_func
326   0000              	GLOBAL _in_mouse_kempston_wheel_delta
327   0000              	GLOBAL _in_mouse_kempston_wheel
328   0000              	GLOBAL _in_mouse_kempston_callee
329   0000              	GLOBAL _in_mouse_kempston
330   0000              	GLOBAL _in_mouse_kempston_setpos_callee
331   0000              	GLOBAL _in_mouse_kempston_setpos
332   0000              	GLOBAL _in_mouse_kempston_reset
333   0000              	GLOBAL _in_mouse_kempston_init
334   0000              	GLOBAL _in_mouse_amx_wheel_delta
335   0000              	GLOBAL _in_mouse_amx_wheel
336   0000              	GLOBAL _in_mouse_amx_callee
337   0000              	GLOBAL _in_mouse_amx
338   0000              	GLOBAL _in_mouse_amx_setpos_callee
339   0000              	GLOBAL _in_mouse_amx_setpos
340   0000              	GLOBAL _in_mouse_amx_reset
341   0000              	GLOBAL _in_mouse_amx_init_callee
342   0000              	GLOBAL _in_mouse_amx_init
343   0000              	GLOBAL _in_stick_sinclair2
344   0000              	GLOBAL _in_stick_sinclair1
345   0000              	GLOBAL _in_stick_kempston
346   0000              	GLOBAL _in_stick_fuller
347   0000              	GLOBAL _in_stick_cursor
348   0000              	GLOBAL _in_stick_keyboard_fastcall
349   0000              	GLOBAL _in_stick_keyboard
350   0000              	GLOBAL _in_wait_nokey
351   0000              	GLOBAL _in_wait_key
352   0000              	GLOBAL _in_test_key
353   0000              	GLOBAL _in_pause_fastcall
354   0000              	GLOBAL _in_pause
355   0000              	GLOBAL _in_key_scancode_fastcall
356   0000              	GLOBAL _in_key_scancode
357   0000              	GLOBAL _in_key_pressed_fastcall
358   0000              	GLOBAL _in_key_pressed
359   0000              	GLOBAL _in_inkey
360   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
361   0000              	GLOBAL _NIRVANAP_drawTW_raw
362   0000              	GLOBAL _NIRVANAP_drawTW_callee
363   0000              	GLOBAL _NIRVANAP_drawTW
364   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawW_raw
366   0000              	GLOBAL _NIRVANAP_drawW_callee
367   0000              	GLOBAL _NIRVANAP_drawW
368   0000              	GLOBAL _NIRVANAP_spriteT_callee
369   0000              	GLOBAL _NIRVANAP_spriteT
370   0000              	GLOBAL _NIRVANAP_fillC_callee
371   0000              	GLOBAL _NIRVANAP_fillC
372   0000              	GLOBAL _NIRVANAP_readC_callee
373   0000              	GLOBAL _NIRVANAP_readC
374   0000              	GLOBAL _NIRVANAP_paintC_callee
375   0000              	GLOBAL _NIRVANAP_paintC
376   0000              	GLOBAL _NIRVANAP_printC_callee
377   0000              	GLOBAL _NIRVANAP_printC
378   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
379   0000              	GLOBAL _NIRVANAP_fillT_raw
380   0000              	GLOBAL _NIRVANAP_fillT_callee
381   0000              	GLOBAL _NIRVANAP_fillT
382   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
383   0000              	GLOBAL _NIRVANAP_drawT_raw
384   0000              	GLOBAL _NIRVANAP_drawT_callee
385   0000              	GLOBAL _NIRVANAP_drawT
386   0000              	GLOBAL _NIRVANAP_stop
387   0000              	GLOBAL _NIRVANAP_start
388   0000              	GLOBAL _z80_otdr_callee
389   0000              	GLOBAL _z80_otdr
390   0000              	GLOBAL _z80_otir_callee
391   0000              	GLOBAL _z80_otir
392   0000              	GLOBAL _z80_outp_callee
393   0000              	GLOBAL _z80_outp
394   0000              	GLOBAL _z80_indr_callee
395   0000              	GLOBAL _z80_indr
396   0000              	GLOBAL _z80_inir_callee
397   0000              	GLOBAL _z80_inir
398   0000              	GLOBAL _z80_inp_fastcall
399   0000              	GLOBAL _z80_inp
400   0000              	GLOBAL _z80_set_int_state_fastcall
401   0000              	GLOBAL _z80_set_int_state
402   0000              	GLOBAL _z80_get_int_state
403   0000              	GLOBAL _z80_delay_tstate_fastcall
404   0000              	GLOBAL _z80_delay_tstate
405   0000              	GLOBAL _z80_delay_ms_fastcall
406   0000              	GLOBAL _z80_delay_ms
407   0000              	GLOBAL _im2_remove_generic_callback_callee
408   0000              	GLOBAL _im2_remove_generic_callback
409   0000              	GLOBAL _im2_prepend_generic_callback_callee
410   0000              	GLOBAL _im2_prepend_generic_callback
411   0000              	GLOBAL _im2_append_generic_callback_callee
412   0000              	GLOBAL _im2_append_generic_callback
413   0000              	GLOBAL _im2_create_generic_isr_8080_callee
414   0000              	GLOBAL _im2_create_generic_isr_8080
415   0000              	GLOBAL _im2_create_generic_isr_callee
416   0000              	GLOBAL _im2_create_generic_isr
417   0000              	GLOBAL _im2_install_isr_callee
418   0000              	GLOBAL _im2_install_isr
419   0000              	GLOBAL _im2_init_fastcall
420   0000              	GLOBAL _im2_init
421   0000              	GLOBAL _ffsll_callee
422   0000              	GLOBAL _ffsll
423   0000              	GLOBAL _strxfrm_callee
424   0000              	GLOBAL _strxfrm
425   0000              	GLOBAL _strupr_fastcall
426   0000              	GLOBAL _strupr
427   0000              	GLOBAL _strtok_r_callee
428   0000              	GLOBAL _strtok_r
429   0000              	GLOBAL _strtok_callee
430   0000              	GLOBAL _strtok
431   0000              	GLOBAL _strstrip_fastcall
432   0000              	GLOBAL _strstrip
433   0000              	GLOBAL _strstr_callee
434   0000              	GLOBAL _strstr
435   0000              	GLOBAL _strspn_callee
436   0000              	GLOBAL _strspn
437   0000              	GLOBAL _strsep_callee
438   0000              	GLOBAL _strsep
439   0000              	GLOBAL _strrstrip_fastcall
440   0000              	GLOBAL _strrstrip
441   0000              	GLOBAL _strrspn_callee
442   0000              	GLOBAL _strrspn
443   0000              	GLOBAL _strrev_fastcall
444   0000              	GLOBAL _strrev
445   0000              	GLOBAL _strrcspn_callee
446   0000              	GLOBAL _strrcspn
447   0000              	GLOBAL _strrchr_callee
448   0000              	GLOBAL _strrchr
449   0000              	GLOBAL _strpbrk_callee
450   0000              	GLOBAL _strpbrk
451   0000              	GLOBAL _strnlen_callee
452   0000              	GLOBAL _strnlen
453   0000              	GLOBAL _strnicmp_callee
454   0000              	GLOBAL _strnicmp
455   0000              	GLOBAL _strndup_callee
456   0000              	GLOBAL _strndup
457   0000              	GLOBAL _strncpy_callee
458   0000              	GLOBAL _strncpy
459   0000              	GLOBAL _strncmp_callee
460   0000              	GLOBAL _strncmp
461   0000              	GLOBAL _strnchr_callee
462   0000              	GLOBAL _strnchr
463   0000              	GLOBAL _strncat_callee
464   0000              	GLOBAL _strncat
465   0000              	GLOBAL _strncasecmp_callee
466   0000              	GLOBAL _strncasecmp
467   0000              	GLOBAL _strlwr_fastcall
468   0000              	GLOBAL _strlwr
469   0000              	GLOBAL _strlen_fastcall
470   0000              	GLOBAL _strlen
471   0000              	GLOBAL _strlcpy_callee
472   0000              	GLOBAL _strlcpy
473   0000              	GLOBAL _strlcat_callee
474   0000              	GLOBAL _strlcat
475   0000              	GLOBAL _stricmp_callee
476   0000              	GLOBAL _stricmp
477   0000              	GLOBAL _strerror_fastcall
478   0000              	GLOBAL _strerror
479   0000              	GLOBAL _strdup_fastcall
480   0000              	GLOBAL _strdup
481   0000              	GLOBAL _strcspn_callee
482   0000              	GLOBAL _strcspn
483   0000              	GLOBAL _strcpy_callee
484   0000              	GLOBAL _strcpy
485   0000              	GLOBAL _strcoll_callee
486   0000              	GLOBAL _strcoll
487   0000              	GLOBAL _strcmp_callee
488   0000              	GLOBAL _strcmp
489   0000              	GLOBAL _strchrnul_callee
490   0000              	GLOBAL _strchrnul
491   0000              	GLOBAL _strchr_callee
492   0000              	GLOBAL _strchr
493   0000              	GLOBAL _strcat_callee
494   0000              	GLOBAL _strcat
495   0000              	GLOBAL _strcasecmp_callee
496   0000              	GLOBAL _strcasecmp
497   0000              	GLOBAL _stpncpy_callee
498   0000              	GLOBAL _stpncpy
499   0000              	GLOBAL _stpcpy_callee
500   0000              	GLOBAL _stpcpy
501   0000              	GLOBAL _memswap_callee
502   0000              	GLOBAL _memswap
503   0000              	GLOBAL _memset_callee
504   0000              	GLOBAL _memset
505   0000              	GLOBAL _memrchr_callee
506   0000              	GLOBAL _memrchr
507   0000              	GLOBAL _memmove_callee
508   0000              	GLOBAL _memmove
509   0000              	GLOBAL _memmem_callee
510   0000              	GLOBAL _memmem
511   0000              	GLOBAL _memcpy_callee
512   0000              	GLOBAL _memcpy
513   0000              	GLOBAL _memcmp_callee
514   0000              	GLOBAL _memcmp
515   0000              	GLOBAL _memchr_callee
516   0000              	GLOBAL _memchr
517   0000              	GLOBAL _memccpy_callee
518   0000              	GLOBAL _memccpy
519   0000              	GLOBAL _ffsl_fastcall
520   0000              	GLOBAL _ffsl
521   0000              	GLOBAL _ffs_fastcall
522   0000              	GLOBAL _ffs
523   0000              	GLOBAL __strrstrip__fastcall
524   0000              	GLOBAL __strrstrip_
525   0000              	GLOBAL __memupr__callee
526   0000              	GLOBAL __memupr_
527   0000              	GLOBAL __memstrcpy__callee
528   0000              	GLOBAL __memstrcpy_
529   0000              	GLOBAL __memlwr__callee
530   0000              	GLOBAL __memlwr_
531   0000              	GLOBAL _rawmemchr_callee
532   0000              	GLOBAL _rawmemchr
533   0000              	GLOBAL _strnset_callee
534   0000              	GLOBAL _strnset
535   0000              	GLOBAL _strset_callee
536   0000              	GLOBAL _strset
537   0000              	GLOBAL _rindex_callee
538   0000              	GLOBAL _rindex
539   0000              	GLOBAL _index_callee
540   0000              	GLOBAL _index
541   0000              	GLOBAL _bzero_callee
542   0000              	GLOBAL _bzero
543   0000              	GLOBAL _bcopy_callee
544   0000              	GLOBAL _bcopy
545   0000              	GLOBAL _bcmp_callee
546   0000              	GLOBAL _bcmp
547   0000              	GLOBAL _ulltoa_callee
548   0000              	GLOBAL _ulltoa
549   0000              	GLOBAL _strtoull_callee
550   0000              	GLOBAL _strtoull
551   0000              	GLOBAL _strtoll_callee
552   0000              	GLOBAL _strtoll
553   0000              	GLOBAL _lltoa_callee
554   0000              	GLOBAL _lltoa
555   0000              	GLOBAL _llabs_callee
556   0000              	GLOBAL _llabs
557   0000              	GLOBAL __lldivu__callee
558   0000              	GLOBAL __lldivu_
559   0000              	GLOBAL __lldiv__callee
560   0000              	GLOBAL __lldiv_
561   0000              	GLOBAL _atoll_callee
562   0000              	GLOBAL _atoll
563   0000              	GLOBAL _realloc_unlocked_callee
564   0000              	GLOBAL _realloc_unlocked
565   0000              	GLOBAL _malloc_unlocked_fastcall
566   0000              	GLOBAL _malloc_unlocked
567   0000              	GLOBAL _free_unlocked_fastcall
568   0000              	GLOBAL _free_unlocked
569   0000              	GLOBAL _calloc_unlocked_callee
570   0000              	GLOBAL _calloc_unlocked
571   0000              	GLOBAL _aligned_alloc_unlocked_callee
572   0000              	GLOBAL _aligned_alloc_unlocked
573   0000              	GLOBAL _realloc_callee
574   0000              	GLOBAL _realloc
575   0000              	GLOBAL _malloc_fastcall
576   0000              	GLOBAL _malloc
577   0000              	GLOBAL _free_fastcall
578   0000              	GLOBAL _free
579   0000              	GLOBAL _calloc_callee
580   0000              	GLOBAL _calloc
581   0000              	GLOBAL _aligned_alloc_callee
582   0000              	GLOBAL _aligned_alloc
583   0000              	GLOBAL _utoa_callee
584   0000              	GLOBAL _utoa
585   0000              	GLOBAL _ultoa_callee
586   0000              	GLOBAL _ultoa
587   0000              	GLOBAL _system_fastcall
588   0000              	GLOBAL _system
589   0000              	GLOBAL _strtoul_callee
590   0000              	GLOBAL _strtoul
591   0000              	GLOBAL _strtol_callee
592   0000              	GLOBAL _strtol
593   0000              	GLOBAL _strtof_callee
594   0000              	GLOBAL _strtof
595   0000              	GLOBAL _strtod_callee
596   0000              	GLOBAL _strtod
597   0000              	GLOBAL _srand_fastcall
598   0000              	GLOBAL _srand
599   0000              	GLOBAL _rand
600   0000              	GLOBAL _quick_exit_fastcall
601   0000              	GLOBAL _quick_exit
602   0000              	GLOBAL _qsort_callee
603   0000              	GLOBAL _qsort
604   0000              	GLOBAL _ltoa_callee
605   0000              	GLOBAL _ltoa
606   0000              	GLOBAL _labs_fastcall
607   0000              	GLOBAL _labs
608   0000              	GLOBAL _itoa_callee
609   0000              	GLOBAL _itoa
610   0000              	GLOBAL _ftoh_callee
611   0000              	GLOBAL _ftoh
612   0000              	GLOBAL _ftog_callee
613   0000              	GLOBAL _ftog
614   0000              	GLOBAL _ftoe_callee
615   0000              	GLOBAL _ftoe
616   0000              	GLOBAL _ftoa_callee
617   0000              	GLOBAL _ftoa
618   0000              	GLOBAL _exit_fastcall
619   0000              	GLOBAL _exit
620   0000              	GLOBAL _dtoh_callee
621   0000              	GLOBAL _dtoh
622   0000              	GLOBAL _dtog_callee
623   0000              	GLOBAL _dtog
624   0000              	GLOBAL _dtoe_callee
625   0000              	GLOBAL _dtoe
626   0000              	GLOBAL _dtoa_callee
627   0000              	GLOBAL _dtoa
628   0000              	GLOBAL _bsearch_callee
629   0000              	GLOBAL _bsearch
630   0000              	GLOBAL _atol_fastcall
631   0000              	GLOBAL _atol
632   0000              	GLOBAL _atoi_fastcall
633   0000              	GLOBAL _atoi
634   0000              	GLOBAL _atof_fastcall
635   0000              	GLOBAL _atof
636   0000              	GLOBAL _atexit_fastcall
637   0000              	GLOBAL _atexit
638   0000              	GLOBAL _at_quick_exit_fastcall
639   0000              	GLOBAL _at_quick_exit
640   0000              	GLOBAL _abs_fastcall
641   0000              	GLOBAL _abs
642   0000              	GLOBAL _abort
643   0000              	GLOBAL __strtou__callee
644   0000              	GLOBAL __strtou_
645   0000              	GLOBAL __strtoi__callee
646   0000              	GLOBAL __strtoi_
647   0000              	GLOBAL __random_uniform_xor_8__fastcall
648   0000              	GLOBAL __random_uniform_xor_8_
649   0000              	GLOBAL __random_uniform_xor_32__fastcall
650   0000              	GLOBAL __random_uniform_xor_32_
651   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
652   0000              	GLOBAL __random_uniform_cmwc_8_
653   0000              	GLOBAL __shellsort__callee
654   0000              	GLOBAL __shellsort_
655   0000              	GLOBAL __quicksort__callee
656   0000              	GLOBAL __quicksort_
657   0000              	GLOBAL __insertion_sort__callee
658   0000              	GLOBAL __insertion_sort_
659   0000              	GLOBAL __ldivu__callee
660   0000              	GLOBAL __ldivu_
661   0000              	GLOBAL __ldiv__callee
662   0000              	GLOBAL __ldiv_
663   0000              	GLOBAL __divu__callee
664   0000              	GLOBAL __divu_
665   0000              	GLOBAL __div__callee
666   0000              	GLOBAL __div_
667   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
668   0000              	GLOBAL _intrinsic_swap_word_32
669   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
670   0000              	GLOBAL _intrinsic_swap_endian_32
671   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
672   0000              	GLOBAL _intrinsic_swap_endian_16
673   0000              	GLOBAL _intrinsic_return_de
674   0000              	GLOBAL _intrinsic_return_bc
675   0000              	GLOBAL _intrinsic_exx
676   0000              	GLOBAL _intrinsic_ex_de_hl
677   0000              	GLOBAL _intrinsic_pop_iy
678   0000              	GLOBAL _intrinsic_pop_ix
679   0000              	GLOBAL _intrinsic_pop_hl
680   0000              	GLOBAL _intrinsic_pop_de
681   0000              	GLOBAL _intrinsic_pop_bc
682   0000              	GLOBAL _intrinsic_pop_af
683   0000              	GLOBAL _intrinsic_push_iy
684   0000              	GLOBAL _intrinsic_push_ix
685   0000              	GLOBAL _intrinsic_push_hl
686   0000              	GLOBAL _intrinsic_push_de
687   0000              	GLOBAL _intrinsic_push_bc
688   0000              	GLOBAL _intrinsic_push_af
689   0000              	GLOBAL _intrinsic_nop
690   0000              	GLOBAL _intrinsic_im_2
691   0000              	GLOBAL _intrinsic_im_1
692   0000              	GLOBAL _intrinsic_im_0
693   0000              	GLOBAL _intrinsic_retn
694   0000              	GLOBAL _intrinsic_reti
695   0000              	GLOBAL _intrinsic_halt
696   0000              	GLOBAL _intrinsic_ei
697   0000              	GLOBAL _intrinsic_di
698   0000              	GLOBAL _intrinsic_stub
699   0000              	GLOBAL _zx_pattern_fill_callee
700   0000              	GLOBAL _zx_pattern_fill
701   0000              	GLOBAL _zx_saddrpup_fastcall
702   0000              	GLOBAL _zx_saddrpup
703   0000              	GLOBAL _zx_saddrpright_callee
704   0000              	GLOBAL _zx_saddrpright
705   0000              	GLOBAL _zx_saddrpleft_callee
706   0000              	GLOBAL _zx_saddrpleft
707   0000              	GLOBAL _zx_saddrpdown_fastcall
708   0000              	GLOBAL _zx_saddrpdown
709   0000              	GLOBAL _zx_saddrcup_fastcall
710   0000              	GLOBAL _zx_saddrcup
711   0000              	GLOBAL _zx_saddrcright_fastcall
712   0000              	GLOBAL _zx_saddrcright
713   0000              	GLOBAL _zx_saddrcleft_fastcall
714   0000              	GLOBAL _zx_saddrcleft
715   0000              	GLOBAL _zx_saddrcdown_fastcall
716   0000              	GLOBAL _zx_saddrcdown
717   0000              	GLOBAL _zx_saddr2py_fastcall
718   0000              	GLOBAL _zx_saddr2py
719   0000              	GLOBAL _zx_saddr2px_fastcall
720   0000              	GLOBAL _zx_saddr2px
721   0000              	GLOBAL _zx_saddr2cy_fastcall
722   0000              	GLOBAL _zx_saddr2cy
723   0000              	GLOBAL _zx_saddr2cx_fastcall
724   0000              	GLOBAL _zx_saddr2cx
725   0000              	GLOBAL _zx_saddr2aaddr_fastcall
726   0000              	GLOBAL _zx_saddr2aaddr
727   0000              	GLOBAL _zx_py2saddr_fastcall
728   0000              	GLOBAL _zx_py2saddr
729   0000              	GLOBAL _zx_py2aaddr_fastcall
730   0000              	GLOBAL _zx_py2aaddr
731   0000              	GLOBAL _zx_pxy2saddr_callee
732   0000              	GLOBAL _zx_pxy2saddr
733   0000              	GLOBAL _zx_pxy2aaddr_callee
734   0000              	GLOBAL _zx_pxy2aaddr
735   0000              	GLOBAL _zx_px2bitmask_fastcall
736   0000              	GLOBAL _zx_px2bitmask
737   0000              	GLOBAL _zx_cyx2saddr_callee
738   0000              	GLOBAL _zx_cyx2saddr
739   0000              	GLOBAL _zx_cyx2aaddr_callee
740   0000              	GLOBAL _zx_cyx2aaddr
741   0000              	GLOBAL _zx_cy2saddr_fastcall
742   0000              	GLOBAL _zx_cy2saddr
743   0000              	GLOBAL _zx_cy2aaddr_fastcall
744   0000              	GLOBAL _zx_cy2aaddr
745   0000              	GLOBAL _zx_bitmask2px_fastcall
746   0000              	GLOBAL _zx_bitmask2px
747   0000              	GLOBAL _zx_aaddrcup_fastcall
748   0000              	GLOBAL _zx_aaddrcup
749   0000              	GLOBAL _zx_aaddrcright_fastcall
750   0000              	GLOBAL _zx_aaddrcright
751   0000              	GLOBAL _zx_aaddrcleft_fastcall
752   0000              	GLOBAL _zx_aaddrcleft
753   0000              	GLOBAL _zx_aaddrcdown_fastcall
754   0000              	GLOBAL _zx_aaddrcdown
755   0000              	GLOBAL _zx_aaddr2saddr_fastcall
756   0000              	GLOBAL _zx_aaddr2saddr
757   0000              	GLOBAL _zx_aaddr2py_fastcall
758   0000              	GLOBAL _zx_aaddr2py
759   0000              	GLOBAL _zx_aaddr2px_fastcall
760   0000              	GLOBAL _zx_aaddr2px
761   0000              	GLOBAL _zx_aaddr2cy_fastcall
762   0000              	GLOBAL _zx_aaddr2cy
763   0000              	GLOBAL _zx_aaddr2cx_fastcall
764   0000              	GLOBAL _zx_aaddr2cx
765   0000              	GLOBAL _zx_scroll_wc_up_callee
766   0000              	GLOBAL _zx_scroll_wc_up
767   0000              	GLOBAL _zx_scroll_up_callee
768   0000              	GLOBAL _zx_scroll_up
769   0000              	GLOBAL _zx_cls_wc_callee
770   0000              	GLOBAL _zx_cls_wc
771   0000              	GLOBAL _zx_cls_fastcall
772   0000              	GLOBAL _zx_cls
773   0000              	GLOBAL _zx_border_fastcall
774   0000              	GLOBAL _zx_border
775   0000              	GLOBAL _ay_effect_20
776   0000              	GLOBAL _ay_effect_19
777   0000              	GLOBAL _ay_effect_18
778   0000              	GLOBAL _ay_effect_17
779   0000              	GLOBAL _ay_effect_16
780   0000              	GLOBAL _ay_effect_15
781   0000              	GLOBAL _ay_effect_14
782   0000              	GLOBAL _ay_effect_13
783   0000              	GLOBAL _ay_effect_12
784   0000              	GLOBAL _ay_effect_11
785   0000              	GLOBAL _ay_effect_10
786   0000              	GLOBAL _ay_effect_09
787   0000              	GLOBAL _ay_effect_08
788   0000              	GLOBAL _ay_effect_07
789   0000              	GLOBAL _ay_effect_06
790   0000              	GLOBAL _ay_effect_05
791   0000              	GLOBAL _ay_effect_04
792   0000              	GLOBAL _ay_effect_03
793   0000              	GLOBAL _ay_effect_02
794   0000              	GLOBAL _ay_effect_01
795   0000              	GLOBAL _pb_midi_phase_1
796   0000              	GLOBAL _pb_midi_title
797   0000              	GLOBAL _joynames
798   0000              	GLOBAL _initials
799   0000              	GLOBAL _hof
800   0000              	GLOBAL _score_osd_tile
801   0000              	GLOBAL _score_osd_time
802   0000              	GLOBAL _score_osd_col
803   0000              	GLOBAL _score_osd_lin
804   0000              	GLOBAL _phase_bonus_total
805   0000              	GLOBAL _phase_angry
806   0000              	GLOBAL _phase_curr
807   0000              	GLOBAL _phase_end
808   0000              	GLOBAL _phase_coins
809   0000              	GLOBAL _phase_pop
810   0000              	GLOBAL _phase_tot
811   0000              	GLOBAL _phase_left
812   0000              	GLOBAL _phase_quota
813   0000              	GLOBAL _phases
814   0000              	GLOBAL _spr_idx
815   0000              	GLOBAL _lvl_1
816   0000              	GLOBAL _sprite_speed_alt
817   0000              	GLOBAL _sprite_speed
818   0000              	GLOBAL _screen_ink
819   0000              	GLOBAL _screen_paper
820   0000              	GLOBAL _game_menu_sel
821   0000              	GLOBAL _game_type
822   0000              	GLOBAL _game_osd
823   0000              	GLOBAL _game_bonus
824   0000              	GLOBAL _spr_water_time
825   0000              	GLOBAL _spr_water_clear
826   0000              	GLOBAL _game_time_fireball_start
827   0000              	GLOBAL _game_time_flipped
828   0000              	GLOBAL _game_score_top
829   0000              	GLOBAL _game_lives
830   0000              	GLOBAL _game_over
831   0000              	GLOBAL _game_sound
832   0000              	GLOBAL _game_inmune
833   0000              	GLOBAL _game_god_mode
834   0000              	GLOBAL _game_start_phase
835   0000              	GLOBAL _game_two_player
836   0000              	GLOBAL _game_brick_tile
837   0000              	GLOBAL _game_pow
838   0000              	GLOBAL _spr_count
839   0000              	GLOBAL _osd_time
840   0000              	GLOBAL _frame_time
841   0000              	GLOBAL _entry_time
842   0000              	GLOBAL _curr_time
843   0000              	GLOBAL _s_state
844   0000              	GLOBAL _attrib_hl
845   0000              	GLOBAL _attrib
846   0000              	GLOBAL _zx_val_asm
847   0000              	GLOBAL _enemies
848   0000              	GLOBAL _tmp_ui
849   0000              	GLOBAL _tmp_sc
850   0000              	GLOBAL _tmp_uc
851   0000              	GLOBAL _tmp1
852   0000              	GLOBAL _tmp0
853   0000              	GLOBAL _tmp
854   0000              	GLOBAL _index_d
855   0000              	GLOBAL _index3
856   0000              	GLOBAL _index2
857   0000              	GLOBAL _index1
858   0000              	GLOBAL _loop_count
859   0000              	GLOBAL _sprite_lin_inc_mul
860   0000              	GLOBAL _s_col1
861   0000              	GLOBAL _s_col0
862   0000              	GLOBAL _s_lin1
863   0000              	GLOBAL _s_lin0
864   0000              	GLOBAL _s_tile1
865   0000              	GLOBAL _s_tile0
866   0000              	GLOBAL _hit_count
867   0000              	GLOBAL _tile_offset_other_player
868   0000              	GLOBAL _tile_offset
869   0000              	GLOBAL _index_player
870   0000              	GLOBAL _sprite_other_player
871   0000              	GLOBAL _sprite
872   0000              	GLOBAL _player_joy
873   0000              	GLOBAL _player_next_extra
874   0000              	GLOBAL _player_score
875   0000              	GLOBAL _last_time
876   0000              	GLOBAL _sliding
877   0000              	GLOBAL _spr_timer_c
878   0000              	GLOBAL _spr_timer
879   0000              	GLOBAL _jump_lin
880   0000              	GLOBAL _player_jump_c
881   0000              	GLOBAL _hit_col
882   0000              	GLOBAL _hit_lin
883   0000              	GLOBAL _colint
884   0000              	GLOBAL _col
885   0000              	GLOBAL _lin
886   0000              	GLOBAL _tile
887   0000              	GLOBAL _state_a
888   0000              	GLOBAL _state
889   0000              	GLOBAL _class
890   0000              	GLOBAL _tbuffer
891   0000              	GLOBAL _dirs
892   0000              	GLOBAL _k2
893   0000              	GLOBAL _k1
894   0000              	GLOBAL _joyfunc2
895   0000              	GLOBAL _joyfunc1
896   0000              	GLOBAL _btiles
897   0000              	GLOBAL _spec128
898   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
899   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
900   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
901   0000              	GLOBAL _NIRVANAP_HOLE
902   0000              	GLOBAL _NIRVANAP_ISR_HOOK
903   0000              	GLOBAL _control_method
904   0000              	GLOBAL _hall_valids
905   0000              ;--------------------------------------------------------
906   0000              ; special function registers
907   0000              ;--------------------------------------------------------
908   0000              ;--------------------------------------------------------
909   0000              ; ram data
910   0000              ;--------------------------------------------------------
911   0000              	SECTION bss_compiler
912   0000              ;--------------------------------------------------------
913   0000              ; ram data
914   0000              ;--------------------------------------------------------
915   0000              
916   0000              IF 0
917   0000              
918   0000              ; .area _INITIALIZED removed by z88dk
919   0000              
920   0000              
921   0000              ENDIF
922   0000              
923   0000              ;--------------------------------------------------------
924   0000              ; absolute external ram data
925   0000              ;--------------------------------------------------------
926   0000              	SECTION IGNORE
927   0000              ;--------------------------------------------------------
928   0000              ; global & static initialisations
929   0000              ;--------------------------------------------------------
930   0000              	SECTION code_crt_init
931   0000              ;--------------------------------------------------------
932   0000              ; Home
933   0000              ;--------------------------------------------------------
934   0000              	SECTION IGNORE
935   0000              ;--------------------------------------------------------
936   0000              ; code
937   0000              ;--------------------------------------------------------
938   0000              	SECTION code_compiler
939   0000              ;	---------------------------------
940   0000              ; Function game_calc_index
941   0000              ; ---------------------------------
942   0000              _game_calc_index:
943   0000  CD 00 00    	call	___sdcc_enter_ix
944   0003  DD 4E 05    	ld	c,(ix+5)
945   0006  06 00       	ld	b,0x00
946   0008  DD 7E 04    	ld	a,(ix+4)
947   000B  0F          	rrca
948   000C  0F          	rrca
949   000D  0F          	rrca
950   000E  E6 1F       	and	a,0x1f
951   0010  6F          	ld	l,a
952   0011  26 00       	ld	h,0x00
953   0013  29          	add	hl, hl
954   0014  29          	add	hl, hl
955   0015  29          	add	hl, hl
956   0016  29          	add	hl, hl
957   0017  29          	add	hl, hl
958   0018  09          	add	hl,bc
959   0019  DD E1       	pop	ix
960   001B  C9          	ret
961   001C              	SECTION code_compiler
962   001C              ;	---------------------------------
963   001C              ; Function game_print_footer
964   001C              ; ---------------------------------
965   001C              _game_print_footer:
966   001C  21 00 00    	ld	hl,___str_0
967   001F  E5          	push	hl
968   0020  21 16 01    	ld	hl,0x0116
969   0023  E5          	push	hl
970   0024  CD 00 00    	call	_zx_print_str
971   0027  21 00 00    	ld	hl,___str_0
972   002A  E5          	push	hl
973   002B  21 16 1E    	ld	hl,0x1e16
974   002E  E5          	push	hl
975   002F  CD 00 00    	call	_zx_print_str
976   0032  21 02 00    	ld	hl,___str_1
977   0035  E5          	push	hl
978   0036  21 17 01    	ld	hl,0x0117
979   0039  E5          	push	hl
980   003A  CD 00 00    	call	_zx_print_str
981   003D  21 02 00    	ld	hl,___str_1
982   0040  E5          	push	hl
983   0041  21 17 1E    	ld	hl,0x1e17
984   0044  E5          	push	hl
985   0045  CD 00 00    	call	_zx_print_str
986   0048  3A 00 00    	ld	a,(_game_lives)
987   004B  B7          	or	a, a
988   004C  28 20       	jr	Z,l_game_print_footer_00102
989   004E  21 00 00    	ld	hl,_screen_ink
990   0051  36 02       	ld	(hl),0x02
991   0053  21 08 00    	ld	hl,___str_2
992   0056  E5          	push	hl
993   0057  21 16 01    	ld	hl,0x0116
994   005A  E5          	push	hl
995   005B  CD 00 00    	call	_zx_print_str
996   005E  21 00 00    	ld	hl,_screen_ink
997   0061  36 06       	ld	(hl),0x06
998   0063  21 0A 00    	ld	hl,___str_3
999   0066  E5          	push	hl
1000  0067  21 17 01    	ld	hl,0x0117
1001  006A  E5          	push	hl
1002  006B  CD 00 00    	call	_zx_print_str
1003  006E              l_game_print_footer_00102:
1004  006E  3A 01 00    	ld	a, (_game_lives + 1)
1005  0071  B7          	or	a, a
1006  0072  28 20       	jr	Z,l_game_print_footer_00104
1007  0074  21 00 00    	ld	hl,_screen_ink
1008  0077  36 07       	ld	(hl),0x07
1009  0079  21 0C 00    	ld	hl,___str_4
1010  007C  E5          	push	hl
1011  007D  21 16 1E    	ld	hl,0x1e16
1012  0080  E5          	push	hl
1013  0081  CD 00 00    	call	_zx_print_str
1014  0084  21 00 00    	ld	hl,_screen_ink
1015  0087  36 06       	ld	(hl),0x06
1016  0089  21 0E 00    	ld	hl,___str_5
1017  008C  E5          	push	hl
1018  008D  21 17 1E    	ld	hl,0x1e17
1019  0090  E5          	push	hl
1020  0091  CD 00 00    	call	_zx_print_str
1021  0094              l_game_print_footer_00104:
1022  0094  CD E7 00    	call	_game_print_lives
1023  0097  21 10 00    	ld	hl,___str_6
1024  009A  E5          	push	hl
1025  009B  21 17 0B    	ld	hl,0x0b17
1026  009E  E5          	push	hl
1027  009F  CD 00 00    	call	_zx_print_str
1028  00A2  21 00 00    	ld	hl,_phase_curr
1029  00A5  46          	ld	b,(hl)
1030  00A6  04          	inc	b
1031  00A7  C5          	push	bc
1032  00A8  33          	inc	sp
1033  00A9  21 17 12    	ld	hl,0x1217
1034  00AC  E5          	push	hl
1035  00AD  CD 00 00    	call	_zx_print_chr
1036  00B0  C9          	ret
1037  00B1              	SECTION rodata_compiler
1038  0000              ___str_0:
1039  0000  20          	DEFM " "
1040  0001  00          	DEFB 0x00
1041  0002              	SECTION rodata_compiler
1042  0002              ___str_1:
1043  0002  20 20 20 20 20 
                        	DEFM "     "
1044  0007  00          	DEFB 0x00
1045  0008              	SECTION rodata_compiler
1046  0008              ___str_2:
1047  0008  3C          	DEFM "<"
1048  0009  00          	DEFB 0x00
1049  000A              	SECTION rodata_compiler
1050  000A              ___str_3:
1051  000A  5C          	DEFB 0x5c
1052  000B  00          	DEFB 0x00
1053  000C              	SECTION rodata_compiler
1054  000C              ___str_4:
1055  000C  3E          	DEFM ">"
1056  000D  00          	DEFB 0x00
1057  000E              	SECTION rodata_compiler
1058  000E              ___str_5:
1059  000E  5E          	DEFM "^"
1060  000F  00          	DEFB 0x00
1061  0010              	SECTION rodata_compiler
1062  0010              ___str_6:
1063  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1064  0015  00          	DEFB 0x00
1065  0016              	SECTION code_compiler
1066  00B1              ;	---------------------------------
1067  00B1              ; Function game_phase_print_score_back
1068  00B1              ; ---------------------------------
1069  00B1              _game_phase_print_score_back:
1070  00B1  21 00 00    	ld	hl,_screen_ink
1071  00B4  36 02       	ld	(hl),0x02
1072  00B6  21 16 00    	ld	hl,___str_7
1073  00B9  E5          	push	hl
1074  00BA  21 00 0B    	ld	hl,0x0b00
1075  00BD  E5          	push	hl
1076  00BE  CD 00 00    	call	_zx_print_str
1077  00C1  21 00 00    	ld	hl,_screen_ink
1078  00C4  36 01       	ld	(hl),0x01
1079  00C6  21 1A 00    	ld	hl,___str_8
1080  00C9  E5          	push	hl
1081  00CA  21 00 01    	ld	hl,0x0100
1082  00CD  E5          	push	hl
1083  00CE  CD 00 00    	call	_zx_print_str
1084  00D1  3A 00 00    	ld	a,(_game_two_player)
1085  00D4  B7          	or	a, a
1086  00D5  C8          	ret	Z
1087  00D6  21 00 00    	ld	hl,_screen_ink
1088  00D9  36 04       	ld	(hl),0x04
1089  00DB  21 1D 00    	ld	hl,___str_9
1090  00DE  E5          	push	hl
1091  00DF  21 00 16    	ld	hl,0x1600
1092  00E2  E5          	push	hl
1093  00E3  CD 00 00    	call	_zx_print_str
1094  00E6  C9          	ret
1095  00E7              	SECTION rodata_compiler
1096  0016              ___str_7:
1097  0016  24 25 7C    	DEFM "$%|"
1098  0019  00          	DEFB 0x00
1099  001A              	SECTION rodata_compiler
1100  001A              ___str_8:
1101  001A  5B 7C       	DEFM "[|"
1102  001C  00          	DEFB 0x00
1103  001D              	SECTION rodata_compiler
1104  001D              ___str_9:
1105  001D  5D 7C       	DEFM "]|"
1106  001F  00          	DEFB 0x00
1107  0020              	SECTION code_compiler
1108  00E7              ;	---------------------------------
1109  00E7              ; Function game_print_lives
1110  00E7              ; ---------------------------------
1111  00E7              _game_print_lives:
1112  00E7  21 00 00    	ld	hl,_screen_ink
1113  00EA  36 07       	ld	(hl),0x07
1114  00EC  3A 00 00    	ld	a,(_game_lives)
1115  00EF  C6 FF       	add	a,0xff
1116  00F1  21 00 00    	ld	hl,_tmp
1117  00F4  77          	ld	(hl),a
1118  00F5  D6 FF       	sub	a,0xff
1119  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1120  00F9  7E          	ld	a,(hl)
1121  00FA  F5          	push	af
1122  00FB  33          	inc	sp
1123  00FC  21 17 03    	ld	hl,0x0317
1124  00FF  E5          	push	hl
1125  0100  CD 00 00    	call	_zx_print_chr
1126  0103              l_game_print_lives_00102:
1127  0103  3A 01 00    	ld	a, (_game_lives + 1)
1128  0106  C6 FF       	add	a,0xff
1129  0108  21 00 00    	ld	hl,_tmp
1130  010B  77          	ld	(hl),a
1131  010C  D6 FF       	sub	a,0xff
1132  010E  D0          	ret	NC
1133  010F  7E          	ld	a,(hl)
1134  0110  F5          	push	af
1135  0111  33          	inc	sp
1136  0112  21 17 1A    	ld	hl,0x1a17
1137  0115  E5          	push	hl
1138  0116  CD 00 00    	call	_zx_print_chr
1139  0119  C9          	ret
1140  011A              	SECTION code_compiler
1141  011A              ;	---------------------------------
1142  011A              ; Function game_tick
1143  011A              ; ---------------------------------
1144  011A              _game_tick:
1145  011A  21 00 00    	ld	hl,_curr_time
1146  011D  34          	inc	(hl)
1147  011E  C2 00 00    	jp	NZ,_zx_isr
1148  0121  23          	inc	hl
1149  0122  34          	inc	(hl)
1150  0123  C3 00 00    	jp  _zx_isr
1151  0126              	SECTION code_compiler
1152  0126              ;	---------------------------------
1153  0126              ; Function game_start_timer
1154  0126              ; ---------------------------------
1155  0126              _game_start_timer:
1156  0126  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1157  0129  3E CD       	ld	a,0xcd
1158  012B  02          	ld	(bc),a
1159  012C  03          	inc	bc
1160  012D  11 1A 01    	ld	de,_game_tick
1161  0130  7B          	ld	a,e
1162  0131  02          	ld	(bc),a
1163  0132  03          	inc	bc
1164  0133  7A          	ld	a,d
1165  0134  02          	ld	(bc),a
1166  0135  C9          	ret
1167  0136              	SECTION code_compiler
1168  0136              ;	---------------------------------
1169  0136              ; Function game_phase_calc
1170  0136              ; ---------------------------------
1171  0136              _game_phase_calc:
1172  0136  3A 00 00    	ld	a,(_phase_curr)
1173  0139  87          	add	a, a
1174  013A  87          	add	a, a
1175  013B  21 00 00    	ld	hl,_tmp_uc
1176  013E  77          	ld	(hl),a
1177  013F  01 00 00    	ld	bc,_phases+0
1178  0142  5E          	ld	e,(hl)
1179  0143  16 00       	ld	d,0x00
1180  0145  69          	ld	l, c
1181  0146  60          	ld	h, b
1182  0147  19          	add	hl,de
1183  0148  7E          	ld	a,(hl)
1184  0149  32 00 00    	ld	(_phase_quota),a
1185  014C  2A 00 00    	ld	hl,(_tmp_uc)
1186  014F  26 00       	ld	h,0x00
1187  0151  23          	inc	hl
1188  0152  09          	add	hl,bc
1189  0153  7E          	ld	a,(hl)
1190  0154  32 01 00    	ld	((_phase_quota + 0x0001)),a
1191  0157  2A 00 00    	ld	hl,(_tmp_uc)
1192  015A  26 00       	ld	h,0x00
1193  015C  23          	inc	hl
1194  015D  23          	inc	hl
1195  015E  09          	add	hl,bc
1196  015F  7E          	ld	a,(hl)
1197  0160  32 02 00    	ld	((_phase_quota + 0x0002)),a
1198  0163  2A 00 00    	ld	hl,(_tmp_uc)
1199  0166  26 00       	ld	h,0x00
1200  0168  23          	inc	hl
1201  0169  23          	inc	hl
1202  016A  23          	inc	hl
1203  016B  09          	add	hl,bc
1204  016C  7E          	ld	a,(hl)
1205  016D  32 00 00    	ld	(_game_brick_tile),a
1206  0170  21 00 00    	ld	hl,_game_brick_tile
1207  0173  4E          	ld	c,(hl)
1208  0174  06 00       	ld	b,0x00
1209  0176  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1210  017A  7E          	ld	a,(hl)
1211  017B  D6 8B       	sub	a,0x8b
1212  017D  20 05       	jr	NZ,l_game_phase_calc_00102
1213  017F  CD 65 0C    	call	_game_freeze_all
1214  0182  18 03       	jr	l_game_phase_calc_00103
1215  0184              l_game_phase_calc_00102:
1216  0184  CD 3C 0C    	call	_game_unfreeze_all
1217  0187              l_game_phase_calc_00103:
1218  0187  21 00 00    	ld	hl,_phase_quota
1219  018A  4E          	ld	c,(hl)
1220  018B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1221  018E  46          	ld	b,(hl)
1222  018F  79          	ld	a,c
1223  0190  80          	add	a, b
1224  0191  4F          	ld	c,a
1225  0192  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1226  0195  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1227  0197  09          	add	hl, bc
1228  0198  C9          	ret
1229  0199              	SECTION code_compiler
1230  0199              ;	---------------------------------
1231  0199              ; Function game_phase_init
1232  0199              ; ---------------------------------
1233  0199              _game_phase_init:
1234  0199  21 00 00    	ld	hl,0x0000
1235  019C  22 00 00    	ld	(_loop_count),hl
1236  019F  21 00 00    	ld	hl,_phase_end
1237  01A2  36 00       	ld	(hl),0x00
1238  01A4  21 00 00    	ld	hl,_phase_angry
1239  01A7  36 00       	ld	(hl),0x00
1240  01A9  21 00 00    	ld	hl,_phase_coins
1241  01AC  36 00       	ld	(hl),0x00
1242  01AE  21 00 00    	ld	hl,_phase_pop
1243  01B1  36 00       	ld	(hl),0x00
1244  01B3  21 00 00    	ld	hl,_game_bonus
1245  01B6  36 00       	ld	(hl),0x00
1246  01B8  21 00 00    	ld	hl,0x0000
1247  01BB  22 00 00    	ld	(_entry_time),hl
1248  01BE  21 00 00    	ld	hl,0
1249  01C1  22 00 00    	ld	(_curr_time),hl
1250  01C4  21 00 00    	ld	hl,0x0000
1251  01C7  22 00 00    	ld	(_frame_time),hl
1252  01CA  21 FF FF    	ld	hl,0xffff
1253  01CD  22 00 00    	ld	(_score_osd_col),hl
1254  01D0  21 00 00    	ld	hl,_spr_count
1255  01D3  36 00       	ld	(hl),0x00
1256  01D5  3A 00 00    	ld	a,(_game_type)
1257  01D8  D6 02       	sub	a,0x02
1258  01DA  CA 66 02    	jp	Z,l_game_phase_init_00104
1259  01DD  CD 36 01    	call	_game_phase_calc
1260  01E0  7D          	ld	a,l
1261  01E1  32 00 00    	ld	(_phase_left),a
1262  01E4  32 00 00    	ld	(_phase_tot),a
1263  01E7  21 00 00    	ld	hl,_phase_left
1264  01EA  7E          	ld	a,(hl)
1265  01EB  B7          	or	a, a
1266  01EC  C2 7E 02    	jp	NZ,l_game_phase_init_00105
1267  01EF  01 00 00    	ld	bc,_phase_bonus_total+0
1268  01F2  AF          	xor	a, a
1269  01F3  02          	ld	(bc),a
1270  01F4  03          	inc	bc
1271  01F5  AF          	xor	a, a
1272  01F6  02          	ld	(bc),a
1273  01F7  36 06       	ld	(hl),0x06
1274  01F9  21 00 00    	ld	hl,_game_bonus
1275  01FC  36 01       	ld	(hl),0x01
1276  01FE  21 0C 00    	ld	hl,0x000c
1277  0201  E5          	push	hl
1278  0202  21 90 08    	ld	hl,0x0890
1279  0205  E5          	push	hl
1280  0206  AF          	xor	a, a
1281  0207  F5          	push	af
1282  0208  33          	inc	sp
1283  0209  CD 00 00    	call	_enemy_init
1284  020C  F1          	pop	af
1285  020D  33          	inc	sp
1286  020E  21 0C 00    	ld	hl,0x000c
1287  0211  E3          	ex	(sp),hl
1288  0212  21 90 16    	ld	hl,0x1690
1289  0215  E5          	push	hl
1290  0216  3E 01       	ld	a,0x01
1291  0218  F5          	push	af
1292  0219  33          	inc	sp
1293  021A  CD 00 00    	call	_enemy_init
1294  021D  F1          	pop	af
1295  021E  33          	inc	sp
1296  021F  21 0C 00    	ld	hl,0x000c
1297  0222  E3          	ex	(sp),hl
1298  0223  21 50 06    	ld	hl,0x0650
1299  0226  E5          	push	hl
1300  0227  3E 02       	ld	a,0x02
1301  0229  F5          	push	af
1302  022A  33          	inc	sp
1303  022B  CD 00 00    	call	_enemy_init
1304  022E  F1          	pop	af
1305  022F  33          	inc	sp
1306  0230  21 0C 00    	ld	hl,0x000c
1307  0233  E3          	ex	(sp),hl
1308  0234  21 50 18    	ld	hl,0x1850
1309  0237  E5          	push	hl
1310  0238  3E 03       	ld	a,0x03
1311  023A  F5          	push	af
1312  023B  33          	inc	sp
1313  023C  CD 00 00    	call	_enemy_init
1314  023F  F1          	pop	af
1315  0240  33          	inc	sp
1316  0241  21 0C 00    	ld	hl,0x000c
1317  0244  E3          	ex	(sp),hl
1318  0245  21 10 05    	ld	hl,0x0510
1319  0248  E5          	push	hl
1320  0249  3E 04       	ld	a,0x04
1321  024B  F5          	push	af
1322  024C  33          	inc	sp
1323  024D  CD 00 00    	call	_enemy_init
1324  0250  F1          	pop	af
1325  0251  33          	inc	sp
1326  0252  21 0C 00    	ld	hl,0x000c
1327  0255  E3          	ex	(sp),hl
1328  0256  21 10 19    	ld	hl,0x1910
1329  0259  E5          	push	hl
1330  025A  3E 05       	ld	a,0x05
1331  025C  F5          	push	af
1332  025D  33          	inc	sp
1333  025E  CD 00 00    	call	_enemy_init
1334  0261  F1          	pop	af
1335  0262  F1          	pop	af
1336  0263  33          	inc	sp
1337  0264  18 18       	jr	l_game_phase_init_00105
1338  0266              l_game_phase_init_00104:
1339  0266  21 00 00    	ld	hl,_phase_left
1340  0269  36 FF       	ld	(hl),0xff
1341  026B  21 00 00    	ld	hl,_phase_curr
1342  026E  36 FF       	ld	(hl),0xff
1343  0270  CD 3C 0C    	call	_game_unfreeze_all
1344  0273  21 00 00    	ld	hl,_game_brick_tile
1345  0276  36 84       	ld	(hl),0x84
1346  0278  21 84 00    	ld	hl,0x0084
1347  027B  22 24 00    	ld	(_spr_idx + 0x0024),hl
1348  027E              l_game_phase_init_00105:
1349  027E  CD 00 00    	call	_ay_reset
1350  0281  3A 00 00    	ld	a,(_game_bonus)
1351  0284  B7          	or	a, a
1352  0285  20 06       	jr	NZ,l_game_phase_init_00107
1353  0287  21 00 00    	ld	hl,_pb_midi_phase_1
1354  028A  CD 00 00    	call	_ay_midi_play
1355  028D              l_game_phase_init_00107:
1356  028D  CD 00 00    	call	_spr_draw_clear
1357  0290  CD 00 00    	call	_spr_draw_back
1358  0293  CD CB 02    	call	_game_print_header
1359  0296  CD 1C 00    	call	_game_print_footer
1360  0299  3A 00 00    	ld	a,(_game_lives)
1361  029C  B7          	or	a, a
1362  029D  28 0D       	jr	Z,l_game_phase_init_00109
1363  029F  21 0A 03    	ld	hl,0x030a
1364  02A2  E5          	push	hl
1365  02A3  21 07 98    	ld	hl,0x9807
1366  02A6  E5          	push	hl
1367  02A7  CD 00 00    	call	_player_init
1368  02AA  F1          	pop	af
1369  02AB  F1          	pop	af
1370  02AC              l_game_phase_init_00109:
1371  02AC  3A 01 00    	ld	a, (_game_lives + 1)
1372  02AF  B7          	or	a, a
1373  02B0  28 0D       	jr	Z,l_game_phase_init_00111
1374  02B2  21 14 27    	ld	hl,0x2714
1375  02B5  E5          	push	hl
1376  02B6  21 06 98    	ld	hl,0x9806
1377  02B9  E5          	push	hl
1378  02BA  CD 00 00    	call	_player_init
1379  02BD  F1          	pop	af
1380  02BE  F1          	pop	af
1381  02BF              l_game_phase_init_00111:
1382  02BF  21 00 00    	ld	hl,_game_osd
1383  02C2  36 01       	ld	(hl),0x01
1384  02C4  2A 00 00    	ld	hl,(_curr_time)
1385  02C7  22 00 00    	ld	(_osd_time),hl
1386  02CA  C9          	ret
1387  02CB              	SECTION code_compiler
1388  02CB              ;	---------------------------------
1389  02CB              ; Function game_print_header
1390  02CB              ; ---------------------------------
1391  02CB              _game_print_header:
1392  02CB  CD B1 00    	call	_game_phase_print_score_back
1393  02CE  21 00 00    	ld	hl,_screen_ink
1394  02D1  36 07       	ld	(hl),0x07
1395  02D3  C3 8E 0C    	jp  _game_print_score
1396  02D6              	SECTION code_compiler
1397  02D6              ;	---------------------------------
1398  02D6              ; Function game_phase_print
1399  02D6              ; ---------------------------------
1400  02D6              _game_phase_print:
1401  02D6  45          	ld	b,l
1402  02D7  C5          	push	bc
1403  02D8  21 20 00    	ld	hl,___str_10
1404  02DB  E5          	push	hl
1405  02DC  3E 0B       	ld	a,0x0b
1406  02DE  48          	ld	c,b
1407  02DF  47          	ld	b,a
1408  02E0  C5          	push	bc
1409  02E1  CD 00 00    	call	_zx_print_str
1410  02E4  C1          	pop	bc
1411  02E5  3A 00 00    	ld	a,(_phase_curr)
1412  02E8  D6 1F       	sub	a,0x1f
1413  02EA  30 3F       	jr	NC,l_game_phase_print_00108
1414  02EC  3A 00 00    	ld	a,(_game_bonus)
1415  02EF  B7          	or	a, a
1416  02F0  20 2B       	jr	NZ,l_game_phase_print_00102
1417  02F2  C5          	push	bc
1418  02F3  21 26 00    	ld	hl,___str_11
1419  02F6  E5          	push	hl
1420  02F7  3E 10       	ld	a,0x10
1421  02F9  48          	ld	c,b
1422  02FA  47          	ld	b,a
1423  02FB  C5          	push	bc
1424  02FC  CD 00 00    	call	_zx_print_str
1425  02FF  C1          	pop	bc
1426  0300  21 00 00    	ld	hl,_phase_curr
1427  0303  56          	ld	d,(hl)
1428  0304  14          	inc	d
1429  0305  C5          	push	bc
1430  0306  1E 12       	ld	e,0x12
1431  0308  D5          	push	de
1432  0309  C5          	push	bc
1433  030A  33          	inc	sp
1434  030B  CD 00 00    	call	_zx_print_chr
1435  030E  C1          	pop	bc
1436  030F  21 26 00    	ld	hl,___str_11
1437  0312  E5          	push	hl
1438  0313  3E 15       	ld	a,0x15
1439  0315  48          	ld	c,b
1440  0316  47          	ld	b,a
1441  0317  C5          	push	bc
1442  0318  CD 00 00    	call	_zx_print_str
1443  031B  18 2F       	jr	l_game_phase_print_00110
1444  031D              l_game_phase_print_00102:
1445  031D  21 29 00    	ld	hl,___str_12
1446  0320  E5          	push	hl
1447  0321  3E 11       	ld	a,0x11
1448  0323  48          	ld	c,b
1449  0324  47          	ld	b,a
1450  0325  C5          	push	bc
1451  0326  CD 00 00    	call	_zx_print_str
1452  0329  18 21       	jr	l_game_phase_print_00110
1453  032B              l_game_phase_print_00108:
1454  032B  3A 00 00    	ld	a,(_game_type)
1455  032E  D6 02       	sub	a,0x02
1456  0330  28 0E       	jr	Z,l_game_phase_print_00105
1457  0332  21 30 00    	ld	hl,___str_13
1458  0335  E5          	push	hl
1459  0336  3E 11       	ld	a,0x11
1460  0338  48          	ld	c,b
1461  0339  47          	ld	b,a
1462  033A  C5          	push	bc
1463  033B  CD 00 00    	call	_zx_print_str
1464  033E  18 0C       	jr	l_game_phase_print_00110
1465  0340              l_game_phase_print_00105:
1466  0340  21 37 00    	ld	hl,___str_14
1467  0343  E5          	push	hl
1468  0344  3E 11       	ld	a,0x11
1469  0346  48          	ld	c,b
1470  0347  47          	ld	b,a
1471  0348  C5          	push	bc
1472  0349  CD 00 00    	call	_zx_print_str
1473  034C              l_game_phase_print_00110:
1474  034C  C9          	ret
1475  034D              	SECTION rodata_compiler
1476  0020              ___str_10:
1477  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1478  0025  00          	DEFB 0x00
1479  0026              	SECTION rodata_compiler
1480  0026              ___str_11:
1481  0026  20 20       	DEFM "  "
1482  0028  00          	DEFB 0x00
1483  0029              	SECTION rodata_compiler
1484  0029              ___str_12:
1485  0029  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1486  002F  00          	DEFB 0x00
1487  0030              	SECTION rodata_compiler
1488  0030              ___str_13:
1489  0030  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1490  0036  00          	DEFB 0x00
1491  0037              	SECTION rodata_compiler
1492  0037              ___str_14:
1493  0037  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1494  003D  00          	DEFB 0x00
1495  003E              	SECTION code_compiler
1496  034D              ;	---------------------------------
1497  034D              ; Function game_loop
1498  034D              ; ---------------------------------
1499  034D              _game_loop:
1500  034D  21 3E 00    	ld	hl,___str_15
1501  0350  E5          	push	hl
1502  0351  21 16 07    	ld	hl,0x0716
1503  0354  E5          	push	hl
1504  0355  CD 00 00    	call	_zx_print_str
1505  0358  21 51 00    	ld	hl,___str_16
1506  035B  E5          	push	hl
1507  035C  21 17 07    	ld	hl,0x0717
1508  035F  E5          	push	hl
1509  0360  CD 00 00    	call	_zx_print_str
1510  0363  21 00 00    	ld	hl,_ay_effect_10
1511  0366  CD 00 00    	call	_ay_fx_play
1512  0369  CD 00 00    	call	_sound_coin
1513  036C  21 C8 00    	ld	hl,0x00c8
1514  036F  CD 00 00    	call	_z80_delay_ms_fastcall
1515  0372  21 64 00    	ld	hl,___str_17
1516  0375  E5          	push	hl
1517  0376  21 16 07    	ld	hl,0x0716
1518  0379  E5          	push	hl
1519  037A  CD 00 00    	call	_zx_print_str
1520  037D  CD 00 00    	call	_ay_reset
1521  0380  21 11 11    	ld	hl,0x1111
1522  0383  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1523  0386  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1524  0389  01 00 00    	ld	bc,_game_lives+0
1525  038C  3E 04       	ld	a,0x04
1526  038E  02          	ld	(bc),a
1527  038F  03          	inc	bc
1528  0390  3A 00 00    	ld	a,(_game_two_player)
1529  0393  B7          	or	a,a
1530  0394  28 05       	jr	Z,l_game_loop_00102
1531  0396  3E 04       	ld	a,0x04
1532  0398  02          	ld	(bc),a
1533  0399  18 02       	jr	l_game_loop_00103
1534  039B              l_game_loop_00102:
1535  039B  AF          	xor	a, a
1536  039C  02          	ld	(bc),a
1537  039D              l_game_loop_00103:
1538  039D  21 00 00    	ld	hl,0x0000
1539  03A0  22 00 00    	ld	(_player_score), hl
1540  03A3  2E 00       	ld	l,0x00
1541  03A5  22 02 00    	ld	(_player_score + 0x0002),hl
1542  03A8  21 D0 07    	ld	hl,0x07d0
1543  03AB  22 00 00    	ld	(_player_next_extra), hl
1544  03AE  2E D0       	ld	l,0xd0
1545  03B0  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1546  03B3  21 00 00    	ld	hl,_spr_water_clear
1547  03B6  36 FF       	ld	(hl),0xff
1548  03B8  3A 00 00    	ld	a,(_game_type)
1549  03BB  B7          	or	a, a
1550  03BC  20 0E       	jr	NZ,l_game_loop_00105
1551  03BE  21 F4 01    	ld	hl,0x01f4
1552  03C1  22 00 00    	ld	(_game_time_flipped),hl
1553  03C4  21 D0 07    	ld	hl,0x07d0
1554  03C7  22 00 00    	ld	(_game_time_fireball_start),hl
1555  03CA  18 0C       	jr	l_game_loop_00106
1556  03CC              l_game_loop_00105:
1557  03CC  21 FA 00    	ld	hl,0x00fa
1558  03CF  22 00 00    	ld	(_game_time_flipped),hl
1559  03D2  21 F4 01    	ld	hl,0x01f4
1560  03D5  22 00 00    	ld	(_game_time_fireball_start),hl
1561  03D8              l_game_loop_00106:
1562  03D8  21 00 00    	ld	hl,_game_over
1563  03DB  36 00       	ld	(hl),0x00
1564  03DD  21 00 00    	ld	hl,_game_pow
1565  03E0  36 03       	ld	(hl),0x03
1566  03E2  3A 00 00    	ld	a,(_game_start_phase)
1567  03E5  32 00 00    	ld	(_phase_curr),a
1568  03E8  CD 99 01    	call	_game_phase_init
1569  03EB  21 00 00    	ld	hl,_sprite_lin_inc_mul
1570  03EE  36 00       	ld	(hl),0x00
1571  03F0  21 00 00    	ld	hl,_dirs
1572  03F3  36 00       	ld	(hl),0x00
1573  03F5  CD 30 0F    	call	_game_joystick_set
1574  03F8              l_game_loop_00132:
1575  03F8  3A 00 00    	ld	a,(_game_over)
1576  03FB  B7          	or	a, a
1577  03FC  C2 E4 04    	jp	NZ,l_game_loop_00134
1578  03FF  CD 00 00    	call	_player_set1
1579  0402  CD 00 00    	call	_player_turn
1580  0405  CD 00 00    	call	_player_set2
1581  0408  CD 00 00    	call	_player_turn
1582  040B  CD 00 00    	call	_enemy_turn
1583  040E  3A 00 00    	ld	a,(_game_bonus)
1584  0411  B7          	or	a, a
1585  0412  28 16       	jr	Z,l_game_loop_00111
1586  0414  CD 7A 06    	call	_game_bonus_clock
1587  0417  3A 00 00    	ld	a,(_phase_left)
1588  041A  B7          	or	a, a
1589  041B  28 0D       	jr	Z,l_game_loop_00111
1590  041D  CD 00 00    	call	_ay_is_playing
1591  0420  7D          	ld	a,l
1592  0421  B7          	or	a, a
1593  0422  20 06       	jr	NZ,l_game_loop_00111
1594  0424  21 00 00    	ld	hl,_ay_effect_19
1595  0427  CD 00 00    	call	_ay_fx_play
1596  042A              l_game_loop_00111:
1597  042A  3A 00 00    	ld	a,(_game_osd)
1598  042D  B7          	or	a, a
1599  042E  28 45       	jr	Z,l_game_loop_00117
1600  0430  21 05 00    	ld	hl,0x0005
1601  0433  E5          	push	hl
1602  0434  2A 00 00    	ld	hl,(_osd_time)
1603  0437  E5          	push	hl
1604  0438  CD F2 19    	call	_game_check_time
1605  043B  F1          	pop	af
1606  043C  F1          	pop	af
1607  043D  7D          	ld	a,l
1608  043E  B7          	or	a, a
1609  043F  28 1B       	jr	Z,l_game_loop_00113
1610  0441  2A 00 00    	ld	hl,(_curr_time)
1611  0444  22 00 00    	ld	(_osd_time),hl
1612  0447  2E 0C       	ld	l,0x0c
1613  0449  CD D6 02    	call	_game_phase_print
1614  044C  21 17 68    	ld	hl,0x6817
1615  044F  E5          	push	hl
1616  0450  3E 0B       	ld	a,0x0b
1617  0452  F5          	push	af
1618  0453  33          	inc	sp
1619  0454  CD 0A 0D    	call	_game_paint_attrib_lin_h
1620  0457  F1          	pop	af
1621  0458  33          	inc	sp
1622  0459  CD 44 19    	call	_game_rotate_attrib
1623  045C              l_game_loop_00113:
1624  045C  21 00 00    	ld	hl,_loop_count
1625  045F  7E          	ld	a,(hl)
1626  0460  D6 90       	sub	a,0x90
1627  0462  20 11       	jr	NZ,l_game_loop_00117
1628  0464  23          	inc	hl
1629  0465  7E          	ld	a,(hl)
1630  0466  3D          	dec	a
1631  0467  20 0C       	jr	NZ,l_game_loop_00117
1632  0469  21 0C 20    	ld	hl,0x200c
1633  046C  E5          	push	hl
1634  046D  CD 00 00    	call	_game_fill_row
1635  0470  21 00 00    	ld	hl,_game_osd
1636  0473  36 00       	ld	(hl),0x00
1637  0475              l_game_loop_00117:
1638  0475  CD 00 00    	call	_spr_water_splash_clear
1639  0478  21 64 00    	ld	hl,0x0064
1640  047B  E5          	push	hl
1641  047C  2A 00 00    	ld	hl,(_frame_time)
1642  047F  E5          	push	hl
1643  0480  CD F2 19    	call	_game_check_time
1644  0483  F1          	pop	af
1645  0484  F1          	pop	af
1646  0485  7D          	ld	a,l
1647  0486  B7          	or	a, a
1648  0487  28 4F       	jr	Z,l_game_loop_00131
1649  0489  2A 00 00    	ld	hl,(_curr_time)
1650  048C  22 00 00    	ld	(_frame_time),hl
1651  048F  3A 00 00    	ld	a,(_game_bonus)
1652  0492  B7          	or	a,a
1653  0493  20 03       	jr	NZ,l_game_loop_00119
1654  0495  CD DA 08    	call	_game_enemy_add
1655  0498              l_game_loop_00119:
1656  0498  3A 00 00    	ld	a,(_phase_end)
1657  049B  3D          	dec	a
1658  049C  20 3A       	jr	NZ,l_game_loop_00131
1659  049E  3A 00 00    	ld	a,(_game_type)
1660  04A1  D6 02       	sub	a,0x02
1661  04A3  28 33       	jr	Z,l_game_loop_00131
1662  04A5  CD 00 00    	call	_ay_is_playing
1663  04A8  7D          	ld	a, l
1664  04A9  D6 02       	sub	a,0x02
1665  04AB  30 03       	jr	NC,l_game_loop_00121
1666  04AD  CD 00 00    	call	_ay_reset
1667  04B0              l_game_loop_00121:
1668  04B0  CD A8 08    	call	_game_kill_all_sprites
1669  04B3  3A 00 00    	ld	a,(_game_bonus)
1670  04B6  B7          	or	a, a
1671  04B7  28 03       	jr	Z,l_game_loop_00123
1672  04B9  CD EB 06    	call	_game_bonus_summary
1673  04BC              l_game_loop_00123:
1674  04BC  21 00 00    	ld	hl,_phase_curr
1675  04BF  34          	inc	(hl)
1676  04C0  3E 1F       	ld	a,0x1f
1677  04C2  96          	sub	a, (hl)
1678  04C3  30 0A       	jr	NC,l_game_loop_00125
1679  04C5  CD 46 12    	call	_game_end
1680  04C8  21 00 00    	ld	hl,_game_over
1681  04CB  36 01       	ld	(hl),0x01
1682  04CD  18 09       	jr	l_game_loop_00131
1683  04CF              l_game_loop_00125:
1684  04CF  21 90 01    	ld	hl,0x0190
1685  04D2  CD 00 00    	call	_z80_delay_ms_fastcall
1686  04D5  CD 99 01    	call	_game_phase_init
1687  04D8              l_game_loop_00131:
1688  04D8  21 00 00    	ld	hl,_loop_count
1689  04DB  34          	inc	(hl)
1690  04DC  C2 F8 03    	jp	NZ,l_game_loop_00132
1691  04DF  23          	inc	hl
1692  04E0  34          	inc	(hl)
1693  04E1  C3 F8 03    	jp	l_game_loop_00132
1694  04E4              l_game_loop_00134:
1695  04E4  21 90 01    	ld	hl,0x0190
1696  04E7  CD 00 00    	call	_z80_delay_ms_fastcall
1697  04EA  CD A8 08    	call	_game_kill_all_sprites
1698  04ED  21 77 00    	ld	hl,___str_18
1699  04F0  E5          	push	hl
1700  04F1  21 08 0B    	ld	hl,0x0b08
1701  04F4  E5          	push	hl
1702  04F5  CD 00 00    	call	_zx_print_str
1703  04F8  21 C8 00    	ld	hl,0x00c8
1704  04FB  E5          	push	hl
1705  04FC  21 0B 15    	ld	hl,0x150b
1706  04FF  E5          	push	hl
1707  0500  3E 08       	ld	a,0x08
1708  0502  F5          	push	af
1709  0503  33          	inc	sp
1710  0504  CD 60 19    	call	_game_colour_message
1711  0507  F1          	pop	af
1712  0508  F1          	pop	af
1713  0509  33          	inc	sp
1714  050A  CD 00 00    	call	_spr_draw_clear
1715  050D  CD D8 14    	call	_game_hall_enter
1716  0510  CD 00 00    	call	_ay_reset
1717  0513  21 00 00    	ld	hl,_game_menu_sel
1718  0516  36 00       	ld	(hl),0x00
1719  0518  CD 28 10    	call	_game_menu_paint
1720  051B  CD 23 0F    	call	_game_joystick_set_menu
1721  051E  C9          	ret
1722  051F              	SECTION rodata_compiler
1723  003E              ___str_15:
1724  003E  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1725  0050  00          	DEFB 0x00
1726  0051              	SECTION rodata_compiler
1727  0051              ___str_16:
1728  0051  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1729  0063  00          	DEFB 0x00
1730  0064              	SECTION rodata_compiler
1731  0064              ___str_17:
1732  0064  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1733  0076  00          	DEFB 0x00
1734  0077              	SECTION rodata_compiler
1735  0077              ___str_18:
1736  0077  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1737  0082  00          	DEFB 0x00
1738  0083              	SECTION code_compiler
1739  051F              ;	---------------------------------
1740  051F              ; Function game_score_osd
1741  051F              ; ---------------------------------
1742  051F              _game_score_osd:
1743  051F  3A 00 00    	ld	a,(_index_player)
1744  0522  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1745  0524  4F          	ld	c,a
1746  0525  3E 00       	ld	a,+((_score_osd_col) / 256)
1747  0527  CE 00       	adc	a,0x00
1748  0529  47          	ld	b,a
1749  052A  0A          	ld	a,(bc)
1750  052B  57          	ld	d,a
1751  052C  3C          	inc	a
1752  052D  20 67       	jr	NZ,l_game_score_osd_00116
1753  052F  3A 00 00    	ld	a,(_hit_count)
1754  0532  B7          	or	a, a
1755  0533  CA 79 06    	jp	Z,l_game_score_osd_00118
1756  0536  2A 00 00    	ld	hl,(_sprite)
1757  0539  26 00       	ld	h,0x00
1758  053B  11 00 00    	ld	de,_col
1759  053E  19          	add	hl,de
1760  053F  7E          	ld	a,(hl)
1761  0540  02          	ld	(bc),a
1762  0541  3A 00 00    	ld	a,(_index_player)
1763  0544  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1764  0546  4F          	ld	c,a
1765  0547  3E 00       	ld	a,+((_score_osd_lin) / 256)
1766  0549  CE 00       	adc	a,0x00
1767  054B  47          	ld	b,a
1768  054C  2A 00 00    	ld	hl,(_sprite)
1769  054F  26 00       	ld	h,0x00
1770  0551  11 00 00    	ld	de,_lin
1771  0554  19          	add	hl,de
1772  0555  7E          	ld	a,(hl)
1773  0556  02          	ld	(bc),a
1774  0557  01 00 00    	ld	bc,_score_osd_time+0
1775  055A  2A 00 00    	ld	hl,(_index_player)
1776  055D  26 00       	ld	h,0x00
1777  055F  29          	add	hl, hl
1778  0560  09          	add	hl,bc
1779  0561  ED 5B 00 00 	ld	de,(_curr_time)
1780  0565  73          	ld	(hl),e
1781  0566  23          	inc	hl
1782  0567  72          	ld	(hl),d
1783  0568  3A 00 00    	ld	a,(_hit_count)
1784  056B  B7          	or	a, a
1785  056C  CA 79 06    	jp	Z,l_game_score_osd_00118
1786  056F  2A 00 00    	ld	hl,(_index_player)
1787  0572  26 00       	ld	h,0x00
1788  0574  29          	add	hl,hl
1789  0575  3A 00 00    	ld	a,(_hit_count)
1790  0578  D6 02       	sub	a,0x02
1791  057A  4D          	ld	c,l
1792  057B  44          	ld	b,h
1793  057C  30 0C       	jr	NC,l_game_score_osd_00102
1794  057E  21 00 00    	ld	hl,_score_osd_tile
1795  0581  09          	add	hl,bc
1796  0582  36 BC       	ld	(hl),0xbc
1797  0584  23          	inc	hl
1798  0585  36 00       	ld	(hl),0x00
1799  0587  C3 79 06    	jp	l_game_score_osd_00118
1800  058A              l_game_score_osd_00102:
1801  058A  21 00 00    	ld	hl,_score_osd_tile
1802  058D  09          	add	hl,bc
1803  058E  36 BD       	ld	(hl),0xbd
1804  0590  23          	inc	hl
1805  0591  36 00       	ld	(hl),0x00
1806  0593  C3 79 06    	jp	l_game_score_osd_00118
1807  0596              l_game_score_osd_00116:
1808  0596  3A 00 00    	ld	a,(_index_player)
1809  0599  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1810  059B  4F          	ld	c,a
1811  059C  3E 00       	ld	a,+((_score_osd_lin) / 256)
1812  059E  CE 00       	adc	a,0x00
1813  05A0  47          	ld	b,a
1814  05A1  0A          	ld	a,(bc)
1815  05A2  C6 FE       	add	a,0xfe
1816  05A4  32 00 00    	ld	(_tmp),a
1817  05A7  5F          	ld	e,a
1818  05A8  D5          	push	de
1819  05A9  CD 00 00    	call	_game_calc_index
1820  05AC  F1          	pop	af
1821  05AD  22 00 00    	ld	(_index1),hl
1822  05B0  3E 08       	ld	a,0x08
1823  05B2  21 00 00    	ld	hl,_tmp
1824  05B5  96          	sub	a, (hl)
1825  05B6  30 5B       	jr	NC,l_game_score_osd_00109
1826  05B8  21 01 00    	ld	hl,_index1 + 1
1827  05BB  7E          	ld	a,(hl)
1828  05BC  2B          	dec	hl
1829  05BD  B6          	or	a,(hl)
1830  05BE  28 53       	jr	Z,l_game_score_osd_00109
1831  05C0  01 00 00    	ld	bc,_lvl_1+0
1832  05C3  79          	ld	a,c
1833  05C4  86          	add	a, (hl)
1834  05C5  5F          	ld	e,a
1835  05C6  78          	ld	a,b
1836  05C7  23          	inc	hl
1837  05C8  8E          	adc	a, (hl)
1838  05C9  57          	ld	d,a
1839  05CA  1A          	ld	a,(de)
1840  05CB  B7          	or	a, a
1841  05CC  20 45       	jr	NZ,l_game_score_osd_00109
1842  05CE  56          	ld	d,(hl)
1843  05CF  2B          	dec	hl
1844  05D0  5E          	ld	e,(hl)
1845  05D1  13          	inc	de
1846  05D2  69          	ld	l, c
1847  05D3  60          	ld	h, b
1848  05D4  19          	add	hl,de
1849  05D5  7E          	ld	a,(hl)
1850  05D6  B7          	or	a, a
1851  05D7  20 3A       	jr	NZ,l_game_score_osd_00109
1852  05D9  76          	halt
1853  05DA  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1854  05DC  21 00 00    	ld	hl,_index_player
1855  05DF  86          	add	a, (hl)
1856  05E0  4F          	ld	c,a
1857  05E1  3E 00       	ld	a,+((_score_osd_col) / 256)
1858  05E3  CE 00       	adc	a,0x00
1859  05E5  47          	ld	b,a
1860  05E6  0A          	ld	a,(bc)
1861  05E7  57          	ld	d,a
1862  05E8  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1863  05EA  86          	add	a, (hl)
1864  05EB  4F          	ld	c,a
1865  05EC  3E 00       	ld	a,+((_score_osd_lin) / 256)
1866  05EE  CE 00       	adc	a,0x00
1867  05F0  47          	ld	b,a
1868  05F1  0A          	ld	a,(bc)
1869  05F2  5F          	ld	e,a
1870  05F3  6E          	ld	l, (hl)
1871  05F4  26 00       	ld	h,0x00
1872  05F6  29          	add	hl, hl
1873  05F7  01 00 00    	ld	bc,_score_osd_tile
1874  05FA  09          	add	hl,bc
1875  05FB  46          	ld	b,(hl)
1876  05FC  23          	inc	hl
1877  05FD  4E          	ld	c,(hl)
1878  05FE  D5          	push	de
1879  05FF  C5          	push	bc
1880  0600  33          	inc	sp
1881  0601  CD 00 00    	call	_NIRVANAP_drawT_callee
1882  0604  3A 00 00    	ld	a,(_index_player)
1883  0607  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1884  0609  4F          	ld	c,a
1885  060A  3E 00       	ld	a,+((_score_osd_lin) / 256)
1886  060C  CE 00       	adc	a,0x00
1887  060E  47          	ld	b,a
1888  060F  3A 00 00    	ld	a,(_tmp)
1889  0612  02          	ld	(bc),a
1890  0613              l_game_score_osd_00109:
1891  0613  01 00 00    	ld	bc,_score_osd_time+0
1892  0616  2A 00 00    	ld	hl,(_index_player)
1893  0619  26 00       	ld	h,0x00
1894  061B  29          	add	hl, hl
1895  061C  09          	add	hl,bc
1896  061D  4E          	ld	c,(hl)
1897  061E  23          	inc	hl
1898  061F  46          	ld	b,(hl)
1899  0620  21 32 00    	ld	hl,0x0032
1900  0623  E5          	push	hl
1901  0624  C5          	push	bc
1902  0625  CD F2 19    	call	_game_check_time
1903  0628  F1          	pop	af
1904  0629  F1          	pop	af
1905  062A  7D          	ld	a,l
1906  062B  B7          	or	a, a
1907  062C  C8          	ret	Z
1908  062D  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1909  062F  21 00 00    	ld	hl,_index_player
1910  0632  86          	add	a, (hl)
1911  0633  4F          	ld	c,a
1912  0634  3E 00       	ld	a,+((_score_osd_col) / 256)
1913  0636  CE 00       	adc	a,0x00
1914  0638  47          	ld	b,a
1915  0639  0A          	ld	a,(bc)
1916  063A  57          	ld	d,a
1917  063B  4E          	ld	c,(hl)
1918  063C  06 00       	ld	b,0x00
1919  063E  21 00 00    	ld	hl,_score_osd_lin
1920  0641  09          	add	hl,bc
1921  0642  5E          	ld	e, (hl)
1922  0643  D5          	push	de
1923  0644  AF          	xor	a, a
1924  0645  F5          	push	af
1925  0646  33          	inc	sp
1926  0647  CD 00 00    	call	_NIRVANAP_fillT_callee
1927  064A  3A 00 00    	ld	a,(_index_player)
1928  064D  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1929  064F  4F          	ld	c,a
1930  0650  3E 00       	ld	a,+((_score_osd_lin) / 256)
1931  0652  CE 00       	adc	a,0x00
1932  0654  47          	ld	b,a
1933  0655  0A          	ld	a,(bc)
1934  0656  32 00 00    	ld	(_s_lin0),a
1935  0659  3A 00 00    	ld	a,(_index_player)
1936  065C  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1937  065E  4F          	ld	c,a
1938  065F  3E 00       	ld	a,+((_score_osd_col) / 256)
1939  0661  CE 00       	adc	a,0x00
1940  0663  47          	ld	b,a
1941  0664  0A          	ld	a,(bc)
1942  0665  32 00 00    	ld	(_s_col0),a
1943  0668  CD 00 00    	call	_spr_check_over
1944  066B  3A 00 00    	ld	a,(_index_player)
1945  066E  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1946  0670  4F          	ld	c,a
1947  0671  3E 00       	ld	a,+((_score_osd_col) / 256)
1948  0673  CE 00       	adc	a,0x00
1949  0675  47          	ld	b,a
1950  0676  3E FF       	ld	a,0xff
1951  0678  02          	ld	(bc),a
1952  0679              l_game_score_osd_00118:
1953  0679  C9          	ret
1954  067A              	SECTION code_compiler
1955  067A              ;	---------------------------------
1956  067A              ; Function game_bonus_clock
1957  067A              ; ---------------------------------
1958  067A              _game_bonus_clock:
1959  067A  2A 00 00    	ld	hl,(_curr_time)
1960  067D  29          	add	hl,hl
1961  067E  3E 40       	ld	a,0x40
1962  0680  95          	sub	a,l
1963  0681  44          	ld	b,h
1964  0682  21 00 00    	ld	hl,_tmp_ui
1965  0685  77          	ld	(hl),a
1966  0686  3E 06       	ld	a,0x06
1967  0688  98          	sbc	a, b
1968  0689  23          	inc	hl
1969  068A  77          	ld	(hl),a
1970  068B  3E 40       	ld	a,0x40
1971  068D  2B          	dec	hl
1972  068E  BE          	cp	a, (hl)
1973  068F  3E 06       	ld	a,0x06
1974  0691  23          	inc	hl
1975  0692  9E          	sbc	a, (hl)
1976  0693  30 1F       	jr	NC,l_game_bonus_clock_00106
1977  0695  2B          	dec	hl
1978  0696  AF          	xor	a, a
1979  0697  77          	ld	(hl), a
1980  0698  23          	inc	hl
1981  0699  77          	ld	(hl), a
1982  069A  21 00 00    	ld	hl,0x0000
1983  069D  E5          	push	hl
1984  069E  21 02 0E    	ld	hl,0x0e02
1985  06A1  E5          	push	hl
1986  06A2  CD 00 00    	call	_zx_print_bonus_time
1987  06A5  21 00 00    	ld	hl,_phase_left
1988  06A8  36 00       	ld	(hl),0x00
1989  06AA  21 00 00    	ld	hl,_phase_end
1990  06AD  36 01       	ld	(hl),0x01
1991  06AF  CD 00 00    	call	_ay_reset
1992  06B2  18 36       	jr	l_game_bonus_clock_00108
1993  06B4              l_game_bonus_clock_00106:
1994  06B4  3A 00 00    	ld	a,(_phase_left)
1995  06B7  B7          	or	a, a
1996  06B8  C8          	ret	Z
1997  06B9  2A 00 00    	ld	hl,(_tmp_ui)
1998  06BC  E5          	push	hl
1999  06BD  21 02 0E    	ld	hl,0x0e02
2000  06C0  E5          	push	hl
2001  06C1  CD 00 00    	call	_zx_print_bonus_time
2002  06C4  21 05 00    	ld	hl,0x0005
2003  06C7  E5          	push	hl
2004  06C8  2A 00 00    	ld	hl,(_frame_time)
2005  06CB  E5          	push	hl
2006  06CC  CD F2 19    	call	_game_check_time
2007  06CF  F1          	pop	af
2008  06D0  F1          	pop	af
2009  06D1  7D          	ld	a,l
2010  06D2  B7          	or	a, a
2011  06D3  C8          	ret	Z
2012  06D4  2A 00 00    	ld	hl,(_curr_time)
2013  06D7  22 00 00    	ld	(_frame_time),hl
2014  06DA  21 14 18    	ld	hl,0x1814
2015  06DD  E5          	push	hl
2016  06DE  3E 0E       	ld	a,0x0e
2017  06E0  F5          	push	af
2018  06E1  33          	inc	sp
2019  06E2  CD 0A 0D    	call	_game_paint_attrib_lin_h
2020  06E5  F1          	pop	af
2021  06E6  33          	inc	sp
2022  06E7  CD 44 19    	call	_game_rotate_attrib
2023  06EA              l_game_bonus_clock_00108:
2024  06EA  C9          	ret
2025  06EB              	SECTION code_compiler
2026  06EB              ;	---------------------------------
2027  06EB              ; Function game_bonus_summary
2028  06EB              ; ---------------------------------
2029  06EB              _game_bonus_summary:
2030  06EB  CD A8 08    	call	_game_kill_all_sprites
2031  06EE  CD 00 00    	call	_spr_draw_clear
2032  06F1  21 00 00    	ld	hl,0x0000
2033  06F4  CD 00 00    	call	_zx_cls_fastcall
2034  06F7  CD B1 00    	call	_game_phase_print_score_back
2035  06FA  CD 8E 0C    	call	_game_print_score
2036  06FD  3A 00 00    	ld	a,(_game_lives)
2037  0700  B7          	or	a, a
2038  0701  28 05       	jr	Z,l_game_bonus_summary_00102
2039  0703  2E 00       	ld	l,0x00
2040  0705  CD A0 07    	call	_game_bonus_summary_player
2041  0708              l_game_bonus_summary_00102:
2042  0708  3A 01 00    	ld	a, (_game_lives + 1)
2043  070B  B7          	or	a, a
2044  070C  28 05       	jr	Z,l_game_bonus_summary_00104
2045  070E  2E 01       	ld	l,0x01
2046  0710  CD A0 07    	call	_game_bonus_summary_player
2047  0713              l_game_bonus_summary_00104:
2048  0713  21 1F 98    	ld	hl,0x981f
2049  0716  E5          	push	hl
2050  0717  AF          	xor	a, a
2051  0718  F5          	push	af
2052  0719  33          	inc	sp
2053  071A  CD E3 0C    	call	_game_paint_attrib_lin
2054  071D  F1          	pop	af
2055  071E  33          	inc	sp
2056  071F  3A 00 00    	ld	a,(_phase_bonus_total)
2057  0722  D6 06       	sub	a,0x06
2058  0724  20 68       	jr	NZ,l_game_bonus_summary_00109
2059  0726  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2060  0729  B7          	or	a, a
2061  072A  20 62       	jr	NZ,l_game_bonus_summary_00109
2062  072C  CD 00 00    	call	_sound_jump
2063  072F  3A 00 00    	ld	a,(_phase_curr)
2064  0732  D6 02       	sub	a,0x02
2065  0734  30 23       	jr	NC,l_game_bonus_summary_00106
2066  0736  21 83 00    	ld	hl,___str_19
2067  0739  E5          	push	hl
2068  073A  21 12 06    	ld	hl,0x0612
2069  073D  E5          	push	hl
2070  073E  CD 00 00    	call	_zx_print_str
2071  0741  21 00 00    	ld	hl,_index_player
2072  0744  36 00       	ld	(hl),0x00
2073  0746  21 2C 01    	ld	hl,0x012c
2074  0749  CD 00 00    	call	_player_score_add
2075  074C  21 00 00    	ld	hl,_index_player
2076  074F  36 01       	ld	(hl),0x01
2077  0751  21 2C 01    	ld	hl,0x012c
2078  0754  CD 00 00    	call	_player_score_add
2079  0757  18 21       	jr	l_game_bonus_summary_00107
2080  0759              l_game_bonus_summary_00106:
2081  0759  21 96 00    	ld	hl,___str_20
2082  075C  E5          	push	hl
2083  075D  21 12 06    	ld	hl,0x0612
2084  0760  E5          	push	hl
2085  0761  CD 00 00    	call	_zx_print_str
2086  0764  21 00 00    	ld	hl,_index_player
2087  0767  36 00       	ld	(hl),0x00
2088  0769  21 F4 01    	ld	hl,0x01f4
2089  076C  CD 00 00    	call	_player_score_add
2090  076F  21 00 00    	ld	hl,_index_player
2091  0772  36 01       	ld	(hl),0x01
2092  0774  21 F4 01    	ld	hl,0x01f4
2093  0777  CD 00 00    	call	_player_score_add
2094  077A              l_game_bonus_summary_00107:
2095  077A  21 C8 00    	ld	hl,0x00c8
2096  077D  E5          	push	hl
2097  077E  21 10 1A    	ld	hl,0x1a10
2098  0781  E5          	push	hl
2099  0782  3E 12       	ld	a,0x12
2100  0784  F5          	push	af
2101  0785  33          	inc	sp
2102  0786  CD 60 19    	call	_game_colour_message
2103  0789  F1          	pop	af
2104  078A  F1          	pop	af
2105  078B  33          	inc	sp
2106  078C  18 11       	jr	l_game_bonus_summary_00112
2107  078E              l_game_bonus_summary_00109:
2108  078E  21 A9 00    	ld	hl,___str_21
2109  0791  E5          	push	hl
2110  0792  21 12 0C    	ld	hl,0x0c12
2111  0795  E5          	push	hl
2112  0796  CD 00 00    	call	_zx_print_str
2113  0799  21 E8 03    	ld	hl,0x03e8
2114  079C  CD 00 00    	call	_z80_delay_ms_fastcall
2115  079F              l_game_bonus_summary_00112:
2116  079F  C9          	ret
2117  07A0              	SECTION rodata_compiler
2118  0083              ___str_19:
2119  0083  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2120  0095  00          	DEFB 0x00
2121  0096              	SECTION rodata_compiler
2122  0096              ___str_20:
2123  0096  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2124  00A8  00          	DEFB 0x00
2125  00A9              	SECTION rodata_compiler
2126  00A9              ___str_21:
2127  00A9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2128  00B1  00          	DEFB 0x00
2129  00B2              	SECTION code_compiler
2130  07A0              ;	---------------------------------
2131  07A0              ; Function game_bonus_summary_player
2132  07A0              ; ---------------------------------
2133  07A0              _game_bonus_summary_player:
2134  07A0  CD 00 00    	call	___sdcc_enter_ix
2135  07A3  F5          	push	af
2136  07A4  3B          	dec	sp
2137  07A5  DD 75 FD    	ld	(ix-3),l
2138  07A8  76          	halt
2139  07A9  DD 7E FD    	ld	a,(ix-3)
2140  07AC  B7          	or	a, a
2141  07AD  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2142  07AF  21 00 00    	ld	hl,_s_lin1
2143  07B2  36 06       	ld	(hl),0x06
2144  07B4  21 B2 00    	ld	hl,___str_22
2145  07B7  E5          	push	hl
2146  07B8  21 06 07    	ld	hl,0x0706
2147  07BB  E5          	push	hl
2148  07BC  CD 00 00    	call	_zx_print_str
2149  07BF  3A 00 00    	ld	a,(_s_lin1)
2150  07C2  07          	rlca
2151  07C3  07          	rlca
2152  07C4  07          	rlca
2153  07C5  E6 F8       	and	a,0xf8
2154  07C7  47          	ld	b,a
2155  07C8  04          	inc	b
2156  07C9  04          	inc	b
2157  07CA  04          	inc	b
2158  07CB  04          	inc	b
2159  07CC  3E 04       	ld	a,0x04
2160  07CE  48          	ld	c,b
2161  07CF  47          	ld	b,a
2162  07D0  C5          	push	bc
2163  07D1  3E 03       	ld	a,0x03
2164  07D3  F5          	push	af
2165  07D4  33          	inc	sp
2166  07D5  CD 00 00    	call	_NIRVANAP_drawT_callee
2167  07D8  21 00 00    	ld	hl,_index_player
2168  07DB  36 00       	ld	(hl),0x00
2169  07DD  18 2E       	jr	l_game_bonus_summary_player_00103
2170  07DF              l_game_bonus_summary_player_00102:
2171  07DF  21 00 00    	ld	hl,_s_lin1
2172  07E2  36 0C       	ld	(hl),0x0c
2173  07E4  21 B9 00    	ld	hl,___str_23
2174  07E7  E5          	push	hl
2175  07E8  21 0C 07    	ld	hl,0x070c
2176  07EB  E5          	push	hl
2177  07EC  CD 00 00    	call	_zx_print_str
2178  07EF  3A 00 00    	ld	a,(_s_lin1)
2179  07F2  07          	rlca
2180  07F3  07          	rlca
2181  07F4  07          	rlca
2182  07F5  E6 F8       	and	a,0xf8
2183  07F7  47          	ld	b,a
2184  07F8  04          	inc	b
2185  07F9  04          	inc	b
2186  07FA  04          	inc	b
2187  07FB  04          	inc	b
2188  07FC  3E 04       	ld	a,0x04
2189  07FE  48          	ld	c,b
2190  07FF  47          	ld	b,a
2191  0800  C5          	push	bc
2192  0801  3E 1B       	ld	a,0x1b
2193  0803  F5          	push	af
2194  0804  33          	inc	sp
2195  0805  CD 00 00    	call	_NIRVANAP_drawT_callee
2196  0808  21 00 00    	ld	hl,_index_player
2197  080B  36 01       	ld	(hl),0x01
2198  080D              l_game_bonus_summary_player_00103:
2199  080D  3A 00 00    	ld	a,(_s_lin1)
2200  0810  07          	rlca
2201  0811  07          	rlca
2202  0812  07          	rlca
2203  0813  E6 F8       	and	a,0xf8
2204  0815  C6 08       	add	a,0x08
2205  0817  F5          	push	af
2206  0818  33          	inc	sp
2207  0819  21 07 1F    	ld	hl,0x1f07
2208  081C  E5          	push	hl
2209  081D  CD E3 0C    	call	_game_paint_attrib_lin
2210  0820  F1          	pop	af
2211  0821  33          	inc	sp
2212  0822  21 00 00    	ld	hl,_tmp_uc
2213  0825  36 00       	ld	(hl),0x00
2214  0827  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2215  0829  DD 86 FD    	add	a,(ix-3)
2216  082C  DD 77 FE    	ld	(ix-2),a
2217  082F  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2218  0831  CE 00       	adc	a,0x00
2219  0833  DD 77 FF    	ld	(ix-1),a
2220  0836              l_game_bonus_summary_player_00107:
2221  0836  DD 6E FE    	ld	l,(ix-2)
2222  0839  DD 66 FF    	ld	h,(ix-1)
2223  083C  4E          	ld	c,(hl)
2224  083D  3A 00 00    	ld	a,(_tmp_uc)
2225  0840  91          	sub	a, c
2226  0841  30 53       	jr	NC,l_game_bonus_summary_player_00109
2227  0843  3A 00 00    	ld	a,(_s_lin1)
2228  0846  07          	rlca
2229  0847  07          	rlca
2230  0848  07          	rlca
2231  0849  E6 F8       	and	a,0xf8
2232  084B  4F          	ld	c,a
2233  084C  3A 00 00    	ld	a,(_tmp_uc)
2234  084F  D6 03       	sub	a,0x03
2235  0851  30 08       	jr	NC,l_game_bonus_summary_player_00105
2236  0853  79          	ld	a,c
2237  0854  C6 F8       	add	a,0xf8
2238  0856  32 00 00    	ld	(_s_lin0),a
2239  0859  18 06       	jr	l_game_bonus_summary_player_00106
2240  085B              l_game_bonus_summary_player_00105:
2241  085B  79          	ld	a,c
2242  085C  C6 08       	add	a,0x08
2243  085E  32 00 00    	ld	(_s_lin0),a
2244  0861              l_game_bonus_summary_player_00106:
2245  0861  76          	halt
2246  0862  2A 00 00    	ld	hl,(_tmp_uc)
2247  0865  26 03       	ld	h,0x03
2248  0867  E5          	push	hl
2249  0868  CD 00 00    	call	__moduchar_callee
2250  086B  7D          	ld	a,l
2251  086C  87          	add	a, a
2252  086D  C6 0E       	add	a,0x0e
2253  086F  F5          	push	af
2254  0870  33          	inc	sp
2255  0871  3A 00 00    	ld	a,(_s_lin0)
2256  0874  57          	ld	d,a
2257  0875  1E B9       	ld	e,0xb9
2258  0877  D5          	push	de
2259  0878  CD 00 00    	call	_NIRVANAP_drawT_callee
2260  087B  21 50 00    	ld	hl,0x0050
2261  087E  CD 00 00    	call	_player_score_add
2262  0881  21 00 00    	ld	hl,_tmp_uc
2263  0884  34          	inc	(hl)
2264  0885  21 00 00    	ld	hl,_ay_effect_09
2265  0888  CD 00 00    	call	_ay_fx_play
2266  088B  CD 00 00    	call	_sound_coin
2267  088E  21 32 00    	ld	hl,0x0032
2268  0891  CD 00 00    	call	_z80_delay_ms_fastcall
2269  0894  18 A0       	jr	l_game_bonus_summary_player_00107
2270  0896              l_game_bonus_summary_player_00109:
2271  0896  21 BF 00    	ld	hl,___str_24
2272  0899  E5          	push	hl
2273  089A  2A 00 00    	ld	hl,(_s_lin1)
2274  089D  26 16       	ld	h,0x16
2275  089F  E5          	push	hl
2276  08A0  CD 00 00    	call	_zx_print_str
2277  08A3  DD F9       	ld	sp, ix
2278  08A5  DD E1       	pop	ix
2279  08A7  C9          	ret
2280  08A8              	SECTION rodata_compiler
2281  00B2              ___str_22:
2282  00B2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2283  00B8  00          	DEFB 0x00
2284  00B9              	SECTION rodata_compiler
2285  00B9              ___str_23:
2286  00B9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2287  00BE  00          	DEFB 0x00
2288  00BF              	SECTION rodata_compiler
2289  00BF              ___str_24:
2290  00BF  58 20 38 30 30 
                        	DEFM "X 800"
2291  00C4  00          	DEFB 0x00
2292  00C5              	SECTION code_compiler
2293  08A8              ;	---------------------------------
2294  08A8              ; Function game_kill_all_sprites
2295  08A8              ; ---------------------------------
2296  08A8              _game_kill_all_sprites:
2297  08A8  21 00 00    	ld	hl,_sprite
2298  08AB  36 00       	ld	(hl),0x00
2299  08AD              l_game_kill_all_sprites_00102:
2300  08AD  2A 00 00    	ld	hl,(_sprite)
2301  08B0  CD 00 00    	call	_spr_destroy
2302  08B3  21 00 00    	ld	hl,_sprite
2303  08B6  7E          	ld	a,(hl)
2304  08B7  3C          	inc	a
2305  08B8  77          	ld	(hl),a
2306  08B9  D6 08       	sub	a,0x08
2307  08BB  38 F0       	jr	C,l_game_kill_all_sprites_00102
2308  08BD  C9          	ret
2309  08BE              	SECTION code_compiler
2310  08BE              ;	---------------------------------
2311  08BE              ; Function game_check_maze
2312  08BE              ; ---------------------------------
2313  08BE              _game_check_maze:
2314  08BE  4D          	ld	c,l
2315  08BF  44          	ld	b,h
2316  08C0  21 00 00    	ld	hl,_lvl_1
2317  08C3  09          	add	hl,bc
2318  08C4  7E          	ld	a, (hl)
2319  08C5  D6 10       	sub	a,0x10
2320  08C7  30 0A       	jr	NC,l_game_check_maze_00103
2321  08C9  03          	inc	bc
2322  08CA  21 00 00    	ld	hl,_lvl_1
2323  08CD  09          	add	hl,bc
2324  08CE  7E          	ld	a, (hl)
2325  08CF  D6 10       	sub	a,0x10
2326  08D1  38 04       	jr	C,l_game_check_maze_00104
2327  08D3              l_game_check_maze_00103:
2328  08D3  2E 00       	ld	l,0x00
2329  08D5  18 02       	jr	l_game_check_maze_00105
2330  08D7              l_game_check_maze_00104:
2331  08D7  2E 01       	ld	l,0x01
2332  08D9              l_game_check_maze_00105:
2333  08D9  C9          	ret
2334  08DA              	SECTION code_compiler
2335  08DA              ;	---------------------------------
2336  08DA              ; Function game_enemy_add
2337  08DA              ; ---------------------------------
2338  08DA              _game_enemy_add:
2339  08DA  3A 00 00    	ld	a,(_game_type)
2340  08DD  D6 02       	sub	a,0x02
2341  08DF  20 05       	jr	NZ,l_game_enemy_add_00106
2342  08E1  CD 39 0A    	call	_game_enemy_rnd
2343  08E4  18 21       	jr	l_game_enemy_add_00107
2344  08E6              l_game_enemy_add_00106:
2345  08E6  3A 00 00    	ld	a,(_spr_count)
2346  08E9  D6 06       	sub	a,0x06
2347  08EB  30 1A       	jr	NC,l_game_enemy_add_00107
2348  08ED  21 64 00    	ld	hl,0x0064
2349  08F0  E5          	push	hl
2350  08F1  2A 00 00    	ld	hl,(_entry_time)
2351  08F4  E5          	push	hl
2352  08F5  CD F2 19    	call	_game_check_time
2353  08F8  F1          	pop	af
2354  08F9  F1          	pop	af
2355  08FA  7D          	ld	a,l
2356  08FB  B7          	or	a, a
2357  08FC  28 09       	jr	Z,l_game_enemy_add_00107
2358  08FE  3A 00 00    	ld	a,(_phase_left)
2359  0901  B7          	or	a, a
2360  0902  28 03       	jr	Z,l_game_enemy_add_00107
2361  0904  CD 0A 09    	call	_game_enemy_quota
2362  0907              l_game_enemy_add_00107:
2363  0907  2E 00       	ld	l,0x00
2364  0909  C9          	ret
2365  090A              	SECTION code_compiler
2366  090A              ;	---------------------------------
2367  090A              ; Function game_enemy_quota
2368  090A              ; ---------------------------------
2369  090A              _game_enemy_quota:
2370  090A  CD 00 00    	call	_rand
2371  090D  7D          	ld	a, l
2372  090E  E6 01       	and	a,0x01
2373  0910  32 00 00    	ld	(_tmp),a
2374  0913  3A 00 00    	ld	a,(_phase_pop)
2375  0916  B7          	or	a, a
2376  0917  28 06       	jr	Z,l_game_enemy_quota_00101
2377  0919  3A 00 00    	ld	a,(_phase_left)
2378  091C  3D          	dec	a
2379  091D  20 05       	jr	NZ,l_game_enemy_quota_00102
2380  091F              l_game_enemy_quota_00101:
2381  091F  21 00 00    	ld	hl,_tmp
2382  0922  36 00       	ld	(hl),0x00
2383  0924              l_game_enemy_quota_00102:
2384  0924  3A 00 00    	ld	a,(_phase_left)
2385  0927  B7          	or	a, a
2386  0928  CA A5 09    	jp	Z,l_game_enemy_quota_00124
2387  092B  3A 00 00    	ld	a,(_tmp)
2388  092E  B7          	or	a, a
2389  092F  20 74       	jr	NZ,l_game_enemy_quota_00124
2390  0931  CD 00 00    	call	_rand
2391  0934  7D          	ld	a, l
2392  0935  E6 03       	and	a,0x03
2393  0937  21 00 00    	ld	hl,_tmp
2394  093A  77          	ld	(hl),a
2395  093B  3E 02       	ld	a,0x02
2396  093D  96          	sub	a, (hl)
2397  093E  30 02       	jr	NC,l_game_enemy_quota_00105
2398  0940  36 00       	ld	(hl),0x00
2399  0942              l_game_enemy_quota_00105:
2400  0942  3A 00 00    	ld	a,(_tmp)
2401  0945  C6 00       	add	a,+((_phase_quota) & 0xFF)
2402  0947  4F          	ld	c,a
2403  0948  3E 00       	ld	a,+((_phase_quota) / 256)
2404  094A  CE 00       	adc	a,0x00
2405  094C  47          	ld	b,a
2406  094D  0A          	ld	a,(bc)
2407  094E  B7          	or	a, a
2408  094F  28 54       	jr	Z,l_game_enemy_quota_00124
2409  0951  C6 FF       	add	a,0xff
2410  0953  02          	ld	(bc),a
2411  0954  3A 00 00    	ld	a,(_phase_angry)
2412  0957  B7          	or	a, a
2413  0958  28 24       	jr	Z,l_game_enemy_quota_00119
2414  095A  3A 00 00    	ld	a,(_tmp)
2415  095D  B7          	or	a, a
2416  095E  20 05       	jr	NZ,l_game_enemy_quota_00107
2417  0960  2E 03       	ld	l,0x03
2418  0962  CD 69 0A    	call	_game_enemy_add1
2419  0965              l_game_enemy_quota_00107:
2420  0965  3A 00 00    	ld	a,(_tmp)
2421  0968  3D          	dec	a
2422  0969  20 05       	jr	NZ,l_game_enemy_quota_00109
2423  096B  2E 06       	ld	l,0x06
2424  096D  CD 69 0A    	call	_game_enemy_add1
2425  0970              l_game_enemy_quota_00109:
2426  0970  3A 00 00    	ld	a,(_tmp)
2427  0973  D6 02       	sub	a,0x02
2428  0975  20 29       	jr	NZ,l_game_enemy_quota_00120
2429  0977  2E 09       	ld	l,0x09
2430  0979  CD 69 0A    	call	_game_enemy_add1
2431  097C  18 22       	jr	l_game_enemy_quota_00120
2432  097E              l_game_enemy_quota_00119:
2433  097E  3A 00 00    	ld	a,(_tmp)
2434  0981  B7          	or	a, a
2435  0982  20 05       	jr	NZ,l_game_enemy_quota_00113
2436  0984  2E 01       	ld	l,0x01
2437  0986  CD 69 0A    	call	_game_enemy_add1
2438  0989              l_game_enemy_quota_00113:
2439  0989  3A 00 00    	ld	a,(_tmp)
2440  098C  3D          	dec	a
2441  098D  20 05       	jr	NZ,l_game_enemy_quota_00115
2442  098F  2E 04       	ld	l,0x04
2443  0991  CD 69 0A    	call	_game_enemy_add1
2444  0994              l_game_enemy_quota_00115:
2445  0994  3A 00 00    	ld	a,(_tmp)
2446  0997  D6 02       	sub	a,0x02
2447  0999  20 05       	jr	NZ,l_game_enemy_quota_00120
2448  099B  2E 09       	ld	l,0x09
2449  099D  CD 69 0A    	call	_game_enemy_add1
2450  09A0              l_game_enemy_quota_00120:
2451  09A0  2E 00       	ld	l,0x00
2452  09A2  C3 38 0A    	jp	l_game_enemy_quota_00141
2453  09A5              l_game_enemy_quota_00124:
2454  09A5  3A 00 00    	ld	a,(_phase_coins)
2455  09A8  B7          	or	a, a
2456  09A9  28 0A       	jr	Z,l_game_enemy_quota_00127
2457  09AB  2E 08       	ld	l,0x08
2458  09AD  CD 69 0A    	call	_game_enemy_add1
2459  09B0  2E 00       	ld	l,0x00
2460  09B2  C3 38 0A    	jp	l_game_enemy_quota_00141
2461  09B5              l_game_enemy_quota_00127:
2462  09B5  CD 00 00    	call	_rand
2463  09B8  7D          	ld	a,l
2464  09B9  E6 03       	and	a,0x03
2465  09BB  44          	ld	b,h
2466  09BC  0E 00       	ld	c,0x00
2467  09BE  CB 79       	bit	7,c
2468  09C0  20 74       	jr	NZ,l_game_enemy_quota_00140
2469  09C2  5F          	ld	e,a
2470  09C3  3E 03       	ld	a,0x03
2471  09C5  BB          	cp	a, e
2472  09C6  3E 00       	ld	a,0x00
2473  09C8  99          	sbc	a, c
2474  09C9  E2 CE 09    	jp	PO, l_game_enemy_quota_00229
2475  09CC  EE 80       	xor	a,0x80
2476  09CE              l_game_enemy_quota_00229:
2477  09CE  FA 36 0A    	jp	M,l_game_enemy_quota_00140
2478  09D1  16 00       	ld	d,0x00
2479  09D3  21 D9 09    	ld	hl,l_game_enemy_quota_00230
2480  09D6  19          	add	hl,de
2481  09D7  19          	add	hl,de
2482  09D8  E9          	jp	(hl)
2483  09D9              l_game_enemy_quota_00230:
2484  09D9  18 06       	jr	l_game_enemy_quota_00128
2485  09DB  18 13       	jr	l_game_enemy_quota_00131
2486  09DD  18 29       	jr	l_game_enemy_quota_00134
2487  09DF  18 3F       	jr	l_game_enemy_quota_00137
2488  09E1              l_game_enemy_quota_00128:
2489  09E1  3E 07       	ld	a,0x07
2490  09E3  21 00 00    	ld	hl,_phase_curr
2491  09E6  96          	sub	a, (hl)
2492  09E7  30 4D       	jr	NC,l_game_enemy_quota_00140
2493  09E9  2E 07       	ld	l,0x07
2494  09EB  CD 69 0A    	call	_game_enemy_add1
2495  09EE  18 46       	jr	l_game_enemy_quota_00140
2496  09F0              l_game_enemy_quota_00131:
2497  09F0  2A 00 00    	ld	hl,(_game_time_fireball_start)
2498  09F3  E5          	push	hl
2499  09F4  21 00 00    	ld	hl,0x0000
2500  09F7  E5          	push	hl
2501  09F8  CD F2 19    	call	_game_check_time
2502  09FB  F1          	pop	af
2503  09FC  F1          	pop	af
2504  09FD  7D          	ld	a,l
2505  09FE  B7          	or	a, a
2506  09FF  28 35       	jr	Z,l_game_enemy_quota_00140
2507  0A01  2E 0B       	ld	l,0x0b
2508  0A03  CD 69 0A    	call	_game_enemy_add1
2509  0A06  18 2E       	jr	l_game_enemy_quota_00140
2510  0A08              l_game_enemy_quota_00134:
2511  0A08  2A 00 00    	ld	hl,(_game_time_fireball_start)
2512  0A0B  E5          	push	hl
2513  0A0C  21 00 00    	ld	hl,0x0000
2514  0A0F  E5          	push	hl
2515  0A10  CD F2 19    	call	_game_check_time
2516  0A13  F1          	pop	af
2517  0A14  F1          	pop	af
2518  0A15  7D          	ld	a,l
2519  0A16  B7          	or	a, a
2520  0A17  28 1D       	jr	Z,l_game_enemy_quota_00140
2521  0A19  2E 0B       	ld	l,0x0b
2522  0A1B  CD 69 0A    	call	_game_enemy_add1
2523  0A1E  18 16       	jr	l_game_enemy_quota_00140
2524  0A20              l_game_enemy_quota_00137:
2525  0A20  2A 00 00    	ld	hl,(_game_time_fireball_start)
2526  0A23  E5          	push	hl
2527  0A24  21 00 00    	ld	hl,0x0000
2528  0A27  E5          	push	hl
2529  0A28  CD F2 19    	call	_game_check_time
2530  0A2B  F1          	pop	af
2531  0A2C  F1          	pop	af
2532  0A2D  7D          	ld	a,l
2533  0A2E  B7          	or	a, a
2534  0A2F  28 05       	jr	Z,l_game_enemy_quota_00140
2535  0A31  2E 0A       	ld	l,0x0a
2536  0A33  CD 69 0A    	call	_game_enemy_add1
2537  0A36              l_game_enemy_quota_00140:
2538  0A36  2E 00       	ld	l,0x00
2539  0A38              l_game_enemy_quota_00141:
2540  0A38  C9          	ret
2541  0A39              	SECTION code_compiler
2542  0A39              ;	---------------------------------
2543  0A39              ; Function game_enemy_rnd
2544  0A39              ; ---------------------------------
2545  0A39              _game_enemy_rnd:
2546  0A39  3A 00 00    	ld	a,(_spr_count)
2547  0A3C  D6 06       	sub	a,0x06
2548  0A3E  30 26       	jr	NC,l_game_enemy_rnd_00102
2549  0A40  21 64 00    	ld	hl,0x0064
2550  0A43  E5          	push	hl
2551  0A44  2A 00 00    	ld	hl,(_entry_time)
2552  0A47  E5          	push	hl
2553  0A48  CD F2 19    	call	_game_check_time
2554  0A4B  F1          	pop	af
2555  0A4C  F1          	pop	af
2556  0A4D  7D          	ld	a,l
2557  0A4E  B7          	or	a, a
2558  0A4F  28 15       	jr	Z,l_game_enemy_rnd_00102
2559  0A51  2A 00 00    	ld	hl,(_curr_time)
2560  0A54  22 00 00    	ld	(_entry_time),hl
2561  0A57  CD 00 00    	call	_rand
2562  0A5A  01 0B 00    	ld	bc,0x000b
2563  0A5D  C5          	push	bc
2564  0A5E  E5          	push	hl
2565  0A5F  CD 00 00    	call	__modsint_callee
2566  0A62  2C          	inc	l
2567  0A63  CD 69 0A    	call	_game_enemy_add1
2568  0A66              l_game_enemy_rnd_00102:
2569  0A66  2E 00       	ld	l,0x00
2570  0A68  C9          	ret
2571  0A69              	SECTION code_compiler
2572  0A69              ;	---------------------------------
2573  0A69              ; Function game_enemy_add1
2574  0A69              ; ---------------------------------
2575  0A69              _game_enemy_add1:
2576  0A69  CD 00 00    	call	___sdcc_enter_ix
2577  0A6C  F5          	push	af
2578  0A6D  45          	ld	b,l
2579  0A6E  78          	ld	a,b
2580  0A6F  D6 0A       	sub	a,0x0a
2581  0A71  20 04       	jr	NZ,l_game_enemy_add1_00185
2582  0A73  3E 01       	ld	a,0x01
2583  0A75  18 01       	jr	l_game_enemy_add1_00186
2584  0A77              l_game_enemy_add1_00185:
2585  0A77  AF          	xor	a,a
2586  0A78              l_game_enemy_add1_00186:
2587  0A78  4F          	ld	c,a
2588  0A79  B7          	or	a, a
2589  0A7A  28 0B       	jr	Z,l_game_enemy_add1_00105
2590  0A7C  C5          	push	bc
2591  0A7D  2E 0A       	ld	l,0x0a
2592  0A7F  CD AB 0B    	call	_game_enemy_add_get_index
2593  0A82  C1          	pop	bc
2594  0A83  5D          	ld	e,l
2595  0A84  1C          	inc	e
2596  0A85  20 2B       	jr	NZ,l_game_enemy_add1_00101
2597  0A87              l_game_enemy_add1_00105:
2598  0A87  78          	ld	a,b
2599  0A88  D6 0B       	sub	a,0x0b
2600  0A8A  20 04       	jr	NZ,l_game_enemy_add1_00189
2601  0A8C  3E 01       	ld	a,0x01
2602  0A8E  18 01       	jr	l_game_enemy_add1_00190
2603  0A90              l_game_enemy_add1_00189:
2604  0A90  AF          	xor	a,a
2605  0A91              l_game_enemy_add1_00190:
2606  0A91  DD 77 FE    	ld	(ix-2),a
2607  0A94  B7          	or	a, a
2608  0A95  28 0B       	jr	Z,l_game_enemy_add1_00107
2609  0A97  C5          	push	bc
2610  0A98  2E 0B       	ld	l,0x0b
2611  0A9A  CD AB 0B    	call	_game_enemy_add_get_index
2612  0A9D  C1          	pop	bc
2613  0A9E  5D          	ld	e,l
2614  0A9F  1C          	inc	e
2615  0AA0  20 10       	jr	NZ,l_game_enemy_add1_00101
2616  0AA2              l_game_enemy_add1_00107:
2617  0AA2  78          	ld	a,b
2618  0AA3  D6 07       	sub	a,0x07
2619  0AA5  20 10       	jr	NZ,l_game_enemy_add1_00102
2620  0AA7  C5          	push	bc
2621  0AA8  2E 07       	ld	l,0x07
2622  0AAA  CD AB 0B    	call	_game_enemy_add_get_index
2623  0AAD  C1          	pop	bc
2624  0AAE  5D          	ld	e,l
2625  0AAF  1C          	inc	e
2626  0AB0  28 05       	jr	Z,l_game_enemy_add1_00102
2627  0AB2              l_game_enemy_add1_00101:
2628  0AB2  2E 00       	ld	l,0x00
2629  0AB4  C3 A7 0B    	jp	l_game_enemy_add1_00131
2630  0AB7              l_game_enemy_add1_00102:
2631  0AB7  21 00 00    	ld	hl,_phase_pop
2632  0ABA  34          	inc	(hl)
2633  0ABB  C5          	push	bc
2634  0ABC  CD 00 00    	call	_sound_enter_enemy
2635  0ABF  2E 00       	ld	l,0x00
2636  0AC1  CD AB 0B    	call	_game_enemy_add_get_index
2637  0AC4  C1          	pop	bc
2638  0AC5  7D          	ld	a,l
2639  0AC6  32 00 00    	ld	(_tmp),a
2640  0AC9  C5          	push	bc
2641  0ACA  CD 00 00    	call	_rand
2642  0ACD  C1          	pop	bc
2643  0ACE  7D          	ld	a, l
2644  0ACF  E6 01       	and	a,0x01
2645  0AD1  32 00 00    	ld	(_tmp0),a
2646  0AD4  3D          	dec	a
2647  0AD5  20 1C       	jr	NZ,l_game_enemy_add1_00113
2648  0AD7  21 00 00    	ld	hl,_s_lin0
2649  0ADA  36 10       	ld	(hl),0x10
2650  0ADC  21 00 00    	ld	hl,_s_col0
2651  0ADF  36 04       	ld	(hl),0x04
2652  0AE1  21 00 00    	ld	hl,_s_col1
2653  0AE4  36 02       	ld	(hl),0x02
2654  0AE6  79          	ld	a,c
2655  0AE7  B7          	or	a, a
2656  0AE8  28 02       	jr	Z,l_game_enemy_add1_00109
2657  0AEA  36 03       	ld	(hl),0x03
2658  0AEC              l_game_enemy_add1_00109:
2659  0AEC  21 00 00    	ld	hl,_tmp1
2660  0AEF  36 01       	ld	(hl),0x01
2661  0AF1  18 1A       	jr	l_game_enemy_add1_00114
2662  0AF3              l_game_enemy_add1_00113:
2663  0AF3  21 00 00    	ld	hl,_s_lin0
2664  0AF6  36 10       	ld	(hl),0x10
2665  0AF8  21 00 00    	ld	hl,_s_col0
2666  0AFB  36 1A       	ld	(hl),0x1a
2667  0AFD  21 00 00    	ld	hl,_s_col1
2668  0B00  36 1E       	ld	(hl),0x1e
2669  0B02  79          	ld	a,c
2670  0B03  B7          	or	a, a
2671  0B04  28 02       	jr	Z,l_game_enemy_add1_00111
2672  0B06  36 1C       	ld	(hl),0x1c
2673  0B08              l_game_enemy_add1_00111:
2674  0B08  21 00 00    	ld	hl,_tmp1
2675  0B0B  36 FF       	ld	(hl),0xff
2676  0B0D              l_game_enemy_add1_00114:
2677  0B0D  78          	ld	a,b
2678  0B0E  D6 08       	sub	a,0x08
2679  0B10  20 04       	jr	NZ,l_game_enemy_add1_00198
2680  0B12  3E 01       	ld	a,0x01
2681  0B14  18 01       	jr	l_game_enemy_add1_00199
2682  0B16              l_game_enemy_add1_00198:
2683  0B16  AF          	xor	a,a
2684  0B17              l_game_enemy_add1_00199:
2685  0B17  DD 77 FF    	ld	(ix-1),a
2686  0B1A  B7          	or	a, a
2687  0B1B  28 04       	jr	Z,l_game_enemy_add1_00116
2688  0B1D  21 00 00    	ld	hl,_phase_coins
2689  0B20  35          	dec	(hl)
2690  0B21              l_game_enemy_add1_00116:
2691  0B21  21 00 00    	ld	hl,_tmp_uc
2692  0B24  36 00       	ld	(hl),0x00
2693  0B26  DD 7E FE    	ld	a,(ix-2)
2694  0B29  B7          	or	a,a
2695  0B2A  20 03       	jr	NZ,l_game_enemy_add1_00123
2696  0B2C  B1          	or	a,c
2697  0B2D  28 35       	jr	Z,l_game_enemy_add1_00124
2698  0B2F              l_game_enemy_add1_00123:
2699  0B2F  C5          	push	bc
2700  0B30  CD 00 00    	call	_rand
2701  0B33  11 03 00    	ld	de,0x0003
2702  0B36  D5          	push	de
2703  0B37  E5          	push	hl
2704  0B38  CD 00 00    	call	__modsint_callee
2705  0B3B  C1          	pop	bc
2706  0B3C  5D          	ld	e,l
2707  0B3D  21 00 00    	ld	hl,_tmp_uc
2708  0B40  73          	ld	(hl),e
2709  0B41  7B          	ld	a,e
2710  0B42  B7          	or	a, a
2711  0B43  20 02       	jr	NZ,l_game_enemy_add1_00118
2712  0B45  36 10       	ld	(hl),0x10
2713  0B47              l_game_enemy_add1_00118:
2714  0B47  3A 00 00    	ld	a,(_tmp_uc)
2715  0B4A  3D          	dec	a
2716  0B4B  20 05       	jr	NZ,l_game_enemy_add1_00120
2717  0B4D  21 00 00    	ld	hl,_tmp_uc
2718  0B50  36 38       	ld	(hl),0x38
2719  0B52              l_game_enemy_add1_00120:
2720  0B52  3A 00 00    	ld	a,(_tmp_uc)
2721  0B55  D6 02       	sub	a,0x02
2722  0B57  20 05       	jr	NZ,l_game_enemy_add1_00122
2723  0B59  21 00 00    	ld	hl,_tmp_uc
2724  0B5C  36 84       	ld	(hl),0x84
2725  0B5E              l_game_enemy_add1_00122:
2726  0B5E  3A 00 00    	ld	a,(_s_col1)
2727  0B61  32 00 00    	ld	(_s_col0),a
2728  0B64              l_game_enemy_add1_00124:
2729  0B64  CD 00 00    	call	_ay_is_playing
2730  0B67  7D          	ld	a,l
2731  0B68  D6 02       	sub	a,0x02
2732  0B6A  30 14       	jr	NC,l_game_enemy_add1_00130
2733  0B6C  DD 7E FF    	ld	a,(ix-1)
2734  0B6F  B7          	or	a, a
2735  0B70  20 08       	jr	NZ,l_game_enemy_add1_00127
2736  0B72  21 00 00    	ld	hl,_ay_effect_04
2737  0B75  CD 00 00    	call	_ay_fx_play
2738  0B78  18 06       	jr	l_game_enemy_add1_00130
2739  0B7A              l_game_enemy_add1_00127:
2740  0B7A  21 00 00    	ld	hl,_ay_effect_07
2741  0B7D  CD 00 00    	call	_ay_fx_play
2742  0B80              l_game_enemy_add1_00130:
2743  0B80  2A 00 00    	ld	hl,(_curr_time)
2744  0B83  22 00 00    	ld	(_entry_time),hl
2745  0B86  3A 00 00    	ld	a,(_s_lin0)
2746  0B89  21 00 00    	ld	hl,_tmp_uc
2747  0B8C  86          	add	a, (hl)
2748  0B8D  57          	ld	d,a
2749  0B8E  3A 00 00    	ld	a,(_tmp1)
2750  0B91  48          	ld	c,b
2751  0B92  47          	ld	b,a
2752  0B93  3A 00 00    	ld	a,(_s_col0)
2753  0B96  C5          	push	bc
2754  0B97  5A          	ld	e,d
2755  0B98  57          	ld	d,a
2756  0B99  3A 00 00    	ld	a,(_tmp)
2757  0B9C  D5          	push	de
2758  0B9D  F5          	push	af
2759  0B9E  33          	inc	sp
2760  0B9F  CD 00 00    	call	_enemy_init
2761  0BA2  F1          	pop	af
2762  0BA3  F1          	pop	af
2763  0BA4  33          	inc	sp
2764  0BA5  2E 00       	ld	l,0x00
2765  0BA7              l_game_enemy_add1_00131:
2766  0BA7  F1          	pop	af
2767  0BA8  DD E1       	pop	ix
2768  0BAA  C9          	ret
2769  0BAB              	SECTION code_compiler
2770  0BAB              ;	---------------------------------
2771  0BAB              ; Function game_enemy_add_get_index
2772  0BAB              ; ---------------------------------
2773  0BAB              _game_enemy_add_get_index:
2774  0BAB  4D          	ld	c,l
2775  0BAC  21 00 00    	ld	hl,_enemies
2776  0BAF  36 00       	ld	(hl),0x00
2777  0BB1              l_game_enemy_add_get_index_00104:
2778  0BB1  2A 00 00    	ld	hl,(_enemies)
2779  0BB4  26 00       	ld	h,0x00
2780  0BB6  11 00 00    	ld	de,_class
2781  0BB9  19          	add	hl,de
2782  0BBA  46          	ld	b, (hl)
2783  0BBB  79          	ld	a,c
2784  0BBC  90          	sub	a,b
2785  0BBD  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2786  0BBF  2A 00 00    	ld	hl,(_enemies)
2787  0BC2  18 0B       	jr	l_game_enemy_add_get_index_00106
2788  0BC4              l_game_enemy_add_get_index_00105:
2789  0BC4  21 00 00    	ld	hl,_enemies
2790  0BC7  34          	inc	(hl)
2791  0BC8  3E 05       	ld	a,0x05
2792  0BCA  96          	sub	a, (hl)
2793  0BCB  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2794  0BCD  2E FF       	ld	l,0xff
2795  0BCF              l_game_enemy_add_get_index_00106:
2796  0BCF  C9          	ret
2797  0BD0              	SECTION code_compiler
2798  0BD0              ;	---------------------------------
2799  0BD0              ; Function game_freeze
2800  0BD0              ; ---------------------------------
2801  0BD0              _game_freeze:
2802  0BD0  CD 00 00    	call	___sdcc_enter_ix
2803  0BD3  DD 7E 05    	ld	a,(ix+5)
2804  0BD6  D6 1F       	sub	a,0x1f
2805  0BD8  30 5F       	jr	NC,l_game_freeze_00107
2806  0BDA  21 00 00    	ld	hl,_tmp
2807  0BDD  36 01       	ld	(hl),0x01
2808  0BDF  DD 66 05    	ld	h,(ix+5)
2809  0BE2  DD 6E 04    	ld	l,(ix+4)
2810  0BE5  E5          	push	hl
2811  0BE6  CD 00 00    	call	_game_calc_index
2812  0BE9  F1          	pop	af
2813  0BEA  22 00 00    	ld	(_index1),hl
2814  0BED  01 00 00    	ld	bc,_lvl_1
2815  0BF0  09          	add	hl,bc
2816  0BF1  7E          	ld	a,(hl)
2817  0BF2  D6 12       	sub	a,0x12
2818  0BF4  20 43       	jr	NZ,l_game_freeze_00107
2819  0BF6  36 14       	ld	(hl),0x14
2820  0BF8  76          	halt
2821  0BF9  DD 7E 05    	ld	a,(ix+5)
2822  0BFC  F5          	push	af
2823  0BFD  33          	inc	sp
2824  0BFE  DD 56 04    	ld	d,(ix+4)
2825  0C01  1E 8B       	ld	e,0x8b
2826  0C03  D5          	push	de
2827  0C04  CD 00 00    	call	_NIRVANAP_drawT_callee
2828  0C07  ED 4B 00 00 	ld	bc,(_index1)
2829  0C0B  03          	inc	bc
2830  0C0C  21 00 00    	ld	hl,_lvl_1
2831  0C0F  09          	add	hl,bc
2832  0C10  4E          	ld	c,(hl)
2833  0C11  DD 46 05    	ld	b,(ix+5)
2834  0C14  04          	inc	b
2835  0C15  79          	ld	a,c
2836  0C16  B7          	or	a, a
2837  0C17  20 0C       	jr	NZ,l_game_freeze_00102
2838  0C19  C5          	push	bc
2839  0C1A  DD 4E 04    	ld	c,(ix+4)
2840  0C1D  C5          	push	bc
2841  0C1E  AF          	xor	a, a
2842  0C1F  F5          	push	af
2843  0C20  33          	inc	sp
2844  0C21  CD 00 00    	call	_NIRVANAP_fillT_callee
2845  0C24  C1          	pop	bc
2846  0C25              l_game_freeze_00102:
2847  0C25  DD 4E 04    	ld	c,(ix+4)
2848  0C28  C5          	push	bc
2849  0C29  CD D0 0B    	call	_game_freeze
2850  0C2C  F1          	pop	af
2851  0C2D  DD 46 05    	ld	b,(ix+5)
2852  0C30  05          	dec	b
2853  0C31  DD 4E 04    	ld	c,(ix+4)
2854  0C34  C5          	push	bc
2855  0C35  CD D0 0B    	call	_game_freeze
2856  0C38  F1          	pop	af
2857  0C39              l_game_freeze_00107:
2858  0C39  DD E1       	pop	ix
2859  0C3B  C9          	ret
2860  0C3C              	SECTION code_compiler
2861  0C3C              ;	---------------------------------
2862  0C3C              ; Function game_unfreeze_all
2863  0C3C              ; ---------------------------------
2864  0C3C              _game_unfreeze_all:
2865  0C3C  21 C0 00    	ld	hl,0x00c0
2866  0C3F  22 00 00    	ld	(_index1),hl
2867  0C42              l_game_unfreeze_all_00104:
2868  0C42  01 00 00    	ld	bc,_lvl_1
2869  0C45  2A 00 00    	ld	hl,(_index1)
2870  0C48  09          	add	hl,bc
2871  0C49  7E          	ld	a,(hl)
2872  0C4A  D6 14       	sub	a,0x14
2873  0C4C  20 02       	jr	NZ,l_game_unfreeze_all_00105
2874  0C4E  36 12       	ld	(hl),0x12
2875  0C50              l_game_unfreeze_all_00105:
2876  0C50  21 00 00    	ld	hl,_index1
2877  0C53  34          	inc	(hl)
2878  0C54  20 02       	jr	NZ,l_game_unfreeze_all_00118
2879  0C56  23          	inc	hl
2880  0C57  34          	inc	(hl)
2881  0C58              l_game_unfreeze_all_00118:
2882  0C58  3E 20       	ld	a,0x20
2883  0C5A  21 00 00    	ld	hl,_index1
2884  0C5D  BE          	cp	a, (hl)
2885  0C5E  3E 02       	ld	a,0x02
2886  0C60  23          	inc	hl
2887  0C61  9E          	sbc	a, (hl)
2888  0C62  30 DE       	jr	NC,l_game_unfreeze_all_00104
2889  0C64  C9          	ret
2890  0C65              	SECTION code_compiler
2891  0C65              ;	---------------------------------
2892  0C65              ; Function game_freeze_all
2893  0C65              ; ---------------------------------
2894  0C65              _game_freeze_all:
2895  0C65  21 C0 00    	ld	hl,0x00c0
2896  0C68  22 00 00    	ld	(_index1),hl
2897  0C6B              l_game_freeze_all_00104:
2898  0C6B  01 00 00    	ld	bc,_lvl_1
2899  0C6E  2A 00 00    	ld	hl,(_index1)
2900  0C71  09          	add	hl,bc
2901  0C72  7E          	ld	a,(hl)
2902  0C73  D6 12       	sub	a,0x12
2903  0C75  20 02       	jr	NZ,l_game_freeze_all_00105
2904  0C77  36 14       	ld	(hl),0x14
2905  0C79              l_game_freeze_all_00105:
2906  0C79  21 00 00    	ld	hl,_index1
2907  0C7C  34          	inc	(hl)
2908  0C7D  20 02       	jr	NZ,l_game_freeze_all_00118
2909  0C7F  23          	inc	hl
2910  0C80  34          	inc	(hl)
2911  0C81              l_game_freeze_all_00118:
2912  0C81  3E 20       	ld	a,0x20
2913  0C83  21 00 00    	ld	hl,_index1
2914  0C86  BE          	cp	a, (hl)
2915  0C87  3E 02       	ld	a,0x02
2916  0C89  23          	inc	hl
2917  0C8A  9E          	sbc	a, (hl)
2918  0C8B  30 DE       	jr	NC,l_game_freeze_all_00104
2919  0C8D  C9          	ret
2920  0C8E              	SECTION code_compiler
2921  0C8E              ;	---------------------------------
2922  0C8E              ; Function game_print_score
2923  0C8E              ; ---------------------------------
2924  0C8E              _game_print_score:
2925  0C8E  21 00 00    	ld	hl,_screen_ink
2926  0C91  36 07       	ld	(hl),0x07
2927  0C93  21 00 00    	ld	hl,_screen_paper
2928  0C96  36 00       	ld	(hl),0x00
2929  0C98  2A 00 00    	ld	hl,(_player_score)
2930  0C9B  E5          	push	hl
2931  0C9C  21 00 03    	ld	hl,0x0300
2932  0C9F  E5          	push	hl
2933  0CA0  CD 00 00    	call	_zx_print_int
2934  0CA3  2A 00 00    	ld	hl,(_game_score_top)
2935  0CA6  E5          	push	hl
2936  0CA7  21 00 0E    	ld	hl,0x0e00
2937  0CAA  E5          	push	hl
2938  0CAB  CD 00 00    	call	_zx_print_int
2939  0CAE  3A 00 00    	ld	a,(_game_two_player)
2940  0CB1  B7          	or	a, a
2941  0CB2  C8          	ret	Z
2942  0CB3  2A 02 00    	ld	hl, (_player_score + 2)
2943  0CB6  E5          	push	hl
2944  0CB7  21 00 18    	ld	hl,0x1800
2945  0CBA  E5          	push	hl
2946  0CBB  CD 00 00    	call	_zx_print_int
2947  0CBE  C9          	ret
2948  0CBF              	SECTION code_compiler
2949  0CBF              ;	---------------------------------
2950  0CBF              ; Function game_paint_attrib
2951  0CBF              ; ---------------------------------
2952  0CBF              _game_paint_attrib:
2953  0CBF  7D          	ld	a,l
2954  0CC0  32 00 00    	ld	(_tmp0),a
2955  0CC3              l_game_paint_attrib_00103:
2956  0CC3  3E 13       	ld	a,0x13
2957  0CC5  21 00 00    	ld	hl,_tmp0
2958  0CC8  96          	sub	a, (hl)
2959  0CC9  D8          	ret	C
2960  0CCA  7E          	ld	a,(hl)
2961  0CCB  07          	rlca
2962  0CCC  07          	rlca
2963  0CCD  07          	rlca
2964  0CCE  E6 F8       	and	a,0xf8
2965  0CD0  C6 08       	add	a,0x08
2966  0CD2  F5          	push	af
2967  0CD3  33          	inc	sp
2968  0CD4  21 01 1F    	ld	hl,0x1f01
2969  0CD7  E5          	push	hl
2970  0CD8  CD E3 0C    	call	_game_paint_attrib_lin
2971  0CDB  F1          	pop	af
2972  0CDC  33          	inc	sp
2973  0CDD  21 00 00    	ld	hl,_tmp0
2974  0CE0  34          	inc	(hl)
2975  0CE1  18 E0       	jr	l_game_paint_attrib_00103
2976  0CE3              	SECTION code_compiler
2977  0CE3              ;	---------------------------------
2978  0CE3              ; Function game_paint_attrib_lin
2979  0CE3              ; ---------------------------------
2980  0CE3              _game_paint_attrib_lin:
2981  0CE3  CD 00 00    	call	___sdcc_enter_ix
2982  0CE6  DD 7E 04    	ld	a,(ix+4)
2983  0CE9  32 00 00    	ld	(_tmp_uc),a
2984  0CEC              l_game_paint_attrib_lin_00103:
2985  0CEC  21 00 00    	ld	hl,_tmp_uc
2986  0CEF  7E          	ld	a,(hl)
2987  0CF0  DD 96 05    	sub	a,(ix+5)
2988  0CF3  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2989  0CF5  66          	ld	h,(hl)
2990  0CF6  DD 6E 06    	ld	l,(ix+6)
2991  0CF9  E5          	push	hl
2992  0CFA  21 00 00    	ld	hl,_attrib
2993  0CFD  E5          	push	hl
2994  0CFE  CD 00 00    	call	_NIRVANAP_paintC_callee
2995  0D01  21 00 00    	ld	hl,_tmp_uc
2996  0D04  34          	inc	(hl)
2997  0D05  18 E5       	jr	l_game_paint_attrib_lin_00103
2998  0D07              l_game_paint_attrib_lin_00105:
2999  0D07  DD E1       	pop	ix
3000  0D09  C9          	ret
3001  0D0A              	SECTION code_compiler
3002  0D0A              ;	---------------------------------
3003  0D0A              ; Function game_paint_attrib_lin_h
3004  0D0A              ; ---------------------------------
3005  0D0A              _game_paint_attrib_lin_h:
3006  0D0A  CD 00 00    	call	___sdcc_enter_ix
3007  0D0D  DD 7E 04    	ld	a,(ix+4)
3008  0D10  32 00 00    	ld	(_tmp_uc),a
3009  0D13              l_game_paint_attrib_lin_h_00103:
3010  0D13  21 00 00    	ld	hl,_tmp_uc
3011  0D16  7E          	ld	a,(hl)
3012  0D17  DD 96 05    	sub	a,(ix+5)
3013  0D1A  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3014  0D1C  66          	ld	h,(hl)
3015  0D1D  DD 6E 06    	ld	l,(ix+6)
3016  0D20  E5          	push	hl
3017  0D21  21 00 00    	ld	hl,_attrib_hl
3018  0D24  E5          	push	hl
3019  0D25  CD 00 00    	call	_NIRVANAP_paintC_callee
3020  0D28  21 00 00    	ld	hl,_tmp_uc
3021  0D2B  34          	inc	(hl)
3022  0D2C  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3023  0D2E              l_game_paint_attrib_lin_h_00105:
3024  0D2E  DD E1       	pop	ix
3025  0D30  C9          	ret
3026  0D31              	SECTION code_compiler
3027  0D31              ;	---------------------------------
3028  0D31              ; Function game_menu_config
3029  0D31              ; ---------------------------------
3030  0D31              _game_menu_config:
3031  0D31  CD 00 00    	call	___sdcc_enter_ix
3032  0D34  F5          	push	af
3033  0D35  3B          	dec	sp
3034  0D36  2E 0B       	ld	l,0x0b
3035  0D38  CD BF 0C    	call	_game_paint_attrib
3036  0D3B  DD 36 FD 01 	ld	(ix-3),0x01
3037  0D3F              l_game_menu_config_00116:
3038  0D3F  DD 7E FD    	ld	a,(ix-3)
3039  0D42  B7          	or	a, a
3040  0D43  CA 9D 0E    	jp	Z,l_game_menu_config_00119
3041  0D46              l_game_menu_config_00101:
3042  0D46  21 00 00    	ld	hl,_k1
3043  0D49  E5          	push	hl
3044  0D4A  2A 00 00    	ld	hl,(_joyfunc1)
3045  0D4D  CD 00 00    	call	___sdcc_call_hl
3046  0D50  F1          	pop	af
3047  0D51  7C          	ld	a,h
3048  0D52  B5          	or	a,l
3049  0D53  20 F1       	jr	NZ,l_game_menu_config_00101
3050  0D55  3A 00 00    	ld	a,(_spec128)
3051  0D58  B7          	or	a,a
3052  0D59  28 0A       	jr	Z,l_game_menu_config_00121
3053  0D5B  DD 36 FE C5 	ld	(ix-2),+((___str_25) & 0xFF)
3054  0D5F  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3055  0D63  18 08       	jr	l_game_menu_config_00122
3056  0D65              l_game_menu_config_00121:
3057  0D65  DD 36 FE D0 	ld	(ix-2),+((___str_26) & 0xFF)
3058  0D69  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3059  0D6D              l_game_menu_config_00122:
3060  0D6D  DD 4E FE    	ld	c,(ix-2)
3061  0D70  DD 46 FF    	ld	b,(ix-1)
3062  0D73  C5          	push	bc
3063  0D74  21 0E 0A    	ld	hl,0x0a0e
3064  0D77  E5          	push	hl
3065  0D78  CD 00 00    	call	_zx_print_str
3066  0D7B  21 DB 00    	ld	hl,___str_27
3067  0D7E  E5          	push	hl
3068  0D7F  21 0F 0A    	ld	hl,0x0a0f
3069  0D82  E5          	push	hl
3070  0D83  CD 00 00    	call	_zx_print_str
3071  0D86  21 E6 00    	ld	hl,___str_28
3072  0D89  E5          	push	hl
3073  0D8A  21 10 0A    	ld	hl,0x0a10
3074  0D8D  E5          	push	hl
3075  0D8E  CD 00 00    	call	_zx_print_str
3076  0D91  21 F1 00    	ld	hl,___str_29
3077  0D94  E5          	push	hl
3078  0D95  21 11 0A    	ld	hl,0x0a11
3079  0D98  E5          	push	hl
3080  0D99  CD 00 00    	call	_zx_print_str
3081  0D9C  21 FC 00    	ld	hl,___str_30
3082  0D9F  E5          	push	hl
3083  0DA0  21 12 0A    	ld	hl,0x0a12
3084  0DA3  E5          	push	hl
3085  0DA4  CD 00 00    	call	_zx_print_str
3086  0DA7  3A 00 00    	ld	a,(_game_sound)
3087  0DAA  E6 05       	and	a,0x05
3088  0DAC  28 05       	jr	Z,l_game_menu_config_00123
3089  0DAE  01 07 01    	ld	bc,___str_31
3090  0DB1  18 03       	jr	l_game_menu_config_00124
3091  0DB3              l_game_menu_config_00123:
3092  0DB3  01 0B 01    	ld	bc,___str_32
3093  0DB6              l_game_menu_config_00124:
3094  0DB6  C5          	push	bc
3095  0DB7  21 0E 14    	ld	hl,0x140e
3096  0DBA  E5          	push	hl
3097  0DBB  CD 00 00    	call	_zx_print_str
3098  0DBE  3E 02       	ld	a,0x02
3099  0DC0  21 00 00    	ld	hl,_game_type
3100  0DC3  96          	sub	a, (hl)
3101  0DC4  38 34       	jr	C,l_game_menu_config_00107
3102  0DC6  5E          	ld	e,(hl)
3103  0DC7  16 00       	ld	d,0x00
3104  0DC9  21 CF 0D    	ld	hl,l_game_menu_config_00164
3105  0DCC  19          	add	hl,de
3106  0DCD  19          	add	hl,de
3107  0DCE  E9          	jp	(hl)
3108  0DCF              l_game_menu_config_00164:
3109  0DCF  18 04       	jr	l_game_menu_config_00104
3110  0DD1  18 0F       	jr	l_game_menu_config_00105
3111  0DD3  18 1A       	jr	l_game_menu_config_00106
3112  0DD5              l_game_menu_config_00104:
3113  0DD5  21 0F 01    	ld	hl,___str_33
3114  0DD8  E5          	push	hl
3115  0DD9  21 0F 14    	ld	hl,0x140f
3116  0DDC  E5          	push	hl
3117  0DDD  CD 00 00    	call	_zx_print_str
3118  0DE0  18 18       	jr	l_game_menu_config_00107
3119  0DE2              l_game_menu_config_00105:
3120  0DE2  21 13 01    	ld	hl,___str_34
3121  0DE5  E5          	push	hl
3122  0DE6  21 0F 14    	ld	hl,0x140f
3123  0DE9  E5          	push	hl
3124  0DEA  CD 00 00    	call	_zx_print_str
3125  0DED  18 0B       	jr	l_game_menu_config_00107
3126  0DEF              l_game_menu_config_00106:
3127  0DEF  21 17 01    	ld	hl,___str_35
3128  0DF2  E5          	push	hl
3129  0DF3  21 0F 14    	ld	hl,0x140f
3130  0DF6  E5          	push	hl
3131  0DF7  CD 00 00    	call	_zx_print_str
3132  0DFA              l_game_menu_config_00107:
3133  0DFA  2A 00 00    	ld	hl,(_player_joy)
3134  0DFD  29          	add	hl, hl
3135  0DFE  11 00 00    	ld	de,_joynames
3136  0E01  19          	add	hl,de
3137  0E02  4E          	ld	c,(hl)
3138  0E03  23          	inc	hl
3139  0E04  46          	ld	b,(hl)
3140  0E05  C5          	push	bc
3141  0E06  21 10 14    	ld	hl,0x1410
3142  0E09  E5          	push	hl
3143  0E0A  CD 00 00    	call	_zx_print_str
3144  0E0D  2A 02 00    	ld	hl, (_player_joy + 2)
3145  0E10  29          	add	hl, hl
3146  0E11  11 00 00    	ld	de,_joynames
3147  0E14  19          	add	hl,de
3148  0E15  4E          	ld	c,(hl)
3149  0E16  23          	inc	hl
3150  0E17  46          	ld	b,(hl)
3151  0E18  C5          	push	bc
3152  0E19  21 11 14    	ld	hl,0x1411
3153  0E1C  E5          	push	hl
3154  0E1D  CD 00 00    	call	_zx_print_str
3155  0E20  21 00 00    	ld	hl,0x0000
3156  0E23  E5          	push	hl
3157  0E24  21 0E 12    	ld	hl,0x120e
3158  0E27  E5          	push	hl
3159  0E28  21 0A 01    	ld	hl,0x010a
3160  0E2B  E5          	push	hl
3161  0E2C  CD 56 11    	call	_game_menu_handle
3162  0E2F  F1          	pop	af
3163  0E30  F1          	pop	af
3164  0E31  F1          	pop	af
3165  0E32  7D          	ld	a,l
3166  0E33  32 00 00    	ld	(_game_menu_sel),a
3167  0E36  21 00 00    	ld	hl,_ay_effect_10
3168  0E39  CD 00 00    	call	_ay_fx_play
3169  0E3C  CD 00 00    	call	_sound_coin
3170  0E3F  3E 04       	ld	a,0x04
3171  0E41  21 00 00    	ld	hl,_game_menu_sel
3172  0E44  96          	sub	a, (hl)
3173  0E45  DA 3F 0D    	jp	C,l_game_menu_config_00116
3174  0E48  5E          	ld	e,(hl)
3175  0E49  16 00       	ld	d,0x00
3176  0E4B  21 51 0E    	ld	hl,l_game_menu_config_00165
3177  0E4E  19          	add	hl,de
3178  0E4F  19          	add	hl,de
3179  0E50  E9          	jp	(hl)
3180  0E51              l_game_menu_config_00165:
3181  0E51  18 08       	jr	l_game_menu_config_00108
3182  0E53  18 1A       	jr	l_game_menu_config_00109
3183  0E55  18 27       	jr	l_game_menu_config_00112
3184  0E57  18 2D       	jr	l_game_menu_config_00113
3185  0E59  18 33       	jr	l_game_menu_config_00114
3186  0E5B              l_game_menu_config_00108:
3187  0E5B  3A 00 00    	ld	a,(_spec128)
3188  0E5E  B7          	or	a, a
3189  0E5F  28 04       	jr	Z,l_game_menu_config_00125
3190  0E61  3E 04       	ld	a,0x04
3191  0E63  18 02       	jr	l_game_menu_config_00126
3192  0E65              l_game_menu_config_00125:
3193  0E65  3E 01       	ld	a,0x01
3194  0E67              l_game_menu_config_00126:
3195  0E67  21 00 00    	ld	hl,_game_sound
3196  0E6A  AE          	xor	a, (hl)
3197  0E6B  77          	ld	(hl),a
3198  0E6C  C3 3F 0D    	jp	l_game_menu_config_00116
3199  0E6F              l_game_menu_config_00109:
3200  0E6F  21 00 00    	ld	hl,_game_type
3201  0E72  34          	inc	(hl)
3202  0E73  3E 02       	ld	a,0x02
3203  0E75  96          	sub	a, (hl)
3204  0E76  D2 3F 0D    	jp	NC,l_game_menu_config_00116
3205  0E79  36 00       	ld	(hl),0x00
3206  0E7B  C3 3F 0D    	jp	l_game_menu_config_00116
3207  0E7E              l_game_menu_config_00112:
3208  0E7E  2E 00       	ld	l,0x00
3209  0E80  CD A2 0E    	call	_game_joystick_change
3210  0E83  C3 3F 0D    	jp	l_game_menu_config_00116
3211  0E86              l_game_menu_config_00113:
3212  0E86  2E 01       	ld	l,0x01
3213  0E88  CD A2 0E    	call	_game_joystick_change
3214  0E8B  C3 3F 0D    	jp	l_game_menu_config_00116
3215  0E8E              l_game_menu_config_00114:
3216  0E8E  21 00 00    	ld	hl,_game_menu_sel
3217  0E91  36 00       	ld	(hl),0x00
3218  0E93  CD 28 10    	call	_game_menu_paint
3219  0E96  DD 36 FD 00 	ld	(ix-3),0x00
3220  0E9A  C3 3F 0D    	jp	l_game_menu_config_00116
3221  0E9D              l_game_menu_config_00119:
3222  0E9D  DD F9       	ld	sp, ix
3223  0E9F  DD E1       	pop	ix
3224  0EA1  C9          	ret
3225  0EA2              	SECTION rodata_compiler
3226  00C5              ___str_25:
3227  00C5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3228  00CF  00          	DEFB 0x00
3229  00D0              	SECTION rodata_compiler
3230  00D0              ___str_26:
3231  00D0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3232  00DA  00          	DEFB 0x00
3233  00DB              	SECTION rodata_compiler
3234  00DB              ___str_27:
3235  00DB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3236  00E5  00          	DEFB 0x00
3237  00E6              	SECTION rodata_compiler
3238  00E6              ___str_28:
3239  00E6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3240  00F0  00          	DEFB 0x00
3241  00F1              	SECTION rodata_compiler
3242  00F1              ___str_29:
3243  00F1  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3244  00FB  00          	DEFB 0x00
3245  00FC              	SECTION rodata_compiler
3246  00FC              ___str_30:
3247  00FC  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3248  0106  00          	DEFB 0x00
3249  0107              	SECTION rodata_compiler
3250  0107              ___str_31:
3251  0107  4F 4E 20    	DEFM "ON "
3252  010A  00          	DEFB 0x00
3253  010B              	SECTION rodata_compiler
3254  010B              ___str_32:
3255  010B  4F 46 46    	DEFM "OFF"
3256  010E  00          	DEFB 0x00
3257  010F              	SECTION rodata_compiler
3258  010F              ___str_33:
3259  010F  41 20 20    	DEFM "A  "
3260  0112  00          	DEFB 0x00
3261  0113              	SECTION rodata_compiler
3262  0113              ___str_34:
3263  0113  42 20 20    	DEFM "B  "
3264  0116  00          	DEFB 0x00
3265  0117              	SECTION rodata_compiler
3266  0117              ___str_35:
3267  0117  52 4E 44    	DEFM "RND"
3268  011A  00          	DEFB 0x00
3269  011B              	SECTION code_compiler
3270  0EA2              ;	---------------------------------
3271  0EA2              ; Function game_joystick_change
3272  0EA2              ; ---------------------------------
3273  0EA2              _game_joystick_change:
3274  0EA2  CD 00 00    	call	___sdcc_enter_ix
3275  0EA5  3B          	dec	sp
3276  0EA6  DD 75 FF    	ld	(ix-1),l
3277  0EA9  26 00       	ld	h,0x00
3278  0EAB  29          	add	hl, hl
3279  0EAC  01 00 00    	ld	bc,_player_joy
3280  0EAF  09          	add	hl,bc
3281  0EB0  4D          	ld	c,l
3282  0EB1  44          	ld	b,h
3283  0EB2  5E          	ld	e,(hl)
3284  0EB3  23          	inc	hl
3285  0EB4  56          	ld	d,(hl)
3286  0EB5  13          	inc	de
3287  0EB6  69          	ld	l, c
3288  0EB7  60          	ld	h, b
3289  0EB8  73          	ld	(hl),e
3290  0EB9  23          	inc	hl
3291  0EBA  72          	ld	(hl),d
3292  0EBB  7B          	ld	a,e
3293  0EBC  D6 07       	sub	a,0x07
3294  0EBE  20 09       	jr	NZ,l_game_joystick_change_00102
3295  0EC0  B2          	or	a,d
3296  0EC1  20 06       	jr	NZ,l_game_joystick_change_00102
3297  0EC3  69          	ld	l, c
3298  0EC4  60          	ld	h, b
3299  0EC5  AF          	xor	a, a
3300  0EC6  77          	ld	(hl), a
3301  0EC7  23          	inc	hl
3302  0EC8  77          	ld	(hl), a
3303  0EC9              l_game_joystick_change_00102:
3304  0EC9  DD 7E FF    	ld	a,(ix-1)
3305  0ECC  B7          	or	a, a
3306  0ECD  20 15       	jr	NZ,l_game_joystick_change_00104
3307  0ECF  69          	ld	l, c
3308  0ED0  60          	ld	h, b
3309  0ED1  5E          	ld	e,(hl)
3310  0ED2  23          	inc	hl
3311  0ED3  56          	ld	d,(hl)
3312  0ED4  1D          	dec	e
3313  0ED5  20 0D       	jr	NZ,l_game_joystick_change_00104
3314  0ED7  7A          	ld	a,d
3315  0ED8  B7          	or	a, a
3316  0ED9  20 09       	jr	NZ,l_game_joystick_change_00104
3317  0EDB  ED 5B 00 00 	ld	de,(_player_joy)
3318  0EDF  13          	inc	de
3319  0EE0  ED 53 00 00 	ld	(_player_joy), de
3320  0EE4              l_game_joystick_change_00104:
3321  0EE4  DD 7E FF    	ld	a,(ix-1)
3322  0EE7  3D          	dec	a
3323  0EE8  20 11       	jr	NZ,l_game_joystick_change_00107
3324  0EEA  69          	ld	l, c
3325  0EEB  60          	ld	h, b
3326  0EEC  4E          	ld	c,(hl)
3327  0EED  23          	inc	hl
3328  0EEE  7E          	ld	a, (hl)
3329  0EEF  B1          	or	a,c
3330  0EF0  20 09       	jr	NZ,l_game_joystick_change_00107
3331  0EF2  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3332  0EF6  03          	inc	bc
3333  0EF7  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3334  0EFB              l_game_joystick_change_00107:
3335  0EFB  ED 4B 00 00 	ld	bc,(_player_joy)
3336  0EFF  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3337  0F03  79          	ld	a,c
3338  0F04  93          	sub	a, e
3339  0F05  20 18       	jr	NZ,l_game_joystick_change_00114
3340  0F07  78          	ld	a,b
3341  0F08  92          	sub	a, d
3342  0F09  20 14       	jr	NZ,l_game_joystick_change_00114
3343  0F0B  DD 7E FF    	ld	a,(ix-1)
3344  0F0E  B7          	or	a, a
3345  0F0F  20 08       	jr	NZ,l_game_joystick_change_00110
3346  0F11  21 01 00    	ld	hl,0x0001
3347  0F14  22 02 00    	ld	(_player_joy + 0x0002),hl
3348  0F17  18 06       	jr	l_game_joystick_change_00114
3349  0F19              l_game_joystick_change_00110:
3350  0F19  21 00 00    	ld	hl,0x0000
3351  0F1C  22 00 00    	ld	(_player_joy), hl
3352  0F1F              l_game_joystick_change_00114:
3353  0F1F  33          	inc	sp
3354  0F20  DD E1       	pop	ix
3355  0F22  C9          	ret
3356  0F23              	SECTION code_compiler
3357  0F23              ;	---------------------------------
3358  0F23              ; Function game_joystick_set_menu
3359  0F23              ; ---------------------------------
3360  0F23              _game_joystick_set_menu:
3361  0F23  21 00 00    	ld	hl,_in_stick_sinclair1
3362  0F26  22 00 00    	ld	(_joyfunc1),hl
3363  0F29  21 00 00    	ld	hl,_in_stick_sinclair2
3364  0F2C  22 00 00    	ld	(_joyfunc2),hl
3365  0F2F  C9          	ret
3366  0F30              	SECTION code_compiler
3367  0F30              ;	---------------------------------
3368  0F30              ; Function game_joystick_set
3369  0F30              ; ---------------------------------
3370  0F30              _game_joystick_set:
3371  0F30  01 00 00    	ld	bc,_control_method+0
3372  0F33  2A 00 00    	ld	hl,(_player_joy)
3373  0F36  29          	add	hl, hl
3374  0F37  09          	add	hl,bc
3375  0F38  11 00 00    	ld	de,_joyfunc1
3376  0F3B  ED A0       	ldi
3377  0F3D  03          	inc	bc
3378  0F3E  7E          	ld	a,(hl)
3379  0F3F  12          	ld	(de),a
3380  0F40  2A 02 00    	ld	hl, (_player_joy + 2)
3381  0F43  29          	add	hl, hl
3382  0F44  09          	add	hl,bc
3383  0F45  11 00 00    	ld	de,_joyfunc2
3384  0F48  ED A0       	ldi
3385  0F4A  7E          	ld	a,(hl)
3386  0F4B  12          	ld	(de),a
3387  0F4C  C9          	ret
3388  0F4D              	SECTION code_compiler
3389  0F4D              ;	---------------------------------
3390  0F4D              ; Function game_menu
3391  0F4D              ; ---------------------------------
3392  0F4D              _game_menu:
3393  0F4D  21 00 00    	ld	hl,_game_menu_sel
3394  0F50  36 00       	ld	(hl),0x00
3395  0F52  CD B4 0F    	call	_game_menu_top_paint
3396  0F55  CD 28 10    	call	_game_menu_paint
3397  0F58  CD 00 00    	call	_ay_reset
3398  0F5B  21 00 00    	ld	hl,_pb_midi_title
3399  0F5E  CD 00 00    	call	_ay_midi_play
3400  0F61              l_game_menu_00101:
3401  0F61  21 00 00    	ld	hl,_k1
3402  0F64  E5          	push	hl
3403  0F65  2A 00 00    	ld	hl,(_joyfunc1)
3404  0F68  CD 00 00    	call	___sdcc_call_hl
3405  0F6B  F1          	pop	af
3406  0F6C  7C          	ld	a,h
3407  0F6D  B5          	or	a,l
3408  0F6E  20 F1       	jr	NZ,l_game_menu_00101
3409  0F70  21 E8 03    	ld	hl,0x03e8
3410  0F73  E5          	push	hl
3411  0F74  21 0E 12    	ld	hl,0x120e
3412  0F77  E5          	push	hl
3413  0F78  21 0C 02    	ld	hl,0x020c
3414  0F7B  E5          	push	hl
3415  0F7C  CD 56 11    	call	_game_menu_handle
3416  0F7F  F1          	pop	af
3417  0F80  F1          	pop	af
3418  0F81  F1          	pop	af
3419  0F82  4D          	ld	c,l
3420  0F83  21 00 00    	ld	hl,_tmp_uc
3421  0F86  71          	ld	(hl),c
3422  0F87  3E 02       	ld	a,0x02
3423  0F89  96          	sub	a, (hl)
3424  0F8A  38 D5       	jr	C,l_game_menu_00101
3425  0F8C  5E          	ld	e,(hl)
3426  0F8D  16 00       	ld	d,0x00
3427  0F8F  21 95 0F    	ld	hl,l_game_menu_00125
3428  0F92  19          	add	hl,de
3429  0F93  19          	add	hl,de
3430  0F94  E9          	jp	(hl)
3431  0F95              l_game_menu_00125:
3432  0F95  18 04       	jr	l_game_menu_00104
3433  0F97  18 0C       	jr	l_game_menu_00105
3434  0F99  18 14       	jr	l_game_menu_00106
3435  0F9B              l_game_menu_00104:
3436  0F9B  21 00 00    	ld	hl,_game_two_player
3437  0F9E  36 00       	ld	(hl),0x00
3438  0FA0  CD 4D 03    	call	_game_loop
3439  0FA3  18 BC       	jr	l_game_menu_00101
3440  0FA5              l_game_menu_00105:
3441  0FA5  21 00 00    	ld	hl,_game_two_player
3442  0FA8  36 01       	ld	(hl),0x01
3443  0FAA  CD 4D 03    	call	_game_loop
3444  0FAD  18 B2       	jr	l_game_menu_00101
3445  0FAF              l_game_menu_00106:
3446  0FAF  CD 31 0D    	call	_game_menu_config
3447  0FB2  18 AD       	jr	l_game_menu_00101
3448  0FB4              	SECTION code_compiler
3449  0FB4              ;	---------------------------------
3450  0FB4              ; Function game_menu_top_paint
3451  0FB4              ; ---------------------------------
3452  0FB4              _game_menu_top_paint:
3453  0FB4  CD 00 00    	call	_spr_draw_clear
3454  0FB7  2E 00       	ld	l,0x00
3455  0FB9  CD BF 0C    	call	_game_paint_attrib
3456  0FBC  21 9C 01    	ld	hl,0x019c
3457  0FBF  E5          	push	hl
3458  0FC0  21 00 1E    	ld	hl,0x1e00
3459  0FC3  E5          	push	hl
3460  0FC4  3E 10       	ld	a,0x10
3461  0FC6  F5          	push	af
3462  0FC7  33          	inc	sp
3463  0FC8  CD A3 10    	call	_game_menu_e
3464  0FCB  F1          	pop	af
3465  0FCC  33          	inc	sp
3466  0FCD  21 9F FF    	ld	hl,0xff9f
3467  0FD0  E3          	ex	(sp),hl
3468  0FD1  21 00 1E    	ld	hl,0x1e00
3469  0FD4  E5          	push	hl
3470  0FD5  3E 50       	ld	a,0x50
3471  0FD7  F5          	push	af
3472  0FD8  33          	inc	sp
3473  0FD9  CD A3 10    	call	_game_menu_e
3474  0FDC  F1          	pop	af
3475  0FDD  F1          	pop	af
3476  0FDE  33          	inc	sp
3477  0FDF  21 00 00    	ld	hl,_tmp
3478  0FE2  36 18       	ld	(hl),0x18
3479  0FE4  F3          	di
3480  0FE5  21 00 00    	ld	hl,_tmp_uc
3481  0FE8  36 00       	ld	(hl),0x00
3482  0FEA              l_game_menu_top_paint_00102:
3483  0FEA  3A 00 00    	ld	a,(_tmp_uc)
3484  0FED  87          	add	a, a
3485  0FEE  C6 05       	add	a,0x05
3486  0FF0  47          	ld	b,a
3487  0FF1  3A 00 00    	ld	a,(_tmp)
3488  0FF4  C6 10       	add	a,0x10
3489  0FF6  57          	ld	d,a
3490  0FF7  3A 00 00    	ld	a,(_tmp_uc)
3491  0FFA  C6 C0       	add	a,0xc0
3492  0FFC  4A          	ld	c, d
3493  0FFD  C5          	push	bc
3494  0FFE  F5          	push	af
3495  0FFF  33          	inc	sp
3496  1000  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3497  1003  3A 00 00    	ld	a,(_tmp_uc)
3498  1006  87          	add	a, a
3499  1007  C6 05       	add	a,0x05
3500  1009  47          	ld	b,a
3501  100A  3A 00 00    	ld	a,(_tmp)
3502  100D  C6 20       	add	a,0x20
3503  100F  57          	ld	d,a
3504  1010  3A 00 00    	ld	a,(_tmp_uc)
3505  1013  C6 CC       	add	a,0xcc
3506  1015  4A          	ld	c, d
3507  1016  C5          	push	bc
3508  1017  F5          	push	af
3509  1018  33          	inc	sp
3510  1019  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3511  101C  21 00 00    	ld	hl,_tmp_uc
3512  101F  7E          	ld	a,(hl)
3513  1020  3C          	inc	a
3514  1021  77          	ld	(hl),a
3515  1022  D6 0A       	sub	a,0x0a
3516  1024  38 C4       	jr	C,l_game_menu_top_paint_00102
3517  1026  FB          	ei
3518  1027  C9          	ret
3519  1028              	SECTION code_compiler
3520  1028              ;	---------------------------------
3521  1028              ; Function game_menu_paint
3522  1028              ; ---------------------------------
3523  1028              _game_menu_paint:
3524  1028  76          	halt
3525  1029  3A 00 00    	ld	a,(_tmp)
3526  102C  C6 28       	add	a,0x28
3527  102E  4F          	ld	c, a
3528  102F  06 1A       	ld	b,0x1a
3529  1031  C5          	push	bc
3530  1032  3E 12       	ld	a,0x12
3531  1034  F5          	push	af
3532  1035  33          	inc	sp
3533  1036  CD 00 00    	call	_NIRVANAP_fillC_callee
3534  1039  21 00 20    	ld	hl,0x2000
3535  103C  E5          	push	hl
3536  103D  CD 00 00    	call	_game_fill_row
3537  1040  21 00 20    	ld	hl,0x2000
3538  1043  E5          	push	hl
3539  1044  CD 00 00    	call	_game_fill_row
3540  1047  21 1B 01    	ld	hl,___str_36
3541  104A  E5          	push	hl
3542  104B  21 0E 0A    	ld	hl,0x0a0e
3543  104E  E5          	push	hl
3544  104F  CD 00 00    	call	_zx_print_str
3545  1052  21 0F 20    	ld	hl,0x200f
3546  1055  E5          	push	hl
3547  1056  CD 00 00    	call	_game_fill_row
3548  1059  21 29 01    	ld	hl,___str_37
3549  105C  E5          	push	hl
3550  105D  21 10 0A    	ld	hl,0x0a10
3551  1060  E5          	push	hl
3552  1061  CD 00 00    	call	_zx_print_str
3553  1064  21 11 20    	ld	hl,0x2011
3554  1067  E5          	push	hl
3555  1068  CD 00 00    	call	_game_fill_row
3556  106B  21 37 01    	ld	hl,___str_38
3557  106E  E5          	push	hl
3558  106F  21 12 0A    	ld	hl,0x0a12
3559  1072  E5          	push	hl
3560  1073  CD 00 00    	call	_zx_print_str
3561  1076  21 13 20    	ld	hl,0x2013
3562  1079  E5          	push	hl
3563  107A  CD 00 00    	call	_game_fill_row
3564  107D  21 00 00    	ld	hl,_screen_ink
3565  1080  36 01       	ld	(hl),0x01
3566  1082  21 45 01    	ld	hl,___str_39
3567  1085  E5          	push	hl
3568  1086  21 16 07    	ld	hl,0x0716
3569  1089  E5          	push	hl
3570  108A  CD 00 00    	call	_zx_print_str
3571  108D  21 58 01    	ld	hl,___str_40
3572  1090  E5          	push	hl
3573  1091  21 17 07    	ld	hl,0x0717
3574  1094  E5          	push	hl
3575  1095  CD 00 00    	call	_zx_print_str
3576  1098  21 00 00    	ld	hl,_tmp_uc
3577  109B  36 00       	ld	(hl),0x00
3578  109D  2E 0B       	ld	l,0x0b
3579  109F  CD BF 0C    	call	_game_paint_attrib
3580  10A2  C9          	ret
3581  10A3              	SECTION rodata_compiler
3582  011B              ___str_36:
3583  011B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3584  0128  00          	DEFB 0x00
3585  0129              	SECTION rodata_compiler
3586  0129              ___str_37:
3587  0129  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3588  0136  00          	DEFB 0x00
3589  0137              	SECTION rodata_compiler
3590  0137              ___str_38:
3591  0137  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3592  0144  00          	DEFB 0x00
3593  0145              	SECTION rodata_compiler
3594  0145              ___str_39:
3595  0145  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3596  0157  00          	DEFB 0x00
3597  0158              	SECTION rodata_compiler
3598  0158              ___str_40:
3599  0158  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3600  0169  00          	DEFB 0x00
3601  016A              	SECTION code_compiler
3602  10A3              ;	---------------------------------
3603  10A3              ; Function game_menu_e
3604  10A3              ; ---------------------------------
3605  10A3              _game_menu_e:
3606  10A3  CD 00 00    	call	___sdcc_enter_ix
3607  10A6  F3          	di
3608  10A7  DD 4E 05    	ld	c,(ix+5)
3609  10AA  21 00 00    	ld	hl,_tmp_uc
3610  10AD  71          	ld	(hl),c
3611  10AE  DD 46 07    	ld	b,(ix+7)
3612  10B1  04          	inc	b
3613  10B2  DD 56 07    	ld	d,(ix+7)
3614  10B5  14          	inc	d
3615  10B6  14          	inc	d
3616  10B7              l_game_menu_e_00114:
3617  10B7  DD 7E 06    	ld	a,(ix+6)
3618  10BA  21 00 00    	ld	hl,_tmp_uc
3619  10BD  96          	sub	a, (hl)
3620  10BE  38 56       	jr	C,l_game_menu_e_00109
3621  10C0  7E          	ld	a,(hl)
3622  10C1  91          	sub	a, c
3623  10C2  20 15       	jr	NZ,l_game_menu_e_00102
3624  10C4  3A 00 00    	ld	a,(_tmp_uc)
3625  10C7  C5          	push	bc
3626  10C8  D5          	push	de
3627  10C9  F5          	push	af
3628  10CA  33          	inc	sp
3629  10CB  DD 66 04    	ld	h,(ix+4)
3630  10CE  DD 6E 07    	ld	l,(ix+7)
3631  10D1  E5          	push	hl
3632  10D2  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3633  10D5  D1          	pop	de
3634  10D6  C1          	pop	bc
3635  10D7  18 36       	jr	l_game_menu_e_00108
3636  10D9              l_game_menu_e_00102:
3637  10D9  3A 00 00    	ld	a,(_tmp_uc)
3638  10DC  DD 96 06    	sub	a,(ix+6)
3639  10DF  20 14       	jr	NZ,l_game_menu_e_00104
3640  10E1  3A 00 00    	ld	a,(_tmp_uc)
3641  10E4  C5          	push	bc
3642  10E5  D5          	push	de
3643  10E6  F5          	push	af
3644  10E7  33          	inc	sp
3645  10E8  DD 7E 04    	ld	a,(ix+4)
3646  10EB  5A          	ld	e,d
3647  10EC  57          	ld	d,a
3648  10ED  D5          	push	de
3649  10EE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3650  10F1  D1          	pop	de
3651  10F2  C1          	pop	bc
3652  10F3  18 1A       	jr	l_game_menu_e_00108
3653  10F5              l_game_menu_e_00104:
3654  10F5  3A 00 00    	ld	a,(_tmp_uc)
3655  10F8  FE 0E       	cp	a,0x0e
3656  10FA  28 13       	jr	Z,l_game_menu_e_00108
3657  10FC  FE 10       	cp	a,0x10
3658  10FE  28 0F       	jr	Z,l_game_menu_e_00108
3659  1100  C5          	push	bc
3660  1101  D5          	push	de
3661  1102  F5          	push	af
3662  1103  33          	inc	sp
3663  1104  DD 7E 04    	ld	a,(ix+4)
3664  1107  48          	ld	c,b
3665  1108  47          	ld	b,a
3666  1109  C5          	push	bc
3667  110A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3668  110D  D1          	pop	de
3669  110E  C1          	pop	bc
3670  110F              l_game_menu_e_00108:
3671  110F  21 00 00    	ld	hl,_tmp_uc
3672  1112  34          	inc	(hl)
3673  1113  34          	inc	(hl)
3674  1114  18 A1       	jr	l_game_menu_e_00114
3675  1116              l_game_menu_e_00109:
3676  1116  DD 7E 08    	ld	a,(ix+8)
3677  1119  3C          	inc	a
3678  111A  20 0A       	jr	NZ,l_game_menu_e_00111
3679  111C  DD 7E 04    	ld	a,(ix+4)
3680  111F  C6 F0       	add	a,0xf0
3681  1121  DD 77 04    	ld	(ix+4),a
3682  1124  18 08       	jr	l_game_menu_e_00112
3683  1126              l_game_menu_e_00111:
3684  1126  DD 7E 04    	ld	a,(ix+4)
3685  1129  C6 10       	add	a,0x10
3686  112B  DD 77 04    	ld	(ix+4),a
3687  112E              l_game_menu_e_00112:
3688  112E  DD 7E 07    	ld	a,(ix+7)
3689  1131  C6 0C       	add	a,0x0c
3690  1133  47          	ld	b,a
3691  1134  79          	ld	a,c
3692  1135  F5          	push	af
3693  1136  33          	inc	sp
3694  1137  DD 7E 04    	ld	a,(ix+4)
3695  113A  48          	ld	c,b
3696  113B  47          	ld	b,a
3697  113C  C5          	push	bc
3698  113D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3699  1140  DD 7E 07    	ld	a,(ix+7)
3700  1143  C6 0E       	add	a,0x0e
3701  1145  47          	ld	b,a
3702  1146  DD 66 06    	ld	h,(ix+6)
3703  1149  DD 6E 04    	ld	l,(ix+4)
3704  114C  E5          	push	hl
3705  114D  C5          	push	bc
3706  114E  33          	inc	sp
3707  114F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3708  1152  FB          	ei
3709  1153  DD E1       	pop	ix
3710  1155  C9          	ret
3711  1156              	SECTION code_compiler
3712  1156              ;	---------------------------------
3713  1156              ; Function game_menu_handle
3714  1156              ; ---------------------------------
3715  1156              _game_menu_handle:
3716  1156  CD 00 00    	call	___sdcc_enter_ix
3717  1159  3B          	dec	sp
3718  115A  2A 00 00    	ld	hl,(_curr_time)
3719  115D  22 00 00    	ld	(_entry_time),hl
3720  1160  DD 5E 05    	ld	e,(ix+5)
3721  1163  21 00 00    	ld	hl,_game_menu_sel
3722  1166  66          	ld	h,(hl)
3723  1167  2E 00       	ld	l,0x00
3724  1169  55          	ld	d, l
3725  116A  06 08       	ld	b,0x08
3726  116C              l_game_menu_handle_00148:
3727  116C  29          	add	hl,hl
3728  116D  30 01       	jr	NC,l_game_menu_handle_00149
3729  116F  19          	add	hl,de
3730  1170              l_game_menu_handle_00149:
3731  1170  10 FA       	djnz	l_game_menu_handle_00148
3732  1172  DD 7E 06    	ld	a,(ix+6)
3733  1175  85          	add	a,l
3734  1176  32 00 00    	ld	(_s_lin1),a
3735  1179  DD 7E 06    	ld	a,(ix+6)
3736  117C  DD 77 FF    	ld	(ix-1),a
3737  117F              l_game_menu_handle_00111:
3738  117F  21 00 00    	ld	hl,_k1
3739  1182  E5          	push	hl
3740  1183  2A 00 00    	ld	hl,(_joyfunc1)
3741  1186  CD 00 00    	call	___sdcc_call_hl
3742  1189  F1          	pop	af
3743  118A  7D          	ld	a,l
3744  118B  32 00 00    	ld	(_dirs),a
3745  118E  D6 80       	sub	a,0x80
3746  1190  CA 32 12    	jp	Z,l_game_menu_handle_00113
3747  1193  21 05 00    	ld	hl,0x0005
3748  1196  E5          	push	hl
3749  1197  2A 00 00    	ld	hl,(_frame_time)
3750  119A  E5          	push	hl
3751  119B  CD F2 19    	call	_game_check_time
3752  119E  F1          	pop	af
3753  119F  F1          	pop	af
3754  11A0  7D          	ld	a,l
3755  11A1  B7          	or	a, a
3756  11A2  28 58       	jr	Z,l_game_menu_handle_00106
3757  11A4  3A 00 00    	ld	a,(_dirs)
3758  11A7  B7          	or	a, a
3759  11A8  28 32       	jr	Z,l_game_menu_handle_00104
3760  11AA  21 00 00    	ld	hl,_ay_effect_03
3761  11AD  CD 00 00    	call	_ay_fx_play
3762  11B0  CD 00 00    	call	_sound_slide
3763  11B3  3A 00 00    	ld	a,(_s_lin1)
3764  11B6  07          	rlca
3765  11B7  07          	rlca
3766  11B8  07          	rlca
3767  11B9  E6 F8       	and	a,0xf8
3768  11BB  C6 08       	add	a,0x08
3769  11BD  F5          	push	af
3770  11BE  33          	inc	sp
3771  11BF  26 14       	ld	h,0x14
3772  11C1  DD 6E 04    	ld	l,(ix+4)
3773  11C4  E5          	push	hl
3774  11C5  CD E3 0C    	call	_game_paint_attrib_lin
3775  11C8  F1          	pop	af
3776  11C9  33          	inc	sp
3777  11CA  21 00 00    	ld	hl,_s_lin1
3778  11CD  7E          	ld	a,(hl)
3779  11CE  DD 86 05    	add	a,(ix+5)
3780  11D1  77          	ld	(hl),a
3781  11D2  DD 7E 07    	ld	a,(ix+7)
3782  11D5  96          	sub	a, (hl)
3783  11D6  30 04       	jr	NC,l_game_menu_handle_00104
3784  11D8  DD 7E FF    	ld	a,(ix-1)
3785  11DB  77          	ld	(hl),a
3786  11DC              l_game_menu_handle_00104:
3787  11DC  2A 00 00    	ld	hl,(_curr_time)
3788  11DF  22 00 00    	ld	(_frame_time),hl
3789  11E2  3A 00 00    	ld	a,(_s_lin1)
3790  11E5  07          	rlca
3791  11E6  07          	rlca
3792  11E7  07          	rlca
3793  11E8  E6 F8       	and	a,0xf8
3794  11EA  C6 08       	add	a,0x08
3795  11EC  F5          	push	af
3796  11ED  33          	inc	sp
3797  11EE  26 14       	ld	h,0x14
3798  11F0  DD 6E 04    	ld	l,(ix+4)
3799  11F3  E5          	push	hl
3800  11F4  CD 0A 0D    	call	_game_paint_attrib_lin_h
3801  11F7  F1          	pop	af
3802  11F8  33          	inc	sp
3803  11F9  CD 44 19    	call	_game_rotate_attrib
3804  11FC              l_game_menu_handle_00106:
3805  11FC  DD 7E 09    	ld	a,(ix+9)
3806  11FF  DD B6 08    	or	a,(ix+8)
3807  1202  CA 7F 11    	jp	Z,l_game_menu_handle_00111
3808  1205  DD 6E 08    	ld	l,(ix+8)
3809  1208  DD 66 09    	ld	h,(ix+9)
3810  120B  E5          	push	hl
3811  120C  2A 00 00    	ld	hl,(_entry_time)
3812  120F  E5          	push	hl
3813  1210  CD F2 19    	call	_game_check_time
3814  1213  F1          	pop	af
3815  1214  F1          	pop	af
3816  1215  7D          	ld	a,l
3817  1216  B7          	or	a, a
3818  1217  CA 7F 11    	jp	Z,l_game_menu_handle_00111
3819  121A  CD 00 00    	call	_ay_is_playing
3820  121D  7D          	ld	a,l
3821  121E  B7          	or	a, a
3822  121F  C2 7F 11    	jp	NZ,l_game_menu_handle_00111
3823  1222  CD 73 18    	call	_game_hall_of_fame
3824  1225  21 00 00    	ld	hl,_game_menu_sel
3825  1228  2E 00       	ld	l,0x00
3826  122A  75          	ld	(hl),l
3827  122B  CD 72 16    	call	_game_menu_back
3828  122E  2E FF       	ld	l,0xff
3829  1230  18 10       	jr	l_game_menu_handle_00114
3830  1232              l_game_menu_handle_00113:
3831  1232  3A 00 00    	ld	a,(_s_lin1)
3832  1235  DD 96 FF    	sub	a,(ix-1)
3833  1238  47          	ld	b,a
3834  1239  DD 7E 05    	ld	a,(ix+5)
3835  123C  48          	ld	c,b
3836  123D  47          	ld	b,a
3837  123E  C5          	push	bc
3838  123F  CD 00 00    	call	__divuchar_callee
3839  1242              l_game_menu_handle_00114:
3840  1242  33          	inc	sp
3841  1243  DD E1       	pop	ix
3842  1245  C9          	ret
3843  1246              	SECTION code_compiler
3844  1246              ;	---------------------------------
3845  1246              ; Function game_end
3846  1246              ; ---------------------------------
3847  1246              _game_end:
3848  1246  CD 00 00    	call	___sdcc_enter_ix
3849  1249  F5          	push	af
3850  124A  F5          	push	af
3851  124B  CD A8 08    	call	_game_kill_all_sprites
3852  124E  CD 00 00    	call	_spr_draw_clear
3853  1251  21 00 00    	ld	hl,_pb_midi_title
3854  1254  CD 00 00    	call	_ay_midi_play
3855  1257  21 00 00    	ld	hl,_tmp1
3856  125A  36 50       	ld	(hl),0x50
3857  125C              l_game_end_00102:
3858  125C  3E 70       	ld	a,0x70
3859  125E  21 00 00    	ld	hl,_tmp1
3860  1261  96          	sub	a, (hl)
3861  1262  38 28       	jr	C,l_game_end_00104
3862  1264  21 00 00    	ld	hl,_tmp0
3863  1267  36 04       	ld	(hl),0x04
3864  1269              l_game_end_00130:
3865  1269  3A 00 00    	ld	a,(_tmp0)
3866  126C  F5          	push	af
3867  126D  33          	inc	sp
3868  126E  3A 00 00    	ld	a,(_tmp1)
3869  1271  57          	ld	d,a
3870  1272  1E 8C       	ld	e,0x8c
3871  1274  D5          	push	de
3872  1275  CD 00 00    	call	_NIRVANAP_drawT_callee
3873  1278  21 00 00    	ld	hl,_tmp0
3874  127B  7E          	ld	a,(hl)
3875  127C  3C          	inc	a
3876  127D  3C          	inc	a
3877  127E  77          	ld	(hl),a
3878  127F  D6 1C       	sub	a,0x1c
3879  1281  38 E6       	jr	C,l_game_end_00130
3880  1283  21 00 00    	ld	hl,_tmp1
3881  1286  7E          	ld	a,(hl)
3882  1287  C6 10       	add	a,0x10
3883  1289  77          	ld	(hl),a
3884  128A  18 D0       	jr	l_game_end_00102
3885  128C              l_game_end_00104:
3886  128C  21 50 18    	ld	hl,0x1850
3887  128F  E5          	push	hl
3888  1290  3E D6       	ld	a,0xd6
3889  1292  F5          	push	af
3890  1293  33          	inc	sp
3891  1294  CD 00 00    	call	_NIRVANAP_drawT_callee
3892  1297  21 9C 01    	ld	hl,0x019c
3893  129A  E5          	push	hl
3894  129B  21 01 1D    	ld	hl,0x1d01
3895  129E  E5          	push	hl
3896  129F  3E 20       	ld	a,0x20
3897  12A1  F5          	push	af
3898  12A2  33          	inc	sp
3899  12A3  CD A3 10    	call	_game_menu_e
3900  12A6  F1          	pop	af
3901  12A7  33          	inc	sp
3902  12A8  21 9F FF    	ld	hl,0xff9f
3903  12AB  E3          	ex	(sp),hl
3904  12AC  21 01 1D    	ld	hl,0x1d01
3905  12AF  E5          	push	hl
3906  12B0  3E 80       	ld	a,0x80
3907  12B2  F5          	push	af
3908  12B3  33          	inc	sp
3909  12B4  CD A3 10    	call	_game_menu_e
3910  12B7  F1          	pop	af
3911  12B8  F1          	pop	af
3912  12B9  33          	inc	sp
3913  12BA  3E 00       	ld	a,0x00
3914  12BC  DD 77 FD    	ld	(ix-3),a
3915  12BF  DD 77 FC    	ld	(ix-4),a
3916  12C2  3A 00 00    	ld	a,(_game_two_player)
3917  12C5  B7          	or	a, a
3918  12C6  28 16       	jr	Z,l_game_end_00110
3919  12C8  3A 00 00    	ld	a,(_game_lives)
3920  12CB  B7          	or	a, a
3921  12CC  28 04       	jr	Z,l_game_end_00106
3922  12CE  DD 36 FD 01 	ld	(ix-3),0x01
3923  12D2              l_game_end_00106:
3924  12D2  3A 01 00    	ld	a, (_game_lives + 1)
3925  12D5  B7          	or	a, a
3926  12D6  28 0A       	jr	Z,l_game_end_00111
3927  12D8  DD 36 FC 01 	ld	(ix-4),0x01
3928  12DC  18 04       	jr	l_game_end_00111
3929  12DE              l_game_end_00110:
3930  12DE  DD 36 FD 01 	ld	(ix-3),0x01
3931  12E2              l_game_end_00111:
3932  12E2  DD 7E FD    	ld	a,(ix-3)
3933  12E5  3D          	dec	a
3934  12E6  20 04       	jr	NZ,l_game_end_00210
3935  12E8  3E 01       	ld	a,0x01
3936  12EA  18 01       	jr	l_game_end_00211
3937  12EC              l_game_end_00210:
3938  12EC  AF          	xor	a,a
3939  12ED              l_game_end_00211:
3940  12ED  DD 77 FE    	ld	(ix-2),a
3941  12F0  B7          	or	a, a
3942  12F1  28 1C       	jr	Z,l_game_end_00113
3943  12F3  DD 7E FC    	ld	a,(ix-4)
3944  12F6  B7          	or	a, a
3945  12F7  20 16       	jr	NZ,l_game_end_00113
3946  12F9  21 6A 01    	ld	hl,___str_41
3947  12FC  E5          	push	hl
3948  12FD  21 13 01    	ld	hl,0x0113
3949  1300  E5          	push	hl
3950  1301  CD 00 00    	call	_zx_print_str
3951  1304  21 50 0C    	ld	hl,0x0c50
3952  1307  E5          	push	hl
3953  1308  3E 03       	ld	a,0x03
3954  130A  F5          	push	af
3955  130B  33          	inc	sp
3956  130C  CD 00 00    	call	_NIRVANAP_drawT_callee
3957  130F              l_game_end_00113:
3958  130F  DD 7E FC    	ld	a,(ix-4)
3959  1312  3D          	dec	a
3960  1313  20 04       	jr	NZ,l_game_end_00212
3961  1315  3E 01       	ld	a,0x01
3962  1317  18 01       	jr	l_game_end_00213
3963  1319              l_game_end_00212:
3964  1319  AF          	xor	a,a
3965  131A              l_game_end_00213:
3966  131A  DD 77 FF    	ld	(ix-1),a
3967  131D  DD 7E FD    	ld	a,(ix-3)
3968  1320  B7          	or	a, a
3969  1321  20 1C       	jr	NZ,l_game_end_00116
3970  1323  DD 7E FF    	ld	a,(ix-1)
3971  1326  B7          	or	a, a
3972  1327  28 16       	jr	Z,l_game_end_00116
3973  1329  21 74 01    	ld	hl,___str_42
3974  132C  E5          	push	hl
3975  132D  21 13 01    	ld	hl,0x0113
3976  1330  E5          	push	hl
3977  1331  CD 00 00    	call	_zx_print_str
3978  1334  21 60 0E    	ld	hl,0x0e60
3979  1337  E5          	push	hl
3980  1338  3E 1B       	ld	a,0x1b
3981  133A  F5          	push	af
3982  133B  33          	inc	sp
3983  133C  CD 00 00    	call	_NIRVANAP_drawT_callee
3984  133F              l_game_end_00116:
3985  133F  DD 7E FE    	ld	a,(ix-2)
3986  1342  B7          	or	a, a
3987  1343  28 27       	jr	Z,l_game_end_00119
3988  1345  DD 7E FF    	ld	a,(ix-1)
3989  1348  B7          	or	a, a
3990  1349  28 21       	jr	Z,l_game_end_00119
3991  134B  21 7D 01    	ld	hl,___str_43
3992  134E  E5          	push	hl
3993  134F  21 13 01    	ld	hl,0x0113
3994  1352  E5          	push	hl
3995  1353  CD 00 00    	call	_zx_print_str
3996  1356  21 50 0C    	ld	hl,0x0c50
3997  1359  E5          	push	hl
3998  135A  3E 03       	ld	a,0x03
3999  135C  F5          	push	af
4000  135D  33          	inc	sp
4001  135E  CD 00 00    	call	_NIRVANAP_drawT_callee
4002  1361  21 60 0E    	ld	hl,0x0e60
4003  1364  E5          	push	hl
4004  1365  3E 1B       	ld	a,0x1b
4005  1367  F5          	push	af
4006  1368  33          	inc	sp
4007  1369  CD 00 00    	call	_NIRVANAP_drawT_callee
4008  136C              l_game_end_00119:
4009  136C  21 C8 00    	ld	hl,0x00c8
4010  136F  E5          	push	hl
4011  1370  21 01 1F    	ld	hl,0x1f01
4012  1373  E5          	push	hl
4013  1374  3E 13       	ld	a,0x13
4014  1376  F5          	push	af
4015  1377  33          	inc	sp
4016  1378  CD 60 19    	call	_game_colour_message
4017  137B  F1          	pop	af
4018  137C  F1          	pop	af
4019  137D  33          	inc	sp
4020  137E  DD 7E FE    	ld	a,(ix-2)
4021  1381  B7          	or	a, a
4022  1382  28 32       	jr	Z,l_game_end_00122
4023  1384  DD 7E FC    	ld	a,(ix-4)
4024  1387  B7          	or	a, a
4025  1388  20 2C       	jr	NZ,l_game_end_00122
4026  138A  21 40 12    	ld	hl,0x1240
4027  138D  E5          	push	hl
4028  138E  3E BE       	ld	a,0xbe
4029  1390  F5          	push	af
4030  1391  33          	inc	sp
4031  1392  CD 00 00    	call	_NIRVANAP_drawT_callee
4032  1395  21 50 12    	ld	hl,0x1250
4033  1398  E5          	push	hl
4034  1399  3E CA       	ld	a,0xca
4035  139B  F5          	push	af
4036  139C  33          	inc	sp
4037  139D  CD 00 00    	call	_NIRVANAP_drawT_callee
4038  13A0  21 91 01    	ld	hl,___str_44
4039  13A3  E5          	push	hl
4040  13A4  21 13 01    	ld	hl,0x0113
4041  13A7  E5          	push	hl
4042  13A8  CD 00 00    	call	_zx_print_str
4043  13AB  21 40 0C    	ld	hl,0x0c40
4044  13AE  E5          	push	hl
4045  13AF  3E BE       	ld	a,0xbe
4046  13B1  F5          	push	af
4047  13B2  33          	inc	sp
4048  13B3  CD 00 00    	call	_NIRVANAP_drawT_callee
4049  13B6              l_game_end_00122:
4050  13B6  DD 7E FD    	ld	a,(ix-3)
4051  13B9  B7          	or	a, a
4052  13BA  20 32       	jr	NZ,l_game_end_00125
4053  13BC  DD 7E FF    	ld	a,(ix-1)
4054  13BF  B7          	or	a, a
4055  13C0  28 2C       	jr	Z,l_game_end_00125
4056  13C2  21 50 12    	ld	hl,0x1250
4057  13C5  E5          	push	hl
4058  13C6  3E BE       	ld	a,0xbe
4059  13C8  F5          	push	af
4060  13C9  33          	inc	sp
4061  13CA  CD 00 00    	call	_NIRVANAP_drawT_callee
4062  13CD  21 60 12    	ld	hl,0x1260
4063  13D0  E5          	push	hl
4064  13D1  3E CA       	ld	a,0xca
4065  13D3  F5          	push	af
4066  13D4  33          	inc	sp
4067  13D5  CD 00 00    	call	_NIRVANAP_drawT_callee
4068  13D8  21 91 01    	ld	hl,___str_44
4069  13DB  E5          	push	hl
4070  13DC  21 13 01    	ld	hl,0x0113
4071  13DF  E5          	push	hl
4072  13E0  CD 00 00    	call	_zx_print_str
4073  13E3  21 50 0E    	ld	hl,0x0e50
4074  13E6  E5          	push	hl
4075  13E7  3E BE       	ld	a,0xbe
4076  13E9  F5          	push	af
4077  13EA  33          	inc	sp
4078  13EB  CD 00 00    	call	_NIRVANAP_drawT_callee
4079  13EE              l_game_end_00125:
4080  13EE  DD 7E FE    	ld	a,(ix-2)
4081  13F1  B7          	or	a, a
4082  13F2  28 53       	jr	Z,l_game_end_00128
4083  13F4  DD 7E FF    	ld	a,(ix-1)
4084  13F7  B7          	or	a, a
4085  13F8  28 4D       	jr	Z,l_game_end_00128
4086  13FA  21 A5 01    	ld	hl,___str_45
4087  13FD  E5          	push	hl
4088  13FE  21 13 01    	ld	hl,0x0113
4089  1401  E5          	push	hl
4090  1402  CD 00 00    	call	_zx_print_str
4091  1405  21 40 12    	ld	hl,0x1240
4092  1408  E5          	push	hl
4093  1409  3E BE       	ld	a,0xbe
4094  140B  F5          	push	af
4095  140C  33          	inc	sp
4096  140D  CD 00 00    	call	_NIRVANAP_drawT_callee
4097  1410  21 50 12    	ld	hl,0x1250
4098  1413  E5          	push	hl
4099  1414  3E CA       	ld	a,0xca
4100  1416  F5          	push	af
4101  1417  33          	inc	sp
4102  1418  CD 00 00    	call	_NIRVANAP_drawT_callee
4103  141B  21 50 10    	ld	hl,0x1050
4104  141E  E5          	push	hl
4105  141F  3E BE       	ld	a,0xbe
4106  1421  F5          	push	af
4107  1422  33          	inc	sp
4108  1423  CD 00 00    	call	_NIRVANAP_drawT_callee
4109  1426  21 60 10    	ld	hl,0x1060
4110  1429  E5          	push	hl
4111  142A  3E CA       	ld	a,0xca
4112  142C  F5          	push	af
4113  142D  33          	inc	sp
4114  142E  CD 00 00    	call	_NIRVANAP_drawT_callee
4115  1431  21 40 0C    	ld	hl,0x0c40
4116  1434  E5          	push	hl
4117  1435  3E BE       	ld	a,0xbe
4118  1437  F5          	push	af
4119  1438  33          	inc	sp
4120  1439  CD 00 00    	call	_NIRVANAP_drawT_callee
4121  143C  21 50 0E    	ld	hl,0x0e50
4122  143F  E5          	push	hl
4123  1440  3E BE       	ld	a,0xbe
4124  1442  F5          	push	af
4125  1443  33          	inc	sp
4126  1444  CD 00 00    	call	_NIRVANAP_drawT_callee
4127  1447              l_game_end_00128:
4128  1447  21 C8 00    	ld	hl,0x00c8
4129  144A  E5          	push	hl
4130  144B  21 01 1F    	ld	hl,0x1f01
4131  144E  E5          	push	hl
4132  144F  3E 13       	ld	a,0x13
4133  1451  F5          	push	af
4134  1452  33          	inc	sp
4135  1453  CD 60 19    	call	_game_colour_message
4136  1456  F1          	pop	af
4137  1457  33          	inc	sp
4138  1458  21 BB 01    	ld	hl,___str_46
4139  145B  E3          	ex	(sp),hl
4140  145C  21 13 01    	ld	hl,0x0113
4141  145F  E5          	push	hl
4142  1460  CD 00 00    	call	_zx_print_str
4143  1463  CD 00 00    	call	_spr_draw_clear
4144  1466  DD F9       	ld	sp, ix
4145  1468  DD E1       	pop	ix
4146  146A  C9          	ret
4147  146B              	SECTION rodata_compiler
4148  016A              ___str_41:
4149  016A  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4150  0173  00          	DEFB 0x00
4151  0174              	SECTION rodata_compiler
4152  0174              ___str_42:
4153  0174  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4154  017C  00          	DEFB 0x00
4155  017D              	SECTION rodata_compiler
4156  017D              ___str_43:
4157  017D  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4158  0190  00          	DEFB 0x00
4159  0191              	SECTION rodata_compiler
4160  0191              ___str_44:
4161  0191  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4162  01A4  00          	DEFB 0x00
4163  01A5              	SECTION rodata_compiler
4164  01A5              ___str_45:
4165  01A5  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4166  01BA  00          	DEFB 0x00
4167  01BB              	SECTION rodata_compiler
4168  01BB              ___str_46:
4169  01BB  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 59 4F 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE YOU!"
4170  01DB  00          	DEFB 0x00
4171  01DC              	SECTION code_compiler
4172  146B              ;	---------------------------------
4173  146B              ; Function game_hall_check
4174  146B              ; ---------------------------------
4175  146B              _game_hall_check:
4176  146B  5D          	ld	e,l
4177  146C  01 00 00    	ld	bc,_player_score+0
4178  146F  26 00       	ld	h,0x00
4179  1471  6B          	ld	l, e
4180  1472  29          	add	hl, hl
4181  1473  09          	add	hl,bc
4182  1474  4E          	ld	c,(hl)
4183  1475  23          	inc	hl
4184  1476  46          	ld	b,(hl)
4185  1477  2A 3A 00    	ld	hl,(_hof + 0x003a)
4186  147A  AF          	xor	a,a
4187  147B  ED 42       	sbc	hl,bc
4188  147D  30 09       	jr	NC,l_game_hall_check_00104
4189  147F  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4190  1483  21 36 00    	ld	hl,+(_hof + 0x0036)
4191  1486  18 14       	jr	l_game_hall_check_00106
4192  1488              l_game_hall_check_00104:
4193  1488  2A 34 00    	ld	hl,(_hof + 0x0034)
4194  148B  AF          	xor	a,a
4195  148C  ED 42       	sbc	hl,bc
4196  148E  30 09       	jr	NC,l_game_hall_check_00105
4197  1490  ED 43 34 00 	ld	(_hof + 0x0034),bc
4198  1494  21 30 00    	ld	hl,+(_hof + 0x0030)
4199  1497  18 03       	jr	l_game_hall_check_00106
4200  1499              l_game_hall_check_00105:
4201  1499  21 00 00    	ld	hl,0x0000
4202  149C              l_game_hall_check_00106:
4203  149C  C9          	ret
4204  149D              	SECTION code_compiler
4205  149D              ;	---------------------------------
4206  149D              ; Function compare_scores
4207  149D              ; ---------------------------------
4208  149D              _compare_scores:
4209  149D  CD 00 00    	call	___sdcc_enter_ix
4210  14A0  DD 6E 06    	ld	l,(ix+6)
4211  14A3  DD 66 07    	ld	h,(ix+7)
4212  14A6  11 04 00    	ld	de,0x0004
4213  14A9  19          	add	hl, de
4214  14AA  4E          	ld	c,(hl)
4215  14AB  23          	inc	hl
4216  14AC  46          	ld	b,(hl)
4217  14AD  DD 6E 04    	ld	l,(ix+4)
4218  14B0  DD 66 05    	ld	h,(ix+5)
4219  14B3  11 04 00    	ld	de,0x0004
4220  14B6  19          	add	hl, de
4221  14B7  7E          	ld	a,(hl)
4222  14B8  23          	inc	hl
4223  14B9  56          	ld	d,(hl)
4224  14BA  5F          	ld	e,a
4225  14BB  91          	sub	a, c
4226  14BC  7A          	ld	a,d
4227  14BD  98          	sbc	a, b
4228  14BE  30 05       	jr	NC,l_compare_scores_00102
4229  14C0  21 01 00    	ld	hl,0x0001
4230  14C3  18 10       	jr	l_compare_scores_00105
4231  14C5              l_compare_scores_00102:
4232  14C5  79          	ld	a,c
4233  14C6  93          	sub	a, e
4234  14C7  20 09       	jr	NZ,l_compare_scores_00104
4235  14C9  78          	ld	a,b
4236  14CA  92          	sub	a, d
4237  14CB  20 05       	jr	NZ,l_compare_scores_00104
4238  14CD  21 00 00    	ld	hl,0x0000
4239  14D0  18 03       	jr	l_compare_scores_00105
4240  14D2              l_compare_scores_00104:
4241  14D2  21 FF FF    	ld	hl,0xffff
4242  14D5              l_compare_scores_00105:
4243  14D5  DD E1       	pop	ix
4244  14D7  C9          	ret
4245  14D8              	SECTION code_compiler
4246  14D8              ;	---------------------------------
4247  14D8              ; Function game_hall_enter
4248  14D8              ; ---------------------------------
4249  14D8              _game_hall_enter:
4250  14D8  CD 00 00    	call	___sdcc_enter_ix
4251  14DB  21 F7 FF    	ld	hl,-9
4252  14DE  39          	add	hl,sp
4253  14DF  F9          	ld	sp,hl
4254  14E0  CD 00 00    	call	_spr_draw_clear
4255  14E3  2E 00       	ld	l,0x00
4256  14E5  CD BF 0C    	call	_game_paint_attrib
4257  14E8  ED 4B 00 00 	ld	bc,(_player_score)
4258  14EC  2A 02 00    	ld	hl, (_player_score + 2)
4259  14EF  AF          	xor	a,a
4260  14F0  ED 42       	sbc	hl,bc
4261  14F2  30 0F       	jr	NC,l_game_hall_enter_00102
4262  14F4  2E 00       	ld	l,0x00
4263  14F6  CD 6B 14    	call	_game_hall_check
4264  14F9  E5          	push	hl
4265  14FA  2E 01       	ld	l,0x01
4266  14FC  CD 6B 14    	call	_game_hall_check
4267  14FF  EB          	ex	de,hl
4268  1500  C1          	pop	bc
4269  1501  18 0E       	jr	l_game_hall_enter_00103
4270  1503              l_game_hall_enter_00102:
4271  1503  2E 01       	ld	l,0x01
4272  1505  CD 6B 14    	call	_game_hall_check
4273  1508  E5          	push	hl
4274  1509  2E 00       	ld	l,0x00
4275  150B  CD 6B 14    	call	_game_hall_check
4276  150E  D1          	pop	de
4277  150F  4D          	ld	c,l
4278  1510  44          	ld	b,h
4279  1511              l_game_hall_enter_00103:
4280  1511  78          	ld	a,b
4281  1512  B1          	or	a,c
4282  1513  20 05       	jr	NZ,l_game_hall_enter_00125
4283  1515  7A          	ld	a,d
4284  1516  B3          	or	a,e
4285  1517  CA 65 16    	jp	Z,l_game_hall_enter_00126
4286  151A              l_game_hall_enter_00125:
4287  151A  3E 00       	ld	a,0x00
4288  151C  DD 77 FB    	ld	(ix-5),a
4289  151F  DD 77 FA    	ld	(ix-6),a
4290  1522  DD 77 F9    	ld	(ix-7),a
4291  1525  DD 77 F8    	ld	(ix-8),a
4292  1528  DD 36 F7 00 	ld	(ix-9),0x00
4293  152C  78          	ld	a,b
4294  152D  B1          	or	a,c
4295  152E  28 0D       	jr	Z,l_game_hall_enter_00105
4296  1530  DD 36 F8 01 	ld	(ix-8),0x01
4297  1534  C5          	push	bc
4298  1535  D5          	push	de
4299  1536  2E 00       	ld	l,0x00
4300  1538  CD 88 16    	call	_game_hall_enter_phs
4301  153B  D1          	pop	de
4302  153C  C1          	pop	bc
4303  153D              l_game_hall_enter_00105:
4304  153D  7A          	ld	a,d
4305  153E  B3          	or	a,e
4306  153F  28 0D       	jr	Z,l_game_hall_enter_00107
4307  1541  DD 36 F7 05 	ld	(ix-9),0x05
4308  1545  C5          	push	bc
4309  1546  D5          	push	de
4310  1547  2E 01       	ld	l,0x01
4311  1549  CD 88 16    	call	_game_hall_enter_phs
4312  154C  D1          	pop	de
4313  154D  C1          	pop	bc
4314  154E              l_game_hall_enter_00107:
4315  154E  C5          	push	bc
4316  154F  D5          	push	de
4317  1550  21 DC 01    	ld	hl,___str_47
4318  1553  E5          	push	hl
4319  1554  21 02 0A    	ld	hl,0x0a02
4320  1557  E5          	push	hl
4321  1558  CD 00 00    	call	_zx_print_str
4322  155B  21 E9 01    	ld	hl,___str_48
4323  155E  E5          	push	hl
4324  155F  21 12 06    	ld	hl,0x0612
4325  1562  E5          	push	hl
4326  1563  CD 00 00    	call	_zx_print_str
4327  1566  21 FC 01    	ld	hl,___str_49
4328  1569  E5          	push	hl
4329  156A  21 13 06    	ld	hl,0x0613
4330  156D  E5          	push	hl
4331  156E  CD 00 00    	call	_zx_print_str
4332  1571  D1          	pop	de
4333  1572  C1          	pop	bc
4334  1573  DD 71 FE    	ld	(ix-2),c
4335  1576  DD 70 FF    	ld	(ix-1),b
4336  1579  DD 73 FC    	ld	(ix-4),e
4337  157C  DD 72 FD    	ld	(ix-3),d
4338  157F              l_game_hall_enter_00122:
4339  157F  DD 7E F8    	ld	a,(ix-8)
4340  1582  DD 86 F7    	add	a,(ix-9)
4341  1585  B7          	or	a, a
4342  1586  CA 4D 16    	jp	Z,l_game_hall_enter_00124
4343  1589  21 05 00    	ld	hl,0x0005
4344  158C  E5          	push	hl
4345  158D  2A 00 00    	ld	hl,(_frame_time)
4346  1590  E5          	push	hl
4347  1591  CD F2 19    	call	_game_check_time
4348  1594  F1          	pop	af
4349  1595  F1          	pop	af
4350  1596  7D          	ld	a,l
4351  1597  B7          	or	a, a
4352  1598  28 36       	jr	Z,l_game_hall_enter_00113
4353  159A  DD 7E F9    	ld	a,(ix-7)
4354  159D  D6 01       	sub	a,0x01
4355  159F  3E 00       	ld	a,0x00
4356  15A1  17          	rla
4357  15A2  DD 77 F9    	ld	(ix-7),a
4358  15A5  DD 7E F8    	ld	a,(ix-8)
4359  15A8  B7          	or	a, a
4360  15A9  28 0B       	jr	Z,l_game_hall_enter_00109
4361  15AB  DD 66 F9    	ld	h,(ix-7)
4362  15AE  DD 6E F8    	ld	l,(ix-8)
4363  15B1  E5          	push	hl
4364  15B2  CD FF 16    	call	_game_hall_print_p
4365  15B5  F1          	pop	af
4366  15B6              l_game_hall_enter_00109:
4367  15B6  DD 7E F7    	ld	a,(ix-9)
4368  15B9  B7          	or	a, a
4369  15BA  28 0B       	jr	Z,l_game_hall_enter_00111
4370  15BC  DD 66 F9    	ld	h,(ix-7)
4371  15BF  DD 6E F7    	ld	l,(ix-9)
4372  15C2  E5          	push	hl
4373  15C3  CD FF 16    	call	_game_hall_print_p
4374  15C6  F1          	pop	af
4375  15C7              l_game_hall_enter_00111:
4376  15C7  CD 44 19    	call	_game_rotate_attrib
4377  15CA  2A 00 00    	ld	hl,(_curr_time)
4378  15CD  22 00 00    	ld	(_frame_time),hl
4379  15D0              l_game_hall_enter_00113:
4380  15D0  21 00 00    	ld	hl,_k1
4381  15D3  E5          	push	hl
4382  15D4  2A 00 00    	ld	hl,(_joyfunc1)
4383  15D7  CD 00 00    	call	___sdcc_call_hl
4384  15DA  F1          	pop	af
4385  15DB  7D          	ld	a,l
4386  15DC  32 00 00    	ld	(_dirs),a
4387  15DF  DD 7E FB    	ld	a,(ix-5)
4388  15E2  B7          	or	a, a
4389  15E3  20 22       	jr	NZ,l_game_hall_enter_00115
4390  15E5  DD 7E F8    	ld	a,(ix-8)
4391  15E8  B7          	or	a, a
4392  15E9  28 1C       	jr	Z,l_game_hall_enter_00115
4393  15EB  DD 6E F8    	ld	l,(ix-8)
4394  15EE  CD BD 17    	call	_game_hall_edit_p
4395  15F1  DD 75 F8    	ld	(ix-8),l
4396  15F4  7D          	ld	a,l
4397  15F5  B7          	or	a, a
4398  15F6  20 0F       	jr	NZ,l_game_hall_enter_00115
4399  15F8  DD 5E FE    	ld	e,(ix-2)
4400  15FB  DD 56 FF    	ld	d,(ix-1)
4401  15FE  AF          	xor	a,a
4402  15FF  21 00 00    	ld	hl,_initials
4403  1602              l_game_hall_enter_00190:
4404  1602  BE          	cp	a, (hl)
4405  1603  ED A0       	ldi
4406  1605  20 FB       	jr	NZ, l_game_hall_enter_00190
4407  1607              l_game_hall_enter_00115:
4408  1607  3A 00 00    	ld	a,(_dirs)
4409  160A  DD 77 FB    	ld	(ix-5),a
4410  160D  21 00 00    	ld	hl,_k2
4411  1610  E5          	push	hl
4412  1611  2A 00 00    	ld	hl,(_joyfunc2)
4413  1614  CD 00 00    	call	___sdcc_call_hl
4414  1617  F1          	pop	af
4415  1618  7D          	ld	a,l
4416  1619  32 00 00    	ld	(_dirs),a
4417  161C  DD 7E FA    	ld	a,(ix-6)
4418  161F  B7          	or	a, a
4419  1620  20 22       	jr	NZ,l_game_hall_enter_00119
4420  1622  DD 7E F7    	ld	a,(ix-9)
4421  1625  B7          	or	a, a
4422  1626  28 1C       	jr	Z,l_game_hall_enter_00119
4423  1628  DD 6E F7    	ld	l,(ix-9)
4424  162B  CD BD 17    	call	_game_hall_edit_p
4425  162E  DD 75 F7    	ld	(ix-9),l
4426  1631  7D          	ld	a,l
4427  1632  B7          	or	a, a
4428  1633  20 0F       	jr	NZ,l_game_hall_enter_00119
4429  1635  DD 5E FC    	ld	e,(ix-4)
4430  1638  DD 56 FD    	ld	d,(ix-3)
4431  163B  AF          	xor	a,a
4432  163C  21 04 00    	ld	hl,+(_initials + 0x0004)
4433  163F              l_game_hall_enter_00191:
4434  163F  BE          	cp	a, (hl)
4435  1640  ED A0       	ldi
4436  1642  20 FB       	jr	NZ, l_game_hall_enter_00191
4437  1644              l_game_hall_enter_00119:
4438  1644  3A 00 00    	ld	a,(_dirs)
4439  1647  DD 77 FA    	ld	(ix-6),a
4440  164A  C3 7F 15    	jp	l_game_hall_enter_00122
4441  164D              l_game_hall_enter_00124:
4442  164D  CD 00 00    	call	_ay_reset
4443  1650  CD 00 00    	call	_spr_draw_clear
4444  1653  01 9D 14    	ld	bc,_compare_scores
4445  1656  C5          	push	bc
4446  1657  21 06 00    	ld	hl,0x0006
4447  165A  E5          	push	hl
4448  165B  2E 0A       	ld	l,0x0a
4449  165D  E5          	push	hl
4450  165E  21 00 00    	ld	hl,_hof
4451  1661  E5          	push	hl
4452  1662  CD 00 00    	call	__insertion_sort__callee
4453  1665              l_game_hall_enter_00126:
4454  1665  CD 73 18    	call	_game_hall_of_fame
4455  1668  2E 00       	ld	l,0x00
4456  166A  CD 72 16    	call	_game_menu_back
4457  166D  DD F9       	ld	sp, ix
4458  166F  DD E1       	pop	ix
4459  1671  C9          	ret
4460  1672              	SECTION rodata_compiler
4461  01DC              ___str_47:
4462  01DC  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4463  01E8  00          	DEFB 0x00
4464  01E9              	SECTION rodata_compiler
4465  01E9              ___str_48:
4466  01E9  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4467  01FB  00          	DEFB 0x00
4468  01FC              	SECTION rodata_compiler
4469  01FC              ___str_49:
4470  01FC  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4471  020F  00          	DEFB 0x00
4472  0210              	SECTION code_compiler
4473  1672              ;	---------------------------------
4474  1672              ; Function game_menu_back
4475  1672              ; ---------------------------------
4476  1672              _game_menu_back:
4477  1672  7D          	ld	a,l
4478  1673  32 00 00    	ld	(_s_lin1),a
4479  1676  21 00 00    	ld	hl,_game_menu_sel
4480  1679  36 00       	ld	(hl),0x00
4481  167B  CD B4 0F    	call	_game_menu_top_paint
4482  167E  CD 28 10    	call	_game_menu_paint
4483  1681  2A 00 00    	ld	hl,(_curr_time)
4484  1684  22 00 00    	ld	(_entry_time),hl
4485  1687  C9          	ret
4486  1688              	SECTION code_compiler
4487  1688              ;	---------------------------------
4488  1688              ; Function game_hall_enter_phs
4489  1688              ; ---------------------------------
4490  1688              _game_hall_enter_phs:
4491  1688  7D          	ld	a,l
4492  1689  B7          	or	a, a
4493  168A  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4494  168C  21 9C 01    	ld	hl,0x019c
4495  168F  E5          	push	hl
4496  1690  21 02 0C    	ld	hl,0x0c02
4497  1693  E5          	push	hl
4498  1694  3E 30       	ld	a,0x30
4499  1696  F5          	push	af
4500  1697  33          	inc	sp
4501  1698  CD A3 10    	call	_game_menu_e
4502  169B  F1          	pop	af
4503  169C  33          	inc	sp
4504  169D  21 9F FF    	ld	hl,0xff9f
4505  16A0  E3          	ex	(sp),hl
4506  16A1  21 02 0C    	ld	hl,0x0c02
4507  16A4  E5          	push	hl
4508  16A5  3E 7C       	ld	a,0x7c
4509  16A7  F5          	push	af
4510  16A8  33          	inc	sp
4511  16A9  CD A3 10    	call	_game_menu_e
4512  16AC  F1          	pop	af
4513  16AD  33          	inc	sp
4514  16AE  21 10 02    	ld	hl,___str_50
4515  16B1  E3          	ex	(sp),hl
4516  16B2  21 07 05    	ld	hl,0x0507
4517  16B5  E5          	push	hl
4518  16B6  CD 00 00    	call	_zx_print_str
4519  16B9  21 15 02    	ld	hl,___str_51
4520  16BC  E5          	push	hl
4521  16BD  21 08 05    	ld	hl,0x0508
4522  16C0  E5          	push	hl
4523  16C1  CD 00 00    	call	_zx_print_str
4524  16C4  18 38       	jr	l_game_hall_enter_phs_00104
4525  16C6              l_game_hall_enter_phs_00102:
4526  16C6  21 9C 01    	ld	hl,0x019c
4527  16C9  E5          	push	hl
4528  16CA  21 12 1C    	ld	hl,0x1c12
4529  16CD  E5          	push	hl
4530  16CE  3E 30       	ld	a,0x30
4531  16D0  F5          	push	af
4532  16D1  33          	inc	sp
4533  16D2  CD A3 10    	call	_game_menu_e
4534  16D5  F1          	pop	af
4535  16D6  33          	inc	sp
4536  16D7  21 9F FF    	ld	hl,0xff9f
4537  16DA  E3          	ex	(sp),hl
4538  16DB  21 12 1C    	ld	hl,0x1c12
4539  16DE  E5          	push	hl
4540  16DF  3E 7C       	ld	a,0x7c
4541  16E1  F5          	push	af
4542  16E2  33          	inc	sp
4543  16E3  CD A3 10    	call	_game_menu_e
4544  16E6  F1          	pop	af
4545  16E7  33          	inc	sp
4546  16E8  21 10 02    	ld	hl,___str_50
4547  16EB  E3          	ex	(sp),hl
4548  16EC  21 07 15    	ld	hl,0x1507
4549  16EF  E5          	push	hl
4550  16F0  CD 00 00    	call	_zx_print_str
4551  16F3  21 15 02    	ld	hl,___str_51
4552  16F6  E5          	push	hl
4553  16F7  21 08 15    	ld	hl,0x1508
4554  16FA  E5          	push	hl
4555  16FB  CD 00 00    	call	_zx_print_str
4556  16FE              l_game_hall_enter_phs_00104:
4557  16FE  C9          	ret
4558  16FF              	SECTION rodata_compiler
4559  0210              ___str_50:
4560  0210  48 49 47 48 	DEFM "HIGH"
4561  0214  00          	DEFB 0x00
4562  0215              	SECTION rodata_compiler
4563  0215              ___str_51:
4564  0215  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4565  021B  00          	DEFB 0x00
4566  021C              	SECTION code_compiler
4567  16FF              ;	---------------------------------
4568  16FF              ; Function game_hall_print_p
4569  16FF              ; ---------------------------------
4570  16FF              _game_hall_print_p:
4571  16FF  CD 00 00    	call	___sdcc_enter_ix
4572  1702  DD 7E 04    	ld	a,(ix+4)
4573  1705  D6 05       	sub	a,0x05
4574  1707  30 59       	jr	NC,l_game_hall_print_p_00108
4575  1709  21 00 00    	ld	hl,_initials
4576  170C  E5          	push	hl
4577  170D  21 0D 06    	ld	hl,0x060d
4578  1710  E5          	push	hl
4579  1711  CD 00 00    	call	_zx_print_str
4580  1714  DD 7E 04    	ld	a,(ix+4)
4581  1717  C6 06       	add	a,0x06
4582  1719  47          	ld	b,a
4583  171A  DD 7E 04    	ld	a,(ix+4)
4584  171D  C6 05       	add	a,0x05
4585  171F  57          	ld	d,a
4586  1720  3E 70       	ld	a,0x70
4587  1722  F5          	push	af
4588  1723  33          	inc	sp
4589  1724  4A          	ld	c, d
4590  1725  C5          	push	bc
4591  1726  CD 0A 0D    	call	_game_paint_attrib_lin_h
4592  1729  F1          	pop	af
4593  172A  33          	inc	sp
4594  172B  76          	halt
4595  172C  DD 7E 05    	ld	a,(ix+5)
4596  172F  B7          	or	a, a
4597  1730  28 18       	jr	Z,l_game_hall_print_p_00102
4598  1732  21 56 06    	ld	hl,0x0656
4599  1735  E5          	push	hl
4600  1736  3E A9       	ld	a,0xa9
4601  1738  F5          	push	af
4602  1739  33          	inc	sp
4603  173A  CD 00 00    	call	_NIRVANAP_drawT_callee
4604  173D  21 58 06    	ld	hl,0x0658
4605  1740  E5          	push	hl
4606  1741  3E 03       	ld	a,0x03
4607  1743  F5          	push	af
4608  1744  33          	inc	sp
4609  1745  CD 00 00    	call	_NIRVANAP_drawT_callee
4610  1748  18 70       	jr	l_game_hall_print_p_00110
4611  174A              l_game_hall_print_p_00102:
4612  174A  21 58 06    	ld	hl,0x0658
4613  174D  E5          	push	hl
4614  174E  3E A9       	ld	a,0xa9
4615  1750  F5          	push	af
4616  1751  33          	inc	sp
4617  1752  CD 00 00    	call	_NIRVANAP_drawT_callee
4618  1755  21 56 06    	ld	hl,0x0656
4619  1758  E5          	push	hl
4620  1759  3E 16       	ld	a,0x16
4621  175B  F5          	push	af
4622  175C  33          	inc	sp
4623  175D  CD 00 00    	call	_NIRVANAP_drawT_callee
4624  1760  18 58       	jr	l_game_hall_print_p_00110
4625  1762              l_game_hall_print_p_00108:
4626  1762  21 04 00    	ld	hl,+(_initials + 0x0004)
4627  1765  E5          	push	hl
4628  1766  21 0D 16    	ld	hl,0x160d
4629  1769  E5          	push	hl
4630  176A  CD 00 00    	call	_zx_print_str
4631  176D  DD 7E 04    	ld	a,(ix+4)
4632  1770  C6 12       	add	a,0x12
4633  1772  57          	ld	d,a
4634  1773  DD 7E 04    	ld	a,(ix+4)
4635  1776  C6 11       	add	a,0x11
4636  1778  47          	ld	b,a
4637  1779  3E 70       	ld	a,0x70
4638  177B  5A          	ld	e,d
4639  177C  57          	ld	d,a
4640  177D  D5          	push	de
4641  177E  C5          	push	bc
4642  177F  33          	inc	sp
4643  1780  CD 0A 0D    	call	_game_paint_attrib_lin_h
4644  1783  F1          	pop	af
4645  1784  33          	inc	sp
4646  1785  76          	halt
4647  1786  DD 7E 05    	ld	a,(ix+5)
4648  1789  B7          	or	a, a
4649  178A  28 18       	jr	Z,l_game_hall_print_p_00105
4650  178C  21 56 17    	ld	hl,0x1756
4651  178F  E5          	push	hl
4652  1790  3E A9       	ld	a,0xa9
4653  1792  F5          	push	af
4654  1793  33          	inc	sp
4655  1794  CD 00 00    	call	_NIRVANAP_drawT_callee
4656  1797  21 58 17    	ld	hl,0x1758
4657  179A  E5          	push	hl
4658  179B  3E 27       	ld	a,0x27
4659  179D  F5          	push	af
4660  179E  33          	inc	sp
4661  179F  CD 00 00    	call	_NIRVANAP_drawT_callee
4662  17A2  18 16       	jr	l_game_hall_print_p_00110
4663  17A4              l_game_hall_print_p_00105:
4664  17A4  21 58 17    	ld	hl,0x1758
4665  17A7  E5          	push	hl
4666  17A8  3E A9       	ld	a,0xa9
4667  17AA  F5          	push	af
4668  17AB  33          	inc	sp
4669  17AC  CD 00 00    	call	_NIRVANAP_drawT_callee
4670  17AF  21 56 17    	ld	hl,0x1756
4671  17B2  E5          	push	hl
4672  17B3  3E 2E       	ld	a,0x2e
4673  17B5  F5          	push	af
4674  17B6  33          	inc	sp
4675  17B7  CD 00 00    	call	_NIRVANAP_drawT_callee
4676  17BA              l_game_hall_print_p_00110:
4677  17BA  DD E1       	pop	ix
4678  17BC  C9          	ret
4679  17BD              	SECTION code_compiler
4680  17BD              ;	---------------------------------
4681  17BD              ; Function game_hall_edit_p
4682  17BD              ; ---------------------------------
4683  17BD              _game_hall_edit_p:
4684  17BD  CD 00 00    	call	___sdcc_enter_ix
4685  17C0  F5          	push	af
4686  17C1  4D          	ld	c,l
4687  17C2  0D          	dec	c
4688  17C3  3A 00 00    	ld	a,(_dirs)
4689  17C6  07          	rlca
4690  17C7  30 63       	jr	NC,l_game_hall_edit_p_00120
4691  17C9  79          	ld	a,c
4692  17CA  FE 04       	cp	a,0x04
4693  17CC  30 17       	jr	NC,l_game_hall_edit_p_00102
4694  17CE  C6 07       	add	a,0x07
4695  17D0  57          	ld	d,a
4696  17D1  79          	ld	a,c
4697  17D2  C6 06       	add	a,0x06
4698  17D4  47          	ld	b,a
4699  17D5  C5          	push	bc
4700  17D6  3E 70       	ld	a,0x70
4701  17D8  5A          	ld	e,d
4702  17D9  57          	ld	d,a
4703  17DA  D5          	push	de
4704  17DB  C5          	push	bc
4705  17DC  33          	inc	sp
4706  17DD  CD E3 0C    	call	_game_paint_attrib_lin
4707  17E0  F1          	pop	af
4708  17E1  33          	inc	sp
4709  17E2  C1          	pop	bc
4710  17E3  18 16       	jr	l_game_hall_edit_p_00103
4711  17E5              l_game_hall_edit_p_00102:
4712  17E5  79          	ld	a,c
4713  17E6  C6 13       	add	a,0x13
4714  17E8  57          	ld	d,a
4715  17E9  79          	ld	a,c
4716  17EA  C6 12       	add	a,0x12
4717  17EC  47          	ld	b,a
4718  17ED  C5          	push	bc
4719  17EE  3E 70       	ld	a,0x70
4720  17F0  5A          	ld	e,d
4721  17F1  57          	ld	d,a
4722  17F2  D5          	push	de
4723  17F3  C5          	push	bc
4724  17F4  33          	inc	sp
4725  17F5  CD E3 0C    	call	_game_paint_attrib_lin
4726  17F8  F1          	pop	af
4727  17F9  33          	inc	sp
4728  17FA  C1          	pop	bc
4729  17FB              l_game_hall_edit_p_00103:
4730  17FB  C5          	push	bc
4731  17FC  CD 00 00    	call	_sound_slide
4732  17FF  C1          	pop	bc
4733  1800  21 00 00    	ld	hl,_ay_effect_01
4734  1803  CD 00 00    	call	_ay_fx_play
4735  1806  11 00 00    	ld	de,_initials+0
4736  1809  41          	ld	b,c
4737  180A  0C          	inc	c
4738  180B  68          	ld	l,b
4739  180C  26 00       	ld	h,0x00
4740  180E  19          	add	hl,de
4741  180F  7E          	ld	a,(hl)
4742  1810  D6 7B       	sub	a,0x7b
4743  1812  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4744  1814  0D          	dec	c
4745  1815  79          	ld	a,c
4746  1816  E6 03       	and	a,0x03
4747  1818  28 08       	jr	Z,l_game_hall_edit_p_00107
4748  181A  41          	ld	b,c
4749  181B  0D          	dec	c
4750  181C  68          	ld	l,b
4751  181D  26 00       	ld	h,0x00
4752  181F  19          	add	hl,de
4753  1820  36 41       	ld	(hl),0x41
4754  1822              l_game_hall_edit_p_00107:
4755  1822  79          	ld	a,c
4756  1823  E6 03       	and	a,0x03
4757  1825  D6 03       	sub	a,0x03
4758  1827  20 44       	jr	NZ,l_game_hall_edit_p_00121
4759  1829  6F          	ld	l,a
4760  182A  18 43       	jr	l_game_hall_edit_p_00122
4761  182C              l_game_hall_edit_p_00120:
4762  182C  3A 00 00    	ld	a,(_dirs)
4763  182F  E6 0C       	and	a,0x0c
4764  1831  28 3A       	jr	Z,l_game_hall_edit_p_00121
4765  1833  11 00 00    	ld	de,_hall_valids
4766  1836  3E 00       	ld	a,+((_initials) & 0xFF)
4767  1838  81          	add	a, c
4768  1839  DD 77 FE    	ld	(ix-2),a
4769  183C  3E 00       	ld	a,+((_initials) / 256)
4770  183E  CE 00       	adc	a,0x00
4771  1840  DD 77 FF    	ld	(ix-1),a
4772  1843  E1          	pop	hl
4773  1844  46          	ld	b,(hl)
4774  1845  E5          	push	hl
4775  1846              l_game_hall_edit_p_00168:
4776  1846  1A          	ld	a, (de)
4777  1847  B8          	cp	a, b
4778  1848  28 06       	jr	Z,l_game_hall_edit_p_00167
4779  184A  B7          	or	a, a
4780  184B  13          	inc	de
4781  184C  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4782  184E  5F          	ld	e, a
4783  184F  57          	ld	d, a
4784  1850              l_game_hall_edit_p_00167:
4785  1850  3A 00 00    	ld	a,(_dirs)
4786  1853  E6 04       	and	a,0x04
4787  1855  28 0A       	jr	Z,l_game_hall_edit_p_00115
4788  1857  1B          	dec	de
4789  1858  1A          	ld	a,(de)
4790  1859  3D          	dec	a
4791  185A  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4792  185C  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4793  185F  18 08       	jr	l_game_hall_edit_p_00116
4794  1861              l_game_hall_edit_p_00115:
4795  1861  13          	inc	de
4796  1862  1A          	ld	a,(de)
4797  1863  B7          	or	a, a
4798  1864  20 03       	jr	NZ,l_game_hall_edit_p_00116
4799  1866  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4800  1869              l_game_hall_edit_p_00116:
4801  1869  E1          	pop	hl
4802  186A  1A          	ld	a,(de)
4803  186B  E5          	push	hl
4804  186C  77          	ld	(hl),a
4805  186D              l_game_hall_edit_p_00121:
4806  186D  0C          	inc	c
4807  186E  69          	ld	l,c
4808  186F              l_game_hall_edit_p_00122:
4809  186F  F1          	pop	af
4810  1870  DD E1       	pop	ix
4811  1872  C9          	ret
4812  1873              	SECTION code_compiler
4813  1873              ;	---------------------------------
4814  1873              ; Function game_hall_of_fame
4815  1873              ; ---------------------------------
4816  1873              _game_hall_of_fame:
4817  1873  CD 00 00    	call	_spr_draw_clear
4818  1876  2E 00       	ld	l,0x00
4819  1878  CD BF 0C    	call	_game_paint_attrib
4820  187B  21 9C 01    	ld	hl,0x019c
4821  187E  E5          	push	hl
4822  187F  21 06 18    	ld	hl,0x1806
4823  1882  E5          	push	hl
4824  1883  3E 10       	ld	a,0x10
4825  1885  F5          	push	af
4826  1886  33          	inc	sp
4827  1887  CD A3 10    	call	_game_menu_e
4828  188A  F1          	pop	af
4829  188B  33          	inc	sp
4830  188C  21 9F FF    	ld	hl,0xff9f
4831  188F  E3          	ex	(sp),hl
4832  1890  21 06 18    	ld	hl,0x1806
4833  1893  E5          	push	hl
4834  1894  3E 98       	ld	a,0x98
4835  1896  F5          	push	af
4836  1897  33          	inc	sp
4837  1898  CD A3 10    	call	_game_menu_e
4838  189B  F1          	pop	af
4839  189C  F1          	pop	af
4840  189D  33          	inc	sp
4841  189E  21 00 00    	ld	hl,_s_lin1
4842  18A1  36 00       	ld	(hl),0x00
4843  18A3              l_game_hall_of_fame_00102:
4844  18A3  21 00 00    	ld	hl,_screen_ink
4845  18A6  36 05       	ld	(hl),0x05
4846  18A8  2A 00 00    	ld	hl,(_s_lin1)
4847  18AB  26 00       	ld	h,0x00
4848  18AD  4D          	ld	c,l
4849  18AE  44          	ld	b,h
4850  18AF  29          	add	hl, hl
4851  18B0  09          	add	hl, bc
4852  18B1  29          	add	hl, hl
4853  18B2  01 00 00    	ld	bc,_hof
4854  18B5  09          	add	hl,bc
4855  18B6  3A 00 00    	ld	a,(_s_lin1)
4856  18B9  EB          	ex	de,hl
4857  18BA  C6 07       	add	a,0x07
4858  18BC  47          	ld	b,a
4859  18BD  D5          	push	de
4860  18BE  3E 0A       	ld	a,0x0a
4861  18C0  48          	ld	c,b
4862  18C1  47          	ld	b,a
4863  18C2  C5          	push	bc
4864  18C3  CD 00 00    	call	_zx_print_str
4865  18C6  2A 00 00    	ld	hl,(_s_lin1)
4866  18C9  26 00       	ld	h,0x00
4867  18CB  4D          	ld	c,l
4868  18CC  44          	ld	b,h
4869  18CD  29          	add	hl, hl
4870  18CE  09          	add	hl, bc
4871  18CF  29          	add	hl, hl
4872  18D0  01 00 00    	ld	bc,_hof
4873  18D3  09          	add	hl,bc
4874  18D4  11 04 00    	ld	de,0x0004
4875  18D7  19          	add	hl, de
4876  18D8  5E          	ld	e,(hl)
4877  18D9  23          	inc	hl
4878  18DA  56          	ld	d,(hl)
4879  18DB  3A 00 00    	ld	a,(_s_lin1)
4880  18DE  C6 07       	add	a,0x07
4881  18E0  47          	ld	b,a
4882  18E1  D5          	push	de
4883  18E2  3E 10       	ld	a,0x10
4884  18E4  48          	ld	c,b
4885  18E5  47          	ld	b,a
4886  18E6  C5          	push	bc
4887  18E7  CD 00 00    	call	_zx_print_int
4888  18EA  11 1C 02    	ld	de,___str_52
4889  18ED  3A 00 00    	ld	a,(_s_lin1)
4890  18F0  C6 07       	add	a,0x07
4891  18F2  47          	ld	b,a
4892  18F3  D5          	push	de
4893  18F4  3E 0E       	ld	a,0x0e
4894  18F6  48          	ld	c,b
4895  18F7  47          	ld	b,a
4896  18F8  C5          	push	bc
4897  18F9  CD 00 00    	call	_zx_print_str
4898  18FC  11 1E 02    	ld	de,___str_53
4899  18FF  3A 00 00    	ld	a,(_s_lin1)
4900  1902  C6 07       	add	a,0x07
4901  1904  47          	ld	b,a
4902  1905  D5          	push	de
4903  1906  3E 15       	ld	a,0x15
4904  1908  48          	ld	c,b
4905  1909  47          	ld	b,a
4906  190A  C5          	push	bc
4907  190B  CD 00 00    	call	_zx_print_str
4908  190E  21 00 00    	ld	hl,_s_lin1
4909  1911  7E          	ld	a,(hl)
4910  1912  3C          	inc	a
4911  1913  77          	ld	(hl),a
4912  1914  D6 0A       	sub	a,0x0a
4913  1916  38 8B       	jr	C,l_game_hall_of_fame_00102
4914  1918  21 20 02    	ld	hl,___str_54
4915  191B  E5          	push	hl
4916  191C  21 04 0A    	ld	hl,0x0a04
4917  191F  E5          	push	hl
4918  1920  CD 00 00    	call	_zx_print_str
4919  1923  21 F4 01    	ld	hl,0x01f4
4920  1926  E5          	push	hl
4921  1927  21 0A 16    	ld	hl,0x160a
4922  192A  E5          	push	hl
4923  192B  3E 04       	ld	a,0x04
4924  192D  F5          	push	af
4925  192E  33          	inc	sp
4926  192F  CD 60 19    	call	_game_colour_message
4927  1932  F1          	pop	af
4928  1933  F1          	pop	af
4929  1934  33          	inc	sp
4930  1935  CD 00 00    	call	_spr_draw_clear
4931  1938  21 00 00    	ld	hl,_game_menu_sel
4932  193B  36 00       	ld	(hl),0x00
4933  193D  21 00 00    	ld	hl,_pb_midi_title
4934  1940  CD 00 00    	call	_ay_midi_play
4935  1943  C9          	ret
4936  1944              	SECTION rodata_compiler
4937  021C              ___str_52:
4938  021C  2D          	DEFM "-"
4939  021D  00          	DEFB 0x00
4940  021E              	SECTION rodata_compiler
4941  021E              ___str_53:
4942  021E  30          	DEFM "0"
4943  021F  00          	DEFB 0x00
4944  0220              	SECTION rodata_compiler
4945  0220              ___str_54:
4946  0220  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4947  022C  00          	DEFB 0x00
4948  022D              	SECTION code_compiler
4949  1944              ;	---------------------------------
4950  1944              ; Function game_rotate_attrib
4951  1944              ; ---------------------------------
4952  1944              _game_rotate_attrib:
4953  1944  01 03 00    	ld	bc,_attrib_hl + 3
4954  1947  0A          	ld	a,(bc)
4955  1948  32 00 00    	ld	(_tmp_uc),a
4956  194B  11 02 00    	ld	de,_attrib_hl + 2
4957  194E  1A          	ld	a,(de)
4958  194F  02          	ld	(bc),a
4959  1950  01 01 00    	ld	bc,_attrib_hl + 1
4960  1953  0A          	ld	a,(bc)
4961  1954  12          	ld	(de),a
4962  1955  3A 00 00    	ld	a,(_attrib_hl)
4963  1958  02          	ld	(bc),a
4964  1959  3A 00 00    	ld	a,(_tmp_uc)
4965  195C  32 00 00    	ld	(_attrib_hl),a
4966  195F  C9          	ret
4967  1960              	SECTION code_compiler
4968  1960              ;	---------------------------------
4969  1960              ; Function game_colour_message
4970  1960              ; ---------------------------------
4971  1960              _game_colour_message:
4972  1960  CD 00 00    	call	___sdcc_enter_ix
4973  1963  3B          	dec	sp
4974  1964  21 00 00    	ld	hl,_tmp
4975  1967  36 01       	ld	(hl),0x01
4976  1969  2A 00 00    	ld	hl,(_curr_time)
4977  196C  22 00 00    	ld	(_frame_time),hl
4978  196F  2A 00 00    	ld	hl,(_curr_time)
4979  1972  22 00 00    	ld	(_entry_time),hl
4980  1975  DD 7E 04    	ld	a,(ix+4)
4981  1978  07          	rlca
4982  1979  07          	rlca
4983  197A  07          	rlca
4984  197B  E6 F8       	and	a,0xf8
4985  197D  C6 08       	add	a,0x08
4986  197F  DD 77 FF    	ld	(ix-1),a
4987  1982              l_game_colour_message_00107:
4988  1982  3A 00 00    	ld	a,(_tmp)
4989  1985  B7          	or	a, a
4990  1986  28 66       	jr	Z,l_game_colour_message_00110
4991  1988  DD 6E 07    	ld	l,(ix+7)
4992  198B  DD 66 08    	ld	h,(ix+8)
4993  198E  E5          	push	hl
4994  198F  2A 00 00    	ld	hl,(_entry_time)
4995  1992  E5          	push	hl
4996  1993  CD F2 19    	call	_game_check_time
4997  1996  F1          	pop	af
4998  1997  F1          	pop	af
4999  1998  7D          	ld	a,l
5000  1999  B7          	or	a, a
5001  199A  20 52       	jr	NZ,l_game_colour_message_00110
5002  199C  21 05 00    	ld	hl,0x0005
5003  199F  E5          	push	hl
5004  19A0  2A 00 00    	ld	hl,(_frame_time)
5005  19A3  E5          	push	hl
5006  19A4  CD F2 19    	call	_game_check_time
5007  19A7  F1          	pop	af
5008  19A8  F1          	pop	af
5009  19A9  7D          	ld	a,l
5010  19AA  B7          	or	a, a
5011  19AB  28 1A       	jr	Z,l_game_colour_message_00103
5012  19AD  2A 00 00    	ld	hl,(_curr_time)
5013  19B0  22 00 00    	ld	(_frame_time),hl
5014  19B3  DD 66 FF    	ld	h,(ix-1)
5015  19B6  DD 6E 06    	ld	l,(ix+6)
5016  19B9  E5          	push	hl
5017  19BA  DD 7E 05    	ld	a,(ix+5)
5018  19BD  F5          	push	af
5019  19BE  33          	inc	sp
5020  19BF  CD 0A 0D    	call	_game_paint_attrib_lin_h
5021  19C2  F1          	pop	af
5022  19C3  33          	inc	sp
5023  19C4  CD 44 19    	call	_game_rotate_attrib
5024  19C7              l_game_colour_message_00103:
5025  19C7  21 00 00    	ld	hl,_k1
5026  19CA  E5          	push	hl
5027  19CB  2A 00 00    	ld	hl,(_joyfunc1)
5028  19CE  CD 00 00    	call	___sdcc_call_hl
5029  19D1  E3          	ex	(sp),hl
5030  19D2  21 00 00    	ld	hl,_k2
5031  19D5  E5          	push	hl
5032  19D6  2A 00 00    	ld	hl,(_joyfunc2)
5033  19D9  CD 00 00    	call	___sdcc_call_hl
5034  19DC  F1          	pop	af
5035  19DD  EB          	ex	de,hl
5036  19DE  C1          	pop	bc
5037  19DF  79          	ld	a,c
5038  19E0  B3          	or	a, e
5039  19E1  4F          	ld	c,a
5040  19E2  78          	ld	a,b
5041  19E3  B2          	or	a, d
5042  19E4  B1          	or	a,c
5043  19E5  28 9B       	jr	Z,l_game_colour_message_00107
5044  19E7  21 00 00    	ld	hl,_tmp
5045  19EA  36 00       	ld	(hl),0x00
5046  19EC  18 D9       	jr	l_game_colour_message_00103
5047  19EE              l_game_colour_message_00110:
5048  19EE  33          	inc	sp
5049  19EF  DD E1       	pop	ix
5050  19F1  C9          	ret
5051  19F2              	SECTION code_compiler
5052  19F2              ;	---------------------------------
5053  19F2              ; Function game_check_time
5054  19F2              ; ---------------------------------
5055  19F2              _game_check_time:
5056  19F2  CD 00 00    	call	___sdcc_enter_ix
5057  19F5  2A 00 00    	ld	hl,(_curr_time)
5058  19F8  7D          	ld	a,l
5059  19F9  DD 96 04    	sub	a,(ix+4)
5060  19FC  4F          	ld	c,a
5061  19FD  7C          	ld	a,h
5062  19FE  DD 9E 05    	sbc	a,(ix+5)
5063  1A01  47          	ld	b,a
5064  1A02  DD 7E 06    	ld	a,(ix+6)
5065  1A05  91          	sub	a, c
5066  1A06  DD 7E 07    	ld	a,(ix+7)
5067  1A09  98          	sbc	a, b
5068  1A0A  30 04       	jr	NC,l_game_check_time_00102
5069  1A0C  2E 01       	ld	l,0x01
5070  1A0E  18 02       	jr	l_game_check_time_00104
5071  1A10              l_game_check_time_00102:
5072  1A10  2E 00       	ld	l,0x00
5073  1A12              l_game_check_time_00104:
5074  1A12  DD E1       	pop	ix
5075  1A14  C9          	ret
5076  1A15              	SECTION IGNORE
5077  0000              
