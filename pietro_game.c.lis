1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_row
244   0000              	GLOBAL _spr_draw_index
245   0000              	GLOBAL _spr_draw_clear
246   0000              	GLOBAL _spr_water_splash_draw
247   0000              	GLOBAL _spr_water_splash_clear
248   0000              	GLOBAL _spr_draw_back
249   0000              	GLOBAL _spr_cortina_pipes
250   0000              	GLOBAL _spr_cortina_brick
251   0000              	GLOBAL _spr_brick_anim
252   0000              	GLOBAL _spr_back_fix
253   0000              	GLOBAL _spr_back_paint
254   0000              	GLOBAL _spr_back_clr
255   0000              	GLOBAL _spr_draw_pow
256   0000              	GLOBAL _spr_tile
257   0000              	GLOBAL _spr_set_fall
258   0000              	GLOBAL _spr_destroy
259   0000              	GLOBAL _spr_check_over
260   0000              	GLOBAL _spr_tile_dir
261   0000              	GLOBAL _spr_anim_kill
262   0000              	GLOBAL _spr_anim_fall
263   0000              	GLOBAL _spr_killed
264   0000              	GLOBAL _spr_redraw
265   0000              	GLOBAL _spr_move_left
266   0000              	GLOBAL _spr_move_right
267   0000              	GLOBAL _spr_move_horizontal
268   0000              	GLOBAL _spr_move_down
269   0000              	GLOBAL _spr_move_up
270   0000              	GLOBAL _spr_chktime
271   0000              	GLOBAL _sound_hit_pow
272   0000              	GLOBAL _sound_hit_brick
273   0000              	GLOBAL _sound_hit_enemy
274   0000              	GLOBAL _sound_kill
275   0000              	GLOBAL _sound_enter_enemy
276   0000              	GLOBAL _sound_coin
277   0000              	GLOBAL _sound_jump
278   0000              	GLOBAL _sound_slide
279   0000              	GLOBAL _player_move_horizontal
280   0000              	GLOBAL _player_push_check
281   0000              	GLOBAL _player_push
282   0000              	GLOBAL _player_hit_brick_clear
283   0000              	GLOBAL _player_lost_life
284   0000              	GLOBAL _player_score_add
285   0000              	GLOBAL _player_coin
286   0000              	GLOBAL _player_hit_pow
287   0000              	GLOBAL _player_hit_brick
288   0000              	GLOBAL _player_move_input
289   0000              	GLOBAL _player_turn
290   0000              	GLOBAL _player_move
291   0000              	GLOBAL _player_restart
292   0000              	GLOBAL _player_kill
293   0000              	GLOBAL _player_check_input
294   0000              	GLOBAL _player_collition_check
295   0000              	GLOBAL _player_collition
296   0000              	GLOBAL _player_calc_slide
297   0000              	GLOBAL _player_init
298   0000              	GLOBAL _player_set2
299   0000              	GLOBAL _player_set1
300   0000              	GLOBAL _game_fill_row
301   0000              	GLOBAL _enemy_ugly_fix
302   0000              	GLOBAL _enemy_kill
303   0000              	GLOBAL _enemy_init
304   0000              	GLOBAL _enemy_walk
305   0000              	GLOBAL _enemy_upgrade
306   0000              	GLOBAL _enemy_evolve
307   0000              	GLOBAL _enemy_standard_hit
308   0000              	GLOBAL _enemy_trip
309   0000              	GLOBAL _enemy_fighterfly
310   0000              	GLOBAL _enemy_fireball_green
311   0000              	GLOBAL _enemy_fireball_red
312   0000              	GLOBAL _enemy_slipice
313   0000              	GLOBAL _enemy_standard
314   0000              	GLOBAL _enemy_turn
315   0000              	GLOBAL _enemy_flip_sidestepper
316   0000              	GLOBAL _enemy_flip
317   0000              	GLOBAL _enemy_flip_change_dir
318   0000              	GLOBAL _enemy_hit
319   0000              	GLOBAL _enemy_collition_check
320   0000              	GLOBAL _enemy_collition
321   0000              	GLOBAL _enemy_coin1
322   0000              	GLOBAL _ay_fx_play
323   0000              	GLOBAL _ay_midi_play
324   0000              	GLOBAL _ay_is_playing
325   0000              	GLOBAL _ay_reset
326   0000              	GLOBAL _test_func
327   0000              	GLOBAL _in_mouse_kempston_wheel_delta
328   0000              	GLOBAL _in_mouse_kempston_wheel
329   0000              	GLOBAL _in_mouse_kempston_callee
330   0000              	GLOBAL _in_mouse_kempston
331   0000              	GLOBAL _in_mouse_kempston_setpos_callee
332   0000              	GLOBAL _in_mouse_kempston_setpos
333   0000              	GLOBAL _in_mouse_kempston_reset
334   0000              	GLOBAL _in_mouse_kempston_init
335   0000              	GLOBAL _in_mouse_amx_wheel_delta
336   0000              	GLOBAL _in_mouse_amx_wheel
337   0000              	GLOBAL _in_mouse_amx_callee
338   0000              	GLOBAL _in_mouse_amx
339   0000              	GLOBAL _in_mouse_amx_setpos_callee
340   0000              	GLOBAL _in_mouse_amx_setpos
341   0000              	GLOBAL _in_mouse_amx_reset
342   0000              	GLOBAL _in_mouse_amx_init_callee
343   0000              	GLOBAL _in_mouse_amx_init
344   0000              	GLOBAL _in_stick_sinclair2
345   0000              	GLOBAL _in_stick_sinclair1
346   0000              	GLOBAL _in_stick_kempston
347   0000              	GLOBAL _in_stick_fuller
348   0000              	GLOBAL _in_stick_cursor
349   0000              	GLOBAL _in_stick_keyboard_fastcall
350   0000              	GLOBAL _in_stick_keyboard
351   0000              	GLOBAL _in_wait_nokey
352   0000              	GLOBAL _in_wait_key
353   0000              	GLOBAL _in_test_key
354   0000              	GLOBAL _in_pause_fastcall
355   0000              	GLOBAL _in_pause
356   0000              	GLOBAL _in_key_scancode_fastcall
357   0000              	GLOBAL _in_key_scancode
358   0000              	GLOBAL _in_key_pressed_fastcall
359   0000              	GLOBAL _in_key_pressed
360   0000              	GLOBAL _in_inkey
361   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawTW_raw
363   0000              	GLOBAL _NIRVANAP_drawTW_callee
364   0000              	GLOBAL _NIRVANAP_drawTW
365   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawW_raw
367   0000              	GLOBAL _NIRVANAP_drawW_callee
368   0000              	GLOBAL _NIRVANAP_drawW
369   0000              	GLOBAL _NIRVANAP_spriteT_callee
370   0000              	GLOBAL _NIRVANAP_spriteT
371   0000              	GLOBAL _NIRVANAP_fillC_callee
372   0000              	GLOBAL _NIRVANAP_fillC
373   0000              	GLOBAL _NIRVANAP_readC_callee
374   0000              	GLOBAL _NIRVANAP_readC
375   0000              	GLOBAL _NIRVANAP_paintC_callee
376   0000              	GLOBAL _NIRVANAP_paintC
377   0000              	GLOBAL _NIRVANAP_printC_callee
378   0000              	GLOBAL _NIRVANAP_printC
379   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
380   0000              	GLOBAL _NIRVANAP_fillT_raw
381   0000              	GLOBAL _NIRVANAP_fillT_callee
382   0000              	GLOBAL _NIRVANAP_fillT
383   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
384   0000              	GLOBAL _NIRVANAP_drawT_raw
385   0000              	GLOBAL _NIRVANAP_drawT_callee
386   0000              	GLOBAL _NIRVANAP_drawT
387   0000              	GLOBAL _NIRVANAP_stop
388   0000              	GLOBAL _NIRVANAP_start
389   0000              	GLOBAL _z80_otdr_callee
390   0000              	GLOBAL _z80_otdr
391   0000              	GLOBAL _z80_otir_callee
392   0000              	GLOBAL _z80_otir
393   0000              	GLOBAL _z80_outp_callee
394   0000              	GLOBAL _z80_outp
395   0000              	GLOBAL _z80_indr_callee
396   0000              	GLOBAL _z80_indr
397   0000              	GLOBAL _z80_inir_callee
398   0000              	GLOBAL _z80_inir
399   0000              	GLOBAL _z80_inp_fastcall
400   0000              	GLOBAL _z80_inp
401   0000              	GLOBAL _z80_set_int_state_fastcall
402   0000              	GLOBAL _z80_set_int_state
403   0000              	GLOBAL _z80_get_int_state
404   0000              	GLOBAL _z80_delay_tstate_fastcall
405   0000              	GLOBAL _z80_delay_tstate
406   0000              	GLOBAL _z80_delay_ms_fastcall
407   0000              	GLOBAL _z80_delay_ms
408   0000              	GLOBAL _im2_remove_generic_callback_callee
409   0000              	GLOBAL _im2_remove_generic_callback
410   0000              	GLOBAL _im2_prepend_generic_callback_callee
411   0000              	GLOBAL _im2_prepend_generic_callback
412   0000              	GLOBAL _im2_append_generic_callback_callee
413   0000              	GLOBAL _im2_append_generic_callback
414   0000              	GLOBAL _im2_create_generic_isr_8080_callee
415   0000              	GLOBAL _im2_create_generic_isr_8080
416   0000              	GLOBAL _im2_create_generic_isr_callee
417   0000              	GLOBAL _im2_create_generic_isr
418   0000              	GLOBAL _im2_install_isr_callee
419   0000              	GLOBAL _im2_install_isr
420   0000              	GLOBAL _im2_init_fastcall
421   0000              	GLOBAL _im2_init
422   0000              	GLOBAL _ffsll_callee
423   0000              	GLOBAL _ffsll
424   0000              	GLOBAL _strxfrm_callee
425   0000              	GLOBAL _strxfrm
426   0000              	GLOBAL _strupr_fastcall
427   0000              	GLOBAL _strupr
428   0000              	GLOBAL _strtok_r_callee
429   0000              	GLOBAL _strtok_r
430   0000              	GLOBAL _strtok_callee
431   0000              	GLOBAL _strtok
432   0000              	GLOBAL _strstrip_fastcall
433   0000              	GLOBAL _strstrip
434   0000              	GLOBAL _strstr_callee
435   0000              	GLOBAL _strstr
436   0000              	GLOBAL _strspn_callee
437   0000              	GLOBAL _strspn
438   0000              	GLOBAL _strsep_callee
439   0000              	GLOBAL _strsep
440   0000              	GLOBAL _strrstrip_fastcall
441   0000              	GLOBAL _strrstrip
442   0000              	GLOBAL _strrspn_callee
443   0000              	GLOBAL _strrspn
444   0000              	GLOBAL _strrev_fastcall
445   0000              	GLOBAL _strrev
446   0000              	GLOBAL _strrcspn_callee
447   0000              	GLOBAL _strrcspn
448   0000              	GLOBAL _strrchr_callee
449   0000              	GLOBAL _strrchr
450   0000              	GLOBAL _strpbrk_callee
451   0000              	GLOBAL _strpbrk
452   0000              	GLOBAL _strnlen_callee
453   0000              	GLOBAL _strnlen
454   0000              	GLOBAL _strnicmp_callee
455   0000              	GLOBAL _strnicmp
456   0000              	GLOBAL _strndup_callee
457   0000              	GLOBAL _strndup
458   0000              	GLOBAL _strncpy_callee
459   0000              	GLOBAL _strncpy
460   0000              	GLOBAL _strncmp_callee
461   0000              	GLOBAL _strncmp
462   0000              	GLOBAL _strnchr_callee
463   0000              	GLOBAL _strnchr
464   0000              	GLOBAL _strncat_callee
465   0000              	GLOBAL _strncat
466   0000              	GLOBAL _strncasecmp_callee
467   0000              	GLOBAL _strncasecmp
468   0000              	GLOBAL _strlwr_fastcall
469   0000              	GLOBAL _strlwr
470   0000              	GLOBAL _strlen_fastcall
471   0000              	GLOBAL _strlen
472   0000              	GLOBAL _strlcpy_callee
473   0000              	GLOBAL _strlcpy
474   0000              	GLOBAL _strlcat_callee
475   0000              	GLOBAL _strlcat
476   0000              	GLOBAL _stricmp_callee
477   0000              	GLOBAL _stricmp
478   0000              	GLOBAL _strerror_fastcall
479   0000              	GLOBAL _strerror
480   0000              	GLOBAL _strdup_fastcall
481   0000              	GLOBAL _strdup
482   0000              	GLOBAL _strcspn_callee
483   0000              	GLOBAL _strcspn
484   0000              	GLOBAL _strcpy_callee
485   0000              	GLOBAL _strcpy
486   0000              	GLOBAL _strcoll_callee
487   0000              	GLOBAL _strcoll
488   0000              	GLOBAL _strcmp_callee
489   0000              	GLOBAL _strcmp
490   0000              	GLOBAL _strchrnul_callee
491   0000              	GLOBAL _strchrnul
492   0000              	GLOBAL _strchr_callee
493   0000              	GLOBAL _strchr
494   0000              	GLOBAL _strcat_callee
495   0000              	GLOBAL _strcat
496   0000              	GLOBAL _strcasecmp_callee
497   0000              	GLOBAL _strcasecmp
498   0000              	GLOBAL _stpncpy_callee
499   0000              	GLOBAL _stpncpy
500   0000              	GLOBAL _stpcpy_callee
501   0000              	GLOBAL _stpcpy
502   0000              	GLOBAL _memswap_callee
503   0000              	GLOBAL _memswap
504   0000              	GLOBAL _memset_callee
505   0000              	GLOBAL _memset
506   0000              	GLOBAL _memrchr_callee
507   0000              	GLOBAL _memrchr
508   0000              	GLOBAL _memmove_callee
509   0000              	GLOBAL _memmove
510   0000              	GLOBAL _memmem_callee
511   0000              	GLOBAL _memmem
512   0000              	GLOBAL _memcpy_callee
513   0000              	GLOBAL _memcpy
514   0000              	GLOBAL _memcmp_callee
515   0000              	GLOBAL _memcmp
516   0000              	GLOBAL _memchr_callee
517   0000              	GLOBAL _memchr
518   0000              	GLOBAL _memccpy_callee
519   0000              	GLOBAL _memccpy
520   0000              	GLOBAL _ffsl_fastcall
521   0000              	GLOBAL _ffsl
522   0000              	GLOBAL _ffs_fastcall
523   0000              	GLOBAL _ffs
524   0000              	GLOBAL __strrstrip__fastcall
525   0000              	GLOBAL __strrstrip_
526   0000              	GLOBAL __memupr__callee
527   0000              	GLOBAL __memupr_
528   0000              	GLOBAL __memstrcpy__callee
529   0000              	GLOBAL __memstrcpy_
530   0000              	GLOBAL __memlwr__callee
531   0000              	GLOBAL __memlwr_
532   0000              	GLOBAL _rawmemchr_callee
533   0000              	GLOBAL _rawmemchr
534   0000              	GLOBAL _strnset_callee
535   0000              	GLOBAL _strnset
536   0000              	GLOBAL _strset_callee
537   0000              	GLOBAL _strset
538   0000              	GLOBAL _rindex_callee
539   0000              	GLOBAL _rindex
540   0000              	GLOBAL _index_callee
541   0000              	GLOBAL _index
542   0000              	GLOBAL _bzero_callee
543   0000              	GLOBAL _bzero
544   0000              	GLOBAL _bcopy_callee
545   0000              	GLOBAL _bcopy
546   0000              	GLOBAL _bcmp_callee
547   0000              	GLOBAL _bcmp
548   0000              	GLOBAL _ulltoa_callee
549   0000              	GLOBAL _ulltoa
550   0000              	GLOBAL _strtoull_callee
551   0000              	GLOBAL _strtoull
552   0000              	GLOBAL _strtoll_callee
553   0000              	GLOBAL _strtoll
554   0000              	GLOBAL _lltoa_callee
555   0000              	GLOBAL _lltoa
556   0000              	GLOBAL _llabs_callee
557   0000              	GLOBAL _llabs
558   0000              	GLOBAL __lldivu__callee
559   0000              	GLOBAL __lldivu_
560   0000              	GLOBAL __lldiv__callee
561   0000              	GLOBAL __lldiv_
562   0000              	GLOBAL _atoll_callee
563   0000              	GLOBAL _atoll
564   0000              	GLOBAL _realloc_unlocked_callee
565   0000              	GLOBAL _realloc_unlocked
566   0000              	GLOBAL _malloc_unlocked_fastcall
567   0000              	GLOBAL _malloc_unlocked
568   0000              	GLOBAL _free_unlocked_fastcall
569   0000              	GLOBAL _free_unlocked
570   0000              	GLOBAL _calloc_unlocked_callee
571   0000              	GLOBAL _calloc_unlocked
572   0000              	GLOBAL _aligned_alloc_unlocked_callee
573   0000              	GLOBAL _aligned_alloc_unlocked
574   0000              	GLOBAL _realloc_callee
575   0000              	GLOBAL _realloc
576   0000              	GLOBAL _malloc_fastcall
577   0000              	GLOBAL _malloc
578   0000              	GLOBAL _free_fastcall
579   0000              	GLOBAL _free
580   0000              	GLOBAL _calloc_callee
581   0000              	GLOBAL _calloc
582   0000              	GLOBAL _aligned_alloc_callee
583   0000              	GLOBAL _aligned_alloc
584   0000              	GLOBAL _utoa_callee
585   0000              	GLOBAL _utoa
586   0000              	GLOBAL _ultoa_callee
587   0000              	GLOBAL _ultoa
588   0000              	GLOBAL _system_fastcall
589   0000              	GLOBAL _system
590   0000              	GLOBAL _strtoul_callee
591   0000              	GLOBAL _strtoul
592   0000              	GLOBAL _strtol_callee
593   0000              	GLOBAL _strtol
594   0000              	GLOBAL _strtof_callee
595   0000              	GLOBAL _strtof
596   0000              	GLOBAL _strtod_callee
597   0000              	GLOBAL _strtod
598   0000              	GLOBAL _srand_fastcall
599   0000              	GLOBAL _srand
600   0000              	GLOBAL _rand
601   0000              	GLOBAL _quick_exit_fastcall
602   0000              	GLOBAL _quick_exit
603   0000              	GLOBAL _qsort_callee
604   0000              	GLOBAL _qsort
605   0000              	GLOBAL _ltoa_callee
606   0000              	GLOBAL _ltoa
607   0000              	GLOBAL _labs_fastcall
608   0000              	GLOBAL _labs
609   0000              	GLOBAL _itoa_callee
610   0000              	GLOBAL _itoa
611   0000              	GLOBAL _ftoh_callee
612   0000              	GLOBAL _ftoh
613   0000              	GLOBAL _ftog_callee
614   0000              	GLOBAL _ftog
615   0000              	GLOBAL _ftoe_callee
616   0000              	GLOBAL _ftoe
617   0000              	GLOBAL _ftoa_callee
618   0000              	GLOBAL _ftoa
619   0000              	GLOBAL _exit_fastcall
620   0000              	GLOBAL _exit
621   0000              	GLOBAL _dtoh_callee
622   0000              	GLOBAL _dtoh
623   0000              	GLOBAL _dtog_callee
624   0000              	GLOBAL _dtog
625   0000              	GLOBAL _dtoe_callee
626   0000              	GLOBAL _dtoe
627   0000              	GLOBAL _dtoa_callee
628   0000              	GLOBAL _dtoa
629   0000              	GLOBAL _bsearch_callee
630   0000              	GLOBAL _bsearch
631   0000              	GLOBAL _atol_fastcall
632   0000              	GLOBAL _atol
633   0000              	GLOBAL _atoi_fastcall
634   0000              	GLOBAL _atoi
635   0000              	GLOBAL _atof_fastcall
636   0000              	GLOBAL _atof
637   0000              	GLOBAL _atexit_fastcall
638   0000              	GLOBAL _atexit
639   0000              	GLOBAL _at_quick_exit_fastcall
640   0000              	GLOBAL _at_quick_exit
641   0000              	GLOBAL _abs_fastcall
642   0000              	GLOBAL _abs
643   0000              	GLOBAL _abort
644   0000              	GLOBAL __strtou__callee
645   0000              	GLOBAL __strtou_
646   0000              	GLOBAL __strtoi__callee
647   0000              	GLOBAL __strtoi_
648   0000              	GLOBAL __random_uniform_xor_8__fastcall
649   0000              	GLOBAL __random_uniform_xor_8_
650   0000              	GLOBAL __random_uniform_xor_32__fastcall
651   0000              	GLOBAL __random_uniform_xor_32_
652   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
653   0000              	GLOBAL __random_uniform_cmwc_8_
654   0000              	GLOBAL __shellsort__callee
655   0000              	GLOBAL __shellsort_
656   0000              	GLOBAL __quicksort__callee
657   0000              	GLOBAL __quicksort_
658   0000              	GLOBAL __insertion_sort__callee
659   0000              	GLOBAL __insertion_sort_
660   0000              	GLOBAL __ldivu__callee
661   0000              	GLOBAL __ldivu_
662   0000              	GLOBAL __ldiv__callee
663   0000              	GLOBAL __ldiv_
664   0000              	GLOBAL __divu__callee
665   0000              	GLOBAL __divu_
666   0000              	GLOBAL __div__callee
667   0000              	GLOBAL __div_
668   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
669   0000              	GLOBAL _intrinsic_swap_word_32
670   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
671   0000              	GLOBAL _intrinsic_swap_endian_32
672   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
673   0000              	GLOBAL _intrinsic_swap_endian_16
674   0000              	GLOBAL _intrinsic_return_de
675   0000              	GLOBAL _intrinsic_return_bc
676   0000              	GLOBAL _intrinsic_exx
677   0000              	GLOBAL _intrinsic_ex_de_hl
678   0000              	GLOBAL _intrinsic_pop_iy
679   0000              	GLOBAL _intrinsic_pop_ix
680   0000              	GLOBAL _intrinsic_pop_hl
681   0000              	GLOBAL _intrinsic_pop_de
682   0000              	GLOBAL _intrinsic_pop_bc
683   0000              	GLOBAL _intrinsic_pop_af
684   0000              	GLOBAL _intrinsic_push_iy
685   0000              	GLOBAL _intrinsic_push_ix
686   0000              	GLOBAL _intrinsic_push_hl
687   0000              	GLOBAL _intrinsic_push_de
688   0000              	GLOBAL _intrinsic_push_bc
689   0000              	GLOBAL _intrinsic_push_af
690   0000              	GLOBAL _intrinsic_nop
691   0000              	GLOBAL _intrinsic_im_2
692   0000              	GLOBAL _intrinsic_im_1
693   0000              	GLOBAL _intrinsic_im_0
694   0000              	GLOBAL _intrinsic_retn
695   0000              	GLOBAL _intrinsic_reti
696   0000              	GLOBAL _intrinsic_halt
697   0000              	GLOBAL _intrinsic_ei
698   0000              	GLOBAL _intrinsic_di
699   0000              	GLOBAL _intrinsic_stub
700   0000              	GLOBAL _zx_pattern_fill_callee
701   0000              	GLOBAL _zx_pattern_fill
702   0000              	GLOBAL _zx_saddrpup_fastcall
703   0000              	GLOBAL _zx_saddrpup
704   0000              	GLOBAL _zx_saddrpright_callee
705   0000              	GLOBAL _zx_saddrpright
706   0000              	GLOBAL _zx_saddrpleft_callee
707   0000              	GLOBAL _zx_saddrpleft
708   0000              	GLOBAL _zx_saddrpdown_fastcall
709   0000              	GLOBAL _zx_saddrpdown
710   0000              	GLOBAL _zx_saddrcup_fastcall
711   0000              	GLOBAL _zx_saddrcup
712   0000              	GLOBAL _zx_saddrcright_fastcall
713   0000              	GLOBAL _zx_saddrcright
714   0000              	GLOBAL _zx_saddrcleft_fastcall
715   0000              	GLOBAL _zx_saddrcleft
716   0000              	GLOBAL _zx_saddrcdown_fastcall
717   0000              	GLOBAL _zx_saddrcdown
718   0000              	GLOBAL _zx_saddr2py_fastcall
719   0000              	GLOBAL _zx_saddr2py
720   0000              	GLOBAL _zx_saddr2px_fastcall
721   0000              	GLOBAL _zx_saddr2px
722   0000              	GLOBAL _zx_saddr2cy_fastcall
723   0000              	GLOBAL _zx_saddr2cy
724   0000              	GLOBAL _zx_saddr2cx_fastcall
725   0000              	GLOBAL _zx_saddr2cx
726   0000              	GLOBAL _zx_saddr2aaddr_fastcall
727   0000              	GLOBAL _zx_saddr2aaddr
728   0000              	GLOBAL _zx_py2saddr_fastcall
729   0000              	GLOBAL _zx_py2saddr
730   0000              	GLOBAL _zx_py2aaddr_fastcall
731   0000              	GLOBAL _zx_py2aaddr
732   0000              	GLOBAL _zx_pxy2saddr_callee
733   0000              	GLOBAL _zx_pxy2saddr
734   0000              	GLOBAL _zx_pxy2aaddr_callee
735   0000              	GLOBAL _zx_pxy2aaddr
736   0000              	GLOBAL _zx_px2bitmask_fastcall
737   0000              	GLOBAL _zx_px2bitmask
738   0000              	GLOBAL _zx_cyx2saddr_callee
739   0000              	GLOBAL _zx_cyx2saddr
740   0000              	GLOBAL _zx_cyx2aaddr_callee
741   0000              	GLOBAL _zx_cyx2aaddr
742   0000              	GLOBAL _zx_cy2saddr_fastcall
743   0000              	GLOBAL _zx_cy2saddr
744   0000              	GLOBAL _zx_cy2aaddr_fastcall
745   0000              	GLOBAL _zx_cy2aaddr
746   0000              	GLOBAL _zx_bitmask2px_fastcall
747   0000              	GLOBAL _zx_bitmask2px
748   0000              	GLOBAL _zx_aaddrcup_fastcall
749   0000              	GLOBAL _zx_aaddrcup
750   0000              	GLOBAL _zx_aaddrcright_fastcall
751   0000              	GLOBAL _zx_aaddrcright
752   0000              	GLOBAL _zx_aaddrcleft_fastcall
753   0000              	GLOBAL _zx_aaddrcleft
754   0000              	GLOBAL _zx_aaddrcdown_fastcall
755   0000              	GLOBAL _zx_aaddrcdown
756   0000              	GLOBAL _zx_aaddr2saddr_fastcall
757   0000              	GLOBAL _zx_aaddr2saddr
758   0000              	GLOBAL _zx_aaddr2py_fastcall
759   0000              	GLOBAL _zx_aaddr2py
760   0000              	GLOBAL _zx_aaddr2px_fastcall
761   0000              	GLOBAL _zx_aaddr2px
762   0000              	GLOBAL _zx_aaddr2cy_fastcall
763   0000              	GLOBAL _zx_aaddr2cy
764   0000              	GLOBAL _zx_aaddr2cx_fastcall
765   0000              	GLOBAL _zx_aaddr2cx
766   0000              	GLOBAL _zx_scroll_wc_up_callee
767   0000              	GLOBAL _zx_scroll_wc_up
768   0000              	GLOBAL _zx_scroll_up_callee
769   0000              	GLOBAL _zx_scroll_up
770   0000              	GLOBAL _zx_cls_wc_callee
771   0000              	GLOBAL _zx_cls_wc
772   0000              	GLOBAL _zx_cls_fastcall
773   0000              	GLOBAL _zx_cls
774   0000              	GLOBAL _zx_border_fastcall
775   0000              	GLOBAL _zx_border
776   0000              	GLOBAL _ay_effect_20
777   0000              	GLOBAL _ay_effect_19
778   0000              	GLOBAL _ay_effect_18
779   0000              	GLOBAL _ay_effect_17
780   0000              	GLOBAL _ay_effect_16
781   0000              	GLOBAL _ay_effect_15
782   0000              	GLOBAL _ay_effect_14
783   0000              	GLOBAL _ay_effect_13
784   0000              	GLOBAL _ay_effect_12
785   0000              	GLOBAL _ay_effect_11
786   0000              	GLOBAL _ay_effect_10
787   0000              	GLOBAL _ay_effect_09
788   0000              	GLOBAL _ay_effect_08
789   0000              	GLOBAL _ay_effect_07
790   0000              	GLOBAL _ay_effect_06
791   0000              	GLOBAL _ay_effect_05
792   0000              	GLOBAL _ay_effect_04
793   0000              	GLOBAL _ay_effect_03
794   0000              	GLOBAL _ay_effect_02
795   0000              	GLOBAL _ay_effect_01
796   0000              	GLOBAL _pb_midi_phase_1
797   0000              	GLOBAL _pb_midi_title
798   0000              	GLOBAL _joynames
799   0000              	GLOBAL _initials
800   0000              	GLOBAL _hof
801   0000              	GLOBAL _score_osd_tile
802   0000              	GLOBAL _score_osd_time
803   0000              	GLOBAL _score_osd_col
804   0000              	GLOBAL _score_osd_lin
805   0000              	GLOBAL _phase_bonus_total
806   0000              	GLOBAL _phase_angry
807   0000              	GLOBAL _phase_curr
808   0000              	GLOBAL _phase_end
809   0000              	GLOBAL _phase_coins
810   0000              	GLOBAL _phase_pop
811   0000              	GLOBAL _phase_tot
812   0000              	GLOBAL _phase_left
813   0000              	GLOBAL _phase_quota
814   0000              	GLOBAL _phases
815   0000              	GLOBAL _spr_idx
816   0000              	GLOBAL _lvl_1
817   0000              	GLOBAL _sprite_speed_alt
818   0000              	GLOBAL _sprite_speed
819   0000              	GLOBAL _screen_ink
820   0000              	GLOBAL _screen_paper
821   0000              	GLOBAL _game_menu_sel
822   0000              	GLOBAL _game_type
823   0000              	GLOBAL _game_osd
824   0000              	GLOBAL _game_bonus
825   0000              	GLOBAL _spr_water_time
826   0000              	GLOBAL _spr_water_clear
827   0000              	GLOBAL _game_time_fireball_start
828   0000              	GLOBAL _game_time_flipped
829   0000              	GLOBAL _game_score_top
830   0000              	GLOBAL _game_lives
831   0000              	GLOBAL _game_over
832   0000              	GLOBAL _game_sound
833   0000              	GLOBAL _game_two_player
834   0000              	GLOBAL _game_brick_tile
835   0000              	GLOBAL _game_pow
836   0000              	GLOBAL _spr_count
837   0000              	GLOBAL _frame_loop_count
838   0000              	GLOBAL _osd_time
839   0000              	GLOBAL _frame_time
840   0000              	GLOBAL _entry_time
841   0000              	GLOBAL _curr_time
842   0000              	GLOBAL _s_state
843   0000              	GLOBAL _attrib_hl
844   0000              	GLOBAL _attrib
845   0000              	GLOBAL _zx_val_asm
846   0000              	GLOBAL _enemies
847   0000              	GLOBAL _tmp_ui
848   0000              	GLOBAL _tmp_sc
849   0000              	GLOBAL _tmp_uc
850   0000              	GLOBAL _tmp1
851   0000              	GLOBAL _tmp0
852   0000              	GLOBAL _tmp
853   0000              	GLOBAL _index_d
854   0000              	GLOBAL _index3
855   0000              	GLOBAL _index2
856   0000              	GLOBAL _index1
857   0000              	GLOBAL _loop_count
858   0000              	GLOBAL _sprite_lin_inc_mul
859   0000              	GLOBAL _s_col1
860   0000              	GLOBAL _s_col0
861   0000              	GLOBAL _s_lin1
862   0000              	GLOBAL _s_lin0
863   0000              	GLOBAL _s_tile1
864   0000              	GLOBAL _s_tile0
865   0000              	GLOBAL _hit_count
866   0000              	GLOBAL _tile_offset_other_player
867   0000              	GLOBAL _tile_offset
868   0000              	GLOBAL _index_player
869   0000              	GLOBAL _sprite_other_player
870   0000              	GLOBAL _sprite
871   0000              	GLOBAL _player_joy
872   0000              	GLOBAL _player_next_extra
873   0000              	GLOBAL _player_score
874   0000              	GLOBAL _last_time
875   0000              	GLOBAL _sliding
876   0000              	GLOBAL _spr_timer_c
877   0000              	GLOBAL _spr_timer
878   0000              	GLOBAL _jump_lin
879   0000              	GLOBAL _player_jump_c
880   0000              	GLOBAL _hit_col
881   0000              	GLOBAL _hit_lin
882   0000              	GLOBAL _colint
883   0000              	GLOBAL _col
884   0000              	GLOBAL _lin
885   0000              	GLOBAL _tile
886   0000              	GLOBAL _state_a
887   0000              	GLOBAL _state
888   0000              	GLOBAL _class
889   0000              	GLOBAL _tbuffer
890   0000              	GLOBAL _dirs
891   0000              	GLOBAL _k2
892   0000              	GLOBAL _k1
893   0000              	GLOBAL _joyfunc2
894   0000              	GLOBAL _joyfunc1
895   0000              	GLOBAL _btiles
896   0000              	GLOBAL _spec128
897   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
898   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
899   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
900   0000              	GLOBAL _NIRVANAP_HOLE
901   0000              	GLOBAL _NIRVANAP_ISR_HOOK
902   0000              	GLOBAL _control_method
903   0000              	GLOBAL _hall_valids
904   0000              ;--------------------------------------------------------
905   0000              ; special function registers
906   0000              ;--------------------------------------------------------
907   0000              ;--------------------------------------------------------
908   0000              ; ram data
909   0000              ;--------------------------------------------------------
910   0000              	SECTION bss_compiler
911   0000              ;--------------------------------------------------------
912   0000              ; ram data
913   0000              ;--------------------------------------------------------
914   0000              
915   0000              IF 0
916   0000              
917   0000              ; .area _INITIALIZED removed by z88dk
918   0000              
919   0000              
920   0000              ENDIF
921   0000              
922   0000              ;--------------------------------------------------------
923   0000              ; absolute external ram data
924   0000              ;--------------------------------------------------------
925   0000              	SECTION IGNORE
926   0000              ;--------------------------------------------------------
927   0000              ; global & static initialisations
928   0000              ;--------------------------------------------------------
929   0000              	SECTION code_crt_init
930   0000              ;--------------------------------------------------------
931   0000              ; Home
932   0000              ;--------------------------------------------------------
933   0000              	SECTION IGNORE
934   0000              ;--------------------------------------------------------
935   0000              ; code
936   0000              ;--------------------------------------------------------
937   0000              	SECTION code_compiler
938   0000              ;	---------------------------------
939   0000              ; Function game_calc_index
940   0000              ; ---------------------------------
941   0000              _game_calc_index:
942   0000  CD 00 00    	call	___sdcc_enter_ix
943   0003  DD 4E 05    	ld	c,(ix+5)
944   0006  06 00       	ld	b,0x00
945   0008  DD 7E 04    	ld	a,(ix+4)
946   000B  0F          	rrca
947   000C  0F          	rrca
948   000D  0F          	rrca
949   000E  E6 1F       	and	a,0x1f
950   0010  6F          	ld	l,a
951   0011  26 00       	ld	h,0x00
952   0013  29          	add	hl, hl
953   0014  29          	add	hl, hl
954   0015  29          	add	hl, hl
955   0016  29          	add	hl, hl
956   0017  29          	add	hl, hl
957   0018  09          	add	hl,bc
958   0019  DD E1       	pop	ix
959   001B  C9          	ret
960   001C              	SECTION code_compiler
961   001C              ;	---------------------------------
962   001C              ; Function game_print_footer
963   001C              ; ---------------------------------
964   001C              _game_print_footer:
965   001C  21 00 00    	ld	hl,___str_0
966   001F  E5          	push	hl
967   0020  21 16 01    	ld	hl,0x0116
968   0023  E5          	push	hl
969   0024  CD 00 00    	call	_zx_print_str
970   0027  21 00 00    	ld	hl,___str_0
971   002A  E5          	push	hl
972   002B  21 16 1E    	ld	hl,0x1e16
973   002E  E5          	push	hl
974   002F  CD 00 00    	call	_zx_print_str
975   0032  21 02 00    	ld	hl,___str_1
976   0035  E5          	push	hl
977   0036  21 17 01    	ld	hl,0x0117
978   0039  E5          	push	hl
979   003A  CD 00 00    	call	_zx_print_str
980   003D  21 02 00    	ld	hl,___str_1
981   0040  E5          	push	hl
982   0041  21 17 1E    	ld	hl,0x1e17
983   0044  E5          	push	hl
984   0045  CD 00 00    	call	_zx_print_str
985   0048  3A 00 00    	ld	a,(_game_lives)
986   004B  B7          	or	a, a
987   004C  28 20       	jr	Z,l_game_print_footer_00102
988   004E  21 00 00    	ld	hl,_screen_ink
989   0051  36 02       	ld	(hl),0x02
990   0053  21 08 00    	ld	hl,___str_2
991   0056  E5          	push	hl
992   0057  21 16 01    	ld	hl,0x0116
993   005A  E5          	push	hl
994   005B  CD 00 00    	call	_zx_print_str
995   005E  21 00 00    	ld	hl,_screen_ink
996   0061  36 06       	ld	(hl),0x06
997   0063  21 0A 00    	ld	hl,___str_3
998   0066  E5          	push	hl
999   0067  21 17 01    	ld	hl,0x0117
1000  006A  E5          	push	hl
1001  006B  CD 00 00    	call	_zx_print_str
1002  006E              l_game_print_footer_00102:
1003  006E  3A 01 00    	ld	a, (_game_lives + 1)
1004  0071  B7          	or	a, a
1005  0072  28 20       	jr	Z,l_game_print_footer_00104
1006  0074  21 00 00    	ld	hl,_screen_ink
1007  0077  36 07       	ld	(hl),0x07
1008  0079  21 0C 00    	ld	hl,___str_4
1009  007C  E5          	push	hl
1010  007D  21 16 1E    	ld	hl,0x1e16
1011  0080  E5          	push	hl
1012  0081  CD 00 00    	call	_zx_print_str
1013  0084  21 00 00    	ld	hl,_screen_ink
1014  0087  36 06       	ld	(hl),0x06
1015  0089  21 0E 00    	ld	hl,___str_5
1016  008C  E5          	push	hl
1017  008D  21 17 1E    	ld	hl,0x1e17
1018  0090  E5          	push	hl
1019  0091  CD 00 00    	call	_zx_print_str
1020  0094              l_game_print_footer_00104:
1021  0094  CD E7 00    	call	_game_print_lives
1022  0097  21 10 00    	ld	hl,___str_6
1023  009A  E5          	push	hl
1024  009B  21 17 0B    	ld	hl,0x0b17
1025  009E  E5          	push	hl
1026  009F  CD 00 00    	call	_zx_print_str
1027  00A2  21 00 00    	ld	hl,_phase_curr
1028  00A5  46          	ld	b,(hl)
1029  00A6  04          	inc	b
1030  00A7  C5          	push	bc
1031  00A8  33          	inc	sp
1032  00A9  21 17 12    	ld	hl,0x1217
1033  00AC  E5          	push	hl
1034  00AD  CD 00 00    	call	_zx_print_chr
1035  00B0  C9          	ret
1036  00B1              	SECTION rodata_compiler
1037  0000              ___str_0:
1038  0000  20          	DEFM " "
1039  0001  00          	DEFB 0x00
1040  0002              	SECTION rodata_compiler
1041  0002              ___str_1:
1042  0002  20 20 20 20 20 
                        	DEFM "     "
1043  0007  00          	DEFB 0x00
1044  0008              	SECTION rodata_compiler
1045  0008              ___str_2:
1046  0008  3C          	DEFM "<"
1047  0009  00          	DEFB 0x00
1048  000A              	SECTION rodata_compiler
1049  000A              ___str_3:
1050  000A  5C          	DEFB 0x5c
1051  000B  00          	DEFB 0x00
1052  000C              	SECTION rodata_compiler
1053  000C              ___str_4:
1054  000C  3E          	DEFM ">"
1055  000D  00          	DEFB 0x00
1056  000E              	SECTION rodata_compiler
1057  000E              ___str_5:
1058  000E  5E          	DEFM "^"
1059  000F  00          	DEFB 0x00
1060  0010              	SECTION rodata_compiler
1061  0010              ___str_6:
1062  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1063  0015  00          	DEFB 0x00
1064  0016              	SECTION code_compiler
1065  00B1              ;	---------------------------------
1066  00B1              ; Function game_phase_print_score_back
1067  00B1              ; ---------------------------------
1068  00B1              _game_phase_print_score_back:
1069  00B1  21 00 00    	ld	hl,_screen_ink
1070  00B4  36 02       	ld	(hl),0x02
1071  00B6  21 16 00    	ld	hl,___str_7
1072  00B9  E5          	push	hl
1073  00BA  21 00 0B    	ld	hl,0x0b00
1074  00BD  E5          	push	hl
1075  00BE  CD 00 00    	call	_zx_print_str
1076  00C1  21 00 00    	ld	hl,_screen_ink
1077  00C4  36 01       	ld	(hl),0x01
1078  00C6  21 1A 00    	ld	hl,___str_8
1079  00C9  E5          	push	hl
1080  00CA  21 00 01    	ld	hl,0x0100
1081  00CD  E5          	push	hl
1082  00CE  CD 00 00    	call	_zx_print_str
1083  00D1  3A 00 00    	ld	a,(_game_two_player)
1084  00D4  B7          	or	a, a
1085  00D5  C8          	ret	Z
1086  00D6  21 00 00    	ld	hl,_screen_ink
1087  00D9  36 04       	ld	(hl),0x04
1088  00DB  21 1D 00    	ld	hl,___str_9
1089  00DE  E5          	push	hl
1090  00DF  21 00 16    	ld	hl,0x1600
1091  00E2  E5          	push	hl
1092  00E3  CD 00 00    	call	_zx_print_str
1093  00E6  C9          	ret
1094  00E7              	SECTION rodata_compiler
1095  0016              ___str_7:
1096  0016  24 25 7C    	DEFM "$%|"
1097  0019  00          	DEFB 0x00
1098  001A              	SECTION rodata_compiler
1099  001A              ___str_8:
1100  001A  5B 7C       	DEFM "[|"
1101  001C  00          	DEFB 0x00
1102  001D              	SECTION rodata_compiler
1103  001D              ___str_9:
1104  001D  5D 7C       	DEFM "]|"
1105  001F  00          	DEFB 0x00
1106  0020              	SECTION code_compiler
1107  00E7              ;	---------------------------------
1108  00E7              ; Function game_print_lives
1109  00E7              ; ---------------------------------
1110  00E7              _game_print_lives:
1111  00E7  21 00 00    	ld	hl,_screen_ink
1112  00EA  36 07       	ld	(hl),0x07
1113  00EC  3A 00 00    	ld	a,(_game_lives)
1114  00EF  C6 FF       	add	a,0xff
1115  00F1  21 00 00    	ld	hl,_tmp
1116  00F4  77          	ld	(hl),a
1117  00F5  D6 FF       	sub	a,0xff
1118  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1119  00F9  7E          	ld	a,(hl)
1120  00FA  F5          	push	af
1121  00FB  33          	inc	sp
1122  00FC  21 17 03    	ld	hl,0x0317
1123  00FF  E5          	push	hl
1124  0100  CD 00 00    	call	_zx_print_chr
1125  0103              l_game_print_lives_00102:
1126  0103  3A 01 00    	ld	a, (_game_lives + 1)
1127  0106  C6 FF       	add	a,0xff
1128  0108  21 00 00    	ld	hl,_tmp
1129  010B  77          	ld	(hl),a
1130  010C  D6 FF       	sub	a,0xff
1131  010E  D0          	ret	NC
1132  010F  7E          	ld	a,(hl)
1133  0110  F5          	push	af
1134  0111  33          	inc	sp
1135  0112  21 17 1A    	ld	hl,0x1a17
1136  0115  E5          	push	hl
1137  0116  CD 00 00    	call	_zx_print_chr
1138  0119  C9          	ret
1139  011A              	SECTION code_compiler
1140  011A              ;	---------------------------------
1141  011A              ; Function game_tick
1142  011A              ; ---------------------------------
1143  011A              _game_tick:
1144  011A  21 00 00    	ld	hl,_curr_time
1145  011D  34          	inc	(hl)
1146  011E  C2 00 00    	jp	NZ,_zx_isr
1147  0121  23          	inc	hl
1148  0122  34          	inc	(hl)
1149  0123  C3 00 00    	jp  _zx_isr
1150  0126              	SECTION code_compiler
1151  0126              ;	---------------------------------
1152  0126              ; Function game_start_timer
1153  0126              ; ---------------------------------
1154  0126              _game_start_timer:
1155  0126  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1156  0129  3E CD       	ld	a,0xcd
1157  012B  02          	ld	(bc),a
1158  012C  03          	inc	bc
1159  012D  11 1A 01    	ld	de,_game_tick
1160  0130  7B          	ld	a,e
1161  0131  02          	ld	(bc),a
1162  0132  03          	inc	bc
1163  0133  7A          	ld	a,d
1164  0134  02          	ld	(bc),a
1165  0135  C9          	ret
1166  0136              	SECTION code_compiler
1167  0136              ;	---------------------------------
1168  0136              ; Function game_phase_calc
1169  0136              ; ---------------------------------
1170  0136              _game_phase_calc:
1171  0136  3A 00 00    	ld	a,(_phase_curr)
1172  0139  87          	add	a, a
1173  013A  87          	add	a, a
1174  013B  21 00 00    	ld	hl,_tmp_uc
1175  013E  77          	ld	(hl),a
1176  013F  01 00 00    	ld	bc,_phases+0
1177  0142  5E          	ld	e,(hl)
1178  0143  16 00       	ld	d,0x00
1179  0145  69          	ld	l, c
1180  0146  60          	ld	h, b
1181  0147  19          	add	hl,de
1182  0148  7E          	ld	a,(hl)
1183  0149  32 00 00    	ld	(_phase_quota),a
1184  014C  2A 00 00    	ld	hl,(_tmp_uc)
1185  014F  26 00       	ld	h,0x00
1186  0151  23          	inc	hl
1187  0152  09          	add	hl,bc
1188  0153  7E          	ld	a,(hl)
1189  0154  32 01 00    	ld	((_phase_quota + 0x0001)),a
1190  0157  2A 00 00    	ld	hl,(_tmp_uc)
1191  015A  26 00       	ld	h,0x00
1192  015C  23          	inc	hl
1193  015D  23          	inc	hl
1194  015E  09          	add	hl,bc
1195  015F  7E          	ld	a,(hl)
1196  0160  32 02 00    	ld	((_phase_quota + 0x0002)),a
1197  0163  2A 00 00    	ld	hl,(_tmp_uc)
1198  0166  26 00       	ld	h,0x00
1199  0168  23          	inc	hl
1200  0169  23          	inc	hl
1201  016A  23          	inc	hl
1202  016B  09          	add	hl,bc
1203  016C  7E          	ld	a,(hl)
1204  016D  32 00 00    	ld	(_game_brick_tile),a
1205  0170  D6 8B       	sub	a,0x8b
1206  0172  20 05       	jr	NZ,l_game_phase_calc_00102
1207  0174  CD 64 0C    	call	_game_freeze_all
1208  0177  18 03       	jr	l_game_phase_calc_00103
1209  0179              l_game_phase_calc_00102:
1210  0179  CD 3B 0C    	call	_game_unfreeze_all
1211  017C              l_game_phase_calc_00103:
1212  017C  3A 00 00    	ld	a,(_game_brick_tile)
1213  017F  4F          	ld	c,a
1214  0180  06 00       	ld	b,0x00
1215  0182  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1216  0186  21 00 00    	ld	hl,_phase_quota
1217  0189  4E          	ld	c,(hl)
1218  018A  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1219  018D  46          	ld	b,(hl)
1220  018E  79          	ld	a,c
1221  018F  80          	add	a, b
1222  0190  4F          	ld	c,a
1223  0191  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1224  0194  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1225  0196  09          	add	hl, bc
1226  0197  C9          	ret
1227  0198              	SECTION code_compiler
1228  0198              ;	---------------------------------
1229  0198              ; Function game_phase_init
1230  0198              ; ---------------------------------
1231  0198              _game_phase_init:
1232  0198  CD 00 00    	call	_ay_reset
1233  019B  3A 00 00    	ld	a,(_game_bonus)
1234  019E  B7          	or	a, a
1235  019F  20 06       	jr	NZ,l_game_phase_init_00102
1236  01A1  21 00 00    	ld	hl,_pb_midi_phase_1
1237  01A4  CD 00 00    	call	_ay_midi_play
1238  01A7              l_game_phase_init_00102:
1239  01A7  21 00 00    	ld	hl,0x0000
1240  01AA  22 00 00    	ld	(_loop_count),hl
1241  01AD  21 00 00    	ld	hl,_phase_end
1242  01B0  36 00       	ld	(hl),0x00
1243  01B2  21 00 00    	ld	hl,_phase_angry
1244  01B5  36 00       	ld	(hl),0x00
1245  01B7  21 00 00    	ld	hl,_phase_coins
1246  01BA  36 00       	ld	(hl),0x00
1247  01BC  21 00 00    	ld	hl,_phase_pop
1248  01BF  36 00       	ld	(hl),0x00
1249  01C1  21 00 00    	ld	hl,_game_bonus
1250  01C4  36 00       	ld	(hl),0x00
1251  01C6  21 00 00    	ld	hl,0x0000
1252  01C9  22 00 00    	ld	(_entry_time),hl
1253  01CC  21 00 00    	ld	hl,0
1254  01CF  22 00 00    	ld	(_curr_time),hl
1255  01D2  21 00 00    	ld	hl,0x0000
1256  01D5  22 00 00    	ld	(_frame_time),hl
1257  01D8  21 FF FF    	ld	hl,0xffff
1258  01DB  22 00 00    	ld	(_score_osd_col),hl
1259  01DE  CD 00 00    	call	_spr_draw_clear
1260  01E1  CD 00 00    	call	_spr_cortina_pipes
1261  01E4  21 00 00    	ld	hl,0x0000
1262  01E7  CD 00 00    	call	_zx_cls_fastcall
1263  01EA  21 00 00    	ld	hl,_spr_count
1264  01ED  36 00       	ld	(hl),0x00
1265  01EF  3A 00 00    	ld	a,(_game_type)
1266  01F2  D6 02       	sub	a,0x02
1267  01F4  CA 80 02    	jp	Z,l_game_phase_init_00106
1268  01F7  CD 36 01    	call	_game_phase_calc
1269  01FA  7D          	ld	a,l
1270  01FB  32 00 00    	ld	(_phase_left),a
1271  01FE  32 00 00    	ld	(_phase_tot),a
1272  0201  21 00 00    	ld	hl,_phase_left
1273  0204  7E          	ld	a,(hl)
1274  0205  B7          	or	a, a
1275  0206  C2 98 02    	jp	NZ,l_game_phase_init_00107
1276  0209  01 00 00    	ld	bc,_phase_bonus_total+0
1277  020C  AF          	xor	a, a
1278  020D  02          	ld	(bc),a
1279  020E  03          	inc	bc
1280  020F  AF          	xor	a, a
1281  0210  02          	ld	(bc),a
1282  0211  36 06       	ld	(hl),0x06
1283  0213  21 00 00    	ld	hl,_game_bonus
1284  0216  36 01       	ld	(hl),0x01
1285  0218  21 0C 00    	ld	hl,0x000c
1286  021B  E5          	push	hl
1287  021C  21 90 08    	ld	hl,0x0890
1288  021F  E5          	push	hl
1289  0220  AF          	xor	a, a
1290  0221  F5          	push	af
1291  0222  33          	inc	sp
1292  0223  CD 00 00    	call	_enemy_init
1293  0226  F1          	pop	af
1294  0227  33          	inc	sp
1295  0228  21 0C 00    	ld	hl,0x000c
1296  022B  E3          	ex	(sp),hl
1297  022C  21 90 16    	ld	hl,0x1690
1298  022F  E5          	push	hl
1299  0230  3E 01       	ld	a,0x01
1300  0232  F5          	push	af
1301  0233  33          	inc	sp
1302  0234  CD 00 00    	call	_enemy_init
1303  0237  F1          	pop	af
1304  0238  33          	inc	sp
1305  0239  21 0C 00    	ld	hl,0x000c
1306  023C  E3          	ex	(sp),hl
1307  023D  21 50 06    	ld	hl,0x0650
1308  0240  E5          	push	hl
1309  0241  3E 02       	ld	a,0x02
1310  0243  F5          	push	af
1311  0244  33          	inc	sp
1312  0245  CD 00 00    	call	_enemy_init
1313  0248  F1          	pop	af
1314  0249  33          	inc	sp
1315  024A  21 0C 00    	ld	hl,0x000c
1316  024D  E3          	ex	(sp),hl
1317  024E  21 50 18    	ld	hl,0x1850
1318  0251  E5          	push	hl
1319  0252  3E 03       	ld	a,0x03
1320  0254  F5          	push	af
1321  0255  33          	inc	sp
1322  0256  CD 00 00    	call	_enemy_init
1323  0259  F1          	pop	af
1324  025A  33          	inc	sp
1325  025B  21 0C 00    	ld	hl,0x000c
1326  025E  E3          	ex	(sp),hl
1327  025F  21 10 05    	ld	hl,0x0510
1328  0262  E5          	push	hl
1329  0263  3E 04       	ld	a,0x04
1330  0265  F5          	push	af
1331  0266  33          	inc	sp
1332  0267  CD 00 00    	call	_enemy_init
1333  026A  F1          	pop	af
1334  026B  33          	inc	sp
1335  026C  21 0C 00    	ld	hl,0x000c
1336  026F  E3          	ex	(sp),hl
1337  0270  21 10 19    	ld	hl,0x1910
1338  0273  E5          	push	hl
1339  0274  3E 05       	ld	a,0x05
1340  0276  F5          	push	af
1341  0277  33          	inc	sp
1342  0278  CD 00 00    	call	_enemy_init
1343  027B  F1          	pop	af
1344  027C  F1          	pop	af
1345  027D  33          	inc	sp
1346  027E  18 18       	jr	l_game_phase_init_00107
1347  0280              l_game_phase_init_00106:
1348  0280  21 00 00    	ld	hl,_phase_left
1349  0283  36 FF       	ld	(hl),0xff
1350  0285  21 00 00    	ld	hl,_phase_curr
1351  0288  36 FF       	ld	(hl),0xff
1352  028A  CD 3B 0C    	call	_game_unfreeze_all
1353  028D  21 00 00    	ld	hl,_game_brick_tile
1354  0290  36 84       	ld	(hl),0x84
1355  0292  21 84 00    	ld	hl,0x0084
1356  0295  22 24 00    	ld	(_spr_idx + 0x0024),hl
1357  0298              l_game_phase_init_00107:
1358  0298  CD 00 00    	call	_spr_draw_back
1359  029B  CD D8 02    	call	_game_print_header
1360  029E  CD 1C 00    	call	_game_print_footer
1361  02A1  21 64 00    	ld	hl,0x0064
1362  02A4  CD 00 00    	call	_z80_delay_ms_fastcall
1363  02A7  21 00 00    	ld	hl,_game_osd
1364  02AA  36 01       	ld	(hl),0x01
1365  02AC  2A 00 00    	ld	hl,(_curr_time)
1366  02AF  22 00 00    	ld	(_osd_time),hl
1367  02B2  3A 00 00    	ld	a,(_game_lives)
1368  02B5  B7          	or	a,a
1369  02B6  28 0D       	jr	Z,l_game_phase_init_00109
1370  02B8  21 0A 03    	ld	hl,0x030a
1371  02BB  E5          	push	hl
1372  02BC  21 07 98    	ld	hl,0x9807
1373  02BF  E5          	push	hl
1374  02C0  CD 00 00    	call	_player_init
1375  02C3  F1          	pop	af
1376  02C4  F1          	pop	af
1377  02C5              l_game_phase_init_00109:
1378  02C5  3A 01 00    	ld	a, (_game_lives + 1)
1379  02C8  B7          	or	a, a
1380  02C9  C8          	ret	Z
1381  02CA  21 14 27    	ld	hl,0x2714
1382  02CD  E5          	push	hl
1383  02CE  21 06 98    	ld	hl,0x9806
1384  02D1  E5          	push	hl
1385  02D2  CD 00 00    	call	_player_init
1386  02D5  F1          	pop	af
1387  02D6  F1          	pop	af
1388  02D7  C9          	ret
1389  02D8              	SECTION code_compiler
1390  02D8              ;	---------------------------------
1391  02D8              ; Function game_print_header
1392  02D8              ; ---------------------------------
1393  02D8              _game_print_header:
1394  02D8  CD B1 00    	call	_game_phase_print_score_back
1395  02DB  21 00 00    	ld	hl,_screen_ink
1396  02DE  36 07       	ld	(hl),0x07
1397  02E0  C3 8D 0C    	jp  _game_print_score
1398  02E3              	SECTION code_compiler
1399  02E3              ;	---------------------------------
1400  02E3              ; Function game_phase_print
1401  02E3              ; ---------------------------------
1402  02E3              _game_phase_print:
1403  02E3  45          	ld	b,l
1404  02E4  C5          	push	bc
1405  02E5  21 20 00    	ld	hl,___str_10
1406  02E8  E5          	push	hl
1407  02E9  3E 0B       	ld	a,0x0b
1408  02EB  48          	ld	c,b
1409  02EC  47          	ld	b,a
1410  02ED  C5          	push	bc
1411  02EE  CD 00 00    	call	_zx_print_str
1412  02F1  C1          	pop	bc
1413  02F2  3A 00 00    	ld	a,(_phase_curr)
1414  02F5  D6 1F       	sub	a,0x1f
1415  02F7  30 3F       	jr	NC,l_game_phase_print_00108
1416  02F9  3A 00 00    	ld	a,(_game_bonus)
1417  02FC  B7          	or	a, a
1418  02FD  20 2B       	jr	NZ,l_game_phase_print_00102
1419  02FF  C5          	push	bc
1420  0300  21 26 00    	ld	hl,___str_11
1421  0303  E5          	push	hl
1422  0304  3E 10       	ld	a,0x10
1423  0306  48          	ld	c,b
1424  0307  47          	ld	b,a
1425  0308  C5          	push	bc
1426  0309  CD 00 00    	call	_zx_print_str
1427  030C  C1          	pop	bc
1428  030D  21 00 00    	ld	hl,_phase_curr
1429  0310  56          	ld	d,(hl)
1430  0311  14          	inc	d
1431  0312  C5          	push	bc
1432  0313  1E 12       	ld	e,0x12
1433  0315  D5          	push	de
1434  0316  C5          	push	bc
1435  0317  33          	inc	sp
1436  0318  CD 00 00    	call	_zx_print_chr
1437  031B  C1          	pop	bc
1438  031C  21 26 00    	ld	hl,___str_11
1439  031F  E5          	push	hl
1440  0320  3E 15       	ld	a,0x15
1441  0322  48          	ld	c,b
1442  0323  47          	ld	b,a
1443  0324  C5          	push	bc
1444  0325  CD 00 00    	call	_zx_print_str
1445  0328  18 2F       	jr	l_game_phase_print_00110
1446  032A              l_game_phase_print_00102:
1447  032A  21 29 00    	ld	hl,___str_12
1448  032D  E5          	push	hl
1449  032E  3E 11       	ld	a,0x11
1450  0330  48          	ld	c,b
1451  0331  47          	ld	b,a
1452  0332  C5          	push	bc
1453  0333  CD 00 00    	call	_zx_print_str
1454  0336  18 21       	jr	l_game_phase_print_00110
1455  0338              l_game_phase_print_00108:
1456  0338  3A 00 00    	ld	a,(_game_type)
1457  033B  D6 02       	sub	a,0x02
1458  033D  28 0E       	jr	Z,l_game_phase_print_00105
1459  033F  21 30 00    	ld	hl,___str_13
1460  0342  E5          	push	hl
1461  0343  3E 11       	ld	a,0x11
1462  0345  48          	ld	c,b
1463  0346  47          	ld	b,a
1464  0347  C5          	push	bc
1465  0348  CD 00 00    	call	_zx_print_str
1466  034B  18 0C       	jr	l_game_phase_print_00110
1467  034D              l_game_phase_print_00105:
1468  034D  21 37 00    	ld	hl,___str_14
1469  0350  E5          	push	hl
1470  0351  3E 11       	ld	a,0x11
1471  0353  48          	ld	c,b
1472  0354  47          	ld	b,a
1473  0355  C5          	push	bc
1474  0356  CD 00 00    	call	_zx_print_str
1475  0359              l_game_phase_print_00110:
1476  0359  C9          	ret
1477  035A              	SECTION rodata_compiler
1478  0020              ___str_10:
1479  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1480  0025  00          	DEFB 0x00
1481  0026              	SECTION rodata_compiler
1482  0026              ___str_11:
1483  0026  20 20       	DEFM "  "
1484  0028  00          	DEFB 0x00
1485  0029              	SECTION rodata_compiler
1486  0029              ___str_12:
1487  0029  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1488  002F  00          	DEFB 0x00
1489  0030              	SECTION rodata_compiler
1490  0030              ___str_13:
1491  0030  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1492  0036  00          	DEFB 0x00
1493  0037              	SECTION rodata_compiler
1494  0037              ___str_14:
1495  0037  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1496  003D  00          	DEFB 0x00
1497  003E              	SECTION code_compiler
1498  035A              ;	---------------------------------
1499  035A              ; Function game_loop
1500  035A              ; ---------------------------------
1501  035A              _game_loop:
1502  035A  21 3E 00    	ld	hl,___str_15
1503  035D  E5          	push	hl
1504  035E  21 16 07    	ld	hl,0x0716
1505  0361  E5          	push	hl
1506  0362  CD 00 00    	call	_zx_print_str
1507  0365  21 51 00    	ld	hl,___str_16
1508  0368  E5          	push	hl
1509  0369  21 17 07    	ld	hl,0x0717
1510  036C  E5          	push	hl
1511  036D  CD 00 00    	call	_zx_print_str
1512  0370  21 00 00    	ld	hl,_ay_effect_10
1513  0373  CD 00 00    	call	_ay_fx_play
1514  0376  CD 00 00    	call	_sound_coin
1515  0379  21 C8 00    	ld	hl,0x00c8
1516  037C  CD 00 00    	call	_z80_delay_ms_fastcall
1517  037F  21 64 00    	ld	hl,___str_17
1518  0382  E5          	push	hl
1519  0383  21 16 07    	ld	hl,0x0716
1520  0386  E5          	push	hl
1521  0387  CD 00 00    	call	_zx_print_str
1522  038A  CD 00 00    	call	_ay_reset
1523  038D  21 11 11    	ld	hl,0x1111
1524  0390  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1525  0393  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1526  0396  01 00 00    	ld	bc,_game_lives+0
1527  0399  3E 04       	ld	a,0x04
1528  039B  02          	ld	(bc),a
1529  039C  03          	inc	bc
1530  039D  3A 00 00    	ld	a,(_game_two_player)
1531  03A0  B7          	or	a,a
1532  03A1  28 05       	jr	Z,l_game_loop_00102
1533  03A3  3E 04       	ld	a,0x04
1534  03A5  02          	ld	(bc),a
1535  03A6  18 02       	jr	l_game_loop_00103
1536  03A8              l_game_loop_00102:
1537  03A8  AF          	xor	a, a
1538  03A9  02          	ld	(bc),a
1539  03AA              l_game_loop_00103:
1540  03AA  21 00 00    	ld	hl,0x0000
1541  03AD  22 00 00    	ld	(_player_score), hl
1542  03B0  2E 00       	ld	l,0x00
1543  03B2  22 02 00    	ld	(_player_score + 0x0002),hl
1544  03B5  21 D0 07    	ld	hl,0x07d0
1545  03B8  22 00 00    	ld	(_player_next_extra), hl
1546  03BB  2E D0       	ld	l,0xd0
1547  03BD  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1548  03C0  21 00 00    	ld	hl,_spr_water_clear
1549  03C3  36 FF       	ld	(hl),0xff
1550  03C5  3A 00 00    	ld	a,(_game_type)
1551  03C8  B7          	or	a, a
1552  03C9  20 0E       	jr	NZ,l_game_loop_00105
1553  03CB  21 F4 01    	ld	hl,0x01f4
1554  03CE  22 00 00    	ld	(_game_time_flipped),hl
1555  03D1  21 D0 07    	ld	hl,0x07d0
1556  03D4  22 00 00    	ld	(_game_time_fireball_start),hl
1557  03D7  18 0C       	jr	l_game_loop_00106
1558  03D9              l_game_loop_00105:
1559  03D9  21 FA 00    	ld	hl,0x00fa
1560  03DC  22 00 00    	ld	(_game_time_flipped),hl
1561  03DF  21 F4 01    	ld	hl,0x01f4
1562  03E2  22 00 00    	ld	(_game_time_fireball_start),hl
1563  03E5              l_game_loop_00106:
1564  03E5  21 00 00    	ld	hl,_game_over
1565  03E8  36 00       	ld	(hl),0x00
1566  03EA  21 00 00    	ld	hl,_game_pow
1567  03ED  36 03       	ld	(hl),0x03
1568  03EF  21 00 00    	ld	hl,_phase_curr
1569  03F2  36 00       	ld	(hl),0x00
1570  03F4  CD 98 01    	call	_game_phase_init
1571  03F7  21 00 00    	ld	hl,_sprite_lin_inc_mul
1572  03FA  36 00       	ld	(hl),0x00
1573  03FC  21 00 00    	ld	hl,0x0000
1574  03FF  22 00 00    	ld	(_loop_count),hl
1575  0402  21 00 00    	ld	hl,_dirs
1576  0405  36 00       	ld	(hl),0x00
1577  0407  CD 3B 0C    	call	_game_unfreeze_all
1578  040A  CD 2F 0F    	call	_game_joystick_set
1579  040D              l_game_loop_00132:
1580  040D  3A 00 00    	ld	a,(_game_over)
1581  0410  B7          	or	a, a
1582  0411  C2 F9 04    	jp	NZ,l_game_loop_00134
1583  0414  CD 00 00    	call	_player_set1
1584  0417  CD 00 00    	call	_player_turn
1585  041A  CD 00 00    	call	_player_set2
1586  041D  CD 00 00    	call	_player_turn
1587  0420  CD 00 00    	call	_enemy_turn
1588  0423  3A 00 00    	ld	a,(_game_bonus)
1589  0426  B7          	or	a, a
1590  0427  28 16       	jr	Z,l_game_loop_00111
1591  0429  CD 9A 06    	call	_game_bonus_clock
1592  042C  3A 00 00    	ld	a,(_phase_left)
1593  042F  B7          	or	a, a
1594  0430  28 0D       	jr	Z,l_game_loop_00111
1595  0432  CD 00 00    	call	_ay_is_playing
1596  0435  7D          	ld	a,l
1597  0436  B7          	or	a, a
1598  0437  20 06       	jr	NZ,l_game_loop_00111
1599  0439  21 00 00    	ld	hl,_ay_effect_19
1600  043C  CD 00 00    	call	_ay_fx_play
1601  043F              l_game_loop_00111:
1602  043F  3A 00 00    	ld	a,(_game_osd)
1603  0442  B7          	or	a, a
1604  0443  28 45       	jr	Z,l_game_loop_00117
1605  0445  21 05 00    	ld	hl,0x0005
1606  0448  E5          	push	hl
1607  0449  2A 00 00    	ld	hl,(_osd_time)
1608  044C  E5          	push	hl
1609  044D  CD 38 1A    	call	_game_check_time
1610  0450  F1          	pop	af
1611  0451  F1          	pop	af
1612  0452  7D          	ld	a,l
1613  0453  B7          	or	a, a
1614  0454  28 1B       	jr	Z,l_game_loop_00113
1615  0456  2A 00 00    	ld	hl,(_curr_time)
1616  0459  22 00 00    	ld	(_osd_time),hl
1617  045C  2E 0C       	ld	l,0x0c
1618  045E  CD E3 02    	call	_game_phase_print
1619  0461  21 17 68    	ld	hl,0x6817
1620  0464  E5          	push	hl
1621  0465  3E 0B       	ld	a,0x0b
1622  0467  F5          	push	af
1623  0468  33          	inc	sp
1624  0469  CD 09 0D    	call	_game_paint_attrib_lin_h
1625  046C  F1          	pop	af
1626  046D  33          	inc	sp
1627  046E  CD 8A 19    	call	_game_rotate_attrib
1628  0471              l_game_loop_00113:
1629  0471  21 00 00    	ld	hl,_loop_count
1630  0474  7E          	ld	a,(hl)
1631  0475  D6 90       	sub	a,0x90
1632  0477  20 11       	jr	NZ,l_game_loop_00117
1633  0479  23          	inc	hl
1634  047A  7E          	ld	a,(hl)
1635  047B  3D          	dec	a
1636  047C  20 0C       	jr	NZ,l_game_loop_00117
1637  047E  21 0C 20    	ld	hl,0x200c
1638  0481  E5          	push	hl
1639  0482  CD 00 00    	call	_game_fill_row
1640  0485  21 00 00    	ld	hl,_game_osd
1641  0488  36 00       	ld	(hl),0x00
1642  048A              l_game_loop_00117:
1643  048A  CD 00 00    	call	_spr_water_splash_clear
1644  048D  21 64 00    	ld	hl,0x0064
1645  0490  E5          	push	hl
1646  0491  2A 00 00    	ld	hl,(_frame_time)
1647  0494  E5          	push	hl
1648  0495  CD 38 1A    	call	_game_check_time
1649  0498  F1          	pop	af
1650  0499  F1          	pop	af
1651  049A  7D          	ld	a,l
1652  049B  B7          	or	a, a
1653  049C  28 4F       	jr	Z,l_game_loop_00131
1654  049E  2A 00 00    	ld	hl,(_curr_time)
1655  04A1  22 00 00    	ld	(_frame_time),hl
1656  04A4  3A 00 00    	ld	a,(_game_bonus)
1657  04A7  B7          	or	a,a
1658  04A8  20 03       	jr	NZ,l_game_loop_00119
1659  04AA  CD EB 08    	call	_game_enemy_add
1660  04AD              l_game_loop_00119:
1661  04AD  3A 00 00    	ld	a,(_phase_end)
1662  04B0  3D          	dec	a
1663  04B1  20 3A       	jr	NZ,l_game_loop_00131
1664  04B3  3A 00 00    	ld	a,(_game_type)
1665  04B6  D6 02       	sub	a,0x02
1666  04B8  28 33       	jr	Z,l_game_loop_00131
1667  04BA  21 90 01    	ld	hl,0x0190
1668  04BD  CD 00 00    	call	_z80_delay_ms_fastcall
1669  04C0  CD 00 00    	call	_ay_is_playing
1670  04C3  7D          	ld	a, l
1671  04C4  D6 02       	sub	a,0x02
1672  04C6  30 03       	jr	NC,l_game_loop_00121
1673  04C8  CD 00 00    	call	_ay_reset
1674  04CB              l_game_loop_00121:
1675  04CB  CD B9 08    	call	_game_kill_all_sprites
1676  04CE  3A 00 00    	ld	a,(_game_bonus)
1677  04D1  B7          	or	a, a
1678  04D2  28 03       	jr	Z,l_game_loop_00123
1679  04D4  CD 00 07    	call	_game_bonus_summary
1680  04D7              l_game_loop_00123:
1681  04D7  21 00 00    	ld	hl,_phase_curr
1682  04DA  34          	inc	(hl)
1683  04DB  3E 1F       	ld	a,0x1f
1684  04DD  96          	sub	a, (hl)
1685  04DE  30 0A       	jr	NC,l_game_loop_00125
1686  04E0  CD 45 12    	call	_game_end
1687  04E3  21 00 00    	ld	hl,_game_over
1688  04E6  36 01       	ld	(hl),0x01
1689  04E8  18 03       	jr	l_game_loop_00131
1690  04EA              l_game_loop_00125:
1691  04EA  CD 98 01    	call	_game_phase_init
1692  04ED              l_game_loop_00131:
1693  04ED  21 00 00    	ld	hl,_loop_count
1694  04F0  34          	inc	(hl)
1695  04F1  C2 0D 04    	jp	NZ,l_game_loop_00132
1696  04F4  23          	inc	hl
1697  04F5  34          	inc	(hl)
1698  04F6  C3 0D 04    	jp	l_game_loop_00132
1699  04F9              l_game_loop_00134:
1700  04F9  21 90 01    	ld	hl,0x0190
1701  04FC  CD 00 00    	call	_z80_delay_ms_fastcall
1702  04FF  CD B9 08    	call	_game_kill_all_sprites
1703  0502  21 77 00    	ld	hl,___str_18
1704  0505  E5          	push	hl
1705  0506  21 08 0B    	ld	hl,0x0b08
1706  0509  E5          	push	hl
1707  050A  CD 00 00    	call	_zx_print_str
1708  050D  21 C8 00    	ld	hl,0x00c8
1709  0510  E5          	push	hl
1710  0511  21 0B 15    	ld	hl,0x150b
1711  0514  E5          	push	hl
1712  0515  3E 08       	ld	a,0x08
1713  0517  F5          	push	af
1714  0518  33          	inc	sp
1715  0519  CD A6 19    	call	_game_colour_message
1716  051C  F1          	pop	af
1717  051D  F1          	pop	af
1718  051E  33          	inc	sp
1719  051F  CD 00 00    	call	_spr_draw_clear
1720  0522  CD 1E 15    	call	_game_hall_enter
1721  0525  CD 00 00    	call	_ay_reset
1722  0528  21 00 00    	ld	hl,_game_menu_sel
1723  052B  36 00       	ld	(hl),0x00
1724  052D  CD 27 10    	call	_game_menu_paint
1725  0530  CD 22 0F    	call	_game_joystick_set_menu
1726  0533  C9          	ret
1727  0534              	SECTION rodata_compiler
1728  003E              ___str_15:
1729  003E  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1730  0050  00          	DEFB 0x00
1731  0051              	SECTION rodata_compiler
1732  0051              ___str_16:
1733  0051  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1734  0063  00          	DEFB 0x00
1735  0064              	SECTION rodata_compiler
1736  0064              ___str_17:
1737  0064  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1738  0076  00          	DEFB 0x00
1739  0077              	SECTION rodata_compiler
1740  0077              ___str_18:
1741  0077  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1742  0082  00          	DEFB 0x00
1743  0083              	SECTION code_compiler
1744  0534              ;	---------------------------------
1745  0534              ; Function game_score_osd
1746  0534              ; ---------------------------------
1747  0534              _game_score_osd:
1748  0534  3A 00 00    	ld	a,(_index_player)
1749  0537  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1750  0539  4F          	ld	c,a
1751  053A  3E 00       	ld	a,+((_score_osd_col) / 256)
1752  053C  CE 00       	adc	a,0x00
1753  053E  47          	ld	b,a
1754  053F  0A          	ld	a,(bc)
1755  0540  57          	ld	d,a
1756  0541  3C          	inc	a
1757  0542  20 72       	jr	NZ,l_game_score_osd_00117
1758  0544  3A 00 00    	ld	a,(_hit_count)
1759  0547  B7          	or	a, a
1760  0548  CA 99 06    	jp	Z,l_game_score_osd_00119
1761  054B  2A 00 00    	ld	hl,(_sprite)
1762  054E  26 00       	ld	h,0x00
1763  0550  11 00 00    	ld	de,_col
1764  0553  19          	add	hl,de
1765  0554  7E          	ld	a,(hl)
1766  0555  02          	ld	(bc),a
1767  0556  3A 00 00    	ld	a,(_index_player)
1768  0559  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1769  055B  4F          	ld	c,a
1770  055C  3E 00       	ld	a,+((_score_osd_lin) / 256)
1771  055E  CE 00       	adc	a,0x00
1772  0560  47          	ld	b,a
1773  0561  2A 00 00    	ld	hl,(_sprite)
1774  0564  26 00       	ld	h,0x00
1775  0566  11 00 00    	ld	de,_lin
1776  0569  19          	add	hl,de
1777  056A  7E          	ld	a,(hl)
1778  056B  02          	ld	(bc),a
1779  056C  01 00 00    	ld	bc,_score_osd_time+0
1780  056F  2A 00 00    	ld	hl,(_index_player)
1781  0572  26 00       	ld	h,0x00
1782  0574  29          	add	hl, hl
1783  0575  09          	add	hl,bc
1784  0576  ED 5B 00 00 	ld	de,(_curr_time)
1785  057A  73          	ld	(hl),e
1786  057B  23          	inc	hl
1787  057C  72          	ld	(hl),d
1788  057D  2A 00 00    	ld	hl,(_index_player)
1789  0580  26 00       	ld	h,0x00
1790  0582  29          	add	hl,hl
1791  0583  3A 00 00    	ld	a,(_hit_count)
1792  0586  3D          	dec	a
1793  0587  4D          	ld	c,l
1794  0588  44          	ld	b,h
1795  0589  20 0C       	jr	NZ,l_game_score_osd_00105
1796  058B  21 00 00    	ld	hl,_score_osd_tile
1797  058E  09          	add	hl,bc
1798  058F  36 BC       	ld	(hl),0xbc
1799  0591  23          	inc	hl
1800  0592  36 00       	ld	(hl),0x00
1801  0594  C3 99 06    	jp	l_game_score_osd_00119
1802  0597              l_game_score_osd_00105:
1803  0597  3A 00 00    	ld	a,(_hit_count)
1804  059A  D6 08       	sub	a,0x08
1805  059C  30 0C       	jr	NC,l_game_score_osd_00102
1806  059E  21 00 00    	ld	hl,_score_osd_tile
1807  05A1  09          	add	hl,bc
1808  05A2  36 BD       	ld	(hl),0xbd
1809  05A4  23          	inc	hl
1810  05A5  36 00       	ld	(hl),0x00
1811  05A7  C3 99 06    	jp	l_game_score_osd_00119
1812  05AA              l_game_score_osd_00102:
1813  05AA  21 00 00    	ld	hl,_score_osd_tile
1814  05AD  09          	add	hl,bc
1815  05AE  36 BE       	ld	(hl),0xbe
1816  05B0  23          	inc	hl
1817  05B1  36 00       	ld	(hl),0x00
1818  05B3  C3 99 06    	jp	l_game_score_osd_00119
1819  05B6              l_game_score_osd_00117:
1820  05B6  3A 00 00    	ld	a,(_index_player)
1821  05B9  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1822  05BB  4F          	ld	c,a
1823  05BC  3E 00       	ld	a,+((_score_osd_lin) / 256)
1824  05BE  CE 00       	adc	a,0x00
1825  05C0  47          	ld	b,a
1826  05C1  0A          	ld	a,(bc)
1827  05C2  C6 FE       	add	a,0xfe
1828  05C4  32 00 00    	ld	(_tmp),a
1829  05C7  5F          	ld	e,a
1830  05C8  D5          	push	de
1831  05C9  CD 00 00    	call	_game_calc_index
1832  05CC  F1          	pop	af
1833  05CD  22 00 00    	ld	(_index1),hl
1834  05D0  3E 08       	ld	a,0x08
1835  05D2  21 00 00    	ld	hl,_tmp
1836  05D5  96          	sub	a, (hl)
1837  05D6  30 5B       	jr	NC,l_game_score_osd_00110
1838  05D8  21 01 00    	ld	hl,_index1 + 1
1839  05DB  7E          	ld	a,(hl)
1840  05DC  2B          	dec	hl
1841  05DD  B6          	or	a,(hl)
1842  05DE  28 53       	jr	Z,l_game_score_osd_00110
1843  05E0  01 00 00    	ld	bc,_lvl_1+0
1844  05E3  79          	ld	a,c
1845  05E4  86          	add	a, (hl)
1846  05E5  5F          	ld	e,a
1847  05E6  78          	ld	a,b
1848  05E7  23          	inc	hl
1849  05E8  8E          	adc	a, (hl)
1850  05E9  57          	ld	d,a
1851  05EA  1A          	ld	a,(de)
1852  05EB  B7          	or	a, a
1853  05EC  20 45       	jr	NZ,l_game_score_osd_00110
1854  05EE  56          	ld	d,(hl)
1855  05EF  2B          	dec	hl
1856  05F0  5E          	ld	e,(hl)
1857  05F1  13          	inc	de
1858  05F2  69          	ld	l, c
1859  05F3  60          	ld	h, b
1860  05F4  19          	add	hl,de
1861  05F5  7E          	ld	a,(hl)
1862  05F6  B7          	or	a, a
1863  05F7  20 3A       	jr	NZ,l_game_score_osd_00110
1864  05F9  76          	halt
1865  05FA  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1866  05FC  21 00 00    	ld	hl,_index_player
1867  05FF  86          	add	a, (hl)
1868  0600  4F          	ld	c,a
1869  0601  3E 00       	ld	a,+((_score_osd_col) / 256)
1870  0603  CE 00       	adc	a,0x00
1871  0605  47          	ld	b,a
1872  0606  0A          	ld	a,(bc)
1873  0607  57          	ld	d,a
1874  0608  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1875  060A  86          	add	a, (hl)
1876  060B  4F          	ld	c,a
1877  060C  3E 00       	ld	a,+((_score_osd_lin) / 256)
1878  060E  CE 00       	adc	a,0x00
1879  0610  47          	ld	b,a
1880  0611  0A          	ld	a,(bc)
1881  0612  5F          	ld	e,a
1882  0613  6E          	ld	l, (hl)
1883  0614  26 00       	ld	h,0x00
1884  0616  29          	add	hl, hl
1885  0617  01 00 00    	ld	bc,_score_osd_tile
1886  061A  09          	add	hl,bc
1887  061B  46          	ld	b,(hl)
1888  061C  23          	inc	hl
1889  061D  4E          	ld	c,(hl)
1890  061E  D5          	push	de
1891  061F  C5          	push	bc
1892  0620  33          	inc	sp
1893  0621  CD 00 00    	call	_NIRVANAP_drawT_callee
1894  0624  3A 00 00    	ld	a,(_index_player)
1895  0627  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1896  0629  4F          	ld	c,a
1897  062A  3E 00       	ld	a,+((_score_osd_lin) / 256)
1898  062C  CE 00       	adc	a,0x00
1899  062E  47          	ld	b,a
1900  062F  3A 00 00    	ld	a,(_tmp)
1901  0632  02          	ld	(bc),a
1902  0633              l_game_score_osd_00110:
1903  0633  01 00 00    	ld	bc,_score_osd_time+0
1904  0636  2A 00 00    	ld	hl,(_index_player)
1905  0639  26 00       	ld	h,0x00
1906  063B  29          	add	hl, hl
1907  063C  09          	add	hl,bc
1908  063D  4E          	ld	c,(hl)
1909  063E  23          	inc	hl
1910  063F  46          	ld	b,(hl)
1911  0640  21 32 00    	ld	hl,0x0032
1912  0643  E5          	push	hl
1913  0644  C5          	push	bc
1914  0645  CD 38 1A    	call	_game_check_time
1915  0648  F1          	pop	af
1916  0649  F1          	pop	af
1917  064A  7D          	ld	a,l
1918  064B  B7          	or	a, a
1919  064C  C8          	ret	Z
1920  064D  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1921  064F  21 00 00    	ld	hl,_index_player
1922  0652  86          	add	a, (hl)
1923  0653  4F          	ld	c,a
1924  0654  3E 00       	ld	a,+((_score_osd_col) / 256)
1925  0656  CE 00       	adc	a,0x00
1926  0658  47          	ld	b,a
1927  0659  0A          	ld	a,(bc)
1928  065A  57          	ld	d,a
1929  065B  4E          	ld	c,(hl)
1930  065C  06 00       	ld	b,0x00
1931  065E  21 00 00    	ld	hl,_score_osd_lin
1932  0661  09          	add	hl,bc
1933  0662  5E          	ld	e, (hl)
1934  0663  D5          	push	de
1935  0664  AF          	xor	a, a
1936  0665  F5          	push	af
1937  0666  33          	inc	sp
1938  0667  CD 00 00    	call	_NIRVANAP_fillT_callee
1939  066A  3A 00 00    	ld	a,(_index_player)
1940  066D  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1941  066F  4F          	ld	c,a
1942  0670  3E 00       	ld	a,+((_score_osd_lin) / 256)
1943  0672  CE 00       	adc	a,0x00
1944  0674  47          	ld	b,a
1945  0675  0A          	ld	a,(bc)
1946  0676  32 00 00    	ld	(_s_lin0),a
1947  0679  3A 00 00    	ld	a,(_index_player)
1948  067C  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1949  067E  4F          	ld	c,a
1950  067F  3E 00       	ld	a,+((_score_osd_col) / 256)
1951  0681  CE 00       	adc	a,0x00
1952  0683  47          	ld	b,a
1953  0684  0A          	ld	a,(bc)
1954  0685  32 00 00    	ld	(_s_col0),a
1955  0688  CD 00 00    	call	_spr_check_over
1956  068B  3A 00 00    	ld	a,(_index_player)
1957  068E  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1958  0690  4F          	ld	c,a
1959  0691  3E 00       	ld	a,+((_score_osd_col) / 256)
1960  0693  CE 00       	adc	a,0x00
1961  0695  47          	ld	b,a
1962  0696  3E FF       	ld	a,0xff
1963  0698  02          	ld	(bc),a
1964  0699              l_game_score_osd_00119:
1965  0699  C9          	ret
1966  069A              	SECTION code_compiler
1967  069A              ;	---------------------------------
1968  069A              ; Function game_bonus_clock
1969  069A              ; ---------------------------------
1970  069A              _game_bonus_clock:
1971  069A  2A 00 00    	ld	hl,(_curr_time)
1972  069D  29          	add	hl,hl
1973  069E  3E 40       	ld	a,0x40
1974  06A0  95          	sub	a,l
1975  06A1  44          	ld	b,h
1976  06A2  21 00 00    	ld	hl,_tmp_ui
1977  06A5  77          	ld	(hl),a
1978  06A6  3E 06       	ld	a,0x06
1979  06A8  98          	sbc	a, b
1980  06A9  23          	inc	hl
1981  06AA  77          	ld	(hl),a
1982  06AB  3E 40       	ld	a,0x40
1983  06AD  2B          	dec	hl
1984  06AE  BE          	cp	a, (hl)
1985  06AF  3E 06       	ld	a,0x06
1986  06B1  23          	inc	hl
1987  06B2  9E          	sbc	a, (hl)
1988  06B3  30 14       	jr	NC,l_game_bonus_clock_00106
1989  06B5  2B          	dec	hl
1990  06B6  AF          	xor	a, a
1991  06B7  77          	ld	(hl), a
1992  06B8  23          	inc	hl
1993  06B9  77          	ld	(hl), a
1994  06BA  21 00 00    	ld	hl,_phase_left
1995  06BD  36 00       	ld	(hl),0x00
1996  06BF  21 00 00    	ld	hl,_phase_end
1997  06C2  36 01       	ld	(hl),0x01
1998  06C4  CD 00 00    	call	_ay_reset
1999  06C7  18 36       	jr	l_game_bonus_clock_00108
2000  06C9              l_game_bonus_clock_00106:
2001  06C9  3A 00 00    	ld	a,(_phase_left)
2002  06CC  B7          	or	a, a
2003  06CD  C8          	ret	Z
2004  06CE  2A 00 00    	ld	hl,(_tmp_ui)
2005  06D1  E5          	push	hl
2006  06D2  21 02 0E    	ld	hl,0x0e02
2007  06D5  E5          	push	hl
2008  06D6  CD 00 00    	call	_zx_print_bonus_time
2009  06D9  21 05 00    	ld	hl,0x0005
2010  06DC  E5          	push	hl
2011  06DD  2A 00 00    	ld	hl,(_frame_time)
2012  06E0  E5          	push	hl
2013  06E1  CD 38 1A    	call	_game_check_time
2014  06E4  F1          	pop	af
2015  06E5  F1          	pop	af
2016  06E6  7D          	ld	a,l
2017  06E7  B7          	or	a, a
2018  06E8  C8          	ret	Z
2019  06E9  2A 00 00    	ld	hl,(_curr_time)
2020  06EC  22 00 00    	ld	(_frame_time),hl
2021  06EF  21 14 18    	ld	hl,0x1814
2022  06F2  E5          	push	hl
2023  06F3  3E 0E       	ld	a,0x0e
2024  06F5  F5          	push	af
2025  06F6  33          	inc	sp
2026  06F7  CD 09 0D    	call	_game_paint_attrib_lin_h
2027  06FA  F1          	pop	af
2028  06FB  33          	inc	sp
2029  06FC  CD 8A 19    	call	_game_rotate_attrib
2030  06FF              l_game_bonus_clock_00108:
2031  06FF  C9          	ret
2032  0700              	SECTION code_compiler
2033  0700              ;	---------------------------------
2034  0700              ; Function game_bonus_summary
2035  0700              ; ---------------------------------
2036  0700              _game_bonus_summary:
2037  0700  CD B9 08    	call	_game_kill_all_sprites
2038  0703  CD 00 00    	call	_spr_draw_clear
2039  0706  21 00 00    	ld	hl,0x0000
2040  0709  CD 00 00    	call	_zx_cls_fastcall
2041  070C  CD B1 00    	call	_game_phase_print_score_back
2042  070F  CD 8D 0C    	call	_game_print_score
2043  0712  3A 00 00    	ld	a,(_game_lives)
2044  0715  B7          	or	a, a
2045  0716  28 05       	jr	Z,l_game_bonus_summary_00102
2046  0718  2E 00       	ld	l,0x00
2047  071A  CD B5 07    	call	_game_bonus_summary_player
2048  071D              l_game_bonus_summary_00102:
2049  071D  3A 01 00    	ld	a, (_game_lives + 1)
2050  0720  B7          	or	a, a
2051  0721  28 05       	jr	Z,l_game_bonus_summary_00104
2052  0723  2E 01       	ld	l,0x01
2053  0725  CD B5 07    	call	_game_bonus_summary_player
2054  0728              l_game_bonus_summary_00104:
2055  0728  21 1F 98    	ld	hl,0x981f
2056  072B  E5          	push	hl
2057  072C  AF          	xor	a, a
2058  072D  F5          	push	af
2059  072E  33          	inc	sp
2060  072F  CD E2 0C    	call	_game_paint_attrib_lin
2061  0732  F1          	pop	af
2062  0733  33          	inc	sp
2063  0734  3A 00 00    	ld	a,(_phase_bonus_total)
2064  0737  D6 06       	sub	a,0x06
2065  0739  20 68       	jr	NZ,l_game_bonus_summary_00109
2066  073B  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2067  073E  B7          	or	a, a
2068  073F  20 62       	jr	NZ,l_game_bonus_summary_00109
2069  0741  CD 00 00    	call	_sound_jump
2070  0744  3A 00 00    	ld	a,(_phase_curr)
2071  0747  D6 03       	sub	a,0x03
2072  0749  20 23       	jr	NZ,l_game_bonus_summary_00106
2073  074B  21 83 00    	ld	hl,___str_19
2074  074E  E5          	push	hl
2075  074F  21 12 06    	ld	hl,0x0612
2076  0752  E5          	push	hl
2077  0753  CD 00 00    	call	_zx_print_str
2078  0756  21 00 00    	ld	hl,_index_player
2079  0759  36 00       	ld	(hl),0x00
2080  075B  21 2C 01    	ld	hl,0x012c
2081  075E  CD 00 00    	call	_player_score_add
2082  0761  21 00 00    	ld	hl,_index_player
2083  0764  36 01       	ld	(hl),0x01
2084  0766  21 2C 01    	ld	hl,0x012c
2085  0769  CD 00 00    	call	_player_score_add
2086  076C  18 21       	jr	l_game_bonus_summary_00107
2087  076E              l_game_bonus_summary_00106:
2088  076E  21 96 00    	ld	hl,___str_20
2089  0771  E5          	push	hl
2090  0772  21 12 06    	ld	hl,0x0612
2091  0775  E5          	push	hl
2092  0776  CD 00 00    	call	_zx_print_str
2093  0779  21 00 00    	ld	hl,_index_player
2094  077C  36 00       	ld	(hl),0x00
2095  077E  21 F4 01    	ld	hl,0x01f4
2096  0781  CD 00 00    	call	_player_score_add
2097  0784  21 00 00    	ld	hl,_index_player
2098  0787  36 01       	ld	(hl),0x01
2099  0789  21 F4 01    	ld	hl,0x01f4
2100  078C  CD 00 00    	call	_player_score_add
2101  078F              l_game_bonus_summary_00107:
2102  078F  21 C8 00    	ld	hl,0x00c8
2103  0792  E5          	push	hl
2104  0793  21 10 1A    	ld	hl,0x1a10
2105  0796  E5          	push	hl
2106  0797  3E 12       	ld	a,0x12
2107  0799  F5          	push	af
2108  079A  33          	inc	sp
2109  079B  CD A6 19    	call	_game_colour_message
2110  079E  F1          	pop	af
2111  079F  F1          	pop	af
2112  07A0  33          	inc	sp
2113  07A1  18 11       	jr	l_game_bonus_summary_00112
2114  07A3              l_game_bonus_summary_00109:
2115  07A3  21 A9 00    	ld	hl,___str_21
2116  07A6  E5          	push	hl
2117  07A7  21 12 0C    	ld	hl,0x0c12
2118  07AA  E5          	push	hl
2119  07AB  CD 00 00    	call	_zx_print_str
2120  07AE  21 E8 03    	ld	hl,0x03e8
2121  07B1  CD 00 00    	call	_z80_delay_ms_fastcall
2122  07B4              l_game_bonus_summary_00112:
2123  07B4  C9          	ret
2124  07B5              	SECTION rodata_compiler
2125  0083              ___str_19:
2126  0083  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2127  0095  00          	DEFB 0x00
2128  0096              	SECTION rodata_compiler
2129  0096              ___str_20:
2130  0096  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2131  00A8  00          	DEFB 0x00
2132  00A9              	SECTION rodata_compiler
2133  00A9              ___str_21:
2134  00A9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2135  00B1  00          	DEFB 0x00
2136  00B2              	SECTION code_compiler
2137  07B5              ;	---------------------------------
2138  07B5              ; Function game_bonus_summary_player
2139  07B5              ; ---------------------------------
2140  07B5              _game_bonus_summary_player:
2141  07B5  CD 00 00    	call	___sdcc_enter_ix
2142  07B8  F5          	push	af
2143  07B9  3B          	dec	sp
2144  07BA  DD 75 FF    	ld	(ix-1),l
2145  07BD  76          	halt
2146  07BE  DD 7E FF    	ld	a,(ix-1)
2147  07C1  B7          	or	a, a
2148  07C2  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2149  07C4  21 00 00    	ld	hl,_s_lin1
2150  07C7  36 06       	ld	(hl),0x06
2151  07C9  21 B2 00    	ld	hl,___str_22
2152  07CC  E5          	push	hl
2153  07CD  21 06 07    	ld	hl,0x0706
2154  07D0  E5          	push	hl
2155  07D1  CD 00 00    	call	_zx_print_str
2156  07D4  3A 00 00    	ld	a,(_s_lin1)
2157  07D7  07          	rlca
2158  07D8  07          	rlca
2159  07D9  07          	rlca
2160  07DA  E6 F8       	and	a,0xf8
2161  07DC  47          	ld	b,a
2162  07DD  04          	inc	b
2163  07DE  04          	inc	b
2164  07DF  04          	inc	b
2165  07E0  04          	inc	b
2166  07E1  3E 04       	ld	a,0x04
2167  07E3  48          	ld	c,b
2168  07E4  47          	ld	b,a
2169  07E5  C5          	push	bc
2170  07E6  3E 03       	ld	a,0x03
2171  07E8  F5          	push	af
2172  07E9  33          	inc	sp
2173  07EA  CD 00 00    	call	_NIRVANAP_drawT_callee
2174  07ED  21 00 00    	ld	hl,_index_player
2175  07F0  36 00       	ld	(hl),0x00
2176  07F2  18 2E       	jr	l_game_bonus_summary_player_00103
2177  07F4              l_game_bonus_summary_player_00102:
2178  07F4  21 00 00    	ld	hl,_s_lin1
2179  07F7  36 0C       	ld	(hl),0x0c
2180  07F9  21 B9 00    	ld	hl,___str_23
2181  07FC  E5          	push	hl
2182  07FD  21 0C 07    	ld	hl,0x070c
2183  0800  E5          	push	hl
2184  0801  CD 00 00    	call	_zx_print_str
2185  0804  3A 00 00    	ld	a,(_s_lin1)
2186  0807  07          	rlca
2187  0808  07          	rlca
2188  0809  07          	rlca
2189  080A  E6 F8       	and	a,0xf8
2190  080C  47          	ld	b,a
2191  080D  04          	inc	b
2192  080E  04          	inc	b
2193  080F  04          	inc	b
2194  0810  04          	inc	b
2195  0811  3E 04       	ld	a,0x04
2196  0813  48          	ld	c,b
2197  0814  47          	ld	b,a
2198  0815  C5          	push	bc
2199  0816  3E 1B       	ld	a,0x1b
2200  0818  F5          	push	af
2201  0819  33          	inc	sp
2202  081A  CD 00 00    	call	_NIRVANAP_drawT_callee
2203  081D  21 00 00    	ld	hl,_index_player
2204  0820  36 01       	ld	(hl),0x01
2205  0822              l_game_bonus_summary_player_00103:
2206  0822  3A 00 00    	ld	a,(_s_lin1)
2207  0825  07          	rlca
2208  0826  07          	rlca
2209  0827  07          	rlca
2210  0828  E6 F8       	and	a,0xf8
2211  082A  C6 08       	add	a,0x08
2212  082C  F5          	push	af
2213  082D  33          	inc	sp
2214  082E  21 07 1F    	ld	hl,0x1f07
2215  0831  E5          	push	hl
2216  0832  CD E2 0C    	call	_game_paint_attrib_lin
2217  0835  F1          	pop	af
2218  0836  33          	inc	sp
2219  0837  21 00 00    	ld	hl,_tmp_uc
2220  083A  36 00       	ld	(hl),0x00
2221  083C  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2222  083E  DD 86 FF    	add	a,(ix-1)
2223  0841  DD 77 FD    	ld	(ix-3),a
2224  0844  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2225  0846  CE 00       	adc	a,0x00
2226  0848  DD 77 FE    	ld	(ix-2),a
2227  084B              l_game_bonus_summary_player_00107:
2228  084B  E1          	pop	hl
2229  084C  4E          	ld	c,(hl)
2230  084D  3A 00 00    	ld	a,(_tmp_uc)
2231  0850  E5          	push	hl
2232  0851  91          	sub	a, c
2233  0852  30 53       	jr	NC,l_game_bonus_summary_player_00109
2234  0854  3A 00 00    	ld	a,(_s_lin1)
2235  0857  07          	rlca
2236  0858  07          	rlca
2237  0859  07          	rlca
2238  085A  E6 F8       	and	a,0xf8
2239  085C  4F          	ld	c,a
2240  085D  3A 00 00    	ld	a,(_tmp_uc)
2241  0860  D6 03       	sub	a,0x03
2242  0862  30 08       	jr	NC,l_game_bonus_summary_player_00105
2243  0864  79          	ld	a,c
2244  0865  C6 F8       	add	a,0xf8
2245  0867  32 00 00    	ld	(_s_lin0),a
2246  086A  18 06       	jr	l_game_bonus_summary_player_00106
2247  086C              l_game_bonus_summary_player_00105:
2248  086C  79          	ld	a,c
2249  086D  C6 08       	add	a,0x08
2250  086F  32 00 00    	ld	(_s_lin0),a
2251  0872              l_game_bonus_summary_player_00106:
2252  0872  76          	halt
2253  0873  2A 00 00    	ld	hl,(_tmp_uc)
2254  0876  26 03       	ld	h,0x03
2255  0878  E5          	push	hl
2256  0879  CD 00 00    	call	__moduchar_callee
2257  087C  7D          	ld	a,l
2258  087D  87          	add	a, a
2259  087E  C6 0E       	add	a,0x0e
2260  0880  F5          	push	af
2261  0881  33          	inc	sp
2262  0882  3A 00 00    	ld	a,(_s_lin0)
2263  0885  57          	ld	d,a
2264  0886  1E B9       	ld	e,0xb9
2265  0888  D5          	push	de
2266  0889  CD 00 00    	call	_NIRVANAP_drawT_callee
2267  088C  21 50 00    	ld	hl,0x0050
2268  088F  CD 00 00    	call	_player_score_add
2269  0892  21 00 00    	ld	hl,_tmp_uc
2270  0895  34          	inc	(hl)
2271  0896  21 00 00    	ld	hl,_ay_effect_09
2272  0899  CD 00 00    	call	_ay_fx_play
2273  089C  CD 00 00    	call	_sound_coin
2274  089F  21 32 00    	ld	hl,0x0032
2275  08A2  CD 00 00    	call	_z80_delay_ms_fastcall
2276  08A5  18 A4       	jr	l_game_bonus_summary_player_00107
2277  08A7              l_game_bonus_summary_player_00109:
2278  08A7  21 BF 00    	ld	hl,___str_24
2279  08AA  E5          	push	hl
2280  08AB  2A 00 00    	ld	hl,(_s_lin1)
2281  08AE  26 16       	ld	h,0x16
2282  08B0  E5          	push	hl
2283  08B1  CD 00 00    	call	_zx_print_str
2284  08B4  DD F9       	ld	sp, ix
2285  08B6  DD E1       	pop	ix
2286  08B8  C9          	ret
2287  08B9              	SECTION rodata_compiler
2288  00B2              ___str_22:
2289  00B2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2290  00B8  00          	DEFB 0x00
2291  00B9              	SECTION rodata_compiler
2292  00B9              ___str_23:
2293  00B9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2294  00BE  00          	DEFB 0x00
2295  00BF              	SECTION rodata_compiler
2296  00BF              ___str_24:
2297  00BF  58 20 38 30 30 
                        	DEFM "X 800"
2298  00C4  00          	DEFB 0x00
2299  00C5              	SECTION code_compiler
2300  08B9              ;	---------------------------------
2301  08B9              ; Function game_kill_all_sprites
2302  08B9              ; ---------------------------------
2303  08B9              _game_kill_all_sprites:
2304  08B9  21 00 00    	ld	hl,_sprite
2305  08BC  36 00       	ld	(hl),0x00
2306  08BE              l_game_kill_all_sprites_00102:
2307  08BE  2A 00 00    	ld	hl,(_sprite)
2308  08C1  CD 00 00    	call	_spr_destroy
2309  08C4  21 00 00    	ld	hl,_sprite
2310  08C7  7E          	ld	a,(hl)
2311  08C8  3C          	inc	a
2312  08C9  77          	ld	(hl),a
2313  08CA  D6 08       	sub	a,0x08
2314  08CC  38 F0       	jr	C,l_game_kill_all_sprites_00102
2315  08CE  C9          	ret
2316  08CF              	SECTION code_compiler
2317  08CF              ;	---------------------------------
2318  08CF              ; Function game_check_maze
2319  08CF              ; ---------------------------------
2320  08CF              _game_check_maze:
2321  08CF  4D          	ld	c,l
2322  08D0  44          	ld	b,h
2323  08D1  21 00 00    	ld	hl,_lvl_1
2324  08D4  09          	add	hl,bc
2325  08D5  7E          	ld	a, (hl)
2326  08D6  D6 10       	sub	a,0x10
2327  08D8  30 0A       	jr	NC,l_game_check_maze_00103
2328  08DA  03          	inc	bc
2329  08DB  21 00 00    	ld	hl,_lvl_1
2330  08DE  09          	add	hl,bc
2331  08DF  7E          	ld	a, (hl)
2332  08E0  D6 10       	sub	a,0x10
2333  08E2  38 04       	jr	C,l_game_check_maze_00104
2334  08E4              l_game_check_maze_00103:
2335  08E4  2E 00       	ld	l,0x00
2336  08E6  18 02       	jr	l_game_check_maze_00105
2337  08E8              l_game_check_maze_00104:
2338  08E8  2E 01       	ld	l,0x01
2339  08EA              l_game_check_maze_00105:
2340  08EA  C9          	ret
2341  08EB              	SECTION code_compiler
2342  08EB              ;	---------------------------------
2343  08EB              ; Function game_enemy_add
2344  08EB              ; ---------------------------------
2345  08EB              _game_enemy_add:
2346  08EB  3A 00 00    	ld	a,(_game_type)
2347  08EE  D6 02       	sub	a,0x02
2348  08F0  20 05       	jr	NZ,l_game_enemy_add_00106
2349  08F2  CD 38 0A    	call	_game_enemy_rnd
2350  08F5  18 21       	jr	l_game_enemy_add_00107
2351  08F7              l_game_enemy_add_00106:
2352  08F7  3A 00 00    	ld	a,(_spr_count)
2353  08FA  D6 06       	sub	a,0x06
2354  08FC  30 1A       	jr	NC,l_game_enemy_add_00107
2355  08FE  21 64 00    	ld	hl,0x0064
2356  0901  E5          	push	hl
2357  0902  2A 00 00    	ld	hl,(_entry_time)
2358  0905  E5          	push	hl
2359  0906  CD 38 1A    	call	_game_check_time
2360  0909  F1          	pop	af
2361  090A  F1          	pop	af
2362  090B  7D          	ld	a,l
2363  090C  B7          	or	a, a
2364  090D  28 09       	jr	Z,l_game_enemy_add_00107
2365  090F  3A 00 00    	ld	a,(_phase_left)
2366  0912  B7          	or	a, a
2367  0913  28 03       	jr	Z,l_game_enemy_add_00107
2368  0915  CD 1B 09    	call	_game_enemy_quota
2369  0918              l_game_enemy_add_00107:
2370  0918  2E 00       	ld	l,0x00
2371  091A  C9          	ret
2372  091B              	SECTION code_compiler
2373  091B              ;	---------------------------------
2374  091B              ; Function game_enemy_quota
2375  091B              ; ---------------------------------
2376  091B              _game_enemy_quota:
2377  091B  CD 00 00    	call	_rand
2378  091E  7D          	ld	a, l
2379  091F  E6 01       	and	a,0x01
2380  0921  32 00 00    	ld	(_tmp),a
2381  0924  3A 00 00    	ld	a,(_phase_pop)
2382  0927  B7          	or	a, a
2383  0928  28 06       	jr	Z,l_game_enemy_quota_00101
2384  092A  3A 00 00    	ld	a,(_phase_left)
2385  092D  3D          	dec	a
2386  092E  20 05       	jr	NZ,l_game_enemy_quota_00102
2387  0930              l_game_enemy_quota_00101:
2388  0930  21 00 00    	ld	hl,_tmp
2389  0933  36 00       	ld	(hl),0x00
2390  0935              l_game_enemy_quota_00102:
2391  0935  3A 00 00    	ld	a,(_phase_left)
2392  0938  B7          	or	a, a
2393  0939  28 69       	jr	Z,l_game_enemy_quota_00117
2394  093B  3A 00 00    	ld	a,(_tmp)
2395  093E  B7          	or	a, a
2396  093F  20 63       	jr	NZ,l_game_enemy_quota_00117
2397  0941  01 02 00    	ld	bc,_phase_quota + 2
2398  0944  0A          	ld	a,(bc)
2399  0945  B7          	or	a, a
2400  0946  28 10       	jr	Z,l_game_enemy_quota_00105
2401  0948  C5          	push	bc
2402  0949  2E 09       	ld	l,0x09
2403  094B  CD 68 0A    	call	_game_enemy_add1
2404  094E  C1          	pop	bc
2405  094F  0A          	ld	a,(bc)
2406  0950  C6 FF       	add	a,0xff
2407  0952  02          	ld	(bc),a
2408  0953  2E 00       	ld	l,0x00
2409  0955  C3 37 0A    	jp	l_game_enemy_quota_00134
2410  0958              l_game_enemy_quota_00105:
2411  0958  01 01 00    	ld	bc,_phase_quota + 1
2412  095B  0A          	ld	a,(bc)
2413  095C  B7          	or	a, a
2414  095D  28 1F       	jr	Z,l_game_enemy_quota_00110
2415  095F  3A 00 00    	ld	a,(_phase_angry)
2416  0962  B7          	or	a, a
2417  0963  28 09       	jr	Z,l_game_enemy_quota_00107
2418  0965  C5          	push	bc
2419  0966  2E 06       	ld	l,0x06
2420  0968  CD 68 0A    	call	_game_enemy_add1
2421  096B  C1          	pop	bc
2422  096C  18 07       	jr	l_game_enemy_quota_00108
2423  096E              l_game_enemy_quota_00107:
2424  096E  C5          	push	bc
2425  096F  2E 04       	ld	l,0x04
2426  0971  CD 68 0A    	call	_game_enemy_add1
2427  0974  C1          	pop	bc
2428  0975              l_game_enemy_quota_00108:
2429  0975  0A          	ld	a,(bc)
2430  0976  C6 FF       	add	a,0xff
2431  0978  02          	ld	(bc),a
2432  0979  2E 00       	ld	l,0x00
2433  097B  C3 37 0A    	jp	l_game_enemy_quota_00134
2434  097E              l_game_enemy_quota_00110:
2435  097E  3A 00 00    	ld	a,(_phase_quota)
2436  0981  B7          	or	a, a
2437  0982  28 20       	jr	Z,l_game_enemy_quota_00117
2438  0984  3A 00 00    	ld	a,(_phase_angry)
2439  0987  B7          	or	a, a
2440  0988  28 07       	jr	Z,l_game_enemy_quota_00112
2441  098A  2E 03       	ld	l,0x03
2442  098C  CD 68 0A    	call	_game_enemy_add1
2443  098F  18 05       	jr	l_game_enemy_quota_00113
2444  0991              l_game_enemy_quota_00112:
2445  0991  2E 01       	ld	l,0x01
2446  0993  CD 68 0A    	call	_game_enemy_add1
2447  0996              l_game_enemy_quota_00113:
2448  0996  21 00 00    	ld	hl,_phase_quota
2449  0999  4E          	ld	c,(hl)
2450  099A  0D          	dec	c
2451  099B  21 00 00    	ld	hl,_phase_quota
2452  099E  71          	ld	(hl),c
2453  099F  2E 00       	ld	l,0x00
2454  09A1  C3 37 0A    	jp	l_game_enemy_quota_00134
2455  09A4              l_game_enemy_quota_00117:
2456  09A4  3A 00 00    	ld	a,(_phase_coins)
2457  09A7  B7          	or	a, a
2458  09A8  28 0A       	jr	Z,l_game_enemy_quota_00120
2459  09AA  2E 08       	ld	l,0x08
2460  09AC  CD 68 0A    	call	_game_enemy_add1
2461  09AF  2E 00       	ld	l,0x00
2462  09B1  C3 37 0A    	jp	l_game_enemy_quota_00134
2463  09B4              l_game_enemy_quota_00120:
2464  09B4  CD 00 00    	call	_rand
2465  09B7  7D          	ld	a,l
2466  09B8  E6 03       	and	a,0x03
2467  09BA  44          	ld	b,h
2468  09BB  0E 00       	ld	c,0x00
2469  09BD  CB 79       	bit	7,c
2470  09BF  20 74       	jr	NZ,l_game_enemy_quota_00133
2471  09C1  5F          	ld	e,a
2472  09C2  3E 03       	ld	a,0x03
2473  09C4  BB          	cp	a, e
2474  09C5  3E 00       	ld	a,0x00
2475  09C7  99          	sbc	a, c
2476  09C8  E2 CD 09    	jp	PO, l_game_enemy_quota_00198
2477  09CB  EE 80       	xor	a,0x80
2478  09CD              l_game_enemy_quota_00198:
2479  09CD  FA 35 0A    	jp	M,l_game_enemy_quota_00133
2480  09D0  16 00       	ld	d,0x00
2481  09D2  21 D8 09    	ld	hl,l_game_enemy_quota_00199
2482  09D5  19          	add	hl,de
2483  09D6  19          	add	hl,de
2484  09D7  E9          	jp	(hl)
2485  09D8              l_game_enemy_quota_00199:
2486  09D8  18 06       	jr	l_game_enemy_quota_00121
2487  09DA  18 13       	jr	l_game_enemy_quota_00124
2488  09DC  18 29       	jr	l_game_enemy_quota_00127
2489  09DE  18 3F       	jr	l_game_enemy_quota_00130
2490  09E0              l_game_enemy_quota_00121:
2491  09E0  3E 07       	ld	a,0x07
2492  09E2  21 00 00    	ld	hl,_phase_curr
2493  09E5  96          	sub	a, (hl)
2494  09E6  30 4D       	jr	NC,l_game_enemy_quota_00133
2495  09E8  2E 07       	ld	l,0x07
2496  09EA  CD 68 0A    	call	_game_enemy_add1
2497  09ED  18 46       	jr	l_game_enemy_quota_00133
2498  09EF              l_game_enemy_quota_00124:
2499  09EF  2A 00 00    	ld	hl,(_game_time_fireball_start)
2500  09F2  E5          	push	hl
2501  09F3  21 00 00    	ld	hl,0x0000
2502  09F6  E5          	push	hl
2503  09F7  CD 38 1A    	call	_game_check_time
2504  09FA  F1          	pop	af
2505  09FB  F1          	pop	af
2506  09FC  7D          	ld	a,l
2507  09FD  B7          	or	a, a
2508  09FE  28 35       	jr	Z,l_game_enemy_quota_00133
2509  0A00  2E 0B       	ld	l,0x0b
2510  0A02  CD 68 0A    	call	_game_enemy_add1
2511  0A05  18 2E       	jr	l_game_enemy_quota_00133
2512  0A07              l_game_enemy_quota_00127:
2513  0A07  2A 00 00    	ld	hl,(_game_time_fireball_start)
2514  0A0A  E5          	push	hl
2515  0A0B  21 00 00    	ld	hl,0x0000
2516  0A0E  E5          	push	hl
2517  0A0F  CD 38 1A    	call	_game_check_time
2518  0A12  F1          	pop	af
2519  0A13  F1          	pop	af
2520  0A14  7D          	ld	a,l
2521  0A15  B7          	or	a, a
2522  0A16  28 1D       	jr	Z,l_game_enemy_quota_00133
2523  0A18  2E 0B       	ld	l,0x0b
2524  0A1A  CD 68 0A    	call	_game_enemy_add1
2525  0A1D  18 16       	jr	l_game_enemy_quota_00133
2526  0A1F              l_game_enemy_quota_00130:
2527  0A1F  2A 00 00    	ld	hl,(_game_time_fireball_start)
2528  0A22  E5          	push	hl
2529  0A23  21 00 00    	ld	hl,0x0000
2530  0A26  E5          	push	hl
2531  0A27  CD 38 1A    	call	_game_check_time
2532  0A2A  F1          	pop	af
2533  0A2B  F1          	pop	af
2534  0A2C  7D          	ld	a,l
2535  0A2D  B7          	or	a, a
2536  0A2E  28 05       	jr	Z,l_game_enemy_quota_00133
2537  0A30  2E 0A       	ld	l,0x0a
2538  0A32  CD 68 0A    	call	_game_enemy_add1
2539  0A35              l_game_enemy_quota_00133:
2540  0A35  2E 00       	ld	l,0x00
2541  0A37              l_game_enemy_quota_00134:
2542  0A37  C9          	ret
2543  0A38              	SECTION code_compiler
2544  0A38              ;	---------------------------------
2545  0A38              ; Function game_enemy_rnd
2546  0A38              ; ---------------------------------
2547  0A38              _game_enemy_rnd:
2548  0A38  3A 00 00    	ld	a,(_spr_count)
2549  0A3B  D6 06       	sub	a,0x06
2550  0A3D  30 26       	jr	NC,l_game_enemy_rnd_00102
2551  0A3F  21 64 00    	ld	hl,0x0064
2552  0A42  E5          	push	hl
2553  0A43  2A 00 00    	ld	hl,(_entry_time)
2554  0A46  E5          	push	hl
2555  0A47  CD 38 1A    	call	_game_check_time
2556  0A4A  F1          	pop	af
2557  0A4B  F1          	pop	af
2558  0A4C  7D          	ld	a,l
2559  0A4D  B7          	or	a, a
2560  0A4E  28 15       	jr	Z,l_game_enemy_rnd_00102
2561  0A50  2A 00 00    	ld	hl,(_curr_time)
2562  0A53  22 00 00    	ld	(_entry_time),hl
2563  0A56  CD 00 00    	call	_rand
2564  0A59  01 0B 00    	ld	bc,0x000b
2565  0A5C  C5          	push	bc
2566  0A5D  E5          	push	hl
2567  0A5E  CD 00 00    	call	__modsint_callee
2568  0A61  2C          	inc	l
2569  0A62  CD 68 0A    	call	_game_enemy_add1
2570  0A65              l_game_enemy_rnd_00102:
2571  0A65  2E 00       	ld	l,0x00
2572  0A67  C9          	ret
2573  0A68              	SECTION code_compiler
2574  0A68              ;	---------------------------------
2575  0A68              ; Function game_enemy_add1
2576  0A68              ; ---------------------------------
2577  0A68              _game_enemy_add1:
2578  0A68  CD 00 00    	call	___sdcc_enter_ix
2579  0A6B  F5          	push	af
2580  0A6C  45          	ld	b,l
2581  0A6D  78          	ld	a,b
2582  0A6E  D6 0A       	sub	a,0x0a
2583  0A70  20 04       	jr	NZ,l_game_enemy_add1_00185
2584  0A72  3E 01       	ld	a,0x01
2585  0A74  18 01       	jr	l_game_enemy_add1_00186
2586  0A76              l_game_enemy_add1_00185:
2587  0A76  AF          	xor	a,a
2588  0A77              l_game_enemy_add1_00186:
2589  0A77  4F          	ld	c,a
2590  0A78  B7          	or	a, a
2591  0A79  28 0B       	jr	Z,l_game_enemy_add1_00105
2592  0A7B  C5          	push	bc
2593  0A7C  2E 0A       	ld	l,0x0a
2594  0A7E  CD AA 0B    	call	_game_enemy_add_get_index
2595  0A81  C1          	pop	bc
2596  0A82  5D          	ld	e,l
2597  0A83  1C          	inc	e
2598  0A84  20 2B       	jr	NZ,l_game_enemy_add1_00101
2599  0A86              l_game_enemy_add1_00105:
2600  0A86  78          	ld	a,b
2601  0A87  D6 0B       	sub	a,0x0b
2602  0A89  20 04       	jr	NZ,l_game_enemy_add1_00189
2603  0A8B  3E 01       	ld	a,0x01
2604  0A8D  18 01       	jr	l_game_enemy_add1_00190
2605  0A8F              l_game_enemy_add1_00189:
2606  0A8F  AF          	xor	a,a
2607  0A90              l_game_enemy_add1_00190:
2608  0A90  DD 77 FF    	ld	(ix-1),a
2609  0A93  B7          	or	a, a
2610  0A94  28 0B       	jr	Z,l_game_enemy_add1_00107
2611  0A96  C5          	push	bc
2612  0A97  2E 0B       	ld	l,0x0b
2613  0A99  CD AA 0B    	call	_game_enemy_add_get_index
2614  0A9C  C1          	pop	bc
2615  0A9D  5D          	ld	e,l
2616  0A9E  1C          	inc	e
2617  0A9F  20 10       	jr	NZ,l_game_enemy_add1_00101
2618  0AA1              l_game_enemy_add1_00107:
2619  0AA1  78          	ld	a,b
2620  0AA2  D6 07       	sub	a,0x07
2621  0AA4  20 10       	jr	NZ,l_game_enemy_add1_00102
2622  0AA6  C5          	push	bc
2623  0AA7  2E 07       	ld	l,0x07
2624  0AA9  CD AA 0B    	call	_game_enemy_add_get_index
2625  0AAC  C1          	pop	bc
2626  0AAD  5D          	ld	e,l
2627  0AAE  1C          	inc	e
2628  0AAF  28 05       	jr	Z,l_game_enemy_add1_00102
2629  0AB1              l_game_enemy_add1_00101:
2630  0AB1  2E 00       	ld	l,0x00
2631  0AB3  C3 A6 0B    	jp	l_game_enemy_add1_00131
2632  0AB6              l_game_enemy_add1_00102:
2633  0AB6  21 00 00    	ld	hl,_phase_pop
2634  0AB9  34          	inc	(hl)
2635  0ABA  C5          	push	bc
2636  0ABB  CD 00 00    	call	_sound_enter_enemy
2637  0ABE  2E 00       	ld	l,0x00
2638  0AC0  CD AA 0B    	call	_game_enemy_add_get_index
2639  0AC3  C1          	pop	bc
2640  0AC4  7D          	ld	a,l
2641  0AC5  32 00 00    	ld	(_tmp),a
2642  0AC8  C5          	push	bc
2643  0AC9  CD 00 00    	call	_rand
2644  0ACC  C1          	pop	bc
2645  0ACD  7D          	ld	a, l
2646  0ACE  E6 01       	and	a,0x01
2647  0AD0  32 00 00    	ld	(_tmp0),a
2648  0AD3  3D          	dec	a
2649  0AD4  20 1C       	jr	NZ,l_game_enemy_add1_00113
2650  0AD6  21 00 00    	ld	hl,_s_lin0
2651  0AD9  36 10       	ld	(hl),0x10
2652  0ADB  21 00 00    	ld	hl,_s_col0
2653  0ADE  36 04       	ld	(hl),0x04
2654  0AE0  21 00 00    	ld	hl,_s_col1
2655  0AE3  36 02       	ld	(hl),0x02
2656  0AE5  79          	ld	a,c
2657  0AE6  B7          	or	a, a
2658  0AE7  28 02       	jr	Z,l_game_enemy_add1_00109
2659  0AE9  36 03       	ld	(hl),0x03
2660  0AEB              l_game_enemy_add1_00109:
2661  0AEB  21 00 00    	ld	hl,_tmp1
2662  0AEE  36 01       	ld	(hl),0x01
2663  0AF0  18 1A       	jr	l_game_enemy_add1_00114
2664  0AF2              l_game_enemy_add1_00113:
2665  0AF2  21 00 00    	ld	hl,_s_lin0
2666  0AF5  36 10       	ld	(hl),0x10
2667  0AF7  21 00 00    	ld	hl,_s_col0
2668  0AFA  36 1A       	ld	(hl),0x1a
2669  0AFC  21 00 00    	ld	hl,_s_col1
2670  0AFF  36 1E       	ld	(hl),0x1e
2671  0B01  79          	ld	a,c
2672  0B02  B7          	or	a, a
2673  0B03  28 02       	jr	Z,l_game_enemy_add1_00111
2674  0B05  36 1C       	ld	(hl),0x1c
2675  0B07              l_game_enemy_add1_00111:
2676  0B07  21 00 00    	ld	hl,_tmp1
2677  0B0A  36 FF       	ld	(hl),0xff
2678  0B0C              l_game_enemy_add1_00114:
2679  0B0C  78          	ld	a,b
2680  0B0D  D6 08       	sub	a,0x08
2681  0B0F  20 04       	jr	NZ,l_game_enemy_add1_00198
2682  0B11  3E 01       	ld	a,0x01
2683  0B13  18 01       	jr	l_game_enemy_add1_00199
2684  0B15              l_game_enemy_add1_00198:
2685  0B15  AF          	xor	a,a
2686  0B16              l_game_enemy_add1_00199:
2687  0B16  DD 77 FE    	ld	(ix-2),a
2688  0B19  B7          	or	a, a
2689  0B1A  28 04       	jr	Z,l_game_enemy_add1_00116
2690  0B1C  21 00 00    	ld	hl,_phase_coins
2691  0B1F  35          	dec	(hl)
2692  0B20              l_game_enemy_add1_00116:
2693  0B20  21 00 00    	ld	hl,_tmp_uc
2694  0B23  36 00       	ld	(hl),0x00
2695  0B25  DD 7E FF    	ld	a,(ix-1)
2696  0B28  B7          	or	a,a
2697  0B29  20 03       	jr	NZ,l_game_enemy_add1_00123
2698  0B2B  B1          	or	a,c
2699  0B2C  28 35       	jr	Z,l_game_enemy_add1_00124
2700  0B2E              l_game_enemy_add1_00123:
2701  0B2E  C5          	push	bc
2702  0B2F  CD 00 00    	call	_rand
2703  0B32  11 03 00    	ld	de,0x0003
2704  0B35  D5          	push	de
2705  0B36  E5          	push	hl
2706  0B37  CD 00 00    	call	__modsint_callee
2707  0B3A  C1          	pop	bc
2708  0B3B  5D          	ld	e,l
2709  0B3C  21 00 00    	ld	hl,_tmp_uc
2710  0B3F  73          	ld	(hl),e
2711  0B40  7B          	ld	a,e
2712  0B41  B7          	or	a, a
2713  0B42  20 02       	jr	NZ,l_game_enemy_add1_00118
2714  0B44  36 10       	ld	(hl),0x10
2715  0B46              l_game_enemy_add1_00118:
2716  0B46  3A 00 00    	ld	a,(_tmp_uc)
2717  0B49  3D          	dec	a
2718  0B4A  20 05       	jr	NZ,l_game_enemy_add1_00120
2719  0B4C  21 00 00    	ld	hl,_tmp_uc
2720  0B4F  36 38       	ld	(hl),0x38
2721  0B51              l_game_enemy_add1_00120:
2722  0B51  3A 00 00    	ld	a,(_tmp_uc)
2723  0B54  D6 02       	sub	a,0x02
2724  0B56  20 05       	jr	NZ,l_game_enemy_add1_00122
2725  0B58  21 00 00    	ld	hl,_tmp_uc
2726  0B5B  36 84       	ld	(hl),0x84
2727  0B5D              l_game_enemy_add1_00122:
2728  0B5D  3A 00 00    	ld	a,(_s_col1)
2729  0B60  32 00 00    	ld	(_s_col0),a
2730  0B63              l_game_enemy_add1_00124:
2731  0B63  CD 00 00    	call	_ay_is_playing
2732  0B66  7D          	ld	a,l
2733  0B67  D6 02       	sub	a,0x02
2734  0B69  30 14       	jr	NC,l_game_enemy_add1_00130
2735  0B6B  DD 7E FE    	ld	a,(ix-2)
2736  0B6E  B7          	or	a, a
2737  0B6F  20 08       	jr	NZ,l_game_enemy_add1_00127
2738  0B71  21 00 00    	ld	hl,_ay_effect_04
2739  0B74  CD 00 00    	call	_ay_fx_play
2740  0B77  18 06       	jr	l_game_enemy_add1_00130
2741  0B79              l_game_enemy_add1_00127:
2742  0B79  21 00 00    	ld	hl,_ay_effect_07
2743  0B7C  CD 00 00    	call	_ay_fx_play
2744  0B7F              l_game_enemy_add1_00130:
2745  0B7F  2A 00 00    	ld	hl,(_curr_time)
2746  0B82  22 00 00    	ld	(_entry_time),hl
2747  0B85  3A 00 00    	ld	a,(_s_lin0)
2748  0B88  21 00 00    	ld	hl,_tmp_uc
2749  0B8B  86          	add	a, (hl)
2750  0B8C  57          	ld	d,a
2751  0B8D  3A 00 00    	ld	a,(_tmp1)
2752  0B90  48          	ld	c,b
2753  0B91  47          	ld	b,a
2754  0B92  3A 00 00    	ld	a,(_s_col0)
2755  0B95  C5          	push	bc
2756  0B96  5A          	ld	e,d
2757  0B97  57          	ld	d,a
2758  0B98  3A 00 00    	ld	a,(_tmp)
2759  0B9B  D5          	push	de
2760  0B9C  F5          	push	af
2761  0B9D  33          	inc	sp
2762  0B9E  CD 00 00    	call	_enemy_init
2763  0BA1  F1          	pop	af
2764  0BA2  F1          	pop	af
2765  0BA3  33          	inc	sp
2766  0BA4  2E 00       	ld	l,0x00
2767  0BA6              l_game_enemy_add1_00131:
2768  0BA6  F1          	pop	af
2769  0BA7  DD E1       	pop	ix
2770  0BA9  C9          	ret
2771  0BAA              	SECTION code_compiler
2772  0BAA              ;	---------------------------------
2773  0BAA              ; Function game_enemy_add_get_index
2774  0BAA              ; ---------------------------------
2775  0BAA              _game_enemy_add_get_index:
2776  0BAA  4D          	ld	c,l
2777  0BAB  21 00 00    	ld	hl,_enemies
2778  0BAE  36 00       	ld	(hl),0x00
2779  0BB0              l_game_enemy_add_get_index_00104:
2780  0BB0  2A 00 00    	ld	hl,(_enemies)
2781  0BB3  26 00       	ld	h,0x00
2782  0BB5  11 00 00    	ld	de,_class
2783  0BB8  19          	add	hl,de
2784  0BB9  46          	ld	b, (hl)
2785  0BBA  79          	ld	a,c
2786  0BBB  90          	sub	a,b
2787  0BBC  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2788  0BBE  2A 00 00    	ld	hl,(_enemies)
2789  0BC1  18 0B       	jr	l_game_enemy_add_get_index_00106
2790  0BC3              l_game_enemy_add_get_index_00105:
2791  0BC3  21 00 00    	ld	hl,_enemies
2792  0BC6  34          	inc	(hl)
2793  0BC7  3E 05       	ld	a,0x05
2794  0BC9  96          	sub	a, (hl)
2795  0BCA  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2796  0BCC  2E FF       	ld	l,0xff
2797  0BCE              l_game_enemy_add_get_index_00106:
2798  0BCE  C9          	ret
2799  0BCF              	SECTION code_compiler
2800  0BCF              ;	---------------------------------
2801  0BCF              ; Function game_freeze
2802  0BCF              ; ---------------------------------
2803  0BCF              _game_freeze:
2804  0BCF  CD 00 00    	call	___sdcc_enter_ix
2805  0BD2  DD 7E 05    	ld	a,(ix+5)
2806  0BD5  D6 1F       	sub	a,0x1f
2807  0BD7  30 5F       	jr	NC,l_game_freeze_00107
2808  0BD9  21 00 00    	ld	hl,_tmp
2809  0BDC  36 01       	ld	(hl),0x01
2810  0BDE  DD 66 05    	ld	h,(ix+5)
2811  0BE1  DD 6E 04    	ld	l,(ix+4)
2812  0BE4  E5          	push	hl
2813  0BE5  CD 00 00    	call	_game_calc_index
2814  0BE8  F1          	pop	af
2815  0BE9  22 00 00    	ld	(_index1),hl
2816  0BEC  01 00 00    	ld	bc,_lvl_1
2817  0BEF  09          	add	hl,bc
2818  0BF0  7E          	ld	a,(hl)
2819  0BF1  D6 12       	sub	a,0x12
2820  0BF3  20 43       	jr	NZ,l_game_freeze_00107
2821  0BF5  36 14       	ld	(hl),0x14
2822  0BF7  76          	halt
2823  0BF8  DD 7E 05    	ld	a,(ix+5)
2824  0BFB  F5          	push	af
2825  0BFC  33          	inc	sp
2826  0BFD  DD 56 04    	ld	d,(ix+4)
2827  0C00  1E 8B       	ld	e,0x8b
2828  0C02  D5          	push	de
2829  0C03  CD 00 00    	call	_NIRVANAP_drawT_callee
2830  0C06  ED 4B 00 00 	ld	bc,(_index1)
2831  0C0A  03          	inc	bc
2832  0C0B  21 00 00    	ld	hl,_lvl_1
2833  0C0E  09          	add	hl,bc
2834  0C0F  4E          	ld	c,(hl)
2835  0C10  DD 46 05    	ld	b,(ix+5)
2836  0C13  04          	inc	b
2837  0C14  79          	ld	a,c
2838  0C15  B7          	or	a, a
2839  0C16  20 0C       	jr	NZ,l_game_freeze_00102
2840  0C18  C5          	push	bc
2841  0C19  DD 4E 04    	ld	c,(ix+4)
2842  0C1C  C5          	push	bc
2843  0C1D  AF          	xor	a, a
2844  0C1E  F5          	push	af
2845  0C1F  33          	inc	sp
2846  0C20  CD 00 00    	call	_NIRVANAP_fillT_callee
2847  0C23  C1          	pop	bc
2848  0C24              l_game_freeze_00102:
2849  0C24  DD 4E 04    	ld	c,(ix+4)
2850  0C27  C5          	push	bc
2851  0C28  CD CF 0B    	call	_game_freeze
2852  0C2B  F1          	pop	af
2853  0C2C  DD 46 05    	ld	b,(ix+5)
2854  0C2F  05          	dec	b
2855  0C30  DD 4E 04    	ld	c,(ix+4)
2856  0C33  C5          	push	bc
2857  0C34  CD CF 0B    	call	_game_freeze
2858  0C37  F1          	pop	af
2859  0C38              l_game_freeze_00107:
2860  0C38  DD E1       	pop	ix
2861  0C3A  C9          	ret
2862  0C3B              	SECTION code_compiler
2863  0C3B              ;	---------------------------------
2864  0C3B              ; Function game_unfreeze_all
2865  0C3B              ; ---------------------------------
2866  0C3B              _game_unfreeze_all:
2867  0C3B  21 C0 00    	ld	hl,0x00c0
2868  0C3E  22 00 00    	ld	(_index1),hl
2869  0C41              l_game_unfreeze_all_00104:
2870  0C41  01 00 00    	ld	bc,_lvl_1
2871  0C44  2A 00 00    	ld	hl,(_index1)
2872  0C47  09          	add	hl,bc
2873  0C48  7E          	ld	a,(hl)
2874  0C49  D6 14       	sub	a,0x14
2875  0C4B  20 02       	jr	NZ,l_game_unfreeze_all_00105
2876  0C4D  36 12       	ld	(hl),0x12
2877  0C4F              l_game_unfreeze_all_00105:
2878  0C4F  21 00 00    	ld	hl,_index1
2879  0C52  34          	inc	(hl)
2880  0C53  20 02       	jr	NZ,l_game_unfreeze_all_00118
2881  0C55  23          	inc	hl
2882  0C56  34          	inc	(hl)
2883  0C57              l_game_unfreeze_all_00118:
2884  0C57  3E 20       	ld	a,0x20
2885  0C59  21 00 00    	ld	hl,_index1
2886  0C5C  BE          	cp	a, (hl)
2887  0C5D  3E 02       	ld	a,0x02
2888  0C5F  23          	inc	hl
2889  0C60  9E          	sbc	a, (hl)
2890  0C61  30 DE       	jr	NC,l_game_unfreeze_all_00104
2891  0C63  C9          	ret
2892  0C64              	SECTION code_compiler
2893  0C64              ;	---------------------------------
2894  0C64              ; Function game_freeze_all
2895  0C64              ; ---------------------------------
2896  0C64              _game_freeze_all:
2897  0C64  21 C0 00    	ld	hl,0x00c0
2898  0C67  22 00 00    	ld	(_index1),hl
2899  0C6A              l_game_freeze_all_00104:
2900  0C6A  01 00 00    	ld	bc,_lvl_1
2901  0C6D  2A 00 00    	ld	hl,(_index1)
2902  0C70  09          	add	hl,bc
2903  0C71  7E          	ld	a,(hl)
2904  0C72  D6 12       	sub	a,0x12
2905  0C74  20 02       	jr	NZ,l_game_freeze_all_00105
2906  0C76  36 14       	ld	(hl),0x14
2907  0C78              l_game_freeze_all_00105:
2908  0C78  21 00 00    	ld	hl,_index1
2909  0C7B  34          	inc	(hl)
2910  0C7C  20 02       	jr	NZ,l_game_freeze_all_00118
2911  0C7E  23          	inc	hl
2912  0C7F  34          	inc	(hl)
2913  0C80              l_game_freeze_all_00118:
2914  0C80  3E 20       	ld	a,0x20
2915  0C82  21 00 00    	ld	hl,_index1
2916  0C85  BE          	cp	a, (hl)
2917  0C86  3E 02       	ld	a,0x02
2918  0C88  23          	inc	hl
2919  0C89  9E          	sbc	a, (hl)
2920  0C8A  30 DE       	jr	NC,l_game_freeze_all_00104
2921  0C8C  C9          	ret
2922  0C8D              	SECTION code_compiler
2923  0C8D              ;	---------------------------------
2924  0C8D              ; Function game_print_score
2925  0C8D              ; ---------------------------------
2926  0C8D              _game_print_score:
2927  0C8D  21 00 00    	ld	hl,_screen_ink
2928  0C90  36 07       	ld	(hl),0x07
2929  0C92  21 00 00    	ld	hl,_screen_paper
2930  0C95  36 00       	ld	(hl),0x00
2931  0C97  2A 00 00    	ld	hl,(_player_score)
2932  0C9A  E5          	push	hl
2933  0C9B  21 00 03    	ld	hl,0x0300
2934  0C9E  E5          	push	hl
2935  0C9F  CD 00 00    	call	_zx_print_int
2936  0CA2  2A 00 00    	ld	hl,(_game_score_top)
2937  0CA5  E5          	push	hl
2938  0CA6  21 00 0E    	ld	hl,0x0e00
2939  0CA9  E5          	push	hl
2940  0CAA  CD 00 00    	call	_zx_print_int
2941  0CAD  3A 00 00    	ld	a,(_game_two_player)
2942  0CB0  B7          	or	a, a
2943  0CB1  C8          	ret	Z
2944  0CB2  2A 02 00    	ld	hl, (_player_score + 2)
2945  0CB5  E5          	push	hl
2946  0CB6  21 00 18    	ld	hl,0x1800
2947  0CB9  E5          	push	hl
2948  0CBA  CD 00 00    	call	_zx_print_int
2949  0CBD  C9          	ret
2950  0CBE              	SECTION code_compiler
2951  0CBE              ;	---------------------------------
2952  0CBE              ; Function game_paint_attrib
2953  0CBE              ; ---------------------------------
2954  0CBE              _game_paint_attrib:
2955  0CBE  7D          	ld	a,l
2956  0CBF  32 00 00    	ld	(_tmp0),a
2957  0CC2              l_game_paint_attrib_00103:
2958  0CC2  3E 13       	ld	a,0x13
2959  0CC4  21 00 00    	ld	hl,_tmp0
2960  0CC7  96          	sub	a, (hl)
2961  0CC8  D8          	ret	C
2962  0CC9  7E          	ld	a,(hl)
2963  0CCA  07          	rlca
2964  0CCB  07          	rlca
2965  0CCC  07          	rlca
2966  0CCD  E6 F8       	and	a,0xf8
2967  0CCF  C6 08       	add	a,0x08
2968  0CD1  F5          	push	af
2969  0CD2  33          	inc	sp
2970  0CD3  21 01 1F    	ld	hl,0x1f01
2971  0CD6  E5          	push	hl
2972  0CD7  CD E2 0C    	call	_game_paint_attrib_lin
2973  0CDA  F1          	pop	af
2974  0CDB  33          	inc	sp
2975  0CDC  21 00 00    	ld	hl,_tmp0
2976  0CDF  34          	inc	(hl)
2977  0CE0  18 E0       	jr	l_game_paint_attrib_00103
2978  0CE2              	SECTION code_compiler
2979  0CE2              ;	---------------------------------
2980  0CE2              ; Function game_paint_attrib_lin
2981  0CE2              ; ---------------------------------
2982  0CE2              _game_paint_attrib_lin:
2983  0CE2  CD 00 00    	call	___sdcc_enter_ix
2984  0CE5  DD 7E 04    	ld	a,(ix+4)
2985  0CE8  32 00 00    	ld	(_tmp_uc),a
2986  0CEB              l_game_paint_attrib_lin_00103:
2987  0CEB  21 00 00    	ld	hl,_tmp_uc
2988  0CEE  7E          	ld	a,(hl)
2989  0CEF  DD 96 05    	sub	a,(ix+5)
2990  0CF2  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2991  0CF4  66          	ld	h,(hl)
2992  0CF5  DD 6E 06    	ld	l,(ix+6)
2993  0CF8  E5          	push	hl
2994  0CF9  21 00 00    	ld	hl,_attrib
2995  0CFC  E5          	push	hl
2996  0CFD  CD 00 00    	call	_NIRVANAP_paintC_callee
2997  0D00  21 00 00    	ld	hl,_tmp_uc
2998  0D03  34          	inc	(hl)
2999  0D04  18 E5       	jr	l_game_paint_attrib_lin_00103
3000  0D06              l_game_paint_attrib_lin_00105:
3001  0D06  DD E1       	pop	ix
3002  0D08  C9          	ret
3003  0D09              	SECTION code_compiler
3004  0D09              ;	---------------------------------
3005  0D09              ; Function game_paint_attrib_lin_h
3006  0D09              ; ---------------------------------
3007  0D09              _game_paint_attrib_lin_h:
3008  0D09  CD 00 00    	call	___sdcc_enter_ix
3009  0D0C  DD 7E 04    	ld	a,(ix+4)
3010  0D0F  32 00 00    	ld	(_tmp_uc),a
3011  0D12              l_game_paint_attrib_lin_h_00103:
3012  0D12  21 00 00    	ld	hl,_tmp_uc
3013  0D15  7E          	ld	a,(hl)
3014  0D16  DD 96 05    	sub	a,(ix+5)
3015  0D19  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3016  0D1B  66          	ld	h,(hl)
3017  0D1C  DD 6E 06    	ld	l,(ix+6)
3018  0D1F  E5          	push	hl
3019  0D20  21 00 00    	ld	hl,_attrib_hl
3020  0D23  E5          	push	hl
3021  0D24  CD 00 00    	call	_NIRVANAP_paintC_callee
3022  0D27  21 00 00    	ld	hl,_tmp_uc
3023  0D2A  34          	inc	(hl)
3024  0D2B  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3025  0D2D              l_game_paint_attrib_lin_h_00105:
3026  0D2D  DD E1       	pop	ix
3027  0D2F  C9          	ret
3028  0D30              	SECTION code_compiler
3029  0D30              ;	---------------------------------
3030  0D30              ; Function game_menu_config
3031  0D30              ; ---------------------------------
3032  0D30              _game_menu_config:
3033  0D30  CD 00 00    	call	___sdcc_enter_ix
3034  0D33  F5          	push	af
3035  0D34  3B          	dec	sp
3036  0D35  2E 0B       	ld	l,0x0b
3037  0D37  CD BE 0C    	call	_game_paint_attrib
3038  0D3A  DD 36 FD 01 	ld	(ix-3),0x01
3039  0D3E              l_game_menu_config_00116:
3040  0D3E  DD 7E FD    	ld	a,(ix-3)
3041  0D41  B7          	or	a, a
3042  0D42  CA 9C 0E    	jp	Z,l_game_menu_config_00119
3043  0D45              l_game_menu_config_00101:
3044  0D45  21 00 00    	ld	hl,_k1
3045  0D48  E5          	push	hl
3046  0D49  2A 00 00    	ld	hl,(_joyfunc1)
3047  0D4C  CD 00 00    	call	___sdcc_call_hl
3048  0D4F  F1          	pop	af
3049  0D50  7C          	ld	a,h
3050  0D51  B5          	or	a,l
3051  0D52  20 F1       	jr	NZ,l_game_menu_config_00101
3052  0D54  3A 00 00    	ld	a,(_spec128)
3053  0D57  B7          	or	a,a
3054  0D58  28 0A       	jr	Z,l_game_menu_config_00121
3055  0D5A  DD 36 FE C5 	ld	(ix-2),+((___str_25) & 0xFF)
3056  0D5E  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3057  0D62  18 08       	jr	l_game_menu_config_00122
3058  0D64              l_game_menu_config_00121:
3059  0D64  DD 36 FE D0 	ld	(ix-2),+((___str_26) & 0xFF)
3060  0D68  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3061  0D6C              l_game_menu_config_00122:
3062  0D6C  DD 4E FE    	ld	c,(ix-2)
3063  0D6F  DD 46 FF    	ld	b,(ix-1)
3064  0D72  C5          	push	bc
3065  0D73  21 0E 0A    	ld	hl,0x0a0e
3066  0D76  E5          	push	hl
3067  0D77  CD 00 00    	call	_zx_print_str
3068  0D7A  21 DB 00    	ld	hl,___str_27
3069  0D7D  E5          	push	hl
3070  0D7E  21 0F 0A    	ld	hl,0x0a0f
3071  0D81  E5          	push	hl
3072  0D82  CD 00 00    	call	_zx_print_str
3073  0D85  21 E6 00    	ld	hl,___str_28
3074  0D88  E5          	push	hl
3075  0D89  21 10 0A    	ld	hl,0x0a10
3076  0D8C  E5          	push	hl
3077  0D8D  CD 00 00    	call	_zx_print_str
3078  0D90  21 F1 00    	ld	hl,___str_29
3079  0D93  E5          	push	hl
3080  0D94  21 11 0A    	ld	hl,0x0a11
3081  0D97  E5          	push	hl
3082  0D98  CD 00 00    	call	_zx_print_str
3083  0D9B  21 FC 00    	ld	hl,___str_30
3084  0D9E  E5          	push	hl
3085  0D9F  21 12 0A    	ld	hl,0x0a12
3086  0DA2  E5          	push	hl
3087  0DA3  CD 00 00    	call	_zx_print_str
3088  0DA6  3A 00 00    	ld	a,(_game_sound)
3089  0DA9  E6 05       	and	a,0x05
3090  0DAB  28 05       	jr	Z,l_game_menu_config_00123
3091  0DAD  01 07 01    	ld	bc,___str_31
3092  0DB0  18 03       	jr	l_game_menu_config_00124
3093  0DB2              l_game_menu_config_00123:
3094  0DB2  01 0B 01    	ld	bc,___str_32
3095  0DB5              l_game_menu_config_00124:
3096  0DB5  C5          	push	bc
3097  0DB6  21 0E 14    	ld	hl,0x140e
3098  0DB9  E5          	push	hl
3099  0DBA  CD 00 00    	call	_zx_print_str
3100  0DBD  3E 02       	ld	a,0x02
3101  0DBF  21 00 00    	ld	hl,_game_type
3102  0DC2  96          	sub	a, (hl)
3103  0DC3  38 34       	jr	C,l_game_menu_config_00107
3104  0DC5  5E          	ld	e,(hl)
3105  0DC6  16 00       	ld	d,0x00
3106  0DC8  21 CE 0D    	ld	hl,l_game_menu_config_00164
3107  0DCB  19          	add	hl,de
3108  0DCC  19          	add	hl,de
3109  0DCD  E9          	jp	(hl)
3110  0DCE              l_game_menu_config_00164:
3111  0DCE  18 04       	jr	l_game_menu_config_00104
3112  0DD0  18 0F       	jr	l_game_menu_config_00105
3113  0DD2  18 1A       	jr	l_game_menu_config_00106
3114  0DD4              l_game_menu_config_00104:
3115  0DD4  21 0F 01    	ld	hl,___str_33
3116  0DD7  E5          	push	hl
3117  0DD8  21 0F 14    	ld	hl,0x140f
3118  0DDB  E5          	push	hl
3119  0DDC  CD 00 00    	call	_zx_print_str
3120  0DDF  18 18       	jr	l_game_menu_config_00107
3121  0DE1              l_game_menu_config_00105:
3122  0DE1  21 13 01    	ld	hl,___str_34
3123  0DE4  E5          	push	hl
3124  0DE5  21 0F 14    	ld	hl,0x140f
3125  0DE8  E5          	push	hl
3126  0DE9  CD 00 00    	call	_zx_print_str
3127  0DEC  18 0B       	jr	l_game_menu_config_00107
3128  0DEE              l_game_menu_config_00106:
3129  0DEE  21 17 01    	ld	hl,___str_35
3130  0DF1  E5          	push	hl
3131  0DF2  21 0F 14    	ld	hl,0x140f
3132  0DF5  E5          	push	hl
3133  0DF6  CD 00 00    	call	_zx_print_str
3134  0DF9              l_game_menu_config_00107:
3135  0DF9  2A 00 00    	ld	hl,(_player_joy)
3136  0DFC  29          	add	hl, hl
3137  0DFD  11 00 00    	ld	de,_joynames
3138  0E00  19          	add	hl,de
3139  0E01  4E          	ld	c,(hl)
3140  0E02  23          	inc	hl
3141  0E03  46          	ld	b,(hl)
3142  0E04  C5          	push	bc
3143  0E05  21 10 14    	ld	hl,0x1410
3144  0E08  E5          	push	hl
3145  0E09  CD 00 00    	call	_zx_print_str
3146  0E0C  2A 02 00    	ld	hl, (_player_joy + 2)
3147  0E0F  29          	add	hl, hl
3148  0E10  11 00 00    	ld	de,_joynames
3149  0E13  19          	add	hl,de
3150  0E14  4E          	ld	c,(hl)
3151  0E15  23          	inc	hl
3152  0E16  46          	ld	b,(hl)
3153  0E17  C5          	push	bc
3154  0E18  21 11 14    	ld	hl,0x1411
3155  0E1B  E5          	push	hl
3156  0E1C  CD 00 00    	call	_zx_print_str
3157  0E1F  21 00 00    	ld	hl,0x0000
3158  0E22  E5          	push	hl
3159  0E23  21 0E 12    	ld	hl,0x120e
3160  0E26  E5          	push	hl
3161  0E27  21 0A 01    	ld	hl,0x010a
3162  0E2A  E5          	push	hl
3163  0E2B  CD 55 11    	call	_game_menu_handle
3164  0E2E  F1          	pop	af
3165  0E2F  F1          	pop	af
3166  0E30  F1          	pop	af
3167  0E31  7D          	ld	a,l
3168  0E32  32 00 00    	ld	(_game_menu_sel),a
3169  0E35  21 00 00    	ld	hl,_ay_effect_10
3170  0E38  CD 00 00    	call	_ay_fx_play
3171  0E3B  CD 00 00    	call	_sound_coin
3172  0E3E  3E 04       	ld	a,0x04
3173  0E40  21 00 00    	ld	hl,_game_menu_sel
3174  0E43  96          	sub	a, (hl)
3175  0E44  DA 3E 0D    	jp	C,l_game_menu_config_00116
3176  0E47  5E          	ld	e,(hl)
3177  0E48  16 00       	ld	d,0x00
3178  0E4A  21 50 0E    	ld	hl,l_game_menu_config_00165
3179  0E4D  19          	add	hl,de
3180  0E4E  19          	add	hl,de
3181  0E4F  E9          	jp	(hl)
3182  0E50              l_game_menu_config_00165:
3183  0E50  18 08       	jr	l_game_menu_config_00108
3184  0E52  18 1A       	jr	l_game_menu_config_00109
3185  0E54  18 27       	jr	l_game_menu_config_00112
3186  0E56  18 2D       	jr	l_game_menu_config_00113
3187  0E58  18 33       	jr	l_game_menu_config_00114
3188  0E5A              l_game_menu_config_00108:
3189  0E5A  3A 00 00    	ld	a,(_spec128)
3190  0E5D  B7          	or	a, a
3191  0E5E  28 04       	jr	Z,l_game_menu_config_00125
3192  0E60  3E 04       	ld	a,0x04
3193  0E62  18 02       	jr	l_game_menu_config_00126
3194  0E64              l_game_menu_config_00125:
3195  0E64  3E 01       	ld	a,0x01
3196  0E66              l_game_menu_config_00126:
3197  0E66  21 00 00    	ld	hl,_game_sound
3198  0E69  AE          	xor	a, (hl)
3199  0E6A  77          	ld	(hl),a
3200  0E6B  C3 3E 0D    	jp	l_game_menu_config_00116
3201  0E6E              l_game_menu_config_00109:
3202  0E6E  21 00 00    	ld	hl,_game_type
3203  0E71  34          	inc	(hl)
3204  0E72  3E 02       	ld	a,0x02
3205  0E74  96          	sub	a, (hl)
3206  0E75  D2 3E 0D    	jp	NC,l_game_menu_config_00116
3207  0E78  36 00       	ld	(hl),0x00
3208  0E7A  C3 3E 0D    	jp	l_game_menu_config_00116
3209  0E7D              l_game_menu_config_00112:
3210  0E7D  2E 00       	ld	l,0x00
3211  0E7F  CD A1 0E    	call	_game_joystick_change
3212  0E82  C3 3E 0D    	jp	l_game_menu_config_00116
3213  0E85              l_game_menu_config_00113:
3214  0E85  2E 01       	ld	l,0x01
3215  0E87  CD A1 0E    	call	_game_joystick_change
3216  0E8A  C3 3E 0D    	jp	l_game_menu_config_00116
3217  0E8D              l_game_menu_config_00114:
3218  0E8D  21 00 00    	ld	hl,_game_menu_sel
3219  0E90  36 00       	ld	(hl),0x00
3220  0E92  CD 27 10    	call	_game_menu_paint
3221  0E95  DD 36 FD 00 	ld	(ix-3),0x00
3222  0E99  C3 3E 0D    	jp	l_game_menu_config_00116
3223  0E9C              l_game_menu_config_00119:
3224  0E9C  DD F9       	ld	sp, ix
3225  0E9E  DD E1       	pop	ix
3226  0EA0  C9          	ret
3227  0EA1              	SECTION rodata_compiler
3228  00C5              ___str_25:
3229  00C5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3230  00CF  00          	DEFB 0x00
3231  00D0              	SECTION rodata_compiler
3232  00D0              ___str_26:
3233  00D0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3234  00DA  00          	DEFB 0x00
3235  00DB              	SECTION rodata_compiler
3236  00DB              ___str_27:
3237  00DB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3238  00E5  00          	DEFB 0x00
3239  00E6              	SECTION rodata_compiler
3240  00E6              ___str_28:
3241  00E6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3242  00F0  00          	DEFB 0x00
3243  00F1              	SECTION rodata_compiler
3244  00F1              ___str_29:
3245  00F1  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3246  00FB  00          	DEFB 0x00
3247  00FC              	SECTION rodata_compiler
3248  00FC              ___str_30:
3249  00FC  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3250  0106  00          	DEFB 0x00
3251  0107              	SECTION rodata_compiler
3252  0107              ___str_31:
3253  0107  4F 4E 20    	DEFM "ON "
3254  010A  00          	DEFB 0x00
3255  010B              	SECTION rodata_compiler
3256  010B              ___str_32:
3257  010B  4F 46 46    	DEFM "OFF"
3258  010E  00          	DEFB 0x00
3259  010F              	SECTION rodata_compiler
3260  010F              ___str_33:
3261  010F  41 20 20    	DEFM "A  "
3262  0112  00          	DEFB 0x00
3263  0113              	SECTION rodata_compiler
3264  0113              ___str_34:
3265  0113  42 20 20    	DEFM "B  "
3266  0116  00          	DEFB 0x00
3267  0117              	SECTION rodata_compiler
3268  0117              ___str_35:
3269  0117  52 4E 44    	DEFM "RND"
3270  011A  00          	DEFB 0x00
3271  011B              	SECTION code_compiler
3272  0EA1              ;	---------------------------------
3273  0EA1              ; Function game_joystick_change
3274  0EA1              ; ---------------------------------
3275  0EA1              _game_joystick_change:
3276  0EA1  CD 00 00    	call	___sdcc_enter_ix
3277  0EA4  3B          	dec	sp
3278  0EA5  DD 75 FF    	ld	(ix-1),l
3279  0EA8  26 00       	ld	h,0x00
3280  0EAA  29          	add	hl, hl
3281  0EAB  01 00 00    	ld	bc,_player_joy
3282  0EAE  09          	add	hl,bc
3283  0EAF  4D          	ld	c,l
3284  0EB0  44          	ld	b,h
3285  0EB1  5E          	ld	e,(hl)
3286  0EB2  23          	inc	hl
3287  0EB3  56          	ld	d,(hl)
3288  0EB4  13          	inc	de
3289  0EB5  69          	ld	l, c
3290  0EB6  60          	ld	h, b
3291  0EB7  73          	ld	(hl),e
3292  0EB8  23          	inc	hl
3293  0EB9  72          	ld	(hl),d
3294  0EBA  7B          	ld	a,e
3295  0EBB  D6 07       	sub	a,0x07
3296  0EBD  20 09       	jr	NZ,l_game_joystick_change_00102
3297  0EBF  B2          	or	a,d
3298  0EC0  20 06       	jr	NZ,l_game_joystick_change_00102
3299  0EC2  69          	ld	l, c
3300  0EC3  60          	ld	h, b
3301  0EC4  AF          	xor	a, a
3302  0EC5  77          	ld	(hl), a
3303  0EC6  23          	inc	hl
3304  0EC7  77          	ld	(hl), a
3305  0EC8              l_game_joystick_change_00102:
3306  0EC8  DD 7E FF    	ld	a,(ix-1)
3307  0ECB  B7          	or	a, a
3308  0ECC  20 15       	jr	NZ,l_game_joystick_change_00104
3309  0ECE  69          	ld	l, c
3310  0ECF  60          	ld	h, b
3311  0ED0  5E          	ld	e,(hl)
3312  0ED1  23          	inc	hl
3313  0ED2  56          	ld	d,(hl)
3314  0ED3  1D          	dec	e
3315  0ED4  20 0D       	jr	NZ,l_game_joystick_change_00104
3316  0ED6  7A          	ld	a,d
3317  0ED7  B7          	or	a, a
3318  0ED8  20 09       	jr	NZ,l_game_joystick_change_00104
3319  0EDA  ED 5B 00 00 	ld	de,(_player_joy)
3320  0EDE  13          	inc	de
3321  0EDF  ED 53 00 00 	ld	(_player_joy), de
3322  0EE3              l_game_joystick_change_00104:
3323  0EE3  DD 7E FF    	ld	a,(ix-1)
3324  0EE6  3D          	dec	a
3325  0EE7  20 11       	jr	NZ,l_game_joystick_change_00107
3326  0EE9  69          	ld	l, c
3327  0EEA  60          	ld	h, b
3328  0EEB  4E          	ld	c,(hl)
3329  0EEC  23          	inc	hl
3330  0EED  7E          	ld	a, (hl)
3331  0EEE  B1          	or	a,c
3332  0EEF  20 09       	jr	NZ,l_game_joystick_change_00107
3333  0EF1  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3334  0EF5  03          	inc	bc
3335  0EF6  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3336  0EFA              l_game_joystick_change_00107:
3337  0EFA  ED 4B 00 00 	ld	bc,(_player_joy)
3338  0EFE  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3339  0F02  79          	ld	a,c
3340  0F03  93          	sub	a, e
3341  0F04  20 18       	jr	NZ,l_game_joystick_change_00114
3342  0F06  78          	ld	a,b
3343  0F07  92          	sub	a, d
3344  0F08  20 14       	jr	NZ,l_game_joystick_change_00114
3345  0F0A  DD 7E FF    	ld	a,(ix-1)
3346  0F0D  B7          	or	a, a
3347  0F0E  20 08       	jr	NZ,l_game_joystick_change_00110
3348  0F10  21 01 00    	ld	hl,0x0001
3349  0F13  22 02 00    	ld	(_player_joy + 0x0002),hl
3350  0F16  18 06       	jr	l_game_joystick_change_00114
3351  0F18              l_game_joystick_change_00110:
3352  0F18  21 00 00    	ld	hl,0x0000
3353  0F1B  22 00 00    	ld	(_player_joy), hl
3354  0F1E              l_game_joystick_change_00114:
3355  0F1E  33          	inc	sp
3356  0F1F  DD E1       	pop	ix
3357  0F21  C9          	ret
3358  0F22              	SECTION code_compiler
3359  0F22              ;	---------------------------------
3360  0F22              ; Function game_joystick_set_menu
3361  0F22              ; ---------------------------------
3362  0F22              _game_joystick_set_menu:
3363  0F22  21 00 00    	ld	hl,_in_stick_sinclair1
3364  0F25  22 00 00    	ld	(_joyfunc1),hl
3365  0F28  21 00 00    	ld	hl,_in_stick_sinclair2
3366  0F2B  22 00 00    	ld	(_joyfunc2),hl
3367  0F2E  C9          	ret
3368  0F2F              	SECTION code_compiler
3369  0F2F              ;	---------------------------------
3370  0F2F              ; Function game_joystick_set
3371  0F2F              ; ---------------------------------
3372  0F2F              _game_joystick_set:
3373  0F2F  01 00 00    	ld	bc,_control_method+0
3374  0F32  2A 00 00    	ld	hl,(_player_joy)
3375  0F35  29          	add	hl, hl
3376  0F36  09          	add	hl,bc
3377  0F37  11 00 00    	ld	de,_joyfunc1
3378  0F3A  ED A0       	ldi
3379  0F3C  03          	inc	bc
3380  0F3D  7E          	ld	a,(hl)
3381  0F3E  12          	ld	(de),a
3382  0F3F  2A 02 00    	ld	hl, (_player_joy + 2)
3383  0F42  29          	add	hl, hl
3384  0F43  09          	add	hl,bc
3385  0F44  11 00 00    	ld	de,_joyfunc2
3386  0F47  ED A0       	ldi
3387  0F49  7E          	ld	a,(hl)
3388  0F4A  12          	ld	(de),a
3389  0F4B  C9          	ret
3390  0F4C              	SECTION code_compiler
3391  0F4C              ;	---------------------------------
3392  0F4C              ; Function game_menu
3393  0F4C              ; ---------------------------------
3394  0F4C              _game_menu:
3395  0F4C  21 00 00    	ld	hl,_game_menu_sel
3396  0F4F  36 00       	ld	(hl),0x00
3397  0F51  CD B3 0F    	call	_game_menu_top_paint
3398  0F54  CD 27 10    	call	_game_menu_paint
3399  0F57  CD 00 00    	call	_ay_reset
3400  0F5A  21 00 00    	ld	hl,_pb_midi_title
3401  0F5D  CD 00 00    	call	_ay_midi_play
3402  0F60              l_game_menu_00101:
3403  0F60  21 00 00    	ld	hl,_k1
3404  0F63  E5          	push	hl
3405  0F64  2A 00 00    	ld	hl,(_joyfunc1)
3406  0F67  CD 00 00    	call	___sdcc_call_hl
3407  0F6A  F1          	pop	af
3408  0F6B  7C          	ld	a,h
3409  0F6C  B5          	or	a,l
3410  0F6D  20 F1       	jr	NZ,l_game_menu_00101
3411  0F6F  21 E8 03    	ld	hl,0x03e8
3412  0F72  E5          	push	hl
3413  0F73  21 0E 12    	ld	hl,0x120e
3414  0F76  E5          	push	hl
3415  0F77  21 0C 02    	ld	hl,0x020c
3416  0F7A  E5          	push	hl
3417  0F7B  CD 55 11    	call	_game_menu_handle
3418  0F7E  F1          	pop	af
3419  0F7F  F1          	pop	af
3420  0F80  F1          	pop	af
3421  0F81  4D          	ld	c,l
3422  0F82  21 00 00    	ld	hl,_tmp_uc
3423  0F85  71          	ld	(hl),c
3424  0F86  3E 02       	ld	a,0x02
3425  0F88  96          	sub	a, (hl)
3426  0F89  38 D5       	jr	C,l_game_menu_00101
3427  0F8B  5E          	ld	e,(hl)
3428  0F8C  16 00       	ld	d,0x00
3429  0F8E  21 94 0F    	ld	hl,l_game_menu_00125
3430  0F91  19          	add	hl,de
3431  0F92  19          	add	hl,de
3432  0F93  E9          	jp	(hl)
3433  0F94              l_game_menu_00125:
3434  0F94  18 04       	jr	l_game_menu_00104
3435  0F96  18 0C       	jr	l_game_menu_00105
3436  0F98  18 14       	jr	l_game_menu_00106
3437  0F9A              l_game_menu_00104:
3438  0F9A  21 00 00    	ld	hl,_game_two_player
3439  0F9D  36 00       	ld	(hl),0x00
3440  0F9F  CD 5A 03    	call	_game_loop
3441  0FA2  18 BC       	jr	l_game_menu_00101
3442  0FA4              l_game_menu_00105:
3443  0FA4  21 00 00    	ld	hl,_game_two_player
3444  0FA7  36 01       	ld	(hl),0x01
3445  0FA9  CD 5A 03    	call	_game_loop
3446  0FAC  18 B2       	jr	l_game_menu_00101
3447  0FAE              l_game_menu_00106:
3448  0FAE  CD 30 0D    	call	_game_menu_config
3449  0FB1  18 AD       	jr	l_game_menu_00101
3450  0FB3              	SECTION code_compiler
3451  0FB3              ;	---------------------------------
3452  0FB3              ; Function game_menu_top_paint
3453  0FB3              ; ---------------------------------
3454  0FB3              _game_menu_top_paint:
3455  0FB3  CD 00 00    	call	_spr_draw_clear
3456  0FB6  2E 00       	ld	l,0x00
3457  0FB8  CD BE 0C    	call	_game_paint_attrib
3458  0FBB  21 9C 01    	ld	hl,0x019c
3459  0FBE  E5          	push	hl
3460  0FBF  21 00 1E    	ld	hl,0x1e00
3461  0FC2  E5          	push	hl
3462  0FC3  3E 10       	ld	a,0x10
3463  0FC5  F5          	push	af
3464  0FC6  33          	inc	sp
3465  0FC7  CD A2 10    	call	_game_menu_e
3466  0FCA  F1          	pop	af
3467  0FCB  33          	inc	sp
3468  0FCC  21 9F FF    	ld	hl,0xff9f
3469  0FCF  E3          	ex	(sp),hl
3470  0FD0  21 00 1E    	ld	hl,0x1e00
3471  0FD3  E5          	push	hl
3472  0FD4  3E 50       	ld	a,0x50
3473  0FD6  F5          	push	af
3474  0FD7  33          	inc	sp
3475  0FD8  CD A2 10    	call	_game_menu_e
3476  0FDB  F1          	pop	af
3477  0FDC  F1          	pop	af
3478  0FDD  33          	inc	sp
3479  0FDE  21 00 00    	ld	hl,_tmp
3480  0FE1  36 18       	ld	(hl),0x18
3481  0FE3  F3          	di
3482  0FE4  21 00 00    	ld	hl,_tmp_uc
3483  0FE7  36 00       	ld	(hl),0x00
3484  0FE9              l_game_menu_top_paint_00102:
3485  0FE9  3A 00 00    	ld	a,(_tmp_uc)
3486  0FEC  87          	add	a, a
3487  0FED  C6 05       	add	a,0x05
3488  0FEF  47          	ld	b,a
3489  0FF0  3A 00 00    	ld	a,(_tmp)
3490  0FF3  C6 10       	add	a,0x10
3491  0FF5  57          	ld	d,a
3492  0FF6  3A 00 00    	ld	a,(_tmp_uc)
3493  0FF9  C6 C0       	add	a,0xc0
3494  0FFB  4A          	ld	c, d
3495  0FFC  C5          	push	bc
3496  0FFD  F5          	push	af
3497  0FFE  33          	inc	sp
3498  0FFF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3499  1002  3A 00 00    	ld	a,(_tmp_uc)
3500  1005  87          	add	a, a
3501  1006  C6 05       	add	a,0x05
3502  1008  47          	ld	b,a
3503  1009  3A 00 00    	ld	a,(_tmp)
3504  100C  C6 20       	add	a,0x20
3505  100E  57          	ld	d,a
3506  100F  3A 00 00    	ld	a,(_tmp_uc)
3507  1012  C6 CC       	add	a,0xcc
3508  1014  4A          	ld	c, d
3509  1015  C5          	push	bc
3510  1016  F5          	push	af
3511  1017  33          	inc	sp
3512  1018  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3513  101B  21 00 00    	ld	hl,_tmp_uc
3514  101E  7E          	ld	a,(hl)
3515  101F  3C          	inc	a
3516  1020  77          	ld	(hl),a
3517  1021  D6 0A       	sub	a,0x0a
3518  1023  38 C4       	jr	C,l_game_menu_top_paint_00102
3519  1025  FB          	ei
3520  1026  C9          	ret
3521  1027              	SECTION code_compiler
3522  1027              ;	---------------------------------
3523  1027              ; Function game_menu_paint
3524  1027              ; ---------------------------------
3525  1027              _game_menu_paint:
3526  1027  76          	halt
3527  1028  3A 00 00    	ld	a,(_tmp)
3528  102B  C6 28       	add	a,0x28
3529  102D  4F          	ld	c, a
3530  102E  06 1A       	ld	b,0x1a
3531  1030  C5          	push	bc
3532  1031  3E 12       	ld	a,0x12
3533  1033  F5          	push	af
3534  1034  33          	inc	sp
3535  1035  CD 00 00    	call	_NIRVANAP_fillC_callee
3536  1038  21 00 20    	ld	hl,0x2000
3537  103B  E5          	push	hl
3538  103C  CD 00 00    	call	_game_fill_row
3539  103F  21 00 20    	ld	hl,0x2000
3540  1042  E5          	push	hl
3541  1043  CD 00 00    	call	_game_fill_row
3542  1046  21 1B 01    	ld	hl,___str_36
3543  1049  E5          	push	hl
3544  104A  21 0E 0A    	ld	hl,0x0a0e
3545  104D  E5          	push	hl
3546  104E  CD 00 00    	call	_zx_print_str
3547  1051  21 0F 20    	ld	hl,0x200f
3548  1054  E5          	push	hl
3549  1055  CD 00 00    	call	_game_fill_row
3550  1058  21 29 01    	ld	hl,___str_37
3551  105B  E5          	push	hl
3552  105C  21 10 0A    	ld	hl,0x0a10
3553  105F  E5          	push	hl
3554  1060  CD 00 00    	call	_zx_print_str
3555  1063  21 11 20    	ld	hl,0x2011
3556  1066  E5          	push	hl
3557  1067  CD 00 00    	call	_game_fill_row
3558  106A  21 37 01    	ld	hl,___str_38
3559  106D  E5          	push	hl
3560  106E  21 12 0A    	ld	hl,0x0a12
3561  1071  E5          	push	hl
3562  1072  CD 00 00    	call	_zx_print_str
3563  1075  21 13 20    	ld	hl,0x2013
3564  1078  E5          	push	hl
3565  1079  CD 00 00    	call	_game_fill_row
3566  107C  21 00 00    	ld	hl,_screen_ink
3567  107F  36 01       	ld	(hl),0x01
3568  1081  21 45 01    	ld	hl,___str_39
3569  1084  E5          	push	hl
3570  1085  21 16 07    	ld	hl,0x0716
3571  1088  E5          	push	hl
3572  1089  CD 00 00    	call	_zx_print_str
3573  108C  21 58 01    	ld	hl,___str_40
3574  108F  E5          	push	hl
3575  1090  21 17 07    	ld	hl,0x0717
3576  1093  E5          	push	hl
3577  1094  CD 00 00    	call	_zx_print_str
3578  1097  21 00 00    	ld	hl,_tmp_uc
3579  109A  36 00       	ld	(hl),0x00
3580  109C  2E 0B       	ld	l,0x0b
3581  109E  CD BE 0C    	call	_game_paint_attrib
3582  10A1  C9          	ret
3583  10A2              	SECTION rodata_compiler
3584  011B              ___str_36:
3585  011B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3586  0128  00          	DEFB 0x00
3587  0129              	SECTION rodata_compiler
3588  0129              ___str_37:
3589  0129  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3590  0136  00          	DEFB 0x00
3591  0137              	SECTION rodata_compiler
3592  0137              ___str_38:
3593  0137  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3594  0144  00          	DEFB 0x00
3595  0145              	SECTION rodata_compiler
3596  0145              ___str_39:
3597  0145  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3598  0157  00          	DEFB 0x00
3599  0158              	SECTION rodata_compiler
3600  0158              ___str_40:
3601  0158  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3602  0169  00          	DEFB 0x00
3603  016A              	SECTION code_compiler
3604  10A2              ;	---------------------------------
3605  10A2              ; Function game_menu_e
3606  10A2              ; ---------------------------------
3607  10A2              _game_menu_e:
3608  10A2  CD 00 00    	call	___sdcc_enter_ix
3609  10A5  F3          	di
3610  10A6  DD 4E 05    	ld	c,(ix+5)
3611  10A9  21 00 00    	ld	hl,_tmp_uc
3612  10AC  71          	ld	(hl),c
3613  10AD  DD 46 07    	ld	b,(ix+7)
3614  10B0  04          	inc	b
3615  10B1  DD 56 07    	ld	d,(ix+7)
3616  10B4  14          	inc	d
3617  10B5  14          	inc	d
3618  10B6              l_game_menu_e_00114:
3619  10B6  DD 7E 06    	ld	a,(ix+6)
3620  10B9  21 00 00    	ld	hl,_tmp_uc
3621  10BC  96          	sub	a, (hl)
3622  10BD  38 56       	jr	C,l_game_menu_e_00109
3623  10BF  7E          	ld	a,(hl)
3624  10C0  91          	sub	a, c
3625  10C1  20 15       	jr	NZ,l_game_menu_e_00102
3626  10C3  3A 00 00    	ld	a,(_tmp_uc)
3627  10C6  C5          	push	bc
3628  10C7  D5          	push	de
3629  10C8  F5          	push	af
3630  10C9  33          	inc	sp
3631  10CA  DD 66 04    	ld	h,(ix+4)
3632  10CD  DD 6E 07    	ld	l,(ix+7)
3633  10D0  E5          	push	hl
3634  10D1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3635  10D4  D1          	pop	de
3636  10D5  C1          	pop	bc
3637  10D6  18 36       	jr	l_game_menu_e_00108
3638  10D8              l_game_menu_e_00102:
3639  10D8  3A 00 00    	ld	a,(_tmp_uc)
3640  10DB  DD 96 06    	sub	a,(ix+6)
3641  10DE  20 14       	jr	NZ,l_game_menu_e_00104
3642  10E0  3A 00 00    	ld	a,(_tmp_uc)
3643  10E3  C5          	push	bc
3644  10E4  D5          	push	de
3645  10E5  F5          	push	af
3646  10E6  33          	inc	sp
3647  10E7  DD 7E 04    	ld	a,(ix+4)
3648  10EA  5A          	ld	e,d
3649  10EB  57          	ld	d,a
3650  10EC  D5          	push	de
3651  10ED  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3652  10F0  D1          	pop	de
3653  10F1  C1          	pop	bc
3654  10F2  18 1A       	jr	l_game_menu_e_00108
3655  10F4              l_game_menu_e_00104:
3656  10F4  3A 00 00    	ld	a,(_tmp_uc)
3657  10F7  FE 0E       	cp	a,0x0e
3658  10F9  28 13       	jr	Z,l_game_menu_e_00108
3659  10FB  FE 10       	cp	a,0x10
3660  10FD  28 0F       	jr	Z,l_game_menu_e_00108
3661  10FF  C5          	push	bc
3662  1100  D5          	push	de
3663  1101  F5          	push	af
3664  1102  33          	inc	sp
3665  1103  DD 7E 04    	ld	a,(ix+4)
3666  1106  48          	ld	c,b
3667  1107  47          	ld	b,a
3668  1108  C5          	push	bc
3669  1109  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3670  110C  D1          	pop	de
3671  110D  C1          	pop	bc
3672  110E              l_game_menu_e_00108:
3673  110E  21 00 00    	ld	hl,_tmp_uc
3674  1111  34          	inc	(hl)
3675  1112  34          	inc	(hl)
3676  1113  18 A1       	jr	l_game_menu_e_00114
3677  1115              l_game_menu_e_00109:
3678  1115  DD 7E 08    	ld	a,(ix+8)
3679  1118  3C          	inc	a
3680  1119  20 0A       	jr	NZ,l_game_menu_e_00111
3681  111B  DD 7E 04    	ld	a,(ix+4)
3682  111E  C6 F0       	add	a,0xf0
3683  1120  DD 77 04    	ld	(ix+4),a
3684  1123  18 08       	jr	l_game_menu_e_00112
3685  1125              l_game_menu_e_00111:
3686  1125  DD 7E 04    	ld	a,(ix+4)
3687  1128  C6 10       	add	a,0x10
3688  112A  DD 77 04    	ld	(ix+4),a
3689  112D              l_game_menu_e_00112:
3690  112D  DD 7E 07    	ld	a,(ix+7)
3691  1130  C6 0C       	add	a,0x0c
3692  1132  47          	ld	b,a
3693  1133  79          	ld	a,c
3694  1134  F5          	push	af
3695  1135  33          	inc	sp
3696  1136  DD 7E 04    	ld	a,(ix+4)
3697  1139  48          	ld	c,b
3698  113A  47          	ld	b,a
3699  113B  C5          	push	bc
3700  113C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3701  113F  DD 7E 07    	ld	a,(ix+7)
3702  1142  C6 0E       	add	a,0x0e
3703  1144  47          	ld	b,a
3704  1145  DD 66 06    	ld	h,(ix+6)
3705  1148  DD 6E 04    	ld	l,(ix+4)
3706  114B  E5          	push	hl
3707  114C  C5          	push	bc
3708  114D  33          	inc	sp
3709  114E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3710  1151  FB          	ei
3711  1152  DD E1       	pop	ix
3712  1154  C9          	ret
3713  1155              	SECTION code_compiler
3714  1155              ;	---------------------------------
3715  1155              ; Function game_menu_handle
3716  1155              ; ---------------------------------
3717  1155              _game_menu_handle:
3718  1155  CD 00 00    	call	___sdcc_enter_ix
3719  1158  3B          	dec	sp
3720  1159  2A 00 00    	ld	hl,(_curr_time)
3721  115C  22 00 00    	ld	(_entry_time),hl
3722  115F  DD 5E 05    	ld	e,(ix+5)
3723  1162  21 00 00    	ld	hl,_game_menu_sel
3724  1165  66          	ld	h,(hl)
3725  1166  2E 00       	ld	l,0x00
3726  1168  55          	ld	d, l
3727  1169  06 08       	ld	b,0x08
3728  116B              l_game_menu_handle_00148:
3729  116B  29          	add	hl,hl
3730  116C  30 01       	jr	NC,l_game_menu_handle_00149
3731  116E  19          	add	hl,de
3732  116F              l_game_menu_handle_00149:
3733  116F  10 FA       	djnz	l_game_menu_handle_00148
3734  1171  DD 7E 06    	ld	a,(ix+6)
3735  1174  85          	add	a,l
3736  1175  32 00 00    	ld	(_s_lin1),a
3737  1178  DD 7E 06    	ld	a,(ix+6)
3738  117B  DD 77 FF    	ld	(ix-1),a
3739  117E              l_game_menu_handle_00111:
3740  117E  21 00 00    	ld	hl,_k1
3741  1181  E5          	push	hl
3742  1182  2A 00 00    	ld	hl,(_joyfunc1)
3743  1185  CD 00 00    	call	___sdcc_call_hl
3744  1188  F1          	pop	af
3745  1189  7D          	ld	a,l
3746  118A  32 00 00    	ld	(_dirs),a
3747  118D  D6 80       	sub	a,0x80
3748  118F  CA 31 12    	jp	Z,l_game_menu_handle_00113
3749  1192  21 05 00    	ld	hl,0x0005
3750  1195  E5          	push	hl
3751  1196  2A 00 00    	ld	hl,(_frame_time)
3752  1199  E5          	push	hl
3753  119A  CD 38 1A    	call	_game_check_time
3754  119D  F1          	pop	af
3755  119E  F1          	pop	af
3756  119F  7D          	ld	a,l
3757  11A0  B7          	or	a, a
3758  11A1  28 58       	jr	Z,l_game_menu_handle_00106
3759  11A3  3A 00 00    	ld	a,(_dirs)
3760  11A6  B7          	or	a, a
3761  11A7  28 32       	jr	Z,l_game_menu_handle_00104
3762  11A9  21 00 00    	ld	hl,_ay_effect_03
3763  11AC  CD 00 00    	call	_ay_fx_play
3764  11AF  CD 00 00    	call	_sound_slide
3765  11B2  3A 00 00    	ld	a,(_s_lin1)
3766  11B5  07          	rlca
3767  11B6  07          	rlca
3768  11B7  07          	rlca
3769  11B8  E6 F8       	and	a,0xf8
3770  11BA  C6 08       	add	a,0x08
3771  11BC  F5          	push	af
3772  11BD  33          	inc	sp
3773  11BE  26 14       	ld	h,0x14
3774  11C0  DD 6E 04    	ld	l,(ix+4)
3775  11C3  E5          	push	hl
3776  11C4  CD E2 0C    	call	_game_paint_attrib_lin
3777  11C7  F1          	pop	af
3778  11C8  33          	inc	sp
3779  11C9  21 00 00    	ld	hl,_s_lin1
3780  11CC  7E          	ld	a,(hl)
3781  11CD  DD 86 05    	add	a,(ix+5)
3782  11D0  77          	ld	(hl),a
3783  11D1  DD 7E 07    	ld	a,(ix+7)
3784  11D4  96          	sub	a, (hl)
3785  11D5  30 04       	jr	NC,l_game_menu_handle_00104
3786  11D7  DD 7E FF    	ld	a,(ix-1)
3787  11DA  77          	ld	(hl),a
3788  11DB              l_game_menu_handle_00104:
3789  11DB  2A 00 00    	ld	hl,(_curr_time)
3790  11DE  22 00 00    	ld	(_frame_time),hl
3791  11E1  3A 00 00    	ld	a,(_s_lin1)
3792  11E4  07          	rlca
3793  11E5  07          	rlca
3794  11E6  07          	rlca
3795  11E7  E6 F8       	and	a,0xf8
3796  11E9  C6 08       	add	a,0x08
3797  11EB  F5          	push	af
3798  11EC  33          	inc	sp
3799  11ED  26 14       	ld	h,0x14
3800  11EF  DD 6E 04    	ld	l,(ix+4)
3801  11F2  E5          	push	hl
3802  11F3  CD 09 0D    	call	_game_paint_attrib_lin_h
3803  11F6  F1          	pop	af
3804  11F7  33          	inc	sp
3805  11F8  CD 8A 19    	call	_game_rotate_attrib
3806  11FB              l_game_menu_handle_00106:
3807  11FB  DD 7E 09    	ld	a,(ix+9)
3808  11FE  DD B6 08    	or	a,(ix+8)
3809  1201  CA 7E 11    	jp	Z,l_game_menu_handle_00111
3810  1204  DD 6E 08    	ld	l,(ix+8)
3811  1207  DD 66 09    	ld	h,(ix+9)
3812  120A  E5          	push	hl
3813  120B  2A 00 00    	ld	hl,(_entry_time)
3814  120E  E5          	push	hl
3815  120F  CD 38 1A    	call	_game_check_time
3816  1212  F1          	pop	af
3817  1213  F1          	pop	af
3818  1214  7D          	ld	a,l
3819  1215  B7          	or	a, a
3820  1216  CA 7E 11    	jp	Z,l_game_menu_handle_00111
3821  1219  CD 00 00    	call	_ay_is_playing
3822  121C  7D          	ld	a,l
3823  121D  B7          	or	a, a
3824  121E  C2 7E 11    	jp	NZ,l_game_menu_handle_00111
3825  1221  CD B9 18    	call	_game_hall_of_fame
3826  1224  21 00 00    	ld	hl,_game_menu_sel
3827  1227  2E 00       	ld	l,0x00
3828  1229  75          	ld	(hl),l
3829  122A  CD B8 16    	call	_game_menu_back
3830  122D  2E FF       	ld	l,0xff
3831  122F  18 10       	jr	l_game_menu_handle_00114
3832  1231              l_game_menu_handle_00113:
3833  1231  3A 00 00    	ld	a,(_s_lin1)
3834  1234  DD 96 FF    	sub	a,(ix-1)
3835  1237  47          	ld	b,a
3836  1238  DD 7E 05    	ld	a,(ix+5)
3837  123B  48          	ld	c,b
3838  123C  47          	ld	b,a
3839  123D  C5          	push	bc
3840  123E  CD 00 00    	call	__divuchar_callee
3841  1241              l_game_menu_handle_00114:
3842  1241  33          	inc	sp
3843  1242  DD E1       	pop	ix
3844  1244  C9          	ret
3845  1245              	SECTION code_compiler
3846  1245              ;	---------------------------------
3847  1245              ; Function game_end
3848  1245              ; ---------------------------------
3849  1245              _game_end:
3850  1245  CD 00 00    	call	___sdcc_enter_ix
3851  1248  F5          	push	af
3852  1249  F5          	push	af
3853  124A  CD B9 08    	call	_game_kill_all_sprites
3854  124D  CD 00 00    	call	_spr_draw_clear
3855  1250  21 00 00    	ld	hl,_pb_midi_title
3856  1253  CD 00 00    	call	_ay_midi_play
3857  1256  21 00 00    	ld	hl,_tmp0
3858  1259  36 04       	ld	(hl),0x04
3859  125B              l_game_end_00129:
3860  125B  3A 00 00    	ld	a,(_tmp0)
3861  125E  F5          	push	af
3862  125F  33          	inc	sp
3863  1260  21 8C 50    	ld	hl,0x508c
3864  1263  E5          	push	hl
3865  1264  CD 00 00    	call	_NIRVANAP_drawT_callee
3866  1267  21 00 00    	ld	hl,_tmp0
3867  126A  7E          	ld	a,(hl)
3868  126B  3C          	inc	a
3869  126C  3C          	inc	a
3870  126D  77          	ld	(hl),a
3871  126E  D6 1C       	sub	a,0x1c
3872  1270  38 E9       	jr	C,l_game_end_00129
3873  1272  36 04       	ld	(hl),0x04
3874  1274              l_game_end_00131:
3875  1274  3A 00 00    	ld	a,(_tmp0)
3876  1277  F5          	push	af
3877  1278  33          	inc	sp
3878  1279  21 8C 60    	ld	hl,0x608c
3879  127C  E5          	push	hl
3880  127D  CD 00 00    	call	_NIRVANAP_drawT_callee
3881  1280  21 00 00    	ld	hl,_tmp0
3882  1283  7E          	ld	a,(hl)
3883  1284  3C          	inc	a
3884  1285  3C          	inc	a
3885  1286  77          	ld	(hl),a
3886  1287  D6 1C       	sub	a,0x1c
3887  1289  38 E9       	jr	C,l_game_end_00131
3888  128B  36 04       	ld	(hl),0x04
3889  128D              l_game_end_00133:
3890  128D  3A 00 00    	ld	a,(_tmp0)
3891  1290  F5          	push	af
3892  1291  33          	inc	sp
3893  1292  21 8C 70    	ld	hl,0x708c
3894  1295  E5          	push	hl
3895  1296  CD 00 00    	call	_NIRVANAP_drawT_callee
3896  1299  21 00 00    	ld	hl,_tmp0
3897  129C  7E          	ld	a,(hl)
3898  129D  3C          	inc	a
3899  129E  3C          	inc	a
3900  129F  77          	ld	(hl),a
3901  12A0  D6 1C       	sub	a,0x1c
3902  12A2  38 E9       	jr	C,l_game_end_00133
3903  12A4  21 50 18    	ld	hl,0x1850
3904  12A7  E5          	push	hl
3905  12A8  3E D6       	ld	a,0xd6
3906  12AA  F5          	push	af
3907  12AB  33          	inc	sp
3908  12AC  CD 00 00    	call	_NIRVANAP_drawT_callee
3909  12AF  21 9C 01    	ld	hl,0x019c
3910  12B2  E5          	push	hl
3911  12B3  21 01 1D    	ld	hl,0x1d01
3912  12B6  E5          	push	hl
3913  12B7  3E 20       	ld	a,0x20
3914  12B9  F5          	push	af
3915  12BA  33          	inc	sp
3916  12BB  CD A2 10    	call	_game_menu_e
3917  12BE  F1          	pop	af
3918  12BF  33          	inc	sp
3919  12C0  21 9F FF    	ld	hl,0xff9f
3920  12C3  E3          	ex	(sp),hl
3921  12C4  21 01 1D    	ld	hl,0x1d01
3922  12C7  E5          	push	hl
3923  12C8  3E 80       	ld	a,0x80
3924  12CA  F5          	push	af
3925  12CB  33          	inc	sp
3926  12CC  CD A2 10    	call	_game_menu_e
3927  12CF  F1          	pop	af
3928  12D0  F1          	pop	af
3929  12D1  33          	inc	sp
3930  12D2  3E 00       	ld	a,0x00
3931  12D4  DD 77 FD    	ld	(ix-3),a
3932  12D7  DD 77 FC    	ld	(ix-4),a
3933  12DA  3A 00 00    	ld	a,(_game_two_player)
3934  12DD  B7          	or	a, a
3935  12DE  28 16       	jr	Z,l_game_end_00109
3936  12E0  3A 00 00    	ld	a,(_game_lives)
3937  12E3  B7          	or	a, a
3938  12E4  28 04       	jr	Z,l_game_end_00105
3939  12E6  DD 36 FD 01 	ld	(ix-3),0x01
3940  12EA              l_game_end_00105:
3941  12EA  3A 01 00    	ld	a, (_game_lives + 1)
3942  12ED  B7          	or	a, a
3943  12EE  28 0A       	jr	Z,l_game_end_00110
3944  12F0  DD 36 FC 01 	ld	(ix-4),0x01
3945  12F4  18 04       	jr	l_game_end_00110
3946  12F6              l_game_end_00109:
3947  12F6  DD 36 FD 01 	ld	(ix-3),0x01
3948  12FA              l_game_end_00110:
3949  12FA  DD 7E FD    	ld	a,(ix-3)
3950  12FD  3D          	dec	a
3951  12FE  20 04       	jr	NZ,l_game_end_00221
3952  1300  3E 01       	ld	a,0x01
3953  1302  18 01       	jr	l_game_end_00222
3954  1304              l_game_end_00221:
3955  1304  AF          	xor	a,a
3956  1305              l_game_end_00222:
3957  1305  DD 77 FF    	ld	(ix-1),a
3958  1308  B7          	or	a, a
3959  1309  28 1C       	jr	Z,l_game_end_00112
3960  130B  DD 7E FC    	ld	a,(ix-4)
3961  130E  B7          	or	a, a
3962  130F  20 16       	jr	NZ,l_game_end_00112
3963  1311  21 6A 01    	ld	hl,___str_41
3964  1314  E5          	push	hl
3965  1315  21 13 01    	ld	hl,0x0113
3966  1318  E5          	push	hl
3967  1319  CD 00 00    	call	_zx_print_str
3968  131C  21 50 0C    	ld	hl,0x0c50
3969  131F  E5          	push	hl
3970  1320  3E 03       	ld	a,0x03
3971  1322  F5          	push	af
3972  1323  33          	inc	sp
3973  1324  CD 00 00    	call	_NIRVANAP_drawT_callee
3974  1327              l_game_end_00112:
3975  1327  DD 7E FC    	ld	a,(ix-4)
3976  132A  3D          	dec	a
3977  132B  20 04       	jr	NZ,l_game_end_00223
3978  132D  3E 01       	ld	a,0x01
3979  132F  18 01       	jr	l_game_end_00224
3980  1331              l_game_end_00223:
3981  1331  AF          	xor	a,a
3982  1332              l_game_end_00224:
3983  1332  DD 77 FE    	ld	(ix-2),a
3984  1335  DD 7E FD    	ld	a,(ix-3)
3985  1338  B7          	or	a, a
3986  1339  20 1C       	jr	NZ,l_game_end_00115
3987  133B  DD 7E FE    	ld	a,(ix-2)
3988  133E  B7          	or	a, a
3989  133F  28 16       	jr	Z,l_game_end_00115
3990  1341  21 74 01    	ld	hl,___str_42
3991  1344  E5          	push	hl
3992  1345  21 13 01    	ld	hl,0x0113
3993  1348  E5          	push	hl
3994  1349  CD 00 00    	call	_zx_print_str
3995  134C  21 60 0E    	ld	hl,0x0e60
3996  134F  E5          	push	hl
3997  1350  3E 1B       	ld	a,0x1b
3998  1352  F5          	push	af
3999  1353  33          	inc	sp
4000  1354  CD 00 00    	call	_NIRVANAP_drawT_callee
4001  1357              l_game_end_00115:
4002  1357  DD 7E FF    	ld	a,(ix-1)
4003  135A  B7          	or	a, a
4004  135B  28 27       	jr	Z,l_game_end_00118
4005  135D  DD 7E FE    	ld	a,(ix-2)
4006  1360  B7          	or	a, a
4007  1361  28 21       	jr	Z,l_game_end_00118
4008  1363  21 7D 01    	ld	hl,___str_43
4009  1366  E5          	push	hl
4010  1367  21 13 01    	ld	hl,0x0113
4011  136A  E5          	push	hl
4012  136B  CD 00 00    	call	_zx_print_str
4013  136E  21 50 0C    	ld	hl,0x0c50
4014  1371  E5          	push	hl
4015  1372  3E 03       	ld	a,0x03
4016  1374  F5          	push	af
4017  1375  33          	inc	sp
4018  1376  CD 00 00    	call	_NIRVANAP_drawT_callee
4019  1379  21 60 0E    	ld	hl,0x0e60
4020  137C  E5          	push	hl
4021  137D  3E 1B       	ld	a,0x1b
4022  137F  F5          	push	af
4023  1380  33          	inc	sp
4024  1381  CD 00 00    	call	_NIRVANAP_drawT_callee
4025  1384              l_game_end_00118:
4026  1384  21 C8 00    	ld	hl,0x00c8
4027  1387  E5          	push	hl
4028  1388  21 01 1F    	ld	hl,0x1f01
4029  138B  E5          	push	hl
4030  138C  3E 13       	ld	a,0x13
4031  138E  F5          	push	af
4032  138F  33          	inc	sp
4033  1390  CD A6 19    	call	_game_colour_message
4034  1393  F1          	pop	af
4035  1394  F1          	pop	af
4036  1395  33          	inc	sp
4037  1396  DD 7E FF    	ld	a,(ix-1)
4038  1399  B7          	or	a, a
4039  139A  28 32       	jr	Z,l_game_end_00121
4040  139C  DD 7E FC    	ld	a,(ix-4)
4041  139F  B7          	or	a, a
4042  13A0  20 2C       	jr	NZ,l_game_end_00121
4043  13A2  21 40 12    	ld	hl,0x1240
4044  13A5  E5          	push	hl
4045  13A6  3E BE       	ld	a,0xbe
4046  13A8  F5          	push	af
4047  13A9  33          	inc	sp
4048  13AA  CD 00 00    	call	_NIRVANAP_drawT_callee
4049  13AD  21 50 12    	ld	hl,0x1250
4050  13B0  E5          	push	hl
4051  13B1  3E CA       	ld	a,0xca
4052  13B3  F5          	push	af
4053  13B4  33          	inc	sp
4054  13B5  CD 00 00    	call	_NIRVANAP_drawT_callee
4055  13B8  21 91 01    	ld	hl,___str_44
4056  13BB  E5          	push	hl
4057  13BC  21 13 01    	ld	hl,0x0113
4058  13BF  E5          	push	hl
4059  13C0  CD 00 00    	call	_zx_print_str
4060  13C3  21 40 0C    	ld	hl,0x0c40
4061  13C6  E5          	push	hl
4062  13C7  3E BE       	ld	a,0xbe
4063  13C9  F5          	push	af
4064  13CA  33          	inc	sp
4065  13CB  CD 00 00    	call	_NIRVANAP_drawT_callee
4066  13CE              l_game_end_00121:
4067  13CE  DD 7E FD    	ld	a,(ix-3)
4068  13D1  B7          	or	a, a
4069  13D2  20 32       	jr	NZ,l_game_end_00124
4070  13D4  DD 7E FE    	ld	a,(ix-2)
4071  13D7  B7          	or	a, a
4072  13D8  28 2C       	jr	Z,l_game_end_00124
4073  13DA  21 50 12    	ld	hl,0x1250
4074  13DD  E5          	push	hl
4075  13DE  3E BE       	ld	a,0xbe
4076  13E0  F5          	push	af
4077  13E1  33          	inc	sp
4078  13E2  CD 00 00    	call	_NIRVANAP_drawT_callee
4079  13E5  21 60 12    	ld	hl,0x1260
4080  13E8  E5          	push	hl
4081  13E9  3E CA       	ld	a,0xca
4082  13EB  F5          	push	af
4083  13EC  33          	inc	sp
4084  13ED  CD 00 00    	call	_NIRVANAP_drawT_callee
4085  13F0  21 91 01    	ld	hl,___str_44
4086  13F3  E5          	push	hl
4087  13F4  21 13 01    	ld	hl,0x0113
4088  13F7  E5          	push	hl
4089  13F8  CD 00 00    	call	_zx_print_str
4090  13FB  21 50 0E    	ld	hl,0x0e50
4091  13FE  E5          	push	hl
4092  13FF  3E BE       	ld	a,0xbe
4093  1401  F5          	push	af
4094  1402  33          	inc	sp
4095  1403  CD 00 00    	call	_NIRVANAP_drawT_callee
4096  1406              l_game_end_00124:
4097  1406  DD 7E FF    	ld	a,(ix-1)
4098  1409  B7          	or	a, a
4099  140A  28 53       	jr	Z,l_game_end_00127
4100  140C  DD 7E FE    	ld	a,(ix-2)
4101  140F  B7          	or	a, a
4102  1410  28 4D       	jr	Z,l_game_end_00127
4103  1412  21 A5 01    	ld	hl,___str_45
4104  1415  E5          	push	hl
4105  1416  21 13 01    	ld	hl,0x0113
4106  1419  E5          	push	hl
4107  141A  CD 00 00    	call	_zx_print_str
4108  141D  21 40 12    	ld	hl,0x1240
4109  1420  E5          	push	hl
4110  1421  3E BE       	ld	a,0xbe
4111  1423  F5          	push	af
4112  1424  33          	inc	sp
4113  1425  CD 00 00    	call	_NIRVANAP_drawT_callee
4114  1428  21 50 12    	ld	hl,0x1250
4115  142B  E5          	push	hl
4116  142C  3E CA       	ld	a,0xca
4117  142E  F5          	push	af
4118  142F  33          	inc	sp
4119  1430  CD 00 00    	call	_NIRVANAP_drawT_callee
4120  1433  21 50 10    	ld	hl,0x1050
4121  1436  E5          	push	hl
4122  1437  3E BE       	ld	a,0xbe
4123  1439  F5          	push	af
4124  143A  33          	inc	sp
4125  143B  CD 00 00    	call	_NIRVANAP_drawT_callee
4126  143E  21 60 10    	ld	hl,0x1060
4127  1441  E5          	push	hl
4128  1442  3E CA       	ld	a,0xca
4129  1444  F5          	push	af
4130  1445  33          	inc	sp
4131  1446  CD 00 00    	call	_NIRVANAP_drawT_callee
4132  1449  21 40 0C    	ld	hl,0x0c40
4133  144C  E5          	push	hl
4134  144D  3E BE       	ld	a,0xbe
4135  144F  F5          	push	af
4136  1450  33          	inc	sp
4137  1451  CD 00 00    	call	_NIRVANAP_drawT_callee
4138  1454  21 50 0E    	ld	hl,0x0e50
4139  1457  E5          	push	hl
4140  1458  3E BE       	ld	a,0xbe
4141  145A  F5          	push	af
4142  145B  33          	inc	sp
4143  145C  CD 00 00    	call	_NIRVANAP_drawT_callee
4144  145F              l_game_end_00127:
4145  145F  21 C8 00    	ld	hl,0x00c8
4146  1462  E5          	push	hl
4147  1463  21 01 1F    	ld	hl,0x1f01
4148  1466  E5          	push	hl
4149  1467  3E 13       	ld	a,0x13
4150  1469  F5          	push	af
4151  146A  33          	inc	sp
4152  146B  CD A6 19    	call	_game_colour_message
4153  146E  F1          	pop	af
4154  146F  33          	inc	sp
4155  1470  21 BB 01    	ld	hl,___str_46
4156  1473  E3          	ex	(sp),hl
4157  1474  21 13 01    	ld	hl,0x0113
4158  1477  E5          	push	hl
4159  1478  CD 00 00    	call	_zx_print_str
4160  147B  21 C8 00    	ld	hl,0x00c8
4161  147E  E5          	push	hl
4162  147F  21 01 1F    	ld	hl,0x1f01
4163  1482  E5          	push	hl
4164  1483  3E 13       	ld	a,0x13
4165  1485  F5          	push	af
4166  1486  33          	inc	sp
4167  1487  CD A6 19    	call	_game_colour_message
4168  148A  F1          	pop	af
4169  148B  33          	inc	sp
4170  148C  21 D2 01    	ld	hl,___str_47
4171  148F  E3          	ex	(sp),hl
4172  1490  21 13 01    	ld	hl,0x0113
4173  1493  E5          	push	hl
4174  1494  CD 00 00    	call	_zx_print_str
4175  1497  21 C8 00    	ld	hl,0x00c8
4176  149A  E5          	push	hl
4177  149B  21 01 1F    	ld	hl,0x1f01
4178  149E  E5          	push	hl
4179  149F  3E 13       	ld	a,0x13
4180  14A1  F5          	push	af
4181  14A2  33          	inc	sp
4182  14A3  CD A6 19    	call	_game_colour_message
4183  14A6  F1          	pop	af
4184  14A7  F1          	pop	af
4185  14A8  33          	inc	sp
4186  14A9  CD 00 00    	call	_spr_draw_clear
4187  14AC  DD F9       	ld	sp, ix
4188  14AE  DD E1       	pop	ix
4189  14B0  C9          	ret
4190  14B1              	SECTION rodata_compiler
4191  016A              ___str_41:
4192  016A  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4193  0173  00          	DEFB 0x00
4194  0174              	SECTION rodata_compiler
4195  0174              ___str_42:
4196  0174  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4197  017C  00          	DEFB 0x00
4198  017D              	SECTION rodata_compiler
4199  017D              ___str_43:
4200  017D  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4201  0190  00          	DEFB 0x00
4202  0191              	SECTION rodata_compiler
4203  0191              ___str_44:
4204  0191  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4205  01A4  00          	DEFB 0x00
4206  01A5              	SECTION rodata_compiler
4207  01A5              ___str_45:
4208  01A5  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4209  01BA  00          	DEFB 0x00
4210  01BB              	SECTION rodata_compiler
4211  01BB              ___str_46:
4212  01BB  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4213  01D1  00          	DEFB 0x00
4214  01D2              	SECTION rodata_compiler
4215  01D2              ___str_47:
4216  01D2  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4217  01E8  00          	DEFB 0x00
4218  01E9              	SECTION code_compiler
4219  14B1              ;	---------------------------------
4220  14B1              ; Function game_hall_check
4221  14B1              ; ---------------------------------
4222  14B1              _game_hall_check:
4223  14B1  5D          	ld	e,l
4224  14B2  01 00 00    	ld	bc,_player_score+0
4225  14B5  26 00       	ld	h,0x00
4226  14B7  6B          	ld	l, e
4227  14B8  29          	add	hl, hl
4228  14B9  09          	add	hl,bc
4229  14BA  4E          	ld	c,(hl)
4230  14BB  23          	inc	hl
4231  14BC  46          	ld	b,(hl)
4232  14BD  2A 3A 00    	ld	hl,(_hof + 0x003a)
4233  14C0  AF          	xor	a,a
4234  14C1  ED 42       	sbc	hl,bc
4235  14C3  30 09       	jr	NC,l_game_hall_check_00104
4236  14C5  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4237  14C9  21 36 00    	ld	hl,+(_hof + 0x0036)
4238  14CC  18 14       	jr	l_game_hall_check_00106
4239  14CE              l_game_hall_check_00104:
4240  14CE  2A 34 00    	ld	hl,(_hof + 0x0034)
4241  14D1  AF          	xor	a,a
4242  14D2  ED 42       	sbc	hl,bc
4243  14D4  30 09       	jr	NC,l_game_hall_check_00105
4244  14D6  ED 43 34 00 	ld	(_hof + 0x0034),bc
4245  14DA  21 30 00    	ld	hl,+(_hof + 0x0030)
4246  14DD  18 03       	jr	l_game_hall_check_00106
4247  14DF              l_game_hall_check_00105:
4248  14DF  21 00 00    	ld	hl,0x0000
4249  14E2              l_game_hall_check_00106:
4250  14E2  C9          	ret
4251  14E3              	SECTION code_compiler
4252  14E3              ;	---------------------------------
4253  14E3              ; Function compare_scores
4254  14E3              ; ---------------------------------
4255  14E3              _compare_scores:
4256  14E3  CD 00 00    	call	___sdcc_enter_ix
4257  14E6  DD 6E 06    	ld	l,(ix+6)
4258  14E9  DD 66 07    	ld	h,(ix+7)
4259  14EC  11 04 00    	ld	de,0x0004
4260  14EF  19          	add	hl, de
4261  14F0  4E          	ld	c,(hl)
4262  14F1  23          	inc	hl
4263  14F2  46          	ld	b,(hl)
4264  14F3  DD 6E 04    	ld	l,(ix+4)
4265  14F6  DD 66 05    	ld	h,(ix+5)
4266  14F9  11 04 00    	ld	de,0x0004
4267  14FC  19          	add	hl, de
4268  14FD  7E          	ld	a,(hl)
4269  14FE  23          	inc	hl
4270  14FF  56          	ld	d,(hl)
4271  1500  5F          	ld	e,a
4272  1501  91          	sub	a, c
4273  1502  7A          	ld	a,d
4274  1503  98          	sbc	a, b
4275  1504  30 05       	jr	NC,l_compare_scores_00102
4276  1506  21 01 00    	ld	hl,0x0001
4277  1509  18 10       	jr	l_compare_scores_00105
4278  150B              l_compare_scores_00102:
4279  150B  79          	ld	a,c
4280  150C  93          	sub	a, e
4281  150D  20 09       	jr	NZ,l_compare_scores_00104
4282  150F  78          	ld	a,b
4283  1510  92          	sub	a, d
4284  1511  20 05       	jr	NZ,l_compare_scores_00104
4285  1513  21 00 00    	ld	hl,0x0000
4286  1516  18 03       	jr	l_compare_scores_00105
4287  1518              l_compare_scores_00104:
4288  1518  21 FF FF    	ld	hl,0xffff
4289  151B              l_compare_scores_00105:
4290  151B  DD E1       	pop	ix
4291  151D  C9          	ret
4292  151E              	SECTION code_compiler
4293  151E              ;	---------------------------------
4294  151E              ; Function game_hall_enter
4295  151E              ; ---------------------------------
4296  151E              _game_hall_enter:
4297  151E  CD 00 00    	call	___sdcc_enter_ix
4298  1521  21 F7 FF    	ld	hl,-9
4299  1524  39          	add	hl,sp
4300  1525  F9          	ld	sp,hl
4301  1526  CD 00 00    	call	_spr_draw_clear
4302  1529  2E 00       	ld	l,0x00
4303  152B  CD BE 0C    	call	_game_paint_attrib
4304  152E  ED 4B 00 00 	ld	bc,(_player_score)
4305  1532  2A 02 00    	ld	hl, (_player_score + 2)
4306  1535  AF          	xor	a,a
4307  1536  ED 42       	sbc	hl,bc
4308  1538  30 0F       	jr	NC,l_game_hall_enter_00102
4309  153A  2E 00       	ld	l,0x00
4310  153C  CD B1 14    	call	_game_hall_check
4311  153F  E5          	push	hl
4312  1540  2E 01       	ld	l,0x01
4313  1542  CD B1 14    	call	_game_hall_check
4314  1545  EB          	ex	de,hl
4315  1546  C1          	pop	bc
4316  1547  18 0E       	jr	l_game_hall_enter_00103
4317  1549              l_game_hall_enter_00102:
4318  1549  2E 01       	ld	l,0x01
4319  154B  CD B1 14    	call	_game_hall_check
4320  154E  E5          	push	hl
4321  154F  2E 00       	ld	l,0x00
4322  1551  CD B1 14    	call	_game_hall_check
4323  1554  D1          	pop	de
4324  1555  4D          	ld	c,l
4325  1556  44          	ld	b,h
4326  1557              l_game_hall_enter_00103:
4327  1557  78          	ld	a,b
4328  1558  B1          	or	a,c
4329  1559  20 05       	jr	NZ,l_game_hall_enter_00125
4330  155B  7A          	ld	a,d
4331  155C  B3          	or	a,e
4332  155D  CA AB 16    	jp	Z,l_game_hall_enter_00126
4333  1560              l_game_hall_enter_00125:
4334  1560  3E 00       	ld	a,0x00
4335  1562  DD 77 FB    	ld	(ix-5),a
4336  1565  DD 77 FA    	ld	(ix-6),a
4337  1568  DD 77 F9    	ld	(ix-7),a
4338  156B  DD 77 F8    	ld	(ix-8),a
4339  156E  DD 36 F7 00 	ld	(ix-9),0x00
4340  1572  78          	ld	a,b
4341  1573  B1          	or	a,c
4342  1574  28 0D       	jr	Z,l_game_hall_enter_00105
4343  1576  DD 36 F8 01 	ld	(ix-8),0x01
4344  157A  C5          	push	bc
4345  157B  D5          	push	de
4346  157C  2E 00       	ld	l,0x00
4347  157E  CD CE 16    	call	_game_hall_enter_phs
4348  1581  D1          	pop	de
4349  1582  C1          	pop	bc
4350  1583              l_game_hall_enter_00105:
4351  1583  7A          	ld	a,d
4352  1584  B3          	or	a,e
4353  1585  28 0D       	jr	Z,l_game_hall_enter_00107
4354  1587  DD 36 F7 05 	ld	(ix-9),0x05
4355  158B  C5          	push	bc
4356  158C  D5          	push	de
4357  158D  2E 01       	ld	l,0x01
4358  158F  CD CE 16    	call	_game_hall_enter_phs
4359  1592  D1          	pop	de
4360  1593  C1          	pop	bc
4361  1594              l_game_hall_enter_00107:
4362  1594  C5          	push	bc
4363  1595  D5          	push	de
4364  1596  21 E9 01    	ld	hl,___str_48
4365  1599  E5          	push	hl
4366  159A  21 02 0A    	ld	hl,0x0a02
4367  159D  E5          	push	hl
4368  159E  CD 00 00    	call	_zx_print_str
4369  15A1  21 F6 01    	ld	hl,___str_49
4370  15A4  E5          	push	hl
4371  15A5  21 12 06    	ld	hl,0x0612
4372  15A8  E5          	push	hl
4373  15A9  CD 00 00    	call	_zx_print_str
4374  15AC  21 09 02    	ld	hl,___str_50
4375  15AF  E5          	push	hl
4376  15B0  21 13 06    	ld	hl,0x0613
4377  15B3  E5          	push	hl
4378  15B4  CD 00 00    	call	_zx_print_str
4379  15B7  D1          	pop	de
4380  15B8  C1          	pop	bc
4381  15B9  DD 71 FE    	ld	(ix-2),c
4382  15BC  DD 70 FF    	ld	(ix-1),b
4383  15BF  DD 73 FC    	ld	(ix-4),e
4384  15C2  DD 72 FD    	ld	(ix-3),d
4385  15C5              l_game_hall_enter_00122:
4386  15C5  DD 7E F8    	ld	a,(ix-8)
4387  15C8  DD 86 F7    	add	a,(ix-9)
4388  15CB  B7          	or	a, a
4389  15CC  CA 93 16    	jp	Z,l_game_hall_enter_00124
4390  15CF  21 05 00    	ld	hl,0x0005
4391  15D2  E5          	push	hl
4392  15D3  2A 00 00    	ld	hl,(_frame_time)
4393  15D6  E5          	push	hl
4394  15D7  CD 38 1A    	call	_game_check_time
4395  15DA  F1          	pop	af
4396  15DB  F1          	pop	af
4397  15DC  7D          	ld	a,l
4398  15DD  B7          	or	a, a
4399  15DE  28 36       	jr	Z,l_game_hall_enter_00113
4400  15E0  DD 7E F9    	ld	a,(ix-7)
4401  15E3  D6 01       	sub	a,0x01
4402  15E5  3E 00       	ld	a,0x00
4403  15E7  17          	rla
4404  15E8  DD 77 F9    	ld	(ix-7),a
4405  15EB  DD 7E F8    	ld	a,(ix-8)
4406  15EE  B7          	or	a, a
4407  15EF  28 0B       	jr	Z,l_game_hall_enter_00109
4408  15F1  DD 66 F9    	ld	h,(ix-7)
4409  15F4  DD 6E F8    	ld	l,(ix-8)
4410  15F7  E5          	push	hl
4411  15F8  CD 45 17    	call	_game_hall_print_p
4412  15FB  F1          	pop	af
4413  15FC              l_game_hall_enter_00109:
4414  15FC  DD 7E F7    	ld	a,(ix-9)
4415  15FF  B7          	or	a, a
4416  1600  28 0B       	jr	Z,l_game_hall_enter_00111
4417  1602  DD 66 F9    	ld	h,(ix-7)
4418  1605  DD 6E F7    	ld	l,(ix-9)
4419  1608  E5          	push	hl
4420  1609  CD 45 17    	call	_game_hall_print_p
4421  160C  F1          	pop	af
4422  160D              l_game_hall_enter_00111:
4423  160D  CD 8A 19    	call	_game_rotate_attrib
4424  1610  2A 00 00    	ld	hl,(_curr_time)
4425  1613  22 00 00    	ld	(_frame_time),hl
4426  1616              l_game_hall_enter_00113:
4427  1616  21 00 00    	ld	hl,_k1
4428  1619  E5          	push	hl
4429  161A  2A 00 00    	ld	hl,(_joyfunc1)
4430  161D  CD 00 00    	call	___sdcc_call_hl
4431  1620  F1          	pop	af
4432  1621  7D          	ld	a,l
4433  1622  32 00 00    	ld	(_dirs),a
4434  1625  DD 7E FB    	ld	a,(ix-5)
4435  1628  B7          	or	a, a
4436  1629  20 22       	jr	NZ,l_game_hall_enter_00115
4437  162B  DD 7E F8    	ld	a,(ix-8)
4438  162E  B7          	or	a, a
4439  162F  28 1C       	jr	Z,l_game_hall_enter_00115
4440  1631  DD 6E F8    	ld	l,(ix-8)
4441  1634  CD 03 18    	call	_game_hall_edit_p
4442  1637  DD 75 F8    	ld	(ix-8),l
4443  163A  7D          	ld	a,l
4444  163B  B7          	or	a, a
4445  163C  20 0F       	jr	NZ,l_game_hall_enter_00115
4446  163E  DD 5E FE    	ld	e,(ix-2)
4447  1641  DD 56 FF    	ld	d,(ix-1)
4448  1644  AF          	xor	a,a
4449  1645  21 00 00    	ld	hl,_initials
4450  1648              l_game_hall_enter_00190:
4451  1648  BE          	cp	a, (hl)
4452  1649  ED A0       	ldi
4453  164B  20 FB       	jr	NZ, l_game_hall_enter_00190
4454  164D              l_game_hall_enter_00115:
4455  164D  3A 00 00    	ld	a,(_dirs)
4456  1650  DD 77 FB    	ld	(ix-5),a
4457  1653  21 00 00    	ld	hl,_k2
4458  1656  E5          	push	hl
4459  1657  2A 00 00    	ld	hl,(_joyfunc2)
4460  165A  CD 00 00    	call	___sdcc_call_hl
4461  165D  F1          	pop	af
4462  165E  7D          	ld	a,l
4463  165F  32 00 00    	ld	(_dirs),a
4464  1662  DD 7E FA    	ld	a,(ix-6)
4465  1665  B7          	or	a, a
4466  1666  20 22       	jr	NZ,l_game_hall_enter_00119
4467  1668  DD 7E F7    	ld	a,(ix-9)
4468  166B  B7          	or	a, a
4469  166C  28 1C       	jr	Z,l_game_hall_enter_00119
4470  166E  DD 6E F7    	ld	l,(ix-9)
4471  1671  CD 03 18    	call	_game_hall_edit_p
4472  1674  DD 75 F7    	ld	(ix-9),l
4473  1677  7D          	ld	a,l
4474  1678  B7          	or	a, a
4475  1679  20 0F       	jr	NZ,l_game_hall_enter_00119
4476  167B  DD 5E FC    	ld	e,(ix-4)
4477  167E  DD 56 FD    	ld	d,(ix-3)
4478  1681  AF          	xor	a,a
4479  1682  21 04 00    	ld	hl,+(_initials + 0x0004)
4480  1685              l_game_hall_enter_00191:
4481  1685  BE          	cp	a, (hl)
4482  1686  ED A0       	ldi
4483  1688  20 FB       	jr	NZ, l_game_hall_enter_00191
4484  168A              l_game_hall_enter_00119:
4485  168A  3A 00 00    	ld	a,(_dirs)
4486  168D  DD 77 FA    	ld	(ix-6),a
4487  1690  C3 C5 15    	jp	l_game_hall_enter_00122
4488  1693              l_game_hall_enter_00124:
4489  1693  CD 00 00    	call	_ay_reset
4490  1696  CD 00 00    	call	_spr_draw_clear
4491  1699  01 E3 14    	ld	bc,_compare_scores
4492  169C  C5          	push	bc
4493  169D  21 06 00    	ld	hl,0x0006
4494  16A0  E5          	push	hl
4495  16A1  2E 0A       	ld	l,0x0a
4496  16A3  E5          	push	hl
4497  16A4  21 00 00    	ld	hl,_hof
4498  16A7  E5          	push	hl
4499  16A8  CD 00 00    	call	__insertion_sort__callee
4500  16AB              l_game_hall_enter_00126:
4501  16AB  CD B9 18    	call	_game_hall_of_fame
4502  16AE  2E 00       	ld	l,0x00
4503  16B0  CD B8 16    	call	_game_menu_back
4504  16B3  DD F9       	ld	sp, ix
4505  16B5  DD E1       	pop	ix
4506  16B7  C9          	ret
4507  16B8              	SECTION rodata_compiler
4508  01E9              ___str_48:
4509  01E9  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4510  01F5  00          	DEFB 0x00
4511  01F6              	SECTION rodata_compiler
4512  01F6              ___str_49:
4513  01F6  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4514  0208  00          	DEFB 0x00
4515  0209              	SECTION rodata_compiler
4516  0209              ___str_50:
4517  0209  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4518  021C  00          	DEFB 0x00
4519  021D              	SECTION code_compiler
4520  16B8              ;	---------------------------------
4521  16B8              ; Function game_menu_back
4522  16B8              ; ---------------------------------
4523  16B8              _game_menu_back:
4524  16B8  7D          	ld	a,l
4525  16B9  32 00 00    	ld	(_s_lin1),a
4526  16BC  21 00 00    	ld	hl,_game_menu_sel
4527  16BF  36 00       	ld	(hl),0x00
4528  16C1  CD B3 0F    	call	_game_menu_top_paint
4529  16C4  CD 27 10    	call	_game_menu_paint
4530  16C7  2A 00 00    	ld	hl,(_curr_time)
4531  16CA  22 00 00    	ld	(_entry_time),hl
4532  16CD  C9          	ret
4533  16CE              	SECTION code_compiler
4534  16CE              ;	---------------------------------
4535  16CE              ; Function game_hall_enter_phs
4536  16CE              ; ---------------------------------
4537  16CE              _game_hall_enter_phs:
4538  16CE  7D          	ld	a,l
4539  16CF  B7          	or	a, a
4540  16D0  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4541  16D2  21 9C 01    	ld	hl,0x019c
4542  16D5  E5          	push	hl
4543  16D6  21 02 0C    	ld	hl,0x0c02
4544  16D9  E5          	push	hl
4545  16DA  3E 30       	ld	a,0x30
4546  16DC  F5          	push	af
4547  16DD  33          	inc	sp
4548  16DE  CD A2 10    	call	_game_menu_e
4549  16E1  F1          	pop	af
4550  16E2  33          	inc	sp
4551  16E3  21 9F FF    	ld	hl,0xff9f
4552  16E6  E3          	ex	(sp),hl
4553  16E7  21 02 0C    	ld	hl,0x0c02
4554  16EA  E5          	push	hl
4555  16EB  3E 7C       	ld	a,0x7c
4556  16ED  F5          	push	af
4557  16EE  33          	inc	sp
4558  16EF  CD A2 10    	call	_game_menu_e
4559  16F2  F1          	pop	af
4560  16F3  33          	inc	sp
4561  16F4  21 1D 02    	ld	hl,___str_51
4562  16F7  E3          	ex	(sp),hl
4563  16F8  21 07 05    	ld	hl,0x0507
4564  16FB  E5          	push	hl
4565  16FC  CD 00 00    	call	_zx_print_str
4566  16FF  21 22 02    	ld	hl,___str_52
4567  1702  E5          	push	hl
4568  1703  21 08 05    	ld	hl,0x0508
4569  1706  E5          	push	hl
4570  1707  CD 00 00    	call	_zx_print_str
4571  170A  18 38       	jr	l_game_hall_enter_phs_00104
4572  170C              l_game_hall_enter_phs_00102:
4573  170C  21 9C 01    	ld	hl,0x019c
4574  170F  E5          	push	hl
4575  1710  21 12 1C    	ld	hl,0x1c12
4576  1713  E5          	push	hl
4577  1714  3E 30       	ld	a,0x30
4578  1716  F5          	push	af
4579  1717  33          	inc	sp
4580  1718  CD A2 10    	call	_game_menu_e
4581  171B  F1          	pop	af
4582  171C  33          	inc	sp
4583  171D  21 9F FF    	ld	hl,0xff9f
4584  1720  E3          	ex	(sp),hl
4585  1721  21 12 1C    	ld	hl,0x1c12
4586  1724  E5          	push	hl
4587  1725  3E 7C       	ld	a,0x7c
4588  1727  F5          	push	af
4589  1728  33          	inc	sp
4590  1729  CD A2 10    	call	_game_menu_e
4591  172C  F1          	pop	af
4592  172D  33          	inc	sp
4593  172E  21 1D 02    	ld	hl,___str_51
4594  1731  E3          	ex	(sp),hl
4595  1732  21 07 15    	ld	hl,0x1507
4596  1735  E5          	push	hl
4597  1736  CD 00 00    	call	_zx_print_str
4598  1739  21 22 02    	ld	hl,___str_52
4599  173C  E5          	push	hl
4600  173D  21 08 15    	ld	hl,0x1508
4601  1740  E5          	push	hl
4602  1741  CD 00 00    	call	_zx_print_str
4603  1744              l_game_hall_enter_phs_00104:
4604  1744  C9          	ret
4605  1745              	SECTION rodata_compiler
4606  021D              ___str_51:
4607  021D  48 49 47 48 	DEFM "HIGH"
4608  0221  00          	DEFB 0x00
4609  0222              	SECTION rodata_compiler
4610  0222              ___str_52:
4611  0222  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4612  0228  00          	DEFB 0x00
4613  0229              	SECTION code_compiler
4614  1745              ;	---------------------------------
4615  1745              ; Function game_hall_print_p
4616  1745              ; ---------------------------------
4617  1745              _game_hall_print_p:
4618  1745  CD 00 00    	call	___sdcc_enter_ix
4619  1748  DD 7E 04    	ld	a,(ix+4)
4620  174B  D6 05       	sub	a,0x05
4621  174D  30 59       	jr	NC,l_game_hall_print_p_00108
4622  174F  21 00 00    	ld	hl,_initials
4623  1752  E5          	push	hl
4624  1753  21 0D 06    	ld	hl,0x060d
4625  1756  E5          	push	hl
4626  1757  CD 00 00    	call	_zx_print_str
4627  175A  DD 7E 04    	ld	a,(ix+4)
4628  175D  C6 06       	add	a,0x06
4629  175F  47          	ld	b,a
4630  1760  DD 7E 04    	ld	a,(ix+4)
4631  1763  C6 05       	add	a,0x05
4632  1765  57          	ld	d,a
4633  1766  3E 70       	ld	a,0x70
4634  1768  F5          	push	af
4635  1769  33          	inc	sp
4636  176A  4A          	ld	c, d
4637  176B  C5          	push	bc
4638  176C  CD 09 0D    	call	_game_paint_attrib_lin_h
4639  176F  F1          	pop	af
4640  1770  33          	inc	sp
4641  1771  76          	halt
4642  1772  DD 7E 05    	ld	a,(ix+5)
4643  1775  B7          	or	a, a
4644  1776  28 18       	jr	Z,l_game_hall_print_p_00102
4645  1778  21 56 06    	ld	hl,0x0656
4646  177B  E5          	push	hl
4647  177C  3E A9       	ld	a,0xa9
4648  177E  F5          	push	af
4649  177F  33          	inc	sp
4650  1780  CD 00 00    	call	_NIRVANAP_drawT_callee
4651  1783  21 58 06    	ld	hl,0x0658
4652  1786  E5          	push	hl
4653  1787  3E 03       	ld	a,0x03
4654  1789  F5          	push	af
4655  178A  33          	inc	sp
4656  178B  CD 00 00    	call	_NIRVANAP_drawT_callee
4657  178E  18 70       	jr	l_game_hall_print_p_00110
4658  1790              l_game_hall_print_p_00102:
4659  1790  21 58 06    	ld	hl,0x0658
4660  1793  E5          	push	hl
4661  1794  3E A9       	ld	a,0xa9
4662  1796  F5          	push	af
4663  1797  33          	inc	sp
4664  1798  CD 00 00    	call	_NIRVANAP_drawT_callee
4665  179B  21 56 06    	ld	hl,0x0656
4666  179E  E5          	push	hl
4667  179F  3E 16       	ld	a,0x16
4668  17A1  F5          	push	af
4669  17A2  33          	inc	sp
4670  17A3  CD 00 00    	call	_NIRVANAP_drawT_callee
4671  17A6  18 58       	jr	l_game_hall_print_p_00110
4672  17A8              l_game_hall_print_p_00108:
4673  17A8  21 04 00    	ld	hl,+(_initials + 0x0004)
4674  17AB  E5          	push	hl
4675  17AC  21 0D 16    	ld	hl,0x160d
4676  17AF  E5          	push	hl
4677  17B0  CD 00 00    	call	_zx_print_str
4678  17B3  DD 7E 04    	ld	a,(ix+4)
4679  17B6  C6 12       	add	a,0x12
4680  17B8  57          	ld	d,a
4681  17B9  DD 7E 04    	ld	a,(ix+4)
4682  17BC  C6 11       	add	a,0x11
4683  17BE  47          	ld	b,a
4684  17BF  3E 70       	ld	a,0x70
4685  17C1  5A          	ld	e,d
4686  17C2  57          	ld	d,a
4687  17C3  D5          	push	de
4688  17C4  C5          	push	bc
4689  17C5  33          	inc	sp
4690  17C6  CD 09 0D    	call	_game_paint_attrib_lin_h
4691  17C9  F1          	pop	af
4692  17CA  33          	inc	sp
4693  17CB  76          	halt
4694  17CC  DD 7E 05    	ld	a,(ix+5)
4695  17CF  B7          	or	a, a
4696  17D0  28 18       	jr	Z,l_game_hall_print_p_00105
4697  17D2  21 56 17    	ld	hl,0x1756
4698  17D5  E5          	push	hl
4699  17D6  3E A9       	ld	a,0xa9
4700  17D8  F5          	push	af
4701  17D9  33          	inc	sp
4702  17DA  CD 00 00    	call	_NIRVANAP_drawT_callee
4703  17DD  21 58 17    	ld	hl,0x1758
4704  17E0  E5          	push	hl
4705  17E1  3E 27       	ld	a,0x27
4706  17E3  F5          	push	af
4707  17E4  33          	inc	sp
4708  17E5  CD 00 00    	call	_NIRVANAP_drawT_callee
4709  17E8  18 16       	jr	l_game_hall_print_p_00110
4710  17EA              l_game_hall_print_p_00105:
4711  17EA  21 58 17    	ld	hl,0x1758
4712  17ED  E5          	push	hl
4713  17EE  3E A9       	ld	a,0xa9
4714  17F0  F5          	push	af
4715  17F1  33          	inc	sp
4716  17F2  CD 00 00    	call	_NIRVANAP_drawT_callee
4717  17F5  21 56 17    	ld	hl,0x1756
4718  17F8  E5          	push	hl
4719  17F9  3E 2E       	ld	a,0x2e
4720  17FB  F5          	push	af
4721  17FC  33          	inc	sp
4722  17FD  CD 00 00    	call	_NIRVANAP_drawT_callee
4723  1800              l_game_hall_print_p_00110:
4724  1800  DD E1       	pop	ix
4725  1802  C9          	ret
4726  1803              	SECTION code_compiler
4727  1803              ;	---------------------------------
4728  1803              ; Function game_hall_edit_p
4729  1803              ; ---------------------------------
4730  1803              _game_hall_edit_p:
4731  1803  CD 00 00    	call	___sdcc_enter_ix
4732  1806  F5          	push	af
4733  1807  4D          	ld	c,l
4734  1808  0D          	dec	c
4735  1809  3A 00 00    	ld	a,(_dirs)
4736  180C  07          	rlca
4737  180D  30 63       	jr	NC,l_game_hall_edit_p_00120
4738  180F  79          	ld	a,c
4739  1810  FE 04       	cp	a,0x04
4740  1812  30 17       	jr	NC,l_game_hall_edit_p_00102
4741  1814  C6 07       	add	a,0x07
4742  1816  57          	ld	d,a
4743  1817  79          	ld	a,c
4744  1818  C6 06       	add	a,0x06
4745  181A  47          	ld	b,a
4746  181B  C5          	push	bc
4747  181C  3E 70       	ld	a,0x70
4748  181E  5A          	ld	e,d
4749  181F  57          	ld	d,a
4750  1820  D5          	push	de
4751  1821  C5          	push	bc
4752  1822  33          	inc	sp
4753  1823  CD E2 0C    	call	_game_paint_attrib_lin
4754  1826  F1          	pop	af
4755  1827  33          	inc	sp
4756  1828  C1          	pop	bc
4757  1829  18 16       	jr	l_game_hall_edit_p_00103
4758  182B              l_game_hall_edit_p_00102:
4759  182B  79          	ld	a,c
4760  182C  C6 13       	add	a,0x13
4761  182E  57          	ld	d,a
4762  182F  79          	ld	a,c
4763  1830  C6 12       	add	a,0x12
4764  1832  47          	ld	b,a
4765  1833  C5          	push	bc
4766  1834  3E 70       	ld	a,0x70
4767  1836  5A          	ld	e,d
4768  1837  57          	ld	d,a
4769  1838  D5          	push	de
4770  1839  C5          	push	bc
4771  183A  33          	inc	sp
4772  183B  CD E2 0C    	call	_game_paint_attrib_lin
4773  183E  F1          	pop	af
4774  183F  33          	inc	sp
4775  1840  C1          	pop	bc
4776  1841              l_game_hall_edit_p_00103:
4777  1841  C5          	push	bc
4778  1842  CD 00 00    	call	_sound_slide
4779  1845  C1          	pop	bc
4780  1846  21 00 00    	ld	hl,_ay_effect_01
4781  1849  CD 00 00    	call	_ay_fx_play
4782  184C  11 00 00    	ld	de,_initials+0
4783  184F  41          	ld	b,c
4784  1850  0C          	inc	c
4785  1851  68          	ld	l,b
4786  1852  26 00       	ld	h,0x00
4787  1854  19          	add	hl,de
4788  1855  7E          	ld	a,(hl)
4789  1856  D6 7B       	sub	a,0x7b
4790  1858  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4791  185A  0D          	dec	c
4792  185B  79          	ld	a,c
4793  185C  E6 03       	and	a,0x03
4794  185E  28 08       	jr	Z,l_game_hall_edit_p_00107
4795  1860  41          	ld	b,c
4796  1861  0D          	dec	c
4797  1862  68          	ld	l,b
4798  1863  26 00       	ld	h,0x00
4799  1865  19          	add	hl,de
4800  1866  36 41       	ld	(hl),0x41
4801  1868              l_game_hall_edit_p_00107:
4802  1868  79          	ld	a,c
4803  1869  E6 03       	and	a,0x03
4804  186B  D6 03       	sub	a,0x03
4805  186D  20 44       	jr	NZ,l_game_hall_edit_p_00121
4806  186F  6F          	ld	l,a
4807  1870  18 43       	jr	l_game_hall_edit_p_00122
4808  1872              l_game_hall_edit_p_00120:
4809  1872  3A 00 00    	ld	a,(_dirs)
4810  1875  E6 0C       	and	a,0x0c
4811  1877  28 3A       	jr	Z,l_game_hall_edit_p_00121
4812  1879  11 00 00    	ld	de,_hall_valids
4813  187C  3E 00       	ld	a,+((_initials) & 0xFF)
4814  187E  81          	add	a, c
4815  187F  DD 77 FE    	ld	(ix-2),a
4816  1882  3E 00       	ld	a,+((_initials) / 256)
4817  1884  CE 00       	adc	a,0x00
4818  1886  DD 77 FF    	ld	(ix-1),a
4819  1889  E1          	pop	hl
4820  188A  46          	ld	b,(hl)
4821  188B  E5          	push	hl
4822  188C              l_game_hall_edit_p_00168:
4823  188C  1A          	ld	a, (de)
4824  188D  B8          	cp	a, b
4825  188E  28 06       	jr	Z,l_game_hall_edit_p_00167
4826  1890  B7          	or	a, a
4827  1891  13          	inc	de
4828  1892  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4829  1894  5F          	ld	e, a
4830  1895  57          	ld	d, a
4831  1896              l_game_hall_edit_p_00167:
4832  1896  3A 00 00    	ld	a,(_dirs)
4833  1899  E6 04       	and	a,0x04
4834  189B  28 0A       	jr	Z,l_game_hall_edit_p_00115
4835  189D  1B          	dec	de
4836  189E  1A          	ld	a,(de)
4837  189F  3D          	dec	a
4838  18A0  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4839  18A2  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4840  18A5  18 08       	jr	l_game_hall_edit_p_00116
4841  18A7              l_game_hall_edit_p_00115:
4842  18A7  13          	inc	de
4843  18A8  1A          	ld	a,(de)
4844  18A9  B7          	or	a, a
4845  18AA  20 03       	jr	NZ,l_game_hall_edit_p_00116
4846  18AC  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4847  18AF              l_game_hall_edit_p_00116:
4848  18AF  E1          	pop	hl
4849  18B0  1A          	ld	a,(de)
4850  18B1  E5          	push	hl
4851  18B2  77          	ld	(hl),a
4852  18B3              l_game_hall_edit_p_00121:
4853  18B3  0C          	inc	c
4854  18B4  69          	ld	l,c
4855  18B5              l_game_hall_edit_p_00122:
4856  18B5  F1          	pop	af
4857  18B6  DD E1       	pop	ix
4858  18B8  C9          	ret
4859  18B9              	SECTION code_compiler
4860  18B9              ;	---------------------------------
4861  18B9              ; Function game_hall_of_fame
4862  18B9              ; ---------------------------------
4863  18B9              _game_hall_of_fame:
4864  18B9  CD 00 00    	call	_spr_draw_clear
4865  18BC  2E 00       	ld	l,0x00
4866  18BE  CD BE 0C    	call	_game_paint_attrib
4867  18C1  21 9C 01    	ld	hl,0x019c
4868  18C4  E5          	push	hl
4869  18C5  21 06 18    	ld	hl,0x1806
4870  18C8  E5          	push	hl
4871  18C9  3E 10       	ld	a,0x10
4872  18CB  F5          	push	af
4873  18CC  33          	inc	sp
4874  18CD  CD A2 10    	call	_game_menu_e
4875  18D0  F1          	pop	af
4876  18D1  33          	inc	sp
4877  18D2  21 9F FF    	ld	hl,0xff9f
4878  18D5  E3          	ex	(sp),hl
4879  18D6  21 06 18    	ld	hl,0x1806
4880  18D9  E5          	push	hl
4881  18DA  3E 98       	ld	a,0x98
4882  18DC  F5          	push	af
4883  18DD  33          	inc	sp
4884  18DE  CD A2 10    	call	_game_menu_e
4885  18E1  F1          	pop	af
4886  18E2  F1          	pop	af
4887  18E3  33          	inc	sp
4888  18E4  21 00 00    	ld	hl,_s_lin1
4889  18E7  36 00       	ld	(hl),0x00
4890  18E9              l_game_hall_of_fame_00102:
4891  18E9  21 00 00    	ld	hl,_screen_ink
4892  18EC  36 05       	ld	(hl),0x05
4893  18EE  2A 00 00    	ld	hl,(_s_lin1)
4894  18F1  26 00       	ld	h,0x00
4895  18F3  4D          	ld	c,l
4896  18F4  44          	ld	b,h
4897  18F5  29          	add	hl, hl
4898  18F6  09          	add	hl, bc
4899  18F7  29          	add	hl, hl
4900  18F8  01 00 00    	ld	bc,_hof
4901  18FB  09          	add	hl,bc
4902  18FC  3A 00 00    	ld	a,(_s_lin1)
4903  18FF  EB          	ex	de,hl
4904  1900  C6 07       	add	a,0x07
4905  1902  47          	ld	b,a
4906  1903  D5          	push	de
4907  1904  3E 0A       	ld	a,0x0a
4908  1906  48          	ld	c,b
4909  1907  47          	ld	b,a
4910  1908  C5          	push	bc
4911  1909  CD 00 00    	call	_zx_print_str
4912  190C  2A 00 00    	ld	hl,(_s_lin1)
4913  190F  26 00       	ld	h,0x00
4914  1911  4D          	ld	c,l
4915  1912  44          	ld	b,h
4916  1913  29          	add	hl, hl
4917  1914  09          	add	hl, bc
4918  1915  29          	add	hl, hl
4919  1916  01 00 00    	ld	bc,_hof
4920  1919  09          	add	hl,bc
4921  191A  11 04 00    	ld	de,0x0004
4922  191D  19          	add	hl, de
4923  191E  5E          	ld	e,(hl)
4924  191F  23          	inc	hl
4925  1920  56          	ld	d,(hl)
4926  1921  3A 00 00    	ld	a,(_s_lin1)
4927  1924  C6 07       	add	a,0x07
4928  1926  47          	ld	b,a
4929  1927  D5          	push	de
4930  1928  3E 10       	ld	a,0x10
4931  192A  48          	ld	c,b
4932  192B  47          	ld	b,a
4933  192C  C5          	push	bc
4934  192D  CD 00 00    	call	_zx_print_int
4935  1930  11 29 02    	ld	de,___str_53
4936  1933  3A 00 00    	ld	a,(_s_lin1)
4937  1936  C6 07       	add	a,0x07
4938  1938  47          	ld	b,a
4939  1939  D5          	push	de
4940  193A  3E 0E       	ld	a,0x0e
4941  193C  48          	ld	c,b
4942  193D  47          	ld	b,a
4943  193E  C5          	push	bc
4944  193F  CD 00 00    	call	_zx_print_str
4945  1942  11 2B 02    	ld	de,___str_54
4946  1945  3A 00 00    	ld	a,(_s_lin1)
4947  1948  C6 07       	add	a,0x07
4948  194A  47          	ld	b,a
4949  194B  D5          	push	de
4950  194C  3E 15       	ld	a,0x15
4951  194E  48          	ld	c,b
4952  194F  47          	ld	b,a
4953  1950  C5          	push	bc
4954  1951  CD 00 00    	call	_zx_print_str
4955  1954  21 00 00    	ld	hl,_s_lin1
4956  1957  7E          	ld	a,(hl)
4957  1958  3C          	inc	a
4958  1959  77          	ld	(hl),a
4959  195A  D6 0A       	sub	a,0x0a
4960  195C  38 8B       	jr	C,l_game_hall_of_fame_00102
4961  195E  21 2D 02    	ld	hl,___str_55
4962  1961  E5          	push	hl
4963  1962  21 04 0A    	ld	hl,0x0a04
4964  1965  E5          	push	hl
4965  1966  CD 00 00    	call	_zx_print_str
4966  1969  21 F4 01    	ld	hl,0x01f4
4967  196C  E5          	push	hl
4968  196D  21 0A 16    	ld	hl,0x160a
4969  1970  E5          	push	hl
4970  1971  3E 04       	ld	a,0x04
4971  1973  F5          	push	af
4972  1974  33          	inc	sp
4973  1975  CD A6 19    	call	_game_colour_message
4974  1978  F1          	pop	af
4975  1979  F1          	pop	af
4976  197A  33          	inc	sp
4977  197B  CD 00 00    	call	_spr_draw_clear
4978  197E  21 00 00    	ld	hl,_game_menu_sel
4979  1981  36 00       	ld	(hl),0x00
4980  1983  21 00 00    	ld	hl,_pb_midi_title
4981  1986  CD 00 00    	call	_ay_midi_play
4982  1989  C9          	ret
4983  198A              	SECTION rodata_compiler
4984  0229              ___str_53:
4985  0229  2D          	DEFM "-"
4986  022A  00          	DEFB 0x00
4987  022B              	SECTION rodata_compiler
4988  022B              ___str_54:
4989  022B  30          	DEFM "0"
4990  022C  00          	DEFB 0x00
4991  022D              	SECTION rodata_compiler
4992  022D              ___str_55:
4993  022D  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4994  0239  00          	DEFB 0x00
4995  023A              	SECTION code_compiler
4996  198A              ;	---------------------------------
4997  198A              ; Function game_rotate_attrib
4998  198A              ; ---------------------------------
4999  198A              _game_rotate_attrib:
5000  198A  01 03 00    	ld	bc,_attrib_hl + 3
5001  198D  0A          	ld	a,(bc)
5002  198E  32 00 00    	ld	(_tmp_uc),a
5003  1991  11 02 00    	ld	de,_attrib_hl + 2
5004  1994  1A          	ld	a,(de)
5005  1995  02          	ld	(bc),a
5006  1996  01 01 00    	ld	bc,_attrib_hl + 1
5007  1999  0A          	ld	a,(bc)
5008  199A  12          	ld	(de),a
5009  199B  3A 00 00    	ld	a,(_attrib_hl)
5010  199E  02          	ld	(bc),a
5011  199F  3A 00 00    	ld	a,(_tmp_uc)
5012  19A2  32 00 00    	ld	(_attrib_hl),a
5013  19A5  C9          	ret
5014  19A6              	SECTION code_compiler
5015  19A6              ;	---------------------------------
5016  19A6              ; Function game_colour_message
5017  19A6              ; ---------------------------------
5018  19A6              _game_colour_message:
5019  19A6  CD 00 00    	call	___sdcc_enter_ix
5020  19A9  3B          	dec	sp
5021  19AA  21 00 00    	ld	hl,_tmp
5022  19AD  36 01       	ld	(hl),0x01
5023  19AF  2A 00 00    	ld	hl,(_curr_time)
5024  19B2  22 00 00    	ld	(_frame_time),hl
5025  19B5  2A 00 00    	ld	hl,(_curr_time)
5026  19B8  22 00 00    	ld	(_entry_time),hl
5027  19BB  DD 7E 04    	ld	a,(ix+4)
5028  19BE  07          	rlca
5029  19BF  07          	rlca
5030  19C0  07          	rlca
5031  19C1  E6 F8       	and	a,0xf8
5032  19C3  C6 08       	add	a,0x08
5033  19C5  DD 77 FF    	ld	(ix-1),a
5034  19C8              l_game_colour_message_00107:
5035  19C8  3A 00 00    	ld	a,(_tmp)
5036  19CB  B7          	or	a, a
5037  19CC  28 66       	jr	Z,l_game_colour_message_00110
5038  19CE  DD 6E 07    	ld	l,(ix+7)
5039  19D1  DD 66 08    	ld	h,(ix+8)
5040  19D4  E5          	push	hl
5041  19D5  2A 00 00    	ld	hl,(_entry_time)
5042  19D8  E5          	push	hl
5043  19D9  CD 38 1A    	call	_game_check_time
5044  19DC  F1          	pop	af
5045  19DD  F1          	pop	af
5046  19DE  7D          	ld	a,l
5047  19DF  B7          	or	a, a
5048  19E0  20 52       	jr	NZ,l_game_colour_message_00110
5049  19E2  21 05 00    	ld	hl,0x0005
5050  19E5  E5          	push	hl
5051  19E6  2A 00 00    	ld	hl,(_frame_time)
5052  19E9  E5          	push	hl
5053  19EA  CD 38 1A    	call	_game_check_time
5054  19ED  F1          	pop	af
5055  19EE  F1          	pop	af
5056  19EF  7D          	ld	a,l
5057  19F0  B7          	or	a, a
5058  19F1  28 1A       	jr	Z,l_game_colour_message_00103
5059  19F3  2A 00 00    	ld	hl,(_curr_time)
5060  19F6  22 00 00    	ld	(_frame_time),hl
5061  19F9  DD 66 FF    	ld	h,(ix-1)
5062  19FC  DD 6E 06    	ld	l,(ix+6)
5063  19FF  E5          	push	hl
5064  1A00  DD 7E 05    	ld	a,(ix+5)
5065  1A03  F5          	push	af
5066  1A04  33          	inc	sp
5067  1A05  CD 09 0D    	call	_game_paint_attrib_lin_h
5068  1A08  F1          	pop	af
5069  1A09  33          	inc	sp
5070  1A0A  CD 8A 19    	call	_game_rotate_attrib
5071  1A0D              l_game_colour_message_00103:
5072  1A0D  21 00 00    	ld	hl,_k1
5073  1A10  E5          	push	hl
5074  1A11  2A 00 00    	ld	hl,(_joyfunc1)
5075  1A14  CD 00 00    	call	___sdcc_call_hl
5076  1A17  E3          	ex	(sp),hl
5077  1A18  21 00 00    	ld	hl,_k2
5078  1A1B  E5          	push	hl
5079  1A1C  2A 00 00    	ld	hl,(_joyfunc2)
5080  1A1F  CD 00 00    	call	___sdcc_call_hl
5081  1A22  F1          	pop	af
5082  1A23  EB          	ex	de,hl
5083  1A24  C1          	pop	bc
5084  1A25  79          	ld	a,c
5085  1A26  B3          	or	a, e
5086  1A27  4F          	ld	c,a
5087  1A28  78          	ld	a,b
5088  1A29  B2          	or	a, d
5089  1A2A  B1          	or	a,c
5090  1A2B  28 9B       	jr	Z,l_game_colour_message_00107
5091  1A2D  21 00 00    	ld	hl,_tmp
5092  1A30  36 00       	ld	(hl),0x00
5093  1A32  18 D9       	jr	l_game_colour_message_00103
5094  1A34              l_game_colour_message_00110:
5095  1A34  33          	inc	sp
5096  1A35  DD E1       	pop	ix
5097  1A37  C9          	ret
5098  1A38              	SECTION code_compiler
5099  1A38              ;	---------------------------------
5100  1A38              ; Function game_check_time
5101  1A38              ; ---------------------------------
5102  1A38              _game_check_time:
5103  1A38  CD 00 00    	call	___sdcc_enter_ix
5104  1A3B  2A 00 00    	ld	hl,(_curr_time)
5105  1A3E  7D          	ld	a,l
5106  1A3F  DD 96 04    	sub	a,(ix+4)
5107  1A42  4F          	ld	c,a
5108  1A43  7C          	ld	a,h
5109  1A44  DD 9E 05    	sbc	a,(ix+5)
5110  1A47  47          	ld	b,a
5111  1A48  DD 7E 06    	ld	a,(ix+6)
5112  1A4B  91          	sub	a, c
5113  1A4C  DD 7E 07    	ld	a,(ix+7)
5114  1A4F  98          	sbc	a, b
5115  1A50  30 04       	jr	NC,l_game_check_time_00102
5116  1A52  2E 01       	ld	l,0x01
5117  1A54  18 02       	jr	l_game_check_time_00104
5118  1A56              l_game_check_time_00102:
5119  1A56  2E 00       	ld	l,0x00
5120  1A58              l_game_check_time_00104:
5121  1A58  DD E1       	pop	ix
5122  1A5A  C9          	ret
5123  1A5B              	SECTION IGNORE
5124  0000              
