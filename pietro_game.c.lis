1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _compare_scores
181   0000              	GLOBAL _game_calc_index
182   0000              	GLOBAL _game_print_footer
183   0000              	GLOBAL _game_phase_print_score_back
184   0000              	GLOBAL _game_print_lives
185   0000              	GLOBAL _game_tick
186   0000              	GLOBAL _game_start_timer
187   0000              	GLOBAL _game_phase_calc
188   0000              	GLOBAL _game_phase_init
189   0000              	GLOBAL _game_print_header
190   0000              	GLOBAL _game_phase_print
191   0000              	GLOBAL _game_loop
192   0000              	GLOBAL _game_score_osd
193   0000              	GLOBAL _game_bonus_clock
194   0000              	GLOBAL _game_bonus_summary
195   0000              	GLOBAL _game_bonus_summary_player
196   0000              	GLOBAL _game_kill_all_sprites
197   0000              	GLOBAL _game_check_maze
198   0000              	GLOBAL _game_enemy_add
199   0000              	GLOBAL _game_enemy_quota
200   0000              	GLOBAL _game_enemy_rnd
201   0000              	GLOBAL _game_enemy_add1
202   0000              	GLOBAL _game_enemy_add_get_index
203   0000              	GLOBAL _game_freeze
204   0000              	GLOBAL _game_unfreeze_all
205   0000              	GLOBAL _game_freeze_all
206   0000              	GLOBAL _game_print_score
207   0000              	GLOBAL _game_paint_attrib
208   0000              	GLOBAL _game_paint_attrib_lin
209   0000              	GLOBAL _game_paint_attrib_lin_h
210   0000              	GLOBAL _game_menu_config
211   0000              	GLOBAL _game_joystick_change
212   0000              	GLOBAL _game_joystick_set_menu
213   0000              	GLOBAL _game_joystick_set
214   0000              	GLOBAL _game_menu
215   0000              	GLOBAL _game_menu_top_paint
216   0000              	GLOBAL _game_menu_paint
217   0000              	GLOBAL _game_menu_e
218   0000              	GLOBAL _game_menu_handle
219   0000              	GLOBAL _game_end
220   0000              	GLOBAL _game_hall_check
221   0000              	GLOBAL _game_hall_enter
222   0000              	GLOBAL _game_menu_back
223   0000              	GLOBAL _game_hall_enter_phs
224   0000              	GLOBAL _game_hall_print_p
225   0000              	GLOBAL _game_hall_edit_p
226   0000              	GLOBAL _game_hall_of_fame
227   0000              	GLOBAL _game_rotate_attrib
228   0000              	GLOBAL _game_colour_message
229   0000              	GLOBAL _game_check_time
230   0000              ;--------------------------------------------------------
231   0000              ; Externals used
232   0000              ;--------------------------------------------------------
233   0000              	GLOBAL _debug3
234   0000              	GLOBAL _debug2
235   0000              	GLOBAL _debug
236   0000              	GLOBAL _zx_print_str
237   0000              	GLOBAL _zx_print_int
238   0000              	GLOBAL _zx_print_chr
239   0000              	GLOBAL _zx_print_bonus_time
240   0000              	GLOBAL _zx_isr
241   0000              	GLOBAL _spr_draw_clear
242   0000              	GLOBAL _spr_water_splash_draw
243   0000              	GLOBAL _spr_water_splash_clear
244   0000              	GLOBAL _spr_draw_back
245   0000              	GLOBAL _spr_cortina_pipes
246   0000              	GLOBAL _spr_cortina_brick
247   0000              	GLOBAL _spr_brick_anim
248   0000              	GLOBAL _spr_back_fix4
249   0000              	GLOBAL _spr_back_fix3
250   0000              	GLOBAL _spr_back_fix2
251   0000              	GLOBAL _spr_back_fix1
252   0000              	GLOBAL _spr_back_fix
253   0000              	GLOBAL _spr_back_clr
254   0000              	GLOBAL _spr_draw_pow
255   0000              	GLOBAL _spr_tile
256   0000              	GLOBAL _spr_set_fall
257   0000              	GLOBAL _spr_destroy
258   0000              	GLOBAL _spr_check_over
259   0000              	GLOBAL _spr_tile_dir
260   0000              	GLOBAL _spr_anim_kill
261   0000              	GLOBAL _spr_anim_fall
262   0000              	GLOBAL _spr_killed
263   0000              	GLOBAL _spr_redraw
264   0000              	GLOBAL _spr_move_left
265   0000              	GLOBAL _spr_move_right
266   0000              	GLOBAL _spr_move_horizontal
267   0000              	GLOBAL _spr_move_down
268   0000              	GLOBAL _spr_move_up
269   0000              	GLOBAL _spr_chktime
270   0000              	GLOBAL _sound_hit_pow
271   0000              	GLOBAL _sound_hit_brick
272   0000              	GLOBAL _sound_hit_enemy
273   0000              	GLOBAL _sound_kill
274   0000              	GLOBAL _sound_enter_enemy
275   0000              	GLOBAL _sound_coin
276   0000              	GLOBAL _sound_jump
277   0000              	GLOBAL _sound_slide
278   0000              	GLOBAL _player_move_horizontal
279   0000              	GLOBAL _player_push_check
280   0000              	GLOBAL _player_push
281   0000              	GLOBAL _player_hit_brick_clear
282   0000              	GLOBAL _player_lost_life
283   0000              	GLOBAL _player_score_add
284   0000              	GLOBAL _player_coin
285   0000              	GLOBAL _player_hit_pow
286   0000              	GLOBAL _player_hit_brick
287   0000              	GLOBAL _player_move_input
288   0000              	GLOBAL _player_turn
289   0000              	GLOBAL _player_move
290   0000              	GLOBAL _player_restart
291   0000              	GLOBAL _player_kill
292   0000              	GLOBAL _player_check_input
293   0000              	GLOBAL _player_collition_check
294   0000              	GLOBAL _player_collition
295   0000              	GLOBAL _player_calc_slide
296   0000              	GLOBAL _player_init
297   0000              	GLOBAL _player_set2
298   0000              	GLOBAL _player_set1
299   0000              	GLOBAL _game_fill_row
300   0000              	GLOBAL _enemy_kill
301   0000              	GLOBAL _enemy_init
302   0000              	GLOBAL _enemy_walk
303   0000              	GLOBAL _enemy_upgrade
304   0000              	GLOBAL _enemy_evolve
305   0000              	GLOBAL _enemy_standard_hit
306   0000              	GLOBAL _enemy_trip
307   0000              	GLOBAL _enemy_fighterfly
308   0000              	GLOBAL _enemy_fireball_green
309   0000              	GLOBAL _enemy_fireball_red
310   0000              	GLOBAL _enemy_slipice
311   0000              	GLOBAL _enemy_standard
312   0000              	GLOBAL _enemy_turn
313   0000              	GLOBAL _enemy_flip_sidestepper
314   0000              	GLOBAL _enemy_flip
315   0000              	GLOBAL _enemy_flip_change_dir
316   0000              	GLOBAL _enemy_hit
317   0000              	GLOBAL _enemy_collition_check
318   0000              	GLOBAL _enemy_collition
319   0000              	GLOBAL _enemy_coin1
320   0000              	GLOBAL _ay_fx_play
321   0000              	GLOBAL _ay_midi_play
322   0000              	GLOBAL _ay_is_playing
323   0000              	GLOBAL _ay_reset
324   0000              	GLOBAL _test_func
325   0000              	GLOBAL _in_mouse_kempston_wheel_delta
326   0000              	GLOBAL _in_mouse_kempston_wheel
327   0000              	GLOBAL _in_mouse_kempston_callee
328   0000              	GLOBAL _in_mouse_kempston
329   0000              	GLOBAL _in_mouse_kempston_setpos_callee
330   0000              	GLOBAL _in_mouse_kempston_setpos
331   0000              	GLOBAL _in_mouse_kempston_reset
332   0000              	GLOBAL _in_mouse_kempston_init
333   0000              	GLOBAL _in_mouse_amx_wheel_delta
334   0000              	GLOBAL _in_mouse_amx_wheel
335   0000              	GLOBAL _in_mouse_amx_callee
336   0000              	GLOBAL _in_mouse_amx
337   0000              	GLOBAL _in_mouse_amx_setpos_callee
338   0000              	GLOBAL _in_mouse_amx_setpos
339   0000              	GLOBAL _in_mouse_amx_reset
340   0000              	GLOBAL _in_mouse_amx_init_callee
341   0000              	GLOBAL _in_mouse_amx_init
342   0000              	GLOBAL _in_stick_sinclair2
343   0000              	GLOBAL _in_stick_sinclair1
344   0000              	GLOBAL _in_stick_kempston
345   0000              	GLOBAL _in_stick_fuller
346   0000              	GLOBAL _in_stick_cursor
347   0000              	GLOBAL _in_stick_keyboard_fastcall
348   0000              	GLOBAL _in_stick_keyboard
349   0000              	GLOBAL _in_wait_nokey
350   0000              	GLOBAL _in_wait_key
351   0000              	GLOBAL _in_test_key
352   0000              	GLOBAL _in_pause_fastcall
353   0000              	GLOBAL _in_pause
354   0000              	GLOBAL _in_key_scancode_fastcall
355   0000              	GLOBAL _in_key_scancode
356   0000              	GLOBAL _in_key_pressed_fastcall
357   0000              	GLOBAL _in_key_pressed
358   0000              	GLOBAL _in_inkey
359   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawTW_raw
361   0000              	GLOBAL _NIRVANAP_drawTW_callee
362   0000              	GLOBAL _NIRVANAP_drawTW
363   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
364   0000              	GLOBAL _NIRVANAP_drawW_raw
365   0000              	GLOBAL _NIRVANAP_drawW_callee
366   0000              	GLOBAL _NIRVANAP_drawW
367   0000              	GLOBAL _NIRVANAP_spriteT_callee
368   0000              	GLOBAL _NIRVANAP_spriteT
369   0000              	GLOBAL _NIRVANAP_fillC_callee
370   0000              	GLOBAL _NIRVANAP_fillC
371   0000              	GLOBAL _NIRVANAP_readC_callee
372   0000              	GLOBAL _NIRVANAP_readC
373   0000              	GLOBAL _NIRVANAP_paintC_callee
374   0000              	GLOBAL _NIRVANAP_paintC
375   0000              	GLOBAL _NIRVANAP_printC_callee
376   0000              	GLOBAL _NIRVANAP_printC
377   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
378   0000              	GLOBAL _NIRVANAP_fillT_raw
379   0000              	GLOBAL _NIRVANAP_fillT_callee
380   0000              	GLOBAL _NIRVANAP_fillT
381   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
382   0000              	GLOBAL _NIRVANAP_drawT_raw
383   0000              	GLOBAL _NIRVANAP_drawT_callee
384   0000              	GLOBAL _NIRVANAP_drawT
385   0000              	GLOBAL _NIRVANAP_stop
386   0000              	GLOBAL _NIRVANAP_start
387   0000              	GLOBAL _z80_otdr_callee
388   0000              	GLOBAL _z80_otdr
389   0000              	GLOBAL _z80_otir_callee
390   0000              	GLOBAL _z80_otir
391   0000              	GLOBAL _z80_outp_callee
392   0000              	GLOBAL _z80_outp
393   0000              	GLOBAL _z80_indr_callee
394   0000              	GLOBAL _z80_indr
395   0000              	GLOBAL _z80_inir_callee
396   0000              	GLOBAL _z80_inir
397   0000              	GLOBAL _z80_inp_fastcall
398   0000              	GLOBAL _z80_inp
399   0000              	GLOBAL _z80_set_int_state_fastcall
400   0000              	GLOBAL _z80_set_int_state
401   0000              	GLOBAL _z80_get_int_state
402   0000              	GLOBAL _z80_delay_tstate_fastcall
403   0000              	GLOBAL _z80_delay_tstate
404   0000              	GLOBAL _z80_delay_ms_fastcall
405   0000              	GLOBAL _z80_delay_ms
406   0000              	GLOBAL _im2_remove_generic_callback_callee
407   0000              	GLOBAL _im2_remove_generic_callback
408   0000              	GLOBAL _im2_prepend_generic_callback_callee
409   0000              	GLOBAL _im2_prepend_generic_callback
410   0000              	GLOBAL _im2_append_generic_callback_callee
411   0000              	GLOBAL _im2_append_generic_callback
412   0000              	GLOBAL _im2_create_generic_isr_8080_callee
413   0000              	GLOBAL _im2_create_generic_isr_8080
414   0000              	GLOBAL _im2_create_generic_isr_callee
415   0000              	GLOBAL _im2_create_generic_isr
416   0000              	GLOBAL _im2_install_isr_callee
417   0000              	GLOBAL _im2_install_isr
418   0000              	GLOBAL _im2_init_fastcall
419   0000              	GLOBAL _im2_init
420   0000              	GLOBAL _ffsll_callee
421   0000              	GLOBAL _ffsll
422   0000              	GLOBAL _strxfrm_callee
423   0000              	GLOBAL _strxfrm
424   0000              	GLOBAL _strupr_fastcall
425   0000              	GLOBAL _strupr
426   0000              	GLOBAL _strtok_r_callee
427   0000              	GLOBAL _strtok_r
428   0000              	GLOBAL _strtok_callee
429   0000              	GLOBAL _strtok
430   0000              	GLOBAL _strstrip_fastcall
431   0000              	GLOBAL _strstrip
432   0000              	GLOBAL _strstr_callee
433   0000              	GLOBAL _strstr
434   0000              	GLOBAL _strspn_callee
435   0000              	GLOBAL _strspn
436   0000              	GLOBAL _strsep_callee
437   0000              	GLOBAL _strsep
438   0000              	GLOBAL _strrstrip_fastcall
439   0000              	GLOBAL _strrstrip
440   0000              	GLOBAL _strrspn_callee
441   0000              	GLOBAL _strrspn
442   0000              	GLOBAL _strrev_fastcall
443   0000              	GLOBAL _strrev
444   0000              	GLOBAL _strrcspn_callee
445   0000              	GLOBAL _strrcspn
446   0000              	GLOBAL _strrchr_callee
447   0000              	GLOBAL _strrchr
448   0000              	GLOBAL _strpbrk_callee
449   0000              	GLOBAL _strpbrk
450   0000              	GLOBAL _strnlen_callee
451   0000              	GLOBAL _strnlen
452   0000              	GLOBAL _strnicmp_callee
453   0000              	GLOBAL _strnicmp
454   0000              	GLOBAL _strndup_callee
455   0000              	GLOBAL _strndup
456   0000              	GLOBAL _strncpy_callee
457   0000              	GLOBAL _strncpy
458   0000              	GLOBAL _strncmp_callee
459   0000              	GLOBAL _strncmp
460   0000              	GLOBAL _strnchr_callee
461   0000              	GLOBAL _strnchr
462   0000              	GLOBAL _strncat_callee
463   0000              	GLOBAL _strncat
464   0000              	GLOBAL _strncasecmp_callee
465   0000              	GLOBAL _strncasecmp
466   0000              	GLOBAL _strlwr_fastcall
467   0000              	GLOBAL _strlwr
468   0000              	GLOBAL _strlen_fastcall
469   0000              	GLOBAL _strlen
470   0000              	GLOBAL _strlcpy_callee
471   0000              	GLOBAL _strlcpy
472   0000              	GLOBAL _strlcat_callee
473   0000              	GLOBAL _strlcat
474   0000              	GLOBAL _stricmp_callee
475   0000              	GLOBAL _stricmp
476   0000              	GLOBAL _strerror_fastcall
477   0000              	GLOBAL _strerror
478   0000              	GLOBAL _strdup_fastcall
479   0000              	GLOBAL _strdup
480   0000              	GLOBAL _strcspn_callee
481   0000              	GLOBAL _strcspn
482   0000              	GLOBAL _strcpy_callee
483   0000              	GLOBAL _strcpy
484   0000              	GLOBAL _strcoll_callee
485   0000              	GLOBAL _strcoll
486   0000              	GLOBAL _strcmp_callee
487   0000              	GLOBAL _strcmp
488   0000              	GLOBAL _strchrnul_callee
489   0000              	GLOBAL _strchrnul
490   0000              	GLOBAL _strchr_callee
491   0000              	GLOBAL _strchr
492   0000              	GLOBAL _strcat_callee
493   0000              	GLOBAL _strcat
494   0000              	GLOBAL _strcasecmp_callee
495   0000              	GLOBAL _strcasecmp
496   0000              	GLOBAL _stpncpy_callee
497   0000              	GLOBAL _stpncpy
498   0000              	GLOBAL _stpcpy_callee
499   0000              	GLOBAL _stpcpy
500   0000              	GLOBAL _memswap_callee
501   0000              	GLOBAL _memswap
502   0000              	GLOBAL _memset_callee
503   0000              	GLOBAL _memset
504   0000              	GLOBAL _memrchr_callee
505   0000              	GLOBAL _memrchr
506   0000              	GLOBAL _memmove_callee
507   0000              	GLOBAL _memmove
508   0000              	GLOBAL _memmem_callee
509   0000              	GLOBAL _memmem
510   0000              	GLOBAL _memcpy_callee
511   0000              	GLOBAL _memcpy
512   0000              	GLOBAL _memcmp_callee
513   0000              	GLOBAL _memcmp
514   0000              	GLOBAL _memchr_callee
515   0000              	GLOBAL _memchr
516   0000              	GLOBAL _memccpy_callee
517   0000              	GLOBAL _memccpy
518   0000              	GLOBAL _ffsl_fastcall
519   0000              	GLOBAL _ffsl
520   0000              	GLOBAL _ffs_fastcall
521   0000              	GLOBAL _ffs
522   0000              	GLOBAL __strrstrip__fastcall
523   0000              	GLOBAL __strrstrip_
524   0000              	GLOBAL __memupr__callee
525   0000              	GLOBAL __memupr_
526   0000              	GLOBAL __memstrcpy__callee
527   0000              	GLOBAL __memstrcpy_
528   0000              	GLOBAL __memlwr__callee
529   0000              	GLOBAL __memlwr_
530   0000              	GLOBAL _rawmemchr_callee
531   0000              	GLOBAL _rawmemchr
532   0000              	GLOBAL _strnset_callee
533   0000              	GLOBAL _strnset
534   0000              	GLOBAL _strset_callee
535   0000              	GLOBAL _strset
536   0000              	GLOBAL _rindex_callee
537   0000              	GLOBAL _rindex
538   0000              	GLOBAL _index_callee
539   0000              	GLOBAL _index
540   0000              	GLOBAL _bzero_callee
541   0000              	GLOBAL _bzero
542   0000              	GLOBAL _bcopy_callee
543   0000              	GLOBAL _bcopy
544   0000              	GLOBAL _bcmp_callee
545   0000              	GLOBAL _bcmp
546   0000              	GLOBAL _ulltoa_callee
547   0000              	GLOBAL _ulltoa
548   0000              	GLOBAL _strtoull_callee
549   0000              	GLOBAL _strtoull
550   0000              	GLOBAL _strtoll_callee
551   0000              	GLOBAL _strtoll
552   0000              	GLOBAL _lltoa_callee
553   0000              	GLOBAL _lltoa
554   0000              	GLOBAL _llabs_callee
555   0000              	GLOBAL _llabs
556   0000              	GLOBAL __lldivu__callee
557   0000              	GLOBAL __lldivu_
558   0000              	GLOBAL __lldiv__callee
559   0000              	GLOBAL __lldiv_
560   0000              	GLOBAL _atoll_callee
561   0000              	GLOBAL _atoll
562   0000              	GLOBAL _realloc_unlocked_callee
563   0000              	GLOBAL _realloc_unlocked
564   0000              	GLOBAL _malloc_unlocked_fastcall
565   0000              	GLOBAL _malloc_unlocked
566   0000              	GLOBAL _free_unlocked_fastcall
567   0000              	GLOBAL _free_unlocked
568   0000              	GLOBAL _calloc_unlocked_callee
569   0000              	GLOBAL _calloc_unlocked
570   0000              	GLOBAL _aligned_alloc_unlocked_callee
571   0000              	GLOBAL _aligned_alloc_unlocked
572   0000              	GLOBAL _realloc_callee
573   0000              	GLOBAL _realloc
574   0000              	GLOBAL _malloc_fastcall
575   0000              	GLOBAL _malloc
576   0000              	GLOBAL _free_fastcall
577   0000              	GLOBAL _free
578   0000              	GLOBAL _calloc_callee
579   0000              	GLOBAL _calloc
580   0000              	GLOBAL _aligned_alloc_callee
581   0000              	GLOBAL _aligned_alloc
582   0000              	GLOBAL _utoa_callee
583   0000              	GLOBAL _utoa
584   0000              	GLOBAL _ultoa_callee
585   0000              	GLOBAL _ultoa
586   0000              	GLOBAL _system_fastcall
587   0000              	GLOBAL _system
588   0000              	GLOBAL _strtoul_callee
589   0000              	GLOBAL _strtoul
590   0000              	GLOBAL _strtol_callee
591   0000              	GLOBAL _strtol
592   0000              	GLOBAL _strtof_callee
593   0000              	GLOBAL _strtof
594   0000              	GLOBAL _strtod_callee
595   0000              	GLOBAL _strtod
596   0000              	GLOBAL _srand_fastcall
597   0000              	GLOBAL _srand
598   0000              	GLOBAL _rand
599   0000              	GLOBAL _quick_exit_fastcall
600   0000              	GLOBAL _quick_exit
601   0000              	GLOBAL _qsort_callee
602   0000              	GLOBAL _qsort
603   0000              	GLOBAL _ltoa_callee
604   0000              	GLOBAL _ltoa
605   0000              	GLOBAL _labs_fastcall
606   0000              	GLOBAL _labs
607   0000              	GLOBAL _itoa_callee
608   0000              	GLOBAL _itoa
609   0000              	GLOBAL _ftoh_callee
610   0000              	GLOBAL _ftoh
611   0000              	GLOBAL _ftog_callee
612   0000              	GLOBAL _ftog
613   0000              	GLOBAL _ftoe_callee
614   0000              	GLOBAL _ftoe
615   0000              	GLOBAL _ftoa_callee
616   0000              	GLOBAL _ftoa
617   0000              	GLOBAL _exit_fastcall
618   0000              	GLOBAL _exit
619   0000              	GLOBAL _dtoh_callee
620   0000              	GLOBAL _dtoh
621   0000              	GLOBAL _dtog_callee
622   0000              	GLOBAL _dtog
623   0000              	GLOBAL _dtoe_callee
624   0000              	GLOBAL _dtoe
625   0000              	GLOBAL _dtoa_callee
626   0000              	GLOBAL _dtoa
627   0000              	GLOBAL _bsearch_callee
628   0000              	GLOBAL _bsearch
629   0000              	GLOBAL _atol_fastcall
630   0000              	GLOBAL _atol
631   0000              	GLOBAL _atoi_fastcall
632   0000              	GLOBAL _atoi
633   0000              	GLOBAL _atof_fastcall
634   0000              	GLOBAL _atof
635   0000              	GLOBAL _atexit_fastcall
636   0000              	GLOBAL _atexit
637   0000              	GLOBAL _at_quick_exit_fastcall
638   0000              	GLOBAL _at_quick_exit
639   0000              	GLOBAL _abs_fastcall
640   0000              	GLOBAL _abs
641   0000              	GLOBAL _abort
642   0000              	GLOBAL __strtou__callee
643   0000              	GLOBAL __strtou_
644   0000              	GLOBAL __strtoi__callee
645   0000              	GLOBAL __strtoi_
646   0000              	GLOBAL __random_uniform_xor_8__fastcall
647   0000              	GLOBAL __random_uniform_xor_8_
648   0000              	GLOBAL __random_uniform_xor_32__fastcall
649   0000              	GLOBAL __random_uniform_xor_32_
650   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
651   0000              	GLOBAL __random_uniform_cmwc_8_
652   0000              	GLOBAL __shellsort__callee
653   0000              	GLOBAL __shellsort_
654   0000              	GLOBAL __quicksort__callee
655   0000              	GLOBAL __quicksort_
656   0000              	GLOBAL __insertion_sort__callee
657   0000              	GLOBAL __insertion_sort_
658   0000              	GLOBAL __ldivu__callee
659   0000              	GLOBAL __ldivu_
660   0000              	GLOBAL __ldiv__callee
661   0000              	GLOBAL __ldiv_
662   0000              	GLOBAL __divu__callee
663   0000              	GLOBAL __divu_
664   0000              	GLOBAL __div__callee
665   0000              	GLOBAL __div_
666   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
667   0000              	GLOBAL _intrinsic_swap_word_32
668   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
669   0000              	GLOBAL _intrinsic_swap_endian_32
670   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
671   0000              	GLOBAL _intrinsic_swap_endian_16
672   0000              	GLOBAL _intrinsic_return_de
673   0000              	GLOBAL _intrinsic_return_bc
674   0000              	GLOBAL _intrinsic_exx
675   0000              	GLOBAL _intrinsic_ex_de_hl
676   0000              	GLOBAL _intrinsic_pop_iy
677   0000              	GLOBAL _intrinsic_pop_ix
678   0000              	GLOBAL _intrinsic_pop_hl
679   0000              	GLOBAL _intrinsic_pop_de
680   0000              	GLOBAL _intrinsic_pop_bc
681   0000              	GLOBAL _intrinsic_pop_af
682   0000              	GLOBAL _intrinsic_push_iy
683   0000              	GLOBAL _intrinsic_push_ix
684   0000              	GLOBAL _intrinsic_push_hl
685   0000              	GLOBAL _intrinsic_push_de
686   0000              	GLOBAL _intrinsic_push_bc
687   0000              	GLOBAL _intrinsic_push_af
688   0000              	GLOBAL _intrinsic_nop
689   0000              	GLOBAL _intrinsic_im_2
690   0000              	GLOBAL _intrinsic_im_1
691   0000              	GLOBAL _intrinsic_im_0
692   0000              	GLOBAL _intrinsic_retn
693   0000              	GLOBAL _intrinsic_reti
694   0000              	GLOBAL _intrinsic_halt
695   0000              	GLOBAL _intrinsic_ei
696   0000              	GLOBAL _intrinsic_di
697   0000              	GLOBAL _intrinsic_stub
698   0000              	GLOBAL _zx_pattern_fill_callee
699   0000              	GLOBAL _zx_pattern_fill
700   0000              	GLOBAL _zx_saddrpup_fastcall
701   0000              	GLOBAL _zx_saddrpup
702   0000              	GLOBAL _zx_saddrpright_callee
703   0000              	GLOBAL _zx_saddrpright
704   0000              	GLOBAL _zx_saddrpleft_callee
705   0000              	GLOBAL _zx_saddrpleft
706   0000              	GLOBAL _zx_saddrpdown_fastcall
707   0000              	GLOBAL _zx_saddrpdown
708   0000              	GLOBAL _zx_saddrcup_fastcall
709   0000              	GLOBAL _zx_saddrcup
710   0000              	GLOBAL _zx_saddrcright_fastcall
711   0000              	GLOBAL _zx_saddrcright
712   0000              	GLOBAL _zx_saddrcleft_fastcall
713   0000              	GLOBAL _zx_saddrcleft
714   0000              	GLOBAL _zx_saddrcdown_fastcall
715   0000              	GLOBAL _zx_saddrcdown
716   0000              	GLOBAL _zx_saddr2py_fastcall
717   0000              	GLOBAL _zx_saddr2py
718   0000              	GLOBAL _zx_saddr2px_fastcall
719   0000              	GLOBAL _zx_saddr2px
720   0000              	GLOBAL _zx_saddr2cy_fastcall
721   0000              	GLOBAL _zx_saddr2cy
722   0000              	GLOBAL _zx_saddr2cx_fastcall
723   0000              	GLOBAL _zx_saddr2cx
724   0000              	GLOBAL _zx_saddr2aaddr_fastcall
725   0000              	GLOBAL _zx_saddr2aaddr
726   0000              	GLOBAL _zx_py2saddr_fastcall
727   0000              	GLOBAL _zx_py2saddr
728   0000              	GLOBAL _zx_py2aaddr_fastcall
729   0000              	GLOBAL _zx_py2aaddr
730   0000              	GLOBAL _zx_pxy2saddr_callee
731   0000              	GLOBAL _zx_pxy2saddr
732   0000              	GLOBAL _zx_pxy2aaddr_callee
733   0000              	GLOBAL _zx_pxy2aaddr
734   0000              	GLOBAL _zx_px2bitmask_fastcall
735   0000              	GLOBAL _zx_px2bitmask
736   0000              	GLOBAL _zx_cyx2saddr_callee
737   0000              	GLOBAL _zx_cyx2saddr
738   0000              	GLOBAL _zx_cyx2aaddr_callee
739   0000              	GLOBAL _zx_cyx2aaddr
740   0000              	GLOBAL _zx_cy2saddr_fastcall
741   0000              	GLOBAL _zx_cy2saddr
742   0000              	GLOBAL _zx_cy2aaddr_fastcall
743   0000              	GLOBAL _zx_cy2aaddr
744   0000              	GLOBAL _zx_bitmask2px_fastcall
745   0000              	GLOBAL _zx_bitmask2px
746   0000              	GLOBAL _zx_aaddrcup_fastcall
747   0000              	GLOBAL _zx_aaddrcup
748   0000              	GLOBAL _zx_aaddrcright_fastcall
749   0000              	GLOBAL _zx_aaddrcright
750   0000              	GLOBAL _zx_aaddrcleft_fastcall
751   0000              	GLOBAL _zx_aaddrcleft
752   0000              	GLOBAL _zx_aaddrcdown_fastcall
753   0000              	GLOBAL _zx_aaddrcdown
754   0000              	GLOBAL _zx_aaddr2saddr_fastcall
755   0000              	GLOBAL _zx_aaddr2saddr
756   0000              	GLOBAL _zx_aaddr2py_fastcall
757   0000              	GLOBAL _zx_aaddr2py
758   0000              	GLOBAL _zx_aaddr2px_fastcall
759   0000              	GLOBAL _zx_aaddr2px
760   0000              	GLOBAL _zx_aaddr2cy_fastcall
761   0000              	GLOBAL _zx_aaddr2cy
762   0000              	GLOBAL _zx_aaddr2cx_fastcall
763   0000              	GLOBAL _zx_aaddr2cx
764   0000              	GLOBAL _zx_scroll_wc_up_callee
765   0000              	GLOBAL _zx_scroll_wc_up
766   0000              	GLOBAL _zx_scroll_up_callee
767   0000              	GLOBAL _zx_scroll_up
768   0000              	GLOBAL _zx_cls_wc_callee
769   0000              	GLOBAL _zx_cls_wc
770   0000              	GLOBAL _zx_cls_fastcall
771   0000              	GLOBAL _zx_cls
772   0000              	GLOBAL _zx_border_fastcall
773   0000              	GLOBAL _zx_border
774   0000              	GLOBAL _ay_effect_20
775   0000              	GLOBAL _ay_effect_19
776   0000              	GLOBAL _ay_effect_18
777   0000              	GLOBAL _ay_effect_17
778   0000              	GLOBAL _ay_effect_16
779   0000              	GLOBAL _ay_effect_15
780   0000              	GLOBAL _ay_effect_14
781   0000              	GLOBAL _ay_effect_13
782   0000              	GLOBAL _ay_effect_12
783   0000              	GLOBAL _ay_effect_11
784   0000              	GLOBAL _ay_effect_10
785   0000              	GLOBAL _ay_effect_09
786   0000              	GLOBAL _ay_effect_08
787   0000              	GLOBAL _ay_effect_07
788   0000              	GLOBAL _ay_effect_06
789   0000              	GLOBAL _ay_effect_05
790   0000              	GLOBAL _ay_effect_04
791   0000              	GLOBAL _ay_effect_03
792   0000              	GLOBAL _ay_effect_02
793   0000              	GLOBAL _ay_effect_01
794   0000              	GLOBAL _pb_midi_phase_1
795   0000              	GLOBAL _pb_midi_title
796   0000              	GLOBAL _joynames
797   0000              	GLOBAL _initials
798   0000              	GLOBAL _hof
799   0000              	GLOBAL _score_osd_tile
800   0000              	GLOBAL _score_osd_time
801   0000              	GLOBAL _score_osd_col
802   0000              	GLOBAL _score_osd_lin
803   0000              	GLOBAL _phase_bonus_total
804   0000              	GLOBAL _phase_angry
805   0000              	GLOBAL _phase_curr
806   0000              	GLOBAL _phase_end
807   0000              	GLOBAL _phase_coins
808   0000              	GLOBAL _phase_pop
809   0000              	GLOBAL _phase_tot
810   0000              	GLOBAL _phase_left
811   0000              	GLOBAL _phase_quota
812   0000              	GLOBAL _phases
813   0000              	GLOBAL _spr_idx
814   0000              	GLOBAL _lvl_1
815   0000              	GLOBAL _sprite_speed_alt
816   0000              	GLOBAL _sprite_speed
817   0000              	GLOBAL _screen_ink
818   0000              	GLOBAL _screen_paper
819   0000              	GLOBAL _game_menu_sel
820   0000              	GLOBAL _game_type
821   0000              	GLOBAL _game_bonus
822   0000              	GLOBAL _spr_water_time
823   0000              	GLOBAL _spr_water_clear
824   0000              	GLOBAL _game_time_fireball_start
825   0000              	GLOBAL _game_time_flipped
826   0000              	GLOBAL _game_score_top
827   0000              	GLOBAL _game_lives_update
828   0000              	GLOBAL _game_lives
829   0000              	GLOBAL _game_over
830   0000              	GLOBAL _game_sound
831   0000              	GLOBAL _game_two_player
832   0000              	GLOBAL _game_brick_tile
833   0000              	GLOBAL _game_pow
834   0000              	GLOBAL _spr_count
835   0000              	GLOBAL _frame_loop_count
836   0000              	GLOBAL _col_time
837   0000              	GLOBAL _frame_time
838   0000              	GLOBAL _entry_time
839   0000              	GLOBAL _curr_time
840   0000              	GLOBAL _s_state
841   0000              	GLOBAL _attrib_hl
842   0000              	GLOBAL _attrib
843   0000              	GLOBAL _zx_val_asm
844   0000              	GLOBAL _enemies
845   0000              	GLOBAL _tmp_ui
846   0000              	GLOBAL _tmp_sc
847   0000              	GLOBAL _tmp_uc
848   0000              	GLOBAL _tmp1
849   0000              	GLOBAL _tmp0
850   0000              	GLOBAL _tmp
851   0000              	GLOBAL _index_d
852   0000              	GLOBAL _index3
853   0000              	GLOBAL _index2
854   0000              	GLOBAL _index1
855   0000              	GLOBAL _loop_count
856   0000              	GLOBAL _sprite_lin_inc_mul
857   0000              	GLOBAL _s_col1
858   0000              	GLOBAL _s_col0
859   0000              	GLOBAL _s_lin1
860   0000              	GLOBAL _s_lin0
861   0000              	GLOBAL _s_tile1
862   0000              	GLOBAL _s_tile0
863   0000              	GLOBAL _hit_count
864   0000              	GLOBAL _tile_offset_other_player
865   0000              	GLOBAL _tile_offset
866   0000              	GLOBAL _index_player
867   0000              	GLOBAL _sprite_other_player
868   0000              	GLOBAL _sprite
869   0000              	GLOBAL _player_joy
870   0000              	GLOBAL _player_next_extra
871   0000              	GLOBAL _player_score
872   0000              	GLOBAL _last_time
873   0000              	GLOBAL _sliding
874   0000              	GLOBAL _spr_timer_c
875   0000              	GLOBAL _spr_timer
876   0000              	GLOBAL _jump_lin
877   0000              	GLOBAL _player_jump_c
878   0000              	GLOBAL _hit_col
879   0000              	GLOBAL _hit_lin
880   0000              	GLOBAL _colint
881   0000              	GLOBAL _col
882   0000              	GLOBAL _lin
883   0000              	GLOBAL _tile
884   0000              	GLOBAL _state_a
885   0000              	GLOBAL _state
886   0000              	GLOBAL _class
887   0000              	GLOBAL _tbuffer
888   0000              	GLOBAL _dirs
889   0000              	GLOBAL _k2
890   0000              	GLOBAL _k1
891   0000              	GLOBAL _joyfunc2
892   0000              	GLOBAL _joyfunc1
893   0000              	GLOBAL _btiles
894   0000              	GLOBAL _spec128
895   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
896   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
897   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
898   0000              	GLOBAL _NIRVANAP_ISR_HOOK
899   0000              	GLOBAL _control_method
900   0000              	GLOBAL _hall_valids
901   0000              ;--------------------------------------------------------
902   0000              ; special function registers
903   0000              ;--------------------------------------------------------
904   0000              ;--------------------------------------------------------
905   0000              ; ram data
906   0000              ;--------------------------------------------------------
907   0000              	SECTION bss_compiler
908   0000              ;--------------------------------------------------------
909   0000              ; ram data
910   0000              ;--------------------------------------------------------
911   0000              
912   0000              IF 0
913   0000              
914   0000              ; .area _INITIALIZED removed by z88dk
915   0000              
916   0000              
917   0000              ENDIF
918   0000              
919   0000              ;--------------------------------------------------------
920   0000              ; absolute external ram data
921   0000              ;--------------------------------------------------------
922   0000              	SECTION IGNORE
923   0000              ;--------------------------------------------------------
924   0000              ; global & static initialisations
925   0000              ;--------------------------------------------------------
926   0000              	SECTION code_crt_init
927   0000              ;--------------------------------------------------------
928   0000              ; Home
929   0000              ;--------------------------------------------------------
930   0000              	SECTION IGNORE
931   0000              ;--------------------------------------------------------
932   0000              ; code
933   0000              ;--------------------------------------------------------
934   0000              	SECTION code_compiler
935   0000              ;	---------------------------------
936   0000              ; Function game_calc_index
937   0000              ; ---------------------------------
938   0000              _game_calc_index:
939   0000  CD 00 00    	call	___sdcc_enter_ix
940   0003  DD 4E 05    	ld	c,(ix+5)
941   0006  06 00       	ld	b,0x00
942   0008  DD 7E 04    	ld	a,(ix+4)
943   000B  0F          	rrca
944   000C  0F          	rrca
945   000D  0F          	rrca
946   000E  E6 1F       	and	a,0x1f
947   0010  6F          	ld	l,a
948   0011  26 00       	ld	h,0x00
949   0013  29          	add	hl, hl
950   0014  29          	add	hl, hl
951   0015  29          	add	hl, hl
952   0016  29          	add	hl, hl
953   0017  29          	add	hl, hl
954   0018  09          	add	hl,bc
955   0019  DD E1       	pop	ix
956   001B  C9          	ret
957   001C              ;	---------------------------------
958   001C              ; Function game_print_footer
959   001C              ; ---------------------------------
960   001C              _game_print_footer:
961   001C  21 B1 00    	ld	hl,___str_0
962   001F  E5          	push	hl
963   0020  21 16 01    	ld	hl,0x0116
964   0023  E5          	push	hl
965   0024  CD 00 00    	call	_zx_print_str
966   0027  21 B1 00    	ld	hl,___str_0
967   002A  E5          	push	hl
968   002B  21 16 1E    	ld	hl,0x1e16
969   002E  E5          	push	hl
970   002F  CD 00 00    	call	_zx_print_str
971   0032  21 B3 00    	ld	hl,___str_1
972   0035  E5          	push	hl
973   0036  21 17 01    	ld	hl,0x0117
974   0039  E5          	push	hl
975   003A  CD 00 00    	call	_zx_print_str
976   003D  21 B3 00    	ld	hl,___str_1
977   0040  E5          	push	hl
978   0041  21 17 1E    	ld	hl,0x1e17
979   0044  E5          	push	hl
980   0045  CD 00 00    	call	_zx_print_str
981   0048  3A 00 00    	ld	a,(_game_lives)
982   004B  B7          	or	a, a
983   004C  28 20       	jr	Z,l_game_print_footer_00102
984   004E  21 00 00    	ld	hl,_screen_ink
985   0051  36 02       	ld	(hl),0x02
986   0053  21 B9 00    	ld	hl,___str_2
987   0056  E5          	push	hl
988   0057  21 16 01    	ld	hl,0x0116
989   005A  E5          	push	hl
990   005B  CD 00 00    	call	_zx_print_str
991   005E  21 00 00    	ld	hl,_screen_ink
992   0061  36 06       	ld	(hl),0x06
993   0063  21 BB 00    	ld	hl,___str_3
994   0066  E5          	push	hl
995   0067  21 17 01    	ld	hl,0x0117
996   006A  E5          	push	hl
997   006B  CD 00 00    	call	_zx_print_str
998   006E              l_game_print_footer_00102:
999   006E  3A 01 00    	ld	a, (_game_lives + 1)
1000  0071  B7          	or	a, a
1001  0072  28 20       	jr	Z,l_game_print_footer_00104
1002  0074  21 00 00    	ld	hl,_screen_ink
1003  0077  36 07       	ld	(hl),0x07
1004  0079  21 BD 00    	ld	hl,___str_4
1005  007C  E5          	push	hl
1006  007D  21 16 1E    	ld	hl,0x1e16
1007  0080  E5          	push	hl
1008  0081  CD 00 00    	call	_zx_print_str
1009  0084  21 00 00    	ld	hl,_screen_ink
1010  0087  36 06       	ld	(hl),0x06
1011  0089  21 BF 00    	ld	hl,___str_5
1012  008C  E5          	push	hl
1013  008D  21 17 1E    	ld	hl,0x1e17
1014  0090  E5          	push	hl
1015  0091  CD 00 00    	call	_zx_print_str
1016  0094              l_game_print_footer_00104:
1017  0094  CD 07 01    	call	_game_print_lives
1018  0097  21 C1 00    	ld	hl,___str_6
1019  009A  E5          	push	hl
1020  009B  21 17 0B    	ld	hl,0x0b17
1021  009E  E5          	push	hl
1022  009F  CD 00 00    	call	_zx_print_str
1023  00A2  21 00 00    	ld	hl,_phase_curr
1024  00A5  46          	ld	b,(hl)
1025  00A6  04          	inc	b
1026  00A7  C5          	push	bc
1027  00A8  33          	inc	sp
1028  00A9  21 17 12    	ld	hl,0x1217
1029  00AC  E5          	push	hl
1030  00AD  CD 00 00    	call	_zx_print_chr
1031  00B0  C9          	ret
1032  00B1              ___str_0:
1033  00B1  20          	DEFM " "
1034  00B2  00          	DEFB 0x00
1035  00B3              ___str_1:
1036  00B3  20 20 20 20 20 
                        	DEFM "     "
1037  00B8  00          	DEFB 0x00
1038  00B9              ___str_2:
1039  00B9  3C          	DEFM "<"
1040  00BA  00          	DEFB 0x00
1041  00BB              ___str_3:
1042  00BB  5C          	DEFB 0x5c
1043  00BC  00          	DEFB 0x00
1044  00BD              ___str_4:
1045  00BD  3E          	DEFM ">"
1046  00BE  00          	DEFB 0x00
1047  00BF              ___str_5:
1048  00BF  5E          	DEFM "^"
1049  00C0  00          	DEFB 0x00
1050  00C1              ___str_6:
1051  00C1  50 48 41 53 45 
                        	DEFM "PHASE"
1052  00C6  00          	DEFB 0x00
1053  00C7              ;	---------------------------------
1054  00C7              ; Function game_phase_print_score_back
1055  00C7              ; ---------------------------------
1056  00C7              _game_phase_print_score_back:
1057  00C7  21 00 00    	ld	hl,_screen_ink
1058  00CA  36 02       	ld	(hl),0x02
1059  00CC  21 FD 00    	ld	hl,___str_7
1060  00CF  E5          	push	hl
1061  00D0  21 00 0B    	ld	hl,0x0b00
1062  00D3  E5          	push	hl
1063  00D4  CD 00 00    	call	_zx_print_str
1064  00D7  21 00 00    	ld	hl,_screen_ink
1065  00DA  36 01       	ld	(hl),0x01
1066  00DC  21 01 01    	ld	hl,___str_8
1067  00DF  E5          	push	hl
1068  00E0  21 00 01    	ld	hl,0x0100
1069  00E3  E5          	push	hl
1070  00E4  CD 00 00    	call	_zx_print_str
1071  00E7  3A 00 00    	ld	a,(_game_two_player)
1072  00EA  B7          	or	a, a
1073  00EB  C8          	ret	Z
1074  00EC  21 00 00    	ld	hl,_screen_ink
1075  00EF  36 04       	ld	(hl),0x04
1076  00F1  21 04 01    	ld	hl,___str_9
1077  00F4  E5          	push	hl
1078  00F5  21 00 16    	ld	hl,0x1600
1079  00F8  E5          	push	hl
1080  00F9  CD 00 00    	call	_zx_print_str
1081  00FC  C9          	ret
1082  00FD              ___str_7:
1083  00FD  24 25 7C    	DEFM "$%|"
1084  0100  00          	DEFB 0x00
1085  0101              ___str_8:
1086  0101  5B 7C       	DEFM "[|"
1087  0103  00          	DEFB 0x00
1088  0104              ___str_9:
1089  0104  5D 7C       	DEFM "]|"
1090  0106  00          	DEFB 0x00
1091  0107              ;	---------------------------------
1092  0107              ; Function game_print_lives
1093  0107              ; ---------------------------------
1094  0107              _game_print_lives:
1095  0107  21 00 00    	ld	hl,_screen_ink
1096  010A  36 07       	ld	(hl),0x07
1097  010C  3A 00 00    	ld	a,(_game_lives)
1098  010F  C6 FF       	add	a,0xff
1099  0111  21 00 00    	ld	hl,_tmp
1100  0114  77          	ld	(hl),a
1101  0115  D6 FF       	sub	a,0xff
1102  0117  30 0A       	jr	NC,l_game_print_lives_00102
1103  0119  7E          	ld	a,(hl)
1104  011A  F5          	push	af
1105  011B  33          	inc	sp
1106  011C  21 17 03    	ld	hl,0x0317
1107  011F  E5          	push	hl
1108  0120  CD 00 00    	call	_zx_print_chr
1109  0123              l_game_print_lives_00102:
1110  0123  3A 01 00    	ld	a, (_game_lives + 1)
1111  0126  C6 FF       	add	a,0xff
1112  0128  21 00 00    	ld	hl,_tmp
1113  012B  77          	ld	(hl),a
1114  012C  D6 FF       	sub	a,0xff
1115  012E  D0          	ret	NC
1116  012F  7E          	ld	a,(hl)
1117  0130  F5          	push	af
1118  0131  33          	inc	sp
1119  0132  21 17 1A    	ld	hl,0x1a17
1120  0135  E5          	push	hl
1121  0136  CD 00 00    	call	_zx_print_chr
1122  0139  C9          	ret
1123  013A              ;	---------------------------------
1124  013A              ; Function game_tick
1125  013A              ; ---------------------------------
1126  013A              _game_tick:
1127  013A  21 00 00    	ld	hl,_curr_time
1128  013D  34          	inc	(hl)
1129  013E  C2 00 00    	jp	NZ,_zx_isr
1130  0141  23          	inc	hl
1131  0142  34          	inc	(hl)
1132  0143  C3 00 00    	jp  _zx_isr
1133  0146              ;	---------------------------------
1134  0146              ; Function game_start_timer
1135  0146              ; ---------------------------------
1136  0146              _game_start_timer:
1137  0146  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1138  0149  3E CD       	ld	a,0xcd
1139  014B  02          	ld	(bc),a
1140  014C  03          	inc	bc
1141  014D  11 3A 01    	ld	de,_game_tick
1142  0150  7B          	ld	a,e
1143  0151  02          	ld	(bc),a
1144  0152  03          	inc	bc
1145  0153  7A          	ld	a,d
1146  0154  02          	ld	(bc),a
1147  0155  C9          	ret
1148  0156              ;	---------------------------------
1149  0156              ; Function game_phase_calc
1150  0156              ; ---------------------------------
1151  0156              _game_phase_calc:
1152  0156  3A 00 00    	ld	a,(_phase_curr)
1153  0159  87          	add	a, a
1154  015A  87          	add	a, a
1155  015B  21 00 00    	ld	hl,_tmp_uc
1156  015E  77          	ld	(hl),a
1157  015F  01 00 00    	ld	bc,_phases+0
1158  0162  5E          	ld	e,(hl)
1159  0163  16 00       	ld	d,0x00
1160  0165  69          	ld	l, c
1161  0166  60          	ld	h, b
1162  0167  19          	add	hl,de
1163  0168  7E          	ld	a,(hl)
1164  0169  32 00 00    	ld	(_phase_quota),a
1165  016C  2A 00 00    	ld	hl,(_tmp_uc)
1166  016F  26 00       	ld	h,0x00
1167  0171  23          	inc	hl
1168  0172  09          	add	hl,bc
1169  0173  7E          	ld	a,(hl)
1170  0174  32 01 00    	ld	((_phase_quota + 0x0001)),a
1171  0177  2A 00 00    	ld	hl,(_tmp_uc)
1172  017A  26 00       	ld	h,0x00
1173  017C  23          	inc	hl
1174  017D  23          	inc	hl
1175  017E  09          	add	hl,bc
1176  017F  7E          	ld	a,(hl)
1177  0180  32 02 00    	ld	((_phase_quota + 0x0002)),a
1178  0183  2A 00 00    	ld	hl,(_tmp_uc)
1179  0186  26 00       	ld	h,0x00
1180  0188  23          	inc	hl
1181  0189  23          	inc	hl
1182  018A  23          	inc	hl
1183  018B  09          	add	hl,bc
1184  018C  7E          	ld	a,(hl)
1185  018D  32 00 00    	ld	(_game_brick_tile),a
1186  0190  CD BF 0C    	call	_game_unfreeze_all
1187  0193  3A 00 00    	ld	a,(_game_brick_tile)
1188  0196  D6 8B       	sub	a,0x8b
1189  0198  20 03       	jr	NZ,l_game_phase_calc_00102
1190  019A  CD E8 0C    	call	_game_freeze_all
1191  019D              l_game_phase_calc_00102:
1192  019D  3A 00 00    	ld	a,(_game_brick_tile)
1193  01A0  4F          	ld	c,a
1194  01A1  06 00       	ld	b,0x00
1195  01A3  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1196  01A7  21 00 00    	ld	hl,_phase_quota
1197  01AA  4E          	ld	c,(hl)
1198  01AB  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1199  01AE  46          	ld	b,(hl)
1200  01AF  79          	ld	a,c
1201  01B0  80          	add	a, b
1202  01B1  4F          	ld	c,a
1203  01B2  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1204  01B5  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1205  01B7  09          	add	hl, bc
1206  01B8  C9          	ret
1207  01B9              ;	---------------------------------
1208  01B9              ; Function game_phase_init
1209  01B9              ; ---------------------------------
1210  01B9              _game_phase_init:
1211  01B9  21 00 00    	ld	hl,_phase_end
1212  01BC  36 00       	ld	(hl),0x00
1213  01BE  21 00 00    	ld	hl,_phase_angry
1214  01C1  36 00       	ld	(hl),0x00
1215  01C3  21 00 00    	ld	hl,_phase_coins
1216  01C6  36 00       	ld	(hl),0x00
1217  01C8  21 00 00    	ld	hl,_phase_pop
1218  01CB  36 00       	ld	(hl),0x00
1219  01CD  21 00 00    	ld	hl,_game_bonus
1220  01D0  36 00       	ld	(hl),0x00
1221  01D2  21 00 00    	ld	hl,0x0000
1222  01D5  22 00 00    	ld	(_entry_time),hl
1223  01D8  21 00 00    	ld	hl,0
1224  01DB  22 00 00    	ld	(_curr_time),hl
1225  01DE  21 00 00    	ld	hl,0x0000
1226  01E1  22 00 00    	ld	(_frame_time),hl
1227  01E4  21 FF FF    	ld	hl,0xffff
1228  01E7  22 00 00    	ld	(_score_osd_col),hl
1229  01EA  CD 00 00    	call	_spr_draw_clear
1230  01ED  CD 00 00    	call	_spr_cortina_pipes
1231  01F0  21 00 00    	ld	hl,0x0000
1232  01F3  CD 00 00    	call	_zx_cls_fastcall
1233  01F6  21 00 00    	ld	hl,_spr_count
1234  01F9  36 00       	ld	(hl),0x00
1235  01FB  3A 00 00    	ld	a,(_game_type)
1236  01FE  D6 02       	sub	a,0x02
1237  0200  CA 8C 02    	jp	Z,l_game_phase_init_00104
1238  0203  CD 56 01    	call	_game_phase_calc
1239  0206  7D          	ld	a,l
1240  0207  32 00 00    	ld	(_phase_left),a
1241  020A  32 00 00    	ld	(_phase_tot),a
1242  020D  21 00 00    	ld	hl,_phase_left
1243  0210  7E          	ld	a,(hl)
1244  0211  B7          	or	a, a
1245  0212  C2 A1 02    	jp	NZ,l_game_phase_init_00105
1246  0215  01 00 00    	ld	bc,_phase_bonus_total+0
1247  0218  AF          	xor	a, a
1248  0219  02          	ld	(bc),a
1249  021A  03          	inc	bc
1250  021B  AF          	xor	a, a
1251  021C  02          	ld	(bc),a
1252  021D  36 06       	ld	(hl),0x06
1253  021F  21 00 00    	ld	hl,_game_bonus
1254  0222  36 01       	ld	(hl),0x01
1255  0224  21 0C 00    	ld	hl,0x000c
1256  0227  E5          	push	hl
1257  0228  21 90 08    	ld	hl,0x0890
1258  022B  E5          	push	hl
1259  022C  AF          	xor	a, a
1260  022D  F5          	push	af
1261  022E  33          	inc	sp
1262  022F  CD 00 00    	call	_enemy_init
1263  0232  F1          	pop	af
1264  0233  33          	inc	sp
1265  0234  21 0C 00    	ld	hl,0x000c
1266  0237  E3          	ex	(sp),hl
1267  0238  21 90 16    	ld	hl,0x1690
1268  023B  E5          	push	hl
1269  023C  3E 01       	ld	a,0x01
1270  023E  F5          	push	af
1271  023F  33          	inc	sp
1272  0240  CD 00 00    	call	_enemy_init
1273  0243  F1          	pop	af
1274  0244  33          	inc	sp
1275  0245  21 0C 00    	ld	hl,0x000c
1276  0248  E3          	ex	(sp),hl
1277  0249  21 50 06    	ld	hl,0x0650
1278  024C  E5          	push	hl
1279  024D  3E 02       	ld	a,0x02
1280  024F  F5          	push	af
1281  0250  33          	inc	sp
1282  0251  CD 00 00    	call	_enemy_init
1283  0254  F1          	pop	af
1284  0255  33          	inc	sp
1285  0256  21 0C 00    	ld	hl,0x000c
1286  0259  E3          	ex	(sp),hl
1287  025A  21 50 18    	ld	hl,0x1850
1288  025D  E5          	push	hl
1289  025E  3E 03       	ld	a,0x03
1290  0260  F5          	push	af
1291  0261  33          	inc	sp
1292  0262  CD 00 00    	call	_enemy_init
1293  0265  F1          	pop	af
1294  0266  33          	inc	sp
1295  0267  21 0C 00    	ld	hl,0x000c
1296  026A  E3          	ex	(sp),hl
1297  026B  21 10 05    	ld	hl,0x0510
1298  026E  E5          	push	hl
1299  026F  3E 04       	ld	a,0x04
1300  0271  F5          	push	af
1301  0272  33          	inc	sp
1302  0273  CD 00 00    	call	_enemy_init
1303  0276  F1          	pop	af
1304  0277  33          	inc	sp
1305  0278  21 0C 00    	ld	hl,0x000c
1306  027B  E3          	ex	(sp),hl
1307  027C  21 10 19    	ld	hl,0x1910
1308  027F  E5          	push	hl
1309  0280  3E 05       	ld	a,0x05
1310  0282  F5          	push	af
1311  0283  33          	inc	sp
1312  0284  CD 00 00    	call	_enemy_init
1313  0287  F1          	pop	af
1314  0288  F1          	pop	af
1315  0289  33          	inc	sp
1316  028A  18 15       	jr	l_game_phase_init_00105
1317  028C              l_game_phase_init_00104:
1318  028C  21 00 00    	ld	hl,_phase_left
1319  028F  36 FF       	ld	(hl),0xff
1320  0291  21 00 00    	ld	hl,_phase_curr
1321  0294  36 FF       	ld	(hl),0xff
1322  0296  21 00 00    	ld	hl,_game_brick_tile
1323  0299  36 84       	ld	(hl),0x84
1324  029B  21 84 00    	ld	hl,0x0084
1325  029E  22 24 00    	ld	(_spr_idx + 0x0024),hl
1326  02A1              l_game_phase_init_00105:
1327  02A1  CD 00 00    	call	_ay_reset
1328  02A4  3A 00 00    	ld	a,(_game_bonus)
1329  02A7  B7          	or	a, a
1330  02A8  20 06       	jr	NZ,l_game_phase_init_00107
1331  02AA  21 00 00    	ld	hl,_pb_midi_phase_1
1332  02AD  CD 00 00    	call	_ay_midi_play
1333  02B0              l_game_phase_init_00107:
1334  02B0  CD E7 02    	call	_game_print_header
1335  02B3  2E 0C       	ld	l,0x0c
1336  02B5  CD F2 02    	call	_game_phase_print
1337  02B8  3A 00 00    	ld	a,(_game_lives)
1338  02BB  B7          	or	a, a
1339  02BC  28 0D       	jr	Z,l_game_phase_init_00109
1340  02BE  21 0A 03    	ld	hl,0x030a
1341  02C1  E5          	push	hl
1342  02C2  21 07 98    	ld	hl,0x9807
1343  02C5  E5          	push	hl
1344  02C6  CD 00 00    	call	_player_init
1345  02C9  F1          	pop	af
1346  02CA  F1          	pop	af
1347  02CB              l_game_phase_init_00109:
1348  02CB  3A 01 00    	ld	a, (_game_lives + 1)
1349  02CE  B7          	or	a, a
1350  02CF  28 0D       	jr	Z,l_game_phase_init_00111
1351  02D1  21 14 27    	ld	hl,0x2714
1352  02D4  E5          	push	hl
1353  02D5  21 06 98    	ld	hl,0x9806
1354  02D8  E5          	push	hl
1355  02D9  CD 00 00    	call	_player_init
1356  02DC  F1          	pop	af
1357  02DD  F1          	pop	af
1358  02DE              l_game_phase_init_00111:
1359  02DE  CD 00 00    	call	_spr_draw_back
1360  02E1  CD E7 02    	call	_game_print_header
1361  02E4  C3 1C 00    	jp  _game_print_footer
1362  02E7              ;	---------------------------------
1363  02E7              ; Function game_print_header
1364  02E7              ; ---------------------------------
1365  02E7              _game_print_header:
1366  02E7  CD C7 00    	call	_game_phase_print_score_back
1367  02EA  21 00 00    	ld	hl,_screen_ink
1368  02ED  36 07       	ld	(hl),0x07
1369  02EF  C3 11 0D    	jp  _game_print_score
1370  02F2              ;	---------------------------------
1371  02F2              ; Function game_phase_print
1372  02F2              ; ---------------------------------
1373  02F2              _game_phase_print:
1374  02F2  45          	ld	b,l
1375  02F3  C5          	push	bc
1376  02F4  21 65 03    	ld	hl,___str_10
1377  02F7  E5          	push	hl
1378  02F8  3E 0B       	ld	a,0x0b
1379  02FA  48          	ld	c,b
1380  02FB  47          	ld	b,a
1381  02FC  C5          	push	bc
1382  02FD  CD 00 00    	call	_zx_print_str
1383  0300  C1          	pop	bc
1384  0301  3A 00 00    	ld	a,(_phase_curr)
1385  0304  D6 1F       	sub	a,0x1f
1386  0306  30 27       	jr	NC,l_game_phase_print_00108
1387  0308  3A 00 00    	ld	a,(_game_bonus)
1388  030B  B7          	or	a, a
1389  030C  20 11       	jr	NZ,l_game_phase_print_00102
1390  030E  21 00 00    	ld	hl,_phase_curr
1391  0311  56          	ld	d,(hl)
1392  0312  14          	inc	d
1393  0313  C5          	push	bc
1394  0314  1E 11       	ld	e,0x11
1395  0316  D5          	push	de
1396  0317  C5          	push	bc
1397  0318  33          	inc	sp
1398  0319  CD 00 00    	call	_zx_print_chr
1399  031C  C1          	pop	bc
1400  031D  18 35       	jr	l_game_phase_print_00109
1401  031F              l_game_phase_print_00102:
1402  031F  C5          	push	bc
1403  0320  21 6B 03    	ld	hl,___str_11
1404  0323  E5          	push	hl
1405  0324  3E 11       	ld	a,0x11
1406  0326  48          	ld	c,b
1407  0327  47          	ld	b,a
1408  0328  C5          	push	bc
1409  0329  CD 00 00    	call	_zx_print_str
1410  032C  C1          	pop	bc
1411  032D  18 25       	jr	l_game_phase_print_00109
1412  032F              l_game_phase_print_00108:
1413  032F  3A 00 00    	ld	a,(_game_type)
1414  0332  D6 02       	sub	a,0x02
1415  0334  28 10       	jr	Z,l_game_phase_print_00105
1416  0336  C5          	push	bc
1417  0337  21 71 03    	ld	hl,___str_12
1418  033A  E5          	push	hl
1419  033B  3E 11       	ld	a,0x11
1420  033D  48          	ld	c,b
1421  033E  47          	ld	b,a
1422  033F  C5          	push	bc
1423  0340  CD 00 00    	call	_zx_print_str
1424  0343  C1          	pop	bc
1425  0344  18 0E       	jr	l_game_phase_print_00109
1426  0346              l_game_phase_print_00105:
1427  0346  C5          	push	bc
1428  0347  21 76 03    	ld	hl,___str_13
1429  034A  E5          	push	hl
1430  034B  3E 11       	ld	a,0x11
1431  034D  48          	ld	c,b
1432  034E  47          	ld	b,a
1433  034F  C5          	push	bc
1434  0350  CD 00 00    	call	_zx_print_str
1435  0353  C1          	pop	bc
1436  0354              l_game_phase_print_00109:
1437  0354  21 2C 01    	ld	hl,0x012c
1438  0357  E5          	push	hl
1439  0358  21 0B 18    	ld	hl,0x180b
1440  035B  E5          	push	hl
1441  035C  C5          	push	bc
1442  035D  33          	inc	sp
1443  035E  CD 81 1B    	call	_game_colour_message
1444  0361  F1          	pop	af
1445  0362  F1          	pop	af
1446  0363  33          	inc	sp
1447  0364  C9          	ret
1448  0365              ___str_10:
1449  0365  50 48 41 53 45 
                        	DEFM "PHASE"
1450  036A  00          	DEFB 0x00
1451  036B              ___str_11:
1452  036B  42 4F 4E 55 53 
                        	DEFM "BONUS"
1453  0370  00          	DEFB 0x00
1454  0371              ___str_12:
1455  0371  48 45 4C 4C 	DEFM "HELL"
1456  0375  00          	DEFB 0x00
1457  0376              ___str_13:
1458  0376  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1459  037C  00          	DEFB 0x00
1460  037D              ;	---------------------------------
1461  037D              ; Function game_loop
1462  037D              ; ---------------------------------
1463  037D              _game_loop:
1464  037D  21 69 05    	ld	hl,___str_14
1465  0380  E5          	push	hl
1466  0381  21 16 07    	ld	hl,0x0716
1467  0384  E5          	push	hl
1468  0385  CD 00 00    	call	_zx_print_str
1469  0388  21 7C 05    	ld	hl,___str_15
1470  038B  E5          	push	hl
1471  038C  21 17 07    	ld	hl,0x0717
1472  038F  E5          	push	hl
1473  0390  CD 00 00    	call	_zx_print_str
1474  0393  21 00 00    	ld	hl,_ay_effect_10
1475  0396  CD 00 00    	call	_ay_fx_play
1476  0399  CD 00 00    	call	_sound_coin
1477  039C  21 C8 00    	ld	hl,0x00c8
1478  039F  CD 00 00    	call	_z80_delay_ms_fastcall
1479  03A2  21 8F 05    	ld	hl,___str_16
1480  03A5  E5          	push	hl
1481  03A6  21 16 07    	ld	hl,0x0716
1482  03A9  E5          	push	hl
1483  03AA  CD 00 00    	call	_zx_print_str
1484  03AD  CD 00 00    	call	_ay_reset
1485  03B0  21 11 11    	ld	hl,0x1111
1486  03B3  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1487  03B6  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1488  03B9  01 00 00    	ld	bc,_game_lives+0
1489  03BC  3E 04       	ld	a,0x04
1490  03BE  02          	ld	(bc),a
1491  03BF  03          	inc	bc
1492  03C0  3A 00 00    	ld	a,(_game_two_player)
1493  03C3  B7          	or	a,a
1494  03C4  28 05       	jr	Z,l_game_loop_00102
1495  03C6  3E 04       	ld	a,0x04
1496  03C8  02          	ld	(bc),a
1497  03C9  18 02       	jr	l_game_loop_00103
1498  03CB              l_game_loop_00102:
1499  03CB  AF          	xor	a, a
1500  03CC  02          	ld	(bc),a
1501  03CD              l_game_loop_00103:
1502  03CD  21 00 00    	ld	hl,0x0000
1503  03D0  22 00 00    	ld	(_player_score), hl
1504  03D3  2E 00       	ld	l,0x00
1505  03D5  22 02 00    	ld	(_player_score + 0x0002),hl
1506  03D8  21 D0 07    	ld	hl,0x07d0
1507  03DB  22 00 00    	ld	(_player_next_extra), hl
1508  03DE  2E D0       	ld	l,0xd0
1509  03E0  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1510  03E3  21 00 00    	ld	hl,_spr_water_clear
1511  03E6  36 FF       	ld	(hl),0xff
1512  03E8  3A 00 00    	ld	a,(_game_type)
1513  03EB  B7          	or	a, a
1514  03EC  20 0E       	jr	NZ,l_game_loop_00105
1515  03EE  21 F4 01    	ld	hl,0x01f4
1516  03F1  22 00 00    	ld	(_game_time_flipped),hl
1517  03F4  21 D0 07    	ld	hl,0x07d0
1518  03F7  22 00 00    	ld	(_game_time_fireball_start),hl
1519  03FA  18 0C       	jr	l_game_loop_00106
1520  03FC              l_game_loop_00105:
1521  03FC  21 FA 00    	ld	hl,0x00fa
1522  03FF  22 00 00    	ld	(_game_time_flipped),hl
1523  0402  21 F4 01    	ld	hl,0x01f4
1524  0405  22 00 00    	ld	(_game_time_fireball_start),hl
1525  0408              l_game_loop_00106:
1526  0408  21 00 00    	ld	hl,_game_over
1527  040B  36 00       	ld	(hl),0x00
1528  040D  21 00 00    	ld	hl,_game_pow
1529  0410  36 03       	ld	(hl),0x03
1530  0412  21 00 00    	ld	hl,_phase_curr
1531  0415  36 00       	ld	(hl),0x00
1532  0417  CD B9 01    	call	_game_phase_init
1533  041A  21 00 00    	ld	hl,_sprite_lin_inc_mul
1534  041D  36 00       	ld	(hl),0x00
1535  041F  21 00 00    	ld	hl,0x0000
1536  0422  22 00 00    	ld	(_loop_count),hl
1537  0425  21 00 00    	ld	hl,_dirs
1538  0428  36 00       	ld	(hl),0x00
1539  042A  CD BF 0C    	call	_game_unfreeze_all
1540  042D  CD 09 10    	call	_game_joystick_set
1541  0430              l_game_loop_00134:
1542  0430  3A 00 00    	ld	a,(_game_over)
1543  0433  B7          	or	a, a
1544  0434  C2 2D 05    	jp	NZ,l_game_loop_00136
1545  0437  CD 00 00    	call	_player_set1
1546  043A  CD 00 00    	call	_player_turn
1547  043D  CD 00 00    	call	_player_set2
1548  0440  CD 00 00    	call	_player_turn
1549  0443  CD 00 00    	call	_enemy_turn
1550  0446  3A 00 00    	ld	a,(_game_bonus)
1551  0449  B7          	or	a, a
1552  044A  28 16       	jr	Z,l_game_loop_00111
1553  044C  CD F1 06    	call	_game_bonus_clock
1554  044F  3A 00 00    	ld	a,(_phase_left)
1555  0452  B7          	or	a, a
1556  0453  28 0D       	jr	Z,l_game_loop_00111
1557  0455  CD 00 00    	call	_ay_is_playing
1558  0458  7D          	ld	a,l
1559  0459  B7          	or	a, a
1560  045A  20 06       	jr	NZ,l_game_loop_00111
1561  045C  21 00 00    	ld	hl,_ay_effect_19
1562  045F  CD 00 00    	call	_ay_fx_play
1563  0462              l_game_loop_00111:
1564  0462  CD 00 00    	call	_spr_water_splash_clear
1565  0465  21 64 00    	ld	hl,0x0064
1566  0468  E5          	push	hl
1567  0469  2A 00 00    	ld	hl,(_frame_time)
1568  046C  E5          	push	hl
1569  046D  CD 13 1C    	call	_game_check_time
1570  0470  F1          	pop	af
1571  0471  F1          	pop	af
1572  0472  7D          	ld	a,l
1573  0473  B7          	or	a, a
1574  0474  CA 21 05    	jp	Z,l_game_loop_00133
1575  0477  2A 00 00    	ld	hl,(_curr_time)
1576  047A  22 00 00    	ld	(_frame_time),hl
1577  047D  3A 00 00    	ld	a,(_game_bonus)
1578  0480  B7          	or	a,a
1579  0481  20 03       	jr	NZ,l_game_loop_00113
1580  0483  CD 84 09    	call	_game_enemy_add
1581  0486              l_game_loop_00113:
1582  0486  3A 00 00    	ld	a,(_phase_left)
1583  0489  3D          	dec	a
1584  048A  20 55       	jr	NZ,l_game_loop_00120
1585  048C  3A 00 00    	ld	a,(_phase_angry)
1586  048F  B7          	or	a, a
1587  0490  20 4F       	jr	NZ,l_game_loop_00120
1588  0492  21 00 00    	ld	hl,_sprite
1589  0495  36 00       	ld	(hl),0x00
1590  0497              l_game_loop_00137:
1591  0497  2A 00 00    	ld	hl,(_sprite)
1592  049A  26 00       	ld	h,0x00
1593  049C  01 00 00    	ld	bc,_class
1594  049F  09          	add	hl,bc
1595  04A0  7E          	ld	a,(hl)
1596  04A1  4F          	ld	c,a
1597  04A2  B7          	or	a,a
1598  04A3  28 32       	jr	Z,l_game_loop_00138
1599  04A5  3E 09       	ld	a,0x09
1600  04A7  91          	sub	a,c
1601  04A8  38 2D       	jr	C,l_game_loop_00138
1602  04AA  3A 00 00    	ld	a,(_sprite)
1603  04AD  4F          	ld	c,a
1604  04AE  06 00       	ld	b,0x00
1605  04B0  21 00 00    	ld	hl,_state
1606  04B3  09          	add	hl,bc
1607  04B4  CB 6E       	bit	5,(hl)
1608  04B6  20 1F       	jr	NZ,l_game_loop_00138
1609  04B8  21 00 00    	ld	hl,_phase_angry
1610  04BB  36 01       	ld	(hl),0x01
1611  04BD  CD 00 00    	call	_enemy_evolve
1612  04C0  CD 00 00    	call	_enemy_evolve
1613  04C3  3E 00       	ld	a,+((_tile) & 0xFF)
1614  04C5  21 00 00    	ld	hl,_sprite
1615  04C8  86          	add	a, (hl)
1616  04C9  4F          	ld	c,a
1617  04CA  3E 00       	ld	a,+((_tile) / 256)
1618  04CC  CE 00       	adc	a,0x00
1619  04CE  47          	ld	b,a
1620  04CF  6E          	ld	l,(hl)
1621  04D0  C5          	push	bc
1622  04D1  CD 00 00    	call	_spr_tile
1623  04D4  C1          	pop	bc
1624  04D5  7D          	ld	a, l
1625  04D6  02          	ld	(bc),a
1626  04D7              l_game_loop_00138:
1627  04D7  21 00 00    	ld	hl,_sprite
1628  04DA  7E          	ld	a,(hl)
1629  04DB  3C          	inc	a
1630  04DC  77          	ld	(hl),a
1631  04DD  D6 06       	sub	a,0x06
1632  04DF  38 B6       	jr	C,l_game_loop_00137
1633  04E1              l_game_loop_00120:
1634  04E1  3A 00 00    	ld	a,(_phase_end)
1635  04E4  3D          	dec	a
1636  04E5  20 3A       	jr	NZ,l_game_loop_00133
1637  04E7  3A 00 00    	ld	a,(_game_type)
1638  04EA  D6 02       	sub	a,0x02
1639  04EC  28 33       	jr	Z,l_game_loop_00133
1640  04EE  21 90 01    	ld	hl,0x0190
1641  04F1  CD 00 00    	call	_z80_delay_ms_fastcall
1642  04F4  CD 00 00    	call	_ay_is_playing
1643  04F7  7D          	ld	a, l
1644  04F8  D6 02       	sub	a,0x02
1645  04FA  30 03       	jr	NC,l_game_loop_00123
1646  04FC  CD 00 00    	call	_ay_reset
1647  04FF              l_game_loop_00123:
1648  04FF  CD 52 09    	call	_game_kill_all_sprites
1649  0502  3A 00 00    	ld	a,(_game_bonus)
1650  0505  B7          	or	a, a
1651  0506  28 03       	jr	Z,l_game_loop_00125
1652  0508  CD 57 07    	call	_game_bonus_summary
1653  050B              l_game_loop_00125:
1654  050B  21 00 00    	ld	hl,_phase_curr
1655  050E  34          	inc	(hl)
1656  050F  3E 1F       	ld	a,0x1f
1657  0511  96          	sub	a, (hl)
1658  0512  30 0A       	jr	NC,l_game_loop_00127
1659  0514  CD 65 13    	call	_game_end
1660  0517  21 00 00    	ld	hl,_game_over
1661  051A  36 01       	ld	(hl),0x01
1662  051C  18 03       	jr	l_game_loop_00133
1663  051E              l_game_loop_00127:
1664  051E  CD B9 01    	call	_game_phase_init
1665  0521              l_game_loop_00133:
1666  0521  21 00 00    	ld	hl,_loop_count
1667  0524  34          	inc	(hl)
1668  0525  C2 30 04    	jp	NZ,l_game_loop_00134
1669  0528  23          	inc	hl
1670  0529  34          	inc	(hl)
1671  052A  C3 30 04    	jp	l_game_loop_00134
1672  052D              l_game_loop_00136:
1673  052D  21 20 03    	ld	hl,0x0320
1674  0530  CD 00 00    	call	_z80_delay_ms_fastcall
1675  0533  CD 52 09    	call	_game_kill_all_sprites
1676  0536  76          	halt
1677  0537  CD 00 00    	call	_spr_draw_clear
1678  053A  21 A2 05    	ld	hl,___str_17
1679  053D  E5          	push	hl
1680  053E  21 08 0B    	ld	hl,0x0b08
1681  0541  E5          	push	hl
1682  0542  CD 00 00    	call	_zx_print_str
1683  0545  21 C8 00    	ld	hl,0x00c8
1684  0548  E5          	push	hl
1685  0549  21 0B 15    	ld	hl,0x150b
1686  054C  E5          	push	hl
1687  054D  3E 08       	ld	a,0x08
1688  054F  F5          	push	af
1689  0550  33          	inc	sp
1690  0551  CD 81 1B    	call	_game_colour_message
1691  0554  F1          	pop	af
1692  0555  F1          	pop	af
1693  0556  33          	inc	sp
1694  0557  CD A8 16    	call	_game_hall_enter
1695  055A  CD 00 00    	call	_ay_reset
1696  055D  21 00 00    	ld	hl,_game_menu_sel
1697  0560  36 00       	ld	(hl),0x00
1698  0562  CD FC 10    	call	_game_menu_paint
1699  0565  CD FC 0F    	call	_game_joystick_set_menu
1700  0568  C9          	ret
1701  0569              ___str_14:
1702  0569  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1703  057B  00          	DEFB 0x00
1704  057C              ___str_15:
1705  057C  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1706  058E  00          	DEFB 0x00
1707  058F              ___str_16:
1708  058F  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1709  05A1  00          	DEFB 0x00
1710  05A2              ___str_17:
1711  05A2  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1712  05AB  00          	DEFB 0x00
1713  05AC              ;	---------------------------------
1714  05AC              ; Function game_score_osd
1715  05AC              ; ---------------------------------
1716  05AC              _game_score_osd:
1717  05AC  3A 00 00    	ld	a,(_index_player)
1718  05AF  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1719  05B1  4F          	ld	c,a
1720  05B2  3E 00       	ld	a,+((_score_osd_col) / 256)
1721  05B4  CE 00       	adc	a,0x00
1722  05B6  47          	ld	b,a
1723  05B7  0A          	ld	a,(bc)
1724  05B8  57          	ld	d,a
1725  05B9  3C          	inc	a
1726  05BA  20 72       	jr	NZ,l_game_score_osd_00117
1727  05BC  3A 00 00    	ld	a,(_hit_count)
1728  05BF  B7          	or	a, a
1729  05C0  CA F0 06    	jp	Z,l_game_score_osd_00119
1730  05C3  2A 00 00    	ld	hl,(_sprite)
1731  05C6  26 00       	ld	h,0x00
1732  05C8  11 00 00    	ld	de,_col
1733  05CB  19          	add	hl,de
1734  05CC  7E          	ld	a,(hl)
1735  05CD  02          	ld	(bc),a
1736  05CE  3A 00 00    	ld	a,(_index_player)
1737  05D1  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1738  05D3  4F          	ld	c,a
1739  05D4  3E 00       	ld	a,+((_score_osd_lin) / 256)
1740  05D6  CE 00       	adc	a,0x00
1741  05D8  47          	ld	b,a
1742  05D9  2A 00 00    	ld	hl,(_sprite)
1743  05DC  26 00       	ld	h,0x00
1744  05DE  11 00 00    	ld	de,_lin
1745  05E1  19          	add	hl,de
1746  05E2  7E          	ld	a,(hl)
1747  05E3  02          	ld	(bc),a
1748  05E4  01 00 00    	ld	bc,_score_osd_time+0
1749  05E7  2A 00 00    	ld	hl,(_index_player)
1750  05EA  26 00       	ld	h,0x00
1751  05EC  29          	add	hl, hl
1752  05ED  09          	add	hl,bc
1753  05EE  ED 5B 00 00 	ld	de,(_curr_time)
1754  05F2  73          	ld	(hl),e
1755  05F3  23          	inc	hl
1756  05F4  72          	ld	(hl),d
1757  05F5  2A 00 00    	ld	hl,(_index_player)
1758  05F8  26 00       	ld	h,0x00
1759  05FA  29          	add	hl,hl
1760  05FB  3A 00 00    	ld	a,(_hit_count)
1761  05FE  3D          	dec	a
1762  05FF  4D          	ld	c,l
1763  0600  44          	ld	b,h
1764  0601  20 0C       	jr	NZ,l_game_score_osd_00105
1765  0603  21 00 00    	ld	hl,_score_osd_tile
1766  0606  09          	add	hl,bc
1767  0607  36 BC       	ld	(hl),0xbc
1768  0609  23          	inc	hl
1769  060A  36 00       	ld	(hl),0x00
1770  060C  C3 F0 06    	jp	l_game_score_osd_00119
1771  060F              l_game_score_osd_00105:
1772  060F  3A 00 00    	ld	a,(_hit_count)
1773  0612  D6 08       	sub	a,0x08
1774  0614  30 0C       	jr	NC,l_game_score_osd_00102
1775  0616  21 00 00    	ld	hl,_score_osd_tile
1776  0619  09          	add	hl,bc
1777  061A  36 BD       	ld	(hl),0xbd
1778  061C  23          	inc	hl
1779  061D  36 00       	ld	(hl),0x00
1780  061F  C3 F0 06    	jp	l_game_score_osd_00119
1781  0622              l_game_score_osd_00102:
1782  0622  21 00 00    	ld	hl,_score_osd_tile
1783  0625  09          	add	hl,bc
1784  0626  36 BE       	ld	(hl),0xbe
1785  0628  23          	inc	hl
1786  0629  36 00       	ld	(hl),0x00
1787  062B  C3 F0 06    	jp	l_game_score_osd_00119
1788  062E              l_game_score_osd_00117:
1789  062E  3A 00 00    	ld	a,(_index_player)
1790  0631  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1791  0633  4F          	ld	c,a
1792  0634  3E 00       	ld	a,+((_score_osd_lin) / 256)
1793  0636  CE 00       	adc	a,0x00
1794  0638  47          	ld	b,a
1795  0639  0A          	ld	a,(bc)
1796  063A  C6 FE       	add	a,0xfe
1797  063C  32 00 00    	ld	(_tmp),a
1798  063F  5F          	ld	e,a
1799  0640  D5          	push	de
1800  0641  CD 00 00    	call	_game_calc_index
1801  0644  F1          	pop	af
1802  0645  22 00 00    	ld	(_index1),hl
1803  0648  3E 08       	ld	a,0x08
1804  064A  21 00 00    	ld	hl,_tmp
1805  064D  96          	sub	a, (hl)
1806  064E  30 5B       	jr	NC,l_game_score_osd_00110
1807  0650  21 01 00    	ld	hl,_index1 + 1
1808  0653  7E          	ld	a,(hl)
1809  0654  2B          	dec	hl
1810  0655  B6          	or	a,(hl)
1811  0656  28 53       	jr	Z,l_game_score_osd_00110
1812  0658  01 00 00    	ld	bc,_lvl_1+0
1813  065B  79          	ld	a,c
1814  065C  86          	add	a, (hl)
1815  065D  5F          	ld	e,a
1816  065E  78          	ld	a,b
1817  065F  23          	inc	hl
1818  0660  8E          	adc	a, (hl)
1819  0661  57          	ld	d,a
1820  0662  1A          	ld	a,(de)
1821  0663  B7          	or	a, a
1822  0664  20 45       	jr	NZ,l_game_score_osd_00110
1823  0666  56          	ld	d,(hl)
1824  0667  2B          	dec	hl
1825  0668  5E          	ld	e,(hl)
1826  0669  13          	inc	de
1827  066A  69          	ld	l, c
1828  066B  60          	ld	h, b
1829  066C  19          	add	hl,de
1830  066D  7E          	ld	a,(hl)
1831  066E  B7          	or	a, a
1832  066F  20 3A       	jr	NZ,l_game_score_osd_00110
1833  0671  76          	halt
1834  0672  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1835  0674  21 00 00    	ld	hl,_index_player
1836  0677  86          	add	a, (hl)
1837  0678  4F          	ld	c,a
1838  0679  3E 00       	ld	a,+((_score_osd_col) / 256)
1839  067B  CE 00       	adc	a,0x00
1840  067D  47          	ld	b,a
1841  067E  0A          	ld	a,(bc)
1842  067F  57          	ld	d,a
1843  0680  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1844  0682  86          	add	a, (hl)
1845  0683  4F          	ld	c,a
1846  0684  3E 00       	ld	a,+((_score_osd_lin) / 256)
1847  0686  CE 00       	adc	a,0x00
1848  0688  47          	ld	b,a
1849  0689  0A          	ld	a,(bc)
1850  068A  5F          	ld	e,a
1851  068B  6E          	ld	l, (hl)
1852  068C  26 00       	ld	h,0x00
1853  068E  29          	add	hl, hl
1854  068F  01 00 00    	ld	bc,_score_osd_tile
1855  0692  09          	add	hl,bc
1856  0693  46          	ld	b,(hl)
1857  0694  23          	inc	hl
1858  0695  4E          	ld	c,(hl)
1859  0696  D5          	push	de
1860  0697  C5          	push	bc
1861  0698  33          	inc	sp
1862  0699  CD 00 00    	call	_NIRVANAP_drawT_callee
1863  069C  3A 00 00    	ld	a,(_index_player)
1864  069F  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1865  06A1  4F          	ld	c,a
1866  06A2  3E 00       	ld	a,+((_score_osd_lin) / 256)
1867  06A4  CE 00       	adc	a,0x00
1868  06A6  47          	ld	b,a
1869  06A7  3A 00 00    	ld	a,(_tmp)
1870  06AA  02          	ld	(bc),a
1871  06AB              l_game_score_osd_00110:
1872  06AB  01 00 00    	ld	bc,_score_osd_time+0
1873  06AE  2A 00 00    	ld	hl,(_index_player)
1874  06B1  26 00       	ld	h,0x00
1875  06B3  29          	add	hl, hl
1876  06B4  09          	add	hl,bc
1877  06B5  4E          	ld	c,(hl)
1878  06B6  23          	inc	hl
1879  06B7  46          	ld	b,(hl)
1880  06B8  21 32 00    	ld	hl,0x0032
1881  06BB  E5          	push	hl
1882  06BC  C5          	push	bc
1883  06BD  CD 13 1C    	call	_game_check_time
1884  06C0  F1          	pop	af
1885  06C1  F1          	pop	af
1886  06C2  7D          	ld	a,l
1887  06C3  B7          	or	a, a
1888  06C4  C8          	ret	Z
1889  06C5  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1890  06C7  21 00 00    	ld	hl,_index_player
1891  06CA  86          	add	a, (hl)
1892  06CB  4F          	ld	c,a
1893  06CC  3E 00       	ld	a,+((_score_osd_col) / 256)
1894  06CE  CE 00       	adc	a,0x00
1895  06D0  47          	ld	b,a
1896  06D1  0A          	ld	a,(bc)
1897  06D2  57          	ld	d,a
1898  06D3  4E          	ld	c,(hl)
1899  06D4  06 00       	ld	b,0x00
1900  06D6  21 00 00    	ld	hl,_score_osd_lin
1901  06D9  09          	add	hl,bc
1902  06DA  5E          	ld	e, (hl)
1903  06DB  D5          	push	de
1904  06DC  AF          	xor	a, a
1905  06DD  F5          	push	af
1906  06DE  33          	inc	sp
1907  06DF  CD 00 00    	call	_NIRVANAP_fillT_callee
1908  06E2  3A 00 00    	ld	a,(_index_player)
1909  06E5  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1910  06E7  4F          	ld	c,a
1911  06E8  3E 00       	ld	a,+((_score_osd_col) / 256)
1912  06EA  CE 00       	adc	a,0x00
1913  06EC  47          	ld	b,a
1914  06ED  3E FF       	ld	a,0xff
1915  06EF  02          	ld	(bc),a
1916  06F0              l_game_score_osd_00119:
1917  06F0  C9          	ret
1918  06F1              ;	---------------------------------
1919  06F1              ; Function game_bonus_clock
1920  06F1              ; ---------------------------------
1921  06F1              _game_bonus_clock:
1922  06F1  2A 00 00    	ld	hl,(_curr_time)
1923  06F4  29          	add	hl,hl
1924  06F5  3E D0       	ld	a,0xd0
1925  06F7  95          	sub	a,l
1926  06F8  44          	ld	b,h
1927  06F9  21 00 00    	ld	hl,_tmp_ui
1928  06FC  77          	ld	(hl),a
1929  06FD  3E 07       	ld	a,0x07
1930  06FF  98          	sbc	a, b
1931  0700  23          	inc	hl
1932  0701  77          	ld	(hl),a
1933  0702  3E D0       	ld	a,0xd0
1934  0704  2B          	dec	hl
1935  0705  BE          	cp	a, (hl)
1936  0706  3E 07       	ld	a,0x07
1937  0708  23          	inc	hl
1938  0709  9E          	sbc	a, (hl)
1939  070A  30 14       	jr	NC,l_game_bonus_clock_00106
1940  070C  2B          	dec	hl
1941  070D  AF          	xor	a, a
1942  070E  77          	ld	(hl), a
1943  070F  23          	inc	hl
1944  0710  77          	ld	(hl), a
1945  0711  21 00 00    	ld	hl,_phase_left
1946  0714  36 00       	ld	(hl),0x00
1947  0716  21 00 00    	ld	hl,_phase_end
1948  0719  36 01       	ld	(hl),0x01
1949  071B  CD 00 00    	call	_ay_reset
1950  071E  18 36       	jr	l_game_bonus_clock_00108
1951  0720              l_game_bonus_clock_00106:
1952  0720  3A 00 00    	ld	a,(_phase_left)
1953  0723  B7          	or	a, a
1954  0724  C8          	ret	Z
1955  0725  2A 00 00    	ld	hl,(_tmp_ui)
1956  0728  E5          	push	hl
1957  0729  21 02 0E    	ld	hl,0x0e02
1958  072C  E5          	push	hl
1959  072D  CD 00 00    	call	_zx_print_bonus_time
1960  0730  21 05 00    	ld	hl,0x0005
1961  0733  E5          	push	hl
1962  0734  2A 00 00    	ld	hl,(_frame_time)
1963  0737  E5          	push	hl
1964  0738  CD 13 1C    	call	_game_check_time
1965  073B  F1          	pop	af
1966  073C  F1          	pop	af
1967  073D  7D          	ld	a,l
1968  073E  B7          	or	a, a
1969  073F  C8          	ret	Z
1970  0740  2A 00 00    	ld	hl,(_curr_time)
1971  0743  22 00 00    	ld	(_frame_time),hl
1972  0746  21 14 18    	ld	hl,0x1814
1973  0749  E5          	push	hl
1974  074A  3E 0E       	ld	a,0x0e
1975  074C  F5          	push	af
1976  074D  33          	inc	sp
1977  074E  CD 8D 0D    	call	_game_paint_attrib_lin_h
1978  0751  F1          	pop	af
1979  0752  33          	inc	sp
1980  0753  CD 65 1B    	call	_game_rotate_attrib
1981  0756              l_game_bonus_clock_00108:
1982  0756  C9          	ret
1983  0757              ;	---------------------------------
1984  0757              ; Function game_bonus_summary
1985  0757              ; ---------------------------------
1986  0757              _game_bonus_summary:
1987  0757  CD 52 09    	call	_game_kill_all_sprites
1988  075A  CD 00 00    	call	_spr_draw_clear
1989  075D  21 00 00    	ld	hl,0x0000
1990  0760  CD 00 00    	call	_zx_cls_fastcall
1991  0763  CD C7 00    	call	_game_phase_print_score_back
1992  0766  CD 11 0D    	call	_game_print_score
1993  0769  3A 00 00    	ld	a,(_game_lives)
1994  076C  B7          	or	a, a
1995  076D  28 05       	jr	Z,l_game_bonus_summary_00102
1996  076F  2E 00       	ld	l,0x00
1997  0771  CD 3B 08    	call	_game_bonus_summary_player
1998  0774              l_game_bonus_summary_00102:
1999  0774  3A 01 00    	ld	a, (_game_lives + 1)
2000  0777  B7          	or	a, a
2001  0778  28 05       	jr	Z,l_game_bonus_summary_00104
2002  077A  2E 01       	ld	l,0x01
2003  077C  CD 3B 08    	call	_game_bonus_summary_player
2004  077F              l_game_bonus_summary_00104:
2005  077F  21 1F 98    	ld	hl,0x981f
2006  0782  E5          	push	hl
2007  0783  AF          	xor	a, a
2008  0784  F5          	push	af
2009  0785  33          	inc	sp
2010  0786  CD 66 0D    	call	_game_paint_attrib_lin
2011  0789  F1          	pop	af
2012  078A  33          	inc	sp
2013  078B  3A 00 00    	ld	a,(_phase_bonus_total)
2014  078E  D6 06       	sub	a,0x06
2015  0790  20 68       	jr	NZ,l_game_bonus_summary_00109
2016  0792  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2017  0795  B7          	or	a, a
2018  0796  20 62       	jr	NZ,l_game_bonus_summary_00109
2019  0798  CD 00 00    	call	_sound_jump
2020  079B  3A 00 00    	ld	a,(_phase_curr)
2021  079E  D6 03       	sub	a,0x03
2022  07A0  20 23       	jr	NZ,l_game_bonus_summary_00106
2023  07A2  21 0C 08    	ld	hl,___str_18
2024  07A5  E5          	push	hl
2025  07A6  21 12 06    	ld	hl,0x0612
2026  07A9  E5          	push	hl
2027  07AA  CD 00 00    	call	_zx_print_str
2028  07AD  21 00 00    	ld	hl,_index_player
2029  07B0  36 00       	ld	(hl),0x00
2030  07B2  21 2C 01    	ld	hl,0x012c
2031  07B5  CD 00 00    	call	_player_score_add
2032  07B8  21 00 00    	ld	hl,_index_player
2033  07BB  36 01       	ld	(hl),0x01
2034  07BD  21 2C 01    	ld	hl,0x012c
2035  07C0  CD 00 00    	call	_player_score_add
2036  07C3  18 21       	jr	l_game_bonus_summary_00107
2037  07C5              l_game_bonus_summary_00106:
2038  07C5  21 1F 08    	ld	hl,___str_19
2039  07C8  E5          	push	hl
2040  07C9  21 12 06    	ld	hl,0x0612
2041  07CC  E5          	push	hl
2042  07CD  CD 00 00    	call	_zx_print_str
2043  07D0  21 00 00    	ld	hl,_index_player
2044  07D3  36 00       	ld	(hl),0x00
2045  07D5  21 F4 01    	ld	hl,0x01f4
2046  07D8  CD 00 00    	call	_player_score_add
2047  07DB  21 00 00    	ld	hl,_index_player
2048  07DE  36 01       	ld	(hl),0x01
2049  07E0  21 F4 01    	ld	hl,0x01f4
2050  07E3  CD 00 00    	call	_player_score_add
2051  07E6              l_game_bonus_summary_00107:
2052  07E6  21 C8 00    	ld	hl,0x00c8
2053  07E9  E5          	push	hl
2054  07EA  21 10 1A    	ld	hl,0x1a10
2055  07ED  E5          	push	hl
2056  07EE  3E 12       	ld	a,0x12
2057  07F0  F5          	push	af
2058  07F1  33          	inc	sp
2059  07F2  CD 81 1B    	call	_game_colour_message
2060  07F5  F1          	pop	af
2061  07F6  F1          	pop	af
2062  07F7  33          	inc	sp
2063  07F8  18 11       	jr	l_game_bonus_summary_00112
2064  07FA              l_game_bonus_summary_00109:
2065  07FA  21 32 08    	ld	hl,___str_20
2066  07FD  E5          	push	hl
2067  07FE  21 12 0C    	ld	hl,0x0c12
2068  0801  E5          	push	hl
2069  0802  CD 00 00    	call	_zx_print_str
2070  0805  21 E8 03    	ld	hl,0x03e8
2071  0808  CD 00 00    	call	_z80_delay_ms_fastcall
2072  080B              l_game_bonus_summary_00112:
2073  080B  C9          	ret
2074  080C              ___str_18:
2075  080C  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2076  081E  00          	DEFB 0x00
2077  081F              ___str_19:
2078  081F  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2079  0831  00          	DEFB 0x00
2080  0832              ___str_20:
2081  0832  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2082  083A  00          	DEFB 0x00
2083  083B              ;	---------------------------------
2084  083B              ; Function game_bonus_summary_player
2085  083B              ; ---------------------------------
2086  083B              _game_bonus_summary_player:
2087  083B  CD 00 00    	call	___sdcc_enter_ix
2088  083E  F5          	push	af
2089  083F  3B          	dec	sp
2090  0840  DD 75 FF    	ld	(ix-1),l
2091  0843  76          	halt
2092  0844  DD 7E FF    	ld	a,(ix-1)
2093  0847  B7          	or	a, a
2094  0848  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2095  084A  21 00 00    	ld	hl,_s_lin1
2096  084D  36 06       	ld	(hl),0x06
2097  084F  21 3F 09    	ld	hl,___str_21
2098  0852  E5          	push	hl
2099  0853  21 06 07    	ld	hl,0x0706
2100  0856  E5          	push	hl
2101  0857  CD 00 00    	call	_zx_print_str
2102  085A  3A 00 00    	ld	a,(_s_lin1)
2103  085D  07          	rlca
2104  085E  07          	rlca
2105  085F  07          	rlca
2106  0860  E6 F8       	and	a,0xf8
2107  0862  47          	ld	b,a
2108  0863  04          	inc	b
2109  0864  04          	inc	b
2110  0865  04          	inc	b
2111  0866  04          	inc	b
2112  0867  3E 04       	ld	a,0x04
2113  0869  48          	ld	c,b
2114  086A  47          	ld	b,a
2115  086B  C5          	push	bc
2116  086C  3E 03       	ld	a,0x03
2117  086E  F5          	push	af
2118  086F  33          	inc	sp
2119  0870  CD 00 00    	call	_NIRVANAP_drawT_callee
2120  0873  21 00 00    	ld	hl,_index_player
2121  0876  36 00       	ld	(hl),0x00
2122  0878  18 2E       	jr	l_game_bonus_summary_player_00103
2123  087A              l_game_bonus_summary_player_00102:
2124  087A  21 00 00    	ld	hl,_s_lin1
2125  087D  36 0C       	ld	(hl),0x0c
2126  087F  21 46 09    	ld	hl,___str_22
2127  0882  E5          	push	hl
2128  0883  21 0C 07    	ld	hl,0x070c
2129  0886  E5          	push	hl
2130  0887  CD 00 00    	call	_zx_print_str
2131  088A  3A 00 00    	ld	a,(_s_lin1)
2132  088D  07          	rlca
2133  088E  07          	rlca
2134  088F  07          	rlca
2135  0890  E6 F8       	and	a,0xf8
2136  0892  47          	ld	b,a
2137  0893  04          	inc	b
2138  0894  04          	inc	b
2139  0895  04          	inc	b
2140  0896  04          	inc	b
2141  0897  3E 04       	ld	a,0x04
2142  0899  48          	ld	c,b
2143  089A  47          	ld	b,a
2144  089B  C5          	push	bc
2145  089C  3E 1B       	ld	a,0x1b
2146  089E  F5          	push	af
2147  089F  33          	inc	sp
2148  08A0  CD 00 00    	call	_NIRVANAP_drawT_callee
2149  08A3  21 00 00    	ld	hl,_index_player
2150  08A6  36 01       	ld	(hl),0x01
2151  08A8              l_game_bonus_summary_player_00103:
2152  08A8  3A 00 00    	ld	a,(_s_lin1)
2153  08AB  07          	rlca
2154  08AC  07          	rlca
2155  08AD  07          	rlca
2156  08AE  E6 F8       	and	a,0xf8
2157  08B0  C6 08       	add	a,0x08
2158  08B2  F5          	push	af
2159  08B3  33          	inc	sp
2160  08B4  21 07 1F    	ld	hl,0x1f07
2161  08B7  E5          	push	hl
2162  08B8  CD 66 0D    	call	_game_paint_attrib_lin
2163  08BB  F1          	pop	af
2164  08BC  33          	inc	sp
2165  08BD  21 00 00    	ld	hl,_tmp_uc
2166  08C0  36 00       	ld	(hl),0x00
2167  08C2  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2168  08C4  DD 86 FF    	add	a,(ix-1)
2169  08C7  DD 77 FD    	ld	(ix-3),a
2170  08CA  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2171  08CC  CE 00       	adc	a,0x00
2172  08CE  DD 77 FE    	ld	(ix-2),a
2173  08D1              l_game_bonus_summary_player_00107:
2174  08D1  E1          	pop	hl
2175  08D2  4E          	ld	c,(hl)
2176  08D3  3A 00 00    	ld	a,(_tmp_uc)
2177  08D6  E5          	push	hl
2178  08D7  91          	sub	a, c
2179  08D8  30 53       	jr	NC,l_game_bonus_summary_player_00109
2180  08DA  3A 00 00    	ld	a,(_s_lin1)
2181  08DD  07          	rlca
2182  08DE  07          	rlca
2183  08DF  07          	rlca
2184  08E0  E6 F8       	and	a,0xf8
2185  08E2  4F          	ld	c,a
2186  08E3  3A 00 00    	ld	a,(_tmp_uc)
2187  08E6  D6 03       	sub	a,0x03
2188  08E8  30 08       	jr	NC,l_game_bonus_summary_player_00105
2189  08EA  79          	ld	a,c
2190  08EB  C6 F8       	add	a,0xf8
2191  08ED  32 00 00    	ld	(_s_lin0),a
2192  08F0  18 06       	jr	l_game_bonus_summary_player_00106
2193  08F2              l_game_bonus_summary_player_00105:
2194  08F2  79          	ld	a,c
2195  08F3  C6 08       	add	a,0x08
2196  08F5  32 00 00    	ld	(_s_lin0),a
2197  08F8              l_game_bonus_summary_player_00106:
2198  08F8  76          	halt
2199  08F9  2A 00 00    	ld	hl,(_tmp_uc)
2200  08FC  26 03       	ld	h,0x03
2201  08FE  E5          	push	hl
2202  08FF  CD 00 00    	call	__moduchar_callee
2203  0902  7D          	ld	a,l
2204  0903  87          	add	a, a
2205  0904  C6 0E       	add	a,0x0e
2206  0906  F5          	push	af
2207  0907  33          	inc	sp
2208  0908  3A 00 00    	ld	a,(_s_lin0)
2209  090B  57          	ld	d,a
2210  090C  1E B9       	ld	e,0xb9
2211  090E  D5          	push	de
2212  090F  CD 00 00    	call	_NIRVANAP_drawT_callee
2213  0912  21 50 00    	ld	hl,0x0050
2214  0915  CD 00 00    	call	_player_score_add
2215  0918  21 00 00    	ld	hl,_tmp_uc
2216  091B  34          	inc	(hl)
2217  091C  21 00 00    	ld	hl,_ay_effect_09
2218  091F  CD 00 00    	call	_ay_fx_play
2219  0922  CD 00 00    	call	_sound_coin
2220  0925  21 32 00    	ld	hl,0x0032
2221  0928  CD 00 00    	call	_z80_delay_ms_fastcall
2222  092B  18 A4       	jr	l_game_bonus_summary_player_00107
2223  092D              l_game_bonus_summary_player_00109:
2224  092D  21 4C 09    	ld	hl,___str_23
2225  0930  E5          	push	hl
2226  0931  2A 00 00    	ld	hl,(_s_lin1)
2227  0934  26 16       	ld	h,0x16
2228  0936  E5          	push	hl
2229  0937  CD 00 00    	call	_zx_print_str
2230  093A  DD F9       	ld	sp, ix
2231  093C  DD E1       	pop	ix
2232  093E  C9          	ret
2233  093F              ___str_21:
2234  093F  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2235  0945  00          	DEFB 0x00
2236  0946              ___str_22:
2237  0946  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2238  094B  00          	DEFB 0x00
2239  094C              ___str_23:
2240  094C  58 20 38 30 30 
                        	DEFM "X 800"
2241  0951  00          	DEFB 0x00
2242  0952              ;	---------------------------------
2243  0952              ; Function game_kill_all_sprites
2244  0952              ; ---------------------------------
2245  0952              _game_kill_all_sprites:
2246  0952  21 00 00    	ld	hl,_sprite
2247  0955  36 00       	ld	(hl),0x00
2248  0957              l_game_kill_all_sprites_00102:
2249  0957  2A 00 00    	ld	hl,(_sprite)
2250  095A  CD 00 00    	call	_spr_destroy
2251  095D  21 00 00    	ld	hl,_sprite
2252  0960  7E          	ld	a,(hl)
2253  0961  3C          	inc	a
2254  0962  77          	ld	(hl),a
2255  0963  D6 08       	sub	a,0x08
2256  0965  38 F0       	jr	C,l_game_kill_all_sprites_00102
2257  0967  C9          	ret
2258  0968              ;	---------------------------------
2259  0968              ; Function game_check_maze
2260  0968              ; ---------------------------------
2261  0968              _game_check_maze:
2262  0968  4D          	ld	c,l
2263  0969  44          	ld	b,h
2264  096A  21 00 00    	ld	hl,_lvl_1
2265  096D  09          	add	hl,bc
2266  096E  7E          	ld	a, (hl)
2267  096F  D6 10       	sub	a,0x10
2268  0971  30 0A       	jr	NC,l_game_check_maze_00103
2269  0973  03          	inc	bc
2270  0974  21 00 00    	ld	hl,_lvl_1
2271  0977  09          	add	hl,bc
2272  0978  7E          	ld	a, (hl)
2273  0979  D6 10       	sub	a,0x10
2274  097B  38 04       	jr	C,l_game_check_maze_00104
2275  097D              l_game_check_maze_00103:
2276  097D  2E 00       	ld	l,0x00
2277  097F  18 02       	jr	l_game_check_maze_00105
2278  0981              l_game_check_maze_00104:
2279  0981  2E 01       	ld	l,0x01
2280  0983              l_game_check_maze_00105:
2281  0983  C9          	ret
2282  0984              ;	---------------------------------
2283  0984              ; Function game_enemy_add
2284  0984              ; ---------------------------------
2285  0984              _game_enemy_add:
2286  0984  3A 00 00    	ld	a,(_game_type)
2287  0987  D6 02       	sub	a,0x02
2288  0989  20 05       	jr	NZ,l_game_enemy_add_00106
2289  098B  CD B4 0A    	call	_game_enemy_rnd
2290  098E  18 21       	jr	l_game_enemy_add_00107
2291  0990              l_game_enemy_add_00106:
2292  0990  3A 00 00    	ld	a,(_spr_count)
2293  0993  D6 06       	sub	a,0x06
2294  0995  30 1A       	jr	NC,l_game_enemy_add_00107
2295  0997  21 64 00    	ld	hl,0x0064
2296  099A  E5          	push	hl
2297  099B  2A 00 00    	ld	hl,(_entry_time)
2298  099E  E5          	push	hl
2299  099F  CD 13 1C    	call	_game_check_time
2300  09A2  F1          	pop	af
2301  09A3  F1          	pop	af
2302  09A4  7D          	ld	a,l
2303  09A5  B7          	or	a, a
2304  09A6  28 09       	jr	Z,l_game_enemy_add_00107
2305  09A8  3A 00 00    	ld	a,(_phase_left)
2306  09AB  B7          	or	a, a
2307  09AC  28 03       	jr	Z,l_game_enemy_add_00107
2308  09AE  CD B4 09    	call	_game_enemy_quota
2309  09B1              l_game_enemy_add_00107:
2310  09B1  2E 00       	ld	l,0x00
2311  09B3  C9          	ret
2312  09B4              ;	---------------------------------
2313  09B4              ; Function game_enemy_quota
2314  09B4              ; ---------------------------------
2315  09B4              _game_enemy_quota:
2316  09B4  CD 00 00    	call	_rand
2317  09B7  7D          	ld	a, l
2318  09B8  E6 01       	and	a,0x01
2319  09BA  32 00 00    	ld	(_tmp),a
2320  09BD  3A 00 00    	ld	a,(_phase_pop)
2321  09C0  B7          	or	a, a
2322  09C1  28 06       	jr	Z,l_game_enemy_quota_00101
2323  09C3  3A 00 00    	ld	a,(_phase_left)
2324  09C6  3D          	dec	a
2325  09C7  20 05       	jr	NZ,l_game_enemy_quota_00102
2326  09C9              l_game_enemy_quota_00101:
2327  09C9  21 00 00    	ld	hl,_tmp
2328  09CC  36 00       	ld	(hl),0x00
2329  09CE              l_game_enemy_quota_00102:
2330  09CE  3A 00 00    	ld	a,(_phase_left)
2331  09D1  B7          	or	a, a
2332  09D2  28 4C       	jr	Z,l_game_enemy_quota_00111
2333  09D4  3A 00 00    	ld	a,(_tmp)
2334  09D7  B7          	or	a, a
2335  09D8  20 46       	jr	NZ,l_game_enemy_quota_00111
2336  09DA  01 00 00    	ld	bc,_phase_quota+0
2337  09DD  59          	ld	e, c
2338  09DE  50          	ld	d, b
2339  09DF  13          	inc	de
2340  09E0  13          	inc	de
2341  09E1  1A          	ld	a,(de)
2342  09E2  B7          	or	a, a
2343  09E3  28 10       	jr	Z,l_game_enemy_quota_00105
2344  09E5  D5          	push	de
2345  09E6  2E 09       	ld	l,0x09
2346  09E8  CD E4 0A    	call	_game_enemy_add1
2347  09EB  D1          	pop	de
2348  09EC  1A          	ld	a,(de)
2349  09ED  C6 FF       	add	a,0xff
2350  09EF  12          	ld	(de),a
2351  09F0  2E 00       	ld	l,0x00
2352  09F2  C3 B3 0A    	jp	l_game_enemy_quota_00128
2353  09F5              l_game_enemy_quota_00105:
2354  09F5  59          	ld	e, c
2355  09F6  50          	ld	d, b
2356  09F7  13          	inc	de
2357  09F8  1A          	ld	a,(de)
2358  09F9  B7          	or	a, a
2359  09FA  28 10       	jr	Z,l_game_enemy_quota_00107
2360  09FC  D5          	push	de
2361  09FD  2E 04       	ld	l,0x04
2362  09FF  CD E4 0A    	call	_game_enemy_add1
2363  0A02  D1          	pop	de
2364  0A03  1A          	ld	a,(de)
2365  0A04  C6 FF       	add	a,0xff
2366  0A06  12          	ld	(de),a
2367  0A07  2E 00       	ld	l,0x00
2368  0A09  C3 B3 0A    	jp	l_game_enemy_quota_00128
2369  0A0C              l_game_enemy_quota_00107:
2370  0A0C  0A          	ld	a,(bc)
2371  0A0D  B7          	or	a, a
2372  0A0E  28 10       	jr	Z,l_game_enemy_quota_00111
2373  0A10  C5          	push	bc
2374  0A11  2E 01       	ld	l,0x01
2375  0A13  CD E4 0A    	call	_game_enemy_add1
2376  0A16  C1          	pop	bc
2377  0A17  0A          	ld	a,(bc)
2378  0A18  C6 FF       	add	a,0xff
2379  0A1A  02          	ld	(bc),a
2380  0A1B  2E 00       	ld	l,0x00
2381  0A1D  C3 B3 0A    	jp	l_game_enemy_quota_00128
2382  0A20              l_game_enemy_quota_00111:
2383  0A20  3A 00 00    	ld	a,(_phase_coins)
2384  0A23  B7          	or	a, a
2385  0A24  28 0A       	jr	Z,l_game_enemy_quota_00114
2386  0A26  2E 08       	ld	l,0x08
2387  0A28  CD E4 0A    	call	_game_enemy_add1
2388  0A2B  2E 00       	ld	l,0x00
2389  0A2D  C3 B3 0A    	jp	l_game_enemy_quota_00128
2390  0A30              l_game_enemy_quota_00114:
2391  0A30  CD 00 00    	call	_rand
2392  0A33  7D          	ld	a,l
2393  0A34  E6 03       	and	a,0x03
2394  0A36  44          	ld	b,h
2395  0A37  0E 00       	ld	c,0x00
2396  0A39  CB 79       	bit	7,c
2397  0A3B  20 74       	jr	NZ,l_game_enemy_quota_00127
2398  0A3D  5F          	ld	e,a
2399  0A3E  3E 03       	ld	a,0x03
2400  0A40  BB          	cp	a, e
2401  0A41  3E 00       	ld	a,0x00
2402  0A43  99          	sbc	a, c
2403  0A44  E2 49 0A    	jp	PO, l_game_enemy_quota_00184
2404  0A47  EE 80       	xor	a,0x80
2405  0A49              l_game_enemy_quota_00184:
2406  0A49  FA B1 0A    	jp	M,l_game_enemy_quota_00127
2407  0A4C  16 00       	ld	d,0x00
2408  0A4E  21 54 0A    	ld	hl,l_game_enemy_quota_00185
2409  0A51  19          	add	hl,de
2410  0A52  19          	add	hl,de
2411  0A53  E9          	jp	(hl)
2412  0A54              l_game_enemy_quota_00185:
2413  0A54  18 06       	jr	l_game_enemy_quota_00115
2414  0A56  18 13       	jr	l_game_enemy_quota_00118
2415  0A58  18 29       	jr	l_game_enemy_quota_00121
2416  0A5A  18 3F       	jr	l_game_enemy_quota_00124
2417  0A5C              l_game_enemy_quota_00115:
2418  0A5C  3E 07       	ld	a,0x07
2419  0A5E  21 00 00    	ld	hl,_phase_curr
2420  0A61  96          	sub	a, (hl)
2421  0A62  30 4D       	jr	NC,l_game_enemy_quota_00127
2422  0A64  2E 07       	ld	l,0x07
2423  0A66  CD E4 0A    	call	_game_enemy_add1
2424  0A69  18 46       	jr	l_game_enemy_quota_00127
2425  0A6B              l_game_enemy_quota_00118:
2426  0A6B  2A 00 00    	ld	hl,(_game_time_fireball_start)
2427  0A6E  E5          	push	hl
2428  0A6F  21 00 00    	ld	hl,0x0000
2429  0A72  E5          	push	hl
2430  0A73  CD 13 1C    	call	_game_check_time
2431  0A76  F1          	pop	af
2432  0A77  F1          	pop	af
2433  0A78  7D          	ld	a,l
2434  0A79  B7          	or	a, a
2435  0A7A  28 35       	jr	Z,l_game_enemy_quota_00127
2436  0A7C  2E 0B       	ld	l,0x0b
2437  0A7E  CD E4 0A    	call	_game_enemy_add1
2438  0A81  18 2E       	jr	l_game_enemy_quota_00127
2439  0A83              l_game_enemy_quota_00121:
2440  0A83  2A 00 00    	ld	hl,(_game_time_fireball_start)
2441  0A86  E5          	push	hl
2442  0A87  21 00 00    	ld	hl,0x0000
2443  0A8A  E5          	push	hl
2444  0A8B  CD 13 1C    	call	_game_check_time
2445  0A8E  F1          	pop	af
2446  0A8F  F1          	pop	af
2447  0A90  7D          	ld	a,l
2448  0A91  B7          	or	a, a
2449  0A92  28 1D       	jr	Z,l_game_enemy_quota_00127
2450  0A94  2E 0B       	ld	l,0x0b
2451  0A96  CD E4 0A    	call	_game_enemy_add1
2452  0A99  18 16       	jr	l_game_enemy_quota_00127
2453  0A9B              l_game_enemy_quota_00124:
2454  0A9B  2A 00 00    	ld	hl,(_game_time_fireball_start)
2455  0A9E  E5          	push	hl
2456  0A9F  21 00 00    	ld	hl,0x0000
2457  0AA2  E5          	push	hl
2458  0AA3  CD 13 1C    	call	_game_check_time
2459  0AA6  F1          	pop	af
2460  0AA7  F1          	pop	af
2461  0AA8  7D          	ld	a,l
2462  0AA9  B7          	or	a, a
2463  0AAA  28 05       	jr	Z,l_game_enemy_quota_00127
2464  0AAC  2E 0A       	ld	l,0x0a
2465  0AAE  CD E4 0A    	call	_game_enemy_add1
2466  0AB1              l_game_enemy_quota_00127:
2467  0AB1  2E 00       	ld	l,0x00
2468  0AB3              l_game_enemy_quota_00128:
2469  0AB3  C9          	ret
2470  0AB4              ;	---------------------------------
2471  0AB4              ; Function game_enemy_rnd
2472  0AB4              ; ---------------------------------
2473  0AB4              _game_enemy_rnd:
2474  0AB4  3A 00 00    	ld	a,(_spr_count)
2475  0AB7  D6 06       	sub	a,0x06
2476  0AB9  30 26       	jr	NC,l_game_enemy_rnd_00102
2477  0ABB  21 64 00    	ld	hl,0x0064
2478  0ABE  E5          	push	hl
2479  0ABF  2A 00 00    	ld	hl,(_entry_time)
2480  0AC2  E5          	push	hl
2481  0AC3  CD 13 1C    	call	_game_check_time
2482  0AC6  F1          	pop	af
2483  0AC7  F1          	pop	af
2484  0AC8  7D          	ld	a,l
2485  0AC9  B7          	or	a, a
2486  0ACA  28 15       	jr	Z,l_game_enemy_rnd_00102
2487  0ACC  2A 00 00    	ld	hl,(_curr_time)
2488  0ACF  22 00 00    	ld	(_entry_time),hl
2489  0AD2  CD 00 00    	call	_rand
2490  0AD5  01 0B 00    	ld	bc,0x000b
2491  0AD8  C5          	push	bc
2492  0AD9  E5          	push	hl
2493  0ADA  CD 00 00    	call	__modsint_callee
2494  0ADD  2C          	inc	l
2495  0ADE  CD E4 0A    	call	_game_enemy_add1
2496  0AE1              l_game_enemy_rnd_00102:
2497  0AE1  2E 00       	ld	l,0x00
2498  0AE3  C9          	ret
2499  0AE4              ;	---------------------------------
2500  0AE4              ; Function game_enemy_add1
2501  0AE4              ; ---------------------------------
2502  0AE4              _game_enemy_add1:
2503  0AE4  CD 00 00    	call	___sdcc_enter_ix
2504  0AE7  F5          	push	af
2505  0AE8  45          	ld	b,l
2506  0AE9  78          	ld	a,b
2507  0AEA  FE 03       	cp	a,0x03
2508  0AEC  28 47       	jr	Z,l_game_enemy_add1_00101
2509  0AEE  FE 06       	cp	a,0x06
2510  0AF0  28 43       	jr	Z,l_game_enemy_add1_00101
2511  0AF2  D6 0A       	sub	a,0x0a
2512  0AF4  20 04       	jr	NZ,l_game_enemy_add1_00197
2513  0AF6  3E 01       	ld	a,0x01
2514  0AF8  18 01       	jr	l_game_enemy_add1_00198
2515  0AFA              l_game_enemy_add1_00197:
2516  0AFA  AF          	xor	a,a
2517  0AFB              l_game_enemy_add1_00198:
2518  0AFB  4F          	ld	c,a
2519  0AFC  B7          	or	a, a
2520  0AFD  28 0B       	jr	Z,l_game_enemy_add1_00107
2521  0AFF  C5          	push	bc
2522  0B00  2E 0A       	ld	l,0x0a
2523  0B02  CD 2E 0C    	call	_game_enemy_add_get_index
2524  0B05  C1          	pop	bc
2525  0B06  5D          	ld	e,l
2526  0B07  1C          	inc	e
2527  0B08  20 2B       	jr	NZ,l_game_enemy_add1_00101
2528  0B0A              l_game_enemy_add1_00107:
2529  0B0A  78          	ld	a,b
2530  0B0B  D6 0B       	sub	a,0x0b
2531  0B0D  20 04       	jr	NZ,l_game_enemy_add1_00201
2532  0B0F  3E 01       	ld	a,0x01
2533  0B11  18 01       	jr	l_game_enemy_add1_00202
2534  0B13              l_game_enemy_add1_00201:
2535  0B13  AF          	xor	a,a
2536  0B14              l_game_enemy_add1_00202:
2537  0B14  DD 77 FF    	ld	(ix-1),a
2538  0B17  B7          	or	a, a
2539  0B18  28 0B       	jr	Z,l_game_enemy_add1_00109
2540  0B1A  C5          	push	bc
2541  0B1B  2E 0B       	ld	l,0x0b
2542  0B1D  CD 2E 0C    	call	_game_enemy_add_get_index
2543  0B20  C1          	pop	bc
2544  0B21  5D          	ld	e,l
2545  0B22  1C          	inc	e
2546  0B23  20 10       	jr	NZ,l_game_enemy_add1_00101
2547  0B25              l_game_enemy_add1_00109:
2548  0B25  78          	ld	a,b
2549  0B26  D6 07       	sub	a,0x07
2550  0B28  20 10       	jr	NZ,l_game_enemy_add1_00102
2551  0B2A  C5          	push	bc
2552  0B2B  2E 07       	ld	l,0x07
2553  0B2D  CD 2E 0C    	call	_game_enemy_add_get_index
2554  0B30  C1          	pop	bc
2555  0B31  5D          	ld	e,l
2556  0B32  1C          	inc	e
2557  0B33  28 05       	jr	Z,l_game_enemy_add1_00102
2558  0B35              l_game_enemy_add1_00101:
2559  0B35  2E 00       	ld	l,0x00
2560  0B37  C3 2A 0C    	jp	l_game_enemy_add1_00133
2561  0B3A              l_game_enemy_add1_00102:
2562  0B3A  21 00 00    	ld	hl,_phase_pop
2563  0B3D  34          	inc	(hl)
2564  0B3E  C5          	push	bc
2565  0B3F  CD 00 00    	call	_sound_enter_enemy
2566  0B42  2E 00       	ld	l,0x00
2567  0B44  CD 2E 0C    	call	_game_enemy_add_get_index
2568  0B47  C1          	pop	bc
2569  0B48  7D          	ld	a,l
2570  0B49  32 00 00    	ld	(_tmp),a
2571  0B4C  C5          	push	bc
2572  0B4D  CD 00 00    	call	_rand
2573  0B50  C1          	pop	bc
2574  0B51  7D          	ld	a, l
2575  0B52  E6 01       	and	a,0x01
2576  0B54  32 00 00    	ld	(_tmp0),a
2577  0B57  3D          	dec	a
2578  0B58  20 1C       	jr	NZ,l_game_enemy_add1_00115
2579  0B5A  21 00 00    	ld	hl,_s_lin0
2580  0B5D  36 10       	ld	(hl),0x10
2581  0B5F  21 00 00    	ld	hl,_s_col0
2582  0B62  36 04       	ld	(hl),0x04
2583  0B64  21 00 00    	ld	hl,_s_col1
2584  0B67  36 02       	ld	(hl),0x02
2585  0B69  79          	ld	a,c
2586  0B6A  B7          	or	a, a
2587  0B6B  28 02       	jr	Z,l_game_enemy_add1_00111
2588  0B6D  36 03       	ld	(hl),0x03
2589  0B6F              l_game_enemy_add1_00111:
2590  0B6F  21 00 00    	ld	hl,_tmp1
2591  0B72  36 01       	ld	(hl),0x01
2592  0B74  18 1A       	jr	l_game_enemy_add1_00116
2593  0B76              l_game_enemy_add1_00115:
2594  0B76  21 00 00    	ld	hl,_s_lin0
2595  0B79  36 10       	ld	(hl),0x10
2596  0B7B  21 00 00    	ld	hl,_s_col0
2597  0B7E  36 1A       	ld	(hl),0x1a
2598  0B80  21 00 00    	ld	hl,_s_col1
2599  0B83  36 1E       	ld	(hl),0x1e
2600  0B85  79          	ld	a,c
2601  0B86  B7          	or	a, a
2602  0B87  28 02       	jr	Z,l_game_enemy_add1_00113
2603  0B89  36 1C       	ld	(hl),0x1c
2604  0B8B              l_game_enemy_add1_00113:
2605  0B8B  21 00 00    	ld	hl,_tmp1
2606  0B8E  36 FF       	ld	(hl),0xff
2607  0B90              l_game_enemy_add1_00116:
2608  0B90  78          	ld	a,b
2609  0B91  D6 08       	sub	a,0x08
2610  0B93  20 04       	jr	NZ,l_game_enemy_add1_00210
2611  0B95  3E 01       	ld	a,0x01
2612  0B97  18 01       	jr	l_game_enemy_add1_00211
2613  0B99              l_game_enemy_add1_00210:
2614  0B99  AF          	xor	a,a
2615  0B9A              l_game_enemy_add1_00211:
2616  0B9A  DD 77 FE    	ld	(ix-2),a
2617  0B9D  B7          	or	a, a
2618  0B9E  28 04       	jr	Z,l_game_enemy_add1_00118
2619  0BA0  21 00 00    	ld	hl,_phase_coins
2620  0BA3  35          	dec	(hl)
2621  0BA4              l_game_enemy_add1_00118:
2622  0BA4  21 00 00    	ld	hl,_tmp_uc
2623  0BA7  36 00       	ld	(hl),0x00
2624  0BA9  DD 7E FF    	ld	a,(ix-1)
2625  0BAC  B7          	or	a,a
2626  0BAD  20 03       	jr	NZ,l_game_enemy_add1_00125
2627  0BAF  B1          	or	a,c
2628  0BB0  28 35       	jr	Z,l_game_enemy_add1_00126
2629  0BB2              l_game_enemy_add1_00125:
2630  0BB2  C5          	push	bc
2631  0BB3  CD 00 00    	call	_rand
2632  0BB6  11 03 00    	ld	de,0x0003
2633  0BB9  D5          	push	de
2634  0BBA  E5          	push	hl
2635  0BBB  CD 00 00    	call	__modsint_callee
2636  0BBE  C1          	pop	bc
2637  0BBF  5D          	ld	e,l
2638  0BC0  21 00 00    	ld	hl,_tmp_uc
2639  0BC3  73          	ld	(hl),e
2640  0BC4  7B          	ld	a,e
2641  0BC5  B7          	or	a, a
2642  0BC6  20 02       	jr	NZ,l_game_enemy_add1_00120
2643  0BC8  36 10       	ld	(hl),0x10
2644  0BCA              l_game_enemy_add1_00120:
2645  0BCA  3A 00 00    	ld	a,(_tmp_uc)
2646  0BCD  3D          	dec	a
2647  0BCE  20 05       	jr	NZ,l_game_enemy_add1_00122
2648  0BD0  21 00 00    	ld	hl,_tmp_uc
2649  0BD3  36 38       	ld	(hl),0x38
2650  0BD5              l_game_enemy_add1_00122:
2651  0BD5  3A 00 00    	ld	a,(_tmp_uc)
2652  0BD8  D6 02       	sub	a,0x02
2653  0BDA  20 05       	jr	NZ,l_game_enemy_add1_00124
2654  0BDC  21 00 00    	ld	hl,_tmp_uc
2655  0BDF  36 84       	ld	(hl),0x84
2656  0BE1              l_game_enemy_add1_00124:
2657  0BE1  3A 00 00    	ld	a,(_s_col1)
2658  0BE4  32 00 00    	ld	(_s_col0),a
2659  0BE7              l_game_enemy_add1_00126:
2660  0BE7  CD 00 00    	call	_ay_is_playing
2661  0BEA  7D          	ld	a,l
2662  0BEB  D6 02       	sub	a,0x02
2663  0BED  30 14       	jr	NC,l_game_enemy_add1_00132
2664  0BEF  DD 7E FE    	ld	a,(ix-2)
2665  0BF2  B7          	or	a, a
2666  0BF3  20 08       	jr	NZ,l_game_enemy_add1_00129
2667  0BF5  21 00 00    	ld	hl,_ay_effect_04
2668  0BF8  CD 00 00    	call	_ay_fx_play
2669  0BFB  18 06       	jr	l_game_enemy_add1_00132
2670  0BFD              l_game_enemy_add1_00129:
2671  0BFD  21 00 00    	ld	hl,_ay_effect_07
2672  0C00  CD 00 00    	call	_ay_fx_play
2673  0C03              l_game_enemy_add1_00132:
2674  0C03  2A 00 00    	ld	hl,(_curr_time)
2675  0C06  22 00 00    	ld	(_entry_time),hl
2676  0C09  3A 00 00    	ld	a,(_s_lin0)
2677  0C0C  21 00 00    	ld	hl,_tmp_uc
2678  0C0F  86          	add	a, (hl)
2679  0C10  57          	ld	d,a
2680  0C11  3A 00 00    	ld	a,(_tmp1)
2681  0C14  48          	ld	c,b
2682  0C15  47          	ld	b,a
2683  0C16  3A 00 00    	ld	a,(_s_col0)
2684  0C19  C5          	push	bc
2685  0C1A  5A          	ld	e,d
2686  0C1B  57          	ld	d,a
2687  0C1C  3A 00 00    	ld	a,(_tmp)
2688  0C1F  D5          	push	de
2689  0C20  F5          	push	af
2690  0C21  33          	inc	sp
2691  0C22  CD 00 00    	call	_enemy_init
2692  0C25  F1          	pop	af
2693  0C26  F1          	pop	af
2694  0C27  33          	inc	sp
2695  0C28  2E 00       	ld	l,0x00
2696  0C2A              l_game_enemy_add1_00133:
2697  0C2A  F1          	pop	af
2698  0C2B  DD E1       	pop	ix
2699  0C2D  C9          	ret
2700  0C2E              ;	---------------------------------
2701  0C2E              ; Function game_enemy_add_get_index
2702  0C2E              ; ---------------------------------
2703  0C2E              _game_enemy_add_get_index:
2704  0C2E  4D          	ld	c,l
2705  0C2F  21 00 00    	ld	hl,_enemies
2706  0C32  36 00       	ld	(hl),0x00
2707  0C34              l_game_enemy_add_get_index_00104:
2708  0C34  2A 00 00    	ld	hl,(_enemies)
2709  0C37  26 00       	ld	h,0x00
2710  0C39  11 00 00    	ld	de,_class
2711  0C3C  19          	add	hl,de
2712  0C3D  46          	ld	b, (hl)
2713  0C3E  79          	ld	a,c
2714  0C3F  90          	sub	a,b
2715  0C40  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2716  0C42  2A 00 00    	ld	hl,(_enemies)
2717  0C45  18 0B       	jr	l_game_enemy_add_get_index_00106
2718  0C47              l_game_enemy_add_get_index_00105:
2719  0C47  21 00 00    	ld	hl,_enemies
2720  0C4A  34          	inc	(hl)
2721  0C4B  3E 05       	ld	a,0x05
2722  0C4D  96          	sub	a, (hl)
2723  0C4E  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2724  0C50  2E FF       	ld	l,0xff
2725  0C52              l_game_enemy_add_get_index_00106:
2726  0C52  C9          	ret
2727  0C53              ;	---------------------------------
2728  0C53              ; Function game_freeze
2729  0C53              ; ---------------------------------
2730  0C53              _game_freeze:
2731  0C53  CD 00 00    	call	___sdcc_enter_ix
2732  0C56  DD 7E 05    	ld	a,(ix+5)
2733  0C59  D6 1F       	sub	a,0x1f
2734  0C5B  30 5F       	jr	NC,l_game_freeze_00107
2735  0C5D  21 00 00    	ld	hl,_tmp
2736  0C60  36 01       	ld	(hl),0x01
2737  0C62  DD 66 05    	ld	h,(ix+5)
2738  0C65  DD 6E 04    	ld	l,(ix+4)
2739  0C68  E5          	push	hl
2740  0C69  CD 00 00    	call	_game_calc_index
2741  0C6C  F1          	pop	af
2742  0C6D  22 00 00    	ld	(_index1),hl
2743  0C70  01 00 00    	ld	bc,_lvl_1
2744  0C73  09          	add	hl,bc
2745  0C74  7E          	ld	a,(hl)
2746  0C75  D6 12       	sub	a,0x12
2747  0C77  20 43       	jr	NZ,l_game_freeze_00107
2748  0C79  36 14       	ld	(hl),0x14
2749  0C7B  76          	halt
2750  0C7C  DD 7E 05    	ld	a,(ix+5)
2751  0C7F  F5          	push	af
2752  0C80  33          	inc	sp
2753  0C81  DD 56 04    	ld	d,(ix+4)
2754  0C84  1E 8B       	ld	e,0x8b
2755  0C86  D5          	push	de
2756  0C87  CD 00 00    	call	_NIRVANAP_drawT_callee
2757  0C8A  ED 4B 00 00 	ld	bc,(_index1)
2758  0C8E  03          	inc	bc
2759  0C8F  21 00 00    	ld	hl,_lvl_1
2760  0C92  09          	add	hl,bc
2761  0C93  4E          	ld	c,(hl)
2762  0C94  DD 46 05    	ld	b,(ix+5)
2763  0C97  04          	inc	b
2764  0C98  79          	ld	a,c
2765  0C99  B7          	or	a, a
2766  0C9A  20 0C       	jr	NZ,l_game_freeze_00102
2767  0C9C  C5          	push	bc
2768  0C9D  DD 4E 04    	ld	c,(ix+4)
2769  0CA0  C5          	push	bc
2770  0CA1  AF          	xor	a, a
2771  0CA2  F5          	push	af
2772  0CA3  33          	inc	sp
2773  0CA4  CD 00 00    	call	_NIRVANAP_fillT_callee
2774  0CA7  C1          	pop	bc
2775  0CA8              l_game_freeze_00102:
2776  0CA8  DD 4E 04    	ld	c,(ix+4)
2777  0CAB  C5          	push	bc
2778  0CAC  CD 53 0C    	call	_game_freeze
2779  0CAF  F1          	pop	af
2780  0CB0  DD 46 05    	ld	b,(ix+5)
2781  0CB3  05          	dec	b
2782  0CB4  DD 4E 04    	ld	c,(ix+4)
2783  0CB7  C5          	push	bc
2784  0CB8  CD 53 0C    	call	_game_freeze
2785  0CBB  F1          	pop	af
2786  0CBC              l_game_freeze_00107:
2787  0CBC  DD E1       	pop	ix
2788  0CBE  C9          	ret
2789  0CBF              ;	---------------------------------
2790  0CBF              ; Function game_unfreeze_all
2791  0CBF              ; ---------------------------------
2792  0CBF              _game_unfreeze_all:
2793  0CBF  21 C0 00    	ld	hl,0x00c0
2794  0CC2  22 00 00    	ld	(_index1),hl
2795  0CC5              l_game_unfreeze_all_00104:
2796  0CC5  01 00 00    	ld	bc,_lvl_1
2797  0CC8  2A 00 00    	ld	hl,(_index1)
2798  0CCB  09          	add	hl,bc
2799  0CCC  7E          	ld	a,(hl)
2800  0CCD  D6 14       	sub	a,0x14
2801  0CCF  20 02       	jr	NZ,l_game_unfreeze_all_00105
2802  0CD1  36 12       	ld	(hl),0x12
2803  0CD3              l_game_unfreeze_all_00105:
2804  0CD3  21 00 00    	ld	hl,_index1
2805  0CD6  34          	inc	(hl)
2806  0CD7  20 02       	jr	NZ,l_game_unfreeze_all_00118
2807  0CD9  23          	inc	hl
2808  0CDA  34          	inc	(hl)
2809  0CDB              l_game_unfreeze_all_00118:
2810  0CDB  3E 20       	ld	a,0x20
2811  0CDD  21 00 00    	ld	hl,_index1
2812  0CE0  BE          	cp	a, (hl)
2813  0CE1  3E 02       	ld	a,0x02
2814  0CE3  23          	inc	hl
2815  0CE4  9E          	sbc	a, (hl)
2816  0CE5  30 DE       	jr	NC,l_game_unfreeze_all_00104
2817  0CE7  C9          	ret
2818  0CE8              ;	---------------------------------
2819  0CE8              ; Function game_freeze_all
2820  0CE8              ; ---------------------------------
2821  0CE8              _game_freeze_all:
2822  0CE8  21 C0 00    	ld	hl,0x00c0
2823  0CEB  22 00 00    	ld	(_index1),hl
2824  0CEE              l_game_freeze_all_00104:
2825  0CEE  01 00 00    	ld	bc,_lvl_1
2826  0CF1  2A 00 00    	ld	hl,(_index1)
2827  0CF4  09          	add	hl,bc
2828  0CF5  7E          	ld	a,(hl)
2829  0CF6  D6 12       	sub	a,0x12
2830  0CF8  20 02       	jr	NZ,l_game_freeze_all_00105
2831  0CFA  36 14       	ld	(hl),0x14
2832  0CFC              l_game_freeze_all_00105:
2833  0CFC  21 00 00    	ld	hl,_index1
2834  0CFF  34          	inc	(hl)
2835  0D00  20 02       	jr	NZ,l_game_freeze_all_00118
2836  0D02  23          	inc	hl
2837  0D03  34          	inc	(hl)
2838  0D04              l_game_freeze_all_00118:
2839  0D04  3E 20       	ld	a,0x20
2840  0D06  21 00 00    	ld	hl,_index1
2841  0D09  BE          	cp	a, (hl)
2842  0D0A  3E 02       	ld	a,0x02
2843  0D0C  23          	inc	hl
2844  0D0D  9E          	sbc	a, (hl)
2845  0D0E  30 DE       	jr	NC,l_game_freeze_all_00104
2846  0D10  C9          	ret
2847  0D11              ;	---------------------------------
2848  0D11              ; Function game_print_score
2849  0D11              ; ---------------------------------
2850  0D11              _game_print_score:
2851  0D11  21 00 00    	ld	hl,_screen_ink
2852  0D14  36 07       	ld	(hl),0x07
2853  0D16  21 00 00    	ld	hl,_screen_paper
2854  0D19  36 00       	ld	(hl),0x00
2855  0D1B  2A 00 00    	ld	hl,(_player_score)
2856  0D1E  E5          	push	hl
2857  0D1F  21 00 03    	ld	hl,0x0300
2858  0D22  E5          	push	hl
2859  0D23  CD 00 00    	call	_zx_print_int
2860  0D26  2A 00 00    	ld	hl,(_game_score_top)
2861  0D29  E5          	push	hl
2862  0D2A  21 00 0E    	ld	hl,0x0e00
2863  0D2D  E5          	push	hl
2864  0D2E  CD 00 00    	call	_zx_print_int
2865  0D31  3A 00 00    	ld	a,(_game_two_player)
2866  0D34  B7          	or	a, a
2867  0D35  C8          	ret	Z
2868  0D36  2A 02 00    	ld	hl, (_player_score + 2)
2869  0D39  E5          	push	hl
2870  0D3A  21 00 18    	ld	hl,0x1800
2871  0D3D  E5          	push	hl
2872  0D3E  CD 00 00    	call	_zx_print_int
2873  0D41  C9          	ret
2874  0D42              ;	---------------------------------
2875  0D42              ; Function game_paint_attrib
2876  0D42              ; ---------------------------------
2877  0D42              _game_paint_attrib:
2878  0D42  7D          	ld	a,l
2879  0D43  32 00 00    	ld	(_tmp0),a
2880  0D46              l_game_paint_attrib_00103:
2881  0D46  3E 13       	ld	a,0x13
2882  0D48  21 00 00    	ld	hl,_tmp0
2883  0D4B  96          	sub	a, (hl)
2884  0D4C  D8          	ret	C
2885  0D4D  7E          	ld	a,(hl)
2886  0D4E  07          	rlca
2887  0D4F  07          	rlca
2888  0D50  07          	rlca
2889  0D51  E6 F8       	and	a,0xf8
2890  0D53  C6 08       	add	a,0x08
2891  0D55  F5          	push	af
2892  0D56  33          	inc	sp
2893  0D57  21 01 1F    	ld	hl,0x1f01
2894  0D5A  E5          	push	hl
2895  0D5B  CD 66 0D    	call	_game_paint_attrib_lin
2896  0D5E  F1          	pop	af
2897  0D5F  33          	inc	sp
2898  0D60  21 00 00    	ld	hl,_tmp0
2899  0D63  34          	inc	(hl)
2900  0D64  18 E0       	jr	l_game_paint_attrib_00103
2901  0D66              ;	---------------------------------
2902  0D66              ; Function game_paint_attrib_lin
2903  0D66              ; ---------------------------------
2904  0D66              _game_paint_attrib_lin:
2905  0D66  CD 00 00    	call	___sdcc_enter_ix
2906  0D69  DD 7E 04    	ld	a,(ix+4)
2907  0D6C  32 00 00    	ld	(_tmp_uc),a
2908  0D6F              l_game_paint_attrib_lin_00103:
2909  0D6F  21 00 00    	ld	hl,_tmp_uc
2910  0D72  7E          	ld	a,(hl)
2911  0D73  DD 96 05    	sub	a,(ix+5)
2912  0D76  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2913  0D78  66          	ld	h,(hl)
2914  0D79  DD 6E 06    	ld	l,(ix+6)
2915  0D7C  E5          	push	hl
2916  0D7D  21 00 00    	ld	hl,_attrib
2917  0D80  E5          	push	hl
2918  0D81  CD 00 00    	call	_NIRVANAP_paintC_callee
2919  0D84  21 00 00    	ld	hl,_tmp_uc
2920  0D87  34          	inc	(hl)
2921  0D88  18 E5       	jr	l_game_paint_attrib_lin_00103
2922  0D8A              l_game_paint_attrib_lin_00105:
2923  0D8A  DD E1       	pop	ix
2924  0D8C  C9          	ret
2925  0D8D              ;	---------------------------------
2926  0D8D              ; Function game_paint_attrib_lin_h
2927  0D8D              ; ---------------------------------
2928  0D8D              _game_paint_attrib_lin_h:
2929  0D8D  CD 00 00    	call	___sdcc_enter_ix
2930  0D90  DD 7E 04    	ld	a,(ix+4)
2931  0D93  32 00 00    	ld	(_tmp_uc),a
2932  0D96              l_game_paint_attrib_lin_h_00103:
2933  0D96  21 00 00    	ld	hl,_tmp_uc
2934  0D99  7E          	ld	a,(hl)
2935  0D9A  DD 96 05    	sub	a,(ix+5)
2936  0D9D  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2937  0D9F  66          	ld	h,(hl)
2938  0DA0  DD 6E 06    	ld	l,(ix+6)
2939  0DA3  E5          	push	hl
2940  0DA4  21 00 00    	ld	hl,_attrib_hl
2941  0DA7  E5          	push	hl
2942  0DA8  CD 00 00    	call	_NIRVANAP_paintC_callee
2943  0DAB  21 00 00    	ld	hl,_tmp_uc
2944  0DAE  34          	inc	(hl)
2945  0DAF  18 E5       	jr	l_game_paint_attrib_lin_h_00103
2946  0DB1              l_game_paint_attrib_lin_h_00105:
2947  0DB1  DD E1       	pop	ix
2948  0DB3  C9          	ret
2949  0DB4              ;	---------------------------------
2950  0DB4              ; Function game_menu_config
2951  0DB4              ; ---------------------------------
2952  0DB4              _game_menu_config:
2953  0DB4  CD 00 00    	call	___sdcc_enter_ix
2954  0DB7  F5          	push	af
2955  0DB8  3B          	dec	sp
2956  0DB9  2E 0B       	ld	l,0x0b
2957  0DBB  CD 42 0D    	call	_game_paint_attrib
2958  0DBE  DD 36 FD 01 	ld	(ix-3),0x01
2959  0DC2              l_game_menu_config_00116:
2960  0DC2  DD 7E FD    	ld	a,(ix-3)
2961  0DC5  B7          	or	a, a
2962  0DC6  CA 20 0F    	jp	Z,l_game_menu_config_00119
2963  0DC9              l_game_menu_config_00101:
2964  0DC9  21 00 00    	ld	hl,_k1
2965  0DCC  E5          	push	hl
2966  0DCD  2A 00 00    	ld	hl,(_joyfunc1)
2967  0DD0  CD 00 00    	call	___sdcc_call_hl
2968  0DD3  F1          	pop	af
2969  0DD4  7C          	ld	a,h
2970  0DD5  B5          	or	a,l
2971  0DD6  20 F1       	jr	NZ,l_game_menu_config_00101
2972  0DD8  3A 00 00    	ld	a,(_spec128)
2973  0DDB  B7          	or	a,a
2974  0DDC  28 0A       	jr	Z,l_game_menu_config_00121
2975  0DDE  DD 36 FE 25 	ld	(ix-2),+((___str_24) & 0xFF)
2976  0DE2  DD 36 FF 0F 	ld	(ix-1),+((___str_24) / 256)
2977  0DE6  18 08       	jr	l_game_menu_config_00122
2978  0DE8              l_game_menu_config_00121:
2979  0DE8  DD 36 FE 30 	ld	(ix-2),+((___str_25) & 0xFF)
2980  0DEC  DD 36 FF 0F 	ld	(ix-1),+((___str_25) / 256)
2981  0DF0              l_game_menu_config_00122:
2982  0DF0  DD 4E FE    	ld	c,(ix-2)
2983  0DF3  DD 46 FF    	ld	b,(ix-1)
2984  0DF6  C5          	push	bc
2985  0DF7  21 0E 0A    	ld	hl,0x0a0e
2986  0DFA  E5          	push	hl
2987  0DFB  CD 00 00    	call	_zx_print_str
2988  0DFE  21 3B 0F    	ld	hl,___str_26
2989  0E01  E5          	push	hl
2990  0E02  21 0F 0A    	ld	hl,0x0a0f
2991  0E05  E5          	push	hl
2992  0E06  CD 00 00    	call	_zx_print_str
2993  0E09  21 46 0F    	ld	hl,___str_27
2994  0E0C  E5          	push	hl
2995  0E0D  21 10 0A    	ld	hl,0x0a10
2996  0E10  E5          	push	hl
2997  0E11  CD 00 00    	call	_zx_print_str
2998  0E14  21 51 0F    	ld	hl,___str_28
2999  0E17  E5          	push	hl
3000  0E18  21 11 0A    	ld	hl,0x0a11
3001  0E1B  E5          	push	hl
3002  0E1C  CD 00 00    	call	_zx_print_str
3003  0E1F  21 5C 0F    	ld	hl,___str_29
3004  0E22  E5          	push	hl
3005  0E23  21 12 0A    	ld	hl,0x0a12
3006  0E26  E5          	push	hl
3007  0E27  CD 00 00    	call	_zx_print_str
3008  0E2A  3A 00 00    	ld	a,(_game_sound)
3009  0E2D  E6 05       	and	a,0x05
3010  0E2F  28 05       	jr	Z,l_game_menu_config_00123
3011  0E31  01 67 0F    	ld	bc,___str_30
3012  0E34  18 03       	jr	l_game_menu_config_00124
3013  0E36              l_game_menu_config_00123:
3014  0E36  01 6B 0F    	ld	bc,___str_31
3015  0E39              l_game_menu_config_00124:
3016  0E39  C5          	push	bc
3017  0E3A  21 0E 14    	ld	hl,0x140e
3018  0E3D  E5          	push	hl
3019  0E3E  CD 00 00    	call	_zx_print_str
3020  0E41  3E 02       	ld	a,0x02
3021  0E43  21 00 00    	ld	hl,_game_type
3022  0E46  96          	sub	a, (hl)
3023  0E47  38 34       	jr	C,l_game_menu_config_00107
3024  0E49  5E          	ld	e,(hl)
3025  0E4A  16 00       	ld	d,0x00
3026  0E4C  21 52 0E    	ld	hl,l_game_menu_config_00164
3027  0E4F  19          	add	hl,de
3028  0E50  19          	add	hl,de
3029  0E51  E9          	jp	(hl)
3030  0E52              l_game_menu_config_00164:
3031  0E52  18 04       	jr	l_game_menu_config_00104
3032  0E54  18 0F       	jr	l_game_menu_config_00105
3033  0E56  18 1A       	jr	l_game_menu_config_00106
3034  0E58              l_game_menu_config_00104:
3035  0E58  21 6F 0F    	ld	hl,___str_32
3036  0E5B  E5          	push	hl
3037  0E5C  21 0F 14    	ld	hl,0x140f
3038  0E5F  E5          	push	hl
3039  0E60  CD 00 00    	call	_zx_print_str
3040  0E63  18 18       	jr	l_game_menu_config_00107
3041  0E65              l_game_menu_config_00105:
3042  0E65  21 73 0F    	ld	hl,___str_33
3043  0E68  E5          	push	hl
3044  0E69  21 0F 14    	ld	hl,0x140f
3045  0E6C  E5          	push	hl
3046  0E6D  CD 00 00    	call	_zx_print_str
3047  0E70  18 0B       	jr	l_game_menu_config_00107
3048  0E72              l_game_menu_config_00106:
3049  0E72  21 77 0F    	ld	hl,___str_34
3050  0E75  E5          	push	hl
3051  0E76  21 0F 14    	ld	hl,0x140f
3052  0E79  E5          	push	hl
3053  0E7A  CD 00 00    	call	_zx_print_str
3054  0E7D              l_game_menu_config_00107:
3055  0E7D  2A 00 00    	ld	hl,(_player_joy)
3056  0E80  29          	add	hl, hl
3057  0E81  11 00 00    	ld	de,_joynames
3058  0E84  19          	add	hl,de
3059  0E85  4E          	ld	c,(hl)
3060  0E86  23          	inc	hl
3061  0E87  46          	ld	b,(hl)
3062  0E88  C5          	push	bc
3063  0E89  21 10 14    	ld	hl,0x1410
3064  0E8C  E5          	push	hl
3065  0E8D  CD 00 00    	call	_zx_print_str
3066  0E90  2A 02 00    	ld	hl, (_player_joy + 2)
3067  0E93  29          	add	hl, hl
3068  0E94  11 00 00    	ld	de,_joynames
3069  0E97  19          	add	hl,de
3070  0E98  4E          	ld	c,(hl)
3071  0E99  23          	inc	hl
3072  0E9A  46          	ld	b,(hl)
3073  0E9B  C5          	push	bc
3074  0E9C  21 11 14    	ld	hl,0x1411
3075  0E9F  E5          	push	hl
3076  0EA0  CD 00 00    	call	_zx_print_str
3077  0EA3  21 00 00    	ld	hl,0x0000
3078  0EA6  E5          	push	hl
3079  0EA7  21 0E 12    	ld	hl,0x120e
3080  0EAA  E5          	push	hl
3081  0EAB  21 0A 01    	ld	hl,0x010a
3082  0EAE  E5          	push	hl
3083  0EAF  CD 79 12    	call	_game_menu_handle
3084  0EB2  F1          	pop	af
3085  0EB3  F1          	pop	af
3086  0EB4  F1          	pop	af
3087  0EB5  7D          	ld	a,l
3088  0EB6  32 00 00    	ld	(_game_menu_sel),a
3089  0EB9  21 00 00    	ld	hl,_ay_effect_10
3090  0EBC  CD 00 00    	call	_ay_fx_play
3091  0EBF  CD 00 00    	call	_sound_coin
3092  0EC2  3E 04       	ld	a,0x04
3093  0EC4  21 00 00    	ld	hl,_game_menu_sel
3094  0EC7  96          	sub	a, (hl)
3095  0EC8  DA C2 0D    	jp	C,l_game_menu_config_00116
3096  0ECB  5E          	ld	e,(hl)
3097  0ECC  16 00       	ld	d,0x00
3098  0ECE  21 D4 0E    	ld	hl,l_game_menu_config_00165
3099  0ED1  19          	add	hl,de
3100  0ED2  19          	add	hl,de
3101  0ED3  E9          	jp	(hl)
3102  0ED4              l_game_menu_config_00165:
3103  0ED4  18 08       	jr	l_game_menu_config_00108
3104  0ED6  18 1A       	jr	l_game_menu_config_00109
3105  0ED8  18 27       	jr	l_game_menu_config_00112
3106  0EDA  18 2D       	jr	l_game_menu_config_00113
3107  0EDC  18 33       	jr	l_game_menu_config_00114
3108  0EDE              l_game_menu_config_00108:
3109  0EDE  3A 00 00    	ld	a,(_spec128)
3110  0EE1  B7          	or	a, a
3111  0EE2  28 04       	jr	Z,l_game_menu_config_00125
3112  0EE4  3E 04       	ld	a,0x04
3113  0EE6  18 02       	jr	l_game_menu_config_00126
3114  0EE8              l_game_menu_config_00125:
3115  0EE8  3E 01       	ld	a,0x01
3116  0EEA              l_game_menu_config_00126:
3117  0EEA  21 00 00    	ld	hl,_game_sound
3118  0EED  AE          	xor	a, (hl)
3119  0EEE  77          	ld	(hl),a
3120  0EEF  C3 C2 0D    	jp	l_game_menu_config_00116
3121  0EF2              l_game_menu_config_00109:
3122  0EF2  21 00 00    	ld	hl,_game_type
3123  0EF5  34          	inc	(hl)
3124  0EF6  3E 02       	ld	a,0x02
3125  0EF8  96          	sub	a, (hl)
3126  0EF9  D2 C2 0D    	jp	NC,l_game_menu_config_00116
3127  0EFC  36 00       	ld	(hl),0x00
3128  0EFE  C3 C2 0D    	jp	l_game_menu_config_00116
3129  0F01              l_game_menu_config_00112:
3130  0F01  2E 00       	ld	l,0x00
3131  0F03  CD 7B 0F    	call	_game_joystick_change
3132  0F06  C3 C2 0D    	jp	l_game_menu_config_00116
3133  0F09              l_game_menu_config_00113:
3134  0F09  2E 01       	ld	l,0x01
3135  0F0B  CD 7B 0F    	call	_game_joystick_change
3136  0F0E  C3 C2 0D    	jp	l_game_menu_config_00116
3137  0F11              l_game_menu_config_00114:
3138  0F11  21 00 00    	ld	hl,_game_menu_sel
3139  0F14  36 00       	ld	(hl),0x00
3140  0F16  CD FC 10    	call	_game_menu_paint
3141  0F19  DD 36 FD 00 	ld	(ix-3),0x00
3142  0F1D  C3 C2 0D    	jp	l_game_menu_config_00116
3143  0F20              l_game_menu_config_00119:
3144  0F20  DD F9       	ld	sp, ix
3145  0F22  DD E1       	pop	ix
3146  0F24  C9          	ret
3147  0F25              ___str_24:
3148  0F25  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3149  0F2F  00          	DEFB 0x00
3150  0F30              ___str_25:
3151  0F30  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3152  0F3A  00          	DEFB 0x00
3153  0F3B              ___str_26:
3154  0F3B  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3155  0F45  00          	DEFB 0x00
3156  0F46              ___str_27:
3157  0F46  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3158  0F50  00          	DEFB 0x00
3159  0F51              ___str_28:
3160  0F51  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3161  0F5B  00          	DEFB 0x00
3162  0F5C              ___str_29:
3163  0F5C  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3164  0F66  00          	DEFB 0x00
3165  0F67              ___str_30:
3166  0F67  4F 4E 20    	DEFM "ON "
3167  0F6A  00          	DEFB 0x00
3168  0F6B              ___str_31:
3169  0F6B  4F 46 46    	DEFM "OFF"
3170  0F6E  00          	DEFB 0x00
3171  0F6F              ___str_32:
3172  0F6F  41 20 20    	DEFM "A  "
3173  0F72  00          	DEFB 0x00
3174  0F73              ___str_33:
3175  0F73  42 20 20    	DEFM "B  "
3176  0F76  00          	DEFB 0x00
3177  0F77              ___str_34:
3178  0F77  52 4E 44    	DEFM "RND"
3179  0F7A  00          	DEFB 0x00
3180  0F7B              ;	---------------------------------
3181  0F7B              ; Function game_joystick_change
3182  0F7B              ; ---------------------------------
3183  0F7B              _game_joystick_change:
3184  0F7B  CD 00 00    	call	___sdcc_enter_ix
3185  0F7E  3B          	dec	sp
3186  0F7F  DD 75 FF    	ld	(ix-1),l
3187  0F82  26 00       	ld	h,0x00
3188  0F84  29          	add	hl, hl
3189  0F85  01 00 00    	ld	bc,_player_joy
3190  0F88  09          	add	hl,bc
3191  0F89  4D          	ld	c,l
3192  0F8A  44          	ld	b,h
3193  0F8B  5E          	ld	e,(hl)
3194  0F8C  23          	inc	hl
3195  0F8D  56          	ld	d,(hl)
3196  0F8E  13          	inc	de
3197  0F8F  69          	ld	l, c
3198  0F90  60          	ld	h, b
3199  0F91  73          	ld	(hl),e
3200  0F92  23          	inc	hl
3201  0F93  72          	ld	(hl),d
3202  0F94  7B          	ld	a,e
3203  0F95  D6 07       	sub	a,0x07
3204  0F97  20 09       	jr	NZ,l_game_joystick_change_00102
3205  0F99  B2          	or	a,d
3206  0F9A  20 06       	jr	NZ,l_game_joystick_change_00102
3207  0F9C  69          	ld	l, c
3208  0F9D  60          	ld	h, b
3209  0F9E  AF          	xor	a, a
3210  0F9F  77          	ld	(hl), a
3211  0FA0  23          	inc	hl
3212  0FA1  77          	ld	(hl), a
3213  0FA2              l_game_joystick_change_00102:
3214  0FA2  DD 7E FF    	ld	a,(ix-1)
3215  0FA5  B7          	or	a, a
3216  0FA6  20 15       	jr	NZ,l_game_joystick_change_00104
3217  0FA8  69          	ld	l, c
3218  0FA9  60          	ld	h, b
3219  0FAA  5E          	ld	e,(hl)
3220  0FAB  23          	inc	hl
3221  0FAC  56          	ld	d,(hl)
3222  0FAD  1D          	dec	e
3223  0FAE  20 0D       	jr	NZ,l_game_joystick_change_00104
3224  0FB0  7A          	ld	a,d
3225  0FB1  B7          	or	a, a
3226  0FB2  20 09       	jr	NZ,l_game_joystick_change_00104
3227  0FB4  ED 5B 00 00 	ld	de,(_player_joy)
3228  0FB8  13          	inc	de
3229  0FB9  ED 53 00 00 	ld	(_player_joy), de
3230  0FBD              l_game_joystick_change_00104:
3231  0FBD  DD 7E FF    	ld	a,(ix-1)
3232  0FC0  3D          	dec	a
3233  0FC1  20 11       	jr	NZ,l_game_joystick_change_00107
3234  0FC3  69          	ld	l, c
3235  0FC4  60          	ld	h, b
3236  0FC5  4E          	ld	c,(hl)
3237  0FC6  23          	inc	hl
3238  0FC7  7E          	ld	a, (hl)
3239  0FC8  B1          	or	a,c
3240  0FC9  20 09       	jr	NZ,l_game_joystick_change_00107
3241  0FCB  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3242  0FCF  03          	inc	bc
3243  0FD0  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3244  0FD4              l_game_joystick_change_00107:
3245  0FD4  ED 4B 00 00 	ld	bc,(_player_joy)
3246  0FD8  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3247  0FDC  79          	ld	a,c
3248  0FDD  93          	sub	a, e
3249  0FDE  20 18       	jr	NZ,l_game_joystick_change_00114
3250  0FE0  78          	ld	a,b
3251  0FE1  92          	sub	a, d
3252  0FE2  20 14       	jr	NZ,l_game_joystick_change_00114
3253  0FE4  DD 7E FF    	ld	a,(ix-1)
3254  0FE7  B7          	or	a, a
3255  0FE8  20 08       	jr	NZ,l_game_joystick_change_00110
3256  0FEA  21 01 00    	ld	hl,0x0001
3257  0FED  22 02 00    	ld	(_player_joy + 0x0002),hl
3258  0FF0  18 06       	jr	l_game_joystick_change_00114
3259  0FF2              l_game_joystick_change_00110:
3260  0FF2  21 00 00    	ld	hl,0x0000
3261  0FF5  22 00 00    	ld	(_player_joy), hl
3262  0FF8              l_game_joystick_change_00114:
3263  0FF8  33          	inc	sp
3264  0FF9  DD E1       	pop	ix
3265  0FFB  C9          	ret
3266  0FFC              ;	---------------------------------
3267  0FFC              ; Function game_joystick_set_menu
3268  0FFC              ; ---------------------------------
3269  0FFC              _game_joystick_set_menu:
3270  0FFC  21 00 00    	ld	hl,_in_stick_sinclair1
3271  0FFF  22 00 00    	ld	(_joyfunc1),hl
3272  1002  21 00 00    	ld	hl,_in_stick_sinclair2
3273  1005  22 00 00    	ld	(_joyfunc2),hl
3274  1008  C9          	ret
3275  1009              ;	---------------------------------
3276  1009              ; Function game_joystick_set
3277  1009              ; ---------------------------------
3278  1009              _game_joystick_set:
3279  1009  01 00 00    	ld	bc,_control_method+0
3280  100C  2A 00 00    	ld	hl,(_player_joy)
3281  100F  29          	add	hl, hl
3282  1010  09          	add	hl,bc
3283  1011  11 00 00    	ld	de,_joyfunc1
3284  1014  ED A0       	ldi
3285  1016  03          	inc	bc
3286  1017  7E          	ld	a,(hl)
3287  1018  12          	ld	(de),a
3288  1019  2A 02 00    	ld	hl, (_player_joy + 2)
3289  101C  29          	add	hl, hl
3290  101D  09          	add	hl,bc
3291  101E  11 00 00    	ld	de,_joyfunc2
3292  1021  ED A0       	ldi
3293  1023  7E          	ld	a,(hl)
3294  1024  12          	ld	(de),a
3295  1025  C9          	ret
3296  1026              ;	---------------------------------
3297  1026              ; Function game_menu
3298  1026              ; ---------------------------------
3299  1026              _game_menu:
3300  1026  CD 88 10    	call	_game_menu_top_paint
3301  1029  CD FC 10    	call	_game_menu_paint
3302  102C  CD 00 00    	call	_ay_reset
3303  102F  21 00 00    	ld	hl,_pb_midi_title
3304  1032  CD 00 00    	call	_ay_midi_play
3305  1035              l_game_menu_00101:
3306  1035  21 00 00    	ld	hl,_k1
3307  1038  E5          	push	hl
3308  1039  2A 00 00    	ld	hl,(_joyfunc1)
3309  103C  CD 00 00    	call	___sdcc_call_hl
3310  103F  F1          	pop	af
3311  1040  7C          	ld	a,h
3312  1041  B5          	or	a,l
3313  1042  20 F1       	jr	NZ,l_game_menu_00101
3314  1044  21 E8 03    	ld	hl,0x03e8
3315  1047  E5          	push	hl
3316  1048  21 0E 12    	ld	hl,0x120e
3317  104B  E5          	push	hl
3318  104C  21 0C 02    	ld	hl,0x020c
3319  104F  E5          	push	hl
3320  1050  CD 79 12    	call	_game_menu_handle
3321  1053  F1          	pop	af
3322  1054  F1          	pop	af
3323  1055  F1          	pop	af
3324  1056  4D          	ld	c,l
3325  1057  21 00 00    	ld	hl,_tmp_uc
3326  105A  71          	ld	(hl),c
3327  105B  3E 02       	ld	a,0x02
3328  105D  96          	sub	a, (hl)
3329  105E  38 D5       	jr	C,l_game_menu_00101
3330  1060  5E          	ld	e,(hl)
3331  1061  16 00       	ld	d,0x00
3332  1063  21 69 10    	ld	hl,l_game_menu_00125
3333  1066  19          	add	hl,de
3334  1067  19          	add	hl,de
3335  1068  E9          	jp	(hl)
3336  1069              l_game_menu_00125:
3337  1069  18 04       	jr	l_game_menu_00104
3338  106B  18 0C       	jr	l_game_menu_00105
3339  106D  18 14       	jr	l_game_menu_00106
3340  106F              l_game_menu_00104:
3341  106F  21 00 00    	ld	hl,_game_two_player
3342  1072  36 00       	ld	(hl),0x00
3343  1074  CD 7D 03    	call	_game_loop
3344  1077  18 BC       	jr	l_game_menu_00101
3345  1079              l_game_menu_00105:
3346  1079  21 00 00    	ld	hl,_game_two_player
3347  107C  36 01       	ld	(hl),0x01
3348  107E  CD 7D 03    	call	_game_loop
3349  1081  18 B2       	jr	l_game_menu_00101
3350  1083              l_game_menu_00106:
3351  1083  CD B4 0D    	call	_game_menu_config
3352  1086  18 AD       	jr	l_game_menu_00101
3353  1088              ;	---------------------------------
3354  1088              ; Function game_menu_top_paint
3355  1088              ; ---------------------------------
3356  1088              _game_menu_top_paint:
3357  1088  CD 00 00    	call	_spr_draw_clear
3358  108B  2E 00       	ld	l,0x00
3359  108D  CD 42 0D    	call	_game_paint_attrib
3360  1090  21 9C 01    	ld	hl,0x019c
3361  1093  E5          	push	hl
3362  1094  21 00 1E    	ld	hl,0x1e00
3363  1097  E5          	push	hl
3364  1098  3E 10       	ld	a,0x10
3365  109A  F5          	push	af
3366  109B  33          	inc	sp
3367  109C  CD C6 11    	call	_game_menu_e
3368  109F  F1          	pop	af
3369  10A0  33          	inc	sp
3370  10A1  21 9F FF    	ld	hl,0xff9f
3371  10A4  E3          	ex	(sp),hl
3372  10A5  21 00 1E    	ld	hl,0x1e00
3373  10A8  E5          	push	hl
3374  10A9  3E 50       	ld	a,0x50
3375  10AB  F5          	push	af
3376  10AC  33          	inc	sp
3377  10AD  CD C6 11    	call	_game_menu_e
3378  10B0  F1          	pop	af
3379  10B1  F1          	pop	af
3380  10B2  33          	inc	sp
3381  10B3  21 00 00    	ld	hl,_tmp
3382  10B6  36 18       	ld	(hl),0x18
3383  10B8  F3          	di
3384  10B9  21 00 00    	ld	hl,_tmp_uc
3385  10BC  36 00       	ld	(hl),0x00
3386  10BE              l_game_menu_top_paint_00102:
3387  10BE  3A 00 00    	ld	a,(_tmp_uc)
3388  10C1  87          	add	a, a
3389  10C2  C6 05       	add	a,0x05
3390  10C4  47          	ld	b,a
3391  10C5  3A 00 00    	ld	a,(_tmp)
3392  10C8  C6 10       	add	a,0x10
3393  10CA  57          	ld	d,a
3394  10CB  3A 00 00    	ld	a,(_tmp_uc)
3395  10CE  C6 C0       	add	a,0xc0
3396  10D0  4A          	ld	c, d
3397  10D1  C5          	push	bc
3398  10D2  F5          	push	af
3399  10D3  33          	inc	sp
3400  10D4  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3401  10D7  3A 00 00    	ld	a,(_tmp_uc)
3402  10DA  87          	add	a, a
3403  10DB  C6 05       	add	a,0x05
3404  10DD  47          	ld	b,a
3405  10DE  3A 00 00    	ld	a,(_tmp)
3406  10E1  C6 20       	add	a,0x20
3407  10E3  57          	ld	d,a
3408  10E4  3A 00 00    	ld	a,(_tmp_uc)
3409  10E7  C6 CC       	add	a,0xcc
3410  10E9  4A          	ld	c, d
3411  10EA  C5          	push	bc
3412  10EB  F5          	push	af
3413  10EC  33          	inc	sp
3414  10ED  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3415  10F0  21 00 00    	ld	hl,_tmp_uc
3416  10F3  7E          	ld	a,(hl)
3417  10F4  3C          	inc	a
3418  10F5  77          	ld	(hl),a
3419  10F6  D6 0A       	sub	a,0x0a
3420  10F8  38 C4       	jr	C,l_game_menu_top_paint_00102
3421  10FA  FB          	ei
3422  10FB  C9          	ret
3423  10FC              ;	---------------------------------
3424  10FC              ; Function game_menu_paint
3425  10FC              ; ---------------------------------
3426  10FC              _game_menu_paint:
3427  10FC  76          	halt
3428  10FD  3A 00 00    	ld	a,(_tmp)
3429  1100  C6 28       	add	a,0x28
3430  1102  4F          	ld	c, a
3431  1103  06 1A       	ld	b,0x1a
3432  1105  C5          	push	bc
3433  1106  3E 12       	ld	a,0x12
3434  1108  F5          	push	af
3435  1109  33          	inc	sp
3436  110A  CD 00 00    	call	_NIRVANAP_fillC_callee
3437  110D  21 00 20    	ld	hl,0x2000
3438  1110  E5          	push	hl
3439  1111  CD 00 00    	call	_game_fill_row
3440  1114  21 00 20    	ld	hl,0x2000
3441  1117  E5          	push	hl
3442  1118  CD 00 00    	call	_game_fill_row
3443  111B  21 77 11    	ld	hl,___str_35
3444  111E  E5          	push	hl
3445  111F  21 0E 0A    	ld	hl,0x0a0e
3446  1122  E5          	push	hl
3447  1123  CD 00 00    	call	_zx_print_str
3448  1126  21 0F 20    	ld	hl,0x200f
3449  1129  E5          	push	hl
3450  112A  CD 00 00    	call	_game_fill_row
3451  112D  21 85 11    	ld	hl,___str_36
3452  1130  E5          	push	hl
3453  1131  21 10 0A    	ld	hl,0x0a10
3454  1134  E5          	push	hl
3455  1135  CD 00 00    	call	_zx_print_str
3456  1138  21 11 20    	ld	hl,0x2011
3457  113B  E5          	push	hl
3458  113C  CD 00 00    	call	_game_fill_row
3459  113F  21 93 11    	ld	hl,___str_37
3460  1142  E5          	push	hl
3461  1143  21 12 0A    	ld	hl,0x0a12
3462  1146  E5          	push	hl
3463  1147  CD 00 00    	call	_zx_print_str
3464  114A  21 13 20    	ld	hl,0x2013
3465  114D  E5          	push	hl
3466  114E  CD 00 00    	call	_game_fill_row
3467  1151  21 00 00    	ld	hl,_screen_ink
3468  1154  36 01       	ld	(hl),0x01
3469  1156  21 A1 11    	ld	hl,___str_38
3470  1159  E5          	push	hl
3471  115A  21 16 07    	ld	hl,0x0716
3472  115D  E5          	push	hl
3473  115E  CD 00 00    	call	_zx_print_str
3474  1161  21 B4 11    	ld	hl,___str_39
3475  1164  E5          	push	hl
3476  1165  21 17 07    	ld	hl,0x0717
3477  1168  E5          	push	hl
3478  1169  CD 00 00    	call	_zx_print_str
3479  116C  21 00 00    	ld	hl,_tmp_uc
3480  116F  36 00       	ld	(hl),0x00
3481  1171  2E 0B       	ld	l,0x0b
3482  1173  CD 42 0D    	call	_game_paint_attrib
3483  1176  C9          	ret
3484  1177              ___str_35:
3485  1177  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3486  1184  00          	DEFB 0x00
3487  1185              ___str_36:
3488  1185  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3489  1192  00          	DEFB 0x00
3490  1193              ___str_37:
3491  1193  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3492  11A0  00          	DEFB 0x00
3493  11A1              ___str_38:
3494  11A1  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3495  11B3  00          	DEFB 0x00
3496  11B4              ___str_39:
3497  11B4  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3498  11C5  00          	DEFB 0x00
3499  11C6              ;	---------------------------------
3500  11C6              ; Function game_menu_e
3501  11C6              ; ---------------------------------
3502  11C6              _game_menu_e:
3503  11C6  CD 00 00    	call	___sdcc_enter_ix
3504  11C9  F3          	di
3505  11CA  DD 4E 05    	ld	c,(ix+5)
3506  11CD  21 00 00    	ld	hl,_tmp_uc
3507  11D0  71          	ld	(hl),c
3508  11D1  DD 46 07    	ld	b,(ix+7)
3509  11D4  04          	inc	b
3510  11D5  DD 56 07    	ld	d,(ix+7)
3511  11D8  14          	inc	d
3512  11D9  14          	inc	d
3513  11DA              l_game_menu_e_00114:
3514  11DA  DD 7E 06    	ld	a,(ix+6)
3515  11DD  21 00 00    	ld	hl,_tmp_uc
3516  11E0  96          	sub	a, (hl)
3517  11E1  38 56       	jr	C,l_game_menu_e_00109
3518  11E3  7E          	ld	a,(hl)
3519  11E4  91          	sub	a, c
3520  11E5  20 15       	jr	NZ,l_game_menu_e_00102
3521  11E7  3A 00 00    	ld	a,(_tmp_uc)
3522  11EA  C5          	push	bc
3523  11EB  D5          	push	de
3524  11EC  F5          	push	af
3525  11ED  33          	inc	sp
3526  11EE  DD 66 04    	ld	h,(ix+4)
3527  11F1  DD 6E 07    	ld	l,(ix+7)
3528  11F4  E5          	push	hl
3529  11F5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3530  11F8  D1          	pop	de
3531  11F9  C1          	pop	bc
3532  11FA  18 36       	jr	l_game_menu_e_00108
3533  11FC              l_game_menu_e_00102:
3534  11FC  3A 00 00    	ld	a,(_tmp_uc)
3535  11FF  DD 96 06    	sub	a,(ix+6)
3536  1202  20 14       	jr	NZ,l_game_menu_e_00104
3537  1204  3A 00 00    	ld	a,(_tmp_uc)
3538  1207  C5          	push	bc
3539  1208  D5          	push	de
3540  1209  F5          	push	af
3541  120A  33          	inc	sp
3542  120B  DD 7E 04    	ld	a,(ix+4)
3543  120E  5A          	ld	e,d
3544  120F  57          	ld	d,a
3545  1210  D5          	push	de
3546  1211  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3547  1214  D1          	pop	de
3548  1215  C1          	pop	bc
3549  1216  18 1A       	jr	l_game_menu_e_00108
3550  1218              l_game_menu_e_00104:
3551  1218  3A 00 00    	ld	a,(_tmp_uc)
3552  121B  FE 0E       	cp	a,0x0e
3553  121D  28 13       	jr	Z,l_game_menu_e_00108
3554  121F  FE 10       	cp	a,0x10
3555  1221  28 0F       	jr	Z,l_game_menu_e_00108
3556  1223  C5          	push	bc
3557  1224  D5          	push	de
3558  1225  F5          	push	af
3559  1226  33          	inc	sp
3560  1227  DD 7E 04    	ld	a,(ix+4)
3561  122A  48          	ld	c,b
3562  122B  47          	ld	b,a
3563  122C  C5          	push	bc
3564  122D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3565  1230  D1          	pop	de
3566  1231  C1          	pop	bc
3567  1232              l_game_menu_e_00108:
3568  1232  21 00 00    	ld	hl,_tmp_uc
3569  1235  34          	inc	(hl)
3570  1236  34          	inc	(hl)
3571  1237  18 A1       	jr	l_game_menu_e_00114
3572  1239              l_game_menu_e_00109:
3573  1239  DD 7E 08    	ld	a,(ix+8)
3574  123C  3C          	inc	a
3575  123D  20 0A       	jr	NZ,l_game_menu_e_00111
3576  123F  DD 7E 04    	ld	a,(ix+4)
3577  1242  C6 F0       	add	a,0xf0
3578  1244  DD 77 04    	ld	(ix+4),a
3579  1247  18 08       	jr	l_game_menu_e_00112
3580  1249              l_game_menu_e_00111:
3581  1249  DD 7E 04    	ld	a,(ix+4)
3582  124C  C6 10       	add	a,0x10
3583  124E  DD 77 04    	ld	(ix+4),a
3584  1251              l_game_menu_e_00112:
3585  1251  DD 7E 07    	ld	a,(ix+7)
3586  1254  C6 0C       	add	a,0x0c
3587  1256  47          	ld	b,a
3588  1257  79          	ld	a,c
3589  1258  F5          	push	af
3590  1259  33          	inc	sp
3591  125A  DD 7E 04    	ld	a,(ix+4)
3592  125D  48          	ld	c,b
3593  125E  47          	ld	b,a
3594  125F  C5          	push	bc
3595  1260  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3596  1263  DD 7E 07    	ld	a,(ix+7)
3597  1266  C6 0E       	add	a,0x0e
3598  1268  47          	ld	b,a
3599  1269  DD 66 06    	ld	h,(ix+6)
3600  126C  DD 6E 04    	ld	l,(ix+4)
3601  126F  E5          	push	hl
3602  1270  C5          	push	bc
3603  1271  33          	inc	sp
3604  1272  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3605  1275  FB          	ei
3606  1276  DD E1       	pop	ix
3607  1278  C9          	ret
3608  1279              ;	---------------------------------
3609  1279              ; Function game_menu_handle
3610  1279              ; ---------------------------------
3611  1279              _game_menu_handle:
3612  1279  CD 00 00    	call	___sdcc_enter_ix
3613  127C  3B          	dec	sp
3614  127D  2A 00 00    	ld	hl,(_curr_time)
3615  1280  22 00 00    	ld	(_entry_time),hl
3616  1283  DD 5E 05    	ld	e,(ix+5)
3617  1286  21 00 00    	ld	hl,_game_menu_sel
3618  1289  66          	ld	h,(hl)
3619  128A  2E 00       	ld	l,0x00
3620  128C  55          	ld	d, l
3621  128D  06 08       	ld	b,0x08
3622  128F              l_game_menu_handle_00148:
3623  128F  29          	add	hl,hl
3624  1290  30 01       	jr	NC,l_game_menu_handle_00149
3625  1292  19          	add	hl,de
3626  1293              l_game_menu_handle_00149:
3627  1293  10 FA       	djnz	l_game_menu_handle_00148
3628  1295  DD 7E 06    	ld	a,(ix+6)
3629  1298  85          	add	a,l
3630  1299  32 00 00    	ld	(_s_lin1),a
3631  129C  DD 7E 06    	ld	a,(ix+6)
3632  129F  DD 77 FF    	ld	(ix-1),a
3633  12A2              l_game_menu_handle_00111:
3634  12A2  21 00 00    	ld	hl,_k1
3635  12A5  E5          	push	hl
3636  12A6  2A 00 00    	ld	hl,(_joyfunc1)
3637  12A9  CD 00 00    	call	___sdcc_call_hl
3638  12AC  F1          	pop	af
3639  12AD  7D          	ld	a,l
3640  12AE  32 00 00    	ld	(_dirs),a
3641  12B1  D6 80       	sub	a,0x80
3642  12B3  CA 51 13    	jp	Z,l_game_menu_handle_00113
3643  12B6  21 05 00    	ld	hl,0x0005
3644  12B9  E5          	push	hl
3645  12BA  2A 00 00    	ld	hl,(_frame_time)
3646  12BD  E5          	push	hl
3647  12BE  CD 13 1C    	call	_game_check_time
3648  12C1  F1          	pop	af
3649  12C2  F1          	pop	af
3650  12C3  7D          	ld	a,l
3651  12C4  B7          	or	a, a
3652  12C5  28 58       	jr	Z,l_game_menu_handle_00106
3653  12C7  3A 00 00    	ld	a,(_dirs)
3654  12CA  B7          	or	a, a
3655  12CB  28 32       	jr	Z,l_game_menu_handle_00104
3656  12CD  21 00 00    	ld	hl,_ay_effect_03
3657  12D0  CD 00 00    	call	_ay_fx_play
3658  12D3  CD 00 00    	call	_sound_slide
3659  12D6  3A 00 00    	ld	a,(_s_lin1)
3660  12D9  07          	rlca
3661  12DA  07          	rlca
3662  12DB  07          	rlca
3663  12DC  E6 F8       	and	a,0xf8
3664  12DE  C6 08       	add	a,0x08
3665  12E0  F5          	push	af
3666  12E1  33          	inc	sp
3667  12E2  26 14       	ld	h,0x14
3668  12E4  DD 6E 04    	ld	l,(ix+4)
3669  12E7  E5          	push	hl
3670  12E8  CD 66 0D    	call	_game_paint_attrib_lin
3671  12EB  F1          	pop	af
3672  12EC  33          	inc	sp
3673  12ED  21 00 00    	ld	hl,_s_lin1
3674  12F0  7E          	ld	a,(hl)
3675  12F1  DD 86 05    	add	a,(ix+5)
3676  12F4  77          	ld	(hl),a
3677  12F5  DD 7E 07    	ld	a,(ix+7)
3678  12F8  96          	sub	a, (hl)
3679  12F9  30 04       	jr	NC,l_game_menu_handle_00104
3680  12FB  DD 7E FF    	ld	a,(ix-1)
3681  12FE  77          	ld	(hl),a
3682  12FF              l_game_menu_handle_00104:
3683  12FF  2A 00 00    	ld	hl,(_curr_time)
3684  1302  22 00 00    	ld	(_frame_time),hl
3685  1305  3A 00 00    	ld	a,(_s_lin1)
3686  1308  07          	rlca
3687  1309  07          	rlca
3688  130A  07          	rlca
3689  130B  E6 F8       	and	a,0xf8
3690  130D  C6 08       	add	a,0x08
3691  130F  F5          	push	af
3692  1310  33          	inc	sp
3693  1311  26 14       	ld	h,0x14
3694  1313  DD 6E 04    	ld	l,(ix+4)
3695  1316  E5          	push	hl
3696  1317  CD 8D 0D    	call	_game_paint_attrib_lin_h
3697  131A  F1          	pop	af
3698  131B  33          	inc	sp
3699  131C  CD 65 1B    	call	_game_rotate_attrib
3700  131F              l_game_menu_handle_00106:
3701  131F  DD 7E 09    	ld	a,(ix+9)
3702  1322  DD B6 08    	or	a,(ix+8)
3703  1325  CA A2 12    	jp	Z,l_game_menu_handle_00111
3704  1328  DD 6E 08    	ld	l,(ix+8)
3705  132B  DD 66 09    	ld	h,(ix+9)
3706  132E  E5          	push	hl
3707  132F  2A 00 00    	ld	hl,(_entry_time)
3708  1332  E5          	push	hl
3709  1333  CD 13 1C    	call	_game_check_time
3710  1336  F1          	pop	af
3711  1337  F1          	pop	af
3712  1338  7D          	ld	a,l
3713  1339  B7          	or	a, a
3714  133A  CA A2 12    	jp	Z,l_game_menu_handle_00111
3715  133D  CD 00 00    	call	_ay_is_playing
3716  1340  7D          	ld	a,l
3717  1341  B7          	or	a, a
3718  1342  C2 A2 12    	jp	NZ,l_game_menu_handle_00111
3719  1345  CD 83 1A    	call	_game_hall_of_fame
3720  1348  DD 6E FF    	ld	l,(ix-1)
3721  134B  CD 76 18    	call	_game_menu_back
3722  134E  C3 A2 12    	jp	l_game_menu_handle_00111
3723  1351              l_game_menu_handle_00113:
3724  1351  3A 00 00    	ld	a,(_s_lin1)
3725  1354  DD 96 FF    	sub	a,(ix-1)
3726  1357  47          	ld	b,a
3727  1358  DD 7E 05    	ld	a,(ix+5)
3728  135B  48          	ld	c,b
3729  135C  47          	ld	b,a
3730  135D  C5          	push	bc
3731  135E  CD 00 00    	call	__divuchar_callee
3732  1361  33          	inc	sp
3733  1362  DD E1       	pop	ix
3734  1364  C9          	ret
3735  1365              ;	---------------------------------
3736  1365              ; Function game_end
3737  1365              ; ---------------------------------
3738  1365              _game_end:
3739  1365  CD 00 00    	call	___sdcc_enter_ix
3740  1368  F5          	push	af
3741  1369  F5          	push	af
3742  136A  CD 52 09    	call	_game_kill_all_sprites
3743  136D  CD 00 00    	call	_spr_draw_clear
3744  1370  21 00 00    	ld	hl,_pb_midi_title
3745  1373  CD 00 00    	call	_ay_midi_play
3746  1376  21 00 00    	ld	hl,_tmp0
3747  1379  36 04       	ld	(hl),0x04
3748  137B              l_game_end_00129:
3749  137B  3A 00 00    	ld	a,(_tmp0)
3750  137E  F5          	push	af
3751  137F  33          	inc	sp
3752  1380  21 8C 50    	ld	hl,0x508c
3753  1383  E5          	push	hl
3754  1384  CD 00 00    	call	_NIRVANAP_drawT_callee
3755  1387  21 00 00    	ld	hl,_tmp0
3756  138A  7E          	ld	a,(hl)
3757  138B  3C          	inc	a
3758  138C  3C          	inc	a
3759  138D  77          	ld	(hl),a
3760  138E  D6 1C       	sub	a,0x1c
3761  1390  38 E9       	jr	C,l_game_end_00129
3762  1392  36 04       	ld	(hl),0x04
3763  1394              l_game_end_00131:
3764  1394  3A 00 00    	ld	a,(_tmp0)
3765  1397  F5          	push	af
3766  1398  33          	inc	sp
3767  1399  21 8C 60    	ld	hl,0x608c
3768  139C  E5          	push	hl
3769  139D  CD 00 00    	call	_NIRVANAP_drawT_callee
3770  13A0  21 00 00    	ld	hl,_tmp0
3771  13A3  7E          	ld	a,(hl)
3772  13A4  3C          	inc	a
3773  13A5  3C          	inc	a
3774  13A6  77          	ld	(hl),a
3775  13A7  D6 1C       	sub	a,0x1c
3776  13A9  38 E9       	jr	C,l_game_end_00131
3777  13AB  36 04       	ld	(hl),0x04
3778  13AD              l_game_end_00133:
3779  13AD  3A 00 00    	ld	a,(_tmp0)
3780  13B0  F5          	push	af
3781  13B1  33          	inc	sp
3782  13B2  21 8C 70    	ld	hl,0x708c
3783  13B5  E5          	push	hl
3784  13B6  CD 00 00    	call	_NIRVANAP_drawT_callee
3785  13B9  21 00 00    	ld	hl,_tmp0
3786  13BC  7E          	ld	a,(hl)
3787  13BD  3C          	inc	a
3788  13BE  3C          	inc	a
3789  13BF  77          	ld	(hl),a
3790  13C0  D6 1C       	sub	a,0x1c
3791  13C2  38 E9       	jr	C,l_game_end_00133
3792  13C4  21 50 18    	ld	hl,0x1850
3793  13C7  E5          	push	hl
3794  13C8  3E D6       	ld	a,0xd6
3795  13CA  F5          	push	af
3796  13CB  33          	inc	sp
3797  13CC  CD 00 00    	call	_NIRVANAP_drawT_callee
3798  13CF  21 9C 01    	ld	hl,0x019c
3799  13D2  E5          	push	hl
3800  13D3  21 01 1D    	ld	hl,0x1d01
3801  13D6  E5          	push	hl
3802  13D7  3E 20       	ld	a,0x20
3803  13D9  F5          	push	af
3804  13DA  33          	inc	sp
3805  13DB  CD C6 11    	call	_game_menu_e
3806  13DE  F1          	pop	af
3807  13DF  33          	inc	sp
3808  13E0  21 9F FF    	ld	hl,0xff9f
3809  13E3  E3          	ex	(sp),hl
3810  13E4  21 01 1D    	ld	hl,0x1d01
3811  13E7  E5          	push	hl
3812  13E8  3E 80       	ld	a,0x80
3813  13EA  F5          	push	af
3814  13EB  33          	inc	sp
3815  13EC  CD C6 11    	call	_game_menu_e
3816  13EF  F1          	pop	af
3817  13F0  F1          	pop	af
3818  13F1  33          	inc	sp
3819  13F2  3E 00       	ld	a,0x00
3820  13F4  DD 77 FC    	ld	(ix-4),a
3821  13F7  DD 77 FD    	ld	(ix-3),a
3822  13FA  3A 00 00    	ld	a,(_game_two_player)
3823  13FD  B7          	or	a, a
3824  13FE  28 16       	jr	Z,l_game_end_00109
3825  1400  3A 00 00    	ld	a,(_game_lives)
3826  1403  B7          	or	a, a
3827  1404  28 04       	jr	Z,l_game_end_00105
3828  1406  DD 36 FC 01 	ld	(ix-4),0x01
3829  140A              l_game_end_00105:
3830  140A  3A 01 00    	ld	a, (_game_lives + 1)
3831  140D  B7          	or	a, a
3832  140E  28 0A       	jr	Z,l_game_end_00110
3833  1410  DD 36 FD 01 	ld	(ix-3),0x01
3834  1414  18 04       	jr	l_game_end_00110
3835  1416              l_game_end_00109:
3836  1416  DD 36 FC 01 	ld	(ix-4),0x01
3837  141A              l_game_end_00110:
3838  141A  DD 7E FC    	ld	a,(ix-4)
3839  141D  3D          	dec	a
3840  141E  20 04       	jr	NZ,l_game_end_00221
3841  1420  3E 01       	ld	a,0x01
3842  1422  18 01       	jr	l_game_end_00222
3843  1424              l_game_end_00221:
3844  1424  AF          	xor	a,a
3845  1425              l_game_end_00222:
3846  1425  DD 77 FE    	ld	(ix-2),a
3847  1428  B7          	or	a, a
3848  1429  28 1C       	jr	Z,l_game_end_00112
3849  142B  DD 7E FD    	ld	a,(ix-3)
3850  142E  B7          	or	a, a
3851  142F  20 16       	jr	NZ,l_game_end_00112
3852  1431  21 D1 15    	ld	hl,___str_40
3853  1434  E5          	push	hl
3854  1435  21 13 01    	ld	hl,0x0113
3855  1438  E5          	push	hl
3856  1439  CD 00 00    	call	_zx_print_str
3857  143C  21 50 0C    	ld	hl,0x0c50
3858  143F  E5          	push	hl
3859  1440  3E 03       	ld	a,0x03
3860  1442  F5          	push	af
3861  1443  33          	inc	sp
3862  1444  CD 00 00    	call	_NIRVANAP_drawT_callee
3863  1447              l_game_end_00112:
3864  1447  DD 7E FD    	ld	a,(ix-3)
3865  144A  3D          	dec	a
3866  144B  20 04       	jr	NZ,l_game_end_00223
3867  144D  3E 01       	ld	a,0x01
3868  144F  18 01       	jr	l_game_end_00224
3869  1451              l_game_end_00223:
3870  1451  AF          	xor	a,a
3871  1452              l_game_end_00224:
3872  1452  DD 77 FF    	ld	(ix-1),a
3873  1455  DD 7E FC    	ld	a,(ix-4)
3874  1458  B7          	or	a, a
3875  1459  20 1C       	jr	NZ,l_game_end_00115
3876  145B  DD 7E FF    	ld	a,(ix-1)
3877  145E  B7          	or	a, a
3878  145F  28 16       	jr	Z,l_game_end_00115
3879  1461  21 DB 15    	ld	hl,___str_41
3880  1464  E5          	push	hl
3881  1465  21 13 01    	ld	hl,0x0113
3882  1468  E5          	push	hl
3883  1469  CD 00 00    	call	_zx_print_str
3884  146C  21 60 0E    	ld	hl,0x0e60
3885  146F  E5          	push	hl
3886  1470  3E 1B       	ld	a,0x1b
3887  1472  F5          	push	af
3888  1473  33          	inc	sp
3889  1474  CD 00 00    	call	_NIRVANAP_drawT_callee
3890  1477              l_game_end_00115:
3891  1477  DD 7E FE    	ld	a,(ix-2)
3892  147A  B7          	or	a, a
3893  147B  28 27       	jr	Z,l_game_end_00118
3894  147D  DD 7E FF    	ld	a,(ix-1)
3895  1480  B7          	or	a, a
3896  1481  28 21       	jr	Z,l_game_end_00118
3897  1483  21 E4 15    	ld	hl,___str_42
3898  1486  E5          	push	hl
3899  1487  21 13 01    	ld	hl,0x0113
3900  148A  E5          	push	hl
3901  148B  CD 00 00    	call	_zx_print_str
3902  148E  21 50 0C    	ld	hl,0x0c50
3903  1491  E5          	push	hl
3904  1492  3E 03       	ld	a,0x03
3905  1494  F5          	push	af
3906  1495  33          	inc	sp
3907  1496  CD 00 00    	call	_NIRVANAP_drawT_callee
3908  1499  21 60 0E    	ld	hl,0x0e60
3909  149C  E5          	push	hl
3910  149D  3E 1B       	ld	a,0x1b
3911  149F  F5          	push	af
3912  14A0  33          	inc	sp
3913  14A1  CD 00 00    	call	_NIRVANAP_drawT_callee
3914  14A4              l_game_end_00118:
3915  14A4  21 C8 00    	ld	hl,0x00c8
3916  14A7  E5          	push	hl
3917  14A8  21 01 1F    	ld	hl,0x1f01
3918  14AB  E5          	push	hl
3919  14AC  3E 13       	ld	a,0x13
3920  14AE  F5          	push	af
3921  14AF  33          	inc	sp
3922  14B0  CD 81 1B    	call	_game_colour_message
3923  14B3  F1          	pop	af
3924  14B4  F1          	pop	af
3925  14B5  33          	inc	sp
3926  14B6  DD 7E FE    	ld	a,(ix-2)
3927  14B9  B7          	or	a, a
3928  14BA  28 32       	jr	Z,l_game_end_00121
3929  14BC  DD 7E FD    	ld	a,(ix-3)
3930  14BF  B7          	or	a, a
3931  14C0  20 2C       	jr	NZ,l_game_end_00121
3932  14C2  21 40 12    	ld	hl,0x1240
3933  14C5  E5          	push	hl
3934  14C6  3E BE       	ld	a,0xbe
3935  14C8  F5          	push	af
3936  14C9  33          	inc	sp
3937  14CA  CD 00 00    	call	_NIRVANAP_drawT_callee
3938  14CD  21 50 12    	ld	hl,0x1250
3939  14D0  E5          	push	hl
3940  14D1  3E CA       	ld	a,0xca
3941  14D3  F5          	push	af
3942  14D4  33          	inc	sp
3943  14D5  CD 00 00    	call	_NIRVANAP_drawT_callee
3944  14D8  21 F8 15    	ld	hl,___str_43
3945  14DB  E5          	push	hl
3946  14DC  21 13 01    	ld	hl,0x0113
3947  14DF  E5          	push	hl
3948  14E0  CD 00 00    	call	_zx_print_str
3949  14E3  21 40 0C    	ld	hl,0x0c40
3950  14E6  E5          	push	hl
3951  14E7  3E BE       	ld	a,0xbe
3952  14E9  F5          	push	af
3953  14EA  33          	inc	sp
3954  14EB  CD 00 00    	call	_NIRVANAP_drawT_callee
3955  14EE              l_game_end_00121:
3956  14EE  DD 7E FC    	ld	a,(ix-4)
3957  14F1  B7          	or	a, a
3958  14F2  20 32       	jr	NZ,l_game_end_00124
3959  14F4  DD 7E FF    	ld	a,(ix-1)
3960  14F7  B7          	or	a, a
3961  14F8  28 2C       	jr	Z,l_game_end_00124
3962  14FA  21 50 12    	ld	hl,0x1250
3963  14FD  E5          	push	hl
3964  14FE  3E BE       	ld	a,0xbe
3965  1500  F5          	push	af
3966  1501  33          	inc	sp
3967  1502  CD 00 00    	call	_NIRVANAP_drawT_callee
3968  1505  21 60 12    	ld	hl,0x1260
3969  1508  E5          	push	hl
3970  1509  3E CA       	ld	a,0xca
3971  150B  F5          	push	af
3972  150C  33          	inc	sp
3973  150D  CD 00 00    	call	_NIRVANAP_drawT_callee
3974  1510  21 F8 15    	ld	hl,___str_43
3975  1513  E5          	push	hl
3976  1514  21 13 01    	ld	hl,0x0113
3977  1517  E5          	push	hl
3978  1518  CD 00 00    	call	_zx_print_str
3979  151B  21 50 0E    	ld	hl,0x0e50
3980  151E  E5          	push	hl
3981  151F  3E BE       	ld	a,0xbe
3982  1521  F5          	push	af
3983  1522  33          	inc	sp
3984  1523  CD 00 00    	call	_NIRVANAP_drawT_callee
3985  1526              l_game_end_00124:
3986  1526  DD 7E FE    	ld	a,(ix-2)
3987  1529  B7          	or	a, a
3988  152A  28 53       	jr	Z,l_game_end_00127
3989  152C  DD 7E FF    	ld	a,(ix-1)
3990  152F  B7          	or	a, a
3991  1530  28 4D       	jr	Z,l_game_end_00127
3992  1532  21 0C 16    	ld	hl,___str_44
3993  1535  E5          	push	hl
3994  1536  21 13 01    	ld	hl,0x0113
3995  1539  E5          	push	hl
3996  153A  CD 00 00    	call	_zx_print_str
3997  153D  21 40 12    	ld	hl,0x1240
3998  1540  E5          	push	hl
3999  1541  3E BE       	ld	a,0xbe
4000  1543  F5          	push	af
4001  1544  33          	inc	sp
4002  1545  CD 00 00    	call	_NIRVANAP_drawT_callee
4003  1548  21 50 12    	ld	hl,0x1250
4004  154B  E5          	push	hl
4005  154C  3E CA       	ld	a,0xca
4006  154E  F5          	push	af
4007  154F  33          	inc	sp
4008  1550  CD 00 00    	call	_NIRVANAP_drawT_callee
4009  1553  21 50 10    	ld	hl,0x1050
4010  1556  E5          	push	hl
4011  1557  3E BE       	ld	a,0xbe
4012  1559  F5          	push	af
4013  155A  33          	inc	sp
4014  155B  CD 00 00    	call	_NIRVANAP_drawT_callee
4015  155E  21 60 10    	ld	hl,0x1060
4016  1561  E5          	push	hl
4017  1562  3E CA       	ld	a,0xca
4018  1564  F5          	push	af
4019  1565  33          	inc	sp
4020  1566  CD 00 00    	call	_NIRVANAP_drawT_callee
4021  1569  21 40 0C    	ld	hl,0x0c40
4022  156C  E5          	push	hl
4023  156D  3E BE       	ld	a,0xbe
4024  156F  F5          	push	af
4025  1570  33          	inc	sp
4026  1571  CD 00 00    	call	_NIRVANAP_drawT_callee
4027  1574  21 50 0E    	ld	hl,0x0e50
4028  1577  E5          	push	hl
4029  1578  3E BE       	ld	a,0xbe
4030  157A  F5          	push	af
4031  157B  33          	inc	sp
4032  157C  CD 00 00    	call	_NIRVANAP_drawT_callee
4033  157F              l_game_end_00127:
4034  157F  21 C8 00    	ld	hl,0x00c8
4035  1582  E5          	push	hl
4036  1583  21 01 1F    	ld	hl,0x1f01
4037  1586  E5          	push	hl
4038  1587  3E 13       	ld	a,0x13
4039  1589  F5          	push	af
4040  158A  33          	inc	sp
4041  158B  CD 81 1B    	call	_game_colour_message
4042  158E  F1          	pop	af
4043  158F  33          	inc	sp
4044  1590  21 22 16    	ld	hl,___str_45
4045  1593  E3          	ex	(sp),hl
4046  1594  21 13 01    	ld	hl,0x0113
4047  1597  E5          	push	hl
4048  1598  CD 00 00    	call	_zx_print_str
4049  159B  21 C8 00    	ld	hl,0x00c8
4050  159E  E5          	push	hl
4051  159F  21 01 1F    	ld	hl,0x1f01
4052  15A2  E5          	push	hl
4053  15A3  3E 13       	ld	a,0x13
4054  15A5  F5          	push	af
4055  15A6  33          	inc	sp
4056  15A7  CD 81 1B    	call	_game_colour_message
4057  15AA  F1          	pop	af
4058  15AB  33          	inc	sp
4059  15AC  21 39 16    	ld	hl,___str_46
4060  15AF  E3          	ex	(sp),hl
4061  15B0  21 13 01    	ld	hl,0x0113
4062  15B3  E5          	push	hl
4063  15B4  CD 00 00    	call	_zx_print_str
4064  15B7  21 C8 00    	ld	hl,0x00c8
4065  15BA  E5          	push	hl
4066  15BB  21 01 1F    	ld	hl,0x1f01
4067  15BE  E5          	push	hl
4068  15BF  3E 13       	ld	a,0x13
4069  15C1  F5          	push	af
4070  15C2  33          	inc	sp
4071  15C3  CD 81 1B    	call	_game_colour_message
4072  15C6  F1          	pop	af
4073  15C7  F1          	pop	af
4074  15C8  33          	inc	sp
4075  15C9  CD 00 00    	call	_spr_draw_clear
4076  15CC  DD F9       	ld	sp, ix
4077  15CE  DD E1       	pop	ix
4078  15D0  C9          	ret
4079  15D1              ___str_40:
4080  15D1  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4081  15DA  00          	DEFB 0x00
4082  15DB              ___str_41:
4083  15DB  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4084  15E3  00          	DEFB 0x00
4085  15E4              ___str_42:
4086  15E4  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4087  15F7  00          	DEFB 0x00
4088  15F8              ___str_43:
4089  15F8  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4090  160B  00          	DEFB 0x00
4091  160C              ___str_44:
4092  160C  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4093  1621  00          	DEFB 0x00
4094  1622              ___str_45:
4095  1622  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4096  1638  00          	DEFB 0x00
4097  1639              ___str_46:
4098  1639  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4099  164F  00          	DEFB 0x00
4100  1650              ;	---------------------------------
4101  1650              ; Function game_hall_check
4102  1650              ; ---------------------------------
4103  1650              _game_hall_check:
4104  1650  5D          	ld	e,l
4105  1651  01 00 00    	ld	bc,_player_score+0
4106  1654  26 00       	ld	h,0x00
4107  1656  6B          	ld	l, e
4108  1657  29          	add	hl, hl
4109  1658  09          	add	hl,bc
4110  1659  4E          	ld	c,(hl)
4111  165A  23          	inc	hl
4112  165B  46          	ld	b,(hl)
4113  165C  2A 3A 00    	ld	hl,(_hof + 0x003a)
4114  165F  AF          	xor	a,a
4115  1660  ED 42       	sbc	hl,bc
4116  1662  30 09       	jr	NC,l_game_hall_check_00104
4117  1664  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4118  1668  21 36 00    	ld	hl,+(_hof + 0x0036)
4119  166B  18 14       	jr	l_game_hall_check_00106
4120  166D              l_game_hall_check_00104:
4121  166D  2A 34 00    	ld	hl,(_hof + 0x0034)
4122  1670  AF          	xor	a,a
4123  1671  ED 42       	sbc	hl,bc
4124  1673  30 09       	jr	NC,l_game_hall_check_00105
4125  1675  ED 43 34 00 	ld	(_hof + 0x0034),bc
4126  1679  21 30 00    	ld	hl,+(_hof + 0x0030)
4127  167C  18 03       	jr	l_game_hall_check_00106
4128  167E              l_game_hall_check_00105:
4129  167E  21 00 00    	ld	hl,0x0000
4130  1681              l_game_hall_check_00106:
4131  1681  C9          	ret
4132  1682              ;	---------------------------------
4133  1682              ; Function compare_scores
4134  1682              ; ---------------------------------
4135  1682              _compare_scores:
4136  1682  CD 00 00    	call	___sdcc_enter_ix
4137  1685  DD 6E 06    	ld	l,(ix+6)
4138  1688  DD 66 07    	ld	h,(ix+7)
4139  168B  11 04 00    	ld	de,0x0004
4140  168E  19          	add	hl, de
4141  168F  4E          	ld	c,(hl)
4142  1690  23          	inc	hl
4143  1691  46          	ld	b,(hl)
4144  1692  DD 6E 04    	ld	l,(ix+4)
4145  1695  DD 66 05    	ld	h,(ix+5)
4146  1698  11 04 00    	ld	de,0x0004
4147  169B  19          	add	hl, de
4148  169C  5E          	ld	e,(hl)
4149  169D  23          	inc	hl
4150  169E  56          	ld	d,(hl)
4151  169F  79          	ld	a,c
4152  16A0  93          	sub	a, e
4153  16A1  6F          	ld	l,a
4154  16A2  78          	ld	a,b
4155  16A3  9A          	sbc	a, d
4156  16A4  67          	ld	h,a
4157  16A5  DD E1       	pop	ix
4158  16A7  C9          	ret
4159  16A8              ;	---------------------------------
4160  16A8              ; Function game_hall_enter
4161  16A8              ; ---------------------------------
4162  16A8              _game_hall_enter:
4163  16A8  CD 00 00    	call	___sdcc_enter_ix
4164  16AB  21 F7 FF    	ld	hl,-9
4165  16AE  39          	add	hl,sp
4166  16AF  F9          	ld	sp,hl
4167  16B0  CD 00 00    	call	_spr_draw_clear
4168  16B3  2E 00       	ld	l,0x00
4169  16B5  CD 42 0D    	call	_game_paint_attrib
4170  16B8  ED 4B 00 00 	ld	bc,(_player_score)
4171  16BC  2A 02 00    	ld	hl, (_player_score + 2)
4172  16BF  AF          	xor	a,a
4173  16C0  ED 42       	sbc	hl,bc
4174  16C2  30 0F       	jr	NC,l_game_hall_enter_00102
4175  16C4  2E 00       	ld	l,0x00
4176  16C6  CD 50 16    	call	_game_hall_check
4177  16C9  E5          	push	hl
4178  16CA  2E 01       	ld	l,0x01
4179  16CC  CD 50 16    	call	_game_hall_check
4180  16CF  EB          	ex	de,hl
4181  16D0  C1          	pop	bc
4182  16D1  18 0E       	jr	l_game_hall_enter_00103
4183  16D3              l_game_hall_enter_00102:
4184  16D3  2E 01       	ld	l,0x01
4185  16D5  CD 50 16    	call	_game_hall_check
4186  16D8  E5          	push	hl
4187  16D9  2E 00       	ld	l,0x00
4188  16DB  CD 50 16    	call	_game_hall_check
4189  16DE  D1          	pop	de
4190  16DF  4D          	ld	c,l
4191  16E0  44          	ld	b,h
4192  16E1              l_game_hall_enter_00103:
4193  16E1  78          	ld	a,b
4194  16E2  B1          	or	a,c
4195  16E3  20 05       	jr	NZ,l_game_hall_enter_00125
4196  16E5  7A          	ld	a,d
4197  16E6  B3          	or	a,e
4198  16E7  CA 35 18    	jp	Z,l_game_hall_enter_00126
4199  16EA              l_game_hall_enter_00125:
4200  16EA  3E 00       	ld	a,0x00
4201  16EC  DD 77 FA    	ld	(ix-6),a
4202  16EF  DD 77 F7    	ld	(ix-9),a
4203  16F2  DD 77 F9    	ld	(ix-7),a
4204  16F5  DD 77 F8    	ld	(ix-8),a
4205  16F8  DD 36 FB 00 	ld	(ix-5),0x00
4206  16FC  78          	ld	a,b
4207  16FD  B1          	or	a,c
4208  16FE  28 0D       	jr	Z,l_game_hall_enter_00105
4209  1700  DD 36 F8 01 	ld	(ix-8),0x01
4210  1704  C5          	push	bc
4211  1705  D5          	push	de
4212  1706  2E 00       	ld	l,0x00
4213  1708  CD 8C 18    	call	_game_hall_enter_phs
4214  170B  D1          	pop	de
4215  170C  C1          	pop	bc
4216  170D              l_game_hall_enter_00105:
4217  170D  7A          	ld	a,d
4218  170E  B3          	or	a,e
4219  170F  28 0D       	jr	Z,l_game_hall_enter_00107
4220  1711  DD 36 FB 05 	ld	(ix-5),0x05
4221  1715  C5          	push	bc
4222  1716  D5          	push	de
4223  1717  2E 01       	ld	l,0x01
4224  1719  CD 8C 18    	call	_game_hall_enter_phs
4225  171C  D1          	pop	de
4226  171D  C1          	pop	bc
4227  171E              l_game_hall_enter_00107:
4228  171E  C5          	push	bc
4229  171F  D5          	push	de
4230  1720  21 42 18    	ld	hl,___str_47
4231  1723  E5          	push	hl
4232  1724  21 02 0A    	ld	hl,0x0a02
4233  1727  E5          	push	hl
4234  1728  CD 00 00    	call	_zx_print_str
4235  172B  21 4F 18    	ld	hl,___str_48
4236  172E  E5          	push	hl
4237  172F  21 12 06    	ld	hl,0x0612
4238  1732  E5          	push	hl
4239  1733  CD 00 00    	call	_zx_print_str
4240  1736  21 62 18    	ld	hl,___str_49
4241  1739  E5          	push	hl
4242  173A  21 13 06    	ld	hl,0x0613
4243  173D  E5          	push	hl
4244  173E  CD 00 00    	call	_zx_print_str
4245  1741  D1          	pop	de
4246  1742  C1          	pop	bc
4247  1743  DD 71 FE    	ld	(ix-2),c
4248  1746  DD 70 FF    	ld	(ix-1),b
4249  1749  DD 73 FC    	ld	(ix-4),e
4250  174C  DD 72 FD    	ld	(ix-3),d
4251  174F              l_game_hall_enter_00122:
4252  174F  DD 7E F8    	ld	a,(ix-8)
4253  1752  DD 86 FB    	add	a,(ix-5)
4254  1755  B7          	or	a, a
4255  1756  CA 1D 18    	jp	Z,l_game_hall_enter_00124
4256  1759  21 05 00    	ld	hl,0x0005
4257  175C  E5          	push	hl
4258  175D  2A 00 00    	ld	hl,(_frame_time)
4259  1760  E5          	push	hl
4260  1761  CD 13 1C    	call	_game_check_time
4261  1764  F1          	pop	af
4262  1765  F1          	pop	af
4263  1766  7D          	ld	a,l
4264  1767  B7          	or	a, a
4265  1768  28 36       	jr	Z,l_game_hall_enter_00113
4266  176A  DD 7E F9    	ld	a,(ix-7)
4267  176D  D6 01       	sub	a,0x01
4268  176F  3E 00       	ld	a,0x00
4269  1771  17          	rla
4270  1772  DD 77 F9    	ld	(ix-7),a
4271  1775  DD 7E F8    	ld	a,(ix-8)
4272  1778  B7          	or	a, a
4273  1779  28 0B       	jr	Z,l_game_hall_enter_00109
4274  177B  DD 66 F9    	ld	h,(ix-7)
4275  177E  DD 6E F8    	ld	l,(ix-8)
4276  1781  E5          	push	hl
4277  1782  CD 0F 19    	call	_game_hall_print_p
4278  1785  F1          	pop	af
4279  1786              l_game_hall_enter_00109:
4280  1786  DD 7E FB    	ld	a,(ix-5)
4281  1789  B7          	or	a, a
4282  178A  28 0B       	jr	Z,l_game_hall_enter_00111
4283  178C  DD 66 F9    	ld	h,(ix-7)
4284  178F  DD 6E FB    	ld	l,(ix-5)
4285  1792  E5          	push	hl
4286  1793  CD 0F 19    	call	_game_hall_print_p
4287  1796  F1          	pop	af
4288  1797              l_game_hall_enter_00111:
4289  1797  CD 65 1B    	call	_game_rotate_attrib
4290  179A  2A 00 00    	ld	hl,(_curr_time)
4291  179D  22 00 00    	ld	(_frame_time),hl
4292  17A0              l_game_hall_enter_00113:
4293  17A0  21 00 00    	ld	hl,_k1
4294  17A3  E5          	push	hl
4295  17A4  2A 00 00    	ld	hl,(_joyfunc1)
4296  17A7  CD 00 00    	call	___sdcc_call_hl
4297  17AA  F1          	pop	af
4298  17AB  7D          	ld	a,l
4299  17AC  32 00 00    	ld	(_dirs),a
4300  17AF  DD 7E FA    	ld	a,(ix-6)
4301  17B2  B7          	or	a, a
4302  17B3  20 22       	jr	NZ,l_game_hall_enter_00115
4303  17B5  DD 7E F8    	ld	a,(ix-8)
4304  17B8  B7          	or	a, a
4305  17B9  28 1C       	jr	Z,l_game_hall_enter_00115
4306  17BB  DD 6E F8    	ld	l,(ix-8)
4307  17BE  CD CD 19    	call	_game_hall_edit_p
4308  17C1  DD 75 F8    	ld	(ix-8),l
4309  17C4  7D          	ld	a,l
4310  17C5  B7          	or	a, a
4311  17C6  20 0F       	jr	NZ,l_game_hall_enter_00115
4312  17C8  DD 5E FE    	ld	e,(ix-2)
4313  17CB  DD 56 FF    	ld	d,(ix-1)
4314  17CE  AF          	xor	a,a
4315  17CF  21 00 00    	ld	hl,_initials
4316  17D2              l_game_hall_enter_00190:
4317  17D2  BE          	cp	a, (hl)
4318  17D3  ED A0       	ldi
4319  17D5  20 FB       	jr	NZ, l_game_hall_enter_00190
4320  17D7              l_game_hall_enter_00115:
4321  17D7  3A 00 00    	ld	a,(_dirs)
4322  17DA  DD 77 FA    	ld	(ix-6),a
4323  17DD  21 00 00    	ld	hl,_k2
4324  17E0  E5          	push	hl
4325  17E1  2A 00 00    	ld	hl,(_joyfunc2)
4326  17E4  CD 00 00    	call	___sdcc_call_hl
4327  17E7  F1          	pop	af
4328  17E8  7D          	ld	a,l
4329  17E9  32 00 00    	ld	(_dirs),a
4330  17EC  DD 7E F7    	ld	a,(ix-9)
4331  17EF  B7          	or	a, a
4332  17F0  20 22       	jr	NZ,l_game_hall_enter_00119
4333  17F2  DD 7E FB    	ld	a,(ix-5)
4334  17F5  B7          	or	a, a
4335  17F6  28 1C       	jr	Z,l_game_hall_enter_00119
4336  17F8  DD 6E FB    	ld	l,(ix-5)
4337  17FB  CD CD 19    	call	_game_hall_edit_p
4338  17FE  DD 75 FB    	ld	(ix-5),l
4339  1801  7D          	ld	a,l
4340  1802  B7          	or	a, a
4341  1803  20 0F       	jr	NZ,l_game_hall_enter_00119
4342  1805  DD 5E FC    	ld	e,(ix-4)
4343  1808  DD 56 FD    	ld	d,(ix-3)
4344  180B  AF          	xor	a,a
4345  180C  21 04 00    	ld	hl,+(_initials + 0x0004)
4346  180F              l_game_hall_enter_00191:
4347  180F  BE          	cp	a, (hl)
4348  1810  ED A0       	ldi
4349  1812  20 FB       	jr	NZ, l_game_hall_enter_00191
4350  1814              l_game_hall_enter_00119:
4351  1814  3A 00 00    	ld	a,(_dirs)
4352  1817  DD 77 F7    	ld	(ix-9),a
4353  181A  C3 4F 17    	jp	l_game_hall_enter_00122
4354  181D              l_game_hall_enter_00124:
4355  181D  CD 00 00    	call	_ay_reset
4356  1820  CD 00 00    	call	_spr_draw_clear
4357  1823  01 82 16    	ld	bc,_compare_scores
4358  1826  C5          	push	bc
4359  1827  21 06 00    	ld	hl,0x0006
4360  182A  E5          	push	hl
4361  182B  2E 0A       	ld	l,0x0a
4362  182D  E5          	push	hl
4363  182E  21 00 00    	ld	hl,_hof
4364  1831  E5          	push	hl
4365  1832  CD 00 00    	call	__insertion_sort__callee
4366  1835              l_game_hall_enter_00126:
4367  1835  CD 83 1A    	call	_game_hall_of_fame
4368  1838  2E 00       	ld	l,0x00
4369  183A  CD 76 18    	call	_game_menu_back
4370  183D  DD F9       	ld	sp, ix
4371  183F  DD E1       	pop	ix
4372  1841  C9          	ret
4373  1842              ___str_47:
4374  1842  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4375  184E  00          	DEFB 0x00
4376  184F              ___str_48:
4377  184F  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4378  1861  00          	DEFB 0x00
4379  1862              ___str_49:
4380  1862  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4381  1875  00          	DEFB 0x00
4382  1876              ;	---------------------------------
4383  1876              ; Function game_menu_back
4384  1876              ; ---------------------------------
4385  1876              _game_menu_back:
4386  1876  7D          	ld	a,l
4387  1877  32 00 00    	ld	(_s_lin1),a
4388  187A  21 00 00    	ld	hl,_game_menu_sel
4389  187D  36 00       	ld	(hl),0x00
4390  187F  CD 88 10    	call	_game_menu_top_paint
4391  1882  CD FC 10    	call	_game_menu_paint
4392  1885  2A 00 00    	ld	hl,(_curr_time)
4393  1888  22 00 00    	ld	(_entry_time),hl
4394  188B  C9          	ret
4395  188C              ;	---------------------------------
4396  188C              ; Function game_hall_enter_phs
4397  188C              ; ---------------------------------
4398  188C              _game_hall_enter_phs:
4399  188C  7D          	ld	a,l
4400  188D  B7          	or	a, a
4401  188E  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4402  1890  21 9C 01    	ld	hl,0x019c
4403  1893  E5          	push	hl
4404  1894  21 02 0C    	ld	hl,0x0c02
4405  1897  E5          	push	hl
4406  1898  3E 30       	ld	a,0x30
4407  189A  F5          	push	af
4408  189B  33          	inc	sp
4409  189C  CD C6 11    	call	_game_menu_e
4410  189F  F1          	pop	af
4411  18A0  33          	inc	sp
4412  18A1  21 9F FF    	ld	hl,0xff9f
4413  18A4  E3          	ex	(sp),hl
4414  18A5  21 02 0C    	ld	hl,0x0c02
4415  18A8  E5          	push	hl
4416  18A9  3E 7C       	ld	a,0x7c
4417  18AB  F5          	push	af
4418  18AC  33          	inc	sp
4419  18AD  CD C6 11    	call	_game_menu_e
4420  18B0  F1          	pop	af
4421  18B1  33          	inc	sp
4422  18B2  21 03 19    	ld	hl,___str_50
4423  18B5  E3          	ex	(sp),hl
4424  18B6  21 07 05    	ld	hl,0x0507
4425  18B9  E5          	push	hl
4426  18BA  CD 00 00    	call	_zx_print_str
4427  18BD  21 08 19    	ld	hl,___str_51
4428  18C0  E5          	push	hl
4429  18C1  21 08 05    	ld	hl,0x0508
4430  18C4  E5          	push	hl
4431  18C5  CD 00 00    	call	_zx_print_str
4432  18C8  18 38       	jr	l_game_hall_enter_phs_00104
4433  18CA              l_game_hall_enter_phs_00102:
4434  18CA  21 9C 01    	ld	hl,0x019c
4435  18CD  E5          	push	hl
4436  18CE  21 12 1C    	ld	hl,0x1c12
4437  18D1  E5          	push	hl
4438  18D2  3E 30       	ld	a,0x30
4439  18D4  F5          	push	af
4440  18D5  33          	inc	sp
4441  18D6  CD C6 11    	call	_game_menu_e
4442  18D9  F1          	pop	af
4443  18DA  33          	inc	sp
4444  18DB  21 9F FF    	ld	hl,0xff9f
4445  18DE  E3          	ex	(sp),hl
4446  18DF  21 12 1C    	ld	hl,0x1c12
4447  18E2  E5          	push	hl
4448  18E3  3E 7C       	ld	a,0x7c
4449  18E5  F5          	push	af
4450  18E6  33          	inc	sp
4451  18E7  CD C6 11    	call	_game_menu_e
4452  18EA  F1          	pop	af
4453  18EB  33          	inc	sp
4454  18EC  21 03 19    	ld	hl,___str_50
4455  18EF  E3          	ex	(sp),hl
4456  18F0  21 07 15    	ld	hl,0x1507
4457  18F3  E5          	push	hl
4458  18F4  CD 00 00    	call	_zx_print_str
4459  18F7  21 08 19    	ld	hl,___str_51
4460  18FA  E5          	push	hl
4461  18FB  21 08 15    	ld	hl,0x1508
4462  18FE  E5          	push	hl
4463  18FF  CD 00 00    	call	_zx_print_str
4464  1902              l_game_hall_enter_phs_00104:
4465  1902  C9          	ret
4466  1903              ___str_50:
4467  1903  48 49 47 48 	DEFM "HIGH"
4468  1907  00          	DEFB 0x00
4469  1908              ___str_51:
4470  1908  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4471  190E  00          	DEFB 0x00
4472  190F              ;	---------------------------------
4473  190F              ; Function game_hall_print_p
4474  190F              ; ---------------------------------
4475  190F              _game_hall_print_p:
4476  190F  CD 00 00    	call	___sdcc_enter_ix
4477  1912  DD 7E 04    	ld	a,(ix+4)
4478  1915  D6 05       	sub	a,0x05
4479  1917  30 59       	jr	NC,l_game_hall_print_p_00108
4480  1919  21 00 00    	ld	hl,_initials
4481  191C  E5          	push	hl
4482  191D  21 0D 06    	ld	hl,0x060d
4483  1920  E5          	push	hl
4484  1921  CD 00 00    	call	_zx_print_str
4485  1924  DD 7E 04    	ld	a,(ix+4)
4486  1927  C6 06       	add	a,0x06
4487  1929  47          	ld	b,a
4488  192A  DD 7E 04    	ld	a,(ix+4)
4489  192D  C6 05       	add	a,0x05
4490  192F  57          	ld	d,a
4491  1930  3E 70       	ld	a,0x70
4492  1932  F5          	push	af
4493  1933  33          	inc	sp
4494  1934  4A          	ld	c, d
4495  1935  C5          	push	bc
4496  1936  CD 8D 0D    	call	_game_paint_attrib_lin_h
4497  1939  F1          	pop	af
4498  193A  33          	inc	sp
4499  193B  76          	halt
4500  193C  DD 7E 05    	ld	a,(ix+5)
4501  193F  B7          	or	a, a
4502  1940  28 18       	jr	Z,l_game_hall_print_p_00102
4503  1942  21 56 06    	ld	hl,0x0656
4504  1945  E5          	push	hl
4505  1946  3E A9       	ld	a,0xa9
4506  1948  F5          	push	af
4507  1949  33          	inc	sp
4508  194A  CD 00 00    	call	_NIRVANAP_drawT_callee
4509  194D  21 58 06    	ld	hl,0x0658
4510  1950  E5          	push	hl
4511  1951  3E 03       	ld	a,0x03
4512  1953  F5          	push	af
4513  1954  33          	inc	sp
4514  1955  CD 00 00    	call	_NIRVANAP_drawT_callee
4515  1958  18 70       	jr	l_game_hall_print_p_00110
4516  195A              l_game_hall_print_p_00102:
4517  195A  21 58 06    	ld	hl,0x0658
4518  195D  E5          	push	hl
4519  195E  3E A9       	ld	a,0xa9
4520  1960  F5          	push	af
4521  1961  33          	inc	sp
4522  1962  CD 00 00    	call	_NIRVANAP_drawT_callee
4523  1965  21 56 06    	ld	hl,0x0656
4524  1968  E5          	push	hl
4525  1969  3E 16       	ld	a,0x16
4526  196B  F5          	push	af
4527  196C  33          	inc	sp
4528  196D  CD 00 00    	call	_NIRVANAP_drawT_callee
4529  1970  18 58       	jr	l_game_hall_print_p_00110
4530  1972              l_game_hall_print_p_00108:
4531  1972  21 04 00    	ld	hl,+(_initials + 0x0004)
4532  1975  E5          	push	hl
4533  1976  21 0D 16    	ld	hl,0x160d
4534  1979  E5          	push	hl
4535  197A  CD 00 00    	call	_zx_print_str
4536  197D  DD 7E 04    	ld	a,(ix+4)
4537  1980  C6 12       	add	a,0x12
4538  1982  57          	ld	d,a
4539  1983  DD 7E 04    	ld	a,(ix+4)
4540  1986  C6 11       	add	a,0x11
4541  1988  47          	ld	b,a
4542  1989  3E 70       	ld	a,0x70
4543  198B  5A          	ld	e,d
4544  198C  57          	ld	d,a
4545  198D  D5          	push	de
4546  198E  C5          	push	bc
4547  198F  33          	inc	sp
4548  1990  CD 8D 0D    	call	_game_paint_attrib_lin_h
4549  1993  F1          	pop	af
4550  1994  33          	inc	sp
4551  1995  76          	halt
4552  1996  DD 7E 05    	ld	a,(ix+5)
4553  1999  B7          	or	a, a
4554  199A  28 18       	jr	Z,l_game_hall_print_p_00105
4555  199C  21 56 17    	ld	hl,0x1756
4556  199F  E5          	push	hl
4557  19A0  3E A9       	ld	a,0xa9
4558  19A2  F5          	push	af
4559  19A3  33          	inc	sp
4560  19A4  CD 00 00    	call	_NIRVANAP_drawT_callee
4561  19A7  21 58 17    	ld	hl,0x1758
4562  19AA  E5          	push	hl
4563  19AB  3E 27       	ld	a,0x27
4564  19AD  F5          	push	af
4565  19AE  33          	inc	sp
4566  19AF  CD 00 00    	call	_NIRVANAP_drawT_callee
4567  19B2  18 16       	jr	l_game_hall_print_p_00110
4568  19B4              l_game_hall_print_p_00105:
4569  19B4  21 58 17    	ld	hl,0x1758
4570  19B7  E5          	push	hl
4571  19B8  3E A9       	ld	a,0xa9
4572  19BA  F5          	push	af
4573  19BB  33          	inc	sp
4574  19BC  CD 00 00    	call	_NIRVANAP_drawT_callee
4575  19BF  21 56 17    	ld	hl,0x1756
4576  19C2  E5          	push	hl
4577  19C3  3E 2E       	ld	a,0x2e
4578  19C5  F5          	push	af
4579  19C6  33          	inc	sp
4580  19C7  CD 00 00    	call	_NIRVANAP_drawT_callee
4581  19CA              l_game_hall_print_p_00110:
4582  19CA  DD E1       	pop	ix
4583  19CC  C9          	ret
4584  19CD              ;	---------------------------------
4585  19CD              ; Function game_hall_edit_p
4586  19CD              ; ---------------------------------
4587  19CD              _game_hall_edit_p:
4588  19CD  CD 00 00    	call	___sdcc_enter_ix
4589  19D0  F5          	push	af
4590  19D1  4D          	ld	c,l
4591  19D2  0D          	dec	c
4592  19D3  3A 00 00    	ld	a,(_dirs)
4593  19D6  07          	rlca
4594  19D7  30 63       	jr	NC,l_game_hall_edit_p_00120
4595  19D9  79          	ld	a,c
4596  19DA  FE 04       	cp	a,0x04
4597  19DC  30 17       	jr	NC,l_game_hall_edit_p_00102
4598  19DE  C6 07       	add	a,0x07
4599  19E0  57          	ld	d,a
4600  19E1  79          	ld	a,c
4601  19E2  C6 06       	add	a,0x06
4602  19E4  47          	ld	b,a
4603  19E5  C5          	push	bc
4604  19E6  3E 70       	ld	a,0x70
4605  19E8  5A          	ld	e,d
4606  19E9  57          	ld	d,a
4607  19EA  D5          	push	de
4608  19EB  C5          	push	bc
4609  19EC  33          	inc	sp
4610  19ED  CD 66 0D    	call	_game_paint_attrib_lin
4611  19F0  F1          	pop	af
4612  19F1  33          	inc	sp
4613  19F2  C1          	pop	bc
4614  19F3  18 16       	jr	l_game_hall_edit_p_00103
4615  19F5              l_game_hall_edit_p_00102:
4616  19F5  79          	ld	a,c
4617  19F6  C6 13       	add	a,0x13
4618  19F8  57          	ld	d,a
4619  19F9  79          	ld	a,c
4620  19FA  C6 12       	add	a,0x12
4621  19FC  47          	ld	b,a
4622  19FD  C5          	push	bc
4623  19FE  3E 70       	ld	a,0x70
4624  1A00  5A          	ld	e,d
4625  1A01  57          	ld	d,a
4626  1A02  D5          	push	de
4627  1A03  C5          	push	bc
4628  1A04  33          	inc	sp
4629  1A05  CD 66 0D    	call	_game_paint_attrib_lin
4630  1A08  F1          	pop	af
4631  1A09  33          	inc	sp
4632  1A0A  C1          	pop	bc
4633  1A0B              l_game_hall_edit_p_00103:
4634  1A0B  C5          	push	bc
4635  1A0C  CD 00 00    	call	_sound_slide
4636  1A0F  C1          	pop	bc
4637  1A10  21 00 00    	ld	hl,_ay_effect_01
4638  1A13  CD 00 00    	call	_ay_fx_play
4639  1A16  11 00 00    	ld	de,_initials+0
4640  1A19  41          	ld	b,c
4641  1A1A  0C          	inc	c
4642  1A1B  68          	ld	l,b
4643  1A1C  26 00       	ld	h,0x00
4644  1A1E  19          	add	hl,de
4645  1A1F  7E          	ld	a,(hl)
4646  1A20  D6 7B       	sub	a,0x7b
4647  1A22  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4648  1A24  0D          	dec	c
4649  1A25  79          	ld	a,c
4650  1A26  E6 03       	and	a,0x03
4651  1A28  28 08       	jr	Z,l_game_hall_edit_p_00107
4652  1A2A  41          	ld	b,c
4653  1A2B  0D          	dec	c
4654  1A2C  68          	ld	l,b
4655  1A2D  26 00       	ld	h,0x00
4656  1A2F  19          	add	hl,de
4657  1A30  36 41       	ld	(hl),0x41
4658  1A32              l_game_hall_edit_p_00107:
4659  1A32  79          	ld	a,c
4660  1A33  E6 03       	and	a,0x03
4661  1A35  D6 03       	sub	a,0x03
4662  1A37  20 44       	jr	NZ,l_game_hall_edit_p_00121
4663  1A39  6F          	ld	l,a
4664  1A3A  18 43       	jr	l_game_hall_edit_p_00122
4665  1A3C              l_game_hall_edit_p_00120:
4666  1A3C  3A 00 00    	ld	a,(_dirs)
4667  1A3F  E6 0C       	and	a,0x0c
4668  1A41  28 3A       	jr	Z,l_game_hall_edit_p_00121
4669  1A43  11 00 00    	ld	de,_hall_valids
4670  1A46  3E 00       	ld	a,+((_initials) & 0xFF)
4671  1A48  81          	add	a, c
4672  1A49  DD 77 FE    	ld	(ix-2),a
4673  1A4C  3E 00       	ld	a,+((_initials) / 256)
4674  1A4E  CE 00       	adc	a,0x00
4675  1A50  DD 77 FF    	ld	(ix-1),a
4676  1A53  E1          	pop	hl
4677  1A54  46          	ld	b,(hl)
4678  1A55  E5          	push	hl
4679  1A56              l_game_hall_edit_p_00168:
4680  1A56  1A          	ld	a, (de)
4681  1A57  B8          	cp	a, b
4682  1A58  28 06       	jr	Z,l_game_hall_edit_p_00167
4683  1A5A  B7          	or	a, a
4684  1A5B  13          	inc	de
4685  1A5C  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4686  1A5E  5F          	ld	e, a
4687  1A5F  57          	ld	d, a
4688  1A60              l_game_hall_edit_p_00167:
4689  1A60  3A 00 00    	ld	a,(_dirs)
4690  1A63  E6 04       	and	a,0x04
4691  1A65  28 0A       	jr	Z,l_game_hall_edit_p_00115
4692  1A67  1B          	dec	de
4693  1A68  1A          	ld	a,(de)
4694  1A69  3D          	dec	a
4695  1A6A  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4696  1A6C  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4697  1A6F  18 08       	jr	l_game_hall_edit_p_00116
4698  1A71              l_game_hall_edit_p_00115:
4699  1A71  13          	inc	de
4700  1A72  1A          	ld	a,(de)
4701  1A73  B7          	or	a, a
4702  1A74  20 03       	jr	NZ,l_game_hall_edit_p_00116
4703  1A76  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4704  1A79              l_game_hall_edit_p_00116:
4705  1A79  E1          	pop	hl
4706  1A7A  1A          	ld	a,(de)
4707  1A7B  E5          	push	hl
4708  1A7C  77          	ld	(hl),a
4709  1A7D              l_game_hall_edit_p_00121:
4710  1A7D  0C          	inc	c
4711  1A7E  69          	ld	l,c
4712  1A7F              l_game_hall_edit_p_00122:
4713  1A7F  F1          	pop	af
4714  1A80  DD E1       	pop	ix
4715  1A82  C9          	ret
4716  1A83              ;	---------------------------------
4717  1A83              ; Function game_hall_of_fame
4718  1A83              ; ---------------------------------
4719  1A83              _game_hall_of_fame:
4720  1A83  CD 00 00    	call	_spr_draw_clear
4721  1A86  2E 00       	ld	l,0x00
4722  1A88  CD 42 0D    	call	_game_paint_attrib
4723  1A8B  21 9C 01    	ld	hl,0x019c
4724  1A8E  E5          	push	hl
4725  1A8F  21 06 18    	ld	hl,0x1806
4726  1A92  E5          	push	hl
4727  1A93  3E 10       	ld	a,0x10
4728  1A95  F5          	push	af
4729  1A96  33          	inc	sp
4730  1A97  CD C6 11    	call	_game_menu_e
4731  1A9A  F1          	pop	af
4732  1A9B  33          	inc	sp
4733  1A9C  21 9F FF    	ld	hl,0xff9f
4734  1A9F  E3          	ex	(sp),hl
4735  1AA0  21 06 18    	ld	hl,0x1806
4736  1AA3  E5          	push	hl
4737  1AA4  3E 98       	ld	a,0x98
4738  1AA6  F5          	push	af
4739  1AA7  33          	inc	sp
4740  1AA8  CD C6 11    	call	_game_menu_e
4741  1AAB  F1          	pop	af
4742  1AAC  F1          	pop	af
4743  1AAD  33          	inc	sp
4744  1AAE  21 00 00    	ld	hl,_s_lin1
4745  1AB1  36 00       	ld	(hl),0x00
4746  1AB3              l_game_hall_of_fame_00102:
4747  1AB3  21 00 00    	ld	hl,_screen_ink
4748  1AB6  36 05       	ld	(hl),0x05
4749  1AB8  2A 00 00    	ld	hl,(_s_lin1)
4750  1ABB  26 00       	ld	h,0x00
4751  1ABD  4D          	ld	c,l
4752  1ABE  44          	ld	b,h
4753  1ABF  29          	add	hl, hl
4754  1AC0  09          	add	hl, bc
4755  1AC1  29          	add	hl, hl
4756  1AC2  01 00 00    	ld	bc,_hof
4757  1AC5  09          	add	hl,bc
4758  1AC6  3A 00 00    	ld	a,(_s_lin1)
4759  1AC9  EB          	ex	de,hl
4760  1ACA  C6 07       	add	a,0x07
4761  1ACC  47          	ld	b,a
4762  1ACD  D5          	push	de
4763  1ACE  3E 0A       	ld	a,0x0a
4764  1AD0  48          	ld	c,b
4765  1AD1  47          	ld	b,a
4766  1AD2  C5          	push	bc
4767  1AD3  CD 00 00    	call	_zx_print_str
4768  1AD6  2A 00 00    	ld	hl,(_s_lin1)
4769  1AD9  26 00       	ld	h,0x00
4770  1ADB  4D          	ld	c,l
4771  1ADC  44          	ld	b,h
4772  1ADD  29          	add	hl, hl
4773  1ADE  09          	add	hl, bc
4774  1ADF  29          	add	hl, hl
4775  1AE0  01 00 00    	ld	bc,_hof
4776  1AE3  09          	add	hl,bc
4777  1AE4  11 04 00    	ld	de,0x0004
4778  1AE7  19          	add	hl, de
4779  1AE8  5E          	ld	e,(hl)
4780  1AE9  23          	inc	hl
4781  1AEA  56          	ld	d,(hl)
4782  1AEB  3A 00 00    	ld	a,(_s_lin1)
4783  1AEE  C6 07       	add	a,0x07
4784  1AF0  47          	ld	b,a
4785  1AF1  D5          	push	de
4786  1AF2  3E 10       	ld	a,0x10
4787  1AF4  48          	ld	c,b
4788  1AF5  47          	ld	b,a
4789  1AF6  C5          	push	bc
4790  1AF7  CD 00 00    	call	_zx_print_int
4791  1AFA  11 54 1B    	ld	de,___str_52
4792  1AFD  3A 00 00    	ld	a,(_s_lin1)
4793  1B00  C6 07       	add	a,0x07
4794  1B02  47          	ld	b,a
4795  1B03  D5          	push	de
4796  1B04  3E 0E       	ld	a,0x0e
4797  1B06  48          	ld	c,b
4798  1B07  47          	ld	b,a
4799  1B08  C5          	push	bc
4800  1B09  CD 00 00    	call	_zx_print_str
4801  1B0C  11 56 1B    	ld	de,___str_53
4802  1B0F  3A 00 00    	ld	a,(_s_lin1)
4803  1B12  C6 07       	add	a,0x07
4804  1B14  47          	ld	b,a
4805  1B15  D5          	push	de
4806  1B16  3E 15       	ld	a,0x15
4807  1B18  48          	ld	c,b
4808  1B19  47          	ld	b,a
4809  1B1A  C5          	push	bc
4810  1B1B  CD 00 00    	call	_zx_print_str
4811  1B1E  21 00 00    	ld	hl,_s_lin1
4812  1B21  7E          	ld	a,(hl)
4813  1B22  3C          	inc	a
4814  1B23  77          	ld	(hl),a
4815  1B24  D6 0A       	sub	a,0x0a
4816  1B26  38 8B       	jr	C,l_game_hall_of_fame_00102
4817  1B28  21 58 1B    	ld	hl,___str_54
4818  1B2B  E5          	push	hl
4819  1B2C  21 04 0A    	ld	hl,0x0a04
4820  1B2F  E5          	push	hl
4821  1B30  CD 00 00    	call	_zx_print_str
4822  1B33  21 F4 01    	ld	hl,0x01f4
4823  1B36  E5          	push	hl
4824  1B37  21 0A 16    	ld	hl,0x160a
4825  1B3A  E5          	push	hl
4826  1B3B  3E 04       	ld	a,0x04
4827  1B3D  F5          	push	af
4828  1B3E  33          	inc	sp
4829  1B3F  CD 81 1B    	call	_game_colour_message
4830  1B42  F1          	pop	af
4831  1B43  F1          	pop	af
4832  1B44  33          	inc	sp
4833  1B45  CD 00 00    	call	_spr_draw_clear
4834  1B48  21 00 00    	ld	hl,_game_menu_sel
4835  1B4B  36 00       	ld	(hl),0x00
4836  1B4D  21 00 00    	ld	hl,_pb_midi_title
4837  1B50  CD 00 00    	call	_ay_midi_play
4838  1B53  C9          	ret
4839  1B54              ___str_52:
4840  1B54  2D          	DEFM "-"
4841  1B55  00          	DEFB 0x00
4842  1B56              ___str_53:
4843  1B56  30          	DEFM "0"
4844  1B57  00          	DEFB 0x00
4845  1B58              ___str_54:
4846  1B58  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4847  1B64  00          	DEFB 0x00
4848  1B65              ;	---------------------------------
4849  1B65              ; Function game_rotate_attrib
4850  1B65              ; ---------------------------------
4851  1B65              _game_rotate_attrib:
4852  1B65  01 03 00    	ld	bc,_attrib_hl + 3
4853  1B68  0A          	ld	a,(bc)
4854  1B69  32 00 00    	ld	(_tmp_uc),a
4855  1B6C  11 02 00    	ld	de,_attrib_hl + 2
4856  1B6F  1A          	ld	a,(de)
4857  1B70  02          	ld	(bc),a
4858  1B71  01 01 00    	ld	bc,_attrib_hl + 1
4859  1B74  0A          	ld	a,(bc)
4860  1B75  12          	ld	(de),a
4861  1B76  3A 00 00    	ld	a,(_attrib_hl)
4862  1B79  02          	ld	(bc),a
4863  1B7A  3A 00 00    	ld	a,(_tmp_uc)
4864  1B7D  32 00 00    	ld	(_attrib_hl),a
4865  1B80  C9          	ret
4866  1B81              ;	---------------------------------
4867  1B81              ; Function game_colour_message
4868  1B81              ; ---------------------------------
4869  1B81              _game_colour_message:
4870  1B81  CD 00 00    	call	___sdcc_enter_ix
4871  1B84  3B          	dec	sp
4872  1B85  21 00 00    	ld	hl,_tmp
4873  1B88  36 01       	ld	(hl),0x01
4874  1B8A  2A 00 00    	ld	hl,(_curr_time)
4875  1B8D  22 00 00    	ld	(_frame_time),hl
4876  1B90  2A 00 00    	ld	hl,(_curr_time)
4877  1B93  22 00 00    	ld	(_entry_time),hl
4878  1B96  DD 7E 04    	ld	a,(ix+4)
4879  1B99  07          	rlca
4880  1B9A  07          	rlca
4881  1B9B  07          	rlca
4882  1B9C  E6 F8       	and	a,0xf8
4883  1B9E  C6 08       	add	a,0x08
4884  1BA0  DD 77 FF    	ld	(ix-1),a
4885  1BA3              l_game_colour_message_00107:
4886  1BA3  3A 00 00    	ld	a,(_tmp)
4887  1BA6  B7          	or	a, a
4888  1BA7  28 66       	jr	Z,l_game_colour_message_00110
4889  1BA9  DD 6E 07    	ld	l,(ix+7)
4890  1BAC  DD 66 08    	ld	h,(ix+8)
4891  1BAF  E5          	push	hl
4892  1BB0  2A 00 00    	ld	hl,(_entry_time)
4893  1BB3  E5          	push	hl
4894  1BB4  CD 13 1C    	call	_game_check_time
4895  1BB7  F1          	pop	af
4896  1BB8  F1          	pop	af
4897  1BB9  7D          	ld	a,l
4898  1BBA  B7          	or	a, a
4899  1BBB  20 52       	jr	NZ,l_game_colour_message_00110
4900  1BBD  21 05 00    	ld	hl,0x0005
4901  1BC0  E5          	push	hl
4902  1BC1  2A 00 00    	ld	hl,(_frame_time)
4903  1BC4  E5          	push	hl
4904  1BC5  CD 13 1C    	call	_game_check_time
4905  1BC8  F1          	pop	af
4906  1BC9  F1          	pop	af
4907  1BCA  7D          	ld	a,l
4908  1BCB  B7          	or	a, a
4909  1BCC  28 1A       	jr	Z,l_game_colour_message_00103
4910  1BCE  2A 00 00    	ld	hl,(_curr_time)
4911  1BD1  22 00 00    	ld	(_frame_time),hl
4912  1BD4  DD 66 FF    	ld	h,(ix-1)
4913  1BD7  DD 6E 06    	ld	l,(ix+6)
4914  1BDA  E5          	push	hl
4915  1BDB  DD 7E 05    	ld	a,(ix+5)
4916  1BDE  F5          	push	af
4917  1BDF  33          	inc	sp
4918  1BE0  CD 8D 0D    	call	_game_paint_attrib_lin_h
4919  1BE3  F1          	pop	af
4920  1BE4  33          	inc	sp
4921  1BE5  CD 65 1B    	call	_game_rotate_attrib
4922  1BE8              l_game_colour_message_00103:
4923  1BE8  21 00 00    	ld	hl,_k1
4924  1BEB  E5          	push	hl
4925  1BEC  2A 00 00    	ld	hl,(_joyfunc1)
4926  1BEF  CD 00 00    	call	___sdcc_call_hl
4927  1BF2  E3          	ex	(sp),hl
4928  1BF3  21 00 00    	ld	hl,_k2
4929  1BF6  E5          	push	hl
4930  1BF7  2A 00 00    	ld	hl,(_joyfunc2)
4931  1BFA  CD 00 00    	call	___sdcc_call_hl
4932  1BFD  F1          	pop	af
4933  1BFE  EB          	ex	de,hl
4934  1BFF  C1          	pop	bc
4935  1C00  79          	ld	a,c
4936  1C01  B3          	or	a, e
4937  1C02  4F          	ld	c,a
4938  1C03  78          	ld	a,b
4939  1C04  B2          	or	a, d
4940  1C05  B1          	or	a,c
4941  1C06  28 9B       	jr	Z,l_game_colour_message_00107
4942  1C08  21 00 00    	ld	hl,_tmp
4943  1C0B  36 00       	ld	(hl),0x00
4944  1C0D  18 D9       	jr	l_game_colour_message_00103
4945  1C0F              l_game_colour_message_00110:
4946  1C0F  33          	inc	sp
4947  1C10  DD E1       	pop	ix
4948  1C12  C9          	ret
4949  1C13              ;	---------------------------------
4950  1C13              ; Function game_check_time
4951  1C13              ; ---------------------------------
4952  1C13              _game_check_time:
4953  1C13  CD 00 00    	call	___sdcc_enter_ix
4954  1C16  2A 00 00    	ld	hl,(_curr_time)
4955  1C19  7D          	ld	a,l
4956  1C1A  DD 96 04    	sub	a,(ix+4)
4957  1C1D  4F          	ld	c,a
4958  1C1E  7C          	ld	a,h
4959  1C1F  DD 9E 05    	sbc	a,(ix+5)
4960  1C22  47          	ld	b,a
4961  1C23  DD 7E 06    	ld	a,(ix+6)
4962  1C26  91          	sub	a, c
4963  1C27  DD 7E 07    	ld	a,(ix+7)
4964  1C2A  98          	sbc	a, b
4965  1C2B  30 04       	jr	NC,l_game_check_time_00102
4966  1C2D  2E 01       	ld	l,0x01
4967  1C2F  18 02       	jr	l_game_check_time_00104
4968  1C31              l_game_check_time_00102:
4969  1C31  2E 00       	ld	l,0x00
4970  1C33              l_game_check_time_00104:
4971  1C33  DD E1       	pop	ix
4972  1C35  C9          	ret
4973  1C36              	SECTION IGNORE
4974  0000              
