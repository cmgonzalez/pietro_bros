1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9880 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_print_phase
184   0000              	GLOBAL _game_calc_index
185   0000              	GLOBAL _game_print_footer
186   0000              	GLOBAL _game_phase_print_score_back
187   0000              	GLOBAL _game_print_lives
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_start_timer
190   0000              	GLOBAL _game_phase_calc
191   0000              	GLOBAL _game_phase_init
192   0000              	GLOBAL _game_print_header
193   0000              	GLOBAL _game_phase_print
194   0000              	GLOBAL _game_loop
195   0000              	GLOBAL _game_score_osd
196   0000              	GLOBAL _game_bonus_clock
197   0000              	GLOBAL _game_bonus_summary
198   0000              	GLOBAL _game_bonus_summary_player
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_check_floor
201   0000              	GLOBAL _game_enemy_add
202   0000              	GLOBAL _game_enemy_quota
203   0000              	GLOBAL _game_enemy_rnd
204   0000              	GLOBAL _game_enemy_add1
205   0000              	GLOBAL _game_enemy_add_get_index
206   0000              	GLOBAL _game_freeze
207   0000              	GLOBAL _game_unfreeze_all
208   0000              	GLOBAL _game_freeze_all
209   0000              	GLOBAL _game_print_score
210   0000              	GLOBAL _game_paint_attrib
211   0000              	GLOBAL _game_paint_attrib_lin
212   0000              	GLOBAL _game_paint_attrib_lin_h
213   0000              	GLOBAL _game_menu_config
214   0000              	GLOBAL _game_joystick_change
215   0000              	GLOBAL _game_joystick_set_menu
216   0000              	GLOBAL _game_joystick_set
217   0000              	GLOBAL _game_menu
218   0000              	GLOBAL _game_menu_top_paint
219   0000              	GLOBAL _game_menu_paint
220   0000              	GLOBAL _game_menu_e
221   0000              	GLOBAL _game_menu_handle
222   0000              	GLOBAL _game_end
223   0000              	GLOBAL _game_hall_check
224   0000              	GLOBAL _game_hall_enter
225   0000              	GLOBAL _game_menu_back
226   0000              	GLOBAL _game_hall_enter_phs
227   0000              	GLOBAL _game_hall_print_p
228   0000              	GLOBAL _game_hall_edit_p
229   0000              	GLOBAL _game_hall_of_fame
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_colour_message
232   0000              	GLOBAL _game_check_time
233   0000              ;--------------------------------------------------------
234   0000              ; Externals used
235   0000              ;--------------------------------------------------------
236   0000              	GLOBAL _debug3
237   0000              	GLOBAL _debug2
238   0000              	GLOBAL _debug
239   0000              	GLOBAL _zx_print_str
240   0000              	GLOBAL _zx_print_int
241   0000              	GLOBAL _zx_print_chr
242   0000              	GLOBAL _zx_print_bonus_time
243   0000              	GLOBAL _zx_isr
244   0000              	GLOBAL _spr_mapfix
245   0000              	GLOBAL _spr_kill_all
246   0000              	GLOBAL _spr_collision_check
247   0000              	GLOBAL _spr_calc_hor
248   0000              	GLOBAL _spr_draw_row
249   0000              	GLOBAL _spr_draw_index
250   0000              	GLOBAL _spr_draw_clear
251   0000              	GLOBAL _spr_water_splash_draw
252   0000              	GLOBAL _spr_water_splash_clear
253   0000              	GLOBAL _spr_draw_background
254   0000              	GLOBAL _spr_cortina_brick
255   0000              	GLOBAL _spr_brick_anim
256   0000              	GLOBAL _spr_back_fix
257   0000              	GLOBAL _spr_back_paint
258   0000              	GLOBAL _spr_back_clr
259   0000              	GLOBAL _spr_draw_pow
260   0000              	GLOBAL _spr_tile
261   0000              	GLOBAL _spr_set_fall
262   0000              	GLOBAL _spr_destroy
263   0000              	GLOBAL _spr_check_over
264   0000              	GLOBAL _spr_tile_dir
265   0000              	GLOBAL _spr_anim_kill
266   0000              	GLOBAL _spr_anim_fall
267   0000              	GLOBAL _spr_killed
268   0000              	GLOBAL _spr_redraw
269   0000              	GLOBAL _spr_move_left
270   0000              	GLOBAL _spr_move_right
271   0000              	GLOBAL _spr_move_horizontal
272   0000              	GLOBAL _spr_move_down
273   0000              	GLOBAL _spr_move_up
274   0000              	GLOBAL _spr_chktime
275   0000              	GLOBAL _sound_hit_pow
276   0000              	GLOBAL _sound_hit_brick
277   0000              	GLOBAL _sound_hit_enemy
278   0000              	GLOBAL _sound_kill
279   0000              	GLOBAL _sound_enter_enemy
280   0000              	GLOBAL _sound_coin
281   0000              	GLOBAL _sound_jump
282   0000              	GLOBAL _sound_slide
283   0000              	GLOBAL _player_set
284   0000              	GLOBAL _player_move_horizontal
285   0000              	GLOBAL _player_push
286   0000              	GLOBAL _player_hit_brick_clear
287   0000              	GLOBAL _player_lost_life
288   0000              	GLOBAL _player_score_add
289   0000              	GLOBAL _player_coin
290   0000              	GLOBAL _player_hit_pow
291   0000              	GLOBAL _player_hit_brick
292   0000              	GLOBAL _player_move_input
293   0000              	GLOBAL _player_turn
294   0000              	GLOBAL _player_move
295   0000              	GLOBAL _player_restart
296   0000              	GLOBAL _player_kill
297   0000              	GLOBAL _player_check_input
298   0000              	GLOBAL _player_collision
299   0000              	GLOBAL _player_calc_slide
300   0000              	GLOBAL _player_init
301   0000              	GLOBAL _player_set2
302   0000              	GLOBAL _player_set1
303   0000              	GLOBAL _game_fill_row
304   0000              	GLOBAL _enemy_ugly_fix
305   0000              	GLOBAL _enemy_kill
306   0000              	GLOBAL _enemy_init
307   0000              	GLOBAL _enemy_walk
308   0000              	GLOBAL _enemy_upgrade
309   0000              	GLOBAL _enemy_evolve
310   0000              	GLOBAL _enemy_standard_hit
311   0000              	GLOBAL _enemy_trip_move
312   0000              	GLOBAL _enemy_trip
313   0000              	GLOBAL _enemy_fighterfly
314   0000              	GLOBAL _enemy_fireball_green
315   0000              	GLOBAL _enemy_fireball_red
316   0000              	GLOBAL _enemy_slipice
317   0000              	GLOBAL _enemy_standard
318   0000              	GLOBAL _enemy_turn
319   0000              	GLOBAL _enemy_flip_sidestepper
320   0000              	GLOBAL _enemy_flip
321   0000              	GLOBAL _enemy_flip_change_dir
322   0000              	GLOBAL _enemy_hit
323   0000              	GLOBAL _enemy_collision_turn_dir
324   0000              	GLOBAL _enemy_collision
325   0000              	GLOBAL _enemy_coin1
326   0000              	GLOBAL _ay_fx_play
327   0000              	GLOBAL _ay_midi_play
328   0000              	GLOBAL _ay_is_playing
329   0000              	GLOBAL _ay_reset
330   0000              	GLOBAL _debug_func
331   0000              	GLOBAL _test_func
332   0000              	GLOBAL _in_mouse_kempston_wheel_delta
333   0000              	GLOBAL _in_mouse_kempston_wheel
334   0000              	GLOBAL _in_mouse_kempston_callee
335   0000              	GLOBAL _in_mouse_kempston
336   0000              	GLOBAL _in_mouse_kempston_setpos_callee
337   0000              	GLOBAL _in_mouse_kempston_setpos
338   0000              	GLOBAL _in_mouse_kempston_reset
339   0000              	GLOBAL _in_mouse_kempston_init
340   0000              	GLOBAL _in_mouse_amx_wheel_delta
341   0000              	GLOBAL _in_mouse_amx_wheel
342   0000              	GLOBAL _in_mouse_amx_callee
343   0000              	GLOBAL _in_mouse_amx
344   0000              	GLOBAL _in_mouse_amx_setpos_callee
345   0000              	GLOBAL _in_mouse_amx_setpos
346   0000              	GLOBAL _in_mouse_amx_reset
347   0000              	GLOBAL _in_mouse_amx_init_callee
348   0000              	GLOBAL _in_mouse_amx_init
349   0000              	GLOBAL _in_stick_sinclair2
350   0000              	GLOBAL _in_stick_sinclair1
351   0000              	GLOBAL _in_stick_kempston
352   0000              	GLOBAL _in_stick_fuller
353   0000              	GLOBAL _in_stick_cursor
354   0000              	GLOBAL _in_stick_keyboard_fastcall
355   0000              	GLOBAL _in_stick_keyboard
356   0000              	GLOBAL _in_wait_nokey
357   0000              	GLOBAL _in_wait_key
358   0000              	GLOBAL _in_test_key
359   0000              	GLOBAL _in_pause_fastcall
360   0000              	GLOBAL _in_pause
361   0000              	GLOBAL _in_key_scancode_fastcall
362   0000              	GLOBAL _in_key_scancode
363   0000              	GLOBAL _in_key_pressed_fastcall
364   0000              	GLOBAL _in_key_pressed
365   0000              	GLOBAL _in_inkey
366   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
367   0000              	GLOBAL _NIRVANAP_drawTW_raw
368   0000              	GLOBAL _NIRVANAP_drawTW_callee
369   0000              	GLOBAL _NIRVANAP_drawTW
370   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
371   0000              	GLOBAL _NIRVANAP_drawW_raw
372   0000              	GLOBAL _NIRVANAP_drawW_callee
373   0000              	GLOBAL _NIRVANAP_drawW
374   0000              	GLOBAL _NIRVANAP_spriteT_callee
375   0000              	GLOBAL _NIRVANAP_spriteT
376   0000              	GLOBAL _NIRVANAP_fillC_callee
377   0000              	GLOBAL _NIRVANAP_fillC
378   0000              	GLOBAL _NIRVANAP_readC_callee
379   0000              	GLOBAL _NIRVANAP_readC
380   0000              	GLOBAL _NIRVANAP_paintC_callee
381   0000              	GLOBAL _NIRVANAP_paintC
382   0000              	GLOBAL _NIRVANAP_printC_callee
383   0000              	GLOBAL _NIRVANAP_printC
384   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
385   0000              	GLOBAL _NIRVANAP_fillT_raw
386   0000              	GLOBAL _NIRVANAP_fillT_callee
387   0000              	GLOBAL _NIRVANAP_fillT
388   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
389   0000              	GLOBAL _NIRVANAP_drawT_raw
390   0000              	GLOBAL _NIRVANAP_drawT_callee
391   0000              	GLOBAL _NIRVANAP_drawT
392   0000              	GLOBAL _NIRVANAP_stop
393   0000              	GLOBAL _NIRVANAP_start
394   0000              	GLOBAL _z80_otdr_callee
395   0000              	GLOBAL _z80_otdr
396   0000              	GLOBAL _z80_otir_callee
397   0000              	GLOBAL _z80_otir
398   0000              	GLOBAL _z80_outp_callee
399   0000              	GLOBAL _z80_outp
400   0000              	GLOBAL _z80_indr_callee
401   0000              	GLOBAL _z80_indr
402   0000              	GLOBAL _z80_inir_callee
403   0000              	GLOBAL _z80_inir
404   0000              	GLOBAL _z80_inp_fastcall
405   0000              	GLOBAL _z80_inp
406   0000              	GLOBAL _z80_set_int_state_fastcall
407   0000              	GLOBAL _z80_set_int_state
408   0000              	GLOBAL _z80_get_int_state
409   0000              	GLOBAL _z80_delay_tstate_fastcall
410   0000              	GLOBAL _z80_delay_tstate
411   0000              	GLOBAL _z80_delay_ms_fastcall
412   0000              	GLOBAL _z80_delay_ms
413   0000              	GLOBAL _im2_remove_generic_callback_callee
414   0000              	GLOBAL _im2_remove_generic_callback
415   0000              	GLOBAL _im2_prepend_generic_callback_callee
416   0000              	GLOBAL _im2_prepend_generic_callback
417   0000              	GLOBAL _im2_append_generic_callback_callee
418   0000              	GLOBAL _im2_append_generic_callback
419   0000              	GLOBAL _im2_create_generic_isr_8080_callee
420   0000              	GLOBAL _im2_create_generic_isr_8080
421   0000              	GLOBAL _im2_create_generic_isr_callee
422   0000              	GLOBAL _im2_create_generic_isr
423   0000              	GLOBAL _im2_install_isr_callee
424   0000              	GLOBAL _im2_install_isr
425   0000              	GLOBAL _im2_init_fastcall
426   0000              	GLOBAL _im2_init
427   0000              	GLOBAL _ffsll_callee
428   0000              	GLOBAL _ffsll
429   0000              	GLOBAL _strxfrm_callee
430   0000              	GLOBAL _strxfrm
431   0000              	GLOBAL _strupr_fastcall
432   0000              	GLOBAL _strupr
433   0000              	GLOBAL _strtok_r_callee
434   0000              	GLOBAL _strtok_r
435   0000              	GLOBAL _strtok_callee
436   0000              	GLOBAL _strtok
437   0000              	GLOBAL _strstrip_fastcall
438   0000              	GLOBAL _strstrip
439   0000              	GLOBAL _strstr_callee
440   0000              	GLOBAL _strstr
441   0000              	GLOBAL _strspn_callee
442   0000              	GLOBAL _strspn
443   0000              	GLOBAL _strsep_callee
444   0000              	GLOBAL _strsep
445   0000              	GLOBAL _strrstrip_fastcall
446   0000              	GLOBAL _strrstrip
447   0000              	GLOBAL _strrspn_callee
448   0000              	GLOBAL _strrspn
449   0000              	GLOBAL _strrev_fastcall
450   0000              	GLOBAL _strrev
451   0000              	GLOBAL _strrcspn_callee
452   0000              	GLOBAL _strrcspn
453   0000              	GLOBAL _strrchr_callee
454   0000              	GLOBAL _strrchr
455   0000              	GLOBAL _strpbrk_callee
456   0000              	GLOBAL _strpbrk
457   0000              	GLOBAL _strnlen_callee
458   0000              	GLOBAL _strnlen
459   0000              	GLOBAL _strnicmp_callee
460   0000              	GLOBAL _strnicmp
461   0000              	GLOBAL _strndup_callee
462   0000              	GLOBAL _strndup
463   0000              	GLOBAL _strncpy_callee
464   0000              	GLOBAL _strncpy
465   0000              	GLOBAL _strncmp_callee
466   0000              	GLOBAL _strncmp
467   0000              	GLOBAL _strnchr_callee
468   0000              	GLOBAL _strnchr
469   0000              	GLOBAL _strncat_callee
470   0000              	GLOBAL _strncat
471   0000              	GLOBAL _strncasecmp_callee
472   0000              	GLOBAL _strncasecmp
473   0000              	GLOBAL _strlwr_fastcall
474   0000              	GLOBAL _strlwr
475   0000              	GLOBAL _strlen_fastcall
476   0000              	GLOBAL _strlen
477   0000              	GLOBAL _strlcpy_callee
478   0000              	GLOBAL _strlcpy
479   0000              	GLOBAL _strlcat_callee
480   0000              	GLOBAL _strlcat
481   0000              	GLOBAL _stricmp_callee
482   0000              	GLOBAL _stricmp
483   0000              	GLOBAL _strerror_fastcall
484   0000              	GLOBAL _strerror
485   0000              	GLOBAL _strdup_fastcall
486   0000              	GLOBAL _strdup
487   0000              	GLOBAL _strcspn_callee
488   0000              	GLOBAL _strcspn
489   0000              	GLOBAL _strcpy_callee
490   0000              	GLOBAL _strcpy
491   0000              	GLOBAL _strcoll_callee
492   0000              	GLOBAL _strcoll
493   0000              	GLOBAL _strcmp_callee
494   0000              	GLOBAL _strcmp
495   0000              	GLOBAL _strchrnul_callee
496   0000              	GLOBAL _strchrnul
497   0000              	GLOBAL _strchr_callee
498   0000              	GLOBAL _strchr
499   0000              	GLOBAL _strcat_callee
500   0000              	GLOBAL _strcat
501   0000              	GLOBAL _strcasecmp_callee
502   0000              	GLOBAL _strcasecmp
503   0000              	GLOBAL _stpncpy_callee
504   0000              	GLOBAL _stpncpy
505   0000              	GLOBAL _stpcpy_callee
506   0000              	GLOBAL _stpcpy
507   0000              	GLOBAL _memswap_callee
508   0000              	GLOBAL _memswap
509   0000              	GLOBAL _memset_callee
510   0000              	GLOBAL _memset
511   0000              	GLOBAL _memrchr_callee
512   0000              	GLOBAL _memrchr
513   0000              	GLOBAL _memmove_callee
514   0000              	GLOBAL _memmove
515   0000              	GLOBAL _memmem_callee
516   0000              	GLOBAL _memmem
517   0000              	GLOBAL _memcpy_callee
518   0000              	GLOBAL _memcpy
519   0000              	GLOBAL _memcmp_callee
520   0000              	GLOBAL _memcmp
521   0000              	GLOBAL _memchr_callee
522   0000              	GLOBAL _memchr
523   0000              	GLOBAL _memccpy_callee
524   0000              	GLOBAL _memccpy
525   0000              	GLOBAL _ffsl_fastcall
526   0000              	GLOBAL _ffsl
527   0000              	GLOBAL _ffs_fastcall
528   0000              	GLOBAL _ffs
529   0000              	GLOBAL __strrstrip__fastcall
530   0000              	GLOBAL __strrstrip_
531   0000              	GLOBAL __memupr__callee
532   0000              	GLOBAL __memupr_
533   0000              	GLOBAL __memstrcpy__callee
534   0000              	GLOBAL __memstrcpy_
535   0000              	GLOBAL __memlwr__callee
536   0000              	GLOBAL __memlwr_
537   0000              	GLOBAL _rawmemchr_callee
538   0000              	GLOBAL _rawmemchr
539   0000              	GLOBAL _strnset_callee
540   0000              	GLOBAL _strnset
541   0000              	GLOBAL _strset_callee
542   0000              	GLOBAL _strset
543   0000              	GLOBAL _rindex_callee
544   0000              	GLOBAL _rindex
545   0000              	GLOBAL _index_callee
546   0000              	GLOBAL _index
547   0000              	GLOBAL _bzero_callee
548   0000              	GLOBAL _bzero
549   0000              	GLOBAL _bcopy_callee
550   0000              	GLOBAL _bcopy
551   0000              	GLOBAL _bcmp_callee
552   0000              	GLOBAL _bcmp
553   0000              	GLOBAL _ulltoa_callee
554   0000              	GLOBAL _ulltoa
555   0000              	GLOBAL _strtoull_callee
556   0000              	GLOBAL _strtoull
557   0000              	GLOBAL _strtoll_callee
558   0000              	GLOBAL _strtoll
559   0000              	GLOBAL _lltoa_callee
560   0000              	GLOBAL _lltoa
561   0000              	GLOBAL _llabs_callee
562   0000              	GLOBAL _llabs
563   0000              	GLOBAL __lldivu__callee
564   0000              	GLOBAL __lldivu_
565   0000              	GLOBAL __lldiv__callee
566   0000              	GLOBAL __lldiv_
567   0000              	GLOBAL _atoll_callee
568   0000              	GLOBAL _atoll
569   0000              	GLOBAL _realloc_unlocked_callee
570   0000              	GLOBAL _realloc_unlocked
571   0000              	GLOBAL _malloc_unlocked_fastcall
572   0000              	GLOBAL _malloc_unlocked
573   0000              	GLOBAL _free_unlocked_fastcall
574   0000              	GLOBAL _free_unlocked
575   0000              	GLOBAL _calloc_unlocked_callee
576   0000              	GLOBAL _calloc_unlocked
577   0000              	GLOBAL _aligned_alloc_unlocked_callee
578   0000              	GLOBAL _aligned_alloc_unlocked
579   0000              	GLOBAL _realloc_callee
580   0000              	GLOBAL _realloc
581   0000              	GLOBAL _malloc_fastcall
582   0000              	GLOBAL _malloc
583   0000              	GLOBAL _free_fastcall
584   0000              	GLOBAL _free
585   0000              	GLOBAL _calloc_callee
586   0000              	GLOBAL _calloc
587   0000              	GLOBAL _aligned_alloc_callee
588   0000              	GLOBAL _aligned_alloc
589   0000              	GLOBAL _utoa_callee
590   0000              	GLOBAL _utoa
591   0000              	GLOBAL _ultoa_callee
592   0000              	GLOBAL _ultoa
593   0000              	GLOBAL _system_fastcall
594   0000              	GLOBAL _system
595   0000              	GLOBAL _strtoul_callee
596   0000              	GLOBAL _strtoul
597   0000              	GLOBAL _strtol_callee
598   0000              	GLOBAL _strtol
599   0000              	GLOBAL _strtof_callee
600   0000              	GLOBAL _strtof
601   0000              	GLOBAL _strtod_callee
602   0000              	GLOBAL _strtod
603   0000              	GLOBAL _srand_fastcall
604   0000              	GLOBAL _srand
605   0000              	GLOBAL _rand
606   0000              	GLOBAL _quick_exit_fastcall
607   0000              	GLOBAL _quick_exit
608   0000              	GLOBAL _qsort_callee
609   0000              	GLOBAL _qsort
610   0000              	GLOBAL _ltoa_callee
611   0000              	GLOBAL _ltoa
612   0000              	GLOBAL _labs_fastcall
613   0000              	GLOBAL _labs
614   0000              	GLOBAL _itoa_callee
615   0000              	GLOBAL _itoa
616   0000              	GLOBAL _ftoh_callee
617   0000              	GLOBAL _ftoh
618   0000              	GLOBAL _ftog_callee
619   0000              	GLOBAL _ftog
620   0000              	GLOBAL _ftoe_callee
621   0000              	GLOBAL _ftoe
622   0000              	GLOBAL _ftoa_callee
623   0000              	GLOBAL _ftoa
624   0000              	GLOBAL _exit_fastcall
625   0000              	GLOBAL _exit
626   0000              	GLOBAL _dtoh_callee
627   0000              	GLOBAL _dtoh
628   0000              	GLOBAL _dtog_callee
629   0000              	GLOBAL _dtog
630   0000              	GLOBAL _dtoe_callee
631   0000              	GLOBAL _dtoe
632   0000              	GLOBAL _dtoa_callee
633   0000              	GLOBAL _dtoa
634   0000              	GLOBAL _bsearch_callee
635   0000              	GLOBAL _bsearch
636   0000              	GLOBAL _atol_fastcall
637   0000              	GLOBAL _atol
638   0000              	GLOBAL _atoi_fastcall
639   0000              	GLOBAL _atoi
640   0000              	GLOBAL _atof_fastcall
641   0000              	GLOBAL _atof
642   0000              	GLOBAL _atexit_fastcall
643   0000              	GLOBAL _atexit
644   0000              	GLOBAL _at_quick_exit_fastcall
645   0000              	GLOBAL _at_quick_exit
646   0000              	GLOBAL _abs_fastcall
647   0000              	GLOBAL _abs
648   0000              	GLOBAL _abort
649   0000              	GLOBAL __strtou__callee
650   0000              	GLOBAL __strtou_
651   0000              	GLOBAL __strtoi__callee
652   0000              	GLOBAL __strtoi_
653   0000              	GLOBAL __random_uniform_xor_8__fastcall
654   0000              	GLOBAL __random_uniform_xor_8_
655   0000              	GLOBAL __random_uniform_xor_32__fastcall
656   0000              	GLOBAL __random_uniform_xor_32_
657   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
658   0000              	GLOBAL __random_uniform_cmwc_8_
659   0000              	GLOBAL __shellsort__callee
660   0000              	GLOBAL __shellsort_
661   0000              	GLOBAL __quicksort__callee
662   0000              	GLOBAL __quicksort_
663   0000              	GLOBAL __insertion_sort__callee
664   0000              	GLOBAL __insertion_sort_
665   0000              	GLOBAL __ldivu__callee
666   0000              	GLOBAL __ldivu_
667   0000              	GLOBAL __ldiv__callee
668   0000              	GLOBAL __ldiv_
669   0000              	GLOBAL __divu__callee
670   0000              	GLOBAL __divu_
671   0000              	GLOBAL __div__callee
672   0000              	GLOBAL __div_
673   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
674   0000              	GLOBAL _intrinsic_swap_word_32
675   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
676   0000              	GLOBAL _intrinsic_swap_endian_32
677   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
678   0000              	GLOBAL _intrinsic_swap_endian_16
679   0000              	GLOBAL _intrinsic_return_de
680   0000              	GLOBAL _intrinsic_return_bc
681   0000              	GLOBAL _intrinsic_exx
682   0000              	GLOBAL _intrinsic_ex_de_hl
683   0000              	GLOBAL _intrinsic_nop
684   0000              	GLOBAL _intrinsic_im_2
685   0000              	GLOBAL _intrinsic_im_1
686   0000              	GLOBAL _intrinsic_im_0
687   0000              	GLOBAL _intrinsic_retn
688   0000              	GLOBAL _intrinsic_reti
689   0000              	GLOBAL _intrinsic_halt
690   0000              	GLOBAL _intrinsic_ei
691   0000              	GLOBAL _intrinsic_di
692   0000              	GLOBAL _intrinsic_stub
693   0000              	GLOBAL _zx_pattern_fill_callee
694   0000              	GLOBAL _zx_pattern_fill
695   0000              	GLOBAL _zx_saddrpup_fastcall
696   0000              	GLOBAL _zx_saddrpup
697   0000              	GLOBAL _zx_saddrpright_callee
698   0000              	GLOBAL _zx_saddrpright
699   0000              	GLOBAL _zx_saddrpleft_callee
700   0000              	GLOBAL _zx_saddrpleft
701   0000              	GLOBAL _zx_saddrpdown_fastcall
702   0000              	GLOBAL _zx_saddrpdown
703   0000              	GLOBAL _zx_saddrcup_fastcall
704   0000              	GLOBAL _zx_saddrcup
705   0000              	GLOBAL _zx_saddrcright_fastcall
706   0000              	GLOBAL _zx_saddrcright
707   0000              	GLOBAL _zx_saddrcleft_fastcall
708   0000              	GLOBAL _zx_saddrcleft
709   0000              	GLOBAL _zx_saddrcdown_fastcall
710   0000              	GLOBAL _zx_saddrcdown
711   0000              	GLOBAL _zx_saddr2py_fastcall
712   0000              	GLOBAL _zx_saddr2py
713   0000              	GLOBAL _zx_saddr2px_fastcall
714   0000              	GLOBAL _zx_saddr2px
715   0000              	GLOBAL _zx_saddr2cy_fastcall
716   0000              	GLOBAL _zx_saddr2cy
717   0000              	GLOBAL _zx_saddr2cx_fastcall
718   0000              	GLOBAL _zx_saddr2cx
719   0000              	GLOBAL _zx_saddr2aaddr_fastcall
720   0000              	GLOBAL _zx_saddr2aaddr
721   0000              	GLOBAL _zx_py2saddr_fastcall
722   0000              	GLOBAL _zx_py2saddr
723   0000              	GLOBAL _zx_py2aaddr_fastcall
724   0000              	GLOBAL _zx_py2aaddr
725   0000              	GLOBAL _zx_pxy2saddr_callee
726   0000              	GLOBAL _zx_pxy2saddr
727   0000              	GLOBAL _zx_pxy2aaddr_callee
728   0000              	GLOBAL _zx_pxy2aaddr
729   0000              	GLOBAL _zx_px2bitmask_fastcall
730   0000              	GLOBAL _zx_px2bitmask
731   0000              	GLOBAL _zx_cyx2saddr_callee
732   0000              	GLOBAL _zx_cyx2saddr
733   0000              	GLOBAL _zx_cyx2aaddr_callee
734   0000              	GLOBAL _zx_cyx2aaddr
735   0000              	GLOBAL _zx_cy2saddr_fastcall
736   0000              	GLOBAL _zx_cy2saddr
737   0000              	GLOBAL _zx_cy2aaddr_fastcall
738   0000              	GLOBAL _zx_cy2aaddr
739   0000              	GLOBAL _zx_bitmask2px_fastcall
740   0000              	GLOBAL _zx_bitmask2px
741   0000              	GLOBAL _zx_aaddrcup_fastcall
742   0000              	GLOBAL _zx_aaddrcup
743   0000              	GLOBAL _zx_aaddrcright_fastcall
744   0000              	GLOBAL _zx_aaddrcright
745   0000              	GLOBAL _zx_aaddrcleft_fastcall
746   0000              	GLOBAL _zx_aaddrcleft
747   0000              	GLOBAL _zx_aaddrcdown_fastcall
748   0000              	GLOBAL _zx_aaddrcdown
749   0000              	GLOBAL _zx_aaddr2saddr_fastcall
750   0000              	GLOBAL _zx_aaddr2saddr
751   0000              	GLOBAL _zx_aaddr2py_fastcall
752   0000              	GLOBAL _zx_aaddr2py
753   0000              	GLOBAL _zx_aaddr2px_fastcall
754   0000              	GLOBAL _zx_aaddr2px
755   0000              	GLOBAL _zx_aaddr2cy_fastcall
756   0000              	GLOBAL _zx_aaddr2cy
757   0000              	GLOBAL _zx_aaddr2cx_fastcall
758   0000              	GLOBAL _zx_aaddr2cx
759   0000              	GLOBAL _zx_scroll_wc_up_callee
760   0000              	GLOBAL _zx_scroll_wc_up
761   0000              	GLOBAL _zx_scroll_up_callee
762   0000              	GLOBAL _zx_scroll_up
763   0000              	GLOBAL _zx_cls_wc_callee
764   0000              	GLOBAL _zx_cls_wc
765   0000              	GLOBAL _zx_cls_fastcall
766   0000              	GLOBAL _zx_cls
767   0000              	GLOBAL _zx_border_fastcall
768   0000              	GLOBAL _zx_border
769   0000              	GLOBAL _game_hlt_cnt
770   0000              	GLOBAL _joynames
771   0000              	GLOBAL _initials
772   0000              	GLOBAL _hof
773   0000              	GLOBAL _score_osd_tile
774   0000              	GLOBAL _score_osd_update_time
775   0000              	GLOBAL _score_osd_col
776   0000              	GLOBAL _score_osd_lin
777   0000              	GLOBAL _phase_bonus_total
778   0000              	GLOBAL _phase_angry
779   0000              	GLOBAL _phase_curr
780   0000              	GLOBAL _phase_end
781   0000              	GLOBAL _phase_coins
782   0000              	GLOBAL _phase_pop
783   0000              	GLOBAL _phase_tot
784   0000              	GLOBAL _phase_left
785   0000              	GLOBAL _phase_quota
786   0000              	GLOBAL _phases
787   0000              	GLOBAL _lvl_1
788   0000              	GLOBAL _sprite_speed_alt
789   0000              	GLOBAL _sprite_speed
790   0000              	GLOBAL _screen_ink
791   0000              	GLOBAL _screen_paper
792   0000              	GLOBAL _game_menu_sel
793   0000              	GLOBAL _game_type
794   0000              	GLOBAL _game_osd
795   0000              	GLOBAL _game_bonus
796   0000              	GLOBAL _spr_water_time
797   0000              	GLOBAL _spr_water_clear
798   0000              	GLOBAL _game_time_fireball_start
799   0000              	GLOBAL _game_time_flipped
800   0000              	GLOBAL _game_score_top
801   0000              	GLOBAL _game_lives
802   0000              	GLOBAL _game_over
803   0000              	GLOBAL _game_sound
804   0000              	GLOBAL _game_inmune
805   0000              	GLOBAL _game_god_mode
806   0000              	GLOBAL _game_start_phase
807   0000              	GLOBAL _game_two_player
808   0000              	GLOBAL _game_brick_tile
809   0000              	GLOBAL _game_pow
810   0000              	GLOBAL _game_ugly_fix_cnt
811   0000              	GLOBAL _spr_count
812   0000              	GLOBAL _osd_show_time
813   0000              	GLOBAL _osd_update_time
814   0000              	GLOBAL _frame_time
815   0000              	GLOBAL _entry_time
816   0000              	GLOBAL _curr_time
817   0000              	GLOBAL _s_state
818   0000              	GLOBAL _attrib_hl
819   0000              	GLOBAL _attrib
820   0000              	GLOBAL _zx_val_asm
821   0000              	GLOBAL _enemies
822   0000              	GLOBAL _tmp_ui
823   0000              	GLOBAL _tmp_sc
824   0000              	GLOBAL _tmp_uc
825   0000              	GLOBAL _tmp1
826   0000              	GLOBAL _tmp0
827   0000              	GLOBAL _tmp
828   0000              	GLOBAL _index3
829   0000              	GLOBAL _index2
830   0000              	GLOBAL _index1
831   0000              	GLOBAL _loop_count
832   0000              	GLOBAL _sprite_lin_inc_mul
833   0000              	GLOBAL _s_col1
834   0000              	GLOBAL _s_col0
835   0000              	GLOBAL _s_lin1
836   0000              	GLOBAL _s_lin0
837   0000              	GLOBAL _s_tile1
838   0000              	GLOBAL _s_tile0
839   0000              	GLOBAL _hit_count
840   0000              	GLOBAL _tile_offset_other_player
841   0000              	GLOBAL _tile_offset
842   0000              	GLOBAL _index_player
843   0000              	GLOBAL _sprite_other_player
844   0000              	GLOBAL _sprite
845   0000              	GLOBAL _player_joy
846   0000              	GLOBAL _player_next_extra
847   0000              	GLOBAL _player_score
848   0000              	GLOBAL _last_time
849   0000              	GLOBAL _sliding
850   0000              	GLOBAL _spr_timer
851   0000              	GLOBAL _jump_lin
852   0000              	GLOBAL _player_jump_c
853   0000              	GLOBAL _hit_col
854   0000              	GLOBAL _hit_lin
855   0000              	GLOBAL _colint
856   0000              	GLOBAL _col
857   0000              	GLOBAL _lin
858   0000              	GLOBAL _tile
859   0000              	GLOBAL _state_a
860   0000              	GLOBAL _state
861   0000              	GLOBAL _class
862   0000              	GLOBAL _tbuffer
863   0000              	GLOBAL _dirs
864   0000              	GLOBAL _k2
865   0000              	GLOBAL _k1
866   0000              	GLOBAL _joyfunc2
867   0000              	GLOBAL _joyfunc1
868   0000              	GLOBAL _btiles
869   0000              	GLOBAL _spec128
870   0000              	GLOBAL _ay_effect_20
871   0000              	GLOBAL _ay_effect_19
872   0000              	GLOBAL _ay_effect_18
873   0000              	GLOBAL _ay_effect_17
874   0000              	GLOBAL _ay_effect_16
875   0000              	GLOBAL _ay_effect_15
876   0000              	GLOBAL _ay_effect_14
877   0000              	GLOBAL _ay_effect_13
878   0000              	GLOBAL _ay_effect_12
879   0000              	GLOBAL _ay_effect_11
880   0000              	GLOBAL _ay_effect_10
881   0000              	GLOBAL _ay_effect_09
882   0000              	GLOBAL _ay_effect_08
883   0000              	GLOBAL _ay_effect_07
884   0000              	GLOBAL _ay_effect_06
885   0000              	GLOBAL _ay_effect_05
886   0000              	GLOBAL _ay_effect_04
887   0000              	GLOBAL _ay_effect_03
888   0000              	GLOBAL _ay_effect_02
889   0000              	GLOBAL _ay_effect_01
890   0000              	GLOBAL _pb_midi_phase_1
891   0000              	GLOBAL _pb_midi_title
892   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
893   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
894   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
895   0000              	GLOBAL _NIRVANAP_HOLE
896   0000              	GLOBAL _NIRVANAP_ISR_HOOK
897   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
898   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
899   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
900   0000              	GLOBAL _control_method
901   0000              	GLOBAL _hall_valids
902   0000              ;--------------------------------------------------------
903   0000              ; special function registers
904   0000              ;--------------------------------------------------------
905   0000              defc _IO_FE	=	0x00fe
906   0000              defc _IO_1FFD	=	0x1ffd
907   0000              defc _IO_7FFD	=	0x7ffd
908   0000              ;--------------------------------------------------------
909   0000              ; ram data
910   0000              ;--------------------------------------------------------
911   0000              	SECTION bss_compiler
912   0000              ;--------------------------------------------------------
913   0000              ; ram data
914   0000              ;--------------------------------------------------------
915   0000              
916   0000              IF 0
917   0000              
918   0000              ; .area _INITIALIZED removed by z88dk
919   0000              
920   0000              
921   0000              ENDIF
922   0000              
923   0000              ;--------------------------------------------------------
924   0000              ; absolute external ram data
925   0000              ;--------------------------------------------------------
926   0000              	SECTION IGNORE
927   0000              ;--------------------------------------------------------
928   0000              ; global & static initialisations
929   0000              ;--------------------------------------------------------
930   0000              	SECTION code_crt_init
931   0000              ;--------------------------------------------------------
932   0000              ; Home
933   0000              ;--------------------------------------------------------
934   0000              	SECTION IGNORE
935   0000              ;--------------------------------------------------------
936   0000              ; code
937   0000              ;--------------------------------------------------------
938   0000              	SECTION code_compiler
939   0000              ;	---------------------------------
940   0000              ; Function game_calc_index
941   0000              ; ---------------------------------
942   0000              _game_calc_index:
943   0000  CD 00 00    	call	___sdcc_enter_ix
944   0003  DD 4E 05    	ld	c,(ix+5)
945   0006  06 00       	ld	b,0x00
946   0008  DD 7E 04    	ld	a,(ix+4)
947   000B  0F          	rrca
948   000C  0F          	rrca
949   000D  0F          	rrca
950   000E  E6 1F       	and	a,0x1f
951   0010  6F          	ld	l,a
952   0011  26 00       	ld	h,0x00
953   0013  29          	add	hl, hl
954   0014  29          	add	hl, hl
955   0015  29          	add	hl, hl
956   0016  29          	add	hl, hl
957   0017  29          	add	hl, hl
958   0018  09          	add	hl,bc
959   0019  DD E1       	pop	ix
960   001B  C9          	ret
961   001C              	SECTION code_compiler
962   001C              ;	---------------------------------
963   001C              ; Function game_print_footer
964   001C              ; ---------------------------------
965   001C              _game_print_footer:
966   001C  21 00 00    	ld	hl,___str_0
967   001F  E5          	push	hl
968   0020  21 16 01    	ld	hl,0x0116
969   0023  E5          	push	hl
970   0024  CD 00 00    	call	_zx_print_str
971   0027  21 00 00    	ld	hl,___str_0
972   002A  E5          	push	hl
973   002B  21 16 1E    	ld	hl,0x1e16
974   002E  E5          	push	hl
975   002F  CD 00 00    	call	_zx_print_str
976   0032  21 02 00    	ld	hl,___str_1
977   0035  E5          	push	hl
978   0036  21 17 01    	ld	hl,0x0117
979   0039  E5          	push	hl
980   003A  CD 00 00    	call	_zx_print_str
981   003D  21 02 00    	ld	hl,___str_1
982   0040  E5          	push	hl
983   0041  21 17 1E    	ld	hl,0x1e17
984   0044  E5          	push	hl
985   0045  CD 00 00    	call	_zx_print_str
986   0048  3A 00 00    	ld	a,(_game_lives)
987   004B  B7          	or	a, a
988   004C  28 20       	jr	Z,l_game_print_footer_00102
989   004E  21 00 00    	ld	hl,_screen_ink
990   0051  36 02       	ld	(hl),0x02
991   0053  21 08 00    	ld	hl,___str_2
992   0056  E5          	push	hl
993   0057  21 16 01    	ld	hl,0x0116
994   005A  E5          	push	hl
995   005B  CD 00 00    	call	_zx_print_str
996   005E  21 00 00    	ld	hl,_screen_ink
997   0061  36 06       	ld	(hl),0x06
998   0063  21 0A 00    	ld	hl,___str_3
999   0066  E5          	push	hl
1000  0067  21 17 01    	ld	hl,0x0117
1001  006A  E5          	push	hl
1002  006B  CD 00 00    	call	_zx_print_str
1003  006E              l_game_print_footer_00102:
1004  006E  3A 01 00    	ld	a, (_game_lives + 1)
1005  0071  B7          	or	a, a
1006  0072  28 20       	jr	Z,l_game_print_footer_00104
1007  0074  21 00 00    	ld	hl,_screen_ink
1008  0077  36 07       	ld	(hl),0x07
1009  0079  21 0C 00    	ld	hl,___str_4
1010  007C  E5          	push	hl
1011  007D  21 16 1E    	ld	hl,0x1e16
1012  0080  E5          	push	hl
1013  0081  CD 00 00    	call	_zx_print_str
1014  0084  21 00 00    	ld	hl,_screen_ink
1015  0087  36 06       	ld	(hl),0x06
1016  0089  21 0E 00    	ld	hl,___str_5
1017  008C  E5          	push	hl
1018  008D  21 17 1E    	ld	hl,0x1e17
1019  0090  E5          	push	hl
1020  0091  CD 00 00    	call	_zx_print_str
1021  0094              l_game_print_footer_00104:
1022  0094  CD CE 00    	call	_game_print_lives
1023  0097  C9          	ret
1024  0098              	SECTION rodata_compiler
1025  0000              ___str_0:
1026  0000  20          	DEFM " "
1027  0001  00          	DEFB 0x00
1028  0002              	SECTION rodata_compiler
1029  0002              ___str_1:
1030  0002  20 20 20 20 20 
                        	DEFM "     "
1031  0007  00          	DEFB 0x00
1032  0008              	SECTION rodata_compiler
1033  0008              ___str_2:
1034  0008  3C          	DEFM "<"
1035  0009  00          	DEFB 0x00
1036  000A              	SECTION rodata_compiler
1037  000A              ___str_3:
1038  000A  5C          	DEFB 0x5c
1039  000B  00          	DEFB 0x00
1040  000C              	SECTION rodata_compiler
1041  000C              ___str_4:
1042  000C  3E          	DEFM ">"
1043  000D  00          	DEFB 0x00
1044  000E              	SECTION rodata_compiler
1045  000E              ___str_5:
1046  000E  5E          	DEFM "^"
1047  000F  00          	DEFB 0x00
1048  0010              	SECTION code_compiler
1049  0098              ;	---------------------------------
1050  0098              ; Function game_phase_print_score_back
1051  0098              ; ---------------------------------
1052  0098              _game_phase_print_score_back:
1053  0098  21 00 00    	ld	hl,_screen_ink
1054  009B  36 02       	ld	(hl),0x02
1055  009D  21 10 00    	ld	hl,___str_6
1056  00A0  E5          	push	hl
1057  00A1  21 00 0B    	ld	hl,0x0b00
1058  00A4  E5          	push	hl
1059  00A5  CD 00 00    	call	_zx_print_str
1060  00A8  21 00 00    	ld	hl,_screen_ink
1061  00AB  36 01       	ld	(hl),0x01
1062  00AD  21 14 00    	ld	hl,___str_7
1063  00B0  E5          	push	hl
1064  00B1  21 00 01    	ld	hl,0x0100
1065  00B4  E5          	push	hl
1066  00B5  CD 00 00    	call	_zx_print_str
1067  00B8  3A 00 00    	ld	a,(_game_two_player)
1068  00BB  B7          	or	a, a
1069  00BC  C8          	ret	Z
1070  00BD  21 00 00    	ld	hl,_screen_ink
1071  00C0  36 04       	ld	(hl),0x04
1072  00C2  21 17 00    	ld	hl,___str_8
1073  00C5  E5          	push	hl
1074  00C6  21 00 16    	ld	hl,0x1600
1075  00C9  E5          	push	hl
1076  00CA  CD 00 00    	call	_zx_print_str
1077  00CD  C9          	ret
1078  00CE              	SECTION rodata_compiler
1079  0010              ___str_6:
1080  0010  24 25 7C    	DEFM "$%|"
1081  0013  00          	DEFB 0x00
1082  0014              	SECTION rodata_compiler
1083  0014              ___str_7:
1084  0014  5B 7C       	DEFM "[|"
1085  0016  00          	DEFB 0x00
1086  0017              	SECTION rodata_compiler
1087  0017              ___str_8:
1088  0017  5D 7C       	DEFM "]|"
1089  0019  00          	DEFB 0x00
1090  001A              	SECTION code_compiler
1091  00CE              ;	---------------------------------
1092  00CE              ; Function game_print_lives
1093  00CE              ; ---------------------------------
1094  00CE              _game_print_lives:
1095  00CE  21 00 00    	ld	hl,_screen_ink
1096  00D1  36 07       	ld	(hl),0x07
1097  00D3  3A 00 00    	ld	a,(_game_lives)
1098  00D6  C6 FF       	add	a,0xff
1099  00D8  21 00 00    	ld	hl,_tmp
1100  00DB  77          	ld	(hl),a
1101  00DC  D6 FF       	sub	a,0xff
1102  00DE  30 0A       	jr	NC,l_game_print_lives_00102
1103  00E0  7E          	ld	a,(hl)
1104  00E1  F5          	push	af
1105  00E2  33          	inc	sp
1106  00E3  21 17 03    	ld	hl,0x0317
1107  00E6  E5          	push	hl
1108  00E7  CD 00 00    	call	_zx_print_chr
1109  00EA              l_game_print_lives_00102:
1110  00EA  3A 01 00    	ld	a, (_game_lives + 1)
1111  00ED  C6 FF       	add	a,0xff
1112  00EF  21 00 00    	ld	hl,_tmp
1113  00F2  77          	ld	(hl),a
1114  00F3  D6 FF       	sub	a,0xff
1115  00F5  D0          	ret	NC
1116  00F6  7E          	ld	a,(hl)
1117  00F7  F5          	push	af
1118  00F8  33          	inc	sp
1119  00F9  21 17 1A    	ld	hl,0x1a17
1120  00FC  E5          	push	hl
1121  00FD  CD 00 00    	call	_zx_print_chr
1122  0100  C9          	ret
1123  0101              	SECTION code_compiler
1124  0101              ;	---------------------------------
1125  0101              ; Function game_tick
1126  0101              ; ---------------------------------
1127  0101              _game_tick:
1128  0101  21 00 00    	ld	hl,_curr_time
1129  0104  34          	inc	(hl)
1130  0105  C2 00 00    	jp	NZ,_zx_isr
1131  0108  23          	inc	hl
1132  0109  34          	inc	(hl)
1133  010A  C3 00 00    	jp  _zx_isr
1134  010D              	SECTION code_compiler
1135  010D              ;	---------------------------------
1136  010D              ; Function game_start_timer
1137  010D              ; ---------------------------------
1138  010D              _game_start_timer:
1139  010D  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1140  0110  36 CD       	ld	(hl),0xcd
1141  0112  23          	inc	hl
1142  0113  11 01 01    	ld	de,_game_tick
1143  0116  73          	ld	(hl), e
1144  0117  23          	inc	hl
1145  0118  72          	ld	(hl), d
1146  0119  C9          	ret
1147  011A              	SECTION code_compiler
1148  011A              ;	---------------------------------
1149  011A              ; Function game_phase_calc
1150  011A              ; ---------------------------------
1151  011A              _game_phase_calc:
1152  011A  3A 00 00    	ld	a,(_phase_curr)
1153  011D  87          	add	a, a
1154  011E  87          	add	a, a
1155  011F  21 00 00    	ld	hl,_tmp_uc
1156  0122  77          	ld	(hl),a
1157  0123  01 00 00    	ld	bc,_phases+0
1158  0126  5E          	ld	e,(hl)
1159  0127  16 00       	ld	d,0x00
1160  0129  69          	ld	l, c
1161  012A  60          	ld	h, b
1162  012B  19          	add	hl,de
1163  012C  7E          	ld	a,(hl)
1164  012D  32 00 00    	ld	(_phase_quota),a
1165  0130  2A 00 00    	ld	hl,(_tmp_uc)
1166  0133  26 00       	ld	h,0x00
1167  0135  23          	inc	hl
1168  0136  09          	add	hl,bc
1169  0137  7E          	ld	a,(hl)
1170  0138  32 01 00    	ld	((_phase_quota + 0x0001)),a
1171  013B  2A 00 00    	ld	hl,(_tmp_uc)
1172  013E  26 00       	ld	h,0x00
1173  0140  23          	inc	hl
1174  0141  23          	inc	hl
1175  0142  09          	add	hl,bc
1176  0143  7E          	ld	a,(hl)
1177  0144  32 02 00    	ld	((_phase_quota + 0x0002)),a
1178  0147  2A 00 00    	ld	hl,(_tmp_uc)
1179  014A  26 00       	ld	h,0x00
1180  014C  23          	inc	hl
1181  014D  23          	inc	hl
1182  014E  23          	inc	hl
1183  014F  09          	add	hl,bc
1184  0150  7E          	ld	a,(hl)
1185  0151  32 00 00    	ld	(_game_brick_tile),a
1186  0154  D6 8B       	sub	a,0x8b
1187  0156  20 05       	jr	NZ,l_game_phase_calc_00102
1188  0158  CD 6E 0C    	call	_game_freeze_all
1189  015B  18 03       	jr	l_game_phase_calc_00103
1190  015D              l_game_phase_calc_00102:
1191  015D  CD 45 0C    	call	_game_unfreeze_all
1192  0160              l_game_phase_calc_00103:
1193  0160  21 00 00    	ld	hl,_phase_quota
1194  0163  4E          	ld	c,(hl)
1195  0164  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1196  0167  46          	ld	b,(hl)
1197  0168  79          	ld	a,c
1198  0169  80          	add	a, b
1199  016A  4F          	ld	c,a
1200  016B  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1201  016E  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1202  0170  09          	add	hl, bc
1203  0171  C9          	ret
1204  0172              	SECTION code_compiler
1205  0172              ;	---------------------------------
1206  0172              ; Function game_phase_init
1207  0172              ; ---------------------------------
1208  0172              _game_phase_init:
1209  0172  21 00 00    	ld	hl,0x0000
1210  0175  22 00 00    	ld	(_loop_count),hl
1211  0178  21 00 00    	ld	hl,_phase_end
1212  017B  36 00       	ld	(hl),0x00
1213  017D  21 00 00    	ld	hl,_phase_angry
1214  0180  36 00       	ld	(hl),0x00
1215  0182  21 00 00    	ld	hl,_phase_coins
1216  0185  36 00       	ld	(hl),0x00
1217  0187  21 00 00    	ld	hl,_phase_pop
1218  018A  36 00       	ld	(hl),0x00
1219  018C  21 00 00    	ld	hl,_game_bonus
1220  018F  36 00       	ld	(hl),0x00
1221  0191  21 00 00    	ld	hl,0x0000
1222  0194  22 00 00    	ld	(_entry_time),hl
1223  0197  21 00 00    	ld	hl,0
1224  019A  22 00 00    	ld	(_curr_time),hl
1225  019D  21 00 00    	ld	hl,0x0000
1226  01A0  22 00 00    	ld	(_frame_time),hl
1227  01A3  21 FF FF    	ld	hl,0xffff
1228  01A6  22 00 00    	ld	(_score_osd_col),hl
1229  01A9  21 00 00    	ld	hl,_spr_count
1230  01AC  36 00       	ld	(hl),0x00
1231  01AE  21 00 00    	ld	hl,_game_ugly_fix_cnt
1232  01B1  36 00       	ld	(hl),0x00
1233  01B3  3A 00 00    	ld	a,(_game_type)
1234  01B6  D6 02       	sub	a,0x02
1235  01B8  CA 44 02    	jp	Z,l_game_phase_init_00104
1236  01BB  CD 1A 01    	call	_game_phase_calc
1237  01BE  7D          	ld	a,l
1238  01BF  32 00 00    	ld	(_phase_left),a
1239  01C2  32 00 00    	ld	(_phase_tot),a
1240  01C5  21 00 00    	ld	hl,_phase_left
1241  01C8  7E          	ld	a,(hl)
1242  01C9  B7          	or	a, a
1243  01CA  C2 56 02    	jp	NZ,l_game_phase_init_00105
1244  01CD  01 00 00    	ld	bc,_phase_bonus_total+0
1245  01D0  AF          	xor	a, a
1246  01D1  02          	ld	(bc),a
1247  01D2  03          	inc	bc
1248  01D3  AF          	xor	a, a
1249  01D4  02          	ld	(bc),a
1250  01D5  36 06       	ld	(hl),0x06
1251  01D7  21 00 00    	ld	hl,_game_bonus
1252  01DA  36 01       	ld	(hl),0x01
1253  01DC  21 0C 00    	ld	hl,0x000c
1254  01DF  E5          	push	hl
1255  01E0  21 90 08    	ld	hl,0x0890
1256  01E3  E5          	push	hl
1257  01E4  AF          	xor	a, a
1258  01E5  F5          	push	af
1259  01E6  33          	inc	sp
1260  01E7  CD 00 00    	call	_enemy_init
1261  01EA  F1          	pop	af
1262  01EB  33          	inc	sp
1263  01EC  21 0C 00    	ld	hl,0x000c
1264  01EF  E3          	ex	(sp),hl
1265  01F0  21 90 16    	ld	hl,0x1690
1266  01F3  E5          	push	hl
1267  01F4  3E 01       	ld	a,0x01
1268  01F6  F5          	push	af
1269  01F7  33          	inc	sp
1270  01F8  CD 00 00    	call	_enemy_init
1271  01FB  F1          	pop	af
1272  01FC  33          	inc	sp
1273  01FD  21 0C 00    	ld	hl,0x000c
1274  0200  E3          	ex	(sp),hl
1275  0201  21 50 06    	ld	hl,0x0650
1276  0204  E5          	push	hl
1277  0205  3E 02       	ld	a,0x02
1278  0207  F5          	push	af
1279  0208  33          	inc	sp
1280  0209  CD 00 00    	call	_enemy_init
1281  020C  F1          	pop	af
1282  020D  33          	inc	sp
1283  020E  21 0C 00    	ld	hl,0x000c
1284  0211  E3          	ex	(sp),hl
1285  0212  21 50 18    	ld	hl,0x1850
1286  0215  E5          	push	hl
1287  0216  3E 03       	ld	a,0x03
1288  0218  F5          	push	af
1289  0219  33          	inc	sp
1290  021A  CD 00 00    	call	_enemy_init
1291  021D  F1          	pop	af
1292  021E  33          	inc	sp
1293  021F  21 0C 00    	ld	hl,0x000c
1294  0222  E3          	ex	(sp),hl
1295  0223  21 10 05    	ld	hl,0x0510
1296  0226  E5          	push	hl
1297  0227  3E 04       	ld	a,0x04
1298  0229  F5          	push	af
1299  022A  33          	inc	sp
1300  022B  CD 00 00    	call	_enemy_init
1301  022E  F1          	pop	af
1302  022F  33          	inc	sp
1303  0230  21 0C 00    	ld	hl,0x000c
1304  0233  E3          	ex	(sp),hl
1305  0234  21 10 19    	ld	hl,0x1910
1306  0237  E5          	push	hl
1307  0238  3E 05       	ld	a,0x05
1308  023A  F5          	push	af
1309  023B  33          	inc	sp
1310  023C  CD 00 00    	call	_enemy_init
1311  023F  F1          	pop	af
1312  0240  F1          	pop	af
1313  0241  33          	inc	sp
1314  0242  18 12       	jr	l_game_phase_init_00105
1315  0244              l_game_phase_init_00104:
1316  0244  21 00 00    	ld	hl,_phase_left
1317  0247  36 FF       	ld	(hl),0xff
1318  0249  21 00 00    	ld	hl,_phase_curr
1319  024C  36 FF       	ld	(hl),0xff
1320  024E  CD 45 0C    	call	_game_unfreeze_all
1321  0251  21 00 00    	ld	hl,_game_brick_tile
1322  0254  36 84       	ld	(hl),0x84
1323  0256              l_game_phase_init_00105:
1324  0256  CD 00 00    	call	_ay_reset
1325  0259  3A 00 00    	ld	a,(_game_bonus)
1326  025C  B7          	or	a, a
1327  025D  20 06       	jr	NZ,l_game_phase_init_00107
1328  025F  21 00 00    	ld	hl,_pb_midi_phase_1
1329  0262  CD 00 00    	call	_ay_midi_play
1330  0265              l_game_phase_init_00107:
1331  0265  CD 00 00    	call	_spr_draw_clear
1332  0268  21 00 00    	ld	hl,0x0000
1333  026B  CD 00 00    	call	_zx_cls_fastcall
1334  026E  CD 00 00    	call	_spr_draw_background
1335  0271  CD AC 02    	call	_game_print_header
1336  0274  CD 1C 00    	call	_game_print_footer
1337  0277  3A 00 00    	ld	a,(_game_lives)
1338  027A  B7          	or	a, a
1339  027B  28 0D       	jr	Z,l_game_phase_init_00109
1340  027D  21 0A 03    	ld	hl,0x030a
1341  0280  E5          	push	hl
1342  0281  21 07 98    	ld	hl,0x9807
1343  0284  E5          	push	hl
1344  0285  CD 00 00    	call	_player_init
1345  0288  F1          	pop	af
1346  0289  F1          	pop	af
1347  028A              l_game_phase_init_00109:
1348  028A  3A 01 00    	ld	a, (_game_lives + 1)
1349  028D  B7          	or	a, a
1350  028E  28 0D       	jr	Z,l_game_phase_init_00111
1351  0290  21 14 27    	ld	hl,0x2714
1352  0293  E5          	push	hl
1353  0294  21 06 98    	ld	hl,0x9806
1354  0297  E5          	push	hl
1355  0298  CD 00 00    	call	_player_init
1356  029B  F1          	pop	af
1357  029C  F1          	pop	af
1358  029D              l_game_phase_init_00111:
1359  029D  21 00 00    	ld	hl,_game_osd
1360  02A0  36 01       	ld	(hl),0x01
1361  02A2  2A 00 00    	ld	hl,(_curr_time)
1362  02A5  22 00 00    	ld	(_osd_update_time),hl
1363  02A8  22 00 00    	ld	(_osd_show_time),hl
1364  02AB  C9          	ret
1365  02AC              	SECTION code_compiler
1366  02AC              ;	---------------------------------
1367  02AC              ; Function game_print_header
1368  02AC              ; ---------------------------------
1369  02AC              _game_print_header:
1370  02AC  CD 98 00    	call	_game_phase_print_score_back
1371  02AF  21 00 00    	ld	hl,_screen_ink
1372  02B2  36 07       	ld	(hl),0x07
1373  02B4  C3 97 0C    	jp  _game_print_score
1374  02B7              	SECTION code_compiler
1375  02B7              ;	---------------------------------
1376  02B7              ; Function game_phase_print
1377  02B7              ; ---------------------------------
1378  02B7              _game_phase_print:
1379  02B7  45          	ld	b,l
1380  02B8  C5          	push	bc
1381  02B9  21 1A 00    	ld	hl,___str_9
1382  02BC  E5          	push	hl
1383  02BD  3E 0B       	ld	a,0x0b
1384  02BF  48          	ld	c,b
1385  02C0  47          	ld	b,a
1386  02C1  C5          	push	bc
1387  02C2  CD 00 00    	call	_zx_print_str
1388  02C5  C1          	pop	bc
1389  02C6  3A 00 00    	ld	a,(_phase_curr)
1390  02C9  D6 1F       	sub	a,0x1f
1391  02CB  30 3F       	jr	NC,l_game_phase_print_00108
1392  02CD  3A 00 00    	ld	a,(_game_bonus)
1393  02D0  B7          	or	a, a
1394  02D1  20 2B       	jr	NZ,l_game_phase_print_00102
1395  02D3  C5          	push	bc
1396  02D4  21 20 00    	ld	hl,___str_10
1397  02D7  E5          	push	hl
1398  02D8  3E 10       	ld	a,0x10
1399  02DA  48          	ld	c,b
1400  02DB  47          	ld	b,a
1401  02DC  C5          	push	bc
1402  02DD  CD 00 00    	call	_zx_print_str
1403  02E0  C1          	pop	bc
1404  02E1  21 00 00    	ld	hl,_phase_curr
1405  02E4  56          	ld	d,(hl)
1406  02E5  14          	inc	d
1407  02E6  C5          	push	bc
1408  02E7  1E 12       	ld	e,0x12
1409  02E9  D5          	push	de
1410  02EA  C5          	push	bc
1411  02EB  33          	inc	sp
1412  02EC  CD 00 00    	call	_zx_print_chr
1413  02EF  C1          	pop	bc
1414  02F0  21 20 00    	ld	hl,___str_10
1415  02F3  E5          	push	hl
1416  02F4  3E 15       	ld	a,0x15
1417  02F6  48          	ld	c,b
1418  02F7  47          	ld	b,a
1419  02F8  C5          	push	bc
1420  02F9  CD 00 00    	call	_zx_print_str
1421  02FC  18 2F       	jr	l_game_phase_print_00110
1422  02FE              l_game_phase_print_00102:
1423  02FE  21 23 00    	ld	hl,___str_11
1424  0301  E5          	push	hl
1425  0302  3E 11       	ld	a,0x11
1426  0304  48          	ld	c,b
1427  0305  47          	ld	b,a
1428  0306  C5          	push	bc
1429  0307  CD 00 00    	call	_zx_print_str
1430  030A  18 21       	jr	l_game_phase_print_00110
1431  030C              l_game_phase_print_00108:
1432  030C  3A 00 00    	ld	a,(_game_type)
1433  030F  D6 02       	sub	a,0x02
1434  0311  28 0E       	jr	Z,l_game_phase_print_00105
1435  0313  21 2A 00    	ld	hl,___str_12
1436  0316  E5          	push	hl
1437  0317  3E 11       	ld	a,0x11
1438  0319  48          	ld	c,b
1439  031A  47          	ld	b,a
1440  031B  C5          	push	bc
1441  031C  CD 00 00    	call	_zx_print_str
1442  031F  18 0C       	jr	l_game_phase_print_00110
1443  0321              l_game_phase_print_00105:
1444  0321  21 31 00    	ld	hl,___str_13
1445  0324  E5          	push	hl
1446  0325  3E 11       	ld	a,0x11
1447  0327  48          	ld	c,b
1448  0328  47          	ld	b,a
1449  0329  C5          	push	bc
1450  032A  CD 00 00    	call	_zx_print_str
1451  032D              l_game_phase_print_00110:
1452  032D  C9          	ret
1453  032E              	SECTION rodata_compiler
1454  001A              ___str_9:
1455  001A  50 48 41 53 45 
                        	DEFM "PHASE"
1456  001F  00          	DEFB 0x00
1457  0020              	SECTION rodata_compiler
1458  0020              ___str_10:
1459  0020  20 20       	DEFM "  "
1460  0022  00          	DEFB 0x00
1461  0023              	SECTION rodata_compiler
1462  0023              ___str_11:
1463  0023  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1464  0029  00          	DEFB 0x00
1465  002A              	SECTION rodata_compiler
1466  002A              ___str_12:
1467  002A  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1468  0030  00          	DEFB 0x00
1469  0031              	SECTION rodata_compiler
1470  0031              ___str_13:
1471  0031  52 41 4E 44 20 20 
                        	DEFM "RAND  "
1472  0037  00          	DEFB 0x00
1473  0038              	SECTION code_compiler
1474  032E              ;	---------------------------------
1475  032E              ; Function game_loop
1476  032E              ; ---------------------------------
1477  032E              _game_loop:
1478  032E  21 38 00    	ld	hl,___str_14
1479  0331  E5          	push	hl
1480  0332  21 16 03    	ld	hl,0x0316
1481  0335  E5          	push	hl
1482  0336  CD 00 00    	call	_zx_print_str
1483  0339  21 53 00    	ld	hl,___str_15
1484  033C  E5          	push	hl
1485  033D  21 17 03    	ld	hl,0x0317
1486  0340  E5          	push	hl
1487  0341  CD 00 00    	call	_zx_print_str
1488  0344  21 00 00    	ld	hl,_ay_effect_10
1489  0347  CD 00 00    	call	_ay_fx_play
1490  034A  CD 00 00    	call	_sound_coin
1491  034D  21 C8 00    	ld	hl,0x00c8
1492  0350  CD 00 00    	call	_z80_delay_ms_fastcall
1493  0353  21 6E 00    	ld	hl,___str_16
1494  0356  E5          	push	hl
1495  0357  21 16 07    	ld	hl,0x0716
1496  035A  E5          	push	hl
1497  035B  CD 00 00    	call	_zx_print_str
1498  035E  CD 00 00    	call	_ay_reset
1499  0361  21 8C 8C    	ld	hl,0x8c8c
1500  0364  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1501  0367  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1502  036A  21 00 00    	ld	hl,_game_lives+0
1503  036D  36 04       	ld	(hl),0x04
1504  036F  23          	inc	hl
1505  0370  3A 00 00    	ld	a,(_game_two_player)
1506  0373  B7          	or	a,a
1507  0374  4D          	ld	c,l
1508  0375  44          	ld	b,h
1509  0376  28 05       	jr	Z,l_game_loop_00102
1510  0378  3E 04       	ld	a,0x04
1511  037A  02          	ld	(bc),a
1512  037B  18 02       	jr	l_game_loop_00103
1513  037D              l_game_loop_00102:
1514  037D  AF          	xor	a, a
1515  037E  02          	ld	(bc),a
1516  037F              l_game_loop_00103:
1517  037F  21 00 00    	ld	hl,0x0000
1518  0382  22 00 00    	ld	(_player_score), hl
1519  0385  2E 00       	ld	l,0x00
1520  0387  22 02 00    	ld	(_player_score + 0x0002),hl
1521  038A  21 D0 07    	ld	hl,0x07d0
1522  038D  22 00 00    	ld	(_player_next_extra), hl
1523  0390  2E D0       	ld	l,0xd0
1524  0392  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1525  0395  21 00 00    	ld	hl,_spr_water_clear
1526  0398  36 FF       	ld	(hl),0xff
1527  039A  3A 00 00    	ld	a,(_game_type)
1528  039D  B7          	or	a, a
1529  039E  20 0E       	jr	NZ,l_game_loop_00105
1530  03A0  21 F4 01    	ld	hl,0x01f4
1531  03A3  22 00 00    	ld	(_game_time_flipped),hl
1532  03A6  21 D0 07    	ld	hl,0x07d0
1533  03A9  22 00 00    	ld	(_game_time_fireball_start),hl
1534  03AC  18 0C       	jr	l_game_loop_00106
1535  03AE              l_game_loop_00105:
1536  03AE  21 FA 00    	ld	hl,0x00fa
1537  03B1  22 00 00    	ld	(_game_time_flipped),hl
1538  03B4  21 F4 01    	ld	hl,0x01f4
1539  03B7  22 00 00    	ld	(_game_time_fireball_start),hl
1540  03BA              l_game_loop_00106:
1541  03BA  21 00 00    	ld	hl,_game_over
1542  03BD  36 00       	ld	(hl),0x00
1543  03BF  21 00 00    	ld	hl,_game_pow
1544  03C2  36 03       	ld	(hl),0x03
1545  03C4  3A 00 00    	ld	a,(_game_start_phase)
1546  03C7  32 00 00    	ld	(_phase_curr),a
1547  03CA  CD 72 01    	call	_game_phase_init
1548  03CD  21 00 00    	ld	hl,_sprite_lin_inc_mul
1549  03D0  36 00       	ld	(hl),0x00
1550  03D2  21 00 00    	ld	hl,_dirs
1551  03D5  36 00       	ld	(hl),0x00
1552  03D7  CD 39 0F    	call	_game_joystick_set
1553  03DA              l_game_loop_00136:
1554  03DA  3A 00 00    	ld	a,(_game_over)
1555  03DD  B7          	or	a, a
1556  03DE  C2 0E 05    	jp	NZ,l_game_loop_00138
1557  03E1  CD 00 00    	call	_spr_mapfix
1558  03E4  3A 00 00    	ld	a,(_loop_count)
1559  03E7  E6 03       	and	a,0x03
1560  03E9  20 12       	jr	NZ,l_game_loop_00108
1561  03EB  CD 00 00    	call	_spr_draw_pow
1562  03EE  AF          	xor	a, a
1563  03EF  F5          	push	af
1564  03F0  33          	inc	sp
1565  03F1  CD 70 05    	call	_game_score_osd
1566  03F4  33          	inc	sp
1567  03F5  3E 01       	ld	a,0x01
1568  03F7  F5          	push	af
1569  03F8  33          	inc	sp
1570  03F9  CD 70 05    	call	_game_score_osd
1571  03FC  33          	inc	sp
1572  03FD              l_game_loop_00108:
1573  03FD  21 00 18    	ld	hl,0x1800
1574  0400  E5          	push	hl
1575  0401  21 06 00    	ld	hl,0x0006
1576  0404  E5          	push	hl
1577  0405  3E 07       	ld	a,0x07
1578  0407  F5          	push	af
1579  0408  33          	inc	sp
1580  0409  CD 00 00    	call	_player_set
1581  040C  F1          	pop	af
1582  040D  F1          	pop	af
1583  040E  33          	inc	sp
1584  040F  CD 00 00    	call	_player_turn
1585  0412  21 18 00    	ld	hl,0x0018
1586  0415  E5          	push	hl
1587  0416  21 07 01    	ld	hl,0x0107
1588  0419  E5          	push	hl
1589  041A  3E 06       	ld	a,0x06
1590  041C  F5          	push	af
1591  041D  33          	inc	sp
1592  041E  CD 00 00    	call	_player_set
1593  0421  F1          	pop	af
1594  0422  F1          	pop	af
1595  0423  33          	inc	sp
1596  0424  CD 00 00    	call	_player_turn
1597  0427  CD 00 00    	call	_enemy_turn
1598  042A  3A 00 00    	ld	a,(_game_bonus)
1599  042D  B7          	or	a, a
1600  042E  28 16       	jr	Z,l_game_loop_00113
1601  0430  CD 37 06    	call	_game_bonus_clock
1602  0433  3A 00 00    	ld	a,(_phase_left)
1603  0436  B7          	or	a, a
1604  0437  28 0D       	jr	Z,l_game_loop_00113
1605  0439  CD 00 00    	call	_ay_is_playing
1606  043C  7D          	ld	a,l
1607  043D  B7          	or	a, a
1608  043E  20 06       	jr	NZ,l_game_loop_00113
1609  0440  21 00 00    	ld	hl,_ay_effect_19
1610  0443  CD 00 00    	call	_ay_fx_play
1611  0446              l_game_loop_00113:
1612  0446  3A 00 00    	ld	a,(_game_osd)
1613  0449  B7          	or	a, a
1614  044A  28 53       	jr	Z,l_game_loop_00121
1615  044C  21 05 00    	ld	hl,0x0005
1616  044F  E5          	push	hl
1617  0450  2A 00 00    	ld	hl,(_osd_update_time)
1618  0453  E5          	push	hl
1619  0454  CD 11 1A    	call	_game_check_time
1620  0457  F1          	pop	af
1621  0458  F1          	pop	af
1622  0459  7D          	ld	a,l
1623  045A  B7          	or	a, a
1624  045B  28 1B       	jr	Z,l_game_loop_00115
1625  045D  2A 00 00    	ld	hl,(_curr_time)
1626  0460  22 00 00    	ld	(_osd_update_time),hl
1627  0463  2E 0C       	ld	l,0x0c
1628  0465  CD B7 02    	call	_game_phase_print
1629  0468  21 17 68    	ld	hl,0x6817
1630  046B  E5          	push	hl
1631  046C  3E 0B       	ld	a,0x0b
1632  046E  F5          	push	af
1633  046F  33          	inc	sp
1634  0470  CD 13 0D    	call	_game_paint_attrib_lin_h
1635  0473  F1          	pop	af
1636  0474  33          	inc	sp
1637  0475  CD 63 19    	call	_game_rotate_attrib
1638  0478              l_game_loop_00115:
1639  0478  21 96 00    	ld	hl,0x0096
1640  047B  E5          	push	hl
1641  047C  2A 00 00    	ld	hl,(_osd_show_time)
1642  047F  E5          	push	hl
1643  0480  CD 11 1A    	call	_game_check_time
1644  0483  F1          	pop	af
1645  0484  F1          	pop	af
1646  0485  7D          	ld	a,l
1647  0486  B7          	or	a, a
1648  0487  28 16       	jr	Z,l_game_loop_00121
1649  0489  21 0C 20    	ld	hl,0x200c
1650  048C  E5          	push	hl
1651  048D  CD 00 00    	call	_game_fill_row
1652  0490  21 00 00    	ld	hl,_game_osd
1653  0493  36 00       	ld	(hl),0x00
1654  0495  21 00 00    	ld	hl,_game_bonus
1655  0498  7E          	ld	a,(hl)
1656  0499  B7          	or	a, a
1657  049A  20 03       	jr	NZ,l_game_loop_00121
1658  049C  CD 56 05    	call	_game_print_phase
1659  049F              l_game_loop_00121:
1660  049F  CD 00 00    	call	_spr_water_splash_clear
1661  04A2  21 64 00    	ld	hl,0x0064
1662  04A5  E5          	push	hl
1663  04A6  2A 00 00    	ld	hl,(_frame_time)
1664  04A9  E5          	push	hl
1665  04AA  CD 11 1A    	call	_game_check_time
1666  04AD  F1          	pop	af
1667  04AE  F1          	pop	af
1668  04AF  7D          	ld	a,l
1669  04B0  B7          	or	a, a
1670  04B1  28 4F       	jr	Z,l_game_loop_00135
1671  04B3  2A 00 00    	ld	hl,(_curr_time)
1672  04B6  22 00 00    	ld	(_frame_time),hl
1673  04B9  3A 00 00    	ld	a,(_game_bonus)
1674  04BC  B7          	or	a,a
1675  04BD  20 03       	jr	NZ,l_game_loop_00123
1676  04BF  CD D2 08    	call	_game_enemy_add
1677  04C2              l_game_loop_00123:
1678  04C2  3A 00 00    	ld	a,(_phase_end)
1679  04C5  3D          	dec	a
1680  04C6  20 3A       	jr	NZ,l_game_loop_00135
1681  04C8  3A 00 00    	ld	a,(_game_type)
1682  04CB  D6 02       	sub	a,0x02
1683  04CD  28 33       	jr	Z,l_game_loop_00135
1684  04CF  CD 00 00    	call	_ay_is_playing
1685  04D2  7D          	ld	a, l
1686  04D3  D6 02       	sub	a,0x02
1687  04D5  30 03       	jr	NC,l_game_loop_00125
1688  04D7  CD 00 00    	call	_ay_reset
1689  04DA              l_game_loop_00125:
1690  04DA  CD 00 00    	call	_spr_kill_all
1691  04DD  3A 00 00    	ld	a,(_game_bonus)
1692  04E0  B7          	or	a, a
1693  04E1  28 03       	jr	Z,l_game_loop_00127
1694  04E3  CD AE 06    	call	_game_bonus_summary
1695  04E6              l_game_loop_00127:
1696  04E6  21 00 00    	ld	hl,_phase_curr
1697  04E9  34          	inc	(hl)
1698  04EA  3E 1F       	ld	a,0x1f
1699  04EC  96          	sub	a, (hl)
1700  04ED  30 0A       	jr	NC,l_game_loop_00129
1701  04EF  CD 53 12    	call	_game_end
1702  04F2  21 00 00    	ld	hl,_game_over
1703  04F5  36 01       	ld	(hl),0x01
1704  04F7  18 09       	jr	l_game_loop_00135
1705  04F9              l_game_loop_00129:
1706  04F9  21 90 01    	ld	hl,0x0190
1707  04FC  CD 00 00    	call	_z80_delay_ms_fastcall
1708  04FF  CD 72 01    	call	_game_phase_init
1709  0502              l_game_loop_00135:
1710  0502  21 00 00    	ld	hl,_loop_count
1711  0505  34          	inc	(hl)
1712  0506  C2 DA 03    	jp	NZ,l_game_loop_00136
1713  0509  23          	inc	hl
1714  050A  34          	inc	(hl)
1715  050B  C3 DA 03    	jp	l_game_loop_00136
1716  050E              l_game_loop_00138:
1717  050E  CD 00 00    	call	_spr_kill_all
1718  0511  21 90 01    	ld	hl,0x0190
1719  0514  CD 00 00    	call	_z80_delay_ms_fastcall
1720  0517  76          	halt
1721  0518  CD 00 00    	call	_spr_draw_background
1722  051B  CD AC 02    	call	_game_print_header
1723  051E  CD 1C 00    	call	_game_print_footer
1724  0521  CD 56 05    	call	_game_print_phase
1725  0524  21 81 00    	ld	hl,___str_17
1726  0527  E5          	push	hl
1727  0528  21 08 0B    	ld	hl,0x0b08
1728  052B  E5          	push	hl
1729  052C  CD 00 00    	call	_zx_print_str
1730  052F  21 C8 00    	ld	hl,0x00c8
1731  0532  E5          	push	hl
1732  0533  21 0B 15    	ld	hl,0x150b
1733  0536  E5          	push	hl
1734  0537  3E 08       	ld	a,0x08
1735  0539  F5          	push	af
1736  053A  33          	inc	sp
1737  053B  CD 7F 19    	call	_game_colour_message
1738  053E  F1          	pop	af
1739  053F  F1          	pop	af
1740  0540  33          	inc	sp
1741  0541  CD 00 00    	call	_spr_draw_clear
1742  0544  CD F7 14    	call	_game_hall_enter
1743  0547  CD 00 00    	call	_ay_reset
1744  054A  21 00 00    	ld	hl,_game_menu_sel
1745  054D  36 00       	ld	(hl),0x00
1746  054F  CD 31 10    	call	_game_menu_paint
1747  0552  CD 2C 0F    	call	_game_joystick_set_menu
1748  0555  C9          	ret
1749  0556              	SECTION rodata_compiler
1750  0038              ___str_14:
1751  0038  20 20 20 20 20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 20 20 20 20 
                        	DEFM "       THANKS ALVIN       "
1752  0052  00          	DEFB 0x00
1753  0053              	SECTION rodata_compiler
1754  0053              ___str_15:
1755  0053  20 20 20 20 20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 20 20 20 20 
                        	DEFM "        AND  EINAR        "
1756  006D  00          	DEFB 0x00
1757  006E              	SECTION rodata_compiler
1758  006E              ___str_16:
1759  006E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1760  0080  00          	DEFB 0x00
1761  0081              	SECTION rodata_compiler
1762  0081              ___str_17:
1763  0081  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1764  008C  00          	DEFB 0x00
1765  008D              	SECTION code_compiler
1766  0556              ;	---------------------------------
1767  0556              ; Function game_print_phase
1768  0556              ; ---------------------------------
1769  0556              _game_print_phase:
1770  0556  21 8D 00    	ld	hl,___str_18
1771  0559  E5          	push	hl
1772  055A  21 17 0B    	ld	hl,0x0b17
1773  055D  E5          	push	hl
1774  055E  CD 00 00    	call	_zx_print_str
1775  0561  21 00 00    	ld	hl,_phase_curr
1776  0564  46          	ld	b,(hl)
1777  0565  04          	inc	b
1778  0566  C5          	push	bc
1779  0567  33          	inc	sp
1780  0568  21 17 12    	ld	hl,0x1217
1781  056B  E5          	push	hl
1782  056C  CD 00 00    	call	_zx_print_chr
1783  056F  C9          	ret
1784  0570              	SECTION rodata_compiler
1785  008D              ___str_18:
1786  008D  50 48 41 53 45 
                        	DEFM "PHASE"
1787  0092  00          	DEFB 0x00
1788  0093              	SECTION code_compiler
1789  0570              ;	---------------------------------
1790  0570              ; Function game_score_osd
1791  0570              ; ---------------------------------
1792  0570              _game_score_osd:
1793  0570  CD 00 00    	call	___sdcc_enter_ix
1794  0573  F5          	push	af
1795  0574  F5          	push	af
1796  0575  3B          	dec	sp
1797  0576  11 00 00    	ld	de,_score_osd_col
1798  0579  DD 6E 04    	ld	l,(ix+4)
1799  057C  26 00       	ld	h,0x00
1800  057E  19          	add	hl,de
1801  057F  DD 75 FE    	ld	(ix-2),l
1802  0582  DD 74 FF    	ld	(ix-1),h
1803  0585  7E          	ld	a,(hl)
1804  0586  47          	ld	b,a
1805  0587  3C          	inc	a
1806  0588  CA 32 06    	jp	Z,l_game_score_osd_00108
1807  058B  11 00 00    	ld	de,_score_osd_lin
1808  058E  DD 6E 04    	ld	l,(ix+4)
1809  0591  26 00       	ld	h,0x00
1810  0593  19          	add	hl,de
1811  0594  DD 75 FC    	ld	(ix-4),l
1812  0597  DD 74 FD    	ld	(ix-3),h
1813  059A  7E          	ld	a,(hl)
1814  059B  C6 FE       	add	a,0xfe
1815  059D  32 00 00    	ld	(_tmp),a
1816  05A0  4F          	ld	c,a
1817  05A1  C5          	push	bc
1818  05A2  CD 00 00    	call	_game_calc_index
1819  05A5  F1          	pop	af
1820  05A6  22 00 00    	ld	(_index1),hl
1821  05A9  01 00 00    	ld	bc,_lvl_1
1822  05AC  09          	add	hl,bc
1823  05AD  5E          	ld	e, (hl)
1824  05AE  21 01 00    	ld	hl,_index1 + 1
1825  05B1  DD 4E 04    	ld	c,(ix+4)
1826  05B4  06 00       	ld	b,0x00
1827  05B6  CB 21       	sla	c
1828  05B8  CB 10       	rl	b
1829  05BA  7B          	ld	a,e
1830  05BB  D6 A9       	sub	a,0xa9
1831  05BD  20 41       	jr	NZ,l_game_score_osd_00102
1832  05BF  56          	ld	d,(hl)
1833  05C0  2B          	dec	hl
1834  05C1  5E          	ld	e,(hl)
1835  05C2  13          	inc	de
1836  05C3  21 00 00    	ld	hl,_lvl_1
1837  05C6  19          	add	hl,de
1838  05C7  7E          	ld	a,(hl)
1839  05C8  D6 A9       	sub	a,0xa9
1840  05CA  20 34       	jr	NZ,l_game_score_osd_00102
1841  05CC  76          	halt
1842  05CD  DD 6E FE    	ld	l,(ix-2)
1843  05D0  DD 66 FF    	ld	h,(ix-1)
1844  05D3  7E          	ld	a,(hl)
1845  05D4  DD 77 FB    	ld	(ix-5),a
1846  05D7  DD 6E FC    	ld	l,(ix-4)
1847  05DA  DD 66 FD    	ld	h,(ix-3)
1848  05DD  5E          	ld	e,(hl)
1849  05DE  21 00 00    	ld	hl,_score_osd_tile
1850  05E1  09          	add	hl,bc
1851  05E2  56          	ld	d,(hl)
1852  05E3  C5          	push	bc
1853  05E4  DD 7E FB    	ld	a,(ix-5)
1854  05E7  F5          	push	af
1855  05E8  33          	inc	sp
1856  05E9  7B          	ld	a,e
1857  05EA  5A          	ld	e,d
1858  05EB  57          	ld	d,a
1859  05EC  D5          	push	de
1860  05ED  CD 00 00    	call	_NIRVANAP_drawT_callee
1861  05F0  C1          	pop	bc
1862  05F1  3A 00 00    	ld	a,(_index_player)
1863  05F4  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1864  05F6  5F          	ld	e,a
1865  05F7  3E 00       	ld	a,+((_score_osd_lin) / 256)
1866  05F9  CE 00       	adc	a,0x00
1867  05FB  57          	ld	d,a
1868  05FC  3A 00 00    	ld	a,(_tmp)
1869  05FF  12          	ld	(de),a
1870  0600              l_game_score_osd_00102:
1871  0600  21 00 00    	ld	hl,_score_osd_update_time
1872  0603  09          	add	hl,bc
1873  0604  4E          	ld	c,(hl)
1874  0605  23          	inc	hl
1875  0606  46          	ld	b,(hl)
1876  0607  21 3C 00    	ld	hl,0x003c
1877  060A  E5          	push	hl
1878  060B  C5          	push	bc
1879  060C  CD 11 1A    	call	_game_check_time
1880  060F  F1          	pop	af
1881  0610  F1          	pop	af
1882  0611  7D          	ld	a,l
1883  0612  B7          	or	a, a
1884  0613  28 1D       	jr	Z,l_game_score_osd_00108
1885  0615  DD 6E FE    	ld	l,(ix-2)
1886  0618  DD 66 FF    	ld	h,(ix-1)
1887  061B  46          	ld	b,(hl)
1888  061C  DD 6E FC    	ld	l,(ix-4)
1889  061F  DD 66 FD    	ld	h,(ix-3)
1890  0622  4E          	ld	c, (hl)
1891  0623  C5          	push	bc
1892  0624  AF          	xor	a, a
1893  0625  F5          	push	af
1894  0626  33          	inc	sp
1895  0627  CD 00 00    	call	_NIRVANAP_fillT_callee
1896  062A  DD 6E FE    	ld	l,(ix-2)
1897  062D  DD 66 FF    	ld	h,(ix-1)
1898  0630  36 FF       	ld	(hl),0xff
1899  0632              l_game_score_osd_00108:
1900  0632  DD F9       	ld	sp, ix
1901  0634  DD E1       	pop	ix
1902  0636  C9          	ret
1903  0637              	SECTION code_compiler
1904  0637              ;	---------------------------------
1905  0637              ; Function game_bonus_clock
1906  0637              ; ---------------------------------
1907  0637              _game_bonus_clock:
1908  0637  2A 00 00    	ld	hl,(_curr_time)
1909  063A  29          	add	hl,hl
1910  063B  3E 40       	ld	a,0x40
1911  063D  95          	sub	a,l
1912  063E  44          	ld	b,h
1913  063F  21 00 00    	ld	hl,_tmp_ui
1914  0642  77          	ld	(hl),a
1915  0643  3E 06       	ld	a,0x06
1916  0645  98          	sbc	a, b
1917  0646  23          	inc	hl
1918  0647  77          	ld	(hl),a
1919  0648  3E 40       	ld	a,0x40
1920  064A  2B          	dec	hl
1921  064B  BE          	cp	a, (hl)
1922  064C  3E 06       	ld	a,0x06
1923  064E  23          	inc	hl
1924  064F  9E          	sbc	a, (hl)
1925  0650  30 25       	jr	NC,l_game_bonus_clock_00108
1926  0652  2B          	dec	hl
1927  0653  AF          	xor	a, a
1928  0654  77          	ld	(hl), a
1929  0655  23          	inc	hl
1930  0656  77          	ld	(hl), a
1931  0657  3A 00 00    	ld	a,(_phase_left)
1932  065A  B7          	or	a, a
1933  065B  28 0B       	jr	Z,l_game_bonus_clock_00102
1934  065D  21 00 00    	ld	hl,0x0000
1935  0660  E5          	push	hl
1936  0661  21 02 0E    	ld	hl,0x0e02
1937  0664  E5          	push	hl
1938  0665  CD 00 00    	call	_zx_print_bonus_time
1939  0668              l_game_bonus_clock_00102:
1940  0668  21 00 00    	ld	hl,_phase_left
1941  066B  36 00       	ld	(hl),0x00
1942  066D  21 00 00    	ld	hl,_phase_end
1943  0670  36 01       	ld	(hl),0x01
1944  0672  CD 00 00    	call	_ay_reset
1945  0675  18 36       	jr	l_game_bonus_clock_00110
1946  0677              l_game_bonus_clock_00108:
1947  0677  3A 00 00    	ld	a,(_phase_left)
1948  067A  B7          	or	a, a
1949  067B  C8          	ret	Z
1950  067C  2A 00 00    	ld	hl,(_tmp_ui)
1951  067F  E5          	push	hl
1952  0680  21 02 0E    	ld	hl,0x0e02
1953  0683  E5          	push	hl
1954  0684  CD 00 00    	call	_zx_print_bonus_time
1955  0687  21 05 00    	ld	hl,0x0005
1956  068A  E5          	push	hl
1957  068B  2A 00 00    	ld	hl,(_frame_time)
1958  068E  E5          	push	hl
1959  068F  CD 11 1A    	call	_game_check_time
1960  0692  F1          	pop	af
1961  0693  F1          	pop	af
1962  0694  7D          	ld	a,l
1963  0695  B7          	or	a, a
1964  0696  C8          	ret	Z
1965  0697  2A 00 00    	ld	hl,(_curr_time)
1966  069A  22 00 00    	ld	(_frame_time),hl
1967  069D  21 14 18    	ld	hl,0x1814
1968  06A0  E5          	push	hl
1969  06A1  3E 0E       	ld	a,0x0e
1970  06A3  F5          	push	af
1971  06A4  33          	inc	sp
1972  06A5  CD 13 0D    	call	_game_paint_attrib_lin_h
1973  06A8  F1          	pop	af
1974  06A9  33          	inc	sp
1975  06AA  CD 63 19    	call	_game_rotate_attrib
1976  06AD              l_game_bonus_clock_00110:
1977  06AD  C9          	ret
1978  06AE              	SECTION code_compiler
1979  06AE              ;	---------------------------------
1980  06AE              ; Function game_bonus_summary
1981  06AE              ; ---------------------------------
1982  06AE              _game_bonus_summary:
1983  06AE  CD 00 00    	call	_spr_kill_all
1984  06B1  CD 00 00    	call	_spr_draw_clear
1985  06B4  21 00 00    	ld	hl,0x0000
1986  06B7  CD 00 00    	call	_zx_cls_fastcall
1987  06BA  CD 98 00    	call	_game_phase_print_score_back
1988  06BD  CD 97 0C    	call	_game_print_score
1989  06C0  3A 00 00    	ld	a,(_game_lives)
1990  06C3  B7          	or	a, a
1991  06C4  28 05       	jr	Z,l_game_bonus_summary_00102
1992  06C6  2E 00       	ld	l,0x00
1993  06C8  CD 63 07    	call	_game_bonus_summary_player
1994  06CB              l_game_bonus_summary_00102:
1995  06CB  3A 01 00    	ld	a, (_game_lives + 1)
1996  06CE  B7          	or	a, a
1997  06CF  28 05       	jr	Z,l_game_bonus_summary_00104
1998  06D1  2E 01       	ld	l,0x01
1999  06D3  CD 63 07    	call	_game_bonus_summary_player
2000  06D6              l_game_bonus_summary_00104:
2001  06D6  21 1F 98    	ld	hl,0x981f
2002  06D9  E5          	push	hl
2003  06DA  AF          	xor	a, a
2004  06DB  F5          	push	af
2005  06DC  33          	inc	sp
2006  06DD  CD EC 0C    	call	_game_paint_attrib_lin
2007  06E0  F1          	pop	af
2008  06E1  33          	inc	sp
2009  06E2  3A 00 00    	ld	a,(_phase_bonus_total)
2010  06E5  D6 06       	sub	a,0x06
2011  06E7  20 68       	jr	NZ,l_game_bonus_summary_00109
2012  06E9  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2013  06EC  B7          	or	a, a
2014  06ED  20 62       	jr	NZ,l_game_bonus_summary_00109
2015  06EF  CD 00 00    	call	_sound_jump
2016  06F2  3A 00 00    	ld	a,(_phase_curr)
2017  06F5  D6 03       	sub	a,0x03
2018  06F7  30 23       	jr	NC,l_game_bonus_summary_00106
2019  06F9  21 93 00    	ld	hl,___str_19
2020  06FC  E5          	push	hl
2021  06FD  21 12 06    	ld	hl,0x0612
2022  0700  E5          	push	hl
2023  0701  CD 00 00    	call	_zx_print_str
2024  0704  21 00 00    	ld	hl,_index_player
2025  0707  36 00       	ld	(hl),0x00
2026  0709  21 2C 01    	ld	hl,0x012c
2027  070C  CD 00 00    	call	_player_score_add
2028  070F  21 00 00    	ld	hl,_index_player
2029  0712  36 01       	ld	(hl),0x01
2030  0714  21 2C 01    	ld	hl,0x012c
2031  0717  CD 00 00    	call	_player_score_add
2032  071A  18 21       	jr	l_game_bonus_summary_00107
2033  071C              l_game_bonus_summary_00106:
2034  071C  21 A6 00    	ld	hl,___str_20
2035  071F  E5          	push	hl
2036  0720  21 12 06    	ld	hl,0x0612
2037  0723  E5          	push	hl
2038  0724  CD 00 00    	call	_zx_print_str
2039  0727  21 00 00    	ld	hl,_index_player
2040  072A  36 00       	ld	(hl),0x00
2041  072C  21 F4 01    	ld	hl,0x01f4
2042  072F  CD 00 00    	call	_player_score_add
2043  0732  21 00 00    	ld	hl,_index_player
2044  0735  36 01       	ld	(hl),0x01
2045  0737  21 F4 01    	ld	hl,0x01f4
2046  073A  CD 00 00    	call	_player_score_add
2047  073D              l_game_bonus_summary_00107:
2048  073D  21 C8 00    	ld	hl,0x00c8
2049  0740  E5          	push	hl
2050  0741  21 10 1A    	ld	hl,0x1a10
2051  0744  E5          	push	hl
2052  0745  3E 12       	ld	a,0x12
2053  0747  F5          	push	af
2054  0748  33          	inc	sp
2055  0749  CD 7F 19    	call	_game_colour_message
2056  074C  F1          	pop	af
2057  074D  F1          	pop	af
2058  074E  33          	inc	sp
2059  074F  18 11       	jr	l_game_bonus_summary_00112
2060  0751              l_game_bonus_summary_00109:
2061  0751  21 B9 00    	ld	hl,___str_21
2062  0754  E5          	push	hl
2063  0755  21 12 0C    	ld	hl,0x0c12
2064  0758  E5          	push	hl
2065  0759  CD 00 00    	call	_zx_print_str
2066  075C  21 E8 03    	ld	hl,0x03e8
2067  075F  CD 00 00    	call	_z80_delay_ms_fastcall
2068  0762              l_game_bonus_summary_00112:
2069  0762  C9          	ret
2070  0763              	SECTION rodata_compiler
2071  0093              ___str_19:
2072  0093  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2073  00A5  00          	DEFB 0x00
2074  00A6              	SECTION rodata_compiler
2075  00A6              ___str_20:
2076  00A6  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2077  00B8  00          	DEFB 0x00
2078  00B9              	SECTION rodata_compiler
2079  00B9              ___str_21:
2080  00B9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2081  00C1  00          	DEFB 0x00
2082  00C2              	SECTION code_compiler
2083  0763              ;	---------------------------------
2084  0763              ; Function game_bonus_summary_player
2085  0763              ; ---------------------------------
2086  0763              _game_bonus_summary_player:
2087  0763  CD 00 00    	call	___sdcc_enter_ix
2088  0766  F5          	push	af
2089  0767  3B          	dec	sp
2090  0768  DD 75 FF    	ld	(ix-1),l
2091  076B  76          	halt
2092  076C  DD 7E FF    	ld	a,(ix-1)
2093  076F  B7          	or	a, a
2094  0770  20 2C       	jr	NZ,l_game_bonus_summary_player_00102
2095  0772  21 00 00    	ld	hl,_s_lin1
2096  0775  36 06       	ld	(hl),0x06
2097  0777  21 C2 00    	ld	hl,___str_22
2098  077A  E5          	push	hl
2099  077B  21 06 07    	ld	hl,0x0706
2100  077E  E5          	push	hl
2101  077F  CD 00 00    	call	_zx_print_str
2102  0782  3A 00 00    	ld	a,(_s_lin1)
2103  0785  07          	rlca
2104  0786  07          	rlca
2105  0787  07          	rlca
2106  0788  E6 F8       	and	a,0xf8
2107  078A  C6 04       	add	a,0x02+0x02
2108  078C  4F          	ld	c, a
2109  078D  06 04       	ld	b,0x04
2110  078F  C5          	push	bc
2111  0790  3E 03       	ld	a,0x03
2112  0792  F5          	push	af
2113  0793  33          	inc	sp
2114  0794  CD 00 00    	call	_NIRVANAP_drawT_callee
2115  0797  21 00 00    	ld	hl,_index_player
2116  079A  36 00       	ld	(hl),0x00
2117  079C  18 2A       	jr	l_game_bonus_summary_player_00103
2118  079E              l_game_bonus_summary_player_00102:
2119  079E  21 00 00    	ld	hl,_s_lin1
2120  07A1  36 0C       	ld	(hl),0x0c
2121  07A3  21 C9 00    	ld	hl,___str_23
2122  07A6  E5          	push	hl
2123  07A7  21 0C 07    	ld	hl,0x070c
2124  07AA  E5          	push	hl
2125  07AB  CD 00 00    	call	_zx_print_str
2126  07AE  3A 00 00    	ld	a,(_s_lin1)
2127  07B1  07          	rlca
2128  07B2  07          	rlca
2129  07B3  07          	rlca
2130  07B4  E6 F8       	and	a,0xf8
2131  07B6  C6 04       	add	a,0x02+0x02
2132  07B8  4F          	ld	c, a
2133  07B9  06 04       	ld	b,0x04
2134  07BB  C5          	push	bc
2135  07BC  3E 1B       	ld	a,0x1b
2136  07BE  F5          	push	af
2137  07BF  33          	inc	sp
2138  07C0  CD 00 00    	call	_NIRVANAP_drawT_callee
2139  07C3  21 00 00    	ld	hl,_index_player
2140  07C6  36 01       	ld	(hl),0x01
2141  07C8              l_game_bonus_summary_player_00103:
2142  07C8  3A 00 00    	ld	a,(_s_lin1)
2143  07CB  07          	rlca
2144  07CC  07          	rlca
2145  07CD  07          	rlca
2146  07CE  E6 F8       	and	a,0xf8
2147  07D0  C6 08       	add	a,0x08
2148  07D2  F5          	push	af
2149  07D3  33          	inc	sp
2150  07D4  21 07 1F    	ld	hl,0x1f07
2151  07D7  E5          	push	hl
2152  07D8  CD EC 0C    	call	_game_paint_attrib_lin
2153  07DB  F1          	pop	af
2154  07DC  33          	inc	sp
2155  07DD  21 00 00    	ld	hl,_tmp_uc
2156  07E0  36 00       	ld	(hl),0x00
2157  07E2  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2158  07E4  DD 86 FF    	add	a,(ix-1)
2159  07E7  DD 77 FD    	ld	(ix-3),a
2160  07EA  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2161  07EC  CE 00       	adc	a,0x00
2162  07EE  DD 77 FE    	ld	(ix-2),a
2163  07F1              l_game_bonus_summary_player_00107:
2164  07F1  E1          	pop	hl
2165  07F2  4E          	ld	c,(hl)
2166  07F3  3A 00 00    	ld	a,(_tmp_uc)
2167  07F6  E5          	push	hl
2168  07F7  91          	sub	a, c
2169  07F8  30 53       	jr	NC,l_game_bonus_summary_player_00109
2170  07FA  3A 00 00    	ld	a,(_s_lin1)
2171  07FD  07          	rlca
2172  07FE  07          	rlca
2173  07FF  07          	rlca
2174  0800  E6 F8       	and	a,0xf8
2175  0802  4F          	ld	c,a
2176  0803  3A 00 00    	ld	a,(_tmp_uc)
2177  0806  D6 03       	sub	a,0x03
2178  0808  30 08       	jr	NC,l_game_bonus_summary_player_00105
2179  080A  79          	ld	a,c
2180  080B  C6 F8       	add	a,0xf8
2181  080D  32 00 00    	ld	(_s_lin0),a
2182  0810  18 06       	jr	l_game_bonus_summary_player_00106
2183  0812              l_game_bonus_summary_player_00105:
2184  0812  79          	ld	a,c
2185  0813  C6 08       	add	a,0x08
2186  0815  32 00 00    	ld	(_s_lin0),a
2187  0818              l_game_bonus_summary_player_00106:
2188  0818  76          	halt
2189  0819  2A 00 00    	ld	hl,(_tmp_uc)
2190  081C  26 03       	ld	h,0x03
2191  081E  E5          	push	hl
2192  081F  CD 00 00    	call	__moduchar_callee
2193  0822  7D          	ld	a,l
2194  0823  87          	add	a, a
2195  0824  C6 0E       	add	a,0x0e
2196  0826  F5          	push	af
2197  0827  33          	inc	sp
2198  0828  3A 00 00    	ld	a,(_s_lin0)
2199  082B  57          	ld	d,a
2200  082C  1E B9       	ld	e,0xb9
2201  082E  D5          	push	de
2202  082F  CD 00 00    	call	_NIRVANAP_drawT_callee
2203  0832  21 50 00    	ld	hl,0x0050
2204  0835  CD 00 00    	call	_player_score_add
2205  0838  21 00 00    	ld	hl,_tmp_uc
2206  083B  34          	inc	(hl)
2207  083C  21 00 00    	ld	hl,_ay_effect_09
2208  083F  CD 00 00    	call	_ay_fx_play
2209  0842  CD 00 00    	call	_sound_coin
2210  0845  21 32 00    	ld	hl,0x0032
2211  0848  CD 00 00    	call	_z80_delay_ms_fastcall
2212  084B  18 A4       	jr	l_game_bonus_summary_player_00107
2213  084D              l_game_bonus_summary_player_00109:
2214  084D  21 CF 00    	ld	hl,___str_24
2215  0850  E5          	push	hl
2216  0851  2A 00 00    	ld	hl,(_s_lin1)
2217  0854  26 16       	ld	h,0x16
2218  0856  E5          	push	hl
2219  0857  CD 00 00    	call	_zx_print_str
2220  085A  DD F9       	ld	sp, ix
2221  085C  DD E1       	pop	ix
2222  085E  C9          	ret
2223  085F              	SECTION rodata_compiler
2224  00C2              ___str_22:
2225  00C2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2226  00C8  00          	DEFB 0x00
2227  00C9              	SECTION rodata_compiler
2228  00C9              ___str_23:
2229  00C9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2230  00CE  00          	DEFB 0x00
2231  00CF              	SECTION rodata_compiler
2232  00CF              ___str_24:
2233  00CF  58 20 38 30 30 
                        	DEFM "X 800"
2234  00D4  00          	DEFB 0x00
2235  00D5              	SECTION code_compiler
2236  085F              ;	---------------------------------
2237  085F              ; Function game_check_maze
2238  085F              ; ---------------------------------
2239  085F              _game_check_maze:
2240  085F  4D          	ld	c,l
2241  0860  44          	ld	b,h
2242  0861  21 00 00    	ld	hl,_lvl_1
2243  0864  09          	add	hl,bc
2244  0865  5E          	ld	e,(hl)
2245  0866  3E 8C       	ld	a,0x8c
2246  0868  93          	sub	a, e
2247  0869  30 0B       	jr	NC,l_game_check_maze_00103
2248  086B  03          	inc	bc
2249  086C  21 00 00    	ld	hl,_lvl_1
2250  086F  09          	add	hl,bc
2251  0870  4E          	ld	c,(hl)
2252  0871  3E 8C       	ld	a,0x8c
2253  0873  91          	sub	a, c
2254  0874  38 04       	jr	C,l_game_check_maze_00104
2255  0876              l_game_check_maze_00103:
2256  0876  2E 00       	ld	l,0x00
2257  0878  18 02       	jr	l_game_check_maze_00105
2258  087A              l_game_check_maze_00104:
2259  087A  2E 01       	ld	l,0x01
2260  087C              l_game_check_maze_00105:
2261  087C  C9          	ret
2262  087D              	SECTION code_compiler
2263  087D              ;	---------------------------------
2264  087D              ; Function game_check_floor
2265  087D              ; ---------------------------------
2266  087D              _game_check_floor:
2267  087D  CD 00 00    	call	___sdcc_enter_ix
2268  0880  3B          	dec	sp
2269  0881  11 00 00    	ld	de,_lvl_1+0
2270  0884  4D          	ld	c,l
2271  0885  44          	ld	b,h
2272  0886  6B          	ld	l, e
2273  0887  62          	ld	h, d
2274  0888  09          	add	hl,bc
2275  0889  7E          	ld	a,(hl)
2276  088A  DD 77 FF    	ld	(ix-1),a
2277  088D  69          	ld	l, c
2278  088E  60          	ld	h, b
2279  088F  23          	inc	hl
2280  0890  19          	add	hl,de
2281  0891  6E          	ld	l,(hl)
2282  0892  DD 7E FF    	ld	a,(ix-1)
2283  0895  D6 11       	sub	a,0x11
2284  0897  28 05       	jr	Z,l_game_check_floor_00101
2285  0899  7D          	ld	a,l
2286  089A  D6 11       	sub	a,0x11
2287  089C  20 1E       	jr	NZ,l_game_check_floor_00102
2288  089E              l_game_check_floor_00101:
2289  089E  21 20 00    	ld	hl,0x0020
2290  08A1  09          	add	hl,bc
2291  08A2  19          	add	hl,de
2292  08A3  6E          	ld	l,(hl)
2293  08A4  3E 8C       	ld	a,0x8c
2294  08A6  95          	sub	a, l
2295  08A7  30 0B       	jr	NC,l_game_check_floor_00107
2296  08A9  21 21 00    	ld	hl,0x0021
2297  08AC  09          	add	hl,bc
2298  08AD  19          	add	hl,de
2299  08AE  4E          	ld	c,(hl)
2300  08AF  3E 8C       	ld	a,0x8c
2301  08B1  91          	sub	a, c
2302  08B2  38 04       	jr	C,l_game_check_floor_00108
2303  08B4              l_game_check_floor_00107:
2304  08B4  2E 00       	ld	l,0x00
2305  08B6  18 02       	jr	l_game_check_floor_00109
2306  08B8              l_game_check_floor_00108:
2307  08B8  2E 01       	ld	l,0x01
2308  08BA              l_game_check_floor_00109:
2309  08BA  18 12       	jr	l_game_check_floor_00105
2310  08BC              l_game_check_floor_00102:
2311  08BC  3E 8C       	ld	a,0x8c
2312  08BE  DD 96 FF    	sub	a,(ix-1)
2313  08C1  30 05       	jr	NC,l_game_check_floor_00110
2314  08C3  3E 8C       	ld	a,0x8c
2315  08C5  95          	sub	a, l
2316  08C6  38 04       	jr	C,l_game_check_floor_00111
2317  08C8              l_game_check_floor_00110:
2318  08C8  2E 00       	ld	l,0x00
2319  08CA  18 02       	jr	l_game_check_floor_00112
2320  08CC              l_game_check_floor_00111:
2321  08CC  2E 01       	ld	l,0x01
2322  08CE              l_game_check_floor_00112:
2323  08CE              l_game_check_floor_00105:
2324  08CE  33          	inc	sp
2325  08CF  DD E1       	pop	ix
2326  08D1  C9          	ret
2327  08D2              	SECTION code_compiler
2328  08D2              ;	---------------------------------
2329  08D2              ; Function game_enemy_add
2330  08D2              ; ---------------------------------
2331  08D2              _game_enemy_add:
2332  08D2  3A 00 00    	ld	a,(_game_type)
2333  08D5  D6 02       	sub	a,0x02
2334  08D7  20 05       	jr	NZ,l_game_enemy_add_00106
2335  08D9  CD 41 0A    	call	_game_enemy_rnd
2336  08DC  18 21       	jr	l_game_enemy_add_00107
2337  08DE              l_game_enemy_add_00106:
2338  08DE  3A 00 00    	ld	a,(_spr_count)
2339  08E1  D6 06       	sub	a,0x06
2340  08E3  30 1A       	jr	NC,l_game_enemy_add_00107
2341  08E5  21 64 00    	ld	hl,0x0064
2342  08E8  E5          	push	hl
2343  08E9  2A 00 00    	ld	hl,(_entry_time)
2344  08EC  E5          	push	hl
2345  08ED  CD 11 1A    	call	_game_check_time
2346  08F0  F1          	pop	af
2347  08F1  F1          	pop	af
2348  08F2  7D          	ld	a,l
2349  08F3  B7          	or	a, a
2350  08F4  28 09       	jr	Z,l_game_enemy_add_00107
2351  08F6  3A 00 00    	ld	a,(_phase_left)
2352  08F9  B7          	or	a, a
2353  08FA  28 03       	jr	Z,l_game_enemy_add_00107
2354  08FC  CD 02 09    	call	_game_enemy_quota
2355  08FF              l_game_enemy_add_00107:
2356  08FF  2E 00       	ld	l,0x00
2357  0901  C9          	ret
2358  0902              	SECTION code_compiler
2359  0902              ;	---------------------------------
2360  0902              ; Function game_enemy_quota
2361  0902              ; ---------------------------------
2362  0902              _game_enemy_quota:
2363  0902  3A 00 00    	ld	a,(_phase_left)
2364  0905  B7          	or	a, a
2365  0906  CA AD 09    	jp	Z,l_game_enemy_quota_00128
2366  0909  CD 00 00    	call	_rand
2367  090C  7D          	ld	a, l
2368  090D  E6 03       	and	a,0x03
2369  090F  32 00 00    	ld	(_tmp),a
2370  0912  3A 00 00    	ld	a,(_phase_pop)
2371  0915  B7          	or	a, a
2372  0916  28 06       	jr	Z,l_game_enemy_quota_00101
2373  0918  3A 00 00    	ld	a,(_phase_left)
2374  091B  3D          	dec	a
2375  091C  20 05       	jr	NZ,l_game_enemy_quota_00102
2376  091E              l_game_enemy_quota_00101:
2377  091E  21 00 00    	ld	hl,_tmp
2378  0921  36 00       	ld	(hl),0x00
2379  0923              l_game_enemy_quota_00102:
2380  0923  21 00 00    	ld	hl,_tmp_sc
2381  0926  36 00       	ld	(hl),0x00
2382  0928              l_game_enemy_quota_00124:
2383  0928  3A 00 00    	ld	a,(_tmp_sc)
2384  092B  EE 80       	xor	a,0x80
2385  092D  D6 83       	sub	a,0x83
2386  092F  D2 AD 09    	jp	NC,l_game_enemy_quota_00128
2387  0932  21 00 00    	ld	hl,_tmp
2388  0935  7E          	ld	a,(hl)
2389  0936  D6 03       	sub	a,0x03
2390  0938  30 73       	jr	NC,l_game_enemy_quota_00128
2391  093A  3E 00       	ld	a,+((_phase_quota) & 0xFF)
2392  093C  86          	add	a, (hl)
2393  093D  4F          	ld	c,a
2394  093E  3E 00       	ld	a,+((_phase_quota) / 256)
2395  0940  CE 00       	adc	a,0x00
2396  0942  47          	ld	b,a
2397  0943  0A          	ld	a,(bc)
2398  0944  B7          	or	a, a
2399  0945  28 54       	jr	Z,l_game_enemy_quota_00120
2400  0947  C6 FF       	add	a,0xff
2401  0949  02          	ld	(bc),a
2402  094A  3A 00 00    	ld	a,(_phase_angry)
2403  094D  B7          	or	a, a
2404  094E  28 24       	jr	Z,l_game_enemy_quota_00117
2405  0950  3A 00 00    	ld	a,(_tmp)
2406  0953  B7          	or	a, a
2407  0954  20 05       	jr	NZ,l_game_enemy_quota_00105
2408  0956  2E 03       	ld	l,0x03
2409  0958  CD 71 0A    	call	_game_enemy_add1
2410  095B              l_game_enemy_quota_00105:
2411  095B  3A 00 00    	ld	a,(_tmp)
2412  095E  3D          	dec	a
2413  095F  20 05       	jr	NZ,l_game_enemy_quota_00107
2414  0961  2E 06       	ld	l,0x06
2415  0963  CD 71 0A    	call	_game_enemy_add1
2416  0966              l_game_enemy_quota_00107:
2417  0966  3A 00 00    	ld	a,(_tmp)
2418  0969  D6 02       	sub	a,0x02
2419  096B  20 29       	jr	NZ,l_game_enemy_quota_00118
2420  096D  2E 09       	ld	l,0x09
2421  096F  CD 71 0A    	call	_game_enemy_add1
2422  0972  18 22       	jr	l_game_enemy_quota_00118
2423  0974              l_game_enemy_quota_00117:
2424  0974  3A 00 00    	ld	a,(_tmp)
2425  0977  B7          	or	a, a
2426  0978  20 05       	jr	NZ,l_game_enemy_quota_00111
2427  097A  2E 01       	ld	l,0x01
2428  097C  CD 71 0A    	call	_game_enemy_add1
2429  097F              l_game_enemy_quota_00111:
2430  097F  3A 00 00    	ld	a,(_tmp)
2431  0982  3D          	dec	a
2432  0983  20 05       	jr	NZ,l_game_enemy_quota_00113
2433  0985  2E 04       	ld	l,0x04
2434  0987  CD 71 0A    	call	_game_enemy_add1
2435  098A              l_game_enemy_quota_00113:
2436  098A  3A 00 00    	ld	a,(_tmp)
2437  098D  D6 02       	sub	a,0x02
2438  098F  20 05       	jr	NZ,l_game_enemy_quota_00118
2439  0991  2E 09       	ld	l,0x09
2440  0993  CD 71 0A    	call	_game_enemy_add1
2441  0996              l_game_enemy_quota_00118:
2442  0996  2E 00       	ld	l,0x00
2443  0998  C3 40 0A    	jp	l_game_enemy_quota_00144
2444  099B              l_game_enemy_quota_00120:
2445  099B  21 00 00    	ld	hl,_tmp
2446  099E  34          	inc	(hl)
2447  099F  3E 02       	ld	a,0x02
2448  09A1  96          	sub	a, (hl)
2449  09A2  30 02       	jr	NC,l_game_enemy_quota_00122
2450  09A4  36 00       	ld	(hl),0x00
2451  09A6              l_game_enemy_quota_00122:
2452  09A6  21 00 00    	ld	hl,_tmp_sc
2453  09A9  34          	inc	(hl)
2454  09AA  C3 28 09    	jp	l_game_enemy_quota_00124
2455  09AD              l_game_enemy_quota_00128:
2456  09AD  3A 00 00    	ld	a,(_phase_coins)
2457  09B0  B7          	or	a, a
2458  09B1  28 0A       	jr	Z,l_game_enemy_quota_00130
2459  09B3  2E 08       	ld	l,0x08
2460  09B5  CD 71 0A    	call	_game_enemy_add1
2461  09B8  2E 00       	ld	l,0x00
2462  09BA  C3 40 0A    	jp	l_game_enemy_quota_00144
2463  09BD              l_game_enemy_quota_00130:
2464  09BD  CD 00 00    	call	_rand
2465  09C0  7D          	ld	a,l
2466  09C1  E6 03       	and	a,0x03
2467  09C3  44          	ld	b,h
2468  09C4  0E 00       	ld	c,0x00
2469  09C6  CB 79       	bit	7,c
2470  09C8  20 74       	jr	NZ,l_game_enemy_quota_00143
2471  09CA  5F          	ld	e,a
2472  09CB  3E 03       	ld	a,0x03
2473  09CD  BB          	cp	a, e
2474  09CE  3E 00       	ld	a,0x00
2475  09D0  99          	sbc	a, c
2476  09D1  E2 D6 09    	jp	PO, l_game_enemy_quota_00240
2477  09D4  EE 80       	xor	a,0x80
2478  09D6              l_game_enemy_quota_00240:
2479  09D6  FA 3E 0A    	jp	M,l_game_enemy_quota_00143
2480  09D9  16 00       	ld	d,0x00
2481  09DB  21 E1 09    	ld	hl,l_game_enemy_quota_00241
2482  09DE  19          	add	hl,de
2483  09DF  19          	add	hl,de
2484  09E0  E9          	jp	(hl)
2485  09E1              l_game_enemy_quota_00241:
2486  09E1  18 06       	jr	l_game_enemy_quota_00131
2487  09E3  18 13       	jr	l_game_enemy_quota_00134
2488  09E5  18 29       	jr	l_game_enemy_quota_00137
2489  09E7  18 3F       	jr	l_game_enemy_quota_00140
2490  09E9              l_game_enemy_quota_00131:
2491  09E9  3E 07       	ld	a,0x07
2492  09EB  21 00 00    	ld	hl,_phase_curr
2493  09EE  96          	sub	a, (hl)
2494  09EF  30 4D       	jr	NC,l_game_enemy_quota_00143
2495  09F1  2E 07       	ld	l,0x07
2496  09F3  CD 71 0A    	call	_game_enemy_add1
2497  09F6  18 46       	jr	l_game_enemy_quota_00143
2498  09F8              l_game_enemy_quota_00134:
2499  09F8  2A 00 00    	ld	hl,(_game_time_fireball_start)
2500  09FB  E5          	push	hl
2501  09FC  21 00 00    	ld	hl,0x0000
2502  09FF  E5          	push	hl
2503  0A00  CD 11 1A    	call	_game_check_time
2504  0A03  F1          	pop	af
2505  0A04  F1          	pop	af
2506  0A05  7D          	ld	a,l
2507  0A06  B7          	or	a, a
2508  0A07  28 35       	jr	Z,l_game_enemy_quota_00143
2509  0A09  2E 0B       	ld	l,0x0b
2510  0A0B  CD 71 0A    	call	_game_enemy_add1
2511  0A0E  18 2E       	jr	l_game_enemy_quota_00143
2512  0A10              l_game_enemy_quota_00137:
2513  0A10  2A 00 00    	ld	hl,(_game_time_fireball_start)
2514  0A13  E5          	push	hl
2515  0A14  21 00 00    	ld	hl,0x0000
2516  0A17  E5          	push	hl
2517  0A18  CD 11 1A    	call	_game_check_time
2518  0A1B  F1          	pop	af
2519  0A1C  F1          	pop	af
2520  0A1D  7D          	ld	a,l
2521  0A1E  B7          	or	a, a
2522  0A1F  28 1D       	jr	Z,l_game_enemy_quota_00143
2523  0A21  2E 0B       	ld	l,0x0b
2524  0A23  CD 71 0A    	call	_game_enemy_add1
2525  0A26  18 16       	jr	l_game_enemy_quota_00143
2526  0A28              l_game_enemy_quota_00140:
2527  0A28  2A 00 00    	ld	hl,(_game_time_fireball_start)
2528  0A2B  E5          	push	hl
2529  0A2C  21 00 00    	ld	hl,0x0000
2530  0A2F  E5          	push	hl
2531  0A30  CD 11 1A    	call	_game_check_time
2532  0A33  F1          	pop	af
2533  0A34  F1          	pop	af
2534  0A35  7D          	ld	a,l
2535  0A36  B7          	or	a, a
2536  0A37  28 05       	jr	Z,l_game_enemy_quota_00143
2537  0A39  2E 0A       	ld	l,0x0a
2538  0A3B  CD 71 0A    	call	_game_enemy_add1
2539  0A3E              l_game_enemy_quota_00143:
2540  0A3E  2E 00       	ld	l,0x00
2541  0A40              l_game_enemy_quota_00144:
2542  0A40  C9          	ret
2543  0A41              	SECTION code_compiler
2544  0A41              ;	---------------------------------
2545  0A41              ; Function game_enemy_rnd
2546  0A41              ; ---------------------------------
2547  0A41              _game_enemy_rnd:
2548  0A41  3A 00 00    	ld	a,(_spr_count)
2549  0A44  D6 06       	sub	a,0x06
2550  0A46  30 26       	jr	NC,l_game_enemy_rnd_00102
2551  0A48  21 64 00    	ld	hl,0x0064
2552  0A4B  E5          	push	hl
2553  0A4C  2A 00 00    	ld	hl,(_entry_time)
2554  0A4F  E5          	push	hl
2555  0A50  CD 11 1A    	call	_game_check_time
2556  0A53  F1          	pop	af
2557  0A54  F1          	pop	af
2558  0A55  7D          	ld	a,l
2559  0A56  B7          	or	a, a
2560  0A57  28 15       	jr	Z,l_game_enemy_rnd_00102
2561  0A59  2A 00 00    	ld	hl,(_curr_time)
2562  0A5C  22 00 00    	ld	(_entry_time),hl
2563  0A5F  CD 00 00    	call	_rand
2564  0A62  01 0B 00    	ld	bc,0x000b
2565  0A65  C5          	push	bc
2566  0A66  E5          	push	hl
2567  0A67  CD 00 00    	call	__modsint_callee
2568  0A6A  2C          	inc	l
2569  0A6B  CD 71 0A    	call	_game_enemy_add1
2570  0A6E              l_game_enemy_rnd_00102:
2571  0A6E  2E 00       	ld	l,0x00
2572  0A70  C9          	ret
2573  0A71              	SECTION code_compiler
2574  0A71              ;	---------------------------------
2575  0A71              ; Function game_enemy_add1
2576  0A71              ; ---------------------------------
2577  0A71              _game_enemy_add1:
2578  0A71  CD 00 00    	call	___sdcc_enter_ix
2579  0A74  F5          	push	af
2580  0A75  45          	ld	b,l
2581  0A76  78          	ld	a,b
2582  0A77  D6 0A       	sub	a,0x0a
2583  0A79  20 04       	jr	NZ,l_game_enemy_add1_00185
2584  0A7B  3E 01       	ld	a,0x01
2585  0A7D  18 01       	jr	l_game_enemy_add1_00186
2586  0A7F              l_game_enemy_add1_00185:
2587  0A7F  AF          	xor	a,a
2588  0A80              l_game_enemy_add1_00186:
2589  0A80  4F          	ld	c,a
2590  0A81  B7          	or	a, a
2591  0A82  28 0B       	jr	Z,l_game_enemy_add1_00105
2592  0A84  C5          	push	bc
2593  0A85  2E 0A       	ld	l,0x0a
2594  0A87  CD B3 0B    	call	_game_enemy_add_get_index
2595  0A8A  C1          	pop	bc
2596  0A8B  5D          	ld	e,l
2597  0A8C  1C          	inc	e
2598  0A8D  20 2B       	jr	NZ,l_game_enemy_add1_00101
2599  0A8F              l_game_enemy_add1_00105:
2600  0A8F  78          	ld	a,b
2601  0A90  D6 0B       	sub	a,0x0b
2602  0A92  20 04       	jr	NZ,l_game_enemy_add1_00189
2603  0A94  3E 01       	ld	a,0x01
2604  0A96  18 01       	jr	l_game_enemy_add1_00190
2605  0A98              l_game_enemy_add1_00189:
2606  0A98  AF          	xor	a,a
2607  0A99              l_game_enemy_add1_00190:
2608  0A99  DD 77 FF    	ld	(ix-1),a
2609  0A9C  B7          	or	a, a
2610  0A9D  28 0B       	jr	Z,l_game_enemy_add1_00107
2611  0A9F  C5          	push	bc
2612  0AA0  2E 0B       	ld	l,0x0b
2613  0AA2  CD B3 0B    	call	_game_enemy_add_get_index
2614  0AA5  C1          	pop	bc
2615  0AA6  5D          	ld	e,l
2616  0AA7  1C          	inc	e
2617  0AA8  20 10       	jr	NZ,l_game_enemy_add1_00101
2618  0AAA              l_game_enemy_add1_00107:
2619  0AAA  78          	ld	a,b
2620  0AAB  D6 07       	sub	a,0x07
2621  0AAD  20 10       	jr	NZ,l_game_enemy_add1_00102
2622  0AAF  C5          	push	bc
2623  0AB0  2E 07       	ld	l,0x07
2624  0AB2  CD B3 0B    	call	_game_enemy_add_get_index
2625  0AB5  C1          	pop	bc
2626  0AB6  5D          	ld	e,l
2627  0AB7  1C          	inc	e
2628  0AB8  28 05       	jr	Z,l_game_enemy_add1_00102
2629  0ABA              l_game_enemy_add1_00101:
2630  0ABA  2E 00       	ld	l,0x00
2631  0ABC  C3 AF 0B    	jp	l_game_enemy_add1_00131
2632  0ABF              l_game_enemy_add1_00102:
2633  0ABF  21 00 00    	ld	hl,_phase_pop
2634  0AC2  34          	inc	(hl)
2635  0AC3  C5          	push	bc
2636  0AC4  CD 00 00    	call	_sound_enter_enemy
2637  0AC7  2E 00       	ld	l,0x00
2638  0AC9  CD B3 0B    	call	_game_enemy_add_get_index
2639  0ACC  C1          	pop	bc
2640  0ACD  7D          	ld	a,l
2641  0ACE  32 00 00    	ld	(_tmp),a
2642  0AD1  C5          	push	bc
2643  0AD2  CD 00 00    	call	_rand
2644  0AD5  C1          	pop	bc
2645  0AD6  7D          	ld	a, l
2646  0AD7  E6 01       	and	a,0x01
2647  0AD9  32 00 00    	ld	(_tmp0),a
2648  0ADC  3D          	dec	a
2649  0ADD  20 1C       	jr	NZ,l_game_enemy_add1_00113
2650  0ADF  21 00 00    	ld	hl,_s_lin0
2651  0AE2  36 10       	ld	(hl),0x10
2652  0AE4  21 00 00    	ld	hl,_s_col0
2653  0AE7  36 04       	ld	(hl),0x04
2654  0AE9  21 00 00    	ld	hl,_s_col1
2655  0AEC  36 02       	ld	(hl),0x02
2656  0AEE  79          	ld	a,c
2657  0AEF  B7          	or	a, a
2658  0AF0  28 02       	jr	Z,l_game_enemy_add1_00109
2659  0AF2  36 03       	ld	(hl),0x03
2660  0AF4              l_game_enemy_add1_00109:
2661  0AF4  21 00 00    	ld	hl,_tmp1
2662  0AF7  36 01       	ld	(hl),0x01
2663  0AF9  18 1A       	jr	l_game_enemy_add1_00114
2664  0AFB              l_game_enemy_add1_00113:
2665  0AFB  21 00 00    	ld	hl,_s_lin0
2666  0AFE  36 10       	ld	(hl),0x10
2667  0B00  21 00 00    	ld	hl,_s_col0
2668  0B03  36 1A       	ld	(hl),0x1a
2669  0B05  21 00 00    	ld	hl,_s_col1
2670  0B08  36 1E       	ld	(hl),0x1e
2671  0B0A  79          	ld	a,c
2672  0B0B  B7          	or	a, a
2673  0B0C  28 02       	jr	Z,l_game_enemy_add1_00111
2674  0B0E  36 1C       	ld	(hl),0x1c
2675  0B10              l_game_enemy_add1_00111:
2676  0B10  21 00 00    	ld	hl,_tmp1
2677  0B13  36 FF       	ld	(hl),0xff
2678  0B15              l_game_enemy_add1_00114:
2679  0B15  78          	ld	a,b
2680  0B16  D6 08       	sub	a,0x08
2681  0B18  20 04       	jr	NZ,l_game_enemy_add1_00198
2682  0B1A  3E 01       	ld	a,0x01
2683  0B1C  18 01       	jr	l_game_enemy_add1_00199
2684  0B1E              l_game_enemy_add1_00198:
2685  0B1E  AF          	xor	a,a
2686  0B1F              l_game_enemy_add1_00199:
2687  0B1F  DD 77 FE    	ld	(ix-2),a
2688  0B22  B7          	or	a, a
2689  0B23  28 04       	jr	Z,l_game_enemy_add1_00116
2690  0B25  21 00 00    	ld	hl,_phase_coins
2691  0B28  35          	dec	(hl)
2692  0B29              l_game_enemy_add1_00116:
2693  0B29  21 00 00    	ld	hl,_tmp_uc
2694  0B2C  36 00       	ld	(hl),0x00
2695  0B2E  DD 7E FF    	ld	a,(ix-1)
2696  0B31  B7          	or	a,a
2697  0B32  20 03       	jr	NZ,l_game_enemy_add1_00123
2698  0B34  B1          	or	a,c
2699  0B35  28 35       	jr	Z,l_game_enemy_add1_00124
2700  0B37              l_game_enemy_add1_00123:
2701  0B37  C5          	push	bc
2702  0B38  CD 00 00    	call	_rand
2703  0B3B  11 03 00    	ld	de,0x0003
2704  0B3E  D5          	push	de
2705  0B3F  E5          	push	hl
2706  0B40  CD 00 00    	call	__modsint_callee
2707  0B43  C1          	pop	bc
2708  0B44  5D          	ld	e,l
2709  0B45  21 00 00    	ld	hl,_tmp_uc
2710  0B48  73          	ld	(hl),e
2711  0B49  7B          	ld	a,e
2712  0B4A  B7          	or	a, a
2713  0B4B  20 02       	jr	NZ,l_game_enemy_add1_00118
2714  0B4D  36 10       	ld	(hl),0x10
2715  0B4F              l_game_enemy_add1_00118:
2716  0B4F  3A 00 00    	ld	a,(_tmp_uc)
2717  0B52  3D          	dec	a
2718  0B53  20 05       	jr	NZ,l_game_enemy_add1_00120
2719  0B55  21 00 00    	ld	hl,_tmp_uc
2720  0B58  36 38       	ld	(hl),0x38
2721  0B5A              l_game_enemy_add1_00120:
2722  0B5A  3A 00 00    	ld	a,(_tmp_uc)
2723  0B5D  D6 02       	sub	a,0x02
2724  0B5F  20 05       	jr	NZ,l_game_enemy_add1_00122
2725  0B61  21 00 00    	ld	hl,_tmp_uc
2726  0B64  36 84       	ld	(hl),0x84
2727  0B66              l_game_enemy_add1_00122:
2728  0B66  3A 00 00    	ld	a,(_s_col1)
2729  0B69  32 00 00    	ld	(_s_col0),a
2730  0B6C              l_game_enemy_add1_00124:
2731  0B6C  CD 00 00    	call	_ay_is_playing
2732  0B6F  7D          	ld	a,l
2733  0B70  D6 02       	sub	a,0x02
2734  0B72  30 14       	jr	NC,l_game_enemy_add1_00130
2735  0B74  DD 7E FE    	ld	a,(ix-2)
2736  0B77  B7          	or	a, a
2737  0B78  20 08       	jr	NZ,l_game_enemy_add1_00127
2738  0B7A  21 00 00    	ld	hl,_ay_effect_04
2739  0B7D  CD 00 00    	call	_ay_fx_play
2740  0B80  18 06       	jr	l_game_enemy_add1_00130
2741  0B82              l_game_enemy_add1_00127:
2742  0B82  21 00 00    	ld	hl,_ay_effect_07
2743  0B85  CD 00 00    	call	_ay_fx_play
2744  0B88              l_game_enemy_add1_00130:
2745  0B88  2A 00 00    	ld	hl,(_curr_time)
2746  0B8B  22 00 00    	ld	(_entry_time),hl
2747  0B8E  3A 00 00    	ld	a,(_s_lin0)
2748  0B91  21 00 00    	ld	hl,_tmp_uc
2749  0B94  86          	add	a, (hl)
2750  0B95  57          	ld	d,a
2751  0B96  3A 00 00    	ld	a,(_tmp1)
2752  0B99  48          	ld	c,b
2753  0B9A  47          	ld	b,a
2754  0B9B  3A 00 00    	ld	a,(_s_col0)
2755  0B9E  C5          	push	bc
2756  0B9F  5A          	ld	e,d
2757  0BA0  57          	ld	d,a
2758  0BA1  3A 00 00    	ld	a,(_tmp)
2759  0BA4  D5          	push	de
2760  0BA5  F5          	push	af
2761  0BA6  33          	inc	sp
2762  0BA7  CD 00 00    	call	_enemy_init
2763  0BAA  F1          	pop	af
2764  0BAB  F1          	pop	af
2765  0BAC  33          	inc	sp
2766  0BAD  2E 00       	ld	l,0x00
2767  0BAF              l_game_enemy_add1_00131:
2768  0BAF  F1          	pop	af
2769  0BB0  DD E1       	pop	ix
2770  0BB2  C9          	ret
2771  0BB3              	SECTION code_compiler
2772  0BB3              ;	---------------------------------
2773  0BB3              ; Function game_enemy_add_get_index
2774  0BB3              ; ---------------------------------
2775  0BB3              _game_enemy_add_get_index:
2776  0BB3  4D          	ld	c,l
2777  0BB4  21 00 00    	ld	hl,_enemies
2778  0BB7  36 00       	ld	(hl),0x00
2779  0BB9              l_game_enemy_add_get_index_00104:
2780  0BB9  2A 00 00    	ld	hl,(_enemies)
2781  0BBC  26 00       	ld	h,0x00
2782  0BBE  11 00 00    	ld	de,_class
2783  0BC1  19          	add	hl,de
2784  0BC2  46          	ld	b, (hl)
2785  0BC3  79          	ld	a,c
2786  0BC4  90          	sub	a,b
2787  0BC5  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2788  0BC7  2A 00 00    	ld	hl,(_enemies)
2789  0BCA  18 0B       	jr	l_game_enemy_add_get_index_00106
2790  0BCC              l_game_enemy_add_get_index_00105:
2791  0BCC  21 00 00    	ld	hl,_enemies
2792  0BCF  34          	inc	(hl)
2793  0BD0  3E 05       	ld	a,0x05
2794  0BD2  96          	sub	a, (hl)
2795  0BD3  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2796  0BD5  2E FF       	ld	l,0xff
2797  0BD7              l_game_enemy_add_get_index_00106:
2798  0BD7  C9          	ret
2799  0BD8              	SECTION code_compiler
2800  0BD8              ;	---------------------------------
2801  0BD8              ; Function game_freeze
2802  0BD8              ; ---------------------------------
2803  0BD8              _game_freeze:
2804  0BD8  CD 00 00    	call	___sdcc_enter_ix
2805  0BDB  DD 7E 05    	ld	a,(ix+5)
2806  0BDE  D6 1F       	sub	a,0x1f
2807  0BE0  30 60       	jr	NC,l_game_freeze_00107
2808  0BE2  21 00 00    	ld	hl,_tmp
2809  0BE5  36 01       	ld	(hl),0x01
2810  0BE7  DD 66 05    	ld	h,(ix+5)
2811  0BEA  DD 6E 04    	ld	l,(ix+4)
2812  0BED  E5          	push	hl
2813  0BEE  CD 00 00    	call	_game_calc_index
2814  0BF1  F1          	pop	af
2815  0BF2  22 00 00    	ld	(_index1),hl
2816  0BF5  01 00 00    	ld	bc,_lvl_1
2817  0BF8  09          	add	hl,bc
2818  0BF9  7E          	ld	a,(hl)
2819  0BFA  D6 84       	sub	a,0x84
2820  0BFC  20 44       	jr	NZ,l_game_freeze_00107
2821  0BFE  36 8B       	ld	(hl),0x8b
2822  0C00  76          	halt
2823  0C01  DD 7E 05    	ld	a,(ix+5)
2824  0C04  F5          	push	af
2825  0C05  33          	inc	sp
2826  0C06  DD 56 04    	ld	d,(ix+4)
2827  0C09  1E 8B       	ld	e,0x8b
2828  0C0B  D5          	push	de
2829  0C0C  CD 00 00    	call	_NIRVANAP_drawT_callee
2830  0C0F  ED 4B 00 00 	ld	bc,(_index1)
2831  0C13  03          	inc	bc
2832  0C14  21 00 00    	ld	hl,_lvl_1
2833  0C17  09          	add	hl,bc
2834  0C18  4E          	ld	c,(hl)
2835  0C19  DD 46 05    	ld	b,(ix+5)
2836  0C1C  04          	inc	b
2837  0C1D  79          	ld	a,c
2838  0C1E  D6 A9       	sub	a,0xa9
2839  0C20  20 0C       	jr	NZ,l_game_freeze_00102
2840  0C22  C5          	push	bc
2841  0C23  DD 4E 04    	ld	c,(ix+4)
2842  0C26  C5          	push	bc
2843  0C27  AF          	xor	a, a
2844  0C28  F5          	push	af
2845  0C29  33          	inc	sp
2846  0C2A  CD 00 00    	call	_NIRVANAP_fillT_callee
2847  0C2D  C1          	pop	bc
2848  0C2E              l_game_freeze_00102:
2849  0C2E  DD 4E 04    	ld	c,(ix+4)
2850  0C31  C5          	push	bc
2851  0C32  CD D8 0B    	call	_game_freeze
2852  0C35  F1          	pop	af
2853  0C36  DD 46 05    	ld	b,(ix+5)
2854  0C39  05          	dec	b
2855  0C3A  DD 4E 04    	ld	c,(ix+4)
2856  0C3D  C5          	push	bc
2857  0C3E  CD D8 0B    	call	_game_freeze
2858  0C41  F1          	pop	af
2859  0C42              l_game_freeze_00107:
2860  0C42  DD E1       	pop	ix
2861  0C44  C9          	ret
2862  0C45              	SECTION code_compiler
2863  0C45              ;	---------------------------------
2864  0C45              ; Function game_unfreeze_all
2865  0C45              ; ---------------------------------
2866  0C45              _game_unfreeze_all:
2867  0C45  21 C0 00    	ld	hl,0x00c0
2868  0C48  22 00 00    	ld	(_index1),hl
2869  0C4B              l_game_unfreeze_all_00104:
2870  0C4B  01 00 00    	ld	bc,_lvl_1
2871  0C4E  2A 00 00    	ld	hl,(_index1)
2872  0C51  09          	add	hl,bc
2873  0C52  7E          	ld	a,(hl)
2874  0C53  D6 8B       	sub	a,0x8b
2875  0C55  20 02       	jr	NZ,l_game_unfreeze_all_00105
2876  0C57  36 84       	ld	(hl),0x84
2877  0C59              l_game_unfreeze_all_00105:
2878  0C59  21 00 00    	ld	hl,_index1
2879  0C5C  34          	inc	(hl)
2880  0C5D  20 02       	jr	NZ,l_game_unfreeze_all_00118
2881  0C5F  23          	inc	hl
2882  0C60  34          	inc	(hl)
2883  0C61              l_game_unfreeze_all_00118:
2884  0C61  3E 20       	ld	a,0x20
2885  0C63  21 00 00    	ld	hl,_index1
2886  0C66  BE          	cp	a, (hl)
2887  0C67  3E 02       	ld	a,0x02
2888  0C69  23          	inc	hl
2889  0C6A  9E          	sbc	a, (hl)
2890  0C6B  30 DE       	jr	NC,l_game_unfreeze_all_00104
2891  0C6D  C9          	ret
2892  0C6E              	SECTION code_compiler
2893  0C6E              ;	---------------------------------
2894  0C6E              ; Function game_freeze_all
2895  0C6E              ; ---------------------------------
2896  0C6E              _game_freeze_all:
2897  0C6E  21 C0 00    	ld	hl,0x00c0
2898  0C71  22 00 00    	ld	(_index1),hl
2899  0C74              l_game_freeze_all_00104:
2900  0C74  01 00 00    	ld	bc,_lvl_1
2901  0C77  2A 00 00    	ld	hl,(_index1)
2902  0C7A  09          	add	hl,bc
2903  0C7B  7E          	ld	a,(hl)
2904  0C7C  D6 84       	sub	a,0x84
2905  0C7E  20 02       	jr	NZ,l_game_freeze_all_00105
2906  0C80  36 8B       	ld	(hl),0x8b
2907  0C82              l_game_freeze_all_00105:
2908  0C82  21 00 00    	ld	hl,_index1
2909  0C85  34          	inc	(hl)
2910  0C86  20 02       	jr	NZ,l_game_freeze_all_00118
2911  0C88  23          	inc	hl
2912  0C89  34          	inc	(hl)
2913  0C8A              l_game_freeze_all_00118:
2914  0C8A  3E 20       	ld	a,0x20
2915  0C8C  21 00 00    	ld	hl,_index1
2916  0C8F  BE          	cp	a, (hl)
2917  0C90  3E 02       	ld	a,0x02
2918  0C92  23          	inc	hl
2919  0C93  9E          	sbc	a, (hl)
2920  0C94  30 DE       	jr	NC,l_game_freeze_all_00104
2921  0C96  C9          	ret
2922  0C97              	SECTION code_compiler
2923  0C97              ;	---------------------------------
2924  0C97              ; Function game_print_score
2925  0C97              ; ---------------------------------
2926  0C97              _game_print_score:
2927  0C97  21 00 00    	ld	hl,_screen_ink
2928  0C9A  36 07       	ld	(hl),0x07
2929  0C9C  21 00 00    	ld	hl,_screen_paper
2930  0C9F  36 00       	ld	(hl),0x00
2931  0CA1  2A 00 00    	ld	hl,(_player_score)
2932  0CA4  E5          	push	hl
2933  0CA5  21 00 03    	ld	hl,0x0300
2934  0CA8  E5          	push	hl
2935  0CA9  CD 00 00    	call	_zx_print_int
2936  0CAC  2A 00 00    	ld	hl,(_game_score_top)
2937  0CAF  E5          	push	hl
2938  0CB0  21 00 0E    	ld	hl,0x0e00
2939  0CB3  E5          	push	hl
2940  0CB4  CD 00 00    	call	_zx_print_int
2941  0CB7  3A 00 00    	ld	a,(_game_two_player)
2942  0CBA  B7          	or	a, a
2943  0CBB  C8          	ret	Z
2944  0CBC  2A 02 00    	ld	hl, (_player_score + 2)
2945  0CBF  E5          	push	hl
2946  0CC0  21 00 18    	ld	hl,0x1800
2947  0CC3  E5          	push	hl
2948  0CC4  CD 00 00    	call	_zx_print_int
2949  0CC7  C9          	ret
2950  0CC8              	SECTION code_compiler
2951  0CC8              ;	---------------------------------
2952  0CC8              ; Function game_paint_attrib
2953  0CC8              ; ---------------------------------
2954  0CC8              _game_paint_attrib:
2955  0CC8  7D          	ld	a,l
2956  0CC9  32 00 00    	ld	(_tmp0),a
2957  0CCC              l_game_paint_attrib_00103:
2958  0CCC  3E 13       	ld	a,0x13
2959  0CCE  21 00 00    	ld	hl,_tmp0
2960  0CD1  96          	sub	a, (hl)
2961  0CD2  D8          	ret	C
2962  0CD3  7E          	ld	a,(hl)
2963  0CD4  07          	rlca
2964  0CD5  07          	rlca
2965  0CD6  07          	rlca
2966  0CD7  E6 F8       	and	a,0xf8
2967  0CD9  C6 08       	add	a,0x08
2968  0CDB  F5          	push	af
2969  0CDC  33          	inc	sp
2970  0CDD  21 01 1F    	ld	hl,0x1f01
2971  0CE0  E5          	push	hl
2972  0CE1  CD EC 0C    	call	_game_paint_attrib_lin
2973  0CE4  F1          	pop	af
2974  0CE5  33          	inc	sp
2975  0CE6  21 00 00    	ld	hl,_tmp0
2976  0CE9  34          	inc	(hl)
2977  0CEA  18 E0       	jr	l_game_paint_attrib_00103
2978  0CEC              	SECTION code_compiler
2979  0CEC              ;	---------------------------------
2980  0CEC              ; Function game_paint_attrib_lin
2981  0CEC              ; ---------------------------------
2982  0CEC              _game_paint_attrib_lin:
2983  0CEC  CD 00 00    	call	___sdcc_enter_ix
2984  0CEF  DD 7E 04    	ld	a,(ix+4)
2985  0CF2  32 00 00    	ld	(_tmp_uc),a
2986  0CF5              l_game_paint_attrib_lin_00103:
2987  0CF5  21 00 00    	ld	hl,_tmp_uc
2988  0CF8  7E          	ld	a,(hl)
2989  0CF9  DD 96 05    	sub	a,(ix+5)
2990  0CFC  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2991  0CFE  66          	ld	h,(hl)
2992  0CFF  DD 6E 06    	ld	l,(ix+6)
2993  0D02  E5          	push	hl
2994  0D03  21 00 00    	ld	hl,_attrib
2995  0D06  E5          	push	hl
2996  0D07  CD 00 00    	call	_NIRVANAP_paintC_callee
2997  0D0A  21 00 00    	ld	hl,_tmp_uc
2998  0D0D  34          	inc	(hl)
2999  0D0E  18 E5       	jr	l_game_paint_attrib_lin_00103
3000  0D10              l_game_paint_attrib_lin_00105:
3001  0D10  DD E1       	pop	ix
3002  0D12  C9          	ret
3003  0D13              	SECTION code_compiler
3004  0D13              ;	---------------------------------
3005  0D13              ; Function game_paint_attrib_lin_h
3006  0D13              ; ---------------------------------
3007  0D13              _game_paint_attrib_lin_h:
3008  0D13  CD 00 00    	call	___sdcc_enter_ix
3009  0D16  DD 7E 04    	ld	a,(ix+4)
3010  0D19  32 00 00    	ld	(_tmp_uc),a
3011  0D1C              l_game_paint_attrib_lin_h_00103:
3012  0D1C  21 00 00    	ld	hl,_tmp_uc
3013  0D1F  7E          	ld	a,(hl)
3014  0D20  DD 96 05    	sub	a,(ix+5)
3015  0D23  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3016  0D25  66          	ld	h,(hl)
3017  0D26  DD 6E 06    	ld	l,(ix+6)
3018  0D29  E5          	push	hl
3019  0D2A  21 00 00    	ld	hl,_attrib_hl
3020  0D2D  E5          	push	hl
3021  0D2E  CD 00 00    	call	_NIRVANAP_paintC_callee
3022  0D31  21 00 00    	ld	hl,_tmp_uc
3023  0D34  34          	inc	(hl)
3024  0D35  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3025  0D37              l_game_paint_attrib_lin_h_00105:
3026  0D37  DD E1       	pop	ix
3027  0D39  C9          	ret
3028  0D3A              	SECTION code_compiler
3029  0D3A              ;	---------------------------------
3030  0D3A              ; Function game_menu_config
3031  0D3A              ; ---------------------------------
3032  0D3A              _game_menu_config:
3033  0D3A  CD 00 00    	call	___sdcc_enter_ix
3034  0D3D  F5          	push	af
3035  0D3E  3B          	dec	sp
3036  0D3F  2E 0B       	ld	l,0x0b
3037  0D41  CD C8 0C    	call	_game_paint_attrib
3038  0D44  DD 36 FD 01 	ld	(ix-3),0x01
3039  0D48              l_game_menu_config_00116:
3040  0D48  DD 7E FD    	ld	a,(ix-3)
3041  0D4B  B7          	or	a, a
3042  0D4C  CA A6 0E    	jp	Z,l_game_menu_config_00119
3043  0D4F              l_game_menu_config_00101:
3044  0D4F  21 00 00    	ld	hl,_k1
3045  0D52  E5          	push	hl
3046  0D53  2A 00 00    	ld	hl,(_joyfunc1)
3047  0D56  CD 00 00    	call	___sdcc_call_hl
3048  0D59  F1          	pop	af
3049  0D5A  7C          	ld	a,h
3050  0D5B  B5          	or	a,l
3051  0D5C  20 F1       	jr	NZ,l_game_menu_config_00101
3052  0D5E  3A 00 00    	ld	a,(_spec128)
3053  0D61  B7          	or	a,a
3054  0D62  28 0A       	jr	Z,l_game_menu_config_00121
3055  0D64  DD 36 FE D5 	ld	(ix-2),+((___str_25) & 0xFF)
3056  0D68  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3057  0D6C  18 08       	jr	l_game_menu_config_00122
3058  0D6E              l_game_menu_config_00121:
3059  0D6E  DD 36 FE E0 	ld	(ix-2),+((___str_26) & 0xFF)
3060  0D72  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3061  0D76              l_game_menu_config_00122:
3062  0D76  DD 4E FE    	ld	c,(ix-2)
3063  0D79  DD 46 FF    	ld	b,(ix-1)
3064  0D7C  C5          	push	bc
3065  0D7D  21 0E 0A    	ld	hl,0x0a0e
3066  0D80  E5          	push	hl
3067  0D81  CD 00 00    	call	_zx_print_str
3068  0D84  21 EB 00    	ld	hl,___str_27
3069  0D87  E5          	push	hl
3070  0D88  21 0F 0A    	ld	hl,0x0a0f
3071  0D8B  E5          	push	hl
3072  0D8C  CD 00 00    	call	_zx_print_str
3073  0D8F  21 F6 00    	ld	hl,___str_28
3074  0D92  E5          	push	hl
3075  0D93  21 10 0A    	ld	hl,0x0a10
3076  0D96  E5          	push	hl
3077  0D97  CD 00 00    	call	_zx_print_str
3078  0D9A  21 01 01    	ld	hl,___str_29
3079  0D9D  E5          	push	hl
3080  0D9E  21 11 0A    	ld	hl,0x0a11
3081  0DA1  E5          	push	hl
3082  0DA2  CD 00 00    	call	_zx_print_str
3083  0DA5  21 0C 01    	ld	hl,___str_30
3084  0DA8  E5          	push	hl
3085  0DA9  21 12 0A    	ld	hl,0x0a12
3086  0DAC  E5          	push	hl
3087  0DAD  CD 00 00    	call	_zx_print_str
3088  0DB0  3A 00 00    	ld	a,(_game_sound)
3089  0DB3  E6 05       	and	a,0x05
3090  0DB5  28 05       	jr	Z,l_game_menu_config_00123
3091  0DB7  01 17 01    	ld	bc,___str_31
3092  0DBA  18 03       	jr	l_game_menu_config_00124
3093  0DBC              l_game_menu_config_00123:
3094  0DBC  01 1B 01    	ld	bc,___str_32
3095  0DBF              l_game_menu_config_00124:
3096  0DBF  C5          	push	bc
3097  0DC0  21 0E 14    	ld	hl,0x140e
3098  0DC3  E5          	push	hl
3099  0DC4  CD 00 00    	call	_zx_print_str
3100  0DC7  3E 02       	ld	a,0x02
3101  0DC9  21 00 00    	ld	hl,_game_type
3102  0DCC  96          	sub	a, (hl)
3103  0DCD  38 34       	jr	C,l_game_menu_config_00107
3104  0DCF  5E          	ld	e,(hl)
3105  0DD0  16 00       	ld	d,0x00
3106  0DD2  21 D8 0D    	ld	hl,l_game_menu_config_00164
3107  0DD5  19          	add	hl,de
3108  0DD6  19          	add	hl,de
3109  0DD7  E9          	jp	(hl)
3110  0DD8              l_game_menu_config_00164:
3111  0DD8  18 04       	jr	l_game_menu_config_00104
3112  0DDA  18 0F       	jr	l_game_menu_config_00105
3113  0DDC  18 1A       	jr	l_game_menu_config_00106
3114  0DDE              l_game_menu_config_00104:
3115  0DDE  21 1F 01    	ld	hl,___str_33
3116  0DE1  E5          	push	hl
3117  0DE2  21 0F 14    	ld	hl,0x140f
3118  0DE5  E5          	push	hl
3119  0DE6  CD 00 00    	call	_zx_print_str
3120  0DE9  18 18       	jr	l_game_menu_config_00107
3121  0DEB              l_game_menu_config_00105:
3122  0DEB  21 23 01    	ld	hl,___str_34
3123  0DEE  E5          	push	hl
3124  0DEF  21 0F 14    	ld	hl,0x140f
3125  0DF2  E5          	push	hl
3126  0DF3  CD 00 00    	call	_zx_print_str
3127  0DF6  18 0B       	jr	l_game_menu_config_00107
3128  0DF8              l_game_menu_config_00106:
3129  0DF8  21 27 01    	ld	hl,___str_35
3130  0DFB  E5          	push	hl
3131  0DFC  21 0F 14    	ld	hl,0x140f
3132  0DFF  E5          	push	hl
3133  0E00  CD 00 00    	call	_zx_print_str
3134  0E03              l_game_menu_config_00107:
3135  0E03  2A 00 00    	ld	hl,(_player_joy)
3136  0E06  29          	add	hl, hl
3137  0E07  11 00 00    	ld	de,_joynames
3138  0E0A  19          	add	hl,de
3139  0E0B  4E          	ld	c,(hl)
3140  0E0C  23          	inc	hl
3141  0E0D  46          	ld	b,(hl)
3142  0E0E  C5          	push	bc
3143  0E0F  21 10 14    	ld	hl,0x1410
3144  0E12  E5          	push	hl
3145  0E13  CD 00 00    	call	_zx_print_str
3146  0E16  2A 02 00    	ld	hl, (_player_joy + 2)
3147  0E19  29          	add	hl, hl
3148  0E1A  11 00 00    	ld	de,_joynames
3149  0E1D  19          	add	hl,de
3150  0E1E  4E          	ld	c,(hl)
3151  0E1F  23          	inc	hl
3152  0E20  46          	ld	b,(hl)
3153  0E21  C5          	push	bc
3154  0E22  21 11 14    	ld	hl,0x1411
3155  0E25  E5          	push	hl
3156  0E26  CD 00 00    	call	_zx_print_str
3157  0E29  21 00 00    	ld	hl,0x0000
3158  0E2C  E5          	push	hl
3159  0E2D  21 0E 12    	ld	hl,0x120e
3160  0E30  E5          	push	hl
3161  0E31  21 0A 01    	ld	hl,0x010a
3162  0E34  E5          	push	hl
3163  0E35  CD 64 11    	call	_game_menu_handle
3164  0E38  F1          	pop	af
3165  0E39  F1          	pop	af
3166  0E3A  F1          	pop	af
3167  0E3B  7D          	ld	a,l
3168  0E3C  32 00 00    	ld	(_game_menu_sel),a
3169  0E3F  21 00 00    	ld	hl,_ay_effect_10
3170  0E42  CD 00 00    	call	_ay_fx_play
3171  0E45  CD 00 00    	call	_sound_coin
3172  0E48  3E 04       	ld	a,0x04
3173  0E4A  21 00 00    	ld	hl,_game_menu_sel
3174  0E4D  96          	sub	a, (hl)
3175  0E4E  DA 48 0D    	jp	C,l_game_menu_config_00116
3176  0E51  5E          	ld	e,(hl)
3177  0E52  16 00       	ld	d,0x00
3178  0E54  21 5A 0E    	ld	hl,l_game_menu_config_00165
3179  0E57  19          	add	hl,de
3180  0E58  19          	add	hl,de
3181  0E59  E9          	jp	(hl)
3182  0E5A              l_game_menu_config_00165:
3183  0E5A  18 08       	jr	l_game_menu_config_00108
3184  0E5C  18 1A       	jr	l_game_menu_config_00109
3185  0E5E  18 27       	jr	l_game_menu_config_00112
3186  0E60  18 2D       	jr	l_game_menu_config_00113
3187  0E62  18 33       	jr	l_game_menu_config_00114
3188  0E64              l_game_menu_config_00108:
3189  0E64  3A 00 00    	ld	a,(_spec128)
3190  0E67  B7          	or	a, a
3191  0E68  28 04       	jr	Z,l_game_menu_config_00125
3192  0E6A  3E 04       	ld	a,0x04
3193  0E6C  18 02       	jr	l_game_menu_config_00126
3194  0E6E              l_game_menu_config_00125:
3195  0E6E  3E 01       	ld	a,0x01
3196  0E70              l_game_menu_config_00126:
3197  0E70  21 00 00    	ld	hl,_game_sound
3198  0E73  AE          	xor	a, (hl)
3199  0E74  77          	ld	(hl),a
3200  0E75  C3 48 0D    	jp	l_game_menu_config_00116
3201  0E78              l_game_menu_config_00109:
3202  0E78  21 00 00    	ld	hl,_game_type
3203  0E7B  34          	inc	(hl)
3204  0E7C  3E 02       	ld	a,0x02
3205  0E7E  96          	sub	a, (hl)
3206  0E7F  D2 48 0D    	jp	NC,l_game_menu_config_00116
3207  0E82  36 00       	ld	(hl),0x00
3208  0E84  C3 48 0D    	jp	l_game_menu_config_00116
3209  0E87              l_game_menu_config_00112:
3210  0E87  2E 00       	ld	l,0x00
3211  0E89  CD AB 0E    	call	_game_joystick_change
3212  0E8C  C3 48 0D    	jp	l_game_menu_config_00116
3213  0E8F              l_game_menu_config_00113:
3214  0E8F  2E 01       	ld	l,0x01
3215  0E91  CD AB 0E    	call	_game_joystick_change
3216  0E94  C3 48 0D    	jp	l_game_menu_config_00116
3217  0E97              l_game_menu_config_00114:
3218  0E97  21 00 00    	ld	hl,_game_menu_sel
3219  0E9A  36 00       	ld	(hl),0x00
3220  0E9C  CD 31 10    	call	_game_menu_paint
3221  0E9F  DD 36 FD 00 	ld	(ix-3),0x00
3222  0EA3  C3 48 0D    	jp	l_game_menu_config_00116
3223  0EA6              l_game_menu_config_00119:
3224  0EA6  DD F9       	ld	sp, ix
3225  0EA8  DD E1       	pop	ix
3226  0EAA  C9          	ret
3227  0EAB              	SECTION rodata_compiler
3228  00D5              ___str_25:
3229  00D5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3230  00DF  00          	DEFB 0x00
3231  00E0              	SECTION rodata_compiler
3232  00E0              ___str_26:
3233  00E0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3234  00EA  00          	DEFB 0x00
3235  00EB              	SECTION rodata_compiler
3236  00EB              ___str_27:
3237  00EB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3238  00F5  00          	DEFB 0x00
3239  00F6              	SECTION rodata_compiler
3240  00F6              ___str_28:
3241  00F6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3242  0100  00          	DEFB 0x00
3243  0101              	SECTION rodata_compiler
3244  0101              ___str_29:
3245  0101  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3246  010B  00          	DEFB 0x00
3247  010C              	SECTION rodata_compiler
3248  010C              ___str_30:
3249  010C  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3250  0116  00          	DEFB 0x00
3251  0117              	SECTION rodata_compiler
3252  0117              ___str_31:
3253  0117  4F 4E 20    	DEFM "ON "
3254  011A  00          	DEFB 0x00
3255  011B              	SECTION rodata_compiler
3256  011B              ___str_32:
3257  011B  4F 46 46    	DEFM "OFF"
3258  011E  00          	DEFB 0x00
3259  011F              	SECTION rodata_compiler
3260  011F              ___str_33:
3261  011F  41 20 20    	DEFM "A  "
3262  0122  00          	DEFB 0x00
3263  0123              	SECTION rodata_compiler
3264  0123              ___str_34:
3265  0123  42 20 20    	DEFM "B  "
3266  0126  00          	DEFB 0x00
3267  0127              	SECTION rodata_compiler
3268  0127              ___str_35:
3269  0127  52 4E 44    	DEFM "RND"
3270  012A  00          	DEFB 0x00
3271  012B              	SECTION code_compiler
3272  0EAB              ;	---------------------------------
3273  0EAB              ; Function game_joystick_change
3274  0EAB              ; ---------------------------------
3275  0EAB              _game_joystick_change:
3276  0EAB  CD 00 00    	call	___sdcc_enter_ix
3277  0EAE  3B          	dec	sp
3278  0EAF  DD 75 FF    	ld	(ix-1),l
3279  0EB2  26 00       	ld	h,0x00
3280  0EB4  29          	add	hl, hl
3281  0EB5  01 00 00    	ld	bc,_player_joy
3282  0EB8  09          	add	hl,bc
3283  0EB9  5E          	ld	e,(hl)
3284  0EBA  4D          	ld	c,l
3285  0EBB  44          	ld	b,h
3286  0EBC  23          	inc	hl
3287  0EBD  56          	ld	d,(hl)
3288  0EBE  13          	inc	de
3289  0EBF  69          	ld	l, c
3290  0EC0  60          	ld	h, b
3291  0EC1  73          	ld	(hl),e
3292  0EC2  23          	inc	hl
3293  0EC3  72          	ld	(hl),d
3294  0EC4  7B          	ld	a,e
3295  0EC5  D6 07       	sub	a,0x07
3296  0EC7  20 09       	jr	NZ,l_game_joystick_change_00102
3297  0EC9  B2          	or	a,d
3298  0ECA  20 06       	jr	NZ,l_game_joystick_change_00102
3299  0ECC  69          	ld	l, c
3300  0ECD  60          	ld	h, b
3301  0ECE  AF          	xor	a, a
3302  0ECF  77          	ld	(hl), a
3303  0ED0  23          	inc	hl
3304  0ED1  77          	ld	(hl), a
3305  0ED2              l_game_joystick_change_00102:
3306  0ED2  DD 7E FF    	ld	a,(ix-1)
3307  0ED5  B7          	or	a, a
3308  0ED6  20 15       	jr	NZ,l_game_joystick_change_00104
3309  0ED8  69          	ld	l, c
3310  0ED9  60          	ld	h, b
3311  0EDA  5E          	ld	e,(hl)
3312  0EDB  23          	inc	hl
3313  0EDC  56          	ld	d,(hl)
3314  0EDD  1D          	dec	e
3315  0EDE  20 0D       	jr	NZ,l_game_joystick_change_00104
3316  0EE0  7A          	ld	a,d
3317  0EE1  B7          	or	a, a
3318  0EE2  20 09       	jr	NZ,l_game_joystick_change_00104
3319  0EE4  ED 5B 00 00 	ld	de,(_player_joy)
3320  0EE8  13          	inc	de
3321  0EE9  ED 53 00 00 	ld	(_player_joy), de
3322  0EED              l_game_joystick_change_00104:
3323  0EED  DD 7E FF    	ld	a,(ix-1)
3324  0EF0  3D          	dec	a
3325  0EF1  20 11       	jr	NZ,l_game_joystick_change_00107
3326  0EF3  69          	ld	l, c
3327  0EF4  60          	ld	h, b
3328  0EF5  4E          	ld	c,(hl)
3329  0EF6  23          	inc	hl
3330  0EF7  7E          	ld	a, (hl)
3331  0EF8  B1          	or	a,c
3332  0EF9  20 09       	jr	NZ,l_game_joystick_change_00107
3333  0EFB  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3334  0EFF  03          	inc	bc
3335  0F00  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3336  0F04              l_game_joystick_change_00107:
3337  0F04  ED 4B 00 00 	ld	bc,(_player_joy)
3338  0F08  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3339  0F0C  79          	ld	a,c
3340  0F0D  93          	sub	a, e
3341  0F0E  20 18       	jr	NZ,l_game_joystick_change_00114
3342  0F10  78          	ld	a,b
3343  0F11  92          	sub	a, d
3344  0F12  20 14       	jr	NZ,l_game_joystick_change_00114
3345  0F14  DD 7E FF    	ld	a,(ix-1)
3346  0F17  B7          	or	a, a
3347  0F18  20 08       	jr	NZ,l_game_joystick_change_00110
3348  0F1A  21 01 00    	ld	hl,0x0001
3349  0F1D  22 02 00    	ld	(_player_joy + 0x0002),hl
3350  0F20  18 06       	jr	l_game_joystick_change_00114
3351  0F22              l_game_joystick_change_00110:
3352  0F22  21 00 00    	ld	hl,0x0000
3353  0F25  22 00 00    	ld	(_player_joy), hl
3354  0F28              l_game_joystick_change_00114:
3355  0F28  33          	inc	sp
3356  0F29  DD E1       	pop	ix
3357  0F2B  C9          	ret
3358  0F2C              	SECTION code_compiler
3359  0F2C              ;	---------------------------------
3360  0F2C              ; Function game_joystick_set_menu
3361  0F2C              ; ---------------------------------
3362  0F2C              _game_joystick_set_menu:
3363  0F2C  21 00 00    	ld	hl,_in_stick_sinclair1
3364  0F2F  22 00 00    	ld	(_joyfunc1),hl
3365  0F32  21 00 00    	ld	hl,_in_stick_sinclair2
3366  0F35  22 00 00    	ld	(_joyfunc2),hl
3367  0F38  C9          	ret
3368  0F39              	SECTION code_compiler
3369  0F39              ;	---------------------------------
3370  0F39              ; Function game_joystick_set
3371  0F39              ; ---------------------------------
3372  0F39              _game_joystick_set:
3373  0F39  01 00 00    	ld	bc,_control_method+0
3374  0F3C  2A 00 00    	ld	hl,(_player_joy)
3375  0F3F  29          	add	hl, hl
3376  0F40  09          	add	hl,bc
3377  0F41  11 00 00    	ld	de,_joyfunc1
3378  0F44  ED A0       	ldi
3379  0F46  03          	inc	bc
3380  0F47  7E          	ld	a,(hl)
3381  0F48  12          	ld	(de),a
3382  0F49  2A 02 00    	ld	hl, (_player_joy + 2)
3383  0F4C  29          	add	hl, hl
3384  0F4D  09          	add	hl,bc
3385  0F4E  11 00 00    	ld	de,_joyfunc2
3386  0F51  ED A0       	ldi
3387  0F53  7E          	ld	a,(hl)
3388  0F54  12          	ld	(de),a
3389  0F55  C9          	ret
3390  0F56              	SECTION code_compiler
3391  0F56              ;	---------------------------------
3392  0F56              ; Function game_menu
3393  0F56              ; ---------------------------------
3394  0F56              _game_menu:
3395  0F56  21 00 00    	ld	hl,_game_menu_sel
3396  0F59  36 00       	ld	(hl),0x00
3397  0F5B  CD BD 0F    	call	_game_menu_top_paint
3398  0F5E  CD 31 10    	call	_game_menu_paint
3399  0F61  CD 00 00    	call	_ay_reset
3400  0F64  21 00 00    	ld	hl,_pb_midi_title
3401  0F67  CD 00 00    	call	_ay_midi_play
3402  0F6A              l_game_menu_00101:
3403  0F6A  21 00 00    	ld	hl,_k1
3404  0F6D  E5          	push	hl
3405  0F6E  2A 00 00    	ld	hl,(_joyfunc1)
3406  0F71  CD 00 00    	call	___sdcc_call_hl
3407  0F74  F1          	pop	af
3408  0F75  7C          	ld	a,h
3409  0F76  B5          	or	a,l
3410  0F77  20 F1       	jr	NZ,l_game_menu_00101
3411  0F79  21 E8 03    	ld	hl,0x03e8
3412  0F7C  E5          	push	hl
3413  0F7D  21 0E 12    	ld	hl,0x120e
3414  0F80  E5          	push	hl
3415  0F81  21 0C 02    	ld	hl,0x020c
3416  0F84  E5          	push	hl
3417  0F85  CD 64 11    	call	_game_menu_handle
3418  0F88  F1          	pop	af
3419  0F89  F1          	pop	af
3420  0F8A  F1          	pop	af
3421  0F8B  4D          	ld	c,l
3422  0F8C  21 00 00    	ld	hl,_tmp_uc
3423  0F8F  71          	ld	(hl),c
3424  0F90  3E 02       	ld	a,0x02
3425  0F92  96          	sub	a, (hl)
3426  0F93  38 D5       	jr	C,l_game_menu_00101
3427  0F95  5E          	ld	e,(hl)
3428  0F96  16 00       	ld	d,0x00
3429  0F98  21 9E 0F    	ld	hl,l_game_menu_00125
3430  0F9B  19          	add	hl,de
3431  0F9C  19          	add	hl,de
3432  0F9D  E9          	jp	(hl)
3433  0F9E              l_game_menu_00125:
3434  0F9E  18 04       	jr	l_game_menu_00104
3435  0FA0  18 0C       	jr	l_game_menu_00105
3436  0FA2  18 14       	jr	l_game_menu_00106
3437  0FA4              l_game_menu_00104:
3438  0FA4  21 00 00    	ld	hl,_game_two_player
3439  0FA7  36 00       	ld	(hl),0x00
3440  0FA9  CD 2E 03    	call	_game_loop
3441  0FAC  18 BC       	jr	l_game_menu_00101
3442  0FAE              l_game_menu_00105:
3443  0FAE  21 00 00    	ld	hl,_game_two_player
3444  0FB1  36 01       	ld	(hl),0x01
3445  0FB3  CD 2E 03    	call	_game_loop
3446  0FB6  18 B2       	jr	l_game_menu_00101
3447  0FB8              l_game_menu_00106:
3448  0FB8  CD 3A 0D    	call	_game_menu_config
3449  0FBB  18 AD       	jr	l_game_menu_00101
3450  0FBD              	SECTION code_compiler
3451  0FBD              ;	---------------------------------
3452  0FBD              ; Function game_menu_top_paint
3453  0FBD              ; ---------------------------------
3454  0FBD              _game_menu_top_paint:
3455  0FBD  CD 00 00    	call	_spr_draw_clear
3456  0FC0  2E 00       	ld	l,0x00
3457  0FC2  CD C8 0C    	call	_game_paint_attrib
3458  0FC5  21 9C 01    	ld	hl,0x019c
3459  0FC8  E5          	push	hl
3460  0FC9  21 00 1E    	ld	hl,0x1e00
3461  0FCC  E5          	push	hl
3462  0FCD  3E 10       	ld	a,0x10
3463  0FCF  F5          	push	af
3464  0FD0  33          	inc	sp
3465  0FD1  CD B1 10    	call	_game_menu_e
3466  0FD4  F1          	pop	af
3467  0FD5  33          	inc	sp
3468  0FD6  21 9F FF    	ld	hl,0xff9f
3469  0FD9  E3          	ex	(sp),hl
3470  0FDA  21 00 1E    	ld	hl,0x1e00
3471  0FDD  E5          	push	hl
3472  0FDE  3E 50       	ld	a,0x50
3473  0FE0  F5          	push	af
3474  0FE1  33          	inc	sp
3475  0FE2  CD B1 10    	call	_game_menu_e
3476  0FE5  F1          	pop	af
3477  0FE6  F1          	pop	af
3478  0FE7  33          	inc	sp
3479  0FE8  21 00 00    	ld	hl,_tmp
3480  0FEB  36 18       	ld	(hl),0x18
3481  0FED  F3          	di
3482  0FEE  21 00 00    	ld	hl,_tmp_uc
3483  0FF1  36 00       	ld	(hl),0x00
3484  0FF3              l_game_menu_top_paint_00102:
3485  0FF3  3A 00 00    	ld	a,(_tmp_uc)
3486  0FF6  87          	add	a, a
3487  0FF7  C6 05       	add	a,0x05
3488  0FF9  47          	ld	b,a
3489  0FFA  3A 00 00    	ld	a,(_tmp)
3490  0FFD  C6 10       	add	a,0x10
3491  0FFF  57          	ld	d,a
3492  1000  3A 00 00    	ld	a,(_tmp_uc)
3493  1003  C6 C0       	add	a,0xc0
3494  1005  4A          	ld	c, d
3495  1006  C5          	push	bc
3496  1007  F5          	push	af
3497  1008  33          	inc	sp
3498  1009  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3499  100C  3A 00 00    	ld	a,(_tmp_uc)
3500  100F  87          	add	a, a
3501  1010  C6 05       	add	a,0x05
3502  1012  47          	ld	b,a
3503  1013  3A 00 00    	ld	a,(_tmp)
3504  1016  C6 20       	add	a,0x20
3505  1018  57          	ld	d,a
3506  1019  3A 00 00    	ld	a,(_tmp_uc)
3507  101C  C6 CC       	add	a,0xcc
3508  101E  4A          	ld	c, d
3509  101F  C5          	push	bc
3510  1020  F5          	push	af
3511  1021  33          	inc	sp
3512  1022  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3513  1025  21 00 00    	ld	hl,_tmp_uc
3514  1028  7E          	ld	a,(hl)
3515  1029  3C          	inc	a
3516  102A  77          	ld	(hl),a
3517  102B  D6 0A       	sub	a,0x0a
3518  102D  38 C4       	jr	C,l_game_menu_top_paint_00102
3519  102F  FB          	ei
3520  1030  C9          	ret
3521  1031              	SECTION code_compiler
3522  1031              ;	---------------------------------
3523  1031              ; Function game_menu_paint
3524  1031              ; ---------------------------------
3525  1031              _game_menu_paint:
3526  1031  76          	halt
3527  1032  3A 00 00    	ld	a,(_tmp)
3528  1035  C6 28       	add	a,0x28
3529  1037  4F          	ld	c, a
3530  1038  06 1A       	ld	b,0x1a
3531  103A  C5          	push	bc
3532  103B  3E 12       	ld	a,0x12
3533  103D  F5          	push	af
3534  103E  33          	inc	sp
3535  103F  CD 00 00    	call	_NIRVANAP_fillC_callee
3536  1042  21 00 20    	ld	hl,0x2000
3537  1045  E5          	push	hl
3538  1046  CD 00 00    	call	_game_fill_row
3539  1049  21 00 20    	ld	hl,0x2000
3540  104C  E5          	push	hl
3541  104D  CD 00 00    	call	_game_fill_row
3542  1050  21 2B 01    	ld	hl,___str_36
3543  1053  E5          	push	hl
3544  1054  21 0E 0A    	ld	hl,0x0a0e
3545  1057  E5          	push	hl
3546  1058  CD 00 00    	call	_zx_print_str
3547  105B  21 0F 20    	ld	hl,0x200f
3548  105E  E5          	push	hl
3549  105F  CD 00 00    	call	_game_fill_row
3550  1062  21 39 01    	ld	hl,___str_37
3551  1065  E5          	push	hl
3552  1066  21 10 0A    	ld	hl,0x0a10
3553  1069  E5          	push	hl
3554  106A  CD 00 00    	call	_zx_print_str
3555  106D  21 11 20    	ld	hl,0x2011
3556  1070  E5          	push	hl
3557  1071  CD 00 00    	call	_game_fill_row
3558  1074  21 47 01    	ld	hl,___str_38
3559  1077  E5          	push	hl
3560  1078  21 12 0A    	ld	hl,0x0a12
3561  107B  E5          	push	hl
3562  107C  CD 00 00    	call	_zx_print_str
3563  107F  21 13 20    	ld	hl,0x2013
3564  1082  E5          	push	hl
3565  1083  CD 00 00    	call	_game_fill_row
3566  1086  21 00 00    	ld	hl,_screen_ink
3567  1089  36 07       	ld	(hl),0x07
3568  108B  21 55 01    	ld	hl,___str_39
3569  108E  E5          	push	hl
3570  108F  21 16 07    	ld	hl,0x0716
3571  1092  E5          	push	hl
3572  1093  CD 00 00    	call	_zx_print_str
3573  1096  21 00 00    	ld	hl,_screen_ink
3574  1099  36 01       	ld	(hl),0x01
3575  109B  21 69 01    	ld	hl,___str_40
3576  109E  E5          	push	hl
3577  109F  21 17 03    	ld	hl,0x0317
3578  10A2  E5          	push	hl
3579  10A3  CD 00 00    	call	_zx_print_str
3580  10A6  21 00 00    	ld	hl,_tmp_uc
3581  10A9  36 00       	ld	(hl),0x00
3582  10AB  2E 0B       	ld	l,0x0b
3583  10AD  CD C8 0C    	call	_game_paint_attrib
3584  10B0  C9          	ret
3585  10B1              	SECTION rodata_compiler
3586  012B              ___str_36:
3587  012B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3588  0138  00          	DEFB 0x00
3589  0139              	SECTION rodata_compiler
3590  0139              ___str_37:
3591  0139  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3592  0146  00          	DEFB 0x00
3593  0147              	SECTION rodata_compiler
3594  0147              ___str_38:
3595  0147  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3596  0154  00          	DEFB 0x00
3597  0155              	SECTION rodata_compiler
3598  0155              ___str_39:
3599  0155  53 45 4C 45 43 54 3A 36 37 38 39 20 53 54 41 52 54 3A 30 
                        	DEFM "SELECT:6789 START:0"
3600  0168  00          	DEFB 0x00
3601  0169              	SECTION rodata_compiler
3602  0169              ___str_40:
3603  0169  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 20 56 45 52 20 31 2E 34 20 20 
                        	DEFM "CODED BY CGONZALEZ VER 1.4  "
3604  0185  00          	DEFB 0x00
3605  0186              	SECTION code_compiler
3606  10B1              ;	---------------------------------
3607  10B1              ; Function game_menu_e
3608  10B1              ; ---------------------------------
3609  10B1              _game_menu_e:
3610  10B1  CD 00 00    	call	___sdcc_enter_ix
3611  10B4  F3          	di
3612  10B5  DD 4E 05    	ld	c,(ix+5)
3613  10B8  21 00 00    	ld	hl,_tmp_uc
3614  10BB  71          	ld	(hl),c
3615  10BC  DD 46 07    	ld	b,(ix+7)
3616  10BF  04          	inc	b
3617  10C0  DD 56 07    	ld	d,(ix+7)
3618  10C3  14          	inc	d
3619  10C4  14          	inc	d
3620  10C5              l_game_menu_e_00114:
3621  10C5  DD 7E 06    	ld	a,(ix+6)
3622  10C8  21 00 00    	ld	hl,_tmp_uc
3623  10CB  96          	sub	a, (hl)
3624  10CC  38 56       	jr	C,l_game_menu_e_00109
3625  10CE  7E          	ld	a,(hl)
3626  10CF  91          	sub	a, c
3627  10D0  20 15       	jr	NZ,l_game_menu_e_00102
3628  10D2  3A 00 00    	ld	a,(_tmp_uc)
3629  10D5  C5          	push	bc
3630  10D6  D5          	push	de
3631  10D7  F5          	push	af
3632  10D8  33          	inc	sp
3633  10D9  DD 66 04    	ld	h,(ix+4)
3634  10DC  DD 6E 07    	ld	l,(ix+7)
3635  10DF  E5          	push	hl
3636  10E0  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3637  10E3  D1          	pop	de
3638  10E4  C1          	pop	bc
3639  10E5  18 36       	jr	l_game_menu_e_00108
3640  10E7              l_game_menu_e_00102:
3641  10E7  3A 00 00    	ld	a,(_tmp_uc)
3642  10EA  DD 96 06    	sub	a,(ix+6)
3643  10ED  20 14       	jr	NZ,l_game_menu_e_00104
3644  10EF  3A 00 00    	ld	a,(_tmp_uc)
3645  10F2  C5          	push	bc
3646  10F3  D5          	push	de
3647  10F4  F5          	push	af
3648  10F5  33          	inc	sp
3649  10F6  DD 7E 04    	ld	a,(ix+4)
3650  10F9  5A          	ld	e,d
3651  10FA  57          	ld	d,a
3652  10FB  D5          	push	de
3653  10FC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3654  10FF  D1          	pop	de
3655  1100  C1          	pop	bc
3656  1101  18 1A       	jr	l_game_menu_e_00108
3657  1103              l_game_menu_e_00104:
3658  1103  3A 00 00    	ld	a,(_tmp_uc)
3659  1106  FE 0E       	cp	a,0x0e
3660  1108  28 13       	jr	Z,l_game_menu_e_00108
3661  110A  FE 10       	cp	a,0x10
3662  110C  28 0F       	jr	Z,l_game_menu_e_00108
3663  110E  C5          	push	bc
3664  110F  D5          	push	de
3665  1110  F5          	push	af
3666  1111  33          	inc	sp
3667  1112  DD 7E 04    	ld	a,(ix+4)
3668  1115  48          	ld	c,b
3669  1116  47          	ld	b,a
3670  1117  C5          	push	bc
3671  1118  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3672  111B  D1          	pop	de
3673  111C  C1          	pop	bc
3674  111D              l_game_menu_e_00108:
3675  111D  21 00 00    	ld	hl,_tmp_uc
3676  1120  34          	inc	(hl)
3677  1121  34          	inc	(hl)
3678  1122  18 A1       	jr	l_game_menu_e_00114
3679  1124              l_game_menu_e_00109:
3680  1124  DD 7E 08    	ld	a,(ix+8)
3681  1127  3C          	inc	a
3682  1128  20 0A       	jr	NZ,l_game_menu_e_00111
3683  112A  DD 7E 04    	ld	a,(ix+4)
3684  112D  C6 F0       	add	a,0xf0
3685  112F  DD 77 04    	ld	(ix+4),a
3686  1132  18 08       	jr	l_game_menu_e_00112
3687  1134              l_game_menu_e_00111:
3688  1134  DD 7E 04    	ld	a,(ix+4)
3689  1137  C6 10       	add	a,0x10
3690  1139  DD 77 04    	ld	(ix+4),a
3691  113C              l_game_menu_e_00112:
3692  113C  DD 7E 07    	ld	a,(ix+7)
3693  113F  C6 0C       	add	a,0x0c
3694  1141  47          	ld	b,a
3695  1142  79          	ld	a,c
3696  1143  F5          	push	af
3697  1144  33          	inc	sp
3698  1145  DD 7E 04    	ld	a,(ix+4)
3699  1148  48          	ld	c,b
3700  1149  47          	ld	b,a
3701  114A  C5          	push	bc
3702  114B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3703  114E  DD 7E 07    	ld	a,(ix+7)
3704  1151  C6 0E       	add	a,0x0e
3705  1153  47          	ld	b,a
3706  1154  DD 66 06    	ld	h,(ix+6)
3707  1157  DD 6E 04    	ld	l,(ix+4)
3708  115A  E5          	push	hl
3709  115B  C5          	push	bc
3710  115C  33          	inc	sp
3711  115D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3712  1160  FB          	ei
3713  1161  DD E1       	pop	ix
3714  1163  C9          	ret
3715  1164              	SECTION code_compiler
3716  1164              ;	---------------------------------
3717  1164              ; Function game_menu_handle
3718  1164              ; ---------------------------------
3719  1164              _game_menu_handle:
3720  1164  CD 00 00    	call	___sdcc_enter_ix
3721  1167  3B          	dec	sp
3722  1168  2A 00 00    	ld	hl,(_curr_time)
3723  116B  22 00 00    	ld	(_entry_time),hl
3724  116E  DD 5E 05    	ld	e,(ix+5)
3725  1171  2A FF FF    	ld	hl,(_game_menu_sel-1)
3726  1174  2E 00       	ld	l,0x00
3727  1176  55          	ld	d, l
3728  1177  06 08       	ld	b,0x08
3729  1179              l_game_menu_handle_00148:
3730  1179  29          	add	hl,hl
3731  117A  30 01       	jr	NC,l_game_menu_handle_00149
3732  117C  19          	add	hl,de
3733  117D              l_game_menu_handle_00149:
3734  117D  10 FA       	djnz	l_game_menu_handle_00148
3735  117F  DD 7E 06    	ld	a,(ix+6)
3736  1182  85          	add	a,l
3737  1183  32 00 00    	ld	(_s_lin1),a
3738  1186  DD 7E 06    	ld	a,(ix+6)
3739  1189  DD 77 FF    	ld	(ix-1),a
3740  118C              l_game_menu_handle_00111:
3741  118C  21 00 00    	ld	hl,_k1
3742  118F  E5          	push	hl
3743  1190  2A 00 00    	ld	hl,(_joyfunc1)
3744  1193  CD 00 00    	call	___sdcc_call_hl
3745  1196  F1          	pop	af
3746  1197  7D          	ld	a,l
3747  1198  32 00 00    	ld	(_dirs),a
3748  119B  D6 80       	sub	a,0x80
3749  119D  CA 3F 12    	jp	Z,l_game_menu_handle_00113
3750  11A0  21 05 00    	ld	hl,0x0005
3751  11A3  E5          	push	hl
3752  11A4  2A 00 00    	ld	hl,(_frame_time)
3753  11A7  E5          	push	hl
3754  11A8  CD 11 1A    	call	_game_check_time
3755  11AB  F1          	pop	af
3756  11AC  F1          	pop	af
3757  11AD  7D          	ld	a,l
3758  11AE  B7          	or	a, a
3759  11AF  28 58       	jr	Z,l_game_menu_handle_00106
3760  11B1  3A 00 00    	ld	a,(_dirs)
3761  11B4  B7          	or	a, a
3762  11B5  28 32       	jr	Z,l_game_menu_handle_00104
3763  11B7  21 00 00    	ld	hl,_ay_effect_03
3764  11BA  CD 00 00    	call	_ay_fx_play
3765  11BD  CD 00 00    	call	_sound_slide
3766  11C0  3A 00 00    	ld	a,(_s_lin1)
3767  11C3  07          	rlca
3768  11C4  07          	rlca
3769  11C5  07          	rlca
3770  11C6  E6 F8       	and	a,0xf8
3771  11C8  C6 08       	add	a,0x08
3772  11CA  F5          	push	af
3773  11CB  33          	inc	sp
3774  11CC  26 14       	ld	h,0x14
3775  11CE  DD 6E 04    	ld	l,(ix+4)
3776  11D1  E5          	push	hl
3777  11D2  CD EC 0C    	call	_game_paint_attrib_lin
3778  11D5  F1          	pop	af
3779  11D6  33          	inc	sp
3780  11D7  21 00 00    	ld	hl,_s_lin1
3781  11DA  7E          	ld	a,(hl)
3782  11DB  DD 86 05    	add	a,(ix+5)
3783  11DE  77          	ld	(hl),a
3784  11DF  DD 7E 07    	ld	a,(ix+7)
3785  11E2  96          	sub	a, (hl)
3786  11E3  30 04       	jr	NC,l_game_menu_handle_00104
3787  11E5  DD 7E FF    	ld	a,(ix-1)
3788  11E8  77          	ld	(hl),a
3789  11E9              l_game_menu_handle_00104:
3790  11E9  2A 00 00    	ld	hl,(_curr_time)
3791  11EC  22 00 00    	ld	(_frame_time),hl
3792  11EF  3A 00 00    	ld	a,(_s_lin1)
3793  11F2  07          	rlca
3794  11F3  07          	rlca
3795  11F4  07          	rlca
3796  11F5  E6 F8       	and	a,0xf8
3797  11F7  C6 08       	add	a,0x08
3798  11F9  F5          	push	af
3799  11FA  33          	inc	sp
3800  11FB  26 14       	ld	h,0x14
3801  11FD  DD 6E 04    	ld	l,(ix+4)
3802  1200  E5          	push	hl
3803  1201  CD 13 0D    	call	_game_paint_attrib_lin_h
3804  1204  F1          	pop	af
3805  1205  33          	inc	sp
3806  1206  CD 63 19    	call	_game_rotate_attrib
3807  1209              l_game_menu_handle_00106:
3808  1209  DD 7E 09    	ld	a,(ix+9)
3809  120C  DD B6 08    	or	a,(ix+8)
3810  120F  CA 8C 11    	jp	Z,l_game_menu_handle_00111
3811  1212  DD 6E 08    	ld	l,(ix+8)
3812  1215  DD 66 09    	ld	h,(ix+9)
3813  1218  E5          	push	hl
3814  1219  2A 00 00    	ld	hl,(_entry_time)
3815  121C  E5          	push	hl
3816  121D  CD 11 1A    	call	_game_check_time
3817  1220  F1          	pop	af
3818  1221  F1          	pop	af
3819  1222  7D          	ld	a,l
3820  1223  B7          	or	a, a
3821  1224  CA 8C 11    	jp	Z,l_game_menu_handle_00111
3822  1227  CD 00 00    	call	_ay_is_playing
3823  122A  7D          	ld	a,l
3824  122B  B7          	or	a, a
3825  122C  C2 8C 11    	jp	NZ,l_game_menu_handle_00111
3826  122F  CD 92 18    	call	_game_hall_of_fame
3827  1232  21 00 00    	ld	hl,_game_menu_sel
3828  1235  2E 00       	ld	l,0x00
3829  1237  75          	ld	(hl),l
3830  1238  CD 91 16    	call	_game_menu_back
3831  123B  2E FF       	ld	l,0xff
3832  123D  18 10       	jr	l_game_menu_handle_00114
3833  123F              l_game_menu_handle_00113:
3834  123F  3A 00 00    	ld	a,(_s_lin1)
3835  1242  DD 96 FF    	sub	a,(ix-1)
3836  1245  47          	ld	b,a
3837  1246  DD 7E 05    	ld	a,(ix+5)
3838  1249  48          	ld	c,b
3839  124A  47          	ld	b,a
3840  124B  C5          	push	bc
3841  124C  CD 00 00    	call	__divuchar_callee
3842  124F              l_game_menu_handle_00114:
3843  124F  33          	inc	sp
3844  1250  DD E1       	pop	ix
3845  1252  C9          	ret
3846  1253              	SECTION code_compiler
3847  1253              ;	---------------------------------
3848  1253              ; Function game_end
3849  1253              ; ---------------------------------
3850  1253              _game_end:
3851  1253  CD 00 00    	call	___sdcc_enter_ix
3852  1256  F5          	push	af
3853  1257  F5          	push	af
3854  1258  CD 00 00    	call	_spr_kill_all
3855  125B  CD 00 00    	call	_spr_draw_clear
3856  125E  21 00 00    	ld	hl,_pb_midi_title
3857  1261  CD 00 00    	call	_ay_midi_play
3858  1264  21 00 00    	ld	hl,_tmp1
3859  1267  36 50       	ld	(hl),0x50
3860  1269              l_game_end_00102:
3861  1269  3E 70       	ld	a,0x70
3862  126B  21 00 00    	ld	hl,_tmp1
3863  126E  96          	sub	a, (hl)
3864  126F  38 28       	jr	C,l_game_end_00104
3865  1271  21 00 00    	ld	hl,_tmp0
3866  1274  36 04       	ld	(hl),0x04
3867  1276              l_game_end_00130:
3868  1276  3A 00 00    	ld	a,(_tmp0)
3869  1279  F5          	push	af
3870  127A  33          	inc	sp
3871  127B  3A 00 00    	ld	a,(_tmp1)
3872  127E  57          	ld	d,a
3873  127F  1E 8F       	ld	e,0x8f
3874  1281  D5          	push	de
3875  1282  CD 00 00    	call	_NIRVANAP_drawT_callee
3876  1285  21 00 00    	ld	hl,_tmp0
3877  1288  7E          	ld	a,(hl)
3878  1289  C6 02       	add	a,0x02
3879  128B  77          	ld	(hl),a
3880  128C  D6 1C       	sub	a,0x1c
3881  128E  38 E6       	jr	C,l_game_end_00130
3882  1290  21 00 00    	ld	hl,_tmp1
3883  1293  7E          	ld	a,(hl)
3884  1294  C6 10       	add	a,0x10
3885  1296  77          	ld	(hl),a
3886  1297  18 D0       	jr	l_game_end_00102
3887  1299              l_game_end_00104:
3888  1299  21 50 18    	ld	hl,0x1850
3889  129C  E5          	push	hl
3890  129D  3E D6       	ld	a,0xd6
3891  129F  F5          	push	af
3892  12A0  33          	inc	sp
3893  12A1  CD 00 00    	call	_NIRVANAP_drawT_callee
3894  12A4  21 9C 01    	ld	hl,0x019c
3895  12A7  E5          	push	hl
3896  12A8  21 01 1D    	ld	hl,0x1d01
3897  12AB  E5          	push	hl
3898  12AC  3E 20       	ld	a,0x20
3899  12AE  F5          	push	af
3900  12AF  33          	inc	sp
3901  12B0  CD B1 10    	call	_game_menu_e
3902  12B3  F1          	pop	af
3903  12B4  33          	inc	sp
3904  12B5  21 9F FF    	ld	hl,0xff9f
3905  12B8  E3          	ex	(sp),hl
3906  12B9  21 01 1D    	ld	hl,0x1d01
3907  12BC  E5          	push	hl
3908  12BD  3E 80       	ld	a,0x80
3909  12BF  F5          	push	af
3910  12C0  33          	inc	sp
3911  12C1  CD B1 10    	call	_game_menu_e
3912  12C4  F1          	pop	af
3913  12C5  F1          	pop	af
3914  12C6  33          	inc	sp
3915  12C7  3E 00       	ld	a,0x00
3916  12C9  DD 77 FD    	ld	(ix-3),a
3917  12CC  DD 77 FC    	ld	(ix-4),a
3918  12CF  3A 00 00    	ld	a,(_game_two_player)
3919  12D2  B7          	or	a, a
3920  12D3  28 16       	jr	Z,l_game_end_00110
3921  12D5  3A 00 00    	ld	a,(_game_lives)
3922  12D8  B7          	or	a, a
3923  12D9  28 04       	jr	Z,l_game_end_00106
3924  12DB  DD 36 FD 01 	ld	(ix-3),0x01
3925  12DF              l_game_end_00106:
3926  12DF  3A 01 00    	ld	a, (_game_lives + 1)
3927  12E2  B7          	or	a, a
3928  12E3  28 0A       	jr	Z,l_game_end_00111
3929  12E5  DD 36 FC 01 	ld	(ix-4),0x01
3930  12E9  18 04       	jr	l_game_end_00111
3931  12EB              l_game_end_00110:
3932  12EB  DD 36 FD 01 	ld	(ix-3),0x01
3933  12EF              l_game_end_00111:
3934  12EF  DD 7E FD    	ld	a,(ix-3)
3935  12F2  3D          	dec	a
3936  12F3  20 04       	jr	NZ,l_game_end_00210
3937  12F5  3E 01       	ld	a,0x01
3938  12F7  18 01       	jr	l_game_end_00211
3939  12F9              l_game_end_00210:
3940  12F9  AF          	xor	a,a
3941  12FA              l_game_end_00211:
3942  12FA  DD 77 FE    	ld	(ix-2),a
3943  12FD  B7          	or	a, a
3944  12FE  28 1C       	jr	Z,l_game_end_00113
3945  1300  DD 7E FC    	ld	a,(ix-4)
3946  1303  B7          	or	a, a
3947  1304  20 16       	jr	NZ,l_game_end_00113
3948  1306  21 86 01    	ld	hl,___str_41
3949  1309  E5          	push	hl
3950  130A  21 13 01    	ld	hl,0x0113
3951  130D  E5          	push	hl
3952  130E  CD 00 00    	call	_zx_print_str
3953  1311  21 50 0C    	ld	hl,0x0c50
3954  1314  E5          	push	hl
3955  1315  3E 03       	ld	a,0x03
3956  1317  F5          	push	af
3957  1318  33          	inc	sp
3958  1319  CD 00 00    	call	_NIRVANAP_drawT_callee
3959  131C              l_game_end_00113:
3960  131C  DD 7E FC    	ld	a,(ix-4)
3961  131F  3D          	dec	a
3962  1320  20 04       	jr	NZ,l_game_end_00212
3963  1322  3E 01       	ld	a,0x01
3964  1324  18 01       	jr	l_game_end_00213
3965  1326              l_game_end_00212:
3966  1326  AF          	xor	a,a
3967  1327              l_game_end_00213:
3968  1327  DD 77 FF    	ld	(ix-1),a
3969  132A  DD 7E FD    	ld	a,(ix-3)
3970  132D  B7          	or	a, a
3971  132E  20 1C       	jr	NZ,l_game_end_00116
3972  1330  DD 7E FF    	ld	a,(ix-1)
3973  1333  B7          	or	a, a
3974  1334  28 16       	jr	Z,l_game_end_00116
3975  1336  21 90 01    	ld	hl,___str_42
3976  1339  E5          	push	hl
3977  133A  21 13 01    	ld	hl,0x0113
3978  133D  E5          	push	hl
3979  133E  CD 00 00    	call	_zx_print_str
3980  1341  21 60 0E    	ld	hl,0x0e60
3981  1344  E5          	push	hl
3982  1345  3E 1B       	ld	a,0x1b
3983  1347  F5          	push	af
3984  1348  33          	inc	sp
3985  1349  CD 00 00    	call	_NIRVANAP_drawT_callee
3986  134C              l_game_end_00116:
3987  134C  DD 7E FE    	ld	a,(ix-2)
3988  134F  B7          	or	a, a
3989  1350  28 27       	jr	Z,l_game_end_00119
3990  1352  DD 7E FF    	ld	a,(ix-1)
3991  1355  B7          	or	a, a
3992  1356  28 21       	jr	Z,l_game_end_00119
3993  1358  21 99 01    	ld	hl,___str_43
3994  135B  E5          	push	hl
3995  135C  21 13 01    	ld	hl,0x0113
3996  135F  E5          	push	hl
3997  1360  CD 00 00    	call	_zx_print_str
3998  1363  21 50 0C    	ld	hl,0x0c50
3999  1366  E5          	push	hl
4000  1367  3E 03       	ld	a,0x03
4001  1369  F5          	push	af
4002  136A  33          	inc	sp
4003  136B  CD 00 00    	call	_NIRVANAP_drawT_callee
4004  136E  21 60 0E    	ld	hl,0x0e60
4005  1371  E5          	push	hl
4006  1372  3E 1B       	ld	a,0x1b
4007  1374  F5          	push	af
4008  1375  33          	inc	sp
4009  1376  CD 00 00    	call	_NIRVANAP_drawT_callee
4010  1379              l_game_end_00119:
4011  1379  21 C8 00    	ld	hl,0x00c8
4012  137C  E5          	push	hl
4013  137D  21 01 1F    	ld	hl,0x1f01
4014  1380  E5          	push	hl
4015  1381  3E 13       	ld	a,0x13
4016  1383  F5          	push	af
4017  1384  33          	inc	sp
4018  1385  CD 7F 19    	call	_game_colour_message
4019  1388  F1          	pop	af
4020  1389  F1          	pop	af
4021  138A  33          	inc	sp
4022  138B  DD 7E FE    	ld	a,(ix-2)
4023  138E  B7          	or	a, a
4024  138F  28 32       	jr	Z,l_game_end_00122
4025  1391  DD 7E FC    	ld	a,(ix-4)
4026  1394  B7          	or	a, a
4027  1395  20 2C       	jr	NZ,l_game_end_00122
4028  1397  21 40 12    	ld	hl,0x1240
4029  139A  E5          	push	hl
4030  139B  3E CB       	ld	a,0xcb
4031  139D  F5          	push	af
4032  139E  33          	inc	sp
4033  139F  CD 00 00    	call	_NIRVANAP_drawT_callee
4034  13A2  21 50 12    	ld	hl,0x1250
4035  13A5  E5          	push	hl
4036  13A6  3E CA       	ld	a,0xca
4037  13A8  F5          	push	af
4038  13A9  33          	inc	sp
4039  13AA  CD 00 00    	call	_NIRVANAP_drawT_callee
4040  13AD  21 AD 01    	ld	hl,___str_44
4041  13B0  E5          	push	hl
4042  13B1  21 13 01    	ld	hl,0x0113
4043  13B4  E5          	push	hl
4044  13B5  CD 00 00    	call	_zx_print_str
4045  13B8  21 40 0C    	ld	hl,0x0c40
4046  13BB  E5          	push	hl
4047  13BC  3E CB       	ld	a,0xcb
4048  13BE  F5          	push	af
4049  13BF  33          	inc	sp
4050  13C0  CD 00 00    	call	_NIRVANAP_drawT_callee
4051  13C3              l_game_end_00122:
4052  13C3  DD 7E FD    	ld	a,(ix-3)
4053  13C6  B7          	or	a, a
4054  13C7  20 32       	jr	NZ,l_game_end_00125
4055  13C9  DD 7E FF    	ld	a,(ix-1)
4056  13CC  B7          	or	a, a
4057  13CD  28 2C       	jr	Z,l_game_end_00125
4058  13CF  21 50 12    	ld	hl,0x1250
4059  13D2  E5          	push	hl
4060  13D3  3E CB       	ld	a,0xcb
4061  13D5  F5          	push	af
4062  13D6  33          	inc	sp
4063  13D7  CD 00 00    	call	_NIRVANAP_drawT_callee
4064  13DA  21 60 12    	ld	hl,0x1260
4065  13DD  E5          	push	hl
4066  13DE  3E CA       	ld	a,0xca
4067  13E0  F5          	push	af
4068  13E1  33          	inc	sp
4069  13E2  CD 00 00    	call	_NIRVANAP_drawT_callee
4070  13E5  21 AD 01    	ld	hl,___str_44
4071  13E8  E5          	push	hl
4072  13E9  21 13 01    	ld	hl,0x0113
4073  13EC  E5          	push	hl
4074  13ED  CD 00 00    	call	_zx_print_str
4075  13F0  21 50 0E    	ld	hl,0x0e50
4076  13F3  E5          	push	hl
4077  13F4  3E CB       	ld	a,0xcb
4078  13F6  F5          	push	af
4079  13F7  33          	inc	sp
4080  13F8  CD 00 00    	call	_NIRVANAP_drawT_callee
4081  13FB              l_game_end_00125:
4082  13FB  DD 7E FE    	ld	a,(ix-2)
4083  13FE  B7          	or	a, a
4084  13FF  28 53       	jr	Z,l_game_end_00128
4085  1401  DD 7E FF    	ld	a,(ix-1)
4086  1404  B7          	or	a, a
4087  1405  28 4D       	jr	Z,l_game_end_00128
4088  1407  21 C1 01    	ld	hl,___str_45
4089  140A  E5          	push	hl
4090  140B  21 13 01    	ld	hl,0x0113
4091  140E  E5          	push	hl
4092  140F  CD 00 00    	call	_zx_print_str
4093  1412  21 40 12    	ld	hl,0x1240
4094  1415  E5          	push	hl
4095  1416  3E CB       	ld	a,0xcb
4096  1418  F5          	push	af
4097  1419  33          	inc	sp
4098  141A  CD 00 00    	call	_NIRVANAP_drawT_callee
4099  141D  21 50 12    	ld	hl,0x1250
4100  1420  E5          	push	hl
4101  1421  3E CA       	ld	a,0xca
4102  1423  F5          	push	af
4103  1424  33          	inc	sp
4104  1425  CD 00 00    	call	_NIRVANAP_drawT_callee
4105  1428  21 50 10    	ld	hl,0x1050
4106  142B  E5          	push	hl
4107  142C  3E CB       	ld	a,0xcb
4108  142E  F5          	push	af
4109  142F  33          	inc	sp
4110  1430  CD 00 00    	call	_NIRVANAP_drawT_callee
4111  1433  21 60 10    	ld	hl,0x1060
4112  1436  E5          	push	hl
4113  1437  3E CA       	ld	a,0xca
4114  1439  F5          	push	af
4115  143A  33          	inc	sp
4116  143B  CD 00 00    	call	_NIRVANAP_drawT_callee
4117  143E  21 40 0C    	ld	hl,0x0c40
4118  1441  E5          	push	hl
4119  1442  3E CB       	ld	a,0xcb
4120  1444  F5          	push	af
4121  1445  33          	inc	sp
4122  1446  CD 00 00    	call	_NIRVANAP_drawT_callee
4123  1449  21 50 0E    	ld	hl,0x0e50
4124  144C  E5          	push	hl
4125  144D  3E CB       	ld	a,0xcb
4126  144F  F5          	push	af
4127  1450  33          	inc	sp
4128  1451  CD 00 00    	call	_NIRVANAP_drawT_callee
4129  1454              l_game_end_00128:
4130  1454  21 C8 00    	ld	hl,0x00c8
4131  1457  E5          	push	hl
4132  1458  21 01 1F    	ld	hl,0x1f01
4133  145B  E5          	push	hl
4134  145C  3E 13       	ld	a,0x13
4135  145E  F5          	push	af
4136  145F  33          	inc	sp
4137  1460  CD 7F 19    	call	_game_colour_message
4138  1463  F1          	pop	af
4139  1464  33          	inc	sp
4140  1465  21 D7 01    	ld	hl,___str_46
4141  1468  E3          	ex	(sp),hl
4142  1469  21 13 01    	ld	hl,0x0113
4143  146C  E5          	push	hl
4144  146D  CD 00 00    	call	_zx_print_str
4145  1470  21 C8 00    	ld	hl,0x00c8
4146  1473  E5          	push	hl
4147  1474  21 01 1F    	ld	hl,0x1f01
4148  1477  E5          	push	hl
4149  1478  3E 13       	ld	a,0x13
4150  147A  F5          	push	af
4151  147B  33          	inc	sp
4152  147C  CD 7F 19    	call	_game_colour_message
4153  147F  F1          	pop	af
4154  1480  F1          	pop	af
4155  1481  33          	inc	sp
4156  1482  CD 00 00    	call	_spr_draw_clear
4157  1485  DD F9       	ld	sp, ix
4158  1487  DD E1       	pop	ix
4159  1489  C9          	ret
4160  148A              	SECTION rodata_compiler
4161  0186              ___str_41:
4162  0186  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4163  018F  00          	DEFB 0x00
4164  0190              	SECTION rodata_compiler
4165  0190              ___str_42:
4166  0190  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4167  0198  00          	DEFB 0x00
4168  0199              	SECTION rodata_compiler
4169  0199              ___str_43:
4170  0199  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4171  01AC  00          	DEFB 0x00
4172  01AD              	SECTION rodata_compiler
4173  01AD              ___str_44:
4174  01AD  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4175  01C0  00          	DEFB 0x00
4176  01C1              	SECTION rodata_compiler
4177  01C1              ___str_45:
4178  01C1  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4179  01D6  00          	DEFB 0x00
4180  01D7              	SECTION rodata_compiler
4181  01D7              ___str_46:
4182  01D7  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE U!"
4183  01F5  00          	DEFB 0x00
4184  01F6              	SECTION code_compiler
4185  148A              ;	---------------------------------
4186  148A              ; Function game_hall_check
4187  148A              ; ---------------------------------
4188  148A              _game_hall_check:
4189  148A  5D          	ld	e,l
4190  148B  01 00 00    	ld	bc,_player_score+0
4191  148E  26 00       	ld	h,0x00
4192  1490  6B          	ld	l, e
4193  1491  29          	add	hl, hl
4194  1492  09          	add	hl,bc
4195  1493  4E          	ld	c,(hl)
4196  1494  23          	inc	hl
4197  1495  46          	ld	b,(hl)
4198  1496  2A 3A 00    	ld	hl,(_hof + 0x003a)
4199  1499  AF          	xor	a,a
4200  149A  ED 42       	sbc	hl,bc
4201  149C  30 09       	jr	NC,l_game_hall_check_00104
4202  149E  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4203  14A2  21 36 00    	ld	hl,+(_hof + 0x0036)
4204  14A5  18 14       	jr	l_game_hall_check_00106
4205  14A7              l_game_hall_check_00104:
4206  14A7  2A 34 00    	ld	hl,(_hof + 0x0034)
4207  14AA  AF          	xor	a,a
4208  14AB  ED 42       	sbc	hl,bc
4209  14AD  30 09       	jr	NC,l_game_hall_check_00105
4210  14AF  ED 43 34 00 	ld	(_hof + 0x0034),bc
4211  14B3  21 30 00    	ld	hl,+(_hof + 0x0030)
4212  14B6  18 03       	jr	l_game_hall_check_00106
4213  14B8              l_game_hall_check_00105:
4214  14B8  21 00 00    	ld	hl,0x0000
4215  14BB              l_game_hall_check_00106:
4216  14BB  C9          	ret
4217  14BC              	SECTION code_compiler
4218  14BC              ;	---------------------------------
4219  14BC              ; Function compare_scores
4220  14BC              ; ---------------------------------
4221  14BC              _compare_scores:
4222  14BC  CD 00 00    	call	___sdcc_enter_ix
4223  14BF  DD 6E 06    	ld	l,(ix+6)
4224  14C2  DD 66 07    	ld	h,(ix+7)
4225  14C5  11 04 00    	ld	de,0x0004
4226  14C8  19          	add	hl, de
4227  14C9  4E          	ld	c,(hl)
4228  14CA  23          	inc	hl
4229  14CB  46          	ld	b,(hl)
4230  14CC  DD 6E 04    	ld	l,(ix+4)
4231  14CF  DD 66 05    	ld	h,(ix+5)
4232  14D2  11 04 00    	ld	de,0x0004
4233  14D5  19          	add	hl, de
4234  14D6  7E          	ld	a,(hl)
4235  14D7  23          	inc	hl
4236  14D8  56          	ld	d,(hl)
4237  14D9  5F          	ld	e,a
4238  14DA  91          	sub	a, c
4239  14DB  7A          	ld	a,d
4240  14DC  98          	sbc	a, b
4241  14DD  30 05       	jr	NC,l_compare_scores_00102
4242  14DF  21 01 00    	ld	hl,0x0001
4243  14E2  18 10       	jr	l_compare_scores_00105
4244  14E4              l_compare_scores_00102:
4245  14E4  79          	ld	a,c
4246  14E5  93          	sub	a, e
4247  14E6  20 09       	jr	NZ,l_compare_scores_00104
4248  14E8  78          	ld	a,b
4249  14E9  92          	sub	a, d
4250  14EA  20 05       	jr	NZ,l_compare_scores_00104
4251  14EC  21 00 00    	ld	hl,0x0000
4252  14EF  18 03       	jr	l_compare_scores_00105
4253  14F1              l_compare_scores_00104:
4254  14F1  21 FF FF    	ld	hl,0xffff
4255  14F4              l_compare_scores_00105:
4256  14F4  DD E1       	pop	ix
4257  14F6  C9          	ret
4258  14F7              	SECTION code_compiler
4259  14F7              ;	---------------------------------
4260  14F7              ; Function game_hall_enter
4261  14F7              ; ---------------------------------
4262  14F7              _game_hall_enter:
4263  14F7  CD 00 00    	call	___sdcc_enter_ix
4264  14FA  21 F7 FF    	ld	hl,-9
4265  14FD  39          	add	hl,sp
4266  14FE  F9          	ld	sp,hl
4267  14FF  CD 00 00    	call	_spr_draw_clear
4268  1502  2E 00       	ld	l,0x00
4269  1504  CD C8 0C    	call	_game_paint_attrib
4270  1507  ED 4B 00 00 	ld	bc,(_player_score)
4271  150B  2A 02 00    	ld	hl, (_player_score + 2)
4272  150E  AF          	xor	a,a
4273  150F  ED 42       	sbc	hl,bc
4274  1511  30 0F       	jr	NC,l_game_hall_enter_00102
4275  1513  2E 00       	ld	l,0x00
4276  1515  CD 8A 14    	call	_game_hall_check
4277  1518  E5          	push	hl
4278  1519  2E 01       	ld	l,0x01
4279  151B  CD 8A 14    	call	_game_hall_check
4280  151E  EB          	ex	de,hl
4281  151F  C1          	pop	bc
4282  1520  18 0E       	jr	l_game_hall_enter_00103
4283  1522              l_game_hall_enter_00102:
4284  1522  2E 01       	ld	l,0x01
4285  1524  CD 8A 14    	call	_game_hall_check
4286  1527  E5          	push	hl
4287  1528  2E 00       	ld	l,0x00
4288  152A  CD 8A 14    	call	_game_hall_check
4289  152D  D1          	pop	de
4290  152E  4D          	ld	c,l
4291  152F  44          	ld	b,h
4292  1530              l_game_hall_enter_00103:
4293  1530  78          	ld	a,b
4294  1531  B1          	or	a,c
4295  1532  20 05       	jr	NZ,l_game_hall_enter_00125
4296  1534  7A          	ld	a,d
4297  1535  B3          	or	a,e
4298  1536  CA 84 16    	jp	Z,l_game_hall_enter_00126
4299  1539              l_game_hall_enter_00125:
4300  1539  3E 00       	ld	a,0x00
4301  153B  DD 77 F7    	ld	(ix-9),a
4302  153E  DD 77 FB    	ld	(ix-5),a
4303  1541  DD 77 FA    	ld	(ix-6),a
4304  1544  DD 77 F9    	ld	(ix-7),a
4305  1547  DD 36 F8 00 	ld	(ix-8),0x00
4306  154B  78          	ld	a,b
4307  154C  B1          	or	a,c
4308  154D  28 0D       	jr	Z,l_game_hall_enter_00105
4309  154F  DD 36 F9 01 	ld	(ix-7),0x01
4310  1553  C5          	push	bc
4311  1554  D5          	push	de
4312  1555  2E 00       	ld	l,0x00
4313  1557  CD A7 16    	call	_game_hall_enter_phs
4314  155A  D1          	pop	de
4315  155B  C1          	pop	bc
4316  155C              l_game_hall_enter_00105:
4317  155C  7A          	ld	a,d
4318  155D  B3          	or	a,e
4319  155E  28 0D       	jr	Z,l_game_hall_enter_00107
4320  1560  DD 36 F8 05 	ld	(ix-8),0x05
4321  1564  C5          	push	bc
4322  1565  D5          	push	de
4323  1566  2E 01       	ld	l,0x01
4324  1568  CD A7 16    	call	_game_hall_enter_phs
4325  156B  D1          	pop	de
4326  156C  C1          	pop	bc
4327  156D              l_game_hall_enter_00107:
4328  156D  C5          	push	bc
4329  156E  D5          	push	de
4330  156F  21 F6 01    	ld	hl,___str_47
4331  1572  E5          	push	hl
4332  1573  21 02 0A    	ld	hl,0x0a02
4333  1576  E5          	push	hl
4334  1577  CD 00 00    	call	_zx_print_str
4335  157A  21 03 02    	ld	hl,___str_48
4336  157D  E5          	push	hl
4337  157E  21 12 06    	ld	hl,0x0612
4338  1581  E5          	push	hl
4339  1582  CD 00 00    	call	_zx_print_str
4340  1585  21 16 02    	ld	hl,___str_49
4341  1588  E5          	push	hl
4342  1589  21 13 06    	ld	hl,0x0613
4343  158C  E5          	push	hl
4344  158D  CD 00 00    	call	_zx_print_str
4345  1590  D1          	pop	de
4346  1591  C1          	pop	bc
4347  1592  DD 71 FE    	ld	(ix-2),c
4348  1595  DD 70 FF    	ld	(ix-1),b
4349  1598  DD 73 FC    	ld	(ix-4),e
4350  159B  DD 72 FD    	ld	(ix-3),d
4351  159E              l_game_hall_enter_00122:
4352  159E  DD 7E F9    	ld	a,(ix-7)
4353  15A1  DD 86 F8    	add	a,(ix-8)
4354  15A4  B7          	or	a, a
4355  15A5  CA 6C 16    	jp	Z,l_game_hall_enter_00124
4356  15A8  21 05 00    	ld	hl,0x0005
4357  15AB  E5          	push	hl
4358  15AC  2A 00 00    	ld	hl,(_frame_time)
4359  15AF  E5          	push	hl
4360  15B0  CD 11 1A    	call	_game_check_time
4361  15B3  F1          	pop	af
4362  15B4  F1          	pop	af
4363  15B5  7D          	ld	a,l
4364  15B6  B7          	or	a, a
4365  15B7  28 36       	jr	Z,l_game_hall_enter_00113
4366  15B9  DD 7E FA    	ld	a,(ix-6)
4367  15BC  D6 01       	sub	a,0x01
4368  15BE  3E 00       	ld	a,0x00
4369  15C0  17          	rla
4370  15C1  DD 77 FA    	ld	(ix-6),a
4371  15C4  DD 7E F9    	ld	a,(ix-7)
4372  15C7  B7          	or	a, a
4373  15C8  28 0B       	jr	Z,l_game_hall_enter_00109
4374  15CA  DD 66 FA    	ld	h,(ix-6)
4375  15CD  DD 6E F9    	ld	l,(ix-7)
4376  15D0  E5          	push	hl
4377  15D1  CD 1E 17    	call	_game_hall_print_p
4378  15D4  F1          	pop	af
4379  15D5              l_game_hall_enter_00109:
4380  15D5  DD 7E F8    	ld	a,(ix-8)
4381  15D8  B7          	or	a, a
4382  15D9  28 0B       	jr	Z,l_game_hall_enter_00111
4383  15DB  DD 66 FA    	ld	h,(ix-6)
4384  15DE  DD 6E F8    	ld	l,(ix-8)
4385  15E1  E5          	push	hl
4386  15E2  CD 1E 17    	call	_game_hall_print_p
4387  15E5  F1          	pop	af
4388  15E6              l_game_hall_enter_00111:
4389  15E6  CD 63 19    	call	_game_rotate_attrib
4390  15E9  2A 00 00    	ld	hl,(_curr_time)
4391  15EC  22 00 00    	ld	(_frame_time),hl
4392  15EF              l_game_hall_enter_00113:
4393  15EF  21 00 00    	ld	hl,_k1
4394  15F2  E5          	push	hl
4395  15F3  2A 00 00    	ld	hl,(_joyfunc1)
4396  15F6  CD 00 00    	call	___sdcc_call_hl
4397  15F9  F1          	pop	af
4398  15FA  7D          	ld	a,l
4399  15FB  32 00 00    	ld	(_dirs),a
4400  15FE  DD 7E F7    	ld	a,(ix-9)
4401  1601  B7          	or	a, a
4402  1602  20 22       	jr	NZ,l_game_hall_enter_00115
4403  1604  DD 7E F9    	ld	a,(ix-7)
4404  1607  B7          	or	a, a
4405  1608  28 1C       	jr	Z,l_game_hall_enter_00115
4406  160A  DD 6E F9    	ld	l,(ix-7)
4407  160D  CD DC 17    	call	_game_hall_edit_p
4408  1610  DD 75 F9    	ld	(ix-7),l
4409  1613  7D          	ld	a,l
4410  1614  B7          	or	a, a
4411  1615  20 0F       	jr	NZ,l_game_hall_enter_00115
4412  1617  DD 5E FE    	ld	e,(ix-2)
4413  161A  DD 56 FF    	ld	d,(ix-1)
4414  161D  AF          	xor	a,a
4415  161E  21 00 00    	ld	hl,_initials
4416  1621              l_game_hall_enter_00190:
4417  1621  BE          	cp	a, (hl)
4418  1622  ED A0       	ldi
4419  1624  20 FB       	jr	NZ, l_game_hall_enter_00190
4420  1626              l_game_hall_enter_00115:
4421  1626  3A 00 00    	ld	a,(_dirs)
4422  1629  DD 77 F7    	ld	(ix-9),a
4423  162C  21 00 00    	ld	hl,_k2
4424  162F  E5          	push	hl
4425  1630  2A 00 00    	ld	hl,(_joyfunc2)
4426  1633  CD 00 00    	call	___sdcc_call_hl
4427  1636  F1          	pop	af
4428  1637  7D          	ld	a,l
4429  1638  32 00 00    	ld	(_dirs),a
4430  163B  DD 7E FB    	ld	a,(ix-5)
4431  163E  B7          	or	a, a
4432  163F  20 22       	jr	NZ,l_game_hall_enter_00119
4433  1641  DD 7E F8    	ld	a,(ix-8)
4434  1644  B7          	or	a, a
4435  1645  28 1C       	jr	Z,l_game_hall_enter_00119
4436  1647  DD 6E F8    	ld	l,(ix-8)
4437  164A  CD DC 17    	call	_game_hall_edit_p
4438  164D  DD 75 F8    	ld	(ix-8),l
4439  1650  7D          	ld	a,l
4440  1651  B7          	or	a, a
4441  1652  20 0F       	jr	NZ,l_game_hall_enter_00119
4442  1654  DD 5E FC    	ld	e,(ix-4)
4443  1657  DD 56 FD    	ld	d,(ix-3)
4444  165A  AF          	xor	a,a
4445  165B  21 04 00    	ld	hl,+(_initials + 0x0004)
4446  165E              l_game_hall_enter_00191:
4447  165E  BE          	cp	a, (hl)
4448  165F  ED A0       	ldi
4449  1661  20 FB       	jr	NZ, l_game_hall_enter_00191
4450  1663              l_game_hall_enter_00119:
4451  1663  3A 00 00    	ld	a,(_dirs)
4452  1666  DD 77 FB    	ld	(ix-5),a
4453  1669  C3 9E 15    	jp	l_game_hall_enter_00122
4454  166C              l_game_hall_enter_00124:
4455  166C  CD 00 00    	call	_ay_reset
4456  166F  CD 00 00    	call	_spr_draw_clear
4457  1672  01 BC 14    	ld	bc,_compare_scores
4458  1675  C5          	push	bc
4459  1676  21 06 00    	ld	hl,0x0006
4460  1679  E5          	push	hl
4461  167A  2E 0A       	ld	l,0x0a
4462  167C  E5          	push	hl
4463  167D  21 00 00    	ld	hl,_hof
4464  1680  E5          	push	hl
4465  1681  CD 00 00    	call	__insertion_sort__callee
4466  1684              l_game_hall_enter_00126:
4467  1684  CD 92 18    	call	_game_hall_of_fame
4468  1687  2E 00       	ld	l,0x00
4469  1689  CD 91 16    	call	_game_menu_back
4470  168C  DD F9       	ld	sp, ix
4471  168E  DD E1       	pop	ix
4472  1690  C9          	ret
4473  1691              	SECTION rodata_compiler
4474  01F6              ___str_47:
4475  01F6  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4476  0202  00          	DEFB 0x00
4477  0203              	SECTION rodata_compiler
4478  0203              ___str_48:
4479  0203  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4480  0215  00          	DEFB 0x00
4481  0216              	SECTION rodata_compiler
4482  0216              ___str_49:
4483  0216  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4484  0229  00          	DEFB 0x00
4485  022A              	SECTION code_compiler
4486  1691              ;	---------------------------------
4487  1691              ; Function game_menu_back
4488  1691              ; ---------------------------------
4489  1691              _game_menu_back:
4490  1691  7D          	ld	a,l
4491  1692  32 00 00    	ld	(_s_lin1),a
4492  1695  21 00 00    	ld	hl,_game_menu_sel
4493  1698  36 00       	ld	(hl),0x00
4494  169A  CD BD 0F    	call	_game_menu_top_paint
4495  169D  CD 31 10    	call	_game_menu_paint
4496  16A0  2A 00 00    	ld	hl,(_curr_time)
4497  16A3  22 00 00    	ld	(_entry_time),hl
4498  16A6  C9          	ret
4499  16A7              	SECTION code_compiler
4500  16A7              ;	---------------------------------
4501  16A7              ; Function game_hall_enter_phs
4502  16A7              ; ---------------------------------
4503  16A7              _game_hall_enter_phs:
4504  16A7  7D          	ld	a,l
4505  16A8  B7          	or	a, a
4506  16A9  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4507  16AB  21 9C 01    	ld	hl,0x019c
4508  16AE  E5          	push	hl
4509  16AF  21 02 0C    	ld	hl,0x0c02
4510  16B2  E5          	push	hl
4511  16B3  3E 30       	ld	a,0x30
4512  16B5  F5          	push	af
4513  16B6  33          	inc	sp
4514  16B7  CD B1 10    	call	_game_menu_e
4515  16BA  F1          	pop	af
4516  16BB  33          	inc	sp
4517  16BC  21 9F FF    	ld	hl,0xff9f
4518  16BF  E3          	ex	(sp),hl
4519  16C0  21 02 0C    	ld	hl,0x0c02
4520  16C3  E5          	push	hl
4521  16C4  3E 7C       	ld	a,0x7c
4522  16C6  F5          	push	af
4523  16C7  33          	inc	sp
4524  16C8  CD B1 10    	call	_game_menu_e
4525  16CB  F1          	pop	af
4526  16CC  33          	inc	sp
4527  16CD  21 2A 02    	ld	hl,___str_50
4528  16D0  E3          	ex	(sp),hl
4529  16D1  21 07 05    	ld	hl,0x0507
4530  16D4  E5          	push	hl
4531  16D5  CD 00 00    	call	_zx_print_str
4532  16D8  21 2F 02    	ld	hl,___str_51
4533  16DB  E5          	push	hl
4534  16DC  21 08 05    	ld	hl,0x0508
4535  16DF  E5          	push	hl
4536  16E0  CD 00 00    	call	_zx_print_str
4537  16E3  18 38       	jr	l_game_hall_enter_phs_00104
4538  16E5              l_game_hall_enter_phs_00102:
4539  16E5  21 9C 01    	ld	hl,0x019c
4540  16E8  E5          	push	hl
4541  16E9  21 12 1C    	ld	hl,0x1c12
4542  16EC  E5          	push	hl
4543  16ED  3E 30       	ld	a,0x30
4544  16EF  F5          	push	af
4545  16F0  33          	inc	sp
4546  16F1  CD B1 10    	call	_game_menu_e
4547  16F4  F1          	pop	af
4548  16F5  33          	inc	sp
4549  16F6  21 9F FF    	ld	hl,0xff9f
4550  16F9  E3          	ex	(sp),hl
4551  16FA  21 12 1C    	ld	hl,0x1c12
4552  16FD  E5          	push	hl
4553  16FE  3E 7C       	ld	a,0x7c
4554  1700  F5          	push	af
4555  1701  33          	inc	sp
4556  1702  CD B1 10    	call	_game_menu_e
4557  1705  F1          	pop	af
4558  1706  33          	inc	sp
4559  1707  21 2A 02    	ld	hl,___str_50
4560  170A  E3          	ex	(sp),hl
4561  170B  21 07 15    	ld	hl,0x1507
4562  170E  E5          	push	hl
4563  170F  CD 00 00    	call	_zx_print_str
4564  1712  21 2F 02    	ld	hl,___str_51
4565  1715  E5          	push	hl
4566  1716  21 08 15    	ld	hl,0x1508
4567  1719  E5          	push	hl
4568  171A  CD 00 00    	call	_zx_print_str
4569  171D              l_game_hall_enter_phs_00104:
4570  171D  C9          	ret
4571  171E              	SECTION rodata_compiler
4572  022A              ___str_50:
4573  022A  48 49 47 48 	DEFM "HIGH"
4574  022E  00          	DEFB 0x00
4575  022F              	SECTION rodata_compiler
4576  022F              ___str_51:
4577  022F  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4578  0235  00          	DEFB 0x00
4579  0236              	SECTION code_compiler
4580  171E              ;	---------------------------------
4581  171E              ; Function game_hall_print_p
4582  171E              ; ---------------------------------
4583  171E              _game_hall_print_p:
4584  171E  CD 00 00    	call	___sdcc_enter_ix
4585  1721  DD 7E 04    	ld	a,(ix+4)
4586  1724  D6 05       	sub	a,0x05
4587  1726  30 59       	jr	NC,l_game_hall_print_p_00108
4588  1728  21 00 00    	ld	hl,_initials
4589  172B  E5          	push	hl
4590  172C  21 0D 06    	ld	hl,0x060d
4591  172F  E5          	push	hl
4592  1730  CD 00 00    	call	_zx_print_str
4593  1733  DD 7E 04    	ld	a,(ix+4)
4594  1736  C6 06       	add	a,0x06
4595  1738  47          	ld	b,a
4596  1739  DD 7E 04    	ld	a,(ix+4)
4597  173C  C6 05       	add	a,0x05
4598  173E  57          	ld	d,a
4599  173F  3E 70       	ld	a,0x70
4600  1741  F5          	push	af
4601  1742  33          	inc	sp
4602  1743  4A          	ld	c, d
4603  1744  C5          	push	bc
4604  1745  CD 13 0D    	call	_game_paint_attrib_lin_h
4605  1748  F1          	pop	af
4606  1749  33          	inc	sp
4607  174A  76          	halt
4608  174B  DD 7E 05    	ld	a,(ix+5)
4609  174E  B7          	or	a, a
4610  174F  28 18       	jr	Z,l_game_hall_print_p_00102
4611  1751  21 56 06    	ld	hl,0x0656
4612  1754  E5          	push	hl
4613  1755  3E A9       	ld	a,0xa9
4614  1757  F5          	push	af
4615  1758  33          	inc	sp
4616  1759  CD 00 00    	call	_NIRVANAP_drawT_callee
4617  175C  21 58 06    	ld	hl,0x0658
4618  175F  E5          	push	hl
4619  1760  3E 03       	ld	a,0x03
4620  1762  F5          	push	af
4621  1763  33          	inc	sp
4622  1764  CD 00 00    	call	_NIRVANAP_drawT_callee
4623  1767  18 70       	jr	l_game_hall_print_p_00110
4624  1769              l_game_hall_print_p_00102:
4625  1769  21 58 06    	ld	hl,0x0658
4626  176C  E5          	push	hl
4627  176D  3E A9       	ld	a,0xa9
4628  176F  F5          	push	af
4629  1770  33          	inc	sp
4630  1771  CD 00 00    	call	_NIRVANAP_drawT_callee
4631  1774  21 56 06    	ld	hl,0x0656
4632  1777  E5          	push	hl
4633  1778  3E 16       	ld	a,0x16
4634  177A  F5          	push	af
4635  177B  33          	inc	sp
4636  177C  CD 00 00    	call	_NIRVANAP_drawT_callee
4637  177F  18 58       	jr	l_game_hall_print_p_00110
4638  1781              l_game_hall_print_p_00108:
4639  1781  21 04 00    	ld	hl,+(_initials + 0x0004)
4640  1784  E5          	push	hl
4641  1785  21 0D 16    	ld	hl,0x160d
4642  1788  E5          	push	hl
4643  1789  CD 00 00    	call	_zx_print_str
4644  178C  DD 7E 04    	ld	a,(ix+4)
4645  178F  C6 12       	add	a,0x12
4646  1791  57          	ld	d,a
4647  1792  DD 7E 04    	ld	a,(ix+4)
4648  1795  C6 11       	add	a,0x11
4649  1797  47          	ld	b,a
4650  1798  3E 70       	ld	a,0x70
4651  179A  5A          	ld	e,d
4652  179B  57          	ld	d,a
4653  179C  D5          	push	de
4654  179D  C5          	push	bc
4655  179E  33          	inc	sp
4656  179F  CD 13 0D    	call	_game_paint_attrib_lin_h
4657  17A2  F1          	pop	af
4658  17A3  33          	inc	sp
4659  17A4  76          	halt
4660  17A5  DD 7E 05    	ld	a,(ix+5)
4661  17A8  B7          	or	a, a
4662  17A9  28 18       	jr	Z,l_game_hall_print_p_00105
4663  17AB  21 56 17    	ld	hl,0x1756
4664  17AE  E5          	push	hl
4665  17AF  3E A9       	ld	a,0xa9
4666  17B1  F5          	push	af
4667  17B2  33          	inc	sp
4668  17B3  CD 00 00    	call	_NIRVANAP_drawT_callee
4669  17B6  21 58 17    	ld	hl,0x1758
4670  17B9  E5          	push	hl
4671  17BA  3E 27       	ld	a,0x27
4672  17BC  F5          	push	af
4673  17BD  33          	inc	sp
4674  17BE  CD 00 00    	call	_NIRVANAP_drawT_callee
4675  17C1  18 16       	jr	l_game_hall_print_p_00110
4676  17C3              l_game_hall_print_p_00105:
4677  17C3  21 58 17    	ld	hl,0x1758
4678  17C6  E5          	push	hl
4679  17C7  3E A9       	ld	a,0xa9
4680  17C9  F5          	push	af
4681  17CA  33          	inc	sp
4682  17CB  CD 00 00    	call	_NIRVANAP_drawT_callee
4683  17CE  21 56 17    	ld	hl,0x1756
4684  17D1  E5          	push	hl
4685  17D2  3E 2E       	ld	a,0x2e
4686  17D4  F5          	push	af
4687  17D5  33          	inc	sp
4688  17D6  CD 00 00    	call	_NIRVANAP_drawT_callee
4689  17D9              l_game_hall_print_p_00110:
4690  17D9  DD E1       	pop	ix
4691  17DB  C9          	ret
4692  17DC              	SECTION code_compiler
4693  17DC              ;	---------------------------------
4694  17DC              ; Function game_hall_edit_p
4695  17DC              ; ---------------------------------
4696  17DC              _game_hall_edit_p:
4697  17DC  CD 00 00    	call	___sdcc_enter_ix
4698  17DF  F5          	push	af
4699  17E0  4D          	ld	c,l
4700  17E1  0D          	dec	c
4701  17E2  3A 00 00    	ld	a,(_dirs)
4702  17E5  07          	rlca
4703  17E6  30 63       	jr	NC,l_game_hall_edit_p_00120
4704  17E8  79          	ld	a,c
4705  17E9  FE 04       	cp	a,0x04
4706  17EB  30 17       	jr	NC,l_game_hall_edit_p_00102
4707  17ED  C6 07       	add	a,0x07
4708  17EF  57          	ld	d,a
4709  17F0  79          	ld	a,c
4710  17F1  C6 06       	add	a,0x06
4711  17F3  47          	ld	b,a
4712  17F4  C5          	push	bc
4713  17F5  3E 70       	ld	a,0x70
4714  17F7  5A          	ld	e,d
4715  17F8  57          	ld	d,a
4716  17F9  D5          	push	de
4717  17FA  C5          	push	bc
4718  17FB  33          	inc	sp
4719  17FC  CD EC 0C    	call	_game_paint_attrib_lin
4720  17FF  F1          	pop	af
4721  1800  33          	inc	sp
4722  1801  C1          	pop	bc
4723  1802  18 16       	jr	l_game_hall_edit_p_00103
4724  1804              l_game_hall_edit_p_00102:
4725  1804  79          	ld	a,c
4726  1805  C6 13       	add	a,0x13
4727  1807  57          	ld	d,a
4728  1808  79          	ld	a,c
4729  1809  C6 12       	add	a,0x12
4730  180B  47          	ld	b,a
4731  180C  C5          	push	bc
4732  180D  3E 70       	ld	a,0x70
4733  180F  5A          	ld	e,d
4734  1810  57          	ld	d,a
4735  1811  D5          	push	de
4736  1812  C5          	push	bc
4737  1813  33          	inc	sp
4738  1814  CD EC 0C    	call	_game_paint_attrib_lin
4739  1817  F1          	pop	af
4740  1818  33          	inc	sp
4741  1819  C1          	pop	bc
4742  181A              l_game_hall_edit_p_00103:
4743  181A  C5          	push	bc
4744  181B  CD 00 00    	call	_sound_slide
4745  181E  C1          	pop	bc
4746  181F  21 00 00    	ld	hl,_ay_effect_01
4747  1822  CD 00 00    	call	_ay_fx_play
4748  1825  11 00 00    	ld	de,_initials+0
4749  1828  41          	ld	b,c
4750  1829  0C          	inc	c
4751  182A  68          	ld	l,b
4752  182B  26 00       	ld	h,0x00
4753  182D  19          	add	hl,de
4754  182E  7E          	ld	a,(hl)
4755  182F  D6 7B       	sub	a,0x7b
4756  1831  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4757  1833  0D          	dec	c
4758  1834  79          	ld	a,c
4759  1835  E6 03       	and	a,0x03
4760  1837  28 08       	jr	Z,l_game_hall_edit_p_00107
4761  1839  41          	ld	b,c
4762  183A  0D          	dec	c
4763  183B  68          	ld	l,b
4764  183C  26 00       	ld	h,0x00
4765  183E  19          	add	hl,de
4766  183F  36 41       	ld	(hl),0x41
4767  1841              l_game_hall_edit_p_00107:
4768  1841  79          	ld	a,c
4769  1842  E6 03       	and	a,0x03
4770  1844  D6 03       	sub	a,0x03
4771  1846  20 44       	jr	NZ,l_game_hall_edit_p_00121
4772  1848  6F          	ld	l,a
4773  1849  18 43       	jr	l_game_hall_edit_p_00122
4774  184B              l_game_hall_edit_p_00120:
4775  184B  3A 00 00    	ld	a,(_dirs)
4776  184E  E6 0C       	and	a,0x0c
4777  1850  28 3A       	jr	Z,l_game_hall_edit_p_00121
4778  1852  11 00 00    	ld	de,_hall_valids
4779  1855  3E 00       	ld	a,+((_initials) & 0xFF)
4780  1857  81          	add	a, c
4781  1858  DD 77 FE    	ld	(ix-2),a
4782  185B  3E 00       	ld	a,+((_initials) / 256)
4783  185D  CE 00       	adc	a,0x00
4784  185F  DD 77 FF    	ld	(ix-1),a
4785  1862  E1          	pop	hl
4786  1863  46          	ld	b,(hl)
4787  1864  E5          	push	hl
4788  1865              l_game_hall_edit_p_00168:
4789  1865  1A          	ld	a, (de)
4790  1866  B8          	cp	a, b
4791  1867  28 06       	jr	Z,l_game_hall_edit_p_00167
4792  1869  B7          	or	a, a
4793  186A  13          	inc	de
4794  186B  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4795  186D  5F          	ld	e, a
4796  186E  57          	ld	d, a
4797  186F              l_game_hall_edit_p_00167:
4798  186F  3A 00 00    	ld	a,(_dirs)
4799  1872  E6 04       	and	a,0x04
4800  1874  28 0A       	jr	Z,l_game_hall_edit_p_00115
4801  1876  1B          	dec	de
4802  1877  1A          	ld	a,(de)
4803  1878  3D          	dec	a
4804  1879  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4805  187B  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4806  187E  18 08       	jr	l_game_hall_edit_p_00116
4807  1880              l_game_hall_edit_p_00115:
4808  1880  13          	inc	de
4809  1881  1A          	ld	a,(de)
4810  1882  B7          	or	a, a
4811  1883  20 03       	jr	NZ,l_game_hall_edit_p_00116
4812  1885  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4813  1888              l_game_hall_edit_p_00116:
4814  1888  E1          	pop	hl
4815  1889  1A          	ld	a,(de)
4816  188A  E5          	push	hl
4817  188B  77          	ld	(hl),a
4818  188C              l_game_hall_edit_p_00121:
4819  188C  0C          	inc	c
4820  188D  69          	ld	l,c
4821  188E              l_game_hall_edit_p_00122:
4822  188E  F1          	pop	af
4823  188F  DD E1       	pop	ix
4824  1891  C9          	ret
4825  1892              	SECTION code_compiler
4826  1892              ;	---------------------------------
4827  1892              ; Function game_hall_of_fame
4828  1892              ; ---------------------------------
4829  1892              _game_hall_of_fame:
4830  1892  CD 00 00    	call	_spr_draw_clear
4831  1895  2E 00       	ld	l,0x00
4832  1897  CD C8 0C    	call	_game_paint_attrib
4833  189A  21 9C 01    	ld	hl,0x019c
4834  189D  E5          	push	hl
4835  189E  21 06 18    	ld	hl,0x1806
4836  18A1  E5          	push	hl
4837  18A2  3E 10       	ld	a,0x10
4838  18A4  F5          	push	af
4839  18A5  33          	inc	sp
4840  18A6  CD B1 10    	call	_game_menu_e
4841  18A9  F1          	pop	af
4842  18AA  33          	inc	sp
4843  18AB  21 9F FF    	ld	hl,0xff9f
4844  18AE  E3          	ex	(sp),hl
4845  18AF  21 06 18    	ld	hl,0x1806
4846  18B2  E5          	push	hl
4847  18B3  3E 98       	ld	a,0x98
4848  18B5  F5          	push	af
4849  18B6  33          	inc	sp
4850  18B7  CD B1 10    	call	_game_menu_e
4851  18BA  F1          	pop	af
4852  18BB  F1          	pop	af
4853  18BC  33          	inc	sp
4854  18BD  21 00 00    	ld	hl,_s_lin1
4855  18C0  36 00       	ld	(hl),0x00
4856  18C2              l_game_hall_of_fame_00102:
4857  18C2  21 00 00    	ld	hl,_screen_ink
4858  18C5  36 05       	ld	(hl),0x05
4859  18C7  2A 00 00    	ld	hl,(_s_lin1)
4860  18CA  26 00       	ld	h,0x00
4861  18CC  4D          	ld	c,l
4862  18CD  44          	ld	b,h
4863  18CE  29          	add	hl, hl
4864  18CF  09          	add	hl, bc
4865  18D0  29          	add	hl, hl
4866  18D1  01 00 00    	ld	bc,_hof
4867  18D4  09          	add	hl,bc
4868  18D5  3A 00 00    	ld	a,(_s_lin1)
4869  18D8  EB          	ex	de,hl
4870  18D9  C6 07       	add	a,0x07
4871  18DB  47          	ld	b,a
4872  18DC  D5          	push	de
4873  18DD  3E 0A       	ld	a,0x0a
4874  18DF  48          	ld	c,b
4875  18E0  47          	ld	b,a
4876  18E1  C5          	push	bc
4877  18E2  CD 00 00    	call	_zx_print_str
4878  18E5  2A 00 00    	ld	hl,(_s_lin1)
4879  18E8  26 00       	ld	h,0x00
4880  18EA  4D          	ld	c,l
4881  18EB  44          	ld	b,h
4882  18EC  29          	add	hl, hl
4883  18ED  09          	add	hl, bc
4884  18EE  29          	add	hl, hl
4885  18EF  01 00 00    	ld	bc,_hof
4886  18F2  09          	add	hl,bc
4887  18F3  11 04 00    	ld	de,0x0004
4888  18F6  19          	add	hl, de
4889  18F7  5E          	ld	e,(hl)
4890  18F8  23          	inc	hl
4891  18F9  56          	ld	d,(hl)
4892  18FA  3A 00 00    	ld	a,(_s_lin1)
4893  18FD  C6 07       	add	a,0x07
4894  18FF  47          	ld	b,a
4895  1900  D5          	push	de
4896  1901  3E 10       	ld	a,0x10
4897  1903  48          	ld	c,b
4898  1904  47          	ld	b,a
4899  1905  C5          	push	bc
4900  1906  CD 00 00    	call	_zx_print_int
4901  1909  11 36 02    	ld	de,___str_52
4902  190C  3A 00 00    	ld	a,(_s_lin1)
4903  190F  C6 07       	add	a,0x07
4904  1911  47          	ld	b,a
4905  1912  D5          	push	de
4906  1913  3E 0E       	ld	a,0x0e
4907  1915  48          	ld	c,b
4908  1916  47          	ld	b,a
4909  1917  C5          	push	bc
4910  1918  CD 00 00    	call	_zx_print_str
4911  191B  11 38 02    	ld	de,___str_53
4912  191E  3A 00 00    	ld	a,(_s_lin1)
4913  1921  C6 07       	add	a,0x07
4914  1923  47          	ld	b,a
4915  1924  D5          	push	de
4916  1925  3E 15       	ld	a,0x15
4917  1927  48          	ld	c,b
4918  1928  47          	ld	b,a
4919  1929  C5          	push	bc
4920  192A  CD 00 00    	call	_zx_print_str
4921  192D  21 00 00    	ld	hl,_s_lin1
4922  1930  7E          	ld	a,(hl)
4923  1931  3C          	inc	a
4924  1932  77          	ld	(hl),a
4925  1933  D6 0A       	sub	a,0x0a
4926  1935  38 8B       	jr	C,l_game_hall_of_fame_00102
4927  1937  21 3A 02    	ld	hl,___str_54
4928  193A  E5          	push	hl
4929  193B  21 04 0A    	ld	hl,0x0a04
4930  193E  E5          	push	hl
4931  193F  CD 00 00    	call	_zx_print_str
4932  1942  21 F4 01    	ld	hl,0x01f4
4933  1945  E5          	push	hl
4934  1946  21 0A 16    	ld	hl,0x160a
4935  1949  E5          	push	hl
4936  194A  3E 04       	ld	a,0x04
4937  194C  F5          	push	af
4938  194D  33          	inc	sp
4939  194E  CD 7F 19    	call	_game_colour_message
4940  1951  F1          	pop	af
4941  1952  F1          	pop	af
4942  1953  33          	inc	sp
4943  1954  CD 00 00    	call	_spr_draw_clear
4944  1957  21 00 00    	ld	hl,_game_menu_sel
4945  195A  36 00       	ld	(hl),0x00
4946  195C  21 00 00    	ld	hl,_pb_midi_title
4947  195F  CD 00 00    	call	_ay_midi_play
4948  1962  C9          	ret
4949  1963              	SECTION rodata_compiler
4950  0236              ___str_52:
4951  0236  2D          	DEFM "-"
4952  0237  00          	DEFB 0x00
4953  0238              	SECTION rodata_compiler
4954  0238              ___str_53:
4955  0238  30          	DEFM "0"
4956  0239  00          	DEFB 0x00
4957  023A              	SECTION rodata_compiler
4958  023A              ___str_54:
4959  023A  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4960  0246  00          	DEFB 0x00
4961  0247              	SECTION code_compiler
4962  1963              ;	---------------------------------
4963  1963              ; Function game_rotate_attrib
4964  1963              ; ---------------------------------
4965  1963              _game_rotate_attrib:
4966  1963  01 03 00    	ld	bc,_attrib_hl + 3
4967  1966  0A          	ld	a,(bc)
4968  1967  32 00 00    	ld	(_tmp_uc),a
4969  196A  11 02 00    	ld	de,_attrib_hl + 2
4970  196D  1A          	ld	a,(de)
4971  196E  02          	ld	(bc),a
4972  196F  01 01 00    	ld	bc,_attrib_hl + 1
4973  1972  0A          	ld	a,(bc)
4974  1973  12          	ld	(de),a
4975  1974  3A 00 00    	ld	a,(_attrib_hl)
4976  1977  02          	ld	(bc),a
4977  1978  3A 00 00    	ld	a,(_tmp_uc)
4978  197B  32 00 00    	ld	(_attrib_hl),a
4979  197E  C9          	ret
4980  197F              	SECTION code_compiler
4981  197F              ;	---------------------------------
4982  197F              ; Function game_colour_message
4983  197F              ; ---------------------------------
4984  197F              _game_colour_message:
4985  197F  CD 00 00    	call	___sdcc_enter_ix
4986  1982  3B          	dec	sp
4987  1983  21 00 00    	ld	hl,_tmp
4988  1986  36 01       	ld	(hl),0x01
4989  1988  2A 00 00    	ld	hl,(_curr_time)
4990  198B  22 00 00    	ld	(_frame_time),hl
4991  198E  2A 00 00    	ld	hl,(_curr_time)
4992  1991  22 00 00    	ld	(_entry_time),hl
4993  1994  DD 7E 04    	ld	a,(ix+4)
4994  1997  07          	rlca
4995  1998  07          	rlca
4996  1999  07          	rlca
4997  199A  E6 F8       	and	a,0xf8
4998  199C  C6 08       	add	a,0x08
4999  199E  DD 77 FF    	ld	(ix-1),a
5000  19A1              l_game_colour_message_00107:
5001  19A1  3A 00 00    	ld	a,(_tmp)
5002  19A4  B7          	or	a, a
5003  19A5  28 66       	jr	Z,l_game_colour_message_00110
5004  19A7  DD 6E 07    	ld	l,(ix+7)
5005  19AA  DD 66 08    	ld	h,(ix+8)
5006  19AD  E5          	push	hl
5007  19AE  2A 00 00    	ld	hl,(_entry_time)
5008  19B1  E5          	push	hl
5009  19B2  CD 11 1A    	call	_game_check_time
5010  19B5  F1          	pop	af
5011  19B6  F1          	pop	af
5012  19B7  7D          	ld	a,l
5013  19B8  B7          	or	a, a
5014  19B9  20 52       	jr	NZ,l_game_colour_message_00110
5015  19BB  21 05 00    	ld	hl,0x0005
5016  19BE  E5          	push	hl
5017  19BF  2A 00 00    	ld	hl,(_frame_time)
5018  19C2  E5          	push	hl
5019  19C3  CD 11 1A    	call	_game_check_time
5020  19C6  F1          	pop	af
5021  19C7  F1          	pop	af
5022  19C8  7D          	ld	a,l
5023  19C9  B7          	or	a, a
5024  19CA  28 1A       	jr	Z,l_game_colour_message_00103
5025  19CC  2A 00 00    	ld	hl,(_curr_time)
5026  19CF  22 00 00    	ld	(_frame_time),hl
5027  19D2  DD 66 FF    	ld	h,(ix-1)
5028  19D5  DD 6E 06    	ld	l,(ix+6)
5029  19D8  E5          	push	hl
5030  19D9  DD 7E 05    	ld	a,(ix+5)
5031  19DC  F5          	push	af
5032  19DD  33          	inc	sp
5033  19DE  CD 13 0D    	call	_game_paint_attrib_lin_h
5034  19E1  F1          	pop	af
5035  19E2  33          	inc	sp
5036  19E3  CD 63 19    	call	_game_rotate_attrib
5037  19E6              l_game_colour_message_00103:
5038  19E6  21 00 00    	ld	hl,_k1
5039  19E9  E5          	push	hl
5040  19EA  2A 00 00    	ld	hl,(_joyfunc1)
5041  19ED  CD 00 00    	call	___sdcc_call_hl
5042  19F0  E3          	ex	(sp),hl
5043  19F1  21 00 00    	ld	hl,_k2
5044  19F4  E5          	push	hl
5045  19F5  2A 00 00    	ld	hl,(_joyfunc2)
5046  19F8  CD 00 00    	call	___sdcc_call_hl
5047  19FB  F1          	pop	af
5048  19FC  EB          	ex	de,hl
5049  19FD  C1          	pop	bc
5050  19FE  79          	ld	a,c
5051  19FF  B3          	or	a, e
5052  1A00  4F          	ld	c,a
5053  1A01  78          	ld	a,b
5054  1A02  B2          	or	a, d
5055  1A03  B1          	or	a,c
5056  1A04  28 9B       	jr	Z,l_game_colour_message_00107
5057  1A06  21 00 00    	ld	hl,_tmp
5058  1A09  36 00       	ld	(hl),0x00
5059  1A0B  18 D9       	jr	l_game_colour_message_00103
5060  1A0D              l_game_colour_message_00110:
5061  1A0D  33          	inc	sp
5062  1A0E  DD E1       	pop	ix
5063  1A10  C9          	ret
5064  1A11              	SECTION code_compiler
5065  1A11              ;	---------------------------------
5066  1A11              ; Function game_check_time
5067  1A11              ; ---------------------------------
5068  1A11              _game_check_time:
5069  1A11  CD 00 00    	call	___sdcc_enter_ix
5070  1A14  2A 00 00    	ld	hl,(_curr_time)
5071  1A17  7D          	ld	a,l
5072  1A18  DD 96 04    	sub	a,(ix+4)
5073  1A1B  4F          	ld	c,a
5074  1A1C  7C          	ld	a,h
5075  1A1D  DD 9E 05    	sbc	a,(ix+5)
5076  1A20  47          	ld	b,a
5077  1A21  DD 7E 06    	ld	a,(ix+6)
5078  1A24  91          	sub	a, c
5079  1A25  DD 7E 07    	ld	a,(ix+7)
5080  1A28  98          	sbc	a, b
5081  1A29  30 04       	jr	NC,l_game_check_time_00102
5082  1A2B  2E 01       	ld	l,0x01
5083  1A2D  18 02       	jr	l_game_check_time_00104
5084  1A2F              l_game_check_time_00102:
5085  1A2F  2E 00       	ld	l,0x00
5086  1A31              l_game_check_time_00104:
5087  1A31  DD E1       	pop	ix
5088  1A33  C9          	ret
5089  1A34              	SECTION IGNORE
5090  0000              
