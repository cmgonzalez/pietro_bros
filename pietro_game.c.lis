1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_row
244   0000              	GLOBAL _spr_draw_index
245   0000              	GLOBAL _spr_draw_clear
246   0000              	GLOBAL _spr_water_splash_draw
247   0000              	GLOBAL _spr_water_splash_clear
248   0000              	GLOBAL _spr_draw_back
249   0000              	GLOBAL _spr_cortina_brick
250   0000              	GLOBAL _spr_brick_anim
251   0000              	GLOBAL _spr_back_fix
252   0000              	GLOBAL _spr_back_paint
253   0000              	GLOBAL _spr_back_clr
254   0000              	GLOBAL _spr_draw_pow
255   0000              	GLOBAL _spr_tile
256   0000              	GLOBAL _spr_set_fall
257   0000              	GLOBAL _spr_destroy
258   0000              	GLOBAL _spr_check_over
259   0000              	GLOBAL _spr_tile_dir
260   0000              	GLOBAL _spr_anim_kill
261   0000              	GLOBAL _spr_anim_fall
262   0000              	GLOBAL _spr_killed
263   0000              	GLOBAL _spr_redraw
264   0000              	GLOBAL _spr_move_left
265   0000              	GLOBAL _spr_move_right
266   0000              	GLOBAL _spr_move_horizontal
267   0000              	GLOBAL _spr_move_down
268   0000              	GLOBAL _spr_move_up
269   0000              	GLOBAL _spr_chktime
270   0000              	GLOBAL _sound_hit_pow
271   0000              	GLOBAL _sound_hit_brick
272   0000              	GLOBAL _sound_hit_enemy
273   0000              	GLOBAL _sound_kill
274   0000              	GLOBAL _sound_enter_enemy
275   0000              	GLOBAL _sound_coin
276   0000              	GLOBAL _sound_jump
277   0000              	GLOBAL _sound_slide
278   0000              	GLOBAL _player_move_horizontal
279   0000              	GLOBAL _player_push_check
280   0000              	GLOBAL _player_push
281   0000              	GLOBAL _player_hit_brick_clear
282   0000              	GLOBAL _player_lost_life
283   0000              	GLOBAL _player_score_add
284   0000              	GLOBAL _player_coin
285   0000              	GLOBAL _player_hit_pow
286   0000              	GLOBAL _player_hit_brick
287   0000              	GLOBAL _player_move_input
288   0000              	GLOBAL _player_turn
289   0000              	GLOBAL _player_move
290   0000              	GLOBAL _player_restart
291   0000              	GLOBAL _player_kill
292   0000              	GLOBAL _player_check_input
293   0000              	GLOBAL _player_collition_check
294   0000              	GLOBAL _player_collition
295   0000              	GLOBAL _player_calc_slide
296   0000              	GLOBAL _player_init
297   0000              	GLOBAL _player_set2
298   0000              	GLOBAL _player_set1
299   0000              	GLOBAL _game_fill_row
300   0000              	GLOBAL _enemy_ugly_fix
301   0000              	GLOBAL _enemy_kill
302   0000              	GLOBAL _enemy_init
303   0000              	GLOBAL _enemy_walk
304   0000              	GLOBAL _enemy_upgrade
305   0000              	GLOBAL _enemy_evolve
306   0000              	GLOBAL _enemy_standard_hit
307   0000              	GLOBAL _enemy_trip
308   0000              	GLOBAL _enemy_fighterfly
309   0000              	GLOBAL _enemy_fireball_green
310   0000              	GLOBAL _enemy_fireball_red
311   0000              	GLOBAL _enemy_slipice
312   0000              	GLOBAL _enemy_standard
313   0000              	GLOBAL _enemy_turn
314   0000              	GLOBAL _enemy_flip_sidestepper
315   0000              	GLOBAL _enemy_flip
316   0000              	GLOBAL _enemy_flip_change_dir
317   0000              	GLOBAL _enemy_hit
318   0000              	GLOBAL _enemy_collition_check
319   0000              	GLOBAL _enemy_collition
320   0000              	GLOBAL _enemy_coin1
321   0000              	GLOBAL _ay_fx_play
322   0000              	GLOBAL _ay_midi_play
323   0000              	GLOBAL _ay_is_playing
324   0000              	GLOBAL _ay_reset
325   0000              	GLOBAL _test_func
326   0000              	GLOBAL _in_mouse_kempston_wheel_delta
327   0000              	GLOBAL _in_mouse_kempston_wheel
328   0000              	GLOBAL _in_mouse_kempston_callee
329   0000              	GLOBAL _in_mouse_kempston
330   0000              	GLOBAL _in_mouse_kempston_setpos_callee
331   0000              	GLOBAL _in_mouse_kempston_setpos
332   0000              	GLOBAL _in_mouse_kempston_reset
333   0000              	GLOBAL _in_mouse_kempston_init
334   0000              	GLOBAL _in_mouse_amx_wheel_delta
335   0000              	GLOBAL _in_mouse_amx_wheel
336   0000              	GLOBAL _in_mouse_amx_callee
337   0000              	GLOBAL _in_mouse_amx
338   0000              	GLOBAL _in_mouse_amx_setpos_callee
339   0000              	GLOBAL _in_mouse_amx_setpos
340   0000              	GLOBAL _in_mouse_amx_reset
341   0000              	GLOBAL _in_mouse_amx_init_callee
342   0000              	GLOBAL _in_mouse_amx_init
343   0000              	GLOBAL _in_stick_sinclair2
344   0000              	GLOBAL _in_stick_sinclair1
345   0000              	GLOBAL _in_stick_kempston
346   0000              	GLOBAL _in_stick_fuller
347   0000              	GLOBAL _in_stick_cursor
348   0000              	GLOBAL _in_stick_keyboard_fastcall
349   0000              	GLOBAL _in_stick_keyboard
350   0000              	GLOBAL _in_wait_nokey
351   0000              	GLOBAL _in_wait_key
352   0000              	GLOBAL _in_test_key
353   0000              	GLOBAL _in_pause_fastcall
354   0000              	GLOBAL _in_pause
355   0000              	GLOBAL _in_key_scancode_fastcall
356   0000              	GLOBAL _in_key_scancode
357   0000              	GLOBAL _in_key_pressed_fastcall
358   0000              	GLOBAL _in_key_pressed
359   0000              	GLOBAL _in_inkey
360   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
361   0000              	GLOBAL _NIRVANAP_drawTW_raw
362   0000              	GLOBAL _NIRVANAP_drawTW_callee
363   0000              	GLOBAL _NIRVANAP_drawTW
364   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawW_raw
366   0000              	GLOBAL _NIRVANAP_drawW_callee
367   0000              	GLOBAL _NIRVANAP_drawW
368   0000              	GLOBAL _NIRVANAP_spriteT_callee
369   0000              	GLOBAL _NIRVANAP_spriteT
370   0000              	GLOBAL _NIRVANAP_fillC_callee
371   0000              	GLOBAL _NIRVANAP_fillC
372   0000              	GLOBAL _NIRVANAP_readC_callee
373   0000              	GLOBAL _NIRVANAP_readC
374   0000              	GLOBAL _NIRVANAP_paintC_callee
375   0000              	GLOBAL _NIRVANAP_paintC
376   0000              	GLOBAL _NIRVANAP_printC_callee
377   0000              	GLOBAL _NIRVANAP_printC
378   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
379   0000              	GLOBAL _NIRVANAP_fillT_raw
380   0000              	GLOBAL _NIRVANAP_fillT_callee
381   0000              	GLOBAL _NIRVANAP_fillT
382   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
383   0000              	GLOBAL _NIRVANAP_drawT_raw
384   0000              	GLOBAL _NIRVANAP_drawT_callee
385   0000              	GLOBAL _NIRVANAP_drawT
386   0000              	GLOBAL _NIRVANAP_stop
387   0000              	GLOBAL _NIRVANAP_start
388   0000              	GLOBAL _z80_otdr_callee
389   0000              	GLOBAL _z80_otdr
390   0000              	GLOBAL _z80_otir_callee
391   0000              	GLOBAL _z80_otir
392   0000              	GLOBAL _z80_outp_callee
393   0000              	GLOBAL _z80_outp
394   0000              	GLOBAL _z80_indr_callee
395   0000              	GLOBAL _z80_indr
396   0000              	GLOBAL _z80_inir_callee
397   0000              	GLOBAL _z80_inir
398   0000              	GLOBAL _z80_inp_fastcall
399   0000              	GLOBAL _z80_inp
400   0000              	GLOBAL _z80_set_int_state_fastcall
401   0000              	GLOBAL _z80_set_int_state
402   0000              	GLOBAL _z80_get_int_state
403   0000              	GLOBAL _z80_delay_tstate_fastcall
404   0000              	GLOBAL _z80_delay_tstate
405   0000              	GLOBAL _z80_delay_ms_fastcall
406   0000              	GLOBAL _z80_delay_ms
407   0000              	GLOBAL _im2_remove_generic_callback_callee
408   0000              	GLOBAL _im2_remove_generic_callback
409   0000              	GLOBAL _im2_prepend_generic_callback_callee
410   0000              	GLOBAL _im2_prepend_generic_callback
411   0000              	GLOBAL _im2_append_generic_callback_callee
412   0000              	GLOBAL _im2_append_generic_callback
413   0000              	GLOBAL _im2_create_generic_isr_8080_callee
414   0000              	GLOBAL _im2_create_generic_isr_8080
415   0000              	GLOBAL _im2_create_generic_isr_callee
416   0000              	GLOBAL _im2_create_generic_isr
417   0000              	GLOBAL _im2_install_isr_callee
418   0000              	GLOBAL _im2_install_isr
419   0000              	GLOBAL _im2_init_fastcall
420   0000              	GLOBAL _im2_init
421   0000              	GLOBAL _ffsll_callee
422   0000              	GLOBAL _ffsll
423   0000              	GLOBAL _strxfrm_callee
424   0000              	GLOBAL _strxfrm
425   0000              	GLOBAL _strupr_fastcall
426   0000              	GLOBAL _strupr
427   0000              	GLOBAL _strtok_r_callee
428   0000              	GLOBAL _strtok_r
429   0000              	GLOBAL _strtok_callee
430   0000              	GLOBAL _strtok
431   0000              	GLOBAL _strstrip_fastcall
432   0000              	GLOBAL _strstrip
433   0000              	GLOBAL _strstr_callee
434   0000              	GLOBAL _strstr
435   0000              	GLOBAL _strspn_callee
436   0000              	GLOBAL _strspn
437   0000              	GLOBAL _strsep_callee
438   0000              	GLOBAL _strsep
439   0000              	GLOBAL _strrstrip_fastcall
440   0000              	GLOBAL _strrstrip
441   0000              	GLOBAL _strrspn_callee
442   0000              	GLOBAL _strrspn
443   0000              	GLOBAL _strrev_fastcall
444   0000              	GLOBAL _strrev
445   0000              	GLOBAL _strrcspn_callee
446   0000              	GLOBAL _strrcspn
447   0000              	GLOBAL _strrchr_callee
448   0000              	GLOBAL _strrchr
449   0000              	GLOBAL _strpbrk_callee
450   0000              	GLOBAL _strpbrk
451   0000              	GLOBAL _strnlen_callee
452   0000              	GLOBAL _strnlen
453   0000              	GLOBAL _strnicmp_callee
454   0000              	GLOBAL _strnicmp
455   0000              	GLOBAL _strndup_callee
456   0000              	GLOBAL _strndup
457   0000              	GLOBAL _strncpy_callee
458   0000              	GLOBAL _strncpy
459   0000              	GLOBAL _strncmp_callee
460   0000              	GLOBAL _strncmp
461   0000              	GLOBAL _strnchr_callee
462   0000              	GLOBAL _strnchr
463   0000              	GLOBAL _strncat_callee
464   0000              	GLOBAL _strncat
465   0000              	GLOBAL _strncasecmp_callee
466   0000              	GLOBAL _strncasecmp
467   0000              	GLOBAL _strlwr_fastcall
468   0000              	GLOBAL _strlwr
469   0000              	GLOBAL _strlen_fastcall
470   0000              	GLOBAL _strlen
471   0000              	GLOBAL _strlcpy_callee
472   0000              	GLOBAL _strlcpy
473   0000              	GLOBAL _strlcat_callee
474   0000              	GLOBAL _strlcat
475   0000              	GLOBAL _stricmp_callee
476   0000              	GLOBAL _stricmp
477   0000              	GLOBAL _strerror_fastcall
478   0000              	GLOBAL _strerror
479   0000              	GLOBAL _strdup_fastcall
480   0000              	GLOBAL _strdup
481   0000              	GLOBAL _strcspn_callee
482   0000              	GLOBAL _strcspn
483   0000              	GLOBAL _strcpy_callee
484   0000              	GLOBAL _strcpy
485   0000              	GLOBAL _strcoll_callee
486   0000              	GLOBAL _strcoll
487   0000              	GLOBAL _strcmp_callee
488   0000              	GLOBAL _strcmp
489   0000              	GLOBAL _strchrnul_callee
490   0000              	GLOBAL _strchrnul
491   0000              	GLOBAL _strchr_callee
492   0000              	GLOBAL _strchr
493   0000              	GLOBAL _strcat_callee
494   0000              	GLOBAL _strcat
495   0000              	GLOBAL _strcasecmp_callee
496   0000              	GLOBAL _strcasecmp
497   0000              	GLOBAL _stpncpy_callee
498   0000              	GLOBAL _stpncpy
499   0000              	GLOBAL _stpcpy_callee
500   0000              	GLOBAL _stpcpy
501   0000              	GLOBAL _memswap_callee
502   0000              	GLOBAL _memswap
503   0000              	GLOBAL _memset_callee
504   0000              	GLOBAL _memset
505   0000              	GLOBAL _memrchr_callee
506   0000              	GLOBAL _memrchr
507   0000              	GLOBAL _memmove_callee
508   0000              	GLOBAL _memmove
509   0000              	GLOBAL _memmem_callee
510   0000              	GLOBAL _memmem
511   0000              	GLOBAL _memcpy_callee
512   0000              	GLOBAL _memcpy
513   0000              	GLOBAL _memcmp_callee
514   0000              	GLOBAL _memcmp
515   0000              	GLOBAL _memchr_callee
516   0000              	GLOBAL _memchr
517   0000              	GLOBAL _memccpy_callee
518   0000              	GLOBAL _memccpy
519   0000              	GLOBAL _ffsl_fastcall
520   0000              	GLOBAL _ffsl
521   0000              	GLOBAL _ffs_fastcall
522   0000              	GLOBAL _ffs
523   0000              	GLOBAL __strrstrip__fastcall
524   0000              	GLOBAL __strrstrip_
525   0000              	GLOBAL __memupr__callee
526   0000              	GLOBAL __memupr_
527   0000              	GLOBAL __memstrcpy__callee
528   0000              	GLOBAL __memstrcpy_
529   0000              	GLOBAL __memlwr__callee
530   0000              	GLOBAL __memlwr_
531   0000              	GLOBAL _rawmemchr_callee
532   0000              	GLOBAL _rawmemchr
533   0000              	GLOBAL _strnset_callee
534   0000              	GLOBAL _strnset
535   0000              	GLOBAL _strset_callee
536   0000              	GLOBAL _strset
537   0000              	GLOBAL _rindex_callee
538   0000              	GLOBAL _rindex
539   0000              	GLOBAL _index_callee
540   0000              	GLOBAL _index
541   0000              	GLOBAL _bzero_callee
542   0000              	GLOBAL _bzero
543   0000              	GLOBAL _bcopy_callee
544   0000              	GLOBAL _bcopy
545   0000              	GLOBAL _bcmp_callee
546   0000              	GLOBAL _bcmp
547   0000              	GLOBAL _ulltoa_callee
548   0000              	GLOBAL _ulltoa
549   0000              	GLOBAL _strtoull_callee
550   0000              	GLOBAL _strtoull
551   0000              	GLOBAL _strtoll_callee
552   0000              	GLOBAL _strtoll
553   0000              	GLOBAL _lltoa_callee
554   0000              	GLOBAL _lltoa
555   0000              	GLOBAL _llabs_callee
556   0000              	GLOBAL _llabs
557   0000              	GLOBAL __lldivu__callee
558   0000              	GLOBAL __lldivu_
559   0000              	GLOBAL __lldiv__callee
560   0000              	GLOBAL __lldiv_
561   0000              	GLOBAL _atoll_callee
562   0000              	GLOBAL _atoll
563   0000              	GLOBAL _realloc_unlocked_callee
564   0000              	GLOBAL _realloc_unlocked
565   0000              	GLOBAL _malloc_unlocked_fastcall
566   0000              	GLOBAL _malloc_unlocked
567   0000              	GLOBAL _free_unlocked_fastcall
568   0000              	GLOBAL _free_unlocked
569   0000              	GLOBAL _calloc_unlocked_callee
570   0000              	GLOBAL _calloc_unlocked
571   0000              	GLOBAL _aligned_alloc_unlocked_callee
572   0000              	GLOBAL _aligned_alloc_unlocked
573   0000              	GLOBAL _realloc_callee
574   0000              	GLOBAL _realloc
575   0000              	GLOBAL _malloc_fastcall
576   0000              	GLOBAL _malloc
577   0000              	GLOBAL _free_fastcall
578   0000              	GLOBAL _free
579   0000              	GLOBAL _calloc_callee
580   0000              	GLOBAL _calloc
581   0000              	GLOBAL _aligned_alloc_callee
582   0000              	GLOBAL _aligned_alloc
583   0000              	GLOBAL _utoa_callee
584   0000              	GLOBAL _utoa
585   0000              	GLOBAL _ultoa_callee
586   0000              	GLOBAL _ultoa
587   0000              	GLOBAL _system_fastcall
588   0000              	GLOBAL _system
589   0000              	GLOBAL _strtoul_callee
590   0000              	GLOBAL _strtoul
591   0000              	GLOBAL _strtol_callee
592   0000              	GLOBAL _strtol
593   0000              	GLOBAL _strtof_callee
594   0000              	GLOBAL _strtof
595   0000              	GLOBAL _strtod_callee
596   0000              	GLOBAL _strtod
597   0000              	GLOBAL _srand_fastcall
598   0000              	GLOBAL _srand
599   0000              	GLOBAL _rand
600   0000              	GLOBAL _quick_exit_fastcall
601   0000              	GLOBAL _quick_exit
602   0000              	GLOBAL _qsort_callee
603   0000              	GLOBAL _qsort
604   0000              	GLOBAL _ltoa_callee
605   0000              	GLOBAL _ltoa
606   0000              	GLOBAL _labs_fastcall
607   0000              	GLOBAL _labs
608   0000              	GLOBAL _itoa_callee
609   0000              	GLOBAL _itoa
610   0000              	GLOBAL _ftoh_callee
611   0000              	GLOBAL _ftoh
612   0000              	GLOBAL _ftog_callee
613   0000              	GLOBAL _ftog
614   0000              	GLOBAL _ftoe_callee
615   0000              	GLOBAL _ftoe
616   0000              	GLOBAL _ftoa_callee
617   0000              	GLOBAL _ftoa
618   0000              	GLOBAL _exit_fastcall
619   0000              	GLOBAL _exit
620   0000              	GLOBAL _dtoh_callee
621   0000              	GLOBAL _dtoh
622   0000              	GLOBAL _dtog_callee
623   0000              	GLOBAL _dtog
624   0000              	GLOBAL _dtoe_callee
625   0000              	GLOBAL _dtoe
626   0000              	GLOBAL _dtoa_callee
627   0000              	GLOBAL _dtoa
628   0000              	GLOBAL _bsearch_callee
629   0000              	GLOBAL _bsearch
630   0000              	GLOBAL _atol_fastcall
631   0000              	GLOBAL _atol
632   0000              	GLOBAL _atoi_fastcall
633   0000              	GLOBAL _atoi
634   0000              	GLOBAL _atof_fastcall
635   0000              	GLOBAL _atof
636   0000              	GLOBAL _atexit_fastcall
637   0000              	GLOBAL _atexit
638   0000              	GLOBAL _at_quick_exit_fastcall
639   0000              	GLOBAL _at_quick_exit
640   0000              	GLOBAL _abs_fastcall
641   0000              	GLOBAL _abs
642   0000              	GLOBAL _abort
643   0000              	GLOBAL __strtou__callee
644   0000              	GLOBAL __strtou_
645   0000              	GLOBAL __strtoi__callee
646   0000              	GLOBAL __strtoi_
647   0000              	GLOBAL __random_uniform_xor_8__fastcall
648   0000              	GLOBAL __random_uniform_xor_8_
649   0000              	GLOBAL __random_uniform_xor_32__fastcall
650   0000              	GLOBAL __random_uniform_xor_32_
651   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
652   0000              	GLOBAL __random_uniform_cmwc_8_
653   0000              	GLOBAL __shellsort__callee
654   0000              	GLOBAL __shellsort_
655   0000              	GLOBAL __quicksort__callee
656   0000              	GLOBAL __quicksort_
657   0000              	GLOBAL __insertion_sort__callee
658   0000              	GLOBAL __insertion_sort_
659   0000              	GLOBAL __ldivu__callee
660   0000              	GLOBAL __ldivu_
661   0000              	GLOBAL __ldiv__callee
662   0000              	GLOBAL __ldiv_
663   0000              	GLOBAL __divu__callee
664   0000              	GLOBAL __divu_
665   0000              	GLOBAL __div__callee
666   0000              	GLOBAL __div_
667   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
668   0000              	GLOBAL _intrinsic_swap_word_32
669   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
670   0000              	GLOBAL _intrinsic_swap_endian_32
671   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
672   0000              	GLOBAL _intrinsic_swap_endian_16
673   0000              	GLOBAL _intrinsic_return_de
674   0000              	GLOBAL _intrinsic_return_bc
675   0000              	GLOBAL _intrinsic_exx
676   0000              	GLOBAL _intrinsic_ex_de_hl
677   0000              	GLOBAL _intrinsic_pop_iy
678   0000              	GLOBAL _intrinsic_pop_ix
679   0000              	GLOBAL _intrinsic_pop_hl
680   0000              	GLOBAL _intrinsic_pop_de
681   0000              	GLOBAL _intrinsic_pop_bc
682   0000              	GLOBAL _intrinsic_pop_af
683   0000              	GLOBAL _intrinsic_push_iy
684   0000              	GLOBAL _intrinsic_push_ix
685   0000              	GLOBAL _intrinsic_push_hl
686   0000              	GLOBAL _intrinsic_push_de
687   0000              	GLOBAL _intrinsic_push_bc
688   0000              	GLOBAL _intrinsic_push_af
689   0000              	GLOBAL _intrinsic_nop
690   0000              	GLOBAL _intrinsic_im_2
691   0000              	GLOBAL _intrinsic_im_1
692   0000              	GLOBAL _intrinsic_im_0
693   0000              	GLOBAL _intrinsic_retn
694   0000              	GLOBAL _intrinsic_reti
695   0000              	GLOBAL _intrinsic_halt
696   0000              	GLOBAL _intrinsic_ei
697   0000              	GLOBAL _intrinsic_di
698   0000              	GLOBAL _intrinsic_stub
699   0000              	GLOBAL _zx_pattern_fill_callee
700   0000              	GLOBAL _zx_pattern_fill
701   0000              	GLOBAL _zx_saddrpup_fastcall
702   0000              	GLOBAL _zx_saddrpup
703   0000              	GLOBAL _zx_saddrpright_callee
704   0000              	GLOBAL _zx_saddrpright
705   0000              	GLOBAL _zx_saddrpleft_callee
706   0000              	GLOBAL _zx_saddrpleft
707   0000              	GLOBAL _zx_saddrpdown_fastcall
708   0000              	GLOBAL _zx_saddrpdown
709   0000              	GLOBAL _zx_saddrcup_fastcall
710   0000              	GLOBAL _zx_saddrcup
711   0000              	GLOBAL _zx_saddrcright_fastcall
712   0000              	GLOBAL _zx_saddrcright
713   0000              	GLOBAL _zx_saddrcleft_fastcall
714   0000              	GLOBAL _zx_saddrcleft
715   0000              	GLOBAL _zx_saddrcdown_fastcall
716   0000              	GLOBAL _zx_saddrcdown
717   0000              	GLOBAL _zx_saddr2py_fastcall
718   0000              	GLOBAL _zx_saddr2py
719   0000              	GLOBAL _zx_saddr2px_fastcall
720   0000              	GLOBAL _zx_saddr2px
721   0000              	GLOBAL _zx_saddr2cy_fastcall
722   0000              	GLOBAL _zx_saddr2cy
723   0000              	GLOBAL _zx_saddr2cx_fastcall
724   0000              	GLOBAL _zx_saddr2cx
725   0000              	GLOBAL _zx_saddr2aaddr_fastcall
726   0000              	GLOBAL _zx_saddr2aaddr
727   0000              	GLOBAL _zx_py2saddr_fastcall
728   0000              	GLOBAL _zx_py2saddr
729   0000              	GLOBAL _zx_py2aaddr_fastcall
730   0000              	GLOBAL _zx_py2aaddr
731   0000              	GLOBAL _zx_pxy2saddr_callee
732   0000              	GLOBAL _zx_pxy2saddr
733   0000              	GLOBAL _zx_pxy2aaddr_callee
734   0000              	GLOBAL _zx_pxy2aaddr
735   0000              	GLOBAL _zx_px2bitmask_fastcall
736   0000              	GLOBAL _zx_px2bitmask
737   0000              	GLOBAL _zx_cyx2saddr_callee
738   0000              	GLOBAL _zx_cyx2saddr
739   0000              	GLOBAL _zx_cyx2aaddr_callee
740   0000              	GLOBAL _zx_cyx2aaddr
741   0000              	GLOBAL _zx_cy2saddr_fastcall
742   0000              	GLOBAL _zx_cy2saddr
743   0000              	GLOBAL _zx_cy2aaddr_fastcall
744   0000              	GLOBAL _zx_cy2aaddr
745   0000              	GLOBAL _zx_bitmask2px_fastcall
746   0000              	GLOBAL _zx_bitmask2px
747   0000              	GLOBAL _zx_aaddrcup_fastcall
748   0000              	GLOBAL _zx_aaddrcup
749   0000              	GLOBAL _zx_aaddrcright_fastcall
750   0000              	GLOBAL _zx_aaddrcright
751   0000              	GLOBAL _zx_aaddrcleft_fastcall
752   0000              	GLOBAL _zx_aaddrcleft
753   0000              	GLOBAL _zx_aaddrcdown_fastcall
754   0000              	GLOBAL _zx_aaddrcdown
755   0000              	GLOBAL _zx_aaddr2saddr_fastcall
756   0000              	GLOBAL _zx_aaddr2saddr
757   0000              	GLOBAL _zx_aaddr2py_fastcall
758   0000              	GLOBAL _zx_aaddr2py
759   0000              	GLOBAL _zx_aaddr2px_fastcall
760   0000              	GLOBAL _zx_aaddr2px
761   0000              	GLOBAL _zx_aaddr2cy_fastcall
762   0000              	GLOBAL _zx_aaddr2cy
763   0000              	GLOBAL _zx_aaddr2cx_fastcall
764   0000              	GLOBAL _zx_aaddr2cx
765   0000              	GLOBAL _zx_scroll_wc_up_callee
766   0000              	GLOBAL _zx_scroll_wc_up
767   0000              	GLOBAL _zx_scroll_up_callee
768   0000              	GLOBAL _zx_scroll_up
769   0000              	GLOBAL _zx_cls_wc_callee
770   0000              	GLOBAL _zx_cls_wc
771   0000              	GLOBAL _zx_cls_fastcall
772   0000              	GLOBAL _zx_cls
773   0000              	GLOBAL _zx_border_fastcall
774   0000              	GLOBAL _zx_border
775   0000              	GLOBAL _ay_effect_20
776   0000              	GLOBAL _ay_effect_19
777   0000              	GLOBAL _ay_effect_18
778   0000              	GLOBAL _ay_effect_17
779   0000              	GLOBAL _ay_effect_16
780   0000              	GLOBAL _ay_effect_15
781   0000              	GLOBAL _ay_effect_14
782   0000              	GLOBAL _ay_effect_13
783   0000              	GLOBAL _ay_effect_12
784   0000              	GLOBAL _ay_effect_11
785   0000              	GLOBAL _ay_effect_10
786   0000              	GLOBAL _ay_effect_09
787   0000              	GLOBAL _ay_effect_08
788   0000              	GLOBAL _ay_effect_07
789   0000              	GLOBAL _ay_effect_06
790   0000              	GLOBAL _ay_effect_05
791   0000              	GLOBAL _ay_effect_04
792   0000              	GLOBAL _ay_effect_03
793   0000              	GLOBAL _ay_effect_02
794   0000              	GLOBAL _ay_effect_01
795   0000              	GLOBAL _pb_midi_phase_1
796   0000              	GLOBAL _pb_midi_title
797   0000              	GLOBAL _joynames
798   0000              	GLOBAL _initials
799   0000              	GLOBAL _hof
800   0000              	GLOBAL _score_osd_tile
801   0000              	GLOBAL _score_osd_time
802   0000              	GLOBAL _score_osd_col
803   0000              	GLOBAL _score_osd_lin
804   0000              	GLOBAL _phase_bonus_total
805   0000              	GLOBAL _phase_angry
806   0000              	GLOBAL _phase_curr
807   0000              	GLOBAL _phase_end
808   0000              	GLOBAL _phase_coins
809   0000              	GLOBAL _phase_pop
810   0000              	GLOBAL _phase_tot
811   0000              	GLOBAL _phase_left
812   0000              	GLOBAL _phase_quota
813   0000              	GLOBAL _phases
814   0000              	GLOBAL _spr_idx
815   0000              	GLOBAL _lvl_1
816   0000              	GLOBAL _sprite_speed_alt
817   0000              	GLOBAL _sprite_speed
818   0000              	GLOBAL _screen_ink
819   0000              	GLOBAL _screen_paper
820   0000              	GLOBAL _game_menu_sel
821   0000              	GLOBAL _game_type
822   0000              	GLOBAL _game_osd
823   0000              	GLOBAL _game_bonus
824   0000              	GLOBAL _spr_water_time
825   0000              	GLOBAL _spr_water_clear
826   0000              	GLOBAL _game_time_fireball_start
827   0000              	GLOBAL _game_time_flipped
828   0000              	GLOBAL _game_score_top
829   0000              	GLOBAL _game_lives
830   0000              	GLOBAL _game_over
831   0000              	GLOBAL _game_sound
832   0000              	GLOBAL _game_inmune
833   0000              	GLOBAL _game_god_mode
834   0000              	GLOBAL _game_start_phase
835   0000              	GLOBAL _game_two_player
836   0000              	GLOBAL _game_brick_tile
837   0000              	GLOBAL _game_pow
838   0000              	GLOBAL _spr_count
839   0000              	GLOBAL _osd_time
840   0000              	GLOBAL _frame_time
841   0000              	GLOBAL _entry_time
842   0000              	GLOBAL _curr_time
843   0000              	GLOBAL _s_state
844   0000              	GLOBAL _attrib_hl
845   0000              	GLOBAL _attrib
846   0000              	GLOBAL _zx_val_asm
847   0000              	GLOBAL _enemies
848   0000              	GLOBAL _tmp_ui
849   0000              	GLOBAL _tmp_sc
850   0000              	GLOBAL _tmp_uc
851   0000              	GLOBAL _tmp1
852   0000              	GLOBAL _tmp0
853   0000              	GLOBAL _tmp
854   0000              	GLOBAL _index_d
855   0000              	GLOBAL _index3
856   0000              	GLOBAL _index2
857   0000              	GLOBAL _index1
858   0000              	GLOBAL _loop_count
859   0000              	GLOBAL _sprite_lin_inc_mul
860   0000              	GLOBAL _s_col1
861   0000              	GLOBAL _s_col0
862   0000              	GLOBAL _s_lin1
863   0000              	GLOBAL _s_lin0
864   0000              	GLOBAL _s_tile1
865   0000              	GLOBAL _s_tile0
866   0000              	GLOBAL _hit_count
867   0000              	GLOBAL _tile_offset_other_player
868   0000              	GLOBAL _tile_offset
869   0000              	GLOBAL _index_player
870   0000              	GLOBAL _sprite_other_player
871   0000              	GLOBAL _sprite
872   0000              	GLOBAL _player_joy
873   0000              	GLOBAL _player_next_extra
874   0000              	GLOBAL _player_score
875   0000              	GLOBAL _last_time
876   0000              	GLOBAL _sliding
877   0000              	GLOBAL _spr_timer_c
878   0000              	GLOBAL _spr_timer
879   0000              	GLOBAL _jump_lin
880   0000              	GLOBAL _player_jump_c
881   0000              	GLOBAL _hit_col
882   0000              	GLOBAL _hit_lin
883   0000              	GLOBAL _colint
884   0000              	GLOBAL _col
885   0000              	GLOBAL _lin
886   0000              	GLOBAL _tile
887   0000              	GLOBAL _state_a
888   0000              	GLOBAL _state
889   0000              	GLOBAL _class
890   0000              	GLOBAL _tbuffer
891   0000              	GLOBAL _dirs
892   0000              	GLOBAL _k2
893   0000              	GLOBAL _k1
894   0000              	GLOBAL _joyfunc2
895   0000              	GLOBAL _joyfunc1
896   0000              	GLOBAL _btiles
897   0000              	GLOBAL _spec128
898   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
899   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
900   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
901   0000              	GLOBAL _NIRVANAP_HOLE
902   0000              	GLOBAL _NIRVANAP_ISR_HOOK
903   0000              	GLOBAL _control_method
904   0000              	GLOBAL _hall_valids
905   0000              ;--------------------------------------------------------
906   0000              ; special function registers
907   0000              ;--------------------------------------------------------
908   0000              ;--------------------------------------------------------
909   0000              ; ram data
910   0000              ;--------------------------------------------------------
911   0000              	SECTION bss_compiler
912   0000              ;--------------------------------------------------------
913   0000              ; ram data
914   0000              ;--------------------------------------------------------
915   0000              
916   0000              IF 0
917   0000              
918   0000              ; .area _INITIALIZED removed by z88dk
919   0000              
920   0000              
921   0000              ENDIF
922   0000              
923   0000              ;--------------------------------------------------------
924   0000              ; absolute external ram data
925   0000              ;--------------------------------------------------------
926   0000              	SECTION IGNORE
927   0000              ;--------------------------------------------------------
928   0000              ; global & static initialisations
929   0000              ;--------------------------------------------------------
930   0000              	SECTION code_crt_init
931   0000              ;--------------------------------------------------------
932   0000              ; Home
933   0000              ;--------------------------------------------------------
934   0000              	SECTION IGNORE
935   0000              ;--------------------------------------------------------
936   0000              ; code
937   0000              ;--------------------------------------------------------
938   0000              	SECTION code_compiler
939   0000              ;	---------------------------------
940   0000              ; Function game_calc_index
941   0000              ; ---------------------------------
942   0000              _game_calc_index:
943   0000  CD 00 00    	call	___sdcc_enter_ix
944   0003  DD 4E 05    	ld	c,(ix+5)
945   0006  06 00       	ld	b,0x00
946   0008  DD 7E 04    	ld	a,(ix+4)
947   000B  0F          	rrca
948   000C  0F          	rrca
949   000D  0F          	rrca
950   000E  E6 1F       	and	a,0x1f
951   0010  6F          	ld	l,a
952   0011  26 00       	ld	h,0x00
953   0013  29          	add	hl, hl
954   0014  29          	add	hl, hl
955   0015  29          	add	hl, hl
956   0016  29          	add	hl, hl
957   0017  29          	add	hl, hl
958   0018  09          	add	hl,bc
959   0019  DD E1       	pop	ix
960   001B  C9          	ret
961   001C              	SECTION code_compiler
962   001C              ;	---------------------------------
963   001C              ; Function game_print_footer
964   001C              ; ---------------------------------
965   001C              _game_print_footer:
966   001C  21 00 00    	ld	hl,___str_0
967   001F  E5          	push	hl
968   0020  21 16 01    	ld	hl,0x0116
969   0023  E5          	push	hl
970   0024  CD 00 00    	call	_zx_print_str
971   0027  21 00 00    	ld	hl,___str_0
972   002A  E5          	push	hl
973   002B  21 16 1E    	ld	hl,0x1e16
974   002E  E5          	push	hl
975   002F  CD 00 00    	call	_zx_print_str
976   0032  21 02 00    	ld	hl,___str_1
977   0035  E5          	push	hl
978   0036  21 17 01    	ld	hl,0x0117
979   0039  E5          	push	hl
980   003A  CD 00 00    	call	_zx_print_str
981   003D  21 02 00    	ld	hl,___str_1
982   0040  E5          	push	hl
983   0041  21 17 1E    	ld	hl,0x1e17
984   0044  E5          	push	hl
985   0045  CD 00 00    	call	_zx_print_str
986   0048  3A 00 00    	ld	a,(_game_lives)
987   004B  B7          	or	a, a
988   004C  28 20       	jr	Z,l_game_print_footer_00102
989   004E  21 00 00    	ld	hl,_screen_ink
990   0051  36 02       	ld	(hl),0x02
991   0053  21 08 00    	ld	hl,___str_2
992   0056  E5          	push	hl
993   0057  21 16 01    	ld	hl,0x0116
994   005A  E5          	push	hl
995   005B  CD 00 00    	call	_zx_print_str
996   005E  21 00 00    	ld	hl,_screen_ink
997   0061  36 06       	ld	(hl),0x06
998   0063  21 0A 00    	ld	hl,___str_3
999   0066  E5          	push	hl
1000  0067  21 17 01    	ld	hl,0x0117
1001  006A  E5          	push	hl
1002  006B  CD 00 00    	call	_zx_print_str
1003  006E              l_game_print_footer_00102:
1004  006E  3A 01 00    	ld	a, (_game_lives + 1)
1005  0071  B7          	or	a, a
1006  0072  28 20       	jr	Z,l_game_print_footer_00104
1007  0074  21 00 00    	ld	hl,_screen_ink
1008  0077  36 07       	ld	(hl),0x07
1009  0079  21 0C 00    	ld	hl,___str_4
1010  007C  E5          	push	hl
1011  007D  21 16 1E    	ld	hl,0x1e16
1012  0080  E5          	push	hl
1013  0081  CD 00 00    	call	_zx_print_str
1014  0084  21 00 00    	ld	hl,_screen_ink
1015  0087  36 06       	ld	(hl),0x06
1016  0089  21 0E 00    	ld	hl,___str_5
1017  008C  E5          	push	hl
1018  008D  21 17 1E    	ld	hl,0x1e17
1019  0090  E5          	push	hl
1020  0091  CD 00 00    	call	_zx_print_str
1021  0094              l_game_print_footer_00104:
1022  0094  CD E7 00    	call	_game_print_lives
1023  0097  21 10 00    	ld	hl,___str_6
1024  009A  E5          	push	hl
1025  009B  21 17 0B    	ld	hl,0x0b17
1026  009E  E5          	push	hl
1027  009F  CD 00 00    	call	_zx_print_str
1028  00A2  21 00 00    	ld	hl,_phase_curr
1029  00A5  46          	ld	b,(hl)
1030  00A6  04          	inc	b
1031  00A7  C5          	push	bc
1032  00A8  33          	inc	sp
1033  00A9  21 17 12    	ld	hl,0x1217
1034  00AC  E5          	push	hl
1035  00AD  CD 00 00    	call	_zx_print_chr
1036  00B0  C9          	ret
1037  00B1              	SECTION rodata_compiler
1038  0000              ___str_0:
1039  0000  20          	DEFM " "
1040  0001  00          	DEFB 0x00
1041  0002              	SECTION rodata_compiler
1042  0002              ___str_1:
1043  0002  20 20 20 20 20 
                        	DEFM "     "
1044  0007  00          	DEFB 0x00
1045  0008              	SECTION rodata_compiler
1046  0008              ___str_2:
1047  0008  3C          	DEFM "<"
1048  0009  00          	DEFB 0x00
1049  000A              	SECTION rodata_compiler
1050  000A              ___str_3:
1051  000A  5C          	DEFB 0x5c
1052  000B  00          	DEFB 0x00
1053  000C              	SECTION rodata_compiler
1054  000C              ___str_4:
1055  000C  3E          	DEFM ">"
1056  000D  00          	DEFB 0x00
1057  000E              	SECTION rodata_compiler
1058  000E              ___str_5:
1059  000E  5E          	DEFM "^"
1060  000F  00          	DEFB 0x00
1061  0010              	SECTION rodata_compiler
1062  0010              ___str_6:
1063  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1064  0015  00          	DEFB 0x00
1065  0016              	SECTION code_compiler
1066  00B1              ;	---------------------------------
1067  00B1              ; Function game_phase_print_score_back
1068  00B1              ; ---------------------------------
1069  00B1              _game_phase_print_score_back:
1070  00B1  21 00 00    	ld	hl,_screen_ink
1071  00B4  36 02       	ld	(hl),0x02
1072  00B6  21 16 00    	ld	hl,___str_7
1073  00B9  E5          	push	hl
1074  00BA  21 00 0B    	ld	hl,0x0b00
1075  00BD  E5          	push	hl
1076  00BE  CD 00 00    	call	_zx_print_str
1077  00C1  21 00 00    	ld	hl,_screen_ink
1078  00C4  36 01       	ld	(hl),0x01
1079  00C6  21 1A 00    	ld	hl,___str_8
1080  00C9  E5          	push	hl
1081  00CA  21 00 01    	ld	hl,0x0100
1082  00CD  E5          	push	hl
1083  00CE  CD 00 00    	call	_zx_print_str
1084  00D1  3A 00 00    	ld	a,(_game_two_player)
1085  00D4  B7          	or	a, a
1086  00D5  C8          	ret	Z
1087  00D6  21 00 00    	ld	hl,_screen_ink
1088  00D9  36 04       	ld	(hl),0x04
1089  00DB  21 1D 00    	ld	hl,___str_9
1090  00DE  E5          	push	hl
1091  00DF  21 00 16    	ld	hl,0x1600
1092  00E2  E5          	push	hl
1093  00E3  CD 00 00    	call	_zx_print_str
1094  00E6  C9          	ret
1095  00E7              	SECTION rodata_compiler
1096  0016              ___str_7:
1097  0016  24 25 7C    	DEFM "$%|"
1098  0019  00          	DEFB 0x00
1099  001A              	SECTION rodata_compiler
1100  001A              ___str_8:
1101  001A  5B 7C       	DEFM "[|"
1102  001C  00          	DEFB 0x00
1103  001D              	SECTION rodata_compiler
1104  001D              ___str_9:
1105  001D  5D 7C       	DEFM "]|"
1106  001F  00          	DEFB 0x00
1107  0020              	SECTION code_compiler
1108  00E7              ;	---------------------------------
1109  00E7              ; Function game_print_lives
1110  00E7              ; ---------------------------------
1111  00E7              _game_print_lives:
1112  00E7  21 00 00    	ld	hl,_screen_ink
1113  00EA  36 07       	ld	(hl),0x07
1114  00EC  3A 00 00    	ld	a,(_game_lives)
1115  00EF  C6 FF       	add	a,0xff
1116  00F1  21 00 00    	ld	hl,_tmp
1117  00F4  77          	ld	(hl),a
1118  00F5  D6 FF       	sub	a,0xff
1119  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1120  00F9  7E          	ld	a,(hl)
1121  00FA  F5          	push	af
1122  00FB  33          	inc	sp
1123  00FC  21 17 03    	ld	hl,0x0317
1124  00FF  E5          	push	hl
1125  0100  CD 00 00    	call	_zx_print_chr
1126  0103              l_game_print_lives_00102:
1127  0103  3A 01 00    	ld	a, (_game_lives + 1)
1128  0106  C6 FF       	add	a,0xff
1129  0108  21 00 00    	ld	hl,_tmp
1130  010B  77          	ld	(hl),a
1131  010C  D6 FF       	sub	a,0xff
1132  010E  D0          	ret	NC
1133  010F  7E          	ld	a,(hl)
1134  0110  F5          	push	af
1135  0111  33          	inc	sp
1136  0112  21 17 1A    	ld	hl,0x1a17
1137  0115  E5          	push	hl
1138  0116  CD 00 00    	call	_zx_print_chr
1139  0119  C9          	ret
1140  011A              	SECTION code_compiler
1141  011A              ;	---------------------------------
1142  011A              ; Function game_tick
1143  011A              ; ---------------------------------
1144  011A              _game_tick:
1145  011A  21 00 00    	ld	hl,_curr_time
1146  011D  34          	inc	(hl)
1147  011E  C2 00 00    	jp	NZ,_zx_isr
1148  0121  23          	inc	hl
1149  0122  34          	inc	(hl)
1150  0123  C3 00 00    	jp  _zx_isr
1151  0126              	SECTION code_compiler
1152  0126              ;	---------------------------------
1153  0126              ; Function game_start_timer
1154  0126              ; ---------------------------------
1155  0126              _game_start_timer:
1156  0126  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1157  0129  3E CD       	ld	a,0xcd
1158  012B  02          	ld	(bc),a
1159  012C  03          	inc	bc
1160  012D  11 1A 01    	ld	de,_game_tick
1161  0130  7B          	ld	a,e
1162  0131  02          	ld	(bc),a
1163  0132  03          	inc	bc
1164  0133  7A          	ld	a,d
1165  0134  02          	ld	(bc),a
1166  0135  C9          	ret
1167  0136              	SECTION code_compiler
1168  0136              ;	---------------------------------
1169  0136              ; Function game_phase_calc
1170  0136              ; ---------------------------------
1171  0136              _game_phase_calc:
1172  0136  3A 00 00    	ld	a,(_phase_curr)
1173  0139  87          	add	a, a
1174  013A  87          	add	a, a
1175  013B  21 00 00    	ld	hl,_tmp_uc
1176  013E  77          	ld	(hl),a
1177  013F  01 00 00    	ld	bc,_phases+0
1178  0142  5E          	ld	e,(hl)
1179  0143  16 00       	ld	d,0x00
1180  0145  69          	ld	l, c
1181  0146  60          	ld	h, b
1182  0147  19          	add	hl,de
1183  0148  7E          	ld	a,(hl)
1184  0149  32 00 00    	ld	(_phase_quota),a
1185  014C  2A 00 00    	ld	hl,(_tmp_uc)
1186  014F  26 00       	ld	h,0x00
1187  0151  23          	inc	hl
1188  0152  09          	add	hl,bc
1189  0153  7E          	ld	a,(hl)
1190  0154  32 01 00    	ld	((_phase_quota + 0x0001)),a
1191  0157  2A 00 00    	ld	hl,(_tmp_uc)
1192  015A  26 00       	ld	h,0x00
1193  015C  23          	inc	hl
1194  015D  23          	inc	hl
1195  015E  09          	add	hl,bc
1196  015F  7E          	ld	a,(hl)
1197  0160  32 02 00    	ld	((_phase_quota + 0x0002)),a
1198  0163  2A 00 00    	ld	hl,(_tmp_uc)
1199  0166  26 00       	ld	h,0x00
1200  0168  23          	inc	hl
1201  0169  23          	inc	hl
1202  016A  23          	inc	hl
1203  016B  09          	add	hl,bc
1204  016C  7E          	ld	a,(hl)
1205  016D  32 00 00    	ld	(_game_brick_tile),a
1206  0170  21 00 00    	ld	hl,_game_brick_tile
1207  0173  4E          	ld	c,(hl)
1208  0174  06 00       	ld	b,0x00
1209  0176  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1210  017A  7E          	ld	a,(hl)
1211  017B  D6 8B       	sub	a,0x8b
1212  017D  20 05       	jr	NZ,l_game_phase_calc_00102
1213  017F  CD 60 0C    	call	_game_freeze_all
1214  0182  18 03       	jr	l_game_phase_calc_00103
1215  0184              l_game_phase_calc_00102:
1216  0184  CD 37 0C    	call	_game_unfreeze_all
1217  0187              l_game_phase_calc_00103:
1218  0187  21 00 00    	ld	hl,_phase_quota
1219  018A  4E          	ld	c,(hl)
1220  018B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1221  018E  46          	ld	b,(hl)
1222  018F  79          	ld	a,c
1223  0190  80          	add	a, b
1224  0191  4F          	ld	c,a
1225  0192  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1226  0195  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1227  0197  09          	add	hl, bc
1228  0198  C9          	ret
1229  0199              	SECTION code_compiler
1230  0199              ;	---------------------------------
1231  0199              ; Function game_phase_init
1232  0199              ; ---------------------------------
1233  0199              _game_phase_init:
1234  0199  21 00 00    	ld	hl,0x0000
1235  019C  22 00 00    	ld	(_loop_count),hl
1236  019F  21 00 00    	ld	hl,_phase_end
1237  01A2  36 00       	ld	(hl),0x00
1238  01A4  21 00 00    	ld	hl,_phase_angry
1239  01A7  36 00       	ld	(hl),0x00
1240  01A9  21 00 00    	ld	hl,_phase_coins
1241  01AC  36 00       	ld	(hl),0x00
1242  01AE  21 00 00    	ld	hl,_phase_pop
1243  01B1  36 00       	ld	(hl),0x00
1244  01B3  21 00 00    	ld	hl,_game_bonus
1245  01B6  36 00       	ld	(hl),0x00
1246  01B8  21 00 00    	ld	hl,0x0000
1247  01BB  22 00 00    	ld	(_entry_time),hl
1248  01BE  21 00 00    	ld	hl,0
1249  01C1  22 00 00    	ld	(_curr_time),hl
1250  01C4  21 00 00    	ld	hl,0x0000
1251  01C7  22 00 00    	ld	(_frame_time),hl
1252  01CA  21 FF FF    	ld	hl,0xffff
1253  01CD  22 00 00    	ld	(_score_osd_col),hl
1254  01D0  21 00 00    	ld	hl,_spr_count
1255  01D3  36 00       	ld	(hl),0x00
1256  01D5  3A 00 00    	ld	a,(_game_type)
1257  01D8  D6 02       	sub	a,0x02
1258  01DA  CA 66 02    	jp	Z,l_game_phase_init_00104
1259  01DD  CD 36 01    	call	_game_phase_calc
1260  01E0  7D          	ld	a,l
1261  01E1  32 00 00    	ld	(_phase_left),a
1262  01E4  32 00 00    	ld	(_phase_tot),a
1263  01E7  21 00 00    	ld	hl,_phase_left
1264  01EA  7E          	ld	a,(hl)
1265  01EB  B7          	or	a, a
1266  01EC  C2 7E 02    	jp	NZ,l_game_phase_init_00105
1267  01EF  01 00 00    	ld	bc,_phase_bonus_total+0
1268  01F2  AF          	xor	a, a
1269  01F3  02          	ld	(bc),a
1270  01F4  03          	inc	bc
1271  01F5  AF          	xor	a, a
1272  01F6  02          	ld	(bc),a
1273  01F7  36 06       	ld	(hl),0x06
1274  01F9  21 00 00    	ld	hl,_game_bonus
1275  01FC  36 01       	ld	(hl),0x01
1276  01FE  21 0C 00    	ld	hl,0x000c
1277  0201  E5          	push	hl
1278  0202  21 90 08    	ld	hl,0x0890
1279  0205  E5          	push	hl
1280  0206  AF          	xor	a, a
1281  0207  F5          	push	af
1282  0208  33          	inc	sp
1283  0209  CD 00 00    	call	_enemy_init
1284  020C  F1          	pop	af
1285  020D  33          	inc	sp
1286  020E  21 0C 00    	ld	hl,0x000c
1287  0211  E3          	ex	(sp),hl
1288  0212  21 90 16    	ld	hl,0x1690
1289  0215  E5          	push	hl
1290  0216  3E 01       	ld	a,0x01
1291  0218  F5          	push	af
1292  0219  33          	inc	sp
1293  021A  CD 00 00    	call	_enemy_init
1294  021D  F1          	pop	af
1295  021E  33          	inc	sp
1296  021F  21 0C 00    	ld	hl,0x000c
1297  0222  E3          	ex	(sp),hl
1298  0223  21 50 06    	ld	hl,0x0650
1299  0226  E5          	push	hl
1300  0227  3E 02       	ld	a,0x02
1301  0229  F5          	push	af
1302  022A  33          	inc	sp
1303  022B  CD 00 00    	call	_enemy_init
1304  022E  F1          	pop	af
1305  022F  33          	inc	sp
1306  0230  21 0C 00    	ld	hl,0x000c
1307  0233  E3          	ex	(sp),hl
1308  0234  21 50 18    	ld	hl,0x1850
1309  0237  E5          	push	hl
1310  0238  3E 03       	ld	a,0x03
1311  023A  F5          	push	af
1312  023B  33          	inc	sp
1313  023C  CD 00 00    	call	_enemy_init
1314  023F  F1          	pop	af
1315  0240  33          	inc	sp
1316  0241  21 0C 00    	ld	hl,0x000c
1317  0244  E3          	ex	(sp),hl
1318  0245  21 10 05    	ld	hl,0x0510
1319  0248  E5          	push	hl
1320  0249  3E 04       	ld	a,0x04
1321  024B  F5          	push	af
1322  024C  33          	inc	sp
1323  024D  CD 00 00    	call	_enemy_init
1324  0250  F1          	pop	af
1325  0251  33          	inc	sp
1326  0252  21 0C 00    	ld	hl,0x000c
1327  0255  E3          	ex	(sp),hl
1328  0256  21 10 19    	ld	hl,0x1910
1329  0259  E5          	push	hl
1330  025A  3E 05       	ld	a,0x05
1331  025C  F5          	push	af
1332  025D  33          	inc	sp
1333  025E  CD 00 00    	call	_enemy_init
1334  0261  F1          	pop	af
1335  0262  F1          	pop	af
1336  0263  33          	inc	sp
1337  0264  18 18       	jr	l_game_phase_init_00105
1338  0266              l_game_phase_init_00104:
1339  0266  21 00 00    	ld	hl,_phase_left
1340  0269  36 FF       	ld	(hl),0xff
1341  026B  21 00 00    	ld	hl,_phase_curr
1342  026E  36 FF       	ld	(hl),0xff
1343  0270  CD 37 0C    	call	_game_unfreeze_all
1344  0273  21 00 00    	ld	hl,_game_brick_tile
1345  0276  36 84       	ld	(hl),0x84
1346  0278  21 84 00    	ld	hl,0x0084
1347  027B  22 24 00    	ld	(_spr_idx + 0x0024),hl
1348  027E              l_game_phase_init_00105:
1349  027E  CD 00 00    	call	_ay_reset
1350  0281  3A 00 00    	ld	a,(_game_bonus)
1351  0284  B7          	or	a, a
1352  0285  20 06       	jr	NZ,l_game_phase_init_00107
1353  0287  21 00 00    	ld	hl,_pb_midi_phase_1
1354  028A  CD 00 00    	call	_ay_midi_play
1355  028D              l_game_phase_init_00107:
1356  028D  CD 00 00    	call	_spr_draw_clear
1357  0290  CD 00 00    	call	_spr_draw_back
1358  0293  CD D1 02    	call	_game_print_header
1359  0296  CD 1C 00    	call	_game_print_footer
1360  0299  3A 00 00    	ld	a,(_game_lives)
1361  029C  B7          	or	a, a
1362  029D  28 0D       	jr	Z,l_game_phase_init_00109
1363  029F  21 0A 03    	ld	hl,0x030a
1364  02A2  E5          	push	hl
1365  02A3  21 07 98    	ld	hl,0x9807
1366  02A6  E5          	push	hl
1367  02A7  CD 00 00    	call	_player_init
1368  02AA  F1          	pop	af
1369  02AB  F1          	pop	af
1370  02AC              l_game_phase_init_00109:
1371  02AC  3A 01 00    	ld	a, (_game_lives + 1)
1372  02AF  B7          	or	a, a
1373  02B0  28 0D       	jr	Z,l_game_phase_init_00111
1374  02B2  21 14 27    	ld	hl,0x2714
1375  02B5  E5          	push	hl
1376  02B6  21 06 98    	ld	hl,0x9806
1377  02B9  E5          	push	hl
1378  02BA  CD 00 00    	call	_player_init
1379  02BD  F1          	pop	af
1380  02BE  F1          	pop	af
1381  02BF              l_game_phase_init_00111:
1382  02BF  21 F4 01    	ld	hl,0x01f4
1383  02C2  CD 00 00    	call	_z80_delay_ms_fastcall
1384  02C5  21 00 00    	ld	hl,_game_osd
1385  02C8  36 01       	ld	(hl),0x01
1386  02CA  2A 00 00    	ld	hl,(_curr_time)
1387  02CD  22 00 00    	ld	(_osd_time),hl
1388  02D0  C9          	ret
1389  02D1              	SECTION code_compiler
1390  02D1              ;	---------------------------------
1391  02D1              ; Function game_print_header
1392  02D1              ; ---------------------------------
1393  02D1              _game_print_header:
1394  02D1  CD B1 00    	call	_game_phase_print_score_back
1395  02D4  21 00 00    	ld	hl,_screen_ink
1396  02D7  36 07       	ld	(hl),0x07
1397  02D9  C3 89 0C    	jp  _game_print_score
1398  02DC              	SECTION code_compiler
1399  02DC              ;	---------------------------------
1400  02DC              ; Function game_phase_print
1401  02DC              ; ---------------------------------
1402  02DC              _game_phase_print:
1403  02DC  45          	ld	b,l
1404  02DD  C5          	push	bc
1405  02DE  21 20 00    	ld	hl,___str_10
1406  02E1  E5          	push	hl
1407  02E2  3E 0B       	ld	a,0x0b
1408  02E4  48          	ld	c,b
1409  02E5  47          	ld	b,a
1410  02E6  C5          	push	bc
1411  02E7  CD 00 00    	call	_zx_print_str
1412  02EA  C1          	pop	bc
1413  02EB  3A 00 00    	ld	a,(_phase_curr)
1414  02EE  D6 1F       	sub	a,0x1f
1415  02F0  30 3F       	jr	NC,l_game_phase_print_00108
1416  02F2  3A 00 00    	ld	a,(_game_bonus)
1417  02F5  B7          	or	a, a
1418  02F6  20 2B       	jr	NZ,l_game_phase_print_00102
1419  02F8  C5          	push	bc
1420  02F9  21 26 00    	ld	hl,___str_11
1421  02FC  E5          	push	hl
1422  02FD  3E 10       	ld	a,0x10
1423  02FF  48          	ld	c,b
1424  0300  47          	ld	b,a
1425  0301  C5          	push	bc
1426  0302  CD 00 00    	call	_zx_print_str
1427  0305  C1          	pop	bc
1428  0306  21 00 00    	ld	hl,_phase_curr
1429  0309  56          	ld	d,(hl)
1430  030A  14          	inc	d
1431  030B  C5          	push	bc
1432  030C  1E 12       	ld	e,0x12
1433  030E  D5          	push	de
1434  030F  C5          	push	bc
1435  0310  33          	inc	sp
1436  0311  CD 00 00    	call	_zx_print_chr
1437  0314  C1          	pop	bc
1438  0315  21 26 00    	ld	hl,___str_11
1439  0318  E5          	push	hl
1440  0319  3E 15       	ld	a,0x15
1441  031B  48          	ld	c,b
1442  031C  47          	ld	b,a
1443  031D  C5          	push	bc
1444  031E  CD 00 00    	call	_zx_print_str
1445  0321  18 2F       	jr	l_game_phase_print_00110
1446  0323              l_game_phase_print_00102:
1447  0323  21 29 00    	ld	hl,___str_12
1448  0326  E5          	push	hl
1449  0327  3E 11       	ld	a,0x11
1450  0329  48          	ld	c,b
1451  032A  47          	ld	b,a
1452  032B  C5          	push	bc
1453  032C  CD 00 00    	call	_zx_print_str
1454  032F  18 21       	jr	l_game_phase_print_00110
1455  0331              l_game_phase_print_00108:
1456  0331  3A 00 00    	ld	a,(_game_type)
1457  0334  D6 02       	sub	a,0x02
1458  0336  28 0E       	jr	Z,l_game_phase_print_00105
1459  0338  21 30 00    	ld	hl,___str_13
1460  033B  E5          	push	hl
1461  033C  3E 11       	ld	a,0x11
1462  033E  48          	ld	c,b
1463  033F  47          	ld	b,a
1464  0340  C5          	push	bc
1465  0341  CD 00 00    	call	_zx_print_str
1466  0344  18 0C       	jr	l_game_phase_print_00110
1467  0346              l_game_phase_print_00105:
1468  0346  21 37 00    	ld	hl,___str_14
1469  0349  E5          	push	hl
1470  034A  3E 11       	ld	a,0x11
1471  034C  48          	ld	c,b
1472  034D  47          	ld	b,a
1473  034E  C5          	push	bc
1474  034F  CD 00 00    	call	_zx_print_str
1475  0352              l_game_phase_print_00110:
1476  0352  C9          	ret
1477  0353              	SECTION rodata_compiler
1478  0020              ___str_10:
1479  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1480  0025  00          	DEFB 0x00
1481  0026              	SECTION rodata_compiler
1482  0026              ___str_11:
1483  0026  20 20       	DEFM "  "
1484  0028  00          	DEFB 0x00
1485  0029              	SECTION rodata_compiler
1486  0029              ___str_12:
1487  0029  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1488  002F  00          	DEFB 0x00
1489  0030              	SECTION rodata_compiler
1490  0030              ___str_13:
1491  0030  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1492  0036  00          	DEFB 0x00
1493  0037              	SECTION rodata_compiler
1494  0037              ___str_14:
1495  0037  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1496  003D  00          	DEFB 0x00
1497  003E              	SECTION code_compiler
1498  0353              ;	---------------------------------
1499  0353              ; Function game_loop
1500  0353              ; ---------------------------------
1501  0353              _game_loop:
1502  0353  21 3E 00    	ld	hl,___str_15
1503  0356  E5          	push	hl
1504  0357  21 16 07    	ld	hl,0x0716
1505  035A  E5          	push	hl
1506  035B  CD 00 00    	call	_zx_print_str
1507  035E  21 51 00    	ld	hl,___str_16
1508  0361  E5          	push	hl
1509  0362  21 17 07    	ld	hl,0x0717
1510  0365  E5          	push	hl
1511  0366  CD 00 00    	call	_zx_print_str
1512  0369  21 00 00    	ld	hl,_ay_effect_10
1513  036C  CD 00 00    	call	_ay_fx_play
1514  036F  CD 00 00    	call	_sound_coin
1515  0372  21 C8 00    	ld	hl,0x00c8
1516  0375  CD 00 00    	call	_z80_delay_ms_fastcall
1517  0378  21 64 00    	ld	hl,___str_17
1518  037B  E5          	push	hl
1519  037C  21 16 07    	ld	hl,0x0716
1520  037F  E5          	push	hl
1521  0380  CD 00 00    	call	_zx_print_str
1522  0383  CD 00 00    	call	_ay_reset
1523  0386  21 11 11    	ld	hl,0x1111
1524  0389  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1525  038C  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1526  038F  01 00 00    	ld	bc,_game_lives+0
1527  0392  3E 04       	ld	a,0x04
1528  0394  02          	ld	(bc),a
1529  0395  03          	inc	bc
1530  0396  3A 00 00    	ld	a,(_game_two_player)
1531  0399  B7          	or	a,a
1532  039A  28 05       	jr	Z,l_game_loop_00102
1533  039C  3E 04       	ld	a,0x04
1534  039E  02          	ld	(bc),a
1535  039F  18 02       	jr	l_game_loop_00103
1536  03A1              l_game_loop_00102:
1537  03A1  AF          	xor	a, a
1538  03A2  02          	ld	(bc),a
1539  03A3              l_game_loop_00103:
1540  03A3  21 00 00    	ld	hl,0x0000
1541  03A6  22 00 00    	ld	(_player_score), hl
1542  03A9  2E 00       	ld	l,0x00
1543  03AB  22 02 00    	ld	(_player_score + 0x0002),hl
1544  03AE  21 D0 07    	ld	hl,0x07d0
1545  03B1  22 00 00    	ld	(_player_next_extra), hl
1546  03B4  2E D0       	ld	l,0xd0
1547  03B6  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1548  03B9  21 00 00    	ld	hl,_spr_water_clear
1549  03BC  36 FF       	ld	(hl),0xff
1550  03BE  3A 00 00    	ld	a,(_game_type)
1551  03C1  B7          	or	a, a
1552  03C2  20 0E       	jr	NZ,l_game_loop_00105
1553  03C4  21 F4 01    	ld	hl,0x01f4
1554  03C7  22 00 00    	ld	(_game_time_flipped),hl
1555  03CA  21 D0 07    	ld	hl,0x07d0
1556  03CD  22 00 00    	ld	(_game_time_fireball_start),hl
1557  03D0  18 0C       	jr	l_game_loop_00106
1558  03D2              l_game_loop_00105:
1559  03D2  21 FA 00    	ld	hl,0x00fa
1560  03D5  22 00 00    	ld	(_game_time_flipped),hl
1561  03D8  21 F4 01    	ld	hl,0x01f4
1562  03DB  22 00 00    	ld	(_game_time_fireball_start),hl
1563  03DE              l_game_loop_00106:
1564  03DE  21 00 00    	ld	hl,_game_over
1565  03E1  36 00       	ld	(hl),0x00
1566  03E3  21 00 00    	ld	hl,_game_pow
1567  03E6  36 03       	ld	(hl),0x03
1568  03E8  3A 00 00    	ld	a,(_game_start_phase)
1569  03EB  32 00 00    	ld	(_phase_curr),a
1570  03EE  CD 99 01    	call	_game_phase_init
1571  03F1  21 00 00    	ld	hl,_sprite_lin_inc_mul
1572  03F4  36 00       	ld	(hl),0x00
1573  03F6  21 00 00    	ld	hl,_dirs
1574  03F9  36 00       	ld	(hl),0x00
1575  03FB  CD 2B 0F    	call	_game_joystick_set
1576  03FE              l_game_loop_00132:
1577  03FE  3A 00 00    	ld	a,(_game_over)
1578  0401  B7          	or	a, a
1579  0402  C2 EA 04    	jp	NZ,l_game_loop_00134
1580  0405  CD 00 00    	call	_player_set1
1581  0408  CD 00 00    	call	_player_turn
1582  040B  CD 00 00    	call	_player_set2
1583  040E  CD 00 00    	call	_player_turn
1584  0411  CD 00 00    	call	_enemy_turn
1585  0414  3A 00 00    	ld	a,(_game_bonus)
1586  0417  B7          	or	a, a
1587  0418  28 16       	jr	Z,l_game_loop_00111
1588  041A  CD 8B 06    	call	_game_bonus_clock
1589  041D  3A 00 00    	ld	a,(_phase_left)
1590  0420  B7          	or	a, a
1591  0421  28 0D       	jr	Z,l_game_loop_00111
1592  0423  CD 00 00    	call	_ay_is_playing
1593  0426  7D          	ld	a,l
1594  0427  B7          	or	a, a
1595  0428  20 06       	jr	NZ,l_game_loop_00111
1596  042A  21 00 00    	ld	hl,_ay_effect_19
1597  042D  CD 00 00    	call	_ay_fx_play
1598  0430              l_game_loop_00111:
1599  0430  3A 00 00    	ld	a,(_game_osd)
1600  0433  B7          	or	a, a
1601  0434  28 45       	jr	Z,l_game_loop_00117
1602  0436  21 05 00    	ld	hl,0x0005
1603  0439  E5          	push	hl
1604  043A  2A 00 00    	ld	hl,(_osd_time)
1605  043D  E5          	push	hl
1606  043E  CD 34 1A    	call	_game_check_time
1607  0441  F1          	pop	af
1608  0442  F1          	pop	af
1609  0443  7D          	ld	a,l
1610  0444  B7          	or	a, a
1611  0445  28 1B       	jr	Z,l_game_loop_00113
1612  0447  2A 00 00    	ld	hl,(_curr_time)
1613  044A  22 00 00    	ld	(_osd_time),hl
1614  044D  2E 0C       	ld	l,0x0c
1615  044F  CD DC 02    	call	_game_phase_print
1616  0452  21 17 68    	ld	hl,0x6817
1617  0455  E5          	push	hl
1618  0456  3E 0B       	ld	a,0x0b
1619  0458  F5          	push	af
1620  0459  33          	inc	sp
1621  045A  CD 05 0D    	call	_game_paint_attrib_lin_h
1622  045D  F1          	pop	af
1623  045E  33          	inc	sp
1624  045F  CD 86 19    	call	_game_rotate_attrib
1625  0462              l_game_loop_00113:
1626  0462  21 00 00    	ld	hl,_loop_count
1627  0465  7E          	ld	a,(hl)
1628  0466  D6 90       	sub	a,0x90
1629  0468  20 11       	jr	NZ,l_game_loop_00117
1630  046A  23          	inc	hl
1631  046B  7E          	ld	a,(hl)
1632  046C  3D          	dec	a
1633  046D  20 0C       	jr	NZ,l_game_loop_00117
1634  046F  21 0C 20    	ld	hl,0x200c
1635  0472  E5          	push	hl
1636  0473  CD 00 00    	call	_game_fill_row
1637  0476  21 00 00    	ld	hl,_game_osd
1638  0479  36 00       	ld	(hl),0x00
1639  047B              l_game_loop_00117:
1640  047B  CD 00 00    	call	_spr_water_splash_clear
1641  047E  21 64 00    	ld	hl,0x0064
1642  0481  E5          	push	hl
1643  0482  2A 00 00    	ld	hl,(_frame_time)
1644  0485  E5          	push	hl
1645  0486  CD 34 1A    	call	_game_check_time
1646  0489  F1          	pop	af
1647  048A  F1          	pop	af
1648  048B  7D          	ld	a,l
1649  048C  B7          	or	a, a
1650  048D  28 4F       	jr	Z,l_game_loop_00131
1651  048F  2A 00 00    	ld	hl,(_curr_time)
1652  0492  22 00 00    	ld	(_frame_time),hl
1653  0495  3A 00 00    	ld	a,(_game_bonus)
1654  0498  B7          	or	a,a
1655  0499  20 03       	jr	NZ,l_game_loop_00119
1656  049B  CD E7 08    	call	_game_enemy_add
1657  049E              l_game_loop_00119:
1658  049E  3A 00 00    	ld	a,(_phase_end)
1659  04A1  3D          	dec	a
1660  04A2  20 3A       	jr	NZ,l_game_loop_00131
1661  04A4  3A 00 00    	ld	a,(_game_type)
1662  04A7  D6 02       	sub	a,0x02
1663  04A9  28 33       	jr	Z,l_game_loop_00131
1664  04AB  21 90 01    	ld	hl,0x0190
1665  04AE  CD 00 00    	call	_z80_delay_ms_fastcall
1666  04B1  CD 00 00    	call	_ay_is_playing
1667  04B4  7D          	ld	a, l
1668  04B5  D6 02       	sub	a,0x02
1669  04B7  30 03       	jr	NC,l_game_loop_00121
1670  04B9  CD 00 00    	call	_ay_reset
1671  04BC              l_game_loop_00121:
1672  04BC  CD B5 08    	call	_game_kill_all_sprites
1673  04BF  3A 00 00    	ld	a,(_game_bonus)
1674  04C2  B7          	or	a, a
1675  04C3  28 03       	jr	Z,l_game_loop_00123
1676  04C5  CD FC 06    	call	_game_bonus_summary
1677  04C8              l_game_loop_00123:
1678  04C8  21 00 00    	ld	hl,_phase_curr
1679  04CB  34          	inc	(hl)
1680  04CC  3E 1F       	ld	a,0x1f
1681  04CE  96          	sub	a, (hl)
1682  04CF  30 0A       	jr	NC,l_game_loop_00125
1683  04D1  CD 41 12    	call	_game_end
1684  04D4  21 00 00    	ld	hl,_game_over
1685  04D7  36 01       	ld	(hl),0x01
1686  04D9  18 03       	jr	l_game_loop_00131
1687  04DB              l_game_loop_00125:
1688  04DB  CD 99 01    	call	_game_phase_init
1689  04DE              l_game_loop_00131:
1690  04DE  21 00 00    	ld	hl,_loop_count
1691  04E1  34          	inc	(hl)
1692  04E2  C2 FE 03    	jp	NZ,l_game_loop_00132
1693  04E5  23          	inc	hl
1694  04E6  34          	inc	(hl)
1695  04E7  C3 FE 03    	jp	l_game_loop_00132
1696  04EA              l_game_loop_00134:
1697  04EA  21 90 01    	ld	hl,0x0190
1698  04ED  CD 00 00    	call	_z80_delay_ms_fastcall
1699  04F0  CD B5 08    	call	_game_kill_all_sprites
1700  04F3  21 77 00    	ld	hl,___str_18
1701  04F6  E5          	push	hl
1702  04F7  21 08 0B    	ld	hl,0x0b08
1703  04FA  E5          	push	hl
1704  04FB  CD 00 00    	call	_zx_print_str
1705  04FE  21 C8 00    	ld	hl,0x00c8
1706  0501  E5          	push	hl
1707  0502  21 0B 15    	ld	hl,0x150b
1708  0505  E5          	push	hl
1709  0506  3E 08       	ld	a,0x08
1710  0508  F5          	push	af
1711  0509  33          	inc	sp
1712  050A  CD A2 19    	call	_game_colour_message
1713  050D  F1          	pop	af
1714  050E  F1          	pop	af
1715  050F  33          	inc	sp
1716  0510  CD 00 00    	call	_spr_draw_clear
1717  0513  CD 1A 15    	call	_game_hall_enter
1718  0516  CD 00 00    	call	_ay_reset
1719  0519  21 00 00    	ld	hl,_game_menu_sel
1720  051C  36 00       	ld	(hl),0x00
1721  051E  CD 23 10    	call	_game_menu_paint
1722  0521  CD 1E 0F    	call	_game_joystick_set_menu
1723  0524  C9          	ret
1724  0525              	SECTION rodata_compiler
1725  003E              ___str_15:
1726  003E  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1727  0050  00          	DEFB 0x00
1728  0051              	SECTION rodata_compiler
1729  0051              ___str_16:
1730  0051  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1731  0063  00          	DEFB 0x00
1732  0064              	SECTION rodata_compiler
1733  0064              ___str_17:
1734  0064  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1735  0076  00          	DEFB 0x00
1736  0077              	SECTION rodata_compiler
1737  0077              ___str_18:
1738  0077  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1739  0082  00          	DEFB 0x00
1740  0083              	SECTION code_compiler
1741  0525              ;	---------------------------------
1742  0525              ; Function game_score_osd
1743  0525              ; ---------------------------------
1744  0525              _game_score_osd:
1745  0525  3A 00 00    	ld	a,(_index_player)
1746  0528  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1747  052A  4F          	ld	c,a
1748  052B  3E 00       	ld	a,+((_score_osd_col) / 256)
1749  052D  CE 00       	adc	a,0x00
1750  052F  47          	ld	b,a
1751  0530  0A          	ld	a,(bc)
1752  0531  57          	ld	d,a
1753  0532  3C          	inc	a
1754  0533  20 72       	jr	NZ,l_game_score_osd_00117
1755  0535  3A 00 00    	ld	a,(_hit_count)
1756  0538  B7          	or	a, a
1757  0539  CA 8A 06    	jp	Z,l_game_score_osd_00119
1758  053C  2A 00 00    	ld	hl,(_sprite)
1759  053F  26 00       	ld	h,0x00
1760  0541  11 00 00    	ld	de,_col
1761  0544  19          	add	hl,de
1762  0545  7E          	ld	a,(hl)
1763  0546  02          	ld	(bc),a
1764  0547  3A 00 00    	ld	a,(_index_player)
1765  054A  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1766  054C  4F          	ld	c,a
1767  054D  3E 00       	ld	a,+((_score_osd_lin) / 256)
1768  054F  CE 00       	adc	a,0x00
1769  0551  47          	ld	b,a
1770  0552  2A 00 00    	ld	hl,(_sprite)
1771  0555  26 00       	ld	h,0x00
1772  0557  11 00 00    	ld	de,_lin
1773  055A  19          	add	hl,de
1774  055B  7E          	ld	a,(hl)
1775  055C  02          	ld	(bc),a
1776  055D  01 00 00    	ld	bc,_score_osd_time+0
1777  0560  2A 00 00    	ld	hl,(_index_player)
1778  0563  26 00       	ld	h,0x00
1779  0565  29          	add	hl, hl
1780  0566  09          	add	hl,bc
1781  0567  ED 5B 00 00 	ld	de,(_curr_time)
1782  056B  73          	ld	(hl),e
1783  056C  23          	inc	hl
1784  056D  72          	ld	(hl),d
1785  056E  2A 00 00    	ld	hl,(_index_player)
1786  0571  26 00       	ld	h,0x00
1787  0573  29          	add	hl,hl
1788  0574  3A 00 00    	ld	a,(_hit_count)
1789  0577  3D          	dec	a
1790  0578  4D          	ld	c,l
1791  0579  44          	ld	b,h
1792  057A  20 0C       	jr	NZ,l_game_score_osd_00105
1793  057C  21 00 00    	ld	hl,_score_osd_tile
1794  057F  09          	add	hl,bc
1795  0580  36 BC       	ld	(hl),0xbc
1796  0582  23          	inc	hl
1797  0583  36 00       	ld	(hl),0x00
1798  0585  C3 8A 06    	jp	l_game_score_osd_00119
1799  0588              l_game_score_osd_00105:
1800  0588  3A 00 00    	ld	a,(_hit_count)
1801  058B  D6 08       	sub	a,0x08
1802  058D  30 0C       	jr	NC,l_game_score_osd_00102
1803  058F  21 00 00    	ld	hl,_score_osd_tile
1804  0592  09          	add	hl,bc
1805  0593  36 BD       	ld	(hl),0xbd
1806  0595  23          	inc	hl
1807  0596  36 00       	ld	(hl),0x00
1808  0598  C3 8A 06    	jp	l_game_score_osd_00119
1809  059B              l_game_score_osd_00102:
1810  059B  21 00 00    	ld	hl,_score_osd_tile
1811  059E  09          	add	hl,bc
1812  059F  36 BE       	ld	(hl),0xbe
1813  05A1  23          	inc	hl
1814  05A2  36 00       	ld	(hl),0x00
1815  05A4  C3 8A 06    	jp	l_game_score_osd_00119
1816  05A7              l_game_score_osd_00117:
1817  05A7  3A 00 00    	ld	a,(_index_player)
1818  05AA  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1819  05AC  4F          	ld	c,a
1820  05AD  3E 00       	ld	a,+((_score_osd_lin) / 256)
1821  05AF  CE 00       	adc	a,0x00
1822  05B1  47          	ld	b,a
1823  05B2  0A          	ld	a,(bc)
1824  05B3  C6 FE       	add	a,0xfe
1825  05B5  32 00 00    	ld	(_tmp),a
1826  05B8  5F          	ld	e,a
1827  05B9  D5          	push	de
1828  05BA  CD 00 00    	call	_game_calc_index
1829  05BD  F1          	pop	af
1830  05BE  22 00 00    	ld	(_index1),hl
1831  05C1  3E 08       	ld	a,0x08
1832  05C3  21 00 00    	ld	hl,_tmp
1833  05C6  96          	sub	a, (hl)
1834  05C7  30 5B       	jr	NC,l_game_score_osd_00110
1835  05C9  21 01 00    	ld	hl,_index1 + 1
1836  05CC  7E          	ld	a,(hl)
1837  05CD  2B          	dec	hl
1838  05CE  B6          	or	a,(hl)
1839  05CF  28 53       	jr	Z,l_game_score_osd_00110
1840  05D1  01 00 00    	ld	bc,_lvl_1+0
1841  05D4  79          	ld	a,c
1842  05D5  86          	add	a, (hl)
1843  05D6  5F          	ld	e,a
1844  05D7  78          	ld	a,b
1845  05D8  23          	inc	hl
1846  05D9  8E          	adc	a, (hl)
1847  05DA  57          	ld	d,a
1848  05DB  1A          	ld	a,(de)
1849  05DC  B7          	or	a, a
1850  05DD  20 45       	jr	NZ,l_game_score_osd_00110
1851  05DF  56          	ld	d,(hl)
1852  05E0  2B          	dec	hl
1853  05E1  5E          	ld	e,(hl)
1854  05E2  13          	inc	de
1855  05E3  69          	ld	l, c
1856  05E4  60          	ld	h, b
1857  05E5  19          	add	hl,de
1858  05E6  7E          	ld	a,(hl)
1859  05E7  B7          	or	a, a
1860  05E8  20 3A       	jr	NZ,l_game_score_osd_00110
1861  05EA  76          	halt
1862  05EB  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1863  05ED  21 00 00    	ld	hl,_index_player
1864  05F0  86          	add	a, (hl)
1865  05F1  4F          	ld	c,a
1866  05F2  3E 00       	ld	a,+((_score_osd_col) / 256)
1867  05F4  CE 00       	adc	a,0x00
1868  05F6  47          	ld	b,a
1869  05F7  0A          	ld	a,(bc)
1870  05F8  57          	ld	d,a
1871  05F9  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1872  05FB  86          	add	a, (hl)
1873  05FC  4F          	ld	c,a
1874  05FD  3E 00       	ld	a,+((_score_osd_lin) / 256)
1875  05FF  CE 00       	adc	a,0x00
1876  0601  47          	ld	b,a
1877  0602  0A          	ld	a,(bc)
1878  0603  5F          	ld	e,a
1879  0604  6E          	ld	l, (hl)
1880  0605  26 00       	ld	h,0x00
1881  0607  29          	add	hl, hl
1882  0608  01 00 00    	ld	bc,_score_osd_tile
1883  060B  09          	add	hl,bc
1884  060C  46          	ld	b,(hl)
1885  060D  23          	inc	hl
1886  060E  4E          	ld	c,(hl)
1887  060F  D5          	push	de
1888  0610  C5          	push	bc
1889  0611  33          	inc	sp
1890  0612  CD 00 00    	call	_NIRVANAP_drawT_callee
1891  0615  3A 00 00    	ld	a,(_index_player)
1892  0618  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1893  061A  4F          	ld	c,a
1894  061B  3E 00       	ld	a,+((_score_osd_lin) / 256)
1895  061D  CE 00       	adc	a,0x00
1896  061F  47          	ld	b,a
1897  0620  3A 00 00    	ld	a,(_tmp)
1898  0623  02          	ld	(bc),a
1899  0624              l_game_score_osd_00110:
1900  0624  01 00 00    	ld	bc,_score_osd_time+0
1901  0627  2A 00 00    	ld	hl,(_index_player)
1902  062A  26 00       	ld	h,0x00
1903  062C  29          	add	hl, hl
1904  062D  09          	add	hl,bc
1905  062E  4E          	ld	c,(hl)
1906  062F  23          	inc	hl
1907  0630  46          	ld	b,(hl)
1908  0631  21 32 00    	ld	hl,0x0032
1909  0634  E5          	push	hl
1910  0635  C5          	push	bc
1911  0636  CD 34 1A    	call	_game_check_time
1912  0639  F1          	pop	af
1913  063A  F1          	pop	af
1914  063B  7D          	ld	a,l
1915  063C  B7          	or	a, a
1916  063D  C8          	ret	Z
1917  063E  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1918  0640  21 00 00    	ld	hl,_index_player
1919  0643  86          	add	a, (hl)
1920  0644  4F          	ld	c,a
1921  0645  3E 00       	ld	a,+((_score_osd_col) / 256)
1922  0647  CE 00       	adc	a,0x00
1923  0649  47          	ld	b,a
1924  064A  0A          	ld	a,(bc)
1925  064B  57          	ld	d,a
1926  064C  4E          	ld	c,(hl)
1927  064D  06 00       	ld	b,0x00
1928  064F  21 00 00    	ld	hl,_score_osd_lin
1929  0652  09          	add	hl,bc
1930  0653  5E          	ld	e, (hl)
1931  0654  D5          	push	de
1932  0655  AF          	xor	a, a
1933  0656  F5          	push	af
1934  0657  33          	inc	sp
1935  0658  CD 00 00    	call	_NIRVANAP_fillT_callee
1936  065B  3A 00 00    	ld	a,(_index_player)
1937  065E  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1938  0660  4F          	ld	c,a
1939  0661  3E 00       	ld	a,+((_score_osd_lin) / 256)
1940  0663  CE 00       	adc	a,0x00
1941  0665  47          	ld	b,a
1942  0666  0A          	ld	a,(bc)
1943  0667  32 00 00    	ld	(_s_lin0),a
1944  066A  3A 00 00    	ld	a,(_index_player)
1945  066D  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1946  066F  4F          	ld	c,a
1947  0670  3E 00       	ld	a,+((_score_osd_col) / 256)
1948  0672  CE 00       	adc	a,0x00
1949  0674  47          	ld	b,a
1950  0675  0A          	ld	a,(bc)
1951  0676  32 00 00    	ld	(_s_col0),a
1952  0679  CD 00 00    	call	_spr_check_over
1953  067C  3A 00 00    	ld	a,(_index_player)
1954  067F  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1955  0681  4F          	ld	c,a
1956  0682  3E 00       	ld	a,+((_score_osd_col) / 256)
1957  0684  CE 00       	adc	a,0x00
1958  0686  47          	ld	b,a
1959  0687  3E FF       	ld	a,0xff
1960  0689  02          	ld	(bc),a
1961  068A              l_game_score_osd_00119:
1962  068A  C9          	ret
1963  068B              	SECTION code_compiler
1964  068B              ;	---------------------------------
1965  068B              ; Function game_bonus_clock
1966  068B              ; ---------------------------------
1967  068B              _game_bonus_clock:
1968  068B  2A 00 00    	ld	hl,(_curr_time)
1969  068E  29          	add	hl,hl
1970  068F  3E 40       	ld	a,0x40
1971  0691  95          	sub	a,l
1972  0692  44          	ld	b,h
1973  0693  21 00 00    	ld	hl,_tmp_ui
1974  0696  77          	ld	(hl),a
1975  0697  3E 06       	ld	a,0x06
1976  0699  98          	sbc	a, b
1977  069A  23          	inc	hl
1978  069B  77          	ld	(hl),a
1979  069C  3E 40       	ld	a,0x40
1980  069E  2B          	dec	hl
1981  069F  BE          	cp	a, (hl)
1982  06A0  3E 06       	ld	a,0x06
1983  06A2  23          	inc	hl
1984  06A3  9E          	sbc	a, (hl)
1985  06A4  30 1F       	jr	NC,l_game_bonus_clock_00106
1986  06A6  2B          	dec	hl
1987  06A7  AF          	xor	a, a
1988  06A8  77          	ld	(hl), a
1989  06A9  23          	inc	hl
1990  06AA  77          	ld	(hl), a
1991  06AB  21 00 00    	ld	hl,0x0000
1992  06AE  E5          	push	hl
1993  06AF  21 02 0E    	ld	hl,0x0e02
1994  06B2  E5          	push	hl
1995  06B3  CD 00 00    	call	_zx_print_bonus_time
1996  06B6  21 00 00    	ld	hl,_phase_left
1997  06B9  36 00       	ld	(hl),0x00
1998  06BB  21 00 00    	ld	hl,_phase_end
1999  06BE  36 01       	ld	(hl),0x01
2000  06C0  CD 00 00    	call	_ay_reset
2001  06C3  18 36       	jr	l_game_bonus_clock_00108
2002  06C5              l_game_bonus_clock_00106:
2003  06C5  3A 00 00    	ld	a,(_phase_left)
2004  06C8  B7          	or	a, a
2005  06C9  C8          	ret	Z
2006  06CA  2A 00 00    	ld	hl,(_tmp_ui)
2007  06CD  E5          	push	hl
2008  06CE  21 02 0E    	ld	hl,0x0e02
2009  06D1  E5          	push	hl
2010  06D2  CD 00 00    	call	_zx_print_bonus_time
2011  06D5  21 05 00    	ld	hl,0x0005
2012  06D8  E5          	push	hl
2013  06D9  2A 00 00    	ld	hl,(_frame_time)
2014  06DC  E5          	push	hl
2015  06DD  CD 34 1A    	call	_game_check_time
2016  06E0  F1          	pop	af
2017  06E1  F1          	pop	af
2018  06E2  7D          	ld	a,l
2019  06E3  B7          	or	a, a
2020  06E4  C8          	ret	Z
2021  06E5  2A 00 00    	ld	hl,(_curr_time)
2022  06E8  22 00 00    	ld	(_frame_time),hl
2023  06EB  21 14 18    	ld	hl,0x1814
2024  06EE  E5          	push	hl
2025  06EF  3E 0E       	ld	a,0x0e
2026  06F1  F5          	push	af
2027  06F2  33          	inc	sp
2028  06F3  CD 05 0D    	call	_game_paint_attrib_lin_h
2029  06F6  F1          	pop	af
2030  06F7  33          	inc	sp
2031  06F8  CD 86 19    	call	_game_rotate_attrib
2032  06FB              l_game_bonus_clock_00108:
2033  06FB  C9          	ret
2034  06FC              	SECTION code_compiler
2035  06FC              ;	---------------------------------
2036  06FC              ; Function game_bonus_summary
2037  06FC              ; ---------------------------------
2038  06FC              _game_bonus_summary:
2039  06FC  CD B5 08    	call	_game_kill_all_sprites
2040  06FF  CD 00 00    	call	_spr_draw_clear
2041  0702  21 00 00    	ld	hl,0x0000
2042  0705  CD 00 00    	call	_zx_cls_fastcall
2043  0708  CD B1 00    	call	_game_phase_print_score_back
2044  070B  CD 89 0C    	call	_game_print_score
2045  070E  3A 00 00    	ld	a,(_game_lives)
2046  0711  B7          	or	a, a
2047  0712  28 05       	jr	Z,l_game_bonus_summary_00102
2048  0714  2E 00       	ld	l,0x00
2049  0716  CD B1 07    	call	_game_bonus_summary_player
2050  0719              l_game_bonus_summary_00102:
2051  0719  3A 01 00    	ld	a, (_game_lives + 1)
2052  071C  B7          	or	a, a
2053  071D  28 05       	jr	Z,l_game_bonus_summary_00104
2054  071F  2E 01       	ld	l,0x01
2055  0721  CD B1 07    	call	_game_bonus_summary_player
2056  0724              l_game_bonus_summary_00104:
2057  0724  21 1F 98    	ld	hl,0x981f
2058  0727  E5          	push	hl
2059  0728  AF          	xor	a, a
2060  0729  F5          	push	af
2061  072A  33          	inc	sp
2062  072B  CD DE 0C    	call	_game_paint_attrib_lin
2063  072E  F1          	pop	af
2064  072F  33          	inc	sp
2065  0730  3A 00 00    	ld	a,(_phase_bonus_total)
2066  0733  D6 06       	sub	a,0x06
2067  0735  20 68       	jr	NZ,l_game_bonus_summary_00109
2068  0737  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2069  073A  B7          	or	a, a
2070  073B  20 62       	jr	NZ,l_game_bonus_summary_00109
2071  073D  CD 00 00    	call	_sound_jump
2072  0740  3A 00 00    	ld	a,(_phase_curr)
2073  0743  D6 03       	sub	a,0x03
2074  0745  20 23       	jr	NZ,l_game_bonus_summary_00106
2075  0747  21 83 00    	ld	hl,___str_19
2076  074A  E5          	push	hl
2077  074B  21 12 06    	ld	hl,0x0612
2078  074E  E5          	push	hl
2079  074F  CD 00 00    	call	_zx_print_str
2080  0752  21 00 00    	ld	hl,_index_player
2081  0755  36 00       	ld	(hl),0x00
2082  0757  21 2C 01    	ld	hl,0x012c
2083  075A  CD 00 00    	call	_player_score_add
2084  075D  21 00 00    	ld	hl,_index_player
2085  0760  36 01       	ld	(hl),0x01
2086  0762  21 2C 01    	ld	hl,0x012c
2087  0765  CD 00 00    	call	_player_score_add
2088  0768  18 21       	jr	l_game_bonus_summary_00107
2089  076A              l_game_bonus_summary_00106:
2090  076A  21 96 00    	ld	hl,___str_20
2091  076D  E5          	push	hl
2092  076E  21 12 06    	ld	hl,0x0612
2093  0771  E5          	push	hl
2094  0772  CD 00 00    	call	_zx_print_str
2095  0775  21 00 00    	ld	hl,_index_player
2096  0778  36 00       	ld	(hl),0x00
2097  077A  21 F4 01    	ld	hl,0x01f4
2098  077D  CD 00 00    	call	_player_score_add
2099  0780  21 00 00    	ld	hl,_index_player
2100  0783  36 01       	ld	(hl),0x01
2101  0785  21 F4 01    	ld	hl,0x01f4
2102  0788  CD 00 00    	call	_player_score_add
2103  078B              l_game_bonus_summary_00107:
2104  078B  21 C8 00    	ld	hl,0x00c8
2105  078E  E5          	push	hl
2106  078F  21 10 1A    	ld	hl,0x1a10
2107  0792  E5          	push	hl
2108  0793  3E 12       	ld	a,0x12
2109  0795  F5          	push	af
2110  0796  33          	inc	sp
2111  0797  CD A2 19    	call	_game_colour_message
2112  079A  F1          	pop	af
2113  079B  F1          	pop	af
2114  079C  33          	inc	sp
2115  079D  18 11       	jr	l_game_bonus_summary_00112
2116  079F              l_game_bonus_summary_00109:
2117  079F  21 A9 00    	ld	hl,___str_21
2118  07A2  E5          	push	hl
2119  07A3  21 12 0C    	ld	hl,0x0c12
2120  07A6  E5          	push	hl
2121  07A7  CD 00 00    	call	_zx_print_str
2122  07AA  21 E8 03    	ld	hl,0x03e8
2123  07AD  CD 00 00    	call	_z80_delay_ms_fastcall
2124  07B0              l_game_bonus_summary_00112:
2125  07B0  C9          	ret
2126  07B1              	SECTION rodata_compiler
2127  0083              ___str_19:
2128  0083  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2129  0095  00          	DEFB 0x00
2130  0096              	SECTION rodata_compiler
2131  0096              ___str_20:
2132  0096  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2133  00A8  00          	DEFB 0x00
2134  00A9              	SECTION rodata_compiler
2135  00A9              ___str_21:
2136  00A9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2137  00B1  00          	DEFB 0x00
2138  00B2              	SECTION code_compiler
2139  07B1              ;	---------------------------------
2140  07B1              ; Function game_bonus_summary_player
2141  07B1              ; ---------------------------------
2142  07B1              _game_bonus_summary_player:
2143  07B1  CD 00 00    	call	___sdcc_enter_ix
2144  07B4  F5          	push	af
2145  07B5  3B          	dec	sp
2146  07B6  DD 75 FF    	ld	(ix-1),l
2147  07B9  76          	halt
2148  07BA  DD 7E FF    	ld	a,(ix-1)
2149  07BD  B7          	or	a, a
2150  07BE  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2151  07C0  21 00 00    	ld	hl,_s_lin1
2152  07C3  36 06       	ld	(hl),0x06
2153  07C5  21 B2 00    	ld	hl,___str_22
2154  07C8  E5          	push	hl
2155  07C9  21 06 07    	ld	hl,0x0706
2156  07CC  E5          	push	hl
2157  07CD  CD 00 00    	call	_zx_print_str
2158  07D0  3A 00 00    	ld	a,(_s_lin1)
2159  07D3  07          	rlca
2160  07D4  07          	rlca
2161  07D5  07          	rlca
2162  07D6  E6 F8       	and	a,0xf8
2163  07D8  47          	ld	b,a
2164  07D9  04          	inc	b
2165  07DA  04          	inc	b
2166  07DB  04          	inc	b
2167  07DC  04          	inc	b
2168  07DD  3E 04       	ld	a,0x04
2169  07DF  48          	ld	c,b
2170  07E0  47          	ld	b,a
2171  07E1  C5          	push	bc
2172  07E2  3E 03       	ld	a,0x03
2173  07E4  F5          	push	af
2174  07E5  33          	inc	sp
2175  07E6  CD 00 00    	call	_NIRVANAP_drawT_callee
2176  07E9  21 00 00    	ld	hl,_index_player
2177  07EC  36 00       	ld	(hl),0x00
2178  07EE  18 2E       	jr	l_game_bonus_summary_player_00103
2179  07F0              l_game_bonus_summary_player_00102:
2180  07F0  21 00 00    	ld	hl,_s_lin1
2181  07F3  36 0C       	ld	(hl),0x0c
2182  07F5  21 B9 00    	ld	hl,___str_23
2183  07F8  E5          	push	hl
2184  07F9  21 0C 07    	ld	hl,0x070c
2185  07FC  E5          	push	hl
2186  07FD  CD 00 00    	call	_zx_print_str
2187  0800  3A 00 00    	ld	a,(_s_lin1)
2188  0803  07          	rlca
2189  0804  07          	rlca
2190  0805  07          	rlca
2191  0806  E6 F8       	and	a,0xf8
2192  0808  47          	ld	b,a
2193  0809  04          	inc	b
2194  080A  04          	inc	b
2195  080B  04          	inc	b
2196  080C  04          	inc	b
2197  080D  3E 04       	ld	a,0x04
2198  080F  48          	ld	c,b
2199  0810  47          	ld	b,a
2200  0811  C5          	push	bc
2201  0812  3E 1B       	ld	a,0x1b
2202  0814  F5          	push	af
2203  0815  33          	inc	sp
2204  0816  CD 00 00    	call	_NIRVANAP_drawT_callee
2205  0819  21 00 00    	ld	hl,_index_player
2206  081C  36 01       	ld	(hl),0x01
2207  081E              l_game_bonus_summary_player_00103:
2208  081E  3A 00 00    	ld	a,(_s_lin1)
2209  0821  07          	rlca
2210  0822  07          	rlca
2211  0823  07          	rlca
2212  0824  E6 F8       	and	a,0xf8
2213  0826  C6 08       	add	a,0x08
2214  0828  F5          	push	af
2215  0829  33          	inc	sp
2216  082A  21 07 1F    	ld	hl,0x1f07
2217  082D  E5          	push	hl
2218  082E  CD DE 0C    	call	_game_paint_attrib_lin
2219  0831  F1          	pop	af
2220  0832  33          	inc	sp
2221  0833  21 00 00    	ld	hl,_tmp_uc
2222  0836  36 00       	ld	(hl),0x00
2223  0838  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2224  083A  DD 86 FF    	add	a,(ix-1)
2225  083D  DD 77 FD    	ld	(ix-3),a
2226  0840  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2227  0842  CE 00       	adc	a,0x00
2228  0844  DD 77 FE    	ld	(ix-2),a
2229  0847              l_game_bonus_summary_player_00107:
2230  0847  E1          	pop	hl
2231  0848  4E          	ld	c,(hl)
2232  0849  3A 00 00    	ld	a,(_tmp_uc)
2233  084C  E5          	push	hl
2234  084D  91          	sub	a, c
2235  084E  30 53       	jr	NC,l_game_bonus_summary_player_00109
2236  0850  3A 00 00    	ld	a,(_s_lin1)
2237  0853  07          	rlca
2238  0854  07          	rlca
2239  0855  07          	rlca
2240  0856  E6 F8       	and	a,0xf8
2241  0858  4F          	ld	c,a
2242  0859  3A 00 00    	ld	a,(_tmp_uc)
2243  085C  D6 03       	sub	a,0x03
2244  085E  30 08       	jr	NC,l_game_bonus_summary_player_00105
2245  0860  79          	ld	a,c
2246  0861  C6 F8       	add	a,0xf8
2247  0863  32 00 00    	ld	(_s_lin0),a
2248  0866  18 06       	jr	l_game_bonus_summary_player_00106
2249  0868              l_game_bonus_summary_player_00105:
2250  0868  79          	ld	a,c
2251  0869  C6 08       	add	a,0x08
2252  086B  32 00 00    	ld	(_s_lin0),a
2253  086E              l_game_bonus_summary_player_00106:
2254  086E  76          	halt
2255  086F  2A 00 00    	ld	hl,(_tmp_uc)
2256  0872  26 03       	ld	h,0x03
2257  0874  E5          	push	hl
2258  0875  CD 00 00    	call	__moduchar_callee
2259  0878  7D          	ld	a,l
2260  0879  87          	add	a, a
2261  087A  C6 0E       	add	a,0x0e
2262  087C  F5          	push	af
2263  087D  33          	inc	sp
2264  087E  3A 00 00    	ld	a,(_s_lin0)
2265  0881  57          	ld	d,a
2266  0882  1E B9       	ld	e,0xb9
2267  0884  D5          	push	de
2268  0885  CD 00 00    	call	_NIRVANAP_drawT_callee
2269  0888  21 50 00    	ld	hl,0x0050
2270  088B  CD 00 00    	call	_player_score_add
2271  088E  21 00 00    	ld	hl,_tmp_uc
2272  0891  34          	inc	(hl)
2273  0892  21 00 00    	ld	hl,_ay_effect_09
2274  0895  CD 00 00    	call	_ay_fx_play
2275  0898  CD 00 00    	call	_sound_coin
2276  089B  21 32 00    	ld	hl,0x0032
2277  089E  CD 00 00    	call	_z80_delay_ms_fastcall
2278  08A1  18 A4       	jr	l_game_bonus_summary_player_00107
2279  08A3              l_game_bonus_summary_player_00109:
2280  08A3  21 BF 00    	ld	hl,___str_24
2281  08A6  E5          	push	hl
2282  08A7  2A 00 00    	ld	hl,(_s_lin1)
2283  08AA  26 16       	ld	h,0x16
2284  08AC  E5          	push	hl
2285  08AD  CD 00 00    	call	_zx_print_str
2286  08B0  DD F9       	ld	sp, ix
2287  08B2  DD E1       	pop	ix
2288  08B4  C9          	ret
2289  08B5              	SECTION rodata_compiler
2290  00B2              ___str_22:
2291  00B2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2292  00B8  00          	DEFB 0x00
2293  00B9              	SECTION rodata_compiler
2294  00B9              ___str_23:
2295  00B9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2296  00BE  00          	DEFB 0x00
2297  00BF              	SECTION rodata_compiler
2298  00BF              ___str_24:
2299  00BF  58 20 38 30 30 
                        	DEFM "X 800"
2300  00C4  00          	DEFB 0x00
2301  00C5              	SECTION code_compiler
2302  08B5              ;	---------------------------------
2303  08B5              ; Function game_kill_all_sprites
2304  08B5              ; ---------------------------------
2305  08B5              _game_kill_all_sprites:
2306  08B5  21 00 00    	ld	hl,_sprite
2307  08B8  36 00       	ld	(hl),0x00
2308  08BA              l_game_kill_all_sprites_00102:
2309  08BA  2A 00 00    	ld	hl,(_sprite)
2310  08BD  CD 00 00    	call	_spr_destroy
2311  08C0  21 00 00    	ld	hl,_sprite
2312  08C3  7E          	ld	a,(hl)
2313  08C4  3C          	inc	a
2314  08C5  77          	ld	(hl),a
2315  08C6  D6 08       	sub	a,0x08
2316  08C8  38 F0       	jr	C,l_game_kill_all_sprites_00102
2317  08CA  C9          	ret
2318  08CB              	SECTION code_compiler
2319  08CB              ;	---------------------------------
2320  08CB              ; Function game_check_maze
2321  08CB              ; ---------------------------------
2322  08CB              _game_check_maze:
2323  08CB  4D          	ld	c,l
2324  08CC  44          	ld	b,h
2325  08CD  21 00 00    	ld	hl,_lvl_1
2326  08D0  09          	add	hl,bc
2327  08D1  7E          	ld	a, (hl)
2328  08D2  D6 10       	sub	a,0x10
2329  08D4  30 0A       	jr	NC,l_game_check_maze_00103
2330  08D6  03          	inc	bc
2331  08D7  21 00 00    	ld	hl,_lvl_1
2332  08DA  09          	add	hl,bc
2333  08DB  7E          	ld	a, (hl)
2334  08DC  D6 10       	sub	a,0x10
2335  08DE  38 04       	jr	C,l_game_check_maze_00104
2336  08E0              l_game_check_maze_00103:
2337  08E0  2E 00       	ld	l,0x00
2338  08E2  18 02       	jr	l_game_check_maze_00105
2339  08E4              l_game_check_maze_00104:
2340  08E4  2E 01       	ld	l,0x01
2341  08E6              l_game_check_maze_00105:
2342  08E6  C9          	ret
2343  08E7              	SECTION code_compiler
2344  08E7              ;	---------------------------------
2345  08E7              ; Function game_enemy_add
2346  08E7              ; ---------------------------------
2347  08E7              _game_enemy_add:
2348  08E7  3A 00 00    	ld	a,(_game_type)
2349  08EA  D6 02       	sub	a,0x02
2350  08EC  20 05       	jr	NZ,l_game_enemy_add_00106
2351  08EE  CD 34 0A    	call	_game_enemy_rnd
2352  08F1  18 21       	jr	l_game_enemy_add_00107
2353  08F3              l_game_enemy_add_00106:
2354  08F3  3A 00 00    	ld	a,(_spr_count)
2355  08F6  D6 06       	sub	a,0x06
2356  08F8  30 1A       	jr	NC,l_game_enemy_add_00107
2357  08FA  21 64 00    	ld	hl,0x0064
2358  08FD  E5          	push	hl
2359  08FE  2A 00 00    	ld	hl,(_entry_time)
2360  0901  E5          	push	hl
2361  0902  CD 34 1A    	call	_game_check_time
2362  0905  F1          	pop	af
2363  0906  F1          	pop	af
2364  0907  7D          	ld	a,l
2365  0908  B7          	or	a, a
2366  0909  28 09       	jr	Z,l_game_enemy_add_00107
2367  090B  3A 00 00    	ld	a,(_phase_left)
2368  090E  B7          	or	a, a
2369  090F  28 03       	jr	Z,l_game_enemy_add_00107
2370  0911  CD 17 09    	call	_game_enemy_quota
2371  0914              l_game_enemy_add_00107:
2372  0914  2E 00       	ld	l,0x00
2373  0916  C9          	ret
2374  0917              	SECTION code_compiler
2375  0917              ;	---------------------------------
2376  0917              ; Function game_enemy_quota
2377  0917              ; ---------------------------------
2378  0917              _game_enemy_quota:
2379  0917  CD 00 00    	call	_rand
2380  091A  7D          	ld	a, l
2381  091B  E6 01       	and	a,0x01
2382  091D  32 00 00    	ld	(_tmp),a
2383  0920  3A 00 00    	ld	a,(_phase_pop)
2384  0923  B7          	or	a, a
2385  0924  28 06       	jr	Z,l_game_enemy_quota_00101
2386  0926  3A 00 00    	ld	a,(_phase_left)
2387  0929  3D          	dec	a
2388  092A  20 05       	jr	NZ,l_game_enemy_quota_00102
2389  092C              l_game_enemy_quota_00101:
2390  092C  21 00 00    	ld	hl,_tmp
2391  092F  36 00       	ld	(hl),0x00
2392  0931              l_game_enemy_quota_00102:
2393  0931  3A 00 00    	ld	a,(_phase_left)
2394  0934  B7          	or	a, a
2395  0935  28 69       	jr	Z,l_game_enemy_quota_00117
2396  0937  3A 00 00    	ld	a,(_tmp)
2397  093A  B7          	or	a, a
2398  093B  20 63       	jr	NZ,l_game_enemy_quota_00117
2399  093D  01 02 00    	ld	bc,_phase_quota + 2
2400  0940  0A          	ld	a,(bc)
2401  0941  B7          	or	a, a
2402  0942  28 10       	jr	Z,l_game_enemy_quota_00105
2403  0944  C5          	push	bc
2404  0945  2E 09       	ld	l,0x09
2405  0947  CD 64 0A    	call	_game_enemy_add1
2406  094A  C1          	pop	bc
2407  094B  0A          	ld	a,(bc)
2408  094C  C6 FF       	add	a,0xff
2409  094E  02          	ld	(bc),a
2410  094F  2E 00       	ld	l,0x00
2411  0951  C3 33 0A    	jp	l_game_enemy_quota_00134
2412  0954              l_game_enemy_quota_00105:
2413  0954  01 01 00    	ld	bc,_phase_quota + 1
2414  0957  0A          	ld	a,(bc)
2415  0958  B7          	or	a, a
2416  0959  28 1F       	jr	Z,l_game_enemy_quota_00110
2417  095B  3A 00 00    	ld	a,(_phase_angry)
2418  095E  B7          	or	a, a
2419  095F  28 09       	jr	Z,l_game_enemy_quota_00107
2420  0961  C5          	push	bc
2421  0962  2E 06       	ld	l,0x06
2422  0964  CD 64 0A    	call	_game_enemy_add1
2423  0967  C1          	pop	bc
2424  0968  18 07       	jr	l_game_enemy_quota_00108
2425  096A              l_game_enemy_quota_00107:
2426  096A  C5          	push	bc
2427  096B  2E 04       	ld	l,0x04
2428  096D  CD 64 0A    	call	_game_enemy_add1
2429  0970  C1          	pop	bc
2430  0971              l_game_enemy_quota_00108:
2431  0971  0A          	ld	a,(bc)
2432  0972  C6 FF       	add	a,0xff
2433  0974  02          	ld	(bc),a
2434  0975  2E 00       	ld	l,0x00
2435  0977  C3 33 0A    	jp	l_game_enemy_quota_00134
2436  097A              l_game_enemy_quota_00110:
2437  097A  3A 00 00    	ld	a,(_phase_quota)
2438  097D  B7          	or	a, a
2439  097E  28 20       	jr	Z,l_game_enemy_quota_00117
2440  0980  3A 00 00    	ld	a,(_phase_angry)
2441  0983  B7          	or	a, a
2442  0984  28 07       	jr	Z,l_game_enemy_quota_00112
2443  0986  2E 03       	ld	l,0x03
2444  0988  CD 64 0A    	call	_game_enemy_add1
2445  098B  18 05       	jr	l_game_enemy_quota_00113
2446  098D              l_game_enemy_quota_00112:
2447  098D  2E 01       	ld	l,0x01
2448  098F  CD 64 0A    	call	_game_enemy_add1
2449  0992              l_game_enemy_quota_00113:
2450  0992  21 00 00    	ld	hl,_phase_quota
2451  0995  4E          	ld	c,(hl)
2452  0996  0D          	dec	c
2453  0997  21 00 00    	ld	hl,_phase_quota
2454  099A  71          	ld	(hl),c
2455  099B  2E 00       	ld	l,0x00
2456  099D  C3 33 0A    	jp	l_game_enemy_quota_00134
2457  09A0              l_game_enemy_quota_00117:
2458  09A0  3A 00 00    	ld	a,(_phase_coins)
2459  09A3  B7          	or	a, a
2460  09A4  28 0A       	jr	Z,l_game_enemy_quota_00120
2461  09A6  2E 08       	ld	l,0x08
2462  09A8  CD 64 0A    	call	_game_enemy_add1
2463  09AB  2E 00       	ld	l,0x00
2464  09AD  C3 33 0A    	jp	l_game_enemy_quota_00134
2465  09B0              l_game_enemy_quota_00120:
2466  09B0  CD 00 00    	call	_rand
2467  09B3  7D          	ld	a,l
2468  09B4  E6 03       	and	a,0x03
2469  09B6  44          	ld	b,h
2470  09B7  0E 00       	ld	c,0x00
2471  09B9  CB 79       	bit	7,c
2472  09BB  20 74       	jr	NZ,l_game_enemy_quota_00133
2473  09BD  5F          	ld	e,a
2474  09BE  3E 03       	ld	a,0x03
2475  09C0  BB          	cp	a, e
2476  09C1  3E 00       	ld	a,0x00
2477  09C3  99          	sbc	a, c
2478  09C4  E2 C9 09    	jp	PO, l_game_enemy_quota_00198
2479  09C7  EE 80       	xor	a,0x80
2480  09C9              l_game_enemy_quota_00198:
2481  09C9  FA 31 0A    	jp	M,l_game_enemy_quota_00133
2482  09CC  16 00       	ld	d,0x00
2483  09CE  21 D4 09    	ld	hl,l_game_enemy_quota_00199
2484  09D1  19          	add	hl,de
2485  09D2  19          	add	hl,de
2486  09D3  E9          	jp	(hl)
2487  09D4              l_game_enemy_quota_00199:
2488  09D4  18 06       	jr	l_game_enemy_quota_00121
2489  09D6  18 13       	jr	l_game_enemy_quota_00124
2490  09D8  18 29       	jr	l_game_enemy_quota_00127
2491  09DA  18 3F       	jr	l_game_enemy_quota_00130
2492  09DC              l_game_enemy_quota_00121:
2493  09DC  3E 07       	ld	a,0x07
2494  09DE  21 00 00    	ld	hl,_phase_curr
2495  09E1  96          	sub	a, (hl)
2496  09E2  30 4D       	jr	NC,l_game_enemy_quota_00133
2497  09E4  2E 07       	ld	l,0x07
2498  09E6  CD 64 0A    	call	_game_enemy_add1
2499  09E9  18 46       	jr	l_game_enemy_quota_00133
2500  09EB              l_game_enemy_quota_00124:
2501  09EB  2A 00 00    	ld	hl,(_game_time_fireball_start)
2502  09EE  E5          	push	hl
2503  09EF  21 00 00    	ld	hl,0x0000
2504  09F2  E5          	push	hl
2505  09F3  CD 34 1A    	call	_game_check_time
2506  09F6  F1          	pop	af
2507  09F7  F1          	pop	af
2508  09F8  7D          	ld	a,l
2509  09F9  B7          	or	a, a
2510  09FA  28 35       	jr	Z,l_game_enemy_quota_00133
2511  09FC  2E 0B       	ld	l,0x0b
2512  09FE  CD 64 0A    	call	_game_enemy_add1
2513  0A01  18 2E       	jr	l_game_enemy_quota_00133
2514  0A03              l_game_enemy_quota_00127:
2515  0A03  2A 00 00    	ld	hl,(_game_time_fireball_start)
2516  0A06  E5          	push	hl
2517  0A07  21 00 00    	ld	hl,0x0000
2518  0A0A  E5          	push	hl
2519  0A0B  CD 34 1A    	call	_game_check_time
2520  0A0E  F1          	pop	af
2521  0A0F  F1          	pop	af
2522  0A10  7D          	ld	a,l
2523  0A11  B7          	or	a, a
2524  0A12  28 1D       	jr	Z,l_game_enemy_quota_00133
2525  0A14  2E 0B       	ld	l,0x0b
2526  0A16  CD 64 0A    	call	_game_enemy_add1
2527  0A19  18 16       	jr	l_game_enemy_quota_00133
2528  0A1B              l_game_enemy_quota_00130:
2529  0A1B  2A 00 00    	ld	hl,(_game_time_fireball_start)
2530  0A1E  E5          	push	hl
2531  0A1F  21 00 00    	ld	hl,0x0000
2532  0A22  E5          	push	hl
2533  0A23  CD 34 1A    	call	_game_check_time
2534  0A26  F1          	pop	af
2535  0A27  F1          	pop	af
2536  0A28  7D          	ld	a,l
2537  0A29  B7          	or	a, a
2538  0A2A  28 05       	jr	Z,l_game_enemy_quota_00133
2539  0A2C  2E 0A       	ld	l,0x0a
2540  0A2E  CD 64 0A    	call	_game_enemy_add1
2541  0A31              l_game_enemy_quota_00133:
2542  0A31  2E 00       	ld	l,0x00
2543  0A33              l_game_enemy_quota_00134:
2544  0A33  C9          	ret
2545  0A34              	SECTION code_compiler
2546  0A34              ;	---------------------------------
2547  0A34              ; Function game_enemy_rnd
2548  0A34              ; ---------------------------------
2549  0A34              _game_enemy_rnd:
2550  0A34  3A 00 00    	ld	a,(_spr_count)
2551  0A37  D6 06       	sub	a,0x06
2552  0A39  30 26       	jr	NC,l_game_enemy_rnd_00102
2553  0A3B  21 64 00    	ld	hl,0x0064
2554  0A3E  E5          	push	hl
2555  0A3F  2A 00 00    	ld	hl,(_entry_time)
2556  0A42  E5          	push	hl
2557  0A43  CD 34 1A    	call	_game_check_time
2558  0A46  F1          	pop	af
2559  0A47  F1          	pop	af
2560  0A48  7D          	ld	a,l
2561  0A49  B7          	or	a, a
2562  0A4A  28 15       	jr	Z,l_game_enemy_rnd_00102
2563  0A4C  2A 00 00    	ld	hl,(_curr_time)
2564  0A4F  22 00 00    	ld	(_entry_time),hl
2565  0A52  CD 00 00    	call	_rand
2566  0A55  01 0B 00    	ld	bc,0x000b
2567  0A58  C5          	push	bc
2568  0A59  E5          	push	hl
2569  0A5A  CD 00 00    	call	__modsint_callee
2570  0A5D  2C          	inc	l
2571  0A5E  CD 64 0A    	call	_game_enemy_add1
2572  0A61              l_game_enemy_rnd_00102:
2573  0A61  2E 00       	ld	l,0x00
2574  0A63  C9          	ret
2575  0A64              	SECTION code_compiler
2576  0A64              ;	---------------------------------
2577  0A64              ; Function game_enemy_add1
2578  0A64              ; ---------------------------------
2579  0A64              _game_enemy_add1:
2580  0A64  CD 00 00    	call	___sdcc_enter_ix
2581  0A67  F5          	push	af
2582  0A68  45          	ld	b,l
2583  0A69  78          	ld	a,b
2584  0A6A  D6 0A       	sub	a,0x0a
2585  0A6C  20 04       	jr	NZ,l_game_enemy_add1_00185
2586  0A6E  3E 01       	ld	a,0x01
2587  0A70  18 01       	jr	l_game_enemy_add1_00186
2588  0A72              l_game_enemy_add1_00185:
2589  0A72  AF          	xor	a,a
2590  0A73              l_game_enemy_add1_00186:
2591  0A73  4F          	ld	c,a
2592  0A74  B7          	or	a, a
2593  0A75  28 0B       	jr	Z,l_game_enemy_add1_00105
2594  0A77  C5          	push	bc
2595  0A78  2E 0A       	ld	l,0x0a
2596  0A7A  CD A6 0B    	call	_game_enemy_add_get_index
2597  0A7D  C1          	pop	bc
2598  0A7E  5D          	ld	e,l
2599  0A7F  1C          	inc	e
2600  0A80  20 2B       	jr	NZ,l_game_enemy_add1_00101
2601  0A82              l_game_enemy_add1_00105:
2602  0A82  78          	ld	a,b
2603  0A83  D6 0B       	sub	a,0x0b
2604  0A85  20 04       	jr	NZ,l_game_enemy_add1_00189
2605  0A87  3E 01       	ld	a,0x01
2606  0A89  18 01       	jr	l_game_enemy_add1_00190
2607  0A8B              l_game_enemy_add1_00189:
2608  0A8B  AF          	xor	a,a
2609  0A8C              l_game_enemy_add1_00190:
2610  0A8C  DD 77 FF    	ld	(ix-1),a
2611  0A8F  B7          	or	a, a
2612  0A90  28 0B       	jr	Z,l_game_enemy_add1_00107
2613  0A92  C5          	push	bc
2614  0A93  2E 0B       	ld	l,0x0b
2615  0A95  CD A6 0B    	call	_game_enemy_add_get_index
2616  0A98  C1          	pop	bc
2617  0A99  5D          	ld	e,l
2618  0A9A  1C          	inc	e
2619  0A9B  20 10       	jr	NZ,l_game_enemy_add1_00101
2620  0A9D              l_game_enemy_add1_00107:
2621  0A9D  78          	ld	a,b
2622  0A9E  D6 07       	sub	a,0x07
2623  0AA0  20 10       	jr	NZ,l_game_enemy_add1_00102
2624  0AA2  C5          	push	bc
2625  0AA3  2E 07       	ld	l,0x07
2626  0AA5  CD A6 0B    	call	_game_enemy_add_get_index
2627  0AA8  C1          	pop	bc
2628  0AA9  5D          	ld	e,l
2629  0AAA  1C          	inc	e
2630  0AAB  28 05       	jr	Z,l_game_enemy_add1_00102
2631  0AAD              l_game_enemy_add1_00101:
2632  0AAD  2E 00       	ld	l,0x00
2633  0AAF  C3 A2 0B    	jp	l_game_enemy_add1_00131
2634  0AB2              l_game_enemy_add1_00102:
2635  0AB2  21 00 00    	ld	hl,_phase_pop
2636  0AB5  34          	inc	(hl)
2637  0AB6  C5          	push	bc
2638  0AB7  CD 00 00    	call	_sound_enter_enemy
2639  0ABA  2E 00       	ld	l,0x00
2640  0ABC  CD A6 0B    	call	_game_enemy_add_get_index
2641  0ABF  C1          	pop	bc
2642  0AC0  7D          	ld	a,l
2643  0AC1  32 00 00    	ld	(_tmp),a
2644  0AC4  C5          	push	bc
2645  0AC5  CD 00 00    	call	_rand
2646  0AC8  C1          	pop	bc
2647  0AC9  7D          	ld	a, l
2648  0ACA  E6 01       	and	a,0x01
2649  0ACC  32 00 00    	ld	(_tmp0),a
2650  0ACF  3D          	dec	a
2651  0AD0  20 1C       	jr	NZ,l_game_enemy_add1_00113
2652  0AD2  21 00 00    	ld	hl,_s_lin0
2653  0AD5  36 10       	ld	(hl),0x10
2654  0AD7  21 00 00    	ld	hl,_s_col0
2655  0ADA  36 04       	ld	(hl),0x04
2656  0ADC  21 00 00    	ld	hl,_s_col1
2657  0ADF  36 02       	ld	(hl),0x02
2658  0AE1  79          	ld	a,c
2659  0AE2  B7          	or	a, a
2660  0AE3  28 02       	jr	Z,l_game_enemy_add1_00109
2661  0AE5  36 03       	ld	(hl),0x03
2662  0AE7              l_game_enemy_add1_00109:
2663  0AE7  21 00 00    	ld	hl,_tmp1
2664  0AEA  36 01       	ld	(hl),0x01
2665  0AEC  18 1A       	jr	l_game_enemy_add1_00114
2666  0AEE              l_game_enemy_add1_00113:
2667  0AEE  21 00 00    	ld	hl,_s_lin0
2668  0AF1  36 10       	ld	(hl),0x10
2669  0AF3  21 00 00    	ld	hl,_s_col0
2670  0AF6  36 1A       	ld	(hl),0x1a
2671  0AF8  21 00 00    	ld	hl,_s_col1
2672  0AFB  36 1E       	ld	(hl),0x1e
2673  0AFD  79          	ld	a,c
2674  0AFE  B7          	or	a, a
2675  0AFF  28 02       	jr	Z,l_game_enemy_add1_00111
2676  0B01  36 1C       	ld	(hl),0x1c
2677  0B03              l_game_enemy_add1_00111:
2678  0B03  21 00 00    	ld	hl,_tmp1
2679  0B06  36 FF       	ld	(hl),0xff
2680  0B08              l_game_enemy_add1_00114:
2681  0B08  78          	ld	a,b
2682  0B09  D6 08       	sub	a,0x08
2683  0B0B  20 04       	jr	NZ,l_game_enemy_add1_00198
2684  0B0D  3E 01       	ld	a,0x01
2685  0B0F  18 01       	jr	l_game_enemy_add1_00199
2686  0B11              l_game_enemy_add1_00198:
2687  0B11  AF          	xor	a,a
2688  0B12              l_game_enemy_add1_00199:
2689  0B12  DD 77 FE    	ld	(ix-2),a
2690  0B15  B7          	or	a, a
2691  0B16  28 04       	jr	Z,l_game_enemy_add1_00116
2692  0B18  21 00 00    	ld	hl,_phase_coins
2693  0B1B  35          	dec	(hl)
2694  0B1C              l_game_enemy_add1_00116:
2695  0B1C  21 00 00    	ld	hl,_tmp_uc
2696  0B1F  36 00       	ld	(hl),0x00
2697  0B21  DD 7E FF    	ld	a,(ix-1)
2698  0B24  B7          	or	a,a
2699  0B25  20 03       	jr	NZ,l_game_enemy_add1_00123
2700  0B27  B1          	or	a,c
2701  0B28  28 35       	jr	Z,l_game_enemy_add1_00124
2702  0B2A              l_game_enemy_add1_00123:
2703  0B2A  C5          	push	bc
2704  0B2B  CD 00 00    	call	_rand
2705  0B2E  11 03 00    	ld	de,0x0003
2706  0B31  D5          	push	de
2707  0B32  E5          	push	hl
2708  0B33  CD 00 00    	call	__modsint_callee
2709  0B36  C1          	pop	bc
2710  0B37  5D          	ld	e,l
2711  0B38  21 00 00    	ld	hl,_tmp_uc
2712  0B3B  73          	ld	(hl),e
2713  0B3C  7B          	ld	a,e
2714  0B3D  B7          	or	a, a
2715  0B3E  20 02       	jr	NZ,l_game_enemy_add1_00118
2716  0B40  36 10       	ld	(hl),0x10
2717  0B42              l_game_enemy_add1_00118:
2718  0B42  3A 00 00    	ld	a,(_tmp_uc)
2719  0B45  3D          	dec	a
2720  0B46  20 05       	jr	NZ,l_game_enemy_add1_00120
2721  0B48  21 00 00    	ld	hl,_tmp_uc
2722  0B4B  36 38       	ld	(hl),0x38
2723  0B4D              l_game_enemy_add1_00120:
2724  0B4D  3A 00 00    	ld	a,(_tmp_uc)
2725  0B50  D6 02       	sub	a,0x02
2726  0B52  20 05       	jr	NZ,l_game_enemy_add1_00122
2727  0B54  21 00 00    	ld	hl,_tmp_uc
2728  0B57  36 84       	ld	(hl),0x84
2729  0B59              l_game_enemy_add1_00122:
2730  0B59  3A 00 00    	ld	a,(_s_col1)
2731  0B5C  32 00 00    	ld	(_s_col0),a
2732  0B5F              l_game_enemy_add1_00124:
2733  0B5F  CD 00 00    	call	_ay_is_playing
2734  0B62  7D          	ld	a,l
2735  0B63  D6 02       	sub	a,0x02
2736  0B65  30 14       	jr	NC,l_game_enemy_add1_00130
2737  0B67  DD 7E FE    	ld	a,(ix-2)
2738  0B6A  B7          	or	a, a
2739  0B6B  20 08       	jr	NZ,l_game_enemy_add1_00127
2740  0B6D  21 00 00    	ld	hl,_ay_effect_04
2741  0B70  CD 00 00    	call	_ay_fx_play
2742  0B73  18 06       	jr	l_game_enemy_add1_00130
2743  0B75              l_game_enemy_add1_00127:
2744  0B75  21 00 00    	ld	hl,_ay_effect_07
2745  0B78  CD 00 00    	call	_ay_fx_play
2746  0B7B              l_game_enemy_add1_00130:
2747  0B7B  2A 00 00    	ld	hl,(_curr_time)
2748  0B7E  22 00 00    	ld	(_entry_time),hl
2749  0B81  3A 00 00    	ld	a,(_s_lin0)
2750  0B84  21 00 00    	ld	hl,_tmp_uc
2751  0B87  86          	add	a, (hl)
2752  0B88  57          	ld	d,a
2753  0B89  3A 00 00    	ld	a,(_tmp1)
2754  0B8C  48          	ld	c,b
2755  0B8D  47          	ld	b,a
2756  0B8E  3A 00 00    	ld	a,(_s_col0)
2757  0B91  C5          	push	bc
2758  0B92  5A          	ld	e,d
2759  0B93  57          	ld	d,a
2760  0B94  3A 00 00    	ld	a,(_tmp)
2761  0B97  D5          	push	de
2762  0B98  F5          	push	af
2763  0B99  33          	inc	sp
2764  0B9A  CD 00 00    	call	_enemy_init
2765  0B9D  F1          	pop	af
2766  0B9E  F1          	pop	af
2767  0B9F  33          	inc	sp
2768  0BA0  2E 00       	ld	l,0x00
2769  0BA2              l_game_enemy_add1_00131:
2770  0BA2  F1          	pop	af
2771  0BA3  DD E1       	pop	ix
2772  0BA5  C9          	ret
2773  0BA6              	SECTION code_compiler
2774  0BA6              ;	---------------------------------
2775  0BA6              ; Function game_enemy_add_get_index
2776  0BA6              ; ---------------------------------
2777  0BA6              _game_enemy_add_get_index:
2778  0BA6  4D          	ld	c,l
2779  0BA7  21 00 00    	ld	hl,_enemies
2780  0BAA  36 00       	ld	(hl),0x00
2781  0BAC              l_game_enemy_add_get_index_00104:
2782  0BAC  2A 00 00    	ld	hl,(_enemies)
2783  0BAF  26 00       	ld	h,0x00
2784  0BB1  11 00 00    	ld	de,_class
2785  0BB4  19          	add	hl,de
2786  0BB5  46          	ld	b, (hl)
2787  0BB6  79          	ld	a,c
2788  0BB7  90          	sub	a,b
2789  0BB8  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2790  0BBA  2A 00 00    	ld	hl,(_enemies)
2791  0BBD  18 0B       	jr	l_game_enemy_add_get_index_00106
2792  0BBF              l_game_enemy_add_get_index_00105:
2793  0BBF  21 00 00    	ld	hl,_enemies
2794  0BC2  34          	inc	(hl)
2795  0BC3  3E 05       	ld	a,0x05
2796  0BC5  96          	sub	a, (hl)
2797  0BC6  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2798  0BC8  2E FF       	ld	l,0xff
2799  0BCA              l_game_enemy_add_get_index_00106:
2800  0BCA  C9          	ret
2801  0BCB              	SECTION code_compiler
2802  0BCB              ;	---------------------------------
2803  0BCB              ; Function game_freeze
2804  0BCB              ; ---------------------------------
2805  0BCB              _game_freeze:
2806  0BCB  CD 00 00    	call	___sdcc_enter_ix
2807  0BCE  DD 7E 05    	ld	a,(ix+5)
2808  0BD1  D6 1F       	sub	a,0x1f
2809  0BD3  30 5F       	jr	NC,l_game_freeze_00107
2810  0BD5  21 00 00    	ld	hl,_tmp
2811  0BD8  36 01       	ld	(hl),0x01
2812  0BDA  DD 66 05    	ld	h,(ix+5)
2813  0BDD  DD 6E 04    	ld	l,(ix+4)
2814  0BE0  E5          	push	hl
2815  0BE1  CD 00 00    	call	_game_calc_index
2816  0BE4  F1          	pop	af
2817  0BE5  22 00 00    	ld	(_index1),hl
2818  0BE8  01 00 00    	ld	bc,_lvl_1
2819  0BEB  09          	add	hl,bc
2820  0BEC  7E          	ld	a,(hl)
2821  0BED  D6 12       	sub	a,0x12
2822  0BEF  20 43       	jr	NZ,l_game_freeze_00107
2823  0BF1  36 14       	ld	(hl),0x14
2824  0BF3  76          	halt
2825  0BF4  DD 7E 05    	ld	a,(ix+5)
2826  0BF7  F5          	push	af
2827  0BF8  33          	inc	sp
2828  0BF9  DD 56 04    	ld	d,(ix+4)
2829  0BFC  1E 8B       	ld	e,0x8b
2830  0BFE  D5          	push	de
2831  0BFF  CD 00 00    	call	_NIRVANAP_drawT_callee
2832  0C02  ED 4B 00 00 	ld	bc,(_index1)
2833  0C06  03          	inc	bc
2834  0C07  21 00 00    	ld	hl,_lvl_1
2835  0C0A  09          	add	hl,bc
2836  0C0B  4E          	ld	c,(hl)
2837  0C0C  DD 46 05    	ld	b,(ix+5)
2838  0C0F  04          	inc	b
2839  0C10  79          	ld	a,c
2840  0C11  B7          	or	a, a
2841  0C12  20 0C       	jr	NZ,l_game_freeze_00102
2842  0C14  C5          	push	bc
2843  0C15  DD 4E 04    	ld	c,(ix+4)
2844  0C18  C5          	push	bc
2845  0C19  AF          	xor	a, a
2846  0C1A  F5          	push	af
2847  0C1B  33          	inc	sp
2848  0C1C  CD 00 00    	call	_NIRVANAP_fillT_callee
2849  0C1F  C1          	pop	bc
2850  0C20              l_game_freeze_00102:
2851  0C20  DD 4E 04    	ld	c,(ix+4)
2852  0C23  C5          	push	bc
2853  0C24  CD CB 0B    	call	_game_freeze
2854  0C27  F1          	pop	af
2855  0C28  DD 46 05    	ld	b,(ix+5)
2856  0C2B  05          	dec	b
2857  0C2C  DD 4E 04    	ld	c,(ix+4)
2858  0C2F  C5          	push	bc
2859  0C30  CD CB 0B    	call	_game_freeze
2860  0C33  F1          	pop	af
2861  0C34              l_game_freeze_00107:
2862  0C34  DD E1       	pop	ix
2863  0C36  C9          	ret
2864  0C37              	SECTION code_compiler
2865  0C37              ;	---------------------------------
2866  0C37              ; Function game_unfreeze_all
2867  0C37              ; ---------------------------------
2868  0C37              _game_unfreeze_all:
2869  0C37  21 C0 00    	ld	hl,0x00c0
2870  0C3A  22 00 00    	ld	(_index1),hl
2871  0C3D              l_game_unfreeze_all_00104:
2872  0C3D  01 00 00    	ld	bc,_lvl_1
2873  0C40  2A 00 00    	ld	hl,(_index1)
2874  0C43  09          	add	hl,bc
2875  0C44  7E          	ld	a,(hl)
2876  0C45  D6 14       	sub	a,0x14
2877  0C47  20 02       	jr	NZ,l_game_unfreeze_all_00105
2878  0C49  36 12       	ld	(hl),0x12
2879  0C4B              l_game_unfreeze_all_00105:
2880  0C4B  21 00 00    	ld	hl,_index1
2881  0C4E  34          	inc	(hl)
2882  0C4F  20 02       	jr	NZ,l_game_unfreeze_all_00118
2883  0C51  23          	inc	hl
2884  0C52  34          	inc	(hl)
2885  0C53              l_game_unfreeze_all_00118:
2886  0C53  3E 20       	ld	a,0x20
2887  0C55  21 00 00    	ld	hl,_index1
2888  0C58  BE          	cp	a, (hl)
2889  0C59  3E 02       	ld	a,0x02
2890  0C5B  23          	inc	hl
2891  0C5C  9E          	sbc	a, (hl)
2892  0C5D  30 DE       	jr	NC,l_game_unfreeze_all_00104
2893  0C5F  C9          	ret
2894  0C60              	SECTION code_compiler
2895  0C60              ;	---------------------------------
2896  0C60              ; Function game_freeze_all
2897  0C60              ; ---------------------------------
2898  0C60              _game_freeze_all:
2899  0C60  21 C0 00    	ld	hl,0x00c0
2900  0C63  22 00 00    	ld	(_index1),hl
2901  0C66              l_game_freeze_all_00104:
2902  0C66  01 00 00    	ld	bc,_lvl_1
2903  0C69  2A 00 00    	ld	hl,(_index1)
2904  0C6C  09          	add	hl,bc
2905  0C6D  7E          	ld	a,(hl)
2906  0C6E  D6 12       	sub	a,0x12
2907  0C70  20 02       	jr	NZ,l_game_freeze_all_00105
2908  0C72  36 14       	ld	(hl),0x14
2909  0C74              l_game_freeze_all_00105:
2910  0C74  21 00 00    	ld	hl,_index1
2911  0C77  34          	inc	(hl)
2912  0C78  20 02       	jr	NZ,l_game_freeze_all_00118
2913  0C7A  23          	inc	hl
2914  0C7B  34          	inc	(hl)
2915  0C7C              l_game_freeze_all_00118:
2916  0C7C  3E 20       	ld	a,0x20
2917  0C7E  21 00 00    	ld	hl,_index1
2918  0C81  BE          	cp	a, (hl)
2919  0C82  3E 02       	ld	a,0x02
2920  0C84  23          	inc	hl
2921  0C85  9E          	sbc	a, (hl)
2922  0C86  30 DE       	jr	NC,l_game_freeze_all_00104
2923  0C88  C9          	ret
2924  0C89              	SECTION code_compiler
2925  0C89              ;	---------------------------------
2926  0C89              ; Function game_print_score
2927  0C89              ; ---------------------------------
2928  0C89              _game_print_score:
2929  0C89  21 00 00    	ld	hl,_screen_ink
2930  0C8C  36 07       	ld	(hl),0x07
2931  0C8E  21 00 00    	ld	hl,_screen_paper
2932  0C91  36 00       	ld	(hl),0x00
2933  0C93  2A 00 00    	ld	hl,(_player_score)
2934  0C96  E5          	push	hl
2935  0C97  21 00 03    	ld	hl,0x0300
2936  0C9A  E5          	push	hl
2937  0C9B  CD 00 00    	call	_zx_print_int
2938  0C9E  2A 00 00    	ld	hl,(_game_score_top)
2939  0CA1  E5          	push	hl
2940  0CA2  21 00 0E    	ld	hl,0x0e00
2941  0CA5  E5          	push	hl
2942  0CA6  CD 00 00    	call	_zx_print_int
2943  0CA9  3A 00 00    	ld	a,(_game_two_player)
2944  0CAC  B7          	or	a, a
2945  0CAD  C8          	ret	Z
2946  0CAE  2A 02 00    	ld	hl, (_player_score + 2)
2947  0CB1  E5          	push	hl
2948  0CB2  21 00 18    	ld	hl,0x1800
2949  0CB5  E5          	push	hl
2950  0CB6  CD 00 00    	call	_zx_print_int
2951  0CB9  C9          	ret
2952  0CBA              	SECTION code_compiler
2953  0CBA              ;	---------------------------------
2954  0CBA              ; Function game_paint_attrib
2955  0CBA              ; ---------------------------------
2956  0CBA              _game_paint_attrib:
2957  0CBA  7D          	ld	a,l
2958  0CBB  32 00 00    	ld	(_tmp0),a
2959  0CBE              l_game_paint_attrib_00103:
2960  0CBE  3E 13       	ld	a,0x13
2961  0CC0  21 00 00    	ld	hl,_tmp0
2962  0CC3  96          	sub	a, (hl)
2963  0CC4  D8          	ret	C
2964  0CC5  7E          	ld	a,(hl)
2965  0CC6  07          	rlca
2966  0CC7  07          	rlca
2967  0CC8  07          	rlca
2968  0CC9  E6 F8       	and	a,0xf8
2969  0CCB  C6 08       	add	a,0x08
2970  0CCD  F5          	push	af
2971  0CCE  33          	inc	sp
2972  0CCF  21 01 1F    	ld	hl,0x1f01
2973  0CD2  E5          	push	hl
2974  0CD3  CD DE 0C    	call	_game_paint_attrib_lin
2975  0CD6  F1          	pop	af
2976  0CD7  33          	inc	sp
2977  0CD8  21 00 00    	ld	hl,_tmp0
2978  0CDB  34          	inc	(hl)
2979  0CDC  18 E0       	jr	l_game_paint_attrib_00103
2980  0CDE              	SECTION code_compiler
2981  0CDE              ;	---------------------------------
2982  0CDE              ; Function game_paint_attrib_lin
2983  0CDE              ; ---------------------------------
2984  0CDE              _game_paint_attrib_lin:
2985  0CDE  CD 00 00    	call	___sdcc_enter_ix
2986  0CE1  DD 7E 04    	ld	a,(ix+4)
2987  0CE4  32 00 00    	ld	(_tmp_uc),a
2988  0CE7              l_game_paint_attrib_lin_00103:
2989  0CE7  21 00 00    	ld	hl,_tmp_uc
2990  0CEA  7E          	ld	a,(hl)
2991  0CEB  DD 96 05    	sub	a,(ix+5)
2992  0CEE  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2993  0CF0  66          	ld	h,(hl)
2994  0CF1  DD 6E 06    	ld	l,(ix+6)
2995  0CF4  E5          	push	hl
2996  0CF5  21 00 00    	ld	hl,_attrib
2997  0CF8  E5          	push	hl
2998  0CF9  CD 00 00    	call	_NIRVANAP_paintC_callee
2999  0CFC  21 00 00    	ld	hl,_tmp_uc
3000  0CFF  34          	inc	(hl)
3001  0D00  18 E5       	jr	l_game_paint_attrib_lin_00103
3002  0D02              l_game_paint_attrib_lin_00105:
3003  0D02  DD E1       	pop	ix
3004  0D04  C9          	ret
3005  0D05              	SECTION code_compiler
3006  0D05              ;	---------------------------------
3007  0D05              ; Function game_paint_attrib_lin_h
3008  0D05              ; ---------------------------------
3009  0D05              _game_paint_attrib_lin_h:
3010  0D05  CD 00 00    	call	___sdcc_enter_ix
3011  0D08  DD 7E 04    	ld	a,(ix+4)
3012  0D0B  32 00 00    	ld	(_tmp_uc),a
3013  0D0E              l_game_paint_attrib_lin_h_00103:
3014  0D0E  21 00 00    	ld	hl,_tmp_uc
3015  0D11  7E          	ld	a,(hl)
3016  0D12  DD 96 05    	sub	a,(ix+5)
3017  0D15  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3018  0D17  66          	ld	h,(hl)
3019  0D18  DD 6E 06    	ld	l,(ix+6)
3020  0D1B  E5          	push	hl
3021  0D1C  21 00 00    	ld	hl,_attrib_hl
3022  0D1F  E5          	push	hl
3023  0D20  CD 00 00    	call	_NIRVANAP_paintC_callee
3024  0D23  21 00 00    	ld	hl,_tmp_uc
3025  0D26  34          	inc	(hl)
3026  0D27  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3027  0D29              l_game_paint_attrib_lin_h_00105:
3028  0D29  DD E1       	pop	ix
3029  0D2B  C9          	ret
3030  0D2C              	SECTION code_compiler
3031  0D2C              ;	---------------------------------
3032  0D2C              ; Function game_menu_config
3033  0D2C              ; ---------------------------------
3034  0D2C              _game_menu_config:
3035  0D2C  CD 00 00    	call	___sdcc_enter_ix
3036  0D2F  F5          	push	af
3037  0D30  3B          	dec	sp
3038  0D31  2E 0B       	ld	l,0x0b
3039  0D33  CD BA 0C    	call	_game_paint_attrib
3040  0D36  DD 36 FD 01 	ld	(ix-3),0x01
3041  0D3A              l_game_menu_config_00116:
3042  0D3A  DD 7E FD    	ld	a,(ix-3)
3043  0D3D  B7          	or	a, a
3044  0D3E  CA 98 0E    	jp	Z,l_game_menu_config_00119
3045  0D41              l_game_menu_config_00101:
3046  0D41  21 00 00    	ld	hl,_k1
3047  0D44  E5          	push	hl
3048  0D45  2A 00 00    	ld	hl,(_joyfunc1)
3049  0D48  CD 00 00    	call	___sdcc_call_hl
3050  0D4B  F1          	pop	af
3051  0D4C  7C          	ld	a,h
3052  0D4D  B5          	or	a,l
3053  0D4E  20 F1       	jr	NZ,l_game_menu_config_00101
3054  0D50  3A 00 00    	ld	a,(_spec128)
3055  0D53  B7          	or	a,a
3056  0D54  28 0A       	jr	Z,l_game_menu_config_00121
3057  0D56  DD 36 FE C5 	ld	(ix-2),+((___str_25) & 0xFF)
3058  0D5A  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3059  0D5E  18 08       	jr	l_game_menu_config_00122
3060  0D60              l_game_menu_config_00121:
3061  0D60  DD 36 FE D0 	ld	(ix-2),+((___str_26) & 0xFF)
3062  0D64  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3063  0D68              l_game_menu_config_00122:
3064  0D68  DD 4E FE    	ld	c,(ix-2)
3065  0D6B  DD 46 FF    	ld	b,(ix-1)
3066  0D6E  C5          	push	bc
3067  0D6F  21 0E 0A    	ld	hl,0x0a0e
3068  0D72  E5          	push	hl
3069  0D73  CD 00 00    	call	_zx_print_str
3070  0D76  21 DB 00    	ld	hl,___str_27
3071  0D79  E5          	push	hl
3072  0D7A  21 0F 0A    	ld	hl,0x0a0f
3073  0D7D  E5          	push	hl
3074  0D7E  CD 00 00    	call	_zx_print_str
3075  0D81  21 E6 00    	ld	hl,___str_28
3076  0D84  E5          	push	hl
3077  0D85  21 10 0A    	ld	hl,0x0a10
3078  0D88  E5          	push	hl
3079  0D89  CD 00 00    	call	_zx_print_str
3080  0D8C  21 F1 00    	ld	hl,___str_29
3081  0D8F  E5          	push	hl
3082  0D90  21 11 0A    	ld	hl,0x0a11
3083  0D93  E5          	push	hl
3084  0D94  CD 00 00    	call	_zx_print_str
3085  0D97  21 FC 00    	ld	hl,___str_30
3086  0D9A  E5          	push	hl
3087  0D9B  21 12 0A    	ld	hl,0x0a12
3088  0D9E  E5          	push	hl
3089  0D9F  CD 00 00    	call	_zx_print_str
3090  0DA2  3A 00 00    	ld	a,(_game_sound)
3091  0DA5  E6 05       	and	a,0x05
3092  0DA7  28 05       	jr	Z,l_game_menu_config_00123
3093  0DA9  01 07 01    	ld	bc,___str_31
3094  0DAC  18 03       	jr	l_game_menu_config_00124
3095  0DAE              l_game_menu_config_00123:
3096  0DAE  01 0B 01    	ld	bc,___str_32
3097  0DB1              l_game_menu_config_00124:
3098  0DB1  C5          	push	bc
3099  0DB2  21 0E 14    	ld	hl,0x140e
3100  0DB5  E5          	push	hl
3101  0DB6  CD 00 00    	call	_zx_print_str
3102  0DB9  3E 02       	ld	a,0x02
3103  0DBB  21 00 00    	ld	hl,_game_type
3104  0DBE  96          	sub	a, (hl)
3105  0DBF  38 34       	jr	C,l_game_menu_config_00107
3106  0DC1  5E          	ld	e,(hl)
3107  0DC2  16 00       	ld	d,0x00
3108  0DC4  21 CA 0D    	ld	hl,l_game_menu_config_00164
3109  0DC7  19          	add	hl,de
3110  0DC8  19          	add	hl,de
3111  0DC9  E9          	jp	(hl)
3112  0DCA              l_game_menu_config_00164:
3113  0DCA  18 04       	jr	l_game_menu_config_00104
3114  0DCC  18 0F       	jr	l_game_menu_config_00105
3115  0DCE  18 1A       	jr	l_game_menu_config_00106
3116  0DD0              l_game_menu_config_00104:
3117  0DD0  21 0F 01    	ld	hl,___str_33
3118  0DD3  E5          	push	hl
3119  0DD4  21 0F 14    	ld	hl,0x140f
3120  0DD7  E5          	push	hl
3121  0DD8  CD 00 00    	call	_zx_print_str
3122  0DDB  18 18       	jr	l_game_menu_config_00107
3123  0DDD              l_game_menu_config_00105:
3124  0DDD  21 13 01    	ld	hl,___str_34
3125  0DE0  E5          	push	hl
3126  0DE1  21 0F 14    	ld	hl,0x140f
3127  0DE4  E5          	push	hl
3128  0DE5  CD 00 00    	call	_zx_print_str
3129  0DE8  18 0B       	jr	l_game_menu_config_00107
3130  0DEA              l_game_menu_config_00106:
3131  0DEA  21 17 01    	ld	hl,___str_35
3132  0DED  E5          	push	hl
3133  0DEE  21 0F 14    	ld	hl,0x140f
3134  0DF1  E5          	push	hl
3135  0DF2  CD 00 00    	call	_zx_print_str
3136  0DF5              l_game_menu_config_00107:
3137  0DF5  2A 00 00    	ld	hl,(_player_joy)
3138  0DF8  29          	add	hl, hl
3139  0DF9  11 00 00    	ld	de,_joynames
3140  0DFC  19          	add	hl,de
3141  0DFD  4E          	ld	c,(hl)
3142  0DFE  23          	inc	hl
3143  0DFF  46          	ld	b,(hl)
3144  0E00  C5          	push	bc
3145  0E01  21 10 14    	ld	hl,0x1410
3146  0E04  E5          	push	hl
3147  0E05  CD 00 00    	call	_zx_print_str
3148  0E08  2A 02 00    	ld	hl, (_player_joy + 2)
3149  0E0B  29          	add	hl, hl
3150  0E0C  11 00 00    	ld	de,_joynames
3151  0E0F  19          	add	hl,de
3152  0E10  4E          	ld	c,(hl)
3153  0E11  23          	inc	hl
3154  0E12  46          	ld	b,(hl)
3155  0E13  C5          	push	bc
3156  0E14  21 11 14    	ld	hl,0x1411
3157  0E17  E5          	push	hl
3158  0E18  CD 00 00    	call	_zx_print_str
3159  0E1B  21 00 00    	ld	hl,0x0000
3160  0E1E  E5          	push	hl
3161  0E1F  21 0E 12    	ld	hl,0x120e
3162  0E22  E5          	push	hl
3163  0E23  21 0A 01    	ld	hl,0x010a
3164  0E26  E5          	push	hl
3165  0E27  CD 51 11    	call	_game_menu_handle
3166  0E2A  F1          	pop	af
3167  0E2B  F1          	pop	af
3168  0E2C  F1          	pop	af
3169  0E2D  7D          	ld	a,l
3170  0E2E  32 00 00    	ld	(_game_menu_sel),a
3171  0E31  21 00 00    	ld	hl,_ay_effect_10
3172  0E34  CD 00 00    	call	_ay_fx_play
3173  0E37  CD 00 00    	call	_sound_coin
3174  0E3A  3E 04       	ld	a,0x04
3175  0E3C  21 00 00    	ld	hl,_game_menu_sel
3176  0E3F  96          	sub	a, (hl)
3177  0E40  DA 3A 0D    	jp	C,l_game_menu_config_00116
3178  0E43  5E          	ld	e,(hl)
3179  0E44  16 00       	ld	d,0x00
3180  0E46  21 4C 0E    	ld	hl,l_game_menu_config_00165
3181  0E49  19          	add	hl,de
3182  0E4A  19          	add	hl,de
3183  0E4B  E9          	jp	(hl)
3184  0E4C              l_game_menu_config_00165:
3185  0E4C  18 08       	jr	l_game_menu_config_00108
3186  0E4E  18 1A       	jr	l_game_menu_config_00109
3187  0E50  18 27       	jr	l_game_menu_config_00112
3188  0E52  18 2D       	jr	l_game_menu_config_00113
3189  0E54  18 33       	jr	l_game_menu_config_00114
3190  0E56              l_game_menu_config_00108:
3191  0E56  3A 00 00    	ld	a,(_spec128)
3192  0E59  B7          	or	a, a
3193  0E5A  28 04       	jr	Z,l_game_menu_config_00125
3194  0E5C  3E 04       	ld	a,0x04
3195  0E5E  18 02       	jr	l_game_menu_config_00126
3196  0E60              l_game_menu_config_00125:
3197  0E60  3E 01       	ld	a,0x01
3198  0E62              l_game_menu_config_00126:
3199  0E62  21 00 00    	ld	hl,_game_sound
3200  0E65  AE          	xor	a, (hl)
3201  0E66  77          	ld	(hl),a
3202  0E67  C3 3A 0D    	jp	l_game_menu_config_00116
3203  0E6A              l_game_menu_config_00109:
3204  0E6A  21 00 00    	ld	hl,_game_type
3205  0E6D  34          	inc	(hl)
3206  0E6E  3E 02       	ld	a,0x02
3207  0E70  96          	sub	a, (hl)
3208  0E71  D2 3A 0D    	jp	NC,l_game_menu_config_00116
3209  0E74  36 00       	ld	(hl),0x00
3210  0E76  C3 3A 0D    	jp	l_game_menu_config_00116
3211  0E79              l_game_menu_config_00112:
3212  0E79  2E 00       	ld	l,0x00
3213  0E7B  CD 9D 0E    	call	_game_joystick_change
3214  0E7E  C3 3A 0D    	jp	l_game_menu_config_00116
3215  0E81              l_game_menu_config_00113:
3216  0E81  2E 01       	ld	l,0x01
3217  0E83  CD 9D 0E    	call	_game_joystick_change
3218  0E86  C3 3A 0D    	jp	l_game_menu_config_00116
3219  0E89              l_game_menu_config_00114:
3220  0E89  21 00 00    	ld	hl,_game_menu_sel
3221  0E8C  36 00       	ld	(hl),0x00
3222  0E8E  CD 23 10    	call	_game_menu_paint
3223  0E91  DD 36 FD 00 	ld	(ix-3),0x00
3224  0E95  C3 3A 0D    	jp	l_game_menu_config_00116
3225  0E98              l_game_menu_config_00119:
3226  0E98  DD F9       	ld	sp, ix
3227  0E9A  DD E1       	pop	ix
3228  0E9C  C9          	ret
3229  0E9D              	SECTION rodata_compiler
3230  00C5              ___str_25:
3231  00C5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3232  00CF  00          	DEFB 0x00
3233  00D0              	SECTION rodata_compiler
3234  00D0              ___str_26:
3235  00D0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3236  00DA  00          	DEFB 0x00
3237  00DB              	SECTION rodata_compiler
3238  00DB              ___str_27:
3239  00DB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3240  00E5  00          	DEFB 0x00
3241  00E6              	SECTION rodata_compiler
3242  00E6              ___str_28:
3243  00E6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3244  00F0  00          	DEFB 0x00
3245  00F1              	SECTION rodata_compiler
3246  00F1              ___str_29:
3247  00F1  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3248  00FB  00          	DEFB 0x00
3249  00FC              	SECTION rodata_compiler
3250  00FC              ___str_30:
3251  00FC  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3252  0106  00          	DEFB 0x00
3253  0107              	SECTION rodata_compiler
3254  0107              ___str_31:
3255  0107  4F 4E 20    	DEFM "ON "
3256  010A  00          	DEFB 0x00
3257  010B              	SECTION rodata_compiler
3258  010B              ___str_32:
3259  010B  4F 46 46    	DEFM "OFF"
3260  010E  00          	DEFB 0x00
3261  010F              	SECTION rodata_compiler
3262  010F              ___str_33:
3263  010F  41 20 20    	DEFM "A  "
3264  0112  00          	DEFB 0x00
3265  0113              	SECTION rodata_compiler
3266  0113              ___str_34:
3267  0113  42 20 20    	DEFM "B  "
3268  0116  00          	DEFB 0x00
3269  0117              	SECTION rodata_compiler
3270  0117              ___str_35:
3271  0117  52 4E 44    	DEFM "RND"
3272  011A  00          	DEFB 0x00
3273  011B              	SECTION code_compiler
3274  0E9D              ;	---------------------------------
3275  0E9D              ; Function game_joystick_change
3276  0E9D              ; ---------------------------------
3277  0E9D              _game_joystick_change:
3278  0E9D  CD 00 00    	call	___sdcc_enter_ix
3279  0EA0  3B          	dec	sp
3280  0EA1  DD 75 FF    	ld	(ix-1),l
3281  0EA4  26 00       	ld	h,0x00
3282  0EA6  29          	add	hl, hl
3283  0EA7  01 00 00    	ld	bc,_player_joy
3284  0EAA  09          	add	hl,bc
3285  0EAB  4D          	ld	c,l
3286  0EAC  44          	ld	b,h
3287  0EAD  5E          	ld	e,(hl)
3288  0EAE  23          	inc	hl
3289  0EAF  56          	ld	d,(hl)
3290  0EB0  13          	inc	de
3291  0EB1  69          	ld	l, c
3292  0EB2  60          	ld	h, b
3293  0EB3  73          	ld	(hl),e
3294  0EB4  23          	inc	hl
3295  0EB5  72          	ld	(hl),d
3296  0EB6  7B          	ld	a,e
3297  0EB7  D6 07       	sub	a,0x07
3298  0EB9  20 09       	jr	NZ,l_game_joystick_change_00102
3299  0EBB  B2          	or	a,d
3300  0EBC  20 06       	jr	NZ,l_game_joystick_change_00102
3301  0EBE  69          	ld	l, c
3302  0EBF  60          	ld	h, b
3303  0EC0  AF          	xor	a, a
3304  0EC1  77          	ld	(hl), a
3305  0EC2  23          	inc	hl
3306  0EC3  77          	ld	(hl), a
3307  0EC4              l_game_joystick_change_00102:
3308  0EC4  DD 7E FF    	ld	a,(ix-1)
3309  0EC7  B7          	or	a, a
3310  0EC8  20 15       	jr	NZ,l_game_joystick_change_00104
3311  0ECA  69          	ld	l, c
3312  0ECB  60          	ld	h, b
3313  0ECC  5E          	ld	e,(hl)
3314  0ECD  23          	inc	hl
3315  0ECE  56          	ld	d,(hl)
3316  0ECF  1D          	dec	e
3317  0ED0  20 0D       	jr	NZ,l_game_joystick_change_00104
3318  0ED2  7A          	ld	a,d
3319  0ED3  B7          	or	a, a
3320  0ED4  20 09       	jr	NZ,l_game_joystick_change_00104
3321  0ED6  ED 5B 00 00 	ld	de,(_player_joy)
3322  0EDA  13          	inc	de
3323  0EDB  ED 53 00 00 	ld	(_player_joy), de
3324  0EDF              l_game_joystick_change_00104:
3325  0EDF  DD 7E FF    	ld	a,(ix-1)
3326  0EE2  3D          	dec	a
3327  0EE3  20 11       	jr	NZ,l_game_joystick_change_00107
3328  0EE5  69          	ld	l, c
3329  0EE6  60          	ld	h, b
3330  0EE7  4E          	ld	c,(hl)
3331  0EE8  23          	inc	hl
3332  0EE9  7E          	ld	a, (hl)
3333  0EEA  B1          	or	a,c
3334  0EEB  20 09       	jr	NZ,l_game_joystick_change_00107
3335  0EED  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3336  0EF1  03          	inc	bc
3337  0EF2  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3338  0EF6              l_game_joystick_change_00107:
3339  0EF6  ED 4B 00 00 	ld	bc,(_player_joy)
3340  0EFA  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3341  0EFE  79          	ld	a,c
3342  0EFF  93          	sub	a, e
3343  0F00  20 18       	jr	NZ,l_game_joystick_change_00114
3344  0F02  78          	ld	a,b
3345  0F03  92          	sub	a, d
3346  0F04  20 14       	jr	NZ,l_game_joystick_change_00114
3347  0F06  DD 7E FF    	ld	a,(ix-1)
3348  0F09  B7          	or	a, a
3349  0F0A  20 08       	jr	NZ,l_game_joystick_change_00110
3350  0F0C  21 01 00    	ld	hl,0x0001
3351  0F0F  22 02 00    	ld	(_player_joy + 0x0002),hl
3352  0F12  18 06       	jr	l_game_joystick_change_00114
3353  0F14              l_game_joystick_change_00110:
3354  0F14  21 00 00    	ld	hl,0x0000
3355  0F17  22 00 00    	ld	(_player_joy), hl
3356  0F1A              l_game_joystick_change_00114:
3357  0F1A  33          	inc	sp
3358  0F1B  DD E1       	pop	ix
3359  0F1D  C9          	ret
3360  0F1E              	SECTION code_compiler
3361  0F1E              ;	---------------------------------
3362  0F1E              ; Function game_joystick_set_menu
3363  0F1E              ; ---------------------------------
3364  0F1E              _game_joystick_set_menu:
3365  0F1E  21 00 00    	ld	hl,_in_stick_sinclair1
3366  0F21  22 00 00    	ld	(_joyfunc1),hl
3367  0F24  21 00 00    	ld	hl,_in_stick_sinclair2
3368  0F27  22 00 00    	ld	(_joyfunc2),hl
3369  0F2A  C9          	ret
3370  0F2B              	SECTION code_compiler
3371  0F2B              ;	---------------------------------
3372  0F2B              ; Function game_joystick_set
3373  0F2B              ; ---------------------------------
3374  0F2B              _game_joystick_set:
3375  0F2B  01 00 00    	ld	bc,_control_method+0
3376  0F2E  2A 00 00    	ld	hl,(_player_joy)
3377  0F31  29          	add	hl, hl
3378  0F32  09          	add	hl,bc
3379  0F33  11 00 00    	ld	de,_joyfunc1
3380  0F36  ED A0       	ldi
3381  0F38  03          	inc	bc
3382  0F39  7E          	ld	a,(hl)
3383  0F3A  12          	ld	(de),a
3384  0F3B  2A 02 00    	ld	hl, (_player_joy + 2)
3385  0F3E  29          	add	hl, hl
3386  0F3F  09          	add	hl,bc
3387  0F40  11 00 00    	ld	de,_joyfunc2
3388  0F43  ED A0       	ldi
3389  0F45  7E          	ld	a,(hl)
3390  0F46  12          	ld	(de),a
3391  0F47  C9          	ret
3392  0F48              	SECTION code_compiler
3393  0F48              ;	---------------------------------
3394  0F48              ; Function game_menu
3395  0F48              ; ---------------------------------
3396  0F48              _game_menu:
3397  0F48  21 00 00    	ld	hl,_game_menu_sel
3398  0F4B  36 00       	ld	(hl),0x00
3399  0F4D  CD AF 0F    	call	_game_menu_top_paint
3400  0F50  CD 23 10    	call	_game_menu_paint
3401  0F53  CD 00 00    	call	_ay_reset
3402  0F56  21 00 00    	ld	hl,_pb_midi_title
3403  0F59  CD 00 00    	call	_ay_midi_play
3404  0F5C              l_game_menu_00101:
3405  0F5C  21 00 00    	ld	hl,_k1
3406  0F5F  E5          	push	hl
3407  0F60  2A 00 00    	ld	hl,(_joyfunc1)
3408  0F63  CD 00 00    	call	___sdcc_call_hl
3409  0F66  F1          	pop	af
3410  0F67  7C          	ld	a,h
3411  0F68  B5          	or	a,l
3412  0F69  20 F1       	jr	NZ,l_game_menu_00101
3413  0F6B  21 E8 03    	ld	hl,0x03e8
3414  0F6E  E5          	push	hl
3415  0F6F  21 0E 12    	ld	hl,0x120e
3416  0F72  E5          	push	hl
3417  0F73  21 0C 02    	ld	hl,0x020c
3418  0F76  E5          	push	hl
3419  0F77  CD 51 11    	call	_game_menu_handle
3420  0F7A  F1          	pop	af
3421  0F7B  F1          	pop	af
3422  0F7C  F1          	pop	af
3423  0F7D  4D          	ld	c,l
3424  0F7E  21 00 00    	ld	hl,_tmp_uc
3425  0F81  71          	ld	(hl),c
3426  0F82  3E 02       	ld	a,0x02
3427  0F84  96          	sub	a, (hl)
3428  0F85  38 D5       	jr	C,l_game_menu_00101
3429  0F87  5E          	ld	e,(hl)
3430  0F88  16 00       	ld	d,0x00
3431  0F8A  21 90 0F    	ld	hl,l_game_menu_00125
3432  0F8D  19          	add	hl,de
3433  0F8E  19          	add	hl,de
3434  0F8F  E9          	jp	(hl)
3435  0F90              l_game_menu_00125:
3436  0F90  18 04       	jr	l_game_menu_00104
3437  0F92  18 0C       	jr	l_game_menu_00105
3438  0F94  18 14       	jr	l_game_menu_00106
3439  0F96              l_game_menu_00104:
3440  0F96  21 00 00    	ld	hl,_game_two_player
3441  0F99  36 00       	ld	(hl),0x00
3442  0F9B  CD 53 03    	call	_game_loop
3443  0F9E  18 BC       	jr	l_game_menu_00101
3444  0FA0              l_game_menu_00105:
3445  0FA0  21 00 00    	ld	hl,_game_two_player
3446  0FA3  36 01       	ld	(hl),0x01
3447  0FA5  CD 53 03    	call	_game_loop
3448  0FA8  18 B2       	jr	l_game_menu_00101
3449  0FAA              l_game_menu_00106:
3450  0FAA  CD 2C 0D    	call	_game_menu_config
3451  0FAD  18 AD       	jr	l_game_menu_00101
3452  0FAF              	SECTION code_compiler
3453  0FAF              ;	---------------------------------
3454  0FAF              ; Function game_menu_top_paint
3455  0FAF              ; ---------------------------------
3456  0FAF              _game_menu_top_paint:
3457  0FAF  CD 00 00    	call	_spr_draw_clear
3458  0FB2  2E 00       	ld	l,0x00
3459  0FB4  CD BA 0C    	call	_game_paint_attrib
3460  0FB7  21 9C 01    	ld	hl,0x019c
3461  0FBA  E5          	push	hl
3462  0FBB  21 00 1E    	ld	hl,0x1e00
3463  0FBE  E5          	push	hl
3464  0FBF  3E 10       	ld	a,0x10
3465  0FC1  F5          	push	af
3466  0FC2  33          	inc	sp
3467  0FC3  CD 9E 10    	call	_game_menu_e
3468  0FC6  F1          	pop	af
3469  0FC7  33          	inc	sp
3470  0FC8  21 9F FF    	ld	hl,0xff9f
3471  0FCB  E3          	ex	(sp),hl
3472  0FCC  21 00 1E    	ld	hl,0x1e00
3473  0FCF  E5          	push	hl
3474  0FD0  3E 50       	ld	a,0x50
3475  0FD2  F5          	push	af
3476  0FD3  33          	inc	sp
3477  0FD4  CD 9E 10    	call	_game_menu_e
3478  0FD7  F1          	pop	af
3479  0FD8  F1          	pop	af
3480  0FD9  33          	inc	sp
3481  0FDA  21 00 00    	ld	hl,_tmp
3482  0FDD  36 18       	ld	(hl),0x18
3483  0FDF  F3          	di
3484  0FE0  21 00 00    	ld	hl,_tmp_uc
3485  0FE3  36 00       	ld	(hl),0x00
3486  0FE5              l_game_menu_top_paint_00102:
3487  0FE5  3A 00 00    	ld	a,(_tmp_uc)
3488  0FE8  87          	add	a, a
3489  0FE9  C6 05       	add	a,0x05
3490  0FEB  47          	ld	b,a
3491  0FEC  3A 00 00    	ld	a,(_tmp)
3492  0FEF  C6 10       	add	a,0x10
3493  0FF1  57          	ld	d,a
3494  0FF2  3A 00 00    	ld	a,(_tmp_uc)
3495  0FF5  C6 C0       	add	a,0xc0
3496  0FF7  4A          	ld	c, d
3497  0FF8  C5          	push	bc
3498  0FF9  F5          	push	af
3499  0FFA  33          	inc	sp
3500  0FFB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3501  0FFE  3A 00 00    	ld	a,(_tmp_uc)
3502  1001  87          	add	a, a
3503  1002  C6 05       	add	a,0x05
3504  1004  47          	ld	b,a
3505  1005  3A 00 00    	ld	a,(_tmp)
3506  1008  C6 20       	add	a,0x20
3507  100A  57          	ld	d,a
3508  100B  3A 00 00    	ld	a,(_tmp_uc)
3509  100E  C6 CC       	add	a,0xcc
3510  1010  4A          	ld	c, d
3511  1011  C5          	push	bc
3512  1012  F5          	push	af
3513  1013  33          	inc	sp
3514  1014  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3515  1017  21 00 00    	ld	hl,_tmp_uc
3516  101A  7E          	ld	a,(hl)
3517  101B  3C          	inc	a
3518  101C  77          	ld	(hl),a
3519  101D  D6 0A       	sub	a,0x0a
3520  101F  38 C4       	jr	C,l_game_menu_top_paint_00102
3521  1021  FB          	ei
3522  1022  C9          	ret
3523  1023              	SECTION code_compiler
3524  1023              ;	---------------------------------
3525  1023              ; Function game_menu_paint
3526  1023              ; ---------------------------------
3527  1023              _game_menu_paint:
3528  1023  76          	halt
3529  1024  3A 00 00    	ld	a,(_tmp)
3530  1027  C6 28       	add	a,0x28
3531  1029  4F          	ld	c, a
3532  102A  06 1A       	ld	b,0x1a
3533  102C  C5          	push	bc
3534  102D  3E 12       	ld	a,0x12
3535  102F  F5          	push	af
3536  1030  33          	inc	sp
3537  1031  CD 00 00    	call	_NIRVANAP_fillC_callee
3538  1034  21 00 20    	ld	hl,0x2000
3539  1037  E5          	push	hl
3540  1038  CD 00 00    	call	_game_fill_row
3541  103B  21 00 20    	ld	hl,0x2000
3542  103E  E5          	push	hl
3543  103F  CD 00 00    	call	_game_fill_row
3544  1042  21 1B 01    	ld	hl,___str_36
3545  1045  E5          	push	hl
3546  1046  21 0E 0A    	ld	hl,0x0a0e
3547  1049  E5          	push	hl
3548  104A  CD 00 00    	call	_zx_print_str
3549  104D  21 0F 20    	ld	hl,0x200f
3550  1050  E5          	push	hl
3551  1051  CD 00 00    	call	_game_fill_row
3552  1054  21 29 01    	ld	hl,___str_37
3553  1057  E5          	push	hl
3554  1058  21 10 0A    	ld	hl,0x0a10
3555  105B  E5          	push	hl
3556  105C  CD 00 00    	call	_zx_print_str
3557  105F  21 11 20    	ld	hl,0x2011
3558  1062  E5          	push	hl
3559  1063  CD 00 00    	call	_game_fill_row
3560  1066  21 37 01    	ld	hl,___str_38
3561  1069  E5          	push	hl
3562  106A  21 12 0A    	ld	hl,0x0a12
3563  106D  E5          	push	hl
3564  106E  CD 00 00    	call	_zx_print_str
3565  1071  21 13 20    	ld	hl,0x2013
3566  1074  E5          	push	hl
3567  1075  CD 00 00    	call	_game_fill_row
3568  1078  21 00 00    	ld	hl,_screen_ink
3569  107B  36 01       	ld	(hl),0x01
3570  107D  21 45 01    	ld	hl,___str_39
3571  1080  E5          	push	hl
3572  1081  21 16 07    	ld	hl,0x0716
3573  1084  E5          	push	hl
3574  1085  CD 00 00    	call	_zx_print_str
3575  1088  21 58 01    	ld	hl,___str_40
3576  108B  E5          	push	hl
3577  108C  21 17 07    	ld	hl,0x0717
3578  108F  E5          	push	hl
3579  1090  CD 00 00    	call	_zx_print_str
3580  1093  21 00 00    	ld	hl,_tmp_uc
3581  1096  36 00       	ld	(hl),0x00
3582  1098  2E 0B       	ld	l,0x0b
3583  109A  CD BA 0C    	call	_game_paint_attrib
3584  109D  C9          	ret
3585  109E              	SECTION rodata_compiler
3586  011B              ___str_36:
3587  011B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3588  0128  00          	DEFB 0x00
3589  0129              	SECTION rodata_compiler
3590  0129              ___str_37:
3591  0129  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3592  0136  00          	DEFB 0x00
3593  0137              	SECTION rodata_compiler
3594  0137              ___str_38:
3595  0137  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3596  0144  00          	DEFB 0x00
3597  0145              	SECTION rodata_compiler
3598  0145              ___str_39:
3599  0145  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3600  0157  00          	DEFB 0x00
3601  0158              	SECTION rodata_compiler
3602  0158              ___str_40:
3603  0158  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3604  0169  00          	DEFB 0x00
3605  016A              	SECTION code_compiler
3606  109E              ;	---------------------------------
3607  109E              ; Function game_menu_e
3608  109E              ; ---------------------------------
3609  109E              _game_menu_e:
3610  109E  CD 00 00    	call	___sdcc_enter_ix
3611  10A1  F3          	di
3612  10A2  DD 4E 05    	ld	c,(ix+5)
3613  10A5  21 00 00    	ld	hl,_tmp_uc
3614  10A8  71          	ld	(hl),c
3615  10A9  DD 46 07    	ld	b,(ix+7)
3616  10AC  04          	inc	b
3617  10AD  DD 56 07    	ld	d,(ix+7)
3618  10B0  14          	inc	d
3619  10B1  14          	inc	d
3620  10B2              l_game_menu_e_00114:
3621  10B2  DD 7E 06    	ld	a,(ix+6)
3622  10B5  21 00 00    	ld	hl,_tmp_uc
3623  10B8  96          	sub	a, (hl)
3624  10B9  38 56       	jr	C,l_game_menu_e_00109
3625  10BB  7E          	ld	a,(hl)
3626  10BC  91          	sub	a, c
3627  10BD  20 15       	jr	NZ,l_game_menu_e_00102
3628  10BF  3A 00 00    	ld	a,(_tmp_uc)
3629  10C2  C5          	push	bc
3630  10C3  D5          	push	de
3631  10C4  F5          	push	af
3632  10C5  33          	inc	sp
3633  10C6  DD 66 04    	ld	h,(ix+4)
3634  10C9  DD 6E 07    	ld	l,(ix+7)
3635  10CC  E5          	push	hl
3636  10CD  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3637  10D0  D1          	pop	de
3638  10D1  C1          	pop	bc
3639  10D2  18 36       	jr	l_game_menu_e_00108
3640  10D4              l_game_menu_e_00102:
3641  10D4  3A 00 00    	ld	a,(_tmp_uc)
3642  10D7  DD 96 06    	sub	a,(ix+6)
3643  10DA  20 14       	jr	NZ,l_game_menu_e_00104
3644  10DC  3A 00 00    	ld	a,(_tmp_uc)
3645  10DF  C5          	push	bc
3646  10E0  D5          	push	de
3647  10E1  F5          	push	af
3648  10E2  33          	inc	sp
3649  10E3  DD 7E 04    	ld	a,(ix+4)
3650  10E6  5A          	ld	e,d
3651  10E7  57          	ld	d,a
3652  10E8  D5          	push	de
3653  10E9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3654  10EC  D1          	pop	de
3655  10ED  C1          	pop	bc
3656  10EE  18 1A       	jr	l_game_menu_e_00108
3657  10F0              l_game_menu_e_00104:
3658  10F0  3A 00 00    	ld	a,(_tmp_uc)
3659  10F3  FE 0E       	cp	a,0x0e
3660  10F5  28 13       	jr	Z,l_game_menu_e_00108
3661  10F7  FE 10       	cp	a,0x10
3662  10F9  28 0F       	jr	Z,l_game_menu_e_00108
3663  10FB  C5          	push	bc
3664  10FC  D5          	push	de
3665  10FD  F5          	push	af
3666  10FE  33          	inc	sp
3667  10FF  DD 7E 04    	ld	a,(ix+4)
3668  1102  48          	ld	c,b
3669  1103  47          	ld	b,a
3670  1104  C5          	push	bc
3671  1105  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3672  1108  D1          	pop	de
3673  1109  C1          	pop	bc
3674  110A              l_game_menu_e_00108:
3675  110A  21 00 00    	ld	hl,_tmp_uc
3676  110D  34          	inc	(hl)
3677  110E  34          	inc	(hl)
3678  110F  18 A1       	jr	l_game_menu_e_00114
3679  1111              l_game_menu_e_00109:
3680  1111  DD 7E 08    	ld	a,(ix+8)
3681  1114  3C          	inc	a
3682  1115  20 0A       	jr	NZ,l_game_menu_e_00111
3683  1117  DD 7E 04    	ld	a,(ix+4)
3684  111A  C6 F0       	add	a,0xf0
3685  111C  DD 77 04    	ld	(ix+4),a
3686  111F  18 08       	jr	l_game_menu_e_00112
3687  1121              l_game_menu_e_00111:
3688  1121  DD 7E 04    	ld	a,(ix+4)
3689  1124  C6 10       	add	a,0x10
3690  1126  DD 77 04    	ld	(ix+4),a
3691  1129              l_game_menu_e_00112:
3692  1129  DD 7E 07    	ld	a,(ix+7)
3693  112C  C6 0C       	add	a,0x0c
3694  112E  47          	ld	b,a
3695  112F  79          	ld	a,c
3696  1130  F5          	push	af
3697  1131  33          	inc	sp
3698  1132  DD 7E 04    	ld	a,(ix+4)
3699  1135  48          	ld	c,b
3700  1136  47          	ld	b,a
3701  1137  C5          	push	bc
3702  1138  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3703  113B  DD 7E 07    	ld	a,(ix+7)
3704  113E  C6 0E       	add	a,0x0e
3705  1140  47          	ld	b,a
3706  1141  DD 66 06    	ld	h,(ix+6)
3707  1144  DD 6E 04    	ld	l,(ix+4)
3708  1147  E5          	push	hl
3709  1148  C5          	push	bc
3710  1149  33          	inc	sp
3711  114A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3712  114D  FB          	ei
3713  114E  DD E1       	pop	ix
3714  1150  C9          	ret
3715  1151              	SECTION code_compiler
3716  1151              ;	---------------------------------
3717  1151              ; Function game_menu_handle
3718  1151              ; ---------------------------------
3719  1151              _game_menu_handle:
3720  1151  CD 00 00    	call	___sdcc_enter_ix
3721  1154  3B          	dec	sp
3722  1155  2A 00 00    	ld	hl,(_curr_time)
3723  1158  22 00 00    	ld	(_entry_time),hl
3724  115B  DD 5E 05    	ld	e,(ix+5)
3725  115E  21 00 00    	ld	hl,_game_menu_sel
3726  1161  66          	ld	h,(hl)
3727  1162  2E 00       	ld	l,0x00
3728  1164  55          	ld	d, l
3729  1165  06 08       	ld	b,0x08
3730  1167              l_game_menu_handle_00148:
3731  1167  29          	add	hl,hl
3732  1168  30 01       	jr	NC,l_game_menu_handle_00149
3733  116A  19          	add	hl,de
3734  116B              l_game_menu_handle_00149:
3735  116B  10 FA       	djnz	l_game_menu_handle_00148
3736  116D  DD 7E 06    	ld	a,(ix+6)
3737  1170  85          	add	a,l
3738  1171  32 00 00    	ld	(_s_lin1),a
3739  1174  DD 7E 06    	ld	a,(ix+6)
3740  1177  DD 77 FF    	ld	(ix-1),a
3741  117A              l_game_menu_handle_00111:
3742  117A  21 00 00    	ld	hl,_k1
3743  117D  E5          	push	hl
3744  117E  2A 00 00    	ld	hl,(_joyfunc1)
3745  1181  CD 00 00    	call	___sdcc_call_hl
3746  1184  F1          	pop	af
3747  1185  7D          	ld	a,l
3748  1186  32 00 00    	ld	(_dirs),a
3749  1189  D6 80       	sub	a,0x80
3750  118B  CA 2D 12    	jp	Z,l_game_menu_handle_00113
3751  118E  21 05 00    	ld	hl,0x0005
3752  1191  E5          	push	hl
3753  1192  2A 00 00    	ld	hl,(_frame_time)
3754  1195  E5          	push	hl
3755  1196  CD 34 1A    	call	_game_check_time
3756  1199  F1          	pop	af
3757  119A  F1          	pop	af
3758  119B  7D          	ld	a,l
3759  119C  B7          	or	a, a
3760  119D  28 58       	jr	Z,l_game_menu_handle_00106
3761  119F  3A 00 00    	ld	a,(_dirs)
3762  11A2  B7          	or	a, a
3763  11A3  28 32       	jr	Z,l_game_menu_handle_00104
3764  11A5  21 00 00    	ld	hl,_ay_effect_03
3765  11A8  CD 00 00    	call	_ay_fx_play
3766  11AB  CD 00 00    	call	_sound_slide
3767  11AE  3A 00 00    	ld	a,(_s_lin1)
3768  11B1  07          	rlca
3769  11B2  07          	rlca
3770  11B3  07          	rlca
3771  11B4  E6 F8       	and	a,0xf8
3772  11B6  C6 08       	add	a,0x08
3773  11B8  F5          	push	af
3774  11B9  33          	inc	sp
3775  11BA  26 14       	ld	h,0x14
3776  11BC  DD 6E 04    	ld	l,(ix+4)
3777  11BF  E5          	push	hl
3778  11C0  CD DE 0C    	call	_game_paint_attrib_lin
3779  11C3  F1          	pop	af
3780  11C4  33          	inc	sp
3781  11C5  21 00 00    	ld	hl,_s_lin1
3782  11C8  7E          	ld	a,(hl)
3783  11C9  DD 86 05    	add	a,(ix+5)
3784  11CC  77          	ld	(hl),a
3785  11CD  DD 7E 07    	ld	a,(ix+7)
3786  11D0  96          	sub	a, (hl)
3787  11D1  30 04       	jr	NC,l_game_menu_handle_00104
3788  11D3  DD 7E FF    	ld	a,(ix-1)
3789  11D6  77          	ld	(hl),a
3790  11D7              l_game_menu_handle_00104:
3791  11D7  2A 00 00    	ld	hl,(_curr_time)
3792  11DA  22 00 00    	ld	(_frame_time),hl
3793  11DD  3A 00 00    	ld	a,(_s_lin1)
3794  11E0  07          	rlca
3795  11E1  07          	rlca
3796  11E2  07          	rlca
3797  11E3  E6 F8       	and	a,0xf8
3798  11E5  C6 08       	add	a,0x08
3799  11E7  F5          	push	af
3800  11E8  33          	inc	sp
3801  11E9  26 14       	ld	h,0x14
3802  11EB  DD 6E 04    	ld	l,(ix+4)
3803  11EE  E5          	push	hl
3804  11EF  CD 05 0D    	call	_game_paint_attrib_lin_h
3805  11F2  F1          	pop	af
3806  11F3  33          	inc	sp
3807  11F4  CD 86 19    	call	_game_rotate_attrib
3808  11F7              l_game_menu_handle_00106:
3809  11F7  DD 7E 09    	ld	a,(ix+9)
3810  11FA  DD B6 08    	or	a,(ix+8)
3811  11FD  CA 7A 11    	jp	Z,l_game_menu_handle_00111
3812  1200  DD 6E 08    	ld	l,(ix+8)
3813  1203  DD 66 09    	ld	h,(ix+9)
3814  1206  E5          	push	hl
3815  1207  2A 00 00    	ld	hl,(_entry_time)
3816  120A  E5          	push	hl
3817  120B  CD 34 1A    	call	_game_check_time
3818  120E  F1          	pop	af
3819  120F  F1          	pop	af
3820  1210  7D          	ld	a,l
3821  1211  B7          	or	a, a
3822  1212  CA 7A 11    	jp	Z,l_game_menu_handle_00111
3823  1215  CD 00 00    	call	_ay_is_playing
3824  1218  7D          	ld	a,l
3825  1219  B7          	or	a, a
3826  121A  C2 7A 11    	jp	NZ,l_game_menu_handle_00111
3827  121D  CD B5 18    	call	_game_hall_of_fame
3828  1220  21 00 00    	ld	hl,_game_menu_sel
3829  1223  2E 00       	ld	l,0x00
3830  1225  75          	ld	(hl),l
3831  1226  CD B4 16    	call	_game_menu_back
3832  1229  2E FF       	ld	l,0xff
3833  122B  18 10       	jr	l_game_menu_handle_00114
3834  122D              l_game_menu_handle_00113:
3835  122D  3A 00 00    	ld	a,(_s_lin1)
3836  1230  DD 96 FF    	sub	a,(ix-1)
3837  1233  47          	ld	b,a
3838  1234  DD 7E 05    	ld	a,(ix+5)
3839  1237  48          	ld	c,b
3840  1238  47          	ld	b,a
3841  1239  C5          	push	bc
3842  123A  CD 00 00    	call	__divuchar_callee
3843  123D              l_game_menu_handle_00114:
3844  123D  33          	inc	sp
3845  123E  DD E1       	pop	ix
3846  1240  C9          	ret
3847  1241              	SECTION code_compiler
3848  1241              ;	---------------------------------
3849  1241              ; Function game_end
3850  1241              ; ---------------------------------
3851  1241              _game_end:
3852  1241  CD 00 00    	call	___sdcc_enter_ix
3853  1244  F5          	push	af
3854  1245  F5          	push	af
3855  1246  CD B5 08    	call	_game_kill_all_sprites
3856  1249  CD 00 00    	call	_spr_draw_clear
3857  124C  21 00 00    	ld	hl,_pb_midi_title
3858  124F  CD 00 00    	call	_ay_midi_play
3859  1252  21 00 00    	ld	hl,_tmp0
3860  1255  36 04       	ld	(hl),0x04
3861  1257              l_game_end_00129:
3862  1257  3A 00 00    	ld	a,(_tmp0)
3863  125A  F5          	push	af
3864  125B  33          	inc	sp
3865  125C  21 8C 50    	ld	hl,0x508c
3866  125F  E5          	push	hl
3867  1260  CD 00 00    	call	_NIRVANAP_drawT_callee
3868  1263  21 00 00    	ld	hl,_tmp0
3869  1266  7E          	ld	a,(hl)
3870  1267  3C          	inc	a
3871  1268  3C          	inc	a
3872  1269  77          	ld	(hl),a
3873  126A  D6 1C       	sub	a,0x1c
3874  126C  38 E9       	jr	C,l_game_end_00129
3875  126E  36 04       	ld	(hl),0x04
3876  1270              l_game_end_00131:
3877  1270  3A 00 00    	ld	a,(_tmp0)
3878  1273  F5          	push	af
3879  1274  33          	inc	sp
3880  1275  21 8C 60    	ld	hl,0x608c
3881  1278  E5          	push	hl
3882  1279  CD 00 00    	call	_NIRVANAP_drawT_callee
3883  127C  21 00 00    	ld	hl,_tmp0
3884  127F  7E          	ld	a,(hl)
3885  1280  3C          	inc	a
3886  1281  3C          	inc	a
3887  1282  77          	ld	(hl),a
3888  1283  D6 1C       	sub	a,0x1c
3889  1285  38 E9       	jr	C,l_game_end_00131
3890  1287  36 04       	ld	(hl),0x04
3891  1289              l_game_end_00133:
3892  1289  3A 00 00    	ld	a,(_tmp0)
3893  128C  F5          	push	af
3894  128D  33          	inc	sp
3895  128E  21 8C 70    	ld	hl,0x708c
3896  1291  E5          	push	hl
3897  1292  CD 00 00    	call	_NIRVANAP_drawT_callee
3898  1295  21 00 00    	ld	hl,_tmp0
3899  1298  7E          	ld	a,(hl)
3900  1299  3C          	inc	a
3901  129A  3C          	inc	a
3902  129B  77          	ld	(hl),a
3903  129C  D6 1C       	sub	a,0x1c
3904  129E  38 E9       	jr	C,l_game_end_00133
3905  12A0  21 50 18    	ld	hl,0x1850
3906  12A3  E5          	push	hl
3907  12A4  3E D6       	ld	a,0xd6
3908  12A6  F5          	push	af
3909  12A7  33          	inc	sp
3910  12A8  CD 00 00    	call	_NIRVANAP_drawT_callee
3911  12AB  21 9C 01    	ld	hl,0x019c
3912  12AE  E5          	push	hl
3913  12AF  21 01 1D    	ld	hl,0x1d01
3914  12B2  E5          	push	hl
3915  12B3  3E 20       	ld	a,0x20
3916  12B5  F5          	push	af
3917  12B6  33          	inc	sp
3918  12B7  CD 9E 10    	call	_game_menu_e
3919  12BA  F1          	pop	af
3920  12BB  33          	inc	sp
3921  12BC  21 9F FF    	ld	hl,0xff9f
3922  12BF  E3          	ex	(sp),hl
3923  12C0  21 01 1D    	ld	hl,0x1d01
3924  12C3  E5          	push	hl
3925  12C4  3E 80       	ld	a,0x80
3926  12C6  F5          	push	af
3927  12C7  33          	inc	sp
3928  12C8  CD 9E 10    	call	_game_menu_e
3929  12CB  F1          	pop	af
3930  12CC  F1          	pop	af
3931  12CD  33          	inc	sp
3932  12CE  3E 00       	ld	a,0x00
3933  12D0  DD 77 FD    	ld	(ix-3),a
3934  12D3  DD 77 FC    	ld	(ix-4),a
3935  12D6  3A 00 00    	ld	a,(_game_two_player)
3936  12D9  B7          	or	a, a
3937  12DA  28 16       	jr	Z,l_game_end_00109
3938  12DC  3A 00 00    	ld	a,(_game_lives)
3939  12DF  B7          	or	a, a
3940  12E0  28 04       	jr	Z,l_game_end_00105
3941  12E2  DD 36 FD 01 	ld	(ix-3),0x01
3942  12E6              l_game_end_00105:
3943  12E6  3A 01 00    	ld	a, (_game_lives + 1)
3944  12E9  B7          	or	a, a
3945  12EA  28 0A       	jr	Z,l_game_end_00110
3946  12EC  DD 36 FC 01 	ld	(ix-4),0x01
3947  12F0  18 04       	jr	l_game_end_00110
3948  12F2              l_game_end_00109:
3949  12F2  DD 36 FD 01 	ld	(ix-3),0x01
3950  12F6              l_game_end_00110:
3951  12F6  DD 7E FD    	ld	a,(ix-3)
3952  12F9  3D          	dec	a
3953  12FA  20 04       	jr	NZ,l_game_end_00221
3954  12FC  3E 01       	ld	a,0x01
3955  12FE  18 01       	jr	l_game_end_00222
3956  1300              l_game_end_00221:
3957  1300  AF          	xor	a,a
3958  1301              l_game_end_00222:
3959  1301  DD 77 FF    	ld	(ix-1),a
3960  1304  B7          	or	a, a
3961  1305  28 1C       	jr	Z,l_game_end_00112
3962  1307  DD 7E FC    	ld	a,(ix-4)
3963  130A  B7          	or	a, a
3964  130B  20 16       	jr	NZ,l_game_end_00112
3965  130D  21 6A 01    	ld	hl,___str_41
3966  1310  E5          	push	hl
3967  1311  21 13 01    	ld	hl,0x0113
3968  1314  E5          	push	hl
3969  1315  CD 00 00    	call	_zx_print_str
3970  1318  21 50 0C    	ld	hl,0x0c50
3971  131B  E5          	push	hl
3972  131C  3E 03       	ld	a,0x03
3973  131E  F5          	push	af
3974  131F  33          	inc	sp
3975  1320  CD 00 00    	call	_NIRVANAP_drawT_callee
3976  1323              l_game_end_00112:
3977  1323  DD 7E FC    	ld	a,(ix-4)
3978  1326  3D          	dec	a
3979  1327  20 04       	jr	NZ,l_game_end_00223
3980  1329  3E 01       	ld	a,0x01
3981  132B  18 01       	jr	l_game_end_00224
3982  132D              l_game_end_00223:
3983  132D  AF          	xor	a,a
3984  132E              l_game_end_00224:
3985  132E  DD 77 FE    	ld	(ix-2),a
3986  1331  DD 7E FD    	ld	a,(ix-3)
3987  1334  B7          	or	a, a
3988  1335  20 1C       	jr	NZ,l_game_end_00115
3989  1337  DD 7E FE    	ld	a,(ix-2)
3990  133A  B7          	or	a, a
3991  133B  28 16       	jr	Z,l_game_end_00115
3992  133D  21 74 01    	ld	hl,___str_42
3993  1340  E5          	push	hl
3994  1341  21 13 01    	ld	hl,0x0113
3995  1344  E5          	push	hl
3996  1345  CD 00 00    	call	_zx_print_str
3997  1348  21 60 0E    	ld	hl,0x0e60
3998  134B  E5          	push	hl
3999  134C  3E 1B       	ld	a,0x1b
4000  134E  F5          	push	af
4001  134F  33          	inc	sp
4002  1350  CD 00 00    	call	_NIRVANAP_drawT_callee
4003  1353              l_game_end_00115:
4004  1353  DD 7E FF    	ld	a,(ix-1)
4005  1356  B7          	or	a, a
4006  1357  28 27       	jr	Z,l_game_end_00118
4007  1359  DD 7E FE    	ld	a,(ix-2)
4008  135C  B7          	or	a, a
4009  135D  28 21       	jr	Z,l_game_end_00118
4010  135F  21 7D 01    	ld	hl,___str_43
4011  1362  E5          	push	hl
4012  1363  21 13 01    	ld	hl,0x0113
4013  1366  E5          	push	hl
4014  1367  CD 00 00    	call	_zx_print_str
4015  136A  21 50 0C    	ld	hl,0x0c50
4016  136D  E5          	push	hl
4017  136E  3E 03       	ld	a,0x03
4018  1370  F5          	push	af
4019  1371  33          	inc	sp
4020  1372  CD 00 00    	call	_NIRVANAP_drawT_callee
4021  1375  21 60 0E    	ld	hl,0x0e60
4022  1378  E5          	push	hl
4023  1379  3E 1B       	ld	a,0x1b
4024  137B  F5          	push	af
4025  137C  33          	inc	sp
4026  137D  CD 00 00    	call	_NIRVANAP_drawT_callee
4027  1380              l_game_end_00118:
4028  1380  21 C8 00    	ld	hl,0x00c8
4029  1383  E5          	push	hl
4030  1384  21 01 1F    	ld	hl,0x1f01
4031  1387  E5          	push	hl
4032  1388  3E 13       	ld	a,0x13
4033  138A  F5          	push	af
4034  138B  33          	inc	sp
4035  138C  CD A2 19    	call	_game_colour_message
4036  138F  F1          	pop	af
4037  1390  F1          	pop	af
4038  1391  33          	inc	sp
4039  1392  DD 7E FF    	ld	a,(ix-1)
4040  1395  B7          	or	a, a
4041  1396  28 32       	jr	Z,l_game_end_00121
4042  1398  DD 7E FC    	ld	a,(ix-4)
4043  139B  B7          	or	a, a
4044  139C  20 2C       	jr	NZ,l_game_end_00121
4045  139E  21 40 12    	ld	hl,0x1240
4046  13A1  E5          	push	hl
4047  13A2  3E BE       	ld	a,0xbe
4048  13A4  F5          	push	af
4049  13A5  33          	inc	sp
4050  13A6  CD 00 00    	call	_NIRVANAP_drawT_callee
4051  13A9  21 50 12    	ld	hl,0x1250
4052  13AC  E5          	push	hl
4053  13AD  3E CA       	ld	a,0xca
4054  13AF  F5          	push	af
4055  13B0  33          	inc	sp
4056  13B1  CD 00 00    	call	_NIRVANAP_drawT_callee
4057  13B4  21 91 01    	ld	hl,___str_44
4058  13B7  E5          	push	hl
4059  13B8  21 13 01    	ld	hl,0x0113
4060  13BB  E5          	push	hl
4061  13BC  CD 00 00    	call	_zx_print_str
4062  13BF  21 40 0C    	ld	hl,0x0c40
4063  13C2  E5          	push	hl
4064  13C3  3E BE       	ld	a,0xbe
4065  13C5  F5          	push	af
4066  13C6  33          	inc	sp
4067  13C7  CD 00 00    	call	_NIRVANAP_drawT_callee
4068  13CA              l_game_end_00121:
4069  13CA  DD 7E FD    	ld	a,(ix-3)
4070  13CD  B7          	or	a, a
4071  13CE  20 32       	jr	NZ,l_game_end_00124
4072  13D0  DD 7E FE    	ld	a,(ix-2)
4073  13D3  B7          	or	a, a
4074  13D4  28 2C       	jr	Z,l_game_end_00124
4075  13D6  21 50 12    	ld	hl,0x1250
4076  13D9  E5          	push	hl
4077  13DA  3E BE       	ld	a,0xbe
4078  13DC  F5          	push	af
4079  13DD  33          	inc	sp
4080  13DE  CD 00 00    	call	_NIRVANAP_drawT_callee
4081  13E1  21 60 12    	ld	hl,0x1260
4082  13E4  E5          	push	hl
4083  13E5  3E CA       	ld	a,0xca
4084  13E7  F5          	push	af
4085  13E8  33          	inc	sp
4086  13E9  CD 00 00    	call	_NIRVANAP_drawT_callee
4087  13EC  21 91 01    	ld	hl,___str_44
4088  13EF  E5          	push	hl
4089  13F0  21 13 01    	ld	hl,0x0113
4090  13F3  E5          	push	hl
4091  13F4  CD 00 00    	call	_zx_print_str
4092  13F7  21 50 0E    	ld	hl,0x0e50
4093  13FA  E5          	push	hl
4094  13FB  3E BE       	ld	a,0xbe
4095  13FD  F5          	push	af
4096  13FE  33          	inc	sp
4097  13FF  CD 00 00    	call	_NIRVANAP_drawT_callee
4098  1402              l_game_end_00124:
4099  1402  DD 7E FF    	ld	a,(ix-1)
4100  1405  B7          	or	a, a
4101  1406  28 53       	jr	Z,l_game_end_00127
4102  1408  DD 7E FE    	ld	a,(ix-2)
4103  140B  B7          	or	a, a
4104  140C  28 4D       	jr	Z,l_game_end_00127
4105  140E  21 A5 01    	ld	hl,___str_45
4106  1411  E5          	push	hl
4107  1412  21 13 01    	ld	hl,0x0113
4108  1415  E5          	push	hl
4109  1416  CD 00 00    	call	_zx_print_str
4110  1419  21 40 12    	ld	hl,0x1240
4111  141C  E5          	push	hl
4112  141D  3E BE       	ld	a,0xbe
4113  141F  F5          	push	af
4114  1420  33          	inc	sp
4115  1421  CD 00 00    	call	_NIRVANAP_drawT_callee
4116  1424  21 50 12    	ld	hl,0x1250
4117  1427  E5          	push	hl
4118  1428  3E CA       	ld	a,0xca
4119  142A  F5          	push	af
4120  142B  33          	inc	sp
4121  142C  CD 00 00    	call	_NIRVANAP_drawT_callee
4122  142F  21 50 10    	ld	hl,0x1050
4123  1432  E5          	push	hl
4124  1433  3E BE       	ld	a,0xbe
4125  1435  F5          	push	af
4126  1436  33          	inc	sp
4127  1437  CD 00 00    	call	_NIRVANAP_drawT_callee
4128  143A  21 60 10    	ld	hl,0x1060
4129  143D  E5          	push	hl
4130  143E  3E CA       	ld	a,0xca
4131  1440  F5          	push	af
4132  1441  33          	inc	sp
4133  1442  CD 00 00    	call	_NIRVANAP_drawT_callee
4134  1445  21 40 0C    	ld	hl,0x0c40
4135  1448  E5          	push	hl
4136  1449  3E BE       	ld	a,0xbe
4137  144B  F5          	push	af
4138  144C  33          	inc	sp
4139  144D  CD 00 00    	call	_NIRVANAP_drawT_callee
4140  1450  21 50 0E    	ld	hl,0x0e50
4141  1453  E5          	push	hl
4142  1454  3E BE       	ld	a,0xbe
4143  1456  F5          	push	af
4144  1457  33          	inc	sp
4145  1458  CD 00 00    	call	_NIRVANAP_drawT_callee
4146  145B              l_game_end_00127:
4147  145B  21 C8 00    	ld	hl,0x00c8
4148  145E  E5          	push	hl
4149  145F  21 01 1F    	ld	hl,0x1f01
4150  1462  E5          	push	hl
4151  1463  3E 13       	ld	a,0x13
4152  1465  F5          	push	af
4153  1466  33          	inc	sp
4154  1467  CD A2 19    	call	_game_colour_message
4155  146A  F1          	pop	af
4156  146B  33          	inc	sp
4157  146C  21 BB 01    	ld	hl,___str_46
4158  146F  E3          	ex	(sp),hl
4159  1470  21 13 01    	ld	hl,0x0113
4160  1473  E5          	push	hl
4161  1474  CD 00 00    	call	_zx_print_str
4162  1477  21 C8 00    	ld	hl,0x00c8
4163  147A  E5          	push	hl
4164  147B  21 01 1F    	ld	hl,0x1f01
4165  147E  E5          	push	hl
4166  147F  3E 13       	ld	a,0x13
4167  1481  F5          	push	af
4168  1482  33          	inc	sp
4169  1483  CD A2 19    	call	_game_colour_message
4170  1486  F1          	pop	af
4171  1487  33          	inc	sp
4172  1488  21 D2 01    	ld	hl,___str_47
4173  148B  E3          	ex	(sp),hl
4174  148C  21 13 01    	ld	hl,0x0113
4175  148F  E5          	push	hl
4176  1490  CD 00 00    	call	_zx_print_str
4177  1493  21 C8 00    	ld	hl,0x00c8
4178  1496  E5          	push	hl
4179  1497  21 01 1F    	ld	hl,0x1f01
4180  149A  E5          	push	hl
4181  149B  3E 13       	ld	a,0x13
4182  149D  F5          	push	af
4183  149E  33          	inc	sp
4184  149F  CD A2 19    	call	_game_colour_message
4185  14A2  F1          	pop	af
4186  14A3  F1          	pop	af
4187  14A4  33          	inc	sp
4188  14A5  CD 00 00    	call	_spr_draw_clear
4189  14A8  DD F9       	ld	sp, ix
4190  14AA  DD E1       	pop	ix
4191  14AC  C9          	ret
4192  14AD              	SECTION rodata_compiler
4193  016A              ___str_41:
4194  016A  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4195  0173  00          	DEFB 0x00
4196  0174              	SECTION rodata_compiler
4197  0174              ___str_42:
4198  0174  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4199  017C  00          	DEFB 0x00
4200  017D              	SECTION rodata_compiler
4201  017D              ___str_43:
4202  017D  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4203  0190  00          	DEFB 0x00
4204  0191              	SECTION rodata_compiler
4205  0191              ___str_44:
4206  0191  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4207  01A4  00          	DEFB 0x00
4208  01A5              	SECTION rodata_compiler
4209  01A5              ___str_45:
4210  01A5  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4211  01BA  00          	DEFB 0x00
4212  01BB              	SECTION rodata_compiler
4213  01BB              ___str_46:
4214  01BB  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4215  01D1  00          	DEFB 0x00
4216  01D2              	SECTION rodata_compiler
4217  01D2              ___str_47:
4218  01D2  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4219  01E8  00          	DEFB 0x00
4220  01E9              	SECTION code_compiler
4221  14AD              ;	---------------------------------
4222  14AD              ; Function game_hall_check
4223  14AD              ; ---------------------------------
4224  14AD              _game_hall_check:
4225  14AD  5D          	ld	e,l
4226  14AE  01 00 00    	ld	bc,_player_score+0
4227  14B1  26 00       	ld	h,0x00
4228  14B3  6B          	ld	l, e
4229  14B4  29          	add	hl, hl
4230  14B5  09          	add	hl,bc
4231  14B6  4E          	ld	c,(hl)
4232  14B7  23          	inc	hl
4233  14B8  46          	ld	b,(hl)
4234  14B9  2A 3A 00    	ld	hl,(_hof + 0x003a)
4235  14BC  AF          	xor	a,a
4236  14BD  ED 42       	sbc	hl,bc
4237  14BF  30 09       	jr	NC,l_game_hall_check_00104
4238  14C1  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4239  14C5  21 36 00    	ld	hl,+(_hof + 0x0036)
4240  14C8  18 14       	jr	l_game_hall_check_00106
4241  14CA              l_game_hall_check_00104:
4242  14CA  2A 34 00    	ld	hl,(_hof + 0x0034)
4243  14CD  AF          	xor	a,a
4244  14CE  ED 42       	sbc	hl,bc
4245  14D0  30 09       	jr	NC,l_game_hall_check_00105
4246  14D2  ED 43 34 00 	ld	(_hof + 0x0034),bc
4247  14D6  21 30 00    	ld	hl,+(_hof + 0x0030)
4248  14D9  18 03       	jr	l_game_hall_check_00106
4249  14DB              l_game_hall_check_00105:
4250  14DB  21 00 00    	ld	hl,0x0000
4251  14DE              l_game_hall_check_00106:
4252  14DE  C9          	ret
4253  14DF              	SECTION code_compiler
4254  14DF              ;	---------------------------------
4255  14DF              ; Function compare_scores
4256  14DF              ; ---------------------------------
4257  14DF              _compare_scores:
4258  14DF  CD 00 00    	call	___sdcc_enter_ix
4259  14E2  DD 6E 06    	ld	l,(ix+6)
4260  14E5  DD 66 07    	ld	h,(ix+7)
4261  14E8  11 04 00    	ld	de,0x0004
4262  14EB  19          	add	hl, de
4263  14EC  4E          	ld	c,(hl)
4264  14ED  23          	inc	hl
4265  14EE  46          	ld	b,(hl)
4266  14EF  DD 6E 04    	ld	l,(ix+4)
4267  14F2  DD 66 05    	ld	h,(ix+5)
4268  14F5  11 04 00    	ld	de,0x0004
4269  14F8  19          	add	hl, de
4270  14F9  7E          	ld	a,(hl)
4271  14FA  23          	inc	hl
4272  14FB  56          	ld	d,(hl)
4273  14FC  5F          	ld	e,a
4274  14FD  91          	sub	a, c
4275  14FE  7A          	ld	a,d
4276  14FF  98          	sbc	a, b
4277  1500  30 05       	jr	NC,l_compare_scores_00102
4278  1502  21 01 00    	ld	hl,0x0001
4279  1505  18 10       	jr	l_compare_scores_00105
4280  1507              l_compare_scores_00102:
4281  1507  79          	ld	a,c
4282  1508  93          	sub	a, e
4283  1509  20 09       	jr	NZ,l_compare_scores_00104
4284  150B  78          	ld	a,b
4285  150C  92          	sub	a, d
4286  150D  20 05       	jr	NZ,l_compare_scores_00104
4287  150F  21 00 00    	ld	hl,0x0000
4288  1512  18 03       	jr	l_compare_scores_00105
4289  1514              l_compare_scores_00104:
4290  1514  21 FF FF    	ld	hl,0xffff
4291  1517              l_compare_scores_00105:
4292  1517  DD E1       	pop	ix
4293  1519  C9          	ret
4294  151A              	SECTION code_compiler
4295  151A              ;	---------------------------------
4296  151A              ; Function game_hall_enter
4297  151A              ; ---------------------------------
4298  151A              _game_hall_enter:
4299  151A  CD 00 00    	call	___sdcc_enter_ix
4300  151D  21 F7 FF    	ld	hl,-9
4301  1520  39          	add	hl,sp
4302  1521  F9          	ld	sp,hl
4303  1522  CD 00 00    	call	_spr_draw_clear
4304  1525  2E 00       	ld	l,0x00
4305  1527  CD BA 0C    	call	_game_paint_attrib
4306  152A  ED 4B 00 00 	ld	bc,(_player_score)
4307  152E  2A 02 00    	ld	hl, (_player_score + 2)
4308  1531  AF          	xor	a,a
4309  1532  ED 42       	sbc	hl,bc
4310  1534  30 0F       	jr	NC,l_game_hall_enter_00102
4311  1536  2E 00       	ld	l,0x00
4312  1538  CD AD 14    	call	_game_hall_check
4313  153B  E5          	push	hl
4314  153C  2E 01       	ld	l,0x01
4315  153E  CD AD 14    	call	_game_hall_check
4316  1541  EB          	ex	de,hl
4317  1542  C1          	pop	bc
4318  1543  18 0E       	jr	l_game_hall_enter_00103
4319  1545              l_game_hall_enter_00102:
4320  1545  2E 01       	ld	l,0x01
4321  1547  CD AD 14    	call	_game_hall_check
4322  154A  E5          	push	hl
4323  154B  2E 00       	ld	l,0x00
4324  154D  CD AD 14    	call	_game_hall_check
4325  1550  D1          	pop	de
4326  1551  4D          	ld	c,l
4327  1552  44          	ld	b,h
4328  1553              l_game_hall_enter_00103:
4329  1553  78          	ld	a,b
4330  1554  B1          	or	a,c
4331  1555  20 05       	jr	NZ,l_game_hall_enter_00125
4332  1557  7A          	ld	a,d
4333  1558  B3          	or	a,e
4334  1559  CA A7 16    	jp	Z,l_game_hall_enter_00126
4335  155C              l_game_hall_enter_00125:
4336  155C  3E 00       	ld	a,0x00
4337  155E  DD 77 FB    	ld	(ix-5),a
4338  1561  DD 77 FA    	ld	(ix-6),a
4339  1564  DD 77 F9    	ld	(ix-7),a
4340  1567  DD 77 F8    	ld	(ix-8),a
4341  156A  DD 36 F7 00 	ld	(ix-9),0x00
4342  156E  78          	ld	a,b
4343  156F  B1          	or	a,c
4344  1570  28 0D       	jr	Z,l_game_hall_enter_00105
4345  1572  DD 36 F8 01 	ld	(ix-8),0x01
4346  1576  C5          	push	bc
4347  1577  D5          	push	de
4348  1578  2E 00       	ld	l,0x00
4349  157A  CD CA 16    	call	_game_hall_enter_phs
4350  157D  D1          	pop	de
4351  157E  C1          	pop	bc
4352  157F              l_game_hall_enter_00105:
4353  157F  7A          	ld	a,d
4354  1580  B3          	or	a,e
4355  1581  28 0D       	jr	Z,l_game_hall_enter_00107
4356  1583  DD 36 F7 05 	ld	(ix-9),0x05
4357  1587  C5          	push	bc
4358  1588  D5          	push	de
4359  1589  2E 01       	ld	l,0x01
4360  158B  CD CA 16    	call	_game_hall_enter_phs
4361  158E  D1          	pop	de
4362  158F  C1          	pop	bc
4363  1590              l_game_hall_enter_00107:
4364  1590  C5          	push	bc
4365  1591  D5          	push	de
4366  1592  21 E9 01    	ld	hl,___str_48
4367  1595  E5          	push	hl
4368  1596  21 02 0A    	ld	hl,0x0a02
4369  1599  E5          	push	hl
4370  159A  CD 00 00    	call	_zx_print_str
4371  159D  21 F6 01    	ld	hl,___str_49
4372  15A0  E5          	push	hl
4373  15A1  21 12 06    	ld	hl,0x0612
4374  15A4  E5          	push	hl
4375  15A5  CD 00 00    	call	_zx_print_str
4376  15A8  21 09 02    	ld	hl,___str_50
4377  15AB  E5          	push	hl
4378  15AC  21 13 06    	ld	hl,0x0613
4379  15AF  E5          	push	hl
4380  15B0  CD 00 00    	call	_zx_print_str
4381  15B3  D1          	pop	de
4382  15B4  C1          	pop	bc
4383  15B5  DD 71 FE    	ld	(ix-2),c
4384  15B8  DD 70 FF    	ld	(ix-1),b
4385  15BB  DD 73 FC    	ld	(ix-4),e
4386  15BE  DD 72 FD    	ld	(ix-3),d
4387  15C1              l_game_hall_enter_00122:
4388  15C1  DD 7E F8    	ld	a,(ix-8)
4389  15C4  DD 86 F7    	add	a,(ix-9)
4390  15C7  B7          	or	a, a
4391  15C8  CA 8F 16    	jp	Z,l_game_hall_enter_00124
4392  15CB  21 05 00    	ld	hl,0x0005
4393  15CE  E5          	push	hl
4394  15CF  2A 00 00    	ld	hl,(_frame_time)
4395  15D2  E5          	push	hl
4396  15D3  CD 34 1A    	call	_game_check_time
4397  15D6  F1          	pop	af
4398  15D7  F1          	pop	af
4399  15D8  7D          	ld	a,l
4400  15D9  B7          	or	a, a
4401  15DA  28 36       	jr	Z,l_game_hall_enter_00113
4402  15DC  DD 7E F9    	ld	a,(ix-7)
4403  15DF  D6 01       	sub	a,0x01
4404  15E1  3E 00       	ld	a,0x00
4405  15E3  17          	rla
4406  15E4  DD 77 F9    	ld	(ix-7),a
4407  15E7  DD 7E F8    	ld	a,(ix-8)
4408  15EA  B7          	or	a, a
4409  15EB  28 0B       	jr	Z,l_game_hall_enter_00109
4410  15ED  DD 66 F9    	ld	h,(ix-7)
4411  15F0  DD 6E F8    	ld	l,(ix-8)
4412  15F3  E5          	push	hl
4413  15F4  CD 41 17    	call	_game_hall_print_p
4414  15F7  F1          	pop	af
4415  15F8              l_game_hall_enter_00109:
4416  15F8  DD 7E F7    	ld	a,(ix-9)
4417  15FB  B7          	or	a, a
4418  15FC  28 0B       	jr	Z,l_game_hall_enter_00111
4419  15FE  DD 66 F9    	ld	h,(ix-7)
4420  1601  DD 6E F7    	ld	l,(ix-9)
4421  1604  E5          	push	hl
4422  1605  CD 41 17    	call	_game_hall_print_p
4423  1608  F1          	pop	af
4424  1609              l_game_hall_enter_00111:
4425  1609  CD 86 19    	call	_game_rotate_attrib
4426  160C  2A 00 00    	ld	hl,(_curr_time)
4427  160F  22 00 00    	ld	(_frame_time),hl
4428  1612              l_game_hall_enter_00113:
4429  1612  21 00 00    	ld	hl,_k1
4430  1615  E5          	push	hl
4431  1616  2A 00 00    	ld	hl,(_joyfunc1)
4432  1619  CD 00 00    	call	___sdcc_call_hl
4433  161C  F1          	pop	af
4434  161D  7D          	ld	a,l
4435  161E  32 00 00    	ld	(_dirs),a
4436  1621  DD 7E FB    	ld	a,(ix-5)
4437  1624  B7          	or	a, a
4438  1625  20 22       	jr	NZ,l_game_hall_enter_00115
4439  1627  DD 7E F8    	ld	a,(ix-8)
4440  162A  B7          	or	a, a
4441  162B  28 1C       	jr	Z,l_game_hall_enter_00115
4442  162D  DD 6E F8    	ld	l,(ix-8)
4443  1630  CD FF 17    	call	_game_hall_edit_p
4444  1633  DD 75 F8    	ld	(ix-8),l
4445  1636  7D          	ld	a,l
4446  1637  B7          	or	a, a
4447  1638  20 0F       	jr	NZ,l_game_hall_enter_00115
4448  163A  DD 5E FE    	ld	e,(ix-2)
4449  163D  DD 56 FF    	ld	d,(ix-1)
4450  1640  AF          	xor	a,a
4451  1641  21 00 00    	ld	hl,_initials
4452  1644              l_game_hall_enter_00190:
4453  1644  BE          	cp	a, (hl)
4454  1645  ED A0       	ldi
4455  1647  20 FB       	jr	NZ, l_game_hall_enter_00190
4456  1649              l_game_hall_enter_00115:
4457  1649  3A 00 00    	ld	a,(_dirs)
4458  164C  DD 77 FB    	ld	(ix-5),a
4459  164F  21 00 00    	ld	hl,_k2
4460  1652  E5          	push	hl
4461  1653  2A 00 00    	ld	hl,(_joyfunc2)
4462  1656  CD 00 00    	call	___sdcc_call_hl
4463  1659  F1          	pop	af
4464  165A  7D          	ld	a,l
4465  165B  32 00 00    	ld	(_dirs),a
4466  165E  DD 7E FA    	ld	a,(ix-6)
4467  1661  B7          	or	a, a
4468  1662  20 22       	jr	NZ,l_game_hall_enter_00119
4469  1664  DD 7E F7    	ld	a,(ix-9)
4470  1667  B7          	or	a, a
4471  1668  28 1C       	jr	Z,l_game_hall_enter_00119
4472  166A  DD 6E F7    	ld	l,(ix-9)
4473  166D  CD FF 17    	call	_game_hall_edit_p
4474  1670  DD 75 F7    	ld	(ix-9),l
4475  1673  7D          	ld	a,l
4476  1674  B7          	or	a, a
4477  1675  20 0F       	jr	NZ,l_game_hall_enter_00119
4478  1677  DD 5E FC    	ld	e,(ix-4)
4479  167A  DD 56 FD    	ld	d,(ix-3)
4480  167D  AF          	xor	a,a
4481  167E  21 04 00    	ld	hl,+(_initials + 0x0004)
4482  1681              l_game_hall_enter_00191:
4483  1681  BE          	cp	a, (hl)
4484  1682  ED A0       	ldi
4485  1684  20 FB       	jr	NZ, l_game_hall_enter_00191
4486  1686              l_game_hall_enter_00119:
4487  1686  3A 00 00    	ld	a,(_dirs)
4488  1689  DD 77 FA    	ld	(ix-6),a
4489  168C  C3 C1 15    	jp	l_game_hall_enter_00122
4490  168F              l_game_hall_enter_00124:
4491  168F  CD 00 00    	call	_ay_reset
4492  1692  CD 00 00    	call	_spr_draw_clear
4493  1695  01 DF 14    	ld	bc,_compare_scores
4494  1698  C5          	push	bc
4495  1699  21 06 00    	ld	hl,0x0006
4496  169C  E5          	push	hl
4497  169D  2E 0A       	ld	l,0x0a
4498  169F  E5          	push	hl
4499  16A0  21 00 00    	ld	hl,_hof
4500  16A3  E5          	push	hl
4501  16A4  CD 00 00    	call	__insertion_sort__callee
4502  16A7              l_game_hall_enter_00126:
4503  16A7  CD B5 18    	call	_game_hall_of_fame
4504  16AA  2E 00       	ld	l,0x00
4505  16AC  CD B4 16    	call	_game_menu_back
4506  16AF  DD F9       	ld	sp, ix
4507  16B1  DD E1       	pop	ix
4508  16B3  C9          	ret
4509  16B4              	SECTION rodata_compiler
4510  01E9              ___str_48:
4511  01E9  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4512  01F5  00          	DEFB 0x00
4513  01F6              	SECTION rodata_compiler
4514  01F6              ___str_49:
4515  01F6  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4516  0208  00          	DEFB 0x00
4517  0209              	SECTION rodata_compiler
4518  0209              ___str_50:
4519  0209  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4520  021C  00          	DEFB 0x00
4521  021D              	SECTION code_compiler
4522  16B4              ;	---------------------------------
4523  16B4              ; Function game_menu_back
4524  16B4              ; ---------------------------------
4525  16B4              _game_menu_back:
4526  16B4  7D          	ld	a,l
4527  16B5  32 00 00    	ld	(_s_lin1),a
4528  16B8  21 00 00    	ld	hl,_game_menu_sel
4529  16BB  36 00       	ld	(hl),0x00
4530  16BD  CD AF 0F    	call	_game_menu_top_paint
4531  16C0  CD 23 10    	call	_game_menu_paint
4532  16C3  2A 00 00    	ld	hl,(_curr_time)
4533  16C6  22 00 00    	ld	(_entry_time),hl
4534  16C9  C9          	ret
4535  16CA              	SECTION code_compiler
4536  16CA              ;	---------------------------------
4537  16CA              ; Function game_hall_enter_phs
4538  16CA              ; ---------------------------------
4539  16CA              _game_hall_enter_phs:
4540  16CA  7D          	ld	a,l
4541  16CB  B7          	or	a, a
4542  16CC  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4543  16CE  21 9C 01    	ld	hl,0x019c
4544  16D1  E5          	push	hl
4545  16D2  21 02 0C    	ld	hl,0x0c02
4546  16D5  E5          	push	hl
4547  16D6  3E 30       	ld	a,0x30
4548  16D8  F5          	push	af
4549  16D9  33          	inc	sp
4550  16DA  CD 9E 10    	call	_game_menu_e
4551  16DD  F1          	pop	af
4552  16DE  33          	inc	sp
4553  16DF  21 9F FF    	ld	hl,0xff9f
4554  16E2  E3          	ex	(sp),hl
4555  16E3  21 02 0C    	ld	hl,0x0c02
4556  16E6  E5          	push	hl
4557  16E7  3E 7C       	ld	a,0x7c
4558  16E9  F5          	push	af
4559  16EA  33          	inc	sp
4560  16EB  CD 9E 10    	call	_game_menu_e
4561  16EE  F1          	pop	af
4562  16EF  33          	inc	sp
4563  16F0  21 1D 02    	ld	hl,___str_51
4564  16F3  E3          	ex	(sp),hl
4565  16F4  21 07 05    	ld	hl,0x0507
4566  16F7  E5          	push	hl
4567  16F8  CD 00 00    	call	_zx_print_str
4568  16FB  21 22 02    	ld	hl,___str_52
4569  16FE  E5          	push	hl
4570  16FF  21 08 05    	ld	hl,0x0508
4571  1702  E5          	push	hl
4572  1703  CD 00 00    	call	_zx_print_str
4573  1706  18 38       	jr	l_game_hall_enter_phs_00104
4574  1708              l_game_hall_enter_phs_00102:
4575  1708  21 9C 01    	ld	hl,0x019c
4576  170B  E5          	push	hl
4577  170C  21 12 1C    	ld	hl,0x1c12
4578  170F  E5          	push	hl
4579  1710  3E 30       	ld	a,0x30
4580  1712  F5          	push	af
4581  1713  33          	inc	sp
4582  1714  CD 9E 10    	call	_game_menu_e
4583  1717  F1          	pop	af
4584  1718  33          	inc	sp
4585  1719  21 9F FF    	ld	hl,0xff9f
4586  171C  E3          	ex	(sp),hl
4587  171D  21 12 1C    	ld	hl,0x1c12
4588  1720  E5          	push	hl
4589  1721  3E 7C       	ld	a,0x7c
4590  1723  F5          	push	af
4591  1724  33          	inc	sp
4592  1725  CD 9E 10    	call	_game_menu_e
4593  1728  F1          	pop	af
4594  1729  33          	inc	sp
4595  172A  21 1D 02    	ld	hl,___str_51
4596  172D  E3          	ex	(sp),hl
4597  172E  21 07 15    	ld	hl,0x1507
4598  1731  E5          	push	hl
4599  1732  CD 00 00    	call	_zx_print_str
4600  1735  21 22 02    	ld	hl,___str_52
4601  1738  E5          	push	hl
4602  1739  21 08 15    	ld	hl,0x1508
4603  173C  E5          	push	hl
4604  173D  CD 00 00    	call	_zx_print_str
4605  1740              l_game_hall_enter_phs_00104:
4606  1740  C9          	ret
4607  1741              	SECTION rodata_compiler
4608  021D              ___str_51:
4609  021D  48 49 47 48 	DEFM "HIGH"
4610  0221  00          	DEFB 0x00
4611  0222              	SECTION rodata_compiler
4612  0222              ___str_52:
4613  0222  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4614  0228  00          	DEFB 0x00
4615  0229              	SECTION code_compiler
4616  1741              ;	---------------------------------
4617  1741              ; Function game_hall_print_p
4618  1741              ; ---------------------------------
4619  1741              _game_hall_print_p:
4620  1741  CD 00 00    	call	___sdcc_enter_ix
4621  1744  DD 7E 04    	ld	a,(ix+4)
4622  1747  D6 05       	sub	a,0x05
4623  1749  30 59       	jr	NC,l_game_hall_print_p_00108
4624  174B  21 00 00    	ld	hl,_initials
4625  174E  E5          	push	hl
4626  174F  21 0D 06    	ld	hl,0x060d
4627  1752  E5          	push	hl
4628  1753  CD 00 00    	call	_zx_print_str
4629  1756  DD 7E 04    	ld	a,(ix+4)
4630  1759  C6 06       	add	a,0x06
4631  175B  47          	ld	b,a
4632  175C  DD 7E 04    	ld	a,(ix+4)
4633  175F  C6 05       	add	a,0x05
4634  1761  57          	ld	d,a
4635  1762  3E 70       	ld	a,0x70
4636  1764  F5          	push	af
4637  1765  33          	inc	sp
4638  1766  4A          	ld	c, d
4639  1767  C5          	push	bc
4640  1768  CD 05 0D    	call	_game_paint_attrib_lin_h
4641  176B  F1          	pop	af
4642  176C  33          	inc	sp
4643  176D  76          	halt
4644  176E  DD 7E 05    	ld	a,(ix+5)
4645  1771  B7          	or	a, a
4646  1772  28 18       	jr	Z,l_game_hall_print_p_00102
4647  1774  21 56 06    	ld	hl,0x0656
4648  1777  E5          	push	hl
4649  1778  3E A9       	ld	a,0xa9
4650  177A  F5          	push	af
4651  177B  33          	inc	sp
4652  177C  CD 00 00    	call	_NIRVANAP_drawT_callee
4653  177F  21 58 06    	ld	hl,0x0658
4654  1782  E5          	push	hl
4655  1783  3E 03       	ld	a,0x03
4656  1785  F5          	push	af
4657  1786  33          	inc	sp
4658  1787  CD 00 00    	call	_NIRVANAP_drawT_callee
4659  178A  18 70       	jr	l_game_hall_print_p_00110
4660  178C              l_game_hall_print_p_00102:
4661  178C  21 58 06    	ld	hl,0x0658
4662  178F  E5          	push	hl
4663  1790  3E A9       	ld	a,0xa9
4664  1792  F5          	push	af
4665  1793  33          	inc	sp
4666  1794  CD 00 00    	call	_NIRVANAP_drawT_callee
4667  1797  21 56 06    	ld	hl,0x0656
4668  179A  E5          	push	hl
4669  179B  3E 16       	ld	a,0x16
4670  179D  F5          	push	af
4671  179E  33          	inc	sp
4672  179F  CD 00 00    	call	_NIRVANAP_drawT_callee
4673  17A2  18 58       	jr	l_game_hall_print_p_00110
4674  17A4              l_game_hall_print_p_00108:
4675  17A4  21 04 00    	ld	hl,+(_initials + 0x0004)
4676  17A7  E5          	push	hl
4677  17A8  21 0D 16    	ld	hl,0x160d
4678  17AB  E5          	push	hl
4679  17AC  CD 00 00    	call	_zx_print_str
4680  17AF  DD 7E 04    	ld	a,(ix+4)
4681  17B2  C6 12       	add	a,0x12
4682  17B4  57          	ld	d,a
4683  17B5  DD 7E 04    	ld	a,(ix+4)
4684  17B8  C6 11       	add	a,0x11
4685  17BA  47          	ld	b,a
4686  17BB  3E 70       	ld	a,0x70
4687  17BD  5A          	ld	e,d
4688  17BE  57          	ld	d,a
4689  17BF  D5          	push	de
4690  17C0  C5          	push	bc
4691  17C1  33          	inc	sp
4692  17C2  CD 05 0D    	call	_game_paint_attrib_lin_h
4693  17C5  F1          	pop	af
4694  17C6  33          	inc	sp
4695  17C7  76          	halt
4696  17C8  DD 7E 05    	ld	a,(ix+5)
4697  17CB  B7          	or	a, a
4698  17CC  28 18       	jr	Z,l_game_hall_print_p_00105
4699  17CE  21 56 17    	ld	hl,0x1756
4700  17D1  E5          	push	hl
4701  17D2  3E A9       	ld	a,0xa9
4702  17D4  F5          	push	af
4703  17D5  33          	inc	sp
4704  17D6  CD 00 00    	call	_NIRVANAP_drawT_callee
4705  17D9  21 58 17    	ld	hl,0x1758
4706  17DC  E5          	push	hl
4707  17DD  3E 27       	ld	a,0x27
4708  17DF  F5          	push	af
4709  17E0  33          	inc	sp
4710  17E1  CD 00 00    	call	_NIRVANAP_drawT_callee
4711  17E4  18 16       	jr	l_game_hall_print_p_00110
4712  17E6              l_game_hall_print_p_00105:
4713  17E6  21 58 17    	ld	hl,0x1758
4714  17E9  E5          	push	hl
4715  17EA  3E A9       	ld	a,0xa9
4716  17EC  F5          	push	af
4717  17ED  33          	inc	sp
4718  17EE  CD 00 00    	call	_NIRVANAP_drawT_callee
4719  17F1  21 56 17    	ld	hl,0x1756
4720  17F4  E5          	push	hl
4721  17F5  3E 2E       	ld	a,0x2e
4722  17F7  F5          	push	af
4723  17F8  33          	inc	sp
4724  17F9  CD 00 00    	call	_NIRVANAP_drawT_callee
4725  17FC              l_game_hall_print_p_00110:
4726  17FC  DD E1       	pop	ix
4727  17FE  C9          	ret
4728  17FF              	SECTION code_compiler
4729  17FF              ;	---------------------------------
4730  17FF              ; Function game_hall_edit_p
4731  17FF              ; ---------------------------------
4732  17FF              _game_hall_edit_p:
4733  17FF  CD 00 00    	call	___sdcc_enter_ix
4734  1802  F5          	push	af
4735  1803  4D          	ld	c,l
4736  1804  0D          	dec	c
4737  1805  3A 00 00    	ld	a,(_dirs)
4738  1808  07          	rlca
4739  1809  30 63       	jr	NC,l_game_hall_edit_p_00120
4740  180B  79          	ld	a,c
4741  180C  FE 04       	cp	a,0x04
4742  180E  30 17       	jr	NC,l_game_hall_edit_p_00102
4743  1810  C6 07       	add	a,0x07
4744  1812  57          	ld	d,a
4745  1813  79          	ld	a,c
4746  1814  C6 06       	add	a,0x06
4747  1816  47          	ld	b,a
4748  1817  C5          	push	bc
4749  1818  3E 70       	ld	a,0x70
4750  181A  5A          	ld	e,d
4751  181B  57          	ld	d,a
4752  181C  D5          	push	de
4753  181D  C5          	push	bc
4754  181E  33          	inc	sp
4755  181F  CD DE 0C    	call	_game_paint_attrib_lin
4756  1822  F1          	pop	af
4757  1823  33          	inc	sp
4758  1824  C1          	pop	bc
4759  1825  18 16       	jr	l_game_hall_edit_p_00103
4760  1827              l_game_hall_edit_p_00102:
4761  1827  79          	ld	a,c
4762  1828  C6 13       	add	a,0x13
4763  182A  57          	ld	d,a
4764  182B  79          	ld	a,c
4765  182C  C6 12       	add	a,0x12
4766  182E  47          	ld	b,a
4767  182F  C5          	push	bc
4768  1830  3E 70       	ld	a,0x70
4769  1832  5A          	ld	e,d
4770  1833  57          	ld	d,a
4771  1834  D5          	push	de
4772  1835  C5          	push	bc
4773  1836  33          	inc	sp
4774  1837  CD DE 0C    	call	_game_paint_attrib_lin
4775  183A  F1          	pop	af
4776  183B  33          	inc	sp
4777  183C  C1          	pop	bc
4778  183D              l_game_hall_edit_p_00103:
4779  183D  C5          	push	bc
4780  183E  CD 00 00    	call	_sound_slide
4781  1841  C1          	pop	bc
4782  1842  21 00 00    	ld	hl,_ay_effect_01
4783  1845  CD 00 00    	call	_ay_fx_play
4784  1848  11 00 00    	ld	de,_initials+0
4785  184B  41          	ld	b,c
4786  184C  0C          	inc	c
4787  184D  68          	ld	l,b
4788  184E  26 00       	ld	h,0x00
4789  1850  19          	add	hl,de
4790  1851  7E          	ld	a,(hl)
4791  1852  D6 7B       	sub	a,0x7b
4792  1854  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4793  1856  0D          	dec	c
4794  1857  79          	ld	a,c
4795  1858  E6 03       	and	a,0x03
4796  185A  28 08       	jr	Z,l_game_hall_edit_p_00107
4797  185C  41          	ld	b,c
4798  185D  0D          	dec	c
4799  185E  68          	ld	l,b
4800  185F  26 00       	ld	h,0x00
4801  1861  19          	add	hl,de
4802  1862  36 41       	ld	(hl),0x41
4803  1864              l_game_hall_edit_p_00107:
4804  1864  79          	ld	a,c
4805  1865  E6 03       	and	a,0x03
4806  1867  D6 03       	sub	a,0x03
4807  1869  20 44       	jr	NZ,l_game_hall_edit_p_00121
4808  186B  6F          	ld	l,a
4809  186C  18 43       	jr	l_game_hall_edit_p_00122
4810  186E              l_game_hall_edit_p_00120:
4811  186E  3A 00 00    	ld	a,(_dirs)
4812  1871  E6 0C       	and	a,0x0c
4813  1873  28 3A       	jr	Z,l_game_hall_edit_p_00121
4814  1875  11 00 00    	ld	de,_hall_valids
4815  1878  3E 00       	ld	a,+((_initials) & 0xFF)
4816  187A  81          	add	a, c
4817  187B  DD 77 FE    	ld	(ix-2),a
4818  187E  3E 00       	ld	a,+((_initials) / 256)
4819  1880  CE 00       	adc	a,0x00
4820  1882  DD 77 FF    	ld	(ix-1),a
4821  1885  E1          	pop	hl
4822  1886  46          	ld	b,(hl)
4823  1887  E5          	push	hl
4824  1888              l_game_hall_edit_p_00168:
4825  1888  1A          	ld	a, (de)
4826  1889  B8          	cp	a, b
4827  188A  28 06       	jr	Z,l_game_hall_edit_p_00167
4828  188C  B7          	or	a, a
4829  188D  13          	inc	de
4830  188E  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4831  1890  5F          	ld	e, a
4832  1891  57          	ld	d, a
4833  1892              l_game_hall_edit_p_00167:
4834  1892  3A 00 00    	ld	a,(_dirs)
4835  1895  E6 04       	and	a,0x04
4836  1897  28 0A       	jr	Z,l_game_hall_edit_p_00115
4837  1899  1B          	dec	de
4838  189A  1A          	ld	a,(de)
4839  189B  3D          	dec	a
4840  189C  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4841  189E  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4842  18A1  18 08       	jr	l_game_hall_edit_p_00116
4843  18A3              l_game_hall_edit_p_00115:
4844  18A3  13          	inc	de
4845  18A4  1A          	ld	a,(de)
4846  18A5  B7          	or	a, a
4847  18A6  20 03       	jr	NZ,l_game_hall_edit_p_00116
4848  18A8  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4849  18AB              l_game_hall_edit_p_00116:
4850  18AB  E1          	pop	hl
4851  18AC  1A          	ld	a,(de)
4852  18AD  E5          	push	hl
4853  18AE  77          	ld	(hl),a
4854  18AF              l_game_hall_edit_p_00121:
4855  18AF  0C          	inc	c
4856  18B0  69          	ld	l,c
4857  18B1              l_game_hall_edit_p_00122:
4858  18B1  F1          	pop	af
4859  18B2  DD E1       	pop	ix
4860  18B4  C9          	ret
4861  18B5              	SECTION code_compiler
4862  18B5              ;	---------------------------------
4863  18B5              ; Function game_hall_of_fame
4864  18B5              ; ---------------------------------
4865  18B5              _game_hall_of_fame:
4866  18B5  CD 00 00    	call	_spr_draw_clear
4867  18B8  2E 00       	ld	l,0x00
4868  18BA  CD BA 0C    	call	_game_paint_attrib
4869  18BD  21 9C 01    	ld	hl,0x019c
4870  18C0  E5          	push	hl
4871  18C1  21 06 18    	ld	hl,0x1806
4872  18C4  E5          	push	hl
4873  18C5  3E 10       	ld	a,0x10
4874  18C7  F5          	push	af
4875  18C8  33          	inc	sp
4876  18C9  CD 9E 10    	call	_game_menu_e
4877  18CC  F1          	pop	af
4878  18CD  33          	inc	sp
4879  18CE  21 9F FF    	ld	hl,0xff9f
4880  18D1  E3          	ex	(sp),hl
4881  18D2  21 06 18    	ld	hl,0x1806
4882  18D5  E5          	push	hl
4883  18D6  3E 98       	ld	a,0x98
4884  18D8  F5          	push	af
4885  18D9  33          	inc	sp
4886  18DA  CD 9E 10    	call	_game_menu_e
4887  18DD  F1          	pop	af
4888  18DE  F1          	pop	af
4889  18DF  33          	inc	sp
4890  18E0  21 00 00    	ld	hl,_s_lin1
4891  18E3  36 00       	ld	(hl),0x00
4892  18E5              l_game_hall_of_fame_00102:
4893  18E5  21 00 00    	ld	hl,_screen_ink
4894  18E8  36 05       	ld	(hl),0x05
4895  18EA  2A 00 00    	ld	hl,(_s_lin1)
4896  18ED  26 00       	ld	h,0x00
4897  18EF  4D          	ld	c,l
4898  18F0  44          	ld	b,h
4899  18F1  29          	add	hl, hl
4900  18F2  09          	add	hl, bc
4901  18F3  29          	add	hl, hl
4902  18F4  01 00 00    	ld	bc,_hof
4903  18F7  09          	add	hl,bc
4904  18F8  3A 00 00    	ld	a,(_s_lin1)
4905  18FB  EB          	ex	de,hl
4906  18FC  C6 07       	add	a,0x07
4907  18FE  47          	ld	b,a
4908  18FF  D5          	push	de
4909  1900  3E 0A       	ld	a,0x0a
4910  1902  48          	ld	c,b
4911  1903  47          	ld	b,a
4912  1904  C5          	push	bc
4913  1905  CD 00 00    	call	_zx_print_str
4914  1908  2A 00 00    	ld	hl,(_s_lin1)
4915  190B  26 00       	ld	h,0x00
4916  190D  4D          	ld	c,l
4917  190E  44          	ld	b,h
4918  190F  29          	add	hl, hl
4919  1910  09          	add	hl, bc
4920  1911  29          	add	hl, hl
4921  1912  01 00 00    	ld	bc,_hof
4922  1915  09          	add	hl,bc
4923  1916  11 04 00    	ld	de,0x0004
4924  1919  19          	add	hl, de
4925  191A  5E          	ld	e,(hl)
4926  191B  23          	inc	hl
4927  191C  56          	ld	d,(hl)
4928  191D  3A 00 00    	ld	a,(_s_lin1)
4929  1920  C6 07       	add	a,0x07
4930  1922  47          	ld	b,a
4931  1923  D5          	push	de
4932  1924  3E 10       	ld	a,0x10
4933  1926  48          	ld	c,b
4934  1927  47          	ld	b,a
4935  1928  C5          	push	bc
4936  1929  CD 00 00    	call	_zx_print_int
4937  192C  11 29 02    	ld	de,___str_53
4938  192F  3A 00 00    	ld	a,(_s_lin1)
4939  1932  C6 07       	add	a,0x07
4940  1934  47          	ld	b,a
4941  1935  D5          	push	de
4942  1936  3E 0E       	ld	a,0x0e
4943  1938  48          	ld	c,b
4944  1939  47          	ld	b,a
4945  193A  C5          	push	bc
4946  193B  CD 00 00    	call	_zx_print_str
4947  193E  11 2B 02    	ld	de,___str_54
4948  1941  3A 00 00    	ld	a,(_s_lin1)
4949  1944  C6 07       	add	a,0x07
4950  1946  47          	ld	b,a
4951  1947  D5          	push	de
4952  1948  3E 15       	ld	a,0x15
4953  194A  48          	ld	c,b
4954  194B  47          	ld	b,a
4955  194C  C5          	push	bc
4956  194D  CD 00 00    	call	_zx_print_str
4957  1950  21 00 00    	ld	hl,_s_lin1
4958  1953  7E          	ld	a,(hl)
4959  1954  3C          	inc	a
4960  1955  77          	ld	(hl),a
4961  1956  D6 0A       	sub	a,0x0a
4962  1958  38 8B       	jr	C,l_game_hall_of_fame_00102
4963  195A  21 2D 02    	ld	hl,___str_55
4964  195D  E5          	push	hl
4965  195E  21 04 0A    	ld	hl,0x0a04
4966  1961  E5          	push	hl
4967  1962  CD 00 00    	call	_zx_print_str
4968  1965  21 F4 01    	ld	hl,0x01f4
4969  1968  E5          	push	hl
4970  1969  21 0A 16    	ld	hl,0x160a
4971  196C  E5          	push	hl
4972  196D  3E 04       	ld	a,0x04
4973  196F  F5          	push	af
4974  1970  33          	inc	sp
4975  1971  CD A2 19    	call	_game_colour_message
4976  1974  F1          	pop	af
4977  1975  F1          	pop	af
4978  1976  33          	inc	sp
4979  1977  CD 00 00    	call	_spr_draw_clear
4980  197A  21 00 00    	ld	hl,_game_menu_sel
4981  197D  36 00       	ld	(hl),0x00
4982  197F  21 00 00    	ld	hl,_pb_midi_title
4983  1982  CD 00 00    	call	_ay_midi_play
4984  1985  C9          	ret
4985  1986              	SECTION rodata_compiler
4986  0229              ___str_53:
4987  0229  2D          	DEFM "-"
4988  022A  00          	DEFB 0x00
4989  022B              	SECTION rodata_compiler
4990  022B              ___str_54:
4991  022B  30          	DEFM "0"
4992  022C  00          	DEFB 0x00
4993  022D              	SECTION rodata_compiler
4994  022D              ___str_55:
4995  022D  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4996  0239  00          	DEFB 0x00
4997  023A              	SECTION code_compiler
4998  1986              ;	---------------------------------
4999  1986              ; Function game_rotate_attrib
5000  1986              ; ---------------------------------
5001  1986              _game_rotate_attrib:
5002  1986  01 03 00    	ld	bc,_attrib_hl + 3
5003  1989  0A          	ld	a,(bc)
5004  198A  32 00 00    	ld	(_tmp_uc),a
5005  198D  11 02 00    	ld	de,_attrib_hl + 2
5006  1990  1A          	ld	a,(de)
5007  1991  02          	ld	(bc),a
5008  1992  01 01 00    	ld	bc,_attrib_hl + 1
5009  1995  0A          	ld	a,(bc)
5010  1996  12          	ld	(de),a
5011  1997  3A 00 00    	ld	a,(_attrib_hl)
5012  199A  02          	ld	(bc),a
5013  199B  3A 00 00    	ld	a,(_tmp_uc)
5014  199E  32 00 00    	ld	(_attrib_hl),a
5015  19A1  C9          	ret
5016  19A2              	SECTION code_compiler
5017  19A2              ;	---------------------------------
5018  19A2              ; Function game_colour_message
5019  19A2              ; ---------------------------------
5020  19A2              _game_colour_message:
5021  19A2  CD 00 00    	call	___sdcc_enter_ix
5022  19A5  3B          	dec	sp
5023  19A6  21 00 00    	ld	hl,_tmp
5024  19A9  36 01       	ld	(hl),0x01
5025  19AB  2A 00 00    	ld	hl,(_curr_time)
5026  19AE  22 00 00    	ld	(_frame_time),hl
5027  19B1  2A 00 00    	ld	hl,(_curr_time)
5028  19B4  22 00 00    	ld	(_entry_time),hl
5029  19B7  DD 7E 04    	ld	a,(ix+4)
5030  19BA  07          	rlca
5031  19BB  07          	rlca
5032  19BC  07          	rlca
5033  19BD  E6 F8       	and	a,0xf8
5034  19BF  C6 08       	add	a,0x08
5035  19C1  DD 77 FF    	ld	(ix-1),a
5036  19C4              l_game_colour_message_00107:
5037  19C4  3A 00 00    	ld	a,(_tmp)
5038  19C7  B7          	or	a, a
5039  19C8  28 66       	jr	Z,l_game_colour_message_00110
5040  19CA  DD 6E 07    	ld	l,(ix+7)
5041  19CD  DD 66 08    	ld	h,(ix+8)
5042  19D0  E5          	push	hl
5043  19D1  2A 00 00    	ld	hl,(_entry_time)
5044  19D4  E5          	push	hl
5045  19D5  CD 34 1A    	call	_game_check_time
5046  19D8  F1          	pop	af
5047  19D9  F1          	pop	af
5048  19DA  7D          	ld	a,l
5049  19DB  B7          	or	a, a
5050  19DC  20 52       	jr	NZ,l_game_colour_message_00110
5051  19DE  21 05 00    	ld	hl,0x0005
5052  19E1  E5          	push	hl
5053  19E2  2A 00 00    	ld	hl,(_frame_time)
5054  19E5  E5          	push	hl
5055  19E6  CD 34 1A    	call	_game_check_time
5056  19E9  F1          	pop	af
5057  19EA  F1          	pop	af
5058  19EB  7D          	ld	a,l
5059  19EC  B7          	or	a, a
5060  19ED  28 1A       	jr	Z,l_game_colour_message_00103
5061  19EF  2A 00 00    	ld	hl,(_curr_time)
5062  19F2  22 00 00    	ld	(_frame_time),hl
5063  19F5  DD 66 FF    	ld	h,(ix-1)
5064  19F8  DD 6E 06    	ld	l,(ix+6)
5065  19FB  E5          	push	hl
5066  19FC  DD 7E 05    	ld	a,(ix+5)
5067  19FF  F5          	push	af
5068  1A00  33          	inc	sp
5069  1A01  CD 05 0D    	call	_game_paint_attrib_lin_h
5070  1A04  F1          	pop	af
5071  1A05  33          	inc	sp
5072  1A06  CD 86 19    	call	_game_rotate_attrib
5073  1A09              l_game_colour_message_00103:
5074  1A09  21 00 00    	ld	hl,_k1
5075  1A0C  E5          	push	hl
5076  1A0D  2A 00 00    	ld	hl,(_joyfunc1)
5077  1A10  CD 00 00    	call	___sdcc_call_hl
5078  1A13  E3          	ex	(sp),hl
5079  1A14  21 00 00    	ld	hl,_k2
5080  1A17  E5          	push	hl
5081  1A18  2A 00 00    	ld	hl,(_joyfunc2)
5082  1A1B  CD 00 00    	call	___sdcc_call_hl
5083  1A1E  F1          	pop	af
5084  1A1F  EB          	ex	de,hl
5085  1A20  C1          	pop	bc
5086  1A21  79          	ld	a,c
5087  1A22  B3          	or	a, e
5088  1A23  4F          	ld	c,a
5089  1A24  78          	ld	a,b
5090  1A25  B2          	or	a, d
5091  1A26  B1          	or	a,c
5092  1A27  28 9B       	jr	Z,l_game_colour_message_00107
5093  1A29  21 00 00    	ld	hl,_tmp
5094  1A2C  36 00       	ld	(hl),0x00
5095  1A2E  18 D9       	jr	l_game_colour_message_00103
5096  1A30              l_game_colour_message_00110:
5097  1A30  33          	inc	sp
5098  1A31  DD E1       	pop	ix
5099  1A33  C9          	ret
5100  1A34              	SECTION code_compiler
5101  1A34              ;	---------------------------------
5102  1A34              ; Function game_check_time
5103  1A34              ; ---------------------------------
5104  1A34              _game_check_time:
5105  1A34  CD 00 00    	call	___sdcc_enter_ix
5106  1A37  2A 00 00    	ld	hl,(_curr_time)
5107  1A3A  7D          	ld	a,l
5108  1A3B  DD 96 04    	sub	a,(ix+4)
5109  1A3E  4F          	ld	c,a
5110  1A3F  7C          	ld	a,h
5111  1A40  DD 9E 05    	sbc	a,(ix+5)
5112  1A43  47          	ld	b,a
5113  1A44  DD 7E 06    	ld	a,(ix+6)
5114  1A47  91          	sub	a, c
5115  1A48  DD 7E 07    	ld	a,(ix+7)
5116  1A4B  98          	sbc	a, b
5117  1A4C  30 04       	jr	NC,l_game_check_time_00102
5118  1A4E  2E 01       	ld	l,0x01
5119  1A50  18 02       	jr	l_game_check_time_00104
5120  1A52              l_game_check_time_00102:
5121  1A52  2E 00       	ld	l,0x00
5122  1A54              l_game_check_time_00104:
5123  1A54  DD E1       	pop	ix
5124  1A56  C9          	ret
5125  1A57              	SECTION IGNORE
5126  0000              
