1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_row
244   0000              	GLOBAL _spr_draw_index
245   0000              	GLOBAL _spr_draw_clear
246   0000              	GLOBAL _spr_water_splash_draw
247   0000              	GLOBAL _spr_water_splash_clear
248   0000              	GLOBAL _spr_draw_back
249   0000              	GLOBAL _spr_cortina_brick
250   0000              	GLOBAL _spr_brick_anim
251   0000              	GLOBAL _spr_back_fix
252   0000              	GLOBAL _spr_back_paint
253   0000              	GLOBAL _spr_back_clr
254   0000              	GLOBAL _spr_draw_pow
255   0000              	GLOBAL _spr_tile
256   0000              	GLOBAL _spr_set_fall
257   0000              	GLOBAL _spr_destroy
258   0000              	GLOBAL _spr_check_over
259   0000              	GLOBAL _spr_tile_dir
260   0000              	GLOBAL _spr_anim_kill
261   0000              	GLOBAL _spr_anim_fall
262   0000              	GLOBAL _spr_killed
263   0000              	GLOBAL _spr_redraw
264   0000              	GLOBAL _spr_move_left
265   0000              	GLOBAL _spr_move_right
266   0000              	GLOBAL _spr_move_horizontal
267   0000              	GLOBAL _spr_move_down
268   0000              	GLOBAL _spr_move_up
269   0000              	GLOBAL _spr_chktime
270   0000              	GLOBAL _sound_hit_pow
271   0000              	GLOBAL _sound_hit_brick
272   0000              	GLOBAL _sound_hit_enemy
273   0000              	GLOBAL _sound_kill
274   0000              	GLOBAL _sound_enter_enemy
275   0000              	GLOBAL _sound_coin
276   0000              	GLOBAL _sound_jump
277   0000              	GLOBAL _sound_slide
278   0000              	GLOBAL _player_move_horizontal
279   0000              	GLOBAL _player_push_check
280   0000              	GLOBAL _player_push
281   0000              	GLOBAL _player_hit_brick_clear
282   0000              	GLOBAL _player_lost_life
283   0000              	GLOBAL _player_score_add
284   0000              	GLOBAL _player_coin
285   0000              	GLOBAL _player_hit_pow
286   0000              	GLOBAL _player_hit_brick
287   0000              	GLOBAL _player_move_input
288   0000              	GLOBAL _player_turn
289   0000              	GLOBAL _player_move
290   0000              	GLOBAL _player_restart
291   0000              	GLOBAL _player_kill
292   0000              	GLOBAL _player_check_input
293   0000              	GLOBAL _player_collision_check
294   0000              	GLOBAL _player_collision
295   0000              	GLOBAL _player_calc_slide
296   0000              	GLOBAL _player_init
297   0000              	GLOBAL _player_set2
298   0000              	GLOBAL _player_set1
299   0000              	GLOBAL _game_fill_row
300   0000              	GLOBAL _enemy_ugly_fix
301   0000              	GLOBAL _enemy_kill
302   0000              	GLOBAL _enemy_init
303   0000              	GLOBAL _enemy_walk
304   0000              	GLOBAL _enemy_upgrade
305   0000              	GLOBAL _enemy_evolve
306   0000              	GLOBAL _enemy_standard_hit
307   0000              	GLOBAL _enemy_trip
308   0000              	GLOBAL _enemy_fighterfly
309   0000              	GLOBAL _enemy_fireball_green
310   0000              	GLOBAL _enemy_fireball_red
311   0000              	GLOBAL _enemy_slipice
312   0000              	GLOBAL _enemy_standard
313   0000              	GLOBAL _enemy_turn
314   0000              	GLOBAL _enemy_flip_sidestepper
315   0000              	GLOBAL _enemy_flip
316   0000              	GLOBAL _enemy_flip_change_dir
317   0000              	GLOBAL _enemy_hit
318   0000              	GLOBAL _enemy_collision_check
319   0000              	GLOBAL _enemy_collision
320   0000              	GLOBAL _enemy_coin1
321   0000              	GLOBAL _ay_fx_play
322   0000              	GLOBAL _ay_midi_play
323   0000              	GLOBAL _ay_is_playing
324   0000              	GLOBAL _ay_reset
325   0000              	GLOBAL _test_func
326   0000              	GLOBAL _in_mouse_kempston_wheel_delta
327   0000              	GLOBAL _in_mouse_kempston_wheel
328   0000              	GLOBAL _in_mouse_kempston_callee
329   0000              	GLOBAL _in_mouse_kempston
330   0000              	GLOBAL _in_mouse_kempston_setpos_callee
331   0000              	GLOBAL _in_mouse_kempston_setpos
332   0000              	GLOBAL _in_mouse_kempston_reset
333   0000              	GLOBAL _in_mouse_kempston_init
334   0000              	GLOBAL _in_mouse_amx_wheel_delta
335   0000              	GLOBAL _in_mouse_amx_wheel
336   0000              	GLOBAL _in_mouse_amx_callee
337   0000              	GLOBAL _in_mouse_amx
338   0000              	GLOBAL _in_mouse_amx_setpos_callee
339   0000              	GLOBAL _in_mouse_amx_setpos
340   0000              	GLOBAL _in_mouse_amx_reset
341   0000              	GLOBAL _in_mouse_amx_init_callee
342   0000              	GLOBAL _in_mouse_amx_init
343   0000              	GLOBAL _in_stick_sinclair2
344   0000              	GLOBAL _in_stick_sinclair1
345   0000              	GLOBAL _in_stick_kempston
346   0000              	GLOBAL _in_stick_fuller
347   0000              	GLOBAL _in_stick_cursor
348   0000              	GLOBAL _in_stick_keyboard_fastcall
349   0000              	GLOBAL _in_stick_keyboard
350   0000              	GLOBAL _in_wait_nokey
351   0000              	GLOBAL _in_wait_key
352   0000              	GLOBAL _in_test_key
353   0000              	GLOBAL _in_pause_fastcall
354   0000              	GLOBAL _in_pause
355   0000              	GLOBAL _in_key_scancode_fastcall
356   0000              	GLOBAL _in_key_scancode
357   0000              	GLOBAL _in_key_pressed_fastcall
358   0000              	GLOBAL _in_key_pressed
359   0000              	GLOBAL _in_inkey
360   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
361   0000              	GLOBAL _NIRVANAP_drawTW_raw
362   0000              	GLOBAL _NIRVANAP_drawTW_callee
363   0000              	GLOBAL _NIRVANAP_drawTW
364   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawW_raw
366   0000              	GLOBAL _NIRVANAP_drawW_callee
367   0000              	GLOBAL _NIRVANAP_drawW
368   0000              	GLOBAL _NIRVANAP_spriteT_callee
369   0000              	GLOBAL _NIRVANAP_spriteT
370   0000              	GLOBAL _NIRVANAP_fillC_callee
371   0000              	GLOBAL _NIRVANAP_fillC
372   0000              	GLOBAL _NIRVANAP_readC_callee
373   0000              	GLOBAL _NIRVANAP_readC
374   0000              	GLOBAL _NIRVANAP_paintC_callee
375   0000              	GLOBAL _NIRVANAP_paintC
376   0000              	GLOBAL _NIRVANAP_printC_callee
377   0000              	GLOBAL _NIRVANAP_printC
378   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
379   0000              	GLOBAL _NIRVANAP_fillT_raw
380   0000              	GLOBAL _NIRVANAP_fillT_callee
381   0000              	GLOBAL _NIRVANAP_fillT
382   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
383   0000              	GLOBAL _NIRVANAP_drawT_raw
384   0000              	GLOBAL _NIRVANAP_drawT_callee
385   0000              	GLOBAL _NIRVANAP_drawT
386   0000              	GLOBAL _NIRVANAP_stop
387   0000              	GLOBAL _NIRVANAP_start
388   0000              	GLOBAL _z80_otdr_callee
389   0000              	GLOBAL _z80_otdr
390   0000              	GLOBAL _z80_otir_callee
391   0000              	GLOBAL _z80_otir
392   0000              	GLOBAL _z80_outp_callee
393   0000              	GLOBAL _z80_outp
394   0000              	GLOBAL _z80_indr_callee
395   0000              	GLOBAL _z80_indr
396   0000              	GLOBAL _z80_inir_callee
397   0000              	GLOBAL _z80_inir
398   0000              	GLOBAL _z80_inp_fastcall
399   0000              	GLOBAL _z80_inp
400   0000              	GLOBAL _z80_set_int_state_fastcall
401   0000              	GLOBAL _z80_set_int_state
402   0000              	GLOBAL _z80_get_int_state
403   0000              	GLOBAL _z80_delay_tstate_fastcall
404   0000              	GLOBAL _z80_delay_tstate
405   0000              	GLOBAL _z80_delay_ms_fastcall
406   0000              	GLOBAL _z80_delay_ms
407   0000              	GLOBAL _im2_remove_generic_callback_callee
408   0000              	GLOBAL _im2_remove_generic_callback
409   0000              	GLOBAL _im2_prepend_generic_callback_callee
410   0000              	GLOBAL _im2_prepend_generic_callback
411   0000              	GLOBAL _im2_append_generic_callback_callee
412   0000              	GLOBAL _im2_append_generic_callback
413   0000              	GLOBAL _im2_create_generic_isr_8080_callee
414   0000              	GLOBAL _im2_create_generic_isr_8080
415   0000              	GLOBAL _im2_create_generic_isr_callee
416   0000              	GLOBAL _im2_create_generic_isr
417   0000              	GLOBAL _im2_install_isr_callee
418   0000              	GLOBAL _im2_install_isr
419   0000              	GLOBAL _im2_init_fastcall
420   0000              	GLOBAL _im2_init
421   0000              	GLOBAL _ffsll_callee
422   0000              	GLOBAL _ffsll
423   0000              	GLOBAL _strxfrm_callee
424   0000              	GLOBAL _strxfrm
425   0000              	GLOBAL _strupr_fastcall
426   0000              	GLOBAL _strupr
427   0000              	GLOBAL _strtok_r_callee
428   0000              	GLOBAL _strtok_r
429   0000              	GLOBAL _strtok_callee
430   0000              	GLOBAL _strtok
431   0000              	GLOBAL _strstrip_fastcall
432   0000              	GLOBAL _strstrip
433   0000              	GLOBAL _strstr_callee
434   0000              	GLOBAL _strstr
435   0000              	GLOBAL _strspn_callee
436   0000              	GLOBAL _strspn
437   0000              	GLOBAL _strsep_callee
438   0000              	GLOBAL _strsep
439   0000              	GLOBAL _strrstrip_fastcall
440   0000              	GLOBAL _strrstrip
441   0000              	GLOBAL _strrspn_callee
442   0000              	GLOBAL _strrspn
443   0000              	GLOBAL _strrev_fastcall
444   0000              	GLOBAL _strrev
445   0000              	GLOBAL _strrcspn_callee
446   0000              	GLOBAL _strrcspn
447   0000              	GLOBAL _strrchr_callee
448   0000              	GLOBAL _strrchr
449   0000              	GLOBAL _strpbrk_callee
450   0000              	GLOBAL _strpbrk
451   0000              	GLOBAL _strnlen_callee
452   0000              	GLOBAL _strnlen
453   0000              	GLOBAL _strnicmp_callee
454   0000              	GLOBAL _strnicmp
455   0000              	GLOBAL _strndup_callee
456   0000              	GLOBAL _strndup
457   0000              	GLOBAL _strncpy_callee
458   0000              	GLOBAL _strncpy
459   0000              	GLOBAL _strncmp_callee
460   0000              	GLOBAL _strncmp
461   0000              	GLOBAL _strnchr_callee
462   0000              	GLOBAL _strnchr
463   0000              	GLOBAL _strncat_callee
464   0000              	GLOBAL _strncat
465   0000              	GLOBAL _strncasecmp_callee
466   0000              	GLOBAL _strncasecmp
467   0000              	GLOBAL _strlwr_fastcall
468   0000              	GLOBAL _strlwr
469   0000              	GLOBAL _strlen_fastcall
470   0000              	GLOBAL _strlen
471   0000              	GLOBAL _strlcpy_callee
472   0000              	GLOBAL _strlcpy
473   0000              	GLOBAL _strlcat_callee
474   0000              	GLOBAL _strlcat
475   0000              	GLOBAL _stricmp_callee
476   0000              	GLOBAL _stricmp
477   0000              	GLOBAL _strerror_fastcall
478   0000              	GLOBAL _strerror
479   0000              	GLOBAL _strdup_fastcall
480   0000              	GLOBAL _strdup
481   0000              	GLOBAL _strcspn_callee
482   0000              	GLOBAL _strcspn
483   0000              	GLOBAL _strcpy_callee
484   0000              	GLOBAL _strcpy
485   0000              	GLOBAL _strcoll_callee
486   0000              	GLOBAL _strcoll
487   0000              	GLOBAL _strcmp_callee
488   0000              	GLOBAL _strcmp
489   0000              	GLOBAL _strchrnul_callee
490   0000              	GLOBAL _strchrnul
491   0000              	GLOBAL _strchr_callee
492   0000              	GLOBAL _strchr
493   0000              	GLOBAL _strcat_callee
494   0000              	GLOBAL _strcat
495   0000              	GLOBAL _strcasecmp_callee
496   0000              	GLOBAL _strcasecmp
497   0000              	GLOBAL _stpncpy_callee
498   0000              	GLOBAL _stpncpy
499   0000              	GLOBAL _stpcpy_callee
500   0000              	GLOBAL _stpcpy
501   0000              	GLOBAL _memswap_callee
502   0000              	GLOBAL _memswap
503   0000              	GLOBAL _memset_callee
504   0000              	GLOBAL _memset
505   0000              	GLOBAL _memrchr_callee
506   0000              	GLOBAL _memrchr
507   0000              	GLOBAL _memmove_callee
508   0000              	GLOBAL _memmove
509   0000              	GLOBAL _memmem_callee
510   0000              	GLOBAL _memmem
511   0000              	GLOBAL _memcpy_callee
512   0000              	GLOBAL _memcpy
513   0000              	GLOBAL _memcmp_callee
514   0000              	GLOBAL _memcmp
515   0000              	GLOBAL _memchr_callee
516   0000              	GLOBAL _memchr
517   0000              	GLOBAL _memccpy_callee
518   0000              	GLOBAL _memccpy
519   0000              	GLOBAL _ffsl_fastcall
520   0000              	GLOBAL _ffsl
521   0000              	GLOBAL _ffs_fastcall
522   0000              	GLOBAL _ffs
523   0000              	GLOBAL __strrstrip__fastcall
524   0000              	GLOBAL __strrstrip_
525   0000              	GLOBAL __memupr__callee
526   0000              	GLOBAL __memupr_
527   0000              	GLOBAL __memstrcpy__callee
528   0000              	GLOBAL __memstrcpy_
529   0000              	GLOBAL __memlwr__callee
530   0000              	GLOBAL __memlwr_
531   0000              	GLOBAL _rawmemchr_callee
532   0000              	GLOBAL _rawmemchr
533   0000              	GLOBAL _strnset_callee
534   0000              	GLOBAL _strnset
535   0000              	GLOBAL _strset_callee
536   0000              	GLOBAL _strset
537   0000              	GLOBAL _rindex_callee
538   0000              	GLOBAL _rindex
539   0000              	GLOBAL _index_callee
540   0000              	GLOBAL _index
541   0000              	GLOBAL _bzero_callee
542   0000              	GLOBAL _bzero
543   0000              	GLOBAL _bcopy_callee
544   0000              	GLOBAL _bcopy
545   0000              	GLOBAL _bcmp_callee
546   0000              	GLOBAL _bcmp
547   0000              	GLOBAL _ulltoa_callee
548   0000              	GLOBAL _ulltoa
549   0000              	GLOBAL _strtoull_callee
550   0000              	GLOBAL _strtoull
551   0000              	GLOBAL _strtoll_callee
552   0000              	GLOBAL _strtoll
553   0000              	GLOBAL _lltoa_callee
554   0000              	GLOBAL _lltoa
555   0000              	GLOBAL _llabs_callee
556   0000              	GLOBAL _llabs
557   0000              	GLOBAL __lldivu__callee
558   0000              	GLOBAL __lldivu_
559   0000              	GLOBAL __lldiv__callee
560   0000              	GLOBAL __lldiv_
561   0000              	GLOBAL _atoll_callee
562   0000              	GLOBAL _atoll
563   0000              	GLOBAL _realloc_unlocked_callee
564   0000              	GLOBAL _realloc_unlocked
565   0000              	GLOBAL _malloc_unlocked_fastcall
566   0000              	GLOBAL _malloc_unlocked
567   0000              	GLOBAL _free_unlocked_fastcall
568   0000              	GLOBAL _free_unlocked
569   0000              	GLOBAL _calloc_unlocked_callee
570   0000              	GLOBAL _calloc_unlocked
571   0000              	GLOBAL _aligned_alloc_unlocked_callee
572   0000              	GLOBAL _aligned_alloc_unlocked
573   0000              	GLOBAL _realloc_callee
574   0000              	GLOBAL _realloc
575   0000              	GLOBAL _malloc_fastcall
576   0000              	GLOBAL _malloc
577   0000              	GLOBAL _free_fastcall
578   0000              	GLOBAL _free
579   0000              	GLOBAL _calloc_callee
580   0000              	GLOBAL _calloc
581   0000              	GLOBAL _aligned_alloc_callee
582   0000              	GLOBAL _aligned_alloc
583   0000              	GLOBAL _utoa_callee
584   0000              	GLOBAL _utoa
585   0000              	GLOBAL _ultoa_callee
586   0000              	GLOBAL _ultoa
587   0000              	GLOBAL _system_fastcall
588   0000              	GLOBAL _system
589   0000              	GLOBAL _strtoul_callee
590   0000              	GLOBAL _strtoul
591   0000              	GLOBAL _strtol_callee
592   0000              	GLOBAL _strtol
593   0000              	GLOBAL _strtof_callee
594   0000              	GLOBAL _strtof
595   0000              	GLOBAL _strtod_callee
596   0000              	GLOBAL _strtod
597   0000              	GLOBAL _srand_fastcall
598   0000              	GLOBAL _srand
599   0000              	GLOBAL _rand
600   0000              	GLOBAL _quick_exit_fastcall
601   0000              	GLOBAL _quick_exit
602   0000              	GLOBAL _qsort_callee
603   0000              	GLOBAL _qsort
604   0000              	GLOBAL _ltoa_callee
605   0000              	GLOBAL _ltoa
606   0000              	GLOBAL _labs_fastcall
607   0000              	GLOBAL _labs
608   0000              	GLOBAL _itoa_callee
609   0000              	GLOBAL _itoa
610   0000              	GLOBAL _ftoh_callee
611   0000              	GLOBAL _ftoh
612   0000              	GLOBAL _ftog_callee
613   0000              	GLOBAL _ftog
614   0000              	GLOBAL _ftoe_callee
615   0000              	GLOBAL _ftoe
616   0000              	GLOBAL _ftoa_callee
617   0000              	GLOBAL _ftoa
618   0000              	GLOBAL _exit_fastcall
619   0000              	GLOBAL _exit
620   0000              	GLOBAL _dtoh_callee
621   0000              	GLOBAL _dtoh
622   0000              	GLOBAL _dtog_callee
623   0000              	GLOBAL _dtog
624   0000              	GLOBAL _dtoe_callee
625   0000              	GLOBAL _dtoe
626   0000              	GLOBAL _dtoa_callee
627   0000              	GLOBAL _dtoa
628   0000              	GLOBAL _bsearch_callee
629   0000              	GLOBAL _bsearch
630   0000              	GLOBAL _atol_fastcall
631   0000              	GLOBAL _atol
632   0000              	GLOBAL _atoi_fastcall
633   0000              	GLOBAL _atoi
634   0000              	GLOBAL _atof_fastcall
635   0000              	GLOBAL _atof
636   0000              	GLOBAL _atexit_fastcall
637   0000              	GLOBAL _atexit
638   0000              	GLOBAL _at_quick_exit_fastcall
639   0000              	GLOBAL _at_quick_exit
640   0000              	GLOBAL _abs_fastcall
641   0000              	GLOBAL _abs
642   0000              	GLOBAL _abort
643   0000              	GLOBAL __strtou__callee
644   0000              	GLOBAL __strtou_
645   0000              	GLOBAL __strtoi__callee
646   0000              	GLOBAL __strtoi_
647   0000              	GLOBAL __random_uniform_xor_8__fastcall
648   0000              	GLOBAL __random_uniform_xor_8_
649   0000              	GLOBAL __random_uniform_xor_32__fastcall
650   0000              	GLOBAL __random_uniform_xor_32_
651   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
652   0000              	GLOBAL __random_uniform_cmwc_8_
653   0000              	GLOBAL __shellsort__callee
654   0000              	GLOBAL __shellsort_
655   0000              	GLOBAL __quicksort__callee
656   0000              	GLOBAL __quicksort_
657   0000              	GLOBAL __insertion_sort__callee
658   0000              	GLOBAL __insertion_sort_
659   0000              	GLOBAL __ldivu__callee
660   0000              	GLOBAL __ldivu_
661   0000              	GLOBAL __ldiv__callee
662   0000              	GLOBAL __ldiv_
663   0000              	GLOBAL __divu__callee
664   0000              	GLOBAL __divu_
665   0000              	GLOBAL __div__callee
666   0000              	GLOBAL __div_
667   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
668   0000              	GLOBAL _intrinsic_swap_word_32
669   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
670   0000              	GLOBAL _intrinsic_swap_endian_32
671   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
672   0000              	GLOBAL _intrinsic_swap_endian_16
673   0000              	GLOBAL _intrinsic_return_de
674   0000              	GLOBAL _intrinsic_return_bc
675   0000              	GLOBAL _intrinsic_exx
676   0000              	GLOBAL _intrinsic_ex_de_hl
677   0000              	GLOBAL _intrinsic_pop_iy
678   0000              	GLOBAL _intrinsic_pop_ix
679   0000              	GLOBAL _intrinsic_pop_hl
680   0000              	GLOBAL _intrinsic_pop_de
681   0000              	GLOBAL _intrinsic_pop_bc
682   0000              	GLOBAL _intrinsic_pop_af
683   0000              	GLOBAL _intrinsic_push_iy
684   0000              	GLOBAL _intrinsic_push_ix
685   0000              	GLOBAL _intrinsic_push_hl
686   0000              	GLOBAL _intrinsic_push_de
687   0000              	GLOBAL _intrinsic_push_bc
688   0000              	GLOBAL _intrinsic_push_af
689   0000              	GLOBAL _intrinsic_nop
690   0000              	GLOBAL _intrinsic_im_2
691   0000              	GLOBAL _intrinsic_im_1
692   0000              	GLOBAL _intrinsic_im_0
693   0000              	GLOBAL _intrinsic_retn
694   0000              	GLOBAL _intrinsic_reti
695   0000              	GLOBAL _intrinsic_halt
696   0000              	GLOBAL _intrinsic_ei
697   0000              	GLOBAL _intrinsic_di
698   0000              	GLOBAL _intrinsic_stub
699   0000              	GLOBAL _zx_pattern_fill_callee
700   0000              	GLOBAL _zx_pattern_fill
701   0000              	GLOBAL _zx_saddrpup_fastcall
702   0000              	GLOBAL _zx_saddrpup
703   0000              	GLOBAL _zx_saddrpright_callee
704   0000              	GLOBAL _zx_saddrpright
705   0000              	GLOBAL _zx_saddrpleft_callee
706   0000              	GLOBAL _zx_saddrpleft
707   0000              	GLOBAL _zx_saddrpdown_fastcall
708   0000              	GLOBAL _zx_saddrpdown
709   0000              	GLOBAL _zx_saddrcup_fastcall
710   0000              	GLOBAL _zx_saddrcup
711   0000              	GLOBAL _zx_saddrcright_fastcall
712   0000              	GLOBAL _zx_saddrcright
713   0000              	GLOBAL _zx_saddrcleft_fastcall
714   0000              	GLOBAL _zx_saddrcleft
715   0000              	GLOBAL _zx_saddrcdown_fastcall
716   0000              	GLOBAL _zx_saddrcdown
717   0000              	GLOBAL _zx_saddr2py_fastcall
718   0000              	GLOBAL _zx_saddr2py
719   0000              	GLOBAL _zx_saddr2px_fastcall
720   0000              	GLOBAL _zx_saddr2px
721   0000              	GLOBAL _zx_saddr2cy_fastcall
722   0000              	GLOBAL _zx_saddr2cy
723   0000              	GLOBAL _zx_saddr2cx_fastcall
724   0000              	GLOBAL _zx_saddr2cx
725   0000              	GLOBAL _zx_saddr2aaddr_fastcall
726   0000              	GLOBAL _zx_saddr2aaddr
727   0000              	GLOBAL _zx_py2saddr_fastcall
728   0000              	GLOBAL _zx_py2saddr
729   0000              	GLOBAL _zx_py2aaddr_fastcall
730   0000              	GLOBAL _zx_py2aaddr
731   0000              	GLOBAL _zx_pxy2saddr_callee
732   0000              	GLOBAL _zx_pxy2saddr
733   0000              	GLOBAL _zx_pxy2aaddr_callee
734   0000              	GLOBAL _zx_pxy2aaddr
735   0000              	GLOBAL _zx_px2bitmask_fastcall
736   0000              	GLOBAL _zx_px2bitmask
737   0000              	GLOBAL _zx_cyx2saddr_callee
738   0000              	GLOBAL _zx_cyx2saddr
739   0000              	GLOBAL _zx_cyx2aaddr_callee
740   0000              	GLOBAL _zx_cyx2aaddr
741   0000              	GLOBAL _zx_cy2saddr_fastcall
742   0000              	GLOBAL _zx_cy2saddr
743   0000              	GLOBAL _zx_cy2aaddr_fastcall
744   0000              	GLOBAL _zx_cy2aaddr
745   0000              	GLOBAL _zx_bitmask2px_fastcall
746   0000              	GLOBAL _zx_bitmask2px
747   0000              	GLOBAL _zx_aaddrcup_fastcall
748   0000              	GLOBAL _zx_aaddrcup
749   0000              	GLOBAL _zx_aaddrcright_fastcall
750   0000              	GLOBAL _zx_aaddrcright
751   0000              	GLOBAL _zx_aaddrcleft_fastcall
752   0000              	GLOBAL _zx_aaddrcleft
753   0000              	GLOBAL _zx_aaddrcdown_fastcall
754   0000              	GLOBAL _zx_aaddrcdown
755   0000              	GLOBAL _zx_aaddr2saddr_fastcall
756   0000              	GLOBAL _zx_aaddr2saddr
757   0000              	GLOBAL _zx_aaddr2py_fastcall
758   0000              	GLOBAL _zx_aaddr2py
759   0000              	GLOBAL _zx_aaddr2px_fastcall
760   0000              	GLOBAL _zx_aaddr2px
761   0000              	GLOBAL _zx_aaddr2cy_fastcall
762   0000              	GLOBAL _zx_aaddr2cy
763   0000              	GLOBAL _zx_aaddr2cx_fastcall
764   0000              	GLOBAL _zx_aaddr2cx
765   0000              	GLOBAL _zx_scroll_wc_up_callee
766   0000              	GLOBAL _zx_scroll_wc_up
767   0000              	GLOBAL _zx_scroll_up_callee
768   0000              	GLOBAL _zx_scroll_up
769   0000              	GLOBAL _zx_cls_wc_callee
770   0000              	GLOBAL _zx_cls_wc
771   0000              	GLOBAL _zx_cls_fastcall
772   0000              	GLOBAL _zx_cls
773   0000              	GLOBAL _zx_border_fastcall
774   0000              	GLOBAL _zx_border
775   0000              	GLOBAL _ay_effect_20
776   0000              	GLOBAL _ay_effect_19
777   0000              	GLOBAL _ay_effect_18
778   0000              	GLOBAL _ay_effect_17
779   0000              	GLOBAL _ay_effect_16
780   0000              	GLOBAL _ay_effect_15
781   0000              	GLOBAL _ay_effect_14
782   0000              	GLOBAL _ay_effect_13
783   0000              	GLOBAL _ay_effect_12
784   0000              	GLOBAL _ay_effect_11
785   0000              	GLOBAL _ay_effect_10
786   0000              	GLOBAL _ay_effect_09
787   0000              	GLOBAL _ay_effect_08
788   0000              	GLOBAL _ay_effect_07
789   0000              	GLOBAL _ay_effect_06
790   0000              	GLOBAL _ay_effect_05
791   0000              	GLOBAL _ay_effect_04
792   0000              	GLOBAL _ay_effect_03
793   0000              	GLOBAL _ay_effect_02
794   0000              	GLOBAL _ay_effect_01
795   0000              	GLOBAL _pb_midi_phase_1
796   0000              	GLOBAL _pb_midi_title
797   0000              	GLOBAL _joynames
798   0000              	GLOBAL _initials
799   0000              	GLOBAL _hof
800   0000              	GLOBAL _score_osd_tile
801   0000              	GLOBAL _score_osd_time
802   0000              	GLOBAL _score_osd_col
803   0000              	GLOBAL _score_osd_lin
804   0000              	GLOBAL _phase_bonus_total
805   0000              	GLOBAL _phase_angry
806   0000              	GLOBAL _phase_curr
807   0000              	GLOBAL _phase_end
808   0000              	GLOBAL _phase_coins
809   0000              	GLOBAL _phase_pop
810   0000              	GLOBAL _phase_tot
811   0000              	GLOBAL _phase_left
812   0000              	GLOBAL _phase_quota
813   0000              	GLOBAL _phases
814   0000              	GLOBAL _spr_idx
815   0000              	GLOBAL _lvl_1
816   0000              	GLOBAL _sprite_speed_alt
817   0000              	GLOBAL _sprite_speed
818   0000              	GLOBAL _screen_ink
819   0000              	GLOBAL _screen_paper
820   0000              	GLOBAL _game_menu_sel
821   0000              	GLOBAL _game_type
822   0000              	GLOBAL _game_osd
823   0000              	GLOBAL _game_bonus
824   0000              	GLOBAL _spr_water_time
825   0000              	GLOBAL _spr_water_clear
826   0000              	GLOBAL _game_time_fireball_start
827   0000              	GLOBAL _game_time_flipped
828   0000              	GLOBAL _game_score_top
829   0000              	GLOBAL _game_lives
830   0000              	GLOBAL _game_over
831   0000              	GLOBAL _game_sound
832   0000              	GLOBAL _game_inmune
833   0000              	GLOBAL _game_god_mode
834   0000              	GLOBAL _game_start_phase
835   0000              	GLOBAL _game_two_player
836   0000              	GLOBAL _game_brick_tile
837   0000              	GLOBAL _game_pow
838   0000              	GLOBAL _spr_count
839   0000              	GLOBAL _osd_time
840   0000              	GLOBAL _frame_time
841   0000              	GLOBAL _entry_time
842   0000              	GLOBAL _curr_time
843   0000              	GLOBAL _s_state
844   0000              	GLOBAL _attrib_hl
845   0000              	GLOBAL _attrib
846   0000              	GLOBAL _zx_val_asm
847   0000              	GLOBAL _enemies
848   0000              	GLOBAL _tmp_ui
849   0000              	GLOBAL _tmp_sc
850   0000              	GLOBAL _tmp_uc
851   0000              	GLOBAL _tmp1
852   0000              	GLOBAL _tmp0
853   0000              	GLOBAL _tmp
854   0000              	GLOBAL _index_d
855   0000              	GLOBAL _index3
856   0000              	GLOBAL _index2
857   0000              	GLOBAL _index1
858   0000              	GLOBAL _loop_count
859   0000              	GLOBAL _sprite_lin_inc_mul
860   0000              	GLOBAL _s_col1
861   0000              	GLOBAL _s_col0
862   0000              	GLOBAL _s_lin1
863   0000              	GLOBAL _s_lin0
864   0000              	GLOBAL _s_tile1
865   0000              	GLOBAL _s_tile0
866   0000              	GLOBAL _hit_count
867   0000              	GLOBAL _tile_offset_other_player
868   0000              	GLOBAL _tile_offset
869   0000              	GLOBAL _index_player
870   0000              	GLOBAL _sprite_other_player
871   0000              	GLOBAL _sprite
872   0000              	GLOBAL _player_joy
873   0000              	GLOBAL _player_next_extra
874   0000              	GLOBAL _player_score
875   0000              	GLOBAL _last_time
876   0000              	GLOBAL _sliding
877   0000              	GLOBAL _spr_timer_c
878   0000              	GLOBAL _spr_timer
879   0000              	GLOBAL _jump_lin
880   0000              	GLOBAL _player_jump_c
881   0000              	GLOBAL _hit_col
882   0000              	GLOBAL _hit_lin
883   0000              	GLOBAL _colint
884   0000              	GLOBAL _col
885   0000              	GLOBAL _lin
886   0000              	GLOBAL _tile
887   0000              	GLOBAL _state_a
888   0000              	GLOBAL _state
889   0000              	GLOBAL _class
890   0000              	GLOBAL _tbuffer
891   0000              	GLOBAL _dirs
892   0000              	GLOBAL _k2
893   0000              	GLOBAL _k1
894   0000              	GLOBAL _joyfunc2
895   0000              	GLOBAL _joyfunc1
896   0000              	GLOBAL _btiles
897   0000              	GLOBAL _spec128
898   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
899   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
900   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
901   0000              	GLOBAL _NIRVANAP_HOLE
902   0000              	GLOBAL _NIRVANAP_ISR_HOOK
903   0000              	GLOBAL _control_method
904   0000              	GLOBAL _hall_valids
905   0000              ;--------------------------------------------------------
906   0000              ; special function registers
907   0000              ;--------------------------------------------------------
908   0000              ;--------------------------------------------------------
909   0000              ; ram data
910   0000              ;--------------------------------------------------------
911   0000              	SECTION bss_compiler
912   0000              ;--------------------------------------------------------
913   0000              ; ram data
914   0000              ;--------------------------------------------------------
915   0000              
916   0000              IF 0
917   0000              
918   0000              ; .area _INITIALIZED removed by z88dk
919   0000              
920   0000              
921   0000              ENDIF
922   0000              
923   0000              ;--------------------------------------------------------
924   0000              ; absolute external ram data
925   0000              ;--------------------------------------------------------
926   0000              	SECTION IGNORE
927   0000              ;--------------------------------------------------------
928   0000              ; global & static initialisations
929   0000              ;--------------------------------------------------------
930   0000              	SECTION code_crt_init
931   0000              ;--------------------------------------------------------
932   0000              ; Home
933   0000              ;--------------------------------------------------------
934   0000              	SECTION IGNORE
935   0000              ;--------------------------------------------------------
936   0000              ; code
937   0000              ;--------------------------------------------------------
938   0000              	SECTION code_compiler
939   0000              ;	---------------------------------
940   0000              ; Function game_calc_index
941   0000              ; ---------------------------------
942   0000              _game_calc_index:
943   0000  CD 00 00    	call	___sdcc_enter_ix
944   0003  DD 4E 05    	ld	c,(ix+5)
945   0006  06 00       	ld	b,0x00
946   0008  DD 7E 04    	ld	a,(ix+4)
947   000B  0F          	rrca
948   000C  0F          	rrca
949   000D  0F          	rrca
950   000E  E6 1F       	and	a,0x1f
951   0010  6F          	ld	l,a
952   0011  26 00       	ld	h,0x00
953   0013  29          	add	hl, hl
954   0014  29          	add	hl, hl
955   0015  29          	add	hl, hl
956   0016  29          	add	hl, hl
957   0017  29          	add	hl, hl
958   0018  09          	add	hl,bc
959   0019  DD E1       	pop	ix
960   001B  C9          	ret
961   001C              	SECTION code_compiler
962   001C              ;	---------------------------------
963   001C              ; Function game_print_footer
964   001C              ; ---------------------------------
965   001C              _game_print_footer:
966   001C  21 00 00    	ld	hl,___str_0
967   001F  E5          	push	hl
968   0020  21 16 01    	ld	hl,0x0116
969   0023  E5          	push	hl
970   0024  CD 00 00    	call	_zx_print_str
971   0027  21 00 00    	ld	hl,___str_0
972   002A  E5          	push	hl
973   002B  21 16 1E    	ld	hl,0x1e16
974   002E  E5          	push	hl
975   002F  CD 00 00    	call	_zx_print_str
976   0032  21 02 00    	ld	hl,___str_1
977   0035  E5          	push	hl
978   0036  21 17 01    	ld	hl,0x0117
979   0039  E5          	push	hl
980   003A  CD 00 00    	call	_zx_print_str
981   003D  21 02 00    	ld	hl,___str_1
982   0040  E5          	push	hl
983   0041  21 17 1E    	ld	hl,0x1e17
984   0044  E5          	push	hl
985   0045  CD 00 00    	call	_zx_print_str
986   0048  3A 00 00    	ld	a,(_game_lives)
987   004B  B7          	or	a, a
988   004C  28 20       	jr	Z,l_game_print_footer_00102
989   004E  21 00 00    	ld	hl,_screen_ink
990   0051  36 02       	ld	(hl),0x02
991   0053  21 08 00    	ld	hl,___str_2
992   0056  E5          	push	hl
993   0057  21 16 01    	ld	hl,0x0116
994   005A  E5          	push	hl
995   005B  CD 00 00    	call	_zx_print_str
996   005E  21 00 00    	ld	hl,_screen_ink
997   0061  36 06       	ld	(hl),0x06
998   0063  21 0A 00    	ld	hl,___str_3
999   0066  E5          	push	hl
1000  0067  21 17 01    	ld	hl,0x0117
1001  006A  E5          	push	hl
1002  006B  CD 00 00    	call	_zx_print_str
1003  006E              l_game_print_footer_00102:
1004  006E  3A 01 00    	ld	a, (_game_lives + 1)
1005  0071  B7          	or	a, a
1006  0072  28 20       	jr	Z,l_game_print_footer_00104
1007  0074  21 00 00    	ld	hl,_screen_ink
1008  0077  36 07       	ld	(hl),0x07
1009  0079  21 0C 00    	ld	hl,___str_4
1010  007C  E5          	push	hl
1011  007D  21 16 1E    	ld	hl,0x1e16
1012  0080  E5          	push	hl
1013  0081  CD 00 00    	call	_zx_print_str
1014  0084  21 00 00    	ld	hl,_screen_ink
1015  0087  36 06       	ld	(hl),0x06
1016  0089  21 0E 00    	ld	hl,___str_5
1017  008C  E5          	push	hl
1018  008D  21 17 1E    	ld	hl,0x1e17
1019  0090  E5          	push	hl
1020  0091  CD 00 00    	call	_zx_print_str
1021  0094              l_game_print_footer_00104:
1022  0094  CD E7 00    	call	_game_print_lives
1023  0097  21 10 00    	ld	hl,___str_6
1024  009A  E5          	push	hl
1025  009B  21 17 0B    	ld	hl,0x0b17
1026  009E  E5          	push	hl
1027  009F  CD 00 00    	call	_zx_print_str
1028  00A2  21 00 00    	ld	hl,_phase_curr
1029  00A5  46          	ld	b,(hl)
1030  00A6  04          	inc	b
1031  00A7  C5          	push	bc
1032  00A8  33          	inc	sp
1033  00A9  21 17 12    	ld	hl,0x1217
1034  00AC  E5          	push	hl
1035  00AD  CD 00 00    	call	_zx_print_chr
1036  00B0  C9          	ret
1037  00B1              	SECTION rodata_compiler
1038  0000              ___str_0:
1039  0000  20          	DEFM " "
1040  0001  00          	DEFB 0x00
1041  0002              	SECTION rodata_compiler
1042  0002              ___str_1:
1043  0002  20 20 20 20 20 
                        	DEFM "     "
1044  0007  00          	DEFB 0x00
1045  0008              	SECTION rodata_compiler
1046  0008              ___str_2:
1047  0008  3C          	DEFM "<"
1048  0009  00          	DEFB 0x00
1049  000A              	SECTION rodata_compiler
1050  000A              ___str_3:
1051  000A  5C          	DEFB 0x5c
1052  000B  00          	DEFB 0x00
1053  000C              	SECTION rodata_compiler
1054  000C              ___str_4:
1055  000C  3E          	DEFM ">"
1056  000D  00          	DEFB 0x00
1057  000E              	SECTION rodata_compiler
1058  000E              ___str_5:
1059  000E  5E          	DEFM "^"
1060  000F  00          	DEFB 0x00
1061  0010              	SECTION rodata_compiler
1062  0010              ___str_6:
1063  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1064  0015  00          	DEFB 0x00
1065  0016              	SECTION code_compiler
1066  00B1              ;	---------------------------------
1067  00B1              ; Function game_phase_print_score_back
1068  00B1              ; ---------------------------------
1069  00B1              _game_phase_print_score_back:
1070  00B1  21 00 00    	ld	hl,_screen_ink
1071  00B4  36 02       	ld	(hl),0x02
1072  00B6  21 16 00    	ld	hl,___str_7
1073  00B9  E5          	push	hl
1074  00BA  21 00 0B    	ld	hl,0x0b00
1075  00BD  E5          	push	hl
1076  00BE  CD 00 00    	call	_zx_print_str
1077  00C1  21 00 00    	ld	hl,_screen_ink
1078  00C4  36 01       	ld	(hl),0x01
1079  00C6  21 1A 00    	ld	hl,___str_8
1080  00C9  E5          	push	hl
1081  00CA  21 00 01    	ld	hl,0x0100
1082  00CD  E5          	push	hl
1083  00CE  CD 00 00    	call	_zx_print_str
1084  00D1  3A 00 00    	ld	a,(_game_two_player)
1085  00D4  B7          	or	a, a
1086  00D5  C8          	ret	Z
1087  00D6  21 00 00    	ld	hl,_screen_ink
1088  00D9  36 04       	ld	(hl),0x04
1089  00DB  21 1D 00    	ld	hl,___str_9
1090  00DE  E5          	push	hl
1091  00DF  21 00 16    	ld	hl,0x1600
1092  00E2  E5          	push	hl
1093  00E3  CD 00 00    	call	_zx_print_str
1094  00E6  C9          	ret
1095  00E7              	SECTION rodata_compiler
1096  0016              ___str_7:
1097  0016  24 25 7C    	DEFM "$%|"
1098  0019  00          	DEFB 0x00
1099  001A              	SECTION rodata_compiler
1100  001A              ___str_8:
1101  001A  5B 7C       	DEFM "[|"
1102  001C  00          	DEFB 0x00
1103  001D              	SECTION rodata_compiler
1104  001D              ___str_9:
1105  001D  5D 7C       	DEFM "]|"
1106  001F  00          	DEFB 0x00
1107  0020              	SECTION code_compiler
1108  00E7              ;	---------------------------------
1109  00E7              ; Function game_print_lives
1110  00E7              ; ---------------------------------
1111  00E7              _game_print_lives:
1112  00E7  21 00 00    	ld	hl,_screen_ink
1113  00EA  36 07       	ld	(hl),0x07
1114  00EC  3A 00 00    	ld	a,(_game_lives)
1115  00EF  C6 FF       	add	a,0xff
1116  00F1  21 00 00    	ld	hl,_tmp
1117  00F4  77          	ld	(hl),a
1118  00F5  D6 FF       	sub	a,0xff
1119  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1120  00F9  7E          	ld	a,(hl)
1121  00FA  F5          	push	af
1122  00FB  33          	inc	sp
1123  00FC  21 17 03    	ld	hl,0x0317
1124  00FF  E5          	push	hl
1125  0100  CD 00 00    	call	_zx_print_chr
1126  0103              l_game_print_lives_00102:
1127  0103  3A 01 00    	ld	a, (_game_lives + 1)
1128  0106  C6 FF       	add	a,0xff
1129  0108  21 00 00    	ld	hl,_tmp
1130  010B  77          	ld	(hl),a
1131  010C  D6 FF       	sub	a,0xff
1132  010E  D0          	ret	NC
1133  010F  7E          	ld	a,(hl)
1134  0110  F5          	push	af
1135  0111  33          	inc	sp
1136  0112  21 17 1A    	ld	hl,0x1a17
1137  0115  E5          	push	hl
1138  0116  CD 00 00    	call	_zx_print_chr
1139  0119  C9          	ret
1140  011A              	SECTION code_compiler
1141  011A              ;	---------------------------------
1142  011A              ; Function game_tick
1143  011A              ; ---------------------------------
1144  011A              _game_tick:
1145  011A  21 00 00    	ld	hl,_curr_time
1146  011D  34          	inc	(hl)
1147  011E  C2 00 00    	jp	NZ,_zx_isr
1148  0121  23          	inc	hl
1149  0122  34          	inc	(hl)
1150  0123  C3 00 00    	jp  _zx_isr
1151  0126              	SECTION code_compiler
1152  0126              ;	---------------------------------
1153  0126              ; Function game_start_timer
1154  0126              ; ---------------------------------
1155  0126              _game_start_timer:
1156  0126  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1157  0129  3E CD       	ld	a,0xcd
1158  012B  02          	ld	(bc),a
1159  012C  03          	inc	bc
1160  012D  11 1A 01    	ld	de,_game_tick
1161  0130  7B          	ld	a,e
1162  0131  02          	ld	(bc),a
1163  0132  03          	inc	bc
1164  0133  7A          	ld	a,d
1165  0134  02          	ld	(bc),a
1166  0135  C9          	ret
1167  0136              	SECTION code_compiler
1168  0136              ;	---------------------------------
1169  0136              ; Function game_phase_calc
1170  0136              ; ---------------------------------
1171  0136              _game_phase_calc:
1172  0136  3A 00 00    	ld	a,(_phase_curr)
1173  0139  87          	add	a, a
1174  013A  87          	add	a, a
1175  013B  21 00 00    	ld	hl,_tmp_uc
1176  013E  77          	ld	(hl),a
1177  013F  01 00 00    	ld	bc,_phases+0
1178  0142  5E          	ld	e,(hl)
1179  0143  16 00       	ld	d,0x00
1180  0145  69          	ld	l, c
1181  0146  60          	ld	h, b
1182  0147  19          	add	hl,de
1183  0148  7E          	ld	a,(hl)
1184  0149  32 00 00    	ld	(_phase_quota),a
1185  014C  2A 00 00    	ld	hl,(_tmp_uc)
1186  014F  26 00       	ld	h,0x00
1187  0151  23          	inc	hl
1188  0152  09          	add	hl,bc
1189  0153  7E          	ld	a,(hl)
1190  0154  32 01 00    	ld	((_phase_quota + 0x0001)),a
1191  0157  2A 00 00    	ld	hl,(_tmp_uc)
1192  015A  26 00       	ld	h,0x00
1193  015C  23          	inc	hl
1194  015D  23          	inc	hl
1195  015E  09          	add	hl,bc
1196  015F  7E          	ld	a,(hl)
1197  0160  32 02 00    	ld	((_phase_quota + 0x0002)),a
1198  0163  2A 00 00    	ld	hl,(_tmp_uc)
1199  0166  26 00       	ld	h,0x00
1200  0168  23          	inc	hl
1201  0169  23          	inc	hl
1202  016A  23          	inc	hl
1203  016B  09          	add	hl,bc
1204  016C  7E          	ld	a,(hl)
1205  016D  32 00 00    	ld	(_game_brick_tile),a
1206  0170  21 00 00    	ld	hl,_game_brick_tile
1207  0173  4E          	ld	c,(hl)
1208  0174  06 00       	ld	b,0x00
1209  0176  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1210  017A  7E          	ld	a,(hl)
1211  017B  D6 8B       	sub	a,0x8b
1212  017D  20 05       	jr	NZ,l_game_phase_calc_00102
1213  017F  CD 5A 0C    	call	_game_freeze_all
1214  0182  18 03       	jr	l_game_phase_calc_00103
1215  0184              l_game_phase_calc_00102:
1216  0184  CD 31 0C    	call	_game_unfreeze_all
1217  0187              l_game_phase_calc_00103:
1218  0187  21 00 00    	ld	hl,_phase_quota
1219  018A  4E          	ld	c,(hl)
1220  018B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1221  018E  46          	ld	b,(hl)
1222  018F  79          	ld	a,c
1223  0190  80          	add	a, b
1224  0191  4F          	ld	c,a
1225  0192  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1226  0195  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1227  0197  09          	add	hl, bc
1228  0198  C9          	ret
1229  0199              	SECTION code_compiler
1230  0199              ;	---------------------------------
1231  0199              ; Function game_phase_init
1232  0199              ; ---------------------------------
1233  0199              _game_phase_init:
1234  0199  21 00 00    	ld	hl,0x0000
1235  019C  22 00 00    	ld	(_loop_count),hl
1236  019F  21 00 00    	ld	hl,_phase_end
1237  01A2  36 00       	ld	(hl),0x00
1238  01A4  21 00 00    	ld	hl,_phase_angry
1239  01A7  36 00       	ld	(hl),0x00
1240  01A9  21 00 00    	ld	hl,_phase_coins
1241  01AC  36 00       	ld	(hl),0x00
1242  01AE  21 00 00    	ld	hl,_phase_pop
1243  01B1  36 00       	ld	(hl),0x00
1244  01B3  21 00 00    	ld	hl,_game_bonus
1245  01B6  36 00       	ld	(hl),0x00
1246  01B8  21 00 00    	ld	hl,0x0000
1247  01BB  22 00 00    	ld	(_entry_time),hl
1248  01BE  21 00 00    	ld	hl,0
1249  01C1  22 00 00    	ld	(_curr_time),hl
1250  01C4  21 00 00    	ld	hl,0x0000
1251  01C7  22 00 00    	ld	(_frame_time),hl
1252  01CA  21 FF FF    	ld	hl,0xffff
1253  01CD  22 00 00    	ld	(_score_osd_col),hl
1254  01D0  21 00 00    	ld	hl,_spr_count
1255  01D3  36 00       	ld	(hl),0x00
1256  01D5  3A 00 00    	ld	a,(_game_type)
1257  01D8  D6 02       	sub	a,0x02
1258  01DA  CA 66 02    	jp	Z,l_game_phase_init_00104
1259  01DD  CD 36 01    	call	_game_phase_calc
1260  01E0  7D          	ld	a,l
1261  01E1  32 00 00    	ld	(_phase_left),a
1262  01E4  32 00 00    	ld	(_phase_tot),a
1263  01E7  21 00 00    	ld	hl,_phase_left
1264  01EA  7E          	ld	a,(hl)
1265  01EB  B7          	or	a, a
1266  01EC  C2 7E 02    	jp	NZ,l_game_phase_init_00105
1267  01EF  01 00 00    	ld	bc,_phase_bonus_total+0
1268  01F2  AF          	xor	a, a
1269  01F3  02          	ld	(bc),a
1270  01F4  03          	inc	bc
1271  01F5  AF          	xor	a, a
1272  01F6  02          	ld	(bc),a
1273  01F7  36 06       	ld	(hl),0x06
1274  01F9  21 00 00    	ld	hl,_game_bonus
1275  01FC  36 01       	ld	(hl),0x01
1276  01FE  21 0C 00    	ld	hl,0x000c
1277  0201  E5          	push	hl
1278  0202  21 90 08    	ld	hl,0x0890
1279  0205  E5          	push	hl
1280  0206  AF          	xor	a, a
1281  0207  F5          	push	af
1282  0208  33          	inc	sp
1283  0209  CD 00 00    	call	_enemy_init
1284  020C  F1          	pop	af
1285  020D  33          	inc	sp
1286  020E  21 0C 00    	ld	hl,0x000c
1287  0211  E3          	ex	(sp),hl
1288  0212  21 90 16    	ld	hl,0x1690
1289  0215  E5          	push	hl
1290  0216  3E 01       	ld	a,0x01
1291  0218  F5          	push	af
1292  0219  33          	inc	sp
1293  021A  CD 00 00    	call	_enemy_init
1294  021D  F1          	pop	af
1295  021E  33          	inc	sp
1296  021F  21 0C 00    	ld	hl,0x000c
1297  0222  E3          	ex	(sp),hl
1298  0223  21 50 06    	ld	hl,0x0650
1299  0226  E5          	push	hl
1300  0227  3E 02       	ld	a,0x02
1301  0229  F5          	push	af
1302  022A  33          	inc	sp
1303  022B  CD 00 00    	call	_enemy_init
1304  022E  F1          	pop	af
1305  022F  33          	inc	sp
1306  0230  21 0C 00    	ld	hl,0x000c
1307  0233  E3          	ex	(sp),hl
1308  0234  21 50 18    	ld	hl,0x1850
1309  0237  E5          	push	hl
1310  0238  3E 03       	ld	a,0x03
1311  023A  F5          	push	af
1312  023B  33          	inc	sp
1313  023C  CD 00 00    	call	_enemy_init
1314  023F  F1          	pop	af
1315  0240  33          	inc	sp
1316  0241  21 0C 00    	ld	hl,0x000c
1317  0244  E3          	ex	(sp),hl
1318  0245  21 10 05    	ld	hl,0x0510
1319  0248  E5          	push	hl
1320  0249  3E 04       	ld	a,0x04
1321  024B  F5          	push	af
1322  024C  33          	inc	sp
1323  024D  CD 00 00    	call	_enemy_init
1324  0250  F1          	pop	af
1325  0251  33          	inc	sp
1326  0252  21 0C 00    	ld	hl,0x000c
1327  0255  E3          	ex	(sp),hl
1328  0256  21 10 19    	ld	hl,0x1910
1329  0259  E5          	push	hl
1330  025A  3E 05       	ld	a,0x05
1331  025C  F5          	push	af
1332  025D  33          	inc	sp
1333  025E  CD 00 00    	call	_enemy_init
1334  0261  F1          	pop	af
1335  0262  F1          	pop	af
1336  0263  33          	inc	sp
1337  0264  18 18       	jr	l_game_phase_init_00105
1338  0266              l_game_phase_init_00104:
1339  0266  21 00 00    	ld	hl,_phase_left
1340  0269  36 FF       	ld	(hl),0xff
1341  026B  21 00 00    	ld	hl,_phase_curr
1342  026E  36 FF       	ld	(hl),0xff
1343  0270  CD 31 0C    	call	_game_unfreeze_all
1344  0273  21 00 00    	ld	hl,_game_brick_tile
1345  0276  36 84       	ld	(hl),0x84
1346  0278  21 84 00    	ld	hl,0x0084
1347  027B  22 24 00    	ld	(_spr_idx + 0x0024),hl
1348  027E              l_game_phase_init_00105:
1349  027E  CD 00 00    	call	_ay_reset
1350  0281  3A 00 00    	ld	a,(_game_bonus)
1351  0284  B7          	or	a, a
1352  0285  20 06       	jr	NZ,l_game_phase_init_00107
1353  0287  21 00 00    	ld	hl,_pb_midi_phase_1
1354  028A  CD 00 00    	call	_ay_midi_play
1355  028D              l_game_phase_init_00107:
1356  028D  CD 00 00    	call	_spr_draw_clear
1357  0290  CD 00 00    	call	_spr_draw_back
1358  0293  CD CB 02    	call	_game_print_header
1359  0296  CD 1C 00    	call	_game_print_footer
1360  0299  3A 00 00    	ld	a,(_game_lives)
1361  029C  B7          	or	a, a
1362  029D  28 0D       	jr	Z,l_game_phase_init_00109
1363  029F  21 0A 03    	ld	hl,0x030a
1364  02A2  E5          	push	hl
1365  02A3  21 07 98    	ld	hl,0x9807
1366  02A6  E5          	push	hl
1367  02A7  CD 00 00    	call	_player_init
1368  02AA  F1          	pop	af
1369  02AB  F1          	pop	af
1370  02AC              l_game_phase_init_00109:
1371  02AC  3A 01 00    	ld	a, (_game_lives + 1)
1372  02AF  B7          	or	a, a
1373  02B0  28 0D       	jr	Z,l_game_phase_init_00111
1374  02B2  21 14 27    	ld	hl,0x2714
1375  02B5  E5          	push	hl
1376  02B6  21 06 98    	ld	hl,0x9806
1377  02B9  E5          	push	hl
1378  02BA  CD 00 00    	call	_player_init
1379  02BD  F1          	pop	af
1380  02BE  F1          	pop	af
1381  02BF              l_game_phase_init_00111:
1382  02BF  21 00 00    	ld	hl,_game_osd
1383  02C2  36 01       	ld	(hl),0x01
1384  02C4  2A 00 00    	ld	hl,(_curr_time)
1385  02C7  22 00 00    	ld	(_osd_time),hl
1386  02CA  C9          	ret
1387  02CB              	SECTION code_compiler
1388  02CB              ;	---------------------------------
1389  02CB              ; Function game_print_header
1390  02CB              ; ---------------------------------
1391  02CB              _game_print_header:
1392  02CB  CD B1 00    	call	_game_phase_print_score_back
1393  02CE  21 00 00    	ld	hl,_screen_ink
1394  02D1  36 07       	ld	(hl),0x07
1395  02D3  C3 83 0C    	jp  _game_print_score
1396  02D6              	SECTION code_compiler
1397  02D6              ;	---------------------------------
1398  02D6              ; Function game_phase_print
1399  02D6              ; ---------------------------------
1400  02D6              _game_phase_print:
1401  02D6  45          	ld	b,l
1402  02D7  C5          	push	bc
1403  02D8  21 20 00    	ld	hl,___str_10
1404  02DB  E5          	push	hl
1405  02DC  3E 0B       	ld	a,0x0b
1406  02DE  48          	ld	c,b
1407  02DF  47          	ld	b,a
1408  02E0  C5          	push	bc
1409  02E1  CD 00 00    	call	_zx_print_str
1410  02E4  C1          	pop	bc
1411  02E5  3A 00 00    	ld	a,(_phase_curr)
1412  02E8  D6 1F       	sub	a,0x1f
1413  02EA  30 3F       	jr	NC,l_game_phase_print_00108
1414  02EC  3A 00 00    	ld	a,(_game_bonus)
1415  02EF  B7          	or	a, a
1416  02F0  20 2B       	jr	NZ,l_game_phase_print_00102
1417  02F2  C5          	push	bc
1418  02F3  21 26 00    	ld	hl,___str_11
1419  02F6  E5          	push	hl
1420  02F7  3E 10       	ld	a,0x10
1421  02F9  48          	ld	c,b
1422  02FA  47          	ld	b,a
1423  02FB  C5          	push	bc
1424  02FC  CD 00 00    	call	_zx_print_str
1425  02FF  C1          	pop	bc
1426  0300  21 00 00    	ld	hl,_phase_curr
1427  0303  56          	ld	d,(hl)
1428  0304  14          	inc	d
1429  0305  C5          	push	bc
1430  0306  1E 12       	ld	e,0x12
1431  0308  D5          	push	de
1432  0309  C5          	push	bc
1433  030A  33          	inc	sp
1434  030B  CD 00 00    	call	_zx_print_chr
1435  030E  C1          	pop	bc
1436  030F  21 26 00    	ld	hl,___str_11
1437  0312  E5          	push	hl
1438  0313  3E 15       	ld	a,0x15
1439  0315  48          	ld	c,b
1440  0316  47          	ld	b,a
1441  0317  C5          	push	bc
1442  0318  CD 00 00    	call	_zx_print_str
1443  031B  18 2F       	jr	l_game_phase_print_00110
1444  031D              l_game_phase_print_00102:
1445  031D  21 29 00    	ld	hl,___str_12
1446  0320  E5          	push	hl
1447  0321  3E 11       	ld	a,0x11
1448  0323  48          	ld	c,b
1449  0324  47          	ld	b,a
1450  0325  C5          	push	bc
1451  0326  CD 00 00    	call	_zx_print_str
1452  0329  18 21       	jr	l_game_phase_print_00110
1453  032B              l_game_phase_print_00108:
1454  032B  3A 00 00    	ld	a,(_game_type)
1455  032E  D6 02       	sub	a,0x02
1456  0330  28 0E       	jr	Z,l_game_phase_print_00105
1457  0332  21 30 00    	ld	hl,___str_13
1458  0335  E5          	push	hl
1459  0336  3E 11       	ld	a,0x11
1460  0338  48          	ld	c,b
1461  0339  47          	ld	b,a
1462  033A  C5          	push	bc
1463  033B  CD 00 00    	call	_zx_print_str
1464  033E  18 0C       	jr	l_game_phase_print_00110
1465  0340              l_game_phase_print_00105:
1466  0340  21 37 00    	ld	hl,___str_14
1467  0343  E5          	push	hl
1468  0344  3E 11       	ld	a,0x11
1469  0346  48          	ld	c,b
1470  0347  47          	ld	b,a
1471  0348  C5          	push	bc
1472  0349  CD 00 00    	call	_zx_print_str
1473  034C              l_game_phase_print_00110:
1474  034C  C9          	ret
1475  034D              	SECTION rodata_compiler
1476  0020              ___str_10:
1477  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1478  0025  00          	DEFB 0x00
1479  0026              	SECTION rodata_compiler
1480  0026              ___str_11:
1481  0026  20 20       	DEFM "  "
1482  0028  00          	DEFB 0x00
1483  0029              	SECTION rodata_compiler
1484  0029              ___str_12:
1485  0029  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1486  002F  00          	DEFB 0x00
1487  0030              	SECTION rodata_compiler
1488  0030              ___str_13:
1489  0030  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1490  0036  00          	DEFB 0x00
1491  0037              	SECTION rodata_compiler
1492  0037              ___str_14:
1493  0037  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1494  003D  00          	DEFB 0x00
1495  003E              	SECTION code_compiler
1496  034D              ;	---------------------------------
1497  034D              ; Function game_loop
1498  034D              ; ---------------------------------
1499  034D              _game_loop:
1500  034D  21 3E 00    	ld	hl,___str_15
1501  0350  E5          	push	hl
1502  0351  21 16 07    	ld	hl,0x0716
1503  0354  E5          	push	hl
1504  0355  CD 00 00    	call	_zx_print_str
1505  0358  21 51 00    	ld	hl,___str_16
1506  035B  E5          	push	hl
1507  035C  21 17 07    	ld	hl,0x0717
1508  035F  E5          	push	hl
1509  0360  CD 00 00    	call	_zx_print_str
1510  0363  21 00 00    	ld	hl,_ay_effect_10
1511  0366  CD 00 00    	call	_ay_fx_play
1512  0369  CD 00 00    	call	_sound_coin
1513  036C  21 C8 00    	ld	hl,0x00c8
1514  036F  CD 00 00    	call	_z80_delay_ms_fastcall
1515  0372  21 64 00    	ld	hl,___str_17
1516  0375  E5          	push	hl
1517  0376  21 16 07    	ld	hl,0x0716
1518  0379  E5          	push	hl
1519  037A  CD 00 00    	call	_zx_print_str
1520  037D  CD 00 00    	call	_ay_reset
1521  0380  21 11 11    	ld	hl,0x1111
1522  0383  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1523  0386  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1524  0389  01 00 00    	ld	bc,_game_lives+0
1525  038C  3E 04       	ld	a,0x04
1526  038E  02          	ld	(bc),a
1527  038F  03          	inc	bc
1528  0390  3A 00 00    	ld	a,(_game_two_player)
1529  0393  B7          	or	a,a
1530  0394  28 05       	jr	Z,l_game_loop_00102
1531  0396  3E 04       	ld	a,0x04
1532  0398  02          	ld	(bc),a
1533  0399  18 02       	jr	l_game_loop_00103
1534  039B              l_game_loop_00102:
1535  039B  AF          	xor	a, a
1536  039C  02          	ld	(bc),a
1537  039D              l_game_loop_00103:
1538  039D  21 00 00    	ld	hl,0x0000
1539  03A0  22 00 00    	ld	(_player_score), hl
1540  03A3  2E 00       	ld	l,0x00
1541  03A5  22 02 00    	ld	(_player_score + 0x0002),hl
1542  03A8  21 D0 07    	ld	hl,0x07d0
1543  03AB  22 00 00    	ld	(_player_next_extra), hl
1544  03AE  2E D0       	ld	l,0xd0
1545  03B0  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1546  03B3  21 00 00    	ld	hl,_spr_water_clear
1547  03B6  36 FF       	ld	(hl),0xff
1548  03B8  3A 00 00    	ld	a,(_game_type)
1549  03BB  B7          	or	a, a
1550  03BC  20 0E       	jr	NZ,l_game_loop_00105
1551  03BE  21 F4 01    	ld	hl,0x01f4
1552  03C1  22 00 00    	ld	(_game_time_flipped),hl
1553  03C4  21 D0 07    	ld	hl,0x07d0
1554  03C7  22 00 00    	ld	(_game_time_fireball_start),hl
1555  03CA  18 0C       	jr	l_game_loop_00106
1556  03CC              l_game_loop_00105:
1557  03CC  21 FA 00    	ld	hl,0x00fa
1558  03CF  22 00 00    	ld	(_game_time_flipped),hl
1559  03D2  21 F4 01    	ld	hl,0x01f4
1560  03D5  22 00 00    	ld	(_game_time_fireball_start),hl
1561  03D8              l_game_loop_00106:
1562  03D8  21 00 00    	ld	hl,_game_over
1563  03DB  36 00       	ld	(hl),0x00
1564  03DD  21 00 00    	ld	hl,_game_pow
1565  03E0  36 03       	ld	(hl),0x03
1566  03E2  3A 00 00    	ld	a,(_game_start_phase)
1567  03E5  32 00 00    	ld	(_phase_curr),a
1568  03E8  CD 99 01    	call	_game_phase_init
1569  03EB  21 00 00    	ld	hl,_sprite_lin_inc_mul
1570  03EE  36 00       	ld	(hl),0x00
1571  03F0  21 00 00    	ld	hl,_dirs
1572  03F3  36 00       	ld	(hl),0x00
1573  03F5  CD 25 0F    	call	_game_joystick_set
1574  03F8              l_game_loop_00132:
1575  03F8  3A 00 00    	ld	a,(_game_over)
1576  03FB  B7          	or	a, a
1577  03FC  C2 E4 04    	jp	NZ,l_game_loop_00134
1578  03FF  CD 00 00    	call	_player_set1
1579  0402  CD 00 00    	call	_player_turn
1580  0405  CD 00 00    	call	_player_set2
1581  0408  CD 00 00    	call	_player_turn
1582  040B  CD 00 00    	call	_enemy_turn
1583  040E  3A 00 00    	ld	a,(_game_bonus)
1584  0411  B7          	or	a, a
1585  0412  28 16       	jr	Z,l_game_loop_00111
1586  0414  CD 85 06    	call	_game_bonus_clock
1587  0417  3A 00 00    	ld	a,(_phase_left)
1588  041A  B7          	or	a, a
1589  041B  28 0D       	jr	Z,l_game_loop_00111
1590  041D  CD 00 00    	call	_ay_is_playing
1591  0420  7D          	ld	a,l
1592  0421  B7          	or	a, a
1593  0422  20 06       	jr	NZ,l_game_loop_00111
1594  0424  21 00 00    	ld	hl,_ay_effect_19
1595  0427  CD 00 00    	call	_ay_fx_play
1596  042A              l_game_loop_00111:
1597  042A  3A 00 00    	ld	a,(_game_osd)
1598  042D  B7          	or	a, a
1599  042E  28 45       	jr	Z,l_game_loop_00117
1600  0430  21 05 00    	ld	hl,0x0005
1601  0433  E5          	push	hl
1602  0434  2A 00 00    	ld	hl,(_osd_time)
1603  0437  E5          	push	hl
1604  0438  CD 2E 1A    	call	_game_check_time
1605  043B  F1          	pop	af
1606  043C  F1          	pop	af
1607  043D  7D          	ld	a,l
1608  043E  B7          	or	a, a
1609  043F  28 1B       	jr	Z,l_game_loop_00113
1610  0441  2A 00 00    	ld	hl,(_curr_time)
1611  0444  22 00 00    	ld	(_osd_time),hl
1612  0447  2E 0C       	ld	l,0x0c
1613  0449  CD D6 02    	call	_game_phase_print
1614  044C  21 17 68    	ld	hl,0x6817
1615  044F  E5          	push	hl
1616  0450  3E 0B       	ld	a,0x0b
1617  0452  F5          	push	af
1618  0453  33          	inc	sp
1619  0454  CD FF 0C    	call	_game_paint_attrib_lin_h
1620  0457  F1          	pop	af
1621  0458  33          	inc	sp
1622  0459  CD 80 19    	call	_game_rotate_attrib
1623  045C              l_game_loop_00113:
1624  045C  21 00 00    	ld	hl,_loop_count
1625  045F  7E          	ld	a,(hl)
1626  0460  D6 90       	sub	a,0x90
1627  0462  20 11       	jr	NZ,l_game_loop_00117
1628  0464  23          	inc	hl
1629  0465  7E          	ld	a,(hl)
1630  0466  3D          	dec	a
1631  0467  20 0C       	jr	NZ,l_game_loop_00117
1632  0469  21 0C 20    	ld	hl,0x200c
1633  046C  E5          	push	hl
1634  046D  CD 00 00    	call	_game_fill_row
1635  0470  21 00 00    	ld	hl,_game_osd
1636  0473  36 00       	ld	(hl),0x00
1637  0475              l_game_loop_00117:
1638  0475  CD 00 00    	call	_spr_water_splash_clear
1639  0478  21 64 00    	ld	hl,0x0064
1640  047B  E5          	push	hl
1641  047C  2A 00 00    	ld	hl,(_frame_time)
1642  047F  E5          	push	hl
1643  0480  CD 2E 1A    	call	_game_check_time
1644  0483  F1          	pop	af
1645  0484  F1          	pop	af
1646  0485  7D          	ld	a,l
1647  0486  B7          	or	a, a
1648  0487  28 4F       	jr	Z,l_game_loop_00131
1649  0489  2A 00 00    	ld	hl,(_curr_time)
1650  048C  22 00 00    	ld	(_frame_time),hl
1651  048F  3A 00 00    	ld	a,(_game_bonus)
1652  0492  B7          	or	a,a
1653  0493  20 03       	jr	NZ,l_game_loop_00119
1654  0495  CD E1 08    	call	_game_enemy_add
1655  0498              l_game_loop_00119:
1656  0498  3A 00 00    	ld	a,(_phase_end)
1657  049B  3D          	dec	a
1658  049C  20 3A       	jr	NZ,l_game_loop_00131
1659  049E  3A 00 00    	ld	a,(_game_type)
1660  04A1  D6 02       	sub	a,0x02
1661  04A3  28 33       	jr	Z,l_game_loop_00131
1662  04A5  21 90 01    	ld	hl,0x0190
1663  04A8  CD 00 00    	call	_z80_delay_ms_fastcall
1664  04AB  CD 00 00    	call	_ay_is_playing
1665  04AE  7D          	ld	a, l
1666  04AF  D6 02       	sub	a,0x02
1667  04B1  30 03       	jr	NC,l_game_loop_00121
1668  04B3  CD 00 00    	call	_ay_reset
1669  04B6              l_game_loop_00121:
1670  04B6  CD AF 08    	call	_game_kill_all_sprites
1671  04B9  3A 00 00    	ld	a,(_game_bonus)
1672  04BC  B7          	or	a, a
1673  04BD  28 03       	jr	Z,l_game_loop_00123
1674  04BF  CD F6 06    	call	_game_bonus_summary
1675  04C2              l_game_loop_00123:
1676  04C2  21 00 00    	ld	hl,_phase_curr
1677  04C5  34          	inc	(hl)
1678  04C6  3E 1F       	ld	a,0x1f
1679  04C8  96          	sub	a, (hl)
1680  04C9  30 0A       	jr	NC,l_game_loop_00125
1681  04CB  CD 3B 12    	call	_game_end
1682  04CE  21 00 00    	ld	hl,_game_over
1683  04D1  36 01       	ld	(hl),0x01
1684  04D3  18 03       	jr	l_game_loop_00131
1685  04D5              l_game_loop_00125:
1686  04D5  CD 99 01    	call	_game_phase_init
1687  04D8              l_game_loop_00131:
1688  04D8  21 00 00    	ld	hl,_loop_count
1689  04DB  34          	inc	(hl)
1690  04DC  C2 F8 03    	jp	NZ,l_game_loop_00132
1691  04DF  23          	inc	hl
1692  04E0  34          	inc	(hl)
1693  04E1  C3 F8 03    	jp	l_game_loop_00132
1694  04E4              l_game_loop_00134:
1695  04E4  21 90 01    	ld	hl,0x0190
1696  04E7  CD 00 00    	call	_z80_delay_ms_fastcall
1697  04EA  CD AF 08    	call	_game_kill_all_sprites
1698  04ED  21 77 00    	ld	hl,___str_18
1699  04F0  E5          	push	hl
1700  04F1  21 08 0B    	ld	hl,0x0b08
1701  04F4  E5          	push	hl
1702  04F5  CD 00 00    	call	_zx_print_str
1703  04F8  21 C8 00    	ld	hl,0x00c8
1704  04FB  E5          	push	hl
1705  04FC  21 0B 15    	ld	hl,0x150b
1706  04FF  E5          	push	hl
1707  0500  3E 08       	ld	a,0x08
1708  0502  F5          	push	af
1709  0503  33          	inc	sp
1710  0504  CD 9C 19    	call	_game_colour_message
1711  0507  F1          	pop	af
1712  0508  F1          	pop	af
1713  0509  33          	inc	sp
1714  050A  CD 00 00    	call	_spr_draw_clear
1715  050D  CD 14 15    	call	_game_hall_enter
1716  0510  CD 00 00    	call	_ay_reset
1717  0513  21 00 00    	ld	hl,_game_menu_sel
1718  0516  36 00       	ld	(hl),0x00
1719  0518  CD 1D 10    	call	_game_menu_paint
1720  051B  CD 18 0F    	call	_game_joystick_set_menu
1721  051E  C9          	ret
1722  051F              	SECTION rodata_compiler
1723  003E              ___str_15:
1724  003E  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1725  0050  00          	DEFB 0x00
1726  0051              	SECTION rodata_compiler
1727  0051              ___str_16:
1728  0051  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1729  0063  00          	DEFB 0x00
1730  0064              	SECTION rodata_compiler
1731  0064              ___str_17:
1732  0064  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1733  0076  00          	DEFB 0x00
1734  0077              	SECTION rodata_compiler
1735  0077              ___str_18:
1736  0077  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1737  0082  00          	DEFB 0x00
1738  0083              	SECTION code_compiler
1739  051F              ;	---------------------------------
1740  051F              ; Function game_score_osd
1741  051F              ; ---------------------------------
1742  051F              _game_score_osd:
1743  051F  3A 00 00    	ld	a,(_index_player)
1744  0522  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1745  0524  4F          	ld	c,a
1746  0525  3E 00       	ld	a,+((_score_osd_col) / 256)
1747  0527  CE 00       	adc	a,0x00
1748  0529  47          	ld	b,a
1749  052A  0A          	ld	a,(bc)
1750  052B  57          	ld	d,a
1751  052C  3C          	inc	a
1752  052D  20 72       	jr	NZ,l_game_score_osd_00117
1753  052F  3A 00 00    	ld	a,(_hit_count)
1754  0532  B7          	or	a, a
1755  0533  CA 84 06    	jp	Z,l_game_score_osd_00119
1756  0536  2A 00 00    	ld	hl,(_sprite)
1757  0539  26 00       	ld	h,0x00
1758  053B  11 00 00    	ld	de,_col
1759  053E  19          	add	hl,de
1760  053F  7E          	ld	a,(hl)
1761  0540  02          	ld	(bc),a
1762  0541  3A 00 00    	ld	a,(_index_player)
1763  0544  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1764  0546  4F          	ld	c,a
1765  0547  3E 00       	ld	a,+((_score_osd_lin) / 256)
1766  0549  CE 00       	adc	a,0x00
1767  054B  47          	ld	b,a
1768  054C  2A 00 00    	ld	hl,(_sprite)
1769  054F  26 00       	ld	h,0x00
1770  0551  11 00 00    	ld	de,_lin
1771  0554  19          	add	hl,de
1772  0555  7E          	ld	a,(hl)
1773  0556  02          	ld	(bc),a
1774  0557  01 00 00    	ld	bc,_score_osd_time+0
1775  055A  2A 00 00    	ld	hl,(_index_player)
1776  055D  26 00       	ld	h,0x00
1777  055F  29          	add	hl, hl
1778  0560  09          	add	hl,bc
1779  0561  ED 5B 00 00 	ld	de,(_curr_time)
1780  0565  73          	ld	(hl),e
1781  0566  23          	inc	hl
1782  0567  72          	ld	(hl),d
1783  0568  2A 00 00    	ld	hl,(_index_player)
1784  056B  26 00       	ld	h,0x00
1785  056D  29          	add	hl,hl
1786  056E  3A 00 00    	ld	a,(_hit_count)
1787  0571  3D          	dec	a
1788  0572  4D          	ld	c,l
1789  0573  44          	ld	b,h
1790  0574  20 0C       	jr	NZ,l_game_score_osd_00105
1791  0576  21 00 00    	ld	hl,_score_osd_tile
1792  0579  09          	add	hl,bc
1793  057A  36 BC       	ld	(hl),0xbc
1794  057C  23          	inc	hl
1795  057D  36 00       	ld	(hl),0x00
1796  057F  C3 84 06    	jp	l_game_score_osd_00119
1797  0582              l_game_score_osd_00105:
1798  0582  3A 00 00    	ld	a,(_hit_count)
1799  0585  D6 08       	sub	a,0x08
1800  0587  30 0C       	jr	NC,l_game_score_osd_00102
1801  0589  21 00 00    	ld	hl,_score_osd_tile
1802  058C  09          	add	hl,bc
1803  058D  36 BD       	ld	(hl),0xbd
1804  058F  23          	inc	hl
1805  0590  36 00       	ld	(hl),0x00
1806  0592  C3 84 06    	jp	l_game_score_osd_00119
1807  0595              l_game_score_osd_00102:
1808  0595  21 00 00    	ld	hl,_score_osd_tile
1809  0598  09          	add	hl,bc
1810  0599  36 BE       	ld	(hl),0xbe
1811  059B  23          	inc	hl
1812  059C  36 00       	ld	(hl),0x00
1813  059E  C3 84 06    	jp	l_game_score_osd_00119
1814  05A1              l_game_score_osd_00117:
1815  05A1  3A 00 00    	ld	a,(_index_player)
1816  05A4  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1817  05A6  4F          	ld	c,a
1818  05A7  3E 00       	ld	a,+((_score_osd_lin) / 256)
1819  05A9  CE 00       	adc	a,0x00
1820  05AB  47          	ld	b,a
1821  05AC  0A          	ld	a,(bc)
1822  05AD  C6 FE       	add	a,0xfe
1823  05AF  32 00 00    	ld	(_tmp),a
1824  05B2  5F          	ld	e,a
1825  05B3  D5          	push	de
1826  05B4  CD 00 00    	call	_game_calc_index
1827  05B7  F1          	pop	af
1828  05B8  22 00 00    	ld	(_index1),hl
1829  05BB  3E 08       	ld	a,0x08
1830  05BD  21 00 00    	ld	hl,_tmp
1831  05C0  96          	sub	a, (hl)
1832  05C1  30 5B       	jr	NC,l_game_score_osd_00110
1833  05C3  21 01 00    	ld	hl,_index1 + 1
1834  05C6  7E          	ld	a,(hl)
1835  05C7  2B          	dec	hl
1836  05C8  B6          	or	a,(hl)
1837  05C9  28 53       	jr	Z,l_game_score_osd_00110
1838  05CB  01 00 00    	ld	bc,_lvl_1+0
1839  05CE  79          	ld	a,c
1840  05CF  86          	add	a, (hl)
1841  05D0  5F          	ld	e,a
1842  05D1  78          	ld	a,b
1843  05D2  23          	inc	hl
1844  05D3  8E          	adc	a, (hl)
1845  05D4  57          	ld	d,a
1846  05D5  1A          	ld	a,(de)
1847  05D6  B7          	or	a, a
1848  05D7  20 45       	jr	NZ,l_game_score_osd_00110
1849  05D9  56          	ld	d,(hl)
1850  05DA  2B          	dec	hl
1851  05DB  5E          	ld	e,(hl)
1852  05DC  13          	inc	de
1853  05DD  69          	ld	l, c
1854  05DE  60          	ld	h, b
1855  05DF  19          	add	hl,de
1856  05E0  7E          	ld	a,(hl)
1857  05E1  B7          	or	a, a
1858  05E2  20 3A       	jr	NZ,l_game_score_osd_00110
1859  05E4  76          	halt
1860  05E5  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1861  05E7  21 00 00    	ld	hl,_index_player
1862  05EA  86          	add	a, (hl)
1863  05EB  4F          	ld	c,a
1864  05EC  3E 00       	ld	a,+((_score_osd_col) / 256)
1865  05EE  CE 00       	adc	a,0x00
1866  05F0  47          	ld	b,a
1867  05F1  0A          	ld	a,(bc)
1868  05F2  57          	ld	d,a
1869  05F3  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1870  05F5  86          	add	a, (hl)
1871  05F6  4F          	ld	c,a
1872  05F7  3E 00       	ld	a,+((_score_osd_lin) / 256)
1873  05F9  CE 00       	adc	a,0x00
1874  05FB  47          	ld	b,a
1875  05FC  0A          	ld	a,(bc)
1876  05FD  5F          	ld	e,a
1877  05FE  6E          	ld	l, (hl)
1878  05FF  26 00       	ld	h,0x00
1879  0601  29          	add	hl, hl
1880  0602  01 00 00    	ld	bc,_score_osd_tile
1881  0605  09          	add	hl,bc
1882  0606  46          	ld	b,(hl)
1883  0607  23          	inc	hl
1884  0608  4E          	ld	c,(hl)
1885  0609  D5          	push	de
1886  060A  C5          	push	bc
1887  060B  33          	inc	sp
1888  060C  CD 00 00    	call	_NIRVANAP_drawT_callee
1889  060F  3A 00 00    	ld	a,(_index_player)
1890  0612  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1891  0614  4F          	ld	c,a
1892  0615  3E 00       	ld	a,+((_score_osd_lin) / 256)
1893  0617  CE 00       	adc	a,0x00
1894  0619  47          	ld	b,a
1895  061A  3A 00 00    	ld	a,(_tmp)
1896  061D  02          	ld	(bc),a
1897  061E              l_game_score_osd_00110:
1898  061E  01 00 00    	ld	bc,_score_osd_time+0
1899  0621  2A 00 00    	ld	hl,(_index_player)
1900  0624  26 00       	ld	h,0x00
1901  0626  29          	add	hl, hl
1902  0627  09          	add	hl,bc
1903  0628  4E          	ld	c,(hl)
1904  0629  23          	inc	hl
1905  062A  46          	ld	b,(hl)
1906  062B  21 32 00    	ld	hl,0x0032
1907  062E  E5          	push	hl
1908  062F  C5          	push	bc
1909  0630  CD 2E 1A    	call	_game_check_time
1910  0633  F1          	pop	af
1911  0634  F1          	pop	af
1912  0635  7D          	ld	a,l
1913  0636  B7          	or	a, a
1914  0637  C8          	ret	Z
1915  0638  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1916  063A  21 00 00    	ld	hl,_index_player
1917  063D  86          	add	a, (hl)
1918  063E  4F          	ld	c,a
1919  063F  3E 00       	ld	a,+((_score_osd_col) / 256)
1920  0641  CE 00       	adc	a,0x00
1921  0643  47          	ld	b,a
1922  0644  0A          	ld	a,(bc)
1923  0645  57          	ld	d,a
1924  0646  4E          	ld	c,(hl)
1925  0647  06 00       	ld	b,0x00
1926  0649  21 00 00    	ld	hl,_score_osd_lin
1927  064C  09          	add	hl,bc
1928  064D  5E          	ld	e, (hl)
1929  064E  D5          	push	de
1930  064F  AF          	xor	a, a
1931  0650  F5          	push	af
1932  0651  33          	inc	sp
1933  0652  CD 00 00    	call	_NIRVANAP_fillT_callee
1934  0655  3A 00 00    	ld	a,(_index_player)
1935  0658  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1936  065A  4F          	ld	c,a
1937  065B  3E 00       	ld	a,+((_score_osd_lin) / 256)
1938  065D  CE 00       	adc	a,0x00
1939  065F  47          	ld	b,a
1940  0660  0A          	ld	a,(bc)
1941  0661  32 00 00    	ld	(_s_lin0),a
1942  0664  3A 00 00    	ld	a,(_index_player)
1943  0667  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1944  0669  4F          	ld	c,a
1945  066A  3E 00       	ld	a,+((_score_osd_col) / 256)
1946  066C  CE 00       	adc	a,0x00
1947  066E  47          	ld	b,a
1948  066F  0A          	ld	a,(bc)
1949  0670  32 00 00    	ld	(_s_col0),a
1950  0673  CD 00 00    	call	_spr_check_over
1951  0676  3A 00 00    	ld	a,(_index_player)
1952  0679  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1953  067B  4F          	ld	c,a
1954  067C  3E 00       	ld	a,+((_score_osd_col) / 256)
1955  067E  CE 00       	adc	a,0x00
1956  0680  47          	ld	b,a
1957  0681  3E FF       	ld	a,0xff
1958  0683  02          	ld	(bc),a
1959  0684              l_game_score_osd_00119:
1960  0684  C9          	ret
1961  0685              	SECTION code_compiler
1962  0685              ;	---------------------------------
1963  0685              ; Function game_bonus_clock
1964  0685              ; ---------------------------------
1965  0685              _game_bonus_clock:
1966  0685  2A 00 00    	ld	hl,(_curr_time)
1967  0688  29          	add	hl,hl
1968  0689  3E 40       	ld	a,0x40
1969  068B  95          	sub	a,l
1970  068C  44          	ld	b,h
1971  068D  21 00 00    	ld	hl,_tmp_ui
1972  0690  77          	ld	(hl),a
1973  0691  3E 06       	ld	a,0x06
1974  0693  98          	sbc	a, b
1975  0694  23          	inc	hl
1976  0695  77          	ld	(hl),a
1977  0696  3E 40       	ld	a,0x40
1978  0698  2B          	dec	hl
1979  0699  BE          	cp	a, (hl)
1980  069A  3E 06       	ld	a,0x06
1981  069C  23          	inc	hl
1982  069D  9E          	sbc	a, (hl)
1983  069E  30 1F       	jr	NC,l_game_bonus_clock_00106
1984  06A0  2B          	dec	hl
1985  06A1  AF          	xor	a, a
1986  06A2  77          	ld	(hl), a
1987  06A3  23          	inc	hl
1988  06A4  77          	ld	(hl), a
1989  06A5  21 00 00    	ld	hl,0x0000
1990  06A8  E5          	push	hl
1991  06A9  21 02 0E    	ld	hl,0x0e02
1992  06AC  E5          	push	hl
1993  06AD  CD 00 00    	call	_zx_print_bonus_time
1994  06B0  21 00 00    	ld	hl,_phase_left
1995  06B3  36 00       	ld	(hl),0x00
1996  06B5  21 00 00    	ld	hl,_phase_end
1997  06B8  36 01       	ld	(hl),0x01
1998  06BA  CD 00 00    	call	_ay_reset
1999  06BD  18 36       	jr	l_game_bonus_clock_00108
2000  06BF              l_game_bonus_clock_00106:
2001  06BF  3A 00 00    	ld	a,(_phase_left)
2002  06C2  B7          	or	a, a
2003  06C3  C8          	ret	Z
2004  06C4  2A 00 00    	ld	hl,(_tmp_ui)
2005  06C7  E5          	push	hl
2006  06C8  21 02 0E    	ld	hl,0x0e02
2007  06CB  E5          	push	hl
2008  06CC  CD 00 00    	call	_zx_print_bonus_time
2009  06CF  21 05 00    	ld	hl,0x0005
2010  06D2  E5          	push	hl
2011  06D3  2A 00 00    	ld	hl,(_frame_time)
2012  06D6  E5          	push	hl
2013  06D7  CD 2E 1A    	call	_game_check_time
2014  06DA  F1          	pop	af
2015  06DB  F1          	pop	af
2016  06DC  7D          	ld	a,l
2017  06DD  B7          	or	a, a
2018  06DE  C8          	ret	Z
2019  06DF  2A 00 00    	ld	hl,(_curr_time)
2020  06E2  22 00 00    	ld	(_frame_time),hl
2021  06E5  21 14 18    	ld	hl,0x1814
2022  06E8  E5          	push	hl
2023  06E9  3E 0E       	ld	a,0x0e
2024  06EB  F5          	push	af
2025  06EC  33          	inc	sp
2026  06ED  CD FF 0C    	call	_game_paint_attrib_lin_h
2027  06F0  F1          	pop	af
2028  06F1  33          	inc	sp
2029  06F2  CD 80 19    	call	_game_rotate_attrib
2030  06F5              l_game_bonus_clock_00108:
2031  06F5  C9          	ret
2032  06F6              	SECTION code_compiler
2033  06F6              ;	---------------------------------
2034  06F6              ; Function game_bonus_summary
2035  06F6              ; ---------------------------------
2036  06F6              _game_bonus_summary:
2037  06F6  CD AF 08    	call	_game_kill_all_sprites
2038  06F9  CD 00 00    	call	_spr_draw_clear
2039  06FC  21 00 00    	ld	hl,0x0000
2040  06FF  CD 00 00    	call	_zx_cls_fastcall
2041  0702  CD B1 00    	call	_game_phase_print_score_back
2042  0705  CD 83 0C    	call	_game_print_score
2043  0708  3A 00 00    	ld	a,(_game_lives)
2044  070B  B7          	or	a, a
2045  070C  28 05       	jr	Z,l_game_bonus_summary_00102
2046  070E  2E 00       	ld	l,0x00
2047  0710  CD AB 07    	call	_game_bonus_summary_player
2048  0713              l_game_bonus_summary_00102:
2049  0713  3A 01 00    	ld	a, (_game_lives + 1)
2050  0716  B7          	or	a, a
2051  0717  28 05       	jr	Z,l_game_bonus_summary_00104
2052  0719  2E 01       	ld	l,0x01
2053  071B  CD AB 07    	call	_game_bonus_summary_player
2054  071E              l_game_bonus_summary_00104:
2055  071E  21 1F 98    	ld	hl,0x981f
2056  0721  E5          	push	hl
2057  0722  AF          	xor	a, a
2058  0723  F5          	push	af
2059  0724  33          	inc	sp
2060  0725  CD D8 0C    	call	_game_paint_attrib_lin
2061  0728  F1          	pop	af
2062  0729  33          	inc	sp
2063  072A  3A 00 00    	ld	a,(_phase_bonus_total)
2064  072D  D6 06       	sub	a,0x06
2065  072F  20 68       	jr	NZ,l_game_bonus_summary_00109
2066  0731  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2067  0734  B7          	or	a, a
2068  0735  20 62       	jr	NZ,l_game_bonus_summary_00109
2069  0737  CD 00 00    	call	_sound_jump
2070  073A  3A 00 00    	ld	a,(_phase_curr)
2071  073D  D6 03       	sub	a,0x03
2072  073F  20 23       	jr	NZ,l_game_bonus_summary_00106
2073  0741  21 83 00    	ld	hl,___str_19
2074  0744  E5          	push	hl
2075  0745  21 12 06    	ld	hl,0x0612
2076  0748  E5          	push	hl
2077  0749  CD 00 00    	call	_zx_print_str
2078  074C  21 00 00    	ld	hl,_index_player
2079  074F  36 00       	ld	(hl),0x00
2080  0751  21 2C 01    	ld	hl,0x012c
2081  0754  CD 00 00    	call	_player_score_add
2082  0757  21 00 00    	ld	hl,_index_player
2083  075A  36 01       	ld	(hl),0x01
2084  075C  21 2C 01    	ld	hl,0x012c
2085  075F  CD 00 00    	call	_player_score_add
2086  0762  18 21       	jr	l_game_bonus_summary_00107
2087  0764              l_game_bonus_summary_00106:
2088  0764  21 96 00    	ld	hl,___str_20
2089  0767  E5          	push	hl
2090  0768  21 12 06    	ld	hl,0x0612
2091  076B  E5          	push	hl
2092  076C  CD 00 00    	call	_zx_print_str
2093  076F  21 00 00    	ld	hl,_index_player
2094  0772  36 00       	ld	(hl),0x00
2095  0774  21 F4 01    	ld	hl,0x01f4
2096  0777  CD 00 00    	call	_player_score_add
2097  077A  21 00 00    	ld	hl,_index_player
2098  077D  36 01       	ld	(hl),0x01
2099  077F  21 F4 01    	ld	hl,0x01f4
2100  0782  CD 00 00    	call	_player_score_add
2101  0785              l_game_bonus_summary_00107:
2102  0785  21 C8 00    	ld	hl,0x00c8
2103  0788  E5          	push	hl
2104  0789  21 10 1A    	ld	hl,0x1a10
2105  078C  E5          	push	hl
2106  078D  3E 12       	ld	a,0x12
2107  078F  F5          	push	af
2108  0790  33          	inc	sp
2109  0791  CD 9C 19    	call	_game_colour_message
2110  0794  F1          	pop	af
2111  0795  F1          	pop	af
2112  0796  33          	inc	sp
2113  0797  18 11       	jr	l_game_bonus_summary_00112
2114  0799              l_game_bonus_summary_00109:
2115  0799  21 A9 00    	ld	hl,___str_21
2116  079C  E5          	push	hl
2117  079D  21 12 0C    	ld	hl,0x0c12
2118  07A0  E5          	push	hl
2119  07A1  CD 00 00    	call	_zx_print_str
2120  07A4  21 E8 03    	ld	hl,0x03e8
2121  07A7  CD 00 00    	call	_z80_delay_ms_fastcall
2122  07AA              l_game_bonus_summary_00112:
2123  07AA  C9          	ret
2124  07AB              	SECTION rodata_compiler
2125  0083              ___str_19:
2126  0083  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2127  0095  00          	DEFB 0x00
2128  0096              	SECTION rodata_compiler
2129  0096              ___str_20:
2130  0096  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2131  00A8  00          	DEFB 0x00
2132  00A9              	SECTION rodata_compiler
2133  00A9              ___str_21:
2134  00A9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2135  00B1  00          	DEFB 0x00
2136  00B2              	SECTION code_compiler
2137  07AB              ;	---------------------------------
2138  07AB              ; Function game_bonus_summary_player
2139  07AB              ; ---------------------------------
2140  07AB              _game_bonus_summary_player:
2141  07AB  CD 00 00    	call	___sdcc_enter_ix
2142  07AE  F5          	push	af
2143  07AF  3B          	dec	sp
2144  07B0  DD 75 FF    	ld	(ix-1),l
2145  07B3  76          	halt
2146  07B4  DD 7E FF    	ld	a,(ix-1)
2147  07B7  B7          	or	a, a
2148  07B8  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2149  07BA  21 00 00    	ld	hl,_s_lin1
2150  07BD  36 06       	ld	(hl),0x06
2151  07BF  21 B2 00    	ld	hl,___str_22
2152  07C2  E5          	push	hl
2153  07C3  21 06 07    	ld	hl,0x0706
2154  07C6  E5          	push	hl
2155  07C7  CD 00 00    	call	_zx_print_str
2156  07CA  3A 00 00    	ld	a,(_s_lin1)
2157  07CD  07          	rlca
2158  07CE  07          	rlca
2159  07CF  07          	rlca
2160  07D0  E6 F8       	and	a,0xf8
2161  07D2  47          	ld	b,a
2162  07D3  04          	inc	b
2163  07D4  04          	inc	b
2164  07D5  04          	inc	b
2165  07D6  04          	inc	b
2166  07D7  3E 04       	ld	a,0x04
2167  07D9  48          	ld	c,b
2168  07DA  47          	ld	b,a
2169  07DB  C5          	push	bc
2170  07DC  3E 03       	ld	a,0x03
2171  07DE  F5          	push	af
2172  07DF  33          	inc	sp
2173  07E0  CD 00 00    	call	_NIRVANAP_drawT_callee
2174  07E3  21 00 00    	ld	hl,_index_player
2175  07E6  36 00       	ld	(hl),0x00
2176  07E8  18 2E       	jr	l_game_bonus_summary_player_00103
2177  07EA              l_game_bonus_summary_player_00102:
2178  07EA  21 00 00    	ld	hl,_s_lin1
2179  07ED  36 0C       	ld	(hl),0x0c
2180  07EF  21 B9 00    	ld	hl,___str_23
2181  07F2  E5          	push	hl
2182  07F3  21 0C 07    	ld	hl,0x070c
2183  07F6  E5          	push	hl
2184  07F7  CD 00 00    	call	_zx_print_str
2185  07FA  3A 00 00    	ld	a,(_s_lin1)
2186  07FD  07          	rlca
2187  07FE  07          	rlca
2188  07FF  07          	rlca
2189  0800  E6 F8       	and	a,0xf8
2190  0802  47          	ld	b,a
2191  0803  04          	inc	b
2192  0804  04          	inc	b
2193  0805  04          	inc	b
2194  0806  04          	inc	b
2195  0807  3E 04       	ld	a,0x04
2196  0809  48          	ld	c,b
2197  080A  47          	ld	b,a
2198  080B  C5          	push	bc
2199  080C  3E 1B       	ld	a,0x1b
2200  080E  F5          	push	af
2201  080F  33          	inc	sp
2202  0810  CD 00 00    	call	_NIRVANAP_drawT_callee
2203  0813  21 00 00    	ld	hl,_index_player
2204  0816  36 01       	ld	(hl),0x01
2205  0818              l_game_bonus_summary_player_00103:
2206  0818  3A 00 00    	ld	a,(_s_lin1)
2207  081B  07          	rlca
2208  081C  07          	rlca
2209  081D  07          	rlca
2210  081E  E6 F8       	and	a,0xf8
2211  0820  C6 08       	add	a,0x08
2212  0822  F5          	push	af
2213  0823  33          	inc	sp
2214  0824  21 07 1F    	ld	hl,0x1f07
2215  0827  E5          	push	hl
2216  0828  CD D8 0C    	call	_game_paint_attrib_lin
2217  082B  F1          	pop	af
2218  082C  33          	inc	sp
2219  082D  21 00 00    	ld	hl,_tmp_uc
2220  0830  36 00       	ld	(hl),0x00
2221  0832  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2222  0834  DD 86 FF    	add	a,(ix-1)
2223  0837  DD 77 FD    	ld	(ix-3),a
2224  083A  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2225  083C  CE 00       	adc	a,0x00
2226  083E  DD 77 FE    	ld	(ix-2),a
2227  0841              l_game_bonus_summary_player_00107:
2228  0841  E1          	pop	hl
2229  0842  4E          	ld	c,(hl)
2230  0843  3A 00 00    	ld	a,(_tmp_uc)
2231  0846  E5          	push	hl
2232  0847  91          	sub	a, c
2233  0848  30 53       	jr	NC,l_game_bonus_summary_player_00109
2234  084A  3A 00 00    	ld	a,(_s_lin1)
2235  084D  07          	rlca
2236  084E  07          	rlca
2237  084F  07          	rlca
2238  0850  E6 F8       	and	a,0xf8
2239  0852  4F          	ld	c,a
2240  0853  3A 00 00    	ld	a,(_tmp_uc)
2241  0856  D6 03       	sub	a,0x03
2242  0858  30 08       	jr	NC,l_game_bonus_summary_player_00105
2243  085A  79          	ld	a,c
2244  085B  C6 F8       	add	a,0xf8
2245  085D  32 00 00    	ld	(_s_lin0),a
2246  0860  18 06       	jr	l_game_bonus_summary_player_00106
2247  0862              l_game_bonus_summary_player_00105:
2248  0862  79          	ld	a,c
2249  0863  C6 08       	add	a,0x08
2250  0865  32 00 00    	ld	(_s_lin0),a
2251  0868              l_game_bonus_summary_player_00106:
2252  0868  76          	halt
2253  0869  2A 00 00    	ld	hl,(_tmp_uc)
2254  086C  26 03       	ld	h,0x03
2255  086E  E5          	push	hl
2256  086F  CD 00 00    	call	__moduchar_callee
2257  0872  7D          	ld	a,l
2258  0873  87          	add	a, a
2259  0874  C6 0E       	add	a,0x0e
2260  0876  F5          	push	af
2261  0877  33          	inc	sp
2262  0878  3A 00 00    	ld	a,(_s_lin0)
2263  087B  57          	ld	d,a
2264  087C  1E B9       	ld	e,0xb9
2265  087E  D5          	push	de
2266  087F  CD 00 00    	call	_NIRVANAP_drawT_callee
2267  0882  21 50 00    	ld	hl,0x0050
2268  0885  CD 00 00    	call	_player_score_add
2269  0888  21 00 00    	ld	hl,_tmp_uc
2270  088B  34          	inc	(hl)
2271  088C  21 00 00    	ld	hl,_ay_effect_09
2272  088F  CD 00 00    	call	_ay_fx_play
2273  0892  CD 00 00    	call	_sound_coin
2274  0895  21 32 00    	ld	hl,0x0032
2275  0898  CD 00 00    	call	_z80_delay_ms_fastcall
2276  089B  18 A4       	jr	l_game_bonus_summary_player_00107
2277  089D              l_game_bonus_summary_player_00109:
2278  089D  21 BF 00    	ld	hl,___str_24
2279  08A0  E5          	push	hl
2280  08A1  2A 00 00    	ld	hl,(_s_lin1)
2281  08A4  26 16       	ld	h,0x16
2282  08A6  E5          	push	hl
2283  08A7  CD 00 00    	call	_zx_print_str
2284  08AA  DD F9       	ld	sp, ix
2285  08AC  DD E1       	pop	ix
2286  08AE  C9          	ret
2287  08AF              	SECTION rodata_compiler
2288  00B2              ___str_22:
2289  00B2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2290  00B8  00          	DEFB 0x00
2291  00B9              	SECTION rodata_compiler
2292  00B9              ___str_23:
2293  00B9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2294  00BE  00          	DEFB 0x00
2295  00BF              	SECTION rodata_compiler
2296  00BF              ___str_24:
2297  00BF  58 20 38 30 30 
                        	DEFM "X 800"
2298  00C4  00          	DEFB 0x00
2299  00C5              	SECTION code_compiler
2300  08AF              ;	---------------------------------
2301  08AF              ; Function game_kill_all_sprites
2302  08AF              ; ---------------------------------
2303  08AF              _game_kill_all_sprites:
2304  08AF  21 00 00    	ld	hl,_sprite
2305  08B2  36 00       	ld	(hl),0x00
2306  08B4              l_game_kill_all_sprites_00102:
2307  08B4  2A 00 00    	ld	hl,(_sprite)
2308  08B7  CD 00 00    	call	_spr_destroy
2309  08BA  21 00 00    	ld	hl,_sprite
2310  08BD  7E          	ld	a,(hl)
2311  08BE  3C          	inc	a
2312  08BF  77          	ld	(hl),a
2313  08C0  D6 08       	sub	a,0x08
2314  08C2  38 F0       	jr	C,l_game_kill_all_sprites_00102
2315  08C4  C9          	ret
2316  08C5              	SECTION code_compiler
2317  08C5              ;	---------------------------------
2318  08C5              ; Function game_check_maze
2319  08C5              ; ---------------------------------
2320  08C5              _game_check_maze:
2321  08C5  4D          	ld	c,l
2322  08C6  44          	ld	b,h
2323  08C7  21 00 00    	ld	hl,_lvl_1
2324  08CA  09          	add	hl,bc
2325  08CB  7E          	ld	a, (hl)
2326  08CC  D6 10       	sub	a,0x10
2327  08CE  30 0A       	jr	NC,l_game_check_maze_00103
2328  08D0  03          	inc	bc
2329  08D1  21 00 00    	ld	hl,_lvl_1
2330  08D4  09          	add	hl,bc
2331  08D5  7E          	ld	a, (hl)
2332  08D6  D6 10       	sub	a,0x10
2333  08D8  38 04       	jr	C,l_game_check_maze_00104
2334  08DA              l_game_check_maze_00103:
2335  08DA  2E 00       	ld	l,0x00
2336  08DC  18 02       	jr	l_game_check_maze_00105
2337  08DE              l_game_check_maze_00104:
2338  08DE  2E 01       	ld	l,0x01
2339  08E0              l_game_check_maze_00105:
2340  08E0  C9          	ret
2341  08E1              	SECTION code_compiler
2342  08E1              ;	---------------------------------
2343  08E1              ; Function game_enemy_add
2344  08E1              ; ---------------------------------
2345  08E1              _game_enemy_add:
2346  08E1  3A 00 00    	ld	a,(_game_type)
2347  08E4  D6 02       	sub	a,0x02
2348  08E6  20 05       	jr	NZ,l_game_enemy_add_00106
2349  08E8  CD 2E 0A    	call	_game_enemy_rnd
2350  08EB  18 21       	jr	l_game_enemy_add_00107
2351  08ED              l_game_enemy_add_00106:
2352  08ED  3A 00 00    	ld	a,(_spr_count)
2353  08F0  D6 06       	sub	a,0x06
2354  08F2  30 1A       	jr	NC,l_game_enemy_add_00107
2355  08F4  21 64 00    	ld	hl,0x0064
2356  08F7  E5          	push	hl
2357  08F8  2A 00 00    	ld	hl,(_entry_time)
2358  08FB  E5          	push	hl
2359  08FC  CD 2E 1A    	call	_game_check_time
2360  08FF  F1          	pop	af
2361  0900  F1          	pop	af
2362  0901  7D          	ld	a,l
2363  0902  B7          	or	a, a
2364  0903  28 09       	jr	Z,l_game_enemy_add_00107
2365  0905  3A 00 00    	ld	a,(_phase_left)
2366  0908  B7          	or	a, a
2367  0909  28 03       	jr	Z,l_game_enemy_add_00107
2368  090B  CD 11 09    	call	_game_enemy_quota
2369  090E              l_game_enemy_add_00107:
2370  090E  2E 00       	ld	l,0x00
2371  0910  C9          	ret
2372  0911              	SECTION code_compiler
2373  0911              ;	---------------------------------
2374  0911              ; Function game_enemy_quota
2375  0911              ; ---------------------------------
2376  0911              _game_enemy_quota:
2377  0911  CD 00 00    	call	_rand
2378  0914  7D          	ld	a, l
2379  0915  E6 01       	and	a,0x01
2380  0917  32 00 00    	ld	(_tmp),a
2381  091A  3A 00 00    	ld	a,(_phase_pop)
2382  091D  B7          	or	a, a
2383  091E  28 06       	jr	Z,l_game_enemy_quota_00101
2384  0920  3A 00 00    	ld	a,(_phase_left)
2385  0923  3D          	dec	a
2386  0924  20 05       	jr	NZ,l_game_enemy_quota_00102
2387  0926              l_game_enemy_quota_00101:
2388  0926  21 00 00    	ld	hl,_tmp
2389  0929  36 00       	ld	(hl),0x00
2390  092B              l_game_enemy_quota_00102:
2391  092B  3A 00 00    	ld	a,(_phase_left)
2392  092E  B7          	or	a, a
2393  092F  28 69       	jr	Z,l_game_enemy_quota_00117
2394  0931  3A 00 00    	ld	a,(_tmp)
2395  0934  B7          	or	a, a
2396  0935  20 63       	jr	NZ,l_game_enemy_quota_00117
2397  0937  01 02 00    	ld	bc,_phase_quota + 2
2398  093A  0A          	ld	a,(bc)
2399  093B  B7          	or	a, a
2400  093C  28 10       	jr	Z,l_game_enemy_quota_00105
2401  093E  C5          	push	bc
2402  093F  2E 09       	ld	l,0x09
2403  0941  CD 5E 0A    	call	_game_enemy_add1
2404  0944  C1          	pop	bc
2405  0945  0A          	ld	a,(bc)
2406  0946  C6 FF       	add	a,0xff
2407  0948  02          	ld	(bc),a
2408  0949  2E 00       	ld	l,0x00
2409  094B  C3 2D 0A    	jp	l_game_enemy_quota_00134
2410  094E              l_game_enemy_quota_00105:
2411  094E  01 01 00    	ld	bc,_phase_quota + 1
2412  0951  0A          	ld	a,(bc)
2413  0952  B7          	or	a, a
2414  0953  28 1F       	jr	Z,l_game_enemy_quota_00110
2415  0955  3A 00 00    	ld	a,(_phase_angry)
2416  0958  B7          	or	a, a
2417  0959  28 09       	jr	Z,l_game_enemy_quota_00107
2418  095B  C5          	push	bc
2419  095C  2E 06       	ld	l,0x06
2420  095E  CD 5E 0A    	call	_game_enemy_add1
2421  0961  C1          	pop	bc
2422  0962  18 07       	jr	l_game_enemy_quota_00108
2423  0964              l_game_enemy_quota_00107:
2424  0964  C5          	push	bc
2425  0965  2E 04       	ld	l,0x04
2426  0967  CD 5E 0A    	call	_game_enemy_add1
2427  096A  C1          	pop	bc
2428  096B              l_game_enemy_quota_00108:
2429  096B  0A          	ld	a,(bc)
2430  096C  C6 FF       	add	a,0xff
2431  096E  02          	ld	(bc),a
2432  096F  2E 00       	ld	l,0x00
2433  0971  C3 2D 0A    	jp	l_game_enemy_quota_00134
2434  0974              l_game_enemy_quota_00110:
2435  0974  3A 00 00    	ld	a,(_phase_quota)
2436  0977  B7          	or	a, a
2437  0978  28 20       	jr	Z,l_game_enemy_quota_00117
2438  097A  3A 00 00    	ld	a,(_phase_angry)
2439  097D  B7          	or	a, a
2440  097E  28 07       	jr	Z,l_game_enemy_quota_00112
2441  0980  2E 03       	ld	l,0x03
2442  0982  CD 5E 0A    	call	_game_enemy_add1
2443  0985  18 05       	jr	l_game_enemy_quota_00113
2444  0987              l_game_enemy_quota_00112:
2445  0987  2E 01       	ld	l,0x01
2446  0989  CD 5E 0A    	call	_game_enemy_add1
2447  098C              l_game_enemy_quota_00113:
2448  098C  21 00 00    	ld	hl,_phase_quota
2449  098F  4E          	ld	c,(hl)
2450  0990  0D          	dec	c
2451  0991  21 00 00    	ld	hl,_phase_quota
2452  0994  71          	ld	(hl),c
2453  0995  2E 00       	ld	l,0x00
2454  0997  C3 2D 0A    	jp	l_game_enemy_quota_00134
2455  099A              l_game_enemy_quota_00117:
2456  099A  3A 00 00    	ld	a,(_phase_coins)
2457  099D  B7          	or	a, a
2458  099E  28 0A       	jr	Z,l_game_enemy_quota_00120
2459  09A0  2E 08       	ld	l,0x08
2460  09A2  CD 5E 0A    	call	_game_enemy_add1
2461  09A5  2E 00       	ld	l,0x00
2462  09A7  C3 2D 0A    	jp	l_game_enemy_quota_00134
2463  09AA              l_game_enemy_quota_00120:
2464  09AA  CD 00 00    	call	_rand
2465  09AD  7D          	ld	a,l
2466  09AE  E6 03       	and	a,0x03
2467  09B0  44          	ld	b,h
2468  09B1  0E 00       	ld	c,0x00
2469  09B3  CB 79       	bit	7,c
2470  09B5  20 74       	jr	NZ,l_game_enemy_quota_00133
2471  09B7  5F          	ld	e,a
2472  09B8  3E 03       	ld	a,0x03
2473  09BA  BB          	cp	a, e
2474  09BB  3E 00       	ld	a,0x00
2475  09BD  99          	sbc	a, c
2476  09BE  E2 C3 09    	jp	PO, l_game_enemy_quota_00198
2477  09C1  EE 80       	xor	a,0x80
2478  09C3              l_game_enemy_quota_00198:
2479  09C3  FA 2B 0A    	jp	M,l_game_enemy_quota_00133
2480  09C6  16 00       	ld	d,0x00
2481  09C8  21 CE 09    	ld	hl,l_game_enemy_quota_00199
2482  09CB  19          	add	hl,de
2483  09CC  19          	add	hl,de
2484  09CD  E9          	jp	(hl)
2485  09CE              l_game_enemy_quota_00199:
2486  09CE  18 06       	jr	l_game_enemy_quota_00121
2487  09D0  18 13       	jr	l_game_enemy_quota_00124
2488  09D2  18 29       	jr	l_game_enemy_quota_00127
2489  09D4  18 3F       	jr	l_game_enemy_quota_00130
2490  09D6              l_game_enemy_quota_00121:
2491  09D6  3E 07       	ld	a,0x07
2492  09D8  21 00 00    	ld	hl,_phase_curr
2493  09DB  96          	sub	a, (hl)
2494  09DC  30 4D       	jr	NC,l_game_enemy_quota_00133
2495  09DE  2E 07       	ld	l,0x07
2496  09E0  CD 5E 0A    	call	_game_enemy_add1
2497  09E3  18 46       	jr	l_game_enemy_quota_00133
2498  09E5              l_game_enemy_quota_00124:
2499  09E5  2A 00 00    	ld	hl,(_game_time_fireball_start)
2500  09E8  E5          	push	hl
2501  09E9  21 00 00    	ld	hl,0x0000
2502  09EC  E5          	push	hl
2503  09ED  CD 2E 1A    	call	_game_check_time
2504  09F0  F1          	pop	af
2505  09F1  F1          	pop	af
2506  09F2  7D          	ld	a,l
2507  09F3  B7          	or	a, a
2508  09F4  28 35       	jr	Z,l_game_enemy_quota_00133
2509  09F6  2E 0B       	ld	l,0x0b
2510  09F8  CD 5E 0A    	call	_game_enemy_add1
2511  09FB  18 2E       	jr	l_game_enemy_quota_00133
2512  09FD              l_game_enemy_quota_00127:
2513  09FD  2A 00 00    	ld	hl,(_game_time_fireball_start)
2514  0A00  E5          	push	hl
2515  0A01  21 00 00    	ld	hl,0x0000
2516  0A04  E5          	push	hl
2517  0A05  CD 2E 1A    	call	_game_check_time
2518  0A08  F1          	pop	af
2519  0A09  F1          	pop	af
2520  0A0A  7D          	ld	a,l
2521  0A0B  B7          	or	a, a
2522  0A0C  28 1D       	jr	Z,l_game_enemy_quota_00133
2523  0A0E  2E 0B       	ld	l,0x0b
2524  0A10  CD 5E 0A    	call	_game_enemy_add1
2525  0A13  18 16       	jr	l_game_enemy_quota_00133
2526  0A15              l_game_enemy_quota_00130:
2527  0A15  2A 00 00    	ld	hl,(_game_time_fireball_start)
2528  0A18  E5          	push	hl
2529  0A19  21 00 00    	ld	hl,0x0000
2530  0A1C  E5          	push	hl
2531  0A1D  CD 2E 1A    	call	_game_check_time
2532  0A20  F1          	pop	af
2533  0A21  F1          	pop	af
2534  0A22  7D          	ld	a,l
2535  0A23  B7          	or	a, a
2536  0A24  28 05       	jr	Z,l_game_enemy_quota_00133
2537  0A26  2E 0A       	ld	l,0x0a
2538  0A28  CD 5E 0A    	call	_game_enemy_add1
2539  0A2B              l_game_enemy_quota_00133:
2540  0A2B  2E 00       	ld	l,0x00
2541  0A2D              l_game_enemy_quota_00134:
2542  0A2D  C9          	ret
2543  0A2E              	SECTION code_compiler
2544  0A2E              ;	---------------------------------
2545  0A2E              ; Function game_enemy_rnd
2546  0A2E              ; ---------------------------------
2547  0A2E              _game_enemy_rnd:
2548  0A2E  3A 00 00    	ld	a,(_spr_count)
2549  0A31  D6 06       	sub	a,0x06
2550  0A33  30 26       	jr	NC,l_game_enemy_rnd_00102
2551  0A35  21 64 00    	ld	hl,0x0064
2552  0A38  E5          	push	hl
2553  0A39  2A 00 00    	ld	hl,(_entry_time)
2554  0A3C  E5          	push	hl
2555  0A3D  CD 2E 1A    	call	_game_check_time
2556  0A40  F1          	pop	af
2557  0A41  F1          	pop	af
2558  0A42  7D          	ld	a,l
2559  0A43  B7          	or	a, a
2560  0A44  28 15       	jr	Z,l_game_enemy_rnd_00102
2561  0A46  2A 00 00    	ld	hl,(_curr_time)
2562  0A49  22 00 00    	ld	(_entry_time),hl
2563  0A4C  CD 00 00    	call	_rand
2564  0A4F  01 0B 00    	ld	bc,0x000b
2565  0A52  C5          	push	bc
2566  0A53  E5          	push	hl
2567  0A54  CD 00 00    	call	__modsint_callee
2568  0A57  2C          	inc	l
2569  0A58  CD 5E 0A    	call	_game_enemy_add1
2570  0A5B              l_game_enemy_rnd_00102:
2571  0A5B  2E 00       	ld	l,0x00
2572  0A5D  C9          	ret
2573  0A5E              	SECTION code_compiler
2574  0A5E              ;	---------------------------------
2575  0A5E              ; Function game_enemy_add1
2576  0A5E              ; ---------------------------------
2577  0A5E              _game_enemy_add1:
2578  0A5E  CD 00 00    	call	___sdcc_enter_ix
2579  0A61  F5          	push	af
2580  0A62  45          	ld	b,l
2581  0A63  78          	ld	a,b
2582  0A64  D6 0A       	sub	a,0x0a
2583  0A66  20 04       	jr	NZ,l_game_enemy_add1_00185
2584  0A68  3E 01       	ld	a,0x01
2585  0A6A  18 01       	jr	l_game_enemy_add1_00186
2586  0A6C              l_game_enemy_add1_00185:
2587  0A6C  AF          	xor	a,a
2588  0A6D              l_game_enemy_add1_00186:
2589  0A6D  4F          	ld	c,a
2590  0A6E  B7          	or	a, a
2591  0A6F  28 0B       	jr	Z,l_game_enemy_add1_00105
2592  0A71  C5          	push	bc
2593  0A72  2E 0A       	ld	l,0x0a
2594  0A74  CD A0 0B    	call	_game_enemy_add_get_index
2595  0A77  C1          	pop	bc
2596  0A78  5D          	ld	e,l
2597  0A79  1C          	inc	e
2598  0A7A  20 2B       	jr	NZ,l_game_enemy_add1_00101
2599  0A7C              l_game_enemy_add1_00105:
2600  0A7C  78          	ld	a,b
2601  0A7D  D6 0B       	sub	a,0x0b
2602  0A7F  20 04       	jr	NZ,l_game_enemy_add1_00189
2603  0A81  3E 01       	ld	a,0x01
2604  0A83  18 01       	jr	l_game_enemy_add1_00190
2605  0A85              l_game_enemy_add1_00189:
2606  0A85  AF          	xor	a,a
2607  0A86              l_game_enemy_add1_00190:
2608  0A86  DD 77 FF    	ld	(ix-1),a
2609  0A89  B7          	or	a, a
2610  0A8A  28 0B       	jr	Z,l_game_enemy_add1_00107
2611  0A8C  C5          	push	bc
2612  0A8D  2E 0B       	ld	l,0x0b
2613  0A8F  CD A0 0B    	call	_game_enemy_add_get_index
2614  0A92  C1          	pop	bc
2615  0A93  5D          	ld	e,l
2616  0A94  1C          	inc	e
2617  0A95  20 10       	jr	NZ,l_game_enemy_add1_00101
2618  0A97              l_game_enemy_add1_00107:
2619  0A97  78          	ld	a,b
2620  0A98  D6 07       	sub	a,0x07
2621  0A9A  20 10       	jr	NZ,l_game_enemy_add1_00102
2622  0A9C  C5          	push	bc
2623  0A9D  2E 07       	ld	l,0x07
2624  0A9F  CD A0 0B    	call	_game_enemy_add_get_index
2625  0AA2  C1          	pop	bc
2626  0AA3  5D          	ld	e,l
2627  0AA4  1C          	inc	e
2628  0AA5  28 05       	jr	Z,l_game_enemy_add1_00102
2629  0AA7              l_game_enemy_add1_00101:
2630  0AA7  2E 00       	ld	l,0x00
2631  0AA9  C3 9C 0B    	jp	l_game_enemy_add1_00131
2632  0AAC              l_game_enemy_add1_00102:
2633  0AAC  21 00 00    	ld	hl,_phase_pop
2634  0AAF  34          	inc	(hl)
2635  0AB0  C5          	push	bc
2636  0AB1  CD 00 00    	call	_sound_enter_enemy
2637  0AB4  2E 00       	ld	l,0x00
2638  0AB6  CD A0 0B    	call	_game_enemy_add_get_index
2639  0AB9  C1          	pop	bc
2640  0ABA  7D          	ld	a,l
2641  0ABB  32 00 00    	ld	(_tmp),a
2642  0ABE  C5          	push	bc
2643  0ABF  CD 00 00    	call	_rand
2644  0AC2  C1          	pop	bc
2645  0AC3  7D          	ld	a, l
2646  0AC4  E6 01       	and	a,0x01
2647  0AC6  32 00 00    	ld	(_tmp0),a
2648  0AC9  3D          	dec	a
2649  0ACA  20 1C       	jr	NZ,l_game_enemy_add1_00113
2650  0ACC  21 00 00    	ld	hl,_s_lin0
2651  0ACF  36 10       	ld	(hl),0x10
2652  0AD1  21 00 00    	ld	hl,_s_col0
2653  0AD4  36 04       	ld	(hl),0x04
2654  0AD6  21 00 00    	ld	hl,_s_col1
2655  0AD9  36 02       	ld	(hl),0x02
2656  0ADB  79          	ld	a,c
2657  0ADC  B7          	or	a, a
2658  0ADD  28 02       	jr	Z,l_game_enemy_add1_00109
2659  0ADF  36 03       	ld	(hl),0x03
2660  0AE1              l_game_enemy_add1_00109:
2661  0AE1  21 00 00    	ld	hl,_tmp1
2662  0AE4  36 01       	ld	(hl),0x01
2663  0AE6  18 1A       	jr	l_game_enemy_add1_00114
2664  0AE8              l_game_enemy_add1_00113:
2665  0AE8  21 00 00    	ld	hl,_s_lin0
2666  0AEB  36 10       	ld	(hl),0x10
2667  0AED  21 00 00    	ld	hl,_s_col0
2668  0AF0  36 1A       	ld	(hl),0x1a
2669  0AF2  21 00 00    	ld	hl,_s_col1
2670  0AF5  36 1E       	ld	(hl),0x1e
2671  0AF7  79          	ld	a,c
2672  0AF8  B7          	or	a, a
2673  0AF9  28 02       	jr	Z,l_game_enemy_add1_00111
2674  0AFB  36 1C       	ld	(hl),0x1c
2675  0AFD              l_game_enemy_add1_00111:
2676  0AFD  21 00 00    	ld	hl,_tmp1
2677  0B00  36 FF       	ld	(hl),0xff
2678  0B02              l_game_enemy_add1_00114:
2679  0B02  78          	ld	a,b
2680  0B03  D6 08       	sub	a,0x08
2681  0B05  20 04       	jr	NZ,l_game_enemy_add1_00198
2682  0B07  3E 01       	ld	a,0x01
2683  0B09  18 01       	jr	l_game_enemy_add1_00199
2684  0B0B              l_game_enemy_add1_00198:
2685  0B0B  AF          	xor	a,a
2686  0B0C              l_game_enemy_add1_00199:
2687  0B0C  DD 77 FE    	ld	(ix-2),a
2688  0B0F  B7          	or	a, a
2689  0B10  28 04       	jr	Z,l_game_enemy_add1_00116
2690  0B12  21 00 00    	ld	hl,_phase_coins
2691  0B15  35          	dec	(hl)
2692  0B16              l_game_enemy_add1_00116:
2693  0B16  21 00 00    	ld	hl,_tmp_uc
2694  0B19  36 00       	ld	(hl),0x00
2695  0B1B  DD 7E FF    	ld	a,(ix-1)
2696  0B1E  B7          	or	a,a
2697  0B1F  20 03       	jr	NZ,l_game_enemy_add1_00123
2698  0B21  B1          	or	a,c
2699  0B22  28 35       	jr	Z,l_game_enemy_add1_00124
2700  0B24              l_game_enemy_add1_00123:
2701  0B24  C5          	push	bc
2702  0B25  CD 00 00    	call	_rand
2703  0B28  11 03 00    	ld	de,0x0003
2704  0B2B  D5          	push	de
2705  0B2C  E5          	push	hl
2706  0B2D  CD 00 00    	call	__modsint_callee
2707  0B30  C1          	pop	bc
2708  0B31  5D          	ld	e,l
2709  0B32  21 00 00    	ld	hl,_tmp_uc
2710  0B35  73          	ld	(hl),e
2711  0B36  7B          	ld	a,e
2712  0B37  B7          	or	a, a
2713  0B38  20 02       	jr	NZ,l_game_enemy_add1_00118
2714  0B3A  36 10       	ld	(hl),0x10
2715  0B3C              l_game_enemy_add1_00118:
2716  0B3C  3A 00 00    	ld	a,(_tmp_uc)
2717  0B3F  3D          	dec	a
2718  0B40  20 05       	jr	NZ,l_game_enemy_add1_00120
2719  0B42  21 00 00    	ld	hl,_tmp_uc
2720  0B45  36 38       	ld	(hl),0x38
2721  0B47              l_game_enemy_add1_00120:
2722  0B47  3A 00 00    	ld	a,(_tmp_uc)
2723  0B4A  D6 02       	sub	a,0x02
2724  0B4C  20 05       	jr	NZ,l_game_enemy_add1_00122
2725  0B4E  21 00 00    	ld	hl,_tmp_uc
2726  0B51  36 84       	ld	(hl),0x84
2727  0B53              l_game_enemy_add1_00122:
2728  0B53  3A 00 00    	ld	a,(_s_col1)
2729  0B56  32 00 00    	ld	(_s_col0),a
2730  0B59              l_game_enemy_add1_00124:
2731  0B59  CD 00 00    	call	_ay_is_playing
2732  0B5C  7D          	ld	a,l
2733  0B5D  D6 02       	sub	a,0x02
2734  0B5F  30 14       	jr	NC,l_game_enemy_add1_00130
2735  0B61  DD 7E FE    	ld	a,(ix-2)
2736  0B64  B7          	or	a, a
2737  0B65  20 08       	jr	NZ,l_game_enemy_add1_00127
2738  0B67  21 00 00    	ld	hl,_ay_effect_04
2739  0B6A  CD 00 00    	call	_ay_fx_play
2740  0B6D  18 06       	jr	l_game_enemy_add1_00130
2741  0B6F              l_game_enemy_add1_00127:
2742  0B6F  21 00 00    	ld	hl,_ay_effect_07
2743  0B72  CD 00 00    	call	_ay_fx_play
2744  0B75              l_game_enemy_add1_00130:
2745  0B75  2A 00 00    	ld	hl,(_curr_time)
2746  0B78  22 00 00    	ld	(_entry_time),hl
2747  0B7B  3A 00 00    	ld	a,(_s_lin0)
2748  0B7E  21 00 00    	ld	hl,_tmp_uc
2749  0B81  86          	add	a, (hl)
2750  0B82  57          	ld	d,a
2751  0B83  3A 00 00    	ld	a,(_tmp1)
2752  0B86  48          	ld	c,b
2753  0B87  47          	ld	b,a
2754  0B88  3A 00 00    	ld	a,(_s_col0)
2755  0B8B  C5          	push	bc
2756  0B8C  5A          	ld	e,d
2757  0B8D  57          	ld	d,a
2758  0B8E  3A 00 00    	ld	a,(_tmp)
2759  0B91  D5          	push	de
2760  0B92  F5          	push	af
2761  0B93  33          	inc	sp
2762  0B94  CD 00 00    	call	_enemy_init
2763  0B97  F1          	pop	af
2764  0B98  F1          	pop	af
2765  0B99  33          	inc	sp
2766  0B9A  2E 00       	ld	l,0x00
2767  0B9C              l_game_enemy_add1_00131:
2768  0B9C  F1          	pop	af
2769  0B9D  DD E1       	pop	ix
2770  0B9F  C9          	ret
2771  0BA0              	SECTION code_compiler
2772  0BA0              ;	---------------------------------
2773  0BA0              ; Function game_enemy_add_get_index
2774  0BA0              ; ---------------------------------
2775  0BA0              _game_enemy_add_get_index:
2776  0BA0  4D          	ld	c,l
2777  0BA1  21 00 00    	ld	hl,_enemies
2778  0BA4  36 00       	ld	(hl),0x00
2779  0BA6              l_game_enemy_add_get_index_00104:
2780  0BA6  2A 00 00    	ld	hl,(_enemies)
2781  0BA9  26 00       	ld	h,0x00
2782  0BAB  11 00 00    	ld	de,_class
2783  0BAE  19          	add	hl,de
2784  0BAF  46          	ld	b, (hl)
2785  0BB0  79          	ld	a,c
2786  0BB1  90          	sub	a,b
2787  0BB2  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2788  0BB4  2A 00 00    	ld	hl,(_enemies)
2789  0BB7  18 0B       	jr	l_game_enemy_add_get_index_00106
2790  0BB9              l_game_enemy_add_get_index_00105:
2791  0BB9  21 00 00    	ld	hl,_enemies
2792  0BBC  34          	inc	(hl)
2793  0BBD  3E 05       	ld	a,0x05
2794  0BBF  96          	sub	a, (hl)
2795  0BC0  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2796  0BC2  2E FF       	ld	l,0xff
2797  0BC4              l_game_enemy_add_get_index_00106:
2798  0BC4  C9          	ret
2799  0BC5              	SECTION code_compiler
2800  0BC5              ;	---------------------------------
2801  0BC5              ; Function game_freeze
2802  0BC5              ; ---------------------------------
2803  0BC5              _game_freeze:
2804  0BC5  CD 00 00    	call	___sdcc_enter_ix
2805  0BC8  DD 7E 05    	ld	a,(ix+5)
2806  0BCB  D6 1F       	sub	a,0x1f
2807  0BCD  30 5F       	jr	NC,l_game_freeze_00107
2808  0BCF  21 00 00    	ld	hl,_tmp
2809  0BD2  36 01       	ld	(hl),0x01
2810  0BD4  DD 66 05    	ld	h,(ix+5)
2811  0BD7  DD 6E 04    	ld	l,(ix+4)
2812  0BDA  E5          	push	hl
2813  0BDB  CD 00 00    	call	_game_calc_index
2814  0BDE  F1          	pop	af
2815  0BDF  22 00 00    	ld	(_index1),hl
2816  0BE2  01 00 00    	ld	bc,_lvl_1
2817  0BE5  09          	add	hl,bc
2818  0BE6  7E          	ld	a,(hl)
2819  0BE7  D6 12       	sub	a,0x12
2820  0BE9  20 43       	jr	NZ,l_game_freeze_00107
2821  0BEB  36 14       	ld	(hl),0x14
2822  0BED  76          	halt
2823  0BEE  DD 7E 05    	ld	a,(ix+5)
2824  0BF1  F5          	push	af
2825  0BF2  33          	inc	sp
2826  0BF3  DD 56 04    	ld	d,(ix+4)
2827  0BF6  1E 8B       	ld	e,0x8b
2828  0BF8  D5          	push	de
2829  0BF9  CD 00 00    	call	_NIRVANAP_drawT_callee
2830  0BFC  ED 4B 00 00 	ld	bc,(_index1)
2831  0C00  03          	inc	bc
2832  0C01  21 00 00    	ld	hl,_lvl_1
2833  0C04  09          	add	hl,bc
2834  0C05  4E          	ld	c,(hl)
2835  0C06  DD 46 05    	ld	b,(ix+5)
2836  0C09  04          	inc	b
2837  0C0A  79          	ld	a,c
2838  0C0B  B7          	or	a, a
2839  0C0C  20 0C       	jr	NZ,l_game_freeze_00102
2840  0C0E  C5          	push	bc
2841  0C0F  DD 4E 04    	ld	c,(ix+4)
2842  0C12  C5          	push	bc
2843  0C13  AF          	xor	a, a
2844  0C14  F5          	push	af
2845  0C15  33          	inc	sp
2846  0C16  CD 00 00    	call	_NIRVANAP_fillT_callee
2847  0C19  C1          	pop	bc
2848  0C1A              l_game_freeze_00102:
2849  0C1A  DD 4E 04    	ld	c,(ix+4)
2850  0C1D  C5          	push	bc
2851  0C1E  CD C5 0B    	call	_game_freeze
2852  0C21  F1          	pop	af
2853  0C22  DD 46 05    	ld	b,(ix+5)
2854  0C25  05          	dec	b
2855  0C26  DD 4E 04    	ld	c,(ix+4)
2856  0C29  C5          	push	bc
2857  0C2A  CD C5 0B    	call	_game_freeze
2858  0C2D  F1          	pop	af
2859  0C2E              l_game_freeze_00107:
2860  0C2E  DD E1       	pop	ix
2861  0C30  C9          	ret
2862  0C31              	SECTION code_compiler
2863  0C31              ;	---------------------------------
2864  0C31              ; Function game_unfreeze_all
2865  0C31              ; ---------------------------------
2866  0C31              _game_unfreeze_all:
2867  0C31  21 C0 00    	ld	hl,0x00c0
2868  0C34  22 00 00    	ld	(_index1),hl
2869  0C37              l_game_unfreeze_all_00104:
2870  0C37  01 00 00    	ld	bc,_lvl_1
2871  0C3A  2A 00 00    	ld	hl,(_index1)
2872  0C3D  09          	add	hl,bc
2873  0C3E  7E          	ld	a,(hl)
2874  0C3F  D6 14       	sub	a,0x14
2875  0C41  20 02       	jr	NZ,l_game_unfreeze_all_00105
2876  0C43  36 12       	ld	(hl),0x12
2877  0C45              l_game_unfreeze_all_00105:
2878  0C45  21 00 00    	ld	hl,_index1
2879  0C48  34          	inc	(hl)
2880  0C49  20 02       	jr	NZ,l_game_unfreeze_all_00118
2881  0C4B  23          	inc	hl
2882  0C4C  34          	inc	(hl)
2883  0C4D              l_game_unfreeze_all_00118:
2884  0C4D  3E 20       	ld	a,0x20
2885  0C4F  21 00 00    	ld	hl,_index1
2886  0C52  BE          	cp	a, (hl)
2887  0C53  3E 02       	ld	a,0x02
2888  0C55  23          	inc	hl
2889  0C56  9E          	sbc	a, (hl)
2890  0C57  30 DE       	jr	NC,l_game_unfreeze_all_00104
2891  0C59  C9          	ret
2892  0C5A              	SECTION code_compiler
2893  0C5A              ;	---------------------------------
2894  0C5A              ; Function game_freeze_all
2895  0C5A              ; ---------------------------------
2896  0C5A              _game_freeze_all:
2897  0C5A  21 C0 00    	ld	hl,0x00c0
2898  0C5D  22 00 00    	ld	(_index1),hl
2899  0C60              l_game_freeze_all_00104:
2900  0C60  01 00 00    	ld	bc,_lvl_1
2901  0C63  2A 00 00    	ld	hl,(_index1)
2902  0C66  09          	add	hl,bc
2903  0C67  7E          	ld	a,(hl)
2904  0C68  D6 12       	sub	a,0x12
2905  0C6A  20 02       	jr	NZ,l_game_freeze_all_00105
2906  0C6C  36 14       	ld	(hl),0x14
2907  0C6E              l_game_freeze_all_00105:
2908  0C6E  21 00 00    	ld	hl,_index1
2909  0C71  34          	inc	(hl)
2910  0C72  20 02       	jr	NZ,l_game_freeze_all_00118
2911  0C74  23          	inc	hl
2912  0C75  34          	inc	(hl)
2913  0C76              l_game_freeze_all_00118:
2914  0C76  3E 20       	ld	a,0x20
2915  0C78  21 00 00    	ld	hl,_index1
2916  0C7B  BE          	cp	a, (hl)
2917  0C7C  3E 02       	ld	a,0x02
2918  0C7E  23          	inc	hl
2919  0C7F  9E          	sbc	a, (hl)
2920  0C80  30 DE       	jr	NC,l_game_freeze_all_00104
2921  0C82  C9          	ret
2922  0C83              	SECTION code_compiler
2923  0C83              ;	---------------------------------
2924  0C83              ; Function game_print_score
2925  0C83              ; ---------------------------------
2926  0C83              _game_print_score:
2927  0C83  21 00 00    	ld	hl,_screen_ink
2928  0C86  36 07       	ld	(hl),0x07
2929  0C88  21 00 00    	ld	hl,_screen_paper
2930  0C8B  36 00       	ld	(hl),0x00
2931  0C8D  2A 00 00    	ld	hl,(_player_score)
2932  0C90  E5          	push	hl
2933  0C91  21 00 03    	ld	hl,0x0300
2934  0C94  E5          	push	hl
2935  0C95  CD 00 00    	call	_zx_print_int
2936  0C98  2A 00 00    	ld	hl,(_game_score_top)
2937  0C9B  E5          	push	hl
2938  0C9C  21 00 0E    	ld	hl,0x0e00
2939  0C9F  E5          	push	hl
2940  0CA0  CD 00 00    	call	_zx_print_int
2941  0CA3  3A 00 00    	ld	a,(_game_two_player)
2942  0CA6  B7          	or	a, a
2943  0CA7  C8          	ret	Z
2944  0CA8  2A 02 00    	ld	hl, (_player_score + 2)
2945  0CAB  E5          	push	hl
2946  0CAC  21 00 18    	ld	hl,0x1800
2947  0CAF  E5          	push	hl
2948  0CB0  CD 00 00    	call	_zx_print_int
2949  0CB3  C9          	ret
2950  0CB4              	SECTION code_compiler
2951  0CB4              ;	---------------------------------
2952  0CB4              ; Function game_paint_attrib
2953  0CB4              ; ---------------------------------
2954  0CB4              _game_paint_attrib:
2955  0CB4  7D          	ld	a,l
2956  0CB5  32 00 00    	ld	(_tmp0),a
2957  0CB8              l_game_paint_attrib_00103:
2958  0CB8  3E 13       	ld	a,0x13
2959  0CBA  21 00 00    	ld	hl,_tmp0
2960  0CBD  96          	sub	a, (hl)
2961  0CBE  D8          	ret	C
2962  0CBF  7E          	ld	a,(hl)
2963  0CC0  07          	rlca
2964  0CC1  07          	rlca
2965  0CC2  07          	rlca
2966  0CC3  E6 F8       	and	a,0xf8
2967  0CC5  C6 08       	add	a,0x08
2968  0CC7  F5          	push	af
2969  0CC8  33          	inc	sp
2970  0CC9  21 01 1F    	ld	hl,0x1f01
2971  0CCC  E5          	push	hl
2972  0CCD  CD D8 0C    	call	_game_paint_attrib_lin
2973  0CD0  F1          	pop	af
2974  0CD1  33          	inc	sp
2975  0CD2  21 00 00    	ld	hl,_tmp0
2976  0CD5  34          	inc	(hl)
2977  0CD6  18 E0       	jr	l_game_paint_attrib_00103
2978  0CD8              	SECTION code_compiler
2979  0CD8              ;	---------------------------------
2980  0CD8              ; Function game_paint_attrib_lin
2981  0CD8              ; ---------------------------------
2982  0CD8              _game_paint_attrib_lin:
2983  0CD8  CD 00 00    	call	___sdcc_enter_ix
2984  0CDB  DD 7E 04    	ld	a,(ix+4)
2985  0CDE  32 00 00    	ld	(_tmp_uc),a
2986  0CE1              l_game_paint_attrib_lin_00103:
2987  0CE1  21 00 00    	ld	hl,_tmp_uc
2988  0CE4  7E          	ld	a,(hl)
2989  0CE5  DD 96 05    	sub	a,(ix+5)
2990  0CE8  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2991  0CEA  66          	ld	h,(hl)
2992  0CEB  DD 6E 06    	ld	l,(ix+6)
2993  0CEE  E5          	push	hl
2994  0CEF  21 00 00    	ld	hl,_attrib
2995  0CF2  E5          	push	hl
2996  0CF3  CD 00 00    	call	_NIRVANAP_paintC_callee
2997  0CF6  21 00 00    	ld	hl,_tmp_uc
2998  0CF9  34          	inc	(hl)
2999  0CFA  18 E5       	jr	l_game_paint_attrib_lin_00103
3000  0CFC              l_game_paint_attrib_lin_00105:
3001  0CFC  DD E1       	pop	ix
3002  0CFE  C9          	ret
3003  0CFF              	SECTION code_compiler
3004  0CFF              ;	---------------------------------
3005  0CFF              ; Function game_paint_attrib_lin_h
3006  0CFF              ; ---------------------------------
3007  0CFF              _game_paint_attrib_lin_h:
3008  0CFF  CD 00 00    	call	___sdcc_enter_ix
3009  0D02  DD 7E 04    	ld	a,(ix+4)
3010  0D05  32 00 00    	ld	(_tmp_uc),a
3011  0D08              l_game_paint_attrib_lin_h_00103:
3012  0D08  21 00 00    	ld	hl,_tmp_uc
3013  0D0B  7E          	ld	a,(hl)
3014  0D0C  DD 96 05    	sub	a,(ix+5)
3015  0D0F  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3016  0D11  66          	ld	h,(hl)
3017  0D12  DD 6E 06    	ld	l,(ix+6)
3018  0D15  E5          	push	hl
3019  0D16  21 00 00    	ld	hl,_attrib_hl
3020  0D19  E5          	push	hl
3021  0D1A  CD 00 00    	call	_NIRVANAP_paintC_callee
3022  0D1D  21 00 00    	ld	hl,_tmp_uc
3023  0D20  34          	inc	(hl)
3024  0D21  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3025  0D23              l_game_paint_attrib_lin_h_00105:
3026  0D23  DD E1       	pop	ix
3027  0D25  C9          	ret
3028  0D26              	SECTION code_compiler
3029  0D26              ;	---------------------------------
3030  0D26              ; Function game_menu_config
3031  0D26              ; ---------------------------------
3032  0D26              _game_menu_config:
3033  0D26  CD 00 00    	call	___sdcc_enter_ix
3034  0D29  F5          	push	af
3035  0D2A  3B          	dec	sp
3036  0D2B  2E 0B       	ld	l,0x0b
3037  0D2D  CD B4 0C    	call	_game_paint_attrib
3038  0D30  DD 36 FD 01 	ld	(ix-3),0x01
3039  0D34              l_game_menu_config_00116:
3040  0D34  DD 7E FD    	ld	a,(ix-3)
3041  0D37  B7          	or	a, a
3042  0D38  CA 92 0E    	jp	Z,l_game_menu_config_00119
3043  0D3B              l_game_menu_config_00101:
3044  0D3B  21 00 00    	ld	hl,_k1
3045  0D3E  E5          	push	hl
3046  0D3F  2A 00 00    	ld	hl,(_joyfunc1)
3047  0D42  CD 00 00    	call	___sdcc_call_hl
3048  0D45  F1          	pop	af
3049  0D46  7C          	ld	a,h
3050  0D47  B5          	or	a,l
3051  0D48  20 F1       	jr	NZ,l_game_menu_config_00101
3052  0D4A  3A 00 00    	ld	a,(_spec128)
3053  0D4D  B7          	or	a,a
3054  0D4E  28 0A       	jr	Z,l_game_menu_config_00121
3055  0D50  DD 36 FE C5 	ld	(ix-2),+((___str_25) & 0xFF)
3056  0D54  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3057  0D58  18 08       	jr	l_game_menu_config_00122
3058  0D5A              l_game_menu_config_00121:
3059  0D5A  DD 36 FE D0 	ld	(ix-2),+((___str_26) & 0xFF)
3060  0D5E  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3061  0D62              l_game_menu_config_00122:
3062  0D62  DD 4E FE    	ld	c,(ix-2)
3063  0D65  DD 46 FF    	ld	b,(ix-1)
3064  0D68  C5          	push	bc
3065  0D69  21 0E 0A    	ld	hl,0x0a0e
3066  0D6C  E5          	push	hl
3067  0D6D  CD 00 00    	call	_zx_print_str
3068  0D70  21 DB 00    	ld	hl,___str_27
3069  0D73  E5          	push	hl
3070  0D74  21 0F 0A    	ld	hl,0x0a0f
3071  0D77  E5          	push	hl
3072  0D78  CD 00 00    	call	_zx_print_str
3073  0D7B  21 E6 00    	ld	hl,___str_28
3074  0D7E  E5          	push	hl
3075  0D7F  21 10 0A    	ld	hl,0x0a10
3076  0D82  E5          	push	hl
3077  0D83  CD 00 00    	call	_zx_print_str
3078  0D86  21 F1 00    	ld	hl,___str_29
3079  0D89  E5          	push	hl
3080  0D8A  21 11 0A    	ld	hl,0x0a11
3081  0D8D  E5          	push	hl
3082  0D8E  CD 00 00    	call	_zx_print_str
3083  0D91  21 FC 00    	ld	hl,___str_30
3084  0D94  E5          	push	hl
3085  0D95  21 12 0A    	ld	hl,0x0a12
3086  0D98  E5          	push	hl
3087  0D99  CD 00 00    	call	_zx_print_str
3088  0D9C  3A 00 00    	ld	a,(_game_sound)
3089  0D9F  E6 05       	and	a,0x05
3090  0DA1  28 05       	jr	Z,l_game_menu_config_00123
3091  0DA3  01 07 01    	ld	bc,___str_31
3092  0DA6  18 03       	jr	l_game_menu_config_00124
3093  0DA8              l_game_menu_config_00123:
3094  0DA8  01 0B 01    	ld	bc,___str_32
3095  0DAB              l_game_menu_config_00124:
3096  0DAB  C5          	push	bc
3097  0DAC  21 0E 14    	ld	hl,0x140e
3098  0DAF  E5          	push	hl
3099  0DB0  CD 00 00    	call	_zx_print_str
3100  0DB3  3E 02       	ld	a,0x02
3101  0DB5  21 00 00    	ld	hl,_game_type
3102  0DB8  96          	sub	a, (hl)
3103  0DB9  38 34       	jr	C,l_game_menu_config_00107
3104  0DBB  5E          	ld	e,(hl)
3105  0DBC  16 00       	ld	d,0x00
3106  0DBE  21 C4 0D    	ld	hl,l_game_menu_config_00164
3107  0DC1  19          	add	hl,de
3108  0DC2  19          	add	hl,de
3109  0DC3  E9          	jp	(hl)
3110  0DC4              l_game_menu_config_00164:
3111  0DC4  18 04       	jr	l_game_menu_config_00104
3112  0DC6  18 0F       	jr	l_game_menu_config_00105
3113  0DC8  18 1A       	jr	l_game_menu_config_00106
3114  0DCA              l_game_menu_config_00104:
3115  0DCA  21 0F 01    	ld	hl,___str_33
3116  0DCD  E5          	push	hl
3117  0DCE  21 0F 14    	ld	hl,0x140f
3118  0DD1  E5          	push	hl
3119  0DD2  CD 00 00    	call	_zx_print_str
3120  0DD5  18 18       	jr	l_game_menu_config_00107
3121  0DD7              l_game_menu_config_00105:
3122  0DD7  21 13 01    	ld	hl,___str_34
3123  0DDA  E5          	push	hl
3124  0DDB  21 0F 14    	ld	hl,0x140f
3125  0DDE  E5          	push	hl
3126  0DDF  CD 00 00    	call	_zx_print_str
3127  0DE2  18 0B       	jr	l_game_menu_config_00107
3128  0DE4              l_game_menu_config_00106:
3129  0DE4  21 17 01    	ld	hl,___str_35
3130  0DE7  E5          	push	hl
3131  0DE8  21 0F 14    	ld	hl,0x140f
3132  0DEB  E5          	push	hl
3133  0DEC  CD 00 00    	call	_zx_print_str
3134  0DEF              l_game_menu_config_00107:
3135  0DEF  2A 00 00    	ld	hl,(_player_joy)
3136  0DF2  29          	add	hl, hl
3137  0DF3  11 00 00    	ld	de,_joynames
3138  0DF6  19          	add	hl,de
3139  0DF7  4E          	ld	c,(hl)
3140  0DF8  23          	inc	hl
3141  0DF9  46          	ld	b,(hl)
3142  0DFA  C5          	push	bc
3143  0DFB  21 10 14    	ld	hl,0x1410
3144  0DFE  E5          	push	hl
3145  0DFF  CD 00 00    	call	_zx_print_str
3146  0E02  2A 02 00    	ld	hl, (_player_joy + 2)
3147  0E05  29          	add	hl, hl
3148  0E06  11 00 00    	ld	de,_joynames
3149  0E09  19          	add	hl,de
3150  0E0A  4E          	ld	c,(hl)
3151  0E0B  23          	inc	hl
3152  0E0C  46          	ld	b,(hl)
3153  0E0D  C5          	push	bc
3154  0E0E  21 11 14    	ld	hl,0x1411
3155  0E11  E5          	push	hl
3156  0E12  CD 00 00    	call	_zx_print_str
3157  0E15  21 00 00    	ld	hl,0x0000
3158  0E18  E5          	push	hl
3159  0E19  21 0E 12    	ld	hl,0x120e
3160  0E1C  E5          	push	hl
3161  0E1D  21 0A 01    	ld	hl,0x010a
3162  0E20  E5          	push	hl
3163  0E21  CD 4B 11    	call	_game_menu_handle
3164  0E24  F1          	pop	af
3165  0E25  F1          	pop	af
3166  0E26  F1          	pop	af
3167  0E27  7D          	ld	a,l
3168  0E28  32 00 00    	ld	(_game_menu_sel),a
3169  0E2B  21 00 00    	ld	hl,_ay_effect_10
3170  0E2E  CD 00 00    	call	_ay_fx_play
3171  0E31  CD 00 00    	call	_sound_coin
3172  0E34  3E 04       	ld	a,0x04
3173  0E36  21 00 00    	ld	hl,_game_menu_sel
3174  0E39  96          	sub	a, (hl)
3175  0E3A  DA 34 0D    	jp	C,l_game_menu_config_00116
3176  0E3D  5E          	ld	e,(hl)
3177  0E3E  16 00       	ld	d,0x00
3178  0E40  21 46 0E    	ld	hl,l_game_menu_config_00165
3179  0E43  19          	add	hl,de
3180  0E44  19          	add	hl,de
3181  0E45  E9          	jp	(hl)
3182  0E46              l_game_menu_config_00165:
3183  0E46  18 08       	jr	l_game_menu_config_00108
3184  0E48  18 1A       	jr	l_game_menu_config_00109
3185  0E4A  18 27       	jr	l_game_menu_config_00112
3186  0E4C  18 2D       	jr	l_game_menu_config_00113
3187  0E4E  18 33       	jr	l_game_menu_config_00114
3188  0E50              l_game_menu_config_00108:
3189  0E50  3A 00 00    	ld	a,(_spec128)
3190  0E53  B7          	or	a, a
3191  0E54  28 04       	jr	Z,l_game_menu_config_00125
3192  0E56  3E 04       	ld	a,0x04
3193  0E58  18 02       	jr	l_game_menu_config_00126
3194  0E5A              l_game_menu_config_00125:
3195  0E5A  3E 01       	ld	a,0x01
3196  0E5C              l_game_menu_config_00126:
3197  0E5C  21 00 00    	ld	hl,_game_sound
3198  0E5F  AE          	xor	a, (hl)
3199  0E60  77          	ld	(hl),a
3200  0E61  C3 34 0D    	jp	l_game_menu_config_00116
3201  0E64              l_game_menu_config_00109:
3202  0E64  21 00 00    	ld	hl,_game_type
3203  0E67  34          	inc	(hl)
3204  0E68  3E 02       	ld	a,0x02
3205  0E6A  96          	sub	a, (hl)
3206  0E6B  D2 34 0D    	jp	NC,l_game_menu_config_00116
3207  0E6E  36 00       	ld	(hl),0x00
3208  0E70  C3 34 0D    	jp	l_game_menu_config_00116
3209  0E73              l_game_menu_config_00112:
3210  0E73  2E 00       	ld	l,0x00
3211  0E75  CD 97 0E    	call	_game_joystick_change
3212  0E78  C3 34 0D    	jp	l_game_menu_config_00116
3213  0E7B              l_game_menu_config_00113:
3214  0E7B  2E 01       	ld	l,0x01
3215  0E7D  CD 97 0E    	call	_game_joystick_change
3216  0E80  C3 34 0D    	jp	l_game_menu_config_00116
3217  0E83              l_game_menu_config_00114:
3218  0E83  21 00 00    	ld	hl,_game_menu_sel
3219  0E86  36 00       	ld	(hl),0x00
3220  0E88  CD 1D 10    	call	_game_menu_paint
3221  0E8B  DD 36 FD 00 	ld	(ix-3),0x00
3222  0E8F  C3 34 0D    	jp	l_game_menu_config_00116
3223  0E92              l_game_menu_config_00119:
3224  0E92  DD F9       	ld	sp, ix
3225  0E94  DD E1       	pop	ix
3226  0E96  C9          	ret
3227  0E97              	SECTION rodata_compiler
3228  00C5              ___str_25:
3229  00C5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3230  00CF  00          	DEFB 0x00
3231  00D0              	SECTION rodata_compiler
3232  00D0              ___str_26:
3233  00D0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3234  00DA  00          	DEFB 0x00
3235  00DB              	SECTION rodata_compiler
3236  00DB              ___str_27:
3237  00DB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3238  00E5  00          	DEFB 0x00
3239  00E6              	SECTION rodata_compiler
3240  00E6              ___str_28:
3241  00E6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3242  00F0  00          	DEFB 0x00
3243  00F1              	SECTION rodata_compiler
3244  00F1              ___str_29:
3245  00F1  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3246  00FB  00          	DEFB 0x00
3247  00FC              	SECTION rodata_compiler
3248  00FC              ___str_30:
3249  00FC  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3250  0106  00          	DEFB 0x00
3251  0107              	SECTION rodata_compiler
3252  0107              ___str_31:
3253  0107  4F 4E 20    	DEFM "ON "
3254  010A  00          	DEFB 0x00
3255  010B              	SECTION rodata_compiler
3256  010B              ___str_32:
3257  010B  4F 46 46    	DEFM "OFF"
3258  010E  00          	DEFB 0x00
3259  010F              	SECTION rodata_compiler
3260  010F              ___str_33:
3261  010F  41 20 20    	DEFM "A  "
3262  0112  00          	DEFB 0x00
3263  0113              	SECTION rodata_compiler
3264  0113              ___str_34:
3265  0113  42 20 20    	DEFM "B  "
3266  0116  00          	DEFB 0x00
3267  0117              	SECTION rodata_compiler
3268  0117              ___str_35:
3269  0117  52 4E 44    	DEFM "RND"
3270  011A  00          	DEFB 0x00
3271  011B              	SECTION code_compiler
3272  0E97              ;	---------------------------------
3273  0E97              ; Function game_joystick_change
3274  0E97              ; ---------------------------------
3275  0E97              _game_joystick_change:
3276  0E97  CD 00 00    	call	___sdcc_enter_ix
3277  0E9A  3B          	dec	sp
3278  0E9B  DD 75 FF    	ld	(ix-1),l
3279  0E9E  26 00       	ld	h,0x00
3280  0EA0  29          	add	hl, hl
3281  0EA1  01 00 00    	ld	bc,_player_joy
3282  0EA4  09          	add	hl,bc
3283  0EA5  4D          	ld	c,l
3284  0EA6  44          	ld	b,h
3285  0EA7  5E          	ld	e,(hl)
3286  0EA8  23          	inc	hl
3287  0EA9  56          	ld	d,(hl)
3288  0EAA  13          	inc	de
3289  0EAB  69          	ld	l, c
3290  0EAC  60          	ld	h, b
3291  0EAD  73          	ld	(hl),e
3292  0EAE  23          	inc	hl
3293  0EAF  72          	ld	(hl),d
3294  0EB0  7B          	ld	a,e
3295  0EB1  D6 07       	sub	a,0x07
3296  0EB3  20 09       	jr	NZ,l_game_joystick_change_00102
3297  0EB5  B2          	or	a,d
3298  0EB6  20 06       	jr	NZ,l_game_joystick_change_00102
3299  0EB8  69          	ld	l, c
3300  0EB9  60          	ld	h, b
3301  0EBA  AF          	xor	a, a
3302  0EBB  77          	ld	(hl), a
3303  0EBC  23          	inc	hl
3304  0EBD  77          	ld	(hl), a
3305  0EBE              l_game_joystick_change_00102:
3306  0EBE  DD 7E FF    	ld	a,(ix-1)
3307  0EC1  B7          	or	a, a
3308  0EC2  20 15       	jr	NZ,l_game_joystick_change_00104
3309  0EC4  69          	ld	l, c
3310  0EC5  60          	ld	h, b
3311  0EC6  5E          	ld	e,(hl)
3312  0EC7  23          	inc	hl
3313  0EC8  56          	ld	d,(hl)
3314  0EC9  1D          	dec	e
3315  0ECA  20 0D       	jr	NZ,l_game_joystick_change_00104
3316  0ECC  7A          	ld	a,d
3317  0ECD  B7          	or	a, a
3318  0ECE  20 09       	jr	NZ,l_game_joystick_change_00104
3319  0ED0  ED 5B 00 00 	ld	de,(_player_joy)
3320  0ED4  13          	inc	de
3321  0ED5  ED 53 00 00 	ld	(_player_joy), de
3322  0ED9              l_game_joystick_change_00104:
3323  0ED9  DD 7E FF    	ld	a,(ix-1)
3324  0EDC  3D          	dec	a
3325  0EDD  20 11       	jr	NZ,l_game_joystick_change_00107
3326  0EDF  69          	ld	l, c
3327  0EE0  60          	ld	h, b
3328  0EE1  4E          	ld	c,(hl)
3329  0EE2  23          	inc	hl
3330  0EE3  7E          	ld	a, (hl)
3331  0EE4  B1          	or	a,c
3332  0EE5  20 09       	jr	NZ,l_game_joystick_change_00107
3333  0EE7  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3334  0EEB  03          	inc	bc
3335  0EEC  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3336  0EF0              l_game_joystick_change_00107:
3337  0EF0  ED 4B 00 00 	ld	bc,(_player_joy)
3338  0EF4  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3339  0EF8  79          	ld	a,c
3340  0EF9  93          	sub	a, e
3341  0EFA  20 18       	jr	NZ,l_game_joystick_change_00114
3342  0EFC  78          	ld	a,b
3343  0EFD  92          	sub	a, d
3344  0EFE  20 14       	jr	NZ,l_game_joystick_change_00114
3345  0F00  DD 7E FF    	ld	a,(ix-1)
3346  0F03  B7          	or	a, a
3347  0F04  20 08       	jr	NZ,l_game_joystick_change_00110
3348  0F06  21 01 00    	ld	hl,0x0001
3349  0F09  22 02 00    	ld	(_player_joy + 0x0002),hl
3350  0F0C  18 06       	jr	l_game_joystick_change_00114
3351  0F0E              l_game_joystick_change_00110:
3352  0F0E  21 00 00    	ld	hl,0x0000
3353  0F11  22 00 00    	ld	(_player_joy), hl
3354  0F14              l_game_joystick_change_00114:
3355  0F14  33          	inc	sp
3356  0F15  DD E1       	pop	ix
3357  0F17  C9          	ret
3358  0F18              	SECTION code_compiler
3359  0F18              ;	---------------------------------
3360  0F18              ; Function game_joystick_set_menu
3361  0F18              ; ---------------------------------
3362  0F18              _game_joystick_set_menu:
3363  0F18  21 00 00    	ld	hl,_in_stick_sinclair1
3364  0F1B  22 00 00    	ld	(_joyfunc1),hl
3365  0F1E  21 00 00    	ld	hl,_in_stick_sinclair2
3366  0F21  22 00 00    	ld	(_joyfunc2),hl
3367  0F24  C9          	ret
3368  0F25              	SECTION code_compiler
3369  0F25              ;	---------------------------------
3370  0F25              ; Function game_joystick_set
3371  0F25              ; ---------------------------------
3372  0F25              _game_joystick_set:
3373  0F25  01 00 00    	ld	bc,_control_method+0
3374  0F28  2A 00 00    	ld	hl,(_player_joy)
3375  0F2B  29          	add	hl, hl
3376  0F2C  09          	add	hl,bc
3377  0F2D  11 00 00    	ld	de,_joyfunc1
3378  0F30  ED A0       	ldi
3379  0F32  03          	inc	bc
3380  0F33  7E          	ld	a,(hl)
3381  0F34  12          	ld	(de),a
3382  0F35  2A 02 00    	ld	hl, (_player_joy + 2)
3383  0F38  29          	add	hl, hl
3384  0F39  09          	add	hl,bc
3385  0F3A  11 00 00    	ld	de,_joyfunc2
3386  0F3D  ED A0       	ldi
3387  0F3F  7E          	ld	a,(hl)
3388  0F40  12          	ld	(de),a
3389  0F41  C9          	ret
3390  0F42              	SECTION code_compiler
3391  0F42              ;	---------------------------------
3392  0F42              ; Function game_menu
3393  0F42              ; ---------------------------------
3394  0F42              _game_menu:
3395  0F42  21 00 00    	ld	hl,_game_menu_sel
3396  0F45  36 00       	ld	(hl),0x00
3397  0F47  CD A9 0F    	call	_game_menu_top_paint
3398  0F4A  CD 1D 10    	call	_game_menu_paint
3399  0F4D  CD 00 00    	call	_ay_reset
3400  0F50  21 00 00    	ld	hl,_pb_midi_title
3401  0F53  CD 00 00    	call	_ay_midi_play
3402  0F56              l_game_menu_00101:
3403  0F56  21 00 00    	ld	hl,_k1
3404  0F59  E5          	push	hl
3405  0F5A  2A 00 00    	ld	hl,(_joyfunc1)
3406  0F5D  CD 00 00    	call	___sdcc_call_hl
3407  0F60  F1          	pop	af
3408  0F61  7C          	ld	a,h
3409  0F62  B5          	or	a,l
3410  0F63  20 F1       	jr	NZ,l_game_menu_00101
3411  0F65  21 E8 03    	ld	hl,0x03e8
3412  0F68  E5          	push	hl
3413  0F69  21 0E 12    	ld	hl,0x120e
3414  0F6C  E5          	push	hl
3415  0F6D  21 0C 02    	ld	hl,0x020c
3416  0F70  E5          	push	hl
3417  0F71  CD 4B 11    	call	_game_menu_handle
3418  0F74  F1          	pop	af
3419  0F75  F1          	pop	af
3420  0F76  F1          	pop	af
3421  0F77  4D          	ld	c,l
3422  0F78  21 00 00    	ld	hl,_tmp_uc
3423  0F7B  71          	ld	(hl),c
3424  0F7C  3E 02       	ld	a,0x02
3425  0F7E  96          	sub	a, (hl)
3426  0F7F  38 D5       	jr	C,l_game_menu_00101
3427  0F81  5E          	ld	e,(hl)
3428  0F82  16 00       	ld	d,0x00
3429  0F84  21 8A 0F    	ld	hl,l_game_menu_00125
3430  0F87  19          	add	hl,de
3431  0F88  19          	add	hl,de
3432  0F89  E9          	jp	(hl)
3433  0F8A              l_game_menu_00125:
3434  0F8A  18 04       	jr	l_game_menu_00104
3435  0F8C  18 0C       	jr	l_game_menu_00105
3436  0F8E  18 14       	jr	l_game_menu_00106
3437  0F90              l_game_menu_00104:
3438  0F90  21 00 00    	ld	hl,_game_two_player
3439  0F93  36 00       	ld	(hl),0x00
3440  0F95  CD 4D 03    	call	_game_loop
3441  0F98  18 BC       	jr	l_game_menu_00101
3442  0F9A              l_game_menu_00105:
3443  0F9A  21 00 00    	ld	hl,_game_two_player
3444  0F9D  36 01       	ld	(hl),0x01
3445  0F9F  CD 4D 03    	call	_game_loop
3446  0FA2  18 B2       	jr	l_game_menu_00101
3447  0FA4              l_game_menu_00106:
3448  0FA4  CD 26 0D    	call	_game_menu_config
3449  0FA7  18 AD       	jr	l_game_menu_00101
3450  0FA9              	SECTION code_compiler
3451  0FA9              ;	---------------------------------
3452  0FA9              ; Function game_menu_top_paint
3453  0FA9              ; ---------------------------------
3454  0FA9              _game_menu_top_paint:
3455  0FA9  CD 00 00    	call	_spr_draw_clear
3456  0FAC  2E 00       	ld	l,0x00
3457  0FAE  CD B4 0C    	call	_game_paint_attrib
3458  0FB1  21 9C 01    	ld	hl,0x019c
3459  0FB4  E5          	push	hl
3460  0FB5  21 00 1E    	ld	hl,0x1e00
3461  0FB8  E5          	push	hl
3462  0FB9  3E 10       	ld	a,0x10
3463  0FBB  F5          	push	af
3464  0FBC  33          	inc	sp
3465  0FBD  CD 98 10    	call	_game_menu_e
3466  0FC0  F1          	pop	af
3467  0FC1  33          	inc	sp
3468  0FC2  21 9F FF    	ld	hl,0xff9f
3469  0FC5  E3          	ex	(sp),hl
3470  0FC6  21 00 1E    	ld	hl,0x1e00
3471  0FC9  E5          	push	hl
3472  0FCA  3E 50       	ld	a,0x50
3473  0FCC  F5          	push	af
3474  0FCD  33          	inc	sp
3475  0FCE  CD 98 10    	call	_game_menu_e
3476  0FD1  F1          	pop	af
3477  0FD2  F1          	pop	af
3478  0FD3  33          	inc	sp
3479  0FD4  21 00 00    	ld	hl,_tmp
3480  0FD7  36 18       	ld	(hl),0x18
3481  0FD9  F3          	di
3482  0FDA  21 00 00    	ld	hl,_tmp_uc
3483  0FDD  36 00       	ld	(hl),0x00
3484  0FDF              l_game_menu_top_paint_00102:
3485  0FDF  3A 00 00    	ld	a,(_tmp_uc)
3486  0FE2  87          	add	a, a
3487  0FE3  C6 05       	add	a,0x05
3488  0FE5  47          	ld	b,a
3489  0FE6  3A 00 00    	ld	a,(_tmp)
3490  0FE9  C6 10       	add	a,0x10
3491  0FEB  57          	ld	d,a
3492  0FEC  3A 00 00    	ld	a,(_tmp_uc)
3493  0FEF  C6 C0       	add	a,0xc0
3494  0FF1  4A          	ld	c, d
3495  0FF2  C5          	push	bc
3496  0FF3  F5          	push	af
3497  0FF4  33          	inc	sp
3498  0FF5  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3499  0FF8  3A 00 00    	ld	a,(_tmp_uc)
3500  0FFB  87          	add	a, a
3501  0FFC  C6 05       	add	a,0x05
3502  0FFE  47          	ld	b,a
3503  0FFF  3A 00 00    	ld	a,(_tmp)
3504  1002  C6 20       	add	a,0x20
3505  1004  57          	ld	d,a
3506  1005  3A 00 00    	ld	a,(_tmp_uc)
3507  1008  C6 CC       	add	a,0xcc
3508  100A  4A          	ld	c, d
3509  100B  C5          	push	bc
3510  100C  F5          	push	af
3511  100D  33          	inc	sp
3512  100E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3513  1011  21 00 00    	ld	hl,_tmp_uc
3514  1014  7E          	ld	a,(hl)
3515  1015  3C          	inc	a
3516  1016  77          	ld	(hl),a
3517  1017  D6 0A       	sub	a,0x0a
3518  1019  38 C4       	jr	C,l_game_menu_top_paint_00102
3519  101B  FB          	ei
3520  101C  C9          	ret
3521  101D              	SECTION code_compiler
3522  101D              ;	---------------------------------
3523  101D              ; Function game_menu_paint
3524  101D              ; ---------------------------------
3525  101D              _game_menu_paint:
3526  101D  76          	halt
3527  101E  3A 00 00    	ld	a,(_tmp)
3528  1021  C6 28       	add	a,0x28
3529  1023  4F          	ld	c, a
3530  1024  06 1A       	ld	b,0x1a
3531  1026  C5          	push	bc
3532  1027  3E 12       	ld	a,0x12
3533  1029  F5          	push	af
3534  102A  33          	inc	sp
3535  102B  CD 00 00    	call	_NIRVANAP_fillC_callee
3536  102E  21 00 20    	ld	hl,0x2000
3537  1031  E5          	push	hl
3538  1032  CD 00 00    	call	_game_fill_row
3539  1035  21 00 20    	ld	hl,0x2000
3540  1038  E5          	push	hl
3541  1039  CD 00 00    	call	_game_fill_row
3542  103C  21 1B 01    	ld	hl,___str_36
3543  103F  E5          	push	hl
3544  1040  21 0E 0A    	ld	hl,0x0a0e
3545  1043  E5          	push	hl
3546  1044  CD 00 00    	call	_zx_print_str
3547  1047  21 0F 20    	ld	hl,0x200f
3548  104A  E5          	push	hl
3549  104B  CD 00 00    	call	_game_fill_row
3550  104E  21 29 01    	ld	hl,___str_37
3551  1051  E5          	push	hl
3552  1052  21 10 0A    	ld	hl,0x0a10
3553  1055  E5          	push	hl
3554  1056  CD 00 00    	call	_zx_print_str
3555  1059  21 11 20    	ld	hl,0x2011
3556  105C  E5          	push	hl
3557  105D  CD 00 00    	call	_game_fill_row
3558  1060  21 37 01    	ld	hl,___str_38
3559  1063  E5          	push	hl
3560  1064  21 12 0A    	ld	hl,0x0a12
3561  1067  E5          	push	hl
3562  1068  CD 00 00    	call	_zx_print_str
3563  106B  21 13 20    	ld	hl,0x2013
3564  106E  E5          	push	hl
3565  106F  CD 00 00    	call	_game_fill_row
3566  1072  21 00 00    	ld	hl,_screen_ink
3567  1075  36 01       	ld	(hl),0x01
3568  1077  21 45 01    	ld	hl,___str_39
3569  107A  E5          	push	hl
3570  107B  21 16 07    	ld	hl,0x0716
3571  107E  E5          	push	hl
3572  107F  CD 00 00    	call	_zx_print_str
3573  1082  21 58 01    	ld	hl,___str_40
3574  1085  E5          	push	hl
3575  1086  21 17 07    	ld	hl,0x0717
3576  1089  E5          	push	hl
3577  108A  CD 00 00    	call	_zx_print_str
3578  108D  21 00 00    	ld	hl,_tmp_uc
3579  1090  36 00       	ld	(hl),0x00
3580  1092  2E 0B       	ld	l,0x0b
3581  1094  CD B4 0C    	call	_game_paint_attrib
3582  1097  C9          	ret
3583  1098              	SECTION rodata_compiler
3584  011B              ___str_36:
3585  011B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3586  0128  00          	DEFB 0x00
3587  0129              	SECTION rodata_compiler
3588  0129              ___str_37:
3589  0129  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3590  0136  00          	DEFB 0x00
3591  0137              	SECTION rodata_compiler
3592  0137              ___str_38:
3593  0137  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3594  0144  00          	DEFB 0x00
3595  0145              	SECTION rodata_compiler
3596  0145              ___str_39:
3597  0145  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3598  0157  00          	DEFB 0x00
3599  0158              	SECTION rodata_compiler
3600  0158              ___str_40:
3601  0158  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3602  0169  00          	DEFB 0x00
3603  016A              	SECTION code_compiler
3604  1098              ;	---------------------------------
3605  1098              ; Function game_menu_e
3606  1098              ; ---------------------------------
3607  1098              _game_menu_e:
3608  1098  CD 00 00    	call	___sdcc_enter_ix
3609  109B  F3          	di
3610  109C  DD 4E 05    	ld	c,(ix+5)
3611  109F  21 00 00    	ld	hl,_tmp_uc
3612  10A2  71          	ld	(hl),c
3613  10A3  DD 46 07    	ld	b,(ix+7)
3614  10A6  04          	inc	b
3615  10A7  DD 56 07    	ld	d,(ix+7)
3616  10AA  14          	inc	d
3617  10AB  14          	inc	d
3618  10AC              l_game_menu_e_00114:
3619  10AC  DD 7E 06    	ld	a,(ix+6)
3620  10AF  21 00 00    	ld	hl,_tmp_uc
3621  10B2  96          	sub	a, (hl)
3622  10B3  38 56       	jr	C,l_game_menu_e_00109
3623  10B5  7E          	ld	a,(hl)
3624  10B6  91          	sub	a, c
3625  10B7  20 15       	jr	NZ,l_game_menu_e_00102
3626  10B9  3A 00 00    	ld	a,(_tmp_uc)
3627  10BC  C5          	push	bc
3628  10BD  D5          	push	de
3629  10BE  F5          	push	af
3630  10BF  33          	inc	sp
3631  10C0  DD 66 04    	ld	h,(ix+4)
3632  10C3  DD 6E 07    	ld	l,(ix+7)
3633  10C6  E5          	push	hl
3634  10C7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3635  10CA  D1          	pop	de
3636  10CB  C1          	pop	bc
3637  10CC  18 36       	jr	l_game_menu_e_00108
3638  10CE              l_game_menu_e_00102:
3639  10CE  3A 00 00    	ld	a,(_tmp_uc)
3640  10D1  DD 96 06    	sub	a,(ix+6)
3641  10D4  20 14       	jr	NZ,l_game_menu_e_00104
3642  10D6  3A 00 00    	ld	a,(_tmp_uc)
3643  10D9  C5          	push	bc
3644  10DA  D5          	push	de
3645  10DB  F5          	push	af
3646  10DC  33          	inc	sp
3647  10DD  DD 7E 04    	ld	a,(ix+4)
3648  10E0  5A          	ld	e,d
3649  10E1  57          	ld	d,a
3650  10E2  D5          	push	de
3651  10E3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3652  10E6  D1          	pop	de
3653  10E7  C1          	pop	bc
3654  10E8  18 1A       	jr	l_game_menu_e_00108
3655  10EA              l_game_menu_e_00104:
3656  10EA  3A 00 00    	ld	a,(_tmp_uc)
3657  10ED  FE 0E       	cp	a,0x0e
3658  10EF  28 13       	jr	Z,l_game_menu_e_00108
3659  10F1  FE 10       	cp	a,0x10
3660  10F3  28 0F       	jr	Z,l_game_menu_e_00108
3661  10F5  C5          	push	bc
3662  10F6  D5          	push	de
3663  10F7  F5          	push	af
3664  10F8  33          	inc	sp
3665  10F9  DD 7E 04    	ld	a,(ix+4)
3666  10FC  48          	ld	c,b
3667  10FD  47          	ld	b,a
3668  10FE  C5          	push	bc
3669  10FF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3670  1102  D1          	pop	de
3671  1103  C1          	pop	bc
3672  1104              l_game_menu_e_00108:
3673  1104  21 00 00    	ld	hl,_tmp_uc
3674  1107  34          	inc	(hl)
3675  1108  34          	inc	(hl)
3676  1109  18 A1       	jr	l_game_menu_e_00114
3677  110B              l_game_menu_e_00109:
3678  110B  DD 7E 08    	ld	a,(ix+8)
3679  110E  3C          	inc	a
3680  110F  20 0A       	jr	NZ,l_game_menu_e_00111
3681  1111  DD 7E 04    	ld	a,(ix+4)
3682  1114  C6 F0       	add	a,0xf0
3683  1116  DD 77 04    	ld	(ix+4),a
3684  1119  18 08       	jr	l_game_menu_e_00112
3685  111B              l_game_menu_e_00111:
3686  111B  DD 7E 04    	ld	a,(ix+4)
3687  111E  C6 10       	add	a,0x10
3688  1120  DD 77 04    	ld	(ix+4),a
3689  1123              l_game_menu_e_00112:
3690  1123  DD 7E 07    	ld	a,(ix+7)
3691  1126  C6 0C       	add	a,0x0c
3692  1128  47          	ld	b,a
3693  1129  79          	ld	a,c
3694  112A  F5          	push	af
3695  112B  33          	inc	sp
3696  112C  DD 7E 04    	ld	a,(ix+4)
3697  112F  48          	ld	c,b
3698  1130  47          	ld	b,a
3699  1131  C5          	push	bc
3700  1132  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3701  1135  DD 7E 07    	ld	a,(ix+7)
3702  1138  C6 0E       	add	a,0x0e
3703  113A  47          	ld	b,a
3704  113B  DD 66 06    	ld	h,(ix+6)
3705  113E  DD 6E 04    	ld	l,(ix+4)
3706  1141  E5          	push	hl
3707  1142  C5          	push	bc
3708  1143  33          	inc	sp
3709  1144  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3710  1147  FB          	ei
3711  1148  DD E1       	pop	ix
3712  114A  C9          	ret
3713  114B              	SECTION code_compiler
3714  114B              ;	---------------------------------
3715  114B              ; Function game_menu_handle
3716  114B              ; ---------------------------------
3717  114B              _game_menu_handle:
3718  114B  CD 00 00    	call	___sdcc_enter_ix
3719  114E  3B          	dec	sp
3720  114F  2A 00 00    	ld	hl,(_curr_time)
3721  1152  22 00 00    	ld	(_entry_time),hl
3722  1155  DD 5E 05    	ld	e,(ix+5)
3723  1158  21 00 00    	ld	hl,_game_menu_sel
3724  115B  66          	ld	h,(hl)
3725  115C  2E 00       	ld	l,0x00
3726  115E  55          	ld	d, l
3727  115F  06 08       	ld	b,0x08
3728  1161              l_game_menu_handle_00148:
3729  1161  29          	add	hl,hl
3730  1162  30 01       	jr	NC,l_game_menu_handle_00149
3731  1164  19          	add	hl,de
3732  1165              l_game_menu_handle_00149:
3733  1165  10 FA       	djnz	l_game_menu_handle_00148
3734  1167  DD 7E 06    	ld	a,(ix+6)
3735  116A  85          	add	a,l
3736  116B  32 00 00    	ld	(_s_lin1),a
3737  116E  DD 7E 06    	ld	a,(ix+6)
3738  1171  DD 77 FF    	ld	(ix-1),a
3739  1174              l_game_menu_handle_00111:
3740  1174  21 00 00    	ld	hl,_k1
3741  1177  E5          	push	hl
3742  1178  2A 00 00    	ld	hl,(_joyfunc1)
3743  117B  CD 00 00    	call	___sdcc_call_hl
3744  117E  F1          	pop	af
3745  117F  7D          	ld	a,l
3746  1180  32 00 00    	ld	(_dirs),a
3747  1183  D6 80       	sub	a,0x80
3748  1185  CA 27 12    	jp	Z,l_game_menu_handle_00113
3749  1188  21 05 00    	ld	hl,0x0005
3750  118B  E5          	push	hl
3751  118C  2A 00 00    	ld	hl,(_frame_time)
3752  118F  E5          	push	hl
3753  1190  CD 2E 1A    	call	_game_check_time
3754  1193  F1          	pop	af
3755  1194  F1          	pop	af
3756  1195  7D          	ld	a,l
3757  1196  B7          	or	a, a
3758  1197  28 58       	jr	Z,l_game_menu_handle_00106
3759  1199  3A 00 00    	ld	a,(_dirs)
3760  119C  B7          	or	a, a
3761  119D  28 32       	jr	Z,l_game_menu_handle_00104
3762  119F  21 00 00    	ld	hl,_ay_effect_03
3763  11A2  CD 00 00    	call	_ay_fx_play
3764  11A5  CD 00 00    	call	_sound_slide
3765  11A8  3A 00 00    	ld	a,(_s_lin1)
3766  11AB  07          	rlca
3767  11AC  07          	rlca
3768  11AD  07          	rlca
3769  11AE  E6 F8       	and	a,0xf8
3770  11B0  C6 08       	add	a,0x08
3771  11B2  F5          	push	af
3772  11B3  33          	inc	sp
3773  11B4  26 14       	ld	h,0x14
3774  11B6  DD 6E 04    	ld	l,(ix+4)
3775  11B9  E5          	push	hl
3776  11BA  CD D8 0C    	call	_game_paint_attrib_lin
3777  11BD  F1          	pop	af
3778  11BE  33          	inc	sp
3779  11BF  21 00 00    	ld	hl,_s_lin1
3780  11C2  7E          	ld	a,(hl)
3781  11C3  DD 86 05    	add	a,(ix+5)
3782  11C6  77          	ld	(hl),a
3783  11C7  DD 7E 07    	ld	a,(ix+7)
3784  11CA  96          	sub	a, (hl)
3785  11CB  30 04       	jr	NC,l_game_menu_handle_00104
3786  11CD  DD 7E FF    	ld	a,(ix-1)
3787  11D0  77          	ld	(hl),a
3788  11D1              l_game_menu_handle_00104:
3789  11D1  2A 00 00    	ld	hl,(_curr_time)
3790  11D4  22 00 00    	ld	(_frame_time),hl
3791  11D7  3A 00 00    	ld	a,(_s_lin1)
3792  11DA  07          	rlca
3793  11DB  07          	rlca
3794  11DC  07          	rlca
3795  11DD  E6 F8       	and	a,0xf8
3796  11DF  C6 08       	add	a,0x08
3797  11E1  F5          	push	af
3798  11E2  33          	inc	sp
3799  11E3  26 14       	ld	h,0x14
3800  11E5  DD 6E 04    	ld	l,(ix+4)
3801  11E8  E5          	push	hl
3802  11E9  CD FF 0C    	call	_game_paint_attrib_lin_h
3803  11EC  F1          	pop	af
3804  11ED  33          	inc	sp
3805  11EE  CD 80 19    	call	_game_rotate_attrib
3806  11F1              l_game_menu_handle_00106:
3807  11F1  DD 7E 09    	ld	a,(ix+9)
3808  11F4  DD B6 08    	or	a,(ix+8)
3809  11F7  CA 74 11    	jp	Z,l_game_menu_handle_00111
3810  11FA  DD 6E 08    	ld	l,(ix+8)
3811  11FD  DD 66 09    	ld	h,(ix+9)
3812  1200  E5          	push	hl
3813  1201  2A 00 00    	ld	hl,(_entry_time)
3814  1204  E5          	push	hl
3815  1205  CD 2E 1A    	call	_game_check_time
3816  1208  F1          	pop	af
3817  1209  F1          	pop	af
3818  120A  7D          	ld	a,l
3819  120B  B7          	or	a, a
3820  120C  CA 74 11    	jp	Z,l_game_menu_handle_00111
3821  120F  CD 00 00    	call	_ay_is_playing
3822  1212  7D          	ld	a,l
3823  1213  B7          	or	a, a
3824  1214  C2 74 11    	jp	NZ,l_game_menu_handle_00111
3825  1217  CD AF 18    	call	_game_hall_of_fame
3826  121A  21 00 00    	ld	hl,_game_menu_sel
3827  121D  2E 00       	ld	l,0x00
3828  121F  75          	ld	(hl),l
3829  1220  CD AE 16    	call	_game_menu_back
3830  1223  2E FF       	ld	l,0xff
3831  1225  18 10       	jr	l_game_menu_handle_00114
3832  1227              l_game_menu_handle_00113:
3833  1227  3A 00 00    	ld	a,(_s_lin1)
3834  122A  DD 96 FF    	sub	a,(ix-1)
3835  122D  47          	ld	b,a
3836  122E  DD 7E 05    	ld	a,(ix+5)
3837  1231  48          	ld	c,b
3838  1232  47          	ld	b,a
3839  1233  C5          	push	bc
3840  1234  CD 00 00    	call	__divuchar_callee
3841  1237              l_game_menu_handle_00114:
3842  1237  33          	inc	sp
3843  1238  DD E1       	pop	ix
3844  123A  C9          	ret
3845  123B              	SECTION code_compiler
3846  123B              ;	---------------------------------
3847  123B              ; Function game_end
3848  123B              ; ---------------------------------
3849  123B              _game_end:
3850  123B  CD 00 00    	call	___sdcc_enter_ix
3851  123E  F5          	push	af
3852  123F  F5          	push	af
3853  1240  CD AF 08    	call	_game_kill_all_sprites
3854  1243  CD 00 00    	call	_spr_draw_clear
3855  1246  21 00 00    	ld	hl,_pb_midi_title
3856  1249  CD 00 00    	call	_ay_midi_play
3857  124C  21 00 00    	ld	hl,_tmp0
3858  124F  36 04       	ld	(hl),0x04
3859  1251              l_game_end_00129:
3860  1251  3A 00 00    	ld	a,(_tmp0)
3861  1254  F5          	push	af
3862  1255  33          	inc	sp
3863  1256  21 8C 50    	ld	hl,0x508c
3864  1259  E5          	push	hl
3865  125A  CD 00 00    	call	_NIRVANAP_drawT_callee
3866  125D  21 00 00    	ld	hl,_tmp0
3867  1260  7E          	ld	a,(hl)
3868  1261  3C          	inc	a
3869  1262  3C          	inc	a
3870  1263  77          	ld	(hl),a
3871  1264  D6 1C       	sub	a,0x1c
3872  1266  38 E9       	jr	C,l_game_end_00129
3873  1268  36 04       	ld	(hl),0x04
3874  126A              l_game_end_00131:
3875  126A  3A 00 00    	ld	a,(_tmp0)
3876  126D  F5          	push	af
3877  126E  33          	inc	sp
3878  126F  21 8C 60    	ld	hl,0x608c
3879  1272  E5          	push	hl
3880  1273  CD 00 00    	call	_NIRVANAP_drawT_callee
3881  1276  21 00 00    	ld	hl,_tmp0
3882  1279  7E          	ld	a,(hl)
3883  127A  3C          	inc	a
3884  127B  3C          	inc	a
3885  127C  77          	ld	(hl),a
3886  127D  D6 1C       	sub	a,0x1c
3887  127F  38 E9       	jr	C,l_game_end_00131
3888  1281  36 04       	ld	(hl),0x04
3889  1283              l_game_end_00133:
3890  1283  3A 00 00    	ld	a,(_tmp0)
3891  1286  F5          	push	af
3892  1287  33          	inc	sp
3893  1288  21 8C 70    	ld	hl,0x708c
3894  128B  E5          	push	hl
3895  128C  CD 00 00    	call	_NIRVANAP_drawT_callee
3896  128F  21 00 00    	ld	hl,_tmp0
3897  1292  7E          	ld	a,(hl)
3898  1293  3C          	inc	a
3899  1294  3C          	inc	a
3900  1295  77          	ld	(hl),a
3901  1296  D6 1C       	sub	a,0x1c
3902  1298  38 E9       	jr	C,l_game_end_00133
3903  129A  21 50 18    	ld	hl,0x1850
3904  129D  E5          	push	hl
3905  129E  3E D6       	ld	a,0xd6
3906  12A0  F5          	push	af
3907  12A1  33          	inc	sp
3908  12A2  CD 00 00    	call	_NIRVANAP_drawT_callee
3909  12A5  21 9C 01    	ld	hl,0x019c
3910  12A8  E5          	push	hl
3911  12A9  21 01 1D    	ld	hl,0x1d01
3912  12AC  E5          	push	hl
3913  12AD  3E 20       	ld	a,0x20
3914  12AF  F5          	push	af
3915  12B0  33          	inc	sp
3916  12B1  CD 98 10    	call	_game_menu_e
3917  12B4  F1          	pop	af
3918  12B5  33          	inc	sp
3919  12B6  21 9F FF    	ld	hl,0xff9f
3920  12B9  E3          	ex	(sp),hl
3921  12BA  21 01 1D    	ld	hl,0x1d01
3922  12BD  E5          	push	hl
3923  12BE  3E 80       	ld	a,0x80
3924  12C0  F5          	push	af
3925  12C1  33          	inc	sp
3926  12C2  CD 98 10    	call	_game_menu_e
3927  12C5  F1          	pop	af
3928  12C6  F1          	pop	af
3929  12C7  33          	inc	sp
3930  12C8  3E 00       	ld	a,0x00
3931  12CA  DD 77 FD    	ld	(ix-3),a
3932  12CD  DD 77 FC    	ld	(ix-4),a
3933  12D0  3A 00 00    	ld	a,(_game_two_player)
3934  12D3  B7          	or	a, a
3935  12D4  28 16       	jr	Z,l_game_end_00109
3936  12D6  3A 00 00    	ld	a,(_game_lives)
3937  12D9  B7          	or	a, a
3938  12DA  28 04       	jr	Z,l_game_end_00105
3939  12DC  DD 36 FD 01 	ld	(ix-3),0x01
3940  12E0              l_game_end_00105:
3941  12E0  3A 01 00    	ld	a, (_game_lives + 1)
3942  12E3  B7          	or	a, a
3943  12E4  28 0A       	jr	Z,l_game_end_00110
3944  12E6  DD 36 FC 01 	ld	(ix-4),0x01
3945  12EA  18 04       	jr	l_game_end_00110
3946  12EC              l_game_end_00109:
3947  12EC  DD 36 FD 01 	ld	(ix-3),0x01
3948  12F0              l_game_end_00110:
3949  12F0  DD 7E FD    	ld	a,(ix-3)
3950  12F3  3D          	dec	a
3951  12F4  20 04       	jr	NZ,l_game_end_00221
3952  12F6  3E 01       	ld	a,0x01
3953  12F8  18 01       	jr	l_game_end_00222
3954  12FA              l_game_end_00221:
3955  12FA  AF          	xor	a,a
3956  12FB              l_game_end_00222:
3957  12FB  DD 77 FF    	ld	(ix-1),a
3958  12FE  B7          	or	a, a
3959  12FF  28 1C       	jr	Z,l_game_end_00112
3960  1301  DD 7E FC    	ld	a,(ix-4)
3961  1304  B7          	or	a, a
3962  1305  20 16       	jr	NZ,l_game_end_00112
3963  1307  21 6A 01    	ld	hl,___str_41
3964  130A  E5          	push	hl
3965  130B  21 13 01    	ld	hl,0x0113
3966  130E  E5          	push	hl
3967  130F  CD 00 00    	call	_zx_print_str
3968  1312  21 50 0C    	ld	hl,0x0c50
3969  1315  E5          	push	hl
3970  1316  3E 03       	ld	a,0x03
3971  1318  F5          	push	af
3972  1319  33          	inc	sp
3973  131A  CD 00 00    	call	_NIRVANAP_drawT_callee
3974  131D              l_game_end_00112:
3975  131D  DD 7E FC    	ld	a,(ix-4)
3976  1320  3D          	dec	a
3977  1321  20 04       	jr	NZ,l_game_end_00223
3978  1323  3E 01       	ld	a,0x01
3979  1325  18 01       	jr	l_game_end_00224
3980  1327              l_game_end_00223:
3981  1327  AF          	xor	a,a
3982  1328              l_game_end_00224:
3983  1328  DD 77 FE    	ld	(ix-2),a
3984  132B  DD 7E FD    	ld	a,(ix-3)
3985  132E  B7          	or	a, a
3986  132F  20 1C       	jr	NZ,l_game_end_00115
3987  1331  DD 7E FE    	ld	a,(ix-2)
3988  1334  B7          	or	a, a
3989  1335  28 16       	jr	Z,l_game_end_00115
3990  1337  21 74 01    	ld	hl,___str_42
3991  133A  E5          	push	hl
3992  133B  21 13 01    	ld	hl,0x0113
3993  133E  E5          	push	hl
3994  133F  CD 00 00    	call	_zx_print_str
3995  1342  21 60 0E    	ld	hl,0x0e60
3996  1345  E5          	push	hl
3997  1346  3E 1B       	ld	a,0x1b
3998  1348  F5          	push	af
3999  1349  33          	inc	sp
4000  134A  CD 00 00    	call	_NIRVANAP_drawT_callee
4001  134D              l_game_end_00115:
4002  134D  DD 7E FF    	ld	a,(ix-1)
4003  1350  B7          	or	a, a
4004  1351  28 27       	jr	Z,l_game_end_00118
4005  1353  DD 7E FE    	ld	a,(ix-2)
4006  1356  B7          	or	a, a
4007  1357  28 21       	jr	Z,l_game_end_00118
4008  1359  21 7D 01    	ld	hl,___str_43
4009  135C  E5          	push	hl
4010  135D  21 13 01    	ld	hl,0x0113
4011  1360  E5          	push	hl
4012  1361  CD 00 00    	call	_zx_print_str
4013  1364  21 50 0C    	ld	hl,0x0c50
4014  1367  E5          	push	hl
4015  1368  3E 03       	ld	a,0x03
4016  136A  F5          	push	af
4017  136B  33          	inc	sp
4018  136C  CD 00 00    	call	_NIRVANAP_drawT_callee
4019  136F  21 60 0E    	ld	hl,0x0e60
4020  1372  E5          	push	hl
4021  1373  3E 1B       	ld	a,0x1b
4022  1375  F5          	push	af
4023  1376  33          	inc	sp
4024  1377  CD 00 00    	call	_NIRVANAP_drawT_callee
4025  137A              l_game_end_00118:
4026  137A  21 C8 00    	ld	hl,0x00c8
4027  137D  E5          	push	hl
4028  137E  21 01 1F    	ld	hl,0x1f01
4029  1381  E5          	push	hl
4030  1382  3E 13       	ld	a,0x13
4031  1384  F5          	push	af
4032  1385  33          	inc	sp
4033  1386  CD 9C 19    	call	_game_colour_message
4034  1389  F1          	pop	af
4035  138A  F1          	pop	af
4036  138B  33          	inc	sp
4037  138C  DD 7E FF    	ld	a,(ix-1)
4038  138F  B7          	or	a, a
4039  1390  28 32       	jr	Z,l_game_end_00121
4040  1392  DD 7E FC    	ld	a,(ix-4)
4041  1395  B7          	or	a, a
4042  1396  20 2C       	jr	NZ,l_game_end_00121
4043  1398  21 40 12    	ld	hl,0x1240
4044  139B  E5          	push	hl
4045  139C  3E BE       	ld	a,0xbe
4046  139E  F5          	push	af
4047  139F  33          	inc	sp
4048  13A0  CD 00 00    	call	_NIRVANAP_drawT_callee
4049  13A3  21 50 12    	ld	hl,0x1250
4050  13A6  E5          	push	hl
4051  13A7  3E CA       	ld	a,0xca
4052  13A9  F5          	push	af
4053  13AA  33          	inc	sp
4054  13AB  CD 00 00    	call	_NIRVANAP_drawT_callee
4055  13AE  21 91 01    	ld	hl,___str_44
4056  13B1  E5          	push	hl
4057  13B2  21 13 01    	ld	hl,0x0113
4058  13B5  E5          	push	hl
4059  13B6  CD 00 00    	call	_zx_print_str
4060  13B9  21 40 0C    	ld	hl,0x0c40
4061  13BC  E5          	push	hl
4062  13BD  3E BE       	ld	a,0xbe
4063  13BF  F5          	push	af
4064  13C0  33          	inc	sp
4065  13C1  CD 00 00    	call	_NIRVANAP_drawT_callee
4066  13C4              l_game_end_00121:
4067  13C4  DD 7E FD    	ld	a,(ix-3)
4068  13C7  B7          	or	a, a
4069  13C8  20 32       	jr	NZ,l_game_end_00124
4070  13CA  DD 7E FE    	ld	a,(ix-2)
4071  13CD  B7          	or	a, a
4072  13CE  28 2C       	jr	Z,l_game_end_00124
4073  13D0  21 50 12    	ld	hl,0x1250
4074  13D3  E5          	push	hl
4075  13D4  3E BE       	ld	a,0xbe
4076  13D6  F5          	push	af
4077  13D7  33          	inc	sp
4078  13D8  CD 00 00    	call	_NIRVANAP_drawT_callee
4079  13DB  21 60 12    	ld	hl,0x1260
4080  13DE  E5          	push	hl
4081  13DF  3E CA       	ld	a,0xca
4082  13E1  F5          	push	af
4083  13E2  33          	inc	sp
4084  13E3  CD 00 00    	call	_NIRVANAP_drawT_callee
4085  13E6  21 91 01    	ld	hl,___str_44
4086  13E9  E5          	push	hl
4087  13EA  21 13 01    	ld	hl,0x0113
4088  13ED  E5          	push	hl
4089  13EE  CD 00 00    	call	_zx_print_str
4090  13F1  21 50 0E    	ld	hl,0x0e50
4091  13F4  E5          	push	hl
4092  13F5  3E BE       	ld	a,0xbe
4093  13F7  F5          	push	af
4094  13F8  33          	inc	sp
4095  13F9  CD 00 00    	call	_NIRVANAP_drawT_callee
4096  13FC              l_game_end_00124:
4097  13FC  DD 7E FF    	ld	a,(ix-1)
4098  13FF  B7          	or	a, a
4099  1400  28 53       	jr	Z,l_game_end_00127
4100  1402  DD 7E FE    	ld	a,(ix-2)
4101  1405  B7          	or	a, a
4102  1406  28 4D       	jr	Z,l_game_end_00127
4103  1408  21 A5 01    	ld	hl,___str_45
4104  140B  E5          	push	hl
4105  140C  21 13 01    	ld	hl,0x0113
4106  140F  E5          	push	hl
4107  1410  CD 00 00    	call	_zx_print_str
4108  1413  21 40 12    	ld	hl,0x1240
4109  1416  E5          	push	hl
4110  1417  3E BE       	ld	a,0xbe
4111  1419  F5          	push	af
4112  141A  33          	inc	sp
4113  141B  CD 00 00    	call	_NIRVANAP_drawT_callee
4114  141E  21 50 12    	ld	hl,0x1250
4115  1421  E5          	push	hl
4116  1422  3E CA       	ld	a,0xca
4117  1424  F5          	push	af
4118  1425  33          	inc	sp
4119  1426  CD 00 00    	call	_NIRVANAP_drawT_callee
4120  1429  21 50 10    	ld	hl,0x1050
4121  142C  E5          	push	hl
4122  142D  3E BE       	ld	a,0xbe
4123  142F  F5          	push	af
4124  1430  33          	inc	sp
4125  1431  CD 00 00    	call	_NIRVANAP_drawT_callee
4126  1434  21 60 10    	ld	hl,0x1060
4127  1437  E5          	push	hl
4128  1438  3E CA       	ld	a,0xca
4129  143A  F5          	push	af
4130  143B  33          	inc	sp
4131  143C  CD 00 00    	call	_NIRVANAP_drawT_callee
4132  143F  21 40 0C    	ld	hl,0x0c40
4133  1442  E5          	push	hl
4134  1443  3E BE       	ld	a,0xbe
4135  1445  F5          	push	af
4136  1446  33          	inc	sp
4137  1447  CD 00 00    	call	_NIRVANAP_drawT_callee
4138  144A  21 50 0E    	ld	hl,0x0e50
4139  144D  E5          	push	hl
4140  144E  3E BE       	ld	a,0xbe
4141  1450  F5          	push	af
4142  1451  33          	inc	sp
4143  1452  CD 00 00    	call	_NIRVANAP_drawT_callee
4144  1455              l_game_end_00127:
4145  1455  21 C8 00    	ld	hl,0x00c8
4146  1458  E5          	push	hl
4147  1459  21 01 1F    	ld	hl,0x1f01
4148  145C  E5          	push	hl
4149  145D  3E 13       	ld	a,0x13
4150  145F  F5          	push	af
4151  1460  33          	inc	sp
4152  1461  CD 9C 19    	call	_game_colour_message
4153  1464  F1          	pop	af
4154  1465  33          	inc	sp
4155  1466  21 BB 01    	ld	hl,___str_46
4156  1469  E3          	ex	(sp),hl
4157  146A  21 13 01    	ld	hl,0x0113
4158  146D  E5          	push	hl
4159  146E  CD 00 00    	call	_zx_print_str
4160  1471  21 C8 00    	ld	hl,0x00c8
4161  1474  E5          	push	hl
4162  1475  21 01 1F    	ld	hl,0x1f01
4163  1478  E5          	push	hl
4164  1479  3E 13       	ld	a,0x13
4165  147B  F5          	push	af
4166  147C  33          	inc	sp
4167  147D  CD 9C 19    	call	_game_colour_message
4168  1480  F1          	pop	af
4169  1481  33          	inc	sp
4170  1482  21 D2 01    	ld	hl,___str_47
4171  1485  E3          	ex	(sp),hl
4172  1486  21 13 01    	ld	hl,0x0113
4173  1489  E5          	push	hl
4174  148A  CD 00 00    	call	_zx_print_str
4175  148D  21 C8 00    	ld	hl,0x00c8
4176  1490  E5          	push	hl
4177  1491  21 01 1F    	ld	hl,0x1f01
4178  1494  E5          	push	hl
4179  1495  3E 13       	ld	a,0x13
4180  1497  F5          	push	af
4181  1498  33          	inc	sp
4182  1499  CD 9C 19    	call	_game_colour_message
4183  149C  F1          	pop	af
4184  149D  F1          	pop	af
4185  149E  33          	inc	sp
4186  149F  CD 00 00    	call	_spr_draw_clear
4187  14A2  DD F9       	ld	sp, ix
4188  14A4  DD E1       	pop	ix
4189  14A6  C9          	ret
4190  14A7              	SECTION rodata_compiler
4191  016A              ___str_41:
4192  016A  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4193  0173  00          	DEFB 0x00
4194  0174              	SECTION rodata_compiler
4195  0174              ___str_42:
4196  0174  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4197  017C  00          	DEFB 0x00
4198  017D              	SECTION rodata_compiler
4199  017D              ___str_43:
4200  017D  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4201  0190  00          	DEFB 0x00
4202  0191              	SECTION rodata_compiler
4203  0191              ___str_44:
4204  0191  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4205  01A4  00          	DEFB 0x00
4206  01A5              	SECTION rodata_compiler
4207  01A5              ___str_45:
4208  01A5  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4209  01BA  00          	DEFB 0x00
4210  01BB              	SECTION rodata_compiler
4211  01BB              ___str_46:
4212  01BB  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4213  01D1  00          	DEFB 0x00
4214  01D2              	SECTION rodata_compiler
4215  01D2              ___str_47:
4216  01D2  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4217  01E8  00          	DEFB 0x00
4218  01E9              	SECTION code_compiler
4219  14A7              ;	---------------------------------
4220  14A7              ; Function game_hall_check
4221  14A7              ; ---------------------------------
4222  14A7              _game_hall_check:
4223  14A7  5D          	ld	e,l
4224  14A8  01 00 00    	ld	bc,_player_score+0
4225  14AB  26 00       	ld	h,0x00
4226  14AD  6B          	ld	l, e
4227  14AE  29          	add	hl, hl
4228  14AF  09          	add	hl,bc
4229  14B0  4E          	ld	c,(hl)
4230  14B1  23          	inc	hl
4231  14B2  46          	ld	b,(hl)
4232  14B3  2A 3A 00    	ld	hl,(_hof + 0x003a)
4233  14B6  AF          	xor	a,a
4234  14B7  ED 42       	sbc	hl,bc
4235  14B9  30 09       	jr	NC,l_game_hall_check_00104
4236  14BB  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4237  14BF  21 36 00    	ld	hl,+(_hof + 0x0036)
4238  14C2  18 14       	jr	l_game_hall_check_00106
4239  14C4              l_game_hall_check_00104:
4240  14C4  2A 34 00    	ld	hl,(_hof + 0x0034)
4241  14C7  AF          	xor	a,a
4242  14C8  ED 42       	sbc	hl,bc
4243  14CA  30 09       	jr	NC,l_game_hall_check_00105
4244  14CC  ED 43 34 00 	ld	(_hof + 0x0034),bc
4245  14D0  21 30 00    	ld	hl,+(_hof + 0x0030)
4246  14D3  18 03       	jr	l_game_hall_check_00106
4247  14D5              l_game_hall_check_00105:
4248  14D5  21 00 00    	ld	hl,0x0000
4249  14D8              l_game_hall_check_00106:
4250  14D8  C9          	ret
4251  14D9              	SECTION code_compiler
4252  14D9              ;	---------------------------------
4253  14D9              ; Function compare_scores
4254  14D9              ; ---------------------------------
4255  14D9              _compare_scores:
4256  14D9  CD 00 00    	call	___sdcc_enter_ix
4257  14DC  DD 6E 06    	ld	l,(ix+6)
4258  14DF  DD 66 07    	ld	h,(ix+7)
4259  14E2  11 04 00    	ld	de,0x0004
4260  14E5  19          	add	hl, de
4261  14E6  4E          	ld	c,(hl)
4262  14E7  23          	inc	hl
4263  14E8  46          	ld	b,(hl)
4264  14E9  DD 6E 04    	ld	l,(ix+4)
4265  14EC  DD 66 05    	ld	h,(ix+5)
4266  14EF  11 04 00    	ld	de,0x0004
4267  14F2  19          	add	hl, de
4268  14F3  7E          	ld	a,(hl)
4269  14F4  23          	inc	hl
4270  14F5  56          	ld	d,(hl)
4271  14F6  5F          	ld	e,a
4272  14F7  91          	sub	a, c
4273  14F8  7A          	ld	a,d
4274  14F9  98          	sbc	a, b
4275  14FA  30 05       	jr	NC,l_compare_scores_00102
4276  14FC  21 01 00    	ld	hl,0x0001
4277  14FF  18 10       	jr	l_compare_scores_00105
4278  1501              l_compare_scores_00102:
4279  1501  79          	ld	a,c
4280  1502  93          	sub	a, e
4281  1503  20 09       	jr	NZ,l_compare_scores_00104
4282  1505  78          	ld	a,b
4283  1506  92          	sub	a, d
4284  1507  20 05       	jr	NZ,l_compare_scores_00104
4285  1509  21 00 00    	ld	hl,0x0000
4286  150C  18 03       	jr	l_compare_scores_00105
4287  150E              l_compare_scores_00104:
4288  150E  21 FF FF    	ld	hl,0xffff
4289  1511              l_compare_scores_00105:
4290  1511  DD E1       	pop	ix
4291  1513  C9          	ret
4292  1514              	SECTION code_compiler
4293  1514              ;	---------------------------------
4294  1514              ; Function game_hall_enter
4295  1514              ; ---------------------------------
4296  1514              _game_hall_enter:
4297  1514  CD 00 00    	call	___sdcc_enter_ix
4298  1517  21 F7 FF    	ld	hl,-9
4299  151A  39          	add	hl,sp
4300  151B  F9          	ld	sp,hl
4301  151C  CD 00 00    	call	_spr_draw_clear
4302  151F  2E 00       	ld	l,0x00
4303  1521  CD B4 0C    	call	_game_paint_attrib
4304  1524  ED 4B 00 00 	ld	bc,(_player_score)
4305  1528  2A 02 00    	ld	hl, (_player_score + 2)
4306  152B  AF          	xor	a,a
4307  152C  ED 42       	sbc	hl,bc
4308  152E  30 0F       	jr	NC,l_game_hall_enter_00102
4309  1530  2E 00       	ld	l,0x00
4310  1532  CD A7 14    	call	_game_hall_check
4311  1535  E5          	push	hl
4312  1536  2E 01       	ld	l,0x01
4313  1538  CD A7 14    	call	_game_hall_check
4314  153B  EB          	ex	de,hl
4315  153C  C1          	pop	bc
4316  153D  18 0E       	jr	l_game_hall_enter_00103
4317  153F              l_game_hall_enter_00102:
4318  153F  2E 01       	ld	l,0x01
4319  1541  CD A7 14    	call	_game_hall_check
4320  1544  E5          	push	hl
4321  1545  2E 00       	ld	l,0x00
4322  1547  CD A7 14    	call	_game_hall_check
4323  154A  D1          	pop	de
4324  154B  4D          	ld	c,l
4325  154C  44          	ld	b,h
4326  154D              l_game_hall_enter_00103:
4327  154D  78          	ld	a,b
4328  154E  B1          	or	a,c
4329  154F  20 05       	jr	NZ,l_game_hall_enter_00125
4330  1551  7A          	ld	a,d
4331  1552  B3          	or	a,e
4332  1553  CA A1 16    	jp	Z,l_game_hall_enter_00126
4333  1556              l_game_hall_enter_00125:
4334  1556  3E 00       	ld	a,0x00
4335  1558  DD 77 FB    	ld	(ix-5),a
4336  155B  DD 77 FA    	ld	(ix-6),a
4337  155E  DD 77 F9    	ld	(ix-7),a
4338  1561  DD 77 F8    	ld	(ix-8),a
4339  1564  DD 36 F7 00 	ld	(ix-9),0x00
4340  1568  78          	ld	a,b
4341  1569  B1          	or	a,c
4342  156A  28 0D       	jr	Z,l_game_hall_enter_00105
4343  156C  DD 36 F8 01 	ld	(ix-8),0x01
4344  1570  C5          	push	bc
4345  1571  D5          	push	de
4346  1572  2E 00       	ld	l,0x00
4347  1574  CD C4 16    	call	_game_hall_enter_phs
4348  1577  D1          	pop	de
4349  1578  C1          	pop	bc
4350  1579              l_game_hall_enter_00105:
4351  1579  7A          	ld	a,d
4352  157A  B3          	or	a,e
4353  157B  28 0D       	jr	Z,l_game_hall_enter_00107
4354  157D  DD 36 F7 05 	ld	(ix-9),0x05
4355  1581  C5          	push	bc
4356  1582  D5          	push	de
4357  1583  2E 01       	ld	l,0x01
4358  1585  CD C4 16    	call	_game_hall_enter_phs
4359  1588  D1          	pop	de
4360  1589  C1          	pop	bc
4361  158A              l_game_hall_enter_00107:
4362  158A  C5          	push	bc
4363  158B  D5          	push	de
4364  158C  21 E9 01    	ld	hl,___str_48
4365  158F  E5          	push	hl
4366  1590  21 02 0A    	ld	hl,0x0a02
4367  1593  E5          	push	hl
4368  1594  CD 00 00    	call	_zx_print_str
4369  1597  21 F6 01    	ld	hl,___str_49
4370  159A  E5          	push	hl
4371  159B  21 12 06    	ld	hl,0x0612
4372  159E  E5          	push	hl
4373  159F  CD 00 00    	call	_zx_print_str
4374  15A2  21 09 02    	ld	hl,___str_50
4375  15A5  E5          	push	hl
4376  15A6  21 13 06    	ld	hl,0x0613
4377  15A9  E5          	push	hl
4378  15AA  CD 00 00    	call	_zx_print_str
4379  15AD  D1          	pop	de
4380  15AE  C1          	pop	bc
4381  15AF  DD 71 FE    	ld	(ix-2),c
4382  15B2  DD 70 FF    	ld	(ix-1),b
4383  15B5  DD 73 FC    	ld	(ix-4),e
4384  15B8  DD 72 FD    	ld	(ix-3),d
4385  15BB              l_game_hall_enter_00122:
4386  15BB  DD 7E F8    	ld	a,(ix-8)
4387  15BE  DD 86 F7    	add	a,(ix-9)
4388  15C1  B7          	or	a, a
4389  15C2  CA 89 16    	jp	Z,l_game_hall_enter_00124
4390  15C5  21 05 00    	ld	hl,0x0005
4391  15C8  E5          	push	hl
4392  15C9  2A 00 00    	ld	hl,(_frame_time)
4393  15CC  E5          	push	hl
4394  15CD  CD 2E 1A    	call	_game_check_time
4395  15D0  F1          	pop	af
4396  15D1  F1          	pop	af
4397  15D2  7D          	ld	a,l
4398  15D3  B7          	or	a, a
4399  15D4  28 36       	jr	Z,l_game_hall_enter_00113
4400  15D6  DD 7E F9    	ld	a,(ix-7)
4401  15D9  D6 01       	sub	a,0x01
4402  15DB  3E 00       	ld	a,0x00
4403  15DD  17          	rla
4404  15DE  DD 77 F9    	ld	(ix-7),a
4405  15E1  DD 7E F8    	ld	a,(ix-8)
4406  15E4  B7          	or	a, a
4407  15E5  28 0B       	jr	Z,l_game_hall_enter_00109
4408  15E7  DD 66 F9    	ld	h,(ix-7)
4409  15EA  DD 6E F8    	ld	l,(ix-8)
4410  15ED  E5          	push	hl
4411  15EE  CD 3B 17    	call	_game_hall_print_p
4412  15F1  F1          	pop	af
4413  15F2              l_game_hall_enter_00109:
4414  15F2  DD 7E F7    	ld	a,(ix-9)
4415  15F5  B7          	or	a, a
4416  15F6  28 0B       	jr	Z,l_game_hall_enter_00111
4417  15F8  DD 66 F9    	ld	h,(ix-7)
4418  15FB  DD 6E F7    	ld	l,(ix-9)
4419  15FE  E5          	push	hl
4420  15FF  CD 3B 17    	call	_game_hall_print_p
4421  1602  F1          	pop	af
4422  1603              l_game_hall_enter_00111:
4423  1603  CD 80 19    	call	_game_rotate_attrib
4424  1606  2A 00 00    	ld	hl,(_curr_time)
4425  1609  22 00 00    	ld	(_frame_time),hl
4426  160C              l_game_hall_enter_00113:
4427  160C  21 00 00    	ld	hl,_k1
4428  160F  E5          	push	hl
4429  1610  2A 00 00    	ld	hl,(_joyfunc1)
4430  1613  CD 00 00    	call	___sdcc_call_hl
4431  1616  F1          	pop	af
4432  1617  7D          	ld	a,l
4433  1618  32 00 00    	ld	(_dirs),a
4434  161B  DD 7E FB    	ld	a,(ix-5)
4435  161E  B7          	or	a, a
4436  161F  20 22       	jr	NZ,l_game_hall_enter_00115
4437  1621  DD 7E F8    	ld	a,(ix-8)
4438  1624  B7          	or	a, a
4439  1625  28 1C       	jr	Z,l_game_hall_enter_00115
4440  1627  DD 6E F8    	ld	l,(ix-8)
4441  162A  CD F9 17    	call	_game_hall_edit_p
4442  162D  DD 75 F8    	ld	(ix-8),l
4443  1630  7D          	ld	a,l
4444  1631  B7          	or	a, a
4445  1632  20 0F       	jr	NZ,l_game_hall_enter_00115
4446  1634  DD 5E FE    	ld	e,(ix-2)
4447  1637  DD 56 FF    	ld	d,(ix-1)
4448  163A  AF          	xor	a,a
4449  163B  21 00 00    	ld	hl,_initials
4450  163E              l_game_hall_enter_00190:
4451  163E  BE          	cp	a, (hl)
4452  163F  ED A0       	ldi
4453  1641  20 FB       	jr	NZ, l_game_hall_enter_00190
4454  1643              l_game_hall_enter_00115:
4455  1643  3A 00 00    	ld	a,(_dirs)
4456  1646  DD 77 FB    	ld	(ix-5),a
4457  1649  21 00 00    	ld	hl,_k2
4458  164C  E5          	push	hl
4459  164D  2A 00 00    	ld	hl,(_joyfunc2)
4460  1650  CD 00 00    	call	___sdcc_call_hl
4461  1653  F1          	pop	af
4462  1654  7D          	ld	a,l
4463  1655  32 00 00    	ld	(_dirs),a
4464  1658  DD 7E FA    	ld	a,(ix-6)
4465  165B  B7          	or	a, a
4466  165C  20 22       	jr	NZ,l_game_hall_enter_00119
4467  165E  DD 7E F7    	ld	a,(ix-9)
4468  1661  B7          	or	a, a
4469  1662  28 1C       	jr	Z,l_game_hall_enter_00119
4470  1664  DD 6E F7    	ld	l,(ix-9)
4471  1667  CD F9 17    	call	_game_hall_edit_p
4472  166A  DD 75 F7    	ld	(ix-9),l
4473  166D  7D          	ld	a,l
4474  166E  B7          	or	a, a
4475  166F  20 0F       	jr	NZ,l_game_hall_enter_00119
4476  1671  DD 5E FC    	ld	e,(ix-4)
4477  1674  DD 56 FD    	ld	d,(ix-3)
4478  1677  AF          	xor	a,a
4479  1678  21 04 00    	ld	hl,+(_initials + 0x0004)
4480  167B              l_game_hall_enter_00191:
4481  167B  BE          	cp	a, (hl)
4482  167C  ED A0       	ldi
4483  167E  20 FB       	jr	NZ, l_game_hall_enter_00191
4484  1680              l_game_hall_enter_00119:
4485  1680  3A 00 00    	ld	a,(_dirs)
4486  1683  DD 77 FA    	ld	(ix-6),a
4487  1686  C3 BB 15    	jp	l_game_hall_enter_00122
4488  1689              l_game_hall_enter_00124:
4489  1689  CD 00 00    	call	_ay_reset
4490  168C  CD 00 00    	call	_spr_draw_clear
4491  168F  01 D9 14    	ld	bc,_compare_scores
4492  1692  C5          	push	bc
4493  1693  21 06 00    	ld	hl,0x0006
4494  1696  E5          	push	hl
4495  1697  2E 0A       	ld	l,0x0a
4496  1699  E5          	push	hl
4497  169A  21 00 00    	ld	hl,_hof
4498  169D  E5          	push	hl
4499  169E  CD 00 00    	call	__insertion_sort__callee
4500  16A1              l_game_hall_enter_00126:
4501  16A1  CD AF 18    	call	_game_hall_of_fame
4502  16A4  2E 00       	ld	l,0x00
4503  16A6  CD AE 16    	call	_game_menu_back
4504  16A9  DD F9       	ld	sp, ix
4505  16AB  DD E1       	pop	ix
4506  16AD  C9          	ret
4507  16AE              	SECTION rodata_compiler
4508  01E9              ___str_48:
4509  01E9  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4510  01F5  00          	DEFB 0x00
4511  01F6              	SECTION rodata_compiler
4512  01F6              ___str_49:
4513  01F6  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4514  0208  00          	DEFB 0x00
4515  0209              	SECTION rodata_compiler
4516  0209              ___str_50:
4517  0209  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4518  021C  00          	DEFB 0x00
4519  021D              	SECTION code_compiler
4520  16AE              ;	---------------------------------
4521  16AE              ; Function game_menu_back
4522  16AE              ; ---------------------------------
4523  16AE              _game_menu_back:
4524  16AE  7D          	ld	a,l
4525  16AF  32 00 00    	ld	(_s_lin1),a
4526  16B2  21 00 00    	ld	hl,_game_menu_sel
4527  16B5  36 00       	ld	(hl),0x00
4528  16B7  CD A9 0F    	call	_game_menu_top_paint
4529  16BA  CD 1D 10    	call	_game_menu_paint
4530  16BD  2A 00 00    	ld	hl,(_curr_time)
4531  16C0  22 00 00    	ld	(_entry_time),hl
4532  16C3  C9          	ret
4533  16C4              	SECTION code_compiler
4534  16C4              ;	---------------------------------
4535  16C4              ; Function game_hall_enter_phs
4536  16C4              ; ---------------------------------
4537  16C4              _game_hall_enter_phs:
4538  16C4  7D          	ld	a,l
4539  16C5  B7          	or	a, a
4540  16C6  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4541  16C8  21 9C 01    	ld	hl,0x019c
4542  16CB  E5          	push	hl
4543  16CC  21 02 0C    	ld	hl,0x0c02
4544  16CF  E5          	push	hl
4545  16D0  3E 30       	ld	a,0x30
4546  16D2  F5          	push	af
4547  16D3  33          	inc	sp
4548  16D4  CD 98 10    	call	_game_menu_e
4549  16D7  F1          	pop	af
4550  16D8  33          	inc	sp
4551  16D9  21 9F FF    	ld	hl,0xff9f
4552  16DC  E3          	ex	(sp),hl
4553  16DD  21 02 0C    	ld	hl,0x0c02
4554  16E0  E5          	push	hl
4555  16E1  3E 7C       	ld	a,0x7c
4556  16E3  F5          	push	af
4557  16E4  33          	inc	sp
4558  16E5  CD 98 10    	call	_game_menu_e
4559  16E8  F1          	pop	af
4560  16E9  33          	inc	sp
4561  16EA  21 1D 02    	ld	hl,___str_51
4562  16ED  E3          	ex	(sp),hl
4563  16EE  21 07 05    	ld	hl,0x0507
4564  16F1  E5          	push	hl
4565  16F2  CD 00 00    	call	_zx_print_str
4566  16F5  21 22 02    	ld	hl,___str_52
4567  16F8  E5          	push	hl
4568  16F9  21 08 05    	ld	hl,0x0508
4569  16FC  E5          	push	hl
4570  16FD  CD 00 00    	call	_zx_print_str
4571  1700  18 38       	jr	l_game_hall_enter_phs_00104
4572  1702              l_game_hall_enter_phs_00102:
4573  1702  21 9C 01    	ld	hl,0x019c
4574  1705  E5          	push	hl
4575  1706  21 12 1C    	ld	hl,0x1c12
4576  1709  E5          	push	hl
4577  170A  3E 30       	ld	a,0x30
4578  170C  F5          	push	af
4579  170D  33          	inc	sp
4580  170E  CD 98 10    	call	_game_menu_e
4581  1711  F1          	pop	af
4582  1712  33          	inc	sp
4583  1713  21 9F FF    	ld	hl,0xff9f
4584  1716  E3          	ex	(sp),hl
4585  1717  21 12 1C    	ld	hl,0x1c12
4586  171A  E5          	push	hl
4587  171B  3E 7C       	ld	a,0x7c
4588  171D  F5          	push	af
4589  171E  33          	inc	sp
4590  171F  CD 98 10    	call	_game_menu_e
4591  1722  F1          	pop	af
4592  1723  33          	inc	sp
4593  1724  21 1D 02    	ld	hl,___str_51
4594  1727  E3          	ex	(sp),hl
4595  1728  21 07 15    	ld	hl,0x1507
4596  172B  E5          	push	hl
4597  172C  CD 00 00    	call	_zx_print_str
4598  172F  21 22 02    	ld	hl,___str_52
4599  1732  E5          	push	hl
4600  1733  21 08 15    	ld	hl,0x1508
4601  1736  E5          	push	hl
4602  1737  CD 00 00    	call	_zx_print_str
4603  173A              l_game_hall_enter_phs_00104:
4604  173A  C9          	ret
4605  173B              	SECTION rodata_compiler
4606  021D              ___str_51:
4607  021D  48 49 47 48 	DEFM "HIGH"
4608  0221  00          	DEFB 0x00
4609  0222              	SECTION rodata_compiler
4610  0222              ___str_52:
4611  0222  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4612  0228  00          	DEFB 0x00
4613  0229              	SECTION code_compiler
4614  173B              ;	---------------------------------
4615  173B              ; Function game_hall_print_p
4616  173B              ; ---------------------------------
4617  173B              _game_hall_print_p:
4618  173B  CD 00 00    	call	___sdcc_enter_ix
4619  173E  DD 7E 04    	ld	a,(ix+4)
4620  1741  D6 05       	sub	a,0x05
4621  1743  30 59       	jr	NC,l_game_hall_print_p_00108
4622  1745  21 00 00    	ld	hl,_initials
4623  1748  E5          	push	hl
4624  1749  21 0D 06    	ld	hl,0x060d
4625  174C  E5          	push	hl
4626  174D  CD 00 00    	call	_zx_print_str
4627  1750  DD 7E 04    	ld	a,(ix+4)
4628  1753  C6 06       	add	a,0x06
4629  1755  47          	ld	b,a
4630  1756  DD 7E 04    	ld	a,(ix+4)
4631  1759  C6 05       	add	a,0x05
4632  175B  57          	ld	d,a
4633  175C  3E 70       	ld	a,0x70
4634  175E  F5          	push	af
4635  175F  33          	inc	sp
4636  1760  4A          	ld	c, d
4637  1761  C5          	push	bc
4638  1762  CD FF 0C    	call	_game_paint_attrib_lin_h
4639  1765  F1          	pop	af
4640  1766  33          	inc	sp
4641  1767  76          	halt
4642  1768  DD 7E 05    	ld	a,(ix+5)
4643  176B  B7          	or	a, a
4644  176C  28 18       	jr	Z,l_game_hall_print_p_00102
4645  176E  21 56 06    	ld	hl,0x0656
4646  1771  E5          	push	hl
4647  1772  3E A9       	ld	a,0xa9
4648  1774  F5          	push	af
4649  1775  33          	inc	sp
4650  1776  CD 00 00    	call	_NIRVANAP_drawT_callee
4651  1779  21 58 06    	ld	hl,0x0658
4652  177C  E5          	push	hl
4653  177D  3E 03       	ld	a,0x03
4654  177F  F5          	push	af
4655  1780  33          	inc	sp
4656  1781  CD 00 00    	call	_NIRVANAP_drawT_callee
4657  1784  18 70       	jr	l_game_hall_print_p_00110
4658  1786              l_game_hall_print_p_00102:
4659  1786  21 58 06    	ld	hl,0x0658
4660  1789  E5          	push	hl
4661  178A  3E A9       	ld	a,0xa9
4662  178C  F5          	push	af
4663  178D  33          	inc	sp
4664  178E  CD 00 00    	call	_NIRVANAP_drawT_callee
4665  1791  21 56 06    	ld	hl,0x0656
4666  1794  E5          	push	hl
4667  1795  3E 16       	ld	a,0x16
4668  1797  F5          	push	af
4669  1798  33          	inc	sp
4670  1799  CD 00 00    	call	_NIRVANAP_drawT_callee
4671  179C  18 58       	jr	l_game_hall_print_p_00110
4672  179E              l_game_hall_print_p_00108:
4673  179E  21 04 00    	ld	hl,+(_initials + 0x0004)
4674  17A1  E5          	push	hl
4675  17A2  21 0D 16    	ld	hl,0x160d
4676  17A5  E5          	push	hl
4677  17A6  CD 00 00    	call	_zx_print_str
4678  17A9  DD 7E 04    	ld	a,(ix+4)
4679  17AC  C6 12       	add	a,0x12
4680  17AE  57          	ld	d,a
4681  17AF  DD 7E 04    	ld	a,(ix+4)
4682  17B2  C6 11       	add	a,0x11
4683  17B4  47          	ld	b,a
4684  17B5  3E 70       	ld	a,0x70
4685  17B7  5A          	ld	e,d
4686  17B8  57          	ld	d,a
4687  17B9  D5          	push	de
4688  17BA  C5          	push	bc
4689  17BB  33          	inc	sp
4690  17BC  CD FF 0C    	call	_game_paint_attrib_lin_h
4691  17BF  F1          	pop	af
4692  17C0  33          	inc	sp
4693  17C1  76          	halt
4694  17C2  DD 7E 05    	ld	a,(ix+5)
4695  17C5  B7          	or	a, a
4696  17C6  28 18       	jr	Z,l_game_hall_print_p_00105
4697  17C8  21 56 17    	ld	hl,0x1756
4698  17CB  E5          	push	hl
4699  17CC  3E A9       	ld	a,0xa9
4700  17CE  F5          	push	af
4701  17CF  33          	inc	sp
4702  17D0  CD 00 00    	call	_NIRVANAP_drawT_callee
4703  17D3  21 58 17    	ld	hl,0x1758
4704  17D6  E5          	push	hl
4705  17D7  3E 27       	ld	a,0x27
4706  17D9  F5          	push	af
4707  17DA  33          	inc	sp
4708  17DB  CD 00 00    	call	_NIRVANAP_drawT_callee
4709  17DE  18 16       	jr	l_game_hall_print_p_00110
4710  17E0              l_game_hall_print_p_00105:
4711  17E0  21 58 17    	ld	hl,0x1758
4712  17E3  E5          	push	hl
4713  17E4  3E A9       	ld	a,0xa9
4714  17E6  F5          	push	af
4715  17E7  33          	inc	sp
4716  17E8  CD 00 00    	call	_NIRVANAP_drawT_callee
4717  17EB  21 56 17    	ld	hl,0x1756
4718  17EE  E5          	push	hl
4719  17EF  3E 2E       	ld	a,0x2e
4720  17F1  F5          	push	af
4721  17F2  33          	inc	sp
4722  17F3  CD 00 00    	call	_NIRVANAP_drawT_callee
4723  17F6              l_game_hall_print_p_00110:
4724  17F6  DD E1       	pop	ix
4725  17F8  C9          	ret
4726  17F9              	SECTION code_compiler
4727  17F9              ;	---------------------------------
4728  17F9              ; Function game_hall_edit_p
4729  17F9              ; ---------------------------------
4730  17F9              _game_hall_edit_p:
4731  17F9  CD 00 00    	call	___sdcc_enter_ix
4732  17FC  F5          	push	af
4733  17FD  4D          	ld	c,l
4734  17FE  0D          	dec	c
4735  17FF  3A 00 00    	ld	a,(_dirs)
4736  1802  07          	rlca
4737  1803  30 63       	jr	NC,l_game_hall_edit_p_00120
4738  1805  79          	ld	a,c
4739  1806  FE 04       	cp	a,0x04
4740  1808  30 17       	jr	NC,l_game_hall_edit_p_00102
4741  180A  C6 07       	add	a,0x07
4742  180C  57          	ld	d,a
4743  180D  79          	ld	a,c
4744  180E  C6 06       	add	a,0x06
4745  1810  47          	ld	b,a
4746  1811  C5          	push	bc
4747  1812  3E 70       	ld	a,0x70
4748  1814  5A          	ld	e,d
4749  1815  57          	ld	d,a
4750  1816  D5          	push	de
4751  1817  C5          	push	bc
4752  1818  33          	inc	sp
4753  1819  CD D8 0C    	call	_game_paint_attrib_lin
4754  181C  F1          	pop	af
4755  181D  33          	inc	sp
4756  181E  C1          	pop	bc
4757  181F  18 16       	jr	l_game_hall_edit_p_00103
4758  1821              l_game_hall_edit_p_00102:
4759  1821  79          	ld	a,c
4760  1822  C6 13       	add	a,0x13
4761  1824  57          	ld	d,a
4762  1825  79          	ld	a,c
4763  1826  C6 12       	add	a,0x12
4764  1828  47          	ld	b,a
4765  1829  C5          	push	bc
4766  182A  3E 70       	ld	a,0x70
4767  182C  5A          	ld	e,d
4768  182D  57          	ld	d,a
4769  182E  D5          	push	de
4770  182F  C5          	push	bc
4771  1830  33          	inc	sp
4772  1831  CD D8 0C    	call	_game_paint_attrib_lin
4773  1834  F1          	pop	af
4774  1835  33          	inc	sp
4775  1836  C1          	pop	bc
4776  1837              l_game_hall_edit_p_00103:
4777  1837  C5          	push	bc
4778  1838  CD 00 00    	call	_sound_slide
4779  183B  C1          	pop	bc
4780  183C  21 00 00    	ld	hl,_ay_effect_01
4781  183F  CD 00 00    	call	_ay_fx_play
4782  1842  11 00 00    	ld	de,_initials+0
4783  1845  41          	ld	b,c
4784  1846  0C          	inc	c
4785  1847  68          	ld	l,b
4786  1848  26 00       	ld	h,0x00
4787  184A  19          	add	hl,de
4788  184B  7E          	ld	a,(hl)
4789  184C  D6 7B       	sub	a,0x7b
4790  184E  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4791  1850  0D          	dec	c
4792  1851  79          	ld	a,c
4793  1852  E6 03       	and	a,0x03
4794  1854  28 08       	jr	Z,l_game_hall_edit_p_00107
4795  1856  41          	ld	b,c
4796  1857  0D          	dec	c
4797  1858  68          	ld	l,b
4798  1859  26 00       	ld	h,0x00
4799  185B  19          	add	hl,de
4800  185C  36 41       	ld	(hl),0x41
4801  185E              l_game_hall_edit_p_00107:
4802  185E  79          	ld	a,c
4803  185F  E6 03       	and	a,0x03
4804  1861  D6 03       	sub	a,0x03
4805  1863  20 44       	jr	NZ,l_game_hall_edit_p_00121
4806  1865  6F          	ld	l,a
4807  1866  18 43       	jr	l_game_hall_edit_p_00122
4808  1868              l_game_hall_edit_p_00120:
4809  1868  3A 00 00    	ld	a,(_dirs)
4810  186B  E6 0C       	and	a,0x0c
4811  186D  28 3A       	jr	Z,l_game_hall_edit_p_00121
4812  186F  11 00 00    	ld	de,_hall_valids
4813  1872  3E 00       	ld	a,+((_initials) & 0xFF)
4814  1874  81          	add	a, c
4815  1875  DD 77 FE    	ld	(ix-2),a
4816  1878  3E 00       	ld	a,+((_initials) / 256)
4817  187A  CE 00       	adc	a,0x00
4818  187C  DD 77 FF    	ld	(ix-1),a
4819  187F  E1          	pop	hl
4820  1880  46          	ld	b,(hl)
4821  1881  E5          	push	hl
4822  1882              l_game_hall_edit_p_00168:
4823  1882  1A          	ld	a, (de)
4824  1883  B8          	cp	a, b
4825  1884  28 06       	jr	Z,l_game_hall_edit_p_00167
4826  1886  B7          	or	a, a
4827  1887  13          	inc	de
4828  1888  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4829  188A  5F          	ld	e, a
4830  188B  57          	ld	d, a
4831  188C              l_game_hall_edit_p_00167:
4832  188C  3A 00 00    	ld	a,(_dirs)
4833  188F  E6 04       	and	a,0x04
4834  1891  28 0A       	jr	Z,l_game_hall_edit_p_00115
4835  1893  1B          	dec	de
4836  1894  1A          	ld	a,(de)
4837  1895  3D          	dec	a
4838  1896  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4839  1898  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4840  189B  18 08       	jr	l_game_hall_edit_p_00116
4841  189D              l_game_hall_edit_p_00115:
4842  189D  13          	inc	de
4843  189E  1A          	ld	a,(de)
4844  189F  B7          	or	a, a
4845  18A0  20 03       	jr	NZ,l_game_hall_edit_p_00116
4846  18A2  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4847  18A5              l_game_hall_edit_p_00116:
4848  18A5  E1          	pop	hl
4849  18A6  1A          	ld	a,(de)
4850  18A7  E5          	push	hl
4851  18A8  77          	ld	(hl),a
4852  18A9              l_game_hall_edit_p_00121:
4853  18A9  0C          	inc	c
4854  18AA  69          	ld	l,c
4855  18AB              l_game_hall_edit_p_00122:
4856  18AB  F1          	pop	af
4857  18AC  DD E1       	pop	ix
4858  18AE  C9          	ret
4859  18AF              	SECTION code_compiler
4860  18AF              ;	---------------------------------
4861  18AF              ; Function game_hall_of_fame
4862  18AF              ; ---------------------------------
4863  18AF              _game_hall_of_fame:
4864  18AF  CD 00 00    	call	_spr_draw_clear
4865  18B2  2E 00       	ld	l,0x00
4866  18B4  CD B4 0C    	call	_game_paint_attrib
4867  18B7  21 9C 01    	ld	hl,0x019c
4868  18BA  E5          	push	hl
4869  18BB  21 06 18    	ld	hl,0x1806
4870  18BE  E5          	push	hl
4871  18BF  3E 10       	ld	a,0x10
4872  18C1  F5          	push	af
4873  18C2  33          	inc	sp
4874  18C3  CD 98 10    	call	_game_menu_e
4875  18C6  F1          	pop	af
4876  18C7  33          	inc	sp
4877  18C8  21 9F FF    	ld	hl,0xff9f
4878  18CB  E3          	ex	(sp),hl
4879  18CC  21 06 18    	ld	hl,0x1806
4880  18CF  E5          	push	hl
4881  18D0  3E 98       	ld	a,0x98
4882  18D2  F5          	push	af
4883  18D3  33          	inc	sp
4884  18D4  CD 98 10    	call	_game_menu_e
4885  18D7  F1          	pop	af
4886  18D8  F1          	pop	af
4887  18D9  33          	inc	sp
4888  18DA  21 00 00    	ld	hl,_s_lin1
4889  18DD  36 00       	ld	(hl),0x00
4890  18DF              l_game_hall_of_fame_00102:
4891  18DF  21 00 00    	ld	hl,_screen_ink
4892  18E2  36 05       	ld	(hl),0x05
4893  18E4  2A 00 00    	ld	hl,(_s_lin1)
4894  18E7  26 00       	ld	h,0x00
4895  18E9  4D          	ld	c,l
4896  18EA  44          	ld	b,h
4897  18EB  29          	add	hl, hl
4898  18EC  09          	add	hl, bc
4899  18ED  29          	add	hl, hl
4900  18EE  01 00 00    	ld	bc,_hof
4901  18F1  09          	add	hl,bc
4902  18F2  3A 00 00    	ld	a,(_s_lin1)
4903  18F5  EB          	ex	de,hl
4904  18F6  C6 07       	add	a,0x07
4905  18F8  47          	ld	b,a
4906  18F9  D5          	push	de
4907  18FA  3E 0A       	ld	a,0x0a
4908  18FC  48          	ld	c,b
4909  18FD  47          	ld	b,a
4910  18FE  C5          	push	bc
4911  18FF  CD 00 00    	call	_zx_print_str
4912  1902  2A 00 00    	ld	hl,(_s_lin1)
4913  1905  26 00       	ld	h,0x00
4914  1907  4D          	ld	c,l
4915  1908  44          	ld	b,h
4916  1909  29          	add	hl, hl
4917  190A  09          	add	hl, bc
4918  190B  29          	add	hl, hl
4919  190C  01 00 00    	ld	bc,_hof
4920  190F  09          	add	hl,bc
4921  1910  11 04 00    	ld	de,0x0004
4922  1913  19          	add	hl, de
4923  1914  5E          	ld	e,(hl)
4924  1915  23          	inc	hl
4925  1916  56          	ld	d,(hl)
4926  1917  3A 00 00    	ld	a,(_s_lin1)
4927  191A  C6 07       	add	a,0x07
4928  191C  47          	ld	b,a
4929  191D  D5          	push	de
4930  191E  3E 10       	ld	a,0x10
4931  1920  48          	ld	c,b
4932  1921  47          	ld	b,a
4933  1922  C5          	push	bc
4934  1923  CD 00 00    	call	_zx_print_int
4935  1926  11 29 02    	ld	de,___str_53
4936  1929  3A 00 00    	ld	a,(_s_lin1)
4937  192C  C6 07       	add	a,0x07
4938  192E  47          	ld	b,a
4939  192F  D5          	push	de
4940  1930  3E 0E       	ld	a,0x0e
4941  1932  48          	ld	c,b
4942  1933  47          	ld	b,a
4943  1934  C5          	push	bc
4944  1935  CD 00 00    	call	_zx_print_str
4945  1938  11 2B 02    	ld	de,___str_54
4946  193B  3A 00 00    	ld	a,(_s_lin1)
4947  193E  C6 07       	add	a,0x07
4948  1940  47          	ld	b,a
4949  1941  D5          	push	de
4950  1942  3E 15       	ld	a,0x15
4951  1944  48          	ld	c,b
4952  1945  47          	ld	b,a
4953  1946  C5          	push	bc
4954  1947  CD 00 00    	call	_zx_print_str
4955  194A  21 00 00    	ld	hl,_s_lin1
4956  194D  7E          	ld	a,(hl)
4957  194E  3C          	inc	a
4958  194F  77          	ld	(hl),a
4959  1950  D6 0A       	sub	a,0x0a
4960  1952  38 8B       	jr	C,l_game_hall_of_fame_00102
4961  1954  21 2D 02    	ld	hl,___str_55
4962  1957  E5          	push	hl
4963  1958  21 04 0A    	ld	hl,0x0a04
4964  195B  E5          	push	hl
4965  195C  CD 00 00    	call	_zx_print_str
4966  195F  21 F4 01    	ld	hl,0x01f4
4967  1962  E5          	push	hl
4968  1963  21 0A 16    	ld	hl,0x160a
4969  1966  E5          	push	hl
4970  1967  3E 04       	ld	a,0x04
4971  1969  F5          	push	af
4972  196A  33          	inc	sp
4973  196B  CD 9C 19    	call	_game_colour_message
4974  196E  F1          	pop	af
4975  196F  F1          	pop	af
4976  1970  33          	inc	sp
4977  1971  CD 00 00    	call	_spr_draw_clear
4978  1974  21 00 00    	ld	hl,_game_menu_sel
4979  1977  36 00       	ld	(hl),0x00
4980  1979  21 00 00    	ld	hl,_pb_midi_title
4981  197C  CD 00 00    	call	_ay_midi_play
4982  197F  C9          	ret
4983  1980              	SECTION rodata_compiler
4984  0229              ___str_53:
4985  0229  2D          	DEFM "-"
4986  022A  00          	DEFB 0x00
4987  022B              	SECTION rodata_compiler
4988  022B              ___str_54:
4989  022B  30          	DEFM "0"
4990  022C  00          	DEFB 0x00
4991  022D              	SECTION rodata_compiler
4992  022D              ___str_55:
4993  022D  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4994  0239  00          	DEFB 0x00
4995  023A              	SECTION code_compiler
4996  1980              ;	---------------------------------
4997  1980              ; Function game_rotate_attrib
4998  1980              ; ---------------------------------
4999  1980              _game_rotate_attrib:
5000  1980  01 03 00    	ld	bc,_attrib_hl + 3
5001  1983  0A          	ld	a,(bc)
5002  1984  32 00 00    	ld	(_tmp_uc),a
5003  1987  11 02 00    	ld	de,_attrib_hl + 2
5004  198A  1A          	ld	a,(de)
5005  198B  02          	ld	(bc),a
5006  198C  01 01 00    	ld	bc,_attrib_hl + 1
5007  198F  0A          	ld	a,(bc)
5008  1990  12          	ld	(de),a
5009  1991  3A 00 00    	ld	a,(_attrib_hl)
5010  1994  02          	ld	(bc),a
5011  1995  3A 00 00    	ld	a,(_tmp_uc)
5012  1998  32 00 00    	ld	(_attrib_hl),a
5013  199B  C9          	ret
5014  199C              	SECTION code_compiler
5015  199C              ;	---------------------------------
5016  199C              ; Function game_colour_message
5017  199C              ; ---------------------------------
5018  199C              _game_colour_message:
5019  199C  CD 00 00    	call	___sdcc_enter_ix
5020  199F  3B          	dec	sp
5021  19A0  21 00 00    	ld	hl,_tmp
5022  19A3  36 01       	ld	(hl),0x01
5023  19A5  2A 00 00    	ld	hl,(_curr_time)
5024  19A8  22 00 00    	ld	(_frame_time),hl
5025  19AB  2A 00 00    	ld	hl,(_curr_time)
5026  19AE  22 00 00    	ld	(_entry_time),hl
5027  19B1  DD 7E 04    	ld	a,(ix+4)
5028  19B4  07          	rlca
5029  19B5  07          	rlca
5030  19B6  07          	rlca
5031  19B7  E6 F8       	and	a,0xf8
5032  19B9  C6 08       	add	a,0x08
5033  19BB  DD 77 FF    	ld	(ix-1),a
5034  19BE              l_game_colour_message_00107:
5035  19BE  3A 00 00    	ld	a,(_tmp)
5036  19C1  B7          	or	a, a
5037  19C2  28 66       	jr	Z,l_game_colour_message_00110
5038  19C4  DD 6E 07    	ld	l,(ix+7)
5039  19C7  DD 66 08    	ld	h,(ix+8)
5040  19CA  E5          	push	hl
5041  19CB  2A 00 00    	ld	hl,(_entry_time)
5042  19CE  E5          	push	hl
5043  19CF  CD 2E 1A    	call	_game_check_time
5044  19D2  F1          	pop	af
5045  19D3  F1          	pop	af
5046  19D4  7D          	ld	a,l
5047  19D5  B7          	or	a, a
5048  19D6  20 52       	jr	NZ,l_game_colour_message_00110
5049  19D8  21 05 00    	ld	hl,0x0005
5050  19DB  E5          	push	hl
5051  19DC  2A 00 00    	ld	hl,(_frame_time)
5052  19DF  E5          	push	hl
5053  19E0  CD 2E 1A    	call	_game_check_time
5054  19E3  F1          	pop	af
5055  19E4  F1          	pop	af
5056  19E5  7D          	ld	a,l
5057  19E6  B7          	or	a, a
5058  19E7  28 1A       	jr	Z,l_game_colour_message_00103
5059  19E9  2A 00 00    	ld	hl,(_curr_time)
5060  19EC  22 00 00    	ld	(_frame_time),hl
5061  19EF  DD 66 FF    	ld	h,(ix-1)
5062  19F2  DD 6E 06    	ld	l,(ix+6)
5063  19F5  E5          	push	hl
5064  19F6  DD 7E 05    	ld	a,(ix+5)
5065  19F9  F5          	push	af
5066  19FA  33          	inc	sp
5067  19FB  CD FF 0C    	call	_game_paint_attrib_lin_h
5068  19FE  F1          	pop	af
5069  19FF  33          	inc	sp
5070  1A00  CD 80 19    	call	_game_rotate_attrib
5071  1A03              l_game_colour_message_00103:
5072  1A03  21 00 00    	ld	hl,_k1
5073  1A06  E5          	push	hl
5074  1A07  2A 00 00    	ld	hl,(_joyfunc1)
5075  1A0A  CD 00 00    	call	___sdcc_call_hl
5076  1A0D  E3          	ex	(sp),hl
5077  1A0E  21 00 00    	ld	hl,_k2
5078  1A11  E5          	push	hl
5079  1A12  2A 00 00    	ld	hl,(_joyfunc2)
5080  1A15  CD 00 00    	call	___sdcc_call_hl
5081  1A18  F1          	pop	af
5082  1A19  EB          	ex	de,hl
5083  1A1A  C1          	pop	bc
5084  1A1B  79          	ld	a,c
5085  1A1C  B3          	or	a, e
5086  1A1D  4F          	ld	c,a
5087  1A1E  78          	ld	a,b
5088  1A1F  B2          	or	a, d
5089  1A20  B1          	or	a,c
5090  1A21  28 9B       	jr	Z,l_game_colour_message_00107
5091  1A23  21 00 00    	ld	hl,_tmp
5092  1A26  36 00       	ld	(hl),0x00
5093  1A28  18 D9       	jr	l_game_colour_message_00103
5094  1A2A              l_game_colour_message_00110:
5095  1A2A  33          	inc	sp
5096  1A2B  DD E1       	pop	ix
5097  1A2D  C9          	ret
5098  1A2E              	SECTION code_compiler
5099  1A2E              ;	---------------------------------
5100  1A2E              ; Function game_check_time
5101  1A2E              ; ---------------------------------
5102  1A2E              _game_check_time:
5103  1A2E  CD 00 00    	call	___sdcc_enter_ix
5104  1A31  2A 00 00    	ld	hl,(_curr_time)
5105  1A34  7D          	ld	a,l
5106  1A35  DD 96 04    	sub	a,(ix+4)
5107  1A38  4F          	ld	c,a
5108  1A39  7C          	ld	a,h
5109  1A3A  DD 9E 05    	sbc	a,(ix+5)
5110  1A3D  47          	ld	b,a
5111  1A3E  DD 7E 06    	ld	a,(ix+6)
5112  1A41  91          	sub	a, c
5113  1A42  DD 7E 07    	ld	a,(ix+7)
5114  1A45  98          	sbc	a, b
5115  1A46  30 04       	jr	NC,l_game_check_time_00102
5116  1A48  2E 01       	ld	l,0x01
5117  1A4A  18 02       	jr	l_game_check_time_00104
5118  1A4C              l_game_check_time_00102:
5119  1A4C  2E 00       	ld	l,0x00
5120  1A4E              l_game_check_time_00104:
5121  1A4E  DD E1       	pop	ix
5122  1A50  C9          	ret
5123  1A51              	SECTION IGNORE
5124  0000              
