1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9917 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_print_phase
184   0000              	GLOBAL _game_calc_index
185   0000              	GLOBAL _game_print_footer
186   0000              	GLOBAL _game_phase_print_score_back
187   0000              	GLOBAL _game_print_lives
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_start_timer
190   0000              	GLOBAL _game_phase_calc
191   0000              	GLOBAL _game_phase_init
192   0000              	GLOBAL _game_print_header
193   0000              	GLOBAL _game_phase_print
194   0000              	GLOBAL _game_loop
195   0000              	GLOBAL _game_score_osd
196   0000              	GLOBAL _game_bonus_clock
197   0000              	GLOBAL _game_bonus_summary
198   0000              	GLOBAL _game_bonus_summary_player
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_check_floor
201   0000              	GLOBAL _game_enemy_add
202   0000              	GLOBAL _game_enemy_quota
203   0000              	GLOBAL _game_enemy_rnd
204   0000              	GLOBAL _game_enemy_add1
205   0000              	GLOBAL _game_enemy_add_get_index
206   0000              	GLOBAL _game_freeze
207   0000              	GLOBAL _game_unfreeze_all
208   0000              	GLOBAL _game_freeze_all
209   0000              	GLOBAL _game_print_score
210   0000              	GLOBAL _game_paint_attrib
211   0000              	GLOBAL _game_paint_attrib_lin
212   0000              	GLOBAL _game_paint_attrib_lin_h
213   0000              	GLOBAL _game_menu_config
214   0000              	GLOBAL _game_joystick_change
215   0000              	GLOBAL _game_joystick_set_menu
216   0000              	GLOBAL _game_joystick_set
217   0000              	GLOBAL _game_menu
218   0000              	GLOBAL _game_menu_top_paint
219   0000              	GLOBAL _game_menu_paint
220   0000              	GLOBAL _game_menu_e
221   0000              	GLOBAL _game_menu_handle
222   0000              	GLOBAL _game_end
223   0000              	GLOBAL _game_hall_check
224   0000              	GLOBAL _game_hall_enter
225   0000              	GLOBAL _game_menu_back
226   0000              	GLOBAL _game_hall_enter_prt
227   0000              	GLOBAL _game_hall_enter_phs
228   0000              	GLOBAL _game_hall_print_p2
229   0000              	GLOBAL _game_hall_print_p
230   0000              	GLOBAL _game_hall_edit_p
231   0000              	GLOBAL _game_hall_of_fame
232   0000              	GLOBAL _game_rotate_attrib
233   0000              	GLOBAL _game_colour_message
234   0000              	GLOBAL _game_check_time
235   0000              ;--------------------------------------------------------
236   0000              ; Externals used
237   0000              ;--------------------------------------------------------
238   0000              	GLOBAL _debug3
239   0000              	GLOBAL _debug2
240   0000              	GLOBAL _debug
241   0000              	GLOBAL _zx_print_str
242   0000              	GLOBAL _zx_print_int
243   0000              	GLOBAL _zx_print_chr
244   0000              	GLOBAL _zx_print_bonus_time
245   0000              	GLOBAL _zx_isr
246   0000              	GLOBAL _spr_mapfix
247   0000              	GLOBAL _spr_kill_all
248   0000              	GLOBAL _spr_collision_check
249   0000              	GLOBAL _spr_calc_hor
250   0000              	GLOBAL _spr_draw_row
251   0000              	GLOBAL _spr_draw_index
252   0000              	GLOBAL _spr_draw_clear
253   0000              	GLOBAL _spr_water_splash_draw
254   0000              	GLOBAL _spr_water_splash_clear
255   0000              	GLOBAL _spr_draw_background
256   0000              	GLOBAL _spr_cortina_brick
257   0000              	GLOBAL _spr_brick_anim
258   0000              	GLOBAL _spr_back_fix
259   0000              	GLOBAL _spr_back_paint
260   0000              	GLOBAL _spr_back_clr
261   0000              	GLOBAL _spr_draw_pow
262   0000              	GLOBAL _spr_tile
263   0000              	GLOBAL _spr_set_fall
264   0000              	GLOBAL _spr_destroy
265   0000              	GLOBAL _spr_check_over
266   0000              	GLOBAL _spr_tile_dir
267   0000              	GLOBAL _spr_anim_kill
268   0000              	GLOBAL _spr_anim_fall
269   0000              	GLOBAL _spr_killed
270   0000              	GLOBAL _spr_redraw
271   0000              	GLOBAL _spr_move_left
272   0000              	GLOBAL _spr_move_right
273   0000              	GLOBAL _spr_move_horizontal
274   0000              	GLOBAL _spr_move_down
275   0000              	GLOBAL _spr_move_up
276   0000              	GLOBAL _spr_chktime
277   0000              	GLOBAL _sound_hit_pow
278   0000              	GLOBAL _sound_hit_brick
279   0000              	GLOBAL _sound_hit_enemy
280   0000              	GLOBAL _sound_kill
281   0000              	GLOBAL _sound_enter_enemy
282   0000              	GLOBAL _sound_coin
283   0000              	GLOBAL _sound_jump
284   0000              	GLOBAL _sound_slide
285   0000              	GLOBAL _player_set
286   0000              	GLOBAL _player_move_horizontal
287   0000              	GLOBAL _player_push
288   0000              	GLOBAL _player_hit_brick_clear
289   0000              	GLOBAL _player_lost_life
290   0000              	GLOBAL _player_score_add
291   0000              	GLOBAL _player_coin
292   0000              	GLOBAL _player_hit_pow
293   0000              	GLOBAL _player_hit_brick
294   0000              	GLOBAL _player_move_input
295   0000              	GLOBAL _player_turn
296   0000              	GLOBAL _player_move
297   0000              	GLOBAL _player_restart
298   0000              	GLOBAL _player_kill
299   0000              	GLOBAL _player_check_input
300   0000              	GLOBAL _player_collision
301   0000              	GLOBAL _player_calc_slide
302   0000              	GLOBAL _player_init
303   0000              	GLOBAL _game_fill_row
304   0000              	GLOBAL _enemy_ugly_fix
305   0000              	GLOBAL _enemy_kill
306   0000              	GLOBAL _enemy_init
307   0000              	GLOBAL _enemy_walk
308   0000              	GLOBAL _enemy_upgrade
309   0000              	GLOBAL _enemy_evolve
310   0000              	GLOBAL _enemy_standard_hit
311   0000              	GLOBAL _enemy_trip_move
312   0000              	GLOBAL _enemy_trip
313   0000              	GLOBAL _enemy_fighterfly
314   0000              	GLOBAL _enemy_fireball_green
315   0000              	GLOBAL _enemy_fireball_red
316   0000              	GLOBAL _enemy_slipice
317   0000              	GLOBAL _enemy_standard
318   0000              	GLOBAL _enemy_turn
319   0000              	GLOBAL _enemy_flip_sidestepper
320   0000              	GLOBAL _enemy_flip
321   0000              	GLOBAL _enemy_flip_change_dir
322   0000              	GLOBAL _enemy_hit
323   0000              	GLOBAL _enemy_collision_turn_dir
324   0000              	GLOBAL _enemy_collision
325   0000              	GLOBAL _enemy_coin1
326   0000              	GLOBAL _ay_fx_play
327   0000              	GLOBAL _ay_midi_play
328   0000              	GLOBAL _ay_is_playing
329   0000              	GLOBAL _ay_reset
330   0000              	GLOBAL _in_mouse_kempston_wheel_delta
331   0000              	GLOBAL _in_mouse_kempston_wheel
332   0000              	GLOBAL _in_mouse_kempston_callee
333   0000              	GLOBAL _in_mouse_kempston
334   0000              	GLOBAL _in_mouse_kempston_setpos_callee
335   0000              	GLOBAL _in_mouse_kempston_setpos
336   0000              	GLOBAL _in_mouse_kempston_reset
337   0000              	GLOBAL _in_mouse_kempston_init
338   0000              	GLOBAL _in_mouse_amx_wheel_delta
339   0000              	GLOBAL _in_mouse_amx_wheel
340   0000              	GLOBAL _in_mouse_amx_callee
341   0000              	GLOBAL _in_mouse_amx
342   0000              	GLOBAL _in_mouse_amx_setpos_callee
343   0000              	GLOBAL _in_mouse_amx_setpos
344   0000              	GLOBAL _in_mouse_amx_reset
345   0000              	GLOBAL _in_mouse_amx_init_callee
346   0000              	GLOBAL _in_mouse_amx_init
347   0000              	GLOBAL _in_stick_sinclair2
348   0000              	GLOBAL _in_stick_sinclair1
349   0000              	GLOBAL _in_stick_kempston
350   0000              	GLOBAL _in_stick_fuller
351   0000              	GLOBAL _in_stick_cursor
352   0000              	GLOBAL _in_stick_keyboard_fastcall
353   0000              	GLOBAL _in_stick_keyboard
354   0000              	GLOBAL _in_wait_nokey
355   0000              	GLOBAL _in_wait_key
356   0000              	GLOBAL _in_test_key
357   0000              	GLOBAL _in_pause_fastcall
358   0000              	GLOBAL _in_pause
359   0000              	GLOBAL _in_key_scancode_fastcall
360   0000              	GLOBAL _in_key_scancode
361   0000              	GLOBAL _in_key_pressed_fastcall
362   0000              	GLOBAL _in_key_pressed
363   0000              	GLOBAL _in_inkey
364   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawTW_raw
366   0000              	GLOBAL _NIRVANAP_drawTW_callee
367   0000              	GLOBAL _NIRVANAP_drawTW
368   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
369   0000              	GLOBAL _NIRVANAP_drawW_raw
370   0000              	GLOBAL _NIRVANAP_drawW_callee
371   0000              	GLOBAL _NIRVANAP_drawW
372   0000              	GLOBAL _NIRVANAP_spriteT_callee
373   0000              	GLOBAL _NIRVANAP_spriteT
374   0000              	GLOBAL _NIRVANAP_fillC_callee
375   0000              	GLOBAL _NIRVANAP_fillC
376   0000              	GLOBAL _NIRVANAP_readC_callee
377   0000              	GLOBAL _NIRVANAP_readC
378   0000              	GLOBAL _NIRVANAP_paintC_callee
379   0000              	GLOBAL _NIRVANAP_paintC
380   0000              	GLOBAL _NIRVANAP_printC_callee
381   0000              	GLOBAL _NIRVANAP_printC
382   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
383   0000              	GLOBAL _NIRVANAP_fillT_raw
384   0000              	GLOBAL _NIRVANAP_fillT_callee
385   0000              	GLOBAL _NIRVANAP_fillT
386   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
387   0000              	GLOBAL _NIRVANAP_drawT_raw
388   0000              	GLOBAL _NIRVANAP_drawT_callee
389   0000              	GLOBAL _NIRVANAP_drawT
390   0000              	GLOBAL _NIRVANAP_stop
391   0000              	GLOBAL _NIRVANAP_start
392   0000              	GLOBAL _z80_otdr_callee
393   0000              	GLOBAL _z80_otdr
394   0000              	GLOBAL _z80_otir_callee
395   0000              	GLOBAL _z80_otir
396   0000              	GLOBAL _z80_outp_callee
397   0000              	GLOBAL _z80_outp
398   0000              	GLOBAL _z80_indr_callee
399   0000              	GLOBAL _z80_indr
400   0000              	GLOBAL _z80_inir_callee
401   0000              	GLOBAL _z80_inir
402   0000              	GLOBAL _z80_inp_fastcall
403   0000              	GLOBAL _z80_inp
404   0000              	GLOBAL _z80_set_int_state_fastcall
405   0000              	GLOBAL _z80_set_int_state
406   0000              	GLOBAL _z80_get_int_state
407   0000              	GLOBAL _z80_delay_tstate_fastcall
408   0000              	GLOBAL _z80_delay_tstate
409   0000              	GLOBAL _z80_delay_ms_fastcall
410   0000              	GLOBAL _z80_delay_ms
411   0000              	GLOBAL _im2_remove_generic_callback_callee
412   0000              	GLOBAL _im2_remove_generic_callback
413   0000              	GLOBAL _im2_prepend_generic_callback_callee
414   0000              	GLOBAL _im2_prepend_generic_callback
415   0000              	GLOBAL _im2_append_generic_callback_callee
416   0000              	GLOBAL _im2_append_generic_callback
417   0000              	GLOBAL _im2_create_generic_isr_8080_callee
418   0000              	GLOBAL _im2_create_generic_isr_8080
419   0000              	GLOBAL _im2_create_generic_isr_callee
420   0000              	GLOBAL _im2_create_generic_isr
421   0000              	GLOBAL _im2_install_isr_callee
422   0000              	GLOBAL _im2_install_isr
423   0000              	GLOBAL _im2_init_fastcall
424   0000              	GLOBAL _im2_init
425   0000              	GLOBAL _ffsll_callee
426   0000              	GLOBAL _ffsll
427   0000              	GLOBAL _strxfrm_callee
428   0000              	GLOBAL _strxfrm
429   0000              	GLOBAL _strupr_fastcall
430   0000              	GLOBAL _strupr
431   0000              	GLOBAL _strtok_r_callee
432   0000              	GLOBAL _strtok_r
433   0000              	GLOBAL _strtok_callee
434   0000              	GLOBAL _strtok
435   0000              	GLOBAL _strstrip_fastcall
436   0000              	GLOBAL _strstrip
437   0000              	GLOBAL _strstr_callee
438   0000              	GLOBAL _strstr
439   0000              	GLOBAL _strspn_callee
440   0000              	GLOBAL _strspn
441   0000              	GLOBAL _strsep_callee
442   0000              	GLOBAL _strsep
443   0000              	GLOBAL _strrstrip_fastcall
444   0000              	GLOBAL _strrstrip
445   0000              	GLOBAL _strrspn_callee
446   0000              	GLOBAL _strrspn
447   0000              	GLOBAL _strrev_fastcall
448   0000              	GLOBAL _strrev
449   0000              	GLOBAL _strrcspn_callee
450   0000              	GLOBAL _strrcspn
451   0000              	GLOBAL _strrchr_callee
452   0000              	GLOBAL _strrchr
453   0000              	GLOBAL _strpbrk_callee
454   0000              	GLOBAL _strpbrk
455   0000              	GLOBAL _strnlen_callee
456   0000              	GLOBAL _strnlen
457   0000              	GLOBAL _strnicmp_callee
458   0000              	GLOBAL _strnicmp
459   0000              	GLOBAL _strndup_callee
460   0000              	GLOBAL _strndup
461   0000              	GLOBAL _strncpy_callee
462   0000              	GLOBAL _strncpy
463   0000              	GLOBAL _strncmp_callee
464   0000              	GLOBAL _strncmp
465   0000              	GLOBAL _strnchr_callee
466   0000              	GLOBAL _strnchr
467   0000              	GLOBAL _strncat_callee
468   0000              	GLOBAL _strncat
469   0000              	GLOBAL _strncasecmp_callee
470   0000              	GLOBAL _strncasecmp
471   0000              	GLOBAL _strlwr_fastcall
472   0000              	GLOBAL _strlwr
473   0000              	GLOBAL _strlen_fastcall
474   0000              	GLOBAL _strlen
475   0000              	GLOBAL _strlcpy_callee
476   0000              	GLOBAL _strlcpy
477   0000              	GLOBAL _strlcat_callee
478   0000              	GLOBAL _strlcat
479   0000              	GLOBAL _stricmp_callee
480   0000              	GLOBAL _stricmp
481   0000              	GLOBAL _strerror_fastcall
482   0000              	GLOBAL _strerror
483   0000              	GLOBAL _strdup_fastcall
484   0000              	GLOBAL _strdup
485   0000              	GLOBAL _strcspn_callee
486   0000              	GLOBAL _strcspn
487   0000              	GLOBAL _strcpy_callee
488   0000              	GLOBAL _strcpy
489   0000              	GLOBAL _strcoll_callee
490   0000              	GLOBAL _strcoll
491   0000              	GLOBAL _strcmp_callee
492   0000              	GLOBAL _strcmp
493   0000              	GLOBAL _strchrnul_callee
494   0000              	GLOBAL _strchrnul
495   0000              	GLOBAL _strchr_callee
496   0000              	GLOBAL _strchr
497   0000              	GLOBAL _strcat_callee
498   0000              	GLOBAL _strcat
499   0000              	GLOBAL _strcasecmp_callee
500   0000              	GLOBAL _strcasecmp
501   0000              	GLOBAL _stpncpy_callee
502   0000              	GLOBAL _stpncpy
503   0000              	GLOBAL _stpcpy_callee
504   0000              	GLOBAL _stpcpy
505   0000              	GLOBAL _memswap_callee
506   0000              	GLOBAL _memswap
507   0000              	GLOBAL _memset_callee
508   0000              	GLOBAL _memset
509   0000              	GLOBAL _memrchr_callee
510   0000              	GLOBAL _memrchr
511   0000              	GLOBAL _memmove_callee
512   0000              	GLOBAL _memmove
513   0000              	GLOBAL _memmem_callee
514   0000              	GLOBAL _memmem
515   0000              	GLOBAL _memcpy_callee
516   0000              	GLOBAL _memcpy
517   0000              	GLOBAL _memcmp_callee
518   0000              	GLOBAL _memcmp
519   0000              	GLOBAL _memchr_callee
520   0000              	GLOBAL _memchr
521   0000              	GLOBAL _memccpy_callee
522   0000              	GLOBAL _memccpy
523   0000              	GLOBAL _ffsl_fastcall
524   0000              	GLOBAL _ffsl
525   0000              	GLOBAL _ffs_fastcall
526   0000              	GLOBAL _ffs
527   0000              	GLOBAL __strrstrip__fastcall
528   0000              	GLOBAL __strrstrip_
529   0000              	GLOBAL __memupr__callee
530   0000              	GLOBAL __memupr_
531   0000              	GLOBAL __memstrcpy__callee
532   0000              	GLOBAL __memstrcpy_
533   0000              	GLOBAL __memlwr__callee
534   0000              	GLOBAL __memlwr_
535   0000              	GLOBAL _rawmemchr_callee
536   0000              	GLOBAL _rawmemchr
537   0000              	GLOBAL _strnset_callee
538   0000              	GLOBAL _strnset
539   0000              	GLOBAL _strset_callee
540   0000              	GLOBAL _strset
541   0000              	GLOBAL _rindex_callee
542   0000              	GLOBAL _rindex
543   0000              	GLOBAL _index_callee
544   0000              	GLOBAL _index
545   0000              	GLOBAL _bzero_callee
546   0000              	GLOBAL _bzero
547   0000              	GLOBAL _bcopy_callee
548   0000              	GLOBAL _bcopy
549   0000              	GLOBAL _bcmp_callee
550   0000              	GLOBAL _bcmp
551   0000              	GLOBAL _ulltoa_callee
552   0000              	GLOBAL _ulltoa
553   0000              	GLOBAL _strtoull_callee
554   0000              	GLOBAL _strtoull
555   0000              	GLOBAL _strtoll_callee
556   0000              	GLOBAL _strtoll
557   0000              	GLOBAL _lltoa_callee
558   0000              	GLOBAL _lltoa
559   0000              	GLOBAL _llabs_callee
560   0000              	GLOBAL _llabs
561   0000              	GLOBAL __lldivu__callee
562   0000              	GLOBAL __lldivu_
563   0000              	GLOBAL __lldiv__callee
564   0000              	GLOBAL __lldiv_
565   0000              	GLOBAL _atoll_callee
566   0000              	GLOBAL _atoll
567   0000              	GLOBAL _realloc_unlocked_callee
568   0000              	GLOBAL _realloc_unlocked
569   0000              	GLOBAL _malloc_unlocked_fastcall
570   0000              	GLOBAL _malloc_unlocked
571   0000              	GLOBAL _free_unlocked_fastcall
572   0000              	GLOBAL _free_unlocked
573   0000              	GLOBAL _calloc_unlocked_callee
574   0000              	GLOBAL _calloc_unlocked
575   0000              	GLOBAL _aligned_alloc_unlocked_callee
576   0000              	GLOBAL _aligned_alloc_unlocked
577   0000              	GLOBAL _realloc_callee
578   0000              	GLOBAL _realloc
579   0000              	GLOBAL _malloc_fastcall
580   0000              	GLOBAL _malloc
581   0000              	GLOBAL _free_fastcall
582   0000              	GLOBAL _free
583   0000              	GLOBAL _calloc_callee
584   0000              	GLOBAL _calloc
585   0000              	GLOBAL _aligned_alloc_callee
586   0000              	GLOBAL _aligned_alloc
587   0000              	GLOBAL _utoa_callee
588   0000              	GLOBAL _utoa
589   0000              	GLOBAL _ultoa_callee
590   0000              	GLOBAL _ultoa
591   0000              	GLOBAL _system_fastcall
592   0000              	GLOBAL _system
593   0000              	GLOBAL _strtoul_callee
594   0000              	GLOBAL _strtoul
595   0000              	GLOBAL _strtol_callee
596   0000              	GLOBAL _strtol
597   0000              	GLOBAL _strtof_callee
598   0000              	GLOBAL _strtof
599   0000              	GLOBAL _strtod_callee
600   0000              	GLOBAL _strtod
601   0000              	GLOBAL _srand_fastcall
602   0000              	GLOBAL _srand
603   0000              	GLOBAL _rand
604   0000              	GLOBAL _quick_exit_fastcall
605   0000              	GLOBAL _quick_exit
606   0000              	GLOBAL _qsort_callee
607   0000              	GLOBAL _qsort
608   0000              	GLOBAL _ltoa_callee
609   0000              	GLOBAL _ltoa
610   0000              	GLOBAL _labs_fastcall
611   0000              	GLOBAL _labs
612   0000              	GLOBAL _itoa_callee
613   0000              	GLOBAL _itoa
614   0000              	GLOBAL _ftoh_callee
615   0000              	GLOBAL _ftoh
616   0000              	GLOBAL _ftog_callee
617   0000              	GLOBAL _ftog
618   0000              	GLOBAL _ftoe_callee
619   0000              	GLOBAL _ftoe
620   0000              	GLOBAL _ftoa_callee
621   0000              	GLOBAL _ftoa
622   0000              	GLOBAL _exit_fastcall
623   0000              	GLOBAL _exit
624   0000              	GLOBAL _dtoh_callee
625   0000              	GLOBAL _dtoh
626   0000              	GLOBAL _dtog_callee
627   0000              	GLOBAL _dtog
628   0000              	GLOBAL _dtoe_callee
629   0000              	GLOBAL _dtoe
630   0000              	GLOBAL _dtoa_callee
631   0000              	GLOBAL _dtoa
632   0000              	GLOBAL _bsearch_callee
633   0000              	GLOBAL _bsearch
634   0000              	GLOBAL _atol_fastcall
635   0000              	GLOBAL _atol
636   0000              	GLOBAL _atoi_fastcall
637   0000              	GLOBAL _atoi
638   0000              	GLOBAL _atof_fastcall
639   0000              	GLOBAL _atof
640   0000              	GLOBAL _atexit_fastcall
641   0000              	GLOBAL _atexit
642   0000              	GLOBAL _at_quick_exit_fastcall
643   0000              	GLOBAL _at_quick_exit
644   0000              	GLOBAL _abs_fastcall
645   0000              	GLOBAL _abs
646   0000              	GLOBAL _abort
647   0000              	GLOBAL __strtou__callee
648   0000              	GLOBAL __strtou_
649   0000              	GLOBAL __strtoi__callee
650   0000              	GLOBAL __strtoi_
651   0000              	GLOBAL __random_uniform_xor_8__fastcall
652   0000              	GLOBAL __random_uniform_xor_8_
653   0000              	GLOBAL __random_uniform_xor_32__fastcall
654   0000              	GLOBAL __random_uniform_xor_32_
655   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
656   0000              	GLOBAL __random_uniform_cmwc_8_
657   0000              	GLOBAL __shellsort__callee
658   0000              	GLOBAL __shellsort_
659   0000              	GLOBAL __quicksort__callee
660   0000              	GLOBAL __quicksort_
661   0000              	GLOBAL __insertion_sort__callee
662   0000              	GLOBAL __insertion_sort_
663   0000              	GLOBAL __ldivu__callee
664   0000              	GLOBAL __ldivu_
665   0000              	GLOBAL __ldiv__callee
666   0000              	GLOBAL __ldiv_
667   0000              	GLOBAL __divu__callee
668   0000              	GLOBAL __divu_
669   0000              	GLOBAL __div__callee
670   0000              	GLOBAL __div_
671   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
672   0000              	GLOBAL _intrinsic_swap_word_32
673   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
674   0000              	GLOBAL _intrinsic_swap_endian_32
675   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
676   0000              	GLOBAL _intrinsic_swap_endian_16
677   0000              	GLOBAL _intrinsic_return_de
678   0000              	GLOBAL _intrinsic_return_bc
679   0000              	GLOBAL _intrinsic_exx
680   0000              	GLOBAL _intrinsic_ex_de_hl
681   0000              	GLOBAL _intrinsic_nop
682   0000              	GLOBAL _intrinsic_im_2
683   0000              	GLOBAL _intrinsic_im_1
684   0000              	GLOBAL _intrinsic_im_0
685   0000              	GLOBAL _intrinsic_retn
686   0000              	GLOBAL _intrinsic_reti
687   0000              	GLOBAL _intrinsic_halt
688   0000              	GLOBAL _intrinsic_ei
689   0000              	GLOBAL _intrinsic_di
690   0000              	GLOBAL _intrinsic_stub
691   0000              	GLOBAL _zx_pattern_fill_callee
692   0000              	GLOBAL _zx_pattern_fill
693   0000              	GLOBAL _zx_saddrpup_fastcall
694   0000              	GLOBAL _zx_saddrpup
695   0000              	GLOBAL _zx_saddrpright_callee
696   0000              	GLOBAL _zx_saddrpright
697   0000              	GLOBAL _zx_saddrpleft_callee
698   0000              	GLOBAL _zx_saddrpleft
699   0000              	GLOBAL _zx_saddrpdown_fastcall
700   0000              	GLOBAL _zx_saddrpdown
701   0000              	GLOBAL _zx_saddrcup_fastcall
702   0000              	GLOBAL _zx_saddrcup
703   0000              	GLOBAL _zx_saddrcright_fastcall
704   0000              	GLOBAL _zx_saddrcright
705   0000              	GLOBAL _zx_saddrcleft_fastcall
706   0000              	GLOBAL _zx_saddrcleft
707   0000              	GLOBAL _zx_saddrcdown_fastcall
708   0000              	GLOBAL _zx_saddrcdown
709   0000              	GLOBAL _zx_saddr2py_fastcall
710   0000              	GLOBAL _zx_saddr2py
711   0000              	GLOBAL _zx_saddr2px_fastcall
712   0000              	GLOBAL _zx_saddr2px
713   0000              	GLOBAL _zx_saddr2cy_fastcall
714   0000              	GLOBAL _zx_saddr2cy
715   0000              	GLOBAL _zx_saddr2cx_fastcall
716   0000              	GLOBAL _zx_saddr2cx
717   0000              	GLOBAL _zx_saddr2aaddr_fastcall
718   0000              	GLOBAL _zx_saddr2aaddr
719   0000              	GLOBAL _zx_py2saddr_fastcall
720   0000              	GLOBAL _zx_py2saddr
721   0000              	GLOBAL _zx_py2aaddr_fastcall
722   0000              	GLOBAL _zx_py2aaddr
723   0000              	GLOBAL _zx_pxy2saddr_callee
724   0000              	GLOBAL _zx_pxy2saddr
725   0000              	GLOBAL _zx_pxy2aaddr_callee
726   0000              	GLOBAL _zx_pxy2aaddr
727   0000              	GLOBAL _zx_px2bitmask_fastcall
728   0000              	GLOBAL _zx_px2bitmask
729   0000              	GLOBAL _zx_cy2saddr_fastcall
730   0000              	GLOBAL _zx_cy2saddr
731   0000              	GLOBAL _zx_cy2aaddr_fastcall
732   0000              	GLOBAL _zx_cy2aaddr
733   0000              	GLOBAL _zx_cxy2saddr_callee
734   0000              	GLOBAL _zx_cxy2saddr
735   0000              	GLOBAL _zx_cxy2aaddr_callee
736   0000              	GLOBAL _zx_cxy2aaddr
737   0000              	GLOBAL _zx_bitmask2px_fastcall
738   0000              	GLOBAL _zx_bitmask2px
739   0000              	GLOBAL _zx_aaddrcup_fastcall
740   0000              	GLOBAL _zx_aaddrcup
741   0000              	GLOBAL _zx_aaddrcright_fastcall
742   0000              	GLOBAL _zx_aaddrcright
743   0000              	GLOBAL _zx_aaddrcleft_fastcall
744   0000              	GLOBAL _zx_aaddrcleft
745   0000              	GLOBAL _zx_aaddrcdown_fastcall
746   0000              	GLOBAL _zx_aaddrcdown
747   0000              	GLOBAL _zx_aaddr2saddr_fastcall
748   0000              	GLOBAL _zx_aaddr2saddr
749   0000              	GLOBAL _zx_aaddr2py_fastcall
750   0000              	GLOBAL _zx_aaddr2py
751   0000              	GLOBAL _zx_aaddr2px_fastcall
752   0000              	GLOBAL _zx_aaddr2px
753   0000              	GLOBAL _zx_aaddr2cy_fastcall
754   0000              	GLOBAL _zx_aaddr2cy
755   0000              	GLOBAL _zx_aaddr2cx_fastcall
756   0000              	GLOBAL _zx_aaddr2cx
757   0000              	GLOBAL _zx_scroll_wc_up_callee
758   0000              	GLOBAL _zx_scroll_wc_up
759   0000              	GLOBAL _zx_scroll_up_callee
760   0000              	GLOBAL _zx_scroll_up
761   0000              	GLOBAL _zx_cls_wc_callee
762   0000              	GLOBAL _zx_cls_wc
763   0000              	GLOBAL _zx_cls_fastcall
764   0000              	GLOBAL _zx_cls
765   0000              	GLOBAL _zx_border_fastcall
766   0000              	GLOBAL _zx_border
767   0000              	GLOBAL _joynames
768   0000              	GLOBAL _initials
769   0000              	GLOBAL _hof
770   0000              	GLOBAL _score_osd_tile
771   0000              	GLOBAL _score_osd_update_time
772   0000              	GLOBAL _score_osd_col
773   0000              	GLOBAL _score_osd_lin
774   0000              	GLOBAL _phase_bonus_total
775   0000              	GLOBAL _phase_angry
776   0000              	GLOBAL _phase_curr
777   0000              	GLOBAL _phase_end
778   0000              	GLOBAL _phase_coins
779   0000              	GLOBAL _phase_pop
780   0000              	GLOBAL _phase_tot
781   0000              	GLOBAL _phase_left
782   0000              	GLOBAL _phase_quota
783   0000              	GLOBAL _phases
784   0000              	GLOBAL _lvl_1
785   0000              	GLOBAL _sprite_speed_alt
786   0000              	GLOBAL _sprite_speed
787   0000              	GLOBAL _screen_ink
788   0000              	GLOBAL _screen_paper
789   0000              	GLOBAL _game_menu_sel
790   0000              	GLOBAL _game_type
791   0000              	GLOBAL _game_osd
792   0000              	GLOBAL _game_bonus
793   0000              	GLOBAL _spr_water_time
794   0000              	GLOBAL _spr_water_clear
795   0000              	GLOBAL _game_time_fireball_start
796   0000              	GLOBAL _game_time_flipped
797   0000              	GLOBAL _game_score_top
798   0000              	GLOBAL _game_lives
799   0000              	GLOBAL _game_over
800   0000              	GLOBAL _game_sound
801   0000              	GLOBAL _game_inmune
802   0000              	GLOBAL _game_god_mode
803   0000              	GLOBAL _game_start_phase
804   0000              	GLOBAL _game_two_player
805   0000              	GLOBAL _game_brick_tile
806   0000              	GLOBAL _game_pow
807   0000              	GLOBAL _game_ugly_fix_cnt
808   0000              	GLOBAL _game_ugly_back
809   0000              	GLOBAL _spr_count
810   0000              	GLOBAL _osd_show_time
811   0000              	GLOBAL _osd_update_time
812   0000              	GLOBAL _frame_time
813   0000              	GLOBAL _entry_time
814   0000              	GLOBAL _curr_time
815   0000              	GLOBAL _s_state
816   0000              	GLOBAL _attrib_hl
817   0000              	GLOBAL _attrib
818   0000              	GLOBAL _zx_val_asm
819   0000              	GLOBAL _enemies
820   0000              	GLOBAL _tmp_ui
821   0000              	GLOBAL _tmp_sc
822   0000              	GLOBAL _tmp_uc
823   0000              	GLOBAL _tmp1
824   0000              	GLOBAL _tmp0
825   0000              	GLOBAL _tmp
826   0000              	GLOBAL _index1
827   0000              	GLOBAL _loop_count
828   0000              	GLOBAL _sprite_lin_inc_mul
829   0000              	GLOBAL _s_col1
830   0000              	GLOBAL _s_col0
831   0000              	GLOBAL _s_lin1
832   0000              	GLOBAL _s_lin0
833   0000              	GLOBAL _s_tile1
834   0000              	GLOBAL _s_tile0
835   0000              	GLOBAL _hit_count
836   0000              	GLOBAL _tile_offset_other_player
837   0000              	GLOBAL _tile_offset
838   0000              	GLOBAL _index_player
839   0000              	GLOBAL _sprite_other_player
840   0000              	GLOBAL _sprite
841   0000              	GLOBAL _player_joy
842   0000              	GLOBAL _player_next_extra
843   0000              	GLOBAL _player_score
844   0000              	GLOBAL _last_time
845   0000              	GLOBAL _sliding
846   0000              	GLOBAL _spr_timer
847   0000              	GLOBAL _jump_lin
848   0000              	GLOBAL _player_jump_c
849   0000              	GLOBAL _hit_col
850   0000              	GLOBAL _hit_lin
851   0000              	GLOBAL _colint
852   0000              	GLOBAL _col
853   0000              	GLOBAL _lin
854   0000              	GLOBAL _tile
855   0000              	GLOBAL _state_a
856   0000              	GLOBAL _state
857   0000              	GLOBAL _class
858   0000              	GLOBAL _tbuffer
859   0000              	GLOBAL _dirs
860   0000              	GLOBAL _k2
861   0000              	GLOBAL _k1
862   0000              	GLOBAL _joyfunc2
863   0000              	GLOBAL _joyfunc1
864   0000              	GLOBAL _btiles
865   0000              	GLOBAL _spec128
866   0000              	GLOBAL _ay_effect_20
867   0000              	GLOBAL _ay_effect_19
868   0000              	GLOBAL _ay_effect_18
869   0000              	GLOBAL _ay_effect_17
870   0000              	GLOBAL _ay_effect_16
871   0000              	GLOBAL _ay_effect_15
872   0000              	GLOBAL _ay_effect_14
873   0000              	GLOBAL _ay_effect_13
874   0000              	GLOBAL _ay_effect_12
875   0000              	GLOBAL _ay_effect_11
876   0000              	GLOBAL _ay_effect_10
877   0000              	GLOBAL _ay_effect_09
878   0000              	GLOBAL _ay_effect_08
879   0000              	GLOBAL _ay_effect_07
880   0000              	GLOBAL _ay_effect_06
881   0000              	GLOBAL _ay_effect_05
882   0000              	GLOBAL _ay_effect_04
883   0000              	GLOBAL _ay_effect_03
884   0000              	GLOBAL _ay_effect_02
885   0000              	GLOBAL _ay_effect_01
886   0000              	GLOBAL _pb_midi_phase_1
887   0000              	GLOBAL _pb_midi_title
888   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
889   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
890   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
891   0000              	GLOBAL _NIRVANAP_HOLE
892   0000              	GLOBAL _NIRVANAP_ISR_HOOK
893   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
894   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
895   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
896   0000              	GLOBAL _fix_1
897   0000              	GLOBAL _control_method
898   0000              	GLOBAL _hall_valids
899   0000              ;--------------------------------------------------------
900   0000              ; special function registers
901   0000              ;--------------------------------------------------------
902   0000              defc _IO_FE	=	0x00fe
903   0000              defc _IO_1FFD	=	0x1ffd
904   0000              defc _IO_7FFD	=	0x7ffd
905   0000              ;--------------------------------------------------------
906   0000              ; ram data
907   0000              ;--------------------------------------------------------
908   0000              	SECTION bss_compiler
909   0000              ;--------------------------------------------------------
910   0000              ; ram data
911   0000              ;--------------------------------------------------------
912   0000              
913   0000              IF 0
914   0000              
915   0000              ; .area _INITIALIZED removed by z88dk
916   0000              
917   0000              
918   0000              ENDIF
919   0000              
920   0000              ;--------------------------------------------------------
921   0000              ; absolute external ram data
922   0000              ;--------------------------------------------------------
923   0000              	SECTION IGNORE
924   0000              ;--------------------------------------------------------
925   0000              ; global & static initialisations
926   0000              ;--------------------------------------------------------
927   0000              	SECTION code_crt_init
928   0000              ;--------------------------------------------------------
929   0000              ; Home
930   0000              ;--------------------------------------------------------
931   0000              	SECTION IGNORE
932   0000              ;--------------------------------------------------------
933   0000              ; code
934   0000              ;--------------------------------------------------------
935   0000              	SECTION code_compiler
936   0000              ;	---------------------------------
937   0000              ; Function game_calc_index
938   0000              ; ---------------------------------
939   0000              _game_calc_index:
940   0000  CD 00 00    	call	___sdcc_enter_ix
941   0003  DD 4E 05    	ld	c,(ix+5)
942   0006  06 00       	ld	b,0x00
943   0008  DD 7E 04    	ld	a,(ix+4)
944   000B  0F          	rrca
945   000C  0F          	rrca
946   000D  0F          	rrca
947   000E  E6 1F       	and	a,0x1f
948   0010  6F          	ld	l, a
949   0011  26 00       	ld	h,0x00
950   0013  29          	add	hl, hl
951   0014  29          	add	hl, hl
952   0015  29          	add	hl, hl
953   0016  29          	add	hl, hl
954   0017  29          	add	hl, hl
955   0018  09          	add	hl, bc
956   0019  DD E1       	pop	ix
957   001B  C9          	ret
958   001C              	SECTION code_compiler
959   001C              ;	---------------------------------
960   001C              ; Function game_print_footer
961   001C              ; ---------------------------------
962   001C              _game_print_footer:
963   001C  21 00 00    	ld	hl,___str_0
964   001F  E5          	push	hl
965   0020  21 16 01    	ld	hl,0x0116
966   0023  E5          	push	hl
967   0024  CD 00 00    	call	_zx_print_str
968   0027  21 00 00    	ld	hl,___str_0
969   002A  E5          	push	hl
970   002B  21 16 1E    	ld	hl,0x1e16
971   002E  E5          	push	hl
972   002F  CD 00 00    	call	_zx_print_str
973   0032  21 02 00    	ld	hl,___str_1
974   0035  E5          	push	hl
975   0036  21 17 01    	ld	hl,0x0117
976   0039  E5          	push	hl
977   003A  CD 00 00    	call	_zx_print_str
978   003D  21 02 00    	ld	hl,___str_1
979   0040  E5          	push	hl
980   0041  21 17 1E    	ld	hl,0x1e17
981   0044  E5          	push	hl
982   0045  CD 00 00    	call	_zx_print_str
983   0048  3A 00 00    	ld	a,(_game_lives)
984   004B  B7          	or	a, a
985   004C  28 20       	jr	Z,l_game_print_footer_00102
986   004E  21 00 00    	ld	hl,_screen_ink
987   0051  36 02       	ld	(hl),0x02
988   0053  21 08 00    	ld	hl,___str_2
989   0056  E5          	push	hl
990   0057  21 16 01    	ld	hl,0x0116
991   005A  E5          	push	hl
992   005B  CD 00 00    	call	_zx_print_str
993   005E  21 00 00    	ld	hl,_screen_ink
994   0061  36 06       	ld	(hl),0x06
995   0063  21 0A 00    	ld	hl,___str_3
996   0066  E5          	push	hl
997   0067  21 17 01    	ld	hl,0x0117
998   006A  E5          	push	hl
999   006B  CD 00 00    	call	_zx_print_str
1000  006E              l_game_print_footer_00102:
1001  006E  3A 01 00    	ld	a, (_game_lives + 1)
1002  0071  B7          	or	a, a
1003  0072  28 20       	jr	Z,l_game_print_footer_00104
1004  0074  21 00 00    	ld	hl,_screen_ink
1005  0077  36 07       	ld	(hl),0x07
1006  0079  21 0C 00    	ld	hl,___str_4
1007  007C  E5          	push	hl
1008  007D  21 16 1E    	ld	hl,0x1e16
1009  0080  E5          	push	hl
1010  0081  CD 00 00    	call	_zx_print_str
1011  0084  21 00 00    	ld	hl,_screen_ink
1012  0087  36 06       	ld	(hl),0x06
1013  0089  21 0E 00    	ld	hl,___str_5
1014  008C  E5          	push	hl
1015  008D  21 17 1E    	ld	hl,0x1e17
1016  0090  E5          	push	hl
1017  0091  CD 00 00    	call	_zx_print_str
1018  0094              l_game_print_footer_00104:
1019  0094  CD CE 00    	call	_game_print_lives
1020  0097  C9          	ret
1021  0098              	SECTION rodata_compiler
1022  0000              ___str_0:
1023  0000  20          	DEFM " "
1024  0001  00          	DEFB 0x00
1025  0002              	SECTION rodata_compiler
1026  0002              ___str_1:
1027  0002  20 20 20 20 20 
                        	DEFM "     "
1028  0007  00          	DEFB 0x00
1029  0008              	SECTION rodata_compiler
1030  0008              ___str_2:
1031  0008  3C          	DEFM "<"
1032  0009  00          	DEFB 0x00
1033  000A              	SECTION rodata_compiler
1034  000A              ___str_3:
1035  000A  5C          	DEFB 0x5c
1036  000B  00          	DEFB 0x00
1037  000C              	SECTION rodata_compiler
1038  000C              ___str_4:
1039  000C  3E          	DEFM ">"
1040  000D  00          	DEFB 0x00
1041  000E              	SECTION rodata_compiler
1042  000E              ___str_5:
1043  000E  5E          	DEFM "^"
1044  000F  00          	DEFB 0x00
1045  0010              	SECTION code_compiler
1046  0098              ;	---------------------------------
1047  0098              ; Function game_phase_print_score_back
1048  0098              ; ---------------------------------
1049  0098              _game_phase_print_score_back:
1050  0098  21 00 00    	ld	hl,_screen_ink
1051  009B  36 02       	ld	(hl),0x02
1052  009D  21 10 00    	ld	hl,___str_6
1053  00A0  E5          	push	hl
1054  00A1  21 00 0B    	ld	hl,0x0b00
1055  00A4  E5          	push	hl
1056  00A5  CD 00 00    	call	_zx_print_str
1057  00A8  21 00 00    	ld	hl,_screen_ink
1058  00AB  36 01       	ld	(hl),0x01
1059  00AD  21 14 00    	ld	hl,___str_7
1060  00B0  E5          	push	hl
1061  00B1  21 00 01    	ld	hl,0x0100
1062  00B4  E5          	push	hl
1063  00B5  CD 00 00    	call	_zx_print_str
1064  00B8  3A 00 00    	ld	a,(_game_two_player)
1065  00BB  B7          	or	a, a
1066  00BC  C8          	ret	Z
1067  00BD  21 00 00    	ld	hl,_screen_ink
1068  00C0  36 04       	ld	(hl),0x04
1069  00C2  21 17 00    	ld	hl,___str_8
1070  00C5  E5          	push	hl
1071  00C6  21 00 16    	ld	hl,0x1600
1072  00C9  E5          	push	hl
1073  00CA  CD 00 00    	call	_zx_print_str
1074  00CD  C9          	ret
1075  00CE              	SECTION rodata_compiler
1076  0010              ___str_6:
1077  0010  24 25 7C    	DEFM "$%|"
1078  0013  00          	DEFB 0x00
1079  0014              	SECTION rodata_compiler
1080  0014              ___str_7:
1081  0014  5B 7C       	DEFM "[|"
1082  0016  00          	DEFB 0x00
1083  0017              	SECTION rodata_compiler
1084  0017              ___str_8:
1085  0017  5D 7C       	DEFM "]|"
1086  0019  00          	DEFB 0x00
1087  001A              	SECTION code_compiler
1088  00CE              ;	---------------------------------
1089  00CE              ; Function game_print_lives
1090  00CE              ; ---------------------------------
1091  00CE              _game_print_lives:
1092  00CE  21 00 00    	ld	hl,_screen_ink
1093  00D1  36 07       	ld	(hl),0x07
1094  00D3  3A 00 00    	ld	a,(_game_lives)
1095  00D6  C6 FF       	add	a,0xff
1096  00D8  21 00 00    	ld	hl,_tmp
1097  00DB  77          	ld	(hl),a
1098  00DC  D6 FF       	sub	a,0xff
1099  00DE  30 0A       	jr	NC,l_game_print_lives_00102
1100  00E0  7E          	ld	a, (hl)
1101  00E1  F5          	push	af
1102  00E2  33          	inc	sp
1103  00E3  21 17 03    	ld	hl,0x0317
1104  00E6  E5          	push	hl
1105  00E7  CD 00 00    	call	_zx_print_chr
1106  00EA              l_game_print_lives_00102:
1107  00EA  3A 01 00    	ld	a, (_game_lives + 1)
1108  00ED  C6 FF       	add	a,0xff
1109  00EF  21 00 00    	ld	hl,_tmp
1110  00F2  77          	ld	(hl),a
1111  00F3  D6 FF       	sub	a,0xff
1112  00F5  D0          	ret	NC
1113  00F6  7E          	ld	a, (hl)
1114  00F7  F5          	push	af
1115  00F8  33          	inc	sp
1116  00F9  21 17 1A    	ld	hl,0x1a17
1117  00FC  E5          	push	hl
1118  00FD  CD 00 00    	call	_zx_print_chr
1119  0100  C9          	ret
1120  0101              	SECTION code_compiler
1121  0101              ;	---------------------------------
1122  0101              ; Function game_tick
1123  0101              ; ---------------------------------
1124  0101              _game_tick:
1125  0101  21 00 00    	ld	hl,_curr_time
1126  0104  34          	inc	(hl)
1127  0105  C2 00 00    	jp	NZ,_zx_isr
1128  0108  23          	inc	hl
1129  0109  34          	inc	(hl)
1130  010A  C3 00 00    	jp  _zx_isr
1131  010D              	SECTION code_compiler
1132  010D              ;	---------------------------------
1133  010D              ; Function game_start_timer
1134  010D              ; ---------------------------------
1135  010D              _game_start_timer:
1136  010D  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1137  0110  36 CD       	ld	(hl),0xcd
1138  0112  23          	inc	hl
1139  0113  11 01 01    	ld	de,_game_tick
1140  0116  73          	ld	(hl), e
1141  0117  23          	inc	hl
1142  0118  72          	ld	(hl), d
1143  0119  C9          	ret
1144  011A              	SECTION code_compiler
1145  011A              ;	---------------------------------
1146  011A              ; Function game_phase_calc
1147  011A              ; ---------------------------------
1148  011A              _game_phase_calc:
1149  011A  3A 00 00    	ld	a,(_phase_curr)
1150  011D  87          	add	a, a
1151  011E  87          	add	a, a
1152  011F  21 00 00    	ld	hl,_tmp_uc
1153  0122  77          	ld	(hl), a
1154  0123  01 00 00    	ld	bc,_phases+0
1155  0126  79          	ld	a, c
1156  0127  86          	add	a, (hl)
1157  0128  5F          	ld	e, a
1158  0129  78          	ld	a, b
1159  012A  CE 00       	adc	a,0x00
1160  012C  57          	ld	d, a
1161  012D  1A          	ld	a, (de)
1162  012E  32 00 00    	ld	(_phase_quota),a
1163  0131  21 00 00    	ld	hl,_tmp_uc
1164  0134  5E          	ld	e, (hl)
1165  0135  1C          	inc	e
1166  0136  6B          	ld	l,e
1167  0137  26 00       	ld	h,0x00
1168  0139  09          	add	hl, bc
1169  013A  7E          	ld	a,(hl)
1170  013B  32 01 00    	ld	((_phase_quota + 0x0001)),a
1171  013E  21 00 00    	ld	hl,_tmp_uc
1172  0141  5E          	ld	e, (hl)
1173  0142  1C          	inc	e
1174  0143  1C          	inc	e
1175  0144  6B          	ld	l,e
1176  0145  26 00       	ld	h,0x00
1177  0147  09          	add	hl, bc
1178  0148  7E          	ld	a,(hl)
1179  0149  32 02 00    	ld	((_phase_quota + 0x0002)),a
1180  014C  21 00 00    	ld	hl,_tmp_uc
1181  014F  5E          	ld	e, (hl)
1182  0150  1C          	inc	e
1183  0151  1C          	inc	e
1184  0152  1C          	inc	e
1185  0153  6B          	ld	l,e
1186  0154  26 00       	ld	h,0x00
1187  0156  09          	add	hl, bc
1188  0157  7E          	ld	a, (hl)
1189  0158  32 00 00    	ld	(_game_brick_tile),a
1190  015B  D6 8B       	sub	a,0x8b
1191  015D  20 05       	jr	NZ,l_game_phase_calc_00102
1192  015F  CD 91 0C    	call	_game_freeze_all
1193  0162  18 03       	jr	l_game_phase_calc_00103
1194  0164              l_game_phase_calc_00102:
1195  0164  CD 68 0C    	call	_game_unfreeze_all
1196  0167              l_game_phase_calc_00103:
1197  0167  21 00 00    	ld	hl,_phase_quota
1198  016A  4E          	ld	c, (hl)
1199  016B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1200  016E  46          	ld	b, (hl)
1201  016F  79          	ld	a, c
1202  0170  80          	add	a, b
1203  0171  4F          	ld	c, a
1204  0172  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1205  0175  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1206  0177  09          	add	hl, bc
1207  0178  C9          	ret
1208  0179              	SECTION code_compiler
1209  0179              ;	---------------------------------
1210  0179              ; Function game_phase_init
1211  0179              ; ---------------------------------
1212  0179              _game_phase_init:
1213  0179  21 00 00    	ld	hl,0x0000
1214  017C  22 00 00    	ld	(_loop_count),hl
1215  017F  21 00 00    	ld	hl,_phase_end
1216  0182  36 00       	ld	(hl),0x00
1217  0184  21 00 00    	ld	hl,_phase_angry
1218  0187  36 00       	ld	(hl),0x00
1219  0189  21 00 00    	ld	hl,_phase_coins
1220  018C  36 00       	ld	(hl),0x00
1221  018E  21 00 00    	ld	hl,_phase_pop
1222  0191  36 00       	ld	(hl),0x00
1223  0193  21 00 00    	ld	hl,_game_bonus
1224  0196  36 00       	ld	(hl),0x00
1225  0198  21 00 00    	ld	hl,0x0000
1226  019B  22 00 00    	ld	(_entry_time),hl
1227  019E  21 00 00    	ld	hl,0
1228  01A1  22 00 00    	ld	(_curr_time),hl
1229  01A4  21 00 00    	ld	hl,0x0000
1230  01A7  22 00 00    	ld	(_frame_time),hl
1231  01AA  21 FF FF    	ld	hl,0xffff
1232  01AD  22 00 00    	ld	(_score_osd_col),hl
1233  01B0  21 00 00    	ld	hl,_spr_count
1234  01B3  36 00       	ld	(hl),0x00
1235  01B5  21 00 00    	ld	hl,_game_ugly_fix_cnt
1236  01B8  36 00       	ld	(hl),0x00
1237  01BA  3A 00 00    	ld	a,(_game_type)
1238  01BD  D6 02       	sub	a,0x02
1239  01BF  CA 4B 02    	jp	Z,l_game_phase_init_00104
1240  01C2  CD 1A 01    	call	_game_phase_calc
1241  01C5  7D          	ld	a,l
1242  01C6  32 00 00    	ld	(_phase_left),a
1243  01C9  32 00 00    	ld	(_phase_tot),a
1244  01CC  21 00 00    	ld	hl,_phase_left
1245  01CF  7E          	ld	a, (hl)
1246  01D0  B7          	or	a, a
1247  01D1  C2 5D 02    	jp	NZ, l_game_phase_init_00105
1248  01D4  01 00 00    	ld	bc,_phase_bonus_total+0
1249  01D7  AF          	xor	a, a
1250  01D8  02          	ld	(bc), a
1251  01D9  03          	inc	bc
1252  01DA  AF          	xor	a, a
1253  01DB  02          	ld	(bc), a
1254  01DC  36 06       	ld	(hl),0x06
1255  01DE  21 00 00    	ld	hl,_game_bonus
1256  01E1  36 01       	ld	(hl),0x01
1257  01E3  21 0C 00    	ld	hl,0x000c
1258  01E6  E5          	push	hl
1259  01E7  21 90 08    	ld	hl,0x0890
1260  01EA  E5          	push	hl
1261  01EB  AF          	xor	a, a
1262  01EC  F5          	push	af
1263  01ED  33          	inc	sp
1264  01EE  CD 00 00    	call	_enemy_init
1265  01F1  F1          	pop	af
1266  01F2  33          	inc	sp
1267  01F3  21 0C 00    	ld	hl,0x000c
1268  01F6  E3          	ex	(sp),hl
1269  01F7  21 90 16    	ld	hl,0x1690
1270  01FA  E5          	push	hl
1271  01FB  3E 01       	ld	a,0x01
1272  01FD  F5          	push	af
1273  01FE  33          	inc	sp
1274  01FF  CD 00 00    	call	_enemy_init
1275  0202  F1          	pop	af
1276  0203  33          	inc	sp
1277  0204  21 0C 00    	ld	hl,0x000c
1278  0207  E3          	ex	(sp),hl
1279  0208  21 50 06    	ld	hl,0x0650
1280  020B  E5          	push	hl
1281  020C  3E 02       	ld	a,0x02
1282  020E  F5          	push	af
1283  020F  33          	inc	sp
1284  0210  CD 00 00    	call	_enemy_init
1285  0213  F1          	pop	af
1286  0214  33          	inc	sp
1287  0215  21 0C 00    	ld	hl,0x000c
1288  0218  E3          	ex	(sp),hl
1289  0219  21 50 18    	ld	hl,0x1850
1290  021C  E5          	push	hl
1291  021D  3E 03       	ld	a,0x03
1292  021F  F5          	push	af
1293  0220  33          	inc	sp
1294  0221  CD 00 00    	call	_enemy_init
1295  0224  F1          	pop	af
1296  0225  33          	inc	sp
1297  0226  21 0C 00    	ld	hl,0x000c
1298  0229  E3          	ex	(sp),hl
1299  022A  21 10 05    	ld	hl,0x0510
1300  022D  E5          	push	hl
1301  022E  3E 04       	ld	a,0x04
1302  0230  F5          	push	af
1303  0231  33          	inc	sp
1304  0232  CD 00 00    	call	_enemy_init
1305  0235  F1          	pop	af
1306  0236  33          	inc	sp
1307  0237  21 0C 00    	ld	hl,0x000c
1308  023A  E3          	ex	(sp),hl
1309  023B  21 10 19    	ld	hl,0x1910
1310  023E  E5          	push	hl
1311  023F  3E 05       	ld	a,0x05
1312  0241  F5          	push	af
1313  0242  33          	inc	sp
1314  0243  CD 00 00    	call	_enemy_init
1315  0246  F1          	pop	af
1316  0247  F1          	pop	af
1317  0248  33          	inc	sp
1318  0249  18 12       	jr	l_game_phase_init_00105
1319  024B              l_game_phase_init_00104:
1320  024B  21 00 00    	ld	hl,_phase_left
1321  024E  36 FF       	ld	(hl),0xff
1322  0250  21 00 00    	ld	hl,_phase_curr
1323  0253  36 FF       	ld	(hl),0xff
1324  0255  CD 68 0C    	call	_game_unfreeze_all
1325  0258  21 00 00    	ld	hl,_game_brick_tile
1326  025B  36 84       	ld	(hl),0x84
1327  025D              l_game_phase_init_00105:
1328  025D  CD 00 00    	call	_ay_reset
1329  0260  3A 00 00    	ld	a,(_game_bonus)
1330  0263  B7          	or	a, a
1331  0264  20 06       	jr	NZ,l_game_phase_init_00107
1332  0266  21 00 00    	ld	hl,_pb_midi_phase_1
1333  0269  CD 00 00    	call	_ay_midi_play
1334  026C              l_game_phase_init_00107:
1335  026C  CD 00 00    	call	_spr_draw_clear
1336  026F  2E 00       	ld	l,0x00
1337  0271  CD 00 00    	call	_zx_cls_fastcall
1338  0274  CD 00 00    	call	_spr_draw_background
1339  0277  CD B2 02    	call	_game_print_header
1340  027A  CD 1C 00    	call	_game_print_footer
1341  027D  3A 00 00    	ld	a,(_game_lives)
1342  0280  B7          	or	a, a
1343  0281  28 0D       	jr	Z,l_game_phase_init_00109
1344  0283  21 0A 03    	ld	hl,0x030a
1345  0286  E5          	push	hl
1346  0287  21 07 98    	ld	hl,0x9807
1347  028A  E5          	push	hl
1348  028B  CD 00 00    	call	_player_init
1349  028E  F1          	pop	af
1350  028F  F1          	pop	af
1351  0290              l_game_phase_init_00109:
1352  0290  3A 01 00    	ld	a, (_game_lives + 1)
1353  0293  B7          	or	a, a
1354  0294  28 0D       	jr	Z,l_game_phase_init_00111
1355  0296  21 14 27    	ld	hl,0x2714
1356  0299  E5          	push	hl
1357  029A  21 06 98    	ld	hl,0x9806
1358  029D  E5          	push	hl
1359  029E  CD 00 00    	call	_player_init
1360  02A1  F1          	pop	af
1361  02A2  F1          	pop	af
1362  02A3              l_game_phase_init_00111:
1363  02A3  21 00 00    	ld	hl,_game_osd
1364  02A6  36 01       	ld	(hl),0x01
1365  02A8  2A 00 00    	ld	hl,(_curr_time)
1366  02AB  22 00 00    	ld	(_osd_update_time),hl
1367  02AE  22 00 00    	ld	(_osd_show_time),hl
1368  02B1  C9          	ret
1369  02B2              	SECTION code_compiler
1370  02B2              ;	---------------------------------
1371  02B2              ; Function game_print_header
1372  02B2              ; ---------------------------------
1373  02B2              _game_print_header:
1374  02B2  CD 98 00    	call	_game_phase_print_score_back
1375  02B5  21 00 00    	ld	hl,_screen_ink
1376  02B8  36 07       	ld	(hl),0x07
1377  02BA  C3 BA 0C    	jp  _game_print_score
1378  02BD              	SECTION code_compiler
1379  02BD              ;	---------------------------------
1380  02BD              ; Function game_phase_print
1381  02BD              ; ---------------------------------
1382  02BD              _game_phase_print:
1383  02BD  45          	ld	b, l
1384  02BE  C5          	push	bc
1385  02BF  21 1A 00    	ld	hl,___str_9
1386  02C2  E5          	push	hl
1387  02C3  3E 0B       	ld	a,0x0b
1388  02C5  48          	ld	c,b
1389  02C6  47          	ld	b,a
1390  02C7  C5          	push	bc
1391  02C8  CD 00 00    	call	_zx_print_str
1392  02CB  C1          	pop	bc
1393  02CC  3A 00 00    	ld	a,(_phase_curr)
1394  02CF  D6 1F       	sub	a,0x1f
1395  02D1  30 3F       	jr	NC,l_game_phase_print_00108
1396  02D3  3A 00 00    	ld	a,(_game_bonus)
1397  02D6  B7          	or	a, a
1398  02D7  20 2B       	jr	NZ,l_game_phase_print_00102
1399  02D9  C5          	push	bc
1400  02DA  21 20 00    	ld	hl,___str_10
1401  02DD  E5          	push	hl
1402  02DE  3E 10       	ld	a,0x10
1403  02E0  48          	ld	c,b
1404  02E1  47          	ld	b,a
1405  02E2  C5          	push	bc
1406  02E3  CD 00 00    	call	_zx_print_str
1407  02E6  C1          	pop	bc
1408  02E7  21 00 00    	ld	hl,_phase_curr
1409  02EA  56          	ld	d, (hl)
1410  02EB  14          	inc	d
1411  02EC  C5          	push	bc
1412  02ED  1E 12       	ld	e,0x12
1413  02EF  D5          	push	de
1414  02F0  C5          	push	bc
1415  02F1  33          	inc	sp
1416  02F2  CD 00 00    	call	_zx_print_chr
1417  02F5  C1          	pop	bc
1418  02F6  21 20 00    	ld	hl,___str_10
1419  02F9  E5          	push	hl
1420  02FA  3E 15       	ld	a,0x15
1421  02FC  48          	ld	c,b
1422  02FD  47          	ld	b,a
1423  02FE  C5          	push	bc
1424  02FF  CD 00 00    	call	_zx_print_str
1425  0302  18 2F       	jr	l_game_phase_print_00110
1426  0304              l_game_phase_print_00102:
1427  0304  21 23 00    	ld	hl,___str_11
1428  0307  E5          	push	hl
1429  0308  3E 11       	ld	a,0x11
1430  030A  48          	ld	c,b
1431  030B  47          	ld	b,a
1432  030C  C5          	push	bc
1433  030D  CD 00 00    	call	_zx_print_str
1434  0310  18 21       	jr	l_game_phase_print_00110
1435  0312              l_game_phase_print_00108:
1436  0312  3A 00 00    	ld	a,(_game_type)
1437  0315  D6 02       	sub	a,0x02
1438  0317  28 0E       	jr	Z,l_game_phase_print_00105
1439  0319  21 2A 00    	ld	hl,___str_12
1440  031C  E5          	push	hl
1441  031D  3E 11       	ld	a,0x11
1442  031F  48          	ld	c,b
1443  0320  47          	ld	b,a
1444  0321  C5          	push	bc
1445  0322  CD 00 00    	call	_zx_print_str
1446  0325  18 0C       	jr	l_game_phase_print_00110
1447  0327              l_game_phase_print_00105:
1448  0327  21 31 00    	ld	hl,___str_13
1449  032A  E5          	push	hl
1450  032B  3E 11       	ld	a,0x11
1451  032D  48          	ld	c,b
1452  032E  47          	ld	b,a
1453  032F  C5          	push	bc
1454  0330  CD 00 00    	call	_zx_print_str
1455  0333              l_game_phase_print_00110:
1456  0333  C9          	ret
1457  0334              	SECTION rodata_compiler
1458  001A              ___str_9:
1459  001A  50 48 41 53 45 
                        	DEFM "PHASE"
1460  001F  00          	DEFB 0x00
1461  0020              	SECTION rodata_compiler
1462  0020              ___str_10:
1463  0020  20 20       	DEFM "  "
1464  0022  00          	DEFB 0x00
1465  0023              	SECTION rodata_compiler
1466  0023              ___str_11:
1467  0023  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1468  0029  00          	DEFB 0x00
1469  002A              	SECTION rodata_compiler
1470  002A              ___str_12:
1471  002A  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1472  0030  00          	DEFB 0x00
1473  0031              	SECTION rodata_compiler
1474  0031              ___str_13:
1475  0031  52 41 4E 44 20 20 
                        	DEFM "RAND  "
1476  0037  00          	DEFB 0x00
1477  0038              	SECTION code_compiler
1478  0334              ;	---------------------------------
1479  0334              ; Function game_loop
1480  0334              ; ---------------------------------
1481  0334              _game_loop:
1482  0334  21 15 20    	ld	hl,0x2015
1483  0337  E5          	push	hl
1484  0338  CD 00 00    	call	_game_fill_row
1485  033B  21 16 20    	ld	hl,0x2016
1486  033E  E5          	push	hl
1487  033F  CD 00 00    	call	_game_fill_row
1488  0342  21 17 20    	ld	hl,0x2017
1489  0345  E5          	push	hl
1490  0346  CD 00 00    	call	_game_fill_row
1491  0349  21 00 00    	ld	hl,_screen_ink
1492  034C  36 03       	ld	(hl),0x03
1493  034E  21 38 00    	ld	hl,___str_14
1494  0351  E5          	push	hl
1495  0352  21 16 06    	ld	hl,0x0616
1496  0355  E5          	push	hl
1497  0356  CD 00 00    	call	_zx_print_str
1498  0359  21 00 00    	ld	hl,_ay_effect_10
1499  035C  CD 00 00    	call	_ay_fx_play
1500  035F  CD 00 00    	call	_sound_coin
1501  0362  21 C8 00    	ld	hl,0x00c8
1502  0365  CD 00 00    	call	_z80_delay_ms_fastcall
1503  0368  21 16 20    	ld	hl,0x2016
1504  036B  E5          	push	hl
1505  036C  CD 00 00    	call	_game_fill_row
1506  036F  CD 00 00    	call	_ay_reset
1507  0372  21 8C 8C    	ld	hl,0x8c8c
1508  0375  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1509  0378  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1510  037B  21 00 00    	ld	hl,_game_lives+0
1511  037E  36 04       	ld	(hl),0x04
1512  0380  23          	inc	hl
1513  0381  3A 00 00    	ld	a,(_game_two_player)
1514  0384  B7          	or	a,a
1515  0385  4D          	ld	c,l
1516  0386  44          	ld	b,h
1517  0387  28 05       	jr	Z,l_game_loop_00102
1518  0389  3E 04       	ld	a,0x04
1519  038B  02          	ld	(bc), a
1520  038C  18 02       	jr	l_game_loop_00103
1521  038E              l_game_loop_00102:
1522  038E  AF          	xor	a, a
1523  038F  02          	ld	(bc), a
1524  0390              l_game_loop_00103:
1525  0390  21 00 00    	ld	hl,0x0000
1526  0393  22 00 00    	ld	(_player_score), hl
1527  0396  2E 00       	ld	l,0x00
1528  0398  22 02 00    	ld	(_player_score + 0x0002),hl
1529  039B  21 D0 07    	ld	hl,0x07d0
1530  039E  22 00 00    	ld	(_player_next_extra), hl
1531  03A1  2E D0       	ld	l,0xd0
1532  03A3  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1533  03A6  21 00 00    	ld	hl,_spr_water_clear
1534  03A9  36 FF       	ld	(hl),0xff
1535  03AB  3A 00 00    	ld	a,(_game_type)
1536  03AE  B7          	or	a, a
1537  03AF  20 0E       	jr	NZ,l_game_loop_00105
1538  03B1  21 F4 01    	ld	hl,0x01f4
1539  03B4  22 00 00    	ld	(_game_time_flipped),hl
1540  03B7  21 D0 07    	ld	hl,0x07d0
1541  03BA  22 00 00    	ld	(_game_time_fireball_start),hl
1542  03BD  18 0C       	jr	l_game_loop_00106
1543  03BF              l_game_loop_00105:
1544  03BF  21 FA 00    	ld	hl,0x00fa
1545  03C2  22 00 00    	ld	(_game_time_flipped),hl
1546  03C5  21 F4 01    	ld	hl,0x01f4
1547  03C8  22 00 00    	ld	(_game_time_fireball_start),hl
1548  03CB              l_game_loop_00106:
1549  03CB  21 00 00    	ld	hl,_game_over
1550  03CE  36 00       	ld	(hl),0x00
1551  03D0  21 00 00    	ld	hl,_game_pow
1552  03D3  36 03       	ld	(hl),0x03
1553  03D5  3A 00 00    	ld	a,(_game_start_phase)
1554  03D8  32 00 00    	ld	(_phase_curr),a
1555  03DB  CD 79 01    	call	_game_phase_init
1556  03DE  21 00 00    	ld	hl,_sprite_lin_inc_mul
1557  03E1  36 00       	ld	(hl),0x00
1558  03E3  21 00 00    	ld	hl,_dirs
1559  03E6  36 00       	ld	(hl),0x00
1560  03E8  CD 58 0F    	call	_game_joystick_set
1561  03EB              l_game_loop_00136:
1562  03EB  3A 00 00    	ld	a,(_game_over)
1563  03EE  B7          	or	a, a
1564  03EF  C2 23 05    	jp	NZ, l_game_loop_00138
1565  03F2  CD 00 00    	call	_spr_mapfix
1566  03F5  3A 00 00    	ld	a,(_loop_count)
1567  03F8  E6 03       	and	a,0x03
1568  03FA  20 12       	jr	NZ,l_game_loop_00108
1569  03FC  CD 00 00    	call	_spr_draw_pow
1570  03FF  AF          	xor	a, a
1571  0400  F5          	push	af
1572  0401  33          	inc	sp
1573  0402  CD AB 05    	call	_game_score_osd
1574  0405  33          	inc	sp
1575  0406  3E 01       	ld	a,0x01
1576  0408  F5          	push	af
1577  0409  33          	inc	sp
1578  040A  CD AB 05    	call	_game_score_osd
1579  040D  33          	inc	sp
1580  040E              l_game_loop_00108:
1581  040E  21 00 18    	ld	hl,0x1800
1582  0411  E5          	push	hl
1583  0412  21 06 00    	ld	hl,0x0006
1584  0415  E5          	push	hl
1585  0416  3E 07       	ld	a,0x07
1586  0418  F5          	push	af
1587  0419  33          	inc	sp
1588  041A  CD 00 00    	call	_player_set
1589  041D  F1          	pop	af
1590  041E  F1          	pop	af
1591  041F  33          	inc	sp
1592  0420  CD 00 00    	call	_player_turn
1593  0423  21 18 00    	ld	hl,0x0018
1594  0426  E5          	push	hl
1595  0427  21 07 01    	ld	hl,0x0107
1596  042A  E5          	push	hl
1597  042B  3E 06       	ld	a,0x06
1598  042D  F5          	push	af
1599  042E  33          	inc	sp
1600  042F  CD 00 00    	call	_player_set
1601  0432  F1          	pop	af
1602  0433  F1          	pop	af
1603  0434  33          	inc	sp
1604  0435  CD 00 00    	call	_player_turn
1605  0438  CD 00 00    	call	_enemy_turn
1606  043B  3A 00 00    	ld	a,(_game_bonus)
1607  043E  B7          	or	a, a
1608  043F  28 16       	jr	Z,l_game_loop_00113
1609  0441  CD 63 06    	call	_game_bonus_clock
1610  0444  3A 00 00    	ld	a,(_phase_left)
1611  0447  B7          	or	a, a
1612  0448  28 0D       	jr	Z,l_game_loop_00113
1613  044A  CD 00 00    	call	_ay_is_playing
1614  044D  7D          	ld	a, l
1615  044E  B7          	or	a, a
1616  044F  20 06       	jr	NZ,l_game_loop_00113
1617  0451  21 00 00    	ld	hl,_ay_effect_19
1618  0454  CD 00 00    	call	_ay_fx_play
1619  0457              l_game_loop_00113:
1620  0457  3A 00 00    	ld	a,(_game_osd)
1621  045A  B7          	or	a, a
1622  045B  28 53       	jr	Z,l_game_loop_00121
1623  045D  21 05 00    	ld	hl,0x0005
1624  0460  E5          	push	hl
1625  0461  2A 00 00    	ld	hl,(_osd_update_time)
1626  0464  E5          	push	hl
1627  0465  CD EC 19    	call	_game_check_time
1628  0468  F1          	pop	af
1629  0469  F1          	pop	af
1630  046A  7D          	ld	a, l
1631  046B  B7          	or	a, a
1632  046C  28 1B       	jr	Z,l_game_loop_00115
1633  046E  2A 00 00    	ld	hl,(_curr_time)
1634  0471  22 00 00    	ld	(_osd_update_time),hl
1635  0474  2E 0C       	ld	l,0x0c
1636  0476  CD BD 02    	call	_game_phase_print
1637  0479  21 17 68    	ld	hl,0x6817
1638  047C  E5          	push	hl
1639  047D  3E 0B       	ld	a,0x0b
1640  047F  F5          	push	af
1641  0480  33          	inc	sp
1642  0481  CD 36 0D    	call	_game_paint_attrib_lin_h
1643  0484  F1          	pop	af
1644  0485  33          	inc	sp
1645  0486  CD 3E 19    	call	_game_rotate_attrib
1646  0489              l_game_loop_00115:
1647  0489  21 96 00    	ld	hl,0x0096
1648  048C  E5          	push	hl
1649  048D  2A 00 00    	ld	hl,(_osd_show_time)
1650  0490  E5          	push	hl
1651  0491  CD EC 19    	call	_game_check_time
1652  0494  F1          	pop	af
1653  0495  F1          	pop	af
1654  0496  7D          	ld	a, l
1655  0497  B7          	or	a, a
1656  0498  28 16       	jr	Z,l_game_loop_00121
1657  049A  21 0C 20    	ld	hl,0x200c
1658  049D  E5          	push	hl
1659  049E  CD 00 00    	call	_game_fill_row
1660  04A1  21 00 00    	ld	hl,_game_osd
1661  04A4  36 00       	ld	(hl),0x00
1662  04A6  21 00 00    	ld	hl,_game_bonus
1663  04A9  7E          	ld	a, (hl)
1664  04AA  B7          	or	a, a
1665  04AB  20 03       	jr	NZ,l_game_loop_00121
1666  04AD  CD 91 05    	call	_game_print_phase
1667  04B0              l_game_loop_00121:
1668  04B0  CD 00 00    	call	_spr_water_splash_clear
1669  04B3  21 64 00    	ld	hl,0x0064
1670  04B6  E5          	push	hl
1671  04B7  2A 00 00    	ld	hl,(_frame_time)
1672  04BA  E5          	push	hl
1673  04BB  CD EC 19    	call	_game_check_time
1674  04BE  F1          	pop	af
1675  04BF  F1          	pop	af
1676  04C0  7D          	ld	a, l
1677  04C1  B7          	or	a, a
1678  04C2  28 4F       	jr	Z,l_game_loop_00135
1679  04C4  2A 00 00    	ld	hl,(_curr_time)
1680  04C7  22 00 00    	ld	(_frame_time),hl
1681  04CA  3A 00 00    	ld	a,(_game_bonus)
1682  04CD  B7          	or	a,a
1683  04CE  20 03       	jr	NZ,l_game_loop_00123
1684  04D0  CD 01 09    	call	_game_enemy_add
1685  04D3              l_game_loop_00123:
1686  04D3  3A 00 00    	ld	a,(_phase_end)
1687  04D6  3D          	dec	a
1688  04D7  20 3A       	jr	NZ,l_game_loop_00135
1689  04D9  3A 00 00    	ld	a,(_game_type)
1690  04DC  D6 02       	sub	a,0x02
1691  04DE  28 33       	jr	Z,l_game_loop_00135
1692  04E0  CD 00 00    	call	_ay_is_playing
1693  04E3  7D          	ld	a, l
1694  04E4  D6 02       	sub	a,0x02
1695  04E6  30 03       	jr	NC,l_game_loop_00125
1696  04E8  CD 00 00    	call	_ay_reset
1697  04EB              l_game_loop_00125:
1698  04EB  CD 00 00    	call	_spr_kill_all
1699  04EE  3A 00 00    	ld	a,(_game_bonus)
1700  04F1  B7          	or	a, a
1701  04F2  28 03       	jr	Z,l_game_loop_00127
1702  04F4  CD DA 06    	call	_game_bonus_summary
1703  04F7              l_game_loop_00127:
1704  04F7  21 00 00    	ld	hl,_phase_curr
1705  04FA  34          	inc	(hl)
1706  04FB  3E 1F       	ld	a,0x1f
1707  04FD  96          	sub	a, (hl)
1708  04FE  30 0A       	jr	NC,l_game_loop_00129
1709  0500  CD 6D 12    	call	_game_end
1710  0503  21 00 00    	ld	hl,_game_over
1711  0506  36 01       	ld	(hl),0x01
1712  0508  18 09       	jr	l_game_loop_00135
1713  050A              l_game_loop_00129:
1714  050A  21 90 01    	ld	hl,0x0190
1715  050D  CD 00 00    	call	_z80_delay_ms_fastcall
1716  0510  CD 79 01    	call	_game_phase_init
1717  0513              l_game_loop_00135:
1718  0513  21 00 00    	ld	hl,_loop_count
1719  0516  34          	inc	(hl)
1720  0517  20 02       	jr	NZ,l_game_loop_00234
1721  0519  23          	inc	hl
1722  051A  34          	inc	(hl)
1723  051B              l_game_loop_00234:
1724  051B  21 00 00    	ld	hl,_game_ugly_back
1725  051E  36 00       	ld	(hl),0x00
1726  0520  C3 EB 03    	jp	l_game_loop_00136
1727  0523              l_game_loop_00138:
1728  0523  3A 00 00    	ld	a,(_score_osd_col)
1729  0526  47          	ld	b,a
1730  0527  3C          	inc	a
1731  0528  28 0C       	jr	Z,l_game_loop_00140
1732  052A  21 00 00    	ld	hl,_score_osd_lin
1733  052D  4E          	ld	c, (hl)
1734  052E  C5          	push	bc
1735  052F  3E A9       	ld	a,0xa9
1736  0531  F5          	push	af
1737  0532  33          	inc	sp
1738  0533  CD 00 00    	call	_NIRVANAP_drawT_callee
1739  0536              l_game_loop_00140:
1740  0536  3A 01 00    	ld	a,(_score_osd_col + 1)
1741  0539  47          	ld	b,a
1742  053A  3C          	inc	a
1743  053B  28 0C       	jr	Z,l_game_loop_00142
1744  053D  21 01 00    	ld	hl,+(_score_osd_lin + 0x0001)
1745  0540  4E          	ld	c, (hl)
1746  0541  C5          	push	bc
1747  0542  3E A9       	ld	a,0xa9
1748  0544  F5          	push	af
1749  0545  33          	inc	sp
1750  0546  CD 00 00    	call	_NIRVANAP_drawT_callee
1751  0549              l_game_loop_00142:
1752  0549  CD 00 00    	call	_spr_kill_all
1753  054C  21 90 01    	ld	hl,0x0190
1754  054F  CD 00 00    	call	_z80_delay_ms_fastcall
1755  0552  76          	halt
1756  0553  CD 00 00    	call	_spr_draw_background
1757  0556  CD B2 02    	call	_game_print_header
1758  0559  CD 1C 00    	call	_game_print_footer
1759  055C  CD 91 05    	call	_game_print_phase
1760  055F  21 4D 00    	ld	hl,___str_15
1761  0562  E5          	push	hl
1762  0563  21 08 0B    	ld	hl,0x0b08
1763  0566  E5          	push	hl
1764  0567  CD 00 00    	call	_zx_print_str
1765  056A  21 C8 00    	ld	hl,0x00c8
1766  056D  E5          	push	hl
1767  056E  21 0B 15    	ld	hl,0x150b
1768  0571  E5          	push	hl
1769  0572  3E 08       	ld	a,0x08
1770  0574  F5          	push	af
1771  0575  33          	inc	sp
1772  0576  CD 5A 19    	call	_game_colour_message
1773  0579  F1          	pop	af
1774  057A  F1          	pop	af
1775  057B  33          	inc	sp
1776  057C  CD 00 00    	call	_spr_draw_clear
1777  057F  CD 11 15    	call	_game_hall_enter
1778  0582  CD 00 00    	call	_ay_reset
1779  0585  21 00 00    	ld	hl,_game_menu_sel
1780  0588  36 00       	ld	(hl),0x00
1781  058A  CD 4A 10    	call	_game_menu_paint
1782  058D  CD 4B 0F    	call	_game_joystick_set_menu
1783  0590  C9          	ret
1784  0591              	SECTION rodata_compiler
1785  0038              ___str_14:
1786  0038  54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 4E 20 45 49 4E 41 52 
                        	DEFM "THANKS ALVIN N EINAR"
1787  004C  00          	DEFB 0x00
1788  004D              	SECTION rodata_compiler
1789  004D              ___str_15:
1790  004D  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1791  0058  00          	DEFB 0x00
1792  0059              	SECTION code_compiler
1793  0591              ;	---------------------------------
1794  0591              ; Function game_print_phase
1795  0591              ; ---------------------------------
1796  0591              _game_print_phase:
1797  0591  21 59 00    	ld	hl,___str_16
1798  0594  E5          	push	hl
1799  0595  21 17 0B    	ld	hl,0x0b17
1800  0598  E5          	push	hl
1801  0599  CD 00 00    	call	_zx_print_str
1802  059C  21 00 00    	ld	hl,_phase_curr
1803  059F  46          	ld	b, (hl)
1804  05A0  04          	inc	b
1805  05A1  C5          	push	bc
1806  05A2  33          	inc	sp
1807  05A3  21 17 12    	ld	hl,0x1217
1808  05A6  E5          	push	hl
1809  05A7  CD 00 00    	call	_zx_print_chr
1810  05AA  C9          	ret
1811  05AB              	SECTION rodata_compiler
1812  0059              ___str_16:
1813  0059  50 48 41 53 45 
                        	DEFM "PHASE"
1814  005E  00          	DEFB 0x00
1815  005F              	SECTION code_compiler
1816  05AB              ;	---------------------------------
1817  05AB              ; Function game_score_osd
1818  05AB              ; ---------------------------------
1819  05AB              _game_score_osd:
1820  05AB  CD 00 00    	call	___sdcc_enter_ix
1821  05AE  F5          	push	af
1822  05AF  F5          	push	af
1823  05B0  3B          	dec	sp
1824  05B1  3E 00       	ld	a, +((_score_osd_col) & 0xFF)
1825  05B3  DD 86 04    	add	a,(ix+4)
1826  05B6  DD 77 FB    	ld	(ix-5),a
1827  05B9  3E 00       	ld	a, +((_score_osd_col) / 256)
1828  05BB  CE 00       	adc	a,0x00
1829  05BD  DD 77 FC    	ld	(ix-4),a
1830  05C0  E1          	pop	hl
1831  05C1  7E          	ld	a,(hl)
1832  05C2  E5          	push	hl
1833  05C3  47          	ld	b,a
1834  05C4  3C          	inc	a
1835  05C5  CA 5E 06    	jp	Z,l_game_score_osd_00108
1836  05C8  11 00 00    	ld	de,_score_osd_lin
1837  05CB  DD 6E 04    	ld	l,(ix+4)
1838  05CE  26 00       	ld	h,0x00
1839  05D0  19          	add	hl,de
1840  05D1  DD 75 FD    	ld	(ix-3),l
1841  05D4  DD 74 FE    	ld	(ix-2),h
1842  05D7  7E          	ld	a, (hl)
1843  05D8  C6 FE       	add	a,0xfe
1844  05DA  32 00 00    	ld	(_tmp),a
1845  05DD  4F          	ld	c,a
1846  05DE  C5          	push	bc
1847  05DF  CD 00 00    	call	_game_calc_index
1848  05E2  F1          	pop	af
1849  05E3  22 00 00    	ld	(_index1),hl
1850  05E6  01 00 00    	ld	bc,_lvl_1
1851  05E9  09          	add	hl,bc
1852  05EA  5E          	ld	e, (hl)
1853  05EB  21 01 00    	ld	hl,_index1 + 1
1854  05EE  DD 4E 04    	ld	c,(ix+4)
1855  05F1  06 00       	ld	b,0x00
1856  05F3  CB 21       	sla	c
1857  05F5  CB 10       	rl	b
1858  05F7  7B          	ld	a, e
1859  05F8  D6 A9       	sub	a,0xa9
1860  05FA  20 38       	jr	NZ,l_game_score_osd_00102
1861  05FC  56          	ld	d,(hl)
1862  05FD  2B          	dec	hl
1863  05FE  5E          	ld	e,(hl)
1864  05FF  13          	inc	de
1865  0600  21 00 00    	ld	hl,_lvl_1
1866  0603  19          	add	hl, de
1867  0604  7E          	ld	a, (hl)
1868  0605  D6 A9       	sub	a,0xa9
1869  0607  20 2B       	jr	NZ,l_game_score_osd_00102
1870  0609  76          	halt
1871  060A  E1          	pop	hl
1872  060B  7E          	ld	a,(hl)
1873  060C  E5          	push	hl
1874  060D  DD 77 FF    	ld	(ix-1),a
1875  0610  DD 6E FD    	ld	l,(ix-3)
1876  0613  DD 66 FE    	ld	h,(ix-2)
1877  0616  5E          	ld	e, (hl)
1878  0617  21 00 00    	ld	hl,_score_osd_tile
1879  061A  09          	add	hl, bc
1880  061B  56          	ld	d, (hl)
1881  061C  C5          	push	bc
1882  061D  DD 7E FF    	ld	a,(ix-1)
1883  0620  F5          	push	af
1884  0621  33          	inc	sp
1885  0622  7B          	ld	a, e
1886  0623  5A          	ld	e,d
1887  0624  57          	ld	d,a
1888  0625  D5          	push	de
1889  0626  CD 00 00    	call	_NIRVANAP_drawT_callee
1890  0629  C1          	pop	bc
1891  062A  DD 6E FD    	ld	l,(ix-3)
1892  062D  DD 66 FE    	ld	h,(ix-2)
1893  0630  3A 00 00    	ld	a,(_tmp)
1894  0633  77          	ld	(hl),a
1895  0634              l_game_score_osd_00102:
1896  0634  21 00 00    	ld	hl,_score_osd_update_time
1897  0637  09          	add	hl, bc
1898  0638  4E          	ld	c, (hl)
1899  0639  23          	inc	hl
1900  063A  46          	ld	b, (hl)
1901  063B  21 3C 00    	ld	hl,0x003c
1902  063E  E5          	push	hl
1903  063F  C5          	push	bc
1904  0640  CD EC 19    	call	_game_check_time
1905  0643  F1          	pop	af
1906  0644  F1          	pop	af
1907  0645  7D          	ld	a, l
1908  0646  B7          	or	a, a
1909  0647  28 15       	jr	Z,l_game_score_osd_00108
1910  0649  E1          	pop	hl
1911  064A  46          	ld	b,(hl)
1912  064B  E5          	push	hl
1913  064C  DD 6E FD    	ld	l,(ix-3)
1914  064F  DD 66 FE    	ld	h,(ix-2)
1915  0652  4E          	ld	c, (hl)
1916  0653  C5          	push	bc
1917  0654  AF          	xor	a, a
1918  0655  F5          	push	af
1919  0656  33          	inc	sp
1920  0657  CD 00 00    	call	_NIRVANAP_fillT_callee
1921  065A  E1          	pop	hl
1922  065B  E5          	push	hl
1923  065C  36 FF       	ld	(hl),0xff
1924  065E              l_game_score_osd_00108:
1925  065E  DD F9       	ld	sp, ix
1926  0660  DD E1       	pop	ix
1927  0662  C9          	ret
1928  0663              	SECTION code_compiler
1929  0663              ;	---------------------------------
1930  0663              ; Function game_bonus_clock
1931  0663              ; ---------------------------------
1932  0663              _game_bonus_clock:
1933  0663  2A 00 00    	ld	hl,(_curr_time)
1934  0666  29          	add	hl,hl
1935  0667  3E D0       	ld	a,0xd0
1936  0669  95          	sub	a,l
1937  066A  44          	ld	b,h
1938  066B  21 00 00    	ld	hl,_tmp_ui
1939  066E  77          	ld	(hl), a
1940  066F  3E 07       	ld	a,0x07
1941  0671  98          	sbc	a, b
1942  0672  23          	inc	hl
1943  0673  77          	ld	(hl), a
1944  0674  3E D0       	ld	a,0xd0
1945  0676  2B          	dec	hl
1946  0677  BE          	cp	a, (hl)
1947  0678  3E 07       	ld	a,0x07
1948  067A  23          	inc	hl
1949  067B  9E          	sbc	a, (hl)
1950  067C  30 25       	jr	NC,l_game_bonus_clock_00108
1951  067E  2B          	dec	hl
1952  067F  AF          	xor	a, a
1953  0680  77          	ld	(hl), a
1954  0681  23          	inc	hl
1955  0682  77          	ld	(hl), a
1956  0683  3A 00 00    	ld	a,(_phase_left)
1957  0686  B7          	or	a, a
1958  0687  28 0B       	jr	Z,l_game_bonus_clock_00102
1959  0689  21 00 00    	ld	hl,0x0000
1960  068C  E5          	push	hl
1961  068D  21 02 0E    	ld	hl,0x0e02
1962  0690  E5          	push	hl
1963  0691  CD 00 00    	call	_zx_print_bonus_time
1964  0694              l_game_bonus_clock_00102:
1965  0694  21 00 00    	ld	hl,_phase_left
1966  0697  36 00       	ld	(hl),0x00
1967  0699  21 00 00    	ld	hl,_phase_end
1968  069C  36 01       	ld	(hl),0x01
1969  069E  CD 00 00    	call	_ay_reset
1970  06A1  18 36       	jr	l_game_bonus_clock_00110
1971  06A3              l_game_bonus_clock_00108:
1972  06A3  3A 00 00    	ld	a,(_phase_left)
1973  06A6  B7          	or	a, a
1974  06A7  C8          	ret	Z
1975  06A8  2A 00 00    	ld	hl,(_tmp_ui)
1976  06AB  E5          	push	hl
1977  06AC  21 02 0E    	ld	hl,0x0e02
1978  06AF  E5          	push	hl
1979  06B0  CD 00 00    	call	_zx_print_bonus_time
1980  06B3  21 05 00    	ld	hl,0x0005
1981  06B6  E5          	push	hl
1982  06B7  2A 00 00    	ld	hl,(_frame_time)
1983  06BA  E5          	push	hl
1984  06BB  CD EC 19    	call	_game_check_time
1985  06BE  F1          	pop	af
1986  06BF  F1          	pop	af
1987  06C0  7D          	ld	a, l
1988  06C1  B7          	or	a, a
1989  06C2  C8          	ret	Z
1990  06C3  2A 00 00    	ld	hl,(_curr_time)
1991  06C6  22 00 00    	ld	(_frame_time),hl
1992  06C9  21 14 18    	ld	hl,0x1814
1993  06CC  E5          	push	hl
1994  06CD  3E 0E       	ld	a,0x0e
1995  06CF  F5          	push	af
1996  06D0  33          	inc	sp
1997  06D1  CD 36 0D    	call	_game_paint_attrib_lin_h
1998  06D4  F1          	pop	af
1999  06D5  33          	inc	sp
2000  06D6  CD 3E 19    	call	_game_rotate_attrib
2001  06D9              l_game_bonus_clock_00110:
2002  06D9  C9          	ret
2003  06DA              	SECTION code_compiler
2004  06DA              ;	---------------------------------
2005  06DA              ; Function game_bonus_summary
2006  06DA              ; ---------------------------------
2007  06DA              _game_bonus_summary:
2008  06DA  CD 00 00    	call	_spr_kill_all
2009  06DD  CD 00 00    	call	_spr_draw_clear
2010  06E0  2E 00       	ld	l,0x00
2011  06E2  CD 00 00    	call	_zx_cls_fastcall
2012  06E5  CD 98 00    	call	_game_phase_print_score_back
2013  06E8  CD BA 0C    	call	_game_print_score
2014  06EB  3A 00 00    	ld	a,(_game_lives)
2015  06EE  B7          	or	a, a
2016  06EF  28 05       	jr	Z,l_game_bonus_summary_00102
2017  06F1  2E 00       	ld	l,0x00
2018  06F3  CD 8E 07    	call	_game_bonus_summary_player
2019  06F6              l_game_bonus_summary_00102:
2020  06F6  3A 01 00    	ld	a, (_game_lives + 1)
2021  06F9  B7          	or	a, a
2022  06FA  28 05       	jr	Z,l_game_bonus_summary_00104
2023  06FC  2E 01       	ld	l,0x01
2024  06FE  CD 8E 07    	call	_game_bonus_summary_player
2025  0701              l_game_bonus_summary_00104:
2026  0701  21 1F 98    	ld	hl,0x981f
2027  0704  E5          	push	hl
2028  0705  AF          	xor	a, a
2029  0706  F5          	push	af
2030  0707  33          	inc	sp
2031  0708  CD 0F 0D    	call	_game_paint_attrib_lin
2032  070B  F1          	pop	af
2033  070C  33          	inc	sp
2034  070D  3A 00 00    	ld	a,(_phase_bonus_total)
2035  0710  D6 06       	sub	a,0x06
2036  0712  20 68       	jr	NZ,l_game_bonus_summary_00109
2037  0714  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2038  0717  B7          	or	a, a
2039  0718  20 62       	jr	NZ,l_game_bonus_summary_00109
2040  071A  CD 00 00    	call	_sound_jump
2041  071D  3A 00 00    	ld	a,(_phase_curr)
2042  0720  D6 03       	sub	a,0x03
2043  0722  30 23       	jr	NC,l_game_bonus_summary_00106
2044  0724  21 5F 00    	ld	hl,___str_17
2045  0727  E5          	push	hl
2046  0728  21 12 06    	ld	hl,0x0612
2047  072B  E5          	push	hl
2048  072C  CD 00 00    	call	_zx_print_str
2049  072F  21 00 00    	ld	hl,_index_player
2050  0732  36 00       	ld	(hl),0x00
2051  0734  21 2C 01    	ld	hl,0x012c
2052  0737  CD 00 00    	call	_player_score_add
2053  073A  21 00 00    	ld	hl,_index_player
2054  073D  36 01       	ld	(hl),0x01
2055  073F  21 2C 01    	ld	hl,0x012c
2056  0742  CD 00 00    	call	_player_score_add
2057  0745  18 21       	jr	l_game_bonus_summary_00107
2058  0747              l_game_bonus_summary_00106:
2059  0747  21 72 00    	ld	hl,___str_18
2060  074A  E5          	push	hl
2061  074B  21 12 06    	ld	hl,0x0612
2062  074E  E5          	push	hl
2063  074F  CD 00 00    	call	_zx_print_str
2064  0752  21 00 00    	ld	hl,_index_player
2065  0755  36 00       	ld	(hl),0x00
2066  0757  21 F4 01    	ld	hl,0x01f4
2067  075A  CD 00 00    	call	_player_score_add
2068  075D  21 00 00    	ld	hl,_index_player
2069  0760  36 01       	ld	(hl),0x01
2070  0762  21 F4 01    	ld	hl,0x01f4
2071  0765  CD 00 00    	call	_player_score_add
2072  0768              l_game_bonus_summary_00107:
2073  0768  21 C8 00    	ld	hl,0x00c8
2074  076B  E5          	push	hl
2075  076C  21 10 1A    	ld	hl,0x1a10
2076  076F  E5          	push	hl
2077  0770  3E 12       	ld	a,0x12
2078  0772  F5          	push	af
2079  0773  33          	inc	sp
2080  0774  CD 5A 19    	call	_game_colour_message
2081  0777  F1          	pop	af
2082  0778  F1          	pop	af
2083  0779  33          	inc	sp
2084  077A  18 11       	jr	l_game_bonus_summary_00112
2085  077C              l_game_bonus_summary_00109:
2086  077C  21 85 00    	ld	hl,___str_19
2087  077F  E5          	push	hl
2088  0780  21 12 0C    	ld	hl,0x0c12
2089  0783  E5          	push	hl
2090  0784  CD 00 00    	call	_zx_print_str
2091  0787  21 E8 03    	ld	hl,0x03e8
2092  078A  CD 00 00    	call	_z80_delay_ms_fastcall
2093  078D              l_game_bonus_summary_00112:
2094  078D  C9          	ret
2095  078E              	SECTION rodata_compiler
2096  005F              ___str_17:
2097  005F  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2098  0071  00          	DEFB 0x00
2099  0072              	SECTION rodata_compiler
2100  0072              ___str_18:
2101  0072  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2102  0084  00          	DEFB 0x00
2103  0085              	SECTION rodata_compiler
2104  0085              ___str_19:
2105  0085  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2106  008D  00          	DEFB 0x00
2107  008E              	SECTION code_compiler
2108  078E              ;	---------------------------------
2109  078E              ; Function game_bonus_summary_player
2110  078E              ; ---------------------------------
2111  078E              _game_bonus_summary_player:
2112  078E  CD 00 00    	call	___sdcc_enter_ix
2113  0791  F5          	push	af
2114  0792  3B          	dec	sp
2115  0793  DD 75 FD    	ld	(ix-3),l
2116  0796  76          	halt
2117  0797  DD 7E FD    	ld	a,(ix-3)
2118  079A  B7          	or	a, a
2119  079B  20 2C       	jr	NZ,l_game_bonus_summary_player_00102
2120  079D  21 00 00    	ld	hl,_s_lin1
2121  07A0  36 06       	ld	(hl),0x06
2122  07A2  21 8E 00    	ld	hl,___str_20
2123  07A5  E5          	push	hl
2124  07A6  21 06 07    	ld	hl,0x0706
2125  07A9  E5          	push	hl
2126  07AA  CD 00 00    	call	_zx_print_str
2127  07AD  3A 00 00    	ld	a,(_s_lin1)
2128  07B0  07          	rlca
2129  07B1  07          	rlca
2130  07B2  07          	rlca
2131  07B3  E6 F8       	and	a,0xf8
2132  07B5  C6 04       	add	a,0x02+0x02
2133  07B7  4F          	ld	c, a
2134  07B8  06 04       	ld	b,0x04
2135  07BA  C5          	push	bc
2136  07BB  3E 03       	ld	a,0x03
2137  07BD  F5          	push	af
2138  07BE  33          	inc	sp
2139  07BF  CD 00 00    	call	_NIRVANAP_drawT_callee
2140  07C2  21 00 00    	ld	hl,_index_player
2141  07C5  36 00       	ld	(hl),0x00
2142  07C7  18 2A       	jr	l_game_bonus_summary_player_00103
2143  07C9              l_game_bonus_summary_player_00102:
2144  07C9  21 00 00    	ld	hl,_s_lin1
2145  07CC  36 0C       	ld	(hl),0x0c
2146  07CE  21 95 00    	ld	hl,___str_21
2147  07D1  E5          	push	hl
2148  07D2  21 0C 07    	ld	hl,0x070c
2149  07D5  E5          	push	hl
2150  07D6  CD 00 00    	call	_zx_print_str
2151  07D9  3A 00 00    	ld	a,(_s_lin1)
2152  07DC  07          	rlca
2153  07DD  07          	rlca
2154  07DE  07          	rlca
2155  07DF  E6 F8       	and	a,0xf8
2156  07E1  C6 04       	add	a,0x02+0x02
2157  07E3  4F          	ld	c, a
2158  07E4  06 04       	ld	b,0x04
2159  07E6  C5          	push	bc
2160  07E7  3E 1B       	ld	a,0x1b
2161  07E9  F5          	push	af
2162  07EA  33          	inc	sp
2163  07EB  CD 00 00    	call	_NIRVANAP_drawT_callee
2164  07EE  21 00 00    	ld	hl,_index_player
2165  07F1  36 01       	ld	(hl),0x01
2166  07F3              l_game_bonus_summary_player_00103:
2167  07F3  3A 00 00    	ld	a,(_s_lin1)
2168  07F6  07          	rlca
2169  07F7  07          	rlca
2170  07F8  07          	rlca
2171  07F9  E6 F8       	and	a,0xf8
2172  07FB  C6 08       	add	a,0x08
2173  07FD  F5          	push	af
2174  07FE  33          	inc	sp
2175  07FF  21 07 1F    	ld	hl,0x1f07
2176  0802  E5          	push	hl
2177  0803  CD 0F 0D    	call	_game_paint_attrib_lin
2178  0806  F1          	pop	af
2179  0807  33          	inc	sp
2180  0808  21 00 00    	ld	hl,_tmp_uc
2181  080B  36 00       	ld	(hl),0x00
2182  080D  3E 00       	ld	a, +((_phase_bonus_total) & 0xFF)
2183  080F  DD 86 FD    	add	a,(ix-3)
2184  0812  DD 77 FE    	ld	(ix-2),a
2185  0815  3E 00       	ld	a, +((_phase_bonus_total) / 256)
2186  0817  CE 00       	adc	a,0x00
2187  0819  DD 77 FF    	ld	(ix-1),a
2188  081C              l_game_bonus_summary_player_00107:
2189  081C  DD 6E FE    	ld	l,(ix-2)
2190  081F  DD 66 FF    	ld	h,(ix-1)
2191  0822  4E          	ld	c, (hl)
2192  0823  3A 00 00    	ld	a,(_tmp_uc)
2193  0826  91          	sub	a, c
2194  0827  30 53       	jr	NC,l_game_bonus_summary_player_00109
2195  0829  3A 00 00    	ld	a,(_s_lin1)
2196  082C  07          	rlca
2197  082D  07          	rlca
2198  082E  07          	rlca
2199  082F  E6 F8       	and	a,0xf8
2200  0831  4F          	ld	c, a
2201  0832  3A 00 00    	ld	a,(_tmp_uc)
2202  0835  D6 03       	sub	a,0x03
2203  0837  30 08       	jr	NC,l_game_bonus_summary_player_00105
2204  0839  79          	ld	a, c
2205  083A  C6 F8       	add	a,0xf8
2206  083C  32 00 00    	ld	(_s_lin0),a
2207  083F  18 06       	jr	l_game_bonus_summary_player_00106
2208  0841              l_game_bonus_summary_player_00105:
2209  0841  79          	ld	a, c
2210  0842  C6 08       	add	a,0x08
2211  0844  32 00 00    	ld	(_s_lin0),a
2212  0847              l_game_bonus_summary_player_00106:
2213  0847  76          	halt
2214  0848  2A 00 00    	ld	hl,(_tmp_uc)
2215  084B  26 03       	ld	h,0x03
2216  084D  E5          	push	hl
2217  084E  CD 00 00    	call	__moduchar_callee
2218  0851  7D          	ld	a, l
2219  0852  87          	add	a, a
2220  0853  C6 0E       	add	a,0x0e
2221  0855  F5          	push	af
2222  0856  33          	inc	sp
2223  0857  3A 00 00    	ld	a,(_s_lin0)
2224  085A  57          	ld	d,a
2225  085B  1E B9       	ld	e,0xb9
2226  085D  D5          	push	de
2227  085E  CD 00 00    	call	_NIRVANAP_drawT_callee
2228  0861  21 50 00    	ld	hl,0x0050
2229  0864  CD 00 00    	call	_player_score_add
2230  0867  21 00 00    	ld	hl,_tmp_uc
2231  086A  34          	inc	(hl)
2232  086B  21 00 00    	ld	hl,_ay_effect_09
2233  086E  CD 00 00    	call	_ay_fx_play
2234  0871  CD 00 00    	call	_sound_coin
2235  0874  21 32 00    	ld	hl,0x0032
2236  0877  CD 00 00    	call	_z80_delay_ms_fastcall
2237  087A  18 A0       	jr	l_game_bonus_summary_player_00107
2238  087C              l_game_bonus_summary_player_00109:
2239  087C  21 9B 00    	ld	hl,___str_22
2240  087F  E5          	push	hl
2241  0880  2A 00 00    	ld	hl,(_s_lin1)
2242  0883  26 16       	ld	h,0x16
2243  0885  E5          	push	hl
2244  0886  CD 00 00    	call	_zx_print_str
2245  0889  DD F9       	ld	sp, ix
2246  088B  DD E1       	pop	ix
2247  088D  C9          	ret
2248  088E              	SECTION rodata_compiler
2249  008E              ___str_20:
2250  008E  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2251  0094  00          	DEFB 0x00
2252  0095              	SECTION rodata_compiler
2253  0095              ___str_21:
2254  0095  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2255  009A  00          	DEFB 0x00
2256  009B              	SECTION rodata_compiler
2257  009B              ___str_22:
2258  009B  58 20 38 30 30 
                        	DEFM "X 800"
2259  00A0  00          	DEFB 0x00
2260  00A1              	SECTION code_compiler
2261  088E              ;	---------------------------------
2262  088E              ; Function game_check_maze
2263  088E              ; ---------------------------------
2264  088E              _game_check_maze:
2265  088E  4D          	ld	c, l
2266  088F  44          	ld	b, h
2267  0890  21 00 00    	ld	hl,_lvl_1
2268  0893  09          	add	hl, bc
2269  0894  5E          	ld	e, (hl)
2270  0895  3E 8C       	ld	a,0x8c
2271  0897  93          	sub	a, e
2272  0898  30 0B       	jr	NC,l_game_check_maze_00103
2273  089A  03          	inc	bc
2274  089B  21 00 00    	ld	hl,_lvl_1
2275  089E  09          	add	hl, bc
2276  089F  4E          	ld	c, (hl)
2277  08A0  3E 8C       	ld	a,0x8c
2278  08A2  91          	sub	a, c
2279  08A3  38 04       	jr	C,l_game_check_maze_00104
2280  08A5              l_game_check_maze_00103:
2281  08A5  2E 00       	ld	l,0x00
2282  08A7  18 02       	jr	l_game_check_maze_00105
2283  08A9              l_game_check_maze_00104:
2284  08A9  2E 01       	ld	l,0x01
2285  08AB              l_game_check_maze_00105:
2286  08AB  C9          	ret
2287  08AC              	SECTION code_compiler
2288  08AC              ;	---------------------------------
2289  08AC              ; Function game_check_floor
2290  08AC              ; ---------------------------------
2291  08AC              _game_check_floor:
2292  08AC  CD 00 00    	call	___sdcc_enter_ix
2293  08AF  3B          	dec	sp
2294  08B0  11 00 00    	ld	de,_lvl_1+0
2295  08B3  4D          	ld	c,l
2296  08B4  44          	ld	b,h
2297  08B5  6B          	ld	l, e
2298  08B6  62          	ld	h, d
2299  08B7  09          	add	hl, bc
2300  08B8  7E          	ld	a, (hl)
2301  08B9  DD 77 FF    	ld	(ix-1),a
2302  08BC  69          	ld	l, c
2303  08BD  60          	ld	h, b
2304  08BE  23          	inc	hl
2305  08BF  19          	add	hl, de
2306  08C0  6E          	ld	l, (hl)
2307  08C1  DD 7E FF    	ld	a,(ix-1)
2308  08C4  D6 11       	sub	a,0x11
2309  08C6  28 05       	jr	Z,l_game_check_floor_00101
2310  08C8  7D          	ld	a, l
2311  08C9  D6 11       	sub	a,0x11
2312  08CB  20 1E       	jr	NZ,l_game_check_floor_00102
2313  08CD              l_game_check_floor_00101:
2314  08CD  21 20 00    	ld	hl,0x0020
2315  08D0  09          	add	hl, bc
2316  08D1  19          	add	hl, de
2317  08D2  6E          	ld	l, (hl)
2318  08D3  3E 8C       	ld	a,0x8c
2319  08D5  95          	sub	a, l
2320  08D6  30 0B       	jr	NC,l_game_check_floor_00107
2321  08D8  21 21 00    	ld	hl,0x0021
2322  08DB  09          	add	hl, bc
2323  08DC  19          	add	hl, de
2324  08DD  4E          	ld	c, (hl)
2325  08DE  3E 8C       	ld	a,0x8c
2326  08E0  91          	sub	a, c
2327  08E1  38 04       	jr	C,l_game_check_floor_00108
2328  08E3              l_game_check_floor_00107:
2329  08E3  2E 00       	ld	l,0x00
2330  08E5  18 02       	jr	l_game_check_floor_00109
2331  08E7              l_game_check_floor_00108:
2332  08E7  2E 01       	ld	l,0x01
2333  08E9              l_game_check_floor_00109:
2334  08E9  18 12       	jr	l_game_check_floor_00105
2335  08EB              l_game_check_floor_00102:
2336  08EB  3E 8C       	ld	a,0x8c
2337  08ED  DD 96 FF    	sub	a,(ix-1)
2338  08F0  30 05       	jr	NC,l_game_check_floor_00110
2339  08F2  3E 8C       	ld	a,0x8c
2340  08F4  95          	sub	a, l
2341  08F5  38 04       	jr	C,l_game_check_floor_00111
2342  08F7              l_game_check_floor_00110:
2343  08F7  2E 00       	ld	l,0x00
2344  08F9  18 02       	jr	l_game_check_floor_00112
2345  08FB              l_game_check_floor_00111:
2346  08FB  2E 01       	ld	l,0x01
2347  08FD              l_game_check_floor_00112:
2348  08FD              l_game_check_floor_00105:
2349  08FD  33          	inc	sp
2350  08FE  DD E1       	pop	ix
2351  0900  C9          	ret
2352  0901              	SECTION code_compiler
2353  0901              ;	---------------------------------
2354  0901              ; Function game_enemy_add
2355  0901              ; ---------------------------------
2356  0901              _game_enemy_add:
2357  0901  3A 00 00    	ld	a,(_game_type)
2358  0904  D6 02       	sub	a,0x02
2359  0906  20 05       	jr	NZ,l_game_enemy_add_00106
2360  0908  CD 65 0A    	call	_game_enemy_rnd
2361  090B  18 21       	jr	l_game_enemy_add_00107
2362  090D              l_game_enemy_add_00106:
2363  090D  3A 00 00    	ld	a,(_spr_count)
2364  0910  D6 06       	sub	a,0x06
2365  0912  30 1A       	jr	NC,l_game_enemy_add_00107
2366  0914  21 64 00    	ld	hl,0x0064
2367  0917  E5          	push	hl
2368  0918  2A 00 00    	ld	hl,(_entry_time)
2369  091B  E5          	push	hl
2370  091C  CD EC 19    	call	_game_check_time
2371  091F  F1          	pop	af
2372  0920  F1          	pop	af
2373  0921  7D          	ld	a, l
2374  0922  B7          	or	a, a
2375  0923  28 09       	jr	Z,l_game_enemy_add_00107
2376  0925  3A 00 00    	ld	a,(_phase_left)
2377  0928  B7          	or	a, a
2378  0929  28 03       	jr	Z,l_game_enemy_add_00107
2379  092B  CD 31 09    	call	_game_enemy_quota
2380  092E              l_game_enemy_add_00107:
2381  092E  2E 00       	ld	l,0x00
2382  0930  C9          	ret
2383  0931              	SECTION code_compiler
2384  0931              ;	---------------------------------
2385  0931              ; Function game_enemy_quota
2386  0931              ; ---------------------------------
2387  0931              _game_enemy_quota:
2388  0931  3A 00 00    	ld	a,(_phase_left)
2389  0934  B7          	or	a, a
2390  0935  CA DC 09    	jp	Z, l_game_enemy_quota_00128
2391  0938  CD 00 00    	call	_rand
2392  093B  7D          	ld	a, l
2393  093C  E6 03       	and	a,0x03
2394  093E  32 00 00    	ld	(_tmp),a
2395  0941  3A 00 00    	ld	a,(_phase_pop)
2396  0944  B7          	or	a, a
2397  0945  28 06       	jr	Z,l_game_enemy_quota_00101
2398  0947  3A 00 00    	ld	a,(_phase_left)
2399  094A  3D          	dec	a
2400  094B  20 05       	jr	NZ,l_game_enemy_quota_00102
2401  094D              l_game_enemy_quota_00101:
2402  094D  21 00 00    	ld	hl,_tmp
2403  0950  36 00       	ld	(hl),0x00
2404  0952              l_game_enemy_quota_00102:
2405  0952  21 00 00    	ld	hl,_tmp_sc
2406  0955  36 00       	ld	(hl),0x00
2407  0957              l_game_enemy_quota_00124:
2408  0957  3A 00 00    	ld	a,(_tmp_sc)
2409  095A  EE 80       	xor	a,0x80
2410  095C  D6 83       	sub	a,0x83
2411  095E  D2 DC 09    	jp	NC, l_game_enemy_quota_00128
2412  0961  21 00 00    	ld	hl,_tmp
2413  0964  7E          	ld	a, (hl)
2414  0965  D6 03       	sub	a,0x03
2415  0967  30 73       	jr	NC,l_game_enemy_quota_00128
2416  0969  3E 00       	ld	a, +((_phase_quota) & 0xFF)
2417  096B  86          	add	a, (hl)
2418  096C  4F          	ld	c, a
2419  096D  3E 00       	ld	a, +((_phase_quota) / 256)
2420  096F  CE 00       	adc	a,0x00
2421  0971  47          	ld	b, a
2422  0972  0A          	ld	a, (bc)
2423  0973  B7          	or	a, a
2424  0974  28 54       	jr	Z,l_game_enemy_quota_00120
2425  0976  C6 FF       	add	a,0xff
2426  0978  02          	ld	(bc), a
2427  0979  3A 00 00    	ld	a,(_phase_angry)
2428  097C  B7          	or	a, a
2429  097D  28 24       	jr	Z,l_game_enemy_quota_00117
2430  097F  3A 00 00    	ld	a,(_tmp)
2431  0982  B7          	or	a, a
2432  0983  20 05       	jr	NZ,l_game_enemy_quota_00105
2433  0985  2E 03       	ld	l,0x03
2434  0987  CD 95 0A    	call	_game_enemy_add1
2435  098A              l_game_enemy_quota_00105:
2436  098A  3A 00 00    	ld	a,(_tmp)
2437  098D  3D          	dec	a
2438  098E  20 05       	jr	NZ,l_game_enemy_quota_00107
2439  0990  2E 06       	ld	l,0x06
2440  0992  CD 95 0A    	call	_game_enemy_add1
2441  0995              l_game_enemy_quota_00107:
2442  0995  3A 00 00    	ld	a,(_tmp)
2443  0998  D6 02       	sub	a,0x02
2444  099A  20 29       	jr	NZ,l_game_enemy_quota_00118
2445  099C  2E 09       	ld	l,0x09
2446  099E  CD 95 0A    	call	_game_enemy_add1
2447  09A1  18 22       	jr	l_game_enemy_quota_00118
2448  09A3              l_game_enemy_quota_00117:
2449  09A3  3A 00 00    	ld	a,(_tmp)
2450  09A6  B7          	or	a, a
2451  09A7  20 05       	jr	NZ,l_game_enemy_quota_00111
2452  09A9  2E 01       	ld	l,0x01
2453  09AB  CD 95 0A    	call	_game_enemy_add1
2454  09AE              l_game_enemy_quota_00111:
2455  09AE  3A 00 00    	ld	a,(_tmp)
2456  09B1  3D          	dec	a
2457  09B2  20 05       	jr	NZ,l_game_enemy_quota_00113
2458  09B4  2E 04       	ld	l,0x04
2459  09B6  CD 95 0A    	call	_game_enemy_add1
2460  09B9              l_game_enemy_quota_00113:
2461  09B9  3A 00 00    	ld	a,(_tmp)
2462  09BC  D6 02       	sub	a,0x02
2463  09BE  20 05       	jr	NZ,l_game_enemy_quota_00118
2464  09C0  2E 09       	ld	l,0x09
2465  09C2  CD 95 0A    	call	_game_enemy_add1
2466  09C5              l_game_enemy_quota_00118:
2467  09C5  2E 00       	ld	l,0x00
2468  09C7  C3 64 0A    	jp	l_game_enemy_quota_00144
2469  09CA              l_game_enemy_quota_00120:
2470  09CA  21 00 00    	ld	hl,_tmp
2471  09CD  34          	inc	(hl)
2472  09CE  3E 02       	ld	a,0x02
2473  09D0  96          	sub	a, (hl)
2474  09D1  30 02       	jr	NC,l_game_enemy_quota_00122
2475  09D3  36 00       	ld	(hl),0x00
2476  09D5              l_game_enemy_quota_00122:
2477  09D5  21 00 00    	ld	hl,_tmp_sc
2478  09D8  34          	inc	(hl)
2479  09D9  C3 57 09    	jp	l_game_enemy_quota_00124
2480  09DC              l_game_enemy_quota_00128:
2481  09DC  3A 00 00    	ld	a,(_phase_coins)
2482  09DF  B7          	or	a, a
2483  09E0  28 0A       	jr	Z,l_game_enemy_quota_00130
2484  09E2  2E 08       	ld	l,0x08
2485  09E4  CD 95 0A    	call	_game_enemy_add1
2486  09E7  2E 00       	ld	l,0x00
2487  09E9  C3 64 0A    	jp	l_game_enemy_quota_00144
2488  09EC              l_game_enemy_quota_00130:
2489  09EC  CD 00 00    	call	_rand
2490  09EF  7D          	ld	a, l
2491  09F0  E6 03       	and	a,0x03
2492  09F2  4F          	ld	c, a
2493  09F3  06 00       	ld	b,0x00
2494  09F5  79          	ld	a, c
2495  09F6  B7          	or	a, a
2496  09F7  B0          	or	a, b
2497  09F8  28 13       	jr	Z,l_game_enemy_quota_00131
2498  09FA  79          	ld	a, c
2499  09FB  3D          	dec	a
2500  09FC  B0          	or	a, b
2501  09FD  28 1D       	jr	Z,l_game_enemy_quota_00134
2502  09FF  79          	ld	a, c
2503  0A00  D6 02       	sub	a,0x02
2504  0A02  B0          	or	a, b
2505  0A03  28 2F       	jr	Z,l_game_enemy_quota_00137
2506  0A05  79          	ld	a, c
2507  0A06  D6 03       	sub	a,0x03
2508  0A08  B0          	or	a, b
2509  0A09  28 41       	jr	Z,l_game_enemy_quota_00140
2510  0A0B  18 55       	jr	l_game_enemy_quota_00143
2511  0A0D              l_game_enemy_quota_00131:
2512  0A0D  3E 07       	ld	a,0x07
2513  0A0F  21 00 00    	ld	hl,_phase_curr
2514  0A12  96          	sub	a, (hl)
2515  0A13  30 4D       	jr	NC,l_game_enemy_quota_00143
2516  0A15  2E 07       	ld	l,0x07
2517  0A17  CD 95 0A    	call	_game_enemy_add1
2518  0A1A  18 46       	jr	l_game_enemy_quota_00143
2519  0A1C              l_game_enemy_quota_00134:
2520  0A1C  2A 00 00    	ld	hl,(_game_time_fireball_start)
2521  0A1F  E5          	push	hl
2522  0A20  21 00 00    	ld	hl,0x0000
2523  0A23  E5          	push	hl
2524  0A24  CD EC 19    	call	_game_check_time
2525  0A27  F1          	pop	af
2526  0A28  F1          	pop	af
2527  0A29  7D          	ld	a, l
2528  0A2A  B7          	or	a, a
2529  0A2B  28 35       	jr	Z,l_game_enemy_quota_00143
2530  0A2D  2E 0B       	ld	l,0x0b
2531  0A2F  CD 95 0A    	call	_game_enemy_add1
2532  0A32  18 2E       	jr	l_game_enemy_quota_00143
2533  0A34              l_game_enemy_quota_00137:
2534  0A34  2A 00 00    	ld	hl,(_game_time_fireball_start)
2535  0A37  E5          	push	hl
2536  0A38  21 00 00    	ld	hl,0x0000
2537  0A3B  E5          	push	hl
2538  0A3C  CD EC 19    	call	_game_check_time
2539  0A3F  F1          	pop	af
2540  0A40  F1          	pop	af
2541  0A41  7D          	ld	a, l
2542  0A42  B7          	or	a, a
2543  0A43  28 1D       	jr	Z,l_game_enemy_quota_00143
2544  0A45  2E 0B       	ld	l,0x0b
2545  0A47  CD 95 0A    	call	_game_enemy_add1
2546  0A4A  18 16       	jr	l_game_enemy_quota_00143
2547  0A4C              l_game_enemy_quota_00140:
2548  0A4C  2A 00 00    	ld	hl,(_game_time_fireball_start)
2549  0A4F  E5          	push	hl
2550  0A50  21 00 00    	ld	hl,0x0000
2551  0A53  E5          	push	hl
2552  0A54  CD EC 19    	call	_game_check_time
2553  0A57  F1          	pop	af
2554  0A58  F1          	pop	af
2555  0A59  7D          	ld	a, l
2556  0A5A  B7          	or	a, a
2557  0A5B  28 05       	jr	Z,l_game_enemy_quota_00143
2558  0A5D  2E 0A       	ld	l,0x0a
2559  0A5F  CD 95 0A    	call	_game_enemy_add1
2560  0A62              l_game_enemy_quota_00143:
2561  0A62  2E 00       	ld	l,0x00
2562  0A64              l_game_enemy_quota_00144:
2563  0A64  C9          	ret
2564  0A65              	SECTION code_compiler
2565  0A65              ;	---------------------------------
2566  0A65              ; Function game_enemy_rnd
2567  0A65              ; ---------------------------------
2568  0A65              _game_enemy_rnd:
2569  0A65  3A 00 00    	ld	a,(_spr_count)
2570  0A68  D6 06       	sub	a,0x06
2571  0A6A  30 26       	jr	NC,l_game_enemy_rnd_00102
2572  0A6C  21 64 00    	ld	hl,0x0064
2573  0A6F  E5          	push	hl
2574  0A70  2A 00 00    	ld	hl,(_entry_time)
2575  0A73  E5          	push	hl
2576  0A74  CD EC 19    	call	_game_check_time
2577  0A77  F1          	pop	af
2578  0A78  F1          	pop	af
2579  0A79  7D          	ld	a, l
2580  0A7A  B7          	or	a, a
2581  0A7B  28 15       	jr	Z,l_game_enemy_rnd_00102
2582  0A7D  2A 00 00    	ld	hl,(_curr_time)
2583  0A80  22 00 00    	ld	(_entry_time),hl
2584  0A83  CD 00 00    	call	_rand
2585  0A86  01 0B 00    	ld	bc,0x000b
2586  0A89  C5          	push	bc
2587  0A8A  E5          	push	hl
2588  0A8B  CD 00 00    	call	__modsint_callee
2589  0A8E  2C          	inc	l
2590  0A8F  CD 95 0A    	call	_game_enemy_add1
2591  0A92              l_game_enemy_rnd_00102:
2592  0A92  2E 00       	ld	l,0x00
2593  0A94  C9          	ret
2594  0A95              	SECTION code_compiler
2595  0A95              ;	---------------------------------
2596  0A95              ; Function game_enemy_add1
2597  0A95              ; ---------------------------------
2598  0A95              _game_enemy_add1:
2599  0A95  CD 00 00    	call	___sdcc_enter_ix
2600  0A98  F5          	push	af
2601  0A99  45          	ld	b, l
2602  0A9A  78          	ld	a, b
2603  0A9B  D6 0A       	sub	a,0x0a
2604  0A9D  20 04       	jr	NZ,l_game_enemy_add1_00185
2605  0A9F  3E 01       	ld	a,0x01
2606  0AA1  18 01       	jr	l_game_enemy_add1_00186
2607  0AA3              l_game_enemy_add1_00185:
2608  0AA3  AF          	xor	a,a
2609  0AA4              l_game_enemy_add1_00186:
2610  0AA4  4F          	ld	c,a
2611  0AA5  B7          	or	a, a
2612  0AA6  28 0B       	jr	Z,l_game_enemy_add1_00105
2613  0AA8  C5          	push	bc
2614  0AA9  2E 0A       	ld	l,0x0a
2615  0AAB  CD D7 0B    	call	_game_enemy_add_get_index
2616  0AAE  C1          	pop	bc
2617  0AAF  5D          	ld	e,l
2618  0AB0  1C          	inc	e
2619  0AB1  20 2B       	jr	NZ,l_game_enemy_add1_00101
2620  0AB3              l_game_enemy_add1_00105:
2621  0AB3  78          	ld	a, b
2622  0AB4  D6 0B       	sub	a,0x0b
2623  0AB6  20 04       	jr	NZ,l_game_enemy_add1_00189
2624  0AB8  3E 01       	ld	a,0x01
2625  0ABA  18 01       	jr	l_game_enemy_add1_00190
2626  0ABC              l_game_enemy_add1_00189:
2627  0ABC  AF          	xor	a,a
2628  0ABD              l_game_enemy_add1_00190:
2629  0ABD  DD 77 FF    	ld	(ix-1),a
2630  0AC0  B7          	or	a, a
2631  0AC1  28 0B       	jr	Z,l_game_enemy_add1_00107
2632  0AC3  C5          	push	bc
2633  0AC4  2E 0B       	ld	l,0x0b
2634  0AC6  CD D7 0B    	call	_game_enemy_add_get_index
2635  0AC9  C1          	pop	bc
2636  0ACA  5D          	ld	e,l
2637  0ACB  1C          	inc	e
2638  0ACC  20 10       	jr	NZ,l_game_enemy_add1_00101
2639  0ACE              l_game_enemy_add1_00107:
2640  0ACE  78          	ld	a, b
2641  0ACF  D6 07       	sub	a,0x07
2642  0AD1  20 10       	jr	NZ,l_game_enemy_add1_00102
2643  0AD3  C5          	push	bc
2644  0AD4  2E 07       	ld	l,0x07
2645  0AD6  CD D7 0B    	call	_game_enemy_add_get_index
2646  0AD9  C1          	pop	bc
2647  0ADA  5D          	ld	e,l
2648  0ADB  1C          	inc	e
2649  0ADC  28 05       	jr	Z,l_game_enemy_add1_00102
2650  0ADE              l_game_enemy_add1_00101:
2651  0ADE  2E 00       	ld	l,0x00
2652  0AE0  C3 D3 0B    	jp	l_game_enemy_add1_00131
2653  0AE3              l_game_enemy_add1_00102:
2654  0AE3  21 00 00    	ld	hl,_phase_pop
2655  0AE6  34          	inc	(hl)
2656  0AE7  C5          	push	bc
2657  0AE8  CD 00 00    	call	_sound_enter_enemy
2658  0AEB  2E 00       	ld	l,0x00
2659  0AED  CD D7 0B    	call	_game_enemy_add_get_index
2660  0AF0  C1          	pop	bc
2661  0AF1  7D          	ld	a,l
2662  0AF2  32 00 00    	ld	(_tmp),a
2663  0AF5  C5          	push	bc
2664  0AF6  CD 00 00    	call	_rand
2665  0AF9  C1          	pop	bc
2666  0AFA  7D          	ld	a, l
2667  0AFB  E6 01       	and	a,0x01
2668  0AFD  32 00 00    	ld	(_tmp0),a
2669  0B00  3D          	dec	a
2670  0B01  20 1C       	jr	NZ,l_game_enemy_add1_00113
2671  0B03  21 00 00    	ld	hl,_s_lin0
2672  0B06  36 10       	ld	(hl),0x10
2673  0B08  21 00 00    	ld	hl,_s_col0
2674  0B0B  36 04       	ld	(hl),0x04
2675  0B0D  21 00 00    	ld	hl,_s_col1
2676  0B10  36 02       	ld	(hl),0x02
2677  0B12  79          	ld	a, c
2678  0B13  B7          	or	a, a
2679  0B14  28 02       	jr	Z,l_game_enemy_add1_00109
2680  0B16  36 03       	ld	(hl),0x03
2681  0B18              l_game_enemy_add1_00109:
2682  0B18  21 00 00    	ld	hl,_tmp1
2683  0B1B  36 01       	ld	(hl),0x01
2684  0B1D  18 1A       	jr	l_game_enemy_add1_00114
2685  0B1F              l_game_enemy_add1_00113:
2686  0B1F  21 00 00    	ld	hl,_s_lin0
2687  0B22  36 10       	ld	(hl),0x10
2688  0B24  21 00 00    	ld	hl,_s_col0
2689  0B27  36 1A       	ld	(hl),0x1a
2690  0B29  21 00 00    	ld	hl,_s_col1
2691  0B2C  36 1E       	ld	(hl),0x1e
2692  0B2E  79          	ld	a, c
2693  0B2F  B7          	or	a, a
2694  0B30  28 02       	jr	Z,l_game_enemy_add1_00111
2695  0B32  36 1C       	ld	(hl),0x1c
2696  0B34              l_game_enemy_add1_00111:
2697  0B34  21 00 00    	ld	hl,_tmp1
2698  0B37  36 FF       	ld	(hl),0xff
2699  0B39              l_game_enemy_add1_00114:
2700  0B39  78          	ld	a, b
2701  0B3A  D6 08       	sub	a,0x08
2702  0B3C  20 04       	jr	NZ,l_game_enemy_add1_00198
2703  0B3E  3E 01       	ld	a,0x01
2704  0B40  18 01       	jr	l_game_enemy_add1_00199
2705  0B42              l_game_enemy_add1_00198:
2706  0B42  AF          	xor	a,a
2707  0B43              l_game_enemy_add1_00199:
2708  0B43  DD 77 FE    	ld	(ix-2),a
2709  0B46  B7          	or	a, a
2710  0B47  28 04       	jr	Z,l_game_enemy_add1_00116
2711  0B49  21 00 00    	ld	hl,_phase_coins
2712  0B4C  35          	dec	(hl)
2713  0B4D              l_game_enemy_add1_00116:
2714  0B4D  21 00 00    	ld	hl,_tmp_uc
2715  0B50  36 00       	ld	(hl),0x00
2716  0B52  DD 7E FF    	ld	a,(ix-1)
2717  0B55  B7          	or	a,a
2718  0B56  20 03       	jr	NZ,l_game_enemy_add1_00123
2719  0B58  B1          	or	a,c
2720  0B59  28 35       	jr	Z,l_game_enemy_add1_00124
2721  0B5B              l_game_enemy_add1_00123:
2722  0B5B  C5          	push	bc
2723  0B5C  CD 00 00    	call	_rand
2724  0B5F  11 03 00    	ld	de,0x0003
2725  0B62  D5          	push	de
2726  0B63  E5          	push	hl
2727  0B64  CD 00 00    	call	__modsint_callee
2728  0B67  C1          	pop	bc
2729  0B68  5D          	ld	e,l
2730  0B69  21 00 00    	ld	hl,_tmp_uc
2731  0B6C  73          	ld	(hl),e
2732  0B6D  7B          	ld	a,e
2733  0B6E  B7          	or	a, a
2734  0B6F  20 02       	jr	NZ,l_game_enemy_add1_00118
2735  0B71  36 10       	ld	(hl),0x10
2736  0B73              l_game_enemy_add1_00118:
2737  0B73  3A 00 00    	ld	a,(_tmp_uc)
2738  0B76  3D          	dec	a
2739  0B77  20 05       	jr	NZ,l_game_enemy_add1_00120
2740  0B79  21 00 00    	ld	hl,_tmp_uc
2741  0B7C  36 38       	ld	(hl),0x38
2742  0B7E              l_game_enemy_add1_00120:
2743  0B7E  3A 00 00    	ld	a,(_tmp_uc)
2744  0B81  D6 02       	sub	a,0x02
2745  0B83  20 05       	jr	NZ,l_game_enemy_add1_00122
2746  0B85  21 00 00    	ld	hl,_tmp_uc
2747  0B88  36 84       	ld	(hl),0x84
2748  0B8A              l_game_enemy_add1_00122:
2749  0B8A  3A 00 00    	ld	a,(_s_col1)
2750  0B8D  32 00 00    	ld	(_s_col0),a
2751  0B90              l_game_enemy_add1_00124:
2752  0B90  CD 00 00    	call	_ay_is_playing
2753  0B93  7D          	ld	a, l
2754  0B94  D6 02       	sub	a,0x02
2755  0B96  30 14       	jr	NC,l_game_enemy_add1_00130
2756  0B98  DD 7E FE    	ld	a,(ix-2)
2757  0B9B  B7          	or	a, a
2758  0B9C  20 08       	jr	NZ,l_game_enemy_add1_00127
2759  0B9E  21 00 00    	ld	hl,_ay_effect_04
2760  0BA1  CD 00 00    	call	_ay_fx_play
2761  0BA4  18 06       	jr	l_game_enemy_add1_00130
2762  0BA6              l_game_enemy_add1_00127:
2763  0BA6  21 00 00    	ld	hl,_ay_effect_07
2764  0BA9  CD 00 00    	call	_ay_fx_play
2765  0BAC              l_game_enemy_add1_00130:
2766  0BAC  2A 00 00    	ld	hl,(_curr_time)
2767  0BAF  22 00 00    	ld	(_entry_time),hl
2768  0BB2  3A 00 00    	ld	a,(_s_lin0)
2769  0BB5  21 00 00    	ld	hl,_tmp_uc
2770  0BB8  86          	add	a, (hl)
2771  0BB9  57          	ld	d, a
2772  0BBA  3A 00 00    	ld	a,(_tmp1)
2773  0BBD  48          	ld	c,b
2774  0BBE  47          	ld	b,a
2775  0BBF  3A 00 00    	ld	a,(_s_col0)
2776  0BC2  C5          	push	bc
2777  0BC3  5A          	ld	e,d
2778  0BC4  57          	ld	d,a
2779  0BC5  3A 00 00    	ld	a,(_tmp)
2780  0BC8  D5          	push	de
2781  0BC9  F5          	push	af
2782  0BCA  33          	inc	sp
2783  0BCB  CD 00 00    	call	_enemy_init
2784  0BCE  F1          	pop	af
2785  0BCF  F1          	pop	af
2786  0BD0  33          	inc	sp
2787  0BD1  2E 00       	ld	l,0x00
2788  0BD3              l_game_enemy_add1_00131:
2789  0BD3  F1          	pop	af
2790  0BD4  DD E1       	pop	ix
2791  0BD6  C9          	ret
2792  0BD7              	SECTION code_compiler
2793  0BD7              ;	---------------------------------
2794  0BD7              ; Function game_enemy_add_get_index
2795  0BD7              ; ---------------------------------
2796  0BD7              _game_enemy_add_get_index:
2797  0BD7  4D          	ld	c, l
2798  0BD8  21 00 00    	ld	hl,_enemies
2799  0BDB  36 00       	ld	(hl),0x00
2800  0BDD              l_game_enemy_add_get_index_00104:
2801  0BDD  2A 00 00    	ld	hl,(_enemies)
2802  0BE0  26 00       	ld	h,0x00
2803  0BE2  11 00 00    	ld	de,_class
2804  0BE5  19          	add	hl,de
2805  0BE6  7E          	ld	a,(hl)
2806  0BE7  91          	sub	a,c
2807  0BE8  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2808  0BEA  2A 00 00    	ld	hl,(_enemies)
2809  0BED  18 0B       	jr	l_game_enemy_add_get_index_00106
2810  0BEF              l_game_enemy_add_get_index_00105:
2811  0BEF  21 00 00    	ld	hl,_enemies
2812  0BF2  34          	inc	(hl)
2813  0BF3  3E 05       	ld	a,0x05
2814  0BF5  96          	sub	a, (hl)
2815  0BF6  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
2816  0BF8  2E FF       	ld	l,0xff
2817  0BFA              l_game_enemy_add_get_index_00106:
2818  0BFA  C9          	ret
2819  0BFB              	SECTION code_compiler
2820  0BFB              ;	---------------------------------
2821  0BFB              ; Function game_freeze
2822  0BFB              ; ---------------------------------
2823  0BFB              _game_freeze:
2824  0BFB  CD 00 00    	call	___sdcc_enter_ix
2825  0BFE  DD 7E 05    	ld	a,(ix+5)
2826  0C01  D6 1F       	sub	a,0x1f
2827  0C03  30 60       	jr	NC,l_game_freeze_00107
2828  0C05  21 00 00    	ld	hl,_tmp
2829  0C08  36 01       	ld	(hl),0x01
2830  0C0A  DD 66 05    	ld	h,(ix+5)
2831  0C0D  DD 6E 04    	ld	l,(ix+4)
2832  0C10  E5          	push	hl
2833  0C11  CD 00 00    	call	_game_calc_index
2834  0C14  F1          	pop	af
2835  0C15  22 00 00    	ld	(_index1),hl
2836  0C18  01 00 00    	ld	bc,_lvl_1
2837  0C1B  09          	add	hl,bc
2838  0C1C  7E          	ld	a,(hl)
2839  0C1D  D6 84       	sub	a,0x84
2840  0C1F  20 44       	jr	NZ,l_game_freeze_00107
2841  0C21  36 8B       	ld	(hl),0x8b
2842  0C23  76          	halt
2843  0C24  DD 7E 05    	ld	a,(ix+5)
2844  0C27  F5          	push	af
2845  0C28  33          	inc	sp
2846  0C29  DD 56 04    	ld	d,(ix+4)
2847  0C2C  1E 8B       	ld	e,0x8b
2848  0C2E  D5          	push	de
2849  0C2F  CD 00 00    	call	_NIRVANAP_drawT_callee
2850  0C32  ED 4B 00 00 	ld	bc,(_index1)
2851  0C36  03          	inc	bc
2852  0C37  21 00 00    	ld	hl,_lvl_1
2853  0C3A  09          	add	hl, bc
2854  0C3B  4E          	ld	c, (hl)
2855  0C3C  DD 46 05    	ld	b,(ix+5)
2856  0C3F  04          	inc	b
2857  0C40  79          	ld	a, c
2858  0C41  D6 A9       	sub	a,0xa9
2859  0C43  20 0C       	jr	NZ,l_game_freeze_00102
2860  0C45  C5          	push	bc
2861  0C46  DD 4E 04    	ld	c,(ix+4)
2862  0C49  C5          	push	bc
2863  0C4A  AF          	xor	a, a
2864  0C4B  F5          	push	af
2865  0C4C  33          	inc	sp
2866  0C4D  CD 00 00    	call	_NIRVANAP_fillT_callee
2867  0C50  C1          	pop	bc
2868  0C51              l_game_freeze_00102:
2869  0C51  DD 4E 04    	ld	c,(ix+4)
2870  0C54  C5          	push	bc
2871  0C55  CD FB 0B    	call	_game_freeze
2872  0C58  F1          	pop	af
2873  0C59  DD 46 05    	ld	b,(ix+5)
2874  0C5C  05          	dec	b
2875  0C5D  DD 4E 04    	ld	c,(ix+4)
2876  0C60  C5          	push	bc
2877  0C61  CD FB 0B    	call	_game_freeze
2878  0C64  F1          	pop	af
2879  0C65              l_game_freeze_00107:
2880  0C65  DD E1       	pop	ix
2881  0C67  C9          	ret
2882  0C68              	SECTION code_compiler
2883  0C68              ;	---------------------------------
2884  0C68              ; Function game_unfreeze_all
2885  0C68              ; ---------------------------------
2886  0C68              _game_unfreeze_all:
2887  0C68  21 C0 00    	ld	hl,0x00c0
2888  0C6B  22 00 00    	ld	(_index1),hl
2889  0C6E              l_game_unfreeze_all_00104:
2890  0C6E  01 00 00    	ld	bc,_lvl_1
2891  0C71  2A 00 00    	ld	hl,(_index1)
2892  0C74  09          	add	hl,bc
2893  0C75  7E          	ld	a,(hl)
2894  0C76  D6 8B       	sub	a,0x8b
2895  0C78  20 02       	jr	NZ,l_game_unfreeze_all_00105
2896  0C7A  36 84       	ld	(hl),0x84
2897  0C7C              l_game_unfreeze_all_00105:
2898  0C7C  21 00 00    	ld	hl,_index1
2899  0C7F  34          	inc	(hl)
2900  0C80  20 02       	jr	NZ,l_game_unfreeze_all_00118
2901  0C82  23          	inc	hl
2902  0C83  34          	inc	(hl)
2903  0C84              l_game_unfreeze_all_00118:
2904  0C84  3E 20       	ld	a,0x20
2905  0C86  21 00 00    	ld	hl,_index1
2906  0C89  BE          	cp	a, (hl)
2907  0C8A  3E 02       	ld	a,0x02
2908  0C8C  23          	inc	hl
2909  0C8D  9E          	sbc	a, (hl)
2910  0C8E  30 DE       	jr	NC,l_game_unfreeze_all_00104
2911  0C90  C9          	ret
2912  0C91              	SECTION code_compiler
2913  0C91              ;	---------------------------------
2914  0C91              ; Function game_freeze_all
2915  0C91              ; ---------------------------------
2916  0C91              _game_freeze_all:
2917  0C91  21 C0 00    	ld	hl,0x00c0
2918  0C94  22 00 00    	ld	(_index1),hl
2919  0C97              l_game_freeze_all_00104:
2920  0C97  01 00 00    	ld	bc,_lvl_1
2921  0C9A  2A 00 00    	ld	hl,(_index1)
2922  0C9D  09          	add	hl,bc
2923  0C9E  7E          	ld	a,(hl)
2924  0C9F  D6 84       	sub	a,0x84
2925  0CA1  20 02       	jr	NZ,l_game_freeze_all_00105
2926  0CA3  36 8B       	ld	(hl),0x8b
2927  0CA5              l_game_freeze_all_00105:
2928  0CA5  21 00 00    	ld	hl,_index1
2929  0CA8  34          	inc	(hl)
2930  0CA9  20 02       	jr	NZ,l_game_freeze_all_00118
2931  0CAB  23          	inc	hl
2932  0CAC  34          	inc	(hl)
2933  0CAD              l_game_freeze_all_00118:
2934  0CAD  3E 20       	ld	a,0x20
2935  0CAF  21 00 00    	ld	hl,_index1
2936  0CB2  BE          	cp	a, (hl)
2937  0CB3  3E 02       	ld	a,0x02
2938  0CB5  23          	inc	hl
2939  0CB6  9E          	sbc	a, (hl)
2940  0CB7  30 DE       	jr	NC,l_game_freeze_all_00104
2941  0CB9  C9          	ret
2942  0CBA              	SECTION code_compiler
2943  0CBA              ;	---------------------------------
2944  0CBA              ; Function game_print_score
2945  0CBA              ; ---------------------------------
2946  0CBA              _game_print_score:
2947  0CBA  21 00 00    	ld	hl,_screen_ink
2948  0CBD  36 07       	ld	(hl),0x07
2949  0CBF  21 00 00    	ld	hl,_screen_paper
2950  0CC2  36 00       	ld	(hl),0x00
2951  0CC4  2A 00 00    	ld	hl,(_player_score)
2952  0CC7  E5          	push	hl
2953  0CC8  21 00 03    	ld	hl,0x0300
2954  0CCB  E5          	push	hl
2955  0CCC  CD 00 00    	call	_zx_print_int
2956  0CCF  2A 00 00    	ld	hl,(_game_score_top)
2957  0CD2  E5          	push	hl
2958  0CD3  21 00 0E    	ld	hl,0x0e00
2959  0CD6  E5          	push	hl
2960  0CD7  CD 00 00    	call	_zx_print_int
2961  0CDA  3A 00 00    	ld	a,(_game_two_player)
2962  0CDD  B7          	or	a, a
2963  0CDE  C8          	ret	Z
2964  0CDF  2A 02 00    	ld	hl, (_player_score + 2)
2965  0CE2  E5          	push	hl
2966  0CE3  21 00 18    	ld	hl,0x1800
2967  0CE6  E5          	push	hl
2968  0CE7  CD 00 00    	call	_zx_print_int
2969  0CEA  C9          	ret
2970  0CEB              	SECTION code_compiler
2971  0CEB              ;	---------------------------------
2972  0CEB              ; Function game_paint_attrib
2973  0CEB              ; ---------------------------------
2974  0CEB              _game_paint_attrib:
2975  0CEB  7D          	ld	a,l
2976  0CEC  32 00 00    	ld	(_tmp0),a
2977  0CEF              l_game_paint_attrib_00103:
2978  0CEF  3E 13       	ld	a,0x13
2979  0CF1  21 00 00    	ld	hl,_tmp0
2980  0CF4  96          	sub	a, (hl)
2981  0CF5  D8          	ret	C
2982  0CF6  7E          	ld	a, (hl)
2983  0CF7  07          	rlca
2984  0CF8  07          	rlca
2985  0CF9  07          	rlca
2986  0CFA  E6 F8       	and	a,0xf8
2987  0CFC  C6 08       	add	a,0x08
2988  0CFE  F5          	push	af
2989  0CFF  33          	inc	sp
2990  0D00  21 01 1F    	ld	hl,0x1f01
2991  0D03  E5          	push	hl
2992  0D04  CD 0F 0D    	call	_game_paint_attrib_lin
2993  0D07  F1          	pop	af
2994  0D08  33          	inc	sp
2995  0D09  21 00 00    	ld	hl,_tmp0
2996  0D0C  34          	inc	(hl)
2997  0D0D  18 E0       	jr	l_game_paint_attrib_00103
2998  0D0F              	SECTION code_compiler
2999  0D0F              ;	---------------------------------
3000  0D0F              ; Function game_paint_attrib_lin
3001  0D0F              ; ---------------------------------
3002  0D0F              _game_paint_attrib_lin:
3003  0D0F  CD 00 00    	call	___sdcc_enter_ix
3004  0D12  DD 7E 04    	ld	a,(ix+4)
3005  0D15  32 00 00    	ld	(_tmp_uc),a
3006  0D18              l_game_paint_attrib_lin_00103:
3007  0D18  21 00 00    	ld	hl,_tmp_uc
3008  0D1B  7E          	ld	a, (hl)
3009  0D1C  DD 96 05    	sub	a,(ix+5)
3010  0D1F  30 12       	jr	NC,l_game_paint_attrib_lin_00105
3011  0D21  66          	ld	h,(hl)
3012  0D22  DD 6E 06    	ld	l,(ix+6)
3013  0D25  E5          	push	hl
3014  0D26  21 00 00    	ld	hl,_attrib
3015  0D29  E5          	push	hl
3016  0D2A  CD 00 00    	call	_NIRVANAP_paintC_callee
3017  0D2D  21 00 00    	ld	hl,_tmp_uc
3018  0D30  34          	inc	(hl)
3019  0D31  18 E5       	jr	l_game_paint_attrib_lin_00103
3020  0D33              l_game_paint_attrib_lin_00105:
3021  0D33  DD E1       	pop	ix
3022  0D35  C9          	ret
3023  0D36              	SECTION code_compiler
3024  0D36              ;	---------------------------------
3025  0D36              ; Function game_paint_attrib_lin_h
3026  0D36              ; ---------------------------------
3027  0D36              _game_paint_attrib_lin_h:
3028  0D36  CD 00 00    	call	___sdcc_enter_ix
3029  0D39  DD 7E 04    	ld	a,(ix+4)
3030  0D3C  32 00 00    	ld	(_tmp_uc),a
3031  0D3F              l_game_paint_attrib_lin_h_00103:
3032  0D3F  21 00 00    	ld	hl,_tmp_uc
3033  0D42  7E          	ld	a, (hl)
3034  0D43  DD 96 05    	sub	a,(ix+5)
3035  0D46  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3036  0D48  66          	ld	h,(hl)
3037  0D49  DD 6E 06    	ld	l,(ix+6)
3038  0D4C  E5          	push	hl
3039  0D4D  21 00 00    	ld	hl,_attrib_hl
3040  0D50  E5          	push	hl
3041  0D51  CD 00 00    	call	_NIRVANAP_paintC_callee
3042  0D54  21 00 00    	ld	hl,_tmp_uc
3043  0D57  34          	inc	(hl)
3044  0D58  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3045  0D5A              l_game_paint_attrib_lin_h_00105:
3046  0D5A  DD E1       	pop	ix
3047  0D5C  C9          	ret
3048  0D5D              	SECTION code_compiler
3049  0D5D              ;	---------------------------------
3050  0D5D              ; Function game_menu_config
3051  0D5D              ; ---------------------------------
3052  0D5D              _game_menu_config:
3053  0D5D  CD 00 00    	call	___sdcc_enter_ix
3054  0D60  F5          	push	af
3055  0D61  3B          	dec	sp
3056  0D62  2E 0B       	ld	l,0x0b
3057  0D64  CD EB 0C    	call	_game_paint_attrib
3058  0D67  DD 36 FD 01 	ld	(ix-3),0x01
3059  0D6B              l_game_menu_config_00116:
3060  0D6B  DD 7E FD    	ld	a,(ix-3)
3061  0D6E  B7          	or	a, a
3062  0D6F  CA CA 0E    	jp	Z, l_game_menu_config_00119
3063  0D72              l_game_menu_config_00101:
3064  0D72  21 00 00    	ld	hl,_k1
3065  0D75  E5          	push	hl
3066  0D76  2A 00 00    	ld	hl,(_joyfunc1)
3067  0D79  CD 00 00    	call	___sdcc_call_hl
3068  0D7C  F1          	pop	af
3069  0D7D  7C          	ld	a,h
3070  0D7E  B5          	or	a,l
3071  0D7F  20 F1       	jr	NZ,l_game_menu_config_00101
3072  0D81  3A 00 00    	ld	a,(_spec128)
3073  0D84  B7          	or	a,a
3074  0D85  28 05       	jr	Z,l_game_menu_config_00121
3075  0D87  01 A1 00    	ld	bc,___str_23
3076  0D8A  18 03       	jr	l_game_menu_config_00122
3077  0D8C              l_game_menu_config_00121:
3078  0D8C  01 AC 00    	ld	bc,___str_24
3079  0D8F              l_game_menu_config_00122:
3080  0D8F  C5          	push	bc
3081  0D90  21 0E 0A    	ld	hl,0x0a0e
3082  0D93  E5          	push	hl
3083  0D94  CD 00 00    	call	_zx_print_str
3084  0D97  21 B7 00    	ld	hl,___str_25
3085  0D9A  E5          	push	hl
3086  0D9B  21 0F 0A    	ld	hl,0x0a0f
3087  0D9E  E5          	push	hl
3088  0D9F  CD 00 00    	call	_zx_print_str
3089  0DA2  21 C2 00    	ld	hl,___str_26
3090  0DA5  E5          	push	hl
3091  0DA6  21 10 0A    	ld	hl,0x0a10
3092  0DA9  E5          	push	hl
3093  0DAA  CD 00 00    	call	_zx_print_str
3094  0DAD  21 CD 00    	ld	hl,___str_27
3095  0DB0  E5          	push	hl
3096  0DB1  21 11 0A    	ld	hl,0x0a11
3097  0DB4  E5          	push	hl
3098  0DB5  CD 00 00    	call	_zx_print_str
3099  0DB8  21 D8 00    	ld	hl,___str_28
3100  0DBB  E5          	push	hl
3101  0DBC  21 12 0A    	ld	hl,0x0a12
3102  0DBF  E5          	push	hl
3103  0DC0  CD 00 00    	call	_zx_print_str
3104  0DC3  3A 00 00    	ld	a,(_game_sound)
3105  0DC6  E6 05       	and	a,0x05
3106  0DC8  28 0A       	jr	Z,l_game_menu_config_00123
3107  0DCA  DD 36 FE E3 	ld	(ix-2),+((___str_29) & 0xFF)
3108  0DCE  DD 36 FF 00 	ld	(ix-1),+((___str_29) / 256)
3109  0DD2  18 08       	jr	l_game_menu_config_00124
3110  0DD4              l_game_menu_config_00123:
3111  0DD4  DD 36 FE E7 	ld	(ix-2),+((___str_30) & 0xFF)
3112  0DD8  DD 36 FF 00 	ld	(ix-1),+((___str_30) / 256)
3113  0DDC              l_game_menu_config_00124:
3114  0DDC  DD 4E FE    	ld	c,(ix-2)
3115  0DDF  DD 46 FF    	ld	b,(ix-1)
3116  0DE2  C5          	push	bc
3117  0DE3  21 0E 14    	ld	hl,0x140e
3118  0DE6  E5          	push	hl
3119  0DE7  CD 00 00    	call	_zx_print_str
3120  0DEA  3A 00 00    	ld	a,(_game_type)
3121  0DED  B7          	or	a, a
3122  0DEE  28 0C       	jr	Z,l_game_menu_config_00104
3123  0DF0  3D          	dec	a
3124  0DF1  28 16       	jr	Z,l_game_menu_config_00105
3125  0DF3  3A 00 00    	ld	a,(_game_type)
3126  0DF6  D6 02       	sub	a,0x02
3127  0DF8  28 1C       	jr	Z,l_game_menu_config_00106
3128  0DFA  18 25       	jr	l_game_menu_config_00107
3129  0DFC              l_game_menu_config_00104:
3130  0DFC  21 EB 00    	ld	hl,___str_31
3131  0DFF  E5          	push	hl
3132  0E00  21 0F 14    	ld	hl,0x140f
3133  0E03  E5          	push	hl
3134  0E04  CD 00 00    	call	_zx_print_str
3135  0E07  18 18       	jr	l_game_menu_config_00107
3136  0E09              l_game_menu_config_00105:
3137  0E09  21 EF 00    	ld	hl,___str_32
3138  0E0C  E5          	push	hl
3139  0E0D  21 0F 14    	ld	hl,0x140f
3140  0E10  E5          	push	hl
3141  0E11  CD 00 00    	call	_zx_print_str
3142  0E14  18 0B       	jr	l_game_menu_config_00107
3143  0E16              l_game_menu_config_00106:
3144  0E16  21 F3 00    	ld	hl,___str_33
3145  0E19  E5          	push	hl
3146  0E1A  21 0F 14    	ld	hl,0x140f
3147  0E1D  E5          	push	hl
3148  0E1E  CD 00 00    	call	_zx_print_str
3149  0E21              l_game_menu_config_00107:
3150  0E21  2A 00 00    	ld	hl,(_player_joy)
3151  0E24  29          	add	hl, hl
3152  0E25  11 00 00    	ld	de,_joynames
3153  0E28  19          	add	hl, de
3154  0E29  4E          	ld	c, (hl)
3155  0E2A  23          	inc	hl
3156  0E2B  46          	ld	b, (hl)
3157  0E2C  C5          	push	bc
3158  0E2D  21 10 14    	ld	hl,0x1410
3159  0E30  E5          	push	hl
3160  0E31  CD 00 00    	call	_zx_print_str
3161  0E34  2A 02 00    	ld	hl, (_player_joy + 2)
3162  0E37  29          	add	hl, hl
3163  0E38  11 00 00    	ld	de,_joynames
3164  0E3B  19          	add	hl, de
3165  0E3C  4E          	ld	c, (hl)
3166  0E3D  23          	inc	hl
3167  0E3E  46          	ld	b, (hl)
3168  0E3F  C5          	push	bc
3169  0E40  21 11 14    	ld	hl,0x1411
3170  0E43  E5          	push	hl
3171  0E44  CD 00 00    	call	_zx_print_str
3172  0E47  21 00 00    	ld	hl,0x0000
3173  0E4A  E5          	push	hl
3174  0E4B  21 0E 12    	ld	hl,0x120e
3175  0E4E  E5          	push	hl
3176  0E4F  21 0A 01    	ld	hl,0x010a
3177  0E52  E5          	push	hl
3178  0E53  CD 7D 11    	call	_game_menu_handle
3179  0E56  F1          	pop	af
3180  0E57  F1          	pop	af
3181  0E58  F1          	pop	af
3182  0E59  7D          	ld	a,l
3183  0E5A  32 00 00    	ld	(_game_menu_sel),a
3184  0E5D  21 00 00    	ld	hl,_ay_effect_10
3185  0E60  CD 00 00    	call	_ay_fx_play
3186  0E63  CD 00 00    	call	_sound_coin
3187  0E66  3E 04       	ld	a,0x04
3188  0E68  21 00 00    	ld	hl,_game_menu_sel
3189  0E6B  96          	sub	a, (hl)
3190  0E6C  DA 6B 0D    	jp	C, l_game_menu_config_00116
3191  0E6F  4E          	ld	c, (hl)
3192  0E70  06 00       	ld	b,0x00
3193  0E72  21 79 0E    	ld	hl,l_game_menu_config_00175
3194  0E75  09          	add	hl, bc
3195  0E76  09          	add	hl, bc
3196  0E77  09          	add	hl, bc
3197  0E78  E9          	jp	(hl)
3198  0E79              l_game_menu_config_00175:
3199  0E79  C3 88 0E    	jp	l_game_menu_config_00108
3200  0E7C  C3 9C 0E    	jp	l_game_menu_config_00109
3201  0E7F  C3 AB 0E    	jp	l_game_menu_config_00112
3202  0E82  C3 B3 0E    	jp	l_game_menu_config_00113
3203  0E85  C3 BB 0E    	jp	l_game_menu_config_00114
3204  0E88              l_game_menu_config_00108:
3205  0E88  3A 00 00    	ld	a,(_spec128)
3206  0E8B  B7          	or	a, a
3207  0E8C  28 04       	jr	Z,l_game_menu_config_00125
3208  0E8E  3E 04       	ld	a,0x04
3209  0E90  18 02       	jr	l_game_menu_config_00126
3210  0E92              l_game_menu_config_00125:
3211  0E92  3E 01       	ld	a,0x01
3212  0E94              l_game_menu_config_00126:
3213  0E94  21 00 00    	ld	hl,_game_sound
3214  0E97  AE          	xor	a, (hl)
3215  0E98  77          	ld	(hl), a
3216  0E99  C3 6B 0D    	jp	l_game_menu_config_00116
3217  0E9C              l_game_menu_config_00109:
3218  0E9C  21 00 00    	ld	hl,_game_type
3219  0E9F  34          	inc	(hl)
3220  0EA0  3E 02       	ld	a,0x02
3221  0EA2  96          	sub	a, (hl)
3222  0EA3  D2 6B 0D    	jp	NC, l_game_menu_config_00116
3223  0EA6  36 00       	ld	(hl),0x00
3224  0EA8  C3 6B 0D    	jp	l_game_menu_config_00116
3225  0EAB              l_game_menu_config_00112:
3226  0EAB  2E 00       	ld	l,0x00
3227  0EAD  CD CF 0E    	call	_game_joystick_change
3228  0EB0  C3 6B 0D    	jp	l_game_menu_config_00116
3229  0EB3              l_game_menu_config_00113:
3230  0EB3  2E 01       	ld	l,0x01
3231  0EB5  CD CF 0E    	call	_game_joystick_change
3232  0EB8  C3 6B 0D    	jp	l_game_menu_config_00116
3233  0EBB              l_game_menu_config_00114:
3234  0EBB  21 00 00    	ld	hl,_game_menu_sel
3235  0EBE  36 00       	ld	(hl),0x00
3236  0EC0  CD 4A 10    	call	_game_menu_paint
3237  0EC3  DD 36 FD 00 	ld	(ix-3),0x00
3238  0EC7  C3 6B 0D    	jp	l_game_menu_config_00116
3239  0ECA              l_game_menu_config_00119:
3240  0ECA  DD F9       	ld	sp, ix
3241  0ECC  DD E1       	pop	ix
3242  0ECE  C9          	ret
3243  0ECF              	SECTION rodata_compiler
3244  00A1              ___str_23:
3245  00A1  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3246  00AB  00          	DEFB 0x00
3247  00AC              	SECTION rodata_compiler
3248  00AC              ___str_24:
3249  00AC  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3250  00B6  00          	DEFB 0x00
3251  00B7              	SECTION rodata_compiler
3252  00B7              ___str_25:
3253  00B7  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3254  00C1  00          	DEFB 0x00
3255  00C2              	SECTION rodata_compiler
3256  00C2              ___str_26:
3257  00C2  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3258  00CC  00          	DEFB 0x00
3259  00CD              	SECTION rodata_compiler
3260  00CD              ___str_27:
3261  00CD  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3262  00D7  00          	DEFB 0x00
3263  00D8              	SECTION rodata_compiler
3264  00D8              ___str_28:
3265  00D8  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3266  00E2  00          	DEFB 0x00
3267  00E3              	SECTION rodata_compiler
3268  00E3              ___str_29:
3269  00E3  4F 4E 20    	DEFM "ON "
3270  00E6  00          	DEFB 0x00
3271  00E7              	SECTION rodata_compiler
3272  00E7              ___str_30:
3273  00E7  4F 46 46    	DEFM "OFF"
3274  00EA  00          	DEFB 0x00
3275  00EB              	SECTION rodata_compiler
3276  00EB              ___str_31:
3277  00EB  41 20 20    	DEFM "A  "
3278  00EE  00          	DEFB 0x00
3279  00EF              	SECTION rodata_compiler
3280  00EF              ___str_32:
3281  00EF  42 20 20    	DEFM "B  "
3282  00F2  00          	DEFB 0x00
3283  00F3              	SECTION rodata_compiler
3284  00F3              ___str_33:
3285  00F3  52 4E 44    	DEFM "RND"
3286  00F6  00          	DEFB 0x00
3287  00F7              	SECTION code_compiler
3288  0ECF              ;	---------------------------------
3289  0ECF              ; Function game_joystick_change
3290  0ECF              ; ---------------------------------
3291  0ECF              _game_joystick_change:
3292  0ECF  CD 00 00    	call	___sdcc_enter_ix
3293  0ED2  3B          	dec	sp
3294  0ED3  DD 75 FF    	ld	(ix-1),l
3295  0ED6  26 00       	ld	h,0x00
3296  0ED8  29          	add	hl, hl
3297  0ED9  01 00 00    	ld	bc,_player_joy
3298  0EDC  09          	add	hl,bc
3299  0EDD  5E          	ld	e,(hl)
3300  0EDE  4D          	ld	c,l
3301  0EDF  44          	ld	b,h
3302  0EE0  23          	inc	hl
3303  0EE1  56          	ld	d, (hl)
3304  0EE2  13          	inc	de
3305  0EE3  69          	ld	l, c
3306  0EE4  60          	ld	h, b
3307  0EE5  73          	ld	(hl), e
3308  0EE6  23          	inc	hl
3309  0EE7  72          	ld	(hl), d
3310  0EE8  7B          	ld	a, e
3311  0EE9  D6 07       	sub	a,0x07
3312  0EEB  B2          	or	a, d
3313  0EEC  20 06       	jr	NZ,l_game_joystick_change_00102
3314  0EEE  69          	ld	l, c
3315  0EEF  60          	ld	h, b
3316  0EF0  AF          	xor	a, a
3317  0EF1  77          	ld	(hl), a
3318  0EF2  23          	inc	hl
3319  0EF3  77          	ld	(hl), a
3320  0EF4              l_game_joystick_change_00102:
3321  0EF4  DD 7E FF    	ld	a,(ix-1)
3322  0EF7  B7          	or	a, a
3323  0EF8  20 12       	jr	NZ,l_game_joystick_change_00104
3324  0EFA  69          	ld	l, c
3325  0EFB  60          	ld	h, b
3326  0EFC  7E          	ld	a,(hl)
3327  0EFD  23          	inc	hl
3328  0EFE  3D          	dec	a
3329  0EFF  56          	ld	d,(hl)
3330  0F00  B2          	or	a, d
3331  0F01  20 09       	jr	NZ,l_game_joystick_change_00104
3332  0F03  ED 5B 00 00 	ld	de,(_player_joy)
3333  0F07  13          	inc	de
3334  0F08  ED 53 00 00 	ld	(_player_joy), de
3335  0F0C              l_game_joystick_change_00104:
3336  0F0C  DD 7E FF    	ld	a,(ix-1)
3337  0F0F  3D          	dec	a
3338  0F10  20 11       	jr	NZ,l_game_joystick_change_00107
3339  0F12  69          	ld	l, c
3340  0F13  60          	ld	h, b
3341  0F14  4E          	ld	c, (hl)
3342  0F15  23          	inc	hl
3343  0F16  7E          	ld	a, (hl)
3344  0F17  B1          	or	a,c
3345  0F18  20 09       	jr	NZ,l_game_joystick_change_00107
3346  0F1A  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3347  0F1E  03          	inc	bc
3348  0F1F  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3349  0F23              l_game_joystick_change_00107:
3350  0F23  ED 4B 00 00 	ld	bc,(_player_joy)
3351  0F27  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3352  0F2B  79          	ld	a, c
3353  0F2C  93          	sub	a, e
3354  0F2D  20 18       	jr	NZ,l_game_joystick_change_00114
3355  0F2F  78          	ld	a, b
3356  0F30  92          	sub	a, d
3357  0F31  20 14       	jr	NZ,l_game_joystick_change_00114
3358  0F33  DD 7E FF    	ld	a,(ix-1)
3359  0F36  B7          	or	a, a
3360  0F37  20 08       	jr	NZ,l_game_joystick_change_00110
3361  0F39  21 01 00    	ld	hl,0x0001
3362  0F3C  22 02 00    	ld	(_player_joy + 0x0002),hl
3363  0F3F  18 06       	jr	l_game_joystick_change_00114
3364  0F41              l_game_joystick_change_00110:
3365  0F41  21 00 00    	ld	hl,0x0000
3366  0F44  22 00 00    	ld	(_player_joy), hl
3367  0F47              l_game_joystick_change_00114:
3368  0F47  33          	inc	sp
3369  0F48  DD E1       	pop	ix
3370  0F4A  C9          	ret
3371  0F4B              	SECTION code_compiler
3372  0F4B              ;	---------------------------------
3373  0F4B              ; Function game_joystick_set_menu
3374  0F4B              ; ---------------------------------
3375  0F4B              _game_joystick_set_menu:
3376  0F4B  21 00 00    	ld	hl,_in_stick_sinclair1
3377  0F4E  22 00 00    	ld	(_joyfunc1),hl
3378  0F51  21 00 00    	ld	hl,_in_stick_sinclair2
3379  0F54  22 00 00    	ld	(_joyfunc2),hl
3380  0F57  C9          	ret
3381  0F58              	SECTION code_compiler
3382  0F58              ;	---------------------------------
3383  0F58              ; Function game_joystick_set
3384  0F58              ; ---------------------------------
3385  0F58              _game_joystick_set:
3386  0F58  01 00 00    	ld	bc,_control_method+0
3387  0F5B  2A 00 00    	ld	hl,(_player_joy)
3388  0F5E  29          	add	hl, hl
3389  0F5F  09          	add	hl,bc
3390  0F60  11 00 00    	ld	de,_joyfunc1
3391  0F63  ED A0       	ldi
3392  0F65  03          	inc	bc
3393  0F66  7E          	ld	a,(hl)
3394  0F67  12          	ld	(de),a
3395  0F68  2A 02 00    	ld	hl, (_player_joy + 2)
3396  0F6B  29          	add	hl, hl
3397  0F6C  09          	add	hl,bc
3398  0F6D  11 00 00    	ld	de,_joyfunc2
3399  0F70  ED A0       	ldi
3400  0F72  7E          	ld	a,(hl)
3401  0F73  12          	ld	(de),a
3402  0F74  C9          	ret
3403  0F75              	SECTION code_compiler
3404  0F75              ;	---------------------------------
3405  0F75              ; Function game_menu
3406  0F75              ; ---------------------------------
3407  0F75              _game_menu:
3408  0F75  21 00 00    	ld	hl,_game_menu_sel
3409  0F78  36 00       	ld	(hl),0x00
3410  0F7A  CD D6 0F    	call	_game_menu_top_paint
3411  0F7D  CD 4A 10    	call	_game_menu_paint
3412  0F80  CD 00 00    	call	_ay_reset
3413  0F83  21 00 00    	ld	hl,_pb_midi_title
3414  0F86  CD 00 00    	call	_ay_midi_play
3415  0F89              l_game_menu_00101:
3416  0F89  21 00 00    	ld	hl,_k1
3417  0F8C  E5          	push	hl
3418  0F8D  2A 00 00    	ld	hl,(_joyfunc1)
3419  0F90  CD 00 00    	call	___sdcc_call_hl
3420  0F93  F1          	pop	af
3421  0F94  7C          	ld	a,h
3422  0F95  B5          	or	a,l
3423  0F96  20 F1       	jr	NZ,l_game_menu_00101
3424  0F98  21 E8 03    	ld	hl,0x03e8
3425  0F9B  E5          	push	hl
3426  0F9C  21 0E 12    	ld	hl,0x120e
3427  0F9F  E5          	push	hl
3428  0FA0  21 0C 02    	ld	hl,0x020c
3429  0FA3  E5          	push	hl
3430  0FA4  CD 7D 11    	call	_game_menu_handle
3431  0FA7  F1          	pop	af
3432  0FA8  F1          	pop	af
3433  0FA9  F1          	pop	af
3434  0FAA  7D          	ld	a,l
3435  0FAB  32 00 00    	ld	(_tmp_uc),a
3436  0FAE  B7          	or	a,a
3437  0FAF  28 0C       	jr	Z,l_game_menu_00104
3438  0FB1  3D          	dec	a
3439  0FB2  28 13       	jr	Z,l_game_menu_00105
3440  0FB4  3A 00 00    	ld	a,(_tmp_uc)
3441  0FB7  D6 02       	sub	a,0x02
3442  0FB9  28 16       	jr	Z,l_game_menu_00106
3443  0FBB  18 CC       	jr	l_game_menu_00101
3444  0FBD              l_game_menu_00104:
3445  0FBD  21 00 00    	ld	hl,_game_two_player
3446  0FC0  36 00       	ld	(hl),0x00
3447  0FC2  CD 34 03    	call	_game_loop
3448  0FC5  18 C2       	jr	l_game_menu_00101
3449  0FC7              l_game_menu_00105:
3450  0FC7  21 00 00    	ld	hl,_game_two_player
3451  0FCA  36 01       	ld	(hl),0x01
3452  0FCC  CD 34 03    	call	_game_loop
3453  0FCF  18 B8       	jr	l_game_menu_00101
3454  0FD1              l_game_menu_00106:
3455  0FD1  CD 5D 0D    	call	_game_menu_config
3456  0FD4  18 B3       	jr	l_game_menu_00101
3457  0FD6              	SECTION code_compiler
3458  0FD6              ;	---------------------------------
3459  0FD6              ; Function game_menu_top_paint
3460  0FD6              ; ---------------------------------
3461  0FD6              _game_menu_top_paint:
3462  0FD6  CD 00 00    	call	_spr_draw_clear
3463  0FD9  2E 00       	ld	l,0x00
3464  0FDB  CD EB 0C    	call	_game_paint_attrib
3465  0FDE  21 9C 01    	ld	hl,0x019c
3466  0FE1  E5          	push	hl
3467  0FE2  21 00 1E    	ld	hl,0x1e00
3468  0FE5  E5          	push	hl
3469  0FE6  3E 10       	ld	a,0x10
3470  0FE8  F5          	push	af
3471  0FE9  33          	inc	sp
3472  0FEA  CD CA 10    	call	_game_menu_e
3473  0FED  F1          	pop	af
3474  0FEE  33          	inc	sp
3475  0FEF  21 9F FF    	ld	hl,0xff9f
3476  0FF2  E3          	ex	(sp),hl
3477  0FF3  21 00 1E    	ld	hl,0x1e00
3478  0FF6  E5          	push	hl
3479  0FF7  3E 50       	ld	a,0x50
3480  0FF9  F5          	push	af
3481  0FFA  33          	inc	sp
3482  0FFB  CD CA 10    	call	_game_menu_e
3483  0FFE  F1          	pop	af
3484  0FFF  F1          	pop	af
3485  1000  33          	inc	sp
3486  1001  21 00 00    	ld	hl,_tmp
3487  1004  36 18       	ld	(hl),0x18
3488  1006  F3          	di
3489  1007  21 00 00    	ld	hl,_tmp_uc
3490  100A  36 00       	ld	(hl),0x00
3491  100C              l_game_menu_top_paint_00102:
3492  100C  3A 00 00    	ld	a,(_tmp_uc)
3493  100F  87          	add	a, a
3494  1010  C6 05       	add	a,0x05
3495  1012  47          	ld	b, a
3496  1013  3A 00 00    	ld	a,(_tmp)
3497  1016  C6 10       	add	a,0x10
3498  1018  57          	ld	d, a
3499  1019  3A 00 00    	ld	a,(_tmp_uc)
3500  101C  C6 C0       	add	a,0xc0
3501  101E  4A          	ld	c, d
3502  101F  C5          	push	bc
3503  1020  F5          	push	af
3504  1021  33          	inc	sp
3505  1022  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3506  1025  3A 00 00    	ld	a,(_tmp_uc)
3507  1028  87          	add	a, a
3508  1029  C6 05       	add	a,0x05
3509  102B  47          	ld	b, a
3510  102C  3A 00 00    	ld	a,(_tmp)
3511  102F  C6 20       	add	a,0x20
3512  1031  57          	ld	d, a
3513  1032  3A 00 00    	ld	a,(_tmp_uc)
3514  1035  C6 CC       	add	a,0xcc
3515  1037  4A          	ld	c, d
3516  1038  C5          	push	bc
3517  1039  F5          	push	af
3518  103A  33          	inc	sp
3519  103B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3520  103E  21 00 00    	ld	hl,_tmp_uc
3521  1041  7E          	ld	a,(hl)
3522  1042  3C          	inc	a
3523  1043  77          	ld	(hl),a
3524  1044  D6 0A       	sub	a,0x0a
3525  1046  38 C4       	jr	C,l_game_menu_top_paint_00102
3526  1048  FB          	ei
3527  1049  C9          	ret
3528  104A              	SECTION code_compiler
3529  104A              ;	---------------------------------
3530  104A              ; Function game_menu_paint
3531  104A              ; ---------------------------------
3532  104A              _game_menu_paint:
3533  104A  76          	halt
3534  104B  3A 00 00    	ld	a,(_tmp)
3535  104E  C6 28       	add	a,0x28
3536  1050  4F          	ld	c, a
3537  1051  06 1A       	ld	b,0x1a
3538  1053  C5          	push	bc
3539  1054  3E 12       	ld	a,0x12
3540  1056  F5          	push	af
3541  1057  33          	inc	sp
3542  1058  CD 00 00    	call	_NIRVANAP_fillC_callee
3543  105B  21 00 20    	ld	hl,0x2000
3544  105E  E5          	push	hl
3545  105F  CD 00 00    	call	_game_fill_row
3546  1062  21 00 20    	ld	hl,0x2000
3547  1065  E5          	push	hl
3548  1066  CD 00 00    	call	_game_fill_row
3549  1069  21 F7 00    	ld	hl,___str_34
3550  106C  E5          	push	hl
3551  106D  21 0E 0A    	ld	hl,0x0a0e
3552  1070  E5          	push	hl
3553  1071  CD 00 00    	call	_zx_print_str
3554  1074  21 0F 20    	ld	hl,0x200f
3555  1077  E5          	push	hl
3556  1078  CD 00 00    	call	_game_fill_row
3557  107B  21 05 01    	ld	hl,___str_35
3558  107E  E5          	push	hl
3559  107F  21 10 0A    	ld	hl,0x0a10
3560  1082  E5          	push	hl
3561  1083  CD 00 00    	call	_zx_print_str
3562  1086  21 11 20    	ld	hl,0x2011
3563  1089  E5          	push	hl
3564  108A  CD 00 00    	call	_game_fill_row
3565  108D  21 13 01    	ld	hl,___str_36
3566  1090  E5          	push	hl
3567  1091  21 12 0A    	ld	hl,0x0a12
3568  1094  E5          	push	hl
3569  1095  CD 00 00    	call	_zx_print_str
3570  1098  21 13 20    	ld	hl,0x2013
3571  109B  E5          	push	hl
3572  109C  CD 00 00    	call	_game_fill_row
3573  109F  21 00 00    	ld	hl,_screen_ink
3574  10A2  36 07       	ld	(hl),0x07
3575  10A4  21 21 01    	ld	hl,___str_37
3576  10A7  E5          	push	hl
3577  10A8  21 15 07    	ld	hl,0x0715
3578  10AB  E5          	push	hl
3579  10AC  CD 00 00    	call	_zx_print_str
3580  10AF  21 00 00    	ld	hl,_screen_ink
3581  10B2  36 01       	ld	(hl),0x01
3582  10B4  21 35 01    	ld	hl,___str_38
3583  10B7  E5          	push	hl
3584  10B8  21 17 03    	ld	hl,0x0317
3585  10BB  E5          	push	hl
3586  10BC  CD 00 00    	call	_zx_print_str
3587  10BF  21 00 00    	ld	hl,_tmp_uc
3588  10C2  36 00       	ld	(hl),0x00
3589  10C4  2E 0B       	ld	l,0x0b
3590  10C6  CD EB 0C    	call	_game_paint_attrib
3591  10C9  C9          	ret
3592  10CA              	SECTION rodata_compiler
3593  00F7              ___str_34:
3594  00F7  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3595  0104  00          	DEFB 0x00
3596  0105              	SECTION rodata_compiler
3597  0105              ___str_35:
3598  0105  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3599  0112  00          	DEFB 0x00
3600  0113              	SECTION rodata_compiler
3601  0113              ___str_36:
3602  0113  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3603  0120  00          	DEFB 0x00
3604  0121              	SECTION rodata_compiler
3605  0121              ___str_37:
3606  0121  53 45 4C 45 43 54 3A 36 37 38 39 20 53 54 41 52 54 3A 30 
                        	DEFM "SELECT:6789 START:0"
3607  0134  00          	DEFB 0x00
3608  0135              	SECTION rodata_compiler
3609  0135              ___str_38:
3610  0135  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 20 56 45 52 20 31 2E 39 
                        	DEFM "CODED BY CGONZALEZ VER 1.9"
3611  014F  00          	DEFB 0x00
3612  0150              	SECTION code_compiler
3613  10CA              ;	---------------------------------
3614  10CA              ; Function game_menu_e
3615  10CA              ; ---------------------------------
3616  10CA              _game_menu_e:
3617  10CA  CD 00 00    	call	___sdcc_enter_ix
3618  10CD  F3          	di
3619  10CE  DD 4E 05    	ld	c,(ix+5)
3620  10D1  21 00 00    	ld	hl,_tmp_uc
3621  10D4  71          	ld	(hl), c
3622  10D5  DD 46 07    	ld	b,(ix+7)
3623  10D8  04          	inc	b
3624  10D9  DD 56 07    	ld	d,(ix+7)
3625  10DC  14          	inc	d
3626  10DD  14          	inc	d
3627  10DE              l_game_menu_e_00114:
3628  10DE  DD 7E 06    	ld	a,(ix+6)
3629  10E1  21 00 00    	ld	hl,_tmp_uc
3630  10E4  96          	sub	a, (hl)
3631  10E5  38 56       	jr	C,l_game_menu_e_00109
3632  10E7  7E          	ld	a, (hl)
3633  10E8  91          	sub	a, c
3634  10E9  20 15       	jr	NZ,l_game_menu_e_00102
3635  10EB  3A 00 00    	ld	a,(_tmp_uc)
3636  10EE  C5          	push	bc
3637  10EF  D5          	push	de
3638  10F0  F5          	push	af
3639  10F1  33          	inc	sp
3640  10F2  DD 66 04    	ld	h,(ix+4)
3641  10F5  DD 6E 07    	ld	l,(ix+7)
3642  10F8  E5          	push	hl
3643  10F9  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3644  10FC  D1          	pop	de
3645  10FD  C1          	pop	bc
3646  10FE  18 36       	jr	l_game_menu_e_00108
3647  1100              l_game_menu_e_00102:
3648  1100  3A 00 00    	ld	a,(_tmp_uc)
3649  1103  DD 96 06    	sub	a,(ix+6)
3650  1106  20 14       	jr	NZ,l_game_menu_e_00104
3651  1108  3A 00 00    	ld	a,(_tmp_uc)
3652  110B  C5          	push	bc
3653  110C  D5          	push	de
3654  110D  F5          	push	af
3655  110E  33          	inc	sp
3656  110F  DD 7E 04    	ld	a,(ix+4)
3657  1112  5A          	ld	e,d
3658  1113  57          	ld	d,a
3659  1114  D5          	push	de
3660  1115  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3661  1118  D1          	pop	de
3662  1119  C1          	pop	bc
3663  111A  18 1A       	jr	l_game_menu_e_00108
3664  111C              l_game_menu_e_00104:
3665  111C  3A 00 00    	ld	a,(_tmp_uc)
3666  111F  FE 0E       	cp	a,0x0e
3667  1121  28 13       	jr	Z,l_game_menu_e_00108
3668  1123  FE 10       	cp	a,0x10
3669  1125  28 0F       	jr	Z,l_game_menu_e_00108
3670  1127  C5          	push	bc
3671  1128  D5          	push	de
3672  1129  F5          	push	af
3673  112A  33          	inc	sp
3674  112B  DD 7E 04    	ld	a,(ix+4)
3675  112E  48          	ld	c,b
3676  112F  47          	ld	b,a
3677  1130  C5          	push	bc
3678  1131  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3679  1134  D1          	pop	de
3680  1135  C1          	pop	bc
3681  1136              l_game_menu_e_00108:
3682  1136  21 00 00    	ld	hl,_tmp_uc
3683  1139  34          	inc	(hl)
3684  113A  34          	inc	(hl)
3685  113B  18 A1       	jr	l_game_menu_e_00114
3686  113D              l_game_menu_e_00109:
3687  113D  DD 7E 08    	ld	a,(ix+8)
3688  1140  3C          	inc	a
3689  1141  20 0A       	jr	NZ,l_game_menu_e_00111
3690  1143  DD 7E 04    	ld	a,(ix+4)
3691  1146  C6 F0       	add	a,0xf0
3692  1148  DD 77 04    	ld	(ix+4),a
3693  114B  18 08       	jr	l_game_menu_e_00112
3694  114D              l_game_menu_e_00111:
3695  114D  DD 7E 04    	ld	a,(ix+4)
3696  1150  C6 10       	add	a,0x10
3697  1152  DD 77 04    	ld	(ix+4),a
3698  1155              l_game_menu_e_00112:
3699  1155  DD 7E 07    	ld	a,(ix+7)
3700  1158  C6 0C       	add	a,0x0c
3701  115A  47          	ld	b, a
3702  115B  79          	ld	a, c
3703  115C  F5          	push	af
3704  115D  33          	inc	sp
3705  115E  DD 7E 04    	ld	a,(ix+4)
3706  1161  48          	ld	c,b
3707  1162  47          	ld	b,a
3708  1163  C5          	push	bc
3709  1164  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3710  1167  DD 7E 07    	ld	a,(ix+7)
3711  116A  C6 0E       	add	a,0x0e
3712  116C  47          	ld	b, a
3713  116D  DD 66 06    	ld	h,(ix+6)
3714  1170  DD 6E 04    	ld	l,(ix+4)
3715  1173  E5          	push	hl
3716  1174  C5          	push	bc
3717  1175  33          	inc	sp
3718  1176  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3719  1179  FB          	ei
3720  117A  DD E1       	pop	ix
3721  117C  C9          	ret
3722  117D              	SECTION code_compiler
3723  117D              ;	---------------------------------
3724  117D              ; Function game_menu_handle
3725  117D              ; ---------------------------------
3726  117D              _game_menu_handle:
3727  117D  CD 00 00    	call	___sdcc_enter_ix
3728  1180  3B          	dec	sp
3729  1181  2A 00 00    	ld	hl,(_curr_time)
3730  1184  22 00 00    	ld	(_entry_time),hl
3731  1187  DD 5E 05    	ld	e,(ix+5)
3732  118A  2A FF FF    	ld	hl,(_game_menu_sel-1)
3733  118D  2E 00       	ld	l,0x00
3734  118F  55          	ld	d, l
3735  1190  06 08       	ld	b,0x08
3736  1192              l_game_menu_handle_00148:
3737  1192  29          	add	hl, hl
3738  1193  30 01       	jr	NC,l_game_menu_handle_00149
3739  1195  19          	add	hl, de
3740  1196              l_game_menu_handle_00149:
3741  1196  10 FA       	djnz	l_game_menu_handle_00148
3742  1198  DD 7E 06    	ld	a,(ix+6)
3743  119B  85          	add	a,l
3744  119C  32 00 00    	ld	(_s_lin1),a
3745  119F  DD 7E 06    	ld	a,(ix+6)
3746  11A2  DD 77 FF    	ld	(ix-1),a
3747  11A5              l_game_menu_handle_00111:
3748  11A5  21 00 00    	ld	hl,_k1
3749  11A8  E5          	push	hl
3750  11A9  2A 00 00    	ld	hl,(_joyfunc1)
3751  11AC  CD 00 00    	call	___sdcc_call_hl
3752  11AF  F1          	pop	af
3753  11B0  7D          	ld	a,l
3754  11B1  32 00 00    	ld	(_dirs),a
3755  11B4  D6 80       	sub	a,0x80
3756  11B6  CA 59 12    	jp	Z,l_game_menu_handle_00113
3757  11B9  21 05 00    	ld	hl,0x0005
3758  11BC  E5          	push	hl
3759  11BD  2A 00 00    	ld	hl,(_frame_time)
3760  11C0  E5          	push	hl
3761  11C1  CD EC 19    	call	_game_check_time
3762  11C4  F1          	pop	af
3763  11C5  F1          	pop	af
3764  11C6  7D          	ld	a, l
3765  11C7  B7          	or	a, a
3766  11C8  28 58       	jr	Z,l_game_menu_handle_00106
3767  11CA  3A 00 00    	ld	a,(_dirs)
3768  11CD  B7          	or	a, a
3769  11CE  28 32       	jr	Z,l_game_menu_handle_00104
3770  11D0  21 00 00    	ld	hl,_ay_effect_03
3771  11D3  CD 00 00    	call	_ay_fx_play
3772  11D6  CD 00 00    	call	_sound_slide
3773  11D9  3A 00 00    	ld	a,(_s_lin1)
3774  11DC  07          	rlca
3775  11DD  07          	rlca
3776  11DE  07          	rlca
3777  11DF  E6 F8       	and	a,0xf8
3778  11E1  C6 08       	add	a,0x08
3779  11E3  F5          	push	af
3780  11E4  33          	inc	sp
3781  11E5  26 14       	ld	h,0x14
3782  11E7  DD 6E 04    	ld	l,(ix+4)
3783  11EA  E5          	push	hl
3784  11EB  CD 0F 0D    	call	_game_paint_attrib_lin
3785  11EE  F1          	pop	af
3786  11EF  33          	inc	sp
3787  11F0  21 00 00    	ld	hl,_s_lin1
3788  11F3  7E          	ld	a, (hl)
3789  11F4  DD 86 05    	add	a,(ix+5)
3790  11F7  77          	ld	(hl), a
3791  11F8  DD 7E 07    	ld	a,(ix+7)
3792  11FB  96          	sub	a, (hl)
3793  11FC  30 04       	jr	NC,l_game_menu_handle_00104
3794  11FE  DD 7E FF    	ld	a,(ix-1)
3795  1201  77          	ld	(hl), a
3796  1202              l_game_menu_handle_00104:
3797  1202  2A 00 00    	ld	hl,(_curr_time)
3798  1205  22 00 00    	ld	(_frame_time),hl
3799  1208  3A 00 00    	ld	a,(_s_lin1)
3800  120B  07          	rlca
3801  120C  07          	rlca
3802  120D  07          	rlca
3803  120E  E6 F8       	and	a,0xf8
3804  1210  C6 08       	add	a,0x08
3805  1212  F5          	push	af
3806  1213  33          	inc	sp
3807  1214  26 14       	ld	h,0x14
3808  1216  DD 6E 04    	ld	l,(ix+4)
3809  1219  E5          	push	hl
3810  121A  CD 36 0D    	call	_game_paint_attrib_lin_h
3811  121D  F1          	pop	af
3812  121E  33          	inc	sp
3813  121F  CD 3E 19    	call	_game_rotate_attrib
3814  1222              l_game_menu_handle_00106:
3815  1222  DD 7E 09    	ld	a,(ix+9)
3816  1225  DD B6 08    	or	a,(ix+8)
3817  1228  CA A5 11    	jp	Z, l_game_menu_handle_00111
3818  122B  DD 6E 08    	ld	l,(ix+8)
3819  122E  DD 66 09    	ld	h,(ix+9)
3820  1231  E5          	push	hl
3821  1232  2A 00 00    	ld	hl,(_entry_time)
3822  1235  E5          	push	hl
3823  1236  CD EC 19    	call	_game_check_time
3824  1239  F1          	pop	af
3825  123A  F1          	pop	af
3826  123B  7D          	ld	a, l
3827  123C  B7          	or	a, a
3828  123D  CA A5 11    	jp	Z, l_game_menu_handle_00111
3829  1240  CD 00 00    	call	_ay_is_playing
3830  1243  7D          	ld	a, l
3831  1244  B7          	or	a, a
3832  1245  C2 A5 11    	jp	NZ, l_game_menu_handle_00111
3833  1248  CD 6D 18    	call	_game_hall_of_fame
3834  124B  21 00 00    	ld	hl,_game_menu_sel
3835  124E  36 00       	ld	(hl),0x00
3836  1250  2E 00       	ld	l,0x00
3837  1252  CD AB 16    	call	_game_menu_back
3838  1255  2E FF       	ld	l,0xff
3839  1257  18 10       	jr	l_game_menu_handle_00114
3840  1259              l_game_menu_handle_00113:
3841  1259  3A 00 00    	ld	a,(_s_lin1)
3842  125C  DD 96 FF    	sub	a,(ix-1)
3843  125F  47          	ld	b, a
3844  1260  DD 7E 05    	ld	a,(ix+5)
3845  1263  48          	ld	c,b
3846  1264  47          	ld	b,a
3847  1265  C5          	push	bc
3848  1266  CD 00 00    	call	__divuchar_callee
3849  1269              l_game_menu_handle_00114:
3850  1269  33          	inc	sp
3851  126A  DD E1       	pop	ix
3852  126C  C9          	ret
3853  126D              	SECTION code_compiler
3854  126D              ;	---------------------------------
3855  126D              ; Function game_end
3856  126D              ; ---------------------------------
3857  126D              _game_end:
3858  126D  CD 00 00    	call	___sdcc_enter_ix
3859  1270  F5          	push	af
3860  1271  F5          	push	af
3861  1272  CD 00 00    	call	_spr_kill_all
3862  1275  CD 00 00    	call	_spr_draw_clear
3863  1278  21 00 00    	ld	hl,_pb_midi_title
3864  127B  CD 00 00    	call	_ay_midi_play
3865  127E  21 00 00    	ld	hl,_tmp1
3866  1281  36 50       	ld	(hl),0x50
3867  1283              l_game_end_00102:
3868  1283  3E 70       	ld	a,0x70
3869  1285  21 00 00    	ld	hl,_tmp1
3870  1288  96          	sub	a, (hl)
3871  1289  38 28       	jr	C,l_game_end_00104
3872  128B  21 00 00    	ld	hl,_tmp0
3873  128E  36 04       	ld	(hl),0x04
3874  1290              l_game_end_00130:
3875  1290  3A 00 00    	ld	a,(_tmp0)
3876  1293  F5          	push	af
3877  1294  33          	inc	sp
3878  1295  3A 00 00    	ld	a,(_tmp1)
3879  1298  57          	ld	d,a
3880  1299  1E 8F       	ld	e,0x8f
3881  129B  D5          	push	de
3882  129C  CD 00 00    	call	_NIRVANAP_drawT_callee
3883  129F  21 00 00    	ld	hl,_tmp0
3884  12A2  7E          	ld	a,(hl)
3885  12A3  C6 02       	add	a,0x02
3886  12A5  77          	ld	(hl),a
3887  12A6  D6 1C       	sub	a,0x1c
3888  12A8  38 E6       	jr	C,l_game_end_00130
3889  12AA  21 00 00    	ld	hl,_tmp1
3890  12AD  7E          	ld	a, (hl)
3891  12AE  C6 10       	add	a,0x10
3892  12B0  77          	ld	(hl), a
3893  12B1  18 D0       	jr	l_game_end_00102
3894  12B3              l_game_end_00104:
3895  12B3  21 50 18    	ld	hl,0x1850
3896  12B6  E5          	push	hl
3897  12B7  3E D6       	ld	a,0xd6
3898  12B9  F5          	push	af
3899  12BA  33          	inc	sp
3900  12BB  CD 00 00    	call	_NIRVANAP_drawT_callee
3901  12BE  21 9C 01    	ld	hl,0x019c
3902  12C1  E5          	push	hl
3903  12C2  21 01 1D    	ld	hl,0x1d01
3904  12C5  E5          	push	hl
3905  12C6  3E 20       	ld	a,0x20
3906  12C8  F5          	push	af
3907  12C9  33          	inc	sp
3908  12CA  CD CA 10    	call	_game_menu_e
3909  12CD  F1          	pop	af
3910  12CE  33          	inc	sp
3911  12CF  21 9F FF    	ld	hl,0xff9f
3912  12D2  E3          	ex	(sp),hl
3913  12D3  21 01 1D    	ld	hl,0x1d01
3914  12D6  E5          	push	hl
3915  12D7  3E 80       	ld	a,0x80
3916  12D9  F5          	push	af
3917  12DA  33          	inc	sp
3918  12DB  CD CA 10    	call	_game_menu_e
3919  12DE  F1          	pop	af
3920  12DF  F1          	pop	af
3921  12E0  33          	inc	sp
3922  12E1  3E 00       	ld	a,0x00
3923  12E3  DD 77 FD    	ld	(ix-3),a
3924  12E6  DD 77 FC    	ld	(ix-4),a
3925  12E9  3A 00 00    	ld	a,(_game_two_player)
3926  12EC  B7          	or	a, a
3927  12ED  28 16       	jr	Z,l_game_end_00110
3928  12EF  3A 00 00    	ld	a,(_game_lives)
3929  12F2  B7          	or	a, a
3930  12F3  28 04       	jr	Z,l_game_end_00106
3931  12F5  DD 36 FD 01 	ld	(ix-3),0x01
3932  12F9              l_game_end_00106:
3933  12F9  3A 01 00    	ld	a, (_game_lives + 1)
3934  12FC  B7          	or	a, a
3935  12FD  28 0A       	jr	Z,l_game_end_00111
3936  12FF  DD 36 FC 01 	ld	(ix-4),0x01
3937  1303  18 04       	jr	l_game_end_00111
3938  1305              l_game_end_00110:
3939  1305  DD 36 FD 01 	ld	(ix-3),0x01
3940  1309              l_game_end_00111:
3941  1309  DD 7E FD    	ld	a,(ix-3)
3942  130C  3D          	dec	a
3943  130D  20 04       	jr	NZ,l_game_end_00210
3944  130F  3E 01       	ld	a,0x01
3945  1311  18 01       	jr	l_game_end_00211
3946  1313              l_game_end_00210:
3947  1313  AF          	xor	a,a
3948  1314              l_game_end_00211:
3949  1314  DD 77 FF    	ld	(ix-1),a
3950  1317  B7          	or	a, a
3951  1318  28 1C       	jr	Z,l_game_end_00113
3952  131A  DD 7E FC    	ld	a,(ix-4)
3953  131D  B7          	or	a, a
3954  131E  20 16       	jr	NZ,l_game_end_00113
3955  1320  21 50 01    	ld	hl,___str_39
3956  1323  E5          	push	hl
3957  1324  21 13 01    	ld	hl,0x0113
3958  1327  E5          	push	hl
3959  1328  CD 00 00    	call	_zx_print_str
3960  132B  21 50 0C    	ld	hl,0x0c50
3961  132E  E5          	push	hl
3962  132F  3E 03       	ld	a,0x03
3963  1331  F5          	push	af
3964  1332  33          	inc	sp
3965  1333  CD 00 00    	call	_NIRVANAP_drawT_callee
3966  1336              l_game_end_00113:
3967  1336  DD 7E FC    	ld	a,(ix-4)
3968  1339  3D          	dec	a
3969  133A  20 04       	jr	NZ,l_game_end_00212
3970  133C  3E 01       	ld	a,0x01
3971  133E  18 01       	jr	l_game_end_00213
3972  1340              l_game_end_00212:
3973  1340  AF          	xor	a,a
3974  1341              l_game_end_00213:
3975  1341  DD 77 FE    	ld	(ix-2),a
3976  1344  DD 7E FD    	ld	a,(ix-3)
3977  1347  B7          	or	a, a
3978  1348  20 1C       	jr	NZ,l_game_end_00116
3979  134A  DD 7E FE    	ld	a,(ix-2)
3980  134D  B7          	or	a, a
3981  134E  28 16       	jr	Z,l_game_end_00116
3982  1350  21 5A 01    	ld	hl,___str_40
3983  1353  E5          	push	hl
3984  1354  21 13 01    	ld	hl,0x0113
3985  1357  E5          	push	hl
3986  1358  CD 00 00    	call	_zx_print_str
3987  135B  21 60 0E    	ld	hl,0x0e60
3988  135E  E5          	push	hl
3989  135F  3E 1B       	ld	a,0x1b
3990  1361  F5          	push	af
3991  1362  33          	inc	sp
3992  1363  CD 00 00    	call	_NIRVANAP_drawT_callee
3993  1366              l_game_end_00116:
3994  1366  DD 7E FF    	ld	a,(ix-1)
3995  1369  B7          	or	a, a
3996  136A  28 27       	jr	Z,l_game_end_00119
3997  136C  DD 7E FE    	ld	a,(ix-2)
3998  136F  B7          	or	a, a
3999  1370  28 21       	jr	Z,l_game_end_00119
4000  1372  21 63 01    	ld	hl,___str_41
4001  1375  E5          	push	hl
4002  1376  21 13 01    	ld	hl,0x0113
4003  1379  E5          	push	hl
4004  137A  CD 00 00    	call	_zx_print_str
4005  137D  21 50 0C    	ld	hl,0x0c50
4006  1380  E5          	push	hl
4007  1381  3E 03       	ld	a,0x03
4008  1383  F5          	push	af
4009  1384  33          	inc	sp
4010  1385  CD 00 00    	call	_NIRVANAP_drawT_callee
4011  1388  21 60 0E    	ld	hl,0x0e60
4012  138B  E5          	push	hl
4013  138C  3E 1B       	ld	a,0x1b
4014  138E  F5          	push	af
4015  138F  33          	inc	sp
4016  1390  CD 00 00    	call	_NIRVANAP_drawT_callee
4017  1393              l_game_end_00119:
4018  1393  21 C8 00    	ld	hl,0x00c8
4019  1396  E5          	push	hl
4020  1397  21 01 1F    	ld	hl,0x1f01
4021  139A  E5          	push	hl
4022  139B  3E 13       	ld	a,0x13
4023  139D  F5          	push	af
4024  139E  33          	inc	sp
4025  139F  CD 5A 19    	call	_game_colour_message
4026  13A2  F1          	pop	af
4027  13A3  F1          	pop	af
4028  13A4  33          	inc	sp
4029  13A5  DD 7E FF    	ld	a,(ix-1)
4030  13A8  B7          	or	a, a
4031  13A9  28 32       	jr	Z,l_game_end_00122
4032  13AB  DD 7E FC    	ld	a,(ix-4)
4033  13AE  B7          	or	a, a
4034  13AF  20 2C       	jr	NZ,l_game_end_00122
4035  13B1  21 40 12    	ld	hl,0x1240
4036  13B4  E5          	push	hl
4037  13B5  3E CB       	ld	a,0xcb
4038  13B7  F5          	push	af
4039  13B8  33          	inc	sp
4040  13B9  CD 00 00    	call	_NIRVANAP_drawT_callee
4041  13BC  21 50 12    	ld	hl,0x1250
4042  13BF  E5          	push	hl
4043  13C0  3E CA       	ld	a,0xca
4044  13C2  F5          	push	af
4045  13C3  33          	inc	sp
4046  13C4  CD 00 00    	call	_NIRVANAP_drawT_callee
4047  13C7  21 77 01    	ld	hl,___str_42
4048  13CA  E5          	push	hl
4049  13CB  21 13 01    	ld	hl,0x0113
4050  13CE  E5          	push	hl
4051  13CF  CD 00 00    	call	_zx_print_str
4052  13D2  21 40 0C    	ld	hl,0x0c40
4053  13D5  E5          	push	hl
4054  13D6  3E CB       	ld	a,0xcb
4055  13D8  F5          	push	af
4056  13D9  33          	inc	sp
4057  13DA  CD 00 00    	call	_NIRVANAP_drawT_callee
4058  13DD              l_game_end_00122:
4059  13DD  DD 7E FD    	ld	a,(ix-3)
4060  13E0  B7          	or	a, a
4061  13E1  20 32       	jr	NZ,l_game_end_00125
4062  13E3  DD 7E FE    	ld	a,(ix-2)
4063  13E6  B7          	or	a, a
4064  13E7  28 2C       	jr	Z,l_game_end_00125
4065  13E9  21 50 12    	ld	hl,0x1250
4066  13EC  E5          	push	hl
4067  13ED  3E CB       	ld	a,0xcb
4068  13EF  F5          	push	af
4069  13F0  33          	inc	sp
4070  13F1  CD 00 00    	call	_NIRVANAP_drawT_callee
4071  13F4  21 60 12    	ld	hl,0x1260
4072  13F7  E5          	push	hl
4073  13F8  3E CA       	ld	a,0xca
4074  13FA  F5          	push	af
4075  13FB  33          	inc	sp
4076  13FC  CD 00 00    	call	_NIRVANAP_drawT_callee
4077  13FF  21 77 01    	ld	hl,___str_42
4078  1402  E5          	push	hl
4079  1403  21 13 01    	ld	hl,0x0113
4080  1406  E5          	push	hl
4081  1407  CD 00 00    	call	_zx_print_str
4082  140A  21 50 0E    	ld	hl,0x0e50
4083  140D  E5          	push	hl
4084  140E  3E CB       	ld	a,0xcb
4085  1410  F5          	push	af
4086  1411  33          	inc	sp
4087  1412  CD 00 00    	call	_NIRVANAP_drawT_callee
4088  1415              l_game_end_00125:
4089  1415  DD 7E FF    	ld	a,(ix-1)
4090  1418  B7          	or	a, a
4091  1419  28 53       	jr	Z,l_game_end_00128
4092  141B  DD 7E FE    	ld	a,(ix-2)
4093  141E  B7          	or	a, a
4094  141F  28 4D       	jr	Z,l_game_end_00128
4095  1421  21 8B 01    	ld	hl,___str_43
4096  1424  E5          	push	hl
4097  1425  21 13 01    	ld	hl,0x0113
4098  1428  E5          	push	hl
4099  1429  CD 00 00    	call	_zx_print_str
4100  142C  21 40 12    	ld	hl,0x1240
4101  142F  E5          	push	hl
4102  1430  3E CB       	ld	a,0xcb
4103  1432  F5          	push	af
4104  1433  33          	inc	sp
4105  1434  CD 00 00    	call	_NIRVANAP_drawT_callee
4106  1437  21 50 12    	ld	hl,0x1250
4107  143A  E5          	push	hl
4108  143B  3E CA       	ld	a,0xca
4109  143D  F5          	push	af
4110  143E  33          	inc	sp
4111  143F  CD 00 00    	call	_NIRVANAP_drawT_callee
4112  1442  21 50 10    	ld	hl,0x1050
4113  1445  E5          	push	hl
4114  1446  3E CB       	ld	a,0xcb
4115  1448  F5          	push	af
4116  1449  33          	inc	sp
4117  144A  CD 00 00    	call	_NIRVANAP_drawT_callee
4118  144D  21 60 10    	ld	hl,0x1060
4119  1450  E5          	push	hl
4120  1451  3E CA       	ld	a,0xca
4121  1453  F5          	push	af
4122  1454  33          	inc	sp
4123  1455  CD 00 00    	call	_NIRVANAP_drawT_callee
4124  1458  21 40 0C    	ld	hl,0x0c40
4125  145B  E5          	push	hl
4126  145C  3E CB       	ld	a,0xcb
4127  145E  F5          	push	af
4128  145F  33          	inc	sp
4129  1460  CD 00 00    	call	_NIRVANAP_drawT_callee
4130  1463  21 50 0E    	ld	hl,0x0e50
4131  1466  E5          	push	hl
4132  1467  3E CB       	ld	a,0xcb
4133  1469  F5          	push	af
4134  146A  33          	inc	sp
4135  146B  CD 00 00    	call	_NIRVANAP_drawT_callee
4136  146E              l_game_end_00128:
4137  146E  21 C8 00    	ld	hl,0x00c8
4138  1471  E5          	push	hl
4139  1472  21 01 1F    	ld	hl,0x1f01
4140  1475  E5          	push	hl
4141  1476  3E 13       	ld	a,0x13
4142  1478  F5          	push	af
4143  1479  33          	inc	sp
4144  147A  CD 5A 19    	call	_game_colour_message
4145  147D  F1          	pop	af
4146  147E  33          	inc	sp
4147  147F  21 A1 01    	ld	hl,___str_44
4148  1482  E3          	ex	(sp),hl
4149  1483  21 13 01    	ld	hl,0x0113
4150  1486  E5          	push	hl
4151  1487  CD 00 00    	call	_zx_print_str
4152  148A  21 C8 00    	ld	hl,0x00c8
4153  148D  E5          	push	hl
4154  148E  21 01 1F    	ld	hl,0x1f01
4155  1491  E5          	push	hl
4156  1492  3E 13       	ld	a,0x13
4157  1494  F5          	push	af
4158  1495  33          	inc	sp
4159  1496  CD 5A 19    	call	_game_colour_message
4160  1499  F1          	pop	af
4161  149A  F1          	pop	af
4162  149B  33          	inc	sp
4163  149C  CD 00 00    	call	_spr_draw_clear
4164  149F  DD F9       	ld	sp, ix
4165  14A1  DD E1       	pop	ix
4166  14A3  C9          	ret
4167  14A4              	SECTION rodata_compiler
4168  0150              ___str_39:
4169  0150  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4170  0159  00          	DEFB 0x00
4171  015A              	SECTION rodata_compiler
4172  015A              ___str_40:
4173  015A  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4174  0162  00          	DEFB 0x00
4175  0163              	SECTION rodata_compiler
4176  0163              ___str_41:
4177  0163  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4178  0176  00          	DEFB 0x00
4179  0177              	SECTION rodata_compiler
4180  0177              ___str_42:
4181  0177  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4182  018A  00          	DEFB 0x00
4183  018B              	SECTION rodata_compiler
4184  018B              ___str_43:
4185  018B  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4186  01A0  00          	DEFB 0x00
4187  01A1              	SECTION rodata_compiler
4188  01A1              ___str_44:
4189  01A1  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE U!"
4190  01BF  00          	DEFB 0x00
4191  01C0              	SECTION code_compiler
4192  14A4              ;	---------------------------------
4193  14A4              ; Function game_hall_check
4194  14A4              ; ---------------------------------
4195  14A4              _game_hall_check:
4196  14A4  5D          	ld	e, l
4197  14A5  01 00 00    	ld	bc,_player_score+0
4198  14A8  26 00       	ld	h,0x00
4199  14AA  6B          	ld	l, e
4200  14AB  29          	add	hl, hl
4201  14AC  09          	add	hl, bc
4202  14AD  4E          	ld	c, (hl)
4203  14AE  23          	inc	hl
4204  14AF  46          	ld	b, (hl)
4205  14B0  2A 3A 00    	ld	hl,(_hof + 0x003a)
4206  14B3  AF          	xor	a,a
4207  14B4  ED 42       	sbc	hl,bc
4208  14B6  30 09       	jr	NC,l_game_hall_check_00104
4209  14B8  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4210  14BC  21 36 00    	ld	hl, +(_hof + 0x0036)
4211  14BF  18 14       	jr	l_game_hall_check_00106
4212  14C1              l_game_hall_check_00104:
4213  14C1  2A 34 00    	ld	hl,(_hof + 0x0034)
4214  14C4  AF          	xor	a,a
4215  14C5  ED 42       	sbc	hl,bc
4216  14C7  30 09       	jr	NC,l_game_hall_check_00105
4217  14C9  ED 43 34 00 	ld	(_hof + 0x0034),bc
4218  14CD  21 30 00    	ld	hl, +(_hof + 0x0030)
4219  14D0  18 03       	jr	l_game_hall_check_00106
4220  14D2              l_game_hall_check_00105:
4221  14D2  21 00 00    	ld	hl,0x0000
4222  14D5              l_game_hall_check_00106:
4223  14D5  C9          	ret
4224  14D6              	SECTION code_compiler
4225  14D6              ;	---------------------------------
4226  14D6              ; Function compare_scores
4227  14D6              ; ---------------------------------
4228  14D6              _compare_scores:
4229  14D6  CD 00 00    	call	___sdcc_enter_ix
4230  14D9  DD 6E 06    	ld	l,(ix+6)
4231  14DC  DD 66 07    	ld	h,(ix+7)
4232  14DF  11 04 00    	ld	de,0x0004
4233  14E2  19          	add	hl, de
4234  14E3  4E          	ld	c, (hl)
4235  14E4  23          	inc	hl
4236  14E5  46          	ld	b, (hl)
4237  14E6  DD 6E 04    	ld	l,(ix+4)
4238  14E9  DD 66 05    	ld	h,(ix+5)
4239  14EC  11 04 00    	ld	de,0x0004
4240  14EF  19          	add	hl, de
4241  14F0  7E          	ld	a,(hl)
4242  14F1  23          	inc	hl
4243  14F2  56          	ld	d,(hl)
4244  14F3  5F          	ld	e,a
4245  14F4  91          	sub	a, c
4246  14F5  7A          	ld	a, d
4247  14F6  98          	sbc	a, b
4248  14F7  30 05       	jr	NC,l_compare_scores_00102
4249  14F9  21 01 00    	ld	hl,0x0001
4250  14FC  18 10       	jr	l_compare_scores_00105
4251  14FE              l_compare_scores_00102:
4252  14FE  79          	ld	a, c
4253  14FF  93          	sub	a, e
4254  1500  20 09       	jr	NZ,l_compare_scores_00104
4255  1502  78          	ld	a, b
4256  1503  92          	sub	a, d
4257  1504  20 05       	jr	NZ,l_compare_scores_00104
4258  1506  21 00 00    	ld	hl,0x0000
4259  1509  18 03       	jr	l_compare_scores_00105
4260  150B              l_compare_scores_00104:
4261  150B  21 FF FF    	ld	hl,0xffff
4262  150E              l_compare_scores_00105:
4263  150E  DD E1       	pop	ix
4264  1510  C9          	ret
4265  1511              	SECTION code_compiler
4266  1511              ;	---------------------------------
4267  1511              ; Function game_hall_enter
4268  1511              ; ---------------------------------
4269  1511              _game_hall_enter:
4270  1511  CD 00 00    	call	___sdcc_enter_ix
4271  1514  21 F7 FF    	ld	hl, -9
4272  1517  39          	add	hl, sp
4273  1518  F9          	ld	sp, hl
4274  1519  CD 00 00    	call	_spr_draw_clear
4275  151C  2E 00       	ld	l,0x00
4276  151E  CD EB 0C    	call	_game_paint_attrib
4277  1521  ED 4B 00 00 	ld	bc,(_player_score)
4278  1525  2A 02 00    	ld	hl, (_player_score + 2)
4279  1528  AF          	xor	a,a
4280  1529  ED 42       	sbc	hl,bc
4281  152B  30 0F       	jr	NC,l_game_hall_enter_00102
4282  152D  2E 00       	ld	l,0x00
4283  152F  CD A4 14    	call	_game_hall_check
4284  1532  E5          	push	hl
4285  1533  2E 01       	ld	l,0x01
4286  1535  CD A4 14    	call	_game_hall_check
4287  1538  EB          	ex	de,hl
4288  1539  C1          	pop	bc
4289  153A  18 0E       	jr	l_game_hall_enter_00103
4290  153C              l_game_hall_enter_00102:
4291  153C  2E 01       	ld	l,0x01
4292  153E  CD A4 14    	call	_game_hall_check
4293  1541  E5          	push	hl
4294  1542  2E 00       	ld	l,0x00
4295  1544  CD A4 14    	call	_game_hall_check
4296  1547  D1          	pop	de
4297  1548  4D          	ld	c,l
4298  1549  44          	ld	b,h
4299  154A              l_game_hall_enter_00103:
4300  154A  78          	ld	a, b
4301  154B  B1          	or	a,c
4302  154C  20 05       	jr	NZ,l_game_hall_enter_00125
4303  154E  7A          	ld	a, d
4304  154F  B3          	or	a,e
4305  1550  CA 9E 16    	jp	Z, l_game_hall_enter_00126
4306  1553              l_game_hall_enter_00125:
4307  1553  3E 00       	ld	a,0x00
4308  1555  DD 77 FB    	ld	(ix-5),a
4309  1558  DD 77 FA    	ld	(ix-6),a
4310  155B  DD 77 F9    	ld	(ix-7),a
4311  155E  DD 77 F8    	ld	(ix-8),a
4312  1561  DD 36 F7 00 	ld	(ix-9),0x00
4313  1565  78          	ld	a, b
4314  1566  B1          	or	a,c
4315  1567  28 0D       	jr	Z,l_game_hall_enter_00105
4316  1569  DD 36 F8 01 	ld	(ix-8),0x01
4317  156D  C5          	push	bc
4318  156E  D5          	push	de
4319  156F  2E 00       	ld	l,0x00
4320  1571  CD 0F 17    	call	_game_hall_enter_phs
4321  1574  D1          	pop	de
4322  1575  C1          	pop	bc
4323  1576              l_game_hall_enter_00105:
4324  1576  7A          	ld	a, d
4325  1577  B3          	or	a,e
4326  1578  28 0D       	jr	Z,l_game_hall_enter_00107
4327  157A  DD 36 F7 05 	ld	(ix-9),0x05
4328  157E  C5          	push	bc
4329  157F  D5          	push	de
4330  1580  2E 01       	ld	l,0x01
4331  1582  CD 0F 17    	call	_game_hall_enter_phs
4332  1585  D1          	pop	de
4333  1586  C1          	pop	bc
4334  1587              l_game_hall_enter_00107:
4335  1587  C5          	push	bc
4336  1588  D5          	push	de
4337  1589  21 C0 01    	ld	hl,___str_45
4338  158C  E5          	push	hl
4339  158D  21 02 0A    	ld	hl,0x0a02
4340  1590  E5          	push	hl
4341  1591  CD 00 00    	call	_zx_print_str
4342  1594  21 CD 01    	ld	hl,___str_46
4343  1597  E5          	push	hl
4344  1598  21 12 06    	ld	hl,0x0612
4345  159B  E5          	push	hl
4346  159C  CD 00 00    	call	_zx_print_str
4347  159F  21 E0 01    	ld	hl,___str_47
4348  15A2  E5          	push	hl
4349  15A3  21 13 06    	ld	hl,0x0613
4350  15A6  E5          	push	hl
4351  15A7  CD 00 00    	call	_zx_print_str
4352  15AA  D1          	pop	de
4353  15AB  C1          	pop	bc
4354  15AC  DD 71 FE    	ld	(ix-2),c
4355  15AF  DD 70 FF    	ld	(ix-1),b
4356  15B2  DD 73 FC    	ld	(ix-4),e
4357  15B5  DD 72 FD    	ld	(ix-3),d
4358  15B8              l_game_hall_enter_00122:
4359  15B8  DD 7E F8    	ld	a,(ix-8)
4360  15BB  DD 86 F7    	add	a,(ix-9)
4361  15BE  B7          	or	a, a
4362  15BF  CA 86 16    	jp	Z, l_game_hall_enter_00124
4363  15C2  21 05 00    	ld	hl,0x0005
4364  15C5  E5          	push	hl
4365  15C6  2A 00 00    	ld	hl,(_frame_time)
4366  15C9  E5          	push	hl
4367  15CA  CD EC 19    	call	_game_check_time
4368  15CD  F1          	pop	af
4369  15CE  F1          	pop	af
4370  15CF  7D          	ld	a, l
4371  15D0  B7          	or	a, a
4372  15D1  28 36       	jr	Z,l_game_hall_enter_00113
4373  15D3  DD 7E F9    	ld	a,(ix-7)
4374  15D6  D6 01       	sub	a,0x01
4375  15D8  3E 00       	ld	a,0x00
4376  15DA  17          	rla
4377  15DB  DD 77 F9    	ld	(ix-7),a
4378  15DE  DD 7E F8    	ld	a,(ix-8)
4379  15E1  B7          	or	a, a
4380  15E2  28 0B       	jr	Z,l_game_hall_enter_00109
4381  15E4  DD 66 F9    	ld	h,(ix-7)
4382  15E7  DD 6E F8    	ld	l,(ix-8)
4383  15EA  E5          	push	hl
4384  15EB  CD 87 17    	call	_game_hall_print_p
4385  15EE  F1          	pop	af
4386  15EF              l_game_hall_enter_00109:
4387  15EF  DD 7E F7    	ld	a,(ix-9)
4388  15F2  B7          	or	a, a
4389  15F3  28 0B       	jr	Z,l_game_hall_enter_00111
4390  15F5  DD 66 F9    	ld	h,(ix-7)
4391  15F8  DD 6E F7    	ld	l,(ix-9)
4392  15FB  E5          	push	hl
4393  15FC  CD 87 17    	call	_game_hall_print_p
4394  15FF  F1          	pop	af
4395  1600              l_game_hall_enter_00111:
4396  1600  CD 3E 19    	call	_game_rotate_attrib
4397  1603  2A 00 00    	ld	hl,(_curr_time)
4398  1606  22 00 00    	ld	(_frame_time),hl
4399  1609              l_game_hall_enter_00113:
4400  1609  21 00 00    	ld	hl,_k1
4401  160C  E5          	push	hl
4402  160D  2A 00 00    	ld	hl,(_joyfunc1)
4403  1610  CD 00 00    	call	___sdcc_call_hl
4404  1613  F1          	pop	af
4405  1614  7D          	ld	a,l
4406  1615  32 00 00    	ld	(_dirs),a
4407  1618  DD 7E FB    	ld	a,(ix-5)
4408  161B  B7          	or	a, a
4409  161C  20 22       	jr	NZ,l_game_hall_enter_00115
4410  161E  DD 7E F8    	ld	a,(ix-8)
4411  1621  B7          	or	a, a
4412  1622  28 1C       	jr	Z,l_game_hall_enter_00115
4413  1624  DD 6E F8    	ld	l,(ix-8)
4414  1627  CD B6 17    	call	_game_hall_edit_p
4415  162A  DD 75 F8    	ld	(ix-8),l
4416  162D  7D          	ld	a,l
4417  162E  B7          	or	a, a
4418  162F  20 0F       	jr	NZ,l_game_hall_enter_00115
4419  1631  DD 5E FE    	ld	e,(ix-2)
4420  1634  DD 56 FF    	ld	d,(ix-1)
4421  1637  AF          	xor	a,a
4422  1638  21 00 00    	ld	hl,_initials
4423  163B              l_game_hall_enter_00190:
4424  163B  BE          	cp	a, (hl)
4425  163C  ED A0       	ldi
4426  163E  20 FB       	jr	NZ, l_game_hall_enter_00190
4427  1640              l_game_hall_enter_00115:
4428  1640  3A 00 00    	ld	a,(_dirs)
4429  1643  DD 77 FB    	ld	(ix-5),a
4430  1646  21 00 00    	ld	hl,_k2
4431  1649  E5          	push	hl
4432  164A  2A 00 00    	ld	hl,(_joyfunc2)
4433  164D  CD 00 00    	call	___sdcc_call_hl
4434  1650  F1          	pop	af
4435  1651  7D          	ld	a,l
4436  1652  32 00 00    	ld	(_dirs),a
4437  1655  DD 7E FA    	ld	a,(ix-6)
4438  1658  B7          	or	a, a
4439  1659  20 22       	jr	NZ,l_game_hall_enter_00119
4440  165B  DD 7E F7    	ld	a,(ix-9)
4441  165E  B7          	or	a, a
4442  165F  28 1C       	jr	Z,l_game_hall_enter_00119
4443  1661  DD 6E F7    	ld	l,(ix-9)
4444  1664  CD B6 17    	call	_game_hall_edit_p
4445  1667  DD 75 F7    	ld	(ix-9),l
4446  166A  7D          	ld	a,l
4447  166B  B7          	or	a, a
4448  166C  20 0F       	jr	NZ,l_game_hall_enter_00119
4449  166E  DD 5E FC    	ld	e,(ix-4)
4450  1671  DD 56 FD    	ld	d,(ix-3)
4451  1674  AF          	xor	a,a
4452  1675  21 04 00    	ld	hl,+(_initials + 0x0004)
4453  1678              l_game_hall_enter_00191:
4454  1678  BE          	cp	a, (hl)
4455  1679  ED A0       	ldi
4456  167B  20 FB       	jr	NZ, l_game_hall_enter_00191
4457  167D              l_game_hall_enter_00119:
4458  167D  3A 00 00    	ld	a,(_dirs)
4459  1680  DD 77 FA    	ld	(ix-6),a
4460  1683  C3 B8 15    	jp	l_game_hall_enter_00122
4461  1686              l_game_hall_enter_00124:
4462  1686  CD 00 00    	call	_ay_reset
4463  1689  CD 00 00    	call	_spr_draw_clear
4464  168C  01 D6 14    	ld	bc,_compare_scores
4465  168F  C5          	push	bc
4466  1690  21 06 00    	ld	hl,0x0006
4467  1693  E5          	push	hl
4468  1694  2E 0A       	ld	l,0x0a
4469  1696  E5          	push	hl
4470  1697  21 00 00    	ld	hl,_hof
4471  169A  E5          	push	hl
4472  169B  CD 00 00    	call	__insertion_sort__callee
4473  169E              l_game_hall_enter_00126:
4474  169E  CD 6D 18    	call	_game_hall_of_fame
4475  16A1  2E 00       	ld	l,0x00
4476  16A3  CD AB 16    	call	_game_menu_back
4477  16A6  DD F9       	ld	sp, ix
4478  16A8  DD E1       	pop	ix
4479  16AA  C9          	ret
4480  16AB              	SECTION rodata_compiler
4481  01C0              ___str_45:
4482  01C0  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4483  01CC  00          	DEFB 0x00
4484  01CD              	SECTION rodata_compiler
4485  01CD              ___str_46:
4486  01CD  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4487  01DF  00          	DEFB 0x00
4488  01E0              	SECTION rodata_compiler
4489  01E0              ___str_47:
4490  01E0  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4491  01F3  00          	DEFB 0x00
4492  01F4              	SECTION code_compiler
4493  16AB              ;	---------------------------------
4494  16AB              ; Function game_menu_back
4495  16AB              ; ---------------------------------
4496  16AB              _game_menu_back:
4497  16AB  7D          	ld	a,l
4498  16AC  32 00 00    	ld	(_s_lin1),a
4499  16AF  21 00 00    	ld	hl,_game_menu_sel
4500  16B2  36 00       	ld	(hl),0x00
4501  16B4  CD D6 0F    	call	_game_menu_top_paint
4502  16B7  CD 4A 10    	call	_game_menu_paint
4503  16BA  2A 00 00    	ld	hl,(_curr_time)
4504  16BD  22 00 00    	ld	(_entry_time),hl
4505  16C0  C9          	ret
4506  16C1              	SECTION code_compiler
4507  16C1              ;	---------------------------------
4508  16C1              ; Function game_hall_enter_prt
4509  16C1              ; ---------------------------------
4510  16C1              _game_hall_enter_prt:
4511  16C1  7D          	ld	a,l
4512  16C2  C6 06       	add	a,0x06
4513  16C4  4D          	ld	c,l
4514  16C5  57          	ld	d, a
4515  16C6  79          	ld	a, c
4516  16C7  C6 FC       	add	a,0xfc
4517  16C9  47          	ld	b, a
4518  16CA  C5          	push	bc
4519  16CB  D5          	push	de
4520  16CC  21 9C 01    	ld	hl,0x019c
4521  16CF  E5          	push	hl
4522  16D0  58          	ld	e,b
4523  16D1  D5          	push	de
4524  16D2  3E 30       	ld	a,0x30
4525  16D4  F5          	push	af
4526  16D5  33          	inc	sp
4527  16D6  CD CA 10    	call	_game_menu_e
4528  16D9  F1          	pop	af
4529  16DA  F1          	pop	af
4530  16DB  33          	inc	sp
4531  16DC  D1          	pop	de
4532  16DD  C1          	pop	bc
4533  16DE  C5          	push	bc
4534  16DF  21 9F FF    	ld	hl,0xff9f
4535  16E2  E5          	push	hl
4536  16E3  58          	ld	e,b
4537  16E4  D5          	push	de
4538  16E5  3E 7C       	ld	a,0x7c
4539  16E7  F5          	push	af
4540  16E8  33          	inc	sp
4541  16E9  CD CA 10    	call	_game_menu_e
4542  16EC  F1          	pop	af
4543  16ED  F1          	pop	af
4544  16EE  33          	inc	sp
4545  16EF  C1          	pop	bc
4546  16F0  11 F4 01    	ld	de,___str_48+0
4547  16F3  41          	ld	b, c
4548  16F4  05          	dec	b
4549  16F5  C5          	push	bc
4550  16F6  D5          	push	de
4551  16F7  C5          	push	bc
4552  16F8  33          	inc	sp
4553  16F9  3E 07       	ld	a,0x07
4554  16FB  F5          	push	af
4555  16FC  33          	inc	sp
4556  16FD  CD 00 00    	call	_zx_print_str
4557  1700  C1          	pop	bc
4558  1701  21 F9 01    	ld	hl,___str_49
4559  1704  E5          	push	hl
4560  1705  C5          	push	bc
4561  1706  33          	inc	sp
4562  1707  3E 08       	ld	a,0x08
4563  1709  F5          	push	af
4564  170A  33          	inc	sp
4565  170B  CD 00 00    	call	_zx_print_str
4566  170E  C9          	ret
4567  170F              	SECTION rodata_compiler
4568  01F4              ___str_48:
4569  01F4  48 49 47 48 	DEFM "HIGH"
4570  01F8  00          	DEFB 0x00
4571  01F9              	SECTION rodata_compiler
4572  01F9              ___str_49:
4573  01F9  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4574  01FF  00          	DEFB 0x00
4575  0200              	SECTION code_compiler
4576  170F              ;	---------------------------------
4577  170F              ; Function game_hall_enter_phs
4578  170F              ; ---------------------------------
4579  170F              _game_hall_enter_phs:
4580  170F  7D          	ld	a, l
4581  1710  B7          	or	a, a
4582  1711  20 07       	jr	NZ,l_game_hall_enter_phs_00102
4583  1713  2E 06       	ld	l,0x06
4584  1715  CD C1 16    	call	_game_hall_enter_prt
4585  1718  18 05       	jr	l_game_hall_enter_phs_00104
4586  171A              l_game_hall_enter_phs_00102:
4587  171A  2E 16       	ld	l,0x16
4588  171C  CD C1 16    	call	_game_hall_enter_prt
4589  171F              l_game_hall_enter_phs_00104:
4590  171F  C9          	ret
4591  1720              	SECTION code_compiler
4592  1720              ;	---------------------------------
4593  1720              ; Function game_hall_print_p2
4594  1720              ; ---------------------------------
4595  1720              _game_hall_print_p2:
4596  1720  CD 00 00    	call	___sdcc_enter_ix
4597  1723  21 00 00    	ld	hl,_initials
4598  1726  E5          	push	hl
4599  1727  DD 56 05    	ld	d,(ix+5)
4600  172A  1E 0D       	ld	e,0x0d
4601  172C  D5          	push	de
4602  172D  CD 00 00    	call	_zx_print_str
4603  1730  DD 4E 04    	ld	c,(ix+4)
4604  1733  DD 7E 05    	ld	a,(ix+5)
4605  1736  81          	add	a, c
4606  1737  47          	ld	b, a
4607  1738  DD 5E 05    	ld	e,(ix+5)
4608  173B  1D          	dec	e
4609  173C  7B          	ld	a, e
4610  173D  81          	add	a, c
4611  173E  57          	ld	d, a
4612  173F  3E 70       	ld	a,0x70
4613  1741  F5          	push	af
4614  1742  33          	inc	sp
4615  1743  4A          	ld	c, d
4616  1744  C5          	push	bc
4617  1745  CD 36 0D    	call	_game_paint_attrib_lin_h
4618  1748  F1          	pop	af
4619  1749  33          	inc	sp
4620  174A  F3          	di
4621  174B  DD 7E 06    	ld	a,(ix+6)
4622  174E  B7          	or	a, a
4623  174F  28 1A       	jr	Z,l_game_hall_print_p2_00102
4624  1751  DD 7E 05    	ld	a,(ix+5)
4625  1754  F5          	push	af
4626  1755  33          	inc	sp
4627  1756  21 A9 56    	ld	hl,0x56a9
4628  1759  E5          	push	hl
4629  175A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4630  175D  DD 7E 05    	ld	a,(ix+5)
4631  1760  F5          	push	af
4632  1761  33          	inc	sp
4633  1762  21 03 58    	ld	hl,0x5803
4634  1765  E5          	push	hl
4635  1766  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4636  1769  18 18       	jr	l_game_hall_print_p2_00103
4637  176B              l_game_hall_print_p2_00102:
4638  176B  DD 7E 05    	ld	a,(ix+5)
4639  176E  F5          	push	af
4640  176F  33          	inc	sp
4641  1770  21 A9 58    	ld	hl,0x58a9
4642  1773  E5          	push	hl
4643  1774  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4644  1777  DD 7E 05    	ld	a,(ix+5)
4645  177A  F5          	push	af
4646  177B  33          	inc	sp
4647  177C  21 16 56    	ld	hl,0x5616
4648  177F  E5          	push	hl
4649  1780  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4650  1783              l_game_hall_print_p2_00103:
4651  1783  FB          	ei
4652  1784  DD E1       	pop	ix
4653  1786  C9          	ret
4654  1787              	SECTION code_compiler
4655  1787              ;	---------------------------------
4656  1787              ; Function game_hall_print_p
4657  1787              ; ---------------------------------
4658  1787              _game_hall_print_p:
4659  1787  CD 00 00    	call	___sdcc_enter_ix
4660  178A  DD 7E 04    	ld	a,(ix+4)
4661  178D  D6 05       	sub	a,0x05
4662  178F  30 12       	jr	NC,l_game_hall_print_p_00102
4663  1791  DD 56 05    	ld	d,(ix+5)
4664  1794  1E 06       	ld	e,0x06
4665  1796  D5          	push	de
4666  1797  DD 7E 04    	ld	a,(ix+4)
4667  179A  F5          	push	af
4668  179B  33          	inc	sp
4669  179C  CD 20 17    	call	_game_hall_print_p2
4670  179F  F1          	pop	af
4671  17A0  33          	inc	sp
4672  17A1  18 10       	jr	l_game_hall_print_p_00104
4673  17A3              l_game_hall_print_p_00102:
4674  17A3  DD 56 05    	ld	d,(ix+5)
4675  17A6  1E 16       	ld	e,0x16
4676  17A8  D5          	push	de
4677  17A9  DD 7E 04    	ld	a,(ix+4)
4678  17AC  F5          	push	af
4679  17AD  33          	inc	sp
4680  17AE  CD 20 17    	call	_game_hall_print_p2
4681  17B1  F1          	pop	af
4682  17B2  33          	inc	sp
4683  17B3              l_game_hall_print_p_00104:
4684  17B3  DD E1       	pop	ix
4685  17B5  C9          	ret
4686  17B6              	SECTION code_compiler
4687  17B6              ;	---------------------------------
4688  17B6              ; Function game_hall_edit_p
4689  17B6              ; ---------------------------------
4690  17B6              _game_hall_edit_p:
4691  17B6  CD 00 00    	call	___sdcc_enter_ix
4692  17B9  F5          	push	af
4693  17BA  4D          	ld	c, l
4694  17BB  0D          	dec	c
4695  17BC  21 00 00    	ld	hl,_dirs
4696  17BF  CB 7E       	bit	7, (hl)
4697  17C1  28 63       	jr	Z,l_game_hall_edit_p_00120
4698  17C3  79          	ld	a,c
4699  17C4  FE 04       	cp	a,0x04
4700  17C6  30 17       	jr	NC,l_game_hall_edit_p_00102
4701  17C8  C6 07       	add	a,0x07
4702  17CA  57          	ld	d, a
4703  17CB  79          	ld	a, c
4704  17CC  C6 06       	add	a,0x06
4705  17CE  47          	ld	b, a
4706  17CF  C5          	push	bc
4707  17D0  3E 70       	ld	a,0x70
4708  17D2  5A          	ld	e,d
4709  17D3  57          	ld	d,a
4710  17D4  D5          	push	de
4711  17D5  C5          	push	bc
4712  17D6  33          	inc	sp
4713  17D7  CD 0F 0D    	call	_game_paint_attrib_lin
4714  17DA  F1          	pop	af
4715  17DB  33          	inc	sp
4716  17DC  C1          	pop	bc
4717  17DD  18 16       	jr	l_game_hall_edit_p_00103
4718  17DF              l_game_hall_edit_p_00102:
4719  17DF  79          	ld	a, c
4720  17E0  C6 13       	add	a,0x13
4721  17E2  57          	ld	d, a
4722  17E3  79          	ld	a, c
4723  17E4  C6 12       	add	a,0x12
4724  17E6  47          	ld	b, a
4725  17E7  C5          	push	bc
4726  17E8  3E 70       	ld	a,0x70
4727  17EA  5A          	ld	e,d
4728  17EB  57          	ld	d,a
4729  17EC  D5          	push	de
4730  17ED  C5          	push	bc
4731  17EE  33          	inc	sp
4732  17EF  CD 0F 0D    	call	_game_paint_attrib_lin
4733  17F2  F1          	pop	af
4734  17F3  33          	inc	sp
4735  17F4  C1          	pop	bc
4736  17F5              l_game_hall_edit_p_00103:
4737  17F5  C5          	push	bc
4738  17F6  CD 00 00    	call	_sound_slide
4739  17F9  C1          	pop	bc
4740  17FA  21 00 00    	ld	hl,_ay_effect_01
4741  17FD  CD 00 00    	call	_ay_fx_play
4742  1800  11 00 00    	ld	de,_initials+0
4743  1803  41          	ld	b, c
4744  1804  0C          	inc	c
4745  1805  68          	ld	l,b
4746  1806  26 00       	ld	h,0x00
4747  1808  19          	add	hl, de
4748  1809  7E          	ld	a, (hl)
4749  180A  D6 7B       	sub	a,0x7b
4750  180C  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4751  180E  0D          	dec	c
4752  180F  79          	ld	a, c
4753  1810  E6 03       	and	a,0x03
4754  1812  28 08       	jr	Z,l_game_hall_edit_p_00107
4755  1814  41          	ld	b, c
4756  1815  0D          	dec	c
4757  1816  68          	ld	l,b
4758  1817  26 00       	ld	h,0x00
4759  1819  19          	add	hl, de
4760  181A  36 41       	ld	(hl),0x41
4761  181C              l_game_hall_edit_p_00107:
4762  181C  79          	ld	a, c
4763  181D  E6 03       	and	a,0x03
4764  181F  D6 03       	sub	a,0x03
4765  1821  20 44       	jr	NZ,l_game_hall_edit_p_00121
4766  1823  6F          	ld	l,a
4767  1824  18 43       	jr	l_game_hall_edit_p_00122
4768  1826              l_game_hall_edit_p_00120:
4769  1826  3A 00 00    	ld	a,(_dirs)
4770  1829  E6 0C       	and	a,0x0c
4771  182B  28 3A       	jr	Z,l_game_hall_edit_p_00121
4772  182D  11 00 00    	ld	de,_hall_valids
4773  1830  3E 00       	ld	a, +((_initials) & 0xFF)
4774  1832  81          	add	a, c
4775  1833  DD 77 FE    	ld	(ix-2),a
4776  1836  3E 00       	ld	a, +((_initials) / 256)
4777  1838  CE 00       	adc	a,0x00
4778  183A  DD 77 FF    	ld	(ix-1),a
4779  183D  E1          	pop	hl
4780  183E  46          	ld	b,(hl)
4781  183F  E5          	push	hl
4782  1840              l_game_hall_edit_p_00168:
4783  1840  1A          	ld	a, (de)
4784  1841  B8          	cp	a, b
4785  1842  28 06       	jr	Z,l_game_hall_edit_p_00167
4786  1844  B7          	or	a, a
4787  1845  13          	inc	de
4788  1846  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4789  1848  5F          	ld	e, a
4790  1849  57          	ld	d, a
4791  184A              l_game_hall_edit_p_00167:
4792  184A  21 00 00    	ld	hl,_dirs
4793  184D  CB 56       	bit	2, (hl)
4794  184F  28 0A       	jr	Z,l_game_hall_edit_p_00115
4795  1851  1B          	dec	de
4796  1852  1A          	ld	a, (de)
4797  1853  3D          	dec	a
4798  1854  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4799  1856  11 28 00    	ld	de, +(_hall_valids + 0x0028)
4800  1859  18 08       	jr	l_game_hall_edit_p_00116
4801  185B              l_game_hall_edit_p_00115:
4802  185B  13          	inc	de
4803  185C  1A          	ld	a, (de)
4804  185D  B7          	or	a, a
4805  185E  20 03       	jr	NZ,l_game_hall_edit_p_00116
4806  1860  11 01 00    	ld	de, +(_hall_valids + 0x0001)
4807  1863              l_game_hall_edit_p_00116:
4808  1863  E1          	pop	hl
4809  1864  1A          	ld	a,(de)
4810  1865  E5          	push	hl
4811  1866  77          	ld	(hl), a
4812  1867              l_game_hall_edit_p_00121:
4813  1867  0C          	inc	c
4814  1868  69          	ld	l, c
4815  1869              l_game_hall_edit_p_00122:
4816  1869  F1          	pop	af
4817  186A  DD E1       	pop	ix
4818  186C  C9          	ret
4819  186D              	SECTION code_compiler
4820  186D              ;	---------------------------------
4821  186D              ; Function game_hall_of_fame
4822  186D              ; ---------------------------------
4823  186D              _game_hall_of_fame:
4824  186D  CD 00 00    	call	_spr_draw_clear
4825  1870  2E 00       	ld	l,0x00
4826  1872  CD EB 0C    	call	_game_paint_attrib
4827  1875  21 9C 01    	ld	hl,0x019c
4828  1878  E5          	push	hl
4829  1879  21 06 18    	ld	hl,0x1806
4830  187C  E5          	push	hl
4831  187D  3E 10       	ld	a,0x10
4832  187F  F5          	push	af
4833  1880  33          	inc	sp
4834  1881  CD CA 10    	call	_game_menu_e
4835  1884  F1          	pop	af
4836  1885  33          	inc	sp
4837  1886  21 9F FF    	ld	hl,0xff9f
4838  1889  E3          	ex	(sp),hl
4839  188A  21 06 18    	ld	hl,0x1806
4840  188D  E5          	push	hl
4841  188E  3E 98       	ld	a,0x98
4842  1890  F5          	push	af
4843  1891  33          	inc	sp
4844  1892  CD CA 10    	call	_game_menu_e
4845  1895  F1          	pop	af
4846  1896  F1          	pop	af
4847  1897  33          	inc	sp
4848  1898  21 00 00    	ld	hl,_s_lin1
4849  189B  36 00       	ld	(hl),0x00
4850  189D              l_game_hall_of_fame_00102:
4851  189D  21 00 00    	ld	hl,_screen_ink
4852  18A0  36 05       	ld	(hl),0x05
4853  18A2  2A 00 00    	ld	hl,(_s_lin1)
4854  18A5  26 00       	ld	h,0x00
4855  18A7  4D          	ld	c,l
4856  18A8  44          	ld	b,h
4857  18A9  29          	add	hl, hl
4858  18AA  09          	add	hl, bc
4859  18AB  29          	add	hl, hl
4860  18AC  01 00 00    	ld	bc,_hof
4861  18AF  09          	add	hl,bc
4862  18B0  3A 00 00    	ld	a,(_s_lin1)
4863  18B3  EB          	ex	de,hl
4864  18B4  C6 07       	add	a,0x07
4865  18B6  47          	ld	b, a
4866  18B7  D5          	push	de
4867  18B8  3E 0A       	ld	a,0x0a
4868  18BA  48          	ld	c,b
4869  18BB  47          	ld	b,a
4870  18BC  C5          	push	bc
4871  18BD  CD 00 00    	call	_zx_print_str
4872  18C0  2A 00 00    	ld	hl,(_s_lin1)
4873  18C3  26 00       	ld	h,0x00
4874  18C5  4D          	ld	c,l
4875  18C6  44          	ld	b,h
4876  18C7  29          	add	hl, hl
4877  18C8  09          	add	hl, bc
4878  18C9  29          	add	hl, hl
4879  18CA  01 00 00    	ld	bc,_hof
4880  18CD  09          	add	hl,bc
4881  18CE  11 04 00    	ld	de,0x0004
4882  18D1  19          	add	hl, de
4883  18D2  5E          	ld	e, (hl)
4884  18D3  23          	inc	hl
4885  18D4  56          	ld	d, (hl)
4886  18D5  3A 00 00    	ld	a,(_s_lin1)
4887  18D8  C6 07       	add	a,0x07
4888  18DA  47          	ld	b, a
4889  18DB  D5          	push	de
4890  18DC  3E 10       	ld	a,0x10
4891  18DE  48          	ld	c,b
4892  18DF  47          	ld	b,a
4893  18E0  C5          	push	bc
4894  18E1  CD 00 00    	call	_zx_print_int
4895  18E4  11 00 02    	ld	de,___str_50
4896  18E7  3A 00 00    	ld	a,(_s_lin1)
4897  18EA  C6 07       	add	a,0x07
4898  18EC  47          	ld	b, a
4899  18ED  D5          	push	de
4900  18EE  3E 0E       	ld	a,0x0e
4901  18F0  48          	ld	c,b
4902  18F1  47          	ld	b,a
4903  18F2  C5          	push	bc
4904  18F3  CD 00 00    	call	_zx_print_str
4905  18F6  11 02 02    	ld	de,___str_51
4906  18F9  3A 00 00    	ld	a,(_s_lin1)
4907  18FC  C6 07       	add	a,0x07
4908  18FE  47          	ld	b, a
4909  18FF  D5          	push	de
4910  1900  3E 15       	ld	a,0x15
4911  1902  48          	ld	c,b
4912  1903  47          	ld	b,a
4913  1904  C5          	push	bc
4914  1905  CD 00 00    	call	_zx_print_str
4915  1908  21 00 00    	ld	hl,_s_lin1
4916  190B  7E          	ld	a,(hl)
4917  190C  3C          	inc	a
4918  190D  77          	ld	(hl),a
4919  190E  D6 0A       	sub	a,0x0a
4920  1910  38 8B       	jr	C,l_game_hall_of_fame_00102
4921  1912  21 04 02    	ld	hl,___str_52
4922  1915  E5          	push	hl
4923  1916  21 04 0A    	ld	hl,0x0a04
4924  1919  E5          	push	hl
4925  191A  CD 00 00    	call	_zx_print_str
4926  191D  21 F4 01    	ld	hl,0x01f4
4927  1920  E5          	push	hl
4928  1921  21 0A 16    	ld	hl,0x160a
4929  1924  E5          	push	hl
4930  1925  3E 04       	ld	a,0x04
4931  1927  F5          	push	af
4932  1928  33          	inc	sp
4933  1929  CD 5A 19    	call	_game_colour_message
4934  192C  F1          	pop	af
4935  192D  F1          	pop	af
4936  192E  33          	inc	sp
4937  192F  CD 00 00    	call	_spr_draw_clear
4938  1932  21 00 00    	ld	hl,_game_menu_sel
4939  1935  36 00       	ld	(hl),0x00
4940  1937  21 00 00    	ld	hl,_pb_midi_title
4941  193A  CD 00 00    	call	_ay_midi_play
4942  193D  C9          	ret
4943  193E              	SECTION rodata_compiler
4944  0200              ___str_50:
4945  0200  2D          	DEFM "-"
4946  0201  00          	DEFB 0x00
4947  0202              	SECTION rodata_compiler
4948  0202              ___str_51:
4949  0202  30          	DEFM "0"
4950  0203  00          	DEFB 0x00
4951  0204              	SECTION rodata_compiler
4952  0204              ___str_52:
4953  0204  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4954  0210  00          	DEFB 0x00
4955  0211              	SECTION code_compiler
4956  193E              ;	---------------------------------
4957  193E              ; Function game_rotate_attrib
4958  193E              ; ---------------------------------
4959  193E              _game_rotate_attrib:
4960  193E  01 03 00    	ld	bc,_attrib_hl + 3
4961  1941  0A          	ld	a, (bc)
4962  1942  32 00 00    	ld	(_tmp_uc),a
4963  1945  11 02 00    	ld	de,_attrib_hl + 2
4964  1948  1A          	ld	a, (de)
4965  1949  02          	ld	(bc), a
4966  194A  01 01 00    	ld	bc,_attrib_hl + 1
4967  194D  0A          	ld	a, (bc)
4968  194E  12          	ld	(de), a
4969  194F  3A 00 00    	ld	a,(_attrib_hl)
4970  1952  02          	ld	(bc), a
4971  1953  3A 00 00    	ld	a,(_tmp_uc)
4972  1956  32 00 00    	ld	(_attrib_hl),a
4973  1959  C9          	ret
4974  195A              	SECTION code_compiler
4975  195A              ;	---------------------------------
4976  195A              ; Function game_colour_message
4977  195A              ; ---------------------------------
4978  195A              _game_colour_message:
4979  195A  CD 00 00    	call	___sdcc_enter_ix
4980  195D  3B          	dec	sp
4981  195E  21 00 00    	ld	hl,_tmp
4982  1961  36 01       	ld	(hl),0x01
4983  1963  2A 00 00    	ld	hl,(_curr_time)
4984  1966  22 00 00    	ld	(_frame_time),hl
4985  1969  2A 00 00    	ld	hl,(_curr_time)
4986  196C  22 00 00    	ld	(_entry_time),hl
4987  196F  DD 7E 04    	ld	a,(ix+4)
4988  1972  07          	rlca
4989  1973  07          	rlca
4990  1974  07          	rlca
4991  1975  E6 F8       	and	a,0xf8
4992  1977  C6 08       	add	a,0x08
4993  1979  DD 77 FF    	ld	(ix-1),a
4994  197C              l_game_colour_message_00107:
4995  197C  3A 00 00    	ld	a,(_tmp)
4996  197F  B7          	or	a, a
4997  1980  28 66       	jr	Z,l_game_colour_message_00110
4998  1982  DD 6E 07    	ld	l,(ix+7)
4999  1985  DD 66 08    	ld	h,(ix+8)
5000  1988  E5          	push	hl
5001  1989  2A 00 00    	ld	hl,(_entry_time)
5002  198C  E5          	push	hl
5003  198D  CD EC 19    	call	_game_check_time
5004  1990  F1          	pop	af
5005  1991  F1          	pop	af
5006  1992  7D          	ld	a, l
5007  1993  B7          	or	a, a
5008  1994  20 52       	jr	NZ,l_game_colour_message_00110
5009  1996  21 05 00    	ld	hl,0x0005
5010  1999  E5          	push	hl
5011  199A  2A 00 00    	ld	hl,(_frame_time)
5012  199D  E5          	push	hl
5013  199E  CD EC 19    	call	_game_check_time
5014  19A1  F1          	pop	af
5015  19A2  F1          	pop	af
5016  19A3  7D          	ld	a, l
5017  19A4  B7          	or	a, a
5018  19A5  28 1A       	jr	Z,l_game_colour_message_00103
5019  19A7  2A 00 00    	ld	hl,(_curr_time)
5020  19AA  22 00 00    	ld	(_frame_time),hl
5021  19AD  DD 66 FF    	ld	h,(ix-1)
5022  19B0  DD 6E 06    	ld	l,(ix+6)
5023  19B3  E5          	push	hl
5024  19B4  DD 7E 05    	ld	a,(ix+5)
5025  19B7  F5          	push	af
5026  19B8  33          	inc	sp
5027  19B9  CD 36 0D    	call	_game_paint_attrib_lin_h
5028  19BC  F1          	pop	af
5029  19BD  33          	inc	sp
5030  19BE  CD 3E 19    	call	_game_rotate_attrib
5031  19C1              l_game_colour_message_00103:
5032  19C1  21 00 00    	ld	hl,_k1
5033  19C4  E5          	push	hl
5034  19C5  2A 00 00    	ld	hl,(_joyfunc1)
5035  19C8  CD 00 00    	call	___sdcc_call_hl
5036  19CB  E3          	ex	(sp),hl
5037  19CC  21 00 00    	ld	hl,_k2
5038  19CF  E5          	push	hl
5039  19D0  2A 00 00    	ld	hl,(_joyfunc2)
5040  19D3  CD 00 00    	call	___sdcc_call_hl
5041  19D6  F1          	pop	af
5042  19D7  EB          	ex	de,hl
5043  19D8  C1          	pop	bc
5044  19D9  79          	ld	a, c
5045  19DA  B3          	or	a, e
5046  19DB  4F          	ld	c, a
5047  19DC  78          	ld	a, b
5048  19DD  B2          	or	a, d
5049  19DE  B1          	or	a,c
5050  19DF  28 9B       	jr	Z,l_game_colour_message_00107
5051  19E1  21 00 00    	ld	hl,_tmp
5052  19E4  36 00       	ld	(hl),0x00
5053  19E6  18 D9       	jr	l_game_colour_message_00103
5054  19E8              l_game_colour_message_00110:
5055  19E8  33          	inc	sp
5056  19E9  DD E1       	pop	ix
5057  19EB  C9          	ret
5058  19EC              	SECTION code_compiler
5059  19EC              ;	---------------------------------
5060  19EC              ; Function game_check_time
5061  19EC              ; ---------------------------------
5062  19EC              _game_check_time:
5063  19EC  CD 00 00    	call	___sdcc_enter_ix
5064  19EF  2A 00 00    	ld	hl,(_curr_time)
5065  19F2  7D          	ld	a,l
5066  19F3  DD 96 04    	sub	a,(ix+4)
5067  19F6  4F          	ld	c,a
5068  19F7  7C          	ld	a,h
5069  19F8  DD 9E 05    	sbc	a,(ix+5)
5070  19FB  47          	ld	b, a
5071  19FC  DD 7E 06    	ld	a,(ix+6)
5072  19FF  91          	sub	a, c
5073  1A00  DD 7E 07    	ld	a,(ix+7)
5074  1A03  98          	sbc	a, b
5075  1A04  30 04       	jr	NC,l_game_check_time_00102
5076  1A06  2E 01       	ld	l,0x01
5077  1A08  18 02       	jr	l_game_check_time_00104
5078  1A0A              l_game_check_time_00102:
5079  1A0A  2E 00       	ld	l,0x00
5080  1A0C              l_game_check_time_00104:
5081  1A0C  DD E1       	pop	ix
5082  1A0E  C9          	ret
5083  1A0F              	SECTION IGNORE
5084  0000              
