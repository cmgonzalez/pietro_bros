1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9917 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_print_phase
184   0000              	GLOBAL _game_calc_index
185   0000              	GLOBAL _game_print_footer
186   0000              	GLOBAL _game_phase_print_score_back
187   0000              	GLOBAL _game_print_lives
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_start_timer
190   0000              	GLOBAL _game_phase_calc
191   0000              	GLOBAL _game_phase_init
192   0000              	GLOBAL _game_print_header
193   0000              	GLOBAL _game_phase_print
194   0000              	GLOBAL _game_loop
195   0000              	GLOBAL _game_score_osd
196   0000              	GLOBAL _game_bonus_clock
197   0000              	GLOBAL _game_bonus_summary
198   0000              	GLOBAL _game_bonus_summary_player
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_check_floor
201   0000              	GLOBAL _game_enemy_add
202   0000              	GLOBAL _game_enemy_quota
203   0000              	GLOBAL _game_enemy_rnd
204   0000              	GLOBAL _game_enemy_add1
205   0000              	GLOBAL _game_enemy_add_get_index
206   0000              	GLOBAL _game_freeze
207   0000              	GLOBAL _game_unfreeze_all
208   0000              	GLOBAL _game_freeze_all
209   0000              	GLOBAL _game_print_score
210   0000              	GLOBAL _game_paint_attrib
211   0000              	GLOBAL _game_paint_attrib_lin
212   0000              	GLOBAL _game_paint_attrib_lin_h
213   0000              	GLOBAL _game_menu_config
214   0000              	GLOBAL _game_joystick_change
215   0000              	GLOBAL _game_joystick_set_menu
216   0000              	GLOBAL _game_joystick_set
217   0000              	GLOBAL _game_menu
218   0000              	GLOBAL _game_menu_top_paint
219   0000              	GLOBAL _game_menu_paint
220   0000              	GLOBAL _game_menu_e
221   0000              	GLOBAL _game_menu_handle
222   0000              	GLOBAL _game_end
223   0000              	GLOBAL _game_hall_check
224   0000              	GLOBAL _game_hall_enter
225   0000              	GLOBAL _game_menu_back
226   0000              	GLOBAL _game_hall_enter_prt
227   0000              	GLOBAL _game_hall_enter_phs
228   0000              	GLOBAL _game_hall_print_p2
229   0000              	GLOBAL _game_hall_print_p
230   0000              	GLOBAL _game_hall_edit_p
231   0000              	GLOBAL _game_hall_of_fame
232   0000              	GLOBAL _game_rotate_attrib
233   0000              	GLOBAL _game_colour_message
234   0000              	GLOBAL _game_check_time
235   0000              ;--------------------------------------------------------
236   0000              ; Externals used
237   0000              ;--------------------------------------------------------
238   0000              	GLOBAL _debug3
239   0000              	GLOBAL _debug2
240   0000              	GLOBAL _debug
241   0000              	GLOBAL _zx_print_str
242   0000              	GLOBAL _zx_print_int
243   0000              	GLOBAL _zx_print_chr
244   0000              	GLOBAL _zx_print_bonus_time
245   0000              	GLOBAL _zx_isr
246   0000              	GLOBAL _spr_mapfix
247   0000              	GLOBAL _spr_kill_all
248   0000              	GLOBAL _spr_collision_check
249   0000              	GLOBAL _spr_calc_hor
250   0000              	GLOBAL _spr_draw_row
251   0000              	GLOBAL _spr_draw_index
252   0000              	GLOBAL _spr_draw_clear
253   0000              	GLOBAL _spr_water_splash_draw
254   0000              	GLOBAL _spr_water_splash_clear
255   0000              	GLOBAL _spr_draw_background
256   0000              	GLOBAL _spr_cortina_brick
257   0000              	GLOBAL _spr_brick_anim
258   0000              	GLOBAL _spr_back_fix
259   0000              	GLOBAL _spr_back_paint
260   0000              	GLOBAL _spr_back_clr
261   0000              	GLOBAL _spr_draw_pow
262   0000              	GLOBAL _spr_tile
263   0000              	GLOBAL _spr_set_fall
264   0000              	GLOBAL _spr_destroy
265   0000              	GLOBAL _spr_check_over
266   0000              	GLOBAL _spr_tile_dir
267   0000              	GLOBAL _spr_anim_kill
268   0000              	GLOBAL _spr_anim_fall
269   0000              	GLOBAL _spr_killed
270   0000              	GLOBAL _spr_redraw
271   0000              	GLOBAL _spr_move_left
272   0000              	GLOBAL _spr_move_right
273   0000              	GLOBAL _spr_move_horizontal
274   0000              	GLOBAL _spr_move_down
275   0000              	GLOBAL _spr_move_up
276   0000              	GLOBAL _spr_chktime
277   0000              	GLOBAL _sound_hit_pow
278   0000              	GLOBAL _sound_hit_brick
279   0000              	GLOBAL _sound_hit_enemy
280   0000              	GLOBAL _sound_kill
281   0000              	GLOBAL _sound_enter_enemy
282   0000              	GLOBAL _sound_coin
283   0000              	GLOBAL _sound_jump
284   0000              	GLOBAL _sound_slide
285   0000              	GLOBAL _player_set
286   0000              	GLOBAL _player_move_horizontal
287   0000              	GLOBAL _player_push
288   0000              	GLOBAL _player_hit_brick_clear
289   0000              	GLOBAL _player_lost_life
290   0000              	GLOBAL _player_score_add
291   0000              	GLOBAL _player_coin
292   0000              	GLOBAL _player_hit_pow
293   0000              	GLOBAL _player_hit_brick
294   0000              	GLOBAL _player_move_input
295   0000              	GLOBAL _player_turn
296   0000              	GLOBAL _player_move
297   0000              	GLOBAL _player_restart
298   0000              	GLOBAL _player_kill
299   0000              	GLOBAL _player_check_input
300   0000              	GLOBAL _player_collision
301   0000              	GLOBAL _player_calc_slide
302   0000              	GLOBAL _player_init
303   0000              	GLOBAL _player_set2
304   0000              	GLOBAL _player_set1
305   0000              	GLOBAL _game_fill_row
306   0000              	GLOBAL _enemy_ugly_fix
307   0000              	GLOBAL _enemy_kill
308   0000              	GLOBAL _enemy_init
309   0000              	GLOBAL _enemy_walk
310   0000              	GLOBAL _enemy_upgrade
311   0000              	GLOBAL _enemy_evolve
312   0000              	GLOBAL _enemy_standard_hit
313   0000              	GLOBAL _enemy_trip_move
314   0000              	GLOBAL _enemy_trip
315   0000              	GLOBAL _enemy_fighterfly
316   0000              	GLOBAL _enemy_fireball_green
317   0000              	GLOBAL _enemy_fireball_red
318   0000              	GLOBAL _enemy_slipice
319   0000              	GLOBAL _enemy_standard
320   0000              	GLOBAL _enemy_turn
321   0000              	GLOBAL _enemy_flip_sidestepper
322   0000              	GLOBAL _enemy_flip
323   0000              	GLOBAL _enemy_flip_change_dir
324   0000              	GLOBAL _enemy_hit
325   0000              	GLOBAL _enemy_collision_turn_dir
326   0000              	GLOBAL _enemy_collision
327   0000              	GLOBAL _enemy_coin1
328   0000              	GLOBAL _ay_fx_play
329   0000              	GLOBAL _ay_midi_play
330   0000              	GLOBAL _ay_is_playing
331   0000              	GLOBAL _ay_reset
332   0000              	GLOBAL _in_mouse_kempston_wheel_delta
333   0000              	GLOBAL _in_mouse_kempston_wheel
334   0000              	GLOBAL _in_mouse_kempston_callee
335   0000              	GLOBAL _in_mouse_kempston
336   0000              	GLOBAL _in_mouse_kempston_setpos_callee
337   0000              	GLOBAL _in_mouse_kempston_setpos
338   0000              	GLOBAL _in_mouse_kempston_reset
339   0000              	GLOBAL _in_mouse_kempston_init
340   0000              	GLOBAL _in_mouse_amx_wheel_delta
341   0000              	GLOBAL _in_mouse_amx_wheel
342   0000              	GLOBAL _in_mouse_amx_callee
343   0000              	GLOBAL _in_mouse_amx
344   0000              	GLOBAL _in_mouse_amx_setpos_callee
345   0000              	GLOBAL _in_mouse_amx_setpos
346   0000              	GLOBAL _in_mouse_amx_reset
347   0000              	GLOBAL _in_mouse_amx_init_callee
348   0000              	GLOBAL _in_mouse_amx_init
349   0000              	GLOBAL _in_stick_sinclair2
350   0000              	GLOBAL _in_stick_sinclair1
351   0000              	GLOBAL _in_stick_kempston
352   0000              	GLOBAL _in_stick_fuller
353   0000              	GLOBAL _in_stick_cursor
354   0000              	GLOBAL _in_stick_keyboard_fastcall
355   0000              	GLOBAL _in_stick_keyboard
356   0000              	GLOBAL _in_wait_nokey
357   0000              	GLOBAL _in_wait_key
358   0000              	GLOBAL _in_test_key
359   0000              	GLOBAL _in_pause_fastcall
360   0000              	GLOBAL _in_pause
361   0000              	GLOBAL _in_key_scancode_fastcall
362   0000              	GLOBAL _in_key_scancode
363   0000              	GLOBAL _in_key_pressed_fastcall
364   0000              	GLOBAL _in_key_pressed
365   0000              	GLOBAL _in_inkey
366   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
367   0000              	GLOBAL _NIRVANAP_drawTW_raw
368   0000              	GLOBAL _NIRVANAP_drawTW_callee
369   0000              	GLOBAL _NIRVANAP_drawTW
370   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
371   0000              	GLOBAL _NIRVANAP_drawW_raw
372   0000              	GLOBAL _NIRVANAP_drawW_callee
373   0000              	GLOBAL _NIRVANAP_drawW
374   0000              	GLOBAL _NIRVANAP_spriteT_callee
375   0000              	GLOBAL _NIRVANAP_spriteT
376   0000              	GLOBAL _NIRVANAP_fillC_callee
377   0000              	GLOBAL _NIRVANAP_fillC
378   0000              	GLOBAL _NIRVANAP_readC_callee
379   0000              	GLOBAL _NIRVANAP_readC
380   0000              	GLOBAL _NIRVANAP_paintC_callee
381   0000              	GLOBAL _NIRVANAP_paintC
382   0000              	GLOBAL _NIRVANAP_printC_callee
383   0000              	GLOBAL _NIRVANAP_printC
384   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
385   0000              	GLOBAL _NIRVANAP_fillT_raw
386   0000              	GLOBAL _NIRVANAP_fillT_callee
387   0000              	GLOBAL _NIRVANAP_fillT
388   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
389   0000              	GLOBAL _NIRVANAP_drawT_raw
390   0000              	GLOBAL _NIRVANAP_drawT_callee
391   0000              	GLOBAL _NIRVANAP_drawT
392   0000              	GLOBAL _NIRVANAP_stop
393   0000              	GLOBAL _NIRVANAP_start
394   0000              	GLOBAL _z80_otdr_callee
395   0000              	GLOBAL _z80_otdr
396   0000              	GLOBAL _z80_otir_callee
397   0000              	GLOBAL _z80_otir
398   0000              	GLOBAL _z80_outp_callee
399   0000              	GLOBAL _z80_outp
400   0000              	GLOBAL _z80_indr_callee
401   0000              	GLOBAL _z80_indr
402   0000              	GLOBAL _z80_inir_callee
403   0000              	GLOBAL _z80_inir
404   0000              	GLOBAL _z80_inp_fastcall
405   0000              	GLOBAL _z80_inp
406   0000              	GLOBAL _z80_set_int_state_fastcall
407   0000              	GLOBAL _z80_set_int_state
408   0000              	GLOBAL _z80_get_int_state
409   0000              	GLOBAL _z80_delay_tstate_fastcall
410   0000              	GLOBAL _z80_delay_tstate
411   0000              	GLOBAL _z80_delay_ms_fastcall
412   0000              	GLOBAL _z80_delay_ms
413   0000              	GLOBAL _im2_remove_generic_callback_callee
414   0000              	GLOBAL _im2_remove_generic_callback
415   0000              	GLOBAL _im2_prepend_generic_callback_callee
416   0000              	GLOBAL _im2_prepend_generic_callback
417   0000              	GLOBAL _im2_append_generic_callback_callee
418   0000              	GLOBAL _im2_append_generic_callback
419   0000              	GLOBAL _im2_create_generic_isr_8080_callee
420   0000              	GLOBAL _im2_create_generic_isr_8080
421   0000              	GLOBAL _im2_create_generic_isr_callee
422   0000              	GLOBAL _im2_create_generic_isr
423   0000              	GLOBAL _im2_install_isr_callee
424   0000              	GLOBAL _im2_install_isr
425   0000              	GLOBAL _im2_init_fastcall
426   0000              	GLOBAL _im2_init
427   0000              	GLOBAL _ffsll_callee
428   0000              	GLOBAL _ffsll
429   0000              	GLOBAL _strxfrm_callee
430   0000              	GLOBAL _strxfrm
431   0000              	GLOBAL _strupr_fastcall
432   0000              	GLOBAL _strupr
433   0000              	GLOBAL _strtok_r_callee
434   0000              	GLOBAL _strtok_r
435   0000              	GLOBAL _strtok_callee
436   0000              	GLOBAL _strtok
437   0000              	GLOBAL _strstrip_fastcall
438   0000              	GLOBAL _strstrip
439   0000              	GLOBAL _strstr_callee
440   0000              	GLOBAL _strstr
441   0000              	GLOBAL _strspn_callee
442   0000              	GLOBAL _strspn
443   0000              	GLOBAL _strsep_callee
444   0000              	GLOBAL _strsep
445   0000              	GLOBAL _strrstrip_fastcall
446   0000              	GLOBAL _strrstrip
447   0000              	GLOBAL _strrspn_callee
448   0000              	GLOBAL _strrspn
449   0000              	GLOBAL _strrev_fastcall
450   0000              	GLOBAL _strrev
451   0000              	GLOBAL _strrcspn_callee
452   0000              	GLOBAL _strrcspn
453   0000              	GLOBAL _strrchr_callee
454   0000              	GLOBAL _strrchr
455   0000              	GLOBAL _strpbrk_callee
456   0000              	GLOBAL _strpbrk
457   0000              	GLOBAL _strnlen_callee
458   0000              	GLOBAL _strnlen
459   0000              	GLOBAL _strnicmp_callee
460   0000              	GLOBAL _strnicmp
461   0000              	GLOBAL _strndup_callee
462   0000              	GLOBAL _strndup
463   0000              	GLOBAL _strncpy_callee
464   0000              	GLOBAL _strncpy
465   0000              	GLOBAL _strncmp_callee
466   0000              	GLOBAL _strncmp
467   0000              	GLOBAL _strnchr_callee
468   0000              	GLOBAL _strnchr
469   0000              	GLOBAL _strncat_callee
470   0000              	GLOBAL _strncat
471   0000              	GLOBAL _strncasecmp_callee
472   0000              	GLOBAL _strncasecmp
473   0000              	GLOBAL _strlwr_fastcall
474   0000              	GLOBAL _strlwr
475   0000              	GLOBAL _strlen_fastcall
476   0000              	GLOBAL _strlen
477   0000              	GLOBAL _strlcpy_callee
478   0000              	GLOBAL _strlcpy
479   0000              	GLOBAL _strlcat_callee
480   0000              	GLOBAL _strlcat
481   0000              	GLOBAL _stricmp_callee
482   0000              	GLOBAL _stricmp
483   0000              	GLOBAL _strerror_fastcall
484   0000              	GLOBAL _strerror
485   0000              	GLOBAL _strdup_fastcall
486   0000              	GLOBAL _strdup
487   0000              	GLOBAL _strcspn_callee
488   0000              	GLOBAL _strcspn
489   0000              	GLOBAL _strcpy_callee
490   0000              	GLOBAL _strcpy
491   0000              	GLOBAL _strcoll_callee
492   0000              	GLOBAL _strcoll
493   0000              	GLOBAL _strcmp_callee
494   0000              	GLOBAL _strcmp
495   0000              	GLOBAL _strchrnul_callee
496   0000              	GLOBAL _strchrnul
497   0000              	GLOBAL _strchr_callee
498   0000              	GLOBAL _strchr
499   0000              	GLOBAL _strcat_callee
500   0000              	GLOBAL _strcat
501   0000              	GLOBAL _strcasecmp_callee
502   0000              	GLOBAL _strcasecmp
503   0000              	GLOBAL _stpncpy_callee
504   0000              	GLOBAL _stpncpy
505   0000              	GLOBAL _stpcpy_callee
506   0000              	GLOBAL _stpcpy
507   0000              	GLOBAL _memswap_callee
508   0000              	GLOBAL _memswap
509   0000              	GLOBAL _memset_callee
510   0000              	GLOBAL _memset
511   0000              	GLOBAL _memrchr_callee
512   0000              	GLOBAL _memrchr
513   0000              	GLOBAL _memmove_callee
514   0000              	GLOBAL _memmove
515   0000              	GLOBAL _memmem_callee
516   0000              	GLOBAL _memmem
517   0000              	GLOBAL _memcpy_callee
518   0000              	GLOBAL _memcpy
519   0000              	GLOBAL _memcmp_callee
520   0000              	GLOBAL _memcmp
521   0000              	GLOBAL _memchr_callee
522   0000              	GLOBAL _memchr
523   0000              	GLOBAL _memccpy_callee
524   0000              	GLOBAL _memccpy
525   0000              	GLOBAL _ffsl_fastcall
526   0000              	GLOBAL _ffsl
527   0000              	GLOBAL _ffs_fastcall
528   0000              	GLOBAL _ffs
529   0000              	GLOBAL __strrstrip__fastcall
530   0000              	GLOBAL __strrstrip_
531   0000              	GLOBAL __memupr__callee
532   0000              	GLOBAL __memupr_
533   0000              	GLOBAL __memstrcpy__callee
534   0000              	GLOBAL __memstrcpy_
535   0000              	GLOBAL __memlwr__callee
536   0000              	GLOBAL __memlwr_
537   0000              	GLOBAL _rawmemchr_callee
538   0000              	GLOBAL _rawmemchr
539   0000              	GLOBAL _strnset_callee
540   0000              	GLOBAL _strnset
541   0000              	GLOBAL _strset_callee
542   0000              	GLOBAL _strset
543   0000              	GLOBAL _rindex_callee
544   0000              	GLOBAL _rindex
545   0000              	GLOBAL _index_callee
546   0000              	GLOBAL _index
547   0000              	GLOBAL _bzero_callee
548   0000              	GLOBAL _bzero
549   0000              	GLOBAL _bcopy_callee
550   0000              	GLOBAL _bcopy
551   0000              	GLOBAL _bcmp_callee
552   0000              	GLOBAL _bcmp
553   0000              	GLOBAL _ulltoa_callee
554   0000              	GLOBAL _ulltoa
555   0000              	GLOBAL _strtoull_callee
556   0000              	GLOBAL _strtoull
557   0000              	GLOBAL _strtoll_callee
558   0000              	GLOBAL _strtoll
559   0000              	GLOBAL _lltoa_callee
560   0000              	GLOBAL _lltoa
561   0000              	GLOBAL _llabs_callee
562   0000              	GLOBAL _llabs
563   0000              	GLOBAL __lldivu__callee
564   0000              	GLOBAL __lldivu_
565   0000              	GLOBAL __lldiv__callee
566   0000              	GLOBAL __lldiv_
567   0000              	GLOBAL _atoll_callee
568   0000              	GLOBAL _atoll
569   0000              	GLOBAL _realloc_unlocked_callee
570   0000              	GLOBAL _realloc_unlocked
571   0000              	GLOBAL _malloc_unlocked_fastcall
572   0000              	GLOBAL _malloc_unlocked
573   0000              	GLOBAL _free_unlocked_fastcall
574   0000              	GLOBAL _free_unlocked
575   0000              	GLOBAL _calloc_unlocked_callee
576   0000              	GLOBAL _calloc_unlocked
577   0000              	GLOBAL _aligned_alloc_unlocked_callee
578   0000              	GLOBAL _aligned_alloc_unlocked
579   0000              	GLOBAL _realloc_callee
580   0000              	GLOBAL _realloc
581   0000              	GLOBAL _malloc_fastcall
582   0000              	GLOBAL _malloc
583   0000              	GLOBAL _free_fastcall
584   0000              	GLOBAL _free
585   0000              	GLOBAL _calloc_callee
586   0000              	GLOBAL _calloc
587   0000              	GLOBAL _aligned_alloc_callee
588   0000              	GLOBAL _aligned_alloc
589   0000              	GLOBAL _utoa_callee
590   0000              	GLOBAL _utoa
591   0000              	GLOBAL _ultoa_callee
592   0000              	GLOBAL _ultoa
593   0000              	GLOBAL _system_fastcall
594   0000              	GLOBAL _system
595   0000              	GLOBAL _strtoul_callee
596   0000              	GLOBAL _strtoul
597   0000              	GLOBAL _strtol_callee
598   0000              	GLOBAL _strtol
599   0000              	GLOBAL _strtof_callee
600   0000              	GLOBAL _strtof
601   0000              	GLOBAL _strtod_callee
602   0000              	GLOBAL _strtod
603   0000              	GLOBAL _srand_fastcall
604   0000              	GLOBAL _srand
605   0000              	GLOBAL _rand
606   0000              	GLOBAL _quick_exit_fastcall
607   0000              	GLOBAL _quick_exit
608   0000              	GLOBAL _qsort_callee
609   0000              	GLOBAL _qsort
610   0000              	GLOBAL _ltoa_callee
611   0000              	GLOBAL _ltoa
612   0000              	GLOBAL _labs_fastcall
613   0000              	GLOBAL _labs
614   0000              	GLOBAL _itoa_callee
615   0000              	GLOBAL _itoa
616   0000              	GLOBAL _ftoh_callee
617   0000              	GLOBAL _ftoh
618   0000              	GLOBAL _ftog_callee
619   0000              	GLOBAL _ftog
620   0000              	GLOBAL _ftoe_callee
621   0000              	GLOBAL _ftoe
622   0000              	GLOBAL _ftoa_callee
623   0000              	GLOBAL _ftoa
624   0000              	GLOBAL _exit_fastcall
625   0000              	GLOBAL _exit
626   0000              	GLOBAL _dtoh_callee
627   0000              	GLOBAL _dtoh
628   0000              	GLOBAL _dtog_callee
629   0000              	GLOBAL _dtog
630   0000              	GLOBAL _dtoe_callee
631   0000              	GLOBAL _dtoe
632   0000              	GLOBAL _dtoa_callee
633   0000              	GLOBAL _dtoa
634   0000              	GLOBAL _bsearch_callee
635   0000              	GLOBAL _bsearch
636   0000              	GLOBAL _atol_fastcall
637   0000              	GLOBAL _atol
638   0000              	GLOBAL _atoi_fastcall
639   0000              	GLOBAL _atoi
640   0000              	GLOBAL _atof_fastcall
641   0000              	GLOBAL _atof
642   0000              	GLOBAL _atexit_fastcall
643   0000              	GLOBAL _atexit
644   0000              	GLOBAL _at_quick_exit_fastcall
645   0000              	GLOBAL _at_quick_exit
646   0000              	GLOBAL _abs_fastcall
647   0000              	GLOBAL _abs
648   0000              	GLOBAL _abort
649   0000              	GLOBAL __strtou__callee
650   0000              	GLOBAL __strtou_
651   0000              	GLOBAL __strtoi__callee
652   0000              	GLOBAL __strtoi_
653   0000              	GLOBAL __random_uniform_xor_8__fastcall
654   0000              	GLOBAL __random_uniform_xor_8_
655   0000              	GLOBAL __random_uniform_xor_32__fastcall
656   0000              	GLOBAL __random_uniform_xor_32_
657   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
658   0000              	GLOBAL __random_uniform_cmwc_8_
659   0000              	GLOBAL __shellsort__callee
660   0000              	GLOBAL __shellsort_
661   0000              	GLOBAL __quicksort__callee
662   0000              	GLOBAL __quicksort_
663   0000              	GLOBAL __insertion_sort__callee
664   0000              	GLOBAL __insertion_sort_
665   0000              	GLOBAL __ldivu__callee
666   0000              	GLOBAL __ldivu_
667   0000              	GLOBAL __ldiv__callee
668   0000              	GLOBAL __ldiv_
669   0000              	GLOBAL __divu__callee
670   0000              	GLOBAL __divu_
671   0000              	GLOBAL __div__callee
672   0000              	GLOBAL __div_
673   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
674   0000              	GLOBAL _intrinsic_swap_word_32
675   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
676   0000              	GLOBAL _intrinsic_swap_endian_32
677   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
678   0000              	GLOBAL _intrinsic_swap_endian_16
679   0000              	GLOBAL _intrinsic_return_de
680   0000              	GLOBAL _intrinsic_return_bc
681   0000              	GLOBAL _intrinsic_exx
682   0000              	GLOBAL _intrinsic_ex_de_hl
683   0000              	GLOBAL _intrinsic_nop
684   0000              	GLOBAL _intrinsic_im_2
685   0000              	GLOBAL _intrinsic_im_1
686   0000              	GLOBAL _intrinsic_im_0
687   0000              	GLOBAL _intrinsic_retn
688   0000              	GLOBAL _intrinsic_reti
689   0000              	GLOBAL _intrinsic_halt
690   0000              	GLOBAL _intrinsic_ei
691   0000              	GLOBAL _intrinsic_di
692   0000              	GLOBAL _intrinsic_stub
693   0000              	GLOBAL _zx_pattern_fill_callee
694   0000              	GLOBAL _zx_pattern_fill
695   0000              	GLOBAL _zx_saddrpup_fastcall
696   0000              	GLOBAL _zx_saddrpup
697   0000              	GLOBAL _zx_saddrpright_callee
698   0000              	GLOBAL _zx_saddrpright
699   0000              	GLOBAL _zx_saddrpleft_callee
700   0000              	GLOBAL _zx_saddrpleft
701   0000              	GLOBAL _zx_saddrpdown_fastcall
702   0000              	GLOBAL _zx_saddrpdown
703   0000              	GLOBAL _zx_saddrcup_fastcall
704   0000              	GLOBAL _zx_saddrcup
705   0000              	GLOBAL _zx_saddrcright_fastcall
706   0000              	GLOBAL _zx_saddrcright
707   0000              	GLOBAL _zx_saddrcleft_fastcall
708   0000              	GLOBAL _zx_saddrcleft
709   0000              	GLOBAL _zx_saddrcdown_fastcall
710   0000              	GLOBAL _zx_saddrcdown
711   0000              	GLOBAL _zx_saddr2py_fastcall
712   0000              	GLOBAL _zx_saddr2py
713   0000              	GLOBAL _zx_saddr2px_fastcall
714   0000              	GLOBAL _zx_saddr2px
715   0000              	GLOBAL _zx_saddr2cy_fastcall
716   0000              	GLOBAL _zx_saddr2cy
717   0000              	GLOBAL _zx_saddr2cx_fastcall
718   0000              	GLOBAL _zx_saddr2cx
719   0000              	GLOBAL _zx_saddr2aaddr_fastcall
720   0000              	GLOBAL _zx_saddr2aaddr
721   0000              	GLOBAL _zx_py2saddr_fastcall
722   0000              	GLOBAL _zx_py2saddr
723   0000              	GLOBAL _zx_py2aaddr_fastcall
724   0000              	GLOBAL _zx_py2aaddr
725   0000              	GLOBAL _zx_pxy2saddr_callee
726   0000              	GLOBAL _zx_pxy2saddr
727   0000              	GLOBAL _zx_pxy2aaddr_callee
728   0000              	GLOBAL _zx_pxy2aaddr
729   0000              	GLOBAL _zx_px2bitmask_fastcall
730   0000              	GLOBAL _zx_px2bitmask
731   0000              	GLOBAL _zx_cy2saddr_fastcall
732   0000              	GLOBAL _zx_cy2saddr
733   0000              	GLOBAL _zx_cy2aaddr_fastcall
734   0000              	GLOBAL _zx_cy2aaddr
735   0000              	GLOBAL _zx_cxy2saddr_callee
736   0000              	GLOBAL _zx_cxy2saddr
737   0000              	GLOBAL _zx_cxy2aaddr_callee
738   0000              	GLOBAL _zx_cxy2aaddr
739   0000              	GLOBAL _zx_bitmask2px_fastcall
740   0000              	GLOBAL _zx_bitmask2px
741   0000              	GLOBAL _zx_aaddrcup_fastcall
742   0000              	GLOBAL _zx_aaddrcup
743   0000              	GLOBAL _zx_aaddrcright_fastcall
744   0000              	GLOBAL _zx_aaddrcright
745   0000              	GLOBAL _zx_aaddrcleft_fastcall
746   0000              	GLOBAL _zx_aaddrcleft
747   0000              	GLOBAL _zx_aaddrcdown_fastcall
748   0000              	GLOBAL _zx_aaddrcdown
749   0000              	GLOBAL _zx_aaddr2saddr_fastcall
750   0000              	GLOBAL _zx_aaddr2saddr
751   0000              	GLOBAL _zx_aaddr2py_fastcall
752   0000              	GLOBAL _zx_aaddr2py
753   0000              	GLOBAL _zx_aaddr2px_fastcall
754   0000              	GLOBAL _zx_aaddr2px
755   0000              	GLOBAL _zx_aaddr2cy_fastcall
756   0000              	GLOBAL _zx_aaddr2cy
757   0000              	GLOBAL _zx_aaddr2cx_fastcall
758   0000              	GLOBAL _zx_aaddr2cx
759   0000              	GLOBAL _zx_scroll_wc_up_callee
760   0000              	GLOBAL _zx_scroll_wc_up
761   0000              	GLOBAL _zx_scroll_up_callee
762   0000              	GLOBAL _zx_scroll_up
763   0000              	GLOBAL _zx_cls_wc_callee
764   0000              	GLOBAL _zx_cls_wc
765   0000              	GLOBAL _zx_cls_fastcall
766   0000              	GLOBAL _zx_cls
767   0000              	GLOBAL _zx_border_fastcall
768   0000              	GLOBAL _zx_border
769   0000              	GLOBAL _joynames
770   0000              	GLOBAL _initials
771   0000              	GLOBAL _hof
772   0000              	GLOBAL _score_osd_tile
773   0000              	GLOBAL _score_osd_update_time
774   0000              	GLOBAL _score_osd_col
775   0000              	GLOBAL _score_osd_lin
776   0000              	GLOBAL _phase_bonus_total
777   0000              	GLOBAL _phase_angry
778   0000              	GLOBAL _phase_curr
779   0000              	GLOBAL _phase_end
780   0000              	GLOBAL _phase_coins
781   0000              	GLOBAL _phase_pop
782   0000              	GLOBAL _phase_tot
783   0000              	GLOBAL _phase_left
784   0000              	GLOBAL _phase_quota
785   0000              	GLOBAL _phases
786   0000              	GLOBAL _lvl_1
787   0000              	GLOBAL _sprite_speed_alt
788   0000              	GLOBAL _sprite_speed
789   0000              	GLOBAL _screen_ink
790   0000              	GLOBAL _screen_paper
791   0000              	GLOBAL _game_menu_sel
792   0000              	GLOBAL _game_type
793   0000              	GLOBAL _game_osd
794   0000              	GLOBAL _game_bonus
795   0000              	GLOBAL _spr_water_time
796   0000              	GLOBAL _spr_water_clear
797   0000              	GLOBAL _game_time_fireball_start
798   0000              	GLOBAL _game_time_flipped
799   0000              	GLOBAL _game_score_top
800   0000              	GLOBAL _game_lives
801   0000              	GLOBAL _game_over
802   0000              	GLOBAL _game_sound
803   0000              	GLOBAL _game_inmune
804   0000              	GLOBAL _game_god_mode
805   0000              	GLOBAL _game_start_phase
806   0000              	GLOBAL _game_two_player
807   0000              	GLOBAL _game_brick_tile
808   0000              	GLOBAL _game_pow
809   0000              	GLOBAL _game_ugly_fix_cnt
810   0000              	GLOBAL _game_ugly_back
811   0000              	GLOBAL _spr_count
812   0000              	GLOBAL _osd_show_time
813   0000              	GLOBAL _osd_update_time
814   0000              	GLOBAL _frame_time
815   0000              	GLOBAL _entry_time
816   0000              	GLOBAL _curr_time
817   0000              	GLOBAL _s_state
818   0000              	GLOBAL _attrib_hl
819   0000              	GLOBAL _attrib
820   0000              	GLOBAL _zx_val_asm
821   0000              	GLOBAL _enemies
822   0000              	GLOBAL _tmp_ui
823   0000              	GLOBAL _tmp_sc
824   0000              	GLOBAL _tmp_uc
825   0000              	GLOBAL _tmp1
826   0000              	GLOBAL _tmp0
827   0000              	GLOBAL _tmp
828   0000              	GLOBAL _index1
829   0000              	GLOBAL _loop_count
830   0000              	GLOBAL _sprite_lin_inc_mul
831   0000              	GLOBAL _s_col1
832   0000              	GLOBAL _s_col0
833   0000              	GLOBAL _s_lin1
834   0000              	GLOBAL _s_lin0
835   0000              	GLOBAL _s_tile1
836   0000              	GLOBAL _s_tile0
837   0000              	GLOBAL _hit_count
838   0000              	GLOBAL _tile_offset_other_player
839   0000              	GLOBAL _tile_offset
840   0000              	GLOBAL _index_player
841   0000              	GLOBAL _sprite_other_player
842   0000              	GLOBAL _sprite
843   0000              	GLOBAL _player_joy
844   0000              	GLOBAL _player_next_extra
845   0000              	GLOBAL _player_score
846   0000              	GLOBAL _last_time
847   0000              	GLOBAL _sliding
848   0000              	GLOBAL _spr_timer
849   0000              	GLOBAL _jump_lin
850   0000              	GLOBAL _player_jump_c
851   0000              	GLOBAL _hit_col
852   0000              	GLOBAL _hit_lin
853   0000              	GLOBAL _colint
854   0000              	GLOBAL _col
855   0000              	GLOBAL _lin
856   0000              	GLOBAL _tile
857   0000              	GLOBAL _state_a
858   0000              	GLOBAL _state
859   0000              	GLOBAL _class
860   0000              	GLOBAL _tbuffer
861   0000              	GLOBAL _dirs
862   0000              	GLOBAL _k2
863   0000              	GLOBAL _k1
864   0000              	GLOBAL _joyfunc2
865   0000              	GLOBAL _joyfunc1
866   0000              	GLOBAL _btiles
867   0000              	GLOBAL _spec128
868   0000              	GLOBAL _ay_effect_20
869   0000              	GLOBAL _ay_effect_19
870   0000              	GLOBAL _ay_effect_18
871   0000              	GLOBAL _ay_effect_17
872   0000              	GLOBAL _ay_effect_16
873   0000              	GLOBAL _ay_effect_15
874   0000              	GLOBAL _ay_effect_14
875   0000              	GLOBAL _ay_effect_13
876   0000              	GLOBAL _ay_effect_12
877   0000              	GLOBAL _ay_effect_11
878   0000              	GLOBAL _ay_effect_10
879   0000              	GLOBAL _ay_effect_09
880   0000              	GLOBAL _ay_effect_08
881   0000              	GLOBAL _ay_effect_07
882   0000              	GLOBAL _ay_effect_06
883   0000              	GLOBAL _ay_effect_05
884   0000              	GLOBAL _ay_effect_04
885   0000              	GLOBAL _ay_effect_03
886   0000              	GLOBAL _ay_effect_02
887   0000              	GLOBAL _ay_effect_01
888   0000              	GLOBAL _pb_midi_phase_1
889   0000              	GLOBAL _pb_midi_title
890   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
891   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
892   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
893   0000              	GLOBAL _NIRVANAP_HOLE
894   0000              	GLOBAL _NIRVANAP_ISR_HOOK
895   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
896   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
897   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
898   0000              	GLOBAL _fix_1
899   0000              	GLOBAL _control_method
900   0000              	GLOBAL _hall_valids
901   0000              ;--------------------------------------------------------
902   0000              ; special function registers
903   0000              ;--------------------------------------------------------
904   0000              defc _IO_FE	=	0x00fe
905   0000              defc _IO_1FFD	=	0x1ffd
906   0000              defc _IO_7FFD	=	0x7ffd
907   0000              ;--------------------------------------------------------
908   0000              ; ram data
909   0000              ;--------------------------------------------------------
910   0000              	SECTION bss_compiler
911   0000              ;--------------------------------------------------------
912   0000              ; ram data
913   0000              ;--------------------------------------------------------
914   0000              
915   0000              IF 0
916   0000              
917   0000              ; .area _INITIALIZED removed by z88dk
918   0000              
919   0000              
920   0000              ENDIF
921   0000              
922   0000              ;--------------------------------------------------------
923   0000              ; absolute external ram data
924   0000              ;--------------------------------------------------------
925   0000              	SECTION IGNORE
926   0000              ;--------------------------------------------------------
927   0000              ; global & static initialisations
928   0000              ;--------------------------------------------------------
929   0000              	SECTION code_crt_init
930   0000              ;--------------------------------------------------------
931   0000              ; Home
932   0000              ;--------------------------------------------------------
933   0000              	SECTION IGNORE
934   0000              ;--------------------------------------------------------
935   0000              ; code
936   0000              ;--------------------------------------------------------
937   0000              	SECTION code_compiler
938   0000              ;	---------------------------------
939   0000              ; Function game_calc_index
940   0000              ; ---------------------------------
941   0000              _game_calc_index:
942   0000  CD 00 00    	call	___sdcc_enter_ix
943   0003  DD 4E 05    	ld	c,(ix+5)
944   0006  06 00       	ld	b,0x00
945   0008  DD 7E 04    	ld	a,(ix+4)
946   000B  0F          	rrca
947   000C  0F          	rrca
948   000D  0F          	rrca
949   000E  E6 1F       	and	a,0x1f
950   0010  6F          	ld	l, a
951   0011  26 00       	ld	h,0x00
952   0013  29          	add	hl, hl
953   0014  29          	add	hl, hl
954   0015  29          	add	hl, hl
955   0016  29          	add	hl, hl
956   0017  29          	add	hl, hl
957   0018  09          	add	hl, bc
958   0019  DD E1       	pop	ix
959   001B  C9          	ret
960   001C              	SECTION code_compiler
961   001C              ;	---------------------------------
962   001C              ; Function game_print_footer
963   001C              ; ---------------------------------
964   001C              _game_print_footer:
965   001C  21 00 00    	ld	hl,___str_0
966   001F  E5          	push	hl
967   0020  21 16 01    	ld	hl,0x0116
968   0023  E5          	push	hl
969   0024  CD 00 00    	call	_zx_print_str
970   0027  21 00 00    	ld	hl,___str_0
971   002A  E5          	push	hl
972   002B  21 16 1E    	ld	hl,0x1e16
973   002E  E5          	push	hl
974   002F  CD 00 00    	call	_zx_print_str
975   0032  21 02 00    	ld	hl,___str_1
976   0035  E5          	push	hl
977   0036  21 17 01    	ld	hl,0x0117
978   0039  E5          	push	hl
979   003A  CD 00 00    	call	_zx_print_str
980   003D  21 02 00    	ld	hl,___str_1
981   0040  E5          	push	hl
982   0041  21 17 1E    	ld	hl,0x1e17
983   0044  E5          	push	hl
984   0045  CD 00 00    	call	_zx_print_str
985   0048  3A 00 00    	ld	a,(_game_lives)
986   004B  B7          	or	a, a
987   004C  28 20       	jr	Z,l_game_print_footer_00102
988   004E  21 00 00    	ld	hl,_screen_ink
989   0051  36 02       	ld	(hl),0x02
990   0053  21 08 00    	ld	hl,___str_2
991   0056  E5          	push	hl
992   0057  21 16 01    	ld	hl,0x0116
993   005A  E5          	push	hl
994   005B  CD 00 00    	call	_zx_print_str
995   005E  21 00 00    	ld	hl,_screen_ink
996   0061  36 06       	ld	(hl),0x06
997   0063  21 0A 00    	ld	hl,___str_3
998   0066  E5          	push	hl
999   0067  21 17 01    	ld	hl,0x0117
1000  006A  E5          	push	hl
1001  006B  CD 00 00    	call	_zx_print_str
1002  006E              l_game_print_footer_00102:
1003  006E  3A 01 00    	ld	a, (_game_lives + 1)
1004  0071  B7          	or	a, a
1005  0072  28 20       	jr	Z,l_game_print_footer_00104
1006  0074  21 00 00    	ld	hl,_screen_ink
1007  0077  36 07       	ld	(hl),0x07
1008  0079  21 0C 00    	ld	hl,___str_4
1009  007C  E5          	push	hl
1010  007D  21 16 1E    	ld	hl,0x1e16
1011  0080  E5          	push	hl
1012  0081  CD 00 00    	call	_zx_print_str
1013  0084  21 00 00    	ld	hl,_screen_ink
1014  0087  36 06       	ld	(hl),0x06
1015  0089  21 0E 00    	ld	hl,___str_5
1016  008C  E5          	push	hl
1017  008D  21 17 1E    	ld	hl,0x1e17
1018  0090  E5          	push	hl
1019  0091  CD 00 00    	call	_zx_print_str
1020  0094              l_game_print_footer_00104:
1021  0094  CD CE 00    	call	_game_print_lives
1022  0097  C9          	ret
1023  0098              	SECTION rodata_compiler
1024  0000              ___str_0:
1025  0000  20          	DEFM " "
1026  0001  00          	DEFB 0x00
1027  0002              	SECTION rodata_compiler
1028  0002              ___str_1:
1029  0002  20 20 20 20 20 
                        	DEFM "     "
1030  0007  00          	DEFB 0x00
1031  0008              	SECTION rodata_compiler
1032  0008              ___str_2:
1033  0008  3C          	DEFM "<"
1034  0009  00          	DEFB 0x00
1035  000A              	SECTION rodata_compiler
1036  000A              ___str_3:
1037  000A  5C          	DEFB 0x5c
1038  000B  00          	DEFB 0x00
1039  000C              	SECTION rodata_compiler
1040  000C              ___str_4:
1041  000C  3E          	DEFM ">"
1042  000D  00          	DEFB 0x00
1043  000E              	SECTION rodata_compiler
1044  000E              ___str_5:
1045  000E  5E          	DEFM "^"
1046  000F  00          	DEFB 0x00
1047  0010              	SECTION code_compiler
1048  0098              ;	---------------------------------
1049  0098              ; Function game_phase_print_score_back
1050  0098              ; ---------------------------------
1051  0098              _game_phase_print_score_back:
1052  0098  21 00 00    	ld	hl,_screen_ink
1053  009B  36 02       	ld	(hl),0x02
1054  009D  21 10 00    	ld	hl,___str_6
1055  00A0  E5          	push	hl
1056  00A1  21 00 0B    	ld	hl,0x0b00
1057  00A4  E5          	push	hl
1058  00A5  CD 00 00    	call	_zx_print_str
1059  00A8  21 00 00    	ld	hl,_screen_ink
1060  00AB  36 01       	ld	(hl),0x01
1061  00AD  21 14 00    	ld	hl,___str_7
1062  00B0  E5          	push	hl
1063  00B1  21 00 01    	ld	hl,0x0100
1064  00B4  E5          	push	hl
1065  00B5  CD 00 00    	call	_zx_print_str
1066  00B8  3A 00 00    	ld	a,(_game_two_player)
1067  00BB  B7          	or	a, a
1068  00BC  C8          	ret	Z
1069  00BD  21 00 00    	ld	hl,_screen_ink
1070  00C0  36 04       	ld	(hl),0x04
1071  00C2  21 17 00    	ld	hl,___str_8
1072  00C5  E5          	push	hl
1073  00C6  21 00 16    	ld	hl,0x1600
1074  00C9  E5          	push	hl
1075  00CA  CD 00 00    	call	_zx_print_str
1076  00CD  C9          	ret
1077  00CE              	SECTION rodata_compiler
1078  0010              ___str_6:
1079  0010  24 25 7C    	DEFM "$%|"
1080  0013  00          	DEFB 0x00
1081  0014              	SECTION rodata_compiler
1082  0014              ___str_7:
1083  0014  5B 7C       	DEFM "[|"
1084  0016  00          	DEFB 0x00
1085  0017              	SECTION rodata_compiler
1086  0017              ___str_8:
1087  0017  5D 7C       	DEFM "]|"
1088  0019  00          	DEFB 0x00
1089  001A              	SECTION code_compiler
1090  00CE              ;	---------------------------------
1091  00CE              ; Function game_print_lives
1092  00CE              ; ---------------------------------
1093  00CE              _game_print_lives:
1094  00CE  21 00 00    	ld	hl,_screen_ink
1095  00D1  36 07       	ld	(hl),0x07
1096  00D3  3A 00 00    	ld	a,(_game_lives)
1097  00D6  C6 FF       	add	a,0xff
1098  00D8  21 00 00    	ld	hl,_tmp
1099  00DB  77          	ld	(hl),a
1100  00DC  D6 FF       	sub	a,0xff
1101  00DE  30 0A       	jr	NC,l_game_print_lives_00102
1102  00E0  7E          	ld	a, (hl)
1103  00E1  F5          	push	af
1104  00E2  33          	inc	sp
1105  00E3  21 17 03    	ld	hl,0x0317
1106  00E6  E5          	push	hl
1107  00E7  CD 00 00    	call	_zx_print_chr
1108  00EA              l_game_print_lives_00102:
1109  00EA  3A 01 00    	ld	a, (_game_lives + 1)
1110  00ED  C6 FF       	add	a,0xff
1111  00EF  21 00 00    	ld	hl,_tmp
1112  00F2  77          	ld	(hl),a
1113  00F3  D6 FF       	sub	a,0xff
1114  00F5  D0          	ret	NC
1115  00F6  7E          	ld	a, (hl)
1116  00F7  F5          	push	af
1117  00F8  33          	inc	sp
1118  00F9  21 17 1A    	ld	hl,0x1a17
1119  00FC  E5          	push	hl
1120  00FD  CD 00 00    	call	_zx_print_chr
1121  0100  C9          	ret
1122  0101              	SECTION code_compiler
1123  0101              ;	---------------------------------
1124  0101              ; Function game_tick
1125  0101              ; ---------------------------------
1126  0101              _game_tick:
1127  0101  21 00 00    	ld	hl,_curr_time
1128  0104  34          	inc	(hl)
1129  0105  C2 00 00    	jp	NZ,_zx_isr
1130  0108  23          	inc	hl
1131  0109  34          	inc	(hl)
1132  010A  C3 00 00    	jp  _zx_isr
1133  010D              	SECTION code_compiler
1134  010D              ;	---------------------------------
1135  010D              ; Function game_start_timer
1136  010D              ; ---------------------------------
1137  010D              _game_start_timer:
1138  010D  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1139  0110  36 CD       	ld	(hl),0xcd
1140  0112  23          	inc	hl
1141  0113  11 01 01    	ld	de,_game_tick
1142  0116  73          	ld	(hl), e
1143  0117  23          	inc	hl
1144  0118  72          	ld	(hl), d
1145  0119  C9          	ret
1146  011A              	SECTION code_compiler
1147  011A              ;	---------------------------------
1148  011A              ; Function game_phase_calc
1149  011A              ; ---------------------------------
1150  011A              _game_phase_calc:
1151  011A  3A 00 00    	ld	a,(_phase_curr)
1152  011D  87          	add	a, a
1153  011E  87          	add	a, a
1154  011F  21 00 00    	ld	hl,_tmp_uc
1155  0122  77          	ld	(hl), a
1156  0123  01 00 00    	ld	bc,_phases+0
1157  0126  79          	ld	a, c
1158  0127  86          	add	a, (hl)
1159  0128  5F          	ld	e, a
1160  0129  78          	ld	a, b
1161  012A  CE 00       	adc	a,0x00
1162  012C  57          	ld	d, a
1163  012D  1A          	ld	a, (de)
1164  012E  32 00 00    	ld	(_phase_quota),a
1165  0131  21 00 00    	ld	hl,_tmp_uc
1166  0134  5E          	ld	e, (hl)
1167  0135  1C          	inc	e
1168  0136  6B          	ld	l,e
1169  0137  26 00       	ld	h,0x00
1170  0139  09          	add	hl, bc
1171  013A  7E          	ld	a,(hl)
1172  013B  32 01 00    	ld	((_phase_quota + 0x0001)),a
1173  013E  21 00 00    	ld	hl,_tmp_uc
1174  0141  5E          	ld	e, (hl)
1175  0142  1C          	inc	e
1176  0143  1C          	inc	e
1177  0144  6B          	ld	l,e
1178  0145  26 00       	ld	h,0x00
1179  0147  09          	add	hl, bc
1180  0148  7E          	ld	a,(hl)
1181  0149  32 02 00    	ld	((_phase_quota + 0x0002)),a
1182  014C  21 00 00    	ld	hl,_tmp_uc
1183  014F  5E          	ld	e, (hl)
1184  0150  1C          	inc	e
1185  0151  1C          	inc	e
1186  0152  1C          	inc	e
1187  0153  6B          	ld	l,e
1188  0154  26 00       	ld	h,0x00
1189  0156  09          	add	hl, bc
1190  0157  7E          	ld	a, (hl)
1191  0158  32 00 00    	ld	(_game_brick_tile),a
1192  015B  D6 8B       	sub	a,0x8b
1193  015D  20 05       	jr	NZ,l_game_phase_calc_00102
1194  015F  CD 97 0C    	call	_game_freeze_all
1195  0162  18 03       	jr	l_game_phase_calc_00103
1196  0164              l_game_phase_calc_00102:
1197  0164  CD 6E 0C    	call	_game_unfreeze_all
1198  0167              l_game_phase_calc_00103:
1199  0167  21 00 00    	ld	hl,_phase_quota
1200  016A  4E          	ld	c, (hl)
1201  016B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1202  016E  46          	ld	b, (hl)
1203  016F  79          	ld	a, c
1204  0170  80          	add	a, b
1205  0171  4F          	ld	c, a
1206  0172  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1207  0175  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1208  0177  09          	add	hl, bc
1209  0178  C9          	ret
1210  0179              	SECTION code_compiler
1211  0179              ;	---------------------------------
1212  0179              ; Function game_phase_init
1213  0179              ; ---------------------------------
1214  0179              _game_phase_init:
1215  0179  21 00 00    	ld	hl,0x0000
1216  017C  22 00 00    	ld	(_loop_count),hl
1217  017F  21 00 00    	ld	hl,_phase_end
1218  0182  36 00       	ld	(hl),0x00
1219  0184  21 00 00    	ld	hl,_phase_angry
1220  0187  36 00       	ld	(hl),0x00
1221  0189  21 00 00    	ld	hl,_phase_coins
1222  018C  36 00       	ld	(hl),0x00
1223  018E  21 00 00    	ld	hl,_phase_pop
1224  0191  36 00       	ld	(hl),0x00
1225  0193  21 00 00    	ld	hl,_game_bonus
1226  0196  36 00       	ld	(hl),0x00
1227  0198  21 00 00    	ld	hl,0x0000
1228  019B  22 00 00    	ld	(_entry_time),hl
1229  019E  21 00 00    	ld	hl,0
1230  01A1  22 00 00    	ld	(_curr_time),hl
1231  01A4  21 00 00    	ld	hl,0x0000
1232  01A7  22 00 00    	ld	(_frame_time),hl
1233  01AA  21 FF FF    	ld	hl,0xffff
1234  01AD  22 00 00    	ld	(_score_osd_col),hl
1235  01B0  21 00 00    	ld	hl,_spr_count
1236  01B3  36 00       	ld	(hl),0x00
1237  01B5  21 00 00    	ld	hl,_game_ugly_fix_cnt
1238  01B8  36 00       	ld	(hl),0x00
1239  01BA  3A 00 00    	ld	a,(_game_type)
1240  01BD  D6 02       	sub	a,0x02
1241  01BF  CA 4B 02    	jp	Z,l_game_phase_init_00104
1242  01C2  CD 1A 01    	call	_game_phase_calc
1243  01C5  7D          	ld	a,l
1244  01C6  32 00 00    	ld	(_phase_left),a
1245  01C9  32 00 00    	ld	(_phase_tot),a
1246  01CC  21 00 00    	ld	hl,_phase_left
1247  01CF  7E          	ld	a, (hl)
1248  01D0  B7          	or	a, a
1249  01D1  C2 5D 02    	jp	NZ, l_game_phase_init_00105
1250  01D4  01 00 00    	ld	bc,_phase_bonus_total+0
1251  01D7  AF          	xor	a, a
1252  01D8  02          	ld	(bc), a
1253  01D9  03          	inc	bc
1254  01DA  AF          	xor	a, a
1255  01DB  02          	ld	(bc), a
1256  01DC  36 06       	ld	(hl),0x06
1257  01DE  21 00 00    	ld	hl,_game_bonus
1258  01E1  36 01       	ld	(hl),0x01
1259  01E3  21 0C 00    	ld	hl,0x000c
1260  01E6  E5          	push	hl
1261  01E7  21 90 08    	ld	hl,0x0890
1262  01EA  E5          	push	hl
1263  01EB  AF          	xor	a, a
1264  01EC  F5          	push	af
1265  01ED  33          	inc	sp
1266  01EE  CD 00 00    	call	_enemy_init
1267  01F1  F1          	pop	af
1268  01F2  33          	inc	sp
1269  01F3  21 0C 00    	ld	hl,0x000c
1270  01F6  E3          	ex	(sp),hl
1271  01F7  21 90 16    	ld	hl,0x1690
1272  01FA  E5          	push	hl
1273  01FB  3E 01       	ld	a,0x01
1274  01FD  F5          	push	af
1275  01FE  33          	inc	sp
1276  01FF  CD 00 00    	call	_enemy_init
1277  0202  F1          	pop	af
1278  0203  33          	inc	sp
1279  0204  21 0C 00    	ld	hl,0x000c
1280  0207  E3          	ex	(sp),hl
1281  0208  21 50 06    	ld	hl,0x0650
1282  020B  E5          	push	hl
1283  020C  3E 02       	ld	a,0x02
1284  020E  F5          	push	af
1285  020F  33          	inc	sp
1286  0210  CD 00 00    	call	_enemy_init
1287  0213  F1          	pop	af
1288  0214  33          	inc	sp
1289  0215  21 0C 00    	ld	hl,0x000c
1290  0218  E3          	ex	(sp),hl
1291  0219  21 50 18    	ld	hl,0x1850
1292  021C  E5          	push	hl
1293  021D  3E 03       	ld	a,0x03
1294  021F  F5          	push	af
1295  0220  33          	inc	sp
1296  0221  CD 00 00    	call	_enemy_init
1297  0224  F1          	pop	af
1298  0225  33          	inc	sp
1299  0226  21 0C 00    	ld	hl,0x000c
1300  0229  E3          	ex	(sp),hl
1301  022A  21 10 05    	ld	hl,0x0510
1302  022D  E5          	push	hl
1303  022E  3E 04       	ld	a,0x04
1304  0230  F5          	push	af
1305  0231  33          	inc	sp
1306  0232  CD 00 00    	call	_enemy_init
1307  0235  F1          	pop	af
1308  0236  33          	inc	sp
1309  0237  21 0C 00    	ld	hl,0x000c
1310  023A  E3          	ex	(sp),hl
1311  023B  21 10 19    	ld	hl,0x1910
1312  023E  E5          	push	hl
1313  023F  3E 05       	ld	a,0x05
1314  0241  F5          	push	af
1315  0242  33          	inc	sp
1316  0243  CD 00 00    	call	_enemy_init
1317  0246  F1          	pop	af
1318  0247  F1          	pop	af
1319  0248  33          	inc	sp
1320  0249  18 12       	jr	l_game_phase_init_00105
1321  024B              l_game_phase_init_00104:
1322  024B  21 00 00    	ld	hl,_phase_left
1323  024E  36 FF       	ld	(hl),0xff
1324  0250  21 00 00    	ld	hl,_phase_curr
1325  0253  36 FF       	ld	(hl),0xff
1326  0255  CD 6E 0C    	call	_game_unfreeze_all
1327  0258  21 00 00    	ld	hl,_game_brick_tile
1328  025B  36 84       	ld	(hl),0x84
1329  025D              l_game_phase_init_00105:
1330  025D  CD 00 00    	call	_ay_reset
1331  0260  3A 00 00    	ld	a,(_game_bonus)
1332  0263  B7          	or	a, a
1333  0264  20 06       	jr	NZ,l_game_phase_init_00107
1334  0266  21 00 00    	ld	hl,_pb_midi_phase_1
1335  0269  CD 00 00    	call	_ay_midi_play
1336  026C              l_game_phase_init_00107:
1337  026C  CD 00 00    	call	_spr_draw_clear
1338  026F  2E 00       	ld	l,0x00
1339  0271  CD 00 00    	call	_zx_cls_fastcall
1340  0274  CD 00 00    	call	_spr_draw_background
1341  0277  CD B2 02    	call	_game_print_header
1342  027A  CD 1C 00    	call	_game_print_footer
1343  027D  3A 00 00    	ld	a,(_game_lives)
1344  0280  B7          	or	a, a
1345  0281  28 0D       	jr	Z,l_game_phase_init_00109
1346  0283  21 0A 03    	ld	hl,0x030a
1347  0286  E5          	push	hl
1348  0287  21 07 98    	ld	hl,0x9807
1349  028A  E5          	push	hl
1350  028B  CD 00 00    	call	_player_init
1351  028E  F1          	pop	af
1352  028F  F1          	pop	af
1353  0290              l_game_phase_init_00109:
1354  0290  3A 01 00    	ld	a, (_game_lives + 1)
1355  0293  B7          	or	a, a
1356  0294  28 0D       	jr	Z,l_game_phase_init_00111
1357  0296  21 14 27    	ld	hl,0x2714
1358  0299  E5          	push	hl
1359  029A  21 06 98    	ld	hl,0x9806
1360  029D  E5          	push	hl
1361  029E  CD 00 00    	call	_player_init
1362  02A1  F1          	pop	af
1363  02A2  F1          	pop	af
1364  02A3              l_game_phase_init_00111:
1365  02A3  21 00 00    	ld	hl,_game_osd
1366  02A6  36 01       	ld	(hl),0x01
1367  02A8  2A 00 00    	ld	hl,(_curr_time)
1368  02AB  22 00 00    	ld	(_osd_update_time),hl
1369  02AE  22 00 00    	ld	(_osd_show_time),hl
1370  02B1  C9          	ret
1371  02B2              	SECTION code_compiler
1372  02B2              ;	---------------------------------
1373  02B2              ; Function game_print_header
1374  02B2              ; ---------------------------------
1375  02B2              _game_print_header:
1376  02B2  CD 98 00    	call	_game_phase_print_score_back
1377  02B5  21 00 00    	ld	hl,_screen_ink
1378  02B8  36 07       	ld	(hl),0x07
1379  02BA  C3 C0 0C    	jp  _game_print_score
1380  02BD              	SECTION code_compiler
1381  02BD              ;	---------------------------------
1382  02BD              ; Function game_phase_print
1383  02BD              ; ---------------------------------
1384  02BD              _game_phase_print:
1385  02BD  45          	ld	b, l
1386  02BE  C5          	push	bc
1387  02BF  21 1A 00    	ld	hl,___str_9
1388  02C2  E5          	push	hl
1389  02C3  3E 0B       	ld	a,0x0b
1390  02C5  48          	ld	c,b
1391  02C6  47          	ld	b,a
1392  02C7  C5          	push	bc
1393  02C8  CD 00 00    	call	_zx_print_str
1394  02CB  C1          	pop	bc
1395  02CC  3A 00 00    	ld	a,(_phase_curr)
1396  02CF  D6 1F       	sub	a,0x1f
1397  02D1  30 3F       	jr	NC,l_game_phase_print_00108
1398  02D3  3A 00 00    	ld	a,(_game_bonus)
1399  02D6  B7          	or	a, a
1400  02D7  20 2B       	jr	NZ,l_game_phase_print_00102
1401  02D9  C5          	push	bc
1402  02DA  21 20 00    	ld	hl,___str_10
1403  02DD  E5          	push	hl
1404  02DE  3E 10       	ld	a,0x10
1405  02E0  48          	ld	c,b
1406  02E1  47          	ld	b,a
1407  02E2  C5          	push	bc
1408  02E3  CD 00 00    	call	_zx_print_str
1409  02E6  C1          	pop	bc
1410  02E7  21 00 00    	ld	hl,_phase_curr
1411  02EA  56          	ld	d, (hl)
1412  02EB  14          	inc	d
1413  02EC  C5          	push	bc
1414  02ED  1E 12       	ld	e,0x12
1415  02EF  D5          	push	de
1416  02F0  C5          	push	bc
1417  02F1  33          	inc	sp
1418  02F2  CD 00 00    	call	_zx_print_chr
1419  02F5  C1          	pop	bc
1420  02F6  21 20 00    	ld	hl,___str_10
1421  02F9  E5          	push	hl
1422  02FA  3E 15       	ld	a,0x15
1423  02FC  48          	ld	c,b
1424  02FD  47          	ld	b,a
1425  02FE  C5          	push	bc
1426  02FF  CD 00 00    	call	_zx_print_str
1427  0302  18 2F       	jr	l_game_phase_print_00110
1428  0304              l_game_phase_print_00102:
1429  0304  21 23 00    	ld	hl,___str_11
1430  0307  E5          	push	hl
1431  0308  3E 11       	ld	a,0x11
1432  030A  48          	ld	c,b
1433  030B  47          	ld	b,a
1434  030C  C5          	push	bc
1435  030D  CD 00 00    	call	_zx_print_str
1436  0310  18 21       	jr	l_game_phase_print_00110
1437  0312              l_game_phase_print_00108:
1438  0312  3A 00 00    	ld	a,(_game_type)
1439  0315  D6 02       	sub	a,0x02
1440  0317  28 0E       	jr	Z,l_game_phase_print_00105
1441  0319  21 2A 00    	ld	hl,___str_12
1442  031C  E5          	push	hl
1443  031D  3E 11       	ld	a,0x11
1444  031F  48          	ld	c,b
1445  0320  47          	ld	b,a
1446  0321  C5          	push	bc
1447  0322  CD 00 00    	call	_zx_print_str
1448  0325  18 0C       	jr	l_game_phase_print_00110
1449  0327              l_game_phase_print_00105:
1450  0327  21 31 00    	ld	hl,___str_13
1451  032A  E5          	push	hl
1452  032B  3E 11       	ld	a,0x11
1453  032D  48          	ld	c,b
1454  032E  47          	ld	b,a
1455  032F  C5          	push	bc
1456  0330  CD 00 00    	call	_zx_print_str
1457  0333              l_game_phase_print_00110:
1458  0333  C9          	ret
1459  0334              	SECTION rodata_compiler
1460  001A              ___str_9:
1461  001A  50 48 41 53 45 
                        	DEFM "PHASE"
1462  001F  00          	DEFB 0x00
1463  0020              	SECTION rodata_compiler
1464  0020              ___str_10:
1465  0020  20 20       	DEFM "  "
1466  0022  00          	DEFB 0x00
1467  0023              	SECTION rodata_compiler
1468  0023              ___str_11:
1469  0023  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1470  0029  00          	DEFB 0x00
1471  002A              	SECTION rodata_compiler
1472  002A              ___str_12:
1473  002A  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1474  0030  00          	DEFB 0x00
1475  0031              	SECTION rodata_compiler
1476  0031              ___str_13:
1477  0031  52 41 4E 44 20 20 
                        	DEFM "RAND  "
1478  0037  00          	DEFB 0x00
1479  0038              	SECTION code_compiler
1480  0334              ;	---------------------------------
1481  0334              ; Function game_loop
1482  0334              ; ---------------------------------
1483  0334              _game_loop:
1484  0334  21 15 20    	ld	hl,0x2015
1485  0337  E5          	push	hl
1486  0338  CD 00 00    	call	_game_fill_row
1487  033B  21 16 20    	ld	hl,0x2016
1488  033E  E5          	push	hl
1489  033F  CD 00 00    	call	_game_fill_row
1490  0342  21 17 20    	ld	hl,0x2017
1491  0345  E5          	push	hl
1492  0346  CD 00 00    	call	_game_fill_row
1493  0349  21 00 00    	ld	hl,_screen_ink
1494  034C  36 03       	ld	(hl),0x03
1495  034E  21 38 00    	ld	hl,___str_14
1496  0351  E5          	push	hl
1497  0352  21 16 06    	ld	hl,0x0616
1498  0355  E5          	push	hl
1499  0356  CD 00 00    	call	_zx_print_str
1500  0359  21 00 00    	ld	hl,_ay_effect_10
1501  035C  CD 00 00    	call	_ay_fx_play
1502  035F  CD 00 00    	call	_sound_coin
1503  0362  21 C8 00    	ld	hl,0x00c8
1504  0365  CD 00 00    	call	_z80_delay_ms_fastcall
1505  0368  21 16 20    	ld	hl,0x2016
1506  036B  E5          	push	hl
1507  036C  CD 00 00    	call	_game_fill_row
1508  036F  CD 00 00    	call	_ay_reset
1509  0372  21 8C 8C    	ld	hl,0x8c8c
1510  0375  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1511  0378  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1512  037B  21 00 00    	ld	hl,_game_lives+0
1513  037E  36 04       	ld	(hl),0x04
1514  0380  23          	inc	hl
1515  0381  3A 00 00    	ld	a,(_game_two_player)
1516  0384  B7          	or	a,a
1517  0385  4D          	ld	c,l
1518  0386  44          	ld	b,h
1519  0387  28 05       	jr	Z,l_game_loop_00102
1520  0389  3E 04       	ld	a,0x04
1521  038B  02          	ld	(bc), a
1522  038C  18 02       	jr	l_game_loop_00103
1523  038E              l_game_loop_00102:
1524  038E  AF          	xor	a, a
1525  038F  02          	ld	(bc), a
1526  0390              l_game_loop_00103:
1527  0390  21 00 00    	ld	hl,0x0000
1528  0393  22 00 00    	ld	(_player_score), hl
1529  0396  2E 00       	ld	l,0x00
1530  0398  22 02 00    	ld	(_player_score + 0x0002),hl
1531  039B  21 D0 07    	ld	hl,0x07d0
1532  039E  22 00 00    	ld	(_player_next_extra), hl
1533  03A1  2E D0       	ld	l,0xd0
1534  03A3  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1535  03A6  21 00 00    	ld	hl,_spr_water_clear
1536  03A9  36 FF       	ld	(hl),0xff
1537  03AB  3A 00 00    	ld	a,(_game_type)
1538  03AE  B7          	or	a, a
1539  03AF  20 0E       	jr	NZ,l_game_loop_00105
1540  03B1  21 F4 01    	ld	hl,0x01f4
1541  03B4  22 00 00    	ld	(_game_time_flipped),hl
1542  03B7  21 D0 07    	ld	hl,0x07d0
1543  03BA  22 00 00    	ld	(_game_time_fireball_start),hl
1544  03BD  18 0C       	jr	l_game_loop_00106
1545  03BF              l_game_loop_00105:
1546  03BF  21 FA 00    	ld	hl,0x00fa
1547  03C2  22 00 00    	ld	(_game_time_flipped),hl
1548  03C5  21 F4 01    	ld	hl,0x01f4
1549  03C8  22 00 00    	ld	(_game_time_fireball_start),hl
1550  03CB              l_game_loop_00106:
1551  03CB  21 00 00    	ld	hl,_game_over
1552  03CE  36 00       	ld	(hl),0x00
1553  03D0  21 00 00    	ld	hl,_game_pow
1554  03D3  36 03       	ld	(hl),0x03
1555  03D5  3A 00 00    	ld	a,(_game_start_phase)
1556  03D8  32 00 00    	ld	(_phase_curr),a
1557  03DB  CD 79 01    	call	_game_phase_init
1558  03DE  21 00 00    	ld	hl,_sprite_lin_inc_mul
1559  03E1  36 00       	ld	(hl),0x00
1560  03E3  21 00 00    	ld	hl,_dirs
1561  03E6  36 00       	ld	(hl),0x00
1562  03E8  CD 5E 0F    	call	_game_joystick_set
1563  03EB              l_game_loop_00136:
1564  03EB  3A 00 00    	ld	a,(_game_over)
1565  03EE  B7          	or	a, a
1566  03EF  C2 23 05    	jp	NZ, l_game_loop_00138
1567  03F2  CD 00 00    	call	_spr_mapfix
1568  03F5  3A 00 00    	ld	a,(_loop_count)
1569  03F8  E6 03       	and	a,0x03
1570  03FA  20 12       	jr	NZ,l_game_loop_00108
1571  03FC  CD 00 00    	call	_spr_draw_pow
1572  03FF  AF          	xor	a, a
1573  0400  F5          	push	af
1574  0401  33          	inc	sp
1575  0402  CD AB 05    	call	_game_score_osd
1576  0405  33          	inc	sp
1577  0406  3E 01       	ld	a,0x01
1578  0408  F5          	push	af
1579  0409  33          	inc	sp
1580  040A  CD AB 05    	call	_game_score_osd
1581  040D  33          	inc	sp
1582  040E              l_game_loop_00108:
1583  040E  21 00 18    	ld	hl,0x1800
1584  0411  E5          	push	hl
1585  0412  21 06 00    	ld	hl,0x0006
1586  0415  E5          	push	hl
1587  0416  3E 07       	ld	a,0x07
1588  0418  F5          	push	af
1589  0419  33          	inc	sp
1590  041A  CD 00 00    	call	_player_set
1591  041D  F1          	pop	af
1592  041E  F1          	pop	af
1593  041F  33          	inc	sp
1594  0420  CD 00 00    	call	_player_turn
1595  0423  21 18 00    	ld	hl,0x0018
1596  0426  E5          	push	hl
1597  0427  21 07 01    	ld	hl,0x0107
1598  042A  E5          	push	hl
1599  042B  3E 06       	ld	a,0x06
1600  042D  F5          	push	af
1601  042E  33          	inc	sp
1602  042F  CD 00 00    	call	_player_set
1603  0432  F1          	pop	af
1604  0433  F1          	pop	af
1605  0434  33          	inc	sp
1606  0435  CD 00 00    	call	_player_turn
1607  0438  CD 00 00    	call	_enemy_turn
1608  043B  3A 00 00    	ld	a,(_game_bonus)
1609  043E  B7          	or	a, a
1610  043F  28 16       	jr	Z,l_game_loop_00113
1611  0441  CD 6D 06    	call	_game_bonus_clock
1612  0444  3A 00 00    	ld	a,(_phase_left)
1613  0447  B7          	or	a, a
1614  0448  28 0D       	jr	Z,l_game_loop_00113
1615  044A  CD 00 00    	call	_ay_is_playing
1616  044D  7D          	ld	a, l
1617  044E  B7          	or	a, a
1618  044F  20 06       	jr	NZ,l_game_loop_00113
1619  0451  21 00 00    	ld	hl,_ay_effect_19
1620  0454  CD 00 00    	call	_ay_fx_play
1621  0457              l_game_loop_00113:
1622  0457  3A 00 00    	ld	a,(_game_osd)
1623  045A  B7          	or	a, a
1624  045B  28 53       	jr	Z,l_game_loop_00121
1625  045D  21 05 00    	ld	hl,0x0005
1626  0460  E5          	push	hl
1627  0461  2A 00 00    	ld	hl,(_osd_update_time)
1628  0464  E5          	push	hl
1629  0465  CD F2 19    	call	_game_check_time
1630  0468  F1          	pop	af
1631  0469  F1          	pop	af
1632  046A  7D          	ld	a, l
1633  046B  B7          	or	a, a
1634  046C  28 1B       	jr	Z,l_game_loop_00115
1635  046E  2A 00 00    	ld	hl,(_curr_time)
1636  0471  22 00 00    	ld	(_osd_update_time),hl
1637  0474  2E 0C       	ld	l,0x0c
1638  0476  CD BD 02    	call	_game_phase_print
1639  0479  21 17 68    	ld	hl,0x6817
1640  047C  E5          	push	hl
1641  047D  3E 0B       	ld	a,0x0b
1642  047F  F5          	push	af
1643  0480  33          	inc	sp
1644  0481  CD 3C 0D    	call	_game_paint_attrib_lin_h
1645  0484  F1          	pop	af
1646  0485  33          	inc	sp
1647  0486  CD 44 19    	call	_game_rotate_attrib
1648  0489              l_game_loop_00115:
1649  0489  21 96 00    	ld	hl,0x0096
1650  048C  E5          	push	hl
1651  048D  2A 00 00    	ld	hl,(_osd_show_time)
1652  0490  E5          	push	hl
1653  0491  CD F2 19    	call	_game_check_time
1654  0494  F1          	pop	af
1655  0495  F1          	pop	af
1656  0496  7D          	ld	a, l
1657  0497  B7          	or	a, a
1658  0498  28 16       	jr	Z,l_game_loop_00121
1659  049A  21 0C 20    	ld	hl,0x200c
1660  049D  E5          	push	hl
1661  049E  CD 00 00    	call	_game_fill_row
1662  04A1  21 00 00    	ld	hl,_game_osd
1663  04A4  36 00       	ld	(hl),0x00
1664  04A6  21 00 00    	ld	hl,_game_bonus
1665  04A9  7E          	ld	a, (hl)
1666  04AA  B7          	or	a, a
1667  04AB  20 03       	jr	NZ,l_game_loop_00121
1668  04AD  CD 91 05    	call	_game_print_phase
1669  04B0              l_game_loop_00121:
1670  04B0  CD 00 00    	call	_spr_water_splash_clear
1671  04B3  21 64 00    	ld	hl,0x0064
1672  04B6  E5          	push	hl
1673  04B7  2A 00 00    	ld	hl,(_frame_time)
1674  04BA  E5          	push	hl
1675  04BB  CD F2 19    	call	_game_check_time
1676  04BE  F1          	pop	af
1677  04BF  F1          	pop	af
1678  04C0  7D          	ld	a, l
1679  04C1  B7          	or	a, a
1680  04C2  28 4F       	jr	Z,l_game_loop_00135
1681  04C4  2A 00 00    	ld	hl,(_curr_time)
1682  04C7  22 00 00    	ld	(_frame_time),hl
1683  04CA  3A 00 00    	ld	a,(_game_bonus)
1684  04CD  B7          	or	a,a
1685  04CE  20 03       	jr	NZ,l_game_loop_00123
1686  04D0  CD 07 09    	call	_game_enemy_add
1687  04D3              l_game_loop_00123:
1688  04D3  3A 00 00    	ld	a,(_phase_end)
1689  04D6  3D          	dec	a
1690  04D7  20 3A       	jr	NZ,l_game_loop_00135
1691  04D9  3A 00 00    	ld	a,(_game_type)
1692  04DC  D6 02       	sub	a,0x02
1693  04DE  28 33       	jr	Z,l_game_loop_00135
1694  04E0  CD 00 00    	call	_ay_is_playing
1695  04E3  7D          	ld	a, l
1696  04E4  D6 02       	sub	a,0x02
1697  04E6  30 03       	jr	NC,l_game_loop_00125
1698  04E8  CD 00 00    	call	_ay_reset
1699  04EB              l_game_loop_00125:
1700  04EB  CD 00 00    	call	_spr_kill_all
1701  04EE  3A 00 00    	ld	a,(_game_bonus)
1702  04F1  B7          	or	a, a
1703  04F2  28 03       	jr	Z,l_game_loop_00127
1704  04F4  CD E4 06    	call	_game_bonus_summary
1705  04F7              l_game_loop_00127:
1706  04F7  21 00 00    	ld	hl,_phase_curr
1707  04FA  34          	inc	(hl)
1708  04FB  3E 1F       	ld	a,0x1f
1709  04FD  96          	sub	a, (hl)
1710  04FE  30 0A       	jr	NC,l_game_loop_00129
1711  0500  CD 73 12    	call	_game_end
1712  0503  21 00 00    	ld	hl,_game_over
1713  0506  36 01       	ld	(hl),0x01
1714  0508  18 09       	jr	l_game_loop_00135
1715  050A              l_game_loop_00129:
1716  050A  21 90 01    	ld	hl,0x0190
1717  050D  CD 00 00    	call	_z80_delay_ms_fastcall
1718  0510  CD 79 01    	call	_game_phase_init
1719  0513              l_game_loop_00135:
1720  0513  21 00 00    	ld	hl,_loop_count
1721  0516  34          	inc	(hl)
1722  0517  20 02       	jr	NZ,l_game_loop_00234
1723  0519  23          	inc	hl
1724  051A  34          	inc	(hl)
1725  051B              l_game_loop_00234:
1726  051B  21 00 00    	ld	hl,_game_ugly_back
1727  051E  36 00       	ld	(hl),0x00
1728  0520  C3 EB 03    	jp	l_game_loop_00136
1729  0523              l_game_loop_00138:
1730  0523  3A 00 00    	ld	a,(_score_osd_col)
1731  0526  47          	ld	b,a
1732  0527  3C          	inc	a
1733  0528  28 0C       	jr	Z,l_game_loop_00140
1734  052A  21 00 00    	ld	hl,_score_osd_lin
1735  052D  4E          	ld	c, (hl)
1736  052E  C5          	push	bc
1737  052F  3E A9       	ld	a,0xa9
1738  0531  F5          	push	af
1739  0532  33          	inc	sp
1740  0533  CD 00 00    	call	_NIRVANAP_drawT_callee
1741  0536              l_game_loop_00140:
1742  0536  3A 01 00    	ld	a,(_score_osd_col + 1)
1743  0539  47          	ld	b,a
1744  053A  3C          	inc	a
1745  053B  28 0C       	jr	Z,l_game_loop_00142
1746  053D  21 01 00    	ld	hl,+(_score_osd_lin + 0x0001)
1747  0540  4E          	ld	c, (hl)
1748  0541  C5          	push	bc
1749  0542  3E A9       	ld	a,0xa9
1750  0544  F5          	push	af
1751  0545  33          	inc	sp
1752  0546  CD 00 00    	call	_NIRVANAP_drawT_callee
1753  0549              l_game_loop_00142:
1754  0549  CD 00 00    	call	_spr_kill_all
1755  054C  21 90 01    	ld	hl,0x0190
1756  054F  CD 00 00    	call	_z80_delay_ms_fastcall
1757  0552  76          	halt
1758  0553  CD 00 00    	call	_spr_draw_background
1759  0556  CD B2 02    	call	_game_print_header
1760  0559  CD 1C 00    	call	_game_print_footer
1761  055C  CD 91 05    	call	_game_print_phase
1762  055F  21 4D 00    	ld	hl,___str_15
1763  0562  E5          	push	hl
1764  0563  21 08 0B    	ld	hl,0x0b08
1765  0566  E5          	push	hl
1766  0567  CD 00 00    	call	_zx_print_str
1767  056A  21 C8 00    	ld	hl,0x00c8
1768  056D  E5          	push	hl
1769  056E  21 0B 15    	ld	hl,0x150b
1770  0571  E5          	push	hl
1771  0572  3E 08       	ld	a,0x08
1772  0574  F5          	push	af
1773  0575  33          	inc	sp
1774  0576  CD 60 19    	call	_game_colour_message
1775  0579  F1          	pop	af
1776  057A  F1          	pop	af
1777  057B  33          	inc	sp
1778  057C  CD 00 00    	call	_spr_draw_clear
1779  057F  CD 17 15    	call	_game_hall_enter
1780  0582  CD 00 00    	call	_ay_reset
1781  0585  21 00 00    	ld	hl,_game_menu_sel
1782  0588  36 00       	ld	(hl),0x00
1783  058A  CD 50 10    	call	_game_menu_paint
1784  058D  CD 51 0F    	call	_game_joystick_set_menu
1785  0590  C9          	ret
1786  0591              	SECTION rodata_compiler
1787  0038              ___str_14:
1788  0038  54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 4E 20 45 49 4E 41 52 
                        	DEFM "THANKS ALVIN N EINAR"
1789  004C  00          	DEFB 0x00
1790  004D              	SECTION rodata_compiler
1791  004D              ___str_15:
1792  004D  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1793  0058  00          	DEFB 0x00
1794  0059              	SECTION code_compiler
1795  0591              ;	---------------------------------
1796  0591              ; Function game_print_phase
1797  0591              ; ---------------------------------
1798  0591              _game_print_phase:
1799  0591  21 59 00    	ld	hl,___str_16
1800  0594  E5          	push	hl
1801  0595  21 17 0B    	ld	hl,0x0b17
1802  0598  E5          	push	hl
1803  0599  CD 00 00    	call	_zx_print_str
1804  059C  21 00 00    	ld	hl,_phase_curr
1805  059F  46          	ld	b, (hl)
1806  05A0  04          	inc	b
1807  05A1  C5          	push	bc
1808  05A2  33          	inc	sp
1809  05A3  21 17 12    	ld	hl,0x1217
1810  05A6  E5          	push	hl
1811  05A7  CD 00 00    	call	_zx_print_chr
1812  05AA  C9          	ret
1813  05AB              	SECTION rodata_compiler
1814  0059              ___str_16:
1815  0059  50 48 41 53 45 
                        	DEFM "PHASE"
1816  005E  00          	DEFB 0x00
1817  005F              	SECTION code_compiler
1818  05AB              ;	---------------------------------
1819  05AB              ; Function game_score_osd
1820  05AB              ; ---------------------------------
1821  05AB              _game_score_osd:
1822  05AB  CD 00 00    	call	___sdcc_enter_ix
1823  05AE  F5          	push	af
1824  05AF  F5          	push	af
1825  05B0  3B          	dec	sp
1826  05B1  11 00 00    	ld	de,_score_osd_col
1827  05B4  DD 6E 04    	ld	l,(ix+4)
1828  05B7  26 00       	ld	h,0x00
1829  05B9  19          	add	hl,de
1830  05BA  DD 75 FE    	ld	(ix-2),l
1831  05BD  DD 74 FF    	ld	(ix-1),h
1832  05C0  7E          	ld	a,(hl)
1833  05C1  47          	ld	b,a
1834  05C2  3C          	inc	a
1835  05C3  CA 68 06    	jp	Z,l_game_score_osd_00108
1836  05C6  11 00 00    	ld	de,_score_osd_lin
1837  05C9  DD 6E 04    	ld	l,(ix+4)
1838  05CC  26 00       	ld	h,0x00
1839  05CE  19          	add	hl,de
1840  05CF  DD 75 FC    	ld	(ix-4),l
1841  05D2  DD 74 FD    	ld	(ix-3),h
1842  05D5  7E          	ld	a, (hl)
1843  05D6  C6 FE       	add	a,0xfe
1844  05D8  32 00 00    	ld	(_tmp),a
1845  05DB  4F          	ld	c,a
1846  05DC  C5          	push	bc
1847  05DD  CD 00 00    	call	_game_calc_index
1848  05E0  F1          	pop	af
1849  05E1  22 00 00    	ld	(_index1),hl
1850  05E4  01 00 00    	ld	bc,_lvl_1
1851  05E7  09          	add	hl,bc
1852  05E8  5E          	ld	e, (hl)
1853  05E9  21 01 00    	ld	hl,_index1 + 1
1854  05EC  DD 4E 04    	ld	c,(ix+4)
1855  05EF  06 00       	ld	b,0x00
1856  05F1  CB 21       	sla	c
1857  05F3  CB 10       	rl	b
1858  05F5  7B          	ld	a, e
1859  05F6  D6 A9       	sub	a,0xa9
1860  05F8  20 3C       	jr	NZ,l_game_score_osd_00102
1861  05FA  56          	ld	d,(hl)
1862  05FB  2B          	dec	hl
1863  05FC  5E          	ld	e,(hl)
1864  05FD  13          	inc	de
1865  05FE  21 00 00    	ld	hl,_lvl_1
1866  0601  19          	add	hl, de
1867  0602  7E          	ld	a, (hl)
1868  0603  D6 A9       	sub	a,0xa9
1869  0605  20 2F       	jr	NZ,l_game_score_osd_00102
1870  0607  76          	halt
1871  0608  DD 6E FE    	ld	l,(ix-2)
1872  060B  DD 66 FF    	ld	h,(ix-1)
1873  060E  7E          	ld	a, (hl)
1874  060F  DD 77 FB    	ld	(ix-5),a
1875  0612  DD 6E FC    	ld	l,(ix-4)
1876  0615  DD 66 FD    	ld	h,(ix-3)
1877  0618  5E          	ld	e, (hl)
1878  0619  21 00 00    	ld	hl,_score_osd_tile
1879  061C  09          	add	hl, bc
1880  061D  56          	ld	d, (hl)
1881  061E  C5          	push	bc
1882  061F  DD 7E FB    	ld	a,(ix-5)
1883  0622  F5          	push	af
1884  0623  33          	inc	sp
1885  0624  7B          	ld	a, e
1886  0625  5A          	ld	e,d
1887  0626  57          	ld	d,a
1888  0627  D5          	push	de
1889  0628  CD 00 00    	call	_NIRVANAP_drawT_callee
1890  062B  C1          	pop	bc
1891  062C  DD 6E FC    	ld	l,(ix-4)
1892  062F  DD 66 FD    	ld	h,(ix-3)
1893  0632  3A 00 00    	ld	a,(_tmp)
1894  0635  77          	ld	(hl),a
1895  0636              l_game_score_osd_00102:
1896  0636  21 00 00    	ld	hl,_score_osd_update_time
1897  0639  09          	add	hl, bc
1898  063A  4E          	ld	c, (hl)
1899  063B  23          	inc	hl
1900  063C  46          	ld	b, (hl)
1901  063D  21 3C 00    	ld	hl,0x003c
1902  0640  E5          	push	hl
1903  0641  C5          	push	bc
1904  0642  CD F2 19    	call	_game_check_time
1905  0645  F1          	pop	af
1906  0646  F1          	pop	af
1907  0647  7D          	ld	a, l
1908  0648  B7          	or	a, a
1909  0649  28 1D       	jr	Z,l_game_score_osd_00108
1910  064B  DD 6E FE    	ld	l,(ix-2)
1911  064E  DD 66 FF    	ld	h,(ix-1)
1912  0651  46          	ld	b, (hl)
1913  0652  DD 6E FC    	ld	l,(ix-4)
1914  0655  DD 66 FD    	ld	h,(ix-3)
1915  0658  4E          	ld	c, (hl)
1916  0659  C5          	push	bc
1917  065A  AF          	xor	a, a
1918  065B  F5          	push	af
1919  065C  33          	inc	sp
1920  065D  CD 00 00    	call	_NIRVANAP_fillT_callee
1921  0660  DD 6E FE    	ld	l,(ix-2)
1922  0663  DD 66 FF    	ld	h,(ix-1)
1923  0666  36 FF       	ld	(hl),0xff
1924  0668              l_game_score_osd_00108:
1925  0668  DD F9       	ld	sp, ix
1926  066A  DD E1       	pop	ix
1927  066C  C9          	ret
1928  066D              	SECTION code_compiler
1929  066D              ;	---------------------------------
1930  066D              ; Function game_bonus_clock
1931  066D              ; ---------------------------------
1932  066D              _game_bonus_clock:
1933  066D  2A 00 00    	ld	hl,(_curr_time)
1934  0670  29          	add	hl,hl
1935  0671  3E 40       	ld	a,0x40
1936  0673  95          	sub	a,l
1937  0674  44          	ld	b,h
1938  0675  21 00 00    	ld	hl,_tmp_ui
1939  0678  77          	ld	(hl), a
1940  0679  3E 06       	ld	a,0x06
1941  067B  98          	sbc	a, b
1942  067C  23          	inc	hl
1943  067D  77          	ld	(hl), a
1944  067E  3E 40       	ld	a,0x40
1945  0680  2B          	dec	hl
1946  0681  BE          	cp	a, (hl)
1947  0682  3E 06       	ld	a,0x06
1948  0684  23          	inc	hl
1949  0685  9E          	sbc	a, (hl)
1950  0686  30 25       	jr	NC,l_game_bonus_clock_00108
1951  0688  2B          	dec	hl
1952  0689  AF          	xor	a, a
1953  068A  77          	ld	(hl), a
1954  068B  23          	inc	hl
1955  068C  77          	ld	(hl), a
1956  068D  3A 00 00    	ld	a,(_phase_left)
1957  0690  B7          	or	a, a
1958  0691  28 0B       	jr	Z,l_game_bonus_clock_00102
1959  0693  21 00 00    	ld	hl,0x0000
1960  0696  E5          	push	hl
1961  0697  21 02 0E    	ld	hl,0x0e02
1962  069A  E5          	push	hl
1963  069B  CD 00 00    	call	_zx_print_bonus_time
1964  069E              l_game_bonus_clock_00102:
1965  069E  21 00 00    	ld	hl,_phase_left
1966  06A1  36 00       	ld	(hl),0x00
1967  06A3  21 00 00    	ld	hl,_phase_end
1968  06A6  36 01       	ld	(hl),0x01
1969  06A8  CD 00 00    	call	_ay_reset
1970  06AB  18 36       	jr	l_game_bonus_clock_00110
1971  06AD              l_game_bonus_clock_00108:
1972  06AD  3A 00 00    	ld	a,(_phase_left)
1973  06B0  B7          	or	a, a
1974  06B1  C8          	ret	Z
1975  06B2  2A 00 00    	ld	hl,(_tmp_ui)
1976  06B5  E5          	push	hl
1977  06B6  21 02 0E    	ld	hl,0x0e02
1978  06B9  E5          	push	hl
1979  06BA  CD 00 00    	call	_zx_print_bonus_time
1980  06BD  21 05 00    	ld	hl,0x0005
1981  06C0  E5          	push	hl
1982  06C1  2A 00 00    	ld	hl,(_frame_time)
1983  06C4  E5          	push	hl
1984  06C5  CD F2 19    	call	_game_check_time
1985  06C8  F1          	pop	af
1986  06C9  F1          	pop	af
1987  06CA  7D          	ld	a, l
1988  06CB  B7          	or	a, a
1989  06CC  C8          	ret	Z
1990  06CD  2A 00 00    	ld	hl,(_curr_time)
1991  06D0  22 00 00    	ld	(_frame_time),hl
1992  06D3  21 14 18    	ld	hl,0x1814
1993  06D6  E5          	push	hl
1994  06D7  3E 0E       	ld	a,0x0e
1995  06D9  F5          	push	af
1996  06DA  33          	inc	sp
1997  06DB  CD 3C 0D    	call	_game_paint_attrib_lin_h
1998  06DE  F1          	pop	af
1999  06DF  33          	inc	sp
2000  06E0  CD 44 19    	call	_game_rotate_attrib
2001  06E3              l_game_bonus_clock_00110:
2002  06E3  C9          	ret
2003  06E4              	SECTION code_compiler
2004  06E4              ;	---------------------------------
2005  06E4              ; Function game_bonus_summary
2006  06E4              ; ---------------------------------
2007  06E4              _game_bonus_summary:
2008  06E4  CD 00 00    	call	_spr_kill_all
2009  06E7  CD 00 00    	call	_spr_draw_clear
2010  06EA  2E 00       	ld	l,0x00
2011  06EC  CD 00 00    	call	_zx_cls_fastcall
2012  06EF  CD 98 00    	call	_game_phase_print_score_back
2013  06F2  CD C0 0C    	call	_game_print_score
2014  06F5  3A 00 00    	ld	a,(_game_lives)
2015  06F8  B7          	or	a, a
2016  06F9  28 05       	jr	Z,l_game_bonus_summary_00102
2017  06FB  2E 00       	ld	l,0x00
2018  06FD  CD 98 07    	call	_game_bonus_summary_player
2019  0700              l_game_bonus_summary_00102:
2020  0700  3A 01 00    	ld	a, (_game_lives + 1)
2021  0703  B7          	or	a, a
2022  0704  28 05       	jr	Z,l_game_bonus_summary_00104
2023  0706  2E 01       	ld	l,0x01
2024  0708  CD 98 07    	call	_game_bonus_summary_player
2025  070B              l_game_bonus_summary_00104:
2026  070B  21 1F 98    	ld	hl,0x981f
2027  070E  E5          	push	hl
2028  070F  AF          	xor	a, a
2029  0710  F5          	push	af
2030  0711  33          	inc	sp
2031  0712  CD 15 0D    	call	_game_paint_attrib_lin
2032  0715  F1          	pop	af
2033  0716  33          	inc	sp
2034  0717  3A 00 00    	ld	a,(_phase_bonus_total)
2035  071A  D6 06       	sub	a,0x06
2036  071C  20 68       	jr	NZ,l_game_bonus_summary_00109
2037  071E  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2038  0721  B7          	or	a, a
2039  0722  20 62       	jr	NZ,l_game_bonus_summary_00109
2040  0724  CD 00 00    	call	_sound_jump
2041  0727  3A 00 00    	ld	a,(_phase_curr)
2042  072A  D6 03       	sub	a,0x03
2043  072C  30 23       	jr	NC,l_game_bonus_summary_00106
2044  072E  21 5F 00    	ld	hl,___str_17
2045  0731  E5          	push	hl
2046  0732  21 12 06    	ld	hl,0x0612
2047  0735  E5          	push	hl
2048  0736  CD 00 00    	call	_zx_print_str
2049  0739  21 00 00    	ld	hl,_index_player
2050  073C  36 00       	ld	(hl),0x00
2051  073E  21 2C 01    	ld	hl,0x012c
2052  0741  CD 00 00    	call	_player_score_add
2053  0744  21 00 00    	ld	hl,_index_player
2054  0747  36 01       	ld	(hl),0x01
2055  0749  21 2C 01    	ld	hl,0x012c
2056  074C  CD 00 00    	call	_player_score_add
2057  074F  18 21       	jr	l_game_bonus_summary_00107
2058  0751              l_game_bonus_summary_00106:
2059  0751  21 72 00    	ld	hl,___str_18
2060  0754  E5          	push	hl
2061  0755  21 12 06    	ld	hl,0x0612
2062  0758  E5          	push	hl
2063  0759  CD 00 00    	call	_zx_print_str
2064  075C  21 00 00    	ld	hl,_index_player
2065  075F  36 00       	ld	(hl),0x00
2066  0761  21 F4 01    	ld	hl,0x01f4
2067  0764  CD 00 00    	call	_player_score_add
2068  0767  21 00 00    	ld	hl,_index_player
2069  076A  36 01       	ld	(hl),0x01
2070  076C  21 F4 01    	ld	hl,0x01f4
2071  076F  CD 00 00    	call	_player_score_add
2072  0772              l_game_bonus_summary_00107:
2073  0772  21 C8 00    	ld	hl,0x00c8
2074  0775  E5          	push	hl
2075  0776  21 10 1A    	ld	hl,0x1a10
2076  0779  E5          	push	hl
2077  077A  3E 12       	ld	a,0x12
2078  077C  F5          	push	af
2079  077D  33          	inc	sp
2080  077E  CD 60 19    	call	_game_colour_message
2081  0781  F1          	pop	af
2082  0782  F1          	pop	af
2083  0783  33          	inc	sp
2084  0784  18 11       	jr	l_game_bonus_summary_00112
2085  0786              l_game_bonus_summary_00109:
2086  0786  21 85 00    	ld	hl,___str_19
2087  0789  E5          	push	hl
2088  078A  21 12 0C    	ld	hl,0x0c12
2089  078D  E5          	push	hl
2090  078E  CD 00 00    	call	_zx_print_str
2091  0791  21 E8 03    	ld	hl,0x03e8
2092  0794  CD 00 00    	call	_z80_delay_ms_fastcall
2093  0797              l_game_bonus_summary_00112:
2094  0797  C9          	ret
2095  0798              	SECTION rodata_compiler
2096  005F              ___str_17:
2097  005F  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2098  0071  00          	DEFB 0x00
2099  0072              	SECTION rodata_compiler
2100  0072              ___str_18:
2101  0072  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2102  0084  00          	DEFB 0x00
2103  0085              	SECTION rodata_compiler
2104  0085              ___str_19:
2105  0085  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2106  008D  00          	DEFB 0x00
2107  008E              	SECTION code_compiler
2108  0798              ;	---------------------------------
2109  0798              ; Function game_bonus_summary_player
2110  0798              ; ---------------------------------
2111  0798              _game_bonus_summary_player:
2112  0798  CD 00 00    	call	___sdcc_enter_ix
2113  079B  F5          	push	af
2114  079C  3B          	dec	sp
2115  079D  DD 75 FF    	ld	(ix-1),l
2116  07A0  76          	halt
2117  07A1  DD 7E FF    	ld	a,(ix-1)
2118  07A4  B7          	or	a, a
2119  07A5  20 2C       	jr	NZ,l_game_bonus_summary_player_00102
2120  07A7  21 00 00    	ld	hl,_s_lin1
2121  07AA  36 06       	ld	(hl),0x06
2122  07AC  21 8E 00    	ld	hl,___str_20
2123  07AF  E5          	push	hl
2124  07B0  21 06 07    	ld	hl,0x0706
2125  07B3  E5          	push	hl
2126  07B4  CD 00 00    	call	_zx_print_str
2127  07B7  3A 00 00    	ld	a,(_s_lin1)
2128  07BA  07          	rlca
2129  07BB  07          	rlca
2130  07BC  07          	rlca
2131  07BD  E6 F8       	and	a,0xf8
2132  07BF  C6 04       	add	a,0x02+0x02
2133  07C1  4F          	ld	c, a
2134  07C2  06 04       	ld	b,0x04
2135  07C4  C5          	push	bc
2136  07C5  3E 03       	ld	a,0x03
2137  07C7  F5          	push	af
2138  07C8  33          	inc	sp
2139  07C9  CD 00 00    	call	_NIRVANAP_drawT_callee
2140  07CC  21 00 00    	ld	hl,_index_player
2141  07CF  36 00       	ld	(hl),0x00
2142  07D1  18 2A       	jr	l_game_bonus_summary_player_00103
2143  07D3              l_game_bonus_summary_player_00102:
2144  07D3  21 00 00    	ld	hl,_s_lin1
2145  07D6  36 0C       	ld	(hl),0x0c
2146  07D8  21 95 00    	ld	hl,___str_21
2147  07DB  E5          	push	hl
2148  07DC  21 0C 07    	ld	hl,0x070c
2149  07DF  E5          	push	hl
2150  07E0  CD 00 00    	call	_zx_print_str
2151  07E3  3A 00 00    	ld	a,(_s_lin1)
2152  07E6  07          	rlca
2153  07E7  07          	rlca
2154  07E8  07          	rlca
2155  07E9  E6 F8       	and	a,0xf8
2156  07EB  C6 04       	add	a,0x02+0x02
2157  07ED  4F          	ld	c, a
2158  07EE  06 04       	ld	b,0x04
2159  07F0  C5          	push	bc
2160  07F1  3E 1B       	ld	a,0x1b
2161  07F3  F5          	push	af
2162  07F4  33          	inc	sp
2163  07F5  CD 00 00    	call	_NIRVANAP_drawT_callee
2164  07F8  21 00 00    	ld	hl,_index_player
2165  07FB  36 01       	ld	(hl),0x01
2166  07FD              l_game_bonus_summary_player_00103:
2167  07FD  3A 00 00    	ld	a,(_s_lin1)
2168  0800  07          	rlca
2169  0801  07          	rlca
2170  0802  07          	rlca
2171  0803  E6 F8       	and	a,0xf8
2172  0805  C6 08       	add	a,0x08
2173  0807  F5          	push	af
2174  0808  33          	inc	sp
2175  0809  21 07 1F    	ld	hl,0x1f07
2176  080C  E5          	push	hl
2177  080D  CD 15 0D    	call	_game_paint_attrib_lin
2178  0810  F1          	pop	af
2179  0811  33          	inc	sp
2180  0812  21 00 00    	ld	hl,_tmp_uc
2181  0815  36 00       	ld	(hl),0x00
2182  0817  3E 00       	ld	a, +((_phase_bonus_total) & 0xFF)
2183  0819  DD 86 FF    	add	a,(ix-1)
2184  081C  DD 77 FD    	ld	(ix-3),a
2185  081F  3E 00       	ld	a, +((_phase_bonus_total) / 256)
2186  0821  CE 00       	adc	a,0x00
2187  0823  DD 77 FE    	ld	(ix-2),a
2188  0826              l_game_bonus_summary_player_00107:
2189  0826  E1          	pop	hl
2190  0827  4E          	ld	c,(hl)
2191  0828  3A 00 00    	ld	a,(_tmp_uc)
2192  082B  E5          	push	hl
2193  082C  91          	sub	a, c
2194  082D  30 53       	jr	NC,l_game_bonus_summary_player_00109
2195  082F  3A 00 00    	ld	a,(_s_lin1)
2196  0832  07          	rlca
2197  0833  07          	rlca
2198  0834  07          	rlca
2199  0835  E6 F8       	and	a,0xf8
2200  0837  4F          	ld	c, a
2201  0838  3A 00 00    	ld	a,(_tmp_uc)
2202  083B  D6 03       	sub	a,0x03
2203  083D  30 08       	jr	NC,l_game_bonus_summary_player_00105
2204  083F  79          	ld	a, c
2205  0840  C6 F8       	add	a,0xf8
2206  0842  32 00 00    	ld	(_s_lin0),a
2207  0845  18 06       	jr	l_game_bonus_summary_player_00106
2208  0847              l_game_bonus_summary_player_00105:
2209  0847  79          	ld	a, c
2210  0848  C6 08       	add	a,0x08
2211  084A  32 00 00    	ld	(_s_lin0),a
2212  084D              l_game_bonus_summary_player_00106:
2213  084D  76          	halt
2214  084E  2A 00 00    	ld	hl,(_tmp_uc)
2215  0851  26 03       	ld	h,0x03
2216  0853  E5          	push	hl
2217  0854  CD 00 00    	call	__moduchar_callee
2218  0857  7D          	ld	a, l
2219  0858  87          	add	a, a
2220  0859  C6 0E       	add	a,0x0e
2221  085B  F5          	push	af
2222  085C  33          	inc	sp
2223  085D  3A 00 00    	ld	a,(_s_lin0)
2224  0860  57          	ld	d,a
2225  0861  1E B9       	ld	e,0xb9
2226  0863  D5          	push	de
2227  0864  CD 00 00    	call	_NIRVANAP_drawT_callee
2228  0867  21 50 00    	ld	hl,0x0050
2229  086A  CD 00 00    	call	_player_score_add
2230  086D  21 00 00    	ld	hl,_tmp_uc
2231  0870  34          	inc	(hl)
2232  0871  21 00 00    	ld	hl,_ay_effect_09
2233  0874  CD 00 00    	call	_ay_fx_play
2234  0877  CD 00 00    	call	_sound_coin
2235  087A  21 32 00    	ld	hl,0x0032
2236  087D  CD 00 00    	call	_z80_delay_ms_fastcall
2237  0880  18 A4       	jr	l_game_bonus_summary_player_00107
2238  0882              l_game_bonus_summary_player_00109:
2239  0882  21 9B 00    	ld	hl,___str_22
2240  0885  E5          	push	hl
2241  0886  2A 00 00    	ld	hl,(_s_lin1)
2242  0889  26 16       	ld	h,0x16
2243  088B  E5          	push	hl
2244  088C  CD 00 00    	call	_zx_print_str
2245  088F  DD F9       	ld	sp, ix
2246  0891  DD E1       	pop	ix
2247  0893  C9          	ret
2248  0894              	SECTION rodata_compiler
2249  008E              ___str_20:
2250  008E  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2251  0094  00          	DEFB 0x00
2252  0095              	SECTION rodata_compiler
2253  0095              ___str_21:
2254  0095  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2255  009A  00          	DEFB 0x00
2256  009B              	SECTION rodata_compiler
2257  009B              ___str_22:
2258  009B  58 20 38 30 30 
                        	DEFM "X 800"
2259  00A0  00          	DEFB 0x00
2260  00A1              	SECTION code_compiler
2261  0894              ;	---------------------------------
2262  0894              ; Function game_check_maze
2263  0894              ; ---------------------------------
2264  0894              _game_check_maze:
2265  0894  4D          	ld	c, l
2266  0895  44          	ld	b, h
2267  0896  21 00 00    	ld	hl,_lvl_1
2268  0899  09          	add	hl, bc
2269  089A  5E          	ld	e, (hl)
2270  089B  3E 8C       	ld	a,0x8c
2271  089D  93          	sub	a, e
2272  089E  30 0B       	jr	NC,l_game_check_maze_00103
2273  08A0  03          	inc	bc
2274  08A1  21 00 00    	ld	hl,_lvl_1
2275  08A4  09          	add	hl, bc
2276  08A5  4E          	ld	c, (hl)
2277  08A6  3E 8C       	ld	a,0x8c
2278  08A8  91          	sub	a, c
2279  08A9  38 04       	jr	C,l_game_check_maze_00104
2280  08AB              l_game_check_maze_00103:
2281  08AB  2E 00       	ld	l,0x00
2282  08AD  18 02       	jr	l_game_check_maze_00105
2283  08AF              l_game_check_maze_00104:
2284  08AF  2E 01       	ld	l,0x01
2285  08B1              l_game_check_maze_00105:
2286  08B1  C9          	ret
2287  08B2              	SECTION code_compiler
2288  08B2              ;	---------------------------------
2289  08B2              ; Function game_check_floor
2290  08B2              ; ---------------------------------
2291  08B2              _game_check_floor:
2292  08B2  CD 00 00    	call	___sdcc_enter_ix
2293  08B5  3B          	dec	sp
2294  08B6  11 00 00    	ld	de,_lvl_1+0
2295  08B9  4D          	ld	c,l
2296  08BA  44          	ld	b,h
2297  08BB  6B          	ld	l, e
2298  08BC  62          	ld	h, d
2299  08BD  09          	add	hl, bc
2300  08BE  7E          	ld	a, (hl)
2301  08BF  DD 77 FF    	ld	(ix-1),a
2302  08C2  69          	ld	l, c
2303  08C3  60          	ld	h, b
2304  08C4  23          	inc	hl
2305  08C5  19          	add	hl, de
2306  08C6  6E          	ld	l, (hl)
2307  08C7  DD 7E FF    	ld	a,(ix-1)
2308  08CA  D6 11       	sub	a,0x11
2309  08CC  28 05       	jr	Z,l_game_check_floor_00101
2310  08CE  7D          	ld	a, l
2311  08CF  D6 11       	sub	a,0x11
2312  08D1  20 1E       	jr	NZ,l_game_check_floor_00102
2313  08D3              l_game_check_floor_00101:
2314  08D3  21 20 00    	ld	hl,0x0020
2315  08D6  09          	add	hl, bc
2316  08D7  19          	add	hl, de
2317  08D8  6E          	ld	l, (hl)
2318  08D9  3E 8C       	ld	a,0x8c
2319  08DB  95          	sub	a, l
2320  08DC  30 0B       	jr	NC,l_game_check_floor_00107
2321  08DE  21 21 00    	ld	hl,0x0021
2322  08E1  09          	add	hl, bc
2323  08E2  19          	add	hl, de
2324  08E3  4E          	ld	c, (hl)
2325  08E4  3E 8C       	ld	a,0x8c
2326  08E6  91          	sub	a, c
2327  08E7  38 04       	jr	C,l_game_check_floor_00108
2328  08E9              l_game_check_floor_00107:
2329  08E9  2E 00       	ld	l,0x00
2330  08EB  18 02       	jr	l_game_check_floor_00109
2331  08ED              l_game_check_floor_00108:
2332  08ED  2E 01       	ld	l,0x01
2333  08EF              l_game_check_floor_00109:
2334  08EF  18 12       	jr	l_game_check_floor_00105
2335  08F1              l_game_check_floor_00102:
2336  08F1  3E 8C       	ld	a,0x8c
2337  08F3  DD 96 FF    	sub	a,(ix-1)
2338  08F6  30 05       	jr	NC,l_game_check_floor_00110
2339  08F8  3E 8C       	ld	a,0x8c
2340  08FA  95          	sub	a, l
2341  08FB  38 04       	jr	C,l_game_check_floor_00111
2342  08FD              l_game_check_floor_00110:
2343  08FD  2E 00       	ld	l,0x00
2344  08FF  18 02       	jr	l_game_check_floor_00112
2345  0901              l_game_check_floor_00111:
2346  0901  2E 01       	ld	l,0x01
2347  0903              l_game_check_floor_00112:
2348  0903              l_game_check_floor_00105:
2349  0903  33          	inc	sp
2350  0904  DD E1       	pop	ix
2351  0906  C9          	ret
2352  0907              	SECTION code_compiler
2353  0907              ;	---------------------------------
2354  0907              ; Function game_enemy_add
2355  0907              ; ---------------------------------
2356  0907              _game_enemy_add:
2357  0907  3A 00 00    	ld	a,(_game_type)
2358  090A  D6 02       	sub	a,0x02
2359  090C  20 05       	jr	NZ,l_game_enemy_add_00106
2360  090E  CD 6B 0A    	call	_game_enemy_rnd
2361  0911  18 21       	jr	l_game_enemy_add_00107
2362  0913              l_game_enemy_add_00106:
2363  0913  3A 00 00    	ld	a,(_spr_count)
2364  0916  D6 06       	sub	a,0x06
2365  0918  30 1A       	jr	NC,l_game_enemy_add_00107
2366  091A  21 64 00    	ld	hl,0x0064
2367  091D  E5          	push	hl
2368  091E  2A 00 00    	ld	hl,(_entry_time)
2369  0921  E5          	push	hl
2370  0922  CD F2 19    	call	_game_check_time
2371  0925  F1          	pop	af
2372  0926  F1          	pop	af
2373  0927  7D          	ld	a, l
2374  0928  B7          	or	a, a
2375  0929  28 09       	jr	Z,l_game_enemy_add_00107
2376  092B  3A 00 00    	ld	a,(_phase_left)
2377  092E  B7          	or	a, a
2378  092F  28 03       	jr	Z,l_game_enemy_add_00107
2379  0931  CD 37 09    	call	_game_enemy_quota
2380  0934              l_game_enemy_add_00107:
2381  0934  2E 00       	ld	l,0x00
2382  0936  C9          	ret
2383  0937              	SECTION code_compiler
2384  0937              ;	---------------------------------
2385  0937              ; Function game_enemy_quota
2386  0937              ; ---------------------------------
2387  0937              _game_enemy_quota:
2388  0937  3A 00 00    	ld	a,(_phase_left)
2389  093A  B7          	or	a, a
2390  093B  CA E2 09    	jp	Z, l_game_enemy_quota_00128
2391  093E  CD 00 00    	call	_rand
2392  0941  7D          	ld	a, l
2393  0942  E6 03       	and	a,0x03
2394  0944  32 00 00    	ld	(_tmp),a
2395  0947  3A 00 00    	ld	a,(_phase_pop)
2396  094A  B7          	or	a, a
2397  094B  28 06       	jr	Z,l_game_enemy_quota_00101
2398  094D  3A 00 00    	ld	a,(_phase_left)
2399  0950  3D          	dec	a
2400  0951  20 05       	jr	NZ,l_game_enemy_quota_00102
2401  0953              l_game_enemy_quota_00101:
2402  0953  21 00 00    	ld	hl,_tmp
2403  0956  36 00       	ld	(hl),0x00
2404  0958              l_game_enemy_quota_00102:
2405  0958  21 00 00    	ld	hl,_tmp_sc
2406  095B  36 00       	ld	(hl),0x00
2407  095D              l_game_enemy_quota_00124:
2408  095D  3A 00 00    	ld	a,(_tmp_sc)
2409  0960  EE 80       	xor	a,0x80
2410  0962  D6 83       	sub	a,0x83
2411  0964  D2 E2 09    	jp	NC, l_game_enemy_quota_00128
2412  0967  21 00 00    	ld	hl,_tmp
2413  096A  7E          	ld	a, (hl)
2414  096B  D6 03       	sub	a,0x03
2415  096D  30 73       	jr	NC,l_game_enemy_quota_00128
2416  096F  3E 00       	ld	a, +((_phase_quota) & 0xFF)
2417  0971  86          	add	a, (hl)
2418  0972  4F          	ld	c, a
2419  0973  3E 00       	ld	a, +((_phase_quota) / 256)
2420  0975  CE 00       	adc	a,0x00
2421  0977  47          	ld	b, a
2422  0978  0A          	ld	a, (bc)
2423  0979  B7          	or	a, a
2424  097A  28 54       	jr	Z,l_game_enemy_quota_00120
2425  097C  C6 FF       	add	a,0xff
2426  097E  02          	ld	(bc), a
2427  097F  3A 00 00    	ld	a,(_phase_angry)
2428  0982  B7          	or	a, a
2429  0983  28 24       	jr	Z,l_game_enemy_quota_00117
2430  0985  3A 00 00    	ld	a,(_tmp)
2431  0988  B7          	or	a, a
2432  0989  20 05       	jr	NZ,l_game_enemy_quota_00105
2433  098B  2E 03       	ld	l,0x03
2434  098D  CD 9B 0A    	call	_game_enemy_add1
2435  0990              l_game_enemy_quota_00105:
2436  0990  3A 00 00    	ld	a,(_tmp)
2437  0993  3D          	dec	a
2438  0994  20 05       	jr	NZ,l_game_enemy_quota_00107
2439  0996  2E 06       	ld	l,0x06
2440  0998  CD 9B 0A    	call	_game_enemy_add1
2441  099B              l_game_enemy_quota_00107:
2442  099B  3A 00 00    	ld	a,(_tmp)
2443  099E  D6 02       	sub	a,0x02
2444  09A0  20 29       	jr	NZ,l_game_enemy_quota_00118
2445  09A2  2E 09       	ld	l,0x09
2446  09A4  CD 9B 0A    	call	_game_enemy_add1
2447  09A7  18 22       	jr	l_game_enemy_quota_00118
2448  09A9              l_game_enemy_quota_00117:
2449  09A9  3A 00 00    	ld	a,(_tmp)
2450  09AC  B7          	or	a, a
2451  09AD  20 05       	jr	NZ,l_game_enemy_quota_00111
2452  09AF  2E 01       	ld	l,0x01
2453  09B1  CD 9B 0A    	call	_game_enemy_add1
2454  09B4              l_game_enemy_quota_00111:
2455  09B4  3A 00 00    	ld	a,(_tmp)
2456  09B7  3D          	dec	a
2457  09B8  20 05       	jr	NZ,l_game_enemy_quota_00113
2458  09BA  2E 04       	ld	l,0x04
2459  09BC  CD 9B 0A    	call	_game_enemy_add1
2460  09BF              l_game_enemy_quota_00113:
2461  09BF  3A 00 00    	ld	a,(_tmp)
2462  09C2  D6 02       	sub	a,0x02
2463  09C4  20 05       	jr	NZ,l_game_enemy_quota_00118
2464  09C6  2E 09       	ld	l,0x09
2465  09C8  CD 9B 0A    	call	_game_enemy_add1
2466  09CB              l_game_enemy_quota_00118:
2467  09CB  2E 00       	ld	l,0x00
2468  09CD  C3 6A 0A    	jp	l_game_enemy_quota_00144
2469  09D0              l_game_enemy_quota_00120:
2470  09D0  21 00 00    	ld	hl,_tmp
2471  09D3  34          	inc	(hl)
2472  09D4  3E 02       	ld	a,0x02
2473  09D6  96          	sub	a, (hl)
2474  09D7  30 02       	jr	NC,l_game_enemy_quota_00122
2475  09D9  36 00       	ld	(hl),0x00
2476  09DB              l_game_enemy_quota_00122:
2477  09DB  21 00 00    	ld	hl,_tmp_sc
2478  09DE  34          	inc	(hl)
2479  09DF  C3 5D 09    	jp	l_game_enemy_quota_00124
2480  09E2              l_game_enemy_quota_00128:
2481  09E2  3A 00 00    	ld	a,(_phase_coins)
2482  09E5  B7          	or	a, a
2483  09E6  28 0A       	jr	Z,l_game_enemy_quota_00130
2484  09E8  2E 08       	ld	l,0x08
2485  09EA  CD 9B 0A    	call	_game_enemy_add1
2486  09ED  2E 00       	ld	l,0x00
2487  09EF  C3 6A 0A    	jp	l_game_enemy_quota_00144
2488  09F2              l_game_enemy_quota_00130:
2489  09F2  CD 00 00    	call	_rand
2490  09F5  7D          	ld	a, l
2491  09F6  E6 03       	and	a,0x03
2492  09F8  4F          	ld	c, a
2493  09F9  06 00       	ld	b,0x00
2494  09FB  79          	ld	a, c
2495  09FC  B7          	or	a, a
2496  09FD  B0          	or	a, b
2497  09FE  28 13       	jr	Z,l_game_enemy_quota_00131
2498  0A00  79          	ld	a, c
2499  0A01  3D          	dec	a
2500  0A02  B0          	or	a, b
2501  0A03  28 1D       	jr	Z,l_game_enemy_quota_00134
2502  0A05  79          	ld	a, c
2503  0A06  D6 02       	sub	a,0x02
2504  0A08  B0          	or	a, b
2505  0A09  28 2F       	jr	Z,l_game_enemy_quota_00137
2506  0A0B  79          	ld	a, c
2507  0A0C  D6 03       	sub	a,0x03
2508  0A0E  B0          	or	a, b
2509  0A0F  28 41       	jr	Z,l_game_enemy_quota_00140
2510  0A11  18 55       	jr	l_game_enemy_quota_00143
2511  0A13              l_game_enemy_quota_00131:
2512  0A13  3E 07       	ld	a,0x07
2513  0A15  21 00 00    	ld	hl,_phase_curr
2514  0A18  96          	sub	a, (hl)
2515  0A19  30 4D       	jr	NC,l_game_enemy_quota_00143
2516  0A1B  2E 07       	ld	l,0x07
2517  0A1D  CD 9B 0A    	call	_game_enemy_add1
2518  0A20  18 46       	jr	l_game_enemy_quota_00143
2519  0A22              l_game_enemy_quota_00134:
2520  0A22  2A 00 00    	ld	hl,(_game_time_fireball_start)
2521  0A25  E5          	push	hl
2522  0A26  21 00 00    	ld	hl,0x0000
2523  0A29  E5          	push	hl
2524  0A2A  CD F2 19    	call	_game_check_time
2525  0A2D  F1          	pop	af
2526  0A2E  F1          	pop	af
2527  0A2F  7D          	ld	a, l
2528  0A30  B7          	or	a, a
2529  0A31  28 35       	jr	Z,l_game_enemy_quota_00143
2530  0A33  2E 0B       	ld	l,0x0b
2531  0A35  CD 9B 0A    	call	_game_enemy_add1
2532  0A38  18 2E       	jr	l_game_enemy_quota_00143
2533  0A3A              l_game_enemy_quota_00137:
2534  0A3A  2A 00 00    	ld	hl,(_game_time_fireball_start)
2535  0A3D  E5          	push	hl
2536  0A3E  21 00 00    	ld	hl,0x0000
2537  0A41  E5          	push	hl
2538  0A42  CD F2 19    	call	_game_check_time
2539  0A45  F1          	pop	af
2540  0A46  F1          	pop	af
2541  0A47  7D          	ld	a, l
2542  0A48  B7          	or	a, a
2543  0A49  28 1D       	jr	Z,l_game_enemy_quota_00143
2544  0A4B  2E 0B       	ld	l,0x0b
2545  0A4D  CD 9B 0A    	call	_game_enemy_add1
2546  0A50  18 16       	jr	l_game_enemy_quota_00143
2547  0A52              l_game_enemy_quota_00140:
2548  0A52  2A 00 00    	ld	hl,(_game_time_fireball_start)
2549  0A55  E5          	push	hl
2550  0A56  21 00 00    	ld	hl,0x0000
2551  0A59  E5          	push	hl
2552  0A5A  CD F2 19    	call	_game_check_time
2553  0A5D  F1          	pop	af
2554  0A5E  F1          	pop	af
2555  0A5F  7D          	ld	a, l
2556  0A60  B7          	or	a, a
2557  0A61  28 05       	jr	Z,l_game_enemy_quota_00143
2558  0A63  2E 0A       	ld	l,0x0a
2559  0A65  CD 9B 0A    	call	_game_enemy_add1
2560  0A68              l_game_enemy_quota_00143:
2561  0A68  2E 00       	ld	l,0x00
2562  0A6A              l_game_enemy_quota_00144:
2563  0A6A  C9          	ret
2564  0A6B              	SECTION code_compiler
2565  0A6B              ;	---------------------------------
2566  0A6B              ; Function game_enemy_rnd
2567  0A6B              ; ---------------------------------
2568  0A6B              _game_enemy_rnd:
2569  0A6B  3A 00 00    	ld	a,(_spr_count)
2570  0A6E  D6 06       	sub	a,0x06
2571  0A70  30 26       	jr	NC,l_game_enemy_rnd_00102
2572  0A72  21 64 00    	ld	hl,0x0064
2573  0A75  E5          	push	hl
2574  0A76  2A 00 00    	ld	hl,(_entry_time)
2575  0A79  E5          	push	hl
2576  0A7A  CD F2 19    	call	_game_check_time
2577  0A7D  F1          	pop	af
2578  0A7E  F1          	pop	af
2579  0A7F  7D          	ld	a, l
2580  0A80  B7          	or	a, a
2581  0A81  28 15       	jr	Z,l_game_enemy_rnd_00102
2582  0A83  2A 00 00    	ld	hl,(_curr_time)
2583  0A86  22 00 00    	ld	(_entry_time),hl
2584  0A89  CD 00 00    	call	_rand
2585  0A8C  01 0B 00    	ld	bc,0x000b
2586  0A8F  C5          	push	bc
2587  0A90  E5          	push	hl
2588  0A91  CD 00 00    	call	__modsint_callee
2589  0A94  2C          	inc	l
2590  0A95  CD 9B 0A    	call	_game_enemy_add1
2591  0A98              l_game_enemy_rnd_00102:
2592  0A98  2E 00       	ld	l,0x00
2593  0A9A  C9          	ret
2594  0A9B              	SECTION code_compiler
2595  0A9B              ;	---------------------------------
2596  0A9B              ; Function game_enemy_add1
2597  0A9B              ; ---------------------------------
2598  0A9B              _game_enemy_add1:
2599  0A9B  CD 00 00    	call	___sdcc_enter_ix
2600  0A9E  F5          	push	af
2601  0A9F  45          	ld	b, l
2602  0AA0  78          	ld	a, b
2603  0AA1  D6 0A       	sub	a,0x0a
2604  0AA3  20 04       	jr	NZ,l_game_enemy_add1_00185
2605  0AA5  3E 01       	ld	a,0x01
2606  0AA7  18 01       	jr	l_game_enemy_add1_00186
2607  0AA9              l_game_enemy_add1_00185:
2608  0AA9  AF          	xor	a,a
2609  0AAA              l_game_enemy_add1_00186:
2610  0AAA  4F          	ld	c,a
2611  0AAB  B7          	or	a, a
2612  0AAC  28 0B       	jr	Z,l_game_enemy_add1_00105
2613  0AAE  C5          	push	bc
2614  0AAF  2E 0A       	ld	l,0x0a
2615  0AB1  CD DD 0B    	call	_game_enemy_add_get_index
2616  0AB4  C1          	pop	bc
2617  0AB5  5D          	ld	e,l
2618  0AB6  1C          	inc	e
2619  0AB7  20 2B       	jr	NZ,l_game_enemy_add1_00101
2620  0AB9              l_game_enemy_add1_00105:
2621  0AB9  78          	ld	a, b
2622  0ABA  D6 0B       	sub	a,0x0b
2623  0ABC  20 04       	jr	NZ,l_game_enemy_add1_00189
2624  0ABE  3E 01       	ld	a,0x01
2625  0AC0  18 01       	jr	l_game_enemy_add1_00190
2626  0AC2              l_game_enemy_add1_00189:
2627  0AC2  AF          	xor	a,a
2628  0AC3              l_game_enemy_add1_00190:
2629  0AC3  DD 77 FF    	ld	(ix-1),a
2630  0AC6  B7          	or	a, a
2631  0AC7  28 0B       	jr	Z,l_game_enemy_add1_00107
2632  0AC9  C5          	push	bc
2633  0ACA  2E 0B       	ld	l,0x0b
2634  0ACC  CD DD 0B    	call	_game_enemy_add_get_index
2635  0ACF  C1          	pop	bc
2636  0AD0  5D          	ld	e,l
2637  0AD1  1C          	inc	e
2638  0AD2  20 10       	jr	NZ,l_game_enemy_add1_00101
2639  0AD4              l_game_enemy_add1_00107:
2640  0AD4  78          	ld	a, b
2641  0AD5  D6 07       	sub	a,0x07
2642  0AD7  20 10       	jr	NZ,l_game_enemy_add1_00102
2643  0AD9  C5          	push	bc
2644  0ADA  2E 07       	ld	l,0x07
2645  0ADC  CD DD 0B    	call	_game_enemy_add_get_index
2646  0ADF  C1          	pop	bc
2647  0AE0  5D          	ld	e,l
2648  0AE1  1C          	inc	e
2649  0AE2  28 05       	jr	Z,l_game_enemy_add1_00102
2650  0AE4              l_game_enemy_add1_00101:
2651  0AE4  2E 00       	ld	l,0x00
2652  0AE6  C3 D9 0B    	jp	l_game_enemy_add1_00131
2653  0AE9              l_game_enemy_add1_00102:
2654  0AE9  21 00 00    	ld	hl,_phase_pop
2655  0AEC  34          	inc	(hl)
2656  0AED  C5          	push	bc
2657  0AEE  CD 00 00    	call	_sound_enter_enemy
2658  0AF1  2E 00       	ld	l,0x00
2659  0AF3  CD DD 0B    	call	_game_enemy_add_get_index
2660  0AF6  C1          	pop	bc
2661  0AF7  7D          	ld	a,l
2662  0AF8  32 00 00    	ld	(_tmp),a
2663  0AFB  C5          	push	bc
2664  0AFC  CD 00 00    	call	_rand
2665  0AFF  C1          	pop	bc
2666  0B00  7D          	ld	a, l
2667  0B01  E6 01       	and	a,0x01
2668  0B03  32 00 00    	ld	(_tmp0),a
2669  0B06  3D          	dec	a
2670  0B07  20 1C       	jr	NZ,l_game_enemy_add1_00113
2671  0B09  21 00 00    	ld	hl,_s_lin0
2672  0B0C  36 10       	ld	(hl),0x10
2673  0B0E  21 00 00    	ld	hl,_s_col0
2674  0B11  36 04       	ld	(hl),0x04
2675  0B13  21 00 00    	ld	hl,_s_col1
2676  0B16  36 02       	ld	(hl),0x02
2677  0B18  79          	ld	a, c
2678  0B19  B7          	or	a, a
2679  0B1A  28 02       	jr	Z,l_game_enemy_add1_00109
2680  0B1C  36 03       	ld	(hl),0x03
2681  0B1E              l_game_enemy_add1_00109:
2682  0B1E  21 00 00    	ld	hl,_tmp1
2683  0B21  36 01       	ld	(hl),0x01
2684  0B23  18 1A       	jr	l_game_enemy_add1_00114
2685  0B25              l_game_enemy_add1_00113:
2686  0B25  21 00 00    	ld	hl,_s_lin0
2687  0B28  36 10       	ld	(hl),0x10
2688  0B2A  21 00 00    	ld	hl,_s_col0
2689  0B2D  36 1A       	ld	(hl),0x1a
2690  0B2F  21 00 00    	ld	hl,_s_col1
2691  0B32  36 1E       	ld	(hl),0x1e
2692  0B34  79          	ld	a, c
2693  0B35  B7          	or	a, a
2694  0B36  28 02       	jr	Z,l_game_enemy_add1_00111
2695  0B38  36 1C       	ld	(hl),0x1c
2696  0B3A              l_game_enemy_add1_00111:
2697  0B3A  21 00 00    	ld	hl,_tmp1
2698  0B3D  36 FF       	ld	(hl),0xff
2699  0B3F              l_game_enemy_add1_00114:
2700  0B3F  78          	ld	a, b
2701  0B40  D6 08       	sub	a,0x08
2702  0B42  20 04       	jr	NZ,l_game_enemy_add1_00198
2703  0B44  3E 01       	ld	a,0x01
2704  0B46  18 01       	jr	l_game_enemy_add1_00199
2705  0B48              l_game_enemy_add1_00198:
2706  0B48  AF          	xor	a,a
2707  0B49              l_game_enemy_add1_00199:
2708  0B49  DD 77 FE    	ld	(ix-2),a
2709  0B4C  B7          	or	a, a
2710  0B4D  28 04       	jr	Z,l_game_enemy_add1_00116
2711  0B4F  21 00 00    	ld	hl,_phase_coins
2712  0B52  35          	dec	(hl)
2713  0B53              l_game_enemy_add1_00116:
2714  0B53  21 00 00    	ld	hl,_tmp_uc
2715  0B56  36 00       	ld	(hl),0x00
2716  0B58  DD 7E FF    	ld	a,(ix-1)
2717  0B5B  B7          	or	a,a
2718  0B5C  20 03       	jr	NZ,l_game_enemy_add1_00123
2719  0B5E  B1          	or	a,c
2720  0B5F  28 35       	jr	Z,l_game_enemy_add1_00124
2721  0B61              l_game_enemy_add1_00123:
2722  0B61  C5          	push	bc
2723  0B62  CD 00 00    	call	_rand
2724  0B65  11 03 00    	ld	de,0x0003
2725  0B68  D5          	push	de
2726  0B69  E5          	push	hl
2727  0B6A  CD 00 00    	call	__modsint_callee
2728  0B6D  C1          	pop	bc
2729  0B6E  5D          	ld	e,l
2730  0B6F  21 00 00    	ld	hl,_tmp_uc
2731  0B72  73          	ld	(hl),e
2732  0B73  7B          	ld	a,e
2733  0B74  B7          	or	a, a
2734  0B75  20 02       	jr	NZ,l_game_enemy_add1_00118
2735  0B77  36 10       	ld	(hl),0x10
2736  0B79              l_game_enemy_add1_00118:
2737  0B79  3A 00 00    	ld	a,(_tmp_uc)
2738  0B7C  3D          	dec	a
2739  0B7D  20 05       	jr	NZ,l_game_enemy_add1_00120
2740  0B7F  21 00 00    	ld	hl,_tmp_uc
2741  0B82  36 38       	ld	(hl),0x38
2742  0B84              l_game_enemy_add1_00120:
2743  0B84  3A 00 00    	ld	a,(_tmp_uc)
2744  0B87  D6 02       	sub	a,0x02
2745  0B89  20 05       	jr	NZ,l_game_enemy_add1_00122
2746  0B8B  21 00 00    	ld	hl,_tmp_uc
2747  0B8E  36 84       	ld	(hl),0x84
2748  0B90              l_game_enemy_add1_00122:
2749  0B90  3A 00 00    	ld	a,(_s_col1)
2750  0B93  32 00 00    	ld	(_s_col0),a
2751  0B96              l_game_enemy_add1_00124:
2752  0B96  CD 00 00    	call	_ay_is_playing
2753  0B99  7D          	ld	a, l
2754  0B9A  D6 02       	sub	a,0x02
2755  0B9C  30 14       	jr	NC,l_game_enemy_add1_00130
2756  0B9E  DD 7E FE    	ld	a,(ix-2)
2757  0BA1  B7          	or	a, a
2758  0BA2  20 08       	jr	NZ,l_game_enemy_add1_00127
2759  0BA4  21 00 00    	ld	hl,_ay_effect_04
2760  0BA7  CD 00 00    	call	_ay_fx_play
2761  0BAA  18 06       	jr	l_game_enemy_add1_00130
2762  0BAC              l_game_enemy_add1_00127:
2763  0BAC  21 00 00    	ld	hl,_ay_effect_07
2764  0BAF  CD 00 00    	call	_ay_fx_play
2765  0BB2              l_game_enemy_add1_00130:
2766  0BB2  2A 00 00    	ld	hl,(_curr_time)
2767  0BB5  22 00 00    	ld	(_entry_time),hl
2768  0BB8  3A 00 00    	ld	a,(_s_lin0)
2769  0BBB  21 00 00    	ld	hl,_tmp_uc
2770  0BBE  86          	add	a, (hl)
2771  0BBF  57          	ld	d, a
2772  0BC0  3A 00 00    	ld	a,(_tmp1)
2773  0BC3  48          	ld	c,b
2774  0BC4  47          	ld	b,a
2775  0BC5  3A 00 00    	ld	a,(_s_col0)
2776  0BC8  C5          	push	bc
2777  0BC9  5A          	ld	e,d
2778  0BCA  57          	ld	d,a
2779  0BCB  3A 00 00    	ld	a,(_tmp)
2780  0BCE  D5          	push	de
2781  0BCF  F5          	push	af
2782  0BD0  33          	inc	sp
2783  0BD1  CD 00 00    	call	_enemy_init
2784  0BD4  F1          	pop	af
2785  0BD5  F1          	pop	af
2786  0BD6  33          	inc	sp
2787  0BD7  2E 00       	ld	l,0x00
2788  0BD9              l_game_enemy_add1_00131:
2789  0BD9  F1          	pop	af
2790  0BDA  DD E1       	pop	ix
2791  0BDC  C9          	ret
2792  0BDD              	SECTION code_compiler
2793  0BDD              ;	---------------------------------
2794  0BDD              ; Function game_enemy_add_get_index
2795  0BDD              ; ---------------------------------
2796  0BDD              _game_enemy_add_get_index:
2797  0BDD  4D          	ld	c, l
2798  0BDE  21 00 00    	ld	hl,_enemies
2799  0BE1  36 00       	ld	(hl),0x00
2800  0BE3              l_game_enemy_add_get_index_00104:
2801  0BE3  2A 00 00    	ld	hl,(_enemies)
2802  0BE6  26 00       	ld	h,0x00
2803  0BE8  11 00 00    	ld	de,_class
2804  0BEB  19          	add	hl,de
2805  0BEC  7E          	ld	a,(hl)
2806  0BED  91          	sub	a,c
2807  0BEE  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2808  0BF0  2A 00 00    	ld	hl,(_enemies)
2809  0BF3  18 0B       	jr	l_game_enemy_add_get_index_00106
2810  0BF5              l_game_enemy_add_get_index_00105:
2811  0BF5  21 00 00    	ld	hl,_enemies
2812  0BF8  34          	inc	(hl)
2813  0BF9  3E 05       	ld	a,0x05
2814  0BFB  96          	sub	a, (hl)
2815  0BFC  30 E5       	jr	NC,l_game_enemy_add_get_index_00104
2816  0BFE  2E FF       	ld	l,0xff
2817  0C00              l_game_enemy_add_get_index_00106:
2818  0C00  C9          	ret
2819  0C01              	SECTION code_compiler
2820  0C01              ;	---------------------------------
2821  0C01              ; Function game_freeze
2822  0C01              ; ---------------------------------
2823  0C01              _game_freeze:
2824  0C01  CD 00 00    	call	___sdcc_enter_ix
2825  0C04  DD 7E 05    	ld	a,(ix+5)
2826  0C07  D6 1F       	sub	a,0x1f
2827  0C09  30 60       	jr	NC,l_game_freeze_00107
2828  0C0B  21 00 00    	ld	hl,_tmp
2829  0C0E  36 01       	ld	(hl),0x01
2830  0C10  DD 66 05    	ld	h,(ix+5)
2831  0C13  DD 6E 04    	ld	l,(ix+4)
2832  0C16  E5          	push	hl
2833  0C17  CD 00 00    	call	_game_calc_index
2834  0C1A  F1          	pop	af
2835  0C1B  22 00 00    	ld	(_index1),hl
2836  0C1E  01 00 00    	ld	bc,_lvl_1
2837  0C21  09          	add	hl,bc
2838  0C22  7E          	ld	a,(hl)
2839  0C23  D6 84       	sub	a,0x84
2840  0C25  20 44       	jr	NZ,l_game_freeze_00107
2841  0C27  36 8B       	ld	(hl),0x8b
2842  0C29  76          	halt
2843  0C2A  DD 7E 05    	ld	a,(ix+5)
2844  0C2D  F5          	push	af
2845  0C2E  33          	inc	sp
2846  0C2F  DD 56 04    	ld	d,(ix+4)
2847  0C32  1E 8B       	ld	e,0x8b
2848  0C34  D5          	push	de
2849  0C35  CD 00 00    	call	_NIRVANAP_drawT_callee
2850  0C38  ED 4B 00 00 	ld	bc,(_index1)
2851  0C3C  03          	inc	bc
2852  0C3D  21 00 00    	ld	hl,_lvl_1
2853  0C40  09          	add	hl, bc
2854  0C41  4E          	ld	c, (hl)
2855  0C42  DD 46 05    	ld	b,(ix+5)
2856  0C45  04          	inc	b
2857  0C46  79          	ld	a, c
2858  0C47  D6 A9       	sub	a,0xa9
2859  0C49  20 0C       	jr	NZ,l_game_freeze_00102
2860  0C4B  C5          	push	bc
2861  0C4C  DD 4E 04    	ld	c,(ix+4)
2862  0C4F  C5          	push	bc
2863  0C50  AF          	xor	a, a
2864  0C51  F5          	push	af
2865  0C52  33          	inc	sp
2866  0C53  CD 00 00    	call	_NIRVANAP_fillT_callee
2867  0C56  C1          	pop	bc
2868  0C57              l_game_freeze_00102:
2869  0C57  DD 4E 04    	ld	c,(ix+4)
2870  0C5A  C5          	push	bc
2871  0C5B  CD 01 0C    	call	_game_freeze
2872  0C5E  F1          	pop	af
2873  0C5F  DD 46 05    	ld	b,(ix+5)
2874  0C62  05          	dec	b
2875  0C63  DD 4E 04    	ld	c,(ix+4)
2876  0C66  C5          	push	bc
2877  0C67  CD 01 0C    	call	_game_freeze
2878  0C6A  F1          	pop	af
2879  0C6B              l_game_freeze_00107:
2880  0C6B  DD E1       	pop	ix
2881  0C6D  C9          	ret
2882  0C6E              	SECTION code_compiler
2883  0C6E              ;	---------------------------------
2884  0C6E              ; Function game_unfreeze_all
2885  0C6E              ; ---------------------------------
2886  0C6E              _game_unfreeze_all:
2887  0C6E  21 C0 00    	ld	hl,0x00c0
2888  0C71  22 00 00    	ld	(_index1),hl
2889  0C74              l_game_unfreeze_all_00104:
2890  0C74  01 00 00    	ld	bc,_lvl_1
2891  0C77  2A 00 00    	ld	hl,(_index1)
2892  0C7A  09          	add	hl,bc
2893  0C7B  7E          	ld	a,(hl)
2894  0C7C  D6 8B       	sub	a,0x8b
2895  0C7E  20 02       	jr	NZ,l_game_unfreeze_all_00105
2896  0C80  36 84       	ld	(hl),0x84
2897  0C82              l_game_unfreeze_all_00105:
2898  0C82  21 00 00    	ld	hl,_index1
2899  0C85  34          	inc	(hl)
2900  0C86  20 02       	jr	NZ,l_game_unfreeze_all_00118
2901  0C88  23          	inc	hl
2902  0C89  34          	inc	(hl)
2903  0C8A              l_game_unfreeze_all_00118:
2904  0C8A  3E 20       	ld	a,0x20
2905  0C8C  21 00 00    	ld	hl,_index1
2906  0C8F  BE          	cp	a, (hl)
2907  0C90  3E 02       	ld	a,0x02
2908  0C92  23          	inc	hl
2909  0C93  9E          	sbc	a, (hl)
2910  0C94  30 DE       	jr	NC,l_game_unfreeze_all_00104
2911  0C96  C9          	ret
2912  0C97              	SECTION code_compiler
2913  0C97              ;	---------------------------------
2914  0C97              ; Function game_freeze_all
2915  0C97              ; ---------------------------------
2916  0C97              _game_freeze_all:
2917  0C97  21 C0 00    	ld	hl,0x00c0
2918  0C9A  22 00 00    	ld	(_index1),hl
2919  0C9D              l_game_freeze_all_00104:
2920  0C9D  01 00 00    	ld	bc,_lvl_1
2921  0CA0  2A 00 00    	ld	hl,(_index1)
2922  0CA3  09          	add	hl,bc
2923  0CA4  7E          	ld	a,(hl)
2924  0CA5  D6 84       	sub	a,0x84
2925  0CA7  20 02       	jr	NZ,l_game_freeze_all_00105
2926  0CA9  36 8B       	ld	(hl),0x8b
2927  0CAB              l_game_freeze_all_00105:
2928  0CAB  21 00 00    	ld	hl,_index1
2929  0CAE  34          	inc	(hl)
2930  0CAF  20 02       	jr	NZ,l_game_freeze_all_00118
2931  0CB1  23          	inc	hl
2932  0CB2  34          	inc	(hl)
2933  0CB3              l_game_freeze_all_00118:
2934  0CB3  3E 20       	ld	a,0x20
2935  0CB5  21 00 00    	ld	hl,_index1
2936  0CB8  BE          	cp	a, (hl)
2937  0CB9  3E 02       	ld	a,0x02
2938  0CBB  23          	inc	hl
2939  0CBC  9E          	sbc	a, (hl)
2940  0CBD  30 DE       	jr	NC,l_game_freeze_all_00104
2941  0CBF  C9          	ret
2942  0CC0              	SECTION code_compiler
2943  0CC0              ;	---------------------------------
2944  0CC0              ; Function game_print_score
2945  0CC0              ; ---------------------------------
2946  0CC0              _game_print_score:
2947  0CC0  21 00 00    	ld	hl,_screen_ink
2948  0CC3  36 07       	ld	(hl),0x07
2949  0CC5  21 00 00    	ld	hl,_screen_paper
2950  0CC8  36 00       	ld	(hl),0x00
2951  0CCA  2A 00 00    	ld	hl,(_player_score)
2952  0CCD  E5          	push	hl
2953  0CCE  21 00 03    	ld	hl,0x0300
2954  0CD1  E5          	push	hl
2955  0CD2  CD 00 00    	call	_zx_print_int
2956  0CD5  2A 00 00    	ld	hl,(_game_score_top)
2957  0CD8  E5          	push	hl
2958  0CD9  21 00 0E    	ld	hl,0x0e00
2959  0CDC  E5          	push	hl
2960  0CDD  CD 00 00    	call	_zx_print_int
2961  0CE0  3A 00 00    	ld	a,(_game_two_player)
2962  0CE3  B7          	or	a, a
2963  0CE4  C8          	ret	Z
2964  0CE5  2A 02 00    	ld	hl, (_player_score + 2)
2965  0CE8  E5          	push	hl
2966  0CE9  21 00 18    	ld	hl,0x1800
2967  0CEC  E5          	push	hl
2968  0CED  CD 00 00    	call	_zx_print_int
2969  0CF0  C9          	ret
2970  0CF1              	SECTION code_compiler
2971  0CF1              ;	---------------------------------
2972  0CF1              ; Function game_paint_attrib
2973  0CF1              ; ---------------------------------
2974  0CF1              _game_paint_attrib:
2975  0CF1  7D          	ld	a,l
2976  0CF2  32 00 00    	ld	(_tmp0),a
2977  0CF5              l_game_paint_attrib_00103:
2978  0CF5  3E 13       	ld	a,0x13
2979  0CF7  21 00 00    	ld	hl,_tmp0
2980  0CFA  96          	sub	a, (hl)
2981  0CFB  D8          	ret	C
2982  0CFC  7E          	ld	a, (hl)
2983  0CFD  07          	rlca
2984  0CFE  07          	rlca
2985  0CFF  07          	rlca
2986  0D00  E6 F8       	and	a,0xf8
2987  0D02  C6 08       	add	a,0x08
2988  0D04  F5          	push	af
2989  0D05  33          	inc	sp
2990  0D06  21 01 1F    	ld	hl,0x1f01
2991  0D09  E5          	push	hl
2992  0D0A  CD 15 0D    	call	_game_paint_attrib_lin
2993  0D0D  F1          	pop	af
2994  0D0E  33          	inc	sp
2995  0D0F  21 00 00    	ld	hl,_tmp0
2996  0D12  34          	inc	(hl)
2997  0D13  18 E0       	jr	l_game_paint_attrib_00103
2998  0D15              	SECTION code_compiler
2999  0D15              ;	---------------------------------
3000  0D15              ; Function game_paint_attrib_lin
3001  0D15              ; ---------------------------------
3002  0D15              _game_paint_attrib_lin:
3003  0D15  CD 00 00    	call	___sdcc_enter_ix
3004  0D18  DD 7E 04    	ld	a,(ix+4)
3005  0D1B  32 00 00    	ld	(_tmp_uc),a
3006  0D1E              l_game_paint_attrib_lin_00103:
3007  0D1E  21 00 00    	ld	hl,_tmp_uc
3008  0D21  7E          	ld	a, (hl)
3009  0D22  DD 96 05    	sub	a,(ix+5)
3010  0D25  30 12       	jr	NC,l_game_paint_attrib_lin_00105
3011  0D27  66          	ld	h,(hl)
3012  0D28  DD 6E 06    	ld	l,(ix+6)
3013  0D2B  E5          	push	hl
3014  0D2C  21 00 00    	ld	hl,_attrib
3015  0D2F  E5          	push	hl
3016  0D30  CD 00 00    	call	_NIRVANAP_paintC_callee
3017  0D33  21 00 00    	ld	hl,_tmp_uc
3018  0D36  34          	inc	(hl)
3019  0D37  18 E5       	jr	l_game_paint_attrib_lin_00103
3020  0D39              l_game_paint_attrib_lin_00105:
3021  0D39  DD E1       	pop	ix
3022  0D3B  C9          	ret
3023  0D3C              	SECTION code_compiler
3024  0D3C              ;	---------------------------------
3025  0D3C              ; Function game_paint_attrib_lin_h
3026  0D3C              ; ---------------------------------
3027  0D3C              _game_paint_attrib_lin_h:
3028  0D3C  CD 00 00    	call	___sdcc_enter_ix
3029  0D3F  DD 7E 04    	ld	a,(ix+4)
3030  0D42  32 00 00    	ld	(_tmp_uc),a
3031  0D45              l_game_paint_attrib_lin_h_00103:
3032  0D45  21 00 00    	ld	hl,_tmp_uc
3033  0D48  7E          	ld	a, (hl)
3034  0D49  DD 96 05    	sub	a,(ix+5)
3035  0D4C  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3036  0D4E  66          	ld	h,(hl)
3037  0D4F  DD 6E 06    	ld	l,(ix+6)
3038  0D52  E5          	push	hl
3039  0D53  21 00 00    	ld	hl,_attrib_hl
3040  0D56  E5          	push	hl
3041  0D57  CD 00 00    	call	_NIRVANAP_paintC_callee
3042  0D5A  21 00 00    	ld	hl,_tmp_uc
3043  0D5D  34          	inc	(hl)
3044  0D5E  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3045  0D60              l_game_paint_attrib_lin_h_00105:
3046  0D60  DD E1       	pop	ix
3047  0D62  C9          	ret
3048  0D63              	SECTION code_compiler
3049  0D63              ;	---------------------------------
3050  0D63              ; Function game_menu_config
3051  0D63              ; ---------------------------------
3052  0D63              _game_menu_config:
3053  0D63  CD 00 00    	call	___sdcc_enter_ix
3054  0D66  F5          	push	af
3055  0D67  3B          	dec	sp
3056  0D68  2E 0B       	ld	l,0x0b
3057  0D6A  CD F1 0C    	call	_game_paint_attrib
3058  0D6D  DD 36 FD 01 	ld	(ix-3),0x01
3059  0D71              l_game_menu_config_00116:
3060  0D71  DD 7E FD    	ld	a,(ix-3)
3061  0D74  B7          	or	a, a
3062  0D75  CA D0 0E    	jp	Z, l_game_menu_config_00119
3063  0D78              l_game_menu_config_00101:
3064  0D78  21 00 00    	ld	hl,_k1
3065  0D7B  E5          	push	hl
3066  0D7C  2A 00 00    	ld	hl,(_joyfunc1)
3067  0D7F  CD 00 00    	call	___sdcc_call_hl
3068  0D82  F1          	pop	af
3069  0D83  7C          	ld	a,h
3070  0D84  B5          	or	a,l
3071  0D85  20 F1       	jr	NZ,l_game_menu_config_00101
3072  0D87  3A 00 00    	ld	a,(_spec128)
3073  0D8A  B7          	or	a,a
3074  0D8B  28 05       	jr	Z,l_game_menu_config_00121
3075  0D8D  01 A1 00    	ld	bc,___str_23
3076  0D90  18 03       	jr	l_game_menu_config_00122
3077  0D92              l_game_menu_config_00121:
3078  0D92  01 AC 00    	ld	bc,___str_24
3079  0D95              l_game_menu_config_00122:
3080  0D95  C5          	push	bc
3081  0D96  21 0E 0A    	ld	hl,0x0a0e
3082  0D99  E5          	push	hl
3083  0D9A  CD 00 00    	call	_zx_print_str
3084  0D9D  21 B7 00    	ld	hl,___str_25
3085  0DA0  E5          	push	hl
3086  0DA1  21 0F 0A    	ld	hl,0x0a0f
3087  0DA4  E5          	push	hl
3088  0DA5  CD 00 00    	call	_zx_print_str
3089  0DA8  21 C2 00    	ld	hl,___str_26
3090  0DAB  E5          	push	hl
3091  0DAC  21 10 0A    	ld	hl,0x0a10
3092  0DAF  E5          	push	hl
3093  0DB0  CD 00 00    	call	_zx_print_str
3094  0DB3  21 CD 00    	ld	hl,___str_27
3095  0DB6  E5          	push	hl
3096  0DB7  21 11 0A    	ld	hl,0x0a11
3097  0DBA  E5          	push	hl
3098  0DBB  CD 00 00    	call	_zx_print_str
3099  0DBE  21 D8 00    	ld	hl,___str_28
3100  0DC1  E5          	push	hl
3101  0DC2  21 12 0A    	ld	hl,0x0a12
3102  0DC5  E5          	push	hl
3103  0DC6  CD 00 00    	call	_zx_print_str
3104  0DC9  3A 00 00    	ld	a,(_game_sound)
3105  0DCC  E6 05       	and	a,0x05
3106  0DCE  28 0A       	jr	Z,l_game_menu_config_00123
3107  0DD0  DD 36 FE E3 	ld	(ix-2),+((___str_29) & 0xFF)
3108  0DD4  DD 36 FF 00 	ld	(ix-1),+((___str_29) / 256)
3109  0DD8  18 08       	jr	l_game_menu_config_00124
3110  0DDA              l_game_menu_config_00123:
3111  0DDA  DD 36 FE E7 	ld	(ix-2),+((___str_30) & 0xFF)
3112  0DDE  DD 36 FF 00 	ld	(ix-1),+((___str_30) / 256)
3113  0DE2              l_game_menu_config_00124:
3114  0DE2  DD 4E FE    	ld	c,(ix-2)
3115  0DE5  DD 46 FF    	ld	b,(ix-1)
3116  0DE8  C5          	push	bc
3117  0DE9  21 0E 14    	ld	hl,0x140e
3118  0DEC  E5          	push	hl
3119  0DED  CD 00 00    	call	_zx_print_str
3120  0DF0  3A 00 00    	ld	a,(_game_type)
3121  0DF3  B7          	or	a, a
3122  0DF4  28 0C       	jr	Z,l_game_menu_config_00104
3123  0DF6  3D          	dec	a
3124  0DF7  28 16       	jr	Z,l_game_menu_config_00105
3125  0DF9  3A 00 00    	ld	a,(_game_type)
3126  0DFC  D6 02       	sub	a,0x02
3127  0DFE  28 1C       	jr	Z,l_game_menu_config_00106
3128  0E00  18 25       	jr	l_game_menu_config_00107
3129  0E02              l_game_menu_config_00104:
3130  0E02  21 EB 00    	ld	hl,___str_31
3131  0E05  E5          	push	hl
3132  0E06  21 0F 14    	ld	hl,0x140f
3133  0E09  E5          	push	hl
3134  0E0A  CD 00 00    	call	_zx_print_str
3135  0E0D  18 18       	jr	l_game_menu_config_00107
3136  0E0F              l_game_menu_config_00105:
3137  0E0F  21 EF 00    	ld	hl,___str_32
3138  0E12  E5          	push	hl
3139  0E13  21 0F 14    	ld	hl,0x140f
3140  0E16  E5          	push	hl
3141  0E17  CD 00 00    	call	_zx_print_str
3142  0E1A  18 0B       	jr	l_game_menu_config_00107
3143  0E1C              l_game_menu_config_00106:
3144  0E1C  21 F3 00    	ld	hl,___str_33
3145  0E1F  E5          	push	hl
3146  0E20  21 0F 14    	ld	hl,0x140f
3147  0E23  E5          	push	hl
3148  0E24  CD 00 00    	call	_zx_print_str
3149  0E27              l_game_menu_config_00107:
3150  0E27  2A 00 00    	ld	hl,(_player_joy)
3151  0E2A  29          	add	hl, hl
3152  0E2B  11 00 00    	ld	de,_joynames
3153  0E2E  19          	add	hl, de
3154  0E2F  4E          	ld	c, (hl)
3155  0E30  23          	inc	hl
3156  0E31  46          	ld	b, (hl)
3157  0E32  C5          	push	bc
3158  0E33  21 10 14    	ld	hl,0x1410
3159  0E36  E5          	push	hl
3160  0E37  CD 00 00    	call	_zx_print_str
3161  0E3A  2A 02 00    	ld	hl, (_player_joy + 2)
3162  0E3D  29          	add	hl, hl
3163  0E3E  11 00 00    	ld	de,_joynames
3164  0E41  19          	add	hl, de
3165  0E42  4E          	ld	c, (hl)
3166  0E43  23          	inc	hl
3167  0E44  46          	ld	b, (hl)
3168  0E45  C5          	push	bc
3169  0E46  21 11 14    	ld	hl,0x1411
3170  0E49  E5          	push	hl
3171  0E4A  CD 00 00    	call	_zx_print_str
3172  0E4D  21 00 00    	ld	hl,0x0000
3173  0E50  E5          	push	hl
3174  0E51  21 0E 12    	ld	hl,0x120e
3175  0E54  E5          	push	hl
3176  0E55  21 0A 01    	ld	hl,0x010a
3177  0E58  E5          	push	hl
3178  0E59  CD 83 11    	call	_game_menu_handle
3179  0E5C  F1          	pop	af
3180  0E5D  F1          	pop	af
3181  0E5E  F1          	pop	af
3182  0E5F  7D          	ld	a,l
3183  0E60  32 00 00    	ld	(_game_menu_sel),a
3184  0E63  21 00 00    	ld	hl,_ay_effect_10
3185  0E66  CD 00 00    	call	_ay_fx_play
3186  0E69  CD 00 00    	call	_sound_coin
3187  0E6C  3E 04       	ld	a,0x04
3188  0E6E  21 00 00    	ld	hl,_game_menu_sel
3189  0E71  96          	sub	a, (hl)
3190  0E72  DA 71 0D    	jp	C, l_game_menu_config_00116
3191  0E75  4E          	ld	c, (hl)
3192  0E76  06 00       	ld	b,0x00
3193  0E78  21 7F 0E    	ld	hl,l_game_menu_config_00175
3194  0E7B  09          	add	hl, bc
3195  0E7C  09          	add	hl, bc
3196  0E7D  09          	add	hl, bc
3197  0E7E  E9          	jp	(hl)
3198  0E7F              l_game_menu_config_00175:
3199  0E7F  C3 8E 0E    	jp	l_game_menu_config_00108
3200  0E82  C3 A2 0E    	jp	l_game_menu_config_00109
3201  0E85  C3 B1 0E    	jp	l_game_menu_config_00112
3202  0E88  C3 B9 0E    	jp	l_game_menu_config_00113
3203  0E8B  C3 C1 0E    	jp	l_game_menu_config_00114
3204  0E8E              l_game_menu_config_00108:
3205  0E8E  3A 00 00    	ld	a,(_spec128)
3206  0E91  B7          	or	a, a
3207  0E92  28 04       	jr	Z,l_game_menu_config_00125
3208  0E94  3E 04       	ld	a,0x04
3209  0E96  18 02       	jr	l_game_menu_config_00126
3210  0E98              l_game_menu_config_00125:
3211  0E98  3E 01       	ld	a,0x01
3212  0E9A              l_game_menu_config_00126:
3213  0E9A  21 00 00    	ld	hl,_game_sound
3214  0E9D  AE          	xor	a, (hl)
3215  0E9E  77          	ld	(hl), a
3216  0E9F  C3 71 0D    	jp	l_game_menu_config_00116
3217  0EA2              l_game_menu_config_00109:
3218  0EA2  21 00 00    	ld	hl,_game_type
3219  0EA5  34          	inc	(hl)
3220  0EA6  3E 02       	ld	a,0x02
3221  0EA8  96          	sub	a, (hl)
3222  0EA9  D2 71 0D    	jp	NC, l_game_menu_config_00116
3223  0EAC  36 00       	ld	(hl),0x00
3224  0EAE  C3 71 0D    	jp	l_game_menu_config_00116
3225  0EB1              l_game_menu_config_00112:
3226  0EB1  2E 00       	ld	l,0x00
3227  0EB3  CD D5 0E    	call	_game_joystick_change
3228  0EB6  C3 71 0D    	jp	l_game_menu_config_00116
3229  0EB9              l_game_menu_config_00113:
3230  0EB9  2E 01       	ld	l,0x01
3231  0EBB  CD D5 0E    	call	_game_joystick_change
3232  0EBE  C3 71 0D    	jp	l_game_menu_config_00116
3233  0EC1              l_game_menu_config_00114:
3234  0EC1  21 00 00    	ld	hl,_game_menu_sel
3235  0EC4  36 00       	ld	(hl),0x00
3236  0EC6  CD 50 10    	call	_game_menu_paint
3237  0EC9  DD 36 FD 00 	ld	(ix-3),0x00
3238  0ECD  C3 71 0D    	jp	l_game_menu_config_00116
3239  0ED0              l_game_menu_config_00119:
3240  0ED0  DD F9       	ld	sp, ix
3241  0ED2  DD E1       	pop	ix
3242  0ED4  C9          	ret
3243  0ED5              	SECTION rodata_compiler
3244  00A1              ___str_23:
3245  00A1  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3246  00AB  00          	DEFB 0x00
3247  00AC              	SECTION rodata_compiler
3248  00AC              ___str_24:
3249  00AC  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3250  00B6  00          	DEFB 0x00
3251  00B7              	SECTION rodata_compiler
3252  00B7              ___str_25:
3253  00B7  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3254  00C1  00          	DEFB 0x00
3255  00C2              	SECTION rodata_compiler
3256  00C2              ___str_26:
3257  00C2  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3258  00CC  00          	DEFB 0x00
3259  00CD              	SECTION rodata_compiler
3260  00CD              ___str_27:
3261  00CD  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3262  00D7  00          	DEFB 0x00
3263  00D8              	SECTION rodata_compiler
3264  00D8              ___str_28:
3265  00D8  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3266  00E2  00          	DEFB 0x00
3267  00E3              	SECTION rodata_compiler
3268  00E3              ___str_29:
3269  00E3  4F 4E 20    	DEFM "ON "
3270  00E6  00          	DEFB 0x00
3271  00E7              	SECTION rodata_compiler
3272  00E7              ___str_30:
3273  00E7  4F 46 46    	DEFM "OFF"
3274  00EA  00          	DEFB 0x00
3275  00EB              	SECTION rodata_compiler
3276  00EB              ___str_31:
3277  00EB  41 20 20    	DEFM "A  "
3278  00EE  00          	DEFB 0x00
3279  00EF              	SECTION rodata_compiler
3280  00EF              ___str_32:
3281  00EF  42 20 20    	DEFM "B  "
3282  00F2  00          	DEFB 0x00
3283  00F3              	SECTION rodata_compiler
3284  00F3              ___str_33:
3285  00F3  52 4E 44    	DEFM "RND"
3286  00F6  00          	DEFB 0x00
3287  00F7              	SECTION code_compiler
3288  0ED5              ;	---------------------------------
3289  0ED5              ; Function game_joystick_change
3290  0ED5              ; ---------------------------------
3291  0ED5              _game_joystick_change:
3292  0ED5  CD 00 00    	call	___sdcc_enter_ix
3293  0ED8  3B          	dec	sp
3294  0ED9  DD 75 FF    	ld	(ix-1),l
3295  0EDC  26 00       	ld	h,0x00
3296  0EDE  29          	add	hl, hl
3297  0EDF  01 00 00    	ld	bc,_player_joy
3298  0EE2  09          	add	hl,bc
3299  0EE3  5E          	ld	e,(hl)
3300  0EE4  4D          	ld	c,l
3301  0EE5  44          	ld	b,h
3302  0EE6  23          	inc	hl
3303  0EE7  56          	ld	d, (hl)
3304  0EE8  13          	inc	de
3305  0EE9  69          	ld	l, c
3306  0EEA  60          	ld	h, b
3307  0EEB  73          	ld	(hl), e
3308  0EEC  23          	inc	hl
3309  0EED  72          	ld	(hl), d
3310  0EEE  7B          	ld	a, e
3311  0EEF  D6 07       	sub	a,0x07
3312  0EF1  B2          	or	a, d
3313  0EF2  20 06       	jr	NZ,l_game_joystick_change_00102
3314  0EF4  69          	ld	l, c
3315  0EF5  60          	ld	h, b
3316  0EF6  AF          	xor	a, a
3317  0EF7  77          	ld	(hl), a
3318  0EF8  23          	inc	hl
3319  0EF9  77          	ld	(hl), a
3320  0EFA              l_game_joystick_change_00102:
3321  0EFA  DD 7E FF    	ld	a,(ix-1)
3322  0EFD  B7          	or	a, a
3323  0EFE  20 12       	jr	NZ,l_game_joystick_change_00104
3324  0F00  69          	ld	l, c
3325  0F01  60          	ld	h, b
3326  0F02  7E          	ld	a,(hl)
3327  0F03  23          	inc	hl
3328  0F04  3D          	dec	a
3329  0F05  56          	ld	d,(hl)
3330  0F06  B2          	or	a, d
3331  0F07  20 09       	jr	NZ,l_game_joystick_change_00104
3332  0F09  ED 5B 00 00 	ld	de,(_player_joy)
3333  0F0D  13          	inc	de
3334  0F0E  ED 53 00 00 	ld	(_player_joy), de
3335  0F12              l_game_joystick_change_00104:
3336  0F12  DD 7E FF    	ld	a,(ix-1)
3337  0F15  3D          	dec	a
3338  0F16  20 11       	jr	NZ,l_game_joystick_change_00107
3339  0F18  69          	ld	l, c
3340  0F19  60          	ld	h, b
3341  0F1A  4E          	ld	c, (hl)
3342  0F1B  23          	inc	hl
3343  0F1C  7E          	ld	a, (hl)
3344  0F1D  B1          	or	a,c
3345  0F1E  20 09       	jr	NZ,l_game_joystick_change_00107
3346  0F20  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3347  0F24  03          	inc	bc
3348  0F25  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3349  0F29              l_game_joystick_change_00107:
3350  0F29  ED 4B 00 00 	ld	bc,(_player_joy)
3351  0F2D  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3352  0F31  79          	ld	a, c
3353  0F32  93          	sub	a, e
3354  0F33  20 18       	jr	NZ,l_game_joystick_change_00114
3355  0F35  78          	ld	a, b
3356  0F36  92          	sub	a, d
3357  0F37  20 14       	jr	NZ,l_game_joystick_change_00114
3358  0F39  DD 7E FF    	ld	a,(ix-1)
3359  0F3C  B7          	or	a, a
3360  0F3D  20 08       	jr	NZ,l_game_joystick_change_00110
3361  0F3F  21 01 00    	ld	hl,0x0001
3362  0F42  22 02 00    	ld	(_player_joy + 0x0002),hl
3363  0F45  18 06       	jr	l_game_joystick_change_00114
3364  0F47              l_game_joystick_change_00110:
3365  0F47  21 00 00    	ld	hl,0x0000
3366  0F4A  22 00 00    	ld	(_player_joy), hl
3367  0F4D              l_game_joystick_change_00114:
3368  0F4D  33          	inc	sp
3369  0F4E  DD E1       	pop	ix
3370  0F50  C9          	ret
3371  0F51              	SECTION code_compiler
3372  0F51              ;	---------------------------------
3373  0F51              ; Function game_joystick_set_menu
3374  0F51              ; ---------------------------------
3375  0F51              _game_joystick_set_menu:
3376  0F51  21 00 00    	ld	hl,_in_stick_sinclair1
3377  0F54  22 00 00    	ld	(_joyfunc1),hl
3378  0F57  21 00 00    	ld	hl,_in_stick_sinclair2
3379  0F5A  22 00 00    	ld	(_joyfunc2),hl
3380  0F5D  C9          	ret
3381  0F5E              	SECTION code_compiler
3382  0F5E              ;	---------------------------------
3383  0F5E              ; Function game_joystick_set
3384  0F5E              ; ---------------------------------
3385  0F5E              _game_joystick_set:
3386  0F5E  01 00 00    	ld	bc,_control_method+0
3387  0F61  2A 00 00    	ld	hl,(_player_joy)
3388  0F64  29          	add	hl, hl
3389  0F65  09          	add	hl,bc
3390  0F66  11 00 00    	ld	de,_joyfunc1
3391  0F69  ED A0       	ldi
3392  0F6B  03          	inc	bc
3393  0F6C  7E          	ld	a,(hl)
3394  0F6D  12          	ld	(de),a
3395  0F6E  2A 02 00    	ld	hl, (_player_joy + 2)
3396  0F71  29          	add	hl, hl
3397  0F72  09          	add	hl,bc
3398  0F73  11 00 00    	ld	de,_joyfunc2
3399  0F76  ED A0       	ldi
3400  0F78  7E          	ld	a,(hl)
3401  0F79  12          	ld	(de),a
3402  0F7A  C9          	ret
3403  0F7B              	SECTION code_compiler
3404  0F7B              ;	---------------------------------
3405  0F7B              ; Function game_menu
3406  0F7B              ; ---------------------------------
3407  0F7B              _game_menu:
3408  0F7B  21 00 00    	ld	hl,_game_menu_sel
3409  0F7E  36 00       	ld	(hl),0x00
3410  0F80  CD DC 0F    	call	_game_menu_top_paint
3411  0F83  CD 50 10    	call	_game_menu_paint
3412  0F86  CD 00 00    	call	_ay_reset
3413  0F89  21 00 00    	ld	hl,_pb_midi_title
3414  0F8C  CD 00 00    	call	_ay_midi_play
3415  0F8F              l_game_menu_00101:
3416  0F8F  21 00 00    	ld	hl,_k1
3417  0F92  E5          	push	hl
3418  0F93  2A 00 00    	ld	hl,(_joyfunc1)
3419  0F96  CD 00 00    	call	___sdcc_call_hl
3420  0F99  F1          	pop	af
3421  0F9A  7C          	ld	a,h
3422  0F9B  B5          	or	a,l
3423  0F9C  20 F1       	jr	NZ,l_game_menu_00101
3424  0F9E  21 E8 03    	ld	hl,0x03e8
3425  0FA1  E5          	push	hl
3426  0FA2  21 0E 12    	ld	hl,0x120e
3427  0FA5  E5          	push	hl
3428  0FA6  21 0C 02    	ld	hl,0x020c
3429  0FA9  E5          	push	hl
3430  0FAA  CD 83 11    	call	_game_menu_handle
3431  0FAD  F1          	pop	af
3432  0FAE  F1          	pop	af
3433  0FAF  F1          	pop	af
3434  0FB0  7D          	ld	a,l
3435  0FB1  32 00 00    	ld	(_tmp_uc),a
3436  0FB4  B7          	or	a,a
3437  0FB5  28 0C       	jr	Z,l_game_menu_00104
3438  0FB7  3D          	dec	a
3439  0FB8  28 13       	jr	Z,l_game_menu_00105
3440  0FBA  3A 00 00    	ld	a,(_tmp_uc)
3441  0FBD  D6 02       	sub	a,0x02
3442  0FBF  28 16       	jr	Z,l_game_menu_00106
3443  0FC1  18 CC       	jr	l_game_menu_00101
3444  0FC3              l_game_menu_00104:
3445  0FC3  21 00 00    	ld	hl,_game_two_player
3446  0FC6  36 00       	ld	(hl),0x00
3447  0FC8  CD 34 03    	call	_game_loop
3448  0FCB  18 C2       	jr	l_game_menu_00101
3449  0FCD              l_game_menu_00105:
3450  0FCD  21 00 00    	ld	hl,_game_two_player
3451  0FD0  36 01       	ld	(hl),0x01
3452  0FD2  CD 34 03    	call	_game_loop
3453  0FD5  18 B8       	jr	l_game_menu_00101
3454  0FD7              l_game_menu_00106:
3455  0FD7  CD 63 0D    	call	_game_menu_config
3456  0FDA  18 B3       	jr	l_game_menu_00101
3457  0FDC              	SECTION code_compiler
3458  0FDC              ;	---------------------------------
3459  0FDC              ; Function game_menu_top_paint
3460  0FDC              ; ---------------------------------
3461  0FDC              _game_menu_top_paint:
3462  0FDC  CD 00 00    	call	_spr_draw_clear
3463  0FDF  2E 00       	ld	l,0x00
3464  0FE1  CD F1 0C    	call	_game_paint_attrib
3465  0FE4  21 9C 01    	ld	hl,0x019c
3466  0FE7  E5          	push	hl
3467  0FE8  21 00 1E    	ld	hl,0x1e00
3468  0FEB  E5          	push	hl
3469  0FEC  3E 10       	ld	a,0x10
3470  0FEE  F5          	push	af
3471  0FEF  33          	inc	sp
3472  0FF0  CD D0 10    	call	_game_menu_e
3473  0FF3  F1          	pop	af
3474  0FF4  33          	inc	sp
3475  0FF5  21 9F FF    	ld	hl,0xff9f
3476  0FF8  E3          	ex	(sp),hl
3477  0FF9  21 00 1E    	ld	hl,0x1e00
3478  0FFC  E5          	push	hl
3479  0FFD  3E 50       	ld	a,0x50
3480  0FFF  F5          	push	af
3481  1000  33          	inc	sp
3482  1001  CD D0 10    	call	_game_menu_e
3483  1004  F1          	pop	af
3484  1005  F1          	pop	af
3485  1006  33          	inc	sp
3486  1007  21 00 00    	ld	hl,_tmp
3487  100A  36 18       	ld	(hl),0x18
3488  100C  F3          	di
3489  100D  21 00 00    	ld	hl,_tmp_uc
3490  1010  36 00       	ld	(hl),0x00
3491  1012              l_game_menu_top_paint_00102:
3492  1012  3A 00 00    	ld	a,(_tmp_uc)
3493  1015  87          	add	a, a
3494  1016  C6 05       	add	a,0x05
3495  1018  47          	ld	b, a
3496  1019  3A 00 00    	ld	a,(_tmp)
3497  101C  C6 10       	add	a,0x10
3498  101E  57          	ld	d, a
3499  101F  3A 00 00    	ld	a,(_tmp_uc)
3500  1022  C6 C0       	add	a,0xc0
3501  1024  4A          	ld	c, d
3502  1025  C5          	push	bc
3503  1026  F5          	push	af
3504  1027  33          	inc	sp
3505  1028  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3506  102B  3A 00 00    	ld	a,(_tmp_uc)
3507  102E  87          	add	a, a
3508  102F  C6 05       	add	a,0x05
3509  1031  47          	ld	b, a
3510  1032  3A 00 00    	ld	a,(_tmp)
3511  1035  C6 20       	add	a,0x20
3512  1037  57          	ld	d, a
3513  1038  3A 00 00    	ld	a,(_tmp_uc)
3514  103B  C6 CC       	add	a,0xcc
3515  103D  4A          	ld	c, d
3516  103E  C5          	push	bc
3517  103F  F5          	push	af
3518  1040  33          	inc	sp
3519  1041  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3520  1044  21 00 00    	ld	hl,_tmp_uc
3521  1047  7E          	ld	a,(hl)
3522  1048  3C          	inc	a
3523  1049  77          	ld	(hl),a
3524  104A  D6 0A       	sub	a,0x0a
3525  104C  38 C4       	jr	C,l_game_menu_top_paint_00102
3526  104E  FB          	ei
3527  104F  C9          	ret
3528  1050              	SECTION code_compiler
3529  1050              ;	---------------------------------
3530  1050              ; Function game_menu_paint
3531  1050              ; ---------------------------------
3532  1050              _game_menu_paint:
3533  1050  76          	halt
3534  1051  3A 00 00    	ld	a,(_tmp)
3535  1054  C6 28       	add	a,0x28
3536  1056  4F          	ld	c, a
3537  1057  06 1A       	ld	b,0x1a
3538  1059  C5          	push	bc
3539  105A  3E 12       	ld	a,0x12
3540  105C  F5          	push	af
3541  105D  33          	inc	sp
3542  105E  CD 00 00    	call	_NIRVANAP_fillC_callee
3543  1061  21 00 20    	ld	hl,0x2000
3544  1064  E5          	push	hl
3545  1065  CD 00 00    	call	_game_fill_row
3546  1068  21 00 20    	ld	hl,0x2000
3547  106B  E5          	push	hl
3548  106C  CD 00 00    	call	_game_fill_row
3549  106F  21 F7 00    	ld	hl,___str_34
3550  1072  E5          	push	hl
3551  1073  21 0E 0A    	ld	hl,0x0a0e
3552  1076  E5          	push	hl
3553  1077  CD 00 00    	call	_zx_print_str
3554  107A  21 0F 20    	ld	hl,0x200f
3555  107D  E5          	push	hl
3556  107E  CD 00 00    	call	_game_fill_row
3557  1081  21 05 01    	ld	hl,___str_35
3558  1084  E5          	push	hl
3559  1085  21 10 0A    	ld	hl,0x0a10
3560  1088  E5          	push	hl
3561  1089  CD 00 00    	call	_zx_print_str
3562  108C  21 11 20    	ld	hl,0x2011
3563  108F  E5          	push	hl
3564  1090  CD 00 00    	call	_game_fill_row
3565  1093  21 13 01    	ld	hl,___str_36
3566  1096  E5          	push	hl
3567  1097  21 12 0A    	ld	hl,0x0a12
3568  109A  E5          	push	hl
3569  109B  CD 00 00    	call	_zx_print_str
3570  109E  21 13 20    	ld	hl,0x2013
3571  10A1  E5          	push	hl
3572  10A2  CD 00 00    	call	_game_fill_row
3573  10A5  21 00 00    	ld	hl,_screen_ink
3574  10A8  36 07       	ld	(hl),0x07
3575  10AA  21 21 01    	ld	hl,___str_37
3576  10AD  E5          	push	hl
3577  10AE  21 15 07    	ld	hl,0x0715
3578  10B1  E5          	push	hl
3579  10B2  CD 00 00    	call	_zx_print_str
3580  10B5  21 00 00    	ld	hl,_screen_ink
3581  10B8  36 01       	ld	(hl),0x01
3582  10BA  21 35 01    	ld	hl,___str_38
3583  10BD  E5          	push	hl
3584  10BE  21 17 03    	ld	hl,0x0317
3585  10C1  E5          	push	hl
3586  10C2  CD 00 00    	call	_zx_print_str
3587  10C5  21 00 00    	ld	hl,_tmp_uc
3588  10C8  36 00       	ld	(hl),0x00
3589  10CA  2E 0B       	ld	l,0x0b
3590  10CC  CD F1 0C    	call	_game_paint_attrib
3591  10CF  C9          	ret
3592  10D0              	SECTION rodata_compiler
3593  00F7              ___str_34:
3594  00F7  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3595  0104  00          	DEFB 0x00
3596  0105              	SECTION rodata_compiler
3597  0105              ___str_35:
3598  0105  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3599  0112  00          	DEFB 0x00
3600  0113              	SECTION rodata_compiler
3601  0113              ___str_36:
3602  0113  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3603  0120  00          	DEFB 0x00
3604  0121              	SECTION rodata_compiler
3605  0121              ___str_37:
3606  0121  53 45 4C 45 43 54 3A 36 37 38 39 20 53 54 41 52 54 3A 30 
                        	DEFM "SELECT:6789 START:0"
3607  0134  00          	DEFB 0x00
3608  0135              	SECTION rodata_compiler
3609  0135              ___str_38:
3610  0135  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 20 56 45 52 20 31 2E 39 
                        	DEFM "CODED BY CGONZALEZ VER 1.9"
3611  014F  00          	DEFB 0x00
3612  0150              	SECTION code_compiler
3613  10D0              ;	---------------------------------
3614  10D0              ; Function game_menu_e
3615  10D0              ; ---------------------------------
3616  10D0              _game_menu_e:
3617  10D0  CD 00 00    	call	___sdcc_enter_ix
3618  10D3  F3          	di
3619  10D4  DD 4E 05    	ld	c,(ix+5)
3620  10D7  21 00 00    	ld	hl,_tmp_uc
3621  10DA  71          	ld	(hl), c
3622  10DB  DD 46 07    	ld	b,(ix+7)
3623  10DE  04          	inc	b
3624  10DF  DD 56 07    	ld	d,(ix+7)
3625  10E2  14          	inc	d
3626  10E3  14          	inc	d
3627  10E4              l_game_menu_e_00114:
3628  10E4  DD 7E 06    	ld	a,(ix+6)
3629  10E7  21 00 00    	ld	hl,_tmp_uc
3630  10EA  96          	sub	a, (hl)
3631  10EB  38 56       	jr	C,l_game_menu_e_00109
3632  10ED  7E          	ld	a, (hl)
3633  10EE  91          	sub	a, c
3634  10EF  20 15       	jr	NZ,l_game_menu_e_00102
3635  10F1  3A 00 00    	ld	a,(_tmp_uc)
3636  10F4  C5          	push	bc
3637  10F5  D5          	push	de
3638  10F6  F5          	push	af
3639  10F7  33          	inc	sp
3640  10F8  DD 66 04    	ld	h,(ix+4)
3641  10FB  DD 6E 07    	ld	l,(ix+7)
3642  10FE  E5          	push	hl
3643  10FF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3644  1102  D1          	pop	de
3645  1103  C1          	pop	bc
3646  1104  18 36       	jr	l_game_menu_e_00108
3647  1106              l_game_menu_e_00102:
3648  1106  3A 00 00    	ld	a,(_tmp_uc)
3649  1109  DD 96 06    	sub	a,(ix+6)
3650  110C  20 14       	jr	NZ,l_game_menu_e_00104
3651  110E  3A 00 00    	ld	a,(_tmp_uc)
3652  1111  C5          	push	bc
3653  1112  D5          	push	de
3654  1113  F5          	push	af
3655  1114  33          	inc	sp
3656  1115  DD 7E 04    	ld	a,(ix+4)
3657  1118  5A          	ld	e,d
3658  1119  57          	ld	d,a
3659  111A  D5          	push	de
3660  111B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3661  111E  D1          	pop	de
3662  111F  C1          	pop	bc
3663  1120  18 1A       	jr	l_game_menu_e_00108
3664  1122              l_game_menu_e_00104:
3665  1122  3A 00 00    	ld	a,(_tmp_uc)
3666  1125  FE 0E       	cp	a,0x0e
3667  1127  28 13       	jr	Z,l_game_menu_e_00108
3668  1129  FE 10       	cp	a,0x10
3669  112B  28 0F       	jr	Z,l_game_menu_e_00108
3670  112D  C5          	push	bc
3671  112E  D5          	push	de
3672  112F  F5          	push	af
3673  1130  33          	inc	sp
3674  1131  DD 7E 04    	ld	a,(ix+4)
3675  1134  48          	ld	c,b
3676  1135  47          	ld	b,a
3677  1136  C5          	push	bc
3678  1137  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3679  113A  D1          	pop	de
3680  113B  C1          	pop	bc
3681  113C              l_game_menu_e_00108:
3682  113C  21 00 00    	ld	hl,_tmp_uc
3683  113F  34          	inc	(hl)
3684  1140  34          	inc	(hl)
3685  1141  18 A1       	jr	l_game_menu_e_00114
3686  1143              l_game_menu_e_00109:
3687  1143  DD 7E 08    	ld	a,(ix+8)
3688  1146  3C          	inc	a
3689  1147  20 0A       	jr	NZ,l_game_menu_e_00111
3690  1149  DD 7E 04    	ld	a,(ix+4)
3691  114C  C6 F0       	add	a,0xf0
3692  114E  DD 77 04    	ld	(ix+4),a
3693  1151  18 08       	jr	l_game_menu_e_00112
3694  1153              l_game_menu_e_00111:
3695  1153  DD 7E 04    	ld	a,(ix+4)
3696  1156  C6 10       	add	a,0x10
3697  1158  DD 77 04    	ld	(ix+4),a
3698  115B              l_game_menu_e_00112:
3699  115B  DD 7E 07    	ld	a,(ix+7)
3700  115E  C6 0C       	add	a,0x0c
3701  1160  47          	ld	b, a
3702  1161  79          	ld	a, c
3703  1162  F5          	push	af
3704  1163  33          	inc	sp
3705  1164  DD 7E 04    	ld	a,(ix+4)
3706  1167  48          	ld	c,b
3707  1168  47          	ld	b,a
3708  1169  C5          	push	bc
3709  116A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3710  116D  DD 7E 07    	ld	a,(ix+7)
3711  1170  C6 0E       	add	a,0x0e
3712  1172  47          	ld	b, a
3713  1173  DD 66 06    	ld	h,(ix+6)
3714  1176  DD 6E 04    	ld	l,(ix+4)
3715  1179  E5          	push	hl
3716  117A  C5          	push	bc
3717  117B  33          	inc	sp
3718  117C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3719  117F  FB          	ei
3720  1180  DD E1       	pop	ix
3721  1182  C9          	ret
3722  1183              	SECTION code_compiler
3723  1183              ;	---------------------------------
3724  1183              ; Function game_menu_handle
3725  1183              ; ---------------------------------
3726  1183              _game_menu_handle:
3727  1183  CD 00 00    	call	___sdcc_enter_ix
3728  1186  3B          	dec	sp
3729  1187  2A 00 00    	ld	hl,(_curr_time)
3730  118A  22 00 00    	ld	(_entry_time),hl
3731  118D  DD 5E 05    	ld	e,(ix+5)
3732  1190  2A FF FF    	ld	hl,(_game_menu_sel-1)
3733  1193  2E 00       	ld	l,0x00
3734  1195  55          	ld	d, l
3735  1196  06 08       	ld	b,0x08
3736  1198              l_game_menu_handle_00148:
3737  1198  29          	add	hl, hl
3738  1199  30 01       	jr	NC,l_game_menu_handle_00149
3739  119B  19          	add	hl, de
3740  119C              l_game_menu_handle_00149:
3741  119C  10 FA       	djnz	l_game_menu_handle_00148
3742  119E  DD 7E 06    	ld	a,(ix+6)
3743  11A1  85          	add	a,l
3744  11A2  32 00 00    	ld	(_s_lin1),a
3745  11A5  DD 7E 06    	ld	a,(ix+6)
3746  11A8  DD 77 FF    	ld	(ix-1),a
3747  11AB              l_game_menu_handle_00111:
3748  11AB  21 00 00    	ld	hl,_k1
3749  11AE  E5          	push	hl
3750  11AF  2A 00 00    	ld	hl,(_joyfunc1)
3751  11B2  CD 00 00    	call	___sdcc_call_hl
3752  11B5  F1          	pop	af
3753  11B6  7D          	ld	a,l
3754  11B7  32 00 00    	ld	(_dirs),a
3755  11BA  D6 80       	sub	a,0x80
3756  11BC  CA 5F 12    	jp	Z,l_game_menu_handle_00113
3757  11BF  21 05 00    	ld	hl,0x0005
3758  11C2  E5          	push	hl
3759  11C3  2A 00 00    	ld	hl,(_frame_time)
3760  11C6  E5          	push	hl
3761  11C7  CD F2 19    	call	_game_check_time
3762  11CA  F1          	pop	af
3763  11CB  F1          	pop	af
3764  11CC  7D          	ld	a, l
3765  11CD  B7          	or	a, a
3766  11CE  28 58       	jr	Z,l_game_menu_handle_00106
3767  11D0  3A 00 00    	ld	a,(_dirs)
3768  11D3  B7          	or	a, a
3769  11D4  28 32       	jr	Z,l_game_menu_handle_00104
3770  11D6  21 00 00    	ld	hl,_ay_effect_03
3771  11D9  CD 00 00    	call	_ay_fx_play
3772  11DC  CD 00 00    	call	_sound_slide
3773  11DF  3A 00 00    	ld	a,(_s_lin1)
3774  11E2  07          	rlca
3775  11E3  07          	rlca
3776  11E4  07          	rlca
3777  11E5  E6 F8       	and	a,0xf8
3778  11E7  C6 08       	add	a,0x08
3779  11E9  F5          	push	af
3780  11EA  33          	inc	sp
3781  11EB  26 14       	ld	h,0x14
3782  11ED  DD 6E 04    	ld	l,(ix+4)
3783  11F0  E5          	push	hl
3784  11F1  CD 15 0D    	call	_game_paint_attrib_lin
3785  11F4  F1          	pop	af
3786  11F5  33          	inc	sp
3787  11F6  21 00 00    	ld	hl,_s_lin1
3788  11F9  7E          	ld	a, (hl)
3789  11FA  DD 86 05    	add	a,(ix+5)
3790  11FD  77          	ld	(hl), a
3791  11FE  DD 7E 07    	ld	a,(ix+7)
3792  1201  96          	sub	a, (hl)
3793  1202  30 04       	jr	NC,l_game_menu_handle_00104
3794  1204  DD 7E FF    	ld	a,(ix-1)
3795  1207  77          	ld	(hl), a
3796  1208              l_game_menu_handle_00104:
3797  1208  2A 00 00    	ld	hl,(_curr_time)
3798  120B  22 00 00    	ld	(_frame_time),hl
3799  120E  3A 00 00    	ld	a,(_s_lin1)
3800  1211  07          	rlca
3801  1212  07          	rlca
3802  1213  07          	rlca
3803  1214  E6 F8       	and	a,0xf8
3804  1216  C6 08       	add	a,0x08
3805  1218  F5          	push	af
3806  1219  33          	inc	sp
3807  121A  26 14       	ld	h,0x14
3808  121C  DD 6E 04    	ld	l,(ix+4)
3809  121F  E5          	push	hl
3810  1220  CD 3C 0D    	call	_game_paint_attrib_lin_h
3811  1223  F1          	pop	af
3812  1224  33          	inc	sp
3813  1225  CD 44 19    	call	_game_rotate_attrib
3814  1228              l_game_menu_handle_00106:
3815  1228  DD 7E 09    	ld	a,(ix+9)
3816  122B  DD B6 08    	or	a,(ix+8)
3817  122E  CA AB 11    	jp	Z, l_game_menu_handle_00111
3818  1231  DD 6E 08    	ld	l,(ix+8)
3819  1234  DD 66 09    	ld	h,(ix+9)
3820  1237  E5          	push	hl
3821  1238  2A 00 00    	ld	hl,(_entry_time)
3822  123B  E5          	push	hl
3823  123C  CD F2 19    	call	_game_check_time
3824  123F  F1          	pop	af
3825  1240  F1          	pop	af
3826  1241  7D          	ld	a, l
3827  1242  B7          	or	a, a
3828  1243  CA AB 11    	jp	Z, l_game_menu_handle_00111
3829  1246  CD 00 00    	call	_ay_is_playing
3830  1249  7D          	ld	a, l
3831  124A  B7          	or	a, a
3832  124B  C2 AB 11    	jp	NZ, l_game_menu_handle_00111
3833  124E  CD 73 18    	call	_game_hall_of_fame
3834  1251  21 00 00    	ld	hl,_game_menu_sel
3835  1254  36 00       	ld	(hl),0x00
3836  1256  2E 00       	ld	l,0x00
3837  1258  CD B1 16    	call	_game_menu_back
3838  125B  2E FF       	ld	l,0xff
3839  125D  18 10       	jr	l_game_menu_handle_00114
3840  125F              l_game_menu_handle_00113:
3841  125F  3A 00 00    	ld	a,(_s_lin1)
3842  1262  DD 96 FF    	sub	a,(ix-1)
3843  1265  47          	ld	b, a
3844  1266  DD 7E 05    	ld	a,(ix+5)
3845  1269  48          	ld	c,b
3846  126A  47          	ld	b,a
3847  126B  C5          	push	bc
3848  126C  CD 00 00    	call	__divuchar_callee
3849  126F              l_game_menu_handle_00114:
3850  126F  33          	inc	sp
3851  1270  DD E1       	pop	ix
3852  1272  C9          	ret
3853  1273              	SECTION code_compiler
3854  1273              ;	---------------------------------
3855  1273              ; Function game_end
3856  1273              ; ---------------------------------
3857  1273              _game_end:
3858  1273  CD 00 00    	call	___sdcc_enter_ix
3859  1276  F5          	push	af
3860  1277  F5          	push	af
3861  1278  CD 00 00    	call	_spr_kill_all
3862  127B  CD 00 00    	call	_spr_draw_clear
3863  127E  21 00 00    	ld	hl,_pb_midi_title
3864  1281  CD 00 00    	call	_ay_midi_play
3865  1284  21 00 00    	ld	hl,_tmp1
3866  1287  36 50       	ld	(hl),0x50
3867  1289              l_game_end_00102:
3868  1289  3E 70       	ld	a,0x70
3869  128B  21 00 00    	ld	hl,_tmp1
3870  128E  96          	sub	a, (hl)
3871  128F  38 28       	jr	C,l_game_end_00104
3872  1291  21 00 00    	ld	hl,_tmp0
3873  1294  36 04       	ld	(hl),0x04
3874  1296              l_game_end_00130:
3875  1296  3A 00 00    	ld	a,(_tmp0)
3876  1299  F5          	push	af
3877  129A  33          	inc	sp
3878  129B  3A 00 00    	ld	a,(_tmp1)
3879  129E  57          	ld	d,a
3880  129F  1E 8F       	ld	e,0x8f
3881  12A1  D5          	push	de
3882  12A2  CD 00 00    	call	_NIRVANAP_drawT_callee
3883  12A5  21 00 00    	ld	hl,_tmp0
3884  12A8  7E          	ld	a,(hl)
3885  12A9  C6 02       	add	a,0x02
3886  12AB  77          	ld	(hl),a
3887  12AC  D6 1C       	sub	a,0x1c
3888  12AE  38 E6       	jr	C,l_game_end_00130
3889  12B0  21 00 00    	ld	hl,_tmp1
3890  12B3  7E          	ld	a, (hl)
3891  12B4  C6 10       	add	a,0x10
3892  12B6  77          	ld	(hl), a
3893  12B7  18 D0       	jr	l_game_end_00102
3894  12B9              l_game_end_00104:
3895  12B9  21 50 18    	ld	hl,0x1850
3896  12BC  E5          	push	hl
3897  12BD  3E D6       	ld	a,0xd6
3898  12BF  F5          	push	af
3899  12C0  33          	inc	sp
3900  12C1  CD 00 00    	call	_NIRVANAP_drawT_callee
3901  12C4  21 9C 01    	ld	hl,0x019c
3902  12C7  E5          	push	hl
3903  12C8  21 01 1D    	ld	hl,0x1d01
3904  12CB  E5          	push	hl
3905  12CC  3E 20       	ld	a,0x20
3906  12CE  F5          	push	af
3907  12CF  33          	inc	sp
3908  12D0  CD D0 10    	call	_game_menu_e
3909  12D3  F1          	pop	af
3910  12D4  33          	inc	sp
3911  12D5  21 9F FF    	ld	hl,0xff9f
3912  12D8  E3          	ex	(sp),hl
3913  12D9  21 01 1D    	ld	hl,0x1d01
3914  12DC  E5          	push	hl
3915  12DD  3E 80       	ld	a,0x80
3916  12DF  F5          	push	af
3917  12E0  33          	inc	sp
3918  12E1  CD D0 10    	call	_game_menu_e
3919  12E4  F1          	pop	af
3920  12E5  F1          	pop	af
3921  12E6  33          	inc	sp
3922  12E7  3E 00       	ld	a,0x00
3923  12E9  DD 77 FD    	ld	(ix-3),a
3924  12EC  DD 77 FC    	ld	(ix-4),a
3925  12EF  3A 00 00    	ld	a,(_game_two_player)
3926  12F2  B7          	or	a, a
3927  12F3  28 16       	jr	Z,l_game_end_00110
3928  12F5  3A 00 00    	ld	a,(_game_lives)
3929  12F8  B7          	or	a, a
3930  12F9  28 04       	jr	Z,l_game_end_00106
3931  12FB  DD 36 FD 01 	ld	(ix-3),0x01
3932  12FF              l_game_end_00106:
3933  12FF  3A 01 00    	ld	a, (_game_lives + 1)
3934  1302  B7          	or	a, a
3935  1303  28 0A       	jr	Z,l_game_end_00111
3936  1305  DD 36 FC 01 	ld	(ix-4),0x01
3937  1309  18 04       	jr	l_game_end_00111
3938  130B              l_game_end_00110:
3939  130B  DD 36 FD 01 	ld	(ix-3),0x01
3940  130F              l_game_end_00111:
3941  130F  DD 7E FD    	ld	a,(ix-3)
3942  1312  3D          	dec	a
3943  1313  20 04       	jr	NZ,l_game_end_00210
3944  1315  3E 01       	ld	a,0x01
3945  1317  18 01       	jr	l_game_end_00211
3946  1319              l_game_end_00210:
3947  1319  AF          	xor	a,a
3948  131A              l_game_end_00211:
3949  131A  DD 77 FE    	ld	(ix-2),a
3950  131D  B7          	or	a, a
3951  131E  28 1C       	jr	Z,l_game_end_00113
3952  1320  DD 7E FC    	ld	a,(ix-4)
3953  1323  B7          	or	a, a
3954  1324  20 16       	jr	NZ,l_game_end_00113
3955  1326  21 50 01    	ld	hl,___str_39
3956  1329  E5          	push	hl
3957  132A  21 13 01    	ld	hl,0x0113
3958  132D  E5          	push	hl
3959  132E  CD 00 00    	call	_zx_print_str
3960  1331  21 50 0C    	ld	hl,0x0c50
3961  1334  E5          	push	hl
3962  1335  3E 03       	ld	a,0x03
3963  1337  F5          	push	af
3964  1338  33          	inc	sp
3965  1339  CD 00 00    	call	_NIRVANAP_drawT_callee
3966  133C              l_game_end_00113:
3967  133C  DD 7E FC    	ld	a,(ix-4)
3968  133F  3D          	dec	a
3969  1340  20 04       	jr	NZ,l_game_end_00212
3970  1342  3E 01       	ld	a,0x01
3971  1344  18 01       	jr	l_game_end_00213
3972  1346              l_game_end_00212:
3973  1346  AF          	xor	a,a
3974  1347              l_game_end_00213:
3975  1347  DD 77 FF    	ld	(ix-1),a
3976  134A  DD 7E FD    	ld	a,(ix-3)
3977  134D  B7          	or	a, a
3978  134E  20 1C       	jr	NZ,l_game_end_00116
3979  1350  DD 7E FF    	ld	a,(ix-1)
3980  1353  B7          	or	a, a
3981  1354  28 16       	jr	Z,l_game_end_00116
3982  1356  21 5A 01    	ld	hl,___str_40
3983  1359  E5          	push	hl
3984  135A  21 13 01    	ld	hl,0x0113
3985  135D  E5          	push	hl
3986  135E  CD 00 00    	call	_zx_print_str
3987  1361  21 60 0E    	ld	hl,0x0e60
3988  1364  E5          	push	hl
3989  1365  3E 1B       	ld	a,0x1b
3990  1367  F5          	push	af
3991  1368  33          	inc	sp
3992  1369  CD 00 00    	call	_NIRVANAP_drawT_callee
3993  136C              l_game_end_00116:
3994  136C  DD 7E FE    	ld	a,(ix-2)
3995  136F  B7          	or	a, a
3996  1370  28 27       	jr	Z,l_game_end_00119
3997  1372  DD 7E FF    	ld	a,(ix-1)
3998  1375  B7          	or	a, a
3999  1376  28 21       	jr	Z,l_game_end_00119
4000  1378  21 63 01    	ld	hl,___str_41
4001  137B  E5          	push	hl
4002  137C  21 13 01    	ld	hl,0x0113
4003  137F  E5          	push	hl
4004  1380  CD 00 00    	call	_zx_print_str
4005  1383  21 50 0C    	ld	hl,0x0c50
4006  1386  E5          	push	hl
4007  1387  3E 03       	ld	a,0x03
4008  1389  F5          	push	af
4009  138A  33          	inc	sp
4010  138B  CD 00 00    	call	_NIRVANAP_drawT_callee
4011  138E  21 60 0E    	ld	hl,0x0e60
4012  1391  E5          	push	hl
4013  1392  3E 1B       	ld	a,0x1b
4014  1394  F5          	push	af
4015  1395  33          	inc	sp
4016  1396  CD 00 00    	call	_NIRVANAP_drawT_callee
4017  1399              l_game_end_00119:
4018  1399  21 C8 00    	ld	hl,0x00c8
4019  139C  E5          	push	hl
4020  139D  21 01 1F    	ld	hl,0x1f01
4021  13A0  E5          	push	hl
4022  13A1  3E 13       	ld	a,0x13
4023  13A3  F5          	push	af
4024  13A4  33          	inc	sp
4025  13A5  CD 60 19    	call	_game_colour_message
4026  13A8  F1          	pop	af
4027  13A9  F1          	pop	af
4028  13AA  33          	inc	sp
4029  13AB  DD 7E FE    	ld	a,(ix-2)
4030  13AE  B7          	or	a, a
4031  13AF  28 32       	jr	Z,l_game_end_00122
4032  13B1  DD 7E FC    	ld	a,(ix-4)
4033  13B4  B7          	or	a, a
4034  13B5  20 2C       	jr	NZ,l_game_end_00122
4035  13B7  21 40 12    	ld	hl,0x1240
4036  13BA  E5          	push	hl
4037  13BB  3E CB       	ld	a,0xcb
4038  13BD  F5          	push	af
4039  13BE  33          	inc	sp
4040  13BF  CD 00 00    	call	_NIRVANAP_drawT_callee
4041  13C2  21 50 12    	ld	hl,0x1250
4042  13C5  E5          	push	hl
4043  13C6  3E CA       	ld	a,0xca
4044  13C8  F5          	push	af
4045  13C9  33          	inc	sp
4046  13CA  CD 00 00    	call	_NIRVANAP_drawT_callee
4047  13CD  21 77 01    	ld	hl,___str_42
4048  13D0  E5          	push	hl
4049  13D1  21 13 01    	ld	hl,0x0113
4050  13D4  E5          	push	hl
4051  13D5  CD 00 00    	call	_zx_print_str
4052  13D8  21 40 0C    	ld	hl,0x0c40
4053  13DB  E5          	push	hl
4054  13DC  3E CB       	ld	a,0xcb
4055  13DE  F5          	push	af
4056  13DF  33          	inc	sp
4057  13E0  CD 00 00    	call	_NIRVANAP_drawT_callee
4058  13E3              l_game_end_00122:
4059  13E3  DD 7E FD    	ld	a,(ix-3)
4060  13E6  B7          	or	a, a
4061  13E7  20 32       	jr	NZ,l_game_end_00125
4062  13E9  DD 7E FF    	ld	a,(ix-1)
4063  13EC  B7          	or	a, a
4064  13ED  28 2C       	jr	Z,l_game_end_00125
4065  13EF  21 50 12    	ld	hl,0x1250
4066  13F2  E5          	push	hl
4067  13F3  3E CB       	ld	a,0xcb
4068  13F5  F5          	push	af
4069  13F6  33          	inc	sp
4070  13F7  CD 00 00    	call	_NIRVANAP_drawT_callee
4071  13FA  21 60 12    	ld	hl,0x1260
4072  13FD  E5          	push	hl
4073  13FE  3E CA       	ld	a,0xca
4074  1400  F5          	push	af
4075  1401  33          	inc	sp
4076  1402  CD 00 00    	call	_NIRVANAP_drawT_callee
4077  1405  21 77 01    	ld	hl,___str_42
4078  1408  E5          	push	hl
4079  1409  21 13 01    	ld	hl,0x0113
4080  140C  E5          	push	hl
4081  140D  CD 00 00    	call	_zx_print_str
4082  1410  21 50 0E    	ld	hl,0x0e50
4083  1413  E5          	push	hl
4084  1414  3E CB       	ld	a,0xcb
4085  1416  F5          	push	af
4086  1417  33          	inc	sp
4087  1418  CD 00 00    	call	_NIRVANAP_drawT_callee
4088  141B              l_game_end_00125:
4089  141B  DD 7E FE    	ld	a,(ix-2)
4090  141E  B7          	or	a, a
4091  141F  28 53       	jr	Z,l_game_end_00128
4092  1421  DD 7E FF    	ld	a,(ix-1)
4093  1424  B7          	or	a, a
4094  1425  28 4D       	jr	Z,l_game_end_00128
4095  1427  21 8B 01    	ld	hl,___str_43
4096  142A  E5          	push	hl
4097  142B  21 13 01    	ld	hl,0x0113
4098  142E  E5          	push	hl
4099  142F  CD 00 00    	call	_zx_print_str
4100  1432  21 40 12    	ld	hl,0x1240
4101  1435  E5          	push	hl
4102  1436  3E CB       	ld	a,0xcb
4103  1438  F5          	push	af
4104  1439  33          	inc	sp
4105  143A  CD 00 00    	call	_NIRVANAP_drawT_callee
4106  143D  21 50 12    	ld	hl,0x1250
4107  1440  E5          	push	hl
4108  1441  3E CA       	ld	a,0xca
4109  1443  F5          	push	af
4110  1444  33          	inc	sp
4111  1445  CD 00 00    	call	_NIRVANAP_drawT_callee
4112  1448  21 50 10    	ld	hl,0x1050
4113  144B  E5          	push	hl
4114  144C  3E CB       	ld	a,0xcb
4115  144E  F5          	push	af
4116  144F  33          	inc	sp
4117  1450  CD 00 00    	call	_NIRVANAP_drawT_callee
4118  1453  21 60 10    	ld	hl,0x1060
4119  1456  E5          	push	hl
4120  1457  3E CA       	ld	a,0xca
4121  1459  F5          	push	af
4122  145A  33          	inc	sp
4123  145B  CD 00 00    	call	_NIRVANAP_drawT_callee
4124  145E  21 40 0C    	ld	hl,0x0c40
4125  1461  E5          	push	hl
4126  1462  3E CB       	ld	a,0xcb
4127  1464  F5          	push	af
4128  1465  33          	inc	sp
4129  1466  CD 00 00    	call	_NIRVANAP_drawT_callee
4130  1469  21 50 0E    	ld	hl,0x0e50
4131  146C  E5          	push	hl
4132  146D  3E CB       	ld	a,0xcb
4133  146F  F5          	push	af
4134  1470  33          	inc	sp
4135  1471  CD 00 00    	call	_NIRVANAP_drawT_callee
4136  1474              l_game_end_00128:
4137  1474  21 C8 00    	ld	hl,0x00c8
4138  1477  E5          	push	hl
4139  1478  21 01 1F    	ld	hl,0x1f01
4140  147B  E5          	push	hl
4141  147C  3E 13       	ld	a,0x13
4142  147E  F5          	push	af
4143  147F  33          	inc	sp
4144  1480  CD 60 19    	call	_game_colour_message
4145  1483  F1          	pop	af
4146  1484  33          	inc	sp
4147  1485  21 A1 01    	ld	hl,___str_44
4148  1488  E3          	ex	(sp),hl
4149  1489  21 13 01    	ld	hl,0x0113
4150  148C  E5          	push	hl
4151  148D  CD 00 00    	call	_zx_print_str
4152  1490  21 C8 00    	ld	hl,0x00c8
4153  1493  E5          	push	hl
4154  1494  21 01 1F    	ld	hl,0x1f01
4155  1497  E5          	push	hl
4156  1498  3E 13       	ld	a,0x13
4157  149A  F5          	push	af
4158  149B  33          	inc	sp
4159  149C  CD 60 19    	call	_game_colour_message
4160  149F  F1          	pop	af
4161  14A0  F1          	pop	af
4162  14A1  33          	inc	sp
4163  14A2  CD 00 00    	call	_spr_draw_clear
4164  14A5  DD F9       	ld	sp, ix
4165  14A7  DD E1       	pop	ix
4166  14A9  C9          	ret
4167  14AA              	SECTION rodata_compiler
4168  0150              ___str_39:
4169  0150  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4170  0159  00          	DEFB 0x00
4171  015A              	SECTION rodata_compiler
4172  015A              ___str_40:
4173  015A  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4174  0162  00          	DEFB 0x00
4175  0163              	SECTION rodata_compiler
4176  0163              ___str_41:
4177  0163  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4178  0176  00          	DEFB 0x00
4179  0177              	SECTION rodata_compiler
4180  0177              ___str_42:
4181  0177  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4182  018A  00          	DEFB 0x00
4183  018B              	SECTION rodata_compiler
4184  018B              ___str_43:
4185  018B  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4186  01A0  00          	DEFB 0x00
4187  01A1              	SECTION rodata_compiler
4188  01A1              ___str_44:
4189  01A1  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE U!"
4190  01BF  00          	DEFB 0x00
4191  01C0              	SECTION code_compiler
4192  14AA              ;	---------------------------------
4193  14AA              ; Function game_hall_check
4194  14AA              ; ---------------------------------
4195  14AA              _game_hall_check:
4196  14AA  5D          	ld	e, l
4197  14AB  01 00 00    	ld	bc,_player_score+0
4198  14AE  26 00       	ld	h,0x00
4199  14B0  6B          	ld	l, e
4200  14B1  29          	add	hl, hl
4201  14B2  09          	add	hl, bc
4202  14B3  4E          	ld	c, (hl)
4203  14B4  23          	inc	hl
4204  14B5  46          	ld	b, (hl)
4205  14B6  2A 3A 00    	ld	hl,(_hof + 0x003a)
4206  14B9  AF          	xor	a,a
4207  14BA  ED 42       	sbc	hl,bc
4208  14BC  30 09       	jr	NC,l_game_hall_check_00104
4209  14BE  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4210  14C2  21 36 00    	ld	hl, +(_hof + 0x0036)
4211  14C5  18 14       	jr	l_game_hall_check_00106
4212  14C7              l_game_hall_check_00104:
4213  14C7  2A 34 00    	ld	hl,(_hof + 0x0034)
4214  14CA  AF          	xor	a,a
4215  14CB  ED 42       	sbc	hl,bc
4216  14CD  30 09       	jr	NC,l_game_hall_check_00105
4217  14CF  ED 43 34 00 	ld	(_hof + 0x0034),bc
4218  14D3  21 30 00    	ld	hl, +(_hof + 0x0030)
4219  14D6  18 03       	jr	l_game_hall_check_00106
4220  14D8              l_game_hall_check_00105:
4221  14D8  21 00 00    	ld	hl,0x0000
4222  14DB              l_game_hall_check_00106:
4223  14DB  C9          	ret
4224  14DC              	SECTION code_compiler
4225  14DC              ;	---------------------------------
4226  14DC              ; Function compare_scores
4227  14DC              ; ---------------------------------
4228  14DC              _compare_scores:
4229  14DC  CD 00 00    	call	___sdcc_enter_ix
4230  14DF  DD 6E 06    	ld	l,(ix+6)
4231  14E2  DD 66 07    	ld	h,(ix+7)
4232  14E5  11 04 00    	ld	de,0x0004
4233  14E8  19          	add	hl, de
4234  14E9  4E          	ld	c, (hl)
4235  14EA  23          	inc	hl
4236  14EB  46          	ld	b, (hl)
4237  14EC  DD 6E 04    	ld	l,(ix+4)
4238  14EF  DD 66 05    	ld	h,(ix+5)
4239  14F2  11 04 00    	ld	de,0x0004
4240  14F5  19          	add	hl, de
4241  14F6  7E          	ld	a,(hl)
4242  14F7  23          	inc	hl
4243  14F8  56          	ld	d,(hl)
4244  14F9  5F          	ld	e,a
4245  14FA  91          	sub	a, c
4246  14FB  7A          	ld	a, d
4247  14FC  98          	sbc	a, b
4248  14FD  30 05       	jr	NC,l_compare_scores_00102
4249  14FF  21 01 00    	ld	hl,0x0001
4250  1502  18 10       	jr	l_compare_scores_00105
4251  1504              l_compare_scores_00102:
4252  1504  79          	ld	a, c
4253  1505  93          	sub	a, e
4254  1506  20 09       	jr	NZ,l_compare_scores_00104
4255  1508  78          	ld	a, b
4256  1509  92          	sub	a, d
4257  150A  20 05       	jr	NZ,l_compare_scores_00104
4258  150C  21 00 00    	ld	hl,0x0000
4259  150F  18 03       	jr	l_compare_scores_00105
4260  1511              l_compare_scores_00104:
4261  1511  21 FF FF    	ld	hl,0xffff
4262  1514              l_compare_scores_00105:
4263  1514  DD E1       	pop	ix
4264  1516  C9          	ret
4265  1517              	SECTION code_compiler
4266  1517              ;	---------------------------------
4267  1517              ; Function game_hall_enter
4268  1517              ; ---------------------------------
4269  1517              _game_hall_enter:
4270  1517  CD 00 00    	call	___sdcc_enter_ix
4271  151A  21 F7 FF    	ld	hl, -9
4272  151D  39          	add	hl, sp
4273  151E  F9          	ld	sp, hl
4274  151F  CD 00 00    	call	_spr_draw_clear
4275  1522  2E 00       	ld	l,0x00
4276  1524  CD F1 0C    	call	_game_paint_attrib
4277  1527  ED 4B 00 00 	ld	bc,(_player_score)
4278  152B  2A 02 00    	ld	hl, (_player_score + 2)
4279  152E  AF          	xor	a,a
4280  152F  ED 42       	sbc	hl,bc
4281  1531  30 0F       	jr	NC,l_game_hall_enter_00102
4282  1533  2E 00       	ld	l,0x00
4283  1535  CD AA 14    	call	_game_hall_check
4284  1538  E5          	push	hl
4285  1539  2E 01       	ld	l,0x01
4286  153B  CD AA 14    	call	_game_hall_check
4287  153E  EB          	ex	de,hl
4288  153F  C1          	pop	bc
4289  1540  18 0E       	jr	l_game_hall_enter_00103
4290  1542              l_game_hall_enter_00102:
4291  1542  2E 01       	ld	l,0x01
4292  1544  CD AA 14    	call	_game_hall_check
4293  1547  E5          	push	hl
4294  1548  2E 00       	ld	l,0x00
4295  154A  CD AA 14    	call	_game_hall_check
4296  154D  D1          	pop	de
4297  154E  4D          	ld	c,l
4298  154F  44          	ld	b,h
4299  1550              l_game_hall_enter_00103:
4300  1550  78          	ld	a, b
4301  1551  B1          	or	a,c
4302  1552  20 05       	jr	NZ,l_game_hall_enter_00125
4303  1554  7A          	ld	a, d
4304  1555  B3          	or	a,e
4305  1556  CA A4 16    	jp	Z, l_game_hall_enter_00126
4306  1559              l_game_hall_enter_00125:
4307  1559  3E 00       	ld	a,0x00
4308  155B  DD 77 FA    	ld	(ix-6),a
4309  155E  DD 77 F9    	ld	(ix-7),a
4310  1561  DD 77 F8    	ld	(ix-8),a
4311  1564  DD 77 F7    	ld	(ix-9),a
4312  1567  DD 36 FB 00 	ld	(ix-5),0x00
4313  156B  78          	ld	a, b
4314  156C  B1          	or	a,c
4315  156D  28 0D       	jr	Z,l_game_hall_enter_00105
4316  156F  DD 36 F7 01 	ld	(ix-9),0x01
4317  1573  C5          	push	bc
4318  1574  D5          	push	de
4319  1575  2E 00       	ld	l,0x00
4320  1577  CD 15 17    	call	_game_hall_enter_phs
4321  157A  D1          	pop	de
4322  157B  C1          	pop	bc
4323  157C              l_game_hall_enter_00105:
4324  157C  7A          	ld	a, d
4325  157D  B3          	or	a,e
4326  157E  28 0D       	jr	Z,l_game_hall_enter_00107
4327  1580  DD 36 FB 05 	ld	(ix-5),0x05
4328  1584  C5          	push	bc
4329  1585  D5          	push	de
4330  1586  2E 01       	ld	l,0x01
4331  1588  CD 15 17    	call	_game_hall_enter_phs
4332  158B  D1          	pop	de
4333  158C  C1          	pop	bc
4334  158D              l_game_hall_enter_00107:
4335  158D  C5          	push	bc
4336  158E  D5          	push	de
4337  158F  21 C0 01    	ld	hl,___str_45
4338  1592  E5          	push	hl
4339  1593  21 02 0A    	ld	hl,0x0a02
4340  1596  E5          	push	hl
4341  1597  CD 00 00    	call	_zx_print_str
4342  159A  21 CD 01    	ld	hl,___str_46
4343  159D  E5          	push	hl
4344  159E  21 12 06    	ld	hl,0x0612
4345  15A1  E5          	push	hl
4346  15A2  CD 00 00    	call	_zx_print_str
4347  15A5  21 E0 01    	ld	hl,___str_47
4348  15A8  E5          	push	hl
4349  15A9  21 13 06    	ld	hl,0x0613
4350  15AC  E5          	push	hl
4351  15AD  CD 00 00    	call	_zx_print_str
4352  15B0  D1          	pop	de
4353  15B1  C1          	pop	bc
4354  15B2  DD 71 FE    	ld	(ix-2),c
4355  15B5  DD 70 FF    	ld	(ix-1),b
4356  15B8  DD 73 FC    	ld	(ix-4),e
4357  15BB  DD 72 FD    	ld	(ix-3),d
4358  15BE              l_game_hall_enter_00122:
4359  15BE  DD 7E F7    	ld	a,(ix-9)
4360  15C1  DD 86 FB    	add	a,(ix-5)
4361  15C4  B7          	or	a, a
4362  15C5  CA 8C 16    	jp	Z, l_game_hall_enter_00124
4363  15C8  21 05 00    	ld	hl,0x0005
4364  15CB  E5          	push	hl
4365  15CC  2A 00 00    	ld	hl,(_frame_time)
4366  15CF  E5          	push	hl
4367  15D0  CD F2 19    	call	_game_check_time
4368  15D3  F1          	pop	af
4369  15D4  F1          	pop	af
4370  15D5  7D          	ld	a, l
4371  15D6  B7          	or	a, a
4372  15D7  28 36       	jr	Z,l_game_hall_enter_00113
4373  15D9  DD 7E F8    	ld	a,(ix-8)
4374  15DC  D6 01       	sub	a,0x01
4375  15DE  3E 00       	ld	a,0x00
4376  15E0  17          	rla
4377  15E1  DD 77 F8    	ld	(ix-8),a
4378  15E4  DD 7E F7    	ld	a,(ix-9)
4379  15E7  B7          	or	a, a
4380  15E8  28 0B       	jr	Z,l_game_hall_enter_00109
4381  15EA  DD 66 F8    	ld	h,(ix-8)
4382  15ED  DD 6E F7    	ld	l,(ix-9)
4383  15F0  E5          	push	hl
4384  15F1  CD 8D 17    	call	_game_hall_print_p
4385  15F4  F1          	pop	af
4386  15F5              l_game_hall_enter_00109:
4387  15F5  DD 7E FB    	ld	a,(ix-5)
4388  15F8  B7          	or	a, a
4389  15F9  28 0B       	jr	Z,l_game_hall_enter_00111
4390  15FB  DD 66 F8    	ld	h,(ix-8)
4391  15FE  DD 6E FB    	ld	l,(ix-5)
4392  1601  E5          	push	hl
4393  1602  CD 8D 17    	call	_game_hall_print_p
4394  1605  F1          	pop	af
4395  1606              l_game_hall_enter_00111:
4396  1606  CD 44 19    	call	_game_rotate_attrib
4397  1609  2A 00 00    	ld	hl,(_curr_time)
4398  160C  22 00 00    	ld	(_frame_time),hl
4399  160F              l_game_hall_enter_00113:
4400  160F  21 00 00    	ld	hl,_k1
4401  1612  E5          	push	hl
4402  1613  2A 00 00    	ld	hl,(_joyfunc1)
4403  1616  CD 00 00    	call	___sdcc_call_hl
4404  1619  F1          	pop	af
4405  161A  7D          	ld	a,l
4406  161B  32 00 00    	ld	(_dirs),a
4407  161E  DD 7E FA    	ld	a,(ix-6)
4408  1621  B7          	or	a, a
4409  1622  20 22       	jr	NZ,l_game_hall_enter_00115
4410  1624  DD 7E F7    	ld	a,(ix-9)
4411  1627  B7          	or	a, a
4412  1628  28 1C       	jr	Z,l_game_hall_enter_00115
4413  162A  DD 6E F7    	ld	l,(ix-9)
4414  162D  CD BC 17    	call	_game_hall_edit_p
4415  1630  DD 75 F7    	ld	(ix-9),l
4416  1633  7D          	ld	a,l
4417  1634  B7          	or	a, a
4418  1635  20 0F       	jr	NZ,l_game_hall_enter_00115
4419  1637  DD 5E FE    	ld	e,(ix-2)
4420  163A  DD 56 FF    	ld	d,(ix-1)
4421  163D  AF          	xor	a,a
4422  163E  21 00 00    	ld	hl,_initials
4423  1641              l_game_hall_enter_00190:
4424  1641  BE          	cp	a, (hl)
4425  1642  ED A0       	ldi
4426  1644  20 FB       	jr	NZ, l_game_hall_enter_00190
4427  1646              l_game_hall_enter_00115:
4428  1646  3A 00 00    	ld	a,(_dirs)
4429  1649  DD 77 FA    	ld	(ix-6),a
4430  164C  21 00 00    	ld	hl,_k2
4431  164F  E5          	push	hl
4432  1650  2A 00 00    	ld	hl,(_joyfunc2)
4433  1653  CD 00 00    	call	___sdcc_call_hl
4434  1656  F1          	pop	af
4435  1657  7D          	ld	a,l
4436  1658  32 00 00    	ld	(_dirs),a
4437  165B  DD 7E F9    	ld	a,(ix-7)
4438  165E  B7          	or	a, a
4439  165F  20 22       	jr	NZ,l_game_hall_enter_00119
4440  1661  DD 7E FB    	ld	a,(ix-5)
4441  1664  B7          	or	a, a
4442  1665  28 1C       	jr	Z,l_game_hall_enter_00119
4443  1667  DD 6E FB    	ld	l,(ix-5)
4444  166A  CD BC 17    	call	_game_hall_edit_p
4445  166D  DD 75 FB    	ld	(ix-5),l
4446  1670  7D          	ld	a,l
4447  1671  B7          	or	a, a
4448  1672  20 0F       	jr	NZ,l_game_hall_enter_00119
4449  1674  DD 5E FC    	ld	e,(ix-4)
4450  1677  DD 56 FD    	ld	d,(ix-3)
4451  167A  AF          	xor	a,a
4452  167B  21 04 00    	ld	hl,+(_initials + 0x0004)
4453  167E              l_game_hall_enter_00191:
4454  167E  BE          	cp	a, (hl)
4455  167F  ED A0       	ldi
4456  1681  20 FB       	jr	NZ, l_game_hall_enter_00191
4457  1683              l_game_hall_enter_00119:
4458  1683  3A 00 00    	ld	a,(_dirs)
4459  1686  DD 77 F9    	ld	(ix-7),a
4460  1689  C3 BE 15    	jp	l_game_hall_enter_00122
4461  168C              l_game_hall_enter_00124:
4462  168C  CD 00 00    	call	_ay_reset
4463  168F  CD 00 00    	call	_spr_draw_clear
4464  1692  01 DC 14    	ld	bc,_compare_scores
4465  1695  C5          	push	bc
4466  1696  21 06 00    	ld	hl,0x0006
4467  1699  E5          	push	hl
4468  169A  2E 0A       	ld	l,0x0a
4469  169C  E5          	push	hl
4470  169D  21 00 00    	ld	hl,_hof
4471  16A0  E5          	push	hl
4472  16A1  CD 00 00    	call	__insertion_sort__callee
4473  16A4              l_game_hall_enter_00126:
4474  16A4  CD 73 18    	call	_game_hall_of_fame
4475  16A7  2E 00       	ld	l,0x00
4476  16A9  CD B1 16    	call	_game_menu_back
4477  16AC  DD F9       	ld	sp, ix
4478  16AE  DD E1       	pop	ix
4479  16B0  C9          	ret
4480  16B1              	SECTION rodata_compiler
4481  01C0              ___str_45:
4482  01C0  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4483  01CC  00          	DEFB 0x00
4484  01CD              	SECTION rodata_compiler
4485  01CD              ___str_46:
4486  01CD  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4487  01DF  00          	DEFB 0x00
4488  01E0              	SECTION rodata_compiler
4489  01E0              ___str_47:
4490  01E0  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4491  01F3  00          	DEFB 0x00
4492  01F4              	SECTION code_compiler
4493  16B1              ;	---------------------------------
4494  16B1              ; Function game_menu_back
4495  16B1              ; ---------------------------------
4496  16B1              _game_menu_back:
4497  16B1  7D          	ld	a,l
4498  16B2  32 00 00    	ld	(_s_lin1),a
4499  16B5  21 00 00    	ld	hl,_game_menu_sel
4500  16B8  36 00       	ld	(hl),0x00
4501  16BA  CD DC 0F    	call	_game_menu_top_paint
4502  16BD  CD 50 10    	call	_game_menu_paint
4503  16C0  2A 00 00    	ld	hl,(_curr_time)
4504  16C3  22 00 00    	ld	(_entry_time),hl
4505  16C6  C9          	ret
4506  16C7              	SECTION code_compiler
4507  16C7              ;	---------------------------------
4508  16C7              ; Function game_hall_enter_prt
4509  16C7              ; ---------------------------------
4510  16C7              _game_hall_enter_prt:
4511  16C7  7D          	ld	a,l
4512  16C8  C6 06       	add	a,0x06
4513  16CA  4D          	ld	c,l
4514  16CB  57          	ld	d, a
4515  16CC  79          	ld	a, c
4516  16CD  C6 FC       	add	a,0xfc
4517  16CF  47          	ld	b, a
4518  16D0  C5          	push	bc
4519  16D1  D5          	push	de
4520  16D2  21 9C 01    	ld	hl,0x019c
4521  16D5  E5          	push	hl
4522  16D6  58          	ld	e,b
4523  16D7  D5          	push	de
4524  16D8  3E 30       	ld	a,0x30
4525  16DA  F5          	push	af
4526  16DB  33          	inc	sp
4527  16DC  CD D0 10    	call	_game_menu_e
4528  16DF  F1          	pop	af
4529  16E0  F1          	pop	af
4530  16E1  33          	inc	sp
4531  16E2  D1          	pop	de
4532  16E3  C1          	pop	bc
4533  16E4  C5          	push	bc
4534  16E5  21 9F FF    	ld	hl,0xff9f
4535  16E8  E5          	push	hl
4536  16E9  58          	ld	e,b
4537  16EA  D5          	push	de
4538  16EB  3E 7C       	ld	a,0x7c
4539  16ED  F5          	push	af
4540  16EE  33          	inc	sp
4541  16EF  CD D0 10    	call	_game_menu_e
4542  16F2  F1          	pop	af
4543  16F3  F1          	pop	af
4544  16F4  33          	inc	sp
4545  16F5  C1          	pop	bc
4546  16F6  11 F4 01    	ld	de,___str_48+0
4547  16F9  41          	ld	b, c
4548  16FA  05          	dec	b
4549  16FB  C5          	push	bc
4550  16FC  D5          	push	de
4551  16FD  C5          	push	bc
4552  16FE  33          	inc	sp
4553  16FF  3E 07       	ld	a,0x07
4554  1701  F5          	push	af
4555  1702  33          	inc	sp
4556  1703  CD 00 00    	call	_zx_print_str
4557  1706  C1          	pop	bc
4558  1707  21 F9 01    	ld	hl,___str_49
4559  170A  E5          	push	hl
4560  170B  C5          	push	bc
4561  170C  33          	inc	sp
4562  170D  3E 08       	ld	a,0x08
4563  170F  F5          	push	af
4564  1710  33          	inc	sp
4565  1711  CD 00 00    	call	_zx_print_str
4566  1714  C9          	ret
4567  1715              	SECTION rodata_compiler
4568  01F4              ___str_48:
4569  01F4  48 49 47 48 	DEFM "HIGH"
4570  01F8  00          	DEFB 0x00
4571  01F9              	SECTION rodata_compiler
4572  01F9              ___str_49:
4573  01F9  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4574  01FF  00          	DEFB 0x00
4575  0200              	SECTION code_compiler
4576  1715              ;	---------------------------------
4577  1715              ; Function game_hall_enter_phs
4578  1715              ; ---------------------------------
4579  1715              _game_hall_enter_phs:
4580  1715  7D          	ld	a, l
4581  1716  B7          	or	a, a
4582  1717  20 07       	jr	NZ,l_game_hall_enter_phs_00102
4583  1719  2E 06       	ld	l,0x06
4584  171B  CD C7 16    	call	_game_hall_enter_prt
4585  171E  18 05       	jr	l_game_hall_enter_phs_00104
4586  1720              l_game_hall_enter_phs_00102:
4587  1720  2E 16       	ld	l,0x16
4588  1722  CD C7 16    	call	_game_hall_enter_prt
4589  1725              l_game_hall_enter_phs_00104:
4590  1725  C9          	ret
4591  1726              	SECTION code_compiler
4592  1726              ;	---------------------------------
4593  1726              ; Function game_hall_print_p2
4594  1726              ; ---------------------------------
4595  1726              _game_hall_print_p2:
4596  1726  CD 00 00    	call	___sdcc_enter_ix
4597  1729  21 00 00    	ld	hl,_initials
4598  172C  E5          	push	hl
4599  172D  DD 56 05    	ld	d,(ix+5)
4600  1730  1E 0D       	ld	e,0x0d
4601  1732  D5          	push	de
4602  1733  CD 00 00    	call	_zx_print_str
4603  1736  DD 4E 04    	ld	c,(ix+4)
4604  1739  DD 7E 05    	ld	a,(ix+5)
4605  173C  81          	add	a, c
4606  173D  47          	ld	b, a
4607  173E  DD 5E 05    	ld	e,(ix+5)
4608  1741  1D          	dec	e
4609  1742  7B          	ld	a, e
4610  1743  81          	add	a, c
4611  1744  57          	ld	d, a
4612  1745  3E 70       	ld	a,0x70
4613  1747  F5          	push	af
4614  1748  33          	inc	sp
4615  1749  4A          	ld	c, d
4616  174A  C5          	push	bc
4617  174B  CD 3C 0D    	call	_game_paint_attrib_lin_h
4618  174E  F1          	pop	af
4619  174F  33          	inc	sp
4620  1750  F3          	di
4621  1751  DD 7E 06    	ld	a,(ix+6)
4622  1754  B7          	or	a, a
4623  1755  28 1A       	jr	Z,l_game_hall_print_p2_00102
4624  1757  DD 7E 05    	ld	a,(ix+5)
4625  175A  F5          	push	af
4626  175B  33          	inc	sp
4627  175C  21 A9 56    	ld	hl,0x56a9
4628  175F  E5          	push	hl
4629  1760  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4630  1763  DD 7E 05    	ld	a,(ix+5)
4631  1766  F5          	push	af
4632  1767  33          	inc	sp
4633  1768  21 03 58    	ld	hl,0x5803
4634  176B  E5          	push	hl
4635  176C  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4636  176F  18 18       	jr	l_game_hall_print_p2_00103
4637  1771              l_game_hall_print_p2_00102:
4638  1771  DD 7E 05    	ld	a,(ix+5)
4639  1774  F5          	push	af
4640  1775  33          	inc	sp
4641  1776  21 A9 58    	ld	hl,0x58a9
4642  1779  E5          	push	hl
4643  177A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4644  177D  DD 7E 05    	ld	a,(ix+5)
4645  1780  F5          	push	af
4646  1781  33          	inc	sp
4647  1782  21 16 56    	ld	hl,0x5616
4648  1785  E5          	push	hl
4649  1786  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
4650  1789              l_game_hall_print_p2_00103:
4651  1789  FB          	ei
4652  178A  DD E1       	pop	ix
4653  178C  C9          	ret
4654  178D              	SECTION code_compiler
4655  178D              ;	---------------------------------
4656  178D              ; Function game_hall_print_p
4657  178D              ; ---------------------------------
4658  178D              _game_hall_print_p:
4659  178D  CD 00 00    	call	___sdcc_enter_ix
4660  1790  DD 7E 04    	ld	a,(ix+4)
4661  1793  D6 05       	sub	a,0x05
4662  1795  30 12       	jr	NC,l_game_hall_print_p_00102
4663  1797  DD 56 05    	ld	d,(ix+5)
4664  179A  1E 06       	ld	e,0x06
4665  179C  D5          	push	de
4666  179D  DD 7E 04    	ld	a,(ix+4)
4667  17A0  F5          	push	af
4668  17A1  33          	inc	sp
4669  17A2  CD 26 17    	call	_game_hall_print_p2
4670  17A5  F1          	pop	af
4671  17A6  33          	inc	sp
4672  17A7  18 10       	jr	l_game_hall_print_p_00104
4673  17A9              l_game_hall_print_p_00102:
4674  17A9  DD 56 05    	ld	d,(ix+5)
4675  17AC  1E 16       	ld	e,0x16
4676  17AE  D5          	push	de
4677  17AF  DD 7E 04    	ld	a,(ix+4)
4678  17B2  F5          	push	af
4679  17B3  33          	inc	sp
4680  17B4  CD 26 17    	call	_game_hall_print_p2
4681  17B7  F1          	pop	af
4682  17B8  33          	inc	sp
4683  17B9              l_game_hall_print_p_00104:
4684  17B9  DD E1       	pop	ix
4685  17BB  C9          	ret
4686  17BC              	SECTION code_compiler
4687  17BC              ;	---------------------------------
4688  17BC              ; Function game_hall_edit_p
4689  17BC              ; ---------------------------------
4690  17BC              _game_hall_edit_p:
4691  17BC  CD 00 00    	call	___sdcc_enter_ix
4692  17BF  F5          	push	af
4693  17C0  4D          	ld	c, l
4694  17C1  0D          	dec	c
4695  17C2  21 00 00    	ld	hl,_dirs
4696  17C5  CB 7E       	bit	7, (hl)
4697  17C7  28 63       	jr	Z,l_game_hall_edit_p_00120
4698  17C9  79          	ld	a,c
4699  17CA  FE 04       	cp	a,0x04
4700  17CC  30 17       	jr	NC,l_game_hall_edit_p_00102
4701  17CE  C6 07       	add	a,0x07
4702  17D0  57          	ld	d, a
4703  17D1  79          	ld	a, c
4704  17D2  C6 06       	add	a,0x06
4705  17D4  47          	ld	b, a
4706  17D5  C5          	push	bc
4707  17D6  3E 70       	ld	a,0x70
4708  17D8  5A          	ld	e,d
4709  17D9  57          	ld	d,a
4710  17DA  D5          	push	de
4711  17DB  C5          	push	bc
4712  17DC  33          	inc	sp
4713  17DD  CD 15 0D    	call	_game_paint_attrib_lin
4714  17E0  F1          	pop	af
4715  17E1  33          	inc	sp
4716  17E2  C1          	pop	bc
4717  17E3  18 16       	jr	l_game_hall_edit_p_00103
4718  17E5              l_game_hall_edit_p_00102:
4719  17E5  79          	ld	a, c
4720  17E6  C6 13       	add	a,0x13
4721  17E8  57          	ld	d, a
4722  17E9  79          	ld	a, c
4723  17EA  C6 12       	add	a,0x12
4724  17EC  47          	ld	b, a
4725  17ED  C5          	push	bc
4726  17EE  3E 70       	ld	a,0x70
4727  17F0  5A          	ld	e,d
4728  17F1  57          	ld	d,a
4729  17F2  D5          	push	de
4730  17F3  C5          	push	bc
4731  17F4  33          	inc	sp
4732  17F5  CD 15 0D    	call	_game_paint_attrib_lin
4733  17F8  F1          	pop	af
4734  17F9  33          	inc	sp
4735  17FA  C1          	pop	bc
4736  17FB              l_game_hall_edit_p_00103:
4737  17FB  C5          	push	bc
4738  17FC  CD 00 00    	call	_sound_slide
4739  17FF  C1          	pop	bc
4740  1800  21 00 00    	ld	hl,_ay_effect_01
4741  1803  CD 00 00    	call	_ay_fx_play
4742  1806  11 00 00    	ld	de,_initials+0
4743  1809  41          	ld	b, c
4744  180A  0C          	inc	c
4745  180B  68          	ld	l,b
4746  180C  26 00       	ld	h,0x00
4747  180E  19          	add	hl, de
4748  180F  7E          	ld	a, (hl)
4749  1810  D6 7B       	sub	a,0x7b
4750  1812  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4751  1814  0D          	dec	c
4752  1815  79          	ld	a, c
4753  1816  E6 03       	and	a,0x03
4754  1818  28 08       	jr	Z,l_game_hall_edit_p_00107
4755  181A  41          	ld	b, c
4756  181B  0D          	dec	c
4757  181C  68          	ld	l,b
4758  181D  26 00       	ld	h,0x00
4759  181F  19          	add	hl, de
4760  1820  36 41       	ld	(hl),0x41
4761  1822              l_game_hall_edit_p_00107:
4762  1822  79          	ld	a, c
4763  1823  E6 03       	and	a,0x03
4764  1825  D6 03       	sub	a,0x03
4765  1827  20 44       	jr	NZ,l_game_hall_edit_p_00121
4766  1829  6F          	ld	l,a
4767  182A  18 43       	jr	l_game_hall_edit_p_00122
4768  182C              l_game_hall_edit_p_00120:
4769  182C  3A 00 00    	ld	a,(_dirs)
4770  182F  E6 0C       	and	a,0x0c
4771  1831  28 3A       	jr	Z,l_game_hall_edit_p_00121
4772  1833  11 00 00    	ld	de,_hall_valids
4773  1836  3E 00       	ld	a, +((_initials) & 0xFF)
4774  1838  81          	add	a, c
4775  1839  DD 77 FE    	ld	(ix-2),a
4776  183C  3E 00       	ld	a, +((_initials) / 256)
4777  183E  CE 00       	adc	a,0x00
4778  1840  DD 77 FF    	ld	(ix-1),a
4779  1843  E1          	pop	hl
4780  1844  46          	ld	b,(hl)
4781  1845  E5          	push	hl
4782  1846              l_game_hall_edit_p_00168:
4783  1846  1A          	ld	a, (de)
4784  1847  B8          	cp	a, b
4785  1848  28 06       	jr	Z,l_game_hall_edit_p_00167
4786  184A  B7          	or	a, a
4787  184B  13          	inc	de
4788  184C  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4789  184E  5F          	ld	e, a
4790  184F  57          	ld	d, a
4791  1850              l_game_hall_edit_p_00167:
4792  1850  21 00 00    	ld	hl,_dirs
4793  1853  CB 56       	bit	2, (hl)
4794  1855  28 0A       	jr	Z,l_game_hall_edit_p_00115
4795  1857  1B          	dec	de
4796  1858  1A          	ld	a, (de)
4797  1859  3D          	dec	a
4798  185A  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4799  185C  11 28 00    	ld	de, +(_hall_valids + 0x0028)
4800  185F  18 08       	jr	l_game_hall_edit_p_00116
4801  1861              l_game_hall_edit_p_00115:
4802  1861  13          	inc	de
4803  1862  1A          	ld	a, (de)
4804  1863  B7          	or	a, a
4805  1864  20 03       	jr	NZ,l_game_hall_edit_p_00116
4806  1866  11 01 00    	ld	de, +(_hall_valids + 0x0001)
4807  1869              l_game_hall_edit_p_00116:
4808  1869  E1          	pop	hl
4809  186A  1A          	ld	a,(de)
4810  186B  E5          	push	hl
4811  186C  77          	ld	(hl), a
4812  186D              l_game_hall_edit_p_00121:
4813  186D  0C          	inc	c
4814  186E  69          	ld	l, c
4815  186F              l_game_hall_edit_p_00122:
4816  186F  F1          	pop	af
4817  1870  DD E1       	pop	ix
4818  1872  C9          	ret
4819  1873              	SECTION code_compiler
4820  1873              ;	---------------------------------
4821  1873              ; Function game_hall_of_fame
4822  1873              ; ---------------------------------
4823  1873              _game_hall_of_fame:
4824  1873  CD 00 00    	call	_spr_draw_clear
4825  1876  2E 00       	ld	l,0x00
4826  1878  CD F1 0C    	call	_game_paint_attrib
4827  187B  21 9C 01    	ld	hl,0x019c
4828  187E  E5          	push	hl
4829  187F  21 06 18    	ld	hl,0x1806
4830  1882  E5          	push	hl
4831  1883  3E 10       	ld	a,0x10
4832  1885  F5          	push	af
4833  1886  33          	inc	sp
4834  1887  CD D0 10    	call	_game_menu_e
4835  188A  F1          	pop	af
4836  188B  33          	inc	sp
4837  188C  21 9F FF    	ld	hl,0xff9f
4838  188F  E3          	ex	(sp),hl
4839  1890  21 06 18    	ld	hl,0x1806
4840  1893  E5          	push	hl
4841  1894  3E 98       	ld	a,0x98
4842  1896  F5          	push	af
4843  1897  33          	inc	sp
4844  1898  CD D0 10    	call	_game_menu_e
4845  189B  F1          	pop	af
4846  189C  F1          	pop	af
4847  189D  33          	inc	sp
4848  189E  21 00 00    	ld	hl,_s_lin1
4849  18A1  36 00       	ld	(hl),0x00
4850  18A3              l_game_hall_of_fame_00102:
4851  18A3  21 00 00    	ld	hl,_screen_ink
4852  18A6  36 05       	ld	(hl),0x05
4853  18A8  2A 00 00    	ld	hl,(_s_lin1)
4854  18AB  26 00       	ld	h,0x00
4855  18AD  4D          	ld	c,l
4856  18AE  44          	ld	b,h
4857  18AF  29          	add	hl, hl
4858  18B0  09          	add	hl, bc
4859  18B1  29          	add	hl, hl
4860  18B2  01 00 00    	ld	bc,_hof
4861  18B5  09          	add	hl,bc
4862  18B6  3A 00 00    	ld	a,(_s_lin1)
4863  18B9  EB          	ex	de,hl
4864  18BA  C6 07       	add	a,0x07
4865  18BC  47          	ld	b, a
4866  18BD  D5          	push	de
4867  18BE  3E 0A       	ld	a,0x0a
4868  18C0  48          	ld	c,b
4869  18C1  47          	ld	b,a
4870  18C2  C5          	push	bc
4871  18C3  CD 00 00    	call	_zx_print_str
4872  18C6  2A 00 00    	ld	hl,(_s_lin1)
4873  18C9  26 00       	ld	h,0x00
4874  18CB  4D          	ld	c,l
4875  18CC  44          	ld	b,h
4876  18CD  29          	add	hl, hl
4877  18CE  09          	add	hl, bc
4878  18CF  29          	add	hl, hl
4879  18D0  01 00 00    	ld	bc,_hof
4880  18D3  09          	add	hl,bc
4881  18D4  11 04 00    	ld	de,0x0004
4882  18D7  19          	add	hl, de
4883  18D8  5E          	ld	e, (hl)
4884  18D9  23          	inc	hl
4885  18DA  56          	ld	d, (hl)
4886  18DB  3A 00 00    	ld	a,(_s_lin1)
4887  18DE  C6 07       	add	a,0x07
4888  18E0  47          	ld	b, a
4889  18E1  D5          	push	de
4890  18E2  3E 10       	ld	a,0x10
4891  18E4  48          	ld	c,b
4892  18E5  47          	ld	b,a
4893  18E6  C5          	push	bc
4894  18E7  CD 00 00    	call	_zx_print_int
4895  18EA  11 00 02    	ld	de,___str_50
4896  18ED  3A 00 00    	ld	a,(_s_lin1)
4897  18F0  C6 07       	add	a,0x07
4898  18F2  47          	ld	b, a
4899  18F3  D5          	push	de
4900  18F4  3E 0E       	ld	a,0x0e
4901  18F6  48          	ld	c,b
4902  18F7  47          	ld	b,a
4903  18F8  C5          	push	bc
4904  18F9  CD 00 00    	call	_zx_print_str
4905  18FC  11 02 02    	ld	de,___str_51
4906  18FF  3A 00 00    	ld	a,(_s_lin1)
4907  1902  C6 07       	add	a,0x07
4908  1904  47          	ld	b, a
4909  1905  D5          	push	de
4910  1906  3E 15       	ld	a,0x15
4911  1908  48          	ld	c,b
4912  1909  47          	ld	b,a
4913  190A  C5          	push	bc
4914  190B  CD 00 00    	call	_zx_print_str
4915  190E  21 00 00    	ld	hl,_s_lin1
4916  1911  7E          	ld	a,(hl)
4917  1912  3C          	inc	a
4918  1913  77          	ld	(hl),a
4919  1914  D6 0A       	sub	a,0x0a
4920  1916  38 8B       	jr	C,l_game_hall_of_fame_00102
4921  1918  21 04 02    	ld	hl,___str_52
4922  191B  E5          	push	hl
4923  191C  21 04 0A    	ld	hl,0x0a04
4924  191F  E5          	push	hl
4925  1920  CD 00 00    	call	_zx_print_str
4926  1923  21 F4 01    	ld	hl,0x01f4
4927  1926  E5          	push	hl
4928  1927  21 0A 16    	ld	hl,0x160a
4929  192A  E5          	push	hl
4930  192B  3E 04       	ld	a,0x04
4931  192D  F5          	push	af
4932  192E  33          	inc	sp
4933  192F  CD 60 19    	call	_game_colour_message
4934  1932  F1          	pop	af
4935  1933  F1          	pop	af
4936  1934  33          	inc	sp
4937  1935  CD 00 00    	call	_spr_draw_clear
4938  1938  21 00 00    	ld	hl,_game_menu_sel
4939  193B  36 00       	ld	(hl),0x00
4940  193D  21 00 00    	ld	hl,_pb_midi_title
4941  1940  CD 00 00    	call	_ay_midi_play
4942  1943  C9          	ret
4943  1944              	SECTION rodata_compiler
4944  0200              ___str_50:
4945  0200  2D          	DEFM "-"
4946  0201  00          	DEFB 0x00
4947  0202              	SECTION rodata_compiler
4948  0202              ___str_51:
4949  0202  30          	DEFM "0"
4950  0203  00          	DEFB 0x00
4951  0204              	SECTION rodata_compiler
4952  0204              ___str_52:
4953  0204  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4954  0210  00          	DEFB 0x00
4955  0211              	SECTION code_compiler
4956  1944              ;	---------------------------------
4957  1944              ; Function game_rotate_attrib
4958  1944              ; ---------------------------------
4959  1944              _game_rotate_attrib:
4960  1944  01 03 00    	ld	bc,_attrib_hl + 3
4961  1947  0A          	ld	a, (bc)
4962  1948  32 00 00    	ld	(_tmp_uc),a
4963  194B  11 02 00    	ld	de,_attrib_hl + 2
4964  194E  1A          	ld	a, (de)
4965  194F  02          	ld	(bc), a
4966  1950  01 01 00    	ld	bc,_attrib_hl + 1
4967  1953  0A          	ld	a, (bc)
4968  1954  12          	ld	(de), a
4969  1955  3A 00 00    	ld	a,(_attrib_hl)
4970  1958  02          	ld	(bc), a
4971  1959  3A 00 00    	ld	a,(_tmp_uc)
4972  195C  32 00 00    	ld	(_attrib_hl),a
4973  195F  C9          	ret
4974  1960              	SECTION code_compiler
4975  1960              ;	---------------------------------
4976  1960              ; Function game_colour_message
4977  1960              ; ---------------------------------
4978  1960              _game_colour_message:
4979  1960  CD 00 00    	call	___sdcc_enter_ix
4980  1963  3B          	dec	sp
4981  1964  21 00 00    	ld	hl,_tmp
4982  1967  36 01       	ld	(hl),0x01
4983  1969  2A 00 00    	ld	hl,(_curr_time)
4984  196C  22 00 00    	ld	(_frame_time),hl
4985  196F  2A 00 00    	ld	hl,(_curr_time)
4986  1972  22 00 00    	ld	(_entry_time),hl
4987  1975  DD 7E 04    	ld	a,(ix+4)
4988  1978  07          	rlca
4989  1979  07          	rlca
4990  197A  07          	rlca
4991  197B  E6 F8       	and	a,0xf8
4992  197D  C6 08       	add	a,0x08
4993  197F  DD 77 FF    	ld	(ix-1),a
4994  1982              l_game_colour_message_00107:
4995  1982  3A 00 00    	ld	a,(_tmp)
4996  1985  B7          	or	a, a
4997  1986  28 66       	jr	Z,l_game_colour_message_00110
4998  1988  DD 6E 07    	ld	l,(ix+7)
4999  198B  DD 66 08    	ld	h,(ix+8)
5000  198E  E5          	push	hl
5001  198F  2A 00 00    	ld	hl,(_entry_time)
5002  1992  E5          	push	hl
5003  1993  CD F2 19    	call	_game_check_time
5004  1996  F1          	pop	af
5005  1997  F1          	pop	af
5006  1998  7D          	ld	a, l
5007  1999  B7          	or	a, a
5008  199A  20 52       	jr	NZ,l_game_colour_message_00110
5009  199C  21 05 00    	ld	hl,0x0005
5010  199F  E5          	push	hl
5011  19A0  2A 00 00    	ld	hl,(_frame_time)
5012  19A3  E5          	push	hl
5013  19A4  CD F2 19    	call	_game_check_time
5014  19A7  F1          	pop	af
5015  19A8  F1          	pop	af
5016  19A9  7D          	ld	a, l
5017  19AA  B7          	or	a, a
5018  19AB  28 1A       	jr	Z,l_game_colour_message_00103
5019  19AD  2A 00 00    	ld	hl,(_curr_time)
5020  19B0  22 00 00    	ld	(_frame_time),hl
5021  19B3  DD 66 FF    	ld	h,(ix-1)
5022  19B6  DD 6E 06    	ld	l,(ix+6)
5023  19B9  E5          	push	hl
5024  19BA  DD 7E 05    	ld	a,(ix+5)
5025  19BD  F5          	push	af
5026  19BE  33          	inc	sp
5027  19BF  CD 3C 0D    	call	_game_paint_attrib_lin_h
5028  19C2  F1          	pop	af
5029  19C3  33          	inc	sp
5030  19C4  CD 44 19    	call	_game_rotate_attrib
5031  19C7              l_game_colour_message_00103:
5032  19C7  21 00 00    	ld	hl,_k1
5033  19CA  E5          	push	hl
5034  19CB  2A 00 00    	ld	hl,(_joyfunc1)
5035  19CE  CD 00 00    	call	___sdcc_call_hl
5036  19D1  E3          	ex	(sp),hl
5037  19D2  21 00 00    	ld	hl,_k2
5038  19D5  E5          	push	hl
5039  19D6  2A 00 00    	ld	hl,(_joyfunc2)
5040  19D9  CD 00 00    	call	___sdcc_call_hl
5041  19DC  F1          	pop	af
5042  19DD  EB          	ex	de,hl
5043  19DE  C1          	pop	bc
5044  19DF  79          	ld	a, c
5045  19E0  B3          	or	a, e
5046  19E1  4F          	ld	c, a
5047  19E2  78          	ld	a, b
5048  19E3  B2          	or	a, d
5049  19E4  B1          	or	a,c
5050  19E5  28 9B       	jr	Z,l_game_colour_message_00107
5051  19E7  21 00 00    	ld	hl,_tmp
5052  19EA  36 00       	ld	(hl),0x00
5053  19EC  18 D9       	jr	l_game_colour_message_00103
5054  19EE              l_game_colour_message_00110:
5055  19EE  33          	inc	sp
5056  19EF  DD E1       	pop	ix
5057  19F1  C9          	ret
5058  19F2              	SECTION code_compiler
5059  19F2              ;	---------------------------------
5060  19F2              ; Function game_check_time
5061  19F2              ; ---------------------------------
5062  19F2              _game_check_time:
5063  19F2  CD 00 00    	call	___sdcc_enter_ix
5064  19F5  2A 00 00    	ld	hl,(_curr_time)
5065  19F8  7D          	ld	a,l
5066  19F9  DD 96 04    	sub	a,(ix+4)
5067  19FC  4F          	ld	c,a
5068  19FD  7C          	ld	a,h
5069  19FE  DD 9E 05    	sbc	a,(ix+5)
5070  1A01  47          	ld	b, a
5071  1A02  DD 7E 06    	ld	a,(ix+6)
5072  1A05  91          	sub	a, c
5073  1A06  DD 7E 07    	ld	a,(ix+7)
5074  1A09  98          	sbc	a, b
5075  1A0A  30 04       	jr	NC,l_game_check_time_00102
5076  1A0C  2E 01       	ld	l,0x01
5077  1A0E  18 02       	jr	l_game_check_time_00104
5078  1A10              l_game_check_time_00102:
5079  1A10  2E 00       	ld	l,0x00
5080  1A12              l_game_check_time_00104:
5081  1A12  DD E1       	pop	ix
5082  1A14  C9          	ret
5083  1A15              	SECTION IGNORE
5084  0000              
