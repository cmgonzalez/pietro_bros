1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_print_phase
184   0000              	GLOBAL _game_calc_index
185   0000              	GLOBAL _game_print_footer
186   0000              	GLOBAL _game_phase_print_score_back
187   0000              	GLOBAL _game_print_lives
188   0000              	GLOBAL _game_tick
189   0000              	GLOBAL _game_start_timer
190   0000              	GLOBAL _game_phase_calc
191   0000              	GLOBAL _game_phase_init
192   0000              	GLOBAL _game_print_header
193   0000              	GLOBAL _game_phase_print
194   0000              	GLOBAL _game_loop
195   0000              	GLOBAL _game_score_osd
196   0000              	GLOBAL _game_bonus_clock
197   0000              	GLOBAL _game_bonus_summary
198   0000              	GLOBAL _game_bonus_summary_player
199   0000              	GLOBAL _game_kill_all_sprites
200   0000              	GLOBAL _game_check_maze
201   0000              	GLOBAL _game_enemy_add
202   0000              	GLOBAL _game_enemy_quota
203   0000              	GLOBAL _game_enemy_rnd
204   0000              	GLOBAL _game_enemy_add1
205   0000              	GLOBAL _game_enemy_add_get_index
206   0000              	GLOBAL _game_freeze
207   0000              	GLOBAL _game_unfreeze_all
208   0000              	GLOBAL _game_freeze_all
209   0000              	GLOBAL _game_print_score
210   0000              	GLOBAL _game_paint_attrib
211   0000              	GLOBAL _game_paint_attrib_lin
212   0000              	GLOBAL _game_paint_attrib_lin_h
213   0000              	GLOBAL _game_menu_config
214   0000              	GLOBAL _game_joystick_change
215   0000              	GLOBAL _game_joystick_set_menu
216   0000              	GLOBAL _game_joystick_set
217   0000              	GLOBAL _game_menu
218   0000              	GLOBAL _game_menu_top_paint
219   0000              	GLOBAL _game_menu_paint
220   0000              	GLOBAL _game_menu_e
221   0000              	GLOBAL _game_menu_handle
222   0000              	GLOBAL _game_end
223   0000              	GLOBAL _game_hall_check
224   0000              	GLOBAL _game_hall_enter
225   0000              	GLOBAL _game_menu_back
226   0000              	GLOBAL _game_hall_enter_phs
227   0000              	GLOBAL _game_hall_print_p
228   0000              	GLOBAL _game_hall_edit_p
229   0000              	GLOBAL _game_hall_of_fame
230   0000              	GLOBAL _game_rotate_attrib
231   0000              	GLOBAL _game_colour_message
232   0000              	GLOBAL _game_check_time
233   0000              ;--------------------------------------------------------
234   0000              ; Externals used
235   0000              ;--------------------------------------------------------
236   0000              	GLOBAL _debug3
237   0000              	GLOBAL _debug2
238   0000              	GLOBAL _debug
239   0000              	GLOBAL _zx_print_str
240   0000              	GLOBAL _zx_print_int
241   0000              	GLOBAL _zx_print_chr
242   0000              	GLOBAL _zx_print_bonus_time
243   0000              	GLOBAL _zx_isr
244   0000              	GLOBAL _spr_draw_row
245   0000              	GLOBAL _spr_draw_index
246   0000              	GLOBAL _spr_draw_clear
247   0000              	GLOBAL _spr_water_splash_draw
248   0000              	GLOBAL _spr_water_splash_clear
249   0000              	GLOBAL _spr_draw_back
250   0000              	GLOBAL _spr_cortina_brick
251   0000              	GLOBAL _spr_brick_anim
252   0000              	GLOBAL _spr_back_fix
253   0000              	GLOBAL _spr_back_paint
254   0000              	GLOBAL _spr_back_clr
255   0000              	GLOBAL _spr_draw_pow
256   0000              	GLOBAL _spr_tile
257   0000              	GLOBAL _spr_set_fall
258   0000              	GLOBAL _spr_destroy
259   0000              	GLOBAL _spr_check_over
260   0000              	GLOBAL _spr_tile_dir
261   0000              	GLOBAL _spr_anim_kill
262   0000              	GLOBAL _spr_anim_fall
263   0000              	GLOBAL _spr_killed
264   0000              	GLOBAL _spr_redraw
265   0000              	GLOBAL _spr_move_left
266   0000              	GLOBAL _spr_move_right
267   0000              	GLOBAL _spr_move_horizontal
268   0000              	GLOBAL _spr_move_down
269   0000              	GLOBAL _spr_move_up
270   0000              	GLOBAL _spr_chktime
271   0000              	GLOBAL _sound_hit_pow
272   0000              	GLOBAL _sound_hit_brick
273   0000              	GLOBAL _sound_hit_enemy
274   0000              	GLOBAL _sound_kill
275   0000              	GLOBAL _sound_enter_enemy
276   0000              	GLOBAL _sound_coin
277   0000              	GLOBAL _sound_jump
278   0000              	GLOBAL _sound_slide
279   0000              	GLOBAL _player_move_horizontal
280   0000              	GLOBAL _player_push_check
281   0000              	GLOBAL _player_push
282   0000              	GLOBAL _player_hit_brick_clear
283   0000              	GLOBAL _player_lost_life
284   0000              	GLOBAL _player_score_add
285   0000              	GLOBAL _player_coin
286   0000              	GLOBAL _player_hit_pow
287   0000              	GLOBAL _player_hit_brick
288   0000              	GLOBAL _player_move_input
289   0000              	GLOBAL _player_turn
290   0000              	GLOBAL _player_move
291   0000              	GLOBAL _player_restart
292   0000              	GLOBAL _player_kill
293   0000              	GLOBAL _player_check_input
294   0000              	GLOBAL _player_collision_check
295   0000              	GLOBAL _player_collision
296   0000              	GLOBAL _player_calc_slide
297   0000              	GLOBAL _player_init
298   0000              	GLOBAL _player_set2
299   0000              	GLOBAL _player_set1
300   0000              	GLOBAL _game_fill_row
301   0000              	GLOBAL _enemy_ugly_fix
302   0000              	GLOBAL _enemy_kill
303   0000              	GLOBAL _enemy_init
304   0000              	GLOBAL _enemy_walk
305   0000              	GLOBAL _enemy_upgrade
306   0000              	GLOBAL _enemy_evolve
307   0000              	GLOBAL _enemy_standard_hit
308   0000              	GLOBAL _enemy_trip
309   0000              	GLOBAL _enemy_fighterfly
310   0000              	GLOBAL _enemy_fireball_green
311   0000              	GLOBAL _enemy_fireball_red
312   0000              	GLOBAL _enemy_slipice
313   0000              	GLOBAL _enemy_standard
314   0000              	GLOBAL _enemy_turn
315   0000              	GLOBAL _enemy_flip_sidestepper
316   0000              	GLOBAL _enemy_flip
317   0000              	GLOBAL _enemy_flip_change_dir
318   0000              	GLOBAL _enemy_hit
319   0000              	GLOBAL _enemy_collision_check
320   0000              	GLOBAL _enemy_collision
321   0000              	GLOBAL _enemy_coin1
322   0000              	GLOBAL _ay_fx_play
323   0000              	GLOBAL _ay_midi_play
324   0000              	GLOBAL _ay_is_playing
325   0000              	GLOBAL _ay_reset
326   0000              	GLOBAL _debug_func
327   0000              	GLOBAL _test_func
328   0000              	GLOBAL _in_mouse_kempston_wheel_delta
329   0000              	GLOBAL _in_mouse_kempston_wheel
330   0000              	GLOBAL _in_mouse_kempston_callee
331   0000              	GLOBAL _in_mouse_kempston
332   0000              	GLOBAL _in_mouse_kempston_setpos_callee
333   0000              	GLOBAL _in_mouse_kempston_setpos
334   0000              	GLOBAL _in_mouse_kempston_reset
335   0000              	GLOBAL _in_mouse_kempston_init
336   0000              	GLOBAL _in_mouse_amx_wheel_delta
337   0000              	GLOBAL _in_mouse_amx_wheel
338   0000              	GLOBAL _in_mouse_amx_callee
339   0000              	GLOBAL _in_mouse_amx
340   0000              	GLOBAL _in_mouse_amx_setpos_callee
341   0000              	GLOBAL _in_mouse_amx_setpos
342   0000              	GLOBAL _in_mouse_amx_reset
343   0000              	GLOBAL _in_mouse_amx_init_callee
344   0000              	GLOBAL _in_mouse_amx_init
345   0000              	GLOBAL _in_stick_sinclair2
346   0000              	GLOBAL _in_stick_sinclair1
347   0000              	GLOBAL _in_stick_kempston
348   0000              	GLOBAL _in_stick_fuller
349   0000              	GLOBAL _in_stick_cursor
350   0000              	GLOBAL _in_stick_keyboard_fastcall
351   0000              	GLOBAL _in_stick_keyboard
352   0000              	GLOBAL _in_wait_nokey
353   0000              	GLOBAL _in_wait_key
354   0000              	GLOBAL _in_test_key
355   0000              	GLOBAL _in_pause_fastcall
356   0000              	GLOBAL _in_pause
357   0000              	GLOBAL _in_key_scancode_fastcall
358   0000              	GLOBAL _in_key_scancode
359   0000              	GLOBAL _in_key_pressed_fastcall
360   0000              	GLOBAL _in_key_pressed
361   0000              	GLOBAL _in_inkey
362   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawTW_raw
364   0000              	GLOBAL _NIRVANAP_drawTW_callee
365   0000              	GLOBAL _NIRVANAP_drawTW
366   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
367   0000              	GLOBAL _NIRVANAP_drawW_raw
368   0000              	GLOBAL _NIRVANAP_drawW_callee
369   0000              	GLOBAL _NIRVANAP_drawW
370   0000              	GLOBAL _NIRVANAP_spriteT_callee
371   0000              	GLOBAL _NIRVANAP_spriteT
372   0000              	GLOBAL _NIRVANAP_fillC_callee
373   0000              	GLOBAL _NIRVANAP_fillC
374   0000              	GLOBAL _NIRVANAP_readC_callee
375   0000              	GLOBAL _NIRVANAP_readC
376   0000              	GLOBAL _NIRVANAP_paintC_callee
377   0000              	GLOBAL _NIRVANAP_paintC
378   0000              	GLOBAL _NIRVANAP_printC_callee
379   0000              	GLOBAL _NIRVANAP_printC
380   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
381   0000              	GLOBAL _NIRVANAP_fillT_raw
382   0000              	GLOBAL _NIRVANAP_fillT_callee
383   0000              	GLOBAL _NIRVANAP_fillT
384   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
385   0000              	GLOBAL _NIRVANAP_drawT_raw
386   0000              	GLOBAL _NIRVANAP_drawT_callee
387   0000              	GLOBAL _NIRVANAP_drawT
388   0000              	GLOBAL _NIRVANAP_stop
389   0000              	GLOBAL _NIRVANAP_start
390   0000              	GLOBAL _z80_otdr_callee
391   0000              	GLOBAL _z80_otdr
392   0000              	GLOBAL _z80_otir_callee
393   0000              	GLOBAL _z80_otir
394   0000              	GLOBAL _z80_outp_callee
395   0000              	GLOBAL _z80_outp
396   0000              	GLOBAL _z80_indr_callee
397   0000              	GLOBAL _z80_indr
398   0000              	GLOBAL _z80_inir_callee
399   0000              	GLOBAL _z80_inir
400   0000              	GLOBAL _z80_inp_fastcall
401   0000              	GLOBAL _z80_inp
402   0000              	GLOBAL _z80_set_int_state_fastcall
403   0000              	GLOBAL _z80_set_int_state
404   0000              	GLOBAL _z80_get_int_state
405   0000              	GLOBAL _z80_delay_tstate_fastcall
406   0000              	GLOBAL _z80_delay_tstate
407   0000              	GLOBAL _z80_delay_ms_fastcall
408   0000              	GLOBAL _z80_delay_ms
409   0000              	GLOBAL _im2_remove_generic_callback_callee
410   0000              	GLOBAL _im2_remove_generic_callback
411   0000              	GLOBAL _im2_prepend_generic_callback_callee
412   0000              	GLOBAL _im2_prepend_generic_callback
413   0000              	GLOBAL _im2_append_generic_callback_callee
414   0000              	GLOBAL _im2_append_generic_callback
415   0000              	GLOBAL _im2_create_generic_isr_8080_callee
416   0000              	GLOBAL _im2_create_generic_isr_8080
417   0000              	GLOBAL _im2_create_generic_isr_callee
418   0000              	GLOBAL _im2_create_generic_isr
419   0000              	GLOBAL _im2_install_isr_callee
420   0000              	GLOBAL _im2_install_isr
421   0000              	GLOBAL _im2_init_fastcall
422   0000              	GLOBAL _im2_init
423   0000              	GLOBAL _ffsll_callee
424   0000              	GLOBAL _ffsll
425   0000              	GLOBAL _strxfrm_callee
426   0000              	GLOBAL _strxfrm
427   0000              	GLOBAL _strupr_fastcall
428   0000              	GLOBAL _strupr
429   0000              	GLOBAL _strtok_r_callee
430   0000              	GLOBAL _strtok_r
431   0000              	GLOBAL _strtok_callee
432   0000              	GLOBAL _strtok
433   0000              	GLOBAL _strstrip_fastcall
434   0000              	GLOBAL _strstrip
435   0000              	GLOBAL _strstr_callee
436   0000              	GLOBAL _strstr
437   0000              	GLOBAL _strspn_callee
438   0000              	GLOBAL _strspn
439   0000              	GLOBAL _strsep_callee
440   0000              	GLOBAL _strsep
441   0000              	GLOBAL _strrstrip_fastcall
442   0000              	GLOBAL _strrstrip
443   0000              	GLOBAL _strrspn_callee
444   0000              	GLOBAL _strrspn
445   0000              	GLOBAL _strrev_fastcall
446   0000              	GLOBAL _strrev
447   0000              	GLOBAL _strrcspn_callee
448   0000              	GLOBAL _strrcspn
449   0000              	GLOBAL _strrchr_callee
450   0000              	GLOBAL _strrchr
451   0000              	GLOBAL _strpbrk_callee
452   0000              	GLOBAL _strpbrk
453   0000              	GLOBAL _strnlen_callee
454   0000              	GLOBAL _strnlen
455   0000              	GLOBAL _strnicmp_callee
456   0000              	GLOBAL _strnicmp
457   0000              	GLOBAL _strndup_callee
458   0000              	GLOBAL _strndup
459   0000              	GLOBAL _strncpy_callee
460   0000              	GLOBAL _strncpy
461   0000              	GLOBAL _strncmp_callee
462   0000              	GLOBAL _strncmp
463   0000              	GLOBAL _strnchr_callee
464   0000              	GLOBAL _strnchr
465   0000              	GLOBAL _strncat_callee
466   0000              	GLOBAL _strncat
467   0000              	GLOBAL _strncasecmp_callee
468   0000              	GLOBAL _strncasecmp
469   0000              	GLOBAL _strlwr_fastcall
470   0000              	GLOBAL _strlwr
471   0000              	GLOBAL _strlen_fastcall
472   0000              	GLOBAL _strlen
473   0000              	GLOBAL _strlcpy_callee
474   0000              	GLOBAL _strlcpy
475   0000              	GLOBAL _strlcat_callee
476   0000              	GLOBAL _strlcat
477   0000              	GLOBAL _stricmp_callee
478   0000              	GLOBAL _stricmp
479   0000              	GLOBAL _strerror_fastcall
480   0000              	GLOBAL _strerror
481   0000              	GLOBAL _strdup_fastcall
482   0000              	GLOBAL _strdup
483   0000              	GLOBAL _strcspn_callee
484   0000              	GLOBAL _strcspn
485   0000              	GLOBAL _strcpy_callee
486   0000              	GLOBAL _strcpy
487   0000              	GLOBAL _strcoll_callee
488   0000              	GLOBAL _strcoll
489   0000              	GLOBAL _strcmp_callee
490   0000              	GLOBAL _strcmp
491   0000              	GLOBAL _strchrnul_callee
492   0000              	GLOBAL _strchrnul
493   0000              	GLOBAL _strchr_callee
494   0000              	GLOBAL _strchr
495   0000              	GLOBAL _strcat_callee
496   0000              	GLOBAL _strcat
497   0000              	GLOBAL _strcasecmp_callee
498   0000              	GLOBAL _strcasecmp
499   0000              	GLOBAL _stpncpy_callee
500   0000              	GLOBAL _stpncpy
501   0000              	GLOBAL _stpcpy_callee
502   0000              	GLOBAL _stpcpy
503   0000              	GLOBAL _memswap_callee
504   0000              	GLOBAL _memswap
505   0000              	GLOBAL _memset_callee
506   0000              	GLOBAL _memset
507   0000              	GLOBAL _memrchr_callee
508   0000              	GLOBAL _memrchr
509   0000              	GLOBAL _memmove_callee
510   0000              	GLOBAL _memmove
511   0000              	GLOBAL _memmem_callee
512   0000              	GLOBAL _memmem
513   0000              	GLOBAL _memcpy_callee
514   0000              	GLOBAL _memcpy
515   0000              	GLOBAL _memcmp_callee
516   0000              	GLOBAL _memcmp
517   0000              	GLOBAL _memchr_callee
518   0000              	GLOBAL _memchr
519   0000              	GLOBAL _memccpy_callee
520   0000              	GLOBAL _memccpy
521   0000              	GLOBAL _ffsl_fastcall
522   0000              	GLOBAL _ffsl
523   0000              	GLOBAL _ffs_fastcall
524   0000              	GLOBAL _ffs
525   0000              	GLOBAL __strrstrip__fastcall
526   0000              	GLOBAL __strrstrip_
527   0000              	GLOBAL __memupr__callee
528   0000              	GLOBAL __memupr_
529   0000              	GLOBAL __memstrcpy__callee
530   0000              	GLOBAL __memstrcpy_
531   0000              	GLOBAL __memlwr__callee
532   0000              	GLOBAL __memlwr_
533   0000              	GLOBAL _rawmemchr_callee
534   0000              	GLOBAL _rawmemchr
535   0000              	GLOBAL _strnset_callee
536   0000              	GLOBAL _strnset
537   0000              	GLOBAL _strset_callee
538   0000              	GLOBAL _strset
539   0000              	GLOBAL _rindex_callee
540   0000              	GLOBAL _rindex
541   0000              	GLOBAL _index_callee
542   0000              	GLOBAL _index
543   0000              	GLOBAL _bzero_callee
544   0000              	GLOBAL _bzero
545   0000              	GLOBAL _bcopy_callee
546   0000              	GLOBAL _bcopy
547   0000              	GLOBAL _bcmp_callee
548   0000              	GLOBAL _bcmp
549   0000              	GLOBAL _ulltoa_callee
550   0000              	GLOBAL _ulltoa
551   0000              	GLOBAL _strtoull_callee
552   0000              	GLOBAL _strtoull
553   0000              	GLOBAL _strtoll_callee
554   0000              	GLOBAL _strtoll
555   0000              	GLOBAL _lltoa_callee
556   0000              	GLOBAL _lltoa
557   0000              	GLOBAL _llabs_callee
558   0000              	GLOBAL _llabs
559   0000              	GLOBAL __lldivu__callee
560   0000              	GLOBAL __lldivu_
561   0000              	GLOBAL __lldiv__callee
562   0000              	GLOBAL __lldiv_
563   0000              	GLOBAL _atoll_callee
564   0000              	GLOBAL _atoll
565   0000              	GLOBAL _realloc_unlocked_callee
566   0000              	GLOBAL _realloc_unlocked
567   0000              	GLOBAL _malloc_unlocked_fastcall
568   0000              	GLOBAL _malloc_unlocked
569   0000              	GLOBAL _free_unlocked_fastcall
570   0000              	GLOBAL _free_unlocked
571   0000              	GLOBAL _calloc_unlocked_callee
572   0000              	GLOBAL _calloc_unlocked
573   0000              	GLOBAL _aligned_alloc_unlocked_callee
574   0000              	GLOBAL _aligned_alloc_unlocked
575   0000              	GLOBAL _realloc_callee
576   0000              	GLOBAL _realloc
577   0000              	GLOBAL _malloc_fastcall
578   0000              	GLOBAL _malloc
579   0000              	GLOBAL _free_fastcall
580   0000              	GLOBAL _free
581   0000              	GLOBAL _calloc_callee
582   0000              	GLOBAL _calloc
583   0000              	GLOBAL _aligned_alloc_callee
584   0000              	GLOBAL _aligned_alloc
585   0000              	GLOBAL _utoa_callee
586   0000              	GLOBAL _utoa
587   0000              	GLOBAL _ultoa_callee
588   0000              	GLOBAL _ultoa
589   0000              	GLOBAL _system_fastcall
590   0000              	GLOBAL _system
591   0000              	GLOBAL _strtoul_callee
592   0000              	GLOBAL _strtoul
593   0000              	GLOBAL _strtol_callee
594   0000              	GLOBAL _strtol
595   0000              	GLOBAL _strtof_callee
596   0000              	GLOBAL _strtof
597   0000              	GLOBAL _strtod_callee
598   0000              	GLOBAL _strtod
599   0000              	GLOBAL _srand_fastcall
600   0000              	GLOBAL _srand
601   0000              	GLOBAL _rand
602   0000              	GLOBAL _quick_exit_fastcall
603   0000              	GLOBAL _quick_exit
604   0000              	GLOBAL _qsort_callee
605   0000              	GLOBAL _qsort
606   0000              	GLOBAL _ltoa_callee
607   0000              	GLOBAL _ltoa
608   0000              	GLOBAL _labs_fastcall
609   0000              	GLOBAL _labs
610   0000              	GLOBAL _itoa_callee
611   0000              	GLOBAL _itoa
612   0000              	GLOBAL _ftoh_callee
613   0000              	GLOBAL _ftoh
614   0000              	GLOBAL _ftog_callee
615   0000              	GLOBAL _ftog
616   0000              	GLOBAL _ftoe_callee
617   0000              	GLOBAL _ftoe
618   0000              	GLOBAL _ftoa_callee
619   0000              	GLOBAL _ftoa
620   0000              	GLOBAL _exit_fastcall
621   0000              	GLOBAL _exit
622   0000              	GLOBAL _dtoh_callee
623   0000              	GLOBAL _dtoh
624   0000              	GLOBAL _dtog_callee
625   0000              	GLOBAL _dtog
626   0000              	GLOBAL _dtoe_callee
627   0000              	GLOBAL _dtoe
628   0000              	GLOBAL _dtoa_callee
629   0000              	GLOBAL _dtoa
630   0000              	GLOBAL _bsearch_callee
631   0000              	GLOBAL _bsearch
632   0000              	GLOBAL _atol_fastcall
633   0000              	GLOBAL _atol
634   0000              	GLOBAL _atoi_fastcall
635   0000              	GLOBAL _atoi
636   0000              	GLOBAL _atof_fastcall
637   0000              	GLOBAL _atof
638   0000              	GLOBAL _atexit_fastcall
639   0000              	GLOBAL _atexit
640   0000              	GLOBAL _at_quick_exit_fastcall
641   0000              	GLOBAL _at_quick_exit
642   0000              	GLOBAL _abs_fastcall
643   0000              	GLOBAL _abs
644   0000              	GLOBAL _abort
645   0000              	GLOBAL __strtou__callee
646   0000              	GLOBAL __strtou_
647   0000              	GLOBAL __strtoi__callee
648   0000              	GLOBAL __strtoi_
649   0000              	GLOBAL __random_uniform_xor_8__fastcall
650   0000              	GLOBAL __random_uniform_xor_8_
651   0000              	GLOBAL __random_uniform_xor_32__fastcall
652   0000              	GLOBAL __random_uniform_xor_32_
653   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
654   0000              	GLOBAL __random_uniform_cmwc_8_
655   0000              	GLOBAL __shellsort__callee
656   0000              	GLOBAL __shellsort_
657   0000              	GLOBAL __quicksort__callee
658   0000              	GLOBAL __quicksort_
659   0000              	GLOBAL __insertion_sort__callee
660   0000              	GLOBAL __insertion_sort_
661   0000              	GLOBAL __ldivu__callee
662   0000              	GLOBAL __ldivu_
663   0000              	GLOBAL __ldiv__callee
664   0000              	GLOBAL __ldiv_
665   0000              	GLOBAL __divu__callee
666   0000              	GLOBAL __divu_
667   0000              	GLOBAL __div__callee
668   0000              	GLOBAL __div_
669   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
670   0000              	GLOBAL _intrinsic_swap_word_32
671   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
672   0000              	GLOBAL _intrinsic_swap_endian_32
673   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
674   0000              	GLOBAL _intrinsic_swap_endian_16
675   0000              	GLOBAL _intrinsic_return_de
676   0000              	GLOBAL _intrinsic_return_bc
677   0000              	GLOBAL _intrinsic_exx
678   0000              	GLOBAL _intrinsic_ex_de_hl
679   0000              	GLOBAL _intrinsic_pop_iy
680   0000              	GLOBAL _intrinsic_pop_ix
681   0000              	GLOBAL _intrinsic_pop_hl
682   0000              	GLOBAL _intrinsic_pop_de
683   0000              	GLOBAL _intrinsic_pop_bc
684   0000              	GLOBAL _intrinsic_pop_af
685   0000              	GLOBAL _intrinsic_push_iy
686   0000              	GLOBAL _intrinsic_push_ix
687   0000              	GLOBAL _intrinsic_push_hl
688   0000              	GLOBAL _intrinsic_push_de
689   0000              	GLOBAL _intrinsic_push_bc
690   0000              	GLOBAL _intrinsic_push_af
691   0000              	GLOBAL _intrinsic_nop
692   0000              	GLOBAL _intrinsic_im_2
693   0000              	GLOBAL _intrinsic_im_1
694   0000              	GLOBAL _intrinsic_im_0
695   0000              	GLOBAL _intrinsic_retn
696   0000              	GLOBAL _intrinsic_reti
697   0000              	GLOBAL _intrinsic_halt
698   0000              	GLOBAL _intrinsic_ei
699   0000              	GLOBAL _intrinsic_di
700   0000              	GLOBAL _intrinsic_stub
701   0000              	GLOBAL _zx_pattern_fill_callee
702   0000              	GLOBAL _zx_pattern_fill
703   0000              	GLOBAL _zx_saddrpup_fastcall
704   0000              	GLOBAL _zx_saddrpup
705   0000              	GLOBAL _zx_saddrpright_callee
706   0000              	GLOBAL _zx_saddrpright
707   0000              	GLOBAL _zx_saddrpleft_callee
708   0000              	GLOBAL _zx_saddrpleft
709   0000              	GLOBAL _zx_saddrpdown_fastcall
710   0000              	GLOBAL _zx_saddrpdown
711   0000              	GLOBAL _zx_saddrcup_fastcall
712   0000              	GLOBAL _zx_saddrcup
713   0000              	GLOBAL _zx_saddrcright_fastcall
714   0000              	GLOBAL _zx_saddrcright
715   0000              	GLOBAL _zx_saddrcleft_fastcall
716   0000              	GLOBAL _zx_saddrcleft
717   0000              	GLOBAL _zx_saddrcdown_fastcall
718   0000              	GLOBAL _zx_saddrcdown
719   0000              	GLOBAL _zx_saddr2py_fastcall
720   0000              	GLOBAL _zx_saddr2py
721   0000              	GLOBAL _zx_saddr2px_fastcall
722   0000              	GLOBAL _zx_saddr2px
723   0000              	GLOBAL _zx_saddr2cy_fastcall
724   0000              	GLOBAL _zx_saddr2cy
725   0000              	GLOBAL _zx_saddr2cx_fastcall
726   0000              	GLOBAL _zx_saddr2cx
727   0000              	GLOBAL _zx_saddr2aaddr_fastcall
728   0000              	GLOBAL _zx_saddr2aaddr
729   0000              	GLOBAL _zx_py2saddr_fastcall
730   0000              	GLOBAL _zx_py2saddr
731   0000              	GLOBAL _zx_py2aaddr_fastcall
732   0000              	GLOBAL _zx_py2aaddr
733   0000              	GLOBAL _zx_pxy2saddr_callee
734   0000              	GLOBAL _zx_pxy2saddr
735   0000              	GLOBAL _zx_pxy2aaddr_callee
736   0000              	GLOBAL _zx_pxy2aaddr
737   0000              	GLOBAL _zx_px2bitmask_fastcall
738   0000              	GLOBAL _zx_px2bitmask
739   0000              	GLOBAL _zx_cyx2saddr_callee
740   0000              	GLOBAL _zx_cyx2saddr
741   0000              	GLOBAL _zx_cyx2aaddr_callee
742   0000              	GLOBAL _zx_cyx2aaddr
743   0000              	GLOBAL _zx_cy2saddr_fastcall
744   0000              	GLOBAL _zx_cy2saddr
745   0000              	GLOBAL _zx_cy2aaddr_fastcall
746   0000              	GLOBAL _zx_cy2aaddr
747   0000              	GLOBAL _zx_bitmask2px_fastcall
748   0000              	GLOBAL _zx_bitmask2px
749   0000              	GLOBAL _zx_aaddrcup_fastcall
750   0000              	GLOBAL _zx_aaddrcup
751   0000              	GLOBAL _zx_aaddrcright_fastcall
752   0000              	GLOBAL _zx_aaddrcright
753   0000              	GLOBAL _zx_aaddrcleft_fastcall
754   0000              	GLOBAL _zx_aaddrcleft
755   0000              	GLOBAL _zx_aaddrcdown_fastcall
756   0000              	GLOBAL _zx_aaddrcdown
757   0000              	GLOBAL _zx_aaddr2saddr_fastcall
758   0000              	GLOBAL _zx_aaddr2saddr
759   0000              	GLOBAL _zx_aaddr2py_fastcall
760   0000              	GLOBAL _zx_aaddr2py
761   0000              	GLOBAL _zx_aaddr2px_fastcall
762   0000              	GLOBAL _zx_aaddr2px
763   0000              	GLOBAL _zx_aaddr2cy_fastcall
764   0000              	GLOBAL _zx_aaddr2cy
765   0000              	GLOBAL _zx_aaddr2cx_fastcall
766   0000              	GLOBAL _zx_aaddr2cx
767   0000              	GLOBAL _zx_scroll_wc_up_callee
768   0000              	GLOBAL _zx_scroll_wc_up
769   0000              	GLOBAL _zx_scroll_up_callee
770   0000              	GLOBAL _zx_scroll_up
771   0000              	GLOBAL _zx_cls_wc_callee
772   0000              	GLOBAL _zx_cls_wc
773   0000              	GLOBAL _zx_cls_fastcall
774   0000              	GLOBAL _zx_cls
775   0000              	GLOBAL _zx_border_fastcall
776   0000              	GLOBAL _zx_border
777   0000              	GLOBAL _ay_effect_20
778   0000              	GLOBAL _ay_effect_19
779   0000              	GLOBAL _ay_effect_18
780   0000              	GLOBAL _ay_effect_17
781   0000              	GLOBAL _ay_effect_16
782   0000              	GLOBAL _ay_effect_15
783   0000              	GLOBAL _ay_effect_14
784   0000              	GLOBAL _ay_effect_13
785   0000              	GLOBAL _ay_effect_12
786   0000              	GLOBAL _ay_effect_11
787   0000              	GLOBAL _ay_effect_10
788   0000              	GLOBAL _ay_effect_09
789   0000              	GLOBAL _ay_effect_08
790   0000              	GLOBAL _ay_effect_07
791   0000              	GLOBAL _ay_effect_06
792   0000              	GLOBAL _ay_effect_05
793   0000              	GLOBAL _ay_effect_04
794   0000              	GLOBAL _ay_effect_03
795   0000              	GLOBAL _ay_effect_02
796   0000              	GLOBAL _ay_effect_01
797   0000              	GLOBAL _pb_midi_phase_1
798   0000              	GLOBAL _pb_midi_title
799   0000              	GLOBAL _joynames
800   0000              	GLOBAL _initials
801   0000              	GLOBAL _hof
802   0000              	GLOBAL _score_osd_tile
803   0000              	GLOBAL _score_osd_time
804   0000              	GLOBAL _score_osd_col
805   0000              	GLOBAL _score_osd_lin
806   0000              	GLOBAL _phase_bonus_total
807   0000              	GLOBAL _phase_angry
808   0000              	GLOBAL _phase_curr
809   0000              	GLOBAL _phase_end
810   0000              	GLOBAL _phase_coins
811   0000              	GLOBAL _phase_pop
812   0000              	GLOBAL _phase_tot
813   0000              	GLOBAL _phase_left
814   0000              	GLOBAL _phase_quota
815   0000              	GLOBAL _phases
816   0000              	GLOBAL _spr_idx
817   0000              	GLOBAL _lvl_1
818   0000              	GLOBAL _sprite_speed_alt
819   0000              	GLOBAL _sprite_speed
820   0000              	GLOBAL _screen_ink
821   0000              	GLOBAL _screen_paper
822   0000              	GLOBAL _game_menu_sel
823   0000              	GLOBAL _game_type
824   0000              	GLOBAL _game_osd
825   0000              	GLOBAL _game_bonus
826   0000              	GLOBAL _spr_water_time
827   0000              	GLOBAL _spr_water_clear
828   0000              	GLOBAL _game_time_fireball_start
829   0000              	GLOBAL _game_time_flipped
830   0000              	GLOBAL _game_score_top
831   0000              	GLOBAL _game_lives
832   0000              	GLOBAL _game_over
833   0000              	GLOBAL _game_sound
834   0000              	GLOBAL _game_inmune
835   0000              	GLOBAL _game_god_mode
836   0000              	GLOBAL _game_start_phase
837   0000              	GLOBAL _game_two_player
838   0000              	GLOBAL _game_brick_tile
839   0000              	GLOBAL _game_pow
840   0000              	GLOBAL _spr_count
841   0000              	GLOBAL _osd_time
842   0000              	GLOBAL _frame_time
843   0000              	GLOBAL _entry_time
844   0000              	GLOBAL _curr_time
845   0000              	GLOBAL _s_state
846   0000              	GLOBAL _attrib_hl
847   0000              	GLOBAL _attrib
848   0000              	GLOBAL _zx_val_asm
849   0000              	GLOBAL _enemies
850   0000              	GLOBAL _tmp_ui
851   0000              	GLOBAL _tmp_sc
852   0000              	GLOBAL _tmp_uc
853   0000              	GLOBAL _tmp1
854   0000              	GLOBAL _tmp0
855   0000              	GLOBAL _tmp
856   0000              	GLOBAL _index_d
857   0000              	GLOBAL _index3
858   0000              	GLOBAL _index2
859   0000              	GLOBAL _index1
860   0000              	GLOBAL _loop_count
861   0000              	GLOBAL _sprite_lin_inc_mul
862   0000              	GLOBAL _s_col1
863   0000              	GLOBAL _s_col0
864   0000              	GLOBAL _s_lin1
865   0000              	GLOBAL _s_lin0
866   0000              	GLOBAL _s_tile1
867   0000              	GLOBAL _s_tile0
868   0000              	GLOBAL _hit_count
869   0000              	GLOBAL _tile_offset_other_player
870   0000              	GLOBAL _tile_offset
871   0000              	GLOBAL _index_player
872   0000              	GLOBAL _sprite_other_player
873   0000              	GLOBAL _sprite
874   0000              	GLOBAL _player_joy
875   0000              	GLOBAL _player_next_extra
876   0000              	GLOBAL _player_score
877   0000              	GLOBAL _last_time
878   0000              	GLOBAL _sliding
879   0000              	GLOBAL _spr_timer_c
880   0000              	GLOBAL _spr_timer
881   0000              	GLOBAL _jump_lin
882   0000              	GLOBAL _player_jump_c
883   0000              	GLOBAL _hit_col
884   0000              	GLOBAL _hit_lin
885   0000              	GLOBAL _colint
886   0000              	GLOBAL _col
887   0000              	GLOBAL _lin
888   0000              	GLOBAL _tile
889   0000              	GLOBAL _state_a
890   0000              	GLOBAL _state
891   0000              	GLOBAL _class
892   0000              	GLOBAL _tbuffer
893   0000              	GLOBAL _dirs
894   0000              	GLOBAL _k2
895   0000              	GLOBAL _k1
896   0000              	GLOBAL _joyfunc2
897   0000              	GLOBAL _joyfunc1
898   0000              	GLOBAL _btiles
899   0000              	GLOBAL _spec128
900   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
901   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
902   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
903   0000              	GLOBAL _NIRVANAP_HOLE
904   0000              	GLOBAL _NIRVANAP_ISR_HOOK
905   0000              	GLOBAL _control_method
906   0000              	GLOBAL _hall_valids
907   0000              ;--------------------------------------------------------
908   0000              ; special function registers
909   0000              ;--------------------------------------------------------
910   0000              ;--------------------------------------------------------
911   0000              ; ram data
912   0000              ;--------------------------------------------------------
913   0000              	SECTION bss_compiler
914   0000              ;--------------------------------------------------------
915   0000              ; ram data
916   0000              ;--------------------------------------------------------
917   0000              
918   0000              IF 0
919   0000              
920   0000              ; .area _INITIALIZED removed by z88dk
921   0000              
922   0000              
923   0000              ENDIF
924   0000              
925   0000              ;--------------------------------------------------------
926   0000              ; absolute external ram data
927   0000              ;--------------------------------------------------------
928   0000              	SECTION IGNORE
929   0000              ;--------------------------------------------------------
930   0000              ; global & static initialisations
931   0000              ;--------------------------------------------------------
932   0000              	SECTION code_crt_init
933   0000              ;--------------------------------------------------------
934   0000              ; Home
935   0000              ;--------------------------------------------------------
936   0000              	SECTION IGNORE
937   0000              ;--------------------------------------------------------
938   0000              ; code
939   0000              ;--------------------------------------------------------
940   0000              	SECTION code_compiler
941   0000              ;	---------------------------------
942   0000              ; Function game_calc_index
943   0000              ; ---------------------------------
944   0000              _game_calc_index:
945   0000  CD 00 00    	call	___sdcc_enter_ix
946   0003  DD 4E 05    	ld	c,(ix+5)
947   0006  06 00       	ld	b,0x00
948   0008  DD 7E 04    	ld	a,(ix+4)
949   000B  0F          	rrca
950   000C  0F          	rrca
951   000D  0F          	rrca
952   000E  E6 1F       	and	a,0x1f
953   0010  6F          	ld	l,a
954   0011  26 00       	ld	h,0x00
955   0013  29          	add	hl, hl
956   0014  29          	add	hl, hl
957   0015  29          	add	hl, hl
958   0016  29          	add	hl, hl
959   0017  29          	add	hl, hl
960   0018  09          	add	hl,bc
961   0019  DD E1       	pop	ix
962   001B  C9          	ret
963   001C              	SECTION code_compiler
964   001C              ;	---------------------------------
965   001C              ; Function game_print_footer
966   001C              ; ---------------------------------
967   001C              _game_print_footer:
968   001C  21 00 00    	ld	hl,___str_0
969   001F  E5          	push	hl
970   0020  21 16 01    	ld	hl,0x0116
971   0023  E5          	push	hl
972   0024  CD 00 00    	call	_zx_print_str
973   0027  21 00 00    	ld	hl,___str_0
974   002A  E5          	push	hl
975   002B  21 16 1E    	ld	hl,0x1e16
976   002E  E5          	push	hl
977   002F  CD 00 00    	call	_zx_print_str
978   0032  21 02 00    	ld	hl,___str_1
979   0035  E5          	push	hl
980   0036  21 17 01    	ld	hl,0x0117
981   0039  E5          	push	hl
982   003A  CD 00 00    	call	_zx_print_str
983   003D  21 02 00    	ld	hl,___str_1
984   0040  E5          	push	hl
985   0041  21 17 1E    	ld	hl,0x1e17
986   0044  E5          	push	hl
987   0045  CD 00 00    	call	_zx_print_str
988   0048  3A 00 00    	ld	a,(_game_lives)
989   004B  B7          	or	a, a
990   004C  28 20       	jr	Z,l_game_print_footer_00102
991   004E  21 00 00    	ld	hl,_screen_ink
992   0051  36 02       	ld	(hl),0x02
993   0053  21 08 00    	ld	hl,___str_2
994   0056  E5          	push	hl
995   0057  21 16 01    	ld	hl,0x0116
996   005A  E5          	push	hl
997   005B  CD 00 00    	call	_zx_print_str
998   005E  21 00 00    	ld	hl,_screen_ink
999   0061  36 06       	ld	(hl),0x06
1000  0063  21 0A 00    	ld	hl,___str_3
1001  0066  E5          	push	hl
1002  0067  21 17 01    	ld	hl,0x0117
1003  006A  E5          	push	hl
1004  006B  CD 00 00    	call	_zx_print_str
1005  006E              l_game_print_footer_00102:
1006  006E  3A 01 00    	ld	a, (_game_lives + 1)
1007  0071  B7          	or	a, a
1008  0072  28 20       	jr	Z,l_game_print_footer_00104
1009  0074  21 00 00    	ld	hl,_screen_ink
1010  0077  36 07       	ld	(hl),0x07
1011  0079  21 0C 00    	ld	hl,___str_4
1012  007C  E5          	push	hl
1013  007D  21 16 1E    	ld	hl,0x1e16
1014  0080  E5          	push	hl
1015  0081  CD 00 00    	call	_zx_print_str
1016  0084  21 00 00    	ld	hl,_screen_ink
1017  0087  36 06       	ld	(hl),0x06
1018  0089  21 0E 00    	ld	hl,___str_5
1019  008C  E5          	push	hl
1020  008D  21 17 1E    	ld	hl,0x1e17
1021  0090  E5          	push	hl
1022  0091  CD 00 00    	call	_zx_print_str
1023  0094              l_game_print_footer_00104:
1024  0094  CD CE 00    	call	_game_print_lives
1025  0097  C9          	ret
1026  0098              	SECTION rodata_compiler
1027  0000              ___str_0:
1028  0000  20          	DEFM " "
1029  0001  00          	DEFB 0x00
1030  0002              	SECTION rodata_compiler
1031  0002              ___str_1:
1032  0002  20 20 20 20 20 
                        	DEFM "     "
1033  0007  00          	DEFB 0x00
1034  0008              	SECTION rodata_compiler
1035  0008              ___str_2:
1036  0008  3C          	DEFM "<"
1037  0009  00          	DEFB 0x00
1038  000A              	SECTION rodata_compiler
1039  000A              ___str_3:
1040  000A  5C          	DEFB 0x5c
1041  000B  00          	DEFB 0x00
1042  000C              	SECTION rodata_compiler
1043  000C              ___str_4:
1044  000C  3E          	DEFM ">"
1045  000D  00          	DEFB 0x00
1046  000E              	SECTION rodata_compiler
1047  000E              ___str_5:
1048  000E  5E          	DEFM "^"
1049  000F  00          	DEFB 0x00
1050  0010              	SECTION code_compiler
1051  0098              ;	---------------------------------
1052  0098              ; Function game_phase_print_score_back
1053  0098              ; ---------------------------------
1054  0098              _game_phase_print_score_back:
1055  0098  21 00 00    	ld	hl,_screen_ink
1056  009B  36 02       	ld	(hl),0x02
1057  009D  21 10 00    	ld	hl,___str_6
1058  00A0  E5          	push	hl
1059  00A1  21 00 0B    	ld	hl,0x0b00
1060  00A4  E5          	push	hl
1061  00A5  CD 00 00    	call	_zx_print_str
1062  00A8  21 00 00    	ld	hl,_screen_ink
1063  00AB  36 01       	ld	(hl),0x01
1064  00AD  21 14 00    	ld	hl,___str_7
1065  00B0  E5          	push	hl
1066  00B1  21 00 01    	ld	hl,0x0100
1067  00B4  E5          	push	hl
1068  00B5  CD 00 00    	call	_zx_print_str
1069  00B8  3A 00 00    	ld	a,(_game_two_player)
1070  00BB  B7          	or	a, a
1071  00BC  C8          	ret	Z
1072  00BD  21 00 00    	ld	hl,_screen_ink
1073  00C0  36 04       	ld	(hl),0x04
1074  00C2  21 17 00    	ld	hl,___str_8
1075  00C5  E5          	push	hl
1076  00C6  21 00 16    	ld	hl,0x1600
1077  00C9  E5          	push	hl
1078  00CA  CD 00 00    	call	_zx_print_str
1079  00CD  C9          	ret
1080  00CE              	SECTION rodata_compiler
1081  0010              ___str_6:
1082  0010  24 25 7C    	DEFM "$%|"
1083  0013  00          	DEFB 0x00
1084  0014              	SECTION rodata_compiler
1085  0014              ___str_7:
1086  0014  5B 7C       	DEFM "[|"
1087  0016  00          	DEFB 0x00
1088  0017              	SECTION rodata_compiler
1089  0017              ___str_8:
1090  0017  5D 7C       	DEFM "]|"
1091  0019  00          	DEFB 0x00
1092  001A              	SECTION code_compiler
1093  00CE              ;	---------------------------------
1094  00CE              ; Function game_print_lives
1095  00CE              ; ---------------------------------
1096  00CE              _game_print_lives:
1097  00CE  21 00 00    	ld	hl,_screen_ink
1098  00D1  36 07       	ld	(hl),0x07
1099  00D3  3A 00 00    	ld	a,(_game_lives)
1100  00D6  C6 FF       	add	a,0xff
1101  00D8  21 00 00    	ld	hl,_tmp
1102  00DB  77          	ld	(hl),a
1103  00DC  D6 FF       	sub	a,0xff
1104  00DE  30 0A       	jr	NC,l_game_print_lives_00102
1105  00E0  7E          	ld	a,(hl)
1106  00E1  F5          	push	af
1107  00E2  33          	inc	sp
1108  00E3  21 17 03    	ld	hl,0x0317
1109  00E6  E5          	push	hl
1110  00E7  CD 00 00    	call	_zx_print_chr
1111  00EA              l_game_print_lives_00102:
1112  00EA  3A 01 00    	ld	a, (_game_lives + 1)
1113  00ED  C6 FF       	add	a,0xff
1114  00EF  21 00 00    	ld	hl,_tmp
1115  00F2  77          	ld	(hl),a
1116  00F3  D6 FF       	sub	a,0xff
1117  00F5  D0          	ret	NC
1118  00F6  7E          	ld	a,(hl)
1119  00F7  F5          	push	af
1120  00F8  33          	inc	sp
1121  00F9  21 17 1A    	ld	hl,0x1a17
1122  00FC  E5          	push	hl
1123  00FD  CD 00 00    	call	_zx_print_chr
1124  0100  C9          	ret
1125  0101              	SECTION code_compiler
1126  0101              ;	---------------------------------
1127  0101              ; Function game_tick
1128  0101              ; ---------------------------------
1129  0101              _game_tick:
1130  0101  21 00 00    	ld	hl,_curr_time
1131  0104  34          	inc	(hl)
1132  0105  C2 00 00    	jp	NZ,_zx_isr
1133  0108  23          	inc	hl
1134  0109  34          	inc	(hl)
1135  010A  C3 00 00    	jp  _zx_isr
1136  010D              	SECTION code_compiler
1137  010D              ;	---------------------------------
1138  010D              ; Function game_start_timer
1139  010D              ; ---------------------------------
1140  010D              _game_start_timer:
1141  010D  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1142  0110  3E CD       	ld	a,0xcd
1143  0112  02          	ld	(bc),a
1144  0113  03          	inc	bc
1145  0114  11 01 01    	ld	de,_game_tick
1146  0117  7B          	ld	a,e
1147  0118  02          	ld	(bc),a
1148  0119  03          	inc	bc
1149  011A  7A          	ld	a,d
1150  011B  02          	ld	(bc),a
1151  011C  C9          	ret
1152  011D              	SECTION code_compiler
1153  011D              ;	---------------------------------
1154  011D              ; Function game_phase_calc
1155  011D              ; ---------------------------------
1156  011D              _game_phase_calc:
1157  011D  3A 00 00    	ld	a,(_phase_curr)
1158  0120  87          	add	a, a
1159  0121  87          	add	a, a
1160  0122  21 00 00    	ld	hl,_tmp_uc
1161  0125  77          	ld	(hl),a
1162  0126  01 00 00    	ld	bc,_phases+0
1163  0129  5E          	ld	e,(hl)
1164  012A  16 00       	ld	d,0x00
1165  012C  69          	ld	l, c
1166  012D  60          	ld	h, b
1167  012E  19          	add	hl,de
1168  012F  7E          	ld	a,(hl)
1169  0130  32 00 00    	ld	(_phase_quota),a
1170  0133  2A 00 00    	ld	hl,(_tmp_uc)
1171  0136  26 00       	ld	h,0x00
1172  0138  23          	inc	hl
1173  0139  09          	add	hl,bc
1174  013A  7E          	ld	a,(hl)
1175  013B  32 01 00    	ld	((_phase_quota + 0x0001)),a
1176  013E  2A 00 00    	ld	hl,(_tmp_uc)
1177  0141  26 00       	ld	h,0x00
1178  0143  23          	inc	hl
1179  0144  23          	inc	hl
1180  0145  09          	add	hl,bc
1181  0146  7E          	ld	a,(hl)
1182  0147  32 02 00    	ld	((_phase_quota + 0x0002)),a
1183  014A  2A 00 00    	ld	hl,(_tmp_uc)
1184  014D  26 00       	ld	h,0x00
1185  014F  23          	inc	hl
1186  0150  23          	inc	hl
1187  0151  23          	inc	hl
1188  0152  09          	add	hl,bc
1189  0153  7E          	ld	a,(hl)
1190  0154  32 00 00    	ld	(_game_brick_tile),a
1191  0157  21 00 00    	ld	hl,_game_brick_tile
1192  015A  4E          	ld	c,(hl)
1193  015B  06 00       	ld	b,0x00
1194  015D  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1195  0161  7E          	ld	a,(hl)
1196  0162  D6 8B       	sub	a,0x8b
1197  0164  20 05       	jr	NZ,l_game_phase_calc_00102
1198  0166  CD 8B 0C    	call	_game_freeze_all
1199  0169  18 03       	jr	l_game_phase_calc_00103
1200  016B              l_game_phase_calc_00102:
1201  016B  CD 62 0C    	call	_game_unfreeze_all
1202  016E              l_game_phase_calc_00103:
1203  016E  21 00 00    	ld	hl,_phase_quota
1204  0171  4E          	ld	c,(hl)
1205  0172  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1206  0175  46          	ld	b,(hl)
1207  0176  79          	ld	a,c
1208  0177  80          	add	a, b
1209  0178  4F          	ld	c,a
1210  0179  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1211  017C  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1212  017E  09          	add	hl, bc
1213  017F  C9          	ret
1214  0180              	SECTION code_compiler
1215  0180              ;	---------------------------------
1216  0180              ; Function game_phase_init
1217  0180              ; ---------------------------------
1218  0180              _game_phase_init:
1219  0180  21 00 00    	ld	hl,0x0000
1220  0183  22 00 00    	ld	(_loop_count),hl
1221  0186  21 00 00    	ld	hl,_phase_end
1222  0189  36 00       	ld	(hl),0x00
1223  018B  21 00 00    	ld	hl,_phase_angry
1224  018E  36 00       	ld	(hl),0x00
1225  0190  21 00 00    	ld	hl,_phase_coins
1226  0193  36 00       	ld	(hl),0x00
1227  0195  21 00 00    	ld	hl,_phase_pop
1228  0198  36 00       	ld	(hl),0x00
1229  019A  21 00 00    	ld	hl,_game_bonus
1230  019D  36 00       	ld	(hl),0x00
1231  019F  21 00 00    	ld	hl,0x0000
1232  01A2  22 00 00    	ld	(_entry_time),hl
1233  01A5  21 00 00    	ld	hl,0
1234  01A8  22 00 00    	ld	(_curr_time),hl
1235  01AB  21 00 00    	ld	hl,0x0000
1236  01AE  22 00 00    	ld	(_frame_time),hl
1237  01B1  21 FF FF    	ld	hl,0xffff
1238  01B4  22 00 00    	ld	(_score_osd_col),hl
1239  01B7  21 00 00    	ld	hl,_spr_count
1240  01BA  36 00       	ld	(hl),0x00
1241  01BC  3A 00 00    	ld	a,(_game_type)
1242  01BF  D6 02       	sub	a,0x02
1243  01C1  CA 4D 02    	jp	Z,l_game_phase_init_00104
1244  01C4  CD 1D 01    	call	_game_phase_calc
1245  01C7  7D          	ld	a,l
1246  01C8  32 00 00    	ld	(_phase_left),a
1247  01CB  32 00 00    	ld	(_phase_tot),a
1248  01CE  21 00 00    	ld	hl,_phase_left
1249  01D1  7E          	ld	a,(hl)
1250  01D2  B7          	or	a, a
1251  01D3  C2 65 02    	jp	NZ,l_game_phase_init_00105
1252  01D6  01 00 00    	ld	bc,_phase_bonus_total+0
1253  01D9  AF          	xor	a, a
1254  01DA  02          	ld	(bc),a
1255  01DB  03          	inc	bc
1256  01DC  AF          	xor	a, a
1257  01DD  02          	ld	(bc),a
1258  01DE  36 06       	ld	(hl),0x06
1259  01E0  21 00 00    	ld	hl,_game_bonus
1260  01E3  36 01       	ld	(hl),0x01
1261  01E5  21 0C 00    	ld	hl,0x000c
1262  01E8  E5          	push	hl
1263  01E9  21 90 08    	ld	hl,0x0890
1264  01EC  E5          	push	hl
1265  01ED  AF          	xor	a, a
1266  01EE  F5          	push	af
1267  01EF  33          	inc	sp
1268  01F0  CD 00 00    	call	_enemy_init
1269  01F3  F1          	pop	af
1270  01F4  33          	inc	sp
1271  01F5  21 0C 00    	ld	hl,0x000c
1272  01F8  E3          	ex	(sp),hl
1273  01F9  21 90 16    	ld	hl,0x1690
1274  01FC  E5          	push	hl
1275  01FD  3E 01       	ld	a,0x01
1276  01FF  F5          	push	af
1277  0200  33          	inc	sp
1278  0201  CD 00 00    	call	_enemy_init
1279  0204  F1          	pop	af
1280  0205  33          	inc	sp
1281  0206  21 0C 00    	ld	hl,0x000c
1282  0209  E3          	ex	(sp),hl
1283  020A  21 50 06    	ld	hl,0x0650
1284  020D  E5          	push	hl
1285  020E  3E 02       	ld	a,0x02
1286  0210  F5          	push	af
1287  0211  33          	inc	sp
1288  0212  CD 00 00    	call	_enemy_init
1289  0215  F1          	pop	af
1290  0216  33          	inc	sp
1291  0217  21 0C 00    	ld	hl,0x000c
1292  021A  E3          	ex	(sp),hl
1293  021B  21 50 18    	ld	hl,0x1850
1294  021E  E5          	push	hl
1295  021F  3E 03       	ld	a,0x03
1296  0221  F5          	push	af
1297  0222  33          	inc	sp
1298  0223  CD 00 00    	call	_enemy_init
1299  0226  F1          	pop	af
1300  0227  33          	inc	sp
1301  0228  21 0C 00    	ld	hl,0x000c
1302  022B  E3          	ex	(sp),hl
1303  022C  21 10 05    	ld	hl,0x0510
1304  022F  E5          	push	hl
1305  0230  3E 04       	ld	a,0x04
1306  0232  F5          	push	af
1307  0233  33          	inc	sp
1308  0234  CD 00 00    	call	_enemy_init
1309  0237  F1          	pop	af
1310  0238  33          	inc	sp
1311  0239  21 0C 00    	ld	hl,0x000c
1312  023C  E3          	ex	(sp),hl
1313  023D  21 10 19    	ld	hl,0x1910
1314  0240  E5          	push	hl
1315  0241  3E 05       	ld	a,0x05
1316  0243  F5          	push	af
1317  0244  33          	inc	sp
1318  0245  CD 00 00    	call	_enemy_init
1319  0248  F1          	pop	af
1320  0249  F1          	pop	af
1321  024A  33          	inc	sp
1322  024B  18 18       	jr	l_game_phase_init_00105
1323  024D              l_game_phase_init_00104:
1324  024D  21 00 00    	ld	hl,_phase_left
1325  0250  36 FF       	ld	(hl),0xff
1326  0252  21 00 00    	ld	hl,_phase_curr
1327  0255  36 FF       	ld	(hl),0xff
1328  0257  CD 62 0C    	call	_game_unfreeze_all
1329  025A  21 00 00    	ld	hl,_game_brick_tile
1330  025D  36 84       	ld	(hl),0x84
1331  025F  21 84 00    	ld	hl,0x0084
1332  0262  22 24 00    	ld	(_spr_idx + 0x0024),hl
1333  0265              l_game_phase_init_00105:
1334  0265  CD 00 00    	call	_ay_reset
1335  0268  3A 00 00    	ld	a,(_game_bonus)
1336  026B  B7          	or	a, a
1337  026C  20 06       	jr	NZ,l_game_phase_init_00107
1338  026E  21 00 00    	ld	hl,_pb_midi_phase_1
1339  0271  CD 00 00    	call	_ay_midi_play
1340  0274              l_game_phase_init_00107:
1341  0274  CD 00 00    	call	_spr_draw_clear
1342  0277  CD 00 00    	call	_spr_draw_back
1343  027A  CD B2 02    	call	_game_print_header
1344  027D  CD 1C 00    	call	_game_print_footer
1345  0280  3A 00 00    	ld	a,(_game_lives)
1346  0283  B7          	or	a, a
1347  0284  28 0D       	jr	Z,l_game_phase_init_00109
1348  0286  21 0A 03    	ld	hl,0x030a
1349  0289  E5          	push	hl
1350  028A  21 07 98    	ld	hl,0x9807
1351  028D  E5          	push	hl
1352  028E  CD 00 00    	call	_player_init
1353  0291  F1          	pop	af
1354  0292  F1          	pop	af
1355  0293              l_game_phase_init_00109:
1356  0293  3A 01 00    	ld	a, (_game_lives + 1)
1357  0296  B7          	or	a, a
1358  0297  28 0D       	jr	Z,l_game_phase_init_00111
1359  0299  21 14 27    	ld	hl,0x2714
1360  029C  E5          	push	hl
1361  029D  21 06 98    	ld	hl,0x9806
1362  02A0  E5          	push	hl
1363  02A1  CD 00 00    	call	_player_init
1364  02A4  F1          	pop	af
1365  02A5  F1          	pop	af
1366  02A6              l_game_phase_init_00111:
1367  02A6  21 00 00    	ld	hl,_game_osd
1368  02A9  36 01       	ld	(hl),0x01
1369  02AB  2A 00 00    	ld	hl,(_curr_time)
1370  02AE  22 00 00    	ld	(_osd_time),hl
1371  02B1  C9          	ret
1372  02B2              	SECTION code_compiler
1373  02B2              ;	---------------------------------
1374  02B2              ; Function game_print_header
1375  02B2              ; ---------------------------------
1376  02B2              _game_print_header:
1377  02B2  CD 98 00    	call	_game_phase_print_score_back
1378  02B5  21 00 00    	ld	hl,_screen_ink
1379  02B8  36 07       	ld	(hl),0x07
1380  02BA  C3 B4 0C    	jp  _game_print_score
1381  02BD              	SECTION code_compiler
1382  02BD              ;	---------------------------------
1383  02BD              ; Function game_phase_print
1384  02BD              ; ---------------------------------
1385  02BD              _game_phase_print:
1386  02BD  45          	ld	b,l
1387  02BE  C5          	push	bc
1388  02BF  21 1A 00    	ld	hl,___str_9
1389  02C2  E5          	push	hl
1390  02C3  3E 0B       	ld	a,0x0b
1391  02C5  48          	ld	c,b
1392  02C6  47          	ld	b,a
1393  02C7  C5          	push	bc
1394  02C8  CD 00 00    	call	_zx_print_str
1395  02CB  C1          	pop	bc
1396  02CC  3A 00 00    	ld	a,(_phase_curr)
1397  02CF  D6 1F       	sub	a,0x1f
1398  02D1  30 3F       	jr	NC,l_game_phase_print_00108
1399  02D3  3A 00 00    	ld	a,(_game_bonus)
1400  02D6  B7          	or	a, a
1401  02D7  20 2B       	jr	NZ,l_game_phase_print_00102
1402  02D9  C5          	push	bc
1403  02DA  21 20 00    	ld	hl,___str_10
1404  02DD  E5          	push	hl
1405  02DE  3E 10       	ld	a,0x10
1406  02E0  48          	ld	c,b
1407  02E1  47          	ld	b,a
1408  02E2  C5          	push	bc
1409  02E3  CD 00 00    	call	_zx_print_str
1410  02E6  C1          	pop	bc
1411  02E7  21 00 00    	ld	hl,_phase_curr
1412  02EA  56          	ld	d,(hl)
1413  02EB  14          	inc	d
1414  02EC  C5          	push	bc
1415  02ED  1E 12       	ld	e,0x12
1416  02EF  D5          	push	de
1417  02F0  C5          	push	bc
1418  02F1  33          	inc	sp
1419  02F2  CD 00 00    	call	_zx_print_chr
1420  02F5  C1          	pop	bc
1421  02F6  21 20 00    	ld	hl,___str_10
1422  02F9  E5          	push	hl
1423  02FA  3E 15       	ld	a,0x15
1424  02FC  48          	ld	c,b
1425  02FD  47          	ld	b,a
1426  02FE  C5          	push	bc
1427  02FF  CD 00 00    	call	_zx_print_str
1428  0302  18 2F       	jr	l_game_phase_print_00110
1429  0304              l_game_phase_print_00102:
1430  0304  21 23 00    	ld	hl,___str_11
1431  0307  E5          	push	hl
1432  0308  3E 11       	ld	a,0x11
1433  030A  48          	ld	c,b
1434  030B  47          	ld	b,a
1435  030C  C5          	push	bc
1436  030D  CD 00 00    	call	_zx_print_str
1437  0310  18 21       	jr	l_game_phase_print_00110
1438  0312              l_game_phase_print_00108:
1439  0312  3A 00 00    	ld	a,(_game_type)
1440  0315  D6 02       	sub	a,0x02
1441  0317  28 0E       	jr	Z,l_game_phase_print_00105
1442  0319  21 2A 00    	ld	hl,___str_12
1443  031C  E5          	push	hl
1444  031D  3E 11       	ld	a,0x11
1445  031F  48          	ld	c,b
1446  0320  47          	ld	b,a
1447  0321  C5          	push	bc
1448  0322  CD 00 00    	call	_zx_print_str
1449  0325  18 0C       	jr	l_game_phase_print_00110
1450  0327              l_game_phase_print_00105:
1451  0327  21 31 00    	ld	hl,___str_13
1452  032A  E5          	push	hl
1453  032B  3E 11       	ld	a,0x11
1454  032D  48          	ld	c,b
1455  032E  47          	ld	b,a
1456  032F  C5          	push	bc
1457  0330  CD 00 00    	call	_zx_print_str
1458  0333              l_game_phase_print_00110:
1459  0333  C9          	ret
1460  0334              	SECTION rodata_compiler
1461  001A              ___str_9:
1462  001A  50 48 41 53 45 
                        	DEFM "PHASE"
1463  001F  00          	DEFB 0x00
1464  0020              	SECTION rodata_compiler
1465  0020              ___str_10:
1466  0020  20 20       	DEFM "  "
1467  0022  00          	DEFB 0x00
1468  0023              	SECTION rodata_compiler
1469  0023              ___str_11:
1470  0023  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1471  0029  00          	DEFB 0x00
1472  002A              	SECTION rodata_compiler
1473  002A              ___str_12:
1474  002A  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1475  0030  00          	DEFB 0x00
1476  0031              	SECTION rodata_compiler
1477  0031              ___str_13:
1478  0031  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1479  0037  00          	DEFB 0x00
1480  0038              	SECTION code_compiler
1481  0334              ;	---------------------------------
1482  0334              ; Function game_loop
1483  0334              ; ---------------------------------
1484  0334              _game_loop:
1485  0334  21 38 00    	ld	hl,___str_14
1486  0337  E5          	push	hl
1487  0338  21 16 07    	ld	hl,0x0716
1488  033B  E5          	push	hl
1489  033C  CD 00 00    	call	_zx_print_str
1490  033F  21 4B 00    	ld	hl,___str_15
1491  0342  E5          	push	hl
1492  0343  21 17 07    	ld	hl,0x0717
1493  0346  E5          	push	hl
1494  0347  CD 00 00    	call	_zx_print_str
1495  034A  21 00 00    	ld	hl,_ay_effect_10
1496  034D  CD 00 00    	call	_ay_fx_play
1497  0350  CD 00 00    	call	_sound_coin
1498  0353  21 C8 00    	ld	hl,0x00c8
1499  0356  CD 00 00    	call	_z80_delay_ms_fastcall
1500  0359  21 5E 00    	ld	hl,___str_16
1501  035C  E5          	push	hl
1502  035D  21 16 07    	ld	hl,0x0716
1503  0360  E5          	push	hl
1504  0361  CD 00 00    	call	_zx_print_str
1505  0364  CD 00 00    	call	_ay_reset
1506  0367  21 11 11    	ld	hl,0x1111
1507  036A  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1508  036D  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1509  0370  01 00 00    	ld	bc,_game_lives+0
1510  0373  3E 04       	ld	a,0x04
1511  0375  02          	ld	(bc),a
1512  0376  03          	inc	bc
1513  0377  3A 00 00    	ld	a,(_game_two_player)
1514  037A  B7          	or	a,a
1515  037B  28 05       	jr	Z,l_game_loop_00102
1516  037D  3E 04       	ld	a,0x04
1517  037F  02          	ld	(bc),a
1518  0380  18 02       	jr	l_game_loop_00103
1519  0382              l_game_loop_00102:
1520  0382  AF          	xor	a, a
1521  0383  02          	ld	(bc),a
1522  0384              l_game_loop_00103:
1523  0384  21 00 00    	ld	hl,0x0000
1524  0387  22 00 00    	ld	(_player_score), hl
1525  038A  2E 00       	ld	l,0x00
1526  038C  22 02 00    	ld	(_player_score + 0x0002),hl
1527  038F  21 D0 07    	ld	hl,0x07d0
1528  0392  22 00 00    	ld	(_player_next_extra), hl
1529  0395  2E D0       	ld	l,0xd0
1530  0397  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1531  039A  21 00 00    	ld	hl,_spr_water_clear
1532  039D  36 FF       	ld	(hl),0xff
1533  039F  3A 00 00    	ld	a,(_game_type)
1534  03A2  B7          	or	a, a
1535  03A3  20 0E       	jr	NZ,l_game_loop_00105
1536  03A5  21 F4 01    	ld	hl,0x01f4
1537  03A8  22 00 00    	ld	(_game_time_flipped),hl
1538  03AB  21 D0 07    	ld	hl,0x07d0
1539  03AE  22 00 00    	ld	(_game_time_fireball_start),hl
1540  03B1  18 0C       	jr	l_game_loop_00106
1541  03B3              l_game_loop_00105:
1542  03B3  21 FA 00    	ld	hl,0x00fa
1543  03B6  22 00 00    	ld	(_game_time_flipped),hl
1544  03B9  21 F4 01    	ld	hl,0x01f4
1545  03BC  22 00 00    	ld	(_game_time_fireball_start),hl
1546  03BF              l_game_loop_00106:
1547  03BF  21 00 00    	ld	hl,_game_over
1548  03C2  36 00       	ld	(hl),0x00
1549  03C4  21 00 00    	ld	hl,_game_pow
1550  03C7  36 03       	ld	(hl),0x03
1551  03C9  3A 00 00    	ld	a,(_game_start_phase)
1552  03CC  32 00 00    	ld	(_phase_curr),a
1553  03CF  CD 80 01    	call	_game_phase_init
1554  03D2  21 00 00    	ld	hl,_sprite_lin_inc_mul
1555  03D5  36 00       	ld	(hl),0x00
1556  03D7  21 00 00    	ld	hl,_dirs
1557  03DA  36 00       	ld	(hl),0x00
1558  03DC  CD 56 0F    	call	_game_joystick_set
1559  03DF              l_game_loop_00134:
1560  03DF  3A 00 00    	ld	a,(_game_over)
1561  03E2  B7          	or	a, a
1562  03E3  C2 D8 04    	jp	NZ,l_game_loop_00136
1563  03E6  CD 00 00    	call	_player_set1
1564  03E9  CD 00 00    	call	_player_turn
1565  03EC  CD 00 00    	call	_player_set2
1566  03EF  CD 00 00    	call	_player_turn
1567  03F2  CD 00 00    	call	_enemy_turn
1568  03F5  3A 00 00    	ld	a,(_game_bonus)
1569  03F8  B7          	or	a, a
1570  03F9  28 16       	jr	Z,l_game_loop_00111
1571  03FB  CD 94 06    	call	_game_bonus_clock
1572  03FE  3A 00 00    	ld	a,(_phase_left)
1573  0401  B7          	or	a, a
1574  0402  28 0D       	jr	Z,l_game_loop_00111
1575  0404  CD 00 00    	call	_ay_is_playing
1576  0407  7D          	ld	a,l
1577  0408  B7          	or	a, a
1578  0409  20 06       	jr	NZ,l_game_loop_00111
1579  040B  21 00 00    	ld	hl,_ay_effect_19
1580  040E  CD 00 00    	call	_ay_fx_play
1581  0411              l_game_loop_00111:
1582  0411  3A 00 00    	ld	a,(_game_osd)
1583  0414  B7          	or	a, a
1584  0415  28 4F       	jr	Z,l_game_loop_00119
1585  0417  21 05 00    	ld	hl,0x0005
1586  041A  E5          	push	hl
1587  041B  2A 00 00    	ld	hl,(_osd_time)
1588  041E  E5          	push	hl
1589  041F  CD 18 1A    	call	_game_check_time
1590  0422  F1          	pop	af
1591  0423  F1          	pop	af
1592  0424  7D          	ld	a,l
1593  0425  B7          	or	a, a
1594  0426  28 1B       	jr	Z,l_game_loop_00113
1595  0428  2A 00 00    	ld	hl,(_curr_time)
1596  042B  22 00 00    	ld	(_osd_time),hl
1597  042E  2E 0C       	ld	l,0x0c
1598  0430  CD BD 02    	call	_game_phase_print
1599  0433  21 17 68    	ld	hl,0x6817
1600  0436  E5          	push	hl
1601  0437  3E 0B       	ld	a,0x0b
1602  0439  F5          	push	af
1603  043A  33          	inc	sp
1604  043B  CD 30 0D    	call	_game_paint_attrib_lin_h
1605  043E  F1          	pop	af
1606  043F  33          	inc	sp
1607  0440  CD 6A 19    	call	_game_rotate_attrib
1608  0443              l_game_loop_00113:
1609  0443  21 00 00    	ld	hl,_loop_count
1610  0446  7E          	ld	a,(hl)
1611  0447  D6 90       	sub	a,0x90
1612  0449  20 1B       	jr	NZ,l_game_loop_00119
1613  044B  23          	inc	hl
1614  044C  7E          	ld	a,(hl)
1615  044D  3D          	dec	a
1616  044E  20 16       	jr	NZ,l_game_loop_00119
1617  0450  21 0C 20    	ld	hl,0x200c
1618  0453  E5          	push	hl
1619  0454  CD 00 00    	call	_game_fill_row
1620  0457  21 00 00    	ld	hl,_game_osd
1621  045A  36 00       	ld	(hl),0x00
1622  045C  21 00 00    	ld	hl,_game_bonus
1623  045F  7E          	ld	a,(hl)
1624  0460  B7          	or	a, a
1625  0461  20 03       	jr	NZ,l_game_loop_00119
1626  0463  CD 1F 05    	call	_game_print_phase
1627  0466              l_game_loop_00119:
1628  0466  CD 00 00    	call	_spr_water_splash_clear
1629  0469  21 64 00    	ld	hl,0x0064
1630  046C  E5          	push	hl
1631  046D  2A 00 00    	ld	hl,(_frame_time)
1632  0470  E5          	push	hl
1633  0471  CD 18 1A    	call	_game_check_time
1634  0474  F1          	pop	af
1635  0475  F1          	pop	af
1636  0476  7D          	ld	a,l
1637  0477  B7          	or	a, a
1638  0478  28 52       	jr	Z,l_game_loop_00133
1639  047A  2A 00 00    	ld	hl,(_curr_time)
1640  047D  22 00 00    	ld	(_frame_time),hl
1641  0480  3A 00 00    	ld	a,(_game_bonus)
1642  0483  B7          	or	a,a
1643  0484  20 03       	jr	NZ,l_game_loop_00121
1644  0486  CD F0 08    	call	_game_enemy_add
1645  0489              l_game_loop_00121:
1646  0489  3A 00 00    	ld	a,(_phase_end)
1647  048C  3D          	dec	a
1648  048D  20 3A       	jr	NZ,l_game_loop_00130
1649  048F  3A 00 00    	ld	a,(_game_type)
1650  0492  D6 02       	sub	a,0x02
1651  0494  28 33       	jr	Z,l_game_loop_00130
1652  0496  CD 00 00    	call	_ay_is_playing
1653  0499  7D          	ld	a, l
1654  049A  D6 02       	sub	a,0x02
1655  049C  30 03       	jr	NC,l_game_loop_00123
1656  049E  CD 00 00    	call	_ay_reset
1657  04A1              l_game_loop_00123:
1658  04A1  CD BE 08    	call	_game_kill_all_sprites
1659  04A4  3A 00 00    	ld	a,(_game_bonus)
1660  04A7  B7          	or	a, a
1661  04A8  28 03       	jr	Z,l_game_loop_00125
1662  04AA  CD 05 07    	call	_game_bonus_summary
1663  04AD              l_game_loop_00125:
1664  04AD  21 00 00    	ld	hl,_phase_curr
1665  04B0  34          	inc	(hl)
1666  04B1  3E 1F       	ld	a,0x1f
1667  04B3  96          	sub	a, (hl)
1668  04B4  30 0A       	jr	NC,l_game_loop_00127
1669  04B6  CD 6C 12    	call	_game_end
1670  04B9  21 00 00    	ld	hl,_game_over
1671  04BC  36 01       	ld	(hl),0x01
1672  04BE  18 09       	jr	l_game_loop_00130
1673  04C0              l_game_loop_00127:
1674  04C0  21 90 01    	ld	hl,0x0190
1675  04C3  CD 00 00    	call	_z80_delay_ms_fastcall
1676  04C6  CD 80 01    	call	_game_phase_init
1677  04C9              l_game_loop_00130:
1678  04C9  CD 00 00    	call	_debug_func
1679  04CC              l_game_loop_00133:
1680  04CC  21 00 00    	ld	hl,_loop_count
1681  04CF  34          	inc	(hl)
1682  04D0  C2 DF 03    	jp	NZ,l_game_loop_00134
1683  04D3  23          	inc	hl
1684  04D4  34          	inc	(hl)
1685  04D5  C3 DF 03    	jp	l_game_loop_00134
1686  04D8              l_game_loop_00136:
1687  04D8  21 90 01    	ld	hl,0x0190
1688  04DB  CD 00 00    	call	_z80_delay_ms_fastcall
1689  04DE  CD BE 08    	call	_game_kill_all_sprites
1690  04E1  CD 00 00    	call	_spr_draw_back
1691  04E4  CD B2 02    	call	_game_print_header
1692  04E7  CD 1C 00    	call	_game_print_footer
1693  04EA  CD 1F 05    	call	_game_print_phase
1694  04ED  21 71 00    	ld	hl,___str_17
1695  04F0  E5          	push	hl
1696  04F1  21 08 0B    	ld	hl,0x0b08
1697  04F4  E5          	push	hl
1698  04F5  CD 00 00    	call	_zx_print_str
1699  04F8  21 C8 00    	ld	hl,0x00c8
1700  04FB  E5          	push	hl
1701  04FC  21 0B 15    	ld	hl,0x150b
1702  04FF  E5          	push	hl
1703  0500  3E 08       	ld	a,0x08
1704  0502  F5          	push	af
1705  0503  33          	inc	sp
1706  0504  CD 86 19    	call	_game_colour_message
1707  0507  F1          	pop	af
1708  0508  F1          	pop	af
1709  0509  33          	inc	sp
1710  050A  CD 00 00    	call	_spr_draw_clear
1711  050D  CD FE 14    	call	_game_hall_enter
1712  0510  CD 00 00    	call	_ay_reset
1713  0513  21 00 00    	ld	hl,_game_menu_sel
1714  0516  36 00       	ld	(hl),0x00
1715  0518  CD 4E 10    	call	_game_menu_paint
1716  051B  CD 49 0F    	call	_game_joystick_set_menu
1717  051E  C9          	ret
1718  051F              	SECTION rodata_compiler
1719  0038              ___str_14:
1720  0038  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1721  004A  00          	DEFB 0x00
1722  004B              	SECTION rodata_compiler
1723  004B              ___str_15:
1724  004B  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1725  005D  00          	DEFB 0x00
1726  005E              	SECTION rodata_compiler
1727  005E              ___str_16:
1728  005E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1729  0070  00          	DEFB 0x00
1730  0071              	SECTION rodata_compiler
1731  0071              ___str_17:
1732  0071  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1733  007C  00          	DEFB 0x00
1734  007D              	SECTION code_compiler
1735  051F              ;	---------------------------------
1736  051F              ; Function game_print_phase
1737  051F              ; ---------------------------------
1738  051F              _game_print_phase:
1739  051F  21 7D 00    	ld	hl,___str_18
1740  0522  E5          	push	hl
1741  0523  21 17 0B    	ld	hl,0x0b17
1742  0526  E5          	push	hl
1743  0527  CD 00 00    	call	_zx_print_str
1744  052A  21 00 00    	ld	hl,_phase_curr
1745  052D  46          	ld	b,(hl)
1746  052E  04          	inc	b
1747  052F  C5          	push	bc
1748  0530  33          	inc	sp
1749  0531  21 17 12    	ld	hl,0x1217
1750  0534  E5          	push	hl
1751  0535  CD 00 00    	call	_zx_print_chr
1752  0538  C9          	ret
1753  0539              	SECTION rodata_compiler
1754  007D              ___str_18:
1755  007D  50 48 41 53 45 
                        	DEFM "PHASE"
1756  0082  00          	DEFB 0x00
1757  0083              	SECTION code_compiler
1758  0539              ;	---------------------------------
1759  0539              ; Function game_score_osd
1760  0539              ; ---------------------------------
1761  0539              _game_score_osd:
1762  0539  3A 00 00    	ld	a,(_index_player)
1763  053C  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1764  053E  4F          	ld	c,a
1765  053F  3E 00       	ld	a,+((_score_osd_col) / 256)
1766  0541  CE 00       	adc	a,0x00
1767  0543  47          	ld	b,a
1768  0544  0A          	ld	a,(bc)
1769  0545  57          	ld	d,a
1770  0546  3C          	inc	a
1771  0547  20 67       	jr	NZ,l_game_score_osd_00116
1772  0549  3A 00 00    	ld	a,(_hit_count)
1773  054C  B7          	or	a, a
1774  054D  CA 93 06    	jp	Z,l_game_score_osd_00118
1775  0550  2A 00 00    	ld	hl,(_sprite)
1776  0553  26 00       	ld	h,0x00
1777  0555  11 00 00    	ld	de,_col
1778  0558  19          	add	hl,de
1779  0559  7E          	ld	a,(hl)
1780  055A  02          	ld	(bc),a
1781  055B  3A 00 00    	ld	a,(_index_player)
1782  055E  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1783  0560  4F          	ld	c,a
1784  0561  3E 00       	ld	a,+((_score_osd_lin) / 256)
1785  0563  CE 00       	adc	a,0x00
1786  0565  47          	ld	b,a
1787  0566  2A 00 00    	ld	hl,(_sprite)
1788  0569  26 00       	ld	h,0x00
1789  056B  11 00 00    	ld	de,_lin
1790  056E  19          	add	hl,de
1791  056F  7E          	ld	a,(hl)
1792  0570  02          	ld	(bc),a
1793  0571  01 00 00    	ld	bc,_score_osd_time+0
1794  0574  2A 00 00    	ld	hl,(_index_player)
1795  0577  26 00       	ld	h,0x00
1796  0579  29          	add	hl, hl
1797  057A  09          	add	hl,bc
1798  057B  ED 5B 00 00 	ld	de,(_curr_time)
1799  057F  73          	ld	(hl),e
1800  0580  23          	inc	hl
1801  0581  72          	ld	(hl),d
1802  0582  3A 00 00    	ld	a,(_hit_count)
1803  0585  B7          	or	a, a
1804  0586  CA 93 06    	jp	Z,l_game_score_osd_00118
1805  0589  2A 00 00    	ld	hl,(_index_player)
1806  058C  26 00       	ld	h,0x00
1807  058E  29          	add	hl,hl
1808  058F  3A 00 00    	ld	a,(_hit_count)
1809  0592  D6 02       	sub	a,0x02
1810  0594  4D          	ld	c,l
1811  0595  44          	ld	b,h
1812  0596  30 0C       	jr	NC,l_game_score_osd_00102
1813  0598  21 00 00    	ld	hl,_score_osd_tile
1814  059B  09          	add	hl,bc
1815  059C  36 BC       	ld	(hl),0xbc
1816  059E  23          	inc	hl
1817  059F  36 00       	ld	(hl),0x00
1818  05A1  C3 93 06    	jp	l_game_score_osd_00118
1819  05A4              l_game_score_osd_00102:
1820  05A4  21 00 00    	ld	hl,_score_osd_tile
1821  05A7  09          	add	hl,bc
1822  05A8  36 BD       	ld	(hl),0xbd
1823  05AA  23          	inc	hl
1824  05AB  36 00       	ld	(hl),0x00
1825  05AD  C3 93 06    	jp	l_game_score_osd_00118
1826  05B0              l_game_score_osd_00116:
1827  05B0  3A 00 00    	ld	a,(_index_player)
1828  05B3  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1829  05B5  4F          	ld	c,a
1830  05B6  3E 00       	ld	a,+((_score_osd_lin) / 256)
1831  05B8  CE 00       	adc	a,0x00
1832  05BA  47          	ld	b,a
1833  05BB  0A          	ld	a,(bc)
1834  05BC  C6 FE       	add	a,0xfe
1835  05BE  32 00 00    	ld	(_tmp),a
1836  05C1  5F          	ld	e,a
1837  05C2  D5          	push	de
1838  05C3  CD 00 00    	call	_game_calc_index
1839  05C6  F1          	pop	af
1840  05C7  22 00 00    	ld	(_index1),hl
1841  05CA  3E 08       	ld	a,0x08
1842  05CC  21 00 00    	ld	hl,_tmp
1843  05CF  96          	sub	a, (hl)
1844  05D0  30 5B       	jr	NC,l_game_score_osd_00109
1845  05D2  21 01 00    	ld	hl,_index1 + 1
1846  05D5  7E          	ld	a,(hl)
1847  05D6  2B          	dec	hl
1848  05D7  B6          	or	a,(hl)
1849  05D8  28 53       	jr	Z,l_game_score_osd_00109
1850  05DA  01 00 00    	ld	bc,_lvl_1+0
1851  05DD  79          	ld	a,c
1852  05DE  86          	add	a, (hl)
1853  05DF  5F          	ld	e,a
1854  05E0  78          	ld	a,b
1855  05E1  23          	inc	hl
1856  05E2  8E          	adc	a, (hl)
1857  05E3  57          	ld	d,a
1858  05E4  1A          	ld	a,(de)
1859  05E5  B7          	or	a, a
1860  05E6  20 45       	jr	NZ,l_game_score_osd_00109
1861  05E8  56          	ld	d,(hl)
1862  05E9  2B          	dec	hl
1863  05EA  5E          	ld	e,(hl)
1864  05EB  13          	inc	de
1865  05EC  69          	ld	l, c
1866  05ED  60          	ld	h, b
1867  05EE  19          	add	hl,de
1868  05EF  7E          	ld	a,(hl)
1869  05F0  B7          	or	a, a
1870  05F1  20 3A       	jr	NZ,l_game_score_osd_00109
1871  05F3  76          	halt
1872  05F4  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1873  05F6  21 00 00    	ld	hl,_index_player
1874  05F9  86          	add	a, (hl)
1875  05FA  4F          	ld	c,a
1876  05FB  3E 00       	ld	a,+((_score_osd_col) / 256)
1877  05FD  CE 00       	adc	a,0x00
1878  05FF  47          	ld	b,a
1879  0600  0A          	ld	a,(bc)
1880  0601  57          	ld	d,a
1881  0602  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1882  0604  86          	add	a, (hl)
1883  0605  4F          	ld	c,a
1884  0606  3E 00       	ld	a,+((_score_osd_lin) / 256)
1885  0608  CE 00       	adc	a,0x00
1886  060A  47          	ld	b,a
1887  060B  0A          	ld	a,(bc)
1888  060C  5F          	ld	e,a
1889  060D  6E          	ld	l, (hl)
1890  060E  26 00       	ld	h,0x00
1891  0610  29          	add	hl, hl
1892  0611  01 00 00    	ld	bc,_score_osd_tile
1893  0614  09          	add	hl,bc
1894  0615  46          	ld	b,(hl)
1895  0616  23          	inc	hl
1896  0617  4E          	ld	c,(hl)
1897  0618  D5          	push	de
1898  0619  C5          	push	bc
1899  061A  33          	inc	sp
1900  061B  CD 00 00    	call	_NIRVANAP_drawT_callee
1901  061E  3A 00 00    	ld	a,(_index_player)
1902  0621  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1903  0623  4F          	ld	c,a
1904  0624  3E 00       	ld	a,+((_score_osd_lin) / 256)
1905  0626  CE 00       	adc	a,0x00
1906  0628  47          	ld	b,a
1907  0629  3A 00 00    	ld	a,(_tmp)
1908  062C  02          	ld	(bc),a
1909  062D              l_game_score_osd_00109:
1910  062D  01 00 00    	ld	bc,_score_osd_time+0
1911  0630  2A 00 00    	ld	hl,(_index_player)
1912  0633  26 00       	ld	h,0x00
1913  0635  29          	add	hl, hl
1914  0636  09          	add	hl,bc
1915  0637  4E          	ld	c,(hl)
1916  0638  23          	inc	hl
1917  0639  46          	ld	b,(hl)
1918  063A  21 32 00    	ld	hl,0x0032
1919  063D  E5          	push	hl
1920  063E  C5          	push	bc
1921  063F  CD 18 1A    	call	_game_check_time
1922  0642  F1          	pop	af
1923  0643  F1          	pop	af
1924  0644  7D          	ld	a,l
1925  0645  B7          	or	a, a
1926  0646  C8          	ret	Z
1927  0647  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1928  0649  21 00 00    	ld	hl,_index_player
1929  064C  86          	add	a, (hl)
1930  064D  4F          	ld	c,a
1931  064E  3E 00       	ld	a,+((_score_osd_col) / 256)
1932  0650  CE 00       	adc	a,0x00
1933  0652  47          	ld	b,a
1934  0653  0A          	ld	a,(bc)
1935  0654  57          	ld	d,a
1936  0655  4E          	ld	c,(hl)
1937  0656  06 00       	ld	b,0x00
1938  0658  21 00 00    	ld	hl,_score_osd_lin
1939  065B  09          	add	hl,bc
1940  065C  5E          	ld	e, (hl)
1941  065D  D5          	push	de
1942  065E  AF          	xor	a, a
1943  065F  F5          	push	af
1944  0660  33          	inc	sp
1945  0661  CD 00 00    	call	_NIRVANAP_fillT_callee
1946  0664  3A 00 00    	ld	a,(_index_player)
1947  0667  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1948  0669  4F          	ld	c,a
1949  066A  3E 00       	ld	a,+((_score_osd_lin) / 256)
1950  066C  CE 00       	adc	a,0x00
1951  066E  47          	ld	b,a
1952  066F  0A          	ld	a,(bc)
1953  0670  32 00 00    	ld	(_s_lin0),a
1954  0673  3A 00 00    	ld	a,(_index_player)
1955  0676  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1956  0678  4F          	ld	c,a
1957  0679  3E 00       	ld	a,+((_score_osd_col) / 256)
1958  067B  CE 00       	adc	a,0x00
1959  067D  47          	ld	b,a
1960  067E  0A          	ld	a,(bc)
1961  067F  32 00 00    	ld	(_s_col0),a
1962  0682  CD 00 00    	call	_spr_check_over
1963  0685  3A 00 00    	ld	a,(_index_player)
1964  0688  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1965  068A  4F          	ld	c,a
1966  068B  3E 00       	ld	a,+((_score_osd_col) / 256)
1967  068D  CE 00       	adc	a,0x00
1968  068F  47          	ld	b,a
1969  0690  3E FF       	ld	a,0xff
1970  0692  02          	ld	(bc),a
1971  0693              l_game_score_osd_00118:
1972  0693  C9          	ret
1973  0694              	SECTION code_compiler
1974  0694              ;	---------------------------------
1975  0694              ; Function game_bonus_clock
1976  0694              ; ---------------------------------
1977  0694              _game_bonus_clock:
1978  0694  2A 00 00    	ld	hl,(_curr_time)
1979  0697  29          	add	hl,hl
1980  0698  3E 40       	ld	a,0x40
1981  069A  95          	sub	a,l
1982  069B  44          	ld	b,h
1983  069C  21 00 00    	ld	hl,_tmp_ui
1984  069F  77          	ld	(hl),a
1985  06A0  3E 06       	ld	a,0x06
1986  06A2  98          	sbc	a, b
1987  06A3  23          	inc	hl
1988  06A4  77          	ld	(hl),a
1989  06A5  3E 40       	ld	a,0x40
1990  06A7  2B          	dec	hl
1991  06A8  BE          	cp	a, (hl)
1992  06A9  3E 06       	ld	a,0x06
1993  06AB  23          	inc	hl
1994  06AC  9E          	sbc	a, (hl)
1995  06AD  30 1F       	jr	NC,l_game_bonus_clock_00106
1996  06AF  2B          	dec	hl
1997  06B0  AF          	xor	a, a
1998  06B1  77          	ld	(hl), a
1999  06B2  23          	inc	hl
2000  06B3  77          	ld	(hl), a
2001  06B4  21 00 00    	ld	hl,0x0000
2002  06B7  E5          	push	hl
2003  06B8  21 02 0E    	ld	hl,0x0e02
2004  06BB  E5          	push	hl
2005  06BC  CD 00 00    	call	_zx_print_bonus_time
2006  06BF  21 00 00    	ld	hl,_phase_left
2007  06C2  36 00       	ld	(hl),0x00
2008  06C4  21 00 00    	ld	hl,_phase_end
2009  06C7  36 01       	ld	(hl),0x01
2010  06C9  CD 00 00    	call	_ay_reset
2011  06CC  18 36       	jr	l_game_bonus_clock_00108
2012  06CE              l_game_bonus_clock_00106:
2013  06CE  3A 00 00    	ld	a,(_phase_left)
2014  06D1  B7          	or	a, a
2015  06D2  C8          	ret	Z
2016  06D3  2A 00 00    	ld	hl,(_tmp_ui)
2017  06D6  E5          	push	hl
2018  06D7  21 02 0E    	ld	hl,0x0e02
2019  06DA  E5          	push	hl
2020  06DB  CD 00 00    	call	_zx_print_bonus_time
2021  06DE  21 05 00    	ld	hl,0x0005
2022  06E1  E5          	push	hl
2023  06E2  2A 00 00    	ld	hl,(_frame_time)
2024  06E5  E5          	push	hl
2025  06E6  CD 18 1A    	call	_game_check_time
2026  06E9  F1          	pop	af
2027  06EA  F1          	pop	af
2028  06EB  7D          	ld	a,l
2029  06EC  B7          	or	a, a
2030  06ED  C8          	ret	Z
2031  06EE  2A 00 00    	ld	hl,(_curr_time)
2032  06F1  22 00 00    	ld	(_frame_time),hl
2033  06F4  21 14 18    	ld	hl,0x1814
2034  06F7  E5          	push	hl
2035  06F8  3E 0E       	ld	a,0x0e
2036  06FA  F5          	push	af
2037  06FB  33          	inc	sp
2038  06FC  CD 30 0D    	call	_game_paint_attrib_lin_h
2039  06FF  F1          	pop	af
2040  0700  33          	inc	sp
2041  0701  CD 6A 19    	call	_game_rotate_attrib
2042  0704              l_game_bonus_clock_00108:
2043  0704  C9          	ret
2044  0705              	SECTION code_compiler
2045  0705              ;	---------------------------------
2046  0705              ; Function game_bonus_summary
2047  0705              ; ---------------------------------
2048  0705              _game_bonus_summary:
2049  0705  CD BE 08    	call	_game_kill_all_sprites
2050  0708  CD 00 00    	call	_spr_draw_clear
2051  070B  21 00 00    	ld	hl,0x0000
2052  070E  CD 00 00    	call	_zx_cls_fastcall
2053  0711  CD 98 00    	call	_game_phase_print_score_back
2054  0714  CD B4 0C    	call	_game_print_score
2055  0717  3A 00 00    	ld	a,(_game_lives)
2056  071A  B7          	or	a, a
2057  071B  28 05       	jr	Z,l_game_bonus_summary_00102
2058  071D  2E 00       	ld	l,0x00
2059  071F  CD BA 07    	call	_game_bonus_summary_player
2060  0722              l_game_bonus_summary_00102:
2061  0722  3A 01 00    	ld	a, (_game_lives + 1)
2062  0725  B7          	or	a, a
2063  0726  28 05       	jr	Z,l_game_bonus_summary_00104
2064  0728  2E 01       	ld	l,0x01
2065  072A  CD BA 07    	call	_game_bonus_summary_player
2066  072D              l_game_bonus_summary_00104:
2067  072D  21 1F 98    	ld	hl,0x981f
2068  0730  E5          	push	hl
2069  0731  AF          	xor	a, a
2070  0732  F5          	push	af
2071  0733  33          	inc	sp
2072  0734  CD 09 0D    	call	_game_paint_attrib_lin
2073  0737  F1          	pop	af
2074  0738  33          	inc	sp
2075  0739  3A 00 00    	ld	a,(_phase_bonus_total)
2076  073C  D6 06       	sub	a,0x06
2077  073E  20 68       	jr	NZ,l_game_bonus_summary_00109
2078  0740  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2079  0743  B7          	or	a, a
2080  0744  20 62       	jr	NZ,l_game_bonus_summary_00109
2081  0746  CD 00 00    	call	_sound_jump
2082  0749  3A 00 00    	ld	a,(_phase_curr)
2083  074C  D6 03       	sub	a,0x03
2084  074E  30 23       	jr	NC,l_game_bonus_summary_00106
2085  0750  21 83 00    	ld	hl,___str_19
2086  0753  E5          	push	hl
2087  0754  21 12 06    	ld	hl,0x0612
2088  0757  E5          	push	hl
2089  0758  CD 00 00    	call	_zx_print_str
2090  075B  21 00 00    	ld	hl,_index_player
2091  075E  36 00       	ld	(hl),0x00
2092  0760  21 2C 01    	ld	hl,0x012c
2093  0763  CD 00 00    	call	_player_score_add
2094  0766  21 00 00    	ld	hl,_index_player
2095  0769  36 01       	ld	(hl),0x01
2096  076B  21 2C 01    	ld	hl,0x012c
2097  076E  CD 00 00    	call	_player_score_add
2098  0771  18 21       	jr	l_game_bonus_summary_00107
2099  0773              l_game_bonus_summary_00106:
2100  0773  21 96 00    	ld	hl,___str_20
2101  0776  E5          	push	hl
2102  0777  21 12 06    	ld	hl,0x0612
2103  077A  E5          	push	hl
2104  077B  CD 00 00    	call	_zx_print_str
2105  077E  21 00 00    	ld	hl,_index_player
2106  0781  36 00       	ld	(hl),0x00
2107  0783  21 F4 01    	ld	hl,0x01f4
2108  0786  CD 00 00    	call	_player_score_add
2109  0789  21 00 00    	ld	hl,_index_player
2110  078C  36 01       	ld	(hl),0x01
2111  078E  21 F4 01    	ld	hl,0x01f4
2112  0791  CD 00 00    	call	_player_score_add
2113  0794              l_game_bonus_summary_00107:
2114  0794  21 C8 00    	ld	hl,0x00c8
2115  0797  E5          	push	hl
2116  0798  21 10 1A    	ld	hl,0x1a10
2117  079B  E5          	push	hl
2118  079C  3E 12       	ld	a,0x12
2119  079E  F5          	push	af
2120  079F  33          	inc	sp
2121  07A0  CD 86 19    	call	_game_colour_message
2122  07A3  F1          	pop	af
2123  07A4  F1          	pop	af
2124  07A5  33          	inc	sp
2125  07A6  18 11       	jr	l_game_bonus_summary_00112
2126  07A8              l_game_bonus_summary_00109:
2127  07A8  21 A9 00    	ld	hl,___str_21
2128  07AB  E5          	push	hl
2129  07AC  21 12 0C    	ld	hl,0x0c12
2130  07AF  E5          	push	hl
2131  07B0  CD 00 00    	call	_zx_print_str
2132  07B3  21 E8 03    	ld	hl,0x03e8
2133  07B6  CD 00 00    	call	_z80_delay_ms_fastcall
2134  07B9              l_game_bonus_summary_00112:
2135  07B9  C9          	ret
2136  07BA              	SECTION rodata_compiler
2137  0083              ___str_19:
2138  0083  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2139  0095  00          	DEFB 0x00
2140  0096              	SECTION rodata_compiler
2141  0096              ___str_20:
2142  0096  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2143  00A8  00          	DEFB 0x00
2144  00A9              	SECTION rodata_compiler
2145  00A9              ___str_21:
2146  00A9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2147  00B1  00          	DEFB 0x00
2148  00B2              	SECTION code_compiler
2149  07BA              ;	---------------------------------
2150  07BA              ; Function game_bonus_summary_player
2151  07BA              ; ---------------------------------
2152  07BA              _game_bonus_summary_player:
2153  07BA  CD 00 00    	call	___sdcc_enter_ix
2154  07BD  F5          	push	af
2155  07BE  3B          	dec	sp
2156  07BF  DD 75 FF    	ld	(ix-1),l
2157  07C2  76          	halt
2158  07C3  DD 7E FF    	ld	a,(ix-1)
2159  07C6  B7          	or	a, a
2160  07C7  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2161  07C9  21 00 00    	ld	hl,_s_lin1
2162  07CC  36 06       	ld	(hl),0x06
2163  07CE  21 B2 00    	ld	hl,___str_22
2164  07D1  E5          	push	hl
2165  07D2  21 06 07    	ld	hl,0x0706
2166  07D5  E5          	push	hl
2167  07D6  CD 00 00    	call	_zx_print_str
2168  07D9  3A 00 00    	ld	a,(_s_lin1)
2169  07DC  07          	rlca
2170  07DD  07          	rlca
2171  07DE  07          	rlca
2172  07DF  E6 F8       	and	a,0xf8
2173  07E1  47          	ld	b,a
2174  07E2  04          	inc	b
2175  07E3  04          	inc	b
2176  07E4  04          	inc	b
2177  07E5  04          	inc	b
2178  07E6  3E 04       	ld	a,0x04
2179  07E8  48          	ld	c,b
2180  07E9  47          	ld	b,a
2181  07EA  C5          	push	bc
2182  07EB  3E 03       	ld	a,0x03
2183  07ED  F5          	push	af
2184  07EE  33          	inc	sp
2185  07EF  CD 00 00    	call	_NIRVANAP_drawT_callee
2186  07F2  21 00 00    	ld	hl,_index_player
2187  07F5  36 00       	ld	(hl),0x00
2188  07F7  18 2E       	jr	l_game_bonus_summary_player_00103
2189  07F9              l_game_bonus_summary_player_00102:
2190  07F9  21 00 00    	ld	hl,_s_lin1
2191  07FC  36 0C       	ld	(hl),0x0c
2192  07FE  21 B9 00    	ld	hl,___str_23
2193  0801  E5          	push	hl
2194  0802  21 0C 07    	ld	hl,0x070c
2195  0805  E5          	push	hl
2196  0806  CD 00 00    	call	_zx_print_str
2197  0809  3A 00 00    	ld	a,(_s_lin1)
2198  080C  07          	rlca
2199  080D  07          	rlca
2200  080E  07          	rlca
2201  080F  E6 F8       	and	a,0xf8
2202  0811  47          	ld	b,a
2203  0812  04          	inc	b
2204  0813  04          	inc	b
2205  0814  04          	inc	b
2206  0815  04          	inc	b
2207  0816  3E 04       	ld	a,0x04
2208  0818  48          	ld	c,b
2209  0819  47          	ld	b,a
2210  081A  C5          	push	bc
2211  081B  3E 1B       	ld	a,0x1b
2212  081D  F5          	push	af
2213  081E  33          	inc	sp
2214  081F  CD 00 00    	call	_NIRVANAP_drawT_callee
2215  0822  21 00 00    	ld	hl,_index_player
2216  0825  36 01       	ld	(hl),0x01
2217  0827              l_game_bonus_summary_player_00103:
2218  0827  3A 00 00    	ld	a,(_s_lin1)
2219  082A  07          	rlca
2220  082B  07          	rlca
2221  082C  07          	rlca
2222  082D  E6 F8       	and	a,0xf8
2223  082F  C6 08       	add	a,0x08
2224  0831  F5          	push	af
2225  0832  33          	inc	sp
2226  0833  21 07 1F    	ld	hl,0x1f07
2227  0836  E5          	push	hl
2228  0837  CD 09 0D    	call	_game_paint_attrib_lin
2229  083A  F1          	pop	af
2230  083B  33          	inc	sp
2231  083C  21 00 00    	ld	hl,_tmp_uc
2232  083F  36 00       	ld	(hl),0x00
2233  0841  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2234  0843  DD 86 FF    	add	a,(ix-1)
2235  0846  DD 77 FD    	ld	(ix-3),a
2236  0849  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2237  084B  CE 00       	adc	a,0x00
2238  084D  DD 77 FE    	ld	(ix-2),a
2239  0850              l_game_bonus_summary_player_00107:
2240  0850  E1          	pop	hl
2241  0851  4E          	ld	c,(hl)
2242  0852  3A 00 00    	ld	a,(_tmp_uc)
2243  0855  E5          	push	hl
2244  0856  91          	sub	a, c
2245  0857  30 53       	jr	NC,l_game_bonus_summary_player_00109
2246  0859  3A 00 00    	ld	a,(_s_lin1)
2247  085C  07          	rlca
2248  085D  07          	rlca
2249  085E  07          	rlca
2250  085F  E6 F8       	and	a,0xf8
2251  0861  4F          	ld	c,a
2252  0862  3A 00 00    	ld	a,(_tmp_uc)
2253  0865  D6 03       	sub	a,0x03
2254  0867  30 08       	jr	NC,l_game_bonus_summary_player_00105
2255  0869  79          	ld	a,c
2256  086A  C6 F8       	add	a,0xf8
2257  086C  32 00 00    	ld	(_s_lin0),a
2258  086F  18 06       	jr	l_game_bonus_summary_player_00106
2259  0871              l_game_bonus_summary_player_00105:
2260  0871  79          	ld	a,c
2261  0872  C6 08       	add	a,0x08
2262  0874  32 00 00    	ld	(_s_lin0),a
2263  0877              l_game_bonus_summary_player_00106:
2264  0877  76          	halt
2265  0878  2A 00 00    	ld	hl,(_tmp_uc)
2266  087B  26 03       	ld	h,0x03
2267  087D  E5          	push	hl
2268  087E  CD 00 00    	call	__moduchar_callee
2269  0881  7D          	ld	a,l
2270  0882  87          	add	a, a
2271  0883  C6 0E       	add	a,0x0e
2272  0885  F5          	push	af
2273  0886  33          	inc	sp
2274  0887  3A 00 00    	ld	a,(_s_lin0)
2275  088A  57          	ld	d,a
2276  088B  1E B9       	ld	e,0xb9
2277  088D  D5          	push	de
2278  088E  CD 00 00    	call	_NIRVANAP_drawT_callee
2279  0891  21 50 00    	ld	hl,0x0050
2280  0894  CD 00 00    	call	_player_score_add
2281  0897  21 00 00    	ld	hl,_tmp_uc
2282  089A  34          	inc	(hl)
2283  089B  21 00 00    	ld	hl,_ay_effect_09
2284  089E  CD 00 00    	call	_ay_fx_play
2285  08A1  CD 00 00    	call	_sound_coin
2286  08A4  21 32 00    	ld	hl,0x0032
2287  08A7  CD 00 00    	call	_z80_delay_ms_fastcall
2288  08AA  18 A4       	jr	l_game_bonus_summary_player_00107
2289  08AC              l_game_bonus_summary_player_00109:
2290  08AC  21 BF 00    	ld	hl,___str_24
2291  08AF  E5          	push	hl
2292  08B0  2A 00 00    	ld	hl,(_s_lin1)
2293  08B3  26 16       	ld	h,0x16
2294  08B5  E5          	push	hl
2295  08B6  CD 00 00    	call	_zx_print_str
2296  08B9  DD F9       	ld	sp, ix
2297  08BB  DD E1       	pop	ix
2298  08BD  C9          	ret
2299  08BE              	SECTION rodata_compiler
2300  00B2              ___str_22:
2301  00B2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2302  00B8  00          	DEFB 0x00
2303  00B9              	SECTION rodata_compiler
2304  00B9              ___str_23:
2305  00B9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2306  00BE  00          	DEFB 0x00
2307  00BF              	SECTION rodata_compiler
2308  00BF              ___str_24:
2309  00BF  58 20 38 30 30 
                        	DEFM "X 800"
2310  00C4  00          	DEFB 0x00
2311  00C5              	SECTION code_compiler
2312  08BE              ;	---------------------------------
2313  08BE              ; Function game_kill_all_sprites
2314  08BE              ; ---------------------------------
2315  08BE              _game_kill_all_sprites:
2316  08BE  21 00 00    	ld	hl,_sprite
2317  08C1  36 00       	ld	(hl),0x00
2318  08C3              l_game_kill_all_sprites_00102:
2319  08C3  2A 00 00    	ld	hl,(_sprite)
2320  08C6  CD 00 00    	call	_spr_destroy
2321  08C9  21 00 00    	ld	hl,_sprite
2322  08CC  7E          	ld	a,(hl)
2323  08CD  3C          	inc	a
2324  08CE  77          	ld	(hl),a
2325  08CF  D6 08       	sub	a,0x08
2326  08D1  38 F0       	jr	C,l_game_kill_all_sprites_00102
2327  08D3  C9          	ret
2328  08D4              	SECTION code_compiler
2329  08D4              ;	---------------------------------
2330  08D4              ; Function game_check_maze
2331  08D4              ; ---------------------------------
2332  08D4              _game_check_maze:
2333  08D4  4D          	ld	c,l
2334  08D5  44          	ld	b,h
2335  08D6  21 00 00    	ld	hl,_lvl_1
2336  08D9  09          	add	hl,bc
2337  08DA  7E          	ld	a, (hl)
2338  08DB  D6 10       	sub	a,0x10
2339  08DD  30 0A       	jr	NC,l_game_check_maze_00103
2340  08DF  03          	inc	bc
2341  08E0  21 00 00    	ld	hl,_lvl_1
2342  08E3  09          	add	hl,bc
2343  08E4  7E          	ld	a, (hl)
2344  08E5  D6 10       	sub	a,0x10
2345  08E7  38 04       	jr	C,l_game_check_maze_00104
2346  08E9              l_game_check_maze_00103:
2347  08E9  2E 00       	ld	l,0x00
2348  08EB  18 02       	jr	l_game_check_maze_00105
2349  08ED              l_game_check_maze_00104:
2350  08ED  2E 01       	ld	l,0x01
2351  08EF              l_game_check_maze_00105:
2352  08EF  C9          	ret
2353  08F0              	SECTION code_compiler
2354  08F0              ;	---------------------------------
2355  08F0              ; Function game_enemy_add
2356  08F0              ; ---------------------------------
2357  08F0              _game_enemy_add:
2358  08F0  3A 00 00    	ld	a,(_game_type)
2359  08F3  D6 02       	sub	a,0x02
2360  08F5  20 05       	jr	NZ,l_game_enemy_add_00106
2361  08F7  CD 5F 0A    	call	_game_enemy_rnd
2362  08FA  18 21       	jr	l_game_enemy_add_00107
2363  08FC              l_game_enemy_add_00106:
2364  08FC  3A 00 00    	ld	a,(_spr_count)
2365  08FF  D6 06       	sub	a,0x06
2366  0901  30 1A       	jr	NC,l_game_enemy_add_00107
2367  0903  21 64 00    	ld	hl,0x0064
2368  0906  E5          	push	hl
2369  0907  2A 00 00    	ld	hl,(_entry_time)
2370  090A  E5          	push	hl
2371  090B  CD 18 1A    	call	_game_check_time
2372  090E  F1          	pop	af
2373  090F  F1          	pop	af
2374  0910  7D          	ld	a,l
2375  0911  B7          	or	a, a
2376  0912  28 09       	jr	Z,l_game_enemy_add_00107
2377  0914  3A 00 00    	ld	a,(_phase_left)
2378  0917  B7          	or	a, a
2379  0918  28 03       	jr	Z,l_game_enemy_add_00107
2380  091A  CD 20 09    	call	_game_enemy_quota
2381  091D              l_game_enemy_add_00107:
2382  091D  2E 00       	ld	l,0x00
2383  091F  C9          	ret
2384  0920              	SECTION code_compiler
2385  0920              ;	---------------------------------
2386  0920              ; Function game_enemy_quota
2387  0920              ; ---------------------------------
2388  0920              _game_enemy_quota:
2389  0920  3A 00 00    	ld	a,(_phase_left)
2390  0923  B7          	or	a, a
2391  0924  CA CB 09    	jp	Z,l_game_enemy_quota_00128
2392  0927  CD 00 00    	call	_rand
2393  092A  7D          	ld	a, l
2394  092B  E6 03       	and	a,0x03
2395  092D  32 00 00    	ld	(_tmp),a
2396  0930  3A 00 00    	ld	a,(_phase_pop)
2397  0933  B7          	or	a, a
2398  0934  28 06       	jr	Z,l_game_enemy_quota_00101
2399  0936  3A 00 00    	ld	a,(_phase_left)
2400  0939  3D          	dec	a
2401  093A  20 05       	jr	NZ,l_game_enemy_quota_00102
2402  093C              l_game_enemy_quota_00101:
2403  093C  21 00 00    	ld	hl,_tmp
2404  093F  36 00       	ld	(hl),0x00
2405  0941              l_game_enemy_quota_00102:
2406  0941  21 00 00    	ld	hl,_tmp_sc
2407  0944  36 00       	ld	(hl),0x00
2408  0946              l_game_enemy_quota_00124:
2409  0946  3A 00 00    	ld	a,(_tmp_sc)
2410  0949  EE 80       	xor	a,0x80
2411  094B  D6 83       	sub	a,0x83
2412  094D  D2 CB 09    	jp	NC,l_game_enemy_quota_00128
2413  0950  21 00 00    	ld	hl,_tmp
2414  0953  7E          	ld	a,(hl)
2415  0954  D6 03       	sub	a,0x03
2416  0956  30 73       	jr	NC,l_game_enemy_quota_00128
2417  0958  3E 00       	ld	a,+((_phase_quota) & 0xFF)
2418  095A  86          	add	a, (hl)
2419  095B  4F          	ld	c,a
2420  095C  3E 00       	ld	a,+((_phase_quota) / 256)
2421  095E  CE 00       	adc	a,0x00
2422  0960  47          	ld	b,a
2423  0961  0A          	ld	a,(bc)
2424  0962  B7          	or	a, a
2425  0963  28 54       	jr	Z,l_game_enemy_quota_00120
2426  0965  C6 FF       	add	a,0xff
2427  0967  02          	ld	(bc),a
2428  0968  3A 00 00    	ld	a,(_phase_angry)
2429  096B  B7          	or	a, a
2430  096C  28 24       	jr	Z,l_game_enemy_quota_00117
2431  096E  3A 00 00    	ld	a,(_tmp)
2432  0971  B7          	or	a, a
2433  0972  20 05       	jr	NZ,l_game_enemy_quota_00105
2434  0974  2E 03       	ld	l,0x03
2435  0976  CD 8F 0A    	call	_game_enemy_add1
2436  0979              l_game_enemy_quota_00105:
2437  0979  3A 00 00    	ld	a,(_tmp)
2438  097C  3D          	dec	a
2439  097D  20 05       	jr	NZ,l_game_enemy_quota_00107
2440  097F  2E 06       	ld	l,0x06
2441  0981  CD 8F 0A    	call	_game_enemy_add1
2442  0984              l_game_enemy_quota_00107:
2443  0984  3A 00 00    	ld	a,(_tmp)
2444  0987  D6 02       	sub	a,0x02
2445  0989  20 29       	jr	NZ,l_game_enemy_quota_00118
2446  098B  2E 09       	ld	l,0x09
2447  098D  CD 8F 0A    	call	_game_enemy_add1
2448  0990  18 22       	jr	l_game_enemy_quota_00118
2449  0992              l_game_enemy_quota_00117:
2450  0992  3A 00 00    	ld	a,(_tmp)
2451  0995  B7          	or	a, a
2452  0996  20 05       	jr	NZ,l_game_enemy_quota_00111
2453  0998  2E 01       	ld	l,0x01
2454  099A  CD 8F 0A    	call	_game_enemy_add1
2455  099D              l_game_enemy_quota_00111:
2456  099D  3A 00 00    	ld	a,(_tmp)
2457  09A0  3D          	dec	a
2458  09A1  20 05       	jr	NZ,l_game_enemy_quota_00113
2459  09A3  2E 04       	ld	l,0x04
2460  09A5  CD 8F 0A    	call	_game_enemy_add1
2461  09A8              l_game_enemy_quota_00113:
2462  09A8  3A 00 00    	ld	a,(_tmp)
2463  09AB  D6 02       	sub	a,0x02
2464  09AD  20 05       	jr	NZ,l_game_enemy_quota_00118
2465  09AF  2E 09       	ld	l,0x09
2466  09B1  CD 8F 0A    	call	_game_enemy_add1
2467  09B4              l_game_enemy_quota_00118:
2468  09B4  2E 00       	ld	l,0x00
2469  09B6  C3 5E 0A    	jp	l_game_enemy_quota_00144
2470  09B9              l_game_enemy_quota_00120:
2471  09B9  21 00 00    	ld	hl,_tmp
2472  09BC  34          	inc	(hl)
2473  09BD  3E 02       	ld	a,0x02
2474  09BF  96          	sub	a, (hl)
2475  09C0  30 02       	jr	NC,l_game_enemy_quota_00122
2476  09C2  36 00       	ld	(hl),0x00
2477  09C4              l_game_enemy_quota_00122:
2478  09C4  21 00 00    	ld	hl,_tmp_sc
2479  09C7  34          	inc	(hl)
2480  09C8  C3 46 09    	jp	l_game_enemy_quota_00124
2481  09CB              l_game_enemy_quota_00128:
2482  09CB  3A 00 00    	ld	a,(_phase_coins)
2483  09CE  B7          	or	a, a
2484  09CF  28 0A       	jr	Z,l_game_enemy_quota_00130
2485  09D1  2E 08       	ld	l,0x08
2486  09D3  CD 8F 0A    	call	_game_enemy_add1
2487  09D6  2E 00       	ld	l,0x00
2488  09D8  C3 5E 0A    	jp	l_game_enemy_quota_00144
2489  09DB              l_game_enemy_quota_00130:
2490  09DB  CD 00 00    	call	_rand
2491  09DE  7D          	ld	a,l
2492  09DF  E6 03       	and	a,0x03
2493  09E1  44          	ld	b,h
2494  09E2  0E 00       	ld	c,0x00
2495  09E4  CB 79       	bit	7,c
2496  09E6  20 74       	jr	NZ,l_game_enemy_quota_00143
2497  09E8  5F          	ld	e,a
2498  09E9  3E 03       	ld	a,0x03
2499  09EB  BB          	cp	a, e
2500  09EC  3E 00       	ld	a,0x00
2501  09EE  99          	sbc	a, c
2502  09EF  E2 F4 09    	jp	PO, l_game_enemy_quota_00240
2503  09F2  EE 80       	xor	a,0x80
2504  09F4              l_game_enemy_quota_00240:
2505  09F4  FA 5C 0A    	jp	M,l_game_enemy_quota_00143
2506  09F7  16 00       	ld	d,0x00
2507  09F9  21 FF 09    	ld	hl,l_game_enemy_quota_00241
2508  09FC  19          	add	hl,de
2509  09FD  19          	add	hl,de
2510  09FE  E9          	jp	(hl)
2511  09FF              l_game_enemy_quota_00241:
2512  09FF  18 06       	jr	l_game_enemy_quota_00131
2513  0A01  18 13       	jr	l_game_enemy_quota_00134
2514  0A03  18 29       	jr	l_game_enemy_quota_00137
2515  0A05  18 3F       	jr	l_game_enemy_quota_00140
2516  0A07              l_game_enemy_quota_00131:
2517  0A07  3E 07       	ld	a,0x07
2518  0A09  21 00 00    	ld	hl,_phase_curr
2519  0A0C  96          	sub	a, (hl)
2520  0A0D  30 4D       	jr	NC,l_game_enemy_quota_00143
2521  0A0F  2E 07       	ld	l,0x07
2522  0A11  CD 8F 0A    	call	_game_enemy_add1
2523  0A14  18 46       	jr	l_game_enemy_quota_00143
2524  0A16              l_game_enemy_quota_00134:
2525  0A16  2A 00 00    	ld	hl,(_game_time_fireball_start)
2526  0A19  E5          	push	hl
2527  0A1A  21 00 00    	ld	hl,0x0000
2528  0A1D  E5          	push	hl
2529  0A1E  CD 18 1A    	call	_game_check_time
2530  0A21  F1          	pop	af
2531  0A22  F1          	pop	af
2532  0A23  7D          	ld	a,l
2533  0A24  B7          	or	a, a
2534  0A25  28 35       	jr	Z,l_game_enemy_quota_00143
2535  0A27  2E 0B       	ld	l,0x0b
2536  0A29  CD 8F 0A    	call	_game_enemy_add1
2537  0A2C  18 2E       	jr	l_game_enemy_quota_00143
2538  0A2E              l_game_enemy_quota_00137:
2539  0A2E  2A 00 00    	ld	hl,(_game_time_fireball_start)
2540  0A31  E5          	push	hl
2541  0A32  21 00 00    	ld	hl,0x0000
2542  0A35  E5          	push	hl
2543  0A36  CD 18 1A    	call	_game_check_time
2544  0A39  F1          	pop	af
2545  0A3A  F1          	pop	af
2546  0A3B  7D          	ld	a,l
2547  0A3C  B7          	or	a, a
2548  0A3D  28 1D       	jr	Z,l_game_enemy_quota_00143
2549  0A3F  2E 0B       	ld	l,0x0b
2550  0A41  CD 8F 0A    	call	_game_enemy_add1
2551  0A44  18 16       	jr	l_game_enemy_quota_00143
2552  0A46              l_game_enemy_quota_00140:
2553  0A46  2A 00 00    	ld	hl,(_game_time_fireball_start)
2554  0A49  E5          	push	hl
2555  0A4A  21 00 00    	ld	hl,0x0000
2556  0A4D  E5          	push	hl
2557  0A4E  CD 18 1A    	call	_game_check_time
2558  0A51  F1          	pop	af
2559  0A52  F1          	pop	af
2560  0A53  7D          	ld	a,l
2561  0A54  B7          	or	a, a
2562  0A55  28 05       	jr	Z,l_game_enemy_quota_00143
2563  0A57  2E 0A       	ld	l,0x0a
2564  0A59  CD 8F 0A    	call	_game_enemy_add1
2565  0A5C              l_game_enemy_quota_00143:
2566  0A5C  2E 00       	ld	l,0x00
2567  0A5E              l_game_enemy_quota_00144:
2568  0A5E  C9          	ret
2569  0A5F              	SECTION code_compiler
2570  0A5F              ;	---------------------------------
2571  0A5F              ; Function game_enemy_rnd
2572  0A5F              ; ---------------------------------
2573  0A5F              _game_enemy_rnd:
2574  0A5F  3A 00 00    	ld	a,(_spr_count)
2575  0A62  D6 06       	sub	a,0x06
2576  0A64  30 26       	jr	NC,l_game_enemy_rnd_00102
2577  0A66  21 64 00    	ld	hl,0x0064
2578  0A69  E5          	push	hl
2579  0A6A  2A 00 00    	ld	hl,(_entry_time)
2580  0A6D  E5          	push	hl
2581  0A6E  CD 18 1A    	call	_game_check_time
2582  0A71  F1          	pop	af
2583  0A72  F1          	pop	af
2584  0A73  7D          	ld	a,l
2585  0A74  B7          	or	a, a
2586  0A75  28 15       	jr	Z,l_game_enemy_rnd_00102
2587  0A77  2A 00 00    	ld	hl,(_curr_time)
2588  0A7A  22 00 00    	ld	(_entry_time),hl
2589  0A7D  CD 00 00    	call	_rand
2590  0A80  01 0B 00    	ld	bc,0x000b
2591  0A83  C5          	push	bc
2592  0A84  E5          	push	hl
2593  0A85  CD 00 00    	call	__modsint_callee
2594  0A88  2C          	inc	l
2595  0A89  CD 8F 0A    	call	_game_enemy_add1
2596  0A8C              l_game_enemy_rnd_00102:
2597  0A8C  2E 00       	ld	l,0x00
2598  0A8E  C9          	ret
2599  0A8F              	SECTION code_compiler
2600  0A8F              ;	---------------------------------
2601  0A8F              ; Function game_enemy_add1
2602  0A8F              ; ---------------------------------
2603  0A8F              _game_enemy_add1:
2604  0A8F  CD 00 00    	call	___sdcc_enter_ix
2605  0A92  F5          	push	af
2606  0A93  45          	ld	b,l
2607  0A94  78          	ld	a,b
2608  0A95  D6 0A       	sub	a,0x0a
2609  0A97  20 04       	jr	NZ,l_game_enemy_add1_00185
2610  0A99  3E 01       	ld	a,0x01
2611  0A9B  18 01       	jr	l_game_enemy_add1_00186
2612  0A9D              l_game_enemy_add1_00185:
2613  0A9D  AF          	xor	a,a
2614  0A9E              l_game_enemy_add1_00186:
2615  0A9E  4F          	ld	c,a
2616  0A9F  B7          	or	a, a
2617  0AA0  28 0B       	jr	Z,l_game_enemy_add1_00105
2618  0AA2  C5          	push	bc
2619  0AA3  2E 0A       	ld	l,0x0a
2620  0AA5  CD D1 0B    	call	_game_enemy_add_get_index
2621  0AA8  C1          	pop	bc
2622  0AA9  5D          	ld	e,l
2623  0AAA  1C          	inc	e
2624  0AAB  20 2B       	jr	NZ,l_game_enemy_add1_00101
2625  0AAD              l_game_enemy_add1_00105:
2626  0AAD  78          	ld	a,b
2627  0AAE  D6 0B       	sub	a,0x0b
2628  0AB0  20 04       	jr	NZ,l_game_enemy_add1_00189
2629  0AB2  3E 01       	ld	a,0x01
2630  0AB4  18 01       	jr	l_game_enemy_add1_00190
2631  0AB6              l_game_enemy_add1_00189:
2632  0AB6  AF          	xor	a,a
2633  0AB7              l_game_enemy_add1_00190:
2634  0AB7  DD 77 FF    	ld	(ix-1),a
2635  0ABA  B7          	or	a, a
2636  0ABB  28 0B       	jr	Z,l_game_enemy_add1_00107
2637  0ABD  C5          	push	bc
2638  0ABE  2E 0B       	ld	l,0x0b
2639  0AC0  CD D1 0B    	call	_game_enemy_add_get_index
2640  0AC3  C1          	pop	bc
2641  0AC4  5D          	ld	e,l
2642  0AC5  1C          	inc	e
2643  0AC6  20 10       	jr	NZ,l_game_enemy_add1_00101
2644  0AC8              l_game_enemy_add1_00107:
2645  0AC8  78          	ld	a,b
2646  0AC9  D6 07       	sub	a,0x07
2647  0ACB  20 10       	jr	NZ,l_game_enemy_add1_00102
2648  0ACD  C5          	push	bc
2649  0ACE  2E 07       	ld	l,0x07
2650  0AD0  CD D1 0B    	call	_game_enemy_add_get_index
2651  0AD3  C1          	pop	bc
2652  0AD4  5D          	ld	e,l
2653  0AD5  1C          	inc	e
2654  0AD6  28 05       	jr	Z,l_game_enemy_add1_00102
2655  0AD8              l_game_enemy_add1_00101:
2656  0AD8  2E 00       	ld	l,0x00
2657  0ADA  C3 CD 0B    	jp	l_game_enemy_add1_00131
2658  0ADD              l_game_enemy_add1_00102:
2659  0ADD  21 00 00    	ld	hl,_phase_pop
2660  0AE0  34          	inc	(hl)
2661  0AE1  C5          	push	bc
2662  0AE2  CD 00 00    	call	_sound_enter_enemy
2663  0AE5  2E 00       	ld	l,0x00
2664  0AE7  CD D1 0B    	call	_game_enemy_add_get_index
2665  0AEA  C1          	pop	bc
2666  0AEB  7D          	ld	a,l
2667  0AEC  32 00 00    	ld	(_tmp),a
2668  0AEF  C5          	push	bc
2669  0AF0  CD 00 00    	call	_rand
2670  0AF3  C1          	pop	bc
2671  0AF4  7D          	ld	a, l
2672  0AF5  E6 01       	and	a,0x01
2673  0AF7  32 00 00    	ld	(_tmp0),a
2674  0AFA  3D          	dec	a
2675  0AFB  20 1C       	jr	NZ,l_game_enemy_add1_00113
2676  0AFD  21 00 00    	ld	hl,_s_lin0
2677  0B00  36 10       	ld	(hl),0x10
2678  0B02  21 00 00    	ld	hl,_s_col0
2679  0B05  36 04       	ld	(hl),0x04
2680  0B07  21 00 00    	ld	hl,_s_col1
2681  0B0A  36 02       	ld	(hl),0x02
2682  0B0C  79          	ld	a,c
2683  0B0D  B7          	or	a, a
2684  0B0E  28 02       	jr	Z,l_game_enemy_add1_00109
2685  0B10  36 03       	ld	(hl),0x03
2686  0B12              l_game_enemy_add1_00109:
2687  0B12  21 00 00    	ld	hl,_tmp1
2688  0B15  36 01       	ld	(hl),0x01
2689  0B17  18 1A       	jr	l_game_enemy_add1_00114
2690  0B19              l_game_enemy_add1_00113:
2691  0B19  21 00 00    	ld	hl,_s_lin0
2692  0B1C  36 10       	ld	(hl),0x10
2693  0B1E  21 00 00    	ld	hl,_s_col0
2694  0B21  36 1A       	ld	(hl),0x1a
2695  0B23  21 00 00    	ld	hl,_s_col1
2696  0B26  36 1E       	ld	(hl),0x1e
2697  0B28  79          	ld	a,c
2698  0B29  B7          	or	a, a
2699  0B2A  28 02       	jr	Z,l_game_enemy_add1_00111
2700  0B2C  36 1C       	ld	(hl),0x1c
2701  0B2E              l_game_enemy_add1_00111:
2702  0B2E  21 00 00    	ld	hl,_tmp1
2703  0B31  36 FF       	ld	(hl),0xff
2704  0B33              l_game_enemy_add1_00114:
2705  0B33  78          	ld	a,b
2706  0B34  D6 08       	sub	a,0x08
2707  0B36  20 04       	jr	NZ,l_game_enemy_add1_00198
2708  0B38  3E 01       	ld	a,0x01
2709  0B3A  18 01       	jr	l_game_enemy_add1_00199
2710  0B3C              l_game_enemy_add1_00198:
2711  0B3C  AF          	xor	a,a
2712  0B3D              l_game_enemy_add1_00199:
2713  0B3D  DD 77 FE    	ld	(ix-2),a
2714  0B40  B7          	or	a, a
2715  0B41  28 04       	jr	Z,l_game_enemy_add1_00116
2716  0B43  21 00 00    	ld	hl,_phase_coins
2717  0B46  35          	dec	(hl)
2718  0B47              l_game_enemy_add1_00116:
2719  0B47  21 00 00    	ld	hl,_tmp_uc
2720  0B4A  36 00       	ld	(hl),0x00
2721  0B4C  DD 7E FF    	ld	a,(ix-1)
2722  0B4F  B7          	or	a,a
2723  0B50  20 03       	jr	NZ,l_game_enemy_add1_00123
2724  0B52  B1          	or	a,c
2725  0B53  28 35       	jr	Z,l_game_enemy_add1_00124
2726  0B55              l_game_enemy_add1_00123:
2727  0B55  C5          	push	bc
2728  0B56  CD 00 00    	call	_rand
2729  0B59  11 03 00    	ld	de,0x0003
2730  0B5C  D5          	push	de
2731  0B5D  E5          	push	hl
2732  0B5E  CD 00 00    	call	__modsint_callee
2733  0B61  C1          	pop	bc
2734  0B62  5D          	ld	e,l
2735  0B63  21 00 00    	ld	hl,_tmp_uc
2736  0B66  73          	ld	(hl),e
2737  0B67  7B          	ld	a,e
2738  0B68  B7          	or	a, a
2739  0B69  20 02       	jr	NZ,l_game_enemy_add1_00118
2740  0B6B  36 10       	ld	(hl),0x10
2741  0B6D              l_game_enemy_add1_00118:
2742  0B6D  3A 00 00    	ld	a,(_tmp_uc)
2743  0B70  3D          	dec	a
2744  0B71  20 05       	jr	NZ,l_game_enemy_add1_00120
2745  0B73  21 00 00    	ld	hl,_tmp_uc
2746  0B76  36 38       	ld	(hl),0x38
2747  0B78              l_game_enemy_add1_00120:
2748  0B78  3A 00 00    	ld	a,(_tmp_uc)
2749  0B7B  D6 02       	sub	a,0x02
2750  0B7D  20 05       	jr	NZ,l_game_enemy_add1_00122
2751  0B7F  21 00 00    	ld	hl,_tmp_uc
2752  0B82  36 84       	ld	(hl),0x84
2753  0B84              l_game_enemy_add1_00122:
2754  0B84  3A 00 00    	ld	a,(_s_col1)
2755  0B87  32 00 00    	ld	(_s_col0),a
2756  0B8A              l_game_enemy_add1_00124:
2757  0B8A  CD 00 00    	call	_ay_is_playing
2758  0B8D  7D          	ld	a,l
2759  0B8E  D6 02       	sub	a,0x02
2760  0B90  30 14       	jr	NC,l_game_enemy_add1_00130
2761  0B92  DD 7E FE    	ld	a,(ix-2)
2762  0B95  B7          	or	a, a
2763  0B96  20 08       	jr	NZ,l_game_enemy_add1_00127
2764  0B98  21 00 00    	ld	hl,_ay_effect_04
2765  0B9B  CD 00 00    	call	_ay_fx_play
2766  0B9E  18 06       	jr	l_game_enemy_add1_00130
2767  0BA0              l_game_enemy_add1_00127:
2768  0BA0  21 00 00    	ld	hl,_ay_effect_07
2769  0BA3  CD 00 00    	call	_ay_fx_play
2770  0BA6              l_game_enemy_add1_00130:
2771  0BA6  2A 00 00    	ld	hl,(_curr_time)
2772  0BA9  22 00 00    	ld	(_entry_time),hl
2773  0BAC  3A 00 00    	ld	a,(_s_lin0)
2774  0BAF  21 00 00    	ld	hl,_tmp_uc
2775  0BB2  86          	add	a, (hl)
2776  0BB3  57          	ld	d,a
2777  0BB4  3A 00 00    	ld	a,(_tmp1)
2778  0BB7  48          	ld	c,b
2779  0BB8  47          	ld	b,a
2780  0BB9  3A 00 00    	ld	a,(_s_col0)
2781  0BBC  C5          	push	bc
2782  0BBD  5A          	ld	e,d
2783  0BBE  57          	ld	d,a
2784  0BBF  3A 00 00    	ld	a,(_tmp)
2785  0BC2  D5          	push	de
2786  0BC3  F5          	push	af
2787  0BC4  33          	inc	sp
2788  0BC5  CD 00 00    	call	_enemy_init
2789  0BC8  F1          	pop	af
2790  0BC9  F1          	pop	af
2791  0BCA  33          	inc	sp
2792  0BCB  2E 00       	ld	l,0x00
2793  0BCD              l_game_enemy_add1_00131:
2794  0BCD  F1          	pop	af
2795  0BCE  DD E1       	pop	ix
2796  0BD0  C9          	ret
2797  0BD1              	SECTION code_compiler
2798  0BD1              ;	---------------------------------
2799  0BD1              ; Function game_enemy_add_get_index
2800  0BD1              ; ---------------------------------
2801  0BD1              _game_enemy_add_get_index:
2802  0BD1  4D          	ld	c,l
2803  0BD2  21 00 00    	ld	hl,_enemies
2804  0BD5  36 00       	ld	(hl),0x00
2805  0BD7              l_game_enemy_add_get_index_00104:
2806  0BD7  2A 00 00    	ld	hl,(_enemies)
2807  0BDA  26 00       	ld	h,0x00
2808  0BDC  11 00 00    	ld	de,_class
2809  0BDF  19          	add	hl,de
2810  0BE0  46          	ld	b, (hl)
2811  0BE1  79          	ld	a,c
2812  0BE2  90          	sub	a,b
2813  0BE3  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2814  0BE5  2A 00 00    	ld	hl,(_enemies)
2815  0BE8  18 0B       	jr	l_game_enemy_add_get_index_00106
2816  0BEA              l_game_enemy_add_get_index_00105:
2817  0BEA  21 00 00    	ld	hl,_enemies
2818  0BED  34          	inc	(hl)
2819  0BEE  3E 05       	ld	a,0x05
2820  0BF0  96          	sub	a, (hl)
2821  0BF1  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2822  0BF3  2E FF       	ld	l,0xff
2823  0BF5              l_game_enemy_add_get_index_00106:
2824  0BF5  C9          	ret
2825  0BF6              	SECTION code_compiler
2826  0BF6              ;	---------------------------------
2827  0BF6              ; Function game_freeze
2828  0BF6              ; ---------------------------------
2829  0BF6              _game_freeze:
2830  0BF6  CD 00 00    	call	___sdcc_enter_ix
2831  0BF9  DD 7E 05    	ld	a,(ix+5)
2832  0BFC  D6 1F       	sub	a,0x1f
2833  0BFE  30 5F       	jr	NC,l_game_freeze_00107
2834  0C00  21 00 00    	ld	hl,_tmp
2835  0C03  36 01       	ld	(hl),0x01
2836  0C05  DD 66 05    	ld	h,(ix+5)
2837  0C08  DD 6E 04    	ld	l,(ix+4)
2838  0C0B  E5          	push	hl
2839  0C0C  CD 00 00    	call	_game_calc_index
2840  0C0F  F1          	pop	af
2841  0C10  22 00 00    	ld	(_index1),hl
2842  0C13  01 00 00    	ld	bc,_lvl_1
2843  0C16  09          	add	hl,bc
2844  0C17  7E          	ld	a,(hl)
2845  0C18  D6 12       	sub	a,0x12
2846  0C1A  20 43       	jr	NZ,l_game_freeze_00107
2847  0C1C  36 14       	ld	(hl),0x14
2848  0C1E  76          	halt
2849  0C1F  DD 7E 05    	ld	a,(ix+5)
2850  0C22  F5          	push	af
2851  0C23  33          	inc	sp
2852  0C24  DD 56 04    	ld	d,(ix+4)
2853  0C27  1E 8B       	ld	e,0x8b
2854  0C29  D5          	push	de
2855  0C2A  CD 00 00    	call	_NIRVANAP_drawT_callee
2856  0C2D  ED 4B 00 00 	ld	bc,(_index1)
2857  0C31  03          	inc	bc
2858  0C32  21 00 00    	ld	hl,_lvl_1
2859  0C35  09          	add	hl,bc
2860  0C36  4E          	ld	c,(hl)
2861  0C37  DD 46 05    	ld	b,(ix+5)
2862  0C3A  04          	inc	b
2863  0C3B  79          	ld	a,c
2864  0C3C  B7          	or	a, a
2865  0C3D  20 0C       	jr	NZ,l_game_freeze_00102
2866  0C3F  C5          	push	bc
2867  0C40  DD 4E 04    	ld	c,(ix+4)
2868  0C43  C5          	push	bc
2869  0C44  AF          	xor	a, a
2870  0C45  F5          	push	af
2871  0C46  33          	inc	sp
2872  0C47  CD 00 00    	call	_NIRVANAP_fillT_callee
2873  0C4A  C1          	pop	bc
2874  0C4B              l_game_freeze_00102:
2875  0C4B  DD 4E 04    	ld	c,(ix+4)
2876  0C4E  C5          	push	bc
2877  0C4F  CD F6 0B    	call	_game_freeze
2878  0C52  F1          	pop	af
2879  0C53  DD 46 05    	ld	b,(ix+5)
2880  0C56  05          	dec	b
2881  0C57  DD 4E 04    	ld	c,(ix+4)
2882  0C5A  C5          	push	bc
2883  0C5B  CD F6 0B    	call	_game_freeze
2884  0C5E  F1          	pop	af
2885  0C5F              l_game_freeze_00107:
2886  0C5F  DD E1       	pop	ix
2887  0C61  C9          	ret
2888  0C62              	SECTION code_compiler
2889  0C62              ;	---------------------------------
2890  0C62              ; Function game_unfreeze_all
2891  0C62              ; ---------------------------------
2892  0C62              _game_unfreeze_all:
2893  0C62  21 C0 00    	ld	hl,0x00c0
2894  0C65  22 00 00    	ld	(_index1),hl
2895  0C68              l_game_unfreeze_all_00104:
2896  0C68  01 00 00    	ld	bc,_lvl_1
2897  0C6B  2A 00 00    	ld	hl,(_index1)
2898  0C6E  09          	add	hl,bc
2899  0C6F  7E          	ld	a,(hl)
2900  0C70  D6 14       	sub	a,0x14
2901  0C72  20 02       	jr	NZ,l_game_unfreeze_all_00105
2902  0C74  36 12       	ld	(hl),0x12
2903  0C76              l_game_unfreeze_all_00105:
2904  0C76  21 00 00    	ld	hl,_index1
2905  0C79  34          	inc	(hl)
2906  0C7A  20 02       	jr	NZ,l_game_unfreeze_all_00118
2907  0C7C  23          	inc	hl
2908  0C7D  34          	inc	(hl)
2909  0C7E              l_game_unfreeze_all_00118:
2910  0C7E  3E 20       	ld	a,0x20
2911  0C80  21 00 00    	ld	hl,_index1
2912  0C83  BE          	cp	a, (hl)
2913  0C84  3E 02       	ld	a,0x02
2914  0C86  23          	inc	hl
2915  0C87  9E          	sbc	a, (hl)
2916  0C88  30 DE       	jr	NC,l_game_unfreeze_all_00104
2917  0C8A  C9          	ret
2918  0C8B              	SECTION code_compiler
2919  0C8B              ;	---------------------------------
2920  0C8B              ; Function game_freeze_all
2921  0C8B              ; ---------------------------------
2922  0C8B              _game_freeze_all:
2923  0C8B  21 C0 00    	ld	hl,0x00c0
2924  0C8E  22 00 00    	ld	(_index1),hl
2925  0C91              l_game_freeze_all_00104:
2926  0C91  01 00 00    	ld	bc,_lvl_1
2927  0C94  2A 00 00    	ld	hl,(_index1)
2928  0C97  09          	add	hl,bc
2929  0C98  7E          	ld	a,(hl)
2930  0C99  D6 12       	sub	a,0x12
2931  0C9B  20 02       	jr	NZ,l_game_freeze_all_00105
2932  0C9D  36 14       	ld	(hl),0x14
2933  0C9F              l_game_freeze_all_00105:
2934  0C9F  21 00 00    	ld	hl,_index1
2935  0CA2  34          	inc	(hl)
2936  0CA3  20 02       	jr	NZ,l_game_freeze_all_00118
2937  0CA5  23          	inc	hl
2938  0CA6  34          	inc	(hl)
2939  0CA7              l_game_freeze_all_00118:
2940  0CA7  3E 20       	ld	a,0x20
2941  0CA9  21 00 00    	ld	hl,_index1
2942  0CAC  BE          	cp	a, (hl)
2943  0CAD  3E 02       	ld	a,0x02
2944  0CAF  23          	inc	hl
2945  0CB0  9E          	sbc	a, (hl)
2946  0CB1  30 DE       	jr	NC,l_game_freeze_all_00104
2947  0CB3  C9          	ret
2948  0CB4              	SECTION code_compiler
2949  0CB4              ;	---------------------------------
2950  0CB4              ; Function game_print_score
2951  0CB4              ; ---------------------------------
2952  0CB4              _game_print_score:
2953  0CB4  21 00 00    	ld	hl,_screen_ink
2954  0CB7  36 07       	ld	(hl),0x07
2955  0CB9  21 00 00    	ld	hl,_screen_paper
2956  0CBC  36 00       	ld	(hl),0x00
2957  0CBE  2A 00 00    	ld	hl,(_player_score)
2958  0CC1  E5          	push	hl
2959  0CC2  21 00 03    	ld	hl,0x0300
2960  0CC5  E5          	push	hl
2961  0CC6  CD 00 00    	call	_zx_print_int
2962  0CC9  2A 00 00    	ld	hl,(_game_score_top)
2963  0CCC  E5          	push	hl
2964  0CCD  21 00 0E    	ld	hl,0x0e00
2965  0CD0  E5          	push	hl
2966  0CD1  CD 00 00    	call	_zx_print_int
2967  0CD4  3A 00 00    	ld	a,(_game_two_player)
2968  0CD7  B7          	or	a, a
2969  0CD8  C8          	ret	Z
2970  0CD9  2A 02 00    	ld	hl, (_player_score + 2)
2971  0CDC  E5          	push	hl
2972  0CDD  21 00 18    	ld	hl,0x1800
2973  0CE0  E5          	push	hl
2974  0CE1  CD 00 00    	call	_zx_print_int
2975  0CE4  C9          	ret
2976  0CE5              	SECTION code_compiler
2977  0CE5              ;	---------------------------------
2978  0CE5              ; Function game_paint_attrib
2979  0CE5              ; ---------------------------------
2980  0CE5              _game_paint_attrib:
2981  0CE5  7D          	ld	a,l
2982  0CE6  32 00 00    	ld	(_tmp0),a
2983  0CE9              l_game_paint_attrib_00103:
2984  0CE9  3E 13       	ld	a,0x13
2985  0CEB  21 00 00    	ld	hl,_tmp0
2986  0CEE  96          	sub	a, (hl)
2987  0CEF  D8          	ret	C
2988  0CF0  7E          	ld	a,(hl)
2989  0CF1  07          	rlca
2990  0CF2  07          	rlca
2991  0CF3  07          	rlca
2992  0CF4  E6 F8       	and	a,0xf8
2993  0CF6  C6 08       	add	a,0x08
2994  0CF8  F5          	push	af
2995  0CF9  33          	inc	sp
2996  0CFA  21 01 1F    	ld	hl,0x1f01
2997  0CFD  E5          	push	hl
2998  0CFE  CD 09 0D    	call	_game_paint_attrib_lin
2999  0D01  F1          	pop	af
3000  0D02  33          	inc	sp
3001  0D03  21 00 00    	ld	hl,_tmp0
3002  0D06  34          	inc	(hl)
3003  0D07  18 E0       	jr	l_game_paint_attrib_00103
3004  0D09              	SECTION code_compiler
3005  0D09              ;	---------------------------------
3006  0D09              ; Function game_paint_attrib_lin
3007  0D09              ; ---------------------------------
3008  0D09              _game_paint_attrib_lin:
3009  0D09  CD 00 00    	call	___sdcc_enter_ix
3010  0D0C  DD 7E 04    	ld	a,(ix+4)
3011  0D0F  32 00 00    	ld	(_tmp_uc),a
3012  0D12              l_game_paint_attrib_lin_00103:
3013  0D12  21 00 00    	ld	hl,_tmp_uc
3014  0D15  7E          	ld	a,(hl)
3015  0D16  DD 96 05    	sub	a,(ix+5)
3016  0D19  30 12       	jr	NC,l_game_paint_attrib_lin_00105
3017  0D1B  66          	ld	h,(hl)
3018  0D1C  DD 6E 06    	ld	l,(ix+6)
3019  0D1F  E5          	push	hl
3020  0D20  21 00 00    	ld	hl,_attrib
3021  0D23  E5          	push	hl
3022  0D24  CD 00 00    	call	_NIRVANAP_paintC_callee
3023  0D27  21 00 00    	ld	hl,_tmp_uc
3024  0D2A  34          	inc	(hl)
3025  0D2B  18 E5       	jr	l_game_paint_attrib_lin_00103
3026  0D2D              l_game_paint_attrib_lin_00105:
3027  0D2D  DD E1       	pop	ix
3028  0D2F  C9          	ret
3029  0D30              	SECTION code_compiler
3030  0D30              ;	---------------------------------
3031  0D30              ; Function game_paint_attrib_lin_h
3032  0D30              ; ---------------------------------
3033  0D30              _game_paint_attrib_lin_h:
3034  0D30  CD 00 00    	call	___sdcc_enter_ix
3035  0D33  DD 7E 04    	ld	a,(ix+4)
3036  0D36  32 00 00    	ld	(_tmp_uc),a
3037  0D39              l_game_paint_attrib_lin_h_00103:
3038  0D39  21 00 00    	ld	hl,_tmp_uc
3039  0D3C  7E          	ld	a,(hl)
3040  0D3D  DD 96 05    	sub	a,(ix+5)
3041  0D40  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3042  0D42  66          	ld	h,(hl)
3043  0D43  DD 6E 06    	ld	l,(ix+6)
3044  0D46  E5          	push	hl
3045  0D47  21 00 00    	ld	hl,_attrib_hl
3046  0D4A  E5          	push	hl
3047  0D4B  CD 00 00    	call	_NIRVANAP_paintC_callee
3048  0D4E  21 00 00    	ld	hl,_tmp_uc
3049  0D51  34          	inc	(hl)
3050  0D52  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3051  0D54              l_game_paint_attrib_lin_h_00105:
3052  0D54  DD E1       	pop	ix
3053  0D56  C9          	ret
3054  0D57              	SECTION code_compiler
3055  0D57              ;	---------------------------------
3056  0D57              ; Function game_menu_config
3057  0D57              ; ---------------------------------
3058  0D57              _game_menu_config:
3059  0D57  CD 00 00    	call	___sdcc_enter_ix
3060  0D5A  F5          	push	af
3061  0D5B  3B          	dec	sp
3062  0D5C  2E 0B       	ld	l,0x0b
3063  0D5E  CD E5 0C    	call	_game_paint_attrib
3064  0D61  DD 36 FD 01 	ld	(ix-3),0x01
3065  0D65              l_game_menu_config_00116:
3066  0D65  DD 7E FD    	ld	a,(ix-3)
3067  0D68  B7          	or	a, a
3068  0D69  CA C3 0E    	jp	Z,l_game_menu_config_00119
3069  0D6C              l_game_menu_config_00101:
3070  0D6C  21 00 00    	ld	hl,_k1
3071  0D6F  E5          	push	hl
3072  0D70  2A 00 00    	ld	hl,(_joyfunc1)
3073  0D73  CD 00 00    	call	___sdcc_call_hl
3074  0D76  F1          	pop	af
3075  0D77  7C          	ld	a,h
3076  0D78  B5          	or	a,l
3077  0D79  20 F1       	jr	NZ,l_game_menu_config_00101
3078  0D7B  3A 00 00    	ld	a,(_spec128)
3079  0D7E  B7          	or	a,a
3080  0D7F  28 0A       	jr	Z,l_game_menu_config_00121
3081  0D81  DD 36 FE C5 	ld	(ix-2),+((___str_25) & 0xFF)
3082  0D85  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3083  0D89  18 08       	jr	l_game_menu_config_00122
3084  0D8B              l_game_menu_config_00121:
3085  0D8B  DD 36 FE D0 	ld	(ix-2),+((___str_26) & 0xFF)
3086  0D8F  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3087  0D93              l_game_menu_config_00122:
3088  0D93  DD 4E FE    	ld	c,(ix-2)
3089  0D96  DD 46 FF    	ld	b,(ix-1)
3090  0D99  C5          	push	bc
3091  0D9A  21 0E 0A    	ld	hl,0x0a0e
3092  0D9D  E5          	push	hl
3093  0D9E  CD 00 00    	call	_zx_print_str
3094  0DA1  21 DB 00    	ld	hl,___str_27
3095  0DA4  E5          	push	hl
3096  0DA5  21 0F 0A    	ld	hl,0x0a0f
3097  0DA8  E5          	push	hl
3098  0DA9  CD 00 00    	call	_zx_print_str
3099  0DAC  21 E6 00    	ld	hl,___str_28
3100  0DAF  E5          	push	hl
3101  0DB0  21 10 0A    	ld	hl,0x0a10
3102  0DB3  E5          	push	hl
3103  0DB4  CD 00 00    	call	_zx_print_str
3104  0DB7  21 F1 00    	ld	hl,___str_29
3105  0DBA  E5          	push	hl
3106  0DBB  21 11 0A    	ld	hl,0x0a11
3107  0DBE  E5          	push	hl
3108  0DBF  CD 00 00    	call	_zx_print_str
3109  0DC2  21 FC 00    	ld	hl,___str_30
3110  0DC5  E5          	push	hl
3111  0DC6  21 12 0A    	ld	hl,0x0a12
3112  0DC9  E5          	push	hl
3113  0DCA  CD 00 00    	call	_zx_print_str
3114  0DCD  3A 00 00    	ld	a,(_game_sound)
3115  0DD0  E6 05       	and	a,0x05
3116  0DD2  28 05       	jr	Z,l_game_menu_config_00123
3117  0DD4  01 07 01    	ld	bc,___str_31
3118  0DD7  18 03       	jr	l_game_menu_config_00124
3119  0DD9              l_game_menu_config_00123:
3120  0DD9  01 0B 01    	ld	bc,___str_32
3121  0DDC              l_game_menu_config_00124:
3122  0DDC  C5          	push	bc
3123  0DDD  21 0E 14    	ld	hl,0x140e
3124  0DE0  E5          	push	hl
3125  0DE1  CD 00 00    	call	_zx_print_str
3126  0DE4  3E 02       	ld	a,0x02
3127  0DE6  21 00 00    	ld	hl,_game_type
3128  0DE9  96          	sub	a, (hl)
3129  0DEA  38 34       	jr	C,l_game_menu_config_00107
3130  0DEC  5E          	ld	e,(hl)
3131  0DED  16 00       	ld	d,0x00
3132  0DEF  21 F5 0D    	ld	hl,l_game_menu_config_00164
3133  0DF2  19          	add	hl,de
3134  0DF3  19          	add	hl,de
3135  0DF4  E9          	jp	(hl)
3136  0DF5              l_game_menu_config_00164:
3137  0DF5  18 04       	jr	l_game_menu_config_00104
3138  0DF7  18 0F       	jr	l_game_menu_config_00105
3139  0DF9  18 1A       	jr	l_game_menu_config_00106
3140  0DFB              l_game_menu_config_00104:
3141  0DFB  21 0F 01    	ld	hl,___str_33
3142  0DFE  E5          	push	hl
3143  0DFF  21 0F 14    	ld	hl,0x140f
3144  0E02  E5          	push	hl
3145  0E03  CD 00 00    	call	_zx_print_str
3146  0E06  18 18       	jr	l_game_menu_config_00107
3147  0E08              l_game_menu_config_00105:
3148  0E08  21 13 01    	ld	hl,___str_34
3149  0E0B  E5          	push	hl
3150  0E0C  21 0F 14    	ld	hl,0x140f
3151  0E0F  E5          	push	hl
3152  0E10  CD 00 00    	call	_zx_print_str
3153  0E13  18 0B       	jr	l_game_menu_config_00107
3154  0E15              l_game_menu_config_00106:
3155  0E15  21 17 01    	ld	hl,___str_35
3156  0E18  E5          	push	hl
3157  0E19  21 0F 14    	ld	hl,0x140f
3158  0E1C  E5          	push	hl
3159  0E1D  CD 00 00    	call	_zx_print_str
3160  0E20              l_game_menu_config_00107:
3161  0E20  2A 00 00    	ld	hl,(_player_joy)
3162  0E23  29          	add	hl, hl
3163  0E24  11 00 00    	ld	de,_joynames
3164  0E27  19          	add	hl,de
3165  0E28  4E          	ld	c,(hl)
3166  0E29  23          	inc	hl
3167  0E2A  46          	ld	b,(hl)
3168  0E2B  C5          	push	bc
3169  0E2C  21 10 14    	ld	hl,0x1410
3170  0E2F  E5          	push	hl
3171  0E30  CD 00 00    	call	_zx_print_str
3172  0E33  2A 02 00    	ld	hl, (_player_joy + 2)
3173  0E36  29          	add	hl, hl
3174  0E37  11 00 00    	ld	de,_joynames
3175  0E3A  19          	add	hl,de
3176  0E3B  4E          	ld	c,(hl)
3177  0E3C  23          	inc	hl
3178  0E3D  46          	ld	b,(hl)
3179  0E3E  C5          	push	bc
3180  0E3F  21 11 14    	ld	hl,0x1411
3181  0E42  E5          	push	hl
3182  0E43  CD 00 00    	call	_zx_print_str
3183  0E46  21 00 00    	ld	hl,0x0000
3184  0E49  E5          	push	hl
3185  0E4A  21 0E 12    	ld	hl,0x120e
3186  0E4D  E5          	push	hl
3187  0E4E  21 0A 01    	ld	hl,0x010a
3188  0E51  E5          	push	hl
3189  0E52  CD 7C 11    	call	_game_menu_handle
3190  0E55  F1          	pop	af
3191  0E56  F1          	pop	af
3192  0E57  F1          	pop	af
3193  0E58  7D          	ld	a,l
3194  0E59  32 00 00    	ld	(_game_menu_sel),a
3195  0E5C  21 00 00    	ld	hl,_ay_effect_10
3196  0E5F  CD 00 00    	call	_ay_fx_play
3197  0E62  CD 00 00    	call	_sound_coin
3198  0E65  3E 04       	ld	a,0x04
3199  0E67  21 00 00    	ld	hl,_game_menu_sel
3200  0E6A  96          	sub	a, (hl)
3201  0E6B  DA 65 0D    	jp	C,l_game_menu_config_00116
3202  0E6E  5E          	ld	e,(hl)
3203  0E6F  16 00       	ld	d,0x00
3204  0E71  21 77 0E    	ld	hl,l_game_menu_config_00165
3205  0E74  19          	add	hl,de
3206  0E75  19          	add	hl,de
3207  0E76  E9          	jp	(hl)
3208  0E77              l_game_menu_config_00165:
3209  0E77  18 08       	jr	l_game_menu_config_00108
3210  0E79  18 1A       	jr	l_game_menu_config_00109
3211  0E7B  18 27       	jr	l_game_menu_config_00112
3212  0E7D  18 2D       	jr	l_game_menu_config_00113
3213  0E7F  18 33       	jr	l_game_menu_config_00114
3214  0E81              l_game_menu_config_00108:
3215  0E81  3A 00 00    	ld	a,(_spec128)
3216  0E84  B7          	or	a, a
3217  0E85  28 04       	jr	Z,l_game_menu_config_00125
3218  0E87  3E 04       	ld	a,0x04
3219  0E89  18 02       	jr	l_game_menu_config_00126
3220  0E8B              l_game_menu_config_00125:
3221  0E8B  3E 01       	ld	a,0x01
3222  0E8D              l_game_menu_config_00126:
3223  0E8D  21 00 00    	ld	hl,_game_sound
3224  0E90  AE          	xor	a, (hl)
3225  0E91  77          	ld	(hl),a
3226  0E92  C3 65 0D    	jp	l_game_menu_config_00116
3227  0E95              l_game_menu_config_00109:
3228  0E95  21 00 00    	ld	hl,_game_type
3229  0E98  34          	inc	(hl)
3230  0E99  3E 02       	ld	a,0x02
3231  0E9B  96          	sub	a, (hl)
3232  0E9C  D2 65 0D    	jp	NC,l_game_menu_config_00116
3233  0E9F  36 00       	ld	(hl),0x00
3234  0EA1  C3 65 0D    	jp	l_game_menu_config_00116
3235  0EA4              l_game_menu_config_00112:
3236  0EA4  2E 00       	ld	l,0x00
3237  0EA6  CD C8 0E    	call	_game_joystick_change
3238  0EA9  C3 65 0D    	jp	l_game_menu_config_00116
3239  0EAC              l_game_menu_config_00113:
3240  0EAC  2E 01       	ld	l,0x01
3241  0EAE  CD C8 0E    	call	_game_joystick_change
3242  0EB1  C3 65 0D    	jp	l_game_menu_config_00116
3243  0EB4              l_game_menu_config_00114:
3244  0EB4  21 00 00    	ld	hl,_game_menu_sel
3245  0EB7  36 00       	ld	(hl),0x00
3246  0EB9  CD 4E 10    	call	_game_menu_paint
3247  0EBC  DD 36 FD 00 	ld	(ix-3),0x00
3248  0EC0  C3 65 0D    	jp	l_game_menu_config_00116
3249  0EC3              l_game_menu_config_00119:
3250  0EC3  DD F9       	ld	sp, ix
3251  0EC5  DD E1       	pop	ix
3252  0EC7  C9          	ret
3253  0EC8              	SECTION rodata_compiler
3254  00C5              ___str_25:
3255  00C5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3256  00CF  00          	DEFB 0x00
3257  00D0              	SECTION rodata_compiler
3258  00D0              ___str_26:
3259  00D0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3260  00DA  00          	DEFB 0x00
3261  00DB              	SECTION rodata_compiler
3262  00DB              ___str_27:
3263  00DB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3264  00E5  00          	DEFB 0x00
3265  00E6              	SECTION rodata_compiler
3266  00E6              ___str_28:
3267  00E6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3268  00F0  00          	DEFB 0x00
3269  00F1              	SECTION rodata_compiler
3270  00F1              ___str_29:
3271  00F1  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3272  00FB  00          	DEFB 0x00
3273  00FC              	SECTION rodata_compiler
3274  00FC              ___str_30:
3275  00FC  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3276  0106  00          	DEFB 0x00
3277  0107              	SECTION rodata_compiler
3278  0107              ___str_31:
3279  0107  4F 4E 20    	DEFM "ON "
3280  010A  00          	DEFB 0x00
3281  010B              	SECTION rodata_compiler
3282  010B              ___str_32:
3283  010B  4F 46 46    	DEFM "OFF"
3284  010E  00          	DEFB 0x00
3285  010F              	SECTION rodata_compiler
3286  010F              ___str_33:
3287  010F  41 20 20    	DEFM "A  "
3288  0112  00          	DEFB 0x00
3289  0113              	SECTION rodata_compiler
3290  0113              ___str_34:
3291  0113  42 20 20    	DEFM "B  "
3292  0116  00          	DEFB 0x00
3293  0117              	SECTION rodata_compiler
3294  0117              ___str_35:
3295  0117  52 4E 44    	DEFM "RND"
3296  011A  00          	DEFB 0x00
3297  011B              	SECTION code_compiler
3298  0EC8              ;	---------------------------------
3299  0EC8              ; Function game_joystick_change
3300  0EC8              ; ---------------------------------
3301  0EC8              _game_joystick_change:
3302  0EC8  CD 00 00    	call	___sdcc_enter_ix
3303  0ECB  3B          	dec	sp
3304  0ECC  DD 75 FF    	ld	(ix-1),l
3305  0ECF  26 00       	ld	h,0x00
3306  0ED1  29          	add	hl, hl
3307  0ED2  01 00 00    	ld	bc,_player_joy
3308  0ED5  09          	add	hl,bc
3309  0ED6  4D          	ld	c,l
3310  0ED7  44          	ld	b,h
3311  0ED8  5E          	ld	e,(hl)
3312  0ED9  23          	inc	hl
3313  0EDA  56          	ld	d,(hl)
3314  0EDB  13          	inc	de
3315  0EDC  69          	ld	l, c
3316  0EDD  60          	ld	h, b
3317  0EDE  73          	ld	(hl),e
3318  0EDF  23          	inc	hl
3319  0EE0  72          	ld	(hl),d
3320  0EE1  7B          	ld	a,e
3321  0EE2  D6 07       	sub	a,0x07
3322  0EE4  20 09       	jr	NZ,l_game_joystick_change_00102
3323  0EE6  B2          	or	a,d
3324  0EE7  20 06       	jr	NZ,l_game_joystick_change_00102
3325  0EE9  69          	ld	l, c
3326  0EEA  60          	ld	h, b
3327  0EEB  AF          	xor	a, a
3328  0EEC  77          	ld	(hl), a
3329  0EED  23          	inc	hl
3330  0EEE  77          	ld	(hl), a
3331  0EEF              l_game_joystick_change_00102:
3332  0EEF  DD 7E FF    	ld	a,(ix-1)
3333  0EF2  B7          	or	a, a
3334  0EF3  20 15       	jr	NZ,l_game_joystick_change_00104
3335  0EF5  69          	ld	l, c
3336  0EF6  60          	ld	h, b
3337  0EF7  5E          	ld	e,(hl)
3338  0EF8  23          	inc	hl
3339  0EF9  56          	ld	d,(hl)
3340  0EFA  1D          	dec	e
3341  0EFB  20 0D       	jr	NZ,l_game_joystick_change_00104
3342  0EFD  7A          	ld	a,d
3343  0EFE  B7          	or	a, a
3344  0EFF  20 09       	jr	NZ,l_game_joystick_change_00104
3345  0F01  ED 5B 00 00 	ld	de,(_player_joy)
3346  0F05  13          	inc	de
3347  0F06  ED 53 00 00 	ld	(_player_joy), de
3348  0F0A              l_game_joystick_change_00104:
3349  0F0A  DD 7E FF    	ld	a,(ix-1)
3350  0F0D  3D          	dec	a
3351  0F0E  20 11       	jr	NZ,l_game_joystick_change_00107
3352  0F10  69          	ld	l, c
3353  0F11  60          	ld	h, b
3354  0F12  4E          	ld	c,(hl)
3355  0F13  23          	inc	hl
3356  0F14  7E          	ld	a, (hl)
3357  0F15  B1          	or	a,c
3358  0F16  20 09       	jr	NZ,l_game_joystick_change_00107
3359  0F18  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3360  0F1C  03          	inc	bc
3361  0F1D  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3362  0F21              l_game_joystick_change_00107:
3363  0F21  ED 4B 00 00 	ld	bc,(_player_joy)
3364  0F25  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3365  0F29  79          	ld	a,c
3366  0F2A  93          	sub	a, e
3367  0F2B  20 18       	jr	NZ,l_game_joystick_change_00114
3368  0F2D  78          	ld	a,b
3369  0F2E  92          	sub	a, d
3370  0F2F  20 14       	jr	NZ,l_game_joystick_change_00114
3371  0F31  DD 7E FF    	ld	a,(ix-1)
3372  0F34  B7          	or	a, a
3373  0F35  20 08       	jr	NZ,l_game_joystick_change_00110
3374  0F37  21 01 00    	ld	hl,0x0001
3375  0F3A  22 02 00    	ld	(_player_joy + 0x0002),hl
3376  0F3D  18 06       	jr	l_game_joystick_change_00114
3377  0F3F              l_game_joystick_change_00110:
3378  0F3F  21 00 00    	ld	hl,0x0000
3379  0F42  22 00 00    	ld	(_player_joy), hl
3380  0F45              l_game_joystick_change_00114:
3381  0F45  33          	inc	sp
3382  0F46  DD E1       	pop	ix
3383  0F48  C9          	ret
3384  0F49              	SECTION code_compiler
3385  0F49              ;	---------------------------------
3386  0F49              ; Function game_joystick_set_menu
3387  0F49              ; ---------------------------------
3388  0F49              _game_joystick_set_menu:
3389  0F49  21 00 00    	ld	hl,_in_stick_sinclair1
3390  0F4C  22 00 00    	ld	(_joyfunc1),hl
3391  0F4F  21 00 00    	ld	hl,_in_stick_sinclair2
3392  0F52  22 00 00    	ld	(_joyfunc2),hl
3393  0F55  C9          	ret
3394  0F56              	SECTION code_compiler
3395  0F56              ;	---------------------------------
3396  0F56              ; Function game_joystick_set
3397  0F56              ; ---------------------------------
3398  0F56              _game_joystick_set:
3399  0F56  01 00 00    	ld	bc,_control_method+0
3400  0F59  2A 00 00    	ld	hl,(_player_joy)
3401  0F5C  29          	add	hl, hl
3402  0F5D  09          	add	hl,bc
3403  0F5E  11 00 00    	ld	de,_joyfunc1
3404  0F61  ED A0       	ldi
3405  0F63  03          	inc	bc
3406  0F64  7E          	ld	a,(hl)
3407  0F65  12          	ld	(de),a
3408  0F66  2A 02 00    	ld	hl, (_player_joy + 2)
3409  0F69  29          	add	hl, hl
3410  0F6A  09          	add	hl,bc
3411  0F6B  11 00 00    	ld	de,_joyfunc2
3412  0F6E  ED A0       	ldi
3413  0F70  7E          	ld	a,(hl)
3414  0F71  12          	ld	(de),a
3415  0F72  C9          	ret
3416  0F73              	SECTION code_compiler
3417  0F73              ;	---------------------------------
3418  0F73              ; Function game_menu
3419  0F73              ; ---------------------------------
3420  0F73              _game_menu:
3421  0F73  21 00 00    	ld	hl,_game_menu_sel
3422  0F76  36 00       	ld	(hl),0x00
3423  0F78  CD DA 0F    	call	_game_menu_top_paint
3424  0F7B  CD 4E 10    	call	_game_menu_paint
3425  0F7E  CD 00 00    	call	_ay_reset
3426  0F81  21 00 00    	ld	hl,_pb_midi_title
3427  0F84  CD 00 00    	call	_ay_midi_play
3428  0F87              l_game_menu_00101:
3429  0F87  21 00 00    	ld	hl,_k1
3430  0F8A  E5          	push	hl
3431  0F8B  2A 00 00    	ld	hl,(_joyfunc1)
3432  0F8E  CD 00 00    	call	___sdcc_call_hl
3433  0F91  F1          	pop	af
3434  0F92  7C          	ld	a,h
3435  0F93  B5          	or	a,l
3436  0F94  20 F1       	jr	NZ,l_game_menu_00101
3437  0F96  21 E8 03    	ld	hl,0x03e8
3438  0F99  E5          	push	hl
3439  0F9A  21 0E 12    	ld	hl,0x120e
3440  0F9D  E5          	push	hl
3441  0F9E  21 0C 02    	ld	hl,0x020c
3442  0FA1  E5          	push	hl
3443  0FA2  CD 7C 11    	call	_game_menu_handle
3444  0FA5  F1          	pop	af
3445  0FA6  F1          	pop	af
3446  0FA7  F1          	pop	af
3447  0FA8  4D          	ld	c,l
3448  0FA9  21 00 00    	ld	hl,_tmp_uc
3449  0FAC  71          	ld	(hl),c
3450  0FAD  3E 02       	ld	a,0x02
3451  0FAF  96          	sub	a, (hl)
3452  0FB0  38 D5       	jr	C,l_game_menu_00101
3453  0FB2  5E          	ld	e,(hl)
3454  0FB3  16 00       	ld	d,0x00
3455  0FB5  21 BB 0F    	ld	hl,l_game_menu_00125
3456  0FB8  19          	add	hl,de
3457  0FB9  19          	add	hl,de
3458  0FBA  E9          	jp	(hl)
3459  0FBB              l_game_menu_00125:
3460  0FBB  18 04       	jr	l_game_menu_00104
3461  0FBD  18 0C       	jr	l_game_menu_00105
3462  0FBF  18 14       	jr	l_game_menu_00106
3463  0FC1              l_game_menu_00104:
3464  0FC1  21 00 00    	ld	hl,_game_two_player
3465  0FC4  36 00       	ld	(hl),0x00
3466  0FC6  CD 34 03    	call	_game_loop
3467  0FC9  18 BC       	jr	l_game_menu_00101
3468  0FCB              l_game_menu_00105:
3469  0FCB  21 00 00    	ld	hl,_game_two_player
3470  0FCE  36 01       	ld	(hl),0x01
3471  0FD0  CD 34 03    	call	_game_loop
3472  0FD3  18 B2       	jr	l_game_menu_00101
3473  0FD5              l_game_menu_00106:
3474  0FD5  CD 57 0D    	call	_game_menu_config
3475  0FD8  18 AD       	jr	l_game_menu_00101
3476  0FDA              	SECTION code_compiler
3477  0FDA              ;	---------------------------------
3478  0FDA              ; Function game_menu_top_paint
3479  0FDA              ; ---------------------------------
3480  0FDA              _game_menu_top_paint:
3481  0FDA  CD 00 00    	call	_spr_draw_clear
3482  0FDD  2E 00       	ld	l,0x00
3483  0FDF  CD E5 0C    	call	_game_paint_attrib
3484  0FE2  21 9C 01    	ld	hl,0x019c
3485  0FE5  E5          	push	hl
3486  0FE6  21 00 1E    	ld	hl,0x1e00
3487  0FE9  E5          	push	hl
3488  0FEA  3E 10       	ld	a,0x10
3489  0FEC  F5          	push	af
3490  0FED  33          	inc	sp
3491  0FEE  CD C9 10    	call	_game_menu_e
3492  0FF1  F1          	pop	af
3493  0FF2  33          	inc	sp
3494  0FF3  21 9F FF    	ld	hl,0xff9f
3495  0FF6  E3          	ex	(sp),hl
3496  0FF7  21 00 1E    	ld	hl,0x1e00
3497  0FFA  E5          	push	hl
3498  0FFB  3E 50       	ld	a,0x50
3499  0FFD  F5          	push	af
3500  0FFE  33          	inc	sp
3501  0FFF  CD C9 10    	call	_game_menu_e
3502  1002  F1          	pop	af
3503  1003  F1          	pop	af
3504  1004  33          	inc	sp
3505  1005  21 00 00    	ld	hl,_tmp
3506  1008  36 18       	ld	(hl),0x18
3507  100A  F3          	di
3508  100B  21 00 00    	ld	hl,_tmp_uc
3509  100E  36 00       	ld	(hl),0x00
3510  1010              l_game_menu_top_paint_00102:
3511  1010  3A 00 00    	ld	a,(_tmp_uc)
3512  1013  87          	add	a, a
3513  1014  C6 05       	add	a,0x05
3514  1016  47          	ld	b,a
3515  1017  3A 00 00    	ld	a,(_tmp)
3516  101A  C6 10       	add	a,0x10
3517  101C  57          	ld	d,a
3518  101D  3A 00 00    	ld	a,(_tmp_uc)
3519  1020  C6 C0       	add	a,0xc0
3520  1022  4A          	ld	c, d
3521  1023  C5          	push	bc
3522  1024  F5          	push	af
3523  1025  33          	inc	sp
3524  1026  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3525  1029  3A 00 00    	ld	a,(_tmp_uc)
3526  102C  87          	add	a, a
3527  102D  C6 05       	add	a,0x05
3528  102F  47          	ld	b,a
3529  1030  3A 00 00    	ld	a,(_tmp)
3530  1033  C6 20       	add	a,0x20
3531  1035  57          	ld	d,a
3532  1036  3A 00 00    	ld	a,(_tmp_uc)
3533  1039  C6 CC       	add	a,0xcc
3534  103B  4A          	ld	c, d
3535  103C  C5          	push	bc
3536  103D  F5          	push	af
3537  103E  33          	inc	sp
3538  103F  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3539  1042  21 00 00    	ld	hl,_tmp_uc
3540  1045  7E          	ld	a,(hl)
3541  1046  3C          	inc	a
3542  1047  77          	ld	(hl),a
3543  1048  D6 0A       	sub	a,0x0a
3544  104A  38 C4       	jr	C,l_game_menu_top_paint_00102
3545  104C  FB          	ei
3546  104D  C9          	ret
3547  104E              	SECTION code_compiler
3548  104E              ;	---------------------------------
3549  104E              ; Function game_menu_paint
3550  104E              ; ---------------------------------
3551  104E              _game_menu_paint:
3552  104E  76          	halt
3553  104F  3A 00 00    	ld	a,(_tmp)
3554  1052  C6 28       	add	a,0x28
3555  1054  4F          	ld	c, a
3556  1055  06 1A       	ld	b,0x1a
3557  1057  C5          	push	bc
3558  1058  3E 12       	ld	a,0x12
3559  105A  F5          	push	af
3560  105B  33          	inc	sp
3561  105C  CD 00 00    	call	_NIRVANAP_fillC_callee
3562  105F  21 00 20    	ld	hl,0x2000
3563  1062  E5          	push	hl
3564  1063  CD 00 00    	call	_game_fill_row
3565  1066  21 00 20    	ld	hl,0x2000
3566  1069  E5          	push	hl
3567  106A  CD 00 00    	call	_game_fill_row
3568  106D  21 1B 01    	ld	hl,___str_36
3569  1070  E5          	push	hl
3570  1071  21 0E 0A    	ld	hl,0x0a0e
3571  1074  E5          	push	hl
3572  1075  CD 00 00    	call	_zx_print_str
3573  1078  21 0F 20    	ld	hl,0x200f
3574  107B  E5          	push	hl
3575  107C  CD 00 00    	call	_game_fill_row
3576  107F  21 29 01    	ld	hl,___str_37
3577  1082  E5          	push	hl
3578  1083  21 10 0A    	ld	hl,0x0a10
3579  1086  E5          	push	hl
3580  1087  CD 00 00    	call	_zx_print_str
3581  108A  21 11 20    	ld	hl,0x2011
3582  108D  E5          	push	hl
3583  108E  CD 00 00    	call	_game_fill_row
3584  1091  21 37 01    	ld	hl,___str_38
3585  1094  E5          	push	hl
3586  1095  21 12 0A    	ld	hl,0x0a12
3587  1098  E5          	push	hl
3588  1099  CD 00 00    	call	_zx_print_str
3589  109C  21 13 20    	ld	hl,0x2013
3590  109F  E5          	push	hl
3591  10A0  CD 00 00    	call	_game_fill_row
3592  10A3  21 00 00    	ld	hl,_screen_ink
3593  10A6  36 01       	ld	(hl),0x01
3594  10A8  21 45 01    	ld	hl,___str_39
3595  10AB  E5          	push	hl
3596  10AC  21 16 07    	ld	hl,0x0716
3597  10AF  E5          	push	hl
3598  10B0  CD 00 00    	call	_zx_print_str
3599  10B3  21 58 01    	ld	hl,___str_40
3600  10B6  E5          	push	hl
3601  10B7  21 17 07    	ld	hl,0x0717
3602  10BA  E5          	push	hl
3603  10BB  CD 00 00    	call	_zx_print_str
3604  10BE  21 00 00    	ld	hl,_tmp_uc
3605  10C1  36 00       	ld	(hl),0x00
3606  10C3  2E 0B       	ld	l,0x0b
3607  10C5  CD E5 0C    	call	_game_paint_attrib
3608  10C8  C9          	ret
3609  10C9              	SECTION rodata_compiler
3610  011B              ___str_36:
3611  011B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3612  0128  00          	DEFB 0x00
3613  0129              	SECTION rodata_compiler
3614  0129              ___str_37:
3615  0129  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3616  0136  00          	DEFB 0x00
3617  0137              	SECTION rodata_compiler
3618  0137              ___str_38:
3619  0137  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3620  0144  00          	DEFB 0x00
3621  0145              	SECTION rodata_compiler
3622  0145              ___str_39:
3623  0145  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3624  0157  00          	DEFB 0x00
3625  0158              	SECTION rodata_compiler
3626  0158              ___str_40:
3627  0158  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3628  0169  00          	DEFB 0x00
3629  016A              	SECTION code_compiler
3630  10C9              ;	---------------------------------
3631  10C9              ; Function game_menu_e
3632  10C9              ; ---------------------------------
3633  10C9              _game_menu_e:
3634  10C9  CD 00 00    	call	___sdcc_enter_ix
3635  10CC  F3          	di
3636  10CD  DD 4E 05    	ld	c,(ix+5)
3637  10D0  21 00 00    	ld	hl,_tmp_uc
3638  10D3  71          	ld	(hl),c
3639  10D4  DD 46 07    	ld	b,(ix+7)
3640  10D7  04          	inc	b
3641  10D8  DD 56 07    	ld	d,(ix+7)
3642  10DB  14          	inc	d
3643  10DC  14          	inc	d
3644  10DD              l_game_menu_e_00114:
3645  10DD  DD 7E 06    	ld	a,(ix+6)
3646  10E0  21 00 00    	ld	hl,_tmp_uc
3647  10E3  96          	sub	a, (hl)
3648  10E4  38 56       	jr	C,l_game_menu_e_00109
3649  10E6  7E          	ld	a,(hl)
3650  10E7  91          	sub	a, c
3651  10E8  20 15       	jr	NZ,l_game_menu_e_00102
3652  10EA  3A 00 00    	ld	a,(_tmp_uc)
3653  10ED  C5          	push	bc
3654  10EE  D5          	push	de
3655  10EF  F5          	push	af
3656  10F0  33          	inc	sp
3657  10F1  DD 66 04    	ld	h,(ix+4)
3658  10F4  DD 6E 07    	ld	l,(ix+7)
3659  10F7  E5          	push	hl
3660  10F8  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3661  10FB  D1          	pop	de
3662  10FC  C1          	pop	bc
3663  10FD  18 36       	jr	l_game_menu_e_00108
3664  10FF              l_game_menu_e_00102:
3665  10FF  3A 00 00    	ld	a,(_tmp_uc)
3666  1102  DD 96 06    	sub	a,(ix+6)
3667  1105  20 14       	jr	NZ,l_game_menu_e_00104
3668  1107  3A 00 00    	ld	a,(_tmp_uc)
3669  110A  C5          	push	bc
3670  110B  D5          	push	de
3671  110C  F5          	push	af
3672  110D  33          	inc	sp
3673  110E  DD 7E 04    	ld	a,(ix+4)
3674  1111  5A          	ld	e,d
3675  1112  57          	ld	d,a
3676  1113  D5          	push	de
3677  1114  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3678  1117  D1          	pop	de
3679  1118  C1          	pop	bc
3680  1119  18 1A       	jr	l_game_menu_e_00108
3681  111B              l_game_menu_e_00104:
3682  111B  3A 00 00    	ld	a,(_tmp_uc)
3683  111E  FE 0E       	cp	a,0x0e
3684  1120  28 13       	jr	Z,l_game_menu_e_00108
3685  1122  FE 10       	cp	a,0x10
3686  1124  28 0F       	jr	Z,l_game_menu_e_00108
3687  1126  C5          	push	bc
3688  1127  D5          	push	de
3689  1128  F5          	push	af
3690  1129  33          	inc	sp
3691  112A  DD 7E 04    	ld	a,(ix+4)
3692  112D  48          	ld	c,b
3693  112E  47          	ld	b,a
3694  112F  C5          	push	bc
3695  1130  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3696  1133  D1          	pop	de
3697  1134  C1          	pop	bc
3698  1135              l_game_menu_e_00108:
3699  1135  21 00 00    	ld	hl,_tmp_uc
3700  1138  34          	inc	(hl)
3701  1139  34          	inc	(hl)
3702  113A  18 A1       	jr	l_game_menu_e_00114
3703  113C              l_game_menu_e_00109:
3704  113C  DD 7E 08    	ld	a,(ix+8)
3705  113F  3C          	inc	a
3706  1140  20 0A       	jr	NZ,l_game_menu_e_00111
3707  1142  DD 7E 04    	ld	a,(ix+4)
3708  1145  C6 F0       	add	a,0xf0
3709  1147  DD 77 04    	ld	(ix+4),a
3710  114A  18 08       	jr	l_game_menu_e_00112
3711  114C              l_game_menu_e_00111:
3712  114C  DD 7E 04    	ld	a,(ix+4)
3713  114F  C6 10       	add	a,0x10
3714  1151  DD 77 04    	ld	(ix+4),a
3715  1154              l_game_menu_e_00112:
3716  1154  DD 7E 07    	ld	a,(ix+7)
3717  1157  C6 0C       	add	a,0x0c
3718  1159  47          	ld	b,a
3719  115A  79          	ld	a,c
3720  115B  F5          	push	af
3721  115C  33          	inc	sp
3722  115D  DD 7E 04    	ld	a,(ix+4)
3723  1160  48          	ld	c,b
3724  1161  47          	ld	b,a
3725  1162  C5          	push	bc
3726  1163  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3727  1166  DD 7E 07    	ld	a,(ix+7)
3728  1169  C6 0E       	add	a,0x0e
3729  116B  47          	ld	b,a
3730  116C  DD 66 06    	ld	h,(ix+6)
3731  116F  DD 6E 04    	ld	l,(ix+4)
3732  1172  E5          	push	hl
3733  1173  C5          	push	bc
3734  1174  33          	inc	sp
3735  1175  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3736  1178  FB          	ei
3737  1179  DD E1       	pop	ix
3738  117B  C9          	ret
3739  117C              	SECTION code_compiler
3740  117C              ;	---------------------------------
3741  117C              ; Function game_menu_handle
3742  117C              ; ---------------------------------
3743  117C              _game_menu_handle:
3744  117C  CD 00 00    	call	___sdcc_enter_ix
3745  117F  3B          	dec	sp
3746  1180  2A 00 00    	ld	hl,(_curr_time)
3747  1183  22 00 00    	ld	(_entry_time),hl
3748  1186  DD 5E 05    	ld	e,(ix+5)
3749  1189  21 00 00    	ld	hl,_game_menu_sel
3750  118C  66          	ld	h,(hl)
3751  118D  2E 00       	ld	l,0x00
3752  118F  55          	ld	d, l
3753  1190  06 08       	ld	b,0x08
3754  1192              l_game_menu_handle_00148:
3755  1192  29          	add	hl,hl
3756  1193  30 01       	jr	NC,l_game_menu_handle_00149
3757  1195  19          	add	hl,de
3758  1196              l_game_menu_handle_00149:
3759  1196  10 FA       	djnz	l_game_menu_handle_00148
3760  1198  DD 7E 06    	ld	a,(ix+6)
3761  119B  85          	add	a,l
3762  119C  32 00 00    	ld	(_s_lin1),a
3763  119F  DD 7E 06    	ld	a,(ix+6)
3764  11A2  DD 77 FF    	ld	(ix-1),a
3765  11A5              l_game_menu_handle_00111:
3766  11A5  21 00 00    	ld	hl,_k1
3767  11A8  E5          	push	hl
3768  11A9  2A 00 00    	ld	hl,(_joyfunc1)
3769  11AC  CD 00 00    	call	___sdcc_call_hl
3770  11AF  F1          	pop	af
3771  11B0  7D          	ld	a,l
3772  11B1  32 00 00    	ld	(_dirs),a
3773  11B4  D6 80       	sub	a,0x80
3774  11B6  CA 58 12    	jp	Z,l_game_menu_handle_00113
3775  11B9  21 05 00    	ld	hl,0x0005
3776  11BC  E5          	push	hl
3777  11BD  2A 00 00    	ld	hl,(_frame_time)
3778  11C0  E5          	push	hl
3779  11C1  CD 18 1A    	call	_game_check_time
3780  11C4  F1          	pop	af
3781  11C5  F1          	pop	af
3782  11C6  7D          	ld	a,l
3783  11C7  B7          	or	a, a
3784  11C8  28 58       	jr	Z,l_game_menu_handle_00106
3785  11CA  3A 00 00    	ld	a,(_dirs)
3786  11CD  B7          	or	a, a
3787  11CE  28 32       	jr	Z,l_game_menu_handle_00104
3788  11D0  21 00 00    	ld	hl,_ay_effect_03
3789  11D3  CD 00 00    	call	_ay_fx_play
3790  11D6  CD 00 00    	call	_sound_slide
3791  11D9  3A 00 00    	ld	a,(_s_lin1)
3792  11DC  07          	rlca
3793  11DD  07          	rlca
3794  11DE  07          	rlca
3795  11DF  E6 F8       	and	a,0xf8
3796  11E1  C6 08       	add	a,0x08
3797  11E3  F5          	push	af
3798  11E4  33          	inc	sp
3799  11E5  26 14       	ld	h,0x14
3800  11E7  DD 6E 04    	ld	l,(ix+4)
3801  11EA  E5          	push	hl
3802  11EB  CD 09 0D    	call	_game_paint_attrib_lin
3803  11EE  F1          	pop	af
3804  11EF  33          	inc	sp
3805  11F0  21 00 00    	ld	hl,_s_lin1
3806  11F3  7E          	ld	a,(hl)
3807  11F4  DD 86 05    	add	a,(ix+5)
3808  11F7  77          	ld	(hl),a
3809  11F8  DD 7E 07    	ld	a,(ix+7)
3810  11FB  96          	sub	a, (hl)
3811  11FC  30 04       	jr	NC,l_game_menu_handle_00104
3812  11FE  DD 7E FF    	ld	a,(ix-1)
3813  1201  77          	ld	(hl),a
3814  1202              l_game_menu_handle_00104:
3815  1202  2A 00 00    	ld	hl,(_curr_time)
3816  1205  22 00 00    	ld	(_frame_time),hl
3817  1208  3A 00 00    	ld	a,(_s_lin1)
3818  120B  07          	rlca
3819  120C  07          	rlca
3820  120D  07          	rlca
3821  120E  E6 F8       	and	a,0xf8
3822  1210  C6 08       	add	a,0x08
3823  1212  F5          	push	af
3824  1213  33          	inc	sp
3825  1214  26 14       	ld	h,0x14
3826  1216  DD 6E 04    	ld	l,(ix+4)
3827  1219  E5          	push	hl
3828  121A  CD 30 0D    	call	_game_paint_attrib_lin_h
3829  121D  F1          	pop	af
3830  121E  33          	inc	sp
3831  121F  CD 6A 19    	call	_game_rotate_attrib
3832  1222              l_game_menu_handle_00106:
3833  1222  DD 7E 09    	ld	a,(ix+9)
3834  1225  DD B6 08    	or	a,(ix+8)
3835  1228  CA A5 11    	jp	Z,l_game_menu_handle_00111
3836  122B  DD 6E 08    	ld	l,(ix+8)
3837  122E  DD 66 09    	ld	h,(ix+9)
3838  1231  E5          	push	hl
3839  1232  2A 00 00    	ld	hl,(_entry_time)
3840  1235  E5          	push	hl
3841  1236  CD 18 1A    	call	_game_check_time
3842  1239  F1          	pop	af
3843  123A  F1          	pop	af
3844  123B  7D          	ld	a,l
3845  123C  B7          	or	a, a
3846  123D  CA A5 11    	jp	Z,l_game_menu_handle_00111
3847  1240  CD 00 00    	call	_ay_is_playing
3848  1243  7D          	ld	a,l
3849  1244  B7          	or	a, a
3850  1245  C2 A5 11    	jp	NZ,l_game_menu_handle_00111
3851  1248  CD 99 18    	call	_game_hall_of_fame
3852  124B  21 00 00    	ld	hl,_game_menu_sel
3853  124E  2E 00       	ld	l,0x00
3854  1250  75          	ld	(hl),l
3855  1251  CD 98 16    	call	_game_menu_back
3856  1254  2E FF       	ld	l,0xff
3857  1256  18 10       	jr	l_game_menu_handle_00114
3858  1258              l_game_menu_handle_00113:
3859  1258  3A 00 00    	ld	a,(_s_lin1)
3860  125B  DD 96 FF    	sub	a,(ix-1)
3861  125E  47          	ld	b,a
3862  125F  DD 7E 05    	ld	a,(ix+5)
3863  1262  48          	ld	c,b
3864  1263  47          	ld	b,a
3865  1264  C5          	push	bc
3866  1265  CD 00 00    	call	__divuchar_callee
3867  1268              l_game_menu_handle_00114:
3868  1268  33          	inc	sp
3869  1269  DD E1       	pop	ix
3870  126B  C9          	ret
3871  126C              	SECTION code_compiler
3872  126C              ;	---------------------------------
3873  126C              ; Function game_end
3874  126C              ; ---------------------------------
3875  126C              _game_end:
3876  126C  CD 00 00    	call	___sdcc_enter_ix
3877  126F  F5          	push	af
3878  1270  F5          	push	af
3879  1271  CD BE 08    	call	_game_kill_all_sprites
3880  1274  CD 00 00    	call	_spr_draw_clear
3881  1277  21 00 00    	ld	hl,_pb_midi_title
3882  127A  CD 00 00    	call	_ay_midi_play
3883  127D  21 00 00    	ld	hl,_tmp1
3884  1280  36 50       	ld	(hl),0x50
3885  1282              l_game_end_00102:
3886  1282  3E 70       	ld	a,0x70
3887  1284  21 00 00    	ld	hl,_tmp1
3888  1287  96          	sub	a, (hl)
3889  1288  38 28       	jr	C,l_game_end_00104
3890  128A  21 00 00    	ld	hl,_tmp0
3891  128D  36 04       	ld	(hl),0x04
3892  128F              l_game_end_00130:
3893  128F  3A 00 00    	ld	a,(_tmp0)
3894  1292  F5          	push	af
3895  1293  33          	inc	sp
3896  1294  3A 00 00    	ld	a,(_tmp1)
3897  1297  57          	ld	d,a
3898  1298  1E 8C       	ld	e,0x8c
3899  129A  D5          	push	de
3900  129B  CD 00 00    	call	_NIRVANAP_drawT_callee
3901  129E  21 00 00    	ld	hl,_tmp0
3902  12A1  7E          	ld	a,(hl)
3903  12A2  3C          	inc	a
3904  12A3  3C          	inc	a
3905  12A4  77          	ld	(hl),a
3906  12A5  D6 1C       	sub	a,0x1c
3907  12A7  38 E6       	jr	C,l_game_end_00130
3908  12A9  21 00 00    	ld	hl,_tmp1
3909  12AC  7E          	ld	a,(hl)
3910  12AD  C6 10       	add	a,0x10
3911  12AF  77          	ld	(hl),a
3912  12B0  18 D0       	jr	l_game_end_00102
3913  12B2              l_game_end_00104:
3914  12B2  21 50 18    	ld	hl,0x1850
3915  12B5  E5          	push	hl
3916  12B6  3E D6       	ld	a,0xd6
3917  12B8  F5          	push	af
3918  12B9  33          	inc	sp
3919  12BA  CD 00 00    	call	_NIRVANAP_drawT_callee
3920  12BD  21 9C 01    	ld	hl,0x019c
3921  12C0  E5          	push	hl
3922  12C1  21 01 1D    	ld	hl,0x1d01
3923  12C4  E5          	push	hl
3924  12C5  3E 20       	ld	a,0x20
3925  12C7  F5          	push	af
3926  12C8  33          	inc	sp
3927  12C9  CD C9 10    	call	_game_menu_e
3928  12CC  F1          	pop	af
3929  12CD  33          	inc	sp
3930  12CE  21 9F FF    	ld	hl,0xff9f
3931  12D1  E3          	ex	(sp),hl
3932  12D2  21 01 1D    	ld	hl,0x1d01
3933  12D5  E5          	push	hl
3934  12D6  3E 80       	ld	a,0x80
3935  12D8  F5          	push	af
3936  12D9  33          	inc	sp
3937  12DA  CD C9 10    	call	_game_menu_e
3938  12DD  F1          	pop	af
3939  12DE  F1          	pop	af
3940  12DF  33          	inc	sp
3941  12E0  3E 00       	ld	a,0x00
3942  12E2  DD 77 FC    	ld	(ix-4),a
3943  12E5  DD 77 FD    	ld	(ix-3),a
3944  12E8  3A 00 00    	ld	a,(_game_two_player)
3945  12EB  B7          	or	a, a
3946  12EC  28 16       	jr	Z,l_game_end_00110
3947  12EE  3A 00 00    	ld	a,(_game_lives)
3948  12F1  B7          	or	a, a
3949  12F2  28 04       	jr	Z,l_game_end_00106
3950  12F4  DD 36 FC 01 	ld	(ix-4),0x01
3951  12F8              l_game_end_00106:
3952  12F8  3A 01 00    	ld	a, (_game_lives + 1)
3953  12FB  B7          	or	a, a
3954  12FC  28 0A       	jr	Z,l_game_end_00111
3955  12FE  DD 36 FD 01 	ld	(ix-3),0x01
3956  1302  18 04       	jr	l_game_end_00111
3957  1304              l_game_end_00110:
3958  1304  DD 36 FC 01 	ld	(ix-4),0x01
3959  1308              l_game_end_00111:
3960  1308  DD 7E FC    	ld	a,(ix-4)
3961  130B  3D          	dec	a
3962  130C  20 04       	jr	NZ,l_game_end_00210
3963  130E  3E 01       	ld	a,0x01
3964  1310  18 01       	jr	l_game_end_00211
3965  1312              l_game_end_00210:
3966  1312  AF          	xor	a,a
3967  1313              l_game_end_00211:
3968  1313  DD 77 FF    	ld	(ix-1),a
3969  1316  B7          	or	a, a
3970  1317  28 1C       	jr	Z,l_game_end_00113
3971  1319  DD 7E FD    	ld	a,(ix-3)
3972  131C  B7          	or	a, a
3973  131D  20 16       	jr	NZ,l_game_end_00113
3974  131F  21 6A 01    	ld	hl,___str_41
3975  1322  E5          	push	hl
3976  1323  21 13 01    	ld	hl,0x0113
3977  1326  E5          	push	hl
3978  1327  CD 00 00    	call	_zx_print_str
3979  132A  21 50 0C    	ld	hl,0x0c50
3980  132D  E5          	push	hl
3981  132E  3E 03       	ld	a,0x03
3982  1330  F5          	push	af
3983  1331  33          	inc	sp
3984  1332  CD 00 00    	call	_NIRVANAP_drawT_callee
3985  1335              l_game_end_00113:
3986  1335  DD 7E FD    	ld	a,(ix-3)
3987  1338  3D          	dec	a
3988  1339  20 04       	jr	NZ,l_game_end_00212
3989  133B  3E 01       	ld	a,0x01
3990  133D  18 01       	jr	l_game_end_00213
3991  133F              l_game_end_00212:
3992  133F  AF          	xor	a,a
3993  1340              l_game_end_00213:
3994  1340  DD 77 FE    	ld	(ix-2),a
3995  1343  DD 7E FC    	ld	a,(ix-4)
3996  1346  B7          	or	a, a
3997  1347  20 1C       	jr	NZ,l_game_end_00116
3998  1349  DD 7E FE    	ld	a,(ix-2)
3999  134C  B7          	or	a, a
4000  134D  28 16       	jr	Z,l_game_end_00116
4001  134F  21 74 01    	ld	hl,___str_42
4002  1352  E5          	push	hl
4003  1353  21 13 01    	ld	hl,0x0113
4004  1356  E5          	push	hl
4005  1357  CD 00 00    	call	_zx_print_str
4006  135A  21 60 0E    	ld	hl,0x0e60
4007  135D  E5          	push	hl
4008  135E  3E 1B       	ld	a,0x1b
4009  1360  F5          	push	af
4010  1361  33          	inc	sp
4011  1362  CD 00 00    	call	_NIRVANAP_drawT_callee
4012  1365              l_game_end_00116:
4013  1365  DD 7E FF    	ld	a,(ix-1)
4014  1368  B7          	or	a, a
4015  1369  28 27       	jr	Z,l_game_end_00119
4016  136B  DD 7E FE    	ld	a,(ix-2)
4017  136E  B7          	or	a, a
4018  136F  28 21       	jr	Z,l_game_end_00119
4019  1371  21 7D 01    	ld	hl,___str_43
4020  1374  E5          	push	hl
4021  1375  21 13 01    	ld	hl,0x0113
4022  1378  E5          	push	hl
4023  1379  CD 00 00    	call	_zx_print_str
4024  137C  21 50 0C    	ld	hl,0x0c50
4025  137F  E5          	push	hl
4026  1380  3E 03       	ld	a,0x03
4027  1382  F5          	push	af
4028  1383  33          	inc	sp
4029  1384  CD 00 00    	call	_NIRVANAP_drawT_callee
4030  1387  21 60 0E    	ld	hl,0x0e60
4031  138A  E5          	push	hl
4032  138B  3E 1B       	ld	a,0x1b
4033  138D  F5          	push	af
4034  138E  33          	inc	sp
4035  138F  CD 00 00    	call	_NIRVANAP_drawT_callee
4036  1392              l_game_end_00119:
4037  1392  21 C8 00    	ld	hl,0x00c8
4038  1395  E5          	push	hl
4039  1396  21 01 1F    	ld	hl,0x1f01
4040  1399  E5          	push	hl
4041  139A  3E 13       	ld	a,0x13
4042  139C  F5          	push	af
4043  139D  33          	inc	sp
4044  139E  CD 86 19    	call	_game_colour_message
4045  13A1  F1          	pop	af
4046  13A2  F1          	pop	af
4047  13A3  33          	inc	sp
4048  13A4  DD 7E FF    	ld	a,(ix-1)
4049  13A7  B7          	or	a, a
4050  13A8  28 32       	jr	Z,l_game_end_00122
4051  13AA  DD 7E FD    	ld	a,(ix-3)
4052  13AD  B7          	or	a, a
4053  13AE  20 2C       	jr	NZ,l_game_end_00122
4054  13B0  21 40 12    	ld	hl,0x1240
4055  13B3  E5          	push	hl
4056  13B4  3E BE       	ld	a,0xbe
4057  13B6  F5          	push	af
4058  13B7  33          	inc	sp
4059  13B8  CD 00 00    	call	_NIRVANAP_drawT_callee
4060  13BB  21 50 12    	ld	hl,0x1250
4061  13BE  E5          	push	hl
4062  13BF  3E CA       	ld	a,0xca
4063  13C1  F5          	push	af
4064  13C2  33          	inc	sp
4065  13C3  CD 00 00    	call	_NIRVANAP_drawT_callee
4066  13C6  21 91 01    	ld	hl,___str_44
4067  13C9  E5          	push	hl
4068  13CA  21 13 01    	ld	hl,0x0113
4069  13CD  E5          	push	hl
4070  13CE  CD 00 00    	call	_zx_print_str
4071  13D1  21 40 0C    	ld	hl,0x0c40
4072  13D4  E5          	push	hl
4073  13D5  3E BE       	ld	a,0xbe
4074  13D7  F5          	push	af
4075  13D8  33          	inc	sp
4076  13D9  CD 00 00    	call	_NIRVANAP_drawT_callee
4077  13DC              l_game_end_00122:
4078  13DC  DD 7E FC    	ld	a,(ix-4)
4079  13DF  B7          	or	a, a
4080  13E0  20 32       	jr	NZ,l_game_end_00125
4081  13E2  DD 7E FE    	ld	a,(ix-2)
4082  13E5  B7          	or	a, a
4083  13E6  28 2C       	jr	Z,l_game_end_00125
4084  13E8  21 50 12    	ld	hl,0x1250
4085  13EB  E5          	push	hl
4086  13EC  3E BE       	ld	a,0xbe
4087  13EE  F5          	push	af
4088  13EF  33          	inc	sp
4089  13F0  CD 00 00    	call	_NIRVANAP_drawT_callee
4090  13F3  21 60 12    	ld	hl,0x1260
4091  13F6  E5          	push	hl
4092  13F7  3E CA       	ld	a,0xca
4093  13F9  F5          	push	af
4094  13FA  33          	inc	sp
4095  13FB  CD 00 00    	call	_NIRVANAP_drawT_callee
4096  13FE  21 91 01    	ld	hl,___str_44
4097  1401  E5          	push	hl
4098  1402  21 13 01    	ld	hl,0x0113
4099  1405  E5          	push	hl
4100  1406  CD 00 00    	call	_zx_print_str
4101  1409  21 50 0E    	ld	hl,0x0e50
4102  140C  E5          	push	hl
4103  140D  3E BE       	ld	a,0xbe
4104  140F  F5          	push	af
4105  1410  33          	inc	sp
4106  1411  CD 00 00    	call	_NIRVANAP_drawT_callee
4107  1414              l_game_end_00125:
4108  1414  DD 7E FF    	ld	a,(ix-1)
4109  1417  B7          	or	a, a
4110  1418  28 53       	jr	Z,l_game_end_00128
4111  141A  DD 7E FE    	ld	a,(ix-2)
4112  141D  B7          	or	a, a
4113  141E  28 4D       	jr	Z,l_game_end_00128
4114  1420  21 A5 01    	ld	hl,___str_45
4115  1423  E5          	push	hl
4116  1424  21 13 01    	ld	hl,0x0113
4117  1427  E5          	push	hl
4118  1428  CD 00 00    	call	_zx_print_str
4119  142B  21 40 12    	ld	hl,0x1240
4120  142E  E5          	push	hl
4121  142F  3E BE       	ld	a,0xbe
4122  1431  F5          	push	af
4123  1432  33          	inc	sp
4124  1433  CD 00 00    	call	_NIRVANAP_drawT_callee
4125  1436  21 50 12    	ld	hl,0x1250
4126  1439  E5          	push	hl
4127  143A  3E CA       	ld	a,0xca
4128  143C  F5          	push	af
4129  143D  33          	inc	sp
4130  143E  CD 00 00    	call	_NIRVANAP_drawT_callee
4131  1441  21 50 10    	ld	hl,0x1050
4132  1444  E5          	push	hl
4133  1445  3E BE       	ld	a,0xbe
4134  1447  F5          	push	af
4135  1448  33          	inc	sp
4136  1449  CD 00 00    	call	_NIRVANAP_drawT_callee
4137  144C  21 60 10    	ld	hl,0x1060
4138  144F  E5          	push	hl
4139  1450  3E CA       	ld	a,0xca
4140  1452  F5          	push	af
4141  1453  33          	inc	sp
4142  1454  CD 00 00    	call	_NIRVANAP_drawT_callee
4143  1457  21 40 0C    	ld	hl,0x0c40
4144  145A  E5          	push	hl
4145  145B  3E BE       	ld	a,0xbe
4146  145D  F5          	push	af
4147  145E  33          	inc	sp
4148  145F  CD 00 00    	call	_NIRVANAP_drawT_callee
4149  1462  21 50 0E    	ld	hl,0x0e50
4150  1465  E5          	push	hl
4151  1466  3E BE       	ld	a,0xbe
4152  1468  F5          	push	af
4153  1469  33          	inc	sp
4154  146A  CD 00 00    	call	_NIRVANAP_drawT_callee
4155  146D              l_game_end_00128:
4156  146D  21 C8 00    	ld	hl,0x00c8
4157  1470  E5          	push	hl
4158  1471  21 01 1F    	ld	hl,0x1f01
4159  1474  E5          	push	hl
4160  1475  3E 13       	ld	a,0x13
4161  1477  F5          	push	af
4162  1478  33          	inc	sp
4163  1479  CD 86 19    	call	_game_colour_message
4164  147C  F1          	pop	af
4165  147D  33          	inc	sp
4166  147E  21 BB 01    	ld	hl,___str_46
4167  1481  E3          	ex	(sp),hl
4168  1482  21 13 01    	ld	hl,0x0113
4169  1485  E5          	push	hl
4170  1486  CD 00 00    	call	_zx_print_str
4171  1489  CD 00 00    	call	_spr_draw_clear
4172  148C  DD F9       	ld	sp, ix
4173  148E  DD E1       	pop	ix
4174  1490  C9          	ret
4175  1491              	SECTION rodata_compiler
4176  016A              ___str_41:
4177  016A  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4178  0173  00          	DEFB 0x00
4179  0174              	SECTION rodata_compiler
4180  0174              ___str_42:
4181  0174  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4182  017C  00          	DEFB 0x00
4183  017D              	SECTION rodata_compiler
4184  017D              ___str_43:
4185  017D  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4186  0190  00          	DEFB 0x00
4187  0191              	SECTION rodata_compiler
4188  0191              ___str_44:
4189  0191  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4190  01A4  00          	DEFB 0x00
4191  01A5              	SECTION rodata_compiler
4192  01A5              ___str_45:
4193  01A5  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4194  01BA  00          	DEFB 0x00
4195  01BB              	SECTION rodata_compiler
4196  01BB              ___str_46:
4197  01BB  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 2C 20 53 45 45 20 59 4F 55 21 
                        	DEFM "THANK YOU FOR PLAYING!, SEE YOU!"
4198  01DB  00          	DEFB 0x00
4199  01DC              	SECTION code_compiler
4200  1491              ;	---------------------------------
4201  1491              ; Function game_hall_check
4202  1491              ; ---------------------------------
4203  1491              _game_hall_check:
4204  1491  5D          	ld	e,l
4205  1492  01 00 00    	ld	bc,_player_score+0
4206  1495  26 00       	ld	h,0x00
4207  1497  6B          	ld	l, e
4208  1498  29          	add	hl, hl
4209  1499  09          	add	hl,bc
4210  149A  4E          	ld	c,(hl)
4211  149B  23          	inc	hl
4212  149C  46          	ld	b,(hl)
4213  149D  2A 3A 00    	ld	hl,(_hof + 0x003a)
4214  14A0  AF          	xor	a,a
4215  14A1  ED 42       	sbc	hl,bc
4216  14A3  30 09       	jr	NC,l_game_hall_check_00104
4217  14A5  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4218  14A9  21 36 00    	ld	hl,+(_hof + 0x0036)
4219  14AC  18 14       	jr	l_game_hall_check_00106
4220  14AE              l_game_hall_check_00104:
4221  14AE  2A 34 00    	ld	hl,(_hof + 0x0034)
4222  14B1  AF          	xor	a,a
4223  14B2  ED 42       	sbc	hl,bc
4224  14B4  30 09       	jr	NC,l_game_hall_check_00105
4225  14B6  ED 43 34 00 	ld	(_hof + 0x0034),bc
4226  14BA  21 30 00    	ld	hl,+(_hof + 0x0030)
4227  14BD  18 03       	jr	l_game_hall_check_00106
4228  14BF              l_game_hall_check_00105:
4229  14BF  21 00 00    	ld	hl,0x0000
4230  14C2              l_game_hall_check_00106:
4231  14C2  C9          	ret
4232  14C3              	SECTION code_compiler
4233  14C3              ;	---------------------------------
4234  14C3              ; Function compare_scores
4235  14C3              ; ---------------------------------
4236  14C3              _compare_scores:
4237  14C3  CD 00 00    	call	___sdcc_enter_ix
4238  14C6  DD 6E 06    	ld	l,(ix+6)
4239  14C9  DD 66 07    	ld	h,(ix+7)
4240  14CC  11 04 00    	ld	de,0x0004
4241  14CF  19          	add	hl, de
4242  14D0  4E          	ld	c,(hl)
4243  14D1  23          	inc	hl
4244  14D2  46          	ld	b,(hl)
4245  14D3  DD 6E 04    	ld	l,(ix+4)
4246  14D6  DD 66 05    	ld	h,(ix+5)
4247  14D9  11 04 00    	ld	de,0x0004
4248  14DC  19          	add	hl, de
4249  14DD  7E          	ld	a,(hl)
4250  14DE  23          	inc	hl
4251  14DF  56          	ld	d,(hl)
4252  14E0  5F          	ld	e,a
4253  14E1  91          	sub	a, c
4254  14E2  7A          	ld	a,d
4255  14E3  98          	sbc	a, b
4256  14E4  30 05       	jr	NC,l_compare_scores_00102
4257  14E6  21 01 00    	ld	hl,0x0001
4258  14E9  18 10       	jr	l_compare_scores_00105
4259  14EB              l_compare_scores_00102:
4260  14EB  79          	ld	a,c
4261  14EC  93          	sub	a, e
4262  14ED  20 09       	jr	NZ,l_compare_scores_00104
4263  14EF  78          	ld	a,b
4264  14F0  92          	sub	a, d
4265  14F1  20 05       	jr	NZ,l_compare_scores_00104
4266  14F3  21 00 00    	ld	hl,0x0000
4267  14F6  18 03       	jr	l_compare_scores_00105
4268  14F8              l_compare_scores_00104:
4269  14F8  21 FF FF    	ld	hl,0xffff
4270  14FB              l_compare_scores_00105:
4271  14FB  DD E1       	pop	ix
4272  14FD  C9          	ret
4273  14FE              	SECTION code_compiler
4274  14FE              ;	---------------------------------
4275  14FE              ; Function game_hall_enter
4276  14FE              ; ---------------------------------
4277  14FE              _game_hall_enter:
4278  14FE  CD 00 00    	call	___sdcc_enter_ix
4279  1501  21 F7 FF    	ld	hl,-9
4280  1504  39          	add	hl,sp
4281  1505  F9          	ld	sp,hl
4282  1506  CD 00 00    	call	_spr_draw_clear
4283  1509  2E 00       	ld	l,0x00
4284  150B  CD E5 0C    	call	_game_paint_attrib
4285  150E  ED 4B 00 00 	ld	bc,(_player_score)
4286  1512  2A 02 00    	ld	hl, (_player_score + 2)
4287  1515  AF          	xor	a,a
4288  1516  ED 42       	sbc	hl,bc
4289  1518  30 0F       	jr	NC,l_game_hall_enter_00102
4290  151A  2E 00       	ld	l,0x00
4291  151C  CD 91 14    	call	_game_hall_check
4292  151F  E5          	push	hl
4293  1520  2E 01       	ld	l,0x01
4294  1522  CD 91 14    	call	_game_hall_check
4295  1525  EB          	ex	de,hl
4296  1526  C1          	pop	bc
4297  1527  18 0E       	jr	l_game_hall_enter_00103
4298  1529              l_game_hall_enter_00102:
4299  1529  2E 01       	ld	l,0x01
4300  152B  CD 91 14    	call	_game_hall_check
4301  152E  E5          	push	hl
4302  152F  2E 00       	ld	l,0x00
4303  1531  CD 91 14    	call	_game_hall_check
4304  1534  D1          	pop	de
4305  1535  4D          	ld	c,l
4306  1536  44          	ld	b,h
4307  1537              l_game_hall_enter_00103:
4308  1537  78          	ld	a,b
4309  1538  B1          	or	a,c
4310  1539  20 05       	jr	NZ,l_game_hall_enter_00125
4311  153B  7A          	ld	a,d
4312  153C  B3          	or	a,e
4313  153D  CA 8B 16    	jp	Z,l_game_hall_enter_00126
4314  1540              l_game_hall_enter_00125:
4315  1540  3E 00       	ld	a,0x00
4316  1542  DD 77 FB    	ld	(ix-5),a
4317  1545  DD 77 FA    	ld	(ix-6),a
4318  1548  DD 77 F9    	ld	(ix-7),a
4319  154B  DD 77 F8    	ld	(ix-8),a
4320  154E  DD 36 F7 00 	ld	(ix-9),0x00
4321  1552  78          	ld	a,b
4322  1553  B1          	or	a,c
4323  1554  28 0D       	jr	Z,l_game_hall_enter_00105
4324  1556  DD 36 F8 01 	ld	(ix-8),0x01
4325  155A  C5          	push	bc
4326  155B  D5          	push	de
4327  155C  2E 00       	ld	l,0x00
4328  155E  CD AE 16    	call	_game_hall_enter_phs
4329  1561  D1          	pop	de
4330  1562  C1          	pop	bc
4331  1563              l_game_hall_enter_00105:
4332  1563  7A          	ld	a,d
4333  1564  B3          	or	a,e
4334  1565  28 0D       	jr	Z,l_game_hall_enter_00107
4335  1567  DD 36 F7 05 	ld	(ix-9),0x05
4336  156B  C5          	push	bc
4337  156C  D5          	push	de
4338  156D  2E 01       	ld	l,0x01
4339  156F  CD AE 16    	call	_game_hall_enter_phs
4340  1572  D1          	pop	de
4341  1573  C1          	pop	bc
4342  1574              l_game_hall_enter_00107:
4343  1574  C5          	push	bc
4344  1575  D5          	push	de
4345  1576  21 DC 01    	ld	hl,___str_47
4346  1579  E5          	push	hl
4347  157A  21 02 0A    	ld	hl,0x0a02
4348  157D  E5          	push	hl
4349  157E  CD 00 00    	call	_zx_print_str
4350  1581  21 E9 01    	ld	hl,___str_48
4351  1584  E5          	push	hl
4352  1585  21 12 06    	ld	hl,0x0612
4353  1588  E5          	push	hl
4354  1589  CD 00 00    	call	_zx_print_str
4355  158C  21 FC 01    	ld	hl,___str_49
4356  158F  E5          	push	hl
4357  1590  21 13 06    	ld	hl,0x0613
4358  1593  E5          	push	hl
4359  1594  CD 00 00    	call	_zx_print_str
4360  1597  D1          	pop	de
4361  1598  C1          	pop	bc
4362  1599  DD 71 FE    	ld	(ix-2),c
4363  159C  DD 70 FF    	ld	(ix-1),b
4364  159F  DD 73 FC    	ld	(ix-4),e
4365  15A2  DD 72 FD    	ld	(ix-3),d
4366  15A5              l_game_hall_enter_00122:
4367  15A5  DD 7E F8    	ld	a,(ix-8)
4368  15A8  DD 86 F7    	add	a,(ix-9)
4369  15AB  B7          	or	a, a
4370  15AC  CA 73 16    	jp	Z,l_game_hall_enter_00124
4371  15AF  21 05 00    	ld	hl,0x0005
4372  15B2  E5          	push	hl
4373  15B3  2A 00 00    	ld	hl,(_frame_time)
4374  15B6  E5          	push	hl
4375  15B7  CD 18 1A    	call	_game_check_time
4376  15BA  F1          	pop	af
4377  15BB  F1          	pop	af
4378  15BC  7D          	ld	a,l
4379  15BD  B7          	or	a, a
4380  15BE  28 36       	jr	Z,l_game_hall_enter_00113
4381  15C0  DD 7E F9    	ld	a,(ix-7)
4382  15C3  D6 01       	sub	a,0x01
4383  15C5  3E 00       	ld	a,0x00
4384  15C7  17          	rla
4385  15C8  DD 77 F9    	ld	(ix-7),a
4386  15CB  DD 7E F8    	ld	a,(ix-8)
4387  15CE  B7          	or	a, a
4388  15CF  28 0B       	jr	Z,l_game_hall_enter_00109
4389  15D1  DD 66 F9    	ld	h,(ix-7)
4390  15D4  DD 6E F8    	ld	l,(ix-8)
4391  15D7  E5          	push	hl
4392  15D8  CD 25 17    	call	_game_hall_print_p
4393  15DB  F1          	pop	af
4394  15DC              l_game_hall_enter_00109:
4395  15DC  DD 7E F7    	ld	a,(ix-9)
4396  15DF  B7          	or	a, a
4397  15E0  28 0B       	jr	Z,l_game_hall_enter_00111
4398  15E2  DD 66 F9    	ld	h,(ix-7)
4399  15E5  DD 6E F7    	ld	l,(ix-9)
4400  15E8  E5          	push	hl
4401  15E9  CD 25 17    	call	_game_hall_print_p
4402  15EC  F1          	pop	af
4403  15ED              l_game_hall_enter_00111:
4404  15ED  CD 6A 19    	call	_game_rotate_attrib
4405  15F0  2A 00 00    	ld	hl,(_curr_time)
4406  15F3  22 00 00    	ld	(_frame_time),hl
4407  15F6              l_game_hall_enter_00113:
4408  15F6  21 00 00    	ld	hl,_k1
4409  15F9  E5          	push	hl
4410  15FA  2A 00 00    	ld	hl,(_joyfunc1)
4411  15FD  CD 00 00    	call	___sdcc_call_hl
4412  1600  F1          	pop	af
4413  1601  7D          	ld	a,l
4414  1602  32 00 00    	ld	(_dirs),a
4415  1605  DD 7E FB    	ld	a,(ix-5)
4416  1608  B7          	or	a, a
4417  1609  20 22       	jr	NZ,l_game_hall_enter_00115
4418  160B  DD 7E F8    	ld	a,(ix-8)
4419  160E  B7          	or	a, a
4420  160F  28 1C       	jr	Z,l_game_hall_enter_00115
4421  1611  DD 6E F8    	ld	l,(ix-8)
4422  1614  CD E3 17    	call	_game_hall_edit_p
4423  1617  DD 75 F8    	ld	(ix-8),l
4424  161A  7D          	ld	a,l
4425  161B  B7          	or	a, a
4426  161C  20 0F       	jr	NZ,l_game_hall_enter_00115
4427  161E  DD 5E FE    	ld	e,(ix-2)
4428  1621  DD 56 FF    	ld	d,(ix-1)
4429  1624  AF          	xor	a,a
4430  1625  21 00 00    	ld	hl,_initials
4431  1628              l_game_hall_enter_00190:
4432  1628  BE          	cp	a, (hl)
4433  1629  ED A0       	ldi
4434  162B  20 FB       	jr	NZ, l_game_hall_enter_00190
4435  162D              l_game_hall_enter_00115:
4436  162D  3A 00 00    	ld	a,(_dirs)
4437  1630  DD 77 FB    	ld	(ix-5),a
4438  1633  21 00 00    	ld	hl,_k2
4439  1636  E5          	push	hl
4440  1637  2A 00 00    	ld	hl,(_joyfunc2)
4441  163A  CD 00 00    	call	___sdcc_call_hl
4442  163D  F1          	pop	af
4443  163E  7D          	ld	a,l
4444  163F  32 00 00    	ld	(_dirs),a
4445  1642  DD 7E FA    	ld	a,(ix-6)
4446  1645  B7          	or	a, a
4447  1646  20 22       	jr	NZ,l_game_hall_enter_00119
4448  1648  DD 7E F7    	ld	a,(ix-9)
4449  164B  B7          	or	a, a
4450  164C  28 1C       	jr	Z,l_game_hall_enter_00119
4451  164E  DD 6E F7    	ld	l,(ix-9)
4452  1651  CD E3 17    	call	_game_hall_edit_p
4453  1654  DD 75 F7    	ld	(ix-9),l
4454  1657  7D          	ld	a,l
4455  1658  B7          	or	a, a
4456  1659  20 0F       	jr	NZ,l_game_hall_enter_00119
4457  165B  DD 5E FC    	ld	e,(ix-4)
4458  165E  DD 56 FD    	ld	d,(ix-3)
4459  1661  AF          	xor	a,a
4460  1662  21 04 00    	ld	hl,+(_initials + 0x0004)
4461  1665              l_game_hall_enter_00191:
4462  1665  BE          	cp	a, (hl)
4463  1666  ED A0       	ldi
4464  1668  20 FB       	jr	NZ, l_game_hall_enter_00191
4465  166A              l_game_hall_enter_00119:
4466  166A  3A 00 00    	ld	a,(_dirs)
4467  166D  DD 77 FA    	ld	(ix-6),a
4468  1670  C3 A5 15    	jp	l_game_hall_enter_00122
4469  1673              l_game_hall_enter_00124:
4470  1673  CD 00 00    	call	_ay_reset
4471  1676  CD 00 00    	call	_spr_draw_clear
4472  1679  01 C3 14    	ld	bc,_compare_scores
4473  167C  C5          	push	bc
4474  167D  21 06 00    	ld	hl,0x0006
4475  1680  E5          	push	hl
4476  1681  2E 0A       	ld	l,0x0a
4477  1683  E5          	push	hl
4478  1684  21 00 00    	ld	hl,_hof
4479  1687  E5          	push	hl
4480  1688  CD 00 00    	call	__insertion_sort__callee
4481  168B              l_game_hall_enter_00126:
4482  168B  CD 99 18    	call	_game_hall_of_fame
4483  168E  2E 00       	ld	l,0x00
4484  1690  CD 98 16    	call	_game_menu_back
4485  1693  DD F9       	ld	sp, ix
4486  1695  DD E1       	pop	ix
4487  1697  C9          	ret
4488  1698              	SECTION rodata_compiler
4489  01DC              ___str_47:
4490  01DC  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4491  01E8  00          	DEFB 0x00
4492  01E9              	SECTION rodata_compiler
4493  01E9              ___str_48:
4494  01E9  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4495  01FB  00          	DEFB 0x00
4496  01FC              	SECTION rodata_compiler
4497  01FC              ___str_49:
4498  01FC  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4499  020F  00          	DEFB 0x00
4500  0210              	SECTION code_compiler
4501  1698              ;	---------------------------------
4502  1698              ; Function game_menu_back
4503  1698              ; ---------------------------------
4504  1698              _game_menu_back:
4505  1698  7D          	ld	a,l
4506  1699  32 00 00    	ld	(_s_lin1),a
4507  169C  21 00 00    	ld	hl,_game_menu_sel
4508  169F  36 00       	ld	(hl),0x00
4509  16A1  CD DA 0F    	call	_game_menu_top_paint
4510  16A4  CD 4E 10    	call	_game_menu_paint
4511  16A7  2A 00 00    	ld	hl,(_curr_time)
4512  16AA  22 00 00    	ld	(_entry_time),hl
4513  16AD  C9          	ret
4514  16AE              	SECTION code_compiler
4515  16AE              ;	---------------------------------
4516  16AE              ; Function game_hall_enter_phs
4517  16AE              ; ---------------------------------
4518  16AE              _game_hall_enter_phs:
4519  16AE  7D          	ld	a,l
4520  16AF  B7          	or	a, a
4521  16B0  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4522  16B2  21 9C 01    	ld	hl,0x019c
4523  16B5  E5          	push	hl
4524  16B6  21 02 0C    	ld	hl,0x0c02
4525  16B9  E5          	push	hl
4526  16BA  3E 30       	ld	a,0x30
4527  16BC  F5          	push	af
4528  16BD  33          	inc	sp
4529  16BE  CD C9 10    	call	_game_menu_e
4530  16C1  F1          	pop	af
4531  16C2  33          	inc	sp
4532  16C3  21 9F FF    	ld	hl,0xff9f
4533  16C6  E3          	ex	(sp),hl
4534  16C7  21 02 0C    	ld	hl,0x0c02
4535  16CA  E5          	push	hl
4536  16CB  3E 7C       	ld	a,0x7c
4537  16CD  F5          	push	af
4538  16CE  33          	inc	sp
4539  16CF  CD C9 10    	call	_game_menu_e
4540  16D2  F1          	pop	af
4541  16D3  33          	inc	sp
4542  16D4  21 10 02    	ld	hl,___str_50
4543  16D7  E3          	ex	(sp),hl
4544  16D8  21 07 05    	ld	hl,0x0507
4545  16DB  E5          	push	hl
4546  16DC  CD 00 00    	call	_zx_print_str
4547  16DF  21 15 02    	ld	hl,___str_51
4548  16E2  E5          	push	hl
4549  16E3  21 08 05    	ld	hl,0x0508
4550  16E6  E5          	push	hl
4551  16E7  CD 00 00    	call	_zx_print_str
4552  16EA  18 38       	jr	l_game_hall_enter_phs_00104
4553  16EC              l_game_hall_enter_phs_00102:
4554  16EC  21 9C 01    	ld	hl,0x019c
4555  16EF  E5          	push	hl
4556  16F0  21 12 1C    	ld	hl,0x1c12
4557  16F3  E5          	push	hl
4558  16F4  3E 30       	ld	a,0x30
4559  16F6  F5          	push	af
4560  16F7  33          	inc	sp
4561  16F8  CD C9 10    	call	_game_menu_e
4562  16FB  F1          	pop	af
4563  16FC  33          	inc	sp
4564  16FD  21 9F FF    	ld	hl,0xff9f
4565  1700  E3          	ex	(sp),hl
4566  1701  21 12 1C    	ld	hl,0x1c12
4567  1704  E5          	push	hl
4568  1705  3E 7C       	ld	a,0x7c
4569  1707  F5          	push	af
4570  1708  33          	inc	sp
4571  1709  CD C9 10    	call	_game_menu_e
4572  170C  F1          	pop	af
4573  170D  33          	inc	sp
4574  170E  21 10 02    	ld	hl,___str_50
4575  1711  E3          	ex	(sp),hl
4576  1712  21 07 15    	ld	hl,0x1507
4577  1715  E5          	push	hl
4578  1716  CD 00 00    	call	_zx_print_str
4579  1719  21 15 02    	ld	hl,___str_51
4580  171C  E5          	push	hl
4581  171D  21 08 15    	ld	hl,0x1508
4582  1720  E5          	push	hl
4583  1721  CD 00 00    	call	_zx_print_str
4584  1724              l_game_hall_enter_phs_00104:
4585  1724  C9          	ret
4586  1725              	SECTION rodata_compiler
4587  0210              ___str_50:
4588  0210  48 49 47 48 	DEFM "HIGH"
4589  0214  00          	DEFB 0x00
4590  0215              	SECTION rodata_compiler
4591  0215              ___str_51:
4592  0215  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4593  021B  00          	DEFB 0x00
4594  021C              	SECTION code_compiler
4595  1725              ;	---------------------------------
4596  1725              ; Function game_hall_print_p
4597  1725              ; ---------------------------------
4598  1725              _game_hall_print_p:
4599  1725  CD 00 00    	call	___sdcc_enter_ix
4600  1728  DD 7E 04    	ld	a,(ix+4)
4601  172B  D6 05       	sub	a,0x05
4602  172D  30 59       	jr	NC,l_game_hall_print_p_00108
4603  172F  21 00 00    	ld	hl,_initials
4604  1732  E5          	push	hl
4605  1733  21 0D 06    	ld	hl,0x060d
4606  1736  E5          	push	hl
4607  1737  CD 00 00    	call	_zx_print_str
4608  173A  DD 7E 04    	ld	a,(ix+4)
4609  173D  C6 06       	add	a,0x06
4610  173F  47          	ld	b,a
4611  1740  DD 7E 04    	ld	a,(ix+4)
4612  1743  C6 05       	add	a,0x05
4613  1745  57          	ld	d,a
4614  1746  3E 70       	ld	a,0x70
4615  1748  F5          	push	af
4616  1749  33          	inc	sp
4617  174A  4A          	ld	c, d
4618  174B  C5          	push	bc
4619  174C  CD 30 0D    	call	_game_paint_attrib_lin_h
4620  174F  F1          	pop	af
4621  1750  33          	inc	sp
4622  1751  76          	halt
4623  1752  DD 7E 05    	ld	a,(ix+5)
4624  1755  B7          	or	a, a
4625  1756  28 18       	jr	Z,l_game_hall_print_p_00102
4626  1758  21 56 06    	ld	hl,0x0656
4627  175B  E5          	push	hl
4628  175C  3E A9       	ld	a,0xa9
4629  175E  F5          	push	af
4630  175F  33          	inc	sp
4631  1760  CD 00 00    	call	_NIRVANAP_drawT_callee
4632  1763  21 58 06    	ld	hl,0x0658
4633  1766  E5          	push	hl
4634  1767  3E 03       	ld	a,0x03
4635  1769  F5          	push	af
4636  176A  33          	inc	sp
4637  176B  CD 00 00    	call	_NIRVANAP_drawT_callee
4638  176E  18 70       	jr	l_game_hall_print_p_00110
4639  1770              l_game_hall_print_p_00102:
4640  1770  21 58 06    	ld	hl,0x0658
4641  1773  E5          	push	hl
4642  1774  3E A9       	ld	a,0xa9
4643  1776  F5          	push	af
4644  1777  33          	inc	sp
4645  1778  CD 00 00    	call	_NIRVANAP_drawT_callee
4646  177B  21 56 06    	ld	hl,0x0656
4647  177E  E5          	push	hl
4648  177F  3E 16       	ld	a,0x16
4649  1781  F5          	push	af
4650  1782  33          	inc	sp
4651  1783  CD 00 00    	call	_NIRVANAP_drawT_callee
4652  1786  18 58       	jr	l_game_hall_print_p_00110
4653  1788              l_game_hall_print_p_00108:
4654  1788  21 04 00    	ld	hl,+(_initials + 0x0004)
4655  178B  E5          	push	hl
4656  178C  21 0D 16    	ld	hl,0x160d
4657  178F  E5          	push	hl
4658  1790  CD 00 00    	call	_zx_print_str
4659  1793  DD 7E 04    	ld	a,(ix+4)
4660  1796  C6 12       	add	a,0x12
4661  1798  57          	ld	d,a
4662  1799  DD 7E 04    	ld	a,(ix+4)
4663  179C  C6 11       	add	a,0x11
4664  179E  47          	ld	b,a
4665  179F  3E 70       	ld	a,0x70
4666  17A1  5A          	ld	e,d
4667  17A2  57          	ld	d,a
4668  17A3  D5          	push	de
4669  17A4  C5          	push	bc
4670  17A5  33          	inc	sp
4671  17A6  CD 30 0D    	call	_game_paint_attrib_lin_h
4672  17A9  F1          	pop	af
4673  17AA  33          	inc	sp
4674  17AB  76          	halt
4675  17AC  DD 7E 05    	ld	a,(ix+5)
4676  17AF  B7          	or	a, a
4677  17B0  28 18       	jr	Z,l_game_hall_print_p_00105
4678  17B2  21 56 17    	ld	hl,0x1756
4679  17B5  E5          	push	hl
4680  17B6  3E A9       	ld	a,0xa9
4681  17B8  F5          	push	af
4682  17B9  33          	inc	sp
4683  17BA  CD 00 00    	call	_NIRVANAP_drawT_callee
4684  17BD  21 58 17    	ld	hl,0x1758
4685  17C0  E5          	push	hl
4686  17C1  3E 27       	ld	a,0x27
4687  17C3  F5          	push	af
4688  17C4  33          	inc	sp
4689  17C5  CD 00 00    	call	_NIRVANAP_drawT_callee
4690  17C8  18 16       	jr	l_game_hall_print_p_00110
4691  17CA              l_game_hall_print_p_00105:
4692  17CA  21 58 17    	ld	hl,0x1758
4693  17CD  E5          	push	hl
4694  17CE  3E A9       	ld	a,0xa9
4695  17D0  F5          	push	af
4696  17D1  33          	inc	sp
4697  17D2  CD 00 00    	call	_NIRVANAP_drawT_callee
4698  17D5  21 56 17    	ld	hl,0x1756
4699  17D8  E5          	push	hl
4700  17D9  3E 2E       	ld	a,0x2e
4701  17DB  F5          	push	af
4702  17DC  33          	inc	sp
4703  17DD  CD 00 00    	call	_NIRVANAP_drawT_callee
4704  17E0              l_game_hall_print_p_00110:
4705  17E0  DD E1       	pop	ix
4706  17E2  C9          	ret
4707  17E3              	SECTION code_compiler
4708  17E3              ;	---------------------------------
4709  17E3              ; Function game_hall_edit_p
4710  17E3              ; ---------------------------------
4711  17E3              _game_hall_edit_p:
4712  17E3  CD 00 00    	call	___sdcc_enter_ix
4713  17E6  F5          	push	af
4714  17E7  4D          	ld	c,l
4715  17E8  0D          	dec	c
4716  17E9  3A 00 00    	ld	a,(_dirs)
4717  17EC  07          	rlca
4718  17ED  30 63       	jr	NC,l_game_hall_edit_p_00120
4719  17EF  79          	ld	a,c
4720  17F0  FE 04       	cp	a,0x04
4721  17F2  30 17       	jr	NC,l_game_hall_edit_p_00102
4722  17F4  C6 07       	add	a,0x07
4723  17F6  57          	ld	d,a
4724  17F7  79          	ld	a,c
4725  17F8  C6 06       	add	a,0x06
4726  17FA  47          	ld	b,a
4727  17FB  C5          	push	bc
4728  17FC  3E 70       	ld	a,0x70
4729  17FE  5A          	ld	e,d
4730  17FF  57          	ld	d,a
4731  1800  D5          	push	de
4732  1801  C5          	push	bc
4733  1802  33          	inc	sp
4734  1803  CD 09 0D    	call	_game_paint_attrib_lin
4735  1806  F1          	pop	af
4736  1807  33          	inc	sp
4737  1808  C1          	pop	bc
4738  1809  18 16       	jr	l_game_hall_edit_p_00103
4739  180B              l_game_hall_edit_p_00102:
4740  180B  79          	ld	a,c
4741  180C  C6 13       	add	a,0x13
4742  180E  57          	ld	d,a
4743  180F  79          	ld	a,c
4744  1810  C6 12       	add	a,0x12
4745  1812  47          	ld	b,a
4746  1813  C5          	push	bc
4747  1814  3E 70       	ld	a,0x70
4748  1816  5A          	ld	e,d
4749  1817  57          	ld	d,a
4750  1818  D5          	push	de
4751  1819  C5          	push	bc
4752  181A  33          	inc	sp
4753  181B  CD 09 0D    	call	_game_paint_attrib_lin
4754  181E  F1          	pop	af
4755  181F  33          	inc	sp
4756  1820  C1          	pop	bc
4757  1821              l_game_hall_edit_p_00103:
4758  1821  C5          	push	bc
4759  1822  CD 00 00    	call	_sound_slide
4760  1825  C1          	pop	bc
4761  1826  21 00 00    	ld	hl,_ay_effect_01
4762  1829  CD 00 00    	call	_ay_fx_play
4763  182C  11 00 00    	ld	de,_initials+0
4764  182F  41          	ld	b,c
4765  1830  0C          	inc	c
4766  1831  68          	ld	l,b
4767  1832  26 00       	ld	h,0x00
4768  1834  19          	add	hl,de
4769  1835  7E          	ld	a,(hl)
4770  1836  D6 7B       	sub	a,0x7b
4771  1838  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4772  183A  0D          	dec	c
4773  183B  79          	ld	a,c
4774  183C  E6 03       	and	a,0x03
4775  183E  28 08       	jr	Z,l_game_hall_edit_p_00107
4776  1840  41          	ld	b,c
4777  1841  0D          	dec	c
4778  1842  68          	ld	l,b
4779  1843  26 00       	ld	h,0x00
4780  1845  19          	add	hl,de
4781  1846  36 41       	ld	(hl),0x41
4782  1848              l_game_hall_edit_p_00107:
4783  1848  79          	ld	a,c
4784  1849  E6 03       	and	a,0x03
4785  184B  D6 03       	sub	a,0x03
4786  184D  20 44       	jr	NZ,l_game_hall_edit_p_00121
4787  184F  6F          	ld	l,a
4788  1850  18 43       	jr	l_game_hall_edit_p_00122
4789  1852              l_game_hall_edit_p_00120:
4790  1852  3A 00 00    	ld	a,(_dirs)
4791  1855  E6 0C       	and	a,0x0c
4792  1857  28 3A       	jr	Z,l_game_hall_edit_p_00121
4793  1859  11 00 00    	ld	de,_hall_valids
4794  185C  3E 00       	ld	a,+((_initials) & 0xFF)
4795  185E  81          	add	a, c
4796  185F  DD 77 FE    	ld	(ix-2),a
4797  1862  3E 00       	ld	a,+((_initials) / 256)
4798  1864  CE 00       	adc	a,0x00
4799  1866  DD 77 FF    	ld	(ix-1),a
4800  1869  E1          	pop	hl
4801  186A  46          	ld	b,(hl)
4802  186B  E5          	push	hl
4803  186C              l_game_hall_edit_p_00168:
4804  186C  1A          	ld	a, (de)
4805  186D  B8          	cp	a, b
4806  186E  28 06       	jr	Z,l_game_hall_edit_p_00167
4807  1870  B7          	or	a, a
4808  1871  13          	inc	de
4809  1872  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4810  1874  5F          	ld	e, a
4811  1875  57          	ld	d, a
4812  1876              l_game_hall_edit_p_00167:
4813  1876  3A 00 00    	ld	a,(_dirs)
4814  1879  E6 04       	and	a,0x04
4815  187B  28 0A       	jr	Z,l_game_hall_edit_p_00115
4816  187D  1B          	dec	de
4817  187E  1A          	ld	a,(de)
4818  187F  3D          	dec	a
4819  1880  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4820  1882  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4821  1885  18 08       	jr	l_game_hall_edit_p_00116
4822  1887              l_game_hall_edit_p_00115:
4823  1887  13          	inc	de
4824  1888  1A          	ld	a,(de)
4825  1889  B7          	or	a, a
4826  188A  20 03       	jr	NZ,l_game_hall_edit_p_00116
4827  188C  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4828  188F              l_game_hall_edit_p_00116:
4829  188F  E1          	pop	hl
4830  1890  1A          	ld	a,(de)
4831  1891  E5          	push	hl
4832  1892  77          	ld	(hl),a
4833  1893              l_game_hall_edit_p_00121:
4834  1893  0C          	inc	c
4835  1894  69          	ld	l,c
4836  1895              l_game_hall_edit_p_00122:
4837  1895  F1          	pop	af
4838  1896  DD E1       	pop	ix
4839  1898  C9          	ret
4840  1899              	SECTION code_compiler
4841  1899              ;	---------------------------------
4842  1899              ; Function game_hall_of_fame
4843  1899              ; ---------------------------------
4844  1899              _game_hall_of_fame:
4845  1899  CD 00 00    	call	_spr_draw_clear
4846  189C  2E 00       	ld	l,0x00
4847  189E  CD E5 0C    	call	_game_paint_attrib
4848  18A1  21 9C 01    	ld	hl,0x019c
4849  18A4  E5          	push	hl
4850  18A5  21 06 18    	ld	hl,0x1806
4851  18A8  E5          	push	hl
4852  18A9  3E 10       	ld	a,0x10
4853  18AB  F5          	push	af
4854  18AC  33          	inc	sp
4855  18AD  CD C9 10    	call	_game_menu_e
4856  18B0  F1          	pop	af
4857  18B1  33          	inc	sp
4858  18B2  21 9F FF    	ld	hl,0xff9f
4859  18B5  E3          	ex	(sp),hl
4860  18B6  21 06 18    	ld	hl,0x1806
4861  18B9  E5          	push	hl
4862  18BA  3E 98       	ld	a,0x98
4863  18BC  F5          	push	af
4864  18BD  33          	inc	sp
4865  18BE  CD C9 10    	call	_game_menu_e
4866  18C1  F1          	pop	af
4867  18C2  F1          	pop	af
4868  18C3  33          	inc	sp
4869  18C4  21 00 00    	ld	hl,_s_lin1
4870  18C7  36 00       	ld	(hl),0x00
4871  18C9              l_game_hall_of_fame_00102:
4872  18C9  21 00 00    	ld	hl,_screen_ink
4873  18CC  36 05       	ld	(hl),0x05
4874  18CE  2A 00 00    	ld	hl,(_s_lin1)
4875  18D1  26 00       	ld	h,0x00
4876  18D3  4D          	ld	c,l
4877  18D4  44          	ld	b,h
4878  18D5  29          	add	hl, hl
4879  18D6  09          	add	hl, bc
4880  18D7  29          	add	hl, hl
4881  18D8  01 00 00    	ld	bc,_hof
4882  18DB  09          	add	hl,bc
4883  18DC  3A 00 00    	ld	a,(_s_lin1)
4884  18DF  EB          	ex	de,hl
4885  18E0  C6 07       	add	a,0x07
4886  18E2  47          	ld	b,a
4887  18E3  D5          	push	de
4888  18E4  3E 0A       	ld	a,0x0a
4889  18E6  48          	ld	c,b
4890  18E7  47          	ld	b,a
4891  18E8  C5          	push	bc
4892  18E9  CD 00 00    	call	_zx_print_str
4893  18EC  2A 00 00    	ld	hl,(_s_lin1)
4894  18EF  26 00       	ld	h,0x00
4895  18F1  4D          	ld	c,l
4896  18F2  44          	ld	b,h
4897  18F3  29          	add	hl, hl
4898  18F4  09          	add	hl, bc
4899  18F5  29          	add	hl, hl
4900  18F6  01 00 00    	ld	bc,_hof
4901  18F9  09          	add	hl,bc
4902  18FA  11 04 00    	ld	de,0x0004
4903  18FD  19          	add	hl, de
4904  18FE  5E          	ld	e,(hl)
4905  18FF  23          	inc	hl
4906  1900  56          	ld	d,(hl)
4907  1901  3A 00 00    	ld	a,(_s_lin1)
4908  1904  C6 07       	add	a,0x07
4909  1906  47          	ld	b,a
4910  1907  D5          	push	de
4911  1908  3E 10       	ld	a,0x10
4912  190A  48          	ld	c,b
4913  190B  47          	ld	b,a
4914  190C  C5          	push	bc
4915  190D  CD 00 00    	call	_zx_print_int
4916  1910  11 1C 02    	ld	de,___str_52
4917  1913  3A 00 00    	ld	a,(_s_lin1)
4918  1916  C6 07       	add	a,0x07
4919  1918  47          	ld	b,a
4920  1919  D5          	push	de
4921  191A  3E 0E       	ld	a,0x0e
4922  191C  48          	ld	c,b
4923  191D  47          	ld	b,a
4924  191E  C5          	push	bc
4925  191F  CD 00 00    	call	_zx_print_str
4926  1922  11 1E 02    	ld	de,___str_53
4927  1925  3A 00 00    	ld	a,(_s_lin1)
4928  1928  C6 07       	add	a,0x07
4929  192A  47          	ld	b,a
4930  192B  D5          	push	de
4931  192C  3E 15       	ld	a,0x15
4932  192E  48          	ld	c,b
4933  192F  47          	ld	b,a
4934  1930  C5          	push	bc
4935  1931  CD 00 00    	call	_zx_print_str
4936  1934  21 00 00    	ld	hl,_s_lin1
4937  1937  7E          	ld	a,(hl)
4938  1938  3C          	inc	a
4939  1939  77          	ld	(hl),a
4940  193A  D6 0A       	sub	a,0x0a
4941  193C  38 8B       	jr	C,l_game_hall_of_fame_00102
4942  193E  21 20 02    	ld	hl,___str_54
4943  1941  E5          	push	hl
4944  1942  21 04 0A    	ld	hl,0x0a04
4945  1945  E5          	push	hl
4946  1946  CD 00 00    	call	_zx_print_str
4947  1949  21 F4 01    	ld	hl,0x01f4
4948  194C  E5          	push	hl
4949  194D  21 0A 16    	ld	hl,0x160a
4950  1950  E5          	push	hl
4951  1951  3E 04       	ld	a,0x04
4952  1953  F5          	push	af
4953  1954  33          	inc	sp
4954  1955  CD 86 19    	call	_game_colour_message
4955  1958  F1          	pop	af
4956  1959  F1          	pop	af
4957  195A  33          	inc	sp
4958  195B  CD 00 00    	call	_spr_draw_clear
4959  195E  21 00 00    	ld	hl,_game_menu_sel
4960  1961  36 00       	ld	(hl),0x00
4961  1963  21 00 00    	ld	hl,_pb_midi_title
4962  1966  CD 00 00    	call	_ay_midi_play
4963  1969  C9          	ret
4964  196A              	SECTION rodata_compiler
4965  021C              ___str_52:
4966  021C  2D          	DEFM "-"
4967  021D  00          	DEFB 0x00
4968  021E              	SECTION rodata_compiler
4969  021E              ___str_53:
4970  021E  30          	DEFM "0"
4971  021F  00          	DEFB 0x00
4972  0220              	SECTION rodata_compiler
4973  0220              ___str_54:
4974  0220  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4975  022C  00          	DEFB 0x00
4976  022D              	SECTION code_compiler
4977  196A              ;	---------------------------------
4978  196A              ; Function game_rotate_attrib
4979  196A              ; ---------------------------------
4980  196A              _game_rotate_attrib:
4981  196A  01 03 00    	ld	bc,_attrib_hl + 3
4982  196D  0A          	ld	a,(bc)
4983  196E  32 00 00    	ld	(_tmp_uc),a
4984  1971  11 02 00    	ld	de,_attrib_hl + 2
4985  1974  1A          	ld	a,(de)
4986  1975  02          	ld	(bc),a
4987  1976  01 01 00    	ld	bc,_attrib_hl + 1
4988  1979  0A          	ld	a,(bc)
4989  197A  12          	ld	(de),a
4990  197B  3A 00 00    	ld	a,(_attrib_hl)
4991  197E  02          	ld	(bc),a
4992  197F  3A 00 00    	ld	a,(_tmp_uc)
4993  1982  32 00 00    	ld	(_attrib_hl),a
4994  1985  C9          	ret
4995  1986              	SECTION code_compiler
4996  1986              ;	---------------------------------
4997  1986              ; Function game_colour_message
4998  1986              ; ---------------------------------
4999  1986              _game_colour_message:
5000  1986  CD 00 00    	call	___sdcc_enter_ix
5001  1989  3B          	dec	sp
5002  198A  21 00 00    	ld	hl,_tmp
5003  198D  36 01       	ld	(hl),0x01
5004  198F  2A 00 00    	ld	hl,(_curr_time)
5005  1992  22 00 00    	ld	(_frame_time),hl
5006  1995  2A 00 00    	ld	hl,(_curr_time)
5007  1998  22 00 00    	ld	(_entry_time),hl
5008  199B  DD 7E 04    	ld	a,(ix+4)
5009  199E  07          	rlca
5010  199F  07          	rlca
5011  19A0  07          	rlca
5012  19A1  E6 F8       	and	a,0xf8
5013  19A3  C6 08       	add	a,0x08
5014  19A5  DD 77 FF    	ld	(ix-1),a
5015  19A8              l_game_colour_message_00107:
5016  19A8  3A 00 00    	ld	a,(_tmp)
5017  19AB  B7          	or	a, a
5018  19AC  28 66       	jr	Z,l_game_colour_message_00110
5019  19AE  DD 6E 07    	ld	l,(ix+7)
5020  19B1  DD 66 08    	ld	h,(ix+8)
5021  19B4  E5          	push	hl
5022  19B5  2A 00 00    	ld	hl,(_entry_time)
5023  19B8  E5          	push	hl
5024  19B9  CD 18 1A    	call	_game_check_time
5025  19BC  F1          	pop	af
5026  19BD  F1          	pop	af
5027  19BE  7D          	ld	a,l
5028  19BF  B7          	or	a, a
5029  19C0  20 52       	jr	NZ,l_game_colour_message_00110
5030  19C2  21 05 00    	ld	hl,0x0005
5031  19C5  E5          	push	hl
5032  19C6  2A 00 00    	ld	hl,(_frame_time)
5033  19C9  E5          	push	hl
5034  19CA  CD 18 1A    	call	_game_check_time
5035  19CD  F1          	pop	af
5036  19CE  F1          	pop	af
5037  19CF  7D          	ld	a,l
5038  19D0  B7          	or	a, a
5039  19D1  28 1A       	jr	Z,l_game_colour_message_00103
5040  19D3  2A 00 00    	ld	hl,(_curr_time)
5041  19D6  22 00 00    	ld	(_frame_time),hl
5042  19D9  DD 66 FF    	ld	h,(ix-1)
5043  19DC  DD 6E 06    	ld	l,(ix+6)
5044  19DF  E5          	push	hl
5045  19E0  DD 7E 05    	ld	a,(ix+5)
5046  19E3  F5          	push	af
5047  19E4  33          	inc	sp
5048  19E5  CD 30 0D    	call	_game_paint_attrib_lin_h
5049  19E8  F1          	pop	af
5050  19E9  33          	inc	sp
5051  19EA  CD 6A 19    	call	_game_rotate_attrib
5052  19ED              l_game_colour_message_00103:
5053  19ED  21 00 00    	ld	hl,_k1
5054  19F0  E5          	push	hl
5055  19F1  2A 00 00    	ld	hl,(_joyfunc1)
5056  19F4  CD 00 00    	call	___sdcc_call_hl
5057  19F7  E3          	ex	(sp),hl
5058  19F8  21 00 00    	ld	hl,_k2
5059  19FB  E5          	push	hl
5060  19FC  2A 00 00    	ld	hl,(_joyfunc2)
5061  19FF  CD 00 00    	call	___sdcc_call_hl
5062  1A02  F1          	pop	af
5063  1A03  EB          	ex	de,hl
5064  1A04  C1          	pop	bc
5065  1A05  79          	ld	a,c
5066  1A06  B3          	or	a, e
5067  1A07  4F          	ld	c,a
5068  1A08  78          	ld	a,b
5069  1A09  B2          	or	a, d
5070  1A0A  B1          	or	a,c
5071  1A0B  28 9B       	jr	Z,l_game_colour_message_00107
5072  1A0D  21 00 00    	ld	hl,_tmp
5073  1A10  36 00       	ld	(hl),0x00
5074  1A12  18 D9       	jr	l_game_colour_message_00103
5075  1A14              l_game_colour_message_00110:
5076  1A14  33          	inc	sp
5077  1A15  DD E1       	pop	ix
5078  1A17  C9          	ret
5079  1A18              	SECTION code_compiler
5080  1A18              ;	---------------------------------
5081  1A18              ; Function game_check_time
5082  1A18              ; ---------------------------------
5083  1A18              _game_check_time:
5084  1A18  CD 00 00    	call	___sdcc_enter_ix
5085  1A1B  2A 00 00    	ld	hl,(_curr_time)
5086  1A1E  7D          	ld	a,l
5087  1A1F  DD 96 04    	sub	a,(ix+4)
5088  1A22  4F          	ld	c,a
5089  1A23  7C          	ld	a,h
5090  1A24  DD 9E 05    	sbc	a,(ix+5)
5091  1A27  47          	ld	b,a
5092  1A28  DD 7E 06    	ld	a,(ix+6)
5093  1A2B  91          	sub	a, c
5094  1A2C  DD 7E 07    	ld	a,(ix+7)
5095  1A2F  98          	sbc	a, b
5096  1A30  30 04       	jr	NC,l_game_check_time_00102
5097  1A32  2E 01       	ld	l,0x01
5098  1A34  18 02       	jr	l_game_check_time_00104
5099  1A36              l_game_check_time_00102:
5100  1A36  2E 00       	ld	l,0x00
5101  1A38              l_game_check_time_00104:
5102  1A38  DD E1       	pop	ix
5103  1A3A  C9          	ret
5104  1A3B              	SECTION IGNORE
5105  0000              
