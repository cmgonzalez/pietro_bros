1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9833 (MSVC)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_clear
244   0000              	GLOBAL _spr_water_splash_draw
245   0000              	GLOBAL _spr_water_splash_clear
246   0000              	GLOBAL _spr_draw_back
247   0000              	GLOBAL _spr_cortina_pipes
248   0000              	GLOBAL _spr_cortina_brick
249   0000              	GLOBAL _spr_brick_anim
250   0000              	GLOBAL _spr_back_fix4
251   0000              	GLOBAL _spr_back_fix3
252   0000              	GLOBAL _spr_back_fix2
253   0000              	GLOBAL _spr_back_fix1
254   0000              	GLOBAL _spr_back_fix
255   0000              	GLOBAL _spr_back_clr
256   0000              	GLOBAL _spr_draw_pow
257   0000              	GLOBAL _spr_tile
258   0000              	GLOBAL _spr_set_fall
259   0000              	GLOBAL _spr_destroy
260   0000              	GLOBAL _spr_check_over
261   0000              	GLOBAL _spr_tile_dir
262   0000              	GLOBAL _spr_anim_kill
263   0000              	GLOBAL _spr_anim_fall
264   0000              	GLOBAL _spr_killed
265   0000              	GLOBAL _spr_redraw
266   0000              	GLOBAL _spr_move_left
267   0000              	GLOBAL _spr_move_right
268   0000              	GLOBAL _spr_move_horizontal
269   0000              	GLOBAL _spr_move_down
270   0000              	GLOBAL _spr_move_up
271   0000              	GLOBAL _spr_chktime
272   0000              	GLOBAL _sound_hit_pow
273   0000              	GLOBAL _sound_hit_brick
274   0000              	GLOBAL _sound_hit_enemy
275   0000              	GLOBAL _sound_kill
276   0000              	GLOBAL _sound_enter_enemy
277   0000              	GLOBAL _sound_coin
278   0000              	GLOBAL _sound_jump
279   0000              	GLOBAL _sound_slide
280   0000              	GLOBAL _player_move_horizontal
281   0000              	GLOBAL _player_push_check
282   0000              	GLOBAL _player_push
283   0000              	GLOBAL _player_hit_brick_clear
284   0000              	GLOBAL _player_lost_life
285   0000              	GLOBAL _player_score_add
286   0000              	GLOBAL _player_coin
287   0000              	GLOBAL _player_hit_pow
288   0000              	GLOBAL _player_hit_brick
289   0000              	GLOBAL _player_move_input
290   0000              	GLOBAL _player_turn
291   0000              	GLOBAL _player_move
292   0000              	GLOBAL _player_restart
293   0000              	GLOBAL _player_kill
294   0000              	GLOBAL _player_check_input
295   0000              	GLOBAL _player_collition_check
296   0000              	GLOBAL _player_collition
297   0000              	GLOBAL _player_calc_slide
298   0000              	GLOBAL _player_init
299   0000              	GLOBAL _player_set2
300   0000              	GLOBAL _player_set1
301   0000              	GLOBAL _game_fill_row
302   0000              	GLOBAL _enemy_kill
303   0000              	GLOBAL _enemy_init
304   0000              	GLOBAL _enemy_walk
305   0000              	GLOBAL _enemy_upgrade
306   0000              	GLOBAL _enemy_evolve
307   0000              	GLOBAL _enemy_standard_hit
308   0000              	GLOBAL _enemy_trip
309   0000              	GLOBAL _enemy_fighterfly
310   0000              	GLOBAL _enemy_fireball_green
311   0000              	GLOBAL _enemy_fireball_red
312   0000              	GLOBAL _enemy_slipice
313   0000              	GLOBAL _enemy_standard
314   0000              	GLOBAL _enemy_turn
315   0000              	GLOBAL _enemy_flip_sidestepper
316   0000              	GLOBAL _enemy_flip
317   0000              	GLOBAL _enemy_flip_change_dir
318   0000              	GLOBAL _enemy_hit
319   0000              	GLOBAL _enemy_collition_check
320   0000              	GLOBAL _enemy_collition
321   0000              	GLOBAL _enemy_coin1
322   0000              	GLOBAL _ay_fx_play
323   0000              	GLOBAL _ay_midi_play
324   0000              	GLOBAL _ay_is_playing
325   0000              	GLOBAL _ay_reset
326   0000              	GLOBAL _test_func
327   0000              	GLOBAL _in_mouse_kempston_wheel_delta
328   0000              	GLOBAL _in_mouse_kempston_wheel
329   0000              	GLOBAL _in_mouse_kempston_callee
330   0000              	GLOBAL _in_mouse_kempston
331   0000              	GLOBAL _in_mouse_kempston_setpos_callee
332   0000              	GLOBAL _in_mouse_kempston_setpos
333   0000              	GLOBAL _in_mouse_kempston_reset
334   0000              	GLOBAL _in_mouse_kempston_init
335   0000              	GLOBAL _in_mouse_amx_wheel_delta
336   0000              	GLOBAL _in_mouse_amx_wheel
337   0000              	GLOBAL _in_mouse_amx_callee
338   0000              	GLOBAL _in_mouse_amx
339   0000              	GLOBAL _in_mouse_amx_setpos_callee
340   0000              	GLOBAL _in_mouse_amx_setpos
341   0000              	GLOBAL _in_mouse_amx_reset
342   0000              	GLOBAL _in_mouse_amx_init_callee
343   0000              	GLOBAL _in_mouse_amx_init
344   0000              	GLOBAL _in_stick_sinclair2
345   0000              	GLOBAL _in_stick_sinclair1
346   0000              	GLOBAL _in_stick_kempston
347   0000              	GLOBAL _in_stick_fuller
348   0000              	GLOBAL _in_stick_cursor
349   0000              	GLOBAL _in_stick_keyboard_fastcall
350   0000              	GLOBAL _in_stick_keyboard
351   0000              	GLOBAL _in_wait_nokey
352   0000              	GLOBAL _in_wait_key
353   0000              	GLOBAL _in_test_key
354   0000              	GLOBAL _in_pause_fastcall
355   0000              	GLOBAL _in_pause
356   0000              	GLOBAL _in_key_scancode_fastcall
357   0000              	GLOBAL _in_key_scancode
358   0000              	GLOBAL _in_key_pressed_fastcall
359   0000              	GLOBAL _in_key_pressed
360   0000              	GLOBAL _in_inkey
361   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawTW_raw
363   0000              	GLOBAL _NIRVANAP_drawTW_callee
364   0000              	GLOBAL _NIRVANAP_drawTW
365   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawW_raw
367   0000              	GLOBAL _NIRVANAP_drawW_callee
368   0000              	GLOBAL _NIRVANAP_drawW
369   0000              	GLOBAL _NIRVANAP_spriteT_callee
370   0000              	GLOBAL _NIRVANAP_spriteT
371   0000              	GLOBAL _NIRVANAP_fillC_callee
372   0000              	GLOBAL _NIRVANAP_fillC
373   0000              	GLOBAL _NIRVANAP_readC_callee
374   0000              	GLOBAL _NIRVANAP_readC
375   0000              	GLOBAL _NIRVANAP_paintC_callee
376   0000              	GLOBAL _NIRVANAP_paintC
377   0000              	GLOBAL _NIRVANAP_printC_callee
378   0000              	GLOBAL _NIRVANAP_printC
379   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
380   0000              	GLOBAL _NIRVANAP_fillT_raw
381   0000              	GLOBAL _NIRVANAP_fillT_callee
382   0000              	GLOBAL _NIRVANAP_fillT
383   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
384   0000              	GLOBAL _NIRVANAP_drawT_raw
385   0000              	GLOBAL _NIRVANAP_drawT_callee
386   0000              	GLOBAL _NIRVANAP_drawT
387   0000              	GLOBAL _NIRVANAP_stop
388   0000              	GLOBAL _NIRVANAP_start
389   0000              	GLOBAL _z80_otdr_callee
390   0000              	GLOBAL _z80_otdr
391   0000              	GLOBAL _z80_otir_callee
392   0000              	GLOBAL _z80_otir
393   0000              	GLOBAL _z80_outp_callee
394   0000              	GLOBAL _z80_outp
395   0000              	GLOBAL _z80_indr_callee
396   0000              	GLOBAL _z80_indr
397   0000              	GLOBAL _z80_inir_callee
398   0000              	GLOBAL _z80_inir
399   0000              	GLOBAL _z80_inp_fastcall
400   0000              	GLOBAL _z80_inp
401   0000              	GLOBAL _z80_set_int_state_fastcall
402   0000              	GLOBAL _z80_set_int_state
403   0000              	GLOBAL _z80_get_int_state
404   0000              	GLOBAL _z80_delay_tstate_fastcall
405   0000              	GLOBAL _z80_delay_tstate
406   0000              	GLOBAL _z80_delay_ms_fastcall
407   0000              	GLOBAL _z80_delay_ms
408   0000              	GLOBAL _im2_remove_generic_callback_callee
409   0000              	GLOBAL _im2_remove_generic_callback
410   0000              	GLOBAL _im2_prepend_generic_callback_callee
411   0000              	GLOBAL _im2_prepend_generic_callback
412   0000              	GLOBAL _im2_append_generic_callback_callee
413   0000              	GLOBAL _im2_append_generic_callback
414   0000              	GLOBAL _im2_create_generic_isr_8080_callee
415   0000              	GLOBAL _im2_create_generic_isr_8080
416   0000              	GLOBAL _im2_create_generic_isr_callee
417   0000              	GLOBAL _im2_create_generic_isr
418   0000              	GLOBAL _im2_install_isr_callee
419   0000              	GLOBAL _im2_install_isr
420   0000              	GLOBAL _im2_init_fastcall
421   0000              	GLOBAL _im2_init
422   0000              	GLOBAL _ffsll_callee
423   0000              	GLOBAL _ffsll
424   0000              	GLOBAL _strxfrm_callee
425   0000              	GLOBAL _strxfrm
426   0000              	GLOBAL _strupr_fastcall
427   0000              	GLOBAL _strupr
428   0000              	GLOBAL _strtok_r_callee
429   0000              	GLOBAL _strtok_r
430   0000              	GLOBAL _strtok_callee
431   0000              	GLOBAL _strtok
432   0000              	GLOBAL _strstrip_fastcall
433   0000              	GLOBAL _strstrip
434   0000              	GLOBAL _strstr_callee
435   0000              	GLOBAL _strstr
436   0000              	GLOBAL _strspn_callee
437   0000              	GLOBAL _strspn
438   0000              	GLOBAL _strsep_callee
439   0000              	GLOBAL _strsep
440   0000              	GLOBAL _strrstrip_fastcall
441   0000              	GLOBAL _strrstrip
442   0000              	GLOBAL _strrspn_callee
443   0000              	GLOBAL _strrspn
444   0000              	GLOBAL _strrev_fastcall
445   0000              	GLOBAL _strrev
446   0000              	GLOBAL _strrcspn_callee
447   0000              	GLOBAL _strrcspn
448   0000              	GLOBAL _strrchr_callee
449   0000              	GLOBAL _strrchr
450   0000              	GLOBAL _strpbrk_callee
451   0000              	GLOBAL _strpbrk
452   0000              	GLOBAL _strnlen_callee
453   0000              	GLOBAL _strnlen
454   0000              	GLOBAL _strnicmp_callee
455   0000              	GLOBAL _strnicmp
456   0000              	GLOBAL _strndup_callee
457   0000              	GLOBAL _strndup
458   0000              	GLOBAL _strncpy_callee
459   0000              	GLOBAL _strncpy
460   0000              	GLOBAL _strncmp_callee
461   0000              	GLOBAL _strncmp
462   0000              	GLOBAL _strnchr_callee
463   0000              	GLOBAL _strnchr
464   0000              	GLOBAL _strncat_callee
465   0000              	GLOBAL _strncat
466   0000              	GLOBAL _strncasecmp_callee
467   0000              	GLOBAL _strncasecmp
468   0000              	GLOBAL _strlwr_fastcall
469   0000              	GLOBAL _strlwr
470   0000              	GLOBAL _strlen_fastcall
471   0000              	GLOBAL _strlen
472   0000              	GLOBAL _strlcpy_callee
473   0000              	GLOBAL _strlcpy
474   0000              	GLOBAL _strlcat_callee
475   0000              	GLOBAL _strlcat
476   0000              	GLOBAL _stricmp_callee
477   0000              	GLOBAL _stricmp
478   0000              	GLOBAL _strerror_fastcall
479   0000              	GLOBAL _strerror
480   0000              	GLOBAL _strdup_fastcall
481   0000              	GLOBAL _strdup
482   0000              	GLOBAL _strcspn_callee
483   0000              	GLOBAL _strcspn
484   0000              	GLOBAL _strcpy_callee
485   0000              	GLOBAL _strcpy
486   0000              	GLOBAL _strcoll_callee
487   0000              	GLOBAL _strcoll
488   0000              	GLOBAL _strcmp_callee
489   0000              	GLOBAL _strcmp
490   0000              	GLOBAL _strchrnul_callee
491   0000              	GLOBAL _strchrnul
492   0000              	GLOBAL _strchr_callee
493   0000              	GLOBAL _strchr
494   0000              	GLOBAL _strcat_callee
495   0000              	GLOBAL _strcat
496   0000              	GLOBAL _strcasecmp_callee
497   0000              	GLOBAL _strcasecmp
498   0000              	GLOBAL _stpncpy_callee
499   0000              	GLOBAL _stpncpy
500   0000              	GLOBAL _stpcpy_callee
501   0000              	GLOBAL _stpcpy
502   0000              	GLOBAL _memswap_callee
503   0000              	GLOBAL _memswap
504   0000              	GLOBAL _memset_callee
505   0000              	GLOBAL _memset
506   0000              	GLOBAL _memrchr_callee
507   0000              	GLOBAL _memrchr
508   0000              	GLOBAL _memmove_callee
509   0000              	GLOBAL _memmove
510   0000              	GLOBAL _memmem_callee
511   0000              	GLOBAL _memmem
512   0000              	GLOBAL _memcpy_callee
513   0000              	GLOBAL _memcpy
514   0000              	GLOBAL _memcmp_callee
515   0000              	GLOBAL _memcmp
516   0000              	GLOBAL _memchr_callee
517   0000              	GLOBAL _memchr
518   0000              	GLOBAL _memccpy_callee
519   0000              	GLOBAL _memccpy
520   0000              	GLOBAL _ffsl_fastcall
521   0000              	GLOBAL _ffsl
522   0000              	GLOBAL _ffs_fastcall
523   0000              	GLOBAL _ffs
524   0000              	GLOBAL __strrstrip__fastcall
525   0000              	GLOBAL __strrstrip_
526   0000              	GLOBAL __memupr__callee
527   0000              	GLOBAL __memupr_
528   0000              	GLOBAL __memstrcpy__callee
529   0000              	GLOBAL __memstrcpy_
530   0000              	GLOBAL __memlwr__callee
531   0000              	GLOBAL __memlwr_
532   0000              	GLOBAL _rawmemchr_callee
533   0000              	GLOBAL _rawmemchr
534   0000              	GLOBAL _strnset_callee
535   0000              	GLOBAL _strnset
536   0000              	GLOBAL _strset_callee
537   0000              	GLOBAL _strset
538   0000              	GLOBAL _rindex_callee
539   0000              	GLOBAL _rindex
540   0000              	GLOBAL _index_callee
541   0000              	GLOBAL _index
542   0000              	GLOBAL _bzero_callee
543   0000              	GLOBAL _bzero
544   0000              	GLOBAL _bcopy_callee
545   0000              	GLOBAL _bcopy
546   0000              	GLOBAL _bcmp_callee
547   0000              	GLOBAL _bcmp
548   0000              	GLOBAL _ulltoa_callee
549   0000              	GLOBAL _ulltoa
550   0000              	GLOBAL _strtoull_callee
551   0000              	GLOBAL _strtoull
552   0000              	GLOBAL _strtoll_callee
553   0000              	GLOBAL _strtoll
554   0000              	GLOBAL _lltoa_callee
555   0000              	GLOBAL _lltoa
556   0000              	GLOBAL _llabs_callee
557   0000              	GLOBAL _llabs
558   0000              	GLOBAL __lldivu__callee
559   0000              	GLOBAL __lldivu_
560   0000              	GLOBAL __lldiv__callee
561   0000              	GLOBAL __lldiv_
562   0000              	GLOBAL _atoll_callee
563   0000              	GLOBAL _atoll
564   0000              	GLOBAL _realloc_unlocked_callee
565   0000              	GLOBAL _realloc_unlocked
566   0000              	GLOBAL _malloc_unlocked_fastcall
567   0000              	GLOBAL _malloc_unlocked
568   0000              	GLOBAL _free_unlocked_fastcall
569   0000              	GLOBAL _free_unlocked
570   0000              	GLOBAL _calloc_unlocked_callee
571   0000              	GLOBAL _calloc_unlocked
572   0000              	GLOBAL _aligned_alloc_unlocked_callee
573   0000              	GLOBAL _aligned_alloc_unlocked
574   0000              	GLOBAL _realloc_callee
575   0000              	GLOBAL _realloc
576   0000              	GLOBAL _malloc_fastcall
577   0000              	GLOBAL _malloc
578   0000              	GLOBAL _free_fastcall
579   0000              	GLOBAL _free
580   0000              	GLOBAL _calloc_callee
581   0000              	GLOBAL _calloc
582   0000              	GLOBAL _aligned_alloc_callee
583   0000              	GLOBAL _aligned_alloc
584   0000              	GLOBAL _utoa_callee
585   0000              	GLOBAL _utoa
586   0000              	GLOBAL _ultoa_callee
587   0000              	GLOBAL _ultoa
588   0000              	GLOBAL _system_fastcall
589   0000              	GLOBAL _system
590   0000              	GLOBAL _strtoul_callee
591   0000              	GLOBAL _strtoul
592   0000              	GLOBAL _strtol_callee
593   0000              	GLOBAL _strtol
594   0000              	GLOBAL _strtof_callee
595   0000              	GLOBAL _strtof
596   0000              	GLOBAL _strtod_callee
597   0000              	GLOBAL _strtod
598   0000              	GLOBAL _srand_fastcall
599   0000              	GLOBAL _srand
600   0000              	GLOBAL _rand
601   0000              	GLOBAL _quick_exit_fastcall
602   0000              	GLOBAL _quick_exit
603   0000              	GLOBAL _qsort_callee
604   0000              	GLOBAL _qsort
605   0000              	GLOBAL _ltoa_callee
606   0000              	GLOBAL _ltoa
607   0000              	GLOBAL _labs_fastcall
608   0000              	GLOBAL _labs
609   0000              	GLOBAL _itoa_callee
610   0000              	GLOBAL _itoa
611   0000              	GLOBAL _ftoh_callee
612   0000              	GLOBAL _ftoh
613   0000              	GLOBAL _ftog_callee
614   0000              	GLOBAL _ftog
615   0000              	GLOBAL _ftoe_callee
616   0000              	GLOBAL _ftoe
617   0000              	GLOBAL _ftoa_callee
618   0000              	GLOBAL _ftoa
619   0000              	GLOBAL _exit_fastcall
620   0000              	GLOBAL _exit
621   0000              	GLOBAL _dtoh_callee
622   0000              	GLOBAL _dtoh
623   0000              	GLOBAL _dtog_callee
624   0000              	GLOBAL _dtog
625   0000              	GLOBAL _dtoe_callee
626   0000              	GLOBAL _dtoe
627   0000              	GLOBAL _dtoa_callee
628   0000              	GLOBAL _dtoa
629   0000              	GLOBAL _bsearch_callee
630   0000              	GLOBAL _bsearch
631   0000              	GLOBAL _atol_fastcall
632   0000              	GLOBAL _atol
633   0000              	GLOBAL _atoi_fastcall
634   0000              	GLOBAL _atoi
635   0000              	GLOBAL _atof_fastcall
636   0000              	GLOBAL _atof
637   0000              	GLOBAL _atexit_fastcall
638   0000              	GLOBAL _atexit
639   0000              	GLOBAL _at_quick_exit_fastcall
640   0000              	GLOBAL _at_quick_exit
641   0000              	GLOBAL _abs_fastcall
642   0000              	GLOBAL _abs
643   0000              	GLOBAL _abort
644   0000              	GLOBAL __strtou__callee
645   0000              	GLOBAL __strtou_
646   0000              	GLOBAL __strtoi__callee
647   0000              	GLOBAL __strtoi_
648   0000              	GLOBAL __random_uniform_xor_8__fastcall
649   0000              	GLOBAL __random_uniform_xor_8_
650   0000              	GLOBAL __random_uniform_xor_32__fastcall
651   0000              	GLOBAL __random_uniform_xor_32_
652   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
653   0000              	GLOBAL __random_uniform_cmwc_8_
654   0000              	GLOBAL __shellsort__callee
655   0000              	GLOBAL __shellsort_
656   0000              	GLOBAL __quicksort__callee
657   0000              	GLOBAL __quicksort_
658   0000              	GLOBAL __insertion_sort__callee
659   0000              	GLOBAL __insertion_sort_
660   0000              	GLOBAL __ldivu__callee
661   0000              	GLOBAL __ldivu_
662   0000              	GLOBAL __ldiv__callee
663   0000              	GLOBAL __ldiv_
664   0000              	GLOBAL __divu__callee
665   0000              	GLOBAL __divu_
666   0000              	GLOBAL __div__callee
667   0000              	GLOBAL __div_
668   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
669   0000              	GLOBAL _intrinsic_swap_word_32
670   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
671   0000              	GLOBAL _intrinsic_swap_endian_32
672   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
673   0000              	GLOBAL _intrinsic_swap_endian_16
674   0000              	GLOBAL _intrinsic_return_de
675   0000              	GLOBAL _intrinsic_return_bc
676   0000              	GLOBAL _intrinsic_exx
677   0000              	GLOBAL _intrinsic_ex_de_hl
678   0000              	GLOBAL _intrinsic_pop_iy
679   0000              	GLOBAL _intrinsic_pop_ix
680   0000              	GLOBAL _intrinsic_pop_hl
681   0000              	GLOBAL _intrinsic_pop_de
682   0000              	GLOBAL _intrinsic_pop_bc
683   0000              	GLOBAL _intrinsic_pop_af
684   0000              	GLOBAL _intrinsic_push_iy
685   0000              	GLOBAL _intrinsic_push_ix
686   0000              	GLOBAL _intrinsic_push_hl
687   0000              	GLOBAL _intrinsic_push_de
688   0000              	GLOBAL _intrinsic_push_bc
689   0000              	GLOBAL _intrinsic_push_af
690   0000              	GLOBAL _intrinsic_nop
691   0000              	GLOBAL _intrinsic_im_2
692   0000              	GLOBAL _intrinsic_im_1
693   0000              	GLOBAL _intrinsic_im_0
694   0000              	GLOBAL _intrinsic_retn
695   0000              	GLOBAL _intrinsic_reti
696   0000              	GLOBAL _intrinsic_halt
697   0000              	GLOBAL _intrinsic_ei
698   0000              	GLOBAL _intrinsic_di
699   0000              	GLOBAL _intrinsic_stub
700   0000              	GLOBAL _zx_pattern_fill_callee
701   0000              	GLOBAL _zx_pattern_fill
702   0000              	GLOBAL _zx_saddrpup_fastcall
703   0000              	GLOBAL _zx_saddrpup
704   0000              	GLOBAL _zx_saddrpright_callee
705   0000              	GLOBAL _zx_saddrpright
706   0000              	GLOBAL _zx_saddrpleft_callee
707   0000              	GLOBAL _zx_saddrpleft
708   0000              	GLOBAL _zx_saddrpdown_fastcall
709   0000              	GLOBAL _zx_saddrpdown
710   0000              	GLOBAL _zx_saddrcup_fastcall
711   0000              	GLOBAL _zx_saddrcup
712   0000              	GLOBAL _zx_saddrcright_fastcall
713   0000              	GLOBAL _zx_saddrcright
714   0000              	GLOBAL _zx_saddrcleft_fastcall
715   0000              	GLOBAL _zx_saddrcleft
716   0000              	GLOBAL _zx_saddrcdown_fastcall
717   0000              	GLOBAL _zx_saddrcdown
718   0000              	GLOBAL _zx_saddr2py_fastcall
719   0000              	GLOBAL _zx_saddr2py
720   0000              	GLOBAL _zx_saddr2px_fastcall
721   0000              	GLOBAL _zx_saddr2px
722   0000              	GLOBAL _zx_saddr2cy_fastcall
723   0000              	GLOBAL _zx_saddr2cy
724   0000              	GLOBAL _zx_saddr2cx_fastcall
725   0000              	GLOBAL _zx_saddr2cx
726   0000              	GLOBAL _zx_saddr2aaddr_fastcall
727   0000              	GLOBAL _zx_saddr2aaddr
728   0000              	GLOBAL _zx_py2saddr_fastcall
729   0000              	GLOBAL _zx_py2saddr
730   0000              	GLOBAL _zx_py2aaddr_fastcall
731   0000              	GLOBAL _zx_py2aaddr
732   0000              	GLOBAL _zx_pxy2saddr_callee
733   0000              	GLOBAL _zx_pxy2saddr
734   0000              	GLOBAL _zx_pxy2aaddr_callee
735   0000              	GLOBAL _zx_pxy2aaddr
736   0000              	GLOBAL _zx_px2bitmask_fastcall
737   0000              	GLOBAL _zx_px2bitmask
738   0000              	GLOBAL _zx_cyx2saddr_callee
739   0000              	GLOBAL _zx_cyx2saddr
740   0000              	GLOBAL _zx_cyx2aaddr_callee
741   0000              	GLOBAL _zx_cyx2aaddr
742   0000              	GLOBAL _zx_cy2saddr_fastcall
743   0000              	GLOBAL _zx_cy2saddr
744   0000              	GLOBAL _zx_cy2aaddr_fastcall
745   0000              	GLOBAL _zx_cy2aaddr
746   0000              	GLOBAL _zx_bitmask2px_fastcall
747   0000              	GLOBAL _zx_bitmask2px
748   0000              	GLOBAL _zx_aaddrcup_fastcall
749   0000              	GLOBAL _zx_aaddrcup
750   0000              	GLOBAL _zx_aaddrcright_fastcall
751   0000              	GLOBAL _zx_aaddrcright
752   0000              	GLOBAL _zx_aaddrcleft_fastcall
753   0000              	GLOBAL _zx_aaddrcleft
754   0000              	GLOBAL _zx_aaddrcdown_fastcall
755   0000              	GLOBAL _zx_aaddrcdown
756   0000              	GLOBAL _zx_aaddr2saddr_fastcall
757   0000              	GLOBAL _zx_aaddr2saddr
758   0000              	GLOBAL _zx_aaddr2py_fastcall
759   0000              	GLOBAL _zx_aaddr2py
760   0000              	GLOBAL _zx_aaddr2px_fastcall
761   0000              	GLOBAL _zx_aaddr2px
762   0000              	GLOBAL _zx_aaddr2cy_fastcall
763   0000              	GLOBAL _zx_aaddr2cy
764   0000              	GLOBAL _zx_aaddr2cx_fastcall
765   0000              	GLOBAL _zx_aaddr2cx
766   0000              	GLOBAL _zx_scroll_wc_up_callee
767   0000              	GLOBAL _zx_scroll_wc_up
768   0000              	GLOBAL _zx_scroll_up_callee
769   0000              	GLOBAL _zx_scroll_up
770   0000              	GLOBAL _zx_cls_wc_callee
771   0000              	GLOBAL _zx_cls_wc
772   0000              	GLOBAL _zx_cls_fastcall
773   0000              	GLOBAL _zx_cls
774   0000              	GLOBAL _zx_border_fastcall
775   0000              	GLOBAL _zx_border
776   0000              	GLOBAL _ay_effect_20
777   0000              	GLOBAL _ay_effect_19
778   0000              	GLOBAL _ay_effect_18
779   0000              	GLOBAL _ay_effect_17
780   0000              	GLOBAL _ay_effect_16
781   0000              	GLOBAL _ay_effect_15
782   0000              	GLOBAL _ay_effect_14
783   0000              	GLOBAL _ay_effect_13
784   0000              	GLOBAL _ay_effect_12
785   0000              	GLOBAL _ay_effect_11
786   0000              	GLOBAL _ay_effect_10
787   0000              	GLOBAL _ay_effect_09
788   0000              	GLOBAL _ay_effect_08
789   0000              	GLOBAL _ay_effect_07
790   0000              	GLOBAL _ay_effect_06
791   0000              	GLOBAL _ay_effect_05
792   0000              	GLOBAL _ay_effect_04
793   0000              	GLOBAL _ay_effect_03
794   0000              	GLOBAL _ay_effect_02
795   0000              	GLOBAL _ay_effect_01
796   0000              	GLOBAL _pb_midi_phase_1
797   0000              	GLOBAL _pb_midi_title
798   0000              	GLOBAL _joynames
799   0000              	GLOBAL _initials
800   0000              	GLOBAL _hof
801   0000              	GLOBAL _score_osd_tile
802   0000              	GLOBAL _score_osd_time
803   0000              	GLOBAL _score_osd_col
804   0000              	GLOBAL _score_osd_lin
805   0000              	GLOBAL _phase_bonus_total
806   0000              	GLOBAL _phase_angry
807   0000              	GLOBAL _phase_curr
808   0000              	GLOBAL _phase_end
809   0000              	GLOBAL _phase_coins
810   0000              	GLOBAL _phase_pop
811   0000              	GLOBAL _phase_tot
812   0000              	GLOBAL _phase_left
813   0000              	GLOBAL _phase_quota
814   0000              	GLOBAL _phases
815   0000              	GLOBAL _spr_idx
816   0000              	GLOBAL _lvl_1
817   0000              	GLOBAL _sprite_speed_alt
818   0000              	GLOBAL _sprite_speed
819   0000              	GLOBAL _screen_ink
820   0000              	GLOBAL _screen_paper
821   0000              	GLOBAL _game_menu_sel
822   0000              	GLOBAL _game_type
823   0000              	GLOBAL _game_bonus
824   0000              	GLOBAL _spr_water_time
825   0000              	GLOBAL _spr_water_clear
826   0000              	GLOBAL _game_time_fireball_start
827   0000              	GLOBAL _game_time_flipped
828   0000              	GLOBAL _game_score_top
829   0000              	GLOBAL _game_lives_update
830   0000              	GLOBAL _game_lives
831   0000              	GLOBAL _game_over
832   0000              	GLOBAL _game_sound
833   0000              	GLOBAL _game_two_player
834   0000              	GLOBAL _game_brick_tile
835   0000              	GLOBAL _game_pow
836   0000              	GLOBAL _spr_count
837   0000              	GLOBAL _frame_loop_count
838   0000              	GLOBAL _col_time
839   0000              	GLOBAL _frame_time
840   0000              	GLOBAL _entry_time
841   0000              	GLOBAL _curr_time
842   0000              	GLOBAL _s_state
843   0000              	GLOBAL _attrib_hl
844   0000              	GLOBAL _attrib
845   0000              	GLOBAL _zx_val_asm
846   0000              	GLOBAL _enemies
847   0000              	GLOBAL _tmp_ui
848   0000              	GLOBAL _tmp_sc
849   0000              	GLOBAL _tmp_uc
850   0000              	GLOBAL _tmp1
851   0000              	GLOBAL _tmp0
852   0000              	GLOBAL _tmp
853   0000              	GLOBAL _index_d
854   0000              	GLOBAL _index3
855   0000              	GLOBAL _index2
856   0000              	GLOBAL _index1
857   0000              	GLOBAL _loop_count
858   0000              	GLOBAL _sprite_lin_inc_mul
859   0000              	GLOBAL _s_col1
860   0000              	GLOBAL _s_col0
861   0000              	GLOBAL _s_lin1
862   0000              	GLOBAL _s_lin0
863   0000              	GLOBAL _s_tile1
864   0000              	GLOBAL _s_tile0
865   0000              	GLOBAL _hit_count
866   0000              	GLOBAL _tile_offset_other_player
867   0000              	GLOBAL _tile_offset
868   0000              	GLOBAL _index_player
869   0000              	GLOBAL _sprite_other_player
870   0000              	GLOBAL _sprite
871   0000              	GLOBAL _player_joy
872   0000              	GLOBAL _player_next_extra
873   0000              	GLOBAL _player_score
874   0000              	GLOBAL _last_time
875   0000              	GLOBAL _sliding
876   0000              	GLOBAL _spr_timer_c
877   0000              	GLOBAL _spr_timer
878   0000              	GLOBAL _jump_lin
879   0000              	GLOBAL _player_jump_c
880   0000              	GLOBAL _hit_col
881   0000              	GLOBAL _hit_lin
882   0000              	GLOBAL _colint
883   0000              	GLOBAL _col
884   0000              	GLOBAL _lin
885   0000              	GLOBAL _tile
886   0000              	GLOBAL _state_a
887   0000              	GLOBAL _state
888   0000              	GLOBAL _class
889   0000              	GLOBAL _tbuffer
890   0000              	GLOBAL _dirs
891   0000              	GLOBAL _k2
892   0000              	GLOBAL _k1
893   0000              	GLOBAL _joyfunc2
894   0000              	GLOBAL _joyfunc1
895   0000              	GLOBAL _btiles
896   0000              	GLOBAL _spec128
897   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
898   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
899   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
900   0000              	GLOBAL _NIRVANAP_HOLE
901   0000              	GLOBAL _NIRVANAP_ISR_HOOK
902   0000              	GLOBAL _control_method
903   0000              	GLOBAL _hall_valids
904   0000              ;--------------------------------------------------------
905   0000              ; special function registers
906   0000              ;--------------------------------------------------------
907   0000              ;--------------------------------------------------------
908   0000              ; ram data
909   0000              ;--------------------------------------------------------
910   0000              	SECTION bss_compiler
911   0000              ;--------------------------------------------------------
912   0000              ; ram data
913   0000              ;--------------------------------------------------------
914   0000              
915   0000              IF 0
916   0000              
917   0000              ; .area _INITIALIZED removed by z88dk
918   0000              
919   0000              
920   0000              ENDIF
921   0000              
922   0000              ;--------------------------------------------------------
923   0000              ; absolute external ram data
924   0000              ;--------------------------------------------------------
925   0000              	SECTION IGNORE
926   0000              ;--------------------------------------------------------
927   0000              ; global & static initialisations
928   0000              ;--------------------------------------------------------
929   0000              	SECTION code_crt_init
930   0000              ;--------------------------------------------------------
931   0000              ; Home
932   0000              ;--------------------------------------------------------
933   0000              	SECTION IGNORE
934   0000              ;--------------------------------------------------------
935   0000              ; code
936   0000              ;--------------------------------------------------------
937   0000              	SECTION code_compiler
938   0000              ;	---------------------------------
939   0000              ; Function game_calc_index
940   0000              ; ---------------------------------
941   0000              _game_calc_index:
942   0000  CD 00 00    	call	___sdcc_enter_ix
943   0003  DD 4E 05    	ld	c,(ix+5)
944   0006  06 00       	ld	b,0x00
945   0008  DD 7E 04    	ld	a,(ix+4)
946   000B  0F          	rrca
947   000C  0F          	rrca
948   000D  0F          	rrca
949   000E  E6 1F       	and	a,0x1f
950   0010  6F          	ld	l,a
951   0011  26 00       	ld	h,0x00
952   0013  29          	add	hl, hl
953   0014  29          	add	hl, hl
954   0015  29          	add	hl, hl
955   0016  29          	add	hl, hl
956   0017  29          	add	hl, hl
957   0018  09          	add	hl,bc
958   0019  DD E1       	pop	ix
959   001B  C9          	ret
960   001C              	SECTION code_compiler
961   001C              ;	---------------------------------
962   001C              ; Function game_print_footer
963   001C              ; ---------------------------------
964   001C              _game_print_footer:
965   001C  21 00 00    	ld	hl,___str_0
966   001F  E5          	push	hl
967   0020  21 16 01    	ld	hl,0x0116
968   0023  E5          	push	hl
969   0024  CD 00 00    	call	_zx_print_str
970   0027  21 00 00    	ld	hl,___str_0
971   002A  E5          	push	hl
972   002B  21 16 1E    	ld	hl,0x1e16
973   002E  E5          	push	hl
974   002F  CD 00 00    	call	_zx_print_str
975   0032  21 02 00    	ld	hl,___str_1
976   0035  E5          	push	hl
977   0036  21 17 01    	ld	hl,0x0117
978   0039  E5          	push	hl
979   003A  CD 00 00    	call	_zx_print_str
980   003D  21 02 00    	ld	hl,___str_1
981   0040  E5          	push	hl
982   0041  21 17 1E    	ld	hl,0x1e17
983   0044  E5          	push	hl
984   0045  CD 00 00    	call	_zx_print_str
985   0048  3A 00 00    	ld	a,(_game_lives)
986   004B  B7          	or	a, a
987   004C  28 20       	jr	Z,l_game_print_footer_00102
988   004E  21 00 00    	ld	hl,_screen_ink
989   0051  36 02       	ld	(hl),0x02
990   0053  21 08 00    	ld	hl,___str_2
991   0056  E5          	push	hl
992   0057  21 16 01    	ld	hl,0x0116
993   005A  E5          	push	hl
994   005B  CD 00 00    	call	_zx_print_str
995   005E  21 00 00    	ld	hl,_screen_ink
996   0061  36 06       	ld	(hl),0x06
997   0063  21 0A 00    	ld	hl,___str_3
998   0066  E5          	push	hl
999   0067  21 17 01    	ld	hl,0x0117
1000  006A  E5          	push	hl
1001  006B  CD 00 00    	call	_zx_print_str
1002  006E              l_game_print_footer_00102:
1003  006E  3A 01 00    	ld	a, (_game_lives + 1)
1004  0071  B7          	or	a, a
1005  0072  28 20       	jr	Z,l_game_print_footer_00104
1006  0074  21 00 00    	ld	hl,_screen_ink
1007  0077  36 07       	ld	(hl),0x07
1008  0079  21 0C 00    	ld	hl,___str_4
1009  007C  E5          	push	hl
1010  007D  21 16 1E    	ld	hl,0x1e16
1011  0080  E5          	push	hl
1012  0081  CD 00 00    	call	_zx_print_str
1013  0084  21 00 00    	ld	hl,_screen_ink
1014  0087  36 06       	ld	(hl),0x06
1015  0089  21 0E 00    	ld	hl,___str_5
1016  008C  E5          	push	hl
1017  008D  21 17 1E    	ld	hl,0x1e17
1018  0090  E5          	push	hl
1019  0091  CD 00 00    	call	_zx_print_str
1020  0094              l_game_print_footer_00104:
1021  0094  CD E7 00    	call	_game_print_lives
1022  0097  21 10 00    	ld	hl,___str_6
1023  009A  E5          	push	hl
1024  009B  21 17 0B    	ld	hl,0x0b17
1025  009E  E5          	push	hl
1026  009F  CD 00 00    	call	_zx_print_str
1027  00A2  21 00 00    	ld	hl,_phase_curr
1028  00A5  46          	ld	b,(hl)
1029  00A6  04          	inc	b
1030  00A7  C5          	push	bc
1031  00A8  33          	inc	sp
1032  00A9  21 17 12    	ld	hl,0x1217
1033  00AC  E5          	push	hl
1034  00AD  CD 00 00    	call	_zx_print_chr
1035  00B0  C9          	ret
1036  00B1              	SECTION rodata_compiler
1037  0000              ___str_0:
1038  0000  20          	DEFM " "
1039  0001  00          	DEFB 0x00
1040  0002              	SECTION rodata_compiler
1041  0002              ___str_1:
1042  0002  20 20 20 20 20 
                        	DEFM "     "
1043  0007  00          	DEFB 0x00
1044  0008              	SECTION rodata_compiler
1045  0008              ___str_2:
1046  0008  3C          	DEFM "<"
1047  0009  00          	DEFB 0x00
1048  000A              	SECTION rodata_compiler
1049  000A              ___str_3:
1050  000A  5C          	DEFB 0x5c
1051  000B  00          	DEFB 0x00
1052  000C              	SECTION rodata_compiler
1053  000C              ___str_4:
1054  000C  3E          	DEFM ">"
1055  000D  00          	DEFB 0x00
1056  000E              	SECTION rodata_compiler
1057  000E              ___str_5:
1058  000E  5E          	DEFM "^"
1059  000F  00          	DEFB 0x00
1060  0010              	SECTION rodata_compiler
1061  0010              ___str_6:
1062  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1063  0015  00          	DEFB 0x00
1064  0016              	SECTION code_compiler
1065  00B1              ;	---------------------------------
1066  00B1              ; Function game_phase_print_score_back
1067  00B1              ; ---------------------------------
1068  00B1              _game_phase_print_score_back:
1069  00B1  21 00 00    	ld	hl,_screen_ink
1070  00B4  36 02       	ld	(hl),0x02
1071  00B6  21 16 00    	ld	hl,___str_7
1072  00B9  E5          	push	hl
1073  00BA  21 00 0B    	ld	hl,0x0b00
1074  00BD  E5          	push	hl
1075  00BE  CD 00 00    	call	_zx_print_str
1076  00C1  21 00 00    	ld	hl,_screen_ink
1077  00C4  36 01       	ld	(hl),0x01
1078  00C6  21 1A 00    	ld	hl,___str_8
1079  00C9  E5          	push	hl
1080  00CA  21 00 01    	ld	hl,0x0100
1081  00CD  E5          	push	hl
1082  00CE  CD 00 00    	call	_zx_print_str
1083  00D1  3A 00 00    	ld	a,(_game_two_player)
1084  00D4  B7          	or	a, a
1085  00D5  C8          	ret	Z
1086  00D6  21 00 00    	ld	hl,_screen_ink
1087  00D9  36 04       	ld	(hl),0x04
1088  00DB  21 1D 00    	ld	hl,___str_9
1089  00DE  E5          	push	hl
1090  00DF  21 00 16    	ld	hl,0x1600
1091  00E2  E5          	push	hl
1092  00E3  CD 00 00    	call	_zx_print_str
1093  00E6  C9          	ret
1094  00E7              	SECTION rodata_compiler
1095  0016              ___str_7:
1096  0016  24 25 7C    	DEFM "$%|"
1097  0019  00          	DEFB 0x00
1098  001A              	SECTION rodata_compiler
1099  001A              ___str_8:
1100  001A  5B 7C       	DEFM "[|"
1101  001C  00          	DEFB 0x00
1102  001D              	SECTION rodata_compiler
1103  001D              ___str_9:
1104  001D  5D 7C       	DEFM "]|"
1105  001F  00          	DEFB 0x00
1106  0020              	SECTION code_compiler
1107  00E7              ;	---------------------------------
1108  00E7              ; Function game_print_lives
1109  00E7              ; ---------------------------------
1110  00E7              _game_print_lives:
1111  00E7  21 00 00    	ld	hl,_screen_ink
1112  00EA  36 07       	ld	(hl),0x07
1113  00EC  3A 00 00    	ld	a,(_game_lives)
1114  00EF  C6 FF       	add	a,0xff
1115  00F1  21 00 00    	ld	hl,_tmp
1116  00F4  77          	ld	(hl),a
1117  00F5  D6 FF       	sub	a,0xff
1118  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1119  00F9  7E          	ld	a,(hl)
1120  00FA  F5          	push	af
1121  00FB  33          	inc	sp
1122  00FC  21 17 03    	ld	hl,0x0317
1123  00FF  E5          	push	hl
1124  0100  CD 00 00    	call	_zx_print_chr
1125  0103              l_game_print_lives_00102:
1126  0103  3A 01 00    	ld	a, (_game_lives + 1)
1127  0106  C6 FF       	add	a,0xff
1128  0108  21 00 00    	ld	hl,_tmp
1129  010B  77          	ld	(hl),a
1130  010C  D6 FF       	sub	a,0xff
1131  010E  D0          	ret	NC
1132  010F  7E          	ld	a,(hl)
1133  0110  F5          	push	af
1134  0111  33          	inc	sp
1135  0112  21 17 1A    	ld	hl,0x1a17
1136  0115  E5          	push	hl
1137  0116  CD 00 00    	call	_zx_print_chr
1138  0119  C9          	ret
1139  011A              	SECTION code_compiler
1140  011A              ;	---------------------------------
1141  011A              ; Function game_tick
1142  011A              ; ---------------------------------
1143  011A              _game_tick:
1144  011A  21 00 00    	ld	hl,_curr_time
1145  011D  34          	inc	(hl)
1146  011E  C2 00 00    	jp	NZ,_zx_isr
1147  0121  23          	inc	hl
1148  0122  34          	inc	(hl)
1149  0123  C3 00 00    	jp  _zx_isr
1150  0126              	SECTION code_compiler
1151  0126              ;	---------------------------------
1152  0126              ; Function game_start_timer
1153  0126              ; ---------------------------------
1154  0126              _game_start_timer:
1155  0126  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1156  0129  3E CD       	ld	a,0xcd
1157  012B  02          	ld	(bc),a
1158  012C  03          	inc	bc
1159  012D  11 1A 01    	ld	de,_game_tick
1160  0130  7B          	ld	a,e
1161  0131  02          	ld	(bc),a
1162  0132  03          	inc	bc
1163  0133  7A          	ld	a,d
1164  0134  02          	ld	(bc),a
1165  0135  C9          	ret
1166  0136              	SECTION code_compiler
1167  0136              ;	---------------------------------
1168  0136              ; Function game_phase_calc
1169  0136              ; ---------------------------------
1170  0136              _game_phase_calc:
1171  0136  3A 00 00    	ld	a,(_phase_curr)
1172  0139  87          	add	a, a
1173  013A  87          	add	a, a
1174  013B  21 00 00    	ld	hl,_tmp_uc
1175  013E  77          	ld	(hl),a
1176  013F  01 00 00    	ld	bc,_phases+0
1177  0142  5E          	ld	e,(hl)
1178  0143  16 00       	ld	d,0x00
1179  0145  69          	ld	l, c
1180  0146  60          	ld	h, b
1181  0147  19          	add	hl,de
1182  0148  7E          	ld	a,(hl)
1183  0149  32 00 00    	ld	(_phase_quota),a
1184  014C  2A 00 00    	ld	hl,(_tmp_uc)
1185  014F  26 00       	ld	h,0x00
1186  0151  23          	inc	hl
1187  0152  09          	add	hl,bc
1188  0153  7E          	ld	a,(hl)
1189  0154  32 01 00    	ld	((_phase_quota + 0x0001)),a
1190  0157  2A 00 00    	ld	hl,(_tmp_uc)
1191  015A  26 00       	ld	h,0x00
1192  015C  23          	inc	hl
1193  015D  23          	inc	hl
1194  015E  09          	add	hl,bc
1195  015F  7E          	ld	a,(hl)
1196  0160  32 02 00    	ld	((_phase_quota + 0x0002)),a
1197  0163  2A 00 00    	ld	hl,(_tmp_uc)
1198  0166  26 00       	ld	h,0x00
1199  0168  23          	inc	hl
1200  0169  23          	inc	hl
1201  016A  23          	inc	hl
1202  016B  09          	add	hl,bc
1203  016C  7E          	ld	a,(hl)
1204  016D  32 00 00    	ld	(_game_brick_tile),a
1205  0170  CD 02 0C    	call	_game_unfreeze_all
1206  0173  3A 00 00    	ld	a,(_game_brick_tile)
1207  0176  D6 8B       	sub	a,0x8b
1208  0178  20 03       	jr	NZ,l_game_phase_calc_00102
1209  017A  CD 2B 0C    	call	_game_freeze_all
1210  017D              l_game_phase_calc_00102:
1211  017D  3A 00 00    	ld	a,(_game_brick_tile)
1212  0180  4F          	ld	c,a
1213  0181  06 00       	ld	b,0x00
1214  0183  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1215  0187  21 00 00    	ld	hl,_phase_quota
1216  018A  4E          	ld	c,(hl)
1217  018B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1218  018E  46          	ld	b,(hl)
1219  018F  79          	ld	a,c
1220  0190  80          	add	a, b
1221  0191  4F          	ld	c,a
1222  0192  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1223  0195  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1224  0197  09          	add	hl, bc
1225  0198  C9          	ret
1226  0199              	SECTION code_compiler
1227  0199              ;	---------------------------------
1228  0199              ; Function game_phase_init
1229  0199              ; ---------------------------------
1230  0199              _game_phase_init:
1231  0199  21 00 00    	ld	hl,_phase_end
1232  019C  36 00       	ld	(hl),0x00
1233  019E  21 00 00    	ld	hl,_phase_angry
1234  01A1  36 00       	ld	(hl),0x00
1235  01A3  21 00 00    	ld	hl,_phase_coins
1236  01A6  36 00       	ld	(hl),0x00
1237  01A8  21 00 00    	ld	hl,_phase_pop
1238  01AB  36 00       	ld	(hl),0x00
1239  01AD  21 00 00    	ld	hl,_game_bonus
1240  01B0  36 00       	ld	(hl),0x00
1241  01B2  21 00 00    	ld	hl,0x0000
1242  01B5  22 00 00    	ld	(_entry_time),hl
1243  01B8  21 00 00    	ld	hl,0
1244  01BB  22 00 00    	ld	(_curr_time),hl
1245  01BE  21 00 00    	ld	hl,0x0000
1246  01C1  22 00 00    	ld	(_frame_time),hl
1247  01C4  21 FF FF    	ld	hl,0xffff
1248  01C7  22 00 00    	ld	(_score_osd_col),hl
1249  01CA  CD 00 00    	call	_spr_draw_clear
1250  01CD  CD 00 00    	call	_spr_cortina_pipes
1251  01D0  21 00 00    	ld	hl,0x0000
1252  01D3  CD 00 00    	call	_zx_cls_fastcall
1253  01D6  21 00 00    	ld	hl,_spr_count
1254  01D9  36 00       	ld	(hl),0x00
1255  01DB  3A 00 00    	ld	a,(_game_type)
1256  01DE  D6 02       	sub	a,0x02
1257  01E0  CA 6C 02    	jp	Z,l_game_phase_init_00104
1258  01E3  CD 36 01    	call	_game_phase_calc
1259  01E6  7D          	ld	a,l
1260  01E7  32 00 00    	ld	(_phase_left),a
1261  01EA  32 00 00    	ld	(_phase_tot),a
1262  01ED  21 00 00    	ld	hl,_phase_left
1263  01F0  7E          	ld	a,(hl)
1264  01F1  B7          	or	a, a
1265  01F2  C2 81 02    	jp	NZ,l_game_phase_init_00105
1266  01F5  01 00 00    	ld	bc,_phase_bonus_total+0
1267  01F8  AF          	xor	a, a
1268  01F9  02          	ld	(bc),a
1269  01FA  03          	inc	bc
1270  01FB  AF          	xor	a, a
1271  01FC  02          	ld	(bc),a
1272  01FD  36 06       	ld	(hl),0x06
1273  01FF  21 00 00    	ld	hl,_game_bonus
1274  0202  36 01       	ld	(hl),0x01
1275  0204  21 0C 00    	ld	hl,0x000c
1276  0207  E5          	push	hl
1277  0208  21 90 08    	ld	hl,0x0890
1278  020B  E5          	push	hl
1279  020C  AF          	xor	a, a
1280  020D  F5          	push	af
1281  020E  33          	inc	sp
1282  020F  CD 00 00    	call	_enemy_init
1283  0212  F1          	pop	af
1284  0213  33          	inc	sp
1285  0214  21 0C 00    	ld	hl,0x000c
1286  0217  E3          	ex	(sp),hl
1287  0218  21 90 16    	ld	hl,0x1690
1288  021B  E5          	push	hl
1289  021C  3E 01       	ld	a,0x01
1290  021E  F5          	push	af
1291  021F  33          	inc	sp
1292  0220  CD 00 00    	call	_enemy_init
1293  0223  F1          	pop	af
1294  0224  33          	inc	sp
1295  0225  21 0C 00    	ld	hl,0x000c
1296  0228  E3          	ex	(sp),hl
1297  0229  21 50 06    	ld	hl,0x0650
1298  022C  E5          	push	hl
1299  022D  3E 02       	ld	a,0x02
1300  022F  F5          	push	af
1301  0230  33          	inc	sp
1302  0231  CD 00 00    	call	_enemy_init
1303  0234  F1          	pop	af
1304  0235  33          	inc	sp
1305  0236  21 0C 00    	ld	hl,0x000c
1306  0239  E3          	ex	(sp),hl
1307  023A  21 50 18    	ld	hl,0x1850
1308  023D  E5          	push	hl
1309  023E  3E 03       	ld	a,0x03
1310  0240  F5          	push	af
1311  0241  33          	inc	sp
1312  0242  CD 00 00    	call	_enemy_init
1313  0245  F1          	pop	af
1314  0246  33          	inc	sp
1315  0247  21 0C 00    	ld	hl,0x000c
1316  024A  E3          	ex	(sp),hl
1317  024B  21 10 05    	ld	hl,0x0510
1318  024E  E5          	push	hl
1319  024F  3E 04       	ld	a,0x04
1320  0251  F5          	push	af
1321  0252  33          	inc	sp
1322  0253  CD 00 00    	call	_enemy_init
1323  0256  F1          	pop	af
1324  0257  33          	inc	sp
1325  0258  21 0C 00    	ld	hl,0x000c
1326  025B  E3          	ex	(sp),hl
1327  025C  21 10 19    	ld	hl,0x1910
1328  025F  E5          	push	hl
1329  0260  3E 05       	ld	a,0x05
1330  0262  F5          	push	af
1331  0263  33          	inc	sp
1332  0264  CD 00 00    	call	_enemy_init
1333  0267  F1          	pop	af
1334  0268  F1          	pop	af
1335  0269  33          	inc	sp
1336  026A  18 15       	jr	l_game_phase_init_00105
1337  026C              l_game_phase_init_00104:
1338  026C  21 00 00    	ld	hl,_phase_left
1339  026F  36 FF       	ld	(hl),0xff
1340  0271  21 00 00    	ld	hl,_phase_curr
1341  0274  36 FF       	ld	(hl),0xff
1342  0276  21 00 00    	ld	hl,_game_brick_tile
1343  0279  36 84       	ld	(hl),0x84
1344  027B  21 84 00    	ld	hl,0x0084
1345  027E  22 24 00    	ld	(_spr_idx + 0x0024),hl
1346  0281              l_game_phase_init_00105:
1347  0281  CD 00 00    	call	_ay_reset
1348  0284  3A 00 00    	ld	a,(_game_bonus)
1349  0287  B7          	or	a, a
1350  0288  20 06       	jr	NZ,l_game_phase_init_00107
1351  028A  21 00 00    	ld	hl,_pb_midi_phase_1
1352  028D  CD 00 00    	call	_ay_midi_play
1353  0290              l_game_phase_init_00107:
1354  0290  CD C7 02    	call	_game_print_header
1355  0293  2E 0C       	ld	l,0x0c
1356  0295  CD D2 02    	call	_game_phase_print
1357  0298  3A 00 00    	ld	a,(_game_lives)
1358  029B  B7          	or	a, a
1359  029C  28 0D       	jr	Z,l_game_phase_init_00109
1360  029E  21 0A 03    	ld	hl,0x030a
1361  02A1  E5          	push	hl
1362  02A2  21 07 98    	ld	hl,0x9807
1363  02A5  E5          	push	hl
1364  02A6  CD 00 00    	call	_player_init
1365  02A9  F1          	pop	af
1366  02AA  F1          	pop	af
1367  02AB              l_game_phase_init_00109:
1368  02AB  3A 01 00    	ld	a, (_game_lives + 1)
1369  02AE  B7          	or	a, a
1370  02AF  28 0D       	jr	Z,l_game_phase_init_00111
1371  02B1  21 14 27    	ld	hl,0x2714
1372  02B4  E5          	push	hl
1373  02B5  21 06 98    	ld	hl,0x9806
1374  02B8  E5          	push	hl
1375  02B9  CD 00 00    	call	_player_init
1376  02BC  F1          	pop	af
1377  02BD  F1          	pop	af
1378  02BE              l_game_phase_init_00111:
1379  02BE  CD 00 00    	call	_spr_draw_back
1380  02C1  CD C7 02    	call	_game_print_header
1381  02C4  C3 1C 00    	jp  _game_print_footer
1382  02C7              	SECTION code_compiler
1383  02C7              ;	---------------------------------
1384  02C7              ; Function game_print_header
1385  02C7              ; ---------------------------------
1386  02C7              _game_print_header:
1387  02C7  CD B1 00    	call	_game_phase_print_score_back
1388  02CA  21 00 00    	ld	hl,_screen_ink
1389  02CD  36 07       	ld	(hl),0x07
1390  02CF  C3 54 0C    	jp  _game_print_score
1391  02D2              	SECTION code_compiler
1392  02D2              ;	---------------------------------
1393  02D2              ; Function game_phase_print
1394  02D2              ; ---------------------------------
1395  02D2              _game_phase_print:
1396  02D2  45          	ld	b,l
1397  02D3  C5          	push	bc
1398  02D4  21 20 00    	ld	hl,___str_10
1399  02D7  E5          	push	hl
1400  02D8  3E 0B       	ld	a,0x0b
1401  02DA  48          	ld	c,b
1402  02DB  47          	ld	b,a
1403  02DC  C5          	push	bc
1404  02DD  CD 00 00    	call	_zx_print_str
1405  02E0  C1          	pop	bc
1406  02E1  3A 00 00    	ld	a,(_phase_curr)
1407  02E4  D6 1F       	sub	a,0x1f
1408  02E6  30 27       	jr	NC,l_game_phase_print_00108
1409  02E8  3A 00 00    	ld	a,(_game_bonus)
1410  02EB  B7          	or	a, a
1411  02EC  20 11       	jr	NZ,l_game_phase_print_00102
1412  02EE  21 00 00    	ld	hl,_phase_curr
1413  02F1  56          	ld	d,(hl)
1414  02F2  14          	inc	d
1415  02F3  C5          	push	bc
1416  02F4  1E 11       	ld	e,0x11
1417  02F6  D5          	push	de
1418  02F7  C5          	push	bc
1419  02F8  33          	inc	sp
1420  02F9  CD 00 00    	call	_zx_print_chr
1421  02FC  C1          	pop	bc
1422  02FD  18 35       	jr	l_game_phase_print_00109
1423  02FF              l_game_phase_print_00102:
1424  02FF  C5          	push	bc
1425  0300  21 26 00    	ld	hl,___str_11
1426  0303  E5          	push	hl
1427  0304  3E 11       	ld	a,0x11
1428  0306  48          	ld	c,b
1429  0307  47          	ld	b,a
1430  0308  C5          	push	bc
1431  0309  CD 00 00    	call	_zx_print_str
1432  030C  C1          	pop	bc
1433  030D  18 25       	jr	l_game_phase_print_00109
1434  030F              l_game_phase_print_00108:
1435  030F  3A 00 00    	ld	a,(_game_type)
1436  0312  D6 02       	sub	a,0x02
1437  0314  28 10       	jr	Z,l_game_phase_print_00105
1438  0316  C5          	push	bc
1439  0317  21 2C 00    	ld	hl,___str_12
1440  031A  E5          	push	hl
1441  031B  3E 11       	ld	a,0x11
1442  031D  48          	ld	c,b
1443  031E  47          	ld	b,a
1444  031F  C5          	push	bc
1445  0320  CD 00 00    	call	_zx_print_str
1446  0323  C1          	pop	bc
1447  0324  18 0E       	jr	l_game_phase_print_00109
1448  0326              l_game_phase_print_00105:
1449  0326  C5          	push	bc
1450  0327  21 31 00    	ld	hl,___str_13
1451  032A  E5          	push	hl
1452  032B  3E 11       	ld	a,0x11
1453  032D  48          	ld	c,b
1454  032E  47          	ld	b,a
1455  032F  C5          	push	bc
1456  0330  CD 00 00    	call	_zx_print_str
1457  0333  C1          	pop	bc
1458  0334              l_game_phase_print_00109:
1459  0334  21 2C 01    	ld	hl,0x012c
1460  0337  E5          	push	hl
1461  0338  21 0B 18    	ld	hl,0x180b
1462  033B  E5          	push	hl
1463  033C  C5          	push	bc
1464  033D  33          	inc	sp
1465  033E  CD 49 19    	call	_game_colour_message
1466  0341  F1          	pop	af
1467  0342  F1          	pop	af
1468  0343  33          	inc	sp
1469  0344  C9          	ret
1470  0345              	SECTION rodata_compiler
1471  0020              ___str_10:
1472  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1473  0025  00          	DEFB 0x00
1474  0026              	SECTION rodata_compiler
1475  0026              ___str_11:
1476  0026  42 4F 4E 55 53 
                        	DEFM "BONUS"
1477  002B  00          	DEFB 0x00
1478  002C              	SECTION rodata_compiler
1479  002C              ___str_12:
1480  002C  48 45 4C 4C 	DEFM "HELL"
1481  0030  00          	DEFB 0x00
1482  0031              	SECTION rodata_compiler
1483  0031              ___str_13:
1484  0031  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1485  0037  00          	DEFB 0x00
1486  0038              	SECTION code_compiler
1487  0345              ;	---------------------------------
1488  0345              ; Function game_loop
1489  0345              ; ---------------------------------
1490  0345              _game_loop:
1491  0345  21 38 00    	ld	hl,___str_14
1492  0348  E5          	push	hl
1493  0349  21 16 07    	ld	hl,0x0716
1494  034C  E5          	push	hl
1495  034D  CD 00 00    	call	_zx_print_str
1496  0350  21 4B 00    	ld	hl,___str_15
1497  0353  E5          	push	hl
1498  0354  21 17 07    	ld	hl,0x0717
1499  0357  E5          	push	hl
1500  0358  CD 00 00    	call	_zx_print_str
1501  035B  21 00 00    	ld	hl,_ay_effect_10
1502  035E  CD 00 00    	call	_ay_fx_play
1503  0361  CD 00 00    	call	_sound_coin
1504  0364  21 C8 00    	ld	hl,0x00c8
1505  0367  CD 00 00    	call	_z80_delay_ms_fastcall
1506  036A  21 5E 00    	ld	hl,___str_16
1507  036D  E5          	push	hl
1508  036E  21 16 07    	ld	hl,0x0716
1509  0371  E5          	push	hl
1510  0372  CD 00 00    	call	_zx_print_str
1511  0375  CD 00 00    	call	_ay_reset
1512  0378  21 11 11    	ld	hl,0x1111
1513  037B  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1514  037E  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1515  0381  01 00 00    	ld	bc,_game_lives+0
1516  0384  3E 04       	ld	a,0x04
1517  0386  02          	ld	(bc),a
1518  0387  03          	inc	bc
1519  0388  3A 00 00    	ld	a,(_game_two_player)
1520  038B  B7          	or	a,a
1521  038C  28 05       	jr	Z,l_game_loop_00102
1522  038E  3E 04       	ld	a,0x04
1523  0390  02          	ld	(bc),a
1524  0391  18 02       	jr	l_game_loop_00103
1525  0393              l_game_loop_00102:
1526  0393  AF          	xor	a, a
1527  0394  02          	ld	(bc),a
1528  0395              l_game_loop_00103:
1529  0395  21 00 00    	ld	hl,0x0000
1530  0398  22 00 00    	ld	(_player_score), hl
1531  039B  2E 00       	ld	l,0x00
1532  039D  22 02 00    	ld	(_player_score + 0x0002),hl
1533  03A0  21 D0 07    	ld	hl,0x07d0
1534  03A3  22 00 00    	ld	(_player_next_extra), hl
1535  03A6  2E D0       	ld	l,0xd0
1536  03A8  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1537  03AB  21 00 00    	ld	hl,_spr_water_clear
1538  03AE  36 FF       	ld	(hl),0xff
1539  03B0  3A 00 00    	ld	a,(_game_type)
1540  03B3  B7          	or	a, a
1541  03B4  20 0E       	jr	NZ,l_game_loop_00105
1542  03B6  21 F4 01    	ld	hl,0x01f4
1543  03B9  22 00 00    	ld	(_game_time_flipped),hl
1544  03BC  21 D0 07    	ld	hl,0x07d0
1545  03BF  22 00 00    	ld	(_game_time_fireball_start),hl
1546  03C2  18 0C       	jr	l_game_loop_00106
1547  03C4              l_game_loop_00105:
1548  03C4  21 FA 00    	ld	hl,0x00fa
1549  03C7  22 00 00    	ld	(_game_time_flipped),hl
1550  03CA  21 F4 01    	ld	hl,0x01f4
1551  03CD  22 00 00    	ld	(_game_time_fireball_start),hl
1552  03D0              l_game_loop_00106:
1553  03D0  21 00 00    	ld	hl,_game_over
1554  03D3  36 00       	ld	(hl),0x00
1555  03D5  21 00 00    	ld	hl,_game_pow
1556  03D8  36 03       	ld	(hl),0x03
1557  03DA  21 00 00    	ld	hl,_phase_curr
1558  03DD  36 00       	ld	(hl),0x00
1559  03DF  CD 99 01    	call	_game_phase_init
1560  03E2  21 00 00    	ld	hl,_sprite_lin_inc_mul
1561  03E5  36 00       	ld	(hl),0x00
1562  03E7  21 00 00    	ld	hl,0x0000
1563  03EA  22 00 00    	ld	(_loop_count),hl
1564  03ED  21 00 00    	ld	hl,_dirs
1565  03F0  36 00       	ld	(hl),0x00
1566  03F2  CD 02 0C    	call	_game_unfreeze_all
1567  03F5  CD F6 0E    	call	_game_joystick_set
1568  03F8              l_game_loop_00134:
1569  03F8  3A 00 00    	ld	a,(_game_over)
1570  03FB  B7          	or	a, a
1571  03FC  C2 F5 04    	jp	NZ,l_game_loop_00136
1572  03FF  CD 00 00    	call	_player_set1
1573  0402  CD 00 00    	call	_player_turn
1574  0405  CD 00 00    	call	_player_set2
1575  0408  CD 00 00    	call	_player_turn
1576  040B  CD 00 00    	call	_enemy_turn
1577  040E  3A 00 00    	ld	a,(_game_bonus)
1578  0411  B7          	or	a, a
1579  0412  28 16       	jr	Z,l_game_loop_00111
1580  0414  CD 76 06    	call	_game_bonus_clock
1581  0417  3A 00 00    	ld	a,(_phase_left)
1582  041A  B7          	or	a, a
1583  041B  28 0D       	jr	Z,l_game_loop_00111
1584  041D  CD 00 00    	call	_ay_is_playing
1585  0420  7D          	ld	a,l
1586  0421  B7          	or	a, a
1587  0422  20 06       	jr	NZ,l_game_loop_00111
1588  0424  21 00 00    	ld	hl,_ay_effect_19
1589  0427  CD 00 00    	call	_ay_fx_play
1590  042A              l_game_loop_00111:
1591  042A  CD 00 00    	call	_spr_water_splash_clear
1592  042D  21 64 00    	ld	hl,0x0064
1593  0430  E5          	push	hl
1594  0431  2A 00 00    	ld	hl,(_frame_time)
1595  0434  E5          	push	hl
1596  0435  CD DB 19    	call	_game_check_time
1597  0438  F1          	pop	af
1598  0439  F1          	pop	af
1599  043A  7D          	ld	a,l
1600  043B  B7          	or	a, a
1601  043C  CA E9 04    	jp	Z,l_game_loop_00133
1602  043F  2A 00 00    	ld	hl,(_curr_time)
1603  0442  22 00 00    	ld	(_frame_time),hl
1604  0445  3A 00 00    	ld	a,(_game_bonus)
1605  0448  B7          	or	a,a
1606  0449  20 03       	jr	NZ,l_game_loop_00113
1607  044B  CD C7 08    	call	_game_enemy_add
1608  044E              l_game_loop_00113:
1609  044E  3A 00 00    	ld	a,(_phase_left)
1610  0451  3D          	dec	a
1611  0452  20 55       	jr	NZ,l_game_loop_00120
1612  0454  3A 00 00    	ld	a,(_phase_angry)
1613  0457  B7          	or	a, a
1614  0458  20 4F       	jr	NZ,l_game_loop_00120
1615  045A  21 00 00    	ld	hl,_sprite
1616  045D  36 00       	ld	(hl),0x00
1617  045F              l_game_loop_00137:
1618  045F  2A 00 00    	ld	hl,(_sprite)
1619  0462  26 00       	ld	h,0x00
1620  0464  01 00 00    	ld	bc,_class
1621  0467  09          	add	hl,bc
1622  0468  7E          	ld	a,(hl)
1623  0469  4F          	ld	c,a
1624  046A  B7          	or	a,a
1625  046B  28 32       	jr	Z,l_game_loop_00138
1626  046D  3E 09       	ld	a,0x09
1627  046F  91          	sub	a,c
1628  0470  38 2D       	jr	C,l_game_loop_00138
1629  0472  3A 00 00    	ld	a,(_sprite)
1630  0475  4F          	ld	c,a
1631  0476  06 00       	ld	b,0x00
1632  0478  21 00 00    	ld	hl,_state
1633  047B  09          	add	hl,bc
1634  047C  CB 6E       	bit	5,(hl)
1635  047E  20 1F       	jr	NZ,l_game_loop_00138
1636  0480  21 00 00    	ld	hl,_phase_angry
1637  0483  36 01       	ld	(hl),0x01
1638  0485  CD 00 00    	call	_enemy_evolve
1639  0488  CD 00 00    	call	_enemy_evolve
1640  048B  3E 00       	ld	a,+((_tile) & 0xFF)
1641  048D  21 00 00    	ld	hl,_sprite
1642  0490  86          	add	a, (hl)
1643  0491  4F          	ld	c,a
1644  0492  3E 00       	ld	a,+((_tile) / 256)
1645  0494  CE 00       	adc	a,0x00
1646  0496  47          	ld	b,a
1647  0497  6E          	ld	l,(hl)
1648  0498  C5          	push	bc
1649  0499  CD 00 00    	call	_spr_tile
1650  049C  C1          	pop	bc
1651  049D  7D          	ld	a, l
1652  049E  02          	ld	(bc),a
1653  049F              l_game_loop_00138:
1654  049F  21 00 00    	ld	hl,_sprite
1655  04A2  7E          	ld	a,(hl)
1656  04A3  3C          	inc	a
1657  04A4  77          	ld	(hl),a
1658  04A5  D6 06       	sub	a,0x06
1659  04A7  38 B6       	jr	C,l_game_loop_00137
1660  04A9              l_game_loop_00120:
1661  04A9  3A 00 00    	ld	a,(_phase_end)
1662  04AC  3D          	dec	a
1663  04AD  20 3A       	jr	NZ,l_game_loop_00133
1664  04AF  3A 00 00    	ld	a,(_game_type)
1665  04B2  D6 02       	sub	a,0x02
1666  04B4  28 33       	jr	Z,l_game_loop_00133
1667  04B6  21 90 01    	ld	hl,0x0190
1668  04B9  CD 00 00    	call	_z80_delay_ms_fastcall
1669  04BC  CD 00 00    	call	_ay_is_playing
1670  04BF  7D          	ld	a, l
1671  04C0  D6 02       	sub	a,0x02
1672  04C2  30 03       	jr	NC,l_game_loop_00123
1673  04C4  CD 00 00    	call	_ay_reset
1674  04C7              l_game_loop_00123:
1675  04C7  CD 95 08    	call	_game_kill_all_sprites
1676  04CA  3A 00 00    	ld	a,(_game_bonus)
1677  04CD  B7          	or	a, a
1678  04CE  28 03       	jr	Z,l_game_loop_00125
1679  04D0  CD DC 06    	call	_game_bonus_summary
1680  04D3              l_game_loop_00125:
1681  04D3  21 00 00    	ld	hl,_phase_curr
1682  04D6  34          	inc	(hl)
1683  04D7  3E 1F       	ld	a,0x1f
1684  04D9  96          	sub	a, (hl)
1685  04DA  30 0A       	jr	NC,l_game_loop_00127
1686  04DC  CD 03 12    	call	_game_end
1687  04DF  21 00 00    	ld	hl,_game_over
1688  04E2  36 01       	ld	(hl),0x01
1689  04E4  18 03       	jr	l_game_loop_00133
1690  04E6              l_game_loop_00127:
1691  04E6  CD 99 01    	call	_game_phase_init
1692  04E9              l_game_loop_00133:
1693  04E9  21 00 00    	ld	hl,_loop_count
1694  04EC  34          	inc	(hl)
1695  04ED  C2 F8 03    	jp	NZ,l_game_loop_00134
1696  04F0  23          	inc	hl
1697  04F1  34          	inc	(hl)
1698  04F2  C3 F8 03    	jp	l_game_loop_00134
1699  04F5              l_game_loop_00136:
1700  04F5  21 20 03    	ld	hl,0x0320
1701  04F8  CD 00 00    	call	_z80_delay_ms_fastcall
1702  04FB  CD 95 08    	call	_game_kill_all_sprites
1703  04FE  76          	halt
1704  04FF  CD 00 00    	call	_spr_draw_clear
1705  0502  21 71 00    	ld	hl,___str_17
1706  0505  E5          	push	hl
1707  0506  21 08 0B    	ld	hl,0x0b08
1708  0509  E5          	push	hl
1709  050A  CD 00 00    	call	_zx_print_str
1710  050D  21 C8 00    	ld	hl,0x00c8
1711  0510  E5          	push	hl
1712  0511  21 0B 15    	ld	hl,0x150b
1713  0514  E5          	push	hl
1714  0515  3E 08       	ld	a,0x08
1715  0517  F5          	push	af
1716  0518  33          	inc	sp
1717  0519  CD 49 19    	call	_game_colour_message
1718  051C  F1          	pop	af
1719  051D  F1          	pop	af
1720  051E  33          	inc	sp
1721  051F  CD C7 14    	call	_game_hall_enter
1722  0522  CD 00 00    	call	_ay_reset
1723  0525  21 00 00    	ld	hl,_game_menu_sel
1724  0528  36 00       	ld	(hl),0x00
1725  052A  CD E9 0F    	call	_game_menu_paint
1726  052D  CD E9 0E    	call	_game_joystick_set_menu
1727  0530  C9          	ret
1728  0531              	SECTION rodata_compiler
1729  0038              ___str_14:
1730  0038  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1731  004A  00          	DEFB 0x00
1732  004B              	SECTION rodata_compiler
1733  004B              ___str_15:
1734  004B  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1735  005D  00          	DEFB 0x00
1736  005E              	SECTION rodata_compiler
1737  005E              ___str_16:
1738  005E  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1739  0070  00          	DEFB 0x00
1740  0071              	SECTION rodata_compiler
1741  0071              ___str_17:
1742  0071  47 41 4D 45 20 4F 56 45 52 
                        	DEFM "GAME OVER"
1743  007A  00          	DEFB 0x00
1744  007B              	SECTION code_compiler
1745  0531              ;	---------------------------------
1746  0531              ; Function game_score_osd
1747  0531              ; ---------------------------------
1748  0531              _game_score_osd:
1749  0531  3A 00 00    	ld	a,(_index_player)
1750  0534  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1751  0536  4F          	ld	c,a
1752  0537  3E 00       	ld	a,+((_score_osd_col) / 256)
1753  0539  CE 00       	adc	a,0x00
1754  053B  47          	ld	b,a
1755  053C  0A          	ld	a,(bc)
1756  053D  57          	ld	d,a
1757  053E  3C          	inc	a
1758  053F  20 72       	jr	NZ,l_game_score_osd_00117
1759  0541  3A 00 00    	ld	a,(_hit_count)
1760  0544  B7          	or	a, a
1761  0545  CA 75 06    	jp	Z,l_game_score_osd_00119
1762  0548  2A 00 00    	ld	hl,(_sprite)
1763  054B  26 00       	ld	h,0x00
1764  054D  11 00 00    	ld	de,_col
1765  0550  19          	add	hl,de
1766  0551  7E          	ld	a,(hl)
1767  0552  02          	ld	(bc),a
1768  0553  3A 00 00    	ld	a,(_index_player)
1769  0556  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1770  0558  4F          	ld	c,a
1771  0559  3E 00       	ld	a,+((_score_osd_lin) / 256)
1772  055B  CE 00       	adc	a,0x00
1773  055D  47          	ld	b,a
1774  055E  2A 00 00    	ld	hl,(_sprite)
1775  0561  26 00       	ld	h,0x00
1776  0563  11 00 00    	ld	de,_lin
1777  0566  19          	add	hl,de
1778  0567  7E          	ld	a,(hl)
1779  0568  02          	ld	(bc),a
1780  0569  01 00 00    	ld	bc,_score_osd_time+0
1781  056C  2A 00 00    	ld	hl,(_index_player)
1782  056F  26 00       	ld	h,0x00
1783  0571  29          	add	hl, hl
1784  0572  09          	add	hl,bc
1785  0573  ED 5B 00 00 	ld	de,(_curr_time)
1786  0577  73          	ld	(hl),e
1787  0578  23          	inc	hl
1788  0579  72          	ld	(hl),d
1789  057A  2A 00 00    	ld	hl,(_index_player)
1790  057D  26 00       	ld	h,0x00
1791  057F  29          	add	hl,hl
1792  0580  3A 00 00    	ld	a,(_hit_count)
1793  0583  3D          	dec	a
1794  0584  4D          	ld	c,l
1795  0585  44          	ld	b,h
1796  0586  20 0C       	jr	NZ,l_game_score_osd_00105
1797  0588  21 00 00    	ld	hl,_score_osd_tile
1798  058B  09          	add	hl,bc
1799  058C  36 BC       	ld	(hl),0xbc
1800  058E  23          	inc	hl
1801  058F  36 00       	ld	(hl),0x00
1802  0591  C3 75 06    	jp	l_game_score_osd_00119
1803  0594              l_game_score_osd_00105:
1804  0594  3A 00 00    	ld	a,(_hit_count)
1805  0597  D6 08       	sub	a,0x08
1806  0599  30 0C       	jr	NC,l_game_score_osd_00102
1807  059B  21 00 00    	ld	hl,_score_osd_tile
1808  059E  09          	add	hl,bc
1809  059F  36 BD       	ld	(hl),0xbd
1810  05A1  23          	inc	hl
1811  05A2  36 00       	ld	(hl),0x00
1812  05A4  C3 75 06    	jp	l_game_score_osd_00119
1813  05A7              l_game_score_osd_00102:
1814  05A7  21 00 00    	ld	hl,_score_osd_tile
1815  05AA  09          	add	hl,bc
1816  05AB  36 BE       	ld	(hl),0xbe
1817  05AD  23          	inc	hl
1818  05AE  36 00       	ld	(hl),0x00
1819  05B0  C3 75 06    	jp	l_game_score_osd_00119
1820  05B3              l_game_score_osd_00117:
1821  05B3  3A 00 00    	ld	a,(_index_player)
1822  05B6  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1823  05B8  4F          	ld	c,a
1824  05B9  3E 00       	ld	a,+((_score_osd_lin) / 256)
1825  05BB  CE 00       	adc	a,0x00
1826  05BD  47          	ld	b,a
1827  05BE  0A          	ld	a,(bc)
1828  05BF  C6 FE       	add	a,0xfe
1829  05C1  32 00 00    	ld	(_tmp),a
1830  05C4  5F          	ld	e,a
1831  05C5  D5          	push	de
1832  05C6  CD 00 00    	call	_game_calc_index
1833  05C9  F1          	pop	af
1834  05CA  22 00 00    	ld	(_index1),hl
1835  05CD  3E 08       	ld	a,0x08
1836  05CF  21 00 00    	ld	hl,_tmp
1837  05D2  96          	sub	a, (hl)
1838  05D3  30 5B       	jr	NC,l_game_score_osd_00110
1839  05D5  21 01 00    	ld	hl,_index1 + 1
1840  05D8  7E          	ld	a,(hl)
1841  05D9  2B          	dec	hl
1842  05DA  B6          	or	a,(hl)
1843  05DB  28 53       	jr	Z,l_game_score_osd_00110
1844  05DD  01 00 00    	ld	bc,_lvl_1+0
1845  05E0  79          	ld	a,c
1846  05E1  86          	add	a, (hl)
1847  05E2  5F          	ld	e,a
1848  05E3  78          	ld	a,b
1849  05E4  23          	inc	hl
1850  05E5  8E          	adc	a, (hl)
1851  05E6  57          	ld	d,a
1852  05E7  1A          	ld	a,(de)
1853  05E8  B7          	or	a, a
1854  05E9  20 45       	jr	NZ,l_game_score_osd_00110
1855  05EB  56          	ld	d,(hl)
1856  05EC  2B          	dec	hl
1857  05ED  5E          	ld	e,(hl)
1858  05EE  13          	inc	de
1859  05EF  69          	ld	l, c
1860  05F0  60          	ld	h, b
1861  05F1  19          	add	hl,de
1862  05F2  7E          	ld	a,(hl)
1863  05F3  B7          	or	a, a
1864  05F4  20 3A       	jr	NZ,l_game_score_osd_00110
1865  05F6  76          	halt
1866  05F7  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1867  05F9  21 00 00    	ld	hl,_index_player
1868  05FC  86          	add	a, (hl)
1869  05FD  4F          	ld	c,a
1870  05FE  3E 00       	ld	a,+((_score_osd_col) / 256)
1871  0600  CE 00       	adc	a,0x00
1872  0602  47          	ld	b,a
1873  0603  0A          	ld	a,(bc)
1874  0604  57          	ld	d,a
1875  0605  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1876  0607  86          	add	a, (hl)
1877  0608  4F          	ld	c,a
1878  0609  3E 00       	ld	a,+((_score_osd_lin) / 256)
1879  060B  CE 00       	adc	a,0x00
1880  060D  47          	ld	b,a
1881  060E  0A          	ld	a,(bc)
1882  060F  5F          	ld	e,a
1883  0610  6E          	ld	l, (hl)
1884  0611  26 00       	ld	h,0x00
1885  0613  29          	add	hl, hl
1886  0614  01 00 00    	ld	bc,_score_osd_tile
1887  0617  09          	add	hl,bc
1888  0618  46          	ld	b,(hl)
1889  0619  23          	inc	hl
1890  061A  4E          	ld	c,(hl)
1891  061B  D5          	push	de
1892  061C  C5          	push	bc
1893  061D  33          	inc	sp
1894  061E  CD 00 00    	call	_NIRVANAP_drawT_callee
1895  0621  3A 00 00    	ld	a,(_index_player)
1896  0624  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1897  0626  4F          	ld	c,a
1898  0627  3E 00       	ld	a,+((_score_osd_lin) / 256)
1899  0629  CE 00       	adc	a,0x00
1900  062B  47          	ld	b,a
1901  062C  3A 00 00    	ld	a,(_tmp)
1902  062F  02          	ld	(bc),a
1903  0630              l_game_score_osd_00110:
1904  0630  01 00 00    	ld	bc,_score_osd_time+0
1905  0633  2A 00 00    	ld	hl,(_index_player)
1906  0636  26 00       	ld	h,0x00
1907  0638  29          	add	hl, hl
1908  0639  09          	add	hl,bc
1909  063A  4E          	ld	c,(hl)
1910  063B  23          	inc	hl
1911  063C  46          	ld	b,(hl)
1912  063D  21 32 00    	ld	hl,0x0032
1913  0640  E5          	push	hl
1914  0641  C5          	push	bc
1915  0642  CD DB 19    	call	_game_check_time
1916  0645  F1          	pop	af
1917  0646  F1          	pop	af
1918  0647  7D          	ld	a,l
1919  0648  B7          	or	a, a
1920  0649  C8          	ret	Z
1921  064A  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1922  064C  21 00 00    	ld	hl,_index_player
1923  064F  86          	add	a, (hl)
1924  0650  4F          	ld	c,a
1925  0651  3E 00       	ld	a,+((_score_osd_col) / 256)
1926  0653  CE 00       	adc	a,0x00
1927  0655  47          	ld	b,a
1928  0656  0A          	ld	a,(bc)
1929  0657  57          	ld	d,a
1930  0658  4E          	ld	c,(hl)
1931  0659  06 00       	ld	b,0x00
1932  065B  21 00 00    	ld	hl,_score_osd_lin
1933  065E  09          	add	hl,bc
1934  065F  5E          	ld	e, (hl)
1935  0660  D5          	push	de
1936  0661  AF          	xor	a, a
1937  0662  F5          	push	af
1938  0663  33          	inc	sp
1939  0664  CD 00 00    	call	_NIRVANAP_fillT_callee
1940  0667  3A 00 00    	ld	a,(_index_player)
1941  066A  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1942  066C  4F          	ld	c,a
1943  066D  3E 00       	ld	a,+((_score_osd_col) / 256)
1944  066F  CE 00       	adc	a,0x00
1945  0671  47          	ld	b,a
1946  0672  3E FF       	ld	a,0xff
1947  0674  02          	ld	(bc),a
1948  0675              l_game_score_osd_00119:
1949  0675  C9          	ret
1950  0676              	SECTION code_compiler
1951  0676              ;	---------------------------------
1952  0676              ; Function game_bonus_clock
1953  0676              ; ---------------------------------
1954  0676              _game_bonus_clock:
1955  0676  2A 00 00    	ld	hl,(_curr_time)
1956  0679  29          	add	hl,hl
1957  067A  3E D0       	ld	a,0xd0
1958  067C  95          	sub	a,l
1959  067D  44          	ld	b,h
1960  067E  21 00 00    	ld	hl,_tmp_ui
1961  0681  77          	ld	(hl),a
1962  0682  3E 07       	ld	a,0x07
1963  0684  98          	sbc	a, b
1964  0685  23          	inc	hl
1965  0686  77          	ld	(hl),a
1966  0687  3E D0       	ld	a,0xd0
1967  0689  2B          	dec	hl
1968  068A  BE          	cp	a, (hl)
1969  068B  3E 07       	ld	a,0x07
1970  068D  23          	inc	hl
1971  068E  9E          	sbc	a, (hl)
1972  068F  30 14       	jr	NC,l_game_bonus_clock_00106
1973  0691  2B          	dec	hl
1974  0692  AF          	xor	a, a
1975  0693  77          	ld	(hl), a
1976  0694  23          	inc	hl
1977  0695  77          	ld	(hl), a
1978  0696  21 00 00    	ld	hl,_phase_left
1979  0699  36 00       	ld	(hl),0x00
1980  069B  21 00 00    	ld	hl,_phase_end
1981  069E  36 01       	ld	(hl),0x01
1982  06A0  CD 00 00    	call	_ay_reset
1983  06A3  18 36       	jr	l_game_bonus_clock_00108
1984  06A5              l_game_bonus_clock_00106:
1985  06A5  3A 00 00    	ld	a,(_phase_left)
1986  06A8  B7          	or	a, a
1987  06A9  C8          	ret	Z
1988  06AA  2A 00 00    	ld	hl,(_tmp_ui)
1989  06AD  E5          	push	hl
1990  06AE  21 02 0E    	ld	hl,0x0e02
1991  06B1  E5          	push	hl
1992  06B2  CD 00 00    	call	_zx_print_bonus_time
1993  06B5  21 05 00    	ld	hl,0x0005
1994  06B8  E5          	push	hl
1995  06B9  2A 00 00    	ld	hl,(_frame_time)
1996  06BC  E5          	push	hl
1997  06BD  CD DB 19    	call	_game_check_time
1998  06C0  F1          	pop	af
1999  06C1  F1          	pop	af
2000  06C2  7D          	ld	a,l
2001  06C3  B7          	or	a, a
2002  06C4  C8          	ret	Z
2003  06C5  2A 00 00    	ld	hl,(_curr_time)
2004  06C8  22 00 00    	ld	(_frame_time),hl
2005  06CB  21 14 18    	ld	hl,0x1814
2006  06CE  E5          	push	hl
2007  06CF  3E 0E       	ld	a,0x0e
2008  06D1  F5          	push	af
2009  06D2  33          	inc	sp
2010  06D3  CD D0 0C    	call	_game_paint_attrib_lin_h
2011  06D6  F1          	pop	af
2012  06D7  33          	inc	sp
2013  06D8  CD 2D 19    	call	_game_rotate_attrib
2014  06DB              l_game_bonus_clock_00108:
2015  06DB  C9          	ret
2016  06DC              	SECTION code_compiler
2017  06DC              ;	---------------------------------
2018  06DC              ; Function game_bonus_summary
2019  06DC              ; ---------------------------------
2020  06DC              _game_bonus_summary:
2021  06DC  CD 95 08    	call	_game_kill_all_sprites
2022  06DF  CD 00 00    	call	_spr_draw_clear
2023  06E2  21 00 00    	ld	hl,0x0000
2024  06E5  CD 00 00    	call	_zx_cls_fastcall
2025  06E8  CD B1 00    	call	_game_phase_print_score_back
2026  06EB  CD 54 0C    	call	_game_print_score
2027  06EE  3A 00 00    	ld	a,(_game_lives)
2028  06F1  B7          	or	a, a
2029  06F2  28 05       	jr	Z,l_game_bonus_summary_00102
2030  06F4  2E 00       	ld	l,0x00
2031  06F6  CD 91 07    	call	_game_bonus_summary_player
2032  06F9              l_game_bonus_summary_00102:
2033  06F9  3A 01 00    	ld	a, (_game_lives + 1)
2034  06FC  B7          	or	a, a
2035  06FD  28 05       	jr	Z,l_game_bonus_summary_00104
2036  06FF  2E 01       	ld	l,0x01
2037  0701  CD 91 07    	call	_game_bonus_summary_player
2038  0704              l_game_bonus_summary_00104:
2039  0704  21 1F 98    	ld	hl,0x981f
2040  0707  E5          	push	hl
2041  0708  AF          	xor	a, a
2042  0709  F5          	push	af
2043  070A  33          	inc	sp
2044  070B  CD A9 0C    	call	_game_paint_attrib_lin
2045  070E  F1          	pop	af
2046  070F  33          	inc	sp
2047  0710  3A 00 00    	ld	a,(_phase_bonus_total)
2048  0713  D6 06       	sub	a,0x06
2049  0715  20 68       	jr	NZ,l_game_bonus_summary_00109
2050  0717  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2051  071A  B7          	or	a, a
2052  071B  20 62       	jr	NZ,l_game_bonus_summary_00109
2053  071D  CD 00 00    	call	_sound_jump
2054  0720  3A 00 00    	ld	a,(_phase_curr)
2055  0723  D6 03       	sub	a,0x03
2056  0725  20 23       	jr	NZ,l_game_bonus_summary_00106
2057  0727  21 7B 00    	ld	hl,___str_18
2058  072A  E5          	push	hl
2059  072B  21 12 06    	ld	hl,0x0612
2060  072E  E5          	push	hl
2061  072F  CD 00 00    	call	_zx_print_str
2062  0732  21 00 00    	ld	hl,_index_player
2063  0735  36 00       	ld	(hl),0x00
2064  0737  21 2C 01    	ld	hl,0x012c
2065  073A  CD 00 00    	call	_player_score_add
2066  073D  21 00 00    	ld	hl,_index_player
2067  0740  36 01       	ld	(hl),0x01
2068  0742  21 2C 01    	ld	hl,0x012c
2069  0745  CD 00 00    	call	_player_score_add
2070  0748  18 21       	jr	l_game_bonus_summary_00107
2071  074A              l_game_bonus_summary_00106:
2072  074A  21 8E 00    	ld	hl,___str_19
2073  074D  E5          	push	hl
2074  074E  21 12 06    	ld	hl,0x0612
2075  0751  E5          	push	hl
2076  0752  CD 00 00    	call	_zx_print_str
2077  0755  21 00 00    	ld	hl,_index_player
2078  0758  36 00       	ld	(hl),0x00
2079  075A  21 F4 01    	ld	hl,0x01f4
2080  075D  CD 00 00    	call	_player_score_add
2081  0760  21 00 00    	ld	hl,_index_player
2082  0763  36 01       	ld	(hl),0x01
2083  0765  21 F4 01    	ld	hl,0x01f4
2084  0768  CD 00 00    	call	_player_score_add
2085  076B              l_game_bonus_summary_00107:
2086  076B  21 C8 00    	ld	hl,0x00c8
2087  076E  E5          	push	hl
2088  076F  21 10 1A    	ld	hl,0x1a10
2089  0772  E5          	push	hl
2090  0773  3E 12       	ld	a,0x12
2091  0775  F5          	push	af
2092  0776  33          	inc	sp
2093  0777  CD 49 19    	call	_game_colour_message
2094  077A  F1          	pop	af
2095  077B  F1          	pop	af
2096  077C  33          	inc	sp
2097  077D  18 11       	jr	l_game_bonus_summary_00112
2098  077F              l_game_bonus_summary_00109:
2099  077F  21 A1 00    	ld	hl,___str_20
2100  0782  E5          	push	hl
2101  0783  21 12 0C    	ld	hl,0x0c12
2102  0786  E5          	push	hl
2103  0787  CD 00 00    	call	_zx_print_str
2104  078A  21 E8 03    	ld	hl,0x03e8
2105  078D  CD 00 00    	call	_z80_delay_ms_fastcall
2106  0790              l_game_bonus_summary_00112:
2107  0790  C9          	ret
2108  0791              	SECTION rodata_compiler
2109  007B              ___str_18:
2110  007B  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2111  008D  00          	DEFB 0x00
2112  008E              	SECTION rodata_compiler
2113  008E              ___str_19:
2114  008E  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2115  00A0  00          	DEFB 0x00
2116  00A1              	SECTION rodata_compiler
2117  00A1              ___str_20:
2118  00A1  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2119  00A9  00          	DEFB 0x00
2120  00AA              	SECTION code_compiler
2121  0791              ;	---------------------------------
2122  0791              ; Function game_bonus_summary_player
2123  0791              ; ---------------------------------
2124  0791              _game_bonus_summary_player:
2125  0791  CD 00 00    	call	___sdcc_enter_ix
2126  0794  F5          	push	af
2127  0795  3B          	dec	sp
2128  0796  DD 75 FF    	ld	(ix-1),l
2129  0799  76          	halt
2130  079A  DD 7E FF    	ld	a,(ix-1)
2131  079D  B7          	or	a, a
2132  079E  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2133  07A0  21 00 00    	ld	hl,_s_lin1
2134  07A3  36 06       	ld	(hl),0x06
2135  07A5  21 AA 00    	ld	hl,___str_21
2136  07A8  E5          	push	hl
2137  07A9  21 06 07    	ld	hl,0x0706
2138  07AC  E5          	push	hl
2139  07AD  CD 00 00    	call	_zx_print_str
2140  07B0  3A 00 00    	ld	a,(_s_lin1)
2141  07B3  07          	rlca
2142  07B4  07          	rlca
2143  07B5  07          	rlca
2144  07B6  E6 F8       	and	a,0xf8
2145  07B8  47          	ld	b,a
2146  07B9  04          	inc	b
2147  07BA  04          	inc	b
2148  07BB  04          	inc	b
2149  07BC  04          	inc	b
2150  07BD  3E 04       	ld	a,0x04
2151  07BF  48          	ld	c,b
2152  07C0  47          	ld	b,a
2153  07C1  C5          	push	bc
2154  07C2  3E 03       	ld	a,0x03
2155  07C4  F5          	push	af
2156  07C5  33          	inc	sp
2157  07C6  CD 00 00    	call	_NIRVANAP_drawT_callee
2158  07C9  21 00 00    	ld	hl,_index_player
2159  07CC  36 00       	ld	(hl),0x00
2160  07CE  18 2E       	jr	l_game_bonus_summary_player_00103
2161  07D0              l_game_bonus_summary_player_00102:
2162  07D0  21 00 00    	ld	hl,_s_lin1
2163  07D3  36 0C       	ld	(hl),0x0c
2164  07D5  21 B1 00    	ld	hl,___str_22
2165  07D8  E5          	push	hl
2166  07D9  21 0C 07    	ld	hl,0x070c
2167  07DC  E5          	push	hl
2168  07DD  CD 00 00    	call	_zx_print_str
2169  07E0  3A 00 00    	ld	a,(_s_lin1)
2170  07E3  07          	rlca
2171  07E4  07          	rlca
2172  07E5  07          	rlca
2173  07E6  E6 F8       	and	a,0xf8
2174  07E8  47          	ld	b,a
2175  07E9  04          	inc	b
2176  07EA  04          	inc	b
2177  07EB  04          	inc	b
2178  07EC  04          	inc	b
2179  07ED  3E 04       	ld	a,0x04
2180  07EF  48          	ld	c,b
2181  07F0  47          	ld	b,a
2182  07F1  C5          	push	bc
2183  07F2  3E 1B       	ld	a,0x1b
2184  07F4  F5          	push	af
2185  07F5  33          	inc	sp
2186  07F6  CD 00 00    	call	_NIRVANAP_drawT_callee
2187  07F9  21 00 00    	ld	hl,_index_player
2188  07FC  36 01       	ld	(hl),0x01
2189  07FE              l_game_bonus_summary_player_00103:
2190  07FE  3A 00 00    	ld	a,(_s_lin1)
2191  0801  07          	rlca
2192  0802  07          	rlca
2193  0803  07          	rlca
2194  0804  E6 F8       	and	a,0xf8
2195  0806  C6 08       	add	a,0x08
2196  0808  F5          	push	af
2197  0809  33          	inc	sp
2198  080A  21 07 1F    	ld	hl,0x1f07
2199  080D  E5          	push	hl
2200  080E  CD A9 0C    	call	_game_paint_attrib_lin
2201  0811  F1          	pop	af
2202  0812  33          	inc	sp
2203  0813  21 00 00    	ld	hl,_tmp_uc
2204  0816  36 00       	ld	(hl),0x00
2205  0818  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2206  081A  DD 86 FF    	add	a,(ix-1)
2207  081D  DD 77 FD    	ld	(ix-3),a
2208  0820  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2209  0822  CE 00       	adc	a,0x00
2210  0824  DD 77 FE    	ld	(ix-2),a
2211  0827              l_game_bonus_summary_player_00107:
2212  0827  E1          	pop	hl
2213  0828  4E          	ld	c,(hl)
2214  0829  3A 00 00    	ld	a,(_tmp_uc)
2215  082C  E5          	push	hl
2216  082D  91          	sub	a, c
2217  082E  30 53       	jr	NC,l_game_bonus_summary_player_00109
2218  0830  3A 00 00    	ld	a,(_s_lin1)
2219  0833  07          	rlca
2220  0834  07          	rlca
2221  0835  07          	rlca
2222  0836  E6 F8       	and	a,0xf8
2223  0838  4F          	ld	c,a
2224  0839  3A 00 00    	ld	a,(_tmp_uc)
2225  083C  D6 03       	sub	a,0x03
2226  083E  30 08       	jr	NC,l_game_bonus_summary_player_00105
2227  0840  79          	ld	a,c
2228  0841  C6 F8       	add	a,0xf8
2229  0843  32 00 00    	ld	(_s_lin0),a
2230  0846  18 06       	jr	l_game_bonus_summary_player_00106
2231  0848              l_game_bonus_summary_player_00105:
2232  0848  79          	ld	a,c
2233  0849  C6 08       	add	a,0x08
2234  084B  32 00 00    	ld	(_s_lin0),a
2235  084E              l_game_bonus_summary_player_00106:
2236  084E  76          	halt
2237  084F  2A 00 00    	ld	hl,(_tmp_uc)
2238  0852  26 03       	ld	h,0x03
2239  0854  E5          	push	hl
2240  0855  CD 00 00    	call	__moduchar_callee
2241  0858  7D          	ld	a,l
2242  0859  87          	add	a, a
2243  085A  C6 0E       	add	a,0x0e
2244  085C  F5          	push	af
2245  085D  33          	inc	sp
2246  085E  3A 00 00    	ld	a,(_s_lin0)
2247  0861  57          	ld	d,a
2248  0862  1E B9       	ld	e,0xb9
2249  0864  D5          	push	de
2250  0865  CD 00 00    	call	_NIRVANAP_drawT_callee
2251  0868  21 50 00    	ld	hl,0x0050
2252  086B  CD 00 00    	call	_player_score_add
2253  086E  21 00 00    	ld	hl,_tmp_uc
2254  0871  34          	inc	(hl)
2255  0872  21 00 00    	ld	hl,_ay_effect_09
2256  0875  CD 00 00    	call	_ay_fx_play
2257  0878  CD 00 00    	call	_sound_coin
2258  087B  21 32 00    	ld	hl,0x0032
2259  087E  CD 00 00    	call	_z80_delay_ms_fastcall
2260  0881  18 A4       	jr	l_game_bonus_summary_player_00107
2261  0883              l_game_bonus_summary_player_00109:
2262  0883  21 B7 00    	ld	hl,___str_23
2263  0886  E5          	push	hl
2264  0887  2A 00 00    	ld	hl,(_s_lin1)
2265  088A  26 16       	ld	h,0x16
2266  088C  E5          	push	hl
2267  088D  CD 00 00    	call	_zx_print_str
2268  0890  DD F9       	ld	sp, ix
2269  0892  DD E1       	pop	ix
2270  0894  C9          	ret
2271  0895              	SECTION rodata_compiler
2272  00AA              ___str_21:
2273  00AA  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2274  00B0  00          	DEFB 0x00
2275  00B1              	SECTION rodata_compiler
2276  00B1              ___str_22:
2277  00B1  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2278  00B6  00          	DEFB 0x00
2279  00B7              	SECTION rodata_compiler
2280  00B7              ___str_23:
2281  00B7  58 20 38 30 30 
                        	DEFM "X 800"
2282  00BC  00          	DEFB 0x00
2283  00BD              	SECTION code_compiler
2284  0895              ;	---------------------------------
2285  0895              ; Function game_kill_all_sprites
2286  0895              ; ---------------------------------
2287  0895              _game_kill_all_sprites:
2288  0895  21 00 00    	ld	hl,_sprite
2289  0898  36 00       	ld	(hl),0x00
2290  089A              l_game_kill_all_sprites_00102:
2291  089A  2A 00 00    	ld	hl,(_sprite)
2292  089D  CD 00 00    	call	_spr_destroy
2293  08A0  21 00 00    	ld	hl,_sprite
2294  08A3  7E          	ld	a,(hl)
2295  08A4  3C          	inc	a
2296  08A5  77          	ld	(hl),a
2297  08A6  D6 08       	sub	a,0x08
2298  08A8  38 F0       	jr	C,l_game_kill_all_sprites_00102
2299  08AA  C9          	ret
2300  08AB              	SECTION code_compiler
2301  08AB              ;	---------------------------------
2302  08AB              ; Function game_check_maze
2303  08AB              ; ---------------------------------
2304  08AB              _game_check_maze:
2305  08AB  4D          	ld	c,l
2306  08AC  44          	ld	b,h
2307  08AD  21 00 00    	ld	hl,_lvl_1
2308  08B0  09          	add	hl,bc
2309  08B1  7E          	ld	a, (hl)
2310  08B2  D6 10       	sub	a,0x10
2311  08B4  30 0A       	jr	NC,l_game_check_maze_00103
2312  08B6  03          	inc	bc
2313  08B7  21 00 00    	ld	hl,_lvl_1
2314  08BA  09          	add	hl,bc
2315  08BB  7E          	ld	a, (hl)
2316  08BC  D6 10       	sub	a,0x10
2317  08BE  38 04       	jr	C,l_game_check_maze_00104
2318  08C0              l_game_check_maze_00103:
2319  08C0  2E 00       	ld	l,0x00
2320  08C2  18 02       	jr	l_game_check_maze_00105
2321  08C4              l_game_check_maze_00104:
2322  08C4  2E 01       	ld	l,0x01
2323  08C6              l_game_check_maze_00105:
2324  08C6  C9          	ret
2325  08C7              	SECTION code_compiler
2326  08C7              ;	---------------------------------
2327  08C7              ; Function game_enemy_add
2328  08C7              ; ---------------------------------
2329  08C7              _game_enemy_add:
2330  08C7  3A 00 00    	ld	a,(_game_type)
2331  08CA  D6 02       	sub	a,0x02
2332  08CC  20 05       	jr	NZ,l_game_enemy_add_00106
2333  08CE  CD F7 09    	call	_game_enemy_rnd
2334  08D1  18 21       	jr	l_game_enemy_add_00107
2335  08D3              l_game_enemy_add_00106:
2336  08D3  3A 00 00    	ld	a,(_spr_count)
2337  08D6  D6 06       	sub	a,0x06
2338  08D8  30 1A       	jr	NC,l_game_enemy_add_00107
2339  08DA  21 64 00    	ld	hl,0x0064
2340  08DD  E5          	push	hl
2341  08DE  2A 00 00    	ld	hl,(_entry_time)
2342  08E1  E5          	push	hl
2343  08E2  CD DB 19    	call	_game_check_time
2344  08E5  F1          	pop	af
2345  08E6  F1          	pop	af
2346  08E7  7D          	ld	a,l
2347  08E8  B7          	or	a, a
2348  08E9  28 09       	jr	Z,l_game_enemy_add_00107
2349  08EB  3A 00 00    	ld	a,(_phase_left)
2350  08EE  B7          	or	a, a
2351  08EF  28 03       	jr	Z,l_game_enemy_add_00107
2352  08F1  CD F7 08    	call	_game_enemy_quota
2353  08F4              l_game_enemy_add_00107:
2354  08F4  2E 00       	ld	l,0x00
2355  08F6  C9          	ret
2356  08F7              	SECTION code_compiler
2357  08F7              ;	---------------------------------
2358  08F7              ; Function game_enemy_quota
2359  08F7              ; ---------------------------------
2360  08F7              _game_enemy_quota:
2361  08F7  CD 00 00    	call	_rand
2362  08FA  7D          	ld	a, l
2363  08FB  E6 01       	and	a,0x01
2364  08FD  32 00 00    	ld	(_tmp),a
2365  0900  3A 00 00    	ld	a,(_phase_pop)
2366  0903  B7          	or	a, a
2367  0904  28 06       	jr	Z,l_game_enemy_quota_00101
2368  0906  3A 00 00    	ld	a,(_phase_left)
2369  0909  3D          	dec	a
2370  090A  20 05       	jr	NZ,l_game_enemy_quota_00102
2371  090C              l_game_enemy_quota_00101:
2372  090C  21 00 00    	ld	hl,_tmp
2373  090F  36 00       	ld	(hl),0x00
2374  0911              l_game_enemy_quota_00102:
2375  0911  3A 00 00    	ld	a,(_phase_left)
2376  0914  B7          	or	a, a
2377  0915  28 4C       	jr	Z,l_game_enemy_quota_00111
2378  0917  3A 00 00    	ld	a,(_tmp)
2379  091A  B7          	or	a, a
2380  091B  20 46       	jr	NZ,l_game_enemy_quota_00111
2381  091D  01 00 00    	ld	bc,_phase_quota+0
2382  0920  59          	ld	e, c
2383  0921  50          	ld	d, b
2384  0922  13          	inc	de
2385  0923  13          	inc	de
2386  0924  1A          	ld	a,(de)
2387  0925  B7          	or	a, a
2388  0926  28 10       	jr	Z,l_game_enemy_quota_00105
2389  0928  D5          	push	de
2390  0929  2E 09       	ld	l,0x09
2391  092B  CD 27 0A    	call	_game_enemy_add1
2392  092E  D1          	pop	de
2393  092F  1A          	ld	a,(de)
2394  0930  C6 FF       	add	a,0xff
2395  0932  12          	ld	(de),a
2396  0933  2E 00       	ld	l,0x00
2397  0935  C3 F6 09    	jp	l_game_enemy_quota_00128
2398  0938              l_game_enemy_quota_00105:
2399  0938  59          	ld	e, c
2400  0939  50          	ld	d, b
2401  093A  13          	inc	de
2402  093B  1A          	ld	a,(de)
2403  093C  B7          	or	a, a
2404  093D  28 10       	jr	Z,l_game_enemy_quota_00107
2405  093F  D5          	push	de
2406  0940  2E 04       	ld	l,0x04
2407  0942  CD 27 0A    	call	_game_enemy_add1
2408  0945  D1          	pop	de
2409  0946  1A          	ld	a,(de)
2410  0947  C6 FF       	add	a,0xff
2411  0949  12          	ld	(de),a
2412  094A  2E 00       	ld	l,0x00
2413  094C  C3 F6 09    	jp	l_game_enemy_quota_00128
2414  094F              l_game_enemy_quota_00107:
2415  094F  0A          	ld	a,(bc)
2416  0950  B7          	or	a, a
2417  0951  28 10       	jr	Z,l_game_enemy_quota_00111
2418  0953  C5          	push	bc
2419  0954  2E 01       	ld	l,0x01
2420  0956  CD 27 0A    	call	_game_enemy_add1
2421  0959  C1          	pop	bc
2422  095A  0A          	ld	a,(bc)
2423  095B  C6 FF       	add	a,0xff
2424  095D  02          	ld	(bc),a
2425  095E  2E 00       	ld	l,0x00
2426  0960  C3 F6 09    	jp	l_game_enemy_quota_00128
2427  0963              l_game_enemy_quota_00111:
2428  0963  3A 00 00    	ld	a,(_phase_coins)
2429  0966  B7          	or	a, a
2430  0967  28 0A       	jr	Z,l_game_enemy_quota_00114
2431  0969  2E 08       	ld	l,0x08
2432  096B  CD 27 0A    	call	_game_enemy_add1
2433  096E  2E 00       	ld	l,0x00
2434  0970  C3 F6 09    	jp	l_game_enemy_quota_00128
2435  0973              l_game_enemy_quota_00114:
2436  0973  CD 00 00    	call	_rand
2437  0976  7D          	ld	a,l
2438  0977  E6 03       	and	a,0x03
2439  0979  44          	ld	b,h
2440  097A  0E 00       	ld	c,0x00
2441  097C  CB 79       	bit	7,c
2442  097E  20 74       	jr	NZ,l_game_enemy_quota_00127
2443  0980  5F          	ld	e,a
2444  0981  3E 03       	ld	a,0x03
2445  0983  BB          	cp	a, e
2446  0984  3E 00       	ld	a,0x00
2447  0986  99          	sbc	a, c
2448  0987  E2 8C 09    	jp	PO, l_game_enemy_quota_00184
2449  098A  EE 80       	xor	a,0x80
2450  098C              l_game_enemy_quota_00184:
2451  098C  FA F4 09    	jp	M,l_game_enemy_quota_00127
2452  098F  16 00       	ld	d,0x00
2453  0991  21 97 09    	ld	hl,l_game_enemy_quota_00185
2454  0994  19          	add	hl,de
2455  0995  19          	add	hl,de
2456  0996  E9          	jp	(hl)
2457  0997              l_game_enemy_quota_00185:
2458  0997  18 06       	jr	l_game_enemy_quota_00115
2459  0999  18 13       	jr	l_game_enemy_quota_00118
2460  099B  18 29       	jr	l_game_enemy_quota_00121
2461  099D  18 3F       	jr	l_game_enemy_quota_00124
2462  099F              l_game_enemy_quota_00115:
2463  099F  3E 07       	ld	a,0x07
2464  09A1  21 00 00    	ld	hl,_phase_curr
2465  09A4  96          	sub	a, (hl)
2466  09A5  30 4D       	jr	NC,l_game_enemy_quota_00127
2467  09A7  2E 07       	ld	l,0x07
2468  09A9  CD 27 0A    	call	_game_enemy_add1
2469  09AC  18 46       	jr	l_game_enemy_quota_00127
2470  09AE              l_game_enemy_quota_00118:
2471  09AE  2A 00 00    	ld	hl,(_game_time_fireball_start)
2472  09B1  E5          	push	hl
2473  09B2  21 00 00    	ld	hl,0x0000
2474  09B5  E5          	push	hl
2475  09B6  CD DB 19    	call	_game_check_time
2476  09B9  F1          	pop	af
2477  09BA  F1          	pop	af
2478  09BB  7D          	ld	a,l
2479  09BC  B7          	or	a, a
2480  09BD  28 35       	jr	Z,l_game_enemy_quota_00127
2481  09BF  2E 0B       	ld	l,0x0b
2482  09C1  CD 27 0A    	call	_game_enemy_add1
2483  09C4  18 2E       	jr	l_game_enemy_quota_00127
2484  09C6              l_game_enemy_quota_00121:
2485  09C6  2A 00 00    	ld	hl,(_game_time_fireball_start)
2486  09C9  E5          	push	hl
2487  09CA  21 00 00    	ld	hl,0x0000
2488  09CD  E5          	push	hl
2489  09CE  CD DB 19    	call	_game_check_time
2490  09D1  F1          	pop	af
2491  09D2  F1          	pop	af
2492  09D3  7D          	ld	a,l
2493  09D4  B7          	or	a, a
2494  09D5  28 1D       	jr	Z,l_game_enemy_quota_00127
2495  09D7  2E 0B       	ld	l,0x0b
2496  09D9  CD 27 0A    	call	_game_enemy_add1
2497  09DC  18 16       	jr	l_game_enemy_quota_00127
2498  09DE              l_game_enemy_quota_00124:
2499  09DE  2A 00 00    	ld	hl,(_game_time_fireball_start)
2500  09E1  E5          	push	hl
2501  09E2  21 00 00    	ld	hl,0x0000
2502  09E5  E5          	push	hl
2503  09E6  CD DB 19    	call	_game_check_time
2504  09E9  F1          	pop	af
2505  09EA  F1          	pop	af
2506  09EB  7D          	ld	a,l
2507  09EC  B7          	or	a, a
2508  09ED  28 05       	jr	Z,l_game_enemy_quota_00127
2509  09EF  2E 0A       	ld	l,0x0a
2510  09F1  CD 27 0A    	call	_game_enemy_add1
2511  09F4              l_game_enemy_quota_00127:
2512  09F4  2E 00       	ld	l,0x00
2513  09F6              l_game_enemy_quota_00128:
2514  09F6  C9          	ret
2515  09F7              	SECTION code_compiler
2516  09F7              ;	---------------------------------
2517  09F7              ; Function game_enemy_rnd
2518  09F7              ; ---------------------------------
2519  09F7              _game_enemy_rnd:
2520  09F7  3A 00 00    	ld	a,(_spr_count)
2521  09FA  D6 06       	sub	a,0x06
2522  09FC  30 26       	jr	NC,l_game_enemy_rnd_00102
2523  09FE  21 64 00    	ld	hl,0x0064
2524  0A01  E5          	push	hl
2525  0A02  2A 00 00    	ld	hl,(_entry_time)
2526  0A05  E5          	push	hl
2527  0A06  CD DB 19    	call	_game_check_time
2528  0A09  F1          	pop	af
2529  0A0A  F1          	pop	af
2530  0A0B  7D          	ld	a,l
2531  0A0C  B7          	or	a, a
2532  0A0D  28 15       	jr	Z,l_game_enemy_rnd_00102
2533  0A0F  2A 00 00    	ld	hl,(_curr_time)
2534  0A12  22 00 00    	ld	(_entry_time),hl
2535  0A15  CD 00 00    	call	_rand
2536  0A18  01 0B 00    	ld	bc,0x000b
2537  0A1B  C5          	push	bc
2538  0A1C  E5          	push	hl
2539  0A1D  CD 00 00    	call	__modsint_callee
2540  0A20  2C          	inc	l
2541  0A21  CD 27 0A    	call	_game_enemy_add1
2542  0A24              l_game_enemy_rnd_00102:
2543  0A24  2E 00       	ld	l,0x00
2544  0A26  C9          	ret
2545  0A27              	SECTION code_compiler
2546  0A27              ;	---------------------------------
2547  0A27              ; Function game_enemy_add1
2548  0A27              ; ---------------------------------
2549  0A27              _game_enemy_add1:
2550  0A27  CD 00 00    	call	___sdcc_enter_ix
2551  0A2A  F5          	push	af
2552  0A2B  45          	ld	b,l
2553  0A2C  78          	ld	a,b
2554  0A2D  FE 03       	cp	a,0x03
2555  0A2F  28 47       	jr	Z,l_game_enemy_add1_00101
2556  0A31  FE 06       	cp	a,0x06
2557  0A33  28 43       	jr	Z,l_game_enemy_add1_00101
2558  0A35  D6 0A       	sub	a,0x0a
2559  0A37  20 04       	jr	NZ,l_game_enemy_add1_00197
2560  0A39  3E 01       	ld	a,0x01
2561  0A3B  18 01       	jr	l_game_enemy_add1_00198
2562  0A3D              l_game_enemy_add1_00197:
2563  0A3D  AF          	xor	a,a
2564  0A3E              l_game_enemy_add1_00198:
2565  0A3E  4F          	ld	c,a
2566  0A3F  B7          	or	a, a
2567  0A40  28 0B       	jr	Z,l_game_enemy_add1_00107
2568  0A42  C5          	push	bc
2569  0A43  2E 0A       	ld	l,0x0a
2570  0A45  CD 71 0B    	call	_game_enemy_add_get_index
2571  0A48  C1          	pop	bc
2572  0A49  5D          	ld	e,l
2573  0A4A  1C          	inc	e
2574  0A4B  20 2B       	jr	NZ,l_game_enemy_add1_00101
2575  0A4D              l_game_enemy_add1_00107:
2576  0A4D  78          	ld	a,b
2577  0A4E  D6 0B       	sub	a,0x0b
2578  0A50  20 04       	jr	NZ,l_game_enemy_add1_00201
2579  0A52  3E 01       	ld	a,0x01
2580  0A54  18 01       	jr	l_game_enemy_add1_00202
2581  0A56              l_game_enemy_add1_00201:
2582  0A56  AF          	xor	a,a
2583  0A57              l_game_enemy_add1_00202:
2584  0A57  DD 77 FE    	ld	(ix-2),a
2585  0A5A  B7          	or	a, a
2586  0A5B  28 0B       	jr	Z,l_game_enemy_add1_00109
2587  0A5D  C5          	push	bc
2588  0A5E  2E 0B       	ld	l,0x0b
2589  0A60  CD 71 0B    	call	_game_enemy_add_get_index
2590  0A63  C1          	pop	bc
2591  0A64  5D          	ld	e,l
2592  0A65  1C          	inc	e
2593  0A66  20 10       	jr	NZ,l_game_enemy_add1_00101
2594  0A68              l_game_enemy_add1_00109:
2595  0A68  78          	ld	a,b
2596  0A69  D6 07       	sub	a,0x07
2597  0A6B  20 10       	jr	NZ,l_game_enemy_add1_00102
2598  0A6D  C5          	push	bc
2599  0A6E  2E 07       	ld	l,0x07
2600  0A70  CD 71 0B    	call	_game_enemy_add_get_index
2601  0A73  C1          	pop	bc
2602  0A74  5D          	ld	e,l
2603  0A75  1C          	inc	e
2604  0A76  28 05       	jr	Z,l_game_enemy_add1_00102
2605  0A78              l_game_enemy_add1_00101:
2606  0A78  2E 00       	ld	l,0x00
2607  0A7A  C3 6D 0B    	jp	l_game_enemy_add1_00133
2608  0A7D              l_game_enemy_add1_00102:
2609  0A7D  21 00 00    	ld	hl,_phase_pop
2610  0A80  34          	inc	(hl)
2611  0A81  C5          	push	bc
2612  0A82  CD 00 00    	call	_sound_enter_enemy
2613  0A85  2E 00       	ld	l,0x00
2614  0A87  CD 71 0B    	call	_game_enemy_add_get_index
2615  0A8A  C1          	pop	bc
2616  0A8B  7D          	ld	a,l
2617  0A8C  32 00 00    	ld	(_tmp),a
2618  0A8F  C5          	push	bc
2619  0A90  CD 00 00    	call	_rand
2620  0A93  C1          	pop	bc
2621  0A94  7D          	ld	a, l
2622  0A95  E6 01       	and	a,0x01
2623  0A97  32 00 00    	ld	(_tmp0),a
2624  0A9A  3D          	dec	a
2625  0A9B  20 1C       	jr	NZ,l_game_enemy_add1_00115
2626  0A9D  21 00 00    	ld	hl,_s_lin0
2627  0AA0  36 10       	ld	(hl),0x10
2628  0AA2  21 00 00    	ld	hl,_s_col0
2629  0AA5  36 04       	ld	(hl),0x04
2630  0AA7  21 00 00    	ld	hl,_s_col1
2631  0AAA  36 02       	ld	(hl),0x02
2632  0AAC  79          	ld	a,c
2633  0AAD  B7          	or	a, a
2634  0AAE  28 02       	jr	Z,l_game_enemy_add1_00111
2635  0AB0  36 03       	ld	(hl),0x03
2636  0AB2              l_game_enemy_add1_00111:
2637  0AB2  21 00 00    	ld	hl,_tmp1
2638  0AB5  36 01       	ld	(hl),0x01
2639  0AB7  18 1A       	jr	l_game_enemy_add1_00116
2640  0AB9              l_game_enemy_add1_00115:
2641  0AB9  21 00 00    	ld	hl,_s_lin0
2642  0ABC  36 10       	ld	(hl),0x10
2643  0ABE  21 00 00    	ld	hl,_s_col0
2644  0AC1  36 1A       	ld	(hl),0x1a
2645  0AC3  21 00 00    	ld	hl,_s_col1
2646  0AC6  36 1E       	ld	(hl),0x1e
2647  0AC8  79          	ld	a,c
2648  0AC9  B7          	or	a, a
2649  0ACA  28 02       	jr	Z,l_game_enemy_add1_00113
2650  0ACC  36 1C       	ld	(hl),0x1c
2651  0ACE              l_game_enemy_add1_00113:
2652  0ACE  21 00 00    	ld	hl,_tmp1
2653  0AD1  36 FF       	ld	(hl),0xff
2654  0AD3              l_game_enemy_add1_00116:
2655  0AD3  78          	ld	a,b
2656  0AD4  D6 08       	sub	a,0x08
2657  0AD6  20 04       	jr	NZ,l_game_enemy_add1_00210
2658  0AD8  3E 01       	ld	a,0x01
2659  0ADA  18 01       	jr	l_game_enemy_add1_00211
2660  0ADC              l_game_enemy_add1_00210:
2661  0ADC  AF          	xor	a,a
2662  0ADD              l_game_enemy_add1_00211:
2663  0ADD  DD 77 FF    	ld	(ix-1),a
2664  0AE0  B7          	or	a, a
2665  0AE1  28 04       	jr	Z,l_game_enemy_add1_00118
2666  0AE3  21 00 00    	ld	hl,_phase_coins
2667  0AE6  35          	dec	(hl)
2668  0AE7              l_game_enemy_add1_00118:
2669  0AE7  21 00 00    	ld	hl,_tmp_uc
2670  0AEA  36 00       	ld	(hl),0x00
2671  0AEC  DD 7E FE    	ld	a,(ix-2)
2672  0AEF  B7          	or	a,a
2673  0AF0  20 03       	jr	NZ,l_game_enemy_add1_00125
2674  0AF2  B1          	or	a,c
2675  0AF3  28 35       	jr	Z,l_game_enemy_add1_00126
2676  0AF5              l_game_enemy_add1_00125:
2677  0AF5  C5          	push	bc
2678  0AF6  CD 00 00    	call	_rand
2679  0AF9  11 03 00    	ld	de,0x0003
2680  0AFC  D5          	push	de
2681  0AFD  E5          	push	hl
2682  0AFE  CD 00 00    	call	__modsint_callee
2683  0B01  C1          	pop	bc
2684  0B02  5D          	ld	e,l
2685  0B03  21 00 00    	ld	hl,_tmp_uc
2686  0B06  73          	ld	(hl),e
2687  0B07  7B          	ld	a,e
2688  0B08  B7          	or	a, a
2689  0B09  20 02       	jr	NZ,l_game_enemy_add1_00120
2690  0B0B  36 10       	ld	(hl),0x10
2691  0B0D              l_game_enemy_add1_00120:
2692  0B0D  3A 00 00    	ld	a,(_tmp_uc)
2693  0B10  3D          	dec	a
2694  0B11  20 05       	jr	NZ,l_game_enemy_add1_00122
2695  0B13  21 00 00    	ld	hl,_tmp_uc
2696  0B16  36 38       	ld	(hl),0x38
2697  0B18              l_game_enemy_add1_00122:
2698  0B18  3A 00 00    	ld	a,(_tmp_uc)
2699  0B1B  D6 02       	sub	a,0x02
2700  0B1D  20 05       	jr	NZ,l_game_enemy_add1_00124
2701  0B1F  21 00 00    	ld	hl,_tmp_uc
2702  0B22  36 84       	ld	(hl),0x84
2703  0B24              l_game_enemy_add1_00124:
2704  0B24  3A 00 00    	ld	a,(_s_col1)
2705  0B27  32 00 00    	ld	(_s_col0),a
2706  0B2A              l_game_enemy_add1_00126:
2707  0B2A  CD 00 00    	call	_ay_is_playing
2708  0B2D  7D          	ld	a,l
2709  0B2E  D6 02       	sub	a,0x02
2710  0B30  30 14       	jr	NC,l_game_enemy_add1_00132
2711  0B32  DD 7E FF    	ld	a,(ix-1)
2712  0B35  B7          	or	a, a
2713  0B36  20 08       	jr	NZ,l_game_enemy_add1_00129
2714  0B38  21 00 00    	ld	hl,_ay_effect_04
2715  0B3B  CD 00 00    	call	_ay_fx_play
2716  0B3E  18 06       	jr	l_game_enemy_add1_00132
2717  0B40              l_game_enemy_add1_00129:
2718  0B40  21 00 00    	ld	hl,_ay_effect_07
2719  0B43  CD 00 00    	call	_ay_fx_play
2720  0B46              l_game_enemy_add1_00132:
2721  0B46  2A 00 00    	ld	hl,(_curr_time)
2722  0B49  22 00 00    	ld	(_entry_time),hl
2723  0B4C  3A 00 00    	ld	a,(_s_lin0)
2724  0B4F  21 00 00    	ld	hl,_tmp_uc
2725  0B52  86          	add	a, (hl)
2726  0B53  57          	ld	d,a
2727  0B54  3A 00 00    	ld	a,(_tmp1)
2728  0B57  48          	ld	c,b
2729  0B58  47          	ld	b,a
2730  0B59  3A 00 00    	ld	a,(_s_col0)
2731  0B5C  C5          	push	bc
2732  0B5D  5A          	ld	e,d
2733  0B5E  57          	ld	d,a
2734  0B5F  3A 00 00    	ld	a,(_tmp)
2735  0B62  D5          	push	de
2736  0B63  F5          	push	af
2737  0B64  33          	inc	sp
2738  0B65  CD 00 00    	call	_enemy_init
2739  0B68  F1          	pop	af
2740  0B69  F1          	pop	af
2741  0B6A  33          	inc	sp
2742  0B6B  2E 00       	ld	l,0x00
2743  0B6D              l_game_enemy_add1_00133:
2744  0B6D  F1          	pop	af
2745  0B6E  DD E1       	pop	ix
2746  0B70  C9          	ret
2747  0B71              	SECTION code_compiler
2748  0B71              ;	---------------------------------
2749  0B71              ; Function game_enemy_add_get_index
2750  0B71              ; ---------------------------------
2751  0B71              _game_enemy_add_get_index:
2752  0B71  4D          	ld	c,l
2753  0B72  21 00 00    	ld	hl,_enemies
2754  0B75  36 00       	ld	(hl),0x00
2755  0B77              l_game_enemy_add_get_index_00104:
2756  0B77  2A 00 00    	ld	hl,(_enemies)
2757  0B7A  26 00       	ld	h,0x00
2758  0B7C  11 00 00    	ld	de,_class
2759  0B7F  19          	add	hl,de
2760  0B80  46          	ld	b, (hl)
2761  0B81  79          	ld	a,c
2762  0B82  90          	sub	a,b
2763  0B83  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2764  0B85  2A 00 00    	ld	hl,(_enemies)
2765  0B88  18 0B       	jr	l_game_enemy_add_get_index_00106
2766  0B8A              l_game_enemy_add_get_index_00105:
2767  0B8A  21 00 00    	ld	hl,_enemies
2768  0B8D  34          	inc	(hl)
2769  0B8E  3E 05       	ld	a,0x05
2770  0B90  96          	sub	a, (hl)
2771  0B91  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2772  0B93  2E FF       	ld	l,0xff
2773  0B95              l_game_enemy_add_get_index_00106:
2774  0B95  C9          	ret
2775  0B96              	SECTION code_compiler
2776  0B96              ;	---------------------------------
2777  0B96              ; Function game_freeze
2778  0B96              ; ---------------------------------
2779  0B96              _game_freeze:
2780  0B96  CD 00 00    	call	___sdcc_enter_ix
2781  0B99  DD 7E 05    	ld	a,(ix+5)
2782  0B9C  D6 1F       	sub	a,0x1f
2783  0B9E  30 5F       	jr	NC,l_game_freeze_00107
2784  0BA0  21 00 00    	ld	hl,_tmp
2785  0BA3  36 01       	ld	(hl),0x01
2786  0BA5  DD 66 05    	ld	h,(ix+5)
2787  0BA8  DD 6E 04    	ld	l,(ix+4)
2788  0BAB  E5          	push	hl
2789  0BAC  CD 00 00    	call	_game_calc_index
2790  0BAF  F1          	pop	af
2791  0BB0  22 00 00    	ld	(_index1),hl
2792  0BB3  01 00 00    	ld	bc,_lvl_1
2793  0BB6  09          	add	hl,bc
2794  0BB7  7E          	ld	a,(hl)
2795  0BB8  D6 12       	sub	a,0x12
2796  0BBA  20 43       	jr	NZ,l_game_freeze_00107
2797  0BBC  36 14       	ld	(hl),0x14
2798  0BBE  76          	halt
2799  0BBF  DD 7E 05    	ld	a,(ix+5)
2800  0BC2  F5          	push	af
2801  0BC3  33          	inc	sp
2802  0BC4  DD 56 04    	ld	d,(ix+4)
2803  0BC7  1E 8B       	ld	e,0x8b
2804  0BC9  D5          	push	de
2805  0BCA  CD 00 00    	call	_NIRVANAP_drawT_callee
2806  0BCD  ED 4B 00 00 	ld	bc,(_index1)
2807  0BD1  03          	inc	bc
2808  0BD2  21 00 00    	ld	hl,_lvl_1
2809  0BD5  09          	add	hl,bc
2810  0BD6  4E          	ld	c,(hl)
2811  0BD7  DD 46 05    	ld	b,(ix+5)
2812  0BDA  04          	inc	b
2813  0BDB  79          	ld	a,c
2814  0BDC  B7          	or	a, a
2815  0BDD  20 0C       	jr	NZ,l_game_freeze_00102
2816  0BDF  C5          	push	bc
2817  0BE0  DD 4E 04    	ld	c,(ix+4)
2818  0BE3  C5          	push	bc
2819  0BE4  AF          	xor	a, a
2820  0BE5  F5          	push	af
2821  0BE6  33          	inc	sp
2822  0BE7  CD 00 00    	call	_NIRVANAP_fillT_callee
2823  0BEA  C1          	pop	bc
2824  0BEB              l_game_freeze_00102:
2825  0BEB  DD 4E 04    	ld	c,(ix+4)
2826  0BEE  C5          	push	bc
2827  0BEF  CD 96 0B    	call	_game_freeze
2828  0BF2  F1          	pop	af
2829  0BF3  DD 46 05    	ld	b,(ix+5)
2830  0BF6  05          	dec	b
2831  0BF7  DD 4E 04    	ld	c,(ix+4)
2832  0BFA  C5          	push	bc
2833  0BFB  CD 96 0B    	call	_game_freeze
2834  0BFE  F1          	pop	af
2835  0BFF              l_game_freeze_00107:
2836  0BFF  DD E1       	pop	ix
2837  0C01  C9          	ret
2838  0C02              	SECTION code_compiler
2839  0C02              ;	---------------------------------
2840  0C02              ; Function game_unfreeze_all
2841  0C02              ; ---------------------------------
2842  0C02              _game_unfreeze_all:
2843  0C02  21 C0 00    	ld	hl,0x00c0
2844  0C05  22 00 00    	ld	(_index1),hl
2845  0C08              l_game_unfreeze_all_00104:
2846  0C08  01 00 00    	ld	bc,_lvl_1
2847  0C0B  2A 00 00    	ld	hl,(_index1)
2848  0C0E  09          	add	hl,bc
2849  0C0F  7E          	ld	a,(hl)
2850  0C10  D6 14       	sub	a,0x14
2851  0C12  20 02       	jr	NZ,l_game_unfreeze_all_00105
2852  0C14  36 12       	ld	(hl),0x12
2853  0C16              l_game_unfreeze_all_00105:
2854  0C16  21 00 00    	ld	hl,_index1
2855  0C19  34          	inc	(hl)
2856  0C1A  20 02       	jr	NZ,l_game_unfreeze_all_00118
2857  0C1C  23          	inc	hl
2858  0C1D  34          	inc	(hl)
2859  0C1E              l_game_unfreeze_all_00118:
2860  0C1E  3E 20       	ld	a,0x20
2861  0C20  21 00 00    	ld	hl,_index1
2862  0C23  BE          	cp	a, (hl)
2863  0C24  3E 02       	ld	a,0x02
2864  0C26  23          	inc	hl
2865  0C27  9E          	sbc	a, (hl)
2866  0C28  30 DE       	jr	NC,l_game_unfreeze_all_00104
2867  0C2A  C9          	ret
2868  0C2B              	SECTION code_compiler
2869  0C2B              ;	---------------------------------
2870  0C2B              ; Function game_freeze_all
2871  0C2B              ; ---------------------------------
2872  0C2B              _game_freeze_all:
2873  0C2B  21 C0 00    	ld	hl,0x00c0
2874  0C2E  22 00 00    	ld	(_index1),hl
2875  0C31              l_game_freeze_all_00104:
2876  0C31  01 00 00    	ld	bc,_lvl_1
2877  0C34  2A 00 00    	ld	hl,(_index1)
2878  0C37  09          	add	hl,bc
2879  0C38  7E          	ld	a,(hl)
2880  0C39  D6 12       	sub	a,0x12
2881  0C3B  20 02       	jr	NZ,l_game_freeze_all_00105
2882  0C3D  36 14       	ld	(hl),0x14
2883  0C3F              l_game_freeze_all_00105:
2884  0C3F  21 00 00    	ld	hl,_index1
2885  0C42  34          	inc	(hl)
2886  0C43  20 02       	jr	NZ,l_game_freeze_all_00118
2887  0C45  23          	inc	hl
2888  0C46  34          	inc	(hl)
2889  0C47              l_game_freeze_all_00118:
2890  0C47  3E 20       	ld	a,0x20
2891  0C49  21 00 00    	ld	hl,_index1
2892  0C4C  BE          	cp	a, (hl)
2893  0C4D  3E 02       	ld	a,0x02
2894  0C4F  23          	inc	hl
2895  0C50  9E          	sbc	a, (hl)
2896  0C51  30 DE       	jr	NC,l_game_freeze_all_00104
2897  0C53  C9          	ret
2898  0C54              	SECTION code_compiler
2899  0C54              ;	---------------------------------
2900  0C54              ; Function game_print_score
2901  0C54              ; ---------------------------------
2902  0C54              _game_print_score:
2903  0C54  21 00 00    	ld	hl,_screen_ink
2904  0C57  36 07       	ld	(hl),0x07
2905  0C59  21 00 00    	ld	hl,_screen_paper
2906  0C5C  36 00       	ld	(hl),0x00
2907  0C5E  2A 00 00    	ld	hl,(_player_score)
2908  0C61  E5          	push	hl
2909  0C62  21 00 03    	ld	hl,0x0300
2910  0C65  E5          	push	hl
2911  0C66  CD 00 00    	call	_zx_print_int
2912  0C69  2A 00 00    	ld	hl,(_game_score_top)
2913  0C6C  E5          	push	hl
2914  0C6D  21 00 0E    	ld	hl,0x0e00
2915  0C70  E5          	push	hl
2916  0C71  CD 00 00    	call	_zx_print_int
2917  0C74  3A 00 00    	ld	a,(_game_two_player)
2918  0C77  B7          	or	a, a
2919  0C78  C8          	ret	Z
2920  0C79  2A 02 00    	ld	hl, (_player_score + 2)
2921  0C7C  E5          	push	hl
2922  0C7D  21 00 18    	ld	hl,0x1800
2923  0C80  E5          	push	hl
2924  0C81  CD 00 00    	call	_zx_print_int
2925  0C84  C9          	ret
2926  0C85              	SECTION code_compiler
2927  0C85              ;	---------------------------------
2928  0C85              ; Function game_paint_attrib
2929  0C85              ; ---------------------------------
2930  0C85              _game_paint_attrib:
2931  0C85  7D          	ld	a,l
2932  0C86  32 00 00    	ld	(_tmp0),a
2933  0C89              l_game_paint_attrib_00103:
2934  0C89  3E 13       	ld	a,0x13
2935  0C8B  21 00 00    	ld	hl,_tmp0
2936  0C8E  96          	sub	a, (hl)
2937  0C8F  D8          	ret	C
2938  0C90  7E          	ld	a,(hl)
2939  0C91  07          	rlca
2940  0C92  07          	rlca
2941  0C93  07          	rlca
2942  0C94  E6 F8       	and	a,0xf8
2943  0C96  C6 08       	add	a,0x08
2944  0C98  F5          	push	af
2945  0C99  33          	inc	sp
2946  0C9A  21 01 1F    	ld	hl,0x1f01
2947  0C9D  E5          	push	hl
2948  0C9E  CD A9 0C    	call	_game_paint_attrib_lin
2949  0CA1  F1          	pop	af
2950  0CA2  33          	inc	sp
2951  0CA3  21 00 00    	ld	hl,_tmp0
2952  0CA6  34          	inc	(hl)
2953  0CA7  18 E0       	jr	l_game_paint_attrib_00103
2954  0CA9              	SECTION code_compiler
2955  0CA9              ;	---------------------------------
2956  0CA9              ; Function game_paint_attrib_lin
2957  0CA9              ; ---------------------------------
2958  0CA9              _game_paint_attrib_lin:
2959  0CA9  CD 00 00    	call	___sdcc_enter_ix
2960  0CAC  DD 7E 04    	ld	a,(ix+4)
2961  0CAF  32 00 00    	ld	(_tmp_uc),a
2962  0CB2              l_game_paint_attrib_lin_00103:
2963  0CB2  21 00 00    	ld	hl,_tmp_uc
2964  0CB5  7E          	ld	a,(hl)
2965  0CB6  DD 96 05    	sub	a,(ix+5)
2966  0CB9  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2967  0CBB  66          	ld	h,(hl)
2968  0CBC  DD 6E 06    	ld	l,(ix+6)
2969  0CBF  E5          	push	hl
2970  0CC0  21 00 00    	ld	hl,_attrib
2971  0CC3  E5          	push	hl
2972  0CC4  CD 00 00    	call	_NIRVANAP_paintC_callee
2973  0CC7  21 00 00    	ld	hl,_tmp_uc
2974  0CCA  34          	inc	(hl)
2975  0CCB  18 E5       	jr	l_game_paint_attrib_lin_00103
2976  0CCD              l_game_paint_attrib_lin_00105:
2977  0CCD  DD E1       	pop	ix
2978  0CCF  C9          	ret
2979  0CD0              	SECTION code_compiler
2980  0CD0              ;	---------------------------------
2981  0CD0              ; Function game_paint_attrib_lin_h
2982  0CD0              ; ---------------------------------
2983  0CD0              _game_paint_attrib_lin_h:
2984  0CD0  CD 00 00    	call	___sdcc_enter_ix
2985  0CD3  DD 7E 04    	ld	a,(ix+4)
2986  0CD6  32 00 00    	ld	(_tmp_uc),a
2987  0CD9              l_game_paint_attrib_lin_h_00103:
2988  0CD9  21 00 00    	ld	hl,_tmp_uc
2989  0CDC  7E          	ld	a,(hl)
2990  0CDD  DD 96 05    	sub	a,(ix+5)
2991  0CE0  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
2992  0CE2  66          	ld	h,(hl)
2993  0CE3  DD 6E 06    	ld	l,(ix+6)
2994  0CE6  E5          	push	hl
2995  0CE7  21 00 00    	ld	hl,_attrib_hl
2996  0CEA  E5          	push	hl
2997  0CEB  CD 00 00    	call	_NIRVANAP_paintC_callee
2998  0CEE  21 00 00    	ld	hl,_tmp_uc
2999  0CF1  34          	inc	(hl)
3000  0CF2  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3001  0CF4              l_game_paint_attrib_lin_h_00105:
3002  0CF4  DD E1       	pop	ix
3003  0CF6  C9          	ret
3004  0CF7              	SECTION code_compiler
3005  0CF7              ;	---------------------------------
3006  0CF7              ; Function game_menu_config
3007  0CF7              ; ---------------------------------
3008  0CF7              _game_menu_config:
3009  0CF7  CD 00 00    	call	___sdcc_enter_ix
3010  0CFA  F5          	push	af
3011  0CFB  3B          	dec	sp
3012  0CFC  2E 0B       	ld	l,0x0b
3013  0CFE  CD 85 0C    	call	_game_paint_attrib
3014  0D01  DD 36 FD 01 	ld	(ix-3),0x01
3015  0D05              l_game_menu_config_00116:
3016  0D05  DD 7E FD    	ld	a,(ix-3)
3017  0D08  B7          	or	a, a
3018  0D09  CA 63 0E    	jp	Z,l_game_menu_config_00119
3019  0D0C              l_game_menu_config_00101:
3020  0D0C  21 00 00    	ld	hl,_k1
3021  0D0F  E5          	push	hl
3022  0D10  2A 00 00    	ld	hl,(_joyfunc1)
3023  0D13  CD 00 00    	call	___sdcc_call_hl
3024  0D16  F1          	pop	af
3025  0D17  7C          	ld	a,h
3026  0D18  B5          	or	a,l
3027  0D19  20 F1       	jr	NZ,l_game_menu_config_00101
3028  0D1B  3A 00 00    	ld	a,(_spec128)
3029  0D1E  B7          	or	a,a
3030  0D1F  28 0A       	jr	Z,l_game_menu_config_00121
3031  0D21  DD 36 FE BD 	ld	(ix-2),+((___str_24) & 0xFF)
3032  0D25  DD 36 FF 00 	ld	(ix-1),+((___str_24) / 256)
3033  0D29  18 08       	jr	l_game_menu_config_00122
3034  0D2B              l_game_menu_config_00121:
3035  0D2B  DD 36 FE C8 	ld	(ix-2),+((___str_25) & 0xFF)
3036  0D2F  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3037  0D33              l_game_menu_config_00122:
3038  0D33  DD 4E FE    	ld	c,(ix-2)
3039  0D36  DD 46 FF    	ld	b,(ix-1)
3040  0D39  C5          	push	bc
3041  0D3A  21 0E 0A    	ld	hl,0x0a0e
3042  0D3D  E5          	push	hl
3043  0D3E  CD 00 00    	call	_zx_print_str
3044  0D41  21 D3 00    	ld	hl,___str_26
3045  0D44  E5          	push	hl
3046  0D45  21 0F 0A    	ld	hl,0x0a0f
3047  0D48  E5          	push	hl
3048  0D49  CD 00 00    	call	_zx_print_str
3049  0D4C  21 DE 00    	ld	hl,___str_27
3050  0D4F  E5          	push	hl
3051  0D50  21 10 0A    	ld	hl,0x0a10
3052  0D53  E5          	push	hl
3053  0D54  CD 00 00    	call	_zx_print_str
3054  0D57  21 E9 00    	ld	hl,___str_28
3055  0D5A  E5          	push	hl
3056  0D5B  21 11 0A    	ld	hl,0x0a11
3057  0D5E  E5          	push	hl
3058  0D5F  CD 00 00    	call	_zx_print_str
3059  0D62  21 F4 00    	ld	hl,___str_29
3060  0D65  E5          	push	hl
3061  0D66  21 12 0A    	ld	hl,0x0a12
3062  0D69  E5          	push	hl
3063  0D6A  CD 00 00    	call	_zx_print_str
3064  0D6D  3A 00 00    	ld	a,(_game_sound)
3065  0D70  E6 05       	and	a,0x05
3066  0D72  28 05       	jr	Z,l_game_menu_config_00123
3067  0D74  01 FF 00    	ld	bc,___str_30
3068  0D77  18 03       	jr	l_game_menu_config_00124
3069  0D79              l_game_menu_config_00123:
3070  0D79  01 03 01    	ld	bc,___str_31
3071  0D7C              l_game_menu_config_00124:
3072  0D7C  C5          	push	bc
3073  0D7D  21 0E 14    	ld	hl,0x140e
3074  0D80  E5          	push	hl
3075  0D81  CD 00 00    	call	_zx_print_str
3076  0D84  3E 02       	ld	a,0x02
3077  0D86  21 00 00    	ld	hl,_game_type
3078  0D89  96          	sub	a, (hl)
3079  0D8A  38 34       	jr	C,l_game_menu_config_00107
3080  0D8C  5E          	ld	e,(hl)
3081  0D8D  16 00       	ld	d,0x00
3082  0D8F  21 95 0D    	ld	hl,l_game_menu_config_00164
3083  0D92  19          	add	hl,de
3084  0D93  19          	add	hl,de
3085  0D94  E9          	jp	(hl)
3086  0D95              l_game_menu_config_00164:
3087  0D95  18 04       	jr	l_game_menu_config_00104
3088  0D97  18 0F       	jr	l_game_menu_config_00105
3089  0D99  18 1A       	jr	l_game_menu_config_00106
3090  0D9B              l_game_menu_config_00104:
3091  0D9B  21 07 01    	ld	hl,___str_32
3092  0D9E  E5          	push	hl
3093  0D9F  21 0F 14    	ld	hl,0x140f
3094  0DA2  E5          	push	hl
3095  0DA3  CD 00 00    	call	_zx_print_str
3096  0DA6  18 18       	jr	l_game_menu_config_00107
3097  0DA8              l_game_menu_config_00105:
3098  0DA8  21 0B 01    	ld	hl,___str_33
3099  0DAB  E5          	push	hl
3100  0DAC  21 0F 14    	ld	hl,0x140f
3101  0DAF  E5          	push	hl
3102  0DB0  CD 00 00    	call	_zx_print_str
3103  0DB3  18 0B       	jr	l_game_menu_config_00107
3104  0DB5              l_game_menu_config_00106:
3105  0DB5  21 0F 01    	ld	hl,___str_34
3106  0DB8  E5          	push	hl
3107  0DB9  21 0F 14    	ld	hl,0x140f
3108  0DBC  E5          	push	hl
3109  0DBD  CD 00 00    	call	_zx_print_str
3110  0DC0              l_game_menu_config_00107:
3111  0DC0  2A 00 00    	ld	hl,(_player_joy)
3112  0DC3  29          	add	hl, hl
3113  0DC4  11 00 00    	ld	de,_joynames
3114  0DC7  19          	add	hl,de
3115  0DC8  4E          	ld	c,(hl)
3116  0DC9  23          	inc	hl
3117  0DCA  46          	ld	b,(hl)
3118  0DCB  C5          	push	bc
3119  0DCC  21 10 14    	ld	hl,0x1410
3120  0DCF  E5          	push	hl
3121  0DD0  CD 00 00    	call	_zx_print_str
3122  0DD3  2A 02 00    	ld	hl, (_player_joy + 2)
3123  0DD6  29          	add	hl, hl
3124  0DD7  11 00 00    	ld	de,_joynames
3125  0DDA  19          	add	hl,de
3126  0DDB  4E          	ld	c,(hl)
3127  0DDC  23          	inc	hl
3128  0DDD  46          	ld	b,(hl)
3129  0DDE  C5          	push	bc
3130  0DDF  21 11 14    	ld	hl,0x1411
3131  0DE2  E5          	push	hl
3132  0DE3  CD 00 00    	call	_zx_print_str
3133  0DE6  21 00 00    	ld	hl,0x0000
3134  0DE9  E5          	push	hl
3135  0DEA  21 0E 12    	ld	hl,0x120e
3136  0DED  E5          	push	hl
3137  0DEE  21 0A 01    	ld	hl,0x010a
3138  0DF1  E5          	push	hl
3139  0DF2  CD 17 11    	call	_game_menu_handle
3140  0DF5  F1          	pop	af
3141  0DF6  F1          	pop	af
3142  0DF7  F1          	pop	af
3143  0DF8  7D          	ld	a,l
3144  0DF9  32 00 00    	ld	(_game_menu_sel),a
3145  0DFC  21 00 00    	ld	hl,_ay_effect_10
3146  0DFF  CD 00 00    	call	_ay_fx_play
3147  0E02  CD 00 00    	call	_sound_coin
3148  0E05  3E 04       	ld	a,0x04
3149  0E07  21 00 00    	ld	hl,_game_menu_sel
3150  0E0A  96          	sub	a, (hl)
3151  0E0B  DA 05 0D    	jp	C,l_game_menu_config_00116
3152  0E0E  5E          	ld	e,(hl)
3153  0E0F  16 00       	ld	d,0x00
3154  0E11  21 17 0E    	ld	hl,l_game_menu_config_00165
3155  0E14  19          	add	hl,de
3156  0E15  19          	add	hl,de
3157  0E16  E9          	jp	(hl)
3158  0E17              l_game_menu_config_00165:
3159  0E17  18 08       	jr	l_game_menu_config_00108
3160  0E19  18 1A       	jr	l_game_menu_config_00109
3161  0E1B  18 27       	jr	l_game_menu_config_00112
3162  0E1D  18 2D       	jr	l_game_menu_config_00113
3163  0E1F  18 33       	jr	l_game_menu_config_00114
3164  0E21              l_game_menu_config_00108:
3165  0E21  3A 00 00    	ld	a,(_spec128)
3166  0E24  B7          	or	a, a
3167  0E25  28 04       	jr	Z,l_game_menu_config_00125
3168  0E27  3E 04       	ld	a,0x04
3169  0E29  18 02       	jr	l_game_menu_config_00126
3170  0E2B              l_game_menu_config_00125:
3171  0E2B  3E 01       	ld	a,0x01
3172  0E2D              l_game_menu_config_00126:
3173  0E2D  21 00 00    	ld	hl,_game_sound
3174  0E30  AE          	xor	a, (hl)
3175  0E31  77          	ld	(hl),a
3176  0E32  C3 05 0D    	jp	l_game_menu_config_00116
3177  0E35              l_game_menu_config_00109:
3178  0E35  21 00 00    	ld	hl,_game_type
3179  0E38  34          	inc	(hl)
3180  0E39  3E 02       	ld	a,0x02
3181  0E3B  96          	sub	a, (hl)
3182  0E3C  D2 05 0D    	jp	NC,l_game_menu_config_00116
3183  0E3F  36 00       	ld	(hl),0x00
3184  0E41  C3 05 0D    	jp	l_game_menu_config_00116
3185  0E44              l_game_menu_config_00112:
3186  0E44  2E 00       	ld	l,0x00
3187  0E46  CD 68 0E    	call	_game_joystick_change
3188  0E49  C3 05 0D    	jp	l_game_menu_config_00116
3189  0E4C              l_game_menu_config_00113:
3190  0E4C  2E 01       	ld	l,0x01
3191  0E4E  CD 68 0E    	call	_game_joystick_change
3192  0E51  C3 05 0D    	jp	l_game_menu_config_00116
3193  0E54              l_game_menu_config_00114:
3194  0E54  21 00 00    	ld	hl,_game_menu_sel
3195  0E57  36 00       	ld	(hl),0x00
3196  0E59  CD E9 0F    	call	_game_menu_paint
3197  0E5C  DD 36 FD 00 	ld	(ix-3),0x00
3198  0E60  C3 05 0D    	jp	l_game_menu_config_00116
3199  0E63              l_game_menu_config_00119:
3200  0E63  DD F9       	ld	sp, ix
3201  0E65  DD E1       	pop	ix
3202  0E67  C9          	ret
3203  0E68              	SECTION rodata_compiler
3204  00BD              ___str_24:
3205  00BD  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3206  00C7  00          	DEFB 0x00
3207  00C8              	SECTION rodata_compiler
3208  00C8              ___str_25:
3209  00C8  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3210  00D2  00          	DEFB 0x00
3211  00D3              	SECTION rodata_compiler
3212  00D3              ___str_26:
3213  00D3  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3214  00DD  00          	DEFB 0x00
3215  00DE              	SECTION rodata_compiler
3216  00DE              ___str_27:
3217  00DE  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3218  00E8  00          	DEFB 0x00
3219  00E9              	SECTION rodata_compiler
3220  00E9              ___str_28:
3221  00E9  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3222  00F3  00          	DEFB 0x00
3223  00F4              	SECTION rodata_compiler
3224  00F4              ___str_29:
3225  00F4  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3226  00FE  00          	DEFB 0x00
3227  00FF              	SECTION rodata_compiler
3228  00FF              ___str_30:
3229  00FF  4F 4E 20    	DEFM "ON "
3230  0102  00          	DEFB 0x00
3231  0103              	SECTION rodata_compiler
3232  0103              ___str_31:
3233  0103  4F 46 46    	DEFM "OFF"
3234  0106  00          	DEFB 0x00
3235  0107              	SECTION rodata_compiler
3236  0107              ___str_32:
3237  0107  41 20 20    	DEFM "A  "
3238  010A  00          	DEFB 0x00
3239  010B              	SECTION rodata_compiler
3240  010B              ___str_33:
3241  010B  42 20 20    	DEFM "B  "
3242  010E  00          	DEFB 0x00
3243  010F              	SECTION rodata_compiler
3244  010F              ___str_34:
3245  010F  52 4E 44    	DEFM "RND"
3246  0112  00          	DEFB 0x00
3247  0113              	SECTION code_compiler
3248  0E68              ;	---------------------------------
3249  0E68              ; Function game_joystick_change
3250  0E68              ; ---------------------------------
3251  0E68              _game_joystick_change:
3252  0E68  CD 00 00    	call	___sdcc_enter_ix
3253  0E6B  3B          	dec	sp
3254  0E6C  DD 75 FF    	ld	(ix-1),l
3255  0E6F  26 00       	ld	h,0x00
3256  0E71  29          	add	hl, hl
3257  0E72  01 00 00    	ld	bc,_player_joy
3258  0E75  09          	add	hl,bc
3259  0E76  4D          	ld	c,l
3260  0E77  44          	ld	b,h
3261  0E78  5E          	ld	e,(hl)
3262  0E79  23          	inc	hl
3263  0E7A  56          	ld	d,(hl)
3264  0E7B  13          	inc	de
3265  0E7C  69          	ld	l, c
3266  0E7D  60          	ld	h, b
3267  0E7E  73          	ld	(hl),e
3268  0E7F  23          	inc	hl
3269  0E80  72          	ld	(hl),d
3270  0E81  7B          	ld	a,e
3271  0E82  D6 07       	sub	a,0x07
3272  0E84  20 09       	jr	NZ,l_game_joystick_change_00102
3273  0E86  B2          	or	a,d
3274  0E87  20 06       	jr	NZ,l_game_joystick_change_00102
3275  0E89  69          	ld	l, c
3276  0E8A  60          	ld	h, b
3277  0E8B  AF          	xor	a, a
3278  0E8C  77          	ld	(hl), a
3279  0E8D  23          	inc	hl
3280  0E8E  77          	ld	(hl), a
3281  0E8F              l_game_joystick_change_00102:
3282  0E8F  DD 7E FF    	ld	a,(ix-1)
3283  0E92  B7          	or	a, a
3284  0E93  20 15       	jr	NZ,l_game_joystick_change_00104
3285  0E95  69          	ld	l, c
3286  0E96  60          	ld	h, b
3287  0E97  5E          	ld	e,(hl)
3288  0E98  23          	inc	hl
3289  0E99  56          	ld	d,(hl)
3290  0E9A  1D          	dec	e
3291  0E9B  20 0D       	jr	NZ,l_game_joystick_change_00104
3292  0E9D  7A          	ld	a,d
3293  0E9E  B7          	or	a, a
3294  0E9F  20 09       	jr	NZ,l_game_joystick_change_00104
3295  0EA1  ED 5B 00 00 	ld	de,(_player_joy)
3296  0EA5  13          	inc	de
3297  0EA6  ED 53 00 00 	ld	(_player_joy), de
3298  0EAA              l_game_joystick_change_00104:
3299  0EAA  DD 7E FF    	ld	a,(ix-1)
3300  0EAD  3D          	dec	a
3301  0EAE  20 11       	jr	NZ,l_game_joystick_change_00107
3302  0EB0  69          	ld	l, c
3303  0EB1  60          	ld	h, b
3304  0EB2  4E          	ld	c,(hl)
3305  0EB3  23          	inc	hl
3306  0EB4  7E          	ld	a, (hl)
3307  0EB5  B1          	or	a,c
3308  0EB6  20 09       	jr	NZ,l_game_joystick_change_00107
3309  0EB8  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3310  0EBC  03          	inc	bc
3311  0EBD  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3312  0EC1              l_game_joystick_change_00107:
3313  0EC1  ED 4B 00 00 	ld	bc,(_player_joy)
3314  0EC5  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3315  0EC9  79          	ld	a,c
3316  0ECA  93          	sub	a, e
3317  0ECB  20 18       	jr	NZ,l_game_joystick_change_00114
3318  0ECD  78          	ld	a,b
3319  0ECE  92          	sub	a, d
3320  0ECF  20 14       	jr	NZ,l_game_joystick_change_00114
3321  0ED1  DD 7E FF    	ld	a,(ix-1)
3322  0ED4  B7          	or	a, a
3323  0ED5  20 08       	jr	NZ,l_game_joystick_change_00110
3324  0ED7  21 01 00    	ld	hl,0x0001
3325  0EDA  22 02 00    	ld	(_player_joy + 0x0002),hl
3326  0EDD  18 06       	jr	l_game_joystick_change_00114
3327  0EDF              l_game_joystick_change_00110:
3328  0EDF  21 00 00    	ld	hl,0x0000
3329  0EE2  22 00 00    	ld	(_player_joy), hl
3330  0EE5              l_game_joystick_change_00114:
3331  0EE5  33          	inc	sp
3332  0EE6  DD E1       	pop	ix
3333  0EE8  C9          	ret
3334  0EE9              	SECTION code_compiler
3335  0EE9              ;	---------------------------------
3336  0EE9              ; Function game_joystick_set_menu
3337  0EE9              ; ---------------------------------
3338  0EE9              _game_joystick_set_menu:
3339  0EE9  21 00 00    	ld	hl,_in_stick_sinclair1
3340  0EEC  22 00 00    	ld	(_joyfunc1),hl
3341  0EEF  21 00 00    	ld	hl,_in_stick_sinclair2
3342  0EF2  22 00 00    	ld	(_joyfunc2),hl
3343  0EF5  C9          	ret
3344  0EF6              	SECTION code_compiler
3345  0EF6              ;	---------------------------------
3346  0EF6              ; Function game_joystick_set
3347  0EF6              ; ---------------------------------
3348  0EF6              _game_joystick_set:
3349  0EF6  01 00 00    	ld	bc,_control_method+0
3350  0EF9  2A 00 00    	ld	hl,(_player_joy)
3351  0EFC  29          	add	hl, hl
3352  0EFD  09          	add	hl,bc
3353  0EFE  11 00 00    	ld	de,_joyfunc1
3354  0F01  ED A0       	ldi
3355  0F03  03          	inc	bc
3356  0F04  7E          	ld	a,(hl)
3357  0F05  12          	ld	(de),a
3358  0F06  2A 02 00    	ld	hl, (_player_joy + 2)
3359  0F09  29          	add	hl, hl
3360  0F0A  09          	add	hl,bc
3361  0F0B  11 00 00    	ld	de,_joyfunc2
3362  0F0E  ED A0       	ldi
3363  0F10  7E          	ld	a,(hl)
3364  0F11  12          	ld	(de),a
3365  0F12  C9          	ret
3366  0F13              	SECTION code_compiler
3367  0F13              ;	---------------------------------
3368  0F13              ; Function game_menu
3369  0F13              ; ---------------------------------
3370  0F13              _game_menu:
3371  0F13  CD 75 0F    	call	_game_menu_top_paint
3372  0F16  CD E9 0F    	call	_game_menu_paint
3373  0F19  CD 00 00    	call	_ay_reset
3374  0F1C  21 00 00    	ld	hl,_pb_midi_title
3375  0F1F  CD 00 00    	call	_ay_midi_play
3376  0F22              l_game_menu_00101:
3377  0F22  21 00 00    	ld	hl,_k1
3378  0F25  E5          	push	hl
3379  0F26  2A 00 00    	ld	hl,(_joyfunc1)
3380  0F29  CD 00 00    	call	___sdcc_call_hl
3381  0F2C  F1          	pop	af
3382  0F2D  7C          	ld	a,h
3383  0F2E  B5          	or	a,l
3384  0F2F  20 F1       	jr	NZ,l_game_menu_00101
3385  0F31  21 E8 03    	ld	hl,0x03e8
3386  0F34  E5          	push	hl
3387  0F35  21 0E 12    	ld	hl,0x120e
3388  0F38  E5          	push	hl
3389  0F39  21 0C 02    	ld	hl,0x020c
3390  0F3C  E5          	push	hl
3391  0F3D  CD 17 11    	call	_game_menu_handle
3392  0F40  F1          	pop	af
3393  0F41  F1          	pop	af
3394  0F42  F1          	pop	af
3395  0F43  4D          	ld	c,l
3396  0F44  21 00 00    	ld	hl,_tmp_uc
3397  0F47  71          	ld	(hl),c
3398  0F48  3E 02       	ld	a,0x02
3399  0F4A  96          	sub	a, (hl)
3400  0F4B  38 D5       	jr	C,l_game_menu_00101
3401  0F4D  5E          	ld	e,(hl)
3402  0F4E  16 00       	ld	d,0x00
3403  0F50  21 56 0F    	ld	hl,l_game_menu_00125
3404  0F53  19          	add	hl,de
3405  0F54  19          	add	hl,de
3406  0F55  E9          	jp	(hl)
3407  0F56              l_game_menu_00125:
3408  0F56  18 04       	jr	l_game_menu_00104
3409  0F58  18 0C       	jr	l_game_menu_00105
3410  0F5A  18 14       	jr	l_game_menu_00106
3411  0F5C              l_game_menu_00104:
3412  0F5C  21 00 00    	ld	hl,_game_two_player
3413  0F5F  36 00       	ld	(hl),0x00
3414  0F61  CD 45 03    	call	_game_loop
3415  0F64  18 BC       	jr	l_game_menu_00101
3416  0F66              l_game_menu_00105:
3417  0F66  21 00 00    	ld	hl,_game_two_player
3418  0F69  36 01       	ld	(hl),0x01
3419  0F6B  CD 45 03    	call	_game_loop
3420  0F6E  18 B2       	jr	l_game_menu_00101
3421  0F70              l_game_menu_00106:
3422  0F70  CD F7 0C    	call	_game_menu_config
3423  0F73  18 AD       	jr	l_game_menu_00101
3424  0F75              	SECTION code_compiler
3425  0F75              ;	---------------------------------
3426  0F75              ; Function game_menu_top_paint
3427  0F75              ; ---------------------------------
3428  0F75              _game_menu_top_paint:
3429  0F75  CD 00 00    	call	_spr_draw_clear
3430  0F78  2E 00       	ld	l,0x00
3431  0F7A  CD 85 0C    	call	_game_paint_attrib
3432  0F7D  21 9C 01    	ld	hl,0x019c
3433  0F80  E5          	push	hl
3434  0F81  21 00 1E    	ld	hl,0x1e00
3435  0F84  E5          	push	hl
3436  0F85  3E 10       	ld	a,0x10
3437  0F87  F5          	push	af
3438  0F88  33          	inc	sp
3439  0F89  CD 64 10    	call	_game_menu_e
3440  0F8C  F1          	pop	af
3441  0F8D  33          	inc	sp
3442  0F8E  21 9F FF    	ld	hl,0xff9f
3443  0F91  E3          	ex	(sp),hl
3444  0F92  21 00 1E    	ld	hl,0x1e00
3445  0F95  E5          	push	hl
3446  0F96  3E 50       	ld	a,0x50
3447  0F98  F5          	push	af
3448  0F99  33          	inc	sp
3449  0F9A  CD 64 10    	call	_game_menu_e
3450  0F9D  F1          	pop	af
3451  0F9E  F1          	pop	af
3452  0F9F  33          	inc	sp
3453  0FA0  21 00 00    	ld	hl,_tmp
3454  0FA3  36 18       	ld	(hl),0x18
3455  0FA5  F3          	di
3456  0FA6  21 00 00    	ld	hl,_tmp_uc
3457  0FA9  36 00       	ld	(hl),0x00
3458  0FAB              l_game_menu_top_paint_00102:
3459  0FAB  3A 00 00    	ld	a,(_tmp_uc)
3460  0FAE  87          	add	a, a
3461  0FAF  C6 05       	add	a,0x05
3462  0FB1  47          	ld	b,a
3463  0FB2  3A 00 00    	ld	a,(_tmp)
3464  0FB5  C6 10       	add	a,0x10
3465  0FB7  57          	ld	d,a
3466  0FB8  3A 00 00    	ld	a,(_tmp_uc)
3467  0FBB  C6 C0       	add	a,0xc0
3468  0FBD  4A          	ld	c, d
3469  0FBE  C5          	push	bc
3470  0FBF  F5          	push	af
3471  0FC0  33          	inc	sp
3472  0FC1  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3473  0FC4  3A 00 00    	ld	a,(_tmp_uc)
3474  0FC7  87          	add	a, a
3475  0FC8  C6 05       	add	a,0x05
3476  0FCA  47          	ld	b,a
3477  0FCB  3A 00 00    	ld	a,(_tmp)
3478  0FCE  C6 20       	add	a,0x20
3479  0FD0  57          	ld	d,a
3480  0FD1  3A 00 00    	ld	a,(_tmp_uc)
3481  0FD4  C6 CC       	add	a,0xcc
3482  0FD6  4A          	ld	c, d
3483  0FD7  C5          	push	bc
3484  0FD8  F5          	push	af
3485  0FD9  33          	inc	sp
3486  0FDA  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3487  0FDD  21 00 00    	ld	hl,_tmp_uc
3488  0FE0  7E          	ld	a,(hl)
3489  0FE1  3C          	inc	a
3490  0FE2  77          	ld	(hl),a
3491  0FE3  D6 0A       	sub	a,0x0a
3492  0FE5  38 C4       	jr	C,l_game_menu_top_paint_00102
3493  0FE7  FB          	ei
3494  0FE8  C9          	ret
3495  0FE9              	SECTION code_compiler
3496  0FE9              ;	---------------------------------
3497  0FE9              ; Function game_menu_paint
3498  0FE9              ; ---------------------------------
3499  0FE9              _game_menu_paint:
3500  0FE9  76          	halt
3501  0FEA  3A 00 00    	ld	a,(_tmp)
3502  0FED  C6 28       	add	a,0x28
3503  0FEF  4F          	ld	c, a
3504  0FF0  06 1A       	ld	b,0x1a
3505  0FF2  C5          	push	bc
3506  0FF3  3E 12       	ld	a,0x12
3507  0FF5  F5          	push	af
3508  0FF6  33          	inc	sp
3509  0FF7  CD 00 00    	call	_NIRVANAP_fillC_callee
3510  0FFA  21 00 20    	ld	hl,0x2000
3511  0FFD  E5          	push	hl
3512  0FFE  CD 00 00    	call	_game_fill_row
3513  1001  21 00 20    	ld	hl,0x2000
3514  1004  E5          	push	hl
3515  1005  CD 00 00    	call	_game_fill_row
3516  1008  21 13 01    	ld	hl,___str_35
3517  100B  E5          	push	hl
3518  100C  21 0E 0A    	ld	hl,0x0a0e
3519  100F  E5          	push	hl
3520  1010  CD 00 00    	call	_zx_print_str
3521  1013  21 0F 20    	ld	hl,0x200f
3522  1016  E5          	push	hl
3523  1017  CD 00 00    	call	_game_fill_row
3524  101A  21 21 01    	ld	hl,___str_36
3525  101D  E5          	push	hl
3526  101E  21 10 0A    	ld	hl,0x0a10
3527  1021  E5          	push	hl
3528  1022  CD 00 00    	call	_zx_print_str
3529  1025  21 11 20    	ld	hl,0x2011
3530  1028  E5          	push	hl
3531  1029  CD 00 00    	call	_game_fill_row
3532  102C  21 2F 01    	ld	hl,___str_37
3533  102F  E5          	push	hl
3534  1030  21 12 0A    	ld	hl,0x0a12
3535  1033  E5          	push	hl
3536  1034  CD 00 00    	call	_zx_print_str
3537  1037  21 13 20    	ld	hl,0x2013
3538  103A  E5          	push	hl
3539  103B  CD 00 00    	call	_game_fill_row
3540  103E  21 00 00    	ld	hl,_screen_ink
3541  1041  36 01       	ld	(hl),0x01
3542  1043  21 3D 01    	ld	hl,___str_38
3543  1046  E5          	push	hl
3544  1047  21 16 07    	ld	hl,0x0716
3545  104A  E5          	push	hl
3546  104B  CD 00 00    	call	_zx_print_str
3547  104E  21 50 01    	ld	hl,___str_39
3548  1051  E5          	push	hl
3549  1052  21 17 07    	ld	hl,0x0717
3550  1055  E5          	push	hl
3551  1056  CD 00 00    	call	_zx_print_str
3552  1059  21 00 00    	ld	hl,_tmp_uc
3553  105C  36 00       	ld	(hl),0x00
3554  105E  2E 0B       	ld	l,0x0b
3555  1060  CD 85 0C    	call	_game_paint_attrib
3556  1063  C9          	ret
3557  1064              	SECTION rodata_compiler
3558  0113              ___str_35:
3559  0113  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3560  0120  00          	DEFB 0x00
3561  0121              	SECTION rodata_compiler
3562  0121              ___str_36:
3563  0121  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3564  012E  00          	DEFB 0x00
3565  012F              	SECTION rodata_compiler
3566  012F              ___str_37:
3567  012F  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3568  013C  00          	DEFB 0x00
3569  013D              	SECTION rodata_compiler
3570  013D              ___str_38:
3571  013D  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3572  014F  00          	DEFB 0x00
3573  0150              	SECTION rodata_compiler
3574  0150              ___str_39:
3575  0150  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3576  0161  00          	DEFB 0x00
3577  0162              	SECTION code_compiler
3578  1064              ;	---------------------------------
3579  1064              ; Function game_menu_e
3580  1064              ; ---------------------------------
3581  1064              _game_menu_e:
3582  1064  CD 00 00    	call	___sdcc_enter_ix
3583  1067  F3          	di
3584  1068  DD 4E 05    	ld	c,(ix+5)
3585  106B  21 00 00    	ld	hl,_tmp_uc
3586  106E  71          	ld	(hl),c
3587  106F  DD 46 07    	ld	b,(ix+7)
3588  1072  04          	inc	b
3589  1073  DD 56 07    	ld	d,(ix+7)
3590  1076  14          	inc	d
3591  1077  14          	inc	d
3592  1078              l_game_menu_e_00114:
3593  1078  DD 7E 06    	ld	a,(ix+6)
3594  107B  21 00 00    	ld	hl,_tmp_uc
3595  107E  96          	sub	a, (hl)
3596  107F  38 56       	jr	C,l_game_menu_e_00109
3597  1081  7E          	ld	a,(hl)
3598  1082  91          	sub	a, c
3599  1083  20 15       	jr	NZ,l_game_menu_e_00102
3600  1085  3A 00 00    	ld	a,(_tmp_uc)
3601  1088  C5          	push	bc
3602  1089  D5          	push	de
3603  108A  F5          	push	af
3604  108B  33          	inc	sp
3605  108C  DD 66 04    	ld	h,(ix+4)
3606  108F  DD 6E 07    	ld	l,(ix+7)
3607  1092  E5          	push	hl
3608  1093  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3609  1096  D1          	pop	de
3610  1097  C1          	pop	bc
3611  1098  18 36       	jr	l_game_menu_e_00108
3612  109A              l_game_menu_e_00102:
3613  109A  3A 00 00    	ld	a,(_tmp_uc)
3614  109D  DD 96 06    	sub	a,(ix+6)
3615  10A0  20 14       	jr	NZ,l_game_menu_e_00104
3616  10A2  3A 00 00    	ld	a,(_tmp_uc)
3617  10A5  C5          	push	bc
3618  10A6  D5          	push	de
3619  10A7  F5          	push	af
3620  10A8  33          	inc	sp
3621  10A9  DD 7E 04    	ld	a,(ix+4)
3622  10AC  5A          	ld	e,d
3623  10AD  57          	ld	d,a
3624  10AE  D5          	push	de
3625  10AF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3626  10B2  D1          	pop	de
3627  10B3  C1          	pop	bc
3628  10B4  18 1A       	jr	l_game_menu_e_00108
3629  10B6              l_game_menu_e_00104:
3630  10B6  3A 00 00    	ld	a,(_tmp_uc)
3631  10B9  FE 0E       	cp	a,0x0e
3632  10BB  28 13       	jr	Z,l_game_menu_e_00108
3633  10BD  FE 10       	cp	a,0x10
3634  10BF  28 0F       	jr	Z,l_game_menu_e_00108
3635  10C1  C5          	push	bc
3636  10C2  D5          	push	de
3637  10C3  F5          	push	af
3638  10C4  33          	inc	sp
3639  10C5  DD 7E 04    	ld	a,(ix+4)
3640  10C8  48          	ld	c,b
3641  10C9  47          	ld	b,a
3642  10CA  C5          	push	bc
3643  10CB  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3644  10CE  D1          	pop	de
3645  10CF  C1          	pop	bc
3646  10D0              l_game_menu_e_00108:
3647  10D0  21 00 00    	ld	hl,_tmp_uc
3648  10D3  34          	inc	(hl)
3649  10D4  34          	inc	(hl)
3650  10D5  18 A1       	jr	l_game_menu_e_00114
3651  10D7              l_game_menu_e_00109:
3652  10D7  DD 7E 08    	ld	a,(ix+8)
3653  10DA  3C          	inc	a
3654  10DB  20 0A       	jr	NZ,l_game_menu_e_00111
3655  10DD  DD 7E 04    	ld	a,(ix+4)
3656  10E0  C6 F0       	add	a,0xf0
3657  10E2  DD 77 04    	ld	(ix+4),a
3658  10E5  18 08       	jr	l_game_menu_e_00112
3659  10E7              l_game_menu_e_00111:
3660  10E7  DD 7E 04    	ld	a,(ix+4)
3661  10EA  C6 10       	add	a,0x10
3662  10EC  DD 77 04    	ld	(ix+4),a
3663  10EF              l_game_menu_e_00112:
3664  10EF  DD 7E 07    	ld	a,(ix+7)
3665  10F2  C6 0C       	add	a,0x0c
3666  10F4  47          	ld	b,a
3667  10F5  79          	ld	a,c
3668  10F6  F5          	push	af
3669  10F7  33          	inc	sp
3670  10F8  DD 7E 04    	ld	a,(ix+4)
3671  10FB  48          	ld	c,b
3672  10FC  47          	ld	b,a
3673  10FD  C5          	push	bc
3674  10FE  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3675  1101  DD 7E 07    	ld	a,(ix+7)
3676  1104  C6 0E       	add	a,0x0e
3677  1106  47          	ld	b,a
3678  1107  DD 66 06    	ld	h,(ix+6)
3679  110A  DD 6E 04    	ld	l,(ix+4)
3680  110D  E5          	push	hl
3681  110E  C5          	push	bc
3682  110F  33          	inc	sp
3683  1110  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3684  1113  FB          	ei
3685  1114  DD E1       	pop	ix
3686  1116  C9          	ret
3687  1117              	SECTION code_compiler
3688  1117              ;	---------------------------------
3689  1117              ; Function game_menu_handle
3690  1117              ; ---------------------------------
3691  1117              _game_menu_handle:
3692  1117  CD 00 00    	call	___sdcc_enter_ix
3693  111A  3B          	dec	sp
3694  111B  2A 00 00    	ld	hl,(_curr_time)
3695  111E  22 00 00    	ld	(_entry_time),hl
3696  1121  DD 5E 05    	ld	e,(ix+5)
3697  1124  21 00 00    	ld	hl,_game_menu_sel
3698  1127  66          	ld	h,(hl)
3699  1128  2E 00       	ld	l,0x00
3700  112A  55          	ld	d, l
3701  112B  06 08       	ld	b,0x08
3702  112D              l_game_menu_handle_00148:
3703  112D  29          	add	hl,hl
3704  112E  30 01       	jr	NC,l_game_menu_handle_00149
3705  1130  19          	add	hl,de
3706  1131              l_game_menu_handle_00149:
3707  1131  10 FA       	djnz	l_game_menu_handle_00148
3708  1133  DD 7E 06    	ld	a,(ix+6)
3709  1136  85          	add	a,l
3710  1137  32 00 00    	ld	(_s_lin1),a
3711  113A  DD 7E 06    	ld	a,(ix+6)
3712  113D  DD 77 FF    	ld	(ix-1),a
3713  1140              l_game_menu_handle_00111:
3714  1140  21 00 00    	ld	hl,_k1
3715  1143  E5          	push	hl
3716  1144  2A 00 00    	ld	hl,(_joyfunc1)
3717  1147  CD 00 00    	call	___sdcc_call_hl
3718  114A  F1          	pop	af
3719  114B  7D          	ld	a,l
3720  114C  32 00 00    	ld	(_dirs),a
3721  114F  D6 80       	sub	a,0x80
3722  1151  CA EF 11    	jp	Z,l_game_menu_handle_00113
3723  1154  21 05 00    	ld	hl,0x0005
3724  1157  E5          	push	hl
3725  1158  2A 00 00    	ld	hl,(_frame_time)
3726  115B  E5          	push	hl
3727  115C  CD DB 19    	call	_game_check_time
3728  115F  F1          	pop	af
3729  1160  F1          	pop	af
3730  1161  7D          	ld	a,l
3731  1162  B7          	or	a, a
3732  1163  28 58       	jr	Z,l_game_menu_handle_00106
3733  1165  3A 00 00    	ld	a,(_dirs)
3734  1168  B7          	or	a, a
3735  1169  28 32       	jr	Z,l_game_menu_handle_00104
3736  116B  21 00 00    	ld	hl,_ay_effect_03
3737  116E  CD 00 00    	call	_ay_fx_play
3738  1171  CD 00 00    	call	_sound_slide
3739  1174  3A 00 00    	ld	a,(_s_lin1)
3740  1177  07          	rlca
3741  1178  07          	rlca
3742  1179  07          	rlca
3743  117A  E6 F8       	and	a,0xf8
3744  117C  C6 08       	add	a,0x08
3745  117E  F5          	push	af
3746  117F  33          	inc	sp
3747  1180  26 14       	ld	h,0x14
3748  1182  DD 6E 04    	ld	l,(ix+4)
3749  1185  E5          	push	hl
3750  1186  CD A9 0C    	call	_game_paint_attrib_lin
3751  1189  F1          	pop	af
3752  118A  33          	inc	sp
3753  118B  21 00 00    	ld	hl,_s_lin1
3754  118E  7E          	ld	a,(hl)
3755  118F  DD 86 05    	add	a,(ix+5)
3756  1192  77          	ld	(hl),a
3757  1193  DD 7E 07    	ld	a,(ix+7)
3758  1196  96          	sub	a, (hl)
3759  1197  30 04       	jr	NC,l_game_menu_handle_00104
3760  1199  DD 7E FF    	ld	a,(ix-1)
3761  119C  77          	ld	(hl),a
3762  119D              l_game_menu_handle_00104:
3763  119D  2A 00 00    	ld	hl,(_curr_time)
3764  11A0  22 00 00    	ld	(_frame_time),hl
3765  11A3  3A 00 00    	ld	a,(_s_lin1)
3766  11A6  07          	rlca
3767  11A7  07          	rlca
3768  11A8  07          	rlca
3769  11A9  E6 F8       	and	a,0xf8
3770  11AB  C6 08       	add	a,0x08
3771  11AD  F5          	push	af
3772  11AE  33          	inc	sp
3773  11AF  26 14       	ld	h,0x14
3774  11B1  DD 6E 04    	ld	l,(ix+4)
3775  11B4  E5          	push	hl
3776  11B5  CD D0 0C    	call	_game_paint_attrib_lin_h
3777  11B8  F1          	pop	af
3778  11B9  33          	inc	sp
3779  11BA  CD 2D 19    	call	_game_rotate_attrib
3780  11BD              l_game_menu_handle_00106:
3781  11BD  DD 7E 09    	ld	a,(ix+9)
3782  11C0  DD B6 08    	or	a,(ix+8)
3783  11C3  CA 40 11    	jp	Z,l_game_menu_handle_00111
3784  11C6  DD 6E 08    	ld	l,(ix+8)
3785  11C9  DD 66 09    	ld	h,(ix+9)
3786  11CC  E5          	push	hl
3787  11CD  2A 00 00    	ld	hl,(_entry_time)
3788  11D0  E5          	push	hl
3789  11D1  CD DB 19    	call	_game_check_time
3790  11D4  F1          	pop	af
3791  11D5  F1          	pop	af
3792  11D6  7D          	ld	a,l
3793  11D7  B7          	or	a, a
3794  11D8  CA 40 11    	jp	Z,l_game_menu_handle_00111
3795  11DB  CD 00 00    	call	_ay_is_playing
3796  11DE  7D          	ld	a,l
3797  11DF  B7          	or	a, a
3798  11E0  C2 40 11    	jp	NZ,l_game_menu_handle_00111
3799  11E3  CD 5C 18    	call	_game_hall_of_fame
3800  11E6  DD 6E FF    	ld	l,(ix-1)
3801  11E9  CD 5B 16    	call	_game_menu_back
3802  11EC  C3 40 11    	jp	l_game_menu_handle_00111
3803  11EF              l_game_menu_handle_00113:
3804  11EF  3A 00 00    	ld	a,(_s_lin1)
3805  11F2  DD 96 FF    	sub	a,(ix-1)
3806  11F5  47          	ld	b,a
3807  11F6  DD 7E 05    	ld	a,(ix+5)
3808  11F9  48          	ld	c,b
3809  11FA  47          	ld	b,a
3810  11FB  C5          	push	bc
3811  11FC  CD 00 00    	call	__divuchar_callee
3812  11FF  33          	inc	sp
3813  1200  DD E1       	pop	ix
3814  1202  C9          	ret
3815  1203              	SECTION code_compiler
3816  1203              ;	---------------------------------
3817  1203              ; Function game_end
3818  1203              ; ---------------------------------
3819  1203              _game_end:
3820  1203  CD 00 00    	call	___sdcc_enter_ix
3821  1206  F5          	push	af
3822  1207  F5          	push	af
3823  1208  CD 95 08    	call	_game_kill_all_sprites
3824  120B  CD 00 00    	call	_spr_draw_clear
3825  120E  21 00 00    	ld	hl,_pb_midi_title
3826  1211  CD 00 00    	call	_ay_midi_play
3827  1214  21 00 00    	ld	hl,_tmp0
3828  1217  36 04       	ld	(hl),0x04
3829  1219              l_game_end_00129:
3830  1219  3A 00 00    	ld	a,(_tmp0)
3831  121C  F5          	push	af
3832  121D  33          	inc	sp
3833  121E  21 8C 50    	ld	hl,0x508c
3834  1221  E5          	push	hl
3835  1222  CD 00 00    	call	_NIRVANAP_drawT_callee
3836  1225  21 00 00    	ld	hl,_tmp0
3837  1228  7E          	ld	a,(hl)
3838  1229  3C          	inc	a
3839  122A  3C          	inc	a
3840  122B  77          	ld	(hl),a
3841  122C  D6 1C       	sub	a,0x1c
3842  122E  38 E9       	jr	C,l_game_end_00129
3843  1230  36 04       	ld	(hl),0x04
3844  1232              l_game_end_00131:
3845  1232  3A 00 00    	ld	a,(_tmp0)
3846  1235  F5          	push	af
3847  1236  33          	inc	sp
3848  1237  21 8C 60    	ld	hl,0x608c
3849  123A  E5          	push	hl
3850  123B  CD 00 00    	call	_NIRVANAP_drawT_callee
3851  123E  21 00 00    	ld	hl,_tmp0
3852  1241  7E          	ld	a,(hl)
3853  1242  3C          	inc	a
3854  1243  3C          	inc	a
3855  1244  77          	ld	(hl),a
3856  1245  D6 1C       	sub	a,0x1c
3857  1247  38 E9       	jr	C,l_game_end_00131
3858  1249  36 04       	ld	(hl),0x04
3859  124B              l_game_end_00133:
3860  124B  3A 00 00    	ld	a,(_tmp0)
3861  124E  F5          	push	af
3862  124F  33          	inc	sp
3863  1250  21 8C 70    	ld	hl,0x708c
3864  1253  E5          	push	hl
3865  1254  CD 00 00    	call	_NIRVANAP_drawT_callee
3866  1257  21 00 00    	ld	hl,_tmp0
3867  125A  7E          	ld	a,(hl)
3868  125B  3C          	inc	a
3869  125C  3C          	inc	a
3870  125D  77          	ld	(hl),a
3871  125E  D6 1C       	sub	a,0x1c
3872  1260  38 E9       	jr	C,l_game_end_00133
3873  1262  21 50 18    	ld	hl,0x1850
3874  1265  E5          	push	hl
3875  1266  3E D6       	ld	a,0xd6
3876  1268  F5          	push	af
3877  1269  33          	inc	sp
3878  126A  CD 00 00    	call	_NIRVANAP_drawT_callee
3879  126D  21 9C 01    	ld	hl,0x019c
3880  1270  E5          	push	hl
3881  1271  21 01 1D    	ld	hl,0x1d01
3882  1274  E5          	push	hl
3883  1275  3E 20       	ld	a,0x20
3884  1277  F5          	push	af
3885  1278  33          	inc	sp
3886  1279  CD 64 10    	call	_game_menu_e
3887  127C  F1          	pop	af
3888  127D  33          	inc	sp
3889  127E  21 9F FF    	ld	hl,0xff9f
3890  1281  E3          	ex	(sp),hl
3891  1282  21 01 1D    	ld	hl,0x1d01
3892  1285  E5          	push	hl
3893  1286  3E 80       	ld	a,0x80
3894  1288  F5          	push	af
3895  1289  33          	inc	sp
3896  128A  CD 64 10    	call	_game_menu_e
3897  128D  F1          	pop	af
3898  128E  F1          	pop	af
3899  128F  33          	inc	sp
3900  1290  3E 00       	ld	a,0x00
3901  1292  DD 77 FD    	ld	(ix-3),a
3902  1295  DD 77 FC    	ld	(ix-4),a
3903  1298  3A 00 00    	ld	a,(_game_two_player)
3904  129B  B7          	or	a, a
3905  129C  28 16       	jr	Z,l_game_end_00109
3906  129E  3A 00 00    	ld	a,(_game_lives)
3907  12A1  B7          	or	a, a
3908  12A2  28 04       	jr	Z,l_game_end_00105
3909  12A4  DD 36 FD 01 	ld	(ix-3),0x01
3910  12A8              l_game_end_00105:
3911  12A8  3A 01 00    	ld	a, (_game_lives + 1)
3912  12AB  B7          	or	a, a
3913  12AC  28 0A       	jr	Z,l_game_end_00110
3914  12AE  DD 36 FC 01 	ld	(ix-4),0x01
3915  12B2  18 04       	jr	l_game_end_00110
3916  12B4              l_game_end_00109:
3917  12B4  DD 36 FD 01 	ld	(ix-3),0x01
3918  12B8              l_game_end_00110:
3919  12B8  DD 7E FD    	ld	a,(ix-3)
3920  12BB  3D          	dec	a
3921  12BC  20 04       	jr	NZ,l_game_end_00221
3922  12BE  3E 01       	ld	a,0x01
3923  12C0  18 01       	jr	l_game_end_00222
3924  12C2              l_game_end_00221:
3925  12C2  AF          	xor	a,a
3926  12C3              l_game_end_00222:
3927  12C3  DD 77 FF    	ld	(ix-1),a
3928  12C6  B7          	or	a, a
3929  12C7  28 1C       	jr	Z,l_game_end_00112
3930  12C9  DD 7E FC    	ld	a,(ix-4)
3931  12CC  B7          	or	a, a
3932  12CD  20 16       	jr	NZ,l_game_end_00112
3933  12CF  21 62 01    	ld	hl,___str_40
3934  12D2  E5          	push	hl
3935  12D3  21 13 01    	ld	hl,0x0113
3936  12D6  E5          	push	hl
3937  12D7  CD 00 00    	call	_zx_print_str
3938  12DA  21 50 0C    	ld	hl,0x0c50
3939  12DD  E5          	push	hl
3940  12DE  3E 03       	ld	a,0x03
3941  12E0  F5          	push	af
3942  12E1  33          	inc	sp
3943  12E2  CD 00 00    	call	_NIRVANAP_drawT_callee
3944  12E5              l_game_end_00112:
3945  12E5  DD 7E FC    	ld	a,(ix-4)
3946  12E8  3D          	dec	a
3947  12E9  20 04       	jr	NZ,l_game_end_00223
3948  12EB  3E 01       	ld	a,0x01
3949  12ED  18 01       	jr	l_game_end_00224
3950  12EF              l_game_end_00223:
3951  12EF  AF          	xor	a,a
3952  12F0              l_game_end_00224:
3953  12F0  DD 77 FE    	ld	(ix-2),a
3954  12F3  DD 7E FD    	ld	a,(ix-3)
3955  12F6  B7          	or	a, a
3956  12F7  20 1C       	jr	NZ,l_game_end_00115
3957  12F9  DD 7E FE    	ld	a,(ix-2)
3958  12FC  B7          	or	a, a
3959  12FD  28 16       	jr	Z,l_game_end_00115
3960  12FF  21 6C 01    	ld	hl,___str_41
3961  1302  E5          	push	hl
3962  1303  21 13 01    	ld	hl,0x0113
3963  1306  E5          	push	hl
3964  1307  CD 00 00    	call	_zx_print_str
3965  130A  21 60 0E    	ld	hl,0x0e60
3966  130D  E5          	push	hl
3967  130E  3E 1B       	ld	a,0x1b
3968  1310  F5          	push	af
3969  1311  33          	inc	sp
3970  1312  CD 00 00    	call	_NIRVANAP_drawT_callee
3971  1315              l_game_end_00115:
3972  1315  DD 7E FF    	ld	a,(ix-1)
3973  1318  B7          	or	a, a
3974  1319  28 27       	jr	Z,l_game_end_00118
3975  131B  DD 7E FE    	ld	a,(ix-2)
3976  131E  B7          	or	a, a
3977  131F  28 21       	jr	Z,l_game_end_00118
3978  1321  21 75 01    	ld	hl,___str_42
3979  1324  E5          	push	hl
3980  1325  21 13 01    	ld	hl,0x0113
3981  1328  E5          	push	hl
3982  1329  CD 00 00    	call	_zx_print_str
3983  132C  21 50 0C    	ld	hl,0x0c50
3984  132F  E5          	push	hl
3985  1330  3E 03       	ld	a,0x03
3986  1332  F5          	push	af
3987  1333  33          	inc	sp
3988  1334  CD 00 00    	call	_NIRVANAP_drawT_callee
3989  1337  21 60 0E    	ld	hl,0x0e60
3990  133A  E5          	push	hl
3991  133B  3E 1B       	ld	a,0x1b
3992  133D  F5          	push	af
3993  133E  33          	inc	sp
3994  133F  CD 00 00    	call	_NIRVANAP_drawT_callee
3995  1342              l_game_end_00118:
3996  1342  21 C8 00    	ld	hl,0x00c8
3997  1345  E5          	push	hl
3998  1346  21 01 1F    	ld	hl,0x1f01
3999  1349  E5          	push	hl
4000  134A  3E 13       	ld	a,0x13
4001  134C  F5          	push	af
4002  134D  33          	inc	sp
4003  134E  CD 49 19    	call	_game_colour_message
4004  1351  F1          	pop	af
4005  1352  F1          	pop	af
4006  1353  33          	inc	sp
4007  1354  DD 7E FF    	ld	a,(ix-1)
4008  1357  B7          	or	a, a
4009  1358  28 32       	jr	Z,l_game_end_00121
4010  135A  DD 7E FC    	ld	a,(ix-4)
4011  135D  B7          	or	a, a
4012  135E  20 2C       	jr	NZ,l_game_end_00121
4013  1360  21 40 12    	ld	hl,0x1240
4014  1363  E5          	push	hl
4015  1364  3E BE       	ld	a,0xbe
4016  1366  F5          	push	af
4017  1367  33          	inc	sp
4018  1368  CD 00 00    	call	_NIRVANAP_drawT_callee
4019  136B  21 50 12    	ld	hl,0x1250
4020  136E  E5          	push	hl
4021  136F  3E CA       	ld	a,0xca
4022  1371  F5          	push	af
4023  1372  33          	inc	sp
4024  1373  CD 00 00    	call	_NIRVANAP_drawT_callee
4025  1376  21 89 01    	ld	hl,___str_43
4026  1379  E5          	push	hl
4027  137A  21 13 01    	ld	hl,0x0113
4028  137D  E5          	push	hl
4029  137E  CD 00 00    	call	_zx_print_str
4030  1381  21 40 0C    	ld	hl,0x0c40
4031  1384  E5          	push	hl
4032  1385  3E BE       	ld	a,0xbe
4033  1387  F5          	push	af
4034  1388  33          	inc	sp
4035  1389  CD 00 00    	call	_NIRVANAP_drawT_callee
4036  138C              l_game_end_00121:
4037  138C  DD 7E FD    	ld	a,(ix-3)
4038  138F  B7          	or	a, a
4039  1390  20 32       	jr	NZ,l_game_end_00124
4040  1392  DD 7E FE    	ld	a,(ix-2)
4041  1395  B7          	or	a, a
4042  1396  28 2C       	jr	Z,l_game_end_00124
4043  1398  21 50 12    	ld	hl,0x1250
4044  139B  E5          	push	hl
4045  139C  3E BE       	ld	a,0xbe
4046  139E  F5          	push	af
4047  139F  33          	inc	sp
4048  13A0  CD 00 00    	call	_NIRVANAP_drawT_callee
4049  13A3  21 60 12    	ld	hl,0x1260
4050  13A6  E5          	push	hl
4051  13A7  3E CA       	ld	a,0xca
4052  13A9  F5          	push	af
4053  13AA  33          	inc	sp
4054  13AB  CD 00 00    	call	_NIRVANAP_drawT_callee
4055  13AE  21 89 01    	ld	hl,___str_43
4056  13B1  E5          	push	hl
4057  13B2  21 13 01    	ld	hl,0x0113
4058  13B5  E5          	push	hl
4059  13B6  CD 00 00    	call	_zx_print_str
4060  13B9  21 50 0E    	ld	hl,0x0e50
4061  13BC  E5          	push	hl
4062  13BD  3E BE       	ld	a,0xbe
4063  13BF  F5          	push	af
4064  13C0  33          	inc	sp
4065  13C1  CD 00 00    	call	_NIRVANAP_drawT_callee
4066  13C4              l_game_end_00124:
4067  13C4  DD 7E FF    	ld	a,(ix-1)
4068  13C7  B7          	or	a, a
4069  13C8  28 53       	jr	Z,l_game_end_00127
4070  13CA  DD 7E FE    	ld	a,(ix-2)
4071  13CD  B7          	or	a, a
4072  13CE  28 4D       	jr	Z,l_game_end_00127
4073  13D0  21 9D 01    	ld	hl,___str_44
4074  13D3  E5          	push	hl
4075  13D4  21 13 01    	ld	hl,0x0113
4076  13D7  E5          	push	hl
4077  13D8  CD 00 00    	call	_zx_print_str
4078  13DB  21 40 12    	ld	hl,0x1240
4079  13DE  E5          	push	hl
4080  13DF  3E BE       	ld	a,0xbe
4081  13E1  F5          	push	af
4082  13E2  33          	inc	sp
4083  13E3  CD 00 00    	call	_NIRVANAP_drawT_callee
4084  13E6  21 50 12    	ld	hl,0x1250
4085  13E9  E5          	push	hl
4086  13EA  3E CA       	ld	a,0xca
4087  13EC  F5          	push	af
4088  13ED  33          	inc	sp
4089  13EE  CD 00 00    	call	_NIRVANAP_drawT_callee
4090  13F1  21 50 10    	ld	hl,0x1050
4091  13F4  E5          	push	hl
4092  13F5  3E BE       	ld	a,0xbe
4093  13F7  F5          	push	af
4094  13F8  33          	inc	sp
4095  13F9  CD 00 00    	call	_NIRVANAP_drawT_callee
4096  13FC  21 60 10    	ld	hl,0x1060
4097  13FF  E5          	push	hl
4098  1400  3E CA       	ld	a,0xca
4099  1402  F5          	push	af
4100  1403  33          	inc	sp
4101  1404  CD 00 00    	call	_NIRVANAP_drawT_callee
4102  1407  21 40 0C    	ld	hl,0x0c40
4103  140A  E5          	push	hl
4104  140B  3E BE       	ld	a,0xbe
4105  140D  F5          	push	af
4106  140E  33          	inc	sp
4107  140F  CD 00 00    	call	_NIRVANAP_drawT_callee
4108  1412  21 50 0E    	ld	hl,0x0e50
4109  1415  E5          	push	hl
4110  1416  3E BE       	ld	a,0xbe
4111  1418  F5          	push	af
4112  1419  33          	inc	sp
4113  141A  CD 00 00    	call	_NIRVANAP_drawT_callee
4114  141D              l_game_end_00127:
4115  141D  21 C8 00    	ld	hl,0x00c8
4116  1420  E5          	push	hl
4117  1421  21 01 1F    	ld	hl,0x1f01
4118  1424  E5          	push	hl
4119  1425  3E 13       	ld	a,0x13
4120  1427  F5          	push	af
4121  1428  33          	inc	sp
4122  1429  CD 49 19    	call	_game_colour_message
4123  142C  F1          	pop	af
4124  142D  33          	inc	sp
4125  142E  21 B3 01    	ld	hl,___str_45
4126  1431  E3          	ex	(sp),hl
4127  1432  21 13 01    	ld	hl,0x0113
4128  1435  E5          	push	hl
4129  1436  CD 00 00    	call	_zx_print_str
4130  1439  21 C8 00    	ld	hl,0x00c8
4131  143C  E5          	push	hl
4132  143D  21 01 1F    	ld	hl,0x1f01
4133  1440  E5          	push	hl
4134  1441  3E 13       	ld	a,0x13
4135  1443  F5          	push	af
4136  1444  33          	inc	sp
4137  1445  CD 49 19    	call	_game_colour_message
4138  1448  F1          	pop	af
4139  1449  33          	inc	sp
4140  144A  21 CA 01    	ld	hl,___str_46
4141  144D  E3          	ex	(sp),hl
4142  144E  21 13 01    	ld	hl,0x0113
4143  1451  E5          	push	hl
4144  1452  CD 00 00    	call	_zx_print_str
4145  1455  21 C8 00    	ld	hl,0x00c8
4146  1458  E5          	push	hl
4147  1459  21 01 1F    	ld	hl,0x1f01
4148  145C  E5          	push	hl
4149  145D  3E 13       	ld	a,0x13
4150  145F  F5          	push	af
4151  1460  33          	inc	sp
4152  1461  CD 49 19    	call	_game_colour_message
4153  1464  F1          	pop	af
4154  1465  F1          	pop	af
4155  1466  33          	inc	sp
4156  1467  CD 00 00    	call	_spr_draw_clear
4157  146A  DD F9       	ld	sp, ix
4158  146C  DD E1       	pop	ix
4159  146E  C9          	ret
4160  146F              	SECTION rodata_compiler
4161  0162              ___str_40:
4162  0162  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4163  016B  00          	DEFB 0x00
4164  016C              	SECTION rodata_compiler
4165  016C              ___str_41:
4166  016C  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4167  0174  00          	DEFB 0x00
4168  0175              	SECTION rodata_compiler
4169  0175              ___str_42:
4170  0175  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4171  0188  00          	DEFB 0x00
4172  0189              	SECTION rodata_compiler
4173  0189              ___str_43:
4174  0189  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4175  019C  00          	DEFB 0x00
4176  019D              	SECTION rodata_compiler
4177  019D              ___str_44:
4178  019D  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4179  01B2  00          	DEFB 0x00
4180  01B3              	SECTION rodata_compiler
4181  01B3              ___str_45:
4182  01B3  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4183  01C9  00          	DEFB 0x00
4184  01CA              	SECTION rodata_compiler
4185  01CA              ___str_46:
4186  01CA  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4187  01E0  00          	DEFB 0x00
4188  01E1              	SECTION code_compiler
4189  146F              ;	---------------------------------
4190  146F              ; Function game_hall_check
4191  146F              ; ---------------------------------
4192  146F              _game_hall_check:
4193  146F  5D          	ld	e,l
4194  1470  01 00 00    	ld	bc,_player_score+0
4195  1473  26 00       	ld	h,0x00
4196  1475  6B          	ld	l, e
4197  1476  29          	add	hl, hl
4198  1477  09          	add	hl,bc
4199  1478  4E          	ld	c,(hl)
4200  1479  23          	inc	hl
4201  147A  46          	ld	b,(hl)
4202  147B  2A 3A 00    	ld	hl,(_hof + 0x003a)
4203  147E  AF          	xor	a,a
4204  147F  ED 42       	sbc	hl,bc
4205  1481  30 09       	jr	NC,l_game_hall_check_00104
4206  1483  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4207  1487  21 36 00    	ld	hl,+(_hof + 0x0036)
4208  148A  18 14       	jr	l_game_hall_check_00106
4209  148C              l_game_hall_check_00104:
4210  148C  2A 34 00    	ld	hl,(_hof + 0x0034)
4211  148F  AF          	xor	a,a
4212  1490  ED 42       	sbc	hl,bc
4213  1492  30 09       	jr	NC,l_game_hall_check_00105
4214  1494  ED 43 34 00 	ld	(_hof + 0x0034),bc
4215  1498  21 30 00    	ld	hl,+(_hof + 0x0030)
4216  149B  18 03       	jr	l_game_hall_check_00106
4217  149D              l_game_hall_check_00105:
4218  149D  21 00 00    	ld	hl,0x0000
4219  14A0              l_game_hall_check_00106:
4220  14A0  C9          	ret
4221  14A1              	SECTION code_compiler
4222  14A1              ;	---------------------------------
4223  14A1              ; Function compare_scores
4224  14A1              ; ---------------------------------
4225  14A1              _compare_scores:
4226  14A1  CD 00 00    	call	___sdcc_enter_ix
4227  14A4  DD 6E 06    	ld	l,(ix+6)
4228  14A7  DD 66 07    	ld	h,(ix+7)
4229  14AA  11 04 00    	ld	de,0x0004
4230  14AD  19          	add	hl, de
4231  14AE  4E          	ld	c,(hl)
4232  14AF  23          	inc	hl
4233  14B0  46          	ld	b,(hl)
4234  14B1  DD 6E 04    	ld	l,(ix+4)
4235  14B4  DD 66 05    	ld	h,(ix+5)
4236  14B7  11 04 00    	ld	de,0x0004
4237  14BA  19          	add	hl, de
4238  14BB  5E          	ld	e,(hl)
4239  14BC  23          	inc	hl
4240  14BD  56          	ld	d,(hl)
4241  14BE  79          	ld	a,c
4242  14BF  93          	sub	a, e
4243  14C0  6F          	ld	l,a
4244  14C1  78          	ld	a,b
4245  14C2  9A          	sbc	a, d
4246  14C3  67          	ld	h,a
4247  14C4  DD E1       	pop	ix
4248  14C6  C9          	ret
4249  14C7              	SECTION code_compiler
4250  14C7              ;	---------------------------------
4251  14C7              ; Function game_hall_enter
4252  14C7              ; ---------------------------------
4253  14C7              _game_hall_enter:
4254  14C7  CD 00 00    	call	___sdcc_enter_ix
4255  14CA  21 F7 FF    	ld	hl,-9
4256  14CD  39          	add	hl,sp
4257  14CE  F9          	ld	sp,hl
4258  14CF  CD 00 00    	call	_spr_draw_clear
4259  14D2  2E 00       	ld	l,0x00
4260  14D4  CD 85 0C    	call	_game_paint_attrib
4261  14D7  ED 4B 00 00 	ld	bc,(_player_score)
4262  14DB  2A 02 00    	ld	hl, (_player_score + 2)
4263  14DE  AF          	xor	a,a
4264  14DF  ED 42       	sbc	hl,bc
4265  14E1  30 0F       	jr	NC,l_game_hall_enter_00102
4266  14E3  2E 00       	ld	l,0x00
4267  14E5  CD 6F 14    	call	_game_hall_check
4268  14E8  E5          	push	hl
4269  14E9  2E 01       	ld	l,0x01
4270  14EB  CD 6F 14    	call	_game_hall_check
4271  14EE  EB          	ex	de,hl
4272  14EF  C1          	pop	bc
4273  14F0  18 0E       	jr	l_game_hall_enter_00103
4274  14F2              l_game_hall_enter_00102:
4275  14F2  2E 01       	ld	l,0x01
4276  14F4  CD 6F 14    	call	_game_hall_check
4277  14F7  E5          	push	hl
4278  14F8  2E 00       	ld	l,0x00
4279  14FA  CD 6F 14    	call	_game_hall_check
4280  14FD  D1          	pop	de
4281  14FE  4D          	ld	c,l
4282  14FF  44          	ld	b,h
4283  1500              l_game_hall_enter_00103:
4284  1500  78          	ld	a,b
4285  1501  B1          	or	a,c
4286  1502  20 05       	jr	NZ,l_game_hall_enter_00125
4287  1504  7A          	ld	a,d
4288  1505  B3          	or	a,e
4289  1506  CA 4E 16    	jp	Z,l_game_hall_enter_00126
4290  1509              l_game_hall_enter_00125:
4291  1509  3E 00       	ld	a,0x00
4292  150B  DD 77 FB    	ld	(ix-5),a
4293  150E  DD 77 F9    	ld	(ix-7),a
4294  1511  DD 77 F8    	ld	(ix-8),a
4295  1514  DD 77 FA    	ld	(ix-6),a
4296  1517  DD 36 F7 00 	ld	(ix-9),0x00
4297  151B  78          	ld	a,b
4298  151C  B1          	or	a,c
4299  151D  28 0D       	jr	Z,l_game_hall_enter_00105
4300  151F  DD 36 FA 01 	ld	(ix-6),0x01
4301  1523  C5          	push	bc
4302  1524  D5          	push	de
4303  1525  2E 00       	ld	l,0x00
4304  1527  CD 71 16    	call	_game_hall_enter_phs
4305  152A  D1          	pop	de
4306  152B  C1          	pop	bc
4307  152C              l_game_hall_enter_00105:
4308  152C  7A          	ld	a,d
4309  152D  B3          	or	a,e
4310  152E  28 0D       	jr	Z,l_game_hall_enter_00107
4311  1530  DD 36 F7 05 	ld	(ix-9),0x05
4312  1534  C5          	push	bc
4313  1535  D5          	push	de
4314  1536  2E 01       	ld	l,0x01
4315  1538  CD 71 16    	call	_game_hall_enter_phs
4316  153B  D1          	pop	de
4317  153C  C1          	pop	bc
4318  153D              l_game_hall_enter_00107:
4319  153D  C5          	push	bc
4320  153E  D5          	push	de
4321  153F  21 E1 01    	ld	hl,___str_47
4322  1542  E5          	push	hl
4323  1543  21 02 0A    	ld	hl,0x0a02
4324  1546  E5          	push	hl
4325  1547  CD 00 00    	call	_zx_print_str
4326  154A  21 EE 01    	ld	hl,___str_48
4327  154D  E5          	push	hl
4328  154E  21 12 06    	ld	hl,0x0612
4329  1551  E5          	push	hl
4330  1552  CD 00 00    	call	_zx_print_str
4331  1555  21 01 02    	ld	hl,___str_49
4332  1558  E5          	push	hl
4333  1559  21 13 06    	ld	hl,0x0613
4334  155C  E5          	push	hl
4335  155D  CD 00 00    	call	_zx_print_str
4336  1560  D1          	pop	de
4337  1561  C1          	pop	bc
4338  1562  21 FF FF    	ld	hl,-1
4339  1565  CD 00 00    	call	____sdcc_store_debc_hlix
4340  1568              l_game_hall_enter_00122:
4341  1568  DD 7E FA    	ld	a,(ix-6)
4342  156B  DD 86 F7    	add	a,(ix-9)
4343  156E  B7          	or	a, a
4344  156F  CA 36 16    	jp	Z,l_game_hall_enter_00124
4345  1572  21 05 00    	ld	hl,0x0005
4346  1575  E5          	push	hl
4347  1576  2A 00 00    	ld	hl,(_frame_time)
4348  1579  E5          	push	hl
4349  157A  CD DB 19    	call	_game_check_time
4350  157D  F1          	pop	af
4351  157E  F1          	pop	af
4352  157F  7D          	ld	a,l
4353  1580  B7          	or	a, a
4354  1581  28 36       	jr	Z,l_game_hall_enter_00113
4355  1583  DD 7E F8    	ld	a,(ix-8)
4356  1586  D6 01       	sub	a,0x01
4357  1588  3E 00       	ld	a,0x00
4358  158A  17          	rla
4359  158B  DD 77 F8    	ld	(ix-8),a
4360  158E  DD 7E FA    	ld	a,(ix-6)
4361  1591  B7          	or	a, a
4362  1592  28 0B       	jr	Z,l_game_hall_enter_00109
4363  1594  DD 66 F8    	ld	h,(ix-8)
4364  1597  DD 6E FA    	ld	l,(ix-6)
4365  159A  E5          	push	hl
4366  159B  CD E8 16    	call	_game_hall_print_p
4367  159E  F1          	pop	af
4368  159F              l_game_hall_enter_00109:
4369  159F  DD 7E F7    	ld	a,(ix-9)
4370  15A2  B7          	or	a, a
4371  15A3  28 0B       	jr	Z,l_game_hall_enter_00111
4372  15A5  DD 66 F8    	ld	h,(ix-8)
4373  15A8  DD 6E F7    	ld	l,(ix-9)
4374  15AB  E5          	push	hl
4375  15AC  CD E8 16    	call	_game_hall_print_p
4376  15AF  F1          	pop	af
4377  15B0              l_game_hall_enter_00111:
4378  15B0  CD 2D 19    	call	_game_rotate_attrib
4379  15B3  2A 00 00    	ld	hl,(_curr_time)
4380  15B6  22 00 00    	ld	(_frame_time),hl
4381  15B9              l_game_hall_enter_00113:
4382  15B9  21 00 00    	ld	hl,_k1
4383  15BC  E5          	push	hl
4384  15BD  2A 00 00    	ld	hl,(_joyfunc1)
4385  15C0  CD 00 00    	call	___sdcc_call_hl
4386  15C3  F1          	pop	af
4387  15C4  7D          	ld	a,l
4388  15C5  32 00 00    	ld	(_dirs),a
4389  15C8  DD 7E FB    	ld	a,(ix-5)
4390  15CB  B7          	or	a, a
4391  15CC  20 22       	jr	NZ,l_game_hall_enter_00115
4392  15CE  DD 7E FA    	ld	a,(ix-6)
4393  15D1  B7          	or	a, a
4394  15D2  28 1C       	jr	Z,l_game_hall_enter_00115
4395  15D4  DD 6E FA    	ld	l,(ix-6)
4396  15D7  CD A6 17    	call	_game_hall_edit_p
4397  15DA  DD 75 FA    	ld	(ix-6),l
4398  15DD  7D          	ld	a,l
4399  15DE  B7          	or	a, a
4400  15DF  20 0F       	jr	NZ,l_game_hall_enter_00115
4401  15E1  DD 5E FC    	ld	e,(ix-4)
4402  15E4  DD 56 FD    	ld	d,(ix-3)
4403  15E7  AF          	xor	a,a
4404  15E8  21 00 00    	ld	hl,_initials
4405  15EB              l_game_hall_enter_00190:
4406  15EB  BE          	cp	a, (hl)
4407  15EC  ED A0       	ldi
4408  15EE  20 FB       	jr	NZ, l_game_hall_enter_00190
4409  15F0              l_game_hall_enter_00115:
4410  15F0  3A 00 00    	ld	a,(_dirs)
4411  15F3  DD 77 FB    	ld	(ix-5),a
4412  15F6  21 00 00    	ld	hl,_k2
4413  15F9  E5          	push	hl
4414  15FA  2A 00 00    	ld	hl,(_joyfunc2)
4415  15FD  CD 00 00    	call	___sdcc_call_hl
4416  1600  F1          	pop	af
4417  1601  7D          	ld	a,l
4418  1602  32 00 00    	ld	(_dirs),a
4419  1605  DD 7E F9    	ld	a,(ix-7)
4420  1608  B7          	or	a, a
4421  1609  20 22       	jr	NZ,l_game_hall_enter_00119
4422  160B  DD 7E F7    	ld	a,(ix-9)
4423  160E  B7          	or	a, a
4424  160F  28 1C       	jr	Z,l_game_hall_enter_00119
4425  1611  DD 6E F7    	ld	l,(ix-9)
4426  1614  CD A6 17    	call	_game_hall_edit_p
4427  1617  DD 75 F7    	ld	(ix-9),l
4428  161A  7D          	ld	a,l
4429  161B  B7          	or	a, a
4430  161C  20 0F       	jr	NZ,l_game_hall_enter_00119
4431  161E  DD 5E FE    	ld	e,(ix-2)
4432  1621  DD 56 FF    	ld	d,(ix-1)
4433  1624  AF          	xor	a,a
4434  1625  21 04 00    	ld	hl,+(_initials + 0x0004)
4435  1628              l_game_hall_enter_00191:
4436  1628  BE          	cp	a, (hl)
4437  1629  ED A0       	ldi
4438  162B  20 FB       	jr	NZ, l_game_hall_enter_00191
4439  162D              l_game_hall_enter_00119:
4440  162D  3A 00 00    	ld	a,(_dirs)
4441  1630  DD 77 F9    	ld	(ix-7),a
4442  1633  C3 68 15    	jp	l_game_hall_enter_00122
4443  1636              l_game_hall_enter_00124:
4444  1636  CD 00 00    	call	_ay_reset
4445  1639  CD 00 00    	call	_spr_draw_clear
4446  163C  01 A1 14    	ld	bc,_compare_scores
4447  163F  C5          	push	bc
4448  1640  21 06 00    	ld	hl,0x0006
4449  1643  E5          	push	hl
4450  1644  2E 0A       	ld	l,0x0a
4451  1646  E5          	push	hl
4452  1647  21 00 00    	ld	hl,_hof
4453  164A  E5          	push	hl
4454  164B  CD 00 00    	call	__insertion_sort__callee
4455  164E              l_game_hall_enter_00126:
4456  164E  CD 5C 18    	call	_game_hall_of_fame
4457  1651  2E 00       	ld	l,0x00
4458  1653  CD 5B 16    	call	_game_menu_back
4459  1656  DD F9       	ld	sp, ix
4460  1658  DD E1       	pop	ix
4461  165A  C9          	ret
4462  165B              	SECTION rodata_compiler
4463  01E1              ___str_47:
4464  01E1  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4465  01ED  00          	DEFB 0x00
4466  01EE              	SECTION rodata_compiler
4467  01EE              ___str_48:
4468  01EE  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4469  0200  00          	DEFB 0x00
4470  0201              	SECTION rodata_compiler
4471  0201              ___str_49:
4472  0201  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4473  0214  00          	DEFB 0x00
4474  0215              	SECTION code_compiler
4475  165B              ;	---------------------------------
4476  165B              ; Function game_menu_back
4477  165B              ; ---------------------------------
4478  165B              _game_menu_back:
4479  165B  7D          	ld	a,l
4480  165C  32 00 00    	ld	(_s_lin1),a
4481  165F  21 00 00    	ld	hl,_game_menu_sel
4482  1662  36 00       	ld	(hl),0x00
4483  1664  CD 75 0F    	call	_game_menu_top_paint
4484  1667  CD E9 0F    	call	_game_menu_paint
4485  166A  2A 00 00    	ld	hl,(_curr_time)
4486  166D  22 00 00    	ld	(_entry_time),hl
4487  1670  C9          	ret
4488  1671              	SECTION code_compiler
4489  1671              ;	---------------------------------
4490  1671              ; Function game_hall_enter_phs
4491  1671              ; ---------------------------------
4492  1671              _game_hall_enter_phs:
4493  1671  7D          	ld	a,l
4494  1672  B7          	or	a, a
4495  1673  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4496  1675  21 9C 01    	ld	hl,0x019c
4497  1678  E5          	push	hl
4498  1679  21 02 0C    	ld	hl,0x0c02
4499  167C  E5          	push	hl
4500  167D  3E 30       	ld	a,0x30
4501  167F  F5          	push	af
4502  1680  33          	inc	sp
4503  1681  CD 64 10    	call	_game_menu_e
4504  1684  F1          	pop	af
4505  1685  33          	inc	sp
4506  1686  21 9F FF    	ld	hl,0xff9f
4507  1689  E3          	ex	(sp),hl
4508  168A  21 02 0C    	ld	hl,0x0c02
4509  168D  E5          	push	hl
4510  168E  3E 7C       	ld	a,0x7c
4511  1690  F5          	push	af
4512  1691  33          	inc	sp
4513  1692  CD 64 10    	call	_game_menu_e
4514  1695  F1          	pop	af
4515  1696  33          	inc	sp
4516  1697  21 15 02    	ld	hl,___str_50
4517  169A  E3          	ex	(sp),hl
4518  169B  21 07 05    	ld	hl,0x0507
4519  169E  E5          	push	hl
4520  169F  CD 00 00    	call	_zx_print_str
4521  16A2  21 1A 02    	ld	hl,___str_51
4522  16A5  E5          	push	hl
4523  16A6  21 08 05    	ld	hl,0x0508
4524  16A9  E5          	push	hl
4525  16AA  CD 00 00    	call	_zx_print_str
4526  16AD  18 38       	jr	l_game_hall_enter_phs_00104
4527  16AF              l_game_hall_enter_phs_00102:
4528  16AF  21 9C 01    	ld	hl,0x019c
4529  16B2  E5          	push	hl
4530  16B3  21 12 1C    	ld	hl,0x1c12
4531  16B6  E5          	push	hl
4532  16B7  3E 30       	ld	a,0x30
4533  16B9  F5          	push	af
4534  16BA  33          	inc	sp
4535  16BB  CD 64 10    	call	_game_menu_e
4536  16BE  F1          	pop	af
4537  16BF  33          	inc	sp
4538  16C0  21 9F FF    	ld	hl,0xff9f
4539  16C3  E3          	ex	(sp),hl
4540  16C4  21 12 1C    	ld	hl,0x1c12
4541  16C7  E5          	push	hl
4542  16C8  3E 7C       	ld	a,0x7c
4543  16CA  F5          	push	af
4544  16CB  33          	inc	sp
4545  16CC  CD 64 10    	call	_game_menu_e
4546  16CF  F1          	pop	af
4547  16D0  33          	inc	sp
4548  16D1  21 15 02    	ld	hl,___str_50
4549  16D4  E3          	ex	(sp),hl
4550  16D5  21 07 15    	ld	hl,0x1507
4551  16D8  E5          	push	hl
4552  16D9  CD 00 00    	call	_zx_print_str
4553  16DC  21 1A 02    	ld	hl,___str_51
4554  16DF  E5          	push	hl
4555  16E0  21 08 15    	ld	hl,0x1508
4556  16E3  E5          	push	hl
4557  16E4  CD 00 00    	call	_zx_print_str
4558  16E7              l_game_hall_enter_phs_00104:
4559  16E7  C9          	ret
4560  16E8              	SECTION rodata_compiler
4561  0215              ___str_50:
4562  0215  48 49 47 48 	DEFM "HIGH"
4563  0219  00          	DEFB 0x00
4564  021A              	SECTION rodata_compiler
4565  021A              ___str_51:
4566  021A  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4567  0220  00          	DEFB 0x00
4568  0221              	SECTION code_compiler
4569  16E8              ;	---------------------------------
4570  16E8              ; Function game_hall_print_p
4571  16E8              ; ---------------------------------
4572  16E8              _game_hall_print_p:
4573  16E8  CD 00 00    	call	___sdcc_enter_ix
4574  16EB  DD 7E 04    	ld	a,(ix+4)
4575  16EE  D6 05       	sub	a,0x05
4576  16F0  30 59       	jr	NC,l_game_hall_print_p_00108
4577  16F2  21 00 00    	ld	hl,_initials
4578  16F5  E5          	push	hl
4579  16F6  21 0D 06    	ld	hl,0x060d
4580  16F9  E5          	push	hl
4581  16FA  CD 00 00    	call	_zx_print_str
4582  16FD  DD 7E 04    	ld	a,(ix+4)
4583  1700  C6 06       	add	a,0x06
4584  1702  47          	ld	b,a
4585  1703  DD 7E 04    	ld	a,(ix+4)
4586  1706  C6 05       	add	a,0x05
4587  1708  57          	ld	d,a
4588  1709  3E 70       	ld	a,0x70
4589  170B  F5          	push	af
4590  170C  33          	inc	sp
4591  170D  4A          	ld	c, d
4592  170E  C5          	push	bc
4593  170F  CD D0 0C    	call	_game_paint_attrib_lin_h
4594  1712  F1          	pop	af
4595  1713  33          	inc	sp
4596  1714  76          	halt
4597  1715  DD 7E 05    	ld	a,(ix+5)
4598  1718  B7          	or	a, a
4599  1719  28 18       	jr	Z,l_game_hall_print_p_00102
4600  171B  21 56 06    	ld	hl,0x0656
4601  171E  E5          	push	hl
4602  171F  3E A9       	ld	a,0xa9
4603  1721  F5          	push	af
4604  1722  33          	inc	sp
4605  1723  CD 00 00    	call	_NIRVANAP_drawT_callee
4606  1726  21 58 06    	ld	hl,0x0658
4607  1729  E5          	push	hl
4608  172A  3E 03       	ld	a,0x03
4609  172C  F5          	push	af
4610  172D  33          	inc	sp
4611  172E  CD 00 00    	call	_NIRVANAP_drawT_callee
4612  1731  18 70       	jr	l_game_hall_print_p_00110
4613  1733              l_game_hall_print_p_00102:
4614  1733  21 58 06    	ld	hl,0x0658
4615  1736  E5          	push	hl
4616  1737  3E A9       	ld	a,0xa9
4617  1739  F5          	push	af
4618  173A  33          	inc	sp
4619  173B  CD 00 00    	call	_NIRVANAP_drawT_callee
4620  173E  21 56 06    	ld	hl,0x0656
4621  1741  E5          	push	hl
4622  1742  3E 16       	ld	a,0x16
4623  1744  F5          	push	af
4624  1745  33          	inc	sp
4625  1746  CD 00 00    	call	_NIRVANAP_drawT_callee
4626  1749  18 58       	jr	l_game_hall_print_p_00110
4627  174B              l_game_hall_print_p_00108:
4628  174B  21 04 00    	ld	hl,+(_initials + 0x0004)
4629  174E  E5          	push	hl
4630  174F  21 0D 16    	ld	hl,0x160d
4631  1752  E5          	push	hl
4632  1753  CD 00 00    	call	_zx_print_str
4633  1756  DD 7E 04    	ld	a,(ix+4)
4634  1759  C6 12       	add	a,0x12
4635  175B  57          	ld	d,a
4636  175C  DD 7E 04    	ld	a,(ix+4)
4637  175F  C6 11       	add	a,0x11
4638  1761  47          	ld	b,a
4639  1762  3E 70       	ld	a,0x70
4640  1764  5A          	ld	e,d
4641  1765  57          	ld	d,a
4642  1766  D5          	push	de
4643  1767  C5          	push	bc
4644  1768  33          	inc	sp
4645  1769  CD D0 0C    	call	_game_paint_attrib_lin_h
4646  176C  F1          	pop	af
4647  176D  33          	inc	sp
4648  176E  76          	halt
4649  176F  DD 7E 05    	ld	a,(ix+5)
4650  1772  B7          	or	a, a
4651  1773  28 18       	jr	Z,l_game_hall_print_p_00105
4652  1775  21 56 17    	ld	hl,0x1756
4653  1778  E5          	push	hl
4654  1779  3E A9       	ld	a,0xa9
4655  177B  F5          	push	af
4656  177C  33          	inc	sp
4657  177D  CD 00 00    	call	_NIRVANAP_drawT_callee
4658  1780  21 58 17    	ld	hl,0x1758
4659  1783  E5          	push	hl
4660  1784  3E 27       	ld	a,0x27
4661  1786  F5          	push	af
4662  1787  33          	inc	sp
4663  1788  CD 00 00    	call	_NIRVANAP_drawT_callee
4664  178B  18 16       	jr	l_game_hall_print_p_00110
4665  178D              l_game_hall_print_p_00105:
4666  178D  21 58 17    	ld	hl,0x1758
4667  1790  E5          	push	hl
4668  1791  3E A9       	ld	a,0xa9
4669  1793  F5          	push	af
4670  1794  33          	inc	sp
4671  1795  CD 00 00    	call	_NIRVANAP_drawT_callee
4672  1798  21 56 17    	ld	hl,0x1756
4673  179B  E5          	push	hl
4674  179C  3E 2E       	ld	a,0x2e
4675  179E  F5          	push	af
4676  179F  33          	inc	sp
4677  17A0  CD 00 00    	call	_NIRVANAP_drawT_callee
4678  17A3              l_game_hall_print_p_00110:
4679  17A3  DD E1       	pop	ix
4680  17A5  C9          	ret
4681  17A6              	SECTION code_compiler
4682  17A6              ;	---------------------------------
4683  17A6              ; Function game_hall_edit_p
4684  17A6              ; ---------------------------------
4685  17A6              _game_hall_edit_p:
4686  17A6  CD 00 00    	call	___sdcc_enter_ix
4687  17A9  F5          	push	af
4688  17AA  4D          	ld	c,l
4689  17AB  0D          	dec	c
4690  17AC  3A 00 00    	ld	a,(_dirs)
4691  17AF  07          	rlca
4692  17B0  30 63       	jr	NC,l_game_hall_edit_p_00120
4693  17B2  79          	ld	a,c
4694  17B3  FE 04       	cp	a,0x04
4695  17B5  30 17       	jr	NC,l_game_hall_edit_p_00102
4696  17B7  C6 07       	add	a,0x07
4697  17B9  57          	ld	d,a
4698  17BA  79          	ld	a,c
4699  17BB  C6 06       	add	a,0x06
4700  17BD  47          	ld	b,a
4701  17BE  C5          	push	bc
4702  17BF  3E 70       	ld	a,0x70
4703  17C1  5A          	ld	e,d
4704  17C2  57          	ld	d,a
4705  17C3  D5          	push	de
4706  17C4  C5          	push	bc
4707  17C5  33          	inc	sp
4708  17C6  CD A9 0C    	call	_game_paint_attrib_lin
4709  17C9  F1          	pop	af
4710  17CA  33          	inc	sp
4711  17CB  C1          	pop	bc
4712  17CC  18 16       	jr	l_game_hall_edit_p_00103
4713  17CE              l_game_hall_edit_p_00102:
4714  17CE  79          	ld	a,c
4715  17CF  C6 13       	add	a,0x13
4716  17D1  57          	ld	d,a
4717  17D2  79          	ld	a,c
4718  17D3  C6 12       	add	a,0x12
4719  17D5  47          	ld	b,a
4720  17D6  C5          	push	bc
4721  17D7  3E 70       	ld	a,0x70
4722  17D9  5A          	ld	e,d
4723  17DA  57          	ld	d,a
4724  17DB  D5          	push	de
4725  17DC  C5          	push	bc
4726  17DD  33          	inc	sp
4727  17DE  CD A9 0C    	call	_game_paint_attrib_lin
4728  17E1  F1          	pop	af
4729  17E2  33          	inc	sp
4730  17E3  C1          	pop	bc
4731  17E4              l_game_hall_edit_p_00103:
4732  17E4  C5          	push	bc
4733  17E5  CD 00 00    	call	_sound_slide
4734  17E8  C1          	pop	bc
4735  17E9  21 00 00    	ld	hl,_ay_effect_01
4736  17EC  CD 00 00    	call	_ay_fx_play
4737  17EF  11 00 00    	ld	de,_initials+0
4738  17F2  41          	ld	b,c
4739  17F3  0C          	inc	c
4740  17F4  68          	ld	l,b
4741  17F5  26 00       	ld	h,0x00
4742  17F7  19          	add	hl,de
4743  17F8  7E          	ld	a,(hl)
4744  17F9  D6 7B       	sub	a,0x7b
4745  17FB  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4746  17FD  0D          	dec	c
4747  17FE  79          	ld	a,c
4748  17FF  E6 03       	and	a,0x03
4749  1801  28 08       	jr	Z,l_game_hall_edit_p_00107
4750  1803  41          	ld	b,c
4751  1804  0D          	dec	c
4752  1805  68          	ld	l,b
4753  1806  26 00       	ld	h,0x00
4754  1808  19          	add	hl,de
4755  1809  36 41       	ld	(hl),0x41
4756  180B              l_game_hall_edit_p_00107:
4757  180B  79          	ld	a,c
4758  180C  E6 03       	and	a,0x03
4759  180E  D6 03       	sub	a,0x03
4760  1810  20 44       	jr	NZ,l_game_hall_edit_p_00121
4761  1812  6F          	ld	l,a
4762  1813  18 43       	jr	l_game_hall_edit_p_00122
4763  1815              l_game_hall_edit_p_00120:
4764  1815  3A 00 00    	ld	a,(_dirs)
4765  1818  E6 0C       	and	a,0x0c
4766  181A  28 3A       	jr	Z,l_game_hall_edit_p_00121
4767  181C  11 00 00    	ld	de,_hall_valids
4768  181F  3E 00       	ld	a,+((_initials) & 0xFF)
4769  1821  81          	add	a, c
4770  1822  DD 77 FE    	ld	(ix-2),a
4771  1825  3E 00       	ld	a,+((_initials) / 256)
4772  1827  CE 00       	adc	a,0x00
4773  1829  DD 77 FF    	ld	(ix-1),a
4774  182C  E1          	pop	hl
4775  182D  46          	ld	b,(hl)
4776  182E  E5          	push	hl
4777  182F              l_game_hall_edit_p_00168:
4778  182F  1A          	ld	a, (de)
4779  1830  B8          	cp	a, b
4780  1831  28 06       	jr	Z,l_game_hall_edit_p_00167
4781  1833  B7          	or	a, a
4782  1834  13          	inc	de
4783  1835  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4784  1837  5F          	ld	e, a
4785  1838  57          	ld	d, a
4786  1839              l_game_hall_edit_p_00167:
4787  1839  3A 00 00    	ld	a,(_dirs)
4788  183C  E6 04       	and	a,0x04
4789  183E  28 0A       	jr	Z,l_game_hall_edit_p_00115
4790  1840  1B          	dec	de
4791  1841  1A          	ld	a,(de)
4792  1842  3D          	dec	a
4793  1843  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4794  1845  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4795  1848  18 08       	jr	l_game_hall_edit_p_00116
4796  184A              l_game_hall_edit_p_00115:
4797  184A  13          	inc	de
4798  184B  1A          	ld	a,(de)
4799  184C  B7          	or	a, a
4800  184D  20 03       	jr	NZ,l_game_hall_edit_p_00116
4801  184F  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4802  1852              l_game_hall_edit_p_00116:
4803  1852  E1          	pop	hl
4804  1853  1A          	ld	a,(de)
4805  1854  E5          	push	hl
4806  1855  77          	ld	(hl),a
4807  1856              l_game_hall_edit_p_00121:
4808  1856  0C          	inc	c
4809  1857  69          	ld	l,c
4810  1858              l_game_hall_edit_p_00122:
4811  1858  F1          	pop	af
4812  1859  DD E1       	pop	ix
4813  185B  C9          	ret
4814  185C              	SECTION code_compiler
4815  185C              ;	---------------------------------
4816  185C              ; Function game_hall_of_fame
4817  185C              ; ---------------------------------
4818  185C              _game_hall_of_fame:
4819  185C  CD 00 00    	call	_spr_draw_clear
4820  185F  2E 00       	ld	l,0x00
4821  1861  CD 85 0C    	call	_game_paint_attrib
4822  1864  21 9C 01    	ld	hl,0x019c
4823  1867  E5          	push	hl
4824  1868  21 06 18    	ld	hl,0x1806
4825  186B  E5          	push	hl
4826  186C  3E 10       	ld	a,0x10
4827  186E  F5          	push	af
4828  186F  33          	inc	sp
4829  1870  CD 64 10    	call	_game_menu_e
4830  1873  F1          	pop	af
4831  1874  33          	inc	sp
4832  1875  21 9F FF    	ld	hl,0xff9f
4833  1878  E3          	ex	(sp),hl
4834  1879  21 06 18    	ld	hl,0x1806
4835  187C  E5          	push	hl
4836  187D  3E 98       	ld	a,0x98
4837  187F  F5          	push	af
4838  1880  33          	inc	sp
4839  1881  CD 64 10    	call	_game_menu_e
4840  1884  F1          	pop	af
4841  1885  F1          	pop	af
4842  1886  33          	inc	sp
4843  1887  21 00 00    	ld	hl,_s_lin1
4844  188A  36 00       	ld	(hl),0x00
4845  188C              l_game_hall_of_fame_00102:
4846  188C  21 00 00    	ld	hl,_screen_ink
4847  188F  36 05       	ld	(hl),0x05
4848  1891  2A 00 00    	ld	hl,(_s_lin1)
4849  1894  26 00       	ld	h,0x00
4850  1896  4D          	ld	c,l
4851  1897  44          	ld	b,h
4852  1898  29          	add	hl, hl
4853  1899  09          	add	hl, bc
4854  189A  29          	add	hl, hl
4855  189B  01 00 00    	ld	bc,_hof
4856  189E  09          	add	hl,bc
4857  189F  3A 00 00    	ld	a,(_s_lin1)
4858  18A2  EB          	ex	de,hl
4859  18A3  C6 07       	add	a,0x07
4860  18A5  47          	ld	b,a
4861  18A6  D5          	push	de
4862  18A7  3E 0A       	ld	a,0x0a
4863  18A9  48          	ld	c,b
4864  18AA  47          	ld	b,a
4865  18AB  C5          	push	bc
4866  18AC  CD 00 00    	call	_zx_print_str
4867  18AF  2A 00 00    	ld	hl,(_s_lin1)
4868  18B2  26 00       	ld	h,0x00
4869  18B4  4D          	ld	c,l
4870  18B5  44          	ld	b,h
4871  18B6  29          	add	hl, hl
4872  18B7  09          	add	hl, bc
4873  18B8  29          	add	hl, hl
4874  18B9  01 00 00    	ld	bc,_hof
4875  18BC  09          	add	hl,bc
4876  18BD  11 04 00    	ld	de,0x0004
4877  18C0  19          	add	hl, de
4878  18C1  5E          	ld	e,(hl)
4879  18C2  23          	inc	hl
4880  18C3  56          	ld	d,(hl)
4881  18C4  3A 00 00    	ld	a,(_s_lin1)
4882  18C7  C6 07       	add	a,0x07
4883  18C9  47          	ld	b,a
4884  18CA  D5          	push	de
4885  18CB  3E 10       	ld	a,0x10
4886  18CD  48          	ld	c,b
4887  18CE  47          	ld	b,a
4888  18CF  C5          	push	bc
4889  18D0  CD 00 00    	call	_zx_print_int
4890  18D3  11 21 02    	ld	de,___str_52
4891  18D6  3A 00 00    	ld	a,(_s_lin1)
4892  18D9  C6 07       	add	a,0x07
4893  18DB  47          	ld	b,a
4894  18DC  D5          	push	de
4895  18DD  3E 0E       	ld	a,0x0e
4896  18DF  48          	ld	c,b
4897  18E0  47          	ld	b,a
4898  18E1  C5          	push	bc
4899  18E2  CD 00 00    	call	_zx_print_str
4900  18E5  11 23 02    	ld	de,___str_53
4901  18E8  3A 00 00    	ld	a,(_s_lin1)
4902  18EB  C6 07       	add	a,0x07
4903  18ED  47          	ld	b,a
4904  18EE  D5          	push	de
4905  18EF  3E 15       	ld	a,0x15
4906  18F1  48          	ld	c,b
4907  18F2  47          	ld	b,a
4908  18F3  C5          	push	bc
4909  18F4  CD 00 00    	call	_zx_print_str
4910  18F7  21 00 00    	ld	hl,_s_lin1
4911  18FA  7E          	ld	a,(hl)
4912  18FB  3C          	inc	a
4913  18FC  77          	ld	(hl),a
4914  18FD  D6 0A       	sub	a,0x0a
4915  18FF  38 8B       	jr	C,l_game_hall_of_fame_00102
4916  1901  21 25 02    	ld	hl,___str_54
4917  1904  E5          	push	hl
4918  1905  21 04 0A    	ld	hl,0x0a04
4919  1908  E5          	push	hl
4920  1909  CD 00 00    	call	_zx_print_str
4921  190C  21 F4 01    	ld	hl,0x01f4
4922  190F  E5          	push	hl
4923  1910  21 0A 16    	ld	hl,0x160a
4924  1913  E5          	push	hl
4925  1914  3E 04       	ld	a,0x04
4926  1916  F5          	push	af
4927  1917  33          	inc	sp
4928  1918  CD 49 19    	call	_game_colour_message
4929  191B  F1          	pop	af
4930  191C  F1          	pop	af
4931  191D  33          	inc	sp
4932  191E  CD 00 00    	call	_spr_draw_clear
4933  1921  21 00 00    	ld	hl,_game_menu_sel
4934  1924  36 00       	ld	(hl),0x00
4935  1926  21 00 00    	ld	hl,_pb_midi_title
4936  1929  CD 00 00    	call	_ay_midi_play
4937  192C  C9          	ret
4938  192D              	SECTION rodata_compiler
4939  0221              ___str_52:
4940  0221  2D          	DEFM "-"
4941  0222  00          	DEFB 0x00
4942  0223              	SECTION rodata_compiler
4943  0223              ___str_53:
4944  0223  30          	DEFM "0"
4945  0224  00          	DEFB 0x00
4946  0225              	SECTION rodata_compiler
4947  0225              ___str_54:
4948  0225  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4949  0231  00          	DEFB 0x00
4950  0232              	SECTION code_compiler
4951  192D              ;	---------------------------------
4952  192D              ; Function game_rotate_attrib
4953  192D              ; ---------------------------------
4954  192D              _game_rotate_attrib:
4955  192D  01 03 00    	ld	bc,_attrib_hl + 3
4956  1930  0A          	ld	a,(bc)
4957  1931  32 00 00    	ld	(_tmp_uc),a
4958  1934  11 02 00    	ld	de,_attrib_hl + 2
4959  1937  1A          	ld	a,(de)
4960  1938  02          	ld	(bc),a
4961  1939  01 01 00    	ld	bc,_attrib_hl + 1
4962  193C  0A          	ld	a,(bc)
4963  193D  12          	ld	(de),a
4964  193E  3A 00 00    	ld	a,(_attrib_hl)
4965  1941  02          	ld	(bc),a
4966  1942  3A 00 00    	ld	a,(_tmp_uc)
4967  1945  32 00 00    	ld	(_attrib_hl),a
4968  1948  C9          	ret
4969  1949              	SECTION code_compiler
4970  1949              ;	---------------------------------
4971  1949              ; Function game_colour_message
4972  1949              ; ---------------------------------
4973  1949              _game_colour_message:
4974  1949  CD 00 00    	call	___sdcc_enter_ix
4975  194C  3B          	dec	sp
4976  194D  21 00 00    	ld	hl,_tmp
4977  1950  36 01       	ld	(hl),0x01
4978  1952  2A 00 00    	ld	hl,(_curr_time)
4979  1955  22 00 00    	ld	(_frame_time),hl
4980  1958  2A 00 00    	ld	hl,(_curr_time)
4981  195B  22 00 00    	ld	(_entry_time),hl
4982  195E  DD 7E 04    	ld	a,(ix+4)
4983  1961  07          	rlca
4984  1962  07          	rlca
4985  1963  07          	rlca
4986  1964  E6 F8       	and	a,0xf8
4987  1966  C6 08       	add	a,0x08
4988  1968  DD 77 FF    	ld	(ix-1),a
4989  196B              l_game_colour_message_00107:
4990  196B  3A 00 00    	ld	a,(_tmp)
4991  196E  B7          	or	a, a
4992  196F  28 66       	jr	Z,l_game_colour_message_00110
4993  1971  DD 6E 07    	ld	l,(ix+7)
4994  1974  DD 66 08    	ld	h,(ix+8)
4995  1977  E5          	push	hl
4996  1978  2A 00 00    	ld	hl,(_entry_time)
4997  197B  E5          	push	hl
4998  197C  CD DB 19    	call	_game_check_time
4999  197F  F1          	pop	af
5000  1980  F1          	pop	af
5001  1981  7D          	ld	a,l
5002  1982  B7          	or	a, a
5003  1983  20 52       	jr	NZ,l_game_colour_message_00110
5004  1985  21 05 00    	ld	hl,0x0005
5005  1988  E5          	push	hl
5006  1989  2A 00 00    	ld	hl,(_frame_time)
5007  198C  E5          	push	hl
5008  198D  CD DB 19    	call	_game_check_time
5009  1990  F1          	pop	af
5010  1991  F1          	pop	af
5011  1992  7D          	ld	a,l
5012  1993  B7          	or	a, a
5013  1994  28 1A       	jr	Z,l_game_colour_message_00103
5014  1996  2A 00 00    	ld	hl,(_curr_time)
5015  1999  22 00 00    	ld	(_frame_time),hl
5016  199C  DD 66 FF    	ld	h,(ix-1)
5017  199F  DD 6E 06    	ld	l,(ix+6)
5018  19A2  E5          	push	hl
5019  19A3  DD 7E 05    	ld	a,(ix+5)
5020  19A6  F5          	push	af
5021  19A7  33          	inc	sp
5022  19A8  CD D0 0C    	call	_game_paint_attrib_lin_h
5023  19AB  F1          	pop	af
5024  19AC  33          	inc	sp
5025  19AD  CD 2D 19    	call	_game_rotate_attrib
5026  19B0              l_game_colour_message_00103:
5027  19B0  21 00 00    	ld	hl,_k1
5028  19B3  E5          	push	hl
5029  19B4  2A 00 00    	ld	hl,(_joyfunc1)
5030  19B7  CD 00 00    	call	___sdcc_call_hl
5031  19BA  E3          	ex	(sp),hl
5032  19BB  21 00 00    	ld	hl,_k2
5033  19BE  E5          	push	hl
5034  19BF  2A 00 00    	ld	hl,(_joyfunc2)
5035  19C2  CD 00 00    	call	___sdcc_call_hl
5036  19C5  F1          	pop	af
5037  19C6  EB          	ex	de,hl
5038  19C7  C1          	pop	bc
5039  19C8  79          	ld	a,c
5040  19C9  B3          	or	a, e
5041  19CA  4F          	ld	c,a
5042  19CB  78          	ld	a,b
5043  19CC  B2          	or	a, d
5044  19CD  B1          	or	a,c
5045  19CE  28 9B       	jr	Z,l_game_colour_message_00107
5046  19D0  21 00 00    	ld	hl,_tmp
5047  19D3  36 00       	ld	(hl),0x00
5048  19D5  18 D9       	jr	l_game_colour_message_00103
5049  19D7              l_game_colour_message_00110:
5050  19D7  33          	inc	sp
5051  19D8  DD E1       	pop	ix
5052  19DA  C9          	ret
5053  19DB              	SECTION code_compiler
5054  19DB              ;	---------------------------------
5055  19DB              ; Function game_check_time
5056  19DB              ; ---------------------------------
5057  19DB              _game_check_time:
5058  19DB  CD 00 00    	call	___sdcc_enter_ix
5059  19DE  2A 00 00    	ld	hl,(_curr_time)
5060  19E1  7D          	ld	a,l
5061  19E2  DD 96 04    	sub	a,(ix+4)
5062  19E5  4F          	ld	c,a
5063  19E6  7C          	ld	a,h
5064  19E7  DD 9E 05    	sbc	a,(ix+5)
5065  19EA  47          	ld	b,a
5066  19EB  DD 7E 06    	ld	a,(ix+6)
5067  19EE  91          	sub	a, c
5068  19EF  DD 7E 07    	ld	a,(ix+7)
5069  19F2  98          	sbc	a, b
5070  19F3  30 04       	jr	NC,l_game_check_time_00102
5071  19F5  2E 01       	ld	l,0x01
5072  19F7  18 02       	jr	l_game_check_time_00104
5073  19F9              l_game_check_time_00102:
5074  19F9  2E 00       	ld	l,0x00
5075  19FB              l_game_check_time_00104:
5076  19FB  DD E1       	pop	ix
5077  19FD  C9          	ret
5078  19FE              	SECTION IGNORE
5079  0000              
