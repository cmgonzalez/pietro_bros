1     0000              MODULE pietro_game_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _compare_scores
183   0000              	GLOBAL _game_calc_index
184   0000              	GLOBAL _game_print_footer
185   0000              	GLOBAL _game_phase_print_score_back
186   0000              	GLOBAL _game_print_lives
187   0000              	GLOBAL _game_tick
188   0000              	GLOBAL _game_start_timer
189   0000              	GLOBAL _game_phase_calc
190   0000              	GLOBAL _game_phase_init
191   0000              	GLOBAL _game_print_header
192   0000              	GLOBAL _game_phase_print
193   0000              	GLOBAL _game_loop
194   0000              	GLOBAL _game_score_osd
195   0000              	GLOBAL _game_bonus_clock
196   0000              	GLOBAL _game_bonus_summary
197   0000              	GLOBAL _game_bonus_summary_player
198   0000              	GLOBAL _game_kill_all_sprites
199   0000              	GLOBAL _game_check_maze
200   0000              	GLOBAL _game_enemy_add
201   0000              	GLOBAL _game_enemy_quota
202   0000              	GLOBAL _game_enemy_rnd
203   0000              	GLOBAL _game_enemy_add1
204   0000              	GLOBAL _game_enemy_add_get_index
205   0000              	GLOBAL _game_freeze
206   0000              	GLOBAL _game_unfreeze_all
207   0000              	GLOBAL _game_freeze_all
208   0000              	GLOBAL _game_print_score
209   0000              	GLOBAL _game_paint_attrib
210   0000              	GLOBAL _game_paint_attrib_lin
211   0000              	GLOBAL _game_paint_attrib_lin_h
212   0000              	GLOBAL _game_menu_config
213   0000              	GLOBAL _game_joystick_change
214   0000              	GLOBAL _game_joystick_set_menu
215   0000              	GLOBAL _game_joystick_set
216   0000              	GLOBAL _game_menu
217   0000              	GLOBAL _game_menu_top_paint
218   0000              	GLOBAL _game_menu_paint
219   0000              	GLOBAL _game_menu_e
220   0000              	GLOBAL _game_menu_handle
221   0000              	GLOBAL _game_end
222   0000              	GLOBAL _game_hall_check
223   0000              	GLOBAL _game_hall_enter
224   0000              	GLOBAL _game_menu_back
225   0000              	GLOBAL _game_hall_enter_phs
226   0000              	GLOBAL _game_hall_print_p
227   0000              	GLOBAL _game_hall_edit_p
228   0000              	GLOBAL _game_hall_of_fame
229   0000              	GLOBAL _game_rotate_attrib
230   0000              	GLOBAL _game_colour_message
231   0000              	GLOBAL _game_check_time
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _debug3
236   0000              	GLOBAL _debug2
237   0000              	GLOBAL _debug
238   0000              	GLOBAL _zx_print_str
239   0000              	GLOBAL _zx_print_int
240   0000              	GLOBAL _zx_print_chr
241   0000              	GLOBAL _zx_print_bonus_time
242   0000              	GLOBAL _zx_isr
243   0000              	GLOBAL _spr_draw_row
244   0000              	GLOBAL _spr_draw_index
245   0000              	GLOBAL _spr_draw_clear
246   0000              	GLOBAL _spr_water_splash_draw
247   0000              	GLOBAL _spr_water_splash_clear
248   0000              	GLOBAL _spr_draw_back
249   0000              	GLOBAL _spr_cortina_pipes
250   0000              	GLOBAL _spr_cortina_brick
251   0000              	GLOBAL _spr_brick_anim
252   0000              	GLOBAL _spr_back_fix
253   0000              	GLOBAL _spr_back_paint
254   0000              	GLOBAL _spr_back_clr
255   0000              	GLOBAL _spr_draw_pow
256   0000              	GLOBAL _spr_tile
257   0000              	GLOBAL _spr_set_fall
258   0000              	GLOBAL _spr_destroy
259   0000              	GLOBAL _spr_check_over
260   0000              	GLOBAL _spr_tile_dir
261   0000              	GLOBAL _spr_anim_kill
262   0000              	GLOBAL _spr_anim_fall
263   0000              	GLOBAL _spr_killed
264   0000              	GLOBAL _spr_redraw
265   0000              	GLOBAL _spr_move_left
266   0000              	GLOBAL _spr_move_right
267   0000              	GLOBAL _spr_move_horizontal
268   0000              	GLOBAL _spr_move_down
269   0000              	GLOBAL _spr_move_up
270   0000              	GLOBAL _spr_chktime
271   0000              	GLOBAL _sound_hit_pow
272   0000              	GLOBAL _sound_hit_brick
273   0000              	GLOBAL _sound_hit_enemy
274   0000              	GLOBAL _sound_kill
275   0000              	GLOBAL _sound_enter_enemy
276   0000              	GLOBAL _sound_coin
277   0000              	GLOBAL _sound_jump
278   0000              	GLOBAL _sound_slide
279   0000              	GLOBAL _player_move_horizontal
280   0000              	GLOBAL _player_push_check
281   0000              	GLOBAL _player_push
282   0000              	GLOBAL _player_hit_brick_clear
283   0000              	GLOBAL _player_lost_life
284   0000              	GLOBAL _player_score_add
285   0000              	GLOBAL _player_coin
286   0000              	GLOBAL _player_hit_pow
287   0000              	GLOBAL _player_hit_brick
288   0000              	GLOBAL _player_move_input
289   0000              	GLOBAL _player_turn
290   0000              	GLOBAL _player_move
291   0000              	GLOBAL _player_restart
292   0000              	GLOBAL _player_kill
293   0000              	GLOBAL _player_check_input
294   0000              	GLOBAL _player_collition_check
295   0000              	GLOBAL _player_collition
296   0000              	GLOBAL _player_calc_slide
297   0000              	GLOBAL _player_init
298   0000              	GLOBAL _player_set2
299   0000              	GLOBAL _player_set1
300   0000              	GLOBAL _game_fill_row
301   0000              	GLOBAL _enemy_kill
302   0000              	GLOBAL _enemy_init
303   0000              	GLOBAL _enemy_walk
304   0000              	GLOBAL _enemy_upgrade
305   0000              	GLOBAL _enemy_evolve
306   0000              	GLOBAL _enemy_standard_hit
307   0000              	GLOBAL _enemy_trip
308   0000              	GLOBAL _enemy_fighterfly
309   0000              	GLOBAL _enemy_fireball_green
310   0000              	GLOBAL _enemy_fireball_red
311   0000              	GLOBAL _enemy_slipice
312   0000              	GLOBAL _enemy_standard
313   0000              	GLOBAL _enemy_turn
314   0000              	GLOBAL _enemy_flip_sidestepper
315   0000              	GLOBAL _enemy_flip
316   0000              	GLOBAL _enemy_flip_change_dir
317   0000              	GLOBAL _enemy_hit
318   0000              	GLOBAL _enemy_collition_check
319   0000              	GLOBAL _enemy_collition
320   0000              	GLOBAL _enemy_coin1
321   0000              	GLOBAL _ay_fx_play
322   0000              	GLOBAL _ay_midi_play
323   0000              	GLOBAL _ay_is_playing
324   0000              	GLOBAL _ay_reset
325   0000              	GLOBAL _test_func
326   0000              	GLOBAL _in_mouse_kempston_wheel_delta
327   0000              	GLOBAL _in_mouse_kempston_wheel
328   0000              	GLOBAL _in_mouse_kempston_callee
329   0000              	GLOBAL _in_mouse_kempston
330   0000              	GLOBAL _in_mouse_kempston_setpos_callee
331   0000              	GLOBAL _in_mouse_kempston_setpos
332   0000              	GLOBAL _in_mouse_kempston_reset
333   0000              	GLOBAL _in_mouse_kempston_init
334   0000              	GLOBAL _in_mouse_amx_wheel_delta
335   0000              	GLOBAL _in_mouse_amx_wheel
336   0000              	GLOBAL _in_mouse_amx_callee
337   0000              	GLOBAL _in_mouse_amx
338   0000              	GLOBAL _in_mouse_amx_setpos_callee
339   0000              	GLOBAL _in_mouse_amx_setpos
340   0000              	GLOBAL _in_mouse_amx_reset
341   0000              	GLOBAL _in_mouse_amx_init_callee
342   0000              	GLOBAL _in_mouse_amx_init
343   0000              	GLOBAL _in_stick_sinclair2
344   0000              	GLOBAL _in_stick_sinclair1
345   0000              	GLOBAL _in_stick_kempston
346   0000              	GLOBAL _in_stick_fuller
347   0000              	GLOBAL _in_stick_cursor
348   0000              	GLOBAL _in_stick_keyboard_fastcall
349   0000              	GLOBAL _in_stick_keyboard
350   0000              	GLOBAL _in_wait_nokey
351   0000              	GLOBAL _in_wait_key
352   0000              	GLOBAL _in_test_key
353   0000              	GLOBAL _in_pause_fastcall
354   0000              	GLOBAL _in_pause
355   0000              	GLOBAL _in_key_scancode_fastcall
356   0000              	GLOBAL _in_key_scancode
357   0000              	GLOBAL _in_key_pressed_fastcall
358   0000              	GLOBAL _in_key_pressed
359   0000              	GLOBAL _in_inkey
360   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
361   0000              	GLOBAL _NIRVANAP_drawTW_raw
362   0000              	GLOBAL _NIRVANAP_drawTW_callee
363   0000              	GLOBAL _NIRVANAP_drawTW
364   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawW_raw
366   0000              	GLOBAL _NIRVANAP_drawW_callee
367   0000              	GLOBAL _NIRVANAP_drawW
368   0000              	GLOBAL _NIRVANAP_spriteT_callee
369   0000              	GLOBAL _NIRVANAP_spriteT
370   0000              	GLOBAL _NIRVANAP_fillC_callee
371   0000              	GLOBAL _NIRVANAP_fillC
372   0000              	GLOBAL _NIRVANAP_readC_callee
373   0000              	GLOBAL _NIRVANAP_readC
374   0000              	GLOBAL _NIRVANAP_paintC_callee
375   0000              	GLOBAL _NIRVANAP_paintC
376   0000              	GLOBAL _NIRVANAP_printC_callee
377   0000              	GLOBAL _NIRVANAP_printC
378   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
379   0000              	GLOBAL _NIRVANAP_fillT_raw
380   0000              	GLOBAL _NIRVANAP_fillT_callee
381   0000              	GLOBAL _NIRVANAP_fillT
382   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
383   0000              	GLOBAL _NIRVANAP_drawT_raw
384   0000              	GLOBAL _NIRVANAP_drawT_callee
385   0000              	GLOBAL _NIRVANAP_drawT
386   0000              	GLOBAL _NIRVANAP_stop
387   0000              	GLOBAL _NIRVANAP_start
388   0000              	GLOBAL _z80_otdr_callee
389   0000              	GLOBAL _z80_otdr
390   0000              	GLOBAL _z80_otir_callee
391   0000              	GLOBAL _z80_otir
392   0000              	GLOBAL _z80_outp_callee
393   0000              	GLOBAL _z80_outp
394   0000              	GLOBAL _z80_indr_callee
395   0000              	GLOBAL _z80_indr
396   0000              	GLOBAL _z80_inir_callee
397   0000              	GLOBAL _z80_inir
398   0000              	GLOBAL _z80_inp_fastcall
399   0000              	GLOBAL _z80_inp
400   0000              	GLOBAL _z80_set_int_state_fastcall
401   0000              	GLOBAL _z80_set_int_state
402   0000              	GLOBAL _z80_get_int_state
403   0000              	GLOBAL _z80_delay_tstate_fastcall
404   0000              	GLOBAL _z80_delay_tstate
405   0000              	GLOBAL _z80_delay_ms_fastcall
406   0000              	GLOBAL _z80_delay_ms
407   0000              	GLOBAL _im2_remove_generic_callback_callee
408   0000              	GLOBAL _im2_remove_generic_callback
409   0000              	GLOBAL _im2_prepend_generic_callback_callee
410   0000              	GLOBAL _im2_prepend_generic_callback
411   0000              	GLOBAL _im2_append_generic_callback_callee
412   0000              	GLOBAL _im2_append_generic_callback
413   0000              	GLOBAL _im2_create_generic_isr_8080_callee
414   0000              	GLOBAL _im2_create_generic_isr_8080
415   0000              	GLOBAL _im2_create_generic_isr_callee
416   0000              	GLOBAL _im2_create_generic_isr
417   0000              	GLOBAL _im2_install_isr_callee
418   0000              	GLOBAL _im2_install_isr
419   0000              	GLOBAL _im2_init_fastcall
420   0000              	GLOBAL _im2_init
421   0000              	GLOBAL _ffsll_callee
422   0000              	GLOBAL _ffsll
423   0000              	GLOBAL _strxfrm_callee
424   0000              	GLOBAL _strxfrm
425   0000              	GLOBAL _strupr_fastcall
426   0000              	GLOBAL _strupr
427   0000              	GLOBAL _strtok_r_callee
428   0000              	GLOBAL _strtok_r
429   0000              	GLOBAL _strtok_callee
430   0000              	GLOBAL _strtok
431   0000              	GLOBAL _strstrip_fastcall
432   0000              	GLOBAL _strstrip
433   0000              	GLOBAL _strstr_callee
434   0000              	GLOBAL _strstr
435   0000              	GLOBAL _strspn_callee
436   0000              	GLOBAL _strspn
437   0000              	GLOBAL _strsep_callee
438   0000              	GLOBAL _strsep
439   0000              	GLOBAL _strrstrip_fastcall
440   0000              	GLOBAL _strrstrip
441   0000              	GLOBAL _strrspn_callee
442   0000              	GLOBAL _strrspn
443   0000              	GLOBAL _strrev_fastcall
444   0000              	GLOBAL _strrev
445   0000              	GLOBAL _strrcspn_callee
446   0000              	GLOBAL _strrcspn
447   0000              	GLOBAL _strrchr_callee
448   0000              	GLOBAL _strrchr
449   0000              	GLOBAL _strpbrk_callee
450   0000              	GLOBAL _strpbrk
451   0000              	GLOBAL _strnlen_callee
452   0000              	GLOBAL _strnlen
453   0000              	GLOBAL _strnicmp_callee
454   0000              	GLOBAL _strnicmp
455   0000              	GLOBAL _strndup_callee
456   0000              	GLOBAL _strndup
457   0000              	GLOBAL _strncpy_callee
458   0000              	GLOBAL _strncpy
459   0000              	GLOBAL _strncmp_callee
460   0000              	GLOBAL _strncmp
461   0000              	GLOBAL _strnchr_callee
462   0000              	GLOBAL _strnchr
463   0000              	GLOBAL _strncat_callee
464   0000              	GLOBAL _strncat
465   0000              	GLOBAL _strncasecmp_callee
466   0000              	GLOBAL _strncasecmp
467   0000              	GLOBAL _strlwr_fastcall
468   0000              	GLOBAL _strlwr
469   0000              	GLOBAL _strlen_fastcall
470   0000              	GLOBAL _strlen
471   0000              	GLOBAL _strlcpy_callee
472   0000              	GLOBAL _strlcpy
473   0000              	GLOBAL _strlcat_callee
474   0000              	GLOBAL _strlcat
475   0000              	GLOBAL _stricmp_callee
476   0000              	GLOBAL _stricmp
477   0000              	GLOBAL _strerror_fastcall
478   0000              	GLOBAL _strerror
479   0000              	GLOBAL _strdup_fastcall
480   0000              	GLOBAL _strdup
481   0000              	GLOBAL _strcspn_callee
482   0000              	GLOBAL _strcspn
483   0000              	GLOBAL _strcpy_callee
484   0000              	GLOBAL _strcpy
485   0000              	GLOBAL _strcoll_callee
486   0000              	GLOBAL _strcoll
487   0000              	GLOBAL _strcmp_callee
488   0000              	GLOBAL _strcmp
489   0000              	GLOBAL _strchrnul_callee
490   0000              	GLOBAL _strchrnul
491   0000              	GLOBAL _strchr_callee
492   0000              	GLOBAL _strchr
493   0000              	GLOBAL _strcat_callee
494   0000              	GLOBAL _strcat
495   0000              	GLOBAL _strcasecmp_callee
496   0000              	GLOBAL _strcasecmp
497   0000              	GLOBAL _stpncpy_callee
498   0000              	GLOBAL _stpncpy
499   0000              	GLOBAL _stpcpy_callee
500   0000              	GLOBAL _stpcpy
501   0000              	GLOBAL _memswap_callee
502   0000              	GLOBAL _memswap
503   0000              	GLOBAL _memset_callee
504   0000              	GLOBAL _memset
505   0000              	GLOBAL _memrchr_callee
506   0000              	GLOBAL _memrchr
507   0000              	GLOBAL _memmove_callee
508   0000              	GLOBAL _memmove
509   0000              	GLOBAL _memmem_callee
510   0000              	GLOBAL _memmem
511   0000              	GLOBAL _memcpy_callee
512   0000              	GLOBAL _memcpy
513   0000              	GLOBAL _memcmp_callee
514   0000              	GLOBAL _memcmp
515   0000              	GLOBAL _memchr_callee
516   0000              	GLOBAL _memchr
517   0000              	GLOBAL _memccpy_callee
518   0000              	GLOBAL _memccpy
519   0000              	GLOBAL _ffsl_fastcall
520   0000              	GLOBAL _ffsl
521   0000              	GLOBAL _ffs_fastcall
522   0000              	GLOBAL _ffs
523   0000              	GLOBAL __strrstrip__fastcall
524   0000              	GLOBAL __strrstrip_
525   0000              	GLOBAL __memupr__callee
526   0000              	GLOBAL __memupr_
527   0000              	GLOBAL __memstrcpy__callee
528   0000              	GLOBAL __memstrcpy_
529   0000              	GLOBAL __memlwr__callee
530   0000              	GLOBAL __memlwr_
531   0000              	GLOBAL _rawmemchr_callee
532   0000              	GLOBAL _rawmemchr
533   0000              	GLOBAL _strnset_callee
534   0000              	GLOBAL _strnset
535   0000              	GLOBAL _strset_callee
536   0000              	GLOBAL _strset
537   0000              	GLOBAL _rindex_callee
538   0000              	GLOBAL _rindex
539   0000              	GLOBAL _index_callee
540   0000              	GLOBAL _index
541   0000              	GLOBAL _bzero_callee
542   0000              	GLOBAL _bzero
543   0000              	GLOBAL _bcopy_callee
544   0000              	GLOBAL _bcopy
545   0000              	GLOBAL _bcmp_callee
546   0000              	GLOBAL _bcmp
547   0000              	GLOBAL _ulltoa_callee
548   0000              	GLOBAL _ulltoa
549   0000              	GLOBAL _strtoull_callee
550   0000              	GLOBAL _strtoull
551   0000              	GLOBAL _strtoll_callee
552   0000              	GLOBAL _strtoll
553   0000              	GLOBAL _lltoa_callee
554   0000              	GLOBAL _lltoa
555   0000              	GLOBAL _llabs_callee
556   0000              	GLOBAL _llabs
557   0000              	GLOBAL __lldivu__callee
558   0000              	GLOBAL __lldivu_
559   0000              	GLOBAL __lldiv__callee
560   0000              	GLOBAL __lldiv_
561   0000              	GLOBAL _atoll_callee
562   0000              	GLOBAL _atoll
563   0000              	GLOBAL _realloc_unlocked_callee
564   0000              	GLOBAL _realloc_unlocked
565   0000              	GLOBAL _malloc_unlocked_fastcall
566   0000              	GLOBAL _malloc_unlocked
567   0000              	GLOBAL _free_unlocked_fastcall
568   0000              	GLOBAL _free_unlocked
569   0000              	GLOBAL _calloc_unlocked_callee
570   0000              	GLOBAL _calloc_unlocked
571   0000              	GLOBAL _aligned_alloc_unlocked_callee
572   0000              	GLOBAL _aligned_alloc_unlocked
573   0000              	GLOBAL _realloc_callee
574   0000              	GLOBAL _realloc
575   0000              	GLOBAL _malloc_fastcall
576   0000              	GLOBAL _malloc
577   0000              	GLOBAL _free_fastcall
578   0000              	GLOBAL _free
579   0000              	GLOBAL _calloc_callee
580   0000              	GLOBAL _calloc
581   0000              	GLOBAL _aligned_alloc_callee
582   0000              	GLOBAL _aligned_alloc
583   0000              	GLOBAL _utoa_callee
584   0000              	GLOBAL _utoa
585   0000              	GLOBAL _ultoa_callee
586   0000              	GLOBAL _ultoa
587   0000              	GLOBAL _system_fastcall
588   0000              	GLOBAL _system
589   0000              	GLOBAL _strtoul_callee
590   0000              	GLOBAL _strtoul
591   0000              	GLOBAL _strtol_callee
592   0000              	GLOBAL _strtol
593   0000              	GLOBAL _strtof_callee
594   0000              	GLOBAL _strtof
595   0000              	GLOBAL _strtod_callee
596   0000              	GLOBAL _strtod
597   0000              	GLOBAL _srand_fastcall
598   0000              	GLOBAL _srand
599   0000              	GLOBAL _rand
600   0000              	GLOBAL _quick_exit_fastcall
601   0000              	GLOBAL _quick_exit
602   0000              	GLOBAL _qsort_callee
603   0000              	GLOBAL _qsort
604   0000              	GLOBAL _ltoa_callee
605   0000              	GLOBAL _ltoa
606   0000              	GLOBAL _labs_fastcall
607   0000              	GLOBAL _labs
608   0000              	GLOBAL _itoa_callee
609   0000              	GLOBAL _itoa
610   0000              	GLOBAL _ftoh_callee
611   0000              	GLOBAL _ftoh
612   0000              	GLOBAL _ftog_callee
613   0000              	GLOBAL _ftog
614   0000              	GLOBAL _ftoe_callee
615   0000              	GLOBAL _ftoe
616   0000              	GLOBAL _ftoa_callee
617   0000              	GLOBAL _ftoa
618   0000              	GLOBAL _exit_fastcall
619   0000              	GLOBAL _exit
620   0000              	GLOBAL _dtoh_callee
621   0000              	GLOBAL _dtoh
622   0000              	GLOBAL _dtog_callee
623   0000              	GLOBAL _dtog
624   0000              	GLOBAL _dtoe_callee
625   0000              	GLOBAL _dtoe
626   0000              	GLOBAL _dtoa_callee
627   0000              	GLOBAL _dtoa
628   0000              	GLOBAL _bsearch_callee
629   0000              	GLOBAL _bsearch
630   0000              	GLOBAL _atol_fastcall
631   0000              	GLOBAL _atol
632   0000              	GLOBAL _atoi_fastcall
633   0000              	GLOBAL _atoi
634   0000              	GLOBAL _atof_fastcall
635   0000              	GLOBAL _atof
636   0000              	GLOBAL _atexit_fastcall
637   0000              	GLOBAL _atexit
638   0000              	GLOBAL _at_quick_exit_fastcall
639   0000              	GLOBAL _at_quick_exit
640   0000              	GLOBAL _abs_fastcall
641   0000              	GLOBAL _abs
642   0000              	GLOBAL _abort
643   0000              	GLOBAL __strtou__callee
644   0000              	GLOBAL __strtou_
645   0000              	GLOBAL __strtoi__callee
646   0000              	GLOBAL __strtoi_
647   0000              	GLOBAL __random_uniform_xor_8__fastcall
648   0000              	GLOBAL __random_uniform_xor_8_
649   0000              	GLOBAL __random_uniform_xor_32__fastcall
650   0000              	GLOBAL __random_uniform_xor_32_
651   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
652   0000              	GLOBAL __random_uniform_cmwc_8_
653   0000              	GLOBAL __shellsort__callee
654   0000              	GLOBAL __shellsort_
655   0000              	GLOBAL __quicksort__callee
656   0000              	GLOBAL __quicksort_
657   0000              	GLOBAL __insertion_sort__callee
658   0000              	GLOBAL __insertion_sort_
659   0000              	GLOBAL __ldivu__callee
660   0000              	GLOBAL __ldivu_
661   0000              	GLOBAL __ldiv__callee
662   0000              	GLOBAL __ldiv_
663   0000              	GLOBAL __divu__callee
664   0000              	GLOBAL __divu_
665   0000              	GLOBAL __div__callee
666   0000              	GLOBAL __div_
667   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
668   0000              	GLOBAL _intrinsic_swap_word_32
669   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
670   0000              	GLOBAL _intrinsic_swap_endian_32
671   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
672   0000              	GLOBAL _intrinsic_swap_endian_16
673   0000              	GLOBAL _intrinsic_return_de
674   0000              	GLOBAL _intrinsic_return_bc
675   0000              	GLOBAL _intrinsic_exx
676   0000              	GLOBAL _intrinsic_ex_de_hl
677   0000              	GLOBAL _intrinsic_pop_iy
678   0000              	GLOBAL _intrinsic_pop_ix
679   0000              	GLOBAL _intrinsic_pop_hl
680   0000              	GLOBAL _intrinsic_pop_de
681   0000              	GLOBAL _intrinsic_pop_bc
682   0000              	GLOBAL _intrinsic_pop_af
683   0000              	GLOBAL _intrinsic_push_iy
684   0000              	GLOBAL _intrinsic_push_ix
685   0000              	GLOBAL _intrinsic_push_hl
686   0000              	GLOBAL _intrinsic_push_de
687   0000              	GLOBAL _intrinsic_push_bc
688   0000              	GLOBAL _intrinsic_push_af
689   0000              	GLOBAL _intrinsic_nop
690   0000              	GLOBAL _intrinsic_im_2
691   0000              	GLOBAL _intrinsic_im_1
692   0000              	GLOBAL _intrinsic_im_0
693   0000              	GLOBAL _intrinsic_retn
694   0000              	GLOBAL _intrinsic_reti
695   0000              	GLOBAL _intrinsic_halt
696   0000              	GLOBAL _intrinsic_ei
697   0000              	GLOBAL _intrinsic_di
698   0000              	GLOBAL _intrinsic_stub
699   0000              	GLOBAL _zx_pattern_fill_callee
700   0000              	GLOBAL _zx_pattern_fill
701   0000              	GLOBAL _zx_saddrpup_fastcall
702   0000              	GLOBAL _zx_saddrpup
703   0000              	GLOBAL _zx_saddrpright_callee
704   0000              	GLOBAL _zx_saddrpright
705   0000              	GLOBAL _zx_saddrpleft_callee
706   0000              	GLOBAL _zx_saddrpleft
707   0000              	GLOBAL _zx_saddrpdown_fastcall
708   0000              	GLOBAL _zx_saddrpdown
709   0000              	GLOBAL _zx_saddrcup_fastcall
710   0000              	GLOBAL _zx_saddrcup
711   0000              	GLOBAL _zx_saddrcright_fastcall
712   0000              	GLOBAL _zx_saddrcright
713   0000              	GLOBAL _zx_saddrcleft_fastcall
714   0000              	GLOBAL _zx_saddrcleft
715   0000              	GLOBAL _zx_saddrcdown_fastcall
716   0000              	GLOBAL _zx_saddrcdown
717   0000              	GLOBAL _zx_saddr2py_fastcall
718   0000              	GLOBAL _zx_saddr2py
719   0000              	GLOBAL _zx_saddr2px_fastcall
720   0000              	GLOBAL _zx_saddr2px
721   0000              	GLOBAL _zx_saddr2cy_fastcall
722   0000              	GLOBAL _zx_saddr2cy
723   0000              	GLOBAL _zx_saddr2cx_fastcall
724   0000              	GLOBAL _zx_saddr2cx
725   0000              	GLOBAL _zx_saddr2aaddr_fastcall
726   0000              	GLOBAL _zx_saddr2aaddr
727   0000              	GLOBAL _zx_py2saddr_fastcall
728   0000              	GLOBAL _zx_py2saddr
729   0000              	GLOBAL _zx_py2aaddr_fastcall
730   0000              	GLOBAL _zx_py2aaddr
731   0000              	GLOBAL _zx_pxy2saddr_callee
732   0000              	GLOBAL _zx_pxy2saddr
733   0000              	GLOBAL _zx_pxy2aaddr_callee
734   0000              	GLOBAL _zx_pxy2aaddr
735   0000              	GLOBAL _zx_px2bitmask_fastcall
736   0000              	GLOBAL _zx_px2bitmask
737   0000              	GLOBAL _zx_cyx2saddr_callee
738   0000              	GLOBAL _zx_cyx2saddr
739   0000              	GLOBAL _zx_cyx2aaddr_callee
740   0000              	GLOBAL _zx_cyx2aaddr
741   0000              	GLOBAL _zx_cy2saddr_fastcall
742   0000              	GLOBAL _zx_cy2saddr
743   0000              	GLOBAL _zx_cy2aaddr_fastcall
744   0000              	GLOBAL _zx_cy2aaddr
745   0000              	GLOBAL _zx_bitmask2px_fastcall
746   0000              	GLOBAL _zx_bitmask2px
747   0000              	GLOBAL _zx_aaddrcup_fastcall
748   0000              	GLOBAL _zx_aaddrcup
749   0000              	GLOBAL _zx_aaddrcright_fastcall
750   0000              	GLOBAL _zx_aaddrcright
751   0000              	GLOBAL _zx_aaddrcleft_fastcall
752   0000              	GLOBAL _zx_aaddrcleft
753   0000              	GLOBAL _zx_aaddrcdown_fastcall
754   0000              	GLOBAL _zx_aaddrcdown
755   0000              	GLOBAL _zx_aaddr2saddr_fastcall
756   0000              	GLOBAL _zx_aaddr2saddr
757   0000              	GLOBAL _zx_aaddr2py_fastcall
758   0000              	GLOBAL _zx_aaddr2py
759   0000              	GLOBAL _zx_aaddr2px_fastcall
760   0000              	GLOBAL _zx_aaddr2px
761   0000              	GLOBAL _zx_aaddr2cy_fastcall
762   0000              	GLOBAL _zx_aaddr2cy
763   0000              	GLOBAL _zx_aaddr2cx_fastcall
764   0000              	GLOBAL _zx_aaddr2cx
765   0000              	GLOBAL _zx_scroll_wc_up_callee
766   0000              	GLOBAL _zx_scroll_wc_up
767   0000              	GLOBAL _zx_scroll_up_callee
768   0000              	GLOBAL _zx_scroll_up
769   0000              	GLOBAL _zx_cls_wc_callee
770   0000              	GLOBAL _zx_cls_wc
771   0000              	GLOBAL _zx_cls_fastcall
772   0000              	GLOBAL _zx_cls
773   0000              	GLOBAL _zx_border_fastcall
774   0000              	GLOBAL _zx_border
775   0000              	GLOBAL _ay_effect_20
776   0000              	GLOBAL _ay_effect_19
777   0000              	GLOBAL _ay_effect_18
778   0000              	GLOBAL _ay_effect_17
779   0000              	GLOBAL _ay_effect_16
780   0000              	GLOBAL _ay_effect_15
781   0000              	GLOBAL _ay_effect_14
782   0000              	GLOBAL _ay_effect_13
783   0000              	GLOBAL _ay_effect_12
784   0000              	GLOBAL _ay_effect_11
785   0000              	GLOBAL _ay_effect_10
786   0000              	GLOBAL _ay_effect_09
787   0000              	GLOBAL _ay_effect_08
788   0000              	GLOBAL _ay_effect_07
789   0000              	GLOBAL _ay_effect_06
790   0000              	GLOBAL _ay_effect_05
791   0000              	GLOBAL _ay_effect_04
792   0000              	GLOBAL _ay_effect_03
793   0000              	GLOBAL _ay_effect_02
794   0000              	GLOBAL _ay_effect_01
795   0000              	GLOBAL _pb_midi_phase_1
796   0000              	GLOBAL _pb_midi_title
797   0000              	GLOBAL _joynames
798   0000              	GLOBAL _initials
799   0000              	GLOBAL _hof
800   0000              	GLOBAL _score_osd_tile
801   0000              	GLOBAL _score_osd_time
802   0000              	GLOBAL _score_osd_col
803   0000              	GLOBAL _score_osd_lin
804   0000              	GLOBAL _phase_bonus_total
805   0000              	GLOBAL _phase_angry
806   0000              	GLOBAL _phase_curr
807   0000              	GLOBAL _phase_end
808   0000              	GLOBAL _phase_coins
809   0000              	GLOBAL _phase_pop
810   0000              	GLOBAL _phase_tot
811   0000              	GLOBAL _phase_left
812   0000              	GLOBAL _phase_quota
813   0000              	GLOBAL _phases
814   0000              	GLOBAL _spr_idx
815   0000              	GLOBAL _lvl_1
816   0000              	GLOBAL _sprite_speed_alt
817   0000              	GLOBAL _sprite_speed
818   0000              	GLOBAL _screen_ink
819   0000              	GLOBAL _screen_paper
820   0000              	GLOBAL _game_menu_sel
821   0000              	GLOBAL _game_type
822   0000              	GLOBAL _game_osd
823   0000              	GLOBAL _game_bonus
824   0000              	GLOBAL _spr_water_time
825   0000              	GLOBAL _spr_water_clear
826   0000              	GLOBAL _game_time_fireball_start
827   0000              	GLOBAL _game_time_flipped
828   0000              	GLOBAL _game_score_top
829   0000              	GLOBAL _game_lives
830   0000              	GLOBAL _game_over
831   0000              	GLOBAL _game_sound
832   0000              	GLOBAL _game_two_player
833   0000              	GLOBAL _game_brick_tile
834   0000              	GLOBAL _game_pow
835   0000              	GLOBAL _spr_count
836   0000              	GLOBAL _frame_loop_count
837   0000              	GLOBAL _osd_time
838   0000              	GLOBAL _frame_time
839   0000              	GLOBAL _entry_time
840   0000              	GLOBAL _curr_time
841   0000              	GLOBAL _s_state
842   0000              	GLOBAL _attrib_hl
843   0000              	GLOBAL _attrib
844   0000              	GLOBAL _zx_val_asm
845   0000              	GLOBAL _enemies
846   0000              	GLOBAL _tmp_ui
847   0000              	GLOBAL _tmp_sc
848   0000              	GLOBAL _tmp_uc
849   0000              	GLOBAL _tmp1
850   0000              	GLOBAL _tmp0
851   0000              	GLOBAL _tmp
852   0000              	GLOBAL _index_d
853   0000              	GLOBAL _index3
854   0000              	GLOBAL _index2
855   0000              	GLOBAL _index1
856   0000              	GLOBAL _loop_count
857   0000              	GLOBAL _sprite_lin_inc_mul
858   0000              	GLOBAL _s_col1
859   0000              	GLOBAL _s_col0
860   0000              	GLOBAL _s_lin1
861   0000              	GLOBAL _s_lin0
862   0000              	GLOBAL _s_tile1
863   0000              	GLOBAL _s_tile0
864   0000              	GLOBAL _hit_count
865   0000              	GLOBAL _tile_offset_other_player
866   0000              	GLOBAL _tile_offset
867   0000              	GLOBAL _index_player
868   0000              	GLOBAL _sprite_other_player
869   0000              	GLOBAL _sprite
870   0000              	GLOBAL _player_joy
871   0000              	GLOBAL _player_next_extra
872   0000              	GLOBAL _player_score
873   0000              	GLOBAL _last_time
874   0000              	GLOBAL _sliding
875   0000              	GLOBAL _spr_timer_c
876   0000              	GLOBAL _spr_timer
877   0000              	GLOBAL _jump_lin
878   0000              	GLOBAL _player_jump_c
879   0000              	GLOBAL _hit_col
880   0000              	GLOBAL _hit_lin
881   0000              	GLOBAL _colint
882   0000              	GLOBAL _col
883   0000              	GLOBAL _lin
884   0000              	GLOBAL _tile
885   0000              	GLOBAL _state_a
886   0000              	GLOBAL _state
887   0000              	GLOBAL _class
888   0000              	GLOBAL _tbuffer
889   0000              	GLOBAL _dirs
890   0000              	GLOBAL _k2
891   0000              	GLOBAL _k1
892   0000              	GLOBAL _joyfunc2
893   0000              	GLOBAL _joyfunc1
894   0000              	GLOBAL _btiles
895   0000              	GLOBAL _spec128
896   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
897   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
898   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
899   0000              	GLOBAL _NIRVANAP_HOLE
900   0000              	GLOBAL _NIRVANAP_ISR_HOOK
901   0000              	GLOBAL _control_method
902   0000              	GLOBAL _hall_valids
903   0000              ;--------------------------------------------------------
904   0000              ; special function registers
905   0000              ;--------------------------------------------------------
906   0000              ;--------------------------------------------------------
907   0000              ; ram data
908   0000              ;--------------------------------------------------------
909   0000              	SECTION bss_compiler
910   0000              ;--------------------------------------------------------
911   0000              ; ram data
912   0000              ;--------------------------------------------------------
913   0000              
914   0000              IF 0
915   0000              
916   0000              ; .area _INITIALIZED removed by z88dk
917   0000              
918   0000              
919   0000              ENDIF
920   0000              
921   0000              ;--------------------------------------------------------
922   0000              ; absolute external ram data
923   0000              ;--------------------------------------------------------
924   0000              	SECTION IGNORE
925   0000              ;--------------------------------------------------------
926   0000              ; global & static initialisations
927   0000              ;--------------------------------------------------------
928   0000              	SECTION code_crt_init
929   0000              ;--------------------------------------------------------
930   0000              ; Home
931   0000              ;--------------------------------------------------------
932   0000              	SECTION IGNORE
933   0000              ;--------------------------------------------------------
934   0000              ; code
935   0000              ;--------------------------------------------------------
936   0000              	SECTION code_compiler
937   0000              ;	---------------------------------
938   0000              ; Function game_calc_index
939   0000              ; ---------------------------------
940   0000              _game_calc_index:
941   0000  CD 00 00    	call	___sdcc_enter_ix
942   0003  DD 4E 05    	ld	c,(ix+5)
943   0006  06 00       	ld	b,0x00
944   0008  DD 7E 04    	ld	a,(ix+4)
945   000B  0F          	rrca
946   000C  0F          	rrca
947   000D  0F          	rrca
948   000E  E6 1F       	and	a,0x1f
949   0010  6F          	ld	l,a
950   0011  26 00       	ld	h,0x00
951   0013  29          	add	hl, hl
952   0014  29          	add	hl, hl
953   0015  29          	add	hl, hl
954   0016  29          	add	hl, hl
955   0017  29          	add	hl, hl
956   0018  09          	add	hl,bc
957   0019  DD E1       	pop	ix
958   001B  C9          	ret
959   001C              	SECTION code_compiler
960   001C              ;	---------------------------------
961   001C              ; Function game_print_footer
962   001C              ; ---------------------------------
963   001C              _game_print_footer:
964   001C  21 00 00    	ld	hl,___str_0
965   001F  E5          	push	hl
966   0020  21 16 01    	ld	hl,0x0116
967   0023  E5          	push	hl
968   0024  CD 00 00    	call	_zx_print_str
969   0027  21 00 00    	ld	hl,___str_0
970   002A  E5          	push	hl
971   002B  21 16 1E    	ld	hl,0x1e16
972   002E  E5          	push	hl
973   002F  CD 00 00    	call	_zx_print_str
974   0032  21 02 00    	ld	hl,___str_1
975   0035  E5          	push	hl
976   0036  21 17 01    	ld	hl,0x0117
977   0039  E5          	push	hl
978   003A  CD 00 00    	call	_zx_print_str
979   003D  21 02 00    	ld	hl,___str_1
980   0040  E5          	push	hl
981   0041  21 17 1E    	ld	hl,0x1e17
982   0044  E5          	push	hl
983   0045  CD 00 00    	call	_zx_print_str
984   0048  3A 00 00    	ld	a,(_game_lives)
985   004B  B7          	or	a, a
986   004C  28 20       	jr	Z,l_game_print_footer_00102
987   004E  21 00 00    	ld	hl,_screen_ink
988   0051  36 02       	ld	(hl),0x02
989   0053  21 08 00    	ld	hl,___str_2
990   0056  E5          	push	hl
991   0057  21 16 01    	ld	hl,0x0116
992   005A  E5          	push	hl
993   005B  CD 00 00    	call	_zx_print_str
994   005E  21 00 00    	ld	hl,_screen_ink
995   0061  36 06       	ld	(hl),0x06
996   0063  21 0A 00    	ld	hl,___str_3
997   0066  E5          	push	hl
998   0067  21 17 01    	ld	hl,0x0117
999   006A  E5          	push	hl
1000  006B  CD 00 00    	call	_zx_print_str
1001  006E              l_game_print_footer_00102:
1002  006E  3A 01 00    	ld	a, (_game_lives + 1)
1003  0071  B7          	or	a, a
1004  0072  28 20       	jr	Z,l_game_print_footer_00104
1005  0074  21 00 00    	ld	hl,_screen_ink
1006  0077  36 07       	ld	(hl),0x07
1007  0079  21 0C 00    	ld	hl,___str_4
1008  007C  E5          	push	hl
1009  007D  21 16 1E    	ld	hl,0x1e16
1010  0080  E5          	push	hl
1011  0081  CD 00 00    	call	_zx_print_str
1012  0084  21 00 00    	ld	hl,_screen_ink
1013  0087  36 06       	ld	(hl),0x06
1014  0089  21 0E 00    	ld	hl,___str_5
1015  008C  E5          	push	hl
1016  008D  21 17 1E    	ld	hl,0x1e17
1017  0090  E5          	push	hl
1018  0091  CD 00 00    	call	_zx_print_str
1019  0094              l_game_print_footer_00104:
1020  0094  CD E7 00    	call	_game_print_lives
1021  0097  21 10 00    	ld	hl,___str_6
1022  009A  E5          	push	hl
1023  009B  21 17 0B    	ld	hl,0x0b17
1024  009E  E5          	push	hl
1025  009F  CD 00 00    	call	_zx_print_str
1026  00A2  21 00 00    	ld	hl,_phase_curr
1027  00A5  46          	ld	b,(hl)
1028  00A6  04          	inc	b
1029  00A7  C5          	push	bc
1030  00A8  33          	inc	sp
1031  00A9  21 17 12    	ld	hl,0x1217
1032  00AC  E5          	push	hl
1033  00AD  CD 00 00    	call	_zx_print_chr
1034  00B0  C9          	ret
1035  00B1              	SECTION rodata_compiler
1036  0000              ___str_0:
1037  0000  20          	DEFM " "
1038  0001  00          	DEFB 0x00
1039  0002              	SECTION rodata_compiler
1040  0002              ___str_1:
1041  0002  20 20 20 20 20 
                        	DEFM "     "
1042  0007  00          	DEFB 0x00
1043  0008              	SECTION rodata_compiler
1044  0008              ___str_2:
1045  0008  3C          	DEFM "<"
1046  0009  00          	DEFB 0x00
1047  000A              	SECTION rodata_compiler
1048  000A              ___str_3:
1049  000A  5C          	DEFB 0x5c
1050  000B  00          	DEFB 0x00
1051  000C              	SECTION rodata_compiler
1052  000C              ___str_4:
1053  000C  3E          	DEFM ">"
1054  000D  00          	DEFB 0x00
1055  000E              	SECTION rodata_compiler
1056  000E              ___str_5:
1057  000E  5E          	DEFM "^"
1058  000F  00          	DEFB 0x00
1059  0010              	SECTION rodata_compiler
1060  0010              ___str_6:
1061  0010  50 48 41 53 45 
                        	DEFM "PHASE"
1062  0015  00          	DEFB 0x00
1063  0016              	SECTION code_compiler
1064  00B1              ;	---------------------------------
1065  00B1              ; Function game_phase_print_score_back
1066  00B1              ; ---------------------------------
1067  00B1              _game_phase_print_score_back:
1068  00B1  21 00 00    	ld	hl,_screen_ink
1069  00B4  36 02       	ld	(hl),0x02
1070  00B6  21 16 00    	ld	hl,___str_7
1071  00B9  E5          	push	hl
1072  00BA  21 00 0B    	ld	hl,0x0b00
1073  00BD  E5          	push	hl
1074  00BE  CD 00 00    	call	_zx_print_str
1075  00C1  21 00 00    	ld	hl,_screen_ink
1076  00C4  36 01       	ld	(hl),0x01
1077  00C6  21 1A 00    	ld	hl,___str_8
1078  00C9  E5          	push	hl
1079  00CA  21 00 01    	ld	hl,0x0100
1080  00CD  E5          	push	hl
1081  00CE  CD 00 00    	call	_zx_print_str
1082  00D1  3A 00 00    	ld	a,(_game_two_player)
1083  00D4  B7          	or	a, a
1084  00D5  C8          	ret	Z
1085  00D6  21 00 00    	ld	hl,_screen_ink
1086  00D9  36 04       	ld	(hl),0x04
1087  00DB  21 1D 00    	ld	hl,___str_9
1088  00DE  E5          	push	hl
1089  00DF  21 00 16    	ld	hl,0x1600
1090  00E2  E5          	push	hl
1091  00E3  CD 00 00    	call	_zx_print_str
1092  00E6  C9          	ret
1093  00E7              	SECTION rodata_compiler
1094  0016              ___str_7:
1095  0016  24 25 7C    	DEFM "$%|"
1096  0019  00          	DEFB 0x00
1097  001A              	SECTION rodata_compiler
1098  001A              ___str_8:
1099  001A  5B 7C       	DEFM "[|"
1100  001C  00          	DEFB 0x00
1101  001D              	SECTION rodata_compiler
1102  001D              ___str_9:
1103  001D  5D 7C       	DEFM "]|"
1104  001F  00          	DEFB 0x00
1105  0020              	SECTION code_compiler
1106  00E7              ;	---------------------------------
1107  00E7              ; Function game_print_lives
1108  00E7              ; ---------------------------------
1109  00E7              _game_print_lives:
1110  00E7  21 00 00    	ld	hl,_screen_ink
1111  00EA  36 07       	ld	(hl),0x07
1112  00EC  3A 00 00    	ld	a,(_game_lives)
1113  00EF  C6 FF       	add	a,0xff
1114  00F1  21 00 00    	ld	hl,_tmp
1115  00F4  77          	ld	(hl),a
1116  00F5  D6 FF       	sub	a,0xff
1117  00F7  30 0A       	jr	NC,l_game_print_lives_00102
1118  00F9  7E          	ld	a,(hl)
1119  00FA  F5          	push	af
1120  00FB  33          	inc	sp
1121  00FC  21 17 03    	ld	hl,0x0317
1122  00FF  E5          	push	hl
1123  0100  CD 00 00    	call	_zx_print_chr
1124  0103              l_game_print_lives_00102:
1125  0103  3A 01 00    	ld	a, (_game_lives + 1)
1126  0106  C6 FF       	add	a,0xff
1127  0108  21 00 00    	ld	hl,_tmp
1128  010B  77          	ld	(hl),a
1129  010C  D6 FF       	sub	a,0xff
1130  010E  D0          	ret	NC
1131  010F  7E          	ld	a,(hl)
1132  0110  F5          	push	af
1133  0111  33          	inc	sp
1134  0112  21 17 1A    	ld	hl,0x1a17
1135  0115  E5          	push	hl
1136  0116  CD 00 00    	call	_zx_print_chr
1137  0119  C9          	ret
1138  011A              	SECTION code_compiler
1139  011A              ;	---------------------------------
1140  011A              ; Function game_tick
1141  011A              ; ---------------------------------
1142  011A              _game_tick:
1143  011A  21 00 00    	ld	hl,_curr_time
1144  011D  34          	inc	(hl)
1145  011E  C2 00 00    	jp	NZ,_zx_isr
1146  0121  23          	inc	hl
1147  0122  34          	inc	(hl)
1148  0123  C3 00 00    	jp  _zx_isr
1149  0126              	SECTION code_compiler
1150  0126              ;	---------------------------------
1151  0126              ; Function game_start_timer
1152  0126              ; ---------------------------------
1153  0126              _game_start_timer:
1154  0126  01 00 00    	ld	bc,_NIRVANAP_ISR_HOOK+0
1155  0129  3E CD       	ld	a,0xcd
1156  012B  02          	ld	(bc),a
1157  012C  03          	inc	bc
1158  012D  11 1A 01    	ld	de,_game_tick
1159  0130  7B          	ld	a,e
1160  0131  02          	ld	(bc),a
1161  0132  03          	inc	bc
1162  0133  7A          	ld	a,d
1163  0134  02          	ld	(bc),a
1164  0135  C9          	ret
1165  0136              	SECTION code_compiler
1166  0136              ;	---------------------------------
1167  0136              ; Function game_phase_calc
1168  0136              ; ---------------------------------
1169  0136              _game_phase_calc:
1170  0136  3A 00 00    	ld	a,(_phase_curr)
1171  0139  87          	add	a, a
1172  013A  87          	add	a, a
1173  013B  21 00 00    	ld	hl,_tmp_uc
1174  013E  77          	ld	(hl),a
1175  013F  01 00 00    	ld	bc,_phases+0
1176  0142  5E          	ld	e,(hl)
1177  0143  16 00       	ld	d,0x00
1178  0145  69          	ld	l, c
1179  0146  60          	ld	h, b
1180  0147  19          	add	hl,de
1181  0148  7E          	ld	a,(hl)
1182  0149  32 00 00    	ld	(_phase_quota),a
1183  014C  2A 00 00    	ld	hl,(_tmp_uc)
1184  014F  26 00       	ld	h,0x00
1185  0151  23          	inc	hl
1186  0152  09          	add	hl,bc
1187  0153  7E          	ld	a,(hl)
1188  0154  32 01 00    	ld	((_phase_quota + 0x0001)),a
1189  0157  2A 00 00    	ld	hl,(_tmp_uc)
1190  015A  26 00       	ld	h,0x00
1191  015C  23          	inc	hl
1192  015D  23          	inc	hl
1193  015E  09          	add	hl,bc
1194  015F  7E          	ld	a,(hl)
1195  0160  32 02 00    	ld	((_phase_quota + 0x0002)),a
1196  0163  2A 00 00    	ld	hl,(_tmp_uc)
1197  0166  26 00       	ld	h,0x00
1198  0168  23          	inc	hl
1199  0169  23          	inc	hl
1200  016A  23          	inc	hl
1201  016B  09          	add	hl,bc
1202  016C  7E          	ld	a,(hl)
1203  016D  32 00 00    	ld	(_game_brick_tile),a
1204  0170  CD 3D 0C    	call	_game_unfreeze_all
1205  0173  3A 00 00    	ld	a,(_game_brick_tile)
1206  0176  D6 8B       	sub	a,0x8b
1207  0178  20 03       	jr	NZ,l_game_phase_calc_00102
1208  017A  CD 66 0C    	call	_game_freeze_all
1209  017D              l_game_phase_calc_00102:
1210  017D  3A 00 00    	ld	a,(_game_brick_tile)
1211  0180  4F          	ld	c,a
1212  0181  06 00       	ld	b,0x00
1213  0183  ED 43 24 00 	ld	(_spr_idx + 0x0024),bc
1214  0187  21 00 00    	ld	hl,_phase_quota
1215  018A  4E          	ld	c,(hl)
1216  018B  21 01 00    	ld	hl,+(_phase_quota + 0x0001)
1217  018E  46          	ld	b,(hl)
1218  018F  79          	ld	a,c
1219  0190  80          	add	a, b
1220  0191  4F          	ld	c,a
1221  0192  2A 02 00    	ld	hl,(_phase_quota + 0x0002)
1222  0195  26 00       	ld	h,+((_phase_quota+0x0002) / 256)
1223  0197  09          	add	hl, bc
1224  0198  C9          	ret
1225  0199              	SECTION code_compiler
1226  0199              ;	---------------------------------
1227  0199              ; Function game_phase_init
1228  0199              ; ---------------------------------
1229  0199              _game_phase_init:
1230  0199  CD 00 00    	call	_ay_reset
1231  019C  3A 00 00    	ld	a,(_game_bonus)
1232  019F  B7          	or	a, a
1233  01A0  20 06       	jr	NZ,l_game_phase_init_00102
1234  01A2  21 00 00    	ld	hl,_pb_midi_phase_1
1235  01A5  CD 00 00    	call	_ay_midi_play
1236  01A8              l_game_phase_init_00102:
1237  01A8  21 00 00    	ld	hl,0x0000
1238  01AB  22 00 00    	ld	(_loop_count),hl
1239  01AE  21 00 00    	ld	hl,_phase_end
1240  01B1  36 00       	ld	(hl),0x00
1241  01B3  21 00 00    	ld	hl,_phase_angry
1242  01B6  36 00       	ld	(hl),0x00
1243  01B8  21 00 00    	ld	hl,_phase_coins
1244  01BB  36 00       	ld	(hl),0x00
1245  01BD  21 00 00    	ld	hl,_phase_pop
1246  01C0  36 00       	ld	(hl),0x00
1247  01C2  21 00 00    	ld	hl,_game_bonus
1248  01C5  36 00       	ld	(hl),0x00
1249  01C7  21 00 00    	ld	hl,0x0000
1250  01CA  22 00 00    	ld	(_entry_time),hl
1251  01CD  21 00 00    	ld	hl,0
1252  01D0  22 00 00    	ld	(_curr_time),hl
1253  01D3  21 00 00    	ld	hl,0x0000
1254  01D6  22 00 00    	ld	(_frame_time),hl
1255  01D9  21 FF FF    	ld	hl,0xffff
1256  01DC  22 00 00    	ld	(_score_osd_col),hl
1257  01DF  CD 00 00    	call	_spr_draw_clear
1258  01E2  CD 00 00    	call	_spr_cortina_pipes
1259  01E5  21 00 00    	ld	hl,0x0000
1260  01E8  CD 00 00    	call	_zx_cls_fastcall
1261  01EB  21 00 00    	ld	hl,_spr_count
1262  01EE  36 00       	ld	(hl),0x00
1263  01F0  3A 00 00    	ld	a,(_game_type)
1264  01F3  D6 02       	sub	a,0x02
1265  01F5  CA 81 02    	jp	Z,l_game_phase_init_00106
1266  01F8  CD 36 01    	call	_game_phase_calc
1267  01FB  7D          	ld	a,l
1268  01FC  32 00 00    	ld	(_phase_left),a
1269  01FF  32 00 00    	ld	(_phase_tot),a
1270  0202  21 00 00    	ld	hl,_phase_left
1271  0205  7E          	ld	a,(hl)
1272  0206  B7          	or	a, a
1273  0207  C2 96 02    	jp	NZ,l_game_phase_init_00107
1274  020A  01 00 00    	ld	bc,_phase_bonus_total+0
1275  020D  AF          	xor	a, a
1276  020E  02          	ld	(bc),a
1277  020F  03          	inc	bc
1278  0210  AF          	xor	a, a
1279  0211  02          	ld	(bc),a
1280  0212  36 06       	ld	(hl),0x06
1281  0214  21 00 00    	ld	hl,_game_bonus
1282  0217  36 01       	ld	(hl),0x01
1283  0219  21 0C 00    	ld	hl,0x000c
1284  021C  E5          	push	hl
1285  021D  21 90 08    	ld	hl,0x0890
1286  0220  E5          	push	hl
1287  0221  AF          	xor	a, a
1288  0222  F5          	push	af
1289  0223  33          	inc	sp
1290  0224  CD 00 00    	call	_enemy_init
1291  0227  F1          	pop	af
1292  0228  33          	inc	sp
1293  0229  21 0C 00    	ld	hl,0x000c
1294  022C  E3          	ex	(sp),hl
1295  022D  21 90 16    	ld	hl,0x1690
1296  0230  E5          	push	hl
1297  0231  3E 01       	ld	a,0x01
1298  0233  F5          	push	af
1299  0234  33          	inc	sp
1300  0235  CD 00 00    	call	_enemy_init
1301  0238  F1          	pop	af
1302  0239  33          	inc	sp
1303  023A  21 0C 00    	ld	hl,0x000c
1304  023D  E3          	ex	(sp),hl
1305  023E  21 50 06    	ld	hl,0x0650
1306  0241  E5          	push	hl
1307  0242  3E 02       	ld	a,0x02
1308  0244  F5          	push	af
1309  0245  33          	inc	sp
1310  0246  CD 00 00    	call	_enemy_init
1311  0249  F1          	pop	af
1312  024A  33          	inc	sp
1313  024B  21 0C 00    	ld	hl,0x000c
1314  024E  E3          	ex	(sp),hl
1315  024F  21 50 18    	ld	hl,0x1850
1316  0252  E5          	push	hl
1317  0253  3E 03       	ld	a,0x03
1318  0255  F5          	push	af
1319  0256  33          	inc	sp
1320  0257  CD 00 00    	call	_enemy_init
1321  025A  F1          	pop	af
1322  025B  33          	inc	sp
1323  025C  21 0C 00    	ld	hl,0x000c
1324  025F  E3          	ex	(sp),hl
1325  0260  21 10 05    	ld	hl,0x0510
1326  0263  E5          	push	hl
1327  0264  3E 04       	ld	a,0x04
1328  0266  F5          	push	af
1329  0267  33          	inc	sp
1330  0268  CD 00 00    	call	_enemy_init
1331  026B  F1          	pop	af
1332  026C  33          	inc	sp
1333  026D  21 0C 00    	ld	hl,0x000c
1334  0270  E3          	ex	(sp),hl
1335  0271  21 10 19    	ld	hl,0x1910
1336  0274  E5          	push	hl
1337  0275  3E 05       	ld	a,0x05
1338  0277  F5          	push	af
1339  0278  33          	inc	sp
1340  0279  CD 00 00    	call	_enemy_init
1341  027C  F1          	pop	af
1342  027D  F1          	pop	af
1343  027E  33          	inc	sp
1344  027F  18 15       	jr	l_game_phase_init_00107
1345  0281              l_game_phase_init_00106:
1346  0281  21 00 00    	ld	hl,_phase_left
1347  0284  36 FF       	ld	(hl),0xff
1348  0286  21 00 00    	ld	hl,_phase_curr
1349  0289  36 FF       	ld	(hl),0xff
1350  028B  21 00 00    	ld	hl,_game_brick_tile
1351  028E  36 84       	ld	(hl),0x84
1352  0290  21 84 00    	ld	hl,0x0084
1353  0293  22 24 00    	ld	(_spr_idx + 0x0024),hl
1354  0296              l_game_phase_init_00107:
1355  0296  CD 00 00    	call	_spr_draw_back
1356  0299  CD D6 02    	call	_game_print_header
1357  029C  CD 1C 00    	call	_game_print_footer
1358  029F  21 64 00    	ld	hl,0x0064
1359  02A2  CD 00 00    	call	_z80_delay_ms_fastcall
1360  02A5  21 00 00    	ld	hl,_game_osd
1361  02A8  36 01       	ld	(hl),0x01
1362  02AA  2A 00 00    	ld	hl,(_curr_time)
1363  02AD  22 00 00    	ld	(_osd_time),hl
1364  02B0  3A 00 00    	ld	a,(_game_lives)
1365  02B3  B7          	or	a,a
1366  02B4  28 0D       	jr	Z,l_game_phase_init_00109
1367  02B6  21 0A 03    	ld	hl,0x030a
1368  02B9  E5          	push	hl
1369  02BA  21 07 98    	ld	hl,0x9807
1370  02BD  E5          	push	hl
1371  02BE  CD 00 00    	call	_player_init
1372  02C1  F1          	pop	af
1373  02C2  F1          	pop	af
1374  02C3              l_game_phase_init_00109:
1375  02C3  3A 01 00    	ld	a, (_game_lives + 1)
1376  02C6  B7          	or	a, a
1377  02C7  C8          	ret	Z
1378  02C8  21 14 27    	ld	hl,0x2714
1379  02CB  E5          	push	hl
1380  02CC  21 06 98    	ld	hl,0x9806
1381  02CF  E5          	push	hl
1382  02D0  CD 00 00    	call	_player_init
1383  02D3  F1          	pop	af
1384  02D4  F1          	pop	af
1385  02D5  C9          	ret
1386  02D6              	SECTION code_compiler
1387  02D6              ;	---------------------------------
1388  02D6              ; Function game_print_header
1389  02D6              ; ---------------------------------
1390  02D6              _game_print_header:
1391  02D6  CD B1 00    	call	_game_phase_print_score_back
1392  02D9  21 00 00    	ld	hl,_screen_ink
1393  02DC  36 07       	ld	(hl),0x07
1394  02DE  C3 8F 0C    	jp  _game_print_score
1395  02E1              	SECTION code_compiler
1396  02E1              ;	---------------------------------
1397  02E1              ; Function game_phase_print
1398  02E1              ; ---------------------------------
1399  02E1              _game_phase_print:
1400  02E1  45          	ld	b,l
1401  02E2  C5          	push	bc
1402  02E3  21 20 00    	ld	hl,___str_10
1403  02E6  E5          	push	hl
1404  02E7  3E 0B       	ld	a,0x0b
1405  02E9  48          	ld	c,b
1406  02EA  47          	ld	b,a
1407  02EB  C5          	push	bc
1408  02EC  CD 00 00    	call	_zx_print_str
1409  02EF  C1          	pop	bc
1410  02F0  3A 00 00    	ld	a,(_phase_curr)
1411  02F3  D6 1F       	sub	a,0x1f
1412  02F5  30 3F       	jr	NC,l_game_phase_print_00108
1413  02F7  3A 00 00    	ld	a,(_game_bonus)
1414  02FA  B7          	or	a, a
1415  02FB  20 2B       	jr	NZ,l_game_phase_print_00102
1416  02FD  C5          	push	bc
1417  02FE  21 26 00    	ld	hl,___str_11
1418  0301  E5          	push	hl
1419  0302  3E 10       	ld	a,0x10
1420  0304  48          	ld	c,b
1421  0305  47          	ld	b,a
1422  0306  C5          	push	bc
1423  0307  CD 00 00    	call	_zx_print_str
1424  030A  C1          	pop	bc
1425  030B  21 00 00    	ld	hl,_phase_curr
1426  030E  56          	ld	d,(hl)
1427  030F  14          	inc	d
1428  0310  C5          	push	bc
1429  0311  1E 12       	ld	e,0x12
1430  0313  D5          	push	de
1431  0314  C5          	push	bc
1432  0315  33          	inc	sp
1433  0316  CD 00 00    	call	_zx_print_chr
1434  0319  C1          	pop	bc
1435  031A  21 26 00    	ld	hl,___str_11
1436  031D  E5          	push	hl
1437  031E  3E 15       	ld	a,0x15
1438  0320  48          	ld	c,b
1439  0321  47          	ld	b,a
1440  0322  C5          	push	bc
1441  0323  CD 00 00    	call	_zx_print_str
1442  0326  18 2F       	jr	l_game_phase_print_00110
1443  0328              l_game_phase_print_00102:
1444  0328  21 29 00    	ld	hl,___str_12
1445  032B  E5          	push	hl
1446  032C  3E 11       	ld	a,0x11
1447  032E  48          	ld	c,b
1448  032F  47          	ld	b,a
1449  0330  C5          	push	bc
1450  0331  CD 00 00    	call	_zx_print_str
1451  0334  18 21       	jr	l_game_phase_print_00110
1452  0336              l_game_phase_print_00108:
1453  0336  3A 00 00    	ld	a,(_game_type)
1454  0339  D6 02       	sub	a,0x02
1455  033B  28 0E       	jr	Z,l_game_phase_print_00105
1456  033D  21 30 00    	ld	hl,___str_13
1457  0340  E5          	push	hl
1458  0341  3E 11       	ld	a,0x11
1459  0343  48          	ld	c,b
1460  0344  47          	ld	b,a
1461  0345  C5          	push	bc
1462  0346  CD 00 00    	call	_zx_print_str
1463  0349  18 0C       	jr	l_game_phase_print_00110
1464  034B              l_game_phase_print_00105:
1465  034B  21 37 00    	ld	hl,___str_14
1466  034E  E5          	push	hl
1467  034F  3E 11       	ld	a,0x11
1468  0351  48          	ld	c,b
1469  0352  47          	ld	b,a
1470  0353  C5          	push	bc
1471  0354  CD 00 00    	call	_zx_print_str
1472  0357              l_game_phase_print_00110:
1473  0357  C9          	ret
1474  0358              	SECTION rodata_compiler
1475  0020              ___str_10:
1476  0020  50 48 41 53 45 
                        	DEFM "PHASE"
1477  0025  00          	DEFB 0x00
1478  0026              	SECTION rodata_compiler
1479  0026              ___str_11:
1480  0026  20 20       	DEFM "  "
1481  0028  00          	DEFB 0x00
1482  0029              	SECTION rodata_compiler
1483  0029              ___str_12:
1484  0029  42 4F 4E 55 53 20 
                        	DEFM "BONUS "
1485  002F  00          	DEFB 0x00
1486  0030              	SECTION rodata_compiler
1487  0030              ___str_13:
1488  0030  48 45 4C 4C 20 20 
                        	DEFM "HELL  "
1489  0036  00          	DEFB 0x00
1490  0037              	SECTION rodata_compiler
1491  0037              ___str_14:
1492  0037  49 4E 46 49 54 59 
                        	DEFM "INFITY"
1493  003D  00          	DEFB 0x00
1494  003E              	SECTION code_compiler
1495  0358              ;	---------------------------------
1496  0358              ; Function game_loop
1497  0358              ; ---------------------------------
1498  0358              _game_loop:
1499  0358  21 3E 00    	ld	hl,___str_15
1500  035B  E5          	push	hl
1501  035C  21 16 07    	ld	hl,0x0716
1502  035F  E5          	push	hl
1503  0360  CD 00 00    	call	_zx_print_str
1504  0363  21 51 00    	ld	hl,___str_16
1505  0366  E5          	push	hl
1506  0367  21 17 07    	ld	hl,0x0717
1507  036A  E5          	push	hl
1508  036B  CD 00 00    	call	_zx_print_str
1509  036E  21 00 00    	ld	hl,_ay_effect_10
1510  0371  CD 00 00    	call	_ay_fx_play
1511  0374  CD 00 00    	call	_sound_coin
1512  0377  21 C8 00    	ld	hl,0x00c8
1513  037A  CD 00 00    	call	_z80_delay_ms_fastcall
1514  037D  21 64 00    	ld	hl,___str_17
1515  0380  E5          	push	hl
1516  0381  21 16 07    	ld	hl,0x0716
1517  0384  E5          	push	hl
1518  0385  CD 00 00    	call	_zx_print_str
1519  0388  CD 00 00    	call	_ay_reset
1520  038B  21 11 11    	ld	hl,0x1111
1521  038E  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
1522  0391  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
1523  0394  01 00 00    	ld	bc,_game_lives+0
1524  0397  3E 04       	ld	a,0x04
1525  0399  02          	ld	(bc),a
1526  039A  03          	inc	bc
1527  039B  3A 00 00    	ld	a,(_game_two_player)
1528  039E  B7          	or	a,a
1529  039F  28 05       	jr	Z,l_game_loop_00102
1530  03A1  3E 04       	ld	a,0x04
1531  03A3  02          	ld	(bc),a
1532  03A4  18 02       	jr	l_game_loop_00103
1533  03A6              l_game_loop_00102:
1534  03A6  AF          	xor	a, a
1535  03A7  02          	ld	(bc),a
1536  03A8              l_game_loop_00103:
1537  03A8  21 00 00    	ld	hl,0x0000
1538  03AB  22 00 00    	ld	(_player_score), hl
1539  03AE  2E 00       	ld	l,0x00
1540  03B0  22 02 00    	ld	(_player_score + 0x0002),hl
1541  03B3  21 D0 07    	ld	hl,0x07d0
1542  03B6  22 00 00    	ld	(_player_next_extra), hl
1543  03B9  2E D0       	ld	l,0xd0
1544  03BB  22 02 00    	ld	(_player_next_extra + 0x0002),hl
1545  03BE  21 00 00    	ld	hl,_spr_water_clear
1546  03C1  36 FF       	ld	(hl),0xff
1547  03C3  3A 00 00    	ld	a,(_game_type)
1548  03C6  B7          	or	a, a
1549  03C7  20 0E       	jr	NZ,l_game_loop_00105
1550  03C9  21 F4 01    	ld	hl,0x01f4
1551  03CC  22 00 00    	ld	(_game_time_flipped),hl
1552  03CF  21 D0 07    	ld	hl,0x07d0
1553  03D2  22 00 00    	ld	(_game_time_fireball_start),hl
1554  03D5  18 0C       	jr	l_game_loop_00106
1555  03D7              l_game_loop_00105:
1556  03D7  21 FA 00    	ld	hl,0x00fa
1557  03DA  22 00 00    	ld	(_game_time_flipped),hl
1558  03DD  21 F4 01    	ld	hl,0x01f4
1559  03E0  22 00 00    	ld	(_game_time_fireball_start),hl
1560  03E3              l_game_loop_00106:
1561  03E3  21 00 00    	ld	hl,_game_over
1562  03E6  36 00       	ld	(hl),0x00
1563  03E8  21 00 00    	ld	hl,_game_pow
1564  03EB  36 03       	ld	(hl),0x03
1565  03ED  21 00 00    	ld	hl,_phase_curr
1566  03F0  36 00       	ld	(hl),0x00
1567  03F2  CD 99 01    	call	_game_phase_init
1568  03F5  21 00 00    	ld	hl,_sprite_lin_inc_mul
1569  03F8  36 00       	ld	(hl),0x00
1570  03FA  21 00 00    	ld	hl,0x0000
1571  03FD  22 00 00    	ld	(_loop_count),hl
1572  0400  21 00 00    	ld	hl,_dirs
1573  0403  36 00       	ld	(hl),0x00
1574  0405  CD 3D 0C    	call	_game_unfreeze_all
1575  0408  CD 31 0F    	call	_game_joystick_set
1576  040B              l_game_loop_00132:
1577  040B  3A 00 00    	ld	a,(_game_over)
1578  040E  B7          	or	a, a
1579  040F  C2 F7 04    	jp	NZ,l_game_loop_00134
1580  0412  CD 00 00    	call	_player_set1
1581  0415  CD 00 00    	call	_player_turn
1582  0418  CD 00 00    	call	_player_set2
1583  041B  CD 00 00    	call	_player_turn
1584  041E  CD 00 00    	call	_enemy_turn
1585  0421  3A 00 00    	ld	a,(_game_bonus)
1586  0424  B7          	or	a, a
1587  0425  28 16       	jr	Z,l_game_loop_00111
1588  0427  CD 98 06    	call	_game_bonus_clock
1589  042A  3A 00 00    	ld	a,(_phase_left)
1590  042D  B7          	or	a, a
1591  042E  28 0D       	jr	Z,l_game_loop_00111
1592  0430  CD 00 00    	call	_ay_is_playing
1593  0433  7D          	ld	a,l
1594  0434  B7          	or	a, a
1595  0435  20 06       	jr	NZ,l_game_loop_00111
1596  0437  21 00 00    	ld	hl,_ay_effect_19
1597  043A  CD 00 00    	call	_ay_fx_play
1598  043D              l_game_loop_00111:
1599  043D  3A 00 00    	ld	a,(_game_osd)
1600  0440  B7          	or	a, a
1601  0441  28 45       	jr	Z,l_game_loop_00117
1602  0443  21 05 00    	ld	hl,0x0005
1603  0446  E5          	push	hl
1604  0447  2A 00 00    	ld	hl,(_osd_time)
1605  044A  E5          	push	hl
1606  044B  CD 3A 1A    	call	_game_check_time
1607  044E  F1          	pop	af
1608  044F  F1          	pop	af
1609  0450  7D          	ld	a,l
1610  0451  B7          	or	a, a
1611  0452  28 1B       	jr	Z,l_game_loop_00113
1612  0454  2A 00 00    	ld	hl,(_curr_time)
1613  0457  22 00 00    	ld	(_osd_time),hl
1614  045A  2E 0C       	ld	l,0x0c
1615  045C  CD E1 02    	call	_game_phase_print
1616  045F  21 17 68    	ld	hl,0x6817
1617  0462  E5          	push	hl
1618  0463  3E 0B       	ld	a,0x0b
1619  0465  F5          	push	af
1620  0466  33          	inc	sp
1621  0467  CD 0B 0D    	call	_game_paint_attrib_lin_h
1622  046A  F1          	pop	af
1623  046B  33          	inc	sp
1624  046C  CD 8C 19    	call	_game_rotate_attrib
1625  046F              l_game_loop_00113:
1626  046F  21 00 00    	ld	hl,_loop_count
1627  0472  7E          	ld	a,(hl)
1628  0473  D6 90       	sub	a,0x90
1629  0475  20 11       	jr	NZ,l_game_loop_00117
1630  0477  23          	inc	hl
1631  0478  7E          	ld	a,(hl)
1632  0479  3D          	dec	a
1633  047A  20 0C       	jr	NZ,l_game_loop_00117
1634  047C  21 0C 20    	ld	hl,0x200c
1635  047F  E5          	push	hl
1636  0480  CD 00 00    	call	_game_fill_row
1637  0483  21 00 00    	ld	hl,_game_osd
1638  0486  36 00       	ld	(hl),0x00
1639  0488              l_game_loop_00117:
1640  0488  CD 00 00    	call	_spr_water_splash_clear
1641  048B  21 64 00    	ld	hl,0x0064
1642  048E  E5          	push	hl
1643  048F  2A 00 00    	ld	hl,(_frame_time)
1644  0492  E5          	push	hl
1645  0493  CD 3A 1A    	call	_game_check_time
1646  0496  F1          	pop	af
1647  0497  F1          	pop	af
1648  0498  7D          	ld	a,l
1649  0499  B7          	or	a, a
1650  049A  28 4F       	jr	Z,l_game_loop_00131
1651  049C  2A 00 00    	ld	hl,(_curr_time)
1652  049F  22 00 00    	ld	(_frame_time),hl
1653  04A2  3A 00 00    	ld	a,(_game_bonus)
1654  04A5  B7          	or	a,a
1655  04A6  20 03       	jr	NZ,l_game_loop_00119
1656  04A8  CD ED 08    	call	_game_enemy_add
1657  04AB              l_game_loop_00119:
1658  04AB  3A 00 00    	ld	a,(_phase_end)
1659  04AE  3D          	dec	a
1660  04AF  20 3A       	jr	NZ,l_game_loop_00131
1661  04B1  3A 00 00    	ld	a,(_game_type)
1662  04B4  D6 02       	sub	a,0x02
1663  04B6  28 33       	jr	Z,l_game_loop_00131
1664  04B8  21 90 01    	ld	hl,0x0190
1665  04BB  CD 00 00    	call	_z80_delay_ms_fastcall
1666  04BE  CD 00 00    	call	_ay_is_playing
1667  04C1  7D          	ld	a, l
1668  04C2  D6 02       	sub	a,0x02
1669  04C4  30 03       	jr	NC,l_game_loop_00121
1670  04C6  CD 00 00    	call	_ay_reset
1671  04C9              l_game_loop_00121:
1672  04C9  CD BB 08    	call	_game_kill_all_sprites
1673  04CC  3A 00 00    	ld	a,(_game_bonus)
1674  04CF  B7          	or	a, a
1675  04D0  28 03       	jr	Z,l_game_loop_00123
1676  04D2  CD FE 06    	call	_game_bonus_summary
1677  04D5              l_game_loop_00123:
1678  04D5  21 00 00    	ld	hl,_phase_curr
1679  04D8  34          	inc	(hl)
1680  04D9  3E 1F       	ld	a,0x1f
1681  04DB  96          	sub	a, (hl)
1682  04DC  30 0A       	jr	NC,l_game_loop_00125
1683  04DE  CD 47 12    	call	_game_end
1684  04E1  21 00 00    	ld	hl,_game_over
1685  04E4  36 01       	ld	(hl),0x01
1686  04E6  18 03       	jr	l_game_loop_00131
1687  04E8              l_game_loop_00125:
1688  04E8  CD 99 01    	call	_game_phase_init
1689  04EB              l_game_loop_00131:
1690  04EB  21 00 00    	ld	hl,_loop_count
1691  04EE  34          	inc	(hl)
1692  04EF  C2 0B 04    	jp	NZ,l_game_loop_00132
1693  04F2  23          	inc	hl
1694  04F3  34          	inc	(hl)
1695  04F4  C3 0B 04    	jp	l_game_loop_00132
1696  04F7              l_game_loop_00134:
1697  04F7  21 90 01    	ld	hl,0x0190
1698  04FA  CD 00 00    	call	_z80_delay_ms_fastcall
1699  04FD  CD BB 08    	call	_game_kill_all_sprites
1700  0500  21 77 00    	ld	hl,___str_18
1701  0503  E5          	push	hl
1702  0504  21 08 0B    	ld	hl,0x0b08
1703  0507  E5          	push	hl
1704  0508  CD 00 00    	call	_zx_print_str
1705  050B  21 C8 00    	ld	hl,0x00c8
1706  050E  E5          	push	hl
1707  050F  21 0B 15    	ld	hl,0x150b
1708  0512  E5          	push	hl
1709  0513  3E 08       	ld	a,0x08
1710  0515  F5          	push	af
1711  0516  33          	inc	sp
1712  0517  CD A8 19    	call	_game_colour_message
1713  051A  F1          	pop	af
1714  051B  F1          	pop	af
1715  051C  33          	inc	sp
1716  051D  CD 00 00    	call	_spr_draw_clear
1717  0520  CD 20 15    	call	_game_hall_enter
1718  0523  CD 00 00    	call	_ay_reset
1719  0526  21 00 00    	ld	hl,_game_menu_sel
1720  0529  36 00       	ld	(hl),0x00
1721  052B  CD 29 10    	call	_game_menu_paint
1722  052E  CD 24 0F    	call	_game_joystick_set_menu
1723  0531  C9          	ret
1724  0532              	SECTION rodata_compiler
1725  003E              ___str_15:
1726  003E  20 20 20 54 48 41 4E 4B 53 20 41 4C 56 49 4E 20 20 20 
                        	DEFM "   THANKS ALVIN   "
1727  0050  00          	DEFB 0x00
1728  0051              	SECTION rodata_compiler
1729  0051              ___str_16:
1730  0051  20 20 20 20 41 4E 44 20 20 45 49 4E 41 52 20 20 20 20 
                        	DEFM "    AND  EINAR    "
1731  0063  00          	DEFB 0x00
1732  0064              	SECTION rodata_compiler
1733  0064              ___str_17:
1734  0064  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                  "
1735  0076  00          	DEFB 0x00
1736  0077              	SECTION rodata_compiler
1737  0077              ___str_18:
1738  0077  47 41 4D 45 20 20 4F 56 45 52 20 
                        	DEFM "GAME  OVER "
1739  0082  00          	DEFB 0x00
1740  0083              	SECTION code_compiler
1741  0532              ;	---------------------------------
1742  0532              ; Function game_score_osd
1743  0532              ; ---------------------------------
1744  0532              _game_score_osd:
1745  0532  3A 00 00    	ld	a,(_index_player)
1746  0535  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1747  0537  4F          	ld	c,a
1748  0538  3E 00       	ld	a,+((_score_osd_col) / 256)
1749  053A  CE 00       	adc	a,0x00
1750  053C  47          	ld	b,a
1751  053D  0A          	ld	a,(bc)
1752  053E  57          	ld	d,a
1753  053F  3C          	inc	a
1754  0540  20 72       	jr	NZ,l_game_score_osd_00117
1755  0542  3A 00 00    	ld	a,(_hit_count)
1756  0545  B7          	or	a, a
1757  0546  CA 97 06    	jp	Z,l_game_score_osd_00119
1758  0549  2A 00 00    	ld	hl,(_sprite)
1759  054C  26 00       	ld	h,0x00
1760  054E  11 00 00    	ld	de,_col
1761  0551  19          	add	hl,de
1762  0552  7E          	ld	a,(hl)
1763  0553  02          	ld	(bc),a
1764  0554  3A 00 00    	ld	a,(_index_player)
1765  0557  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1766  0559  4F          	ld	c,a
1767  055A  3E 00       	ld	a,+((_score_osd_lin) / 256)
1768  055C  CE 00       	adc	a,0x00
1769  055E  47          	ld	b,a
1770  055F  2A 00 00    	ld	hl,(_sprite)
1771  0562  26 00       	ld	h,0x00
1772  0564  11 00 00    	ld	de,_lin
1773  0567  19          	add	hl,de
1774  0568  7E          	ld	a,(hl)
1775  0569  02          	ld	(bc),a
1776  056A  01 00 00    	ld	bc,_score_osd_time+0
1777  056D  2A 00 00    	ld	hl,(_index_player)
1778  0570  26 00       	ld	h,0x00
1779  0572  29          	add	hl, hl
1780  0573  09          	add	hl,bc
1781  0574  ED 5B 00 00 	ld	de,(_curr_time)
1782  0578  73          	ld	(hl),e
1783  0579  23          	inc	hl
1784  057A  72          	ld	(hl),d
1785  057B  2A 00 00    	ld	hl,(_index_player)
1786  057E  26 00       	ld	h,0x00
1787  0580  29          	add	hl,hl
1788  0581  3A 00 00    	ld	a,(_hit_count)
1789  0584  3D          	dec	a
1790  0585  4D          	ld	c,l
1791  0586  44          	ld	b,h
1792  0587  20 0C       	jr	NZ,l_game_score_osd_00105
1793  0589  21 00 00    	ld	hl,_score_osd_tile
1794  058C  09          	add	hl,bc
1795  058D  36 BC       	ld	(hl),0xbc
1796  058F  23          	inc	hl
1797  0590  36 00       	ld	(hl),0x00
1798  0592  C3 97 06    	jp	l_game_score_osd_00119
1799  0595              l_game_score_osd_00105:
1800  0595  3A 00 00    	ld	a,(_hit_count)
1801  0598  D6 08       	sub	a,0x08
1802  059A  30 0C       	jr	NC,l_game_score_osd_00102
1803  059C  21 00 00    	ld	hl,_score_osd_tile
1804  059F  09          	add	hl,bc
1805  05A0  36 BD       	ld	(hl),0xbd
1806  05A2  23          	inc	hl
1807  05A3  36 00       	ld	(hl),0x00
1808  05A5  C3 97 06    	jp	l_game_score_osd_00119
1809  05A8              l_game_score_osd_00102:
1810  05A8  21 00 00    	ld	hl,_score_osd_tile
1811  05AB  09          	add	hl,bc
1812  05AC  36 BE       	ld	(hl),0xbe
1813  05AE  23          	inc	hl
1814  05AF  36 00       	ld	(hl),0x00
1815  05B1  C3 97 06    	jp	l_game_score_osd_00119
1816  05B4              l_game_score_osd_00117:
1817  05B4  3A 00 00    	ld	a,(_index_player)
1818  05B7  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1819  05B9  4F          	ld	c,a
1820  05BA  3E 00       	ld	a,+((_score_osd_lin) / 256)
1821  05BC  CE 00       	adc	a,0x00
1822  05BE  47          	ld	b,a
1823  05BF  0A          	ld	a,(bc)
1824  05C0  C6 FE       	add	a,0xfe
1825  05C2  32 00 00    	ld	(_tmp),a
1826  05C5  5F          	ld	e,a
1827  05C6  D5          	push	de
1828  05C7  CD 00 00    	call	_game_calc_index
1829  05CA  F1          	pop	af
1830  05CB  22 00 00    	ld	(_index1),hl
1831  05CE  3E 08       	ld	a,0x08
1832  05D0  21 00 00    	ld	hl,_tmp
1833  05D3  96          	sub	a, (hl)
1834  05D4  30 5B       	jr	NC,l_game_score_osd_00110
1835  05D6  21 01 00    	ld	hl,_index1 + 1
1836  05D9  7E          	ld	a,(hl)
1837  05DA  2B          	dec	hl
1838  05DB  B6          	or	a,(hl)
1839  05DC  28 53       	jr	Z,l_game_score_osd_00110
1840  05DE  01 00 00    	ld	bc,_lvl_1+0
1841  05E1  79          	ld	a,c
1842  05E2  86          	add	a, (hl)
1843  05E3  5F          	ld	e,a
1844  05E4  78          	ld	a,b
1845  05E5  23          	inc	hl
1846  05E6  8E          	adc	a, (hl)
1847  05E7  57          	ld	d,a
1848  05E8  1A          	ld	a,(de)
1849  05E9  B7          	or	a, a
1850  05EA  20 45       	jr	NZ,l_game_score_osd_00110
1851  05EC  56          	ld	d,(hl)
1852  05ED  2B          	dec	hl
1853  05EE  5E          	ld	e,(hl)
1854  05EF  13          	inc	de
1855  05F0  69          	ld	l, c
1856  05F1  60          	ld	h, b
1857  05F2  19          	add	hl,de
1858  05F3  7E          	ld	a,(hl)
1859  05F4  B7          	or	a, a
1860  05F5  20 3A       	jr	NZ,l_game_score_osd_00110
1861  05F7  76          	halt
1862  05F8  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1863  05FA  21 00 00    	ld	hl,_index_player
1864  05FD  86          	add	a, (hl)
1865  05FE  4F          	ld	c,a
1866  05FF  3E 00       	ld	a,+((_score_osd_col) / 256)
1867  0601  CE 00       	adc	a,0x00
1868  0603  47          	ld	b,a
1869  0604  0A          	ld	a,(bc)
1870  0605  57          	ld	d,a
1871  0606  3E 00       	ld	a,+((_score_osd_lin) & 0xFF)
1872  0608  86          	add	a, (hl)
1873  0609  4F          	ld	c,a
1874  060A  3E 00       	ld	a,+((_score_osd_lin) / 256)
1875  060C  CE 00       	adc	a,0x00
1876  060E  47          	ld	b,a
1877  060F  0A          	ld	a,(bc)
1878  0610  5F          	ld	e,a
1879  0611  6E          	ld	l, (hl)
1880  0612  26 00       	ld	h,0x00
1881  0614  29          	add	hl, hl
1882  0615  01 00 00    	ld	bc,_score_osd_tile
1883  0618  09          	add	hl,bc
1884  0619  46          	ld	b,(hl)
1885  061A  23          	inc	hl
1886  061B  4E          	ld	c,(hl)
1887  061C  D5          	push	de
1888  061D  C5          	push	bc
1889  061E  33          	inc	sp
1890  061F  CD 00 00    	call	_NIRVANAP_drawT_callee
1891  0622  3A 00 00    	ld	a,(_index_player)
1892  0625  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1893  0627  4F          	ld	c,a
1894  0628  3E 00       	ld	a,+((_score_osd_lin) / 256)
1895  062A  CE 00       	adc	a,0x00
1896  062C  47          	ld	b,a
1897  062D  3A 00 00    	ld	a,(_tmp)
1898  0630  02          	ld	(bc),a
1899  0631              l_game_score_osd_00110:
1900  0631  01 00 00    	ld	bc,_score_osd_time+0
1901  0634  2A 00 00    	ld	hl,(_index_player)
1902  0637  26 00       	ld	h,0x00
1903  0639  29          	add	hl, hl
1904  063A  09          	add	hl,bc
1905  063B  4E          	ld	c,(hl)
1906  063C  23          	inc	hl
1907  063D  46          	ld	b,(hl)
1908  063E  21 32 00    	ld	hl,0x0032
1909  0641  E5          	push	hl
1910  0642  C5          	push	bc
1911  0643  CD 3A 1A    	call	_game_check_time
1912  0646  F1          	pop	af
1913  0647  F1          	pop	af
1914  0648  7D          	ld	a,l
1915  0649  B7          	or	a, a
1916  064A  C8          	ret	Z
1917  064B  3E 00       	ld	a,+((_score_osd_col) & 0xFF)
1918  064D  21 00 00    	ld	hl,_index_player
1919  0650  86          	add	a, (hl)
1920  0651  4F          	ld	c,a
1921  0652  3E 00       	ld	a,+((_score_osd_col) / 256)
1922  0654  CE 00       	adc	a,0x00
1923  0656  47          	ld	b,a
1924  0657  0A          	ld	a,(bc)
1925  0658  57          	ld	d,a
1926  0659  4E          	ld	c,(hl)
1927  065A  06 00       	ld	b,0x00
1928  065C  21 00 00    	ld	hl,_score_osd_lin
1929  065F  09          	add	hl,bc
1930  0660  5E          	ld	e, (hl)
1931  0661  D5          	push	de
1932  0662  AF          	xor	a, a
1933  0663  F5          	push	af
1934  0664  33          	inc	sp
1935  0665  CD 00 00    	call	_NIRVANAP_fillT_callee
1936  0668  3A 00 00    	ld	a,(_index_player)
1937  066B  C6 00       	add	a,+((_score_osd_lin) & 0xFF)
1938  066D  4F          	ld	c,a
1939  066E  3E 00       	ld	a,+((_score_osd_lin) / 256)
1940  0670  CE 00       	adc	a,0x00
1941  0672  47          	ld	b,a
1942  0673  0A          	ld	a,(bc)
1943  0674  32 00 00    	ld	(_s_lin0),a
1944  0677  3A 00 00    	ld	a,(_index_player)
1945  067A  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1946  067C  4F          	ld	c,a
1947  067D  3E 00       	ld	a,+((_score_osd_col) / 256)
1948  067F  CE 00       	adc	a,0x00
1949  0681  47          	ld	b,a
1950  0682  0A          	ld	a,(bc)
1951  0683  32 00 00    	ld	(_s_col0),a
1952  0686  CD 00 00    	call	_spr_check_over
1953  0689  3A 00 00    	ld	a,(_index_player)
1954  068C  C6 00       	add	a,+((_score_osd_col) & 0xFF)
1955  068E  4F          	ld	c,a
1956  068F  3E 00       	ld	a,+((_score_osd_col) / 256)
1957  0691  CE 00       	adc	a,0x00
1958  0693  47          	ld	b,a
1959  0694  3E FF       	ld	a,0xff
1960  0696  02          	ld	(bc),a
1961  0697              l_game_score_osd_00119:
1962  0697  C9          	ret
1963  0698              	SECTION code_compiler
1964  0698              ;	---------------------------------
1965  0698              ; Function game_bonus_clock
1966  0698              ; ---------------------------------
1967  0698              _game_bonus_clock:
1968  0698  2A 00 00    	ld	hl,(_curr_time)
1969  069B  29          	add	hl,hl
1970  069C  3E 40       	ld	a,0x40
1971  069E  95          	sub	a,l
1972  069F  44          	ld	b,h
1973  06A0  21 00 00    	ld	hl,_tmp_ui
1974  06A3  77          	ld	(hl),a
1975  06A4  3E 06       	ld	a,0x06
1976  06A6  98          	sbc	a, b
1977  06A7  23          	inc	hl
1978  06A8  77          	ld	(hl),a
1979  06A9  3E 40       	ld	a,0x40
1980  06AB  2B          	dec	hl
1981  06AC  BE          	cp	a, (hl)
1982  06AD  3E 06       	ld	a,0x06
1983  06AF  23          	inc	hl
1984  06B0  9E          	sbc	a, (hl)
1985  06B1  30 14       	jr	NC,l_game_bonus_clock_00106
1986  06B3  2B          	dec	hl
1987  06B4  AF          	xor	a, a
1988  06B5  77          	ld	(hl), a
1989  06B6  23          	inc	hl
1990  06B7  77          	ld	(hl), a
1991  06B8  21 00 00    	ld	hl,_phase_left
1992  06BB  36 00       	ld	(hl),0x00
1993  06BD  21 00 00    	ld	hl,_phase_end
1994  06C0  36 01       	ld	(hl),0x01
1995  06C2  CD 00 00    	call	_ay_reset
1996  06C5  18 36       	jr	l_game_bonus_clock_00108
1997  06C7              l_game_bonus_clock_00106:
1998  06C7  3A 00 00    	ld	a,(_phase_left)
1999  06CA  B7          	or	a, a
2000  06CB  C8          	ret	Z
2001  06CC  2A 00 00    	ld	hl,(_tmp_ui)
2002  06CF  E5          	push	hl
2003  06D0  21 02 0E    	ld	hl,0x0e02
2004  06D3  E5          	push	hl
2005  06D4  CD 00 00    	call	_zx_print_bonus_time
2006  06D7  21 05 00    	ld	hl,0x0005
2007  06DA  E5          	push	hl
2008  06DB  2A 00 00    	ld	hl,(_frame_time)
2009  06DE  E5          	push	hl
2010  06DF  CD 3A 1A    	call	_game_check_time
2011  06E2  F1          	pop	af
2012  06E3  F1          	pop	af
2013  06E4  7D          	ld	a,l
2014  06E5  B7          	or	a, a
2015  06E6  C8          	ret	Z
2016  06E7  2A 00 00    	ld	hl,(_curr_time)
2017  06EA  22 00 00    	ld	(_frame_time),hl
2018  06ED  21 14 18    	ld	hl,0x1814
2019  06F0  E5          	push	hl
2020  06F1  3E 0E       	ld	a,0x0e
2021  06F3  F5          	push	af
2022  06F4  33          	inc	sp
2023  06F5  CD 0B 0D    	call	_game_paint_attrib_lin_h
2024  06F8  F1          	pop	af
2025  06F9  33          	inc	sp
2026  06FA  CD 8C 19    	call	_game_rotate_attrib
2027  06FD              l_game_bonus_clock_00108:
2028  06FD  C9          	ret
2029  06FE              	SECTION code_compiler
2030  06FE              ;	---------------------------------
2031  06FE              ; Function game_bonus_summary
2032  06FE              ; ---------------------------------
2033  06FE              _game_bonus_summary:
2034  06FE  CD BB 08    	call	_game_kill_all_sprites
2035  0701  CD 00 00    	call	_spr_draw_clear
2036  0704  21 00 00    	ld	hl,0x0000
2037  0707  CD 00 00    	call	_zx_cls_fastcall
2038  070A  CD B1 00    	call	_game_phase_print_score_back
2039  070D  CD 8F 0C    	call	_game_print_score
2040  0710  3A 00 00    	ld	a,(_game_lives)
2041  0713  B7          	or	a, a
2042  0714  28 05       	jr	Z,l_game_bonus_summary_00102
2043  0716  2E 00       	ld	l,0x00
2044  0718  CD B3 07    	call	_game_bonus_summary_player
2045  071B              l_game_bonus_summary_00102:
2046  071B  3A 01 00    	ld	a, (_game_lives + 1)
2047  071E  B7          	or	a, a
2048  071F  28 05       	jr	Z,l_game_bonus_summary_00104
2049  0721  2E 01       	ld	l,0x01
2050  0723  CD B3 07    	call	_game_bonus_summary_player
2051  0726              l_game_bonus_summary_00104:
2052  0726  21 1F 98    	ld	hl,0x981f
2053  0729  E5          	push	hl
2054  072A  AF          	xor	a, a
2055  072B  F5          	push	af
2056  072C  33          	inc	sp
2057  072D  CD E4 0C    	call	_game_paint_attrib_lin
2058  0730  F1          	pop	af
2059  0731  33          	inc	sp
2060  0732  3A 00 00    	ld	a,(_phase_bonus_total)
2061  0735  D6 06       	sub	a,0x06
2062  0737  20 68       	jr	NZ,l_game_bonus_summary_00109
2063  0739  3A 01 00    	ld	a, (_phase_bonus_total + 1)
2064  073C  B7          	or	a, a
2065  073D  20 62       	jr	NZ,l_game_bonus_summary_00109
2066  073F  CD 00 00    	call	_sound_jump
2067  0742  3A 00 00    	ld	a,(_phase_curr)
2068  0745  D6 03       	sub	a,0x03
2069  0747  20 23       	jr	NZ,l_game_bonus_summary_00106
2070  0749  21 83 00    	ld	hl,___str_19
2071  074C  E5          	push	hl
2072  074D  21 12 06    	ld	hl,0x0612
2073  0750  E5          	push	hl
2074  0751  CD 00 00    	call	_zx_print_str
2075  0754  21 00 00    	ld	hl,_index_player
2076  0757  36 00       	ld	(hl),0x00
2077  0759  21 2C 01    	ld	hl,0x012c
2078  075C  CD 00 00    	call	_player_score_add
2079  075F  21 00 00    	ld	hl,_index_player
2080  0762  36 01       	ld	(hl),0x01
2081  0764  21 2C 01    	ld	hl,0x012c
2082  0767  CD 00 00    	call	_player_score_add
2083  076A  18 21       	jr	l_game_bonus_summary_00107
2084  076C              l_game_bonus_summary_00106:
2085  076C  21 96 00    	ld	hl,___str_20
2086  076F  E5          	push	hl
2087  0770  21 12 06    	ld	hl,0x0612
2088  0773  E5          	push	hl
2089  0774  CD 00 00    	call	_zx_print_str
2090  0777  21 00 00    	ld	hl,_index_player
2091  077A  36 00       	ld	(hl),0x00
2092  077C  21 F4 01    	ld	hl,0x01f4
2093  077F  CD 00 00    	call	_player_score_add
2094  0782  21 00 00    	ld	hl,_index_player
2095  0785  36 01       	ld	(hl),0x01
2096  0787  21 F4 01    	ld	hl,0x01f4
2097  078A  CD 00 00    	call	_player_score_add
2098  078D              l_game_bonus_summary_00107:
2099  078D  21 C8 00    	ld	hl,0x00c8
2100  0790  E5          	push	hl
2101  0791  21 10 1A    	ld	hl,0x1a10
2102  0794  E5          	push	hl
2103  0795  3E 12       	ld	a,0x12
2104  0797  F5          	push	af
2105  0798  33          	inc	sp
2106  0799  CD A8 19    	call	_game_colour_message
2107  079C  F1          	pop	af
2108  079D  F1          	pop	af
2109  079E  33          	inc	sp
2110  079F  18 11       	jr	l_game_bonus_summary_00112
2111  07A1              l_game_bonus_summary_00109:
2112  07A1  21 A9 00    	ld	hl,___str_21
2113  07A4  E5          	push	hl
2114  07A5  21 12 0C    	ld	hl,0x0c12
2115  07A8  E5          	push	hl
2116  07A9  CD 00 00    	call	_zx_print_str
2117  07AC  21 E8 03    	ld	hl,0x03e8
2118  07AF  CD 00 00    	call	_z80_delay_ms_fastcall
2119  07B2              l_game_bonus_summary_00112:
2120  07B2  C9          	ret
2121  07B3              	SECTION rodata_compiler
2122  0083              ___str_19:
2123  0083  50 45 52 46 45 43 54 21 21 20 33 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 3000PTS'"
2124  0095  00          	DEFB 0x00
2125  0096              	SECTION rodata_compiler
2126  0096              ___str_20:
2127  0096  50 45 52 46 45 43 54 21 21 20 35 30 30 30 50 54 53 27 
                        	DEFM "PERFECT!! 5000PTS'"
2128  00A8  00          	DEFB 0x00
2129  00A9              	SECTION rodata_compiler
2130  00A9              ___str_21:
2131  00A9  4E 4F 20 42 4F 4E 55 53 
                        	DEFM "NO BONUS"
2132  00B1  00          	DEFB 0x00
2133  00B2              	SECTION code_compiler
2134  07B3              ;	---------------------------------
2135  07B3              ; Function game_bonus_summary_player
2136  07B3              ; ---------------------------------
2137  07B3              _game_bonus_summary_player:
2138  07B3  CD 00 00    	call	___sdcc_enter_ix
2139  07B6  F5          	push	af
2140  07B7  3B          	dec	sp
2141  07B8  DD 75 FD    	ld	(ix-3),l
2142  07BB  76          	halt
2143  07BC  DD 7E FD    	ld	a,(ix-3)
2144  07BF  B7          	or	a, a
2145  07C0  20 30       	jr	NZ,l_game_bonus_summary_player_00102
2146  07C2  21 00 00    	ld	hl,_s_lin1
2147  07C5  36 06       	ld	(hl),0x06
2148  07C7  21 B2 00    	ld	hl,___str_22
2149  07CA  E5          	push	hl
2150  07CB  21 06 07    	ld	hl,0x0706
2151  07CE  E5          	push	hl
2152  07CF  CD 00 00    	call	_zx_print_str
2153  07D2  3A 00 00    	ld	a,(_s_lin1)
2154  07D5  07          	rlca
2155  07D6  07          	rlca
2156  07D7  07          	rlca
2157  07D8  E6 F8       	and	a,0xf8
2158  07DA  47          	ld	b,a
2159  07DB  04          	inc	b
2160  07DC  04          	inc	b
2161  07DD  04          	inc	b
2162  07DE  04          	inc	b
2163  07DF  3E 04       	ld	a,0x04
2164  07E1  48          	ld	c,b
2165  07E2  47          	ld	b,a
2166  07E3  C5          	push	bc
2167  07E4  3E 03       	ld	a,0x03
2168  07E6  F5          	push	af
2169  07E7  33          	inc	sp
2170  07E8  CD 00 00    	call	_NIRVANAP_drawT_callee
2171  07EB  21 00 00    	ld	hl,_index_player
2172  07EE  36 00       	ld	(hl),0x00
2173  07F0  18 2E       	jr	l_game_bonus_summary_player_00103
2174  07F2              l_game_bonus_summary_player_00102:
2175  07F2  21 00 00    	ld	hl,_s_lin1
2176  07F5  36 0C       	ld	(hl),0x0c
2177  07F7  21 B9 00    	ld	hl,___str_23
2178  07FA  E5          	push	hl
2179  07FB  21 0C 07    	ld	hl,0x070c
2180  07FE  E5          	push	hl
2181  07FF  CD 00 00    	call	_zx_print_str
2182  0802  3A 00 00    	ld	a,(_s_lin1)
2183  0805  07          	rlca
2184  0806  07          	rlca
2185  0807  07          	rlca
2186  0808  E6 F8       	and	a,0xf8
2187  080A  47          	ld	b,a
2188  080B  04          	inc	b
2189  080C  04          	inc	b
2190  080D  04          	inc	b
2191  080E  04          	inc	b
2192  080F  3E 04       	ld	a,0x04
2193  0811  48          	ld	c,b
2194  0812  47          	ld	b,a
2195  0813  C5          	push	bc
2196  0814  3E 1B       	ld	a,0x1b
2197  0816  F5          	push	af
2198  0817  33          	inc	sp
2199  0818  CD 00 00    	call	_NIRVANAP_drawT_callee
2200  081B  21 00 00    	ld	hl,_index_player
2201  081E  36 01       	ld	(hl),0x01
2202  0820              l_game_bonus_summary_player_00103:
2203  0820  3A 00 00    	ld	a,(_s_lin1)
2204  0823  07          	rlca
2205  0824  07          	rlca
2206  0825  07          	rlca
2207  0826  E6 F8       	and	a,0xf8
2208  0828  C6 08       	add	a,0x08
2209  082A  F5          	push	af
2210  082B  33          	inc	sp
2211  082C  21 07 1F    	ld	hl,0x1f07
2212  082F  E5          	push	hl
2213  0830  CD E4 0C    	call	_game_paint_attrib_lin
2214  0833  F1          	pop	af
2215  0834  33          	inc	sp
2216  0835  21 00 00    	ld	hl,_tmp_uc
2217  0838  36 00       	ld	(hl),0x00
2218  083A  3E 00       	ld	a,+((_phase_bonus_total) & 0xFF)
2219  083C  DD 86 FD    	add	a,(ix-3)
2220  083F  DD 77 FE    	ld	(ix-2),a
2221  0842  3E 00       	ld	a,+((_phase_bonus_total) / 256)
2222  0844  CE 00       	adc	a,0x00
2223  0846  DD 77 FF    	ld	(ix-1),a
2224  0849              l_game_bonus_summary_player_00107:
2225  0849  DD 6E FE    	ld	l,(ix-2)
2226  084C  DD 66 FF    	ld	h,(ix-1)
2227  084F  4E          	ld	c,(hl)
2228  0850  3A 00 00    	ld	a,(_tmp_uc)
2229  0853  91          	sub	a, c
2230  0854  30 53       	jr	NC,l_game_bonus_summary_player_00109
2231  0856  3A 00 00    	ld	a,(_s_lin1)
2232  0859  07          	rlca
2233  085A  07          	rlca
2234  085B  07          	rlca
2235  085C  E6 F8       	and	a,0xf8
2236  085E  4F          	ld	c,a
2237  085F  3A 00 00    	ld	a,(_tmp_uc)
2238  0862  D6 03       	sub	a,0x03
2239  0864  30 08       	jr	NC,l_game_bonus_summary_player_00105
2240  0866  79          	ld	a,c
2241  0867  C6 F8       	add	a,0xf8
2242  0869  32 00 00    	ld	(_s_lin0),a
2243  086C  18 06       	jr	l_game_bonus_summary_player_00106
2244  086E              l_game_bonus_summary_player_00105:
2245  086E  79          	ld	a,c
2246  086F  C6 08       	add	a,0x08
2247  0871  32 00 00    	ld	(_s_lin0),a
2248  0874              l_game_bonus_summary_player_00106:
2249  0874  76          	halt
2250  0875  2A 00 00    	ld	hl,(_tmp_uc)
2251  0878  26 03       	ld	h,0x03
2252  087A  E5          	push	hl
2253  087B  CD 00 00    	call	__moduchar_callee
2254  087E  7D          	ld	a,l
2255  087F  87          	add	a, a
2256  0880  C6 0E       	add	a,0x0e
2257  0882  F5          	push	af
2258  0883  33          	inc	sp
2259  0884  3A 00 00    	ld	a,(_s_lin0)
2260  0887  57          	ld	d,a
2261  0888  1E B9       	ld	e,0xb9
2262  088A  D5          	push	de
2263  088B  CD 00 00    	call	_NIRVANAP_drawT_callee
2264  088E  21 50 00    	ld	hl,0x0050
2265  0891  CD 00 00    	call	_player_score_add
2266  0894  21 00 00    	ld	hl,_tmp_uc
2267  0897  34          	inc	(hl)
2268  0898  21 00 00    	ld	hl,_ay_effect_09
2269  089B  CD 00 00    	call	_ay_fx_play
2270  089E  CD 00 00    	call	_sound_coin
2271  08A1  21 32 00    	ld	hl,0x0032
2272  08A4  CD 00 00    	call	_z80_delay_ms_fastcall
2273  08A7  18 A0       	jr	l_game_bonus_summary_player_00107
2274  08A9              l_game_bonus_summary_player_00109:
2275  08A9  21 BF 00    	ld	hl,___str_24
2276  08AC  E5          	push	hl
2277  08AD  2A 00 00    	ld	hl,(_s_lin1)
2278  08B0  26 16       	ld	h,0x16
2279  08B2  E5          	push	hl
2280  08B3  CD 00 00    	call	_zx_print_str
2281  08B6  DD F9       	ld	sp, ix
2282  08B8  DD E1       	pop	ix
2283  08BA  C9          	ret
2284  08BB              	SECTION rodata_compiler
2285  00B2              ___str_22:
2286  00B2  50 49 45 54 52 4F 
                        	DEFM "PIETRO"
2287  00B8  00          	DEFB 0x00
2288  00B9              	SECTION rodata_compiler
2289  00B9              ___str_23:
2290  00B9  4C 55 49 5A 4F 
                        	DEFM "LUIZO"
2291  00BE  00          	DEFB 0x00
2292  00BF              	SECTION rodata_compiler
2293  00BF              ___str_24:
2294  00BF  58 20 38 30 30 
                        	DEFM "X 800"
2295  00C4  00          	DEFB 0x00
2296  00C5              	SECTION code_compiler
2297  08BB              ;	---------------------------------
2298  08BB              ; Function game_kill_all_sprites
2299  08BB              ; ---------------------------------
2300  08BB              _game_kill_all_sprites:
2301  08BB  21 00 00    	ld	hl,_sprite
2302  08BE  36 00       	ld	(hl),0x00
2303  08C0              l_game_kill_all_sprites_00102:
2304  08C0  2A 00 00    	ld	hl,(_sprite)
2305  08C3  CD 00 00    	call	_spr_destroy
2306  08C6  21 00 00    	ld	hl,_sprite
2307  08C9  7E          	ld	a,(hl)
2308  08CA  3C          	inc	a
2309  08CB  77          	ld	(hl),a
2310  08CC  D6 08       	sub	a,0x08
2311  08CE  38 F0       	jr	C,l_game_kill_all_sprites_00102
2312  08D0  C9          	ret
2313  08D1              	SECTION code_compiler
2314  08D1              ;	---------------------------------
2315  08D1              ; Function game_check_maze
2316  08D1              ; ---------------------------------
2317  08D1              _game_check_maze:
2318  08D1  4D          	ld	c,l
2319  08D2  44          	ld	b,h
2320  08D3  21 00 00    	ld	hl,_lvl_1
2321  08D6  09          	add	hl,bc
2322  08D7  7E          	ld	a, (hl)
2323  08D8  D6 10       	sub	a,0x10
2324  08DA  30 0A       	jr	NC,l_game_check_maze_00103
2325  08DC  03          	inc	bc
2326  08DD  21 00 00    	ld	hl,_lvl_1
2327  08E0  09          	add	hl,bc
2328  08E1  7E          	ld	a, (hl)
2329  08E2  D6 10       	sub	a,0x10
2330  08E4  38 04       	jr	C,l_game_check_maze_00104
2331  08E6              l_game_check_maze_00103:
2332  08E6  2E 00       	ld	l,0x00
2333  08E8  18 02       	jr	l_game_check_maze_00105
2334  08EA              l_game_check_maze_00104:
2335  08EA  2E 01       	ld	l,0x01
2336  08EC              l_game_check_maze_00105:
2337  08EC  C9          	ret
2338  08ED              	SECTION code_compiler
2339  08ED              ;	---------------------------------
2340  08ED              ; Function game_enemy_add
2341  08ED              ; ---------------------------------
2342  08ED              _game_enemy_add:
2343  08ED  3A 00 00    	ld	a,(_game_type)
2344  08F0  D6 02       	sub	a,0x02
2345  08F2  20 05       	jr	NZ,l_game_enemy_add_00106
2346  08F4  CD 3A 0A    	call	_game_enemy_rnd
2347  08F7  18 21       	jr	l_game_enemy_add_00107
2348  08F9              l_game_enemy_add_00106:
2349  08F9  3A 00 00    	ld	a,(_spr_count)
2350  08FC  D6 06       	sub	a,0x06
2351  08FE  30 1A       	jr	NC,l_game_enemy_add_00107
2352  0900  21 64 00    	ld	hl,0x0064
2353  0903  E5          	push	hl
2354  0904  2A 00 00    	ld	hl,(_entry_time)
2355  0907  E5          	push	hl
2356  0908  CD 3A 1A    	call	_game_check_time
2357  090B  F1          	pop	af
2358  090C  F1          	pop	af
2359  090D  7D          	ld	a,l
2360  090E  B7          	or	a, a
2361  090F  28 09       	jr	Z,l_game_enemy_add_00107
2362  0911  3A 00 00    	ld	a,(_phase_left)
2363  0914  B7          	or	a, a
2364  0915  28 03       	jr	Z,l_game_enemy_add_00107
2365  0917  CD 1D 09    	call	_game_enemy_quota
2366  091A              l_game_enemy_add_00107:
2367  091A  2E 00       	ld	l,0x00
2368  091C  C9          	ret
2369  091D              	SECTION code_compiler
2370  091D              ;	---------------------------------
2371  091D              ; Function game_enemy_quota
2372  091D              ; ---------------------------------
2373  091D              _game_enemy_quota:
2374  091D  CD 00 00    	call	_rand
2375  0920  7D          	ld	a, l
2376  0921  E6 01       	and	a,0x01
2377  0923  32 00 00    	ld	(_tmp),a
2378  0926  3A 00 00    	ld	a,(_phase_pop)
2379  0929  B7          	or	a, a
2380  092A  28 06       	jr	Z,l_game_enemy_quota_00101
2381  092C  3A 00 00    	ld	a,(_phase_left)
2382  092F  3D          	dec	a
2383  0930  20 05       	jr	NZ,l_game_enemy_quota_00102
2384  0932              l_game_enemy_quota_00101:
2385  0932  21 00 00    	ld	hl,_tmp
2386  0935  36 00       	ld	(hl),0x00
2387  0937              l_game_enemy_quota_00102:
2388  0937  3A 00 00    	ld	a,(_phase_left)
2389  093A  B7          	or	a, a
2390  093B  28 69       	jr	Z,l_game_enemy_quota_00117
2391  093D  3A 00 00    	ld	a,(_tmp)
2392  0940  B7          	or	a, a
2393  0941  20 63       	jr	NZ,l_game_enemy_quota_00117
2394  0943  01 02 00    	ld	bc,_phase_quota + 2
2395  0946  0A          	ld	a,(bc)
2396  0947  B7          	or	a, a
2397  0948  28 10       	jr	Z,l_game_enemy_quota_00105
2398  094A  C5          	push	bc
2399  094B  2E 09       	ld	l,0x09
2400  094D  CD 6A 0A    	call	_game_enemy_add1
2401  0950  C1          	pop	bc
2402  0951  0A          	ld	a,(bc)
2403  0952  C6 FF       	add	a,0xff
2404  0954  02          	ld	(bc),a
2405  0955  2E 00       	ld	l,0x00
2406  0957  C3 39 0A    	jp	l_game_enemy_quota_00134
2407  095A              l_game_enemy_quota_00105:
2408  095A  01 01 00    	ld	bc,_phase_quota + 1
2409  095D  0A          	ld	a,(bc)
2410  095E  B7          	or	a, a
2411  095F  28 1F       	jr	Z,l_game_enemy_quota_00110
2412  0961  3A 00 00    	ld	a,(_phase_angry)
2413  0964  B7          	or	a, a
2414  0965  28 09       	jr	Z,l_game_enemy_quota_00107
2415  0967  C5          	push	bc
2416  0968  2E 06       	ld	l,0x06
2417  096A  CD 6A 0A    	call	_game_enemy_add1
2418  096D  C1          	pop	bc
2419  096E  18 07       	jr	l_game_enemy_quota_00108
2420  0970              l_game_enemy_quota_00107:
2421  0970  C5          	push	bc
2422  0971  2E 04       	ld	l,0x04
2423  0973  CD 6A 0A    	call	_game_enemy_add1
2424  0976  C1          	pop	bc
2425  0977              l_game_enemy_quota_00108:
2426  0977  0A          	ld	a,(bc)
2427  0978  C6 FF       	add	a,0xff
2428  097A  02          	ld	(bc),a
2429  097B  2E 00       	ld	l,0x00
2430  097D  C3 39 0A    	jp	l_game_enemy_quota_00134
2431  0980              l_game_enemy_quota_00110:
2432  0980  3A 00 00    	ld	a,(_phase_quota)
2433  0983  B7          	or	a, a
2434  0984  28 20       	jr	Z,l_game_enemy_quota_00117
2435  0986  3A 00 00    	ld	a,(_phase_angry)
2436  0989  B7          	or	a, a
2437  098A  28 07       	jr	Z,l_game_enemy_quota_00112
2438  098C  2E 03       	ld	l,0x03
2439  098E  CD 6A 0A    	call	_game_enemy_add1
2440  0991  18 05       	jr	l_game_enemy_quota_00113
2441  0993              l_game_enemy_quota_00112:
2442  0993  2E 01       	ld	l,0x01
2443  0995  CD 6A 0A    	call	_game_enemy_add1
2444  0998              l_game_enemy_quota_00113:
2445  0998  21 00 00    	ld	hl,_phase_quota
2446  099B  4E          	ld	c,(hl)
2447  099C  0D          	dec	c
2448  099D  21 00 00    	ld	hl,_phase_quota
2449  09A0  71          	ld	(hl),c
2450  09A1  2E 00       	ld	l,0x00
2451  09A3  C3 39 0A    	jp	l_game_enemy_quota_00134
2452  09A6              l_game_enemy_quota_00117:
2453  09A6  3A 00 00    	ld	a,(_phase_coins)
2454  09A9  B7          	or	a, a
2455  09AA  28 0A       	jr	Z,l_game_enemy_quota_00120
2456  09AC  2E 08       	ld	l,0x08
2457  09AE  CD 6A 0A    	call	_game_enemy_add1
2458  09B1  2E 00       	ld	l,0x00
2459  09B3  C3 39 0A    	jp	l_game_enemy_quota_00134
2460  09B6              l_game_enemy_quota_00120:
2461  09B6  CD 00 00    	call	_rand
2462  09B9  7D          	ld	a,l
2463  09BA  E6 03       	and	a,0x03
2464  09BC  44          	ld	b,h
2465  09BD  0E 00       	ld	c,0x00
2466  09BF  CB 79       	bit	7,c
2467  09C1  20 74       	jr	NZ,l_game_enemy_quota_00133
2468  09C3  5F          	ld	e,a
2469  09C4  3E 03       	ld	a,0x03
2470  09C6  BB          	cp	a, e
2471  09C7  3E 00       	ld	a,0x00
2472  09C9  99          	sbc	a, c
2473  09CA  E2 CF 09    	jp	PO, l_game_enemy_quota_00198
2474  09CD  EE 80       	xor	a,0x80
2475  09CF              l_game_enemy_quota_00198:
2476  09CF  FA 37 0A    	jp	M,l_game_enemy_quota_00133
2477  09D2  16 00       	ld	d,0x00
2478  09D4  21 DA 09    	ld	hl,l_game_enemy_quota_00199
2479  09D7  19          	add	hl,de
2480  09D8  19          	add	hl,de
2481  09D9  E9          	jp	(hl)
2482  09DA              l_game_enemy_quota_00199:
2483  09DA  18 06       	jr	l_game_enemy_quota_00121
2484  09DC  18 13       	jr	l_game_enemy_quota_00124
2485  09DE  18 29       	jr	l_game_enemy_quota_00127
2486  09E0  18 3F       	jr	l_game_enemy_quota_00130
2487  09E2              l_game_enemy_quota_00121:
2488  09E2  3E 07       	ld	a,0x07
2489  09E4  21 00 00    	ld	hl,_phase_curr
2490  09E7  96          	sub	a, (hl)
2491  09E8  30 4D       	jr	NC,l_game_enemy_quota_00133
2492  09EA  2E 07       	ld	l,0x07
2493  09EC  CD 6A 0A    	call	_game_enemy_add1
2494  09EF  18 46       	jr	l_game_enemy_quota_00133
2495  09F1              l_game_enemy_quota_00124:
2496  09F1  2A 00 00    	ld	hl,(_game_time_fireball_start)
2497  09F4  E5          	push	hl
2498  09F5  21 00 00    	ld	hl,0x0000
2499  09F8  E5          	push	hl
2500  09F9  CD 3A 1A    	call	_game_check_time
2501  09FC  F1          	pop	af
2502  09FD  F1          	pop	af
2503  09FE  7D          	ld	a,l
2504  09FF  B7          	or	a, a
2505  0A00  28 35       	jr	Z,l_game_enemy_quota_00133
2506  0A02  2E 0B       	ld	l,0x0b
2507  0A04  CD 6A 0A    	call	_game_enemy_add1
2508  0A07  18 2E       	jr	l_game_enemy_quota_00133
2509  0A09              l_game_enemy_quota_00127:
2510  0A09  2A 00 00    	ld	hl,(_game_time_fireball_start)
2511  0A0C  E5          	push	hl
2512  0A0D  21 00 00    	ld	hl,0x0000
2513  0A10  E5          	push	hl
2514  0A11  CD 3A 1A    	call	_game_check_time
2515  0A14  F1          	pop	af
2516  0A15  F1          	pop	af
2517  0A16  7D          	ld	a,l
2518  0A17  B7          	or	a, a
2519  0A18  28 1D       	jr	Z,l_game_enemy_quota_00133
2520  0A1A  2E 0B       	ld	l,0x0b
2521  0A1C  CD 6A 0A    	call	_game_enemy_add1
2522  0A1F  18 16       	jr	l_game_enemy_quota_00133
2523  0A21              l_game_enemy_quota_00130:
2524  0A21  2A 00 00    	ld	hl,(_game_time_fireball_start)
2525  0A24  E5          	push	hl
2526  0A25  21 00 00    	ld	hl,0x0000
2527  0A28  E5          	push	hl
2528  0A29  CD 3A 1A    	call	_game_check_time
2529  0A2C  F1          	pop	af
2530  0A2D  F1          	pop	af
2531  0A2E  7D          	ld	a,l
2532  0A2F  B7          	or	a, a
2533  0A30  28 05       	jr	Z,l_game_enemy_quota_00133
2534  0A32  2E 0A       	ld	l,0x0a
2535  0A34  CD 6A 0A    	call	_game_enemy_add1
2536  0A37              l_game_enemy_quota_00133:
2537  0A37  2E 00       	ld	l,0x00
2538  0A39              l_game_enemy_quota_00134:
2539  0A39  C9          	ret
2540  0A3A              	SECTION code_compiler
2541  0A3A              ;	---------------------------------
2542  0A3A              ; Function game_enemy_rnd
2543  0A3A              ; ---------------------------------
2544  0A3A              _game_enemy_rnd:
2545  0A3A  3A 00 00    	ld	a,(_spr_count)
2546  0A3D  D6 06       	sub	a,0x06
2547  0A3F  30 26       	jr	NC,l_game_enemy_rnd_00102
2548  0A41  21 64 00    	ld	hl,0x0064
2549  0A44  E5          	push	hl
2550  0A45  2A 00 00    	ld	hl,(_entry_time)
2551  0A48  E5          	push	hl
2552  0A49  CD 3A 1A    	call	_game_check_time
2553  0A4C  F1          	pop	af
2554  0A4D  F1          	pop	af
2555  0A4E  7D          	ld	a,l
2556  0A4F  B7          	or	a, a
2557  0A50  28 15       	jr	Z,l_game_enemy_rnd_00102
2558  0A52  2A 00 00    	ld	hl,(_curr_time)
2559  0A55  22 00 00    	ld	(_entry_time),hl
2560  0A58  CD 00 00    	call	_rand
2561  0A5B  01 0B 00    	ld	bc,0x000b
2562  0A5E  C5          	push	bc
2563  0A5F  E5          	push	hl
2564  0A60  CD 00 00    	call	__modsint_callee
2565  0A63  2C          	inc	l
2566  0A64  CD 6A 0A    	call	_game_enemy_add1
2567  0A67              l_game_enemy_rnd_00102:
2568  0A67  2E 00       	ld	l,0x00
2569  0A69  C9          	ret
2570  0A6A              	SECTION code_compiler
2571  0A6A              ;	---------------------------------
2572  0A6A              ; Function game_enemy_add1
2573  0A6A              ; ---------------------------------
2574  0A6A              _game_enemy_add1:
2575  0A6A  CD 00 00    	call	___sdcc_enter_ix
2576  0A6D  F5          	push	af
2577  0A6E  45          	ld	b,l
2578  0A6F  78          	ld	a,b
2579  0A70  D6 0A       	sub	a,0x0a
2580  0A72  20 04       	jr	NZ,l_game_enemy_add1_00185
2581  0A74  3E 01       	ld	a,0x01
2582  0A76  18 01       	jr	l_game_enemy_add1_00186
2583  0A78              l_game_enemy_add1_00185:
2584  0A78  AF          	xor	a,a
2585  0A79              l_game_enemy_add1_00186:
2586  0A79  4F          	ld	c,a
2587  0A7A  B7          	or	a, a
2588  0A7B  28 0B       	jr	Z,l_game_enemy_add1_00105
2589  0A7D  C5          	push	bc
2590  0A7E  2E 0A       	ld	l,0x0a
2591  0A80  CD AC 0B    	call	_game_enemy_add_get_index
2592  0A83  C1          	pop	bc
2593  0A84  5D          	ld	e,l
2594  0A85  1C          	inc	e
2595  0A86  20 2B       	jr	NZ,l_game_enemy_add1_00101
2596  0A88              l_game_enemy_add1_00105:
2597  0A88  78          	ld	a,b
2598  0A89  D6 0B       	sub	a,0x0b
2599  0A8B  20 04       	jr	NZ,l_game_enemy_add1_00189
2600  0A8D  3E 01       	ld	a,0x01
2601  0A8F  18 01       	jr	l_game_enemy_add1_00190
2602  0A91              l_game_enemy_add1_00189:
2603  0A91  AF          	xor	a,a
2604  0A92              l_game_enemy_add1_00190:
2605  0A92  DD 77 FF    	ld	(ix-1),a
2606  0A95  B7          	or	a, a
2607  0A96  28 0B       	jr	Z,l_game_enemy_add1_00107
2608  0A98  C5          	push	bc
2609  0A99  2E 0B       	ld	l,0x0b
2610  0A9B  CD AC 0B    	call	_game_enemy_add_get_index
2611  0A9E  C1          	pop	bc
2612  0A9F  5D          	ld	e,l
2613  0AA0  1C          	inc	e
2614  0AA1  20 10       	jr	NZ,l_game_enemy_add1_00101
2615  0AA3              l_game_enemy_add1_00107:
2616  0AA3  78          	ld	a,b
2617  0AA4  D6 07       	sub	a,0x07
2618  0AA6  20 10       	jr	NZ,l_game_enemy_add1_00102
2619  0AA8  C5          	push	bc
2620  0AA9  2E 07       	ld	l,0x07
2621  0AAB  CD AC 0B    	call	_game_enemy_add_get_index
2622  0AAE  C1          	pop	bc
2623  0AAF  5D          	ld	e,l
2624  0AB0  1C          	inc	e
2625  0AB1  28 05       	jr	Z,l_game_enemy_add1_00102
2626  0AB3              l_game_enemy_add1_00101:
2627  0AB3  2E 00       	ld	l,0x00
2628  0AB5  C3 A8 0B    	jp	l_game_enemy_add1_00131
2629  0AB8              l_game_enemy_add1_00102:
2630  0AB8  21 00 00    	ld	hl,_phase_pop
2631  0ABB  34          	inc	(hl)
2632  0ABC  C5          	push	bc
2633  0ABD  CD 00 00    	call	_sound_enter_enemy
2634  0AC0  2E 00       	ld	l,0x00
2635  0AC2  CD AC 0B    	call	_game_enemy_add_get_index
2636  0AC5  C1          	pop	bc
2637  0AC6  7D          	ld	a,l
2638  0AC7  32 00 00    	ld	(_tmp),a
2639  0ACA  C5          	push	bc
2640  0ACB  CD 00 00    	call	_rand
2641  0ACE  C1          	pop	bc
2642  0ACF  7D          	ld	a, l
2643  0AD0  E6 01       	and	a,0x01
2644  0AD2  32 00 00    	ld	(_tmp0),a
2645  0AD5  3D          	dec	a
2646  0AD6  20 1C       	jr	NZ,l_game_enemy_add1_00113
2647  0AD8  21 00 00    	ld	hl,_s_lin0
2648  0ADB  36 10       	ld	(hl),0x10
2649  0ADD  21 00 00    	ld	hl,_s_col0
2650  0AE0  36 04       	ld	(hl),0x04
2651  0AE2  21 00 00    	ld	hl,_s_col1
2652  0AE5  36 02       	ld	(hl),0x02
2653  0AE7  79          	ld	a,c
2654  0AE8  B7          	or	a, a
2655  0AE9  28 02       	jr	Z,l_game_enemy_add1_00109
2656  0AEB  36 03       	ld	(hl),0x03
2657  0AED              l_game_enemy_add1_00109:
2658  0AED  21 00 00    	ld	hl,_tmp1
2659  0AF0  36 01       	ld	(hl),0x01
2660  0AF2  18 1A       	jr	l_game_enemy_add1_00114
2661  0AF4              l_game_enemy_add1_00113:
2662  0AF4  21 00 00    	ld	hl,_s_lin0
2663  0AF7  36 10       	ld	(hl),0x10
2664  0AF9  21 00 00    	ld	hl,_s_col0
2665  0AFC  36 1A       	ld	(hl),0x1a
2666  0AFE  21 00 00    	ld	hl,_s_col1
2667  0B01  36 1E       	ld	(hl),0x1e
2668  0B03  79          	ld	a,c
2669  0B04  B7          	or	a, a
2670  0B05  28 02       	jr	Z,l_game_enemy_add1_00111
2671  0B07  36 1C       	ld	(hl),0x1c
2672  0B09              l_game_enemy_add1_00111:
2673  0B09  21 00 00    	ld	hl,_tmp1
2674  0B0C  36 FF       	ld	(hl),0xff
2675  0B0E              l_game_enemy_add1_00114:
2676  0B0E  78          	ld	a,b
2677  0B0F  D6 08       	sub	a,0x08
2678  0B11  20 04       	jr	NZ,l_game_enemy_add1_00198
2679  0B13  3E 01       	ld	a,0x01
2680  0B15  18 01       	jr	l_game_enemy_add1_00199
2681  0B17              l_game_enemy_add1_00198:
2682  0B17  AF          	xor	a,a
2683  0B18              l_game_enemy_add1_00199:
2684  0B18  DD 77 FE    	ld	(ix-2),a
2685  0B1B  B7          	or	a, a
2686  0B1C  28 04       	jr	Z,l_game_enemy_add1_00116
2687  0B1E  21 00 00    	ld	hl,_phase_coins
2688  0B21  35          	dec	(hl)
2689  0B22              l_game_enemy_add1_00116:
2690  0B22  21 00 00    	ld	hl,_tmp_uc
2691  0B25  36 00       	ld	(hl),0x00
2692  0B27  DD 7E FF    	ld	a,(ix-1)
2693  0B2A  B7          	or	a,a
2694  0B2B  20 03       	jr	NZ,l_game_enemy_add1_00123
2695  0B2D  B1          	or	a,c
2696  0B2E  28 35       	jr	Z,l_game_enemy_add1_00124
2697  0B30              l_game_enemy_add1_00123:
2698  0B30  C5          	push	bc
2699  0B31  CD 00 00    	call	_rand
2700  0B34  11 03 00    	ld	de,0x0003
2701  0B37  D5          	push	de
2702  0B38  E5          	push	hl
2703  0B39  CD 00 00    	call	__modsint_callee
2704  0B3C  C1          	pop	bc
2705  0B3D  5D          	ld	e,l
2706  0B3E  21 00 00    	ld	hl,_tmp_uc
2707  0B41  73          	ld	(hl),e
2708  0B42  7B          	ld	a,e
2709  0B43  B7          	or	a, a
2710  0B44  20 02       	jr	NZ,l_game_enemy_add1_00118
2711  0B46  36 10       	ld	(hl),0x10
2712  0B48              l_game_enemy_add1_00118:
2713  0B48  3A 00 00    	ld	a,(_tmp_uc)
2714  0B4B  3D          	dec	a
2715  0B4C  20 05       	jr	NZ,l_game_enemy_add1_00120
2716  0B4E  21 00 00    	ld	hl,_tmp_uc
2717  0B51  36 38       	ld	(hl),0x38
2718  0B53              l_game_enemy_add1_00120:
2719  0B53  3A 00 00    	ld	a,(_tmp_uc)
2720  0B56  D6 02       	sub	a,0x02
2721  0B58  20 05       	jr	NZ,l_game_enemy_add1_00122
2722  0B5A  21 00 00    	ld	hl,_tmp_uc
2723  0B5D  36 84       	ld	(hl),0x84
2724  0B5F              l_game_enemy_add1_00122:
2725  0B5F  3A 00 00    	ld	a,(_s_col1)
2726  0B62  32 00 00    	ld	(_s_col0),a
2727  0B65              l_game_enemy_add1_00124:
2728  0B65  CD 00 00    	call	_ay_is_playing
2729  0B68  7D          	ld	a,l
2730  0B69  D6 02       	sub	a,0x02
2731  0B6B  30 14       	jr	NC,l_game_enemy_add1_00130
2732  0B6D  DD 7E FE    	ld	a,(ix-2)
2733  0B70  B7          	or	a, a
2734  0B71  20 08       	jr	NZ,l_game_enemy_add1_00127
2735  0B73  21 00 00    	ld	hl,_ay_effect_04
2736  0B76  CD 00 00    	call	_ay_fx_play
2737  0B79  18 06       	jr	l_game_enemy_add1_00130
2738  0B7B              l_game_enemy_add1_00127:
2739  0B7B  21 00 00    	ld	hl,_ay_effect_07
2740  0B7E  CD 00 00    	call	_ay_fx_play
2741  0B81              l_game_enemy_add1_00130:
2742  0B81  2A 00 00    	ld	hl,(_curr_time)
2743  0B84  22 00 00    	ld	(_entry_time),hl
2744  0B87  3A 00 00    	ld	a,(_s_lin0)
2745  0B8A  21 00 00    	ld	hl,_tmp_uc
2746  0B8D  86          	add	a, (hl)
2747  0B8E  57          	ld	d,a
2748  0B8F  3A 00 00    	ld	a,(_tmp1)
2749  0B92  48          	ld	c,b
2750  0B93  47          	ld	b,a
2751  0B94  3A 00 00    	ld	a,(_s_col0)
2752  0B97  C5          	push	bc
2753  0B98  5A          	ld	e,d
2754  0B99  57          	ld	d,a
2755  0B9A  3A 00 00    	ld	a,(_tmp)
2756  0B9D  D5          	push	de
2757  0B9E  F5          	push	af
2758  0B9F  33          	inc	sp
2759  0BA0  CD 00 00    	call	_enemy_init
2760  0BA3  F1          	pop	af
2761  0BA4  F1          	pop	af
2762  0BA5  33          	inc	sp
2763  0BA6  2E 00       	ld	l,0x00
2764  0BA8              l_game_enemy_add1_00131:
2765  0BA8  F1          	pop	af
2766  0BA9  DD E1       	pop	ix
2767  0BAB  C9          	ret
2768  0BAC              	SECTION code_compiler
2769  0BAC              ;	---------------------------------
2770  0BAC              ; Function game_enemy_add_get_index
2771  0BAC              ; ---------------------------------
2772  0BAC              _game_enemy_add_get_index:
2773  0BAC  4D          	ld	c,l
2774  0BAD  21 00 00    	ld	hl,_enemies
2775  0BB0  36 00       	ld	(hl),0x00
2776  0BB2              l_game_enemy_add_get_index_00104:
2777  0BB2  2A 00 00    	ld	hl,(_enemies)
2778  0BB5  26 00       	ld	h,0x00
2779  0BB7  11 00 00    	ld	de,_class
2780  0BBA  19          	add	hl,de
2781  0BBB  46          	ld	b, (hl)
2782  0BBC  79          	ld	a,c
2783  0BBD  90          	sub	a,b
2784  0BBE  20 05       	jr	NZ,l_game_enemy_add_get_index_00105
2785  0BC0  2A 00 00    	ld	hl,(_enemies)
2786  0BC3  18 0B       	jr	l_game_enemy_add_get_index_00106
2787  0BC5              l_game_enemy_add_get_index_00105:
2788  0BC5  21 00 00    	ld	hl,_enemies
2789  0BC8  34          	inc	(hl)
2790  0BC9  3E 05       	ld	a,0x05
2791  0BCB  96          	sub	a, (hl)
2792  0BCC  30 E4       	jr	NC,l_game_enemy_add_get_index_00104
2793  0BCE  2E FF       	ld	l,0xff
2794  0BD0              l_game_enemy_add_get_index_00106:
2795  0BD0  C9          	ret
2796  0BD1              	SECTION code_compiler
2797  0BD1              ;	---------------------------------
2798  0BD1              ; Function game_freeze
2799  0BD1              ; ---------------------------------
2800  0BD1              _game_freeze:
2801  0BD1  CD 00 00    	call	___sdcc_enter_ix
2802  0BD4  DD 7E 05    	ld	a,(ix+5)
2803  0BD7  D6 1F       	sub	a,0x1f
2804  0BD9  30 5F       	jr	NC,l_game_freeze_00107
2805  0BDB  21 00 00    	ld	hl,_tmp
2806  0BDE  36 01       	ld	(hl),0x01
2807  0BE0  DD 66 05    	ld	h,(ix+5)
2808  0BE3  DD 6E 04    	ld	l,(ix+4)
2809  0BE6  E5          	push	hl
2810  0BE7  CD 00 00    	call	_game_calc_index
2811  0BEA  F1          	pop	af
2812  0BEB  22 00 00    	ld	(_index1),hl
2813  0BEE  01 00 00    	ld	bc,_lvl_1
2814  0BF1  09          	add	hl,bc
2815  0BF2  7E          	ld	a,(hl)
2816  0BF3  D6 12       	sub	a,0x12
2817  0BF5  20 43       	jr	NZ,l_game_freeze_00107
2818  0BF7  36 14       	ld	(hl),0x14
2819  0BF9  76          	halt
2820  0BFA  DD 7E 05    	ld	a,(ix+5)
2821  0BFD  F5          	push	af
2822  0BFE  33          	inc	sp
2823  0BFF  DD 56 04    	ld	d,(ix+4)
2824  0C02  1E 8B       	ld	e,0x8b
2825  0C04  D5          	push	de
2826  0C05  CD 00 00    	call	_NIRVANAP_drawT_callee
2827  0C08  ED 4B 00 00 	ld	bc,(_index1)
2828  0C0C  03          	inc	bc
2829  0C0D  21 00 00    	ld	hl,_lvl_1
2830  0C10  09          	add	hl,bc
2831  0C11  4E          	ld	c,(hl)
2832  0C12  DD 46 05    	ld	b,(ix+5)
2833  0C15  04          	inc	b
2834  0C16  79          	ld	a,c
2835  0C17  B7          	or	a, a
2836  0C18  20 0C       	jr	NZ,l_game_freeze_00102
2837  0C1A  C5          	push	bc
2838  0C1B  DD 4E 04    	ld	c,(ix+4)
2839  0C1E  C5          	push	bc
2840  0C1F  AF          	xor	a, a
2841  0C20  F5          	push	af
2842  0C21  33          	inc	sp
2843  0C22  CD 00 00    	call	_NIRVANAP_fillT_callee
2844  0C25  C1          	pop	bc
2845  0C26              l_game_freeze_00102:
2846  0C26  DD 4E 04    	ld	c,(ix+4)
2847  0C29  C5          	push	bc
2848  0C2A  CD D1 0B    	call	_game_freeze
2849  0C2D  F1          	pop	af
2850  0C2E  DD 46 05    	ld	b,(ix+5)
2851  0C31  05          	dec	b
2852  0C32  DD 4E 04    	ld	c,(ix+4)
2853  0C35  C5          	push	bc
2854  0C36  CD D1 0B    	call	_game_freeze
2855  0C39  F1          	pop	af
2856  0C3A              l_game_freeze_00107:
2857  0C3A  DD E1       	pop	ix
2858  0C3C  C9          	ret
2859  0C3D              	SECTION code_compiler
2860  0C3D              ;	---------------------------------
2861  0C3D              ; Function game_unfreeze_all
2862  0C3D              ; ---------------------------------
2863  0C3D              _game_unfreeze_all:
2864  0C3D  21 C0 00    	ld	hl,0x00c0
2865  0C40  22 00 00    	ld	(_index1),hl
2866  0C43              l_game_unfreeze_all_00104:
2867  0C43  01 00 00    	ld	bc,_lvl_1
2868  0C46  2A 00 00    	ld	hl,(_index1)
2869  0C49  09          	add	hl,bc
2870  0C4A  7E          	ld	a,(hl)
2871  0C4B  D6 14       	sub	a,0x14
2872  0C4D  20 02       	jr	NZ,l_game_unfreeze_all_00105
2873  0C4F  36 12       	ld	(hl),0x12
2874  0C51              l_game_unfreeze_all_00105:
2875  0C51  21 00 00    	ld	hl,_index1
2876  0C54  34          	inc	(hl)
2877  0C55  20 02       	jr	NZ,l_game_unfreeze_all_00118
2878  0C57  23          	inc	hl
2879  0C58  34          	inc	(hl)
2880  0C59              l_game_unfreeze_all_00118:
2881  0C59  3E 20       	ld	a,0x20
2882  0C5B  21 00 00    	ld	hl,_index1
2883  0C5E  BE          	cp	a, (hl)
2884  0C5F  3E 02       	ld	a,0x02
2885  0C61  23          	inc	hl
2886  0C62  9E          	sbc	a, (hl)
2887  0C63  30 DE       	jr	NC,l_game_unfreeze_all_00104
2888  0C65  C9          	ret
2889  0C66              	SECTION code_compiler
2890  0C66              ;	---------------------------------
2891  0C66              ; Function game_freeze_all
2892  0C66              ; ---------------------------------
2893  0C66              _game_freeze_all:
2894  0C66  21 C0 00    	ld	hl,0x00c0
2895  0C69  22 00 00    	ld	(_index1),hl
2896  0C6C              l_game_freeze_all_00104:
2897  0C6C  01 00 00    	ld	bc,_lvl_1
2898  0C6F  2A 00 00    	ld	hl,(_index1)
2899  0C72  09          	add	hl,bc
2900  0C73  7E          	ld	a,(hl)
2901  0C74  D6 12       	sub	a,0x12
2902  0C76  20 02       	jr	NZ,l_game_freeze_all_00105
2903  0C78  36 14       	ld	(hl),0x14
2904  0C7A              l_game_freeze_all_00105:
2905  0C7A  21 00 00    	ld	hl,_index1
2906  0C7D  34          	inc	(hl)
2907  0C7E  20 02       	jr	NZ,l_game_freeze_all_00118
2908  0C80  23          	inc	hl
2909  0C81  34          	inc	(hl)
2910  0C82              l_game_freeze_all_00118:
2911  0C82  3E 20       	ld	a,0x20
2912  0C84  21 00 00    	ld	hl,_index1
2913  0C87  BE          	cp	a, (hl)
2914  0C88  3E 02       	ld	a,0x02
2915  0C8A  23          	inc	hl
2916  0C8B  9E          	sbc	a, (hl)
2917  0C8C  30 DE       	jr	NC,l_game_freeze_all_00104
2918  0C8E  C9          	ret
2919  0C8F              	SECTION code_compiler
2920  0C8F              ;	---------------------------------
2921  0C8F              ; Function game_print_score
2922  0C8F              ; ---------------------------------
2923  0C8F              _game_print_score:
2924  0C8F  21 00 00    	ld	hl,_screen_ink
2925  0C92  36 07       	ld	(hl),0x07
2926  0C94  21 00 00    	ld	hl,_screen_paper
2927  0C97  36 00       	ld	(hl),0x00
2928  0C99  2A 00 00    	ld	hl,(_player_score)
2929  0C9C  E5          	push	hl
2930  0C9D  21 00 03    	ld	hl,0x0300
2931  0CA0  E5          	push	hl
2932  0CA1  CD 00 00    	call	_zx_print_int
2933  0CA4  2A 00 00    	ld	hl,(_game_score_top)
2934  0CA7  E5          	push	hl
2935  0CA8  21 00 0E    	ld	hl,0x0e00
2936  0CAB  E5          	push	hl
2937  0CAC  CD 00 00    	call	_zx_print_int
2938  0CAF  3A 00 00    	ld	a,(_game_two_player)
2939  0CB2  B7          	or	a, a
2940  0CB3  C8          	ret	Z
2941  0CB4  2A 02 00    	ld	hl, (_player_score + 2)
2942  0CB7  E5          	push	hl
2943  0CB8  21 00 18    	ld	hl,0x1800
2944  0CBB  E5          	push	hl
2945  0CBC  CD 00 00    	call	_zx_print_int
2946  0CBF  C9          	ret
2947  0CC0              	SECTION code_compiler
2948  0CC0              ;	---------------------------------
2949  0CC0              ; Function game_paint_attrib
2950  0CC0              ; ---------------------------------
2951  0CC0              _game_paint_attrib:
2952  0CC0  7D          	ld	a,l
2953  0CC1  32 00 00    	ld	(_tmp0),a
2954  0CC4              l_game_paint_attrib_00103:
2955  0CC4  3E 13       	ld	a,0x13
2956  0CC6  21 00 00    	ld	hl,_tmp0
2957  0CC9  96          	sub	a, (hl)
2958  0CCA  D8          	ret	C
2959  0CCB  7E          	ld	a,(hl)
2960  0CCC  07          	rlca
2961  0CCD  07          	rlca
2962  0CCE  07          	rlca
2963  0CCF  E6 F8       	and	a,0xf8
2964  0CD1  C6 08       	add	a,0x08
2965  0CD3  F5          	push	af
2966  0CD4  33          	inc	sp
2967  0CD5  21 01 1F    	ld	hl,0x1f01
2968  0CD8  E5          	push	hl
2969  0CD9  CD E4 0C    	call	_game_paint_attrib_lin
2970  0CDC  F1          	pop	af
2971  0CDD  33          	inc	sp
2972  0CDE  21 00 00    	ld	hl,_tmp0
2973  0CE1  34          	inc	(hl)
2974  0CE2  18 E0       	jr	l_game_paint_attrib_00103
2975  0CE4              	SECTION code_compiler
2976  0CE4              ;	---------------------------------
2977  0CE4              ; Function game_paint_attrib_lin
2978  0CE4              ; ---------------------------------
2979  0CE4              _game_paint_attrib_lin:
2980  0CE4  CD 00 00    	call	___sdcc_enter_ix
2981  0CE7  DD 7E 04    	ld	a,(ix+4)
2982  0CEA  32 00 00    	ld	(_tmp_uc),a
2983  0CED              l_game_paint_attrib_lin_00103:
2984  0CED  21 00 00    	ld	hl,_tmp_uc
2985  0CF0  7E          	ld	a,(hl)
2986  0CF1  DD 96 05    	sub	a,(ix+5)
2987  0CF4  30 12       	jr	NC,l_game_paint_attrib_lin_00105
2988  0CF6  66          	ld	h,(hl)
2989  0CF7  DD 6E 06    	ld	l,(ix+6)
2990  0CFA  E5          	push	hl
2991  0CFB  21 00 00    	ld	hl,_attrib
2992  0CFE  E5          	push	hl
2993  0CFF  CD 00 00    	call	_NIRVANAP_paintC_callee
2994  0D02  21 00 00    	ld	hl,_tmp_uc
2995  0D05  34          	inc	(hl)
2996  0D06  18 E5       	jr	l_game_paint_attrib_lin_00103
2997  0D08              l_game_paint_attrib_lin_00105:
2998  0D08  DD E1       	pop	ix
2999  0D0A  C9          	ret
3000  0D0B              	SECTION code_compiler
3001  0D0B              ;	---------------------------------
3002  0D0B              ; Function game_paint_attrib_lin_h
3003  0D0B              ; ---------------------------------
3004  0D0B              _game_paint_attrib_lin_h:
3005  0D0B  CD 00 00    	call	___sdcc_enter_ix
3006  0D0E  DD 7E 04    	ld	a,(ix+4)
3007  0D11  32 00 00    	ld	(_tmp_uc),a
3008  0D14              l_game_paint_attrib_lin_h_00103:
3009  0D14  21 00 00    	ld	hl,_tmp_uc
3010  0D17  7E          	ld	a,(hl)
3011  0D18  DD 96 05    	sub	a,(ix+5)
3012  0D1B  30 12       	jr	NC,l_game_paint_attrib_lin_h_00105
3013  0D1D  66          	ld	h,(hl)
3014  0D1E  DD 6E 06    	ld	l,(ix+6)
3015  0D21  E5          	push	hl
3016  0D22  21 00 00    	ld	hl,_attrib_hl
3017  0D25  E5          	push	hl
3018  0D26  CD 00 00    	call	_NIRVANAP_paintC_callee
3019  0D29  21 00 00    	ld	hl,_tmp_uc
3020  0D2C  34          	inc	(hl)
3021  0D2D  18 E5       	jr	l_game_paint_attrib_lin_h_00103
3022  0D2F              l_game_paint_attrib_lin_h_00105:
3023  0D2F  DD E1       	pop	ix
3024  0D31  C9          	ret
3025  0D32              	SECTION code_compiler
3026  0D32              ;	---------------------------------
3027  0D32              ; Function game_menu_config
3028  0D32              ; ---------------------------------
3029  0D32              _game_menu_config:
3030  0D32  CD 00 00    	call	___sdcc_enter_ix
3031  0D35  F5          	push	af
3032  0D36  3B          	dec	sp
3033  0D37  2E 0B       	ld	l,0x0b
3034  0D39  CD C0 0C    	call	_game_paint_attrib
3035  0D3C  DD 36 FD 01 	ld	(ix-3),0x01
3036  0D40              l_game_menu_config_00116:
3037  0D40  DD 7E FD    	ld	a,(ix-3)
3038  0D43  B7          	or	a, a
3039  0D44  CA 9E 0E    	jp	Z,l_game_menu_config_00119
3040  0D47              l_game_menu_config_00101:
3041  0D47  21 00 00    	ld	hl,_k1
3042  0D4A  E5          	push	hl
3043  0D4B  2A 00 00    	ld	hl,(_joyfunc1)
3044  0D4E  CD 00 00    	call	___sdcc_call_hl
3045  0D51  F1          	pop	af
3046  0D52  7C          	ld	a,h
3047  0D53  B5          	or	a,l
3048  0D54  20 F1       	jr	NZ,l_game_menu_config_00101
3049  0D56  3A 00 00    	ld	a,(_spec128)
3050  0D59  B7          	or	a,a
3051  0D5A  28 0A       	jr	Z,l_game_menu_config_00121
3052  0D5C  DD 36 FE C5 	ld	(ix-2),+((___str_25) & 0xFF)
3053  0D60  DD 36 FF 00 	ld	(ix-1),+((___str_25) / 256)
3054  0D64  18 08       	jr	l_game_menu_config_00122
3055  0D66              l_game_menu_config_00121:
3056  0D66  DD 36 FE D0 	ld	(ix-2),+((___str_26) & 0xFF)
3057  0D6A  DD 36 FF 00 	ld	(ix-1),+((___str_26) / 256)
3058  0D6E              l_game_menu_config_00122:
3059  0D6E  DD 4E FE    	ld	c,(ix-2)
3060  0D71  DD 46 FF    	ld	b,(ix-1)
3061  0D74  C5          	push	bc
3062  0D75  21 0E 0A    	ld	hl,0x0a0e
3063  0D78  E5          	push	hl
3064  0D79  CD 00 00    	call	_zx_print_str
3065  0D7C  21 DB 00    	ld	hl,___str_27
3066  0D7F  E5          	push	hl
3067  0D80  21 0F 0A    	ld	hl,0x0a0f
3068  0D83  E5          	push	hl
3069  0D84  CD 00 00    	call	_zx_print_str
3070  0D87  21 E6 00    	ld	hl,___str_28
3071  0D8A  E5          	push	hl
3072  0D8B  21 10 0A    	ld	hl,0x0a10
3073  0D8E  E5          	push	hl
3074  0D8F  CD 00 00    	call	_zx_print_str
3075  0D92  21 F1 00    	ld	hl,___str_29
3076  0D95  E5          	push	hl
3077  0D96  21 11 0A    	ld	hl,0x0a11
3078  0D99  E5          	push	hl
3079  0D9A  CD 00 00    	call	_zx_print_str
3080  0D9D  21 FC 00    	ld	hl,___str_30
3081  0DA0  E5          	push	hl
3082  0DA1  21 12 0A    	ld	hl,0x0a12
3083  0DA4  E5          	push	hl
3084  0DA5  CD 00 00    	call	_zx_print_str
3085  0DA8  3A 00 00    	ld	a,(_game_sound)
3086  0DAB  E6 05       	and	a,0x05
3087  0DAD  28 05       	jr	Z,l_game_menu_config_00123
3088  0DAF  01 07 01    	ld	bc,___str_31
3089  0DB2  18 03       	jr	l_game_menu_config_00124
3090  0DB4              l_game_menu_config_00123:
3091  0DB4  01 0B 01    	ld	bc,___str_32
3092  0DB7              l_game_menu_config_00124:
3093  0DB7  C5          	push	bc
3094  0DB8  21 0E 14    	ld	hl,0x140e
3095  0DBB  E5          	push	hl
3096  0DBC  CD 00 00    	call	_zx_print_str
3097  0DBF  3E 02       	ld	a,0x02
3098  0DC1  21 00 00    	ld	hl,_game_type
3099  0DC4  96          	sub	a, (hl)
3100  0DC5  38 34       	jr	C,l_game_menu_config_00107
3101  0DC7  5E          	ld	e,(hl)
3102  0DC8  16 00       	ld	d,0x00
3103  0DCA  21 D0 0D    	ld	hl,l_game_menu_config_00164
3104  0DCD  19          	add	hl,de
3105  0DCE  19          	add	hl,de
3106  0DCF  E9          	jp	(hl)
3107  0DD0              l_game_menu_config_00164:
3108  0DD0  18 04       	jr	l_game_menu_config_00104
3109  0DD2  18 0F       	jr	l_game_menu_config_00105
3110  0DD4  18 1A       	jr	l_game_menu_config_00106
3111  0DD6              l_game_menu_config_00104:
3112  0DD6  21 0F 01    	ld	hl,___str_33
3113  0DD9  E5          	push	hl
3114  0DDA  21 0F 14    	ld	hl,0x140f
3115  0DDD  E5          	push	hl
3116  0DDE  CD 00 00    	call	_zx_print_str
3117  0DE1  18 18       	jr	l_game_menu_config_00107
3118  0DE3              l_game_menu_config_00105:
3119  0DE3  21 13 01    	ld	hl,___str_34
3120  0DE6  E5          	push	hl
3121  0DE7  21 0F 14    	ld	hl,0x140f
3122  0DEA  E5          	push	hl
3123  0DEB  CD 00 00    	call	_zx_print_str
3124  0DEE  18 0B       	jr	l_game_menu_config_00107
3125  0DF0              l_game_menu_config_00106:
3126  0DF0  21 17 01    	ld	hl,___str_35
3127  0DF3  E5          	push	hl
3128  0DF4  21 0F 14    	ld	hl,0x140f
3129  0DF7  E5          	push	hl
3130  0DF8  CD 00 00    	call	_zx_print_str
3131  0DFB              l_game_menu_config_00107:
3132  0DFB  2A 00 00    	ld	hl,(_player_joy)
3133  0DFE  29          	add	hl, hl
3134  0DFF  11 00 00    	ld	de,_joynames
3135  0E02  19          	add	hl,de
3136  0E03  4E          	ld	c,(hl)
3137  0E04  23          	inc	hl
3138  0E05  46          	ld	b,(hl)
3139  0E06  C5          	push	bc
3140  0E07  21 10 14    	ld	hl,0x1410
3141  0E0A  E5          	push	hl
3142  0E0B  CD 00 00    	call	_zx_print_str
3143  0E0E  2A 02 00    	ld	hl, (_player_joy + 2)
3144  0E11  29          	add	hl, hl
3145  0E12  11 00 00    	ld	de,_joynames
3146  0E15  19          	add	hl,de
3147  0E16  4E          	ld	c,(hl)
3148  0E17  23          	inc	hl
3149  0E18  46          	ld	b,(hl)
3150  0E19  C5          	push	bc
3151  0E1A  21 11 14    	ld	hl,0x1411
3152  0E1D  E5          	push	hl
3153  0E1E  CD 00 00    	call	_zx_print_str
3154  0E21  21 00 00    	ld	hl,0x0000
3155  0E24  E5          	push	hl
3156  0E25  21 0E 12    	ld	hl,0x120e
3157  0E28  E5          	push	hl
3158  0E29  21 0A 01    	ld	hl,0x010a
3159  0E2C  E5          	push	hl
3160  0E2D  CD 57 11    	call	_game_menu_handle
3161  0E30  F1          	pop	af
3162  0E31  F1          	pop	af
3163  0E32  F1          	pop	af
3164  0E33  7D          	ld	a,l
3165  0E34  32 00 00    	ld	(_game_menu_sel),a
3166  0E37  21 00 00    	ld	hl,_ay_effect_10
3167  0E3A  CD 00 00    	call	_ay_fx_play
3168  0E3D  CD 00 00    	call	_sound_coin
3169  0E40  3E 04       	ld	a,0x04
3170  0E42  21 00 00    	ld	hl,_game_menu_sel
3171  0E45  96          	sub	a, (hl)
3172  0E46  DA 40 0D    	jp	C,l_game_menu_config_00116
3173  0E49  5E          	ld	e,(hl)
3174  0E4A  16 00       	ld	d,0x00
3175  0E4C  21 52 0E    	ld	hl,l_game_menu_config_00165
3176  0E4F  19          	add	hl,de
3177  0E50  19          	add	hl,de
3178  0E51  E9          	jp	(hl)
3179  0E52              l_game_menu_config_00165:
3180  0E52  18 08       	jr	l_game_menu_config_00108
3181  0E54  18 1A       	jr	l_game_menu_config_00109
3182  0E56  18 27       	jr	l_game_menu_config_00112
3183  0E58  18 2D       	jr	l_game_menu_config_00113
3184  0E5A  18 33       	jr	l_game_menu_config_00114
3185  0E5C              l_game_menu_config_00108:
3186  0E5C  3A 00 00    	ld	a,(_spec128)
3187  0E5F  B7          	or	a, a
3188  0E60  28 04       	jr	Z,l_game_menu_config_00125
3189  0E62  3E 04       	ld	a,0x04
3190  0E64  18 02       	jr	l_game_menu_config_00126
3191  0E66              l_game_menu_config_00125:
3192  0E66  3E 01       	ld	a,0x01
3193  0E68              l_game_menu_config_00126:
3194  0E68  21 00 00    	ld	hl,_game_sound
3195  0E6B  AE          	xor	a, (hl)
3196  0E6C  77          	ld	(hl),a
3197  0E6D  C3 40 0D    	jp	l_game_menu_config_00116
3198  0E70              l_game_menu_config_00109:
3199  0E70  21 00 00    	ld	hl,_game_type
3200  0E73  34          	inc	(hl)
3201  0E74  3E 02       	ld	a,0x02
3202  0E76  96          	sub	a, (hl)
3203  0E77  D2 40 0D    	jp	NC,l_game_menu_config_00116
3204  0E7A  36 00       	ld	(hl),0x00
3205  0E7C  C3 40 0D    	jp	l_game_menu_config_00116
3206  0E7F              l_game_menu_config_00112:
3207  0E7F  2E 00       	ld	l,0x00
3208  0E81  CD A3 0E    	call	_game_joystick_change
3209  0E84  C3 40 0D    	jp	l_game_menu_config_00116
3210  0E87              l_game_menu_config_00113:
3211  0E87  2E 01       	ld	l,0x01
3212  0E89  CD A3 0E    	call	_game_joystick_change
3213  0E8C  C3 40 0D    	jp	l_game_menu_config_00116
3214  0E8F              l_game_menu_config_00114:
3215  0E8F  21 00 00    	ld	hl,_game_menu_sel
3216  0E92  36 00       	ld	(hl),0x00
3217  0E94  CD 29 10    	call	_game_menu_paint
3218  0E97  DD 36 FD 00 	ld	(ix-3),0x00
3219  0E9B  C3 40 0D    	jp	l_game_menu_config_00116
3220  0E9E              l_game_menu_config_00119:
3221  0E9E  DD F9       	ld	sp, ix
3222  0EA0  DD E1       	pop	ix
3223  0EA2  C9          	ret
3224  0EA3              	SECTION rodata_compiler
3225  00C5              ___str_25:
3226  00C5  53 4F 55 4E 44 20 41 59 20 20 
                        	DEFM "SOUND AY  "
3227  00CF  00          	DEFB 0x00
3228  00D0              	SECTION rodata_compiler
3229  00D0              ___str_26:
3230  00D0  53 4F 55 4E 44 20 34 38 20 20 
                        	DEFM "SOUND 48  "
3231  00DA  00          	DEFB 0x00
3232  00DB              	SECTION rodata_compiler
3233  00DB              ___str_27:
3234  00DB  47 41 4D 45 20 20 20 20 20 20 
                        	DEFM "GAME      "
3235  00E5  00          	DEFB 0x00
3236  00E6              	SECTION rodata_compiler
3237  00E6              ___str_28:
3238  00E6  50 31 20 43 54 52 4C 20 20 20 
                        	DEFM "P1 CTRL   "
3239  00F0  00          	DEFB 0x00
3240  00F1              	SECTION rodata_compiler
3241  00F1              ___str_29:
3242  00F1  50 32 20 43 54 52 4C 20 20 20 
                        	DEFM "P2 CTRL   "
3243  00FB  00          	DEFB 0x00
3244  00FC              	SECTION rodata_compiler
3245  00FC              ___str_30:
3246  00FC  42 41 43 4B 20 20 20 20 20 20 
                        	DEFM "BACK      "
3247  0106  00          	DEFB 0x00
3248  0107              	SECTION rodata_compiler
3249  0107              ___str_31:
3250  0107  4F 4E 20    	DEFM "ON "
3251  010A  00          	DEFB 0x00
3252  010B              	SECTION rodata_compiler
3253  010B              ___str_32:
3254  010B  4F 46 46    	DEFM "OFF"
3255  010E  00          	DEFB 0x00
3256  010F              	SECTION rodata_compiler
3257  010F              ___str_33:
3258  010F  41 20 20    	DEFM "A  "
3259  0112  00          	DEFB 0x00
3260  0113              	SECTION rodata_compiler
3261  0113              ___str_34:
3262  0113  42 20 20    	DEFM "B  "
3263  0116  00          	DEFB 0x00
3264  0117              	SECTION rodata_compiler
3265  0117              ___str_35:
3266  0117  52 4E 44    	DEFM "RND"
3267  011A  00          	DEFB 0x00
3268  011B              	SECTION code_compiler
3269  0EA3              ;	---------------------------------
3270  0EA3              ; Function game_joystick_change
3271  0EA3              ; ---------------------------------
3272  0EA3              _game_joystick_change:
3273  0EA3  CD 00 00    	call	___sdcc_enter_ix
3274  0EA6  3B          	dec	sp
3275  0EA7  DD 75 FF    	ld	(ix-1),l
3276  0EAA  26 00       	ld	h,0x00
3277  0EAC  29          	add	hl, hl
3278  0EAD  01 00 00    	ld	bc,_player_joy
3279  0EB0  09          	add	hl,bc
3280  0EB1  4D          	ld	c,l
3281  0EB2  44          	ld	b,h
3282  0EB3  5E          	ld	e,(hl)
3283  0EB4  23          	inc	hl
3284  0EB5  56          	ld	d,(hl)
3285  0EB6  13          	inc	de
3286  0EB7  69          	ld	l, c
3287  0EB8  60          	ld	h, b
3288  0EB9  73          	ld	(hl),e
3289  0EBA  23          	inc	hl
3290  0EBB  72          	ld	(hl),d
3291  0EBC  7B          	ld	a,e
3292  0EBD  D6 07       	sub	a,0x07
3293  0EBF  20 09       	jr	NZ,l_game_joystick_change_00102
3294  0EC1  B2          	or	a,d
3295  0EC2  20 06       	jr	NZ,l_game_joystick_change_00102
3296  0EC4  69          	ld	l, c
3297  0EC5  60          	ld	h, b
3298  0EC6  AF          	xor	a, a
3299  0EC7  77          	ld	(hl), a
3300  0EC8  23          	inc	hl
3301  0EC9  77          	ld	(hl), a
3302  0ECA              l_game_joystick_change_00102:
3303  0ECA  DD 7E FF    	ld	a,(ix-1)
3304  0ECD  B7          	or	a, a
3305  0ECE  20 15       	jr	NZ,l_game_joystick_change_00104
3306  0ED0  69          	ld	l, c
3307  0ED1  60          	ld	h, b
3308  0ED2  5E          	ld	e,(hl)
3309  0ED3  23          	inc	hl
3310  0ED4  56          	ld	d,(hl)
3311  0ED5  1D          	dec	e
3312  0ED6  20 0D       	jr	NZ,l_game_joystick_change_00104
3313  0ED8  7A          	ld	a,d
3314  0ED9  B7          	or	a, a
3315  0EDA  20 09       	jr	NZ,l_game_joystick_change_00104
3316  0EDC  ED 5B 00 00 	ld	de,(_player_joy)
3317  0EE0  13          	inc	de
3318  0EE1  ED 53 00 00 	ld	(_player_joy), de
3319  0EE5              l_game_joystick_change_00104:
3320  0EE5  DD 7E FF    	ld	a,(ix-1)
3321  0EE8  3D          	dec	a
3322  0EE9  20 11       	jr	NZ,l_game_joystick_change_00107
3323  0EEB  69          	ld	l, c
3324  0EEC  60          	ld	h, b
3325  0EED  4E          	ld	c,(hl)
3326  0EEE  23          	inc	hl
3327  0EEF  7E          	ld	a, (hl)
3328  0EF0  B1          	or	a,c
3329  0EF1  20 09       	jr	NZ,l_game_joystick_change_00107
3330  0EF3  ED 4B 02 00 	ld	bc,(_player_joy + 0x0002)
3331  0EF7  03          	inc	bc
3332  0EF8  ED 43 02 00 	ld	(_player_joy + 0x0002),bc
3333  0EFC              l_game_joystick_change_00107:
3334  0EFC  ED 4B 00 00 	ld	bc,(_player_joy)
3335  0F00  ED 5B 02 00 	ld	de,(_player_joy + 0x0002)
3336  0F04  79          	ld	a,c
3337  0F05  93          	sub	a, e
3338  0F06  20 18       	jr	NZ,l_game_joystick_change_00114
3339  0F08  78          	ld	a,b
3340  0F09  92          	sub	a, d
3341  0F0A  20 14       	jr	NZ,l_game_joystick_change_00114
3342  0F0C  DD 7E FF    	ld	a,(ix-1)
3343  0F0F  B7          	or	a, a
3344  0F10  20 08       	jr	NZ,l_game_joystick_change_00110
3345  0F12  21 01 00    	ld	hl,0x0001
3346  0F15  22 02 00    	ld	(_player_joy + 0x0002),hl
3347  0F18  18 06       	jr	l_game_joystick_change_00114
3348  0F1A              l_game_joystick_change_00110:
3349  0F1A  21 00 00    	ld	hl,0x0000
3350  0F1D  22 00 00    	ld	(_player_joy), hl
3351  0F20              l_game_joystick_change_00114:
3352  0F20  33          	inc	sp
3353  0F21  DD E1       	pop	ix
3354  0F23  C9          	ret
3355  0F24              	SECTION code_compiler
3356  0F24              ;	---------------------------------
3357  0F24              ; Function game_joystick_set_menu
3358  0F24              ; ---------------------------------
3359  0F24              _game_joystick_set_menu:
3360  0F24  21 00 00    	ld	hl,_in_stick_sinclair1
3361  0F27  22 00 00    	ld	(_joyfunc1),hl
3362  0F2A  21 00 00    	ld	hl,_in_stick_sinclair2
3363  0F2D  22 00 00    	ld	(_joyfunc2),hl
3364  0F30  C9          	ret
3365  0F31              	SECTION code_compiler
3366  0F31              ;	---------------------------------
3367  0F31              ; Function game_joystick_set
3368  0F31              ; ---------------------------------
3369  0F31              _game_joystick_set:
3370  0F31  01 00 00    	ld	bc,_control_method+0
3371  0F34  2A 00 00    	ld	hl,(_player_joy)
3372  0F37  29          	add	hl, hl
3373  0F38  09          	add	hl,bc
3374  0F39  11 00 00    	ld	de,_joyfunc1
3375  0F3C  ED A0       	ldi
3376  0F3E  03          	inc	bc
3377  0F3F  7E          	ld	a,(hl)
3378  0F40  12          	ld	(de),a
3379  0F41  2A 02 00    	ld	hl, (_player_joy + 2)
3380  0F44  29          	add	hl, hl
3381  0F45  09          	add	hl,bc
3382  0F46  11 00 00    	ld	de,_joyfunc2
3383  0F49  ED A0       	ldi
3384  0F4B  7E          	ld	a,(hl)
3385  0F4C  12          	ld	(de),a
3386  0F4D  C9          	ret
3387  0F4E              	SECTION code_compiler
3388  0F4E              ;	---------------------------------
3389  0F4E              ; Function game_menu
3390  0F4E              ; ---------------------------------
3391  0F4E              _game_menu:
3392  0F4E  21 00 00    	ld	hl,_game_menu_sel
3393  0F51  36 00       	ld	(hl),0x00
3394  0F53  CD B5 0F    	call	_game_menu_top_paint
3395  0F56  CD 29 10    	call	_game_menu_paint
3396  0F59  CD 00 00    	call	_ay_reset
3397  0F5C  21 00 00    	ld	hl,_pb_midi_title
3398  0F5F  CD 00 00    	call	_ay_midi_play
3399  0F62              l_game_menu_00101:
3400  0F62  21 00 00    	ld	hl,_k1
3401  0F65  E5          	push	hl
3402  0F66  2A 00 00    	ld	hl,(_joyfunc1)
3403  0F69  CD 00 00    	call	___sdcc_call_hl
3404  0F6C  F1          	pop	af
3405  0F6D  7C          	ld	a,h
3406  0F6E  B5          	or	a,l
3407  0F6F  20 F1       	jr	NZ,l_game_menu_00101
3408  0F71  21 E8 03    	ld	hl,0x03e8
3409  0F74  E5          	push	hl
3410  0F75  21 0E 12    	ld	hl,0x120e
3411  0F78  E5          	push	hl
3412  0F79  21 0C 02    	ld	hl,0x020c
3413  0F7C  E5          	push	hl
3414  0F7D  CD 57 11    	call	_game_menu_handle
3415  0F80  F1          	pop	af
3416  0F81  F1          	pop	af
3417  0F82  F1          	pop	af
3418  0F83  4D          	ld	c,l
3419  0F84  21 00 00    	ld	hl,_tmp_uc
3420  0F87  71          	ld	(hl),c
3421  0F88  3E 02       	ld	a,0x02
3422  0F8A  96          	sub	a, (hl)
3423  0F8B  38 D5       	jr	C,l_game_menu_00101
3424  0F8D  5E          	ld	e,(hl)
3425  0F8E  16 00       	ld	d,0x00
3426  0F90  21 96 0F    	ld	hl,l_game_menu_00125
3427  0F93  19          	add	hl,de
3428  0F94  19          	add	hl,de
3429  0F95  E9          	jp	(hl)
3430  0F96              l_game_menu_00125:
3431  0F96  18 04       	jr	l_game_menu_00104
3432  0F98  18 0C       	jr	l_game_menu_00105
3433  0F9A  18 14       	jr	l_game_menu_00106
3434  0F9C              l_game_menu_00104:
3435  0F9C  21 00 00    	ld	hl,_game_two_player
3436  0F9F  36 00       	ld	(hl),0x00
3437  0FA1  CD 58 03    	call	_game_loop
3438  0FA4  18 BC       	jr	l_game_menu_00101
3439  0FA6              l_game_menu_00105:
3440  0FA6  21 00 00    	ld	hl,_game_two_player
3441  0FA9  36 01       	ld	(hl),0x01
3442  0FAB  CD 58 03    	call	_game_loop
3443  0FAE  18 B2       	jr	l_game_menu_00101
3444  0FB0              l_game_menu_00106:
3445  0FB0  CD 32 0D    	call	_game_menu_config
3446  0FB3  18 AD       	jr	l_game_menu_00101
3447  0FB5              	SECTION code_compiler
3448  0FB5              ;	---------------------------------
3449  0FB5              ; Function game_menu_top_paint
3450  0FB5              ; ---------------------------------
3451  0FB5              _game_menu_top_paint:
3452  0FB5  CD 00 00    	call	_spr_draw_clear
3453  0FB8  2E 00       	ld	l,0x00
3454  0FBA  CD C0 0C    	call	_game_paint_attrib
3455  0FBD  21 9C 01    	ld	hl,0x019c
3456  0FC0  E5          	push	hl
3457  0FC1  21 00 1E    	ld	hl,0x1e00
3458  0FC4  E5          	push	hl
3459  0FC5  3E 10       	ld	a,0x10
3460  0FC7  F5          	push	af
3461  0FC8  33          	inc	sp
3462  0FC9  CD A4 10    	call	_game_menu_e
3463  0FCC  F1          	pop	af
3464  0FCD  33          	inc	sp
3465  0FCE  21 9F FF    	ld	hl,0xff9f
3466  0FD1  E3          	ex	(sp),hl
3467  0FD2  21 00 1E    	ld	hl,0x1e00
3468  0FD5  E5          	push	hl
3469  0FD6  3E 50       	ld	a,0x50
3470  0FD8  F5          	push	af
3471  0FD9  33          	inc	sp
3472  0FDA  CD A4 10    	call	_game_menu_e
3473  0FDD  F1          	pop	af
3474  0FDE  F1          	pop	af
3475  0FDF  33          	inc	sp
3476  0FE0  21 00 00    	ld	hl,_tmp
3477  0FE3  36 18       	ld	(hl),0x18
3478  0FE5  F3          	di
3479  0FE6  21 00 00    	ld	hl,_tmp_uc
3480  0FE9  36 00       	ld	(hl),0x00
3481  0FEB              l_game_menu_top_paint_00102:
3482  0FEB  3A 00 00    	ld	a,(_tmp_uc)
3483  0FEE  87          	add	a, a
3484  0FEF  C6 05       	add	a,0x05
3485  0FF1  47          	ld	b,a
3486  0FF2  3A 00 00    	ld	a,(_tmp)
3487  0FF5  C6 10       	add	a,0x10
3488  0FF7  57          	ld	d,a
3489  0FF8  3A 00 00    	ld	a,(_tmp_uc)
3490  0FFB  C6 C0       	add	a,0xc0
3491  0FFD  4A          	ld	c, d
3492  0FFE  C5          	push	bc
3493  0FFF  F5          	push	af
3494  1000  33          	inc	sp
3495  1001  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3496  1004  3A 00 00    	ld	a,(_tmp_uc)
3497  1007  87          	add	a, a
3498  1008  C6 05       	add	a,0x05
3499  100A  47          	ld	b,a
3500  100B  3A 00 00    	ld	a,(_tmp)
3501  100E  C6 20       	add	a,0x20
3502  1010  57          	ld	d,a
3503  1011  3A 00 00    	ld	a,(_tmp_uc)
3504  1014  C6 CC       	add	a,0xcc
3505  1016  4A          	ld	c, d
3506  1017  C5          	push	bc
3507  1018  F5          	push	af
3508  1019  33          	inc	sp
3509  101A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3510  101D  21 00 00    	ld	hl,_tmp_uc
3511  1020  7E          	ld	a,(hl)
3512  1021  3C          	inc	a
3513  1022  77          	ld	(hl),a
3514  1023  D6 0A       	sub	a,0x0a
3515  1025  38 C4       	jr	C,l_game_menu_top_paint_00102
3516  1027  FB          	ei
3517  1028  C9          	ret
3518  1029              	SECTION code_compiler
3519  1029              ;	---------------------------------
3520  1029              ; Function game_menu_paint
3521  1029              ; ---------------------------------
3522  1029              _game_menu_paint:
3523  1029  76          	halt
3524  102A  3A 00 00    	ld	a,(_tmp)
3525  102D  C6 28       	add	a,0x28
3526  102F  4F          	ld	c, a
3527  1030  06 1A       	ld	b,0x1a
3528  1032  C5          	push	bc
3529  1033  3E 12       	ld	a,0x12
3530  1035  F5          	push	af
3531  1036  33          	inc	sp
3532  1037  CD 00 00    	call	_NIRVANAP_fillC_callee
3533  103A  21 00 20    	ld	hl,0x2000
3534  103D  E5          	push	hl
3535  103E  CD 00 00    	call	_game_fill_row
3536  1041  21 00 20    	ld	hl,0x2000
3537  1044  E5          	push	hl
3538  1045  CD 00 00    	call	_game_fill_row
3539  1048  21 1B 01    	ld	hl,___str_36
3540  104B  E5          	push	hl
3541  104C  21 0E 0A    	ld	hl,0x0a0e
3542  104F  E5          	push	hl
3543  1050  CD 00 00    	call	_zx_print_str
3544  1053  21 0F 20    	ld	hl,0x200f
3545  1056  E5          	push	hl
3546  1057  CD 00 00    	call	_game_fill_row
3547  105A  21 29 01    	ld	hl,___str_37
3548  105D  E5          	push	hl
3549  105E  21 10 0A    	ld	hl,0x0a10
3550  1061  E5          	push	hl
3551  1062  CD 00 00    	call	_zx_print_str
3552  1065  21 11 20    	ld	hl,0x2011
3553  1068  E5          	push	hl
3554  1069  CD 00 00    	call	_game_fill_row
3555  106C  21 37 01    	ld	hl,___str_38
3556  106F  E5          	push	hl
3557  1070  21 12 0A    	ld	hl,0x0a12
3558  1073  E5          	push	hl
3559  1074  CD 00 00    	call	_zx_print_str
3560  1077  21 13 20    	ld	hl,0x2013
3561  107A  E5          	push	hl
3562  107B  CD 00 00    	call	_game_fill_row
3563  107E  21 00 00    	ld	hl,_screen_ink
3564  1081  36 01       	ld	(hl),0x01
3565  1083  21 45 01    	ld	hl,___str_39
3566  1086  E5          	push	hl
3567  1087  21 16 07    	ld	hl,0x0716
3568  108A  E5          	push	hl
3569  108B  CD 00 00    	call	_zx_print_str
3570  108E  21 58 01    	ld	hl,___str_40
3571  1091  E5          	push	hl
3572  1092  21 17 07    	ld	hl,0x0717
3573  1095  E5          	push	hl
3574  1096  CD 00 00    	call	_zx_print_str
3575  1099  21 00 00    	ld	hl,_tmp_uc
3576  109C  36 00       	ld	(hl),0x00
3577  109E  2E 0B       	ld	l,0x0b
3578  10A0  CD C0 0C    	call	_game_paint_attrib
3579  10A3  C9          	ret
3580  10A4              	SECTION rodata_compiler
3581  011B              ___str_36:
3582  011B  20 20 31 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  1 PLAYER   "
3583  0128  00          	DEFB 0x00
3584  0129              	SECTION rodata_compiler
3585  0129              ___str_37:
3586  0129  20 20 32 20 50 4C 41 59 45 52 20 20 20 
                        	DEFM "  2 PLAYER   "
3587  0136  00          	DEFB 0x00
3588  0137              	SECTION rodata_compiler
3589  0137              ___str_38:
3590  0137  20 20 20 43 4F 4E 46 49 47 20 20 20 20 
                        	DEFM "   CONFIG    "
3591  0144  00          	DEFB 0x00
3592  0145              	SECTION rodata_compiler
3593  0145              ___str_39:
3594  0145  43 4F 44 45 44 20 42 59 20 43 47 4F 4E 5A 41 4C 45 5A 
                        	DEFM "CODED BY CGONZALEZ"
3595  0157  00          	DEFB 0x00
3596  0158              	SECTION rodata_compiler
3597  0158              ___str_40:
3598  0158  20 20 20 56 45 52 53 49 4F 4E 20 20 31 2E 34 20 20 
                        	DEFM "   VERSION  1.4  "
3599  0169  00          	DEFB 0x00
3600  016A              	SECTION code_compiler
3601  10A4              ;	---------------------------------
3602  10A4              ; Function game_menu_e
3603  10A4              ; ---------------------------------
3604  10A4              _game_menu_e:
3605  10A4  CD 00 00    	call	___sdcc_enter_ix
3606  10A7  F3          	di
3607  10A8  DD 4E 05    	ld	c,(ix+5)
3608  10AB  21 00 00    	ld	hl,_tmp_uc
3609  10AE  71          	ld	(hl),c
3610  10AF  DD 46 07    	ld	b,(ix+7)
3611  10B2  04          	inc	b
3612  10B3  DD 56 07    	ld	d,(ix+7)
3613  10B6  14          	inc	d
3614  10B7  14          	inc	d
3615  10B8              l_game_menu_e_00114:
3616  10B8  DD 7E 06    	ld	a,(ix+6)
3617  10BB  21 00 00    	ld	hl,_tmp_uc
3618  10BE  96          	sub	a, (hl)
3619  10BF  38 56       	jr	C,l_game_menu_e_00109
3620  10C1  7E          	ld	a,(hl)
3621  10C2  91          	sub	a, c
3622  10C3  20 15       	jr	NZ,l_game_menu_e_00102
3623  10C5  3A 00 00    	ld	a,(_tmp_uc)
3624  10C8  C5          	push	bc
3625  10C9  D5          	push	de
3626  10CA  F5          	push	af
3627  10CB  33          	inc	sp
3628  10CC  DD 66 04    	ld	h,(ix+4)
3629  10CF  DD 6E 07    	ld	l,(ix+7)
3630  10D2  E5          	push	hl
3631  10D3  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3632  10D6  D1          	pop	de
3633  10D7  C1          	pop	bc
3634  10D8  18 36       	jr	l_game_menu_e_00108
3635  10DA              l_game_menu_e_00102:
3636  10DA  3A 00 00    	ld	a,(_tmp_uc)
3637  10DD  DD 96 06    	sub	a,(ix+6)
3638  10E0  20 14       	jr	NZ,l_game_menu_e_00104
3639  10E2  3A 00 00    	ld	a,(_tmp_uc)
3640  10E5  C5          	push	bc
3641  10E6  D5          	push	de
3642  10E7  F5          	push	af
3643  10E8  33          	inc	sp
3644  10E9  DD 7E 04    	ld	a,(ix+4)
3645  10EC  5A          	ld	e,d
3646  10ED  57          	ld	d,a
3647  10EE  D5          	push	de
3648  10EF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3649  10F2  D1          	pop	de
3650  10F3  C1          	pop	bc
3651  10F4  18 1A       	jr	l_game_menu_e_00108
3652  10F6              l_game_menu_e_00104:
3653  10F6  3A 00 00    	ld	a,(_tmp_uc)
3654  10F9  FE 0E       	cp	a,0x0e
3655  10FB  28 13       	jr	Z,l_game_menu_e_00108
3656  10FD  FE 10       	cp	a,0x10
3657  10FF  28 0F       	jr	Z,l_game_menu_e_00108
3658  1101  C5          	push	bc
3659  1102  D5          	push	de
3660  1103  F5          	push	af
3661  1104  33          	inc	sp
3662  1105  DD 7E 04    	ld	a,(ix+4)
3663  1108  48          	ld	c,b
3664  1109  47          	ld	b,a
3665  110A  C5          	push	bc
3666  110B  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3667  110E  D1          	pop	de
3668  110F  C1          	pop	bc
3669  1110              l_game_menu_e_00108:
3670  1110  21 00 00    	ld	hl,_tmp_uc
3671  1113  34          	inc	(hl)
3672  1114  34          	inc	(hl)
3673  1115  18 A1       	jr	l_game_menu_e_00114
3674  1117              l_game_menu_e_00109:
3675  1117  DD 7E 08    	ld	a,(ix+8)
3676  111A  3C          	inc	a
3677  111B  20 0A       	jr	NZ,l_game_menu_e_00111
3678  111D  DD 7E 04    	ld	a,(ix+4)
3679  1120  C6 F0       	add	a,0xf0
3680  1122  DD 77 04    	ld	(ix+4),a
3681  1125  18 08       	jr	l_game_menu_e_00112
3682  1127              l_game_menu_e_00111:
3683  1127  DD 7E 04    	ld	a,(ix+4)
3684  112A  C6 10       	add	a,0x10
3685  112C  DD 77 04    	ld	(ix+4),a
3686  112F              l_game_menu_e_00112:
3687  112F  DD 7E 07    	ld	a,(ix+7)
3688  1132  C6 0C       	add	a,0x0c
3689  1134  47          	ld	b,a
3690  1135  79          	ld	a,c
3691  1136  F5          	push	af
3692  1137  33          	inc	sp
3693  1138  DD 7E 04    	ld	a,(ix+4)
3694  113B  48          	ld	c,b
3695  113C  47          	ld	b,a
3696  113D  C5          	push	bc
3697  113E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3698  1141  DD 7E 07    	ld	a,(ix+7)
3699  1144  C6 0E       	add	a,0x0e
3700  1146  47          	ld	b,a
3701  1147  DD 66 06    	ld	h,(ix+6)
3702  114A  DD 6E 04    	ld	l,(ix+4)
3703  114D  E5          	push	hl
3704  114E  C5          	push	bc
3705  114F  33          	inc	sp
3706  1150  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
3707  1153  FB          	ei
3708  1154  DD E1       	pop	ix
3709  1156  C9          	ret
3710  1157              	SECTION code_compiler
3711  1157              ;	---------------------------------
3712  1157              ; Function game_menu_handle
3713  1157              ; ---------------------------------
3714  1157              _game_menu_handle:
3715  1157  CD 00 00    	call	___sdcc_enter_ix
3716  115A  3B          	dec	sp
3717  115B  2A 00 00    	ld	hl,(_curr_time)
3718  115E  22 00 00    	ld	(_entry_time),hl
3719  1161  DD 5E 05    	ld	e,(ix+5)
3720  1164  21 00 00    	ld	hl,_game_menu_sel
3721  1167  66          	ld	h,(hl)
3722  1168  2E 00       	ld	l,0x00
3723  116A  55          	ld	d, l
3724  116B  06 08       	ld	b,0x08
3725  116D              l_game_menu_handle_00148:
3726  116D  29          	add	hl,hl
3727  116E  30 01       	jr	NC,l_game_menu_handle_00149
3728  1170  19          	add	hl,de
3729  1171              l_game_menu_handle_00149:
3730  1171  10 FA       	djnz	l_game_menu_handle_00148
3731  1173  DD 7E 06    	ld	a,(ix+6)
3732  1176  85          	add	a,l
3733  1177  32 00 00    	ld	(_s_lin1),a
3734  117A  DD 7E 06    	ld	a,(ix+6)
3735  117D  DD 77 FF    	ld	(ix-1),a
3736  1180              l_game_menu_handle_00111:
3737  1180  21 00 00    	ld	hl,_k1
3738  1183  E5          	push	hl
3739  1184  2A 00 00    	ld	hl,(_joyfunc1)
3740  1187  CD 00 00    	call	___sdcc_call_hl
3741  118A  F1          	pop	af
3742  118B  7D          	ld	a,l
3743  118C  32 00 00    	ld	(_dirs),a
3744  118F  D6 80       	sub	a,0x80
3745  1191  CA 33 12    	jp	Z,l_game_menu_handle_00113
3746  1194  21 05 00    	ld	hl,0x0005
3747  1197  E5          	push	hl
3748  1198  2A 00 00    	ld	hl,(_frame_time)
3749  119B  E5          	push	hl
3750  119C  CD 3A 1A    	call	_game_check_time
3751  119F  F1          	pop	af
3752  11A0  F1          	pop	af
3753  11A1  7D          	ld	a,l
3754  11A2  B7          	or	a, a
3755  11A3  28 58       	jr	Z,l_game_menu_handle_00106
3756  11A5  3A 00 00    	ld	a,(_dirs)
3757  11A8  B7          	or	a, a
3758  11A9  28 32       	jr	Z,l_game_menu_handle_00104
3759  11AB  21 00 00    	ld	hl,_ay_effect_03
3760  11AE  CD 00 00    	call	_ay_fx_play
3761  11B1  CD 00 00    	call	_sound_slide
3762  11B4  3A 00 00    	ld	a,(_s_lin1)
3763  11B7  07          	rlca
3764  11B8  07          	rlca
3765  11B9  07          	rlca
3766  11BA  E6 F8       	and	a,0xf8
3767  11BC  C6 08       	add	a,0x08
3768  11BE  F5          	push	af
3769  11BF  33          	inc	sp
3770  11C0  26 14       	ld	h,0x14
3771  11C2  DD 6E 04    	ld	l,(ix+4)
3772  11C5  E5          	push	hl
3773  11C6  CD E4 0C    	call	_game_paint_attrib_lin
3774  11C9  F1          	pop	af
3775  11CA  33          	inc	sp
3776  11CB  21 00 00    	ld	hl,_s_lin1
3777  11CE  7E          	ld	a,(hl)
3778  11CF  DD 86 05    	add	a,(ix+5)
3779  11D2  77          	ld	(hl),a
3780  11D3  DD 7E 07    	ld	a,(ix+7)
3781  11D6  96          	sub	a, (hl)
3782  11D7  30 04       	jr	NC,l_game_menu_handle_00104
3783  11D9  DD 7E FF    	ld	a,(ix-1)
3784  11DC  77          	ld	(hl),a
3785  11DD              l_game_menu_handle_00104:
3786  11DD  2A 00 00    	ld	hl,(_curr_time)
3787  11E0  22 00 00    	ld	(_frame_time),hl
3788  11E3  3A 00 00    	ld	a,(_s_lin1)
3789  11E6  07          	rlca
3790  11E7  07          	rlca
3791  11E8  07          	rlca
3792  11E9  E6 F8       	and	a,0xf8
3793  11EB  C6 08       	add	a,0x08
3794  11ED  F5          	push	af
3795  11EE  33          	inc	sp
3796  11EF  26 14       	ld	h,0x14
3797  11F1  DD 6E 04    	ld	l,(ix+4)
3798  11F4  E5          	push	hl
3799  11F5  CD 0B 0D    	call	_game_paint_attrib_lin_h
3800  11F8  F1          	pop	af
3801  11F9  33          	inc	sp
3802  11FA  CD 8C 19    	call	_game_rotate_attrib
3803  11FD              l_game_menu_handle_00106:
3804  11FD  DD 7E 09    	ld	a,(ix+9)
3805  1200  DD B6 08    	or	a,(ix+8)
3806  1203  CA 80 11    	jp	Z,l_game_menu_handle_00111
3807  1206  DD 6E 08    	ld	l,(ix+8)
3808  1209  DD 66 09    	ld	h,(ix+9)
3809  120C  E5          	push	hl
3810  120D  2A 00 00    	ld	hl,(_entry_time)
3811  1210  E5          	push	hl
3812  1211  CD 3A 1A    	call	_game_check_time
3813  1214  F1          	pop	af
3814  1215  F1          	pop	af
3815  1216  7D          	ld	a,l
3816  1217  B7          	or	a, a
3817  1218  CA 80 11    	jp	Z,l_game_menu_handle_00111
3818  121B  CD 00 00    	call	_ay_is_playing
3819  121E  7D          	ld	a,l
3820  121F  B7          	or	a, a
3821  1220  C2 80 11    	jp	NZ,l_game_menu_handle_00111
3822  1223  CD BB 18    	call	_game_hall_of_fame
3823  1226  21 00 00    	ld	hl,_game_menu_sel
3824  1229  2E 00       	ld	l,0x00
3825  122B  75          	ld	(hl),l
3826  122C  CD BA 16    	call	_game_menu_back
3827  122F  2E FF       	ld	l,0xff
3828  1231  18 10       	jr	l_game_menu_handle_00114
3829  1233              l_game_menu_handle_00113:
3830  1233  3A 00 00    	ld	a,(_s_lin1)
3831  1236  DD 96 FF    	sub	a,(ix-1)
3832  1239  47          	ld	b,a
3833  123A  DD 7E 05    	ld	a,(ix+5)
3834  123D  48          	ld	c,b
3835  123E  47          	ld	b,a
3836  123F  C5          	push	bc
3837  1240  CD 00 00    	call	__divuchar_callee
3838  1243              l_game_menu_handle_00114:
3839  1243  33          	inc	sp
3840  1244  DD E1       	pop	ix
3841  1246  C9          	ret
3842  1247              	SECTION code_compiler
3843  1247              ;	---------------------------------
3844  1247              ; Function game_end
3845  1247              ; ---------------------------------
3846  1247              _game_end:
3847  1247  CD 00 00    	call	___sdcc_enter_ix
3848  124A  F5          	push	af
3849  124B  F5          	push	af
3850  124C  CD BB 08    	call	_game_kill_all_sprites
3851  124F  CD 00 00    	call	_spr_draw_clear
3852  1252  21 00 00    	ld	hl,_pb_midi_title
3853  1255  CD 00 00    	call	_ay_midi_play
3854  1258  21 00 00    	ld	hl,_tmp0
3855  125B  36 04       	ld	(hl),0x04
3856  125D              l_game_end_00129:
3857  125D  3A 00 00    	ld	a,(_tmp0)
3858  1260  F5          	push	af
3859  1261  33          	inc	sp
3860  1262  21 8C 50    	ld	hl,0x508c
3861  1265  E5          	push	hl
3862  1266  CD 00 00    	call	_NIRVANAP_drawT_callee
3863  1269  21 00 00    	ld	hl,_tmp0
3864  126C  7E          	ld	a,(hl)
3865  126D  3C          	inc	a
3866  126E  3C          	inc	a
3867  126F  77          	ld	(hl),a
3868  1270  D6 1C       	sub	a,0x1c
3869  1272  38 E9       	jr	C,l_game_end_00129
3870  1274  36 04       	ld	(hl),0x04
3871  1276              l_game_end_00131:
3872  1276  3A 00 00    	ld	a,(_tmp0)
3873  1279  F5          	push	af
3874  127A  33          	inc	sp
3875  127B  21 8C 60    	ld	hl,0x608c
3876  127E  E5          	push	hl
3877  127F  CD 00 00    	call	_NIRVANAP_drawT_callee
3878  1282  21 00 00    	ld	hl,_tmp0
3879  1285  7E          	ld	a,(hl)
3880  1286  3C          	inc	a
3881  1287  3C          	inc	a
3882  1288  77          	ld	(hl),a
3883  1289  D6 1C       	sub	a,0x1c
3884  128B  38 E9       	jr	C,l_game_end_00131
3885  128D  36 04       	ld	(hl),0x04
3886  128F              l_game_end_00133:
3887  128F  3A 00 00    	ld	a,(_tmp0)
3888  1292  F5          	push	af
3889  1293  33          	inc	sp
3890  1294  21 8C 70    	ld	hl,0x708c
3891  1297  E5          	push	hl
3892  1298  CD 00 00    	call	_NIRVANAP_drawT_callee
3893  129B  21 00 00    	ld	hl,_tmp0
3894  129E  7E          	ld	a,(hl)
3895  129F  3C          	inc	a
3896  12A0  3C          	inc	a
3897  12A1  77          	ld	(hl),a
3898  12A2  D6 1C       	sub	a,0x1c
3899  12A4  38 E9       	jr	C,l_game_end_00133
3900  12A6  21 50 18    	ld	hl,0x1850
3901  12A9  E5          	push	hl
3902  12AA  3E D6       	ld	a,0xd6
3903  12AC  F5          	push	af
3904  12AD  33          	inc	sp
3905  12AE  CD 00 00    	call	_NIRVANAP_drawT_callee
3906  12B1  21 9C 01    	ld	hl,0x019c
3907  12B4  E5          	push	hl
3908  12B5  21 01 1D    	ld	hl,0x1d01
3909  12B8  E5          	push	hl
3910  12B9  3E 20       	ld	a,0x20
3911  12BB  F5          	push	af
3912  12BC  33          	inc	sp
3913  12BD  CD A4 10    	call	_game_menu_e
3914  12C0  F1          	pop	af
3915  12C1  33          	inc	sp
3916  12C2  21 9F FF    	ld	hl,0xff9f
3917  12C5  E3          	ex	(sp),hl
3918  12C6  21 01 1D    	ld	hl,0x1d01
3919  12C9  E5          	push	hl
3920  12CA  3E 80       	ld	a,0x80
3921  12CC  F5          	push	af
3922  12CD  33          	inc	sp
3923  12CE  CD A4 10    	call	_game_menu_e
3924  12D1  F1          	pop	af
3925  12D2  F1          	pop	af
3926  12D3  33          	inc	sp
3927  12D4  3E 00       	ld	a,0x00
3928  12D6  DD 77 FD    	ld	(ix-3),a
3929  12D9  DD 77 FC    	ld	(ix-4),a
3930  12DC  3A 00 00    	ld	a,(_game_two_player)
3931  12DF  B7          	or	a, a
3932  12E0  28 16       	jr	Z,l_game_end_00109
3933  12E2  3A 00 00    	ld	a,(_game_lives)
3934  12E5  B7          	or	a, a
3935  12E6  28 04       	jr	Z,l_game_end_00105
3936  12E8  DD 36 FD 01 	ld	(ix-3),0x01
3937  12EC              l_game_end_00105:
3938  12EC  3A 01 00    	ld	a, (_game_lives + 1)
3939  12EF  B7          	or	a, a
3940  12F0  28 0A       	jr	Z,l_game_end_00110
3941  12F2  DD 36 FC 01 	ld	(ix-4),0x01
3942  12F6  18 04       	jr	l_game_end_00110
3943  12F8              l_game_end_00109:
3944  12F8  DD 36 FD 01 	ld	(ix-3),0x01
3945  12FC              l_game_end_00110:
3946  12FC  DD 7E FD    	ld	a,(ix-3)
3947  12FF  3D          	dec	a
3948  1300  20 04       	jr	NZ,l_game_end_00221
3949  1302  3E 01       	ld	a,0x01
3950  1304  18 01       	jr	l_game_end_00222
3951  1306              l_game_end_00221:
3952  1306  AF          	xor	a,a
3953  1307              l_game_end_00222:
3954  1307  DD 77 FF    	ld	(ix-1),a
3955  130A  B7          	or	a, a
3956  130B  28 1C       	jr	Z,l_game_end_00112
3957  130D  DD 7E FC    	ld	a,(ix-4)
3958  1310  B7          	or	a, a
3959  1311  20 16       	jr	NZ,l_game_end_00112
3960  1313  21 6A 01    	ld	hl,___str_41
3961  1316  E5          	push	hl
3962  1317  21 13 01    	ld	hl,0x0113
3963  131A  E5          	push	hl
3964  131B  CD 00 00    	call	_zx_print_str
3965  131E  21 50 0C    	ld	hl,0x0c50
3966  1321  E5          	push	hl
3967  1322  3E 03       	ld	a,0x03
3968  1324  F5          	push	af
3969  1325  33          	inc	sp
3970  1326  CD 00 00    	call	_NIRVANAP_drawT_callee
3971  1329              l_game_end_00112:
3972  1329  DD 7E FC    	ld	a,(ix-4)
3973  132C  3D          	dec	a
3974  132D  20 04       	jr	NZ,l_game_end_00223
3975  132F  3E 01       	ld	a,0x01
3976  1331  18 01       	jr	l_game_end_00224
3977  1333              l_game_end_00223:
3978  1333  AF          	xor	a,a
3979  1334              l_game_end_00224:
3980  1334  DD 77 FE    	ld	(ix-2),a
3981  1337  DD 7E FD    	ld	a,(ix-3)
3982  133A  B7          	or	a, a
3983  133B  20 1C       	jr	NZ,l_game_end_00115
3984  133D  DD 7E FE    	ld	a,(ix-2)
3985  1340  B7          	or	a, a
3986  1341  28 16       	jr	Z,l_game_end_00115
3987  1343  21 74 01    	ld	hl,___str_42
3988  1346  E5          	push	hl
3989  1347  21 13 01    	ld	hl,0x0113
3990  134A  E5          	push	hl
3991  134B  CD 00 00    	call	_zx_print_str
3992  134E  21 60 0E    	ld	hl,0x0e60
3993  1351  E5          	push	hl
3994  1352  3E 1B       	ld	a,0x1b
3995  1354  F5          	push	af
3996  1355  33          	inc	sp
3997  1356  CD 00 00    	call	_NIRVANAP_drawT_callee
3998  1359              l_game_end_00115:
3999  1359  DD 7E FF    	ld	a,(ix-1)
4000  135C  B7          	or	a, a
4001  135D  28 27       	jr	Z,l_game_end_00118
4002  135F  DD 7E FE    	ld	a,(ix-2)
4003  1362  B7          	or	a, a
4004  1363  28 21       	jr	Z,l_game_end_00118
4005  1365  21 7D 01    	ld	hl,___str_43
4006  1368  E5          	push	hl
4007  1369  21 13 01    	ld	hl,0x0113
4008  136C  E5          	push	hl
4009  136D  CD 00 00    	call	_zx_print_str
4010  1370  21 50 0C    	ld	hl,0x0c50
4011  1373  E5          	push	hl
4012  1374  3E 03       	ld	a,0x03
4013  1376  F5          	push	af
4014  1377  33          	inc	sp
4015  1378  CD 00 00    	call	_NIRVANAP_drawT_callee
4016  137B  21 60 0E    	ld	hl,0x0e60
4017  137E  E5          	push	hl
4018  137F  3E 1B       	ld	a,0x1b
4019  1381  F5          	push	af
4020  1382  33          	inc	sp
4021  1383  CD 00 00    	call	_NIRVANAP_drawT_callee
4022  1386              l_game_end_00118:
4023  1386  21 C8 00    	ld	hl,0x00c8
4024  1389  E5          	push	hl
4025  138A  21 01 1F    	ld	hl,0x1f01
4026  138D  E5          	push	hl
4027  138E  3E 13       	ld	a,0x13
4028  1390  F5          	push	af
4029  1391  33          	inc	sp
4030  1392  CD A8 19    	call	_game_colour_message
4031  1395  F1          	pop	af
4032  1396  F1          	pop	af
4033  1397  33          	inc	sp
4034  1398  DD 7E FF    	ld	a,(ix-1)
4035  139B  B7          	or	a, a
4036  139C  28 32       	jr	Z,l_game_end_00121
4037  139E  DD 7E FC    	ld	a,(ix-4)
4038  13A1  B7          	or	a, a
4039  13A2  20 2C       	jr	NZ,l_game_end_00121
4040  13A4  21 40 12    	ld	hl,0x1240
4041  13A7  E5          	push	hl
4042  13A8  3E BE       	ld	a,0xbe
4043  13AA  F5          	push	af
4044  13AB  33          	inc	sp
4045  13AC  CD 00 00    	call	_NIRVANAP_drawT_callee
4046  13AF  21 50 12    	ld	hl,0x1250
4047  13B2  E5          	push	hl
4048  13B3  3E CA       	ld	a,0xca
4049  13B5  F5          	push	af
4050  13B6  33          	inc	sp
4051  13B7  CD 00 00    	call	_NIRVANAP_drawT_callee
4052  13BA  21 91 01    	ld	hl,___str_44
4053  13BD  E5          	push	hl
4054  13BE  21 13 01    	ld	hl,0x0113
4055  13C1  E5          	push	hl
4056  13C2  CD 00 00    	call	_zx_print_str
4057  13C5  21 40 0C    	ld	hl,0x0c40
4058  13C8  E5          	push	hl
4059  13C9  3E BE       	ld	a,0xbe
4060  13CB  F5          	push	af
4061  13CC  33          	inc	sp
4062  13CD  CD 00 00    	call	_NIRVANAP_drawT_callee
4063  13D0              l_game_end_00121:
4064  13D0  DD 7E FD    	ld	a,(ix-3)
4065  13D3  B7          	or	a, a
4066  13D4  20 32       	jr	NZ,l_game_end_00124
4067  13D6  DD 7E FE    	ld	a,(ix-2)
4068  13D9  B7          	or	a, a
4069  13DA  28 2C       	jr	Z,l_game_end_00124
4070  13DC  21 50 12    	ld	hl,0x1250
4071  13DF  E5          	push	hl
4072  13E0  3E BE       	ld	a,0xbe
4073  13E2  F5          	push	af
4074  13E3  33          	inc	sp
4075  13E4  CD 00 00    	call	_NIRVANAP_drawT_callee
4076  13E7  21 60 12    	ld	hl,0x1260
4077  13EA  E5          	push	hl
4078  13EB  3E CA       	ld	a,0xca
4079  13ED  F5          	push	af
4080  13EE  33          	inc	sp
4081  13EF  CD 00 00    	call	_NIRVANAP_drawT_callee
4082  13F2  21 91 01    	ld	hl,___str_44
4083  13F5  E5          	push	hl
4084  13F6  21 13 01    	ld	hl,0x0113
4085  13F9  E5          	push	hl
4086  13FA  CD 00 00    	call	_zx_print_str
4087  13FD  21 50 0E    	ld	hl,0x0e50
4088  1400  E5          	push	hl
4089  1401  3E BE       	ld	a,0xbe
4090  1403  F5          	push	af
4091  1404  33          	inc	sp
4092  1405  CD 00 00    	call	_NIRVANAP_drawT_callee
4093  1408              l_game_end_00124:
4094  1408  DD 7E FF    	ld	a,(ix-1)
4095  140B  B7          	or	a, a
4096  140C  28 53       	jr	Z,l_game_end_00127
4097  140E  DD 7E FE    	ld	a,(ix-2)
4098  1411  B7          	or	a, a
4099  1412  28 4D       	jr	Z,l_game_end_00127
4100  1414  21 A5 01    	ld	hl,___str_45
4101  1417  E5          	push	hl
4102  1418  21 13 01    	ld	hl,0x0113
4103  141B  E5          	push	hl
4104  141C  CD 00 00    	call	_zx_print_str
4105  141F  21 40 12    	ld	hl,0x1240
4106  1422  E5          	push	hl
4107  1423  3E BE       	ld	a,0xbe
4108  1425  F5          	push	af
4109  1426  33          	inc	sp
4110  1427  CD 00 00    	call	_NIRVANAP_drawT_callee
4111  142A  21 50 12    	ld	hl,0x1250
4112  142D  E5          	push	hl
4113  142E  3E CA       	ld	a,0xca
4114  1430  F5          	push	af
4115  1431  33          	inc	sp
4116  1432  CD 00 00    	call	_NIRVANAP_drawT_callee
4117  1435  21 50 10    	ld	hl,0x1050
4118  1438  E5          	push	hl
4119  1439  3E BE       	ld	a,0xbe
4120  143B  F5          	push	af
4121  143C  33          	inc	sp
4122  143D  CD 00 00    	call	_NIRVANAP_drawT_callee
4123  1440  21 60 10    	ld	hl,0x1060
4124  1443  E5          	push	hl
4125  1444  3E CA       	ld	a,0xca
4126  1446  F5          	push	af
4127  1447  33          	inc	sp
4128  1448  CD 00 00    	call	_NIRVANAP_drawT_callee
4129  144B  21 40 0C    	ld	hl,0x0c40
4130  144E  E5          	push	hl
4131  144F  3E BE       	ld	a,0xbe
4132  1451  F5          	push	af
4133  1452  33          	inc	sp
4134  1453  CD 00 00    	call	_NIRVANAP_drawT_callee
4135  1456  21 50 0E    	ld	hl,0x0e50
4136  1459  E5          	push	hl
4137  145A  3E BE       	ld	a,0xbe
4138  145C  F5          	push	af
4139  145D  33          	inc	sp
4140  145E  CD 00 00    	call	_NIRVANAP_drawT_callee
4141  1461              l_game_end_00127:
4142  1461  21 C8 00    	ld	hl,0x00c8
4143  1464  E5          	push	hl
4144  1465  21 01 1F    	ld	hl,0x1f01
4145  1468  E5          	push	hl
4146  1469  3E 13       	ld	a,0x13
4147  146B  F5          	push	af
4148  146C  33          	inc	sp
4149  146D  CD A8 19    	call	_game_colour_message
4150  1470  F1          	pop	af
4151  1471  33          	inc	sp
4152  1472  21 BB 01    	ld	hl,___str_46
4153  1475  E3          	ex	(sp),hl
4154  1476  21 13 01    	ld	hl,0x0113
4155  1479  E5          	push	hl
4156  147A  CD 00 00    	call	_zx_print_str
4157  147D  21 C8 00    	ld	hl,0x00c8
4158  1480  E5          	push	hl
4159  1481  21 01 1F    	ld	hl,0x1f01
4160  1484  E5          	push	hl
4161  1485  3E 13       	ld	a,0x13
4162  1487  F5          	push	af
4163  1488  33          	inc	sp
4164  1489  CD A8 19    	call	_game_colour_message
4165  148C  F1          	pop	af
4166  148D  33          	inc	sp
4167  148E  21 D2 01    	ld	hl,___str_47
4168  1491  E3          	ex	(sp),hl
4169  1492  21 13 01    	ld	hl,0x0113
4170  1495  E5          	push	hl
4171  1496  CD 00 00    	call	_zx_print_str
4172  1499  21 C8 00    	ld	hl,0x00c8
4173  149C  E5          	push	hl
4174  149D  21 01 1F    	ld	hl,0x1f01
4175  14A0  E5          	push	hl
4176  14A1  3E 13       	ld	a,0x13
4177  14A3  F5          	push	af
4178  14A4  33          	inc	sp
4179  14A5  CD A8 19    	call	_game_colour_message
4180  14A8  F1          	pop	af
4181  14A9  F1          	pop	af
4182  14AA  33          	inc	sp
4183  14AB  CD 00 00    	call	_spr_draw_clear
4184  14AE  DD F9       	ld	sp, ix
4185  14B0  DD E1       	pop	ix
4186  14B2  C9          	ret
4187  14B3              	SECTION rodata_compiler
4188  016A              ___str_41:
4189  016A  50 49 45 54 52 4F 2E 2E 2E 
                        	DEFM "PIETRO..."
4190  0173  00          	DEFB 0x00
4191  0174              	SECTION rodata_compiler
4192  0174              ___str_42:
4193  0174  4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "LUIZO..."
4194  017C  00          	DEFB 0x00
4195  017D              	SECTION rodata_compiler
4196  017D              ___str_43:
4197  017D  50 49 45 54 52 4F 20 41 4E 44 20 4C 55 49 5A 4F 2E 2E 2E 
                        	DEFM "PIETRO AND LUIZO..."
4198  0190  00          	DEFB 0x00
4199  0191              	SECTION rodata_compiler
4200  0191              ___str_44:
4201  0191  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 21 
                        	DEFM "FOUND THE PRINCESS!"
4202  01A4  00          	DEFB 0x00
4203  01A5              	SECTION rodata_compiler
4204  01A5              ___str_45:
4205  01A5  46 4F 55 4E 44 20 54 48 45 20 50 52 49 4E 43 45 53 53 45 53 21 
                        	DEFM "FOUND THE PRINCESSES!"
4206  01BA  00          	DEFB 0x00
4207  01BB              	SECTION rodata_compiler
4208  01BB              ___str_46:
4209  01BB  54 48 41 4E 4B 20 59 4F 55 20 46 4F 52 20 50 4C 41 59 49 4E 47 21 
                        	DEFM "THANK YOU FOR PLAYING!"
4210  01D1  00          	DEFB 0x00
4211  01D2              	SECTION rodata_compiler
4212  01D2              ___str_47:
4213  01D2  53 45 45 20 59 4F 55 21 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "SEE YOU!              "
4214  01E8  00          	DEFB 0x00
4215  01E9              	SECTION code_compiler
4216  14B3              ;	---------------------------------
4217  14B3              ; Function game_hall_check
4218  14B3              ; ---------------------------------
4219  14B3              _game_hall_check:
4220  14B3  5D          	ld	e,l
4221  14B4  01 00 00    	ld	bc,_player_score+0
4222  14B7  26 00       	ld	h,0x00
4223  14B9  6B          	ld	l, e
4224  14BA  29          	add	hl, hl
4225  14BB  09          	add	hl,bc
4226  14BC  4E          	ld	c,(hl)
4227  14BD  23          	inc	hl
4228  14BE  46          	ld	b,(hl)
4229  14BF  2A 3A 00    	ld	hl,(_hof + 0x003a)
4230  14C2  AF          	xor	a,a
4231  14C3  ED 42       	sbc	hl,bc
4232  14C5  30 09       	jr	NC,l_game_hall_check_00104
4233  14C7  ED 43 3A 00 	ld	(_hof + 0x003a),bc
4234  14CB  21 36 00    	ld	hl,+(_hof + 0x0036)
4235  14CE  18 14       	jr	l_game_hall_check_00106
4236  14D0              l_game_hall_check_00104:
4237  14D0  2A 34 00    	ld	hl,(_hof + 0x0034)
4238  14D3  AF          	xor	a,a
4239  14D4  ED 42       	sbc	hl,bc
4240  14D6  30 09       	jr	NC,l_game_hall_check_00105
4241  14D8  ED 43 34 00 	ld	(_hof + 0x0034),bc
4242  14DC  21 30 00    	ld	hl,+(_hof + 0x0030)
4243  14DF  18 03       	jr	l_game_hall_check_00106
4244  14E1              l_game_hall_check_00105:
4245  14E1  21 00 00    	ld	hl,0x0000
4246  14E4              l_game_hall_check_00106:
4247  14E4  C9          	ret
4248  14E5              	SECTION code_compiler
4249  14E5              ;	---------------------------------
4250  14E5              ; Function compare_scores
4251  14E5              ; ---------------------------------
4252  14E5              _compare_scores:
4253  14E5  CD 00 00    	call	___sdcc_enter_ix
4254  14E8  DD 6E 06    	ld	l,(ix+6)
4255  14EB  DD 66 07    	ld	h,(ix+7)
4256  14EE  11 04 00    	ld	de,0x0004
4257  14F1  19          	add	hl, de
4258  14F2  4E          	ld	c,(hl)
4259  14F3  23          	inc	hl
4260  14F4  46          	ld	b,(hl)
4261  14F5  DD 6E 04    	ld	l,(ix+4)
4262  14F8  DD 66 05    	ld	h,(ix+5)
4263  14FB  11 04 00    	ld	de,0x0004
4264  14FE  19          	add	hl, de
4265  14FF  7E          	ld	a,(hl)
4266  1500  23          	inc	hl
4267  1501  56          	ld	d,(hl)
4268  1502  5F          	ld	e,a
4269  1503  91          	sub	a, c
4270  1504  7A          	ld	a,d
4271  1505  98          	sbc	a, b
4272  1506  30 05       	jr	NC,l_compare_scores_00102
4273  1508  21 01 00    	ld	hl,0x0001
4274  150B  18 10       	jr	l_compare_scores_00105
4275  150D              l_compare_scores_00102:
4276  150D  79          	ld	a,c
4277  150E  93          	sub	a, e
4278  150F  20 09       	jr	NZ,l_compare_scores_00104
4279  1511  78          	ld	a,b
4280  1512  92          	sub	a, d
4281  1513  20 05       	jr	NZ,l_compare_scores_00104
4282  1515  21 00 00    	ld	hl,0x0000
4283  1518  18 03       	jr	l_compare_scores_00105
4284  151A              l_compare_scores_00104:
4285  151A  21 FF FF    	ld	hl,0xffff
4286  151D              l_compare_scores_00105:
4287  151D  DD E1       	pop	ix
4288  151F  C9          	ret
4289  1520              	SECTION code_compiler
4290  1520              ;	---------------------------------
4291  1520              ; Function game_hall_enter
4292  1520              ; ---------------------------------
4293  1520              _game_hall_enter:
4294  1520  CD 00 00    	call	___sdcc_enter_ix
4295  1523  21 F7 FF    	ld	hl,-9
4296  1526  39          	add	hl,sp
4297  1527  F9          	ld	sp,hl
4298  1528  CD 00 00    	call	_spr_draw_clear
4299  152B  2E 00       	ld	l,0x00
4300  152D  CD C0 0C    	call	_game_paint_attrib
4301  1530  ED 4B 00 00 	ld	bc,(_player_score)
4302  1534  2A 02 00    	ld	hl, (_player_score + 2)
4303  1537  AF          	xor	a,a
4304  1538  ED 42       	sbc	hl,bc
4305  153A  30 0F       	jr	NC,l_game_hall_enter_00102
4306  153C  2E 00       	ld	l,0x00
4307  153E  CD B3 14    	call	_game_hall_check
4308  1541  E5          	push	hl
4309  1542  2E 01       	ld	l,0x01
4310  1544  CD B3 14    	call	_game_hall_check
4311  1547  EB          	ex	de,hl
4312  1548  C1          	pop	bc
4313  1549  18 0E       	jr	l_game_hall_enter_00103
4314  154B              l_game_hall_enter_00102:
4315  154B  2E 01       	ld	l,0x01
4316  154D  CD B3 14    	call	_game_hall_check
4317  1550  E5          	push	hl
4318  1551  2E 00       	ld	l,0x00
4319  1553  CD B3 14    	call	_game_hall_check
4320  1556  D1          	pop	de
4321  1557  4D          	ld	c,l
4322  1558  44          	ld	b,h
4323  1559              l_game_hall_enter_00103:
4324  1559  78          	ld	a,b
4325  155A  B1          	or	a,c
4326  155B  20 05       	jr	NZ,l_game_hall_enter_00125
4327  155D  7A          	ld	a,d
4328  155E  B3          	or	a,e
4329  155F  CA AD 16    	jp	Z,l_game_hall_enter_00126
4330  1562              l_game_hall_enter_00125:
4331  1562  3E 00       	ld	a,0x00
4332  1564  DD 77 FB    	ld	(ix-5),a
4333  1567  DD 77 FA    	ld	(ix-6),a
4334  156A  DD 77 F9    	ld	(ix-7),a
4335  156D  DD 77 F8    	ld	(ix-8),a
4336  1570  DD 36 F7 00 	ld	(ix-9),0x00
4337  1574  78          	ld	a,b
4338  1575  B1          	or	a,c
4339  1576  28 0D       	jr	Z,l_game_hall_enter_00105
4340  1578  DD 36 F8 01 	ld	(ix-8),0x01
4341  157C  C5          	push	bc
4342  157D  D5          	push	de
4343  157E  2E 00       	ld	l,0x00
4344  1580  CD D0 16    	call	_game_hall_enter_phs
4345  1583  D1          	pop	de
4346  1584  C1          	pop	bc
4347  1585              l_game_hall_enter_00105:
4348  1585  7A          	ld	a,d
4349  1586  B3          	or	a,e
4350  1587  28 0D       	jr	Z,l_game_hall_enter_00107
4351  1589  DD 36 F7 05 	ld	(ix-9),0x05
4352  158D  C5          	push	bc
4353  158E  D5          	push	de
4354  158F  2E 01       	ld	l,0x01
4355  1591  CD D0 16    	call	_game_hall_enter_phs
4356  1594  D1          	pop	de
4357  1595  C1          	pop	bc
4358  1596              l_game_hall_enter_00107:
4359  1596  C5          	push	bc
4360  1597  D5          	push	de
4361  1598  21 E9 01    	ld	hl,___str_48
4362  159B  E5          	push	hl
4363  159C  21 02 0A    	ld	hl,0x0a02
4364  159F  E5          	push	hl
4365  15A0  CD 00 00    	call	_zx_print_str
4366  15A3  21 F6 01    	ld	hl,___str_49
4367  15A6  E5          	push	hl
4368  15A7  21 12 06    	ld	hl,0x0612
4369  15AA  E5          	push	hl
4370  15AB  CD 00 00    	call	_zx_print_str
4371  15AE  21 09 02    	ld	hl,___str_50
4372  15B1  E5          	push	hl
4373  15B2  21 13 06    	ld	hl,0x0613
4374  15B5  E5          	push	hl
4375  15B6  CD 00 00    	call	_zx_print_str
4376  15B9  D1          	pop	de
4377  15BA  C1          	pop	bc
4378  15BB  DD 71 FE    	ld	(ix-2),c
4379  15BE  DD 70 FF    	ld	(ix-1),b
4380  15C1  DD 73 FC    	ld	(ix-4),e
4381  15C4  DD 72 FD    	ld	(ix-3),d
4382  15C7              l_game_hall_enter_00122:
4383  15C7  DD 7E F8    	ld	a,(ix-8)
4384  15CA  DD 86 F7    	add	a,(ix-9)
4385  15CD  B7          	or	a, a
4386  15CE  CA 95 16    	jp	Z,l_game_hall_enter_00124
4387  15D1  21 05 00    	ld	hl,0x0005
4388  15D4  E5          	push	hl
4389  15D5  2A 00 00    	ld	hl,(_frame_time)
4390  15D8  E5          	push	hl
4391  15D9  CD 3A 1A    	call	_game_check_time
4392  15DC  F1          	pop	af
4393  15DD  F1          	pop	af
4394  15DE  7D          	ld	a,l
4395  15DF  B7          	or	a, a
4396  15E0  28 36       	jr	Z,l_game_hall_enter_00113
4397  15E2  DD 7E F9    	ld	a,(ix-7)
4398  15E5  D6 01       	sub	a,0x01
4399  15E7  3E 00       	ld	a,0x00
4400  15E9  17          	rla
4401  15EA  DD 77 F9    	ld	(ix-7),a
4402  15ED  DD 7E F8    	ld	a,(ix-8)
4403  15F0  B7          	or	a, a
4404  15F1  28 0B       	jr	Z,l_game_hall_enter_00109
4405  15F3  DD 66 F9    	ld	h,(ix-7)
4406  15F6  DD 6E F8    	ld	l,(ix-8)
4407  15F9  E5          	push	hl
4408  15FA  CD 47 17    	call	_game_hall_print_p
4409  15FD  F1          	pop	af
4410  15FE              l_game_hall_enter_00109:
4411  15FE  DD 7E F7    	ld	a,(ix-9)
4412  1601  B7          	or	a, a
4413  1602  28 0B       	jr	Z,l_game_hall_enter_00111
4414  1604  DD 66 F9    	ld	h,(ix-7)
4415  1607  DD 6E F7    	ld	l,(ix-9)
4416  160A  E5          	push	hl
4417  160B  CD 47 17    	call	_game_hall_print_p
4418  160E  F1          	pop	af
4419  160F              l_game_hall_enter_00111:
4420  160F  CD 8C 19    	call	_game_rotate_attrib
4421  1612  2A 00 00    	ld	hl,(_curr_time)
4422  1615  22 00 00    	ld	(_frame_time),hl
4423  1618              l_game_hall_enter_00113:
4424  1618  21 00 00    	ld	hl,_k1
4425  161B  E5          	push	hl
4426  161C  2A 00 00    	ld	hl,(_joyfunc1)
4427  161F  CD 00 00    	call	___sdcc_call_hl
4428  1622  F1          	pop	af
4429  1623  7D          	ld	a,l
4430  1624  32 00 00    	ld	(_dirs),a
4431  1627  DD 7E FB    	ld	a,(ix-5)
4432  162A  B7          	or	a, a
4433  162B  20 22       	jr	NZ,l_game_hall_enter_00115
4434  162D  DD 7E F8    	ld	a,(ix-8)
4435  1630  B7          	or	a, a
4436  1631  28 1C       	jr	Z,l_game_hall_enter_00115
4437  1633  DD 6E F8    	ld	l,(ix-8)
4438  1636  CD 05 18    	call	_game_hall_edit_p
4439  1639  DD 75 F8    	ld	(ix-8),l
4440  163C  7D          	ld	a,l
4441  163D  B7          	or	a, a
4442  163E  20 0F       	jr	NZ,l_game_hall_enter_00115
4443  1640  DD 5E FE    	ld	e,(ix-2)
4444  1643  DD 56 FF    	ld	d,(ix-1)
4445  1646  AF          	xor	a,a
4446  1647  21 00 00    	ld	hl,_initials
4447  164A              l_game_hall_enter_00190:
4448  164A  BE          	cp	a, (hl)
4449  164B  ED A0       	ldi
4450  164D  20 FB       	jr	NZ, l_game_hall_enter_00190
4451  164F              l_game_hall_enter_00115:
4452  164F  3A 00 00    	ld	a,(_dirs)
4453  1652  DD 77 FB    	ld	(ix-5),a
4454  1655  21 00 00    	ld	hl,_k2
4455  1658  E5          	push	hl
4456  1659  2A 00 00    	ld	hl,(_joyfunc2)
4457  165C  CD 00 00    	call	___sdcc_call_hl
4458  165F  F1          	pop	af
4459  1660  7D          	ld	a,l
4460  1661  32 00 00    	ld	(_dirs),a
4461  1664  DD 7E FA    	ld	a,(ix-6)
4462  1667  B7          	or	a, a
4463  1668  20 22       	jr	NZ,l_game_hall_enter_00119
4464  166A  DD 7E F7    	ld	a,(ix-9)
4465  166D  B7          	or	a, a
4466  166E  28 1C       	jr	Z,l_game_hall_enter_00119
4467  1670  DD 6E F7    	ld	l,(ix-9)
4468  1673  CD 05 18    	call	_game_hall_edit_p
4469  1676  DD 75 F7    	ld	(ix-9),l
4470  1679  7D          	ld	a,l
4471  167A  B7          	or	a, a
4472  167B  20 0F       	jr	NZ,l_game_hall_enter_00119
4473  167D  DD 5E FC    	ld	e,(ix-4)
4474  1680  DD 56 FD    	ld	d,(ix-3)
4475  1683  AF          	xor	a,a
4476  1684  21 04 00    	ld	hl,+(_initials + 0x0004)
4477  1687              l_game_hall_enter_00191:
4478  1687  BE          	cp	a, (hl)
4479  1688  ED A0       	ldi
4480  168A  20 FB       	jr	NZ, l_game_hall_enter_00191
4481  168C              l_game_hall_enter_00119:
4482  168C  3A 00 00    	ld	a,(_dirs)
4483  168F  DD 77 FA    	ld	(ix-6),a
4484  1692  C3 C7 15    	jp	l_game_hall_enter_00122
4485  1695              l_game_hall_enter_00124:
4486  1695  CD 00 00    	call	_ay_reset
4487  1698  CD 00 00    	call	_spr_draw_clear
4488  169B  01 E5 14    	ld	bc,_compare_scores
4489  169E  C5          	push	bc
4490  169F  21 06 00    	ld	hl,0x0006
4491  16A2  E5          	push	hl
4492  16A3  2E 0A       	ld	l,0x0a
4493  16A5  E5          	push	hl
4494  16A6  21 00 00    	ld	hl,_hof
4495  16A9  E5          	push	hl
4496  16AA  CD 00 00    	call	__insertion_sort__callee
4497  16AD              l_game_hall_enter_00126:
4498  16AD  CD BB 18    	call	_game_hall_of_fame
4499  16B0  2E 00       	ld	l,0x00
4500  16B2  CD BA 16    	call	_game_menu_back
4501  16B5  DD F9       	ld	sp, ix
4502  16B7  DD E1       	pop	ix
4503  16B9  C9          	ret
4504  16BA              	SECTION rodata_compiler
4505  01E9              ___str_48:
4506  01E9  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4507  01F5  00          	DEFB 0x00
4508  01F6              	SECTION rodata_compiler
4509  01F6              ___str_49:
4510  01F6  20 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 21 
                        	DEFM " CONGRATULATIONS !"
4511  0208  00          	DEFB 0x00
4512  0209              	SECTION rodata_compiler
4513  0209              ___str_50:
4514  0209  45 4E 54 45 52 20 59 4F 55 52 20 49 4E 49 54 49 41 4C 53 
                        	DEFM "ENTER YOUR INITIALS"
4515  021C  00          	DEFB 0x00
4516  021D              	SECTION code_compiler
4517  16BA              ;	---------------------------------
4518  16BA              ; Function game_menu_back
4519  16BA              ; ---------------------------------
4520  16BA              _game_menu_back:
4521  16BA  7D          	ld	a,l
4522  16BB  32 00 00    	ld	(_s_lin1),a
4523  16BE  21 00 00    	ld	hl,_game_menu_sel
4524  16C1  36 00       	ld	(hl),0x00
4525  16C3  CD B5 0F    	call	_game_menu_top_paint
4526  16C6  CD 29 10    	call	_game_menu_paint
4527  16C9  2A 00 00    	ld	hl,(_curr_time)
4528  16CC  22 00 00    	ld	(_entry_time),hl
4529  16CF  C9          	ret
4530  16D0              	SECTION code_compiler
4531  16D0              ;	---------------------------------
4532  16D0              ; Function game_hall_enter_phs
4533  16D0              ; ---------------------------------
4534  16D0              _game_hall_enter_phs:
4535  16D0  7D          	ld	a,l
4536  16D1  B7          	or	a, a
4537  16D2  20 3A       	jr	NZ,l_game_hall_enter_phs_00102
4538  16D4  21 9C 01    	ld	hl,0x019c
4539  16D7  E5          	push	hl
4540  16D8  21 02 0C    	ld	hl,0x0c02
4541  16DB  E5          	push	hl
4542  16DC  3E 30       	ld	a,0x30
4543  16DE  F5          	push	af
4544  16DF  33          	inc	sp
4545  16E0  CD A4 10    	call	_game_menu_e
4546  16E3  F1          	pop	af
4547  16E4  33          	inc	sp
4548  16E5  21 9F FF    	ld	hl,0xff9f
4549  16E8  E3          	ex	(sp),hl
4550  16E9  21 02 0C    	ld	hl,0x0c02
4551  16EC  E5          	push	hl
4552  16ED  3E 7C       	ld	a,0x7c
4553  16EF  F5          	push	af
4554  16F0  33          	inc	sp
4555  16F1  CD A4 10    	call	_game_menu_e
4556  16F4  F1          	pop	af
4557  16F5  33          	inc	sp
4558  16F6  21 1D 02    	ld	hl,___str_51
4559  16F9  E3          	ex	(sp),hl
4560  16FA  21 07 05    	ld	hl,0x0507
4561  16FD  E5          	push	hl
4562  16FE  CD 00 00    	call	_zx_print_str
4563  1701  21 22 02    	ld	hl,___str_52
4564  1704  E5          	push	hl
4565  1705  21 08 05    	ld	hl,0x0508
4566  1708  E5          	push	hl
4567  1709  CD 00 00    	call	_zx_print_str
4568  170C  18 38       	jr	l_game_hall_enter_phs_00104
4569  170E              l_game_hall_enter_phs_00102:
4570  170E  21 9C 01    	ld	hl,0x019c
4571  1711  E5          	push	hl
4572  1712  21 12 1C    	ld	hl,0x1c12
4573  1715  E5          	push	hl
4574  1716  3E 30       	ld	a,0x30
4575  1718  F5          	push	af
4576  1719  33          	inc	sp
4577  171A  CD A4 10    	call	_game_menu_e
4578  171D  F1          	pop	af
4579  171E  33          	inc	sp
4580  171F  21 9F FF    	ld	hl,0xff9f
4581  1722  E3          	ex	(sp),hl
4582  1723  21 12 1C    	ld	hl,0x1c12
4583  1726  E5          	push	hl
4584  1727  3E 7C       	ld	a,0x7c
4585  1729  F5          	push	af
4586  172A  33          	inc	sp
4587  172B  CD A4 10    	call	_game_menu_e
4588  172E  F1          	pop	af
4589  172F  33          	inc	sp
4590  1730  21 1D 02    	ld	hl,___str_51
4591  1733  E3          	ex	(sp),hl
4592  1734  21 07 15    	ld	hl,0x1507
4593  1737  E5          	push	hl
4594  1738  CD 00 00    	call	_zx_print_str
4595  173B  21 22 02    	ld	hl,___str_52
4596  173E  E5          	push	hl
4597  173F  21 08 15    	ld	hl,0x1508
4598  1742  E5          	push	hl
4599  1743  CD 00 00    	call	_zx_print_str
4600  1746              l_game_hall_enter_phs_00104:
4601  1746  C9          	ret
4602  1747              	SECTION rodata_compiler
4603  021D              ___str_51:
4604  021D  48 49 47 48 	DEFM "HIGH"
4605  0221  00          	DEFB 0x00
4606  0222              	SECTION rodata_compiler
4607  0222              ___str_52:
4608  0222  20 53 43 4F 52 45 
                        	DEFM " SCORE"
4609  0228  00          	DEFB 0x00
4610  0229              	SECTION code_compiler
4611  1747              ;	---------------------------------
4612  1747              ; Function game_hall_print_p
4613  1747              ; ---------------------------------
4614  1747              _game_hall_print_p:
4615  1747  CD 00 00    	call	___sdcc_enter_ix
4616  174A  DD 7E 04    	ld	a,(ix+4)
4617  174D  D6 05       	sub	a,0x05
4618  174F  30 59       	jr	NC,l_game_hall_print_p_00108
4619  1751  21 00 00    	ld	hl,_initials
4620  1754  E5          	push	hl
4621  1755  21 0D 06    	ld	hl,0x060d
4622  1758  E5          	push	hl
4623  1759  CD 00 00    	call	_zx_print_str
4624  175C  DD 7E 04    	ld	a,(ix+4)
4625  175F  C6 06       	add	a,0x06
4626  1761  47          	ld	b,a
4627  1762  DD 7E 04    	ld	a,(ix+4)
4628  1765  C6 05       	add	a,0x05
4629  1767  57          	ld	d,a
4630  1768  3E 70       	ld	a,0x70
4631  176A  F5          	push	af
4632  176B  33          	inc	sp
4633  176C  4A          	ld	c, d
4634  176D  C5          	push	bc
4635  176E  CD 0B 0D    	call	_game_paint_attrib_lin_h
4636  1771  F1          	pop	af
4637  1772  33          	inc	sp
4638  1773  76          	halt
4639  1774  DD 7E 05    	ld	a,(ix+5)
4640  1777  B7          	or	a, a
4641  1778  28 18       	jr	Z,l_game_hall_print_p_00102
4642  177A  21 56 06    	ld	hl,0x0656
4643  177D  E5          	push	hl
4644  177E  3E A9       	ld	a,0xa9
4645  1780  F5          	push	af
4646  1781  33          	inc	sp
4647  1782  CD 00 00    	call	_NIRVANAP_drawT_callee
4648  1785  21 58 06    	ld	hl,0x0658
4649  1788  E5          	push	hl
4650  1789  3E 03       	ld	a,0x03
4651  178B  F5          	push	af
4652  178C  33          	inc	sp
4653  178D  CD 00 00    	call	_NIRVANAP_drawT_callee
4654  1790  18 70       	jr	l_game_hall_print_p_00110
4655  1792              l_game_hall_print_p_00102:
4656  1792  21 58 06    	ld	hl,0x0658
4657  1795  E5          	push	hl
4658  1796  3E A9       	ld	a,0xa9
4659  1798  F5          	push	af
4660  1799  33          	inc	sp
4661  179A  CD 00 00    	call	_NIRVANAP_drawT_callee
4662  179D  21 56 06    	ld	hl,0x0656
4663  17A0  E5          	push	hl
4664  17A1  3E 16       	ld	a,0x16
4665  17A3  F5          	push	af
4666  17A4  33          	inc	sp
4667  17A5  CD 00 00    	call	_NIRVANAP_drawT_callee
4668  17A8  18 58       	jr	l_game_hall_print_p_00110
4669  17AA              l_game_hall_print_p_00108:
4670  17AA  21 04 00    	ld	hl,+(_initials + 0x0004)
4671  17AD  E5          	push	hl
4672  17AE  21 0D 16    	ld	hl,0x160d
4673  17B1  E5          	push	hl
4674  17B2  CD 00 00    	call	_zx_print_str
4675  17B5  DD 7E 04    	ld	a,(ix+4)
4676  17B8  C6 12       	add	a,0x12
4677  17BA  57          	ld	d,a
4678  17BB  DD 7E 04    	ld	a,(ix+4)
4679  17BE  C6 11       	add	a,0x11
4680  17C0  47          	ld	b,a
4681  17C1  3E 70       	ld	a,0x70
4682  17C3  5A          	ld	e,d
4683  17C4  57          	ld	d,a
4684  17C5  D5          	push	de
4685  17C6  C5          	push	bc
4686  17C7  33          	inc	sp
4687  17C8  CD 0B 0D    	call	_game_paint_attrib_lin_h
4688  17CB  F1          	pop	af
4689  17CC  33          	inc	sp
4690  17CD  76          	halt
4691  17CE  DD 7E 05    	ld	a,(ix+5)
4692  17D1  B7          	or	a, a
4693  17D2  28 18       	jr	Z,l_game_hall_print_p_00105
4694  17D4  21 56 17    	ld	hl,0x1756
4695  17D7  E5          	push	hl
4696  17D8  3E A9       	ld	a,0xa9
4697  17DA  F5          	push	af
4698  17DB  33          	inc	sp
4699  17DC  CD 00 00    	call	_NIRVANAP_drawT_callee
4700  17DF  21 58 17    	ld	hl,0x1758
4701  17E2  E5          	push	hl
4702  17E3  3E 27       	ld	a,0x27
4703  17E5  F5          	push	af
4704  17E6  33          	inc	sp
4705  17E7  CD 00 00    	call	_NIRVANAP_drawT_callee
4706  17EA  18 16       	jr	l_game_hall_print_p_00110
4707  17EC              l_game_hall_print_p_00105:
4708  17EC  21 58 17    	ld	hl,0x1758
4709  17EF  E5          	push	hl
4710  17F0  3E A9       	ld	a,0xa9
4711  17F2  F5          	push	af
4712  17F3  33          	inc	sp
4713  17F4  CD 00 00    	call	_NIRVANAP_drawT_callee
4714  17F7  21 56 17    	ld	hl,0x1756
4715  17FA  E5          	push	hl
4716  17FB  3E 2E       	ld	a,0x2e
4717  17FD  F5          	push	af
4718  17FE  33          	inc	sp
4719  17FF  CD 00 00    	call	_NIRVANAP_drawT_callee
4720  1802              l_game_hall_print_p_00110:
4721  1802  DD E1       	pop	ix
4722  1804  C9          	ret
4723  1805              	SECTION code_compiler
4724  1805              ;	---------------------------------
4725  1805              ; Function game_hall_edit_p
4726  1805              ; ---------------------------------
4727  1805              _game_hall_edit_p:
4728  1805  CD 00 00    	call	___sdcc_enter_ix
4729  1808  F5          	push	af
4730  1809  4D          	ld	c,l
4731  180A  0D          	dec	c
4732  180B  3A 00 00    	ld	a,(_dirs)
4733  180E  07          	rlca
4734  180F  30 63       	jr	NC,l_game_hall_edit_p_00120
4735  1811  79          	ld	a,c
4736  1812  FE 04       	cp	a,0x04
4737  1814  30 17       	jr	NC,l_game_hall_edit_p_00102
4738  1816  C6 07       	add	a,0x07
4739  1818  57          	ld	d,a
4740  1819  79          	ld	a,c
4741  181A  C6 06       	add	a,0x06
4742  181C  47          	ld	b,a
4743  181D  C5          	push	bc
4744  181E  3E 70       	ld	a,0x70
4745  1820  5A          	ld	e,d
4746  1821  57          	ld	d,a
4747  1822  D5          	push	de
4748  1823  C5          	push	bc
4749  1824  33          	inc	sp
4750  1825  CD E4 0C    	call	_game_paint_attrib_lin
4751  1828  F1          	pop	af
4752  1829  33          	inc	sp
4753  182A  C1          	pop	bc
4754  182B  18 16       	jr	l_game_hall_edit_p_00103
4755  182D              l_game_hall_edit_p_00102:
4756  182D  79          	ld	a,c
4757  182E  C6 13       	add	a,0x13
4758  1830  57          	ld	d,a
4759  1831  79          	ld	a,c
4760  1832  C6 12       	add	a,0x12
4761  1834  47          	ld	b,a
4762  1835  C5          	push	bc
4763  1836  3E 70       	ld	a,0x70
4764  1838  5A          	ld	e,d
4765  1839  57          	ld	d,a
4766  183A  D5          	push	de
4767  183B  C5          	push	bc
4768  183C  33          	inc	sp
4769  183D  CD E4 0C    	call	_game_paint_attrib_lin
4770  1840  F1          	pop	af
4771  1841  33          	inc	sp
4772  1842  C1          	pop	bc
4773  1843              l_game_hall_edit_p_00103:
4774  1843  C5          	push	bc
4775  1844  CD 00 00    	call	_sound_slide
4776  1847  C1          	pop	bc
4777  1848  21 00 00    	ld	hl,_ay_effect_01
4778  184B  CD 00 00    	call	_ay_fx_play
4779  184E  11 00 00    	ld	de,_initials+0
4780  1851  41          	ld	b,c
4781  1852  0C          	inc	c
4782  1853  68          	ld	l,b
4783  1854  26 00       	ld	h,0x00
4784  1856  19          	add	hl,de
4785  1857  7E          	ld	a,(hl)
4786  1858  D6 7B       	sub	a,0x7b
4787  185A  20 0E       	jr	NZ,l_game_hall_edit_p_00107
4788  185C  0D          	dec	c
4789  185D  79          	ld	a,c
4790  185E  E6 03       	and	a,0x03
4791  1860  28 08       	jr	Z,l_game_hall_edit_p_00107
4792  1862  41          	ld	b,c
4793  1863  0D          	dec	c
4794  1864  68          	ld	l,b
4795  1865  26 00       	ld	h,0x00
4796  1867  19          	add	hl,de
4797  1868  36 41       	ld	(hl),0x41
4798  186A              l_game_hall_edit_p_00107:
4799  186A  79          	ld	a,c
4800  186B  E6 03       	and	a,0x03
4801  186D  D6 03       	sub	a,0x03
4802  186F  20 44       	jr	NZ,l_game_hall_edit_p_00121
4803  1871  6F          	ld	l,a
4804  1872  18 43       	jr	l_game_hall_edit_p_00122
4805  1874              l_game_hall_edit_p_00120:
4806  1874  3A 00 00    	ld	a,(_dirs)
4807  1877  E6 0C       	and	a,0x0c
4808  1879  28 3A       	jr	Z,l_game_hall_edit_p_00121
4809  187B  11 00 00    	ld	de,_hall_valids
4810  187E  3E 00       	ld	a,+((_initials) & 0xFF)
4811  1880  81          	add	a, c
4812  1881  DD 77 FE    	ld	(ix-2),a
4813  1884  3E 00       	ld	a,+((_initials) / 256)
4814  1886  CE 00       	adc	a,0x00
4815  1888  DD 77 FF    	ld	(ix-1),a
4816  188B  E1          	pop	hl
4817  188C  46          	ld	b,(hl)
4818  188D  E5          	push	hl
4819  188E              l_game_hall_edit_p_00168:
4820  188E  1A          	ld	a, (de)
4821  188F  B8          	cp	a, b
4822  1890  28 06       	jr	Z,l_game_hall_edit_p_00167
4823  1892  B7          	or	a, a
4824  1893  13          	inc	de
4825  1894  20 F8       	jr	NZ, l_game_hall_edit_p_00168
4826  1896  5F          	ld	e, a
4827  1897  57          	ld	d, a
4828  1898              l_game_hall_edit_p_00167:
4829  1898  3A 00 00    	ld	a,(_dirs)
4830  189B  E6 04       	and	a,0x04
4831  189D  28 0A       	jr	Z,l_game_hall_edit_p_00115
4832  189F  1B          	dec	de
4833  18A0  1A          	ld	a,(de)
4834  18A1  3D          	dec	a
4835  18A2  20 0D       	jr	NZ,l_game_hall_edit_p_00116
4836  18A4  11 28 00    	ld	de,+(_hall_valids + 0x0028)
4837  18A7  18 08       	jr	l_game_hall_edit_p_00116
4838  18A9              l_game_hall_edit_p_00115:
4839  18A9  13          	inc	de
4840  18AA  1A          	ld	a,(de)
4841  18AB  B7          	or	a, a
4842  18AC  20 03       	jr	NZ,l_game_hall_edit_p_00116
4843  18AE  11 01 00    	ld	de,+(_hall_valids + 0x0001)
4844  18B1              l_game_hall_edit_p_00116:
4845  18B1  E1          	pop	hl
4846  18B2  1A          	ld	a,(de)
4847  18B3  E5          	push	hl
4848  18B4  77          	ld	(hl),a
4849  18B5              l_game_hall_edit_p_00121:
4850  18B5  0C          	inc	c
4851  18B6  69          	ld	l,c
4852  18B7              l_game_hall_edit_p_00122:
4853  18B7  F1          	pop	af
4854  18B8  DD E1       	pop	ix
4855  18BA  C9          	ret
4856  18BB              	SECTION code_compiler
4857  18BB              ;	---------------------------------
4858  18BB              ; Function game_hall_of_fame
4859  18BB              ; ---------------------------------
4860  18BB              _game_hall_of_fame:
4861  18BB  CD 00 00    	call	_spr_draw_clear
4862  18BE  2E 00       	ld	l,0x00
4863  18C0  CD C0 0C    	call	_game_paint_attrib
4864  18C3  21 9C 01    	ld	hl,0x019c
4865  18C6  E5          	push	hl
4866  18C7  21 06 18    	ld	hl,0x1806
4867  18CA  E5          	push	hl
4868  18CB  3E 10       	ld	a,0x10
4869  18CD  F5          	push	af
4870  18CE  33          	inc	sp
4871  18CF  CD A4 10    	call	_game_menu_e
4872  18D2  F1          	pop	af
4873  18D3  33          	inc	sp
4874  18D4  21 9F FF    	ld	hl,0xff9f
4875  18D7  E3          	ex	(sp),hl
4876  18D8  21 06 18    	ld	hl,0x1806
4877  18DB  E5          	push	hl
4878  18DC  3E 98       	ld	a,0x98
4879  18DE  F5          	push	af
4880  18DF  33          	inc	sp
4881  18E0  CD A4 10    	call	_game_menu_e
4882  18E3  F1          	pop	af
4883  18E4  F1          	pop	af
4884  18E5  33          	inc	sp
4885  18E6  21 00 00    	ld	hl,_s_lin1
4886  18E9  36 00       	ld	(hl),0x00
4887  18EB              l_game_hall_of_fame_00102:
4888  18EB  21 00 00    	ld	hl,_screen_ink
4889  18EE  36 05       	ld	(hl),0x05
4890  18F0  2A 00 00    	ld	hl,(_s_lin1)
4891  18F3  26 00       	ld	h,0x00
4892  18F5  4D          	ld	c,l
4893  18F6  44          	ld	b,h
4894  18F7  29          	add	hl, hl
4895  18F8  09          	add	hl, bc
4896  18F9  29          	add	hl, hl
4897  18FA  01 00 00    	ld	bc,_hof
4898  18FD  09          	add	hl,bc
4899  18FE  3A 00 00    	ld	a,(_s_lin1)
4900  1901  EB          	ex	de,hl
4901  1902  C6 07       	add	a,0x07
4902  1904  47          	ld	b,a
4903  1905  D5          	push	de
4904  1906  3E 0A       	ld	a,0x0a
4905  1908  48          	ld	c,b
4906  1909  47          	ld	b,a
4907  190A  C5          	push	bc
4908  190B  CD 00 00    	call	_zx_print_str
4909  190E  2A 00 00    	ld	hl,(_s_lin1)
4910  1911  26 00       	ld	h,0x00
4911  1913  4D          	ld	c,l
4912  1914  44          	ld	b,h
4913  1915  29          	add	hl, hl
4914  1916  09          	add	hl, bc
4915  1917  29          	add	hl, hl
4916  1918  01 00 00    	ld	bc,_hof
4917  191B  09          	add	hl,bc
4918  191C  11 04 00    	ld	de,0x0004
4919  191F  19          	add	hl, de
4920  1920  5E          	ld	e,(hl)
4921  1921  23          	inc	hl
4922  1922  56          	ld	d,(hl)
4923  1923  3A 00 00    	ld	a,(_s_lin1)
4924  1926  C6 07       	add	a,0x07
4925  1928  47          	ld	b,a
4926  1929  D5          	push	de
4927  192A  3E 10       	ld	a,0x10
4928  192C  48          	ld	c,b
4929  192D  47          	ld	b,a
4930  192E  C5          	push	bc
4931  192F  CD 00 00    	call	_zx_print_int
4932  1932  11 29 02    	ld	de,___str_53
4933  1935  3A 00 00    	ld	a,(_s_lin1)
4934  1938  C6 07       	add	a,0x07
4935  193A  47          	ld	b,a
4936  193B  D5          	push	de
4937  193C  3E 0E       	ld	a,0x0e
4938  193E  48          	ld	c,b
4939  193F  47          	ld	b,a
4940  1940  C5          	push	bc
4941  1941  CD 00 00    	call	_zx_print_str
4942  1944  11 2B 02    	ld	de,___str_54
4943  1947  3A 00 00    	ld	a,(_s_lin1)
4944  194A  C6 07       	add	a,0x07
4945  194C  47          	ld	b,a
4946  194D  D5          	push	de
4947  194E  3E 15       	ld	a,0x15
4948  1950  48          	ld	c,b
4949  1951  47          	ld	b,a
4950  1952  C5          	push	bc
4951  1953  CD 00 00    	call	_zx_print_str
4952  1956  21 00 00    	ld	hl,_s_lin1
4953  1959  7E          	ld	a,(hl)
4954  195A  3C          	inc	a
4955  195B  77          	ld	(hl),a
4956  195C  D6 0A       	sub	a,0x0a
4957  195E  38 8B       	jr	C,l_game_hall_of_fame_00102
4958  1960  21 2D 02    	ld	hl,___str_55
4959  1963  E5          	push	hl
4960  1964  21 04 0A    	ld	hl,0x0a04
4961  1967  E5          	push	hl
4962  1968  CD 00 00    	call	_zx_print_str
4963  196B  21 F4 01    	ld	hl,0x01f4
4964  196E  E5          	push	hl
4965  196F  21 0A 16    	ld	hl,0x160a
4966  1972  E5          	push	hl
4967  1973  3E 04       	ld	a,0x04
4968  1975  F5          	push	af
4969  1976  33          	inc	sp
4970  1977  CD A8 19    	call	_game_colour_message
4971  197A  F1          	pop	af
4972  197B  F1          	pop	af
4973  197C  33          	inc	sp
4974  197D  CD 00 00    	call	_spr_draw_clear
4975  1980  21 00 00    	ld	hl,_game_menu_sel
4976  1983  36 00       	ld	(hl),0x00
4977  1985  21 00 00    	ld	hl,_pb_midi_title
4978  1988  CD 00 00    	call	_ay_midi_play
4979  198B  C9          	ret
4980  198C              	SECTION rodata_compiler
4981  0229              ___str_53:
4982  0229  2D          	DEFM "-"
4983  022A  00          	DEFB 0x00
4984  022B              	SECTION rodata_compiler
4985  022B              ___str_54:
4986  022B  30          	DEFM "0"
4987  022C  00          	DEFB 0x00
4988  022D              	SECTION rodata_compiler
4989  022D              ___str_55:
4990  022D  48 41 4C 4C 20 4F 46 20 46 41 4D 45 
                        	DEFM "HALL OF FAME"
4991  0239  00          	DEFB 0x00
4992  023A              	SECTION code_compiler
4993  198C              ;	---------------------------------
4994  198C              ; Function game_rotate_attrib
4995  198C              ; ---------------------------------
4996  198C              _game_rotate_attrib:
4997  198C  01 03 00    	ld	bc,_attrib_hl + 3
4998  198F  0A          	ld	a,(bc)
4999  1990  32 00 00    	ld	(_tmp_uc),a
5000  1993  11 02 00    	ld	de,_attrib_hl + 2
5001  1996  1A          	ld	a,(de)
5002  1997  02          	ld	(bc),a
5003  1998  01 01 00    	ld	bc,_attrib_hl + 1
5004  199B  0A          	ld	a,(bc)
5005  199C  12          	ld	(de),a
5006  199D  3A 00 00    	ld	a,(_attrib_hl)
5007  19A0  02          	ld	(bc),a
5008  19A1  3A 00 00    	ld	a,(_tmp_uc)
5009  19A4  32 00 00    	ld	(_attrib_hl),a
5010  19A7  C9          	ret
5011  19A8              	SECTION code_compiler
5012  19A8              ;	---------------------------------
5013  19A8              ; Function game_colour_message
5014  19A8              ; ---------------------------------
5015  19A8              _game_colour_message:
5016  19A8  CD 00 00    	call	___sdcc_enter_ix
5017  19AB  3B          	dec	sp
5018  19AC  21 00 00    	ld	hl,_tmp
5019  19AF  36 01       	ld	(hl),0x01
5020  19B1  2A 00 00    	ld	hl,(_curr_time)
5021  19B4  22 00 00    	ld	(_frame_time),hl
5022  19B7  2A 00 00    	ld	hl,(_curr_time)
5023  19BA  22 00 00    	ld	(_entry_time),hl
5024  19BD  DD 7E 04    	ld	a,(ix+4)
5025  19C0  07          	rlca
5026  19C1  07          	rlca
5027  19C2  07          	rlca
5028  19C3  E6 F8       	and	a,0xf8
5029  19C5  C6 08       	add	a,0x08
5030  19C7  DD 77 FF    	ld	(ix-1),a
5031  19CA              l_game_colour_message_00107:
5032  19CA  3A 00 00    	ld	a,(_tmp)
5033  19CD  B7          	or	a, a
5034  19CE  28 66       	jr	Z,l_game_colour_message_00110
5035  19D0  DD 6E 07    	ld	l,(ix+7)
5036  19D3  DD 66 08    	ld	h,(ix+8)
5037  19D6  E5          	push	hl
5038  19D7  2A 00 00    	ld	hl,(_entry_time)
5039  19DA  E5          	push	hl
5040  19DB  CD 3A 1A    	call	_game_check_time
5041  19DE  F1          	pop	af
5042  19DF  F1          	pop	af
5043  19E0  7D          	ld	a,l
5044  19E1  B7          	or	a, a
5045  19E2  20 52       	jr	NZ,l_game_colour_message_00110
5046  19E4  21 05 00    	ld	hl,0x0005
5047  19E7  E5          	push	hl
5048  19E8  2A 00 00    	ld	hl,(_frame_time)
5049  19EB  E5          	push	hl
5050  19EC  CD 3A 1A    	call	_game_check_time
5051  19EF  F1          	pop	af
5052  19F0  F1          	pop	af
5053  19F1  7D          	ld	a,l
5054  19F2  B7          	or	a, a
5055  19F3  28 1A       	jr	Z,l_game_colour_message_00103
5056  19F5  2A 00 00    	ld	hl,(_curr_time)
5057  19F8  22 00 00    	ld	(_frame_time),hl
5058  19FB  DD 66 FF    	ld	h,(ix-1)
5059  19FE  DD 6E 06    	ld	l,(ix+6)
5060  1A01  E5          	push	hl
5061  1A02  DD 7E 05    	ld	a,(ix+5)
5062  1A05  F5          	push	af
5063  1A06  33          	inc	sp
5064  1A07  CD 0B 0D    	call	_game_paint_attrib_lin_h
5065  1A0A  F1          	pop	af
5066  1A0B  33          	inc	sp
5067  1A0C  CD 8C 19    	call	_game_rotate_attrib
5068  1A0F              l_game_colour_message_00103:
5069  1A0F  21 00 00    	ld	hl,_k1
5070  1A12  E5          	push	hl
5071  1A13  2A 00 00    	ld	hl,(_joyfunc1)
5072  1A16  CD 00 00    	call	___sdcc_call_hl
5073  1A19  E3          	ex	(sp),hl
5074  1A1A  21 00 00    	ld	hl,_k2
5075  1A1D  E5          	push	hl
5076  1A1E  2A 00 00    	ld	hl,(_joyfunc2)
5077  1A21  CD 00 00    	call	___sdcc_call_hl
5078  1A24  F1          	pop	af
5079  1A25  EB          	ex	de,hl
5080  1A26  C1          	pop	bc
5081  1A27  79          	ld	a,c
5082  1A28  B3          	or	a, e
5083  1A29  4F          	ld	c,a
5084  1A2A  78          	ld	a,b
5085  1A2B  B2          	or	a, d
5086  1A2C  B1          	or	a,c
5087  1A2D  28 9B       	jr	Z,l_game_colour_message_00107
5088  1A2F  21 00 00    	ld	hl,_tmp
5089  1A32  36 00       	ld	(hl),0x00
5090  1A34  18 D9       	jr	l_game_colour_message_00103
5091  1A36              l_game_colour_message_00110:
5092  1A36  33          	inc	sp
5093  1A37  DD E1       	pop	ix
5094  1A39  C9          	ret
5095  1A3A              	SECTION code_compiler
5096  1A3A              ;	---------------------------------
5097  1A3A              ; Function game_check_time
5098  1A3A              ; ---------------------------------
5099  1A3A              _game_check_time:
5100  1A3A  CD 00 00    	call	___sdcc_enter_ix
5101  1A3D  2A 00 00    	ld	hl,(_curr_time)
5102  1A40  7D          	ld	a,l
5103  1A41  DD 96 04    	sub	a,(ix+4)
5104  1A44  4F          	ld	c,a
5105  1A45  7C          	ld	a,h
5106  1A46  DD 9E 05    	sbc	a,(ix+5)
5107  1A49  47          	ld	b,a
5108  1A4A  DD 7E 06    	ld	a,(ix+6)
5109  1A4D  91          	sub	a, c
5110  1A4E  DD 7E 07    	ld	a,(ix+7)
5111  1A51  98          	sbc	a, b
5112  1A52  30 04       	jr	NC,l_game_check_time_00102
5113  1A54  2E 01       	ld	l,0x01
5114  1A56  18 02       	jr	l_game_check_time_00104
5115  1A58              l_game_check_time_00102:
5116  1A58  2E 00       	ld	l,0x00
5117  1A5A              l_game_check_time_00104:
5118  1A5A  DD E1       	pop	ix
5119  1A5C  C9          	ret
5120  1A5D              	SECTION IGNORE
5121  0000              
