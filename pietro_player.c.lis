1     0000              MODULE pietro_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9917 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _player_init
183   0000              	GLOBAL _player_calc_slide
184   0000              	GLOBAL _player_check_input
185   0000              	GLOBAL _player_collision
186   0000              	GLOBAL _player_kill
187   0000              	GLOBAL _player_restart
188   0000              	GLOBAL _player_lost_life
189   0000              	GLOBAL _player_turn
190   0000              	GLOBAL _player_move
191   0000              	GLOBAL _player_move_input
192   0000              	GLOBAL _player_move_horizontal
193   0000              	GLOBAL _player_push
194   0000              	GLOBAL _player_hit_brick
195   0000              	GLOBAL _player_hit_brick_clear
196   0000              	GLOBAL _player_hit_pow
197   0000              	GLOBAL _player_coin
198   0000              	GLOBAL _player_score_add
199   0000              	GLOBAL _player_set
200   0000              ;--------------------------------------------------------
201   0000              ; Externals used
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _debug3
204   0000              	GLOBAL _debug2
205   0000              	GLOBAL _debug
206   0000              	GLOBAL _zx_print_str
207   0000              	GLOBAL _zx_print_int
208   0000              	GLOBAL _zx_print_chr
209   0000              	GLOBAL _zx_print_bonus_time
210   0000              	GLOBAL _zx_isr
211   0000              	GLOBAL _z80_otdr_callee
212   0000              	GLOBAL _z80_otdr
213   0000              	GLOBAL _z80_otir_callee
214   0000              	GLOBAL _z80_otir
215   0000              	GLOBAL _z80_outp_callee
216   0000              	GLOBAL _z80_outp
217   0000              	GLOBAL _z80_indr_callee
218   0000              	GLOBAL _z80_indr
219   0000              	GLOBAL _z80_inir_callee
220   0000              	GLOBAL _z80_inir
221   0000              	GLOBAL _z80_inp_fastcall
222   0000              	GLOBAL _z80_inp
223   0000              	GLOBAL _z80_set_int_state_fastcall
224   0000              	GLOBAL _z80_set_int_state
225   0000              	GLOBAL _z80_get_int_state
226   0000              	GLOBAL _z80_delay_tstate_fastcall
227   0000              	GLOBAL _z80_delay_tstate
228   0000              	GLOBAL _z80_delay_ms_fastcall
229   0000              	GLOBAL _z80_delay_ms
230   0000              	GLOBAL _im2_remove_generic_callback_callee
231   0000              	GLOBAL _im2_remove_generic_callback
232   0000              	GLOBAL _im2_prepend_generic_callback_callee
233   0000              	GLOBAL _im2_prepend_generic_callback
234   0000              	GLOBAL _im2_append_generic_callback_callee
235   0000              	GLOBAL _im2_append_generic_callback
236   0000              	GLOBAL _im2_create_generic_isr_8080_callee
237   0000              	GLOBAL _im2_create_generic_isr_8080
238   0000              	GLOBAL _im2_create_generic_isr_callee
239   0000              	GLOBAL _im2_create_generic_isr
240   0000              	GLOBAL _im2_install_isr_callee
241   0000              	GLOBAL _im2_install_isr
242   0000              	GLOBAL _im2_init_fastcall
243   0000              	GLOBAL _im2_init
244   0000              	GLOBAL _sound_hit_pow
245   0000              	GLOBAL _sound_hit_brick
246   0000              	GLOBAL _sound_hit_enemy
247   0000              	GLOBAL _sound_kill
248   0000              	GLOBAL _sound_enter_enemy
249   0000              	GLOBAL _sound_coin
250   0000              	GLOBAL _sound_jump
251   0000              	GLOBAL _sound_slide
252   0000              	GLOBAL _spr_mapfix
253   0000              	GLOBAL _spr_kill_all
254   0000              	GLOBAL _spr_collision_check
255   0000              	GLOBAL _spr_calc_hor
256   0000              	GLOBAL _spr_draw_row
257   0000              	GLOBAL _spr_draw_index
258   0000              	GLOBAL _spr_draw_clear
259   0000              	GLOBAL _spr_water_splash_draw
260   0000              	GLOBAL _spr_water_splash_clear
261   0000              	GLOBAL _spr_draw_background
262   0000              	GLOBAL _spr_cortina_brick
263   0000              	GLOBAL _spr_brick_anim
264   0000              	GLOBAL _spr_back_fix
265   0000              	GLOBAL _spr_back_paint
266   0000              	GLOBAL _spr_back_clr
267   0000              	GLOBAL _spr_draw_pow
268   0000              	GLOBAL _spr_tile
269   0000              	GLOBAL _spr_set_fall
270   0000              	GLOBAL _spr_destroy
271   0000              	GLOBAL _spr_check_over
272   0000              	GLOBAL _spr_tile_dir
273   0000              	GLOBAL _spr_anim_kill
274   0000              	GLOBAL _spr_anim_fall
275   0000              	GLOBAL _spr_killed
276   0000              	GLOBAL _spr_redraw
277   0000              	GLOBAL _spr_move_left
278   0000              	GLOBAL _spr_move_right
279   0000              	GLOBAL _spr_move_horizontal
280   0000              	GLOBAL _spr_move_down
281   0000              	GLOBAL _spr_move_up
282   0000              	GLOBAL _spr_chktime
283   0000              	GLOBAL _game_joystick_set_menu
284   0000              	GLOBAL _game_joystick_set
285   0000              	GLOBAL _game_joystick_change
286   0000              	GLOBAL _game_hall_print_p2
287   0000              	GLOBAL _game_hall_print_p
288   0000              	GLOBAL _game_hall_edit_p
289   0000              	GLOBAL _game_hall_check
290   0000              	GLOBAL _game_hall_enter_prt
291   0000              	GLOBAL _game_hall_enter_phs
292   0000              	GLOBAL _game_print_header
293   0000              	GLOBAL _game_end
294   0000              	GLOBAL _game_hall_enter
295   0000              	GLOBAL _game_hall_of_fame
296   0000              	GLOBAL _game_score_osd
297   0000              	GLOBAL _game_phase_print_score_back
298   0000              	GLOBAL _game_bonus_clock
299   0000              	GLOBAL _game_bonus_summary_player
300   0000              	GLOBAL _game_bonus_summary
301   0000              	GLOBAL _game_check_time
302   0000              	GLOBAL _game_menu_config
303   0000              	GLOBAL _game_menu
304   0000              	GLOBAL _game_rotate_attrib
305   0000              	GLOBAL _game_colour_message
306   0000              	GLOBAL _game_paint_attrib_lin_h
307   0000              	GLOBAL _game_paint_attrib_lin
308   0000              	GLOBAL _game_paint_attrib
309   0000              	GLOBAL _game_menu_paint
310   0000              	GLOBAL _game_menu_top_paint
311   0000              	GLOBAL _game_menu_handle
312   0000              	GLOBAL _game_menu_e
313   0000              	GLOBAL _game_menu_back
314   0000              	GLOBAL _game_print_score
315   0000              	GLOBAL _game_unfreeze_all
316   0000              	GLOBAL _game_freeze_all
317   0000              	GLOBAL _game_freeze
318   0000              	GLOBAL _game_enemy_add_get_index
319   0000              	GLOBAL _game_enemy_add1
320   0000              	GLOBAL _game_enemy_quota
321   0000              	GLOBAL _game_enemy_rnd
322   0000              	GLOBAL _game_enemy_add
323   0000              	GLOBAL _game_check_floor
324   0000              	GLOBAL _game_check_maze
325   0000              	GLOBAL _game_loop
326   0000              	GLOBAL _game_phase_print
327   0000              	GLOBAL _game_phase_init
328   0000              	GLOBAL _game_phase_calc
329   0000              	GLOBAL _game_start_timer
330   0000              	GLOBAL _game_tick
331   0000              	GLOBAL _game_print_lives
332   0000              	GLOBAL _game_print_footer
333   0000              	GLOBAL _game_calc_index
334   0000              	GLOBAL _game_fill_row
335   0000              	GLOBAL _enemy_ugly_fix
336   0000              	GLOBAL _enemy_kill
337   0000              	GLOBAL _enemy_init
338   0000              	GLOBAL _enemy_walk
339   0000              	GLOBAL _enemy_upgrade
340   0000              	GLOBAL _enemy_evolve
341   0000              	GLOBAL _enemy_standard_hit
342   0000              	GLOBAL _enemy_trip_move
343   0000              	GLOBAL _enemy_trip
344   0000              	GLOBAL _enemy_fighterfly
345   0000              	GLOBAL _enemy_fireball_green
346   0000              	GLOBAL _enemy_fireball_red
347   0000              	GLOBAL _enemy_slipice
348   0000              	GLOBAL _enemy_standard
349   0000              	GLOBAL _enemy_turn
350   0000              	GLOBAL _enemy_flip_sidestepper
351   0000              	GLOBAL _enemy_flip
352   0000              	GLOBAL _enemy_flip_change_dir
353   0000              	GLOBAL _enemy_hit
354   0000              	GLOBAL _enemy_collision_turn_dir
355   0000              	GLOBAL _enemy_collision
356   0000              	GLOBAL _enemy_coin1
357   0000              	GLOBAL _ay_fx_play
358   0000              	GLOBAL _ay_midi_play
359   0000              	GLOBAL _ay_is_playing
360   0000              	GLOBAL _ay_reset
361   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawTW_raw
363   0000              	GLOBAL _NIRVANAP_drawTW_callee
364   0000              	GLOBAL _NIRVANAP_drawTW
365   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawW_raw
367   0000              	GLOBAL _NIRVANAP_drawW_callee
368   0000              	GLOBAL _NIRVANAP_drawW
369   0000              	GLOBAL _NIRVANAP_spriteT_callee
370   0000              	GLOBAL _NIRVANAP_spriteT
371   0000              	GLOBAL _NIRVANAP_fillC_callee
372   0000              	GLOBAL _NIRVANAP_fillC
373   0000              	GLOBAL _NIRVANAP_readC_callee
374   0000              	GLOBAL _NIRVANAP_readC
375   0000              	GLOBAL _NIRVANAP_paintC_callee
376   0000              	GLOBAL _NIRVANAP_paintC
377   0000              	GLOBAL _NIRVANAP_printC_callee
378   0000              	GLOBAL _NIRVANAP_printC
379   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
380   0000              	GLOBAL _NIRVANAP_fillT_raw
381   0000              	GLOBAL _NIRVANAP_fillT_callee
382   0000              	GLOBAL _NIRVANAP_fillT
383   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
384   0000              	GLOBAL _NIRVANAP_drawT_raw
385   0000              	GLOBAL _NIRVANAP_drawT_callee
386   0000              	GLOBAL _NIRVANAP_drawT
387   0000              	GLOBAL _NIRVANAP_stop
388   0000              	GLOBAL _NIRVANAP_start
389   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
390   0000              	GLOBAL _intrinsic_swap_word_32
391   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
392   0000              	GLOBAL _intrinsic_swap_endian_32
393   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
394   0000              	GLOBAL _intrinsic_swap_endian_16
395   0000              	GLOBAL _intrinsic_return_de
396   0000              	GLOBAL _intrinsic_return_bc
397   0000              	GLOBAL _intrinsic_exx
398   0000              	GLOBAL _intrinsic_ex_de_hl
399   0000              	GLOBAL _intrinsic_nop
400   0000              	GLOBAL _intrinsic_im_2
401   0000              	GLOBAL _intrinsic_im_1
402   0000              	GLOBAL _intrinsic_im_0
403   0000              	GLOBAL _intrinsic_retn
404   0000              	GLOBAL _intrinsic_reti
405   0000              	GLOBAL _intrinsic_halt
406   0000              	GLOBAL _intrinsic_ei
407   0000              	GLOBAL _intrinsic_di
408   0000              	GLOBAL _intrinsic_stub
409   0000              	GLOBAL _ulltoa_callee
410   0000              	GLOBAL _ulltoa
411   0000              	GLOBAL _strtoull_callee
412   0000              	GLOBAL _strtoull
413   0000              	GLOBAL _strtoll_callee
414   0000              	GLOBAL _strtoll
415   0000              	GLOBAL _lltoa_callee
416   0000              	GLOBAL _lltoa
417   0000              	GLOBAL _llabs_callee
418   0000              	GLOBAL _llabs
419   0000              	GLOBAL __lldivu__callee
420   0000              	GLOBAL __lldivu_
421   0000              	GLOBAL __lldiv__callee
422   0000              	GLOBAL __lldiv_
423   0000              	GLOBAL _atoll_callee
424   0000              	GLOBAL _atoll
425   0000              	GLOBAL _realloc_unlocked_callee
426   0000              	GLOBAL _realloc_unlocked
427   0000              	GLOBAL _malloc_unlocked_fastcall
428   0000              	GLOBAL _malloc_unlocked
429   0000              	GLOBAL _free_unlocked_fastcall
430   0000              	GLOBAL _free_unlocked
431   0000              	GLOBAL _calloc_unlocked_callee
432   0000              	GLOBAL _calloc_unlocked
433   0000              	GLOBAL _aligned_alloc_unlocked_callee
434   0000              	GLOBAL _aligned_alloc_unlocked
435   0000              	GLOBAL _realloc_callee
436   0000              	GLOBAL _realloc
437   0000              	GLOBAL _malloc_fastcall
438   0000              	GLOBAL _malloc
439   0000              	GLOBAL _free_fastcall
440   0000              	GLOBAL _free
441   0000              	GLOBAL _calloc_callee
442   0000              	GLOBAL _calloc
443   0000              	GLOBAL _aligned_alloc_callee
444   0000              	GLOBAL _aligned_alloc
445   0000              	GLOBAL _utoa_callee
446   0000              	GLOBAL _utoa
447   0000              	GLOBAL _ultoa_callee
448   0000              	GLOBAL _ultoa
449   0000              	GLOBAL _system_fastcall
450   0000              	GLOBAL _system
451   0000              	GLOBAL _strtoul_callee
452   0000              	GLOBAL _strtoul
453   0000              	GLOBAL _strtol_callee
454   0000              	GLOBAL _strtol
455   0000              	GLOBAL _strtof_callee
456   0000              	GLOBAL _strtof
457   0000              	GLOBAL _strtod_callee
458   0000              	GLOBAL _strtod
459   0000              	GLOBAL _srand_fastcall
460   0000              	GLOBAL _srand
461   0000              	GLOBAL _rand
462   0000              	GLOBAL _quick_exit_fastcall
463   0000              	GLOBAL _quick_exit
464   0000              	GLOBAL _qsort_callee
465   0000              	GLOBAL _qsort
466   0000              	GLOBAL _ltoa_callee
467   0000              	GLOBAL _ltoa
468   0000              	GLOBAL _labs_fastcall
469   0000              	GLOBAL _labs
470   0000              	GLOBAL _itoa_callee
471   0000              	GLOBAL _itoa
472   0000              	GLOBAL _ftoh_callee
473   0000              	GLOBAL _ftoh
474   0000              	GLOBAL _ftog_callee
475   0000              	GLOBAL _ftog
476   0000              	GLOBAL _ftoe_callee
477   0000              	GLOBAL _ftoe
478   0000              	GLOBAL _ftoa_callee
479   0000              	GLOBAL _ftoa
480   0000              	GLOBAL _exit_fastcall
481   0000              	GLOBAL _exit
482   0000              	GLOBAL _dtoh_callee
483   0000              	GLOBAL _dtoh
484   0000              	GLOBAL _dtog_callee
485   0000              	GLOBAL _dtog
486   0000              	GLOBAL _dtoe_callee
487   0000              	GLOBAL _dtoe
488   0000              	GLOBAL _dtoa_callee
489   0000              	GLOBAL _dtoa
490   0000              	GLOBAL _bsearch_callee
491   0000              	GLOBAL _bsearch
492   0000              	GLOBAL _atol_fastcall
493   0000              	GLOBAL _atol
494   0000              	GLOBAL _atoi_fastcall
495   0000              	GLOBAL _atoi
496   0000              	GLOBAL _atof_fastcall
497   0000              	GLOBAL _atof
498   0000              	GLOBAL _atexit_fastcall
499   0000              	GLOBAL _atexit
500   0000              	GLOBAL _at_quick_exit_fastcall
501   0000              	GLOBAL _at_quick_exit
502   0000              	GLOBAL _abs_fastcall
503   0000              	GLOBAL _abs
504   0000              	GLOBAL _abort
505   0000              	GLOBAL __strtou__callee
506   0000              	GLOBAL __strtou_
507   0000              	GLOBAL __strtoi__callee
508   0000              	GLOBAL __strtoi_
509   0000              	GLOBAL __random_uniform_xor_8__fastcall
510   0000              	GLOBAL __random_uniform_xor_8_
511   0000              	GLOBAL __random_uniform_xor_32__fastcall
512   0000              	GLOBAL __random_uniform_xor_32_
513   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
514   0000              	GLOBAL __random_uniform_cmwc_8_
515   0000              	GLOBAL __shellsort__callee
516   0000              	GLOBAL __shellsort_
517   0000              	GLOBAL __quicksort__callee
518   0000              	GLOBAL __quicksort_
519   0000              	GLOBAL __insertion_sort__callee
520   0000              	GLOBAL __insertion_sort_
521   0000              	GLOBAL __ldivu__callee
522   0000              	GLOBAL __ldivu_
523   0000              	GLOBAL __ldiv__callee
524   0000              	GLOBAL __ldiv_
525   0000              	GLOBAL __divu__callee
526   0000              	GLOBAL __divu_
527   0000              	GLOBAL __div__callee
528   0000              	GLOBAL __div_
529   0000              	GLOBAL _in_mouse_kempston_wheel_delta
530   0000              	GLOBAL _in_mouse_kempston_wheel
531   0000              	GLOBAL _in_mouse_kempston_callee
532   0000              	GLOBAL _in_mouse_kempston
533   0000              	GLOBAL _in_mouse_kempston_setpos_callee
534   0000              	GLOBAL _in_mouse_kempston_setpos
535   0000              	GLOBAL _in_mouse_kempston_reset
536   0000              	GLOBAL _in_mouse_kempston_init
537   0000              	GLOBAL _in_mouse_amx_wheel_delta
538   0000              	GLOBAL _in_mouse_amx_wheel
539   0000              	GLOBAL _in_mouse_amx_callee
540   0000              	GLOBAL _in_mouse_amx
541   0000              	GLOBAL _in_mouse_amx_setpos_callee
542   0000              	GLOBAL _in_mouse_amx_setpos
543   0000              	GLOBAL _in_mouse_amx_reset
544   0000              	GLOBAL _in_mouse_amx_init_callee
545   0000              	GLOBAL _in_mouse_amx_init
546   0000              	GLOBAL _in_stick_sinclair2
547   0000              	GLOBAL _in_stick_sinclair1
548   0000              	GLOBAL _in_stick_kempston
549   0000              	GLOBAL _in_stick_fuller
550   0000              	GLOBAL _in_stick_cursor
551   0000              	GLOBAL _in_stick_keyboard_fastcall
552   0000              	GLOBAL _in_stick_keyboard
553   0000              	GLOBAL _in_wait_nokey
554   0000              	GLOBAL _in_wait_key
555   0000              	GLOBAL _in_test_key
556   0000              	GLOBAL _in_pause_fastcall
557   0000              	GLOBAL _in_pause
558   0000              	GLOBAL _in_key_scancode_fastcall
559   0000              	GLOBAL _in_key_scancode
560   0000              	GLOBAL _in_key_pressed_fastcall
561   0000              	GLOBAL _in_key_pressed
562   0000              	GLOBAL _in_inkey
563   0000              	GLOBAL _zx_pattern_fill_callee
564   0000              	GLOBAL _zx_pattern_fill
565   0000              	GLOBAL _zx_saddrpup_fastcall
566   0000              	GLOBAL _zx_saddrpup
567   0000              	GLOBAL _zx_saddrpright_callee
568   0000              	GLOBAL _zx_saddrpright
569   0000              	GLOBAL _zx_saddrpleft_callee
570   0000              	GLOBAL _zx_saddrpleft
571   0000              	GLOBAL _zx_saddrpdown_fastcall
572   0000              	GLOBAL _zx_saddrpdown
573   0000              	GLOBAL _zx_saddrcup_fastcall
574   0000              	GLOBAL _zx_saddrcup
575   0000              	GLOBAL _zx_saddrcright_fastcall
576   0000              	GLOBAL _zx_saddrcright
577   0000              	GLOBAL _zx_saddrcleft_fastcall
578   0000              	GLOBAL _zx_saddrcleft
579   0000              	GLOBAL _zx_saddrcdown_fastcall
580   0000              	GLOBAL _zx_saddrcdown
581   0000              	GLOBAL _zx_saddr2py_fastcall
582   0000              	GLOBAL _zx_saddr2py
583   0000              	GLOBAL _zx_saddr2px_fastcall
584   0000              	GLOBAL _zx_saddr2px
585   0000              	GLOBAL _zx_saddr2cy_fastcall
586   0000              	GLOBAL _zx_saddr2cy
587   0000              	GLOBAL _zx_saddr2cx_fastcall
588   0000              	GLOBAL _zx_saddr2cx
589   0000              	GLOBAL _zx_saddr2aaddr_fastcall
590   0000              	GLOBAL _zx_saddr2aaddr
591   0000              	GLOBAL _zx_py2saddr_fastcall
592   0000              	GLOBAL _zx_py2saddr
593   0000              	GLOBAL _zx_py2aaddr_fastcall
594   0000              	GLOBAL _zx_py2aaddr
595   0000              	GLOBAL _zx_pxy2saddr_callee
596   0000              	GLOBAL _zx_pxy2saddr
597   0000              	GLOBAL _zx_pxy2aaddr_callee
598   0000              	GLOBAL _zx_pxy2aaddr
599   0000              	GLOBAL _zx_px2bitmask_fastcall
600   0000              	GLOBAL _zx_px2bitmask
601   0000              	GLOBAL _zx_cy2saddr_fastcall
602   0000              	GLOBAL _zx_cy2saddr
603   0000              	GLOBAL _zx_cy2aaddr_fastcall
604   0000              	GLOBAL _zx_cy2aaddr
605   0000              	GLOBAL _zx_cxy2saddr_callee
606   0000              	GLOBAL _zx_cxy2saddr
607   0000              	GLOBAL _zx_cxy2aaddr_callee
608   0000              	GLOBAL _zx_cxy2aaddr
609   0000              	GLOBAL _zx_bitmask2px_fastcall
610   0000              	GLOBAL _zx_bitmask2px
611   0000              	GLOBAL _zx_aaddrcup_fastcall
612   0000              	GLOBAL _zx_aaddrcup
613   0000              	GLOBAL _zx_aaddrcright_fastcall
614   0000              	GLOBAL _zx_aaddrcright
615   0000              	GLOBAL _zx_aaddrcleft_fastcall
616   0000              	GLOBAL _zx_aaddrcleft
617   0000              	GLOBAL _zx_aaddrcdown_fastcall
618   0000              	GLOBAL _zx_aaddrcdown
619   0000              	GLOBAL _zx_aaddr2saddr_fastcall
620   0000              	GLOBAL _zx_aaddr2saddr
621   0000              	GLOBAL _zx_aaddr2py_fastcall
622   0000              	GLOBAL _zx_aaddr2py
623   0000              	GLOBAL _zx_aaddr2px_fastcall
624   0000              	GLOBAL _zx_aaddr2px
625   0000              	GLOBAL _zx_aaddr2cy_fastcall
626   0000              	GLOBAL _zx_aaddr2cy
627   0000              	GLOBAL _zx_aaddr2cx_fastcall
628   0000              	GLOBAL _zx_aaddr2cx
629   0000              	GLOBAL _zx_scroll_wc_up_callee
630   0000              	GLOBAL _zx_scroll_wc_up
631   0000              	GLOBAL _zx_scroll_up_callee
632   0000              	GLOBAL _zx_scroll_up
633   0000              	GLOBAL _zx_cls_wc_callee
634   0000              	GLOBAL _zx_cls_wc
635   0000              	GLOBAL _zx_cls_fastcall
636   0000              	GLOBAL _zx_cls
637   0000              	GLOBAL _zx_border_fastcall
638   0000              	GLOBAL _zx_border
639   0000              	GLOBAL _joynames
640   0000              	GLOBAL _initials
641   0000              	GLOBAL _hof
642   0000              	GLOBAL _score_osd_tile
643   0000              	GLOBAL _score_osd_update_time
644   0000              	GLOBAL _score_osd_col
645   0000              	GLOBAL _score_osd_lin
646   0000              	GLOBAL _phase_bonus_total
647   0000              	GLOBAL _phase_angry
648   0000              	GLOBAL _phase_curr
649   0000              	GLOBAL _phase_end
650   0000              	GLOBAL _phase_coins
651   0000              	GLOBAL _phase_pop
652   0000              	GLOBAL _phase_tot
653   0000              	GLOBAL _phase_left
654   0000              	GLOBAL _phase_quota
655   0000              	GLOBAL _phases
656   0000              	GLOBAL _lvl_1
657   0000              	GLOBAL _sprite_speed_alt
658   0000              	GLOBAL _sprite_speed
659   0000              	GLOBAL _screen_ink
660   0000              	GLOBAL _screen_paper
661   0000              	GLOBAL _game_menu_sel
662   0000              	GLOBAL _game_type
663   0000              	GLOBAL _game_osd
664   0000              	GLOBAL _game_bonus
665   0000              	GLOBAL _spr_water_time
666   0000              	GLOBAL _spr_water_clear
667   0000              	GLOBAL _game_time_fireball_start
668   0000              	GLOBAL _game_time_flipped
669   0000              	GLOBAL _game_score_top
670   0000              	GLOBAL _game_lives
671   0000              	GLOBAL _game_over
672   0000              	GLOBAL _game_sound
673   0000              	GLOBAL _game_inmune
674   0000              	GLOBAL _game_god_mode
675   0000              	GLOBAL _game_start_phase
676   0000              	GLOBAL _game_two_player
677   0000              	GLOBAL _game_brick_tile
678   0000              	GLOBAL _game_pow
679   0000              	GLOBAL _game_ugly_fix_cnt
680   0000              	GLOBAL _game_ugly_back
681   0000              	GLOBAL _spr_count
682   0000              	GLOBAL _osd_show_time
683   0000              	GLOBAL _osd_update_time
684   0000              	GLOBAL _frame_time
685   0000              	GLOBAL _entry_time
686   0000              	GLOBAL _curr_time
687   0000              	GLOBAL _s_state
688   0000              	GLOBAL _attrib_hl
689   0000              	GLOBAL _attrib
690   0000              	GLOBAL _zx_val_asm
691   0000              	GLOBAL _enemies
692   0000              	GLOBAL _tmp_ui
693   0000              	GLOBAL _tmp_sc
694   0000              	GLOBAL _tmp_uc
695   0000              	GLOBAL _tmp1
696   0000              	GLOBAL _tmp0
697   0000              	GLOBAL _tmp
698   0000              	GLOBAL _index1
699   0000              	GLOBAL _loop_count
700   0000              	GLOBAL _sprite_lin_inc_mul
701   0000              	GLOBAL _s_col1
702   0000              	GLOBAL _s_col0
703   0000              	GLOBAL _s_lin1
704   0000              	GLOBAL _s_lin0
705   0000              	GLOBAL _s_tile1
706   0000              	GLOBAL _s_tile0
707   0000              	GLOBAL _hit_count
708   0000              	GLOBAL _tile_offset_other_player
709   0000              	GLOBAL _tile_offset
710   0000              	GLOBAL _index_player
711   0000              	GLOBAL _sprite_other_player
712   0000              	GLOBAL _sprite
713   0000              	GLOBAL _player_joy
714   0000              	GLOBAL _player_next_extra
715   0000              	GLOBAL _player_score
716   0000              	GLOBAL _last_time
717   0000              	GLOBAL _sliding
718   0000              	GLOBAL _spr_timer
719   0000              	GLOBAL _jump_lin
720   0000              	GLOBAL _player_jump_c
721   0000              	GLOBAL _hit_col
722   0000              	GLOBAL _hit_lin
723   0000              	GLOBAL _colint
724   0000              	GLOBAL _col
725   0000              	GLOBAL _lin
726   0000              	GLOBAL _tile
727   0000              	GLOBAL _state_a
728   0000              	GLOBAL _state
729   0000              	GLOBAL _class
730   0000              	GLOBAL _tbuffer
731   0000              	GLOBAL _dirs
732   0000              	GLOBAL _k2
733   0000              	GLOBAL _k1
734   0000              	GLOBAL _joyfunc2
735   0000              	GLOBAL _joyfunc1
736   0000              	GLOBAL _btiles
737   0000              	GLOBAL _spec128
738   0000              	GLOBAL _ay_effect_20
739   0000              	GLOBAL _ay_effect_19
740   0000              	GLOBAL _ay_effect_18
741   0000              	GLOBAL _ay_effect_17
742   0000              	GLOBAL _ay_effect_16
743   0000              	GLOBAL _ay_effect_15
744   0000              	GLOBAL _ay_effect_14
745   0000              	GLOBAL _ay_effect_13
746   0000              	GLOBAL _ay_effect_12
747   0000              	GLOBAL _ay_effect_11
748   0000              	GLOBAL _ay_effect_10
749   0000              	GLOBAL _ay_effect_09
750   0000              	GLOBAL _ay_effect_08
751   0000              	GLOBAL _ay_effect_07
752   0000              	GLOBAL _ay_effect_06
753   0000              	GLOBAL _ay_effect_05
754   0000              	GLOBAL _ay_effect_04
755   0000              	GLOBAL _ay_effect_03
756   0000              	GLOBAL _ay_effect_02
757   0000              	GLOBAL _ay_effect_01
758   0000              	GLOBAL _pb_midi_phase_1
759   0000              	GLOBAL _pb_midi_title
760   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
761   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
762   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
763   0000              	GLOBAL _NIRVANAP_HOLE
764   0000              	GLOBAL _NIRVANAP_ISR_HOOK
765   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
766   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
767   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
768   0000              	GLOBAL _fix_1
769   0000              	GLOBAL _control_method
770   0000              	GLOBAL _hall_valids
771   0000              ;--------------------------------------------------------
772   0000              ; special function registers
773   0000              ;--------------------------------------------------------
774   0000              defc _IO_FE	=	0x00fe
775   0000              defc _IO_1FFD	=	0x1ffd
776   0000              defc _IO_7FFD	=	0x7ffd
777   0000              ;--------------------------------------------------------
778   0000              ; ram data
779   0000              ;--------------------------------------------------------
780   0000              	SECTION bss_compiler
781   0000              ;--------------------------------------------------------
782   0000              ; ram data
783   0000              ;--------------------------------------------------------
784   0000              
785   0000              IF 0
786   0000              
787   0000              ; .area _INITIALIZED removed by z88dk
788   0000              
789   0000              
790   0000              ENDIF
791   0000              
792   0000              ;--------------------------------------------------------
793   0000              ; absolute external ram data
794   0000              ;--------------------------------------------------------
795   0000              	SECTION IGNORE
796   0000              ;--------------------------------------------------------
797   0000              ; global & static initialisations
798   0000              ;--------------------------------------------------------
799   0000              	SECTION code_crt_init
800   0000              ;--------------------------------------------------------
801   0000              ; Home
802   0000              ;--------------------------------------------------------
803   0000              	SECTION IGNORE
804   0000              ;--------------------------------------------------------
805   0000              ; code
806   0000              ;--------------------------------------------------------
807   0000              	SECTION code_compiler
808   0000              ;	---------------------------------
809   0000              ; Function player_init
810   0000              ; ---------------------------------
811   0000              _player_init:
812   0000  CD 00 00    	call	___sdcc_enter_ix
813   0003  F5          	push	af
814   0004  3E 00       	ld	a, +((_class) & 0xFF)
815   0006  DD 86 04    	add	a,(ix+4)
816   0009  4F          	ld	c, a
817   000A  3E 00       	ld	a, +((_class) / 256)
818   000C  CE 00       	adc	a,0x00
819   000E  47          	ld	b, a
820   000F  3E 10       	ld	a,0x10
821   0011  02          	ld	(bc), a
822   0012  3E 00       	ld	a, +((_tile) & 0xFF)
823   0014  DD 86 04    	add	a,(ix+4)
824   0017  4F          	ld	c, a
825   0018  3E 00       	ld	a, +((_tile) / 256)
826   001A  CE 00       	adc	a,0x00
827   001C  47          	ld	b, a
828   001D  DD 7E 07    	ld	a,(ix+7)
829   0020  02          	ld	(bc), a
830   0021  3E 00       	ld	a, +((_lin) & 0xFF)
831   0023  DD 86 04    	add	a,(ix+4)
832   0026  4F          	ld	c, a
833   0027  3E 00       	ld	a, +((_lin) / 256)
834   0029  CE 00       	adc	a,0x00
835   002B  47          	ld	b, a
836   002C  DD 7E 05    	ld	a,(ix+5)
837   002F  02          	ld	(bc), a
838   0030  3E 00       	ld	a, +((_col) & 0xFF)
839   0032  DD 86 04    	add	a,(ix+4)
840   0035  4F          	ld	c, a
841   0036  3E 00       	ld	a, +((_col) / 256)
842   0038  CE 00       	adc	a,0x00
843   003A  47          	ld	b, a
844   003B  DD 7E 06    	ld	a,(ix+6)
845   003E  02          	ld	(bc), a
846   003F  3E 00       	ld	a, +((_colint) & 0xFF)
847   0041  DD 86 04    	add	a,(ix+4)
848   0044  4F          	ld	c, a
849   0045  3E 00       	ld	a, +((_colint) / 256)
850   0047  CE 00       	adc	a,0x00
851   0049  47          	ld	b, a
852   004A  AF          	xor	a, a
853   004B  02          	ld	(bc), a
854   004C  3E 00       	ld	a, +((_state) & 0xFF)
855   004E  DD 86 04    	add	a,(ix+4)
856   0051  4F          	ld	c, a
857   0052  3E 00       	ld	a, +((_state) / 256)
858   0054  CE 00       	adc	a,0x00
859   0056  47          	ld	b, a
860   0057  AF          	xor	a, a
861   0058  02          	ld	(bc), a
862   0059  3E 00       	ld	a, +((_state_a) & 0xFF)
863   005B  DD 86 04    	add	a,(ix+4)
864   005E  4F          	ld	c, a
865   005F  3E 00       	ld	a, +((_state_a) / 256)
866   0061  CE 00       	adc	a,0x00
867   0063  47          	ld	b, a
868   0064  AF          	xor	a, a
869   0065  02          	ld	(bc), a
870   0066  3E 00       	ld	a, +((_jump_lin) & 0xFF)
871   0068  DD 86 04    	add	a,(ix+4)
872   006B  5F          	ld	e, a
873   006C  3E 00       	ld	a, +((_jump_lin) / 256)
874   006E  CE 00       	adc	a,0x00
875   0070  57          	ld	d, a
876   0071  DD 7E 05    	ld	a,(ix+5)
877   0074  12          	ld	(de), a
878   0075  DD 6E 04    	ld	l,(ix+4)
879   0078  26 00       	ld	h,0x00
880   007A  29          	add	hl,hl
881   007B  11 00 00    	ld	de,_last_time
882   007E  19          	add	hl, de
883   007F  E3          	ex	(sp), hl
884   0080  E1          	pop	hl
885   0081  ED 5B 00 00 	ld	de,(_curr_time)
886   0085  E5          	push	hl
887   0086  73          	ld	(hl), e
888   0087  23          	inc	hl
889   0088  72          	ld	(hl), d
890   0089  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
891   008B  DD 86 04    	add	a,(ix+4)
892   008E  5F          	ld	e, a
893   008F  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
894   0091  CE 00       	adc	a,0x00
895   0093  57          	ld	d, a
896   0094  AF          	xor	a, a
897   0095  12          	ld	(de), a
898   0096  0A          	ld	a, (bc)
899   0097  F6 01       	or	a,0x01
900   0099  02          	ld	(bc),a
901   009A  5F          	ld	e, a
902   009B  DD 7E 04    	ld	a,(ix+4)
903   009E  D6 07       	sub	a,0x07
904   00A0  20 0B       	jr	NZ,l_player_init_00102
905   00A2  21 00 00    	ld	hl,_index_player
906   00A5  36 00       	ld	(hl),0x00
907   00A7  7B          	ld	a, e
908   00A8  F6 10       	or	a,0x10
909   00AA  02          	ld	(bc), a
910   00AB  18 09       	jr	l_player_init_00103
911   00AD              l_player_init_00102:
912   00AD  21 00 00    	ld	hl,_index_player
913   00B0  36 01       	ld	(hl),0x01
914   00B2  7B          	ld	a, e
915   00B3  F6 08       	or	a,0x08
916   00B5  02          	ld	(bc), a
917   00B6              l_player_init_00103:
918   00B6  2A 00 00    	ld	hl,(_index_player)
919   00B9  26 00       	ld	h,0x00
920   00BB  01 00 00    	ld	bc,_hit_col
921   00BE  09          	add	hl,bc
922   00BF  AF          	xor	a,a
923   00C0  77          	ld	(hl),a
924   00C1  2A 00 00    	ld	hl,(_index_player)
925   00C4  26 00       	ld	h,0x00
926   00C6  01 00 00    	ld	bc,_hit_lin
927   00C9  09          	add	hl,bc
928   00CA  AF          	xor	a,a
929   00CB  77          	ld	(hl),a
930   00CC  2A 00 00    	ld	hl,(_index_player)
931   00CF  26 00       	ld	h,0x00
932   00D1  01 00 00    	ld	bc,_sliding
933   00D4  09          	add	hl,bc
934   00D5  AF          	xor	a,a
935   00D6  77          	ld	(hl),a
936   00D7  2A 00 00    	ld	hl,(_index_player)
937   00DA  26 00       	ld	h,0x00
938   00DC  01 00 00    	ld	bc,_player_jump_c
939   00DF  09          	add	hl,bc
940   00E0  AF          	xor	a,a
941   00E1  77          	ld	(hl),a
942   00E2  DD 66 06    	ld	h,(ix+6)
943   00E5  DD 6E 05    	ld	l,(ix+5)
944   00E8  E5          	push	hl
945   00E9  DD 66 07    	ld	h,(ix+7)
946   00EC  DD 6E 04    	ld	l,(ix+4)
947   00EF  E5          	push	hl
948   00F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
949   00F3  F1          	pop	af
950   00F4  DD E1       	pop	ix
951   00F6  C9          	ret
952   00F7              	SECTION code_compiler
953   00F7              ;	---------------------------------
954   00F7              ; Function player_calc_slide
955   00F7              ; ---------------------------------
956   00F7              _player_calc_slide:
957   00F7  2A 00 00    	ld	hl,(_sprite)
958   00FA  26 00       	ld	h,0x00
959   00FC  01 00 00    	ld	bc,_col
960   00FF  09          	add	hl,bc
961   0100  56          	ld	d, (hl)
962   0101  2A 00 00    	ld	hl,(_sprite)
963   0104  26 00       	ld	h,0x00
964   0106  01 00 00    	ld	bc,_lin
965   0109  09          	add	hl,bc
966   010A  7E          	ld	a,(hl)
967   010B  C6 10       	add	a,0x10
968   010D  5F          	ld	e, a
969   010E  D5          	push	de
970   010F  CD 00 00    	call	_game_calc_index
971   0112  F1          	pop	af
972   0113  22 00 00    	ld	(_index1),hl
973   0116  11 00 00    	ld	de,_sliding+0
974   0119  2A 00 00    	ld	hl,(_index_player)
975   011C  26 00       	ld	h,0x00
976   011E  19          	add	hl,de
977   011F  36 06       	ld	(hl),0x06
978   0121  2A 00 00    	ld	hl,(_index1)
979   0124  01 00 00    	ld	bc,_lvl_1
980   0127  09          	add	hl,bc
981   0128  7E          	ld	a,(hl)
982   0129  4F          	ld	c,a
983   012A  B7          	or	a,a
984   012B  20 0A       	jr	NZ,l_player_calc_slide_00102
985   012D  ED 4B 00 00 	ld	bc,(_index1)
986   0131  03          	inc	bc
987   0132  21 00 00    	ld	hl,_lvl_1
988   0135  09          	add	hl, bc
989   0136  4E          	ld	c, (hl)
990   0137              l_player_calc_slide_00102:
991   0137  2A 00 00    	ld	hl,(_index_player)
992   013A  26 00       	ld	h,0x00
993   013C  19          	add	hl,de
994   013D  79          	ld	a,c
995   013E  EB          	ex	de,hl
996   013F  D6 11       	sub	a,0x11
997   0141  28 15       	jr	Z,l_player_calc_slide_00105
998   0143  79          	ld	a,c
999   0144  FE 84       	cp	a,0x84
1000  0146  28 06       	jr	Z,l_player_calc_slide_00103
1001  0148  D6 8B       	sub	a,0x8b
1002  014A  28 07       	jr	Z,l_player_calc_slide_00104
1003  014C  18 0D       	jr	l_player_calc_slide_00107
1004  014E              l_player_calc_slide_00103:
1005  014E  3E 06       	ld	a,0x06
1006  0150  12          	ld	(de), a
1007  0151  18 08       	jr	l_player_calc_slide_00107
1008  0153              l_player_calc_slide_00104:
1009  0153  3E 0C       	ld	a,0x0c
1010  0155  12          	ld	(de), a
1011  0156  18 03       	jr	l_player_calc_slide_00107
1012  0158              l_player_calc_slide_00105:
1013  0158  3E 03       	ld	a,0x03
1014  015A  12          	ld	(de), a
1015  015B              l_player_calc_slide_00107:
1016  015B  C9          	ret
1017  015C              	SECTION code_compiler
1018  015C              ;	---------------------------------
1019  015C              ; Function player_check_input
1020  015C              ; ---------------------------------
1021  015C              _player_check_input:
1022  015C  21 00 00    	ld	hl,_dirs
1023  015F  7E          	ld	a, (hl)
1024  0160  CB 07       	rlc	a
1025  0162  E6 01       	and	a,0x01
1026  0164  CB 47       	bit	0, a
1027  0166  20 0F       	jr	NZ,l_player_check_input_00104
1028  0168  CB 56       	bit	2, (hl)
1029  016A  20 0B       	jr	NZ,l_player_check_input_00104
1030  016C  21 00 00    	ld	hl,_dirs
1031  016F  CB 5E       	bit	3, (hl)
1032  0171  20 04       	jr	NZ,l_player_check_input_00104
1033  0173  2E 00       	ld	l,0x00
1034  0175  18 02       	jr	l_player_check_input_00105
1035  0177              l_player_check_input_00104:
1036  0177  2E 01       	ld	l,0x01
1037  0179              l_player_check_input_00105:
1038  0179  C9          	ret
1039  017A              	SECTION code_compiler
1040  017A              ;	---------------------------------
1041  017A              ; Function player_collision
1042  017A              ; ---------------------------------
1043  017A              _player_collision:
1044  017A  2A 00 00    	ld	hl,(_sprite)
1045  017D  26 00       	ld	h,0x00
1046  017F  01 00 00    	ld	bc,_class
1047  0182  09          	add	hl,bc
1048  0183  7E          	ld	a,(hl)
1049  0184  B7          	or	a,a
1050  0185  20 04       	jr	NZ,l_player_collision_00102
1051  0187  6F          	ld	l,a
1052  0188  C3 CF 02    	jp	l_player_collision_00133
1053  018B              l_player_collision_00102:
1054  018B  2A 00 00    	ld	hl,(_sprite)
1055  018E  26 00       	ld	h,0x00
1056  0190  01 00 00    	ld	bc,_state
1057  0193  09          	add	hl,bc
1058  0194  7E          	ld	a,(hl)
1059  0195  CB 67       	bit	4, a
1060  0197  28 05       	jr	Z,l_player_collision_00104
1061  0199  2E 00       	ld	l,0x00
1062  019B  C3 CF 02    	jp	l_player_collision_00133
1063  019E              l_player_collision_00104:
1064  019E  CB 6F       	bit	5, a
1065  01A0  28 05       	jr	Z,l_player_collision_00106
1066  01A2  2E 00       	ld	l,0x00
1067  01A4  C3 CF 02    	jp	l_player_collision_00133
1068  01A7              l_player_collision_00106:
1069  01A7  21 00 00    	ld	hl,_hit_count
1070  01AA  36 00       	ld	(hl),0x00
1071  01AC  21 00 00    	ld	hl,_enemies
1072  01AF  36 00       	ld	(hl),0x00
1073  01B1              l_player_collision_00131:
1074  01B1  2A 00 00    	ld	hl,(_enemies)
1075  01B4  26 0E       	ld	h,0x0e
1076  01B6  3A 00 00    	ld	a,(_sprite)
1077  01B9  E5          	push	hl
1078  01BA  F5          	push	af
1079  01BB  33          	inc	sp
1080  01BC  CD 00 00    	call	_spr_collision_check
1081  01BF  F1          	pop	af
1082  01C0  33          	inc	sp
1083  01C1  7D          	ld	a, l
1084  01C2  B7          	or	a, a
1085  01C3  28 50       	jr	Z,l_player_collision_00132
1086  01C5  2A 00 00    	ld	hl,(_enemies)
1087  01C8  26 00       	ld	h,0x00
1088  01CA  01 00 00    	ld	bc,_state
1089  01CD  09          	add	hl,bc
1090  01CE  CB 66       	bit	4,(hl)
1091  01D0  28 08       	jr	Z,l_player_collision_00117
1092  01D2  2A 00 00    	ld	hl,(_enemies)
1093  01D5  CD 00 00    	call	_enemy_kill
1094  01D8  18 3B       	jr	l_player_collision_00132
1095  01DA              l_player_collision_00117:
1096  01DA  2A 00 00    	ld	hl,(_enemies)
1097  01DD  26 00       	ld	h,0x00
1098  01DF  01 00 00    	ld	bc,_class
1099  01E2  09          	add	hl,bc
1100  01E3  7E          	ld	a,(hl)
1101  01E4  FE 08       	cp	a,0x08
1102  01E6  28 04       	jr	Z,l_player_collision_00112
1103  01E8  D6 0C       	sub	a,0x0c
1104  01EA  20 0C       	jr	NZ,l_player_collision_00113
1105  01EC              l_player_collision_00112:
1106  01EC  2A 00 00    	ld	hl,(_enemies)
1107  01EF  26 50       	ld	h,0x50
1108  01F1  E5          	push	hl
1109  01F2  CD 03 0F    	call	_player_coin
1110  01F5  F1          	pop	af
1111  01F6  18 1D       	jr	l_player_collision_00132
1112  01F8              l_player_collision_00113:
1113  01F8  21 00 00    	ld	hl,_ay_effect_18
1114  01FB  CD 00 00    	call	_ay_fx_play
1115  01FE  3A 00 00    	ld	a,(_game_god_mode)
1116  0201  B7          	or	a, a
1117  0202  28 08       	jr	Z,l_player_collision_00110
1118  0204  2A 00 00    	ld	hl,(_enemies)
1119  0207  CD 00 00    	call	_enemy_kill
1120  020A  18 09       	jr	l_player_collision_00132
1121  020C              l_player_collision_00110:
1122  020C  3A 00 00    	ld	a,(_game_inmune)
1123  020F  B7          	or	a, a
1124  0210  20 03       	jr	NZ,l_player_collision_00132
1125  0212  CD D0 02    	call	_player_kill
1126  0215              l_player_collision_00132:
1127  0215  21 00 00    	ld	hl,_enemies
1128  0218  7E          	ld	a,(hl)
1129  0219  3C          	inc	a
1130  021A  77          	ld	(hl),a
1131  021B  D6 06       	sub	a,0x06
1132  021D  38 92       	jr	C,l_player_collision_00131
1133  021F  3A 00 00    	ld	a,(_hit_count)
1134  0222  B7          	or	a, a
1135  0223  CA CD 02    	jp	Z, l_player_collision_00129
1136  0226  2A 00 00    	ld	hl,(_sprite)
1137  0229  26 00       	ld	h,0x00
1138  022B  01 00 00    	ld	bc,_lin
1139  022E  09          	add	hl,bc
1140  022F  4E          	ld	c,(hl)
1141  0230  3E 18       	ld	a,0x18
1142  0232  91          	sub	a, c
1143  0233  D2 CD 02    	jp	NC, l_player_collision_00129
1144  0236  2A 00 00    	ld	hl,(_index_player)
1145  0239  26 00       	ld	h,0x00
1146  023B  01 00 00    	ld	bc,_score_osd_col
1147  023E  09          	add	hl,bc
1148  023F  7E          	ld	a,(hl)
1149  0240  47          	ld	b,a
1150  0241  3C          	inc	a
1151  0242  28 13       	jr	Z,l_player_collision_00123
1152  0244  3A 00 00    	ld	a,(_index_player)
1153  0247  5F          	ld	e,a
1154  0248  16 00       	ld	d,0x00
1155  024A  21 00 00    	ld	hl,_score_osd_lin
1156  024D  19          	add	hl,de
1157  024E  4E          	ld	c, (hl)
1158  024F  C5          	push	bc
1159  0250  3E A9       	ld	a,0xa9
1160  0252  F5          	push	af
1161  0253  33          	inc	sp
1162  0254  CD 00 00    	call	_NIRVANAP_drawT_callee
1163  0257              l_player_collision_00123:
1164  0257  2A 00 00    	ld	hl,(_index_player)
1165  025A  26 00       	ld	h,0x00
1166  025C  01 00 00    	ld	bc,_score_osd_col
1167  025F  09          	add	hl,bc
1168  0260  4D          	ld	c,l
1169  0261  44          	ld	b,h
1170  0262  2A 00 00    	ld	hl,(_sprite)
1171  0265  26 00       	ld	h,0x00
1172  0267  11 00 00    	ld	de,_col
1173  026A  19          	add	hl,de
1174  026B  7E          	ld	a,(hl)
1175  026C  02          	ld	(bc), a
1176  026D  2A 00 00    	ld	hl,(_index_player)
1177  0270  26 00       	ld	h,0x00
1178  0272  01 00 00    	ld	bc,_score_osd_lin
1179  0275  09          	add	hl,bc
1180  0276  4D          	ld	c,l
1181  0277  44          	ld	b,h
1182  0278  2A 00 00    	ld	hl,(_sprite)
1183  027B  26 00       	ld	h,0x00
1184  027D  11 00 00    	ld	de,_lin
1185  0280  19          	add	hl,de
1186  0281  7E          	ld	a,(hl)
1187  0282  C6 FA       	add	a,0xfa
1188  0284  02          	ld	(bc), a
1189  0285  01 00 00    	ld	bc,_score_osd_update_time+0
1190  0288  2A 00 00    	ld	hl,(_index_player)
1191  028B  26 00       	ld	h,0x00
1192  028D  29          	add	hl, hl
1193  028E  09          	add	hl,bc
1194  028F  ED 5B 00 00 	ld	de,(_curr_time)
1195  0293  73          	ld	(hl),e
1196  0294  23          	inc	hl
1197  0295  72          	ld	(hl),d
1198  0296  01 00 00    	ld	bc,_score_osd_tile+0
1199  0299  2A 00 00    	ld	hl,(_index_player)
1200  029C  26 00       	ld	h,0x00
1201  029E  29          	add	hl, hl
1202  029F  09          	add	hl, bc
1203  02A0  36 BC       	ld	(hl),0xbc
1204  02A2  23          	inc	hl
1205  02A3  36 00       	ld	(hl),0x00
1206  02A5  3E 01       	ld	a,0x01
1207  02A7  21 00 00    	ld	hl,_hit_count
1208  02AA  96          	sub	a, (hl)
1209  02AB  30 0C       	jr	NC,l_player_collision_00125
1210  02AD  2A 00 00    	ld	hl,(_index_player)
1211  02B0  26 00       	ld	h,0x00
1212  02B2  29          	add	hl, hl
1213  02B3  09          	add	hl, bc
1214  02B4  36 D7       	ld	(hl),0xd7
1215  02B6  23          	inc	hl
1216  02B7  36 00       	ld	(hl),0x00
1217  02B9              l_player_collision_00125:
1218  02B9  3E 06       	ld	a,0x06
1219  02BB  21 00 00    	ld	hl,_hit_count
1220  02BE  96          	sub	a, (hl)
1221  02BF  30 0C       	jr	NC,l_player_collision_00129
1222  02C1  2A 00 00    	ld	hl,(_index_player)
1223  02C4  26 00       	ld	h,0x00
1224  02C6  29          	add	hl, hl
1225  02C7  09          	add	hl, bc
1226  02C8  36 CB       	ld	(hl),0xcb
1227  02CA  23          	inc	hl
1228  02CB  36 00       	ld	(hl),0x00
1229  02CD              l_player_collision_00129:
1230  02CD  2E 00       	ld	l,0x00
1231  02CF              l_player_collision_00133:
1232  02CF  C9          	ret
1233  02D0              	SECTION code_compiler
1234  02D0              ;	---------------------------------
1235  02D0              ; Function player_kill
1236  02D0              ; ---------------------------------
1237  02D0              _player_kill:
1238  02D0  01 00 00    	ld	bc,_state+0
1239  02D3  2A 00 00    	ld	hl,(_sprite)
1240  02D6  26 00       	ld	h,0x00
1241  02D8  09          	add	hl,bc
1242  02D9  CB 6E       	bit	5,(hl)
1243  02DB  C2 AA 03    	jp	NZ,l_player_kill_00109
1244  02DE  C5          	push	bc
1245  02DF  CD 00 00    	call	_sound_hit_brick
1246  02E2  C1          	pop	bc
1247  02E3  79          	ld	a, c
1248  02E4  21 00 00    	ld	hl,_sprite
1249  02E7  86          	add	a, (hl)
1250  02E8  5F          	ld	e, a
1251  02E9  78          	ld	a, b
1252  02EA  CE 00       	adc	a,0x00
1253  02EC  57          	ld	d, a
1254  02ED  1A          	ld	a, (de)
1255  02EE  F6 20       	or	a,0x20
1256  02F0  12          	ld	(de), a
1257  02F1  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1258  02F3  86          	add	a, (hl)
1259  02F4  5F          	ld	e, a
1260  02F5  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1261  02F7  CE 00       	adc	a,0x00
1262  02F9  57          	ld	d, a
1263  02FA  3E 03       	ld	a,0x03
1264  02FC  12          	ld	(de), a
1265  02FD  79          	ld	a, c
1266  02FE  86          	add	a, (hl)
1267  02FF  4F          	ld	c, a
1268  0300  78          	ld	a, b
1269  0301  CE 00       	adc	a,0x00
1270  0303  47          	ld	b, a
1271  0304  0A          	ld	a, (bc)
1272  0305  CB 57       	bit	2, a
1273  0307  28 11       	jr	Z,l_player_kill_00102
1274  0309  2A 00 00    	ld	hl,(_sprite)
1275  030C  26 00       	ld	h,0x00
1276  030E  01 00 00    	ld	bc,_tile
1277  0311  09          	add	hl,bc
1278  0312  3A 00 00    	ld	a,(_tile_offset)
1279  0315  C6 0B       	add	a,0x0b
1280  0317  77          	ld	(hl),a
1281  0318  18 0F       	jr	l_player_kill_00103
1282  031A              l_player_kill_00102:
1283  031A  2A 00 00    	ld	hl,(_sprite)
1284  031D  26 00       	ld	h,0x00
1285  031F  01 00 00    	ld	bc,_tile
1286  0322  09          	add	hl,bc
1287  0323  3A 00 00    	ld	a,(_tile_offset)
1288  0326  C6 17       	add	a,0x17
1289  0328  77          	ld	(hl),a
1290  0329              l_player_kill_00103:
1291  0329  CD F1 0D    	call	_player_hit_brick_clear
1292  032C  2A 00 00    	ld	hl,(_sprite)
1293  032F  26 00       	ld	h,0x00
1294  0331  01 00 00    	ld	bc,_col
1295  0334  09          	add	hl,bc
1296  0335  4E          	ld	c, (hl)
1297  0336  2A 00 00    	ld	hl,(_sprite)
1298  0339  26 00       	ld	h,0x00
1299  033B  11 00 00    	ld	de,_lin
1300  033E  19          	add	hl,de
1301  033F  46          	ld	b, (hl)
1302  0340  2A 00 00    	ld	hl,(_sprite)
1303  0343  26 00       	ld	h,0x00
1304  0345  11 00 00    	ld	de,_tile
1305  0348  19          	add	hl,de
1306  0349  56          	ld	d, (hl)
1307  034A  79          	ld	a,c
1308  034B  21 00 00    	ld	hl,_sprite
1309  034E  F5          	push	af
1310  034F  33          	inc	sp
1311  0350  4A          	ld	c, d
1312  0351  7E          	ld	a,(hl)
1313  0352  C5          	push	bc
1314  0353  F5          	push	af
1315  0354  33          	inc	sp
1316  0355  CD 00 00    	call	_NIRVANAP_spriteT_callee
1317  0358  01 00 00    	ld	bc,_spr_timer+0
1318  035B  2A 00 00    	ld	hl,(_sprite)
1319  035E  26 00       	ld	h,0x00
1320  0360  29          	add	hl, hl
1321  0361  09          	add	hl,bc
1322  0362  ED 5B 00 00 	ld	de,(_curr_time)
1323  0366  73          	ld	(hl),e
1324  0367  23          	inc	hl
1325  0368  72          	ld	(hl),d
1326  0369  3A 00 00    	ld	a,(_sprite)
1327  036C  D6 07       	sub	a,0x07
1328  036E  20 1E       	jr	NZ,l_player_kill_00105
1329  0370  01 00 00    	ld	bc,_state_a+0
1330  0373  79          	ld	a, c
1331  0374  21 00 00    	ld	hl,_sprite
1332  0377  86          	add	a, (hl)
1333  0378  5F          	ld	e, a
1334  0379  78          	ld	a, b
1335  037A  CE 00       	adc	a,0x00
1336  037C  57          	ld	d, a
1337  037D  1A          	ld	a, (de)
1338  037E  F6 08       	or	a,0x08
1339  0380  12          	ld	(de), a
1340  0381  79          	ld	a, c
1341  0382  86          	add	a, (hl)
1342  0383  4F          	ld	c, a
1343  0384  78          	ld	a, b
1344  0385  CE 00       	adc	a,0x00
1345  0387  47          	ld	b, a
1346  0388  0A          	ld	a, (bc)
1347  0389  E6 EF       	and	a,0xef
1348  038B  02          	ld	(bc), a
1349  038C  18 1C       	jr	l_player_kill_00109
1350  038E              l_player_kill_00105:
1351  038E  01 00 00    	ld	bc,_state_a+0
1352  0391  79          	ld	a, c
1353  0392  21 00 00    	ld	hl,_sprite
1354  0395  86          	add	a, (hl)
1355  0396  5F          	ld	e, a
1356  0397  78          	ld	a, b
1357  0398  CE 00       	adc	a,0x00
1358  039A  57          	ld	d, a
1359  039B  1A          	ld	a, (de)
1360  039C  F6 10       	or	a,0x10
1361  039E  12          	ld	(de), a
1362  039F  79          	ld	a, c
1363  03A0  86          	add	a, (hl)
1364  03A1  4F          	ld	c, a
1365  03A2  78          	ld	a, b
1366  03A3  CE 00       	adc	a,0x00
1367  03A5  47          	ld	b, a
1368  03A6  0A          	ld	a, (bc)
1369  03A7  E6 F7       	and	a,0xf7
1370  03A9  02          	ld	(bc), a
1371  03AA              l_player_kill_00109:
1372  03AA  C9          	ret
1373  03AB              	SECTION code_compiler
1374  03AB              ;	---------------------------------
1375  03AB              ; Function player_restart
1376  03AB              ; ---------------------------------
1377  03AB              _player_restart:
1378  03AB  CD 00 00    	call	___sdcc_enter_ix
1379  03AE  F5          	push	af
1380  03AF  3E 00       	ld	a,+((_col) & 0xFF)
1381  03B1  85          	add	a,l
1382  03B2  4D          	ld	c,l
1383  03B3  5F          	ld	e, a
1384  03B4  3E 00       	ld	a, +((_col) / 256)
1385  03B6  CE 00       	adc	a,0x00
1386  03B8  57          	ld	d, a
1387  03B9  1A          	ld	a, (de)
1388  03BA  D6 04       	sub	a,0x04
1389  03BC  30 0C       	jr	NC,l_player_restart_00102
1390  03BE  C5          	push	bc
1391  03BF  D5          	push	de
1392  03C0  21 E0 01    	ld	hl,0x01e0
1393  03C3  E5          	push	hl
1394  03C4  CD 00 00    	call	_spr_back_paint
1395  03C7  F1          	pop	af
1396  03C8  D1          	pop	de
1397  03C9  C1          	pop	bc
1398  03CA              l_player_restart_00102:
1399  03CA  1A          	ld	a, (de)
1400  03CB  47          	ld	b, a
1401  03CC  3E 1A       	ld	a,0x1a
1402  03CE  90          	sub	a, b
1403  03CF  30 0A       	jr	NC,l_player_restart_00104
1404  03D1  C5          	push	bc
1405  03D2  21 FA 01    	ld	hl,0x01fa
1406  03D5  E5          	push	hl
1407  03D6  CD 00 00    	call	_spr_back_paint
1408  03D9  F1          	pop	af
1409  03DA  C1          	pop	bc
1410  03DB              l_player_restart_00104:
1411  03DB  21 00 00    	ld	hl,_ay_effect_15
1412  03DE  CD 00 00    	call	_ay_fx_play
1413  03E1  79          	ld	a, c
1414  03E2  D6 07       	sub	a,0x07
1415  03E4  20 1B       	jr	NZ,l_player_restart_00106
1416  03E6  C5          	push	bc
1417  03E7  21 0E 03    	ld	hl,0x030e
1418  03EA  E5          	push	hl
1419  03EB  21 07 00    	ld	hl,0x0007
1420  03EE  E5          	push	hl
1421  03EF  CD 00 00    	call	_player_init
1422  03F2  F1          	pop	af
1423  03F3  21 10 0E    	ld	hl,0x0e10
1424  03F6  E3          	ex	(sp),hl
1425  03F7  3E 84       	ld	a,0x84
1426  03F9  F5          	push	af
1427  03FA  33          	inc	sp
1428  03FB  CD 00 00    	call	_NIRVANAP_drawT_callee
1429  03FE  C1          	pop	bc
1430  03FF  18 19       	jr	l_player_restart_00107
1431  0401              l_player_restart_00106:
1432  0401  C5          	push	bc
1433  0402  21 10 27    	ld	hl,0x2710
1434  0405  E5          	push	hl
1435  0406  21 06 00    	ld	hl,0x0006
1436  0409  E5          	push	hl
1437  040A  CD 00 00    	call	_player_init
1438  040D  F1          	pop	af
1439  040E  21 10 10    	ld	hl,0x1010
1440  0411  E3          	ex	(sp),hl
1441  0412  3E 84       	ld	a,0x84
1442  0414  F5          	push	af
1443  0415  33          	inc	sp
1444  0416  CD 00 00    	call	_NIRVANAP_drawT_callee
1445  0419  C1          	pop	bc
1446  041A              l_player_restart_00107:
1447  041A  11 00 00    	ld	de,_state+0
1448  041D  69          	ld	l,c
1449  041E  26 00       	ld	h,0x00
1450  0420  19          	add	hl, de
1451  0421  CB E6       	set	4, (hl)
1452  0423  11 00 00    	ld	de,_state_a+0
1453  0426  69          	ld	l,c
1454  0427  26 00       	ld	h,0x00
1455  0429  19          	add	hl, de
1456  042A  CB C6       	set	0, (hl)
1457  042C  11 00 00    	ld	de,_spr_timer+0
1458  042F  69          	ld	l, c
1459  0430  26 00       	ld	h,0x00
1460  0432  29          	add	hl, hl
1461  0433  19          	add	hl,de
1462  0434  E3          	ex	(sp), hl
1463  0435  E1          	pop	hl
1464  0436  ED 5B 00 00 	ld	de,(_curr_time)
1465  043A  E5          	push	hl
1466  043B  73          	ld	(hl), e
1467  043C  23          	inc	hl
1468  043D  72          	ld	(hl), d
1469  043E  11 00 00    	ld	de,_sprite_speed_alt+0
1470  0441  69          	ld	l,c
1471  0442  26 00       	ld	h,0x00
1472  0444  19          	add	hl, de
1473  0445  F1          	pop	af
1474  0446  36 08       	ld	(hl),0x08
1475  0448  DD E1       	pop	ix
1476  044A  C9          	ret
1477  044B              	SECTION code_compiler
1478  044B              ;	---------------------------------
1479  044B              ; Function player_lost_life
1480  044B              ; ---------------------------------
1481  044B              _player_lost_life:
1482  044B  CD 00 00    	call	_sound_hit_enemy
1483  044E  01 00 00    	ld	bc,_game_lives+0
1484  0451  79          	ld	a, c
1485  0452  21 00 00    	ld	hl,_index_player
1486  0455  86          	add	a, (hl)
1487  0456  5F          	ld	e, a
1488  0457  78          	ld	a, b
1489  0458  CE 00       	adc	a,0x00
1490  045A  57          	ld	d, a
1491  045B  1A          	ld	a, (de)
1492  045C  C6 FF       	add	a,0xff
1493  045E  12          	ld	(de), a
1494  045F  79          	ld	a, c
1495  0460  86          	add	a, (hl)
1496  0461  5F          	ld	e, a
1497  0462  78          	ld	a, b
1498  0463  CE 00       	adc	a,0x00
1499  0465  57          	ld	d, a
1500  0466  1A          	ld	a, (de)
1501  0467  B7          	or	a, a
1502  0468  20 13       	jr	NZ,l_player_lost_life_00105
1503  046A  0A          	ld	a, (bc)
1504  046B  B7          	or	a, a
1505  046C  20 0B       	jr	NZ,l_player_lost_life_00102
1506  046E  3A 01 00    	ld	a, (_game_lives + 1)
1507  0471  B7          	or	a, a
1508  0472  20 05       	jr	NZ,l_player_lost_life_00102
1509  0474  21 00 00    	ld	hl,_game_over
1510  0477  36 01       	ld	(hl),0x01
1511  0479              l_player_lost_life_00102:
1512  0479  2E 00       	ld	l,0x00
1513  047B  18 08       	jr	l_player_lost_life_00106
1514  047D              l_player_lost_life_00105:
1515  047D  CD 00 00    	call	_spr_check_over
1516  0480  CD 00 00    	call	_game_print_lives
1517  0483  2E 01       	ld	l,0x01
1518  0485              l_player_lost_life_00106:
1519  0485  C9          	ret
1520  0486              	SECTION code_compiler
1521  0486              ;	---------------------------------
1522  0486              ; Function player_turn
1523  0486              ; ---------------------------------
1524  0486              _player_turn:
1525  0486  2A 00 00    	ld	hl,(_sprite)
1526  0489  26 00       	ld	h,0x00
1527  048B  01 00 00    	ld	bc,_class
1528  048E  09          	add	hl,bc
1529  048F  7E          	ld	a,(hl)
1530  0490  D6 10       	sub	a,0x10
1531  0492  20 4F       	jr	NZ,l_player_turn_00110
1532  0494  3A 00 00    	ld	a,(_phase_left)
1533  0497  B7          	or	a, a
1534  0498  28 49       	jr	Z,l_player_turn_00110
1535  049A  2A 00 00    	ld	hl,(_index_player)
1536  049D  26 00       	ld	h,0x00
1537  049F  01 00 00    	ld	bc,_game_lives
1538  04A2  09          	add	hl,bc
1539  04A3  7E          	ld	a,(hl)
1540  04A4  B7          	or	a, a
1541  04A5  28 3C       	jr	Z,l_player_turn_00110
1542  04A7  21 00 00    	ld	hl,_sprite
1543  04AA  CD 00 00    	call	_spr_chktime
1544  04AD  7D          	ld	a, l
1545  04AE  B7          	or	a, a
1546  04AF  28 32       	jr	Z,l_player_turn_00110
1547  04B1  21 00 00    	ld	hl,_dirs
1548  04B4  36 00       	ld	(hl),0x00
1549  04B6  3A 00 00    	ld	a,(_sprite)
1550  04B9  D6 07       	sub	a,0x07
1551  04BB  20 11       	jr	NZ,l_player_turn_00102
1552  04BD  21 00 00    	ld	hl,_k1
1553  04C0  E5          	push	hl
1554  04C1  2A 00 00    	ld	hl,(_joyfunc1)
1555  04C4  CD 00 00    	call	___sdcc_call_hl
1556  04C7  F1          	pop	af
1557  04C8  7D          	ld	a,l
1558  04C9  32 00 00    	ld	(_dirs),a
1559  04CC  18 0F       	jr	l_player_turn_00103
1560  04CE              l_player_turn_00102:
1561  04CE  21 00 00    	ld	hl,_k1
1562  04D1  E5          	push	hl
1563  04D2  2A 00 00    	ld	hl,(_joyfunc2)
1564  04D5  CD 00 00    	call	___sdcc_call_hl
1565  04D8  F1          	pop	af
1566  04D9  7D          	ld	a,l
1567  04DA  32 00 00    	ld	(_dirs),a
1568  04DD              l_player_turn_00103:
1569  04DD  CD E4 04    	call	_player_move
1570  04E0  CD 7A 01    	call	_player_collision
1571  04E3              l_player_turn_00110:
1572  04E3  C9          	ret
1573  04E4              	SECTION code_compiler
1574  04E4              ;	---------------------------------
1575  04E4              ; Function player_move
1576  04E4              ; ---------------------------------
1577  04E4              _player_move:
1578  04E4  CD 00 00    	call	___sdcc_enter_ix
1579  04E7  F5          	push	af
1580  04E8  3B          	dec	sp
1581  04E9  2A 00 00    	ld	hl,(_sprite)
1582  04EC  26 00       	ld	h,0x00
1583  04EE  01 00 00    	ld	bc,_lin
1584  04F1  09          	add	hl,bc
1585  04F2  7E          	ld	a,(hl)
1586  04F3  DD 77 FF    	ld	(ix-1),a
1587  04F6  32 00 00    	ld	(_s_lin0),a
1588  04F9  2A 00 00    	ld	hl,(_sprite)
1589  04FC  26 00       	ld	h,0x00
1590  04FE  01 00 00    	ld	bc,_col
1591  0501  09          	add	hl,bc
1592  0502  7E          	ld	a,(hl)
1593  0503  32 00 00    	ld	(_s_col0),a
1594  0506  3E 00       	ld	a, +((_tile) & 0xFF)
1595  0508  21 00 00    	ld	hl,_sprite
1596  050B  86          	add	a, (hl)
1597  050C  DD 77 FD    	ld	(ix-3),a
1598  050F  3E 00       	ld	a, +((_tile) / 256)
1599  0511  CE 00       	adc	a,0x00
1600  0513  DD 77 FE    	ld	(ix-2),a
1601  0516  E1          	pop	hl
1602  0517  4E          	ld	c,(hl)
1603  0518  E5          	push	hl
1604  0519  2A 00 00    	ld	hl,(_sprite)
1605  051C  26 00       	ld	h,0x00
1606  051E  11 00 00    	ld	de,_colint
1607  0521  19          	add	hl,de
1608  0522  7E          	ld	a,(hl)
1609  0523  81          	add	a,c
1610  0524  32 00 00    	ld	(_s_tile0),a
1611  0527  2A 00 00    	ld	hl,(_sprite)
1612  052A  26 00       	ld	h,0x00
1613  052C  01 00 00    	ld	bc,_state
1614  052F  09          	add	hl,bc
1615  0530  7E          	ld	a,(hl)
1616  0531  CB 6F       	bit	5,a
1617  0533  32 00 00    	ld	(_s_state),a
1618  0536  28 2E       	jr	Z,l_player_move_00104
1619  0538  3A 00 00    	ld	a,(_tile_offset)
1620  053B  C6 0A       	add	a,0x0a
1621  053D  E1          	pop	hl
1622  053E  E5          	push	hl
1623  053F  77          	ld	(hl), a
1624  0540  01 00 00    	ld	bc,_spr_timer+0
1625  0543  2A 00 00    	ld	hl,(_sprite)
1626  0546  26 00       	ld	h,0x00
1627  0548  29          	add	hl, hl
1628  0549  09          	add	hl, bc
1629  054A  4E          	ld	c, (hl)
1630  054B  23          	inc	hl
1631  054C  46          	ld	b, (hl)
1632  054D  21 28 00    	ld	hl,0x0028
1633  0550  E5          	push	hl
1634  0551  C5          	push	bc
1635  0552  CD 00 00    	call	_game_check_time
1636  0555  F1          	pop	af
1637  0556  F1          	pop	af
1638  0557  7D          	ld	a, l
1639  0558  B7          	or	a, a
1640  0559  28 06       	jr	Z,l_player_move_00102
1641  055B  2A 00 00    	ld	hl,(_sprite)
1642  055E  CD 00 00    	call	_spr_killed
1643  0561              l_player_move_00102:
1644  0561  2E 00       	ld	l,0x00
1645  0563  C3 E1 08    	jp	l_player_move_00164
1646  0566              l_player_move_00104:
1647  0566  21 00 00    	ld	hl,_s_state
1648  0569  CB 66       	bit	4, (hl)
1649  056B  CA C1 06    	jp	Z,l_player_move_00121
1650  056E  DD 7E FF    	ld	a,(ix-1)
1651  0571  D6 10       	sub	a,0x10
1652  0573  30 12       	jr	NC,l_player_move_00112
1653  0575  2A 00 00    	ld	hl,(_sprite)
1654  0578  26 00       	ld	h,0x00
1655  057A  01 00 00    	ld	bc,_state_a
1656  057D  09          	add	hl,bc
1657  057E  7E          	ld	a,(hl)
1658  057F  E6 FE       	and	a,0xfe
1659  0581  77          	ld	(hl),a
1660  0582  CD 00 00    	call	_spr_move_down
1661  0585  18 72       	jr	l_player_move_00113
1662  0587              l_player_move_00112:
1663  0587  CD 5C 01    	call	_player_check_input
1664  058A  7D          	ld	a, l
1665  058B  B7          	or	a, a
1666  058C  28 6B       	jr	Z,l_player_move_00113
1667  058E  21 00 00    	ld	hl,_dirs
1668  0591  CB 5E       	bit	3, (hl)
1669  0593  28 0D       	jr	Z,l_player_move_00106
1670  0595  2A 00 00    	ld	hl,(_sprite)
1671  0598  26 00       	ld	h,0x00
1672  059A  01 00 00    	ld	bc,_state
1673  059D  09          	add	hl,bc
1674  059E  7E          	ld	a,(hl)
1675  059F  F6 04       	or	a,0x04
1676  05A1  77          	ld	(hl),a
1677  05A2              l_player_move_00106:
1678  05A2  21 00 00    	ld	hl,_dirs
1679  05A5  CB 56       	bit	2, (hl)
1680  05A7  28 0D       	jr	Z,l_player_move_00108
1681  05A9  2A 00 00    	ld	hl,(_sprite)
1682  05AC  26 00       	ld	h,0x00
1683  05AE  01 00 00    	ld	bc,_state
1684  05B1  09          	add	hl,bc
1685  05B2  7E          	ld	a,(hl)
1686  05B3  F6 08       	or	a,0x08
1687  05B5  77          	ld	(hl),a
1688  05B6              l_player_move_00108:
1689  05B6  2A 00 00    	ld	hl,(_sprite)
1690  05B9  26 00       	ld	h,0x00
1691  05BB  01 00 00    	ld	bc,_state
1692  05BE  09          	add	hl,bc
1693  05BF  7E          	ld	a,(hl)
1694  05C0  E6 EF       	and	a,0xef
1695  05C2  77          	ld	(hl),a
1696  05C3  2A 00 00    	ld	hl,(_sprite)
1697  05C6  26 00       	ld	h,0x00
1698  05C8  01 00 00    	ld	bc,_state_a
1699  05CB  09          	add	hl,bc
1700  05CC  7E          	ld	a,(hl)
1701  05CD  E6 FE       	and	a,0xfe
1702  05CF  77          	ld	(hl),a
1703  05D0  76          	halt
1704  05D1  3A 00 00    	ld	a,(_s_col0)
1705  05D4  F5          	push	af
1706  05D5  33          	inc	sp
1707  05D6  21 A9 10    	ld	hl,0x10a9
1708  05D9  E5          	push	hl
1709  05DA  CD 00 00    	call	_NIRVANAP_drawT_callee
1710  05DD  3A 00 00    	ld	a,(_s_col0)
1711  05E0  F5          	push	af
1712  05E1  33          	inc	sp
1713  05E2  21 A9 20    	ld	hl,0x20a9
1714  05E5  E5          	push	hl
1715  05E6  CD 00 00    	call	_NIRVANAP_drawT_callee
1716  05E9  2A 00 00    	ld	hl,(_sprite)
1717  05EC  26 00       	ld	h,0x00
1718  05EE  01 00 00    	ld	bc,_sprite_speed_alt
1719  05F1  09          	add	hl,bc
1720  05F2  AF          	xor	a,a
1721  05F3  77          	ld	(hl),a
1722  05F4  2E 00       	ld	l,0x00
1723  05F6  C3 E1 08    	jp	l_player_move_00164
1724  05F9              l_player_move_00113:
1725  05F9  CD 00 00    	call	_spr_redraw
1726  05FC  ED 4B 00 00 	ld	bc,(_curr_time)
1727  0600  2A 00 00    	ld	hl,(_sprite)
1728  0603  26 00       	ld	h,0x00
1729  0605  29          	add	hl, hl
1730  0606  11 00 00    	ld	de,_spr_timer
1731  0609  19          	add	hl, de
1732  060A  5E          	ld	e, (hl)
1733  060B  23          	inc	hl
1734  060C  56          	ld	d, (hl)
1735  060D  69          	ld	l,c
1736  060E  60          	ld	h,b
1737  060F  AF          	xor	a,a
1738  0610  ED 52       	sbc	hl,de
1739  0612  22 00 00    	ld	(_tmp_ui),hl
1740  0615  21 00 00    	ld	hl,_tmp
1741  0618  36 00       	ld	(hl),0x00
1742  061A  3E 32       	ld	a,0x32
1743  061C  21 00 00    	ld	hl,_tmp_ui
1744  061F  BE          	cp	a, (hl)
1745  0620  3E 00       	ld	a,0x00
1746  0622  23          	inc	hl
1747  0623  9E          	sbc	a, (hl)
1748  0624  30 05       	jr	NC,l_player_move_00115
1749  0626  21 00 00    	ld	hl,_tmp
1750  0629  36 01       	ld	(hl),0x01
1751  062B              l_player_move_00115:
1752  062B  3E 64       	ld	a,0x64
1753  062D  21 00 00    	ld	hl,_tmp_ui
1754  0630  BE          	cp	a, (hl)
1755  0631  3E 00       	ld	a,0x00
1756  0633  23          	inc	hl
1757  0634  9E          	sbc	a, (hl)
1758  0635  30 05       	jr	NC,l_player_move_00117
1759  0637  21 00 00    	ld	hl,_tmp
1760  063A  36 02       	ld	(hl),0x02
1761  063C              l_player_move_00117:
1762  063C  76          	halt
1763  063D  2A 00 00    	ld	hl,(_sprite)
1764  0640  26 00       	ld	h,0x00
1765  0642  01 00 00    	ld	bc,_lin
1766  0645  09          	add	hl,bc
1767  0646  7E          	ld	a,(hl)
1768  0647  C6 10       	add	a,0x10
1769  0649  4D          	ld	c,l
1770  064A  57          	ld	d, a
1771  064B  3A 00 00    	ld	a,(_tmp)
1772  064E  C6 84       	add	a,0x84
1773  0650  47          	ld	b, a
1774  0651  3A 00 00    	ld	a,(_s_col0)
1775  0654  5A          	ld	e,d
1776  0655  57          	ld	d,a
1777  0656  D5          	push	de
1778  0657  C5          	push	bc
1779  0658  33          	inc	sp
1780  0659  CD 00 00    	call	_NIRVANAP_drawT_callee
1781  065C  3E 96       	ld	a,0x96
1782  065E  21 00 00    	ld	hl,_tmp_ui
1783  0661  BE          	cp	a, (hl)
1784  0662  3E 00       	ld	a,0x00
1785  0664  23          	inc	hl
1786  0665  9E          	sbc	a, (hl)
1787  0666  30 54       	jr	NC,l_player_move_00119
1788  0668  2A 00 00    	ld	hl,(_sprite)
1789  066B  26 00       	ld	h,0x00
1790  066D  01 00 00    	ld	bc,_lin
1791  0670  09          	add	hl,bc
1792  0671  4E          	ld	c, (hl)
1793  0672  3A 00 00    	ld	a, (_s_col0)
1794  0675  47          	ld	b,a
1795  0676  C5          	push	bc
1796  0677  3E A9       	ld	a,0xa9
1797  0679  F5          	push	af
1798  067A  33          	inc	sp
1799  067B  CD 00 00    	call	_NIRVANAP_drawT_callee
1800  067E  2A 00 00    	ld	hl,(_sprite)
1801  0681  26 00       	ld	h,0x00
1802  0683  01 00 00    	ld	bc,_lin
1803  0686  09          	add	hl,bc
1804  0687  7E          	ld	a,(hl)
1805  0688  C6 10       	add	a,0x10
1806  068A  4F          	ld	c, a
1807  068B  3A 00 00    	ld	a, (_s_col0)
1808  068E  47          	ld	b,a
1809  068F  C5          	push	bc
1810  0690  3E A9       	ld	a,0xa9
1811  0692  F5          	push	af
1812  0693  33          	inc	sp
1813  0694  CD 00 00    	call	_NIRVANAP_drawT_callee
1814  0697  2A 00 00    	ld	hl,(_sprite)
1815  069A  26 00       	ld	h,0x00
1816  069C  01 00 00    	ld	bc,_state
1817  069F  09          	add	hl,bc
1818  06A0  7E          	ld	a,(hl)
1819  06A1  E6 EF       	and	a,0xef
1820  06A3  77          	ld	(hl),a
1821  06A4  2A 00 00    	ld	hl,(_sprite)
1822  06A7  26 00       	ld	h,0x00
1823  06A9  01 00 00    	ld	bc,_state
1824  06AC  09          	add	hl,bc
1825  06AD  7E          	ld	a,(hl)
1826  06AE  F6 01       	or	a,0x01
1827  06B0  77          	ld	(hl),a
1828  06B1  2A 00 00    	ld	hl,(_sprite)
1829  06B4  26 00       	ld	h,0x00
1830  06B6  01 00 00    	ld	bc,_sprite_speed_alt
1831  06B9  09          	add	hl,bc
1832  06BA  AF          	xor	a,a
1833  06BB  77          	ld	(hl),a
1834  06BC              l_player_move_00119:
1835  06BC  2E 00       	ld	l,0x00
1836  06BE  C3 E1 08    	jp	l_player_move_00164
1837  06C1              l_player_move_00121:
1838  06C1  01 00 00    	ld	bc,_state_a+0
1839  06C4  2A 00 00    	ld	hl,(_sprite)
1840  06C7  26 00       	ld	h,0x00
1841  06C9  09          	add	hl,bc
1842  06CA  7E          	ld	a,(hl)
1843  06CB  0F          	rrca
1844  06CC  30 1B       	jr	NC,l_player_move_00126
1845  06CE  C5          	push	bc
1846  06CF  CD 5C 01    	call	_player_check_input
1847  06D2  C1          	pop	bc
1848  06D3  7D          	ld	a,l
1849  06D4  B7          	or	a, a
1850  06D5  28 0D       	jr	Z,l_player_move_00123
1851  06D7  2A 00 00    	ld	hl,(_sprite)
1852  06DA  26 00       	ld	h,0x00
1853  06DC  09          	add	hl,bc
1854  06DD  7E          	ld	a,(hl)
1855  06DE  EB          	ex	de,hl
1856  06DF  E6 FE       	and	a,0xfe
1857  06E1  12          	ld	(de), a
1858  06E2  18 05       	jr	l_player_move_00126
1859  06E4              l_player_move_00123:
1860  06E4  2E 00       	ld	l,0x00
1861  06E6  C3 E1 08    	jp	l_player_move_00164
1862  06E9              l_player_move_00126:
1863  06E9  2A 00 00    	ld	hl,(_sprite)
1864  06EC  26 00       	ld	h,0x00
1865  06EE  09          	add	hl,bc
1866  06EF  CB 56       	bit	2,(hl)
1867  06F1  28 5F       	jr	Z,l_player_move_00130
1868  06F3  2A 00 00    	ld	hl,(_sprite)
1869  06F6  26 00       	ld	h,0x00
1870  06F8  29          	add	hl, hl
1871  06F9  11 00 00    	ld	de,_spr_timer
1872  06FC  19          	add	hl, de
1873  06FD  5E          	ld	e, (hl)
1874  06FE  23          	inc	hl
1875  06FF  56          	ld	d, (hl)
1876  0700  C5          	push	bc
1877  0701  21 14 00    	ld	hl,0x0014
1878  0704  E5          	push	hl
1879  0705  D5          	push	de
1880  0706  CD 00 00    	call	_game_check_time
1881  0709  F1          	pop	af
1882  070A  F1          	pop	af
1883  070B  C1          	pop	bc
1884  070C  7D          	ld	a,l
1885  070D  B7          	or	a, a
1886  070E  28 42       	jr	Z,l_player_move_00130
1887  0710  79          	ld	a, c
1888  0711  21 00 00    	ld	hl,_sprite
1889  0714  86          	add	a, (hl)
1890  0715  5F          	ld	e, a
1891  0716  78          	ld	a, b
1892  0717  CE 00       	adc	a,0x00
1893  0719  57          	ld	d, a
1894  071A  1A          	ld	a, (de)
1895  071B  E6 FB       	and	a,0xfb
1896  071D  12          	ld	(de), a
1897  071E  3E 00       	ld	a, +((_colint) & 0xFF)
1898  0720  86          	add	a, (hl)
1899  0721  5F          	ld	e, a
1900  0722  3E 00       	ld	a, +((_colint) / 256)
1901  0724  CE 00       	adc	a,0x00
1902  0726  57          	ld	d, a
1903  0727  AF          	xor	a, a
1904  0728  12          	ld	(de), a
1905  0729  3E 00       	ld	a, +((_tile) & 0xFF)
1906  072B  86          	add	a, (hl)
1907  072C  DD 77 FD    	ld	(ix-3),a
1908  072F  3E 00       	ld	a, +((_tile) / 256)
1909  0731  CE 00       	adc	a,0x00
1910  0733  DD 77 FE    	ld	(ix-2),a
1911  0736  21 00 00    	ld	hl,_tile_offset
1912  0739  56          	ld	d, (hl)
1913  073A  14          	inc	d
1914  073B  14          	inc	d
1915  073C  14          	inc	d
1916  073D  C5          	push	bc
1917  073E  3E 0C       	ld	a,0x0c
1918  0740  F5          	push	af
1919  0741  33          	inc	sp
1920  0742  3A 00 00    	ld	a,(_sprite)
1921  0745  5A          	ld	e,d
1922  0746  57          	ld	d,a
1923  0747  D5          	push	de
1924  0748  CD 00 00    	call	_spr_tile_dir
1925  074B  F1          	pop	af
1926  074C  33          	inc	sp
1927  074D  C1          	pop	bc
1928  074E  5D          	ld	e,l
1929  074F  E1          	pop	hl
1930  0750  E5          	push	hl
1931  0751  73          	ld	(hl), e
1932  0752              l_player_move_00130:
1933  0752  C5          	push	bc
1934  0753  CD E6 08    	call	_player_move_input
1935  0756  C1          	pop	bc
1936  0757  2A 00 00    	ld	hl,(_sprite)
1937  075A  26 00       	ld	h,0x00
1938  075C  11 00 00    	ld	de,_state
1939  075F  19          	add	hl,de
1940  0760  7E          	ld	a,(hl)
1941  0761  21 00 00    	ld	hl,_s_state
1942  0764  77          	ld	(hl),a
1943  0765  E6 01       	and	a,0x01
1944  0767  5F          	ld	e,a
1945  0768  B7          	or	a, a
1946  0769  20 5A       	jr	NZ,l_player_move_00159
1947  076B  CB 4E       	bit	1, (hl)
1948  076D  20 56       	jr	NZ,l_player_move_00159
1949  076F  2A 00 00    	ld	hl,(_sprite)
1950  0772  26 00       	ld	h,0x00
1951  0774  01 00 00    	ld	bc,_col
1952  0777  09          	add	hl,bc
1953  0778  56          	ld	d, (hl)
1954  0779  2A 00 00    	ld	hl,(_sprite)
1955  077C  26 00       	ld	h,0x00
1956  077E  01 00 00    	ld	bc,_lin
1957  0781  09          	add	hl,bc
1958  0782  7E          	ld	a,(hl)
1959  0783  C6 10       	add	a,0x10
1960  0785  5F          	ld	e, a
1961  0786  D5          	push	de
1962  0787  CD 00 00    	call	_game_calc_index
1963  078A  F1          	pop	af
1964  078B  3A 00 00    	ld	a,(_s_lin0)
1965  078E  EB          	ex	de,hl
1966  078F  D6 98       	sub	a,0x98
1967  0791  20 03       	jr	NZ,l_player_move_00132
1968  0793  11 00 00    	ld	de,0x0000
1969  0796              l_player_move_00132:
1970  0796  7A          	ld	a, d
1971  0797  B3          	or	a,e
1972  0798  CA B1 08    	jp	Z, l_player_move_00160
1973  079B  01 00 00    	ld	bc,_lvl_1+0
1974  079E  69          	ld	l, c
1975  079F  60          	ld	h, b
1976  07A0  19          	add	hl, de
1977  07A1  6E          	ld	l, (hl)
1978  07A2  3E 8C       	ld	a,0x8c
1979  07A4  95          	sub	a, l
1980  07A5  D2 B1 08    	jp	NC, l_player_move_00160
1981  07A8  EB          	ex	de,hl
1982  07A9  23          	inc	hl
1983  07AA  09          	add	hl, bc
1984  07AB  4E          	ld	c, (hl)
1985  07AC  3E 8C       	ld	a,0x8c
1986  07AE  91          	sub	a, c
1987  07AF  D2 B1 08    	jp	NC, l_player_move_00160
1988  07B2  2A 00 00    	ld	hl,(_sprite)
1989  07B5  26 00       	ld	h,0x00
1990  07B7  01 00 00    	ld	bc,_sprite_speed_alt
1991  07BA  09          	add	hl,bc
1992  07BB  36 02       	ld	(hl),0x02
1993  07BD  21 00 00    	ld	hl,_s_state
1994  07C0  CB CE       	set	1, (hl)
1995  07C2  C3 B1 08    	jp	l_player_move_00160
1996  07C5              l_player_move_00159:
1997  07C5  21 00 00    	ld	hl,_sprite_lin_inc_mul
1998  07C8  36 02       	ld	(hl),0x02
1999  07CA  3E 00       	ld	a, +((_player_jump_c) & 0xFF)
2000  07CC  21 00 00    	ld	hl,_index_player
2001  07CF  86          	add	a, (hl)
2002  07D0  DD 77 FD    	ld	(ix-3),a
2003  07D3  3E 00       	ld	a, +((_player_jump_c) / 256)
2004  07D5  CE 00       	adc	a,0x00
2005  07D7  DD 77 FE    	ld	(ix-2),a
2006  07DA  E1          	pop	hl
2007  07DB  56          	ld	d,(hl)
2008  07DC  E5          	push	hl
2009  07DD  3E 03       	ld	a,0x03
2010  07DF  92          	sub	a, d
2011  07E0  30 05       	jr	NC,l_player_move_00138
2012  07E2  21 00 00    	ld	hl,_sprite_lin_inc_mul
2013  07E5  36 01       	ld	(hl),0x01
2014  07E7              l_player_move_00138:
2015  07E7  3E 08       	ld	a,0x08
2016  07E9  92          	sub	a, d
2017  07EA  30 05       	jr	NC,l_player_move_00140
2018  07EC  21 00 00    	ld	hl,_sprite_lin_inc_mul
2019  07EF  36 00       	ld	(hl),0x00
2020  07F1              l_player_move_00140:
2021  07F1  3E 0C       	ld	a,0x0c
2022  07F3  92          	sub	a, d
2023  07F4  30 05       	jr	NC,l_player_move_00142
2024  07F6  21 00 00    	ld	hl,_sprite_lin_inc_mul
2025  07F9  36 01       	ld	(hl),0x01
2026  07FB              l_player_move_00142:
2027  07FB  3E 11       	ld	a,0x11
2028  07FD  92          	sub	a, d
2029  07FE  30 05       	jr	NC,l_player_move_00144
2030  0800  21 00 00    	ld	hl,_sprite_lin_inc_mul
2031  0803  36 02       	ld	(hl),0x02
2032  0805              l_player_move_00144:
2033  0805  7B          	ld	a, e
2034  0806  B7          	or	a, a
2035  0807  28 1C       	jr	Z,l_player_move_00156
2036  0809  7A          	ld	a, d
2037  080A  D6 0A       	sub	a,0x0a
2038  080C  30 11       	jr	NC,l_player_move_00148
2039  080E  2A 00 00    	ld	hl,(_sprite)
2040  0811  26 00       	ld	h,0x00
2041  0813  09          	add	hl,bc
2042  0814  7E          	ld	a,(hl)
2043  0815  07          	rlca
2044  0816  DA 9F 08    	jp	C,l_player_move_00157
2045  0819  CD 00 00    	call	_spr_move_up
2046  081C  C3 9F 08    	jp	l_player_move_00157
2047  081F              l_player_move_00148:
2048  081F  CD 00 00    	call	_spr_set_fall
2049  0822  C3 9F 08    	jp	l_player_move_00157
2050  0825              l_player_move_00156:
2051  0825  C5          	push	bc
2052  0826  CD 00 00    	call	_spr_move_down
2053  0829  C1          	pop	bc
2054  082A  7D          	ld	a,l
2055  082B  B7          	or	a, a
2056  082C  28 71       	jr	Z,l_player_move_00157
2057  082E  21 00 00    	ld	hl,_s_state
2058  0831  CB 8E       	res	1, (hl)
2059  0833  2A 00 00    	ld	hl,(_sprite)
2060  0836  26 00       	ld	h,0x00
2061  0838  09          	add	hl,bc
2062  0839  7E          	ld	a,(hl)
2063  083A  E6 7F       	and	a,0x7f
2064  083C  77          	ld	(hl),a
2065  083D  2A 00 00    	ld	hl,(_index_player)
2066  0840  26 00       	ld	h,0x00
2067  0842  01 00 00    	ld	bc,_player_jump_c
2068  0845  09          	add	hl,bc
2069  0846  AF          	xor	a,a
2070  0847  77          	ld	(hl),a
2071  0848  2A 00 00    	ld	hl,(_sprite)
2072  084B  26 00       	ld	h,0x00
2073  084D  01 00 00    	ld	bc,_jump_lin
2074  0850  09          	add	hl,bc
2075  0851  AF          	xor	a,a
2076  0852  77          	ld	(hl),a
2077  0853  2A 00 00    	ld	hl,(_index_player)
2078  0856  26 00       	ld	h,0x00
2079  0858  01 00 00    	ld	bc,_sliding
2080  085B  09          	add	hl,bc
2081  085C  AF          	xor	a,a
2082  085D  77          	ld	(hl),a
2083  085E  2A 00 00    	ld	hl,(_sprite)
2084  0861  26 00       	ld	h,0x00
2085  0863  01 00 00    	ld	bc,_colint
2086  0866  09          	add	hl,bc
2087  0867  AF          	xor	a,a
2088  0868  77          	ld	(hl),a
2089  0869  2A 00 00    	ld	hl,(_sprite)
2090  086C  26 00       	ld	h,0x00
2091  086E  01 00 00    	ld	bc,_tile
2092  0871  09          	add	hl,bc
2093  0872  4D          	ld	c,l
2094  0873  44          	ld	b,h
2095  0874  21 00 00    	ld	hl,_tile_offset
2096  0877  56          	ld	d, (hl)
2097  0878  14          	inc	d
2098  0879  14          	inc	d
2099  087A  14          	inc	d
2100  087B  C5          	push	bc
2101  087C  3E 0C       	ld	a,0x0c
2102  087E  F5          	push	af
2103  087F  33          	inc	sp
2104  0880  3A 00 00    	ld	a,(_sprite)
2105  0883  5A          	ld	e,d
2106  0884  57          	ld	d,a
2107  0885  D5          	push	de
2108  0886  CD 00 00    	call	_spr_tile_dir
2109  0889  F1          	pop	af
2110  088A  33          	inc	sp
2111  088B  C1          	pop	bc
2112  088C  7D          	ld	a,l
2113  088D  02          	ld	(bc), a
2114  088E  21 00 00    	ld	hl,_s_state
2115  0891  CB 5E       	bit	3, (hl)
2116  0893  20 07       	jr	NZ,l_player_move_00150
2117  0895  21 00 00    	ld	hl,_s_state
2118  0898  CB 56       	bit	2, (hl)
2119  089A  28 03       	jr	Z,l_player_move_00157
2120  089C              l_player_move_00150:
2121  089C  CD F7 00    	call	_player_calc_slide
2122  089F              l_player_move_00157:
2123  089F  21 00 00    	ld	hl,_sprite_lin_inc_mul
2124  08A2  36 00       	ld	(hl),0x00
2125  08A4  2A 00 00    	ld	hl,(_index_player)
2126  08A7  26 00       	ld	h,0x00
2127  08A9  01 00 00    	ld	bc,_player_jump_c
2128  08AC  09          	add	hl,bc
2129  08AD  34          	inc	(hl)
2130  08AE  CD 81 0B    	call	_player_move_horizontal
2131  08B1              l_player_move_00160:
2132  08B1  2A 00 00    	ld	hl,(_sprite)
2133  08B4  26 00       	ld	h,0x00
2134  08B6  29          	add	hl, hl
2135  08B7  11 00 00    	ld	de,_spr_timer
2136  08BA  19          	add	hl, de
2137  08BB  4E          	ld	c, (hl)
2138  08BC  23          	inc	hl
2139  08BD  46          	ld	b, (hl)
2140  08BE  21 04 00    	ld	hl,0x0004
2141  08C1  E5          	push	hl
2142  08C2  C5          	push	bc
2143  08C3  CD 00 00    	call	_game_check_time
2144  08C6  F1          	pop	af
2145  08C7  F1          	pop	af
2146  08C8  7D          	ld	a, l
2147  08C9  B7          	or	a, a
2148  08CA  28 03       	jr	Z,l_player_move_00163
2149  08CC  CD F1 0D    	call	_player_hit_brick_clear
2150  08CF              l_player_move_00163:
2151  08CF  CD 00 00    	call	_spr_redraw
2152  08D2  2A 00 00    	ld	hl,(_sprite)
2153  08D5  26 00       	ld	h,0x00
2154  08D7  01 00 00    	ld	bc,_state
2155  08DA  09          	add	hl,bc
2156  08DB  3A 00 00    	ld	a,(_s_state)
2157  08DE  77          	ld	(hl),a
2158  08DF  2E 00       	ld	l,0x00
2159  08E1              l_player_move_00164:
2160  08E1  DD F9       	ld	sp, ix
2161  08E3  DD E1       	pop	ix
2162  08E5  C9          	ret
2163  08E6              	SECTION code_compiler
2164  08E6              ;	---------------------------------
2165  08E6              ; Function player_move_input
2166  08E6              ; ---------------------------------
2167  08E6              _player_move_input:
2168  08E6  21 00 00    	ld	hl,_s_state
2169  08E9  CB 46       	bit	0, (hl)
2170  08EB  20 07       	jr	NZ,l_player_move_input_00101
2171  08ED  21 00 00    	ld	hl,_s_state
2172  08F0  CB 4E       	bit	1, (hl)
2173  08F2  28 05       	jr	Z,l_player_move_input_00102
2174  08F4              l_player_move_input_00101:
2175  08F4  2E 00       	ld	l,0x00
2176  08F6  C3 80 0B    	jp	l_player_move_input_00135
2177  08F9              l_player_move_input_00102:
2178  08F9  CD 5C 01    	call	_player_check_input
2179  08FC  7D          	ld	a, l
2180  08FD  B7          	or	a, a
2181  08FE  CA 9A 0A    	jp	Z, l_player_move_input_00131
2182  0901  2A 00 00    	ld	hl,(_index_player)
2183  0904  26 00       	ld	h,0x00
2184  0906  01 00 00    	ld	bc,_sliding
2185  0909  09          	add	hl,bc
2186  090A  46          	ld	b,(hl)
2187  090B  3A 00 00    	ld	a,(_dirs)
2188  090E  E6 80       	and	a,0x80
2189  0910  4F          	ld	c, a
2190  0911  78          	ld	a, b
2191  0912  B7          	or	a, a
2192  0913  28 05       	jr	Z,l_player_move_input_00130
2193  0915  79          	ld	a, c
2194  0916  B7          	or	a, a
2195  0917  CA 9A 0A    	jp	Z, l_player_move_input_00131
2196  091A              l_player_move_input_00130:
2197  091A  79          	ld	a, c
2198  091B  B7          	or	a, a
2199  091C  CA C9 09    	jp	Z, l_player_move_input_00110
2200  091F  CD 00 00    	call	_ay_is_playing
2201  0922  7D          	ld	a, l
2202  0923  D6 03       	sub	a,0x03
2203  0925  28 06       	jr	Z,l_player_move_input_00105
2204  0927  21 00 00    	ld	hl,_ay_effect_03
2205  092A  CD 00 00    	call	_ay_fx_play
2206  092D              l_player_move_input_00105:
2207  092D  CD 00 00    	call	_sound_jump
2208  0930  2A 00 00    	ld	hl,(_sprite)
2209  0933  26 00       	ld	h,0x00
2210  0935  01 00 00    	ld	bc,_state
2211  0938  09          	add	hl,bc
2212  0939  CB 56       	bit	2,(hl)
2213  093B  28 0D       	jr	Z,l_player_move_input_00107
2214  093D  2A 00 00    	ld	hl,(_sprite)
2215  0940  26 00       	ld	h,0x00
2216  0942  01 00 00    	ld	bc,_colint
2217  0945  09          	add	hl,bc
2218  0946  AF          	xor	a,a
2219  0947  77          	ld	(hl),a
2220  0948  18 0B       	jr	l_player_move_input_00108
2221  094A              l_player_move_input_00107:
2222  094A  2A 00 00    	ld	hl,(_sprite)
2223  094D  26 00       	ld	h,0x00
2224  094F  01 00 00    	ld	bc,_colint
2225  0952  09          	add	hl,bc
2226  0953  36 02       	ld	(hl),0x02
2227  0955              l_player_move_input_00108:
2228  0955  21 00 00    	ld	hl,_s_state
2229  0958  7E          	ld	a,(hl)
2230  0959  F6 01       	or	a,0x01
2231  095B  E6 FD       	and	a,0xfd
2232  095D  77          	ld	(hl),a
2233  095E  2A 00 00    	ld	hl,(_sprite)
2234  0961  26 00       	ld	h,0x00
2235  0963  01 00 00    	ld	bc,_jump_lin
2236  0966  09          	add	hl,bc
2237  0967  4D          	ld	c,l
2238  0968  44          	ld	b,h
2239  0969  2A 00 00    	ld	hl,(_sprite)
2240  096C  26 00       	ld	h,0x00
2241  096E  11 00 00    	ld	de,_lin
2242  0971  19          	add	hl,de
2243  0972  7E          	ld	a,(hl)
2244  0973  02          	ld	(bc),a
2245  0974  2A 00 00    	ld	hl,(_sprite)
2246  0977  26 00       	ld	h,0x00
2247  0979  01 00 00    	ld	bc,_state
2248  097C  09          	add	hl,bc
2249  097D  3A 00 00    	ld	a,(_s_state)
2250  0980  77          	ld	(hl),a
2251  0981  2A 00 00    	ld	hl,(_sprite)
2252  0984  26 00       	ld	h,0x00
2253  0986  01 00 00    	ld	bc,_tile
2254  0989  09          	add	hl,bc
2255  098A  3A 00 00    	ld	a,(_tile_offset)
2256  098D  C6 07       	add	a,0x07
2257  098F  57          	ld	d,a
2258  0990  E5          	push	hl
2259  0991  3E 0C       	ld	a,0x0c
2260  0993  F5          	push	af
2261  0994  33          	inc	sp
2262  0995  3A 00 00    	ld	a,(_sprite)
2263  0998  5A          	ld	e,d
2264  0999  57          	ld	d,a
2265  099A  D5          	push	de
2266  099B  CD 00 00    	call	_spr_tile_dir
2267  099E  F1          	pop	af
2268  099F  33          	inc	sp
2269  09A0  C1          	pop	bc
2270  09A1  7D          	ld	a,l
2271  09A2  02          	ld	(bc), a
2272  09A3  2A 00 00    	ld	hl,(_sprite)
2273  09A6  26 00       	ld	h,0x00
2274  09A8  01 00 00    	ld	bc,_sprite_speed_alt
2275  09AB  09          	add	hl,bc
2276  09AC  36 02       	ld	(hl),0x02
2277  09AE  2A 00 00    	ld	hl,(_index_player)
2278  09B1  26 00       	ld	h,0x00
2279  09B3  01 00 00    	ld	bc,_player_jump_c
2280  09B6  09          	add	hl,bc
2281  09B7  AF          	xor	a,a
2282  09B8  77          	ld	(hl),a
2283  09B9  2A 00 00    	ld	hl,(_index_player)
2284  09BC  26 00       	ld	h,0x00
2285  09BE  01 00 00    	ld	bc,_sliding
2286  09C1  09          	add	hl,bc
2287  09C2  AF          	xor	a,a
2288  09C3  77          	ld	(hl),a
2289  09C4  2E 01       	ld	l,0x01
2290  09C6  C3 80 0B    	jp	l_player_move_input_00135
2291  09C9              l_player_move_input_00110:
2292  09C9  21 00 00    	ld	hl,_dirs
2293  09CC  CB 5E       	bit	3, (hl)
2294  09CE  28 3F       	jr	Z,l_player_move_input_00114
2295  09D0  21 00 00    	ld	hl,_s_state
2296  09D3  CB 5E       	bit	3, (hl)
2297  09D5  28 08       	jr	Z,l_player_move_input_00112
2298  09D7  CD F7 00    	call	_player_calc_slide
2299  09DA  2E 01       	ld	l,0x01
2300  09DC  C3 80 0B    	jp	l_player_move_input_00135
2301  09DF              l_player_move_input_00112:
2302  09DF  21 00 00    	ld	hl,_s_state
2303  09E2  7E          	ld	a,(hl)
2304  09E3  F6 04       	or	a,0x04
2305  09E5  E6 F7       	and	a,0xf7
2306  09E7  77          	ld	(hl),a
2307  09E8  01 00 00    	ld	bc,_state_a+0
2308  09EB  79          	ld	a, c
2309  09EC  21 00 00    	ld	hl,_sprite
2310  09EF  86          	add	a, (hl)
2311  09F0  5F          	ld	e, a
2312  09F1  78          	ld	a, b
2313  09F2  CE 00       	adc	a,0x00
2314  09F4  57          	ld	d, a
2315  09F5  1A          	ld	a, (de)
2316  09F6  F6 10       	or	a,0x10
2317  09F8  12          	ld	(de), a
2318  09F9  79          	ld	a, c
2319  09FA  86          	add	a, (hl)
2320  09FB  5F          	ld	e, a
2321  09FC  78          	ld	a, b
2322  09FD  CE 00       	adc	a,0x00
2323  09FF  57          	ld	d, a
2324  0A00  1A          	ld	a, (de)
2325  0A01  E6 F7       	and	a,0xf7
2326  0A03  12          	ld	(de), a
2327  0A04  79          	ld	a, c
2328  0A05  86          	add	a, (hl)
2329  0A06  4F          	ld	c, a
2330  0A07  78          	ld	a, b
2331  0A08  CE 00       	adc	a,0x00
2332  0A0A  47          	ld	b, a
2333  0A0B  0A          	ld	a, (bc)
2334  0A0C  F6 20       	or	a,0x20
2335  0A0E  02          	ld	(bc), a
2336  0A0F              l_player_move_input_00114:
2337  0A0F  21 00 00    	ld	hl,_dirs
2338  0A12  CB 56       	bit	2, (hl)
2339  0A14  28 3F       	jr	Z,l_player_move_input_00118
2340  0A16  21 00 00    	ld	hl,_s_state
2341  0A19  CB 56       	bit	2, (hl)
2342  0A1B  28 08       	jr	Z,l_player_move_input_00116
2343  0A1D  CD F7 00    	call	_player_calc_slide
2344  0A20  2E 01       	ld	l,0x01
2345  0A22  C3 80 0B    	jp	l_player_move_input_00135
2346  0A25              l_player_move_input_00116:
2347  0A25  21 00 00    	ld	hl,_s_state
2348  0A28  7E          	ld	a,(hl)
2349  0A29  F6 08       	or	a,0x08
2350  0A2B  E6 FB       	and	a,0xfb
2351  0A2D  77          	ld	(hl),a
2352  0A2E  01 00 00    	ld	bc,_state_a+0
2353  0A31  79          	ld	a, c
2354  0A32  21 00 00    	ld	hl,_sprite
2355  0A35  86          	add	a, (hl)
2356  0A36  5F          	ld	e, a
2357  0A37  78          	ld	a, b
2358  0A38  CE 00       	adc	a,0x00
2359  0A3A  57          	ld	d, a
2360  0A3B  1A          	ld	a, (de)
2361  0A3C  F6 08       	or	a,0x08
2362  0A3E  12          	ld	(de), a
2363  0A3F  79          	ld	a, c
2364  0A40  86          	add	a, (hl)
2365  0A41  5F          	ld	e, a
2366  0A42  78          	ld	a, b
2367  0A43  CE 00       	adc	a,0x00
2368  0A45  57          	ld	d, a
2369  0A46  1A          	ld	a, (de)
2370  0A47  E6 EF       	and	a,0xef
2371  0A49  12          	ld	(de), a
2372  0A4A  79          	ld	a, c
2373  0A4B  86          	add	a, (hl)
2374  0A4C  4F          	ld	c, a
2375  0A4D  78          	ld	a, b
2376  0A4E  CE 00       	adc	a,0x00
2377  0A50  47          	ld	b, a
2378  0A51  0A          	ld	a, (bc)
2379  0A52  F6 20       	or	a,0x20
2380  0A54  02          	ld	(bc), a
2381  0A55              l_player_move_input_00118:
2382  0A55  2A 00 00    	ld	hl,(_sprite)
2383  0A58  26 00       	ld	h,0x00
2384  0A5A  01 00 00    	ld	bc,_state
2385  0A5D  09          	add	hl,bc
2386  0A5E  3A 00 00    	ld	a,(_s_state)
2387  0A61  77          	ld	(hl),a
2388  0A62  2A 00 00    	ld	hl,(_sprite)
2389  0A65  26 00       	ld	h,0x00
2390  0A67  01 00 00    	ld	bc,_tile
2391  0A6A  09          	add	hl,bc
2392  0A6B  E5          	push	hl
2393  0A6C  2A 00 00    	ld	hl,(_sprite)
2394  0A6F  26 0C       	ld	h,0x0c
2395  0A71  3A 00 00    	ld	a,(_tile_offset)
2396  0A74  E5          	push	hl
2397  0A75  F5          	push	af
2398  0A76  33          	inc	sp
2399  0A77  CD 00 00    	call	_spr_tile_dir
2400  0A7A  F1          	pop	af
2401  0A7B  33          	inc	sp
2402  0A7C  C1          	pop	bc
2403  0A7D  7D          	ld	a,l
2404  0A7E  02          	ld	(bc), a
2405  0A7F  CD 00 00    	call	_ay_is_playing
2406  0A82  7D          	ld	a, l
2407  0A83  B7          	or	a, a
2408  0A84  20 0C       	jr	NZ,l_player_move_input_00120
2409  0A86  3A 00 00    	ld	a,(_game_bonus)
2410  0A89  B7          	or	a, a
2411  0A8A  20 06       	jr	NZ,l_player_move_input_00120
2412  0A8C  21 00 00    	ld	hl,_ay_effect_20
2413  0A8F  CD 00 00    	call	_ay_fx_play
2414  0A92              l_player_move_input_00120:
2415  0A92  CD 81 0B    	call	_player_move_horizontal
2416  0A95  2E 01       	ld	l,0x01
2417  0A97  C3 80 0B    	jp	l_player_move_input_00135
2418  0A9A              l_player_move_input_00131:
2419  0A9A  2A 00 00    	ld	hl,(_sprite)
2420  0A9D  26 00       	ld	h,0x00
2421  0A9F  01 00 00    	ld	bc,_state_a
2422  0AA2  09          	add	hl,bc
2423  0AA3  CB 6E       	bit	5,(hl)
2424  0AA5  28 10       	jr	Z,l_player_move_input_00123
2425  0AA7  CD F7 00    	call	_player_calc_slide
2426  0AAA  2A 00 00    	ld	hl,(_sprite)
2427  0AAD  26 00       	ld	h,0x00
2428  0AAF  01 00 00    	ld	bc,_state_a
2429  0AB2  09          	add	hl,bc
2430  0AB3  7E          	ld	a,(hl)
2431  0AB4  E6 DF       	and	a,0xdf
2432  0AB6  77          	ld	(hl),a
2433  0AB7              l_player_move_input_00123:
2434  0AB7  2A 00 00    	ld	hl,(_index_player)
2435  0ABA  26 00       	ld	h,0x00
2436  0ABC  01 00 00    	ld	bc,_sliding
2437  0ABF  09          	add	hl,bc
2438  0AC0  7E          	ld	a,(hl)
2439  0AC1  B7          	or	a, a
2440  0AC2  CA 7E 0B    	jp	Z, l_player_move_input_00129
2441  0AC5  CD 00 00    	call	_ay_is_playing
2442  0AC8  7D          	ld	a, l
2443  0AC9  D6 03       	sub	a,0x03
2444  0ACB  28 06       	jr	Z,l_player_move_input_00125
2445  0ACD  21 00 00    	ld	hl,_ay_effect_01
2446  0AD0  CD 00 00    	call	_ay_fx_play
2447  0AD3              l_player_move_input_00125:
2448  0AD3  CD 00 00    	call	_sound_slide
2449  0AD6  CD 81 0B    	call	_player_move_horizontal
2450  0AD9  2A 00 00    	ld	hl,(_index_player)
2451  0ADC  26 00       	ld	h,0x00
2452  0ADE  01 00 00    	ld	bc,_sliding
2453  0AE1  09          	add	hl,bc
2454  0AE2  7E          	ld	a,(hl)
2455  0AE3  C6 FF       	add	a,0xff
2456  0AE5  77          	ld	(hl),a
2457  0AE6  2A 00 00    	ld	hl,(_sprite)
2458  0AE9  26 00       	ld	h,0x00
2459  0AEB  01 00 00    	ld	bc,_sprite_speed_alt
2460  0AEE  09          	add	hl,bc
2461  0AEF  AF          	xor	a,a
2462  0AF0  77          	ld	(hl),a
2463  0AF1  2A 00 00    	ld	hl,(_sprite)
2464  0AF4  26 00       	ld	h,0x00
2465  0AF6  01 00 00    	ld	bc,_tile
2466  0AF9  09          	add	hl,bc
2467  0AFA  4D          	ld	c,l
2468  0AFB  44          	ld	b,h
2469  0AFC  21 00 00    	ld	hl,_tile_offset
2470  0AFF  56          	ld	d, (hl)
2471  0B00  14          	inc	d
2472  0B01  14          	inc	d
2473  0B02  14          	inc	d
2474  0B03  14          	inc	d
2475  0B04  C5          	push	bc
2476  0B05  3E 0C       	ld	a,0x0c
2477  0B07  F5          	push	af
2478  0B08  33          	inc	sp
2479  0B09  3A 00 00    	ld	a,(_sprite)
2480  0B0C  5A          	ld	e,d
2481  0B0D  57          	ld	d,a
2482  0B0E  D5          	push	de
2483  0B0F  CD 00 00    	call	_spr_tile_dir
2484  0B12  F1          	pop	af
2485  0B13  33          	inc	sp
2486  0B14  C1          	pop	bc
2487  0B15  7D          	ld	a,l
2488  0B16  02          	ld	(bc), a
2489  0B17  2A 00 00    	ld	hl,(_index_player)
2490  0B1A  26 00       	ld	h,0x00
2491  0B1C  01 00 00    	ld	bc,_sliding
2492  0B1F  09          	add	hl,bc
2493  0B20  7E          	ld	a,(hl)
2494  0B21  B7          	or	a, a
2495  0B22  20 5A       	jr	NZ,l_player_move_input_00129
2496  0B24  01 00 00    	ld	bc,_spr_timer+0
2497  0B27  2A 00 00    	ld	hl,(_sprite)
2498  0B2A  26 00       	ld	h,0x00
2499  0B2C  29          	add	hl, hl
2500  0B2D  09          	add	hl, bc
2501  0B2E  AF          	xor	a, a
2502  0B2F  77          	ld	(hl), a
2503  0B30  23          	inc	hl
2504  0B31  77          	ld	(hl), a
2505  0B32  2A 00 00    	ld	hl,(_sprite)
2506  0B35  26 00       	ld	h,0x00
2507  0B37  01 00 00    	ld	bc,_colint
2508  0B3A  09          	add	hl,bc
2509  0B3B  AF          	xor	a,a
2510  0B3C  77          	ld	(hl),a
2511  0B3D  2A 00 00    	ld	hl,(_sprite)
2512  0B40  26 00       	ld	h,0x00
2513  0B42  01 00 00    	ld	bc,_tile
2514  0B45  09          	add	hl,bc
2515  0B46  4D          	ld	c,l
2516  0B47  44          	ld	b,h
2517  0B48  21 00 00    	ld	hl,_tile_offset
2518  0B4B  56          	ld	d, (hl)
2519  0B4C  14          	inc	d
2520  0B4D  14          	inc	d
2521  0B4E  14          	inc	d
2522  0B4F  C5          	push	bc
2523  0B50  3E 0C       	ld	a,0x0c
2524  0B52  F5          	push	af
2525  0B53  33          	inc	sp
2526  0B54  3A 00 00    	ld	a,(_sprite)
2527  0B57  5A          	ld	e,d
2528  0B58  57          	ld	d,a
2529  0B59  D5          	push	de
2530  0B5A  CD 00 00    	call	_spr_tile_dir
2531  0B5D  F1          	pop	af
2532  0B5E  33          	inc	sp
2533  0B5F  C1          	pop	bc
2534  0B60  7D          	ld	a,l
2535  0B61  02          	ld	(bc), a
2536  0B62  01 00 00    	ld	bc,_state+0
2537  0B65  79          	ld	a, c
2538  0B66  21 00 00    	ld	hl,_sprite
2539  0B69  86          	add	a, (hl)
2540  0B6A  5F          	ld	e, a
2541  0B6B  78          	ld	a, b
2542  0B6C  CE 00       	adc	a,0x00
2543  0B6E  57          	ld	d, a
2544  0B6F  1A          	ld	a, (de)
2545  0B70  E6 FB       	and	a,0xfb
2546  0B72  12          	ld	(de), a
2547  0B73  79          	ld	a, c
2548  0B74  86          	add	a, (hl)
2549  0B75  4F          	ld	c, a
2550  0B76  78          	ld	a, b
2551  0B77  CE 00       	adc	a,0x00
2552  0B79  47          	ld	b, a
2553  0B7A  0A          	ld	a, (bc)
2554  0B7B  E6 F7       	and	a,0xf7
2555  0B7D  02          	ld	(bc), a
2556  0B7E              l_player_move_input_00129:
2557  0B7E  2E 00       	ld	l,0x00
2558  0B80              l_player_move_input_00135:
2559  0B80  C9          	ret
2560  0B81              	SECTION code_compiler
2561  0B81              ;	---------------------------------
2562  0B81              ; Function player_move_horizontal
2563  0B81              ; ---------------------------------
2564  0B81              _player_move_horizontal:
2565  0B81  AF          	xor	a, a
2566  0B82  F5          	push	af
2567  0B83  33          	inc	sp
2568  0B84  2A FF FF    	ld	hl,(_sprite_other_player - 1)
2569  0B87  3A 00 00    	ld	a,(_sprite)
2570  0B8A  6F          	ld	l,a
2571  0B8B  E5          	push	hl
2572  0B8C  CD 00 00    	call	_spr_collision_check
2573  0B8F  F1          	pop	af
2574  0B90  33          	inc	sp
2575  0B91  7D          	ld	a, l
2576  0B92  B7          	or	a, a
2577  0B93  28 05       	jr	Z,l_player_move_horizontal_00102
2578  0B95  CD 9E 0B    	call	_player_push
2579  0B98  18 03       	jr	l_player_move_horizontal_00104
2580  0B9A              l_player_move_horizontal_00102:
2581  0B9A  CD 00 00    	call	_spr_move_horizontal
2582  0B9D              l_player_move_horizontal_00104:
2583  0B9D  C9          	ret
2584  0B9E              	SECTION code_compiler
2585  0B9E              ;	---------------------------------
2586  0B9E              ; Function player_push
2587  0B9E              ; ---------------------------------
2588  0B9E              _player_push:
2589  0B9E  3A 00 00    	ld	a,(_sprite)
2590  0BA1  32 00 00    	ld	(_tmp),a
2591  0BA4  3A 00 00    	ld	a,(_s_col0)
2592  0BA7  32 00 00    	ld	(_tmp0),a
2593  0BAA  2A 00 00    	ld	hl,(_sprite_other_player)
2594  0BAD  26 00       	ld	h,0x00
2595  0BAF  01 00 00    	ld	bc,_lin
2596  0BB2  09          	add	hl,bc
2597  0BB3  7E          	ld	a,(hl)
2598  0BB4  32 00 00    	ld	(_s_lin0),a
2599  0BB7  2A 00 00    	ld	hl,(_sprite_other_player)
2600  0BBA  26 00       	ld	h,0x00
2601  0BBC  01 00 00    	ld	bc,_col
2602  0BBF  09          	add	hl,bc
2603  0BC0  7E          	ld	a,(hl)
2604  0BC1  32 00 00    	ld	(_s_col0),a
2605  0BC4  01 00 00    	ld	bc,_spr_timer+0
2606  0BC7  2A 00 00    	ld	hl,(_sprite_other_player)
2607  0BCA  26 00       	ld	h,0x00
2608  0BCC  29          	add	hl, hl
2609  0BCD  09          	add	hl,bc
2610  0BCE  ED 5B 00 00 	ld	de,(_curr_time)
2611  0BD2  73          	ld	(hl),e
2612  0BD3  23          	inc	hl
2613  0BD4  72          	ld	(hl),d
2614  0BD5  2A 00 00    	ld	hl,(_sprite_other_player)
2615  0BD8  26 00       	ld	h,0x00
2616  0BDA  01 00 00    	ld	bc,_state_a
2617  0BDD  09          	add	hl,bc
2618  0BDE  7E          	ld	a,(hl)
2619  0BDF  F6 04       	or	a,0x04
2620  0BE1  77          	ld	(hl),a
2621  0BE2  3A 00 00    	ld	a,(_sprite_other_player)
2622  0BE5  32 00 00    	ld	(_sprite),a
2623  0BE8  2A 00 00    	ld	hl,(_tmp)
2624  0BEB  26 00       	ld	h,0x00
2625  0BED  01 00 00    	ld	bc,_state
2626  0BF0  09          	add	hl,bc
2627  0BF1  CB 56       	bit	2,(hl)
2628  0BF3  28 05       	jr	Z,l_player_push_00102
2629  0BF5  CD 00 00    	call	_spr_move_right
2630  0BF8  18 03       	jr	l_player_push_00103
2631  0BFA              l_player_push_00102:
2632  0BFA  CD 00 00    	call	_spr_move_left
2633  0BFD              l_player_push_00103:
2634  0BFD  CD 00 00    	call	_spr_redraw
2635  0C00  3A 00 00    	ld	a,(_tmp)
2636  0C03  32 00 00    	ld	(_sprite),a
2637  0C06  C6 00       	add	a,+((_lin) & 0xFF)
2638  0C08  4F          	ld	c,a
2639  0C09  3E 00       	ld	a,+((_lin) / 256)
2640  0C0B  CE 00       	adc	a,0x00
2641  0C0D  47          	ld	b,a
2642  0C0E  0A          	ld	a,(bc)
2643  0C0F  32 00 00    	ld	(_s_lin0),a
2644  0C12  3A 00 00    	ld	a,(_tmp0)
2645  0C15  32 00 00    	ld	(_s_col0),a
2646  0C18  C9          	ret
2647  0C19              	SECTION code_compiler
2648  0C19              ;	---------------------------------
2649  0C19              ; Function player_hit_brick
2650  0C19              ; ---------------------------------
2651  0C19              _player_hit_brick:
2652  0C19  2A 00 00    	ld	hl,(_index_player)
2653  0C1C  26 00       	ld	h,0x00
2654  0C1E  01 00 00    	ld	bc,_hit_lin
2655  0C21  09          	add	hl,bc
2656  0C22  7E          	ld	a,(hl)
2657  0C23  B7          	or	a, a
2658  0C24  C2 EE 0D    	jp	NZ, l_player_hit_brick_00112
2659  0C27  2A 00 00    	ld	hl,(_sprite)
2660  0C2A  26 00       	ld	h,0x00
2661  0C2C  01 00 00    	ld	bc,_lin
2662  0C2F  09          	add	hl,bc
2663  0C30  5E          	ld	e,(hl)
2664  0C31  3E 10       	ld	a,0x10
2665  0C33  93          	sub	a,e
2666  0C34  D2 EE 0D    	jp	NC,l_player_hit_brick_00112
2667  0C37  4D          	ld	c,l
2668  0C38  44          	ld	b,h
2669  0C39  21 00 00    	ld	hl,_enemies
2670  0C3C  36 00       	ld	(hl),0x00
2671  0C3E              l_player_hit_brick_00114:
2672  0C3E  2A 00 00    	ld	hl,(_enemies)
2673  0C41  26 00       	ld	h,0x00
2674  0C43  11 00 00    	ld	de,_class
2675  0C46  19          	add	hl,de
2676  0C47  7E          	ld	a,(hl)
2677  0C48  B7          	or	a,a
2678  0C49  28 5C       	jr	Z,l_player_hit_brick_00115
2679  0C4B  0A          	ld	a,(bc)
2680  0C4C  4F          	ld	c,a
2681  0C4D  06 00       	ld	b,0x00
2682  0C4F  2A 00 00    	ld	hl,(_enemies)
2683  0C52  60          	ld	h,b
2684  0C53  11 00 00    	ld	de,_lin
2685  0C56  19          	add	hl,de
2686  0C57  5E          	ld	e, (hl)
2687  0C58  16 00       	ld	d,0x00
2688  0C5A  79          	ld	a,c
2689  0C5B  93          	sub	a,e
2690  0C5C  4F          	ld	c,a
2691  0C5D  78          	ld	a,b
2692  0C5E  9A          	sbc	a,d
2693  0C5F  47          	ld	b,a
2694  0C60  79          	ld	a,c
2695  0C61  D6 18       	sub	a,0x18
2696  0C63  B0          	or	a,b
2697  0C64  20 41       	jr	NZ,l_player_hit_brick_00115
2698  0C66  2A 00 00    	ld	hl,(_enemies)
2699  0C69  26 00       	ld	h,0x00
2700  0C6B  01 00 00    	ld	bc,_state
2701  0C6E  09          	add	hl,bc
2702  0C6F  CB 6E       	bit	5,(hl)
2703  0C71  20 34       	jr	NZ,l_player_hit_brick_00115
2704  0C73  2A 00 00    	ld	hl,(_sprite)
2705  0C76  26 00       	ld	h,0x00
2706  0C78  01 00 00    	ld	bc,_col
2707  0C7B  09          	add	hl,bc
2708  0C7C  4E          	ld	c,(hl)
2709  0C7D  06 00       	ld	b,0x00
2710  0C7F  2A 00 00    	ld	hl,(_enemies)
2711  0C82  60          	ld	h,b
2712  0C83  11 00 00    	ld	de,_col
2713  0C86  19          	add	hl,de
2714  0C87  5E          	ld	e, (hl)
2715  0C88  16 00       	ld	d,0x00
2716  0C8A  79          	ld	a, c
2717  0C8B  93          	sub	a, e
2718  0C8C  6F          	ld	l, a
2719  0C8D  78          	ld	a, b
2720  0C8E  9A          	sbc	a, d
2721  0C8F  67          	ld	h, a
2722  0C90  CD 00 00    	call	_abs_fastcall
2723  0C93  3E 02       	ld	a,0x02
2724  0C95  BD          	cp	a,l
2725  0C96  3E 00       	ld	a,0x00
2726  0C98  9C          	sbc	a,h
2727  0C99  E2 9E 0C    	jp	PO, l_player_hit_brick_00166
2728  0C9C  EE 80       	xor	a,0x80
2729  0C9E              l_player_hit_brick_00166:
2730  0C9E  FA A7 0C    	jp	M, l_player_hit_brick_00115
2731  0CA1  CD 00 00    	call	_enemy_hit
2732  0CA4  CD 00 00    	call	_sound_hit_enemy
2733  0CA7              l_player_hit_brick_00115:
2734  0CA7  21 00 00    	ld	hl,_enemies
2735  0CAA  34          	inc	(hl)
2736  0CAB  2A 00 00    	ld	hl,(_sprite)
2737  0CAE  26 00       	ld	h,0x00
2738  0CB0  01 00 00    	ld	bc,_lin
2739  0CB3  09          	add	hl,bc
2740  0CB4  3A 00 00    	ld	a,(_enemies)
2741  0CB7  D6 06       	sub	a,0x06
2742  0CB9  4D          	ld	c,l
2743  0CBA  44          	ld	b,h
2744  0CBB  DA 3E 0C    	jp	C, l_player_hit_brick_00114
2745  0CBE  2A 00 00    	ld	hl,(_sprite_other_player)
2746  0CC1  26 00       	ld	h,0x00
2747  0CC3  11 00 00    	ld	de,_lin
2748  0CC6  19          	add	hl,de
2749  0CC7  7E          	ld	a,(hl)
2750  0CC8  5F          	ld	e,a
2751  0CC9  B7          	or	a, a
2752  0CCA  CA 8D 0D    	jp	Z, l_player_hit_brick_00108
2753  0CCD  0A          	ld	a, (bc)
2754  0CCE  6F          	ld	l, a
2755  0CCF  AF          	xor	a,a
2756  0CD0  67          	ld	h,a
2757  0CD1  57          	ld	d,a
2758  0CD2  ED 52       	sbc	hl,de
2759  0CD4  7D          	ld	a, l
2760  0CD5  D6 18       	sub	a,0x18
2761  0CD7  B4          	or	a, h
2762  0CD8  C2 8D 0D    	jp	NZ,l_player_hit_brick_00108
2763  0CDB  2A 00 00    	ld	hl,(_sprite)
2764  0CDE  26 00       	ld	h,0x00
2765  0CE0  01 00 00    	ld	bc,_col
2766  0CE3  09          	add	hl,bc
2767  0CE4  4E          	ld	c,(hl)
2768  0CE5  06 00       	ld	b,0x00
2769  0CE7  2A 00 00    	ld	hl,(_sprite_other_player)
2770  0CEA  60          	ld	h,b
2771  0CEB  11 00 00    	ld	de,_col
2772  0CEE  19          	add	hl,de
2773  0CEF  5E          	ld	e, (hl)
2774  0CF0  16 00       	ld	d,0x00
2775  0CF2  79          	ld	a, c
2776  0CF3  93          	sub	a, e
2777  0CF4  6F          	ld	l, a
2778  0CF5  78          	ld	a, b
2779  0CF6  9A          	sbc	a, d
2780  0CF7  67          	ld	h, a
2781  0CF8  CD 00 00    	call	_abs_fastcall
2782  0CFB  3E 02       	ld	a,0x02
2783  0CFD  BD          	cp	a,l
2784  0CFE  3E 00       	ld	a,0x00
2785  0D00  9C          	sbc	a,h
2786  0D01  E2 06 0D    	jp	PO, l_player_hit_brick_00169
2787  0D04  EE 80       	xor	a,0x80
2788  0D06              l_player_hit_brick_00169:
2789  0D06  FA 8D 0D    	jp	M, l_player_hit_brick_00108
2790  0D09  2A 00 00    	ld	hl,(_sprite_other_player)
2791  0D0C  26 00       	ld	h,0x00
2792  0D0E  01 00 00    	ld	bc,_col
2793  0D11  09          	add	hl,bc
2794  0D12  56          	ld	d, (hl)
2795  0D13  2A 00 00    	ld	hl,(_sprite_other_player)
2796  0D16  26 00       	ld	h,0x00
2797  0D18  01 00 00    	ld	bc,_lin
2798  0D1B  09          	add	hl,bc
2799  0D1C  5E          	ld	e, (hl)
2800  0D1D  D5          	push	de
2801  0D1E  AF          	xor	a, a
2802  0D1F  F5          	push	af
2803  0D20  33          	inc	sp
2804  0D21  CD 00 00    	call	_NIRVANAP_fillT_callee
2805  0D24  2A 00 00    	ld	hl,(_sprite_other_player)
2806  0D27  26 00       	ld	h,0x00
2807  0D29  01 00 00    	ld	bc,_lin
2808  0D2C  09          	add	hl,bc
2809  0D2D  7E          	ld	a,(hl)
2810  0D2E  C6 FC       	add	a,0xfc
2811  0D30  77          	ld	(hl),a
2812  0D31  2A 00 00    	ld	hl,(_sprite_other_player)
2813  0D34  26 00       	ld	h,0x00
2814  0D36  01 00 00    	ld	bc,_col
2815  0D39  09          	add	hl,bc
2816  0D3A  56          	ld	d, (hl)
2817  0D3B  2A 00 00    	ld	hl,(_sprite_other_player)
2818  0D3E  26 00       	ld	h,0x00
2819  0D40  01 00 00    	ld	bc,_lin
2820  0D43  09          	add	hl,bc
2821  0D44  5E          	ld	e, (hl)
2822  0D45  2A 00 00    	ld	hl,(_sprite_other_player)
2823  0D48  26 00       	ld	h,0x00
2824  0D4A  01 00 00    	ld	bc,_tile
2825  0D4D  09          	add	hl,bc
2826  0D4E  46          	ld	b, (hl)
2827  0D4F  21 00 00    	ld	hl,_sprite_other_player
2828  0D52  4E          	ld	c,(hl)
2829  0D53  D5          	push	de
2830  0D54  C5          	push	bc
2831  0D55  CD 00 00    	call	_NIRVANAP_spriteT_callee
2832  0D58  76          	halt
2833  0D59  2A 00 00    	ld	hl,(_sprite_other_player)
2834  0D5C  26 00       	ld	h,0x00
2835  0D5E  01 00 00    	ld	bc,_state
2836  0D61  09          	add	hl,bc
2837  0D62  7E          	ld	a,(hl)
2838  0D63  E6 FD       	and	a,0xfd
2839  0D65  77          	ld	(hl),a
2840  0D66  2A 00 00    	ld	hl,(_sprite_other_player)
2841  0D69  26 00       	ld	h,0x00
2842  0D6B  01 00 00    	ld	bc,_state
2843  0D6E  09          	add	hl,bc
2844  0D6F  7E          	ld	a,(hl)
2845  0D70  F6 01       	or	a,0x01
2846  0D72  77          	ld	(hl),a
2847  0D73  2A 00 00    	ld	hl,(_sprite_other_player)
2848  0D76  26 00       	ld	h,0x00
2849  0D78  01 00 00    	ld	bc,_jump_lin
2850  0D7B  09          	add	hl,bc
2851  0D7C  3A 00 00    	ld	a,(_sprite_other_player)
2852  0D7F  5F          	ld	e,a
2853  0D80  16 00       	ld	d,0x00
2854  0D82  4D          	ld	c,l
2855  0D83  44          	ld	b,h
2856  0D84  21 00 00    	ld	hl,_lin
2857  0D87  19          	add	hl,de
2858  0D88  7E          	ld	a,(hl)
2859  0D89  C6 14       	add	a,0x14
2860  0D8B  02          	ld	(bc), a
2861  0D8C  76          	halt
2862  0D8D              l_player_hit_brick_00108:
2863  0D8D  2A 00 00    	ld	hl,(_sprite)
2864  0D90  26 00       	ld	h,0x00
2865  0D92  01 00 00    	ld	bc,_state_a
2866  0D95  09          	add	hl,bc
2867  0D96  7E          	ld	a,(hl)
2868  0D97  F6 80       	or	a,0x80
2869  0D99  77          	ld	(hl),a
2870  0D9A  2A 00 00    	ld	hl,(_index_player)
2871  0D9D  26 00       	ld	h,0x00
2872  0D9F  01 00 00    	ld	bc,_player_jump_c
2873  0DA2  09          	add	hl,bc
2874  0DA3  36 04       	ld	(hl),0x04
2875  0DA5  01 00 00    	ld	bc,_spr_timer+0
2876  0DA8  2A 00 00    	ld	hl,(_sprite)
2877  0DAB  26 00       	ld	h,0x00
2878  0DAD  29          	add	hl, hl
2879  0DAE  09          	add	hl,bc
2880  0DAF  ED 5B 00 00 	ld	de,(_curr_time)
2881  0DB3  73          	ld	(hl),e
2882  0DB4  23          	inc	hl
2883  0DB5  72          	ld	(hl),d
2884  0DB6  2A 00 00    	ld	hl,(_index_player)
2885  0DB9  26 00       	ld	h,0x00
2886  0DBB  01 00 00    	ld	bc,_hit_lin
2887  0DBE  09          	add	hl,bc
2888  0DBF  4D          	ld	c,l
2889  0DC0  44          	ld	b,h
2890  0DC1  2A 00 00    	ld	hl,(_sprite)
2891  0DC4  26 00       	ld	h,0x00
2892  0DC6  11 00 00    	ld	de,_lin
2893  0DC9  19          	add	hl,de
2894  0DCA  7E          	ld	a,(hl)
2895  0DCB  02          	ld	(bc), a
2896  0DCC  2A 00 00    	ld	hl,(_index_player)
2897  0DCF  26 00       	ld	h,0x00
2898  0DD1  01 00 00    	ld	bc,_hit_col
2899  0DD4  09          	add	hl,bc
2900  0DD5  4D          	ld	c,l
2901  0DD6  44          	ld	b,h
2902  0DD7  2A 00 00    	ld	hl,(_sprite)
2903  0DDA  26 00       	ld	h,0x00
2904  0DDC  11 00 00    	ld	de,_col
2905  0DDF  19          	add	hl,de
2906  0DE0  7E          	ld	a,(hl)
2907  0DE1  02          	ld	(bc), a
2908  0DE2  2E 01       	ld	l,0x01
2909  0DE4  CD 00 00    	call	_spr_brick_anim
2910  0DE7  CD 00 00    	call	_sound_hit_brick
2911  0DEA  2E 01       	ld	l,0x01
2912  0DEC  18 02       	jr	l_player_hit_brick_00116
2913  0DEE              l_player_hit_brick_00112:
2914  0DEE  2E 00       	ld	l,0x00
2915  0DF0              l_player_hit_brick_00116:
2916  0DF0  C9          	ret
2917  0DF1              	SECTION code_compiler
2918  0DF1              ;	---------------------------------
2919  0DF1              ; Function player_hit_brick_clear
2920  0DF1              ; ---------------------------------
2921  0DF1              _player_hit_brick_clear:
2922  0DF1  2A 00 00    	ld	hl,(_index_player)
2923  0DF4  26 00       	ld	h,0x00
2924  0DF6  01 00 00    	ld	bc,_hit_lin
2925  0DF9  09          	add	hl,bc
2926  0DFA  7E          	ld	a,(hl)
2927  0DFB  4F          	ld	c,a
2928  0DFC  B7          	or	a,a
2929  0DFD  C8          	ret	Z
2930  0DFE  3A 00 00    	ld	a,(_index_player)
2931  0E01  5F          	ld	e,a
2932  0E02  16 00       	ld	d,0x00
2933  0E04  21 00 00    	ld	hl,_hit_col
2934  0E07  19          	add	hl,de
2935  0E08  56          	ld	d, (hl)
2936  0E09  79          	ld	a, c
2937  0E0A  C6 F8       	add	a,0xf8
2938  0E0C  5F          	ld	e, a
2939  0E0D  D5          	push	de
2940  0E0E  CD 00 00    	call	_game_calc_index
2941  0E11  F1          	pop	af
2942  0E12  22 00 00    	ld	(_index1),hl
2943  0E15  2E 00       	ld	l,0x00
2944  0E17  CD 00 00    	call	_spr_brick_anim
2945  0E1A  2A 00 00    	ld	hl,(_index_player)
2946  0E1D  26 00       	ld	h,0x00
2947  0E1F  01 00 00    	ld	bc,_hit_lin
2948  0E22  09          	add	hl,bc
2949  0E23  AF          	xor	a,a
2950  0E24  77          	ld	(hl),a
2951  0E25  2A 00 00    	ld	hl,(_index_player)
2952  0E28  26 00       	ld	h,0x00
2953  0E2A  01 00 00    	ld	bc,_hit_col
2954  0E2D  09          	add	hl,bc
2955  0E2E  AF          	xor	a,a
2956  0E2F  77          	ld	(hl),a
2957  0E30  C9          	ret
2958  0E31              	SECTION code_compiler
2959  0E31              ;	---------------------------------
2960  0E31              ; Function player_hit_pow
2961  0E31              ; ---------------------------------
2962  0E31              _player_hit_pow:
2963  0E31  AF          	xor	a, a
2964  0E32  21 00 00    	ld	hl,_index1
2965  0E35  BE          	cp	a, (hl)
2966  0E36  3E 02       	ld	a,0x02
2967  0E38  23          	inc	hl
2968  0E39  9E          	sbc	a, (hl)
2969  0E3A  30 0F       	jr	NC,l_player_hit_pow_00102
2970  0E3C  3E 40       	ld	a,0x40
2971  0E3E  2B          	dec	hl
2972  0E3F  BE          	cp	a, (hl)
2973  0E40  3E 02       	ld	a,0x02
2974  0E42  23          	inc	hl
2975  0E43  9E          	sbc	a, (hl)
2976  0E44  30 05       	jr	NC,l_player_hit_pow_00102
2977  0E46  2E 00       	ld	l,0x00
2978  0E48  C3 02 0F    	jp	l_player_hit_pow_00115
2979  0E4B              l_player_hit_pow_00102:
2980  0E4B  3A 00 00    	ld	a,(_game_pow)
2981  0E4E  B7          	or	a, a
2982  0E4F  CA 00 0F    	jp	Z, l_player_hit_pow_00110
2983  0E52  2A 00 00    	ld	hl,(_index1)
2984  0E55  01 00 00    	ld	bc,_lvl_1
2985  0E58  09          	add	hl,bc
2986  0E59  7E          	ld	a,(hl)
2987  0E5A  D6 8C       	sub	a,0x8c
2988  0E5C  28 0F       	jr	Z,l_player_hit_pow_00109
2989  0E5E  ED 4B 00 00 	ld	bc,(_index1)
2990  0E62  03          	inc	bc
2991  0E63  21 00 00    	ld	hl,_lvl_1
2992  0E66  09          	add	hl, bc
2993  0E67  7E          	ld	a, (hl)
2994  0E68  D6 8C       	sub	a,0x8c
2995  0E6A  C2 00 0F    	jp	NZ,l_player_hit_pow_00110
2996  0E6D              l_player_hit_pow_00109:
2997  0E6D  21 00 00    	ld	hl,_game_pow
2998  0E70  35          	dec	(hl)
2999  0E71  21 00 00    	ld	hl,_enemies
3000  0E74  36 00       	ld	(hl),0x00
3001  0E76              l_player_hit_pow_00113:
3002  0E76  2A 00 00    	ld	hl,(_enemies)
3003  0E79  26 00       	ld	h,0x00
3004  0E7B  5D          	ld	e,l
3005  0E7C  01 00 00    	ld	bc,_col
3006  0E7F  09          	add	hl,bc
3007  0E80  46          	ld	b,(hl)
3008  0E81  16 00       	ld	d,0x00
3009  0E83  21 00 00    	ld	hl,_lin
3010  0E86  19          	add	hl,de
3011  0E87  7E          	ld	a,(hl)
3012  0E88  C6 10       	add	a,0x10
3013  0E8A  4F          	ld	c,a
3014  0E8B  C5          	push	bc
3015  0E8C  CD 00 00    	call	_game_calc_index
3016  0E8F  F1          	pop	af
3017  0E90  CD 00 00    	call	_game_check_maze
3018  0E93  7D          	ld	a, l
3019  0E94  B7          	or	a, a
3020  0E95  20 03       	jr	NZ,l_player_hit_pow_00105
3021  0E97  CD 00 00    	call	_enemy_hit
3022  0E9A              l_player_hit_pow_00105:
3023  0E9A  2E 07       	ld	l,0x07
3024  0E9C  CD 00 00    	call	_zx_border_fastcall
3025  0E9F  21 05 00    	ld	hl,0x0005
3026  0EA2  CD 00 00    	call	_z80_delay_ms_fastcall
3027  0EA5  2E 01       	ld	l,0x01
3028  0EA7  CD 00 00    	call	_zx_border_fastcall
3029  0EAA  21 05 00    	ld	hl,0x0005
3030  0EAD  CD 00 00    	call	_z80_delay_ms_fastcall
3031  0EB0  21 00 00    	ld	hl,_enemies
3032  0EB3  7E          	ld	a,(hl)
3033  0EB4  3C          	inc	a
3034  0EB5  77          	ld	(hl),a
3035  0EB6  D6 06       	sub	a,0x06
3036  0EB8  38 BC       	jr	C,l_player_hit_pow_00113
3037  0EBA  21 00 00    	ld	hl,_ay_effect_06
3038  0EBD  CD 00 00    	call	_ay_fx_play
3039  0EC0  CD 00 00    	call	_sound_hit_pow
3040  0EC3  CD 00 00    	call	_spr_draw_pow
3041  0EC6  3A 00 00    	ld	a,(_game_pow)
3042  0EC9  B7          	or	a, a
3043  0ECA  20 13       	jr	NZ,l_player_hit_pow_00108
3044  0ECC  21 80 0F    	ld	hl,0x0f80
3045  0ECF  E5          	push	hl
3046  0ED0  AF          	xor	a, a
3047  0ED1  F5          	push	af
3048  0ED2  33          	inc	sp
3049  0ED3  CD 00 00    	call	_NIRVANAP_fillT_callee
3050  0ED6  21 A9 A9    	ld	hl,0xa9a9
3051  0ED9  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3052  0EDC  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3053  0EDF              l_player_hit_pow_00108:
3054  0EDF  2E 00       	ld	l,0x00
3055  0EE1  CD 00 00    	call	_zx_border_fastcall
3056  0EE4  2A 00 00    	ld	hl,(_sprite)
3057  0EE7  26 00       	ld	h,0x00
3058  0EE9  01 00 00    	ld	bc,_state_a
3059  0EEC  09          	add	hl,bc
3060  0EED  7E          	ld	a,(hl)
3061  0EEE  F6 80       	or	a,0x80
3062  0EF0  77          	ld	(hl),a
3063  0EF1  2A 00 00    	ld	hl,(_index_player)
3064  0EF4  26 00       	ld	h,0x00
3065  0EF6  01 00 00    	ld	bc,_player_jump_c
3066  0EF9  09          	add	hl,bc
3067  0EFA  36 06       	ld	(hl),0x06
3068  0EFC  2E 01       	ld	l,0x01
3069  0EFE  18 02       	jr	l_player_hit_pow_00115
3070  0F00              l_player_hit_pow_00110:
3071  0F00  2E 00       	ld	l,0x00
3072  0F02              l_player_hit_pow_00115:
3073  0F02  C9          	ret
3074  0F03              	SECTION code_compiler
3075  0F03              ;	---------------------------------
3076  0F03              ; Function player_coin
3077  0F03              ; ---------------------------------
3078  0F03              _player_coin:
3079  0F03  CD 00 00    	call	___sdcc_enter_ix
3080  0F06  3E 00       	ld	a, +((_class) & 0xFF)
3081  0F08  DD 86 04    	add	a,(ix+4)
3082  0F0B  4F          	ld	c, a
3083  0F0C  3E 00       	ld	a, +((_class) / 256)
3084  0F0E  CE 00       	adc	a,0x00
3085  0F10  47          	ld	b, a
3086  0F11  0A          	ld	a, (bc)
3087  0F12  D6 07       	sub	a,0x07
3088  0F14  20 16       	jr	NZ,l_player_coin_00102
3089  0F16  21 00 00    	ld	hl,_ay_effect_12
3090  0F19  CD 00 00    	call	_ay_fx_play
3091  0F1C  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
3092  0F1E  DD 86 04    	add	a,(ix+4)
3093  0F21  4F          	ld	c, a
3094  0F22  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
3095  0F24  CE 00       	adc	a,0x00
3096  0F26  47          	ld	b, a
3097  0F27  3E 03       	ld	a,0x03
3098  0F29  02          	ld	(bc), a
3099  0F2A  18 17       	jr	l_player_coin_00103
3100  0F2C              l_player_coin_00102:
3101  0F2C  21 00 00    	ld	hl,_ay_effect_10
3102  0F2F  CD 00 00    	call	_ay_fx_play
3103  0F32  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
3104  0F34  DD 86 04    	add	a,(ix+4)
3105  0F37  4F          	ld	c, a
3106  0F38  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
3107  0F3A  CE 00       	adc	a,0x00
3108  0F3C  47          	ld	b, a
3109  0F3D  3E 08       	ld	a,0x08
3110  0F3F  02          	ld	(bc), a
3111  0F40  CD 00 00    	call	_sound_coin
3112  0F43              l_player_coin_00103:
3113  0F43  3E 00       	ld	a, +((_state) & 0xFF)
3114  0F45  DD 86 04    	add	a,(ix+4)
3115  0F48  4F          	ld	c, a
3116  0F49  3E 00       	ld	a, +((_state) / 256)
3117  0F4B  CE 00       	adc	a,0x00
3118  0F4D  47          	ld	b, a
3119  0F4E  0A          	ld	a, (bc)
3120  0F4F  E6 FE       	and	a,0xfe
3121  0F51  F6 20       	or	a,0x20
3122  0F53  02          	ld	(bc),a
3123  0F54  01 00 00    	ld	bc,_spr_timer+0
3124  0F57  DD 6E 04    	ld	l,(ix+4)
3125  0F5A  26 00       	ld	h,0x00
3126  0F5C  29          	add	hl, hl
3127  0F5D  09          	add	hl,bc
3128  0F5E  ED 5B 00 00 	ld	de,(_curr_time)
3129  0F62  73          	ld	(hl),e
3130  0F63  23          	inc	hl
3131  0F64  72          	ld	(hl),d
3132  0F65  3A 00 00    	ld	a,(_game_bonus)
3133  0F68  B7          	or	a, a
3134  0F69  28 1B       	jr	Z,l_player_coin_00107
3135  0F6B  2A 00 00    	ld	hl,(_index_player)
3136  0F6E  26 00       	ld	h,0x00
3137  0F70  01 00 00    	ld	bc,_phase_bonus_total
3138  0F73  09          	add	hl,bc
3139  0F74  7E          	ld	a,(hl)
3140  0F75  3C          	inc	a
3141  0F76  77          	ld	(hl),a
3142  0F77  4D          	ld	c,l
3143  0F78  44          	ld	b,h
3144  0F79  21 00 00    	ld	hl,_phase_left
3145  0F7C  35          	dec (hl)
3146  0F7D  20 0F       	jr	NZ,l_player_coin_00109
3147  0F7F  21 00 00    	ld	hl,_phase_end
3148  0F82  36 01       	ld	(hl),0x01
3149  0F84  18 08       	jr	l_player_coin_00109
3150  0F86              l_player_coin_00107:
3151  0F86  DD 6E 05    	ld	l,(ix+5)
3152  0F89  26 00       	ld	h,0x00
3153  0F8B  CD 91 0F    	call	_player_score_add
3154  0F8E              l_player_coin_00109:
3155  0F8E  DD E1       	pop	ix
3156  0F90  C9          	ret
3157  0F91              	SECTION code_compiler
3158  0F91              ;	---------------------------------
3159  0F91              ; Function player_score_add
3160  0F91              ; ---------------------------------
3161  0F91              _player_score_add:
3162  0F91  4D          	ld	c, l
3163  0F92  44          	ld	b, h
3164  0F93  2A 00 00    	ld	hl,(_index_player)
3165  0F96  26 00       	ld	h,0x00
3166  0F98  29          	add	hl, hl
3167  0F99  11 00 00    	ld	de,_player_score
3168  0F9C  19          	add	hl, de
3169  0F9D  5E          	ld	e,(hl)
3170  0F9E  23          	inc	hl
3171  0F9F  56          	ld	d,(hl)
3172  0FA0  2B          	dec	hl
3173  0FA1  7B          	ld	a, e
3174  0FA2  81          	add	a, c
3175  0FA3  4F          	ld	c, a
3176  0FA4  7A          	ld	a, d
3177  0FA5  88          	adc	a, b
3178  0FA6  47          	ld	b, a
3179  0FA7  71          	ld	(hl), c
3180  0FA8  23          	inc	hl
3181  0FA9  70          	ld	(hl), b
3182  0FAA  2A 00 00    	ld	hl,(_index_player)
3183  0FAD  26 00       	ld	h,0x00
3184  0FAF  29          	add	hl,hl
3185  0FB0  4D          	ld	c,l
3186  0FB1  44          	ld	b,h
3187  0FB2  21 00 00    	ld	hl,_player_score
3188  0FB5  09          	add	hl, bc
3189  0FB6  5E          	ld	e, (hl)
3190  0FB7  23          	inc	hl
3191  0FB8  56          	ld	d, (hl)
3192  0FB9  21 00 00    	ld	hl,_game_score_top
3193  0FBC  7E          	ld	a, (hl)
3194  0FBD  93          	sub	a, e
3195  0FBE  23          	inc	hl
3196  0FBF  7E          	ld	a, (hl)
3197  0FC0  9A          	sbc	a, d
3198  0FC1  30 04       	jr	NC,l_player_score_add_00102
3199  0FC3  2B          	dec	hl
3200  0FC4  73          	ld	(hl), e
3201  0FC5  23          	inc	hl
3202  0FC6  72          	ld	(hl), d
3203  0FC7              l_player_score_add_00102:
3204  0FC7  21 00 00    	ld	hl,_player_next_extra
3205  0FCA  09          	add	hl, bc
3206  0FCB  4E          	ld	c,(hl)
3207  0FCC  23          	inc	hl
3208  0FCD  46          	ld	b,(hl)
3209  0FCE  2B          	dec	hl
3210  0FCF  79          	ld	a, c
3211  0FD0  93          	sub	a, e
3212  0FD1  78          	ld	a, b
3213  0FD2  9A          	sbc	a, d
3214  0FD3  30 76       	jr	NC,l_player_score_add_00113
3215  0FD5  79          	ld	a,c
3216  0FD6  C6 D0       	add	a,0xd0
3217  0FD8  77          	ld	(hl),a
3218  0FD9  78          	ld	a,b
3219  0FDA  CE 07       	adc	a,0x07
3220  0FDC  23          	inc	hl
3221  0FDD  77          	ld	(hl),a
3222  0FDE  2A 00 00    	ld	hl,(_index_player)
3223  0FE1  26 00       	ld	h,0x00
3224  0FE3  01 00 00    	ld	bc,_game_lives
3225  0FE6  09          	add	hl,bc
3226  0FE7  34          	inc	(hl)
3227  0FE8  21 00 00    	ld	hl,_hit_count
3228  0FEB  36 10       	ld	(hl),0x10
3229  0FED  3A 00 00    	ld	a,(_game_bonus)
3230  0FF0  B7          	or	a, a
3231  0FF1  20 03       	jr	NZ,l_player_score_add_00104
3232  0FF3  CD 00 00    	call	_game_print_lives
3233  0FF6              l_player_score_add_00104:
3234  0FF6  21 00 00    	ld	hl,_tmp0
3235  0FF9  36 00       	ld	(hl),0x00
3236  0FFB              l_player_score_add_00114:
3237  0FFB  3A 00 00    	ld	a,(_index_player)
3238  0FFE  B7          	or	a, a
3239  0FFF  20 07       	jr	NZ,l_player_score_add_00106
3240  1001  2E 01       	ld	l,0x01
3241  1003  CD 00 00    	call	_zx_border_fastcall
3242  1006  18 05       	jr	l_player_score_add_00107
3243  1008              l_player_score_add_00106:
3244  1008  2E 07       	ld	l,0x07
3245  100A  CD 00 00    	call	_zx_border_fastcall
3246  100D              l_player_score_add_00107:
3247  100D  21 05 00    	ld	hl,0x0005
3248  1010  CD 00 00    	call	_z80_delay_ms_fastcall
3249  1013  3A 00 00    	ld	a,(_index_player)
3250  1016  B7          	or	a, a
3251  1017  20 07       	jr	NZ,l_player_score_add_00109
3252  1019  2E 02       	ld	l,0x02
3253  101B  CD 00 00    	call	_zx_border_fastcall
3254  101E  18 05       	jr	l_player_score_add_00110
3255  1020              l_player_score_add_00109:
3256  1020  2E 04       	ld	l,0x04
3257  1022  CD 00 00    	call	_zx_border_fastcall
3258  1025              l_player_score_add_00110:
3259  1025  21 05 00    	ld	hl,0x0005
3260  1028  CD 00 00    	call	_z80_delay_ms_fastcall
3261  102B  21 00 00    	ld	hl,_tmp0
3262  102E  7E          	ld	a,(hl)
3263  102F  3C          	inc	a
3264  1030  77          	ld	(hl),a
3265  1031  D6 06       	sub	a,0x06
3266  1033  38 C6       	jr	C,l_player_score_add_00114
3267  1035  CD 00 00    	call	_sound_coin
3268  1038  CD 00 00    	call	_sound_coin
3269  103B  CD 00 00    	call	_sound_coin
3270  103E  CD 00 00    	call	_sound_coin
3271  1041  2E 00       	ld	l,0x00
3272  1043  CD 00 00    	call	_zx_border_fastcall
3273  1046  21 00 00    	ld	hl,_hit_count
3274  1049  36 08       	ld	(hl),0x08
3275  104B              l_player_score_add_00113:
3276  104B  C3 00 00    	jp  _game_print_score
3277  104E              	SECTION code_compiler
3278  104E              ;	---------------------------------
3279  104E              ; Function player_set
3280  104E              ; ---------------------------------
3281  104E              _player_set:
3282  104E  CD 00 00    	call	___sdcc_enter_ix
3283  1051  DD 7E 04    	ld	a,(ix+4)
3284  1054  32 00 00    	ld	(_sprite),a
3285  1057  DD 7E 05    	ld	a,(ix+5)
3286  105A  32 00 00    	ld	(_sprite_other_player),a
3287  105D  DD 7E 06    	ld	a,(ix+6)
3288  1060  32 00 00    	ld	(_index_player),a
3289  1063  DD 7E 07    	ld	a,(ix+7)
3290  1066  32 00 00    	ld	(_tile_offset),a
3291  1069  DD 7E 08    	ld	a,(ix+8)
3292  106C  32 00 00    	ld	(_tile_offset_other_player),a
3293  106F  DD E1       	pop	ix
3294  1071  C9          	ret
3295  1072              	SECTION IGNORE
3296  0000              
