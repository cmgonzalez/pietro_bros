1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _player_init
181   0000              	GLOBAL _player_calc_slide
182   0000              	GLOBAL _player_check_input
183   0000              	GLOBAL _player_collition
184   0000              	GLOBAL _player_collition_check
185   0000              	GLOBAL _player_kill
186   0000              	GLOBAL _player_restart
187   0000              	GLOBAL _player_lost_life
188   0000              	GLOBAL _player_turn
189   0000              	GLOBAL _player_move
190   0000              	GLOBAL _player_move_input
191   0000              	GLOBAL _player_move_horizontal
192   0000              	GLOBAL _player_push_check
193   0000              	GLOBAL _player_push
194   0000              	GLOBAL _player_hit_brick
195   0000              	GLOBAL _player_hit_brick_clear
196   0000              	GLOBAL _player_hit_pow
197   0000              	GLOBAL _player_coin
198   0000              	GLOBAL _player_score_add
199   0000              	GLOBAL _player_set1
200   0000              	GLOBAL _player_set2
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _sound_hit_pow
246   0000              	GLOBAL _sound_hit_brick
247   0000              	GLOBAL _sound_hit_enemy
248   0000              	GLOBAL _sound_kill
249   0000              	GLOBAL _sound_enter_enemy
250   0000              	GLOBAL _sound_coin
251   0000              	GLOBAL _sound_jump
252   0000              	GLOBAL _sound_slide
253   0000              	GLOBAL _spr_draw_clear
254   0000              	GLOBAL _spr_water_splash_draw
255   0000              	GLOBAL _spr_water_splash_clear
256   0000              	GLOBAL _spr_draw_back
257   0000              	GLOBAL _spr_cortina_pipes
258   0000              	GLOBAL _spr_cortina_brick
259   0000              	GLOBAL _spr_brick_anim
260   0000              	GLOBAL _spr_back_fix4
261   0000              	GLOBAL _spr_back_fix3
262   0000              	GLOBAL _spr_back_fix2
263   0000              	GLOBAL _spr_back_fix1
264   0000              	GLOBAL _spr_back_fix
265   0000              	GLOBAL _spr_back_clr
266   0000              	GLOBAL _spr_draw_pow
267   0000              	GLOBAL _spr_tile
268   0000              	GLOBAL _spr_set_fall
269   0000              	GLOBAL _spr_destroy
270   0000              	GLOBAL _spr_check_over
271   0000              	GLOBAL _spr_tile_dir
272   0000              	GLOBAL _spr_anim_kill
273   0000              	GLOBAL _spr_anim_fall
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_chktime
282   0000              	GLOBAL _game_joystick_set_menu
283   0000              	GLOBAL _game_joystick_set
284   0000              	GLOBAL _game_joystick_change
285   0000              	GLOBAL _game_hall_print_p
286   0000              	GLOBAL _game_hall_edit_p
287   0000              	GLOBAL _game_hall_check
288   0000              	GLOBAL _game_hall_enter_phs
289   0000              	GLOBAL _game_print_header
290   0000              	GLOBAL _game_end
291   0000              	GLOBAL _game_hall_enter
292   0000              	GLOBAL _game_hall_of_fame
293   0000              	GLOBAL _game_score_osd
294   0000              	GLOBAL _game_phase_print_score_back
295   0000              	GLOBAL _game_bonus_clock
296   0000              	GLOBAL _game_bonus_summary_player
297   0000              	GLOBAL _game_bonus_summary
298   0000              	GLOBAL _game_check_time
299   0000              	GLOBAL _game_menu_config
300   0000              	GLOBAL _game_menu
301   0000              	GLOBAL _game_rotate_attrib
302   0000              	GLOBAL _game_colour_message
303   0000              	GLOBAL _game_paint_attrib_lin_h
304   0000              	GLOBAL _game_paint_attrib_lin
305   0000              	GLOBAL _game_paint_attrib
306   0000              	GLOBAL _game_menu_paint
307   0000              	GLOBAL _game_menu_top_paint
308   0000              	GLOBAL _game_menu_handle
309   0000              	GLOBAL _game_menu_e
310   0000              	GLOBAL _game_menu_back
311   0000              	GLOBAL _game_print_score
312   0000              	GLOBAL _game_unfreeze_all
313   0000              	GLOBAL _game_freeze_all
314   0000              	GLOBAL _game_freeze
315   0000              	GLOBAL _game_enemy_add_get_index
316   0000              	GLOBAL _game_enemy_add1
317   0000              	GLOBAL _game_enemy_quota
318   0000              	GLOBAL _game_enemy_rnd
319   0000              	GLOBAL _game_enemy_add
320   0000              	GLOBAL _game_check_maze
321   0000              	GLOBAL _game_kill_all_sprites
322   0000              	GLOBAL _game_loop
323   0000              	GLOBAL _game_phase_print
324   0000              	GLOBAL _game_phase_init
325   0000              	GLOBAL _game_phase_calc
326   0000              	GLOBAL _game_start_timer
327   0000              	GLOBAL _game_tick
328   0000              	GLOBAL _game_print_lives
329   0000              	GLOBAL _game_print_footer
330   0000              	GLOBAL _game_calc_index
331   0000              	GLOBAL _game_fill_row
332   0000              	GLOBAL _enemy_kill
333   0000              	GLOBAL _enemy_init
334   0000              	GLOBAL _enemy_walk
335   0000              	GLOBAL _enemy_upgrade
336   0000              	GLOBAL _enemy_evolve
337   0000              	GLOBAL _enemy_standard_hit
338   0000              	GLOBAL _enemy_trip
339   0000              	GLOBAL _enemy_fighterfly
340   0000              	GLOBAL _enemy_fireball_green
341   0000              	GLOBAL _enemy_fireball_red
342   0000              	GLOBAL _enemy_slipice
343   0000              	GLOBAL _enemy_standard
344   0000              	GLOBAL _enemy_turn
345   0000              	GLOBAL _enemy_flip_sidestepper
346   0000              	GLOBAL _enemy_flip
347   0000              	GLOBAL _enemy_flip_change_dir
348   0000              	GLOBAL _enemy_hit
349   0000              	GLOBAL _enemy_collition_check
350   0000              	GLOBAL _enemy_collition
351   0000              	GLOBAL _enemy_coin1
352   0000              	GLOBAL _ay_fx_play
353   0000              	GLOBAL _ay_midi_play
354   0000              	GLOBAL _ay_is_playing
355   0000              	GLOBAL _ay_reset
356   0000              	GLOBAL _test_func
357   0000              	GLOBAL _NIRVANAP_chars_fastcall
358   0000              	GLOBAL _NIRVANAP_chars
359   0000              	GLOBAL _NIRVANAP_wides_fastcall
360   0000              	GLOBAL _NIRVANAP_wides
361   0000              	GLOBAL _NIRVANAP_tiles_fastcall
362   0000              	GLOBAL _NIRVANAP_tiles
363   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
364   0000              	GLOBAL _NIRVANAP_drawW_raw
365   0000              	GLOBAL _NIRVANAP_drawW_callee
366   0000              	GLOBAL _NIRVANAP_drawW
367   0000              	GLOBAL _NIRVANAP_spriteT_callee
368   0000              	GLOBAL _NIRVANAP_spriteT
369   0000              	GLOBAL _NIRVANAP_fillC_callee
370   0000              	GLOBAL _NIRVANAP_fillC
371   0000              	GLOBAL _NIRVANAP_paintC_callee
372   0000              	GLOBAL _NIRVANAP_paintC
373   0000              	GLOBAL _NIRVANAP_printC_callee
374   0000              	GLOBAL _NIRVANAP_printC
375   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
376   0000              	GLOBAL _NIRVANAP_fillT_raw
377   0000              	GLOBAL _NIRVANAP_fillT_callee
378   0000              	GLOBAL _NIRVANAP_fillT
379   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
380   0000              	GLOBAL _NIRVANAP_drawT_raw
381   0000              	GLOBAL _NIRVANAP_drawT_callee
382   0000              	GLOBAL _NIRVANAP_drawT
383   0000              	GLOBAL _NIRVANAP_stop
384   0000              	GLOBAL _NIRVANAP_start
385   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
386   0000              	GLOBAL _intrinsic_swap_word_32
387   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
388   0000              	GLOBAL _intrinsic_swap_endian_32
389   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
390   0000              	GLOBAL _intrinsic_swap_endian_16
391   0000              	GLOBAL _intrinsic_return_de
392   0000              	GLOBAL _intrinsic_return_bc
393   0000              	GLOBAL _intrinsic_exx
394   0000              	GLOBAL _intrinsic_ex_de_hl
395   0000              	GLOBAL _intrinsic_pop_iy
396   0000              	GLOBAL _intrinsic_pop_ix
397   0000              	GLOBAL _intrinsic_pop_hl
398   0000              	GLOBAL _intrinsic_pop_de
399   0000              	GLOBAL _intrinsic_pop_bc
400   0000              	GLOBAL _intrinsic_pop_af
401   0000              	GLOBAL _intrinsic_push_iy
402   0000              	GLOBAL _intrinsic_push_ix
403   0000              	GLOBAL _intrinsic_push_hl
404   0000              	GLOBAL _intrinsic_push_de
405   0000              	GLOBAL _intrinsic_push_bc
406   0000              	GLOBAL _intrinsic_push_af
407   0000              	GLOBAL _intrinsic_nop
408   0000              	GLOBAL _intrinsic_im_2
409   0000              	GLOBAL _intrinsic_im_1
410   0000              	GLOBAL _intrinsic_im_0
411   0000              	GLOBAL _intrinsic_retn
412   0000              	GLOBAL _intrinsic_reti
413   0000              	GLOBAL _intrinsic_halt
414   0000              	GLOBAL _intrinsic_ei
415   0000              	GLOBAL _intrinsic_di
416   0000              	GLOBAL _intrinsic_stub
417   0000              	GLOBAL _ulltoa_callee
418   0000              	GLOBAL _ulltoa
419   0000              	GLOBAL _strtoull_callee
420   0000              	GLOBAL _strtoull
421   0000              	GLOBAL _strtoll_callee
422   0000              	GLOBAL _strtoll
423   0000              	GLOBAL _lltoa_callee
424   0000              	GLOBAL _lltoa
425   0000              	GLOBAL _llabs_callee
426   0000              	GLOBAL _llabs
427   0000              	GLOBAL __lldivu__callee
428   0000              	GLOBAL __lldivu_
429   0000              	GLOBAL __lldiv__callee
430   0000              	GLOBAL __lldiv_
431   0000              	GLOBAL _atoll_callee
432   0000              	GLOBAL _atoll
433   0000              	GLOBAL _realloc_unlocked_callee
434   0000              	GLOBAL _realloc_unlocked
435   0000              	GLOBAL _malloc_unlocked_fastcall
436   0000              	GLOBAL _malloc_unlocked
437   0000              	GLOBAL _free_unlocked_fastcall
438   0000              	GLOBAL _free_unlocked
439   0000              	GLOBAL _calloc_unlocked_callee
440   0000              	GLOBAL _calloc_unlocked
441   0000              	GLOBAL _aligned_alloc_unlocked_callee
442   0000              	GLOBAL _aligned_alloc_unlocked
443   0000              	GLOBAL _realloc_callee
444   0000              	GLOBAL _realloc
445   0000              	GLOBAL _malloc_fastcall
446   0000              	GLOBAL _malloc
447   0000              	GLOBAL _free_fastcall
448   0000              	GLOBAL _free
449   0000              	GLOBAL _calloc_callee
450   0000              	GLOBAL _calloc
451   0000              	GLOBAL _aligned_alloc_callee
452   0000              	GLOBAL _aligned_alloc
453   0000              	GLOBAL _utoa_callee
454   0000              	GLOBAL _utoa
455   0000              	GLOBAL _ultoa_callee
456   0000              	GLOBAL _ultoa
457   0000              	GLOBAL _system_fastcall
458   0000              	GLOBAL _system
459   0000              	GLOBAL _strtoul_callee
460   0000              	GLOBAL _strtoul
461   0000              	GLOBAL _strtol_callee
462   0000              	GLOBAL _strtol
463   0000              	GLOBAL _strtof_callee
464   0000              	GLOBAL _strtof
465   0000              	GLOBAL _strtod_callee
466   0000              	GLOBAL _strtod
467   0000              	GLOBAL _srand_fastcall
468   0000              	GLOBAL _srand
469   0000              	GLOBAL _rand
470   0000              	GLOBAL _quick_exit_fastcall
471   0000              	GLOBAL _quick_exit
472   0000              	GLOBAL _qsort_callee
473   0000              	GLOBAL _qsort
474   0000              	GLOBAL _ltoa_callee
475   0000              	GLOBAL _ltoa
476   0000              	GLOBAL _labs_fastcall
477   0000              	GLOBAL _labs
478   0000              	GLOBAL _itoa_callee
479   0000              	GLOBAL _itoa
480   0000              	GLOBAL _ftoh_callee
481   0000              	GLOBAL _ftoh
482   0000              	GLOBAL _ftog_callee
483   0000              	GLOBAL _ftog
484   0000              	GLOBAL _ftoe_callee
485   0000              	GLOBAL _ftoe
486   0000              	GLOBAL _ftoa_callee
487   0000              	GLOBAL _ftoa
488   0000              	GLOBAL _exit_fastcall
489   0000              	GLOBAL _exit
490   0000              	GLOBAL _dtoh_callee
491   0000              	GLOBAL _dtoh
492   0000              	GLOBAL _dtog_callee
493   0000              	GLOBAL _dtog
494   0000              	GLOBAL _dtoe_callee
495   0000              	GLOBAL _dtoe
496   0000              	GLOBAL _dtoa_callee
497   0000              	GLOBAL _dtoa
498   0000              	GLOBAL _bsearch_callee
499   0000              	GLOBAL _bsearch
500   0000              	GLOBAL _atol_fastcall
501   0000              	GLOBAL _atol
502   0000              	GLOBAL _atoi_fastcall
503   0000              	GLOBAL _atoi
504   0000              	GLOBAL _atof_fastcall
505   0000              	GLOBAL _atof
506   0000              	GLOBAL _atexit_fastcall
507   0000              	GLOBAL _atexit
508   0000              	GLOBAL _at_quick_exit_fastcall
509   0000              	GLOBAL _at_quick_exit
510   0000              	GLOBAL _abs_fastcall
511   0000              	GLOBAL _abs
512   0000              	GLOBAL _abort
513   0000              	GLOBAL __strtou__callee
514   0000              	GLOBAL __strtou_
515   0000              	GLOBAL __strtoi__callee
516   0000              	GLOBAL __strtoi_
517   0000              	GLOBAL __random_uniform_xor_8__fastcall
518   0000              	GLOBAL __random_uniform_xor_8_
519   0000              	GLOBAL __random_uniform_xor_32__fastcall
520   0000              	GLOBAL __random_uniform_xor_32_
521   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
522   0000              	GLOBAL __random_uniform_cmwc_8_
523   0000              	GLOBAL __shellsort__callee
524   0000              	GLOBAL __shellsort_
525   0000              	GLOBAL __quicksort__callee
526   0000              	GLOBAL __quicksort_
527   0000              	GLOBAL __insertion_sort__callee
528   0000              	GLOBAL __insertion_sort_
529   0000              	GLOBAL __ldivu__callee
530   0000              	GLOBAL __ldivu_
531   0000              	GLOBAL __ldiv__callee
532   0000              	GLOBAL __ldiv_
533   0000              	GLOBAL __divu__callee
534   0000              	GLOBAL __divu_
535   0000              	GLOBAL __div__callee
536   0000              	GLOBAL __div_
537   0000              	GLOBAL _in_mouse_kempston_wheel_delta
538   0000              	GLOBAL _in_mouse_kempston_wheel
539   0000              	GLOBAL _in_mouse_kempston_callee
540   0000              	GLOBAL _in_mouse_kempston
541   0000              	GLOBAL _in_mouse_kempston_setpos_callee
542   0000              	GLOBAL _in_mouse_kempston_setpos
543   0000              	GLOBAL _in_mouse_kempston_reset
544   0000              	GLOBAL _in_mouse_kempston_init
545   0000              	GLOBAL _in_mouse_amx_wheel_delta
546   0000              	GLOBAL _in_mouse_amx_wheel
547   0000              	GLOBAL _in_mouse_amx_callee
548   0000              	GLOBAL _in_mouse_amx
549   0000              	GLOBAL _in_mouse_amx_setpos_callee
550   0000              	GLOBAL _in_mouse_amx_setpos
551   0000              	GLOBAL _in_mouse_amx_reset
552   0000              	GLOBAL _in_mouse_amx_init_callee
553   0000              	GLOBAL _in_mouse_amx_init
554   0000              	GLOBAL _in_stick_sinclair2
555   0000              	GLOBAL _in_stick_sinclair1
556   0000              	GLOBAL _in_stick_kempston
557   0000              	GLOBAL _in_stick_fuller
558   0000              	GLOBAL _in_stick_cursor
559   0000              	GLOBAL _in_stick_keyboard_fastcall
560   0000              	GLOBAL _in_stick_keyboard
561   0000              	GLOBAL _in_wait_nokey
562   0000              	GLOBAL _in_wait_key
563   0000              	GLOBAL _in_test_key
564   0000              	GLOBAL _in_pause_fastcall
565   0000              	GLOBAL _in_pause
566   0000              	GLOBAL _in_key_scancode_fastcall
567   0000              	GLOBAL _in_key_scancode
568   0000              	GLOBAL _in_key_pressed_fastcall
569   0000              	GLOBAL _in_key_pressed
570   0000              	GLOBAL _in_inkey
571   0000              	GLOBAL _zx_pattern_fill_callee
572   0000              	GLOBAL _zx_pattern_fill
573   0000              	GLOBAL _zx_saddrpup_fastcall
574   0000              	GLOBAL _zx_saddrpup
575   0000              	GLOBAL _zx_saddrpright_callee
576   0000              	GLOBAL _zx_saddrpright
577   0000              	GLOBAL _zx_saddrpleft_callee
578   0000              	GLOBAL _zx_saddrpleft
579   0000              	GLOBAL _zx_saddrpdown_fastcall
580   0000              	GLOBAL _zx_saddrpdown
581   0000              	GLOBAL _zx_saddrcup_fastcall
582   0000              	GLOBAL _zx_saddrcup
583   0000              	GLOBAL _zx_saddrcright_fastcall
584   0000              	GLOBAL _zx_saddrcright
585   0000              	GLOBAL _zx_saddrcleft_fastcall
586   0000              	GLOBAL _zx_saddrcleft
587   0000              	GLOBAL _zx_saddrcdown_fastcall
588   0000              	GLOBAL _zx_saddrcdown
589   0000              	GLOBAL _zx_saddr2py_fastcall
590   0000              	GLOBAL _zx_saddr2py
591   0000              	GLOBAL _zx_saddr2px_fastcall
592   0000              	GLOBAL _zx_saddr2px
593   0000              	GLOBAL _zx_saddr2cy_fastcall
594   0000              	GLOBAL _zx_saddr2cy
595   0000              	GLOBAL _zx_saddr2cx_fastcall
596   0000              	GLOBAL _zx_saddr2cx
597   0000              	GLOBAL _zx_saddr2aaddr_fastcall
598   0000              	GLOBAL _zx_saddr2aaddr
599   0000              	GLOBAL _zx_py2saddr_fastcall
600   0000              	GLOBAL _zx_py2saddr
601   0000              	GLOBAL _zx_py2aaddr_fastcall
602   0000              	GLOBAL _zx_py2aaddr
603   0000              	GLOBAL _zx_pxy2saddr_callee
604   0000              	GLOBAL _zx_pxy2saddr
605   0000              	GLOBAL _zx_pxy2aaddr_callee
606   0000              	GLOBAL _zx_pxy2aaddr
607   0000              	GLOBAL _zx_px2bitmask_fastcall
608   0000              	GLOBAL _zx_px2bitmask
609   0000              	GLOBAL _zx_cyx2saddr_callee
610   0000              	GLOBAL _zx_cyx2saddr
611   0000              	GLOBAL _zx_cyx2aaddr_callee
612   0000              	GLOBAL _zx_cyx2aaddr
613   0000              	GLOBAL _zx_cy2saddr_fastcall
614   0000              	GLOBAL _zx_cy2saddr
615   0000              	GLOBAL _zx_cy2aaddr_fastcall
616   0000              	GLOBAL _zx_cy2aaddr
617   0000              	GLOBAL _zx_bitmask2px_fastcall
618   0000              	GLOBAL _zx_bitmask2px
619   0000              	GLOBAL _zx_aaddrcup_fastcall
620   0000              	GLOBAL _zx_aaddrcup
621   0000              	GLOBAL _zx_aaddrcright_fastcall
622   0000              	GLOBAL _zx_aaddrcright
623   0000              	GLOBAL _zx_aaddrcleft_fastcall
624   0000              	GLOBAL _zx_aaddrcleft
625   0000              	GLOBAL _zx_aaddrcdown_fastcall
626   0000              	GLOBAL _zx_aaddrcdown
627   0000              	GLOBAL _zx_aaddr2saddr_fastcall
628   0000              	GLOBAL _zx_aaddr2saddr
629   0000              	GLOBAL _zx_aaddr2py_fastcall
630   0000              	GLOBAL _zx_aaddr2py
631   0000              	GLOBAL _zx_aaddr2px_fastcall
632   0000              	GLOBAL _zx_aaddr2px
633   0000              	GLOBAL _zx_aaddr2cy_fastcall
634   0000              	GLOBAL _zx_aaddr2cy
635   0000              	GLOBAL _zx_aaddr2cx_fastcall
636   0000              	GLOBAL _zx_aaddr2cx
637   0000              	GLOBAL _zx_scroll_wc_up_callee
638   0000              	GLOBAL _zx_scroll_wc_up
639   0000              	GLOBAL _zx_scroll_up_callee
640   0000              	GLOBAL _zx_scroll_up
641   0000              	GLOBAL _zx_cls_wc_callee
642   0000              	GLOBAL _zx_cls_wc
643   0000              	GLOBAL _zx_cls_fastcall
644   0000              	GLOBAL _zx_cls
645   0000              	GLOBAL _zx_border_fastcall
646   0000              	GLOBAL _zx_border
647   0000              	GLOBAL _ay_effect_20
648   0000              	GLOBAL _ay_effect_19
649   0000              	GLOBAL _ay_effect_18
650   0000              	GLOBAL _ay_effect_17
651   0000              	GLOBAL _ay_effect_16
652   0000              	GLOBAL _ay_effect_15
653   0000              	GLOBAL _ay_effect_14
654   0000              	GLOBAL _ay_effect_13
655   0000              	GLOBAL _ay_effect_12
656   0000              	GLOBAL _ay_effect_11
657   0000              	GLOBAL _ay_effect_10
658   0000              	GLOBAL _ay_effect_09
659   0000              	GLOBAL _ay_effect_08
660   0000              	GLOBAL _ay_effect_07
661   0000              	GLOBAL _ay_effect_06
662   0000              	GLOBAL _ay_effect_05
663   0000              	GLOBAL _ay_effect_04
664   0000              	GLOBAL _ay_effect_03
665   0000              	GLOBAL _ay_effect_02
666   0000              	GLOBAL _ay_effect_01
667   0000              	GLOBAL _pb_midi_phase_1
668   0000              	GLOBAL _pb_midi_title
669   0000              	GLOBAL _joynames
670   0000              	GLOBAL _initials
671   0000              	GLOBAL _hof
672   0000              	GLOBAL _score_osd_tile
673   0000              	GLOBAL _score_osd_time
674   0000              	GLOBAL _score_osd_col
675   0000              	GLOBAL _score_osd_lin
676   0000              	GLOBAL _phase_bonus_total
677   0000              	GLOBAL _phase_angry
678   0000              	GLOBAL _phase_curr
679   0000              	GLOBAL _phase_end
680   0000              	GLOBAL _phase_coins
681   0000              	GLOBAL _phase_pop
682   0000              	GLOBAL _phase_tot
683   0000              	GLOBAL _phase_left
684   0000              	GLOBAL _phase_quota
685   0000              	GLOBAL _phases
686   0000              	GLOBAL _spr_idx
687   0000              	GLOBAL _lvl_1
688   0000              	GLOBAL _sprite_speed_alt
689   0000              	GLOBAL _sprite_speed
690   0000              	GLOBAL _screen_ink
691   0000              	GLOBAL _screen_paper
692   0000              	GLOBAL _game_menu_sel
693   0000              	GLOBAL _game_type
694   0000              	GLOBAL _game_bonus
695   0000              	GLOBAL _spr_water_time
696   0000              	GLOBAL _spr_water_clear
697   0000              	GLOBAL _game_time_fireball_start
698   0000              	GLOBAL _game_time_flipped
699   0000              	GLOBAL _game_score_top
700   0000              	GLOBAL _game_lives_update
701   0000              	GLOBAL _game_lives
702   0000              	GLOBAL _game_over
703   0000              	GLOBAL _game_sound
704   0000              	GLOBAL _game_two_player
705   0000              	GLOBAL _game_brick_tile
706   0000              	GLOBAL _game_pow
707   0000              	GLOBAL _spr_count
708   0000              	GLOBAL _frame_loop_count
709   0000              	GLOBAL _col_time
710   0000              	GLOBAL _frame_time
711   0000              	GLOBAL _entry_time
712   0000              	GLOBAL _curr_time
713   0000              	GLOBAL _s_state
714   0000              	GLOBAL _attrib_hl
715   0000              	GLOBAL _attrib
716   0000              	GLOBAL _zx_val_asm
717   0000              	GLOBAL _enemies
718   0000              	GLOBAL _tmp_ui
719   0000              	GLOBAL _tmp_sc
720   0000              	GLOBAL _tmp_uc
721   0000              	GLOBAL _tmp1
722   0000              	GLOBAL _tmp0
723   0000              	GLOBAL _tmp
724   0000              	GLOBAL _index_d
725   0000              	GLOBAL _index3
726   0000              	GLOBAL _index2
727   0000              	GLOBAL _index1
728   0000              	GLOBAL _loop_count
729   0000              	GLOBAL _sprite_lin_inc_mul
730   0000              	GLOBAL _s_col1
731   0000              	GLOBAL _s_col0
732   0000              	GLOBAL _s_lin1
733   0000              	GLOBAL _s_lin0
734   0000              	GLOBAL _s_tile1
735   0000              	GLOBAL _s_tile0
736   0000              	GLOBAL _hit_count
737   0000              	GLOBAL _tile_offset_other_player
738   0000              	GLOBAL _tile_offset
739   0000              	GLOBAL _index_player
740   0000              	GLOBAL _sprite_other_player
741   0000              	GLOBAL _sprite
742   0000              	GLOBAL _player_joy
743   0000              	GLOBAL _player_next_extra
744   0000              	GLOBAL _player_score
745   0000              	GLOBAL _last_time
746   0000              	GLOBAL _sliding
747   0000              	GLOBAL _spr_timer_c
748   0000              	GLOBAL _spr_timer
749   0000              	GLOBAL _jump_lin
750   0000              	GLOBAL _player_jump_c
751   0000              	GLOBAL _hit_col
752   0000              	GLOBAL _hit_lin
753   0000              	GLOBAL _colint
754   0000              	GLOBAL _col
755   0000              	GLOBAL _lin
756   0000              	GLOBAL _tile
757   0000              	GLOBAL _state_a
758   0000              	GLOBAL _state
759   0000              	GLOBAL _class
760   0000              	GLOBAL _tbuffer
761   0000              	GLOBAL _dirs
762   0000              	GLOBAL _k2
763   0000              	GLOBAL _k1
764   0000              	GLOBAL _joyfunc2
765   0000              	GLOBAL _joyfunc1
766   0000              	GLOBAL _btiles
767   0000              	GLOBAL _spec128
768   0000              	GLOBAL _control_method
769   0000              	GLOBAL _hall_valids
770   0000              ;--------------------------------------------------------
771   0000              ; special function registers
772   0000              ;--------------------------------------------------------
773   0000              ;--------------------------------------------------------
774   0000              ; ram data
775   0000              ;--------------------------------------------------------
776   0000              	SECTION bss_compiler
777   0000              defc _NIRVANAP_isr	=	0xf5d2
778   0000              ;--------------------------------------------------------
779   0000              ; ram data
780   0000              ;--------------------------------------------------------
781   0000              
782   0000              IF 0
783   0000              
784   0000              ; .area _INITIALIZED removed by z88dk
785   0000              
786   0000              
787   0000              ENDIF
788   0000              
789   0000              ;--------------------------------------------------------
790   0000              ; absolute external ram data
791   0000              ;--------------------------------------------------------
792   0000              	SECTION IGNORE
793   0000              ;--------------------------------------------------------
794   0000              ; global & static initialisations
795   0000              ;--------------------------------------------------------
796   0000              	SECTION code_crt_init
797   0000              ;--------------------------------------------------------
798   0000              ; Home
799   0000              ;--------------------------------------------------------
800   0000              	SECTION IGNORE
801   0000              ;--------------------------------------------------------
802   0000              ; code
803   0000              ;--------------------------------------------------------
804   0000              	SECTION code_compiler
805   0000              ;	---------------------------------
806   0000              ; Function player_init
807   0000              ; ---------------------------------
808   0000              _player_init:
809   0000  CD 00 00    	call	___sdcc_enter_ix
810   0003  F5          	push	af
811   0004  3E 00       	ld	a,+((_class) & 0xFF)
812   0006  DD 86 04    	add	a,(ix+4)
813   0009  4F          	ld	c,a
814   000A  3E 00       	ld	a,+((_class) / 256)
815   000C  CE 00       	adc	a,0x00
816   000E  47          	ld	b,a
817   000F  3E 10       	ld	a,0x10
818   0011  02          	ld	(bc),a
819   0012  3E 00       	ld	a,+((_tile) & 0xFF)
820   0014  DD 86 04    	add	a,(ix+4)
821   0017  4F          	ld	c,a
822   0018  3E 00       	ld	a,+((_tile) / 256)
823   001A  CE 00       	adc	a,0x00
824   001C  47          	ld	b,a
825   001D  DD 7E 07    	ld	a,(ix+7)
826   0020  02          	ld	(bc),a
827   0021  3E 00       	ld	a,+((_lin) & 0xFF)
828   0023  DD 86 04    	add	a,(ix+4)
829   0026  4F          	ld	c,a
830   0027  3E 00       	ld	a,+((_lin) / 256)
831   0029  CE 00       	adc	a,0x00
832   002B  47          	ld	b,a
833   002C  DD 7E 05    	ld	a,(ix+5)
834   002F  02          	ld	(bc),a
835   0030  3E 00       	ld	a,+((_col) & 0xFF)
836   0032  DD 86 04    	add	a,(ix+4)
837   0035  4F          	ld	c,a
838   0036  3E 00       	ld	a,+((_col) / 256)
839   0038  CE 00       	adc	a,0x00
840   003A  47          	ld	b,a
841   003B  DD 7E 06    	ld	a,(ix+6)
842   003E  02          	ld	(bc),a
843   003F  3E 00       	ld	a,+((_colint) & 0xFF)
844   0041  DD 86 04    	add	a,(ix+4)
845   0044  4F          	ld	c,a
846   0045  3E 00       	ld	a,+((_colint) / 256)
847   0047  CE 00       	adc	a,0x00
848   0049  47          	ld	b,a
849   004A  AF          	xor	a, a
850   004B  02          	ld	(bc),a
851   004C  3E 00       	ld	a,+((_state) & 0xFF)
852   004E  DD 86 04    	add	a,(ix+4)
853   0051  4F          	ld	c,a
854   0052  3E 00       	ld	a,+((_state) / 256)
855   0054  CE 00       	adc	a,0x00
856   0056  47          	ld	b,a
857   0057  AF          	xor	a, a
858   0058  02          	ld	(bc),a
859   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
860   005B  DD 86 04    	add	a,(ix+4)
861   005E  4F          	ld	c,a
862   005F  3E 00       	ld	a,+((_state_a) / 256)
863   0061  CE 00       	adc	a,0x00
864   0063  47          	ld	b,a
865   0064  AF          	xor	a, a
866   0065  02          	ld	(bc),a
867   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
868   0068  DD 86 04    	add	a,(ix+4)
869   006B  5F          	ld	e,a
870   006C  3E 00       	ld	a,+((_jump_lin) / 256)
871   006E  CE 00       	adc	a,0x00
872   0070  57          	ld	d,a
873   0071  DD 7E 05    	ld	a,(ix+5)
874   0074  12          	ld	(de),a
875   0075  DD 5E 04    	ld	e,(ix+4)
876   0078  16 00       	ld	d,0x00
877   007A  CB 23       	sla	e
878   007C  CB 12       	rl	d
879   007E  21 00 00    	ld	hl,_last_time
880   0081  19          	add	hl,de
881   0082  E3          	ex	(sp), hl
882   0083  E1          	pop	hl
883   0084  ED 5B 00 00 	ld	de,(_curr_time)
884   0088  E5          	push	hl
885   0089  73          	ld	(hl),e
886   008A  23          	inc	hl
887   008B  72          	ld	(hl),d
888   008C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
889   008E  DD 86 04    	add	a,(ix+4)
890   0091  5F          	ld	e,a
891   0092  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
892   0094  CE 00       	adc	a,0x00
893   0096  57          	ld	d,a
894   0097  AF          	xor	a, a
895   0098  12          	ld	(de),a
896   0099  0A          	ld	a,(bc)
897   009A  CB C7       	set	0, a
898   009C  02          	ld	(bc),a
899   009D  5F          	ld	e,a
900   009E  DD 7E 04    	ld	a,(ix+4)
901   00A1  D6 07       	sub	a,0x07
902   00A3  20 0B       	jr	NZ,l_player_init_00102
903   00A5  21 00 00    	ld	hl,_index_player
904   00A8  36 00       	ld	(hl),0x00
905   00AA  7B          	ld	a,e
906   00AB  CB E7       	set	4, a
907   00AD  02          	ld	(bc),a
908   00AE  18 09       	jr	l_player_init_00103
909   00B0              l_player_init_00102:
910   00B0  21 00 00    	ld	hl,_index_player
911   00B3  36 01       	ld	(hl),0x01
912   00B5  7B          	ld	a,e
913   00B6  CB DF       	set	3, a
914   00B8  02          	ld	(bc),a
915   00B9              l_player_init_00103:
916   00B9  3E 00       	ld	a,+((_hit_col) & 0xFF)
917   00BB  21 00 00    	ld	hl,_index_player
918   00BE  86          	add	a, (hl)
919   00BF  4F          	ld	c,a
920   00C0  3E 00       	ld	a,+((_hit_col) / 256)
921   00C2  CE 00       	adc	a,0x00
922   00C4  47          	ld	b,a
923   00C5  AF          	xor	a, a
924   00C6  02          	ld	(bc),a
925   00C7  3E 00       	ld	a,+((_hit_lin) & 0xFF)
926   00C9  86          	add	a, (hl)
927   00CA  4F          	ld	c,a
928   00CB  3E 00       	ld	a,+((_hit_lin) / 256)
929   00CD  CE 00       	adc	a,0x00
930   00CF  47          	ld	b,a
931   00D0  AF          	xor	a, a
932   00D1  02          	ld	(bc),a
933   00D2  3E 00       	ld	a,+((_sliding) & 0xFF)
934   00D4  86          	add	a, (hl)
935   00D5  4F          	ld	c,a
936   00D6  3E 00       	ld	a,+((_sliding) / 256)
937   00D8  CE 00       	adc	a,0x00
938   00DA  47          	ld	b,a
939   00DB  3E 04       	ld	a,0x04
940   00DD  02          	ld	(bc),a
941   00DE  DD 66 06    	ld	h,(ix+6)
942   00E1  DD 6E 05    	ld	l,(ix+5)
943   00E4  E5          	push	hl
944   00E5  DD 66 07    	ld	h,(ix+7)
945   00E8  DD 6E 04    	ld	l,(ix+4)
946   00EB  E5          	push	hl
947   00EC  CD 00 00    	call	_NIRVANAP_spriteT_callee
948   00EF  F1          	pop	af
949   00F0  DD E1       	pop	ix
950   00F2  C9          	ret
951   00F3              ;	---------------------------------
952   00F3              ; Function player_calc_slide
953   00F3              ; ---------------------------------
954   00F3              _player_calc_slide:
955   00F3  CD 00 00    	call	___sdcc_enter_ix
956   00F6  DD 7E 04    	ld	a,(ix+4)
957   00F9  C6 10       	add	a,0x10
958   00FB  47          	ld	b,a
959   00FC  DD 7E 05    	ld	a,(ix+5)
960   00FF  48          	ld	c,b
961   0100  47          	ld	b,a
962   0101  C5          	push	bc
963   0102  CD 00 00    	call	_game_calc_index
964   0105  F1          	pop	af
965   0106  22 00 00    	ld	(_index1),hl
966   0109  01 00 00    	ld	bc,_lvl_1
967   010C  09          	add	hl,bc
968   010D  7E          	ld	a,(hl)
969   010E  D6 14       	sub	a,0x14
970   0110  20 10       	jr	NZ,l_player_calc_slide_00102
971   0112  3A 00 00    	ld	a,(_index_player)
972   0115  C6 00       	add	a,+((_sliding) & 0xFF)
973   0117  4F          	ld	c,a
974   0118  3E 00       	ld	a,+((_sliding) / 256)
975   011A  CE 00       	adc	a,0x00
976   011C  47          	ld	b,a
977   011D  3E 10       	ld	a,0x10
978   011F  02          	ld	(bc),a
979   0120  18 0E       	jr	l_player_calc_slide_00104
980   0122              l_player_calc_slide_00102:
981   0122  3A 00 00    	ld	a,(_index_player)
982   0125  C6 00       	add	a,+((_sliding) & 0xFF)
983   0127  4F          	ld	c,a
984   0128  3E 00       	ld	a,+((_sliding) / 256)
985   012A  CE 00       	adc	a,0x00
986   012C  47          	ld	b,a
987   012D  3E 04       	ld	a,0x04
988   012F  02          	ld	(bc),a
989   0130              l_player_calc_slide_00104:
990   0130  DD E1       	pop	ix
991   0132  C9          	ret
992   0133              ;	---------------------------------
993   0133              ; Function player_check_input
994   0133              ; ---------------------------------
995   0133              _player_check_input:
996   0133  21 00 00    	ld	hl,_dirs
997   0136  7E          	ld	a,(hl)
998   0137  CB 07       	rlc	a
999   0139  E6 01       	and	a,0x01
1000  013B  CB 47       	bit	0,a
1001  013D  20 0F       	jr	NZ,l_player_check_input_00104
1002  013F  7E          	ld	a,(hl)
1003  0140  E6 04       	and	a,0x04
1004  0142  20 0A       	jr	NZ,l_player_check_input_00104
1005  0144  3A 00 00    	ld	a,(_dirs)
1006  0147  E6 08       	and	a,0x08
1007  0149  20 03       	jr	NZ,l_player_check_input_00104
1008  014B  6F          	ld	l,a
1009  014C  18 02       	jr	l_player_check_input_00105
1010  014E              l_player_check_input_00104:
1011  014E  2E 01       	ld	l,0x01
1012  0150              l_player_check_input_00105:
1013  0150  C9          	ret
1014  0151              ;	---------------------------------
1015  0151              ; Function player_collition
1016  0151              ; ---------------------------------
1017  0151              _player_collition:
1018  0151  3A 00 00    	ld	a,(_sprite)
1019  0154  C6 00       	add	a,+((_class) & 0xFF)
1020  0156  4F          	ld	c,a
1021  0157  3E 00       	ld	a,+((_class) / 256)
1022  0159  CE 00       	adc	a,0x00
1023  015B  47          	ld	b,a
1024  015C  0A          	ld	a,(bc)
1025  015D  B7          	or	a,a
1026  015E  20 04       	jr	NZ,l_player_collition_00102
1027  0160  6F          	ld	l,a
1028  0161  C3 E1 01    	jp	l_player_collition_00121
1029  0164              l_player_collition_00102:
1030  0164  3A 00 00    	ld	a,(_sprite)
1031  0167  C6 00       	add	a,+((_state) & 0xFF)
1032  0169  4F          	ld	c,a
1033  016A  3E 00       	ld	a,+((_state) / 256)
1034  016C  CE 00       	adc	a,0x00
1035  016E  47          	ld	b,a
1036  016F  0A          	ld	a,(bc)
1037  0170  CB 67       	bit	4, a
1038  0172  28 04       	jr	Z,l_player_collition_00104
1039  0174  2E 00       	ld	l,0x00
1040  0176  18 69       	jr	l_player_collition_00121
1041  0178              l_player_collition_00104:
1042  0178  CB 6F       	bit	5, a
1043  017A  28 04       	jr	Z,l_player_collition_00106
1044  017C  2E 00       	ld	l,0x00
1045  017E  18 61       	jr	l_player_collition_00121
1046  0180              l_player_collition_00106:
1047  0180  21 00 00    	ld	hl,_hit_count
1048  0183  36 00       	ld	(hl),0x00
1049  0185  21 00 00    	ld	hl,_enemies
1050  0188  36 00       	ld	(hl),0x00
1051  018A              l_player_collition_00119:
1052  018A  CD E2 01    	call	_player_collition_check
1053  018D  7D          	ld	a,l
1054  018E  B7          	or	a, a
1055  018F  28 41       	jr	Z,l_player_collition_00120
1056  0191  3A 00 00    	ld	a,(_enemies)
1057  0194  C6 00       	add	a,+((_state) & 0xFF)
1058  0196  4F          	ld	c,a
1059  0197  3E 00       	ld	a,+((_state) / 256)
1060  0199  CE 00       	adc	a,0x00
1061  019B  47          	ld	b,a
1062  019C  0A          	ld	a,(bc)
1063  019D  CB 67       	bit	4, a
1064  019F  28 0B       	jr	Z,l_player_collition_00114
1065  01A1  3A 00 00    	ld	a,(_enemies)
1066  01A4  F5          	push	af
1067  01A5  33          	inc	sp
1068  01A6  CD 00 00    	call	_enemy_kill
1069  01A9  33          	inc	sp
1070  01AA  18 26       	jr	l_player_collition_00120
1071  01AC              l_player_collition_00114:
1072  01AC  2A 00 00    	ld	hl,(_enemies)
1073  01AF  26 00       	ld	h,0x00
1074  01B1  01 00 00    	ld	bc,_class
1075  01B4  09          	add	hl,bc
1076  01B5  7E          	ld	a,(hl)
1077  01B6  4F          	ld	c,a
1078  01B7  D6 08       	sub	a,0x08
1079  01B9  28 05       	jr	Z,l_player_collition_00109
1080  01BB  79          	ld	a,c
1081  01BC  D6 0C       	sub	a,0x0c
1082  01BE  20 0C       	jr	NZ,l_player_collition_00110
1083  01C0              l_player_collition_00109:
1084  01C0  2A 00 00    	ld	hl,(_enemies)
1085  01C3  26 50       	ld	h,0x50
1086  01C5  E5          	push	hl
1087  01C6  CD 6D 0F    	call	_player_coin
1088  01C9  F1          	pop	af
1089  01CA  18 06       	jr	l_player_collition_00120
1090  01CC              l_player_collition_00110:
1091  01CC  21 00 00    	ld	hl,_ay_effect_18
1092  01CF  CD 00 00    	call	_ay_fx_play
1093  01D2              l_player_collition_00120:
1094  01D2  21 00 00    	ld	hl,_enemies
1095  01D5  7E          	ld	a,(hl)
1096  01D6  3C          	inc	a
1097  01D7  77          	ld	(hl),a
1098  01D8  D6 06       	sub	a,0x06
1099  01DA  38 AE       	jr	C,l_player_collition_00119
1100  01DC  CD 00 00    	call	_game_score_osd
1101  01DF  2E 00       	ld	l,0x00
1102  01E1              l_player_collition_00121:
1103  01E1  C9          	ret
1104  01E2              ;	---------------------------------
1105  01E2              ; Function player_collition_check
1106  01E2              ; ---------------------------------
1107  01E2              _player_collition_check:
1108  01E2  CD 00 00    	call	___sdcc_enter_ix
1109  01E5  3B          	dec	sp
1110  01E6  3A 00 00    	ld	a,(_enemies)
1111  01E9  C6 00       	add	a,+((_class) & 0xFF)
1112  01EB  4F          	ld	c,a
1113  01EC  3E 00       	ld	a,+((_class) / 256)
1114  01EE  CE 00       	adc	a,0x00
1115  01F0  47          	ld	b,a
1116  01F1  0A          	ld	a,(bc)
1117  01F2  B7          	or	a,a
1118  01F3  20 04       	jr	NZ,l_player_collition_check_00102
1119  01F5  6F          	ld	l,a
1120  01F6  C3 53 03    	jp	l_player_collition_check_00125
1121  01F9              l_player_collition_check_00102:
1122  01F9  3A 00 00    	ld	a,(_enemies)
1123  01FC  C6 00       	add	a,+((_state) & 0xFF)
1124  01FE  4F          	ld	c,a
1125  01FF  3E 00       	ld	a,+((_state) / 256)
1126  0201  CE 00       	adc	a,0x00
1127  0203  47          	ld	b,a
1128  0204  0A          	ld	a,(bc)
1129  0205  CB 6F       	bit	5, a
1130  0207  28 05       	jr	Z,l_player_collition_check_00104
1131  0209  2E 00       	ld	l,0x00
1132  020B  C3 53 03    	jp	l_player_collition_check_00125
1133  020E              l_player_collition_check_00104:
1134  020E  11 00 00    	ld	de,_lin+0
1135  0211  7B          	ld	a,e
1136  0212  21 00 00    	ld	hl,_enemies
1137  0215  86          	add	a, (hl)
1138  0216  4F          	ld	c,a
1139  0217  7A          	ld	a,d
1140  0218  CE 00       	adc	a,0x00
1141  021A  47          	ld	b,a
1142  021B  0A          	ld	a,(bc)
1143  021C  4F          	ld	c,a
1144  021D  06 00       	ld	b,0x00
1145  021F  7B          	ld	a,e
1146  0220  21 00 00    	ld	hl,_sprite
1147  0223  86          	add	a, (hl)
1148  0224  5F          	ld	e,a
1149  0225  7A          	ld	a,d
1150  0226  CE 00       	adc	a,0x00
1151  0228  57          	ld	d,a
1152  0229  1A          	ld	a,(de)
1153  022A  5F          	ld	e,a
1154  022B  16 00       	ld	d,0x00
1155  022D  79          	ld	a,c
1156  022E  93          	sub	a, e
1157  022F  6F          	ld	l,a
1158  0230  78          	ld	a,b
1159  0231  9A          	sbc	a, d
1160  0232  67          	ld	h,a
1161  0233  CD 00 00    	call	_abs_fastcall
1162  0236  22 00 00    	ld	(_tmp_ui),hl
1163  0239  3A 00 00    	ld	a,(_sprite)
1164  023C  C6 00       	add	a,+((_state) & 0xFF)
1165  023E  4F          	ld	c,a
1166  023F  3E 00       	ld	a,+((_state) / 256)
1167  0241  CE 00       	adc	a,0x00
1168  0243  47          	ld	b,a
1169  0244  0A          	ld	a,(bc)
1170  0245  CB 47       	bit	0, a
1171  0247  20 04       	jr	NZ,l_player_collition_check_00109
1172  0249  CB 4F       	bit	1, a
1173  024B  28 11       	jr	Z,l_player_collition_check_00110
1174  024D              l_player_collition_check_00109:
1175  024D  3E 10       	ld	a,0x10
1176  024F  21 00 00    	ld	hl,_tmp_ui
1177  0252  BE          	cp	a, (hl)
1178  0253  3E 00       	ld	a,0x00
1179  0255  23          	inc	hl
1180  0256  9E          	sbc	a, (hl)
1181  0257  30 16       	jr	NC,l_player_collition_check_00111
1182  0259  2E 00       	ld	l,0x00
1183  025B  C3 53 03    	jp	l_player_collition_check_00125
1184  025E              l_player_collition_check_00110:
1185  025E  3E 0E       	ld	a,0x0e
1186  0260  21 00 00    	ld	hl,_tmp_ui
1187  0263  BE          	cp	a, (hl)
1188  0264  3E 00       	ld	a,0x00
1189  0266  23          	inc	hl
1190  0267  9E          	sbc	a, (hl)
1191  0268  30 05       	jr	NC,l_player_collition_check_00111
1192  026A  2E 00       	ld	l,0x00
1193  026C  C3 53 03    	jp	l_player_collition_check_00125
1194  026F              l_player_collition_check_00111:
1195  026F  2A 00 00    	ld	hl,(_enemies)
1196  0272  26 00       	ld	h,0x00
1197  0274  01 00 00    	ld	bc,_col
1198  0277  09          	add	hl,bc
1199  0278  4E          	ld	c,(hl)
1200  0279  06 00       	ld	b,0x00
1201  027B  2A 00 00    	ld	hl,(_sprite)
1202  027E  60          	ld	h,b
1203  027F  11 00 00    	ld	de,_col
1204  0282  19          	add	hl,de
1205  0283  5E          	ld	e, (hl)
1206  0284  16 00       	ld	d,0x00
1207  0286  79          	ld	a,c
1208  0287  93          	sub	a, e
1209  0288  6F          	ld	l,a
1210  0289  78          	ld	a,b
1211  028A  9A          	sbc	a, d
1212  028B  67          	ld	h,a
1213  028C  CD 00 00    	call	_abs_fastcall
1214  028F  22 00 00    	ld	(_tmp_ui),hl
1215  0292  2A 00 00    	ld	hl,(_enemies)
1216  0295  26 00       	ld	h,0x00
1217  0297  01 00 00    	ld	bc,_col
1218  029A  09          	add	hl,bc
1219  029B  7E          	ld	a,(hl)
1220  029C  4F          	ld	c,a
1221  029D  87          	add	a, a
1222  029E  81          	add	a, c
1223  029F  32 00 00    	ld	(_tmp0),a
1224  02A2  4F          	ld	c,a
1225  02A3  2A 00 00    	ld	hl,(_sprite)
1226  02A6  26 00       	ld	h,0x00
1227  02A8  11 00 00    	ld	de,_col
1228  02AB  19          	add	hl,de
1229  02AC  7E          	ld	a,(hl)
1230  02AD  5F          	ld	e,a
1231  02AE  87          	add	a, a
1232  02AF  83          	add	a, e
1233  02B0  32 00 00    	ld	(_tmp1),a
1234  02B3  47          	ld	b,a
1235  02B4  3E 02       	ld	a,0x02
1236  02B6  21 00 00    	ld	hl,_tmp_ui
1237  02B9  BE          	cp	a, (hl)
1238  02BA  3E 00       	ld	a,0x00
1239  02BC  23          	inc	hl
1240  02BD  9E          	sbc	a, (hl)
1241  02BE  30 05       	jr	NC,l_player_collition_check_00114
1242  02C0  2E 00       	ld	l,0x00
1243  02C2  C3 53 03    	jp	l_player_collition_check_00125
1244  02C5              l_player_collition_check_00114:
1245  02C5  2A 00 00    	ld	hl,(_enemies)
1246  02C8  26 00       	ld	h,0x00
1247  02CA  11 00 00    	ld	de,_state
1248  02CD  19          	add	hl,de
1249  02CE  7E          	ld	a,(hl)
1250  02CF  DD 77 FF    	ld	(ix-1),a
1251  02D2  CB 57       	bit	2,a
1252  02D4  28 0E       	jr	Z,l_player_collition_check_00116
1253  02D6  2A 00 00    	ld	hl,(_enemies)
1254  02D9  26 00       	ld	h,0x00
1255  02DB  11 00 00    	ld	de,_colint
1256  02DE  19          	add	hl,de
1257  02DF  7E          	ld	a,(hl)
1258  02E0  81          	add	a,c
1259  02E1  32 00 00    	ld	(_tmp0),a
1260  02E4              l_player_collition_check_00116:
1261  02E4  DD CB FF 5E 	bit	3,(ix-1)
1262  02E8  28 0F       	jr	Z,l_player_collition_check_00118
1263  02EA  2A 00 00    	ld	hl,(_enemies)
1264  02ED  26 00       	ld	h,0x00
1265  02EF  11 00 00    	ld	de,_colint
1266  02F2  19          	add	hl,de
1267  02F3  5E          	ld	e, (hl)
1268  02F4  79          	ld	a,c
1269  02F5  93          	sub	a, e
1270  02F6  32 00 00    	ld	(_tmp0),a
1271  02F9              l_player_collition_check_00118:
1272  02F9  2A 00 00    	ld	hl,(_sprite)
1273  02FC  26 00       	ld	h,0x00
1274  02FE  11 00 00    	ld	de,_state
1275  0301  19          	add	hl,de
1276  0302  7E          	ld	a,(hl)
1277  0303  4F          	ld	c,a
1278  0304  CB 57       	bit	2,a
1279  0306  28 0E       	jr	Z,l_player_collition_check_00120
1280  0308  2A 00 00    	ld	hl,(_sprite)
1281  030B  26 00       	ld	h,0x00
1282  030D  11 00 00    	ld	de,_colint
1283  0310  19          	add	hl,de
1284  0311  7E          	ld	a,(hl)
1285  0312  80          	add	a,b
1286  0313  32 00 00    	ld	(_tmp1),a
1287  0316              l_player_collition_check_00120:
1288  0316  CB 59       	bit	3, c
1289  0318  28 0F       	jr	Z,l_player_collition_check_00122
1290  031A  2A 00 00    	ld	hl,(_sprite)
1291  031D  26 00       	ld	h,0x00
1292  031F  11 00 00    	ld	de,_colint
1293  0322  19          	add	hl,de
1294  0323  4E          	ld	c, (hl)
1295  0324  78          	ld	a,b
1296  0325  91          	sub	a, c
1297  0326  32 00 00    	ld	(_tmp1),a
1298  0329              l_player_collition_check_00122:
1299  0329  3A 00 00    	ld	a,(_tmp0)
1300  032C  4F          	ld	c,a
1301  032D  06 00       	ld	b,0x00
1302  032F  3A 00 00    	ld	a,(_tmp1)
1303  0332  5F          	ld	e,a
1304  0333  16 00       	ld	d,0x00
1305  0335  79          	ld	a,c
1306  0336  93          	sub	a, e
1307  0337  6F          	ld	l,a
1308  0338  78          	ld	a,b
1309  0339  9A          	sbc	a, d
1310  033A  67          	ld	h,a
1311  033B  CD 00 00    	call	_abs_fastcall
1312  033E  22 00 00    	ld	(_tmp_ui),hl
1313  0341  3E 04       	ld	a,0x04
1314  0343  21 00 00    	ld	hl,_tmp_ui
1315  0346  BE          	cp	a, (hl)
1316  0347  3E 00       	ld	a,0x00
1317  0349  23          	inc	hl
1318  034A  9E          	sbc	a, (hl)
1319  034B  30 04       	jr	NC,l_player_collition_check_00124
1320  034D  2E 00       	ld	l,0x00
1321  034F  18 02       	jr	l_player_collition_check_00125
1322  0351              l_player_collition_check_00124:
1323  0351  2E 01       	ld	l,0x01
1324  0353              l_player_collition_check_00125:
1325  0353  33          	inc	sp
1326  0354  DD E1       	pop	ix
1327  0356  C9          	ret
1328  0357              ;	---------------------------------
1329  0357              ; Function player_kill
1330  0357              ; ---------------------------------
1331  0357              _player_kill:
1332  0357  01 00 00    	ld	bc,_state+0
1333  035A  2A 00 00    	ld	hl,(_sprite)
1334  035D  26 00       	ld	h,0x00
1335  035F  09          	add	hl,bc
1336  0360  CB 6E       	bit	5,(hl)
1337  0362  C2 38 04    	jp	NZ,l_player_kill_00109
1338  0365  C5          	push	bc
1339  0366  CD 00 00    	call	_sound_hit_brick
1340  0369  C1          	pop	bc
1341  036A  79          	ld	a,c
1342  036B  21 00 00    	ld	hl,_sprite
1343  036E  86          	add	a, (hl)
1344  036F  5F          	ld	e,a
1345  0370  78          	ld	a,b
1346  0371  CE 00       	adc	a,0x00
1347  0373  57          	ld	d,a
1348  0374  1A          	ld	a,(de)
1349  0375  CB EF       	set	5, a
1350  0377  12          	ld	(de),a
1351  0378  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1352  037A  86          	add	a, (hl)
1353  037B  5F          	ld	e,a
1354  037C  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1355  037E  CE 00       	adc	a,0x00
1356  0380  57          	ld	d,a
1357  0381  3E 03       	ld	a,0x03
1358  0383  12          	ld	(de),a
1359  0384  79          	ld	a,c
1360  0385  86          	add	a, (hl)
1361  0386  4F          	ld	c,a
1362  0387  78          	ld	a,b
1363  0388  CE 00       	adc	a,0x00
1364  038A  47          	ld	b,a
1365  038B  0A          	ld	a,(bc)
1366  038C  CB 57       	bit	2, a
1367  038E  28 13       	jr	Z,l_player_kill_00102
1368  0390  3A 00 00    	ld	a,(_sprite)
1369  0393  C6 00       	add	a,+((_tile) & 0xFF)
1370  0395  4F          	ld	c,a
1371  0396  3E 00       	ld	a,+((_tile) / 256)
1372  0398  CE 00       	adc	a,0x00
1373  039A  47          	ld	b,a
1374  039B  3A 00 00    	ld	a,(_tile_offset)
1375  039E  C6 0B       	add	a,0x0b
1376  03A0  02          	ld	(bc),a
1377  03A1  18 11       	jr	l_player_kill_00103
1378  03A3              l_player_kill_00102:
1379  03A3  3A 00 00    	ld	a,(_sprite)
1380  03A6  C6 00       	add	a,+((_tile) & 0xFF)
1381  03A8  4F          	ld	c,a
1382  03A9  3E 00       	ld	a,+((_tile) / 256)
1383  03AB  CE 00       	adc	a,0x00
1384  03AD  47          	ld	b,a
1385  03AE  3A 00 00    	ld	a,(_tile_offset)
1386  03B1  C6 17       	add	a,0x17
1387  03B3  02          	ld	(bc),a
1388  03B4              l_player_kill_00103:
1389  03B4  CD 75 0E    	call	_player_hit_brick_clear
1390  03B7  3E 00       	ld	a,+((_col) & 0xFF)
1391  03B9  21 00 00    	ld	hl,_sprite
1392  03BC  86          	add	a, (hl)
1393  03BD  4F          	ld	c,a
1394  03BE  3E 00       	ld	a,+((_col) / 256)
1395  03C0  CE 00       	adc	a,0x00
1396  03C2  47          	ld	b,a
1397  03C3  0A          	ld	a,(bc)
1398  03C4  4F          	ld	c,a
1399  03C5  3E 00       	ld	a,+((_lin) & 0xFF)
1400  03C7  86          	add	a, (hl)
1401  03C8  5F          	ld	e,a
1402  03C9  3E 00       	ld	a,+((_lin) / 256)
1403  03CB  CE 00       	adc	a,0x00
1404  03CD  57          	ld	d,a
1405  03CE  1A          	ld	a,(de)
1406  03CF  47          	ld	b,a
1407  03D0  3E 00       	ld	a,+((_tile) & 0xFF)
1408  03D2  86          	add	a, (hl)
1409  03D3  5F          	ld	e,a
1410  03D4  3E 00       	ld	a,+((_tile) / 256)
1411  03D6  CE 00       	adc	a,0x00
1412  03D8  57          	ld	d,a
1413  03D9  1A          	ld	a,(de)
1414  03DA  57          	ld	d,a
1415  03DB  79          	ld	a,c
1416  03DC  F5          	push	af
1417  03DD  33          	inc	sp
1418  03DE  4A          	ld	c, d
1419  03DF  7E          	ld	a,(hl)
1420  03E0  C5          	push	bc
1421  03E1  F5          	push	af
1422  03E2  33          	inc	sp
1423  03E3  CD 00 00    	call	_NIRVANAP_spriteT_callee
1424  03E6  01 00 00    	ld	bc,_spr_timer+0
1425  03E9  2A 00 00    	ld	hl,(_sprite)
1426  03EC  26 00       	ld	h,0x00
1427  03EE  29          	add	hl, hl
1428  03EF  09          	add	hl,bc
1429  03F0  ED 5B 00 00 	ld	de,(_curr_time)
1430  03F4  73          	ld	(hl),e
1431  03F5  23          	inc	hl
1432  03F6  72          	ld	(hl),d
1433  03F7  3A 00 00    	ld	a,(_sprite)
1434  03FA  D6 07       	sub	a,0x07
1435  03FC  20 1E       	jr	NZ,l_player_kill_00105
1436  03FE  01 00 00    	ld	bc,_state_a+0
1437  0401  79          	ld	a,c
1438  0402  21 00 00    	ld	hl,_sprite
1439  0405  86          	add	a, (hl)
1440  0406  5F          	ld	e,a
1441  0407  78          	ld	a,b
1442  0408  CE 00       	adc	a,0x00
1443  040A  57          	ld	d,a
1444  040B  1A          	ld	a,(de)
1445  040C  CB DF       	set	3, a
1446  040E  12          	ld	(de),a
1447  040F  79          	ld	a,c
1448  0410  86          	add	a, (hl)
1449  0411  4F          	ld	c,a
1450  0412  78          	ld	a,b
1451  0413  CE 00       	adc	a,0x00
1452  0415  47          	ld	b,a
1453  0416  0A          	ld	a,(bc)
1454  0417  E6 EF       	and	a,0xef
1455  0419  02          	ld	(bc),a
1456  041A  18 1C       	jr	l_player_kill_00109
1457  041C              l_player_kill_00105:
1458  041C  01 00 00    	ld	bc,_state_a+0
1459  041F  79          	ld	a,c
1460  0420  21 00 00    	ld	hl,_sprite
1461  0423  86          	add	a, (hl)
1462  0424  5F          	ld	e,a
1463  0425  78          	ld	a,b
1464  0426  CE 00       	adc	a,0x00
1465  0428  57          	ld	d,a
1466  0429  1A          	ld	a,(de)
1467  042A  CB E7       	set	4, a
1468  042C  12          	ld	(de),a
1469  042D  79          	ld	a,c
1470  042E  86          	add	a, (hl)
1471  042F  4F          	ld	c,a
1472  0430  78          	ld	a,b
1473  0431  CE 00       	adc	a,0x00
1474  0433  47          	ld	b,a
1475  0434  0A          	ld	a,(bc)
1476  0435  E6 F7       	and	a,0xf7
1477  0437  02          	ld	(bc),a
1478  0438              l_player_kill_00109:
1479  0438  C9          	ret
1480  0439              ;	---------------------------------
1481  0439              ; Function player_restart
1482  0439              ; ---------------------------------
1483  0439              _player_restart:
1484  0439  CD 00 00    	call	___sdcc_enter_ix
1485  043C  21 00 00    	ld	hl,_ay_effect_15
1486  043F  CD 00 00    	call	_ay_fx_play
1487  0442  DD 7E 04    	ld	a,(ix+4)
1488  0445  D6 07       	sub	a,0x07
1489  0447  20 19       	jr	NZ,l_player_restart_00102
1490  0449  21 0E 03    	ld	hl,0x030e
1491  044C  E5          	push	hl
1492  044D  21 07 00    	ld	hl,0x0007
1493  0450  E5          	push	hl
1494  0451  CD 00 00    	call	_player_init
1495  0454  F1          	pop	af
1496  0455  21 10 0E    	ld	hl,0x0e10
1497  0458  E3          	ex	(sp),hl
1498  0459  3E 84       	ld	a,0x84
1499  045B  F5          	push	af
1500  045C  33          	inc	sp
1501  045D  CD 00 00    	call	_NIRVANAP_drawT_callee
1502  0460  18 17       	jr	l_player_restart_00103
1503  0462              l_player_restart_00102:
1504  0462  21 10 27    	ld	hl,0x2710
1505  0465  E5          	push	hl
1506  0466  21 06 00    	ld	hl,0x0006
1507  0469  E5          	push	hl
1508  046A  CD 00 00    	call	_player_init
1509  046D  F1          	pop	af
1510  046E  21 10 10    	ld	hl,0x1010
1511  0471  E3          	ex	(sp),hl
1512  0472  3E 84       	ld	a,0x84
1513  0474  F5          	push	af
1514  0475  33          	inc	sp
1515  0476  CD 00 00    	call	_NIRVANAP_drawT_callee
1516  0479              l_player_restart_00103:
1517  0479  3E 00       	ld	a,+((_state) & 0xFF)
1518  047B  DD 86 04    	add	a,(ix+4)
1519  047E  4F          	ld	c,a
1520  047F  3E 00       	ld	a,+((_state) / 256)
1521  0481  CE 00       	adc	a,0x00
1522  0483  47          	ld	b,a
1523  0484  0A          	ld	a,(bc)
1524  0485  CB E7       	set	4, a
1525  0487  02          	ld	(bc),a
1526  0488  3E 00       	ld	a,+((_state_a) & 0xFF)
1527  048A  DD 86 04    	add	a,(ix+4)
1528  048D  4F          	ld	c,a
1529  048E  3E 00       	ld	a,+((_state_a) / 256)
1530  0490  CE 00       	adc	a,0x00
1531  0492  47          	ld	b,a
1532  0493  0A          	ld	a,(bc)
1533  0494  CB C7       	set	0, a
1534  0496  02          	ld	(bc),a
1535  0497  01 00 00    	ld	bc,_spr_timer+0
1536  049A  DD 6E 04    	ld	l,(ix+4)
1537  049D  26 00       	ld	h,0x00
1538  049F  29          	add	hl, hl
1539  04A0  09          	add	hl,bc
1540  04A1  ED 5B 00 00 	ld	de,(_curr_time)
1541  04A5  73          	ld	(hl),e
1542  04A6  23          	inc	hl
1543  04A7  72          	ld	(hl),d
1544  04A8  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1545  04AA  DD 86 04    	add	a,(ix+4)
1546  04AD  4F          	ld	c,a
1547  04AE  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1548  04B0  CE 00       	adc	a,0x00
1549  04B2  47          	ld	b,a
1550  04B3  3E 08       	ld	a,0x08
1551  04B5  02          	ld	(bc),a
1552  04B6  DD E1       	pop	ix
1553  04B8  C9          	ret
1554  04B9              ;	---------------------------------
1555  04B9              ; Function player_lost_life
1556  04B9              ; ---------------------------------
1557  04B9              _player_lost_life:
1558  04B9  CD 00 00    	call	_sound_hit_enemy
1559  04BC  01 00 00    	ld	bc,_game_lives+0
1560  04BF  79          	ld	a,c
1561  04C0  21 00 00    	ld	hl,_index_player
1562  04C3  86          	add	a, (hl)
1563  04C4  5F          	ld	e,a
1564  04C5  78          	ld	a,b
1565  04C6  CE 00       	adc	a,0x00
1566  04C8  57          	ld	d,a
1567  04C9  1A          	ld	a,(de)
1568  04CA  C6 FF       	add	a,0xff
1569  04CC  12          	ld	(de),a
1570  04CD  79          	ld	a,c
1571  04CE  86          	add	a, (hl)
1572  04CF  5F          	ld	e,a
1573  04D0  78          	ld	a,b
1574  04D1  CE 00       	adc	a,0x00
1575  04D3  57          	ld	d,a
1576  04D4  1A          	ld	a,(de)
1577  04D5  B7          	or	a, a
1578  04D6  20 13       	jr	NZ,l_player_lost_life_00105
1579  04D8  0A          	ld	a,(bc)
1580  04D9  B7          	or	a, a
1581  04DA  20 0B       	jr	NZ,l_player_lost_life_00102
1582  04DC  3A 01 00    	ld	a, (_game_lives + 1)
1583  04DF  B7          	or	a, a
1584  04E0  20 05       	jr	NZ,l_player_lost_life_00102
1585  04E2  21 00 00    	ld	hl,_game_over
1586  04E5  36 01       	ld	(hl),0x01
1587  04E7              l_player_lost_life_00102:
1588  04E7  2E 00       	ld	l,0x00
1589  04E9  18 08       	jr	l_player_lost_life_00106
1590  04EB              l_player_lost_life_00105:
1591  04EB  CD 00 00    	call	_spr_check_over
1592  04EE  CD 00 00    	call	_game_print_lives
1593  04F1  2E 01       	ld	l,0x01
1594  04F3              l_player_lost_life_00106:
1595  04F3  C9          	ret
1596  04F4              ;	---------------------------------
1597  04F4              ; Function player_turn
1598  04F4              ; ---------------------------------
1599  04F4              _player_turn:
1600  04F4  3A 00 00    	ld	a,(_sprite)
1601  04F7  C6 00       	add	a,+((_class) & 0xFF)
1602  04F9  4F          	ld	c,a
1603  04FA  3E 00       	ld	a,+((_class) / 256)
1604  04FC  CE 00       	adc	a,0x00
1605  04FE  47          	ld	b,a
1606  04FF  0A          	ld	a,(bc)
1607  0500  D6 10       	sub	a,0x10
1608  0502  20 53       	jr	NZ,l_player_turn_00110
1609  0504  3A 00 00    	ld	a,(_phase_left)
1610  0507  B7          	or	a, a
1611  0508  28 4D       	jr	Z,l_player_turn_00110
1612  050A  3A 00 00    	ld	a,(_index_player)
1613  050D  C6 00       	add	a,+((_game_lives) & 0xFF)
1614  050F  4F          	ld	c,a
1615  0510  3E 00       	ld	a,+((_game_lives) / 256)
1616  0512  CE 00       	adc	a,0x00
1617  0514  47          	ld	b,a
1618  0515  0A          	ld	a,(bc)
1619  0516  B7          	or	a, a
1620  0517  28 3E       	jr	Z,l_player_turn_00110
1621  0519  21 00 00    	ld	hl,_sprite
1622  051C  E5          	push	hl
1623  051D  CD 00 00    	call	_spr_chktime
1624  0520  F1          	pop	af
1625  0521  7D          	ld	a,l
1626  0522  B7          	or	a, a
1627  0523  28 32       	jr	Z,l_player_turn_00110
1628  0525  21 00 00    	ld	hl,_dirs
1629  0528  36 00       	ld	(hl),0x00
1630  052A  3A 00 00    	ld	a,(_sprite)
1631  052D  D6 07       	sub	a,0x07
1632  052F  20 11       	jr	NZ,l_player_turn_00102
1633  0531  21 00 00    	ld	hl,_k1
1634  0534  E5          	push	hl
1635  0535  2A 00 00    	ld	hl,(_joyfunc1)
1636  0538  CD 00 00    	call	___sdcc_call_hl
1637  053B  F1          	pop	af
1638  053C  7D          	ld	a,l
1639  053D  32 00 00    	ld	(_dirs),a
1640  0540  18 0F       	jr	l_player_turn_00103
1641  0542              l_player_turn_00102:
1642  0542  21 00 00    	ld	hl,_k1
1643  0545  E5          	push	hl
1644  0546  2A 00 00    	ld	hl,(_joyfunc2)
1645  0549  CD 00 00    	call	___sdcc_call_hl
1646  054C  F1          	pop	af
1647  054D  7D          	ld	a,l
1648  054E  32 00 00    	ld	(_dirs),a
1649  0551              l_player_turn_00103:
1650  0551  CD 58 05    	call	_player_move
1651  0554  CD 51 01    	call	_player_collition
1652  0557              l_player_turn_00110:
1653  0557  C9          	ret
1654  0558              ;	---------------------------------
1655  0558              ; Function player_move
1656  0558              ; ---------------------------------
1657  0558              _player_move:
1658  0558  CD 00 00    	call	___sdcc_enter_ix
1659  055B  F5          	push	af
1660  055C  3B          	dec	sp
1661  055D  3A 00 00    	ld	a,(_sprite)
1662  0560  C6 00       	add	a,+((_lin) & 0xFF)
1663  0562  4F          	ld	c,a
1664  0563  3E 00       	ld	a,+((_lin) / 256)
1665  0565  CE 00       	adc	a,0x00
1666  0567  47          	ld	b,a
1667  0568  0A          	ld	a,(bc)
1668  0569  DD 77 FD    	ld	(ix-3),a
1669  056C  32 00 00    	ld	(_s_lin0),a
1670  056F  3A 00 00    	ld	a,(_sprite)
1671  0572  C6 00       	add	a,+((_col) & 0xFF)
1672  0574  4F          	ld	c,a
1673  0575  3E 00       	ld	a,+((_col) / 256)
1674  0577  CE 00       	adc	a,0x00
1675  0579  47          	ld	b,a
1676  057A  0A          	ld	a,(bc)
1677  057B  32 00 00    	ld	(_s_col0),a
1678  057E  3E 00       	ld	a,+((_tile) & 0xFF)
1679  0580  21 00 00    	ld	hl,_sprite
1680  0583  86          	add	a, (hl)
1681  0584  DD 77 FE    	ld	(ix-2),a
1682  0587  6F          	ld	l,a
1683  0588  3E 00       	ld	a,+((_tile) / 256)
1684  058A  CE 00       	adc	a,0x00
1685  058C  DD 77 FF    	ld	(ix-1),a
1686  058F  67          	ld	h,a
1687  0590  4E          	ld	c,(hl)
1688  0591  2A 00 00    	ld	hl,(_sprite)
1689  0594  26 00       	ld	h,0x00
1690  0596  11 00 00    	ld	de,_colint
1691  0599  19          	add	hl,de
1692  059A  7E          	ld	a,(hl)
1693  059B  81          	add	a,c
1694  059C  32 00 00    	ld	(_s_tile0),a
1695  059F  3A 00 00    	ld	a,(_sprite)
1696  05A2  C6 00       	add	a,+((_state) & 0xFF)
1697  05A4  4F          	ld	c,a
1698  05A5  3E 00       	ld	a,+((_state) / 256)
1699  05A7  CE 00       	adc	a,0x00
1700  05A9  47          	ld	b,a
1701  05AA  0A          	ld	a,(bc)
1702  05AB  32 00 00    	ld	(_s_state),a
1703  05AE  E6 20       	and	a,0x20
1704  05B0  28 35       	jr	Z,l_player_move_00104
1705  05B2  3A 00 00    	ld	a,(_tile_offset)
1706  05B5  C6 0A       	add	a,0x0a
1707  05B7  DD 6E FE    	ld	l,(ix-2)
1708  05BA  DD 66 FF    	ld	h,(ix-1)
1709  05BD  77          	ld	(hl),a
1710  05BE  01 00 00    	ld	bc,_spr_timer+0
1711  05C1  2A 00 00    	ld	hl,(_sprite)
1712  05C4  26 00       	ld	h,0x00
1713  05C6  29          	add	hl, hl
1714  05C7  09          	add	hl,bc
1715  05C8  4E          	ld	c,(hl)
1716  05C9  23          	inc	hl
1717  05CA  46          	ld	b,(hl)
1718  05CB  21 28 00    	ld	hl,0x0028
1719  05CE  E5          	push	hl
1720  05CF  C5          	push	bc
1721  05D0  CD 00 00    	call	_game_check_time
1722  05D3  F1          	pop	af
1723  05D4  F1          	pop	af
1724  05D5  7D          	ld	a,l
1725  05D6  B7          	or	a, a
1726  05D7  28 09       	jr	Z,l_player_move_00102
1727  05D9  3A 00 00    	ld	a,(_sprite)
1728  05DC  F5          	push	af
1729  05DD  33          	inc	sp
1730  05DE  CD 00 00    	call	_spr_killed
1731  05E1  33          	inc	sp
1732  05E2              l_player_move_00102:
1733  05E2  2E 00       	ld	l,0x00
1734  05E4  C3 9D 09    	jp	l_player_move_00153
1735  05E7              l_player_move_00104:
1736  05E7  3A 00 00    	ld	a,(_s_state)
1737  05EA  E6 10       	and	a,0x10
1738  05EC  CA 24 07    	jp	Z,l_player_move_00117
1739  05EF  DD 7E FD    	ld	a,(ix-3)
1740  05F2  D6 10       	sub	a,0x10
1741  05F4  30 14       	jr	NC,l_player_move_00108
1742  05F6  3A 00 00    	ld	a,(_sprite)
1743  05F9  C6 00       	add	a,+((_state_a) & 0xFF)
1744  05FB  4F          	ld	c,a
1745  05FC  3E 00       	ld	a,+((_state_a) / 256)
1746  05FE  CE 00       	adc	a,0x00
1747  0600  47          	ld	b,a
1748  0601  0A          	ld	a,(bc)
1749  0602  E6 FE       	and	a,0xfe
1750  0604  02          	ld	(bc),a
1751  0605  CD 00 00    	call	_spr_move_down
1752  0608  18 4C       	jr	l_player_move_00109
1753  060A              l_player_move_00108:
1754  060A  CD 33 01    	call	_player_check_input
1755  060D  7D          	ld	a,l
1756  060E  B7          	or	a, a
1757  060F  28 45       	jr	Z,l_player_move_00109
1758  0611  2A 00 00    	ld	hl,(_sprite)
1759  0614  26 00       	ld	h,0x00
1760  0616  01 00 00    	ld	bc,_state
1761  0619  09          	add	hl,bc
1762  061A  7E          	ld	a,(hl)
1763  061B  E6 EF       	and	a,0xef
1764  061D  77          	ld	(hl),a
1765  061E  2A 00 00    	ld	hl,(_sprite)
1766  0621  26 00       	ld	h,0x00
1767  0623  01 00 00    	ld	bc,_state_a
1768  0626  09          	add	hl,bc
1769  0627  7E          	ld	a,(hl)
1770  0628  E6 FE       	and	a,0xfe
1771  062A  77          	ld	(hl),a
1772  062B  76          	halt
1773  062C  3A 00 00    	ld	a,(_s_col0)
1774  062F  F5          	push	af
1775  0630  33          	inc	sp
1776  0631  21 A9 10    	ld	hl,0x10a9
1777  0634  E5          	push	hl
1778  0635  CD 00 00    	call	_NIRVANAP_drawT_callee
1779  0638  3A 00 00    	ld	a,(_s_col0)
1780  063B  F5          	push	af
1781  063C  33          	inc	sp
1782  063D  21 A9 20    	ld	hl,0x20a9
1783  0640  E5          	push	hl
1784  0641  CD 00 00    	call	_NIRVANAP_drawT_callee
1785  0644  3A 00 00    	ld	a,(_sprite)
1786  0647  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1787  0649  4F          	ld	c,a
1788  064A  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1789  064C  CE 00       	adc	a,0x00
1790  064E  47          	ld	b,a
1791  064F  AF          	xor	a, a
1792  0650  02          	ld	(bc),a
1793  0651  2E 00       	ld	l,0x00
1794  0653  C3 9D 09    	jp	l_player_move_00153
1795  0656              l_player_move_00109:
1796  0656  CD 00 00    	call	_spr_redraw
1797  0659  ED 4B 00 00 	ld	bc,(_curr_time)
1798  065D  2A 00 00    	ld	hl,(_sprite)
1799  0660  26 00       	ld	h,0x00
1800  0662  29          	add	hl, hl
1801  0663  11 00 00    	ld	de,_spr_timer
1802  0666  19          	add	hl,de
1803  0667  5E          	ld	e,(hl)
1804  0668  23          	inc	hl
1805  0669  56          	ld	d,(hl)
1806  066A  69          	ld	l,c
1807  066B  60          	ld	h,b
1808  066C  AF          	xor	a,a
1809  066D  ED 52       	sbc	hl,de
1810  066F  22 00 00    	ld	(_tmp_ui),hl
1811  0672  21 00 00    	ld	hl,_tmp
1812  0675  36 00       	ld	(hl),0x00
1813  0677  3E 32       	ld	a,0x32
1814  0679  21 00 00    	ld	hl,_tmp_ui
1815  067C  BE          	cp	a, (hl)
1816  067D  3E 00       	ld	a,0x00
1817  067F  23          	inc	hl
1818  0680  9E          	sbc	a, (hl)
1819  0681  30 05       	jr	NC,l_player_move_00111
1820  0683  21 00 00    	ld	hl,_tmp
1821  0686  36 01       	ld	(hl),0x01
1822  0688              l_player_move_00111:
1823  0688  3E 64       	ld	a,0x64
1824  068A  21 00 00    	ld	hl,_tmp_ui
1825  068D  BE          	cp	a, (hl)
1826  068E  3E 00       	ld	a,0x00
1827  0690  23          	inc	hl
1828  0691  9E          	sbc	a, (hl)
1829  0692  30 05       	jr	NC,l_player_move_00113
1830  0694  21 00 00    	ld	hl,_tmp
1831  0697  36 02       	ld	(hl),0x02
1832  0699              l_player_move_00113:
1833  0699  76          	halt
1834  069A  3A 00 00    	ld	a,(_sprite)
1835  069D  C6 00       	add	a,+((_lin) & 0xFF)
1836  069F  4F          	ld	c,a
1837  06A0  3E 00       	ld	a,+((_lin) / 256)
1838  06A2  CE 00       	adc	a,0x00
1839  06A4  47          	ld	b,a
1840  06A5  0A          	ld	a,(bc)
1841  06A6  C6 10       	add	a,0x10
1842  06A8  57          	ld	d,a
1843  06A9  3A 00 00    	ld	a,(_tmp)
1844  06AC  C6 84       	add	a,0x84
1845  06AE  47          	ld	b,a
1846  06AF  3A 00 00    	ld	a,(_s_col0)
1847  06B2  5A          	ld	e,d
1848  06B3  57          	ld	d,a
1849  06B4  D5          	push	de
1850  06B5  C5          	push	bc
1851  06B6  33          	inc	sp
1852  06B7  CD 00 00    	call	_NIRVANAP_drawT_callee
1853  06BA  3E 96       	ld	a,0x96
1854  06BC  21 00 00    	ld	hl,_tmp_ui
1855  06BF  BE          	cp	a, (hl)
1856  06C0  3E 00       	ld	a,0x00
1857  06C2  23          	inc	hl
1858  06C3  9E          	sbc	a, (hl)
1859  06C4  30 59       	jr	NC,l_player_move_00115
1860  06C6  2A 00 00    	ld	hl,(_sprite)
1861  06C9  26 00       	ld	h,0x00
1862  06CB  01 00 00    	ld	bc,_lin
1863  06CE  09          	add	hl,bc
1864  06CF  4E          	ld	c, (hl)
1865  06D0  3A 00 00    	ld	a, (_s_col0)
1866  06D3  47          	ld	b,a
1867  06D4  C5          	push	bc
1868  06D5  3E A9       	ld	a,0xa9
1869  06D7  F5          	push	af
1870  06D8  33          	inc	sp
1871  06D9  CD 00 00    	call	_NIRVANAP_drawT_callee
1872  06DC  3A 00 00    	ld	a,(_sprite)
1873  06DF  C6 00       	add	a,+((_lin) & 0xFF)
1874  06E1  4F          	ld	c,a
1875  06E2  3E 00       	ld	a,+((_lin) / 256)
1876  06E4  CE 00       	adc	a,0x00
1877  06E6  47          	ld	b,a
1878  06E7  0A          	ld	a,(bc)
1879  06E8  C6 10       	add	a,0x10
1880  06EA  4F          	ld	c, a
1881  06EB  3A 00 00    	ld	a, (_s_col0)
1882  06EE  47          	ld	b,a
1883  06EF  C5          	push	bc
1884  06F0  3E A9       	ld	a,0xa9
1885  06F2  F5          	push	af
1886  06F3  33          	inc	sp
1887  06F4  CD 00 00    	call	_NIRVANAP_drawT_callee
1888  06F7  2A 00 00    	ld	hl,(_sprite)
1889  06FA  26 00       	ld	h,0x00
1890  06FC  01 00 00    	ld	bc,_state
1891  06FF  09          	add	hl,bc
1892  0700  7E          	ld	a,(hl)
1893  0701  E6 EF       	and	a,0xef
1894  0703  77          	ld	(hl),a
1895  0704  3E 00       	ld	a,+((_state) & 0xFF)
1896  0706  21 00 00    	ld	hl,_sprite
1897  0709  86          	add	a, (hl)
1898  070A  4F          	ld	c,a
1899  070B  3E 00       	ld	a,+((_state) / 256)
1900  070D  CE 00       	adc	a,0x00
1901  070F  47          	ld	b,a
1902  0710  0A          	ld	a,(bc)
1903  0711  CB C7       	set	0, a
1904  0713  02          	ld	(bc),a
1905  0714  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1906  0716  86          	add	a, (hl)
1907  0717  4F          	ld	c,a
1908  0718  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1909  071A  CE 00       	adc	a,0x00
1910  071C  47          	ld	b,a
1911  071D  AF          	xor	a, a
1912  071E  02          	ld	(bc),a
1913  071F              l_player_move_00115:
1914  071F  2E 00       	ld	l,0x00
1915  0721  C3 9D 09    	jp	l_player_move_00153
1916  0724              l_player_move_00117:
1917  0724  3A 00 00    	ld	a,(_sprite)
1918  0727  C6 00       	add	a,+((_state_a) & 0xFF)
1919  0729  4F          	ld	c,a
1920  072A  3E 00       	ld	a,+((_state_a) / 256)
1921  072C  CE 00       	adc	a,0x00
1922  072E  47          	ld	b,a
1923  072F  0A          	ld	a,(bc)
1924  0730  0F          	rrca
1925  0731  30 1D       	jr	NC,l_player_move_00122
1926  0733  CD 33 01    	call	_player_check_input
1927  0736  7D          	ld	a,l
1928  0737  B7          	or	a, a
1929  0738  28 11       	jr	Z,l_player_move_00119
1930  073A  3A 00 00    	ld	a,(_sprite)
1931  073D  C6 00       	add	a,+((_state_a) & 0xFF)
1932  073F  4F          	ld	c,a
1933  0740  3E 00       	ld	a,+((_state_a) / 256)
1934  0742  CE 00       	adc	a,0x00
1935  0744  47          	ld	b,a
1936  0745  0A          	ld	a,(bc)
1937  0746  E6 FE       	and	a,0xfe
1938  0748  02          	ld	(bc),a
1939  0749  18 05       	jr	l_player_move_00122
1940  074B              l_player_move_00119:
1941  074B  2E 00       	ld	l,0x00
1942  074D  C3 9D 09    	jp	l_player_move_00153
1943  0750              l_player_move_00122:
1944  0750  3A 00 00    	ld	a,(_sprite)
1945  0753  C6 00       	add	a,+((_state_a) & 0xFF)
1946  0755  4F          	ld	c,a
1947  0756  3E 00       	ld	a,+((_state_a) / 256)
1948  0758  CE 00       	adc	a,0x00
1949  075A  47          	ld	b,a
1950  075B  0A          	ld	a,(bc)
1951  075C  CB 57       	bit	2, a
1952  075E  28 58       	jr	Z,l_player_move_00126
1953  0760  01 00 00    	ld	bc,_spr_timer+0
1954  0763  2A 00 00    	ld	hl,(_sprite)
1955  0766  26 00       	ld	h,0x00
1956  0768  29          	add	hl, hl
1957  0769  09          	add	hl,bc
1958  076A  4E          	ld	c,(hl)
1959  076B  23          	inc	hl
1960  076C  46          	ld	b,(hl)
1961  076D  21 14 00    	ld	hl,0x0014
1962  0770  E5          	push	hl
1963  0771  C5          	push	bc
1964  0772  CD 00 00    	call	_game_check_time
1965  0775  F1          	pop	af
1966  0776  F1          	pop	af
1967  0777  7D          	ld	a,l
1968  0778  B7          	or	a, a
1969  0779  28 3D       	jr	Z,l_player_move_00126
1970  077B  2A 00 00    	ld	hl,(_sprite)
1971  077E  26 00       	ld	h,0x00
1972  0780  01 00 00    	ld	bc,_state_a
1973  0783  09          	add	hl,bc
1974  0784  7E          	ld	a,(hl)
1975  0785  E6 FB       	and	a,0xfb
1976  0787  77          	ld	(hl),a
1977  0788  3E 00       	ld	a,+((_colint) & 0xFF)
1978  078A  21 00 00    	ld	hl,_sprite
1979  078D  86          	add	a, (hl)
1980  078E  4F          	ld	c,a
1981  078F  3E 00       	ld	a,+((_colint) / 256)
1982  0791  CE 00       	adc	a,0x00
1983  0793  47          	ld	b,a
1984  0794  AF          	xor	a, a
1985  0795  02          	ld	(bc),a
1986  0796  3E 00       	ld	a,+((_tile) & 0xFF)
1987  0798  86          	add	a, (hl)
1988  0799  4F          	ld	c,a
1989  079A  3E 00       	ld	a,+((_tile) / 256)
1990  079C  CE 00       	adc	a,0x00
1991  079E  47          	ld	b,a
1992  079F  3A 00 00    	ld	a,(_tile_offset)
1993  07A2  5F          	ld	e,a
1994  07A3  16 00       	ld	d,0x00
1995  07A5  13          	inc	de
1996  07A6  13          	inc	de
1997  07A7  13          	inc	de
1998  07A8  2A 00 00    	ld	hl,(_sprite)
1999  07AB  C5          	push	bc
2000  07AC  26 0C       	ld	h,0x0c
2001  07AE  E5          	push	hl
2002  07AF  D5          	push	de
2003  07B0  CD 00 00    	call	_spr_tile_dir
2004  07B3  F1          	pop	af
2005  07B4  F1          	pop	af
2006  07B5  C1          	pop	bc
2007  07B6  7D          	ld	a, l
2008  07B7  02          	ld	(bc),a
2009  07B8              l_player_move_00126:
2010  07B8  3A 00 00    	ld	a,(_sprite)
2011  07BB  C6 00       	add	a,+((_state_a) & 0xFF)
2012  07BD  4F          	ld	c,a
2013  07BE  3E 00       	ld	a,+((_state_a) / 256)
2014  07C0  CE 00       	adc	a,0x00
2015  07C2  47          	ld	b,a
2016  07C3  0A          	ld	a,(bc)
2017  07C4  CB 6F       	bit	5, a
2018  07C6  28 2E       	jr	Z,l_player_move_00130
2019  07C8  01 00 00    	ld	bc,_spr_timer+0
2020  07CB  2A 00 00    	ld	hl,(_sprite)
2021  07CE  26 00       	ld	h,0x00
2022  07D0  29          	add	hl, hl
2023  07D1  09          	add	hl,bc
2024  07D2  4E          	ld	c,(hl)
2025  07D3  23          	inc	hl
2026  07D4  7E          	ld	a,(hl)
2027  07D5  47          	ld	b,a
2028  07D6  B1          	or	a,c
2029  07D7  28 1D       	jr	Z,l_player_move_00130
2030  07D9  21 08 00    	ld	hl,0x0008
2031  07DC  E5          	push	hl
2032  07DD  C5          	push	bc
2033  07DE  CD 00 00    	call	_game_check_time
2034  07E1  F1          	pop	af
2035  07E2  F1          	pop	af
2036  07E3  7D          	ld	a,l
2037  07E4  B7          	or	a, a
2038  07E5  28 0F       	jr	Z,l_player_move_00130
2039  07E7  3A 00 00    	ld	a,(_sprite)
2040  07EA  C6 00       	add	a,+((_state_a) & 0xFF)
2041  07EC  4F          	ld	c,a
2042  07ED  3E 00       	ld	a,+((_state_a) / 256)
2043  07EF  CE 00       	adc	a,0x00
2044  07F1  47          	ld	b,a
2045  07F2  0A          	ld	a,(bc)
2046  07F3  E6 DF       	and	a,0xdf
2047  07F5  02          	ld	(bc),a
2048  07F6              l_player_move_00130:
2049  07F6  CD A2 09    	call	_player_move_input
2050  07F9  3A 00 00    	ld	a,(_sprite)
2051  07FC  C6 00       	add	a,+((_state) & 0xFF)
2052  07FE  4F          	ld	c,a
2053  07FF  3E 00       	ld	a,+((_state) / 256)
2054  0801  CE 00       	adc	a,0x00
2055  0803  47          	ld	b,a
2056  0804  0A          	ld	a,(bc)
2057  0805  32 00 00    	ld	(_s_state),a
2058  0808  0F          	rrca
2059  0809  DA 53 09    	jp	C,l_player_move_00148
2060  080C  3A 00 00    	ld	a,(_s_state)
2061  080F  E6 02       	and	a,0x02
2062  0811  C2 53 09    	jp	NZ,l_player_move_00148
2063  0814  3E 00       	ld	a,+((_col) & 0xFF)
2064  0816  21 00 00    	ld	hl,_sprite
2065  0819  86          	add	a, (hl)
2066  081A  4F          	ld	c,a
2067  081B  3E 00       	ld	a,+((_col) / 256)
2068  081D  CE 00       	adc	a,0x00
2069  081F  47          	ld	b,a
2070  0820  0A          	ld	a,(bc)
2071  0821  57          	ld	d,a
2072  0822  4E          	ld	c,(hl)
2073  0823  06 00       	ld	b,0x00
2074  0825  21 00 00    	ld	hl,_lin
2075  0828  09          	add	hl,bc
2076  0829  7E          	ld	a,(hl)
2077  082A  C6 10       	add	a,0x10
2078  082C  5F          	ld	e, a
2079  082D  D5          	push	de
2080  082E  CD 00 00    	call	_game_calc_index
2081  0831  F1          	pop	af
2082  0832  22 00 00    	ld	(_index_d),hl
2083  0835  3A 00 00    	ld	a,(_s_lin0)
2084  0838  D6 98       	sub	a,0x98
2085  083A  20 06       	jr	NZ,l_player_move_00133
2086  083C  21 00 00    	ld	hl,0x0000
2087  083F  22 00 00    	ld	(_index_d),hl
2088  0842              l_player_move_00133:
2089  0842  21 01 00    	ld	hl,_index_d + 1
2090  0845  7E          	ld	a,(hl)
2091  0846  2B          	dec	hl
2092  0847  B6          	or	a,(hl)
2093  0848  28 2E       	jr	Z,l_player_move_00135
2094  084A  01 00 00    	ld	bc,_lvl_1+0
2095  084D  79          	ld	a,c
2096  084E  86          	add	a, (hl)
2097  084F  5F          	ld	e,a
2098  0850  78          	ld	a,b
2099  0851  23          	inc	hl
2100  0852  8E          	adc	a, (hl)
2101  0853  57          	ld	d,a
2102  0854  1A          	ld	a,(de)
2103  0855  D6 10       	sub	a,0x10
2104  0857  30 1F       	jr	NC,l_player_move_00135
2105  0859  56          	ld	d,(hl)
2106  085A  2B          	dec	hl
2107  085B  5E          	ld	e,(hl)
2108  085C  13          	inc	de
2109  085D  69          	ld	l, c
2110  085E  60          	ld	h, b
2111  085F  19          	add	hl,de
2112  0860  7E          	ld	a, (hl)
2113  0861  D6 10       	sub	a,0x10
2114  0863  30 13       	jr	NC,l_player_move_00135
2115  0865  3A 00 00    	ld	a,(_sprite)
2116  0868  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2117  086A  4F          	ld	c,a
2118  086B  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2119  086D  CE 00       	adc	a,0x00
2120  086F  47          	ld	b,a
2121  0870  3E 02       	ld	a,0x02
2122  0872  02          	ld	(bc),a
2123  0873  21 00 00    	ld	hl,_s_state
2124  0876  CB CE       	set	1, (hl)
2125  0878              l_player_move_00135:
2126  0878  CD 33 01    	call	_player_check_input
2127  087B  7D          	ld	a,l
2128  087C  B7          	or	a, a
2129  087D  C2 56 09    	jp	NZ,l_player_move_00149
2130  0880  3A 00 00    	ld	a,(_index_player)
2131  0883  C6 00       	add	a,+((_sliding) & 0xFF)
2132  0885  4F          	ld	c,a
2133  0886  3E 00       	ld	a,+((_sliding) / 256)
2134  0888  CE 00       	adc	a,0x00
2135  088A  47          	ld	b,a
2136  088B  0A          	ld	a,(bc)
2137  088C  B7          	or	a, a
2138  088D  CA 56 09    	jp	Z,l_player_move_00149
2139  0890  3A 00 00    	ld	a,(_s_state)
2140  0893  E6 02       	and	a,0x02
2141  0895  C2 56 09    	jp	NZ,l_player_move_00149
2142  0898  CD 00 00    	call	_ay_is_playing
2143  089B  7D          	ld	a,l
2144  089C  D6 03       	sub	a,0x03
2145  089E  28 06       	jr	Z,l_player_move_00139
2146  08A0  21 00 00    	ld	hl,_ay_effect_01
2147  08A3  CD 00 00    	call	_ay_fx_play
2148  08A6              l_player_move_00139:
2149  08A6  CD 00 00    	call	_sound_slide
2150  08A9  CD 87 0B    	call	_player_move_horizontal
2151  08AC  3A 00 00    	ld	a,(_index_player)
2152  08AF  C6 00       	add	a,+((_sliding) & 0xFF)
2153  08B1  4F          	ld	c,a
2154  08B2  3E 00       	ld	a,+((_sliding) / 256)
2155  08B4  CE 00       	adc	a,0x00
2156  08B6  47          	ld	b,a
2157  08B7  0A          	ld	a,(bc)
2158  08B8  C6 FF       	add	a,0xff
2159  08BA  02          	ld	(bc),a
2160  08BB  3A 00 00    	ld	a,(_sprite)
2161  08BE  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2162  08C0  4F          	ld	c,a
2163  08C1  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2164  08C3  CE 00       	adc	a,0x00
2165  08C5  47          	ld	b,a
2166  08C6  AF          	xor	a, a
2167  08C7  02          	ld	(bc),a
2168  08C8  3A 00 00    	ld	a,(_index_player)
2169  08CB  C6 00       	add	a,+((_sliding) & 0xFF)
2170  08CD  4F          	ld	c,a
2171  08CE  3E 00       	ld	a,+((_sliding) / 256)
2172  08D0  CE 00       	adc	a,0x00
2173  08D2  47          	ld	b,a
2174  08D3  0A          	ld	a,(bc)
2175  08D4  B7          	or	a, a
2176  08D5  20 55       	jr	NZ,l_player_move_00141
2177  08D7  3E 00       	ld	a,+((_state_a) & 0xFF)
2178  08D9  21 00 00    	ld	hl,_sprite
2179  08DC  86          	add	a, (hl)
2180  08DD  4F          	ld	c,a
2181  08DE  3E 00       	ld	a,+((_state_a) / 256)
2182  08E0  CE 00       	adc	a,0x00
2183  08E2  47          	ld	b,a
2184  08E3  0A          	ld	a,(bc)
2185  08E4  CB EF       	set	5, a
2186  08E6  02          	ld	(bc),a
2187  08E7  01 00 00    	ld	bc,_spr_timer+0
2188  08EA  6E          	ld	l,(hl)
2189  08EB  26 00       	ld	h,0x00
2190  08ED  29          	add	hl, hl
2191  08EE  09          	add	hl,bc
2192  08EF  AF          	xor	a, a
2193  08F0  77          	ld	(hl), a
2194  08F1  23          	inc	hl
2195  08F2  77          	ld	(hl), a
2196  08F3  3E 00       	ld	a,+((_colint) & 0xFF)
2197  08F5  21 00 00    	ld	hl,_sprite
2198  08F8  86          	add	a, (hl)
2199  08F9  4F          	ld	c,a
2200  08FA  3E 00       	ld	a,+((_colint) / 256)
2201  08FC  CE 00       	adc	a,0x00
2202  08FE  47          	ld	b,a
2203  08FF  AF          	xor	a, a
2204  0900  02          	ld	(bc),a
2205  0901  3E 00       	ld	a,+((_tile) & 0xFF)
2206  0903  86          	add	a, (hl)
2207  0904  4F          	ld	c,a
2208  0905  3E 00       	ld	a,+((_tile) / 256)
2209  0907  CE 00       	adc	a,0x00
2210  0909  47          	ld	b,a
2211  090A  3A 00 00    	ld	a,(_tile_offset)
2212  090D  5F          	ld	e,a
2213  090E  16 00       	ld	d,0x00
2214  0910  13          	inc	de
2215  0911  13          	inc	de
2216  0912  13          	inc	de
2217  0913  2A 00 00    	ld	hl,(_sprite)
2218  0916  C5          	push	bc
2219  0917  26 0C       	ld	h,0x0c
2220  0919  E5          	push	hl
2221  091A  D5          	push	de
2222  091B  CD 00 00    	call	_spr_tile_dir
2223  091E  F1          	pop	af
2224  091F  F1          	pop	af
2225  0920  C1          	pop	bc
2226  0921  7D          	ld	a, l
2227  0922  02          	ld	(bc),a
2228  0923  21 00 00    	ld	hl,_s_state
2229  0926  CB 96       	res	2, (hl)
2230  0928  CB 9E       	res	3, (hl)
2231  092A  18 2A       	jr	l_player_move_00149
2232  092C              l_player_move_00141:
2233  092C  3A 00 00    	ld	a,(_sprite)
2234  092F  C6 00       	add	a,+((_tile) & 0xFF)
2235  0931  4F          	ld	c,a
2236  0932  3E 00       	ld	a,+((_tile) / 256)
2237  0934  CE 00       	adc	a,0x00
2238  0936  47          	ld	b,a
2239  0937  3A 00 00    	ld	a,(_tile_offset)
2240  093A  5F          	ld	e,a
2241  093B  16 00       	ld	d,0x00
2242  093D  13          	inc	de
2243  093E  13          	inc	de
2244  093F  13          	inc	de
2245  0940  13          	inc	de
2246  0941  2A 00 00    	ld	hl,(_sprite)
2247  0944  C5          	push	bc
2248  0945  26 0C       	ld	h,0x0c
2249  0947  E5          	push	hl
2250  0948  D5          	push	de
2251  0949  CD 00 00    	call	_spr_tile_dir
2252  094C  F1          	pop	af
2253  094D  F1          	pop	af
2254  094E  C1          	pop	bc
2255  094F  7D          	ld	a, l
2256  0950  02          	ld	(bc),a
2257  0951  18 03       	jr	l_player_move_00149
2258  0953              l_player_move_00148:
2259  0953  CD 00 00    	call	_test_func
2260  0956              l_player_move_00149:
2261  0956  2A 00 00    	ld	hl,(_sprite)
2262  0959  26 00       	ld	h,0x00
2263  095B  29          	add	hl,hl
2264  095C  DD 75 FE    	ld	(ix-2),l
2265  095F  DD 74 FF    	ld	(ix-1),h
2266  0962  01 00 00    	ld	bc,_spr_timer
2267  0965  09          	add	hl,bc
2268  0966  DD 75 FE    	ld	(ix-2),l
2269  0969  DD 74 FF    	ld	(ix-1),h
2270  096C  11 FE FF    	ld	de,-2
2271  096F  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
2272  0972  21 04 00    	ld	hl,0x0004
2273  0975  E5          	push	hl
2274  0976  DD 6E FE    	ld	l,(ix-2)
2275  0979  DD 66 FF    	ld	h,(ix-1)
2276  097C  E5          	push	hl
2277  097D  CD 00 00    	call	_game_check_time
2278  0980  F1          	pop	af
2279  0981  F1          	pop	af
2280  0982  7D          	ld	a,l
2281  0983  B7          	or	a, a
2282  0984  28 03       	jr	Z,l_player_move_00152
2283  0986  CD 75 0E    	call	_player_hit_brick_clear
2284  0989              l_player_move_00152:
2285  0989  CD 00 00    	call	_spr_redraw
2286  098C  3A 00 00    	ld	a,(_sprite)
2287  098F  C6 00       	add	a,+((_state) & 0xFF)
2288  0991  4F          	ld	c,a
2289  0992  3E 00       	ld	a,+((_state) / 256)
2290  0994  CE 00       	adc	a,0x00
2291  0996  47          	ld	b,a
2292  0997  3A 00 00    	ld	a,(_s_state)
2293  099A  02          	ld	(bc),a
2294  099B  2E 00       	ld	l,0x00
2295  099D              l_player_move_00153:
2296  099D  DD F9       	ld	sp, ix
2297  099F  DD E1       	pop	ix
2298  09A1  C9          	ret
2299  09A2              ;	---------------------------------
2300  09A2              ; Function player_move_input
2301  09A2              ; ---------------------------------
2302  09A2              _player_move_input:
2303  09A2  CD 33 01    	call	_player_check_input
2304  09A5  7D          	ld	a,l
2305  09A6  B7          	or	a, a
2306  09A7  CA 84 0B    	jp	Z,l_player_move_input_00126
2307  09AA  3A 00 00    	ld	a,(_s_state)
2308  09AD  0F          	rrca
2309  09AE  DA 80 0B    	jp	C,l_player_move_input_00123
2310  09B1  3A 00 00    	ld	a,(_s_state)
2311  09B4  E6 02       	and	a,0x02
2312  09B6  C2 80 0B    	jp	NZ,l_player_move_input_00123
2313  09B9  2A FF FF    	ld	hl,(_s_col0 - 1)
2314  09BC  3A 00 00    	ld	a,(_s_lin0)
2315  09BF  6F          	ld	l,a
2316  09C0  E5          	push	hl
2317  09C1  CD F3 00    	call	_player_calc_slide
2318  09C4  F1          	pop	af
2319  09C5  3A 00 00    	ld	a,(_sprite)
2320  09C8  C6 00       	add	a,+((_state_a) & 0xFF)
2321  09CA  4F          	ld	c,a
2322  09CB  3E 00       	ld	a,+((_state_a) / 256)
2323  09CD  CE 00       	adc	a,0x00
2324  09CF  47          	ld	b,a
2325  09D0  0A          	ld	a,(bc)
2326  09D1  CB 6F       	bit	5, a
2327  09D3  28 1B       	jr	Z,l_player_move_input_00102
2328  09D5  01 00 00    	ld	bc,_spr_timer+0
2329  09D8  2A 00 00    	ld	hl,(_sprite)
2330  09DB  26 00       	ld	h,0x00
2331  09DD  29          	add	hl, hl
2332  09DE  09          	add	hl,bc
2333  09DF  4D          	ld	c,l
2334  09E0  44          	ld	b,h
2335  09E1  5E          	ld	e,(hl)
2336  09E2  23          	inc	hl
2337  09E3  7E          	ld	a, (hl)
2338  09E4  B3          	or	a,e
2339  09E5  20 09       	jr	NZ,l_player_move_input_00102
2340  09E7  ED 5B 00 00 	ld	de,(_curr_time)
2341  09EB  7B          	ld	a,e
2342  09EC  02          	ld	(bc),a
2343  09ED  03          	inc	bc
2344  09EE  7A          	ld	a,d
2345  09EF  02          	ld	(bc),a
2346  09F0              l_player_move_input_00102:
2347  09F0  3A 00 00    	ld	a,(_dirs)
2348  09F3  E6 08       	and	a,0x08
2349  09F5  28 24       	jr	Z,l_player_move_input_00105
2350  09F7  21 00 00    	ld	hl,_s_state
2351  09FA  CB D6       	set	2, (hl)
2352  09FC  CB 9E       	res	3, (hl)
2353  09FE  3E 00       	ld	a,+((_state_a) & 0xFF)
2354  0A00  21 00 00    	ld	hl,_sprite
2355  0A03  86          	add	a, (hl)
2356  0A04  4F          	ld	c,a
2357  0A05  3E 00       	ld	a,+((_state_a) / 256)
2358  0A07  CE 00       	adc	a,0x00
2359  0A09  47          	ld	b,a
2360  0A0A  0A          	ld	a,(bc)
2361  0A0B  CB E7       	set	4, a
2362  0A0D  02          	ld	(bc),a
2363  0A0E  3E 00       	ld	a,+((_state_a) & 0xFF)
2364  0A10  86          	add	a, (hl)
2365  0A11  4F          	ld	c,a
2366  0A12  3E 00       	ld	a,+((_state_a) / 256)
2367  0A14  CE 00       	adc	a,0x00
2368  0A16  47          	ld	b,a
2369  0A17  0A          	ld	a,(bc)
2370  0A18  E6 F7       	and	a,0xf7
2371  0A1A  02          	ld	(bc),a
2372  0A1B              l_player_move_input_00105:
2373  0A1B  3A 00 00    	ld	a,(_dirs)
2374  0A1E  E6 04       	and	a,0x04
2375  0A20  28 24       	jr	Z,l_player_move_input_00107
2376  0A22  21 00 00    	ld	hl,_s_state
2377  0A25  CB DE       	set	3, (hl)
2378  0A27  CB 96       	res	2, (hl)
2379  0A29  3E 00       	ld	a,+((_state_a) & 0xFF)
2380  0A2B  21 00 00    	ld	hl,_sprite
2381  0A2E  86          	add	a, (hl)
2382  0A2F  4F          	ld	c,a
2383  0A30  3E 00       	ld	a,+((_state_a) / 256)
2384  0A32  CE 00       	adc	a,0x00
2385  0A34  47          	ld	b,a
2386  0A35  0A          	ld	a,(bc)
2387  0A36  CB DF       	set	3, a
2388  0A38  02          	ld	(bc),a
2389  0A39  3E 00       	ld	a,+((_state_a) & 0xFF)
2390  0A3B  86          	add	a, (hl)
2391  0A3C  4F          	ld	c,a
2392  0A3D  3E 00       	ld	a,+((_state_a) / 256)
2393  0A3F  CE 00       	adc	a,0x00
2394  0A41  47          	ld	b,a
2395  0A42  0A          	ld	a,(bc)
2396  0A43  E6 EF       	and	a,0xef
2397  0A45  02          	ld	(bc),a
2398  0A46              l_player_move_input_00107:
2399  0A46  3A 00 00    	ld	a,(_sprite)
2400  0A49  C6 00       	add	a,+((_state) & 0xFF)
2401  0A4B  4F          	ld	c,a
2402  0A4C  3E 00       	ld	a,+((_state) / 256)
2403  0A4E  CE 00       	adc	a,0x00
2404  0A50  47          	ld	b,a
2405  0A51  3A 00 00    	ld	a,(_s_state)
2406  0A54  02          	ld	(bc),a
2407  0A55  3A 00 00    	ld	a,(_sprite)
2408  0A58  C6 00       	add	a,+((_tile) & 0xFF)
2409  0A5A  4F          	ld	c,a
2410  0A5B  3E 00       	ld	a,+((_tile) / 256)
2411  0A5D  CE 00       	adc	a,0x00
2412  0A5F  47          	ld	b,a
2413  0A60  3A 00 00    	ld	a,(_tile_offset)
2414  0A63  5F          	ld	e,a
2415  0A64  16 00       	ld	d,0x00
2416  0A66  2A 00 00    	ld	hl,(_sprite)
2417  0A69  C5          	push	bc
2418  0A6A  26 0C       	ld	h,0x0c
2419  0A6C  E5          	push	hl
2420  0A6D  D5          	push	de
2421  0A6E  CD 00 00    	call	_spr_tile_dir
2422  0A71  F1          	pop	af
2423  0A72  F1          	pop	af
2424  0A73  C1          	pop	bc
2425  0A74  7D          	ld	a, l
2426  0A75  02          	ld	(bc),a
2427  0A76  3A 00 00    	ld	a,(_dirs)
2428  0A79  07          	rlca
2429  0A7A  D2 38 0B    	jp	NC,l_player_move_input_00114
2430  0A7D  CD 00 00    	call	_ay_is_playing
2431  0A80  7D          	ld	a,l
2432  0A81  D6 03       	sub	a,0x03
2433  0A83  28 06       	jr	Z,l_player_move_input_00109
2434  0A85  21 00 00    	ld	hl,_ay_effect_03
2435  0A88  CD 00 00    	call	_ay_fx_play
2436  0A8B              l_player_move_input_00109:
2437  0A8B  CD 00 00    	call	_sound_jump
2438  0A8E  3A 00 00    	ld	a,(_sprite)
2439  0A91  C6 00       	add	a,+((_state) & 0xFF)
2440  0A93  4F          	ld	c,a
2441  0A94  3E 00       	ld	a,+((_state) / 256)
2442  0A96  CE 00       	adc	a,0x00
2443  0A98  47          	ld	b,a
2444  0A99  0A          	ld	a,(bc)
2445  0A9A  CB 57       	bit	2, a
2446  0A9C  28 0F       	jr	Z,l_player_move_input_00111
2447  0A9E  3A 00 00    	ld	a,(_sprite)
2448  0AA1  C6 00       	add	a,+((_colint) & 0xFF)
2449  0AA3  4F          	ld	c,a
2450  0AA4  3E 00       	ld	a,+((_colint) / 256)
2451  0AA6  CE 00       	adc	a,0x00
2452  0AA8  47          	ld	b,a
2453  0AA9  AF          	xor	a, a
2454  0AAA  02          	ld	(bc),a
2455  0AAB  18 0E       	jr	l_player_move_input_00112
2456  0AAD              l_player_move_input_00111:
2457  0AAD  3A 00 00    	ld	a,(_sprite)
2458  0AB0  C6 00       	add	a,+((_colint) & 0xFF)
2459  0AB2  4F          	ld	c,a
2460  0AB3  3E 00       	ld	a,+((_colint) / 256)
2461  0AB5  CE 00       	adc	a,0x00
2462  0AB7  47          	ld	b,a
2463  0AB8  3E 02       	ld	a,0x02
2464  0ABA  02          	ld	(bc),a
2465  0ABB              l_player_move_input_00112:
2466  0ABB  21 00 00    	ld	hl,_s_state
2467  0ABE  CB C6       	set	0, (hl)
2468  0AC0  CB 8E       	res	1, (hl)
2469  0AC2  2A 00 00    	ld	hl,(_sprite)
2470  0AC5  26 00       	ld	h,0x00
2471  0AC7  01 00 00    	ld	bc,_state_a
2472  0ACA  09          	add	hl,bc
2473  0ACB  7E          	ld	a,(hl)
2474  0ACC  E6 DF       	and	a,0xdf
2475  0ACE  77          	ld	(hl),a
2476  0ACF  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2477  0AD1  21 00 00    	ld	hl,_sprite
2478  0AD4  86          	add	a, (hl)
2479  0AD5  4F          	ld	c,a
2480  0AD6  3E 00       	ld	a,+((_jump_lin) / 256)
2481  0AD8  CE 00       	adc	a,0x00
2482  0ADA  47          	ld	b,a
2483  0ADB  3E 00       	ld	a,+((_lin) & 0xFF)
2484  0ADD  86          	add	a, (hl)
2485  0ADE  5F          	ld	e,a
2486  0ADF  3E 00       	ld	a,+((_lin) / 256)
2487  0AE1  CE 00       	adc	a,0x00
2488  0AE3  57          	ld	d,a
2489  0AE4  1A          	ld	a,(de)
2490  0AE5  02          	ld	(bc),a
2491  0AE6  3E 00       	ld	a,+((_state) & 0xFF)
2492  0AE8  86          	add	a, (hl)
2493  0AE9  4F          	ld	c,a
2494  0AEA  3E 00       	ld	a,+((_state) / 256)
2495  0AEC  CE 00       	adc	a,0x00
2496  0AEE  47          	ld	b,a
2497  0AEF  3A 00 00    	ld	a,(_s_state)
2498  0AF2  02          	ld	(bc),a
2499  0AF3  3A 00 00    	ld	a,(_sprite)
2500  0AF6  C6 00       	add	a,+((_tile) & 0xFF)
2501  0AF8  4F          	ld	c,a
2502  0AF9  3E 00       	ld	a,+((_tile) / 256)
2503  0AFB  CE 00       	adc	a,0x00
2504  0AFD  47          	ld	b,a
2505  0AFE  3A 00 00    	ld	a,(_tile_offset)
2506  0B01  5F          	ld	e,a
2507  0B02  16 00       	ld	d,0x00
2508  0B04  21 07 00    	ld	hl,0x0007
2509  0B07  19          	add	hl,de
2510  0B08  EB          	ex	de,hl
2511  0B09  2A 00 00    	ld	hl,(_sprite)
2512  0B0C  C5          	push	bc
2513  0B0D  26 0C       	ld	h,0x0c
2514  0B0F  E5          	push	hl
2515  0B10  D5          	push	de
2516  0B11  CD 00 00    	call	_spr_tile_dir
2517  0B14  F1          	pop	af
2518  0B15  F1          	pop	af
2519  0B16  C1          	pop	bc
2520  0B17  7D          	ld	a, l
2521  0B18  02          	ld	(bc),a
2522  0B19  3A 00 00    	ld	a,(_sprite)
2523  0B1C  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2524  0B1E  4F          	ld	c,a
2525  0B1F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2526  0B21  CE 00       	adc	a,0x00
2527  0B23  47          	ld	b,a
2528  0B24  3E 02       	ld	a,0x02
2529  0B26  02          	ld	(bc),a
2530  0B27  3A 00 00    	ld	a,(_index_player)
2531  0B2A  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2532  0B2C  4F          	ld	c,a
2533  0B2D  3E 00       	ld	a,+((_player_jump_c) / 256)
2534  0B2F  CE 00       	adc	a,0x00
2535  0B31  47          	ld	b,a
2536  0B32  AF          	xor	a, a
2537  0B33  02          	ld	(bc),a
2538  0B34  2E 01       	ld	l,0x01
2539  0B36  18 4E       	jr	l_player_move_input_00127
2540  0B38              l_player_move_input_00114:
2541  0B38  CD 00 00    	call	_ay_is_playing
2542  0B3B  7D          	ld	a,l
2543  0B3C  B7          	or	a, a
2544  0B3D  20 0C       	jr	NZ,l_player_move_input_00116
2545  0B3F  3A 00 00    	ld	a,(_game_bonus)
2546  0B42  B7          	or	a, a
2547  0B43  20 06       	jr	NZ,l_player_move_input_00116
2548  0B45  21 00 00    	ld	hl,_ay_effect_20
2549  0B48  CD 00 00    	call	_ay_fx_play
2550  0B4B              l_player_move_input_00116:
2551  0B4B  3A 00 00    	ld	a,(_sprite)
2552  0B4E  C6 00       	add	a,+((_state_a) & 0xFF)
2553  0B50  4F          	ld	c,a
2554  0B51  3E 00       	ld	a,+((_state_a) / 256)
2555  0B53  CE 00       	adc	a,0x00
2556  0B55  47          	ld	b,a
2557  0B56  0A          	ld	a,(bc)
2558  0B57  CB 6F       	bit	5, a
2559  0B59  28 22       	jr	Z,l_player_move_input_00121
2560  0B5B  01 00 00    	ld	bc,_colint+0
2561  0B5E  79          	ld	a,c
2562  0B5F  21 00 00    	ld	hl,_sprite
2563  0B62  86          	add	a, (hl)
2564  0B63  5F          	ld	e,a
2565  0B64  78          	ld	a,b
2566  0B65  CE 00       	adc	a,0x00
2567  0B67  57          	ld	d,a
2568  0B68  1A          	ld	a,(de)
2569  0B69  3C          	inc	a
2570  0B6A  12          	ld	(de),a
2571  0B6B  79          	ld	a,c
2572  0B6C  86          	add	a, (hl)
2573  0B6D  4F          	ld	c,a
2574  0B6E  78          	ld	a,b
2575  0B6F  CE 00       	adc	a,0x00
2576  0B71  47          	ld	b,a
2577  0B72  0A          	ld	a,(bc)
2578  0B73  D6 02       	sub	a,0x02
2579  0B75  20 02       	jr	NZ,l_player_move_input_00119
2580  0B77  AF          	xor	a, a
2581  0B78  02          	ld	(bc),a
2582  0B79              l_player_move_input_00119:
2583  0B79  2E 01       	ld	l,0x01
2584  0B7B  18 09       	jr	l_player_move_input_00127
2585  0B7D              l_player_move_input_00121:
2586  0B7D  CD 87 0B    	call	_player_move_horizontal
2587  0B80              l_player_move_input_00123:
2588  0B80  2E 01       	ld	l,0x01
2589  0B82  18 02       	jr	l_player_move_input_00127
2590  0B84              l_player_move_input_00126:
2591  0B84  2E 00       	ld	l,0x00
2592  0B86              l_player_move_input_00127:
2593  0B86  C9          	ret
2594  0B87              ;	---------------------------------
2595  0B87              ; Function player_move_horizontal
2596  0B87              ; ---------------------------------
2597  0B87              _player_move_horizontal:
2598  0B87  CD 97 0B    	call	_player_push_check
2599  0B8A  7D          	ld	a,l
2600  0B8B  B7          	or	a, a
2601  0B8C  28 05       	jr	Z,l_player_move_horizontal_00102
2602  0B8E  CD 09 0C    	call	_player_push
2603  0B91  18 03       	jr	l_player_move_horizontal_00104
2604  0B93              l_player_move_horizontal_00102:
2605  0B93  CD 00 00    	call	_spr_move_horizontal
2606  0B96              l_player_move_horizontal_00104:
2607  0B96  C9          	ret
2608  0B97              ;	---------------------------------
2609  0B97              ; Function player_push_check
2610  0B97              ; ---------------------------------
2611  0B97              _player_push_check:
2612  0B97  2A 00 00    	ld	hl,(_sprite_other_player)
2613  0B9A  26 00       	ld	h,0x00
2614  0B9C  01 00 00    	ld	bc,_lin
2615  0B9F  09          	add	hl,bc
2616  0BA0  7E          	ld	a,(hl)
2617  0BA1  4F          	ld	c,a
2618  0BA2  B7          	or	a,a
2619  0BA3  20 03       	jr	NZ,l_player_push_check_00102
2620  0BA5  6F          	ld	l,a
2621  0BA6  18 60       	jr	l_player_push_check_00111
2622  0BA8              l_player_push_check_00102:
2623  0BA8  2A 00 00    	ld	hl,(_sprite)
2624  0BAB  26 00       	ld	h,0x00
2625  0BAD  11 00 00    	ld	de,_lin
2626  0BB0  19          	add	hl,de
2627  0BB1  7E          	ld	a,(hl)
2628  0BB2  EB          	ex	de,hl
2629  0BB3  47          	ld	b,a
2630  0BB4  79          	ld	a,c
2631  0BB5  90          	sub	a, b
2632  0BB6  28 04       	jr	Z,l_player_push_check_00104
2633  0BB8  2E 00       	ld	l,0x00
2634  0BBA  18 4C       	jr	l_player_push_check_00111
2635  0BBC              l_player_push_check_00104:
2636  0BBC  01 00 00    	ld	bc,_col+0
2637  0BBF  2A 00 00    	ld	hl,(_sprite)
2638  0BC2  26 00       	ld	h,0x00
2639  0BC4  09          	add	hl,bc
2640  0BC5  6E          	ld	l, (hl)
2641  0BC6  EB          	ex	de,hl
2642  0BC7  2A 00 00    	ld	hl,(_sprite_other_player)
2643  0BCA  26 00       	ld	h,0x00
2644  0BCC  09          	add	hl,bc
2645  0BCD  4E          	ld	c, (hl)
2646  0BCE  7B          	ld	a,e
2647  0BCF  91          	sub	a, c
2648  0BD0  32 00 00    	ld	(_tmp_sc),a
2649  0BD3  D6 FE       	sub	a,0xfe
2650  0BD5  20 14       	jr	NZ,l_player_push_check_00106
2651  0BD7  3A 00 00    	ld	a,(_sprite)
2652  0BDA  C6 00       	add	a,+((_state) & 0xFF)
2653  0BDC  4F          	ld	c,a
2654  0BDD  3E 00       	ld	a,+((_state) / 256)
2655  0BDF  CE 00       	adc	a,0x00
2656  0BE1  47          	ld	b,a
2657  0BE2  0A          	ld	a,(bc)
2658  0BE3  CB 57       	bit	2, a
2659  0BE5  28 04       	jr	Z,l_player_push_check_00106
2660  0BE7  2E 01       	ld	l,0x01
2661  0BE9  18 1D       	jr	l_player_push_check_00111
2662  0BEB              l_player_push_check_00106:
2663  0BEB  3A 00 00    	ld	a,(_tmp_sc)
2664  0BEE  D6 02       	sub	a,0x02
2665  0BF0  20 14       	jr	NZ,l_player_push_check_00109
2666  0BF2  3A 00 00    	ld	a,(_sprite)
2667  0BF5  C6 00       	add	a,+((_state) & 0xFF)
2668  0BF7  4F          	ld	c,a
2669  0BF8  3E 00       	ld	a,+((_state) / 256)
2670  0BFA  CE 00       	adc	a,0x00
2671  0BFC  47          	ld	b,a
2672  0BFD  0A          	ld	a,(bc)
2673  0BFE  CB 5F       	bit	3, a
2674  0C00  28 04       	jr	Z,l_player_push_check_00109
2675  0C02  2E 01       	ld	l,0x01
2676  0C04  18 02       	jr	l_player_push_check_00111
2677  0C06              l_player_push_check_00109:
2678  0C06  2E 00       	ld	l,0x00
2679  0C08              l_player_push_check_00111:
2680  0C08  C9          	ret
2681  0C09              ;	---------------------------------
2682  0C09              ; Function player_push
2683  0C09              ; ---------------------------------
2684  0C09              _player_push:
2685  0C09  3A 00 00    	ld	a,(_sprite)
2686  0C0C  32 00 00    	ld	(_tmp),a
2687  0C0F  3A 00 00    	ld	a,(_s_col0)
2688  0C12  32 00 00    	ld	(_tmp0),a
2689  0C15  3A 00 00    	ld	a,(_sprite_other_player)
2690  0C18  C6 00       	add	a,+((_lin) & 0xFF)
2691  0C1A  4F          	ld	c,a
2692  0C1B  3E 00       	ld	a,+((_lin) / 256)
2693  0C1D  CE 00       	adc	a,0x00
2694  0C1F  47          	ld	b,a
2695  0C20  0A          	ld	a,(bc)
2696  0C21  32 00 00    	ld	(_s_lin0),a
2697  0C24  3A 00 00    	ld	a,(_sprite_other_player)
2698  0C27  C6 00       	add	a,+((_col) & 0xFF)
2699  0C29  4F          	ld	c,a
2700  0C2A  3E 00       	ld	a,+((_col) / 256)
2701  0C2C  CE 00       	adc	a,0x00
2702  0C2E  47          	ld	b,a
2703  0C2F  0A          	ld	a,(bc)
2704  0C30  32 00 00    	ld	(_s_col0),a
2705  0C33  01 00 00    	ld	bc,_spr_timer+0
2706  0C36  2A 00 00    	ld	hl,(_sprite_other_player)
2707  0C39  26 00       	ld	h,0x00
2708  0C3B  29          	add	hl, hl
2709  0C3C  09          	add	hl,bc
2710  0C3D  ED 5B 00 00 	ld	de,(_curr_time)
2711  0C41  73          	ld	(hl),e
2712  0C42  23          	inc	hl
2713  0C43  72          	ld	(hl),d
2714  0C44  3E 00       	ld	a,+((_state_a) & 0xFF)
2715  0C46  21 00 00    	ld	hl,_sprite_other_player
2716  0C49  86          	add	a, (hl)
2717  0C4A  4F          	ld	c,a
2718  0C4B  3E 00       	ld	a,+((_state_a) / 256)
2719  0C4D  CE 00       	adc	a,0x00
2720  0C4F  47          	ld	b,a
2721  0C50  0A          	ld	a,(bc)
2722  0C51  CB D7       	set	2, a
2723  0C53  02          	ld	(bc),a
2724  0C54  7E          	ld	a,(hl)
2725  0C55  32 00 00    	ld	(_sprite),a
2726  0C58  3A 00 00    	ld	a,(_tmp)
2727  0C5B  C6 00       	add	a,+((_state) & 0xFF)
2728  0C5D  4F          	ld	c,a
2729  0C5E  3E 00       	ld	a,+((_state) / 256)
2730  0C60  CE 00       	adc	a,0x00
2731  0C62  47          	ld	b,a
2732  0C63  0A          	ld	a,(bc)
2733  0C64  CB 57       	bit	2, a
2734  0C66  28 05       	jr	Z,l_player_push_00102
2735  0C68  CD 00 00    	call	_spr_move_right
2736  0C6B  18 03       	jr	l_player_push_00103
2737  0C6D              l_player_push_00102:
2738  0C6D  CD 00 00    	call	_spr_move_left
2739  0C70              l_player_push_00103:
2740  0C70  CD 00 00    	call	_spr_redraw
2741  0C73  3A 00 00    	ld	a,(_tmp)
2742  0C76  32 00 00    	ld	(_sprite),a
2743  0C79  C6 00       	add	a,+((_lin) & 0xFF)
2744  0C7B  4F          	ld	c,a
2745  0C7C  3E 00       	ld	a,+((_lin) / 256)
2746  0C7E  CE 00       	adc	a,0x00
2747  0C80  47          	ld	b,a
2748  0C81  0A          	ld	a,(bc)
2749  0C82  32 00 00    	ld	(_s_lin0),a
2750  0C85  3A 00 00    	ld	a,(_tmp0)
2751  0C88  32 00 00    	ld	(_s_col0),a
2752  0C8B  C9          	ret
2753  0C8C              ;	---------------------------------
2754  0C8C              ; Function player_hit_brick
2755  0C8C              ; ---------------------------------
2756  0C8C              _player_hit_brick:
2757  0C8C  3A 00 00    	ld	a,(_index_player)
2758  0C8F  C6 00       	add	a,+((_hit_lin) & 0xFF)
2759  0C91  4F          	ld	c,a
2760  0C92  3E 00       	ld	a,+((_hit_lin) / 256)
2761  0C94  CE 00       	adc	a,0x00
2762  0C96  47          	ld	b,a
2763  0C97  0A          	ld	a,(bc)
2764  0C98  B7          	or	a, a
2765  0C99  C2 72 0E    	jp	NZ,l_player_hit_brick_00112
2766  0C9C  3A 00 00    	ld	a,(_sprite)
2767  0C9F  C6 00       	add	a,+((_lin) & 0xFF)
2768  0CA1  4F          	ld	c,a
2769  0CA2  3E 00       	ld	a,+((_lin) / 256)
2770  0CA4  CE 00       	adc	a,0x00
2771  0CA6  47          	ld	b,a
2772  0CA7  0A          	ld	a,(bc)
2773  0CA8  5F          	ld	e,a
2774  0CA9  3E 10       	ld	a,0x10
2775  0CAB  93          	sub	a, e
2776  0CAC  D2 72 0E    	jp	NC,l_player_hit_brick_00112
2777  0CAF  21 00 00    	ld	hl,_enemies
2778  0CB2  36 00       	ld	(hl),0x00
2779  0CB4              l_player_hit_brick_00114:
2780  0CB4  2A 00 00    	ld	hl,(_enemies)
2781  0CB7  26 00       	ld	h,0x00
2782  0CB9  11 00 00    	ld	de,_class
2783  0CBC  19          	add	hl,de
2784  0CBD  7E          	ld	a,(hl)
2785  0CBE  B7          	or	a,a
2786  0CBF  28 5F       	jr	Z,l_player_hit_brick_00115
2787  0CC1  0A          	ld	a,(bc)
2788  0CC2  4F          	ld	c,a
2789  0CC3  06 00       	ld	b,0x00
2790  0CC5  2A 00 00    	ld	hl,(_enemies)
2791  0CC8  60          	ld	h,b
2792  0CC9  11 00 00    	ld	de,_lin
2793  0CCC  19          	add	hl,de
2794  0CCD  5E          	ld	e, (hl)
2795  0CCE  16 00       	ld	d,0x00
2796  0CD0  79          	ld	a,c
2797  0CD1  93          	sub	a,e
2798  0CD2  4F          	ld	c,a
2799  0CD3  78          	ld	a,b
2800  0CD4  9A          	sbc	a,d
2801  0CD5  47          	ld	b,a
2802  0CD6  79          	ld	a,c
2803  0CD7  D6 18       	sub	a,0x18
2804  0CD9  20 45       	jr	NZ,l_player_hit_brick_00115
2805  0CDB  B0          	or	a,b
2806  0CDC  20 42       	jr	NZ,l_player_hit_brick_00115
2807  0CDE  3A 00 00    	ld	a,(_enemies)
2808  0CE1  4F          	ld	c,a
2809  0CE2  06 00       	ld	b,0x00
2810  0CE4  21 00 00    	ld	hl,_state
2811  0CE7  09          	add	hl,bc
2812  0CE8  CB 6E       	bit	5,(hl)
2813  0CEA  20 34       	jr	NZ,l_player_hit_brick_00115
2814  0CEC  2A 00 00    	ld	hl,(_sprite)
2815  0CEF  26 00       	ld	h,0x00
2816  0CF1  01 00 00    	ld	bc,_col
2817  0CF4  09          	add	hl,bc
2818  0CF5  4E          	ld	c,(hl)
2819  0CF6  06 00       	ld	b,0x00
2820  0CF8  2A 00 00    	ld	hl,(_enemies)
2821  0CFB  60          	ld	h,b
2822  0CFC  11 00 00    	ld	de,_col
2823  0CFF  19          	add	hl,de
2824  0D00  5E          	ld	e, (hl)
2825  0D01  16 00       	ld	d,0x00
2826  0D03  79          	ld	a,c
2827  0D04  93          	sub	a, e
2828  0D05  6F          	ld	l,a
2829  0D06  78          	ld	a,b
2830  0D07  9A          	sbc	a, d
2831  0D08  67          	ld	h,a
2832  0D09  CD 00 00    	call	_abs_fastcall
2833  0D0C  3E 02       	ld	a,0x02
2834  0D0E  BD          	cp	a,l
2835  0D0F  3E 00       	ld	a,0x00
2836  0D11  9C          	sbc	a,h
2837  0D12  E2 17 0D    	jp	PO, l_player_hit_brick_00166
2838  0D15  EE 80       	xor	a,0x80
2839  0D17              l_player_hit_brick_00166:
2840  0D17  FA 20 0D    	jp	M,l_player_hit_brick_00115
2841  0D1A  CD 00 00    	call	_enemy_hit
2842  0D1D  CD 00 00    	call	_sound_hit_enemy
2843  0D20              l_player_hit_brick_00115:
2844  0D20  21 00 00    	ld	hl,_enemies
2845  0D23  34          	inc	(hl)
2846  0D24  3A 00 00    	ld	a,(_sprite)
2847  0D27  C6 00       	add	a,+((_lin) & 0xFF)
2848  0D29  4F          	ld	c,a
2849  0D2A  3E 00       	ld	a,+((_lin) / 256)
2850  0D2C  CE 00       	adc	a,0x00
2851  0D2E  47          	ld	b,a
2852  0D2F  3A 00 00    	ld	a,(_enemies)
2853  0D32  D6 06       	sub	a,0x06
2854  0D34  DA B4 0C    	jp	C,l_player_hit_brick_00114
2855  0D37  2A 00 00    	ld	hl,(_sprite_other_player)
2856  0D3A  26 00       	ld	h,0x00
2857  0D3C  11 00 00    	ld	de,_lin
2858  0D3F  19          	add	hl,de
2859  0D40  7E          	ld	a,(hl)
2860  0D41  5F          	ld	e,a
2861  0D42  B7          	or	a, a
2862  0D43  CA 0C 0E    	jp	Z,l_player_hit_brick_00108
2863  0D46  0A          	ld	a,(bc)
2864  0D47  6F          	ld	l,a
2865  0D48  AF          	xor	a,a
2866  0D49  67          	ld	h,a
2867  0D4A  57          	ld	d,a
2868  0D4B  ED 52       	sbc	hl,de
2869  0D4D  7D          	ld	a,l
2870  0D4E  D6 18       	sub	a,0x18
2871  0D50  C2 0C 0E    	jp	NZ,l_player_hit_brick_00108
2872  0D53  B4          	or	a,h
2873  0D54  C2 0C 0E    	jp	NZ,l_player_hit_brick_00108
2874  0D57  2A 00 00    	ld	hl,(_sprite)
2875  0D5A  26 00       	ld	h,0x00
2876  0D5C  01 00 00    	ld	bc,_col
2877  0D5F  09          	add	hl,bc
2878  0D60  4E          	ld	c,(hl)
2879  0D61  06 00       	ld	b,0x00
2880  0D63  2A 00 00    	ld	hl,(_sprite_other_player)
2881  0D66  60          	ld	h,b
2882  0D67  11 00 00    	ld	de,_col
2883  0D6A  19          	add	hl,de
2884  0D6B  5E          	ld	e, (hl)
2885  0D6C  16 00       	ld	d,0x00
2886  0D6E  79          	ld	a,c
2887  0D6F  93          	sub	a, e
2888  0D70  6F          	ld	l,a
2889  0D71  78          	ld	a,b
2890  0D72  9A          	sbc	a, d
2891  0D73  67          	ld	h,a
2892  0D74  CD 00 00    	call	_abs_fastcall
2893  0D77  3E 02       	ld	a,0x02
2894  0D79  BD          	cp	a,l
2895  0D7A  3E 00       	ld	a,0x00
2896  0D7C  9C          	sbc	a,h
2897  0D7D  E2 82 0D    	jp	PO, l_player_hit_brick_00169
2898  0D80  EE 80       	xor	a,0x80
2899  0D82              l_player_hit_brick_00169:
2900  0D82  FA 0C 0E    	jp	M,l_player_hit_brick_00108
2901  0D85  3E 00       	ld	a,+((_col) & 0xFF)
2902  0D87  21 00 00    	ld	hl,_sprite_other_player
2903  0D8A  86          	add	a, (hl)
2904  0D8B  4F          	ld	c,a
2905  0D8C  3E 00       	ld	a,+((_col) / 256)
2906  0D8E  CE 00       	adc	a,0x00
2907  0D90  47          	ld	b,a
2908  0D91  0A          	ld	a,(bc)
2909  0D92  57          	ld	d,a
2910  0D93  4E          	ld	c,(hl)
2911  0D94  06 00       	ld	b,0x00
2912  0D96  21 00 00    	ld	hl,_lin
2913  0D99  09          	add	hl,bc
2914  0D9A  5E          	ld	e, (hl)
2915  0D9B  D5          	push	de
2916  0D9C  AF          	xor	a, a
2917  0D9D  F5          	push	af
2918  0D9E  33          	inc	sp
2919  0D9F  CD 00 00    	call	_NIRVANAP_fillT_callee
2920  0DA2  2A 00 00    	ld	hl,(_sprite_other_player)
2921  0DA5  26 00       	ld	h,0x00
2922  0DA7  01 00 00    	ld	bc,_lin
2923  0DAA  09          	add	hl,bc
2924  0DAB  7E          	ld	a,(hl)
2925  0DAC  C6 FC       	add	a,0xfc
2926  0DAE  77          	ld	(hl),a
2927  0DAF  3E 00       	ld	a,+((_col) & 0xFF)
2928  0DB1  21 00 00    	ld	hl,_sprite_other_player
2929  0DB4  86          	add	a, (hl)
2930  0DB5  4F          	ld	c,a
2931  0DB6  3E 00       	ld	a,+((_col) / 256)
2932  0DB8  CE 00       	adc	a,0x00
2933  0DBA  47          	ld	b,a
2934  0DBB  0A          	ld	a,(bc)
2935  0DBC  57          	ld	d,a
2936  0DBD  3E 00       	ld	a,+((_lin) & 0xFF)
2937  0DBF  86          	add	a, (hl)
2938  0DC0  4F          	ld	c,a
2939  0DC1  3E 00       	ld	a,+((_lin) / 256)
2940  0DC3  CE 00       	adc	a,0x00
2941  0DC5  47          	ld	b,a
2942  0DC6  0A          	ld	a,(bc)
2943  0DC7  5F          	ld	e,a
2944  0DC8  3E 00       	ld	a,+((_tile) & 0xFF)
2945  0DCA  86          	add	a, (hl)
2946  0DCB  4F          	ld	c,a
2947  0DCC  3E 00       	ld	a,+((_tile) / 256)
2948  0DCE  CE 00       	adc	a,0x00
2949  0DD0  47          	ld	b,a
2950  0DD1  0A          	ld	a,(bc)
2951  0DD2  47          	ld	b,a
2952  0DD3  4E          	ld	c,(hl)
2953  0DD4  D5          	push	de
2954  0DD5  C5          	push	bc
2955  0DD6  CD 00 00    	call	_NIRVANAP_spriteT_callee
2956  0DD9  76          	halt
2957  0DDA  2A 00 00    	ld	hl,(_sprite_other_player)
2958  0DDD  26 00       	ld	h,0x00
2959  0DDF  01 00 00    	ld	bc,_state
2960  0DE2  09          	add	hl,bc
2961  0DE3  7E          	ld	a,(hl)
2962  0DE4  E6 FD       	and	a,0xfd
2963  0DE6  77          	ld	(hl),a
2964  0DE7  3E 00       	ld	a,+((_state) & 0xFF)
2965  0DE9  21 00 00    	ld	hl,_sprite_other_player
2966  0DEC  86          	add	a, (hl)
2967  0DED  4F          	ld	c,a
2968  0DEE  3E 00       	ld	a,+((_state) / 256)
2969  0DF0  CE 00       	adc	a,0x00
2970  0DF2  47          	ld	b,a
2971  0DF3  0A          	ld	a,(bc)
2972  0DF4  CB C7       	set	0, a
2973  0DF6  02          	ld	(bc),a
2974  0DF7  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2975  0DF9  86          	add	a, (hl)
2976  0DFA  4F          	ld	c,a
2977  0DFB  3E 00       	ld	a,+((_jump_lin) / 256)
2978  0DFD  CE 00       	adc	a,0x00
2979  0DFF  47          	ld	b,a
2980  0E00  5E          	ld	e,(hl)
2981  0E01  16 00       	ld	d,0x00
2982  0E03  21 00 00    	ld	hl,_lin
2983  0E06  19          	add	hl,de
2984  0E07  7E          	ld	a,(hl)
2985  0E08  C6 14       	add	a,0x14
2986  0E0A  02          	ld	(bc),a
2987  0E0B  76          	halt
2988  0E0C              l_player_hit_brick_00108:
2989  0E0C  3E 00       	ld	a,+((_state_a) & 0xFF)
2990  0E0E  21 00 00    	ld	hl,_sprite
2991  0E11  86          	add	a, (hl)
2992  0E12  4F          	ld	c,a
2993  0E13  3E 00       	ld	a,+((_state_a) / 256)
2994  0E15  CE 00       	adc	a,0x00
2995  0E17  47          	ld	b,a
2996  0E18  0A          	ld	a,(bc)
2997  0E19  CB FF       	set	7, a
2998  0E1B  02          	ld	(bc),a
2999  0E1C  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
3000  0E1E  86          	add	a, (hl)
3001  0E1F  4F          	ld	c,a
3002  0E20  3E 00       	ld	a,+((_player_jump_c) / 256)
3003  0E22  CE 00       	adc	a,0x00
3004  0E24  47          	ld	b,a
3005  0E25  3E 06       	ld	a,0x06
3006  0E27  02          	ld	(bc),a
3007  0E28  01 00 00    	ld	bc,_spr_timer+0
3008  0E2B  6E          	ld	l,(hl)
3009  0E2C  26 00       	ld	h,0x00
3010  0E2E  29          	add	hl, hl
3011  0E2F  09          	add	hl,bc
3012  0E30  ED 5B 00 00 	ld	de,(_curr_time)
3013  0E34  73          	ld	(hl),e
3014  0E35  23          	inc	hl
3015  0E36  72          	ld	(hl),d
3016  0E37  3A 00 00    	ld	a,(_index_player)
3017  0E3A  C6 00       	add	a,+((_hit_lin) & 0xFF)
3018  0E3C  4F          	ld	c,a
3019  0E3D  3E 00       	ld	a,+((_hit_lin) / 256)
3020  0E3F  CE 00       	adc	a,0x00
3021  0E41  47          	ld	b,a
3022  0E42  2A 00 00    	ld	hl,(_sprite)
3023  0E45  26 00       	ld	h,0x00
3024  0E47  11 00 00    	ld	de,_lin
3025  0E4A  19          	add	hl,de
3026  0E4B  7E          	ld	a,(hl)
3027  0E4C  02          	ld	(bc),a
3028  0E4D  3A 00 00    	ld	a,(_index_player)
3029  0E50  C6 00       	add	a,+((_hit_col) & 0xFF)
3030  0E52  4F          	ld	c,a
3031  0E53  3E 00       	ld	a,+((_hit_col) / 256)
3032  0E55  CE 00       	adc	a,0x00
3033  0E57  47          	ld	b,a
3034  0E58  2A 00 00    	ld	hl,(_sprite)
3035  0E5B  26 00       	ld	h,0x00
3036  0E5D  11 00 00    	ld	de,_col
3037  0E60  19          	add	hl,de
3038  0E61  7E          	ld	a,(hl)
3039  0E62  02          	ld	(bc),a
3040  0E63  3E 01       	ld	a,0x01
3041  0E65  F5          	push	af
3042  0E66  33          	inc	sp
3043  0E67  CD 00 00    	call	_spr_brick_anim
3044  0E6A  33          	inc	sp
3045  0E6B  CD 00 00    	call	_sound_hit_brick
3046  0E6E  2E 01       	ld	l,0x01
3047  0E70  18 02       	jr	l_player_hit_brick_00116
3048  0E72              l_player_hit_brick_00112:
3049  0E72  2E 00       	ld	l,0x00
3050  0E74              l_player_hit_brick_00116:
3051  0E74  C9          	ret
3052  0E75              ;	---------------------------------
3053  0E75              ; Function player_hit_brick_clear
3054  0E75              ; ---------------------------------
3055  0E75              _player_hit_brick_clear:
3056  0E75  2A 00 00    	ld	hl,(_index_player)
3057  0E78  26 00       	ld	h,0x00
3058  0E7A  01 00 00    	ld	bc,_hit_lin
3059  0E7D  09          	add	hl,bc
3060  0E7E  7E          	ld	a,(hl)
3061  0E7F  4F          	ld	c,a
3062  0E80  B7          	or	a,a
3063  0E81  C8          	ret	Z
3064  0E82  3A 00 00    	ld	a,(_index_player)
3065  0E85  5F          	ld	e,a
3066  0E86  16 00       	ld	d,0x00
3067  0E88  21 00 00    	ld	hl,_hit_col
3068  0E8B  19          	add	hl,de
3069  0E8C  56          	ld	d, (hl)
3070  0E8D  79          	ld	a,c
3071  0E8E  C6 F8       	add	a,0xf8
3072  0E90  5F          	ld	e, a
3073  0E91  D5          	push	de
3074  0E92  CD 00 00    	call	_game_calc_index
3075  0E95  F1          	pop	af
3076  0E96  22 00 00    	ld	(_index1),hl
3077  0E99  01 01 00    	ld	bc,0x0001
3078  0E9C  09          	add	hl,bc
3079  0E9D  22 00 00    	ld	(_index2),hl
3080  0EA0  AF          	xor	a, a
3081  0EA1  F5          	push	af
3082  0EA2  33          	inc	sp
3083  0EA3  CD 00 00    	call	_spr_brick_anim
3084  0EA6  33          	inc	sp
3085  0EA7  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3086  0EA9  21 00 00    	ld	hl,_index_player
3087  0EAC  86          	add	a, (hl)
3088  0EAD  4F          	ld	c,a
3089  0EAE  3E 00       	ld	a,+((_hit_lin) / 256)
3090  0EB0  CE 00       	adc	a,0x00
3091  0EB2  47          	ld	b,a
3092  0EB3  AF          	xor	a, a
3093  0EB4  02          	ld	(bc),a
3094  0EB5  3E 00       	ld	a,+((_hit_col) & 0xFF)
3095  0EB7  86          	add	a, (hl)
3096  0EB8  4F          	ld	c,a
3097  0EB9  3E 00       	ld	a,+((_hit_col) / 256)
3098  0EBB  CE 00       	adc	a,0x00
3099  0EBD  47          	ld	b,a
3100  0EBE  AF          	xor	a, a
3101  0EBF  02          	ld	(bc),a
3102  0EC0  C9          	ret
3103  0EC1              ;	---------------------------------
3104  0EC1              ; Function player_hit_pow
3105  0EC1              ; ---------------------------------
3106  0EC1              _player_hit_pow:
3107  0EC1  3A 00 00    	ld	a,(_game_pow)
3108  0EC4  B7          	or	a, a
3109  0EC5  CA 6A 0F    	jp	Z,l_player_hit_pow_00107
3110  0EC8  01 00 00    	ld	bc,_lvl_1
3111  0ECB  2A 00 00    	ld	hl,(_index1)
3112  0ECE  09          	add	hl,bc
3113  0ECF  7E          	ld	a,(hl)
3114  0ED0  D6 11       	sub	a,0x11
3115  0ED2  28 0D       	jr	Z,l_player_hit_pow_00106
3116  0ED4  01 00 00    	ld	bc,_lvl_1
3117  0ED7  2A 00 00    	ld	hl,(_index2)
3118  0EDA  09          	add	hl,bc
3119  0EDB  7E          	ld	a,(hl)
3120  0EDC  D6 11       	sub	a,0x11
3121  0EDE  C2 6A 0F    	jp	NZ,l_player_hit_pow_00107
3122  0EE1              l_player_hit_pow_00106:
3123  0EE1  21 00 00    	ld	hl,_game_pow
3124  0EE4  35          	dec	(hl)
3125  0EE5  21 02 00    	ld	hl,0x0002
3126  0EE8  CD 00 00    	call	_zx_border_fastcall
3127  0EEB  21 00 00    	ld	hl,_enemies
3128  0EEE  36 00       	ld	(hl),0x00
3129  0EF0              l_player_hit_pow_00110:
3130  0EF0  2A 00 00    	ld	hl,(_enemies)
3131  0EF3  26 00       	ld	h,0x00
3132  0EF5  5D          	ld	e,l
3133  0EF6  01 00 00    	ld	bc,_col
3134  0EF9  09          	add	hl,bc
3135  0EFA  46          	ld	b,(hl)
3136  0EFB  16 00       	ld	d,0x00
3137  0EFD  21 00 00    	ld	hl,_lin
3138  0F00  19          	add	hl,de
3139  0F01  7E          	ld	a,(hl)
3140  0F02  C6 10       	add	a,0x10
3141  0F04  4F          	ld	c,a
3142  0F05  C5          	push	bc
3143  0F06  CD 00 00    	call	_game_calc_index
3144  0F09  E3          	ex	(sp),hl
3145  0F0A  CD 00 00    	call	_game_check_maze
3146  0F0D  F1          	pop	af
3147  0F0E  7D          	ld	a,l
3148  0F0F  B7          	or	a, a
3149  0F10  20 03       	jr	NZ,l_player_hit_pow_00111
3150  0F12  CD 00 00    	call	_enemy_hit
3151  0F15              l_player_hit_pow_00111:
3152  0F15  21 00 00    	ld	hl,_enemies
3153  0F18  7E          	ld	a,(hl)
3154  0F19  3C          	inc	a
3155  0F1A  77          	ld	(hl),a
3156  0F1B  D6 06       	sub	a,0x06
3157  0F1D  38 D1       	jr	C,l_player_hit_pow_00110
3158  0F1F  21 00 00    	ld	hl,_ay_effect_06
3159  0F22  CD 00 00    	call	_ay_fx_play
3160  0F25  CD 00 00    	call	_sound_hit_pow
3161  0F28  CD 00 00    	call	_spr_draw_pow
3162  0F2B  3A 00 00    	ld	a,(_game_pow)
3163  0F2E  B7          	or	a, a
3164  0F2F  20 13       	jr	NZ,l_player_hit_pow_00105
3165  0F31  21 80 0F    	ld	hl,0x0f80
3166  0F34  E5          	push	hl
3167  0F35  AF          	xor	a, a
3168  0F36  F5          	push	af
3169  0F37  33          	inc	sp
3170  0F38  CD 00 00    	call	_NIRVANAP_fillT_callee
3171  0F3B  21 00 00    	ld	hl,0x0000
3172  0F3E  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3173  0F41  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3174  0F44              l_player_hit_pow_00105:
3175  0F44  21 00 00    	ld	hl,0x0000
3176  0F47  CD 00 00    	call	_zx_border_fastcall
3177  0F4A  3E 00       	ld	a,+((_state_a) & 0xFF)
3178  0F4C  21 00 00    	ld	hl,_sprite
3179  0F4F  86          	add	a, (hl)
3180  0F50  4F          	ld	c,a
3181  0F51  3E 00       	ld	a,+((_state_a) / 256)
3182  0F53  CE 00       	adc	a,0x00
3183  0F55  47          	ld	b,a
3184  0F56  0A          	ld	a,(bc)
3185  0F57  CB FF       	set	7, a
3186  0F59  02          	ld	(bc),a
3187  0F5A  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
3188  0F5C  86          	add	a, (hl)
3189  0F5D  4F          	ld	c,a
3190  0F5E  3E 00       	ld	a,+((_player_jump_c) / 256)
3191  0F60  CE 00       	adc	a,0x00
3192  0F62  47          	ld	b,a
3193  0F63  3E 06       	ld	a,0x06
3194  0F65  02          	ld	(bc),a
3195  0F66  2E 01       	ld	l,0x01
3196  0F68  18 02       	jr	l_player_hit_pow_00112
3197  0F6A              l_player_hit_pow_00107:
3198  0F6A  2E 00       	ld	l,0x00
3199  0F6C              l_player_hit_pow_00112:
3200  0F6C  C9          	ret
3201  0F6D              ;	---------------------------------
3202  0F6D              ; Function player_coin
3203  0F6D              ; ---------------------------------
3204  0F6D              _player_coin:
3205  0F6D  CD 00 00    	call	___sdcc_enter_ix
3206  0F70  3E 00       	ld	a,+((_class) & 0xFF)
3207  0F72  DD 86 04    	add	a,(ix+4)
3208  0F75  4F          	ld	c,a
3209  0F76  3E 00       	ld	a,+((_class) / 256)
3210  0F78  CE 00       	adc	a,0x00
3211  0F7A  47          	ld	b,a
3212  0F7B  0A          	ld	a,(bc)
3213  0F7C  D6 07       	sub	a,0x07
3214  0F7E  20 16       	jr	NZ,l_player_coin_00102
3215  0F80  21 00 00    	ld	hl,_ay_effect_12
3216  0F83  CD 00 00    	call	_ay_fx_play
3217  0F86  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3218  0F88  DD 86 04    	add	a,(ix+4)
3219  0F8B  4F          	ld	c,a
3220  0F8C  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3221  0F8E  CE 00       	adc	a,0x00
3222  0F90  47          	ld	b,a
3223  0F91  3E 03       	ld	a,0x03
3224  0F93  02          	ld	(bc),a
3225  0F94  18 17       	jr	l_player_coin_00103
3226  0F96              l_player_coin_00102:
3227  0F96  21 00 00    	ld	hl,_ay_effect_10
3228  0F99  CD 00 00    	call	_ay_fx_play
3229  0F9C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3230  0F9E  DD 86 04    	add	a,(ix+4)
3231  0FA1  4F          	ld	c,a
3232  0FA2  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3233  0FA4  CE 00       	adc	a,0x00
3234  0FA6  47          	ld	b,a
3235  0FA7  3E 08       	ld	a,0x08
3236  0FA9  02          	ld	(bc),a
3237  0FAA  CD 00 00    	call	_sound_coin
3238  0FAD              l_player_coin_00103:
3239  0FAD  3E 00       	ld	a,+((_state) & 0xFF)
3240  0FAF  DD 86 04    	add	a,(ix+4)
3241  0FB2  4F          	ld	c,a
3242  0FB3  3E 00       	ld	a,+((_state) / 256)
3243  0FB5  CE 00       	adc	a,0x00
3244  0FB7  47          	ld	b,a
3245  0FB8  0A          	ld	a,(bc)
3246  0FB9  CB EF       	set	5, a
3247  0FBB  02          	ld	(bc),a
3248  0FBC  01 00 00    	ld	bc,_spr_timer+0
3249  0FBF  DD 6E 04    	ld	l,(ix+4)
3250  0FC2  26 00       	ld	h,0x00
3251  0FC4  29          	add	hl, hl
3252  0FC5  09          	add	hl,bc
3253  0FC6  ED 5B 00 00 	ld	de,(_curr_time)
3254  0FCA  73          	ld	(hl),e
3255  0FCB  23          	inc	hl
3256  0FCC  72          	ld	(hl),d
3257  0FCD  3A 00 00    	ld	a,(_game_bonus)
3258  0FD0  B7          	or	a, a
3259  0FD1  28 1B       	jr	Z,l_player_coin_00107
3260  0FD3  3A 00 00    	ld	a,(_index_player)
3261  0FD6  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3262  0FD8  4F          	ld	c,a
3263  0FD9  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3264  0FDB  CE 00       	adc	a,0x00
3265  0FDD  47          	ld	b,a
3266  0FDE  0A          	ld	a,(bc)
3267  0FDF  3C          	inc	a
3268  0FE0  02          	ld	(bc),a
3269  0FE1  21 00 00    	ld	hl,_phase_left
3270  0FE4  35          	dec (hl)
3271  0FE5  20 11       	jr	NZ,l_player_coin_00109
3272  0FE7  21 00 00    	ld	hl,_phase_end
3273  0FEA  36 01       	ld	(hl),0x01
3274  0FEC  18 0A       	jr	l_player_coin_00109
3275  0FEE              l_player_coin_00107:
3276  0FEE  DD 4E 05    	ld	c,(ix+5)
3277  0FF1  06 00       	ld	b,0x00
3278  0FF3  C5          	push	bc
3279  0FF4  CD FB 0F    	call	_player_score_add
3280  0FF7  F1          	pop	af
3281  0FF8              l_player_coin_00109:
3282  0FF8  DD E1       	pop	ix
3283  0FFA  C9          	ret
3284  0FFB              ;	---------------------------------
3285  0FFB              ; Function player_score_add
3286  0FFB              ; ---------------------------------
3287  0FFB              _player_score_add:
3288  0FFB  CD 00 00    	call	___sdcc_enter_ix
3289  0FFE  2A 00 00    	ld	hl,(_index_player)
3290  1001  26 00       	ld	h,0x00
3291  1003  29          	add	hl,hl
3292  1004  01 00 00    	ld	bc,_player_score
3293  1007  09          	add	hl,bc
3294  1008  7E          	ld	a,(hl)
3295  1009  4D          	ld	c,l
3296  100A  44          	ld	b,h
3297  100B  23          	inc	hl
3298  100C  56          	ld	d,(hl)
3299  100D  DD 86 04    	add	a,(ix+4)
3300  1010  5F          	ld	e,a
3301  1011  7A          	ld	a,d
3302  1012  DD 8E 05    	adc	a,(ix+5)
3303  1015  57          	ld	d,a
3304  1016  7B          	ld	a,e
3305  1017  02          	ld	(bc),a
3306  1018  03          	inc	bc
3307  1019  7A          	ld	a,d
3308  101A  02          	ld	(bc),a
3309  101B  2A 00 00    	ld	hl,(_index_player)
3310  101E  26 00       	ld	h,0x00
3311  1020  29          	add	hl,hl
3312  1021  4D          	ld	c,l
3313  1022  44          	ld	b,h
3314  1023  21 00 00    	ld	hl,_player_score
3315  1026  09          	add	hl,bc
3316  1027  5E          	ld	e,(hl)
3317  1028  23          	inc	hl
3318  1029  56          	ld	d,(hl)
3319  102A  21 00 00    	ld	hl,_game_score_top
3320  102D  7E          	ld	a,(hl)
3321  102E  93          	sub	a, e
3322  102F  23          	inc	hl
3323  1030  7E          	ld	a,(hl)
3324  1031  9A          	sbc	a, d
3325  1032  30 04       	jr	NC,l_player_score_add_00102
3326  1034  2B          	dec	hl
3327  1035  73          	ld	(hl),e
3328  1036  23          	inc	hl
3329  1037  72          	ld	(hl),d
3330  1038              l_player_score_add_00102:
3331  1038  21 00 00    	ld	hl,_player_next_extra
3332  103B  09          	add	hl,bc
3333  103C  4E          	ld	c,(hl)
3334  103D  23          	inc	hl
3335  103E  46          	ld	b,(hl)
3336  103F  2B          	dec	hl
3337  1040  79          	ld	a,c
3338  1041  93          	sub	a, e
3339  1042  78          	ld	a,b
3340  1043  9A          	sbc	a, d
3341  1044  30 31       	jr	NC,l_player_score_add_00106
3342  1046  79          	ld	a,c
3343  1047  C6 D0       	add	a,0xd0
3344  1049  77          	ld	(hl),a
3345  104A  78          	ld	a,b
3346  104B  CE 07       	adc	a,0x07
3347  104D  23          	inc	hl
3348  104E  77          	ld	(hl),a
3349  104F  3A 00 00    	ld	a,(_index_player)
3350  1052  C6 00       	add	a,+((_game_lives) & 0xFF)
3351  1054  4F          	ld	c,a
3352  1055  3E 00       	ld	a,+((_game_lives) / 256)
3353  1057  CE 00       	adc	a,0x00
3354  1059  47          	ld	b,a
3355  105A  0A          	ld	a,(bc)
3356  105B  3C          	inc	a
3357  105C  02          	ld	(bc),a
3358  105D  3A 00 00    	ld	a,(_game_bonus)
3359  1060  B7          	or	a, a
3360  1061  20 03       	jr	NZ,l_player_score_add_00104
3361  1063  CD 00 00    	call	_game_print_lives
3362  1066              l_player_score_add_00104:
3363  1066  CD 00 00    	call	_sound_coin
3364  1069  CD 00 00    	call	_sound_coin
3365  106C  CD 00 00    	call	_sound_coin
3366  106F  CD 00 00    	call	_sound_coin
3367  1072  21 00 00    	ld	hl,_hit_count
3368  1075  36 08       	ld	(hl),0x08
3369  1077              l_player_score_add_00106:
3370  1077  DD E1       	pop	ix
3371  1079  C3 00 00    	jp	_game_print_score
3372  107C              ;	---------------------------------
3373  107C              ; Function player_set1
3374  107C              ; ---------------------------------
3375  107C              _player_set1:
3376  107C  21 00 00    	ld	hl,_sprite
3377  107F  36 07       	ld	(hl),0x07
3378  1081  21 00 00    	ld	hl,_sprite_other_player
3379  1084  36 06       	ld	(hl),0x06
3380  1086  21 00 00    	ld	hl,_index_player
3381  1089  36 00       	ld	(hl),0x00
3382  108B  21 00 00    	ld	hl,_tile_offset
3383  108E  36 00       	ld	(hl),0x00
3384  1090  21 00 00    	ld	hl,_tile_offset_other_player
3385  1093  36 18       	ld	(hl),0x18
3386  1095  C9          	ret
3387  1096              ;	---------------------------------
3388  1096              ; Function player_set2
3389  1096              ; ---------------------------------
3390  1096              _player_set2:
3391  1096  21 00 00    	ld	hl,_sprite
3392  1099  36 06       	ld	(hl),0x06
3393  109B  21 00 00    	ld	hl,_sprite_other_player
3394  109E  36 07       	ld	(hl),0x07
3395  10A0  21 00 00    	ld	hl,_index_player
3396  10A3  36 01       	ld	(hl),0x01
3397  10A5  21 00 00    	ld	hl,_tile_offset
3398  10A8  36 18       	ld	(hl),0x18
3399  10AA  21 00 00    	ld	hl,_tile_offset_other_player
3400  10AD  36 00       	ld	(hl),0x00
3401  10AF  C9          	ret
3402  10B0              	SECTION IGNORE
3403  0000              
