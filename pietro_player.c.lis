1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _player_init
181   0000              	GLOBAL _player_calc_slide
182   0000              	GLOBAL _player_check_input
183   0000              	GLOBAL _player_collition
184   0000              	GLOBAL _player_collition_check
185   0000              	GLOBAL _player_kill
186   0000              	GLOBAL _player_restart
187   0000              	GLOBAL _player_lost_life
188   0000              	GLOBAL _player_turn
189   0000              	GLOBAL _player_move
190   0000              	GLOBAL _player_move_input
191   0000              	GLOBAL _player_move_horizontal
192   0000              	GLOBAL _player_push_check
193   0000              	GLOBAL _player_push
194   0000              	GLOBAL _player_hit_slipice
195   0000              	GLOBAL _player_hit_brick
196   0000              	GLOBAL _player_hit_brick_clear
197   0000              	GLOBAL _player_hit_pow
198   0000              	GLOBAL _player_coin
199   0000              	GLOBAL _player_score_add
200   0000              	GLOBAL _player_set1
201   0000              	GLOBAL _player_set2
202   0000              ;--------------------------------------------------------
203   0000              ; Externals used
204   0000              ;--------------------------------------------------------
205   0000              	GLOBAL _debug3
206   0000              	GLOBAL _debug2
207   0000              	GLOBAL _debug
208   0000              	GLOBAL _zx_print_str
209   0000              	GLOBAL _zx_print_int
210   0000              	GLOBAL _zx_print_chr
211   0000              	GLOBAL _zx_print_bonus_time
212   0000              	GLOBAL _zx_isr
213   0000              	GLOBAL _z80_otdr_callee
214   0000              	GLOBAL _z80_otdr
215   0000              	GLOBAL _z80_otir_callee
216   0000              	GLOBAL _z80_otir
217   0000              	GLOBAL _z80_outp_callee
218   0000              	GLOBAL _z80_outp
219   0000              	GLOBAL _z80_indr_callee
220   0000              	GLOBAL _z80_indr
221   0000              	GLOBAL _z80_inir_callee
222   0000              	GLOBAL _z80_inir
223   0000              	GLOBAL _z80_inp_fastcall
224   0000              	GLOBAL _z80_inp
225   0000              	GLOBAL _z80_set_int_state_fastcall
226   0000              	GLOBAL _z80_set_int_state
227   0000              	GLOBAL _z80_get_int_state
228   0000              	GLOBAL _z80_delay_tstate_fastcall
229   0000              	GLOBAL _z80_delay_tstate
230   0000              	GLOBAL _z80_delay_ms_fastcall
231   0000              	GLOBAL _z80_delay_ms
232   0000              	GLOBAL _im2_remove_generic_callback_callee
233   0000              	GLOBAL _im2_remove_generic_callback
234   0000              	GLOBAL _im2_prepend_generic_callback_callee
235   0000              	GLOBAL _im2_prepend_generic_callback
236   0000              	GLOBAL _im2_append_generic_callback_callee
237   0000              	GLOBAL _im2_append_generic_callback
238   0000              	GLOBAL _im2_create_generic_isr_8080_callee
239   0000              	GLOBAL _im2_create_generic_isr_8080
240   0000              	GLOBAL _im2_create_generic_isr_callee
241   0000              	GLOBAL _im2_create_generic_isr
242   0000              	GLOBAL _im2_install_isr_callee
243   0000              	GLOBAL _im2_install_isr
244   0000              	GLOBAL _im2_init_fastcall
245   0000              	GLOBAL _im2_init
246   0000              	GLOBAL _sound_hit_pow
247   0000              	GLOBAL _sound_hit_brick
248   0000              	GLOBAL _sound_hit_enemy
249   0000              	GLOBAL _sound_kill
250   0000              	GLOBAL _sound_enter_enemy
251   0000              	GLOBAL _sound_coin
252   0000              	GLOBAL _sound_jump
253   0000              	GLOBAL _sound_slide
254   0000              	GLOBAL _spr_draw_clear
255   0000              	GLOBAL _spr_water_splash_draw
256   0000              	GLOBAL _spr_water_splash_clear
257   0000              	GLOBAL _spr_draw_back
258   0000              	GLOBAL _spr_cortina_pipes
259   0000              	GLOBAL _spr_cortina_brick
260   0000              	GLOBAL _spr_brick_anim
261   0000              	GLOBAL _spr_back_fix4
262   0000              	GLOBAL _spr_back_fix3
263   0000              	GLOBAL _spr_back_fix2
264   0000              	GLOBAL _spr_back_fix1
265   0000              	GLOBAL _spr_back_fix
266   0000              	GLOBAL _spr_back_clr
267   0000              	GLOBAL _spr_draw_pow
268   0000              	GLOBAL _spr_tile
269   0000              	GLOBAL _spr_set_fall
270   0000              	GLOBAL _spr_destroy
271   0000              	GLOBAL _spr_check_over
272   0000              	GLOBAL _spr_tile_dir
273   0000              	GLOBAL _spr_anim_kill
274   0000              	GLOBAL _spr_anim_fall
275   0000              	GLOBAL _spr_killed
276   0000              	GLOBAL _spr_redraw
277   0000              	GLOBAL _spr_move_left
278   0000              	GLOBAL _spr_move_right
279   0000              	GLOBAL _spr_move_horizontal
280   0000              	GLOBAL _spr_move_down
281   0000              	GLOBAL _spr_move_up
282   0000              	GLOBAL _spr_chktime
283   0000              	GLOBAL _game_hall_print_p
284   0000              	GLOBAL _game_hall_edit_p
285   0000              	GLOBAL _game_hall_check
286   0000              	GLOBAL _game_hall_enter_phs
287   0000              	GLOBAL _game_print_header
288   0000              	GLOBAL _game_end
289   0000              	GLOBAL _game_hall_enter
290   0000              	GLOBAL _game_hall_of_fame
291   0000              	GLOBAL _game_score_osd
292   0000              	GLOBAL _game_phase_print_score_back
293   0000              	GLOBAL _game_bonus_clock
294   0000              	GLOBAL _game_bonus_summary_player
295   0000              	GLOBAL _game_bonus_summary
296   0000              	GLOBAL _game_check_time
297   0000              	GLOBAL _game_menu_config
298   0000              	GLOBAL _game_menu
299   0000              	GLOBAL _game_rotate_attrib
300   0000              	GLOBAL _game_colour_message
301   0000              	GLOBAL _game_paint_attrib_lin_h
302   0000              	GLOBAL _game_paint_attrib_lin
303   0000              	GLOBAL _game_paint_attrib
304   0000              	GLOBAL _game_menu_handle
305   0000              	GLOBAL _game_menu_e
306   0000              	GLOBAL _game_menu_back
307   0000              	GLOBAL _game_print_score
308   0000              	GLOBAL _game_unfreeze_all
309   0000              	GLOBAL _game_freeze_all
310   0000              	GLOBAL _game_freeze
311   0000              	GLOBAL _game_enemy_add_get_index
312   0000              	GLOBAL _game_enemy_add1
313   0000              	GLOBAL _game_enemy_quota
314   0000              	GLOBAL _game_enemy_rnd
315   0000              	GLOBAL _game_enemy_add
316   0000              	GLOBAL _game_check_maze
317   0000              	GLOBAL _game_kill_all_sprites
318   0000              	GLOBAL _game_loop
319   0000              	GLOBAL _game_phase_print
320   0000              	GLOBAL _game_phase_init
321   0000              	GLOBAL _game_phase_calc
322   0000              	GLOBAL _game_start_timer
323   0000              	GLOBAL _game_tick
324   0000              	GLOBAL _game_print_lives
325   0000              	GLOBAL _game_print_footer
326   0000              	GLOBAL _game_calc_index
327   0000              	GLOBAL _game_fill_row
328   0000              	GLOBAL _enemy_kill
329   0000              	GLOBAL _enemy_init
330   0000              	GLOBAL _enemy_walk
331   0000              	GLOBAL _enemy_upgrade
332   0000              	GLOBAL _enemy_evolve
333   0000              	GLOBAL _enemy_standard_hit
334   0000              	GLOBAL _enemy_trip
335   0000              	GLOBAL _enemy_fighterfly
336   0000              	GLOBAL _enemy_fireball_green
337   0000              	GLOBAL _enemy_fireball_red
338   0000              	GLOBAL _enemy_slipice
339   0000              	GLOBAL _enemy_standard
340   0000              	GLOBAL _enemy_turn
341   0000              	GLOBAL _enemy_flip_sidestepper
342   0000              	GLOBAL _enemy_flip
343   0000              	GLOBAL _enemy_flip_change_dir
344   0000              	GLOBAL _enemy_hit
345   0000              	GLOBAL _enemy_collition_check
346   0000              	GLOBAL _enemy_collition
347   0000              	GLOBAL _enemy_coin1
348   0000              	GLOBAL _ay_fx_play
349   0000              	GLOBAL _ay_midi_play
350   0000              	GLOBAL _ay_is_playing
351   0000              	GLOBAL _ay_reset
352   0000              	GLOBAL _NIRVANAP_chars_fastcall
353   0000              	GLOBAL _NIRVANAP_chars
354   0000              	GLOBAL _NIRVANAP_wides_fastcall
355   0000              	GLOBAL _NIRVANAP_wides
356   0000              	GLOBAL _NIRVANAP_tiles_fastcall
357   0000              	GLOBAL _NIRVANAP_tiles
358   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
359   0000              	GLOBAL _NIRVANAP_drawW_raw
360   0000              	GLOBAL _NIRVANAP_drawW_callee
361   0000              	GLOBAL _NIRVANAP_drawW
362   0000              	GLOBAL _NIRVANAP_spriteT_callee
363   0000              	GLOBAL _NIRVANAP_spriteT
364   0000              	GLOBAL _NIRVANAP_fillC_callee
365   0000              	GLOBAL _NIRVANAP_fillC
366   0000              	GLOBAL _NIRVANAP_paintC_callee
367   0000              	GLOBAL _NIRVANAP_paintC
368   0000              	GLOBAL _NIRVANAP_printC_callee
369   0000              	GLOBAL _NIRVANAP_printC
370   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
371   0000              	GLOBAL _NIRVANAP_fillT_raw
372   0000              	GLOBAL _NIRVANAP_fillT_callee
373   0000              	GLOBAL _NIRVANAP_fillT
374   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
375   0000              	GLOBAL _NIRVANAP_drawT_raw
376   0000              	GLOBAL _NIRVANAP_drawT_callee
377   0000              	GLOBAL _NIRVANAP_drawT
378   0000              	GLOBAL _NIRVANAP_stop
379   0000              	GLOBAL _NIRVANAP_start
380   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
381   0000              	GLOBAL _intrinsic_swap_word_32
382   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
383   0000              	GLOBAL _intrinsic_swap_endian_32
384   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
385   0000              	GLOBAL _intrinsic_swap_endian_16
386   0000              	GLOBAL _intrinsic_return_de
387   0000              	GLOBAL _intrinsic_return_bc
388   0000              	GLOBAL _intrinsic_exx
389   0000              	GLOBAL _intrinsic_ex_de_hl
390   0000              	GLOBAL _intrinsic_pop_iy
391   0000              	GLOBAL _intrinsic_pop_ix
392   0000              	GLOBAL _intrinsic_pop_hl
393   0000              	GLOBAL _intrinsic_pop_de
394   0000              	GLOBAL _intrinsic_pop_bc
395   0000              	GLOBAL _intrinsic_pop_af
396   0000              	GLOBAL _intrinsic_push_iy
397   0000              	GLOBAL _intrinsic_push_ix
398   0000              	GLOBAL _intrinsic_push_hl
399   0000              	GLOBAL _intrinsic_push_de
400   0000              	GLOBAL _intrinsic_push_bc
401   0000              	GLOBAL _intrinsic_push_af
402   0000              	GLOBAL _intrinsic_nop
403   0000              	GLOBAL _intrinsic_im_2
404   0000              	GLOBAL _intrinsic_im_1
405   0000              	GLOBAL _intrinsic_im_0
406   0000              	GLOBAL _intrinsic_retn
407   0000              	GLOBAL _intrinsic_reti
408   0000              	GLOBAL _intrinsic_halt
409   0000              	GLOBAL _intrinsic_ei
410   0000              	GLOBAL _intrinsic_di
411   0000              	GLOBAL _intrinsic_stub
412   0000              	GLOBAL _ulltoa_callee
413   0000              	GLOBAL _ulltoa
414   0000              	GLOBAL _strtoull_callee
415   0000              	GLOBAL _strtoull
416   0000              	GLOBAL _strtoll_callee
417   0000              	GLOBAL _strtoll
418   0000              	GLOBAL _lltoa_callee
419   0000              	GLOBAL _lltoa
420   0000              	GLOBAL _llabs_callee
421   0000              	GLOBAL _llabs
422   0000              	GLOBAL __lldivu__callee
423   0000              	GLOBAL __lldivu_
424   0000              	GLOBAL __lldiv__callee
425   0000              	GLOBAL __lldiv_
426   0000              	GLOBAL _atoll_callee
427   0000              	GLOBAL _atoll
428   0000              	GLOBAL _realloc_unlocked_callee
429   0000              	GLOBAL _realloc_unlocked
430   0000              	GLOBAL _malloc_unlocked_fastcall
431   0000              	GLOBAL _malloc_unlocked
432   0000              	GLOBAL _free_unlocked_fastcall
433   0000              	GLOBAL _free_unlocked
434   0000              	GLOBAL _calloc_unlocked_callee
435   0000              	GLOBAL _calloc_unlocked
436   0000              	GLOBAL _aligned_alloc_unlocked_callee
437   0000              	GLOBAL _aligned_alloc_unlocked
438   0000              	GLOBAL _realloc_callee
439   0000              	GLOBAL _realloc
440   0000              	GLOBAL _malloc_fastcall
441   0000              	GLOBAL _malloc
442   0000              	GLOBAL _free_fastcall
443   0000              	GLOBAL _free
444   0000              	GLOBAL _calloc_callee
445   0000              	GLOBAL _calloc
446   0000              	GLOBAL _aligned_alloc_callee
447   0000              	GLOBAL _aligned_alloc
448   0000              	GLOBAL _utoa_callee
449   0000              	GLOBAL _utoa
450   0000              	GLOBAL _ultoa_callee
451   0000              	GLOBAL _ultoa
452   0000              	GLOBAL _system_fastcall
453   0000              	GLOBAL _system
454   0000              	GLOBAL _strtoul_callee
455   0000              	GLOBAL _strtoul
456   0000              	GLOBAL _strtol_callee
457   0000              	GLOBAL _strtol
458   0000              	GLOBAL _strtof_callee
459   0000              	GLOBAL _strtof
460   0000              	GLOBAL _strtod_callee
461   0000              	GLOBAL _strtod
462   0000              	GLOBAL _srand_fastcall
463   0000              	GLOBAL _srand
464   0000              	GLOBAL _rand
465   0000              	GLOBAL _quick_exit_fastcall
466   0000              	GLOBAL _quick_exit
467   0000              	GLOBAL _qsort_callee
468   0000              	GLOBAL _qsort
469   0000              	GLOBAL _ltoa_callee
470   0000              	GLOBAL _ltoa
471   0000              	GLOBAL _labs_fastcall
472   0000              	GLOBAL _labs
473   0000              	GLOBAL _itoa_callee
474   0000              	GLOBAL _itoa
475   0000              	GLOBAL _ftoh_callee
476   0000              	GLOBAL _ftoh
477   0000              	GLOBAL _ftog_callee
478   0000              	GLOBAL _ftog
479   0000              	GLOBAL _ftoe_callee
480   0000              	GLOBAL _ftoe
481   0000              	GLOBAL _ftoa_callee
482   0000              	GLOBAL _ftoa
483   0000              	GLOBAL _exit_fastcall
484   0000              	GLOBAL _exit
485   0000              	GLOBAL _dtoh_callee
486   0000              	GLOBAL _dtoh
487   0000              	GLOBAL _dtog_callee
488   0000              	GLOBAL _dtog
489   0000              	GLOBAL _dtoe_callee
490   0000              	GLOBAL _dtoe
491   0000              	GLOBAL _dtoa_callee
492   0000              	GLOBAL _dtoa
493   0000              	GLOBAL _bsearch_callee
494   0000              	GLOBAL _bsearch
495   0000              	GLOBAL _atol_fastcall
496   0000              	GLOBAL _atol
497   0000              	GLOBAL _atoi_fastcall
498   0000              	GLOBAL _atoi
499   0000              	GLOBAL _atof_fastcall
500   0000              	GLOBAL _atof
501   0000              	GLOBAL _atexit_fastcall
502   0000              	GLOBAL _atexit
503   0000              	GLOBAL _at_quick_exit_fastcall
504   0000              	GLOBAL _at_quick_exit
505   0000              	GLOBAL _abs_fastcall
506   0000              	GLOBAL _abs
507   0000              	GLOBAL _abort
508   0000              	GLOBAL __strtou__callee
509   0000              	GLOBAL __strtou_
510   0000              	GLOBAL __strtoi__callee
511   0000              	GLOBAL __strtoi_
512   0000              	GLOBAL __random_uniform_xor_8__fastcall
513   0000              	GLOBAL __random_uniform_xor_8_
514   0000              	GLOBAL __random_uniform_xor_32__fastcall
515   0000              	GLOBAL __random_uniform_xor_32_
516   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
517   0000              	GLOBAL __random_uniform_cmwc_8_
518   0000              	GLOBAL __shellsort__callee
519   0000              	GLOBAL __shellsort_
520   0000              	GLOBAL __quicksort__callee
521   0000              	GLOBAL __quicksort_
522   0000              	GLOBAL __insertion_sort__callee
523   0000              	GLOBAL __insertion_sort_
524   0000              	GLOBAL __ldivu__callee
525   0000              	GLOBAL __ldivu_
526   0000              	GLOBAL __ldiv__callee
527   0000              	GLOBAL __ldiv_
528   0000              	GLOBAL __divu__callee
529   0000              	GLOBAL __divu_
530   0000              	GLOBAL __div__callee
531   0000              	GLOBAL __div_
532   0000              	GLOBAL _in_mouse_kempston_wheel_delta
533   0000              	GLOBAL _in_mouse_kempston_wheel
534   0000              	GLOBAL _in_mouse_kempston_callee
535   0000              	GLOBAL _in_mouse_kempston
536   0000              	GLOBAL _in_mouse_kempston_setpos_callee
537   0000              	GLOBAL _in_mouse_kempston_setpos
538   0000              	GLOBAL _in_mouse_kempston_reset
539   0000              	GLOBAL _in_mouse_kempston_init
540   0000              	GLOBAL _in_mouse_amx_wheel_delta
541   0000              	GLOBAL _in_mouse_amx_wheel
542   0000              	GLOBAL _in_mouse_amx_callee
543   0000              	GLOBAL _in_mouse_amx
544   0000              	GLOBAL _in_mouse_amx_setpos_callee
545   0000              	GLOBAL _in_mouse_amx_setpos
546   0000              	GLOBAL _in_mouse_amx_reset
547   0000              	GLOBAL _in_mouse_amx_init_callee
548   0000              	GLOBAL _in_mouse_amx_init
549   0000              	GLOBAL _in_stick_sinclair2
550   0000              	GLOBAL _in_stick_sinclair1
551   0000              	GLOBAL _in_stick_kempston
552   0000              	GLOBAL _in_stick_fuller
553   0000              	GLOBAL _in_stick_cursor
554   0000              	GLOBAL _in_stick_keyboard_fastcall
555   0000              	GLOBAL _in_stick_keyboard
556   0000              	GLOBAL _in_wait_nokey
557   0000              	GLOBAL _in_wait_key
558   0000              	GLOBAL _in_test_key
559   0000              	GLOBAL _in_pause_fastcall
560   0000              	GLOBAL _in_pause
561   0000              	GLOBAL _in_key_scancode_fastcall
562   0000              	GLOBAL _in_key_scancode
563   0000              	GLOBAL _in_key_pressed_fastcall
564   0000              	GLOBAL _in_key_pressed
565   0000              	GLOBAL _in_inkey
566   0000              	GLOBAL _zx_pattern_fill_callee
567   0000              	GLOBAL _zx_pattern_fill
568   0000              	GLOBAL _zx_saddrpup_fastcall
569   0000              	GLOBAL _zx_saddrpup
570   0000              	GLOBAL _zx_saddrpright_callee
571   0000              	GLOBAL _zx_saddrpright
572   0000              	GLOBAL _zx_saddrpleft_callee
573   0000              	GLOBAL _zx_saddrpleft
574   0000              	GLOBAL _zx_saddrpdown_fastcall
575   0000              	GLOBAL _zx_saddrpdown
576   0000              	GLOBAL _zx_saddrcup_fastcall
577   0000              	GLOBAL _zx_saddrcup
578   0000              	GLOBAL _zx_saddrcright_fastcall
579   0000              	GLOBAL _zx_saddrcright
580   0000              	GLOBAL _zx_saddrcleft_fastcall
581   0000              	GLOBAL _zx_saddrcleft
582   0000              	GLOBAL _zx_saddrcdown_fastcall
583   0000              	GLOBAL _zx_saddrcdown
584   0000              	GLOBAL _zx_saddr2py_fastcall
585   0000              	GLOBAL _zx_saddr2py
586   0000              	GLOBAL _zx_saddr2px_fastcall
587   0000              	GLOBAL _zx_saddr2px
588   0000              	GLOBAL _zx_saddr2cy_fastcall
589   0000              	GLOBAL _zx_saddr2cy
590   0000              	GLOBAL _zx_saddr2cx_fastcall
591   0000              	GLOBAL _zx_saddr2cx
592   0000              	GLOBAL _zx_saddr2aaddr_fastcall
593   0000              	GLOBAL _zx_saddr2aaddr
594   0000              	GLOBAL _zx_py2saddr_fastcall
595   0000              	GLOBAL _zx_py2saddr
596   0000              	GLOBAL _zx_py2aaddr_fastcall
597   0000              	GLOBAL _zx_py2aaddr
598   0000              	GLOBAL _zx_pxy2saddr_callee
599   0000              	GLOBAL _zx_pxy2saddr
600   0000              	GLOBAL _zx_pxy2aaddr_callee
601   0000              	GLOBAL _zx_pxy2aaddr
602   0000              	GLOBAL _zx_px2bitmask_fastcall
603   0000              	GLOBAL _zx_px2bitmask
604   0000              	GLOBAL _zx_cyx2saddr_callee
605   0000              	GLOBAL _zx_cyx2saddr
606   0000              	GLOBAL _zx_cyx2aaddr_callee
607   0000              	GLOBAL _zx_cyx2aaddr
608   0000              	GLOBAL _zx_cy2saddr_fastcall
609   0000              	GLOBAL _zx_cy2saddr
610   0000              	GLOBAL _zx_cy2aaddr_fastcall
611   0000              	GLOBAL _zx_cy2aaddr
612   0000              	GLOBAL _zx_bitmask2px_fastcall
613   0000              	GLOBAL _zx_bitmask2px
614   0000              	GLOBAL _zx_aaddrcup_fastcall
615   0000              	GLOBAL _zx_aaddrcup
616   0000              	GLOBAL _zx_aaddrcright_fastcall
617   0000              	GLOBAL _zx_aaddrcright
618   0000              	GLOBAL _zx_aaddrcleft_fastcall
619   0000              	GLOBAL _zx_aaddrcleft
620   0000              	GLOBAL _zx_aaddrcdown_fastcall
621   0000              	GLOBAL _zx_aaddrcdown
622   0000              	GLOBAL _zx_aaddr2saddr_fastcall
623   0000              	GLOBAL _zx_aaddr2saddr
624   0000              	GLOBAL _zx_aaddr2py_fastcall
625   0000              	GLOBAL _zx_aaddr2py
626   0000              	GLOBAL _zx_aaddr2px_fastcall
627   0000              	GLOBAL _zx_aaddr2px
628   0000              	GLOBAL _zx_aaddr2cy_fastcall
629   0000              	GLOBAL _zx_aaddr2cy
630   0000              	GLOBAL _zx_aaddr2cx_fastcall
631   0000              	GLOBAL _zx_aaddr2cx
632   0000              	GLOBAL _zx_scroll_wc_up_callee
633   0000              	GLOBAL _zx_scroll_wc_up
634   0000              	GLOBAL _zx_scroll_up_callee
635   0000              	GLOBAL _zx_scroll_up
636   0000              	GLOBAL _zx_cls_wc_callee
637   0000              	GLOBAL _zx_cls_wc
638   0000              	GLOBAL _zx_cls_fastcall
639   0000              	GLOBAL _zx_cls
640   0000              	GLOBAL _zx_border_fastcall
641   0000              	GLOBAL _zx_border
642   0000              	GLOBAL _ay_effect_20
643   0000              	GLOBAL _ay_effect_19
644   0000              	GLOBAL _ay_effect_18
645   0000              	GLOBAL _ay_effect_17
646   0000              	GLOBAL _ay_effect_16
647   0000              	GLOBAL _ay_effect_15
648   0000              	GLOBAL _ay_effect_14
649   0000              	GLOBAL _ay_effect_13
650   0000              	GLOBAL _ay_effect_12
651   0000              	GLOBAL _ay_effect_11
652   0000              	GLOBAL _ay_effect_10
653   0000              	GLOBAL _ay_effect_09
654   0000              	GLOBAL _ay_effect_08
655   0000              	GLOBAL _ay_effect_07
656   0000              	GLOBAL _ay_effect_06
657   0000              	GLOBAL _ay_effect_05
658   0000              	GLOBAL _ay_effect_04
659   0000              	GLOBAL _ay_effect_03
660   0000              	GLOBAL _ay_effect_02
661   0000              	GLOBAL _ay_effect_01
662   0000              	GLOBAL _pb_midi_phase_1
663   0000              	GLOBAL _pb_midi_title
664   0000              	GLOBAL _initials
665   0000              	GLOBAL _hof
666   0000              	GLOBAL _score_osd_tile
667   0000              	GLOBAL _score_osd_time
668   0000              	GLOBAL _score_osd_col
669   0000              	GLOBAL _score_osd_lin
670   0000              	GLOBAL _phase_bonus_total
671   0000              	GLOBAL _phase_angry
672   0000              	GLOBAL _phase_curr
673   0000              	GLOBAL _phase_end
674   0000              	GLOBAL _phase_coins
675   0000              	GLOBAL _phase_pop
676   0000              	GLOBAL _phase_tot
677   0000              	GLOBAL _phase_left
678   0000              	GLOBAL _phase_quota
679   0000              	GLOBAL _phases
680   0000              	GLOBAL _spr_idx
681   0000              	GLOBAL _lvl_1
682   0000              	GLOBAL _sprite_speed_alt
683   0000              	GLOBAL _sprite_speed
684   0000              	GLOBAL _screen_ink
685   0000              	GLOBAL _screen_paper
686   0000              	GLOBAL _game_menu_sel
687   0000              	GLOBAL _game_type
688   0000              	GLOBAL _game_bonus
689   0000              	GLOBAL _spr_water_time
690   0000              	GLOBAL _spr_water_clear
691   0000              	GLOBAL _game_time_fireball_start
692   0000              	GLOBAL _game_time_flipped
693   0000              	GLOBAL _game_score_top
694   0000              	GLOBAL _game_lives_update
695   0000              	GLOBAL _game_lives
696   0000              	GLOBAL _game_over
697   0000              	GLOBAL _game_sound
698   0000              	GLOBAL _game_two_player
699   0000              	GLOBAL _game_brick_tile
700   0000              	GLOBAL _game_pow
701   0000              	GLOBAL _spr_count
702   0000              	GLOBAL _frame_loop_count
703   0000              	GLOBAL _col_time
704   0000              	GLOBAL _frame_time
705   0000              	GLOBAL _entry_time
706   0000              	GLOBAL _curr_time
707   0000              	GLOBAL _s_state
708   0000              	GLOBAL _attrib_hl
709   0000              	GLOBAL _attrib
710   0000              	GLOBAL _zx_val_asm
711   0000              	GLOBAL _enemies
712   0000              	GLOBAL _tmp_ui
713   0000              	GLOBAL _tmp_sc
714   0000              	GLOBAL _tmp_uc
715   0000              	GLOBAL _tmp1
716   0000              	GLOBAL _tmp0
717   0000              	GLOBAL _tmp
718   0000              	GLOBAL _index_d
719   0000              	GLOBAL _index3
720   0000              	GLOBAL _index2
721   0000              	GLOBAL _index1
722   0000              	GLOBAL _loop_count
723   0000              	GLOBAL _s_col1
724   0000              	GLOBAL _s_col0
725   0000              	GLOBAL _s_lin1
726   0000              	GLOBAL _s_lin0
727   0000              	GLOBAL _s_tile1
728   0000              	GLOBAL _s_tile0
729   0000              	GLOBAL _hit_count
730   0000              	GLOBAL _tile_offset_other_player
731   0000              	GLOBAL _tile_offset
732   0000              	GLOBAL _index_player
733   0000              	GLOBAL _sprite_other_player
734   0000              	GLOBAL _sprite
735   0000              	GLOBAL _player_next_extra
736   0000              	GLOBAL _player_score
737   0000              	GLOBAL _last_time
738   0000              	GLOBAL _sliding
739   0000              	GLOBAL _spr_timer_c
740   0000              	GLOBAL _spr_timer
741   0000              	GLOBAL _jump_lin
742   0000              	GLOBAL _hit_col
743   0000              	GLOBAL _hit_lin
744   0000              	GLOBAL _colint
745   0000              	GLOBAL _col
746   0000              	GLOBAL _lin
747   0000              	GLOBAL _tile
748   0000              	GLOBAL _state_a
749   0000              	GLOBAL _state
750   0000              	GLOBAL _class
751   0000              	GLOBAL _tbuffer
752   0000              	GLOBAL _dirs
753   0000              	GLOBAL _k2
754   0000              	GLOBAL _k1
755   0000              	GLOBAL _joyfunc2
756   0000              	GLOBAL _joyfunc1
757   0000              	GLOBAL _joynames
758   0000              	GLOBAL _btiles
759   0000              	GLOBAL _spec128
760   0000              	GLOBAL _hall_valids
761   0000              ;--------------------------------------------------------
762   0000              ; special function registers
763   0000              ;--------------------------------------------------------
764   0000              ;--------------------------------------------------------
765   0000              ; ram data
766   0000              ;--------------------------------------------------------
767   0000              	SECTION bss_compiler
768   0000              defc _NIRVANAP_isr	=	0xf5d2
769   0000              ;--------------------------------------------------------
770   0000              ; ram data
771   0000              ;--------------------------------------------------------
772   0000              
773   0000              IF 0
774   0000              
775   0000              ; .area _INITIALIZED removed by z88dk
776   0000              
777   0000              
778   0000              ENDIF
779   0000              
780   0000              ;--------------------------------------------------------
781   0000              ; absolute external ram data
782   0000              ;--------------------------------------------------------
783   0000              	SECTION IGNORE
784   0000              ;--------------------------------------------------------
785   0000              ; global & static initialisations
786   0000              ;--------------------------------------------------------
787   0000              	SECTION code_crt_init
788   0000              ;--------------------------------------------------------
789   0000              ; Home
790   0000              ;--------------------------------------------------------
791   0000              	SECTION IGNORE
792   0000              ;--------------------------------------------------------
793   0000              ; code
794   0000              ;--------------------------------------------------------
795   0000              	SECTION code_compiler
796   0000              ;	---------------------------------
797   0000              ; Function player_init
798   0000              ; ---------------------------------
799   0000              _player_init:
800   0000  CD 00 00    	call	___sdcc_enter_ix
801   0003  F5          	push	af
802   0004  3E 00       	ld	a,+((_class) & 0xFF)
803   0006  DD 86 04    	add	a,(ix+4)
804   0009  4F          	ld	c,a
805   000A  3E 00       	ld	a,+((_class) / 256)
806   000C  CE 00       	adc	a,0x00
807   000E  47          	ld	b,a
808   000F  3E 10       	ld	a,0x10
809   0011  02          	ld	(bc),a
810   0012  3E 00       	ld	a,+((_tile) & 0xFF)
811   0014  DD 86 04    	add	a,(ix+4)
812   0017  4F          	ld	c,a
813   0018  3E 00       	ld	a,+((_tile) / 256)
814   001A  CE 00       	adc	a,0x00
815   001C  47          	ld	b,a
816   001D  DD 7E 07    	ld	a,(ix+7)
817   0020  02          	ld	(bc),a
818   0021  3E 00       	ld	a,+((_lin) & 0xFF)
819   0023  DD 86 04    	add	a,(ix+4)
820   0026  4F          	ld	c,a
821   0027  3E 00       	ld	a,+((_lin) / 256)
822   0029  CE 00       	adc	a,0x00
823   002B  47          	ld	b,a
824   002C  DD 7E 05    	ld	a,(ix+5)
825   002F  02          	ld	(bc),a
826   0030  3E 00       	ld	a,+((_col) & 0xFF)
827   0032  DD 86 04    	add	a,(ix+4)
828   0035  4F          	ld	c,a
829   0036  3E 00       	ld	a,+((_col) / 256)
830   0038  CE 00       	adc	a,0x00
831   003A  47          	ld	b,a
832   003B  DD 7E 06    	ld	a,(ix+6)
833   003E  02          	ld	(bc),a
834   003F  3E 00       	ld	a,+((_colint) & 0xFF)
835   0041  DD 86 04    	add	a,(ix+4)
836   0044  4F          	ld	c,a
837   0045  3E 00       	ld	a,+((_colint) / 256)
838   0047  CE 00       	adc	a,0x00
839   0049  47          	ld	b,a
840   004A  AF          	xor	a, a
841   004B  02          	ld	(bc),a
842   004C  3E 00       	ld	a,+((_state) & 0xFF)
843   004E  DD 86 04    	add	a,(ix+4)
844   0051  4F          	ld	c,a
845   0052  3E 00       	ld	a,+((_state) / 256)
846   0054  CE 00       	adc	a,0x00
847   0056  47          	ld	b,a
848   0057  AF          	xor	a, a
849   0058  02          	ld	(bc),a
850   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
851   005B  DD 86 04    	add	a,(ix+4)
852   005E  4F          	ld	c,a
853   005F  3E 00       	ld	a,+((_state_a) / 256)
854   0061  CE 00       	adc	a,0x00
855   0063  47          	ld	b,a
856   0064  AF          	xor	a, a
857   0065  02          	ld	(bc),a
858   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
859   0068  DD 86 04    	add	a,(ix+4)
860   006B  5F          	ld	e,a
861   006C  3E 00       	ld	a,+((_jump_lin) / 256)
862   006E  CE 00       	adc	a,0x00
863   0070  57          	ld	d,a
864   0071  DD 7E 05    	ld	a,(ix+5)
865   0074  12          	ld	(de),a
866   0075  DD 5E 04    	ld	e,(ix+4)
867   0078  16 00       	ld	d,0x00
868   007A  CB 23       	sla	e
869   007C  CB 12       	rl	d
870   007E  21 00 00    	ld	hl,_last_time
871   0081  19          	add	hl,de
872   0082  E3          	ex	(sp), hl
873   0083  E1          	pop	hl
874   0084  ED 5B 00 00 	ld	de,(_curr_time)
875   0088  E5          	push	hl
876   0089  73          	ld	(hl),e
877   008A  23          	inc	hl
878   008B  72          	ld	(hl),d
879   008C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
880   008E  DD 86 04    	add	a,(ix+4)
881   0091  5F          	ld	e,a
882   0092  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
883   0094  CE 00       	adc	a,0x00
884   0096  57          	ld	d,a
885   0097  AF          	xor	a, a
886   0098  12          	ld	(de),a
887   0099  0A          	ld	a,(bc)
888   009A  5F          	ld	e,a
889   009B  3A 00 00    	ld	a,(_sprite)
890   009E  D6 07       	sub	a,0x07
891   00A0  20 0B       	jr	NZ,l_player_init_00102
892   00A2  21 00 00    	ld	hl,_index_player
893   00A5  36 00       	ld	(hl),0x00
894   00A7  7B          	ld	a,e
895   00A8  CB DF       	set	3, a
896   00AA  02          	ld	(bc),a
897   00AB  18 09       	jr	l_player_init_00103
898   00AD              l_player_init_00102:
899   00AD  21 00 00    	ld	hl,_index_player
900   00B0  36 01       	ld	(hl),0x01
901   00B2  7B          	ld	a,e
902   00B3  CB E7       	set	4, a
903   00B5  02          	ld	(bc),a
904   00B6              l_player_init_00103:
905   00B6  0A          	ld	a,(bc)
906   00B7  CB C7       	set	0, a
907   00B9  02          	ld	(bc),a
908   00BA  3E 00       	ld	a,+((_hit_col) & 0xFF)
909   00BC  21 00 00    	ld	hl,_index_player
910   00BF  86          	add	a, (hl)
911   00C0  4F          	ld	c,a
912   00C1  3E 00       	ld	a,+((_hit_col) / 256)
913   00C3  CE 00       	adc	a,0x00
914   00C5  47          	ld	b,a
915   00C6  AF          	xor	a, a
916   00C7  02          	ld	(bc),a
917   00C8  3E 00       	ld	a,+((_hit_lin) & 0xFF)
918   00CA  86          	add	a, (hl)
919   00CB  4F          	ld	c,a
920   00CC  3E 00       	ld	a,+((_hit_lin) / 256)
921   00CE  CE 00       	adc	a,0x00
922   00D0  47          	ld	b,a
923   00D1  AF          	xor	a, a
924   00D2  02          	ld	(bc),a
925   00D3  3E 00       	ld	a,+((_sliding) & 0xFF)
926   00D5  86          	add	a, (hl)
927   00D6  4F          	ld	c,a
928   00D7  3E 00       	ld	a,+((_sliding) / 256)
929   00D9  CE 00       	adc	a,0x00
930   00DB  47          	ld	b,a
931   00DC  3E 04       	ld	a,0x04
932   00DE  02          	ld	(bc),a
933   00DF  DD 66 06    	ld	h,(ix+6)
934   00E2  DD 6E 05    	ld	l,(ix+5)
935   00E5  E5          	push	hl
936   00E6  DD 66 07    	ld	h,(ix+7)
937   00E9  DD 6E 04    	ld	l,(ix+4)
938   00EC  E5          	push	hl
939   00ED  CD 00 00    	call	_NIRVANAP_spriteT_callee
940   00F0  F1          	pop	af
941   00F1  DD E1       	pop	ix
942   00F3  C9          	ret
943   00F4              ;	---------------------------------
944   00F4              ; Function player_calc_slide
945   00F4              ; ---------------------------------
946   00F4              _player_calc_slide:
947   00F4  3E 00       	ld	a,+((_col) & 0xFF)
948   00F6  21 00 00    	ld	hl,_sprite
949   00F9  86          	add	a, (hl)
950   00FA  4F          	ld	c,a
951   00FB  3E 00       	ld	a,+((_col) / 256)
952   00FD  CE 00       	adc	a,0x00
953   00FF  47          	ld	b,a
954   0100  0A          	ld	a,(bc)
955   0101  57          	ld	d,a
956   0102  4E          	ld	c,(hl)
957   0103  06 00       	ld	b,0x00
958   0105  21 00 00    	ld	hl,_lin
959   0108  09          	add	hl,bc
960   0109  7E          	ld	a,(hl)
961   010A  C6 10       	add	a,0x10
962   010C  5F          	ld	e, a
963   010D  D5          	push	de
964   010E  CD 00 00    	call	_game_calc_index
965   0111  F1          	pop	af
966   0112  22 00 00    	ld	(_index1),hl
967   0115  01 00 00    	ld	bc,_lvl_1
968   0118  09          	add	hl,bc
969   0119  7E          	ld	a,(hl)
970   011A  D6 14       	sub	a,0x14
971   011C  20 10       	jr	NZ,l_player_calc_slide_00102
972   011E  3A 00 00    	ld	a,(_index_player)
973   0121  C6 00       	add	a,+((_sliding) & 0xFF)
974   0123  4F          	ld	c,a
975   0124  3E 00       	ld	a,+((_sliding) / 256)
976   0126  CE 00       	adc	a,0x00
977   0128  47          	ld	b,a
978   0129  3E 10       	ld	a,0x10
979   012B  02          	ld	(bc),a
980   012C  18 0E       	jr	l_player_calc_slide_00104
981   012E              l_player_calc_slide_00102:
982   012E  3A 00 00    	ld	a,(_index_player)
983   0131  C6 00       	add	a,+((_sliding) & 0xFF)
984   0133  4F          	ld	c,a
985   0134  3E 00       	ld	a,+((_sliding) / 256)
986   0136  CE 00       	adc	a,0x00
987   0138  47          	ld	b,a
988   0139  3E 04       	ld	a,0x04
989   013B  02          	ld	(bc),a
990   013C              l_player_calc_slide_00104:
991   013C  C9          	ret
992   013D              ;	---------------------------------
993   013D              ; Function player_check_input
994   013D              ; ---------------------------------
995   013D              _player_check_input:
996   013D  21 00 00    	ld	hl,_dirs
997   0140  7E          	ld	a,(hl)
998   0141  CB 07       	rlc	a
999   0143  E6 01       	and	a,0x01
1000  0145  CB 47       	bit	0,a
1001  0147  20 0F       	jr	NZ,l_player_check_input_00104
1002  0149  7E          	ld	a,(hl)
1003  014A  E6 04       	and	a,0x04
1004  014C  20 0A       	jr	NZ,l_player_check_input_00104
1005  014E  3A 00 00    	ld	a,(_dirs)
1006  0151  E6 08       	and	a,0x08
1007  0153  20 03       	jr	NZ,l_player_check_input_00104
1008  0155  6F          	ld	l,a
1009  0156  18 02       	jr	l_player_check_input_00105
1010  0158              l_player_check_input_00104:
1011  0158  2E 01       	ld	l,0x01
1012  015A              l_player_check_input_00105:
1013  015A  C9          	ret
1014  015B              ;	---------------------------------
1015  015B              ; Function player_collition
1016  015B              ; ---------------------------------
1017  015B              _player_collition:
1018  015B  3A 00 00    	ld	a,(_sprite)
1019  015E  C6 00       	add	a,+((_class) & 0xFF)
1020  0160  4F          	ld	c,a
1021  0161  3E 00       	ld	a,+((_class) / 256)
1022  0163  CE 00       	adc	a,0x00
1023  0165  47          	ld	b,a
1024  0166  0A          	ld	a,(bc)
1025  0167  B7          	or	a,a
1026  0168  20 04       	jr	NZ,l_player_collition_00102
1027  016A  6F          	ld	l,a
1028  016B  C3 EE 01    	jp	l_player_collition_00119
1029  016E              l_player_collition_00102:
1030  016E  3A 00 00    	ld	a,(_sprite)
1031  0171  C6 00       	add	a,+((_state) & 0xFF)
1032  0173  4F          	ld	c,a
1033  0174  3E 00       	ld	a,+((_state) / 256)
1034  0176  CE 00       	adc	a,0x00
1035  0178  47          	ld	b,a
1036  0179  0A          	ld	a,(bc)
1037  017A  CB 67       	bit	4, a
1038  017C  28 04       	jr	Z,l_player_collition_00104
1039  017E  2E 00       	ld	l,0x00
1040  0180  18 6C       	jr	l_player_collition_00119
1041  0182              l_player_collition_00104:
1042  0182  CB 6F       	bit	5, a
1043  0184  28 04       	jr	Z,l_player_collition_00106
1044  0186  2E 00       	ld	l,0x00
1045  0188  18 64       	jr	l_player_collition_00119
1046  018A              l_player_collition_00106:
1047  018A  21 00 00    	ld	hl,_hit_count
1048  018D  36 00       	ld	(hl),0x00
1049  018F  21 00 00    	ld	hl,_enemies
1050  0192  36 00       	ld	(hl),0x00
1051  0194              l_player_collition_00117:
1052  0194  CD EF 01    	call	_player_collition_check
1053  0197  7D          	ld	a,l
1054  0198  B7          	or	a, a
1055  0199  28 44       	jr	Z,l_player_collition_00118
1056  019B  3A 00 00    	ld	a,(_enemies)
1057  019E  C6 00       	add	a,+((_state) & 0xFF)
1058  01A0  4F          	ld	c,a
1059  01A1  3E 00       	ld	a,+((_state) / 256)
1060  01A3  CE 00       	adc	a,0x00
1061  01A5  47          	ld	b,a
1062  01A6  0A          	ld	a,(bc)
1063  01A7  CB 67       	bit	4, a
1064  01A9  28 0B       	jr	Z,l_player_collition_00112
1065  01AB  3A 00 00    	ld	a,(_enemies)
1066  01AE  F5          	push	af
1067  01AF  33          	inc	sp
1068  01B0  CD 00 00    	call	_enemy_kill
1069  01B3  33          	inc	sp
1070  01B4  18 29       	jr	l_player_collition_00118
1071  01B6              l_player_collition_00112:
1072  01B6  2A 00 00    	ld	hl,(_enemies)
1073  01B9  26 00       	ld	h,0x00
1074  01BB  01 00 00    	ld	bc,_class
1075  01BE  09          	add	hl,bc
1076  01BF  7E          	ld	a,(hl)
1077  01C0  4F          	ld	c,a
1078  01C1  D6 08       	sub	a,0x08
1079  01C3  28 05       	jr	Z,l_player_collition_00107
1080  01C5  79          	ld	a,c
1081  01C6  D6 0C       	sub	a,0x0c
1082  01C8  20 0C       	jr	NZ,l_player_collition_00108
1083  01CA              l_player_collition_00107:
1084  01CA  2A 00 00    	ld	hl,(_enemies)
1085  01CD  26 50       	ld	h,0x50
1086  01CF  E5          	push	hl
1087  01D0  CD 36 10    	call	_player_coin
1088  01D3  F1          	pop	af
1089  01D4  18 09       	jr	l_player_collition_00118
1090  01D6              l_player_collition_00108:
1091  01D6  21 00 00    	ld	hl,_ay_effect_18
1092  01D9  CD 00 00    	call	_ay_fx_play
1093  01DC  CD 64 03    	call	_player_kill
1094  01DF              l_player_collition_00118:
1095  01DF  21 00 00    	ld	hl,_enemies
1096  01E2  7E          	ld	a,(hl)
1097  01E3  3C          	inc	a
1098  01E4  77          	ld	(hl),a
1099  01E5  D6 06       	sub	a,0x06
1100  01E7  38 AB       	jr	C,l_player_collition_00117
1101  01E9  CD 00 00    	call	_game_score_osd
1102  01EC  2E 00       	ld	l,0x00
1103  01EE              l_player_collition_00119:
1104  01EE  C9          	ret
1105  01EF              ;	---------------------------------
1106  01EF              ; Function player_collition_check
1107  01EF              ; ---------------------------------
1108  01EF              _player_collition_check:
1109  01EF  CD 00 00    	call	___sdcc_enter_ix
1110  01F2  3B          	dec	sp
1111  01F3  3A 00 00    	ld	a,(_enemies)
1112  01F6  C6 00       	add	a,+((_class) & 0xFF)
1113  01F8  4F          	ld	c,a
1114  01F9  3E 00       	ld	a,+((_class) / 256)
1115  01FB  CE 00       	adc	a,0x00
1116  01FD  47          	ld	b,a
1117  01FE  0A          	ld	a,(bc)
1118  01FF  B7          	or	a,a
1119  0200  20 04       	jr	NZ,l_player_collition_check_00102
1120  0202  6F          	ld	l,a
1121  0203  C3 60 03    	jp	l_player_collition_check_00125
1122  0206              l_player_collition_check_00102:
1123  0206  3A 00 00    	ld	a,(_enemies)
1124  0209  C6 00       	add	a,+((_state) & 0xFF)
1125  020B  4F          	ld	c,a
1126  020C  3E 00       	ld	a,+((_state) / 256)
1127  020E  CE 00       	adc	a,0x00
1128  0210  47          	ld	b,a
1129  0211  0A          	ld	a,(bc)
1130  0212  CB 6F       	bit	5, a
1131  0214  28 05       	jr	Z,l_player_collition_check_00104
1132  0216  2E 00       	ld	l,0x00
1133  0218  C3 60 03    	jp	l_player_collition_check_00125
1134  021B              l_player_collition_check_00104:
1135  021B  11 00 00    	ld	de,_lin+0
1136  021E  7B          	ld	a,e
1137  021F  21 00 00    	ld	hl,_enemies
1138  0222  86          	add	a, (hl)
1139  0223  4F          	ld	c,a
1140  0224  7A          	ld	a,d
1141  0225  CE 00       	adc	a,0x00
1142  0227  47          	ld	b,a
1143  0228  0A          	ld	a,(bc)
1144  0229  4F          	ld	c,a
1145  022A  06 00       	ld	b,0x00
1146  022C  7B          	ld	a,e
1147  022D  21 00 00    	ld	hl,_sprite
1148  0230  86          	add	a, (hl)
1149  0231  5F          	ld	e,a
1150  0232  7A          	ld	a,d
1151  0233  CE 00       	adc	a,0x00
1152  0235  57          	ld	d,a
1153  0236  1A          	ld	a,(de)
1154  0237  5F          	ld	e,a
1155  0238  16 00       	ld	d,0x00
1156  023A  79          	ld	a,c
1157  023B  93          	sub	a, e
1158  023C  6F          	ld	l,a
1159  023D  78          	ld	a,b
1160  023E  9A          	sbc	a, d
1161  023F  67          	ld	h,a
1162  0240  CD 00 00    	call	_abs_fastcall
1163  0243  22 00 00    	ld	(_tmp_ui),hl
1164  0246  3A 00 00    	ld	a,(_sprite)
1165  0249  C6 00       	add	a,+((_state) & 0xFF)
1166  024B  4F          	ld	c,a
1167  024C  3E 00       	ld	a,+((_state) / 256)
1168  024E  CE 00       	adc	a,0x00
1169  0250  47          	ld	b,a
1170  0251  0A          	ld	a,(bc)
1171  0252  CB 47       	bit	0, a
1172  0254  20 04       	jr	NZ,l_player_collition_check_00109
1173  0256  CB 4F       	bit	1, a
1174  0258  28 11       	jr	Z,l_player_collition_check_00110
1175  025A              l_player_collition_check_00109:
1176  025A  3E 10       	ld	a,0x10
1177  025C  21 00 00    	ld	hl,_tmp_ui
1178  025F  BE          	cp	a, (hl)
1179  0260  3E 00       	ld	a,0x00
1180  0262  23          	inc	hl
1181  0263  9E          	sbc	a, (hl)
1182  0264  30 16       	jr	NC,l_player_collition_check_00111
1183  0266  2E 00       	ld	l,0x00
1184  0268  C3 60 03    	jp	l_player_collition_check_00125
1185  026B              l_player_collition_check_00110:
1186  026B  3E 0E       	ld	a,0x0e
1187  026D  21 00 00    	ld	hl,_tmp_ui
1188  0270  BE          	cp	a, (hl)
1189  0271  3E 00       	ld	a,0x00
1190  0273  23          	inc	hl
1191  0274  9E          	sbc	a, (hl)
1192  0275  30 05       	jr	NC,l_player_collition_check_00111
1193  0277  2E 00       	ld	l,0x00
1194  0279  C3 60 03    	jp	l_player_collition_check_00125
1195  027C              l_player_collition_check_00111:
1196  027C  2A 00 00    	ld	hl,(_enemies)
1197  027F  26 00       	ld	h,0x00
1198  0281  01 00 00    	ld	bc,_col
1199  0284  09          	add	hl,bc
1200  0285  4E          	ld	c,(hl)
1201  0286  06 00       	ld	b,0x00
1202  0288  2A 00 00    	ld	hl,(_sprite)
1203  028B  60          	ld	h,b
1204  028C  11 00 00    	ld	de,_col
1205  028F  19          	add	hl,de
1206  0290  5E          	ld	e, (hl)
1207  0291  16 00       	ld	d,0x00
1208  0293  79          	ld	a,c
1209  0294  93          	sub	a, e
1210  0295  6F          	ld	l,a
1211  0296  78          	ld	a,b
1212  0297  9A          	sbc	a, d
1213  0298  67          	ld	h,a
1214  0299  CD 00 00    	call	_abs_fastcall
1215  029C  22 00 00    	ld	(_tmp_ui),hl
1216  029F  2A 00 00    	ld	hl,(_enemies)
1217  02A2  26 00       	ld	h,0x00
1218  02A4  01 00 00    	ld	bc,_col
1219  02A7  09          	add	hl,bc
1220  02A8  7E          	ld	a,(hl)
1221  02A9  4F          	ld	c,a
1222  02AA  87          	add	a, a
1223  02AB  81          	add	a, c
1224  02AC  32 00 00    	ld	(_tmp0),a
1225  02AF  4F          	ld	c,a
1226  02B0  2A 00 00    	ld	hl,(_sprite)
1227  02B3  26 00       	ld	h,0x00
1228  02B5  11 00 00    	ld	de,_col
1229  02B8  19          	add	hl,de
1230  02B9  7E          	ld	a,(hl)
1231  02BA  5F          	ld	e,a
1232  02BB  87          	add	a, a
1233  02BC  83          	add	a, e
1234  02BD  32 00 00    	ld	(_tmp1),a
1235  02C0  47          	ld	b,a
1236  02C1  3E 02       	ld	a,0x02
1237  02C3  21 00 00    	ld	hl,_tmp_ui
1238  02C6  BE          	cp	a, (hl)
1239  02C7  3E 00       	ld	a,0x00
1240  02C9  23          	inc	hl
1241  02CA  9E          	sbc	a, (hl)
1242  02CB  30 05       	jr	NC,l_player_collition_check_00114
1243  02CD  2E 00       	ld	l,0x00
1244  02CF  C3 60 03    	jp	l_player_collition_check_00125
1245  02D2              l_player_collition_check_00114:
1246  02D2  2A 00 00    	ld	hl,(_enemies)
1247  02D5  26 00       	ld	h,0x00
1248  02D7  11 00 00    	ld	de,_state
1249  02DA  19          	add	hl,de
1250  02DB  7E          	ld	a,(hl)
1251  02DC  DD 77 FF    	ld	(ix-1),a
1252  02DF  CB 57       	bit	2,a
1253  02E1  28 0E       	jr	Z,l_player_collition_check_00116
1254  02E3  2A 00 00    	ld	hl,(_enemies)
1255  02E6  26 00       	ld	h,0x00
1256  02E8  11 00 00    	ld	de,_colint
1257  02EB  19          	add	hl,de
1258  02EC  7E          	ld	a,(hl)
1259  02ED  81          	add	a,c
1260  02EE  32 00 00    	ld	(_tmp0),a
1261  02F1              l_player_collition_check_00116:
1262  02F1  DD CB FF 5E 	bit	3,(ix-1)
1263  02F5  28 0F       	jr	Z,l_player_collition_check_00118
1264  02F7  2A 00 00    	ld	hl,(_enemies)
1265  02FA  26 00       	ld	h,0x00
1266  02FC  11 00 00    	ld	de,_colint
1267  02FF  19          	add	hl,de
1268  0300  5E          	ld	e, (hl)
1269  0301  79          	ld	a,c
1270  0302  93          	sub	a, e
1271  0303  32 00 00    	ld	(_tmp0),a
1272  0306              l_player_collition_check_00118:
1273  0306  2A 00 00    	ld	hl,(_sprite)
1274  0309  26 00       	ld	h,0x00
1275  030B  11 00 00    	ld	de,_state
1276  030E  19          	add	hl,de
1277  030F  7E          	ld	a,(hl)
1278  0310  4F          	ld	c,a
1279  0311  CB 57       	bit	2,a
1280  0313  28 0E       	jr	Z,l_player_collition_check_00120
1281  0315  2A 00 00    	ld	hl,(_sprite)
1282  0318  26 00       	ld	h,0x00
1283  031A  11 00 00    	ld	de,_colint
1284  031D  19          	add	hl,de
1285  031E  7E          	ld	a,(hl)
1286  031F  80          	add	a,b
1287  0320  32 00 00    	ld	(_tmp1),a
1288  0323              l_player_collition_check_00120:
1289  0323  CB 59       	bit	3, c
1290  0325  28 0F       	jr	Z,l_player_collition_check_00122
1291  0327  2A 00 00    	ld	hl,(_sprite)
1292  032A  26 00       	ld	h,0x00
1293  032C  11 00 00    	ld	de,_colint
1294  032F  19          	add	hl,de
1295  0330  4E          	ld	c, (hl)
1296  0331  78          	ld	a,b
1297  0332  91          	sub	a, c
1298  0333  32 00 00    	ld	(_tmp1),a
1299  0336              l_player_collition_check_00122:
1300  0336  3A 00 00    	ld	a,(_tmp0)
1301  0339  4F          	ld	c,a
1302  033A  06 00       	ld	b,0x00
1303  033C  3A 00 00    	ld	a,(_tmp1)
1304  033F  5F          	ld	e,a
1305  0340  16 00       	ld	d,0x00
1306  0342  79          	ld	a,c
1307  0343  93          	sub	a, e
1308  0344  6F          	ld	l,a
1309  0345  78          	ld	a,b
1310  0346  9A          	sbc	a, d
1311  0347  67          	ld	h,a
1312  0348  CD 00 00    	call	_abs_fastcall
1313  034B  22 00 00    	ld	(_tmp_ui),hl
1314  034E  3E 04       	ld	a,0x04
1315  0350  21 00 00    	ld	hl,_tmp_ui
1316  0353  BE          	cp	a, (hl)
1317  0354  3E 00       	ld	a,0x00
1318  0356  23          	inc	hl
1319  0357  9E          	sbc	a, (hl)
1320  0358  30 04       	jr	NC,l_player_collition_check_00124
1321  035A  2E 00       	ld	l,0x00
1322  035C  18 02       	jr	l_player_collition_check_00125
1323  035E              l_player_collition_check_00124:
1324  035E  2E 01       	ld	l,0x01
1325  0360              l_player_collition_check_00125:
1326  0360  33          	inc	sp
1327  0361  DD E1       	pop	ix
1328  0363  C9          	ret
1329  0364              ;	---------------------------------
1330  0364              ; Function player_kill
1331  0364              ; ---------------------------------
1332  0364              _player_kill:
1333  0364  01 00 00    	ld	bc,_state+0
1334  0367  2A 00 00    	ld	hl,(_sprite)
1335  036A  26 00       	ld	h,0x00
1336  036C  09          	add	hl,bc
1337  036D  CB 6E       	bit	5,(hl)
1338  036F  C2 28 04    	jp	NZ,l_player_kill_00109
1339  0372  C5          	push	bc
1340  0373  CD 00 00    	call	_sound_hit_brick
1341  0376  C1          	pop	bc
1342  0377  79          	ld	a,c
1343  0378  21 00 00    	ld	hl,_sprite
1344  037B  86          	add	a, (hl)
1345  037C  5F          	ld	e,a
1346  037D  78          	ld	a,b
1347  037E  CE 00       	adc	a,0x00
1348  0380  57          	ld	d,a
1349  0381  1A          	ld	a,(de)
1350  0382  CB EF       	set	5, a
1351  0384  12          	ld	(de),a
1352  0385  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1353  0387  86          	add	a, (hl)
1354  0388  5F          	ld	e,a
1355  0389  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1356  038B  CE 00       	adc	a,0x00
1357  038D  57          	ld	d,a
1358  038E  3E 03       	ld	a,0x03
1359  0390  12          	ld	(de),a
1360  0391  79          	ld	a,c
1361  0392  86          	add	a, (hl)
1362  0393  4F          	ld	c,a
1363  0394  78          	ld	a,b
1364  0395  CE 00       	adc	a,0x00
1365  0397  47          	ld	b,a
1366  0398  0A          	ld	a,(bc)
1367  0399  CB 57       	bit	2, a
1368  039B  28 13       	jr	Z,l_player_kill_00102
1369  039D  3A 00 00    	ld	a,(_sprite)
1370  03A0  C6 00       	add	a,+((_tile) & 0xFF)
1371  03A2  4F          	ld	c,a
1372  03A3  3E 00       	ld	a,+((_tile) / 256)
1373  03A5  CE 00       	adc	a,0x00
1374  03A7  47          	ld	b,a
1375  03A8  3A 00 00    	ld	a,(_tile_offset)
1376  03AB  C6 0B       	add	a,0x0b
1377  03AD  02          	ld	(bc),a
1378  03AE  18 11       	jr	l_player_kill_00103
1379  03B0              l_player_kill_00102:
1380  03B0  3A 00 00    	ld	a,(_sprite)
1381  03B3  C6 00       	add	a,+((_tile) & 0xFF)
1382  03B5  4F          	ld	c,a
1383  03B6  3E 00       	ld	a,+((_tile) / 256)
1384  03B8  CE 00       	adc	a,0x00
1385  03BA  47          	ld	b,a
1386  03BB  3A 00 00    	ld	a,(_tile_offset)
1387  03BE  C6 17       	add	a,0x17
1388  03C0  02          	ld	(bc),a
1389  03C1              l_player_kill_00103:
1390  03C1  CD 5D 0F    	call	_player_hit_brick_clear
1391  03C4  3E 00       	ld	a,+((_col) & 0xFF)
1392  03C6  21 00 00    	ld	hl,_sprite
1393  03C9  86          	add	a, (hl)
1394  03CA  4F          	ld	c,a
1395  03CB  3E 00       	ld	a,+((_col) / 256)
1396  03CD  CE 00       	adc	a,0x00
1397  03CF  47          	ld	b,a
1398  03D0  0A          	ld	a,(bc)
1399  03D1  4F          	ld	c,a
1400  03D2  3E 00       	ld	a,+((_lin) & 0xFF)
1401  03D4  86          	add	a, (hl)
1402  03D5  5F          	ld	e,a
1403  03D6  3E 00       	ld	a,+((_lin) / 256)
1404  03D8  CE 00       	adc	a,0x00
1405  03DA  57          	ld	d,a
1406  03DB  1A          	ld	a,(de)
1407  03DC  47          	ld	b,a
1408  03DD  3E 00       	ld	a,+((_tile) & 0xFF)
1409  03DF  86          	add	a, (hl)
1410  03E0  5F          	ld	e,a
1411  03E1  3E 00       	ld	a,+((_tile) / 256)
1412  03E3  CE 00       	adc	a,0x00
1413  03E5  57          	ld	d,a
1414  03E6  1A          	ld	a,(de)
1415  03E7  57          	ld	d,a
1416  03E8  79          	ld	a,c
1417  03E9  F5          	push	af
1418  03EA  33          	inc	sp
1419  03EB  4A          	ld	c, d
1420  03EC  7E          	ld	a,(hl)
1421  03ED  C5          	push	bc
1422  03EE  F5          	push	af
1423  03EF  33          	inc	sp
1424  03F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1425  03F3  01 00 00    	ld	bc,_spr_timer+0
1426  03F6  2A 00 00    	ld	hl,(_sprite)
1427  03F9  26 00       	ld	h,0x00
1428  03FB  29          	add	hl, hl
1429  03FC  09          	add	hl,bc
1430  03FD  ED 5B 00 00 	ld	de,(_curr_time)
1431  0401  73          	ld	(hl),e
1432  0402  23          	inc	hl
1433  0403  72          	ld	(hl),d
1434  0404  3A 00 00    	ld	a,(_sprite)
1435  0407  FE 07       	cp	a,0x07
1436  0409  20 0E       	jr	NZ,l_player_kill_00105
1437  040B  C6 00       	add	a,+((_state_a) & 0xFF)
1438  040D  4F          	ld	c,a
1439  040E  3E 00       	ld	a,+((_state_a) / 256)
1440  0410  CE 00       	adc	a,0x00
1441  0412  47          	ld	b,a
1442  0413  0A          	ld	a,(bc)
1443  0414  CB DF       	set	3, a
1444  0416  02          	ld	(bc),a
1445  0417  18 0F       	jr	l_player_kill_00109
1446  0419              l_player_kill_00105:
1447  0419  3A 00 00    	ld	a,(_sprite)
1448  041C  C6 00       	add	a,+((_state_a) & 0xFF)
1449  041E  4F          	ld	c,a
1450  041F  3E 00       	ld	a,+((_state_a) / 256)
1451  0421  CE 00       	adc	a,0x00
1452  0423  47          	ld	b,a
1453  0424  0A          	ld	a,(bc)
1454  0425  CB E7       	set	4, a
1455  0427  02          	ld	(bc),a
1456  0428              l_player_kill_00109:
1457  0428  C9          	ret
1458  0429              ;	---------------------------------
1459  0429              ; Function player_restart
1460  0429              ; ---------------------------------
1461  0429              _player_restart:
1462  0429  CD 00 00    	call	___sdcc_enter_ix
1463  042C  21 00 00    	ld	hl,_ay_effect_15
1464  042F  CD 00 00    	call	_ay_fx_play
1465  0432  DD 7E 04    	ld	a,(ix+4)
1466  0435  D6 07       	sub	a,0x07
1467  0437  20 19       	jr	NZ,l_player_restart_00102
1468  0439  21 0E 03    	ld	hl,0x030e
1469  043C  E5          	push	hl
1470  043D  21 07 00    	ld	hl,0x0007
1471  0440  E5          	push	hl
1472  0441  CD 00 00    	call	_player_init
1473  0444  F1          	pop	af
1474  0445  21 10 0E    	ld	hl,0x0e10
1475  0448  E3          	ex	(sp),hl
1476  0449  3E 84       	ld	a,0x84
1477  044B  F5          	push	af
1478  044C  33          	inc	sp
1479  044D  CD 00 00    	call	_NIRVANAP_drawT_callee
1480  0450  18 17       	jr	l_player_restart_00103
1481  0452              l_player_restart_00102:
1482  0452  21 10 27    	ld	hl,0x2710
1483  0455  E5          	push	hl
1484  0456  21 06 00    	ld	hl,0x0006
1485  0459  E5          	push	hl
1486  045A  CD 00 00    	call	_player_init
1487  045D  F1          	pop	af
1488  045E  21 10 10    	ld	hl,0x1010
1489  0461  E3          	ex	(sp),hl
1490  0462  3E 84       	ld	a,0x84
1491  0464  F5          	push	af
1492  0465  33          	inc	sp
1493  0466  CD 00 00    	call	_NIRVANAP_drawT_callee
1494  0469              l_player_restart_00103:
1495  0469  3E 00       	ld	a,+((_state) & 0xFF)
1496  046B  DD 86 04    	add	a,(ix+4)
1497  046E  4F          	ld	c,a
1498  046F  3E 00       	ld	a,+((_state) / 256)
1499  0471  CE 00       	adc	a,0x00
1500  0473  47          	ld	b,a
1501  0474  0A          	ld	a,(bc)
1502  0475  CB E7       	set	4, a
1503  0477  02          	ld	(bc),a
1504  0478  3E 00       	ld	a,+((_state_a) & 0xFF)
1505  047A  DD 86 04    	add	a,(ix+4)
1506  047D  4F          	ld	c,a
1507  047E  3E 00       	ld	a,+((_state_a) / 256)
1508  0480  CE 00       	adc	a,0x00
1509  0482  47          	ld	b,a
1510  0483  0A          	ld	a,(bc)
1511  0484  CB C7       	set	0, a
1512  0486  02          	ld	(bc),a
1513  0487  01 00 00    	ld	bc,_spr_timer+0
1514  048A  DD 6E 04    	ld	l,(ix+4)
1515  048D  26 00       	ld	h,0x00
1516  048F  29          	add	hl, hl
1517  0490  09          	add	hl,bc
1518  0491  ED 5B 00 00 	ld	de,(_curr_time)
1519  0495  73          	ld	(hl),e
1520  0496  23          	inc	hl
1521  0497  72          	ld	(hl),d
1522  0498  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1523  049A  DD 86 04    	add	a,(ix+4)
1524  049D  4F          	ld	c,a
1525  049E  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1526  04A0  CE 00       	adc	a,0x00
1527  04A2  47          	ld	b,a
1528  04A3  3E 08       	ld	a,0x08
1529  04A5  02          	ld	(bc),a
1530  04A6  DD E1       	pop	ix
1531  04A8  C9          	ret
1532  04A9              ;	---------------------------------
1533  04A9              ; Function player_lost_life
1534  04A9              ; ---------------------------------
1535  04A9              _player_lost_life:
1536  04A9  CD 00 00    	call	_sound_hit_enemy
1537  04AC  01 00 00    	ld	bc,_game_lives+0
1538  04AF  79          	ld	a,c
1539  04B0  21 00 00    	ld	hl,_index_player
1540  04B3  86          	add	a, (hl)
1541  04B4  5F          	ld	e,a
1542  04B5  78          	ld	a,b
1543  04B6  CE 00       	adc	a,0x00
1544  04B8  57          	ld	d,a
1545  04B9  1A          	ld	a,(de)
1546  04BA  C6 FF       	add	a,0xff
1547  04BC  12          	ld	(de),a
1548  04BD  79          	ld	a,c
1549  04BE  86          	add	a, (hl)
1550  04BF  5F          	ld	e,a
1551  04C0  78          	ld	a,b
1552  04C1  CE 00       	adc	a,0x00
1553  04C3  57          	ld	d,a
1554  04C4  1A          	ld	a,(de)
1555  04C5  B7          	or	a, a
1556  04C6  20 13       	jr	NZ,l_player_lost_life_00105
1557  04C8  0A          	ld	a,(bc)
1558  04C9  B7          	or	a, a
1559  04CA  20 0B       	jr	NZ,l_player_lost_life_00102
1560  04CC  3A 01 00    	ld	a, (_game_lives + 1)
1561  04CF  B7          	or	a, a
1562  04D0  20 05       	jr	NZ,l_player_lost_life_00102
1563  04D2  21 00 00    	ld	hl,_game_over
1564  04D5  36 01       	ld	(hl),0x01
1565  04D7              l_player_lost_life_00102:
1566  04D7  2E 00       	ld	l,0x00
1567  04D9  18 08       	jr	l_player_lost_life_00106
1568  04DB              l_player_lost_life_00105:
1569  04DB  CD 00 00    	call	_spr_check_over
1570  04DE  CD 00 00    	call	_game_print_lives
1571  04E1  2E 01       	ld	l,0x01
1572  04E3              l_player_lost_life_00106:
1573  04E3  C9          	ret
1574  04E4              ;	---------------------------------
1575  04E4              ; Function player_turn
1576  04E4              ; ---------------------------------
1577  04E4              _player_turn:
1578  04E4  3A 00 00    	ld	a,(_sprite)
1579  04E7  C6 00       	add	a,+((_class) & 0xFF)
1580  04E9  4F          	ld	c,a
1581  04EA  3E 00       	ld	a,+((_class) / 256)
1582  04EC  CE 00       	adc	a,0x00
1583  04EE  47          	ld	b,a
1584  04EF  0A          	ld	a,(bc)
1585  04F0  D6 10       	sub	a,0x10
1586  04F2  20 53       	jr	NZ,l_player_turn_00110
1587  04F4  3A 00 00    	ld	a,(_phase_left)
1588  04F7  B7          	or	a, a
1589  04F8  28 4D       	jr	Z,l_player_turn_00110
1590  04FA  3A 00 00    	ld	a,(_index_player)
1591  04FD  C6 00       	add	a,+((_game_lives) & 0xFF)
1592  04FF  4F          	ld	c,a
1593  0500  3E 00       	ld	a,+((_game_lives) / 256)
1594  0502  CE 00       	adc	a,0x00
1595  0504  47          	ld	b,a
1596  0505  0A          	ld	a,(bc)
1597  0506  B7          	or	a, a
1598  0507  28 3E       	jr	Z,l_player_turn_00110
1599  0509  21 00 00    	ld	hl,_sprite
1600  050C  E5          	push	hl
1601  050D  CD 00 00    	call	_spr_chktime
1602  0510  F1          	pop	af
1603  0511  7D          	ld	a,l
1604  0512  B7          	or	a, a
1605  0513  28 32       	jr	Z,l_player_turn_00110
1606  0515  21 00 00    	ld	hl,_dirs
1607  0518  36 00       	ld	(hl),0x00
1608  051A  3A 00 00    	ld	a,(_sprite)
1609  051D  D6 07       	sub	a,0x07
1610  051F  20 11       	jr	NZ,l_player_turn_00102
1611  0521  21 00 00    	ld	hl,_k1
1612  0524  E5          	push	hl
1613  0525  2A 00 00    	ld	hl,(_joyfunc1)
1614  0528  CD 00 00    	call	___sdcc_call_hl
1615  052B  F1          	pop	af
1616  052C  7D          	ld	a,l
1617  052D  32 00 00    	ld	(_dirs),a
1618  0530  18 0F       	jr	l_player_turn_00103
1619  0532              l_player_turn_00102:
1620  0532  21 00 00    	ld	hl,_k1
1621  0535  E5          	push	hl
1622  0536  2A 00 00    	ld	hl,(_joyfunc2)
1623  0539  CD 00 00    	call	___sdcc_call_hl
1624  053C  F1          	pop	af
1625  053D  7D          	ld	a,l
1626  053E  32 00 00    	ld	(_dirs),a
1627  0541              l_player_turn_00103:
1628  0541  CD 48 05    	call	_player_move
1629  0544  CD 5B 01    	call	_player_collition
1630  0547              l_player_turn_00110:
1631  0547  C9          	ret
1632  0548              ;	---------------------------------
1633  0548              ; Function player_move
1634  0548              ; ---------------------------------
1635  0548              _player_move:
1636  0548  CD 00 00    	call	___sdcc_enter_ix
1637  054B  F5          	push	af
1638  054C  3B          	dec	sp
1639  054D  3A 00 00    	ld	a,(_sprite)
1640  0550  C6 00       	add	a,+((_lin) & 0xFF)
1641  0552  4F          	ld	c,a
1642  0553  3E 00       	ld	a,+((_lin) / 256)
1643  0555  CE 00       	adc	a,0x00
1644  0557  47          	ld	b,a
1645  0558  0A          	ld	a,(bc)
1646  0559  DD 77 FF    	ld	(ix-1),a
1647  055C  32 00 00    	ld	(_s_lin0),a
1648  055F  3A 00 00    	ld	a,(_sprite)
1649  0562  C6 00       	add	a,+((_col) & 0xFF)
1650  0564  4F          	ld	c,a
1651  0565  3E 00       	ld	a,+((_col) / 256)
1652  0567  CE 00       	adc	a,0x00
1653  0569  47          	ld	b,a
1654  056A  0A          	ld	a,(bc)
1655  056B  32 00 00    	ld	(_s_col0),a
1656  056E  3E 00       	ld	a,+((_tile) & 0xFF)
1657  0570  21 00 00    	ld	hl,_sprite
1658  0573  86          	add	a, (hl)
1659  0574  DD 77 FD    	ld	(ix-3),a
1660  0577  3E 00       	ld	a,+((_tile) / 256)
1661  0579  CE 00       	adc	a,0x00
1662  057B  DD 77 FE    	ld	(ix-2),a
1663  057E  E1          	pop	hl
1664  057F  4E          	ld	c,(hl)
1665  0580  E5          	push	hl
1666  0581  2A 00 00    	ld	hl,(_sprite)
1667  0584  26 00       	ld	h,0x00
1668  0586  11 00 00    	ld	de,_colint
1669  0589  19          	add	hl,de
1670  058A  7E          	ld	a,(hl)
1671  058B  81          	add	a,c
1672  058C  32 00 00    	ld	(_s_tile0),a
1673  058F  3A 00 00    	ld	a,(_sprite)
1674  0592  C6 00       	add	a,+((_state) & 0xFF)
1675  0594  4F          	ld	c,a
1676  0595  3E 00       	ld	a,+((_state) / 256)
1677  0597  CE 00       	adc	a,0x00
1678  0599  47          	ld	b,a
1679  059A  0A          	ld	a,(bc)
1680  059B  32 00 00    	ld	(_s_state),a
1681  059E  E6 20       	and	a,0x20
1682  05A0  28 31       	jr	Z,l_player_move_00104
1683  05A2  3A 00 00    	ld	a,(_tile_offset)
1684  05A5  C6 0A       	add	a,0x0a
1685  05A7  E1          	pop	hl
1686  05A8  E5          	push	hl
1687  05A9  77          	ld	(hl),a
1688  05AA  01 00 00    	ld	bc,_spr_timer+0
1689  05AD  2A 00 00    	ld	hl,(_sprite)
1690  05B0  26 00       	ld	h,0x00
1691  05B2  29          	add	hl, hl
1692  05B3  09          	add	hl,bc
1693  05B4  4E          	ld	c,(hl)
1694  05B5  23          	inc	hl
1695  05B6  46          	ld	b,(hl)
1696  05B7  21 28 00    	ld	hl,0x0028
1697  05BA  E5          	push	hl
1698  05BB  C5          	push	bc
1699  05BC  CD 00 00    	call	_game_check_time
1700  05BF  F1          	pop	af
1701  05C0  F1          	pop	af
1702  05C1  7D          	ld	a,l
1703  05C2  B7          	or	a, a
1704  05C3  28 09       	jr	Z,l_player_move_00102
1705  05C5  3A 00 00    	ld	a,(_sprite)
1706  05C8  F5          	push	af
1707  05C9  33          	inc	sp
1708  05CA  CD 00 00    	call	_spr_killed
1709  05CD  33          	inc	sp
1710  05CE              l_player_move_00102:
1711  05CE  2E 00       	ld	l,0x00
1712  05D0  C3 8B 0A    	jp	l_player_move_00177
1713  05D3              l_player_move_00104:
1714  05D3  3A 00 00    	ld	a,(_s_state)
1715  05D6  E6 10       	and	a,0x10
1716  05D8  CA 10 07    	jp	Z,l_player_move_00117
1717  05DB  DD 7E FF    	ld	a,(ix-1)
1718  05DE  D6 10       	sub	a,0x10
1719  05E0  30 14       	jr	NC,l_player_move_00108
1720  05E2  3A 00 00    	ld	a,(_sprite)
1721  05E5  C6 00       	add	a,+((_state_a) & 0xFF)
1722  05E7  4F          	ld	c,a
1723  05E8  3E 00       	ld	a,+((_state_a) / 256)
1724  05EA  CE 00       	adc	a,0x00
1725  05EC  47          	ld	b,a
1726  05ED  0A          	ld	a,(bc)
1727  05EE  E6 FE       	and	a,0xfe
1728  05F0  02          	ld	(bc),a
1729  05F1  CD 00 00    	call	_spr_move_down
1730  05F4  18 4C       	jr	l_player_move_00109
1731  05F6              l_player_move_00108:
1732  05F6  CD 3D 01    	call	_player_check_input
1733  05F9  7D          	ld	a,l
1734  05FA  B7          	or	a, a
1735  05FB  28 45       	jr	Z,l_player_move_00109
1736  05FD  2A 00 00    	ld	hl,(_sprite)
1737  0600  26 00       	ld	h,0x00
1738  0602  01 00 00    	ld	bc,_state
1739  0605  09          	add	hl,bc
1740  0606  7E          	ld	a,(hl)
1741  0607  E6 EF       	and	a,0xef
1742  0609  77          	ld	(hl),a
1743  060A  2A 00 00    	ld	hl,(_sprite)
1744  060D  26 00       	ld	h,0x00
1745  060F  01 00 00    	ld	bc,_state_a
1746  0612  09          	add	hl,bc
1747  0613  7E          	ld	a,(hl)
1748  0614  E6 FE       	and	a,0xfe
1749  0616  77          	ld	(hl),a
1750  0617  76          	halt
1751  0618  3A 00 00    	ld	a,(_s_col0)
1752  061B  F5          	push	af
1753  061C  33          	inc	sp
1754  061D  21 A9 10    	ld	hl,0x10a9
1755  0620  E5          	push	hl
1756  0621  CD 00 00    	call	_NIRVANAP_drawT_callee
1757  0624  3A 00 00    	ld	a,(_s_col0)
1758  0627  F5          	push	af
1759  0628  33          	inc	sp
1760  0629  21 A9 20    	ld	hl,0x20a9
1761  062C  E5          	push	hl
1762  062D  CD 00 00    	call	_NIRVANAP_drawT_callee
1763  0630  3A 00 00    	ld	a,(_sprite)
1764  0633  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1765  0635  4F          	ld	c,a
1766  0636  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1767  0638  CE 00       	adc	a,0x00
1768  063A  47          	ld	b,a
1769  063B  AF          	xor	a, a
1770  063C  02          	ld	(bc),a
1771  063D  2E 00       	ld	l,0x00
1772  063F  C3 8B 0A    	jp	l_player_move_00177
1773  0642              l_player_move_00109:
1774  0642  CD 00 00    	call	_spr_redraw
1775  0645  ED 4B 00 00 	ld	bc,(_curr_time)
1776  0649  2A 00 00    	ld	hl,(_sprite)
1777  064C  26 00       	ld	h,0x00
1778  064E  29          	add	hl, hl
1779  064F  11 00 00    	ld	de,_spr_timer
1780  0652  19          	add	hl,de
1781  0653  5E          	ld	e,(hl)
1782  0654  23          	inc	hl
1783  0655  56          	ld	d,(hl)
1784  0656  69          	ld	l,c
1785  0657  60          	ld	h,b
1786  0658  AF          	xor	a,a
1787  0659  ED 52       	sbc	hl,de
1788  065B  22 00 00    	ld	(_tmp_ui),hl
1789  065E  21 00 00    	ld	hl,_tmp
1790  0661  36 00       	ld	(hl),0x00
1791  0663  3E 32       	ld	a,0x32
1792  0665  21 00 00    	ld	hl,_tmp_ui
1793  0668  BE          	cp	a, (hl)
1794  0669  3E 00       	ld	a,0x00
1795  066B  23          	inc	hl
1796  066C  9E          	sbc	a, (hl)
1797  066D  30 05       	jr	NC,l_player_move_00111
1798  066F  21 00 00    	ld	hl,_tmp
1799  0672  36 01       	ld	(hl),0x01
1800  0674              l_player_move_00111:
1801  0674  3E 64       	ld	a,0x64
1802  0676  21 00 00    	ld	hl,_tmp_ui
1803  0679  BE          	cp	a, (hl)
1804  067A  3E 00       	ld	a,0x00
1805  067C  23          	inc	hl
1806  067D  9E          	sbc	a, (hl)
1807  067E  30 05       	jr	NC,l_player_move_00113
1808  0680  21 00 00    	ld	hl,_tmp
1809  0683  36 02       	ld	(hl),0x02
1810  0685              l_player_move_00113:
1811  0685  76          	halt
1812  0686  3A 00 00    	ld	a,(_sprite)
1813  0689  C6 00       	add	a,+((_lin) & 0xFF)
1814  068B  4F          	ld	c,a
1815  068C  3E 00       	ld	a,+((_lin) / 256)
1816  068E  CE 00       	adc	a,0x00
1817  0690  47          	ld	b,a
1818  0691  0A          	ld	a,(bc)
1819  0692  C6 10       	add	a,0x10
1820  0694  57          	ld	d,a
1821  0695  3A 00 00    	ld	a,(_tmp)
1822  0698  C6 84       	add	a,0x84
1823  069A  47          	ld	b,a
1824  069B  3A 00 00    	ld	a,(_s_col0)
1825  069E  5A          	ld	e,d
1826  069F  57          	ld	d,a
1827  06A0  D5          	push	de
1828  06A1  C5          	push	bc
1829  06A2  33          	inc	sp
1830  06A3  CD 00 00    	call	_NIRVANAP_drawT_callee
1831  06A6  3E 96       	ld	a,0x96
1832  06A8  21 00 00    	ld	hl,_tmp_ui
1833  06AB  BE          	cp	a, (hl)
1834  06AC  3E 00       	ld	a,0x00
1835  06AE  23          	inc	hl
1836  06AF  9E          	sbc	a, (hl)
1837  06B0  30 59       	jr	NC,l_player_move_00115
1838  06B2  2A 00 00    	ld	hl,(_sprite)
1839  06B5  26 00       	ld	h,0x00
1840  06B7  01 00 00    	ld	bc,_lin
1841  06BA  09          	add	hl,bc
1842  06BB  4E          	ld	c, (hl)
1843  06BC  3A 00 00    	ld	a, (_s_col0)
1844  06BF  47          	ld	b,a
1845  06C0  C5          	push	bc
1846  06C1  3E A9       	ld	a,0xa9
1847  06C3  F5          	push	af
1848  06C4  33          	inc	sp
1849  06C5  CD 00 00    	call	_NIRVANAP_drawT_callee
1850  06C8  3A 00 00    	ld	a,(_sprite)
1851  06CB  C6 00       	add	a,+((_lin) & 0xFF)
1852  06CD  4F          	ld	c,a
1853  06CE  3E 00       	ld	a,+((_lin) / 256)
1854  06D0  CE 00       	adc	a,0x00
1855  06D2  47          	ld	b,a
1856  06D3  0A          	ld	a,(bc)
1857  06D4  C6 10       	add	a,0x10
1858  06D6  4F          	ld	c, a
1859  06D7  3A 00 00    	ld	a, (_s_col0)
1860  06DA  47          	ld	b,a
1861  06DB  C5          	push	bc
1862  06DC  3E A9       	ld	a,0xa9
1863  06DE  F5          	push	af
1864  06DF  33          	inc	sp
1865  06E0  CD 00 00    	call	_NIRVANAP_drawT_callee
1866  06E3  2A 00 00    	ld	hl,(_sprite)
1867  06E6  26 00       	ld	h,0x00
1868  06E8  01 00 00    	ld	bc,_state
1869  06EB  09          	add	hl,bc
1870  06EC  7E          	ld	a,(hl)
1871  06ED  E6 EF       	and	a,0xef
1872  06EF  77          	ld	(hl),a
1873  06F0  3E 00       	ld	a,+((_state) & 0xFF)
1874  06F2  21 00 00    	ld	hl,_sprite
1875  06F5  86          	add	a, (hl)
1876  06F6  4F          	ld	c,a
1877  06F7  3E 00       	ld	a,+((_state) / 256)
1878  06F9  CE 00       	adc	a,0x00
1879  06FB  47          	ld	b,a
1880  06FC  0A          	ld	a,(bc)
1881  06FD  CB C7       	set	0, a
1882  06FF  02          	ld	(bc),a
1883  0700  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1884  0702  86          	add	a, (hl)
1885  0703  4F          	ld	c,a
1886  0704  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1887  0706  CE 00       	adc	a,0x00
1888  0708  47          	ld	b,a
1889  0709  AF          	xor	a, a
1890  070A  02          	ld	(bc),a
1891  070B              l_player_move_00115:
1892  070B  2E 00       	ld	l,0x00
1893  070D  C3 8B 0A    	jp	l_player_move_00177
1894  0710              l_player_move_00117:
1895  0710  3A 00 00    	ld	a,(_sprite)
1896  0713  C6 00       	add	a,+((_state_a) & 0xFF)
1897  0715  4F          	ld	c,a
1898  0716  3E 00       	ld	a,+((_state_a) / 256)
1899  0718  CE 00       	adc	a,0x00
1900  071A  47          	ld	b,a
1901  071B  0A          	ld	a,(bc)
1902  071C  CB 47       	bit	0, a
1903  071E  28 1E       	jr	Z,l_player_move_00124
1904  0720  3A 00 00    	ld	a,(_dirs)
1905  0723  07          	rlca
1906  0724  38 0E       	jr	C,l_player_move_00118
1907  0726  3A 00 00    	ld	a,(_dirs)
1908  0729  E6 04       	and	a,0x04
1909  072B  20 07       	jr	NZ,l_player_move_00118
1910  072D  3A 00 00    	ld	a,(_dirs)
1911  0730  E6 08       	and	a,0x08
1912  0732  28 05       	jr	Z,l_player_move_00119
1913  0734              l_player_move_00118:
1914  0734  E6 FE       	and	a,0xfe
1915  0736  02          	ld	(bc),a
1916  0737  18 05       	jr	l_player_move_00124
1917  0739              l_player_move_00119:
1918  0739  2E 00       	ld	l,0x00
1919  073B  C3 8B 0A    	jp	l_player_move_00177
1920  073E              l_player_move_00124:
1921  073E  3A 00 00    	ld	a,(_sprite)
1922  0741  C6 00       	add	a,+((_state_a) & 0xFF)
1923  0743  4F          	ld	c,a
1924  0744  3E 00       	ld	a,+((_state_a) / 256)
1925  0746  CE 00       	adc	a,0x00
1926  0748  47          	ld	b,a
1927  0749  0A          	ld	a,(bc)
1928  074A  CB 57       	bit	2, a
1929  074C  28 58       	jr	Z,l_player_move_00128
1930  074E  01 00 00    	ld	bc,_spr_timer+0
1931  0751  2A 00 00    	ld	hl,(_sprite)
1932  0754  26 00       	ld	h,0x00
1933  0756  29          	add	hl, hl
1934  0757  09          	add	hl,bc
1935  0758  4E          	ld	c,(hl)
1936  0759  23          	inc	hl
1937  075A  46          	ld	b,(hl)
1938  075B  21 14 00    	ld	hl,0x0014
1939  075E  E5          	push	hl
1940  075F  C5          	push	bc
1941  0760  CD 00 00    	call	_game_check_time
1942  0763  F1          	pop	af
1943  0764  F1          	pop	af
1944  0765  7D          	ld	a,l
1945  0766  B7          	or	a, a
1946  0767  28 3D       	jr	Z,l_player_move_00128
1947  0769  2A 00 00    	ld	hl,(_sprite)
1948  076C  26 00       	ld	h,0x00
1949  076E  01 00 00    	ld	bc,_state_a
1950  0771  09          	add	hl,bc
1951  0772  7E          	ld	a,(hl)
1952  0773  E6 FB       	and	a,0xfb
1953  0775  77          	ld	(hl),a
1954  0776  3E 00       	ld	a,+((_colint) & 0xFF)
1955  0778  21 00 00    	ld	hl,_sprite
1956  077B  86          	add	a, (hl)
1957  077C  4F          	ld	c,a
1958  077D  3E 00       	ld	a,+((_colint) / 256)
1959  077F  CE 00       	adc	a,0x00
1960  0781  47          	ld	b,a
1961  0782  AF          	xor	a, a
1962  0783  02          	ld	(bc),a
1963  0784  3E 00       	ld	a,+((_tile) & 0xFF)
1964  0786  86          	add	a, (hl)
1965  0787  4F          	ld	c,a
1966  0788  3E 00       	ld	a,+((_tile) / 256)
1967  078A  CE 00       	adc	a,0x00
1968  078C  47          	ld	b,a
1969  078D  3A 00 00    	ld	a,(_tile_offset)
1970  0790  5F          	ld	e,a
1971  0791  16 00       	ld	d,0x00
1972  0793  13          	inc	de
1973  0794  13          	inc	de
1974  0795  13          	inc	de
1975  0796  2A 00 00    	ld	hl,(_sprite)
1976  0799  C5          	push	bc
1977  079A  26 0C       	ld	h,0x0c
1978  079C  E5          	push	hl
1979  079D  D5          	push	de
1980  079E  CD 00 00    	call	_spr_tile_dir
1981  07A1  F1          	pop	af
1982  07A2  F1          	pop	af
1983  07A3  C1          	pop	bc
1984  07A4  7D          	ld	a, l
1985  07A5  02          	ld	(bc),a
1986  07A6              l_player_move_00128:
1987  07A6  3A 00 00    	ld	a,(_sprite)
1988  07A9  C6 00       	add	a,+((_state_a) & 0xFF)
1989  07AB  4F          	ld	c,a
1990  07AC  3E 00       	ld	a,+((_state_a) / 256)
1991  07AE  CE 00       	adc	a,0x00
1992  07B0  47          	ld	b,a
1993  07B1  0A          	ld	a,(bc)
1994  07B2  CB 6F       	bit	5, a
1995  07B4  28 2E       	jr	Z,l_player_move_00132
1996  07B6  01 00 00    	ld	bc,_spr_timer+0
1997  07B9  2A 00 00    	ld	hl,(_sprite)
1998  07BC  26 00       	ld	h,0x00
1999  07BE  29          	add	hl, hl
2000  07BF  09          	add	hl,bc
2001  07C0  4E          	ld	c,(hl)
2002  07C1  23          	inc	hl
2003  07C2  7E          	ld	a,(hl)
2004  07C3  47          	ld	b,a
2005  07C4  B1          	or	a,c
2006  07C5  28 1D       	jr	Z,l_player_move_00132
2007  07C7  21 08 00    	ld	hl,0x0008
2008  07CA  E5          	push	hl
2009  07CB  C5          	push	bc
2010  07CC  CD 00 00    	call	_game_check_time
2011  07CF  F1          	pop	af
2012  07D0  F1          	pop	af
2013  07D1  7D          	ld	a,l
2014  07D2  B7          	or	a, a
2015  07D3  28 0F       	jr	Z,l_player_move_00132
2016  07D5  3A 00 00    	ld	a,(_sprite)
2017  07D8  C6 00       	add	a,+((_state_a) & 0xFF)
2018  07DA  4F          	ld	c,a
2019  07DB  3E 00       	ld	a,+((_state_a) / 256)
2020  07DD  CE 00       	adc	a,0x00
2021  07DF  47          	ld	b,a
2022  07E0  0A          	ld	a,(bc)
2023  07E1  E6 DF       	and	a,0xdf
2024  07E3  02          	ld	(bc),a
2025  07E4              l_player_move_00132:
2026  07E4  CD 90 0A    	call	_player_move_input
2027  07E7  3A 00 00    	ld	a,(_sprite)
2028  07EA  C6 00       	add	a,+((_state) & 0xFF)
2029  07EC  4F          	ld	c,a
2030  07ED  3E 00       	ld	a,+((_state) / 256)
2031  07EF  CE 00       	adc	a,0x00
2032  07F1  47          	ld	b,a
2033  07F2  0A          	ld	a,(bc)
2034  07F3  32 00 00    	ld	(_s_state),a
2035  07F6  CD 3D 01    	call	_player_check_input
2036  07F9  7D          	ld	a,l
2037  07FA  B7          	or	a, a
2038  07FB  C2 CF 08    	jp	NZ,l_player_move_00140
2039  07FE  3A 00 00    	ld	a,(_index_player)
2040  0801  C6 00       	add	a,+((_sliding) & 0xFF)
2041  0803  4F          	ld	c,a
2042  0804  3E 00       	ld	a,+((_sliding) / 256)
2043  0806  CE 00       	adc	a,0x00
2044  0808  47          	ld	b,a
2045  0809  0A          	ld	a,(bc)
2046  080A  B7          	or	a, a
2047  080B  CA CF 08    	jp	Z,l_player_move_00140
2048  080E  3A 00 00    	ld	a,(_s_state)
2049  0811  E6 02       	and	a,0x02
2050  0813  C2 CF 08    	jp	NZ,l_player_move_00140
2051  0816  CD 00 00    	call	_ay_is_playing
2052  0819  7D          	ld	a,l
2053  081A  D6 03       	sub	a,0x03
2054  081C  28 06       	jr	Z,l_player_move_00135
2055  081E  21 00 00    	ld	hl,_ay_effect_01
2056  0821  CD 00 00    	call	_ay_fx_play
2057  0824              l_player_move_00135:
2058  0824  CD 00 00    	call	_sound_slide
2059  0827  CD 3F 0C    	call	_player_move_horizontal
2060  082A  3A 00 00    	ld	a,(_index_player)
2061  082D  C6 00       	add	a,+((_sliding) & 0xFF)
2062  082F  4F          	ld	c,a
2063  0830  3E 00       	ld	a,+((_sliding) / 256)
2064  0832  CE 00       	adc	a,0x00
2065  0834  47          	ld	b,a
2066  0835  0A          	ld	a,(bc)
2067  0836  C6 FF       	add	a,0xff
2068  0838  02          	ld	(bc),a
2069  0839  3A 00 00    	ld	a,(_sprite)
2070  083C  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2071  083E  4F          	ld	c,a
2072  083F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2073  0841  CE 00       	adc	a,0x00
2074  0843  47          	ld	b,a
2075  0844  AF          	xor	a, a
2076  0845  02          	ld	(bc),a
2077  0846  3A 00 00    	ld	a,(_index_player)
2078  0849  C6 00       	add	a,+((_sliding) & 0xFF)
2079  084B  4F          	ld	c,a
2080  084C  3E 00       	ld	a,+((_sliding) / 256)
2081  084E  CE 00       	adc	a,0x00
2082  0850  47          	ld	b,a
2083  0851  0A          	ld	a,(bc)
2084  0852  B7          	or	a, a
2085  0853  20 55       	jr	NZ,l_player_move_00137
2086  0855  3E 00       	ld	a,+((_state_a) & 0xFF)
2087  0857  21 00 00    	ld	hl,_sprite
2088  085A  86          	add	a, (hl)
2089  085B  4F          	ld	c,a
2090  085C  3E 00       	ld	a,+((_state_a) / 256)
2091  085E  CE 00       	adc	a,0x00
2092  0860  47          	ld	b,a
2093  0861  0A          	ld	a,(bc)
2094  0862  CB EF       	set	5, a
2095  0864  02          	ld	(bc),a
2096  0865  6E          	ld	l, (hl)
2097  0866  26 00       	ld	h,0x00
2098  0868  29          	add	hl, hl
2099  0869  11 00 00    	ld	de,_spr_timer
2100  086C  19          	add	hl,de
2101  086D  AF          	xor	a, a
2102  086E  77          	ld	(hl), a
2103  086F  23          	inc	hl
2104  0870  77          	ld	(hl), a
2105  0871  3E 00       	ld	a,+((_colint) & 0xFF)
2106  0873  21 00 00    	ld	hl,_sprite
2107  0876  86          	add	a, (hl)
2108  0877  4F          	ld	c,a
2109  0878  3E 00       	ld	a,+((_colint) / 256)
2110  087A  CE 00       	adc	a,0x00
2111  087C  47          	ld	b,a
2112  087D  AF          	xor	a, a
2113  087E  02          	ld	(bc),a
2114  087F  3E 00       	ld	a,+((_tile) & 0xFF)
2115  0881  86          	add	a, (hl)
2116  0882  4F          	ld	c,a
2117  0883  3E 00       	ld	a,+((_tile) / 256)
2118  0885  CE 00       	adc	a,0x00
2119  0887  47          	ld	b,a
2120  0888  3A 00 00    	ld	a,(_tile_offset)
2121  088B  5F          	ld	e,a
2122  088C  16 00       	ld	d,0x00
2123  088E  13          	inc	de
2124  088F  13          	inc	de
2125  0890  13          	inc	de
2126  0891  2A 00 00    	ld	hl,(_sprite)
2127  0894  C5          	push	bc
2128  0895  26 0C       	ld	h,0x0c
2129  0897  E5          	push	hl
2130  0898  D5          	push	de
2131  0899  CD 00 00    	call	_spr_tile_dir
2132  089C  F1          	pop	af
2133  089D  F1          	pop	af
2134  089E  C1          	pop	bc
2135  089F  7D          	ld	a, l
2136  08A0  02          	ld	(bc),a
2137  08A1  21 00 00    	ld	hl,_s_state
2138  08A4  CB 96       	res	2, (hl)
2139  08A6  CB 9E       	res	3, (hl)
2140  08A8  18 25       	jr	l_player_move_00140
2141  08AA              l_player_move_00137:
2142  08AA  3A 00 00    	ld	a,(_sprite)
2143  08AD  C6 00       	add	a,+((_tile) & 0xFF)
2144  08AF  4F          	ld	c,a
2145  08B0  3E 00       	ld	a,+((_tile) / 256)
2146  08B2  CE 00       	adc	a,0x00
2147  08B4  47          	ld	b,a
2148  08B5  3A 00 00    	ld	a,(_tile_offset)
2149  08B8  5F          	ld	e,a
2150  08B9  16 00       	ld	d,0x00
2151  08BB  13          	inc	de
2152  08BC  13          	inc	de
2153  08BD  13          	inc	de
2154  08BE  13          	inc	de
2155  08BF  2A 00 00    	ld	hl,(_sprite)
2156  08C2  C5          	push	bc
2157  08C3  26 0C       	ld	h,0x0c
2158  08C5  E5          	push	hl
2159  08C6  D5          	push	de
2160  08C7  CD 00 00    	call	_spr_tile_dir
2161  08CA  F1          	pop	af
2162  08CB  F1          	pop	af
2163  08CC  C1          	pop	bc
2164  08CD  7D          	ld	a, l
2165  08CE  02          	ld	(bc),a
2166  08CF              l_player_move_00140:
2167  08CF  3A 00 00    	ld	a,(_s_state)
2168  08D2  E6 01       	and	a,0x01
2169  08D4  4F          	ld	c,a
2170  08D5  3E 00       	ld	a,+((_lin) & 0xFF)
2171  08D7  21 00 00    	ld	hl,_sprite
2172  08DA  86          	add	a, (hl)
2173  08DB  DD 77 FD    	ld	(ix-3),a
2174  08DE  3E 00       	ld	a,+((_lin) / 256)
2175  08E0  CE 00       	adc	a,0x00
2176  08E2  DD 77 FE    	ld	(ix-2),a
2177  08E5  3A 00 00    	ld	a,(_s_state)
2178  08E8  E6 02       	and	a,0x02
2179  08EA  47          	ld	b,a
2180  08EB  79          	ld	a,c
2181  08EC  B7          	or	a,a
2182  08ED  20 62       	jr	NZ,l_player_move_00172
2183  08EF  B0          	or	a,b
2184  08F0  20 5F       	jr	NZ,l_player_move_00172
2185  08F2  2A 00 00    	ld	hl,(_sprite)
2186  08F5  26 00       	ld	h,0x00
2187  08F7  01 00 00    	ld	bc,_col
2188  08FA  09          	add	hl,bc
2189  08FB  46          	ld	b,(hl)
2190  08FC  CB 40       	bit	0,b
2191  08FE  28 08       	jr	Z,l_player_move_00146
2192  0900  21 00 00    	ld	hl,0x0000
2193  0903  22 00 00    	ld	(_index_d),hl
2194  0906  18 1B       	jr	l_player_move_00147
2195  0908              l_player_move_00146:
2196  0908  E1          	pop	hl
2197  0909  7E          	ld	a,(hl)
2198  090A  E5          	push	hl
2199  090B  C6 10       	add	a,0x10
2200  090D  4F          	ld	c,a
2201  090E  C5          	push	bc
2202  090F  CD 00 00    	call	_game_calc_index
2203  0912  F1          	pop	af
2204  0913  22 00 00    	ld	(_index_d),hl
2205  0916  3A 00 00    	ld	a,(_s_lin0)
2206  0919  D6 98       	sub	a,0x98
2207  091B  20 06       	jr	NZ,l_player_move_00147
2208  091D  21 00 00    	ld	hl,0x0000
2209  0920  22 00 00    	ld	(_index_d),hl
2210  0923              l_player_move_00147:
2211  0923  21 01 00    	ld	hl,_index_d + 1
2212  0926  7E          	ld	a,(hl)
2213  0927  2B          	dec	hl
2214  0928  B6          	or	a,(hl)
2215  0929  CA 59 0A    	jp	Z,l_player_move_00173
2216  092C  3E 00       	ld	a,+((_lvl_1) & 0xFF)
2217  092E  86          	add	a, (hl)
2218  092F  4F          	ld	c,a
2219  0930  3E 00       	ld	a,+((_lvl_1) / 256)
2220  0932  23          	inc	hl
2221  0933  8E          	adc	a, (hl)
2222  0934  47          	ld	b,a
2223  0935  0A          	ld	a,(bc)
2224  0936  D6 10       	sub	a,0x10
2225  0938  D2 59 0A    	jp	NC,l_player_move_00173
2226  093B  3A 00 00    	ld	a,(_sprite)
2227  093E  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2228  0940  4F          	ld	c,a
2229  0941  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2230  0943  CE 00       	adc	a,0x00
2231  0945  47          	ld	b,a
2232  0946  3E 02       	ld	a,0x02
2233  0948  02          	ld	(bc),a
2234  0949  21 00 00    	ld	hl,_s_state
2235  094C  CB CE       	set	1, (hl)
2236  094E  C3 59 0A    	jp	l_player_move_00173
2237  0951              l_player_move_00172:
2238  0951  79          	ld	a,c
2239  0952  B7          	or	a, a
2240  0953  CA 0A 0A    	jp	Z,l_player_move_00169
2241  0956  2A 00 00    	ld	hl,(_sprite)
2242  0959  26 00       	ld	h,0x00
2243  095B  01 00 00    	ld	bc,_jump_lin
2244  095E  09          	add	hl,bc
2245  095F  4E          	ld	c,(hl)
2246  0960  E1          	pop	hl
2247  0961  06 00       	ld	b,0x00
2248  0963  5E          	ld	e,(hl)
2249  0964  E5          	push	hl
2250  0965  16 00       	ld	d,0x00
2251  0967  79          	ld	a,c
2252  0968  93          	sub	a, e
2253  0969  4F          	ld	c,a
2254  096A  78          	ld	a,b
2255  096B  9A          	sbc	a, d
2256  096C  47          	ld	b,a
2257  096D  79          	ld	a,c
2258  096E  D6 30       	sub	a,0x30
2259  0970  78          	ld	a,b
2260  0971  17          	rla
2261  0972  3F          	ccf
2262  0973  1F          	rra
2263  0974  DE 80       	sbc	a,0x80
2264  0976  30 49       	jr	NC,l_player_move_00156
2265  0978  CD 00 00    	call	_spr_move_up
2266  097B  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2267  097D  21 00 00    	ld	hl,_sprite
2268  0980  86          	add	a, (hl)
2269  0981  4F          	ld	c,a
2270  0982  3E 00       	ld	a,+((_jump_lin) / 256)
2271  0984  CE 00       	adc	a,0x00
2272  0986  47          	ld	b,a
2273  0987  0A          	ld	a,(bc)
2274  0988  4F          	ld	c,a
2275  0989  06 00       	ld	b,0x00
2276  098B  3E 00       	ld	a,+((_lin) & 0xFF)
2277  098D  86          	add	a, (hl)
2278  098E  5F          	ld	e,a
2279  098F  3E 00       	ld	a,+((_lin) / 256)
2280  0991  CE 00       	adc	a,0x00
2281  0993  57          	ld	d,a
2282  0994  1A          	ld	a,(de)
2283  0995  5F          	ld	e,a
2284  0996  16 00       	ld	d,0x00
2285  0998  79          	ld	a,c
2286  0999  93          	sub	a, e
2287  099A  4F          	ld	c,a
2288  099B  78          	ld	a,b
2289  099C  9A          	sbc	a, d
2290  099D  47          	ld	b,a
2291  099E  79          	ld	a,c
2292  099F  D6 30       	sub	a,0x30
2293  09A1  78          	ld	a,b
2294  09A2  17          	rla
2295  09A3  3F          	ccf
2296  09A4  1F          	rra
2297  09A5  DE 80       	sbc	a,0x80
2298  09A7  38 36       	jr	C,l_player_move_00157
2299  09A9  01 00 00    	ld	bc,_spr_timer+0
2300  09AC  6E          	ld	l,(hl)
2301  09AD  26 00       	ld	h,0x00
2302  09AF  29          	add	hl, hl
2303  09B0  09          	add	hl,bc
2304  09B1  4D          	ld	c, l
2305  09B2  44          	ld	b, h
2306  09B3  2A 00 00    	ld	hl,(_curr_time)
2307  09B6  11 E8 FF    	ld	de,0xffe8
2308  09B9  19          	add	hl,de
2309  09BA  7D          	ld	a,l
2310  09BB  02          	ld	(bc),a
2311  09BC  03          	inc	bc
2312  09BD  7C          	ld	a,h
2313  09BE  02          	ld	(bc),a
2314  09BF  18 1E       	jr	l_player_move_00157
2315  09C1              l_player_move_00156:
2316  09C1  01 00 00    	ld	bc,_spr_timer+0
2317  09C4  2A 00 00    	ld	hl,(_sprite)
2318  09C7  26 00       	ld	h,0x00
2319  09C9  29          	add	hl, hl
2320  09CA  09          	add	hl,bc
2321  09CB  4E          	ld	c,(hl)
2322  09CC  23          	inc	hl
2323  09CD  46          	ld	b,(hl)
2324  09CE  21 04 00    	ld	hl,0x0004
2325  09D1  E5          	push	hl
2326  09D2  C5          	push	bc
2327  09D3  CD 00 00    	call	_game_check_time
2328  09D6  F1          	pop	af
2329  09D7  F1          	pop	af
2330  09D8  7D          	ld	a,l
2331  09D9  B7          	or	a, a
2332  09DA  28 03       	jr	Z,l_player_move_00157
2333  09DC  CD 00 00    	call	_spr_set_fall
2334  09DF              l_player_move_00157:
2335  09DF  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2336  09E1  21 00 00    	ld	hl,_sprite
2337  09E4  86          	add	a, (hl)
2338  09E5  4F          	ld	c,a
2339  09E6  3E 00       	ld	a,+((_jump_lin) / 256)
2340  09E8  CE 00       	adc	a,0x00
2341  09EA  47          	ld	b,a
2342  09EB  0A          	ld	a,(bc)
2343  09EC  4F          	ld	c,a
2344  09ED  5E          	ld	e,(hl)
2345  09EE  16 00       	ld	d,0x00
2346  09F0  21 00 00    	ld	hl,_lin
2347  09F3  19          	add	hl,de
2348  09F4  46          	ld	b, (hl)
2349  09F5  79          	ld	a,c
2350  09F6  90          	sub	a, b
2351  09F7  21 00 00    	ld	hl,_tmp
2352  09FA  77          	ld	(hl),a
2353  09FB  3E 20       	ld	a,0x20
2354  09FD  96          	sub	a, (hl)
2355  09FE  38 05       	jr	C,l_player_move_00158
2356  0A00  7E          	ld	a,(hl)
2357  0A01  E6 07       	and	a,0x07
2358  0A03  28 54       	jr	Z,l_player_move_00173
2359  0A05              l_player_move_00158:
2360  0A05  CD 3F 0C    	call	_player_move_horizontal
2361  0A08  18 4F       	jr	l_player_move_00173
2362  0A0A              l_player_move_00169:
2363  0A0A  78          	ld	a,b
2364  0A0B  B7          	or	a, a
2365  0A0C  28 4B       	jr	Z,l_player_move_00173
2366  0A0E  CD 00 00    	call	_spr_move_down
2367  0A11  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2368  0A13  21 00 00    	ld	hl,_sprite
2369  0A16  86          	add	a, (hl)
2370  0A17  4F          	ld	c,a
2371  0A18  3E 00       	ld	a,+((_jump_lin) / 256)
2372  0A1A  CE 00       	adc	a,0x00
2373  0A1C  47          	ld	b,a
2374  0A1D  0A          	ld	a,(bc)
2375  0A1E  4F          	ld	c,a
2376  0A1F  5E          	ld	e,(hl)
2377  0A20  16 00       	ld	d,0x00
2378  0A22  21 00 00    	ld	hl,_lin
2379  0A25  19          	add	hl,de
2380  0A26  46          	ld	b, (hl)
2381  0A27  79          	ld	a,c
2382  0A28  90          	sub	a, b
2383  0A29  21 00 00    	ld	hl,_tmp
2384  0A2C  77          	ld	(hl),a
2385  0A2D  3E 20       	ld	a,0x20
2386  0A2F  96          	sub	a, (hl)
2387  0A30  38 05       	jr	C,l_player_move_00161
2388  0A32  7E          	ld	a,(hl)
2389  0A33  E6 07       	and	a,0x07
2390  0A35  28 03       	jr	Z,l_player_move_00162
2391  0A37              l_player_move_00161:
2392  0A37  CD 3F 0C    	call	_player_move_horizontal
2393  0A3A              l_player_move_00162:
2394  0A3A  CD F4 00    	call	_player_calc_slide
2395  0A3D  21 00 00    	ld	hl,_s_state
2396  0A40  7E          	ld	a,(hl)
2397  0A41  E6 08       	and	a,0x08
2398  0A43  4F          	ld	c,a
2399  0A44  7E          	ld	a,(hl)
2400  0A45  E6 04       	and	a,0x04
2401  0A47  47          	ld	b,a
2402  0A48  79          	ld	a,c
2403  0A49  90          	sub	a, b
2404  0A4A  20 0D       	jr	NZ,l_player_move_00173
2405  0A4C  3A 00 00    	ld	a,(_index_player)
2406  0A4F  C6 00       	add	a,+((_sliding) & 0xFF)
2407  0A51  4F          	ld	c,a
2408  0A52  3E 00       	ld	a,+((_sliding) / 256)
2409  0A54  CE 00       	adc	a,0x00
2410  0A56  47          	ld	b,a
2411  0A57  AF          	xor	a, a
2412  0A58  02          	ld	(bc),a
2413  0A59              l_player_move_00173:
2414  0A59  2A 00 00    	ld	hl,(_sprite)
2415  0A5C  26 00       	ld	h,0x00
2416  0A5E  29          	add	hl, hl
2417  0A5F  11 00 00    	ld	de,_spr_timer
2418  0A62  19          	add	hl,de
2419  0A63  4E          	ld	c,(hl)
2420  0A64  23          	inc	hl
2421  0A65  46          	ld	b,(hl)
2422  0A66  21 04 00    	ld	hl,0x0004
2423  0A69  E5          	push	hl
2424  0A6A  C5          	push	bc
2425  0A6B  CD 00 00    	call	_game_check_time
2426  0A6E  F1          	pop	af
2427  0A6F  F1          	pop	af
2428  0A70  7D          	ld	a,l
2429  0A71  B7          	or	a, a
2430  0A72  28 03       	jr	Z,l_player_move_00176
2431  0A74  CD 5D 0F    	call	_player_hit_brick_clear
2432  0A77              l_player_move_00176:
2433  0A77  CD 00 00    	call	_spr_redraw
2434  0A7A  3A 00 00    	ld	a,(_sprite)
2435  0A7D  C6 00       	add	a,+((_state) & 0xFF)
2436  0A7F  4F          	ld	c,a
2437  0A80  3E 00       	ld	a,+((_state) / 256)
2438  0A82  CE 00       	adc	a,0x00
2439  0A84  47          	ld	b,a
2440  0A85  3A 00 00    	ld	a,(_s_state)
2441  0A88  02          	ld	(bc),a
2442  0A89  2E 00       	ld	l,0x00
2443  0A8B              l_player_move_00177:
2444  0A8B  DD F9       	ld	sp, ix
2445  0A8D  DD E1       	pop	ix
2446  0A8F  C9          	ret
2447  0A90              ;	---------------------------------
2448  0A90              ; Function player_move_input
2449  0A90              ; ---------------------------------
2450  0A90              _player_move_input:
2451  0A90  CD 3D 01    	call	_player_check_input
2452  0A93  7D          	ld	a,l
2453  0A94  B7          	or	a, a
2454  0A95  CA 3C 0C    	jp	Z,l_player_move_input_00123
2455  0A98  3A 00 00    	ld	a,(_s_state)
2456  0A9B  0F          	rrca
2457  0A9C  DA 38 0C    	jp	C,l_player_move_input_00120
2458  0A9F  3A 00 00    	ld	a,(_s_state)
2459  0AA2  E6 02       	and	a,0x02
2460  0AA4  C2 38 0C    	jp	NZ,l_player_move_input_00120
2461  0AA7  CD F4 00    	call	_player_calc_slide
2462  0AAA  3A 00 00    	ld	a,(_sprite)
2463  0AAD  C6 00       	add	a,+((_state_a) & 0xFF)
2464  0AAF  4F          	ld	c,a
2465  0AB0  3E 00       	ld	a,+((_state_a) / 256)
2466  0AB2  CE 00       	adc	a,0x00
2467  0AB4  47          	ld	b,a
2468  0AB5  0A          	ld	a,(bc)
2469  0AB6  CB 6F       	bit	5, a
2470  0AB8  28 1B       	jr	Z,l_player_move_input_00102
2471  0ABA  01 00 00    	ld	bc,_spr_timer+0
2472  0ABD  2A 00 00    	ld	hl,(_sprite)
2473  0AC0  26 00       	ld	h,0x00
2474  0AC2  29          	add	hl, hl
2475  0AC3  09          	add	hl,bc
2476  0AC4  4D          	ld	c,l
2477  0AC5  44          	ld	b,h
2478  0AC6  5E          	ld	e,(hl)
2479  0AC7  23          	inc	hl
2480  0AC8  7E          	ld	a, (hl)
2481  0AC9  B3          	or	a,e
2482  0ACA  20 09       	jr	NZ,l_player_move_input_00102
2483  0ACC  ED 5B 00 00 	ld	de,(_curr_time)
2484  0AD0  7B          	ld	a,e
2485  0AD1  02          	ld	(bc),a
2486  0AD2  03          	inc	bc
2487  0AD3  7A          	ld	a,d
2488  0AD4  02          	ld	(bc),a
2489  0AD5              l_player_move_input_00102:
2490  0AD5  3A 00 00    	ld	a,(_dirs)
2491  0AD8  E6 08       	and	a,0x08
2492  0ADA  28 24       	jr	Z,l_player_move_input_00105
2493  0ADC  21 00 00    	ld	hl,_s_state
2494  0ADF  CB D6       	set	2, (hl)
2495  0AE1  CB 9E       	res	3, (hl)
2496  0AE3  3E 00       	ld	a,+((_state_a) & 0xFF)
2497  0AE5  21 00 00    	ld	hl,_sprite
2498  0AE8  86          	add	a, (hl)
2499  0AE9  4F          	ld	c,a
2500  0AEA  3E 00       	ld	a,+((_state_a) / 256)
2501  0AEC  CE 00       	adc	a,0x00
2502  0AEE  47          	ld	b,a
2503  0AEF  0A          	ld	a,(bc)
2504  0AF0  CB E7       	set	4, a
2505  0AF2  02          	ld	(bc),a
2506  0AF3  3E 00       	ld	a,+((_state_a) & 0xFF)
2507  0AF5  86          	add	a, (hl)
2508  0AF6  4F          	ld	c,a
2509  0AF7  3E 00       	ld	a,+((_state_a) / 256)
2510  0AF9  CE 00       	adc	a,0x00
2511  0AFB  47          	ld	b,a
2512  0AFC  0A          	ld	a,(bc)
2513  0AFD  E6 F7       	and	a,0xf7
2514  0AFF  02          	ld	(bc),a
2515  0B00              l_player_move_input_00105:
2516  0B00  3A 00 00    	ld	a,(_dirs)
2517  0B03  E6 04       	and	a,0x04
2518  0B05  28 24       	jr	Z,l_player_move_input_00107
2519  0B07  21 00 00    	ld	hl,_s_state
2520  0B0A  CB DE       	set	3, (hl)
2521  0B0C  CB 96       	res	2, (hl)
2522  0B0E  3E 00       	ld	a,+((_state_a) & 0xFF)
2523  0B10  21 00 00    	ld	hl,_sprite
2524  0B13  86          	add	a, (hl)
2525  0B14  4F          	ld	c,a
2526  0B15  3E 00       	ld	a,+((_state_a) / 256)
2527  0B17  CE 00       	adc	a,0x00
2528  0B19  47          	ld	b,a
2529  0B1A  0A          	ld	a,(bc)
2530  0B1B  CB DF       	set	3, a
2531  0B1D  02          	ld	(bc),a
2532  0B1E  3E 00       	ld	a,+((_state_a) & 0xFF)
2533  0B20  86          	add	a, (hl)
2534  0B21  4F          	ld	c,a
2535  0B22  3E 00       	ld	a,+((_state_a) / 256)
2536  0B24  CE 00       	adc	a,0x00
2537  0B26  47          	ld	b,a
2538  0B27  0A          	ld	a,(bc)
2539  0B28  E6 EF       	and	a,0xef
2540  0B2A  02          	ld	(bc),a
2541  0B2B              l_player_move_input_00107:
2542  0B2B  3A 00 00    	ld	a,(_sprite)
2543  0B2E  C6 00       	add	a,+((_state) & 0xFF)
2544  0B30  4F          	ld	c,a
2545  0B31  3E 00       	ld	a,+((_state) / 256)
2546  0B33  CE 00       	adc	a,0x00
2547  0B35  47          	ld	b,a
2548  0B36  3A 00 00    	ld	a,(_s_state)
2549  0B39  02          	ld	(bc),a
2550  0B3A  3A 00 00    	ld	a,(_sprite)
2551  0B3D  C6 00       	add	a,+((_tile) & 0xFF)
2552  0B3F  4F          	ld	c,a
2553  0B40  3E 00       	ld	a,+((_tile) / 256)
2554  0B42  CE 00       	adc	a,0x00
2555  0B44  47          	ld	b,a
2556  0B45  3A 00 00    	ld	a,(_tile_offset)
2557  0B48  5F          	ld	e,a
2558  0B49  16 00       	ld	d,0x00
2559  0B4B  2A 00 00    	ld	hl,(_sprite)
2560  0B4E  C5          	push	bc
2561  0B4F  26 0C       	ld	h,0x0c
2562  0B51  E5          	push	hl
2563  0B52  D5          	push	de
2564  0B53  CD 00 00    	call	_spr_tile_dir
2565  0B56  F1          	pop	af
2566  0B57  F1          	pop	af
2567  0B58  C1          	pop	bc
2568  0B59  7D          	ld	a, l
2569  0B5A  02          	ld	(bc),a
2570  0B5B  3A 00 00    	ld	a,(_dirs)
2571  0B5E  07          	rlca
2572  0B5F  D2 F0 0B    	jp	NC,l_player_move_input_00111
2573  0B62  CD 00 00    	call	_ay_is_playing
2574  0B65  7D          	ld	a,l
2575  0B66  D6 03       	sub	a,0x03
2576  0B68  28 06       	jr	Z,l_player_move_input_00109
2577  0B6A  21 00 00    	ld	hl,_ay_effect_03
2578  0B6D  CD 00 00    	call	_ay_fx_play
2579  0B70              l_player_move_input_00109:
2580  0B70  CD 00 00    	call	_sound_jump
2581  0B73  3A 00 00    	ld	a,(_sprite)
2582  0B76  C6 00       	add	a,+((_colint) & 0xFF)
2583  0B78  4F          	ld	c,a
2584  0B79  3E 00       	ld	a,+((_colint) / 256)
2585  0B7B  CE 00       	adc	a,0x00
2586  0B7D  47          	ld	b,a
2587  0B7E  AF          	xor	a, a
2588  0B7F  02          	ld	(bc),a
2589  0B80  21 00 00    	ld	hl,_s_state
2590  0B83  CB C6       	set	0, (hl)
2591  0B85  CB 8E       	res	1, (hl)
2592  0B87  2A 00 00    	ld	hl,(_sprite)
2593  0B8A  26 00       	ld	h,0x00
2594  0B8C  01 00 00    	ld	bc,_state_a
2595  0B8F  09          	add	hl,bc
2596  0B90  7E          	ld	a,(hl)
2597  0B91  E6 DF       	and	a,0xdf
2598  0B93  77          	ld	(hl),a
2599  0B94  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2600  0B96  21 00 00    	ld	hl,_sprite
2601  0B99  86          	add	a, (hl)
2602  0B9A  4F          	ld	c,a
2603  0B9B  3E 00       	ld	a,+((_jump_lin) / 256)
2604  0B9D  CE 00       	adc	a,0x00
2605  0B9F  47          	ld	b,a
2606  0BA0  3E 00       	ld	a,+((_lin) & 0xFF)
2607  0BA2  86          	add	a, (hl)
2608  0BA3  5F          	ld	e,a
2609  0BA4  3E 00       	ld	a,+((_lin) / 256)
2610  0BA6  CE 00       	adc	a,0x00
2611  0BA8  57          	ld	d,a
2612  0BA9  1A          	ld	a,(de)
2613  0BAA  02          	ld	(bc),a
2614  0BAB  3E 00       	ld	a,+((_state) & 0xFF)
2615  0BAD  86          	add	a, (hl)
2616  0BAE  4F          	ld	c,a
2617  0BAF  3E 00       	ld	a,+((_state) / 256)
2618  0BB1  CE 00       	adc	a,0x00
2619  0BB3  47          	ld	b,a
2620  0BB4  3A 00 00    	ld	a,(_s_state)
2621  0BB7  02          	ld	(bc),a
2622  0BB8  3A 00 00    	ld	a,(_sprite)
2623  0BBB  C6 00       	add	a,+((_tile) & 0xFF)
2624  0BBD  4F          	ld	c,a
2625  0BBE  3E 00       	ld	a,+((_tile) / 256)
2626  0BC0  CE 00       	adc	a,0x00
2627  0BC2  47          	ld	b,a
2628  0BC3  3A 00 00    	ld	a,(_tile_offset)
2629  0BC6  5F          	ld	e,a
2630  0BC7  16 00       	ld	d,0x00
2631  0BC9  21 07 00    	ld	hl,0x0007
2632  0BCC  19          	add	hl,de
2633  0BCD  EB          	ex	de,hl
2634  0BCE  2A 00 00    	ld	hl,(_sprite)
2635  0BD1  C5          	push	bc
2636  0BD2  26 0C       	ld	h,0x0c
2637  0BD4  E5          	push	hl
2638  0BD5  D5          	push	de
2639  0BD6  CD 00 00    	call	_spr_tile_dir
2640  0BD9  F1          	pop	af
2641  0BDA  F1          	pop	af
2642  0BDB  C1          	pop	bc
2643  0BDC  7D          	ld	a, l
2644  0BDD  02          	ld	(bc),a
2645  0BDE  3A 00 00    	ld	a,(_sprite)
2646  0BE1  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2647  0BE3  4F          	ld	c,a
2648  0BE4  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2649  0BE6  CE 00       	adc	a,0x00
2650  0BE8  47          	ld	b,a
2651  0BE9  3E 01       	ld	a,0x01
2652  0BEB  02          	ld	(bc),a
2653  0BEC  2E 01       	ld	l,0x01
2654  0BEE  18 4E       	jr	l_player_move_input_00124
2655  0BF0              l_player_move_input_00111:
2656  0BF0  CD 00 00    	call	_ay_is_playing
2657  0BF3  7D          	ld	a,l
2658  0BF4  B7          	or	a, a
2659  0BF5  20 0C       	jr	NZ,l_player_move_input_00113
2660  0BF7  3A 00 00    	ld	a,(_game_bonus)
2661  0BFA  B7          	or	a, a
2662  0BFB  20 06       	jr	NZ,l_player_move_input_00113
2663  0BFD  21 00 00    	ld	hl,_ay_effect_20
2664  0C00  CD 00 00    	call	_ay_fx_play
2665  0C03              l_player_move_input_00113:
2666  0C03  3A 00 00    	ld	a,(_sprite)
2667  0C06  C6 00       	add	a,+((_state_a) & 0xFF)
2668  0C08  4F          	ld	c,a
2669  0C09  3E 00       	ld	a,+((_state_a) / 256)
2670  0C0B  CE 00       	adc	a,0x00
2671  0C0D  47          	ld	b,a
2672  0C0E  0A          	ld	a,(bc)
2673  0C0F  CB 6F       	bit	5, a
2674  0C11  28 22       	jr	Z,l_player_move_input_00118
2675  0C13  01 00 00    	ld	bc,_colint+0
2676  0C16  79          	ld	a,c
2677  0C17  21 00 00    	ld	hl,_sprite
2678  0C1A  86          	add	a, (hl)
2679  0C1B  5F          	ld	e,a
2680  0C1C  78          	ld	a,b
2681  0C1D  CE 00       	adc	a,0x00
2682  0C1F  57          	ld	d,a
2683  0C20  1A          	ld	a,(de)
2684  0C21  3C          	inc	a
2685  0C22  12          	ld	(de),a
2686  0C23  79          	ld	a,c
2687  0C24  86          	add	a, (hl)
2688  0C25  4F          	ld	c,a
2689  0C26  78          	ld	a,b
2690  0C27  CE 00       	adc	a,0x00
2691  0C29  47          	ld	b,a
2692  0C2A  0A          	ld	a,(bc)
2693  0C2B  D6 02       	sub	a,0x02
2694  0C2D  20 02       	jr	NZ,l_player_move_input_00116
2695  0C2F  AF          	xor	a, a
2696  0C30  02          	ld	(bc),a
2697  0C31              l_player_move_input_00116:
2698  0C31  2E 01       	ld	l,0x01
2699  0C33  18 09       	jr	l_player_move_input_00124
2700  0C35              l_player_move_input_00118:
2701  0C35  CD 3F 0C    	call	_player_move_horizontal
2702  0C38              l_player_move_input_00120:
2703  0C38  2E 01       	ld	l,0x01
2704  0C3A  18 02       	jr	l_player_move_input_00124
2705  0C3C              l_player_move_input_00123:
2706  0C3C  2E 00       	ld	l,0x00
2707  0C3E              l_player_move_input_00124:
2708  0C3E  C9          	ret
2709  0C3F              ;	---------------------------------
2710  0C3F              ; Function player_move_horizontal
2711  0C3F              ; ---------------------------------
2712  0C3F              _player_move_horizontal:
2713  0C3F  CD 4F 0C    	call	_player_push_check
2714  0C42  7D          	ld	a,l
2715  0C43  B7          	or	a, a
2716  0C44  28 05       	jr	Z,l_player_move_horizontal_00102
2717  0C46  CD C1 0C    	call	_player_push
2718  0C49  18 03       	jr	l_player_move_horizontal_00104
2719  0C4B              l_player_move_horizontal_00102:
2720  0C4B  CD 00 00    	call	_spr_move_horizontal
2721  0C4E              l_player_move_horizontal_00104:
2722  0C4E  C9          	ret
2723  0C4F              ;	---------------------------------
2724  0C4F              ; Function player_push_check
2725  0C4F              ; ---------------------------------
2726  0C4F              _player_push_check:
2727  0C4F  2A 00 00    	ld	hl,(_sprite_other_player)
2728  0C52  26 00       	ld	h,0x00
2729  0C54  01 00 00    	ld	bc,_lin
2730  0C57  09          	add	hl,bc
2731  0C58  7E          	ld	a,(hl)
2732  0C59  4F          	ld	c,a
2733  0C5A  B7          	or	a,a
2734  0C5B  20 03       	jr	NZ,l_player_push_check_00102
2735  0C5D  6F          	ld	l,a
2736  0C5E  18 60       	jr	l_player_push_check_00111
2737  0C60              l_player_push_check_00102:
2738  0C60  2A 00 00    	ld	hl,(_sprite)
2739  0C63  26 00       	ld	h,0x00
2740  0C65  11 00 00    	ld	de,_lin
2741  0C68  19          	add	hl,de
2742  0C69  7E          	ld	a,(hl)
2743  0C6A  EB          	ex	de,hl
2744  0C6B  47          	ld	b,a
2745  0C6C  79          	ld	a,c
2746  0C6D  90          	sub	a, b
2747  0C6E  28 04       	jr	Z,l_player_push_check_00104
2748  0C70  2E 00       	ld	l,0x00
2749  0C72  18 4C       	jr	l_player_push_check_00111
2750  0C74              l_player_push_check_00104:
2751  0C74  01 00 00    	ld	bc,_col+0
2752  0C77  2A 00 00    	ld	hl,(_sprite)
2753  0C7A  26 00       	ld	h,0x00
2754  0C7C  09          	add	hl,bc
2755  0C7D  6E          	ld	l, (hl)
2756  0C7E  EB          	ex	de,hl
2757  0C7F  2A 00 00    	ld	hl,(_sprite_other_player)
2758  0C82  26 00       	ld	h,0x00
2759  0C84  09          	add	hl,bc
2760  0C85  4E          	ld	c, (hl)
2761  0C86  7B          	ld	a,e
2762  0C87  91          	sub	a, c
2763  0C88  32 00 00    	ld	(_tmp_sc),a
2764  0C8B  D6 FE       	sub	a,0xfe
2765  0C8D  20 14       	jr	NZ,l_player_push_check_00106
2766  0C8F  3A 00 00    	ld	a,(_sprite)
2767  0C92  C6 00       	add	a,+((_state) & 0xFF)
2768  0C94  4F          	ld	c,a
2769  0C95  3E 00       	ld	a,+((_state) / 256)
2770  0C97  CE 00       	adc	a,0x00
2771  0C99  47          	ld	b,a
2772  0C9A  0A          	ld	a,(bc)
2773  0C9B  CB 57       	bit	2, a
2774  0C9D  28 04       	jr	Z,l_player_push_check_00106
2775  0C9F  2E 01       	ld	l,0x01
2776  0CA1  18 1D       	jr	l_player_push_check_00111
2777  0CA3              l_player_push_check_00106:
2778  0CA3  3A 00 00    	ld	a,(_tmp_sc)
2779  0CA6  D6 02       	sub	a,0x02
2780  0CA8  20 14       	jr	NZ,l_player_push_check_00109
2781  0CAA  3A 00 00    	ld	a,(_sprite)
2782  0CAD  C6 00       	add	a,+((_state) & 0xFF)
2783  0CAF  4F          	ld	c,a
2784  0CB0  3E 00       	ld	a,+((_state) / 256)
2785  0CB2  CE 00       	adc	a,0x00
2786  0CB4  47          	ld	b,a
2787  0CB5  0A          	ld	a,(bc)
2788  0CB6  CB 5F       	bit	3, a
2789  0CB8  28 04       	jr	Z,l_player_push_check_00109
2790  0CBA  2E 01       	ld	l,0x01
2791  0CBC  18 02       	jr	l_player_push_check_00111
2792  0CBE              l_player_push_check_00109:
2793  0CBE  2E 00       	ld	l,0x00
2794  0CC0              l_player_push_check_00111:
2795  0CC0  C9          	ret
2796  0CC1              ;	---------------------------------
2797  0CC1              ; Function player_push
2798  0CC1              ; ---------------------------------
2799  0CC1              _player_push:
2800  0CC1  3A 00 00    	ld	a,(_sprite)
2801  0CC4  32 00 00    	ld	(_tmp),a
2802  0CC7  3A 00 00    	ld	a,(_s_col0)
2803  0CCA  32 00 00    	ld	(_tmp0),a
2804  0CCD  3A 00 00    	ld	a,(_sprite_other_player)
2805  0CD0  C6 00       	add	a,+((_lin) & 0xFF)
2806  0CD2  4F          	ld	c,a
2807  0CD3  3E 00       	ld	a,+((_lin) / 256)
2808  0CD5  CE 00       	adc	a,0x00
2809  0CD7  47          	ld	b,a
2810  0CD8  0A          	ld	a,(bc)
2811  0CD9  32 00 00    	ld	(_s_lin0),a
2812  0CDC  3A 00 00    	ld	a,(_sprite_other_player)
2813  0CDF  C6 00       	add	a,+((_col) & 0xFF)
2814  0CE1  4F          	ld	c,a
2815  0CE2  3E 00       	ld	a,+((_col) / 256)
2816  0CE4  CE 00       	adc	a,0x00
2817  0CE6  47          	ld	b,a
2818  0CE7  0A          	ld	a,(bc)
2819  0CE8  32 00 00    	ld	(_s_col0),a
2820  0CEB  01 00 00    	ld	bc,_spr_timer+0
2821  0CEE  2A 00 00    	ld	hl,(_sprite_other_player)
2822  0CF1  26 00       	ld	h,0x00
2823  0CF3  29          	add	hl, hl
2824  0CF4  09          	add	hl,bc
2825  0CF5  ED 5B 00 00 	ld	de,(_curr_time)
2826  0CF9  73          	ld	(hl),e
2827  0CFA  23          	inc	hl
2828  0CFB  72          	ld	(hl),d
2829  0CFC  3E 00       	ld	a,+((_state_a) & 0xFF)
2830  0CFE  21 00 00    	ld	hl,_sprite_other_player
2831  0D01  86          	add	a, (hl)
2832  0D02  4F          	ld	c,a
2833  0D03  3E 00       	ld	a,+((_state_a) / 256)
2834  0D05  CE 00       	adc	a,0x00
2835  0D07  47          	ld	b,a
2836  0D08  0A          	ld	a,(bc)
2837  0D09  CB D7       	set	2, a
2838  0D0B  02          	ld	(bc),a
2839  0D0C  7E          	ld	a,(hl)
2840  0D0D  32 00 00    	ld	(_sprite),a
2841  0D10  3A 00 00    	ld	a,(_tmp)
2842  0D13  C6 00       	add	a,+((_state) & 0xFF)
2843  0D15  4F          	ld	c,a
2844  0D16  3E 00       	ld	a,+((_state) / 256)
2845  0D18  CE 00       	adc	a,0x00
2846  0D1A  47          	ld	b,a
2847  0D1B  0A          	ld	a,(bc)
2848  0D1C  CB 57       	bit	2, a
2849  0D1E  28 05       	jr	Z,l_player_push_00102
2850  0D20  CD 00 00    	call	_spr_move_right
2851  0D23  18 03       	jr	l_player_push_00103
2852  0D25              l_player_push_00102:
2853  0D25  CD 00 00    	call	_spr_move_left
2854  0D28              l_player_push_00103:
2855  0D28  CD 00 00    	call	_spr_redraw
2856  0D2B  3A 00 00    	ld	a,(_tmp)
2857  0D2E  32 00 00    	ld	(_sprite),a
2858  0D31  C6 00       	add	a,+((_lin) & 0xFF)
2859  0D33  4F          	ld	c,a
2860  0D34  3E 00       	ld	a,+((_lin) / 256)
2861  0D36  CE 00       	adc	a,0x00
2862  0D38  47          	ld	b,a
2863  0D39  0A          	ld	a,(bc)
2864  0D3A  32 00 00    	ld	(_s_lin0),a
2865  0D3D  3A 00 00    	ld	a,(_tmp0)
2866  0D40  32 00 00    	ld	(_s_col0),a
2867  0D43  C9          	ret
2868  0D44              ;	---------------------------------
2869  0D44              ; Function player_hit_slipice
2870  0D44              ; ---------------------------------
2871  0D44              _player_hit_slipice:
2872  0D44  CD 00 00    	call	___sdcc_enter_ix
2873  0D47  21 32 00    	ld	hl,0x0032
2874  0D4A  E5          	push	hl
2875  0D4B  CD A8 10    	call	_player_score_add
2876  0D4E  F1          	pop	af
2877  0D4F  CD 00 00    	call	_sound_coin
2878  0D52  3E 00       	ld	a,+((_state) & 0xFF)
2879  0D54  DD 86 04    	add	a,(ix+4)
2880  0D57  4F          	ld	c,a
2881  0D58  3E 00       	ld	a,+((_state) / 256)
2882  0D5A  CE 00       	adc	a,0x00
2883  0D5C  47          	ld	b,a
2884  0D5D  0A          	ld	a,(bc)
2885  0D5E  CB EF       	set	5, a
2886  0D60  02          	ld	(bc),a
2887  0D61  01 00 00    	ld	bc,_spr_timer+0
2888  0D64  DD 6E 04    	ld	l,(ix+4)
2889  0D67  26 00       	ld	h,0x00
2890  0D69  29          	add	hl, hl
2891  0D6A  09          	add	hl,bc
2892  0D6B  ED 5B 00 00 	ld	de,(_curr_time)
2893  0D6F  73          	ld	(hl),e
2894  0D70  23          	inc	hl
2895  0D71  72          	ld	(hl),d
2896  0D72  DD E1       	pop	ix
2897  0D74  C9          	ret
2898  0D75              ;	---------------------------------
2899  0D75              ; Function player_hit_brick
2900  0D75              ; ---------------------------------
2901  0D75              _player_hit_brick:
2902  0D75  3A 00 00    	ld	a,(_index_player)
2903  0D78  C6 00       	add	a,+((_hit_lin) & 0xFF)
2904  0D7A  4F          	ld	c,a
2905  0D7B  3E 00       	ld	a,+((_hit_lin) / 256)
2906  0D7D  CE 00       	adc	a,0x00
2907  0D7F  47          	ld	b,a
2908  0D80  0A          	ld	a,(bc)
2909  0D81  B7          	or	a, a
2910  0D82  C2 5A 0F    	jp	NZ,l_player_hit_brick_00112
2911  0D85  3A 00 00    	ld	a,(_sprite)
2912  0D88  C6 00       	add	a,+((_lin) & 0xFF)
2913  0D8A  4F          	ld	c,a
2914  0D8B  3E 00       	ld	a,+((_lin) / 256)
2915  0D8D  CE 00       	adc	a,0x00
2916  0D8F  47          	ld	b,a
2917  0D90  0A          	ld	a,(bc)
2918  0D91  5F          	ld	e,a
2919  0D92  3E 10       	ld	a,0x10
2920  0D94  93          	sub	a, e
2921  0D95  D2 5A 0F    	jp	NC,l_player_hit_brick_00112
2922  0D98  11 00 00    	ld	de,_lvl_1
2923  0D9B  2A 00 00    	ld	hl,(_index1)
2924  0D9E  19          	add	hl,de
2925  0D9F  7E          	ld	a,(hl)
2926  0DA0  D6 12       	sub	a,0x12
2927  0DA2  30 0D       	jr	NC,l_player_hit_brick_00111
2928  0DA4  11 00 00    	ld	de,_lvl_1
2929  0DA7  2A 00 00    	ld	hl,(_index2)
2930  0DAA  19          	add	hl,de
2931  0DAB  7E          	ld	a,(hl)
2932  0DAC  D6 12       	sub	a,0x12
2933  0DAE  DA 5A 0F    	jp	C,l_player_hit_brick_00112
2934  0DB1              l_player_hit_brick_00111:
2935  0DB1  21 00 00    	ld	hl,_enemies
2936  0DB4  36 00       	ld	(hl),0x00
2937  0DB6              l_player_hit_brick_00116:
2938  0DB6  2A 00 00    	ld	hl,(_enemies)
2939  0DB9  26 00       	ld	h,0x00
2940  0DBB  11 00 00    	ld	de,_class
2941  0DBE  19          	add	hl,de
2942  0DBF  7E          	ld	a,(hl)
2943  0DC0  B7          	or	a,a
2944  0DC1  28 5F       	jr	Z,l_player_hit_brick_00117
2945  0DC3  0A          	ld	a,(bc)
2946  0DC4  4F          	ld	c,a
2947  0DC5  06 00       	ld	b,0x00
2948  0DC7  2A 00 00    	ld	hl,(_enemies)
2949  0DCA  60          	ld	h,b
2950  0DCB  11 00 00    	ld	de,_lin
2951  0DCE  19          	add	hl,de
2952  0DCF  5E          	ld	e, (hl)
2953  0DD0  16 00       	ld	d,0x00
2954  0DD2  79          	ld	a,c
2955  0DD3  93          	sub	a,e
2956  0DD4  4F          	ld	c,a
2957  0DD5  78          	ld	a,b
2958  0DD6  9A          	sbc	a,d
2959  0DD7  47          	ld	b,a
2960  0DD8  79          	ld	a,c
2961  0DD9  D6 18       	sub	a,0x18
2962  0DDB  20 45       	jr	NZ,l_player_hit_brick_00117
2963  0DDD  B0          	or	a,b
2964  0DDE  20 42       	jr	NZ,l_player_hit_brick_00117
2965  0DE0  3A 00 00    	ld	a,(_enemies)
2966  0DE3  4F          	ld	c,a
2967  0DE4  06 00       	ld	b,0x00
2968  0DE6  21 00 00    	ld	hl,_state
2969  0DE9  09          	add	hl,bc
2970  0DEA  CB 6E       	bit	5,(hl)
2971  0DEC  20 34       	jr	NZ,l_player_hit_brick_00117
2972  0DEE  2A 00 00    	ld	hl,(_sprite)
2973  0DF1  26 00       	ld	h,0x00
2974  0DF3  01 00 00    	ld	bc,_col
2975  0DF6  09          	add	hl,bc
2976  0DF7  4E          	ld	c,(hl)
2977  0DF8  06 00       	ld	b,0x00
2978  0DFA  2A 00 00    	ld	hl,(_enemies)
2979  0DFD  60          	ld	h,b
2980  0DFE  11 00 00    	ld	de,_col
2981  0E01  19          	add	hl,de
2982  0E02  5E          	ld	e, (hl)
2983  0E03  16 00       	ld	d,0x00
2984  0E05  79          	ld	a,c
2985  0E06  93          	sub	a, e
2986  0E07  6F          	ld	l,a
2987  0E08  78          	ld	a,b
2988  0E09  9A          	sbc	a, d
2989  0E0A  67          	ld	h,a
2990  0E0B  CD 00 00    	call	_abs_fastcall
2991  0E0E  3E 02       	ld	a,0x02
2992  0E10  BD          	cp	a,l
2993  0E11  3E 00       	ld	a,0x00
2994  0E13  9C          	sbc	a,h
2995  0E14  E2 19 0E    	jp	PO, l_player_hit_brick_00172
2996  0E17  EE 80       	xor	a,0x80
2997  0E19              l_player_hit_brick_00172:
2998  0E19  FA 22 0E    	jp	M,l_player_hit_brick_00117
2999  0E1C  CD 00 00    	call	_enemy_hit
3000  0E1F  CD 00 00    	call	_sound_hit_enemy
3001  0E22              l_player_hit_brick_00117:
3002  0E22  21 00 00    	ld	hl,_enemies
3003  0E25  34          	inc	(hl)
3004  0E26  3A 00 00    	ld	a,(_sprite)
3005  0E29  C6 00       	add	a,+((_lin) & 0xFF)
3006  0E2B  4F          	ld	c,a
3007  0E2C  3E 00       	ld	a,+((_lin) / 256)
3008  0E2E  CE 00       	adc	a,0x00
3009  0E30  47          	ld	b,a
3010  0E31  3A 00 00    	ld	a,(_enemies)
3011  0E34  D6 06       	sub	a,0x06
3012  0E36  DA B6 0D    	jp	C,l_player_hit_brick_00116
3013  0E39  2A 00 00    	ld	hl,(_sprite_other_player)
3014  0E3C  26 00       	ld	h,0x00
3015  0E3E  11 00 00    	ld	de,_lin
3016  0E41  19          	add	hl,de
3017  0E42  7E          	ld	a,(hl)
3018  0E43  5F          	ld	e,a
3019  0E44  B7          	or	a, a
3020  0E45  CA 0E 0F    	jp	Z,l_player_hit_brick_00108
3021  0E48  0A          	ld	a,(bc)
3022  0E49  6F          	ld	l,a
3023  0E4A  AF          	xor	a,a
3024  0E4B  67          	ld	h,a
3025  0E4C  57          	ld	d,a
3026  0E4D  ED 52       	sbc	hl,de
3027  0E4F  7D          	ld	a,l
3028  0E50  D6 18       	sub	a,0x18
3029  0E52  C2 0E 0F    	jp	NZ,l_player_hit_brick_00108
3030  0E55  B4          	or	a,h
3031  0E56  C2 0E 0F    	jp	NZ,l_player_hit_brick_00108
3032  0E59  2A 00 00    	ld	hl,(_sprite)
3033  0E5C  26 00       	ld	h,0x00
3034  0E5E  01 00 00    	ld	bc,_col
3035  0E61  09          	add	hl,bc
3036  0E62  4E          	ld	c,(hl)
3037  0E63  06 00       	ld	b,0x00
3038  0E65  2A 00 00    	ld	hl,(_sprite_other_player)
3039  0E68  60          	ld	h,b
3040  0E69  11 00 00    	ld	de,_col
3041  0E6C  19          	add	hl,de
3042  0E6D  5E          	ld	e, (hl)
3043  0E6E  16 00       	ld	d,0x00
3044  0E70  79          	ld	a,c
3045  0E71  93          	sub	a, e
3046  0E72  6F          	ld	l,a
3047  0E73  78          	ld	a,b
3048  0E74  9A          	sbc	a, d
3049  0E75  67          	ld	h,a
3050  0E76  CD 00 00    	call	_abs_fastcall
3051  0E79  3E 02       	ld	a,0x02
3052  0E7B  BD          	cp	a,l
3053  0E7C  3E 00       	ld	a,0x00
3054  0E7E  9C          	sbc	a,h
3055  0E7F  E2 84 0E    	jp	PO, l_player_hit_brick_00175
3056  0E82  EE 80       	xor	a,0x80
3057  0E84              l_player_hit_brick_00175:
3058  0E84  FA 0E 0F    	jp	M,l_player_hit_brick_00108
3059  0E87  3E 00       	ld	a,+((_col) & 0xFF)
3060  0E89  21 00 00    	ld	hl,_sprite_other_player
3061  0E8C  86          	add	a, (hl)
3062  0E8D  4F          	ld	c,a
3063  0E8E  3E 00       	ld	a,+((_col) / 256)
3064  0E90  CE 00       	adc	a,0x00
3065  0E92  47          	ld	b,a
3066  0E93  0A          	ld	a,(bc)
3067  0E94  57          	ld	d,a
3068  0E95  4E          	ld	c,(hl)
3069  0E96  06 00       	ld	b,0x00
3070  0E98  21 00 00    	ld	hl,_lin
3071  0E9B  09          	add	hl,bc
3072  0E9C  5E          	ld	e, (hl)
3073  0E9D  D5          	push	de
3074  0E9E  AF          	xor	a, a
3075  0E9F  F5          	push	af
3076  0EA0  33          	inc	sp
3077  0EA1  CD 00 00    	call	_NIRVANAP_fillT_callee
3078  0EA4  2A 00 00    	ld	hl,(_sprite_other_player)
3079  0EA7  26 00       	ld	h,0x00
3080  0EA9  01 00 00    	ld	bc,_lin
3081  0EAC  09          	add	hl,bc
3082  0EAD  7E          	ld	a,(hl)
3083  0EAE  C6 FC       	add	a,0xfc
3084  0EB0  77          	ld	(hl),a
3085  0EB1  3E 00       	ld	a,+((_col) & 0xFF)
3086  0EB3  21 00 00    	ld	hl,_sprite_other_player
3087  0EB6  86          	add	a, (hl)
3088  0EB7  4F          	ld	c,a
3089  0EB8  3E 00       	ld	a,+((_col) / 256)
3090  0EBA  CE 00       	adc	a,0x00
3091  0EBC  47          	ld	b,a
3092  0EBD  0A          	ld	a,(bc)
3093  0EBE  57          	ld	d,a
3094  0EBF  3E 00       	ld	a,+((_lin) & 0xFF)
3095  0EC1  86          	add	a, (hl)
3096  0EC2  4F          	ld	c,a
3097  0EC3  3E 00       	ld	a,+((_lin) / 256)
3098  0EC5  CE 00       	adc	a,0x00
3099  0EC7  47          	ld	b,a
3100  0EC8  0A          	ld	a,(bc)
3101  0EC9  5F          	ld	e,a
3102  0ECA  3E 00       	ld	a,+((_tile) & 0xFF)
3103  0ECC  86          	add	a, (hl)
3104  0ECD  4F          	ld	c,a
3105  0ECE  3E 00       	ld	a,+((_tile) / 256)
3106  0ED0  CE 00       	adc	a,0x00
3107  0ED2  47          	ld	b,a
3108  0ED3  0A          	ld	a,(bc)
3109  0ED4  47          	ld	b,a
3110  0ED5  4E          	ld	c,(hl)
3111  0ED6  D5          	push	de
3112  0ED7  C5          	push	bc
3113  0ED8  CD 00 00    	call	_NIRVANAP_spriteT_callee
3114  0EDB  76          	halt
3115  0EDC  2A 00 00    	ld	hl,(_sprite_other_player)
3116  0EDF  26 00       	ld	h,0x00
3117  0EE1  01 00 00    	ld	bc,_state
3118  0EE4  09          	add	hl,bc
3119  0EE5  7E          	ld	a,(hl)
3120  0EE6  E6 FD       	and	a,0xfd
3121  0EE8  77          	ld	(hl),a
3122  0EE9  3E 00       	ld	a,+((_state) & 0xFF)
3123  0EEB  21 00 00    	ld	hl,_sprite_other_player
3124  0EEE  86          	add	a, (hl)
3125  0EEF  4F          	ld	c,a
3126  0EF0  3E 00       	ld	a,+((_state) / 256)
3127  0EF2  CE 00       	adc	a,0x00
3128  0EF4  47          	ld	b,a
3129  0EF5  0A          	ld	a,(bc)
3130  0EF6  CB C7       	set	0, a
3131  0EF8  02          	ld	(bc),a
3132  0EF9  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3133  0EFB  86          	add	a, (hl)
3134  0EFC  4F          	ld	c,a
3135  0EFD  3E 00       	ld	a,+((_jump_lin) / 256)
3136  0EFF  CE 00       	adc	a,0x00
3137  0F01  47          	ld	b,a
3138  0F02  5E          	ld	e,(hl)
3139  0F03  16 00       	ld	d,0x00
3140  0F05  21 00 00    	ld	hl,_lin
3141  0F08  19          	add	hl,de
3142  0F09  7E          	ld	a,(hl)
3143  0F0A  C6 14       	add	a,0x14
3144  0F0C  02          	ld	(bc),a
3145  0F0D  76          	halt
3146  0F0E              l_player_hit_brick_00108:
3147  0F0E  01 00 00    	ld	bc,_spr_timer+0
3148  0F11  2A 00 00    	ld	hl,(_sprite)
3149  0F14  26 00       	ld	h,0x00
3150  0F16  29          	add	hl, hl
3151  0F17  09          	add	hl,bc
3152  0F18  ED 5B 00 00 	ld	de,(_curr_time)
3153  0F1C  73          	ld	(hl),e
3154  0F1D  23          	inc	hl
3155  0F1E  72          	ld	(hl),d
3156  0F1F  3A 00 00    	ld	a,(_index_player)
3157  0F22  C6 00       	add	a,+((_hit_lin) & 0xFF)
3158  0F24  4F          	ld	c,a
3159  0F25  3E 00       	ld	a,+((_hit_lin) / 256)
3160  0F27  CE 00       	adc	a,0x00
3161  0F29  47          	ld	b,a
3162  0F2A  2A 00 00    	ld	hl,(_sprite)
3163  0F2D  26 00       	ld	h,0x00
3164  0F2F  11 00 00    	ld	de,_lin
3165  0F32  19          	add	hl,de
3166  0F33  7E          	ld	a,(hl)
3167  0F34  02          	ld	(bc),a
3168  0F35  3A 00 00    	ld	a,(_index_player)
3169  0F38  C6 00       	add	a,+((_hit_col) & 0xFF)
3170  0F3A  4F          	ld	c,a
3171  0F3B  3E 00       	ld	a,+((_hit_col) / 256)
3172  0F3D  CE 00       	adc	a,0x00
3173  0F3F  47          	ld	b,a
3174  0F40  2A 00 00    	ld	hl,(_sprite)
3175  0F43  26 00       	ld	h,0x00
3176  0F45  11 00 00    	ld	de,_col
3177  0F48  19          	add	hl,de
3178  0F49  7E          	ld	a,(hl)
3179  0F4A  02          	ld	(bc),a
3180  0F4B  3E 01       	ld	a,0x01
3181  0F4D  F5          	push	af
3182  0F4E  33          	inc	sp
3183  0F4F  CD 00 00    	call	_spr_brick_anim
3184  0F52  33          	inc	sp
3185  0F53  CD 00 00    	call	_sound_hit_brick
3186  0F56  2E 01       	ld	l,0x01
3187  0F58  18 02       	jr	l_player_hit_brick_00118
3188  0F5A              l_player_hit_brick_00112:
3189  0F5A  2E 00       	ld	l,0x00
3190  0F5C              l_player_hit_brick_00118:
3191  0F5C  C9          	ret
3192  0F5D              ;	---------------------------------
3193  0F5D              ; Function player_hit_brick_clear
3194  0F5D              ; ---------------------------------
3195  0F5D              _player_hit_brick_clear:
3196  0F5D  2A 00 00    	ld	hl,(_index_player)
3197  0F60  26 00       	ld	h,0x00
3198  0F62  01 00 00    	ld	bc,_hit_lin
3199  0F65  09          	add	hl,bc
3200  0F66  7E          	ld	a,(hl)
3201  0F67  4F          	ld	c,a
3202  0F68  B7          	or	a,a
3203  0F69  C8          	ret	Z
3204  0F6A  3A 00 00    	ld	a,(_index_player)
3205  0F6D  5F          	ld	e,a
3206  0F6E  16 00       	ld	d,0x00
3207  0F70  21 00 00    	ld	hl,_hit_col
3208  0F73  19          	add	hl,de
3209  0F74  56          	ld	d, (hl)
3210  0F75  79          	ld	a,c
3211  0F76  C6 F8       	add	a,0xf8
3212  0F78  5F          	ld	e, a
3213  0F79  D5          	push	de
3214  0F7A  CD 00 00    	call	_game_calc_index
3215  0F7D  F1          	pop	af
3216  0F7E  22 00 00    	ld	(_index1),hl
3217  0F81  01 01 00    	ld	bc,0x0001
3218  0F84  09          	add	hl,bc
3219  0F85  22 00 00    	ld	(_index2),hl
3220  0F88  AF          	xor	a, a
3221  0F89  F5          	push	af
3222  0F8A  33          	inc	sp
3223  0F8B  CD 00 00    	call	_spr_brick_anim
3224  0F8E  33          	inc	sp
3225  0F8F  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3226  0F91  21 00 00    	ld	hl,_index_player
3227  0F94  86          	add	a, (hl)
3228  0F95  4F          	ld	c,a
3229  0F96  3E 00       	ld	a,+((_hit_lin) / 256)
3230  0F98  CE 00       	adc	a,0x00
3231  0F9A  47          	ld	b,a
3232  0F9B  AF          	xor	a, a
3233  0F9C  02          	ld	(bc),a
3234  0F9D  3E 00       	ld	a,+((_hit_col) & 0xFF)
3235  0F9F  86          	add	a, (hl)
3236  0FA0  4F          	ld	c,a
3237  0FA1  3E 00       	ld	a,+((_hit_col) / 256)
3238  0FA3  CE 00       	adc	a,0x00
3239  0FA5  47          	ld	b,a
3240  0FA6  AF          	xor	a, a
3241  0FA7  02          	ld	(bc),a
3242  0FA8  C3 00 00    	jp  _spr_set_fall
3243  0FAB              ;	---------------------------------
3244  0FAB              ; Function player_hit_pow
3245  0FAB              ; ---------------------------------
3246  0FAB              _player_hit_pow:
3247  0FAB  01 00 00    	ld	bc,_lvl_1
3248  0FAE  2A 00 00    	ld	hl,(_index1)
3249  0FB1  09          	add	hl,bc
3250  0FB2  7E          	ld	a,(hl)
3251  0FB3  D6 11       	sub	a,0x11
3252  0FB5  28 12       	jr	Z,l_player_hit_pow_00106
3253  0FB7  01 00 00    	ld	bc,_lvl_1
3254  0FBA  2A 00 00    	ld	hl,(_index2)
3255  0FBD  09          	add	hl,bc
3256  0FBE  7E          	ld	a,(hl)
3257  0FBF  D6 11       	sub	a,0x11
3258  0FC1  20 72       	jr	NZ,l_player_hit_pow_00112
3259  0FC3  3A 00 00    	ld	a,(_game_pow)
3260  0FC6  B7          	or	a, a
3261  0FC7  28 6C       	jr	Z,l_player_hit_pow_00112
3262  0FC9              l_player_hit_pow_00106:
3263  0FC9  21 00 00    	ld	hl,_game_pow
3264  0FCC  35          	dec	(hl)
3265  0FCD  21 02 00    	ld	hl,0x0002
3266  0FD0  CD 00 00    	call	_zx_border_fastcall
3267  0FD3  21 00 00    	ld	hl,_enemies
3268  0FD6  36 00       	ld	(hl),0x00
3269  0FD8              l_player_hit_pow_00110:
3270  0FD8  2A 00 00    	ld	hl,(_enemies)
3271  0FDB  26 00       	ld	h,0x00
3272  0FDD  5D          	ld	e,l
3273  0FDE  01 00 00    	ld	bc,_col
3274  0FE1  09          	add	hl,bc
3275  0FE2  46          	ld	b,(hl)
3276  0FE3  16 00       	ld	d,0x00
3277  0FE5  21 00 00    	ld	hl,_lin
3278  0FE8  19          	add	hl,de
3279  0FE9  7E          	ld	a,(hl)
3280  0FEA  C6 10       	add	a,0x10
3281  0FEC  4F          	ld	c,a
3282  0FED  C5          	push	bc
3283  0FEE  CD 00 00    	call	_game_calc_index
3284  0FF1  E3          	ex	(sp),hl
3285  0FF2  CD 00 00    	call	_game_check_maze
3286  0FF5  F1          	pop	af
3287  0FF6  7D          	ld	a,l
3288  0FF7  B7          	or	a, a
3289  0FF8  20 03       	jr	NZ,l_player_hit_pow_00111
3290  0FFA  CD 00 00    	call	_enemy_hit
3291  0FFD              l_player_hit_pow_00111:
3292  0FFD  21 00 00    	ld	hl,_enemies
3293  1000  7E          	ld	a,(hl)
3294  1001  3C          	inc	a
3295  1002  77          	ld	(hl),a
3296  1003  D6 06       	sub	a,0x06
3297  1005  38 D1       	jr	C,l_player_hit_pow_00110
3298  1007  21 00 00    	ld	hl,_ay_effect_06
3299  100A  CD 00 00    	call	_ay_fx_play
3300  100D  CD 00 00    	call	_sound_hit_pow
3301  1010  CD 00 00    	call	_spr_draw_pow
3302  1013  3A 00 00    	ld	a,(_game_pow)
3303  1016  B7          	or	a, a
3304  1017  20 13       	jr	NZ,l_player_hit_pow_00105
3305  1019  21 80 0F    	ld	hl,0x0f80
3306  101C  E5          	push	hl
3307  101D  AF          	xor	a, a
3308  101E  F5          	push	af
3309  101F  33          	inc	sp
3310  1020  CD 00 00    	call	_NIRVANAP_fillT_callee
3311  1023  21 00 00    	ld	hl,0x0000
3312  1026  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3313  1029  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3314  102C              l_player_hit_pow_00105:
3315  102C  21 00 00    	ld	hl,0x0000
3316  102F  CD 00 00    	call	_zx_border_fastcall
3317  1032  CD 00 00    	call	_spr_set_fall
3318  1035              l_player_hit_pow_00112:
3319  1035  C9          	ret
3320  1036              ;	---------------------------------
3321  1036              ; Function player_coin
3322  1036              ; ---------------------------------
3323  1036              _player_coin:
3324  1036  CD 00 00    	call	___sdcc_enter_ix
3325  1039  3E 00       	ld	a,+((_class) & 0xFF)
3326  103B  DD 86 04    	add	a,(ix+4)
3327  103E  4F          	ld	c,a
3328  103F  3E 00       	ld	a,+((_class) / 256)
3329  1041  CE 00       	adc	a,0x00
3330  1043  47          	ld	b,a
3331  1044  0A          	ld	a,(bc)
3332  1045  D6 07       	sub	a,0x07
3333  1047  20 08       	jr	NZ,l_player_coin_00102
3334  1049  21 00 00    	ld	hl,_ay_effect_12
3335  104C  CD 00 00    	call	_ay_fx_play
3336  104F  18 06       	jr	l_player_coin_00103
3337  1051              l_player_coin_00102:
3338  1051  21 00 00    	ld	hl,_ay_effect_10
3339  1054  CD 00 00    	call	_ay_fx_play
3340  1057              l_player_coin_00103:
3341  1057  CD 00 00    	call	_sound_coin
3342  105A  3E 00       	ld	a,+((_state) & 0xFF)
3343  105C  DD 86 04    	add	a,(ix+4)
3344  105F  4F          	ld	c,a
3345  1060  3E 00       	ld	a,+((_state) / 256)
3346  1062  CE 00       	adc	a,0x00
3347  1064  47          	ld	b,a
3348  1065  0A          	ld	a,(bc)
3349  1066  CB EF       	set	5, a
3350  1068  02          	ld	(bc),a
3351  1069  01 00 00    	ld	bc,_spr_timer+0
3352  106C  DD 6E 04    	ld	l,(ix+4)
3353  106F  26 00       	ld	h,0x00
3354  1071  29          	add	hl, hl
3355  1072  09          	add	hl,bc
3356  1073  ED 5B 00 00 	ld	de,(_curr_time)
3357  1077  73          	ld	(hl),e
3358  1078  23          	inc	hl
3359  1079  72          	ld	(hl),d
3360  107A  3A 00 00    	ld	a,(_game_bonus)
3361  107D  B7          	or	a, a
3362  107E  28 1B       	jr	Z,l_player_coin_00107
3363  1080  3A 00 00    	ld	a,(_index_player)
3364  1083  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3365  1085  4F          	ld	c,a
3366  1086  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3367  1088  CE 00       	adc	a,0x00
3368  108A  47          	ld	b,a
3369  108B  0A          	ld	a,(bc)
3370  108C  3C          	inc	a
3371  108D  02          	ld	(bc),a
3372  108E  21 00 00    	ld	hl,_phase_left
3373  1091  35          	dec (hl)
3374  1092  20 11       	jr	NZ,l_player_coin_00109
3375  1094  21 00 00    	ld	hl,_phase_end
3376  1097  36 01       	ld	(hl),0x01
3377  1099  18 0A       	jr	l_player_coin_00109
3378  109B              l_player_coin_00107:
3379  109B  DD 4E 05    	ld	c,(ix+5)
3380  109E  06 00       	ld	b,0x00
3381  10A0  C5          	push	bc
3382  10A1  CD A8 10    	call	_player_score_add
3383  10A4  F1          	pop	af
3384  10A5              l_player_coin_00109:
3385  10A5  DD E1       	pop	ix
3386  10A7  C9          	ret
3387  10A8              ;	---------------------------------
3388  10A8              ; Function player_score_add
3389  10A8              ; ---------------------------------
3390  10A8              _player_score_add:
3391  10A8  CD 00 00    	call	___sdcc_enter_ix
3392  10AB  2A 00 00    	ld	hl,(_index_player)
3393  10AE  26 00       	ld	h,0x00
3394  10B0  29          	add	hl,hl
3395  10B1  01 00 00    	ld	bc,_player_score
3396  10B4  09          	add	hl,bc
3397  10B5  7E          	ld	a,(hl)
3398  10B6  4D          	ld	c,l
3399  10B7  44          	ld	b,h
3400  10B8  23          	inc	hl
3401  10B9  56          	ld	d,(hl)
3402  10BA  DD 86 04    	add	a,(ix+4)
3403  10BD  5F          	ld	e,a
3404  10BE  7A          	ld	a,d
3405  10BF  DD 8E 05    	adc	a,(ix+5)
3406  10C2  57          	ld	d,a
3407  10C3  7B          	ld	a,e
3408  10C4  02          	ld	(bc),a
3409  10C5  03          	inc	bc
3410  10C6  7A          	ld	a,d
3411  10C7  02          	ld	(bc),a
3412  10C8  2A 00 00    	ld	hl,(_index_player)
3413  10CB  26 00       	ld	h,0x00
3414  10CD  29          	add	hl,hl
3415  10CE  4D          	ld	c,l
3416  10CF  44          	ld	b,h
3417  10D0  21 00 00    	ld	hl,_player_score
3418  10D3  09          	add	hl,bc
3419  10D4  5E          	ld	e,(hl)
3420  10D5  23          	inc	hl
3421  10D6  56          	ld	d,(hl)
3422  10D7  21 00 00    	ld	hl,_game_score_top
3423  10DA  7E          	ld	a,(hl)
3424  10DB  93          	sub	a, e
3425  10DC  23          	inc	hl
3426  10DD  7E          	ld	a,(hl)
3427  10DE  9A          	sbc	a, d
3428  10DF  30 04       	jr	NC,l_player_score_add_00102
3429  10E1  2B          	dec	hl
3430  10E2  73          	ld	(hl),e
3431  10E3  23          	inc	hl
3432  10E4  72          	ld	(hl),d
3433  10E5              l_player_score_add_00102:
3434  10E5  21 00 00    	ld	hl,_player_next_extra
3435  10E8  09          	add	hl,bc
3436  10E9  4E          	ld	c,(hl)
3437  10EA  23          	inc	hl
3438  10EB  46          	ld	b,(hl)
3439  10EC  2B          	dec	hl
3440  10ED  79          	ld	a,c
3441  10EE  93          	sub	a, e
3442  10EF  78          	ld	a,b
3443  10F0  9A          	sbc	a, d
3444  10F1  30 31       	jr	NC,l_player_score_add_00106
3445  10F3  79          	ld	a,c
3446  10F4  C6 D0       	add	a,0xd0
3447  10F6  77          	ld	(hl),a
3448  10F7  78          	ld	a,b
3449  10F8  CE 07       	adc	a,0x07
3450  10FA  23          	inc	hl
3451  10FB  77          	ld	(hl),a
3452  10FC  3A 00 00    	ld	a,(_index_player)
3453  10FF  C6 00       	add	a,+((_game_lives) & 0xFF)
3454  1101  4F          	ld	c,a
3455  1102  3E 00       	ld	a,+((_game_lives) / 256)
3456  1104  CE 00       	adc	a,0x00
3457  1106  47          	ld	b,a
3458  1107  0A          	ld	a,(bc)
3459  1108  3C          	inc	a
3460  1109  02          	ld	(bc),a
3461  110A  3A 00 00    	ld	a,(_game_bonus)
3462  110D  B7          	or	a, a
3463  110E  20 03       	jr	NZ,l_player_score_add_00104
3464  1110  CD 00 00    	call	_game_print_lives
3465  1113              l_player_score_add_00104:
3466  1113  CD 00 00    	call	_sound_coin
3467  1116  CD 00 00    	call	_sound_coin
3468  1119  CD 00 00    	call	_sound_coin
3469  111C  CD 00 00    	call	_sound_coin
3470  111F  21 00 00    	ld	hl,_hit_count
3471  1122  36 08       	ld	(hl),0x08
3472  1124              l_player_score_add_00106:
3473  1124  DD E1       	pop	ix
3474  1126  C3 00 00    	jp	_game_print_score
3475  1129              ;	---------------------------------
3476  1129              ; Function player_set1
3477  1129              ; ---------------------------------
3478  1129              _player_set1:
3479  1129  21 00 00    	ld	hl,_sprite
3480  112C  36 07       	ld	(hl),0x07
3481  112E  21 00 00    	ld	hl,_sprite_other_player
3482  1131  36 06       	ld	(hl),0x06
3483  1133  21 00 00    	ld	hl,_index_player
3484  1136  36 00       	ld	(hl),0x00
3485  1138  21 00 00    	ld	hl,_tile_offset
3486  113B  36 00       	ld	(hl),0x00
3487  113D  21 00 00    	ld	hl,_tile_offset_other_player
3488  1140  36 18       	ld	(hl),0x18
3489  1142  C9          	ret
3490  1143              ;	---------------------------------
3491  1143              ; Function player_set2
3492  1143              ; ---------------------------------
3493  1143              _player_set2:
3494  1143  21 00 00    	ld	hl,_sprite
3495  1146  36 06       	ld	(hl),0x06
3496  1148  21 00 00    	ld	hl,_sprite_other_player
3497  114B  36 07       	ld	(hl),0x07
3498  114D  21 00 00    	ld	hl,_index_player
3499  1150  36 01       	ld	(hl),0x01
3500  1152  21 00 00    	ld	hl,_tile_offset
3501  1155  36 18       	ld	(hl),0x18
3502  1157  21 00 00    	ld	hl,_tile_offset_other_player
3503  115A  36 00       	ld	(hl),0x00
3504  115C  C9          	ret
3505  115D              	SECTION IGNORE
3506  0000              
