1     0000              MODULE pietro_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9880 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _player_init
183   0000              	GLOBAL _player_calc_slide
184   0000              	GLOBAL _player_check_input
185   0000              	GLOBAL _player_collision
186   0000              	GLOBAL _player_kill
187   0000              	GLOBAL _player_restart
188   0000              	GLOBAL _player_lost_life
189   0000              	GLOBAL _player_turn
190   0000              	GLOBAL _player_move
191   0000              	GLOBAL _player_move_input
192   0000              	GLOBAL _player_move_horizontal
193   0000              	GLOBAL _player_push_check
194   0000              	GLOBAL _player_push
195   0000              	GLOBAL _player_hit_brick
196   0000              	GLOBAL _player_hit_brick_clear
197   0000              	GLOBAL _player_hit_pow
198   0000              	GLOBAL _player_coin
199   0000              	GLOBAL _player_score_add
200   0000              	GLOBAL _player_set
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _sound_hit_pow
246   0000              	GLOBAL _sound_hit_brick
247   0000              	GLOBAL _sound_hit_enemy
248   0000              	GLOBAL _sound_kill
249   0000              	GLOBAL _sound_enter_enemy
250   0000              	GLOBAL _sound_coin
251   0000              	GLOBAL _sound_jump
252   0000              	GLOBAL _sound_slide
253   0000              	GLOBAL _spr_collision_check
254   0000              	GLOBAL _spr_calc_hor
255   0000              	GLOBAL _spr_draw_row
256   0000              	GLOBAL _spr_draw_index
257   0000              	GLOBAL _spr_draw_clear
258   0000              	GLOBAL _spr_water_splash_draw
259   0000              	GLOBAL _spr_water_splash_clear
260   0000              	GLOBAL _spr_draw_back
261   0000              	GLOBAL _spr_cortina_brick
262   0000              	GLOBAL _spr_brick_anim
263   0000              	GLOBAL _spr_back_fix
264   0000              	GLOBAL _spr_back_paint
265   0000              	GLOBAL _spr_back_clr
266   0000              	GLOBAL _spr_draw_pow
267   0000              	GLOBAL _spr_tile
268   0000              	GLOBAL _spr_set_fall
269   0000              	GLOBAL _spr_destroy
270   0000              	GLOBAL _spr_check_over
271   0000              	GLOBAL _spr_tile_dir
272   0000              	GLOBAL _spr_anim_kill
273   0000              	GLOBAL _spr_anim_fall
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_chktime
282   0000              	GLOBAL _game_back_fix
283   0000              	GLOBAL _game_joystick_set_menu
284   0000              	GLOBAL _game_joystick_set
285   0000              	GLOBAL _game_joystick_change
286   0000              	GLOBAL _game_hall_print_p
287   0000              	GLOBAL _game_hall_edit_p
288   0000              	GLOBAL _game_hall_check
289   0000              	GLOBAL _game_hall_enter_phs
290   0000              	GLOBAL _game_print_header
291   0000              	GLOBAL _game_end
292   0000              	GLOBAL _game_hall_enter
293   0000              	GLOBAL _game_hall_of_fame
294   0000              	GLOBAL _game_score_osd
295   0000              	GLOBAL _game_phase_print_score_back
296   0000              	GLOBAL _game_bonus_clock
297   0000              	GLOBAL _game_bonus_summary_player
298   0000              	GLOBAL _game_bonus_summary
299   0000              	GLOBAL _game_check_time
300   0000              	GLOBAL _game_menu_config
301   0000              	GLOBAL _game_menu
302   0000              	GLOBAL _game_rotate_attrib
303   0000              	GLOBAL _game_colour_message
304   0000              	GLOBAL _game_paint_attrib_lin_h
305   0000              	GLOBAL _game_paint_attrib_lin
306   0000              	GLOBAL _game_paint_attrib
307   0000              	GLOBAL _game_menu_paint
308   0000              	GLOBAL _game_menu_top_paint
309   0000              	GLOBAL _game_menu_handle
310   0000              	GLOBAL _game_menu_e
311   0000              	GLOBAL _game_menu_back
312   0000              	GLOBAL _game_print_score
313   0000              	GLOBAL _game_unfreeze_all
314   0000              	GLOBAL _game_freeze_all
315   0000              	GLOBAL _game_freeze
316   0000              	GLOBAL _game_enemy_add_get_index
317   0000              	GLOBAL _game_enemy_add1
318   0000              	GLOBAL _game_enemy_quota
319   0000              	GLOBAL _game_enemy_rnd
320   0000              	GLOBAL _game_enemy_add
321   0000              	GLOBAL _game_check_floor
322   0000              	GLOBAL _game_check_maze
323   0000              	GLOBAL _game_kill_all_sprites
324   0000              	GLOBAL _game_loop
325   0000              	GLOBAL _player_set2
326   0000              	GLOBAL _player_set1
327   0000              	GLOBAL _game_phase_print
328   0000              	GLOBAL _game_phase_init
329   0000              	GLOBAL _game_phase_calc
330   0000              	GLOBAL _game_start_timer
331   0000              	GLOBAL _game_tick
332   0000              	GLOBAL _game_print_lives
333   0000              	GLOBAL _game_print_footer
334   0000              	GLOBAL _game_calc_index
335   0000              	GLOBAL _game_fill_row
336   0000              	GLOBAL _enemy_ugly_fix
337   0000              	GLOBAL _enemy_kill
338   0000              	GLOBAL _enemy_init
339   0000              	GLOBAL _enemy_walk
340   0000              	GLOBAL _enemy_upgrade
341   0000              	GLOBAL _enemy_evolve
342   0000              	GLOBAL _enemy_standard_hit
343   0000              	GLOBAL _enemy_trip_move
344   0000              	GLOBAL _enemy_trip
345   0000              	GLOBAL _enemy_fighterfly
346   0000              	GLOBAL _enemy_fireball_green
347   0000              	GLOBAL _enemy_fireball_red
348   0000              	GLOBAL _enemy_slipice
349   0000              	GLOBAL _enemy_standard
350   0000              	GLOBAL _enemy_turn
351   0000              	GLOBAL _enemy_flip_sidestepper
352   0000              	GLOBAL _enemy_flip
353   0000              	GLOBAL _enemy_flip_change_dir
354   0000              	GLOBAL _enemy_hit
355   0000              	GLOBAL _enemy_collision_turn_dir
356   0000              	GLOBAL _enemy_collision_check
357   0000              	GLOBAL _enemy_collision
358   0000              	GLOBAL _enemy_coin1
359   0000              	GLOBAL _ay_fx_play
360   0000              	GLOBAL _ay_midi_play
361   0000              	GLOBAL _ay_is_playing
362   0000              	GLOBAL _ay_reset
363   0000              	GLOBAL _debug_func
364   0000              	GLOBAL _test_func
365   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawTW_raw
367   0000              	GLOBAL _NIRVANAP_drawTW_callee
368   0000              	GLOBAL _NIRVANAP_drawTW
369   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
370   0000              	GLOBAL _NIRVANAP_drawW_raw
371   0000              	GLOBAL _NIRVANAP_drawW_callee
372   0000              	GLOBAL _NIRVANAP_drawW
373   0000              	GLOBAL _NIRVANAP_spriteT_callee
374   0000              	GLOBAL _NIRVANAP_spriteT
375   0000              	GLOBAL _NIRVANAP_fillC_callee
376   0000              	GLOBAL _NIRVANAP_fillC
377   0000              	GLOBAL _NIRVANAP_readC_callee
378   0000              	GLOBAL _NIRVANAP_readC
379   0000              	GLOBAL _NIRVANAP_paintC_callee
380   0000              	GLOBAL _NIRVANAP_paintC
381   0000              	GLOBAL _NIRVANAP_printC_callee
382   0000              	GLOBAL _NIRVANAP_printC
383   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
384   0000              	GLOBAL _NIRVANAP_fillT_raw
385   0000              	GLOBAL _NIRVANAP_fillT_callee
386   0000              	GLOBAL _NIRVANAP_fillT
387   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
388   0000              	GLOBAL _NIRVANAP_drawT_raw
389   0000              	GLOBAL _NIRVANAP_drawT_callee
390   0000              	GLOBAL _NIRVANAP_drawT
391   0000              	GLOBAL _NIRVANAP_stop
392   0000              	GLOBAL _NIRVANAP_start
393   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
394   0000              	GLOBAL _intrinsic_swap_word_32
395   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
396   0000              	GLOBAL _intrinsic_swap_endian_32
397   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
398   0000              	GLOBAL _intrinsic_swap_endian_16
399   0000              	GLOBAL _intrinsic_return_de
400   0000              	GLOBAL _intrinsic_return_bc
401   0000              	GLOBAL _intrinsic_exx
402   0000              	GLOBAL _intrinsic_ex_de_hl
403   0000              	GLOBAL _intrinsic_nop
404   0000              	GLOBAL _intrinsic_im_2
405   0000              	GLOBAL _intrinsic_im_1
406   0000              	GLOBAL _intrinsic_im_0
407   0000              	GLOBAL _intrinsic_retn
408   0000              	GLOBAL _intrinsic_reti
409   0000              	GLOBAL _intrinsic_halt
410   0000              	GLOBAL _intrinsic_ei
411   0000              	GLOBAL _intrinsic_di
412   0000              	GLOBAL _intrinsic_stub
413   0000              	GLOBAL _ulltoa_callee
414   0000              	GLOBAL _ulltoa
415   0000              	GLOBAL _strtoull_callee
416   0000              	GLOBAL _strtoull
417   0000              	GLOBAL _strtoll_callee
418   0000              	GLOBAL _strtoll
419   0000              	GLOBAL _lltoa_callee
420   0000              	GLOBAL _lltoa
421   0000              	GLOBAL _llabs_callee
422   0000              	GLOBAL _llabs
423   0000              	GLOBAL __lldivu__callee
424   0000              	GLOBAL __lldivu_
425   0000              	GLOBAL __lldiv__callee
426   0000              	GLOBAL __lldiv_
427   0000              	GLOBAL _atoll_callee
428   0000              	GLOBAL _atoll
429   0000              	GLOBAL _realloc_unlocked_callee
430   0000              	GLOBAL _realloc_unlocked
431   0000              	GLOBAL _malloc_unlocked_fastcall
432   0000              	GLOBAL _malloc_unlocked
433   0000              	GLOBAL _free_unlocked_fastcall
434   0000              	GLOBAL _free_unlocked
435   0000              	GLOBAL _calloc_unlocked_callee
436   0000              	GLOBAL _calloc_unlocked
437   0000              	GLOBAL _aligned_alloc_unlocked_callee
438   0000              	GLOBAL _aligned_alloc_unlocked
439   0000              	GLOBAL _realloc_callee
440   0000              	GLOBAL _realloc
441   0000              	GLOBAL _malloc_fastcall
442   0000              	GLOBAL _malloc
443   0000              	GLOBAL _free_fastcall
444   0000              	GLOBAL _free
445   0000              	GLOBAL _calloc_callee
446   0000              	GLOBAL _calloc
447   0000              	GLOBAL _aligned_alloc_callee
448   0000              	GLOBAL _aligned_alloc
449   0000              	GLOBAL _utoa_callee
450   0000              	GLOBAL _utoa
451   0000              	GLOBAL _ultoa_callee
452   0000              	GLOBAL _ultoa
453   0000              	GLOBAL _system_fastcall
454   0000              	GLOBAL _system
455   0000              	GLOBAL _strtoul_callee
456   0000              	GLOBAL _strtoul
457   0000              	GLOBAL _strtol_callee
458   0000              	GLOBAL _strtol
459   0000              	GLOBAL _strtof_callee
460   0000              	GLOBAL _strtof
461   0000              	GLOBAL _strtod_callee
462   0000              	GLOBAL _strtod
463   0000              	GLOBAL _srand_fastcall
464   0000              	GLOBAL _srand
465   0000              	GLOBAL _rand
466   0000              	GLOBAL _quick_exit_fastcall
467   0000              	GLOBAL _quick_exit
468   0000              	GLOBAL _qsort_callee
469   0000              	GLOBAL _qsort
470   0000              	GLOBAL _ltoa_callee
471   0000              	GLOBAL _ltoa
472   0000              	GLOBAL _labs_fastcall
473   0000              	GLOBAL _labs
474   0000              	GLOBAL _itoa_callee
475   0000              	GLOBAL _itoa
476   0000              	GLOBAL _ftoh_callee
477   0000              	GLOBAL _ftoh
478   0000              	GLOBAL _ftog_callee
479   0000              	GLOBAL _ftog
480   0000              	GLOBAL _ftoe_callee
481   0000              	GLOBAL _ftoe
482   0000              	GLOBAL _ftoa_callee
483   0000              	GLOBAL _ftoa
484   0000              	GLOBAL _exit_fastcall
485   0000              	GLOBAL _exit
486   0000              	GLOBAL _dtoh_callee
487   0000              	GLOBAL _dtoh
488   0000              	GLOBAL _dtog_callee
489   0000              	GLOBAL _dtog
490   0000              	GLOBAL _dtoe_callee
491   0000              	GLOBAL _dtoe
492   0000              	GLOBAL _dtoa_callee
493   0000              	GLOBAL _dtoa
494   0000              	GLOBAL _bsearch_callee
495   0000              	GLOBAL _bsearch
496   0000              	GLOBAL _atol_fastcall
497   0000              	GLOBAL _atol
498   0000              	GLOBAL _atoi_fastcall
499   0000              	GLOBAL _atoi
500   0000              	GLOBAL _atof_fastcall
501   0000              	GLOBAL _atof
502   0000              	GLOBAL _atexit_fastcall
503   0000              	GLOBAL _atexit
504   0000              	GLOBAL _at_quick_exit_fastcall
505   0000              	GLOBAL _at_quick_exit
506   0000              	GLOBAL _abs_fastcall
507   0000              	GLOBAL _abs
508   0000              	GLOBAL _abort
509   0000              	GLOBAL __strtou__callee
510   0000              	GLOBAL __strtou_
511   0000              	GLOBAL __strtoi__callee
512   0000              	GLOBAL __strtoi_
513   0000              	GLOBAL __random_uniform_xor_8__fastcall
514   0000              	GLOBAL __random_uniform_xor_8_
515   0000              	GLOBAL __random_uniform_xor_32__fastcall
516   0000              	GLOBAL __random_uniform_xor_32_
517   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
518   0000              	GLOBAL __random_uniform_cmwc_8_
519   0000              	GLOBAL __shellsort__callee
520   0000              	GLOBAL __shellsort_
521   0000              	GLOBAL __quicksort__callee
522   0000              	GLOBAL __quicksort_
523   0000              	GLOBAL __insertion_sort__callee
524   0000              	GLOBAL __insertion_sort_
525   0000              	GLOBAL __ldivu__callee
526   0000              	GLOBAL __ldivu_
527   0000              	GLOBAL __ldiv__callee
528   0000              	GLOBAL __ldiv_
529   0000              	GLOBAL __divu__callee
530   0000              	GLOBAL __divu_
531   0000              	GLOBAL __div__callee
532   0000              	GLOBAL __div_
533   0000              	GLOBAL _in_mouse_kempston_wheel_delta
534   0000              	GLOBAL _in_mouse_kempston_wheel
535   0000              	GLOBAL _in_mouse_kempston_callee
536   0000              	GLOBAL _in_mouse_kempston
537   0000              	GLOBAL _in_mouse_kempston_setpos_callee
538   0000              	GLOBAL _in_mouse_kempston_setpos
539   0000              	GLOBAL _in_mouse_kempston_reset
540   0000              	GLOBAL _in_mouse_kempston_init
541   0000              	GLOBAL _in_mouse_amx_wheel_delta
542   0000              	GLOBAL _in_mouse_amx_wheel
543   0000              	GLOBAL _in_mouse_amx_callee
544   0000              	GLOBAL _in_mouse_amx
545   0000              	GLOBAL _in_mouse_amx_setpos_callee
546   0000              	GLOBAL _in_mouse_amx_setpos
547   0000              	GLOBAL _in_mouse_amx_reset
548   0000              	GLOBAL _in_mouse_amx_init_callee
549   0000              	GLOBAL _in_mouse_amx_init
550   0000              	GLOBAL _in_stick_sinclair2
551   0000              	GLOBAL _in_stick_sinclair1
552   0000              	GLOBAL _in_stick_kempston
553   0000              	GLOBAL _in_stick_fuller
554   0000              	GLOBAL _in_stick_cursor
555   0000              	GLOBAL _in_stick_keyboard_fastcall
556   0000              	GLOBAL _in_stick_keyboard
557   0000              	GLOBAL _in_wait_nokey
558   0000              	GLOBAL _in_wait_key
559   0000              	GLOBAL _in_test_key
560   0000              	GLOBAL _in_pause_fastcall
561   0000              	GLOBAL _in_pause
562   0000              	GLOBAL _in_key_scancode_fastcall
563   0000              	GLOBAL _in_key_scancode
564   0000              	GLOBAL _in_key_pressed_fastcall
565   0000              	GLOBAL _in_key_pressed
566   0000              	GLOBAL _in_inkey
567   0000              	GLOBAL _zx_pattern_fill_callee
568   0000              	GLOBAL _zx_pattern_fill
569   0000              	GLOBAL _zx_saddrpup_fastcall
570   0000              	GLOBAL _zx_saddrpup
571   0000              	GLOBAL _zx_saddrpright_callee
572   0000              	GLOBAL _zx_saddrpright
573   0000              	GLOBAL _zx_saddrpleft_callee
574   0000              	GLOBAL _zx_saddrpleft
575   0000              	GLOBAL _zx_saddrpdown_fastcall
576   0000              	GLOBAL _zx_saddrpdown
577   0000              	GLOBAL _zx_saddrcup_fastcall
578   0000              	GLOBAL _zx_saddrcup
579   0000              	GLOBAL _zx_saddrcright_fastcall
580   0000              	GLOBAL _zx_saddrcright
581   0000              	GLOBAL _zx_saddrcleft_fastcall
582   0000              	GLOBAL _zx_saddrcleft
583   0000              	GLOBAL _zx_saddrcdown_fastcall
584   0000              	GLOBAL _zx_saddrcdown
585   0000              	GLOBAL _zx_saddr2py_fastcall
586   0000              	GLOBAL _zx_saddr2py
587   0000              	GLOBAL _zx_saddr2px_fastcall
588   0000              	GLOBAL _zx_saddr2px
589   0000              	GLOBAL _zx_saddr2cy_fastcall
590   0000              	GLOBAL _zx_saddr2cy
591   0000              	GLOBAL _zx_saddr2cx_fastcall
592   0000              	GLOBAL _zx_saddr2cx
593   0000              	GLOBAL _zx_saddr2aaddr_fastcall
594   0000              	GLOBAL _zx_saddr2aaddr
595   0000              	GLOBAL _zx_py2saddr_fastcall
596   0000              	GLOBAL _zx_py2saddr
597   0000              	GLOBAL _zx_py2aaddr_fastcall
598   0000              	GLOBAL _zx_py2aaddr
599   0000              	GLOBAL _zx_pxy2saddr_callee
600   0000              	GLOBAL _zx_pxy2saddr
601   0000              	GLOBAL _zx_pxy2aaddr_callee
602   0000              	GLOBAL _zx_pxy2aaddr
603   0000              	GLOBAL _zx_px2bitmask_fastcall
604   0000              	GLOBAL _zx_px2bitmask
605   0000              	GLOBAL _zx_cyx2saddr_callee
606   0000              	GLOBAL _zx_cyx2saddr
607   0000              	GLOBAL _zx_cyx2aaddr_callee
608   0000              	GLOBAL _zx_cyx2aaddr
609   0000              	GLOBAL _zx_cy2saddr_fastcall
610   0000              	GLOBAL _zx_cy2saddr
611   0000              	GLOBAL _zx_cy2aaddr_fastcall
612   0000              	GLOBAL _zx_cy2aaddr
613   0000              	GLOBAL _zx_bitmask2px_fastcall
614   0000              	GLOBAL _zx_bitmask2px
615   0000              	GLOBAL _zx_aaddrcup_fastcall
616   0000              	GLOBAL _zx_aaddrcup
617   0000              	GLOBAL _zx_aaddrcright_fastcall
618   0000              	GLOBAL _zx_aaddrcright
619   0000              	GLOBAL _zx_aaddrcleft_fastcall
620   0000              	GLOBAL _zx_aaddrcleft
621   0000              	GLOBAL _zx_aaddrcdown_fastcall
622   0000              	GLOBAL _zx_aaddrcdown
623   0000              	GLOBAL _zx_aaddr2saddr_fastcall
624   0000              	GLOBAL _zx_aaddr2saddr
625   0000              	GLOBAL _zx_aaddr2py_fastcall
626   0000              	GLOBAL _zx_aaddr2py
627   0000              	GLOBAL _zx_aaddr2px_fastcall
628   0000              	GLOBAL _zx_aaddr2px
629   0000              	GLOBAL _zx_aaddr2cy_fastcall
630   0000              	GLOBAL _zx_aaddr2cy
631   0000              	GLOBAL _zx_aaddr2cx_fastcall
632   0000              	GLOBAL _zx_aaddr2cx
633   0000              	GLOBAL _zx_scroll_wc_up_callee
634   0000              	GLOBAL _zx_scroll_wc_up
635   0000              	GLOBAL _zx_scroll_up_callee
636   0000              	GLOBAL _zx_scroll_up
637   0000              	GLOBAL _zx_cls_wc_callee
638   0000              	GLOBAL _zx_cls_wc
639   0000              	GLOBAL _zx_cls_fastcall
640   0000              	GLOBAL _zx_cls
641   0000              	GLOBAL _zx_border_fastcall
642   0000              	GLOBAL _zx_border
643   0000              	GLOBAL _joynames
644   0000              	GLOBAL _initials
645   0000              	GLOBAL _hof
646   0000              	GLOBAL _score_osd_tile
647   0000              	GLOBAL _score_osd_time
648   0000              	GLOBAL _score_osd_col
649   0000              	GLOBAL _score_osd_lin
650   0000              	GLOBAL _phase_bonus_total
651   0000              	GLOBAL _phase_angry
652   0000              	GLOBAL _phase_curr
653   0000              	GLOBAL _phase_end
654   0000              	GLOBAL _phase_coins
655   0000              	GLOBAL _phase_pop
656   0000              	GLOBAL _phase_tot
657   0000              	GLOBAL _phase_left
658   0000              	GLOBAL _phase_quota
659   0000              	GLOBAL _phases
660   0000              	GLOBAL _spr_idx
661   0000              	GLOBAL _lvl_1
662   0000              	GLOBAL _sprite_speed_alt
663   0000              	GLOBAL _sprite_speed
664   0000              	GLOBAL _screen_ink
665   0000              	GLOBAL _screen_paper
666   0000              	GLOBAL _game_menu_sel
667   0000              	GLOBAL _game_type
668   0000              	GLOBAL _game_osd
669   0000              	GLOBAL _game_bonus
670   0000              	GLOBAL _spr_water_time
671   0000              	GLOBAL _spr_water_clear
672   0000              	GLOBAL _game_time_fireball_start
673   0000              	GLOBAL _game_time_flipped
674   0000              	GLOBAL _game_score_top
675   0000              	GLOBAL _game_lives
676   0000              	GLOBAL _game_over
677   0000              	GLOBAL _game_sound
678   0000              	GLOBAL _game_inmune
679   0000              	GLOBAL _game_god_mode
680   0000              	GLOBAL _game_start_phase
681   0000              	GLOBAL _game_two_player
682   0000              	GLOBAL _game_brick_tile
683   0000              	GLOBAL _game_pow
684   0000              	GLOBAL _game_ugly_fix_cnt
685   0000              	GLOBAL _spr_count
686   0000              	GLOBAL _osd_time
687   0000              	GLOBAL _frame_time
688   0000              	GLOBAL _entry_time
689   0000              	GLOBAL _curr_time
690   0000              	GLOBAL _s_state
691   0000              	GLOBAL _attrib_hl
692   0000              	GLOBAL _attrib
693   0000              	GLOBAL _zx_val_asm
694   0000              	GLOBAL _enemies
695   0000              	GLOBAL _tmp_ui
696   0000              	GLOBAL _tmp_sc
697   0000              	GLOBAL _tmp_uc
698   0000              	GLOBAL _tmp1
699   0000              	GLOBAL _tmp0
700   0000              	GLOBAL _tmp
701   0000              	GLOBAL _index3
702   0000              	GLOBAL _index2
703   0000              	GLOBAL _index1
704   0000              	GLOBAL _loop_count
705   0000              	GLOBAL _sprite_lin_inc_mul
706   0000              	GLOBAL _s_col1
707   0000              	GLOBAL _s_col0
708   0000              	GLOBAL _s_lin1
709   0000              	GLOBAL _s_lin0
710   0000              	GLOBAL _s_tile1
711   0000              	GLOBAL _s_tile0
712   0000              	GLOBAL _hit_count
713   0000              	GLOBAL _tile_offset_other_player
714   0000              	GLOBAL _tile_offset
715   0000              	GLOBAL _index_player
716   0000              	GLOBAL _sprite_other_player
717   0000              	GLOBAL _sprite
718   0000              	GLOBAL _player_joy
719   0000              	GLOBAL _player_next_extra
720   0000              	GLOBAL _player_score
721   0000              	GLOBAL _last_time
722   0000              	GLOBAL _sliding
723   0000              	GLOBAL _spr_timer
724   0000              	GLOBAL _jump_lin
725   0000              	GLOBAL _player_jump_c
726   0000              	GLOBAL _hit_col
727   0000              	GLOBAL _hit_lin
728   0000              	GLOBAL _colint
729   0000              	GLOBAL _col
730   0000              	GLOBAL _lin
731   0000              	GLOBAL _tile
732   0000              	GLOBAL _state_a
733   0000              	GLOBAL _state
734   0000              	GLOBAL _class
735   0000              	GLOBAL _tbuffer
736   0000              	GLOBAL _dirs
737   0000              	GLOBAL _k2
738   0000              	GLOBAL _k1
739   0000              	GLOBAL _joyfunc2
740   0000              	GLOBAL _joyfunc1
741   0000              	GLOBAL _btiles
742   0000              	GLOBAL _spec128
743   0000              	GLOBAL _ay_effect_20
744   0000              	GLOBAL _ay_effect_19
745   0000              	GLOBAL _ay_effect_18
746   0000              	GLOBAL _ay_effect_17
747   0000              	GLOBAL _ay_effect_16
748   0000              	GLOBAL _ay_effect_15
749   0000              	GLOBAL _ay_effect_14
750   0000              	GLOBAL _ay_effect_13
751   0000              	GLOBAL _ay_effect_12
752   0000              	GLOBAL _ay_effect_11
753   0000              	GLOBAL _ay_effect_10
754   0000              	GLOBAL _ay_effect_09
755   0000              	GLOBAL _ay_effect_08
756   0000              	GLOBAL _ay_effect_07
757   0000              	GLOBAL _ay_effect_06
758   0000              	GLOBAL _ay_effect_05
759   0000              	GLOBAL _ay_effect_04
760   0000              	GLOBAL _ay_effect_03
761   0000              	GLOBAL _ay_effect_02
762   0000              	GLOBAL _ay_effect_01
763   0000              	GLOBAL _pb_midi_phase_1
764   0000              	GLOBAL _pb_midi_title
765   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
766   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
767   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
768   0000              	GLOBAL _NIRVANAP_HOLE
769   0000              	GLOBAL _NIRVANAP_ISR_HOOK
770   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
771   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
772   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
773   0000              	GLOBAL _control_method
774   0000              	GLOBAL _hall_valids
775   0000              ;--------------------------------------------------------
776   0000              ; special function registers
777   0000              ;--------------------------------------------------------
778   0000              defc _IO_FE	=	0x00fe
779   0000              defc _IO_1FFD	=	0x1ffd
780   0000              defc _IO_7FFD	=	0x7ffd
781   0000              ;--------------------------------------------------------
782   0000              ; ram data
783   0000              ;--------------------------------------------------------
784   0000              	SECTION bss_compiler
785   0000              ;--------------------------------------------------------
786   0000              ; ram data
787   0000              ;--------------------------------------------------------
788   0000              
789   0000              IF 0
790   0000              
791   0000              ; .area _INITIALIZED removed by z88dk
792   0000              
793   0000              
794   0000              ENDIF
795   0000              
796   0000              ;--------------------------------------------------------
797   0000              ; absolute external ram data
798   0000              ;--------------------------------------------------------
799   0000              	SECTION IGNORE
800   0000              ;--------------------------------------------------------
801   0000              ; global & static initialisations
802   0000              ;--------------------------------------------------------
803   0000              	SECTION code_crt_init
804   0000              ;--------------------------------------------------------
805   0000              ; Home
806   0000              ;--------------------------------------------------------
807   0000              	SECTION IGNORE
808   0000              ;--------------------------------------------------------
809   0000              ; code
810   0000              ;--------------------------------------------------------
811   0000              	SECTION code_compiler
812   0000              ;	---------------------------------
813   0000              ; Function player_init
814   0000              ; ---------------------------------
815   0000              _player_init:
816   0000  CD 00 00    	call	___sdcc_enter_ix
817   0003  F5          	push	af
818   0004  3E 00       	ld	a,+((_class) & 0xFF)
819   0006  DD 86 04    	add	a,(ix+4)
820   0009  4F          	ld	c,a
821   000A  3E 00       	ld	a,+((_class) / 256)
822   000C  CE 00       	adc	a,0x00
823   000E  47          	ld	b,a
824   000F  3E 10       	ld	a,0x10
825   0011  02          	ld	(bc),a
826   0012  3E 00       	ld	a,+((_tile) & 0xFF)
827   0014  DD 86 04    	add	a,(ix+4)
828   0017  4F          	ld	c,a
829   0018  3E 00       	ld	a,+((_tile) / 256)
830   001A  CE 00       	adc	a,0x00
831   001C  47          	ld	b,a
832   001D  DD 7E 07    	ld	a,(ix+7)
833   0020  02          	ld	(bc),a
834   0021  3E 00       	ld	a,+((_lin) & 0xFF)
835   0023  DD 86 04    	add	a,(ix+4)
836   0026  4F          	ld	c,a
837   0027  3E 00       	ld	a,+((_lin) / 256)
838   0029  CE 00       	adc	a,0x00
839   002B  47          	ld	b,a
840   002C  DD 7E 05    	ld	a,(ix+5)
841   002F  02          	ld	(bc),a
842   0030  3E 00       	ld	a,+((_col) & 0xFF)
843   0032  DD 86 04    	add	a,(ix+4)
844   0035  4F          	ld	c,a
845   0036  3E 00       	ld	a,+((_col) / 256)
846   0038  CE 00       	adc	a,0x00
847   003A  47          	ld	b,a
848   003B  DD 7E 06    	ld	a,(ix+6)
849   003E  02          	ld	(bc),a
850   003F  3E 00       	ld	a,+((_colint) & 0xFF)
851   0041  DD 86 04    	add	a,(ix+4)
852   0044  4F          	ld	c,a
853   0045  3E 00       	ld	a,+((_colint) / 256)
854   0047  CE 00       	adc	a,0x00
855   0049  47          	ld	b,a
856   004A  AF          	xor	a, a
857   004B  02          	ld	(bc),a
858   004C  3E 00       	ld	a,+((_state) & 0xFF)
859   004E  DD 86 04    	add	a,(ix+4)
860   0051  4F          	ld	c,a
861   0052  3E 00       	ld	a,+((_state) / 256)
862   0054  CE 00       	adc	a,0x00
863   0056  47          	ld	b,a
864   0057  AF          	xor	a, a
865   0058  02          	ld	(bc),a
866   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
867   005B  DD 86 04    	add	a,(ix+4)
868   005E  4F          	ld	c,a
869   005F  3E 00       	ld	a,+((_state_a) / 256)
870   0061  CE 00       	adc	a,0x00
871   0063  47          	ld	b,a
872   0064  AF          	xor	a, a
873   0065  02          	ld	(bc),a
874   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
875   0068  DD 86 04    	add	a,(ix+4)
876   006B  5F          	ld	e,a
877   006C  3E 00       	ld	a,+((_jump_lin) / 256)
878   006E  CE 00       	adc	a,0x00
879   0070  57          	ld	d,a
880   0071  DD 7E 05    	ld	a,(ix+5)
881   0074  12          	ld	(de),a
882   0075  DD 6E 04    	ld	l,(ix+4)
883   0078  26 00       	ld	h,0x00
884   007A  29          	add	hl,hl
885   007B  11 00 00    	ld	de,_last_time
886   007E  19          	add	hl, de
887   007F  E3          	ex	(sp), hl
888   0080  E1          	pop	hl
889   0081  ED 5B 00 00 	ld	de,(_curr_time)
890   0085  E5          	push	hl
891   0086  73          	ld	(hl),e
892   0087  23          	inc	hl
893   0088  72          	ld	(hl),d
894   0089  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
895   008B  DD 86 04    	add	a,(ix+4)
896   008E  5F          	ld	e,a
897   008F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
898   0091  CE 00       	adc	a,0x00
899   0093  57          	ld	d,a
900   0094  AF          	xor	a, a
901   0095  12          	ld	(de),a
902   0096  0A          	ld	a,(bc)
903   0097  F6 01       	or	a,0x01
904   0099  02          	ld	(bc),a
905   009A  5F          	ld	e,a
906   009B  DD 7E 04    	ld	a,(ix+4)
907   009E  D6 07       	sub	a,0x07
908   00A0  20 0B       	jr	NZ,l_player_init_00102
909   00A2  21 00 00    	ld	hl,_index_player
910   00A5  36 00       	ld	(hl),0x00
911   00A7  7B          	ld	a,e
912   00A8  F6 10       	or	a,0x10
913   00AA  02          	ld	(bc),a
914   00AB  18 09       	jr	l_player_init_00103
915   00AD              l_player_init_00102:
916   00AD  21 00 00    	ld	hl,_index_player
917   00B0  36 01       	ld	(hl),0x01
918   00B2  7B          	ld	a,e
919   00B3  F6 08       	or	a,0x08
920   00B5  02          	ld	(bc),a
921   00B6              l_player_init_00103:
922   00B6  2A 00 00    	ld	hl,(_index_player)
923   00B9  26 00       	ld	h,0x00
924   00BB  01 00 00    	ld	bc,_hit_col
925   00BE  09          	add	hl,bc
926   00BF  AF          	xor	a,a
927   00C0  77          	ld	(hl),a
928   00C1  2A 00 00    	ld	hl,(_index_player)
929   00C4  26 00       	ld	h,0x00
930   00C6  01 00 00    	ld	bc,_hit_lin
931   00C9  09          	add	hl,bc
932   00CA  AF          	xor	a,a
933   00CB  77          	ld	(hl),a
934   00CC  2A 00 00    	ld	hl,(_index_player)
935   00CF  26 00       	ld	h,0x00
936   00D1  01 00 00    	ld	bc,_sliding
937   00D4  09          	add	hl,bc
938   00D5  AF          	xor	a,a
939   00D6  77          	ld	(hl),a
940   00D7  2A 00 00    	ld	hl,(_index_player)
941   00DA  26 00       	ld	h,0x00
942   00DC  01 00 00    	ld	bc,_player_jump_c
943   00DF  09          	add	hl,bc
944   00E0  AF          	xor	a,a
945   00E1  77          	ld	(hl),a
946   00E2  DD 66 06    	ld	h,(ix+6)
947   00E5  DD 6E 05    	ld	l,(ix+5)
948   00E8  E5          	push	hl
949   00E9  DD 66 07    	ld	h,(ix+7)
950   00EC  DD 6E 04    	ld	l,(ix+4)
951   00EF  E5          	push	hl
952   00F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
953   00F3  F1          	pop	af
954   00F4  DD E1       	pop	ix
955   00F6  C9          	ret
956   00F7              	SECTION code_compiler
957   00F7              ;	---------------------------------
958   00F7              ; Function player_calc_slide
959   00F7              ; ---------------------------------
960   00F7              _player_calc_slide:
961   00F7  2A 00 00    	ld	hl,(_sprite)
962   00FA  26 00       	ld	h,0x00
963   00FC  01 00 00    	ld	bc,_col
964   00FF  09          	add	hl,bc
965   0100  56          	ld	d, (hl)
966   0101  2A 00 00    	ld	hl,(_sprite)
967   0104  26 00       	ld	h,0x00
968   0106  01 00 00    	ld	bc,_lin
969   0109  09          	add	hl,bc
970   010A  7E          	ld	a,(hl)
971   010B  C6 10       	add	a,0x10
972   010D  5F          	ld	e, a
973   010E  D5          	push	de
974   010F  CD 00 00    	call	_game_calc_index
975   0112  F1          	pop	af
976   0113  22 00 00    	ld	(_index1),hl
977   0116  11 00 00    	ld	de,_sliding+0
978   0119  2A 00 00    	ld	hl,(_index_player)
979   011C  26 00       	ld	h,0x00
980   011E  19          	add	hl,de
981   011F  36 06       	ld	(hl),0x06
982   0121  2A 00 00    	ld	hl,(_index1)
983   0124  01 00 00    	ld	bc,_lvl_1
984   0127  09          	add	hl,bc
985   0128  7E          	ld	a,(hl)
986   0129  4F          	ld	c,a
987   012A  B7          	or	a,a
988   012B  20 0A       	jr	NZ,l_player_calc_slide_00102
989   012D  ED 4B 00 00 	ld	bc,(_index1)
990   0131  03          	inc	bc
991   0132  21 00 00    	ld	hl,_lvl_1
992   0135  09          	add	hl,bc
993   0136  4E          	ld	c,(hl)
994   0137              l_player_calc_slide_00102:
995   0137  2A 00 00    	ld	hl,(_index_player)
996   013A  26 00       	ld	h,0x00
997   013C  19          	add	hl,de
998   013D  79          	ld	a,c
999   013E  EB          	ex	de,hl
1000  013F  D6 11       	sub	a,0x11
1001  0141  28 15       	jr	Z,l_player_calc_slide_00105
1002  0143  79          	ld	a,c
1003  0144  FE 12       	cp	a,0x12
1004  0146  28 06       	jr	Z,l_player_calc_slide_00103
1005  0148  D6 14       	sub	a,0x14
1006  014A  28 07       	jr	Z,l_player_calc_slide_00104
1007  014C  18 0D       	jr	l_player_calc_slide_00107
1008  014E              l_player_calc_slide_00103:
1009  014E  3E 06       	ld	a,0x06
1010  0150  12          	ld	(de),a
1011  0151  18 08       	jr	l_player_calc_slide_00107
1012  0153              l_player_calc_slide_00104:
1013  0153  3E 0C       	ld	a,0x0c
1014  0155  12          	ld	(de),a
1015  0156  18 03       	jr	l_player_calc_slide_00107
1016  0158              l_player_calc_slide_00105:
1017  0158  3E 03       	ld	a,0x03
1018  015A  12          	ld	(de),a
1019  015B              l_player_calc_slide_00107:
1020  015B  C9          	ret
1021  015C              	SECTION code_compiler
1022  015C              ;	---------------------------------
1023  015C              ; Function player_check_input
1024  015C              ; ---------------------------------
1025  015C              _player_check_input:
1026  015C  21 00 00    	ld	hl,_dirs
1027  015F  7E          	ld	a,(hl)
1028  0160  CB 07       	rlc	a
1029  0162  E6 01       	and	a,0x01
1030  0164  CB 47       	bit	0,a
1031  0166  20 0F       	jr	NZ,l_player_check_input_00104
1032  0168  7E          	ld	a,(hl)
1033  0169  E6 04       	and	a,0x04
1034  016B  20 0A       	jr	NZ,l_player_check_input_00104
1035  016D  3A 00 00    	ld	a,(_dirs)
1036  0170  E6 08       	and	a,0x08
1037  0172  20 03       	jr	NZ,l_player_check_input_00104
1038  0174  6F          	ld	l,a
1039  0175  18 02       	jr	l_player_check_input_00105
1040  0177              l_player_check_input_00104:
1041  0177  2E 01       	ld	l,0x01
1042  0179              l_player_check_input_00105:
1043  0179  C9          	ret
1044  017A              	SECTION code_compiler
1045  017A              ;	---------------------------------
1046  017A              ; Function player_collision
1047  017A              ; ---------------------------------
1048  017A              _player_collision:
1049  017A  2A 00 00    	ld	hl,(_sprite)
1050  017D  26 00       	ld	h,0x00
1051  017F  01 00 00    	ld	bc,_class
1052  0182  09          	add	hl,bc
1053  0183  7E          	ld	a,(hl)
1054  0184  B7          	or	a,a
1055  0185  20 04       	jr	NZ,l_player_collision_00102
1056  0187  6F          	ld	l,a
1057  0188  C3 22 02    	jp	l_player_collision_00124
1058  018B              l_player_collision_00102:
1059  018B  2A 00 00    	ld	hl,(_sprite)
1060  018E  26 00       	ld	h,0x00
1061  0190  01 00 00    	ld	bc,_state
1062  0193  09          	add	hl,bc
1063  0194  7E          	ld	a,(hl)
1064  0195  CB 67       	bit	4, a
1065  0197  28 05       	jr	Z,l_player_collision_00104
1066  0199  2E 00       	ld	l,0x00
1067  019B  C3 22 02    	jp	l_player_collision_00124
1068  019E              l_player_collision_00104:
1069  019E  CB 6F       	bit	5, a
1070  01A0  28 05       	jr	Z,l_player_collision_00106
1071  01A2  2E 00       	ld	l,0x00
1072  01A4  C3 22 02    	jp	l_player_collision_00124
1073  01A7              l_player_collision_00106:
1074  01A7  21 00 00    	ld	hl,_hit_count
1075  01AA  36 00       	ld	(hl),0x00
1076  01AC  21 00 00    	ld	hl,_enemies
1077  01AF  36 00       	ld	(hl),0x00
1078  01B1              l_player_collision_00122:
1079  01B1  2A FF FF    	ld	hl,(_enemies - 1)
1080  01B4  3A 00 00    	ld	a,(_sprite)
1081  01B7  6F          	ld	l,a
1082  01B8  E5          	push	hl
1083  01B9  CD 00 00    	call	_spr_collision_check
1084  01BC  F1          	pop	af
1085  01BD  7D          	ld	a,l
1086  01BE  B7          	or	a, a
1087  01BF  28 52       	jr	Z,l_player_collision_00123
1088  01C1  2A 00 00    	ld	hl,(_enemies)
1089  01C4  26 00       	ld	h,0x00
1090  01C6  01 00 00    	ld	bc,_state
1091  01C9  09          	add	hl,bc
1092  01CA  CB 66       	bit	4,(hl)
1093  01CC  28 08       	jr	Z,l_player_collision_00117
1094  01CE  2A 00 00    	ld	hl,(_enemies)
1095  01D1  CD 00 00    	call	_enemy_kill
1096  01D4  18 3D       	jr	l_player_collision_00123
1097  01D6              l_player_collision_00117:
1098  01D6  2A 00 00    	ld	hl,(_enemies)
1099  01D9  26 00       	ld	h,0x00
1100  01DB  01 00 00    	ld	bc,_class
1101  01DE  09          	add	hl,bc
1102  01DF  7E          	ld	a,(hl)
1103  01E0  4F          	ld	c,a
1104  01E1  D6 08       	sub	a,0x08
1105  01E3  28 05       	jr	Z,l_player_collision_00112
1106  01E5  79          	ld	a,c
1107  01E6  D6 0C       	sub	a,0x0c
1108  01E8  20 0C       	jr	NZ,l_player_collision_00113
1109  01EA              l_player_collision_00112:
1110  01EA  2A 00 00    	ld	hl,(_enemies)
1111  01ED  26 50       	ld	h,0x50
1112  01EF  E5          	push	hl
1113  01F0  CD A0 0E    	call	_player_coin
1114  01F3  F1          	pop	af
1115  01F4  18 1D       	jr	l_player_collision_00123
1116  01F6              l_player_collision_00113:
1117  01F6  21 00 00    	ld	hl,_ay_effect_18
1118  01F9  CD 00 00    	call	_ay_fx_play
1119  01FC  3A 00 00    	ld	a,(_game_god_mode)
1120  01FF  B7          	or	a, a
1121  0200  28 08       	jr	Z,l_player_collision_00110
1122  0202  2A 00 00    	ld	hl,(_enemies)
1123  0205  CD 00 00    	call	_enemy_kill
1124  0208  18 09       	jr	l_player_collision_00123
1125  020A              l_player_collision_00110:
1126  020A  3A 00 00    	ld	a,(_game_inmune)
1127  020D  B7          	or	a, a
1128  020E  20 03       	jr	NZ,l_player_collision_00123
1129  0210  CD 23 02    	call	_player_kill
1130  0213              l_player_collision_00123:
1131  0213  21 00 00    	ld	hl,_enemies
1132  0216  7E          	ld	a,(hl)
1133  0217  3C          	inc	a
1134  0218  77          	ld	(hl),a
1135  0219  D6 06       	sub	a,0x06
1136  021B  38 94       	jr	C,l_player_collision_00122
1137  021D  CD 00 00    	call	_game_score_osd
1138  0220  2E 00       	ld	l,0x00
1139  0222              l_player_collision_00124:
1140  0222  C9          	ret
1141  0223              	SECTION code_compiler
1142  0223              ;	---------------------------------
1143  0223              ; Function player_kill
1144  0223              ; ---------------------------------
1145  0223              _player_kill:
1146  0223  01 00 00    	ld	bc,_state+0
1147  0226  2A 00 00    	ld	hl,(_sprite)
1148  0229  26 00       	ld	h,0x00
1149  022B  09          	add	hl,bc
1150  022C  CB 6E       	bit	5,(hl)
1151  022E  C2 FD 02    	jp	NZ,l_player_kill_00109
1152  0231  C5          	push	bc
1153  0232  CD 00 00    	call	_sound_hit_brick
1154  0235  C1          	pop	bc
1155  0236  79          	ld	a,c
1156  0237  21 00 00    	ld	hl,_sprite
1157  023A  86          	add	a, (hl)
1158  023B  5F          	ld	e,a
1159  023C  78          	ld	a,b
1160  023D  CE 00       	adc	a,0x00
1161  023F  57          	ld	d,a
1162  0240  1A          	ld	a,(de)
1163  0241  F6 20       	or	a,0x20
1164  0243  12          	ld	(de),a
1165  0244  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1166  0246  86          	add	a, (hl)
1167  0247  5F          	ld	e,a
1168  0248  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1169  024A  CE 00       	adc	a,0x00
1170  024C  57          	ld	d,a
1171  024D  3E 03       	ld	a,0x03
1172  024F  12          	ld	(de),a
1173  0250  79          	ld	a,c
1174  0251  86          	add	a, (hl)
1175  0252  4F          	ld	c,a
1176  0253  78          	ld	a,b
1177  0254  CE 00       	adc	a,0x00
1178  0256  47          	ld	b,a
1179  0257  0A          	ld	a,(bc)
1180  0258  CB 57       	bit	2, a
1181  025A  28 11       	jr	Z,l_player_kill_00102
1182  025C  2A 00 00    	ld	hl,(_sprite)
1183  025F  26 00       	ld	h,0x00
1184  0261  01 00 00    	ld	bc,_tile
1185  0264  09          	add	hl,bc
1186  0265  3A 00 00    	ld	a,(_tile_offset)
1187  0268  C6 0B       	add	a,0x0b
1188  026A  77          	ld	(hl),a
1189  026B  18 0F       	jr	l_player_kill_00103
1190  026D              l_player_kill_00102:
1191  026D  2A 00 00    	ld	hl,(_sprite)
1192  0270  26 00       	ld	h,0x00
1193  0272  01 00 00    	ld	bc,_tile
1194  0275  09          	add	hl,bc
1195  0276  3A 00 00    	ld	a,(_tile_offset)
1196  0279  C6 17       	add	a,0x17
1197  027B  77          	ld	(hl),a
1198  027C              l_player_kill_00103:
1199  027C  CD 7C 0D    	call	_player_hit_brick_clear
1200  027F  2A 00 00    	ld	hl,(_sprite)
1201  0282  26 00       	ld	h,0x00
1202  0284  01 00 00    	ld	bc,_col
1203  0287  09          	add	hl,bc
1204  0288  4E          	ld	c, (hl)
1205  0289  2A 00 00    	ld	hl,(_sprite)
1206  028C  26 00       	ld	h,0x00
1207  028E  11 00 00    	ld	de,_lin
1208  0291  19          	add	hl,de
1209  0292  46          	ld	b, (hl)
1210  0293  2A 00 00    	ld	hl,(_sprite)
1211  0296  26 00       	ld	h,0x00
1212  0298  11 00 00    	ld	de,_tile
1213  029B  19          	add	hl,de
1214  029C  56          	ld	d, (hl)
1215  029D  79          	ld	a,c
1216  029E  21 00 00    	ld	hl,_sprite
1217  02A1  F5          	push	af
1218  02A2  33          	inc	sp
1219  02A3  4A          	ld	c, d
1220  02A4  7E          	ld	a,(hl)
1221  02A5  C5          	push	bc
1222  02A6  F5          	push	af
1223  02A7  33          	inc	sp
1224  02A8  CD 00 00    	call	_NIRVANAP_spriteT_callee
1225  02AB  01 00 00    	ld	bc,_spr_timer+0
1226  02AE  2A 00 00    	ld	hl,(_sprite)
1227  02B1  26 00       	ld	h,0x00
1228  02B3  29          	add	hl, hl
1229  02B4  09          	add	hl,bc
1230  02B5  ED 5B 00 00 	ld	de,(_curr_time)
1231  02B9  73          	ld	(hl),e
1232  02BA  23          	inc	hl
1233  02BB  72          	ld	(hl),d
1234  02BC  3A 00 00    	ld	a,(_sprite)
1235  02BF  D6 07       	sub	a,0x07
1236  02C1  20 1E       	jr	NZ,l_player_kill_00105
1237  02C3  01 00 00    	ld	bc,_state_a+0
1238  02C6  79          	ld	a,c
1239  02C7  21 00 00    	ld	hl,_sprite
1240  02CA  86          	add	a, (hl)
1241  02CB  5F          	ld	e,a
1242  02CC  78          	ld	a,b
1243  02CD  CE 00       	adc	a,0x00
1244  02CF  57          	ld	d,a
1245  02D0  1A          	ld	a,(de)
1246  02D1  F6 08       	or	a,0x08
1247  02D3  12          	ld	(de),a
1248  02D4  79          	ld	a,c
1249  02D5  86          	add	a, (hl)
1250  02D6  4F          	ld	c,a
1251  02D7  78          	ld	a,b
1252  02D8  CE 00       	adc	a,0x00
1253  02DA  47          	ld	b,a
1254  02DB  0A          	ld	a,(bc)
1255  02DC  E6 EF       	and	a,0xef
1256  02DE  02          	ld	(bc),a
1257  02DF  18 1C       	jr	l_player_kill_00109
1258  02E1              l_player_kill_00105:
1259  02E1  01 00 00    	ld	bc,_state_a+0
1260  02E4  79          	ld	a,c
1261  02E5  21 00 00    	ld	hl,_sprite
1262  02E8  86          	add	a, (hl)
1263  02E9  5F          	ld	e,a
1264  02EA  78          	ld	a,b
1265  02EB  CE 00       	adc	a,0x00
1266  02ED  57          	ld	d,a
1267  02EE  1A          	ld	a,(de)
1268  02EF  F6 10       	or	a,0x10
1269  02F1  12          	ld	(de),a
1270  02F2  79          	ld	a,c
1271  02F3  86          	add	a, (hl)
1272  02F4  4F          	ld	c,a
1273  02F5  78          	ld	a,b
1274  02F6  CE 00       	adc	a,0x00
1275  02F8  47          	ld	b,a
1276  02F9  0A          	ld	a,(bc)
1277  02FA  E6 F7       	and	a,0xf7
1278  02FC  02          	ld	(bc),a
1279  02FD              l_player_kill_00109:
1280  02FD  C9          	ret
1281  02FE              	SECTION code_compiler
1282  02FE              ;	---------------------------------
1283  02FE              ; Function player_restart
1284  02FE              ; ---------------------------------
1285  02FE              _player_restart:
1286  02FE  CD 00 00    	call	___sdcc_enter_ix
1287  0301  F5          	push	af
1288  0302  4D          	ld	c,l
1289  0303  21 00 00    	ld	hl,_ay_effect_15
1290  0306  CD 00 00    	call	_ay_fx_play
1291  0309  79          	ld	a,c
1292  030A  D6 07       	sub	a,0x07
1293  030C  20 1B       	jr	NZ,l_player_restart_00102
1294  030E  C5          	push	bc
1295  030F  21 0E 03    	ld	hl,0x030e
1296  0312  E5          	push	hl
1297  0313  21 07 00    	ld	hl,0x0007
1298  0316  E5          	push	hl
1299  0317  CD 00 00    	call	_player_init
1300  031A  F1          	pop	af
1301  031B  21 10 0E    	ld	hl,0x0e10
1302  031E  E3          	ex	(sp),hl
1303  031F  3E 84       	ld	a,0x84
1304  0321  F5          	push	af
1305  0322  33          	inc	sp
1306  0323  CD 00 00    	call	_NIRVANAP_drawT_callee
1307  0326  C1          	pop	bc
1308  0327  18 19       	jr	l_player_restart_00103
1309  0329              l_player_restart_00102:
1310  0329  C5          	push	bc
1311  032A  21 10 27    	ld	hl,0x2710
1312  032D  E5          	push	hl
1313  032E  21 06 00    	ld	hl,0x0006
1314  0331  E5          	push	hl
1315  0332  CD 00 00    	call	_player_init
1316  0335  F1          	pop	af
1317  0336  21 10 10    	ld	hl,0x1010
1318  0339  E3          	ex	(sp),hl
1319  033A  3E 84       	ld	a,0x84
1320  033C  F5          	push	af
1321  033D  33          	inc	sp
1322  033E  CD 00 00    	call	_NIRVANAP_drawT_callee
1323  0341  C1          	pop	bc
1324  0342              l_player_restart_00103:
1325  0342  11 00 00    	ld	de,_state+0
1326  0345  69          	ld	l,c
1327  0346  26 00       	ld	h,0x00
1328  0348  19          	add	hl,de
1329  0349  CB E6       	set	4, (hl)
1330  034B  11 00 00    	ld	de,_state_a+0
1331  034E  69          	ld	l,c
1332  034F  26 00       	ld	h,0x00
1333  0351  19          	add	hl,de
1334  0352  CB C6       	set	0, (hl)
1335  0354  11 00 00    	ld	de,_spr_timer+0
1336  0357  69          	ld	l,c
1337  0358  26 00       	ld	h,0x00
1338  035A  29          	add	hl, hl
1339  035B  19          	add	hl,de
1340  035C  E3          	ex	(sp), hl
1341  035D  E1          	pop	hl
1342  035E  ED 5B 00 00 	ld	de,(_curr_time)
1343  0362  E5          	push	hl
1344  0363  73          	ld	(hl),e
1345  0364  23          	inc	hl
1346  0365  72          	ld	(hl),d
1347  0366  11 00 00    	ld	de,_sprite_speed_alt+0
1348  0369  69          	ld	l,c
1349  036A  26 00       	ld	h,0x00
1350  036C  19          	add	hl,de
1351  036D  F1          	pop	af
1352  036E  36 08       	ld	(hl),0x08
1353  0370  DD E1       	pop	ix
1354  0372  C9          	ret
1355  0373              	SECTION code_compiler
1356  0373              ;	---------------------------------
1357  0373              ; Function player_lost_life
1358  0373              ; ---------------------------------
1359  0373              _player_lost_life:
1360  0373  CD 00 00    	call	_sound_hit_enemy
1361  0376  01 00 00    	ld	bc,_game_lives+0
1362  0379  79          	ld	a,c
1363  037A  21 00 00    	ld	hl,_index_player
1364  037D  86          	add	a, (hl)
1365  037E  5F          	ld	e,a
1366  037F  78          	ld	a,b
1367  0380  CE 00       	adc	a,0x00
1368  0382  57          	ld	d,a
1369  0383  1A          	ld	a,(de)
1370  0384  C6 FF       	add	a,0xff
1371  0386  12          	ld	(de),a
1372  0387  79          	ld	a,c
1373  0388  86          	add	a, (hl)
1374  0389  5F          	ld	e,a
1375  038A  78          	ld	a,b
1376  038B  CE 00       	adc	a,0x00
1377  038D  57          	ld	d,a
1378  038E  1A          	ld	a,(de)
1379  038F  B7          	or	a, a
1380  0390  20 13       	jr	NZ,l_player_lost_life_00105
1381  0392  0A          	ld	a,(bc)
1382  0393  B7          	or	a, a
1383  0394  20 0B       	jr	NZ,l_player_lost_life_00102
1384  0396  3A 01 00    	ld	a, (_game_lives + 1)
1385  0399  B7          	or	a, a
1386  039A  20 05       	jr	NZ,l_player_lost_life_00102
1387  039C  21 00 00    	ld	hl,_game_over
1388  039F  36 01       	ld	(hl),0x01
1389  03A1              l_player_lost_life_00102:
1390  03A1  2E 00       	ld	l,0x00
1391  03A3  18 08       	jr	l_player_lost_life_00106
1392  03A5              l_player_lost_life_00105:
1393  03A5  CD 00 00    	call	_spr_check_over
1394  03A8  CD 00 00    	call	_game_print_lives
1395  03AB  2E 01       	ld	l,0x01
1396  03AD              l_player_lost_life_00106:
1397  03AD  C9          	ret
1398  03AE              	SECTION code_compiler
1399  03AE              ;	---------------------------------
1400  03AE              ; Function player_turn
1401  03AE              ; ---------------------------------
1402  03AE              _player_turn:
1403  03AE  2A 00 00    	ld	hl,(_sprite)
1404  03B1  26 00       	ld	h,0x00
1405  03B3  01 00 00    	ld	bc,_class
1406  03B6  09          	add	hl,bc
1407  03B7  7E          	ld	a,(hl)
1408  03B8  D6 10       	sub	a,0x10
1409  03BA  20 4F       	jr	NZ,l_player_turn_00110
1410  03BC  3A 00 00    	ld	a,(_phase_left)
1411  03BF  B7          	or	a, a
1412  03C0  28 49       	jr	Z,l_player_turn_00110
1413  03C2  2A 00 00    	ld	hl,(_index_player)
1414  03C5  26 00       	ld	h,0x00
1415  03C7  01 00 00    	ld	bc,_game_lives
1416  03CA  09          	add	hl,bc
1417  03CB  7E          	ld	a,(hl)
1418  03CC  B7          	or	a, a
1419  03CD  28 3C       	jr	Z,l_player_turn_00110
1420  03CF  21 00 00    	ld	hl,_sprite
1421  03D2  CD 00 00    	call	_spr_chktime
1422  03D5  7D          	ld	a,l
1423  03D6  B7          	or	a, a
1424  03D7  28 32       	jr	Z,l_player_turn_00110
1425  03D9  21 00 00    	ld	hl,_dirs
1426  03DC  36 00       	ld	(hl),0x00
1427  03DE  3A 00 00    	ld	a,(_sprite)
1428  03E1  D6 07       	sub	a,0x07
1429  03E3  20 11       	jr	NZ,l_player_turn_00102
1430  03E5  21 00 00    	ld	hl,_k1
1431  03E8  E5          	push	hl
1432  03E9  2A 00 00    	ld	hl,(_joyfunc1)
1433  03EC  CD 00 00    	call	___sdcc_call_hl
1434  03EF  F1          	pop	af
1435  03F0  7D          	ld	a,l
1436  03F1  32 00 00    	ld	(_dirs),a
1437  03F4  18 0F       	jr	l_player_turn_00103
1438  03F6              l_player_turn_00102:
1439  03F6  21 00 00    	ld	hl,_k1
1440  03F9  E5          	push	hl
1441  03FA  2A 00 00    	ld	hl,(_joyfunc2)
1442  03FD  CD 00 00    	call	___sdcc_call_hl
1443  0400  F1          	pop	af
1444  0401  7D          	ld	a,l
1445  0402  32 00 00    	ld	(_dirs),a
1446  0405              l_player_turn_00103:
1447  0405  CD 0C 04    	call	_player_move
1448  0408  CD 7A 01    	call	_player_collision
1449  040B              l_player_turn_00110:
1450  040B  C9          	ret
1451  040C              	SECTION code_compiler
1452  040C              ;	---------------------------------
1453  040C              ; Function player_move
1454  040C              ; ---------------------------------
1455  040C              _player_move:
1456  040C  CD 00 00    	call	___sdcc_enter_ix
1457  040F  F5          	push	af
1458  0410  3B          	dec	sp
1459  0411  2A 00 00    	ld	hl,(_sprite)
1460  0414  26 00       	ld	h,0x00
1461  0416  01 00 00    	ld	bc,_lin
1462  0419  09          	add	hl,bc
1463  041A  7E          	ld	a,(hl)
1464  041B  DD 77 FF    	ld	(ix-1),a
1465  041E  32 00 00    	ld	(_s_lin0),a
1466  0421  2A 00 00    	ld	hl,(_sprite)
1467  0424  26 00       	ld	h,0x00
1468  0426  01 00 00    	ld	bc,_col
1469  0429  09          	add	hl,bc
1470  042A  7E          	ld	a,(hl)
1471  042B  32 00 00    	ld	(_s_col0),a
1472  042E  3E 00       	ld	a,+((_tile) & 0xFF)
1473  0430  21 00 00    	ld	hl,_sprite
1474  0433  86          	add	a, (hl)
1475  0434  DD 77 FD    	ld	(ix-3),a
1476  0437  3E 00       	ld	a,+((_tile) / 256)
1477  0439  CE 00       	adc	a,0x00
1478  043B  DD 77 FE    	ld	(ix-2),a
1479  043E  E1          	pop	hl
1480  043F  4E          	ld	c,(hl)
1481  0440  E5          	push	hl
1482  0441  2A 00 00    	ld	hl,(_sprite)
1483  0444  26 00       	ld	h,0x00
1484  0446  11 00 00    	ld	de,_colint
1485  0449  19          	add	hl,de
1486  044A  7E          	ld	a,(hl)
1487  044B  81          	add	a,c
1488  044C  32 00 00    	ld	(_s_tile0),a
1489  044F  2A 00 00    	ld	hl,(_sprite)
1490  0452  26 00       	ld	h,0x00
1491  0454  01 00 00    	ld	bc,_state
1492  0457  09          	add	hl,bc
1493  0458  7E          	ld	a,(hl)
1494  0459  32 00 00    	ld	(_s_state),a
1495  045C  E6 20       	and	a,0x20
1496  045E  28 2E       	jr	Z,l_player_move_00104
1497  0460  3A 00 00    	ld	a,(_tile_offset)
1498  0463  C6 0A       	add	a,0x0a
1499  0465  E1          	pop	hl
1500  0466  E5          	push	hl
1501  0467  77          	ld	(hl),a
1502  0468  01 00 00    	ld	bc,_spr_timer+0
1503  046B  2A 00 00    	ld	hl,(_sprite)
1504  046E  26 00       	ld	h,0x00
1505  0470  29          	add	hl, hl
1506  0471  09          	add	hl,bc
1507  0472  4E          	ld	c,(hl)
1508  0473  23          	inc	hl
1509  0474  46          	ld	b,(hl)
1510  0475  21 28 00    	ld	hl,0x0028
1511  0478  E5          	push	hl
1512  0479  C5          	push	bc
1513  047A  CD 00 00    	call	_game_check_time
1514  047D  F1          	pop	af
1515  047E  F1          	pop	af
1516  047F  7D          	ld	a,l
1517  0480  B7          	or	a, a
1518  0481  28 06       	jr	Z,l_player_move_00102
1519  0483  2A 00 00    	ld	hl,(_sprite)
1520  0486  CD 00 00    	call	_spr_killed
1521  0489              l_player_move_00102:
1522  0489  2E 00       	ld	l,0x00
1523  048B  C3 05 08    	jp	l_player_move_00164
1524  048E              l_player_move_00104:
1525  048E  3A 00 00    	ld	a,(_s_state)
1526  0491  E6 10       	and	a,0x10
1527  0493  CA E9 05    	jp	Z,l_player_move_00121
1528  0496  DD 7E FF    	ld	a,(ix-1)
1529  0499  D6 10       	sub	a,0x10
1530  049B  30 12       	jr	NC,l_player_move_00112
1531  049D  2A 00 00    	ld	hl,(_sprite)
1532  04A0  26 00       	ld	h,0x00
1533  04A2  01 00 00    	ld	bc,_state_a
1534  04A5  09          	add	hl,bc
1535  04A6  7E          	ld	a,(hl)
1536  04A7  E6 FE       	and	a,0xfe
1537  04A9  77          	ld	(hl),a
1538  04AA  CD 00 00    	call	_spr_move_down
1539  04AD  18 72       	jr	l_player_move_00113
1540  04AF              l_player_move_00112:
1541  04AF  CD 5C 01    	call	_player_check_input
1542  04B2  7D          	ld	a,l
1543  04B3  B7          	or	a, a
1544  04B4  28 6B       	jr	Z,l_player_move_00113
1545  04B6  3A 00 00    	ld	a,(_dirs)
1546  04B9  E6 08       	and	a,0x08
1547  04BB  28 0D       	jr	Z,l_player_move_00106
1548  04BD  2A 00 00    	ld	hl,(_sprite)
1549  04C0  26 00       	ld	h,0x00
1550  04C2  01 00 00    	ld	bc,_state
1551  04C5  09          	add	hl,bc
1552  04C6  7E          	ld	a,(hl)
1553  04C7  F6 04       	or	a,0x04
1554  04C9  77          	ld	(hl),a
1555  04CA              l_player_move_00106:
1556  04CA  3A 00 00    	ld	a,(_dirs)
1557  04CD  E6 04       	and	a,0x04
1558  04CF  28 0D       	jr	Z,l_player_move_00108
1559  04D1  2A 00 00    	ld	hl,(_sprite)
1560  04D4  26 00       	ld	h,0x00
1561  04D6  01 00 00    	ld	bc,_state
1562  04D9  09          	add	hl,bc
1563  04DA  7E          	ld	a,(hl)
1564  04DB  F6 08       	or	a,0x08
1565  04DD  77          	ld	(hl),a
1566  04DE              l_player_move_00108:
1567  04DE  2A 00 00    	ld	hl,(_sprite)
1568  04E1  26 00       	ld	h,0x00
1569  04E3  01 00 00    	ld	bc,_state
1570  04E6  09          	add	hl,bc
1571  04E7  7E          	ld	a,(hl)
1572  04E8  E6 EF       	and	a,0xef
1573  04EA  77          	ld	(hl),a
1574  04EB  2A 00 00    	ld	hl,(_sprite)
1575  04EE  26 00       	ld	h,0x00
1576  04F0  01 00 00    	ld	bc,_state_a
1577  04F3  09          	add	hl,bc
1578  04F4  7E          	ld	a,(hl)
1579  04F5  E6 FE       	and	a,0xfe
1580  04F7  77          	ld	(hl),a
1581  04F8  76          	halt
1582  04F9  3A 00 00    	ld	a,(_s_col0)
1583  04FC  F5          	push	af
1584  04FD  33          	inc	sp
1585  04FE  21 A9 10    	ld	hl,0x10a9
1586  0501  E5          	push	hl
1587  0502  CD 00 00    	call	_NIRVANAP_drawT_callee
1588  0505  3A 00 00    	ld	a,(_s_col0)
1589  0508  F5          	push	af
1590  0509  33          	inc	sp
1591  050A  21 A9 20    	ld	hl,0x20a9
1592  050D  E5          	push	hl
1593  050E  CD 00 00    	call	_NIRVANAP_drawT_callee
1594  0511  2A 00 00    	ld	hl,(_sprite)
1595  0514  26 00       	ld	h,0x00
1596  0516  01 00 00    	ld	bc,_sprite_speed_alt
1597  0519  09          	add	hl,bc
1598  051A  AF          	xor	a,a
1599  051B  77          	ld	(hl),a
1600  051C  2E 00       	ld	l,0x00
1601  051E  C3 05 08    	jp	l_player_move_00164
1602  0521              l_player_move_00113:
1603  0521  CD 00 00    	call	_spr_redraw
1604  0524  ED 4B 00 00 	ld	bc,(_curr_time)
1605  0528  2A 00 00    	ld	hl,(_sprite)
1606  052B  26 00       	ld	h,0x00
1607  052D  29          	add	hl, hl
1608  052E  11 00 00    	ld	de,_spr_timer
1609  0531  19          	add	hl,de
1610  0532  5E          	ld	e,(hl)
1611  0533  23          	inc	hl
1612  0534  56          	ld	d,(hl)
1613  0535  69          	ld	l,c
1614  0536  60          	ld	h,b
1615  0537  AF          	xor	a,a
1616  0538  ED 52       	sbc	hl,de
1617  053A  22 00 00    	ld	(_tmp_ui),hl
1618  053D  21 00 00    	ld	hl,_tmp
1619  0540  36 00       	ld	(hl),0x00
1620  0542  3E 32       	ld	a,0x32
1621  0544  21 00 00    	ld	hl,_tmp_ui
1622  0547  BE          	cp	a, (hl)
1623  0548  3E 00       	ld	a,0x00
1624  054A  23          	inc	hl
1625  054B  9E          	sbc	a, (hl)
1626  054C  30 05       	jr	NC,l_player_move_00115
1627  054E  21 00 00    	ld	hl,_tmp
1628  0551  36 01       	ld	(hl),0x01
1629  0553              l_player_move_00115:
1630  0553  3E 64       	ld	a,0x64
1631  0555  21 00 00    	ld	hl,_tmp_ui
1632  0558  BE          	cp	a, (hl)
1633  0559  3E 00       	ld	a,0x00
1634  055B  23          	inc	hl
1635  055C  9E          	sbc	a, (hl)
1636  055D  30 05       	jr	NC,l_player_move_00117
1637  055F  21 00 00    	ld	hl,_tmp
1638  0562  36 02       	ld	(hl),0x02
1639  0564              l_player_move_00117:
1640  0564  76          	halt
1641  0565  2A 00 00    	ld	hl,(_sprite)
1642  0568  26 00       	ld	h,0x00
1643  056A  01 00 00    	ld	bc,_lin
1644  056D  09          	add	hl,bc
1645  056E  7E          	ld	a,(hl)
1646  056F  C6 10       	add	a,0x10
1647  0571  4D          	ld	c,l
1648  0572  57          	ld	d,a
1649  0573  3A 00 00    	ld	a,(_tmp)
1650  0576  C6 84       	add	a,0x84
1651  0578  47          	ld	b,a
1652  0579  3A 00 00    	ld	a,(_s_col0)
1653  057C  5A          	ld	e,d
1654  057D  57          	ld	d,a
1655  057E  D5          	push	de
1656  057F  C5          	push	bc
1657  0580  33          	inc	sp
1658  0581  CD 00 00    	call	_NIRVANAP_drawT_callee
1659  0584  3E 96       	ld	a,0x96
1660  0586  21 00 00    	ld	hl,_tmp_ui
1661  0589  BE          	cp	a, (hl)
1662  058A  3E 00       	ld	a,0x00
1663  058C  23          	inc	hl
1664  058D  9E          	sbc	a, (hl)
1665  058E  30 54       	jr	NC,l_player_move_00119
1666  0590  2A 00 00    	ld	hl,(_sprite)
1667  0593  26 00       	ld	h,0x00
1668  0595  01 00 00    	ld	bc,_lin
1669  0598  09          	add	hl,bc
1670  0599  4E          	ld	c, (hl)
1671  059A  3A 00 00    	ld	a, (_s_col0)
1672  059D  47          	ld	b,a
1673  059E  C5          	push	bc
1674  059F  3E A9       	ld	a,0xa9
1675  05A1  F5          	push	af
1676  05A2  33          	inc	sp
1677  05A3  CD 00 00    	call	_NIRVANAP_drawT_callee
1678  05A6  2A 00 00    	ld	hl,(_sprite)
1679  05A9  26 00       	ld	h,0x00
1680  05AB  01 00 00    	ld	bc,_lin
1681  05AE  09          	add	hl,bc
1682  05AF  7E          	ld	a,(hl)
1683  05B0  C6 10       	add	a,0x10
1684  05B2  4F          	ld	c, a
1685  05B3  3A 00 00    	ld	a, (_s_col0)
1686  05B6  47          	ld	b,a
1687  05B7  C5          	push	bc
1688  05B8  3E A9       	ld	a,0xa9
1689  05BA  F5          	push	af
1690  05BB  33          	inc	sp
1691  05BC  CD 00 00    	call	_NIRVANAP_drawT_callee
1692  05BF  2A 00 00    	ld	hl,(_sprite)
1693  05C2  26 00       	ld	h,0x00
1694  05C4  01 00 00    	ld	bc,_state
1695  05C7  09          	add	hl,bc
1696  05C8  7E          	ld	a,(hl)
1697  05C9  E6 EF       	and	a,0xef
1698  05CB  77          	ld	(hl),a
1699  05CC  2A 00 00    	ld	hl,(_sprite)
1700  05CF  26 00       	ld	h,0x00
1701  05D1  01 00 00    	ld	bc,_state
1702  05D4  09          	add	hl,bc
1703  05D5  7E          	ld	a,(hl)
1704  05D6  F6 01       	or	a,0x01
1705  05D8  77          	ld	(hl),a
1706  05D9  2A 00 00    	ld	hl,(_sprite)
1707  05DC  26 00       	ld	h,0x00
1708  05DE  01 00 00    	ld	bc,_sprite_speed_alt
1709  05E1  09          	add	hl,bc
1710  05E2  AF          	xor	a,a
1711  05E3  77          	ld	(hl),a
1712  05E4              l_player_move_00119:
1713  05E4  2E 00       	ld	l,0x00
1714  05E6  C3 05 08    	jp	l_player_move_00164
1715  05E9              l_player_move_00121:
1716  05E9  01 00 00    	ld	bc,_state_a+0
1717  05EC  2A 00 00    	ld	hl,(_sprite)
1718  05EF  26 00       	ld	h,0x00
1719  05F1  09          	add	hl,bc
1720  05F2  7E          	ld	a,(hl)
1721  05F3  0F          	rrca
1722  05F4  30 1B       	jr	NC,l_player_move_00126
1723  05F6  C5          	push	bc
1724  05F7  CD 5C 01    	call	_player_check_input
1725  05FA  C1          	pop	bc
1726  05FB  7D          	ld	a,l
1727  05FC  B7          	or	a, a
1728  05FD  28 0D       	jr	Z,l_player_move_00123
1729  05FF  2A 00 00    	ld	hl,(_sprite)
1730  0602  26 00       	ld	h,0x00
1731  0604  09          	add	hl,bc
1732  0605  7E          	ld	a,(hl)
1733  0606  EB          	ex	de,hl
1734  0607  E6 FE       	and	a,0xfe
1735  0609  12          	ld	(de),a
1736  060A  18 05       	jr	l_player_move_00126
1737  060C              l_player_move_00123:
1738  060C  2E 00       	ld	l,0x00
1739  060E  C3 05 08    	jp	l_player_move_00164
1740  0611              l_player_move_00126:
1741  0611  2A 00 00    	ld	hl,(_sprite)
1742  0614  26 00       	ld	h,0x00
1743  0616  09          	add	hl,bc
1744  0617  CB 56       	bit	2,(hl)
1745  0619  28 5E       	jr	Z,l_player_move_00130
1746  061B  2A 00 00    	ld	hl,(_sprite)
1747  061E  26 00       	ld	h,0x00
1748  0620  29          	add	hl, hl
1749  0621  11 00 00    	ld	de,_spr_timer
1750  0624  19          	add	hl,de
1751  0625  5E          	ld	e,(hl)
1752  0626  23          	inc	hl
1753  0627  56          	ld	d,(hl)
1754  0628  C5          	push	bc
1755  0629  21 14 00    	ld	hl,0x0014
1756  062C  E5          	push	hl
1757  062D  D5          	push	de
1758  062E  CD 00 00    	call	_game_check_time
1759  0631  F1          	pop	af
1760  0632  F1          	pop	af
1761  0633  C1          	pop	bc
1762  0634  7D          	ld	a,l
1763  0635  B7          	or	a, a
1764  0636  28 41       	jr	Z,l_player_move_00130
1765  0638  79          	ld	a,c
1766  0639  21 00 00    	ld	hl,_sprite
1767  063C  86          	add	a, (hl)
1768  063D  5F          	ld	e,a
1769  063E  78          	ld	a,b
1770  063F  CE 00       	adc	a,0x00
1771  0641  57          	ld	d,a
1772  0642  1A          	ld	a,(de)
1773  0643  E6 FB       	and	a,0xfb
1774  0645  12          	ld	(de),a
1775  0646  3E 00       	ld	a,+((_colint) & 0xFF)
1776  0648  86          	add	a, (hl)
1777  0649  5F          	ld	e,a
1778  064A  3E 00       	ld	a,+((_colint) / 256)
1779  064C  CE 00       	adc	a,0x00
1780  064E  57          	ld	d,a
1781  064F  AF          	xor	a, a
1782  0650  12          	ld	(de),a
1783  0651  3E 00       	ld	a,+((_tile) & 0xFF)
1784  0653  86          	add	a, (hl)
1785  0654  DD 77 FD    	ld	(ix-3),a
1786  0657  3E 00       	ld	a,+((_tile) / 256)
1787  0659  CE 00       	adc	a,0x00
1788  065B  DD 77 FE    	ld	(ix-2),a
1789  065E  3A 00 00    	ld	a,(_tile_offset)
1790  0661  5F          	ld	e,a
1791  0662  16 00       	ld	d,0x00
1792  0664  13          	inc	de
1793  0665  13          	inc	de
1794  0666  13          	inc	de
1795  0667  2A 00 00    	ld	hl,(_sprite)
1796  066A  C5          	push	bc
1797  066B  26 0C       	ld	h,0x0c
1798  066D  E5          	push	hl
1799  066E  D5          	push	de
1800  066F  CD 00 00    	call	_spr_tile_dir
1801  0672  F1          	pop	af
1802  0673  F1          	pop	af
1803  0674  C1          	pop	bc
1804  0675  5D          	ld	e,l
1805  0676  E1          	pop	hl
1806  0677  E5          	push	hl
1807  0678  73          	ld	(hl),e
1808  0679              l_player_move_00130:
1809  0679  C5          	push	bc
1810  067A  CD 0A 08    	call	_player_move_input
1811  067D  C1          	pop	bc
1812  067E  2A 00 00    	ld	hl,(_sprite)
1813  0681  26 00       	ld	h,0x00
1814  0683  11 00 00    	ld	de,_state
1815  0686  19          	add	hl,de
1816  0687  7E          	ld	a,(hl)
1817  0688  21 00 00    	ld	hl,_s_state
1818  068B  77          	ld	(hl),a
1819  068C  E6 01       	and	a,0x01
1820  068E  5F          	ld	e,a
1821  068F  B7          	or	a, a
1822  0690  20 59       	jr	NZ,l_player_move_00159
1823  0692  7E          	ld	a,(hl)
1824  0693  E6 02       	and	a,0x02
1825  0695  20 54       	jr	NZ,l_player_move_00159
1826  0697  2A 00 00    	ld	hl,(_sprite)
1827  069A  26 00       	ld	h,0x00
1828  069C  01 00 00    	ld	bc,_col
1829  069F  09          	add	hl,bc
1830  06A0  56          	ld	d, (hl)
1831  06A1  2A 00 00    	ld	hl,(_sprite)
1832  06A4  26 00       	ld	h,0x00
1833  06A6  01 00 00    	ld	bc,_lin
1834  06A9  09          	add	hl,bc
1835  06AA  7E          	ld	a,(hl)
1836  06AB  C6 10       	add	a,0x10
1837  06AD  5F          	ld	e, a
1838  06AE  D5          	push	de
1839  06AF  CD 00 00    	call	_game_calc_index
1840  06B2  F1          	pop	af
1841  06B3  3A 00 00    	ld	a,(_s_lin0)
1842  06B6  EB          	ex	de,hl
1843  06B7  D6 98       	sub	a,0x98
1844  06B9  20 03       	jr	NZ,l_player_move_00132
1845  06BB  11 00 00    	ld	de,0x0000
1846  06BE              l_player_move_00132:
1847  06BE  7A          	ld	a,d
1848  06BF  B3          	or	a,e
1849  06C0  CA D5 07    	jp	Z,l_player_move_00160
1850  06C3  01 00 00    	ld	bc,_lvl_1+0
1851  06C6  69          	ld	l, c
1852  06C7  60          	ld	h, b
1853  06C8  19          	add	hl,de
1854  06C9  7E          	ld	a, (hl)
1855  06CA  D6 10       	sub	a,0x10
1856  06CC  D2 D5 07    	jp	NC,l_player_move_00160
1857  06CF  EB          	ex	de,hl
1858  06D0  23          	inc	hl
1859  06D1  09          	add	hl,bc
1860  06D2  7E          	ld	a, (hl)
1861  06D3  D6 10       	sub	a,0x10
1862  06D5  D2 D5 07    	jp	NC,l_player_move_00160
1863  06D8  2A 00 00    	ld	hl,(_sprite)
1864  06DB  26 00       	ld	h,0x00
1865  06DD  01 00 00    	ld	bc,_sprite_speed_alt
1866  06E0  09          	add	hl,bc
1867  06E1  36 02       	ld	(hl),0x02
1868  06E3  21 00 00    	ld	hl,_s_state
1869  06E6  CB CE       	set	1, (hl)
1870  06E8  C3 D5 07    	jp	l_player_move_00160
1871  06EB              l_player_move_00159:
1872  06EB  21 00 00    	ld	hl,_sprite_lin_inc_mul
1873  06EE  36 02       	ld	(hl),0x02
1874  06F0  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
1875  06F2  21 00 00    	ld	hl,_index_player
1876  06F5  86          	add	a, (hl)
1877  06F6  DD 77 FD    	ld	(ix-3),a
1878  06F9  3E 00       	ld	a,+((_player_jump_c) / 256)
1879  06FB  CE 00       	adc	a,0x00
1880  06FD  DD 77 FE    	ld	(ix-2),a
1881  0700  E1          	pop	hl
1882  0701  56          	ld	d,(hl)
1883  0702  E5          	push	hl
1884  0703  3E 03       	ld	a,0x03
1885  0705  92          	sub	a, d
1886  0706  30 05       	jr	NC,l_player_move_00138
1887  0708  21 00 00    	ld	hl,_sprite_lin_inc_mul
1888  070B  36 01       	ld	(hl),0x01
1889  070D              l_player_move_00138:
1890  070D  3E 08       	ld	a,0x08
1891  070F  92          	sub	a, d
1892  0710  30 05       	jr	NC,l_player_move_00140
1893  0712  21 00 00    	ld	hl,_sprite_lin_inc_mul
1894  0715  36 00       	ld	(hl),0x00
1895  0717              l_player_move_00140:
1896  0717  3E 0C       	ld	a,0x0c
1897  0719  92          	sub	a, d
1898  071A  30 05       	jr	NC,l_player_move_00142
1899  071C  21 00 00    	ld	hl,_sprite_lin_inc_mul
1900  071F  36 01       	ld	(hl),0x01
1901  0721              l_player_move_00142:
1902  0721  3E 11       	ld	a,0x11
1903  0723  92          	sub	a, d
1904  0724  30 05       	jr	NC,l_player_move_00144
1905  0726  21 00 00    	ld	hl,_sprite_lin_inc_mul
1906  0729  36 02       	ld	(hl),0x02
1907  072B              l_player_move_00144:
1908  072B  7B          	ld	a,e
1909  072C  B7          	or	a, a
1910  072D  28 1B       	jr	Z,l_player_move_00156
1911  072F  7A          	ld	a,d
1912  0730  D6 0A       	sub	a,0x0a
1913  0732  30 11       	jr	NC,l_player_move_00148
1914  0734  2A 00 00    	ld	hl,(_sprite)
1915  0737  26 00       	ld	h,0x00
1916  0739  09          	add	hl,bc
1917  073A  7E          	ld	a,(hl)
1918  073B  07          	rlca
1919  073C  DA C3 07    	jp	C,l_player_move_00157
1920  073F  CD 00 00    	call	_spr_move_up
1921  0742  C3 C3 07    	jp	l_player_move_00157
1922  0745              l_player_move_00148:
1923  0745  CD 00 00    	call	_spr_set_fall
1924  0748  18 79       	jr	l_player_move_00157
1925  074A              l_player_move_00156:
1926  074A  C5          	push	bc
1927  074B  CD 00 00    	call	_spr_move_down
1928  074E  C1          	pop	bc
1929  074F  7D          	ld	a,l
1930  0750  B7          	or	a, a
1931  0751  28 70       	jr	Z,l_player_move_00157
1932  0753  21 00 00    	ld	hl,_s_state
1933  0756  CB 8E       	res	1, (hl)
1934  0758  2A 00 00    	ld	hl,(_sprite)
1935  075B  26 00       	ld	h,0x00
1936  075D  09          	add	hl,bc
1937  075E  7E          	ld	a,(hl)
1938  075F  E6 7F       	and	a,0x7f
1939  0761  77          	ld	(hl),a
1940  0762  2A 00 00    	ld	hl,(_index_player)
1941  0765  26 00       	ld	h,0x00
1942  0767  01 00 00    	ld	bc,_player_jump_c
1943  076A  09          	add	hl,bc
1944  076B  AF          	xor	a,a
1945  076C  77          	ld	(hl),a
1946  076D  2A 00 00    	ld	hl,(_sprite)
1947  0770  26 00       	ld	h,0x00
1948  0772  01 00 00    	ld	bc,_jump_lin
1949  0775  09          	add	hl,bc
1950  0776  AF          	xor	a,a
1951  0777  77          	ld	(hl),a
1952  0778  2A 00 00    	ld	hl,(_index_player)
1953  077B  26 00       	ld	h,0x00
1954  077D  01 00 00    	ld	bc,_sliding
1955  0780  09          	add	hl,bc
1956  0781  AF          	xor	a,a
1957  0782  77          	ld	(hl),a
1958  0783  2A 00 00    	ld	hl,(_sprite)
1959  0786  26 00       	ld	h,0x00
1960  0788  01 00 00    	ld	bc,_colint
1961  078B  09          	add	hl,bc
1962  078C  AF          	xor	a,a
1963  078D  77          	ld	(hl),a
1964  078E  2A 00 00    	ld	hl,(_sprite)
1965  0791  26 00       	ld	h,0x00
1966  0793  01 00 00    	ld	bc,_tile
1967  0796  09          	add	hl,bc
1968  0797  3A 00 00    	ld	a,(_tile_offset)
1969  079A  5F          	ld	e,a
1970  079B  16 00       	ld	d,0x00
1971  079D  4D          	ld	c,l
1972  079E  44          	ld	b,h
1973  079F  13          	inc	de
1974  07A0  13          	inc	de
1975  07A1  13          	inc	de
1976  07A2  2A 00 00    	ld	hl,(_sprite)
1977  07A5  C5          	push	bc
1978  07A6  26 0C       	ld	h,0x0c
1979  07A8  E5          	push	hl
1980  07A9  D5          	push	de
1981  07AA  CD 00 00    	call	_spr_tile_dir
1982  07AD  F1          	pop	af
1983  07AE  F1          	pop	af
1984  07AF  C1          	pop	bc
1985  07B0  7D          	ld	a, l
1986  07B1  02          	ld	(bc),a
1987  07B2  3A 00 00    	ld	a,(_s_state)
1988  07B5  E6 08       	and	a,0x08
1989  07B7  20 07       	jr	NZ,l_player_move_00150
1990  07B9  3A 00 00    	ld	a,(_s_state)
1991  07BC  E6 04       	and	a,0x04
1992  07BE  28 03       	jr	Z,l_player_move_00157
1993  07C0              l_player_move_00150:
1994  07C0  CD F7 00    	call	_player_calc_slide
1995  07C3              l_player_move_00157:
1996  07C3  21 00 00    	ld	hl,_sprite_lin_inc_mul
1997  07C6  36 00       	ld	(hl),0x00
1998  07C8  2A 00 00    	ld	hl,(_index_player)
1999  07CB  26 00       	ld	h,0x00
2000  07CD  01 00 00    	ld	bc,_player_jump_c
2001  07D0  09          	add	hl,bc
2002  07D1  34          	inc	(hl)
2003  07D2  CD A8 0A    	call	_player_move_horizontal
2004  07D5              l_player_move_00160:
2005  07D5  2A 00 00    	ld	hl,(_sprite)
2006  07D8  26 00       	ld	h,0x00
2007  07DA  29          	add	hl, hl
2008  07DB  11 00 00    	ld	de,_spr_timer
2009  07DE  19          	add	hl,de
2010  07DF  4E          	ld	c,(hl)
2011  07E0  23          	inc	hl
2012  07E1  46          	ld	b,(hl)
2013  07E2  21 04 00    	ld	hl,0x0004
2014  07E5  E5          	push	hl
2015  07E6  C5          	push	bc
2016  07E7  CD 00 00    	call	_game_check_time
2017  07EA  F1          	pop	af
2018  07EB  F1          	pop	af
2019  07EC  7D          	ld	a,l
2020  07ED  B7          	or	a, a
2021  07EE  28 03       	jr	Z,l_player_move_00163
2022  07F0  CD 7C 0D    	call	_player_hit_brick_clear
2023  07F3              l_player_move_00163:
2024  07F3  CD 00 00    	call	_spr_redraw
2025  07F6  2A 00 00    	ld	hl,(_sprite)
2026  07F9  26 00       	ld	h,0x00
2027  07FB  01 00 00    	ld	bc,_state
2028  07FE  09          	add	hl,bc
2029  07FF  3A 00 00    	ld	a,(_s_state)
2030  0802  77          	ld	(hl),a
2031  0803  2E 00       	ld	l,0x00
2032  0805              l_player_move_00164:
2033  0805  DD F9       	ld	sp, ix
2034  0807  DD E1       	pop	ix
2035  0809  C9          	ret
2036  080A              	SECTION code_compiler
2037  080A              ;	---------------------------------
2038  080A              ; Function player_move_input
2039  080A              ; ---------------------------------
2040  080A              _player_move_input:
2041  080A  3A 00 00    	ld	a,(_s_state)
2042  080D  0F          	rrca
2043  080E  38 07       	jr	C,l_player_move_input_00101
2044  0810  3A 00 00    	ld	a,(_s_state)
2045  0813  E6 02       	and	a,0x02
2046  0815  28 05       	jr	Z,l_player_move_input_00102
2047  0817              l_player_move_input_00101:
2048  0817  2E 00       	ld	l,0x00
2049  0819  C3 A7 0A    	jp	l_player_move_input_00135
2050  081C              l_player_move_input_00102:
2051  081C  CD 5C 01    	call	_player_check_input
2052  081F  7D          	ld	a,l
2053  0820  B7          	or	a, a
2054  0821  CA C3 09    	jp	Z,l_player_move_input_00131
2055  0824  2A 00 00    	ld	hl,(_index_player)
2056  0827  26 00       	ld	h,0x00
2057  0829  01 00 00    	ld	bc,_sliding
2058  082C  09          	add	hl,bc
2059  082D  46          	ld	b,(hl)
2060  082E  3A 00 00    	ld	a,(_dirs)
2061  0831  E6 80       	and	a,0x80
2062  0833  4F          	ld	c,a
2063  0834  78          	ld	a,b
2064  0835  B7          	or	a, a
2065  0836  28 05       	jr	Z,l_player_move_input_00130
2066  0838  79          	ld	a,c
2067  0839  B7          	or	a, a
2068  083A  CA C3 09    	jp	Z,l_player_move_input_00131
2069  083D              l_player_move_input_00130:
2070  083D  79          	ld	a,c
2071  083E  B7          	or	a, a
2072  083F  CA F0 08    	jp	Z,l_player_move_input_00110
2073  0842  CD 00 00    	call	_ay_is_playing
2074  0845  7D          	ld	a,l
2075  0846  D6 03       	sub	a,0x03
2076  0848  28 06       	jr	Z,l_player_move_input_00105
2077  084A  21 00 00    	ld	hl,_ay_effect_03
2078  084D  CD 00 00    	call	_ay_fx_play
2079  0850              l_player_move_input_00105:
2080  0850  CD 00 00    	call	_sound_jump
2081  0853  2A 00 00    	ld	hl,(_sprite)
2082  0856  26 00       	ld	h,0x00
2083  0858  01 00 00    	ld	bc,_state
2084  085B  09          	add	hl,bc
2085  085C  CB 56       	bit	2,(hl)
2086  085E  28 0D       	jr	Z,l_player_move_input_00107
2087  0860  2A 00 00    	ld	hl,(_sprite)
2088  0863  26 00       	ld	h,0x00
2089  0865  01 00 00    	ld	bc,_colint
2090  0868  09          	add	hl,bc
2091  0869  AF          	xor	a,a
2092  086A  77          	ld	(hl),a
2093  086B  18 0B       	jr	l_player_move_input_00108
2094  086D              l_player_move_input_00107:
2095  086D  2A 00 00    	ld	hl,(_sprite)
2096  0870  26 00       	ld	h,0x00
2097  0872  01 00 00    	ld	bc,_colint
2098  0875  09          	add	hl,bc
2099  0876  36 02       	ld	(hl),0x02
2100  0878              l_player_move_input_00108:
2101  0878  21 00 00    	ld	hl,_s_state
2102  087B  7E          	ld	a,(hl)
2103  087C  F6 01       	or	a,0x01
2104  087E  E6 FD       	and	a,0xfd
2105  0880  77          	ld	(hl),a
2106  0881  2A 00 00    	ld	hl,(_sprite)
2107  0884  26 00       	ld	h,0x00
2108  0886  01 00 00    	ld	bc,_jump_lin
2109  0889  09          	add	hl,bc
2110  088A  4D          	ld	c,l
2111  088B  44          	ld	b,h
2112  088C  2A 00 00    	ld	hl,(_sprite)
2113  088F  26 00       	ld	h,0x00
2114  0891  11 00 00    	ld	de,_lin
2115  0894  19          	add	hl,de
2116  0895  7E          	ld	a,(hl)
2117  0896  02          	ld	(bc),a
2118  0897  2A 00 00    	ld	hl,(_sprite)
2119  089A  26 00       	ld	h,0x00
2120  089C  01 00 00    	ld	bc,_state
2121  089F  09          	add	hl,bc
2122  08A0  3A 00 00    	ld	a,(_s_state)
2123  08A3  77          	ld	(hl),a
2124  08A4  2A 00 00    	ld	hl,(_sprite)
2125  08A7  26 00       	ld	h,0x00
2126  08A9  01 00 00    	ld	bc,_tile
2127  08AC  09          	add	hl,bc
2128  08AD  3A 00 00    	ld	a,(_tile_offset)
2129  08B0  5F          	ld	e,a
2130  08B1  16 00       	ld	d,0x00
2131  08B3  4D          	ld	c,l
2132  08B4  44          	ld	b,h
2133  08B5  21 07 00    	ld	hl,0x0007
2134  08B8  19          	add	hl,de
2135  08B9  EB          	ex	de,hl
2136  08BA  2A 00 00    	ld	hl,(_sprite)
2137  08BD  C5          	push	bc
2138  08BE  26 0C       	ld	h,0x0c
2139  08C0  E5          	push	hl
2140  08C1  D5          	push	de
2141  08C2  CD 00 00    	call	_spr_tile_dir
2142  08C5  F1          	pop	af
2143  08C6  F1          	pop	af
2144  08C7  C1          	pop	bc
2145  08C8  7D          	ld	a, l
2146  08C9  02          	ld	(bc),a
2147  08CA  2A 00 00    	ld	hl,(_sprite)
2148  08CD  26 00       	ld	h,0x00
2149  08CF  01 00 00    	ld	bc,_sprite_speed_alt
2150  08D2  09          	add	hl,bc
2151  08D3  36 02       	ld	(hl),0x02
2152  08D5  2A 00 00    	ld	hl,(_index_player)
2153  08D8  26 00       	ld	h,0x00
2154  08DA  01 00 00    	ld	bc,_player_jump_c
2155  08DD  09          	add	hl,bc
2156  08DE  AF          	xor	a,a
2157  08DF  77          	ld	(hl),a
2158  08E0  2A 00 00    	ld	hl,(_index_player)
2159  08E3  26 00       	ld	h,0x00
2160  08E5  01 00 00    	ld	bc,_sliding
2161  08E8  09          	add	hl,bc
2162  08E9  AF          	xor	a,a
2163  08EA  77          	ld	(hl),a
2164  08EB  2E 01       	ld	l,0x01
2165  08ED  C3 A7 0A    	jp	l_player_move_input_00135
2166  08F0              l_player_move_input_00110:
2167  08F0  3A 00 00    	ld	a,(_dirs)
2168  08F3  E6 08       	and	a,0x08
2169  08F5  28 3F       	jr	Z,l_player_move_input_00114
2170  08F7  3A 00 00    	ld	a,(_s_state)
2171  08FA  E6 08       	and	a,0x08
2172  08FC  28 08       	jr	Z,l_player_move_input_00112
2173  08FE  CD F7 00    	call	_player_calc_slide
2174  0901  2E 01       	ld	l,0x01
2175  0903  C3 A7 0A    	jp	l_player_move_input_00135
2176  0906              l_player_move_input_00112:
2177  0906  21 00 00    	ld	hl,_s_state
2178  0909  7E          	ld	a,(hl)
2179  090A  F6 04       	or	a,0x04
2180  090C  E6 F7       	and	a,0xf7
2181  090E  77          	ld	(hl),a
2182  090F  01 00 00    	ld	bc,_state_a+0
2183  0912  79          	ld	a,c
2184  0913  21 00 00    	ld	hl,_sprite
2185  0916  86          	add	a, (hl)
2186  0917  5F          	ld	e,a
2187  0918  78          	ld	a,b
2188  0919  CE 00       	adc	a,0x00
2189  091B  57          	ld	d,a
2190  091C  1A          	ld	a,(de)
2191  091D  F6 10       	or	a,0x10
2192  091F  12          	ld	(de),a
2193  0920  79          	ld	a,c
2194  0921  86          	add	a, (hl)
2195  0922  5F          	ld	e,a
2196  0923  78          	ld	a,b
2197  0924  CE 00       	adc	a,0x00
2198  0926  57          	ld	d,a
2199  0927  1A          	ld	a,(de)
2200  0928  E6 F7       	and	a,0xf7
2201  092A  12          	ld	(de),a
2202  092B  79          	ld	a,c
2203  092C  86          	add	a, (hl)
2204  092D  4F          	ld	c,a
2205  092E  78          	ld	a,b
2206  092F  CE 00       	adc	a,0x00
2207  0931  47          	ld	b,a
2208  0932  0A          	ld	a,(bc)
2209  0933  F6 20       	or	a,0x20
2210  0935  02          	ld	(bc),a
2211  0936              l_player_move_input_00114:
2212  0936  3A 00 00    	ld	a,(_dirs)
2213  0939  E6 04       	and	a,0x04
2214  093B  28 3F       	jr	Z,l_player_move_input_00118
2215  093D  3A 00 00    	ld	a,(_s_state)
2216  0940  E6 04       	and	a,0x04
2217  0942  28 08       	jr	Z,l_player_move_input_00116
2218  0944  CD F7 00    	call	_player_calc_slide
2219  0947  2E 01       	ld	l,0x01
2220  0949  C3 A7 0A    	jp	l_player_move_input_00135
2221  094C              l_player_move_input_00116:
2222  094C  21 00 00    	ld	hl,_s_state
2223  094F  7E          	ld	a,(hl)
2224  0950  F6 08       	or	a,0x08
2225  0952  E6 FB       	and	a,0xfb
2226  0954  77          	ld	(hl),a
2227  0955  01 00 00    	ld	bc,_state_a+0
2228  0958  79          	ld	a,c
2229  0959  21 00 00    	ld	hl,_sprite
2230  095C  86          	add	a, (hl)
2231  095D  5F          	ld	e,a
2232  095E  78          	ld	a,b
2233  095F  CE 00       	adc	a,0x00
2234  0961  57          	ld	d,a
2235  0962  1A          	ld	a,(de)
2236  0963  F6 08       	or	a,0x08
2237  0965  12          	ld	(de),a
2238  0966  79          	ld	a,c
2239  0967  86          	add	a, (hl)
2240  0968  5F          	ld	e,a
2241  0969  78          	ld	a,b
2242  096A  CE 00       	adc	a,0x00
2243  096C  57          	ld	d,a
2244  096D  1A          	ld	a,(de)
2245  096E  E6 EF       	and	a,0xef
2246  0970  12          	ld	(de),a
2247  0971  79          	ld	a,c
2248  0972  86          	add	a, (hl)
2249  0973  4F          	ld	c,a
2250  0974  78          	ld	a,b
2251  0975  CE 00       	adc	a,0x00
2252  0977  47          	ld	b,a
2253  0978  0A          	ld	a,(bc)
2254  0979  F6 20       	or	a,0x20
2255  097B  02          	ld	(bc),a
2256  097C              l_player_move_input_00118:
2257  097C  2A 00 00    	ld	hl,(_sprite)
2258  097F  26 00       	ld	h,0x00
2259  0981  01 00 00    	ld	bc,_state
2260  0984  09          	add	hl,bc
2261  0985  3A 00 00    	ld	a,(_s_state)
2262  0988  77          	ld	(hl),a
2263  0989  2A 00 00    	ld	hl,(_sprite)
2264  098C  26 00       	ld	h,0x00
2265  098E  01 00 00    	ld	bc,_tile
2266  0991  09          	add	hl,bc
2267  0992  3A 00 00    	ld	a,(_tile_offset)
2268  0995  5F          	ld	e,a
2269  0996  16 00       	ld	d,0x00
2270  0998  E5          	push	hl
2271  0999  2A 00 00    	ld	hl,(_sprite)
2272  099C  26 0C       	ld	h,0x0c
2273  099E  E5          	push	hl
2274  099F  D5          	push	de
2275  09A0  CD 00 00    	call	_spr_tile_dir
2276  09A3  F1          	pop	af
2277  09A4  F1          	pop	af
2278  09A5  C1          	pop	bc
2279  09A6  7D          	ld	a, l
2280  09A7  02          	ld	(bc),a
2281  09A8  CD 00 00    	call	_ay_is_playing
2282  09AB  7D          	ld	a,l
2283  09AC  B7          	or	a, a
2284  09AD  20 0C       	jr	NZ,l_player_move_input_00120
2285  09AF  3A 00 00    	ld	a,(_game_bonus)
2286  09B2  B7          	or	a, a
2287  09B3  20 06       	jr	NZ,l_player_move_input_00120
2288  09B5  21 00 00    	ld	hl,_ay_effect_20
2289  09B8  CD 00 00    	call	_ay_fx_play
2290  09BB              l_player_move_input_00120:
2291  09BB  CD A8 0A    	call	_player_move_horizontal
2292  09BE  2E 01       	ld	l,0x01
2293  09C0  C3 A7 0A    	jp	l_player_move_input_00135
2294  09C3              l_player_move_input_00131:
2295  09C3  2A 00 00    	ld	hl,(_sprite)
2296  09C6  26 00       	ld	h,0x00
2297  09C8  01 00 00    	ld	bc,_state_a
2298  09CB  09          	add	hl,bc
2299  09CC  CB 6E       	bit	5,(hl)
2300  09CE  28 10       	jr	Z,l_player_move_input_00123
2301  09D0  CD F7 00    	call	_player_calc_slide
2302  09D3  2A 00 00    	ld	hl,(_sprite)
2303  09D6  26 00       	ld	h,0x00
2304  09D8  01 00 00    	ld	bc,_state_a
2305  09DB  09          	add	hl,bc
2306  09DC  7E          	ld	a,(hl)
2307  09DD  E6 DF       	and	a,0xdf
2308  09DF  77          	ld	(hl),a
2309  09E0              l_player_move_input_00123:
2310  09E0  2A 00 00    	ld	hl,(_index_player)
2311  09E3  26 00       	ld	h,0x00
2312  09E5  01 00 00    	ld	bc,_sliding
2313  09E8  09          	add	hl,bc
2314  09E9  7E          	ld	a,(hl)
2315  09EA  B7          	or	a, a
2316  09EB  CA A5 0A    	jp	Z,l_player_move_input_00129
2317  09EE  CD 00 00    	call	_ay_is_playing
2318  09F1  7D          	ld	a,l
2319  09F2  D6 03       	sub	a,0x03
2320  09F4  28 06       	jr	Z,l_player_move_input_00125
2321  09F6  21 00 00    	ld	hl,_ay_effect_01
2322  09F9  CD 00 00    	call	_ay_fx_play
2323  09FC              l_player_move_input_00125:
2324  09FC  CD 00 00    	call	_sound_slide
2325  09FF  CD A8 0A    	call	_player_move_horizontal
2326  0A02  2A 00 00    	ld	hl,(_index_player)
2327  0A05  26 00       	ld	h,0x00
2328  0A07  01 00 00    	ld	bc,_sliding
2329  0A0A  09          	add	hl,bc
2330  0A0B  7E          	ld	a,(hl)
2331  0A0C  C6 FF       	add	a,0xff
2332  0A0E  77          	ld	(hl),a
2333  0A0F  2A 00 00    	ld	hl,(_sprite)
2334  0A12  26 00       	ld	h,0x00
2335  0A14  01 00 00    	ld	bc,_sprite_speed_alt
2336  0A17  09          	add	hl,bc
2337  0A18  AF          	xor	a,a
2338  0A19  77          	ld	(hl),a
2339  0A1A  2A 00 00    	ld	hl,(_sprite)
2340  0A1D  26 00       	ld	h,0x00
2341  0A1F  01 00 00    	ld	bc,_tile
2342  0A22  09          	add	hl,bc
2343  0A23  3A 00 00    	ld	a,(_tile_offset)
2344  0A26  5F          	ld	e,a
2345  0A27  16 00       	ld	d,0x00
2346  0A29  4D          	ld	c,l
2347  0A2A  44          	ld	b,h
2348  0A2B  13          	inc	de
2349  0A2C  13          	inc	de
2350  0A2D  13          	inc	de
2351  0A2E  13          	inc	de
2352  0A2F  2A 00 00    	ld	hl,(_sprite)
2353  0A32  C5          	push	bc
2354  0A33  26 0C       	ld	h,0x0c
2355  0A35  E5          	push	hl
2356  0A36  D5          	push	de
2357  0A37  CD 00 00    	call	_spr_tile_dir
2358  0A3A  F1          	pop	af
2359  0A3B  F1          	pop	af
2360  0A3C  C1          	pop	bc
2361  0A3D  7D          	ld	a, l
2362  0A3E  02          	ld	(bc),a
2363  0A3F  2A 00 00    	ld	hl,(_index_player)
2364  0A42  26 00       	ld	h,0x00
2365  0A44  01 00 00    	ld	bc,_sliding
2366  0A47  09          	add	hl,bc
2367  0A48  7E          	ld	a,(hl)
2368  0A49  B7          	or	a, a
2369  0A4A  20 59       	jr	NZ,l_player_move_input_00129
2370  0A4C  01 00 00    	ld	bc,_spr_timer+0
2371  0A4F  2A 00 00    	ld	hl,(_sprite)
2372  0A52  26 00       	ld	h,0x00
2373  0A54  29          	add	hl, hl
2374  0A55  09          	add	hl,bc
2375  0A56  AF          	xor	a, a
2376  0A57  77          	ld	(hl), a
2377  0A58  23          	inc	hl
2378  0A59  77          	ld	(hl), a
2379  0A5A  2A 00 00    	ld	hl,(_sprite)
2380  0A5D  26 00       	ld	h,0x00
2381  0A5F  01 00 00    	ld	bc,_colint
2382  0A62  09          	add	hl,bc
2383  0A63  AF          	xor	a,a
2384  0A64  77          	ld	(hl),a
2385  0A65  2A 00 00    	ld	hl,(_sprite)
2386  0A68  26 00       	ld	h,0x00
2387  0A6A  01 00 00    	ld	bc,_tile
2388  0A6D  09          	add	hl,bc
2389  0A6E  3A 00 00    	ld	a,(_tile_offset)
2390  0A71  5F          	ld	e,a
2391  0A72  16 00       	ld	d,0x00
2392  0A74  4D          	ld	c,l
2393  0A75  44          	ld	b,h
2394  0A76  13          	inc	de
2395  0A77  13          	inc	de
2396  0A78  13          	inc	de
2397  0A79  2A 00 00    	ld	hl,(_sprite)
2398  0A7C  C5          	push	bc
2399  0A7D  26 0C       	ld	h,0x0c
2400  0A7F  E5          	push	hl
2401  0A80  D5          	push	de
2402  0A81  CD 00 00    	call	_spr_tile_dir
2403  0A84  F1          	pop	af
2404  0A85  F1          	pop	af
2405  0A86  C1          	pop	bc
2406  0A87  7D          	ld	a, l
2407  0A88  02          	ld	(bc),a
2408  0A89  01 00 00    	ld	bc,_state+0
2409  0A8C  79          	ld	a,c
2410  0A8D  21 00 00    	ld	hl,_sprite
2411  0A90  86          	add	a, (hl)
2412  0A91  5F          	ld	e,a
2413  0A92  78          	ld	a,b
2414  0A93  CE 00       	adc	a,0x00
2415  0A95  57          	ld	d,a
2416  0A96  1A          	ld	a,(de)
2417  0A97  E6 FB       	and	a,0xfb
2418  0A99  12          	ld	(de),a
2419  0A9A  79          	ld	a,c
2420  0A9B  86          	add	a, (hl)
2421  0A9C  4F          	ld	c,a
2422  0A9D  78          	ld	a,b
2423  0A9E  CE 00       	adc	a,0x00
2424  0AA0  47          	ld	b,a
2425  0AA1  0A          	ld	a,(bc)
2426  0AA2  E6 F7       	and	a,0xf7
2427  0AA4  02          	ld	(bc),a
2428  0AA5              l_player_move_input_00129:
2429  0AA5  2E 00       	ld	l,0x00
2430  0AA7              l_player_move_input_00135:
2431  0AA7  C9          	ret
2432  0AA8              	SECTION code_compiler
2433  0AA8              ;	---------------------------------
2434  0AA8              ; Function player_move_horizontal
2435  0AA8              ; ---------------------------------
2436  0AA8              _player_move_horizontal:
2437  0AA8  CD B8 0A    	call	_player_push_check
2438  0AAB  7D          	ld	a,l
2439  0AAC  B7          	or	a, a
2440  0AAD  28 05       	jr	Z,l_player_move_horizontal_00102
2441  0AAF  CD 24 0B    	call	_player_push
2442  0AB2  18 03       	jr	l_player_move_horizontal_00104
2443  0AB4              l_player_move_horizontal_00102:
2444  0AB4  CD 00 00    	call	_spr_move_horizontal
2445  0AB7              l_player_move_horizontal_00104:
2446  0AB7  C9          	ret
2447  0AB8              	SECTION code_compiler
2448  0AB8              ;	---------------------------------
2449  0AB8              ; Function player_push_check
2450  0AB8              ; ---------------------------------
2451  0AB8              _player_push_check:
2452  0AB8  2A 00 00    	ld	hl,(_sprite_other_player)
2453  0ABB  26 00       	ld	h,0x00
2454  0ABD  01 00 00    	ld	bc,_lin
2455  0AC0  09          	add	hl,bc
2456  0AC1  7E          	ld	a,(hl)
2457  0AC2  4F          	ld	c,a
2458  0AC3  B7          	or	a,a
2459  0AC4  20 03       	jr	NZ,l_player_push_check_00102
2460  0AC6  6F          	ld	l,a
2461  0AC7  18 5A       	jr	l_player_push_check_00111
2462  0AC9              l_player_push_check_00102:
2463  0AC9  2A 00 00    	ld	hl,(_sprite)
2464  0ACC  26 00       	ld	h,0x00
2465  0ACE  11 00 00    	ld	de,_lin
2466  0AD1  19          	add	hl,de
2467  0AD2  7E          	ld	a,(hl)
2468  0AD3  EB          	ex	de,hl
2469  0AD4  47          	ld	b,a
2470  0AD5  79          	ld	a,c
2471  0AD6  90          	sub	a, b
2472  0AD7  28 04       	jr	Z,l_player_push_check_00104
2473  0AD9  2E 00       	ld	l,0x00
2474  0ADB  18 46       	jr	l_player_push_check_00111
2475  0ADD              l_player_push_check_00104:
2476  0ADD  01 00 00    	ld	bc,_col+0
2477  0AE0  2A 00 00    	ld	hl,(_sprite)
2478  0AE3  26 00       	ld	h,0x00
2479  0AE5  09          	add	hl,bc
2480  0AE6  6E          	ld	l, (hl)
2481  0AE7  EB          	ex	de,hl
2482  0AE8  2A 00 00    	ld	hl,(_sprite_other_player)
2483  0AEB  26 00       	ld	h,0x00
2484  0AED  09          	add	hl,bc
2485  0AEE  4E          	ld	c, (hl)
2486  0AEF  7B          	ld	a,e
2487  0AF0  91          	sub	a, c
2488  0AF1  32 00 00    	ld	(_tmp_sc),a
2489  0AF4  D6 FE       	sub	a,0xfe
2490  0AF6  20 11       	jr	NZ,l_player_push_check_00106
2491  0AF8  2A 00 00    	ld	hl,(_sprite)
2492  0AFB  26 00       	ld	h,0x00
2493  0AFD  01 00 00    	ld	bc,_state
2494  0B00  09          	add	hl,bc
2495  0B01  CB 56       	bit	2,(hl)
2496  0B03  28 04       	jr	Z,l_player_push_check_00106
2497  0B05  2E 01       	ld	l,0x01
2498  0B07  18 1A       	jr	l_player_push_check_00111
2499  0B09              l_player_push_check_00106:
2500  0B09  3A 00 00    	ld	a,(_tmp_sc)
2501  0B0C  D6 02       	sub	a,0x02
2502  0B0E  20 11       	jr	NZ,l_player_push_check_00109
2503  0B10  2A 00 00    	ld	hl,(_sprite)
2504  0B13  26 00       	ld	h,0x00
2505  0B15  01 00 00    	ld	bc,_state
2506  0B18  09          	add	hl,bc
2507  0B19  CB 5E       	bit	3,(hl)
2508  0B1B  28 04       	jr	Z,l_player_push_check_00109
2509  0B1D  2E 01       	ld	l,0x01
2510  0B1F  18 02       	jr	l_player_push_check_00111
2511  0B21              l_player_push_check_00109:
2512  0B21  2E 00       	ld	l,0x00
2513  0B23              l_player_push_check_00111:
2514  0B23  C9          	ret
2515  0B24              	SECTION code_compiler
2516  0B24              ;	---------------------------------
2517  0B24              ; Function player_push
2518  0B24              ; ---------------------------------
2519  0B24              _player_push:
2520  0B24  3A 00 00    	ld	a,(_sprite)
2521  0B27  32 00 00    	ld	(_tmp),a
2522  0B2A  3A 00 00    	ld	a,(_s_col0)
2523  0B2D  32 00 00    	ld	(_tmp0),a
2524  0B30  2A 00 00    	ld	hl,(_sprite_other_player)
2525  0B33  26 00       	ld	h,0x00
2526  0B35  01 00 00    	ld	bc,_lin
2527  0B38  09          	add	hl,bc
2528  0B39  7E          	ld	a,(hl)
2529  0B3A  32 00 00    	ld	(_s_lin0),a
2530  0B3D  2A 00 00    	ld	hl,(_sprite_other_player)
2531  0B40  26 00       	ld	h,0x00
2532  0B42  01 00 00    	ld	bc,_col
2533  0B45  09          	add	hl,bc
2534  0B46  7E          	ld	a,(hl)
2535  0B47  32 00 00    	ld	(_s_col0),a
2536  0B4A  01 00 00    	ld	bc,_spr_timer+0
2537  0B4D  2A 00 00    	ld	hl,(_sprite_other_player)
2538  0B50  26 00       	ld	h,0x00
2539  0B52  29          	add	hl, hl
2540  0B53  09          	add	hl,bc
2541  0B54  ED 5B 00 00 	ld	de,(_curr_time)
2542  0B58  73          	ld	(hl),e
2543  0B59  23          	inc	hl
2544  0B5A  72          	ld	(hl),d
2545  0B5B  2A 00 00    	ld	hl,(_sprite_other_player)
2546  0B5E  26 00       	ld	h,0x00
2547  0B60  01 00 00    	ld	bc,_state_a
2548  0B63  09          	add	hl,bc
2549  0B64  7E          	ld	a,(hl)
2550  0B65  F6 04       	or	a,0x04
2551  0B67  77          	ld	(hl),a
2552  0B68  3A 00 00    	ld	a,(_sprite_other_player)
2553  0B6B  32 00 00    	ld	(_sprite),a
2554  0B6E  2A 00 00    	ld	hl,(_tmp)
2555  0B71  26 00       	ld	h,0x00
2556  0B73  01 00 00    	ld	bc,_state
2557  0B76  09          	add	hl,bc
2558  0B77  CB 56       	bit	2,(hl)
2559  0B79  28 05       	jr	Z,l_player_push_00102
2560  0B7B  CD 00 00    	call	_spr_move_right
2561  0B7E  18 03       	jr	l_player_push_00103
2562  0B80              l_player_push_00102:
2563  0B80  CD 00 00    	call	_spr_move_left
2564  0B83              l_player_push_00103:
2565  0B83  CD 00 00    	call	_spr_redraw
2566  0B86  3A 00 00    	ld	a,(_tmp)
2567  0B89  32 00 00    	ld	(_sprite),a
2568  0B8C  C6 00       	add	a,+((_lin) & 0xFF)
2569  0B8E  4F          	ld	c,a
2570  0B8F  3E 00       	ld	a,+((_lin) / 256)
2571  0B91  CE 00       	adc	a,0x00
2572  0B93  47          	ld	b,a
2573  0B94  0A          	ld	a,(bc)
2574  0B95  32 00 00    	ld	(_s_lin0),a
2575  0B98  3A 00 00    	ld	a,(_tmp0)
2576  0B9B  32 00 00    	ld	(_s_col0),a
2577  0B9E  C9          	ret
2578  0B9F              	SECTION code_compiler
2579  0B9F              ;	---------------------------------
2580  0B9F              ; Function player_hit_brick
2581  0B9F              ; ---------------------------------
2582  0B9F              _player_hit_brick:
2583  0B9F  2A 00 00    	ld	hl,(_index_player)
2584  0BA2  26 00       	ld	h,0x00
2585  0BA4  01 00 00    	ld	bc,_hit_lin
2586  0BA7  09          	add	hl,bc
2587  0BA8  7E          	ld	a,(hl)
2588  0BA9  B7          	or	a, a
2589  0BAA  C2 79 0D    	jp	NZ,l_player_hit_brick_00112
2590  0BAD  2A 00 00    	ld	hl,(_sprite)
2591  0BB0  26 00       	ld	h,0x00
2592  0BB2  01 00 00    	ld	bc,_lin
2593  0BB5  09          	add	hl,bc
2594  0BB6  5E          	ld	e,(hl)
2595  0BB7  3E 10       	ld	a,0x10
2596  0BB9  93          	sub	a,e
2597  0BBA  D2 79 0D    	jp	NC,l_player_hit_brick_00112
2598  0BBD  4D          	ld	c,l
2599  0BBE  44          	ld	b,h
2600  0BBF  21 00 00    	ld	hl,_enemies
2601  0BC2  36 00       	ld	(hl),0x00
2602  0BC4              l_player_hit_brick_00114:
2603  0BC4  2A 00 00    	ld	hl,(_enemies)
2604  0BC7  26 00       	ld	h,0x00
2605  0BC9  11 00 00    	ld	de,_class
2606  0BCC  19          	add	hl,de
2607  0BCD  7E          	ld	a,(hl)
2608  0BCE  B7          	or	a,a
2609  0BCF  28 5E       	jr	Z,l_player_hit_brick_00115
2610  0BD1  0A          	ld	a,(bc)
2611  0BD2  4F          	ld	c,a
2612  0BD3  06 00       	ld	b,0x00
2613  0BD5  2A 00 00    	ld	hl,(_enemies)
2614  0BD8  60          	ld	h,b
2615  0BD9  11 00 00    	ld	de,_lin
2616  0BDC  19          	add	hl,de
2617  0BDD  5E          	ld	e, (hl)
2618  0BDE  16 00       	ld	d,0x00
2619  0BE0  79          	ld	a,c
2620  0BE1  93          	sub	a,e
2621  0BE2  4F          	ld	c,a
2622  0BE3  78          	ld	a,b
2623  0BE4  9A          	sbc	a,d
2624  0BE5  47          	ld	b,a
2625  0BE6  79          	ld	a,c
2626  0BE7  D6 18       	sub	a,0x18
2627  0BE9  20 44       	jr	NZ,l_player_hit_brick_00115
2628  0BEB  B0          	or	a,b
2629  0BEC  20 41       	jr	NZ,l_player_hit_brick_00115
2630  0BEE  2A 00 00    	ld	hl,(_enemies)
2631  0BF1  26 00       	ld	h,0x00
2632  0BF3  01 00 00    	ld	bc,_state
2633  0BF6  09          	add	hl,bc
2634  0BF7  CB 6E       	bit	5,(hl)
2635  0BF9  20 34       	jr	NZ,l_player_hit_brick_00115
2636  0BFB  2A 00 00    	ld	hl,(_sprite)
2637  0BFE  26 00       	ld	h,0x00
2638  0C00  01 00 00    	ld	bc,_col
2639  0C03  09          	add	hl,bc
2640  0C04  4E          	ld	c,(hl)
2641  0C05  06 00       	ld	b,0x00
2642  0C07  2A 00 00    	ld	hl,(_enemies)
2643  0C0A  60          	ld	h,b
2644  0C0B  11 00 00    	ld	de,_col
2645  0C0E  19          	add	hl,de
2646  0C0F  5E          	ld	e, (hl)
2647  0C10  16 00       	ld	d,0x00
2648  0C12  79          	ld	a,c
2649  0C13  93          	sub	a, e
2650  0C14  6F          	ld	l,a
2651  0C15  78          	ld	a,b
2652  0C16  9A          	sbc	a, d
2653  0C17  67          	ld	h,a
2654  0C18  CD 00 00    	call	_abs_fastcall
2655  0C1B  3E 02       	ld	a,0x02
2656  0C1D  BD          	cp	a,l
2657  0C1E  3E 00       	ld	a,0x00
2658  0C20  9C          	sbc	a,h
2659  0C21  E2 26 0C    	jp	PO, l_player_hit_brick_00166
2660  0C24  EE 80       	xor	a,0x80
2661  0C26              l_player_hit_brick_00166:
2662  0C26  FA 2F 0C    	jp	M,l_player_hit_brick_00115
2663  0C29  CD 00 00    	call	_enemy_hit
2664  0C2C  CD 00 00    	call	_sound_hit_enemy
2665  0C2F              l_player_hit_brick_00115:
2666  0C2F  21 00 00    	ld	hl,_enemies
2667  0C32  34          	inc	(hl)
2668  0C33  2A 00 00    	ld	hl,(_sprite)
2669  0C36  26 00       	ld	h,0x00
2670  0C38  01 00 00    	ld	bc,_lin
2671  0C3B  09          	add	hl,bc
2672  0C3C  3A 00 00    	ld	a,(_enemies)
2673  0C3F  D6 06       	sub	a,0x06
2674  0C41  4D          	ld	c,l
2675  0C42  44          	ld	b,h
2676  0C43  DA C4 0B    	jp	C,l_player_hit_brick_00114
2677  0C46  2A 00 00    	ld	hl,(_sprite_other_player)
2678  0C49  26 00       	ld	h,0x00
2679  0C4B  11 00 00    	ld	de,_lin
2680  0C4E  19          	add	hl,de
2681  0C4F  7E          	ld	a,(hl)
2682  0C50  5F          	ld	e,a
2683  0C51  B7          	or	a, a
2684  0C52  CA 18 0D    	jp	Z,l_player_hit_brick_00108
2685  0C55  0A          	ld	a,(bc)
2686  0C56  6F          	ld	l,a
2687  0C57  AF          	xor	a,a
2688  0C58  67          	ld	h,a
2689  0C59  57          	ld	d,a
2690  0C5A  ED 52       	sbc	hl,de
2691  0C5C  7D          	ld	a,l
2692  0C5D  D6 18       	sub	a,0x18
2693  0C5F  C2 18 0D    	jp	NZ,l_player_hit_brick_00108
2694  0C62  B4          	or	a,h
2695  0C63  C2 18 0D    	jp	NZ,l_player_hit_brick_00108
2696  0C66  2A 00 00    	ld	hl,(_sprite)
2697  0C69  26 00       	ld	h,0x00
2698  0C6B  01 00 00    	ld	bc,_col
2699  0C6E  09          	add	hl,bc
2700  0C6F  4E          	ld	c,(hl)
2701  0C70  06 00       	ld	b,0x00
2702  0C72  2A 00 00    	ld	hl,(_sprite_other_player)
2703  0C75  60          	ld	h,b
2704  0C76  11 00 00    	ld	de,_col
2705  0C79  19          	add	hl,de
2706  0C7A  5E          	ld	e, (hl)
2707  0C7B  16 00       	ld	d,0x00
2708  0C7D  79          	ld	a,c
2709  0C7E  93          	sub	a, e
2710  0C7F  6F          	ld	l,a
2711  0C80  78          	ld	a,b
2712  0C81  9A          	sbc	a, d
2713  0C82  67          	ld	h,a
2714  0C83  CD 00 00    	call	_abs_fastcall
2715  0C86  3E 02       	ld	a,0x02
2716  0C88  BD          	cp	a,l
2717  0C89  3E 00       	ld	a,0x00
2718  0C8B  9C          	sbc	a,h
2719  0C8C  E2 91 0C    	jp	PO, l_player_hit_brick_00169
2720  0C8F  EE 80       	xor	a,0x80
2721  0C91              l_player_hit_brick_00169:
2722  0C91  FA 18 0D    	jp	M,l_player_hit_brick_00108
2723  0C94  2A 00 00    	ld	hl,(_sprite_other_player)
2724  0C97  26 00       	ld	h,0x00
2725  0C99  01 00 00    	ld	bc,_col
2726  0C9C  09          	add	hl,bc
2727  0C9D  56          	ld	d, (hl)
2728  0C9E  2A 00 00    	ld	hl,(_sprite_other_player)
2729  0CA1  26 00       	ld	h,0x00
2730  0CA3  01 00 00    	ld	bc,_lin
2731  0CA6  09          	add	hl,bc
2732  0CA7  5E          	ld	e, (hl)
2733  0CA8  D5          	push	de
2734  0CA9  AF          	xor	a, a
2735  0CAA  F5          	push	af
2736  0CAB  33          	inc	sp
2737  0CAC  CD 00 00    	call	_NIRVANAP_fillT_callee
2738  0CAF  2A 00 00    	ld	hl,(_sprite_other_player)
2739  0CB2  26 00       	ld	h,0x00
2740  0CB4  01 00 00    	ld	bc,_lin
2741  0CB7  09          	add	hl,bc
2742  0CB8  7E          	ld	a,(hl)
2743  0CB9  C6 FC       	add	a,0xfc
2744  0CBB  77          	ld	(hl),a
2745  0CBC  2A 00 00    	ld	hl,(_sprite_other_player)
2746  0CBF  26 00       	ld	h,0x00
2747  0CC1  01 00 00    	ld	bc,_col
2748  0CC4  09          	add	hl,bc
2749  0CC5  56          	ld	d, (hl)
2750  0CC6  2A 00 00    	ld	hl,(_sprite_other_player)
2751  0CC9  26 00       	ld	h,0x00
2752  0CCB  01 00 00    	ld	bc,_lin
2753  0CCE  09          	add	hl,bc
2754  0CCF  5E          	ld	e, (hl)
2755  0CD0  2A 00 00    	ld	hl,(_sprite_other_player)
2756  0CD3  26 00       	ld	h,0x00
2757  0CD5  01 00 00    	ld	bc,_tile
2758  0CD8  09          	add	hl,bc
2759  0CD9  46          	ld	b, (hl)
2760  0CDA  21 00 00    	ld	hl,_sprite_other_player
2761  0CDD  4E          	ld	c,(hl)
2762  0CDE  D5          	push	de
2763  0CDF  C5          	push	bc
2764  0CE0  CD 00 00    	call	_NIRVANAP_spriteT_callee
2765  0CE3  76          	halt
2766  0CE4  2A 00 00    	ld	hl,(_sprite_other_player)
2767  0CE7  26 00       	ld	h,0x00
2768  0CE9  01 00 00    	ld	bc,_state
2769  0CEC  09          	add	hl,bc
2770  0CED  7E          	ld	a,(hl)
2771  0CEE  E6 FD       	and	a,0xfd
2772  0CF0  77          	ld	(hl),a
2773  0CF1  2A 00 00    	ld	hl,(_sprite_other_player)
2774  0CF4  26 00       	ld	h,0x00
2775  0CF6  01 00 00    	ld	bc,_state
2776  0CF9  09          	add	hl,bc
2777  0CFA  7E          	ld	a,(hl)
2778  0CFB  F6 01       	or	a,0x01
2779  0CFD  77          	ld	(hl),a
2780  0CFE  2A 00 00    	ld	hl,(_sprite_other_player)
2781  0D01  26 00       	ld	h,0x00
2782  0D03  01 00 00    	ld	bc,_jump_lin
2783  0D06  09          	add	hl,bc
2784  0D07  3A 00 00    	ld	a,(_sprite_other_player)
2785  0D0A  5F          	ld	e,a
2786  0D0B  16 00       	ld	d,0x00
2787  0D0D  4D          	ld	c,l
2788  0D0E  44          	ld	b,h
2789  0D0F  21 00 00    	ld	hl,_lin
2790  0D12  19          	add	hl,de
2791  0D13  7E          	ld	a,(hl)
2792  0D14  C6 14       	add	a,0x14
2793  0D16  02          	ld	(bc),a
2794  0D17  76          	halt
2795  0D18              l_player_hit_brick_00108:
2796  0D18  2A 00 00    	ld	hl,(_sprite)
2797  0D1B  26 00       	ld	h,0x00
2798  0D1D  01 00 00    	ld	bc,_state_a
2799  0D20  09          	add	hl,bc
2800  0D21  7E          	ld	a,(hl)
2801  0D22  F6 80       	or	a,0x80
2802  0D24  77          	ld	(hl),a
2803  0D25  2A 00 00    	ld	hl,(_index_player)
2804  0D28  26 00       	ld	h,0x00
2805  0D2A  01 00 00    	ld	bc,_player_jump_c
2806  0D2D  09          	add	hl,bc
2807  0D2E  36 04       	ld	(hl),0x04
2808  0D30  01 00 00    	ld	bc,_spr_timer+0
2809  0D33  2A 00 00    	ld	hl,(_sprite)
2810  0D36  26 00       	ld	h,0x00
2811  0D38  29          	add	hl, hl
2812  0D39  09          	add	hl,bc
2813  0D3A  ED 5B 00 00 	ld	de,(_curr_time)
2814  0D3E  73          	ld	(hl),e
2815  0D3F  23          	inc	hl
2816  0D40  72          	ld	(hl),d
2817  0D41  2A 00 00    	ld	hl,(_index_player)
2818  0D44  26 00       	ld	h,0x00
2819  0D46  01 00 00    	ld	bc,_hit_lin
2820  0D49  09          	add	hl,bc
2821  0D4A  4D          	ld	c,l
2822  0D4B  44          	ld	b,h
2823  0D4C  2A 00 00    	ld	hl,(_sprite)
2824  0D4F  26 00       	ld	h,0x00
2825  0D51  11 00 00    	ld	de,_lin
2826  0D54  19          	add	hl,de
2827  0D55  7E          	ld	a,(hl)
2828  0D56  02          	ld	(bc),a
2829  0D57  2A 00 00    	ld	hl,(_index_player)
2830  0D5A  26 00       	ld	h,0x00
2831  0D5C  01 00 00    	ld	bc,_hit_col
2832  0D5F  09          	add	hl,bc
2833  0D60  4D          	ld	c,l
2834  0D61  44          	ld	b,h
2835  0D62  2A 00 00    	ld	hl,(_sprite)
2836  0D65  26 00       	ld	h,0x00
2837  0D67  11 00 00    	ld	de,_col
2838  0D6A  19          	add	hl,de
2839  0D6B  7E          	ld	a,(hl)
2840  0D6C  02          	ld	(bc),a
2841  0D6D  2E 01       	ld	l,0x01
2842  0D6F  CD 00 00    	call	_spr_brick_anim
2843  0D72  CD 00 00    	call	_sound_hit_brick
2844  0D75  2E 01       	ld	l,0x01
2845  0D77  18 02       	jr	l_player_hit_brick_00116
2846  0D79              l_player_hit_brick_00112:
2847  0D79  2E 00       	ld	l,0x00
2848  0D7B              l_player_hit_brick_00116:
2849  0D7B  C9          	ret
2850  0D7C              	SECTION code_compiler
2851  0D7C              ;	---------------------------------
2852  0D7C              ; Function player_hit_brick_clear
2853  0D7C              ; ---------------------------------
2854  0D7C              _player_hit_brick_clear:
2855  0D7C  2A 00 00    	ld	hl,(_index_player)
2856  0D7F  26 00       	ld	h,0x00
2857  0D81  01 00 00    	ld	bc,_hit_lin
2858  0D84  09          	add	hl,bc
2859  0D85  7E          	ld	a,(hl)
2860  0D86  4F          	ld	c,a
2861  0D87  B7          	or	a,a
2862  0D88  C8          	ret	Z
2863  0D89  3A 00 00    	ld	a,(_index_player)
2864  0D8C  5F          	ld	e,a
2865  0D8D  16 00       	ld	d,0x00
2866  0D8F  21 00 00    	ld	hl,_hit_col
2867  0D92  19          	add	hl,de
2868  0D93  56          	ld	d, (hl)
2869  0D94  79          	ld	a,c
2870  0D95  C6 F8       	add	a,0xf8
2871  0D97  5F          	ld	e, a
2872  0D98  D5          	push	de
2873  0D99  CD 00 00    	call	_game_calc_index
2874  0D9C  F1          	pop	af
2875  0D9D  22 00 00    	ld	(_index1),hl
2876  0DA0  01 01 00    	ld	bc,0x0001
2877  0DA3  09          	add	hl,bc
2878  0DA4  22 00 00    	ld	(_index2),hl
2879  0DA7  2E 00       	ld	l,0x00
2880  0DA9  CD 00 00    	call	_spr_brick_anim
2881  0DAC  2A 00 00    	ld	hl,(_index_player)
2882  0DAF  26 00       	ld	h,0x00
2883  0DB1  01 00 00    	ld	bc,_hit_lin
2884  0DB4  09          	add	hl,bc
2885  0DB5  AF          	xor	a,a
2886  0DB6  77          	ld	(hl),a
2887  0DB7  2A 00 00    	ld	hl,(_index_player)
2888  0DBA  26 00       	ld	h,0x00
2889  0DBC  01 00 00    	ld	bc,_hit_col
2890  0DBF  09          	add	hl,bc
2891  0DC0  AF          	xor	a,a
2892  0DC1  77          	ld	(hl),a
2893  0DC2  C9          	ret
2894  0DC3              	SECTION code_compiler
2895  0DC3              ;	---------------------------------
2896  0DC3              ; Function player_hit_pow
2897  0DC3              ; ---------------------------------
2898  0DC3              _player_hit_pow:
2899  0DC3  AF          	xor	a, a
2900  0DC4  21 00 00    	ld	hl,_index1
2901  0DC7  BE          	cp	a, (hl)
2902  0DC8  3E 02       	ld	a,0x02
2903  0DCA  23          	inc	hl
2904  0DCB  9E          	sbc	a, (hl)
2905  0DCC  30 0F       	jr	NC,l_player_hit_pow_00102
2906  0DCE  3E 40       	ld	a,0x40
2907  0DD0  2B          	dec	hl
2908  0DD1  BE          	cp	a, (hl)
2909  0DD2  3E 02       	ld	a,0x02
2910  0DD4  23          	inc	hl
2911  0DD5  9E          	sbc	a, (hl)
2912  0DD6  30 05       	jr	NC,l_player_hit_pow_00102
2913  0DD8  2E 00       	ld	l,0x00
2914  0DDA  C3 9F 0E    	jp	l_player_hit_pow_00115
2915  0DDD              l_player_hit_pow_00102:
2916  0DDD  2A 00 00    	ld	hl,(_index1)
2917  0DE0  01 01 00    	ld	bc,0x0001
2918  0DE3  09          	add	hl,bc
2919  0DE4  22 00 00    	ld	(_index2),hl
2920  0DE7  3A 00 00    	ld	a,(_game_pow)
2921  0DEA  B7          	or	a, a
2922  0DEB  CA 9D 0E    	jp	Z,l_player_hit_pow_00110
2923  0DEE  01 00 00    	ld	bc,_lvl_1
2924  0DF1  2A 00 00    	ld	hl,(_index1)
2925  0DF4  09          	add	hl,bc
2926  0DF5  7E          	ld	a,(hl)
2927  0DF6  D6 11       	sub	a,0x11
2928  0DF8  28 0D       	jr	Z,l_player_hit_pow_00109
2929  0DFA  01 00 00    	ld	bc,_lvl_1
2930  0DFD  2A 00 00    	ld	hl,(_index2)
2931  0E00  09          	add	hl,bc
2932  0E01  7E          	ld	a,(hl)
2933  0E02  D6 11       	sub	a,0x11
2934  0E04  C2 9D 0E    	jp	NZ,l_player_hit_pow_00110
2935  0E07              l_player_hit_pow_00109:
2936  0E07  21 00 00    	ld	hl,_game_pow
2937  0E0A  35          	dec	(hl)
2938  0E0B  21 00 00    	ld	hl,_enemies
2939  0E0E  36 00       	ld	(hl),0x00
2940  0E10              l_player_hit_pow_00113:
2941  0E10  2A 00 00    	ld	hl,(_enemies)
2942  0E13  26 00       	ld	h,0x00
2943  0E15  5D          	ld	e,l
2944  0E16  01 00 00    	ld	bc,_col
2945  0E19  09          	add	hl,bc
2946  0E1A  46          	ld	b,(hl)
2947  0E1B  16 00       	ld	d,0x00
2948  0E1D  21 00 00    	ld	hl,_lin
2949  0E20  19          	add	hl,de
2950  0E21  7E          	ld	a,(hl)
2951  0E22  C6 10       	add	a,0x10
2952  0E24  4F          	ld	c,a
2953  0E25  C5          	push	bc
2954  0E26  CD 00 00    	call	_game_calc_index
2955  0E29  F1          	pop	af
2956  0E2A  CD 00 00    	call	_game_check_maze
2957  0E2D  7D          	ld	a,l
2958  0E2E  B7          	or	a, a
2959  0E2F  20 03       	jr	NZ,l_player_hit_pow_00105
2960  0E31  CD 00 00    	call	_enemy_hit
2961  0E34              l_player_hit_pow_00105:
2962  0E34  21 07 00    	ld	hl,0x0007
2963  0E37  CD 00 00    	call	_zx_border_fastcall
2964  0E3A  21 05 00    	ld	hl,0x0005
2965  0E3D  CD 00 00    	call	_z80_delay_ms_fastcall
2966  0E40  21 01 00    	ld	hl,0x0001
2967  0E43  CD 00 00    	call	_zx_border_fastcall
2968  0E46  21 05 00    	ld	hl,0x0005
2969  0E49  CD 00 00    	call	_z80_delay_ms_fastcall
2970  0E4C  21 00 00    	ld	hl,_enemies
2971  0E4F  7E          	ld	a,(hl)
2972  0E50  3C          	inc	a
2973  0E51  77          	ld	(hl),a
2974  0E52  D6 06       	sub	a,0x06
2975  0E54  38 BA       	jr	C,l_player_hit_pow_00113
2976  0E56  21 00 00    	ld	hl,_ay_effect_06
2977  0E59  CD 00 00    	call	_ay_fx_play
2978  0E5C  CD 00 00    	call	_sound_hit_pow
2979  0E5F  CD 00 00    	call	_spr_draw_pow
2980  0E62  3A 00 00    	ld	a,(_game_pow)
2981  0E65  B7          	or	a, a
2982  0E66  20 13       	jr	NZ,l_player_hit_pow_00108
2983  0E68  21 80 0F    	ld	hl,0x0f80
2984  0E6B  E5          	push	hl
2985  0E6C  AF          	xor	a, a
2986  0E6D  F5          	push	af
2987  0E6E  33          	inc	sp
2988  0E6F  CD 00 00    	call	_NIRVANAP_fillT_callee
2989  0E72  21 00 00    	ld	hl,0x0000
2990  0E75  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
2991  0E78  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
2992  0E7B              l_player_hit_pow_00108:
2993  0E7B  21 00 00    	ld	hl,0x0000
2994  0E7E  CD 00 00    	call	_zx_border_fastcall
2995  0E81  2A 00 00    	ld	hl,(_sprite)
2996  0E84  26 00       	ld	h,0x00
2997  0E86  01 00 00    	ld	bc,_state_a
2998  0E89  09          	add	hl,bc
2999  0E8A  7E          	ld	a,(hl)
3000  0E8B  F6 80       	or	a,0x80
3001  0E8D  77          	ld	(hl),a
3002  0E8E  2A 00 00    	ld	hl,(_index_player)
3003  0E91  26 00       	ld	h,0x00
3004  0E93  01 00 00    	ld	bc,_player_jump_c
3005  0E96  09          	add	hl,bc
3006  0E97  36 06       	ld	(hl),0x06
3007  0E99  2E 01       	ld	l,0x01
3008  0E9B  18 02       	jr	l_player_hit_pow_00115
3009  0E9D              l_player_hit_pow_00110:
3010  0E9D  2E 00       	ld	l,0x00
3011  0E9F              l_player_hit_pow_00115:
3012  0E9F  C9          	ret
3013  0EA0              	SECTION code_compiler
3014  0EA0              ;	---------------------------------
3015  0EA0              ; Function player_coin
3016  0EA0              ; ---------------------------------
3017  0EA0              _player_coin:
3018  0EA0  CD 00 00    	call	___sdcc_enter_ix
3019  0EA3  3E 00       	ld	a,+((_class) & 0xFF)
3020  0EA5  DD 86 04    	add	a,(ix+4)
3021  0EA8  4F          	ld	c,a
3022  0EA9  3E 00       	ld	a,+((_class) / 256)
3023  0EAB  CE 00       	adc	a,0x00
3024  0EAD  47          	ld	b,a
3025  0EAE  0A          	ld	a,(bc)
3026  0EAF  D6 07       	sub	a,0x07
3027  0EB1  20 16       	jr	NZ,l_player_coin_00102
3028  0EB3  21 00 00    	ld	hl,_ay_effect_12
3029  0EB6  CD 00 00    	call	_ay_fx_play
3030  0EB9  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3031  0EBB  DD 86 04    	add	a,(ix+4)
3032  0EBE  4F          	ld	c,a
3033  0EBF  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3034  0EC1  CE 00       	adc	a,0x00
3035  0EC3  47          	ld	b,a
3036  0EC4  3E 03       	ld	a,0x03
3037  0EC6  02          	ld	(bc),a
3038  0EC7  18 17       	jr	l_player_coin_00103
3039  0EC9              l_player_coin_00102:
3040  0EC9  21 00 00    	ld	hl,_ay_effect_10
3041  0ECC  CD 00 00    	call	_ay_fx_play
3042  0ECF  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3043  0ED1  DD 86 04    	add	a,(ix+4)
3044  0ED4  4F          	ld	c,a
3045  0ED5  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3046  0ED7  CE 00       	adc	a,0x00
3047  0ED9  47          	ld	b,a
3048  0EDA  3E 08       	ld	a,0x08
3049  0EDC  02          	ld	(bc),a
3050  0EDD  CD 00 00    	call	_sound_coin
3051  0EE0              l_player_coin_00103:
3052  0EE0  3E 00       	ld	a,+((_state) & 0xFF)
3053  0EE2  DD 86 04    	add	a,(ix+4)
3054  0EE5  4F          	ld	c,a
3055  0EE6  3E 00       	ld	a,+((_state) / 256)
3056  0EE8  CE 00       	adc	a,0x00
3057  0EEA  47          	ld	b,a
3058  0EEB  0A          	ld	a,(bc)
3059  0EEC  E6 FE       	and	a,0xfe
3060  0EEE  F6 20       	or	a,0x20
3061  0EF0  02          	ld	(bc),a
3062  0EF1  01 00 00    	ld	bc,_spr_timer+0
3063  0EF4  DD 6E 04    	ld	l,(ix+4)
3064  0EF7  26 00       	ld	h,0x00
3065  0EF9  29          	add	hl, hl
3066  0EFA  09          	add	hl,bc
3067  0EFB  ED 5B 00 00 	ld	de,(_curr_time)
3068  0EFF  73          	ld	(hl),e
3069  0F00  23          	inc	hl
3070  0F01  72          	ld	(hl),d
3071  0F02  3A 00 00    	ld	a,(_game_bonus)
3072  0F05  B7          	or	a, a
3073  0F06  28 1B       	jr	Z,l_player_coin_00107
3074  0F08  2A 00 00    	ld	hl,(_index_player)
3075  0F0B  26 00       	ld	h,0x00
3076  0F0D  01 00 00    	ld	bc,_phase_bonus_total
3077  0F10  09          	add	hl,bc
3078  0F11  7E          	ld	a,(hl)
3079  0F12  3C          	inc	a
3080  0F13  77          	ld	(hl),a
3081  0F14  4D          	ld	c,l
3082  0F15  44          	ld	b,h
3083  0F16  21 00 00    	ld	hl,_phase_left
3084  0F19  35          	dec (hl)
3085  0F1A  20 0F       	jr	NZ,l_player_coin_00109
3086  0F1C  21 00 00    	ld	hl,_phase_end
3087  0F1F  36 01       	ld	(hl),0x01
3088  0F21  18 08       	jr	l_player_coin_00109
3089  0F23              l_player_coin_00107:
3090  0F23  DD 6E 05    	ld	l,(ix+5)
3091  0F26  26 00       	ld	h,0x00
3092  0F28  CD 2E 0F    	call	_player_score_add
3093  0F2B              l_player_coin_00109:
3094  0F2B  DD E1       	pop	ix
3095  0F2D  C9          	ret
3096  0F2E              	SECTION code_compiler
3097  0F2E              ;	---------------------------------
3098  0F2E              ; Function player_score_add
3099  0F2E              ; ---------------------------------
3100  0F2E              _player_score_add:
3101  0F2E  4D          	ld	c,l
3102  0F2F  44          	ld	b,h
3103  0F30  2A 00 00    	ld	hl,(_index_player)
3104  0F33  26 00       	ld	h,0x00
3105  0F35  29          	add	hl, hl
3106  0F36  11 00 00    	ld	de,_player_score
3107  0F39  19          	add	hl,de
3108  0F3A  5E          	ld	e,(hl)
3109  0F3B  23          	inc	hl
3110  0F3C  56          	ld	d,(hl)
3111  0F3D  2B          	dec	hl
3112  0F3E  7B          	ld	a,e
3113  0F3F  81          	add	a, c
3114  0F40  4F          	ld	c,a
3115  0F41  7A          	ld	a,d
3116  0F42  88          	adc	a, b
3117  0F43  47          	ld	b,a
3118  0F44  71          	ld	(hl),c
3119  0F45  23          	inc	hl
3120  0F46  70          	ld	(hl),b
3121  0F47  2A 00 00    	ld	hl,(_index_player)
3122  0F4A  26 00       	ld	h,0x00
3123  0F4C  29          	add	hl,hl
3124  0F4D  4D          	ld	c,l
3125  0F4E  44          	ld	b,h
3126  0F4F  21 00 00    	ld	hl,_player_score
3127  0F52  09          	add	hl,bc
3128  0F53  5E          	ld	e,(hl)
3129  0F54  23          	inc	hl
3130  0F55  56          	ld	d,(hl)
3131  0F56  21 00 00    	ld	hl,_game_score_top
3132  0F59  7E          	ld	a,(hl)
3133  0F5A  93          	sub	a, e
3134  0F5B  23          	inc	hl
3135  0F5C  7E          	ld	a,(hl)
3136  0F5D  9A          	sbc	a, d
3137  0F5E  30 04       	jr	NC,l_player_score_add_00102
3138  0F60  2B          	dec	hl
3139  0F61  73          	ld	(hl),e
3140  0F62  23          	inc	hl
3141  0F63  72          	ld	(hl),d
3142  0F64              l_player_score_add_00102:
3143  0F64  21 00 00    	ld	hl,_player_next_extra
3144  0F67  09          	add	hl,bc
3145  0F68  4E          	ld	c,(hl)
3146  0F69  23          	inc	hl
3147  0F6A  46          	ld	b,(hl)
3148  0F6B  2B          	dec	hl
3149  0F6C  79          	ld	a,c
3150  0F6D  93          	sub	a, e
3151  0F6E  78          	ld	a,b
3152  0F6F  9A          	sbc	a, d
3153  0F70  30 2D       	jr	NC,l_player_score_add_00106
3154  0F72  79          	ld	a,c
3155  0F73  C6 D0       	add	a,0xd0
3156  0F75  77          	ld	(hl),a
3157  0F76  78          	ld	a,b
3158  0F77  CE 07       	adc	a,0x07
3159  0F79  23          	inc	hl
3160  0F7A  77          	ld	(hl),a
3161  0F7B  2A 00 00    	ld	hl,(_index_player)
3162  0F7E  26 00       	ld	h,0x00
3163  0F80  01 00 00    	ld	bc,_game_lives
3164  0F83  09          	add	hl,bc
3165  0F84  34          	inc	(hl)
3166  0F85  3A 00 00    	ld	a,(_game_bonus)
3167  0F88  B7          	or	a,a
3168  0F89  20 03       	jr	NZ,l_player_score_add_00104
3169  0F8B  CD 00 00    	call	_game_print_lives
3170  0F8E              l_player_score_add_00104:
3171  0F8E  CD 00 00    	call	_sound_coin
3172  0F91  CD 00 00    	call	_sound_coin
3173  0F94  CD 00 00    	call	_sound_coin
3174  0F97  CD 00 00    	call	_sound_coin
3175  0F9A  21 00 00    	ld	hl,_hit_count
3176  0F9D  36 08       	ld	(hl),0x08
3177  0F9F              l_player_score_add_00106:
3178  0F9F  C3 00 00    	jp  _game_print_score
3179  0FA2              	SECTION code_compiler
3180  0FA2              ;	---------------------------------
3181  0FA2              ; Function player_set
3182  0FA2              ; ---------------------------------
3183  0FA2              _player_set:
3184  0FA2  CD 00 00    	call	___sdcc_enter_ix
3185  0FA5  DD 7E 04    	ld	a,(ix+4)
3186  0FA8  32 00 00    	ld	(_sprite),a
3187  0FAB  DD 7E 05    	ld	a,(ix+5)
3188  0FAE  32 00 00    	ld	(_sprite_other_player),a
3189  0FB1  DD 7E 06    	ld	a,(ix+6)
3190  0FB4  32 00 00    	ld	(_index_player),a
3191  0FB7  DD 7E 07    	ld	a,(ix+7)
3192  0FBA  32 00 00    	ld	(_tile_offset),a
3193  0FBD  DD 7E 08    	ld	a,(ix+8)
3194  0FC0  32 00 00    	ld	(_tile_offset_other_player),a
3195  0FC3  DD E1       	pop	ix
3196  0FC5  C9          	ret
3197  0FC6              	SECTION IGNORE
3198  0000              
