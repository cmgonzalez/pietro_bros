1     0000              MODULE pietro_player_c
2     0000              LINE -1, "pietro_player.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _player_init
204   0000              	GLOBAL _player_calc_slide
205   0000              	GLOBAL _player_check_input
206   0000              	GLOBAL _player_collision
207   0000              	GLOBAL _player_kill
208   0000              	GLOBAL _player_restart
209   0000              	GLOBAL _player_lost_life
210   0000              	GLOBAL _player_turn
211   0000              	GLOBAL _player_move
212   0000              	GLOBAL _player_move_input
213   0000              	GLOBAL _player_move_horizontal
214   0000              	GLOBAL _player_push
215   0000              	GLOBAL _player_hit_brick
216   0000              	GLOBAL _player_hit_brick_clear
217   0000              	GLOBAL _player_hit_pow
218   0000              	GLOBAL _player_coin
219   0000              	GLOBAL _player_score_add
220   0000              	GLOBAL _player_set
221   0000              ;--------------------------------------------------------
222   0000              ; Externals used
223   0000              ;--------------------------------------------------------
224   0000              	GLOBAL _debug3
225   0000              	GLOBAL _debug2
226   0000              	GLOBAL _debug
227   0000              	GLOBAL _zx_print_str
228   0000              	GLOBAL _zx_print_int
229   0000              	GLOBAL _zx_print_chr
230   0000              	GLOBAL _zx_print_bonus_time
231   0000              	GLOBAL _zx_isr
232   0000              	GLOBAL _z80_otdr_callee
233   0000              	GLOBAL _z80_otdr
234   0000              	GLOBAL _z80_otir_callee
235   0000              	GLOBAL _z80_otir
236   0000              	GLOBAL _z80_outp_callee
237   0000              	GLOBAL _z80_outp
238   0000              	GLOBAL _z80_indr_callee
239   0000              	GLOBAL _z80_indr
240   0000              	GLOBAL _z80_inir_callee
241   0000              	GLOBAL _z80_inir
242   0000              	GLOBAL _z80_inp_fastcall
243   0000              	GLOBAL _z80_inp
244   0000              	GLOBAL _z80_set_int_state_fastcall
245   0000              	GLOBAL _z80_set_int_state
246   0000              	GLOBAL _z80_get_int_state
247   0000              	GLOBAL _z80_delay_tstate_fastcall
248   0000              	GLOBAL _z80_delay_tstate
249   0000              	GLOBAL _z80_delay_ms_fastcall
250   0000              	GLOBAL _z80_delay_ms
251   0000              	GLOBAL _im2_remove_generic_callback_callee
252   0000              	GLOBAL _im2_remove_generic_callback
253   0000              	GLOBAL _im2_prepend_generic_callback_callee
254   0000              	GLOBAL _im2_prepend_generic_callback
255   0000              	GLOBAL _im2_append_generic_callback_callee
256   0000              	GLOBAL _im2_append_generic_callback
257   0000              	GLOBAL _im2_create_generic_isr_8080_callee
258   0000              	GLOBAL _im2_create_generic_isr_8080
259   0000              	GLOBAL _im2_create_generic_isr_callee
260   0000              	GLOBAL _im2_create_generic_isr
261   0000              	GLOBAL _im2_install_isr_callee
262   0000              	GLOBAL _im2_install_isr
263   0000              	GLOBAL _im2_init_fastcall
264   0000              	GLOBAL _im2_init
265   0000              	GLOBAL _sound_hit_pow
266   0000              	GLOBAL _sound_hit_brick
267   0000              	GLOBAL _sound_hit_enemy
268   0000              	GLOBAL _sound_kill
269   0000              	GLOBAL _sound_enter_enemy
270   0000              	GLOBAL _sound_coin
271   0000              	GLOBAL _sound_jump
272   0000              	GLOBAL _sound_slide
273   0000              	GLOBAL _spr_mapfix
274   0000              	GLOBAL _spr_kill_all
275   0000              	GLOBAL _spr_collision_check
276   0000              	GLOBAL _spr_calc_hor
277   0000              	GLOBAL _spr_draw_row
278   0000              	GLOBAL _spr_draw_index
279   0000              	GLOBAL _spr_draw_clear
280   0000              	GLOBAL _spr_water_splash_draw
281   0000              	GLOBAL _spr_water_splash_clear
282   0000              	GLOBAL _spr_draw_background
283   0000              	GLOBAL _spr_cortina_brick
284   0000              	GLOBAL _spr_brick_anim
285   0000              	GLOBAL _spr_back_fix
286   0000              	GLOBAL _spr_back_paint
287   0000              	GLOBAL _spr_back_clr
288   0000              	GLOBAL _spr_draw_pow
289   0000              	GLOBAL _spr_tile
290   0000              	GLOBAL _spr_set_fall
291   0000              	GLOBAL _spr_destroy
292   0000              	GLOBAL _spr_check_over
293   0000              	GLOBAL _spr_tile_dir
294   0000              	GLOBAL _spr_anim_kill
295   0000              	GLOBAL _spr_anim_fall
296   0000              	GLOBAL _spr_killed
297   0000              	GLOBAL _spr_redraw
298   0000              	GLOBAL _spr_move_left
299   0000              	GLOBAL _spr_move_right
300   0000              	GLOBAL _spr_move_horizontal
301   0000              	GLOBAL _spr_move_down
302   0000              	GLOBAL _spr_move_up
303   0000              	GLOBAL _spr_chktime
304   0000              	GLOBAL _game_joystick_set
305   0000              	GLOBAL _game_joystick_change
306   0000              	GLOBAL _game_hall_print_p2
307   0000              	GLOBAL _game_hall_print_p
308   0000              	GLOBAL _game_hall_edit_p
309   0000              	GLOBAL _game_hall_check
310   0000              	GLOBAL _game_hall_enter_prt
311   0000              	GLOBAL _game_hall_enter_phs
312   0000              	GLOBAL _game_print_header
313   0000              	GLOBAL _game_end
314   0000              	GLOBAL _game_hall_enter
315   0000              	GLOBAL _game_hall_of_fame
316   0000              	GLOBAL _game_score_osd
317   0000              	GLOBAL _game_phase_print_score_back
318   0000              	GLOBAL _game_bonus_clock
319   0000              	GLOBAL _game_bonus_summary_player
320   0000              	GLOBAL _game_bonus_summary
321   0000              	GLOBAL _game_check_time
322   0000              	GLOBAL _game_menu_config
323   0000              	GLOBAL _game_menu
324   0000              	GLOBAL _game_rotate_attrib
325   0000              	GLOBAL _game_colour_message
326   0000              	GLOBAL _game_paint_attrib_lin_h
327   0000              	GLOBAL _game_paint_attrib_lin
328   0000              	GLOBAL _game_paint_attrib
329   0000              	GLOBAL _game_menu_paint
330   0000              	GLOBAL _game_menu_top_paint
331   0000              	GLOBAL _game_menu_handle
332   0000              	GLOBAL _game_menu_e
333   0000              	GLOBAL _game_menu_back
334   0000              	GLOBAL _game_print_score
335   0000              	GLOBAL _game_unfreeze_all
336   0000              	GLOBAL _game_freeze_all
337   0000              	GLOBAL _game_freeze
338   0000              	GLOBAL _game_enemy_add_get_index
339   0000              	GLOBAL _game_enemy_add1
340   0000              	GLOBAL _game_enemy_quota
341   0000              	GLOBAL _game_enemy_rnd
342   0000              	GLOBAL _game_enemy_add
343   0000              	GLOBAL _game_check_floor
344   0000              	GLOBAL _game_check_map
345   0000              	GLOBAL _game_loop
346   0000              	GLOBAL _game_phase_print
347   0000              	GLOBAL _game_phase_init
348   0000              	GLOBAL _game_phase_calc
349   0000              	GLOBAL _game_start_timer
350   0000              	GLOBAL _game_tick
351   0000              	GLOBAL _game_print_lives
352   0000              	GLOBAL _game_print_footer
353   0000              	GLOBAL _game_calc_index
354   0000              	GLOBAL _game_fill_row
355   0000              	GLOBAL _enemy_ugly_fix
356   0000              	GLOBAL _enemy_kill
357   0000              	GLOBAL _enemy_init
358   0000              	GLOBAL _enemy_walk
359   0000              	GLOBAL _enemy_upgrade
360   0000              	GLOBAL _enemy_evolve
361   0000              	GLOBAL _enemy_standard_hit
362   0000              	GLOBAL _enemy_trip_move
363   0000              	GLOBAL _enemy_trip
364   0000              	GLOBAL _enemy_fighterfly
365   0000              	GLOBAL _enemy_fireball_green
366   0000              	GLOBAL _enemy_fireball_red
367   0000              	GLOBAL _enemy_slipice
368   0000              	GLOBAL _enemy_standard
369   0000              	GLOBAL _enemy_turn
370   0000              	GLOBAL _enemy_flip_sidestepper
371   0000              	GLOBAL _enemy_flip
372   0000              	GLOBAL _enemy_flip_change_dir
373   0000              	GLOBAL _enemy_hit
374   0000              	GLOBAL _enemy_collision_turn_dir
375   0000              	GLOBAL _enemy_collision
376   0000              	GLOBAL _enemy_coin1
377   0000              	GLOBAL _ay_fx_play
378   0000              	GLOBAL _ay_midi_play
379   0000              	GLOBAL _ay_is_playing
380   0000              	GLOBAL _ay_reset
381   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
382   0000              	GLOBAL _NIRVANAP_drawTW_raw
383   0000              	GLOBAL _NIRVANAP_drawTW_callee
384   0000              	GLOBAL _NIRVANAP_drawTW
385   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
386   0000              	GLOBAL _NIRVANAP_drawW_raw
387   0000              	GLOBAL _NIRVANAP_drawW_callee
388   0000              	GLOBAL _NIRVANAP_drawW
389   0000              	GLOBAL _NIRVANAP_spriteT_callee
390   0000              	GLOBAL _NIRVANAP_spriteT
391   0000              	GLOBAL _NIRVANAP_fillC_callee
392   0000              	GLOBAL _NIRVANAP_fillC
393   0000              	GLOBAL _NIRVANAP_readC_callee
394   0000              	GLOBAL _NIRVANAP_readC
395   0000              	GLOBAL _NIRVANAP_paintC_callee
396   0000              	GLOBAL _NIRVANAP_paintC
397   0000              	GLOBAL _NIRVANAP_printC_callee
398   0000              	GLOBAL _NIRVANAP_printC
399   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
400   0000              	GLOBAL _NIRVANAP_fillT_raw
401   0000              	GLOBAL _NIRVANAP_fillT_callee
402   0000              	GLOBAL _NIRVANAP_fillT
403   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
404   0000              	GLOBAL _NIRVANAP_drawT_raw
405   0000              	GLOBAL _NIRVANAP_drawT_callee
406   0000              	GLOBAL _NIRVANAP_drawT
407   0000              	GLOBAL _NIRVANAP_stop
408   0000              	GLOBAL _NIRVANAP_start
409   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
410   0000              	GLOBAL _intrinsic_swap_word_32
411   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
412   0000              	GLOBAL _intrinsic_swap_endian_32
413   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
414   0000              	GLOBAL _intrinsic_swap_endian_16
415   0000              	GLOBAL _intrinsic_return_de
416   0000              	GLOBAL _intrinsic_return_bc
417   0000              	GLOBAL _intrinsic_exx
418   0000              	GLOBAL _intrinsic_ex_de_hl
419   0000              	GLOBAL _intrinsic_nop
420   0000              	GLOBAL _intrinsic_im_2
421   0000              	GLOBAL _intrinsic_im_1
422   0000              	GLOBAL _intrinsic_im_0
423   0000              	GLOBAL _intrinsic_retn
424   0000              	GLOBAL _intrinsic_reti
425   0000              	GLOBAL _intrinsic_halt
426   0000              	GLOBAL _intrinsic_ei
427   0000              	GLOBAL _intrinsic_di
428   0000              	GLOBAL _intrinsic_stub
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _ulltoa_callee
432   0000              	GLOBAL _ulltoa
433   0000              	GLOBAL _strtoull_callee
434   0000              	GLOBAL _strtoull
435   0000              	GLOBAL _strtoll_callee
436   0000              	GLOBAL _strtoll
437   0000              	GLOBAL _lltoa_callee
438   0000              	GLOBAL _lltoa
439   0000              	GLOBAL _llabs_callee
440   0000              	GLOBAL _llabs
441   0000              	GLOBAL __lldivu__callee
442   0000              	GLOBAL __lldivu_
443   0000              	GLOBAL __lldiv__callee
444   0000              	GLOBAL __lldiv_
445   0000              	GLOBAL _atoll_callee
446   0000              	GLOBAL _atoll
447   0000              	GLOBAL _realloc_unlocked_callee
448   0000              	GLOBAL _realloc_unlocked
449   0000              	GLOBAL _malloc_unlocked_fastcall
450   0000              	GLOBAL _malloc_unlocked
451   0000              	GLOBAL _free_unlocked_fastcall
452   0000              	GLOBAL _free_unlocked
453   0000              	GLOBAL _calloc_unlocked_callee
454   0000              	GLOBAL _calloc_unlocked
455   0000              	GLOBAL _aligned_alloc_unlocked_callee
456   0000              	GLOBAL _aligned_alloc_unlocked
457   0000              	GLOBAL _realloc_callee
458   0000              	GLOBAL _realloc
459   0000              	GLOBAL _malloc_fastcall
460   0000              	GLOBAL _malloc
461   0000              	GLOBAL _free_fastcall
462   0000              	GLOBAL _free
463   0000              	GLOBAL _calloc_callee
464   0000              	GLOBAL _calloc
465   0000              	GLOBAL _aligned_alloc_callee
466   0000              	GLOBAL _aligned_alloc
467   0000              	GLOBAL _utoa_callee
468   0000              	GLOBAL _utoa
469   0000              	GLOBAL _ultoa_callee
470   0000              	GLOBAL _ultoa
471   0000              	GLOBAL _system_fastcall
472   0000              	GLOBAL _system
473   0000              	GLOBAL _strtoul_callee
474   0000              	GLOBAL _strtoul
475   0000              	GLOBAL _strtol_callee
476   0000              	GLOBAL _strtol
477   0000              	GLOBAL _strtof_callee
478   0000              	GLOBAL _strtof
479   0000              	GLOBAL _strtod_callee
480   0000              	GLOBAL _strtod
481   0000              	GLOBAL _srand_fastcall
482   0000              	GLOBAL _srand
483   0000              	GLOBAL _rand
484   0000              	GLOBAL _quick_exit_fastcall
485   0000              	GLOBAL _quick_exit
486   0000              	GLOBAL _qsort_callee
487   0000              	GLOBAL _qsort
488   0000              	GLOBAL _ltoa_callee
489   0000              	GLOBAL _ltoa
490   0000              	GLOBAL _labs_fastcall
491   0000              	GLOBAL _labs
492   0000              	GLOBAL _itoa_callee
493   0000              	GLOBAL _itoa
494   0000              	GLOBAL _ftoh_callee
495   0000              	GLOBAL _ftoh
496   0000              	GLOBAL _ftog_callee
497   0000              	GLOBAL _ftog
498   0000              	GLOBAL _ftoe_callee
499   0000              	GLOBAL _ftoe
500   0000              	GLOBAL _ftoa_callee
501   0000              	GLOBAL _ftoa
502   0000              	GLOBAL _exit_fastcall
503   0000              	GLOBAL _exit
504   0000              	GLOBAL _dtoh_callee
505   0000              	GLOBAL _dtoh
506   0000              	GLOBAL _dtog_callee
507   0000              	GLOBAL _dtog
508   0000              	GLOBAL _dtoe_callee
509   0000              	GLOBAL _dtoe
510   0000              	GLOBAL _dtoa_callee
511   0000              	GLOBAL _dtoa
512   0000              	GLOBAL _bsearch_callee
513   0000              	GLOBAL _bsearch
514   0000              	GLOBAL _atol_fastcall
515   0000              	GLOBAL _atol
516   0000              	GLOBAL _atoi_fastcall
517   0000              	GLOBAL _atoi
518   0000              	GLOBAL _atof_fastcall
519   0000              	GLOBAL _atof
520   0000              	GLOBAL _atexit_fastcall
521   0000              	GLOBAL _atexit
522   0000              	GLOBAL _at_quick_exit_fastcall
523   0000              	GLOBAL _at_quick_exit
524   0000              	GLOBAL _abs_fastcall
525   0000              	GLOBAL _abs
526   0000              	GLOBAL _abort
527   0000              	GLOBAL __strtou__callee
528   0000              	GLOBAL __strtou_
529   0000              	GLOBAL __strtoi__callee
530   0000              	GLOBAL __strtoi_
531   0000              	GLOBAL __random_uniform_xor_8__fastcall
532   0000              	GLOBAL __random_uniform_xor_8_
533   0000              	GLOBAL __random_uniform_xor_32__fastcall
534   0000              	GLOBAL __random_uniform_xor_32_
535   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
536   0000              	GLOBAL __random_uniform_cmwc_8_
537   0000              	GLOBAL __shellsort__callee
538   0000              	GLOBAL __shellsort_
539   0000              	GLOBAL __quicksort__callee
540   0000              	GLOBAL __quicksort_
541   0000              	GLOBAL __insertion_sort__callee
542   0000              	GLOBAL __insertion_sort_
543   0000              	GLOBAL __ldivu__callee
544   0000              	GLOBAL __ldivu_
545   0000              	GLOBAL __ldiv__callee
546   0000              	GLOBAL __ldiv_
547   0000              	GLOBAL __divu__callee
548   0000              	GLOBAL __divu_
549   0000              	GLOBAL __div__callee
550   0000              	GLOBAL __div_
551   0000              	GLOBAL _in_mouse_kempston_wheel_delta
552   0000              	GLOBAL _in_mouse_kempston_wheel
553   0000              	GLOBAL _in_mouse_kempston_callee
554   0000              	GLOBAL _in_mouse_kempston
555   0000              	GLOBAL _in_mouse_kempston_setpos_callee
556   0000              	GLOBAL _in_mouse_kempston_setpos
557   0000              	GLOBAL _in_mouse_kempston_reset
558   0000              	GLOBAL _in_mouse_kempston_init
559   0000              	GLOBAL _in_mouse_amx_wheel_delta
560   0000              	GLOBAL _in_mouse_amx_wheel
561   0000              	GLOBAL _in_mouse_amx_callee
562   0000              	GLOBAL _in_mouse_amx
563   0000              	GLOBAL _in_mouse_amx_setpos_callee
564   0000              	GLOBAL _in_mouse_amx_setpos
565   0000              	GLOBAL _in_mouse_amx_reset
566   0000              	GLOBAL _in_mouse_amx_init_callee
567   0000              	GLOBAL _in_mouse_amx_init
568   0000              	GLOBAL _in_stick_sinclair2
569   0000              	GLOBAL _in_stick_sinclair1
570   0000              	GLOBAL _in_stick_kempston
571   0000              	GLOBAL _in_stick_fuller
572   0000              	GLOBAL _in_stick_cursor
573   0000              	GLOBAL _in_stick_keyboard_fastcall
574   0000              	GLOBAL _in_stick_keyboard
575   0000              	GLOBAL _in_wait_nokey
576   0000              	GLOBAL _in_wait_key
577   0000              	GLOBAL _in_test_key
578   0000              	GLOBAL _in_pause_fastcall
579   0000              	GLOBAL _in_pause
580   0000              	GLOBAL _in_key_scancode_fastcall
581   0000              	GLOBAL _in_key_scancode
582   0000              	GLOBAL _in_key_pressed_fastcall
583   0000              	GLOBAL _in_key_pressed
584   0000              	GLOBAL _in_inkey
585   0000              	GLOBAL _zx_pattern_fill_callee
586   0000              	GLOBAL _zx_pattern_fill
587   0000              	GLOBAL _zx_saddrpup_fastcall
588   0000              	GLOBAL _zx_saddrpup
589   0000              	GLOBAL _zx_saddrpright_callee
590   0000              	GLOBAL _zx_saddrpright
591   0000              	GLOBAL _zx_saddrpleft_callee
592   0000              	GLOBAL _zx_saddrpleft
593   0000              	GLOBAL _zx_saddrpdown_fastcall
594   0000              	GLOBAL _zx_saddrpdown
595   0000              	GLOBAL _zx_saddrcup_fastcall
596   0000              	GLOBAL _zx_saddrcup
597   0000              	GLOBAL _zx_saddrcright_fastcall
598   0000              	GLOBAL _zx_saddrcright
599   0000              	GLOBAL _zx_saddrcleft_fastcall
600   0000              	GLOBAL _zx_saddrcleft
601   0000              	GLOBAL _zx_saddrcdown_fastcall
602   0000              	GLOBAL _zx_saddrcdown
603   0000              	GLOBAL _zx_saddr2py_fastcall
604   0000              	GLOBAL _zx_saddr2py
605   0000              	GLOBAL _zx_saddr2px_fastcall
606   0000              	GLOBAL _zx_saddr2px
607   0000              	GLOBAL _zx_saddr2cy_fastcall
608   0000              	GLOBAL _zx_saddr2cy
609   0000              	GLOBAL _zx_saddr2cx_fastcall
610   0000              	GLOBAL _zx_saddr2cx
611   0000              	GLOBAL _zx_saddr2aaddr_fastcall
612   0000              	GLOBAL _zx_saddr2aaddr
613   0000              	GLOBAL _zx_py2saddr_fastcall
614   0000              	GLOBAL _zx_py2saddr
615   0000              	GLOBAL _zx_py2aaddr_fastcall
616   0000              	GLOBAL _zx_py2aaddr
617   0000              	GLOBAL _zx_pxy2saddr_callee
618   0000              	GLOBAL _zx_pxy2saddr
619   0000              	GLOBAL _zx_pxy2aaddr_callee
620   0000              	GLOBAL _zx_pxy2aaddr
621   0000              	GLOBAL _zx_px2bitmask_fastcall
622   0000              	GLOBAL _zx_px2bitmask
623   0000              	GLOBAL _zx_cy2saddr_fastcall
624   0000              	GLOBAL _zx_cy2saddr
625   0000              	GLOBAL _zx_cy2aaddr_fastcall
626   0000              	GLOBAL _zx_cy2aaddr
627   0000              	GLOBAL _zx_cxy2saddr_callee
628   0000              	GLOBAL _zx_cxy2saddr
629   0000              	GLOBAL _zx_cxy2aaddr_callee
630   0000              	GLOBAL _zx_cxy2aaddr
631   0000              	GLOBAL _zx_bitmask2px_fastcall
632   0000              	GLOBAL _zx_bitmask2px
633   0000              	GLOBAL _zx_aaddrcup_fastcall
634   0000              	GLOBAL _zx_aaddrcup
635   0000              	GLOBAL _zx_aaddrcright_fastcall
636   0000              	GLOBAL _zx_aaddrcright
637   0000              	GLOBAL _zx_aaddrcleft_fastcall
638   0000              	GLOBAL _zx_aaddrcleft
639   0000              	GLOBAL _zx_aaddrcdown_fastcall
640   0000              	GLOBAL _zx_aaddrcdown
641   0000              	GLOBAL _zx_aaddr2saddr_fastcall
642   0000              	GLOBAL _zx_aaddr2saddr
643   0000              	GLOBAL _zx_aaddr2py_fastcall
644   0000              	GLOBAL _zx_aaddr2py
645   0000              	GLOBAL _zx_aaddr2px_fastcall
646   0000              	GLOBAL _zx_aaddr2px
647   0000              	GLOBAL _zx_aaddr2cy_fastcall
648   0000              	GLOBAL _zx_aaddr2cy
649   0000              	GLOBAL _zx_aaddr2cx_fastcall
650   0000              	GLOBAL _zx_aaddr2cx
651   0000              	GLOBAL _zx_visit_wc_pix_callee
652   0000              	GLOBAL _zx_visit_wc_pix
653   0000              	GLOBAL _zx_visit_wc_attr_callee
654   0000              	GLOBAL _zx_visit_wc_attr
655   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
656   0000              	GLOBAL _zx_scroll_wc_up_pix
657   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
658   0000              	GLOBAL _zx_scroll_wc_up_attr
659   0000              	GLOBAL _zx_scroll_wc_up_callee
660   0000              	GLOBAL _zx_scroll_wc_up
661   0000              	GLOBAL _zx_scroll_up_pix_callee
662   0000              	GLOBAL _zx_scroll_up_pix
663   0000              	GLOBAL _zx_scroll_up_attr_callee
664   0000              	GLOBAL _zx_scroll_up_attr
665   0000              	GLOBAL _zx_scroll_up_callee
666   0000              	GLOBAL _zx_scroll_up
667   0000              	GLOBAL _zx_cls_wc_pix_callee
668   0000              	GLOBAL _zx_cls_wc_pix
669   0000              	GLOBAL _zx_cls_wc_attr_callee
670   0000              	GLOBAL _zx_cls_wc_attr
671   0000              	GLOBAL _zx_cls_wc_callee
672   0000              	GLOBAL _zx_cls_wc
673   0000              	GLOBAL _zx_cls_pix_fastcall
674   0000              	GLOBAL _zx_cls_pix
675   0000              	GLOBAL _zx_cls_attr_fastcall
676   0000              	GLOBAL _zx_cls_attr
677   0000              	GLOBAL _zx_cls_fastcall
678   0000              	GLOBAL _zx_cls
679   0000              	GLOBAL _zx_border_fastcall
680   0000              	GLOBAL _zx_border
681   0000              	GLOBAL _zx_tape_verify_block_callee
682   0000              	GLOBAL _zx_tape_verify_block
683   0000              	GLOBAL _zx_tape_save_block_callee
684   0000              	GLOBAL _zx_tape_save_block
685   0000              	GLOBAL _zx_tape_load_block_callee
686   0000              	GLOBAL _zx_tape_load_block
687   0000              	GLOBAL _joynames
688   0000              	GLOBAL _initials
689   0000              	GLOBAL _hof
690   0000              	GLOBAL _score_osd_tile
691   0000              	GLOBAL _score_osd_update_time
692   0000              	GLOBAL _score_osd_col
693   0000              	GLOBAL _score_osd_lin
694   0000              	GLOBAL _phase_bonus_total
695   0000              	GLOBAL _phase_angry
696   0000              	GLOBAL _phase_curr
697   0000              	GLOBAL _phase_end
698   0000              	GLOBAL _phase_coins
699   0000              	GLOBAL _phase_pop
700   0000              	GLOBAL _phase_tot
701   0000              	GLOBAL _phase_left
702   0000              	GLOBAL _phase_quota
703   0000              	GLOBAL _phases
704   0000              	GLOBAL _lvl_1
705   0000              	GLOBAL _sprite_speed_alt
706   0000              	GLOBAL _sprite_speed
707   0000              	GLOBAL _screen_ink
708   0000              	GLOBAL _screen_paper
709   0000              	GLOBAL _game_menu_sel
710   0000              	GLOBAL _game_type
711   0000              	GLOBAL _game_osd
712   0000              	GLOBAL _game_bonus
713   0000              	GLOBAL _spr_water_time
714   0000              	GLOBAL _spr_water_clear
715   0000              	GLOBAL _game_time_fireball_start
716   0000              	GLOBAL _game_time_flipped
717   0000              	GLOBAL _game_score_top
718   0000              	GLOBAL _game_lives
719   0000              	GLOBAL _game_over
720   0000              	GLOBAL _game_debug
721   0000              	GLOBAL _game_sound
722   0000              	GLOBAL _game_inmune
723   0000              	GLOBAL _game_god_mode
724   0000              	GLOBAL _game_start_phase
725   0000              	GLOBAL _game_two_player
726   0000              	GLOBAL _game_brick_tile
727   0000              	GLOBAL _game_pow
728   0000              	GLOBAL _game_ugly_fix_cnt
729   0000              	GLOBAL _game_ugly_back
730   0000              	GLOBAL _spr_count
731   0000              	GLOBAL _osd_show_time
732   0000              	GLOBAL _osd_update_time
733   0000              	GLOBAL _frame_time
734   0000              	GLOBAL _entry_time
735   0000              	GLOBAL _curr_time
736   0000              	GLOBAL _s_state
737   0000              	GLOBAL _attrib_hl
738   0000              	GLOBAL _attrib
739   0000              	GLOBAL _zx_val_asm
740   0000              	GLOBAL _enemies
741   0000              	GLOBAL _tmp_ui
742   0000              	GLOBAL _tmp_sc
743   0000              	GLOBAL _tmp_uc
744   0000              	GLOBAL _tmp1
745   0000              	GLOBAL _tmp0
746   0000              	GLOBAL _tmp
747   0000              	GLOBAL _index1
748   0000              	GLOBAL _loop_count
749   0000              	GLOBAL _sprite_lin_inc_mul
750   0000              	GLOBAL _s_col1
751   0000              	GLOBAL _s_col0
752   0000              	GLOBAL _s_lin1
753   0000              	GLOBAL _s_lin0
754   0000              	GLOBAL _s_tile1
755   0000              	GLOBAL _s_tile0
756   0000              	GLOBAL _hit_count
757   0000              	GLOBAL _tile_offset_other_player
758   0000              	GLOBAL _tile_offset
759   0000              	GLOBAL _index_player
760   0000              	GLOBAL _sprite_other_player
761   0000              	GLOBAL _sprite
762   0000              	GLOBAL _player_joy
763   0000              	GLOBAL _player_next_extra
764   0000              	GLOBAL _player_score
765   0000              	GLOBAL _last_time
766   0000              	GLOBAL _sliding
767   0000              	GLOBAL _spr_timer
768   0000              	GLOBAL _jump_lin
769   0000              	GLOBAL _player_jump_c
770   0000              	GLOBAL _hit_col
771   0000              	GLOBAL _hit_lin
772   0000              	GLOBAL _colint
773   0000              	GLOBAL _col
774   0000              	GLOBAL _lin
775   0000              	GLOBAL _tile
776   0000              	GLOBAL _state_a
777   0000              	GLOBAL _state
778   0000              	GLOBAL _class
779   0000              	GLOBAL _tbuffer
780   0000              	GLOBAL _dirs
781   0000              	GLOBAL _k2
782   0000              	GLOBAL _k1
783   0000              	GLOBAL _joyfunc2
784   0000              	GLOBAL _joyfunc1
785   0000              	GLOBAL _btiles
786   0000              	GLOBAL _spec128
787   0000              	GLOBAL _ay_effect_20
788   0000              	GLOBAL _ay_effect_19
789   0000              	GLOBAL _ay_effect_18
790   0000              	GLOBAL _ay_effect_17
791   0000              	GLOBAL _ay_effect_16
792   0000              	GLOBAL _ay_effect_15
793   0000              	GLOBAL _ay_effect_14
794   0000              	GLOBAL _ay_effect_13
795   0000              	GLOBAL _ay_effect_12
796   0000              	GLOBAL _ay_effect_11
797   0000              	GLOBAL _ay_effect_10
798   0000              	GLOBAL _ay_effect_09
799   0000              	GLOBAL _ay_effect_08
800   0000              	GLOBAL _ay_effect_07
801   0000              	GLOBAL _ay_effect_06
802   0000              	GLOBAL _ay_effect_05
803   0000              	GLOBAL _ay_effect_04
804   0000              	GLOBAL _ay_effect_03
805   0000              	GLOBAL _ay_effect_02
806   0000              	GLOBAL _ay_effect_01
807   0000              	GLOBAL _pb_midi_phase_1
808   0000              	GLOBAL _pb_midi_title
809   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
810   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
811   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
812   0000              	GLOBAL _NIRVANAP_HOLE
813   0000              	GLOBAL _NIRVANAP_ISR_HOOK
814   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
815   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
816   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
817   0000              	GLOBAL _fix_1
818   0000              	GLOBAL _control_method
819   0000              	GLOBAL _hall_valids
820   0000              ;--------------------------------------------------------
821   0000              ; special function registers
822   0000              ;--------------------------------------------------------
823   0000              defc _IO_FE	=	0x00fe
824   0000              defc _IO_1FFD	=	0x1ffd
825   0000              defc _IO_7FFD	=	0x7ffd
826   0000              ;--------------------------------------------------------
827   0000              ; ram data
828   0000              ;--------------------------------------------------------
829   0000              	SECTION bss_compiler
830   0000              ;--------------------------------------------------------
831   0000              ; ram data
832   0000              ;--------------------------------------------------------
833   0000              
834   0000              IF 0
835   0000              
836   0000              ; .area _INITIALIZED removed by z88dk
837   0000              
838   0000              
839   0000              ENDIF
840   0000              
841   0000              ;--------------------------------------------------------
842   0000              ; absolute external ram data
843   0000              ;--------------------------------------------------------
844   0000              	SECTION IGNORE
845   0000              ;--------------------------------------------------------
846   0000              ; global & static initialisations
847   0000              ;--------------------------------------------------------
848   0000              	SECTION code_crt_init
849   0000              ;--------------------------------------------------------
850   0000              ; Home
851   0000              ;--------------------------------------------------------
852   0000              	SECTION IGNORE
853   0000              ;--------------------------------------------------------
854   0000              ; code
855   0000              ;--------------------------------------------------------
856   0000              	SECTION code_compiler
857   0000              ;	---------------------------------
858   0000              ; Function player_init
859   0000              ; ---------------------------------
860   0000              _player_init:
861   0000  CD 00 00    	call	___sdcc_enter_ix
862   0003  F5          	push	af
863   0004  3E 00       	ld	a, +((_class) & 0xFF)
864   0006  DD 86 04    	add	a,(ix+4)
865   0009  4F          	ld	c, a
866   000A  3E 00       	ld	a, +((_class) / 256)
867   000C  CE 00       	adc	a,0x00
868   000E  47          	ld	b, a
869   000F  3E 10       	ld	a,0x10
870   0011  02          	ld	(bc), a
871   0012  3E 00       	ld	a, +((_tile) & 0xFF)
872   0014  DD 86 04    	add	a,(ix+4)
873   0017  4F          	ld	c, a
874   0018  3E 00       	ld	a, +((_tile) / 256)
875   001A  CE 00       	adc	a,0x00
876   001C  47          	ld	b, a
877   001D  DD 7E 07    	ld	a,(ix+7)
878   0020  02          	ld	(bc), a
879   0021  3E 00       	ld	a, +((_lin) & 0xFF)
880   0023  DD 86 04    	add	a,(ix+4)
881   0026  4F          	ld	c, a
882   0027  3E 00       	ld	a, +((_lin) / 256)
883   0029  CE 00       	adc	a,0x00
884   002B  47          	ld	b, a
885   002C  DD 7E 05    	ld	a,(ix+5)
886   002F  02          	ld	(bc), a
887   0030  3E 00       	ld	a, +((_col) & 0xFF)
888   0032  DD 86 04    	add	a,(ix+4)
889   0035  4F          	ld	c, a
890   0036  3E 00       	ld	a, +((_col) / 256)
891   0038  CE 00       	adc	a,0x00
892   003A  47          	ld	b, a
893   003B  DD 7E 06    	ld	a,(ix+6)
894   003E  02          	ld	(bc), a
895   003F  3E 00       	ld	a, +((_colint) & 0xFF)
896   0041  DD 86 04    	add	a,(ix+4)
897   0044  4F          	ld	c, a
898   0045  3E 00       	ld	a, +((_colint) / 256)
899   0047  CE 00       	adc	a,0x00
900   0049  47          	ld	b, a
901   004A  AF          	xor	a, a
902   004B  02          	ld	(bc), a
903   004C  3E 00       	ld	a, +((_state) & 0xFF)
904   004E  DD 86 04    	add	a,(ix+4)
905   0051  4F          	ld	c, a
906   0052  3E 00       	ld	a, +((_state) / 256)
907   0054  CE 00       	adc	a,0x00
908   0056  47          	ld	b, a
909   0057  AF          	xor	a, a
910   0058  02          	ld	(bc), a
911   0059  3E 00       	ld	a, +((_state_a) & 0xFF)
912   005B  DD 86 04    	add	a,(ix+4)
913   005E  4F          	ld	c, a
914   005F  3E 00       	ld	a, +((_state_a) / 256)
915   0061  CE 00       	adc	a,0x00
916   0063  47          	ld	b, a
917   0064  AF          	xor	a, a
918   0065  02          	ld	(bc), a
919   0066  3E 00       	ld	a, +((_jump_lin) & 0xFF)
920   0068  DD 86 04    	add	a,(ix+4)
921   006B  5F          	ld	e, a
922   006C  3E 00       	ld	a, +((_jump_lin) / 256)
923   006E  CE 00       	adc	a,0x00
924   0070  57          	ld	d, a
925   0071  DD 7E 05    	ld	a,(ix+5)
926   0074  12          	ld	(de), a
927   0075  DD 6E 04    	ld	l,(ix+4)
928   0078  26 00       	ld	h,0x00
929   007A  29          	add	hl,hl
930   007B  11 00 00    	ld	de,_last_time
931   007E  19          	add	hl, de
932   007F  E3          	ex	(sp), hl
933   0080  E1          	pop	hl
934   0081  ED 5B 00 00 	ld	de,(_curr_time)
935   0085  E5          	push	hl
936   0086  73          	ld	(hl), e
937   0087  23          	inc	hl
938   0088  72          	ld	(hl), d
939   0089  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
940   008B  DD 86 04    	add	a,(ix+4)
941   008E  5F          	ld	e, a
942   008F  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
943   0091  CE 00       	adc	a,0x00
944   0093  57          	ld	d, a
945   0094  AF          	xor	a, a
946   0095  12          	ld	(de), a
947   0096  0A          	ld	a, (bc)
948   0097  F6 01       	or	a,0x01
949   0099  02          	ld	(bc),a
950   009A  5F          	ld	e, a
951   009B  DD 7E 04    	ld	a,(ix+4)
952   009E  D6 07       	sub	a,0x07
953   00A0  20 0B       	jr	NZ,l_player_init_00102
954   00A2  21 00 00    	ld	hl,_index_player
955   00A5  36 00       	ld	(hl),0x00
956   00A7  7B          	ld	a, e
957   00A8  F6 10       	or	a,0x10
958   00AA  02          	ld	(bc), a
959   00AB  18 09       	jr	l_player_init_00103
960   00AD              l_player_init_00102:
961   00AD  21 00 00    	ld	hl,_index_player
962   00B0  36 01       	ld	(hl),0x01
963   00B2  7B          	ld	a, e
964   00B3  F6 08       	or	a,0x08
965   00B5  02          	ld	(bc), a
966   00B6              l_player_init_00103:
967   00B6  2A 00 00    	ld	hl,(_index_player)
968   00B9  26 00       	ld	h,0x00
969   00BB  01 00 00    	ld	bc,_hit_col
970   00BE  09          	add	hl,bc
971   00BF  AF          	xor	a,a
972   00C0  77          	ld	(hl),a
973   00C1  2A 00 00    	ld	hl,(_index_player)
974   00C4  26 00       	ld	h,0x00
975   00C6  01 00 00    	ld	bc,_hit_lin
976   00C9  09          	add	hl,bc
977   00CA  AF          	xor	a,a
978   00CB  77          	ld	(hl),a
979   00CC  2A 00 00    	ld	hl,(_index_player)
980   00CF  26 00       	ld	h,0x00
981   00D1  01 00 00    	ld	bc,_sliding
982   00D4  09          	add	hl,bc
983   00D5  AF          	xor	a,a
984   00D6  77          	ld	(hl),a
985   00D7  2A 00 00    	ld	hl,(_index_player)
986   00DA  26 00       	ld	h,0x00
987   00DC  01 00 00    	ld	bc,_player_jump_c
988   00DF  09          	add	hl,bc
989   00E0  AF          	xor	a,a
990   00E1  77          	ld	(hl),a
991   00E2  DD 66 06    	ld	h,(ix+6)
992   00E5  DD 6E 05    	ld	l,(ix+5)
993   00E8  E5          	push	hl
994   00E9  DD 66 07    	ld	h,(ix+7)
995   00EC  DD 6E 04    	ld	l,(ix+4)
996   00EF  E5          	push	hl
997   00F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
998   00F3  F1          	pop	af
999   00F4  DD E1       	pop	ix
1000  00F6  C9          	ret
1001  00F7              	SECTION code_compiler
1002  00F7              ;	---------------------------------
1003  00F7              ; Function player_calc_slide
1004  00F7              ; ---------------------------------
1005  00F7              _player_calc_slide:
1006  00F7  2A 00 00    	ld	hl,(_sprite)
1007  00FA  26 00       	ld	h,0x00
1008  00FC  01 00 00    	ld	bc,_col
1009  00FF  09          	add	hl,bc
1010  0100  56          	ld	d, (hl)
1011  0101  2A 00 00    	ld	hl,(_sprite)
1012  0104  26 00       	ld	h,0x00
1013  0106  01 00 00    	ld	bc,_lin
1014  0109  09          	add	hl,bc
1015  010A  7E          	ld	a,(hl)
1016  010B  C6 10       	add	a,0x10
1017  010D  5F          	ld	e, a
1018  010E  D5          	push	de
1019  010F  CD 00 00    	call	_game_calc_index
1020  0112  F1          	pop	af
1021  0113  22 00 00    	ld	(_index1),hl
1022  0116  11 00 00    	ld	de,_sliding+0
1023  0119  2A 00 00    	ld	hl,(_index_player)
1024  011C  26 00       	ld	h,0x00
1025  011E  19          	add	hl,de
1026  011F  36 06       	ld	(hl),0x06
1027  0121  2A 00 00    	ld	hl,(_index1)
1028  0124  01 00 00    	ld	bc,_lvl_1
1029  0127  09          	add	hl,bc
1030  0128  7E          	ld	a,(hl)
1031  0129  4F          	ld	c,a
1032  012A  B7          	or	a,a
1033  012B  20 0A       	jr	NZ,l_player_calc_slide_00102
1034  012D  ED 4B 00 00 	ld	bc,(_index1)
1035  0131  03          	inc	bc
1036  0132  21 00 00    	ld	hl,_lvl_1
1037  0135  09          	add	hl, bc
1038  0136  4E          	ld	c, (hl)
1039  0137              l_player_calc_slide_00102:
1040  0137  2A 00 00    	ld	hl,(_index_player)
1041  013A  26 00       	ld	h,0x00
1042  013C  19          	add	hl,de
1043  013D  79          	ld	a,c
1044  013E  EB          	ex	de,hl
1045  013F  D6 11       	sub	a,0x11
1046  0141  28 15       	jr	Z,l_player_calc_slide_00105
1047  0143  79          	ld	a,c
1048  0144  FE 84       	cp	a,0x84
1049  0146  28 06       	jr	Z,l_player_calc_slide_00103
1050  0148  D6 8B       	sub	a,0x8b
1051  014A  28 07       	jr	Z,l_player_calc_slide_00104
1052  014C  18 0D       	jr	l_player_calc_slide_00107
1053  014E              l_player_calc_slide_00103:
1054  014E  3E 06       	ld	a,0x06
1055  0150  12          	ld	(de), a
1056  0151  18 08       	jr	l_player_calc_slide_00107
1057  0153              l_player_calc_slide_00104:
1058  0153  3E 0C       	ld	a,0x0c
1059  0155  12          	ld	(de), a
1060  0156  18 03       	jr	l_player_calc_slide_00107
1061  0158              l_player_calc_slide_00105:
1062  0158  3E 03       	ld	a,0x03
1063  015A  12          	ld	(de), a
1064  015B              l_player_calc_slide_00107:
1065  015B  C9          	ret
1066  015C              	SECTION code_compiler
1067  015C              ;	---------------------------------
1068  015C              ; Function player_check_input
1069  015C              ; ---------------------------------
1070  015C              _player_check_input:
1071  015C  21 00 00    	ld	hl,_dirs
1072  015F  7E          	ld	a, (hl)
1073  0160  CB 07       	rlc	a
1074  0162  E6 01       	and	a,0x01
1075  0164  CB 47       	bit	0, a
1076  0166  20 0F       	jr	NZ,l_player_check_input_00104
1077  0168  CB 56       	bit	2, (hl)
1078  016A  20 0B       	jr	NZ,l_player_check_input_00104
1079  016C  21 00 00    	ld	hl,_dirs
1080  016F  CB 5E       	bit	3, (hl)
1081  0171  20 04       	jr	NZ,l_player_check_input_00104
1082  0173  2E 00       	ld	l,0x00
1083  0175  18 02       	jr	l_player_check_input_00105
1084  0177              l_player_check_input_00104:
1085  0177  2E 01       	ld	l,0x01
1086  0179              l_player_check_input_00105:
1087  0179  C9          	ret
1088  017A              	SECTION code_compiler
1089  017A              ;	---------------------------------
1090  017A              ; Function player_collision
1091  017A              ; ---------------------------------
1092  017A              _player_collision:
1093  017A  2A 00 00    	ld	hl,(_sprite)
1094  017D  26 00       	ld	h,0x00
1095  017F  01 00 00    	ld	bc,_class
1096  0182  09          	add	hl,bc
1097  0183  7E          	ld	a,(hl)
1098  0184  B7          	or	a,a
1099  0185  20 04       	jr	NZ,l_player_collision_00102
1100  0187  6F          	ld	l,a
1101  0188  C3 CF 02    	jp	l_player_collision_00133
1102  018B              l_player_collision_00102:
1103  018B  2A 00 00    	ld	hl,(_sprite)
1104  018E  26 00       	ld	h,0x00
1105  0190  01 00 00    	ld	bc,_state
1106  0193  09          	add	hl,bc
1107  0194  7E          	ld	a,(hl)
1108  0195  CB 67       	bit	4, a
1109  0197  28 05       	jr	Z,l_player_collision_00104
1110  0199  2E 00       	ld	l,0x00
1111  019B  C3 CF 02    	jp	l_player_collision_00133
1112  019E              l_player_collision_00104:
1113  019E  CB 6F       	bit	5, a
1114  01A0  28 05       	jr	Z,l_player_collision_00106
1115  01A2  2E 00       	ld	l,0x00
1116  01A4  C3 CF 02    	jp	l_player_collision_00133
1117  01A7              l_player_collision_00106:
1118  01A7  21 00 00    	ld	hl,_hit_count
1119  01AA  36 00       	ld	(hl),0x00
1120  01AC  21 00 00    	ld	hl,_enemies
1121  01AF  36 00       	ld	(hl),0x00
1122  01B1              l_player_collision_00131:
1123  01B1  2A 00 00    	ld	hl,(_enemies)
1124  01B4  26 0E       	ld	h,0x0e
1125  01B6  3A 00 00    	ld	a,(_sprite)
1126  01B9  E5          	push	hl
1127  01BA  F5          	push	af
1128  01BB  33          	inc	sp
1129  01BC  CD 00 00    	call	_spr_collision_check
1130  01BF  F1          	pop	af
1131  01C0  33          	inc	sp
1132  01C1  7D          	ld	a, l
1133  01C2  B7          	or	a, a
1134  01C3  28 50       	jr	Z,l_player_collision_00132
1135  01C5  2A 00 00    	ld	hl,(_enemies)
1136  01C8  26 00       	ld	h,0x00
1137  01CA  01 00 00    	ld	bc,_state
1138  01CD  09          	add	hl,bc
1139  01CE  CB 66       	bit	4,(hl)
1140  01D0  28 08       	jr	Z,l_player_collision_00117
1141  01D2  2A 00 00    	ld	hl,(_enemies)
1142  01D5  CD 00 00    	call	_enemy_kill
1143  01D8  18 3B       	jr	l_player_collision_00132
1144  01DA              l_player_collision_00117:
1145  01DA  2A 00 00    	ld	hl,(_enemies)
1146  01DD  26 00       	ld	h,0x00
1147  01DF  01 00 00    	ld	bc,_class
1148  01E2  09          	add	hl,bc
1149  01E3  7E          	ld	a,(hl)
1150  01E4  FE 08       	cp	a,0x08
1151  01E6  28 04       	jr	Z,l_player_collision_00112
1152  01E8  D6 0C       	sub	a,0x0c
1153  01EA  20 0C       	jr	NZ,l_player_collision_00113
1154  01EC              l_player_collision_00112:
1155  01EC  2A 00 00    	ld	hl,(_enemies)
1156  01EF  26 50       	ld	h,0x50
1157  01F1  E5          	push	hl
1158  01F2  CD 03 0F    	call	_player_coin
1159  01F5  F1          	pop	af
1160  01F6  18 1D       	jr	l_player_collision_00132
1161  01F8              l_player_collision_00113:
1162  01F8  21 00 00    	ld	hl,_ay_effect_18
1163  01FB  CD 00 00    	call	_ay_fx_play
1164  01FE  3A 00 00    	ld	a,(_game_god_mode)
1165  0201  B7          	or	a, a
1166  0202  28 08       	jr	Z,l_player_collision_00110
1167  0204  2A 00 00    	ld	hl,(_enemies)
1168  0207  CD 00 00    	call	_enemy_kill
1169  020A  18 09       	jr	l_player_collision_00132
1170  020C              l_player_collision_00110:
1171  020C  3A 00 00    	ld	a,(_game_inmune)
1172  020F  B7          	or	a, a
1173  0210  20 03       	jr	NZ,l_player_collision_00132
1174  0212  CD D0 02    	call	_player_kill
1175  0215              l_player_collision_00132:
1176  0215  21 00 00    	ld	hl,_enemies
1177  0218  7E          	ld	a,(hl)
1178  0219  3C          	inc	a
1179  021A  77          	ld	(hl),a
1180  021B  D6 06       	sub	a,0x06
1181  021D  38 92       	jr	C,l_player_collision_00131
1182  021F  3A 00 00    	ld	a,(_hit_count)
1183  0222  B7          	or	a, a
1184  0223  CA CD 02    	jp	Z, l_player_collision_00129
1185  0226  2A 00 00    	ld	hl,(_sprite)
1186  0229  26 00       	ld	h,0x00
1187  022B  01 00 00    	ld	bc,_lin
1188  022E  09          	add	hl,bc
1189  022F  4E          	ld	c,(hl)
1190  0230  3E 18       	ld	a,0x18
1191  0232  91          	sub	a, c
1192  0233  D2 CD 02    	jp	NC, l_player_collision_00129
1193  0236  2A 00 00    	ld	hl,(_index_player)
1194  0239  26 00       	ld	h,0x00
1195  023B  01 00 00    	ld	bc,_score_osd_col
1196  023E  09          	add	hl,bc
1197  023F  7E          	ld	a,(hl)
1198  0240  47          	ld	b,a
1199  0241  3C          	inc	a
1200  0242  28 13       	jr	Z,l_player_collision_00123
1201  0244  3A 00 00    	ld	a,(_index_player)
1202  0247  5F          	ld	e,a
1203  0248  16 00       	ld	d,0x00
1204  024A  21 00 00    	ld	hl,_score_osd_lin
1205  024D  19          	add	hl,de
1206  024E  4E          	ld	c, (hl)
1207  024F  C5          	push	bc
1208  0250  3E A9       	ld	a,0xa9
1209  0252  F5          	push	af
1210  0253  33          	inc	sp
1211  0254  CD 00 00    	call	_NIRVANAP_drawT_callee
1212  0257              l_player_collision_00123:
1213  0257  2A 00 00    	ld	hl,(_index_player)
1214  025A  26 00       	ld	h,0x00
1215  025C  01 00 00    	ld	bc,_score_osd_col
1216  025F  09          	add	hl,bc
1217  0260  4D          	ld	c,l
1218  0261  44          	ld	b,h
1219  0262  2A 00 00    	ld	hl,(_sprite)
1220  0265  26 00       	ld	h,0x00
1221  0267  11 00 00    	ld	de,_col
1222  026A  19          	add	hl,de
1223  026B  7E          	ld	a,(hl)
1224  026C  02          	ld	(bc), a
1225  026D  2A 00 00    	ld	hl,(_index_player)
1226  0270  26 00       	ld	h,0x00
1227  0272  01 00 00    	ld	bc,_score_osd_lin
1228  0275  09          	add	hl,bc
1229  0276  4D          	ld	c,l
1230  0277  44          	ld	b,h
1231  0278  2A 00 00    	ld	hl,(_sprite)
1232  027B  26 00       	ld	h,0x00
1233  027D  11 00 00    	ld	de,_lin
1234  0280  19          	add	hl,de
1235  0281  7E          	ld	a,(hl)
1236  0282  C6 FA       	add	a,0xfa
1237  0284  02          	ld	(bc), a
1238  0285  01 00 00    	ld	bc,_score_osd_update_time+0
1239  0288  2A 00 00    	ld	hl,(_index_player)
1240  028B  26 00       	ld	h,0x00
1241  028D  29          	add	hl, hl
1242  028E  09          	add	hl,bc
1243  028F  ED 5B 00 00 	ld	de,(_curr_time)
1244  0293  73          	ld	(hl),e
1245  0294  23          	inc	hl
1246  0295  72          	ld	(hl),d
1247  0296  01 00 00    	ld	bc,_score_osd_tile+0
1248  0299  2A 00 00    	ld	hl,(_index_player)
1249  029C  26 00       	ld	h,0x00
1250  029E  29          	add	hl, hl
1251  029F  09          	add	hl, bc
1252  02A0  36 BC       	ld	(hl),0xbc
1253  02A2  23          	inc	hl
1254  02A3  36 00       	ld	(hl),0x00
1255  02A5  3E 01       	ld	a,0x01
1256  02A7  21 00 00    	ld	hl,_hit_count
1257  02AA  96          	sub	a, (hl)
1258  02AB  30 0C       	jr	NC,l_player_collision_00125
1259  02AD  2A 00 00    	ld	hl,(_index_player)
1260  02B0  26 00       	ld	h,0x00
1261  02B2  29          	add	hl, hl
1262  02B3  09          	add	hl, bc
1263  02B4  36 D7       	ld	(hl),0xd7
1264  02B6  23          	inc	hl
1265  02B7  36 00       	ld	(hl),0x00
1266  02B9              l_player_collision_00125:
1267  02B9  3E 06       	ld	a,0x06
1268  02BB  21 00 00    	ld	hl,_hit_count
1269  02BE  96          	sub	a, (hl)
1270  02BF  30 0C       	jr	NC,l_player_collision_00129
1271  02C1  2A 00 00    	ld	hl,(_index_player)
1272  02C4  26 00       	ld	h,0x00
1273  02C6  29          	add	hl, hl
1274  02C7  09          	add	hl, bc
1275  02C8  36 CB       	ld	(hl),0xcb
1276  02CA  23          	inc	hl
1277  02CB  36 00       	ld	(hl),0x00
1278  02CD              l_player_collision_00129:
1279  02CD  2E 00       	ld	l,0x00
1280  02CF              l_player_collision_00133:
1281  02CF  C9          	ret
1282  02D0              	SECTION code_compiler
1283  02D0              ;	---------------------------------
1284  02D0              ; Function player_kill
1285  02D0              ; ---------------------------------
1286  02D0              _player_kill:
1287  02D0  01 00 00    	ld	bc,_state+0
1288  02D3  2A 00 00    	ld	hl,(_sprite)
1289  02D6  26 00       	ld	h,0x00
1290  02D8  09          	add	hl,bc
1291  02D9  CB 6E       	bit	5,(hl)
1292  02DB  C2 AA 03    	jp	NZ,l_player_kill_00109
1293  02DE  C5          	push	bc
1294  02DF  CD 00 00    	call	_sound_hit_brick
1295  02E2  C1          	pop	bc
1296  02E3  79          	ld	a, c
1297  02E4  21 00 00    	ld	hl,_sprite
1298  02E7  86          	add	a, (hl)
1299  02E8  5F          	ld	e, a
1300  02E9  78          	ld	a, b
1301  02EA  CE 00       	adc	a,0x00
1302  02EC  57          	ld	d, a
1303  02ED  1A          	ld	a, (de)
1304  02EE  F6 20       	or	a,0x20
1305  02F0  12          	ld	(de), a
1306  02F1  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1307  02F3  86          	add	a, (hl)
1308  02F4  5F          	ld	e, a
1309  02F5  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1310  02F7  CE 00       	adc	a,0x00
1311  02F9  57          	ld	d, a
1312  02FA  3E 03       	ld	a,0x03
1313  02FC  12          	ld	(de), a
1314  02FD  79          	ld	a, c
1315  02FE  86          	add	a, (hl)
1316  02FF  4F          	ld	c, a
1317  0300  78          	ld	a, b
1318  0301  CE 00       	adc	a,0x00
1319  0303  47          	ld	b, a
1320  0304  0A          	ld	a, (bc)
1321  0305  CB 57       	bit	2, a
1322  0307  28 11       	jr	Z,l_player_kill_00102
1323  0309  2A 00 00    	ld	hl,(_sprite)
1324  030C  26 00       	ld	h,0x00
1325  030E  01 00 00    	ld	bc,_tile
1326  0311  09          	add	hl,bc
1327  0312  3A 00 00    	ld	a,(_tile_offset)
1328  0315  C6 0B       	add	a,0x0b
1329  0317  77          	ld	(hl),a
1330  0318  18 0F       	jr	l_player_kill_00103
1331  031A              l_player_kill_00102:
1332  031A  2A 00 00    	ld	hl,(_sprite)
1333  031D  26 00       	ld	h,0x00
1334  031F  01 00 00    	ld	bc,_tile
1335  0322  09          	add	hl,bc
1336  0323  3A 00 00    	ld	a,(_tile_offset)
1337  0326  C6 17       	add	a,0x17
1338  0328  77          	ld	(hl),a
1339  0329              l_player_kill_00103:
1340  0329  CD F1 0D    	call	_player_hit_brick_clear
1341  032C  2A 00 00    	ld	hl,(_sprite)
1342  032F  26 00       	ld	h,0x00
1343  0331  01 00 00    	ld	bc,_col
1344  0334  09          	add	hl,bc
1345  0335  4E          	ld	c, (hl)
1346  0336  2A 00 00    	ld	hl,(_sprite)
1347  0339  26 00       	ld	h,0x00
1348  033B  11 00 00    	ld	de,_lin
1349  033E  19          	add	hl,de
1350  033F  46          	ld	b, (hl)
1351  0340  2A 00 00    	ld	hl,(_sprite)
1352  0343  26 00       	ld	h,0x00
1353  0345  11 00 00    	ld	de,_tile
1354  0348  19          	add	hl,de
1355  0349  56          	ld	d, (hl)
1356  034A  79          	ld	a,c
1357  034B  21 00 00    	ld	hl,_sprite
1358  034E  F5          	push	af
1359  034F  33          	inc	sp
1360  0350  4A          	ld	c, d
1361  0351  7E          	ld	a,(hl)
1362  0352  C5          	push	bc
1363  0353  F5          	push	af
1364  0354  33          	inc	sp
1365  0355  CD 00 00    	call	_NIRVANAP_spriteT_callee
1366  0358  01 00 00    	ld	bc,_spr_timer+0
1367  035B  2A 00 00    	ld	hl,(_sprite)
1368  035E  26 00       	ld	h,0x00
1369  0360  29          	add	hl, hl
1370  0361  09          	add	hl,bc
1371  0362  ED 5B 00 00 	ld	de,(_curr_time)
1372  0366  73          	ld	(hl),e
1373  0367  23          	inc	hl
1374  0368  72          	ld	(hl),d
1375  0369  3A 00 00    	ld	a,(_sprite)
1376  036C  D6 07       	sub	a,0x07
1377  036E  20 1E       	jr	NZ,l_player_kill_00105
1378  0370  01 00 00    	ld	bc,_state_a+0
1379  0373  79          	ld	a, c
1380  0374  21 00 00    	ld	hl,_sprite
1381  0377  86          	add	a, (hl)
1382  0378  5F          	ld	e, a
1383  0379  78          	ld	a, b
1384  037A  CE 00       	adc	a,0x00
1385  037C  57          	ld	d, a
1386  037D  1A          	ld	a, (de)
1387  037E  F6 08       	or	a,0x08
1388  0380  12          	ld	(de), a
1389  0381  79          	ld	a, c
1390  0382  86          	add	a, (hl)
1391  0383  4F          	ld	c, a
1392  0384  78          	ld	a, b
1393  0385  CE 00       	adc	a,0x00
1394  0387  47          	ld	b, a
1395  0388  0A          	ld	a, (bc)
1396  0389  E6 EF       	and	a,0xef
1397  038B  02          	ld	(bc), a
1398  038C  18 1C       	jr	l_player_kill_00109
1399  038E              l_player_kill_00105:
1400  038E  01 00 00    	ld	bc,_state_a+0
1401  0391  79          	ld	a, c
1402  0392  21 00 00    	ld	hl,_sprite
1403  0395  86          	add	a, (hl)
1404  0396  5F          	ld	e, a
1405  0397  78          	ld	a, b
1406  0398  CE 00       	adc	a,0x00
1407  039A  57          	ld	d, a
1408  039B  1A          	ld	a, (de)
1409  039C  F6 10       	or	a,0x10
1410  039E  12          	ld	(de), a
1411  039F  79          	ld	a, c
1412  03A0  86          	add	a, (hl)
1413  03A1  4F          	ld	c, a
1414  03A2  78          	ld	a, b
1415  03A3  CE 00       	adc	a,0x00
1416  03A5  47          	ld	b, a
1417  03A6  0A          	ld	a, (bc)
1418  03A7  E6 F7       	and	a,0xf7
1419  03A9  02          	ld	(bc), a
1420  03AA              l_player_kill_00109:
1421  03AA  C9          	ret
1422  03AB              	SECTION code_compiler
1423  03AB              ;	---------------------------------
1424  03AB              ; Function player_restart
1425  03AB              ; ---------------------------------
1426  03AB              _player_restart:
1427  03AB  CD 00 00    	call	___sdcc_enter_ix
1428  03AE  F5          	push	af
1429  03AF  3E 00       	ld	a,+((_col) & 0xFF)
1430  03B1  85          	add	a,l
1431  03B2  4D          	ld	c,l
1432  03B3  5F          	ld	e, a
1433  03B4  3E 00       	ld	a, +((_col) / 256)
1434  03B6  CE 00       	adc	a,0x00
1435  03B8  57          	ld	d, a
1436  03B9  1A          	ld	a, (de)
1437  03BA  D6 04       	sub	a,0x04
1438  03BC  30 0C       	jr	NC,l_player_restart_00102
1439  03BE  C5          	push	bc
1440  03BF  D5          	push	de
1441  03C0  21 E0 01    	ld	hl,0x01e0
1442  03C3  E5          	push	hl
1443  03C4  CD 00 00    	call	_spr_back_paint
1444  03C7  F1          	pop	af
1445  03C8  D1          	pop	de
1446  03C9  C1          	pop	bc
1447  03CA              l_player_restart_00102:
1448  03CA  1A          	ld	a, (de)
1449  03CB  47          	ld	b, a
1450  03CC  3E 1A       	ld	a,0x1a
1451  03CE  90          	sub	a, b
1452  03CF  30 0A       	jr	NC,l_player_restart_00104
1453  03D1  C5          	push	bc
1454  03D2  21 FA 01    	ld	hl,0x01fa
1455  03D5  E5          	push	hl
1456  03D6  CD 00 00    	call	_spr_back_paint
1457  03D9  F1          	pop	af
1458  03DA  C1          	pop	bc
1459  03DB              l_player_restart_00104:
1460  03DB  21 00 00    	ld	hl,_ay_effect_15
1461  03DE  CD 00 00    	call	_ay_fx_play
1462  03E1  79          	ld	a, c
1463  03E2  D6 07       	sub	a,0x07
1464  03E4  20 1B       	jr	NZ,l_player_restart_00106
1465  03E6  C5          	push	bc
1466  03E7  21 0E 03    	ld	hl,0x030e
1467  03EA  E5          	push	hl
1468  03EB  21 07 00    	ld	hl,0x0007
1469  03EE  E5          	push	hl
1470  03EF  CD 00 00    	call	_player_init
1471  03F2  F1          	pop	af
1472  03F3  21 10 0E    	ld	hl,0x0e10
1473  03F6  E3          	ex	(sp),hl
1474  03F7  3E 84       	ld	a,0x84
1475  03F9  F5          	push	af
1476  03FA  33          	inc	sp
1477  03FB  CD 00 00    	call	_NIRVANAP_drawT_callee
1478  03FE  C1          	pop	bc
1479  03FF  18 19       	jr	l_player_restart_00107
1480  0401              l_player_restart_00106:
1481  0401  C5          	push	bc
1482  0402  21 10 27    	ld	hl,0x2710
1483  0405  E5          	push	hl
1484  0406  21 06 00    	ld	hl,0x0006
1485  0409  E5          	push	hl
1486  040A  CD 00 00    	call	_player_init
1487  040D  F1          	pop	af
1488  040E  21 10 10    	ld	hl,0x1010
1489  0411  E3          	ex	(sp),hl
1490  0412  3E 84       	ld	a,0x84
1491  0414  F5          	push	af
1492  0415  33          	inc	sp
1493  0416  CD 00 00    	call	_NIRVANAP_drawT_callee
1494  0419  C1          	pop	bc
1495  041A              l_player_restart_00107:
1496  041A  11 00 00    	ld	de,_state+0
1497  041D  69          	ld	l,c
1498  041E  26 00       	ld	h,0x00
1499  0420  19          	add	hl, de
1500  0421  CB E6       	set	4, (hl)
1501  0423  11 00 00    	ld	de,_state_a+0
1502  0426  69          	ld	l,c
1503  0427  26 00       	ld	h,0x00
1504  0429  19          	add	hl, de
1505  042A  CB C6       	set	0, (hl)
1506  042C  11 00 00    	ld	de,_spr_timer+0
1507  042F  69          	ld	l, c
1508  0430  26 00       	ld	h,0x00
1509  0432  29          	add	hl, hl
1510  0433  19          	add	hl,de
1511  0434  E3          	ex	(sp), hl
1512  0435  E1          	pop	hl
1513  0436  ED 5B 00 00 	ld	de,(_curr_time)
1514  043A  E5          	push	hl
1515  043B  73          	ld	(hl), e
1516  043C  23          	inc	hl
1517  043D  72          	ld	(hl), d
1518  043E  11 00 00    	ld	de,_sprite_speed_alt+0
1519  0441  69          	ld	l,c
1520  0442  26 00       	ld	h,0x00
1521  0444  19          	add	hl, de
1522  0445  F1          	pop	af
1523  0446  36 08       	ld	(hl),0x08
1524  0448  DD E1       	pop	ix
1525  044A  C9          	ret
1526  044B              	SECTION code_compiler
1527  044B              ;	---------------------------------
1528  044B              ; Function player_lost_life
1529  044B              ; ---------------------------------
1530  044B              _player_lost_life:
1531  044B  CD 00 00    	call	_sound_hit_enemy
1532  044E  01 00 00    	ld	bc,_game_lives+0
1533  0451  79          	ld	a, c
1534  0452  21 00 00    	ld	hl,_index_player
1535  0455  86          	add	a, (hl)
1536  0456  5F          	ld	e, a
1537  0457  78          	ld	a, b
1538  0458  CE 00       	adc	a,0x00
1539  045A  57          	ld	d, a
1540  045B  1A          	ld	a, (de)
1541  045C  C6 FF       	add	a,0xff
1542  045E  12          	ld	(de), a
1543  045F  79          	ld	a, c
1544  0460  86          	add	a, (hl)
1545  0461  5F          	ld	e, a
1546  0462  78          	ld	a, b
1547  0463  CE 00       	adc	a,0x00
1548  0465  57          	ld	d, a
1549  0466  1A          	ld	a, (de)
1550  0467  B7          	or	a, a
1551  0468  20 13       	jr	NZ,l_player_lost_life_00105
1552  046A  0A          	ld	a, (bc)
1553  046B  B7          	or	a, a
1554  046C  20 0B       	jr	NZ,l_player_lost_life_00102
1555  046E  3A 01 00    	ld	a, (_game_lives + 1)
1556  0471  B7          	or	a, a
1557  0472  20 05       	jr	NZ,l_player_lost_life_00102
1558  0474  21 00 00    	ld	hl,_game_over
1559  0477  36 01       	ld	(hl),0x01
1560  0479              l_player_lost_life_00102:
1561  0479  2E 00       	ld	l,0x00
1562  047B  18 08       	jr	l_player_lost_life_00106
1563  047D              l_player_lost_life_00105:
1564  047D  CD 00 00    	call	_spr_check_over
1565  0480  CD 00 00    	call	_game_print_lives
1566  0483  2E 01       	ld	l,0x01
1567  0485              l_player_lost_life_00106:
1568  0485  C9          	ret
1569  0486              	SECTION code_compiler
1570  0486              ;	---------------------------------
1571  0486              ; Function player_turn
1572  0486              ; ---------------------------------
1573  0486              _player_turn:
1574  0486  2A 00 00    	ld	hl,(_sprite)
1575  0489  26 00       	ld	h,0x00
1576  048B  01 00 00    	ld	bc,_class
1577  048E  09          	add	hl,bc
1578  048F  7E          	ld	a,(hl)
1579  0490  D6 10       	sub	a,0x10
1580  0492  20 4F       	jr	NZ,l_player_turn_00110
1581  0494  3A 00 00    	ld	a,(_phase_left)
1582  0497  B7          	or	a, a
1583  0498  28 49       	jr	Z,l_player_turn_00110
1584  049A  2A 00 00    	ld	hl,(_index_player)
1585  049D  26 00       	ld	h,0x00
1586  049F  01 00 00    	ld	bc,_game_lives
1587  04A2  09          	add	hl,bc
1588  04A3  7E          	ld	a,(hl)
1589  04A4  B7          	or	a, a
1590  04A5  28 3C       	jr	Z,l_player_turn_00110
1591  04A7  21 00 00    	ld	hl,_sprite
1592  04AA  CD 00 00    	call	_spr_chktime
1593  04AD  7D          	ld	a, l
1594  04AE  B7          	or	a, a
1595  04AF  28 32       	jr	Z,l_player_turn_00110
1596  04B1  21 00 00    	ld	hl,_dirs
1597  04B4  36 00       	ld	(hl),0x00
1598  04B6  3A 00 00    	ld	a,(_sprite)
1599  04B9  D6 07       	sub	a,0x07
1600  04BB  20 11       	jr	NZ,l_player_turn_00102
1601  04BD  21 00 00    	ld	hl,_k1
1602  04C0  E5          	push	hl
1603  04C1  2A 00 00    	ld	hl,(_joyfunc1)
1604  04C4  CD 00 00    	call	___sdcc_call_hl
1605  04C7  F1          	pop	af
1606  04C8  7D          	ld	a,l
1607  04C9  32 00 00    	ld	(_dirs),a
1608  04CC  18 0F       	jr	l_player_turn_00103
1609  04CE              l_player_turn_00102:
1610  04CE  21 00 00    	ld	hl,_k2
1611  04D1  E5          	push	hl
1612  04D2  2A 00 00    	ld	hl,(_joyfunc2)
1613  04D5  CD 00 00    	call	___sdcc_call_hl
1614  04D8  F1          	pop	af
1615  04D9  7D          	ld	a,l
1616  04DA  32 00 00    	ld	(_dirs),a
1617  04DD              l_player_turn_00103:
1618  04DD  CD E4 04    	call	_player_move
1619  04E0  CD 7A 01    	call	_player_collision
1620  04E3              l_player_turn_00110:
1621  04E3  C9          	ret
1622  04E4              	SECTION code_compiler
1623  04E4              ;	---------------------------------
1624  04E4              ; Function player_move
1625  04E4              ; ---------------------------------
1626  04E4              _player_move:
1627  04E4  CD 00 00    	call	___sdcc_enter_ix
1628  04E7  F5          	push	af
1629  04E8  3B          	dec	sp
1630  04E9  2A 00 00    	ld	hl,(_sprite)
1631  04EC  26 00       	ld	h,0x00
1632  04EE  01 00 00    	ld	bc,_lin
1633  04F1  09          	add	hl,bc
1634  04F2  7E          	ld	a,(hl)
1635  04F3  DD 77 FF    	ld	(ix-1),a
1636  04F6  32 00 00    	ld	(_s_lin0),a
1637  04F9  2A 00 00    	ld	hl,(_sprite)
1638  04FC  26 00       	ld	h,0x00
1639  04FE  01 00 00    	ld	bc,_col
1640  0501  09          	add	hl,bc
1641  0502  7E          	ld	a,(hl)
1642  0503  32 00 00    	ld	(_s_col0),a
1643  0506  3E 00       	ld	a, +((_tile) & 0xFF)
1644  0508  21 00 00    	ld	hl,_sprite
1645  050B  86          	add	a, (hl)
1646  050C  DD 77 FD    	ld	(ix-3),a
1647  050F  3E 00       	ld	a, +((_tile) / 256)
1648  0511  CE 00       	adc	a,0x00
1649  0513  DD 77 FE    	ld	(ix-2),a
1650  0516  E1          	pop	hl
1651  0517  4E          	ld	c,(hl)
1652  0518  E5          	push	hl
1653  0519  2A 00 00    	ld	hl,(_sprite)
1654  051C  26 00       	ld	h,0x00
1655  051E  11 00 00    	ld	de,_colint
1656  0521  19          	add	hl,de
1657  0522  7E          	ld	a,(hl)
1658  0523  81          	add	a,c
1659  0524  32 00 00    	ld	(_s_tile0),a
1660  0527  2A 00 00    	ld	hl,(_sprite)
1661  052A  26 00       	ld	h,0x00
1662  052C  01 00 00    	ld	bc,_state
1663  052F  09          	add	hl,bc
1664  0530  7E          	ld	a,(hl)
1665  0531  CB 6F       	bit	5,a
1666  0533  32 00 00    	ld	(_s_state),a
1667  0536  28 2E       	jr	Z,l_player_move_00104
1668  0538  3A 00 00    	ld	a,(_tile_offset)
1669  053B  C6 0A       	add	a,0x0a
1670  053D  E1          	pop	hl
1671  053E  E5          	push	hl
1672  053F  77          	ld	(hl), a
1673  0540  01 00 00    	ld	bc,_spr_timer+0
1674  0543  2A 00 00    	ld	hl,(_sprite)
1675  0546  26 00       	ld	h,0x00
1676  0548  29          	add	hl, hl
1677  0549  09          	add	hl, bc
1678  054A  4E          	ld	c, (hl)
1679  054B  23          	inc	hl
1680  054C  46          	ld	b, (hl)
1681  054D  21 28 00    	ld	hl,0x0028
1682  0550  E5          	push	hl
1683  0551  C5          	push	bc
1684  0552  CD 00 00    	call	_game_check_time
1685  0555  F1          	pop	af
1686  0556  F1          	pop	af
1687  0557  7D          	ld	a, l
1688  0558  B7          	or	a, a
1689  0559  28 06       	jr	Z,l_player_move_00102
1690  055B  2A 00 00    	ld	hl,(_sprite)
1691  055E  CD 00 00    	call	_spr_killed
1692  0561              l_player_move_00102:
1693  0561  2E 00       	ld	l,0x00
1694  0563  C3 E1 08    	jp	l_player_move_00164
1695  0566              l_player_move_00104:
1696  0566  21 00 00    	ld	hl,_s_state
1697  0569  CB 66       	bit	4, (hl)
1698  056B  CA C1 06    	jp	Z,l_player_move_00121
1699  056E  DD 7E FF    	ld	a,(ix-1)
1700  0571  D6 10       	sub	a,0x10
1701  0573  30 12       	jr	NC,l_player_move_00112
1702  0575  2A 00 00    	ld	hl,(_sprite)
1703  0578  26 00       	ld	h,0x00
1704  057A  01 00 00    	ld	bc,_state_a
1705  057D  09          	add	hl,bc
1706  057E  7E          	ld	a,(hl)
1707  057F  E6 FE       	and	a,0xfe
1708  0581  77          	ld	(hl),a
1709  0582  CD 00 00    	call	_spr_move_down
1710  0585  18 72       	jr	l_player_move_00113
1711  0587              l_player_move_00112:
1712  0587  CD 5C 01    	call	_player_check_input
1713  058A  7D          	ld	a, l
1714  058B  B7          	or	a, a
1715  058C  28 6B       	jr	Z,l_player_move_00113
1716  058E  21 00 00    	ld	hl,_dirs
1717  0591  CB 5E       	bit	3, (hl)
1718  0593  28 0D       	jr	Z,l_player_move_00106
1719  0595  2A 00 00    	ld	hl,(_sprite)
1720  0598  26 00       	ld	h,0x00
1721  059A  01 00 00    	ld	bc,_state
1722  059D  09          	add	hl,bc
1723  059E  7E          	ld	a,(hl)
1724  059F  F6 04       	or	a,0x04
1725  05A1  77          	ld	(hl),a
1726  05A2              l_player_move_00106:
1727  05A2  21 00 00    	ld	hl,_dirs
1728  05A5  CB 56       	bit	2, (hl)
1729  05A7  28 0D       	jr	Z,l_player_move_00108
1730  05A9  2A 00 00    	ld	hl,(_sprite)
1731  05AC  26 00       	ld	h,0x00
1732  05AE  01 00 00    	ld	bc,_state
1733  05B1  09          	add	hl,bc
1734  05B2  7E          	ld	a,(hl)
1735  05B3  F6 08       	or	a,0x08
1736  05B5  77          	ld	(hl),a
1737  05B6              l_player_move_00108:
1738  05B6  2A 00 00    	ld	hl,(_sprite)
1739  05B9  26 00       	ld	h,0x00
1740  05BB  01 00 00    	ld	bc,_state
1741  05BE  09          	add	hl,bc
1742  05BF  7E          	ld	a,(hl)
1743  05C0  E6 EF       	and	a,0xef
1744  05C2  77          	ld	(hl),a
1745  05C3  2A 00 00    	ld	hl,(_sprite)
1746  05C6  26 00       	ld	h,0x00
1747  05C8  01 00 00    	ld	bc,_state_a
1748  05CB  09          	add	hl,bc
1749  05CC  7E          	ld	a,(hl)
1750  05CD  E6 FE       	and	a,0xfe
1751  05CF  77          	ld	(hl),a
1752  05D0  76          	halt
1753  05D1  3A 00 00    	ld	a,(_s_col0)
1754  05D4  F5          	push	af
1755  05D5  33          	inc	sp
1756  05D6  21 A9 10    	ld	hl,0x10a9
1757  05D9  E5          	push	hl
1758  05DA  CD 00 00    	call	_NIRVANAP_drawT_callee
1759  05DD  3A 00 00    	ld	a,(_s_col0)
1760  05E0  F5          	push	af
1761  05E1  33          	inc	sp
1762  05E2  21 A9 20    	ld	hl,0x20a9
1763  05E5  E5          	push	hl
1764  05E6  CD 00 00    	call	_NIRVANAP_drawT_callee
1765  05E9  2A 00 00    	ld	hl,(_sprite)
1766  05EC  26 00       	ld	h,0x00
1767  05EE  01 00 00    	ld	bc,_sprite_speed_alt
1768  05F1  09          	add	hl,bc
1769  05F2  AF          	xor	a,a
1770  05F3  77          	ld	(hl),a
1771  05F4  2E 00       	ld	l,0x00
1772  05F6  C3 E1 08    	jp	l_player_move_00164
1773  05F9              l_player_move_00113:
1774  05F9  CD 00 00    	call	_spr_redraw
1775  05FC  ED 4B 00 00 	ld	bc,(_curr_time)
1776  0600  2A 00 00    	ld	hl,(_sprite)
1777  0603  26 00       	ld	h,0x00
1778  0605  29          	add	hl, hl
1779  0606  11 00 00    	ld	de,_spr_timer
1780  0609  19          	add	hl, de
1781  060A  5E          	ld	e, (hl)
1782  060B  23          	inc	hl
1783  060C  56          	ld	d, (hl)
1784  060D  69          	ld	l,c
1785  060E  60          	ld	h,b
1786  060F  AF          	xor	a,a
1787  0610  ED 52       	sbc	hl,de
1788  0612  22 00 00    	ld	(_tmp_ui),hl
1789  0615  21 00 00    	ld	hl,_tmp
1790  0618  36 00       	ld	(hl),0x00
1791  061A  3E 32       	ld	a,0x32
1792  061C  21 00 00    	ld	hl,_tmp_ui
1793  061F  BE          	cp	a, (hl)
1794  0620  3E 00       	ld	a,0x00
1795  0622  23          	inc	hl
1796  0623  9E          	sbc	a, (hl)
1797  0624  30 05       	jr	NC,l_player_move_00115
1798  0626  21 00 00    	ld	hl,_tmp
1799  0629  36 01       	ld	(hl),0x01
1800  062B              l_player_move_00115:
1801  062B  3E 64       	ld	a,0x64
1802  062D  21 00 00    	ld	hl,_tmp_ui
1803  0630  BE          	cp	a, (hl)
1804  0631  3E 00       	ld	a,0x00
1805  0633  23          	inc	hl
1806  0634  9E          	sbc	a, (hl)
1807  0635  30 05       	jr	NC,l_player_move_00117
1808  0637  21 00 00    	ld	hl,_tmp
1809  063A  36 02       	ld	(hl),0x02
1810  063C              l_player_move_00117:
1811  063C  76          	halt
1812  063D  2A 00 00    	ld	hl,(_sprite)
1813  0640  26 00       	ld	h,0x00
1814  0642  01 00 00    	ld	bc,_lin
1815  0645  09          	add	hl,bc
1816  0646  7E          	ld	a,(hl)
1817  0647  C6 10       	add	a,0x10
1818  0649  4D          	ld	c,l
1819  064A  57          	ld	d, a
1820  064B  3A 00 00    	ld	a,(_tmp)
1821  064E  C6 84       	add	a,0x84
1822  0650  47          	ld	b, a
1823  0651  3A 00 00    	ld	a,(_s_col0)
1824  0654  5A          	ld	e,d
1825  0655  57          	ld	d,a
1826  0656  D5          	push	de
1827  0657  C5          	push	bc
1828  0658  33          	inc	sp
1829  0659  CD 00 00    	call	_NIRVANAP_drawT_callee
1830  065C  3E 96       	ld	a,0x96
1831  065E  21 00 00    	ld	hl,_tmp_ui
1832  0661  BE          	cp	a, (hl)
1833  0662  3E 00       	ld	a,0x00
1834  0664  23          	inc	hl
1835  0665  9E          	sbc	a, (hl)
1836  0666  30 54       	jr	NC,l_player_move_00119
1837  0668  2A 00 00    	ld	hl,(_sprite)
1838  066B  26 00       	ld	h,0x00
1839  066D  01 00 00    	ld	bc,_lin
1840  0670  09          	add	hl,bc
1841  0671  4E          	ld	c, (hl)
1842  0672  3A 00 00    	ld	a, (_s_col0)
1843  0675  47          	ld	b,a
1844  0676  C5          	push	bc
1845  0677  3E A9       	ld	a,0xa9
1846  0679  F5          	push	af
1847  067A  33          	inc	sp
1848  067B  CD 00 00    	call	_NIRVANAP_drawT_callee
1849  067E  2A 00 00    	ld	hl,(_sprite)
1850  0681  26 00       	ld	h,0x00
1851  0683  01 00 00    	ld	bc,_lin
1852  0686  09          	add	hl,bc
1853  0687  7E          	ld	a,(hl)
1854  0688  C6 10       	add	a,0x10
1855  068A  4F          	ld	c, a
1856  068B  3A 00 00    	ld	a, (_s_col0)
1857  068E  47          	ld	b,a
1858  068F  C5          	push	bc
1859  0690  3E A9       	ld	a,0xa9
1860  0692  F5          	push	af
1861  0693  33          	inc	sp
1862  0694  CD 00 00    	call	_NIRVANAP_drawT_callee
1863  0697  2A 00 00    	ld	hl,(_sprite)
1864  069A  26 00       	ld	h,0x00
1865  069C  01 00 00    	ld	bc,_state
1866  069F  09          	add	hl,bc
1867  06A0  7E          	ld	a,(hl)
1868  06A1  E6 EF       	and	a,0xef
1869  06A3  77          	ld	(hl),a
1870  06A4  2A 00 00    	ld	hl,(_sprite)
1871  06A7  26 00       	ld	h,0x00
1872  06A9  01 00 00    	ld	bc,_state
1873  06AC  09          	add	hl,bc
1874  06AD  7E          	ld	a,(hl)
1875  06AE  F6 01       	or	a,0x01
1876  06B0  77          	ld	(hl),a
1877  06B1  2A 00 00    	ld	hl,(_sprite)
1878  06B4  26 00       	ld	h,0x00
1879  06B6  01 00 00    	ld	bc,_sprite_speed_alt
1880  06B9  09          	add	hl,bc
1881  06BA  AF          	xor	a,a
1882  06BB  77          	ld	(hl),a
1883  06BC              l_player_move_00119:
1884  06BC  2E 00       	ld	l,0x00
1885  06BE  C3 E1 08    	jp	l_player_move_00164
1886  06C1              l_player_move_00121:
1887  06C1  01 00 00    	ld	bc,_state_a+0
1888  06C4  2A 00 00    	ld	hl,(_sprite)
1889  06C7  26 00       	ld	h,0x00
1890  06C9  09          	add	hl,bc
1891  06CA  7E          	ld	a,(hl)
1892  06CB  0F          	rrca
1893  06CC  30 1B       	jr	NC,l_player_move_00126
1894  06CE  C5          	push	bc
1895  06CF  CD 5C 01    	call	_player_check_input
1896  06D2  C1          	pop	bc
1897  06D3  7D          	ld	a,l
1898  06D4  B7          	or	a, a
1899  06D5  28 0D       	jr	Z,l_player_move_00123
1900  06D7  2A 00 00    	ld	hl,(_sprite)
1901  06DA  26 00       	ld	h,0x00
1902  06DC  09          	add	hl,bc
1903  06DD  7E          	ld	a,(hl)
1904  06DE  EB          	ex	de,hl
1905  06DF  E6 FE       	and	a,0xfe
1906  06E1  12          	ld	(de), a
1907  06E2  18 05       	jr	l_player_move_00126
1908  06E4              l_player_move_00123:
1909  06E4  2E 00       	ld	l,0x00
1910  06E6  C3 E1 08    	jp	l_player_move_00164
1911  06E9              l_player_move_00126:
1912  06E9  2A 00 00    	ld	hl,(_sprite)
1913  06EC  26 00       	ld	h,0x00
1914  06EE  09          	add	hl,bc
1915  06EF  CB 56       	bit	2,(hl)
1916  06F1  28 5F       	jr	Z,l_player_move_00130
1917  06F3  2A 00 00    	ld	hl,(_sprite)
1918  06F6  26 00       	ld	h,0x00
1919  06F8  29          	add	hl, hl
1920  06F9  11 00 00    	ld	de,_spr_timer
1921  06FC  19          	add	hl, de
1922  06FD  5E          	ld	e, (hl)
1923  06FE  23          	inc	hl
1924  06FF  56          	ld	d, (hl)
1925  0700  C5          	push	bc
1926  0701  21 14 00    	ld	hl,0x0014
1927  0704  E5          	push	hl
1928  0705  D5          	push	de
1929  0706  CD 00 00    	call	_game_check_time
1930  0709  F1          	pop	af
1931  070A  F1          	pop	af
1932  070B  C1          	pop	bc
1933  070C  7D          	ld	a,l
1934  070D  B7          	or	a, a
1935  070E  28 42       	jr	Z,l_player_move_00130
1936  0710  79          	ld	a, c
1937  0711  21 00 00    	ld	hl,_sprite
1938  0714  86          	add	a, (hl)
1939  0715  5F          	ld	e, a
1940  0716  78          	ld	a, b
1941  0717  CE 00       	adc	a,0x00
1942  0719  57          	ld	d, a
1943  071A  1A          	ld	a, (de)
1944  071B  E6 FB       	and	a,0xfb
1945  071D  12          	ld	(de), a
1946  071E  3E 00       	ld	a, +((_colint) & 0xFF)
1947  0720  86          	add	a, (hl)
1948  0721  5F          	ld	e, a
1949  0722  3E 00       	ld	a, +((_colint) / 256)
1950  0724  CE 00       	adc	a,0x00
1951  0726  57          	ld	d, a
1952  0727  AF          	xor	a, a
1953  0728  12          	ld	(de), a
1954  0729  3E 00       	ld	a, +((_tile) & 0xFF)
1955  072B  86          	add	a, (hl)
1956  072C  DD 77 FD    	ld	(ix-3),a
1957  072F  3E 00       	ld	a, +((_tile) / 256)
1958  0731  CE 00       	adc	a,0x00
1959  0733  DD 77 FE    	ld	(ix-2),a
1960  0736  21 00 00    	ld	hl,_tile_offset
1961  0739  56          	ld	d, (hl)
1962  073A  14          	inc	d
1963  073B  14          	inc	d
1964  073C  14          	inc	d
1965  073D  C5          	push	bc
1966  073E  3E 0C       	ld	a,0x0c
1967  0740  F5          	push	af
1968  0741  33          	inc	sp
1969  0742  3A 00 00    	ld	a,(_sprite)
1970  0745  5A          	ld	e,d
1971  0746  57          	ld	d,a
1972  0747  D5          	push	de
1973  0748  CD 00 00    	call	_spr_tile_dir
1974  074B  F1          	pop	af
1975  074C  33          	inc	sp
1976  074D  C1          	pop	bc
1977  074E  5D          	ld	e,l
1978  074F  E1          	pop	hl
1979  0750  E5          	push	hl
1980  0751  73          	ld	(hl), e
1981  0752              l_player_move_00130:
1982  0752  C5          	push	bc
1983  0753  CD E6 08    	call	_player_move_input
1984  0756  C1          	pop	bc
1985  0757  2A 00 00    	ld	hl,(_sprite)
1986  075A  26 00       	ld	h,0x00
1987  075C  11 00 00    	ld	de,_state
1988  075F  19          	add	hl,de
1989  0760  7E          	ld	a,(hl)
1990  0761  21 00 00    	ld	hl,_s_state
1991  0764  77          	ld	(hl),a
1992  0765  E6 01       	and	a,0x01
1993  0767  5F          	ld	e,a
1994  0768  B7          	or	a, a
1995  0769  20 5A       	jr	NZ,l_player_move_00159
1996  076B  CB 4E       	bit	1, (hl)
1997  076D  20 56       	jr	NZ,l_player_move_00159
1998  076F  2A 00 00    	ld	hl,(_sprite)
1999  0772  26 00       	ld	h,0x00
2000  0774  01 00 00    	ld	bc,_col
2001  0777  09          	add	hl,bc
2002  0778  56          	ld	d, (hl)
2003  0779  2A 00 00    	ld	hl,(_sprite)
2004  077C  26 00       	ld	h,0x00
2005  077E  01 00 00    	ld	bc,_lin
2006  0781  09          	add	hl,bc
2007  0782  7E          	ld	a,(hl)
2008  0783  C6 10       	add	a,0x10
2009  0785  5F          	ld	e, a
2010  0786  D5          	push	de
2011  0787  CD 00 00    	call	_game_calc_index
2012  078A  F1          	pop	af
2013  078B  3A 00 00    	ld	a,(_s_lin0)
2014  078E  EB          	ex	de,hl
2015  078F  D6 98       	sub	a,0x98
2016  0791  20 03       	jr	NZ,l_player_move_00132
2017  0793  11 00 00    	ld	de,0x0000
2018  0796              l_player_move_00132:
2019  0796  7A          	ld	a, d
2020  0797  B3          	or	a,e
2021  0798  CA B1 08    	jp	Z, l_player_move_00160
2022  079B  01 00 00    	ld	bc,_lvl_1+0
2023  079E  69          	ld	l, c
2024  079F  60          	ld	h, b
2025  07A0  19          	add	hl, de
2026  07A1  6E          	ld	l, (hl)
2027  07A2  3E 8C       	ld	a,0x8c
2028  07A4  95          	sub	a, l
2029  07A5  D2 B1 08    	jp	NC, l_player_move_00160
2030  07A8  EB          	ex	de,hl
2031  07A9  23          	inc	hl
2032  07AA  09          	add	hl, bc
2033  07AB  4E          	ld	c, (hl)
2034  07AC  3E 8C       	ld	a,0x8c
2035  07AE  91          	sub	a, c
2036  07AF  D2 B1 08    	jp	NC, l_player_move_00160
2037  07B2  2A 00 00    	ld	hl,(_sprite)
2038  07B5  26 00       	ld	h,0x00
2039  07B7  01 00 00    	ld	bc,_sprite_speed_alt
2040  07BA  09          	add	hl,bc
2041  07BB  36 02       	ld	(hl),0x02
2042  07BD  21 00 00    	ld	hl,_s_state
2043  07C0  CB CE       	set	1, (hl)
2044  07C2  C3 B1 08    	jp	l_player_move_00160
2045  07C5              l_player_move_00159:
2046  07C5  21 00 00    	ld	hl,_sprite_lin_inc_mul
2047  07C8  36 02       	ld	(hl),0x02
2048  07CA  3E 00       	ld	a, +((_player_jump_c) & 0xFF)
2049  07CC  21 00 00    	ld	hl,_index_player
2050  07CF  86          	add	a, (hl)
2051  07D0  DD 77 FD    	ld	(ix-3),a
2052  07D3  3E 00       	ld	a, +((_player_jump_c) / 256)
2053  07D5  CE 00       	adc	a,0x00
2054  07D7  DD 77 FE    	ld	(ix-2),a
2055  07DA  E1          	pop	hl
2056  07DB  56          	ld	d,(hl)
2057  07DC  E5          	push	hl
2058  07DD  3E 03       	ld	a,0x03
2059  07DF  92          	sub	a, d
2060  07E0  30 05       	jr	NC,l_player_move_00138
2061  07E2  21 00 00    	ld	hl,_sprite_lin_inc_mul
2062  07E5  36 01       	ld	(hl),0x01
2063  07E7              l_player_move_00138:
2064  07E7  3E 08       	ld	a,0x08
2065  07E9  92          	sub	a, d
2066  07EA  30 05       	jr	NC,l_player_move_00140
2067  07EC  21 00 00    	ld	hl,_sprite_lin_inc_mul
2068  07EF  36 00       	ld	(hl),0x00
2069  07F1              l_player_move_00140:
2070  07F1  3E 0C       	ld	a,0x0c
2071  07F3  92          	sub	a, d
2072  07F4  30 05       	jr	NC,l_player_move_00142
2073  07F6  21 00 00    	ld	hl,_sprite_lin_inc_mul
2074  07F9  36 01       	ld	(hl),0x01
2075  07FB              l_player_move_00142:
2076  07FB  3E 11       	ld	a,0x11
2077  07FD  92          	sub	a, d
2078  07FE  30 05       	jr	NC,l_player_move_00144
2079  0800  21 00 00    	ld	hl,_sprite_lin_inc_mul
2080  0803  36 02       	ld	(hl),0x02
2081  0805              l_player_move_00144:
2082  0805  7B          	ld	a, e
2083  0806  B7          	or	a, a
2084  0807  28 1C       	jr	Z,l_player_move_00156
2085  0809  7A          	ld	a, d
2086  080A  D6 0A       	sub	a,0x0a
2087  080C  30 11       	jr	NC,l_player_move_00148
2088  080E  2A 00 00    	ld	hl,(_sprite)
2089  0811  26 00       	ld	h,0x00
2090  0813  09          	add	hl,bc
2091  0814  7E          	ld	a,(hl)
2092  0815  07          	rlca
2093  0816  DA 9F 08    	jp	C,l_player_move_00157
2094  0819  CD 00 00    	call	_spr_move_up
2095  081C  C3 9F 08    	jp	l_player_move_00157
2096  081F              l_player_move_00148:
2097  081F  CD 00 00    	call	_spr_set_fall
2098  0822  C3 9F 08    	jp	l_player_move_00157
2099  0825              l_player_move_00156:
2100  0825  C5          	push	bc
2101  0826  CD 00 00    	call	_spr_move_down
2102  0829  C1          	pop	bc
2103  082A  7D          	ld	a,l
2104  082B  B7          	or	a, a
2105  082C  28 71       	jr	Z,l_player_move_00157
2106  082E  21 00 00    	ld	hl,_s_state
2107  0831  CB 8E       	res	1, (hl)
2108  0833  2A 00 00    	ld	hl,(_sprite)
2109  0836  26 00       	ld	h,0x00
2110  0838  09          	add	hl,bc
2111  0839  7E          	ld	a,(hl)
2112  083A  E6 7F       	and	a,0x7f
2113  083C  77          	ld	(hl),a
2114  083D  2A 00 00    	ld	hl,(_index_player)
2115  0840  26 00       	ld	h,0x00
2116  0842  01 00 00    	ld	bc,_player_jump_c
2117  0845  09          	add	hl,bc
2118  0846  AF          	xor	a,a
2119  0847  77          	ld	(hl),a
2120  0848  2A 00 00    	ld	hl,(_sprite)
2121  084B  26 00       	ld	h,0x00
2122  084D  01 00 00    	ld	bc,_jump_lin
2123  0850  09          	add	hl,bc
2124  0851  AF          	xor	a,a
2125  0852  77          	ld	(hl),a
2126  0853  2A 00 00    	ld	hl,(_index_player)
2127  0856  26 00       	ld	h,0x00
2128  0858  01 00 00    	ld	bc,_sliding
2129  085B  09          	add	hl,bc
2130  085C  AF          	xor	a,a
2131  085D  77          	ld	(hl),a
2132  085E  2A 00 00    	ld	hl,(_sprite)
2133  0861  26 00       	ld	h,0x00
2134  0863  01 00 00    	ld	bc,_colint
2135  0866  09          	add	hl,bc
2136  0867  AF          	xor	a,a
2137  0868  77          	ld	(hl),a
2138  0869  2A 00 00    	ld	hl,(_sprite)
2139  086C  26 00       	ld	h,0x00
2140  086E  01 00 00    	ld	bc,_tile
2141  0871  09          	add	hl,bc
2142  0872  4D          	ld	c,l
2143  0873  44          	ld	b,h
2144  0874  21 00 00    	ld	hl,_tile_offset
2145  0877  56          	ld	d, (hl)
2146  0878  14          	inc	d
2147  0879  14          	inc	d
2148  087A  14          	inc	d
2149  087B  C5          	push	bc
2150  087C  3E 0C       	ld	a,0x0c
2151  087E  F5          	push	af
2152  087F  33          	inc	sp
2153  0880  3A 00 00    	ld	a,(_sprite)
2154  0883  5A          	ld	e,d
2155  0884  57          	ld	d,a
2156  0885  D5          	push	de
2157  0886  CD 00 00    	call	_spr_tile_dir
2158  0889  F1          	pop	af
2159  088A  33          	inc	sp
2160  088B  C1          	pop	bc
2161  088C  7D          	ld	a,l
2162  088D  02          	ld	(bc), a
2163  088E  21 00 00    	ld	hl,_s_state
2164  0891  CB 5E       	bit	3, (hl)
2165  0893  20 07       	jr	NZ,l_player_move_00150
2166  0895  21 00 00    	ld	hl,_s_state
2167  0898  CB 56       	bit	2, (hl)
2168  089A  28 03       	jr	Z,l_player_move_00157
2169  089C              l_player_move_00150:
2170  089C  CD F7 00    	call	_player_calc_slide
2171  089F              l_player_move_00157:
2172  089F  21 00 00    	ld	hl,_sprite_lin_inc_mul
2173  08A2  36 00       	ld	(hl),0x00
2174  08A4  2A 00 00    	ld	hl,(_index_player)
2175  08A7  26 00       	ld	h,0x00
2176  08A9  01 00 00    	ld	bc,_player_jump_c
2177  08AC  09          	add	hl,bc
2178  08AD  34          	inc	(hl)
2179  08AE  CD 81 0B    	call	_player_move_horizontal
2180  08B1              l_player_move_00160:
2181  08B1  2A 00 00    	ld	hl,(_sprite)
2182  08B4  26 00       	ld	h,0x00
2183  08B6  29          	add	hl, hl
2184  08B7  11 00 00    	ld	de,_spr_timer
2185  08BA  19          	add	hl, de
2186  08BB  4E          	ld	c, (hl)
2187  08BC  23          	inc	hl
2188  08BD  46          	ld	b, (hl)
2189  08BE  21 04 00    	ld	hl,0x0004
2190  08C1  E5          	push	hl
2191  08C2  C5          	push	bc
2192  08C3  CD 00 00    	call	_game_check_time
2193  08C6  F1          	pop	af
2194  08C7  F1          	pop	af
2195  08C8  7D          	ld	a, l
2196  08C9  B7          	or	a, a
2197  08CA  28 03       	jr	Z,l_player_move_00163
2198  08CC  CD F1 0D    	call	_player_hit_brick_clear
2199  08CF              l_player_move_00163:
2200  08CF  CD 00 00    	call	_spr_redraw
2201  08D2  2A 00 00    	ld	hl,(_sprite)
2202  08D5  26 00       	ld	h,0x00
2203  08D7  01 00 00    	ld	bc,_state
2204  08DA  09          	add	hl,bc
2205  08DB  3A 00 00    	ld	a,(_s_state)
2206  08DE  77          	ld	(hl),a
2207  08DF  2E 00       	ld	l,0x00
2208  08E1              l_player_move_00164:
2209  08E1  DD F9       	ld	sp, ix
2210  08E3  DD E1       	pop	ix
2211  08E5  C9          	ret
2212  08E6              	SECTION code_compiler
2213  08E6              ;	---------------------------------
2214  08E6              ; Function player_move_input
2215  08E6              ; ---------------------------------
2216  08E6              _player_move_input:
2217  08E6  21 00 00    	ld	hl,_s_state
2218  08E9  CB 46       	bit	0, (hl)
2219  08EB  20 07       	jr	NZ,l_player_move_input_00101
2220  08ED  21 00 00    	ld	hl,_s_state
2221  08F0  CB 4E       	bit	1, (hl)
2222  08F2  28 05       	jr	Z,l_player_move_input_00102
2223  08F4              l_player_move_input_00101:
2224  08F4  2E 00       	ld	l,0x00
2225  08F6  C3 80 0B    	jp	l_player_move_input_00135
2226  08F9              l_player_move_input_00102:
2227  08F9  CD 5C 01    	call	_player_check_input
2228  08FC  7D          	ld	a, l
2229  08FD  B7          	or	a, a
2230  08FE  CA 9A 0A    	jp	Z, l_player_move_input_00131
2231  0901  2A 00 00    	ld	hl,(_index_player)
2232  0904  26 00       	ld	h,0x00
2233  0906  01 00 00    	ld	bc,_sliding
2234  0909  09          	add	hl,bc
2235  090A  46          	ld	b,(hl)
2236  090B  3A 00 00    	ld	a,(_dirs)
2237  090E  E6 80       	and	a,0x80
2238  0910  4F          	ld	c, a
2239  0911  78          	ld	a, b
2240  0912  B7          	or	a, a
2241  0913  28 05       	jr	Z,l_player_move_input_00130
2242  0915  79          	ld	a, c
2243  0916  B7          	or	a, a
2244  0917  CA 9A 0A    	jp	Z, l_player_move_input_00131
2245  091A              l_player_move_input_00130:
2246  091A  79          	ld	a, c
2247  091B  B7          	or	a, a
2248  091C  CA C9 09    	jp	Z, l_player_move_input_00110
2249  091F  CD 00 00    	call	_ay_is_playing
2250  0922  7D          	ld	a, l
2251  0923  D6 03       	sub	a,0x03
2252  0925  28 06       	jr	Z,l_player_move_input_00105
2253  0927  21 00 00    	ld	hl,_ay_effect_03
2254  092A  CD 00 00    	call	_ay_fx_play
2255  092D              l_player_move_input_00105:
2256  092D  CD 00 00    	call	_sound_jump
2257  0930  2A 00 00    	ld	hl,(_sprite)
2258  0933  26 00       	ld	h,0x00
2259  0935  01 00 00    	ld	bc,_state
2260  0938  09          	add	hl,bc
2261  0939  CB 56       	bit	2,(hl)
2262  093B  28 0D       	jr	Z,l_player_move_input_00107
2263  093D  2A 00 00    	ld	hl,(_sprite)
2264  0940  26 00       	ld	h,0x00
2265  0942  01 00 00    	ld	bc,_colint
2266  0945  09          	add	hl,bc
2267  0946  AF          	xor	a,a
2268  0947  77          	ld	(hl),a
2269  0948  18 0B       	jr	l_player_move_input_00108
2270  094A              l_player_move_input_00107:
2271  094A  2A 00 00    	ld	hl,(_sprite)
2272  094D  26 00       	ld	h,0x00
2273  094F  01 00 00    	ld	bc,_colint
2274  0952  09          	add	hl,bc
2275  0953  36 02       	ld	(hl),0x02
2276  0955              l_player_move_input_00108:
2277  0955  21 00 00    	ld	hl,_s_state
2278  0958  7E          	ld	a,(hl)
2279  0959  F6 01       	or	a,0x01
2280  095B  E6 FD       	and	a,0xfd
2281  095D  77          	ld	(hl),a
2282  095E  2A 00 00    	ld	hl,(_sprite)
2283  0961  26 00       	ld	h,0x00
2284  0963  01 00 00    	ld	bc,_jump_lin
2285  0966  09          	add	hl,bc
2286  0967  4D          	ld	c,l
2287  0968  44          	ld	b,h
2288  0969  2A 00 00    	ld	hl,(_sprite)
2289  096C  26 00       	ld	h,0x00
2290  096E  11 00 00    	ld	de,_lin
2291  0971  19          	add	hl,de
2292  0972  7E          	ld	a,(hl)
2293  0973  02          	ld	(bc),a
2294  0974  2A 00 00    	ld	hl,(_sprite)
2295  0977  26 00       	ld	h,0x00
2296  0979  01 00 00    	ld	bc,_state
2297  097C  09          	add	hl,bc
2298  097D  3A 00 00    	ld	a,(_s_state)
2299  0980  77          	ld	(hl),a
2300  0981  2A 00 00    	ld	hl,(_sprite)
2301  0984  26 00       	ld	h,0x00
2302  0986  01 00 00    	ld	bc,_tile
2303  0989  09          	add	hl,bc
2304  098A  3A 00 00    	ld	a,(_tile_offset)
2305  098D  C6 07       	add	a,0x07
2306  098F  57          	ld	d,a
2307  0990  E5          	push	hl
2308  0991  3E 0C       	ld	a,0x0c
2309  0993  F5          	push	af
2310  0994  33          	inc	sp
2311  0995  3A 00 00    	ld	a,(_sprite)
2312  0998  5A          	ld	e,d
2313  0999  57          	ld	d,a
2314  099A  D5          	push	de
2315  099B  CD 00 00    	call	_spr_tile_dir
2316  099E  F1          	pop	af
2317  099F  33          	inc	sp
2318  09A0  C1          	pop	bc
2319  09A1  7D          	ld	a,l
2320  09A2  02          	ld	(bc), a
2321  09A3  2A 00 00    	ld	hl,(_sprite)
2322  09A6  26 00       	ld	h,0x00
2323  09A8  01 00 00    	ld	bc,_sprite_speed_alt
2324  09AB  09          	add	hl,bc
2325  09AC  36 02       	ld	(hl),0x02
2326  09AE  2A 00 00    	ld	hl,(_index_player)
2327  09B1  26 00       	ld	h,0x00
2328  09B3  01 00 00    	ld	bc,_player_jump_c
2329  09B6  09          	add	hl,bc
2330  09B7  AF          	xor	a,a
2331  09B8  77          	ld	(hl),a
2332  09B9  2A 00 00    	ld	hl,(_index_player)
2333  09BC  26 00       	ld	h,0x00
2334  09BE  01 00 00    	ld	bc,_sliding
2335  09C1  09          	add	hl,bc
2336  09C2  AF          	xor	a,a
2337  09C3  77          	ld	(hl),a
2338  09C4  2E 01       	ld	l,0x01
2339  09C6  C3 80 0B    	jp	l_player_move_input_00135
2340  09C9              l_player_move_input_00110:
2341  09C9  21 00 00    	ld	hl,_dirs
2342  09CC  CB 5E       	bit	3, (hl)
2343  09CE  28 3F       	jr	Z,l_player_move_input_00114
2344  09D0  21 00 00    	ld	hl,_s_state
2345  09D3  CB 5E       	bit	3, (hl)
2346  09D5  28 08       	jr	Z,l_player_move_input_00112
2347  09D7  CD F7 00    	call	_player_calc_slide
2348  09DA  2E 01       	ld	l,0x01
2349  09DC  C3 80 0B    	jp	l_player_move_input_00135
2350  09DF              l_player_move_input_00112:
2351  09DF  21 00 00    	ld	hl,_s_state
2352  09E2  7E          	ld	a,(hl)
2353  09E3  F6 04       	or	a,0x04
2354  09E5  E6 F7       	and	a,0xf7
2355  09E7  77          	ld	(hl),a
2356  09E8  01 00 00    	ld	bc,_state_a+0
2357  09EB  79          	ld	a, c
2358  09EC  21 00 00    	ld	hl,_sprite
2359  09EF  86          	add	a, (hl)
2360  09F0  5F          	ld	e, a
2361  09F1  78          	ld	a, b
2362  09F2  CE 00       	adc	a,0x00
2363  09F4  57          	ld	d, a
2364  09F5  1A          	ld	a, (de)
2365  09F6  F6 10       	or	a,0x10
2366  09F8  12          	ld	(de), a
2367  09F9  79          	ld	a, c
2368  09FA  86          	add	a, (hl)
2369  09FB  5F          	ld	e, a
2370  09FC  78          	ld	a, b
2371  09FD  CE 00       	adc	a,0x00
2372  09FF  57          	ld	d, a
2373  0A00  1A          	ld	a, (de)
2374  0A01  E6 F7       	and	a,0xf7
2375  0A03  12          	ld	(de), a
2376  0A04  79          	ld	a, c
2377  0A05  86          	add	a, (hl)
2378  0A06  4F          	ld	c, a
2379  0A07  78          	ld	a, b
2380  0A08  CE 00       	adc	a,0x00
2381  0A0A  47          	ld	b, a
2382  0A0B  0A          	ld	a, (bc)
2383  0A0C  F6 20       	or	a,0x20
2384  0A0E  02          	ld	(bc), a
2385  0A0F              l_player_move_input_00114:
2386  0A0F  21 00 00    	ld	hl,_dirs
2387  0A12  CB 56       	bit	2, (hl)
2388  0A14  28 3F       	jr	Z,l_player_move_input_00118
2389  0A16  21 00 00    	ld	hl,_s_state
2390  0A19  CB 56       	bit	2, (hl)
2391  0A1B  28 08       	jr	Z,l_player_move_input_00116
2392  0A1D  CD F7 00    	call	_player_calc_slide
2393  0A20  2E 01       	ld	l,0x01
2394  0A22  C3 80 0B    	jp	l_player_move_input_00135
2395  0A25              l_player_move_input_00116:
2396  0A25  21 00 00    	ld	hl,_s_state
2397  0A28  7E          	ld	a,(hl)
2398  0A29  F6 08       	or	a,0x08
2399  0A2B  E6 FB       	and	a,0xfb
2400  0A2D  77          	ld	(hl),a
2401  0A2E  01 00 00    	ld	bc,_state_a+0
2402  0A31  79          	ld	a, c
2403  0A32  21 00 00    	ld	hl,_sprite
2404  0A35  86          	add	a, (hl)
2405  0A36  5F          	ld	e, a
2406  0A37  78          	ld	a, b
2407  0A38  CE 00       	adc	a,0x00
2408  0A3A  57          	ld	d, a
2409  0A3B  1A          	ld	a, (de)
2410  0A3C  F6 08       	or	a,0x08
2411  0A3E  12          	ld	(de), a
2412  0A3F  79          	ld	a, c
2413  0A40  86          	add	a, (hl)
2414  0A41  5F          	ld	e, a
2415  0A42  78          	ld	a, b
2416  0A43  CE 00       	adc	a,0x00
2417  0A45  57          	ld	d, a
2418  0A46  1A          	ld	a, (de)
2419  0A47  E6 EF       	and	a,0xef
2420  0A49  12          	ld	(de), a
2421  0A4A  79          	ld	a, c
2422  0A4B  86          	add	a, (hl)
2423  0A4C  4F          	ld	c, a
2424  0A4D  78          	ld	a, b
2425  0A4E  CE 00       	adc	a,0x00
2426  0A50  47          	ld	b, a
2427  0A51  0A          	ld	a, (bc)
2428  0A52  F6 20       	or	a,0x20
2429  0A54  02          	ld	(bc), a
2430  0A55              l_player_move_input_00118:
2431  0A55  2A 00 00    	ld	hl,(_sprite)
2432  0A58  26 00       	ld	h,0x00
2433  0A5A  01 00 00    	ld	bc,_state
2434  0A5D  09          	add	hl,bc
2435  0A5E  3A 00 00    	ld	a,(_s_state)
2436  0A61  77          	ld	(hl),a
2437  0A62  2A 00 00    	ld	hl,(_sprite)
2438  0A65  26 00       	ld	h,0x00
2439  0A67  01 00 00    	ld	bc,_tile
2440  0A6A  09          	add	hl,bc
2441  0A6B  E5          	push	hl
2442  0A6C  2A 00 00    	ld	hl,(_sprite)
2443  0A6F  26 0C       	ld	h,0x0c
2444  0A71  3A 00 00    	ld	a,(_tile_offset)
2445  0A74  E5          	push	hl
2446  0A75  F5          	push	af
2447  0A76  33          	inc	sp
2448  0A77  CD 00 00    	call	_spr_tile_dir
2449  0A7A  F1          	pop	af
2450  0A7B  33          	inc	sp
2451  0A7C  C1          	pop	bc
2452  0A7D  7D          	ld	a,l
2453  0A7E  02          	ld	(bc), a
2454  0A7F  CD 00 00    	call	_ay_is_playing
2455  0A82  7D          	ld	a, l
2456  0A83  B7          	or	a, a
2457  0A84  20 0C       	jr	NZ,l_player_move_input_00120
2458  0A86  3A 00 00    	ld	a,(_game_bonus)
2459  0A89  B7          	or	a, a
2460  0A8A  20 06       	jr	NZ,l_player_move_input_00120
2461  0A8C  21 00 00    	ld	hl,_ay_effect_20
2462  0A8F  CD 00 00    	call	_ay_fx_play
2463  0A92              l_player_move_input_00120:
2464  0A92  CD 81 0B    	call	_player_move_horizontal
2465  0A95  2E 01       	ld	l,0x01
2466  0A97  C3 80 0B    	jp	l_player_move_input_00135
2467  0A9A              l_player_move_input_00131:
2468  0A9A  2A 00 00    	ld	hl,(_sprite)
2469  0A9D  26 00       	ld	h,0x00
2470  0A9F  01 00 00    	ld	bc,_state_a
2471  0AA2  09          	add	hl,bc
2472  0AA3  CB 6E       	bit	5,(hl)
2473  0AA5  28 10       	jr	Z,l_player_move_input_00123
2474  0AA7  CD F7 00    	call	_player_calc_slide
2475  0AAA  2A 00 00    	ld	hl,(_sprite)
2476  0AAD  26 00       	ld	h,0x00
2477  0AAF  01 00 00    	ld	bc,_state_a
2478  0AB2  09          	add	hl,bc
2479  0AB3  7E          	ld	a,(hl)
2480  0AB4  E6 DF       	and	a,0xdf
2481  0AB6  77          	ld	(hl),a
2482  0AB7              l_player_move_input_00123:
2483  0AB7  2A 00 00    	ld	hl,(_index_player)
2484  0ABA  26 00       	ld	h,0x00
2485  0ABC  01 00 00    	ld	bc,_sliding
2486  0ABF  09          	add	hl,bc
2487  0AC0  7E          	ld	a,(hl)
2488  0AC1  B7          	or	a, a
2489  0AC2  CA 7E 0B    	jp	Z, l_player_move_input_00129
2490  0AC5  CD 00 00    	call	_ay_is_playing
2491  0AC8  7D          	ld	a, l
2492  0AC9  D6 03       	sub	a,0x03
2493  0ACB  28 06       	jr	Z,l_player_move_input_00125
2494  0ACD  21 00 00    	ld	hl,_ay_effect_01
2495  0AD0  CD 00 00    	call	_ay_fx_play
2496  0AD3              l_player_move_input_00125:
2497  0AD3  CD 00 00    	call	_sound_slide
2498  0AD6  CD 81 0B    	call	_player_move_horizontal
2499  0AD9  2A 00 00    	ld	hl,(_index_player)
2500  0ADC  26 00       	ld	h,0x00
2501  0ADE  01 00 00    	ld	bc,_sliding
2502  0AE1  09          	add	hl,bc
2503  0AE2  7E          	ld	a,(hl)
2504  0AE3  C6 FF       	add	a,0xff
2505  0AE5  77          	ld	(hl),a
2506  0AE6  2A 00 00    	ld	hl,(_sprite)
2507  0AE9  26 00       	ld	h,0x00
2508  0AEB  01 00 00    	ld	bc,_sprite_speed_alt
2509  0AEE  09          	add	hl,bc
2510  0AEF  AF          	xor	a,a
2511  0AF0  77          	ld	(hl),a
2512  0AF1  2A 00 00    	ld	hl,(_sprite)
2513  0AF4  26 00       	ld	h,0x00
2514  0AF6  01 00 00    	ld	bc,_tile
2515  0AF9  09          	add	hl,bc
2516  0AFA  4D          	ld	c,l
2517  0AFB  44          	ld	b,h
2518  0AFC  21 00 00    	ld	hl,_tile_offset
2519  0AFF  56          	ld	d, (hl)
2520  0B00  14          	inc	d
2521  0B01  14          	inc	d
2522  0B02  14          	inc	d
2523  0B03  14          	inc	d
2524  0B04  C5          	push	bc
2525  0B05  3E 0C       	ld	a,0x0c
2526  0B07  F5          	push	af
2527  0B08  33          	inc	sp
2528  0B09  3A 00 00    	ld	a,(_sprite)
2529  0B0C  5A          	ld	e,d
2530  0B0D  57          	ld	d,a
2531  0B0E  D5          	push	de
2532  0B0F  CD 00 00    	call	_spr_tile_dir
2533  0B12  F1          	pop	af
2534  0B13  33          	inc	sp
2535  0B14  C1          	pop	bc
2536  0B15  7D          	ld	a,l
2537  0B16  02          	ld	(bc), a
2538  0B17  2A 00 00    	ld	hl,(_index_player)
2539  0B1A  26 00       	ld	h,0x00
2540  0B1C  01 00 00    	ld	bc,_sliding
2541  0B1F  09          	add	hl,bc
2542  0B20  7E          	ld	a,(hl)
2543  0B21  B7          	or	a, a
2544  0B22  20 5A       	jr	NZ,l_player_move_input_00129
2545  0B24  01 00 00    	ld	bc,_spr_timer+0
2546  0B27  2A 00 00    	ld	hl,(_sprite)
2547  0B2A  26 00       	ld	h,0x00
2548  0B2C  29          	add	hl, hl
2549  0B2D  09          	add	hl, bc
2550  0B2E  AF          	xor	a, a
2551  0B2F  77          	ld	(hl), a
2552  0B30  23          	inc	hl
2553  0B31  77          	ld	(hl), a
2554  0B32  2A 00 00    	ld	hl,(_sprite)
2555  0B35  26 00       	ld	h,0x00
2556  0B37  01 00 00    	ld	bc,_colint
2557  0B3A  09          	add	hl,bc
2558  0B3B  AF          	xor	a,a
2559  0B3C  77          	ld	(hl),a
2560  0B3D  2A 00 00    	ld	hl,(_sprite)
2561  0B40  26 00       	ld	h,0x00
2562  0B42  01 00 00    	ld	bc,_tile
2563  0B45  09          	add	hl,bc
2564  0B46  4D          	ld	c,l
2565  0B47  44          	ld	b,h
2566  0B48  21 00 00    	ld	hl,_tile_offset
2567  0B4B  56          	ld	d, (hl)
2568  0B4C  14          	inc	d
2569  0B4D  14          	inc	d
2570  0B4E  14          	inc	d
2571  0B4F  C5          	push	bc
2572  0B50  3E 0C       	ld	a,0x0c
2573  0B52  F5          	push	af
2574  0B53  33          	inc	sp
2575  0B54  3A 00 00    	ld	a,(_sprite)
2576  0B57  5A          	ld	e,d
2577  0B58  57          	ld	d,a
2578  0B59  D5          	push	de
2579  0B5A  CD 00 00    	call	_spr_tile_dir
2580  0B5D  F1          	pop	af
2581  0B5E  33          	inc	sp
2582  0B5F  C1          	pop	bc
2583  0B60  7D          	ld	a,l
2584  0B61  02          	ld	(bc), a
2585  0B62  01 00 00    	ld	bc,_state+0
2586  0B65  79          	ld	a, c
2587  0B66  21 00 00    	ld	hl,_sprite
2588  0B69  86          	add	a, (hl)
2589  0B6A  5F          	ld	e, a
2590  0B6B  78          	ld	a, b
2591  0B6C  CE 00       	adc	a,0x00
2592  0B6E  57          	ld	d, a
2593  0B6F  1A          	ld	a, (de)
2594  0B70  E6 FB       	and	a,0xfb
2595  0B72  12          	ld	(de), a
2596  0B73  79          	ld	a, c
2597  0B74  86          	add	a, (hl)
2598  0B75  4F          	ld	c, a
2599  0B76  78          	ld	a, b
2600  0B77  CE 00       	adc	a,0x00
2601  0B79  47          	ld	b, a
2602  0B7A  0A          	ld	a, (bc)
2603  0B7B  E6 F7       	and	a,0xf7
2604  0B7D  02          	ld	(bc), a
2605  0B7E              l_player_move_input_00129:
2606  0B7E  2E 00       	ld	l,0x00
2607  0B80              l_player_move_input_00135:
2608  0B80  C9          	ret
2609  0B81              	SECTION code_compiler
2610  0B81              ;	---------------------------------
2611  0B81              ; Function player_move_horizontal
2612  0B81              ; ---------------------------------
2613  0B81              _player_move_horizontal:
2614  0B81  AF          	xor	a, a
2615  0B82  F5          	push	af
2616  0B83  33          	inc	sp
2617  0B84  2A FF FF    	ld	hl,(_sprite_other_player - 1)
2618  0B87  3A 00 00    	ld	a,(_sprite)
2619  0B8A  6F          	ld	l,a
2620  0B8B  E5          	push	hl
2621  0B8C  CD 00 00    	call	_spr_collision_check
2622  0B8F  F1          	pop	af
2623  0B90  33          	inc	sp
2624  0B91  7D          	ld	a, l
2625  0B92  B7          	or	a, a
2626  0B93  28 05       	jr	Z,l_player_move_horizontal_00102
2627  0B95  CD 9E 0B    	call	_player_push
2628  0B98  18 03       	jr	l_player_move_horizontal_00104
2629  0B9A              l_player_move_horizontal_00102:
2630  0B9A  CD 00 00    	call	_spr_move_horizontal
2631  0B9D              l_player_move_horizontal_00104:
2632  0B9D  C9          	ret
2633  0B9E              	SECTION code_compiler
2634  0B9E              ;	---------------------------------
2635  0B9E              ; Function player_push
2636  0B9E              ; ---------------------------------
2637  0B9E              _player_push:
2638  0B9E  3A 00 00    	ld	a,(_sprite)
2639  0BA1  32 00 00    	ld	(_tmp),a
2640  0BA4  3A 00 00    	ld	a,(_s_col0)
2641  0BA7  32 00 00    	ld	(_tmp0),a
2642  0BAA  2A 00 00    	ld	hl,(_sprite_other_player)
2643  0BAD  26 00       	ld	h,0x00
2644  0BAF  01 00 00    	ld	bc,_lin
2645  0BB2  09          	add	hl,bc
2646  0BB3  7E          	ld	a,(hl)
2647  0BB4  32 00 00    	ld	(_s_lin0),a
2648  0BB7  2A 00 00    	ld	hl,(_sprite_other_player)
2649  0BBA  26 00       	ld	h,0x00
2650  0BBC  01 00 00    	ld	bc,_col
2651  0BBF  09          	add	hl,bc
2652  0BC0  7E          	ld	a,(hl)
2653  0BC1  32 00 00    	ld	(_s_col0),a
2654  0BC4  01 00 00    	ld	bc,_spr_timer+0
2655  0BC7  2A 00 00    	ld	hl,(_sprite_other_player)
2656  0BCA  26 00       	ld	h,0x00
2657  0BCC  29          	add	hl, hl
2658  0BCD  09          	add	hl,bc
2659  0BCE  ED 5B 00 00 	ld	de,(_curr_time)
2660  0BD2  73          	ld	(hl),e
2661  0BD3  23          	inc	hl
2662  0BD4  72          	ld	(hl),d
2663  0BD5  2A 00 00    	ld	hl,(_sprite_other_player)
2664  0BD8  26 00       	ld	h,0x00
2665  0BDA  01 00 00    	ld	bc,_state_a
2666  0BDD  09          	add	hl,bc
2667  0BDE  7E          	ld	a,(hl)
2668  0BDF  F6 04       	or	a,0x04
2669  0BE1  77          	ld	(hl),a
2670  0BE2  3A 00 00    	ld	a,(_sprite_other_player)
2671  0BE5  32 00 00    	ld	(_sprite),a
2672  0BE8  2A 00 00    	ld	hl,(_tmp)
2673  0BEB  26 00       	ld	h,0x00
2674  0BED  01 00 00    	ld	bc,_state
2675  0BF0  09          	add	hl,bc
2676  0BF1  CB 56       	bit	2,(hl)
2677  0BF3  28 05       	jr	Z,l_player_push_00102
2678  0BF5  CD 00 00    	call	_spr_move_right
2679  0BF8  18 03       	jr	l_player_push_00103
2680  0BFA              l_player_push_00102:
2681  0BFA  CD 00 00    	call	_spr_move_left
2682  0BFD              l_player_push_00103:
2683  0BFD  CD 00 00    	call	_spr_redraw
2684  0C00  3A 00 00    	ld	a,(_tmp)
2685  0C03  32 00 00    	ld	(_sprite),a
2686  0C06  C6 00       	add	a,+((_lin) & 0xFF)
2687  0C08  4F          	ld	c,a
2688  0C09  3E 00       	ld	a,+((_lin) / 256)
2689  0C0B  CE 00       	adc	a,0x00
2690  0C0D  47          	ld	b,a
2691  0C0E  0A          	ld	a,(bc)
2692  0C0F  32 00 00    	ld	(_s_lin0),a
2693  0C12  3A 00 00    	ld	a,(_tmp0)
2694  0C15  32 00 00    	ld	(_s_col0),a
2695  0C18  C9          	ret
2696  0C19              	SECTION code_compiler
2697  0C19              ;	---------------------------------
2698  0C19              ; Function player_hit_brick
2699  0C19              ; ---------------------------------
2700  0C19              _player_hit_brick:
2701  0C19  2A 00 00    	ld	hl,(_index_player)
2702  0C1C  26 00       	ld	h,0x00
2703  0C1E  01 00 00    	ld	bc,_hit_lin
2704  0C21  09          	add	hl,bc
2705  0C22  7E          	ld	a,(hl)
2706  0C23  B7          	or	a, a
2707  0C24  C2 EE 0D    	jp	NZ, l_player_hit_brick_00112
2708  0C27  2A 00 00    	ld	hl,(_sprite)
2709  0C2A  26 00       	ld	h,0x00
2710  0C2C  01 00 00    	ld	bc,_lin
2711  0C2F  09          	add	hl,bc
2712  0C30  5E          	ld	e,(hl)
2713  0C31  3E 10       	ld	a,0x10
2714  0C33  93          	sub	a,e
2715  0C34  D2 EE 0D    	jp	NC,l_player_hit_brick_00112
2716  0C37  4D          	ld	c,l
2717  0C38  44          	ld	b,h
2718  0C39  21 00 00    	ld	hl,_enemies
2719  0C3C  36 00       	ld	(hl),0x00
2720  0C3E              l_player_hit_brick_00114:
2721  0C3E  2A 00 00    	ld	hl,(_enemies)
2722  0C41  26 00       	ld	h,0x00
2723  0C43  11 00 00    	ld	de,_class
2724  0C46  19          	add	hl,de
2725  0C47  7E          	ld	a,(hl)
2726  0C48  B7          	or	a,a
2727  0C49  28 5C       	jr	Z,l_player_hit_brick_00115
2728  0C4B  0A          	ld	a,(bc)
2729  0C4C  4F          	ld	c,a
2730  0C4D  06 00       	ld	b,0x00
2731  0C4F  2A 00 00    	ld	hl,(_enemies)
2732  0C52  60          	ld	h,b
2733  0C53  11 00 00    	ld	de,_lin
2734  0C56  19          	add	hl,de
2735  0C57  5E          	ld	e, (hl)
2736  0C58  16 00       	ld	d,0x00
2737  0C5A  79          	ld	a,c
2738  0C5B  93          	sub	a,e
2739  0C5C  4F          	ld	c,a
2740  0C5D  78          	ld	a,b
2741  0C5E  9A          	sbc	a,d
2742  0C5F  47          	ld	b,a
2743  0C60  79          	ld	a,c
2744  0C61  D6 18       	sub	a,0x18
2745  0C63  B0          	or	a,b
2746  0C64  20 41       	jr	NZ,l_player_hit_brick_00115
2747  0C66  2A 00 00    	ld	hl,(_enemies)
2748  0C69  26 00       	ld	h,0x00
2749  0C6B  01 00 00    	ld	bc,_state
2750  0C6E  09          	add	hl,bc
2751  0C6F  CB 6E       	bit	5,(hl)
2752  0C71  20 34       	jr	NZ,l_player_hit_brick_00115
2753  0C73  2A 00 00    	ld	hl,(_sprite)
2754  0C76  26 00       	ld	h,0x00
2755  0C78  01 00 00    	ld	bc,_col
2756  0C7B  09          	add	hl,bc
2757  0C7C  4E          	ld	c,(hl)
2758  0C7D  06 00       	ld	b,0x00
2759  0C7F  2A 00 00    	ld	hl,(_enemies)
2760  0C82  60          	ld	h,b
2761  0C83  11 00 00    	ld	de,_col
2762  0C86  19          	add	hl,de
2763  0C87  5E          	ld	e, (hl)
2764  0C88  16 00       	ld	d,0x00
2765  0C8A  79          	ld	a, c
2766  0C8B  93          	sub	a, e
2767  0C8C  6F          	ld	l, a
2768  0C8D  78          	ld	a, b
2769  0C8E  9A          	sbc	a, d
2770  0C8F  67          	ld	h, a
2771  0C90  CD 00 00    	call	_abs_fastcall
2772  0C93  3E 02       	ld	a,0x02
2773  0C95  BD          	cp	a,l
2774  0C96  3E 00       	ld	a,0x00
2775  0C98  9C          	sbc	a,h
2776  0C99  E2 9E 0C    	jp	PO, l_player_hit_brick_00166
2777  0C9C  EE 80       	xor	a,0x80
2778  0C9E              l_player_hit_brick_00166:
2779  0C9E  FA A7 0C    	jp	M, l_player_hit_brick_00115
2780  0CA1  CD 00 00    	call	_enemy_hit
2781  0CA4  CD 00 00    	call	_sound_hit_enemy
2782  0CA7              l_player_hit_brick_00115:
2783  0CA7  21 00 00    	ld	hl,_enemies
2784  0CAA  34          	inc	(hl)
2785  0CAB  2A 00 00    	ld	hl,(_sprite)
2786  0CAE  26 00       	ld	h,0x00
2787  0CB0  01 00 00    	ld	bc,_lin
2788  0CB3  09          	add	hl,bc
2789  0CB4  3A 00 00    	ld	a,(_enemies)
2790  0CB7  D6 06       	sub	a,0x06
2791  0CB9  4D          	ld	c,l
2792  0CBA  44          	ld	b,h
2793  0CBB  DA 3E 0C    	jp	C, l_player_hit_brick_00114
2794  0CBE  2A 00 00    	ld	hl,(_sprite_other_player)
2795  0CC1  26 00       	ld	h,0x00
2796  0CC3  11 00 00    	ld	de,_lin
2797  0CC6  19          	add	hl,de
2798  0CC7  7E          	ld	a,(hl)
2799  0CC8  5F          	ld	e,a
2800  0CC9  B7          	or	a, a
2801  0CCA  CA 8D 0D    	jp	Z, l_player_hit_brick_00108
2802  0CCD  0A          	ld	a, (bc)
2803  0CCE  6F          	ld	l, a
2804  0CCF  AF          	xor	a,a
2805  0CD0  67          	ld	h,a
2806  0CD1  57          	ld	d,a
2807  0CD2  ED 52       	sbc	hl,de
2808  0CD4  7D          	ld	a, l
2809  0CD5  D6 18       	sub	a,0x18
2810  0CD7  B4          	or	a, h
2811  0CD8  C2 8D 0D    	jp	NZ,l_player_hit_brick_00108
2812  0CDB  2A 00 00    	ld	hl,(_sprite)
2813  0CDE  26 00       	ld	h,0x00
2814  0CE0  01 00 00    	ld	bc,_col
2815  0CE3  09          	add	hl,bc
2816  0CE4  4E          	ld	c,(hl)
2817  0CE5  06 00       	ld	b,0x00
2818  0CE7  2A 00 00    	ld	hl,(_sprite_other_player)
2819  0CEA  60          	ld	h,b
2820  0CEB  11 00 00    	ld	de,_col
2821  0CEE  19          	add	hl,de
2822  0CEF  5E          	ld	e, (hl)
2823  0CF0  16 00       	ld	d,0x00
2824  0CF2  79          	ld	a, c
2825  0CF3  93          	sub	a, e
2826  0CF4  6F          	ld	l, a
2827  0CF5  78          	ld	a, b
2828  0CF6  9A          	sbc	a, d
2829  0CF7  67          	ld	h, a
2830  0CF8  CD 00 00    	call	_abs_fastcall
2831  0CFB  3E 02       	ld	a,0x02
2832  0CFD  BD          	cp	a,l
2833  0CFE  3E 00       	ld	a,0x00
2834  0D00  9C          	sbc	a,h
2835  0D01  E2 06 0D    	jp	PO, l_player_hit_brick_00169
2836  0D04  EE 80       	xor	a,0x80
2837  0D06              l_player_hit_brick_00169:
2838  0D06  FA 8D 0D    	jp	M, l_player_hit_brick_00108
2839  0D09  2A 00 00    	ld	hl,(_sprite_other_player)
2840  0D0C  26 00       	ld	h,0x00
2841  0D0E  01 00 00    	ld	bc,_col
2842  0D11  09          	add	hl,bc
2843  0D12  56          	ld	d, (hl)
2844  0D13  2A 00 00    	ld	hl,(_sprite_other_player)
2845  0D16  26 00       	ld	h,0x00
2846  0D18  01 00 00    	ld	bc,_lin
2847  0D1B  09          	add	hl,bc
2848  0D1C  5E          	ld	e, (hl)
2849  0D1D  D5          	push	de
2850  0D1E  AF          	xor	a, a
2851  0D1F  F5          	push	af
2852  0D20  33          	inc	sp
2853  0D21  CD 00 00    	call	_NIRVANAP_fillT_callee
2854  0D24  2A 00 00    	ld	hl,(_sprite_other_player)
2855  0D27  26 00       	ld	h,0x00
2856  0D29  01 00 00    	ld	bc,_lin
2857  0D2C  09          	add	hl,bc
2858  0D2D  7E          	ld	a,(hl)
2859  0D2E  C6 FC       	add	a,0xfc
2860  0D30  77          	ld	(hl),a
2861  0D31  2A 00 00    	ld	hl,(_sprite_other_player)
2862  0D34  26 00       	ld	h,0x00
2863  0D36  01 00 00    	ld	bc,_col
2864  0D39  09          	add	hl,bc
2865  0D3A  56          	ld	d, (hl)
2866  0D3B  2A 00 00    	ld	hl,(_sprite_other_player)
2867  0D3E  26 00       	ld	h,0x00
2868  0D40  01 00 00    	ld	bc,_lin
2869  0D43  09          	add	hl,bc
2870  0D44  5E          	ld	e, (hl)
2871  0D45  2A 00 00    	ld	hl,(_sprite_other_player)
2872  0D48  26 00       	ld	h,0x00
2873  0D4A  01 00 00    	ld	bc,_tile
2874  0D4D  09          	add	hl,bc
2875  0D4E  46          	ld	b, (hl)
2876  0D4F  21 00 00    	ld	hl,_sprite_other_player
2877  0D52  4E          	ld	c,(hl)
2878  0D53  D5          	push	de
2879  0D54  C5          	push	bc
2880  0D55  CD 00 00    	call	_NIRVANAP_spriteT_callee
2881  0D58  76          	halt
2882  0D59  2A 00 00    	ld	hl,(_sprite_other_player)
2883  0D5C  26 00       	ld	h,0x00
2884  0D5E  01 00 00    	ld	bc,_state
2885  0D61  09          	add	hl,bc
2886  0D62  7E          	ld	a,(hl)
2887  0D63  E6 FD       	and	a,0xfd
2888  0D65  77          	ld	(hl),a
2889  0D66  2A 00 00    	ld	hl,(_sprite_other_player)
2890  0D69  26 00       	ld	h,0x00
2891  0D6B  01 00 00    	ld	bc,_state
2892  0D6E  09          	add	hl,bc
2893  0D6F  7E          	ld	a,(hl)
2894  0D70  F6 01       	or	a,0x01
2895  0D72  77          	ld	(hl),a
2896  0D73  2A 00 00    	ld	hl,(_sprite_other_player)
2897  0D76  26 00       	ld	h,0x00
2898  0D78  01 00 00    	ld	bc,_jump_lin
2899  0D7B  09          	add	hl,bc
2900  0D7C  3A 00 00    	ld	a,(_sprite_other_player)
2901  0D7F  5F          	ld	e,a
2902  0D80  16 00       	ld	d,0x00
2903  0D82  4D          	ld	c,l
2904  0D83  44          	ld	b,h
2905  0D84  21 00 00    	ld	hl,_lin
2906  0D87  19          	add	hl,de
2907  0D88  7E          	ld	a,(hl)
2908  0D89  C6 14       	add	a,0x14
2909  0D8B  02          	ld	(bc), a
2910  0D8C  76          	halt
2911  0D8D              l_player_hit_brick_00108:
2912  0D8D  2A 00 00    	ld	hl,(_sprite)
2913  0D90  26 00       	ld	h,0x00
2914  0D92  01 00 00    	ld	bc,_state_a
2915  0D95  09          	add	hl,bc
2916  0D96  7E          	ld	a,(hl)
2917  0D97  F6 80       	or	a,0x80
2918  0D99  77          	ld	(hl),a
2919  0D9A  2A 00 00    	ld	hl,(_index_player)
2920  0D9D  26 00       	ld	h,0x00
2921  0D9F  01 00 00    	ld	bc,_player_jump_c
2922  0DA2  09          	add	hl,bc
2923  0DA3  36 04       	ld	(hl),0x04
2924  0DA5  01 00 00    	ld	bc,_spr_timer+0
2925  0DA8  2A 00 00    	ld	hl,(_sprite)
2926  0DAB  26 00       	ld	h,0x00
2927  0DAD  29          	add	hl, hl
2928  0DAE  09          	add	hl,bc
2929  0DAF  ED 5B 00 00 	ld	de,(_curr_time)
2930  0DB3  73          	ld	(hl),e
2931  0DB4  23          	inc	hl
2932  0DB5  72          	ld	(hl),d
2933  0DB6  2A 00 00    	ld	hl,(_index_player)
2934  0DB9  26 00       	ld	h,0x00
2935  0DBB  01 00 00    	ld	bc,_hit_lin
2936  0DBE  09          	add	hl,bc
2937  0DBF  4D          	ld	c,l
2938  0DC0  44          	ld	b,h
2939  0DC1  2A 00 00    	ld	hl,(_sprite)
2940  0DC4  26 00       	ld	h,0x00
2941  0DC6  11 00 00    	ld	de,_lin
2942  0DC9  19          	add	hl,de
2943  0DCA  7E          	ld	a,(hl)
2944  0DCB  02          	ld	(bc), a
2945  0DCC  2A 00 00    	ld	hl,(_index_player)
2946  0DCF  26 00       	ld	h,0x00
2947  0DD1  01 00 00    	ld	bc,_hit_col
2948  0DD4  09          	add	hl,bc
2949  0DD5  4D          	ld	c,l
2950  0DD6  44          	ld	b,h
2951  0DD7  2A 00 00    	ld	hl,(_sprite)
2952  0DDA  26 00       	ld	h,0x00
2953  0DDC  11 00 00    	ld	de,_col
2954  0DDF  19          	add	hl,de
2955  0DE0  7E          	ld	a,(hl)
2956  0DE1  02          	ld	(bc), a
2957  0DE2  2E 01       	ld	l,0x01
2958  0DE4  CD 00 00    	call	_spr_brick_anim
2959  0DE7  CD 00 00    	call	_sound_hit_brick
2960  0DEA  2E 01       	ld	l,0x01
2961  0DEC  18 02       	jr	l_player_hit_brick_00116
2962  0DEE              l_player_hit_brick_00112:
2963  0DEE  2E 00       	ld	l,0x00
2964  0DF0              l_player_hit_brick_00116:
2965  0DF0  C9          	ret
2966  0DF1              	SECTION code_compiler
2967  0DF1              ;	---------------------------------
2968  0DF1              ; Function player_hit_brick_clear
2969  0DF1              ; ---------------------------------
2970  0DF1              _player_hit_brick_clear:
2971  0DF1  2A 00 00    	ld	hl,(_index_player)
2972  0DF4  26 00       	ld	h,0x00
2973  0DF6  01 00 00    	ld	bc,_hit_lin
2974  0DF9  09          	add	hl,bc
2975  0DFA  7E          	ld	a,(hl)
2976  0DFB  4F          	ld	c,a
2977  0DFC  B7          	or	a,a
2978  0DFD  C8          	ret	Z
2979  0DFE  3A 00 00    	ld	a,(_index_player)
2980  0E01  5F          	ld	e,a
2981  0E02  16 00       	ld	d,0x00
2982  0E04  21 00 00    	ld	hl,_hit_col
2983  0E07  19          	add	hl,de
2984  0E08  56          	ld	d, (hl)
2985  0E09  79          	ld	a, c
2986  0E0A  C6 F8       	add	a,0xf8
2987  0E0C  5F          	ld	e, a
2988  0E0D  D5          	push	de
2989  0E0E  CD 00 00    	call	_game_calc_index
2990  0E11  F1          	pop	af
2991  0E12  22 00 00    	ld	(_index1),hl
2992  0E15  2E 00       	ld	l,0x00
2993  0E17  CD 00 00    	call	_spr_brick_anim
2994  0E1A  2A 00 00    	ld	hl,(_index_player)
2995  0E1D  26 00       	ld	h,0x00
2996  0E1F  01 00 00    	ld	bc,_hit_lin
2997  0E22  09          	add	hl,bc
2998  0E23  AF          	xor	a,a
2999  0E24  77          	ld	(hl),a
3000  0E25  2A 00 00    	ld	hl,(_index_player)
3001  0E28  26 00       	ld	h,0x00
3002  0E2A  01 00 00    	ld	bc,_hit_col
3003  0E2D  09          	add	hl,bc
3004  0E2E  AF          	xor	a,a
3005  0E2F  77          	ld	(hl),a
3006  0E30  C9          	ret
3007  0E31              	SECTION code_compiler
3008  0E31              ;	---------------------------------
3009  0E31              ; Function player_hit_pow
3010  0E31              ; ---------------------------------
3011  0E31              _player_hit_pow:
3012  0E31  AF          	xor	a, a
3013  0E32  21 00 00    	ld	hl,_index1
3014  0E35  BE          	cp	a, (hl)
3015  0E36  3E 02       	ld	a,0x02
3016  0E38  23          	inc	hl
3017  0E39  9E          	sbc	a, (hl)
3018  0E3A  30 0F       	jr	NC,l_player_hit_pow_00102
3019  0E3C  3E 40       	ld	a,0x40
3020  0E3E  2B          	dec	hl
3021  0E3F  BE          	cp	a, (hl)
3022  0E40  3E 02       	ld	a,0x02
3023  0E42  23          	inc	hl
3024  0E43  9E          	sbc	a, (hl)
3025  0E44  30 05       	jr	NC,l_player_hit_pow_00102
3026  0E46  2E 00       	ld	l,0x00
3027  0E48  C3 02 0F    	jp	l_player_hit_pow_00115
3028  0E4B              l_player_hit_pow_00102:
3029  0E4B  3A 00 00    	ld	a,(_game_pow)
3030  0E4E  B7          	or	a, a
3031  0E4F  CA 00 0F    	jp	Z, l_player_hit_pow_00110
3032  0E52  2A 00 00    	ld	hl,(_index1)
3033  0E55  01 00 00    	ld	bc,_lvl_1
3034  0E58  09          	add	hl,bc
3035  0E59  7E          	ld	a,(hl)
3036  0E5A  D6 8C       	sub	a,0x8c
3037  0E5C  28 0F       	jr	Z,l_player_hit_pow_00109
3038  0E5E  ED 4B 00 00 	ld	bc,(_index1)
3039  0E62  03          	inc	bc
3040  0E63  21 00 00    	ld	hl,_lvl_1
3041  0E66  09          	add	hl, bc
3042  0E67  7E          	ld	a, (hl)
3043  0E68  D6 8C       	sub	a,0x8c
3044  0E6A  C2 00 0F    	jp	NZ,l_player_hit_pow_00110
3045  0E6D              l_player_hit_pow_00109:
3046  0E6D  21 00 00    	ld	hl,_game_pow
3047  0E70  35          	dec	(hl)
3048  0E71  21 00 00    	ld	hl,_enemies
3049  0E74  36 00       	ld	(hl),0x00
3050  0E76              l_player_hit_pow_00113:
3051  0E76  2A 00 00    	ld	hl,(_enemies)
3052  0E79  26 00       	ld	h,0x00
3053  0E7B  5D          	ld	e,l
3054  0E7C  01 00 00    	ld	bc,_col
3055  0E7F  09          	add	hl,bc
3056  0E80  46          	ld	b,(hl)
3057  0E81  16 00       	ld	d,0x00
3058  0E83  21 00 00    	ld	hl,_lin
3059  0E86  19          	add	hl,de
3060  0E87  7E          	ld	a,(hl)
3061  0E88  C6 10       	add	a,0x10
3062  0E8A  4F          	ld	c,a
3063  0E8B  C5          	push	bc
3064  0E8C  CD 00 00    	call	_game_calc_index
3065  0E8F  F1          	pop	af
3066  0E90  CD 00 00    	call	_game_check_map
3067  0E93  7D          	ld	a, l
3068  0E94  B7          	or	a, a
3069  0E95  20 03       	jr	NZ,l_player_hit_pow_00105
3070  0E97  CD 00 00    	call	_enemy_hit
3071  0E9A              l_player_hit_pow_00105:
3072  0E9A  2E 07       	ld	l,0x07
3073  0E9C  CD 00 00    	call	_zx_border_fastcall
3074  0E9F  21 05 00    	ld	hl,0x0005
3075  0EA2  CD 00 00    	call	_z80_delay_ms_fastcall
3076  0EA5  2E 01       	ld	l,0x01
3077  0EA7  CD 00 00    	call	_zx_border_fastcall
3078  0EAA  21 05 00    	ld	hl,0x0005
3079  0EAD  CD 00 00    	call	_z80_delay_ms_fastcall
3080  0EB0  21 00 00    	ld	hl,_enemies
3081  0EB3  7E          	ld	a,(hl)
3082  0EB4  3C          	inc	a
3083  0EB5  77          	ld	(hl),a
3084  0EB6  D6 06       	sub	a,0x06
3085  0EB8  38 BC       	jr	C,l_player_hit_pow_00113
3086  0EBA  21 00 00    	ld	hl,_ay_effect_06
3087  0EBD  CD 00 00    	call	_ay_fx_play
3088  0EC0  CD 00 00    	call	_sound_hit_pow
3089  0EC3  CD 00 00    	call	_spr_draw_pow
3090  0EC6  3A 00 00    	ld	a,(_game_pow)
3091  0EC9  B7          	or	a, a
3092  0ECA  20 13       	jr	NZ,l_player_hit_pow_00108
3093  0ECC  21 80 0F    	ld	hl,0x0f80
3094  0ECF  E5          	push	hl
3095  0ED0  AF          	xor	a, a
3096  0ED1  F5          	push	af
3097  0ED2  33          	inc	sp
3098  0ED3  CD 00 00    	call	_NIRVANAP_fillT_callee
3099  0ED6  21 A9 A9    	ld	hl,0xa9a9
3100  0ED9  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3101  0EDC  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3102  0EDF              l_player_hit_pow_00108:
3103  0EDF  2E 00       	ld	l,0x00
3104  0EE1  CD 00 00    	call	_zx_border_fastcall
3105  0EE4  2A 00 00    	ld	hl,(_sprite)
3106  0EE7  26 00       	ld	h,0x00
3107  0EE9  01 00 00    	ld	bc,_state_a
3108  0EEC  09          	add	hl,bc
3109  0EED  7E          	ld	a,(hl)
3110  0EEE  F6 80       	or	a,0x80
3111  0EF0  77          	ld	(hl),a
3112  0EF1  2A 00 00    	ld	hl,(_index_player)
3113  0EF4  26 00       	ld	h,0x00
3114  0EF6  01 00 00    	ld	bc,_player_jump_c
3115  0EF9  09          	add	hl,bc
3116  0EFA  36 06       	ld	(hl),0x06
3117  0EFC  2E 01       	ld	l,0x01
3118  0EFE  18 02       	jr	l_player_hit_pow_00115
3119  0F00              l_player_hit_pow_00110:
3120  0F00  2E 00       	ld	l,0x00
3121  0F02              l_player_hit_pow_00115:
3122  0F02  C9          	ret
3123  0F03              	SECTION code_compiler
3124  0F03              ;	---------------------------------
3125  0F03              ; Function player_coin
3126  0F03              ; ---------------------------------
3127  0F03              _player_coin:
3128  0F03  CD 00 00    	call	___sdcc_enter_ix
3129  0F06  3E 00       	ld	a, +((_class) & 0xFF)
3130  0F08  DD 86 04    	add	a,(ix+4)
3131  0F0B  4F          	ld	c, a
3132  0F0C  3E 00       	ld	a, +((_class) / 256)
3133  0F0E  CE 00       	adc	a,0x00
3134  0F10  47          	ld	b, a
3135  0F11  0A          	ld	a, (bc)
3136  0F12  D6 07       	sub	a,0x07
3137  0F14  20 16       	jr	NZ,l_player_coin_00102
3138  0F16  21 00 00    	ld	hl,_ay_effect_12
3139  0F19  CD 00 00    	call	_ay_fx_play
3140  0F1C  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
3141  0F1E  DD 86 04    	add	a,(ix+4)
3142  0F21  4F          	ld	c, a
3143  0F22  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
3144  0F24  CE 00       	adc	a,0x00
3145  0F26  47          	ld	b, a
3146  0F27  3E 03       	ld	a,0x03
3147  0F29  02          	ld	(bc), a
3148  0F2A  18 17       	jr	l_player_coin_00103
3149  0F2C              l_player_coin_00102:
3150  0F2C  21 00 00    	ld	hl,_ay_effect_10
3151  0F2F  CD 00 00    	call	_ay_fx_play
3152  0F32  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
3153  0F34  DD 86 04    	add	a,(ix+4)
3154  0F37  4F          	ld	c, a
3155  0F38  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
3156  0F3A  CE 00       	adc	a,0x00
3157  0F3C  47          	ld	b, a
3158  0F3D  3E 08       	ld	a,0x08
3159  0F3F  02          	ld	(bc), a
3160  0F40  CD 00 00    	call	_sound_coin
3161  0F43              l_player_coin_00103:
3162  0F43  3E 00       	ld	a, +((_state) & 0xFF)
3163  0F45  DD 86 04    	add	a,(ix+4)
3164  0F48  4F          	ld	c, a
3165  0F49  3E 00       	ld	a, +((_state) / 256)
3166  0F4B  CE 00       	adc	a,0x00
3167  0F4D  47          	ld	b, a
3168  0F4E  0A          	ld	a, (bc)
3169  0F4F  E6 FE       	and	a,0xfe
3170  0F51  F6 20       	or	a,0x20
3171  0F53  02          	ld	(bc),a
3172  0F54  01 00 00    	ld	bc,_spr_timer+0
3173  0F57  DD 6E 04    	ld	l,(ix+4)
3174  0F5A  26 00       	ld	h,0x00
3175  0F5C  29          	add	hl, hl
3176  0F5D  09          	add	hl,bc
3177  0F5E  ED 5B 00 00 	ld	de,(_curr_time)
3178  0F62  73          	ld	(hl),e
3179  0F63  23          	inc	hl
3180  0F64  72          	ld	(hl),d
3181  0F65  3A 00 00    	ld	a,(_game_bonus)
3182  0F68  B7          	or	a, a
3183  0F69  28 1B       	jr	Z,l_player_coin_00107
3184  0F6B  2A 00 00    	ld	hl,(_index_player)
3185  0F6E  26 00       	ld	h,0x00
3186  0F70  01 00 00    	ld	bc,_phase_bonus_total
3187  0F73  09          	add	hl,bc
3188  0F74  7E          	ld	a,(hl)
3189  0F75  3C          	inc	a
3190  0F76  77          	ld	(hl),a
3191  0F77  4D          	ld	c,l
3192  0F78  44          	ld	b,h
3193  0F79  21 00 00    	ld	hl,_phase_left
3194  0F7C  35          	dec (hl)
3195  0F7D  20 0F       	jr	NZ,l_player_coin_00109
3196  0F7F  21 00 00    	ld	hl,_phase_end
3197  0F82  36 01       	ld	(hl),0x01
3198  0F84  18 08       	jr	l_player_coin_00109
3199  0F86              l_player_coin_00107:
3200  0F86  DD 6E 05    	ld	l,(ix+5)
3201  0F89  26 00       	ld	h,0x00
3202  0F8B  CD 91 0F    	call	_player_score_add
3203  0F8E              l_player_coin_00109:
3204  0F8E  DD E1       	pop	ix
3205  0F90  C9          	ret
3206  0F91              	SECTION code_compiler
3207  0F91              ;	---------------------------------
3208  0F91              ; Function player_score_add
3209  0F91              ; ---------------------------------
3210  0F91              _player_score_add:
3211  0F91  CD 00 00    	call	___sdcc_enter_ix
3212  0F94  F5          	push	af
3213  0F95  F5          	push	af
3214  0F96  DD 75 FC    	ld	(ix-4),l
3215  0F99  DD 74 FD    	ld	(ix-3),h
3216  0F9C  2A 00 00    	ld	hl,(_index_player)
3217  0F9F  26 00       	ld	h,0x00
3218  0FA1  29          	add	hl,hl
3219  0FA2  01 00 00    	ld	bc,_player_score
3220  0FA5  09          	add	hl,bc
3221  0FA6  11 FE FF    	ld	de,-2
3222  0FA9  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
3223  0FAC  2B          	dec	hl
3224  0FAD  3E FF       	ld	a,0xff
3225  0FAF  DD 96 FE    	sub	a,(ix-2)
3226  0FB2  4D          	ld	c,l
3227  0FB3  44          	ld	b,h
3228  0FB4  21 00 00    	ld	hl,_tmp_ui
3229  0FB7  77          	ld	(hl), a
3230  0FB8  3E FF       	ld	a,0xff
3231  0FBA  DD 9E FF    	sbc	a,(ix-1)
3232  0FBD  23          	inc	hl
3233  0FBE  77          	ld	(hl), a
3234  0FBF  DD 7E FC    	ld	a,(ix-4)
3235  0FC2  2B          	dec	hl
3236  0FC3  96          	sub	a, (hl)
3237  0FC4  DD 7E FD    	ld	a,(ix-3)
3238  0FC7  23          	inc	hl
3239  0FC8  9E          	sbc	a, (hl)
3240  0FC9  D2 89 10    	jp	NC, l_player_score_add_00117
3241  0FCC  DD 7E FE    	ld	a,(ix-2)
3242  0FCF  DD 86 FC    	add	a,(ix-4)
3243  0FD2  5F          	ld	e, a
3244  0FD3  DD 7E FF    	ld	a,(ix-1)
3245  0FD6  DD 8E FD    	adc	a,(ix-3)
3246  0FD9  57          	ld	d, a
3247  0FDA  7B          	ld	a, e
3248  0FDB  02          	ld	(bc), a
3249  0FDC  03          	inc	bc
3250  0FDD  7A          	ld	a, d
3251  0FDE  02          	ld	(bc), a
3252  0FDF  2A 00 00    	ld	hl,(_index_player)
3253  0FE2  26 00       	ld	h,0x00
3254  0FE4  29          	add	hl,hl
3255  0FE5  4D          	ld	c,l
3256  0FE6  44          	ld	b,h
3257  0FE7  21 00 00    	ld	hl,_player_score
3258  0FEA  09          	add	hl, bc
3259  0FEB  5E          	ld	e, (hl)
3260  0FEC  23          	inc	hl
3261  0FED  56          	ld	d, (hl)
3262  0FEE  21 00 00    	ld	hl,_game_score_top
3263  0FF1  7E          	ld	a, (hl)
3264  0FF2  93          	sub	a, e
3265  0FF3  23          	inc	hl
3266  0FF4  7E          	ld	a, (hl)
3267  0FF5  9A          	sbc	a, d
3268  0FF6  30 04       	jr	NC,l_player_score_add_00102
3269  0FF8  2B          	dec	hl
3270  0FF9  73          	ld	(hl), e
3271  0FFA  23          	inc	hl
3272  0FFB  72          	ld	(hl), d
3273  0FFC              l_player_score_add_00102:
3274  0FFC  21 00 00    	ld	hl,_player_next_extra
3275  0FFF  09          	add	hl, bc
3276  1000  4E          	ld	c,(hl)
3277  1001  23          	inc	hl
3278  1002  46          	ld	b,(hl)
3279  1003  2B          	dec	hl
3280  1004  79          	ld	a, c
3281  1005  93          	sub	a, e
3282  1006  78          	ld	a, b
3283  1007  9A          	sbc	a, d
3284  1008  D2 94 10    	jp	NC, l_player_score_add_00118
3285  100B  79          	ld	a,c
3286  100C  C6 D0       	add	a,0xd0
3287  100E  77          	ld	(hl),a
3288  100F  78          	ld	a,b
3289  1010  CE 07       	adc	a,0x07
3290  1012  23          	inc	hl
3291  1013  77          	ld	(hl),a
3292  1014  2A 00 00    	ld	hl,(_index_player)
3293  1017  26 00       	ld	h,0x00
3294  1019  01 00 00    	ld	bc,_game_lives
3295  101C  09          	add	hl,bc
3296  101D  7E          	ld	a,(hl)
3297  101E  FE 64       	cp	a,0x64
3298  1020  30 02       	jr	NC,l_player_score_add_00104
3299  1022  3C          	inc	a
3300  1023  77          	ld	(hl),a
3301  1024              l_player_score_add_00104:
3302  1024  21 00 00    	ld	hl,_hit_count
3303  1027  36 10       	ld	(hl),0x10
3304  1029  3A 00 00    	ld	a,(_game_bonus)
3305  102C  B7          	or	a, a
3306  102D  20 03       	jr	NZ,l_player_score_add_00106
3307  102F  CD 00 00    	call	_game_print_lives
3308  1032              l_player_score_add_00106:
3309  1032  21 00 00    	ld	hl,_tmp0
3310  1035  36 00       	ld	(hl),0x00
3311  1037              l_player_score_add_00119:
3312  1037  3A 00 00    	ld	a,(_index_player)
3313  103A  B7          	or	a, a
3314  103B  20 07       	jr	NZ,l_player_score_add_00108
3315  103D  2E 01       	ld	l,0x01
3316  103F  CD 00 00    	call	_zx_border_fastcall
3317  1042  18 05       	jr	l_player_score_add_00109
3318  1044              l_player_score_add_00108:
3319  1044  2E 07       	ld	l,0x07
3320  1046  CD 00 00    	call	_zx_border_fastcall
3321  1049              l_player_score_add_00109:
3322  1049  21 05 00    	ld	hl,0x0005
3323  104C  CD 00 00    	call	_z80_delay_ms_fastcall
3324  104F  3A 00 00    	ld	a,(_index_player)
3325  1052  B7          	or	a, a
3326  1053  20 07       	jr	NZ,l_player_score_add_00111
3327  1055  2E 02       	ld	l,0x02
3328  1057  CD 00 00    	call	_zx_border_fastcall
3329  105A  18 05       	jr	l_player_score_add_00112
3330  105C              l_player_score_add_00111:
3331  105C  2E 04       	ld	l,0x04
3332  105E  CD 00 00    	call	_zx_border_fastcall
3333  1061              l_player_score_add_00112:
3334  1061  21 05 00    	ld	hl,0x0005
3335  1064  CD 00 00    	call	_z80_delay_ms_fastcall
3336  1067  21 00 00    	ld	hl,_tmp0
3337  106A  7E          	ld	a,(hl)
3338  106B  3C          	inc	a
3339  106C  77          	ld	(hl),a
3340  106D  D6 06       	sub	a,0x06
3341  106F  38 C6       	jr	C,l_player_score_add_00119
3342  1071  CD 00 00    	call	_sound_coin
3343  1074  CD 00 00    	call	_sound_coin
3344  1077  CD 00 00    	call	_sound_coin
3345  107A  CD 00 00    	call	_sound_coin
3346  107D  2E 00       	ld	l,0x00
3347  107F  CD 00 00    	call	_zx_border_fastcall
3348  1082  21 00 00    	ld	hl,_hit_count
3349  1085  36 08       	ld	(hl),0x08
3350  1087  18 0B       	jr	l_player_score_add_00118
3351  1089              l_player_score_add_00117:
3352  1089  3E FF       	ld	a,0xff
3353  108B  02          	ld	(bc),a
3354  108C  03          	inc	bc
3355  108D  02          	ld	(bc), a
3356  108E  21 FF FF    	ld	hl,0xffff
3357  1091  22 00 00    	ld	(_game_score_top),hl
3358  1094              l_player_score_add_00118:
3359  1094  CD 00 00    	call	_game_print_score
3360  1097  DD F9       	ld	sp, ix
3361  1099  DD E1       	pop	ix
3362  109B  C9          	ret
3363  109C              	SECTION code_compiler
3364  109C              ;	---------------------------------
3365  109C              ; Function player_set
3366  109C              ; ---------------------------------
3367  109C              _player_set:
3368  109C  CD 00 00    	call	___sdcc_enter_ix
3369  109F  DD 7E 04    	ld	a,(ix+4)
3370  10A2  32 00 00    	ld	(_sprite),a
3371  10A5  DD 7E 05    	ld	a,(ix+5)
3372  10A8  32 00 00    	ld	(_sprite_other_player),a
3373  10AB  DD 7E 06    	ld	a,(ix+6)
3374  10AE  32 00 00    	ld	(_index_player),a
3375  10B1  DD 7E 07    	ld	a,(ix+7)
3376  10B4  32 00 00    	ld	(_tile_offset),a
3377  10B7  DD 7E 08    	ld	a,(ix+8)
3378  10BA  32 00 00    	ld	(_tile_offset_other_player),a
3379  10BD  DD E1       	pop	ix
3380  10BF  C9          	ret
3381  10C0              	SECTION IGNORE
3382  0000              
