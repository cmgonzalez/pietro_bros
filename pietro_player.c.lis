1     0000              MODULE pietro_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _player_init
183   0000              	GLOBAL _player_calc_slide
184   0000              	GLOBAL _player_check_input
185   0000              	GLOBAL _player_collition
186   0000              	GLOBAL _player_collition_check
187   0000              	GLOBAL _player_kill
188   0000              	GLOBAL _player_restart
189   0000              	GLOBAL _player_lost_life
190   0000              	GLOBAL _player_turn
191   0000              	GLOBAL _player_move
192   0000              	GLOBAL _player_move_input
193   0000              	GLOBAL _player_move_horizontal
194   0000              	GLOBAL _player_push_check
195   0000              	GLOBAL _player_push
196   0000              	GLOBAL _player_hit_brick
197   0000              	GLOBAL _player_hit_brick_clear
198   0000              	GLOBAL _player_hit_pow
199   0000              	GLOBAL _player_coin
200   0000              	GLOBAL _player_score_add
201   0000              	GLOBAL _player_set1
202   0000              	GLOBAL _player_set2
203   0000              ;--------------------------------------------------------
204   0000              ; Externals used
205   0000              ;--------------------------------------------------------
206   0000              	GLOBAL _debug3
207   0000              	GLOBAL _debug2
208   0000              	GLOBAL _debug
209   0000              	GLOBAL _zx_print_str
210   0000              	GLOBAL _zx_print_int
211   0000              	GLOBAL _zx_print_chr
212   0000              	GLOBAL _zx_print_bonus_time
213   0000              	GLOBAL _zx_isr
214   0000              	GLOBAL _z80_otdr_callee
215   0000              	GLOBAL _z80_otdr
216   0000              	GLOBAL _z80_otir_callee
217   0000              	GLOBAL _z80_otir
218   0000              	GLOBAL _z80_outp_callee
219   0000              	GLOBAL _z80_outp
220   0000              	GLOBAL _z80_indr_callee
221   0000              	GLOBAL _z80_indr
222   0000              	GLOBAL _z80_inir_callee
223   0000              	GLOBAL _z80_inir
224   0000              	GLOBAL _z80_inp_fastcall
225   0000              	GLOBAL _z80_inp
226   0000              	GLOBAL _z80_set_int_state_fastcall
227   0000              	GLOBAL _z80_set_int_state
228   0000              	GLOBAL _z80_get_int_state
229   0000              	GLOBAL _z80_delay_tstate_fastcall
230   0000              	GLOBAL _z80_delay_tstate
231   0000              	GLOBAL _z80_delay_ms_fastcall
232   0000              	GLOBAL _z80_delay_ms
233   0000              	GLOBAL _im2_remove_generic_callback_callee
234   0000              	GLOBAL _im2_remove_generic_callback
235   0000              	GLOBAL _im2_prepend_generic_callback_callee
236   0000              	GLOBAL _im2_prepend_generic_callback
237   0000              	GLOBAL _im2_append_generic_callback_callee
238   0000              	GLOBAL _im2_append_generic_callback
239   0000              	GLOBAL _im2_create_generic_isr_8080_callee
240   0000              	GLOBAL _im2_create_generic_isr_8080
241   0000              	GLOBAL _im2_create_generic_isr_callee
242   0000              	GLOBAL _im2_create_generic_isr
243   0000              	GLOBAL _im2_install_isr_callee
244   0000              	GLOBAL _im2_install_isr
245   0000              	GLOBAL _im2_init_fastcall
246   0000              	GLOBAL _im2_init
247   0000              	GLOBAL _sound_hit_pow
248   0000              	GLOBAL _sound_hit_brick
249   0000              	GLOBAL _sound_hit_enemy
250   0000              	GLOBAL _sound_kill
251   0000              	GLOBAL _sound_enter_enemy
252   0000              	GLOBAL _sound_coin
253   0000              	GLOBAL _sound_jump
254   0000              	GLOBAL _sound_slide
255   0000              	GLOBAL _spr_draw_row
256   0000              	GLOBAL _spr_draw_index
257   0000              	GLOBAL _spr_draw_clear
258   0000              	GLOBAL _spr_water_splash_draw
259   0000              	GLOBAL _spr_water_splash_clear
260   0000              	GLOBAL _spr_draw_back
261   0000              	GLOBAL _spr_cortina_brick
262   0000              	GLOBAL _spr_brick_anim
263   0000              	GLOBAL _spr_back_fix
264   0000              	GLOBAL _spr_back_paint
265   0000              	GLOBAL _spr_back_clr
266   0000              	GLOBAL _spr_draw_pow
267   0000              	GLOBAL _spr_tile
268   0000              	GLOBAL _spr_set_fall
269   0000              	GLOBAL _spr_destroy
270   0000              	GLOBAL _spr_check_over
271   0000              	GLOBAL _spr_tile_dir
272   0000              	GLOBAL _spr_anim_kill
273   0000              	GLOBAL _spr_anim_fall
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_chktime
282   0000              	GLOBAL _game_joystick_set_menu
283   0000              	GLOBAL _game_joystick_set
284   0000              	GLOBAL _game_joystick_change
285   0000              	GLOBAL _game_hall_print_p
286   0000              	GLOBAL _game_hall_edit_p
287   0000              	GLOBAL _game_hall_check
288   0000              	GLOBAL _game_hall_enter_phs
289   0000              	GLOBAL _game_print_header
290   0000              	GLOBAL _game_end
291   0000              	GLOBAL _game_hall_enter
292   0000              	GLOBAL _game_hall_of_fame
293   0000              	GLOBAL _game_score_osd
294   0000              	GLOBAL _game_phase_print_score_back
295   0000              	GLOBAL _game_bonus_clock
296   0000              	GLOBAL _game_bonus_summary_player
297   0000              	GLOBAL _game_bonus_summary
298   0000              	GLOBAL _game_check_time
299   0000              	GLOBAL _game_menu_config
300   0000              	GLOBAL _game_menu
301   0000              	GLOBAL _game_rotate_attrib
302   0000              	GLOBAL _game_colour_message
303   0000              	GLOBAL _game_paint_attrib_lin_h
304   0000              	GLOBAL _game_paint_attrib_lin
305   0000              	GLOBAL _game_paint_attrib
306   0000              	GLOBAL _game_menu_paint
307   0000              	GLOBAL _game_menu_top_paint
308   0000              	GLOBAL _game_menu_handle
309   0000              	GLOBAL _game_menu_e
310   0000              	GLOBAL _game_menu_back
311   0000              	GLOBAL _game_print_score
312   0000              	GLOBAL _game_unfreeze_all
313   0000              	GLOBAL _game_freeze_all
314   0000              	GLOBAL _game_freeze
315   0000              	GLOBAL _game_enemy_add_get_index
316   0000              	GLOBAL _game_enemy_add1
317   0000              	GLOBAL _game_enemy_quota
318   0000              	GLOBAL _game_enemy_rnd
319   0000              	GLOBAL _game_enemy_add
320   0000              	GLOBAL _game_check_maze
321   0000              	GLOBAL _game_kill_all_sprites
322   0000              	GLOBAL _game_loop
323   0000              	GLOBAL _game_phase_print
324   0000              	GLOBAL _game_phase_init
325   0000              	GLOBAL _game_phase_calc
326   0000              	GLOBAL _game_start_timer
327   0000              	GLOBAL _game_tick
328   0000              	GLOBAL _game_print_lives
329   0000              	GLOBAL _game_print_footer
330   0000              	GLOBAL _game_calc_index
331   0000              	GLOBAL _game_fill_row
332   0000              	GLOBAL _enemy_ugly_fix
333   0000              	GLOBAL _enemy_kill
334   0000              	GLOBAL _enemy_init
335   0000              	GLOBAL _enemy_walk
336   0000              	GLOBAL _enemy_upgrade
337   0000              	GLOBAL _enemy_evolve
338   0000              	GLOBAL _enemy_standard_hit
339   0000              	GLOBAL _enemy_trip
340   0000              	GLOBAL _enemy_fighterfly
341   0000              	GLOBAL _enemy_fireball_green
342   0000              	GLOBAL _enemy_fireball_red
343   0000              	GLOBAL _enemy_slipice
344   0000              	GLOBAL _enemy_standard
345   0000              	GLOBAL _enemy_turn
346   0000              	GLOBAL _enemy_flip_sidestepper
347   0000              	GLOBAL _enemy_flip
348   0000              	GLOBAL _enemy_flip_change_dir
349   0000              	GLOBAL _enemy_hit
350   0000              	GLOBAL _enemy_collition_check
351   0000              	GLOBAL _enemy_collition
352   0000              	GLOBAL _enemy_coin1
353   0000              	GLOBAL _ay_fx_play
354   0000              	GLOBAL _ay_midi_play
355   0000              	GLOBAL _ay_is_playing
356   0000              	GLOBAL _ay_reset
357   0000              	GLOBAL _test_func
358   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
359   0000              	GLOBAL _NIRVANAP_drawTW_raw
360   0000              	GLOBAL _NIRVANAP_drawTW_callee
361   0000              	GLOBAL _NIRVANAP_drawTW
362   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawW_raw
364   0000              	GLOBAL _NIRVANAP_drawW_callee
365   0000              	GLOBAL _NIRVANAP_drawW
366   0000              	GLOBAL _NIRVANAP_spriteT_callee
367   0000              	GLOBAL _NIRVANAP_spriteT
368   0000              	GLOBAL _NIRVANAP_fillC_callee
369   0000              	GLOBAL _NIRVANAP_fillC
370   0000              	GLOBAL _NIRVANAP_readC_callee
371   0000              	GLOBAL _NIRVANAP_readC
372   0000              	GLOBAL _NIRVANAP_paintC_callee
373   0000              	GLOBAL _NIRVANAP_paintC
374   0000              	GLOBAL _NIRVANAP_printC_callee
375   0000              	GLOBAL _NIRVANAP_printC
376   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
377   0000              	GLOBAL _NIRVANAP_fillT_raw
378   0000              	GLOBAL _NIRVANAP_fillT_callee
379   0000              	GLOBAL _NIRVANAP_fillT
380   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
381   0000              	GLOBAL _NIRVANAP_drawT_raw
382   0000              	GLOBAL _NIRVANAP_drawT_callee
383   0000              	GLOBAL _NIRVANAP_drawT
384   0000              	GLOBAL _NIRVANAP_stop
385   0000              	GLOBAL _NIRVANAP_start
386   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
387   0000              	GLOBAL _intrinsic_swap_word_32
388   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
389   0000              	GLOBAL _intrinsic_swap_endian_32
390   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
391   0000              	GLOBAL _intrinsic_swap_endian_16
392   0000              	GLOBAL _intrinsic_return_de
393   0000              	GLOBAL _intrinsic_return_bc
394   0000              	GLOBAL _intrinsic_exx
395   0000              	GLOBAL _intrinsic_ex_de_hl
396   0000              	GLOBAL _intrinsic_pop_iy
397   0000              	GLOBAL _intrinsic_pop_ix
398   0000              	GLOBAL _intrinsic_pop_hl
399   0000              	GLOBAL _intrinsic_pop_de
400   0000              	GLOBAL _intrinsic_pop_bc
401   0000              	GLOBAL _intrinsic_pop_af
402   0000              	GLOBAL _intrinsic_push_iy
403   0000              	GLOBAL _intrinsic_push_ix
404   0000              	GLOBAL _intrinsic_push_hl
405   0000              	GLOBAL _intrinsic_push_de
406   0000              	GLOBAL _intrinsic_push_bc
407   0000              	GLOBAL _intrinsic_push_af
408   0000              	GLOBAL _intrinsic_nop
409   0000              	GLOBAL _intrinsic_im_2
410   0000              	GLOBAL _intrinsic_im_1
411   0000              	GLOBAL _intrinsic_im_0
412   0000              	GLOBAL _intrinsic_retn
413   0000              	GLOBAL _intrinsic_reti
414   0000              	GLOBAL _intrinsic_halt
415   0000              	GLOBAL _intrinsic_ei
416   0000              	GLOBAL _intrinsic_di
417   0000              	GLOBAL _intrinsic_stub
418   0000              	GLOBAL _ulltoa_callee
419   0000              	GLOBAL _ulltoa
420   0000              	GLOBAL _strtoull_callee
421   0000              	GLOBAL _strtoull
422   0000              	GLOBAL _strtoll_callee
423   0000              	GLOBAL _strtoll
424   0000              	GLOBAL _lltoa_callee
425   0000              	GLOBAL _lltoa
426   0000              	GLOBAL _llabs_callee
427   0000              	GLOBAL _llabs
428   0000              	GLOBAL __lldivu__callee
429   0000              	GLOBAL __lldivu_
430   0000              	GLOBAL __lldiv__callee
431   0000              	GLOBAL __lldiv_
432   0000              	GLOBAL _atoll_callee
433   0000              	GLOBAL _atoll
434   0000              	GLOBAL _realloc_unlocked_callee
435   0000              	GLOBAL _realloc_unlocked
436   0000              	GLOBAL _malloc_unlocked_fastcall
437   0000              	GLOBAL _malloc_unlocked
438   0000              	GLOBAL _free_unlocked_fastcall
439   0000              	GLOBAL _free_unlocked
440   0000              	GLOBAL _calloc_unlocked_callee
441   0000              	GLOBAL _calloc_unlocked
442   0000              	GLOBAL _aligned_alloc_unlocked_callee
443   0000              	GLOBAL _aligned_alloc_unlocked
444   0000              	GLOBAL _realloc_callee
445   0000              	GLOBAL _realloc
446   0000              	GLOBAL _malloc_fastcall
447   0000              	GLOBAL _malloc
448   0000              	GLOBAL _free_fastcall
449   0000              	GLOBAL _free
450   0000              	GLOBAL _calloc_callee
451   0000              	GLOBAL _calloc
452   0000              	GLOBAL _aligned_alloc_callee
453   0000              	GLOBAL _aligned_alloc
454   0000              	GLOBAL _utoa_callee
455   0000              	GLOBAL _utoa
456   0000              	GLOBAL _ultoa_callee
457   0000              	GLOBAL _ultoa
458   0000              	GLOBAL _system_fastcall
459   0000              	GLOBAL _system
460   0000              	GLOBAL _strtoul_callee
461   0000              	GLOBAL _strtoul
462   0000              	GLOBAL _strtol_callee
463   0000              	GLOBAL _strtol
464   0000              	GLOBAL _strtof_callee
465   0000              	GLOBAL _strtof
466   0000              	GLOBAL _strtod_callee
467   0000              	GLOBAL _strtod
468   0000              	GLOBAL _srand_fastcall
469   0000              	GLOBAL _srand
470   0000              	GLOBAL _rand
471   0000              	GLOBAL _quick_exit_fastcall
472   0000              	GLOBAL _quick_exit
473   0000              	GLOBAL _qsort_callee
474   0000              	GLOBAL _qsort
475   0000              	GLOBAL _ltoa_callee
476   0000              	GLOBAL _ltoa
477   0000              	GLOBAL _labs_fastcall
478   0000              	GLOBAL _labs
479   0000              	GLOBAL _itoa_callee
480   0000              	GLOBAL _itoa
481   0000              	GLOBAL _ftoh_callee
482   0000              	GLOBAL _ftoh
483   0000              	GLOBAL _ftog_callee
484   0000              	GLOBAL _ftog
485   0000              	GLOBAL _ftoe_callee
486   0000              	GLOBAL _ftoe
487   0000              	GLOBAL _ftoa_callee
488   0000              	GLOBAL _ftoa
489   0000              	GLOBAL _exit_fastcall
490   0000              	GLOBAL _exit
491   0000              	GLOBAL _dtoh_callee
492   0000              	GLOBAL _dtoh
493   0000              	GLOBAL _dtog_callee
494   0000              	GLOBAL _dtog
495   0000              	GLOBAL _dtoe_callee
496   0000              	GLOBAL _dtoe
497   0000              	GLOBAL _dtoa_callee
498   0000              	GLOBAL _dtoa
499   0000              	GLOBAL _bsearch_callee
500   0000              	GLOBAL _bsearch
501   0000              	GLOBAL _atol_fastcall
502   0000              	GLOBAL _atol
503   0000              	GLOBAL _atoi_fastcall
504   0000              	GLOBAL _atoi
505   0000              	GLOBAL _atof_fastcall
506   0000              	GLOBAL _atof
507   0000              	GLOBAL _atexit_fastcall
508   0000              	GLOBAL _atexit
509   0000              	GLOBAL _at_quick_exit_fastcall
510   0000              	GLOBAL _at_quick_exit
511   0000              	GLOBAL _abs_fastcall
512   0000              	GLOBAL _abs
513   0000              	GLOBAL _abort
514   0000              	GLOBAL __strtou__callee
515   0000              	GLOBAL __strtou_
516   0000              	GLOBAL __strtoi__callee
517   0000              	GLOBAL __strtoi_
518   0000              	GLOBAL __random_uniform_xor_8__fastcall
519   0000              	GLOBAL __random_uniform_xor_8_
520   0000              	GLOBAL __random_uniform_xor_32__fastcall
521   0000              	GLOBAL __random_uniform_xor_32_
522   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
523   0000              	GLOBAL __random_uniform_cmwc_8_
524   0000              	GLOBAL __shellsort__callee
525   0000              	GLOBAL __shellsort_
526   0000              	GLOBAL __quicksort__callee
527   0000              	GLOBAL __quicksort_
528   0000              	GLOBAL __insertion_sort__callee
529   0000              	GLOBAL __insertion_sort_
530   0000              	GLOBAL __ldivu__callee
531   0000              	GLOBAL __ldivu_
532   0000              	GLOBAL __ldiv__callee
533   0000              	GLOBAL __ldiv_
534   0000              	GLOBAL __divu__callee
535   0000              	GLOBAL __divu_
536   0000              	GLOBAL __div__callee
537   0000              	GLOBAL __div_
538   0000              	GLOBAL _in_mouse_kempston_wheel_delta
539   0000              	GLOBAL _in_mouse_kempston_wheel
540   0000              	GLOBAL _in_mouse_kempston_callee
541   0000              	GLOBAL _in_mouse_kempston
542   0000              	GLOBAL _in_mouse_kempston_setpos_callee
543   0000              	GLOBAL _in_mouse_kempston_setpos
544   0000              	GLOBAL _in_mouse_kempston_reset
545   0000              	GLOBAL _in_mouse_kempston_init
546   0000              	GLOBAL _in_mouse_amx_wheel_delta
547   0000              	GLOBAL _in_mouse_amx_wheel
548   0000              	GLOBAL _in_mouse_amx_callee
549   0000              	GLOBAL _in_mouse_amx
550   0000              	GLOBAL _in_mouse_amx_setpos_callee
551   0000              	GLOBAL _in_mouse_amx_setpos
552   0000              	GLOBAL _in_mouse_amx_reset
553   0000              	GLOBAL _in_mouse_amx_init_callee
554   0000              	GLOBAL _in_mouse_amx_init
555   0000              	GLOBAL _in_stick_sinclair2
556   0000              	GLOBAL _in_stick_sinclair1
557   0000              	GLOBAL _in_stick_kempston
558   0000              	GLOBAL _in_stick_fuller
559   0000              	GLOBAL _in_stick_cursor
560   0000              	GLOBAL _in_stick_keyboard_fastcall
561   0000              	GLOBAL _in_stick_keyboard
562   0000              	GLOBAL _in_wait_nokey
563   0000              	GLOBAL _in_wait_key
564   0000              	GLOBAL _in_test_key
565   0000              	GLOBAL _in_pause_fastcall
566   0000              	GLOBAL _in_pause
567   0000              	GLOBAL _in_key_scancode_fastcall
568   0000              	GLOBAL _in_key_scancode
569   0000              	GLOBAL _in_key_pressed_fastcall
570   0000              	GLOBAL _in_key_pressed
571   0000              	GLOBAL _in_inkey
572   0000              	GLOBAL _zx_pattern_fill_callee
573   0000              	GLOBAL _zx_pattern_fill
574   0000              	GLOBAL _zx_saddrpup_fastcall
575   0000              	GLOBAL _zx_saddrpup
576   0000              	GLOBAL _zx_saddrpright_callee
577   0000              	GLOBAL _zx_saddrpright
578   0000              	GLOBAL _zx_saddrpleft_callee
579   0000              	GLOBAL _zx_saddrpleft
580   0000              	GLOBAL _zx_saddrpdown_fastcall
581   0000              	GLOBAL _zx_saddrpdown
582   0000              	GLOBAL _zx_saddrcup_fastcall
583   0000              	GLOBAL _zx_saddrcup
584   0000              	GLOBAL _zx_saddrcright_fastcall
585   0000              	GLOBAL _zx_saddrcright
586   0000              	GLOBAL _zx_saddrcleft_fastcall
587   0000              	GLOBAL _zx_saddrcleft
588   0000              	GLOBAL _zx_saddrcdown_fastcall
589   0000              	GLOBAL _zx_saddrcdown
590   0000              	GLOBAL _zx_saddr2py_fastcall
591   0000              	GLOBAL _zx_saddr2py
592   0000              	GLOBAL _zx_saddr2px_fastcall
593   0000              	GLOBAL _zx_saddr2px
594   0000              	GLOBAL _zx_saddr2cy_fastcall
595   0000              	GLOBAL _zx_saddr2cy
596   0000              	GLOBAL _zx_saddr2cx_fastcall
597   0000              	GLOBAL _zx_saddr2cx
598   0000              	GLOBAL _zx_saddr2aaddr_fastcall
599   0000              	GLOBAL _zx_saddr2aaddr
600   0000              	GLOBAL _zx_py2saddr_fastcall
601   0000              	GLOBAL _zx_py2saddr
602   0000              	GLOBAL _zx_py2aaddr_fastcall
603   0000              	GLOBAL _zx_py2aaddr
604   0000              	GLOBAL _zx_pxy2saddr_callee
605   0000              	GLOBAL _zx_pxy2saddr
606   0000              	GLOBAL _zx_pxy2aaddr_callee
607   0000              	GLOBAL _zx_pxy2aaddr
608   0000              	GLOBAL _zx_px2bitmask_fastcall
609   0000              	GLOBAL _zx_px2bitmask
610   0000              	GLOBAL _zx_cyx2saddr_callee
611   0000              	GLOBAL _zx_cyx2saddr
612   0000              	GLOBAL _zx_cyx2aaddr_callee
613   0000              	GLOBAL _zx_cyx2aaddr
614   0000              	GLOBAL _zx_cy2saddr_fastcall
615   0000              	GLOBAL _zx_cy2saddr
616   0000              	GLOBAL _zx_cy2aaddr_fastcall
617   0000              	GLOBAL _zx_cy2aaddr
618   0000              	GLOBAL _zx_bitmask2px_fastcall
619   0000              	GLOBAL _zx_bitmask2px
620   0000              	GLOBAL _zx_aaddrcup_fastcall
621   0000              	GLOBAL _zx_aaddrcup
622   0000              	GLOBAL _zx_aaddrcright_fastcall
623   0000              	GLOBAL _zx_aaddrcright
624   0000              	GLOBAL _zx_aaddrcleft_fastcall
625   0000              	GLOBAL _zx_aaddrcleft
626   0000              	GLOBAL _zx_aaddrcdown_fastcall
627   0000              	GLOBAL _zx_aaddrcdown
628   0000              	GLOBAL _zx_aaddr2saddr_fastcall
629   0000              	GLOBAL _zx_aaddr2saddr
630   0000              	GLOBAL _zx_aaddr2py_fastcall
631   0000              	GLOBAL _zx_aaddr2py
632   0000              	GLOBAL _zx_aaddr2px_fastcall
633   0000              	GLOBAL _zx_aaddr2px
634   0000              	GLOBAL _zx_aaddr2cy_fastcall
635   0000              	GLOBAL _zx_aaddr2cy
636   0000              	GLOBAL _zx_aaddr2cx_fastcall
637   0000              	GLOBAL _zx_aaddr2cx
638   0000              	GLOBAL _zx_scroll_wc_up_callee
639   0000              	GLOBAL _zx_scroll_wc_up
640   0000              	GLOBAL _zx_scroll_up_callee
641   0000              	GLOBAL _zx_scroll_up
642   0000              	GLOBAL _zx_cls_wc_callee
643   0000              	GLOBAL _zx_cls_wc
644   0000              	GLOBAL _zx_cls_fastcall
645   0000              	GLOBAL _zx_cls
646   0000              	GLOBAL _zx_border_fastcall
647   0000              	GLOBAL _zx_border
648   0000              	GLOBAL _ay_effect_20
649   0000              	GLOBAL _ay_effect_19
650   0000              	GLOBAL _ay_effect_18
651   0000              	GLOBAL _ay_effect_17
652   0000              	GLOBAL _ay_effect_16
653   0000              	GLOBAL _ay_effect_15
654   0000              	GLOBAL _ay_effect_14
655   0000              	GLOBAL _ay_effect_13
656   0000              	GLOBAL _ay_effect_12
657   0000              	GLOBAL _ay_effect_11
658   0000              	GLOBAL _ay_effect_10
659   0000              	GLOBAL _ay_effect_09
660   0000              	GLOBAL _ay_effect_08
661   0000              	GLOBAL _ay_effect_07
662   0000              	GLOBAL _ay_effect_06
663   0000              	GLOBAL _ay_effect_05
664   0000              	GLOBAL _ay_effect_04
665   0000              	GLOBAL _ay_effect_03
666   0000              	GLOBAL _ay_effect_02
667   0000              	GLOBAL _ay_effect_01
668   0000              	GLOBAL _pb_midi_phase_1
669   0000              	GLOBAL _pb_midi_title
670   0000              	GLOBAL _joynames
671   0000              	GLOBAL _initials
672   0000              	GLOBAL _hof
673   0000              	GLOBAL _score_osd_tile
674   0000              	GLOBAL _score_osd_time
675   0000              	GLOBAL _score_osd_col
676   0000              	GLOBAL _score_osd_lin
677   0000              	GLOBAL _phase_bonus_total
678   0000              	GLOBAL _phase_angry
679   0000              	GLOBAL _phase_curr
680   0000              	GLOBAL _phase_end
681   0000              	GLOBAL _phase_coins
682   0000              	GLOBAL _phase_pop
683   0000              	GLOBAL _phase_tot
684   0000              	GLOBAL _phase_left
685   0000              	GLOBAL _phase_quota
686   0000              	GLOBAL _phases
687   0000              	GLOBAL _spr_idx
688   0000              	GLOBAL _lvl_1
689   0000              	GLOBAL _sprite_speed_alt
690   0000              	GLOBAL _sprite_speed
691   0000              	GLOBAL _screen_ink
692   0000              	GLOBAL _screen_paper
693   0000              	GLOBAL _game_menu_sel
694   0000              	GLOBAL _game_type
695   0000              	GLOBAL _game_osd
696   0000              	GLOBAL _game_bonus
697   0000              	GLOBAL _spr_water_time
698   0000              	GLOBAL _spr_water_clear
699   0000              	GLOBAL _game_time_fireball_start
700   0000              	GLOBAL _game_time_flipped
701   0000              	GLOBAL _game_score_top
702   0000              	GLOBAL _game_lives
703   0000              	GLOBAL _game_over
704   0000              	GLOBAL _game_sound
705   0000              	GLOBAL _game_inmune
706   0000              	GLOBAL _game_god_mode
707   0000              	GLOBAL _game_start_phase
708   0000              	GLOBAL _game_two_player
709   0000              	GLOBAL _game_brick_tile
710   0000              	GLOBAL _game_pow
711   0000              	GLOBAL _spr_count
712   0000              	GLOBAL _osd_time
713   0000              	GLOBAL _frame_time
714   0000              	GLOBAL _entry_time
715   0000              	GLOBAL _curr_time
716   0000              	GLOBAL _s_state
717   0000              	GLOBAL _attrib_hl
718   0000              	GLOBAL _attrib
719   0000              	GLOBAL _zx_val_asm
720   0000              	GLOBAL _enemies
721   0000              	GLOBAL _tmp_ui
722   0000              	GLOBAL _tmp_sc
723   0000              	GLOBAL _tmp_uc
724   0000              	GLOBAL _tmp1
725   0000              	GLOBAL _tmp0
726   0000              	GLOBAL _tmp
727   0000              	GLOBAL _index_d
728   0000              	GLOBAL _index3
729   0000              	GLOBAL _index2
730   0000              	GLOBAL _index1
731   0000              	GLOBAL _loop_count
732   0000              	GLOBAL _sprite_lin_inc_mul
733   0000              	GLOBAL _s_col1
734   0000              	GLOBAL _s_col0
735   0000              	GLOBAL _s_lin1
736   0000              	GLOBAL _s_lin0
737   0000              	GLOBAL _s_tile1
738   0000              	GLOBAL _s_tile0
739   0000              	GLOBAL _hit_count
740   0000              	GLOBAL _tile_offset_other_player
741   0000              	GLOBAL _tile_offset
742   0000              	GLOBAL _index_player
743   0000              	GLOBAL _sprite_other_player
744   0000              	GLOBAL _sprite
745   0000              	GLOBAL _player_joy
746   0000              	GLOBAL _player_next_extra
747   0000              	GLOBAL _player_score
748   0000              	GLOBAL _last_time
749   0000              	GLOBAL _sliding
750   0000              	GLOBAL _spr_timer_c
751   0000              	GLOBAL _spr_timer
752   0000              	GLOBAL _jump_lin
753   0000              	GLOBAL _player_jump_c
754   0000              	GLOBAL _hit_col
755   0000              	GLOBAL _hit_lin
756   0000              	GLOBAL _colint
757   0000              	GLOBAL _col
758   0000              	GLOBAL _lin
759   0000              	GLOBAL _tile
760   0000              	GLOBAL _state_a
761   0000              	GLOBAL _state
762   0000              	GLOBAL _class
763   0000              	GLOBAL _tbuffer
764   0000              	GLOBAL _dirs
765   0000              	GLOBAL _k2
766   0000              	GLOBAL _k1
767   0000              	GLOBAL _joyfunc2
768   0000              	GLOBAL _joyfunc1
769   0000              	GLOBAL _btiles
770   0000              	GLOBAL _spec128
771   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
772   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
773   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
774   0000              	GLOBAL _NIRVANAP_HOLE
775   0000              	GLOBAL _NIRVANAP_ISR_HOOK
776   0000              	GLOBAL _control_method
777   0000              	GLOBAL _hall_valids
778   0000              ;--------------------------------------------------------
779   0000              ; special function registers
780   0000              ;--------------------------------------------------------
781   0000              ;--------------------------------------------------------
782   0000              ; ram data
783   0000              ;--------------------------------------------------------
784   0000              	SECTION bss_compiler
785   0000              ;--------------------------------------------------------
786   0000              ; ram data
787   0000              ;--------------------------------------------------------
788   0000              
789   0000              IF 0
790   0000              
791   0000              ; .area _INITIALIZED removed by z88dk
792   0000              
793   0000              
794   0000              ENDIF
795   0000              
796   0000              ;--------------------------------------------------------
797   0000              ; absolute external ram data
798   0000              ;--------------------------------------------------------
799   0000              	SECTION IGNORE
800   0000              ;--------------------------------------------------------
801   0000              ; global & static initialisations
802   0000              ;--------------------------------------------------------
803   0000              	SECTION code_crt_init
804   0000              ;--------------------------------------------------------
805   0000              ; Home
806   0000              ;--------------------------------------------------------
807   0000              	SECTION IGNORE
808   0000              ;--------------------------------------------------------
809   0000              ; code
810   0000              ;--------------------------------------------------------
811   0000              	SECTION code_compiler
812   0000              ;	---------------------------------
813   0000              ; Function player_init
814   0000              ; ---------------------------------
815   0000              _player_init:
816   0000  CD 00 00    	call	___sdcc_enter_ix
817   0003  F5          	push	af
818   0004  3E 00       	ld	a,+((_class) & 0xFF)
819   0006  DD 86 04    	add	a,(ix+4)
820   0009  4F          	ld	c,a
821   000A  3E 00       	ld	a,+((_class) / 256)
822   000C  CE 00       	adc	a,0x00
823   000E  47          	ld	b,a
824   000F  3E 10       	ld	a,0x10
825   0011  02          	ld	(bc),a
826   0012  3E 00       	ld	a,+((_tile) & 0xFF)
827   0014  DD 86 04    	add	a,(ix+4)
828   0017  4F          	ld	c,a
829   0018  3E 00       	ld	a,+((_tile) / 256)
830   001A  CE 00       	adc	a,0x00
831   001C  47          	ld	b,a
832   001D  DD 7E 07    	ld	a,(ix+7)
833   0020  02          	ld	(bc),a
834   0021  3E 00       	ld	a,+((_lin) & 0xFF)
835   0023  DD 86 04    	add	a,(ix+4)
836   0026  4F          	ld	c,a
837   0027  3E 00       	ld	a,+((_lin) / 256)
838   0029  CE 00       	adc	a,0x00
839   002B  47          	ld	b,a
840   002C  DD 7E 05    	ld	a,(ix+5)
841   002F  02          	ld	(bc),a
842   0030  3E 00       	ld	a,+((_col) & 0xFF)
843   0032  DD 86 04    	add	a,(ix+4)
844   0035  4F          	ld	c,a
845   0036  3E 00       	ld	a,+((_col) / 256)
846   0038  CE 00       	adc	a,0x00
847   003A  47          	ld	b,a
848   003B  DD 7E 06    	ld	a,(ix+6)
849   003E  02          	ld	(bc),a
850   003F  3E 00       	ld	a,+((_colint) & 0xFF)
851   0041  DD 86 04    	add	a,(ix+4)
852   0044  4F          	ld	c,a
853   0045  3E 00       	ld	a,+((_colint) / 256)
854   0047  CE 00       	adc	a,0x00
855   0049  47          	ld	b,a
856   004A  AF          	xor	a, a
857   004B  02          	ld	(bc),a
858   004C  3E 00       	ld	a,+((_state) & 0xFF)
859   004E  DD 86 04    	add	a,(ix+4)
860   0051  4F          	ld	c,a
861   0052  3E 00       	ld	a,+((_state) / 256)
862   0054  CE 00       	adc	a,0x00
863   0056  47          	ld	b,a
864   0057  AF          	xor	a, a
865   0058  02          	ld	(bc),a
866   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
867   005B  DD 86 04    	add	a,(ix+4)
868   005E  4F          	ld	c,a
869   005F  3E 00       	ld	a,+((_state_a) / 256)
870   0061  CE 00       	adc	a,0x00
871   0063  47          	ld	b,a
872   0064  AF          	xor	a, a
873   0065  02          	ld	(bc),a
874   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
875   0068  DD 86 04    	add	a,(ix+4)
876   006B  5F          	ld	e,a
877   006C  3E 00       	ld	a,+((_jump_lin) / 256)
878   006E  CE 00       	adc	a,0x00
879   0070  57          	ld	d,a
880   0071  DD 7E 05    	ld	a,(ix+5)
881   0074  12          	ld	(de),a
882   0075  DD 5E 04    	ld	e,(ix+4)
883   0078  16 00       	ld	d,0x00
884   007A  CB 23       	sla	e
885   007C  CB 12       	rl	d
886   007E  21 00 00    	ld	hl,_last_time
887   0081  19          	add	hl,de
888   0082  E3          	ex	(sp), hl
889   0083  E1          	pop	hl
890   0084  ED 5B 00 00 	ld	de,(_curr_time)
891   0088  E5          	push	hl
892   0089  73          	ld	(hl),e
893   008A  23          	inc	hl
894   008B  72          	ld	(hl),d
895   008C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
896   008E  DD 86 04    	add	a,(ix+4)
897   0091  5F          	ld	e,a
898   0092  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
899   0094  CE 00       	adc	a,0x00
900   0096  57          	ld	d,a
901   0097  AF          	xor	a, a
902   0098  12          	ld	(de),a
903   0099  0A          	ld	a,(bc)
904   009A  CB C7       	set	0, a
905   009C  02          	ld	(bc),a
906   009D  5F          	ld	e,a
907   009E  DD 7E 04    	ld	a,(ix+4)
908   00A1  D6 07       	sub	a,0x07
909   00A3  20 0B       	jr	NZ,l_player_init_00102
910   00A5  21 00 00    	ld	hl,_index_player
911   00A8  36 00       	ld	(hl),0x00
912   00AA  7B          	ld	a,e
913   00AB  CB E7       	set	4, a
914   00AD  02          	ld	(bc),a
915   00AE  18 09       	jr	l_player_init_00103
916   00B0              l_player_init_00102:
917   00B0  21 00 00    	ld	hl,_index_player
918   00B3  36 01       	ld	(hl),0x01
919   00B5  7B          	ld	a,e
920   00B6  CB DF       	set	3, a
921   00B8  02          	ld	(bc),a
922   00B9              l_player_init_00103:
923   00B9  3E 00       	ld	a,+((_hit_col) & 0xFF)
924   00BB  21 00 00    	ld	hl,_index_player
925   00BE  86          	add	a, (hl)
926   00BF  4F          	ld	c,a
927   00C0  3E 00       	ld	a,+((_hit_col) / 256)
928   00C2  CE 00       	adc	a,0x00
929   00C4  47          	ld	b,a
930   00C5  AF          	xor	a, a
931   00C6  02          	ld	(bc),a
932   00C7  3E 00       	ld	a,+((_hit_lin) & 0xFF)
933   00C9  86          	add	a, (hl)
934   00CA  4F          	ld	c,a
935   00CB  3E 00       	ld	a,+((_hit_lin) / 256)
936   00CD  CE 00       	adc	a,0x00
937   00CF  47          	ld	b,a
938   00D0  AF          	xor	a, a
939   00D1  02          	ld	(bc),a
940   00D2  3E 00       	ld	a,+((_sliding) & 0xFF)
941   00D4  86          	add	a, (hl)
942   00D5  4F          	ld	c,a
943   00D6  3E 00       	ld	a,+((_sliding) / 256)
944   00D8  CE 00       	adc	a,0x00
945   00DA  47          	ld	b,a
946   00DB  AF          	xor	a, a
947   00DC  02          	ld	(bc),a
948   00DD  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
949   00DF  86          	add	a, (hl)
950   00E0  4F          	ld	c,a
951   00E1  3E 00       	ld	a,+((_player_jump_c) / 256)
952   00E3  CE 00       	adc	a,0x00
953   00E5  47          	ld	b,a
954   00E6  AF          	xor	a, a
955   00E7  02          	ld	(bc),a
956   00E8  DD 66 06    	ld	h,(ix+6)
957   00EB  DD 6E 05    	ld	l,(ix+5)
958   00EE  E5          	push	hl
959   00EF  DD 66 07    	ld	h,(ix+7)
960   00F2  DD 6E 04    	ld	l,(ix+4)
961   00F5  E5          	push	hl
962   00F6  CD 00 00    	call	_NIRVANAP_spriteT_callee
963   00F9  F1          	pop	af
964   00FA  DD E1       	pop	ix
965   00FC  C9          	ret
966   00FD              	SECTION code_compiler
967   00FD              ;	---------------------------------
968   00FD              ; Function player_calc_slide
969   00FD              ; ---------------------------------
970   00FD              _player_calc_slide:
971   00FD  3E 00       	ld	a,+((_col) & 0xFF)
972   00FF  21 00 00    	ld	hl,_sprite
973   0102  86          	add	a, (hl)
974   0103  4F          	ld	c,a
975   0104  3E 00       	ld	a,+((_col) / 256)
976   0106  CE 00       	adc	a,0x00
977   0108  47          	ld	b,a
978   0109  0A          	ld	a,(bc)
979   010A  57          	ld	d,a
980   010B  4E          	ld	c,(hl)
981   010C  06 00       	ld	b,0x00
982   010E  21 00 00    	ld	hl,_lin
983   0111  09          	add	hl,bc
984   0112  7E          	ld	a,(hl)
985   0113  C6 10       	add	a,0x10
986   0115  5F          	ld	e, a
987   0116  D5          	push	de
988   0117  CD 00 00    	call	_game_calc_index
989   011A  F1          	pop	af
990   011B  22 00 00    	ld	(_index1),hl
991   011E  01 00 00    	ld	bc,_lvl_1
992   0121  09          	add	hl,bc
993   0122  7E          	ld	a,(hl)
994   0123  D6 14       	sub	a,0x14
995   0125  20 10       	jr	NZ,l_player_calc_slide_00102
996   0127  3A 00 00    	ld	a,(_index_player)
997   012A  C6 00       	add	a,+((_sliding) & 0xFF)
998   012C  4F          	ld	c,a
999   012D  3E 00       	ld	a,+((_sliding) / 256)
1000  012F  CE 00       	adc	a,0x00
1001  0131  47          	ld	b,a
1002  0132  3E 0C       	ld	a,0x0c
1003  0134  02          	ld	(bc),a
1004  0135  18 0E       	jr	l_player_calc_slide_00104
1005  0137              l_player_calc_slide_00102:
1006  0137  3A 00 00    	ld	a,(_index_player)
1007  013A  C6 00       	add	a,+((_sliding) & 0xFF)
1008  013C  4F          	ld	c,a
1009  013D  3E 00       	ld	a,+((_sliding) / 256)
1010  013F  CE 00       	adc	a,0x00
1011  0141  47          	ld	b,a
1012  0142  3E 06       	ld	a,0x06
1013  0144  02          	ld	(bc),a
1014  0145              l_player_calc_slide_00104:
1015  0145  C9          	ret
1016  0146              	SECTION code_compiler
1017  0146              ;	---------------------------------
1018  0146              ; Function player_check_input
1019  0146              ; ---------------------------------
1020  0146              _player_check_input:
1021  0146  21 00 00    	ld	hl,_dirs
1022  0149  7E          	ld	a,(hl)
1023  014A  CB 07       	rlc	a
1024  014C  E6 01       	and	a,0x01
1025  014E  CB 47       	bit	0,a
1026  0150  20 0F       	jr	NZ,l_player_check_input_00104
1027  0152  7E          	ld	a,(hl)
1028  0153  E6 04       	and	a,0x04
1029  0155  20 0A       	jr	NZ,l_player_check_input_00104
1030  0157  3A 00 00    	ld	a,(_dirs)
1031  015A  E6 08       	and	a,0x08
1032  015C  20 03       	jr	NZ,l_player_check_input_00104
1033  015E  6F          	ld	l,a
1034  015F  18 02       	jr	l_player_check_input_00105
1035  0161              l_player_check_input_00104:
1036  0161  2E 01       	ld	l,0x01
1037  0163              l_player_check_input_00105:
1038  0163  C9          	ret
1039  0164              	SECTION code_compiler
1040  0164              ;	---------------------------------
1041  0164              ; Function player_collition
1042  0164              ; ---------------------------------
1043  0164              _player_collition:
1044  0164  3A 00 00    	ld	a,(_sprite)
1045  0167  C6 00       	add	a,+((_class) & 0xFF)
1046  0169  4F          	ld	c,a
1047  016A  3E 00       	ld	a,+((_class) / 256)
1048  016C  CE 00       	adc	a,0x00
1049  016E  47          	ld	b,a
1050  016F  0A          	ld	a,(bc)
1051  0170  B7          	or	a,a
1052  0171  20 04       	jr	NZ,l_player_collition_00102
1053  0173  6F          	ld	l,a
1054  0174  C3 0A 02    	jp	l_player_collition_00124
1055  0177              l_player_collition_00102:
1056  0177  3A 00 00    	ld	a,(_sprite)
1057  017A  C6 00       	add	a,+((_state) & 0xFF)
1058  017C  4F          	ld	c,a
1059  017D  3E 00       	ld	a,+((_state) / 256)
1060  017F  CE 00       	adc	a,0x00
1061  0181  47          	ld	b,a
1062  0182  0A          	ld	a,(bc)
1063  0183  CB 67       	bit	4, a
1064  0185  28 05       	jr	Z,l_player_collition_00104
1065  0187  2E 00       	ld	l,0x00
1066  0189  C3 0A 02    	jp	l_player_collition_00124
1067  018C              l_player_collition_00104:
1068  018C  CB 6F       	bit	5, a
1069  018E  28 05       	jr	Z,l_player_collition_00106
1070  0190  2E 00       	ld	l,0x00
1071  0192  C3 0A 02    	jp	l_player_collition_00124
1072  0195              l_player_collition_00106:
1073  0195  21 00 00    	ld	hl,_hit_count
1074  0198  36 00       	ld	(hl),0x00
1075  019A  21 00 00    	ld	hl,_enemies
1076  019D  36 00       	ld	(hl),0x00
1077  019F              l_player_collition_00122:
1078  019F  CD 0B 02    	call	_player_collition_check
1079  01A2  7D          	ld	a,l
1080  01A3  B7          	or	a, a
1081  01A4  28 55       	jr	Z,l_player_collition_00123
1082  01A6  3A 00 00    	ld	a,(_enemies)
1083  01A9  C6 00       	add	a,+((_state) & 0xFF)
1084  01AB  4F          	ld	c,a
1085  01AC  3E 00       	ld	a,+((_state) / 256)
1086  01AE  CE 00       	adc	a,0x00
1087  01B0  47          	ld	b,a
1088  01B1  0A          	ld	a,(bc)
1089  01B2  CB 67       	bit	4, a
1090  01B4  28 08       	jr	Z,l_player_collition_00117
1091  01B6  2A 00 00    	ld	hl,(_enemies)
1092  01B9  CD 00 00    	call	_enemy_kill
1093  01BC  18 3D       	jr	l_player_collition_00123
1094  01BE              l_player_collition_00117:
1095  01BE  2A 00 00    	ld	hl,(_enemies)
1096  01C1  26 00       	ld	h,0x00
1097  01C3  01 00 00    	ld	bc,_class
1098  01C6  09          	add	hl,bc
1099  01C7  7E          	ld	a,(hl)
1100  01C8  4F          	ld	c,a
1101  01C9  D6 08       	sub	a,0x08
1102  01CB  28 05       	jr	Z,l_player_collition_00112
1103  01CD  79          	ld	a,c
1104  01CE  D6 0C       	sub	a,0x0c
1105  01D0  20 0C       	jr	NZ,l_player_collition_00113
1106  01D2              l_player_collition_00112:
1107  01D2  2A 00 00    	ld	hl,(_enemies)
1108  01D5  26 50       	ld	h,0x50
1109  01D7  E5          	push	hl
1110  01D8  CD 18 10    	call	_player_coin
1111  01DB  F1          	pop	af
1112  01DC  18 1D       	jr	l_player_collition_00123
1113  01DE              l_player_collition_00113:
1114  01DE  21 00 00    	ld	hl,_ay_effect_18
1115  01E1  CD 00 00    	call	_ay_fx_play
1116  01E4  3A 00 00    	ld	a,(_game_god_mode)
1117  01E7  B7          	or	a, a
1118  01E8  28 08       	jr	Z,l_player_collition_00110
1119  01EA  2A 00 00    	ld	hl,(_enemies)
1120  01ED  CD 00 00    	call	_enemy_kill
1121  01F0  18 09       	jr	l_player_collition_00123
1122  01F2              l_player_collition_00110:
1123  01F2  3A 00 00    	ld	a,(_game_inmune)
1124  01F5  B7          	or	a, a
1125  01F6  20 03       	jr	NZ,l_player_collition_00123
1126  01F8  CD 80 03    	call	_player_kill
1127  01FB              l_player_collition_00123:
1128  01FB  21 00 00    	ld	hl,_enemies
1129  01FE  7E          	ld	a,(hl)
1130  01FF  3C          	inc	a
1131  0200  77          	ld	(hl),a
1132  0201  D6 06       	sub	a,0x06
1133  0203  38 9A       	jr	C,l_player_collition_00122
1134  0205  CD 00 00    	call	_game_score_osd
1135  0208  2E 00       	ld	l,0x00
1136  020A              l_player_collition_00124:
1137  020A  C9          	ret
1138  020B              	SECTION code_compiler
1139  020B              ;	---------------------------------
1140  020B              ; Function player_collition_check
1141  020B              ; ---------------------------------
1142  020B              _player_collition_check:
1143  020B  CD 00 00    	call	___sdcc_enter_ix
1144  020E  3B          	dec	sp
1145  020F  3A 00 00    	ld	a,(_enemies)
1146  0212  C6 00       	add	a,+((_class) & 0xFF)
1147  0214  4F          	ld	c,a
1148  0215  3E 00       	ld	a,+((_class) / 256)
1149  0217  CE 00       	adc	a,0x00
1150  0219  47          	ld	b,a
1151  021A  0A          	ld	a,(bc)
1152  021B  B7          	or	a,a
1153  021C  20 04       	jr	NZ,l_player_collition_check_00102
1154  021E  6F          	ld	l,a
1155  021F  C3 7C 03    	jp	l_player_collition_check_00125
1156  0222              l_player_collition_check_00102:
1157  0222  3A 00 00    	ld	a,(_enemies)
1158  0225  C6 00       	add	a,+((_state) & 0xFF)
1159  0227  4F          	ld	c,a
1160  0228  3E 00       	ld	a,+((_state) / 256)
1161  022A  CE 00       	adc	a,0x00
1162  022C  47          	ld	b,a
1163  022D  0A          	ld	a,(bc)
1164  022E  CB 6F       	bit	5, a
1165  0230  28 05       	jr	Z,l_player_collition_check_00104
1166  0232  2E 00       	ld	l,0x00
1167  0234  C3 7C 03    	jp	l_player_collition_check_00125
1168  0237              l_player_collition_check_00104:
1169  0237  11 00 00    	ld	de,_lin+0
1170  023A  7B          	ld	a,e
1171  023B  21 00 00    	ld	hl,_enemies
1172  023E  86          	add	a, (hl)
1173  023F  4F          	ld	c,a
1174  0240  7A          	ld	a,d
1175  0241  CE 00       	adc	a,0x00
1176  0243  47          	ld	b,a
1177  0244  0A          	ld	a,(bc)
1178  0245  4F          	ld	c,a
1179  0246  06 00       	ld	b,0x00
1180  0248  7B          	ld	a,e
1181  0249  21 00 00    	ld	hl,_sprite
1182  024C  86          	add	a, (hl)
1183  024D  5F          	ld	e,a
1184  024E  7A          	ld	a,d
1185  024F  CE 00       	adc	a,0x00
1186  0251  57          	ld	d,a
1187  0252  1A          	ld	a,(de)
1188  0253  5F          	ld	e,a
1189  0254  16 00       	ld	d,0x00
1190  0256  79          	ld	a,c
1191  0257  93          	sub	a, e
1192  0258  6F          	ld	l,a
1193  0259  78          	ld	a,b
1194  025A  9A          	sbc	a, d
1195  025B  67          	ld	h,a
1196  025C  CD 00 00    	call	_abs_fastcall
1197  025F  22 00 00    	ld	(_tmp_ui),hl
1198  0262  3A 00 00    	ld	a,(_sprite)
1199  0265  C6 00       	add	a,+((_state) & 0xFF)
1200  0267  4F          	ld	c,a
1201  0268  3E 00       	ld	a,+((_state) / 256)
1202  026A  CE 00       	adc	a,0x00
1203  026C  47          	ld	b,a
1204  026D  0A          	ld	a,(bc)
1205  026E  CB 47       	bit	0, a
1206  0270  20 04       	jr	NZ,l_player_collition_check_00109
1207  0272  CB 4F       	bit	1, a
1208  0274  28 11       	jr	Z,l_player_collition_check_00110
1209  0276              l_player_collition_check_00109:
1210  0276  3E 10       	ld	a,0x10
1211  0278  21 00 00    	ld	hl,_tmp_ui
1212  027B  BE          	cp	a, (hl)
1213  027C  3E 00       	ld	a,0x00
1214  027E  23          	inc	hl
1215  027F  9E          	sbc	a, (hl)
1216  0280  30 16       	jr	NC,l_player_collition_check_00111
1217  0282  2E 00       	ld	l,0x00
1218  0284  C3 7C 03    	jp	l_player_collition_check_00125
1219  0287              l_player_collition_check_00110:
1220  0287  3E 0E       	ld	a,0x0e
1221  0289  21 00 00    	ld	hl,_tmp_ui
1222  028C  BE          	cp	a, (hl)
1223  028D  3E 00       	ld	a,0x00
1224  028F  23          	inc	hl
1225  0290  9E          	sbc	a, (hl)
1226  0291  30 05       	jr	NC,l_player_collition_check_00111
1227  0293  2E 00       	ld	l,0x00
1228  0295  C3 7C 03    	jp	l_player_collition_check_00125
1229  0298              l_player_collition_check_00111:
1230  0298  2A 00 00    	ld	hl,(_enemies)
1231  029B  26 00       	ld	h,0x00
1232  029D  01 00 00    	ld	bc,_col
1233  02A0  09          	add	hl,bc
1234  02A1  4E          	ld	c,(hl)
1235  02A2  06 00       	ld	b,0x00
1236  02A4  2A 00 00    	ld	hl,(_sprite)
1237  02A7  60          	ld	h,b
1238  02A8  11 00 00    	ld	de,_col
1239  02AB  19          	add	hl,de
1240  02AC  5E          	ld	e, (hl)
1241  02AD  16 00       	ld	d,0x00
1242  02AF  79          	ld	a,c
1243  02B0  93          	sub	a, e
1244  02B1  6F          	ld	l,a
1245  02B2  78          	ld	a,b
1246  02B3  9A          	sbc	a, d
1247  02B4  67          	ld	h,a
1248  02B5  CD 00 00    	call	_abs_fastcall
1249  02B8  22 00 00    	ld	(_tmp_ui),hl
1250  02BB  2A 00 00    	ld	hl,(_enemies)
1251  02BE  26 00       	ld	h,0x00
1252  02C0  01 00 00    	ld	bc,_col
1253  02C3  09          	add	hl,bc
1254  02C4  7E          	ld	a,(hl)
1255  02C5  4F          	ld	c,a
1256  02C6  87          	add	a, a
1257  02C7  81          	add	a, c
1258  02C8  32 00 00    	ld	(_tmp0),a
1259  02CB  4F          	ld	c,a
1260  02CC  2A 00 00    	ld	hl,(_sprite)
1261  02CF  26 00       	ld	h,0x00
1262  02D1  11 00 00    	ld	de,_col
1263  02D4  19          	add	hl,de
1264  02D5  7E          	ld	a,(hl)
1265  02D6  5F          	ld	e,a
1266  02D7  87          	add	a, a
1267  02D8  83          	add	a, e
1268  02D9  32 00 00    	ld	(_tmp1),a
1269  02DC  47          	ld	b,a
1270  02DD  3E 02       	ld	a,0x02
1271  02DF  21 00 00    	ld	hl,_tmp_ui
1272  02E2  BE          	cp	a, (hl)
1273  02E3  3E 00       	ld	a,0x00
1274  02E5  23          	inc	hl
1275  02E6  9E          	sbc	a, (hl)
1276  02E7  30 05       	jr	NC,l_player_collition_check_00114
1277  02E9  2E 00       	ld	l,0x00
1278  02EB  C3 7C 03    	jp	l_player_collition_check_00125
1279  02EE              l_player_collition_check_00114:
1280  02EE  2A 00 00    	ld	hl,(_enemies)
1281  02F1  26 00       	ld	h,0x00
1282  02F3  11 00 00    	ld	de,_state
1283  02F6  19          	add	hl,de
1284  02F7  7E          	ld	a,(hl)
1285  02F8  DD 77 FF    	ld	(ix-1),a
1286  02FB  CB 57       	bit	2,a
1287  02FD  28 0E       	jr	Z,l_player_collition_check_00116
1288  02FF  2A 00 00    	ld	hl,(_enemies)
1289  0302  26 00       	ld	h,0x00
1290  0304  11 00 00    	ld	de,_colint
1291  0307  19          	add	hl,de
1292  0308  7E          	ld	a,(hl)
1293  0309  81          	add	a,c
1294  030A  32 00 00    	ld	(_tmp0),a
1295  030D              l_player_collition_check_00116:
1296  030D  DD CB FF 5E 	bit	3,(ix-1)
1297  0311  28 0F       	jr	Z,l_player_collition_check_00118
1298  0313  2A 00 00    	ld	hl,(_enemies)
1299  0316  26 00       	ld	h,0x00
1300  0318  11 00 00    	ld	de,_colint
1301  031B  19          	add	hl,de
1302  031C  5E          	ld	e, (hl)
1303  031D  79          	ld	a,c
1304  031E  93          	sub	a, e
1305  031F  32 00 00    	ld	(_tmp0),a
1306  0322              l_player_collition_check_00118:
1307  0322  2A 00 00    	ld	hl,(_sprite)
1308  0325  26 00       	ld	h,0x00
1309  0327  11 00 00    	ld	de,_state
1310  032A  19          	add	hl,de
1311  032B  7E          	ld	a,(hl)
1312  032C  4F          	ld	c,a
1313  032D  CB 57       	bit	2,a
1314  032F  28 0E       	jr	Z,l_player_collition_check_00120
1315  0331  2A 00 00    	ld	hl,(_sprite)
1316  0334  26 00       	ld	h,0x00
1317  0336  11 00 00    	ld	de,_colint
1318  0339  19          	add	hl,de
1319  033A  7E          	ld	a,(hl)
1320  033B  80          	add	a,b
1321  033C  32 00 00    	ld	(_tmp1),a
1322  033F              l_player_collition_check_00120:
1323  033F  CB 59       	bit	3, c
1324  0341  28 0F       	jr	Z,l_player_collition_check_00122
1325  0343  2A 00 00    	ld	hl,(_sprite)
1326  0346  26 00       	ld	h,0x00
1327  0348  11 00 00    	ld	de,_colint
1328  034B  19          	add	hl,de
1329  034C  4E          	ld	c, (hl)
1330  034D  78          	ld	a,b
1331  034E  91          	sub	a, c
1332  034F  32 00 00    	ld	(_tmp1),a
1333  0352              l_player_collition_check_00122:
1334  0352  3A 00 00    	ld	a,(_tmp0)
1335  0355  4F          	ld	c,a
1336  0356  06 00       	ld	b,0x00
1337  0358  3A 00 00    	ld	a,(_tmp1)
1338  035B  5F          	ld	e,a
1339  035C  16 00       	ld	d,0x00
1340  035E  79          	ld	a,c
1341  035F  93          	sub	a, e
1342  0360  6F          	ld	l,a
1343  0361  78          	ld	a,b
1344  0362  9A          	sbc	a, d
1345  0363  67          	ld	h,a
1346  0364  CD 00 00    	call	_abs_fastcall
1347  0367  22 00 00    	ld	(_tmp_ui),hl
1348  036A  3E 04       	ld	a,0x04
1349  036C  21 00 00    	ld	hl,_tmp_ui
1350  036F  BE          	cp	a, (hl)
1351  0370  3E 00       	ld	a,0x00
1352  0372  23          	inc	hl
1353  0373  9E          	sbc	a, (hl)
1354  0374  30 04       	jr	NC,l_player_collition_check_00124
1355  0376  2E 00       	ld	l,0x00
1356  0378  18 02       	jr	l_player_collition_check_00125
1357  037A              l_player_collition_check_00124:
1358  037A  2E 01       	ld	l,0x01
1359  037C              l_player_collition_check_00125:
1360  037C  33          	inc	sp
1361  037D  DD E1       	pop	ix
1362  037F  C9          	ret
1363  0380              	SECTION code_compiler
1364  0380              ;	---------------------------------
1365  0380              ; Function player_kill
1366  0380              ; ---------------------------------
1367  0380              _player_kill:
1368  0380  01 00 00    	ld	bc,_state+0
1369  0383  2A 00 00    	ld	hl,(_sprite)
1370  0386  26 00       	ld	h,0x00
1371  0388  09          	add	hl,bc
1372  0389  CB 6E       	bit	5,(hl)
1373  038B  C2 61 04    	jp	NZ,l_player_kill_00109
1374  038E  C5          	push	bc
1375  038F  CD 00 00    	call	_sound_hit_brick
1376  0392  C1          	pop	bc
1377  0393  79          	ld	a,c
1378  0394  21 00 00    	ld	hl,_sprite
1379  0397  86          	add	a, (hl)
1380  0398  5F          	ld	e,a
1381  0399  78          	ld	a,b
1382  039A  CE 00       	adc	a,0x00
1383  039C  57          	ld	d,a
1384  039D  1A          	ld	a,(de)
1385  039E  CB EF       	set	5, a
1386  03A0  12          	ld	(de),a
1387  03A1  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1388  03A3  86          	add	a, (hl)
1389  03A4  5F          	ld	e,a
1390  03A5  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1391  03A7  CE 00       	adc	a,0x00
1392  03A9  57          	ld	d,a
1393  03AA  3E 03       	ld	a,0x03
1394  03AC  12          	ld	(de),a
1395  03AD  79          	ld	a,c
1396  03AE  86          	add	a, (hl)
1397  03AF  4F          	ld	c,a
1398  03B0  78          	ld	a,b
1399  03B1  CE 00       	adc	a,0x00
1400  03B3  47          	ld	b,a
1401  03B4  0A          	ld	a,(bc)
1402  03B5  CB 57       	bit	2, a
1403  03B7  28 13       	jr	Z,l_player_kill_00102
1404  03B9  3A 00 00    	ld	a,(_sprite)
1405  03BC  C6 00       	add	a,+((_tile) & 0xFF)
1406  03BE  4F          	ld	c,a
1407  03BF  3E 00       	ld	a,+((_tile) / 256)
1408  03C1  CE 00       	adc	a,0x00
1409  03C3  47          	ld	b,a
1410  03C4  3A 00 00    	ld	a,(_tile_offset)
1411  03C7  C6 0B       	add	a,0x0b
1412  03C9  02          	ld	(bc),a
1413  03CA  18 11       	jr	l_player_kill_00103
1414  03CC              l_player_kill_00102:
1415  03CC  3A 00 00    	ld	a,(_sprite)
1416  03CF  C6 00       	add	a,+((_tile) & 0xFF)
1417  03D1  4F          	ld	c,a
1418  03D2  3E 00       	ld	a,+((_tile) / 256)
1419  03D4  CE 00       	adc	a,0x00
1420  03D6  47          	ld	b,a
1421  03D7  3A 00 00    	ld	a,(_tile_offset)
1422  03DA  C6 17       	add	a,0x17
1423  03DC  02          	ld	(bc),a
1424  03DD              l_player_kill_00103:
1425  03DD  CD 18 0F    	call	_player_hit_brick_clear
1426  03E0  3E 00       	ld	a,+((_col) & 0xFF)
1427  03E2  21 00 00    	ld	hl,_sprite
1428  03E5  86          	add	a, (hl)
1429  03E6  4F          	ld	c,a
1430  03E7  3E 00       	ld	a,+((_col) / 256)
1431  03E9  CE 00       	adc	a,0x00
1432  03EB  47          	ld	b,a
1433  03EC  0A          	ld	a,(bc)
1434  03ED  4F          	ld	c,a
1435  03EE  3E 00       	ld	a,+((_lin) & 0xFF)
1436  03F0  86          	add	a, (hl)
1437  03F1  5F          	ld	e,a
1438  03F2  3E 00       	ld	a,+((_lin) / 256)
1439  03F4  CE 00       	adc	a,0x00
1440  03F6  57          	ld	d,a
1441  03F7  1A          	ld	a,(de)
1442  03F8  47          	ld	b,a
1443  03F9  3E 00       	ld	a,+((_tile) & 0xFF)
1444  03FB  86          	add	a, (hl)
1445  03FC  5F          	ld	e,a
1446  03FD  3E 00       	ld	a,+((_tile) / 256)
1447  03FF  CE 00       	adc	a,0x00
1448  0401  57          	ld	d,a
1449  0402  1A          	ld	a,(de)
1450  0403  57          	ld	d,a
1451  0404  79          	ld	a,c
1452  0405  F5          	push	af
1453  0406  33          	inc	sp
1454  0407  4A          	ld	c, d
1455  0408  7E          	ld	a,(hl)
1456  0409  C5          	push	bc
1457  040A  F5          	push	af
1458  040B  33          	inc	sp
1459  040C  CD 00 00    	call	_NIRVANAP_spriteT_callee
1460  040F  01 00 00    	ld	bc,_spr_timer+0
1461  0412  2A 00 00    	ld	hl,(_sprite)
1462  0415  26 00       	ld	h,0x00
1463  0417  29          	add	hl, hl
1464  0418  09          	add	hl,bc
1465  0419  ED 5B 00 00 	ld	de,(_curr_time)
1466  041D  73          	ld	(hl),e
1467  041E  23          	inc	hl
1468  041F  72          	ld	(hl),d
1469  0420  3A 00 00    	ld	a,(_sprite)
1470  0423  D6 07       	sub	a,0x07
1471  0425  20 1E       	jr	NZ,l_player_kill_00105
1472  0427  01 00 00    	ld	bc,_state_a+0
1473  042A  79          	ld	a,c
1474  042B  21 00 00    	ld	hl,_sprite
1475  042E  86          	add	a, (hl)
1476  042F  5F          	ld	e,a
1477  0430  78          	ld	a,b
1478  0431  CE 00       	adc	a,0x00
1479  0433  57          	ld	d,a
1480  0434  1A          	ld	a,(de)
1481  0435  CB DF       	set	3, a
1482  0437  12          	ld	(de),a
1483  0438  79          	ld	a,c
1484  0439  86          	add	a, (hl)
1485  043A  4F          	ld	c,a
1486  043B  78          	ld	a,b
1487  043C  CE 00       	adc	a,0x00
1488  043E  47          	ld	b,a
1489  043F  0A          	ld	a,(bc)
1490  0440  E6 EF       	and	a,0xef
1491  0442  02          	ld	(bc),a
1492  0443  18 1C       	jr	l_player_kill_00109
1493  0445              l_player_kill_00105:
1494  0445  01 00 00    	ld	bc,_state_a+0
1495  0448  79          	ld	a,c
1496  0449  21 00 00    	ld	hl,_sprite
1497  044C  86          	add	a, (hl)
1498  044D  5F          	ld	e,a
1499  044E  78          	ld	a,b
1500  044F  CE 00       	adc	a,0x00
1501  0451  57          	ld	d,a
1502  0452  1A          	ld	a,(de)
1503  0453  CB E7       	set	4, a
1504  0455  12          	ld	(de),a
1505  0456  79          	ld	a,c
1506  0457  86          	add	a, (hl)
1507  0458  4F          	ld	c,a
1508  0459  78          	ld	a,b
1509  045A  CE 00       	adc	a,0x00
1510  045C  47          	ld	b,a
1511  045D  0A          	ld	a,(bc)
1512  045E  E6 F7       	and	a,0xf7
1513  0460  02          	ld	(bc),a
1514  0461              l_player_kill_00109:
1515  0461  C9          	ret
1516  0462              	SECTION code_compiler
1517  0462              ;	---------------------------------
1518  0462              ; Function player_restart
1519  0462              ; ---------------------------------
1520  0462              _player_restart:
1521  0462  CD 00 00    	call	___sdcc_enter_ix
1522  0465  F5          	push	af
1523  0466  4D          	ld	c,l
1524  0467  21 00 00    	ld	hl,_ay_effect_15
1525  046A  CD 00 00    	call	_ay_fx_play
1526  046D  79          	ld	a,c
1527  046E  D6 07       	sub	a,0x07
1528  0470  20 1B       	jr	NZ,l_player_restart_00102
1529  0472  C5          	push	bc
1530  0473  21 0E 03    	ld	hl,0x030e
1531  0476  E5          	push	hl
1532  0477  21 07 00    	ld	hl,0x0007
1533  047A  E5          	push	hl
1534  047B  CD 00 00    	call	_player_init
1535  047E  F1          	pop	af
1536  047F  21 10 0E    	ld	hl,0x0e10
1537  0482  E3          	ex	(sp),hl
1538  0483  3E 84       	ld	a,0x84
1539  0485  F5          	push	af
1540  0486  33          	inc	sp
1541  0487  CD 00 00    	call	_NIRVANAP_drawT_callee
1542  048A  C1          	pop	bc
1543  048B  18 19       	jr	l_player_restart_00103
1544  048D              l_player_restart_00102:
1545  048D  C5          	push	bc
1546  048E  21 10 27    	ld	hl,0x2710
1547  0491  E5          	push	hl
1548  0492  21 06 00    	ld	hl,0x0006
1549  0495  E5          	push	hl
1550  0496  CD 00 00    	call	_player_init
1551  0499  F1          	pop	af
1552  049A  21 10 10    	ld	hl,0x1010
1553  049D  E3          	ex	(sp),hl
1554  049E  3E 84       	ld	a,0x84
1555  04A0  F5          	push	af
1556  04A1  33          	inc	sp
1557  04A2  CD 00 00    	call	_NIRVANAP_drawT_callee
1558  04A5  C1          	pop	bc
1559  04A6              l_player_restart_00103:
1560  04A6  11 00 00    	ld	de,_state+0
1561  04A9  69          	ld	l,c
1562  04AA  26 00       	ld	h,0x00
1563  04AC  19          	add	hl,de
1564  04AD  CB E6       	set	4, (hl)
1565  04AF  11 00 00    	ld	de,_state_a+0
1566  04B2  69          	ld	l,c
1567  04B3  26 00       	ld	h,0x00
1568  04B5  19          	add	hl,de
1569  04B6  CB C6       	set	0, (hl)
1570  04B8  11 00 00    	ld	de,_spr_timer+0
1571  04BB  69          	ld	l,c
1572  04BC  26 00       	ld	h,0x00
1573  04BE  29          	add	hl, hl
1574  04BF  19          	add	hl,de
1575  04C0  E3          	ex	(sp), hl
1576  04C1  E1          	pop	hl
1577  04C2  ED 5B 00 00 	ld	de,(_curr_time)
1578  04C6  E5          	push	hl
1579  04C7  73          	ld	(hl),e
1580  04C8  23          	inc	hl
1581  04C9  72          	ld	(hl),d
1582  04CA  11 00 00    	ld	de,_sprite_speed_alt+0
1583  04CD  69          	ld	l,c
1584  04CE  26 00       	ld	h,0x00
1585  04D0  19          	add	hl,de
1586  04D1  F1          	pop	af
1587  04D2  36 08       	ld	(hl),0x08
1588  04D4  DD E1       	pop	ix
1589  04D6  C9          	ret
1590  04D7              	SECTION code_compiler
1591  04D7              ;	---------------------------------
1592  04D7              ; Function player_lost_life
1593  04D7              ; ---------------------------------
1594  04D7              _player_lost_life:
1595  04D7  CD 00 00    	call	_sound_hit_enemy
1596  04DA  01 00 00    	ld	bc,_game_lives+0
1597  04DD  79          	ld	a,c
1598  04DE  21 00 00    	ld	hl,_index_player
1599  04E1  86          	add	a, (hl)
1600  04E2  5F          	ld	e,a
1601  04E3  78          	ld	a,b
1602  04E4  CE 00       	adc	a,0x00
1603  04E6  57          	ld	d,a
1604  04E7  1A          	ld	a,(de)
1605  04E8  C6 FF       	add	a,0xff
1606  04EA  12          	ld	(de),a
1607  04EB  79          	ld	a,c
1608  04EC  86          	add	a, (hl)
1609  04ED  5F          	ld	e,a
1610  04EE  78          	ld	a,b
1611  04EF  CE 00       	adc	a,0x00
1612  04F1  57          	ld	d,a
1613  04F2  1A          	ld	a,(de)
1614  04F3  B7          	or	a, a
1615  04F4  20 13       	jr	NZ,l_player_lost_life_00105
1616  04F6  0A          	ld	a,(bc)
1617  04F7  B7          	or	a, a
1618  04F8  20 0B       	jr	NZ,l_player_lost_life_00102
1619  04FA  3A 01 00    	ld	a, (_game_lives + 1)
1620  04FD  B7          	or	a, a
1621  04FE  20 05       	jr	NZ,l_player_lost_life_00102
1622  0500  21 00 00    	ld	hl,_game_over
1623  0503  36 01       	ld	(hl),0x01
1624  0505              l_player_lost_life_00102:
1625  0505  2E 00       	ld	l,0x00
1626  0507  18 08       	jr	l_player_lost_life_00106
1627  0509              l_player_lost_life_00105:
1628  0509  CD 00 00    	call	_spr_check_over
1629  050C  CD 00 00    	call	_game_print_lives
1630  050F  2E 01       	ld	l,0x01
1631  0511              l_player_lost_life_00106:
1632  0511  C9          	ret
1633  0512              	SECTION code_compiler
1634  0512              ;	---------------------------------
1635  0512              ; Function player_turn
1636  0512              ; ---------------------------------
1637  0512              _player_turn:
1638  0512  3A 00 00    	ld	a,(_sprite)
1639  0515  C6 00       	add	a,+((_class) & 0xFF)
1640  0517  4F          	ld	c,a
1641  0518  3E 00       	ld	a,+((_class) / 256)
1642  051A  CE 00       	adc	a,0x00
1643  051C  47          	ld	b,a
1644  051D  0A          	ld	a,(bc)
1645  051E  D6 10       	sub	a,0x10
1646  0520  20 51       	jr	NZ,l_player_turn_00110
1647  0522  3A 00 00    	ld	a,(_phase_left)
1648  0525  B7          	or	a, a
1649  0526  28 4B       	jr	Z,l_player_turn_00110
1650  0528  3A 00 00    	ld	a,(_index_player)
1651  052B  C6 00       	add	a,+((_game_lives) & 0xFF)
1652  052D  4F          	ld	c,a
1653  052E  3E 00       	ld	a,+((_game_lives) / 256)
1654  0530  CE 00       	adc	a,0x00
1655  0532  47          	ld	b,a
1656  0533  0A          	ld	a,(bc)
1657  0534  B7          	or	a, a
1658  0535  28 3C       	jr	Z,l_player_turn_00110
1659  0537  21 00 00    	ld	hl,_sprite
1660  053A  CD 00 00    	call	_spr_chktime
1661  053D  7D          	ld	a,l
1662  053E  B7          	or	a, a
1663  053F  28 32       	jr	Z,l_player_turn_00110
1664  0541  21 00 00    	ld	hl,_dirs
1665  0544  36 00       	ld	(hl),0x00
1666  0546  3A 00 00    	ld	a,(_sprite)
1667  0549  D6 07       	sub	a,0x07
1668  054B  20 11       	jr	NZ,l_player_turn_00102
1669  054D  21 00 00    	ld	hl,_k1
1670  0550  E5          	push	hl
1671  0551  2A 00 00    	ld	hl,(_joyfunc1)
1672  0554  CD 00 00    	call	___sdcc_call_hl
1673  0557  F1          	pop	af
1674  0558  7D          	ld	a,l
1675  0559  32 00 00    	ld	(_dirs),a
1676  055C  18 0F       	jr	l_player_turn_00103
1677  055E              l_player_turn_00102:
1678  055E  21 00 00    	ld	hl,_k1
1679  0561  E5          	push	hl
1680  0562  2A 00 00    	ld	hl,(_joyfunc2)
1681  0565  CD 00 00    	call	___sdcc_call_hl
1682  0568  F1          	pop	af
1683  0569  7D          	ld	a,l
1684  056A  32 00 00    	ld	(_dirs),a
1685  056D              l_player_turn_00103:
1686  056D  CD 74 05    	call	_player_move
1687  0570  CD 64 01    	call	_player_collition
1688  0573              l_player_turn_00110:
1689  0573  C9          	ret
1690  0574              	SECTION code_compiler
1691  0574              ;	---------------------------------
1692  0574              ; Function player_move
1693  0574              ; ---------------------------------
1694  0574              _player_move:
1695  0574  CD 00 00    	call	___sdcc_enter_ix
1696  0577  F5          	push	af
1697  0578  3B          	dec	sp
1698  0579  3A 00 00    	ld	a,(_sprite)
1699  057C  C6 00       	add	a,+((_lin) & 0xFF)
1700  057E  4F          	ld	c,a
1701  057F  3E 00       	ld	a,+((_lin) / 256)
1702  0581  CE 00       	adc	a,0x00
1703  0583  47          	ld	b,a
1704  0584  0A          	ld	a,(bc)
1705  0585  DD 77 FF    	ld	(ix-1),a
1706  0588  32 00 00    	ld	(_s_lin0),a
1707  058B  3A 00 00    	ld	a,(_sprite)
1708  058E  C6 00       	add	a,+((_col) & 0xFF)
1709  0590  4F          	ld	c,a
1710  0591  3E 00       	ld	a,+((_col) / 256)
1711  0593  CE 00       	adc	a,0x00
1712  0595  47          	ld	b,a
1713  0596  0A          	ld	a,(bc)
1714  0597  32 00 00    	ld	(_s_col0),a
1715  059A  3E 00       	ld	a,+((_tile) & 0xFF)
1716  059C  21 00 00    	ld	hl,_sprite
1717  059F  86          	add	a, (hl)
1718  05A0  DD 77 FD    	ld	(ix-3),a
1719  05A3  3E 00       	ld	a,+((_tile) / 256)
1720  05A5  CE 00       	adc	a,0x00
1721  05A7  DD 77 FE    	ld	(ix-2),a
1722  05AA  E1          	pop	hl
1723  05AB  4E          	ld	c,(hl)
1724  05AC  E5          	push	hl
1725  05AD  2A 00 00    	ld	hl,(_sprite)
1726  05B0  26 00       	ld	h,0x00
1727  05B2  11 00 00    	ld	de,_colint
1728  05B5  19          	add	hl,de
1729  05B6  7E          	ld	a,(hl)
1730  05B7  81          	add	a,c
1731  05B8  32 00 00    	ld	(_s_tile0),a
1732  05BB  3A 00 00    	ld	a,(_sprite)
1733  05BE  C6 00       	add	a,+((_state) & 0xFF)
1734  05C0  4F          	ld	c,a
1735  05C1  3E 00       	ld	a,+((_state) / 256)
1736  05C3  CE 00       	adc	a,0x00
1737  05C5  47          	ld	b,a
1738  05C6  0A          	ld	a,(bc)
1739  05C7  32 00 00    	ld	(_s_state),a
1740  05CA  E6 20       	and	a,0x20
1741  05CC  28 2E       	jr	Z,l_player_move_00104
1742  05CE  3A 00 00    	ld	a,(_tile_offset)
1743  05D1  C6 0A       	add	a,0x0a
1744  05D3  E1          	pop	hl
1745  05D4  E5          	push	hl
1746  05D5  77          	ld	(hl),a
1747  05D6  01 00 00    	ld	bc,_spr_timer+0
1748  05D9  2A 00 00    	ld	hl,(_sprite)
1749  05DC  26 00       	ld	h,0x00
1750  05DE  29          	add	hl, hl
1751  05DF  09          	add	hl,bc
1752  05E0  4E          	ld	c,(hl)
1753  05E1  23          	inc	hl
1754  05E2  46          	ld	b,(hl)
1755  05E3  21 28 00    	ld	hl,0x0028
1756  05E6  E5          	push	hl
1757  05E7  C5          	push	bc
1758  05E8  CD 00 00    	call	_game_check_time
1759  05EB  F1          	pop	af
1760  05EC  F1          	pop	af
1761  05ED  7D          	ld	a,l
1762  05EE  B7          	or	a, a
1763  05EF  28 06       	jr	Z,l_player_move_00102
1764  05F1  2A 00 00    	ld	hl,(_sprite)
1765  05F4  CD 00 00    	call	_spr_killed
1766  05F7              l_player_move_00102:
1767  05F7  2E 00       	ld	l,0x00
1768  05F9  C3 6D 09    	jp	l_player_move_00158
1769  05FC              l_player_move_00104:
1770  05FC  3A 00 00    	ld	a,(_s_state)
1771  05FF  E6 10       	and	a,0x10
1772  0601  CA 39 07    	jp	Z,l_player_move_00117
1773  0604  DD 7E FF    	ld	a,(ix-1)
1774  0607  D6 10       	sub	a,0x10
1775  0609  30 14       	jr	NC,l_player_move_00108
1776  060B  3A 00 00    	ld	a,(_sprite)
1777  060E  C6 00       	add	a,+((_state_a) & 0xFF)
1778  0610  4F          	ld	c,a
1779  0611  3E 00       	ld	a,+((_state_a) / 256)
1780  0613  CE 00       	adc	a,0x00
1781  0615  47          	ld	b,a
1782  0616  0A          	ld	a,(bc)
1783  0617  E6 FE       	and	a,0xfe
1784  0619  02          	ld	(bc),a
1785  061A  CD 00 00    	call	_spr_move_down
1786  061D  18 4C       	jr	l_player_move_00109
1787  061F              l_player_move_00108:
1788  061F  CD 46 01    	call	_player_check_input
1789  0622  7D          	ld	a,l
1790  0623  B7          	or	a, a
1791  0624  28 45       	jr	Z,l_player_move_00109
1792  0626  2A 00 00    	ld	hl,(_sprite)
1793  0629  26 00       	ld	h,0x00
1794  062B  01 00 00    	ld	bc,_state
1795  062E  09          	add	hl,bc
1796  062F  7E          	ld	a,(hl)
1797  0630  E6 EF       	and	a,0xef
1798  0632  77          	ld	(hl),a
1799  0633  2A 00 00    	ld	hl,(_sprite)
1800  0636  26 00       	ld	h,0x00
1801  0638  01 00 00    	ld	bc,_state_a
1802  063B  09          	add	hl,bc
1803  063C  7E          	ld	a,(hl)
1804  063D  E6 FE       	and	a,0xfe
1805  063F  77          	ld	(hl),a
1806  0640  76          	halt
1807  0641  3A 00 00    	ld	a,(_s_col0)
1808  0644  F5          	push	af
1809  0645  33          	inc	sp
1810  0646  21 A9 10    	ld	hl,0x10a9
1811  0649  E5          	push	hl
1812  064A  CD 00 00    	call	_NIRVANAP_drawT_callee
1813  064D  3A 00 00    	ld	a,(_s_col0)
1814  0650  F5          	push	af
1815  0651  33          	inc	sp
1816  0652  21 A9 20    	ld	hl,0x20a9
1817  0655  E5          	push	hl
1818  0656  CD 00 00    	call	_NIRVANAP_drawT_callee
1819  0659  3A 00 00    	ld	a,(_sprite)
1820  065C  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1821  065E  4F          	ld	c,a
1822  065F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1823  0661  CE 00       	adc	a,0x00
1824  0663  47          	ld	b,a
1825  0664  AF          	xor	a, a
1826  0665  02          	ld	(bc),a
1827  0666  2E 00       	ld	l,0x00
1828  0668  C3 6D 09    	jp	l_player_move_00158
1829  066B              l_player_move_00109:
1830  066B  CD 00 00    	call	_spr_redraw
1831  066E  ED 4B 00 00 	ld	bc,(_curr_time)
1832  0672  2A 00 00    	ld	hl,(_sprite)
1833  0675  26 00       	ld	h,0x00
1834  0677  29          	add	hl, hl
1835  0678  11 00 00    	ld	de,_spr_timer
1836  067B  19          	add	hl,de
1837  067C  5E          	ld	e,(hl)
1838  067D  23          	inc	hl
1839  067E  56          	ld	d,(hl)
1840  067F  69          	ld	l,c
1841  0680  60          	ld	h,b
1842  0681  AF          	xor	a,a
1843  0682  ED 52       	sbc	hl,de
1844  0684  22 00 00    	ld	(_tmp_ui),hl
1845  0687  21 00 00    	ld	hl,_tmp
1846  068A  36 00       	ld	(hl),0x00
1847  068C  3E 32       	ld	a,0x32
1848  068E  21 00 00    	ld	hl,_tmp_ui
1849  0691  BE          	cp	a, (hl)
1850  0692  3E 00       	ld	a,0x00
1851  0694  23          	inc	hl
1852  0695  9E          	sbc	a, (hl)
1853  0696  30 05       	jr	NC,l_player_move_00111
1854  0698  21 00 00    	ld	hl,_tmp
1855  069B  36 01       	ld	(hl),0x01
1856  069D              l_player_move_00111:
1857  069D  3E 64       	ld	a,0x64
1858  069F  21 00 00    	ld	hl,_tmp_ui
1859  06A2  BE          	cp	a, (hl)
1860  06A3  3E 00       	ld	a,0x00
1861  06A5  23          	inc	hl
1862  06A6  9E          	sbc	a, (hl)
1863  06A7  30 05       	jr	NC,l_player_move_00113
1864  06A9  21 00 00    	ld	hl,_tmp
1865  06AC  36 02       	ld	(hl),0x02
1866  06AE              l_player_move_00113:
1867  06AE  76          	halt
1868  06AF  3A 00 00    	ld	a,(_sprite)
1869  06B2  C6 00       	add	a,+((_lin) & 0xFF)
1870  06B4  4F          	ld	c,a
1871  06B5  3E 00       	ld	a,+((_lin) / 256)
1872  06B7  CE 00       	adc	a,0x00
1873  06B9  47          	ld	b,a
1874  06BA  0A          	ld	a,(bc)
1875  06BB  C6 10       	add	a,0x10
1876  06BD  57          	ld	d,a
1877  06BE  3A 00 00    	ld	a,(_tmp)
1878  06C1  C6 84       	add	a,0x84
1879  06C3  47          	ld	b,a
1880  06C4  3A 00 00    	ld	a,(_s_col0)
1881  06C7  5A          	ld	e,d
1882  06C8  57          	ld	d,a
1883  06C9  D5          	push	de
1884  06CA  C5          	push	bc
1885  06CB  33          	inc	sp
1886  06CC  CD 00 00    	call	_NIRVANAP_drawT_callee
1887  06CF  3E 96       	ld	a,0x96
1888  06D1  21 00 00    	ld	hl,_tmp_ui
1889  06D4  BE          	cp	a, (hl)
1890  06D5  3E 00       	ld	a,0x00
1891  06D7  23          	inc	hl
1892  06D8  9E          	sbc	a, (hl)
1893  06D9  30 59       	jr	NC,l_player_move_00115
1894  06DB  2A 00 00    	ld	hl,(_sprite)
1895  06DE  26 00       	ld	h,0x00
1896  06E0  01 00 00    	ld	bc,_lin
1897  06E3  09          	add	hl,bc
1898  06E4  4E          	ld	c, (hl)
1899  06E5  3A 00 00    	ld	a, (_s_col0)
1900  06E8  47          	ld	b,a
1901  06E9  C5          	push	bc
1902  06EA  3E A9       	ld	a,0xa9
1903  06EC  F5          	push	af
1904  06ED  33          	inc	sp
1905  06EE  CD 00 00    	call	_NIRVANAP_drawT_callee
1906  06F1  3A 00 00    	ld	a,(_sprite)
1907  06F4  C6 00       	add	a,+((_lin) & 0xFF)
1908  06F6  4F          	ld	c,a
1909  06F7  3E 00       	ld	a,+((_lin) / 256)
1910  06F9  CE 00       	adc	a,0x00
1911  06FB  47          	ld	b,a
1912  06FC  0A          	ld	a,(bc)
1913  06FD  C6 10       	add	a,0x10
1914  06FF  4F          	ld	c, a
1915  0700  3A 00 00    	ld	a, (_s_col0)
1916  0703  47          	ld	b,a
1917  0704  C5          	push	bc
1918  0705  3E A9       	ld	a,0xa9
1919  0707  F5          	push	af
1920  0708  33          	inc	sp
1921  0709  CD 00 00    	call	_NIRVANAP_drawT_callee
1922  070C  2A 00 00    	ld	hl,(_sprite)
1923  070F  26 00       	ld	h,0x00
1924  0711  01 00 00    	ld	bc,_state
1925  0714  09          	add	hl,bc
1926  0715  7E          	ld	a,(hl)
1927  0716  E6 EF       	and	a,0xef
1928  0718  77          	ld	(hl),a
1929  0719  3E 00       	ld	a,+((_state) & 0xFF)
1930  071B  21 00 00    	ld	hl,_sprite
1931  071E  86          	add	a, (hl)
1932  071F  4F          	ld	c,a
1933  0720  3E 00       	ld	a,+((_state) / 256)
1934  0722  CE 00       	adc	a,0x00
1935  0724  47          	ld	b,a
1936  0725  0A          	ld	a,(bc)
1937  0726  CB C7       	set	0, a
1938  0728  02          	ld	(bc),a
1939  0729  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1940  072B  86          	add	a, (hl)
1941  072C  4F          	ld	c,a
1942  072D  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1943  072F  CE 00       	adc	a,0x00
1944  0731  47          	ld	b,a
1945  0732  AF          	xor	a, a
1946  0733  02          	ld	(bc),a
1947  0734              l_player_move_00115:
1948  0734  2E 00       	ld	l,0x00
1949  0736  C3 6D 09    	jp	l_player_move_00158
1950  0739              l_player_move_00117:
1951  0739  3A 00 00    	ld	a,(_sprite)
1952  073C  C6 00       	add	a,+((_state_a) & 0xFF)
1953  073E  4F          	ld	c,a
1954  073F  3E 00       	ld	a,+((_state_a) / 256)
1955  0741  CE 00       	adc	a,0x00
1956  0743  47          	ld	b,a
1957  0744  0A          	ld	a,(bc)
1958  0745  0F          	rrca
1959  0746  30 1D       	jr	NC,l_player_move_00122
1960  0748  CD 46 01    	call	_player_check_input
1961  074B  7D          	ld	a,l
1962  074C  B7          	or	a, a
1963  074D  28 11       	jr	Z,l_player_move_00119
1964  074F  3A 00 00    	ld	a,(_sprite)
1965  0752  C6 00       	add	a,+((_state_a) & 0xFF)
1966  0754  4F          	ld	c,a
1967  0755  3E 00       	ld	a,+((_state_a) / 256)
1968  0757  CE 00       	adc	a,0x00
1969  0759  47          	ld	b,a
1970  075A  0A          	ld	a,(bc)
1971  075B  E6 FE       	and	a,0xfe
1972  075D  02          	ld	(bc),a
1973  075E  18 05       	jr	l_player_move_00122
1974  0760              l_player_move_00119:
1975  0760  2E 00       	ld	l,0x00
1976  0762  C3 6D 09    	jp	l_player_move_00158
1977  0765              l_player_move_00122:
1978  0765  3A 00 00    	ld	a,(_sprite)
1979  0768  C6 00       	add	a,+((_state_a) & 0xFF)
1980  076A  4F          	ld	c,a
1981  076B  3E 00       	ld	a,+((_state_a) / 256)
1982  076D  CE 00       	adc	a,0x00
1983  076F  47          	ld	b,a
1984  0770  0A          	ld	a,(bc)
1985  0771  CB 57       	bit	2, a
1986  0773  28 58       	jr	Z,l_player_move_00126
1987  0775  01 00 00    	ld	bc,_spr_timer+0
1988  0778  2A 00 00    	ld	hl,(_sprite)
1989  077B  26 00       	ld	h,0x00
1990  077D  29          	add	hl, hl
1991  077E  09          	add	hl,bc
1992  077F  4E          	ld	c,(hl)
1993  0780  23          	inc	hl
1994  0781  46          	ld	b,(hl)
1995  0782  21 14 00    	ld	hl,0x0014
1996  0785  E5          	push	hl
1997  0786  C5          	push	bc
1998  0787  CD 00 00    	call	_game_check_time
1999  078A  F1          	pop	af
2000  078B  F1          	pop	af
2001  078C  7D          	ld	a,l
2002  078D  B7          	or	a, a
2003  078E  28 3D       	jr	Z,l_player_move_00126
2004  0790  2A 00 00    	ld	hl,(_sprite)
2005  0793  26 00       	ld	h,0x00
2006  0795  01 00 00    	ld	bc,_state_a
2007  0798  09          	add	hl,bc
2008  0799  7E          	ld	a,(hl)
2009  079A  E6 FB       	and	a,0xfb
2010  079C  77          	ld	(hl),a
2011  079D  3E 00       	ld	a,+((_colint) & 0xFF)
2012  079F  21 00 00    	ld	hl,_sprite
2013  07A2  86          	add	a, (hl)
2014  07A3  4F          	ld	c,a
2015  07A4  3E 00       	ld	a,+((_colint) / 256)
2016  07A6  CE 00       	adc	a,0x00
2017  07A8  47          	ld	b,a
2018  07A9  AF          	xor	a, a
2019  07AA  02          	ld	(bc),a
2020  07AB  3E 00       	ld	a,+((_tile) & 0xFF)
2021  07AD  86          	add	a, (hl)
2022  07AE  4F          	ld	c,a
2023  07AF  3E 00       	ld	a,+((_tile) / 256)
2024  07B1  CE 00       	adc	a,0x00
2025  07B3  47          	ld	b,a
2026  07B4  3A 00 00    	ld	a,(_tile_offset)
2027  07B7  5F          	ld	e,a
2028  07B8  16 00       	ld	d,0x00
2029  07BA  13          	inc	de
2030  07BB  13          	inc	de
2031  07BC  13          	inc	de
2032  07BD  2A 00 00    	ld	hl,(_sprite)
2033  07C0  C5          	push	bc
2034  07C1  26 0C       	ld	h,0x0c
2035  07C3  E5          	push	hl
2036  07C4  D5          	push	de
2037  07C5  CD 00 00    	call	_spr_tile_dir
2038  07C8  F1          	pop	af
2039  07C9  F1          	pop	af
2040  07CA  C1          	pop	bc
2041  07CB  7D          	ld	a, l
2042  07CC  02          	ld	(bc),a
2043  07CD              l_player_move_00126:
2044  07CD  CD 72 09    	call	_player_move_input
2045  07D0  3A 00 00    	ld	a,(_sprite)
2046  07D3  C6 00       	add	a,+((_state) & 0xFF)
2047  07D5  4F          	ld	c,a
2048  07D6  3E 00       	ld	a,+((_state) / 256)
2049  07D8  CE 00       	adc	a,0x00
2050  07DA  47          	ld	b,a
2051  07DB  0A          	ld	a,(bc)
2052  07DC  21 00 00    	ld	hl,_s_state
2053  07DF  77          	ld	(hl),a
2054  07E0  E6 01       	and	a,0x01
2055  07E2  4F          	ld	c,a
2056  07E3  B7          	or	a, a
2057  07E4  20 6F       	jr	NZ,l_player_move_00153
2058  07E6  7E          	ld	a,(hl)
2059  07E7  E6 02       	and	a,0x02
2060  07E9  20 6A       	jr	NZ,l_player_move_00153
2061  07EB  3E 00       	ld	a,+((_col) & 0xFF)
2062  07ED  21 00 00    	ld	hl,_sprite
2063  07F0  86          	add	a, (hl)
2064  07F1  4F          	ld	c,a
2065  07F2  3E 00       	ld	a,+((_col) / 256)
2066  07F4  CE 00       	adc	a,0x00
2067  07F6  47          	ld	b,a
2068  07F7  0A          	ld	a,(bc)
2069  07F8  57          	ld	d,a
2070  07F9  4E          	ld	c,(hl)
2071  07FA  06 00       	ld	b,0x00
2072  07FC  21 00 00    	ld	hl,_lin
2073  07FF  09          	add	hl,bc
2074  0800  7E          	ld	a,(hl)
2075  0801  C6 10       	add	a,0x10
2076  0803  5F          	ld	e, a
2077  0804  D5          	push	de
2078  0805  CD 00 00    	call	_game_calc_index
2079  0808  F1          	pop	af
2080  0809  22 00 00    	ld	(_index_d),hl
2081  080C  3A 00 00    	ld	a,(_s_lin0)
2082  080F  D6 98       	sub	a,0x98
2083  0811  20 06       	jr	NZ,l_player_move_00128
2084  0813  21 00 00    	ld	hl,0x0000
2085  0816  22 00 00    	ld	(_index_d),hl
2086  0819              l_player_move_00128:
2087  0819  21 01 00    	ld	hl,_index_d + 1
2088  081C  7E          	ld	a,(hl)
2089  081D  2B          	dec	hl
2090  081E  B6          	or	a,(hl)
2091  081F  CA 3B 09    	jp	Z,l_player_move_00154
2092  0822  01 00 00    	ld	bc,_lvl_1+0
2093  0825  79          	ld	a,c
2094  0826  86          	add	a, (hl)
2095  0827  5F          	ld	e,a
2096  0828  78          	ld	a,b
2097  0829  23          	inc	hl
2098  082A  8E          	adc	a, (hl)
2099  082B  57          	ld	d,a
2100  082C  1A          	ld	a,(de)
2101  082D  D6 10       	sub	a,0x10
2102  082F  D2 3B 09    	jp	NC,l_player_move_00154
2103  0832  56          	ld	d,(hl)
2104  0833  2B          	dec	hl
2105  0834  5E          	ld	e,(hl)
2106  0835  13          	inc	de
2107  0836  69          	ld	l, c
2108  0837  60          	ld	h, b
2109  0838  19          	add	hl,de
2110  0839  7E          	ld	a, (hl)
2111  083A  D6 10       	sub	a,0x10
2112  083C  D2 3B 09    	jp	NC,l_player_move_00154
2113  083F  3A 00 00    	ld	a,(_sprite)
2114  0842  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2115  0844  4F          	ld	c,a
2116  0845  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2117  0847  CE 00       	adc	a,0x00
2118  0849  47          	ld	b,a
2119  084A  3E 02       	ld	a,0x02
2120  084C  02          	ld	(bc),a
2121  084D  21 00 00    	ld	hl,_s_state
2122  0850  CB CE       	set	1, (hl)
2123  0852  C3 3B 09    	jp	l_player_move_00154
2124  0855              l_player_move_00153:
2125  0855  21 00 00    	ld	hl,_sprite_lin_inc_mul
2126  0858  36 02       	ld	(hl),0x02
2127  085A  2A 00 00    	ld	hl,(_index_player)
2128  085D  26 00       	ld	h,0x00
2129  085F  11 00 00    	ld	de,_player_jump_c
2130  0862  19          	add	hl,de
2131  0863  46          	ld	b, (hl)
2132  0864  3E 03       	ld	a,0x03
2133  0866  90          	sub	a, b
2134  0867  30 05       	jr	NC,l_player_move_00134
2135  0869  21 00 00    	ld	hl,_sprite_lin_inc_mul
2136  086C  36 01       	ld	(hl),0x01
2137  086E              l_player_move_00134:
2138  086E  3E 08       	ld	a,0x08
2139  0870  90          	sub	a, b
2140  0871  30 05       	jr	NC,l_player_move_00136
2141  0873  21 00 00    	ld	hl,_sprite_lin_inc_mul
2142  0876  36 00       	ld	(hl),0x00
2143  0878              l_player_move_00136:
2144  0878  3E 0C       	ld	a,0x0c
2145  087A  90          	sub	a, b
2146  087B  30 05       	jr	NC,l_player_move_00138
2147  087D  21 00 00    	ld	hl,_sprite_lin_inc_mul
2148  0880  36 01       	ld	(hl),0x01
2149  0882              l_player_move_00138:
2150  0882  3E 11       	ld	a,0x11
2151  0884  90          	sub	a, b
2152  0885  30 05       	jr	NC,l_player_move_00140
2153  0887  21 00 00    	ld	hl,_sprite_lin_inc_mul
2154  088A  36 02       	ld	(hl),0x02
2155  088C              l_player_move_00140:
2156  088C  79          	ld	a,c
2157  088D  B7          	or	a, a
2158  088E  28 11       	jr	Z,l_player_move_00150
2159  0890  78          	ld	a,b
2160  0891  D6 0A       	sub	a,0x0a
2161  0893  30 06       	jr	NC,l_player_move_00142
2162  0895  CD 00 00    	call	_spr_move_up
2163  0898  C3 25 09    	jp	l_player_move_00151
2164  089B              l_player_move_00142:
2165  089B  CD 00 00    	call	_spr_set_fall
2166  089E  C3 25 09    	jp	l_player_move_00151
2167  08A1              l_player_move_00150:
2168  08A1  CD 00 00    	call	_spr_move_down
2169  08A4  7D          	ld	a,l
2170  08A5  B7          	or	a, a
2171  08A6  CA 25 09    	jp	Z,l_player_move_00151
2172  08A9  21 00 00    	ld	hl,_s_state
2173  08AC  CB 8E       	res	1, (hl)
2174  08AE  3A 00 00    	ld	a,(_sprite)
2175  08B1  C6 00       	add	a,+((_state_a) & 0xFF)
2176  08B3  4F          	ld	c,a
2177  08B4  3E 00       	ld	a,+((_state_a) / 256)
2178  08B6  CE 00       	adc	a,0x00
2179  08B8  47          	ld	b,a
2180  08B9  0A          	ld	a,(bc)
2181  08BA  E6 7F       	and	a,0x7f
2182  08BC  02          	ld	(bc),a
2183  08BD  3A 00 00    	ld	a,(_index_player)
2184  08C0  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2185  08C2  4F          	ld	c,a
2186  08C3  3E 00       	ld	a,+((_player_jump_c) / 256)
2187  08C5  CE 00       	adc	a,0x00
2188  08C7  47          	ld	b,a
2189  08C8  AF          	xor	a, a
2190  08C9  02          	ld	(bc),a
2191  08CA  3A 00 00    	ld	a,(_sprite)
2192  08CD  C6 00       	add	a,+((_jump_lin) & 0xFF)
2193  08CF  4F          	ld	c,a
2194  08D0  3E 00       	ld	a,+((_jump_lin) / 256)
2195  08D2  CE 00       	adc	a,0x00
2196  08D4  47          	ld	b,a
2197  08D5  AF          	xor	a, a
2198  08D6  02          	ld	(bc),a
2199  08D7  3A 00 00    	ld	a,(_index_player)
2200  08DA  C6 00       	add	a,+((_sliding) & 0xFF)
2201  08DC  4F          	ld	c,a
2202  08DD  3E 00       	ld	a,+((_sliding) / 256)
2203  08DF  CE 00       	adc	a,0x00
2204  08E1  47          	ld	b,a
2205  08E2  AF          	xor	a, a
2206  08E3  02          	ld	(bc),a
2207  08E4  3E 00       	ld	a,+((_colint) & 0xFF)
2208  08E6  21 00 00    	ld	hl,_sprite
2209  08E9  86          	add	a, (hl)
2210  08EA  4F          	ld	c,a
2211  08EB  3E 00       	ld	a,+((_colint) / 256)
2212  08ED  CE 00       	adc	a,0x00
2213  08EF  47          	ld	b,a
2214  08F0  AF          	xor	a, a
2215  08F1  02          	ld	(bc),a
2216  08F2  3E 00       	ld	a,+((_tile) & 0xFF)
2217  08F4  86          	add	a, (hl)
2218  08F5  4F          	ld	c,a
2219  08F6  3E 00       	ld	a,+((_tile) / 256)
2220  08F8  CE 00       	adc	a,0x00
2221  08FA  47          	ld	b,a
2222  08FB  3A 00 00    	ld	a,(_tile_offset)
2223  08FE  5F          	ld	e,a
2224  08FF  16 00       	ld	d,0x00
2225  0901  13          	inc	de
2226  0902  13          	inc	de
2227  0903  13          	inc	de
2228  0904  2A 00 00    	ld	hl,(_sprite)
2229  0907  C5          	push	bc
2230  0908  26 0C       	ld	h,0x0c
2231  090A  E5          	push	hl
2232  090B  D5          	push	de
2233  090C  CD 00 00    	call	_spr_tile_dir
2234  090F  F1          	pop	af
2235  0910  F1          	pop	af
2236  0911  C1          	pop	bc
2237  0912  7D          	ld	a, l
2238  0913  02          	ld	(bc),a
2239  0914  3A 00 00    	ld	a,(_s_state)
2240  0917  E6 08       	and	a,0x08
2241  0919  20 07       	jr	NZ,l_player_move_00144
2242  091B  3A 00 00    	ld	a,(_s_state)
2243  091E  E6 04       	and	a,0x04
2244  0920  28 03       	jr	Z,l_player_move_00151
2245  0922              l_player_move_00144:
2246  0922  CD FD 00    	call	_player_calc_slide
2247  0925              l_player_move_00151:
2248  0925  21 00 00    	ld	hl,_sprite_lin_inc_mul
2249  0928  36 00       	ld	(hl),0x00
2250  092A  3A 00 00    	ld	a,(_index_player)
2251  092D  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2252  092F  4F          	ld	c,a
2253  0930  3E 00       	ld	a,+((_player_jump_c) / 256)
2254  0932  CE 00       	adc	a,0x00
2255  0934  47          	ld	b,a
2256  0935  0A          	ld	a,(bc)
2257  0936  3C          	inc	a
2258  0937  02          	ld	(bc),a
2259  0938  CD 2A 0C    	call	_player_move_horizontal
2260  093B              l_player_move_00154:
2261  093B  2A 00 00    	ld	hl,(_sprite)
2262  093E  26 00       	ld	h,0x00
2263  0940  29          	add	hl, hl
2264  0941  11 00 00    	ld	de,_spr_timer
2265  0944  19          	add	hl,de
2266  0945  4E          	ld	c,(hl)
2267  0946  23          	inc	hl
2268  0947  46          	ld	b,(hl)
2269  0948  21 04 00    	ld	hl,0x0004
2270  094B  E5          	push	hl
2271  094C  C5          	push	bc
2272  094D  CD 00 00    	call	_game_check_time
2273  0950  F1          	pop	af
2274  0951  F1          	pop	af
2275  0952  7D          	ld	a,l
2276  0953  B7          	or	a, a
2277  0954  28 03       	jr	Z,l_player_move_00157
2278  0956  CD 18 0F    	call	_player_hit_brick_clear
2279  0959              l_player_move_00157:
2280  0959  CD 00 00    	call	_spr_redraw
2281  095C  3A 00 00    	ld	a,(_sprite)
2282  095F  C6 00       	add	a,+((_state) & 0xFF)
2283  0961  4F          	ld	c,a
2284  0962  3E 00       	ld	a,+((_state) / 256)
2285  0964  CE 00       	adc	a,0x00
2286  0966  47          	ld	b,a
2287  0967  3A 00 00    	ld	a,(_s_state)
2288  096A  02          	ld	(bc),a
2289  096B  2E 00       	ld	l,0x00
2290  096D              l_player_move_00158:
2291  096D  DD F9       	ld	sp, ix
2292  096F  DD E1       	pop	ix
2293  0971  C9          	ret
2294  0972              	SECTION code_compiler
2295  0972              ;	---------------------------------
2296  0972              ; Function player_move_input
2297  0972              ; ---------------------------------
2298  0972              _player_move_input:
2299  0972  3A 00 00    	ld	a,(_s_state)
2300  0975  0F          	rrca
2301  0976  38 07       	jr	C,l_player_move_input_00101
2302  0978  3A 00 00    	ld	a,(_s_state)
2303  097B  E6 02       	and	a,0x02
2304  097D  28 05       	jr	Z,l_player_move_input_00102
2305  097F              l_player_move_input_00101:
2306  097F  2E 00       	ld	l,0x00
2307  0981  C3 29 0C    	jp	l_player_move_input_00135
2308  0984              l_player_move_input_00102:
2309  0984  CD 46 01    	call	_player_check_input
2310  0987  7D          	ld	a,l
2311  0988  B7          	or	a, a
2312  0989  CA 38 0B    	jp	Z,l_player_move_input_00131
2313  098C  2A 00 00    	ld	hl,(_index_player)
2314  098F  26 00       	ld	h,0x00
2315  0991  01 00 00    	ld	bc,_sliding
2316  0994  09          	add	hl,bc
2317  0995  46          	ld	b,(hl)
2318  0996  3A 00 00    	ld	a,(_dirs)
2319  0999  E6 80       	and	a,0x80
2320  099B  4F          	ld	c,a
2321  099C  78          	ld	a,b
2322  099D  B7          	or	a, a
2323  099E  28 05       	jr	Z,l_player_move_input_00130
2324  09A0  79          	ld	a,c
2325  09A1  B7          	or	a, a
2326  09A2  CA 38 0B    	jp	Z,l_player_move_input_00131
2327  09A5              l_player_move_input_00130:
2328  09A5  79          	ld	a,c
2329  09A6  B7          	or	a, a
2330  09A7  CA 65 0A    	jp	Z,l_player_move_input_00110
2331  09AA  CD 00 00    	call	_ay_is_playing
2332  09AD  7D          	ld	a,l
2333  09AE  D6 03       	sub	a,0x03
2334  09B0  28 06       	jr	Z,l_player_move_input_00105
2335  09B2  21 00 00    	ld	hl,_ay_effect_03
2336  09B5  CD 00 00    	call	_ay_fx_play
2337  09B8              l_player_move_input_00105:
2338  09B8  CD 00 00    	call	_sound_jump
2339  09BB  3A 00 00    	ld	a,(_sprite)
2340  09BE  C6 00       	add	a,+((_state) & 0xFF)
2341  09C0  4F          	ld	c,a
2342  09C1  3E 00       	ld	a,+((_state) / 256)
2343  09C3  CE 00       	adc	a,0x00
2344  09C5  47          	ld	b,a
2345  09C6  0A          	ld	a,(bc)
2346  09C7  CB 57       	bit	2, a
2347  09C9  28 0F       	jr	Z,l_player_move_input_00107
2348  09CB  3A 00 00    	ld	a,(_sprite)
2349  09CE  C6 00       	add	a,+((_colint) & 0xFF)
2350  09D0  4F          	ld	c,a
2351  09D1  3E 00       	ld	a,+((_colint) / 256)
2352  09D3  CE 00       	adc	a,0x00
2353  09D5  47          	ld	b,a
2354  09D6  AF          	xor	a, a
2355  09D7  02          	ld	(bc),a
2356  09D8  18 0E       	jr	l_player_move_input_00108
2357  09DA              l_player_move_input_00107:
2358  09DA  3A 00 00    	ld	a,(_sprite)
2359  09DD  C6 00       	add	a,+((_colint) & 0xFF)
2360  09DF  4F          	ld	c,a
2361  09E0  3E 00       	ld	a,+((_colint) / 256)
2362  09E2  CE 00       	adc	a,0x00
2363  09E4  47          	ld	b,a
2364  09E5  3E 02       	ld	a,0x02
2365  09E7  02          	ld	(bc),a
2366  09E8              l_player_move_input_00108:
2367  09E8  21 00 00    	ld	hl,_s_state
2368  09EB  CB C6       	set	0, (hl)
2369  09ED  CB 8E       	res	1, (hl)
2370  09EF  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2371  09F1  21 00 00    	ld	hl,_sprite
2372  09F4  86          	add	a, (hl)
2373  09F5  4F          	ld	c,a
2374  09F6  3E 00       	ld	a,+((_jump_lin) / 256)
2375  09F8  CE 00       	adc	a,0x00
2376  09FA  47          	ld	b,a
2377  09FB  3E 00       	ld	a,+((_lin) & 0xFF)
2378  09FD  86          	add	a, (hl)
2379  09FE  5F          	ld	e,a
2380  09FF  3E 00       	ld	a,+((_lin) / 256)
2381  0A01  CE 00       	adc	a,0x00
2382  0A03  57          	ld	d,a
2383  0A04  1A          	ld	a,(de)
2384  0A05  02          	ld	(bc),a
2385  0A06  3E 00       	ld	a,+((_state) & 0xFF)
2386  0A08  86          	add	a, (hl)
2387  0A09  4F          	ld	c,a
2388  0A0A  3E 00       	ld	a,+((_state) / 256)
2389  0A0C  CE 00       	adc	a,0x00
2390  0A0E  47          	ld	b,a
2391  0A0F  3A 00 00    	ld	a,(_s_state)
2392  0A12  02          	ld	(bc),a
2393  0A13  3A 00 00    	ld	a,(_sprite)
2394  0A16  C6 00       	add	a,+((_tile) & 0xFF)
2395  0A18  4F          	ld	c,a
2396  0A19  3E 00       	ld	a,+((_tile) / 256)
2397  0A1B  CE 00       	adc	a,0x00
2398  0A1D  47          	ld	b,a
2399  0A1E  3A 00 00    	ld	a,(_tile_offset)
2400  0A21  5F          	ld	e,a
2401  0A22  16 00       	ld	d,0x00
2402  0A24  21 07 00    	ld	hl,0x0007
2403  0A27  19          	add	hl,de
2404  0A28  EB          	ex	de,hl
2405  0A29  2A 00 00    	ld	hl,(_sprite)
2406  0A2C  C5          	push	bc
2407  0A2D  26 0C       	ld	h,0x0c
2408  0A2F  E5          	push	hl
2409  0A30  D5          	push	de
2410  0A31  CD 00 00    	call	_spr_tile_dir
2411  0A34  F1          	pop	af
2412  0A35  F1          	pop	af
2413  0A36  C1          	pop	bc
2414  0A37  7D          	ld	a, l
2415  0A38  02          	ld	(bc),a
2416  0A39  3A 00 00    	ld	a,(_sprite)
2417  0A3C  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2418  0A3E  4F          	ld	c,a
2419  0A3F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2420  0A41  CE 00       	adc	a,0x00
2421  0A43  47          	ld	b,a
2422  0A44  3E 02       	ld	a,0x02
2423  0A46  02          	ld	(bc),a
2424  0A47  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
2425  0A49  21 00 00    	ld	hl,_index_player
2426  0A4C  86          	add	a, (hl)
2427  0A4D  4F          	ld	c,a
2428  0A4E  3E 00       	ld	a,+((_player_jump_c) / 256)
2429  0A50  CE 00       	adc	a,0x00
2430  0A52  47          	ld	b,a
2431  0A53  AF          	xor	a, a
2432  0A54  02          	ld	(bc),a
2433  0A55  3E 00       	ld	a,+((_sliding) & 0xFF)
2434  0A57  86          	add	a, (hl)
2435  0A58  4F          	ld	c,a
2436  0A59  3E 00       	ld	a,+((_sliding) / 256)
2437  0A5B  CE 00       	adc	a,0x00
2438  0A5D  47          	ld	b,a
2439  0A5E  AF          	xor	a, a
2440  0A5F  02          	ld	(bc),a
2441  0A60  2E 01       	ld	l,0x01
2442  0A62  C3 29 0C    	jp	l_player_move_input_00135
2443  0A65              l_player_move_input_00110:
2444  0A65  3A 00 00    	ld	a,(_dirs)
2445  0A68  E6 08       	and	a,0x08
2446  0A6A  28 3D       	jr	Z,l_player_move_input_00114
2447  0A6C  3A 00 00    	ld	a,(_s_state)
2448  0A6F  E6 08       	and	a,0x08
2449  0A71  28 08       	jr	Z,l_player_move_input_00112
2450  0A73  CD FD 00    	call	_player_calc_slide
2451  0A76  2E 01       	ld	l,0x01
2452  0A78  C3 29 0C    	jp	l_player_move_input_00135
2453  0A7B              l_player_move_input_00112:
2454  0A7B  21 00 00    	ld	hl,_s_state
2455  0A7E  CB D6       	set	2, (hl)
2456  0A80  CB 9E       	res	3, (hl)
2457  0A82  01 00 00    	ld	bc,_state_a+0
2458  0A85  79          	ld	a,c
2459  0A86  21 00 00    	ld	hl,_sprite
2460  0A89  86          	add	a, (hl)
2461  0A8A  5F          	ld	e,a
2462  0A8B  78          	ld	a,b
2463  0A8C  CE 00       	adc	a,0x00
2464  0A8E  57          	ld	d,a
2465  0A8F  1A          	ld	a,(de)
2466  0A90  CB E7       	set	4, a
2467  0A92  12          	ld	(de),a
2468  0A93  79          	ld	a,c
2469  0A94  86          	add	a, (hl)
2470  0A95  5F          	ld	e,a
2471  0A96  78          	ld	a,b
2472  0A97  CE 00       	adc	a,0x00
2473  0A99  57          	ld	d,a
2474  0A9A  1A          	ld	a,(de)
2475  0A9B  E6 F7       	and	a,0xf7
2476  0A9D  12          	ld	(de),a
2477  0A9E  79          	ld	a,c
2478  0A9F  86          	add	a, (hl)
2479  0AA0  4F          	ld	c,a
2480  0AA1  78          	ld	a,b
2481  0AA2  CE 00       	adc	a,0x00
2482  0AA4  47          	ld	b,a
2483  0AA5  0A          	ld	a,(bc)
2484  0AA6  CB EF       	set	5, a
2485  0AA8  02          	ld	(bc),a
2486  0AA9              l_player_move_input_00114:
2487  0AA9  3A 00 00    	ld	a,(_dirs)
2488  0AAC  E6 04       	and	a,0x04
2489  0AAE  28 3D       	jr	Z,l_player_move_input_00118
2490  0AB0  3A 00 00    	ld	a,(_s_state)
2491  0AB3  E6 04       	and	a,0x04
2492  0AB5  28 08       	jr	Z,l_player_move_input_00116
2493  0AB7  CD FD 00    	call	_player_calc_slide
2494  0ABA  2E 01       	ld	l,0x01
2495  0ABC  C3 29 0C    	jp	l_player_move_input_00135
2496  0ABF              l_player_move_input_00116:
2497  0ABF  21 00 00    	ld	hl,_s_state
2498  0AC2  CB DE       	set	3, (hl)
2499  0AC4  CB 96       	res	2, (hl)
2500  0AC6  01 00 00    	ld	bc,_state_a+0
2501  0AC9  79          	ld	a,c
2502  0ACA  21 00 00    	ld	hl,_sprite
2503  0ACD  86          	add	a, (hl)
2504  0ACE  5F          	ld	e,a
2505  0ACF  78          	ld	a,b
2506  0AD0  CE 00       	adc	a,0x00
2507  0AD2  57          	ld	d,a
2508  0AD3  1A          	ld	a,(de)
2509  0AD4  CB DF       	set	3, a
2510  0AD6  12          	ld	(de),a
2511  0AD7  79          	ld	a,c
2512  0AD8  86          	add	a, (hl)
2513  0AD9  5F          	ld	e,a
2514  0ADA  78          	ld	a,b
2515  0ADB  CE 00       	adc	a,0x00
2516  0ADD  57          	ld	d,a
2517  0ADE  1A          	ld	a,(de)
2518  0ADF  E6 EF       	and	a,0xef
2519  0AE1  12          	ld	(de),a
2520  0AE2  79          	ld	a,c
2521  0AE3  86          	add	a, (hl)
2522  0AE4  4F          	ld	c,a
2523  0AE5  78          	ld	a,b
2524  0AE6  CE 00       	adc	a,0x00
2525  0AE8  47          	ld	b,a
2526  0AE9  0A          	ld	a,(bc)
2527  0AEA  CB EF       	set	5, a
2528  0AEC  02          	ld	(bc),a
2529  0AED              l_player_move_input_00118:
2530  0AED  3A 00 00    	ld	a,(_sprite)
2531  0AF0  C6 00       	add	a,+((_state) & 0xFF)
2532  0AF2  4F          	ld	c,a
2533  0AF3  3E 00       	ld	a,+((_state) / 256)
2534  0AF5  CE 00       	adc	a,0x00
2535  0AF7  47          	ld	b,a
2536  0AF8  3A 00 00    	ld	a,(_s_state)
2537  0AFB  02          	ld	(bc),a
2538  0AFC  3A 00 00    	ld	a,(_sprite)
2539  0AFF  C6 00       	add	a,+((_tile) & 0xFF)
2540  0B01  4F          	ld	c,a
2541  0B02  3E 00       	ld	a,+((_tile) / 256)
2542  0B04  CE 00       	adc	a,0x00
2543  0B06  47          	ld	b,a
2544  0B07  3A 00 00    	ld	a,(_tile_offset)
2545  0B0A  5F          	ld	e,a
2546  0B0B  16 00       	ld	d,0x00
2547  0B0D  2A 00 00    	ld	hl,(_sprite)
2548  0B10  C5          	push	bc
2549  0B11  26 0C       	ld	h,0x0c
2550  0B13  E5          	push	hl
2551  0B14  D5          	push	de
2552  0B15  CD 00 00    	call	_spr_tile_dir
2553  0B18  F1          	pop	af
2554  0B19  F1          	pop	af
2555  0B1A  C1          	pop	bc
2556  0B1B  7D          	ld	a, l
2557  0B1C  02          	ld	(bc),a
2558  0B1D  CD 00 00    	call	_ay_is_playing
2559  0B20  7D          	ld	a,l
2560  0B21  B7          	or	a, a
2561  0B22  20 0C       	jr	NZ,l_player_move_input_00120
2562  0B24  3A 00 00    	ld	a,(_game_bonus)
2563  0B27  B7          	or	a, a
2564  0B28  20 06       	jr	NZ,l_player_move_input_00120
2565  0B2A  21 00 00    	ld	hl,_ay_effect_20
2566  0B2D  CD 00 00    	call	_ay_fx_play
2567  0B30              l_player_move_input_00120:
2568  0B30  CD 2A 0C    	call	_player_move_horizontal
2569  0B33  2E 01       	ld	l,0x01
2570  0B35  C3 29 0C    	jp	l_player_move_input_00135
2571  0B38              l_player_move_input_00131:
2572  0B38  3A 00 00    	ld	a,(_sprite)
2573  0B3B  C6 00       	add	a,+((_state_a) & 0xFF)
2574  0B3D  4F          	ld	c,a
2575  0B3E  3E 00       	ld	a,+((_state_a) / 256)
2576  0B40  CE 00       	adc	a,0x00
2577  0B42  47          	ld	b,a
2578  0B43  0A          	ld	a,(bc)
2579  0B44  CB 6F       	bit	5, a
2580  0B46  28 12       	jr	Z,l_player_move_input_00123
2581  0B48  CD FD 00    	call	_player_calc_slide
2582  0B4B  3A 00 00    	ld	a,(_sprite)
2583  0B4E  C6 00       	add	a,+((_state_a) & 0xFF)
2584  0B50  4F          	ld	c,a
2585  0B51  3E 00       	ld	a,+((_state_a) / 256)
2586  0B53  CE 00       	adc	a,0x00
2587  0B55  47          	ld	b,a
2588  0B56  0A          	ld	a,(bc)
2589  0B57  E6 DF       	and	a,0xdf
2590  0B59  02          	ld	(bc),a
2591  0B5A              l_player_move_input_00123:
2592  0B5A  3A 00 00    	ld	a,(_index_player)
2593  0B5D  C6 00       	add	a,+((_sliding) & 0xFF)
2594  0B5F  4F          	ld	c,a
2595  0B60  3E 00       	ld	a,+((_sliding) / 256)
2596  0B62  CE 00       	adc	a,0x00
2597  0B64  47          	ld	b,a
2598  0B65  0A          	ld	a,(bc)
2599  0B66  B7          	or	a, a
2600  0B67  CA 27 0C    	jp	Z,l_player_move_input_00129
2601  0B6A  CD 00 00    	call	_ay_is_playing
2602  0B6D  7D          	ld	a,l
2603  0B6E  D6 03       	sub	a,0x03
2604  0B70  28 06       	jr	Z,l_player_move_input_00125
2605  0B72  21 00 00    	ld	hl,_ay_effect_01
2606  0B75  CD 00 00    	call	_ay_fx_play
2607  0B78              l_player_move_input_00125:
2608  0B78  CD 00 00    	call	_sound_slide
2609  0B7B  CD 2A 0C    	call	_player_move_horizontal
2610  0B7E  3A 00 00    	ld	a,(_index_player)
2611  0B81  C6 00       	add	a,+((_sliding) & 0xFF)
2612  0B83  4F          	ld	c,a
2613  0B84  3E 00       	ld	a,+((_sliding) / 256)
2614  0B86  CE 00       	adc	a,0x00
2615  0B88  47          	ld	b,a
2616  0B89  0A          	ld	a,(bc)
2617  0B8A  C6 FF       	add	a,0xff
2618  0B8C  02          	ld	(bc),a
2619  0B8D  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
2620  0B8F  21 00 00    	ld	hl,_sprite
2621  0B92  86          	add	a, (hl)
2622  0B93  4F          	ld	c,a
2623  0B94  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2624  0B96  CE 00       	adc	a,0x00
2625  0B98  47          	ld	b,a
2626  0B99  AF          	xor	a, a
2627  0B9A  02          	ld	(bc),a
2628  0B9B  3E 00       	ld	a,+((_tile) & 0xFF)
2629  0B9D  86          	add	a, (hl)
2630  0B9E  4F          	ld	c,a
2631  0B9F  3E 00       	ld	a,+((_tile) / 256)
2632  0BA1  CE 00       	adc	a,0x00
2633  0BA3  47          	ld	b,a
2634  0BA4  3A 00 00    	ld	a,(_tile_offset)
2635  0BA7  5F          	ld	e,a
2636  0BA8  16 00       	ld	d,0x00
2637  0BAA  13          	inc	de
2638  0BAB  13          	inc	de
2639  0BAC  13          	inc	de
2640  0BAD  13          	inc	de
2641  0BAE  2A 00 00    	ld	hl,(_sprite)
2642  0BB1  C5          	push	bc
2643  0BB2  26 0C       	ld	h,0x0c
2644  0BB4  E5          	push	hl
2645  0BB5  D5          	push	de
2646  0BB6  CD 00 00    	call	_spr_tile_dir
2647  0BB9  F1          	pop	af
2648  0BBA  F1          	pop	af
2649  0BBB  C1          	pop	bc
2650  0BBC  7D          	ld	a, l
2651  0BBD  02          	ld	(bc),a
2652  0BBE  3A 00 00    	ld	a,(_index_player)
2653  0BC1  C6 00       	add	a,+((_sliding) & 0xFF)
2654  0BC3  4F          	ld	c,a
2655  0BC4  3E 00       	ld	a,+((_sliding) / 256)
2656  0BC6  CE 00       	adc	a,0x00
2657  0BC8  47          	ld	b,a
2658  0BC9  0A          	ld	a,(bc)
2659  0BCA  B7          	or	a, a
2660  0BCB  20 5A       	jr	NZ,l_player_move_input_00129
2661  0BCD  01 00 00    	ld	bc,_spr_timer+0
2662  0BD0  2A 00 00    	ld	hl,(_sprite)
2663  0BD3  26 00       	ld	h,0x00
2664  0BD5  29          	add	hl, hl
2665  0BD6  09          	add	hl,bc
2666  0BD7  AF          	xor	a, a
2667  0BD8  77          	ld	(hl), a
2668  0BD9  23          	inc	hl
2669  0BDA  77          	ld	(hl), a
2670  0BDB  3E 00       	ld	a,+((_colint) & 0xFF)
2671  0BDD  21 00 00    	ld	hl,_sprite
2672  0BE0  86          	add	a, (hl)
2673  0BE1  4F          	ld	c,a
2674  0BE2  3E 00       	ld	a,+((_colint) / 256)
2675  0BE4  CE 00       	adc	a,0x00
2676  0BE6  47          	ld	b,a
2677  0BE7  AF          	xor	a, a
2678  0BE8  02          	ld	(bc),a
2679  0BE9  3E 00       	ld	a,+((_tile) & 0xFF)
2680  0BEB  86          	add	a, (hl)
2681  0BEC  4F          	ld	c,a
2682  0BED  3E 00       	ld	a,+((_tile) / 256)
2683  0BEF  CE 00       	adc	a,0x00
2684  0BF1  47          	ld	b,a
2685  0BF2  3A 00 00    	ld	a,(_tile_offset)
2686  0BF5  5F          	ld	e,a
2687  0BF6  16 00       	ld	d,0x00
2688  0BF8  13          	inc	de
2689  0BF9  13          	inc	de
2690  0BFA  13          	inc	de
2691  0BFB  2A 00 00    	ld	hl,(_sprite)
2692  0BFE  C5          	push	bc
2693  0BFF  26 0C       	ld	h,0x0c
2694  0C01  E5          	push	hl
2695  0C02  D5          	push	de
2696  0C03  CD 00 00    	call	_spr_tile_dir
2697  0C06  F1          	pop	af
2698  0C07  F1          	pop	af
2699  0C08  C1          	pop	bc
2700  0C09  7D          	ld	a, l
2701  0C0A  02          	ld	(bc),a
2702  0C0B  01 00 00    	ld	bc,_state+0
2703  0C0E  79          	ld	a,c
2704  0C0F  21 00 00    	ld	hl,_sprite
2705  0C12  86          	add	a, (hl)
2706  0C13  5F          	ld	e,a
2707  0C14  78          	ld	a,b
2708  0C15  CE 00       	adc	a,0x00
2709  0C17  57          	ld	d,a
2710  0C18  1A          	ld	a,(de)
2711  0C19  E6 FB       	and	a,0xfb
2712  0C1B  12          	ld	(de),a
2713  0C1C  79          	ld	a,c
2714  0C1D  86          	add	a, (hl)
2715  0C1E  4F          	ld	c,a
2716  0C1F  78          	ld	a,b
2717  0C20  CE 00       	adc	a,0x00
2718  0C22  47          	ld	b,a
2719  0C23  0A          	ld	a,(bc)
2720  0C24  E6 F7       	and	a,0xf7
2721  0C26  02          	ld	(bc),a
2722  0C27              l_player_move_input_00129:
2723  0C27  2E 00       	ld	l,0x00
2724  0C29              l_player_move_input_00135:
2725  0C29  C9          	ret
2726  0C2A              	SECTION code_compiler
2727  0C2A              ;	---------------------------------
2728  0C2A              ; Function player_move_horizontal
2729  0C2A              ; ---------------------------------
2730  0C2A              _player_move_horizontal:
2731  0C2A  CD 3A 0C    	call	_player_push_check
2732  0C2D  7D          	ld	a,l
2733  0C2E  B7          	or	a, a
2734  0C2F  28 05       	jr	Z,l_player_move_horizontal_00102
2735  0C31  CD AC 0C    	call	_player_push
2736  0C34  18 03       	jr	l_player_move_horizontal_00104
2737  0C36              l_player_move_horizontal_00102:
2738  0C36  CD 00 00    	call	_spr_move_horizontal
2739  0C39              l_player_move_horizontal_00104:
2740  0C39  C9          	ret
2741  0C3A              	SECTION code_compiler
2742  0C3A              ;	---------------------------------
2743  0C3A              ; Function player_push_check
2744  0C3A              ; ---------------------------------
2745  0C3A              _player_push_check:
2746  0C3A  2A 00 00    	ld	hl,(_sprite_other_player)
2747  0C3D  26 00       	ld	h,0x00
2748  0C3F  01 00 00    	ld	bc,_lin
2749  0C42  09          	add	hl,bc
2750  0C43  7E          	ld	a,(hl)
2751  0C44  4F          	ld	c,a
2752  0C45  B7          	or	a,a
2753  0C46  20 03       	jr	NZ,l_player_push_check_00102
2754  0C48  6F          	ld	l,a
2755  0C49  18 60       	jr	l_player_push_check_00111
2756  0C4B              l_player_push_check_00102:
2757  0C4B  2A 00 00    	ld	hl,(_sprite)
2758  0C4E  26 00       	ld	h,0x00
2759  0C50  11 00 00    	ld	de,_lin
2760  0C53  19          	add	hl,de
2761  0C54  7E          	ld	a,(hl)
2762  0C55  EB          	ex	de,hl
2763  0C56  47          	ld	b,a
2764  0C57  79          	ld	a,c
2765  0C58  90          	sub	a, b
2766  0C59  28 04       	jr	Z,l_player_push_check_00104
2767  0C5B  2E 00       	ld	l,0x00
2768  0C5D  18 4C       	jr	l_player_push_check_00111
2769  0C5F              l_player_push_check_00104:
2770  0C5F  01 00 00    	ld	bc,_col+0
2771  0C62  2A 00 00    	ld	hl,(_sprite)
2772  0C65  26 00       	ld	h,0x00
2773  0C67  09          	add	hl,bc
2774  0C68  6E          	ld	l, (hl)
2775  0C69  EB          	ex	de,hl
2776  0C6A  2A 00 00    	ld	hl,(_sprite_other_player)
2777  0C6D  26 00       	ld	h,0x00
2778  0C6F  09          	add	hl,bc
2779  0C70  4E          	ld	c, (hl)
2780  0C71  7B          	ld	a,e
2781  0C72  91          	sub	a, c
2782  0C73  32 00 00    	ld	(_tmp_sc),a
2783  0C76  D6 FE       	sub	a,0xfe
2784  0C78  20 14       	jr	NZ,l_player_push_check_00106
2785  0C7A  3A 00 00    	ld	a,(_sprite)
2786  0C7D  C6 00       	add	a,+((_state) & 0xFF)
2787  0C7F  4F          	ld	c,a
2788  0C80  3E 00       	ld	a,+((_state) / 256)
2789  0C82  CE 00       	adc	a,0x00
2790  0C84  47          	ld	b,a
2791  0C85  0A          	ld	a,(bc)
2792  0C86  CB 57       	bit	2, a
2793  0C88  28 04       	jr	Z,l_player_push_check_00106
2794  0C8A  2E 01       	ld	l,0x01
2795  0C8C  18 1D       	jr	l_player_push_check_00111
2796  0C8E              l_player_push_check_00106:
2797  0C8E  3A 00 00    	ld	a,(_tmp_sc)
2798  0C91  D6 02       	sub	a,0x02
2799  0C93  20 14       	jr	NZ,l_player_push_check_00109
2800  0C95  3A 00 00    	ld	a,(_sprite)
2801  0C98  C6 00       	add	a,+((_state) & 0xFF)
2802  0C9A  4F          	ld	c,a
2803  0C9B  3E 00       	ld	a,+((_state) / 256)
2804  0C9D  CE 00       	adc	a,0x00
2805  0C9F  47          	ld	b,a
2806  0CA0  0A          	ld	a,(bc)
2807  0CA1  CB 5F       	bit	3, a
2808  0CA3  28 04       	jr	Z,l_player_push_check_00109
2809  0CA5  2E 01       	ld	l,0x01
2810  0CA7  18 02       	jr	l_player_push_check_00111
2811  0CA9              l_player_push_check_00109:
2812  0CA9  2E 00       	ld	l,0x00
2813  0CAB              l_player_push_check_00111:
2814  0CAB  C9          	ret
2815  0CAC              	SECTION code_compiler
2816  0CAC              ;	---------------------------------
2817  0CAC              ; Function player_push
2818  0CAC              ; ---------------------------------
2819  0CAC              _player_push:
2820  0CAC  3A 00 00    	ld	a,(_sprite)
2821  0CAF  32 00 00    	ld	(_tmp),a
2822  0CB2  3A 00 00    	ld	a,(_s_col0)
2823  0CB5  32 00 00    	ld	(_tmp0),a
2824  0CB8  3A 00 00    	ld	a,(_sprite_other_player)
2825  0CBB  C6 00       	add	a,+((_lin) & 0xFF)
2826  0CBD  4F          	ld	c,a
2827  0CBE  3E 00       	ld	a,+((_lin) / 256)
2828  0CC0  CE 00       	adc	a,0x00
2829  0CC2  47          	ld	b,a
2830  0CC3  0A          	ld	a,(bc)
2831  0CC4  32 00 00    	ld	(_s_lin0),a
2832  0CC7  3A 00 00    	ld	a,(_sprite_other_player)
2833  0CCA  C6 00       	add	a,+((_col) & 0xFF)
2834  0CCC  4F          	ld	c,a
2835  0CCD  3E 00       	ld	a,+((_col) / 256)
2836  0CCF  CE 00       	adc	a,0x00
2837  0CD1  47          	ld	b,a
2838  0CD2  0A          	ld	a,(bc)
2839  0CD3  32 00 00    	ld	(_s_col0),a
2840  0CD6  01 00 00    	ld	bc,_spr_timer+0
2841  0CD9  2A 00 00    	ld	hl,(_sprite_other_player)
2842  0CDC  26 00       	ld	h,0x00
2843  0CDE  29          	add	hl, hl
2844  0CDF  09          	add	hl,bc
2845  0CE0  ED 5B 00 00 	ld	de,(_curr_time)
2846  0CE4  73          	ld	(hl),e
2847  0CE5  23          	inc	hl
2848  0CE6  72          	ld	(hl),d
2849  0CE7  3E 00       	ld	a,+((_state_a) & 0xFF)
2850  0CE9  21 00 00    	ld	hl,_sprite_other_player
2851  0CEC  86          	add	a, (hl)
2852  0CED  4F          	ld	c,a
2853  0CEE  3E 00       	ld	a,+((_state_a) / 256)
2854  0CF0  CE 00       	adc	a,0x00
2855  0CF2  47          	ld	b,a
2856  0CF3  0A          	ld	a,(bc)
2857  0CF4  CB D7       	set	2, a
2858  0CF6  02          	ld	(bc),a
2859  0CF7  7E          	ld	a,(hl)
2860  0CF8  32 00 00    	ld	(_sprite),a
2861  0CFB  3A 00 00    	ld	a,(_tmp)
2862  0CFE  C6 00       	add	a,+((_state) & 0xFF)
2863  0D00  4F          	ld	c,a
2864  0D01  3E 00       	ld	a,+((_state) / 256)
2865  0D03  CE 00       	adc	a,0x00
2866  0D05  47          	ld	b,a
2867  0D06  0A          	ld	a,(bc)
2868  0D07  CB 57       	bit	2, a
2869  0D09  28 05       	jr	Z,l_player_push_00102
2870  0D0B  CD 00 00    	call	_spr_move_right
2871  0D0E  18 03       	jr	l_player_push_00103
2872  0D10              l_player_push_00102:
2873  0D10  CD 00 00    	call	_spr_move_left
2874  0D13              l_player_push_00103:
2875  0D13  CD 00 00    	call	_spr_redraw
2876  0D16  3A 00 00    	ld	a,(_tmp)
2877  0D19  32 00 00    	ld	(_sprite),a
2878  0D1C  C6 00       	add	a,+((_lin) & 0xFF)
2879  0D1E  4F          	ld	c,a
2880  0D1F  3E 00       	ld	a,+((_lin) / 256)
2881  0D21  CE 00       	adc	a,0x00
2882  0D23  47          	ld	b,a
2883  0D24  0A          	ld	a,(bc)
2884  0D25  32 00 00    	ld	(_s_lin0),a
2885  0D28  3A 00 00    	ld	a,(_tmp0)
2886  0D2B  32 00 00    	ld	(_s_col0),a
2887  0D2E  C9          	ret
2888  0D2F              	SECTION code_compiler
2889  0D2F              ;	---------------------------------
2890  0D2F              ; Function player_hit_brick
2891  0D2F              ; ---------------------------------
2892  0D2F              _player_hit_brick:
2893  0D2F  3A 00 00    	ld	a,(_index_player)
2894  0D32  C6 00       	add	a,+((_hit_lin) & 0xFF)
2895  0D34  4F          	ld	c,a
2896  0D35  3E 00       	ld	a,+((_hit_lin) / 256)
2897  0D37  CE 00       	adc	a,0x00
2898  0D39  47          	ld	b,a
2899  0D3A  0A          	ld	a,(bc)
2900  0D3B  B7          	or	a, a
2901  0D3C  C2 15 0F    	jp	NZ,l_player_hit_brick_00112
2902  0D3F  3A 00 00    	ld	a,(_sprite)
2903  0D42  C6 00       	add	a,+((_lin) & 0xFF)
2904  0D44  4F          	ld	c,a
2905  0D45  3E 00       	ld	a,+((_lin) / 256)
2906  0D47  CE 00       	adc	a,0x00
2907  0D49  47          	ld	b,a
2908  0D4A  0A          	ld	a,(bc)
2909  0D4B  5F          	ld	e,a
2910  0D4C  3E 10       	ld	a,0x10
2911  0D4E  93          	sub	a, e
2912  0D4F  D2 15 0F    	jp	NC,l_player_hit_brick_00112
2913  0D52  21 00 00    	ld	hl,_enemies
2914  0D55  36 00       	ld	(hl),0x00
2915  0D57              l_player_hit_brick_00114:
2916  0D57  2A 00 00    	ld	hl,(_enemies)
2917  0D5A  26 00       	ld	h,0x00
2918  0D5C  11 00 00    	ld	de,_class
2919  0D5F  19          	add	hl,de
2920  0D60  7E          	ld	a,(hl)
2921  0D61  B7          	or	a,a
2922  0D62  28 5F       	jr	Z,l_player_hit_brick_00115
2923  0D64  0A          	ld	a,(bc)
2924  0D65  4F          	ld	c,a
2925  0D66  06 00       	ld	b,0x00
2926  0D68  2A 00 00    	ld	hl,(_enemies)
2927  0D6B  60          	ld	h,b
2928  0D6C  11 00 00    	ld	de,_lin
2929  0D6F  19          	add	hl,de
2930  0D70  5E          	ld	e, (hl)
2931  0D71  16 00       	ld	d,0x00
2932  0D73  79          	ld	a,c
2933  0D74  93          	sub	a,e
2934  0D75  4F          	ld	c,a
2935  0D76  78          	ld	a,b
2936  0D77  9A          	sbc	a,d
2937  0D78  47          	ld	b,a
2938  0D79  79          	ld	a,c
2939  0D7A  D6 18       	sub	a,0x18
2940  0D7C  20 45       	jr	NZ,l_player_hit_brick_00115
2941  0D7E  B0          	or	a,b
2942  0D7F  20 42       	jr	NZ,l_player_hit_brick_00115
2943  0D81  3A 00 00    	ld	a,(_enemies)
2944  0D84  4F          	ld	c,a
2945  0D85  06 00       	ld	b,0x00
2946  0D87  21 00 00    	ld	hl,_state
2947  0D8A  09          	add	hl,bc
2948  0D8B  CB 6E       	bit	5,(hl)
2949  0D8D  20 34       	jr	NZ,l_player_hit_brick_00115
2950  0D8F  2A 00 00    	ld	hl,(_sprite)
2951  0D92  26 00       	ld	h,0x00
2952  0D94  01 00 00    	ld	bc,_col
2953  0D97  09          	add	hl,bc
2954  0D98  4E          	ld	c,(hl)
2955  0D99  06 00       	ld	b,0x00
2956  0D9B  2A 00 00    	ld	hl,(_enemies)
2957  0D9E  60          	ld	h,b
2958  0D9F  11 00 00    	ld	de,_col
2959  0DA2  19          	add	hl,de
2960  0DA3  5E          	ld	e, (hl)
2961  0DA4  16 00       	ld	d,0x00
2962  0DA6  79          	ld	a,c
2963  0DA7  93          	sub	a, e
2964  0DA8  6F          	ld	l,a
2965  0DA9  78          	ld	a,b
2966  0DAA  9A          	sbc	a, d
2967  0DAB  67          	ld	h,a
2968  0DAC  CD 00 00    	call	_abs_fastcall
2969  0DAF  3E 02       	ld	a,0x02
2970  0DB1  BD          	cp	a,l
2971  0DB2  3E 00       	ld	a,0x00
2972  0DB4  9C          	sbc	a,h
2973  0DB5  E2 BA 0D    	jp	PO, l_player_hit_brick_00166
2974  0DB8  EE 80       	xor	a,0x80
2975  0DBA              l_player_hit_brick_00166:
2976  0DBA  FA C3 0D    	jp	M,l_player_hit_brick_00115
2977  0DBD  CD 00 00    	call	_enemy_hit
2978  0DC0  CD 00 00    	call	_sound_hit_enemy
2979  0DC3              l_player_hit_brick_00115:
2980  0DC3  21 00 00    	ld	hl,_enemies
2981  0DC6  34          	inc	(hl)
2982  0DC7  3A 00 00    	ld	a,(_sprite)
2983  0DCA  C6 00       	add	a,+((_lin) & 0xFF)
2984  0DCC  4F          	ld	c,a
2985  0DCD  3E 00       	ld	a,+((_lin) / 256)
2986  0DCF  CE 00       	adc	a,0x00
2987  0DD1  47          	ld	b,a
2988  0DD2  3A 00 00    	ld	a,(_enemies)
2989  0DD5  D6 06       	sub	a,0x06
2990  0DD7  DA 57 0D    	jp	C,l_player_hit_brick_00114
2991  0DDA  2A 00 00    	ld	hl,(_sprite_other_player)
2992  0DDD  26 00       	ld	h,0x00
2993  0DDF  11 00 00    	ld	de,_lin
2994  0DE2  19          	add	hl,de
2995  0DE3  7E          	ld	a,(hl)
2996  0DE4  5F          	ld	e,a
2997  0DE5  B7          	or	a, a
2998  0DE6  CA AF 0E    	jp	Z,l_player_hit_brick_00108
2999  0DE9  0A          	ld	a,(bc)
3000  0DEA  6F          	ld	l,a
3001  0DEB  AF          	xor	a,a
3002  0DEC  67          	ld	h,a
3003  0DED  57          	ld	d,a
3004  0DEE  ED 52       	sbc	hl,de
3005  0DF0  7D          	ld	a,l
3006  0DF1  D6 18       	sub	a,0x18
3007  0DF3  C2 AF 0E    	jp	NZ,l_player_hit_brick_00108
3008  0DF6  B4          	or	a,h
3009  0DF7  C2 AF 0E    	jp	NZ,l_player_hit_brick_00108
3010  0DFA  2A 00 00    	ld	hl,(_sprite)
3011  0DFD  26 00       	ld	h,0x00
3012  0DFF  01 00 00    	ld	bc,_col
3013  0E02  09          	add	hl,bc
3014  0E03  4E          	ld	c,(hl)
3015  0E04  06 00       	ld	b,0x00
3016  0E06  2A 00 00    	ld	hl,(_sprite_other_player)
3017  0E09  60          	ld	h,b
3018  0E0A  11 00 00    	ld	de,_col
3019  0E0D  19          	add	hl,de
3020  0E0E  5E          	ld	e, (hl)
3021  0E0F  16 00       	ld	d,0x00
3022  0E11  79          	ld	a,c
3023  0E12  93          	sub	a, e
3024  0E13  6F          	ld	l,a
3025  0E14  78          	ld	a,b
3026  0E15  9A          	sbc	a, d
3027  0E16  67          	ld	h,a
3028  0E17  CD 00 00    	call	_abs_fastcall
3029  0E1A  3E 02       	ld	a,0x02
3030  0E1C  BD          	cp	a,l
3031  0E1D  3E 00       	ld	a,0x00
3032  0E1F  9C          	sbc	a,h
3033  0E20  E2 25 0E    	jp	PO, l_player_hit_brick_00169
3034  0E23  EE 80       	xor	a,0x80
3035  0E25              l_player_hit_brick_00169:
3036  0E25  FA AF 0E    	jp	M,l_player_hit_brick_00108
3037  0E28  3E 00       	ld	a,+((_col) & 0xFF)
3038  0E2A  21 00 00    	ld	hl,_sprite_other_player
3039  0E2D  86          	add	a, (hl)
3040  0E2E  4F          	ld	c,a
3041  0E2F  3E 00       	ld	a,+((_col) / 256)
3042  0E31  CE 00       	adc	a,0x00
3043  0E33  47          	ld	b,a
3044  0E34  0A          	ld	a,(bc)
3045  0E35  57          	ld	d,a
3046  0E36  4E          	ld	c,(hl)
3047  0E37  06 00       	ld	b,0x00
3048  0E39  21 00 00    	ld	hl,_lin
3049  0E3C  09          	add	hl,bc
3050  0E3D  5E          	ld	e, (hl)
3051  0E3E  D5          	push	de
3052  0E3F  AF          	xor	a, a
3053  0E40  F5          	push	af
3054  0E41  33          	inc	sp
3055  0E42  CD 00 00    	call	_NIRVANAP_fillT_callee
3056  0E45  2A 00 00    	ld	hl,(_sprite_other_player)
3057  0E48  26 00       	ld	h,0x00
3058  0E4A  01 00 00    	ld	bc,_lin
3059  0E4D  09          	add	hl,bc
3060  0E4E  7E          	ld	a,(hl)
3061  0E4F  C6 FC       	add	a,0xfc
3062  0E51  77          	ld	(hl),a
3063  0E52  3E 00       	ld	a,+((_col) & 0xFF)
3064  0E54  21 00 00    	ld	hl,_sprite_other_player
3065  0E57  86          	add	a, (hl)
3066  0E58  4F          	ld	c,a
3067  0E59  3E 00       	ld	a,+((_col) / 256)
3068  0E5B  CE 00       	adc	a,0x00
3069  0E5D  47          	ld	b,a
3070  0E5E  0A          	ld	a,(bc)
3071  0E5F  57          	ld	d,a
3072  0E60  3E 00       	ld	a,+((_lin) & 0xFF)
3073  0E62  86          	add	a, (hl)
3074  0E63  4F          	ld	c,a
3075  0E64  3E 00       	ld	a,+((_lin) / 256)
3076  0E66  CE 00       	adc	a,0x00
3077  0E68  47          	ld	b,a
3078  0E69  0A          	ld	a,(bc)
3079  0E6A  5F          	ld	e,a
3080  0E6B  3E 00       	ld	a,+((_tile) & 0xFF)
3081  0E6D  86          	add	a, (hl)
3082  0E6E  4F          	ld	c,a
3083  0E6F  3E 00       	ld	a,+((_tile) / 256)
3084  0E71  CE 00       	adc	a,0x00
3085  0E73  47          	ld	b,a
3086  0E74  0A          	ld	a,(bc)
3087  0E75  47          	ld	b,a
3088  0E76  4E          	ld	c,(hl)
3089  0E77  D5          	push	de
3090  0E78  C5          	push	bc
3091  0E79  CD 00 00    	call	_NIRVANAP_spriteT_callee
3092  0E7C  76          	halt
3093  0E7D  2A 00 00    	ld	hl,(_sprite_other_player)
3094  0E80  26 00       	ld	h,0x00
3095  0E82  01 00 00    	ld	bc,_state
3096  0E85  09          	add	hl,bc
3097  0E86  7E          	ld	a,(hl)
3098  0E87  E6 FD       	and	a,0xfd
3099  0E89  77          	ld	(hl),a
3100  0E8A  3E 00       	ld	a,+((_state) & 0xFF)
3101  0E8C  21 00 00    	ld	hl,_sprite_other_player
3102  0E8F  86          	add	a, (hl)
3103  0E90  4F          	ld	c,a
3104  0E91  3E 00       	ld	a,+((_state) / 256)
3105  0E93  CE 00       	adc	a,0x00
3106  0E95  47          	ld	b,a
3107  0E96  0A          	ld	a,(bc)
3108  0E97  CB C7       	set	0, a
3109  0E99  02          	ld	(bc),a
3110  0E9A  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3111  0E9C  86          	add	a, (hl)
3112  0E9D  4F          	ld	c,a
3113  0E9E  3E 00       	ld	a,+((_jump_lin) / 256)
3114  0EA0  CE 00       	adc	a,0x00
3115  0EA2  47          	ld	b,a
3116  0EA3  5E          	ld	e,(hl)
3117  0EA4  16 00       	ld	d,0x00
3118  0EA6  21 00 00    	ld	hl,_lin
3119  0EA9  19          	add	hl,de
3120  0EAA  7E          	ld	a,(hl)
3121  0EAB  C6 14       	add	a,0x14
3122  0EAD  02          	ld	(bc),a
3123  0EAE  76          	halt
3124  0EAF              l_player_hit_brick_00108:
3125  0EAF  3A 00 00    	ld	a,(_sprite)
3126  0EB2  C6 00       	add	a,+((_state_a) & 0xFF)
3127  0EB4  4F          	ld	c,a
3128  0EB5  3E 00       	ld	a,+((_state_a) / 256)
3129  0EB7  CE 00       	adc	a,0x00
3130  0EB9  47          	ld	b,a
3131  0EBA  0A          	ld	a,(bc)
3132  0EBB  CB FF       	set	7, a
3133  0EBD  02          	ld	(bc),a
3134  0EBE  3A 00 00    	ld	a,(_index_player)
3135  0EC1  C6 00       	add	a,+((_player_jump_c) & 0xFF)
3136  0EC3  4F          	ld	c,a
3137  0EC4  3E 00       	ld	a,+((_player_jump_c) / 256)
3138  0EC6  CE 00       	adc	a,0x00
3139  0EC8  47          	ld	b,a
3140  0EC9  3E 06       	ld	a,0x06
3141  0ECB  02          	ld	(bc),a
3142  0ECC  01 00 00    	ld	bc,_spr_timer+0
3143  0ECF  2A 00 00    	ld	hl,(_sprite)
3144  0ED2  26 00       	ld	h,0x00
3145  0ED4  29          	add	hl, hl
3146  0ED5  09          	add	hl,bc
3147  0ED6  ED 5B 00 00 	ld	de,(_curr_time)
3148  0EDA  73          	ld	(hl),e
3149  0EDB  23          	inc	hl
3150  0EDC  72          	ld	(hl),d
3151  0EDD  3A 00 00    	ld	a,(_index_player)
3152  0EE0  C6 00       	add	a,+((_hit_lin) & 0xFF)
3153  0EE2  4F          	ld	c,a
3154  0EE3  3E 00       	ld	a,+((_hit_lin) / 256)
3155  0EE5  CE 00       	adc	a,0x00
3156  0EE7  47          	ld	b,a
3157  0EE8  2A 00 00    	ld	hl,(_sprite)
3158  0EEB  26 00       	ld	h,0x00
3159  0EED  11 00 00    	ld	de,_lin
3160  0EF0  19          	add	hl,de
3161  0EF1  7E          	ld	a,(hl)
3162  0EF2  02          	ld	(bc),a
3163  0EF3  3A 00 00    	ld	a,(_index_player)
3164  0EF6  C6 00       	add	a,+((_hit_col) & 0xFF)
3165  0EF8  4F          	ld	c,a
3166  0EF9  3E 00       	ld	a,+((_hit_col) / 256)
3167  0EFB  CE 00       	adc	a,0x00
3168  0EFD  47          	ld	b,a
3169  0EFE  2A 00 00    	ld	hl,(_sprite)
3170  0F01  26 00       	ld	h,0x00
3171  0F03  11 00 00    	ld	de,_col
3172  0F06  19          	add	hl,de
3173  0F07  7E          	ld	a,(hl)
3174  0F08  02          	ld	(bc),a
3175  0F09  2E 01       	ld	l,0x01
3176  0F0B  CD 00 00    	call	_spr_brick_anim
3177  0F0E  CD 00 00    	call	_sound_hit_brick
3178  0F11  2E 01       	ld	l,0x01
3179  0F13  18 02       	jr	l_player_hit_brick_00116
3180  0F15              l_player_hit_brick_00112:
3181  0F15  2E 00       	ld	l,0x00
3182  0F17              l_player_hit_brick_00116:
3183  0F17  C9          	ret
3184  0F18              	SECTION code_compiler
3185  0F18              ;	---------------------------------
3186  0F18              ; Function player_hit_brick_clear
3187  0F18              ; ---------------------------------
3188  0F18              _player_hit_brick_clear:
3189  0F18  2A 00 00    	ld	hl,(_index_player)
3190  0F1B  26 00       	ld	h,0x00
3191  0F1D  01 00 00    	ld	bc,_hit_lin
3192  0F20  09          	add	hl,bc
3193  0F21  7E          	ld	a,(hl)
3194  0F22  4F          	ld	c,a
3195  0F23  B7          	or	a,a
3196  0F24  C8          	ret	Z
3197  0F25  3A 00 00    	ld	a,(_index_player)
3198  0F28  5F          	ld	e,a
3199  0F29  16 00       	ld	d,0x00
3200  0F2B  21 00 00    	ld	hl,_hit_col
3201  0F2E  19          	add	hl,de
3202  0F2F  56          	ld	d, (hl)
3203  0F30  79          	ld	a,c
3204  0F31  C6 F8       	add	a,0xf8
3205  0F33  5F          	ld	e, a
3206  0F34  D5          	push	de
3207  0F35  CD 00 00    	call	_game_calc_index
3208  0F38  F1          	pop	af
3209  0F39  22 00 00    	ld	(_index1),hl
3210  0F3C  01 01 00    	ld	bc,0x0001
3211  0F3F  09          	add	hl,bc
3212  0F40  22 00 00    	ld	(_index2),hl
3213  0F43  2E 00       	ld	l,0x00
3214  0F45  CD 00 00    	call	_spr_brick_anim
3215  0F48  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3216  0F4A  21 00 00    	ld	hl,_index_player
3217  0F4D  86          	add	a, (hl)
3218  0F4E  4F          	ld	c,a
3219  0F4F  3E 00       	ld	a,+((_hit_lin) / 256)
3220  0F51  CE 00       	adc	a,0x00
3221  0F53  47          	ld	b,a
3222  0F54  AF          	xor	a, a
3223  0F55  02          	ld	(bc),a
3224  0F56  3E 00       	ld	a,+((_hit_col) & 0xFF)
3225  0F58  86          	add	a, (hl)
3226  0F59  4F          	ld	c,a
3227  0F5A  3E 00       	ld	a,+((_hit_col) / 256)
3228  0F5C  CE 00       	adc	a,0x00
3229  0F5E  47          	ld	b,a
3230  0F5F  AF          	xor	a, a
3231  0F60  02          	ld	(bc),a
3232  0F61  C9          	ret
3233  0F62              	SECTION code_compiler
3234  0F62              ;	---------------------------------
3235  0F62              ; Function player_hit_pow
3236  0F62              ; ---------------------------------
3237  0F62              _player_hit_pow:
3238  0F62  2A 00 00    	ld	hl,(_index1)
3239  0F65  01 01 00    	ld	bc,0x0001
3240  0F68  09          	add	hl,bc
3241  0F69  22 00 00    	ld	(_index2),hl
3242  0F6C  3A 00 00    	ld	a,(_game_pow)
3243  0F6F  B7          	or	a, a
3244  0F70  CA 15 10    	jp	Z,l_player_hit_pow_00107
3245  0F73  01 00 00    	ld	bc,_lvl_1
3246  0F76  2A 00 00    	ld	hl,(_index1)
3247  0F79  09          	add	hl,bc
3248  0F7A  7E          	ld	a,(hl)
3249  0F7B  D6 11       	sub	a,0x11
3250  0F7D  28 0D       	jr	Z,l_player_hit_pow_00106
3251  0F7F  01 00 00    	ld	bc,_lvl_1
3252  0F82  2A 00 00    	ld	hl,(_index2)
3253  0F85  09          	add	hl,bc
3254  0F86  7E          	ld	a,(hl)
3255  0F87  D6 11       	sub	a,0x11
3256  0F89  C2 15 10    	jp	NZ,l_player_hit_pow_00107
3257  0F8C              l_player_hit_pow_00106:
3258  0F8C  21 00 00    	ld	hl,_game_pow
3259  0F8F  35          	dec	(hl)
3260  0F90  21 02 00    	ld	hl,0x0002
3261  0F93  CD 00 00    	call	_zx_border_fastcall
3262  0F96  21 00 00    	ld	hl,_enemies
3263  0F99  36 00       	ld	(hl),0x00
3264  0F9B              l_player_hit_pow_00110:
3265  0F9B  2A 00 00    	ld	hl,(_enemies)
3266  0F9E  26 00       	ld	h,0x00
3267  0FA0  5D          	ld	e,l
3268  0FA1  01 00 00    	ld	bc,_col
3269  0FA4  09          	add	hl,bc
3270  0FA5  46          	ld	b,(hl)
3271  0FA6  16 00       	ld	d,0x00
3272  0FA8  21 00 00    	ld	hl,_lin
3273  0FAB  19          	add	hl,de
3274  0FAC  7E          	ld	a,(hl)
3275  0FAD  C6 10       	add	a,0x10
3276  0FAF  4F          	ld	c,a
3277  0FB0  C5          	push	bc
3278  0FB1  CD 00 00    	call	_game_calc_index
3279  0FB4  F1          	pop	af
3280  0FB5  CD 00 00    	call	_game_check_maze
3281  0FB8  7D          	ld	a,l
3282  0FB9  B7          	or	a, a
3283  0FBA  20 03       	jr	NZ,l_player_hit_pow_00111
3284  0FBC  CD 00 00    	call	_enemy_hit
3285  0FBF              l_player_hit_pow_00111:
3286  0FBF  21 00 00    	ld	hl,_enemies
3287  0FC2  7E          	ld	a,(hl)
3288  0FC3  3C          	inc	a
3289  0FC4  77          	ld	(hl),a
3290  0FC5  D6 06       	sub	a,0x06
3291  0FC7  38 D2       	jr	C,l_player_hit_pow_00110
3292  0FC9  21 00 00    	ld	hl,_ay_effect_06
3293  0FCC  CD 00 00    	call	_ay_fx_play
3294  0FCF  CD 00 00    	call	_sound_hit_pow
3295  0FD2  CD 00 00    	call	_spr_draw_pow
3296  0FD5  3A 00 00    	ld	a,(_game_pow)
3297  0FD8  B7          	or	a, a
3298  0FD9  20 13       	jr	NZ,l_player_hit_pow_00105
3299  0FDB  21 80 0F    	ld	hl,0x0f80
3300  0FDE  E5          	push	hl
3301  0FDF  AF          	xor	a, a
3302  0FE0  F5          	push	af
3303  0FE1  33          	inc	sp
3304  0FE2  CD 00 00    	call	_NIRVANAP_fillT_callee
3305  0FE5  21 00 00    	ld	hl,0x0000
3306  0FE8  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3307  0FEB  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3308  0FEE              l_player_hit_pow_00105:
3309  0FEE  21 00 00    	ld	hl,0x0000
3310  0FF1  CD 00 00    	call	_zx_border_fastcall
3311  0FF4  3A 00 00    	ld	a,(_sprite)
3312  0FF7  C6 00       	add	a,+((_state_a) & 0xFF)
3313  0FF9  4F          	ld	c,a
3314  0FFA  3E 00       	ld	a,+((_state_a) / 256)
3315  0FFC  CE 00       	adc	a,0x00
3316  0FFE  47          	ld	b,a
3317  0FFF  0A          	ld	a,(bc)
3318  1000  CB FF       	set	7, a
3319  1002  02          	ld	(bc),a
3320  1003  3A 00 00    	ld	a,(_index_player)
3321  1006  C6 00       	add	a,+((_player_jump_c) & 0xFF)
3322  1008  4F          	ld	c,a
3323  1009  3E 00       	ld	a,+((_player_jump_c) / 256)
3324  100B  CE 00       	adc	a,0x00
3325  100D  47          	ld	b,a
3326  100E  3E 06       	ld	a,0x06
3327  1010  02          	ld	(bc),a
3328  1011  2E 01       	ld	l,0x01
3329  1013  18 02       	jr	l_player_hit_pow_00112
3330  1015              l_player_hit_pow_00107:
3331  1015  2E 00       	ld	l,0x00
3332  1017              l_player_hit_pow_00112:
3333  1017  C9          	ret
3334  1018              	SECTION code_compiler
3335  1018              ;	---------------------------------
3336  1018              ; Function player_coin
3337  1018              ; ---------------------------------
3338  1018              _player_coin:
3339  1018  CD 00 00    	call	___sdcc_enter_ix
3340  101B  3E 00       	ld	a,+((_class) & 0xFF)
3341  101D  DD 86 04    	add	a,(ix+4)
3342  1020  4F          	ld	c,a
3343  1021  3E 00       	ld	a,+((_class) / 256)
3344  1023  CE 00       	adc	a,0x00
3345  1025  47          	ld	b,a
3346  1026  0A          	ld	a,(bc)
3347  1027  D6 07       	sub	a,0x07
3348  1029  20 16       	jr	NZ,l_player_coin_00102
3349  102B  21 00 00    	ld	hl,_ay_effect_12
3350  102E  CD 00 00    	call	_ay_fx_play
3351  1031  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3352  1033  DD 86 04    	add	a,(ix+4)
3353  1036  4F          	ld	c,a
3354  1037  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3355  1039  CE 00       	adc	a,0x00
3356  103B  47          	ld	b,a
3357  103C  3E 03       	ld	a,0x03
3358  103E  02          	ld	(bc),a
3359  103F  18 17       	jr	l_player_coin_00103
3360  1041              l_player_coin_00102:
3361  1041  21 00 00    	ld	hl,_ay_effect_10
3362  1044  CD 00 00    	call	_ay_fx_play
3363  1047  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3364  1049  DD 86 04    	add	a,(ix+4)
3365  104C  4F          	ld	c,a
3366  104D  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3367  104F  CE 00       	adc	a,0x00
3368  1051  47          	ld	b,a
3369  1052  3E 08       	ld	a,0x08
3370  1054  02          	ld	(bc),a
3371  1055  CD 00 00    	call	_sound_coin
3372  1058              l_player_coin_00103:
3373  1058  3E 00       	ld	a,+((_state) & 0xFF)
3374  105A  DD 86 04    	add	a,(ix+4)
3375  105D  4F          	ld	c,a
3376  105E  3E 00       	ld	a,+((_state) / 256)
3377  1060  CE 00       	adc	a,0x00
3378  1062  47          	ld	b,a
3379  1063  0A          	ld	a,(bc)
3380  1064  E6 FE       	and	a,0xfe
3381  1066  CB EF       	set	5,a
3382  1068  02          	ld	(bc),a
3383  1069  01 00 00    	ld	bc,_spr_timer+0
3384  106C  DD 6E 04    	ld	l,(ix+4)
3385  106F  26 00       	ld	h,0x00
3386  1071  29          	add	hl, hl
3387  1072  09          	add	hl,bc
3388  1073  ED 5B 00 00 	ld	de,(_curr_time)
3389  1077  73          	ld	(hl),e
3390  1078  23          	inc	hl
3391  1079  72          	ld	(hl),d
3392  107A  3A 00 00    	ld	a,(_game_bonus)
3393  107D  B7          	or	a, a
3394  107E  28 1B       	jr	Z,l_player_coin_00107
3395  1080  3A 00 00    	ld	a,(_index_player)
3396  1083  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3397  1085  4F          	ld	c,a
3398  1086  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3399  1088  CE 00       	adc	a,0x00
3400  108A  47          	ld	b,a
3401  108B  0A          	ld	a,(bc)
3402  108C  3C          	inc	a
3403  108D  02          	ld	(bc),a
3404  108E  21 00 00    	ld	hl,_phase_left
3405  1091  35          	dec (hl)
3406  1092  20 0F       	jr	NZ,l_player_coin_00109
3407  1094  21 00 00    	ld	hl,_phase_end
3408  1097  36 01       	ld	(hl),0x01
3409  1099  18 08       	jr	l_player_coin_00109
3410  109B              l_player_coin_00107:
3411  109B  DD 6E 05    	ld	l,(ix+5)
3412  109E  26 00       	ld	h,0x00
3413  10A0  CD A6 10    	call	_player_score_add
3414  10A3              l_player_coin_00109:
3415  10A3  DD E1       	pop	ix
3416  10A5  C9          	ret
3417  10A6              	SECTION code_compiler
3418  10A6              ;	---------------------------------
3419  10A6              ; Function player_score_add
3420  10A6              ; ---------------------------------
3421  10A6              _player_score_add:
3422  10A6  4D          	ld	c,l
3423  10A7  44          	ld	b,h
3424  10A8  2A 00 00    	ld	hl,(_index_player)
3425  10AB  26 00       	ld	h,0x00
3426  10AD  29          	add	hl, hl
3427  10AE  11 00 00    	ld	de,_player_score
3428  10B1  19          	add	hl,de
3429  10B2  5E          	ld	e,(hl)
3430  10B3  23          	inc	hl
3431  10B4  56          	ld	d,(hl)
3432  10B5  2B          	dec	hl
3433  10B6  7B          	ld	a,e
3434  10B7  81          	add	a, c
3435  10B8  4F          	ld	c,a
3436  10B9  7A          	ld	a,d
3437  10BA  88          	adc	a, b
3438  10BB  47          	ld	b,a
3439  10BC  71          	ld	(hl),c
3440  10BD  23          	inc	hl
3441  10BE  70          	ld	(hl),b
3442  10BF  2A 00 00    	ld	hl,(_index_player)
3443  10C2  26 00       	ld	h,0x00
3444  10C4  29          	add	hl,hl
3445  10C5  4D          	ld	c,l
3446  10C6  44          	ld	b,h
3447  10C7  21 00 00    	ld	hl,_player_score
3448  10CA  09          	add	hl,bc
3449  10CB  5E          	ld	e,(hl)
3450  10CC  23          	inc	hl
3451  10CD  56          	ld	d,(hl)
3452  10CE  21 00 00    	ld	hl,_game_score_top
3453  10D1  7E          	ld	a,(hl)
3454  10D2  93          	sub	a, e
3455  10D3  23          	inc	hl
3456  10D4  7E          	ld	a,(hl)
3457  10D5  9A          	sbc	a, d
3458  10D6  30 04       	jr	NC,l_player_score_add_00102
3459  10D8  2B          	dec	hl
3460  10D9  73          	ld	(hl),e
3461  10DA  23          	inc	hl
3462  10DB  72          	ld	(hl),d
3463  10DC              l_player_score_add_00102:
3464  10DC  21 00 00    	ld	hl,_player_next_extra
3465  10DF  09          	add	hl,bc
3466  10E0  4E          	ld	c,(hl)
3467  10E1  23          	inc	hl
3468  10E2  46          	ld	b,(hl)
3469  10E3  2B          	dec	hl
3470  10E4  79          	ld	a,c
3471  10E5  93          	sub	a, e
3472  10E6  78          	ld	a,b
3473  10E7  9A          	sbc	a, d
3474  10E8  30 31       	jr	NC,l_player_score_add_00106
3475  10EA  79          	ld	a,c
3476  10EB  C6 D0       	add	a,0xd0
3477  10ED  77          	ld	(hl),a
3478  10EE  78          	ld	a,b
3479  10EF  CE 07       	adc	a,0x07
3480  10F1  23          	inc	hl
3481  10F2  77          	ld	(hl),a
3482  10F3  3A 00 00    	ld	a,(_index_player)
3483  10F6  C6 00       	add	a,+((_game_lives) & 0xFF)
3484  10F8  4F          	ld	c,a
3485  10F9  3E 00       	ld	a,+((_game_lives) / 256)
3486  10FB  CE 00       	adc	a,0x00
3487  10FD  47          	ld	b,a
3488  10FE  0A          	ld	a,(bc)
3489  10FF  3C          	inc	a
3490  1100  02          	ld	(bc),a
3491  1101  3A 00 00    	ld	a,(_game_bonus)
3492  1104  B7          	or	a, a
3493  1105  20 03       	jr	NZ,l_player_score_add_00104
3494  1107  CD 00 00    	call	_game_print_lives
3495  110A              l_player_score_add_00104:
3496  110A  CD 00 00    	call	_sound_coin
3497  110D  CD 00 00    	call	_sound_coin
3498  1110  CD 00 00    	call	_sound_coin
3499  1113  CD 00 00    	call	_sound_coin
3500  1116  21 00 00    	ld	hl,_hit_count
3501  1119  36 08       	ld	(hl),0x08
3502  111B              l_player_score_add_00106:
3503  111B  C3 00 00    	jp  _game_print_score
3504  111E              	SECTION code_compiler
3505  111E              ;	---------------------------------
3506  111E              ; Function player_set1
3507  111E              ; ---------------------------------
3508  111E              _player_set1:
3509  111E  21 00 00    	ld	hl,_sprite
3510  1121  36 07       	ld	(hl),0x07
3511  1123  21 00 00    	ld	hl,_sprite_other_player
3512  1126  36 06       	ld	(hl),0x06
3513  1128  21 00 00    	ld	hl,_index_player
3514  112B  36 00       	ld	(hl),0x00
3515  112D  21 00 00    	ld	hl,_tile_offset
3516  1130  36 00       	ld	(hl),0x00
3517  1132  21 00 00    	ld	hl,_tile_offset_other_player
3518  1135  36 18       	ld	(hl),0x18
3519  1137  C9          	ret
3520  1138              	SECTION code_compiler
3521  1138              ;	---------------------------------
3522  1138              ; Function player_set2
3523  1138              ; ---------------------------------
3524  1138              _player_set2:
3525  1138  21 00 00    	ld	hl,_sprite
3526  113B  36 06       	ld	(hl),0x06
3527  113D  21 00 00    	ld	hl,_sprite_other_player
3528  1140  36 07       	ld	(hl),0x07
3529  1142  21 00 00    	ld	hl,_index_player
3530  1145  36 01       	ld	(hl),0x01
3531  1147  21 00 00    	ld	hl,_tile_offset
3532  114A  36 18       	ld	(hl),0x18
3533  114C  21 00 00    	ld	hl,_tile_offset_other_player
3534  114F  36 00       	ld	(hl),0x00
3535  1151  C9          	ret
3536  1152              	SECTION IGNORE
3537  0000              
