1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _player_init
181   0000              	GLOBAL _player_calc_slide
182   0000              	GLOBAL _player_check_input
183   0000              	GLOBAL _player_collition
184   0000              	GLOBAL _player_collition_check
185   0000              	GLOBAL _player_kill
186   0000              	GLOBAL _player_restart
187   0000              	GLOBAL _player_lost_life
188   0000              	GLOBAL _player_turn
189   0000              	GLOBAL _player_move
190   0000              	GLOBAL _player_move_input
191   0000              	GLOBAL _player_move_horizontal
192   0000              	GLOBAL _player_push_check
193   0000              	GLOBAL _player_push
194   0000              	GLOBAL _player_hit_brick
195   0000              	GLOBAL _player_hit_brick_clear
196   0000              	GLOBAL _player_hit_pow
197   0000              	GLOBAL _player_coin
198   0000              	GLOBAL _player_score_add
199   0000              	GLOBAL _player_set1
200   0000              	GLOBAL _player_set2
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _sound_hit_pow
246   0000              	GLOBAL _sound_hit_brick
247   0000              	GLOBAL _sound_hit_enemy
248   0000              	GLOBAL _sound_kill
249   0000              	GLOBAL _sound_enter_enemy
250   0000              	GLOBAL _sound_coin
251   0000              	GLOBAL _sound_jump
252   0000              	GLOBAL _sound_slide
253   0000              	GLOBAL _spr_draw_clear
254   0000              	GLOBAL _spr_water_splash_draw
255   0000              	GLOBAL _spr_water_splash_clear
256   0000              	GLOBAL _spr_draw_back
257   0000              	GLOBAL _spr_cortina_pipes
258   0000              	GLOBAL _spr_cortina_brick
259   0000              	GLOBAL _spr_brick_anim
260   0000              	GLOBAL _spr_back_fix4
261   0000              	GLOBAL _spr_back_fix3
262   0000              	GLOBAL _spr_back_fix2
263   0000              	GLOBAL _spr_back_fix1
264   0000              	GLOBAL _spr_back_fix
265   0000              	GLOBAL _spr_back_clr
266   0000              	GLOBAL _spr_draw_pow
267   0000              	GLOBAL _spr_tile
268   0000              	GLOBAL _spr_set_fall
269   0000              	GLOBAL _spr_destroy
270   0000              	GLOBAL _spr_check_over
271   0000              	GLOBAL _spr_tile_dir
272   0000              	GLOBAL _spr_anim_kill
273   0000              	GLOBAL _spr_anim_fall
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_chktime
282   0000              	GLOBAL _game_joystick_set_menu
283   0000              	GLOBAL _game_joystick_set
284   0000              	GLOBAL _game_joystick_change
285   0000              	GLOBAL _game_hall_print_p
286   0000              	GLOBAL _game_hall_edit_p
287   0000              	GLOBAL _game_hall_check
288   0000              	GLOBAL _game_hall_enter_phs
289   0000              	GLOBAL _game_print_header
290   0000              	GLOBAL _game_end
291   0000              	GLOBAL _game_hall_enter
292   0000              	GLOBAL _game_hall_of_fame
293   0000              	GLOBAL _game_score_osd
294   0000              	GLOBAL _game_phase_print_score_back
295   0000              	GLOBAL _game_bonus_clock
296   0000              	GLOBAL _game_bonus_summary_player
297   0000              	GLOBAL _game_bonus_summary
298   0000              	GLOBAL _game_check_time
299   0000              	GLOBAL _game_menu_config
300   0000              	GLOBAL _game_menu
301   0000              	GLOBAL _game_rotate_attrib
302   0000              	GLOBAL _game_colour_message
303   0000              	GLOBAL _game_paint_attrib_lin_h
304   0000              	GLOBAL _game_paint_attrib_lin
305   0000              	GLOBAL _game_paint_attrib
306   0000              	GLOBAL _game_menu_paint
307   0000              	GLOBAL _game_menu_top_paint
308   0000              	GLOBAL _game_menu_handle
309   0000              	GLOBAL _game_menu_e
310   0000              	GLOBAL _game_menu_back
311   0000              	GLOBAL _game_print_score
312   0000              	GLOBAL _game_unfreeze_all
313   0000              	GLOBAL _game_freeze_all
314   0000              	GLOBAL _game_freeze
315   0000              	GLOBAL _game_enemy_add_get_index
316   0000              	GLOBAL _game_enemy_add1
317   0000              	GLOBAL _game_enemy_quota
318   0000              	GLOBAL _game_enemy_rnd
319   0000              	GLOBAL _game_enemy_add
320   0000              	GLOBAL _game_check_maze
321   0000              	GLOBAL _game_kill_all_sprites
322   0000              	GLOBAL _game_loop
323   0000              	GLOBAL _game_phase_print
324   0000              	GLOBAL _game_phase_init
325   0000              	GLOBAL _game_phase_calc
326   0000              	GLOBAL _game_start_timer
327   0000              	GLOBAL _game_tick
328   0000              	GLOBAL _game_print_lives
329   0000              	GLOBAL _game_print_footer
330   0000              	GLOBAL _game_calc_index
331   0000              	GLOBAL _game_fill_row
332   0000              	GLOBAL _enemy_kill
333   0000              	GLOBAL _enemy_init
334   0000              	GLOBAL _enemy_walk
335   0000              	GLOBAL _enemy_upgrade
336   0000              	GLOBAL _enemy_evolve
337   0000              	GLOBAL _enemy_standard_hit
338   0000              	GLOBAL _enemy_trip
339   0000              	GLOBAL _enemy_fighterfly
340   0000              	GLOBAL _enemy_fireball_green
341   0000              	GLOBAL _enemy_fireball_red
342   0000              	GLOBAL _enemy_slipice
343   0000              	GLOBAL _enemy_standard
344   0000              	GLOBAL _enemy_turn
345   0000              	GLOBAL _enemy_flip_sidestepper
346   0000              	GLOBAL _enemy_flip
347   0000              	GLOBAL _enemy_flip_change_dir
348   0000              	GLOBAL _enemy_hit
349   0000              	GLOBAL _enemy_collition_check
350   0000              	GLOBAL _enemy_collition
351   0000              	GLOBAL _enemy_coin1
352   0000              	GLOBAL _ay_fx_play
353   0000              	GLOBAL _ay_midi_play
354   0000              	GLOBAL _ay_is_playing
355   0000              	GLOBAL _ay_reset
356   0000              	GLOBAL _test_func
357   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
358   0000              	GLOBAL _NIRVANAP_drawTW_raw
359   0000              	GLOBAL _NIRVANAP_drawTW_callee
360   0000              	GLOBAL _NIRVANAP_drawTW
361   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawW_raw
363   0000              	GLOBAL _NIRVANAP_drawW_callee
364   0000              	GLOBAL _NIRVANAP_drawW
365   0000              	GLOBAL _NIRVANAP_spriteT_callee
366   0000              	GLOBAL _NIRVANAP_spriteT
367   0000              	GLOBAL _NIRVANAP_fillC_callee
368   0000              	GLOBAL _NIRVANAP_fillC
369   0000              	GLOBAL _NIRVANAP_readC_callee
370   0000              	GLOBAL _NIRVANAP_readC
371   0000              	GLOBAL _NIRVANAP_paintC_callee
372   0000              	GLOBAL _NIRVANAP_paintC
373   0000              	GLOBAL _NIRVANAP_printC_callee
374   0000              	GLOBAL _NIRVANAP_printC
375   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
376   0000              	GLOBAL _NIRVANAP_fillT_raw
377   0000              	GLOBAL _NIRVANAP_fillT_callee
378   0000              	GLOBAL _NIRVANAP_fillT
379   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
380   0000              	GLOBAL _NIRVANAP_drawT_raw
381   0000              	GLOBAL _NIRVANAP_drawT_callee
382   0000              	GLOBAL _NIRVANAP_drawT
383   0000              	GLOBAL _NIRVANAP_stop
384   0000              	GLOBAL _NIRVANAP_start
385   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
386   0000              	GLOBAL _intrinsic_swap_word_32
387   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
388   0000              	GLOBAL _intrinsic_swap_endian_32
389   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
390   0000              	GLOBAL _intrinsic_swap_endian_16
391   0000              	GLOBAL _intrinsic_return_de
392   0000              	GLOBAL _intrinsic_return_bc
393   0000              	GLOBAL _intrinsic_exx
394   0000              	GLOBAL _intrinsic_ex_de_hl
395   0000              	GLOBAL _intrinsic_pop_iy
396   0000              	GLOBAL _intrinsic_pop_ix
397   0000              	GLOBAL _intrinsic_pop_hl
398   0000              	GLOBAL _intrinsic_pop_de
399   0000              	GLOBAL _intrinsic_pop_bc
400   0000              	GLOBAL _intrinsic_pop_af
401   0000              	GLOBAL _intrinsic_push_iy
402   0000              	GLOBAL _intrinsic_push_ix
403   0000              	GLOBAL _intrinsic_push_hl
404   0000              	GLOBAL _intrinsic_push_de
405   0000              	GLOBAL _intrinsic_push_bc
406   0000              	GLOBAL _intrinsic_push_af
407   0000              	GLOBAL _intrinsic_nop
408   0000              	GLOBAL _intrinsic_im_2
409   0000              	GLOBAL _intrinsic_im_1
410   0000              	GLOBAL _intrinsic_im_0
411   0000              	GLOBAL _intrinsic_retn
412   0000              	GLOBAL _intrinsic_reti
413   0000              	GLOBAL _intrinsic_halt
414   0000              	GLOBAL _intrinsic_ei
415   0000              	GLOBAL _intrinsic_di
416   0000              	GLOBAL _intrinsic_stub
417   0000              	GLOBAL _ulltoa_callee
418   0000              	GLOBAL _ulltoa
419   0000              	GLOBAL _strtoull_callee
420   0000              	GLOBAL _strtoull
421   0000              	GLOBAL _strtoll_callee
422   0000              	GLOBAL _strtoll
423   0000              	GLOBAL _lltoa_callee
424   0000              	GLOBAL _lltoa
425   0000              	GLOBAL _llabs_callee
426   0000              	GLOBAL _llabs
427   0000              	GLOBAL __lldivu__callee
428   0000              	GLOBAL __lldivu_
429   0000              	GLOBAL __lldiv__callee
430   0000              	GLOBAL __lldiv_
431   0000              	GLOBAL _atoll_callee
432   0000              	GLOBAL _atoll
433   0000              	GLOBAL _realloc_unlocked_callee
434   0000              	GLOBAL _realloc_unlocked
435   0000              	GLOBAL _malloc_unlocked_fastcall
436   0000              	GLOBAL _malloc_unlocked
437   0000              	GLOBAL _free_unlocked_fastcall
438   0000              	GLOBAL _free_unlocked
439   0000              	GLOBAL _calloc_unlocked_callee
440   0000              	GLOBAL _calloc_unlocked
441   0000              	GLOBAL _aligned_alloc_unlocked_callee
442   0000              	GLOBAL _aligned_alloc_unlocked
443   0000              	GLOBAL _realloc_callee
444   0000              	GLOBAL _realloc
445   0000              	GLOBAL _malloc_fastcall
446   0000              	GLOBAL _malloc
447   0000              	GLOBAL _free_fastcall
448   0000              	GLOBAL _free
449   0000              	GLOBAL _calloc_callee
450   0000              	GLOBAL _calloc
451   0000              	GLOBAL _aligned_alloc_callee
452   0000              	GLOBAL _aligned_alloc
453   0000              	GLOBAL _utoa_callee
454   0000              	GLOBAL _utoa
455   0000              	GLOBAL _ultoa_callee
456   0000              	GLOBAL _ultoa
457   0000              	GLOBAL _system_fastcall
458   0000              	GLOBAL _system
459   0000              	GLOBAL _strtoul_callee
460   0000              	GLOBAL _strtoul
461   0000              	GLOBAL _strtol_callee
462   0000              	GLOBAL _strtol
463   0000              	GLOBAL _strtof_callee
464   0000              	GLOBAL _strtof
465   0000              	GLOBAL _strtod_callee
466   0000              	GLOBAL _strtod
467   0000              	GLOBAL _srand_fastcall
468   0000              	GLOBAL _srand
469   0000              	GLOBAL _rand
470   0000              	GLOBAL _quick_exit_fastcall
471   0000              	GLOBAL _quick_exit
472   0000              	GLOBAL _qsort_callee
473   0000              	GLOBAL _qsort
474   0000              	GLOBAL _ltoa_callee
475   0000              	GLOBAL _ltoa
476   0000              	GLOBAL _labs_fastcall
477   0000              	GLOBAL _labs
478   0000              	GLOBAL _itoa_callee
479   0000              	GLOBAL _itoa
480   0000              	GLOBAL _ftoh_callee
481   0000              	GLOBAL _ftoh
482   0000              	GLOBAL _ftog_callee
483   0000              	GLOBAL _ftog
484   0000              	GLOBAL _ftoe_callee
485   0000              	GLOBAL _ftoe
486   0000              	GLOBAL _ftoa_callee
487   0000              	GLOBAL _ftoa
488   0000              	GLOBAL _exit_fastcall
489   0000              	GLOBAL _exit
490   0000              	GLOBAL _dtoh_callee
491   0000              	GLOBAL _dtoh
492   0000              	GLOBAL _dtog_callee
493   0000              	GLOBAL _dtog
494   0000              	GLOBAL _dtoe_callee
495   0000              	GLOBAL _dtoe
496   0000              	GLOBAL _dtoa_callee
497   0000              	GLOBAL _dtoa
498   0000              	GLOBAL _bsearch_callee
499   0000              	GLOBAL _bsearch
500   0000              	GLOBAL _atol_fastcall
501   0000              	GLOBAL _atol
502   0000              	GLOBAL _atoi_fastcall
503   0000              	GLOBAL _atoi
504   0000              	GLOBAL _atof_fastcall
505   0000              	GLOBAL _atof
506   0000              	GLOBAL _atexit_fastcall
507   0000              	GLOBAL _atexit
508   0000              	GLOBAL _at_quick_exit_fastcall
509   0000              	GLOBAL _at_quick_exit
510   0000              	GLOBAL _abs_fastcall
511   0000              	GLOBAL _abs
512   0000              	GLOBAL _abort
513   0000              	GLOBAL __strtou__callee
514   0000              	GLOBAL __strtou_
515   0000              	GLOBAL __strtoi__callee
516   0000              	GLOBAL __strtoi_
517   0000              	GLOBAL __random_uniform_xor_8__fastcall
518   0000              	GLOBAL __random_uniform_xor_8_
519   0000              	GLOBAL __random_uniform_xor_32__fastcall
520   0000              	GLOBAL __random_uniform_xor_32_
521   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
522   0000              	GLOBAL __random_uniform_cmwc_8_
523   0000              	GLOBAL __shellsort__callee
524   0000              	GLOBAL __shellsort_
525   0000              	GLOBAL __quicksort__callee
526   0000              	GLOBAL __quicksort_
527   0000              	GLOBAL __insertion_sort__callee
528   0000              	GLOBAL __insertion_sort_
529   0000              	GLOBAL __ldivu__callee
530   0000              	GLOBAL __ldivu_
531   0000              	GLOBAL __ldiv__callee
532   0000              	GLOBAL __ldiv_
533   0000              	GLOBAL __divu__callee
534   0000              	GLOBAL __divu_
535   0000              	GLOBAL __div__callee
536   0000              	GLOBAL __div_
537   0000              	GLOBAL _in_mouse_kempston_wheel_delta
538   0000              	GLOBAL _in_mouse_kempston_wheel
539   0000              	GLOBAL _in_mouse_kempston_callee
540   0000              	GLOBAL _in_mouse_kempston
541   0000              	GLOBAL _in_mouse_kempston_setpos_callee
542   0000              	GLOBAL _in_mouse_kempston_setpos
543   0000              	GLOBAL _in_mouse_kempston_reset
544   0000              	GLOBAL _in_mouse_kempston_init
545   0000              	GLOBAL _in_mouse_amx_wheel_delta
546   0000              	GLOBAL _in_mouse_amx_wheel
547   0000              	GLOBAL _in_mouse_amx_callee
548   0000              	GLOBAL _in_mouse_amx
549   0000              	GLOBAL _in_mouse_amx_setpos_callee
550   0000              	GLOBAL _in_mouse_amx_setpos
551   0000              	GLOBAL _in_mouse_amx_reset
552   0000              	GLOBAL _in_mouse_amx_init_callee
553   0000              	GLOBAL _in_mouse_amx_init
554   0000              	GLOBAL _in_stick_sinclair2
555   0000              	GLOBAL _in_stick_sinclair1
556   0000              	GLOBAL _in_stick_kempston
557   0000              	GLOBAL _in_stick_fuller
558   0000              	GLOBAL _in_stick_cursor
559   0000              	GLOBAL _in_stick_keyboard_fastcall
560   0000              	GLOBAL _in_stick_keyboard
561   0000              	GLOBAL _in_wait_nokey
562   0000              	GLOBAL _in_wait_key
563   0000              	GLOBAL _in_test_key
564   0000              	GLOBAL _in_pause_fastcall
565   0000              	GLOBAL _in_pause
566   0000              	GLOBAL _in_key_scancode_fastcall
567   0000              	GLOBAL _in_key_scancode
568   0000              	GLOBAL _in_key_pressed_fastcall
569   0000              	GLOBAL _in_key_pressed
570   0000              	GLOBAL _in_inkey
571   0000              	GLOBAL _zx_pattern_fill_callee
572   0000              	GLOBAL _zx_pattern_fill
573   0000              	GLOBAL _zx_saddrpup_fastcall
574   0000              	GLOBAL _zx_saddrpup
575   0000              	GLOBAL _zx_saddrpright_callee
576   0000              	GLOBAL _zx_saddrpright
577   0000              	GLOBAL _zx_saddrpleft_callee
578   0000              	GLOBAL _zx_saddrpleft
579   0000              	GLOBAL _zx_saddrpdown_fastcall
580   0000              	GLOBAL _zx_saddrpdown
581   0000              	GLOBAL _zx_saddrcup_fastcall
582   0000              	GLOBAL _zx_saddrcup
583   0000              	GLOBAL _zx_saddrcright_fastcall
584   0000              	GLOBAL _zx_saddrcright
585   0000              	GLOBAL _zx_saddrcleft_fastcall
586   0000              	GLOBAL _zx_saddrcleft
587   0000              	GLOBAL _zx_saddrcdown_fastcall
588   0000              	GLOBAL _zx_saddrcdown
589   0000              	GLOBAL _zx_saddr2py_fastcall
590   0000              	GLOBAL _zx_saddr2py
591   0000              	GLOBAL _zx_saddr2px_fastcall
592   0000              	GLOBAL _zx_saddr2px
593   0000              	GLOBAL _zx_saddr2cy_fastcall
594   0000              	GLOBAL _zx_saddr2cy
595   0000              	GLOBAL _zx_saddr2cx_fastcall
596   0000              	GLOBAL _zx_saddr2cx
597   0000              	GLOBAL _zx_saddr2aaddr_fastcall
598   0000              	GLOBAL _zx_saddr2aaddr
599   0000              	GLOBAL _zx_py2saddr_fastcall
600   0000              	GLOBAL _zx_py2saddr
601   0000              	GLOBAL _zx_py2aaddr_fastcall
602   0000              	GLOBAL _zx_py2aaddr
603   0000              	GLOBAL _zx_pxy2saddr_callee
604   0000              	GLOBAL _zx_pxy2saddr
605   0000              	GLOBAL _zx_pxy2aaddr_callee
606   0000              	GLOBAL _zx_pxy2aaddr
607   0000              	GLOBAL _zx_px2bitmask_fastcall
608   0000              	GLOBAL _zx_px2bitmask
609   0000              	GLOBAL _zx_cyx2saddr_callee
610   0000              	GLOBAL _zx_cyx2saddr
611   0000              	GLOBAL _zx_cyx2aaddr_callee
612   0000              	GLOBAL _zx_cyx2aaddr
613   0000              	GLOBAL _zx_cy2saddr_fastcall
614   0000              	GLOBAL _zx_cy2saddr
615   0000              	GLOBAL _zx_cy2aaddr_fastcall
616   0000              	GLOBAL _zx_cy2aaddr
617   0000              	GLOBAL _zx_bitmask2px_fastcall
618   0000              	GLOBAL _zx_bitmask2px
619   0000              	GLOBAL _zx_aaddrcup_fastcall
620   0000              	GLOBAL _zx_aaddrcup
621   0000              	GLOBAL _zx_aaddrcright_fastcall
622   0000              	GLOBAL _zx_aaddrcright
623   0000              	GLOBAL _zx_aaddrcleft_fastcall
624   0000              	GLOBAL _zx_aaddrcleft
625   0000              	GLOBAL _zx_aaddrcdown_fastcall
626   0000              	GLOBAL _zx_aaddrcdown
627   0000              	GLOBAL _zx_aaddr2saddr_fastcall
628   0000              	GLOBAL _zx_aaddr2saddr
629   0000              	GLOBAL _zx_aaddr2py_fastcall
630   0000              	GLOBAL _zx_aaddr2py
631   0000              	GLOBAL _zx_aaddr2px_fastcall
632   0000              	GLOBAL _zx_aaddr2px
633   0000              	GLOBAL _zx_aaddr2cy_fastcall
634   0000              	GLOBAL _zx_aaddr2cy
635   0000              	GLOBAL _zx_aaddr2cx_fastcall
636   0000              	GLOBAL _zx_aaddr2cx
637   0000              	GLOBAL _zx_scroll_wc_up_callee
638   0000              	GLOBAL _zx_scroll_wc_up
639   0000              	GLOBAL _zx_scroll_up_callee
640   0000              	GLOBAL _zx_scroll_up
641   0000              	GLOBAL _zx_cls_wc_callee
642   0000              	GLOBAL _zx_cls_wc
643   0000              	GLOBAL _zx_cls_fastcall
644   0000              	GLOBAL _zx_cls
645   0000              	GLOBAL _zx_border_fastcall
646   0000              	GLOBAL _zx_border
647   0000              	GLOBAL _ay_effect_20
648   0000              	GLOBAL _ay_effect_19
649   0000              	GLOBAL _ay_effect_18
650   0000              	GLOBAL _ay_effect_17
651   0000              	GLOBAL _ay_effect_16
652   0000              	GLOBAL _ay_effect_15
653   0000              	GLOBAL _ay_effect_14
654   0000              	GLOBAL _ay_effect_13
655   0000              	GLOBAL _ay_effect_12
656   0000              	GLOBAL _ay_effect_11
657   0000              	GLOBAL _ay_effect_10
658   0000              	GLOBAL _ay_effect_09
659   0000              	GLOBAL _ay_effect_08
660   0000              	GLOBAL _ay_effect_07
661   0000              	GLOBAL _ay_effect_06
662   0000              	GLOBAL _ay_effect_05
663   0000              	GLOBAL _ay_effect_04
664   0000              	GLOBAL _ay_effect_03
665   0000              	GLOBAL _ay_effect_02
666   0000              	GLOBAL _ay_effect_01
667   0000              	GLOBAL _pb_midi_phase_1
668   0000              	GLOBAL _pb_midi_title
669   0000              	GLOBAL _joynames
670   0000              	GLOBAL _initials
671   0000              	GLOBAL _hof
672   0000              	GLOBAL _score_osd_tile
673   0000              	GLOBAL _score_osd_time
674   0000              	GLOBAL _score_osd_col
675   0000              	GLOBAL _score_osd_lin
676   0000              	GLOBAL _phase_bonus_total
677   0000              	GLOBAL _phase_angry
678   0000              	GLOBAL _phase_curr
679   0000              	GLOBAL _phase_end
680   0000              	GLOBAL _phase_coins
681   0000              	GLOBAL _phase_pop
682   0000              	GLOBAL _phase_tot
683   0000              	GLOBAL _phase_left
684   0000              	GLOBAL _phase_quota
685   0000              	GLOBAL _phases
686   0000              	GLOBAL _spr_idx
687   0000              	GLOBAL _lvl_1
688   0000              	GLOBAL _sprite_speed_alt
689   0000              	GLOBAL _sprite_speed
690   0000              	GLOBAL _screen_ink
691   0000              	GLOBAL _screen_paper
692   0000              	GLOBAL _game_menu_sel
693   0000              	GLOBAL _game_type
694   0000              	GLOBAL _game_bonus
695   0000              	GLOBAL _spr_water_time
696   0000              	GLOBAL _spr_water_clear
697   0000              	GLOBAL _game_time_fireball_start
698   0000              	GLOBAL _game_time_flipped
699   0000              	GLOBAL _game_score_top
700   0000              	GLOBAL _game_lives_update
701   0000              	GLOBAL _game_lives
702   0000              	GLOBAL _game_over
703   0000              	GLOBAL _game_sound
704   0000              	GLOBAL _game_two_player
705   0000              	GLOBAL _game_brick_tile
706   0000              	GLOBAL _game_pow
707   0000              	GLOBAL _spr_count
708   0000              	GLOBAL _frame_loop_count
709   0000              	GLOBAL _col_time
710   0000              	GLOBAL _frame_time
711   0000              	GLOBAL _entry_time
712   0000              	GLOBAL _curr_time
713   0000              	GLOBAL _s_state
714   0000              	GLOBAL _attrib_hl
715   0000              	GLOBAL _attrib
716   0000              	GLOBAL _zx_val_asm
717   0000              	GLOBAL _enemies
718   0000              	GLOBAL _tmp_ui
719   0000              	GLOBAL _tmp_sc
720   0000              	GLOBAL _tmp_uc
721   0000              	GLOBAL _tmp1
722   0000              	GLOBAL _tmp0
723   0000              	GLOBAL _tmp
724   0000              	GLOBAL _index_d
725   0000              	GLOBAL _index3
726   0000              	GLOBAL _index2
727   0000              	GLOBAL _index1
728   0000              	GLOBAL _loop_count
729   0000              	GLOBAL _sprite_lin_inc_mul
730   0000              	GLOBAL _s_col1
731   0000              	GLOBAL _s_col0
732   0000              	GLOBAL _s_lin1
733   0000              	GLOBAL _s_lin0
734   0000              	GLOBAL _s_tile1
735   0000              	GLOBAL _s_tile0
736   0000              	GLOBAL _hit_count
737   0000              	GLOBAL _tile_offset_other_player
738   0000              	GLOBAL _tile_offset
739   0000              	GLOBAL _index_player
740   0000              	GLOBAL _sprite_other_player
741   0000              	GLOBAL _sprite
742   0000              	GLOBAL _player_joy
743   0000              	GLOBAL _player_next_extra
744   0000              	GLOBAL _player_score
745   0000              	GLOBAL _last_time
746   0000              	GLOBAL _sliding
747   0000              	GLOBAL _spr_timer_c
748   0000              	GLOBAL _spr_timer
749   0000              	GLOBAL _jump_lin
750   0000              	GLOBAL _player_jump_c
751   0000              	GLOBAL _hit_col
752   0000              	GLOBAL _hit_lin
753   0000              	GLOBAL _colint
754   0000              	GLOBAL _col
755   0000              	GLOBAL _lin
756   0000              	GLOBAL _tile
757   0000              	GLOBAL _state_a
758   0000              	GLOBAL _state
759   0000              	GLOBAL _class
760   0000              	GLOBAL _tbuffer
761   0000              	GLOBAL _dirs
762   0000              	GLOBAL _k2
763   0000              	GLOBAL _k1
764   0000              	GLOBAL _joyfunc2
765   0000              	GLOBAL _joyfunc1
766   0000              	GLOBAL _btiles
767   0000              	GLOBAL _spec128
768   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
769   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
770   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
771   0000              	GLOBAL _NIRVANAP_ISR_HOOK
772   0000              	GLOBAL _control_method
773   0000              	GLOBAL _hall_valids
774   0000              ;--------------------------------------------------------
775   0000              ; special function registers
776   0000              ;--------------------------------------------------------
777   0000              ;--------------------------------------------------------
778   0000              ; ram data
779   0000              ;--------------------------------------------------------
780   0000              	SECTION bss_compiler
781   0000              ;--------------------------------------------------------
782   0000              ; ram data
783   0000              ;--------------------------------------------------------
784   0000              
785   0000              IF 0
786   0000              
787   0000              ; .area _INITIALIZED removed by z88dk
788   0000              
789   0000              
790   0000              ENDIF
791   0000              
792   0000              ;--------------------------------------------------------
793   0000              ; absolute external ram data
794   0000              ;--------------------------------------------------------
795   0000              	SECTION IGNORE
796   0000              ;--------------------------------------------------------
797   0000              ; global & static initialisations
798   0000              ;--------------------------------------------------------
799   0000              	SECTION code_crt_init
800   0000              ;--------------------------------------------------------
801   0000              ; Home
802   0000              ;--------------------------------------------------------
803   0000              	SECTION IGNORE
804   0000              ;--------------------------------------------------------
805   0000              ; code
806   0000              ;--------------------------------------------------------
807   0000              	SECTION code_compiler
808   0000              ;	---------------------------------
809   0000              ; Function player_init
810   0000              ; ---------------------------------
811   0000              _player_init:
812   0000  CD 00 00    	call	___sdcc_enter_ix
813   0003  F5          	push	af
814   0004  3E 00       	ld	a,+((_class) & 0xFF)
815   0006  DD 86 04    	add	a,(ix+4)
816   0009  4F          	ld	c,a
817   000A  3E 00       	ld	a,+((_class) / 256)
818   000C  CE 00       	adc	a,0x00
819   000E  47          	ld	b,a
820   000F  3E 10       	ld	a,0x10
821   0011  02          	ld	(bc),a
822   0012  3E 00       	ld	a,+((_tile) & 0xFF)
823   0014  DD 86 04    	add	a,(ix+4)
824   0017  4F          	ld	c,a
825   0018  3E 00       	ld	a,+((_tile) / 256)
826   001A  CE 00       	adc	a,0x00
827   001C  47          	ld	b,a
828   001D  DD 7E 07    	ld	a,(ix+7)
829   0020  02          	ld	(bc),a
830   0021  3E 00       	ld	a,+((_lin) & 0xFF)
831   0023  DD 86 04    	add	a,(ix+4)
832   0026  4F          	ld	c,a
833   0027  3E 00       	ld	a,+((_lin) / 256)
834   0029  CE 00       	adc	a,0x00
835   002B  47          	ld	b,a
836   002C  DD 7E 05    	ld	a,(ix+5)
837   002F  02          	ld	(bc),a
838   0030  3E 00       	ld	a,+((_col) & 0xFF)
839   0032  DD 86 04    	add	a,(ix+4)
840   0035  4F          	ld	c,a
841   0036  3E 00       	ld	a,+((_col) / 256)
842   0038  CE 00       	adc	a,0x00
843   003A  47          	ld	b,a
844   003B  DD 7E 06    	ld	a,(ix+6)
845   003E  02          	ld	(bc),a
846   003F  3E 00       	ld	a,+((_colint) & 0xFF)
847   0041  DD 86 04    	add	a,(ix+4)
848   0044  4F          	ld	c,a
849   0045  3E 00       	ld	a,+((_colint) / 256)
850   0047  CE 00       	adc	a,0x00
851   0049  47          	ld	b,a
852   004A  AF          	xor	a, a
853   004B  02          	ld	(bc),a
854   004C  3E 00       	ld	a,+((_state) & 0xFF)
855   004E  DD 86 04    	add	a,(ix+4)
856   0051  4F          	ld	c,a
857   0052  3E 00       	ld	a,+((_state) / 256)
858   0054  CE 00       	adc	a,0x00
859   0056  47          	ld	b,a
860   0057  AF          	xor	a, a
861   0058  02          	ld	(bc),a
862   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
863   005B  DD 86 04    	add	a,(ix+4)
864   005E  4F          	ld	c,a
865   005F  3E 00       	ld	a,+((_state_a) / 256)
866   0061  CE 00       	adc	a,0x00
867   0063  47          	ld	b,a
868   0064  AF          	xor	a, a
869   0065  02          	ld	(bc),a
870   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
871   0068  DD 86 04    	add	a,(ix+4)
872   006B  5F          	ld	e,a
873   006C  3E 00       	ld	a,+((_jump_lin) / 256)
874   006E  CE 00       	adc	a,0x00
875   0070  57          	ld	d,a
876   0071  DD 7E 05    	ld	a,(ix+5)
877   0074  12          	ld	(de),a
878   0075  DD 5E 04    	ld	e,(ix+4)
879   0078  16 00       	ld	d,0x00
880   007A  CB 23       	sla	e
881   007C  CB 12       	rl	d
882   007E  21 00 00    	ld	hl,_last_time
883   0081  19          	add	hl,de
884   0082  E3          	ex	(sp), hl
885   0083  E1          	pop	hl
886   0084  ED 5B 00 00 	ld	de,(_curr_time)
887   0088  E5          	push	hl
888   0089  73          	ld	(hl),e
889   008A  23          	inc	hl
890   008B  72          	ld	(hl),d
891   008C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
892   008E  DD 86 04    	add	a,(ix+4)
893   0091  5F          	ld	e,a
894   0092  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
895   0094  CE 00       	adc	a,0x00
896   0096  57          	ld	d,a
897   0097  AF          	xor	a, a
898   0098  12          	ld	(de),a
899   0099  0A          	ld	a,(bc)
900   009A  CB C7       	set	0, a
901   009C  02          	ld	(bc),a
902   009D  5F          	ld	e,a
903   009E  DD 7E 04    	ld	a,(ix+4)
904   00A1  D6 07       	sub	a,0x07
905   00A3  20 0B       	jr	NZ,l_player_init_00102
906   00A5  21 00 00    	ld	hl,_index_player
907   00A8  36 00       	ld	(hl),0x00
908   00AA  7B          	ld	a,e
909   00AB  CB E7       	set	4, a
910   00AD  02          	ld	(bc),a
911   00AE  18 09       	jr	l_player_init_00103
912   00B0              l_player_init_00102:
913   00B0  21 00 00    	ld	hl,_index_player
914   00B3  36 01       	ld	(hl),0x01
915   00B5  7B          	ld	a,e
916   00B6  CB DF       	set	3, a
917   00B8  02          	ld	(bc),a
918   00B9              l_player_init_00103:
919   00B9  3E 00       	ld	a,+((_hit_col) & 0xFF)
920   00BB  21 00 00    	ld	hl,_index_player
921   00BE  86          	add	a, (hl)
922   00BF  4F          	ld	c,a
923   00C0  3E 00       	ld	a,+((_hit_col) / 256)
924   00C2  CE 00       	adc	a,0x00
925   00C4  47          	ld	b,a
926   00C5  AF          	xor	a, a
927   00C6  02          	ld	(bc),a
928   00C7  3E 00       	ld	a,+((_hit_lin) & 0xFF)
929   00C9  86          	add	a, (hl)
930   00CA  4F          	ld	c,a
931   00CB  3E 00       	ld	a,+((_hit_lin) / 256)
932   00CD  CE 00       	adc	a,0x00
933   00CF  47          	ld	b,a
934   00D0  AF          	xor	a, a
935   00D1  02          	ld	(bc),a
936   00D2  3E 00       	ld	a,+((_sliding) & 0xFF)
937   00D4  86          	add	a, (hl)
938   00D5  4F          	ld	c,a
939   00D6  3E 00       	ld	a,+((_sliding) / 256)
940   00D8  CE 00       	adc	a,0x00
941   00DA  47          	ld	b,a
942   00DB  3E 04       	ld	a,0x04
943   00DD  02          	ld	(bc),a
944   00DE  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
945   00E0  86          	add	a, (hl)
946   00E1  4F          	ld	c,a
947   00E2  3E 00       	ld	a,+((_player_jump_c) / 256)
948   00E4  CE 00       	adc	a,0x00
949   00E6  47          	ld	b,a
950   00E7  AF          	xor	a, a
951   00E8  02          	ld	(bc),a
952   00E9  DD 66 06    	ld	h,(ix+6)
953   00EC  DD 6E 05    	ld	l,(ix+5)
954   00EF  E5          	push	hl
955   00F0  DD 66 07    	ld	h,(ix+7)
956   00F3  DD 6E 04    	ld	l,(ix+4)
957   00F6  E5          	push	hl
958   00F7  CD 00 00    	call	_NIRVANAP_spriteT_callee
959   00FA  F1          	pop	af
960   00FB  DD E1       	pop	ix
961   00FD  C9          	ret
962   00FE              ;	---------------------------------
963   00FE              ; Function player_calc_slide
964   00FE              ; ---------------------------------
965   00FE              _player_calc_slide:
966   00FE  CD 00 00    	call	___sdcc_enter_ix
967   0101  DD 7E 04    	ld	a,(ix+4)
968   0104  C6 10       	add	a,0x10
969   0106  47          	ld	b,a
970   0107  DD 7E 05    	ld	a,(ix+5)
971   010A  48          	ld	c,b
972   010B  47          	ld	b,a
973   010C  C5          	push	bc
974   010D  CD 00 00    	call	_game_calc_index
975   0110  F1          	pop	af
976   0111  22 00 00    	ld	(_index1),hl
977   0114  01 00 00    	ld	bc,_lvl_1
978   0117  09          	add	hl,bc
979   0118  7E          	ld	a,(hl)
980   0119  D6 14       	sub	a,0x14
981   011B  20 10       	jr	NZ,l_player_calc_slide_00102
982   011D  3A 00 00    	ld	a,(_index_player)
983   0120  C6 00       	add	a,+((_sliding) & 0xFF)
984   0122  4F          	ld	c,a
985   0123  3E 00       	ld	a,+((_sliding) / 256)
986   0125  CE 00       	adc	a,0x00
987   0127  47          	ld	b,a
988   0128  3E 10       	ld	a,0x10
989   012A  02          	ld	(bc),a
990   012B  18 0E       	jr	l_player_calc_slide_00103
991   012D              l_player_calc_slide_00102:
992   012D  3A 00 00    	ld	a,(_index_player)
993   0130  C6 00       	add	a,+((_sliding) & 0xFF)
994   0132  4F          	ld	c,a
995   0133  3E 00       	ld	a,+((_sliding) / 256)
996   0135  CE 00       	adc	a,0x00
997   0137  47          	ld	b,a
998   0138  3E 04       	ld	a,0x04
999   013A  02          	ld	(bc),a
1000  013B              l_player_calc_slide_00103:
1001  013B  21 00 00    	ld	hl,_s_state
1002  013E  7E          	ld	a,(hl)
1003  013F  E6 08       	and	a,0x08
1004  0141  4F          	ld	c,a
1005  0142  7E          	ld	a,(hl)
1006  0143  E6 04       	and	a,0x04
1007  0145  47          	ld	b,a
1008  0146  79          	ld	a,c
1009  0147  90          	sub	a, b
1010  0148  20 0D       	jr	NZ,l_player_calc_slide_00106
1011  014A  3A 00 00    	ld	a,(_index_player)
1012  014D  C6 00       	add	a,+((_sliding) & 0xFF)
1013  014F  4F          	ld	c,a
1014  0150  3E 00       	ld	a,+((_sliding) / 256)
1015  0152  CE 00       	adc	a,0x00
1016  0154  47          	ld	b,a
1017  0155  AF          	xor	a, a
1018  0156  02          	ld	(bc),a
1019  0157              l_player_calc_slide_00106:
1020  0157  DD E1       	pop	ix
1021  0159  C9          	ret
1022  015A              ;	---------------------------------
1023  015A              ; Function player_check_input
1024  015A              ; ---------------------------------
1025  015A              _player_check_input:
1026  015A  21 00 00    	ld	hl,_dirs
1027  015D  7E          	ld	a,(hl)
1028  015E  CB 07       	rlc	a
1029  0160  E6 01       	and	a,0x01
1030  0162  CB 47       	bit	0,a
1031  0164  20 0F       	jr	NZ,l_player_check_input_00104
1032  0166  7E          	ld	a,(hl)
1033  0167  E6 04       	and	a,0x04
1034  0169  20 0A       	jr	NZ,l_player_check_input_00104
1035  016B  3A 00 00    	ld	a,(_dirs)
1036  016E  E6 08       	and	a,0x08
1037  0170  20 03       	jr	NZ,l_player_check_input_00104
1038  0172  6F          	ld	l,a
1039  0173  18 02       	jr	l_player_check_input_00105
1040  0175              l_player_check_input_00104:
1041  0175  2E 01       	ld	l,0x01
1042  0177              l_player_check_input_00105:
1043  0177  C9          	ret
1044  0178              ;	---------------------------------
1045  0178              ; Function player_collition
1046  0178              ; ---------------------------------
1047  0178              _player_collition:
1048  0178  3A 00 00    	ld	a,(_sprite)
1049  017B  C6 00       	add	a,+((_class) & 0xFF)
1050  017D  4F          	ld	c,a
1051  017E  3E 00       	ld	a,+((_class) / 256)
1052  0180  CE 00       	adc	a,0x00
1053  0182  47          	ld	b,a
1054  0183  0A          	ld	a,(bc)
1055  0184  B7          	or	a,a
1056  0185  20 04       	jr	NZ,l_player_collition_00102
1057  0187  6F          	ld	l,a
1058  0188  C3 08 02    	jp	l_player_collition_00121
1059  018B              l_player_collition_00102:
1060  018B  3A 00 00    	ld	a,(_sprite)
1061  018E  C6 00       	add	a,+((_state) & 0xFF)
1062  0190  4F          	ld	c,a
1063  0191  3E 00       	ld	a,+((_state) / 256)
1064  0193  CE 00       	adc	a,0x00
1065  0195  47          	ld	b,a
1066  0196  0A          	ld	a,(bc)
1067  0197  CB 67       	bit	4, a
1068  0199  28 04       	jr	Z,l_player_collition_00104
1069  019B  2E 00       	ld	l,0x00
1070  019D  18 69       	jr	l_player_collition_00121
1071  019F              l_player_collition_00104:
1072  019F  CB 6F       	bit	5, a
1073  01A1  28 04       	jr	Z,l_player_collition_00106
1074  01A3  2E 00       	ld	l,0x00
1075  01A5  18 61       	jr	l_player_collition_00121
1076  01A7              l_player_collition_00106:
1077  01A7  21 00 00    	ld	hl,_hit_count
1078  01AA  36 00       	ld	(hl),0x00
1079  01AC  21 00 00    	ld	hl,_enemies
1080  01AF  36 00       	ld	(hl),0x00
1081  01B1              l_player_collition_00119:
1082  01B1  CD 09 02    	call	_player_collition_check
1083  01B4  7D          	ld	a,l
1084  01B5  B7          	or	a, a
1085  01B6  28 41       	jr	Z,l_player_collition_00120
1086  01B8  3A 00 00    	ld	a,(_enemies)
1087  01BB  C6 00       	add	a,+((_state) & 0xFF)
1088  01BD  4F          	ld	c,a
1089  01BE  3E 00       	ld	a,+((_state) / 256)
1090  01C0  CE 00       	adc	a,0x00
1091  01C2  47          	ld	b,a
1092  01C3  0A          	ld	a,(bc)
1093  01C4  CB 67       	bit	4, a
1094  01C6  28 0B       	jr	Z,l_player_collition_00114
1095  01C8  3A 00 00    	ld	a,(_enemies)
1096  01CB  F5          	push	af
1097  01CC  33          	inc	sp
1098  01CD  CD 00 00    	call	_enemy_kill
1099  01D0  33          	inc	sp
1100  01D1  18 26       	jr	l_player_collition_00120
1101  01D3              l_player_collition_00114:
1102  01D3  2A 00 00    	ld	hl,(_enemies)
1103  01D6  26 00       	ld	h,0x00
1104  01D8  01 00 00    	ld	bc,_class
1105  01DB  09          	add	hl,bc
1106  01DC  7E          	ld	a,(hl)
1107  01DD  4F          	ld	c,a
1108  01DE  D6 08       	sub	a,0x08
1109  01E0  28 05       	jr	Z,l_player_collition_00109
1110  01E2  79          	ld	a,c
1111  01E3  D6 0C       	sub	a,0x0c
1112  01E5  20 0C       	jr	NZ,l_player_collition_00110
1113  01E7              l_player_collition_00109:
1114  01E7  2A 00 00    	ld	hl,(_enemies)
1115  01EA  26 50       	ld	h,0x50
1116  01EC  E5          	push	hl
1117  01ED  CD 78 0F    	call	_player_coin
1118  01F0  F1          	pop	af
1119  01F1  18 06       	jr	l_player_collition_00120
1120  01F3              l_player_collition_00110:
1121  01F3  21 00 00    	ld	hl,_ay_effect_18
1122  01F6  CD 00 00    	call	_ay_fx_play
1123  01F9              l_player_collition_00120:
1124  01F9  21 00 00    	ld	hl,_enemies
1125  01FC  7E          	ld	a,(hl)
1126  01FD  3C          	inc	a
1127  01FE  77          	ld	(hl),a
1128  01FF  D6 06       	sub	a,0x06
1129  0201  38 AE       	jr	C,l_player_collition_00119
1130  0203  CD 00 00    	call	_game_score_osd
1131  0206  2E 00       	ld	l,0x00
1132  0208              l_player_collition_00121:
1133  0208  C9          	ret
1134  0209              ;	---------------------------------
1135  0209              ; Function player_collition_check
1136  0209              ; ---------------------------------
1137  0209              _player_collition_check:
1138  0209  CD 00 00    	call	___sdcc_enter_ix
1139  020C  3B          	dec	sp
1140  020D  3A 00 00    	ld	a,(_enemies)
1141  0210  C6 00       	add	a,+((_class) & 0xFF)
1142  0212  4F          	ld	c,a
1143  0213  3E 00       	ld	a,+((_class) / 256)
1144  0215  CE 00       	adc	a,0x00
1145  0217  47          	ld	b,a
1146  0218  0A          	ld	a,(bc)
1147  0219  B7          	or	a,a
1148  021A  20 04       	jr	NZ,l_player_collition_check_00102
1149  021C  6F          	ld	l,a
1150  021D  C3 7A 03    	jp	l_player_collition_check_00125
1151  0220              l_player_collition_check_00102:
1152  0220  3A 00 00    	ld	a,(_enemies)
1153  0223  C6 00       	add	a,+((_state) & 0xFF)
1154  0225  4F          	ld	c,a
1155  0226  3E 00       	ld	a,+((_state) / 256)
1156  0228  CE 00       	adc	a,0x00
1157  022A  47          	ld	b,a
1158  022B  0A          	ld	a,(bc)
1159  022C  CB 6F       	bit	5, a
1160  022E  28 05       	jr	Z,l_player_collition_check_00104
1161  0230  2E 00       	ld	l,0x00
1162  0232  C3 7A 03    	jp	l_player_collition_check_00125
1163  0235              l_player_collition_check_00104:
1164  0235  11 00 00    	ld	de,_lin+0
1165  0238  7B          	ld	a,e
1166  0239  21 00 00    	ld	hl,_enemies
1167  023C  86          	add	a, (hl)
1168  023D  4F          	ld	c,a
1169  023E  7A          	ld	a,d
1170  023F  CE 00       	adc	a,0x00
1171  0241  47          	ld	b,a
1172  0242  0A          	ld	a,(bc)
1173  0243  4F          	ld	c,a
1174  0244  06 00       	ld	b,0x00
1175  0246  7B          	ld	a,e
1176  0247  21 00 00    	ld	hl,_sprite
1177  024A  86          	add	a, (hl)
1178  024B  5F          	ld	e,a
1179  024C  7A          	ld	a,d
1180  024D  CE 00       	adc	a,0x00
1181  024F  57          	ld	d,a
1182  0250  1A          	ld	a,(de)
1183  0251  5F          	ld	e,a
1184  0252  16 00       	ld	d,0x00
1185  0254  79          	ld	a,c
1186  0255  93          	sub	a, e
1187  0256  6F          	ld	l,a
1188  0257  78          	ld	a,b
1189  0258  9A          	sbc	a, d
1190  0259  67          	ld	h,a
1191  025A  CD 00 00    	call	_abs_fastcall
1192  025D  22 00 00    	ld	(_tmp_ui),hl
1193  0260  3A 00 00    	ld	a,(_sprite)
1194  0263  C6 00       	add	a,+((_state) & 0xFF)
1195  0265  4F          	ld	c,a
1196  0266  3E 00       	ld	a,+((_state) / 256)
1197  0268  CE 00       	adc	a,0x00
1198  026A  47          	ld	b,a
1199  026B  0A          	ld	a,(bc)
1200  026C  CB 47       	bit	0, a
1201  026E  20 04       	jr	NZ,l_player_collition_check_00109
1202  0270  CB 4F       	bit	1, a
1203  0272  28 11       	jr	Z,l_player_collition_check_00110
1204  0274              l_player_collition_check_00109:
1205  0274  3E 10       	ld	a,0x10
1206  0276  21 00 00    	ld	hl,_tmp_ui
1207  0279  BE          	cp	a, (hl)
1208  027A  3E 00       	ld	a,0x00
1209  027C  23          	inc	hl
1210  027D  9E          	sbc	a, (hl)
1211  027E  30 16       	jr	NC,l_player_collition_check_00111
1212  0280  2E 00       	ld	l,0x00
1213  0282  C3 7A 03    	jp	l_player_collition_check_00125
1214  0285              l_player_collition_check_00110:
1215  0285  3E 0E       	ld	a,0x0e
1216  0287  21 00 00    	ld	hl,_tmp_ui
1217  028A  BE          	cp	a, (hl)
1218  028B  3E 00       	ld	a,0x00
1219  028D  23          	inc	hl
1220  028E  9E          	sbc	a, (hl)
1221  028F  30 05       	jr	NC,l_player_collition_check_00111
1222  0291  2E 00       	ld	l,0x00
1223  0293  C3 7A 03    	jp	l_player_collition_check_00125
1224  0296              l_player_collition_check_00111:
1225  0296  2A 00 00    	ld	hl,(_enemies)
1226  0299  26 00       	ld	h,0x00
1227  029B  01 00 00    	ld	bc,_col
1228  029E  09          	add	hl,bc
1229  029F  4E          	ld	c,(hl)
1230  02A0  06 00       	ld	b,0x00
1231  02A2  2A 00 00    	ld	hl,(_sprite)
1232  02A5  60          	ld	h,b
1233  02A6  11 00 00    	ld	de,_col
1234  02A9  19          	add	hl,de
1235  02AA  5E          	ld	e, (hl)
1236  02AB  16 00       	ld	d,0x00
1237  02AD  79          	ld	a,c
1238  02AE  93          	sub	a, e
1239  02AF  6F          	ld	l,a
1240  02B0  78          	ld	a,b
1241  02B1  9A          	sbc	a, d
1242  02B2  67          	ld	h,a
1243  02B3  CD 00 00    	call	_abs_fastcall
1244  02B6  22 00 00    	ld	(_tmp_ui),hl
1245  02B9  2A 00 00    	ld	hl,(_enemies)
1246  02BC  26 00       	ld	h,0x00
1247  02BE  01 00 00    	ld	bc,_col
1248  02C1  09          	add	hl,bc
1249  02C2  7E          	ld	a,(hl)
1250  02C3  4F          	ld	c,a
1251  02C4  87          	add	a, a
1252  02C5  81          	add	a, c
1253  02C6  32 00 00    	ld	(_tmp0),a
1254  02C9  4F          	ld	c,a
1255  02CA  2A 00 00    	ld	hl,(_sprite)
1256  02CD  26 00       	ld	h,0x00
1257  02CF  11 00 00    	ld	de,_col
1258  02D2  19          	add	hl,de
1259  02D3  7E          	ld	a,(hl)
1260  02D4  5F          	ld	e,a
1261  02D5  87          	add	a, a
1262  02D6  83          	add	a, e
1263  02D7  32 00 00    	ld	(_tmp1),a
1264  02DA  47          	ld	b,a
1265  02DB  3E 02       	ld	a,0x02
1266  02DD  21 00 00    	ld	hl,_tmp_ui
1267  02E0  BE          	cp	a, (hl)
1268  02E1  3E 00       	ld	a,0x00
1269  02E3  23          	inc	hl
1270  02E4  9E          	sbc	a, (hl)
1271  02E5  30 05       	jr	NC,l_player_collition_check_00114
1272  02E7  2E 00       	ld	l,0x00
1273  02E9  C3 7A 03    	jp	l_player_collition_check_00125
1274  02EC              l_player_collition_check_00114:
1275  02EC  2A 00 00    	ld	hl,(_enemies)
1276  02EF  26 00       	ld	h,0x00
1277  02F1  11 00 00    	ld	de,_state
1278  02F4  19          	add	hl,de
1279  02F5  7E          	ld	a,(hl)
1280  02F6  DD 77 FF    	ld	(ix-1),a
1281  02F9  CB 57       	bit	2,a
1282  02FB  28 0E       	jr	Z,l_player_collition_check_00116
1283  02FD  2A 00 00    	ld	hl,(_enemies)
1284  0300  26 00       	ld	h,0x00
1285  0302  11 00 00    	ld	de,_colint
1286  0305  19          	add	hl,de
1287  0306  7E          	ld	a,(hl)
1288  0307  81          	add	a,c
1289  0308  32 00 00    	ld	(_tmp0),a
1290  030B              l_player_collition_check_00116:
1291  030B  DD CB FF 5E 	bit	3,(ix-1)
1292  030F  28 0F       	jr	Z,l_player_collition_check_00118
1293  0311  2A 00 00    	ld	hl,(_enemies)
1294  0314  26 00       	ld	h,0x00
1295  0316  11 00 00    	ld	de,_colint
1296  0319  19          	add	hl,de
1297  031A  5E          	ld	e, (hl)
1298  031B  79          	ld	a,c
1299  031C  93          	sub	a, e
1300  031D  32 00 00    	ld	(_tmp0),a
1301  0320              l_player_collition_check_00118:
1302  0320  2A 00 00    	ld	hl,(_sprite)
1303  0323  26 00       	ld	h,0x00
1304  0325  11 00 00    	ld	de,_state
1305  0328  19          	add	hl,de
1306  0329  7E          	ld	a,(hl)
1307  032A  4F          	ld	c,a
1308  032B  CB 57       	bit	2,a
1309  032D  28 0E       	jr	Z,l_player_collition_check_00120
1310  032F  2A 00 00    	ld	hl,(_sprite)
1311  0332  26 00       	ld	h,0x00
1312  0334  11 00 00    	ld	de,_colint
1313  0337  19          	add	hl,de
1314  0338  7E          	ld	a,(hl)
1315  0339  80          	add	a,b
1316  033A  32 00 00    	ld	(_tmp1),a
1317  033D              l_player_collition_check_00120:
1318  033D  CB 59       	bit	3, c
1319  033F  28 0F       	jr	Z,l_player_collition_check_00122
1320  0341  2A 00 00    	ld	hl,(_sprite)
1321  0344  26 00       	ld	h,0x00
1322  0346  11 00 00    	ld	de,_colint
1323  0349  19          	add	hl,de
1324  034A  4E          	ld	c, (hl)
1325  034B  78          	ld	a,b
1326  034C  91          	sub	a, c
1327  034D  32 00 00    	ld	(_tmp1),a
1328  0350              l_player_collition_check_00122:
1329  0350  3A 00 00    	ld	a,(_tmp0)
1330  0353  4F          	ld	c,a
1331  0354  06 00       	ld	b,0x00
1332  0356  3A 00 00    	ld	a,(_tmp1)
1333  0359  5F          	ld	e,a
1334  035A  16 00       	ld	d,0x00
1335  035C  79          	ld	a,c
1336  035D  93          	sub	a, e
1337  035E  6F          	ld	l,a
1338  035F  78          	ld	a,b
1339  0360  9A          	sbc	a, d
1340  0361  67          	ld	h,a
1341  0362  CD 00 00    	call	_abs_fastcall
1342  0365  22 00 00    	ld	(_tmp_ui),hl
1343  0368  3E 04       	ld	a,0x04
1344  036A  21 00 00    	ld	hl,_tmp_ui
1345  036D  BE          	cp	a, (hl)
1346  036E  3E 00       	ld	a,0x00
1347  0370  23          	inc	hl
1348  0371  9E          	sbc	a, (hl)
1349  0372  30 04       	jr	NC,l_player_collition_check_00124
1350  0374  2E 00       	ld	l,0x00
1351  0376  18 02       	jr	l_player_collition_check_00125
1352  0378              l_player_collition_check_00124:
1353  0378  2E 01       	ld	l,0x01
1354  037A              l_player_collition_check_00125:
1355  037A  33          	inc	sp
1356  037B  DD E1       	pop	ix
1357  037D  C9          	ret
1358  037E              ;	---------------------------------
1359  037E              ; Function player_kill
1360  037E              ; ---------------------------------
1361  037E              _player_kill:
1362  037E  01 00 00    	ld	bc,_state+0
1363  0381  2A 00 00    	ld	hl,(_sprite)
1364  0384  26 00       	ld	h,0x00
1365  0386  09          	add	hl,bc
1366  0387  CB 6E       	bit	5,(hl)
1367  0389  C2 5F 04    	jp	NZ,l_player_kill_00109
1368  038C  C5          	push	bc
1369  038D  CD 00 00    	call	_sound_hit_brick
1370  0390  C1          	pop	bc
1371  0391  79          	ld	a,c
1372  0392  21 00 00    	ld	hl,_sprite
1373  0395  86          	add	a, (hl)
1374  0396  5F          	ld	e,a
1375  0397  78          	ld	a,b
1376  0398  CE 00       	adc	a,0x00
1377  039A  57          	ld	d,a
1378  039B  1A          	ld	a,(de)
1379  039C  CB EF       	set	5, a
1380  039E  12          	ld	(de),a
1381  039F  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1382  03A1  86          	add	a, (hl)
1383  03A2  5F          	ld	e,a
1384  03A3  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1385  03A5  CE 00       	adc	a,0x00
1386  03A7  57          	ld	d,a
1387  03A8  3E 03       	ld	a,0x03
1388  03AA  12          	ld	(de),a
1389  03AB  79          	ld	a,c
1390  03AC  86          	add	a, (hl)
1391  03AD  4F          	ld	c,a
1392  03AE  78          	ld	a,b
1393  03AF  CE 00       	adc	a,0x00
1394  03B1  47          	ld	b,a
1395  03B2  0A          	ld	a,(bc)
1396  03B3  CB 57       	bit	2, a
1397  03B5  28 13       	jr	Z,l_player_kill_00102
1398  03B7  3A 00 00    	ld	a,(_sprite)
1399  03BA  C6 00       	add	a,+((_tile) & 0xFF)
1400  03BC  4F          	ld	c,a
1401  03BD  3E 00       	ld	a,+((_tile) / 256)
1402  03BF  CE 00       	adc	a,0x00
1403  03C1  47          	ld	b,a
1404  03C2  3A 00 00    	ld	a,(_tile_offset)
1405  03C5  C6 0B       	add	a,0x0b
1406  03C7  02          	ld	(bc),a
1407  03C8  18 11       	jr	l_player_kill_00103
1408  03CA              l_player_kill_00102:
1409  03CA  3A 00 00    	ld	a,(_sprite)
1410  03CD  C6 00       	add	a,+((_tile) & 0xFF)
1411  03CF  4F          	ld	c,a
1412  03D0  3E 00       	ld	a,+((_tile) / 256)
1413  03D2  CE 00       	adc	a,0x00
1414  03D4  47          	ld	b,a
1415  03D5  3A 00 00    	ld	a,(_tile_offset)
1416  03D8  C6 17       	add	a,0x17
1417  03DA  02          	ld	(bc),a
1418  03DB              l_player_kill_00103:
1419  03DB  CD 80 0E    	call	_player_hit_brick_clear
1420  03DE  3E 00       	ld	a,+((_col) & 0xFF)
1421  03E0  21 00 00    	ld	hl,_sprite
1422  03E3  86          	add	a, (hl)
1423  03E4  4F          	ld	c,a
1424  03E5  3E 00       	ld	a,+((_col) / 256)
1425  03E7  CE 00       	adc	a,0x00
1426  03E9  47          	ld	b,a
1427  03EA  0A          	ld	a,(bc)
1428  03EB  4F          	ld	c,a
1429  03EC  3E 00       	ld	a,+((_lin) & 0xFF)
1430  03EE  86          	add	a, (hl)
1431  03EF  5F          	ld	e,a
1432  03F0  3E 00       	ld	a,+((_lin) / 256)
1433  03F2  CE 00       	adc	a,0x00
1434  03F4  57          	ld	d,a
1435  03F5  1A          	ld	a,(de)
1436  03F6  47          	ld	b,a
1437  03F7  3E 00       	ld	a,+((_tile) & 0xFF)
1438  03F9  86          	add	a, (hl)
1439  03FA  5F          	ld	e,a
1440  03FB  3E 00       	ld	a,+((_tile) / 256)
1441  03FD  CE 00       	adc	a,0x00
1442  03FF  57          	ld	d,a
1443  0400  1A          	ld	a,(de)
1444  0401  57          	ld	d,a
1445  0402  79          	ld	a,c
1446  0403  F5          	push	af
1447  0404  33          	inc	sp
1448  0405  4A          	ld	c, d
1449  0406  7E          	ld	a,(hl)
1450  0407  C5          	push	bc
1451  0408  F5          	push	af
1452  0409  33          	inc	sp
1453  040A  CD 00 00    	call	_NIRVANAP_spriteT_callee
1454  040D  01 00 00    	ld	bc,_spr_timer+0
1455  0410  2A 00 00    	ld	hl,(_sprite)
1456  0413  26 00       	ld	h,0x00
1457  0415  29          	add	hl, hl
1458  0416  09          	add	hl,bc
1459  0417  ED 5B 00 00 	ld	de,(_curr_time)
1460  041B  73          	ld	(hl),e
1461  041C  23          	inc	hl
1462  041D  72          	ld	(hl),d
1463  041E  3A 00 00    	ld	a,(_sprite)
1464  0421  D6 07       	sub	a,0x07
1465  0423  20 1E       	jr	NZ,l_player_kill_00105
1466  0425  01 00 00    	ld	bc,_state_a+0
1467  0428  79          	ld	a,c
1468  0429  21 00 00    	ld	hl,_sprite
1469  042C  86          	add	a, (hl)
1470  042D  5F          	ld	e,a
1471  042E  78          	ld	a,b
1472  042F  CE 00       	adc	a,0x00
1473  0431  57          	ld	d,a
1474  0432  1A          	ld	a,(de)
1475  0433  CB DF       	set	3, a
1476  0435  12          	ld	(de),a
1477  0436  79          	ld	a,c
1478  0437  86          	add	a, (hl)
1479  0438  4F          	ld	c,a
1480  0439  78          	ld	a,b
1481  043A  CE 00       	adc	a,0x00
1482  043C  47          	ld	b,a
1483  043D  0A          	ld	a,(bc)
1484  043E  E6 EF       	and	a,0xef
1485  0440  02          	ld	(bc),a
1486  0441  18 1C       	jr	l_player_kill_00109
1487  0443              l_player_kill_00105:
1488  0443  01 00 00    	ld	bc,_state_a+0
1489  0446  79          	ld	a,c
1490  0447  21 00 00    	ld	hl,_sprite
1491  044A  86          	add	a, (hl)
1492  044B  5F          	ld	e,a
1493  044C  78          	ld	a,b
1494  044D  CE 00       	adc	a,0x00
1495  044F  57          	ld	d,a
1496  0450  1A          	ld	a,(de)
1497  0451  CB E7       	set	4, a
1498  0453  12          	ld	(de),a
1499  0454  79          	ld	a,c
1500  0455  86          	add	a, (hl)
1501  0456  4F          	ld	c,a
1502  0457  78          	ld	a,b
1503  0458  CE 00       	adc	a,0x00
1504  045A  47          	ld	b,a
1505  045B  0A          	ld	a,(bc)
1506  045C  E6 F7       	and	a,0xf7
1507  045E  02          	ld	(bc),a
1508  045F              l_player_kill_00109:
1509  045F  C9          	ret
1510  0460              ;	---------------------------------
1511  0460              ; Function player_restart
1512  0460              ; ---------------------------------
1513  0460              _player_restart:
1514  0460  CD 00 00    	call	___sdcc_enter_ix
1515  0463  21 00 00    	ld	hl,_ay_effect_15
1516  0466  CD 00 00    	call	_ay_fx_play
1517  0469  DD 7E 04    	ld	a,(ix+4)
1518  046C  D6 07       	sub	a,0x07
1519  046E  20 19       	jr	NZ,l_player_restart_00102
1520  0470  21 0E 03    	ld	hl,0x030e
1521  0473  E5          	push	hl
1522  0474  21 07 00    	ld	hl,0x0007
1523  0477  E5          	push	hl
1524  0478  CD 00 00    	call	_player_init
1525  047B  F1          	pop	af
1526  047C  21 10 0E    	ld	hl,0x0e10
1527  047F  E3          	ex	(sp),hl
1528  0480  3E 84       	ld	a,0x84
1529  0482  F5          	push	af
1530  0483  33          	inc	sp
1531  0484  CD 00 00    	call	_NIRVANAP_drawT_callee
1532  0487  18 17       	jr	l_player_restart_00103
1533  0489              l_player_restart_00102:
1534  0489  21 10 27    	ld	hl,0x2710
1535  048C  E5          	push	hl
1536  048D  21 06 00    	ld	hl,0x0006
1537  0490  E5          	push	hl
1538  0491  CD 00 00    	call	_player_init
1539  0494  F1          	pop	af
1540  0495  21 10 10    	ld	hl,0x1010
1541  0498  E3          	ex	(sp),hl
1542  0499  3E 84       	ld	a,0x84
1543  049B  F5          	push	af
1544  049C  33          	inc	sp
1545  049D  CD 00 00    	call	_NIRVANAP_drawT_callee
1546  04A0              l_player_restart_00103:
1547  04A0  3E 00       	ld	a,+((_state) & 0xFF)
1548  04A2  DD 86 04    	add	a,(ix+4)
1549  04A5  4F          	ld	c,a
1550  04A6  3E 00       	ld	a,+((_state) / 256)
1551  04A8  CE 00       	adc	a,0x00
1552  04AA  47          	ld	b,a
1553  04AB  0A          	ld	a,(bc)
1554  04AC  CB E7       	set	4, a
1555  04AE  02          	ld	(bc),a
1556  04AF  3E 00       	ld	a,+((_state_a) & 0xFF)
1557  04B1  DD 86 04    	add	a,(ix+4)
1558  04B4  4F          	ld	c,a
1559  04B5  3E 00       	ld	a,+((_state_a) / 256)
1560  04B7  CE 00       	adc	a,0x00
1561  04B9  47          	ld	b,a
1562  04BA  0A          	ld	a,(bc)
1563  04BB  CB C7       	set	0, a
1564  04BD  02          	ld	(bc),a
1565  04BE  01 00 00    	ld	bc,_spr_timer+0
1566  04C1  DD 6E 04    	ld	l,(ix+4)
1567  04C4  26 00       	ld	h,0x00
1568  04C6  29          	add	hl, hl
1569  04C7  09          	add	hl,bc
1570  04C8  ED 5B 00 00 	ld	de,(_curr_time)
1571  04CC  73          	ld	(hl),e
1572  04CD  23          	inc	hl
1573  04CE  72          	ld	(hl),d
1574  04CF  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1575  04D1  DD 86 04    	add	a,(ix+4)
1576  04D4  4F          	ld	c,a
1577  04D5  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1578  04D7  CE 00       	adc	a,0x00
1579  04D9  47          	ld	b,a
1580  04DA  3E 08       	ld	a,0x08
1581  04DC  02          	ld	(bc),a
1582  04DD  DD E1       	pop	ix
1583  04DF  C9          	ret
1584  04E0              ;	---------------------------------
1585  04E0              ; Function player_lost_life
1586  04E0              ; ---------------------------------
1587  04E0              _player_lost_life:
1588  04E0  CD 00 00    	call	_sound_hit_enemy
1589  04E3  01 00 00    	ld	bc,_game_lives+0
1590  04E6  79          	ld	a,c
1591  04E7  21 00 00    	ld	hl,_index_player
1592  04EA  86          	add	a, (hl)
1593  04EB  5F          	ld	e,a
1594  04EC  78          	ld	a,b
1595  04ED  CE 00       	adc	a,0x00
1596  04EF  57          	ld	d,a
1597  04F0  1A          	ld	a,(de)
1598  04F1  C6 FF       	add	a,0xff
1599  04F3  12          	ld	(de),a
1600  04F4  79          	ld	a,c
1601  04F5  86          	add	a, (hl)
1602  04F6  5F          	ld	e,a
1603  04F7  78          	ld	a,b
1604  04F8  CE 00       	adc	a,0x00
1605  04FA  57          	ld	d,a
1606  04FB  1A          	ld	a,(de)
1607  04FC  B7          	or	a, a
1608  04FD  20 13       	jr	NZ,l_player_lost_life_00105
1609  04FF  0A          	ld	a,(bc)
1610  0500  B7          	or	a, a
1611  0501  20 0B       	jr	NZ,l_player_lost_life_00102
1612  0503  3A 01 00    	ld	a, (_game_lives + 1)
1613  0506  B7          	or	a, a
1614  0507  20 05       	jr	NZ,l_player_lost_life_00102
1615  0509  21 00 00    	ld	hl,_game_over
1616  050C  36 01       	ld	(hl),0x01
1617  050E              l_player_lost_life_00102:
1618  050E  2E 00       	ld	l,0x00
1619  0510  18 08       	jr	l_player_lost_life_00106
1620  0512              l_player_lost_life_00105:
1621  0512  CD 00 00    	call	_spr_check_over
1622  0515  CD 00 00    	call	_game_print_lives
1623  0518  2E 01       	ld	l,0x01
1624  051A              l_player_lost_life_00106:
1625  051A  C9          	ret
1626  051B              ;	---------------------------------
1627  051B              ; Function player_turn
1628  051B              ; ---------------------------------
1629  051B              _player_turn:
1630  051B  3A 00 00    	ld	a,(_sprite)
1631  051E  C6 00       	add	a,+((_class) & 0xFF)
1632  0520  4F          	ld	c,a
1633  0521  3E 00       	ld	a,+((_class) / 256)
1634  0523  CE 00       	adc	a,0x00
1635  0525  47          	ld	b,a
1636  0526  0A          	ld	a,(bc)
1637  0527  D6 10       	sub	a,0x10
1638  0529  20 53       	jr	NZ,l_player_turn_00110
1639  052B  3A 00 00    	ld	a,(_phase_left)
1640  052E  B7          	or	a, a
1641  052F  28 4D       	jr	Z,l_player_turn_00110
1642  0531  3A 00 00    	ld	a,(_index_player)
1643  0534  C6 00       	add	a,+((_game_lives) & 0xFF)
1644  0536  4F          	ld	c,a
1645  0537  3E 00       	ld	a,+((_game_lives) / 256)
1646  0539  CE 00       	adc	a,0x00
1647  053B  47          	ld	b,a
1648  053C  0A          	ld	a,(bc)
1649  053D  B7          	or	a, a
1650  053E  28 3E       	jr	Z,l_player_turn_00110
1651  0540  21 00 00    	ld	hl,_sprite
1652  0543  E5          	push	hl
1653  0544  CD 00 00    	call	_spr_chktime
1654  0547  F1          	pop	af
1655  0548  7D          	ld	a,l
1656  0549  B7          	or	a, a
1657  054A  28 32       	jr	Z,l_player_turn_00110
1658  054C  21 00 00    	ld	hl,_dirs
1659  054F  36 00       	ld	(hl),0x00
1660  0551  3A 00 00    	ld	a,(_sprite)
1661  0554  D6 07       	sub	a,0x07
1662  0556  20 11       	jr	NZ,l_player_turn_00102
1663  0558  21 00 00    	ld	hl,_k1
1664  055B  E5          	push	hl
1665  055C  2A 00 00    	ld	hl,(_joyfunc1)
1666  055F  CD 00 00    	call	___sdcc_call_hl
1667  0562  F1          	pop	af
1668  0563  7D          	ld	a,l
1669  0564  32 00 00    	ld	(_dirs),a
1670  0567  18 0F       	jr	l_player_turn_00103
1671  0569              l_player_turn_00102:
1672  0569  21 00 00    	ld	hl,_k1
1673  056C  E5          	push	hl
1674  056D  2A 00 00    	ld	hl,(_joyfunc2)
1675  0570  CD 00 00    	call	___sdcc_call_hl
1676  0573  F1          	pop	af
1677  0574  7D          	ld	a,l
1678  0575  32 00 00    	ld	(_dirs),a
1679  0578              l_player_turn_00103:
1680  0578  CD 7F 05    	call	_player_move
1681  057B  CD 78 01    	call	_player_collition
1682  057E              l_player_turn_00110:
1683  057E  C9          	ret
1684  057F              ;	---------------------------------
1685  057F              ; Function player_move
1686  057F              ; ---------------------------------
1687  057F              _player_move:
1688  057F  CD 00 00    	call	___sdcc_enter_ix
1689  0582  F5          	push	af
1690  0583  3B          	dec	sp
1691  0584  3A 00 00    	ld	a,(_sprite)
1692  0587  C6 00       	add	a,+((_lin) & 0xFF)
1693  0589  4F          	ld	c,a
1694  058A  3E 00       	ld	a,+((_lin) / 256)
1695  058C  CE 00       	adc	a,0x00
1696  058E  47          	ld	b,a
1697  058F  0A          	ld	a,(bc)
1698  0590  DD 77 FF    	ld	(ix-1),a
1699  0593  32 00 00    	ld	(_s_lin0),a
1700  0596  3A 00 00    	ld	a,(_sprite)
1701  0599  C6 00       	add	a,+((_col) & 0xFF)
1702  059B  4F          	ld	c,a
1703  059C  3E 00       	ld	a,+((_col) / 256)
1704  059E  CE 00       	adc	a,0x00
1705  05A0  47          	ld	b,a
1706  05A1  0A          	ld	a,(bc)
1707  05A2  32 00 00    	ld	(_s_col0),a
1708  05A5  3E 00       	ld	a,+((_tile) & 0xFF)
1709  05A7  21 00 00    	ld	hl,_sprite
1710  05AA  86          	add	a, (hl)
1711  05AB  DD 77 FD    	ld	(ix-3),a
1712  05AE  3E 00       	ld	a,+((_tile) / 256)
1713  05B0  CE 00       	adc	a,0x00
1714  05B2  DD 77 FE    	ld	(ix-2),a
1715  05B5  E1          	pop	hl
1716  05B6  4E          	ld	c,(hl)
1717  05B7  E5          	push	hl
1718  05B8  2A 00 00    	ld	hl,(_sprite)
1719  05BB  26 00       	ld	h,0x00
1720  05BD  11 00 00    	ld	de,_colint
1721  05C0  19          	add	hl,de
1722  05C1  7E          	ld	a,(hl)
1723  05C2  81          	add	a,c
1724  05C3  32 00 00    	ld	(_s_tile0),a
1725  05C6  3A 00 00    	ld	a,(_sprite)
1726  05C9  C6 00       	add	a,+((_state) & 0xFF)
1727  05CB  4F          	ld	c,a
1728  05CC  3E 00       	ld	a,+((_state) / 256)
1729  05CE  CE 00       	adc	a,0x00
1730  05D0  47          	ld	b,a
1731  05D1  0A          	ld	a,(bc)
1732  05D2  32 00 00    	ld	(_s_state),a
1733  05D5  E6 20       	and	a,0x20
1734  05D7  28 31       	jr	Z,l_player_move_00104
1735  05D9  3A 00 00    	ld	a,(_tile_offset)
1736  05DC  C6 0A       	add	a,0x0a
1737  05DE  E1          	pop	hl
1738  05DF  E5          	push	hl
1739  05E0  77          	ld	(hl),a
1740  05E1  01 00 00    	ld	bc,_spr_timer+0
1741  05E4  2A 00 00    	ld	hl,(_sprite)
1742  05E7  26 00       	ld	h,0x00
1743  05E9  29          	add	hl, hl
1744  05EA  09          	add	hl,bc
1745  05EB  4E          	ld	c,(hl)
1746  05EC  23          	inc	hl
1747  05ED  46          	ld	b,(hl)
1748  05EE  21 28 00    	ld	hl,0x0028
1749  05F1  E5          	push	hl
1750  05F2  C5          	push	bc
1751  05F3  CD 00 00    	call	_game_check_time
1752  05F6  F1          	pop	af
1753  05F7  F1          	pop	af
1754  05F8  7D          	ld	a,l
1755  05F9  B7          	or	a, a
1756  05FA  28 09       	jr	Z,l_player_move_00102
1757  05FC  3A 00 00    	ld	a,(_sprite)
1758  05FF  F5          	push	af
1759  0600  33          	inc	sp
1760  0601  CD 00 00    	call	_spr_killed
1761  0604  33          	inc	sp
1762  0605              l_player_move_00102:
1763  0605  2E 00       	ld	l,0x00
1764  0607  C3 A5 09    	jp	l_player_move_00160
1765  060A              l_player_move_00104:
1766  060A  3A 00 00    	ld	a,(_s_state)
1767  060D  E6 10       	and	a,0x10
1768  060F  CA 47 07    	jp	Z,l_player_move_00117
1769  0612  DD 7E FF    	ld	a,(ix-1)
1770  0615  D6 10       	sub	a,0x10
1771  0617  30 14       	jr	NC,l_player_move_00108
1772  0619  3A 00 00    	ld	a,(_sprite)
1773  061C  C6 00       	add	a,+((_state_a) & 0xFF)
1774  061E  4F          	ld	c,a
1775  061F  3E 00       	ld	a,+((_state_a) / 256)
1776  0621  CE 00       	adc	a,0x00
1777  0623  47          	ld	b,a
1778  0624  0A          	ld	a,(bc)
1779  0625  E6 FE       	and	a,0xfe
1780  0627  02          	ld	(bc),a
1781  0628  CD 00 00    	call	_spr_move_down
1782  062B  18 4C       	jr	l_player_move_00109
1783  062D              l_player_move_00108:
1784  062D  CD 5A 01    	call	_player_check_input
1785  0630  7D          	ld	a,l
1786  0631  B7          	or	a, a
1787  0632  28 45       	jr	Z,l_player_move_00109
1788  0634  2A 00 00    	ld	hl,(_sprite)
1789  0637  26 00       	ld	h,0x00
1790  0639  01 00 00    	ld	bc,_state
1791  063C  09          	add	hl,bc
1792  063D  7E          	ld	a,(hl)
1793  063E  E6 EF       	and	a,0xef
1794  0640  77          	ld	(hl),a
1795  0641  2A 00 00    	ld	hl,(_sprite)
1796  0644  26 00       	ld	h,0x00
1797  0646  01 00 00    	ld	bc,_state_a
1798  0649  09          	add	hl,bc
1799  064A  7E          	ld	a,(hl)
1800  064B  E6 FE       	and	a,0xfe
1801  064D  77          	ld	(hl),a
1802  064E  76          	halt
1803  064F  3A 00 00    	ld	a,(_s_col0)
1804  0652  F5          	push	af
1805  0653  33          	inc	sp
1806  0654  21 A9 10    	ld	hl,0x10a9
1807  0657  E5          	push	hl
1808  0658  CD 00 00    	call	_NIRVANAP_drawT_callee
1809  065B  3A 00 00    	ld	a,(_s_col0)
1810  065E  F5          	push	af
1811  065F  33          	inc	sp
1812  0660  21 A9 20    	ld	hl,0x20a9
1813  0663  E5          	push	hl
1814  0664  CD 00 00    	call	_NIRVANAP_drawT_callee
1815  0667  3A 00 00    	ld	a,(_sprite)
1816  066A  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1817  066C  4F          	ld	c,a
1818  066D  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1819  066F  CE 00       	adc	a,0x00
1820  0671  47          	ld	b,a
1821  0672  AF          	xor	a, a
1822  0673  02          	ld	(bc),a
1823  0674  2E 00       	ld	l,0x00
1824  0676  C3 A5 09    	jp	l_player_move_00160
1825  0679              l_player_move_00109:
1826  0679  CD 00 00    	call	_spr_redraw
1827  067C  ED 4B 00 00 	ld	bc,(_curr_time)
1828  0680  2A 00 00    	ld	hl,(_sprite)
1829  0683  26 00       	ld	h,0x00
1830  0685  29          	add	hl, hl
1831  0686  11 00 00    	ld	de,_spr_timer
1832  0689  19          	add	hl,de
1833  068A  5E          	ld	e,(hl)
1834  068B  23          	inc	hl
1835  068C  56          	ld	d,(hl)
1836  068D  69          	ld	l,c
1837  068E  60          	ld	h,b
1838  068F  AF          	xor	a,a
1839  0690  ED 52       	sbc	hl,de
1840  0692  22 00 00    	ld	(_tmp_ui),hl
1841  0695  21 00 00    	ld	hl,_tmp
1842  0698  36 00       	ld	(hl),0x00
1843  069A  3E 32       	ld	a,0x32
1844  069C  21 00 00    	ld	hl,_tmp_ui
1845  069F  BE          	cp	a, (hl)
1846  06A0  3E 00       	ld	a,0x00
1847  06A2  23          	inc	hl
1848  06A3  9E          	sbc	a, (hl)
1849  06A4  30 05       	jr	NC,l_player_move_00111
1850  06A6  21 00 00    	ld	hl,_tmp
1851  06A9  36 01       	ld	(hl),0x01
1852  06AB              l_player_move_00111:
1853  06AB  3E 64       	ld	a,0x64
1854  06AD  21 00 00    	ld	hl,_tmp_ui
1855  06B0  BE          	cp	a, (hl)
1856  06B1  3E 00       	ld	a,0x00
1857  06B3  23          	inc	hl
1858  06B4  9E          	sbc	a, (hl)
1859  06B5  30 05       	jr	NC,l_player_move_00113
1860  06B7  21 00 00    	ld	hl,_tmp
1861  06BA  36 02       	ld	(hl),0x02
1862  06BC              l_player_move_00113:
1863  06BC  76          	halt
1864  06BD  3A 00 00    	ld	a,(_sprite)
1865  06C0  C6 00       	add	a,+((_lin) & 0xFF)
1866  06C2  4F          	ld	c,a
1867  06C3  3E 00       	ld	a,+((_lin) / 256)
1868  06C5  CE 00       	adc	a,0x00
1869  06C7  47          	ld	b,a
1870  06C8  0A          	ld	a,(bc)
1871  06C9  C6 10       	add	a,0x10
1872  06CB  57          	ld	d,a
1873  06CC  3A 00 00    	ld	a,(_tmp)
1874  06CF  C6 84       	add	a,0x84
1875  06D1  47          	ld	b,a
1876  06D2  3A 00 00    	ld	a,(_s_col0)
1877  06D5  5A          	ld	e,d
1878  06D6  57          	ld	d,a
1879  06D7  D5          	push	de
1880  06D8  C5          	push	bc
1881  06D9  33          	inc	sp
1882  06DA  CD 00 00    	call	_NIRVANAP_drawT_callee
1883  06DD  3E 96       	ld	a,0x96
1884  06DF  21 00 00    	ld	hl,_tmp_ui
1885  06E2  BE          	cp	a, (hl)
1886  06E3  3E 00       	ld	a,0x00
1887  06E5  23          	inc	hl
1888  06E6  9E          	sbc	a, (hl)
1889  06E7  30 59       	jr	NC,l_player_move_00115
1890  06E9  2A 00 00    	ld	hl,(_sprite)
1891  06EC  26 00       	ld	h,0x00
1892  06EE  01 00 00    	ld	bc,_lin
1893  06F1  09          	add	hl,bc
1894  06F2  4E          	ld	c, (hl)
1895  06F3  3A 00 00    	ld	a, (_s_col0)
1896  06F6  47          	ld	b,a
1897  06F7  C5          	push	bc
1898  06F8  3E A9       	ld	a,0xa9
1899  06FA  F5          	push	af
1900  06FB  33          	inc	sp
1901  06FC  CD 00 00    	call	_NIRVANAP_drawT_callee
1902  06FF  3A 00 00    	ld	a,(_sprite)
1903  0702  C6 00       	add	a,+((_lin) & 0xFF)
1904  0704  4F          	ld	c,a
1905  0705  3E 00       	ld	a,+((_lin) / 256)
1906  0707  CE 00       	adc	a,0x00
1907  0709  47          	ld	b,a
1908  070A  0A          	ld	a,(bc)
1909  070B  C6 10       	add	a,0x10
1910  070D  4F          	ld	c, a
1911  070E  3A 00 00    	ld	a, (_s_col0)
1912  0711  47          	ld	b,a
1913  0712  C5          	push	bc
1914  0713  3E A9       	ld	a,0xa9
1915  0715  F5          	push	af
1916  0716  33          	inc	sp
1917  0717  CD 00 00    	call	_NIRVANAP_drawT_callee
1918  071A  2A 00 00    	ld	hl,(_sprite)
1919  071D  26 00       	ld	h,0x00
1920  071F  01 00 00    	ld	bc,_state
1921  0722  09          	add	hl,bc
1922  0723  7E          	ld	a,(hl)
1923  0724  E6 EF       	and	a,0xef
1924  0726  77          	ld	(hl),a
1925  0727  3E 00       	ld	a,+((_state) & 0xFF)
1926  0729  21 00 00    	ld	hl,_sprite
1927  072C  86          	add	a, (hl)
1928  072D  4F          	ld	c,a
1929  072E  3E 00       	ld	a,+((_state) / 256)
1930  0730  CE 00       	adc	a,0x00
1931  0732  47          	ld	b,a
1932  0733  0A          	ld	a,(bc)
1933  0734  CB C7       	set	0, a
1934  0736  02          	ld	(bc),a
1935  0737  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1936  0739  86          	add	a, (hl)
1937  073A  4F          	ld	c,a
1938  073B  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1939  073D  CE 00       	adc	a,0x00
1940  073F  47          	ld	b,a
1941  0740  AF          	xor	a, a
1942  0741  02          	ld	(bc),a
1943  0742              l_player_move_00115:
1944  0742  2E 00       	ld	l,0x00
1945  0744  C3 A5 09    	jp	l_player_move_00160
1946  0747              l_player_move_00117:
1947  0747  3A 00 00    	ld	a,(_sprite)
1948  074A  C6 00       	add	a,+((_state_a) & 0xFF)
1949  074C  4F          	ld	c,a
1950  074D  3E 00       	ld	a,+((_state_a) / 256)
1951  074F  CE 00       	adc	a,0x00
1952  0751  47          	ld	b,a
1953  0752  0A          	ld	a,(bc)
1954  0753  0F          	rrca
1955  0754  30 1D       	jr	NC,l_player_move_00122
1956  0756  CD 5A 01    	call	_player_check_input
1957  0759  7D          	ld	a,l
1958  075A  B7          	or	a, a
1959  075B  28 11       	jr	Z,l_player_move_00119
1960  075D  3A 00 00    	ld	a,(_sprite)
1961  0760  C6 00       	add	a,+((_state_a) & 0xFF)
1962  0762  4F          	ld	c,a
1963  0763  3E 00       	ld	a,+((_state_a) / 256)
1964  0765  CE 00       	adc	a,0x00
1965  0767  47          	ld	b,a
1966  0768  0A          	ld	a,(bc)
1967  0769  E6 FE       	and	a,0xfe
1968  076B  02          	ld	(bc),a
1969  076C  18 05       	jr	l_player_move_00122
1970  076E              l_player_move_00119:
1971  076E  2E 00       	ld	l,0x00
1972  0770  C3 A5 09    	jp	l_player_move_00160
1973  0773              l_player_move_00122:
1974  0773  3A 00 00    	ld	a,(_sprite)
1975  0776  C6 00       	add	a,+((_state_a) & 0xFF)
1976  0778  4F          	ld	c,a
1977  0779  3E 00       	ld	a,+((_state_a) / 256)
1978  077B  CE 00       	adc	a,0x00
1979  077D  47          	ld	b,a
1980  077E  0A          	ld	a,(bc)
1981  077F  CB 57       	bit	2, a
1982  0781  28 58       	jr	Z,l_player_move_00126
1983  0783  01 00 00    	ld	bc,_spr_timer+0
1984  0786  2A 00 00    	ld	hl,(_sprite)
1985  0789  26 00       	ld	h,0x00
1986  078B  29          	add	hl, hl
1987  078C  09          	add	hl,bc
1988  078D  4E          	ld	c,(hl)
1989  078E  23          	inc	hl
1990  078F  46          	ld	b,(hl)
1991  0790  21 14 00    	ld	hl,0x0014
1992  0793  E5          	push	hl
1993  0794  C5          	push	bc
1994  0795  CD 00 00    	call	_game_check_time
1995  0798  F1          	pop	af
1996  0799  F1          	pop	af
1997  079A  7D          	ld	a,l
1998  079B  B7          	or	a, a
1999  079C  28 3D       	jr	Z,l_player_move_00126
2000  079E  2A 00 00    	ld	hl,(_sprite)
2001  07A1  26 00       	ld	h,0x00
2002  07A3  01 00 00    	ld	bc,_state_a
2003  07A6  09          	add	hl,bc
2004  07A7  7E          	ld	a,(hl)
2005  07A8  E6 FB       	and	a,0xfb
2006  07AA  77          	ld	(hl),a
2007  07AB  3E 00       	ld	a,+((_colint) & 0xFF)
2008  07AD  21 00 00    	ld	hl,_sprite
2009  07B0  86          	add	a, (hl)
2010  07B1  4F          	ld	c,a
2011  07B2  3E 00       	ld	a,+((_colint) / 256)
2012  07B4  CE 00       	adc	a,0x00
2013  07B6  47          	ld	b,a
2014  07B7  AF          	xor	a, a
2015  07B8  02          	ld	(bc),a
2016  07B9  3E 00       	ld	a,+((_tile) & 0xFF)
2017  07BB  86          	add	a, (hl)
2018  07BC  4F          	ld	c,a
2019  07BD  3E 00       	ld	a,+((_tile) / 256)
2020  07BF  CE 00       	adc	a,0x00
2021  07C1  47          	ld	b,a
2022  07C2  3A 00 00    	ld	a,(_tile_offset)
2023  07C5  5F          	ld	e,a
2024  07C6  16 00       	ld	d,0x00
2025  07C8  13          	inc	de
2026  07C9  13          	inc	de
2027  07CA  13          	inc	de
2028  07CB  2A 00 00    	ld	hl,(_sprite)
2029  07CE  C5          	push	bc
2030  07CF  26 0C       	ld	h,0x0c
2031  07D1  E5          	push	hl
2032  07D2  D5          	push	de
2033  07D3  CD 00 00    	call	_spr_tile_dir
2034  07D6  F1          	pop	af
2035  07D7  F1          	pop	af
2036  07D8  C1          	pop	bc
2037  07D9  7D          	ld	a, l
2038  07DA  02          	ld	(bc),a
2039  07DB              l_player_move_00126:
2040  07DB  3A 00 00    	ld	a,(_sprite)
2041  07DE  C6 00       	add	a,+((_state_a) & 0xFF)
2042  07E0  4F          	ld	c,a
2043  07E1  3E 00       	ld	a,+((_state_a) / 256)
2044  07E3  CE 00       	adc	a,0x00
2045  07E5  47          	ld	b,a
2046  07E6  0A          	ld	a,(bc)
2047  07E7  CB 6F       	bit	5, a
2048  07E9  28 2E       	jr	Z,l_player_move_00130
2049  07EB  01 00 00    	ld	bc,_spr_timer+0
2050  07EE  2A 00 00    	ld	hl,(_sprite)
2051  07F1  26 00       	ld	h,0x00
2052  07F3  29          	add	hl, hl
2053  07F4  09          	add	hl,bc
2054  07F5  4E          	ld	c,(hl)
2055  07F6  23          	inc	hl
2056  07F7  7E          	ld	a,(hl)
2057  07F8  47          	ld	b,a
2058  07F9  B1          	or	a,c
2059  07FA  28 1D       	jr	Z,l_player_move_00130
2060  07FC  21 08 00    	ld	hl,0x0008
2061  07FF  E5          	push	hl
2062  0800  C5          	push	bc
2063  0801  CD 00 00    	call	_game_check_time
2064  0804  F1          	pop	af
2065  0805  F1          	pop	af
2066  0806  7D          	ld	a,l
2067  0807  B7          	or	a, a
2068  0808  28 0F       	jr	Z,l_player_move_00130
2069  080A  3A 00 00    	ld	a,(_sprite)
2070  080D  C6 00       	add	a,+((_state_a) & 0xFF)
2071  080F  4F          	ld	c,a
2072  0810  3E 00       	ld	a,+((_state_a) / 256)
2073  0812  CE 00       	adc	a,0x00
2074  0814  47          	ld	b,a
2075  0815  0A          	ld	a,(bc)
2076  0816  E6 DF       	and	a,0xdf
2077  0818  02          	ld	(bc),a
2078  0819              l_player_move_00130:
2079  0819  CD AA 09    	call	_player_move_input
2080  081C  3A 00 00    	ld	a,(_sprite)
2081  081F  C6 00       	add	a,+((_state) & 0xFF)
2082  0821  4F          	ld	c,a
2083  0822  3E 00       	ld	a,+((_state) / 256)
2084  0824  CE 00       	adc	a,0x00
2085  0826  47          	ld	b,a
2086  0827  0A          	ld	a,(bc)
2087  0828  21 00 00    	ld	hl,_s_state
2088  082B  77          	ld	(hl),a
2089  082C  E6 01       	and	a,0x01
2090  082E  4F          	ld	c,a
2091  082F  B7          	or	a, a
2092  0830  20 6F       	jr	NZ,l_player_move_00155
2093  0832  7E          	ld	a,(hl)
2094  0833  E6 02       	and	a,0x02
2095  0835  20 6A       	jr	NZ,l_player_move_00155
2096  0837  3E 00       	ld	a,+((_col) & 0xFF)
2097  0839  21 00 00    	ld	hl,_sprite
2098  083C  86          	add	a, (hl)
2099  083D  4F          	ld	c,a
2100  083E  3E 00       	ld	a,+((_col) / 256)
2101  0840  CE 00       	adc	a,0x00
2102  0842  47          	ld	b,a
2103  0843  0A          	ld	a,(bc)
2104  0844  57          	ld	d,a
2105  0845  4E          	ld	c,(hl)
2106  0846  06 00       	ld	b,0x00
2107  0848  21 00 00    	ld	hl,_lin
2108  084B  09          	add	hl,bc
2109  084C  7E          	ld	a,(hl)
2110  084D  C6 10       	add	a,0x10
2111  084F  5F          	ld	e, a
2112  0850  D5          	push	de
2113  0851  CD 00 00    	call	_game_calc_index
2114  0854  F1          	pop	af
2115  0855  22 00 00    	ld	(_index_d),hl
2116  0858  3A 00 00    	ld	a,(_s_lin0)
2117  085B  D6 98       	sub	a,0x98
2118  085D  20 06       	jr	NZ,l_player_move_00133
2119  085F  21 00 00    	ld	hl,0x0000
2120  0862  22 00 00    	ld	(_index_d),hl
2121  0865              l_player_move_00133:
2122  0865  21 01 00    	ld	hl,_index_d + 1
2123  0868  7E          	ld	a,(hl)
2124  0869  2B          	dec	hl
2125  086A  B6          	or	a,(hl)
2126  086B  28 2E       	jr	Z,l_player_move_00135
2127  086D  01 00 00    	ld	bc,_lvl_1+0
2128  0870  79          	ld	a,c
2129  0871  86          	add	a, (hl)
2130  0872  5F          	ld	e,a
2131  0873  78          	ld	a,b
2132  0874  23          	inc	hl
2133  0875  8E          	adc	a, (hl)
2134  0876  57          	ld	d,a
2135  0877  1A          	ld	a,(de)
2136  0878  D6 10       	sub	a,0x10
2137  087A  30 1F       	jr	NC,l_player_move_00135
2138  087C  56          	ld	d,(hl)
2139  087D  2B          	dec	hl
2140  087E  5E          	ld	e,(hl)
2141  087F  13          	inc	de
2142  0880  69          	ld	l, c
2143  0881  60          	ld	h, b
2144  0882  19          	add	hl,de
2145  0883  7E          	ld	a, (hl)
2146  0884  D6 10       	sub	a,0x10
2147  0886  30 13       	jr	NC,l_player_move_00135
2148  0888  3A 00 00    	ld	a,(_sprite)
2149  088B  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2150  088D  4F          	ld	c,a
2151  088E  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2152  0890  CE 00       	adc	a,0x00
2153  0892  47          	ld	b,a
2154  0893  3E 02       	ld	a,0x02
2155  0895  02          	ld	(bc),a
2156  0896  21 00 00    	ld	hl,_s_state
2157  0899  CB CE       	set	1, (hl)
2158  089B              l_player_move_00135:
2159  089B  CD 00 00    	call	_test_func
2160  089E  C3 73 09    	jp	l_player_move_00156
2161  08A1              l_player_move_00155:
2162  08A1  21 00 00    	ld	hl,_sprite_lin_inc_mul
2163  08A4  36 02       	ld	(hl),0x02
2164  08A6  2A 00 00    	ld	hl,(_index_player)
2165  08A9  26 00       	ld	h,0x00
2166  08AB  11 00 00    	ld	de,_player_jump_c
2167  08AE  19          	add	hl,de
2168  08AF  5E          	ld	e, (hl)
2169  08B0  3E 03       	ld	a,0x03
2170  08B2  93          	sub	a, e
2171  08B3  30 05       	jr	NC,l_player_move_00139
2172  08B5  21 00 00    	ld	hl,_sprite_lin_inc_mul
2173  08B8  36 01       	ld	(hl),0x01
2174  08BA              l_player_move_00139:
2175  08BA  3E 08       	ld	a,0x08
2176  08BC  93          	sub	a, e
2177  08BD  30 05       	jr	NC,l_player_move_00141
2178  08BF  21 00 00    	ld	hl,_sprite_lin_inc_mul
2179  08C2  36 00       	ld	(hl),0x00
2180  08C4              l_player_move_00141:
2181  08C4  3E 0C       	ld	a,0x0c
2182  08C6  93          	sub	a, e
2183  08C7  30 05       	jr	NC,l_player_move_00143
2184  08C9  21 00 00    	ld	hl,_sprite_lin_inc_mul
2185  08CC  36 01       	ld	(hl),0x01
2186  08CE              l_player_move_00143:
2187  08CE  3E 11       	ld	a,0x11
2188  08D0  93          	sub	a, e
2189  08D1  30 05       	jr	NC,l_player_move_00145
2190  08D3  21 00 00    	ld	hl,_sprite_lin_inc_mul
2191  08D6  36 02       	ld	(hl),0x02
2192  08D8              l_player_move_00145:
2193  08D8  79          	ld	a,c
2194  08D9  B7          	or	a, a
2195  08DA  28 0F       	jr	Z,l_player_move_00152
2196  08DC  7B          	ld	a,e
2197  08DD  D6 0A       	sub	a,0x0a
2198  08DF  30 05       	jr	NC,l_player_move_00147
2199  08E1  CD 00 00    	call	_spr_move_up
2200  08E4  18 77       	jr	l_player_move_00153
2201  08E6              l_player_move_00147:
2202  08E6  CD 00 00    	call	_spr_set_fall
2203  08E9  18 72       	jr	l_player_move_00153
2204  08EB              l_player_move_00152:
2205  08EB  CD 00 00    	call	_spr_move_down
2206  08EE  7D          	ld	a,l
2207  08EF  B7          	or	a, a
2208  08F0  28 6B       	jr	Z,l_player_move_00153
2209  08F2  21 00 00    	ld	hl,_s_state
2210  08F5  CB 8E       	res	1, (hl)
2211  08F7  3A 00 00    	ld	a,(_sprite)
2212  08FA  C6 00       	add	a,+((_state_a) & 0xFF)
2213  08FC  4F          	ld	c,a
2214  08FD  3E 00       	ld	a,+((_state_a) / 256)
2215  08FF  CE 00       	adc	a,0x00
2216  0901  47          	ld	b,a
2217  0902  0A          	ld	a,(bc)
2218  0903  E6 7F       	and	a,0x7f
2219  0905  02          	ld	(bc),a
2220  0906  3A 00 00    	ld	a,(_index_player)
2221  0909  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2222  090B  4F          	ld	c,a
2223  090C  3E 00       	ld	a,+((_player_jump_c) / 256)
2224  090E  CE 00       	adc	a,0x00
2225  0910  47          	ld	b,a
2226  0911  AF          	xor	a, a
2227  0912  02          	ld	(bc),a
2228  0913  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2229  0915  21 00 00    	ld	hl,_sprite
2230  0918  86          	add	a, (hl)
2231  0919  4F          	ld	c,a
2232  091A  3E 00       	ld	a,+((_jump_lin) / 256)
2233  091C  CE 00       	adc	a,0x00
2234  091E  47          	ld	b,a
2235  091F  AF          	xor	a, a
2236  0920  02          	ld	(bc),a
2237  0921  3E 00       	ld	a,+((_col) & 0xFF)
2238  0923  86          	add	a, (hl)
2239  0924  4F          	ld	c,a
2240  0925  3E 00       	ld	a,+((_col) / 256)
2241  0927  CE 00       	adc	a,0x00
2242  0929  47          	ld	b,a
2243  092A  0A          	ld	a,(bc)
2244  092B  57          	ld	d,a
2245  092C  4E          	ld	c,(hl)
2246  092D  06 00       	ld	b,0x00
2247  092F  21 00 00    	ld	hl,_lin
2248  0932  09          	add	hl,bc
2249  0933  5E          	ld	e, (hl)
2250  0934  D5          	push	de
2251  0935  CD FE 00    	call	_player_calc_slide
2252  0938  F1          	pop	af
2253  0939  3A 00 00    	ld	a,(_sprite)
2254  093C  C6 00       	add	a,+((_tile) & 0xFF)
2255  093E  4F          	ld	c,a
2256  093F  3E 00       	ld	a,+((_tile) / 256)
2257  0941  CE 00       	adc	a,0x00
2258  0943  47          	ld	b,a
2259  0944  3A 00 00    	ld	a,(_tile_offset)
2260  0947  5F          	ld	e,a
2261  0948  16 00       	ld	d,0x00
2262  094A  13          	inc	de
2263  094B  13          	inc	de
2264  094C  13          	inc	de
2265  094D  2A 00 00    	ld	hl,(_sprite)
2266  0950  C5          	push	bc
2267  0951  26 0C       	ld	h,0x0c
2268  0953  E5          	push	hl
2269  0954  D5          	push	de
2270  0955  CD 00 00    	call	_spr_tile_dir
2271  0958  F1          	pop	af
2272  0959  F1          	pop	af
2273  095A  C1          	pop	bc
2274  095B  7D          	ld	a, l
2275  095C  02          	ld	(bc),a
2276  095D              l_player_move_00153:
2277  095D  21 00 00    	ld	hl,_sprite_lin_inc_mul
2278  0960  36 00       	ld	(hl),0x00
2279  0962  3A 00 00    	ld	a,(_index_player)
2280  0965  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2281  0967  4F          	ld	c,a
2282  0968  3E 00       	ld	a,+((_player_jump_c) / 256)
2283  096A  CE 00       	adc	a,0x00
2284  096C  47          	ld	b,a
2285  096D  0A          	ld	a,(bc)
2286  096E  3C          	inc	a
2287  096F  02          	ld	(bc),a
2288  0970  CD 8F 0B    	call	_player_move_horizontal
2289  0973              l_player_move_00156:
2290  0973  2A 00 00    	ld	hl,(_sprite)
2291  0976  26 00       	ld	h,0x00
2292  0978  29          	add	hl, hl
2293  0979  11 00 00    	ld	de,_spr_timer
2294  097C  19          	add	hl,de
2295  097D  4E          	ld	c,(hl)
2296  097E  23          	inc	hl
2297  097F  46          	ld	b,(hl)
2298  0980  21 04 00    	ld	hl,0x0004
2299  0983  E5          	push	hl
2300  0984  C5          	push	bc
2301  0985  CD 00 00    	call	_game_check_time
2302  0988  F1          	pop	af
2303  0989  F1          	pop	af
2304  098A  7D          	ld	a,l
2305  098B  B7          	or	a, a
2306  098C  28 03       	jr	Z,l_player_move_00159
2307  098E  CD 80 0E    	call	_player_hit_brick_clear
2308  0991              l_player_move_00159:
2309  0991  CD 00 00    	call	_spr_redraw
2310  0994  3A 00 00    	ld	a,(_sprite)
2311  0997  C6 00       	add	a,+((_state) & 0xFF)
2312  0999  4F          	ld	c,a
2313  099A  3E 00       	ld	a,+((_state) / 256)
2314  099C  CE 00       	adc	a,0x00
2315  099E  47          	ld	b,a
2316  099F  3A 00 00    	ld	a,(_s_state)
2317  09A2  02          	ld	(bc),a
2318  09A3  2E 00       	ld	l,0x00
2319  09A5              l_player_move_00160:
2320  09A5  DD F9       	ld	sp, ix
2321  09A7  DD E1       	pop	ix
2322  09A9  C9          	ret
2323  09AA              ;	---------------------------------
2324  09AA              ; Function player_move_input
2325  09AA              ; ---------------------------------
2326  09AA              _player_move_input:
2327  09AA  CD 5A 01    	call	_player_check_input
2328  09AD  7D          	ld	a,l
2329  09AE  B7          	or	a, a
2330  09AF  CA 8C 0B    	jp	Z,l_player_move_input_00126
2331  09B2  3A 00 00    	ld	a,(_s_state)
2332  09B5  0F          	rrca
2333  09B6  DA 88 0B    	jp	C,l_player_move_input_00123
2334  09B9  3A 00 00    	ld	a,(_s_state)
2335  09BC  E6 02       	and	a,0x02
2336  09BE  C2 88 0B    	jp	NZ,l_player_move_input_00123
2337  09C1  2A FF FF    	ld	hl,(_s_col0 - 1)
2338  09C4  3A 00 00    	ld	a,(_s_lin0)
2339  09C7  6F          	ld	l,a
2340  09C8  E5          	push	hl
2341  09C9  CD FE 00    	call	_player_calc_slide
2342  09CC  F1          	pop	af
2343  09CD  3A 00 00    	ld	a,(_sprite)
2344  09D0  C6 00       	add	a,+((_state_a) & 0xFF)
2345  09D2  4F          	ld	c,a
2346  09D3  3E 00       	ld	a,+((_state_a) / 256)
2347  09D5  CE 00       	adc	a,0x00
2348  09D7  47          	ld	b,a
2349  09D8  0A          	ld	a,(bc)
2350  09D9  CB 6F       	bit	5, a
2351  09DB  28 1B       	jr	Z,l_player_move_input_00102
2352  09DD  01 00 00    	ld	bc,_spr_timer+0
2353  09E0  2A 00 00    	ld	hl,(_sprite)
2354  09E3  26 00       	ld	h,0x00
2355  09E5  29          	add	hl, hl
2356  09E6  09          	add	hl,bc
2357  09E7  4D          	ld	c,l
2358  09E8  44          	ld	b,h
2359  09E9  5E          	ld	e,(hl)
2360  09EA  23          	inc	hl
2361  09EB  7E          	ld	a, (hl)
2362  09EC  B3          	or	a,e
2363  09ED  20 09       	jr	NZ,l_player_move_input_00102
2364  09EF  ED 5B 00 00 	ld	de,(_curr_time)
2365  09F3  7B          	ld	a,e
2366  09F4  02          	ld	(bc),a
2367  09F5  03          	inc	bc
2368  09F6  7A          	ld	a,d
2369  09F7  02          	ld	(bc),a
2370  09F8              l_player_move_input_00102:
2371  09F8  3A 00 00    	ld	a,(_dirs)
2372  09FB  E6 08       	and	a,0x08
2373  09FD  28 24       	jr	Z,l_player_move_input_00105
2374  09FF  21 00 00    	ld	hl,_s_state
2375  0A02  CB D6       	set	2, (hl)
2376  0A04  CB 9E       	res	3, (hl)
2377  0A06  3E 00       	ld	a,+((_state_a) & 0xFF)
2378  0A08  21 00 00    	ld	hl,_sprite
2379  0A0B  86          	add	a, (hl)
2380  0A0C  4F          	ld	c,a
2381  0A0D  3E 00       	ld	a,+((_state_a) / 256)
2382  0A0F  CE 00       	adc	a,0x00
2383  0A11  47          	ld	b,a
2384  0A12  0A          	ld	a,(bc)
2385  0A13  CB E7       	set	4, a
2386  0A15  02          	ld	(bc),a
2387  0A16  3E 00       	ld	a,+((_state_a) & 0xFF)
2388  0A18  86          	add	a, (hl)
2389  0A19  4F          	ld	c,a
2390  0A1A  3E 00       	ld	a,+((_state_a) / 256)
2391  0A1C  CE 00       	adc	a,0x00
2392  0A1E  47          	ld	b,a
2393  0A1F  0A          	ld	a,(bc)
2394  0A20  E6 F7       	and	a,0xf7
2395  0A22  02          	ld	(bc),a
2396  0A23              l_player_move_input_00105:
2397  0A23  3A 00 00    	ld	a,(_dirs)
2398  0A26  E6 04       	and	a,0x04
2399  0A28  28 24       	jr	Z,l_player_move_input_00107
2400  0A2A  21 00 00    	ld	hl,_s_state
2401  0A2D  CB DE       	set	3, (hl)
2402  0A2F  CB 96       	res	2, (hl)
2403  0A31  3E 00       	ld	a,+((_state_a) & 0xFF)
2404  0A33  21 00 00    	ld	hl,_sprite
2405  0A36  86          	add	a, (hl)
2406  0A37  4F          	ld	c,a
2407  0A38  3E 00       	ld	a,+((_state_a) / 256)
2408  0A3A  CE 00       	adc	a,0x00
2409  0A3C  47          	ld	b,a
2410  0A3D  0A          	ld	a,(bc)
2411  0A3E  CB DF       	set	3, a
2412  0A40  02          	ld	(bc),a
2413  0A41  3E 00       	ld	a,+((_state_a) & 0xFF)
2414  0A43  86          	add	a, (hl)
2415  0A44  4F          	ld	c,a
2416  0A45  3E 00       	ld	a,+((_state_a) / 256)
2417  0A47  CE 00       	adc	a,0x00
2418  0A49  47          	ld	b,a
2419  0A4A  0A          	ld	a,(bc)
2420  0A4B  E6 EF       	and	a,0xef
2421  0A4D  02          	ld	(bc),a
2422  0A4E              l_player_move_input_00107:
2423  0A4E  3A 00 00    	ld	a,(_sprite)
2424  0A51  C6 00       	add	a,+((_state) & 0xFF)
2425  0A53  4F          	ld	c,a
2426  0A54  3E 00       	ld	a,+((_state) / 256)
2427  0A56  CE 00       	adc	a,0x00
2428  0A58  47          	ld	b,a
2429  0A59  3A 00 00    	ld	a,(_s_state)
2430  0A5C  02          	ld	(bc),a
2431  0A5D  3A 00 00    	ld	a,(_sprite)
2432  0A60  C6 00       	add	a,+((_tile) & 0xFF)
2433  0A62  4F          	ld	c,a
2434  0A63  3E 00       	ld	a,+((_tile) / 256)
2435  0A65  CE 00       	adc	a,0x00
2436  0A67  47          	ld	b,a
2437  0A68  3A 00 00    	ld	a,(_tile_offset)
2438  0A6B  5F          	ld	e,a
2439  0A6C  16 00       	ld	d,0x00
2440  0A6E  2A 00 00    	ld	hl,(_sprite)
2441  0A71  C5          	push	bc
2442  0A72  26 0C       	ld	h,0x0c
2443  0A74  E5          	push	hl
2444  0A75  D5          	push	de
2445  0A76  CD 00 00    	call	_spr_tile_dir
2446  0A79  F1          	pop	af
2447  0A7A  F1          	pop	af
2448  0A7B  C1          	pop	bc
2449  0A7C  7D          	ld	a, l
2450  0A7D  02          	ld	(bc),a
2451  0A7E  3A 00 00    	ld	a,(_dirs)
2452  0A81  07          	rlca
2453  0A82  D2 40 0B    	jp	NC,l_player_move_input_00114
2454  0A85  CD 00 00    	call	_ay_is_playing
2455  0A88  7D          	ld	a,l
2456  0A89  D6 03       	sub	a,0x03
2457  0A8B  28 06       	jr	Z,l_player_move_input_00109
2458  0A8D  21 00 00    	ld	hl,_ay_effect_03
2459  0A90  CD 00 00    	call	_ay_fx_play
2460  0A93              l_player_move_input_00109:
2461  0A93  CD 00 00    	call	_sound_jump
2462  0A96  3A 00 00    	ld	a,(_sprite)
2463  0A99  C6 00       	add	a,+((_state) & 0xFF)
2464  0A9B  4F          	ld	c,a
2465  0A9C  3E 00       	ld	a,+((_state) / 256)
2466  0A9E  CE 00       	adc	a,0x00
2467  0AA0  47          	ld	b,a
2468  0AA1  0A          	ld	a,(bc)
2469  0AA2  CB 57       	bit	2, a
2470  0AA4  28 0F       	jr	Z,l_player_move_input_00111
2471  0AA6  3A 00 00    	ld	a,(_sprite)
2472  0AA9  C6 00       	add	a,+((_colint) & 0xFF)
2473  0AAB  4F          	ld	c,a
2474  0AAC  3E 00       	ld	a,+((_colint) / 256)
2475  0AAE  CE 00       	adc	a,0x00
2476  0AB0  47          	ld	b,a
2477  0AB1  AF          	xor	a, a
2478  0AB2  02          	ld	(bc),a
2479  0AB3  18 0E       	jr	l_player_move_input_00112
2480  0AB5              l_player_move_input_00111:
2481  0AB5  3A 00 00    	ld	a,(_sprite)
2482  0AB8  C6 00       	add	a,+((_colint) & 0xFF)
2483  0ABA  4F          	ld	c,a
2484  0ABB  3E 00       	ld	a,+((_colint) / 256)
2485  0ABD  CE 00       	adc	a,0x00
2486  0ABF  47          	ld	b,a
2487  0AC0  3E 02       	ld	a,0x02
2488  0AC2  02          	ld	(bc),a
2489  0AC3              l_player_move_input_00112:
2490  0AC3  21 00 00    	ld	hl,_s_state
2491  0AC6  CB C6       	set	0, (hl)
2492  0AC8  CB 8E       	res	1, (hl)
2493  0ACA  2A 00 00    	ld	hl,(_sprite)
2494  0ACD  26 00       	ld	h,0x00
2495  0ACF  01 00 00    	ld	bc,_state_a
2496  0AD2  09          	add	hl,bc
2497  0AD3  7E          	ld	a,(hl)
2498  0AD4  E6 DF       	and	a,0xdf
2499  0AD6  77          	ld	(hl),a
2500  0AD7  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2501  0AD9  21 00 00    	ld	hl,_sprite
2502  0ADC  86          	add	a, (hl)
2503  0ADD  4F          	ld	c,a
2504  0ADE  3E 00       	ld	a,+((_jump_lin) / 256)
2505  0AE0  CE 00       	adc	a,0x00
2506  0AE2  47          	ld	b,a
2507  0AE3  3E 00       	ld	a,+((_lin) & 0xFF)
2508  0AE5  86          	add	a, (hl)
2509  0AE6  5F          	ld	e,a
2510  0AE7  3E 00       	ld	a,+((_lin) / 256)
2511  0AE9  CE 00       	adc	a,0x00
2512  0AEB  57          	ld	d,a
2513  0AEC  1A          	ld	a,(de)
2514  0AED  02          	ld	(bc),a
2515  0AEE  3E 00       	ld	a,+((_state) & 0xFF)
2516  0AF0  86          	add	a, (hl)
2517  0AF1  4F          	ld	c,a
2518  0AF2  3E 00       	ld	a,+((_state) / 256)
2519  0AF4  CE 00       	adc	a,0x00
2520  0AF6  47          	ld	b,a
2521  0AF7  3A 00 00    	ld	a,(_s_state)
2522  0AFA  02          	ld	(bc),a
2523  0AFB  3A 00 00    	ld	a,(_sprite)
2524  0AFE  C6 00       	add	a,+((_tile) & 0xFF)
2525  0B00  4F          	ld	c,a
2526  0B01  3E 00       	ld	a,+((_tile) / 256)
2527  0B03  CE 00       	adc	a,0x00
2528  0B05  47          	ld	b,a
2529  0B06  3A 00 00    	ld	a,(_tile_offset)
2530  0B09  5F          	ld	e,a
2531  0B0A  16 00       	ld	d,0x00
2532  0B0C  21 07 00    	ld	hl,0x0007
2533  0B0F  19          	add	hl,de
2534  0B10  EB          	ex	de,hl
2535  0B11  2A 00 00    	ld	hl,(_sprite)
2536  0B14  C5          	push	bc
2537  0B15  26 0C       	ld	h,0x0c
2538  0B17  E5          	push	hl
2539  0B18  D5          	push	de
2540  0B19  CD 00 00    	call	_spr_tile_dir
2541  0B1C  F1          	pop	af
2542  0B1D  F1          	pop	af
2543  0B1E  C1          	pop	bc
2544  0B1F  7D          	ld	a, l
2545  0B20  02          	ld	(bc),a
2546  0B21  3A 00 00    	ld	a,(_sprite)
2547  0B24  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2548  0B26  4F          	ld	c,a
2549  0B27  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2550  0B29  CE 00       	adc	a,0x00
2551  0B2B  47          	ld	b,a
2552  0B2C  3E 02       	ld	a,0x02
2553  0B2E  02          	ld	(bc),a
2554  0B2F  3A 00 00    	ld	a,(_index_player)
2555  0B32  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2556  0B34  4F          	ld	c,a
2557  0B35  3E 00       	ld	a,+((_player_jump_c) / 256)
2558  0B37  CE 00       	adc	a,0x00
2559  0B39  47          	ld	b,a
2560  0B3A  AF          	xor	a, a
2561  0B3B  02          	ld	(bc),a
2562  0B3C  2E 01       	ld	l,0x01
2563  0B3E  18 4E       	jr	l_player_move_input_00127
2564  0B40              l_player_move_input_00114:
2565  0B40  CD 00 00    	call	_ay_is_playing
2566  0B43  7D          	ld	a,l
2567  0B44  B7          	or	a, a
2568  0B45  20 0C       	jr	NZ,l_player_move_input_00116
2569  0B47  3A 00 00    	ld	a,(_game_bonus)
2570  0B4A  B7          	or	a, a
2571  0B4B  20 06       	jr	NZ,l_player_move_input_00116
2572  0B4D  21 00 00    	ld	hl,_ay_effect_20
2573  0B50  CD 00 00    	call	_ay_fx_play
2574  0B53              l_player_move_input_00116:
2575  0B53  3A 00 00    	ld	a,(_sprite)
2576  0B56  C6 00       	add	a,+((_state_a) & 0xFF)
2577  0B58  4F          	ld	c,a
2578  0B59  3E 00       	ld	a,+((_state_a) / 256)
2579  0B5B  CE 00       	adc	a,0x00
2580  0B5D  47          	ld	b,a
2581  0B5E  0A          	ld	a,(bc)
2582  0B5F  CB 6F       	bit	5, a
2583  0B61  28 22       	jr	Z,l_player_move_input_00121
2584  0B63  01 00 00    	ld	bc,_colint+0
2585  0B66  79          	ld	a,c
2586  0B67  21 00 00    	ld	hl,_sprite
2587  0B6A  86          	add	a, (hl)
2588  0B6B  5F          	ld	e,a
2589  0B6C  78          	ld	a,b
2590  0B6D  CE 00       	adc	a,0x00
2591  0B6F  57          	ld	d,a
2592  0B70  1A          	ld	a,(de)
2593  0B71  3C          	inc	a
2594  0B72  12          	ld	(de),a
2595  0B73  79          	ld	a,c
2596  0B74  86          	add	a, (hl)
2597  0B75  4F          	ld	c,a
2598  0B76  78          	ld	a,b
2599  0B77  CE 00       	adc	a,0x00
2600  0B79  47          	ld	b,a
2601  0B7A  0A          	ld	a,(bc)
2602  0B7B  D6 02       	sub	a,0x02
2603  0B7D  20 02       	jr	NZ,l_player_move_input_00119
2604  0B7F  AF          	xor	a, a
2605  0B80  02          	ld	(bc),a
2606  0B81              l_player_move_input_00119:
2607  0B81  2E 01       	ld	l,0x01
2608  0B83  18 09       	jr	l_player_move_input_00127
2609  0B85              l_player_move_input_00121:
2610  0B85  CD 8F 0B    	call	_player_move_horizontal
2611  0B88              l_player_move_input_00123:
2612  0B88  2E 01       	ld	l,0x01
2613  0B8A  18 02       	jr	l_player_move_input_00127
2614  0B8C              l_player_move_input_00126:
2615  0B8C  2E 00       	ld	l,0x00
2616  0B8E              l_player_move_input_00127:
2617  0B8E  C9          	ret
2618  0B8F              ;	---------------------------------
2619  0B8F              ; Function player_move_horizontal
2620  0B8F              ; ---------------------------------
2621  0B8F              _player_move_horizontal:
2622  0B8F  CD 9F 0B    	call	_player_push_check
2623  0B92  7D          	ld	a,l
2624  0B93  B7          	or	a, a
2625  0B94  28 05       	jr	Z,l_player_move_horizontal_00102
2626  0B96  CD 11 0C    	call	_player_push
2627  0B99  18 03       	jr	l_player_move_horizontal_00104
2628  0B9B              l_player_move_horizontal_00102:
2629  0B9B  CD 00 00    	call	_spr_move_horizontal
2630  0B9E              l_player_move_horizontal_00104:
2631  0B9E  C9          	ret
2632  0B9F              ;	---------------------------------
2633  0B9F              ; Function player_push_check
2634  0B9F              ; ---------------------------------
2635  0B9F              _player_push_check:
2636  0B9F  2A 00 00    	ld	hl,(_sprite_other_player)
2637  0BA2  26 00       	ld	h,0x00
2638  0BA4  01 00 00    	ld	bc,_lin
2639  0BA7  09          	add	hl,bc
2640  0BA8  7E          	ld	a,(hl)
2641  0BA9  4F          	ld	c,a
2642  0BAA  B7          	or	a,a
2643  0BAB  20 03       	jr	NZ,l_player_push_check_00102
2644  0BAD  6F          	ld	l,a
2645  0BAE  18 60       	jr	l_player_push_check_00111
2646  0BB0              l_player_push_check_00102:
2647  0BB0  2A 00 00    	ld	hl,(_sprite)
2648  0BB3  26 00       	ld	h,0x00
2649  0BB5  11 00 00    	ld	de,_lin
2650  0BB8  19          	add	hl,de
2651  0BB9  7E          	ld	a,(hl)
2652  0BBA  EB          	ex	de,hl
2653  0BBB  47          	ld	b,a
2654  0BBC  79          	ld	a,c
2655  0BBD  90          	sub	a, b
2656  0BBE  28 04       	jr	Z,l_player_push_check_00104
2657  0BC0  2E 00       	ld	l,0x00
2658  0BC2  18 4C       	jr	l_player_push_check_00111
2659  0BC4              l_player_push_check_00104:
2660  0BC4  01 00 00    	ld	bc,_col+0
2661  0BC7  2A 00 00    	ld	hl,(_sprite)
2662  0BCA  26 00       	ld	h,0x00
2663  0BCC  09          	add	hl,bc
2664  0BCD  6E          	ld	l, (hl)
2665  0BCE  EB          	ex	de,hl
2666  0BCF  2A 00 00    	ld	hl,(_sprite_other_player)
2667  0BD2  26 00       	ld	h,0x00
2668  0BD4  09          	add	hl,bc
2669  0BD5  4E          	ld	c, (hl)
2670  0BD6  7B          	ld	a,e
2671  0BD7  91          	sub	a, c
2672  0BD8  32 00 00    	ld	(_tmp_sc),a
2673  0BDB  D6 FE       	sub	a,0xfe
2674  0BDD  20 14       	jr	NZ,l_player_push_check_00106
2675  0BDF  3A 00 00    	ld	a,(_sprite)
2676  0BE2  C6 00       	add	a,+((_state) & 0xFF)
2677  0BE4  4F          	ld	c,a
2678  0BE5  3E 00       	ld	a,+((_state) / 256)
2679  0BE7  CE 00       	adc	a,0x00
2680  0BE9  47          	ld	b,a
2681  0BEA  0A          	ld	a,(bc)
2682  0BEB  CB 57       	bit	2, a
2683  0BED  28 04       	jr	Z,l_player_push_check_00106
2684  0BEF  2E 01       	ld	l,0x01
2685  0BF1  18 1D       	jr	l_player_push_check_00111
2686  0BF3              l_player_push_check_00106:
2687  0BF3  3A 00 00    	ld	a,(_tmp_sc)
2688  0BF6  D6 02       	sub	a,0x02
2689  0BF8  20 14       	jr	NZ,l_player_push_check_00109
2690  0BFA  3A 00 00    	ld	a,(_sprite)
2691  0BFD  C6 00       	add	a,+((_state) & 0xFF)
2692  0BFF  4F          	ld	c,a
2693  0C00  3E 00       	ld	a,+((_state) / 256)
2694  0C02  CE 00       	adc	a,0x00
2695  0C04  47          	ld	b,a
2696  0C05  0A          	ld	a,(bc)
2697  0C06  CB 5F       	bit	3, a
2698  0C08  28 04       	jr	Z,l_player_push_check_00109
2699  0C0A  2E 01       	ld	l,0x01
2700  0C0C  18 02       	jr	l_player_push_check_00111
2701  0C0E              l_player_push_check_00109:
2702  0C0E  2E 00       	ld	l,0x00
2703  0C10              l_player_push_check_00111:
2704  0C10  C9          	ret
2705  0C11              ;	---------------------------------
2706  0C11              ; Function player_push
2707  0C11              ; ---------------------------------
2708  0C11              _player_push:
2709  0C11  3A 00 00    	ld	a,(_sprite)
2710  0C14  32 00 00    	ld	(_tmp),a
2711  0C17  3A 00 00    	ld	a,(_s_col0)
2712  0C1A  32 00 00    	ld	(_tmp0),a
2713  0C1D  3A 00 00    	ld	a,(_sprite_other_player)
2714  0C20  C6 00       	add	a,+((_lin) & 0xFF)
2715  0C22  4F          	ld	c,a
2716  0C23  3E 00       	ld	a,+((_lin) / 256)
2717  0C25  CE 00       	adc	a,0x00
2718  0C27  47          	ld	b,a
2719  0C28  0A          	ld	a,(bc)
2720  0C29  32 00 00    	ld	(_s_lin0),a
2721  0C2C  3A 00 00    	ld	a,(_sprite_other_player)
2722  0C2F  C6 00       	add	a,+((_col) & 0xFF)
2723  0C31  4F          	ld	c,a
2724  0C32  3E 00       	ld	a,+((_col) / 256)
2725  0C34  CE 00       	adc	a,0x00
2726  0C36  47          	ld	b,a
2727  0C37  0A          	ld	a,(bc)
2728  0C38  32 00 00    	ld	(_s_col0),a
2729  0C3B  01 00 00    	ld	bc,_spr_timer+0
2730  0C3E  2A 00 00    	ld	hl,(_sprite_other_player)
2731  0C41  26 00       	ld	h,0x00
2732  0C43  29          	add	hl, hl
2733  0C44  09          	add	hl,bc
2734  0C45  ED 5B 00 00 	ld	de,(_curr_time)
2735  0C49  73          	ld	(hl),e
2736  0C4A  23          	inc	hl
2737  0C4B  72          	ld	(hl),d
2738  0C4C  3E 00       	ld	a,+((_state_a) & 0xFF)
2739  0C4E  21 00 00    	ld	hl,_sprite_other_player
2740  0C51  86          	add	a, (hl)
2741  0C52  4F          	ld	c,a
2742  0C53  3E 00       	ld	a,+((_state_a) / 256)
2743  0C55  CE 00       	adc	a,0x00
2744  0C57  47          	ld	b,a
2745  0C58  0A          	ld	a,(bc)
2746  0C59  CB D7       	set	2, a
2747  0C5B  02          	ld	(bc),a
2748  0C5C  7E          	ld	a,(hl)
2749  0C5D  32 00 00    	ld	(_sprite),a
2750  0C60  3A 00 00    	ld	a,(_tmp)
2751  0C63  C6 00       	add	a,+((_state) & 0xFF)
2752  0C65  4F          	ld	c,a
2753  0C66  3E 00       	ld	a,+((_state) / 256)
2754  0C68  CE 00       	adc	a,0x00
2755  0C6A  47          	ld	b,a
2756  0C6B  0A          	ld	a,(bc)
2757  0C6C  CB 57       	bit	2, a
2758  0C6E  28 05       	jr	Z,l_player_push_00102
2759  0C70  CD 00 00    	call	_spr_move_right
2760  0C73  18 03       	jr	l_player_push_00103
2761  0C75              l_player_push_00102:
2762  0C75  CD 00 00    	call	_spr_move_left
2763  0C78              l_player_push_00103:
2764  0C78  CD 00 00    	call	_spr_redraw
2765  0C7B  3A 00 00    	ld	a,(_tmp)
2766  0C7E  32 00 00    	ld	(_sprite),a
2767  0C81  C6 00       	add	a,+((_lin) & 0xFF)
2768  0C83  4F          	ld	c,a
2769  0C84  3E 00       	ld	a,+((_lin) / 256)
2770  0C86  CE 00       	adc	a,0x00
2771  0C88  47          	ld	b,a
2772  0C89  0A          	ld	a,(bc)
2773  0C8A  32 00 00    	ld	(_s_lin0),a
2774  0C8D  3A 00 00    	ld	a,(_tmp0)
2775  0C90  32 00 00    	ld	(_s_col0),a
2776  0C93  C9          	ret
2777  0C94              ;	---------------------------------
2778  0C94              ; Function player_hit_brick
2779  0C94              ; ---------------------------------
2780  0C94              _player_hit_brick:
2781  0C94  3A 00 00    	ld	a,(_index_player)
2782  0C97  C6 00       	add	a,+((_hit_lin) & 0xFF)
2783  0C99  4F          	ld	c,a
2784  0C9A  3E 00       	ld	a,+((_hit_lin) / 256)
2785  0C9C  CE 00       	adc	a,0x00
2786  0C9E  47          	ld	b,a
2787  0C9F  0A          	ld	a,(bc)
2788  0CA0  B7          	or	a, a
2789  0CA1  C2 7D 0E    	jp	NZ,l_player_hit_brick_00112
2790  0CA4  3A 00 00    	ld	a,(_sprite)
2791  0CA7  C6 00       	add	a,+((_lin) & 0xFF)
2792  0CA9  4F          	ld	c,a
2793  0CAA  3E 00       	ld	a,+((_lin) / 256)
2794  0CAC  CE 00       	adc	a,0x00
2795  0CAE  47          	ld	b,a
2796  0CAF  0A          	ld	a,(bc)
2797  0CB0  5F          	ld	e,a
2798  0CB1  3E 10       	ld	a,0x10
2799  0CB3  93          	sub	a, e
2800  0CB4  D2 7D 0E    	jp	NC,l_player_hit_brick_00112
2801  0CB7  21 00 00    	ld	hl,_enemies
2802  0CBA  36 00       	ld	(hl),0x00
2803  0CBC              l_player_hit_brick_00114:
2804  0CBC  2A 00 00    	ld	hl,(_enemies)
2805  0CBF  26 00       	ld	h,0x00
2806  0CC1  11 00 00    	ld	de,_class
2807  0CC4  19          	add	hl,de
2808  0CC5  7E          	ld	a,(hl)
2809  0CC6  B7          	or	a,a
2810  0CC7  28 5F       	jr	Z,l_player_hit_brick_00115
2811  0CC9  0A          	ld	a,(bc)
2812  0CCA  4F          	ld	c,a
2813  0CCB  06 00       	ld	b,0x00
2814  0CCD  2A 00 00    	ld	hl,(_enemies)
2815  0CD0  60          	ld	h,b
2816  0CD1  11 00 00    	ld	de,_lin
2817  0CD4  19          	add	hl,de
2818  0CD5  5E          	ld	e, (hl)
2819  0CD6  16 00       	ld	d,0x00
2820  0CD8  79          	ld	a,c
2821  0CD9  93          	sub	a,e
2822  0CDA  4F          	ld	c,a
2823  0CDB  78          	ld	a,b
2824  0CDC  9A          	sbc	a,d
2825  0CDD  47          	ld	b,a
2826  0CDE  79          	ld	a,c
2827  0CDF  D6 18       	sub	a,0x18
2828  0CE1  20 45       	jr	NZ,l_player_hit_brick_00115
2829  0CE3  B0          	or	a,b
2830  0CE4  20 42       	jr	NZ,l_player_hit_brick_00115
2831  0CE6  3A 00 00    	ld	a,(_enemies)
2832  0CE9  4F          	ld	c,a
2833  0CEA  06 00       	ld	b,0x00
2834  0CEC  21 00 00    	ld	hl,_state
2835  0CEF  09          	add	hl,bc
2836  0CF0  CB 6E       	bit	5,(hl)
2837  0CF2  20 34       	jr	NZ,l_player_hit_brick_00115
2838  0CF4  2A 00 00    	ld	hl,(_sprite)
2839  0CF7  26 00       	ld	h,0x00
2840  0CF9  01 00 00    	ld	bc,_col
2841  0CFC  09          	add	hl,bc
2842  0CFD  4E          	ld	c,(hl)
2843  0CFE  06 00       	ld	b,0x00
2844  0D00  2A 00 00    	ld	hl,(_enemies)
2845  0D03  60          	ld	h,b
2846  0D04  11 00 00    	ld	de,_col
2847  0D07  19          	add	hl,de
2848  0D08  5E          	ld	e, (hl)
2849  0D09  16 00       	ld	d,0x00
2850  0D0B  79          	ld	a,c
2851  0D0C  93          	sub	a, e
2852  0D0D  6F          	ld	l,a
2853  0D0E  78          	ld	a,b
2854  0D0F  9A          	sbc	a, d
2855  0D10  67          	ld	h,a
2856  0D11  CD 00 00    	call	_abs_fastcall
2857  0D14  3E 02       	ld	a,0x02
2858  0D16  BD          	cp	a,l
2859  0D17  3E 00       	ld	a,0x00
2860  0D19  9C          	sbc	a,h
2861  0D1A  E2 1F 0D    	jp	PO, l_player_hit_brick_00166
2862  0D1D  EE 80       	xor	a,0x80
2863  0D1F              l_player_hit_brick_00166:
2864  0D1F  FA 28 0D    	jp	M,l_player_hit_brick_00115
2865  0D22  CD 00 00    	call	_enemy_hit
2866  0D25  CD 00 00    	call	_sound_hit_enemy
2867  0D28              l_player_hit_brick_00115:
2868  0D28  21 00 00    	ld	hl,_enemies
2869  0D2B  34          	inc	(hl)
2870  0D2C  3A 00 00    	ld	a,(_sprite)
2871  0D2F  C6 00       	add	a,+((_lin) & 0xFF)
2872  0D31  4F          	ld	c,a
2873  0D32  3E 00       	ld	a,+((_lin) / 256)
2874  0D34  CE 00       	adc	a,0x00
2875  0D36  47          	ld	b,a
2876  0D37  3A 00 00    	ld	a,(_enemies)
2877  0D3A  D6 06       	sub	a,0x06
2878  0D3C  DA BC 0C    	jp	C,l_player_hit_brick_00114
2879  0D3F  2A 00 00    	ld	hl,(_sprite_other_player)
2880  0D42  26 00       	ld	h,0x00
2881  0D44  11 00 00    	ld	de,_lin
2882  0D47  19          	add	hl,de
2883  0D48  7E          	ld	a,(hl)
2884  0D49  5F          	ld	e,a
2885  0D4A  B7          	or	a, a
2886  0D4B  CA 14 0E    	jp	Z,l_player_hit_brick_00108
2887  0D4E  0A          	ld	a,(bc)
2888  0D4F  6F          	ld	l,a
2889  0D50  AF          	xor	a,a
2890  0D51  67          	ld	h,a
2891  0D52  57          	ld	d,a
2892  0D53  ED 52       	sbc	hl,de
2893  0D55  7D          	ld	a,l
2894  0D56  D6 18       	sub	a,0x18
2895  0D58  C2 14 0E    	jp	NZ,l_player_hit_brick_00108
2896  0D5B  B4          	or	a,h
2897  0D5C  C2 14 0E    	jp	NZ,l_player_hit_brick_00108
2898  0D5F  2A 00 00    	ld	hl,(_sprite)
2899  0D62  26 00       	ld	h,0x00
2900  0D64  01 00 00    	ld	bc,_col
2901  0D67  09          	add	hl,bc
2902  0D68  4E          	ld	c,(hl)
2903  0D69  06 00       	ld	b,0x00
2904  0D6B  2A 00 00    	ld	hl,(_sprite_other_player)
2905  0D6E  60          	ld	h,b
2906  0D6F  11 00 00    	ld	de,_col
2907  0D72  19          	add	hl,de
2908  0D73  5E          	ld	e, (hl)
2909  0D74  16 00       	ld	d,0x00
2910  0D76  79          	ld	a,c
2911  0D77  93          	sub	a, e
2912  0D78  6F          	ld	l,a
2913  0D79  78          	ld	a,b
2914  0D7A  9A          	sbc	a, d
2915  0D7B  67          	ld	h,a
2916  0D7C  CD 00 00    	call	_abs_fastcall
2917  0D7F  3E 02       	ld	a,0x02
2918  0D81  BD          	cp	a,l
2919  0D82  3E 00       	ld	a,0x00
2920  0D84  9C          	sbc	a,h
2921  0D85  E2 8A 0D    	jp	PO, l_player_hit_brick_00169
2922  0D88  EE 80       	xor	a,0x80
2923  0D8A              l_player_hit_brick_00169:
2924  0D8A  FA 14 0E    	jp	M,l_player_hit_brick_00108
2925  0D8D  3E 00       	ld	a,+((_col) & 0xFF)
2926  0D8F  21 00 00    	ld	hl,_sprite_other_player
2927  0D92  86          	add	a, (hl)
2928  0D93  4F          	ld	c,a
2929  0D94  3E 00       	ld	a,+((_col) / 256)
2930  0D96  CE 00       	adc	a,0x00
2931  0D98  47          	ld	b,a
2932  0D99  0A          	ld	a,(bc)
2933  0D9A  57          	ld	d,a
2934  0D9B  4E          	ld	c,(hl)
2935  0D9C  06 00       	ld	b,0x00
2936  0D9E  21 00 00    	ld	hl,_lin
2937  0DA1  09          	add	hl,bc
2938  0DA2  5E          	ld	e, (hl)
2939  0DA3  D5          	push	de
2940  0DA4  AF          	xor	a, a
2941  0DA5  F5          	push	af
2942  0DA6  33          	inc	sp
2943  0DA7  CD 00 00    	call	_NIRVANAP_fillT_callee
2944  0DAA  2A 00 00    	ld	hl,(_sprite_other_player)
2945  0DAD  26 00       	ld	h,0x00
2946  0DAF  01 00 00    	ld	bc,_lin
2947  0DB2  09          	add	hl,bc
2948  0DB3  7E          	ld	a,(hl)
2949  0DB4  C6 FC       	add	a,0xfc
2950  0DB6  77          	ld	(hl),a
2951  0DB7  3E 00       	ld	a,+((_col) & 0xFF)
2952  0DB9  21 00 00    	ld	hl,_sprite_other_player
2953  0DBC  86          	add	a, (hl)
2954  0DBD  4F          	ld	c,a
2955  0DBE  3E 00       	ld	a,+((_col) / 256)
2956  0DC0  CE 00       	adc	a,0x00
2957  0DC2  47          	ld	b,a
2958  0DC3  0A          	ld	a,(bc)
2959  0DC4  57          	ld	d,a
2960  0DC5  3E 00       	ld	a,+((_lin) & 0xFF)
2961  0DC7  86          	add	a, (hl)
2962  0DC8  4F          	ld	c,a
2963  0DC9  3E 00       	ld	a,+((_lin) / 256)
2964  0DCB  CE 00       	adc	a,0x00
2965  0DCD  47          	ld	b,a
2966  0DCE  0A          	ld	a,(bc)
2967  0DCF  5F          	ld	e,a
2968  0DD0  3E 00       	ld	a,+((_tile) & 0xFF)
2969  0DD2  86          	add	a, (hl)
2970  0DD3  4F          	ld	c,a
2971  0DD4  3E 00       	ld	a,+((_tile) / 256)
2972  0DD6  CE 00       	adc	a,0x00
2973  0DD8  47          	ld	b,a
2974  0DD9  0A          	ld	a,(bc)
2975  0DDA  47          	ld	b,a
2976  0DDB  4E          	ld	c,(hl)
2977  0DDC  D5          	push	de
2978  0DDD  C5          	push	bc
2979  0DDE  CD 00 00    	call	_NIRVANAP_spriteT_callee
2980  0DE1  76          	halt
2981  0DE2  2A 00 00    	ld	hl,(_sprite_other_player)
2982  0DE5  26 00       	ld	h,0x00
2983  0DE7  01 00 00    	ld	bc,_state
2984  0DEA  09          	add	hl,bc
2985  0DEB  7E          	ld	a,(hl)
2986  0DEC  E6 FD       	and	a,0xfd
2987  0DEE  77          	ld	(hl),a
2988  0DEF  3E 00       	ld	a,+((_state) & 0xFF)
2989  0DF1  21 00 00    	ld	hl,_sprite_other_player
2990  0DF4  86          	add	a, (hl)
2991  0DF5  4F          	ld	c,a
2992  0DF6  3E 00       	ld	a,+((_state) / 256)
2993  0DF8  CE 00       	adc	a,0x00
2994  0DFA  47          	ld	b,a
2995  0DFB  0A          	ld	a,(bc)
2996  0DFC  CB C7       	set	0, a
2997  0DFE  02          	ld	(bc),a
2998  0DFF  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2999  0E01  86          	add	a, (hl)
3000  0E02  4F          	ld	c,a
3001  0E03  3E 00       	ld	a,+((_jump_lin) / 256)
3002  0E05  CE 00       	adc	a,0x00
3003  0E07  47          	ld	b,a
3004  0E08  5E          	ld	e,(hl)
3005  0E09  16 00       	ld	d,0x00
3006  0E0B  21 00 00    	ld	hl,_lin
3007  0E0E  19          	add	hl,de
3008  0E0F  7E          	ld	a,(hl)
3009  0E10  C6 14       	add	a,0x14
3010  0E12  02          	ld	(bc),a
3011  0E13  76          	halt
3012  0E14              l_player_hit_brick_00108:
3013  0E14  3A 00 00    	ld	a,(_sprite)
3014  0E17  C6 00       	add	a,+((_state_a) & 0xFF)
3015  0E19  4F          	ld	c,a
3016  0E1A  3E 00       	ld	a,+((_state_a) / 256)
3017  0E1C  CE 00       	adc	a,0x00
3018  0E1E  47          	ld	b,a
3019  0E1F  0A          	ld	a,(bc)
3020  0E20  CB FF       	set	7, a
3021  0E22  02          	ld	(bc),a
3022  0E23  3A 00 00    	ld	a,(_index_player)
3023  0E26  C6 00       	add	a,+((_player_jump_c) & 0xFF)
3024  0E28  4F          	ld	c,a
3025  0E29  3E 00       	ld	a,+((_player_jump_c) / 256)
3026  0E2B  CE 00       	adc	a,0x00
3027  0E2D  47          	ld	b,a
3028  0E2E  3E 06       	ld	a,0x06
3029  0E30  02          	ld	(bc),a
3030  0E31  01 00 00    	ld	bc,_spr_timer+0
3031  0E34  2A 00 00    	ld	hl,(_sprite)
3032  0E37  26 00       	ld	h,0x00
3033  0E39  29          	add	hl, hl
3034  0E3A  09          	add	hl,bc
3035  0E3B  ED 5B 00 00 	ld	de,(_curr_time)
3036  0E3F  73          	ld	(hl),e
3037  0E40  23          	inc	hl
3038  0E41  72          	ld	(hl),d
3039  0E42  3A 00 00    	ld	a,(_index_player)
3040  0E45  C6 00       	add	a,+((_hit_lin) & 0xFF)
3041  0E47  4F          	ld	c,a
3042  0E48  3E 00       	ld	a,+((_hit_lin) / 256)
3043  0E4A  CE 00       	adc	a,0x00
3044  0E4C  47          	ld	b,a
3045  0E4D  2A 00 00    	ld	hl,(_sprite)
3046  0E50  26 00       	ld	h,0x00
3047  0E52  11 00 00    	ld	de,_lin
3048  0E55  19          	add	hl,de
3049  0E56  7E          	ld	a,(hl)
3050  0E57  02          	ld	(bc),a
3051  0E58  3A 00 00    	ld	a,(_index_player)
3052  0E5B  C6 00       	add	a,+((_hit_col) & 0xFF)
3053  0E5D  4F          	ld	c,a
3054  0E5E  3E 00       	ld	a,+((_hit_col) / 256)
3055  0E60  CE 00       	adc	a,0x00
3056  0E62  47          	ld	b,a
3057  0E63  2A 00 00    	ld	hl,(_sprite)
3058  0E66  26 00       	ld	h,0x00
3059  0E68  11 00 00    	ld	de,_col
3060  0E6B  19          	add	hl,de
3061  0E6C  7E          	ld	a,(hl)
3062  0E6D  02          	ld	(bc),a
3063  0E6E  3E 01       	ld	a,0x01
3064  0E70  F5          	push	af
3065  0E71  33          	inc	sp
3066  0E72  CD 00 00    	call	_spr_brick_anim
3067  0E75  33          	inc	sp
3068  0E76  CD 00 00    	call	_sound_hit_brick
3069  0E79  2E 01       	ld	l,0x01
3070  0E7B  18 02       	jr	l_player_hit_brick_00116
3071  0E7D              l_player_hit_brick_00112:
3072  0E7D  2E 00       	ld	l,0x00
3073  0E7F              l_player_hit_brick_00116:
3074  0E7F  C9          	ret
3075  0E80              ;	---------------------------------
3076  0E80              ; Function player_hit_brick_clear
3077  0E80              ; ---------------------------------
3078  0E80              _player_hit_brick_clear:
3079  0E80  2A 00 00    	ld	hl,(_index_player)
3080  0E83  26 00       	ld	h,0x00
3081  0E85  01 00 00    	ld	bc,_hit_lin
3082  0E88  09          	add	hl,bc
3083  0E89  7E          	ld	a,(hl)
3084  0E8A  4F          	ld	c,a
3085  0E8B  B7          	or	a,a
3086  0E8C  C8          	ret	Z
3087  0E8D  3A 00 00    	ld	a,(_index_player)
3088  0E90  5F          	ld	e,a
3089  0E91  16 00       	ld	d,0x00
3090  0E93  21 00 00    	ld	hl,_hit_col
3091  0E96  19          	add	hl,de
3092  0E97  56          	ld	d, (hl)
3093  0E98  79          	ld	a,c
3094  0E99  C6 F8       	add	a,0xf8
3095  0E9B  5F          	ld	e, a
3096  0E9C  D5          	push	de
3097  0E9D  CD 00 00    	call	_game_calc_index
3098  0EA0  F1          	pop	af
3099  0EA1  22 00 00    	ld	(_index1),hl
3100  0EA4  01 01 00    	ld	bc,0x0001
3101  0EA7  09          	add	hl,bc
3102  0EA8  22 00 00    	ld	(_index2),hl
3103  0EAB  AF          	xor	a, a
3104  0EAC  F5          	push	af
3105  0EAD  33          	inc	sp
3106  0EAE  CD 00 00    	call	_spr_brick_anim
3107  0EB1  33          	inc	sp
3108  0EB2  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3109  0EB4  21 00 00    	ld	hl,_index_player
3110  0EB7  86          	add	a, (hl)
3111  0EB8  4F          	ld	c,a
3112  0EB9  3E 00       	ld	a,+((_hit_lin) / 256)
3113  0EBB  CE 00       	adc	a,0x00
3114  0EBD  47          	ld	b,a
3115  0EBE  AF          	xor	a, a
3116  0EBF  02          	ld	(bc),a
3117  0EC0  3E 00       	ld	a,+((_hit_col) & 0xFF)
3118  0EC2  86          	add	a, (hl)
3119  0EC3  4F          	ld	c,a
3120  0EC4  3E 00       	ld	a,+((_hit_col) / 256)
3121  0EC6  CE 00       	adc	a,0x00
3122  0EC8  47          	ld	b,a
3123  0EC9  AF          	xor	a, a
3124  0ECA  02          	ld	(bc),a
3125  0ECB  C9          	ret
3126  0ECC              ;	---------------------------------
3127  0ECC              ; Function player_hit_pow
3128  0ECC              ; ---------------------------------
3129  0ECC              _player_hit_pow:
3130  0ECC  3A 00 00    	ld	a,(_game_pow)
3131  0ECF  B7          	or	a, a
3132  0ED0  CA 75 0F    	jp	Z,l_player_hit_pow_00107
3133  0ED3  01 00 00    	ld	bc,_lvl_1
3134  0ED6  2A 00 00    	ld	hl,(_index1)
3135  0ED9  09          	add	hl,bc
3136  0EDA  7E          	ld	a,(hl)
3137  0EDB  D6 11       	sub	a,0x11
3138  0EDD  28 0D       	jr	Z,l_player_hit_pow_00106
3139  0EDF  01 00 00    	ld	bc,_lvl_1
3140  0EE2  2A 00 00    	ld	hl,(_index2)
3141  0EE5  09          	add	hl,bc
3142  0EE6  7E          	ld	a,(hl)
3143  0EE7  D6 11       	sub	a,0x11
3144  0EE9  C2 75 0F    	jp	NZ,l_player_hit_pow_00107
3145  0EEC              l_player_hit_pow_00106:
3146  0EEC  21 00 00    	ld	hl,_game_pow
3147  0EEF  35          	dec	(hl)
3148  0EF0  21 02 00    	ld	hl,0x0002
3149  0EF3  CD 00 00    	call	_zx_border_fastcall
3150  0EF6  21 00 00    	ld	hl,_enemies
3151  0EF9  36 00       	ld	(hl),0x00
3152  0EFB              l_player_hit_pow_00110:
3153  0EFB  2A 00 00    	ld	hl,(_enemies)
3154  0EFE  26 00       	ld	h,0x00
3155  0F00  5D          	ld	e,l
3156  0F01  01 00 00    	ld	bc,_col
3157  0F04  09          	add	hl,bc
3158  0F05  46          	ld	b,(hl)
3159  0F06  16 00       	ld	d,0x00
3160  0F08  21 00 00    	ld	hl,_lin
3161  0F0B  19          	add	hl,de
3162  0F0C  7E          	ld	a,(hl)
3163  0F0D  C6 10       	add	a,0x10
3164  0F0F  4F          	ld	c,a
3165  0F10  C5          	push	bc
3166  0F11  CD 00 00    	call	_game_calc_index
3167  0F14  F1          	pop	af
3168  0F15  CD 00 00    	call	_game_check_maze
3169  0F18  7D          	ld	a,l
3170  0F19  B7          	or	a, a
3171  0F1A  20 03       	jr	NZ,l_player_hit_pow_00111
3172  0F1C  CD 00 00    	call	_enemy_hit
3173  0F1F              l_player_hit_pow_00111:
3174  0F1F  21 00 00    	ld	hl,_enemies
3175  0F22  7E          	ld	a,(hl)
3176  0F23  3C          	inc	a
3177  0F24  77          	ld	(hl),a
3178  0F25  D6 06       	sub	a,0x06
3179  0F27  38 D2       	jr	C,l_player_hit_pow_00110
3180  0F29  21 00 00    	ld	hl,_ay_effect_06
3181  0F2C  CD 00 00    	call	_ay_fx_play
3182  0F2F  CD 00 00    	call	_sound_hit_pow
3183  0F32  CD 00 00    	call	_spr_draw_pow
3184  0F35  3A 00 00    	ld	a,(_game_pow)
3185  0F38  B7          	or	a, a
3186  0F39  20 13       	jr	NZ,l_player_hit_pow_00105
3187  0F3B  21 80 0F    	ld	hl,0x0f80
3188  0F3E  E5          	push	hl
3189  0F3F  AF          	xor	a, a
3190  0F40  F5          	push	af
3191  0F41  33          	inc	sp
3192  0F42  CD 00 00    	call	_NIRVANAP_fillT_callee
3193  0F45  21 00 00    	ld	hl,0x0000
3194  0F48  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3195  0F4B  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3196  0F4E              l_player_hit_pow_00105:
3197  0F4E  21 00 00    	ld	hl,0x0000
3198  0F51  CD 00 00    	call	_zx_border_fastcall
3199  0F54  3A 00 00    	ld	a,(_sprite)
3200  0F57  C6 00       	add	a,+((_state_a) & 0xFF)
3201  0F59  4F          	ld	c,a
3202  0F5A  3E 00       	ld	a,+((_state_a) / 256)
3203  0F5C  CE 00       	adc	a,0x00
3204  0F5E  47          	ld	b,a
3205  0F5F  0A          	ld	a,(bc)
3206  0F60  CB FF       	set	7, a
3207  0F62  02          	ld	(bc),a
3208  0F63  3A 00 00    	ld	a,(_index_player)
3209  0F66  C6 00       	add	a,+((_player_jump_c) & 0xFF)
3210  0F68  4F          	ld	c,a
3211  0F69  3E 00       	ld	a,+((_player_jump_c) / 256)
3212  0F6B  CE 00       	adc	a,0x00
3213  0F6D  47          	ld	b,a
3214  0F6E  3E 06       	ld	a,0x06
3215  0F70  02          	ld	(bc),a
3216  0F71  2E 01       	ld	l,0x01
3217  0F73  18 02       	jr	l_player_hit_pow_00112
3218  0F75              l_player_hit_pow_00107:
3219  0F75  2E 00       	ld	l,0x00
3220  0F77              l_player_hit_pow_00112:
3221  0F77  C9          	ret
3222  0F78              ;	---------------------------------
3223  0F78              ; Function player_coin
3224  0F78              ; ---------------------------------
3225  0F78              _player_coin:
3226  0F78  CD 00 00    	call	___sdcc_enter_ix
3227  0F7B  3E 00       	ld	a,+((_class) & 0xFF)
3228  0F7D  DD 86 04    	add	a,(ix+4)
3229  0F80  4F          	ld	c,a
3230  0F81  3E 00       	ld	a,+((_class) / 256)
3231  0F83  CE 00       	adc	a,0x00
3232  0F85  47          	ld	b,a
3233  0F86  0A          	ld	a,(bc)
3234  0F87  D6 07       	sub	a,0x07
3235  0F89  20 16       	jr	NZ,l_player_coin_00102
3236  0F8B  21 00 00    	ld	hl,_ay_effect_12
3237  0F8E  CD 00 00    	call	_ay_fx_play
3238  0F91  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3239  0F93  DD 86 04    	add	a,(ix+4)
3240  0F96  4F          	ld	c,a
3241  0F97  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3242  0F99  CE 00       	adc	a,0x00
3243  0F9B  47          	ld	b,a
3244  0F9C  3E 03       	ld	a,0x03
3245  0F9E  02          	ld	(bc),a
3246  0F9F  18 17       	jr	l_player_coin_00103
3247  0FA1              l_player_coin_00102:
3248  0FA1  21 00 00    	ld	hl,_ay_effect_10
3249  0FA4  CD 00 00    	call	_ay_fx_play
3250  0FA7  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3251  0FA9  DD 86 04    	add	a,(ix+4)
3252  0FAC  4F          	ld	c,a
3253  0FAD  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3254  0FAF  CE 00       	adc	a,0x00
3255  0FB1  47          	ld	b,a
3256  0FB2  3E 08       	ld	a,0x08
3257  0FB4  02          	ld	(bc),a
3258  0FB5  CD 00 00    	call	_sound_coin
3259  0FB8              l_player_coin_00103:
3260  0FB8  3E 00       	ld	a,+((_state) & 0xFF)
3261  0FBA  DD 86 04    	add	a,(ix+4)
3262  0FBD  4F          	ld	c,a
3263  0FBE  3E 00       	ld	a,+((_state) / 256)
3264  0FC0  CE 00       	adc	a,0x00
3265  0FC2  47          	ld	b,a
3266  0FC3  0A          	ld	a,(bc)
3267  0FC4  CB EF       	set	5, a
3268  0FC6  02          	ld	(bc),a
3269  0FC7  01 00 00    	ld	bc,_spr_timer+0
3270  0FCA  DD 6E 04    	ld	l,(ix+4)
3271  0FCD  26 00       	ld	h,0x00
3272  0FCF  29          	add	hl, hl
3273  0FD0  09          	add	hl,bc
3274  0FD1  ED 5B 00 00 	ld	de,(_curr_time)
3275  0FD5  73          	ld	(hl),e
3276  0FD6  23          	inc	hl
3277  0FD7  72          	ld	(hl),d
3278  0FD8  3A 00 00    	ld	a,(_game_bonus)
3279  0FDB  B7          	or	a, a
3280  0FDC  28 1B       	jr	Z,l_player_coin_00107
3281  0FDE  3A 00 00    	ld	a,(_index_player)
3282  0FE1  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3283  0FE3  4F          	ld	c,a
3284  0FE4  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3285  0FE6  CE 00       	adc	a,0x00
3286  0FE8  47          	ld	b,a
3287  0FE9  0A          	ld	a,(bc)
3288  0FEA  3C          	inc	a
3289  0FEB  02          	ld	(bc),a
3290  0FEC  21 00 00    	ld	hl,_phase_left
3291  0FEF  35          	dec (hl)
3292  0FF0  20 11       	jr	NZ,l_player_coin_00109
3293  0FF2  21 00 00    	ld	hl,_phase_end
3294  0FF5  36 01       	ld	(hl),0x01
3295  0FF7  18 0A       	jr	l_player_coin_00109
3296  0FF9              l_player_coin_00107:
3297  0FF9  DD 4E 05    	ld	c,(ix+5)
3298  0FFC  06 00       	ld	b,0x00
3299  0FFE  C5          	push	bc
3300  0FFF  CD 06 10    	call	_player_score_add
3301  1002  F1          	pop	af
3302  1003              l_player_coin_00109:
3303  1003  DD E1       	pop	ix
3304  1005  C9          	ret
3305  1006              ;	---------------------------------
3306  1006              ; Function player_score_add
3307  1006              ; ---------------------------------
3308  1006              _player_score_add:
3309  1006  CD 00 00    	call	___sdcc_enter_ix
3310  1009  2A 00 00    	ld	hl,(_index_player)
3311  100C  26 00       	ld	h,0x00
3312  100E  29          	add	hl,hl
3313  100F  01 00 00    	ld	bc,_player_score
3314  1012  09          	add	hl,bc
3315  1013  7E          	ld	a,(hl)
3316  1014  4D          	ld	c,l
3317  1015  44          	ld	b,h
3318  1016  23          	inc	hl
3319  1017  56          	ld	d,(hl)
3320  1018  DD 86 04    	add	a,(ix+4)
3321  101B  5F          	ld	e,a
3322  101C  7A          	ld	a,d
3323  101D  DD 8E 05    	adc	a,(ix+5)
3324  1020  57          	ld	d,a
3325  1021  7B          	ld	a,e
3326  1022  02          	ld	(bc),a
3327  1023  03          	inc	bc
3328  1024  7A          	ld	a,d
3329  1025  02          	ld	(bc),a
3330  1026  2A 00 00    	ld	hl,(_index_player)
3331  1029  26 00       	ld	h,0x00
3332  102B  29          	add	hl,hl
3333  102C  4D          	ld	c,l
3334  102D  44          	ld	b,h
3335  102E  21 00 00    	ld	hl,_player_score
3336  1031  09          	add	hl,bc
3337  1032  5E          	ld	e,(hl)
3338  1033  23          	inc	hl
3339  1034  56          	ld	d,(hl)
3340  1035  21 00 00    	ld	hl,_game_score_top
3341  1038  7E          	ld	a,(hl)
3342  1039  93          	sub	a, e
3343  103A  23          	inc	hl
3344  103B  7E          	ld	a,(hl)
3345  103C  9A          	sbc	a, d
3346  103D  30 04       	jr	NC,l_player_score_add_00102
3347  103F  2B          	dec	hl
3348  1040  73          	ld	(hl),e
3349  1041  23          	inc	hl
3350  1042  72          	ld	(hl),d
3351  1043              l_player_score_add_00102:
3352  1043  21 00 00    	ld	hl,_player_next_extra
3353  1046  09          	add	hl,bc
3354  1047  4E          	ld	c,(hl)
3355  1048  23          	inc	hl
3356  1049  46          	ld	b,(hl)
3357  104A  2B          	dec	hl
3358  104B  79          	ld	a,c
3359  104C  93          	sub	a, e
3360  104D  78          	ld	a,b
3361  104E  9A          	sbc	a, d
3362  104F  30 31       	jr	NC,l_player_score_add_00106
3363  1051  79          	ld	a,c
3364  1052  C6 D0       	add	a,0xd0
3365  1054  77          	ld	(hl),a
3366  1055  78          	ld	a,b
3367  1056  CE 07       	adc	a,0x07
3368  1058  23          	inc	hl
3369  1059  77          	ld	(hl),a
3370  105A  3A 00 00    	ld	a,(_index_player)
3371  105D  C6 00       	add	a,+((_game_lives) & 0xFF)
3372  105F  4F          	ld	c,a
3373  1060  3E 00       	ld	a,+((_game_lives) / 256)
3374  1062  CE 00       	adc	a,0x00
3375  1064  47          	ld	b,a
3376  1065  0A          	ld	a,(bc)
3377  1066  3C          	inc	a
3378  1067  02          	ld	(bc),a
3379  1068  3A 00 00    	ld	a,(_game_bonus)
3380  106B  B7          	or	a, a
3381  106C  20 03       	jr	NZ,l_player_score_add_00104
3382  106E  CD 00 00    	call	_game_print_lives
3383  1071              l_player_score_add_00104:
3384  1071  CD 00 00    	call	_sound_coin
3385  1074  CD 00 00    	call	_sound_coin
3386  1077  CD 00 00    	call	_sound_coin
3387  107A  CD 00 00    	call	_sound_coin
3388  107D  21 00 00    	ld	hl,_hit_count
3389  1080  36 08       	ld	(hl),0x08
3390  1082              l_player_score_add_00106:
3391  1082  DD E1       	pop	ix
3392  1084  C3 00 00    	jp	_game_print_score
3393  1087              ;	---------------------------------
3394  1087              ; Function player_set1
3395  1087              ; ---------------------------------
3396  1087              _player_set1:
3397  1087  21 00 00    	ld	hl,_sprite
3398  108A  36 07       	ld	(hl),0x07
3399  108C  21 00 00    	ld	hl,_sprite_other_player
3400  108F  36 06       	ld	(hl),0x06
3401  1091  21 00 00    	ld	hl,_index_player
3402  1094  36 00       	ld	(hl),0x00
3403  1096  21 00 00    	ld	hl,_tile_offset
3404  1099  36 00       	ld	(hl),0x00
3405  109B  21 00 00    	ld	hl,_tile_offset_other_player
3406  109E  36 18       	ld	(hl),0x18
3407  10A0  C9          	ret
3408  10A1              ;	---------------------------------
3409  10A1              ; Function player_set2
3410  10A1              ; ---------------------------------
3411  10A1              _player_set2:
3412  10A1  21 00 00    	ld	hl,_sprite
3413  10A4  36 06       	ld	(hl),0x06
3414  10A6  21 00 00    	ld	hl,_sprite_other_player
3415  10A9  36 07       	ld	(hl),0x07
3416  10AB  21 00 00    	ld	hl,_index_player
3417  10AE  36 01       	ld	(hl),0x01
3418  10B0  21 00 00    	ld	hl,_tile_offset
3419  10B3  36 18       	ld	(hl),0x18
3420  10B5  21 00 00    	ld	hl,_tile_offset_other_player
3421  10B8  36 00       	ld	(hl),0x00
3422  10BA  C9          	ret
3423  10BB              	SECTION IGNORE
3424  0000              
