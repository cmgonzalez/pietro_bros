1     0000              MODULE pietro_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9880 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _player_init
183   0000              	GLOBAL _player_calc_slide
184   0000              	GLOBAL _player_check_input
185   0000              	GLOBAL _player_collision
186   0000              	GLOBAL _player_kill
187   0000              	GLOBAL _player_restart
188   0000              	GLOBAL _player_lost_life
189   0000              	GLOBAL _player_turn
190   0000              	GLOBAL _player_move
191   0000              	GLOBAL _player_move_input
192   0000              	GLOBAL _player_move_horizontal
193   0000              	GLOBAL _player_push
194   0000              	GLOBAL _player_hit_brick
195   0000              	GLOBAL _player_hit_brick_clear
196   0000              	GLOBAL _player_hit_pow
197   0000              	GLOBAL _player_coin
198   0000              	GLOBAL _player_score_add
199   0000              	GLOBAL _player_set
200   0000              ;--------------------------------------------------------
201   0000              ; Externals used
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _debug3
204   0000              	GLOBAL _debug2
205   0000              	GLOBAL _debug
206   0000              	GLOBAL _zx_print_str
207   0000              	GLOBAL _zx_print_int
208   0000              	GLOBAL _zx_print_chr
209   0000              	GLOBAL _zx_print_bonus_time
210   0000              	GLOBAL _zx_isr
211   0000              	GLOBAL _z80_otdr_callee
212   0000              	GLOBAL _z80_otdr
213   0000              	GLOBAL _z80_otir_callee
214   0000              	GLOBAL _z80_otir
215   0000              	GLOBAL _z80_outp_callee
216   0000              	GLOBAL _z80_outp
217   0000              	GLOBAL _z80_indr_callee
218   0000              	GLOBAL _z80_indr
219   0000              	GLOBAL _z80_inir_callee
220   0000              	GLOBAL _z80_inir
221   0000              	GLOBAL _z80_inp_fastcall
222   0000              	GLOBAL _z80_inp
223   0000              	GLOBAL _z80_set_int_state_fastcall
224   0000              	GLOBAL _z80_set_int_state
225   0000              	GLOBAL _z80_get_int_state
226   0000              	GLOBAL _z80_delay_tstate_fastcall
227   0000              	GLOBAL _z80_delay_tstate
228   0000              	GLOBAL _z80_delay_ms_fastcall
229   0000              	GLOBAL _z80_delay_ms
230   0000              	GLOBAL _im2_remove_generic_callback_callee
231   0000              	GLOBAL _im2_remove_generic_callback
232   0000              	GLOBAL _im2_prepend_generic_callback_callee
233   0000              	GLOBAL _im2_prepend_generic_callback
234   0000              	GLOBAL _im2_append_generic_callback_callee
235   0000              	GLOBAL _im2_append_generic_callback
236   0000              	GLOBAL _im2_create_generic_isr_8080_callee
237   0000              	GLOBAL _im2_create_generic_isr_8080
238   0000              	GLOBAL _im2_create_generic_isr_callee
239   0000              	GLOBAL _im2_create_generic_isr
240   0000              	GLOBAL _im2_install_isr_callee
241   0000              	GLOBAL _im2_install_isr
242   0000              	GLOBAL _im2_init_fastcall
243   0000              	GLOBAL _im2_init
244   0000              	GLOBAL _sound_hit_pow
245   0000              	GLOBAL _sound_hit_brick
246   0000              	GLOBAL _sound_hit_enemy
247   0000              	GLOBAL _sound_kill
248   0000              	GLOBAL _sound_enter_enemy
249   0000              	GLOBAL _sound_coin
250   0000              	GLOBAL _sound_jump
251   0000              	GLOBAL _sound_slide
252   0000              	GLOBAL _spr_mapfix
253   0000              	GLOBAL _spr_kill_all
254   0000              	GLOBAL _spr_collision_check
255   0000              	GLOBAL _spr_calc_hor
256   0000              	GLOBAL _spr_draw_row
257   0000              	GLOBAL _spr_draw_index
258   0000              	GLOBAL _spr_draw_clear
259   0000              	GLOBAL _spr_water_splash_draw
260   0000              	GLOBAL _spr_water_splash_clear
261   0000              	GLOBAL _spr_draw_background
262   0000              	GLOBAL _spr_cortina_brick
263   0000              	GLOBAL _spr_brick_anim
264   0000              	GLOBAL _spr_back_fix
265   0000              	GLOBAL _spr_back_paint
266   0000              	GLOBAL _spr_back_clr
267   0000              	GLOBAL _spr_draw_pow
268   0000              	GLOBAL _spr_tile
269   0000              	GLOBAL _spr_set_fall
270   0000              	GLOBAL _spr_destroy
271   0000              	GLOBAL _spr_check_over
272   0000              	GLOBAL _spr_tile_dir
273   0000              	GLOBAL _spr_anim_kill
274   0000              	GLOBAL _spr_anim_fall
275   0000              	GLOBAL _spr_killed
276   0000              	GLOBAL _spr_redraw
277   0000              	GLOBAL _spr_move_left
278   0000              	GLOBAL _spr_move_right
279   0000              	GLOBAL _spr_move_horizontal
280   0000              	GLOBAL _spr_move_down
281   0000              	GLOBAL _spr_move_up
282   0000              	GLOBAL _spr_chktime
283   0000              	GLOBAL _game_joystick_set_menu
284   0000              	GLOBAL _game_joystick_set
285   0000              	GLOBAL _game_joystick_change
286   0000              	GLOBAL _game_hall_print_p
287   0000              	GLOBAL _game_hall_edit_p
288   0000              	GLOBAL _game_hall_check
289   0000              	GLOBAL _game_hall_enter_phs
290   0000              	GLOBAL _game_print_header
291   0000              	GLOBAL _game_end
292   0000              	GLOBAL _game_hall_enter
293   0000              	GLOBAL _game_hall_of_fame
294   0000              	GLOBAL _game_score_osd
295   0000              	GLOBAL _game_phase_print_score_back
296   0000              	GLOBAL _game_bonus_clock
297   0000              	GLOBAL _game_bonus_summary_player
298   0000              	GLOBAL _game_bonus_summary
299   0000              	GLOBAL _game_check_time
300   0000              	GLOBAL _game_menu_config
301   0000              	GLOBAL _game_menu
302   0000              	GLOBAL _game_rotate_attrib
303   0000              	GLOBAL _game_colour_message
304   0000              	GLOBAL _game_paint_attrib_lin_h
305   0000              	GLOBAL _game_paint_attrib_lin
306   0000              	GLOBAL _game_paint_attrib
307   0000              	GLOBAL _game_menu_paint
308   0000              	GLOBAL _game_menu_top_paint
309   0000              	GLOBAL _game_menu_handle
310   0000              	GLOBAL _game_menu_e
311   0000              	GLOBAL _game_menu_back
312   0000              	GLOBAL _game_print_score
313   0000              	GLOBAL _game_unfreeze_all
314   0000              	GLOBAL _game_freeze_all
315   0000              	GLOBAL _game_freeze
316   0000              	GLOBAL _game_enemy_add_get_index
317   0000              	GLOBAL _game_enemy_add1
318   0000              	GLOBAL _game_enemy_quota
319   0000              	GLOBAL _game_enemy_rnd
320   0000              	GLOBAL _game_enemy_add
321   0000              	GLOBAL _game_check_floor
322   0000              	GLOBAL _game_check_maze
323   0000              	GLOBAL _game_loop
324   0000              	GLOBAL _player_set2
325   0000              	GLOBAL _player_set1
326   0000              	GLOBAL _game_phase_print
327   0000              	GLOBAL _game_phase_init
328   0000              	GLOBAL _game_phase_calc
329   0000              	GLOBAL _game_start_timer
330   0000              	GLOBAL _game_tick
331   0000              	GLOBAL _game_print_lives
332   0000              	GLOBAL _game_print_footer
333   0000              	GLOBAL _game_calc_index
334   0000              	GLOBAL _game_fill_row
335   0000              	GLOBAL _enemy_ugly_fix
336   0000              	GLOBAL _enemy_kill
337   0000              	GLOBAL _enemy_init
338   0000              	GLOBAL _enemy_walk
339   0000              	GLOBAL _enemy_upgrade
340   0000              	GLOBAL _enemy_evolve
341   0000              	GLOBAL _enemy_standard_hit
342   0000              	GLOBAL _enemy_trip_move
343   0000              	GLOBAL _enemy_trip
344   0000              	GLOBAL _enemy_fighterfly
345   0000              	GLOBAL _enemy_fireball_green
346   0000              	GLOBAL _enemy_fireball_red
347   0000              	GLOBAL _enemy_slipice
348   0000              	GLOBAL _enemy_standard
349   0000              	GLOBAL _enemy_turn
350   0000              	GLOBAL _enemy_flip_sidestepper
351   0000              	GLOBAL _enemy_flip
352   0000              	GLOBAL _enemy_flip_change_dir
353   0000              	GLOBAL _enemy_hit
354   0000              	GLOBAL _enemy_collision_turn_dir
355   0000              	GLOBAL _enemy_collision
356   0000              	GLOBAL _enemy_coin1
357   0000              	GLOBAL _ay_fx_play
358   0000              	GLOBAL _ay_midi_play
359   0000              	GLOBAL _ay_is_playing
360   0000              	GLOBAL _ay_reset
361   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawTW_raw
363   0000              	GLOBAL _NIRVANAP_drawTW_callee
364   0000              	GLOBAL _NIRVANAP_drawTW
365   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawW_raw
367   0000              	GLOBAL _NIRVANAP_drawW_callee
368   0000              	GLOBAL _NIRVANAP_drawW
369   0000              	GLOBAL _NIRVANAP_spriteT_callee
370   0000              	GLOBAL _NIRVANAP_spriteT
371   0000              	GLOBAL _NIRVANAP_fillC_callee
372   0000              	GLOBAL _NIRVANAP_fillC
373   0000              	GLOBAL _NIRVANAP_readC_callee
374   0000              	GLOBAL _NIRVANAP_readC
375   0000              	GLOBAL _NIRVANAP_paintC_callee
376   0000              	GLOBAL _NIRVANAP_paintC
377   0000              	GLOBAL _NIRVANAP_printC_callee
378   0000              	GLOBAL _NIRVANAP_printC
379   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
380   0000              	GLOBAL _NIRVANAP_fillT_raw
381   0000              	GLOBAL _NIRVANAP_fillT_callee
382   0000              	GLOBAL _NIRVANAP_fillT
383   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
384   0000              	GLOBAL _NIRVANAP_drawT_raw
385   0000              	GLOBAL _NIRVANAP_drawT_callee
386   0000              	GLOBAL _NIRVANAP_drawT
387   0000              	GLOBAL _NIRVANAP_stop
388   0000              	GLOBAL _NIRVANAP_start
389   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
390   0000              	GLOBAL _intrinsic_swap_word_32
391   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
392   0000              	GLOBAL _intrinsic_swap_endian_32
393   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
394   0000              	GLOBAL _intrinsic_swap_endian_16
395   0000              	GLOBAL _intrinsic_return_de
396   0000              	GLOBAL _intrinsic_return_bc
397   0000              	GLOBAL _intrinsic_exx
398   0000              	GLOBAL _intrinsic_ex_de_hl
399   0000              	GLOBAL _intrinsic_nop
400   0000              	GLOBAL _intrinsic_im_2
401   0000              	GLOBAL _intrinsic_im_1
402   0000              	GLOBAL _intrinsic_im_0
403   0000              	GLOBAL _intrinsic_retn
404   0000              	GLOBAL _intrinsic_reti
405   0000              	GLOBAL _intrinsic_halt
406   0000              	GLOBAL _intrinsic_ei
407   0000              	GLOBAL _intrinsic_di
408   0000              	GLOBAL _intrinsic_stub
409   0000              	GLOBAL _ulltoa_callee
410   0000              	GLOBAL _ulltoa
411   0000              	GLOBAL _strtoull_callee
412   0000              	GLOBAL _strtoull
413   0000              	GLOBAL _strtoll_callee
414   0000              	GLOBAL _strtoll
415   0000              	GLOBAL _lltoa_callee
416   0000              	GLOBAL _lltoa
417   0000              	GLOBAL _llabs_callee
418   0000              	GLOBAL _llabs
419   0000              	GLOBAL __lldivu__callee
420   0000              	GLOBAL __lldivu_
421   0000              	GLOBAL __lldiv__callee
422   0000              	GLOBAL __lldiv_
423   0000              	GLOBAL _atoll_callee
424   0000              	GLOBAL _atoll
425   0000              	GLOBAL _realloc_unlocked_callee
426   0000              	GLOBAL _realloc_unlocked
427   0000              	GLOBAL _malloc_unlocked_fastcall
428   0000              	GLOBAL _malloc_unlocked
429   0000              	GLOBAL _free_unlocked_fastcall
430   0000              	GLOBAL _free_unlocked
431   0000              	GLOBAL _calloc_unlocked_callee
432   0000              	GLOBAL _calloc_unlocked
433   0000              	GLOBAL _aligned_alloc_unlocked_callee
434   0000              	GLOBAL _aligned_alloc_unlocked
435   0000              	GLOBAL _realloc_callee
436   0000              	GLOBAL _realloc
437   0000              	GLOBAL _malloc_fastcall
438   0000              	GLOBAL _malloc
439   0000              	GLOBAL _free_fastcall
440   0000              	GLOBAL _free
441   0000              	GLOBAL _calloc_callee
442   0000              	GLOBAL _calloc
443   0000              	GLOBAL _aligned_alloc_callee
444   0000              	GLOBAL _aligned_alloc
445   0000              	GLOBAL _utoa_callee
446   0000              	GLOBAL _utoa
447   0000              	GLOBAL _ultoa_callee
448   0000              	GLOBAL _ultoa
449   0000              	GLOBAL _system_fastcall
450   0000              	GLOBAL _system
451   0000              	GLOBAL _strtoul_callee
452   0000              	GLOBAL _strtoul
453   0000              	GLOBAL _strtol_callee
454   0000              	GLOBAL _strtol
455   0000              	GLOBAL _strtof_callee
456   0000              	GLOBAL _strtof
457   0000              	GLOBAL _strtod_callee
458   0000              	GLOBAL _strtod
459   0000              	GLOBAL _srand_fastcall
460   0000              	GLOBAL _srand
461   0000              	GLOBAL _rand
462   0000              	GLOBAL _quick_exit_fastcall
463   0000              	GLOBAL _quick_exit
464   0000              	GLOBAL _qsort_callee
465   0000              	GLOBAL _qsort
466   0000              	GLOBAL _ltoa_callee
467   0000              	GLOBAL _ltoa
468   0000              	GLOBAL _labs_fastcall
469   0000              	GLOBAL _labs
470   0000              	GLOBAL _itoa_callee
471   0000              	GLOBAL _itoa
472   0000              	GLOBAL _ftoh_callee
473   0000              	GLOBAL _ftoh
474   0000              	GLOBAL _ftog_callee
475   0000              	GLOBAL _ftog
476   0000              	GLOBAL _ftoe_callee
477   0000              	GLOBAL _ftoe
478   0000              	GLOBAL _ftoa_callee
479   0000              	GLOBAL _ftoa
480   0000              	GLOBAL _exit_fastcall
481   0000              	GLOBAL _exit
482   0000              	GLOBAL _dtoh_callee
483   0000              	GLOBAL _dtoh
484   0000              	GLOBAL _dtog_callee
485   0000              	GLOBAL _dtog
486   0000              	GLOBAL _dtoe_callee
487   0000              	GLOBAL _dtoe
488   0000              	GLOBAL _dtoa_callee
489   0000              	GLOBAL _dtoa
490   0000              	GLOBAL _bsearch_callee
491   0000              	GLOBAL _bsearch
492   0000              	GLOBAL _atol_fastcall
493   0000              	GLOBAL _atol
494   0000              	GLOBAL _atoi_fastcall
495   0000              	GLOBAL _atoi
496   0000              	GLOBAL _atof_fastcall
497   0000              	GLOBAL _atof
498   0000              	GLOBAL _atexit_fastcall
499   0000              	GLOBAL _atexit
500   0000              	GLOBAL _at_quick_exit_fastcall
501   0000              	GLOBAL _at_quick_exit
502   0000              	GLOBAL _abs_fastcall
503   0000              	GLOBAL _abs
504   0000              	GLOBAL _abort
505   0000              	GLOBAL __strtou__callee
506   0000              	GLOBAL __strtou_
507   0000              	GLOBAL __strtoi__callee
508   0000              	GLOBAL __strtoi_
509   0000              	GLOBAL __random_uniform_xor_8__fastcall
510   0000              	GLOBAL __random_uniform_xor_8_
511   0000              	GLOBAL __random_uniform_xor_32__fastcall
512   0000              	GLOBAL __random_uniform_xor_32_
513   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
514   0000              	GLOBAL __random_uniform_cmwc_8_
515   0000              	GLOBAL __shellsort__callee
516   0000              	GLOBAL __shellsort_
517   0000              	GLOBAL __quicksort__callee
518   0000              	GLOBAL __quicksort_
519   0000              	GLOBAL __insertion_sort__callee
520   0000              	GLOBAL __insertion_sort_
521   0000              	GLOBAL __ldivu__callee
522   0000              	GLOBAL __ldivu_
523   0000              	GLOBAL __ldiv__callee
524   0000              	GLOBAL __ldiv_
525   0000              	GLOBAL __divu__callee
526   0000              	GLOBAL __divu_
527   0000              	GLOBAL __div__callee
528   0000              	GLOBAL __div_
529   0000              	GLOBAL _in_mouse_kempston_wheel_delta
530   0000              	GLOBAL _in_mouse_kempston_wheel
531   0000              	GLOBAL _in_mouse_kempston_callee
532   0000              	GLOBAL _in_mouse_kempston
533   0000              	GLOBAL _in_mouse_kempston_setpos_callee
534   0000              	GLOBAL _in_mouse_kempston_setpos
535   0000              	GLOBAL _in_mouse_kempston_reset
536   0000              	GLOBAL _in_mouse_kempston_init
537   0000              	GLOBAL _in_mouse_amx_wheel_delta
538   0000              	GLOBAL _in_mouse_amx_wheel
539   0000              	GLOBAL _in_mouse_amx_callee
540   0000              	GLOBAL _in_mouse_amx
541   0000              	GLOBAL _in_mouse_amx_setpos_callee
542   0000              	GLOBAL _in_mouse_amx_setpos
543   0000              	GLOBAL _in_mouse_amx_reset
544   0000              	GLOBAL _in_mouse_amx_init_callee
545   0000              	GLOBAL _in_mouse_amx_init
546   0000              	GLOBAL _in_stick_sinclair2
547   0000              	GLOBAL _in_stick_sinclair1
548   0000              	GLOBAL _in_stick_kempston
549   0000              	GLOBAL _in_stick_fuller
550   0000              	GLOBAL _in_stick_cursor
551   0000              	GLOBAL _in_stick_keyboard_fastcall
552   0000              	GLOBAL _in_stick_keyboard
553   0000              	GLOBAL _in_wait_nokey
554   0000              	GLOBAL _in_wait_key
555   0000              	GLOBAL _in_test_key
556   0000              	GLOBAL _in_pause_fastcall
557   0000              	GLOBAL _in_pause
558   0000              	GLOBAL _in_key_scancode_fastcall
559   0000              	GLOBAL _in_key_scancode
560   0000              	GLOBAL _in_key_pressed_fastcall
561   0000              	GLOBAL _in_key_pressed
562   0000              	GLOBAL _in_inkey
563   0000              	GLOBAL _zx_pattern_fill_callee
564   0000              	GLOBAL _zx_pattern_fill
565   0000              	GLOBAL _zx_saddrpup_fastcall
566   0000              	GLOBAL _zx_saddrpup
567   0000              	GLOBAL _zx_saddrpright_callee
568   0000              	GLOBAL _zx_saddrpright
569   0000              	GLOBAL _zx_saddrpleft_callee
570   0000              	GLOBAL _zx_saddrpleft
571   0000              	GLOBAL _zx_saddrpdown_fastcall
572   0000              	GLOBAL _zx_saddrpdown
573   0000              	GLOBAL _zx_saddrcup_fastcall
574   0000              	GLOBAL _zx_saddrcup
575   0000              	GLOBAL _zx_saddrcright_fastcall
576   0000              	GLOBAL _zx_saddrcright
577   0000              	GLOBAL _zx_saddrcleft_fastcall
578   0000              	GLOBAL _zx_saddrcleft
579   0000              	GLOBAL _zx_saddrcdown_fastcall
580   0000              	GLOBAL _zx_saddrcdown
581   0000              	GLOBAL _zx_saddr2py_fastcall
582   0000              	GLOBAL _zx_saddr2py
583   0000              	GLOBAL _zx_saddr2px_fastcall
584   0000              	GLOBAL _zx_saddr2px
585   0000              	GLOBAL _zx_saddr2cy_fastcall
586   0000              	GLOBAL _zx_saddr2cy
587   0000              	GLOBAL _zx_saddr2cx_fastcall
588   0000              	GLOBAL _zx_saddr2cx
589   0000              	GLOBAL _zx_saddr2aaddr_fastcall
590   0000              	GLOBAL _zx_saddr2aaddr
591   0000              	GLOBAL _zx_py2saddr_fastcall
592   0000              	GLOBAL _zx_py2saddr
593   0000              	GLOBAL _zx_py2aaddr_fastcall
594   0000              	GLOBAL _zx_py2aaddr
595   0000              	GLOBAL _zx_pxy2saddr_callee
596   0000              	GLOBAL _zx_pxy2saddr
597   0000              	GLOBAL _zx_pxy2aaddr_callee
598   0000              	GLOBAL _zx_pxy2aaddr
599   0000              	GLOBAL _zx_px2bitmask_fastcall
600   0000              	GLOBAL _zx_px2bitmask
601   0000              	GLOBAL _zx_cyx2saddr_callee
602   0000              	GLOBAL _zx_cyx2saddr
603   0000              	GLOBAL _zx_cyx2aaddr_callee
604   0000              	GLOBAL _zx_cyx2aaddr
605   0000              	GLOBAL _zx_cy2saddr_fastcall
606   0000              	GLOBAL _zx_cy2saddr
607   0000              	GLOBAL _zx_cy2aaddr_fastcall
608   0000              	GLOBAL _zx_cy2aaddr
609   0000              	GLOBAL _zx_bitmask2px_fastcall
610   0000              	GLOBAL _zx_bitmask2px
611   0000              	GLOBAL _zx_aaddrcup_fastcall
612   0000              	GLOBAL _zx_aaddrcup
613   0000              	GLOBAL _zx_aaddrcright_fastcall
614   0000              	GLOBAL _zx_aaddrcright
615   0000              	GLOBAL _zx_aaddrcleft_fastcall
616   0000              	GLOBAL _zx_aaddrcleft
617   0000              	GLOBAL _zx_aaddrcdown_fastcall
618   0000              	GLOBAL _zx_aaddrcdown
619   0000              	GLOBAL _zx_aaddr2saddr_fastcall
620   0000              	GLOBAL _zx_aaddr2saddr
621   0000              	GLOBAL _zx_aaddr2py_fastcall
622   0000              	GLOBAL _zx_aaddr2py
623   0000              	GLOBAL _zx_aaddr2px_fastcall
624   0000              	GLOBAL _zx_aaddr2px
625   0000              	GLOBAL _zx_aaddr2cy_fastcall
626   0000              	GLOBAL _zx_aaddr2cy
627   0000              	GLOBAL _zx_aaddr2cx_fastcall
628   0000              	GLOBAL _zx_aaddr2cx
629   0000              	GLOBAL _zx_scroll_wc_up_callee
630   0000              	GLOBAL _zx_scroll_wc_up
631   0000              	GLOBAL _zx_scroll_up_callee
632   0000              	GLOBAL _zx_scroll_up
633   0000              	GLOBAL _zx_cls_wc_callee
634   0000              	GLOBAL _zx_cls_wc
635   0000              	GLOBAL _zx_cls_fastcall
636   0000              	GLOBAL _zx_cls
637   0000              	GLOBAL _zx_border_fastcall
638   0000              	GLOBAL _zx_border
639   0000              	GLOBAL _game_hlt_cnt
640   0000              	GLOBAL _joynames
641   0000              	GLOBAL _initials
642   0000              	GLOBAL _hof
643   0000              	GLOBAL _score_osd_tile
644   0000              	GLOBAL _score_osd_update_time
645   0000              	GLOBAL _score_osd_col
646   0000              	GLOBAL _score_osd_lin
647   0000              	GLOBAL _phase_bonus_total
648   0000              	GLOBAL _phase_angry
649   0000              	GLOBAL _phase_curr
650   0000              	GLOBAL _phase_end
651   0000              	GLOBAL _phase_coins
652   0000              	GLOBAL _phase_pop
653   0000              	GLOBAL _phase_tot
654   0000              	GLOBAL _phase_left
655   0000              	GLOBAL _phase_quota
656   0000              	GLOBAL _phases
657   0000              	GLOBAL _lvl_1
658   0000              	GLOBAL _sprite_speed_alt
659   0000              	GLOBAL _sprite_speed
660   0000              	GLOBAL _screen_ink
661   0000              	GLOBAL _screen_paper
662   0000              	GLOBAL _game_menu_sel
663   0000              	GLOBAL _game_type
664   0000              	GLOBAL _game_osd
665   0000              	GLOBAL _game_bonus
666   0000              	GLOBAL _spr_water_time
667   0000              	GLOBAL _spr_water_clear
668   0000              	GLOBAL _game_time_fireball_start
669   0000              	GLOBAL _game_time_flipped
670   0000              	GLOBAL _game_score_top
671   0000              	GLOBAL _game_lives
672   0000              	GLOBAL _game_over
673   0000              	GLOBAL _game_sound
674   0000              	GLOBAL _game_inmune
675   0000              	GLOBAL _game_god_mode
676   0000              	GLOBAL _game_start_phase
677   0000              	GLOBAL _game_two_player
678   0000              	GLOBAL _game_brick_tile
679   0000              	GLOBAL _game_pow
680   0000              	GLOBAL _game_ugly_fix_cnt
681   0000              	GLOBAL _spr_count
682   0000              	GLOBAL _osd_show_time
683   0000              	GLOBAL _osd_update_time
684   0000              	GLOBAL _frame_time
685   0000              	GLOBAL _entry_time
686   0000              	GLOBAL _curr_time
687   0000              	GLOBAL _s_state
688   0000              	GLOBAL _attrib_hl
689   0000              	GLOBAL _attrib
690   0000              	GLOBAL _zx_val_asm
691   0000              	GLOBAL _enemies
692   0000              	GLOBAL _tmp_ui
693   0000              	GLOBAL _tmp_sc
694   0000              	GLOBAL _tmp_uc
695   0000              	GLOBAL _tmp1
696   0000              	GLOBAL _tmp0
697   0000              	GLOBAL _tmp
698   0000              	GLOBAL _index3
699   0000              	GLOBAL _index2
700   0000              	GLOBAL _index1
701   0000              	GLOBAL _loop_count
702   0000              	GLOBAL _sprite_lin_inc_mul
703   0000              	GLOBAL _s_col1
704   0000              	GLOBAL _s_col0
705   0000              	GLOBAL _s_lin1
706   0000              	GLOBAL _s_lin0
707   0000              	GLOBAL _s_tile1
708   0000              	GLOBAL _s_tile0
709   0000              	GLOBAL _hit_count
710   0000              	GLOBAL _tile_offset_other_player
711   0000              	GLOBAL _tile_offset
712   0000              	GLOBAL _index_player
713   0000              	GLOBAL _sprite_other_player
714   0000              	GLOBAL _sprite
715   0000              	GLOBAL _player_joy
716   0000              	GLOBAL _player_next_extra
717   0000              	GLOBAL _player_score
718   0000              	GLOBAL _last_time
719   0000              	GLOBAL _sliding
720   0000              	GLOBAL _spr_timer
721   0000              	GLOBAL _jump_lin
722   0000              	GLOBAL _player_jump_c
723   0000              	GLOBAL _hit_col
724   0000              	GLOBAL _hit_lin
725   0000              	GLOBAL _colint
726   0000              	GLOBAL _col
727   0000              	GLOBAL _lin
728   0000              	GLOBAL _tile
729   0000              	GLOBAL _state_a
730   0000              	GLOBAL _state
731   0000              	GLOBAL _class
732   0000              	GLOBAL _tbuffer
733   0000              	GLOBAL _dirs
734   0000              	GLOBAL _k2
735   0000              	GLOBAL _k1
736   0000              	GLOBAL _joyfunc2
737   0000              	GLOBAL _joyfunc1
738   0000              	GLOBAL _btiles
739   0000              	GLOBAL _spec128
740   0000              	GLOBAL _ay_effect_20
741   0000              	GLOBAL _ay_effect_19
742   0000              	GLOBAL _ay_effect_18
743   0000              	GLOBAL _ay_effect_17
744   0000              	GLOBAL _ay_effect_16
745   0000              	GLOBAL _ay_effect_15
746   0000              	GLOBAL _ay_effect_14
747   0000              	GLOBAL _ay_effect_13
748   0000              	GLOBAL _ay_effect_12
749   0000              	GLOBAL _ay_effect_11
750   0000              	GLOBAL _ay_effect_10
751   0000              	GLOBAL _ay_effect_09
752   0000              	GLOBAL _ay_effect_08
753   0000              	GLOBAL _ay_effect_07
754   0000              	GLOBAL _ay_effect_06
755   0000              	GLOBAL _ay_effect_05
756   0000              	GLOBAL _ay_effect_04
757   0000              	GLOBAL _ay_effect_03
758   0000              	GLOBAL _ay_effect_02
759   0000              	GLOBAL _ay_effect_01
760   0000              	GLOBAL _pb_midi_phase_1
761   0000              	GLOBAL _pb_midi_title
762   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
763   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
764   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
765   0000              	GLOBAL _NIRVANAP_HOLE
766   0000              	GLOBAL _NIRVANAP_ISR_HOOK
767   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
768   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
769   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
770   0000              	GLOBAL _control_method
771   0000              	GLOBAL _hall_valids
772   0000              ;--------------------------------------------------------
773   0000              ; special function registers
774   0000              ;--------------------------------------------------------
775   0000              defc _IO_FE	=	0x00fe
776   0000              defc _IO_1FFD	=	0x1ffd
777   0000              defc _IO_7FFD	=	0x7ffd
778   0000              ;--------------------------------------------------------
779   0000              ; ram data
780   0000              ;--------------------------------------------------------
781   0000              	SECTION bss_compiler
782   0000              ;--------------------------------------------------------
783   0000              ; ram data
784   0000              ;--------------------------------------------------------
785   0000              
786   0000              IF 0
787   0000              
788   0000              ; .area _INITIALIZED removed by z88dk
789   0000              
790   0000              
791   0000              ENDIF
792   0000              
793   0000              ;--------------------------------------------------------
794   0000              ; absolute external ram data
795   0000              ;--------------------------------------------------------
796   0000              	SECTION IGNORE
797   0000              ;--------------------------------------------------------
798   0000              ; global & static initialisations
799   0000              ;--------------------------------------------------------
800   0000              	SECTION code_crt_init
801   0000              ;--------------------------------------------------------
802   0000              ; Home
803   0000              ;--------------------------------------------------------
804   0000              	SECTION IGNORE
805   0000              ;--------------------------------------------------------
806   0000              ; code
807   0000              ;--------------------------------------------------------
808   0000              	SECTION code_compiler
809   0000              ;	---------------------------------
810   0000              ; Function player_init
811   0000              ; ---------------------------------
812   0000              _player_init:
813   0000  CD 00 00    	call	___sdcc_enter_ix
814   0003  F5          	push	af
815   0004  3E 00       	ld	a,+((_class) & 0xFF)
816   0006  DD 86 04    	add	a,(ix+4)
817   0009  4F          	ld	c,a
818   000A  3E 00       	ld	a,+((_class) / 256)
819   000C  CE 00       	adc	a,0x00
820   000E  47          	ld	b,a
821   000F  3E 10       	ld	a,0x10
822   0011  02          	ld	(bc),a
823   0012  3E 00       	ld	a,+((_tile) & 0xFF)
824   0014  DD 86 04    	add	a,(ix+4)
825   0017  4F          	ld	c,a
826   0018  3E 00       	ld	a,+((_tile) / 256)
827   001A  CE 00       	adc	a,0x00
828   001C  47          	ld	b,a
829   001D  DD 7E 07    	ld	a,(ix+7)
830   0020  02          	ld	(bc),a
831   0021  3E 00       	ld	a,+((_lin) & 0xFF)
832   0023  DD 86 04    	add	a,(ix+4)
833   0026  4F          	ld	c,a
834   0027  3E 00       	ld	a,+((_lin) / 256)
835   0029  CE 00       	adc	a,0x00
836   002B  47          	ld	b,a
837   002C  DD 7E 05    	ld	a,(ix+5)
838   002F  02          	ld	(bc),a
839   0030  3E 00       	ld	a,+((_col) & 0xFF)
840   0032  DD 86 04    	add	a,(ix+4)
841   0035  4F          	ld	c,a
842   0036  3E 00       	ld	a,+((_col) / 256)
843   0038  CE 00       	adc	a,0x00
844   003A  47          	ld	b,a
845   003B  DD 7E 06    	ld	a,(ix+6)
846   003E  02          	ld	(bc),a
847   003F  3E 00       	ld	a,+((_colint) & 0xFF)
848   0041  DD 86 04    	add	a,(ix+4)
849   0044  4F          	ld	c,a
850   0045  3E 00       	ld	a,+((_colint) / 256)
851   0047  CE 00       	adc	a,0x00
852   0049  47          	ld	b,a
853   004A  AF          	xor	a, a
854   004B  02          	ld	(bc),a
855   004C  3E 00       	ld	a,+((_state) & 0xFF)
856   004E  DD 86 04    	add	a,(ix+4)
857   0051  4F          	ld	c,a
858   0052  3E 00       	ld	a,+((_state) / 256)
859   0054  CE 00       	adc	a,0x00
860   0056  47          	ld	b,a
861   0057  AF          	xor	a, a
862   0058  02          	ld	(bc),a
863   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
864   005B  DD 86 04    	add	a,(ix+4)
865   005E  4F          	ld	c,a
866   005F  3E 00       	ld	a,+((_state_a) / 256)
867   0061  CE 00       	adc	a,0x00
868   0063  47          	ld	b,a
869   0064  AF          	xor	a, a
870   0065  02          	ld	(bc),a
871   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
872   0068  DD 86 04    	add	a,(ix+4)
873   006B  5F          	ld	e,a
874   006C  3E 00       	ld	a,+((_jump_lin) / 256)
875   006E  CE 00       	adc	a,0x00
876   0070  57          	ld	d,a
877   0071  DD 7E 05    	ld	a,(ix+5)
878   0074  12          	ld	(de),a
879   0075  DD 6E 04    	ld	l,(ix+4)
880   0078  26 00       	ld	h,0x00
881   007A  29          	add	hl,hl
882   007B  11 00 00    	ld	de,_last_time
883   007E  19          	add	hl, de
884   007F  E3          	ex	(sp), hl
885   0080  E1          	pop	hl
886   0081  ED 5B 00 00 	ld	de,(_curr_time)
887   0085  E5          	push	hl
888   0086  73          	ld	(hl),e
889   0087  23          	inc	hl
890   0088  72          	ld	(hl),d
891   0089  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
892   008B  DD 86 04    	add	a,(ix+4)
893   008E  5F          	ld	e,a
894   008F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
895   0091  CE 00       	adc	a,0x00
896   0093  57          	ld	d,a
897   0094  AF          	xor	a, a
898   0095  12          	ld	(de),a
899   0096  0A          	ld	a,(bc)
900   0097  F6 01       	or	a,0x01
901   0099  02          	ld	(bc),a
902   009A  5F          	ld	e,a
903   009B  DD 7E 04    	ld	a,(ix+4)
904   009E  D6 07       	sub	a,0x07
905   00A0  20 0B       	jr	NZ,l_player_init_00102
906   00A2  21 00 00    	ld	hl,_index_player
907   00A5  36 00       	ld	(hl),0x00
908   00A7  7B          	ld	a,e
909   00A8  F6 10       	or	a,0x10
910   00AA  02          	ld	(bc),a
911   00AB  18 09       	jr	l_player_init_00103
912   00AD              l_player_init_00102:
913   00AD  21 00 00    	ld	hl,_index_player
914   00B0  36 01       	ld	(hl),0x01
915   00B2  7B          	ld	a,e
916   00B3  F6 08       	or	a,0x08
917   00B5  02          	ld	(bc),a
918   00B6              l_player_init_00103:
919   00B6  2A 00 00    	ld	hl,(_index_player)
920   00B9  26 00       	ld	h,0x00
921   00BB  01 00 00    	ld	bc,_hit_col
922   00BE  09          	add	hl,bc
923   00BF  AF          	xor	a,a
924   00C0  77          	ld	(hl),a
925   00C1  2A 00 00    	ld	hl,(_index_player)
926   00C4  26 00       	ld	h,0x00
927   00C6  01 00 00    	ld	bc,_hit_lin
928   00C9  09          	add	hl,bc
929   00CA  AF          	xor	a,a
930   00CB  77          	ld	(hl),a
931   00CC  2A 00 00    	ld	hl,(_index_player)
932   00CF  26 00       	ld	h,0x00
933   00D1  01 00 00    	ld	bc,_sliding
934   00D4  09          	add	hl,bc
935   00D5  AF          	xor	a,a
936   00D6  77          	ld	(hl),a
937   00D7  2A 00 00    	ld	hl,(_index_player)
938   00DA  26 00       	ld	h,0x00
939   00DC  01 00 00    	ld	bc,_player_jump_c
940   00DF  09          	add	hl,bc
941   00E0  AF          	xor	a,a
942   00E1  77          	ld	(hl),a
943   00E2  DD 66 06    	ld	h,(ix+6)
944   00E5  DD 6E 05    	ld	l,(ix+5)
945   00E8  E5          	push	hl
946   00E9  DD 66 07    	ld	h,(ix+7)
947   00EC  DD 6E 04    	ld	l,(ix+4)
948   00EF  E5          	push	hl
949   00F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
950   00F3  F1          	pop	af
951   00F4  DD E1       	pop	ix
952   00F6  C9          	ret
953   00F7              	SECTION code_compiler
954   00F7              ;	---------------------------------
955   00F7              ; Function player_calc_slide
956   00F7              ; ---------------------------------
957   00F7              _player_calc_slide:
958   00F7  2A 00 00    	ld	hl,(_sprite)
959   00FA  26 00       	ld	h,0x00
960   00FC  01 00 00    	ld	bc,_col
961   00FF  09          	add	hl,bc
962   0100  56          	ld	d, (hl)
963   0101  2A 00 00    	ld	hl,(_sprite)
964   0104  26 00       	ld	h,0x00
965   0106  01 00 00    	ld	bc,_lin
966   0109  09          	add	hl,bc
967   010A  7E          	ld	a,(hl)
968   010B  C6 10       	add	a,0x10
969   010D  5F          	ld	e, a
970   010E  D5          	push	de
971   010F  CD 00 00    	call	_game_calc_index
972   0112  F1          	pop	af
973   0113  22 00 00    	ld	(_index1),hl
974   0116  11 00 00    	ld	de,_sliding+0
975   0119  2A 00 00    	ld	hl,(_index_player)
976   011C  26 00       	ld	h,0x00
977   011E  19          	add	hl,de
978   011F  36 06       	ld	(hl),0x06
979   0121  2A 00 00    	ld	hl,(_index1)
980   0124  01 00 00    	ld	bc,_lvl_1
981   0127  09          	add	hl,bc
982   0128  7E          	ld	a,(hl)
983   0129  4F          	ld	c,a
984   012A  B7          	or	a,a
985   012B  20 0A       	jr	NZ,l_player_calc_slide_00102
986   012D  ED 4B 00 00 	ld	bc,(_index1)
987   0131  03          	inc	bc
988   0132  21 00 00    	ld	hl,_lvl_1
989   0135  09          	add	hl,bc
990   0136  4E          	ld	c,(hl)
991   0137              l_player_calc_slide_00102:
992   0137  2A 00 00    	ld	hl,(_index_player)
993   013A  26 00       	ld	h,0x00
994   013C  19          	add	hl,de
995   013D  79          	ld	a,c
996   013E  EB          	ex	de,hl
997   013F  D6 11       	sub	a,0x11
998   0141  28 15       	jr	Z,l_player_calc_slide_00105
999   0143  79          	ld	a,c
1000  0144  FE 84       	cp	a,0x84
1001  0146  28 06       	jr	Z,l_player_calc_slide_00103
1002  0148  D6 8B       	sub	a,0x8b
1003  014A  28 07       	jr	Z,l_player_calc_slide_00104
1004  014C  18 0D       	jr	l_player_calc_slide_00107
1005  014E              l_player_calc_slide_00103:
1006  014E  3E 06       	ld	a,0x06
1007  0150  12          	ld	(de),a
1008  0151  18 08       	jr	l_player_calc_slide_00107
1009  0153              l_player_calc_slide_00104:
1010  0153  3E 0C       	ld	a,0x0c
1011  0155  12          	ld	(de),a
1012  0156  18 03       	jr	l_player_calc_slide_00107
1013  0158              l_player_calc_slide_00105:
1014  0158  3E 03       	ld	a,0x03
1015  015A  12          	ld	(de),a
1016  015B              l_player_calc_slide_00107:
1017  015B  C9          	ret
1018  015C              	SECTION code_compiler
1019  015C              ;	---------------------------------
1020  015C              ; Function player_check_input
1021  015C              ; ---------------------------------
1022  015C              _player_check_input:
1023  015C  21 00 00    	ld	hl,_dirs
1024  015F  7E          	ld	a,(hl)
1025  0160  CB 07       	rlc	a
1026  0162  E6 01       	and	a,0x01
1027  0164  CB 47       	bit	0,a
1028  0166  20 0F       	jr	NZ,l_player_check_input_00104
1029  0168  7E          	ld	a,(hl)
1030  0169  E6 04       	and	a,0x04
1031  016B  20 0A       	jr	NZ,l_player_check_input_00104
1032  016D  3A 00 00    	ld	a,(_dirs)
1033  0170  E6 08       	and	a,0x08
1034  0172  20 03       	jr	NZ,l_player_check_input_00104
1035  0174  6F          	ld	l,a
1036  0175  18 02       	jr	l_player_check_input_00105
1037  0177              l_player_check_input_00104:
1038  0177  2E 01       	ld	l,0x01
1039  0179              l_player_check_input_00105:
1040  0179  C9          	ret
1041  017A              	SECTION code_compiler
1042  017A              ;	---------------------------------
1043  017A              ; Function player_collision
1044  017A              ; ---------------------------------
1045  017A              _player_collision:
1046  017A  2A 00 00    	ld	hl,(_sprite)
1047  017D  26 00       	ld	h,0x00
1048  017F  01 00 00    	ld	bc,_class
1049  0182  09          	add	hl,bc
1050  0183  7E          	ld	a,(hl)
1051  0184  B7          	or	a,a
1052  0185  20 04       	jr	NZ,l_player_collision_00102
1053  0187  6F          	ld	l,a
1054  0188  C3 D1 02    	jp	l_player_collision_00133
1055  018B              l_player_collision_00102:
1056  018B  2A 00 00    	ld	hl,(_sprite)
1057  018E  26 00       	ld	h,0x00
1058  0190  01 00 00    	ld	bc,_state
1059  0193  09          	add	hl,bc
1060  0194  7E          	ld	a,(hl)
1061  0195  CB 67       	bit	4, a
1062  0197  28 05       	jr	Z,l_player_collision_00104
1063  0199  2E 00       	ld	l,0x00
1064  019B  C3 D1 02    	jp	l_player_collision_00133
1065  019E              l_player_collision_00104:
1066  019E  CB 6F       	bit	5, a
1067  01A0  28 05       	jr	Z,l_player_collision_00106
1068  01A2  2E 00       	ld	l,0x00
1069  01A4  C3 D1 02    	jp	l_player_collision_00133
1070  01A7              l_player_collision_00106:
1071  01A7  21 00 00    	ld	hl,_hit_count
1072  01AA  36 00       	ld	(hl),0x00
1073  01AC  21 00 00    	ld	hl,_enemies
1074  01AF  36 00       	ld	(hl),0x00
1075  01B1              l_player_collision_00131:
1076  01B1  2A 00 00    	ld	hl,(_enemies)
1077  01B4  26 0E       	ld	h,0x0e
1078  01B6  3A 00 00    	ld	a,(_sprite)
1079  01B9  E5          	push	hl
1080  01BA  F5          	push	af
1081  01BB  33          	inc	sp
1082  01BC  CD 00 00    	call	_spr_collision_check
1083  01BF  F1          	pop	af
1084  01C0  33          	inc	sp
1085  01C1  7D          	ld	a,l
1086  01C2  B7          	or	a, a
1087  01C3  28 52       	jr	Z,l_player_collision_00132
1088  01C5  2A 00 00    	ld	hl,(_enemies)
1089  01C8  26 00       	ld	h,0x00
1090  01CA  01 00 00    	ld	bc,_state
1091  01CD  09          	add	hl,bc
1092  01CE  CB 66       	bit	4,(hl)
1093  01D0  28 08       	jr	Z,l_player_collision_00117
1094  01D2  2A 00 00    	ld	hl,(_enemies)
1095  01D5  CD 00 00    	call	_enemy_kill
1096  01D8  18 3D       	jr	l_player_collision_00132
1097  01DA              l_player_collision_00117:
1098  01DA  2A 00 00    	ld	hl,(_enemies)
1099  01DD  26 00       	ld	h,0x00
1100  01DF  01 00 00    	ld	bc,_class
1101  01E2  09          	add	hl,bc
1102  01E3  7E          	ld	a,(hl)
1103  01E4  4F          	ld	c,a
1104  01E5  D6 08       	sub	a,0x08
1105  01E7  28 05       	jr	Z,l_player_collision_00112
1106  01E9  79          	ld	a,c
1107  01EA  D6 0C       	sub	a,0x0c
1108  01EC  20 0C       	jr	NZ,l_player_collision_00113
1109  01EE              l_player_collision_00112:
1110  01EE  2A 00 00    	ld	hl,(_enemies)
1111  01F1  26 50       	ld	h,0x50
1112  01F3  E5          	push	hl
1113  01F4  CD F2 0E    	call	_player_coin
1114  01F7  F1          	pop	af
1115  01F8  18 1D       	jr	l_player_collision_00132
1116  01FA              l_player_collision_00113:
1117  01FA  21 00 00    	ld	hl,_ay_effect_18
1118  01FD  CD 00 00    	call	_ay_fx_play
1119  0200  3A 00 00    	ld	a,(_game_god_mode)
1120  0203  B7          	or	a, a
1121  0204  28 08       	jr	Z,l_player_collision_00110
1122  0206  2A 00 00    	ld	hl,(_enemies)
1123  0209  CD 00 00    	call	_enemy_kill
1124  020C  18 09       	jr	l_player_collision_00132
1125  020E              l_player_collision_00110:
1126  020E  3A 00 00    	ld	a,(_game_inmune)
1127  0211  B7          	or	a, a
1128  0212  20 03       	jr	NZ,l_player_collision_00132
1129  0214  CD D2 02    	call	_player_kill
1130  0217              l_player_collision_00132:
1131  0217  21 00 00    	ld	hl,_enemies
1132  021A  7E          	ld	a,(hl)
1133  021B  3C          	inc	a
1134  021C  77          	ld	(hl),a
1135  021D  D6 06       	sub	a,0x06
1136  021F  38 90       	jr	C,l_player_collision_00131
1137  0221  3A 00 00    	ld	a,(_hit_count)
1138  0224  B7          	or	a, a
1139  0225  CA CF 02    	jp	Z,l_player_collision_00129
1140  0228  2A 00 00    	ld	hl,(_sprite)
1141  022B  26 00       	ld	h,0x00
1142  022D  01 00 00    	ld	bc,_lin
1143  0230  09          	add	hl,bc
1144  0231  4E          	ld	c,(hl)
1145  0232  3E 18       	ld	a,0x18
1146  0234  91          	sub	a, c
1147  0235  D2 CF 02    	jp	NC,l_player_collision_00129
1148  0238  2A 00 00    	ld	hl,(_index_player)
1149  023B  26 00       	ld	h,0x00
1150  023D  01 00 00    	ld	bc,_score_osd_col
1151  0240  09          	add	hl,bc
1152  0241  7E          	ld	a,(hl)
1153  0242  47          	ld	b,a
1154  0243  3C          	inc	a
1155  0244  28 13       	jr	Z,l_player_collision_00123
1156  0246  3A 00 00    	ld	a,(_index_player)
1157  0249  5F          	ld	e,a
1158  024A  16 00       	ld	d,0x00
1159  024C  21 00 00    	ld	hl,_score_osd_lin
1160  024F  19          	add	hl,de
1161  0250  4E          	ld	c, (hl)
1162  0251  C5          	push	bc
1163  0252  3E A9       	ld	a,0xa9
1164  0254  F5          	push	af
1165  0255  33          	inc	sp
1166  0256  CD 00 00    	call	_NIRVANAP_drawT_callee
1167  0259              l_player_collision_00123:
1168  0259  2A 00 00    	ld	hl,(_index_player)
1169  025C  26 00       	ld	h,0x00
1170  025E  01 00 00    	ld	bc,_score_osd_col
1171  0261  09          	add	hl,bc
1172  0262  4D          	ld	c,l
1173  0263  44          	ld	b,h
1174  0264  2A 00 00    	ld	hl,(_sprite)
1175  0267  26 00       	ld	h,0x00
1176  0269  11 00 00    	ld	de,_col
1177  026C  19          	add	hl,de
1178  026D  7E          	ld	a,(hl)
1179  026E  02          	ld	(bc),a
1180  026F  2A 00 00    	ld	hl,(_index_player)
1181  0272  26 00       	ld	h,0x00
1182  0274  01 00 00    	ld	bc,_score_osd_lin
1183  0277  09          	add	hl,bc
1184  0278  4D          	ld	c,l
1185  0279  44          	ld	b,h
1186  027A  2A 00 00    	ld	hl,(_sprite)
1187  027D  26 00       	ld	h,0x00
1188  027F  11 00 00    	ld	de,_lin
1189  0282  19          	add	hl,de
1190  0283  7E          	ld	a,(hl)
1191  0284  C6 FA       	add	a,0xfa
1192  0286  02          	ld	(bc),a
1193  0287  01 00 00    	ld	bc,_score_osd_update_time+0
1194  028A  2A 00 00    	ld	hl,(_index_player)
1195  028D  26 00       	ld	h,0x00
1196  028F  29          	add	hl, hl
1197  0290  09          	add	hl,bc
1198  0291  ED 5B 00 00 	ld	de,(_curr_time)
1199  0295  73          	ld	(hl),e
1200  0296  23          	inc	hl
1201  0297  72          	ld	(hl),d
1202  0298  01 00 00    	ld	bc,_score_osd_tile+0
1203  029B  2A 00 00    	ld	hl,(_index_player)
1204  029E  26 00       	ld	h,0x00
1205  02A0  29          	add	hl, hl
1206  02A1  09          	add	hl,bc
1207  02A2  36 BC       	ld	(hl),0xbc
1208  02A4  23          	inc	hl
1209  02A5  36 00       	ld	(hl),0x00
1210  02A7  3E 01       	ld	a,0x01
1211  02A9  21 00 00    	ld	hl,_hit_count
1212  02AC  96          	sub	a, (hl)
1213  02AD  30 0C       	jr	NC,l_player_collision_00125
1214  02AF  2A 00 00    	ld	hl,(_index_player)
1215  02B2  26 00       	ld	h,0x00
1216  02B4  29          	add	hl, hl
1217  02B5  09          	add	hl,bc
1218  02B6  36 D7       	ld	(hl),0xd7
1219  02B8  23          	inc	hl
1220  02B9  36 00       	ld	(hl),0x00
1221  02BB              l_player_collision_00125:
1222  02BB  3E 06       	ld	a,0x06
1223  02BD  21 00 00    	ld	hl,_hit_count
1224  02C0  96          	sub	a, (hl)
1225  02C1  30 0C       	jr	NC,l_player_collision_00129
1226  02C3  2A 00 00    	ld	hl,(_index_player)
1227  02C6  26 00       	ld	h,0x00
1228  02C8  29          	add	hl, hl
1229  02C9  09          	add	hl,bc
1230  02CA  36 CB       	ld	(hl),0xcb
1231  02CC  23          	inc	hl
1232  02CD  36 00       	ld	(hl),0x00
1233  02CF              l_player_collision_00129:
1234  02CF  2E 00       	ld	l,0x00
1235  02D1              l_player_collision_00133:
1236  02D1  C9          	ret
1237  02D2              	SECTION code_compiler
1238  02D2              ;	---------------------------------
1239  02D2              ; Function player_kill
1240  02D2              ; ---------------------------------
1241  02D2              _player_kill:
1242  02D2  01 00 00    	ld	bc,_state+0
1243  02D5  2A 00 00    	ld	hl,(_sprite)
1244  02D8  26 00       	ld	h,0x00
1245  02DA  09          	add	hl,bc
1246  02DB  CB 6E       	bit	5,(hl)
1247  02DD  C2 AC 03    	jp	NZ,l_player_kill_00109
1248  02E0  C5          	push	bc
1249  02E1  CD 00 00    	call	_sound_hit_brick
1250  02E4  C1          	pop	bc
1251  02E5  79          	ld	a,c
1252  02E6  21 00 00    	ld	hl,_sprite
1253  02E9  86          	add	a, (hl)
1254  02EA  5F          	ld	e,a
1255  02EB  78          	ld	a,b
1256  02EC  CE 00       	adc	a,0x00
1257  02EE  57          	ld	d,a
1258  02EF  1A          	ld	a,(de)
1259  02F0  F6 20       	or	a,0x20
1260  02F2  12          	ld	(de),a
1261  02F3  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1262  02F5  86          	add	a, (hl)
1263  02F6  5F          	ld	e,a
1264  02F7  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1265  02F9  CE 00       	adc	a,0x00
1266  02FB  57          	ld	d,a
1267  02FC  3E 03       	ld	a,0x03
1268  02FE  12          	ld	(de),a
1269  02FF  79          	ld	a,c
1270  0300  86          	add	a, (hl)
1271  0301  4F          	ld	c,a
1272  0302  78          	ld	a,b
1273  0303  CE 00       	adc	a,0x00
1274  0305  47          	ld	b,a
1275  0306  0A          	ld	a,(bc)
1276  0307  CB 57       	bit	2, a
1277  0309  28 11       	jr	Z,l_player_kill_00102
1278  030B  2A 00 00    	ld	hl,(_sprite)
1279  030E  26 00       	ld	h,0x00
1280  0310  01 00 00    	ld	bc,_tile
1281  0313  09          	add	hl,bc
1282  0314  3A 00 00    	ld	a,(_tile_offset)
1283  0317  C6 0B       	add	a,0x0b
1284  0319  77          	ld	(hl),a
1285  031A  18 0F       	jr	l_player_kill_00103
1286  031C              l_player_kill_00102:
1287  031C  2A 00 00    	ld	hl,(_sprite)
1288  031F  26 00       	ld	h,0x00
1289  0321  01 00 00    	ld	bc,_tile
1290  0324  09          	add	hl,bc
1291  0325  3A 00 00    	ld	a,(_tile_offset)
1292  0328  C6 17       	add	a,0x17
1293  032A  77          	ld	(hl),a
1294  032B              l_player_kill_00103:
1295  032B  CD CE 0D    	call	_player_hit_brick_clear
1296  032E  2A 00 00    	ld	hl,(_sprite)
1297  0331  26 00       	ld	h,0x00
1298  0333  01 00 00    	ld	bc,_col
1299  0336  09          	add	hl,bc
1300  0337  4E          	ld	c, (hl)
1301  0338  2A 00 00    	ld	hl,(_sprite)
1302  033B  26 00       	ld	h,0x00
1303  033D  11 00 00    	ld	de,_lin
1304  0340  19          	add	hl,de
1305  0341  46          	ld	b, (hl)
1306  0342  2A 00 00    	ld	hl,(_sprite)
1307  0345  26 00       	ld	h,0x00
1308  0347  11 00 00    	ld	de,_tile
1309  034A  19          	add	hl,de
1310  034B  56          	ld	d, (hl)
1311  034C  79          	ld	a,c
1312  034D  21 00 00    	ld	hl,_sprite
1313  0350  F5          	push	af
1314  0351  33          	inc	sp
1315  0352  4A          	ld	c, d
1316  0353  7E          	ld	a,(hl)
1317  0354  C5          	push	bc
1318  0355  F5          	push	af
1319  0356  33          	inc	sp
1320  0357  CD 00 00    	call	_NIRVANAP_spriteT_callee
1321  035A  01 00 00    	ld	bc,_spr_timer+0
1322  035D  2A 00 00    	ld	hl,(_sprite)
1323  0360  26 00       	ld	h,0x00
1324  0362  29          	add	hl, hl
1325  0363  09          	add	hl,bc
1326  0364  ED 5B 00 00 	ld	de,(_curr_time)
1327  0368  73          	ld	(hl),e
1328  0369  23          	inc	hl
1329  036A  72          	ld	(hl),d
1330  036B  3A 00 00    	ld	a,(_sprite)
1331  036E  D6 07       	sub	a,0x07
1332  0370  20 1E       	jr	NZ,l_player_kill_00105
1333  0372  01 00 00    	ld	bc,_state_a+0
1334  0375  79          	ld	a,c
1335  0376  21 00 00    	ld	hl,_sprite
1336  0379  86          	add	a, (hl)
1337  037A  5F          	ld	e,a
1338  037B  78          	ld	a,b
1339  037C  CE 00       	adc	a,0x00
1340  037E  57          	ld	d,a
1341  037F  1A          	ld	a,(de)
1342  0380  F6 08       	or	a,0x08
1343  0382  12          	ld	(de),a
1344  0383  79          	ld	a,c
1345  0384  86          	add	a, (hl)
1346  0385  4F          	ld	c,a
1347  0386  78          	ld	a,b
1348  0387  CE 00       	adc	a,0x00
1349  0389  47          	ld	b,a
1350  038A  0A          	ld	a,(bc)
1351  038B  E6 EF       	and	a,0xef
1352  038D  02          	ld	(bc),a
1353  038E  18 1C       	jr	l_player_kill_00109
1354  0390              l_player_kill_00105:
1355  0390  01 00 00    	ld	bc,_state_a+0
1356  0393  79          	ld	a,c
1357  0394  21 00 00    	ld	hl,_sprite
1358  0397  86          	add	a, (hl)
1359  0398  5F          	ld	e,a
1360  0399  78          	ld	a,b
1361  039A  CE 00       	adc	a,0x00
1362  039C  57          	ld	d,a
1363  039D  1A          	ld	a,(de)
1364  039E  F6 10       	or	a,0x10
1365  03A0  12          	ld	(de),a
1366  03A1  79          	ld	a,c
1367  03A2  86          	add	a, (hl)
1368  03A3  4F          	ld	c,a
1369  03A4  78          	ld	a,b
1370  03A5  CE 00       	adc	a,0x00
1371  03A7  47          	ld	b,a
1372  03A8  0A          	ld	a,(bc)
1373  03A9  E6 F7       	and	a,0xf7
1374  03AB  02          	ld	(bc),a
1375  03AC              l_player_kill_00109:
1376  03AC  C9          	ret
1377  03AD              	SECTION code_compiler
1378  03AD              ;	---------------------------------
1379  03AD              ; Function player_restart
1380  03AD              ; ---------------------------------
1381  03AD              _player_restart:
1382  03AD  CD 00 00    	call	___sdcc_enter_ix
1383  03B0  F5          	push	af
1384  03B1  4D          	ld	c,l
1385  03B2  21 00 00    	ld	hl,_ay_effect_15
1386  03B5  CD 00 00    	call	_ay_fx_play
1387  03B8  79          	ld	a,c
1388  03B9  D6 07       	sub	a,0x07
1389  03BB  20 1B       	jr	NZ,l_player_restart_00102
1390  03BD  C5          	push	bc
1391  03BE  21 0E 03    	ld	hl,0x030e
1392  03C1  E5          	push	hl
1393  03C2  21 07 00    	ld	hl,0x0007
1394  03C5  E5          	push	hl
1395  03C6  CD 00 00    	call	_player_init
1396  03C9  F1          	pop	af
1397  03CA  21 10 0E    	ld	hl,0x0e10
1398  03CD  E3          	ex	(sp),hl
1399  03CE  3E 84       	ld	a,0x84
1400  03D0  F5          	push	af
1401  03D1  33          	inc	sp
1402  03D2  CD 00 00    	call	_NIRVANAP_drawT_callee
1403  03D5  C1          	pop	bc
1404  03D6  18 19       	jr	l_player_restart_00103
1405  03D8              l_player_restart_00102:
1406  03D8  C5          	push	bc
1407  03D9  21 10 27    	ld	hl,0x2710
1408  03DC  E5          	push	hl
1409  03DD  21 06 00    	ld	hl,0x0006
1410  03E0  E5          	push	hl
1411  03E1  CD 00 00    	call	_player_init
1412  03E4  F1          	pop	af
1413  03E5  21 10 10    	ld	hl,0x1010
1414  03E8  E3          	ex	(sp),hl
1415  03E9  3E 84       	ld	a,0x84
1416  03EB  F5          	push	af
1417  03EC  33          	inc	sp
1418  03ED  CD 00 00    	call	_NIRVANAP_drawT_callee
1419  03F0  C1          	pop	bc
1420  03F1              l_player_restart_00103:
1421  03F1  11 00 00    	ld	de,_state+0
1422  03F4  69          	ld	l,c
1423  03F5  26 00       	ld	h,0x00
1424  03F7  19          	add	hl,de
1425  03F8  CB E6       	set	4, (hl)
1426  03FA  11 00 00    	ld	de,_state_a+0
1427  03FD  69          	ld	l,c
1428  03FE  26 00       	ld	h,0x00
1429  0400  19          	add	hl,de
1430  0401  CB C6       	set	0, (hl)
1431  0403  11 00 00    	ld	de,_spr_timer+0
1432  0406  69          	ld	l,c
1433  0407  26 00       	ld	h,0x00
1434  0409  29          	add	hl, hl
1435  040A  19          	add	hl,de
1436  040B  E3          	ex	(sp), hl
1437  040C  E1          	pop	hl
1438  040D  ED 5B 00 00 	ld	de,(_curr_time)
1439  0411  E5          	push	hl
1440  0412  73          	ld	(hl),e
1441  0413  23          	inc	hl
1442  0414  72          	ld	(hl),d
1443  0415  11 00 00    	ld	de,_sprite_speed_alt+0
1444  0418  69          	ld	l,c
1445  0419  26 00       	ld	h,0x00
1446  041B  19          	add	hl,de
1447  041C  F1          	pop	af
1448  041D  36 08       	ld	(hl),0x08
1449  041F  DD E1       	pop	ix
1450  0421  C9          	ret
1451  0422              	SECTION code_compiler
1452  0422              ;	---------------------------------
1453  0422              ; Function player_lost_life
1454  0422              ; ---------------------------------
1455  0422              _player_lost_life:
1456  0422  CD 00 00    	call	_sound_hit_enemy
1457  0425  01 00 00    	ld	bc,_game_lives+0
1458  0428  79          	ld	a,c
1459  0429  21 00 00    	ld	hl,_index_player
1460  042C  86          	add	a, (hl)
1461  042D  5F          	ld	e,a
1462  042E  78          	ld	a,b
1463  042F  CE 00       	adc	a,0x00
1464  0431  57          	ld	d,a
1465  0432  1A          	ld	a,(de)
1466  0433  C6 FF       	add	a,0xff
1467  0435  12          	ld	(de),a
1468  0436  79          	ld	a,c
1469  0437  86          	add	a, (hl)
1470  0438  5F          	ld	e,a
1471  0439  78          	ld	a,b
1472  043A  CE 00       	adc	a,0x00
1473  043C  57          	ld	d,a
1474  043D  1A          	ld	a,(de)
1475  043E  B7          	or	a, a
1476  043F  20 13       	jr	NZ,l_player_lost_life_00105
1477  0441  0A          	ld	a,(bc)
1478  0442  B7          	or	a, a
1479  0443  20 0B       	jr	NZ,l_player_lost_life_00102
1480  0445  3A 01 00    	ld	a, (_game_lives + 1)
1481  0448  B7          	or	a, a
1482  0449  20 05       	jr	NZ,l_player_lost_life_00102
1483  044B  21 00 00    	ld	hl,_game_over
1484  044E  36 01       	ld	(hl),0x01
1485  0450              l_player_lost_life_00102:
1486  0450  2E 00       	ld	l,0x00
1487  0452  18 08       	jr	l_player_lost_life_00106
1488  0454              l_player_lost_life_00105:
1489  0454  CD 00 00    	call	_spr_check_over
1490  0457  CD 00 00    	call	_game_print_lives
1491  045A  2E 01       	ld	l,0x01
1492  045C              l_player_lost_life_00106:
1493  045C  C9          	ret
1494  045D              	SECTION code_compiler
1495  045D              ;	---------------------------------
1496  045D              ; Function player_turn
1497  045D              ; ---------------------------------
1498  045D              _player_turn:
1499  045D  2A 00 00    	ld	hl,(_sprite)
1500  0460  26 00       	ld	h,0x00
1501  0462  01 00 00    	ld	bc,_class
1502  0465  09          	add	hl,bc
1503  0466  7E          	ld	a,(hl)
1504  0467  D6 10       	sub	a,0x10
1505  0469  20 4F       	jr	NZ,l_player_turn_00110
1506  046B  3A 00 00    	ld	a,(_phase_left)
1507  046E  B7          	or	a, a
1508  046F  28 49       	jr	Z,l_player_turn_00110
1509  0471  2A 00 00    	ld	hl,(_index_player)
1510  0474  26 00       	ld	h,0x00
1511  0476  01 00 00    	ld	bc,_game_lives
1512  0479  09          	add	hl,bc
1513  047A  7E          	ld	a,(hl)
1514  047B  B7          	or	a, a
1515  047C  28 3C       	jr	Z,l_player_turn_00110
1516  047E  21 00 00    	ld	hl,_sprite
1517  0481  CD 00 00    	call	_spr_chktime
1518  0484  7D          	ld	a,l
1519  0485  B7          	or	a, a
1520  0486  28 32       	jr	Z,l_player_turn_00110
1521  0488  21 00 00    	ld	hl,_dirs
1522  048B  36 00       	ld	(hl),0x00
1523  048D  3A 00 00    	ld	a,(_sprite)
1524  0490  D6 07       	sub	a,0x07
1525  0492  20 11       	jr	NZ,l_player_turn_00102
1526  0494  21 00 00    	ld	hl,_k1
1527  0497  E5          	push	hl
1528  0498  2A 00 00    	ld	hl,(_joyfunc1)
1529  049B  CD 00 00    	call	___sdcc_call_hl
1530  049E  F1          	pop	af
1531  049F  7D          	ld	a,l
1532  04A0  32 00 00    	ld	(_dirs),a
1533  04A3  18 0F       	jr	l_player_turn_00103
1534  04A5              l_player_turn_00102:
1535  04A5  21 00 00    	ld	hl,_k1
1536  04A8  E5          	push	hl
1537  04A9  2A 00 00    	ld	hl,(_joyfunc2)
1538  04AC  CD 00 00    	call	___sdcc_call_hl
1539  04AF  F1          	pop	af
1540  04B0  7D          	ld	a,l
1541  04B1  32 00 00    	ld	(_dirs),a
1542  04B4              l_player_turn_00103:
1543  04B4  CD BB 04    	call	_player_move
1544  04B7  CD 7A 01    	call	_player_collision
1545  04BA              l_player_turn_00110:
1546  04BA  C9          	ret
1547  04BB              	SECTION code_compiler
1548  04BB              ;	---------------------------------
1549  04BB              ; Function player_move
1550  04BB              ; ---------------------------------
1551  04BB              _player_move:
1552  04BB  CD 00 00    	call	___sdcc_enter_ix
1553  04BE  F5          	push	af
1554  04BF  3B          	dec	sp
1555  04C0  2A 00 00    	ld	hl,(_sprite)
1556  04C3  26 00       	ld	h,0x00
1557  04C5  01 00 00    	ld	bc,_lin
1558  04C8  09          	add	hl,bc
1559  04C9  7E          	ld	a,(hl)
1560  04CA  DD 77 FF    	ld	(ix-1),a
1561  04CD  32 00 00    	ld	(_s_lin0),a
1562  04D0  2A 00 00    	ld	hl,(_sprite)
1563  04D3  26 00       	ld	h,0x00
1564  04D5  01 00 00    	ld	bc,_col
1565  04D8  09          	add	hl,bc
1566  04D9  7E          	ld	a,(hl)
1567  04DA  32 00 00    	ld	(_s_col0),a
1568  04DD  3E 00       	ld	a,+((_tile) & 0xFF)
1569  04DF  21 00 00    	ld	hl,_sprite
1570  04E2  86          	add	a, (hl)
1571  04E3  DD 77 FD    	ld	(ix-3),a
1572  04E6  3E 00       	ld	a,+((_tile) / 256)
1573  04E8  CE 00       	adc	a,0x00
1574  04EA  DD 77 FE    	ld	(ix-2),a
1575  04ED  E1          	pop	hl
1576  04EE  4E          	ld	c,(hl)
1577  04EF  E5          	push	hl
1578  04F0  2A 00 00    	ld	hl,(_sprite)
1579  04F3  26 00       	ld	h,0x00
1580  04F5  11 00 00    	ld	de,_colint
1581  04F8  19          	add	hl,de
1582  04F9  7E          	ld	a,(hl)
1583  04FA  81          	add	a,c
1584  04FB  32 00 00    	ld	(_s_tile0),a
1585  04FE  2A 00 00    	ld	hl,(_sprite)
1586  0501  26 00       	ld	h,0x00
1587  0503  01 00 00    	ld	bc,_state
1588  0506  09          	add	hl,bc
1589  0507  7E          	ld	a,(hl)
1590  0508  32 00 00    	ld	(_s_state),a
1591  050B  E6 20       	and	a,0x20
1592  050D  28 2E       	jr	Z,l_player_move_00104
1593  050F  3A 00 00    	ld	a,(_tile_offset)
1594  0512  C6 0A       	add	a,0x0a
1595  0514  E1          	pop	hl
1596  0515  E5          	push	hl
1597  0516  77          	ld	(hl),a
1598  0517  01 00 00    	ld	bc,_spr_timer+0
1599  051A  2A 00 00    	ld	hl,(_sprite)
1600  051D  26 00       	ld	h,0x00
1601  051F  29          	add	hl, hl
1602  0520  09          	add	hl,bc
1603  0521  4E          	ld	c,(hl)
1604  0522  23          	inc	hl
1605  0523  46          	ld	b,(hl)
1606  0524  21 28 00    	ld	hl,0x0028
1607  0527  E5          	push	hl
1608  0528  C5          	push	bc
1609  0529  CD 00 00    	call	_game_check_time
1610  052C  F1          	pop	af
1611  052D  F1          	pop	af
1612  052E  7D          	ld	a,l
1613  052F  B7          	or	a, a
1614  0530  28 06       	jr	Z,l_player_move_00102
1615  0532  2A 00 00    	ld	hl,(_sprite)
1616  0535  CD 00 00    	call	_spr_killed
1617  0538              l_player_move_00102:
1618  0538  2E 00       	ld	l,0x00
1619  053A  C3 B6 08    	jp	l_player_move_00164
1620  053D              l_player_move_00104:
1621  053D  3A 00 00    	ld	a,(_s_state)
1622  0540  E6 10       	and	a,0x10
1623  0542  CA 98 06    	jp	Z,l_player_move_00121
1624  0545  DD 7E FF    	ld	a,(ix-1)
1625  0548  D6 10       	sub	a,0x10
1626  054A  30 12       	jr	NC,l_player_move_00112
1627  054C  2A 00 00    	ld	hl,(_sprite)
1628  054F  26 00       	ld	h,0x00
1629  0551  01 00 00    	ld	bc,_state_a
1630  0554  09          	add	hl,bc
1631  0555  7E          	ld	a,(hl)
1632  0556  E6 FE       	and	a,0xfe
1633  0558  77          	ld	(hl),a
1634  0559  CD 00 00    	call	_spr_move_down
1635  055C  18 72       	jr	l_player_move_00113
1636  055E              l_player_move_00112:
1637  055E  CD 5C 01    	call	_player_check_input
1638  0561  7D          	ld	a,l
1639  0562  B7          	or	a, a
1640  0563  28 6B       	jr	Z,l_player_move_00113
1641  0565  3A 00 00    	ld	a,(_dirs)
1642  0568  E6 08       	and	a,0x08
1643  056A  28 0D       	jr	Z,l_player_move_00106
1644  056C  2A 00 00    	ld	hl,(_sprite)
1645  056F  26 00       	ld	h,0x00
1646  0571  01 00 00    	ld	bc,_state
1647  0574  09          	add	hl,bc
1648  0575  7E          	ld	a,(hl)
1649  0576  F6 04       	or	a,0x04
1650  0578  77          	ld	(hl),a
1651  0579              l_player_move_00106:
1652  0579  3A 00 00    	ld	a,(_dirs)
1653  057C  E6 04       	and	a,0x04
1654  057E  28 0D       	jr	Z,l_player_move_00108
1655  0580  2A 00 00    	ld	hl,(_sprite)
1656  0583  26 00       	ld	h,0x00
1657  0585  01 00 00    	ld	bc,_state
1658  0588  09          	add	hl,bc
1659  0589  7E          	ld	a,(hl)
1660  058A  F6 08       	or	a,0x08
1661  058C  77          	ld	(hl),a
1662  058D              l_player_move_00108:
1663  058D  2A 00 00    	ld	hl,(_sprite)
1664  0590  26 00       	ld	h,0x00
1665  0592  01 00 00    	ld	bc,_state
1666  0595  09          	add	hl,bc
1667  0596  7E          	ld	a,(hl)
1668  0597  E6 EF       	and	a,0xef
1669  0599  77          	ld	(hl),a
1670  059A  2A 00 00    	ld	hl,(_sprite)
1671  059D  26 00       	ld	h,0x00
1672  059F  01 00 00    	ld	bc,_state_a
1673  05A2  09          	add	hl,bc
1674  05A3  7E          	ld	a,(hl)
1675  05A4  E6 FE       	and	a,0xfe
1676  05A6  77          	ld	(hl),a
1677  05A7  76          	halt
1678  05A8  3A 00 00    	ld	a,(_s_col0)
1679  05AB  F5          	push	af
1680  05AC  33          	inc	sp
1681  05AD  21 A9 10    	ld	hl,0x10a9
1682  05B0  E5          	push	hl
1683  05B1  CD 00 00    	call	_NIRVANAP_drawT_callee
1684  05B4  3A 00 00    	ld	a,(_s_col0)
1685  05B7  F5          	push	af
1686  05B8  33          	inc	sp
1687  05B9  21 A9 20    	ld	hl,0x20a9
1688  05BC  E5          	push	hl
1689  05BD  CD 00 00    	call	_NIRVANAP_drawT_callee
1690  05C0  2A 00 00    	ld	hl,(_sprite)
1691  05C3  26 00       	ld	h,0x00
1692  05C5  01 00 00    	ld	bc,_sprite_speed_alt
1693  05C8  09          	add	hl,bc
1694  05C9  AF          	xor	a,a
1695  05CA  77          	ld	(hl),a
1696  05CB  2E 00       	ld	l,0x00
1697  05CD  C3 B6 08    	jp	l_player_move_00164
1698  05D0              l_player_move_00113:
1699  05D0  CD 00 00    	call	_spr_redraw
1700  05D3  ED 4B 00 00 	ld	bc,(_curr_time)
1701  05D7  2A 00 00    	ld	hl,(_sprite)
1702  05DA  26 00       	ld	h,0x00
1703  05DC  29          	add	hl, hl
1704  05DD  11 00 00    	ld	de,_spr_timer
1705  05E0  19          	add	hl,de
1706  05E1  5E          	ld	e,(hl)
1707  05E2  23          	inc	hl
1708  05E3  56          	ld	d,(hl)
1709  05E4  69          	ld	l,c
1710  05E5  60          	ld	h,b
1711  05E6  AF          	xor	a,a
1712  05E7  ED 52       	sbc	hl,de
1713  05E9  22 00 00    	ld	(_tmp_ui),hl
1714  05EC  21 00 00    	ld	hl,_tmp
1715  05EF  36 00       	ld	(hl),0x00
1716  05F1  3E 32       	ld	a,0x32
1717  05F3  21 00 00    	ld	hl,_tmp_ui
1718  05F6  BE          	cp	a, (hl)
1719  05F7  3E 00       	ld	a,0x00
1720  05F9  23          	inc	hl
1721  05FA  9E          	sbc	a, (hl)
1722  05FB  30 05       	jr	NC,l_player_move_00115
1723  05FD  21 00 00    	ld	hl,_tmp
1724  0600  36 01       	ld	(hl),0x01
1725  0602              l_player_move_00115:
1726  0602  3E 64       	ld	a,0x64
1727  0604  21 00 00    	ld	hl,_tmp_ui
1728  0607  BE          	cp	a, (hl)
1729  0608  3E 00       	ld	a,0x00
1730  060A  23          	inc	hl
1731  060B  9E          	sbc	a, (hl)
1732  060C  30 05       	jr	NC,l_player_move_00117
1733  060E  21 00 00    	ld	hl,_tmp
1734  0611  36 02       	ld	(hl),0x02
1735  0613              l_player_move_00117:
1736  0613  76          	halt
1737  0614  2A 00 00    	ld	hl,(_sprite)
1738  0617  26 00       	ld	h,0x00
1739  0619  01 00 00    	ld	bc,_lin
1740  061C  09          	add	hl,bc
1741  061D  7E          	ld	a,(hl)
1742  061E  C6 10       	add	a,0x10
1743  0620  4D          	ld	c,l
1744  0621  57          	ld	d,a
1745  0622  3A 00 00    	ld	a,(_tmp)
1746  0625  C6 84       	add	a,0x84
1747  0627  47          	ld	b,a
1748  0628  3A 00 00    	ld	a,(_s_col0)
1749  062B  5A          	ld	e,d
1750  062C  57          	ld	d,a
1751  062D  D5          	push	de
1752  062E  C5          	push	bc
1753  062F  33          	inc	sp
1754  0630  CD 00 00    	call	_NIRVANAP_drawT_callee
1755  0633  3E 96       	ld	a,0x96
1756  0635  21 00 00    	ld	hl,_tmp_ui
1757  0638  BE          	cp	a, (hl)
1758  0639  3E 00       	ld	a,0x00
1759  063B  23          	inc	hl
1760  063C  9E          	sbc	a, (hl)
1761  063D  30 54       	jr	NC,l_player_move_00119
1762  063F  2A 00 00    	ld	hl,(_sprite)
1763  0642  26 00       	ld	h,0x00
1764  0644  01 00 00    	ld	bc,_lin
1765  0647  09          	add	hl,bc
1766  0648  4E          	ld	c, (hl)
1767  0649  3A 00 00    	ld	a, (_s_col0)
1768  064C  47          	ld	b,a
1769  064D  C5          	push	bc
1770  064E  3E A9       	ld	a,0xa9
1771  0650  F5          	push	af
1772  0651  33          	inc	sp
1773  0652  CD 00 00    	call	_NIRVANAP_drawT_callee
1774  0655  2A 00 00    	ld	hl,(_sprite)
1775  0658  26 00       	ld	h,0x00
1776  065A  01 00 00    	ld	bc,_lin
1777  065D  09          	add	hl,bc
1778  065E  7E          	ld	a,(hl)
1779  065F  C6 10       	add	a,0x10
1780  0661  4F          	ld	c, a
1781  0662  3A 00 00    	ld	a, (_s_col0)
1782  0665  47          	ld	b,a
1783  0666  C5          	push	bc
1784  0667  3E A9       	ld	a,0xa9
1785  0669  F5          	push	af
1786  066A  33          	inc	sp
1787  066B  CD 00 00    	call	_NIRVANAP_drawT_callee
1788  066E  2A 00 00    	ld	hl,(_sprite)
1789  0671  26 00       	ld	h,0x00
1790  0673  01 00 00    	ld	bc,_state
1791  0676  09          	add	hl,bc
1792  0677  7E          	ld	a,(hl)
1793  0678  E6 EF       	and	a,0xef
1794  067A  77          	ld	(hl),a
1795  067B  2A 00 00    	ld	hl,(_sprite)
1796  067E  26 00       	ld	h,0x00
1797  0680  01 00 00    	ld	bc,_state
1798  0683  09          	add	hl,bc
1799  0684  7E          	ld	a,(hl)
1800  0685  F6 01       	or	a,0x01
1801  0687  77          	ld	(hl),a
1802  0688  2A 00 00    	ld	hl,(_sprite)
1803  068B  26 00       	ld	h,0x00
1804  068D  01 00 00    	ld	bc,_sprite_speed_alt
1805  0690  09          	add	hl,bc
1806  0691  AF          	xor	a,a
1807  0692  77          	ld	(hl),a
1808  0693              l_player_move_00119:
1809  0693  2E 00       	ld	l,0x00
1810  0695  C3 B6 08    	jp	l_player_move_00164
1811  0698              l_player_move_00121:
1812  0698  01 00 00    	ld	bc,_state_a+0
1813  069B  2A 00 00    	ld	hl,(_sprite)
1814  069E  26 00       	ld	h,0x00
1815  06A0  09          	add	hl,bc
1816  06A1  7E          	ld	a,(hl)
1817  06A2  0F          	rrca
1818  06A3  30 1B       	jr	NC,l_player_move_00126
1819  06A5  C5          	push	bc
1820  06A6  CD 5C 01    	call	_player_check_input
1821  06A9  C1          	pop	bc
1822  06AA  7D          	ld	a,l
1823  06AB  B7          	or	a, a
1824  06AC  28 0D       	jr	Z,l_player_move_00123
1825  06AE  2A 00 00    	ld	hl,(_sprite)
1826  06B1  26 00       	ld	h,0x00
1827  06B3  09          	add	hl,bc
1828  06B4  7E          	ld	a,(hl)
1829  06B5  EB          	ex	de,hl
1830  06B6  E6 FE       	and	a,0xfe
1831  06B8  12          	ld	(de),a
1832  06B9  18 05       	jr	l_player_move_00126
1833  06BB              l_player_move_00123:
1834  06BB  2E 00       	ld	l,0x00
1835  06BD  C3 B6 08    	jp	l_player_move_00164
1836  06C0              l_player_move_00126:
1837  06C0  2A 00 00    	ld	hl,(_sprite)
1838  06C3  26 00       	ld	h,0x00
1839  06C5  09          	add	hl,bc
1840  06C6  CB 56       	bit	2,(hl)
1841  06C8  28 5E       	jr	Z,l_player_move_00130
1842  06CA  2A 00 00    	ld	hl,(_sprite)
1843  06CD  26 00       	ld	h,0x00
1844  06CF  29          	add	hl, hl
1845  06D0  11 00 00    	ld	de,_spr_timer
1846  06D3  19          	add	hl,de
1847  06D4  5E          	ld	e,(hl)
1848  06D5  23          	inc	hl
1849  06D6  56          	ld	d,(hl)
1850  06D7  C5          	push	bc
1851  06D8  21 14 00    	ld	hl,0x0014
1852  06DB  E5          	push	hl
1853  06DC  D5          	push	de
1854  06DD  CD 00 00    	call	_game_check_time
1855  06E0  F1          	pop	af
1856  06E1  F1          	pop	af
1857  06E2  C1          	pop	bc
1858  06E3  7D          	ld	a,l
1859  06E4  B7          	or	a, a
1860  06E5  28 41       	jr	Z,l_player_move_00130
1861  06E7  79          	ld	a,c
1862  06E8  21 00 00    	ld	hl,_sprite
1863  06EB  86          	add	a, (hl)
1864  06EC  5F          	ld	e,a
1865  06ED  78          	ld	a,b
1866  06EE  CE 00       	adc	a,0x00
1867  06F0  57          	ld	d,a
1868  06F1  1A          	ld	a,(de)
1869  06F2  E6 FB       	and	a,0xfb
1870  06F4  12          	ld	(de),a
1871  06F5  3E 00       	ld	a,+((_colint) & 0xFF)
1872  06F7  86          	add	a, (hl)
1873  06F8  5F          	ld	e,a
1874  06F9  3E 00       	ld	a,+((_colint) / 256)
1875  06FB  CE 00       	adc	a,0x00
1876  06FD  57          	ld	d,a
1877  06FE  AF          	xor	a, a
1878  06FF  12          	ld	(de),a
1879  0700  3E 00       	ld	a,+((_tile) & 0xFF)
1880  0702  86          	add	a, (hl)
1881  0703  DD 77 FD    	ld	(ix-3),a
1882  0706  3E 00       	ld	a,+((_tile) / 256)
1883  0708  CE 00       	adc	a,0x00
1884  070A  DD 77 FE    	ld	(ix-2),a
1885  070D  3A 00 00    	ld	a,(_tile_offset)
1886  0710  5F          	ld	e,a
1887  0711  16 00       	ld	d,0x00
1888  0713  13          	inc	de
1889  0714  13          	inc	de
1890  0715  13          	inc	de
1891  0716  2A 00 00    	ld	hl,(_sprite)
1892  0719  C5          	push	bc
1893  071A  26 0C       	ld	h,0x0c
1894  071C  E5          	push	hl
1895  071D  D5          	push	de
1896  071E  CD 00 00    	call	_spr_tile_dir
1897  0721  F1          	pop	af
1898  0722  F1          	pop	af
1899  0723  C1          	pop	bc
1900  0724  5D          	ld	e,l
1901  0725  E1          	pop	hl
1902  0726  E5          	push	hl
1903  0727  73          	ld	(hl),e
1904  0728              l_player_move_00130:
1905  0728  C5          	push	bc
1906  0729  CD BB 08    	call	_player_move_input
1907  072C  C1          	pop	bc
1908  072D  2A 00 00    	ld	hl,(_sprite)
1909  0730  26 00       	ld	h,0x00
1910  0732  11 00 00    	ld	de,_state
1911  0735  19          	add	hl,de
1912  0736  7E          	ld	a,(hl)
1913  0737  21 00 00    	ld	hl,_s_state
1914  073A  77          	ld	(hl),a
1915  073B  E6 01       	and	a,0x01
1916  073D  5F          	ld	e,a
1917  073E  B7          	or	a, a
1918  073F  20 5B       	jr	NZ,l_player_move_00159
1919  0741  7E          	ld	a,(hl)
1920  0742  E6 02       	and	a,0x02
1921  0744  20 56       	jr	NZ,l_player_move_00159
1922  0746  2A 00 00    	ld	hl,(_sprite)
1923  0749  26 00       	ld	h,0x00
1924  074B  01 00 00    	ld	bc,_col
1925  074E  09          	add	hl,bc
1926  074F  56          	ld	d, (hl)
1927  0750  2A 00 00    	ld	hl,(_sprite)
1928  0753  26 00       	ld	h,0x00
1929  0755  01 00 00    	ld	bc,_lin
1930  0758  09          	add	hl,bc
1931  0759  7E          	ld	a,(hl)
1932  075A  C6 10       	add	a,0x10
1933  075C  5F          	ld	e, a
1934  075D  D5          	push	de
1935  075E  CD 00 00    	call	_game_calc_index
1936  0761  F1          	pop	af
1937  0762  3A 00 00    	ld	a,(_s_lin0)
1938  0765  EB          	ex	de,hl
1939  0766  D6 98       	sub	a,0x98
1940  0768  20 03       	jr	NZ,l_player_move_00132
1941  076A  11 00 00    	ld	de,0x0000
1942  076D              l_player_move_00132:
1943  076D  7A          	ld	a,d
1944  076E  B3          	or	a,e
1945  076F  CA 86 08    	jp	Z,l_player_move_00160
1946  0772  01 00 00    	ld	bc,_lvl_1+0
1947  0775  69          	ld	l, c
1948  0776  60          	ld	h, b
1949  0777  19          	add	hl,de
1950  0778  6E          	ld	l,(hl)
1951  0779  3E 8C       	ld	a,0x8c
1952  077B  95          	sub	a, l
1953  077C  D2 86 08    	jp	NC,l_player_move_00160
1954  077F  EB          	ex	de,hl
1955  0780  23          	inc	hl
1956  0781  09          	add	hl,bc
1957  0782  4E          	ld	c,(hl)
1958  0783  3E 8C       	ld	a,0x8c
1959  0785  91          	sub	a, c
1960  0786  D2 86 08    	jp	NC,l_player_move_00160
1961  0789  2A 00 00    	ld	hl,(_sprite)
1962  078C  26 00       	ld	h,0x00
1963  078E  01 00 00    	ld	bc,_sprite_speed_alt
1964  0791  09          	add	hl,bc
1965  0792  36 02       	ld	(hl),0x02
1966  0794  21 00 00    	ld	hl,_s_state
1967  0797  CB CE       	set	1, (hl)
1968  0799  C3 86 08    	jp	l_player_move_00160
1969  079C              l_player_move_00159:
1970  079C  21 00 00    	ld	hl,_sprite_lin_inc_mul
1971  079F  36 02       	ld	(hl),0x02
1972  07A1  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
1973  07A3  21 00 00    	ld	hl,_index_player
1974  07A6  86          	add	a, (hl)
1975  07A7  DD 77 FD    	ld	(ix-3),a
1976  07AA  3E 00       	ld	a,+((_player_jump_c) / 256)
1977  07AC  CE 00       	adc	a,0x00
1978  07AE  DD 77 FE    	ld	(ix-2),a
1979  07B1  E1          	pop	hl
1980  07B2  56          	ld	d,(hl)
1981  07B3  E5          	push	hl
1982  07B4  3E 03       	ld	a,0x03
1983  07B6  92          	sub	a, d
1984  07B7  30 05       	jr	NC,l_player_move_00138
1985  07B9  21 00 00    	ld	hl,_sprite_lin_inc_mul
1986  07BC  36 01       	ld	(hl),0x01
1987  07BE              l_player_move_00138:
1988  07BE  3E 08       	ld	a,0x08
1989  07C0  92          	sub	a, d
1990  07C1  30 05       	jr	NC,l_player_move_00140
1991  07C3  21 00 00    	ld	hl,_sprite_lin_inc_mul
1992  07C6  36 00       	ld	(hl),0x00
1993  07C8              l_player_move_00140:
1994  07C8  3E 0C       	ld	a,0x0c
1995  07CA  92          	sub	a, d
1996  07CB  30 05       	jr	NC,l_player_move_00142
1997  07CD  21 00 00    	ld	hl,_sprite_lin_inc_mul
1998  07D0  36 01       	ld	(hl),0x01
1999  07D2              l_player_move_00142:
2000  07D2  3E 11       	ld	a,0x11
2001  07D4  92          	sub	a, d
2002  07D5  30 05       	jr	NC,l_player_move_00144
2003  07D7  21 00 00    	ld	hl,_sprite_lin_inc_mul
2004  07DA  36 02       	ld	(hl),0x02
2005  07DC              l_player_move_00144:
2006  07DC  7B          	ld	a,e
2007  07DD  B7          	or	a, a
2008  07DE  28 1B       	jr	Z,l_player_move_00156
2009  07E0  7A          	ld	a,d
2010  07E1  D6 0A       	sub	a,0x0a
2011  07E3  30 11       	jr	NC,l_player_move_00148
2012  07E5  2A 00 00    	ld	hl,(_sprite)
2013  07E8  26 00       	ld	h,0x00
2014  07EA  09          	add	hl,bc
2015  07EB  7E          	ld	a,(hl)
2016  07EC  07          	rlca
2017  07ED  DA 74 08    	jp	C,l_player_move_00157
2018  07F0  CD 00 00    	call	_spr_move_up
2019  07F3  C3 74 08    	jp	l_player_move_00157
2020  07F6              l_player_move_00148:
2021  07F6  CD 00 00    	call	_spr_set_fall
2022  07F9  18 79       	jr	l_player_move_00157
2023  07FB              l_player_move_00156:
2024  07FB  C5          	push	bc
2025  07FC  CD 00 00    	call	_spr_move_down
2026  07FF  C1          	pop	bc
2027  0800  7D          	ld	a,l
2028  0801  B7          	or	a, a
2029  0802  28 70       	jr	Z,l_player_move_00157
2030  0804  21 00 00    	ld	hl,_s_state
2031  0807  CB 8E       	res	1, (hl)
2032  0809  2A 00 00    	ld	hl,(_sprite)
2033  080C  26 00       	ld	h,0x00
2034  080E  09          	add	hl,bc
2035  080F  7E          	ld	a,(hl)
2036  0810  E6 7F       	and	a,0x7f
2037  0812  77          	ld	(hl),a
2038  0813  2A 00 00    	ld	hl,(_index_player)
2039  0816  26 00       	ld	h,0x00
2040  0818  01 00 00    	ld	bc,_player_jump_c
2041  081B  09          	add	hl,bc
2042  081C  AF          	xor	a,a
2043  081D  77          	ld	(hl),a
2044  081E  2A 00 00    	ld	hl,(_sprite)
2045  0821  26 00       	ld	h,0x00
2046  0823  01 00 00    	ld	bc,_jump_lin
2047  0826  09          	add	hl,bc
2048  0827  AF          	xor	a,a
2049  0828  77          	ld	(hl),a
2050  0829  2A 00 00    	ld	hl,(_index_player)
2051  082C  26 00       	ld	h,0x00
2052  082E  01 00 00    	ld	bc,_sliding
2053  0831  09          	add	hl,bc
2054  0832  AF          	xor	a,a
2055  0833  77          	ld	(hl),a
2056  0834  2A 00 00    	ld	hl,(_sprite)
2057  0837  26 00       	ld	h,0x00
2058  0839  01 00 00    	ld	bc,_colint
2059  083C  09          	add	hl,bc
2060  083D  AF          	xor	a,a
2061  083E  77          	ld	(hl),a
2062  083F  2A 00 00    	ld	hl,(_sprite)
2063  0842  26 00       	ld	h,0x00
2064  0844  01 00 00    	ld	bc,_tile
2065  0847  09          	add	hl,bc
2066  0848  3A 00 00    	ld	a,(_tile_offset)
2067  084B  5F          	ld	e,a
2068  084C  16 00       	ld	d,0x00
2069  084E  4D          	ld	c,l
2070  084F  44          	ld	b,h
2071  0850  13          	inc	de
2072  0851  13          	inc	de
2073  0852  13          	inc	de
2074  0853  2A 00 00    	ld	hl,(_sprite)
2075  0856  C5          	push	bc
2076  0857  26 0C       	ld	h,0x0c
2077  0859  E5          	push	hl
2078  085A  D5          	push	de
2079  085B  CD 00 00    	call	_spr_tile_dir
2080  085E  F1          	pop	af
2081  085F  F1          	pop	af
2082  0860  C1          	pop	bc
2083  0861  7D          	ld	a, l
2084  0862  02          	ld	(bc),a
2085  0863  3A 00 00    	ld	a,(_s_state)
2086  0866  E6 08       	and	a,0x08
2087  0868  20 07       	jr	NZ,l_player_move_00150
2088  086A  3A 00 00    	ld	a,(_s_state)
2089  086D  E6 04       	and	a,0x04
2090  086F  28 03       	jr	Z,l_player_move_00157
2091  0871              l_player_move_00150:
2092  0871  CD F7 00    	call	_player_calc_slide
2093  0874              l_player_move_00157:
2094  0874  21 00 00    	ld	hl,_sprite_lin_inc_mul
2095  0877  36 00       	ld	(hl),0x00
2096  0879  2A 00 00    	ld	hl,(_index_player)
2097  087C  26 00       	ld	h,0x00
2098  087E  01 00 00    	ld	bc,_player_jump_c
2099  0881  09          	add	hl,bc
2100  0882  34          	inc	(hl)
2101  0883  CD 59 0B    	call	_player_move_horizontal
2102  0886              l_player_move_00160:
2103  0886  2A 00 00    	ld	hl,(_sprite)
2104  0889  26 00       	ld	h,0x00
2105  088B  29          	add	hl, hl
2106  088C  11 00 00    	ld	de,_spr_timer
2107  088F  19          	add	hl,de
2108  0890  4E          	ld	c,(hl)
2109  0891  23          	inc	hl
2110  0892  46          	ld	b,(hl)
2111  0893  21 04 00    	ld	hl,0x0004
2112  0896  E5          	push	hl
2113  0897  C5          	push	bc
2114  0898  CD 00 00    	call	_game_check_time
2115  089B  F1          	pop	af
2116  089C  F1          	pop	af
2117  089D  7D          	ld	a,l
2118  089E  B7          	or	a, a
2119  089F  28 03       	jr	Z,l_player_move_00163
2120  08A1  CD CE 0D    	call	_player_hit_brick_clear
2121  08A4              l_player_move_00163:
2122  08A4  CD 00 00    	call	_spr_redraw
2123  08A7  2A 00 00    	ld	hl,(_sprite)
2124  08AA  26 00       	ld	h,0x00
2125  08AC  01 00 00    	ld	bc,_state
2126  08AF  09          	add	hl,bc
2127  08B0  3A 00 00    	ld	a,(_s_state)
2128  08B3  77          	ld	(hl),a
2129  08B4  2E 00       	ld	l,0x00
2130  08B6              l_player_move_00164:
2131  08B6  DD F9       	ld	sp, ix
2132  08B8  DD E1       	pop	ix
2133  08BA  C9          	ret
2134  08BB              	SECTION code_compiler
2135  08BB              ;	---------------------------------
2136  08BB              ; Function player_move_input
2137  08BB              ; ---------------------------------
2138  08BB              _player_move_input:
2139  08BB  3A 00 00    	ld	a,(_s_state)
2140  08BE  0F          	rrca
2141  08BF  38 07       	jr	C,l_player_move_input_00101
2142  08C1  3A 00 00    	ld	a,(_s_state)
2143  08C4  E6 02       	and	a,0x02
2144  08C6  28 05       	jr	Z,l_player_move_input_00102
2145  08C8              l_player_move_input_00101:
2146  08C8  2E 00       	ld	l,0x00
2147  08CA  C3 58 0B    	jp	l_player_move_input_00135
2148  08CD              l_player_move_input_00102:
2149  08CD  CD 5C 01    	call	_player_check_input
2150  08D0  7D          	ld	a,l
2151  08D1  B7          	or	a, a
2152  08D2  CA 74 0A    	jp	Z,l_player_move_input_00131
2153  08D5  2A 00 00    	ld	hl,(_index_player)
2154  08D8  26 00       	ld	h,0x00
2155  08DA  01 00 00    	ld	bc,_sliding
2156  08DD  09          	add	hl,bc
2157  08DE  46          	ld	b,(hl)
2158  08DF  3A 00 00    	ld	a,(_dirs)
2159  08E2  E6 80       	and	a,0x80
2160  08E4  4F          	ld	c,a
2161  08E5  78          	ld	a,b
2162  08E6  B7          	or	a, a
2163  08E7  28 05       	jr	Z,l_player_move_input_00130
2164  08E9  79          	ld	a,c
2165  08EA  B7          	or	a, a
2166  08EB  CA 74 0A    	jp	Z,l_player_move_input_00131
2167  08EE              l_player_move_input_00130:
2168  08EE  79          	ld	a,c
2169  08EF  B7          	or	a, a
2170  08F0  CA A1 09    	jp	Z,l_player_move_input_00110
2171  08F3  CD 00 00    	call	_ay_is_playing
2172  08F6  7D          	ld	a,l
2173  08F7  D6 03       	sub	a,0x03
2174  08F9  28 06       	jr	Z,l_player_move_input_00105
2175  08FB  21 00 00    	ld	hl,_ay_effect_03
2176  08FE  CD 00 00    	call	_ay_fx_play
2177  0901              l_player_move_input_00105:
2178  0901  CD 00 00    	call	_sound_jump
2179  0904  2A 00 00    	ld	hl,(_sprite)
2180  0907  26 00       	ld	h,0x00
2181  0909  01 00 00    	ld	bc,_state
2182  090C  09          	add	hl,bc
2183  090D  CB 56       	bit	2,(hl)
2184  090F  28 0D       	jr	Z,l_player_move_input_00107
2185  0911  2A 00 00    	ld	hl,(_sprite)
2186  0914  26 00       	ld	h,0x00
2187  0916  01 00 00    	ld	bc,_colint
2188  0919  09          	add	hl,bc
2189  091A  AF          	xor	a,a
2190  091B  77          	ld	(hl),a
2191  091C  18 0B       	jr	l_player_move_input_00108
2192  091E              l_player_move_input_00107:
2193  091E  2A 00 00    	ld	hl,(_sprite)
2194  0921  26 00       	ld	h,0x00
2195  0923  01 00 00    	ld	bc,_colint
2196  0926  09          	add	hl,bc
2197  0927  36 02       	ld	(hl),0x02
2198  0929              l_player_move_input_00108:
2199  0929  21 00 00    	ld	hl,_s_state
2200  092C  7E          	ld	a,(hl)
2201  092D  F6 01       	or	a,0x01
2202  092F  E6 FD       	and	a,0xfd
2203  0931  77          	ld	(hl),a
2204  0932  2A 00 00    	ld	hl,(_sprite)
2205  0935  26 00       	ld	h,0x00
2206  0937  01 00 00    	ld	bc,_jump_lin
2207  093A  09          	add	hl,bc
2208  093B  4D          	ld	c,l
2209  093C  44          	ld	b,h
2210  093D  2A 00 00    	ld	hl,(_sprite)
2211  0940  26 00       	ld	h,0x00
2212  0942  11 00 00    	ld	de,_lin
2213  0945  19          	add	hl,de
2214  0946  7E          	ld	a,(hl)
2215  0947  02          	ld	(bc),a
2216  0948  2A 00 00    	ld	hl,(_sprite)
2217  094B  26 00       	ld	h,0x00
2218  094D  01 00 00    	ld	bc,_state
2219  0950  09          	add	hl,bc
2220  0951  3A 00 00    	ld	a,(_s_state)
2221  0954  77          	ld	(hl),a
2222  0955  2A 00 00    	ld	hl,(_sprite)
2223  0958  26 00       	ld	h,0x00
2224  095A  01 00 00    	ld	bc,_tile
2225  095D  09          	add	hl,bc
2226  095E  3A 00 00    	ld	a,(_tile_offset)
2227  0961  5F          	ld	e,a
2228  0962  16 00       	ld	d,0x00
2229  0964  4D          	ld	c,l
2230  0965  44          	ld	b,h
2231  0966  21 07 00    	ld	hl,0x0007
2232  0969  19          	add	hl,de
2233  096A  EB          	ex	de,hl
2234  096B  2A 00 00    	ld	hl,(_sprite)
2235  096E  C5          	push	bc
2236  096F  26 0C       	ld	h,0x0c
2237  0971  E5          	push	hl
2238  0972  D5          	push	de
2239  0973  CD 00 00    	call	_spr_tile_dir
2240  0976  F1          	pop	af
2241  0977  F1          	pop	af
2242  0978  C1          	pop	bc
2243  0979  7D          	ld	a, l
2244  097A  02          	ld	(bc),a
2245  097B  2A 00 00    	ld	hl,(_sprite)
2246  097E  26 00       	ld	h,0x00
2247  0980  01 00 00    	ld	bc,_sprite_speed_alt
2248  0983  09          	add	hl,bc
2249  0984  36 02       	ld	(hl),0x02
2250  0986  2A 00 00    	ld	hl,(_index_player)
2251  0989  26 00       	ld	h,0x00
2252  098B  01 00 00    	ld	bc,_player_jump_c
2253  098E  09          	add	hl,bc
2254  098F  AF          	xor	a,a
2255  0990  77          	ld	(hl),a
2256  0991  2A 00 00    	ld	hl,(_index_player)
2257  0994  26 00       	ld	h,0x00
2258  0996  01 00 00    	ld	bc,_sliding
2259  0999  09          	add	hl,bc
2260  099A  AF          	xor	a,a
2261  099B  77          	ld	(hl),a
2262  099C  2E 01       	ld	l,0x01
2263  099E  C3 58 0B    	jp	l_player_move_input_00135
2264  09A1              l_player_move_input_00110:
2265  09A1  3A 00 00    	ld	a,(_dirs)
2266  09A4  E6 08       	and	a,0x08
2267  09A6  28 3F       	jr	Z,l_player_move_input_00114
2268  09A8  3A 00 00    	ld	a,(_s_state)
2269  09AB  E6 08       	and	a,0x08
2270  09AD  28 08       	jr	Z,l_player_move_input_00112
2271  09AF  CD F7 00    	call	_player_calc_slide
2272  09B2  2E 01       	ld	l,0x01
2273  09B4  C3 58 0B    	jp	l_player_move_input_00135
2274  09B7              l_player_move_input_00112:
2275  09B7  21 00 00    	ld	hl,_s_state
2276  09BA  7E          	ld	a,(hl)
2277  09BB  F6 04       	or	a,0x04
2278  09BD  E6 F7       	and	a,0xf7
2279  09BF  77          	ld	(hl),a
2280  09C0  01 00 00    	ld	bc,_state_a+0
2281  09C3  79          	ld	a,c
2282  09C4  21 00 00    	ld	hl,_sprite
2283  09C7  86          	add	a, (hl)
2284  09C8  5F          	ld	e,a
2285  09C9  78          	ld	a,b
2286  09CA  CE 00       	adc	a,0x00
2287  09CC  57          	ld	d,a
2288  09CD  1A          	ld	a,(de)
2289  09CE  F6 10       	or	a,0x10
2290  09D0  12          	ld	(de),a
2291  09D1  79          	ld	a,c
2292  09D2  86          	add	a, (hl)
2293  09D3  5F          	ld	e,a
2294  09D4  78          	ld	a,b
2295  09D5  CE 00       	adc	a,0x00
2296  09D7  57          	ld	d,a
2297  09D8  1A          	ld	a,(de)
2298  09D9  E6 F7       	and	a,0xf7
2299  09DB  12          	ld	(de),a
2300  09DC  79          	ld	a,c
2301  09DD  86          	add	a, (hl)
2302  09DE  4F          	ld	c,a
2303  09DF  78          	ld	a,b
2304  09E0  CE 00       	adc	a,0x00
2305  09E2  47          	ld	b,a
2306  09E3  0A          	ld	a,(bc)
2307  09E4  F6 20       	or	a,0x20
2308  09E6  02          	ld	(bc),a
2309  09E7              l_player_move_input_00114:
2310  09E7  3A 00 00    	ld	a,(_dirs)
2311  09EA  E6 04       	and	a,0x04
2312  09EC  28 3F       	jr	Z,l_player_move_input_00118
2313  09EE  3A 00 00    	ld	a,(_s_state)
2314  09F1  E6 04       	and	a,0x04
2315  09F3  28 08       	jr	Z,l_player_move_input_00116
2316  09F5  CD F7 00    	call	_player_calc_slide
2317  09F8  2E 01       	ld	l,0x01
2318  09FA  C3 58 0B    	jp	l_player_move_input_00135
2319  09FD              l_player_move_input_00116:
2320  09FD  21 00 00    	ld	hl,_s_state
2321  0A00  7E          	ld	a,(hl)
2322  0A01  F6 08       	or	a,0x08
2323  0A03  E6 FB       	and	a,0xfb
2324  0A05  77          	ld	(hl),a
2325  0A06  01 00 00    	ld	bc,_state_a+0
2326  0A09  79          	ld	a,c
2327  0A0A  21 00 00    	ld	hl,_sprite
2328  0A0D  86          	add	a, (hl)
2329  0A0E  5F          	ld	e,a
2330  0A0F  78          	ld	a,b
2331  0A10  CE 00       	adc	a,0x00
2332  0A12  57          	ld	d,a
2333  0A13  1A          	ld	a,(de)
2334  0A14  F6 08       	or	a,0x08
2335  0A16  12          	ld	(de),a
2336  0A17  79          	ld	a,c
2337  0A18  86          	add	a, (hl)
2338  0A19  5F          	ld	e,a
2339  0A1A  78          	ld	a,b
2340  0A1B  CE 00       	adc	a,0x00
2341  0A1D  57          	ld	d,a
2342  0A1E  1A          	ld	a,(de)
2343  0A1F  E6 EF       	and	a,0xef
2344  0A21  12          	ld	(de),a
2345  0A22  79          	ld	a,c
2346  0A23  86          	add	a, (hl)
2347  0A24  4F          	ld	c,a
2348  0A25  78          	ld	a,b
2349  0A26  CE 00       	adc	a,0x00
2350  0A28  47          	ld	b,a
2351  0A29  0A          	ld	a,(bc)
2352  0A2A  F6 20       	or	a,0x20
2353  0A2C  02          	ld	(bc),a
2354  0A2D              l_player_move_input_00118:
2355  0A2D  2A 00 00    	ld	hl,(_sprite)
2356  0A30  26 00       	ld	h,0x00
2357  0A32  01 00 00    	ld	bc,_state
2358  0A35  09          	add	hl,bc
2359  0A36  3A 00 00    	ld	a,(_s_state)
2360  0A39  77          	ld	(hl),a
2361  0A3A  2A 00 00    	ld	hl,(_sprite)
2362  0A3D  26 00       	ld	h,0x00
2363  0A3F  01 00 00    	ld	bc,_tile
2364  0A42  09          	add	hl,bc
2365  0A43  3A 00 00    	ld	a,(_tile_offset)
2366  0A46  5F          	ld	e,a
2367  0A47  16 00       	ld	d,0x00
2368  0A49  E5          	push	hl
2369  0A4A  2A 00 00    	ld	hl,(_sprite)
2370  0A4D  26 0C       	ld	h,0x0c
2371  0A4F  E5          	push	hl
2372  0A50  D5          	push	de
2373  0A51  CD 00 00    	call	_spr_tile_dir
2374  0A54  F1          	pop	af
2375  0A55  F1          	pop	af
2376  0A56  C1          	pop	bc
2377  0A57  7D          	ld	a, l
2378  0A58  02          	ld	(bc),a
2379  0A59  CD 00 00    	call	_ay_is_playing
2380  0A5C  7D          	ld	a,l
2381  0A5D  B7          	or	a, a
2382  0A5E  20 0C       	jr	NZ,l_player_move_input_00120
2383  0A60  3A 00 00    	ld	a,(_game_bonus)
2384  0A63  B7          	or	a, a
2385  0A64  20 06       	jr	NZ,l_player_move_input_00120
2386  0A66  21 00 00    	ld	hl,_ay_effect_20
2387  0A69  CD 00 00    	call	_ay_fx_play
2388  0A6C              l_player_move_input_00120:
2389  0A6C  CD 59 0B    	call	_player_move_horizontal
2390  0A6F  2E 01       	ld	l,0x01
2391  0A71  C3 58 0B    	jp	l_player_move_input_00135
2392  0A74              l_player_move_input_00131:
2393  0A74  2A 00 00    	ld	hl,(_sprite)
2394  0A77  26 00       	ld	h,0x00
2395  0A79  01 00 00    	ld	bc,_state_a
2396  0A7C  09          	add	hl,bc
2397  0A7D  CB 6E       	bit	5,(hl)
2398  0A7F  28 10       	jr	Z,l_player_move_input_00123
2399  0A81  CD F7 00    	call	_player_calc_slide
2400  0A84  2A 00 00    	ld	hl,(_sprite)
2401  0A87  26 00       	ld	h,0x00
2402  0A89  01 00 00    	ld	bc,_state_a
2403  0A8C  09          	add	hl,bc
2404  0A8D  7E          	ld	a,(hl)
2405  0A8E  E6 DF       	and	a,0xdf
2406  0A90  77          	ld	(hl),a
2407  0A91              l_player_move_input_00123:
2408  0A91  2A 00 00    	ld	hl,(_index_player)
2409  0A94  26 00       	ld	h,0x00
2410  0A96  01 00 00    	ld	bc,_sliding
2411  0A99  09          	add	hl,bc
2412  0A9A  7E          	ld	a,(hl)
2413  0A9B  B7          	or	a, a
2414  0A9C  CA 56 0B    	jp	Z,l_player_move_input_00129
2415  0A9F  CD 00 00    	call	_ay_is_playing
2416  0AA2  7D          	ld	a,l
2417  0AA3  D6 03       	sub	a,0x03
2418  0AA5  28 06       	jr	Z,l_player_move_input_00125
2419  0AA7  21 00 00    	ld	hl,_ay_effect_01
2420  0AAA  CD 00 00    	call	_ay_fx_play
2421  0AAD              l_player_move_input_00125:
2422  0AAD  CD 00 00    	call	_sound_slide
2423  0AB0  CD 59 0B    	call	_player_move_horizontal
2424  0AB3  2A 00 00    	ld	hl,(_index_player)
2425  0AB6  26 00       	ld	h,0x00
2426  0AB8  01 00 00    	ld	bc,_sliding
2427  0ABB  09          	add	hl,bc
2428  0ABC  7E          	ld	a,(hl)
2429  0ABD  C6 FF       	add	a,0xff
2430  0ABF  77          	ld	(hl),a
2431  0AC0  2A 00 00    	ld	hl,(_sprite)
2432  0AC3  26 00       	ld	h,0x00
2433  0AC5  01 00 00    	ld	bc,_sprite_speed_alt
2434  0AC8  09          	add	hl,bc
2435  0AC9  AF          	xor	a,a
2436  0ACA  77          	ld	(hl),a
2437  0ACB  2A 00 00    	ld	hl,(_sprite)
2438  0ACE  26 00       	ld	h,0x00
2439  0AD0  01 00 00    	ld	bc,_tile
2440  0AD3  09          	add	hl,bc
2441  0AD4  3A 00 00    	ld	a,(_tile_offset)
2442  0AD7  5F          	ld	e,a
2443  0AD8  16 00       	ld	d,0x00
2444  0ADA  4D          	ld	c,l
2445  0ADB  44          	ld	b,h
2446  0ADC  13          	inc	de
2447  0ADD  13          	inc	de
2448  0ADE  13          	inc	de
2449  0ADF  13          	inc	de
2450  0AE0  2A 00 00    	ld	hl,(_sprite)
2451  0AE3  C5          	push	bc
2452  0AE4  26 0C       	ld	h,0x0c
2453  0AE6  E5          	push	hl
2454  0AE7  D5          	push	de
2455  0AE8  CD 00 00    	call	_spr_tile_dir
2456  0AEB  F1          	pop	af
2457  0AEC  F1          	pop	af
2458  0AED  C1          	pop	bc
2459  0AEE  7D          	ld	a, l
2460  0AEF  02          	ld	(bc),a
2461  0AF0  2A 00 00    	ld	hl,(_index_player)
2462  0AF3  26 00       	ld	h,0x00
2463  0AF5  01 00 00    	ld	bc,_sliding
2464  0AF8  09          	add	hl,bc
2465  0AF9  7E          	ld	a,(hl)
2466  0AFA  B7          	or	a, a
2467  0AFB  20 59       	jr	NZ,l_player_move_input_00129
2468  0AFD  01 00 00    	ld	bc,_spr_timer+0
2469  0B00  2A 00 00    	ld	hl,(_sprite)
2470  0B03  26 00       	ld	h,0x00
2471  0B05  29          	add	hl, hl
2472  0B06  09          	add	hl,bc
2473  0B07  AF          	xor	a, a
2474  0B08  77          	ld	(hl), a
2475  0B09  23          	inc	hl
2476  0B0A  77          	ld	(hl), a
2477  0B0B  2A 00 00    	ld	hl,(_sprite)
2478  0B0E  26 00       	ld	h,0x00
2479  0B10  01 00 00    	ld	bc,_colint
2480  0B13  09          	add	hl,bc
2481  0B14  AF          	xor	a,a
2482  0B15  77          	ld	(hl),a
2483  0B16  2A 00 00    	ld	hl,(_sprite)
2484  0B19  26 00       	ld	h,0x00
2485  0B1B  01 00 00    	ld	bc,_tile
2486  0B1E  09          	add	hl,bc
2487  0B1F  3A 00 00    	ld	a,(_tile_offset)
2488  0B22  5F          	ld	e,a
2489  0B23  16 00       	ld	d,0x00
2490  0B25  4D          	ld	c,l
2491  0B26  44          	ld	b,h
2492  0B27  13          	inc	de
2493  0B28  13          	inc	de
2494  0B29  13          	inc	de
2495  0B2A  2A 00 00    	ld	hl,(_sprite)
2496  0B2D  C5          	push	bc
2497  0B2E  26 0C       	ld	h,0x0c
2498  0B30  E5          	push	hl
2499  0B31  D5          	push	de
2500  0B32  CD 00 00    	call	_spr_tile_dir
2501  0B35  F1          	pop	af
2502  0B36  F1          	pop	af
2503  0B37  C1          	pop	bc
2504  0B38  7D          	ld	a, l
2505  0B39  02          	ld	(bc),a
2506  0B3A  01 00 00    	ld	bc,_state+0
2507  0B3D  79          	ld	a,c
2508  0B3E  21 00 00    	ld	hl,_sprite
2509  0B41  86          	add	a, (hl)
2510  0B42  5F          	ld	e,a
2511  0B43  78          	ld	a,b
2512  0B44  CE 00       	adc	a,0x00
2513  0B46  57          	ld	d,a
2514  0B47  1A          	ld	a,(de)
2515  0B48  E6 FB       	and	a,0xfb
2516  0B4A  12          	ld	(de),a
2517  0B4B  79          	ld	a,c
2518  0B4C  86          	add	a, (hl)
2519  0B4D  4F          	ld	c,a
2520  0B4E  78          	ld	a,b
2521  0B4F  CE 00       	adc	a,0x00
2522  0B51  47          	ld	b,a
2523  0B52  0A          	ld	a,(bc)
2524  0B53  E6 F7       	and	a,0xf7
2525  0B55  02          	ld	(bc),a
2526  0B56              l_player_move_input_00129:
2527  0B56  2E 00       	ld	l,0x00
2528  0B58              l_player_move_input_00135:
2529  0B58  C9          	ret
2530  0B59              	SECTION code_compiler
2531  0B59              ;	---------------------------------
2532  0B59              ; Function player_move_horizontal
2533  0B59              ; ---------------------------------
2534  0B59              _player_move_horizontal:
2535  0B59  AF          	xor	a, a
2536  0B5A  F5          	push	af
2537  0B5B  33          	inc	sp
2538  0B5C  2A FF FF    	ld	hl,(_sprite_other_player - 1)
2539  0B5F  3A 00 00    	ld	a,(_sprite)
2540  0B62  6F          	ld	l,a
2541  0B63  E5          	push	hl
2542  0B64  CD 00 00    	call	_spr_collision_check
2543  0B67  F1          	pop	af
2544  0B68  33          	inc	sp
2545  0B69  7D          	ld	a,l
2546  0B6A  B7          	or	a, a
2547  0B6B  28 05       	jr	Z,l_player_move_horizontal_00102
2548  0B6D  CD 76 0B    	call	_player_push
2549  0B70  18 03       	jr	l_player_move_horizontal_00104
2550  0B72              l_player_move_horizontal_00102:
2551  0B72  CD 00 00    	call	_spr_move_horizontal
2552  0B75              l_player_move_horizontal_00104:
2553  0B75  C9          	ret
2554  0B76              	SECTION code_compiler
2555  0B76              ;	---------------------------------
2556  0B76              ; Function player_push
2557  0B76              ; ---------------------------------
2558  0B76              _player_push:
2559  0B76  3A 00 00    	ld	a,(_sprite)
2560  0B79  32 00 00    	ld	(_tmp),a
2561  0B7C  3A 00 00    	ld	a,(_s_col0)
2562  0B7F  32 00 00    	ld	(_tmp0),a
2563  0B82  2A 00 00    	ld	hl,(_sprite_other_player)
2564  0B85  26 00       	ld	h,0x00
2565  0B87  01 00 00    	ld	bc,_lin
2566  0B8A  09          	add	hl,bc
2567  0B8B  7E          	ld	a,(hl)
2568  0B8C  32 00 00    	ld	(_s_lin0),a
2569  0B8F  2A 00 00    	ld	hl,(_sprite_other_player)
2570  0B92  26 00       	ld	h,0x00
2571  0B94  01 00 00    	ld	bc,_col
2572  0B97  09          	add	hl,bc
2573  0B98  7E          	ld	a,(hl)
2574  0B99  32 00 00    	ld	(_s_col0),a
2575  0B9C  01 00 00    	ld	bc,_spr_timer+0
2576  0B9F  2A 00 00    	ld	hl,(_sprite_other_player)
2577  0BA2  26 00       	ld	h,0x00
2578  0BA4  29          	add	hl, hl
2579  0BA5  09          	add	hl,bc
2580  0BA6  ED 5B 00 00 	ld	de,(_curr_time)
2581  0BAA  73          	ld	(hl),e
2582  0BAB  23          	inc	hl
2583  0BAC  72          	ld	(hl),d
2584  0BAD  2A 00 00    	ld	hl,(_sprite_other_player)
2585  0BB0  26 00       	ld	h,0x00
2586  0BB2  01 00 00    	ld	bc,_state_a
2587  0BB5  09          	add	hl,bc
2588  0BB6  7E          	ld	a,(hl)
2589  0BB7  F6 04       	or	a,0x04
2590  0BB9  77          	ld	(hl),a
2591  0BBA  3A 00 00    	ld	a,(_sprite_other_player)
2592  0BBD  32 00 00    	ld	(_sprite),a
2593  0BC0  2A 00 00    	ld	hl,(_tmp)
2594  0BC3  26 00       	ld	h,0x00
2595  0BC5  01 00 00    	ld	bc,_state
2596  0BC8  09          	add	hl,bc
2597  0BC9  CB 56       	bit	2,(hl)
2598  0BCB  28 05       	jr	Z,l_player_push_00102
2599  0BCD  CD 00 00    	call	_spr_move_right
2600  0BD0  18 03       	jr	l_player_push_00103
2601  0BD2              l_player_push_00102:
2602  0BD2  CD 00 00    	call	_spr_move_left
2603  0BD5              l_player_push_00103:
2604  0BD5  CD 00 00    	call	_spr_redraw
2605  0BD8  3A 00 00    	ld	a,(_tmp)
2606  0BDB  32 00 00    	ld	(_sprite),a
2607  0BDE  C6 00       	add	a,+((_lin) & 0xFF)
2608  0BE0  4F          	ld	c,a
2609  0BE1  3E 00       	ld	a,+((_lin) / 256)
2610  0BE3  CE 00       	adc	a,0x00
2611  0BE5  47          	ld	b,a
2612  0BE6  0A          	ld	a,(bc)
2613  0BE7  32 00 00    	ld	(_s_lin0),a
2614  0BEA  3A 00 00    	ld	a,(_tmp0)
2615  0BED  32 00 00    	ld	(_s_col0),a
2616  0BF0  C9          	ret
2617  0BF1              	SECTION code_compiler
2618  0BF1              ;	---------------------------------
2619  0BF1              ; Function player_hit_brick
2620  0BF1              ; ---------------------------------
2621  0BF1              _player_hit_brick:
2622  0BF1  2A 00 00    	ld	hl,(_index_player)
2623  0BF4  26 00       	ld	h,0x00
2624  0BF6  01 00 00    	ld	bc,_hit_lin
2625  0BF9  09          	add	hl,bc
2626  0BFA  7E          	ld	a,(hl)
2627  0BFB  B7          	or	a, a
2628  0BFC  C2 CB 0D    	jp	NZ,l_player_hit_brick_00112
2629  0BFF  2A 00 00    	ld	hl,(_sprite)
2630  0C02  26 00       	ld	h,0x00
2631  0C04  01 00 00    	ld	bc,_lin
2632  0C07  09          	add	hl,bc
2633  0C08  5E          	ld	e,(hl)
2634  0C09  3E 10       	ld	a,0x10
2635  0C0B  93          	sub	a,e
2636  0C0C  D2 CB 0D    	jp	NC,l_player_hit_brick_00112
2637  0C0F  4D          	ld	c,l
2638  0C10  44          	ld	b,h
2639  0C11  21 00 00    	ld	hl,_enemies
2640  0C14  36 00       	ld	(hl),0x00
2641  0C16              l_player_hit_brick_00114:
2642  0C16  2A 00 00    	ld	hl,(_enemies)
2643  0C19  26 00       	ld	h,0x00
2644  0C1B  11 00 00    	ld	de,_class
2645  0C1E  19          	add	hl,de
2646  0C1F  7E          	ld	a,(hl)
2647  0C20  B7          	or	a,a
2648  0C21  28 5E       	jr	Z,l_player_hit_brick_00115
2649  0C23  0A          	ld	a,(bc)
2650  0C24  4F          	ld	c,a
2651  0C25  06 00       	ld	b,0x00
2652  0C27  2A 00 00    	ld	hl,(_enemies)
2653  0C2A  60          	ld	h,b
2654  0C2B  11 00 00    	ld	de,_lin
2655  0C2E  19          	add	hl,de
2656  0C2F  5E          	ld	e, (hl)
2657  0C30  16 00       	ld	d,0x00
2658  0C32  79          	ld	a,c
2659  0C33  93          	sub	a,e
2660  0C34  4F          	ld	c,a
2661  0C35  78          	ld	a,b
2662  0C36  9A          	sbc	a,d
2663  0C37  47          	ld	b,a
2664  0C38  79          	ld	a,c
2665  0C39  D6 18       	sub	a,0x18
2666  0C3B  20 44       	jr	NZ,l_player_hit_brick_00115
2667  0C3D  B0          	or	a,b
2668  0C3E  20 41       	jr	NZ,l_player_hit_brick_00115
2669  0C40  2A 00 00    	ld	hl,(_enemies)
2670  0C43  26 00       	ld	h,0x00
2671  0C45  01 00 00    	ld	bc,_state
2672  0C48  09          	add	hl,bc
2673  0C49  CB 6E       	bit	5,(hl)
2674  0C4B  20 34       	jr	NZ,l_player_hit_brick_00115
2675  0C4D  2A 00 00    	ld	hl,(_sprite)
2676  0C50  26 00       	ld	h,0x00
2677  0C52  01 00 00    	ld	bc,_col
2678  0C55  09          	add	hl,bc
2679  0C56  4E          	ld	c,(hl)
2680  0C57  06 00       	ld	b,0x00
2681  0C59  2A 00 00    	ld	hl,(_enemies)
2682  0C5C  60          	ld	h,b
2683  0C5D  11 00 00    	ld	de,_col
2684  0C60  19          	add	hl,de
2685  0C61  5E          	ld	e, (hl)
2686  0C62  16 00       	ld	d,0x00
2687  0C64  79          	ld	a,c
2688  0C65  93          	sub	a, e
2689  0C66  6F          	ld	l,a
2690  0C67  78          	ld	a,b
2691  0C68  9A          	sbc	a, d
2692  0C69  67          	ld	h,a
2693  0C6A  CD 00 00    	call	_abs_fastcall
2694  0C6D  3E 02       	ld	a,0x02
2695  0C6F  BD          	cp	a,l
2696  0C70  3E 00       	ld	a,0x00
2697  0C72  9C          	sbc	a,h
2698  0C73  E2 78 0C    	jp	PO, l_player_hit_brick_00166
2699  0C76  EE 80       	xor	a,0x80
2700  0C78              l_player_hit_brick_00166:
2701  0C78  FA 81 0C    	jp	M,l_player_hit_brick_00115
2702  0C7B  CD 00 00    	call	_enemy_hit
2703  0C7E  CD 00 00    	call	_sound_hit_enemy
2704  0C81              l_player_hit_brick_00115:
2705  0C81  21 00 00    	ld	hl,_enemies
2706  0C84  34          	inc	(hl)
2707  0C85  2A 00 00    	ld	hl,(_sprite)
2708  0C88  26 00       	ld	h,0x00
2709  0C8A  01 00 00    	ld	bc,_lin
2710  0C8D  09          	add	hl,bc
2711  0C8E  3A 00 00    	ld	a,(_enemies)
2712  0C91  D6 06       	sub	a,0x06
2713  0C93  4D          	ld	c,l
2714  0C94  44          	ld	b,h
2715  0C95  DA 16 0C    	jp	C,l_player_hit_brick_00114
2716  0C98  2A 00 00    	ld	hl,(_sprite_other_player)
2717  0C9B  26 00       	ld	h,0x00
2718  0C9D  11 00 00    	ld	de,_lin
2719  0CA0  19          	add	hl,de
2720  0CA1  7E          	ld	a,(hl)
2721  0CA2  5F          	ld	e,a
2722  0CA3  B7          	or	a, a
2723  0CA4  CA 6A 0D    	jp	Z,l_player_hit_brick_00108
2724  0CA7  0A          	ld	a,(bc)
2725  0CA8  6F          	ld	l,a
2726  0CA9  AF          	xor	a,a
2727  0CAA  67          	ld	h,a
2728  0CAB  57          	ld	d,a
2729  0CAC  ED 52       	sbc	hl,de
2730  0CAE  7D          	ld	a,l
2731  0CAF  D6 18       	sub	a,0x18
2732  0CB1  C2 6A 0D    	jp	NZ,l_player_hit_brick_00108
2733  0CB4  B4          	or	a,h
2734  0CB5  C2 6A 0D    	jp	NZ,l_player_hit_brick_00108
2735  0CB8  2A 00 00    	ld	hl,(_sprite)
2736  0CBB  26 00       	ld	h,0x00
2737  0CBD  01 00 00    	ld	bc,_col
2738  0CC0  09          	add	hl,bc
2739  0CC1  4E          	ld	c,(hl)
2740  0CC2  06 00       	ld	b,0x00
2741  0CC4  2A 00 00    	ld	hl,(_sprite_other_player)
2742  0CC7  60          	ld	h,b
2743  0CC8  11 00 00    	ld	de,_col
2744  0CCB  19          	add	hl,de
2745  0CCC  5E          	ld	e, (hl)
2746  0CCD  16 00       	ld	d,0x00
2747  0CCF  79          	ld	a,c
2748  0CD0  93          	sub	a, e
2749  0CD1  6F          	ld	l,a
2750  0CD2  78          	ld	a,b
2751  0CD3  9A          	sbc	a, d
2752  0CD4  67          	ld	h,a
2753  0CD5  CD 00 00    	call	_abs_fastcall
2754  0CD8  3E 02       	ld	a,0x02
2755  0CDA  BD          	cp	a,l
2756  0CDB  3E 00       	ld	a,0x00
2757  0CDD  9C          	sbc	a,h
2758  0CDE  E2 E3 0C    	jp	PO, l_player_hit_brick_00169
2759  0CE1  EE 80       	xor	a,0x80
2760  0CE3              l_player_hit_brick_00169:
2761  0CE3  FA 6A 0D    	jp	M,l_player_hit_brick_00108
2762  0CE6  2A 00 00    	ld	hl,(_sprite_other_player)
2763  0CE9  26 00       	ld	h,0x00
2764  0CEB  01 00 00    	ld	bc,_col
2765  0CEE  09          	add	hl,bc
2766  0CEF  56          	ld	d, (hl)
2767  0CF0  2A 00 00    	ld	hl,(_sprite_other_player)
2768  0CF3  26 00       	ld	h,0x00
2769  0CF5  01 00 00    	ld	bc,_lin
2770  0CF8  09          	add	hl,bc
2771  0CF9  5E          	ld	e, (hl)
2772  0CFA  D5          	push	de
2773  0CFB  AF          	xor	a, a
2774  0CFC  F5          	push	af
2775  0CFD  33          	inc	sp
2776  0CFE  CD 00 00    	call	_NIRVANAP_fillT_callee
2777  0D01  2A 00 00    	ld	hl,(_sprite_other_player)
2778  0D04  26 00       	ld	h,0x00
2779  0D06  01 00 00    	ld	bc,_lin
2780  0D09  09          	add	hl,bc
2781  0D0A  7E          	ld	a,(hl)
2782  0D0B  C6 FC       	add	a,0xfc
2783  0D0D  77          	ld	(hl),a
2784  0D0E  2A 00 00    	ld	hl,(_sprite_other_player)
2785  0D11  26 00       	ld	h,0x00
2786  0D13  01 00 00    	ld	bc,_col
2787  0D16  09          	add	hl,bc
2788  0D17  56          	ld	d, (hl)
2789  0D18  2A 00 00    	ld	hl,(_sprite_other_player)
2790  0D1B  26 00       	ld	h,0x00
2791  0D1D  01 00 00    	ld	bc,_lin
2792  0D20  09          	add	hl,bc
2793  0D21  5E          	ld	e, (hl)
2794  0D22  2A 00 00    	ld	hl,(_sprite_other_player)
2795  0D25  26 00       	ld	h,0x00
2796  0D27  01 00 00    	ld	bc,_tile
2797  0D2A  09          	add	hl,bc
2798  0D2B  46          	ld	b, (hl)
2799  0D2C  21 00 00    	ld	hl,_sprite_other_player
2800  0D2F  4E          	ld	c,(hl)
2801  0D30  D5          	push	de
2802  0D31  C5          	push	bc
2803  0D32  CD 00 00    	call	_NIRVANAP_spriteT_callee
2804  0D35  76          	halt
2805  0D36  2A 00 00    	ld	hl,(_sprite_other_player)
2806  0D39  26 00       	ld	h,0x00
2807  0D3B  01 00 00    	ld	bc,_state
2808  0D3E  09          	add	hl,bc
2809  0D3F  7E          	ld	a,(hl)
2810  0D40  E6 FD       	and	a,0xfd
2811  0D42  77          	ld	(hl),a
2812  0D43  2A 00 00    	ld	hl,(_sprite_other_player)
2813  0D46  26 00       	ld	h,0x00
2814  0D48  01 00 00    	ld	bc,_state
2815  0D4B  09          	add	hl,bc
2816  0D4C  7E          	ld	a,(hl)
2817  0D4D  F6 01       	or	a,0x01
2818  0D4F  77          	ld	(hl),a
2819  0D50  2A 00 00    	ld	hl,(_sprite_other_player)
2820  0D53  26 00       	ld	h,0x00
2821  0D55  01 00 00    	ld	bc,_jump_lin
2822  0D58  09          	add	hl,bc
2823  0D59  3A 00 00    	ld	a,(_sprite_other_player)
2824  0D5C  5F          	ld	e,a
2825  0D5D  16 00       	ld	d,0x00
2826  0D5F  4D          	ld	c,l
2827  0D60  44          	ld	b,h
2828  0D61  21 00 00    	ld	hl,_lin
2829  0D64  19          	add	hl,de
2830  0D65  7E          	ld	a,(hl)
2831  0D66  C6 14       	add	a,0x14
2832  0D68  02          	ld	(bc),a
2833  0D69  76          	halt
2834  0D6A              l_player_hit_brick_00108:
2835  0D6A  2A 00 00    	ld	hl,(_sprite)
2836  0D6D  26 00       	ld	h,0x00
2837  0D6F  01 00 00    	ld	bc,_state_a
2838  0D72  09          	add	hl,bc
2839  0D73  7E          	ld	a,(hl)
2840  0D74  F6 80       	or	a,0x80
2841  0D76  77          	ld	(hl),a
2842  0D77  2A 00 00    	ld	hl,(_index_player)
2843  0D7A  26 00       	ld	h,0x00
2844  0D7C  01 00 00    	ld	bc,_player_jump_c
2845  0D7F  09          	add	hl,bc
2846  0D80  36 04       	ld	(hl),0x04
2847  0D82  01 00 00    	ld	bc,_spr_timer+0
2848  0D85  2A 00 00    	ld	hl,(_sprite)
2849  0D88  26 00       	ld	h,0x00
2850  0D8A  29          	add	hl, hl
2851  0D8B  09          	add	hl,bc
2852  0D8C  ED 5B 00 00 	ld	de,(_curr_time)
2853  0D90  73          	ld	(hl),e
2854  0D91  23          	inc	hl
2855  0D92  72          	ld	(hl),d
2856  0D93  2A 00 00    	ld	hl,(_index_player)
2857  0D96  26 00       	ld	h,0x00
2858  0D98  01 00 00    	ld	bc,_hit_lin
2859  0D9B  09          	add	hl,bc
2860  0D9C  4D          	ld	c,l
2861  0D9D  44          	ld	b,h
2862  0D9E  2A 00 00    	ld	hl,(_sprite)
2863  0DA1  26 00       	ld	h,0x00
2864  0DA3  11 00 00    	ld	de,_lin
2865  0DA6  19          	add	hl,de
2866  0DA7  7E          	ld	a,(hl)
2867  0DA8  02          	ld	(bc),a
2868  0DA9  2A 00 00    	ld	hl,(_index_player)
2869  0DAC  26 00       	ld	h,0x00
2870  0DAE  01 00 00    	ld	bc,_hit_col
2871  0DB1  09          	add	hl,bc
2872  0DB2  4D          	ld	c,l
2873  0DB3  44          	ld	b,h
2874  0DB4  2A 00 00    	ld	hl,(_sprite)
2875  0DB7  26 00       	ld	h,0x00
2876  0DB9  11 00 00    	ld	de,_col
2877  0DBC  19          	add	hl,de
2878  0DBD  7E          	ld	a,(hl)
2879  0DBE  02          	ld	(bc),a
2880  0DBF  2E 01       	ld	l,0x01
2881  0DC1  CD 00 00    	call	_spr_brick_anim
2882  0DC4  CD 00 00    	call	_sound_hit_brick
2883  0DC7  2E 01       	ld	l,0x01
2884  0DC9  18 02       	jr	l_player_hit_brick_00116
2885  0DCB              l_player_hit_brick_00112:
2886  0DCB  2E 00       	ld	l,0x00
2887  0DCD              l_player_hit_brick_00116:
2888  0DCD  C9          	ret
2889  0DCE              	SECTION code_compiler
2890  0DCE              ;	---------------------------------
2891  0DCE              ; Function player_hit_brick_clear
2892  0DCE              ; ---------------------------------
2893  0DCE              _player_hit_brick_clear:
2894  0DCE  2A 00 00    	ld	hl,(_index_player)
2895  0DD1  26 00       	ld	h,0x00
2896  0DD3  01 00 00    	ld	bc,_hit_lin
2897  0DD6  09          	add	hl,bc
2898  0DD7  7E          	ld	a,(hl)
2899  0DD8  4F          	ld	c,a
2900  0DD9  B7          	or	a,a
2901  0DDA  C8          	ret	Z
2902  0DDB  3A 00 00    	ld	a,(_index_player)
2903  0DDE  5F          	ld	e,a
2904  0DDF  16 00       	ld	d,0x00
2905  0DE1  21 00 00    	ld	hl,_hit_col
2906  0DE4  19          	add	hl,de
2907  0DE5  56          	ld	d, (hl)
2908  0DE6  79          	ld	a,c
2909  0DE7  C6 F8       	add	a,0xf8
2910  0DE9  5F          	ld	e, a
2911  0DEA  D5          	push	de
2912  0DEB  CD 00 00    	call	_game_calc_index
2913  0DEE  F1          	pop	af
2914  0DEF  22 00 00    	ld	(_index1),hl
2915  0DF2  01 01 00    	ld	bc,0x0001
2916  0DF5  09          	add	hl,bc
2917  0DF6  22 00 00    	ld	(_index2),hl
2918  0DF9  2E 00       	ld	l,0x00
2919  0DFB  CD 00 00    	call	_spr_brick_anim
2920  0DFE  2A 00 00    	ld	hl,(_index_player)
2921  0E01  26 00       	ld	h,0x00
2922  0E03  01 00 00    	ld	bc,_hit_lin
2923  0E06  09          	add	hl,bc
2924  0E07  AF          	xor	a,a
2925  0E08  77          	ld	(hl),a
2926  0E09  2A 00 00    	ld	hl,(_index_player)
2927  0E0C  26 00       	ld	h,0x00
2928  0E0E  01 00 00    	ld	bc,_hit_col
2929  0E11  09          	add	hl,bc
2930  0E12  AF          	xor	a,a
2931  0E13  77          	ld	(hl),a
2932  0E14  C9          	ret
2933  0E15              	SECTION code_compiler
2934  0E15              ;	---------------------------------
2935  0E15              ; Function player_hit_pow
2936  0E15              ; ---------------------------------
2937  0E15              _player_hit_pow:
2938  0E15  AF          	xor	a, a
2939  0E16  21 00 00    	ld	hl,_index1
2940  0E19  BE          	cp	a, (hl)
2941  0E1A  3E 02       	ld	a,0x02
2942  0E1C  23          	inc	hl
2943  0E1D  9E          	sbc	a, (hl)
2944  0E1E  30 0F       	jr	NC,l_player_hit_pow_00102
2945  0E20  3E 40       	ld	a,0x40
2946  0E22  2B          	dec	hl
2947  0E23  BE          	cp	a, (hl)
2948  0E24  3E 02       	ld	a,0x02
2949  0E26  23          	inc	hl
2950  0E27  9E          	sbc	a, (hl)
2951  0E28  30 05       	jr	NC,l_player_hit_pow_00102
2952  0E2A  2E 00       	ld	l,0x00
2953  0E2C  C3 F1 0E    	jp	l_player_hit_pow_00115
2954  0E2F              l_player_hit_pow_00102:
2955  0E2F  2A 00 00    	ld	hl,(_index1)
2956  0E32  01 01 00    	ld	bc,0x0001
2957  0E35  09          	add	hl,bc
2958  0E36  22 00 00    	ld	(_index2),hl
2959  0E39  3A 00 00    	ld	a,(_game_pow)
2960  0E3C  B7          	or	a, a
2961  0E3D  CA EF 0E    	jp	Z,l_player_hit_pow_00110
2962  0E40  01 00 00    	ld	bc,_lvl_1
2963  0E43  2A 00 00    	ld	hl,(_index1)
2964  0E46  09          	add	hl,bc
2965  0E47  7E          	ld	a,(hl)
2966  0E48  D6 8C       	sub	a,0x8c
2967  0E4A  28 0D       	jr	Z,l_player_hit_pow_00109
2968  0E4C  01 00 00    	ld	bc,_lvl_1
2969  0E4F  2A 00 00    	ld	hl,(_index2)
2970  0E52  09          	add	hl,bc
2971  0E53  7E          	ld	a,(hl)
2972  0E54  D6 8C       	sub	a,0x8c
2973  0E56  C2 EF 0E    	jp	NZ,l_player_hit_pow_00110
2974  0E59              l_player_hit_pow_00109:
2975  0E59  21 00 00    	ld	hl,_game_pow
2976  0E5C  35          	dec	(hl)
2977  0E5D  21 00 00    	ld	hl,_enemies
2978  0E60  36 00       	ld	(hl),0x00
2979  0E62              l_player_hit_pow_00113:
2980  0E62  2A 00 00    	ld	hl,(_enemies)
2981  0E65  26 00       	ld	h,0x00
2982  0E67  5D          	ld	e,l
2983  0E68  01 00 00    	ld	bc,_col
2984  0E6B  09          	add	hl,bc
2985  0E6C  46          	ld	b,(hl)
2986  0E6D  16 00       	ld	d,0x00
2987  0E6F  21 00 00    	ld	hl,_lin
2988  0E72  19          	add	hl,de
2989  0E73  7E          	ld	a,(hl)
2990  0E74  C6 10       	add	a,0x10
2991  0E76  4F          	ld	c,a
2992  0E77  C5          	push	bc
2993  0E78  CD 00 00    	call	_game_calc_index
2994  0E7B  F1          	pop	af
2995  0E7C  CD 00 00    	call	_game_check_maze
2996  0E7F  7D          	ld	a,l
2997  0E80  B7          	or	a, a
2998  0E81  20 03       	jr	NZ,l_player_hit_pow_00105
2999  0E83  CD 00 00    	call	_enemy_hit
3000  0E86              l_player_hit_pow_00105:
3001  0E86  21 07 00    	ld	hl,0x0007
3002  0E89  CD 00 00    	call	_zx_border_fastcall
3003  0E8C  21 05 00    	ld	hl,0x0005
3004  0E8F  CD 00 00    	call	_z80_delay_ms_fastcall
3005  0E92  21 01 00    	ld	hl,0x0001
3006  0E95  CD 00 00    	call	_zx_border_fastcall
3007  0E98  21 05 00    	ld	hl,0x0005
3008  0E9B  CD 00 00    	call	_z80_delay_ms_fastcall
3009  0E9E  21 00 00    	ld	hl,_enemies
3010  0EA1  7E          	ld	a,(hl)
3011  0EA2  3C          	inc	a
3012  0EA3  77          	ld	(hl),a
3013  0EA4  D6 06       	sub	a,0x06
3014  0EA6  38 BA       	jr	C,l_player_hit_pow_00113
3015  0EA8  21 00 00    	ld	hl,_ay_effect_06
3016  0EAB  CD 00 00    	call	_ay_fx_play
3017  0EAE  CD 00 00    	call	_sound_hit_pow
3018  0EB1  CD 00 00    	call	_spr_draw_pow
3019  0EB4  3A 00 00    	ld	a,(_game_pow)
3020  0EB7  B7          	or	a, a
3021  0EB8  20 13       	jr	NZ,l_player_hit_pow_00108
3022  0EBA  21 80 0F    	ld	hl,0x0f80
3023  0EBD  E5          	push	hl
3024  0EBE  AF          	xor	a, a
3025  0EBF  F5          	push	af
3026  0EC0  33          	inc	sp
3027  0EC1  CD 00 00    	call	_NIRVANAP_fillT_callee
3028  0EC4  21 A9 A9    	ld	hl,0xa9a9
3029  0EC7  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3030  0ECA  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3031  0ECD              l_player_hit_pow_00108:
3032  0ECD  21 00 00    	ld	hl,0x0000
3033  0ED0  CD 00 00    	call	_zx_border_fastcall
3034  0ED3  2A 00 00    	ld	hl,(_sprite)
3035  0ED6  26 00       	ld	h,0x00
3036  0ED8  01 00 00    	ld	bc,_state_a
3037  0EDB  09          	add	hl,bc
3038  0EDC  7E          	ld	a,(hl)
3039  0EDD  F6 80       	or	a,0x80
3040  0EDF  77          	ld	(hl),a
3041  0EE0  2A 00 00    	ld	hl,(_index_player)
3042  0EE3  26 00       	ld	h,0x00
3043  0EE5  01 00 00    	ld	bc,_player_jump_c
3044  0EE8  09          	add	hl,bc
3045  0EE9  36 06       	ld	(hl),0x06
3046  0EEB  2E 01       	ld	l,0x01
3047  0EED  18 02       	jr	l_player_hit_pow_00115
3048  0EEF              l_player_hit_pow_00110:
3049  0EEF  2E 00       	ld	l,0x00
3050  0EF1              l_player_hit_pow_00115:
3051  0EF1  C9          	ret
3052  0EF2              	SECTION code_compiler
3053  0EF2              ;	---------------------------------
3054  0EF2              ; Function player_coin
3055  0EF2              ; ---------------------------------
3056  0EF2              _player_coin:
3057  0EF2  CD 00 00    	call	___sdcc_enter_ix
3058  0EF5  3E 00       	ld	a,+((_class) & 0xFF)
3059  0EF7  DD 86 04    	add	a,(ix+4)
3060  0EFA  4F          	ld	c,a
3061  0EFB  3E 00       	ld	a,+((_class) / 256)
3062  0EFD  CE 00       	adc	a,0x00
3063  0EFF  47          	ld	b,a
3064  0F00  0A          	ld	a,(bc)
3065  0F01  D6 07       	sub	a,0x07
3066  0F03  20 16       	jr	NZ,l_player_coin_00102
3067  0F05  21 00 00    	ld	hl,_ay_effect_12
3068  0F08  CD 00 00    	call	_ay_fx_play
3069  0F0B  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3070  0F0D  DD 86 04    	add	a,(ix+4)
3071  0F10  4F          	ld	c,a
3072  0F11  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3073  0F13  CE 00       	adc	a,0x00
3074  0F15  47          	ld	b,a
3075  0F16  3E 03       	ld	a,0x03
3076  0F18  02          	ld	(bc),a
3077  0F19  18 17       	jr	l_player_coin_00103
3078  0F1B              l_player_coin_00102:
3079  0F1B  21 00 00    	ld	hl,_ay_effect_10
3080  0F1E  CD 00 00    	call	_ay_fx_play
3081  0F21  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3082  0F23  DD 86 04    	add	a,(ix+4)
3083  0F26  4F          	ld	c,a
3084  0F27  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3085  0F29  CE 00       	adc	a,0x00
3086  0F2B  47          	ld	b,a
3087  0F2C  3E 08       	ld	a,0x08
3088  0F2E  02          	ld	(bc),a
3089  0F2F  CD 00 00    	call	_sound_coin
3090  0F32              l_player_coin_00103:
3091  0F32  3E 00       	ld	a,+((_state) & 0xFF)
3092  0F34  DD 86 04    	add	a,(ix+4)
3093  0F37  4F          	ld	c,a
3094  0F38  3E 00       	ld	a,+((_state) / 256)
3095  0F3A  CE 00       	adc	a,0x00
3096  0F3C  47          	ld	b,a
3097  0F3D  0A          	ld	a,(bc)
3098  0F3E  E6 FE       	and	a,0xfe
3099  0F40  F6 20       	or	a,0x20
3100  0F42  02          	ld	(bc),a
3101  0F43  01 00 00    	ld	bc,_spr_timer+0
3102  0F46  DD 6E 04    	ld	l,(ix+4)
3103  0F49  26 00       	ld	h,0x00
3104  0F4B  29          	add	hl, hl
3105  0F4C  09          	add	hl,bc
3106  0F4D  ED 5B 00 00 	ld	de,(_curr_time)
3107  0F51  73          	ld	(hl),e
3108  0F52  23          	inc	hl
3109  0F53  72          	ld	(hl),d
3110  0F54  3A 00 00    	ld	a,(_game_bonus)
3111  0F57  B7          	or	a, a
3112  0F58  28 1B       	jr	Z,l_player_coin_00107
3113  0F5A  2A 00 00    	ld	hl,(_index_player)
3114  0F5D  26 00       	ld	h,0x00
3115  0F5F  01 00 00    	ld	bc,_phase_bonus_total
3116  0F62  09          	add	hl,bc
3117  0F63  7E          	ld	a,(hl)
3118  0F64  3C          	inc	a
3119  0F65  77          	ld	(hl),a
3120  0F66  4D          	ld	c,l
3121  0F67  44          	ld	b,h
3122  0F68  21 00 00    	ld	hl,_phase_left
3123  0F6B  35          	dec (hl)
3124  0F6C  20 0F       	jr	NZ,l_player_coin_00109
3125  0F6E  21 00 00    	ld	hl,_phase_end
3126  0F71  36 01       	ld	(hl),0x01
3127  0F73  18 08       	jr	l_player_coin_00109
3128  0F75              l_player_coin_00107:
3129  0F75  DD 6E 05    	ld	l,(ix+5)
3130  0F78  26 00       	ld	h,0x00
3131  0F7A  CD 80 0F    	call	_player_score_add
3132  0F7D              l_player_coin_00109:
3133  0F7D  DD E1       	pop	ix
3134  0F7F  C9          	ret
3135  0F80              	SECTION code_compiler
3136  0F80              ;	---------------------------------
3137  0F80              ; Function player_score_add
3138  0F80              ; ---------------------------------
3139  0F80              _player_score_add:
3140  0F80  4D          	ld	c,l
3141  0F81  44          	ld	b,h
3142  0F82  2A 00 00    	ld	hl,(_index_player)
3143  0F85  26 00       	ld	h,0x00
3144  0F87  29          	add	hl, hl
3145  0F88  11 00 00    	ld	de,_player_score
3146  0F8B  19          	add	hl,de
3147  0F8C  5E          	ld	e,(hl)
3148  0F8D  23          	inc	hl
3149  0F8E  56          	ld	d,(hl)
3150  0F8F  2B          	dec	hl
3151  0F90  7B          	ld	a,e
3152  0F91  81          	add	a, c
3153  0F92  4F          	ld	c,a
3154  0F93  7A          	ld	a,d
3155  0F94  88          	adc	a, b
3156  0F95  47          	ld	b,a
3157  0F96  71          	ld	(hl),c
3158  0F97  23          	inc	hl
3159  0F98  70          	ld	(hl),b
3160  0F99  2A 00 00    	ld	hl,(_index_player)
3161  0F9C  26 00       	ld	h,0x00
3162  0F9E  29          	add	hl,hl
3163  0F9F  4D          	ld	c,l
3164  0FA0  44          	ld	b,h
3165  0FA1  21 00 00    	ld	hl,_player_score
3166  0FA4  09          	add	hl,bc
3167  0FA5  5E          	ld	e,(hl)
3168  0FA6  23          	inc	hl
3169  0FA7  56          	ld	d,(hl)
3170  0FA8  21 00 00    	ld	hl,_game_score_top
3171  0FAB  7E          	ld	a,(hl)
3172  0FAC  93          	sub	a, e
3173  0FAD  23          	inc	hl
3174  0FAE  7E          	ld	a,(hl)
3175  0FAF  9A          	sbc	a, d
3176  0FB0  30 04       	jr	NC,l_player_score_add_00102
3177  0FB2  2B          	dec	hl
3178  0FB3  73          	ld	(hl),e
3179  0FB4  23          	inc	hl
3180  0FB5  72          	ld	(hl),d
3181  0FB6              l_player_score_add_00102:
3182  0FB6  21 00 00    	ld	hl,_player_next_extra
3183  0FB9  09          	add	hl,bc
3184  0FBA  4E          	ld	c,(hl)
3185  0FBB  23          	inc	hl
3186  0FBC  46          	ld	b,(hl)
3187  0FBD  2B          	dec	hl
3188  0FBE  79          	ld	a,c
3189  0FBF  93          	sub	a, e
3190  0FC0  78          	ld	a,b
3191  0FC1  9A          	sbc	a, d
3192  0FC2  30 7B       	jr	NC,l_player_score_add_00113
3193  0FC4  79          	ld	a,c
3194  0FC5  C6 D0       	add	a,0xd0
3195  0FC7  77          	ld	(hl),a
3196  0FC8  78          	ld	a,b
3197  0FC9  CE 07       	adc	a,0x07
3198  0FCB  23          	inc	hl
3199  0FCC  77          	ld	(hl),a
3200  0FCD  2A 00 00    	ld	hl,(_index_player)
3201  0FD0  26 00       	ld	h,0x00
3202  0FD2  01 00 00    	ld	bc,_game_lives
3203  0FD5  09          	add	hl,bc
3204  0FD6  34          	inc	(hl)
3205  0FD7  21 00 00    	ld	hl,_hit_count
3206  0FDA  36 10       	ld	(hl),0x10
3207  0FDC  3A 00 00    	ld	a,(_game_bonus)
3208  0FDF  B7          	or	a, a
3209  0FE0  20 03       	jr	NZ,l_player_score_add_00104
3210  0FE2  CD 00 00    	call	_game_print_lives
3211  0FE5              l_player_score_add_00104:
3212  0FE5  21 00 00    	ld	hl,_tmp0
3213  0FE8  36 00       	ld	(hl),0x00
3214  0FEA              l_player_score_add_00114:
3215  0FEA  3A 00 00    	ld	a,(_index_player)
3216  0FED  B7          	or	a, a
3217  0FEE  20 08       	jr	NZ,l_player_score_add_00106
3218  0FF0  21 01 00    	ld	hl,0x0001
3219  0FF3  CD 00 00    	call	_zx_border_fastcall
3220  0FF6  18 06       	jr	l_player_score_add_00107
3221  0FF8              l_player_score_add_00106:
3222  0FF8  21 07 00    	ld	hl,0x0007
3223  0FFB  CD 00 00    	call	_zx_border_fastcall
3224  0FFE              l_player_score_add_00107:
3225  0FFE  21 05 00    	ld	hl,0x0005
3226  1001  CD 00 00    	call	_z80_delay_ms_fastcall
3227  1004  3A 00 00    	ld	a,(_index_player)
3228  1007  B7          	or	a, a
3229  1008  20 08       	jr	NZ,l_player_score_add_00109
3230  100A  21 02 00    	ld	hl,0x0002
3231  100D  CD 00 00    	call	_zx_border_fastcall
3232  1010  18 06       	jr	l_player_score_add_00110
3233  1012              l_player_score_add_00109:
3234  1012  21 04 00    	ld	hl,0x0004
3235  1015  CD 00 00    	call	_zx_border_fastcall
3236  1018              l_player_score_add_00110:
3237  1018  21 05 00    	ld	hl,0x0005
3238  101B  CD 00 00    	call	_z80_delay_ms_fastcall
3239  101E  21 00 00    	ld	hl,_tmp0
3240  1021  7E          	ld	a,(hl)
3241  1022  3C          	inc	a
3242  1023  77          	ld	(hl),a
3243  1024  D6 06       	sub	a,0x06
3244  1026  38 C2       	jr	C,l_player_score_add_00114
3245  1028  CD 00 00    	call	_sound_coin
3246  102B  CD 00 00    	call	_sound_coin
3247  102E  CD 00 00    	call	_sound_coin
3248  1031  CD 00 00    	call	_sound_coin
3249  1034  21 00 00    	ld	hl,0x0000
3250  1037  CD 00 00    	call	_zx_border_fastcall
3251  103A  21 00 00    	ld	hl,_hit_count
3252  103D  36 08       	ld	(hl),0x08
3253  103F              l_player_score_add_00113:
3254  103F  C3 00 00    	jp  _game_print_score
3255  1042              	SECTION code_compiler
3256  1042              ;	---------------------------------
3257  1042              ; Function player_set
3258  1042              ; ---------------------------------
3259  1042              _player_set:
3260  1042  CD 00 00    	call	___sdcc_enter_ix
3261  1045  DD 7E 04    	ld	a,(ix+4)
3262  1048  32 00 00    	ld	(_sprite),a
3263  104B  DD 7E 05    	ld	a,(ix+5)
3264  104E  32 00 00    	ld	(_sprite_other_player),a
3265  1051  DD 7E 06    	ld	a,(ix+6)
3266  1054  32 00 00    	ld	(_index_player),a
3267  1057  DD 7E 07    	ld	a,(ix+7)
3268  105A  32 00 00    	ld	(_tile_offset),a
3269  105D  DD 7E 08    	ld	a,(ix+8)
3270  1060  32 00 00    	ld	(_tile_offset_other_player),a
3271  1063  DD E1       	pop	ix
3272  1065  C9          	ret
3273  1066              	SECTION IGNORE
3274  0000              
