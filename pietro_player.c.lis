1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _player_init
181   0000              	GLOBAL _player_collition
182   0000              	GLOBAL _player_collition_check
183   0000              	GLOBAL _player_kill
184   0000              	GLOBAL _player_restart
185   0000              	GLOBAL _player_lost_life
186   0000              	GLOBAL _player_turn
187   0000              	GLOBAL _player_move
188   0000              	GLOBAL _player_move_input
189   0000              	GLOBAL _player_move_horizontal
190   0000              	GLOBAL _player_push_check
191   0000              	GLOBAL _player_push
192   0000              	GLOBAL _player_hit_slipice
193   0000              	GLOBAL _player_hit_brick
194   0000              	GLOBAL _player_hit_brick_clear
195   0000              	GLOBAL _player_hit_pow
196   0000              	GLOBAL _player_coin
197   0000              	GLOBAL _player_score_add
198   0000              	GLOBAL _player_set1
199   0000              	GLOBAL _player_set2
200   0000              ;--------------------------------------------------------
201   0000              ; Externals used
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _debug3
204   0000              	GLOBAL _debug2
205   0000              	GLOBAL _debug
206   0000              	GLOBAL _zx_print_str
207   0000              	GLOBAL _zx_print_int
208   0000              	GLOBAL _zx_print_chr
209   0000              	GLOBAL _zx_print_bonus_time
210   0000              	GLOBAL _zx_isr
211   0000              	GLOBAL _z80_otdr_callee
212   0000              	GLOBAL _z80_otdr
213   0000              	GLOBAL _z80_otir_callee
214   0000              	GLOBAL _z80_otir
215   0000              	GLOBAL _z80_outp_callee
216   0000              	GLOBAL _z80_outp
217   0000              	GLOBAL _z80_indr_callee
218   0000              	GLOBAL _z80_indr
219   0000              	GLOBAL _z80_inir_callee
220   0000              	GLOBAL _z80_inir
221   0000              	GLOBAL _z80_inp_fastcall
222   0000              	GLOBAL _z80_inp
223   0000              	GLOBAL _z80_set_int_state_fastcall
224   0000              	GLOBAL _z80_set_int_state
225   0000              	GLOBAL _z80_get_int_state
226   0000              	GLOBAL _z80_delay_tstate_fastcall
227   0000              	GLOBAL _z80_delay_tstate
228   0000              	GLOBAL _z80_delay_ms_fastcall
229   0000              	GLOBAL _z80_delay_ms
230   0000              	GLOBAL _im2_remove_generic_callback_callee
231   0000              	GLOBAL _im2_remove_generic_callback
232   0000              	GLOBAL _im2_prepend_generic_callback_callee
233   0000              	GLOBAL _im2_prepend_generic_callback
234   0000              	GLOBAL _im2_append_generic_callback_callee
235   0000              	GLOBAL _im2_append_generic_callback
236   0000              	GLOBAL _im2_create_generic_isr_8080_callee
237   0000              	GLOBAL _im2_create_generic_isr_8080
238   0000              	GLOBAL _im2_create_generic_isr_callee
239   0000              	GLOBAL _im2_create_generic_isr
240   0000              	GLOBAL _im2_install_isr_callee
241   0000              	GLOBAL _im2_install_isr
242   0000              	GLOBAL _im2_init_fastcall
243   0000              	GLOBAL _im2_init
244   0000              	GLOBAL _sound_hit_pow
245   0000              	GLOBAL _sound_hit_brick
246   0000              	GLOBAL _sound_hit_enemy
247   0000              	GLOBAL _sound_kill
248   0000              	GLOBAL _sound_enter_enemy
249   0000              	GLOBAL _sound_coin
250   0000              	GLOBAL _sound_jump
251   0000              	GLOBAL _sound_slide
252   0000              	GLOBAL _spr_draw_clear
253   0000              	GLOBAL _spr_water_splash_draw
254   0000              	GLOBAL _spr_water_splash_clear
255   0000              	GLOBAL _spr_draw_back
256   0000              	GLOBAL _spr_cortina_pipes
257   0000              	GLOBAL _spr_cortina_brick
258   0000              	GLOBAL _spr_brick_anim
259   0000              	GLOBAL _spr_back_fix4
260   0000              	GLOBAL _spr_back_fix3
261   0000              	GLOBAL _spr_back_fix2
262   0000              	GLOBAL _spr_back_fix1
263   0000              	GLOBAL _spr_back_fix
264   0000              	GLOBAL _spr_back_clr
265   0000              	GLOBAL _spr_draw_pow
266   0000              	GLOBAL _spr_tile
267   0000              	GLOBAL _spr_set_fall
268   0000              	GLOBAL _spr_destroy
269   0000              	GLOBAL _spr_check_over
270   0000              	GLOBAL _spr_tile_dir
271   0000              	GLOBAL _spr_collition_check
272   0000              	GLOBAL _spr_anim_kill
273   0000              	GLOBAL _spr_anim_fall
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_chktime
282   0000              	GLOBAL _game_hall_print_p
283   0000              	GLOBAL _game_hall_edit_p
284   0000              	GLOBAL _game_hall_check
285   0000              	GLOBAL _game_hall_enter_phs
286   0000              	GLOBAL _game_print_header
287   0000              	GLOBAL _game_end
288   0000              	GLOBAL _game_hall_enter
289   0000              	GLOBAL _game_hall_of_fame
290   0000              	GLOBAL _game_score_osd
291   0000              	GLOBAL _game_phase_print_score_back
292   0000              	GLOBAL _game_bonus_clock
293   0000              	GLOBAL _game_bonus_summary_player
294   0000              	GLOBAL _game_bonus_summary
295   0000              	GLOBAL _game_check_time
296   0000              	GLOBAL _game_menu_config
297   0000              	GLOBAL _game_menu
298   0000              	GLOBAL _game_rotate_attrib
299   0000              	GLOBAL _game_colour_message
300   0000              	GLOBAL _game_paint_attrib_lin_h
301   0000              	GLOBAL _game_paint_attrib_lin
302   0000              	GLOBAL _game_paint_attrib
303   0000              	GLOBAL _game_menu_handle
304   0000              	GLOBAL _game_menu_e
305   0000              	GLOBAL _game_menu_back
306   0000              	GLOBAL _game_print_score
307   0000              	GLOBAL _game_unfreeze_all
308   0000              	GLOBAL _game_freeze_all
309   0000              	GLOBAL _game_freeze
310   0000              	GLOBAL _game_enemy_add_get_index
311   0000              	GLOBAL _game_enemy_add1
312   0000              	GLOBAL _game_enemy_quota
313   0000              	GLOBAL _game_enemy_rnd
314   0000              	GLOBAL _game_enemy_add
315   0000              	GLOBAL _game_check_maze
316   0000              	GLOBAL _game_kill_all_sprites
317   0000              	GLOBAL _game_loop
318   0000              	GLOBAL _game_phase_print
319   0000              	GLOBAL _game_phase_init
320   0000              	GLOBAL _game_phase_calc
321   0000              	GLOBAL _game_start_timer
322   0000              	GLOBAL _game_tick
323   0000              	GLOBAL _game_print_lives
324   0000              	GLOBAL _game_print_footer
325   0000              	GLOBAL _game_calc_index
326   0000              	GLOBAL _game_fill_row
327   0000              	GLOBAL _enemy_kill
328   0000              	GLOBAL _enemy_init
329   0000              	GLOBAL _enemy_walk
330   0000              	GLOBAL _enemy_upgrade
331   0000              	GLOBAL _enemy_evolve
332   0000              	GLOBAL _enemy_standard_hit
333   0000              	GLOBAL _enemy_trip
334   0000              	GLOBAL _enemy_fighterfly
335   0000              	GLOBAL _enemy_fireball_green
336   0000              	GLOBAL _enemy_fireball_red
337   0000              	GLOBAL _enemy_slipice
338   0000              	GLOBAL _enemy_standard
339   0000              	GLOBAL _enemy_turn
340   0000              	GLOBAL _enemy_flip_sidestepper
341   0000              	GLOBAL _enemy_flip
342   0000              	GLOBAL _enemy_flip_change_dir
343   0000              	GLOBAL _enemy_hit
344   0000              	GLOBAL _enemy_collition_check
345   0000              	GLOBAL _enemy_collition
346   0000              	GLOBAL _enemy_coin1
347   0000              	GLOBAL _ay_fx_play
348   0000              	GLOBAL _ay_midi_play
349   0000              	GLOBAL _ay_is_playing
350   0000              	GLOBAL _ay_reset
351   0000              	GLOBAL _NIRVANAP_chars_fastcall
352   0000              	GLOBAL _NIRVANAP_chars
353   0000              	GLOBAL _NIRVANAP_wides_fastcall
354   0000              	GLOBAL _NIRVANAP_wides
355   0000              	GLOBAL _NIRVANAP_tiles_fastcall
356   0000              	GLOBAL _NIRVANAP_tiles
357   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
358   0000              	GLOBAL _NIRVANAP_drawW_raw
359   0000              	GLOBAL _NIRVANAP_drawW_callee
360   0000              	GLOBAL _NIRVANAP_drawW
361   0000              	GLOBAL _NIRVANAP_spriteT_callee
362   0000              	GLOBAL _NIRVANAP_spriteT
363   0000              	GLOBAL _NIRVANAP_fillC_callee
364   0000              	GLOBAL _NIRVANAP_fillC
365   0000              	GLOBAL _NIRVANAP_paintC_callee
366   0000              	GLOBAL _NIRVANAP_paintC
367   0000              	GLOBAL _NIRVANAP_printC_callee
368   0000              	GLOBAL _NIRVANAP_printC
369   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
370   0000              	GLOBAL _NIRVANAP_fillT_raw
371   0000              	GLOBAL _NIRVANAP_fillT_callee
372   0000              	GLOBAL _NIRVANAP_fillT
373   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
374   0000              	GLOBAL _NIRVANAP_drawT_raw
375   0000              	GLOBAL _NIRVANAP_drawT_callee
376   0000              	GLOBAL _NIRVANAP_drawT
377   0000              	GLOBAL _NIRVANAP_stop
378   0000              	GLOBAL _NIRVANAP_start
379   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
380   0000              	GLOBAL _intrinsic_swap_word_32
381   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
382   0000              	GLOBAL _intrinsic_swap_endian_32
383   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
384   0000              	GLOBAL _intrinsic_swap_endian_16
385   0000              	GLOBAL _intrinsic_return_de
386   0000              	GLOBAL _intrinsic_return_bc
387   0000              	GLOBAL _intrinsic_exx
388   0000              	GLOBAL _intrinsic_ex_de_hl
389   0000              	GLOBAL _intrinsic_pop_iy
390   0000              	GLOBAL _intrinsic_pop_ix
391   0000              	GLOBAL _intrinsic_pop_hl
392   0000              	GLOBAL _intrinsic_pop_de
393   0000              	GLOBAL _intrinsic_pop_bc
394   0000              	GLOBAL _intrinsic_pop_af
395   0000              	GLOBAL _intrinsic_push_iy
396   0000              	GLOBAL _intrinsic_push_ix
397   0000              	GLOBAL _intrinsic_push_hl
398   0000              	GLOBAL _intrinsic_push_de
399   0000              	GLOBAL _intrinsic_push_bc
400   0000              	GLOBAL _intrinsic_push_af
401   0000              	GLOBAL _intrinsic_nop
402   0000              	GLOBAL _intrinsic_im_2
403   0000              	GLOBAL _intrinsic_im_1
404   0000              	GLOBAL _intrinsic_im_0
405   0000              	GLOBAL _intrinsic_retn
406   0000              	GLOBAL _intrinsic_reti
407   0000              	GLOBAL _intrinsic_halt
408   0000              	GLOBAL _intrinsic_ei
409   0000              	GLOBAL _intrinsic_di
410   0000              	GLOBAL _intrinsic_stub
411   0000              	GLOBAL _ulltoa_callee
412   0000              	GLOBAL _ulltoa
413   0000              	GLOBAL _strtoull_callee
414   0000              	GLOBAL _strtoull
415   0000              	GLOBAL _strtoll_callee
416   0000              	GLOBAL _strtoll
417   0000              	GLOBAL _lltoa_callee
418   0000              	GLOBAL _lltoa
419   0000              	GLOBAL _llabs_callee
420   0000              	GLOBAL _llabs
421   0000              	GLOBAL __lldivu__callee
422   0000              	GLOBAL __lldivu_
423   0000              	GLOBAL __lldiv__callee
424   0000              	GLOBAL __lldiv_
425   0000              	GLOBAL _atoll_callee
426   0000              	GLOBAL _atoll
427   0000              	GLOBAL _realloc_unlocked_callee
428   0000              	GLOBAL _realloc_unlocked
429   0000              	GLOBAL _malloc_unlocked_fastcall
430   0000              	GLOBAL _malloc_unlocked
431   0000              	GLOBAL _free_unlocked_fastcall
432   0000              	GLOBAL _free_unlocked
433   0000              	GLOBAL _calloc_unlocked_callee
434   0000              	GLOBAL _calloc_unlocked
435   0000              	GLOBAL _aligned_alloc_unlocked_callee
436   0000              	GLOBAL _aligned_alloc_unlocked
437   0000              	GLOBAL _realloc_callee
438   0000              	GLOBAL _realloc
439   0000              	GLOBAL _malloc_fastcall
440   0000              	GLOBAL _malloc
441   0000              	GLOBAL _free_fastcall
442   0000              	GLOBAL _free
443   0000              	GLOBAL _calloc_callee
444   0000              	GLOBAL _calloc
445   0000              	GLOBAL _aligned_alloc_callee
446   0000              	GLOBAL _aligned_alloc
447   0000              	GLOBAL _utoa_callee
448   0000              	GLOBAL _utoa
449   0000              	GLOBAL _ultoa_callee
450   0000              	GLOBAL _ultoa
451   0000              	GLOBAL _system_fastcall
452   0000              	GLOBAL _system
453   0000              	GLOBAL _strtoul_callee
454   0000              	GLOBAL _strtoul
455   0000              	GLOBAL _strtol_callee
456   0000              	GLOBAL _strtol
457   0000              	GLOBAL _strtof_callee
458   0000              	GLOBAL _strtof
459   0000              	GLOBAL _strtod_callee
460   0000              	GLOBAL _strtod
461   0000              	GLOBAL _srand_fastcall
462   0000              	GLOBAL _srand
463   0000              	GLOBAL _rand
464   0000              	GLOBAL _quick_exit_fastcall
465   0000              	GLOBAL _quick_exit
466   0000              	GLOBAL _qsort_callee
467   0000              	GLOBAL _qsort
468   0000              	GLOBAL _ltoa_callee
469   0000              	GLOBAL _ltoa
470   0000              	GLOBAL _labs_fastcall
471   0000              	GLOBAL _labs
472   0000              	GLOBAL _itoa_callee
473   0000              	GLOBAL _itoa
474   0000              	GLOBAL _ftoh_callee
475   0000              	GLOBAL _ftoh
476   0000              	GLOBAL _ftog_callee
477   0000              	GLOBAL _ftog
478   0000              	GLOBAL _ftoe_callee
479   0000              	GLOBAL _ftoe
480   0000              	GLOBAL _ftoa_callee
481   0000              	GLOBAL _ftoa
482   0000              	GLOBAL _exit_fastcall
483   0000              	GLOBAL _exit
484   0000              	GLOBAL _dtoh_callee
485   0000              	GLOBAL _dtoh
486   0000              	GLOBAL _dtog_callee
487   0000              	GLOBAL _dtog
488   0000              	GLOBAL _dtoe_callee
489   0000              	GLOBAL _dtoe
490   0000              	GLOBAL _dtoa_callee
491   0000              	GLOBAL _dtoa
492   0000              	GLOBAL _bsearch_callee
493   0000              	GLOBAL _bsearch
494   0000              	GLOBAL _atol_fastcall
495   0000              	GLOBAL _atol
496   0000              	GLOBAL _atoi_fastcall
497   0000              	GLOBAL _atoi
498   0000              	GLOBAL _atof_fastcall
499   0000              	GLOBAL _atof
500   0000              	GLOBAL _atexit_fastcall
501   0000              	GLOBAL _atexit
502   0000              	GLOBAL _at_quick_exit_fastcall
503   0000              	GLOBAL _at_quick_exit
504   0000              	GLOBAL _abs_fastcall
505   0000              	GLOBAL _abs
506   0000              	GLOBAL _abort
507   0000              	GLOBAL __strtou__callee
508   0000              	GLOBAL __strtou_
509   0000              	GLOBAL __strtoi__callee
510   0000              	GLOBAL __strtoi_
511   0000              	GLOBAL __random_uniform_xor_8__fastcall
512   0000              	GLOBAL __random_uniform_xor_8_
513   0000              	GLOBAL __random_uniform_xor_32__fastcall
514   0000              	GLOBAL __random_uniform_xor_32_
515   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
516   0000              	GLOBAL __random_uniform_cmwc_8_
517   0000              	GLOBAL __shellsort__callee
518   0000              	GLOBAL __shellsort_
519   0000              	GLOBAL __quicksort__callee
520   0000              	GLOBAL __quicksort_
521   0000              	GLOBAL __insertion_sort__callee
522   0000              	GLOBAL __insertion_sort_
523   0000              	GLOBAL __ldivu__callee
524   0000              	GLOBAL __ldivu_
525   0000              	GLOBAL __ldiv__callee
526   0000              	GLOBAL __ldiv_
527   0000              	GLOBAL __divu__callee
528   0000              	GLOBAL __divu_
529   0000              	GLOBAL __div__callee
530   0000              	GLOBAL __div_
531   0000              	GLOBAL _in_mouse_kempston_wheel_delta
532   0000              	GLOBAL _in_mouse_kempston_wheel
533   0000              	GLOBAL _in_mouse_kempston_callee
534   0000              	GLOBAL _in_mouse_kempston
535   0000              	GLOBAL _in_mouse_kempston_setpos_callee
536   0000              	GLOBAL _in_mouse_kempston_setpos
537   0000              	GLOBAL _in_mouse_kempston_reset
538   0000              	GLOBAL _in_mouse_kempston_init
539   0000              	GLOBAL _in_mouse_amx_wheel_delta
540   0000              	GLOBAL _in_mouse_amx_wheel
541   0000              	GLOBAL _in_mouse_amx_callee
542   0000              	GLOBAL _in_mouse_amx
543   0000              	GLOBAL _in_mouse_amx_setpos_callee
544   0000              	GLOBAL _in_mouse_amx_setpos
545   0000              	GLOBAL _in_mouse_amx_reset
546   0000              	GLOBAL _in_mouse_amx_init_callee
547   0000              	GLOBAL _in_mouse_amx_init
548   0000              	GLOBAL _in_stick_sinclair2
549   0000              	GLOBAL _in_stick_sinclair1
550   0000              	GLOBAL _in_stick_kempston
551   0000              	GLOBAL _in_stick_fuller
552   0000              	GLOBAL _in_stick_cursor
553   0000              	GLOBAL _in_stick_keyboard_fastcall
554   0000              	GLOBAL _in_stick_keyboard
555   0000              	GLOBAL _in_wait_nokey
556   0000              	GLOBAL _in_wait_key
557   0000              	GLOBAL _in_test_key
558   0000              	GLOBAL _in_pause_fastcall
559   0000              	GLOBAL _in_pause
560   0000              	GLOBAL _in_key_scancode_fastcall
561   0000              	GLOBAL _in_key_scancode
562   0000              	GLOBAL _in_key_pressed_fastcall
563   0000              	GLOBAL _in_key_pressed
564   0000              	GLOBAL _in_inkey
565   0000              	GLOBAL _zx_pattern_fill_callee
566   0000              	GLOBAL _zx_pattern_fill
567   0000              	GLOBAL _zx_saddrpup_fastcall
568   0000              	GLOBAL _zx_saddrpup
569   0000              	GLOBAL _zx_saddrpright_callee
570   0000              	GLOBAL _zx_saddrpright
571   0000              	GLOBAL _zx_saddrpleft_callee
572   0000              	GLOBAL _zx_saddrpleft
573   0000              	GLOBAL _zx_saddrpdown_fastcall
574   0000              	GLOBAL _zx_saddrpdown
575   0000              	GLOBAL _zx_saddrcup_fastcall
576   0000              	GLOBAL _zx_saddrcup
577   0000              	GLOBAL _zx_saddrcright_fastcall
578   0000              	GLOBAL _zx_saddrcright
579   0000              	GLOBAL _zx_saddrcleft_fastcall
580   0000              	GLOBAL _zx_saddrcleft
581   0000              	GLOBAL _zx_saddrcdown_fastcall
582   0000              	GLOBAL _zx_saddrcdown
583   0000              	GLOBAL _zx_saddr2py_fastcall
584   0000              	GLOBAL _zx_saddr2py
585   0000              	GLOBAL _zx_saddr2px_fastcall
586   0000              	GLOBAL _zx_saddr2px
587   0000              	GLOBAL _zx_saddr2cy_fastcall
588   0000              	GLOBAL _zx_saddr2cy
589   0000              	GLOBAL _zx_saddr2cx_fastcall
590   0000              	GLOBAL _zx_saddr2cx
591   0000              	GLOBAL _zx_saddr2aaddr_fastcall
592   0000              	GLOBAL _zx_saddr2aaddr
593   0000              	GLOBAL _zx_py2saddr_fastcall
594   0000              	GLOBAL _zx_py2saddr
595   0000              	GLOBAL _zx_py2aaddr_fastcall
596   0000              	GLOBAL _zx_py2aaddr
597   0000              	GLOBAL _zx_pxy2saddr_callee
598   0000              	GLOBAL _zx_pxy2saddr
599   0000              	GLOBAL _zx_pxy2aaddr_callee
600   0000              	GLOBAL _zx_pxy2aaddr
601   0000              	GLOBAL _zx_px2bitmask_fastcall
602   0000              	GLOBAL _zx_px2bitmask
603   0000              	GLOBAL _zx_cyx2saddr_callee
604   0000              	GLOBAL _zx_cyx2saddr
605   0000              	GLOBAL _zx_cyx2aaddr_callee
606   0000              	GLOBAL _zx_cyx2aaddr
607   0000              	GLOBAL _zx_cy2saddr_fastcall
608   0000              	GLOBAL _zx_cy2saddr
609   0000              	GLOBAL _zx_cy2aaddr_fastcall
610   0000              	GLOBAL _zx_cy2aaddr
611   0000              	GLOBAL _zx_bitmask2px_fastcall
612   0000              	GLOBAL _zx_bitmask2px
613   0000              	GLOBAL _zx_aaddrcup_fastcall
614   0000              	GLOBAL _zx_aaddrcup
615   0000              	GLOBAL _zx_aaddrcright_fastcall
616   0000              	GLOBAL _zx_aaddrcright
617   0000              	GLOBAL _zx_aaddrcleft_fastcall
618   0000              	GLOBAL _zx_aaddrcleft
619   0000              	GLOBAL _zx_aaddrcdown_fastcall
620   0000              	GLOBAL _zx_aaddrcdown
621   0000              	GLOBAL _zx_aaddr2saddr_fastcall
622   0000              	GLOBAL _zx_aaddr2saddr
623   0000              	GLOBAL _zx_aaddr2py_fastcall
624   0000              	GLOBAL _zx_aaddr2py
625   0000              	GLOBAL _zx_aaddr2px_fastcall
626   0000              	GLOBAL _zx_aaddr2px
627   0000              	GLOBAL _zx_aaddr2cy_fastcall
628   0000              	GLOBAL _zx_aaddr2cy
629   0000              	GLOBAL _zx_aaddr2cx_fastcall
630   0000              	GLOBAL _zx_aaddr2cx
631   0000              	GLOBAL _zx_scroll_wc_up_callee
632   0000              	GLOBAL _zx_scroll_wc_up
633   0000              	GLOBAL _zx_scroll_up_callee
634   0000              	GLOBAL _zx_scroll_up
635   0000              	GLOBAL _zx_cls_wc_callee
636   0000              	GLOBAL _zx_cls_wc
637   0000              	GLOBAL _zx_cls_fastcall
638   0000              	GLOBAL _zx_cls
639   0000              	GLOBAL _zx_border_fastcall
640   0000              	GLOBAL _zx_border
641   0000              	GLOBAL _ay_effect_20
642   0000              	GLOBAL _ay_effect_19
643   0000              	GLOBAL _ay_effect_18
644   0000              	GLOBAL _ay_effect_17
645   0000              	GLOBAL _ay_effect_16
646   0000              	GLOBAL _ay_effect_15
647   0000              	GLOBAL _ay_effect_14
648   0000              	GLOBAL _ay_effect_13
649   0000              	GLOBAL _ay_effect_12
650   0000              	GLOBAL _ay_effect_11
651   0000              	GLOBAL _ay_effect_10
652   0000              	GLOBAL _ay_effect_09
653   0000              	GLOBAL _ay_effect_08
654   0000              	GLOBAL _ay_effect_07
655   0000              	GLOBAL _ay_effect_06
656   0000              	GLOBAL _ay_effect_05
657   0000              	GLOBAL _ay_effect_04
658   0000              	GLOBAL _ay_effect_03
659   0000              	GLOBAL _ay_effect_02
660   0000              	GLOBAL _ay_effect_01
661   0000              	GLOBAL _pb_midi_phase_1
662   0000              	GLOBAL _pb_midi_title
663   0000              	GLOBAL _initials
664   0000              	GLOBAL _hof
665   0000              	GLOBAL _score_osd_tile
666   0000              	GLOBAL _score_osd_time
667   0000              	GLOBAL _score_osd_col
668   0000              	GLOBAL _score_osd_lin
669   0000              	GLOBAL _phase_bonus_total
670   0000              	GLOBAL _phase_angry
671   0000              	GLOBAL _phase_curr
672   0000              	GLOBAL _phase_end
673   0000              	GLOBAL _phase_coins
674   0000              	GLOBAL _phase_pop
675   0000              	GLOBAL _phase_tot
676   0000              	GLOBAL _phase_left
677   0000              	GLOBAL _phase_quota
678   0000              	GLOBAL _phases
679   0000              	GLOBAL _spr_idx
680   0000              	GLOBAL _lvl_1
681   0000              	GLOBAL _sprite_speed_alt
682   0000              	GLOBAL _sprite_speed
683   0000              	GLOBAL _screen_ink
684   0000              	GLOBAL _screen_paper
685   0000              	GLOBAL _game_menu_sel
686   0000              	GLOBAL _game_type
687   0000              	GLOBAL _game_bonus
688   0000              	GLOBAL _spr_water_time
689   0000              	GLOBAL _spr_water_clear
690   0000              	GLOBAL _game_time_fireball_start
691   0000              	GLOBAL _game_time_flipped
692   0000              	GLOBAL _game_score_top
693   0000              	GLOBAL _game_lives_update
694   0000              	GLOBAL _game_lives
695   0000              	GLOBAL _game_over
696   0000              	GLOBAL _game_sound
697   0000              	GLOBAL _game_two_player
698   0000              	GLOBAL _game_brick_tile
699   0000              	GLOBAL _game_pow
700   0000              	GLOBAL _spr_count
701   0000              	GLOBAL _frame_loop_count
702   0000              	GLOBAL _col_time
703   0000              	GLOBAL _frame_time
704   0000              	GLOBAL _entry_time
705   0000              	GLOBAL _curr_time
706   0000              	GLOBAL _s_state
707   0000              	GLOBAL _attrib_hl
708   0000              	GLOBAL _attrib
709   0000              	GLOBAL _zx_val_asm
710   0000              	GLOBAL _enemies
711   0000              	GLOBAL _tmp_ui
712   0000              	GLOBAL _tmp_sc
713   0000              	GLOBAL _tmp_uc
714   0000              	GLOBAL _tmp1
715   0000              	GLOBAL _tmp0
716   0000              	GLOBAL _tmp
717   0000              	GLOBAL _index_d
718   0000              	GLOBAL _index3
719   0000              	GLOBAL _index2
720   0000              	GLOBAL _index1
721   0000              	GLOBAL _loop_count
722   0000              	GLOBAL _s_col1
723   0000              	GLOBAL _s_col0
724   0000              	GLOBAL _s_lin1
725   0000              	GLOBAL _s_lin0
726   0000              	GLOBAL _s_tile1
727   0000              	GLOBAL _s_tile0
728   0000              	GLOBAL _hit_count
729   0000              	GLOBAL _tile_offset_other_player
730   0000              	GLOBAL _tile_offset
731   0000              	GLOBAL _index_player
732   0000              	GLOBAL _sprite_other_player
733   0000              	GLOBAL _sprite
734   0000              	GLOBAL _player_lock
735   0000              	GLOBAL _player_next_extra
736   0000              	GLOBAL _player_score
737   0000              	GLOBAL _last_time
738   0000              	GLOBAL _sliding
739   0000              	GLOBAL _spr_timer_c
740   0000              	GLOBAL _spr_timer
741   0000              	GLOBAL _jump_lin
742   0000              	GLOBAL _hit_col
743   0000              	GLOBAL _hit_lin
744   0000              	GLOBAL _colint
745   0000              	GLOBAL _col
746   0000              	GLOBAL _lin
747   0000              	GLOBAL _tile
748   0000              	GLOBAL _state_a
749   0000              	GLOBAL _state
750   0000              	GLOBAL _class
751   0000              	GLOBAL _tbuffer
752   0000              	GLOBAL _dirs
753   0000              	GLOBAL _k2
754   0000              	GLOBAL _k1
755   0000              	GLOBAL _joyfunc2
756   0000              	GLOBAL _joyfunc1
757   0000              	GLOBAL _joynames
758   0000              	GLOBAL _btiles
759   0000              	GLOBAL _spec128
760   0000              	GLOBAL _hall_valids
761   0000              ;--------------------------------------------------------
762   0000              ; special function registers
763   0000              ;--------------------------------------------------------
764   0000              ;--------------------------------------------------------
765   0000              ; ram data
766   0000              ;--------------------------------------------------------
767   0000              	SECTION bss_compiler
768   0000              defc _NIRVANAP_isr	=	0xf5d2
769   0000              ;--------------------------------------------------------
770   0000              ; ram data
771   0000              ;--------------------------------------------------------
772   0000              
773   0000              IF 0
774   0000              
775   0000              ; .area _INITIALIZED removed by z88dk
776   0000              
777   0000              
778   0000              ENDIF
779   0000              
780   0000              ;--------------------------------------------------------
781   0000              ; absolute external ram data
782   0000              ;--------------------------------------------------------
783   0000              	SECTION IGNORE
784   0000              ;--------------------------------------------------------
785   0000              ; global & static initialisations
786   0000              ;--------------------------------------------------------
787   0000              	SECTION code_crt_init
788   0000              ;--------------------------------------------------------
789   0000              ; Home
790   0000              ;--------------------------------------------------------
791   0000              	SECTION IGNORE
792   0000              ;--------------------------------------------------------
793   0000              ; code
794   0000              ;--------------------------------------------------------
795   0000              	SECTION code_compiler
796   0000              ;	---------------------------------
797   0000              ; Function player_init
798   0000              ; ---------------------------------
799   0000              _player_init:
800   0000  CD 00 00    	call	___sdcc_enter_ix
801   0003  F5          	push	af
802   0004  3E 00       	ld	a,+((_class) & 0xFF)
803   0006  DD 86 04    	add	a,(ix+4)
804   0009  4F          	ld	c,a
805   000A  3E 00       	ld	a,+((_class) / 256)
806   000C  CE 00       	adc	a,0x00
807   000E  47          	ld	b,a
808   000F  3E 10       	ld	a,0x10
809   0011  02          	ld	(bc),a
810   0012  3E 00       	ld	a,+((_tile) & 0xFF)
811   0014  DD 86 04    	add	a,(ix+4)
812   0017  4F          	ld	c,a
813   0018  3E 00       	ld	a,+((_tile) / 256)
814   001A  CE 00       	adc	a,0x00
815   001C  47          	ld	b,a
816   001D  DD 7E 07    	ld	a,(ix+7)
817   0020  02          	ld	(bc),a
818   0021  3E 00       	ld	a,+((_lin) & 0xFF)
819   0023  DD 86 04    	add	a,(ix+4)
820   0026  4F          	ld	c,a
821   0027  3E 00       	ld	a,+((_lin) / 256)
822   0029  CE 00       	adc	a,0x00
823   002B  47          	ld	b,a
824   002C  DD 7E 05    	ld	a,(ix+5)
825   002F  02          	ld	(bc),a
826   0030  3E 00       	ld	a,+((_col) & 0xFF)
827   0032  DD 86 04    	add	a,(ix+4)
828   0035  4F          	ld	c,a
829   0036  3E 00       	ld	a,+((_col) / 256)
830   0038  CE 00       	adc	a,0x00
831   003A  47          	ld	b,a
832   003B  DD 7E 06    	ld	a,(ix+6)
833   003E  02          	ld	(bc),a
834   003F  3E 00       	ld	a,+((_colint) & 0xFF)
835   0041  DD 86 04    	add	a,(ix+4)
836   0044  4F          	ld	c,a
837   0045  3E 00       	ld	a,+((_colint) / 256)
838   0047  CE 00       	adc	a,0x00
839   0049  47          	ld	b,a
840   004A  AF          	xor	a, a
841   004B  02          	ld	(bc),a
842   004C  3E 00       	ld	a,+((_state) & 0xFF)
843   004E  DD 86 04    	add	a,(ix+4)
844   0051  4F          	ld	c,a
845   0052  3E 00       	ld	a,+((_state) / 256)
846   0054  CE 00       	adc	a,0x00
847   0056  47          	ld	b,a
848   0057  AF          	xor	a, a
849   0058  02          	ld	(bc),a
850   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
851   005B  DD 86 04    	add	a,(ix+4)
852   005E  4F          	ld	c,a
853   005F  3E 00       	ld	a,+((_state_a) / 256)
854   0061  CE 00       	adc	a,0x00
855   0063  47          	ld	b,a
856   0064  AF          	xor	a, a
857   0065  02          	ld	(bc),a
858   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
859   0068  DD 86 04    	add	a,(ix+4)
860   006B  5F          	ld	e,a
861   006C  3E 00       	ld	a,+((_jump_lin) / 256)
862   006E  CE 00       	adc	a,0x00
863   0070  57          	ld	d,a
864   0071  DD 7E 05    	ld	a,(ix+5)
865   0074  12          	ld	(de),a
866   0075  DD 5E 04    	ld	e,(ix+4)
867   0078  16 00       	ld	d,0x00
868   007A  CB 23       	sla	e
869   007C  CB 12       	rl	d
870   007E  21 00 00    	ld	hl,_last_time
871   0081  19          	add	hl,de
872   0082  E3          	ex	(sp), hl
873   0083  2A 00 00    	ld	hl,(_curr_time)
874   0086  C5          	push	bc
875   0087  EB          	ex	de,hl
876   0088  C1          	pop	bc
877   0089  E1          	pop	hl
878   008A  E5          	push	hl
879   008B  73          	ld	(hl),e
880   008C  23          	inc	hl
881   008D  72          	ld	(hl),d
882   008E  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
883   0090  DD 86 04    	add	a,(ix+4)
884   0093  5F          	ld	e,a
885   0094  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
886   0096  CE 00       	adc	a,0x00
887   0098  57          	ld	d,a
888   0099  AF          	xor	a, a
889   009A  12          	ld	(de),a
890   009B  3A 00 00    	ld	a,(_sprite)
891   009E  D6 07       	sub	a,0x07
892   00A0  20 07       	jr	NZ,l_player_init_00102
893   00A2  21 00 00    	ld	hl,_index_player
894   00A5  36 00       	ld	(hl),0x00
895   00A7  18 05       	jr	l_player_init_00103
896   00A9              l_player_init_00102:
897   00A9  21 00 00    	ld	hl,_index_player
898   00AC  36 01       	ld	(hl),0x01
899   00AE              l_player_init_00103:
900   00AE  2A 00 00    	ld	hl,(_index_player)
901   00B1  26 00       	ld	h,0x00
902   00B3  11 00 00    	ld	de,_hit_col
903   00B6  19          	add	hl,de
904   00B7  AF          	xor	a,a
905   00B8  77          	ld	(hl),a
906   00B9  2A 00 00    	ld	hl,(_index_player)
907   00BC  26 00       	ld	h,0x00
908   00BE  11 00 00    	ld	de,_hit_lin
909   00C1  19          	add	hl,de
910   00C2  AF          	xor	a,a
911   00C3  77          	ld	(hl),a
912   00C4  2A 00 00    	ld	hl,(_index_player)
913   00C7  26 00       	ld	h,0x00
914   00C9  11 00 00    	ld	de,_player_lock
915   00CC  19          	add	hl,de
916   00CD  36 01       	ld	(hl),0x01
917   00CF  2A 00 00    	ld	hl,(_index_player)
918   00D2  26 00       	ld	h,0x00
919   00D4  11 00 00    	ld	de,_sliding
920   00D7  19          	add	hl,de
921   00D8  36 04       	ld	(hl),0x04
922   00DA  C5          	push	bc
923   00DB  DD 66 06    	ld	h,(ix+6)
924   00DE  DD 6E 05    	ld	l,(ix+5)
925   00E1  E5          	push	hl
926   00E2  DD 66 07    	ld	h,(ix+7)
927   00E5  DD 6E 04    	ld	l,(ix+4)
928   00E8  E5          	push	hl
929   00E9  CD 00 00    	call	_NIRVANAP_spriteT_callee
930   00EC  C1          	pop	bc
931   00ED  0A          	ld	a,(bc)
932   00EE  5F          	ld	e,a
933   00EF  3A 00 00    	ld	a,(_sprite)
934   00F2  D6 07       	sub	a,0x07
935   00F4  20 06       	jr	NZ,l_player_init_00105
936   00F6  7B          	ld	a,e
937   00F7  CB DF       	set	3, a
938   00F9  02          	ld	(bc),a
939   00FA  18 04       	jr	l_player_init_00107
940   00FC              l_player_init_00105:
941   00FC  7B          	ld	a,e
942   00FD  CB E7       	set	4, a
943   00FF  02          	ld	(bc),a
944   0100              l_player_init_00107:
945   0100  F1          	pop	af
946   0101  DD E1       	pop	ix
947   0103  C9          	ret
948   0104              ;	---------------------------------
949   0104              ; Function player_collition
950   0104              ; ---------------------------------
951   0104              _player_collition:
952   0104  3A 00 00    	ld	a,(_sprite)
953   0107  C6 00       	add	a,+((_class) & 0xFF)
954   0109  4F          	ld	c,a
955   010A  3E 00       	ld	a,+((_class) / 256)
956   010C  CE 00       	adc	a,0x00
957   010E  47          	ld	b,a
958   010F  0A          	ld	a,(bc)
959   0110  B7          	or	a,a
960   0111  20 04       	jr	NZ,l_player_collition_00102
961   0113  6F          	ld	l,a
962   0114  C3 96 01    	jp	l_player_collition_00119
963   0117              l_player_collition_00102:
964   0117  3A 00 00    	ld	a,(_sprite)
965   011A  C6 00       	add	a,+((_state) & 0xFF)
966   011C  4F          	ld	c,a
967   011D  3E 00       	ld	a,+((_state) / 256)
968   011F  CE 00       	adc	a,0x00
969   0121  47          	ld	b,a
970   0122  0A          	ld	a,(bc)
971   0123  CB 67       	bit	4, a
972   0125  28 04       	jr	Z,l_player_collition_00104
973   0127  2E 00       	ld	l,0x00
974   0129  18 6B       	jr	l_player_collition_00119
975   012B              l_player_collition_00104:
976   012B  CB 6F       	bit	5, a
977   012D  28 04       	jr	Z,l_player_collition_00106
978   012F  2E 00       	ld	l,0x00
979   0131  18 63       	jr	l_player_collition_00119
980   0133              l_player_collition_00106:
981   0133  21 00 00    	ld	hl,_hit_count
982   0136  36 00       	ld	(hl),0x00
983   0138  21 00 00    	ld	hl,_enemies
984   013B  36 00       	ld	(hl),0x00
985   013D              l_player_collition_00117:
986   013D  CD 97 01    	call	_player_collition_check
987   0140  7D          	ld	a,l
988   0141  B7          	or	a, a
989   0142  28 44       	jr	Z,l_player_collition_00118
990   0144  3A 00 00    	ld	a,(_enemies)
991   0147  C6 00       	add	a,+((_state) & 0xFF)
992   0149  4F          	ld	c,a
993   014A  3E 00       	ld	a,+((_state) / 256)
994   014C  CE 00       	adc	a,0x00
995   014E  47          	ld	b,a
996   014F  0A          	ld	a,(bc)
997   0150  CB 67       	bit	4, a
998   0152  28 0B       	jr	Z,l_player_collition_00112
999   0154  3A 00 00    	ld	a,(_enemies)
1000  0157  F5          	push	af
1001  0158  33          	inc	sp
1002  0159  CD 00 00    	call	_enemy_kill
1003  015C  33          	inc	sp
1004  015D  18 29       	jr	l_player_collition_00118
1005  015F              l_player_collition_00112:
1006  015F  2A 00 00    	ld	hl,(_enemies)
1007  0162  26 00       	ld	h,0x00
1008  0164  01 00 00    	ld	bc,_class
1009  0167  09          	add	hl,bc
1010  0168  7E          	ld	a,(hl)
1011  0169  4F          	ld	c,a
1012  016A  D6 08       	sub	a,0x08
1013  016C  28 05       	jr	Z,l_player_collition_00107
1014  016E  79          	ld	a,c
1015  016F  D6 0C       	sub	a,0x0c
1016  0171  20 0C       	jr	NZ,l_player_collition_00108
1017  0173              l_player_collition_00107:
1018  0173  2A 00 00    	ld	hl,(_enemies)
1019  0176  26 50       	ld	h,0x50
1020  0178  E5          	push	hl
1021  0179  CD 7A 10    	call	_player_coin
1022  017C  F1          	pop	af
1023  017D  18 09       	jr	l_player_collition_00118
1024  017F              l_player_collition_00108:
1025  017F  21 00 00    	ld	hl,_ay_effect_18
1026  0182  CD 00 00    	call	_ay_fx_play
1027  0185  CD 0C 03    	call	_player_kill
1028  0188              l_player_collition_00118:
1029  0188  21 00 00    	ld	hl,_enemies
1030  018B  34          	inc	(hl)
1031  018C  7E          	ld	a,(hl)
1032  018D  D6 06       	sub	a,0x06
1033  018F  38 AC       	jr	C,l_player_collition_00117
1034  0191  CD 00 00    	call	_game_score_osd
1035  0194  2E 00       	ld	l,0x00
1036  0196              l_player_collition_00119:
1037  0196  C9          	ret
1038  0197              ;	---------------------------------
1039  0197              ; Function player_collition_check
1040  0197              ; ---------------------------------
1041  0197              _player_collition_check:
1042  0197  CD 00 00    	call	___sdcc_enter_ix
1043  019A  3B          	dec	sp
1044  019B  3A 00 00    	ld	a,(_enemies)
1045  019E  C6 00       	add	a,+((_class) & 0xFF)
1046  01A0  4F          	ld	c,a
1047  01A1  3E 00       	ld	a,+((_class) / 256)
1048  01A3  CE 00       	adc	a,0x00
1049  01A5  47          	ld	b,a
1050  01A6  0A          	ld	a,(bc)
1051  01A7  B7          	or	a,a
1052  01A8  20 04       	jr	NZ,l_player_collition_check_00102
1053  01AA  6F          	ld	l,a
1054  01AB  C3 08 03    	jp	l_player_collition_check_00125
1055  01AE              l_player_collition_check_00102:
1056  01AE  3A 00 00    	ld	a,(_enemies)
1057  01B1  C6 00       	add	a,+((_state) & 0xFF)
1058  01B3  4F          	ld	c,a
1059  01B4  3E 00       	ld	a,+((_state) / 256)
1060  01B6  CE 00       	adc	a,0x00
1061  01B8  47          	ld	b,a
1062  01B9  0A          	ld	a,(bc)
1063  01BA  CB 6F       	bit	5, a
1064  01BC  28 05       	jr	Z,l_player_collition_check_00104
1065  01BE  2E 00       	ld	l,0x00
1066  01C0  C3 08 03    	jp	l_player_collition_check_00125
1067  01C3              l_player_collition_check_00104:
1068  01C3  11 00 00    	ld	de,_lin+0
1069  01C6  7B          	ld	a,e
1070  01C7  21 00 00    	ld	hl,_enemies
1071  01CA  86          	add	a, (hl)
1072  01CB  4F          	ld	c,a
1073  01CC  7A          	ld	a,d
1074  01CD  CE 00       	adc	a,0x00
1075  01CF  47          	ld	b,a
1076  01D0  0A          	ld	a,(bc)
1077  01D1  4F          	ld	c,a
1078  01D2  06 00       	ld	b,0x00
1079  01D4  7B          	ld	a,e
1080  01D5  21 00 00    	ld	hl,_sprite
1081  01D8  86          	add	a, (hl)
1082  01D9  5F          	ld	e,a
1083  01DA  7A          	ld	a,d
1084  01DB  CE 00       	adc	a,0x00
1085  01DD  57          	ld	d,a
1086  01DE  1A          	ld	a,(de)
1087  01DF  5F          	ld	e,a
1088  01E0  16 00       	ld	d,0x00
1089  01E2  79          	ld	a,c
1090  01E3  93          	sub	a, e
1091  01E4  6F          	ld	l,a
1092  01E5  78          	ld	a,b
1093  01E6  9A          	sbc	a, d
1094  01E7  67          	ld	h,a
1095  01E8  CD 00 00    	call	_abs_fastcall
1096  01EB  22 00 00    	ld	(_tmp_ui),hl
1097  01EE  3A 00 00    	ld	a,(_sprite)
1098  01F1  C6 00       	add	a,+((_state) & 0xFF)
1099  01F3  4F          	ld	c,a
1100  01F4  3E 00       	ld	a,+((_state) / 256)
1101  01F6  CE 00       	adc	a,0x00
1102  01F8  47          	ld	b,a
1103  01F9  0A          	ld	a,(bc)
1104  01FA  CB 47       	bit	0, a
1105  01FC  20 04       	jr	NZ,l_player_collition_check_00109
1106  01FE  CB 4F       	bit	1, a
1107  0200  28 11       	jr	Z,l_player_collition_check_00110
1108  0202              l_player_collition_check_00109:
1109  0202  3E 10       	ld	a,0x10
1110  0204  21 00 00    	ld	hl,_tmp_ui
1111  0207  BE          	cp	a, (hl)
1112  0208  3E 00       	ld	a,0x00
1113  020A  23          	inc	hl
1114  020B  9E          	sbc	a, (hl)
1115  020C  30 16       	jr	NC,l_player_collition_check_00111
1116  020E  2E 00       	ld	l,0x00
1117  0210  C3 08 03    	jp	l_player_collition_check_00125
1118  0213              l_player_collition_check_00110:
1119  0213  3E 0E       	ld	a,0x0e
1120  0215  21 00 00    	ld	hl,_tmp_ui
1121  0218  BE          	cp	a, (hl)
1122  0219  3E 00       	ld	a,0x00
1123  021B  23          	inc	hl
1124  021C  9E          	sbc	a, (hl)
1125  021D  30 05       	jr	NC,l_player_collition_check_00111
1126  021F  2E 00       	ld	l,0x00
1127  0221  C3 08 03    	jp	l_player_collition_check_00125
1128  0224              l_player_collition_check_00111:
1129  0224  2A 00 00    	ld	hl,(_enemies)
1130  0227  26 00       	ld	h,0x00
1131  0229  01 00 00    	ld	bc,_col
1132  022C  09          	add	hl,bc
1133  022D  4E          	ld	c,(hl)
1134  022E  06 00       	ld	b,0x00
1135  0230  2A 00 00    	ld	hl,(_sprite)
1136  0233  60          	ld	h,b
1137  0234  11 00 00    	ld	de,_col
1138  0237  19          	add	hl,de
1139  0238  5E          	ld	e, (hl)
1140  0239  16 00       	ld	d,0x00
1141  023B  79          	ld	a,c
1142  023C  93          	sub	a, e
1143  023D  6F          	ld	l,a
1144  023E  78          	ld	a,b
1145  023F  9A          	sbc	a, d
1146  0240  67          	ld	h,a
1147  0241  CD 00 00    	call	_abs_fastcall
1148  0244  22 00 00    	ld	(_tmp_ui),hl
1149  0247  2A 00 00    	ld	hl,(_enemies)
1150  024A  26 00       	ld	h,0x00
1151  024C  01 00 00    	ld	bc,_col
1152  024F  09          	add	hl,bc
1153  0250  7E          	ld	a,(hl)
1154  0251  4F          	ld	c,a
1155  0252  87          	add	a, a
1156  0253  81          	add	a, c
1157  0254  32 00 00    	ld	(_tmp0),a
1158  0257  4F          	ld	c,a
1159  0258  2A 00 00    	ld	hl,(_sprite)
1160  025B  26 00       	ld	h,0x00
1161  025D  11 00 00    	ld	de,_col
1162  0260  19          	add	hl,de
1163  0261  7E          	ld	a,(hl)
1164  0262  5F          	ld	e,a
1165  0263  87          	add	a, a
1166  0264  83          	add	a, e
1167  0265  32 00 00    	ld	(_tmp1),a
1168  0268  47          	ld	b,a
1169  0269  3E 02       	ld	a,0x02
1170  026B  21 00 00    	ld	hl,_tmp_ui
1171  026E  BE          	cp	a, (hl)
1172  026F  3E 00       	ld	a,0x00
1173  0271  23          	inc	hl
1174  0272  9E          	sbc	a, (hl)
1175  0273  30 05       	jr	NC,l_player_collition_check_00114
1176  0275  2E 00       	ld	l,0x00
1177  0277  C3 08 03    	jp	l_player_collition_check_00125
1178  027A              l_player_collition_check_00114:
1179  027A  2A 00 00    	ld	hl,(_enemies)
1180  027D  26 00       	ld	h,0x00
1181  027F  11 00 00    	ld	de,_state
1182  0282  19          	add	hl,de
1183  0283  7E          	ld	a,(hl)
1184  0284  DD 77 FF    	ld	(ix-1),a
1185  0287  CB 57       	bit	2,a
1186  0289  28 0E       	jr	Z,l_player_collition_check_00116
1187  028B  2A 00 00    	ld	hl,(_enemies)
1188  028E  26 00       	ld	h,0x00
1189  0290  11 00 00    	ld	de,_colint
1190  0293  19          	add	hl,de
1191  0294  7E          	ld	a,(hl)
1192  0295  81          	add	a,c
1193  0296  32 00 00    	ld	(_tmp0),a
1194  0299              l_player_collition_check_00116:
1195  0299  DD CB FF 5E 	bit	3,(ix-1)
1196  029D  28 0F       	jr	Z,l_player_collition_check_00118
1197  029F  2A 00 00    	ld	hl,(_enemies)
1198  02A2  26 00       	ld	h,0x00
1199  02A4  11 00 00    	ld	de,_colint
1200  02A7  19          	add	hl,de
1201  02A8  5E          	ld	e, (hl)
1202  02A9  79          	ld	a,c
1203  02AA  93          	sub	a, e
1204  02AB  32 00 00    	ld	(_tmp0),a
1205  02AE              l_player_collition_check_00118:
1206  02AE  2A 00 00    	ld	hl,(_sprite)
1207  02B1  26 00       	ld	h,0x00
1208  02B3  11 00 00    	ld	de,_state
1209  02B6  19          	add	hl,de
1210  02B7  7E          	ld	a,(hl)
1211  02B8  4F          	ld	c,a
1212  02B9  CB 57       	bit	2,a
1213  02BB  28 0E       	jr	Z,l_player_collition_check_00120
1214  02BD  2A 00 00    	ld	hl,(_sprite)
1215  02C0  26 00       	ld	h,0x00
1216  02C2  11 00 00    	ld	de,_colint
1217  02C5  19          	add	hl,de
1218  02C6  7E          	ld	a,(hl)
1219  02C7  80          	add	a,b
1220  02C8  32 00 00    	ld	(_tmp1),a
1221  02CB              l_player_collition_check_00120:
1222  02CB  CB 59       	bit	3, c
1223  02CD  28 0F       	jr	Z,l_player_collition_check_00122
1224  02CF  2A 00 00    	ld	hl,(_sprite)
1225  02D2  26 00       	ld	h,0x00
1226  02D4  11 00 00    	ld	de,_colint
1227  02D7  19          	add	hl,de
1228  02D8  4E          	ld	c, (hl)
1229  02D9  78          	ld	a,b
1230  02DA  91          	sub	a, c
1231  02DB  32 00 00    	ld	(_tmp1),a
1232  02DE              l_player_collition_check_00122:
1233  02DE  3A 00 00    	ld	a,(_tmp0)
1234  02E1  4F          	ld	c,a
1235  02E2  06 00       	ld	b,0x00
1236  02E4  3A 00 00    	ld	a,(_tmp1)
1237  02E7  5F          	ld	e,a
1238  02E8  16 00       	ld	d,0x00
1239  02EA  79          	ld	a,c
1240  02EB  93          	sub	a, e
1241  02EC  6F          	ld	l,a
1242  02ED  78          	ld	a,b
1243  02EE  9A          	sbc	a, d
1244  02EF  67          	ld	h,a
1245  02F0  CD 00 00    	call	_abs_fastcall
1246  02F3  22 00 00    	ld	(_tmp_ui),hl
1247  02F6  3E 04       	ld	a,0x04
1248  02F8  21 00 00    	ld	hl,_tmp_ui
1249  02FB  BE          	cp	a, (hl)
1250  02FC  3E 00       	ld	a,0x00
1251  02FE  23          	inc	hl
1252  02FF  9E          	sbc	a, (hl)
1253  0300  30 04       	jr	NC,l_player_collition_check_00124
1254  0302  2E 00       	ld	l,0x00
1255  0304  18 02       	jr	l_player_collition_check_00125
1256  0306              l_player_collition_check_00124:
1257  0306  2E 01       	ld	l,0x01
1258  0308              l_player_collition_check_00125:
1259  0308  33          	inc	sp
1260  0309  DD E1       	pop	ix
1261  030B  C9          	ret
1262  030C              ;	---------------------------------
1263  030C              ; Function player_kill
1264  030C              ; ---------------------------------
1265  030C              _player_kill:
1266  030C  01 00 00    	ld	bc,_state+0
1267  030F  2A 00 00    	ld	hl,(_sprite)
1268  0312  26 00       	ld	h,0x00
1269  0314  09          	add	hl,bc
1270  0315  CB 6E       	bit	5,(hl)
1271  0317  C2 D0 03    	jp	NZ,l_player_kill_00109
1272  031A  C5          	push	bc
1273  031B  CD 00 00    	call	_sound_hit_brick
1274  031E  C1          	pop	bc
1275  031F  79          	ld	a,c
1276  0320  21 00 00    	ld	hl,_sprite
1277  0323  86          	add	a, (hl)
1278  0324  5F          	ld	e,a
1279  0325  78          	ld	a,b
1280  0326  CE 00       	adc	a,0x00
1281  0328  57          	ld	d,a
1282  0329  1A          	ld	a,(de)
1283  032A  CB EF       	set	5, a
1284  032C  12          	ld	(de),a
1285  032D  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1286  032F  86          	add	a, (hl)
1287  0330  5F          	ld	e,a
1288  0331  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1289  0333  CE 00       	adc	a,0x00
1290  0335  57          	ld	d,a
1291  0336  3E 03       	ld	a,0x03
1292  0338  12          	ld	(de),a
1293  0339  79          	ld	a,c
1294  033A  86          	add	a, (hl)
1295  033B  4F          	ld	c,a
1296  033C  78          	ld	a,b
1297  033D  CE 00       	adc	a,0x00
1298  033F  47          	ld	b,a
1299  0340  0A          	ld	a,(bc)
1300  0341  CB 57       	bit	2, a
1301  0343  28 13       	jr	Z,l_player_kill_00102
1302  0345  3A 00 00    	ld	a,(_sprite)
1303  0348  C6 00       	add	a,+((_tile) & 0xFF)
1304  034A  4F          	ld	c,a
1305  034B  3E 00       	ld	a,+((_tile) / 256)
1306  034D  CE 00       	adc	a,0x00
1307  034F  47          	ld	b,a
1308  0350  3A 00 00    	ld	a,(_tile_offset)
1309  0353  C6 0B       	add	a,0x0b
1310  0355  02          	ld	(bc),a
1311  0356  18 11       	jr	l_player_kill_00103
1312  0358              l_player_kill_00102:
1313  0358  3A 00 00    	ld	a,(_sprite)
1314  035B  C6 00       	add	a,+((_tile) & 0xFF)
1315  035D  4F          	ld	c,a
1316  035E  3E 00       	ld	a,+((_tile) / 256)
1317  0360  CE 00       	adc	a,0x00
1318  0362  47          	ld	b,a
1319  0363  3A 00 00    	ld	a,(_tile_offset)
1320  0366  C6 17       	add	a,0x17
1321  0368  02          	ld	(bc),a
1322  0369              l_player_kill_00103:
1323  0369  CD A2 0F    	call	_player_hit_brick_clear
1324  036C  3E 00       	ld	a,+((_col) & 0xFF)
1325  036E  21 00 00    	ld	hl,_sprite
1326  0371  86          	add	a, (hl)
1327  0372  4F          	ld	c,a
1328  0373  3E 00       	ld	a,+((_col) / 256)
1329  0375  CE 00       	adc	a,0x00
1330  0377  47          	ld	b,a
1331  0378  0A          	ld	a,(bc)
1332  0379  4F          	ld	c,a
1333  037A  3E 00       	ld	a,+((_lin) & 0xFF)
1334  037C  86          	add	a, (hl)
1335  037D  5F          	ld	e,a
1336  037E  3E 00       	ld	a,+((_lin) / 256)
1337  0380  CE 00       	adc	a,0x00
1338  0382  57          	ld	d,a
1339  0383  1A          	ld	a,(de)
1340  0384  47          	ld	b,a
1341  0385  3E 00       	ld	a,+((_tile) & 0xFF)
1342  0387  86          	add	a, (hl)
1343  0388  5F          	ld	e,a
1344  0389  3E 00       	ld	a,+((_tile) / 256)
1345  038B  CE 00       	adc	a,0x00
1346  038D  57          	ld	d,a
1347  038E  1A          	ld	a,(de)
1348  038F  57          	ld	d,a
1349  0390  79          	ld	a,c
1350  0391  F5          	push	af
1351  0392  33          	inc	sp
1352  0393  4A          	ld	c, d
1353  0394  7E          	ld	a,(hl)
1354  0395  C5          	push	bc
1355  0396  F5          	push	af
1356  0397  33          	inc	sp
1357  0398  CD 00 00    	call	_NIRVANAP_spriteT_callee
1358  039B  01 00 00    	ld	bc,_spr_timer+0
1359  039E  2A 00 00    	ld	hl,(_sprite)
1360  03A1  26 00       	ld	h,0x00
1361  03A3  29          	add	hl, hl
1362  03A4  09          	add	hl,bc
1363  03A5  ED 5B 00 00 	ld	de,(_curr_time)
1364  03A9  73          	ld	(hl),e
1365  03AA  23          	inc	hl
1366  03AB  72          	ld	(hl),d
1367  03AC  3A 00 00    	ld	a,(_sprite)
1368  03AF  FE 07       	cp	a,0x07
1369  03B1  20 0E       	jr	NZ,l_player_kill_00105
1370  03B3  C6 00       	add	a,+((_state_a) & 0xFF)
1371  03B5  4F          	ld	c,a
1372  03B6  3E 00       	ld	a,+((_state_a) / 256)
1373  03B8  CE 00       	adc	a,0x00
1374  03BA  47          	ld	b,a
1375  03BB  0A          	ld	a,(bc)
1376  03BC  CB DF       	set	3, a
1377  03BE  02          	ld	(bc),a
1378  03BF  18 0F       	jr	l_player_kill_00109
1379  03C1              l_player_kill_00105:
1380  03C1  3A 00 00    	ld	a,(_sprite)
1381  03C4  C6 00       	add	a,+((_state_a) & 0xFF)
1382  03C6  4F          	ld	c,a
1383  03C7  3E 00       	ld	a,+((_state_a) / 256)
1384  03C9  CE 00       	adc	a,0x00
1385  03CB  47          	ld	b,a
1386  03CC  0A          	ld	a,(bc)
1387  03CD  CB E7       	set	4, a
1388  03CF  02          	ld	(bc),a
1389  03D0              l_player_kill_00109:
1390  03D0  C9          	ret
1391  03D1              ;	---------------------------------
1392  03D1              ; Function player_restart
1393  03D1              ; ---------------------------------
1394  03D1              _player_restart:
1395  03D1  CD 00 00    	call	___sdcc_enter_ix
1396  03D4  21 00 00    	ld	hl,_ay_effect_15
1397  03D7  CD 00 00    	call	_ay_fx_play
1398  03DA  DD 7E 04    	ld	a,(ix+4)
1399  03DD  D6 07       	sub	a,0x07
1400  03DF  20 19       	jr	NZ,l_player_restart_00102
1401  03E1  21 0E 03    	ld	hl,0x030e
1402  03E4  E5          	push	hl
1403  03E5  21 07 00    	ld	hl,0x0007
1404  03E8  E5          	push	hl
1405  03E9  CD 00 00    	call	_player_init
1406  03EC  F1          	pop	af
1407  03ED  21 10 0E    	ld	hl,0x0e10
1408  03F0  E3          	ex	(sp),hl
1409  03F1  3E 84       	ld	a,0x84
1410  03F3  F5          	push	af
1411  03F4  33          	inc	sp
1412  03F5  CD 00 00    	call	_NIRVANAP_drawT_callee
1413  03F8  18 17       	jr	l_player_restart_00103
1414  03FA              l_player_restart_00102:
1415  03FA  21 10 27    	ld	hl,0x2710
1416  03FD  E5          	push	hl
1417  03FE  21 06 00    	ld	hl,0x0006
1418  0401  E5          	push	hl
1419  0402  CD 00 00    	call	_player_init
1420  0405  F1          	pop	af
1421  0406  21 10 10    	ld	hl,0x1010
1422  0409  E3          	ex	(sp),hl
1423  040A  3E 84       	ld	a,0x84
1424  040C  F5          	push	af
1425  040D  33          	inc	sp
1426  040E  CD 00 00    	call	_NIRVANAP_drawT_callee
1427  0411              l_player_restart_00103:
1428  0411  3E 00       	ld	a,+((_state) & 0xFF)
1429  0413  DD 86 04    	add	a,(ix+4)
1430  0416  4F          	ld	c,a
1431  0417  3E 00       	ld	a,+((_state) / 256)
1432  0419  CE 00       	adc	a,0x00
1433  041B  47          	ld	b,a
1434  041C  0A          	ld	a,(bc)
1435  041D  CB E7       	set	4, a
1436  041F  02          	ld	(bc),a
1437  0420  3A 00 00    	ld	a,(_index_player)
1438  0423  C6 00       	add	a,+((_player_lock) & 0xFF)
1439  0425  4F          	ld	c,a
1440  0426  3E 00       	ld	a,+((_player_lock) / 256)
1441  0428  CE 00       	adc	a,0x00
1442  042A  47          	ld	b,a
1443  042B  3E 01       	ld	a,0x01
1444  042D  02          	ld	(bc),a
1445  042E  01 00 00    	ld	bc,_spr_timer+0
1446  0431  DD 6E 04    	ld	l,(ix+4)
1447  0434  26 00       	ld	h,0x00
1448  0436  29          	add	hl, hl
1449  0437  09          	add	hl,bc
1450  0438  ED 5B 00 00 	ld	de,(_curr_time)
1451  043C  73          	ld	(hl),e
1452  043D  23          	inc	hl
1453  043E  72          	ld	(hl),d
1454  043F  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1455  0441  DD 86 04    	add	a,(ix+4)
1456  0444  4F          	ld	c,a
1457  0445  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1458  0447  CE 00       	adc	a,0x00
1459  0449  47          	ld	b,a
1460  044A  3E 08       	ld	a,0x08
1461  044C  02          	ld	(bc),a
1462  044D  DD E1       	pop	ix
1463  044F  C9          	ret
1464  0450              ;	---------------------------------
1465  0450              ; Function player_lost_life
1466  0450              ; ---------------------------------
1467  0450              _player_lost_life:
1468  0450  CD 00 00    	call	_sound_hit_enemy
1469  0453  01 00 00    	ld	bc,_game_lives+0
1470  0456  79          	ld	a,c
1471  0457  21 00 00    	ld	hl,_index_player
1472  045A  86          	add	a, (hl)
1473  045B  5F          	ld	e,a
1474  045C  78          	ld	a,b
1475  045D  CE 00       	adc	a,0x00
1476  045F  57          	ld	d,a
1477  0460  1A          	ld	a,(de)
1478  0461  C6 FF       	add	a,0xff
1479  0463  12          	ld	(de),a
1480  0464  79          	ld	a,c
1481  0465  86          	add	a, (hl)
1482  0466  5F          	ld	e,a
1483  0467  78          	ld	a,b
1484  0468  CE 00       	adc	a,0x00
1485  046A  57          	ld	d,a
1486  046B  1A          	ld	a,(de)
1487  046C  B7          	or	a, a
1488  046D  20 13       	jr	NZ,l_player_lost_life_00105
1489  046F  0A          	ld	a,(bc)
1490  0470  B7          	or	a, a
1491  0471  20 0B       	jr	NZ,l_player_lost_life_00102
1492  0473  3A 01 00    	ld	a, (_game_lives + 1)
1493  0476  B7          	or	a, a
1494  0477  20 05       	jr	NZ,l_player_lost_life_00102
1495  0479  21 00 00    	ld	hl,_game_over
1496  047C  36 01       	ld	(hl),0x01
1497  047E              l_player_lost_life_00102:
1498  047E  2E 00       	ld	l,0x00
1499  0480  18 08       	jr	l_player_lost_life_00106
1500  0482              l_player_lost_life_00105:
1501  0482  CD 00 00    	call	_spr_check_over
1502  0485  CD 00 00    	call	_game_print_lives
1503  0488  2E 01       	ld	l,0x01
1504  048A              l_player_lost_life_00106:
1505  048A  C9          	ret
1506  048B              ;	---------------------------------
1507  048B              ; Function player_turn
1508  048B              ; ---------------------------------
1509  048B              _player_turn:
1510  048B  3A 00 00    	ld	a,(_sprite)
1511  048E  C6 00       	add	a,+((_class) & 0xFF)
1512  0490  4F          	ld	c,a
1513  0491  3E 00       	ld	a,+((_class) / 256)
1514  0493  CE 00       	adc	a,0x00
1515  0495  47          	ld	b,a
1516  0496  0A          	ld	a,(bc)
1517  0497  D6 10       	sub	a,0x10
1518  0499  20 53       	jr	NZ,l_player_turn_00110
1519  049B  3A 00 00    	ld	a,(_phase_left)
1520  049E  B7          	or	a, a
1521  049F  28 4D       	jr	Z,l_player_turn_00110
1522  04A1  3A 00 00    	ld	a,(_index_player)
1523  04A4  C6 00       	add	a,+((_game_lives) & 0xFF)
1524  04A6  4F          	ld	c,a
1525  04A7  3E 00       	ld	a,+((_game_lives) / 256)
1526  04A9  CE 00       	adc	a,0x00
1527  04AB  47          	ld	b,a
1528  04AC  0A          	ld	a,(bc)
1529  04AD  B7          	or	a, a
1530  04AE  28 3E       	jr	Z,l_player_turn_00110
1531  04B0  21 00 00    	ld	hl,_sprite
1532  04B3  E5          	push	hl
1533  04B4  CD 00 00    	call	_spr_chktime
1534  04B7  F1          	pop	af
1535  04B8  7D          	ld	a,l
1536  04B9  B7          	or	a, a
1537  04BA  28 32       	jr	Z,l_player_turn_00110
1538  04BC  21 00 00    	ld	hl,_dirs
1539  04BF  36 00       	ld	(hl),0x00
1540  04C1  3A 00 00    	ld	a,(_sprite)
1541  04C4  D6 07       	sub	a,0x07
1542  04C6  20 11       	jr	NZ,l_player_turn_00102
1543  04C8  21 00 00    	ld	hl,_k1
1544  04CB  E5          	push	hl
1545  04CC  2A 00 00    	ld	hl,(_joyfunc1)
1546  04CF  CD 00 00    	call	___sdcc_call_hl
1547  04D2  F1          	pop	af
1548  04D3  7D          	ld	a,l
1549  04D4  32 00 00    	ld	(_dirs),a
1550  04D7  18 0F       	jr	l_player_turn_00103
1551  04D9              l_player_turn_00102:
1552  04D9  21 00 00    	ld	hl,_k1
1553  04DC  E5          	push	hl
1554  04DD  2A 00 00    	ld	hl,(_joyfunc2)
1555  04E0  CD 00 00    	call	___sdcc_call_hl
1556  04E3  F1          	pop	af
1557  04E4  7D          	ld	a,l
1558  04E5  32 00 00    	ld	(_dirs),a
1559  04E8              l_player_turn_00103:
1560  04E8  CD EF 04    	call	_player_move
1561  04EB  CD 04 01    	call	_player_collition
1562  04EE              l_player_turn_00110:
1563  04EE  C9          	ret
1564  04EF              ;	---------------------------------
1565  04EF              ; Function player_move
1566  04EF              ; ---------------------------------
1567  04EF              _player_move:
1568  04EF  CD 00 00    	call	___sdcc_enter_ix
1569  04F2  F5          	push	af
1570  04F3  3A 00 00    	ld	a,(_sprite)
1571  04F6  C6 00       	add	a,+((_state) & 0xFF)
1572  04F8  4F          	ld	c,a
1573  04F9  3E 00       	ld	a,+((_state) / 256)
1574  04FB  CE 00       	adc	a,0x00
1575  04FD  47          	ld	b,a
1576  04FE  0A          	ld	a,(bc)
1577  04FF  32 00 00    	ld	(_s_state),a
1578  0502  3A 00 00    	ld	a,(_sprite)
1579  0505  C6 00       	add	a,+((_lin) & 0xFF)
1580  0507  4F          	ld	c,a
1581  0508  3E 00       	ld	a,+((_lin) / 256)
1582  050A  CE 00       	adc	a,0x00
1583  050C  47          	ld	b,a
1584  050D  0A          	ld	a,(bc)
1585  050E  32 00 00    	ld	(_s_lin0),a
1586  0511  3A 00 00    	ld	a,(_sprite)
1587  0514  C6 00       	add	a,+((_col) & 0xFF)
1588  0516  4F          	ld	c,a
1589  0517  3E 00       	ld	a,+((_col) / 256)
1590  0519  CE 00       	adc	a,0x00
1591  051B  47          	ld	b,a
1592  051C  0A          	ld	a,(bc)
1593  051D  32 00 00    	ld	(_s_col0),a
1594  0520  3E 00       	ld	a,+((_tile) & 0xFF)
1595  0522  21 00 00    	ld	hl,_sprite
1596  0525  86          	add	a, (hl)
1597  0526  DD 77 FE    	ld	(ix-2),a
1598  0529  3E 00       	ld	a,+((_tile) / 256)
1599  052B  CE 00       	adc	a,0x00
1600  052D  DD 77 FF    	ld	(ix-1),a
1601  0530  E1          	pop	hl
1602  0531  4E          	ld	c,(hl)
1603  0532  E5          	push	hl
1604  0533  2A 00 00    	ld	hl,(_sprite)
1605  0536  26 00       	ld	h,0x00
1606  0538  11 00 00    	ld	de,_colint
1607  053B  19          	add	hl,de
1608  053C  7E          	ld	a,(hl)
1609  053D  81          	add	a,c
1610  053E  32 00 00    	ld	(_s_tile0),a
1611  0541  3A 00 00    	ld	a,(_s_state)
1612  0544  E6 20       	and	a,0x20
1613  0546  28 31       	jr	Z,l_player_move_00104
1614  0548  3A 00 00    	ld	a,(_tile_offset)
1615  054B  C6 0A       	add	a,0x0a
1616  054D  E1          	pop	hl
1617  054E  E5          	push	hl
1618  054F  77          	ld	(hl),a
1619  0550  01 00 00    	ld	bc,_spr_timer+0
1620  0553  2A 00 00    	ld	hl,(_sprite)
1621  0556  26 00       	ld	h,0x00
1622  0558  29          	add	hl, hl
1623  0559  09          	add	hl,bc
1624  055A  4E          	ld	c,(hl)
1625  055B  23          	inc	hl
1626  055C  46          	ld	b,(hl)
1627  055D  21 28 00    	ld	hl,0x0028
1628  0560  E5          	push	hl
1629  0561  C5          	push	bc
1630  0562  CD 00 00    	call	_game_check_time
1631  0565  F1          	pop	af
1632  0566  F1          	pop	af
1633  0567  7D          	ld	a,l
1634  0568  B7          	or	a, a
1635  0569  28 09       	jr	Z,l_player_move_00102
1636  056B  3A 00 00    	ld	a,(_sprite)
1637  056E  F5          	push	af
1638  056F  33          	inc	sp
1639  0570  CD 00 00    	call	_spr_killed
1640  0573  33          	inc	sp
1641  0574              l_player_move_00102:
1642  0574  2E 00       	ld	l,0x00
1643  0576  C3 57 09    	jp	l_player_move_00164
1644  0579              l_player_move_00104:
1645  0579  3A 00 00    	ld	a,(_sprite)
1646  057C  C6 00       	add	a,+((_state_a) & 0xFF)
1647  057E  4F          	ld	c,a
1648  057F  3E 00       	ld	a,+((_state_a) / 256)
1649  0581  CE 00       	adc	a,0x00
1650  0583  47          	ld	b,a
1651  0584  0A          	ld	a,(bc)
1652  0585  CB 57       	bit	2, a
1653  0587  28 58       	jr	Z,l_player_move_00108
1654  0589  01 00 00    	ld	bc,_spr_timer+0
1655  058C  2A 00 00    	ld	hl,(_sprite)
1656  058F  26 00       	ld	h,0x00
1657  0591  29          	add	hl, hl
1658  0592  09          	add	hl,bc
1659  0593  4E          	ld	c,(hl)
1660  0594  23          	inc	hl
1661  0595  46          	ld	b,(hl)
1662  0596  21 14 00    	ld	hl,0x0014
1663  0599  E5          	push	hl
1664  059A  C5          	push	bc
1665  059B  CD 00 00    	call	_game_check_time
1666  059E  F1          	pop	af
1667  059F  F1          	pop	af
1668  05A0  7D          	ld	a,l
1669  05A1  B7          	or	a, a
1670  05A2  28 3D       	jr	Z,l_player_move_00108
1671  05A4  2A 00 00    	ld	hl,(_sprite)
1672  05A7  26 00       	ld	h,0x00
1673  05A9  01 00 00    	ld	bc,_state_a
1674  05AC  09          	add	hl,bc
1675  05AD  7E          	ld	a,(hl)
1676  05AE  E6 FB       	and	a,0xfb
1677  05B0  77          	ld	(hl),a
1678  05B1  3E 00       	ld	a,+((_colint) & 0xFF)
1679  05B3  21 00 00    	ld	hl,_sprite
1680  05B6  86          	add	a, (hl)
1681  05B7  4F          	ld	c,a
1682  05B8  3E 00       	ld	a,+((_colint) / 256)
1683  05BA  CE 00       	adc	a,0x00
1684  05BC  47          	ld	b,a
1685  05BD  AF          	xor	a, a
1686  05BE  02          	ld	(bc),a
1687  05BF  3E 00       	ld	a,+((_tile) & 0xFF)
1688  05C1  86          	add	a, (hl)
1689  05C2  4F          	ld	c,a
1690  05C3  3E 00       	ld	a,+((_tile) / 256)
1691  05C5  CE 00       	adc	a,0x00
1692  05C7  47          	ld	b,a
1693  05C8  3A 00 00    	ld	a,(_tile_offset)
1694  05CB  5F          	ld	e,a
1695  05CC  16 00       	ld	d,0x00
1696  05CE  13          	inc	de
1697  05CF  13          	inc	de
1698  05D0  13          	inc	de
1699  05D1  2A 00 00    	ld	hl,(_sprite)
1700  05D4  C5          	push	bc
1701  05D5  26 0C       	ld	h,0x0c
1702  05D7  E5          	push	hl
1703  05D8  D5          	push	de
1704  05D9  CD 00 00    	call	_spr_tile_dir
1705  05DC  F1          	pop	af
1706  05DD  F1          	pop	af
1707  05DE  C1          	pop	bc
1708  05DF  7D          	ld	a, l
1709  05E0  02          	ld	(bc),a
1710  05E1              l_player_move_00108:
1711  05E1  3A 00 00    	ld	a,(_sprite)
1712  05E4  C6 00       	add	a,+((_state_a) & 0xFF)
1713  05E6  4F          	ld	c,a
1714  05E7  3E 00       	ld	a,+((_state_a) / 256)
1715  05E9  CE 00       	adc	a,0x00
1716  05EB  47          	ld	b,a
1717  05EC  0A          	ld	a,(bc)
1718  05ED  CB 6F       	bit	5, a
1719  05EF  28 2E       	jr	Z,l_player_move_00112
1720  05F1  01 00 00    	ld	bc,_spr_timer+0
1721  05F4  2A 00 00    	ld	hl,(_sprite)
1722  05F7  26 00       	ld	h,0x00
1723  05F9  29          	add	hl, hl
1724  05FA  09          	add	hl,bc
1725  05FB  4E          	ld	c,(hl)
1726  05FC  23          	inc	hl
1727  05FD  7E          	ld	a,(hl)
1728  05FE  47          	ld	b,a
1729  05FF  B1          	or	a,c
1730  0600  28 1D       	jr	Z,l_player_move_00112
1731  0602  21 08 00    	ld	hl,0x0008
1732  0605  E5          	push	hl
1733  0606  C5          	push	bc
1734  0607  CD 00 00    	call	_game_check_time
1735  060A  F1          	pop	af
1736  060B  F1          	pop	af
1737  060C  7D          	ld	a,l
1738  060D  B7          	or	a, a
1739  060E  28 0F       	jr	Z,l_player_move_00112
1740  0610  3A 00 00    	ld	a,(_sprite)
1741  0613  C6 00       	add	a,+((_state_a) & 0xFF)
1742  0615  4F          	ld	c,a
1743  0616  3E 00       	ld	a,+((_state_a) / 256)
1744  0618  CE 00       	adc	a,0x00
1745  061A  47          	ld	b,a
1746  061B  0A          	ld	a,(bc)
1747  061C  E6 DF       	and	a,0xdf
1748  061E  02          	ld	(bc),a
1749  061F              l_player_move_00112:
1750  061F  3A 00 00    	ld	a,(_s_state)
1751  0622  E6 10       	and	a,0x10
1752  0624  CA 6C 07    	jp	Z,l_player_move_00128
1753  0627  3A 00 00    	ld	a,(_sprite)
1754  062A  C6 00       	add	a,+((_lin) & 0xFF)
1755  062C  4F          	ld	c,a
1756  062D  3E 00       	ld	a,+((_lin) / 256)
1757  062F  CE 00       	adc	a,0x00
1758  0631  47          	ld	b,a
1759  0632  0A          	ld	a,(bc)
1760  0633  D6 10       	sub	a,0x10
1761  0635  30 12       	jr	NC,l_player_move_00119
1762  0637  CD 00 00    	call	_spr_move_down
1763  063A  3A 00 00    	ld	a,(_index_player)
1764  063D  C6 00       	add	a,+((_player_lock) & 0xFF)
1765  063F  4F          	ld	c,a
1766  0640  3E 00       	ld	a,+((_player_lock) / 256)
1767  0642  CE 00       	adc	a,0x00
1768  0644  47          	ld	b,a
1769  0645  AF          	xor	a, a
1770  0646  02          	ld	(bc),a
1771  0647  18 4E       	jr	l_player_move_00120
1772  0649              l_player_move_00119:
1773  0649  3A 00 00    	ld	a,(_dirs)
1774  064C  07          	rlca
1775  064D  38 0E       	jr	C,l_player_move_00114
1776  064F  3A 00 00    	ld	a,(_dirs)
1777  0652  E6 04       	and	a,0x04
1778  0654  20 07       	jr	NZ,l_player_move_00114
1779  0656  3A 00 00    	ld	a,(_dirs)
1780  0659  E6 08       	and	a,0x08
1781  065B  28 3A       	jr	Z,l_player_move_00120
1782  065D              l_player_move_00114:
1783  065D  3A 00 00    	ld	a,(_sprite)
1784  0660  C6 00       	add	a,+((_state) & 0xFF)
1785  0662  4F          	ld	c,a
1786  0663  3E 00       	ld	a,+((_state) / 256)
1787  0665  CE 00       	adc	a,0x00
1788  0667  47          	ld	b,a
1789  0668  0A          	ld	a,(bc)
1790  0669  E6 EF       	and	a,0xef
1791  066B  02          	ld	(bc),a
1792  066C  76          	halt
1793  066D  3A 00 00    	ld	a,(_s_col0)
1794  0670  F5          	push	af
1795  0671  33          	inc	sp
1796  0672  21 A9 10    	ld	hl,0x10a9
1797  0675  E5          	push	hl
1798  0676  CD 00 00    	call	_NIRVANAP_drawT_callee
1799  0679  3A 00 00    	ld	a,(_s_col0)
1800  067C  F5          	push	af
1801  067D  33          	inc	sp
1802  067E  21 A9 20    	ld	hl,0x20a9
1803  0681  E5          	push	hl
1804  0682  CD 00 00    	call	_NIRVANAP_drawT_callee
1805  0685  3A 00 00    	ld	a,(_sprite)
1806  0688  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1807  068A  4F          	ld	c,a
1808  068B  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1809  068D  CE 00       	adc	a,0x00
1810  068F  47          	ld	b,a
1811  0690  AF          	xor	a, a
1812  0691  02          	ld	(bc),a
1813  0692  2E 00       	ld	l,0x00
1814  0694  C3 57 09    	jp	l_player_move_00164
1815  0697              l_player_move_00120:
1816  0697  CD 00 00    	call	_spr_redraw
1817  069A  ED 4B 00 00 	ld	bc,(_curr_time)
1818  069E  2A 00 00    	ld	hl,(_sprite)
1819  06A1  26 00       	ld	h,0x00
1820  06A3  29          	add	hl, hl
1821  06A4  11 00 00    	ld	de,_spr_timer
1822  06A7  19          	add	hl,de
1823  06A8  5E          	ld	e,(hl)
1824  06A9  23          	inc	hl
1825  06AA  56          	ld	d,(hl)
1826  06AB  69          	ld	l,c
1827  06AC  60          	ld	h,b
1828  06AD  AF          	xor	a,a
1829  06AE  ED 52       	sbc	hl,de
1830  06B0  22 00 00    	ld	(_tmp_ui),hl
1831  06B3  21 00 00    	ld	hl,_tmp
1832  06B6  36 00       	ld	(hl),0x00
1833  06B8  3E 32       	ld	a,0x32
1834  06BA  21 00 00    	ld	hl,_tmp_ui
1835  06BD  BE          	cp	a, (hl)
1836  06BE  3E 00       	ld	a,0x00
1837  06C0  23          	inc	hl
1838  06C1  9E          	sbc	a, (hl)
1839  06C2  30 05       	jr	NC,l_player_move_00122
1840  06C4  21 00 00    	ld	hl,_tmp
1841  06C7  36 01       	ld	(hl),0x01
1842  06C9              l_player_move_00122:
1843  06C9  3E 64       	ld	a,0x64
1844  06CB  21 00 00    	ld	hl,_tmp_ui
1845  06CE  BE          	cp	a, (hl)
1846  06CF  3E 00       	ld	a,0x00
1847  06D1  23          	inc	hl
1848  06D2  9E          	sbc	a, (hl)
1849  06D3  30 05       	jr	NC,l_player_move_00124
1850  06D5  21 00 00    	ld	hl,_tmp
1851  06D8  36 02       	ld	(hl),0x02
1852  06DA              l_player_move_00124:
1853  06DA  76          	halt
1854  06DB  3A 00 00    	ld	a,(_sprite)
1855  06DE  C6 00       	add	a,+((_lin) & 0xFF)
1856  06E0  4F          	ld	c,a
1857  06E1  3E 00       	ld	a,+((_lin) / 256)
1858  06E3  CE 00       	adc	a,0x00
1859  06E5  47          	ld	b,a
1860  06E6  0A          	ld	a,(bc)
1861  06E7  C6 10       	add	a,0x10
1862  06E9  47          	ld	b,a
1863  06EA  3A 00 00    	ld	a,(_tmp)
1864  06ED  C6 84       	add	a,0x84
1865  06EF  57          	ld	d,a
1866  06F0  3A 00 00    	ld	a,(_s_col0)
1867  06F3  F5          	push	af
1868  06F4  33          	inc	sp
1869  06F5  4A          	ld	c, d
1870  06F6  C5          	push	bc
1871  06F7  CD 00 00    	call	_NIRVANAP_drawT_callee
1872  06FA  3E 96       	ld	a,0x96
1873  06FC  21 00 00    	ld	hl,_tmp_ui
1874  06FF  BE          	cp	a, (hl)
1875  0700  3E 00       	ld	a,0x00
1876  0702  23          	inc	hl
1877  0703  9E          	sbc	a, (hl)
1878  0704  30 61       	jr	NC,l_player_move_00126
1879  0706  2A 00 00    	ld	hl,(_sprite)
1880  0709  26 00       	ld	h,0x00
1881  070B  01 00 00    	ld	bc,_lin
1882  070E  09          	add	hl,bc
1883  070F  4E          	ld	c, (hl)
1884  0710  3A 00 00    	ld	a, (_s_col0)
1885  0713  47          	ld	b,a
1886  0714  C5          	push	bc
1887  0715  3E A9       	ld	a,0xa9
1888  0717  F5          	push	af
1889  0718  33          	inc	sp
1890  0719  CD 00 00    	call	_NIRVANAP_drawT_callee
1891  071C  3A 00 00    	ld	a,(_sprite)
1892  071F  C6 00       	add	a,+((_lin) & 0xFF)
1893  0721  4F          	ld	c,a
1894  0722  3E 00       	ld	a,+((_lin) / 256)
1895  0724  CE 00       	adc	a,0x00
1896  0726  47          	ld	b,a
1897  0727  0A          	ld	a,(bc)
1898  0728  C6 10       	add	a,0x10
1899  072A  4F          	ld	c, a
1900  072B  3A 00 00    	ld	a, (_s_col0)
1901  072E  47          	ld	b,a
1902  072F  C5          	push	bc
1903  0730  3E A9       	ld	a,0xa9
1904  0732  F5          	push	af
1905  0733  33          	inc	sp
1906  0734  CD 00 00    	call	_NIRVANAP_drawT_callee
1907  0737  21 00 00    	ld	hl,_s_state
1908  073A  CB A6       	res	4, (hl)
1909  073C  CB C6       	set	0, (hl)
1910  073E  3A 00 00    	ld	a,(_sprite)
1911  0741  C6 00       	add	a,+((_state) & 0xFF)
1912  0743  4F          	ld	c,a
1913  0744  3E 00       	ld	a,+((_state) / 256)
1914  0746  CE 00       	adc	a,0x00
1915  0748  47          	ld	b,a
1916  0749  3A 00 00    	ld	a,(_s_state)
1917  074C  02          	ld	(bc),a
1918  074D  3A 00 00    	ld	a,(_index_player)
1919  0750  C6 00       	add	a,+((_player_lock) & 0xFF)
1920  0752  4F          	ld	c,a
1921  0753  3E 00       	ld	a,+((_player_lock) / 256)
1922  0755  CE 00       	adc	a,0x00
1923  0757  47          	ld	b,a
1924  0758  AF          	xor	a, a
1925  0759  02          	ld	(bc),a
1926  075A  3A 00 00    	ld	a,(_sprite)
1927  075D  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1928  075F  4F          	ld	c,a
1929  0760  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1930  0762  CE 00       	adc	a,0x00
1931  0764  47          	ld	b,a
1932  0765  AF          	xor	a, a
1933  0766  02          	ld	(bc),a
1934  0767              l_player_move_00126:
1935  0767  2E 00       	ld	l,0x00
1936  0769  C3 57 09    	jp	l_player_move_00164
1937  076C              l_player_move_00128:
1938  076C  CD 5B 09    	call	_player_move_input
1939  076F  3A 00 00    	ld	a,(_index_player)
1940  0772  C6 00       	add	a,+((_player_lock) & 0xFF)
1941  0774  4F          	ld	c,a
1942  0775  3E 00       	ld	a,+((_player_lock) / 256)
1943  0777  CE 00       	adc	a,0x00
1944  0779  47          	ld	b,a
1945  077A  0A          	ld	a,(bc)
1946  077B  B7          	or	a, a
1947  077C  28 05       	jr	Z,l_player_move_00130
1948  077E  2E 00       	ld	l,0x00
1949  0780  C3 57 09    	jp	l_player_move_00164
1950  0783              l_player_move_00130:
1951  0783  3A 00 00    	ld	a,(_s_state)
1952  0786  E6 01       	and	a,0x01
1953  0788  4F          	ld	c,a
1954  0789  3E 00       	ld	a,+((_lin) & 0xFF)
1955  078B  21 00 00    	ld	hl,_sprite
1956  078E  86          	add	a, (hl)
1957  078F  DD 77 FE    	ld	(ix-2),a
1958  0792  3E 00       	ld	a,+((_lin) / 256)
1959  0794  CE 00       	adc	a,0x00
1960  0796  DD 77 FF    	ld	(ix-1),a
1961  0799  3A 00 00    	ld	a,(_s_state)
1962  079C  E6 02       	and	a,0x02
1963  079E  47          	ld	b,a
1964  079F  79          	ld	a,c
1965  07A0  B7          	or	a,a
1966  07A1  20 62       	jr	NZ,l_player_move_00159
1967  07A3  B0          	or	a,b
1968  07A4  20 5F       	jr	NZ,l_player_move_00159
1969  07A6  2A 00 00    	ld	hl,(_sprite)
1970  07A9  26 00       	ld	h,0x00
1971  07AB  01 00 00    	ld	bc,_col
1972  07AE  09          	add	hl,bc
1973  07AF  46          	ld	b,(hl)
1974  07B0  CB 40       	bit	0,b
1975  07B2  28 08       	jr	Z,l_player_move_00134
1976  07B4  21 00 00    	ld	hl,0x0000
1977  07B7  22 00 00    	ld	(_index_d),hl
1978  07BA  18 1B       	jr	l_player_move_00135
1979  07BC              l_player_move_00134:
1980  07BC  E1          	pop	hl
1981  07BD  7E          	ld	a,(hl)
1982  07BE  E5          	push	hl
1983  07BF  C6 10       	add	a,0x10
1984  07C1  4F          	ld	c,a
1985  07C2  C5          	push	bc
1986  07C3  CD 00 00    	call	_game_calc_index
1987  07C6  F1          	pop	af
1988  07C7  22 00 00    	ld	(_index_d),hl
1989  07CA  3A 00 00    	ld	a,(_s_lin0)
1990  07CD  D6 98       	sub	a,0x98
1991  07CF  20 06       	jr	NZ,l_player_move_00135
1992  07D1  21 00 00    	ld	hl,0x0000
1993  07D4  22 00 00    	ld	(_index_d),hl
1994  07D7              l_player_move_00135:
1995  07D7  21 01 00    	ld	hl,_index_d + 1
1996  07DA  7E          	ld	a,(hl)
1997  07DB  2B          	dec	hl
1998  07DC  B6          	or	a,(hl)
1999  07DD  CA 25 09    	jp	Z,l_player_move_00160
2000  07E0  3E 00       	ld	a,+((_lvl_1) & 0xFF)
2001  07E2  86          	add	a, (hl)
2002  07E3  4F          	ld	c,a
2003  07E4  3E 00       	ld	a,+((_lvl_1) / 256)
2004  07E6  23          	inc	hl
2005  07E7  8E          	adc	a, (hl)
2006  07E8  47          	ld	b,a
2007  07E9  0A          	ld	a,(bc)
2008  07EA  D6 10       	sub	a,0x10
2009  07EC  D2 25 09    	jp	NC,l_player_move_00160
2010  07EF  3A 00 00    	ld	a,(_sprite)
2011  07F2  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2012  07F4  4F          	ld	c,a
2013  07F5  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2014  07F7  CE 00       	adc	a,0x00
2015  07F9  47          	ld	b,a
2016  07FA  3E 02       	ld	a,0x02
2017  07FC  02          	ld	(bc),a
2018  07FD  21 00 00    	ld	hl,_s_state
2019  0800  CB CE       	set	1, (hl)
2020  0802  C3 25 09    	jp	l_player_move_00160
2021  0805              l_player_move_00159:
2022  0805  79          	ld	a,c
2023  0806  B7          	or	a, a
2024  0807  CA B7 08    	jp	Z,l_player_move_00156
2025  080A  2A 00 00    	ld	hl,(_sprite)
2026  080D  26 00       	ld	h,0x00
2027  080F  01 00 00    	ld	bc,_jump_lin
2028  0812  09          	add	hl,bc
2029  0813  4E          	ld	c,(hl)
2030  0814  E1          	pop	hl
2031  0815  06 00       	ld	b,0x00
2032  0817  5E          	ld	e,(hl)
2033  0818  E5          	push	hl
2034  0819  16 00       	ld	d,0x00
2035  081B  79          	ld	a,c
2036  081C  93          	sub	a, e
2037  081D  4F          	ld	c,a
2038  081E  78          	ld	a,b
2039  081F  9A          	sbc	a, d
2040  0820  47          	ld	b,a
2041  0821  79          	ld	a,c
2042  0822  D6 30       	sub	a,0x30
2043  0824  78          	ld	a,b
2044  0825  17          	rla
2045  0826  3F          	ccf
2046  0827  1F          	rra
2047  0828  DE 80       	sbc	a,0x80
2048  082A  30 49       	jr	NC,l_player_move_00144
2049  082C  CD 00 00    	call	_spr_move_up
2050  082F  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2051  0831  21 00 00    	ld	hl,_sprite
2052  0834  86          	add	a, (hl)
2053  0835  4F          	ld	c,a
2054  0836  3E 00       	ld	a,+((_jump_lin) / 256)
2055  0838  CE 00       	adc	a,0x00
2056  083A  47          	ld	b,a
2057  083B  0A          	ld	a,(bc)
2058  083C  4F          	ld	c,a
2059  083D  06 00       	ld	b,0x00
2060  083F  3E 00       	ld	a,+((_lin) & 0xFF)
2061  0841  86          	add	a, (hl)
2062  0842  5F          	ld	e,a
2063  0843  3E 00       	ld	a,+((_lin) / 256)
2064  0845  CE 00       	adc	a,0x00
2065  0847  57          	ld	d,a
2066  0848  1A          	ld	a,(de)
2067  0849  5F          	ld	e,a
2068  084A  16 00       	ld	d,0x00
2069  084C  79          	ld	a,c
2070  084D  93          	sub	a, e
2071  084E  4F          	ld	c,a
2072  084F  78          	ld	a,b
2073  0850  9A          	sbc	a, d
2074  0851  47          	ld	b,a
2075  0852  79          	ld	a,c
2076  0853  D6 30       	sub	a,0x30
2077  0855  78          	ld	a,b
2078  0856  17          	rla
2079  0857  3F          	ccf
2080  0858  1F          	rra
2081  0859  DE 80       	sbc	a,0x80
2082  085B  38 36       	jr	C,l_player_move_00145
2083  085D  01 00 00    	ld	bc,_spr_timer+0
2084  0860  6E          	ld	l,(hl)
2085  0861  26 00       	ld	h,0x00
2086  0863  29          	add	hl, hl
2087  0864  09          	add	hl,bc
2088  0865  4D          	ld	c, l
2089  0866  44          	ld	b, h
2090  0867  2A 00 00    	ld	hl,(_curr_time)
2091  086A  11 E8 FF    	ld	de,0xffe8
2092  086D  19          	add	hl,de
2093  086E  7D          	ld	a,l
2094  086F  02          	ld	(bc),a
2095  0870  03          	inc	bc
2096  0871  7C          	ld	a,h
2097  0872  02          	ld	(bc),a
2098  0873  18 1E       	jr	l_player_move_00145
2099  0875              l_player_move_00144:
2100  0875  01 00 00    	ld	bc,_spr_timer+0
2101  0878  2A 00 00    	ld	hl,(_sprite)
2102  087B  26 00       	ld	h,0x00
2103  087D  29          	add	hl, hl
2104  087E  09          	add	hl,bc
2105  087F  4E          	ld	c,(hl)
2106  0880  23          	inc	hl
2107  0881  46          	ld	b,(hl)
2108  0882  21 08 00    	ld	hl,0x0008
2109  0885  E5          	push	hl
2110  0886  C5          	push	bc
2111  0887  CD 00 00    	call	_game_check_time
2112  088A  F1          	pop	af
2113  088B  F1          	pop	af
2114  088C  7D          	ld	a,l
2115  088D  B7          	or	a, a
2116  088E  28 03       	jr	Z,l_player_move_00145
2117  0890  CD 00 00    	call	_spr_set_fall
2118  0893              l_player_move_00145:
2119  0893  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2120  0895  21 00 00    	ld	hl,_sprite
2121  0898  86          	add	a, (hl)
2122  0899  4F          	ld	c,a
2123  089A  3E 00       	ld	a,+((_jump_lin) / 256)
2124  089C  CE 00       	adc	a,0x00
2125  089E  47          	ld	b,a
2126  089F  0A          	ld	a,(bc)
2127  08A0  4F          	ld	c,a
2128  08A1  5E          	ld	e,(hl)
2129  08A2  16 00       	ld	d,0x00
2130  08A4  21 00 00    	ld	hl,_lin
2131  08A7  19          	add	hl,de
2132  08A8  46          	ld	b, (hl)
2133  08A9  79          	ld	a,c
2134  08AA  90          	sub	a, b
2135  08AB  32 00 00    	ld	(_tmp),a
2136  08AE  E6 07       	and	a,0x07
2137  08B0  28 73       	jr	Z,l_player_move_00160
2138  08B2  CD 81 0C    	call	_player_move_horizontal
2139  08B5  18 6E       	jr	l_player_move_00160
2140  08B7              l_player_move_00156:
2141  08B7  78          	ld	a,b
2142  08B8  B7          	or	a, a
2143  08B9  28 6A       	jr	Z,l_player_move_00160
2144  08BB  CD 00 00    	call	_spr_move_down
2145  08BE  CD 81 0C    	call	_player_move_horizontal
2146  08C1  3E 00       	ld	a,+((_col) & 0xFF)
2147  08C3  21 00 00    	ld	hl,_sprite
2148  08C6  86          	add	a, (hl)
2149  08C7  4F          	ld	c,a
2150  08C8  3E 00       	ld	a,+((_col) / 256)
2151  08CA  CE 00       	adc	a,0x00
2152  08CC  47          	ld	b,a
2153  08CD  0A          	ld	a,(bc)
2154  08CE  57          	ld	d,a
2155  08CF  4E          	ld	c,(hl)
2156  08D0  06 00       	ld	b,0x00
2157  08D2  21 00 00    	ld	hl,_lin
2158  08D5  09          	add	hl,bc
2159  08D6  7E          	ld	a,(hl)
2160  08D7  C6 10       	add	a,0x10
2161  08D9  5F          	ld	e, a
2162  08DA  D5          	push	de
2163  08DB  CD 00 00    	call	_game_calc_index
2164  08DE  F1          	pop	af
2165  08DF  22 00 00    	ld	(_index1),hl
2166  08E2  01 00 00    	ld	bc,_lvl_1
2167  08E5  09          	add	hl,bc
2168  08E6  7E          	ld	a,(hl)
2169  08E7  D6 14       	sub	a,0x14
2170  08E9  20 10       	jr	NZ,l_player_move_00149
2171  08EB  3A 00 00    	ld	a,(_index_player)
2172  08EE  C6 00       	add	a,+((_sliding) & 0xFF)
2173  08F0  4F          	ld	c,a
2174  08F1  3E 00       	ld	a,+((_sliding) / 256)
2175  08F3  CE 00       	adc	a,0x00
2176  08F5  47          	ld	b,a
2177  08F6  3E 10       	ld	a,0x10
2178  08F8  02          	ld	(bc),a
2179  08F9  18 0E       	jr	l_player_move_00150
2180  08FB              l_player_move_00149:
2181  08FB  3A 00 00    	ld	a,(_index_player)
2182  08FE  C6 00       	add	a,+((_sliding) & 0xFF)
2183  0900  4F          	ld	c,a
2184  0901  3E 00       	ld	a,+((_sliding) / 256)
2185  0903  CE 00       	adc	a,0x00
2186  0905  47          	ld	b,a
2187  0906  3E 04       	ld	a,0x04
2188  0908  02          	ld	(bc),a
2189  0909              l_player_move_00150:
2190  0909  21 00 00    	ld	hl,_s_state
2191  090C  7E          	ld	a,(hl)
2192  090D  E6 08       	and	a,0x08
2193  090F  4F          	ld	c,a
2194  0910  7E          	ld	a,(hl)
2195  0911  E6 04       	and	a,0x04
2196  0913  47          	ld	b,a
2197  0914  79          	ld	a,c
2198  0915  90          	sub	a, b
2199  0916  20 0D       	jr	NZ,l_player_move_00160
2200  0918  3A 00 00    	ld	a,(_index_player)
2201  091B  C6 00       	add	a,+((_sliding) & 0xFF)
2202  091D  4F          	ld	c,a
2203  091E  3E 00       	ld	a,+((_sliding) / 256)
2204  0920  CE 00       	adc	a,0x00
2205  0922  47          	ld	b,a
2206  0923  AF          	xor	a, a
2207  0924  02          	ld	(bc),a
2208  0925              l_player_move_00160:
2209  0925  2A 00 00    	ld	hl,(_sprite)
2210  0928  26 00       	ld	h,0x00
2211  092A  29          	add	hl, hl
2212  092B  11 00 00    	ld	de,_spr_timer
2213  092E  19          	add	hl,de
2214  092F  4E          	ld	c,(hl)
2215  0930  23          	inc	hl
2216  0931  46          	ld	b,(hl)
2217  0932  21 08 00    	ld	hl,0x0008
2218  0935  E5          	push	hl
2219  0936  C5          	push	bc
2220  0937  CD 00 00    	call	_game_check_time
2221  093A  F1          	pop	af
2222  093B  F1          	pop	af
2223  093C  7D          	ld	a,l
2224  093D  B7          	or	a, a
2225  093E  28 03       	jr	Z,l_player_move_00163
2226  0940  CD A2 0F    	call	_player_hit_brick_clear
2227  0943              l_player_move_00163:
2228  0943  CD 00 00    	call	_spr_redraw
2229  0946  3A 00 00    	ld	a,(_sprite)
2230  0949  C6 00       	add	a,+((_state) & 0xFF)
2231  094B  4F          	ld	c,a
2232  094C  3E 00       	ld	a,+((_state) / 256)
2233  094E  CE 00       	adc	a,0x00
2234  0950  47          	ld	b,a
2235  0951  3A 00 00    	ld	a,(_s_state)
2236  0954  02          	ld	(bc),a
2237  0955  2E 00       	ld	l,0x00
2238  0957              l_player_move_00164:
2239  0957  F1          	pop	af
2240  0958  DD E1       	pop	ix
2241  095A  C9          	ret
2242  095B              ;	---------------------------------
2243  095B              ; Function player_move_input
2244  095B              ; ---------------------------------
2245  095B              _player_move_input:
2246  095B  3A 00 00    	ld	a,(_dirs)
2247  095E  07          	rlca
2248  095F  38 0F       	jr	C,l_player_move_input_00139
2249  0961  3A 00 00    	ld	a,(_dirs)
2250  0964  E6 04       	and	a,0x04
2251  0966  20 08       	jr	NZ,l_player_move_input_00139
2252  0968  3A 00 00    	ld	a,(_dirs)
2253  096B  E6 08       	and	a,0x08
2254  096D  CA 8E 0B    	jp	Z,l_player_move_input_00140
2255  0970              l_player_move_input_00139:
2256  0970  3A 00 00    	ld	a,(_index_player)
2257  0973  C6 00       	add	a,+((_player_lock) & 0xFF)
2258  0975  4F          	ld	c,a
2259  0976  3E 00       	ld	a,+((_player_lock) / 256)
2260  0978  CE 00       	adc	a,0x00
2261  097A  47          	ld	b,a
2262  097B  AF          	xor	a, a
2263  097C  02          	ld	(bc),a
2264  097D  3A 00 00    	ld	a,(_dirs)
2265  0980  07          	rlca
2266  0981  38 0F       	jr	C,l_player_move_input_00102
2267  0983  3A 00 00    	ld	a,(_sprite)
2268  0986  C6 00       	add	a,+((_state_a) & 0xFF)
2269  0988  4F          	ld	c,a
2270  0989  3E 00       	ld	a,+((_state_a) / 256)
2271  098B  CE 00       	adc	a,0x00
2272  098D  47          	ld	b,a
2273  098E  0A          	ld	a,(bc)
2274  098F  E6 FE       	and	a,0xfe
2275  0991  02          	ld	(bc),a
2276  0992              l_player_move_input_00102:
2277  0992  3A 00 00    	ld	a,(_s_state)
2278  0995  0F          	rrca
2279  0996  DA 7D 0C    	jp	C,l_player_move_input_00141
2280  0999  3A 00 00    	ld	a,(_s_state)
2281  099C  E6 02       	and	a,0x02
2282  099E  C2 7D 0C    	jp	NZ,l_player_move_input_00141
2283  09A1  3A 00 00    	ld	a,(_s_lin0)
2284  09A4  C6 10       	add	a,0x10
2285  09A6  4F          	ld	c, a
2286  09A7  3A 00 00    	ld	a, (_s_col0)
2287  09AA  47          	ld	b,a
2288  09AB  C5          	push	bc
2289  09AC  CD 00 00    	call	_game_calc_index
2290  09AF  F1          	pop	af
2291  09B0  22 00 00    	ld	(_index1),hl
2292  09B3  01 00 00    	ld	bc,_lvl_1
2293  09B6  09          	add	hl,bc
2294  09B7  7E          	ld	a,(hl)
2295  09B8  D6 14       	sub	a,0x14
2296  09BA  20 10       	jr	NZ,l_player_move_input_00104
2297  09BC  3A 00 00    	ld	a,(_index_player)
2298  09BF  C6 00       	add	a,+((_sliding) & 0xFF)
2299  09C1  4F          	ld	c,a
2300  09C2  3E 00       	ld	a,+((_sliding) / 256)
2301  09C4  CE 00       	adc	a,0x00
2302  09C6  47          	ld	b,a
2303  09C7  3E 10       	ld	a,0x10
2304  09C9  02          	ld	(bc),a
2305  09CA  18 0E       	jr	l_player_move_input_00105
2306  09CC              l_player_move_input_00104:
2307  09CC  3A 00 00    	ld	a,(_index_player)
2308  09CF  C6 00       	add	a,+((_sliding) & 0xFF)
2309  09D1  4F          	ld	c,a
2310  09D2  3E 00       	ld	a,+((_sliding) / 256)
2311  09D4  CE 00       	adc	a,0x00
2312  09D6  47          	ld	b,a
2313  09D7  3E 04       	ld	a,0x04
2314  09D9  02          	ld	(bc),a
2315  09DA              l_player_move_input_00105:
2316  09DA  3A 00 00    	ld	a,(_sprite)
2317  09DD  C6 00       	add	a,+((_state_a) & 0xFF)
2318  09DF  4F          	ld	c,a
2319  09E0  3E 00       	ld	a,+((_state_a) / 256)
2320  09E2  CE 00       	adc	a,0x00
2321  09E4  47          	ld	b,a
2322  09E5  0A          	ld	a,(bc)
2323  09E6  CB 6F       	bit	5, a
2324  09E8  28 1E       	jr	Z,l_player_move_input_00107
2325  09EA  01 00 00    	ld	bc,_spr_timer+0
2326  09ED  2A 00 00    	ld	hl,(_sprite)
2327  09F0  26 00       	ld	h,0x00
2328  09F2  54          	ld	d,h
2329  09F3  29          	add	hl, hl
2330  09F4  09          	add	hl,bc
2331  09F5  4D          	ld	c,l
2332  09F6  44          	ld	b,h
2333  09F7  5E          	ld	e,(hl)
2334  09F8  23          	inc	hl
2335  09F9  7E          	ld	a, (hl)
2336  09FA  B3          	or	a,e
2337  09FB  20 0B       	jr	NZ,l_player_move_input_00107
2338  09FD  2A 00 00    	ld	hl,(_curr_time)
2339  0A00  C5          	push	bc
2340  0A01  EB          	ex	de,hl
2341  0A02  C1          	pop	bc
2342  0A03  7B          	ld	a,e
2343  0A04  02          	ld	(bc),a
2344  0A05  03          	inc	bc
2345  0A06  7A          	ld	a,d
2346  0A07  02          	ld	(bc),a
2347  0A08              l_player_move_input_00107:
2348  0A08  3A 00 00    	ld	a,(_dirs)
2349  0A0B  E6 08       	and	a,0x08
2350  0A0D  28 24       	jr	Z,l_player_move_input_00110
2351  0A0F  21 00 00    	ld	hl,_s_state
2352  0A12  CB D6       	set	2, (hl)
2353  0A14  CB 9E       	res	3, (hl)
2354  0A16  3E 00       	ld	a,+((_state_a) & 0xFF)
2355  0A18  21 00 00    	ld	hl,_sprite
2356  0A1B  86          	add	a, (hl)
2357  0A1C  4F          	ld	c,a
2358  0A1D  3E 00       	ld	a,+((_state_a) / 256)
2359  0A1F  CE 00       	adc	a,0x00
2360  0A21  47          	ld	b,a
2361  0A22  0A          	ld	a,(bc)
2362  0A23  CB E7       	set	4, a
2363  0A25  02          	ld	(bc),a
2364  0A26  3E 00       	ld	a,+((_state_a) & 0xFF)
2365  0A28  86          	add	a, (hl)
2366  0A29  4F          	ld	c,a
2367  0A2A  3E 00       	ld	a,+((_state_a) / 256)
2368  0A2C  CE 00       	adc	a,0x00
2369  0A2E  47          	ld	b,a
2370  0A2F  0A          	ld	a,(bc)
2371  0A30  E6 F7       	and	a,0xf7
2372  0A32  02          	ld	(bc),a
2373  0A33              l_player_move_input_00110:
2374  0A33  3A 00 00    	ld	a,(_dirs)
2375  0A36  E6 04       	and	a,0x04
2376  0A38  28 24       	jr	Z,l_player_move_input_00112
2377  0A3A  21 00 00    	ld	hl,_s_state
2378  0A3D  CB DE       	set	3, (hl)
2379  0A3F  CB 96       	res	2, (hl)
2380  0A41  3E 00       	ld	a,+((_state_a) & 0xFF)
2381  0A43  21 00 00    	ld	hl,_sprite
2382  0A46  86          	add	a, (hl)
2383  0A47  4F          	ld	c,a
2384  0A48  3E 00       	ld	a,+((_state_a) / 256)
2385  0A4A  CE 00       	adc	a,0x00
2386  0A4C  47          	ld	b,a
2387  0A4D  0A          	ld	a,(bc)
2388  0A4E  CB DF       	set	3, a
2389  0A50  02          	ld	(bc),a
2390  0A51  3E 00       	ld	a,+((_state_a) & 0xFF)
2391  0A53  86          	add	a, (hl)
2392  0A54  4F          	ld	c,a
2393  0A55  3E 00       	ld	a,+((_state_a) / 256)
2394  0A57  CE 00       	adc	a,0x00
2395  0A59  47          	ld	b,a
2396  0A5A  0A          	ld	a,(bc)
2397  0A5B  E6 EF       	and	a,0xef
2398  0A5D  02          	ld	(bc),a
2399  0A5E              l_player_move_input_00112:
2400  0A5E  3A 00 00    	ld	a,(_sprite)
2401  0A61  C6 00       	add	a,+((_state) & 0xFF)
2402  0A63  4F          	ld	c,a
2403  0A64  3E 00       	ld	a,+((_state) / 256)
2404  0A66  CE 00       	adc	a,0x00
2405  0A68  47          	ld	b,a
2406  0A69  3A 00 00    	ld	a,(_s_state)
2407  0A6C  02          	ld	(bc),a
2408  0A6D  3A 00 00    	ld	a,(_sprite)
2409  0A70  C6 00       	add	a,+((_tile) & 0xFF)
2410  0A72  4F          	ld	c,a
2411  0A73  3E 00       	ld	a,+((_tile) / 256)
2412  0A75  CE 00       	adc	a,0x00
2413  0A77  47          	ld	b,a
2414  0A78  3A 00 00    	ld	a,(_tile_offset)
2415  0A7B  5F          	ld	e,a
2416  0A7C  16 00       	ld	d,0x00
2417  0A7E  2A 00 00    	ld	hl,(_sprite)
2418  0A81  C5          	push	bc
2419  0A82  26 0C       	ld	h,0x0c
2420  0A84  E5          	push	hl
2421  0A85  D5          	push	de
2422  0A86  CD 00 00    	call	_spr_tile_dir
2423  0A89  F1          	pop	af
2424  0A8A  F1          	pop	af
2425  0A8B  C1          	pop	bc
2426  0A8C  7D          	ld	a, l
2427  0A8D  02          	ld	(bc),a
2428  0A8E  3A 00 00    	ld	a,(_sprite)
2429  0A91  C6 00       	add	a,+((_state_a) & 0xFF)
2430  0A93  4F          	ld	c,a
2431  0A94  3E 00       	ld	a,+((_state_a) / 256)
2432  0A96  CE 00       	adc	a,0x00
2433  0A98  47          	ld	b,a
2434  0A99  0A          	ld	a,(bc)
2435  0A9A  0F          	rrca
2436  0A9B  DA 43 0B    	jp	C,l_player_move_input_00116
2437  0A9E  3A 00 00    	ld	a,(_dirs)
2438  0AA1  07          	rlca
2439  0AA2  D2 43 0B    	jp	NC,l_player_move_input_00116
2440  0AA5  CD 00 00    	call	_ay_is_playing
2441  0AA8  7D          	ld	a,l
2442  0AA9  D6 03       	sub	a,0x03
2443  0AAB  28 06       	jr	Z,l_player_move_input_00114
2444  0AAD  21 00 00    	ld	hl,_ay_effect_03
2445  0AB0  CD 00 00    	call	_ay_fx_play
2446  0AB3              l_player_move_input_00114:
2447  0AB3  CD 00 00    	call	_sound_jump
2448  0AB6  3E 00       	ld	a,+((_colint) & 0xFF)
2449  0AB8  21 00 00    	ld	hl,_sprite
2450  0ABB  86          	add	a, (hl)
2451  0ABC  4F          	ld	c,a
2452  0ABD  3E 00       	ld	a,+((_colint) / 256)
2453  0ABF  CE 00       	adc	a,0x00
2454  0AC1  47          	ld	b,a
2455  0AC2  AF          	xor	a, a
2456  0AC3  02          	ld	(bc),a
2457  0AC4  3E 00       	ld	a,+((_state_a) & 0xFF)
2458  0AC6  86          	add	a, (hl)
2459  0AC7  4F          	ld	c,a
2460  0AC8  3E 00       	ld	a,+((_state_a) / 256)
2461  0ACA  CE 00       	adc	a,0x00
2462  0ACC  47          	ld	b,a
2463  0ACD  0A          	ld	a,(bc)
2464  0ACE  CB C7       	set	0, a
2465  0AD0  02          	ld	(bc),a
2466  0AD1  21 00 00    	ld	hl,_s_state
2467  0AD4  CB C6       	set	0, (hl)
2468  0AD6  CB 8E       	res	1, (hl)
2469  0AD8  2A 00 00    	ld	hl,(_sprite)
2470  0ADB  26 00       	ld	h,0x00
2471  0ADD  01 00 00    	ld	bc,_state_a
2472  0AE0  09          	add	hl,bc
2473  0AE1  7E          	ld	a,(hl)
2474  0AE2  E6 DF       	and	a,0xdf
2475  0AE4  77          	ld	(hl),a
2476  0AE5  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2477  0AE7  21 00 00    	ld	hl,_sprite
2478  0AEA  86          	add	a, (hl)
2479  0AEB  4F          	ld	c,a
2480  0AEC  3E 00       	ld	a,+((_jump_lin) / 256)
2481  0AEE  CE 00       	adc	a,0x00
2482  0AF0  47          	ld	b,a
2483  0AF1  3E 00       	ld	a,+((_lin) & 0xFF)
2484  0AF3  86          	add	a, (hl)
2485  0AF4  5F          	ld	e,a
2486  0AF5  3E 00       	ld	a,+((_lin) / 256)
2487  0AF7  CE 00       	adc	a,0x00
2488  0AF9  57          	ld	d,a
2489  0AFA  1A          	ld	a,(de)
2490  0AFB  02          	ld	(bc),a
2491  0AFC  3E 00       	ld	a,+((_state) & 0xFF)
2492  0AFE  86          	add	a, (hl)
2493  0AFF  4F          	ld	c,a
2494  0B00  3E 00       	ld	a,+((_state) / 256)
2495  0B02  CE 00       	adc	a,0x00
2496  0B04  47          	ld	b,a
2497  0B05  3A 00 00    	ld	a,(_s_state)
2498  0B08  02          	ld	(bc),a
2499  0B09  3A 00 00    	ld	a,(_sprite)
2500  0B0C  C6 00       	add	a,+((_tile) & 0xFF)
2501  0B0E  4F          	ld	c,a
2502  0B0F  3E 00       	ld	a,+((_tile) / 256)
2503  0B11  CE 00       	adc	a,0x00
2504  0B13  47          	ld	b,a
2505  0B14  3A 00 00    	ld	a,(_tile_offset)
2506  0B17  5F          	ld	e,a
2507  0B18  16 00       	ld	d,0x00
2508  0B1A  21 07 00    	ld	hl,0x0007
2509  0B1D  19          	add	hl,de
2510  0B1E  EB          	ex	de,hl
2511  0B1F  2A 00 00    	ld	hl,(_sprite)
2512  0B22  C5          	push	bc
2513  0B23  26 0C       	ld	h,0x0c
2514  0B25  E5          	push	hl
2515  0B26  D5          	push	de
2516  0B27  CD 00 00    	call	_spr_tile_dir
2517  0B2A  F1          	pop	af
2518  0B2B  F1          	pop	af
2519  0B2C  C1          	pop	bc
2520  0B2D  7D          	ld	a, l
2521  0B2E  02          	ld	(bc),a
2522  0B2F  3A 00 00    	ld	a,(_sprite)
2523  0B32  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2524  0B34  4F          	ld	c,a
2525  0B35  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2526  0B37  CE 00       	adc	a,0x00
2527  0B39  47          	ld	b,a
2528  0B3A  3E 01       	ld	a,0x01
2529  0B3C  02          	ld	(bc),a
2530  0B3D  21 00 00    	ld	hl,0x0000
2531  0B40  C3 80 0C    	jp	l_player_move_input_00144
2532  0B43              l_player_move_input_00116:
2533  0B43  CD 00 00    	call	_ay_is_playing
2534  0B46  7D          	ld	a,l
2535  0B47  B7          	or	a, a
2536  0B48  20 0C       	jr	NZ,l_player_move_input_00119
2537  0B4A  3A 00 00    	ld	a,(_game_bonus)
2538  0B4D  B7          	or	a, a
2539  0B4E  20 06       	jr	NZ,l_player_move_input_00119
2540  0B50  21 00 00    	ld	hl,_ay_effect_20
2541  0B53  CD 00 00    	call	_ay_fx_play
2542  0B56              l_player_move_input_00119:
2543  0B56  3A 00 00    	ld	a,(_sprite)
2544  0B59  C6 00       	add	a,+((_state_a) & 0xFF)
2545  0B5B  4F          	ld	c,a
2546  0B5C  3E 00       	ld	a,+((_state_a) / 256)
2547  0B5E  CE 00       	adc	a,0x00
2548  0B60  47          	ld	b,a
2549  0B61  0A          	ld	a,(bc)
2550  0B62  CB 6F       	bit	5, a
2551  0B64  20 06       	jr	NZ,l_player_move_input_00124
2552  0B66  CD 81 0C    	call	_player_move_horizontal
2553  0B69  C3 7D 0C    	jp	l_player_move_input_00141
2554  0B6C              l_player_move_input_00124:
2555  0B6C  01 00 00    	ld	bc,_colint+0
2556  0B6F  79          	ld	a,c
2557  0B70  21 00 00    	ld	hl,_sprite
2558  0B73  86          	add	a, (hl)
2559  0B74  5F          	ld	e,a
2560  0B75  78          	ld	a,b
2561  0B76  CE 00       	adc	a,0x00
2562  0B78  57          	ld	d,a
2563  0B79  1A          	ld	a,(de)
2564  0B7A  3C          	inc	a
2565  0B7B  12          	ld	(de),a
2566  0B7C  79          	ld	a,c
2567  0B7D  86          	add	a, (hl)
2568  0B7E  4F          	ld	c,a
2569  0B7F  78          	ld	a,b
2570  0B80  CE 00       	adc	a,0x00
2571  0B82  47          	ld	b,a
2572  0B83  0A          	ld	a,(bc)
2573  0B84  D6 02       	sub	a,0x02
2574  0B86  C2 7D 0C    	jp	NZ,l_player_move_input_00141
2575  0B89  AF          	xor	a, a
2576  0B8A  02          	ld	(bc),a
2577  0B8B  C3 7D 0C    	jp	l_player_move_input_00141
2578  0B8E              l_player_move_input_00140:
2579  0B8E  3A 00 00    	ld	a,(_sprite)
2580  0B91  C6 00       	add	a,+((_state_a) & 0xFF)
2581  0B93  4F          	ld	c,a
2582  0B94  3E 00       	ld	a,+((_state_a) / 256)
2583  0B96  CE 00       	adc	a,0x00
2584  0B98  47          	ld	b,a
2585  0B99  0A          	ld	a,(bc)
2586  0B9A  E6 FE       	and	a,0xfe
2587  0B9C  02          	ld	(bc),a
2588  0B9D  3A 00 00    	ld	a,(_s_state)
2589  0BA0  E6 10       	and	a,0x10
2590  0BA2  C2 7D 0C    	jp	NZ,l_player_move_input_00141
2591  0BA5  3A 00 00    	ld	a,(_s_state)
2592  0BA8  0F          	rrca
2593  0BA9  DA 7D 0C    	jp	C,l_player_move_input_00141
2594  0BAC  3A 00 00    	ld	a,(_s_state)
2595  0BAF  E6 02       	and	a,0x02
2596  0BB1  C2 7D 0C    	jp	NZ,l_player_move_input_00141
2597  0BB4  3A 00 00    	ld	a,(_index_player)
2598  0BB7  C6 00       	add	a,+((_sliding) & 0xFF)
2599  0BB9  4F          	ld	c,a
2600  0BBA  3E 00       	ld	a,+((_sliding) / 256)
2601  0BBC  CE 00       	adc	a,0x00
2602  0BBE  47          	ld	b,a
2603  0BBF  0A          	ld	a,(bc)
2604  0BC0  B7          	or	a, a
2605  0BC1  CA 7D 0C    	jp	Z,l_player_move_input_00141
2606  0BC4  CD 00 00    	call	_ay_is_playing
2607  0BC7  7D          	ld	a,l
2608  0BC8  D6 03       	sub	a,0x03
2609  0BCA  28 06       	jr	Z,l_player_move_input_00130
2610  0BCC  21 00 00    	ld	hl,_ay_effect_01
2611  0BCF  CD 00 00    	call	_ay_fx_play
2612  0BD2              l_player_move_input_00130:
2613  0BD2  CD 00 00    	call	_sound_slide
2614  0BD5  CD 81 0C    	call	_player_move_horizontal
2615  0BD8  3A 00 00    	ld	a,(_index_player)
2616  0BDB  C6 00       	add	a,+((_sliding) & 0xFF)
2617  0BDD  4F          	ld	c,a
2618  0BDE  3E 00       	ld	a,+((_sliding) / 256)
2619  0BE0  CE 00       	adc	a,0x00
2620  0BE2  47          	ld	b,a
2621  0BE3  0A          	ld	a,(bc)
2622  0BE4  C6 FF       	add	a,0xff
2623  0BE6  02          	ld	(bc),a
2624  0BE7  3A 00 00    	ld	a,(_sprite)
2625  0BEA  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2626  0BEC  4F          	ld	c,a
2627  0BED  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2628  0BEF  CE 00       	adc	a,0x00
2629  0BF1  47          	ld	b,a
2630  0BF2  AF          	xor	a, a
2631  0BF3  02          	ld	(bc),a
2632  0BF4  3A 00 00    	ld	a,(_index_player)
2633  0BF7  C6 00       	add	a,+((_sliding) & 0xFF)
2634  0BF9  4F          	ld	c,a
2635  0BFA  3E 00       	ld	a,+((_sliding) / 256)
2636  0BFC  CE 00       	adc	a,0x00
2637  0BFE  47          	ld	b,a
2638  0BFF  0A          	ld	a,(bc)
2639  0C00  B7          	or	a, a
2640  0C01  20 55       	jr	NZ,l_player_move_input_00132
2641  0C03  3E 00       	ld	a,+((_state_a) & 0xFF)
2642  0C05  21 00 00    	ld	hl,_sprite
2643  0C08  86          	add	a, (hl)
2644  0C09  4F          	ld	c,a
2645  0C0A  3E 00       	ld	a,+((_state_a) / 256)
2646  0C0C  CE 00       	adc	a,0x00
2647  0C0E  47          	ld	b,a
2648  0C0F  0A          	ld	a,(bc)
2649  0C10  CB EF       	set	5, a
2650  0C12  02          	ld	(bc),a
2651  0C13  6E          	ld	l, (hl)
2652  0C14  26 00       	ld	h,0x00
2653  0C16  29          	add	hl, hl
2654  0C17  11 00 00    	ld	de,_spr_timer
2655  0C1A  19          	add	hl,de
2656  0C1B  AF          	xor	a, a
2657  0C1C  77          	ld	(hl), a
2658  0C1D  23          	inc	hl
2659  0C1E  77          	ld	(hl), a
2660  0C1F  3E 00       	ld	a,+((_colint) & 0xFF)
2661  0C21  21 00 00    	ld	hl,_sprite
2662  0C24  86          	add	a, (hl)
2663  0C25  4F          	ld	c,a
2664  0C26  3E 00       	ld	a,+((_colint) / 256)
2665  0C28  CE 00       	adc	a,0x00
2666  0C2A  47          	ld	b,a
2667  0C2B  AF          	xor	a, a
2668  0C2C  02          	ld	(bc),a
2669  0C2D  3E 00       	ld	a,+((_tile) & 0xFF)
2670  0C2F  86          	add	a, (hl)
2671  0C30  4F          	ld	c,a
2672  0C31  3E 00       	ld	a,+((_tile) / 256)
2673  0C33  CE 00       	adc	a,0x00
2674  0C35  47          	ld	b,a
2675  0C36  3A 00 00    	ld	a,(_tile_offset)
2676  0C39  5F          	ld	e,a
2677  0C3A  16 00       	ld	d,0x00
2678  0C3C  13          	inc	de
2679  0C3D  13          	inc	de
2680  0C3E  13          	inc	de
2681  0C3F  2A 00 00    	ld	hl,(_sprite)
2682  0C42  C5          	push	bc
2683  0C43  26 0C       	ld	h,0x0c
2684  0C45  E5          	push	hl
2685  0C46  D5          	push	de
2686  0C47  CD 00 00    	call	_spr_tile_dir
2687  0C4A  F1          	pop	af
2688  0C4B  F1          	pop	af
2689  0C4C  C1          	pop	bc
2690  0C4D  7D          	ld	a, l
2691  0C4E  02          	ld	(bc),a
2692  0C4F  21 00 00    	ld	hl,_s_state
2693  0C52  CB 96       	res	2, (hl)
2694  0C54  CB 9E       	res	3, (hl)
2695  0C56  18 25       	jr	l_player_move_input_00141
2696  0C58              l_player_move_input_00132:
2697  0C58  3A 00 00    	ld	a,(_sprite)
2698  0C5B  C6 00       	add	a,+((_tile) & 0xFF)
2699  0C5D  4F          	ld	c,a
2700  0C5E  3E 00       	ld	a,+((_tile) / 256)
2701  0C60  CE 00       	adc	a,0x00
2702  0C62  47          	ld	b,a
2703  0C63  3A 00 00    	ld	a,(_tile_offset)
2704  0C66  5F          	ld	e,a
2705  0C67  16 00       	ld	d,0x00
2706  0C69  13          	inc	de
2707  0C6A  13          	inc	de
2708  0C6B  13          	inc	de
2709  0C6C  13          	inc	de
2710  0C6D  2A 00 00    	ld	hl,(_sprite)
2711  0C70  C5          	push	bc
2712  0C71  26 0C       	ld	h,0x0c
2713  0C73  E5          	push	hl
2714  0C74  D5          	push	de
2715  0C75  CD 00 00    	call	_spr_tile_dir
2716  0C78  F1          	pop	af
2717  0C79  F1          	pop	af
2718  0C7A  C1          	pop	bc
2719  0C7B  7D          	ld	a, l
2720  0C7C  02          	ld	(bc),a
2721  0C7D              l_player_move_input_00141:
2722  0C7D  21 00 00    	ld	hl,0x0000
2723  0C80              l_player_move_input_00144:
2724  0C80  C9          	ret
2725  0C81              ;	---------------------------------
2726  0C81              ; Function player_move_horizontal
2727  0C81              ; ---------------------------------
2728  0C81              _player_move_horizontal:
2729  0C81  CD 91 0C    	call	_player_push_check
2730  0C84  7D          	ld	a,l
2731  0C85  B7          	or	a, a
2732  0C86  28 05       	jr	Z,l_player_move_horizontal_00102
2733  0C88  CD 03 0D    	call	_player_push
2734  0C8B  18 03       	jr	l_player_move_horizontal_00104
2735  0C8D              l_player_move_horizontal_00102:
2736  0C8D  CD 00 00    	call	_spr_move_horizontal
2737  0C90              l_player_move_horizontal_00104:
2738  0C90  C9          	ret
2739  0C91              ;	---------------------------------
2740  0C91              ; Function player_push_check
2741  0C91              ; ---------------------------------
2742  0C91              _player_push_check:
2743  0C91  2A 00 00    	ld	hl,(_sprite_other_player)
2744  0C94  26 00       	ld	h,0x00
2745  0C96  01 00 00    	ld	bc,_lin
2746  0C99  09          	add	hl,bc
2747  0C9A  7E          	ld	a,(hl)
2748  0C9B  4F          	ld	c,a
2749  0C9C  B7          	or	a,a
2750  0C9D  20 03       	jr	NZ,l_player_push_check_00102
2751  0C9F  6F          	ld	l,a
2752  0CA0  18 60       	jr	l_player_push_check_00111
2753  0CA2              l_player_push_check_00102:
2754  0CA2  2A 00 00    	ld	hl,(_sprite)
2755  0CA5  26 00       	ld	h,0x00
2756  0CA7  11 00 00    	ld	de,_lin
2757  0CAA  19          	add	hl,de
2758  0CAB  7E          	ld	a,(hl)
2759  0CAC  EB          	ex	de,hl
2760  0CAD  47          	ld	b,a
2761  0CAE  79          	ld	a,c
2762  0CAF  90          	sub	a, b
2763  0CB0  28 04       	jr	Z,l_player_push_check_00104
2764  0CB2  2E 00       	ld	l,0x00
2765  0CB4  18 4C       	jr	l_player_push_check_00111
2766  0CB6              l_player_push_check_00104:
2767  0CB6  01 00 00    	ld	bc,_col+0
2768  0CB9  2A 00 00    	ld	hl,(_sprite)
2769  0CBC  26 00       	ld	h,0x00
2770  0CBE  09          	add	hl,bc
2771  0CBF  6E          	ld	l, (hl)
2772  0CC0  EB          	ex	de,hl
2773  0CC1  2A 00 00    	ld	hl,(_sprite_other_player)
2774  0CC4  26 00       	ld	h,0x00
2775  0CC6  09          	add	hl,bc
2776  0CC7  4E          	ld	c, (hl)
2777  0CC8  7B          	ld	a,e
2778  0CC9  91          	sub	a, c
2779  0CCA  32 00 00    	ld	(_tmp_sc),a
2780  0CCD  D6 FE       	sub	a,0xfe
2781  0CCF  20 14       	jr	NZ,l_player_push_check_00106
2782  0CD1  3A 00 00    	ld	a,(_sprite)
2783  0CD4  C6 00       	add	a,+((_state) & 0xFF)
2784  0CD6  4F          	ld	c,a
2785  0CD7  3E 00       	ld	a,+((_state) / 256)
2786  0CD9  CE 00       	adc	a,0x00
2787  0CDB  47          	ld	b,a
2788  0CDC  0A          	ld	a,(bc)
2789  0CDD  CB 57       	bit	2, a
2790  0CDF  28 04       	jr	Z,l_player_push_check_00106
2791  0CE1  2E 01       	ld	l,0x01
2792  0CE3  18 1D       	jr	l_player_push_check_00111
2793  0CE5              l_player_push_check_00106:
2794  0CE5  3A 00 00    	ld	a,(_tmp_sc)
2795  0CE8  D6 02       	sub	a,0x02
2796  0CEA  20 14       	jr	NZ,l_player_push_check_00109
2797  0CEC  3A 00 00    	ld	a,(_sprite)
2798  0CEF  C6 00       	add	a,+((_state) & 0xFF)
2799  0CF1  4F          	ld	c,a
2800  0CF2  3E 00       	ld	a,+((_state) / 256)
2801  0CF4  CE 00       	adc	a,0x00
2802  0CF6  47          	ld	b,a
2803  0CF7  0A          	ld	a,(bc)
2804  0CF8  CB 5F       	bit	3, a
2805  0CFA  28 04       	jr	Z,l_player_push_check_00109
2806  0CFC  2E 01       	ld	l,0x01
2807  0CFE  18 02       	jr	l_player_push_check_00111
2808  0D00              l_player_push_check_00109:
2809  0D00  2E 00       	ld	l,0x00
2810  0D02              l_player_push_check_00111:
2811  0D02  C9          	ret
2812  0D03              ;	---------------------------------
2813  0D03              ; Function player_push
2814  0D03              ; ---------------------------------
2815  0D03              _player_push:
2816  0D03  3A 00 00    	ld	a,(_sprite)
2817  0D06  32 00 00    	ld	(_tmp),a
2818  0D09  3A 00 00    	ld	a,(_s_col0)
2819  0D0C  32 00 00    	ld	(_tmp0),a
2820  0D0F  3A 00 00    	ld	a,(_sprite_other_player)
2821  0D12  C6 00       	add	a,+((_lin) & 0xFF)
2822  0D14  4F          	ld	c,a
2823  0D15  3E 00       	ld	a,+((_lin) / 256)
2824  0D17  CE 00       	adc	a,0x00
2825  0D19  47          	ld	b,a
2826  0D1A  0A          	ld	a,(bc)
2827  0D1B  32 00 00    	ld	(_s_lin0),a
2828  0D1E  3A 00 00    	ld	a,(_sprite_other_player)
2829  0D21  C6 00       	add	a,+((_col) & 0xFF)
2830  0D23  4F          	ld	c,a
2831  0D24  3E 00       	ld	a,+((_col) / 256)
2832  0D26  CE 00       	adc	a,0x00
2833  0D28  47          	ld	b,a
2834  0D29  0A          	ld	a,(bc)
2835  0D2A  32 00 00    	ld	(_s_col0),a
2836  0D2D  01 00 00    	ld	bc,_spr_timer+0
2837  0D30  2A 00 00    	ld	hl,(_sprite_other_player)
2838  0D33  26 00       	ld	h,0x00
2839  0D35  29          	add	hl, hl
2840  0D36  09          	add	hl,bc
2841  0D37  ED 5B 00 00 	ld	de,(_curr_time)
2842  0D3B  73          	ld	(hl),e
2843  0D3C  23          	inc	hl
2844  0D3D  72          	ld	(hl),d
2845  0D3E  3E 00       	ld	a,+((_state_a) & 0xFF)
2846  0D40  21 00 00    	ld	hl,_sprite_other_player
2847  0D43  86          	add	a, (hl)
2848  0D44  4F          	ld	c,a
2849  0D45  3E 00       	ld	a,+((_state_a) / 256)
2850  0D47  CE 00       	adc	a,0x00
2851  0D49  47          	ld	b,a
2852  0D4A  0A          	ld	a,(bc)
2853  0D4B  CB D7       	set	2, a
2854  0D4D  02          	ld	(bc),a
2855  0D4E  7E          	ld	a,(hl)
2856  0D4F  32 00 00    	ld	(_sprite),a
2857  0D52  3A 00 00    	ld	a,(_tmp)
2858  0D55  C6 00       	add	a,+((_state) & 0xFF)
2859  0D57  4F          	ld	c,a
2860  0D58  3E 00       	ld	a,+((_state) / 256)
2861  0D5A  CE 00       	adc	a,0x00
2862  0D5C  47          	ld	b,a
2863  0D5D  0A          	ld	a,(bc)
2864  0D5E  CB 57       	bit	2, a
2865  0D60  28 05       	jr	Z,l_player_push_00102
2866  0D62  CD 00 00    	call	_spr_move_right
2867  0D65  18 03       	jr	l_player_push_00103
2868  0D67              l_player_push_00102:
2869  0D67  CD 00 00    	call	_spr_move_left
2870  0D6A              l_player_push_00103:
2871  0D6A  CD 00 00    	call	_spr_redraw
2872  0D6D  3A 00 00    	ld	a,(_tmp)
2873  0D70  32 00 00    	ld	(_sprite),a
2874  0D73  C6 00       	add	a,+((_lin) & 0xFF)
2875  0D75  4F          	ld	c,a
2876  0D76  3E 00       	ld	a,+((_lin) / 256)
2877  0D78  CE 00       	adc	a,0x00
2878  0D7A  47          	ld	b,a
2879  0D7B  0A          	ld	a,(bc)
2880  0D7C  32 00 00    	ld	(_s_lin0),a
2881  0D7F  3A 00 00    	ld	a,(_tmp0)
2882  0D82  32 00 00    	ld	(_s_col0),a
2883  0D85  C9          	ret
2884  0D86              ;	---------------------------------
2885  0D86              ; Function player_hit_slipice
2886  0D86              ; ---------------------------------
2887  0D86              _player_hit_slipice:
2888  0D86  CD 00 00    	call	___sdcc_enter_ix
2889  0D89  21 32 00    	ld	hl,0x0032
2890  0D8C  E5          	push	hl
2891  0D8D  CD EC 10    	call	_player_score_add
2892  0D90  F1          	pop	af
2893  0D91  CD 00 00    	call	_sound_coin
2894  0D94  3E 00       	ld	a,+((_state) & 0xFF)
2895  0D96  DD 86 04    	add	a,(ix+4)
2896  0D99  4F          	ld	c,a
2897  0D9A  3E 00       	ld	a,+((_state) / 256)
2898  0D9C  CE 00       	adc	a,0x00
2899  0D9E  47          	ld	b,a
2900  0D9F  0A          	ld	a,(bc)
2901  0DA0  CB EF       	set	5, a
2902  0DA2  02          	ld	(bc),a
2903  0DA3  01 00 00    	ld	bc,_spr_timer+0
2904  0DA6  DD 6E 04    	ld	l,(ix+4)
2905  0DA9  26 00       	ld	h,0x00
2906  0DAB  29          	add	hl, hl
2907  0DAC  09          	add	hl,bc
2908  0DAD  ED 5B 00 00 	ld	de,(_curr_time)
2909  0DB1  73          	ld	(hl),e
2910  0DB2  23          	inc	hl
2911  0DB3  72          	ld	(hl),d
2912  0DB4  DD E1       	pop	ix
2913  0DB6  C9          	ret
2914  0DB7              ;	---------------------------------
2915  0DB7              ; Function player_hit_brick
2916  0DB7              ; ---------------------------------
2917  0DB7              _player_hit_brick:
2918  0DB7  3A 00 00    	ld	a,(_index_player)
2919  0DBA  C6 00       	add	a,+((_hit_lin) & 0xFF)
2920  0DBC  4F          	ld	c,a
2921  0DBD  3E 00       	ld	a,+((_hit_lin) / 256)
2922  0DBF  CE 00       	adc	a,0x00
2923  0DC1  47          	ld	b,a
2924  0DC2  0A          	ld	a,(bc)
2925  0DC3  B7          	or	a, a
2926  0DC4  C2 9F 0F    	jp	NZ,l_player_hit_brick_00112
2927  0DC7  3A 00 00    	ld	a,(_sprite)
2928  0DCA  C6 00       	add	a,+((_lin) & 0xFF)
2929  0DCC  4F          	ld	c,a
2930  0DCD  3E 00       	ld	a,+((_lin) / 256)
2931  0DCF  CE 00       	adc	a,0x00
2932  0DD1  47          	ld	b,a
2933  0DD2  0A          	ld	a,(bc)
2934  0DD3  5F          	ld	e,a
2935  0DD4  3E 10       	ld	a,0x10
2936  0DD6  93          	sub	a, e
2937  0DD7  D2 9F 0F    	jp	NC,l_player_hit_brick_00112
2938  0DDA  11 00 00    	ld	de,_lvl_1
2939  0DDD  2A 00 00    	ld	hl,(_index1)
2940  0DE0  19          	add	hl,de
2941  0DE1  7E          	ld	a,(hl)
2942  0DE2  D6 12       	sub	a,0x12
2943  0DE4  30 0D       	jr	NC,l_player_hit_brick_00111
2944  0DE6  11 00 00    	ld	de,_lvl_1
2945  0DE9  2A 00 00    	ld	hl,(_index2)
2946  0DEC  19          	add	hl,de
2947  0DED  7E          	ld	a,(hl)
2948  0DEE  D6 12       	sub	a,0x12
2949  0DF0  DA 9F 0F    	jp	C,l_player_hit_brick_00112
2950  0DF3              l_player_hit_brick_00111:
2951  0DF3  21 00 00    	ld	hl,_enemies
2952  0DF6  36 00       	ld	(hl),0x00
2953  0DF8              l_player_hit_brick_00116:
2954  0DF8  2A 00 00    	ld	hl,(_enemies)
2955  0DFB  26 00       	ld	h,0x00
2956  0DFD  11 00 00    	ld	de,_class
2957  0E00  19          	add	hl,de
2958  0E01  7E          	ld	a,(hl)
2959  0E02  B7          	or	a,a
2960  0E03  28 5F       	jr	Z,l_player_hit_brick_00117
2961  0E05  0A          	ld	a,(bc)
2962  0E06  4F          	ld	c,a
2963  0E07  06 00       	ld	b,0x00
2964  0E09  2A 00 00    	ld	hl,(_enemies)
2965  0E0C  60          	ld	h,b
2966  0E0D  11 00 00    	ld	de,_lin
2967  0E10  19          	add	hl,de
2968  0E11  5E          	ld	e, (hl)
2969  0E12  16 00       	ld	d,0x00
2970  0E14  79          	ld	a,c
2971  0E15  93          	sub	a,e
2972  0E16  4F          	ld	c,a
2973  0E17  78          	ld	a,b
2974  0E18  9A          	sbc	a,d
2975  0E19  47          	ld	b,a
2976  0E1A  79          	ld	a,c
2977  0E1B  D6 18       	sub	a,0x18
2978  0E1D  20 45       	jr	NZ,l_player_hit_brick_00117
2979  0E1F  B0          	or	a,b
2980  0E20  20 42       	jr	NZ,l_player_hit_brick_00117
2981  0E22  3A 00 00    	ld	a,(_enemies)
2982  0E25  4F          	ld	c,a
2983  0E26  06 00       	ld	b,0x00
2984  0E28  21 00 00    	ld	hl,_state
2985  0E2B  09          	add	hl,bc
2986  0E2C  CB 6E       	bit	5,(hl)
2987  0E2E  20 34       	jr	NZ,l_player_hit_brick_00117
2988  0E30  2A 00 00    	ld	hl,(_sprite)
2989  0E33  26 00       	ld	h,0x00
2990  0E35  01 00 00    	ld	bc,_col
2991  0E38  09          	add	hl,bc
2992  0E39  4E          	ld	c,(hl)
2993  0E3A  06 00       	ld	b,0x00
2994  0E3C  2A 00 00    	ld	hl,(_enemies)
2995  0E3F  60          	ld	h,b
2996  0E40  11 00 00    	ld	de,_col
2997  0E43  19          	add	hl,de
2998  0E44  5E          	ld	e, (hl)
2999  0E45  16 00       	ld	d,0x00
3000  0E47  79          	ld	a,c
3001  0E48  93          	sub	a, e
3002  0E49  6F          	ld	l,a
3003  0E4A  78          	ld	a,b
3004  0E4B  9A          	sbc	a, d
3005  0E4C  67          	ld	h,a
3006  0E4D  CD 00 00    	call	_abs_fastcall
3007  0E50  3E 02       	ld	a,0x02
3008  0E52  BD          	cp	a,l
3009  0E53  3E 00       	ld	a,0x00
3010  0E55  9C          	sbc	a,h
3011  0E56  E2 5B 0E    	jp	PO, l_player_hit_brick_00172
3012  0E59  EE 80       	xor	a,0x80
3013  0E5B              l_player_hit_brick_00172:
3014  0E5B  FA 64 0E    	jp	M,l_player_hit_brick_00117
3015  0E5E  CD 00 00    	call	_enemy_hit
3016  0E61  CD 00 00    	call	_sound_hit_enemy
3017  0E64              l_player_hit_brick_00117:
3018  0E64  21 00 00    	ld	hl,_enemies
3019  0E67  34          	inc	(hl)
3020  0E68  3A 00 00    	ld	a,(_sprite)
3021  0E6B  C6 00       	add	a,+((_lin) & 0xFF)
3022  0E6D  4F          	ld	c,a
3023  0E6E  3E 00       	ld	a,+((_lin) / 256)
3024  0E70  CE 00       	adc	a,0x00
3025  0E72  47          	ld	b,a
3026  0E73  3A 00 00    	ld	a,(_enemies)
3027  0E76  D6 06       	sub	a,0x06
3028  0E78  DA F8 0D    	jp	C,l_player_hit_brick_00116
3029  0E7B  2A 00 00    	ld	hl,(_sprite_other_player)
3030  0E7E  26 00       	ld	h,0x00
3031  0E80  11 00 00    	ld	de,_lin
3032  0E83  19          	add	hl,de
3033  0E84  7E          	ld	a,(hl)
3034  0E85  5F          	ld	e,a
3035  0E86  B7          	or	a, a
3036  0E87  CA 53 0F    	jp	Z,l_player_hit_brick_00108
3037  0E8A  0A          	ld	a,(bc)
3038  0E8B  6F          	ld	l,a
3039  0E8C  AF          	xor	a,a
3040  0E8D  67          	ld	h,a
3041  0E8E  57          	ld	d,a
3042  0E8F  ED 52       	sbc	hl,de
3043  0E91  7D          	ld	a,l
3044  0E92  D6 18       	sub	a,0x18
3045  0E94  C2 53 0F    	jp	NZ,l_player_hit_brick_00108
3046  0E97  B4          	or	a,h
3047  0E98  C2 53 0F    	jp	NZ,l_player_hit_brick_00108
3048  0E9B  2A 00 00    	ld	hl,(_sprite)
3049  0E9E  26 00       	ld	h,0x00
3050  0EA0  01 00 00    	ld	bc,_col
3051  0EA3  09          	add	hl,bc
3052  0EA4  4E          	ld	c,(hl)
3053  0EA5  06 00       	ld	b,0x00
3054  0EA7  2A 00 00    	ld	hl,(_sprite_other_player)
3055  0EAA  60          	ld	h,b
3056  0EAB  11 00 00    	ld	de,_col
3057  0EAE  19          	add	hl,de
3058  0EAF  5E          	ld	e, (hl)
3059  0EB0  16 00       	ld	d,0x00
3060  0EB2  79          	ld	a,c
3061  0EB3  93          	sub	a, e
3062  0EB4  6F          	ld	l,a
3063  0EB5  78          	ld	a,b
3064  0EB6  9A          	sbc	a, d
3065  0EB7  67          	ld	h,a
3066  0EB8  CD 00 00    	call	_abs_fastcall
3067  0EBB  3E 02       	ld	a,0x02
3068  0EBD  BD          	cp	a,l
3069  0EBE  3E 00       	ld	a,0x00
3070  0EC0  9C          	sbc	a,h
3071  0EC1  E2 C6 0E    	jp	PO, l_player_hit_brick_00175
3072  0EC4  EE 80       	xor	a,0x80
3073  0EC6              l_player_hit_brick_00175:
3074  0EC6  FA 53 0F    	jp	M,l_player_hit_brick_00108
3075  0EC9  3E 00       	ld	a,+((_col) & 0xFF)
3076  0ECB  21 00 00    	ld	hl,_sprite_other_player
3077  0ECE  86          	add	a, (hl)
3078  0ECF  4F          	ld	c,a
3079  0ED0  3E 00       	ld	a,+((_col) / 256)
3080  0ED2  CE 00       	adc	a,0x00
3081  0ED4  47          	ld	b,a
3082  0ED5  0A          	ld	a,(bc)
3083  0ED6  57          	ld	d,a
3084  0ED7  4E          	ld	c,(hl)
3085  0ED8  06 00       	ld	b,0x00
3086  0EDA  21 00 00    	ld	hl,_lin
3087  0EDD  09          	add	hl,bc
3088  0EDE  5E          	ld	e, (hl)
3089  0EDF  D5          	push	de
3090  0EE0  AF          	xor	a, a
3091  0EE1  F5          	push	af
3092  0EE2  33          	inc	sp
3093  0EE3  CD 00 00    	call	_NIRVANAP_fillT_callee
3094  0EE6  2A 00 00    	ld	hl,(_sprite_other_player)
3095  0EE9  26 00       	ld	h,0x00
3096  0EEB  01 00 00    	ld	bc,_lin
3097  0EEE  09          	add	hl,bc
3098  0EEF  7E          	ld	a,(hl)
3099  0EF0  C6 FC       	add	a,0xfc
3100  0EF2  77          	ld	(hl),a
3101  0EF3  3E 00       	ld	a,+((_col) & 0xFF)
3102  0EF5  21 00 00    	ld	hl,_sprite_other_player
3103  0EF8  86          	add	a, (hl)
3104  0EF9  4F          	ld	c,a
3105  0EFA  3E 00       	ld	a,+((_col) / 256)
3106  0EFC  CE 00       	adc	a,0x00
3107  0EFE  47          	ld	b,a
3108  0EFF  0A          	ld	a,(bc)
3109  0F00  57          	ld	d,a
3110  0F01  3E 00       	ld	a,+((_lin) & 0xFF)
3111  0F03  86          	add	a, (hl)
3112  0F04  4F          	ld	c,a
3113  0F05  3E 00       	ld	a,+((_lin) / 256)
3114  0F07  CE 00       	adc	a,0x00
3115  0F09  47          	ld	b,a
3116  0F0A  0A          	ld	a,(bc)
3117  0F0B  5F          	ld	e,a
3118  0F0C  3E 00       	ld	a,+((_tile) & 0xFF)
3119  0F0E  86          	add	a, (hl)
3120  0F0F  4F          	ld	c,a
3121  0F10  3E 00       	ld	a,+((_tile) / 256)
3122  0F12  CE 00       	adc	a,0x00
3123  0F14  47          	ld	b,a
3124  0F15  0A          	ld	a,(bc)
3125  0F16  47          	ld	b,a
3126  0F17  D5          	push	de
3127  0F18  C5          	push	bc
3128  0F19  33          	inc	sp
3129  0F1A  7E          	ld	a,(hl)
3130  0F1B  F5          	push	af
3131  0F1C  33          	inc	sp
3132  0F1D  CD 00 00    	call	_NIRVANAP_spriteT_callee
3133  0F20  76          	halt
3134  0F21  2A 00 00    	ld	hl,(_sprite_other_player)
3135  0F24  26 00       	ld	h,0x00
3136  0F26  01 00 00    	ld	bc,_state
3137  0F29  09          	add	hl,bc
3138  0F2A  7E          	ld	a,(hl)
3139  0F2B  E6 FD       	and	a,0xfd
3140  0F2D  77          	ld	(hl),a
3141  0F2E  3E 00       	ld	a,+((_state) & 0xFF)
3142  0F30  21 00 00    	ld	hl,_sprite_other_player
3143  0F33  86          	add	a, (hl)
3144  0F34  4F          	ld	c,a
3145  0F35  3E 00       	ld	a,+((_state) / 256)
3146  0F37  CE 00       	adc	a,0x00
3147  0F39  47          	ld	b,a
3148  0F3A  0A          	ld	a,(bc)
3149  0F3B  CB C7       	set	0, a
3150  0F3D  02          	ld	(bc),a
3151  0F3E  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3152  0F40  86          	add	a, (hl)
3153  0F41  4F          	ld	c,a
3154  0F42  3E 00       	ld	a,+((_jump_lin) / 256)
3155  0F44  CE 00       	adc	a,0x00
3156  0F46  47          	ld	b,a
3157  0F47  5E          	ld	e,(hl)
3158  0F48  16 00       	ld	d,0x00
3159  0F4A  21 00 00    	ld	hl,_lin
3160  0F4D  19          	add	hl,de
3161  0F4E  7E          	ld	a,(hl)
3162  0F4F  C6 14       	add	a,0x14
3163  0F51  02          	ld	(bc),a
3164  0F52  76          	halt
3165  0F53              l_player_hit_brick_00108:
3166  0F53  01 00 00    	ld	bc,_spr_timer+0
3167  0F56  2A 00 00    	ld	hl,(_sprite)
3168  0F59  26 00       	ld	h,0x00
3169  0F5B  29          	add	hl, hl
3170  0F5C  09          	add	hl,bc
3171  0F5D  ED 5B 00 00 	ld	de,(_curr_time)
3172  0F61  73          	ld	(hl),e
3173  0F62  23          	inc	hl
3174  0F63  72          	ld	(hl),d
3175  0F64  3A 00 00    	ld	a,(_index_player)
3176  0F67  C6 00       	add	a,+((_hit_lin) & 0xFF)
3177  0F69  4F          	ld	c,a
3178  0F6A  3E 00       	ld	a,+((_hit_lin) / 256)
3179  0F6C  CE 00       	adc	a,0x00
3180  0F6E  47          	ld	b,a
3181  0F6F  2A 00 00    	ld	hl,(_sprite)
3182  0F72  26 00       	ld	h,0x00
3183  0F74  11 00 00    	ld	de,_lin
3184  0F77  19          	add	hl,de
3185  0F78  7E          	ld	a,(hl)
3186  0F79  02          	ld	(bc),a
3187  0F7A  3A 00 00    	ld	a,(_index_player)
3188  0F7D  C6 00       	add	a,+((_hit_col) & 0xFF)
3189  0F7F  4F          	ld	c,a
3190  0F80  3E 00       	ld	a,+((_hit_col) / 256)
3191  0F82  CE 00       	adc	a,0x00
3192  0F84  47          	ld	b,a
3193  0F85  2A 00 00    	ld	hl,(_sprite)
3194  0F88  26 00       	ld	h,0x00
3195  0F8A  11 00 00    	ld	de,_col
3196  0F8D  19          	add	hl,de
3197  0F8E  7E          	ld	a,(hl)
3198  0F8F  02          	ld	(bc),a
3199  0F90  3E 01       	ld	a,0x01
3200  0F92  F5          	push	af
3201  0F93  33          	inc	sp
3202  0F94  CD 00 00    	call	_spr_brick_anim
3203  0F97  33          	inc	sp
3204  0F98  CD 00 00    	call	_sound_hit_brick
3205  0F9B  2E 01       	ld	l,0x01
3206  0F9D  18 02       	jr	l_player_hit_brick_00118
3207  0F9F              l_player_hit_brick_00112:
3208  0F9F  2E 00       	ld	l,0x00
3209  0FA1              l_player_hit_brick_00118:
3210  0FA1  C9          	ret
3211  0FA2              ;	---------------------------------
3212  0FA2              ; Function player_hit_brick_clear
3213  0FA2              ; ---------------------------------
3214  0FA2              _player_hit_brick_clear:
3215  0FA2  2A 00 00    	ld	hl,(_index_player)
3216  0FA5  26 00       	ld	h,0x00
3217  0FA7  01 00 00    	ld	bc,_hit_lin
3218  0FAA  09          	add	hl,bc
3219  0FAB  7E          	ld	a,(hl)
3220  0FAC  4F          	ld	c,a
3221  0FAD  B7          	or	a,a
3222  0FAE  C8          	ret	Z
3223  0FAF  3A 00 00    	ld	a,(_index_player)
3224  0FB2  5F          	ld	e,a
3225  0FB3  16 00       	ld	d,0x00
3226  0FB5  21 00 00    	ld	hl,_hit_col
3227  0FB8  19          	add	hl,de
3228  0FB9  56          	ld	d, (hl)
3229  0FBA  79          	ld	a,c
3230  0FBB  C6 F8       	add	a,0xf8
3231  0FBD  5F          	ld	e, a
3232  0FBE  D5          	push	de
3233  0FBF  CD 00 00    	call	_game_calc_index
3234  0FC2  F1          	pop	af
3235  0FC3  22 00 00    	ld	(_index1),hl
3236  0FC6  01 01 00    	ld	bc,0x0001
3237  0FC9  09          	add	hl,bc
3238  0FCA  22 00 00    	ld	(_index2),hl
3239  0FCD  AF          	xor	a, a
3240  0FCE  F5          	push	af
3241  0FCF  33          	inc	sp
3242  0FD0  CD 00 00    	call	_spr_brick_anim
3243  0FD3  33          	inc	sp
3244  0FD4  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3245  0FD6  21 00 00    	ld	hl,_index_player
3246  0FD9  86          	add	a, (hl)
3247  0FDA  4F          	ld	c,a
3248  0FDB  3E 00       	ld	a,+((_hit_lin) / 256)
3249  0FDD  CE 00       	adc	a,0x00
3250  0FDF  47          	ld	b,a
3251  0FE0  AF          	xor	a, a
3252  0FE1  02          	ld	(bc),a
3253  0FE2  3E 00       	ld	a,+((_hit_col) & 0xFF)
3254  0FE4  86          	add	a, (hl)
3255  0FE5  4F          	ld	c,a
3256  0FE6  3E 00       	ld	a,+((_hit_col) / 256)
3257  0FE8  CE 00       	adc	a,0x00
3258  0FEA  47          	ld	b,a
3259  0FEB  AF          	xor	a, a
3260  0FEC  02          	ld	(bc),a
3261  0FED  C3 00 00    	jp  _spr_set_fall
3262  0FF0              ;	---------------------------------
3263  0FF0              ; Function player_hit_pow
3264  0FF0              ; ---------------------------------
3265  0FF0              _player_hit_pow:
3266  0FF0  01 00 00    	ld	bc,_lvl_1
3267  0FF3  2A 00 00    	ld	hl,(_index1)
3268  0FF6  09          	add	hl,bc
3269  0FF7  7E          	ld	a,(hl)
3270  0FF8  D6 11       	sub	a,0x11
3271  0FFA  28 12       	jr	Z,l_player_hit_pow_00106
3272  0FFC  01 00 00    	ld	bc,_lvl_1
3273  0FFF  2A 00 00    	ld	hl,(_index2)
3274  1002  09          	add	hl,bc
3275  1003  7E          	ld	a,(hl)
3276  1004  D6 11       	sub	a,0x11
3277  1006  20 71       	jr	NZ,l_player_hit_pow_00112
3278  1008  3A 00 00    	ld	a,(_game_pow)
3279  100B  B7          	or	a, a
3280  100C  28 6B       	jr	Z,l_player_hit_pow_00112
3281  100E              l_player_hit_pow_00106:
3282  100E  21 00 00    	ld	hl,_game_pow
3283  1011  35          	dec	(hl)
3284  1012  21 02 00    	ld	hl,0x0002
3285  1015  CD 00 00    	call	_zx_border_fastcall
3286  1018  21 00 00    	ld	hl,_enemies
3287  101B  36 00       	ld	(hl),0x00
3288  101D              l_player_hit_pow_00110:
3289  101D  2A 00 00    	ld	hl,(_enemies)
3290  1020  26 00       	ld	h,0x00
3291  1022  5D          	ld	e,l
3292  1023  01 00 00    	ld	bc,_col
3293  1026  09          	add	hl,bc
3294  1027  46          	ld	b,(hl)
3295  1028  16 00       	ld	d,0x00
3296  102A  21 00 00    	ld	hl,_lin
3297  102D  19          	add	hl,de
3298  102E  7E          	ld	a,(hl)
3299  102F  C6 10       	add	a,0x10
3300  1031  4F          	ld	c,a
3301  1032  C5          	push	bc
3302  1033  CD 00 00    	call	_game_calc_index
3303  1036  E3          	ex	(sp),hl
3304  1037  CD 00 00    	call	_game_check_maze
3305  103A  F1          	pop	af
3306  103B  7D          	ld	a,l
3307  103C  B7          	or	a, a
3308  103D  20 03       	jr	NZ,l_player_hit_pow_00111
3309  103F  CD 00 00    	call	_enemy_hit
3310  1042              l_player_hit_pow_00111:
3311  1042  21 00 00    	ld	hl,_enemies
3312  1045  34          	inc	(hl)
3313  1046  7E          	ld	a,(hl)
3314  1047  D6 06       	sub	a,0x06
3315  1049  38 D2       	jr	C,l_player_hit_pow_00110
3316  104B  21 00 00    	ld	hl,_ay_effect_06
3317  104E  CD 00 00    	call	_ay_fx_play
3318  1051  CD 00 00    	call	_sound_hit_pow
3319  1054  CD 00 00    	call	_spr_draw_pow
3320  1057  3A 00 00    	ld	a,(_game_pow)
3321  105A  B7          	or	a, a
3322  105B  20 13       	jr	NZ,l_player_hit_pow_00105
3323  105D  21 78 0F    	ld	hl,0x0f78
3324  1060  E5          	push	hl
3325  1061  AF          	xor	a, a
3326  1062  F5          	push	af
3327  1063  33          	inc	sp
3328  1064  CD 00 00    	call	_NIRVANAP_fillT_callee
3329  1067  21 00 00    	ld	hl,0x0000
3330  106A  22 EF 01    	ld	((_lvl_1 + 0x01ef)),hl
3331  106D  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3332  1070              l_player_hit_pow_00105:
3333  1070  21 00 00    	ld	hl,0x0000
3334  1073  CD 00 00    	call	_zx_border_fastcall
3335  1076  CD 00 00    	call	_spr_set_fall
3336  1079              l_player_hit_pow_00112:
3337  1079  C9          	ret
3338  107A              ;	---------------------------------
3339  107A              ; Function player_coin
3340  107A              ; ---------------------------------
3341  107A              _player_coin:
3342  107A  CD 00 00    	call	___sdcc_enter_ix
3343  107D  3E 00       	ld	a,+((_class) & 0xFF)
3344  107F  DD 86 04    	add	a,(ix+4)
3345  1082  4F          	ld	c,a
3346  1083  3E 00       	ld	a,+((_class) / 256)
3347  1085  CE 00       	adc	a,0x00
3348  1087  47          	ld	b,a
3349  1088  0A          	ld	a,(bc)
3350  1089  D6 07       	sub	a,0x07
3351  108B  20 08       	jr	NZ,l_player_coin_00102
3352  108D  21 00 00    	ld	hl,_ay_effect_12
3353  1090  CD 00 00    	call	_ay_fx_play
3354  1093  18 06       	jr	l_player_coin_00103
3355  1095              l_player_coin_00102:
3356  1095  21 00 00    	ld	hl,_ay_effect_10
3357  1098  CD 00 00    	call	_ay_fx_play
3358  109B              l_player_coin_00103:
3359  109B  CD 00 00    	call	_sound_coin
3360  109E  3E 00       	ld	a,+((_state) & 0xFF)
3361  10A0  DD 86 04    	add	a,(ix+4)
3362  10A3  4F          	ld	c,a
3363  10A4  3E 00       	ld	a,+((_state) / 256)
3364  10A6  CE 00       	adc	a,0x00
3365  10A8  47          	ld	b,a
3366  10A9  0A          	ld	a,(bc)
3367  10AA  CB EF       	set	5, a
3368  10AC  02          	ld	(bc),a
3369  10AD  01 00 00    	ld	bc,_spr_timer+0
3370  10B0  DD 6E 04    	ld	l,(ix+4)
3371  10B3  26 00       	ld	h,0x00
3372  10B5  29          	add	hl, hl
3373  10B6  09          	add	hl,bc
3374  10B7  ED 5B 00 00 	ld	de,(_curr_time)
3375  10BB  73          	ld	(hl),e
3376  10BC  23          	inc	hl
3377  10BD  72          	ld	(hl),d
3378  10BE  3A 00 00    	ld	a,(_game_bonus)
3379  10C1  B7          	or	a, a
3380  10C2  28 1B       	jr	Z,l_player_coin_00107
3381  10C4  3A 00 00    	ld	a,(_index_player)
3382  10C7  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3383  10C9  4F          	ld	c,a
3384  10CA  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3385  10CC  CE 00       	adc	a,0x00
3386  10CE  47          	ld	b,a
3387  10CF  0A          	ld	a,(bc)
3388  10D0  3C          	inc	a
3389  10D1  02          	ld	(bc),a
3390  10D2  21 00 00    	ld	hl,_phase_left
3391  10D5  35          	dec (hl)
3392  10D6  20 11       	jr	NZ,l_player_coin_00109
3393  10D8  21 00 00    	ld	hl,_phase_end
3394  10DB  36 01       	ld	(hl),0x01
3395  10DD  18 0A       	jr	l_player_coin_00109
3396  10DF              l_player_coin_00107:
3397  10DF  DD 4E 05    	ld	c,(ix+5)
3398  10E2  06 00       	ld	b,0x00
3399  10E4  C5          	push	bc
3400  10E5  CD EC 10    	call	_player_score_add
3401  10E8  F1          	pop	af
3402  10E9              l_player_coin_00109:
3403  10E9  DD E1       	pop	ix
3404  10EB  C9          	ret
3405  10EC              ;	---------------------------------
3406  10EC              ; Function player_score_add
3407  10EC              ; ---------------------------------
3408  10EC              _player_score_add:
3409  10EC  CD 00 00    	call	___sdcc_enter_ix
3410  10EF  2A 00 00    	ld	hl,(_index_player)
3411  10F2  26 00       	ld	h,0x00
3412  10F4  29          	add	hl,hl
3413  10F5  01 00 00    	ld	bc,_player_score
3414  10F8  09          	add	hl,bc
3415  10F9  7E          	ld	a,(hl)
3416  10FA  4D          	ld	c,l
3417  10FB  44          	ld	b,h
3418  10FC  23          	inc	hl
3419  10FD  56          	ld	d,(hl)
3420  10FE  DD 86 04    	add	a,(ix+4)
3421  1101  5F          	ld	e,a
3422  1102  7A          	ld	a,d
3423  1103  DD 8E 05    	adc	a,(ix+5)
3424  1106  57          	ld	d,a
3425  1107  7B          	ld	a,e
3426  1108  02          	ld	(bc),a
3427  1109  03          	inc	bc
3428  110A  7A          	ld	a,d
3429  110B  02          	ld	(bc),a
3430  110C  2A 00 00    	ld	hl,(_index_player)
3431  110F  26 00       	ld	h,0x00
3432  1111  29          	add	hl,hl
3433  1112  4D          	ld	c,l
3434  1113  44          	ld	b,h
3435  1114  21 00 00    	ld	hl,_player_score
3436  1117  09          	add	hl,bc
3437  1118  5E          	ld	e,(hl)
3438  1119  23          	inc	hl
3439  111A  56          	ld	d,(hl)
3440  111B  21 00 00    	ld	hl,_game_score_top
3441  111E  7E          	ld	a,(hl)
3442  111F  93          	sub	a, e
3443  1120  23          	inc	hl
3444  1121  7E          	ld	a,(hl)
3445  1122  9A          	sbc	a, d
3446  1123  30 04       	jr	NC,l_player_score_add_00102
3447  1125  2B          	dec	hl
3448  1126  73          	ld	(hl),e
3449  1127  23          	inc	hl
3450  1128  72          	ld	(hl),d
3451  1129              l_player_score_add_00102:
3452  1129  21 00 00    	ld	hl,_player_next_extra
3453  112C  09          	add	hl,bc
3454  112D  4E          	ld	c,(hl)
3455  112E  23          	inc	hl
3456  112F  46          	ld	b,(hl)
3457  1130  2B          	dec	hl
3458  1131  79          	ld	a,c
3459  1132  93          	sub	a, e
3460  1133  78          	ld	a,b
3461  1134  9A          	sbc	a, d
3462  1135  30 31       	jr	NC,l_player_score_add_00106
3463  1137  79          	ld	a,c
3464  1138  C6 D0       	add	a,0xd0
3465  113A  77          	ld	(hl),a
3466  113B  78          	ld	a,b
3467  113C  CE 07       	adc	a,0x07
3468  113E  23          	inc	hl
3469  113F  77          	ld	(hl),a
3470  1140  3A 00 00    	ld	a,(_index_player)
3471  1143  C6 00       	add	a,+((_game_lives) & 0xFF)
3472  1145  4F          	ld	c,a
3473  1146  3E 00       	ld	a,+((_game_lives) / 256)
3474  1148  CE 00       	adc	a,0x00
3475  114A  47          	ld	b,a
3476  114B  0A          	ld	a,(bc)
3477  114C  3C          	inc	a
3478  114D  02          	ld	(bc),a
3479  114E  3A 00 00    	ld	a,(_game_bonus)
3480  1151  B7          	or	a, a
3481  1152  20 03       	jr	NZ,l_player_score_add_00104
3482  1154  CD 00 00    	call	_game_print_lives
3483  1157              l_player_score_add_00104:
3484  1157  CD 00 00    	call	_sound_coin
3485  115A  CD 00 00    	call	_sound_coin
3486  115D  CD 00 00    	call	_sound_coin
3487  1160  CD 00 00    	call	_sound_coin
3488  1163  21 00 00    	ld	hl,_hit_count
3489  1166  36 08       	ld	(hl),0x08
3490  1168              l_player_score_add_00106:
3491  1168  DD E1       	pop	ix
3492  116A  C3 00 00    	jp	_game_print_score
3493  116D              ;	---------------------------------
3494  116D              ; Function player_set1
3495  116D              ; ---------------------------------
3496  116D              _player_set1:
3497  116D  21 00 00    	ld	hl,_sprite
3498  1170  36 07       	ld	(hl),0x07
3499  1172  21 00 00    	ld	hl,_sprite_other_player
3500  1175  36 06       	ld	(hl),0x06
3501  1177  21 00 00    	ld	hl,_index_player
3502  117A  36 00       	ld	(hl),0x00
3503  117C  21 00 00    	ld	hl,_tile_offset
3504  117F  36 00       	ld	(hl),0x00
3505  1181  21 00 00    	ld	hl,_tile_offset_other_player
3506  1184  36 18       	ld	(hl),0x18
3507  1186  C9          	ret
3508  1187              ;	---------------------------------
3509  1187              ; Function player_set2
3510  1187              ; ---------------------------------
3511  1187              _player_set2:
3512  1187  21 00 00    	ld	hl,_sprite
3513  118A  36 06       	ld	(hl),0x06
3514  118C  21 00 00    	ld	hl,_sprite_other_player
3515  118F  36 07       	ld	(hl),0x07
3516  1191  21 00 00    	ld	hl,_index_player
3517  1194  36 01       	ld	(hl),0x01
3518  1196  21 00 00    	ld	hl,_tile_offset
3519  1199  36 18       	ld	(hl),0x18
3520  119B  21 00 00    	ld	hl,_tile_offset_other_player
3521  119E  36 00       	ld	(hl),0x00
3522  11A0  C9          	ret
3523  11A1              	SECTION IGNORE
3524  0000              
