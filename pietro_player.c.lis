1     0000              MODULE pietro_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9852 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _player_init
183   0000              	GLOBAL _player_calc_slide
184   0000              	GLOBAL _player_check_input
185   0000              	GLOBAL _player_collision
186   0000              	GLOBAL _player_collision_check
187   0000              	GLOBAL _player_kill
188   0000              	GLOBAL _player_restart
189   0000              	GLOBAL _player_lost_life
190   0000              	GLOBAL _player_turn
191   0000              	GLOBAL _player_move
192   0000              	GLOBAL _player_move_input
193   0000              	GLOBAL _player_move_horizontal
194   0000              	GLOBAL _player_push_check
195   0000              	GLOBAL _player_push
196   0000              	GLOBAL _player_hit_brick
197   0000              	GLOBAL _player_hit_brick_clear
198   0000              	GLOBAL _player_hit_pow
199   0000              	GLOBAL _player_coin
200   0000              	GLOBAL _player_score_add
201   0000              	GLOBAL _player_set1
202   0000              	GLOBAL _player_set2
203   0000              ;--------------------------------------------------------
204   0000              ; Externals used
205   0000              ;--------------------------------------------------------
206   0000              	GLOBAL _debug3
207   0000              	GLOBAL _debug2
208   0000              	GLOBAL _debug
209   0000              	GLOBAL _zx_print_str
210   0000              	GLOBAL _zx_print_int
211   0000              	GLOBAL _zx_print_chr
212   0000              	GLOBAL _zx_print_bonus_time
213   0000              	GLOBAL _zx_isr
214   0000              	GLOBAL _z80_otdr_callee
215   0000              	GLOBAL _z80_otdr
216   0000              	GLOBAL _z80_otir_callee
217   0000              	GLOBAL _z80_otir
218   0000              	GLOBAL _z80_outp_callee
219   0000              	GLOBAL _z80_outp
220   0000              	GLOBAL _z80_indr_callee
221   0000              	GLOBAL _z80_indr
222   0000              	GLOBAL _z80_inir_callee
223   0000              	GLOBAL _z80_inir
224   0000              	GLOBAL _z80_inp_fastcall
225   0000              	GLOBAL _z80_inp
226   0000              	GLOBAL _z80_set_int_state_fastcall
227   0000              	GLOBAL _z80_set_int_state
228   0000              	GLOBAL _z80_get_int_state
229   0000              	GLOBAL _z80_delay_tstate_fastcall
230   0000              	GLOBAL _z80_delay_tstate
231   0000              	GLOBAL _z80_delay_ms_fastcall
232   0000              	GLOBAL _z80_delay_ms
233   0000              	GLOBAL _im2_remove_generic_callback_callee
234   0000              	GLOBAL _im2_remove_generic_callback
235   0000              	GLOBAL _im2_prepend_generic_callback_callee
236   0000              	GLOBAL _im2_prepend_generic_callback
237   0000              	GLOBAL _im2_append_generic_callback_callee
238   0000              	GLOBAL _im2_append_generic_callback
239   0000              	GLOBAL _im2_create_generic_isr_8080_callee
240   0000              	GLOBAL _im2_create_generic_isr_8080
241   0000              	GLOBAL _im2_create_generic_isr_callee
242   0000              	GLOBAL _im2_create_generic_isr
243   0000              	GLOBAL _im2_install_isr_callee
244   0000              	GLOBAL _im2_install_isr
245   0000              	GLOBAL _im2_init_fastcall
246   0000              	GLOBAL _im2_init
247   0000              	GLOBAL _sound_hit_pow
248   0000              	GLOBAL _sound_hit_brick
249   0000              	GLOBAL _sound_hit_enemy
250   0000              	GLOBAL _sound_kill
251   0000              	GLOBAL _sound_enter_enemy
252   0000              	GLOBAL _sound_coin
253   0000              	GLOBAL _sound_jump
254   0000              	GLOBAL _sound_slide
255   0000              	GLOBAL _spr_draw_row
256   0000              	GLOBAL _spr_draw_index
257   0000              	GLOBAL _spr_draw_clear
258   0000              	GLOBAL _spr_water_splash_draw
259   0000              	GLOBAL _spr_water_splash_clear
260   0000              	GLOBAL _spr_draw_back
261   0000              	GLOBAL _spr_cortina_brick
262   0000              	GLOBAL _spr_brick_anim
263   0000              	GLOBAL _spr_back_fix
264   0000              	GLOBAL _spr_back_paint
265   0000              	GLOBAL _spr_back_clr
266   0000              	GLOBAL _spr_draw_pow
267   0000              	GLOBAL _spr_tile
268   0000              	GLOBAL _spr_set_fall
269   0000              	GLOBAL _spr_destroy
270   0000              	GLOBAL _spr_check_over
271   0000              	GLOBAL _spr_tile_dir
272   0000              	GLOBAL _spr_anim_kill
273   0000              	GLOBAL _spr_anim_fall
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_chktime
282   0000              	GLOBAL _game_joystick_set_menu
283   0000              	GLOBAL _game_joystick_set
284   0000              	GLOBAL _game_joystick_change
285   0000              	GLOBAL _game_hall_print_p
286   0000              	GLOBAL _game_hall_edit_p
287   0000              	GLOBAL _game_hall_check
288   0000              	GLOBAL _game_hall_enter_phs
289   0000              	GLOBAL _game_print_header
290   0000              	GLOBAL _game_end
291   0000              	GLOBAL _game_hall_enter
292   0000              	GLOBAL _game_hall_of_fame
293   0000              	GLOBAL _game_score_osd
294   0000              	GLOBAL _game_phase_print_score_back
295   0000              	GLOBAL _game_bonus_clock
296   0000              	GLOBAL _game_bonus_summary_player
297   0000              	GLOBAL _game_bonus_summary
298   0000              	GLOBAL _game_check_time
299   0000              	GLOBAL _game_menu_config
300   0000              	GLOBAL _game_menu
301   0000              	GLOBAL _game_rotate_attrib
302   0000              	GLOBAL _game_colour_message
303   0000              	GLOBAL _game_paint_attrib_lin_h
304   0000              	GLOBAL _game_paint_attrib_lin
305   0000              	GLOBAL _game_paint_attrib
306   0000              	GLOBAL _game_menu_paint
307   0000              	GLOBAL _game_menu_top_paint
308   0000              	GLOBAL _game_menu_handle
309   0000              	GLOBAL _game_menu_e
310   0000              	GLOBAL _game_menu_back
311   0000              	GLOBAL _game_print_score
312   0000              	GLOBAL _game_unfreeze_all
313   0000              	GLOBAL _game_freeze_all
314   0000              	GLOBAL _game_freeze
315   0000              	GLOBAL _game_enemy_add_get_index
316   0000              	GLOBAL _game_enemy_add1
317   0000              	GLOBAL _game_enemy_quota
318   0000              	GLOBAL _game_enemy_rnd
319   0000              	GLOBAL _game_enemy_add
320   0000              	GLOBAL _game_check_maze
321   0000              	GLOBAL _game_kill_all_sprites
322   0000              	GLOBAL _game_loop
323   0000              	GLOBAL _game_phase_print
324   0000              	GLOBAL _game_phase_init
325   0000              	GLOBAL _game_phase_calc
326   0000              	GLOBAL _game_start_timer
327   0000              	GLOBAL _game_tick
328   0000              	GLOBAL _game_print_lives
329   0000              	GLOBAL _game_print_footer
330   0000              	GLOBAL _game_calc_index
331   0000              	GLOBAL _game_fill_row
332   0000              	GLOBAL _enemy_ugly_fix
333   0000              	GLOBAL _enemy_kill
334   0000              	GLOBAL _enemy_init
335   0000              	GLOBAL _enemy_walk
336   0000              	GLOBAL _enemy_upgrade
337   0000              	GLOBAL _enemy_evolve
338   0000              	GLOBAL _enemy_standard_hit
339   0000              	GLOBAL _enemy_trip
340   0000              	GLOBAL _enemy_fighterfly
341   0000              	GLOBAL _enemy_fireball_green
342   0000              	GLOBAL _enemy_fireball_red
343   0000              	GLOBAL _enemy_slipice
344   0000              	GLOBAL _enemy_standard
345   0000              	GLOBAL _enemy_turn
346   0000              	GLOBAL _enemy_flip_sidestepper
347   0000              	GLOBAL _enemy_flip
348   0000              	GLOBAL _enemy_flip_change_dir
349   0000              	GLOBAL _enemy_hit
350   0000              	GLOBAL _enemy_collision_check
351   0000              	GLOBAL _enemy_collision
352   0000              	GLOBAL _enemy_coin1
353   0000              	GLOBAL _ay_fx_play
354   0000              	GLOBAL _ay_midi_play
355   0000              	GLOBAL _ay_is_playing
356   0000              	GLOBAL _ay_reset
357   0000              	GLOBAL _test_func
358   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
359   0000              	GLOBAL _NIRVANAP_drawTW_raw
360   0000              	GLOBAL _NIRVANAP_drawTW_callee
361   0000              	GLOBAL _NIRVANAP_drawTW
362   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
363   0000              	GLOBAL _NIRVANAP_drawW_raw
364   0000              	GLOBAL _NIRVANAP_drawW_callee
365   0000              	GLOBAL _NIRVANAP_drawW
366   0000              	GLOBAL _NIRVANAP_spriteT_callee
367   0000              	GLOBAL _NIRVANAP_spriteT
368   0000              	GLOBAL _NIRVANAP_fillC_callee
369   0000              	GLOBAL _NIRVANAP_fillC
370   0000              	GLOBAL _NIRVANAP_readC_callee
371   0000              	GLOBAL _NIRVANAP_readC
372   0000              	GLOBAL _NIRVANAP_paintC_callee
373   0000              	GLOBAL _NIRVANAP_paintC
374   0000              	GLOBAL _NIRVANAP_printC_callee
375   0000              	GLOBAL _NIRVANAP_printC
376   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
377   0000              	GLOBAL _NIRVANAP_fillT_raw
378   0000              	GLOBAL _NIRVANAP_fillT_callee
379   0000              	GLOBAL _NIRVANAP_fillT
380   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
381   0000              	GLOBAL _NIRVANAP_drawT_raw
382   0000              	GLOBAL _NIRVANAP_drawT_callee
383   0000              	GLOBAL _NIRVANAP_drawT
384   0000              	GLOBAL _NIRVANAP_stop
385   0000              	GLOBAL _NIRVANAP_start
386   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
387   0000              	GLOBAL _intrinsic_swap_word_32
388   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
389   0000              	GLOBAL _intrinsic_swap_endian_32
390   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
391   0000              	GLOBAL _intrinsic_swap_endian_16
392   0000              	GLOBAL _intrinsic_return_de
393   0000              	GLOBAL _intrinsic_return_bc
394   0000              	GLOBAL _intrinsic_exx
395   0000              	GLOBAL _intrinsic_ex_de_hl
396   0000              	GLOBAL _intrinsic_pop_iy
397   0000              	GLOBAL _intrinsic_pop_ix
398   0000              	GLOBAL _intrinsic_pop_hl
399   0000              	GLOBAL _intrinsic_pop_de
400   0000              	GLOBAL _intrinsic_pop_bc
401   0000              	GLOBAL _intrinsic_pop_af
402   0000              	GLOBAL _intrinsic_push_iy
403   0000              	GLOBAL _intrinsic_push_ix
404   0000              	GLOBAL _intrinsic_push_hl
405   0000              	GLOBAL _intrinsic_push_de
406   0000              	GLOBAL _intrinsic_push_bc
407   0000              	GLOBAL _intrinsic_push_af
408   0000              	GLOBAL _intrinsic_nop
409   0000              	GLOBAL _intrinsic_im_2
410   0000              	GLOBAL _intrinsic_im_1
411   0000              	GLOBAL _intrinsic_im_0
412   0000              	GLOBAL _intrinsic_retn
413   0000              	GLOBAL _intrinsic_reti
414   0000              	GLOBAL _intrinsic_halt
415   0000              	GLOBAL _intrinsic_ei
416   0000              	GLOBAL _intrinsic_di
417   0000              	GLOBAL _intrinsic_stub
418   0000              	GLOBAL _ulltoa_callee
419   0000              	GLOBAL _ulltoa
420   0000              	GLOBAL _strtoull_callee
421   0000              	GLOBAL _strtoull
422   0000              	GLOBAL _strtoll_callee
423   0000              	GLOBAL _strtoll
424   0000              	GLOBAL _lltoa_callee
425   0000              	GLOBAL _lltoa
426   0000              	GLOBAL _llabs_callee
427   0000              	GLOBAL _llabs
428   0000              	GLOBAL __lldivu__callee
429   0000              	GLOBAL __lldivu_
430   0000              	GLOBAL __lldiv__callee
431   0000              	GLOBAL __lldiv_
432   0000              	GLOBAL _atoll_callee
433   0000              	GLOBAL _atoll
434   0000              	GLOBAL _realloc_unlocked_callee
435   0000              	GLOBAL _realloc_unlocked
436   0000              	GLOBAL _malloc_unlocked_fastcall
437   0000              	GLOBAL _malloc_unlocked
438   0000              	GLOBAL _free_unlocked_fastcall
439   0000              	GLOBAL _free_unlocked
440   0000              	GLOBAL _calloc_unlocked_callee
441   0000              	GLOBAL _calloc_unlocked
442   0000              	GLOBAL _aligned_alloc_unlocked_callee
443   0000              	GLOBAL _aligned_alloc_unlocked
444   0000              	GLOBAL _realloc_callee
445   0000              	GLOBAL _realloc
446   0000              	GLOBAL _malloc_fastcall
447   0000              	GLOBAL _malloc
448   0000              	GLOBAL _free_fastcall
449   0000              	GLOBAL _free
450   0000              	GLOBAL _calloc_callee
451   0000              	GLOBAL _calloc
452   0000              	GLOBAL _aligned_alloc_callee
453   0000              	GLOBAL _aligned_alloc
454   0000              	GLOBAL _utoa_callee
455   0000              	GLOBAL _utoa
456   0000              	GLOBAL _ultoa_callee
457   0000              	GLOBAL _ultoa
458   0000              	GLOBAL _system_fastcall
459   0000              	GLOBAL _system
460   0000              	GLOBAL _strtoul_callee
461   0000              	GLOBAL _strtoul
462   0000              	GLOBAL _strtol_callee
463   0000              	GLOBAL _strtol
464   0000              	GLOBAL _strtof_callee
465   0000              	GLOBAL _strtof
466   0000              	GLOBAL _strtod_callee
467   0000              	GLOBAL _strtod
468   0000              	GLOBAL _srand_fastcall
469   0000              	GLOBAL _srand
470   0000              	GLOBAL _rand
471   0000              	GLOBAL _quick_exit_fastcall
472   0000              	GLOBAL _quick_exit
473   0000              	GLOBAL _qsort_callee
474   0000              	GLOBAL _qsort
475   0000              	GLOBAL _ltoa_callee
476   0000              	GLOBAL _ltoa
477   0000              	GLOBAL _labs_fastcall
478   0000              	GLOBAL _labs
479   0000              	GLOBAL _itoa_callee
480   0000              	GLOBAL _itoa
481   0000              	GLOBAL _ftoh_callee
482   0000              	GLOBAL _ftoh
483   0000              	GLOBAL _ftog_callee
484   0000              	GLOBAL _ftog
485   0000              	GLOBAL _ftoe_callee
486   0000              	GLOBAL _ftoe
487   0000              	GLOBAL _ftoa_callee
488   0000              	GLOBAL _ftoa
489   0000              	GLOBAL _exit_fastcall
490   0000              	GLOBAL _exit
491   0000              	GLOBAL _dtoh_callee
492   0000              	GLOBAL _dtoh
493   0000              	GLOBAL _dtog_callee
494   0000              	GLOBAL _dtog
495   0000              	GLOBAL _dtoe_callee
496   0000              	GLOBAL _dtoe
497   0000              	GLOBAL _dtoa_callee
498   0000              	GLOBAL _dtoa
499   0000              	GLOBAL _bsearch_callee
500   0000              	GLOBAL _bsearch
501   0000              	GLOBAL _atol_fastcall
502   0000              	GLOBAL _atol
503   0000              	GLOBAL _atoi_fastcall
504   0000              	GLOBAL _atoi
505   0000              	GLOBAL _atof_fastcall
506   0000              	GLOBAL _atof
507   0000              	GLOBAL _atexit_fastcall
508   0000              	GLOBAL _atexit
509   0000              	GLOBAL _at_quick_exit_fastcall
510   0000              	GLOBAL _at_quick_exit
511   0000              	GLOBAL _abs_fastcall
512   0000              	GLOBAL _abs
513   0000              	GLOBAL _abort
514   0000              	GLOBAL __strtou__callee
515   0000              	GLOBAL __strtou_
516   0000              	GLOBAL __strtoi__callee
517   0000              	GLOBAL __strtoi_
518   0000              	GLOBAL __random_uniform_xor_8__fastcall
519   0000              	GLOBAL __random_uniform_xor_8_
520   0000              	GLOBAL __random_uniform_xor_32__fastcall
521   0000              	GLOBAL __random_uniform_xor_32_
522   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
523   0000              	GLOBAL __random_uniform_cmwc_8_
524   0000              	GLOBAL __shellsort__callee
525   0000              	GLOBAL __shellsort_
526   0000              	GLOBAL __quicksort__callee
527   0000              	GLOBAL __quicksort_
528   0000              	GLOBAL __insertion_sort__callee
529   0000              	GLOBAL __insertion_sort_
530   0000              	GLOBAL __ldivu__callee
531   0000              	GLOBAL __ldivu_
532   0000              	GLOBAL __ldiv__callee
533   0000              	GLOBAL __ldiv_
534   0000              	GLOBAL __divu__callee
535   0000              	GLOBAL __divu_
536   0000              	GLOBAL __div__callee
537   0000              	GLOBAL __div_
538   0000              	GLOBAL _in_mouse_kempston_wheel_delta
539   0000              	GLOBAL _in_mouse_kempston_wheel
540   0000              	GLOBAL _in_mouse_kempston_callee
541   0000              	GLOBAL _in_mouse_kempston
542   0000              	GLOBAL _in_mouse_kempston_setpos_callee
543   0000              	GLOBAL _in_mouse_kempston_setpos
544   0000              	GLOBAL _in_mouse_kempston_reset
545   0000              	GLOBAL _in_mouse_kempston_init
546   0000              	GLOBAL _in_mouse_amx_wheel_delta
547   0000              	GLOBAL _in_mouse_amx_wheel
548   0000              	GLOBAL _in_mouse_amx_callee
549   0000              	GLOBAL _in_mouse_amx
550   0000              	GLOBAL _in_mouse_amx_setpos_callee
551   0000              	GLOBAL _in_mouse_amx_setpos
552   0000              	GLOBAL _in_mouse_amx_reset
553   0000              	GLOBAL _in_mouse_amx_init_callee
554   0000              	GLOBAL _in_mouse_amx_init
555   0000              	GLOBAL _in_stick_sinclair2
556   0000              	GLOBAL _in_stick_sinclair1
557   0000              	GLOBAL _in_stick_kempston
558   0000              	GLOBAL _in_stick_fuller
559   0000              	GLOBAL _in_stick_cursor
560   0000              	GLOBAL _in_stick_keyboard_fastcall
561   0000              	GLOBAL _in_stick_keyboard
562   0000              	GLOBAL _in_wait_nokey
563   0000              	GLOBAL _in_wait_key
564   0000              	GLOBAL _in_test_key
565   0000              	GLOBAL _in_pause_fastcall
566   0000              	GLOBAL _in_pause
567   0000              	GLOBAL _in_key_scancode_fastcall
568   0000              	GLOBAL _in_key_scancode
569   0000              	GLOBAL _in_key_pressed_fastcall
570   0000              	GLOBAL _in_key_pressed
571   0000              	GLOBAL _in_inkey
572   0000              	GLOBAL _zx_pattern_fill_callee
573   0000              	GLOBAL _zx_pattern_fill
574   0000              	GLOBAL _zx_saddrpup_fastcall
575   0000              	GLOBAL _zx_saddrpup
576   0000              	GLOBAL _zx_saddrpright_callee
577   0000              	GLOBAL _zx_saddrpright
578   0000              	GLOBAL _zx_saddrpleft_callee
579   0000              	GLOBAL _zx_saddrpleft
580   0000              	GLOBAL _zx_saddrpdown_fastcall
581   0000              	GLOBAL _zx_saddrpdown
582   0000              	GLOBAL _zx_saddrcup_fastcall
583   0000              	GLOBAL _zx_saddrcup
584   0000              	GLOBAL _zx_saddrcright_fastcall
585   0000              	GLOBAL _zx_saddrcright
586   0000              	GLOBAL _zx_saddrcleft_fastcall
587   0000              	GLOBAL _zx_saddrcleft
588   0000              	GLOBAL _zx_saddrcdown_fastcall
589   0000              	GLOBAL _zx_saddrcdown
590   0000              	GLOBAL _zx_saddr2py_fastcall
591   0000              	GLOBAL _zx_saddr2py
592   0000              	GLOBAL _zx_saddr2px_fastcall
593   0000              	GLOBAL _zx_saddr2px
594   0000              	GLOBAL _zx_saddr2cy_fastcall
595   0000              	GLOBAL _zx_saddr2cy
596   0000              	GLOBAL _zx_saddr2cx_fastcall
597   0000              	GLOBAL _zx_saddr2cx
598   0000              	GLOBAL _zx_saddr2aaddr_fastcall
599   0000              	GLOBAL _zx_saddr2aaddr
600   0000              	GLOBAL _zx_py2saddr_fastcall
601   0000              	GLOBAL _zx_py2saddr
602   0000              	GLOBAL _zx_py2aaddr_fastcall
603   0000              	GLOBAL _zx_py2aaddr
604   0000              	GLOBAL _zx_pxy2saddr_callee
605   0000              	GLOBAL _zx_pxy2saddr
606   0000              	GLOBAL _zx_pxy2aaddr_callee
607   0000              	GLOBAL _zx_pxy2aaddr
608   0000              	GLOBAL _zx_px2bitmask_fastcall
609   0000              	GLOBAL _zx_px2bitmask
610   0000              	GLOBAL _zx_cyx2saddr_callee
611   0000              	GLOBAL _zx_cyx2saddr
612   0000              	GLOBAL _zx_cyx2aaddr_callee
613   0000              	GLOBAL _zx_cyx2aaddr
614   0000              	GLOBAL _zx_cy2saddr_fastcall
615   0000              	GLOBAL _zx_cy2saddr
616   0000              	GLOBAL _zx_cy2aaddr_fastcall
617   0000              	GLOBAL _zx_cy2aaddr
618   0000              	GLOBAL _zx_bitmask2px_fastcall
619   0000              	GLOBAL _zx_bitmask2px
620   0000              	GLOBAL _zx_aaddrcup_fastcall
621   0000              	GLOBAL _zx_aaddrcup
622   0000              	GLOBAL _zx_aaddrcright_fastcall
623   0000              	GLOBAL _zx_aaddrcright
624   0000              	GLOBAL _zx_aaddrcleft_fastcall
625   0000              	GLOBAL _zx_aaddrcleft
626   0000              	GLOBAL _zx_aaddrcdown_fastcall
627   0000              	GLOBAL _zx_aaddrcdown
628   0000              	GLOBAL _zx_aaddr2saddr_fastcall
629   0000              	GLOBAL _zx_aaddr2saddr
630   0000              	GLOBAL _zx_aaddr2py_fastcall
631   0000              	GLOBAL _zx_aaddr2py
632   0000              	GLOBAL _zx_aaddr2px_fastcall
633   0000              	GLOBAL _zx_aaddr2px
634   0000              	GLOBAL _zx_aaddr2cy_fastcall
635   0000              	GLOBAL _zx_aaddr2cy
636   0000              	GLOBAL _zx_aaddr2cx_fastcall
637   0000              	GLOBAL _zx_aaddr2cx
638   0000              	GLOBAL _zx_scroll_wc_up_callee
639   0000              	GLOBAL _zx_scroll_wc_up
640   0000              	GLOBAL _zx_scroll_up_callee
641   0000              	GLOBAL _zx_scroll_up
642   0000              	GLOBAL _zx_cls_wc_callee
643   0000              	GLOBAL _zx_cls_wc
644   0000              	GLOBAL _zx_cls_fastcall
645   0000              	GLOBAL _zx_cls
646   0000              	GLOBAL _zx_border_fastcall
647   0000              	GLOBAL _zx_border
648   0000              	GLOBAL _ay_effect_20
649   0000              	GLOBAL _ay_effect_19
650   0000              	GLOBAL _ay_effect_18
651   0000              	GLOBAL _ay_effect_17
652   0000              	GLOBAL _ay_effect_16
653   0000              	GLOBAL _ay_effect_15
654   0000              	GLOBAL _ay_effect_14
655   0000              	GLOBAL _ay_effect_13
656   0000              	GLOBAL _ay_effect_12
657   0000              	GLOBAL _ay_effect_11
658   0000              	GLOBAL _ay_effect_10
659   0000              	GLOBAL _ay_effect_09
660   0000              	GLOBAL _ay_effect_08
661   0000              	GLOBAL _ay_effect_07
662   0000              	GLOBAL _ay_effect_06
663   0000              	GLOBAL _ay_effect_05
664   0000              	GLOBAL _ay_effect_04
665   0000              	GLOBAL _ay_effect_03
666   0000              	GLOBAL _ay_effect_02
667   0000              	GLOBAL _ay_effect_01
668   0000              	GLOBAL _pb_midi_phase_1
669   0000              	GLOBAL _pb_midi_title
670   0000              	GLOBAL _joynames
671   0000              	GLOBAL _initials
672   0000              	GLOBAL _hof
673   0000              	GLOBAL _score_osd_tile
674   0000              	GLOBAL _score_osd_time
675   0000              	GLOBAL _score_osd_col
676   0000              	GLOBAL _score_osd_lin
677   0000              	GLOBAL _phase_bonus_total
678   0000              	GLOBAL _phase_angry
679   0000              	GLOBAL _phase_curr
680   0000              	GLOBAL _phase_end
681   0000              	GLOBAL _phase_coins
682   0000              	GLOBAL _phase_pop
683   0000              	GLOBAL _phase_tot
684   0000              	GLOBAL _phase_left
685   0000              	GLOBAL _phase_quota
686   0000              	GLOBAL _phases
687   0000              	GLOBAL _spr_idx
688   0000              	GLOBAL _lvl_1
689   0000              	GLOBAL _sprite_speed_alt
690   0000              	GLOBAL _sprite_speed
691   0000              	GLOBAL _screen_ink
692   0000              	GLOBAL _screen_paper
693   0000              	GLOBAL _game_menu_sel
694   0000              	GLOBAL _game_type
695   0000              	GLOBAL _game_osd
696   0000              	GLOBAL _game_bonus
697   0000              	GLOBAL _spr_water_time
698   0000              	GLOBAL _spr_water_clear
699   0000              	GLOBAL _game_time_fireball_start
700   0000              	GLOBAL _game_time_flipped
701   0000              	GLOBAL _game_score_top
702   0000              	GLOBAL _game_lives
703   0000              	GLOBAL _game_over
704   0000              	GLOBAL _game_sound
705   0000              	GLOBAL _game_inmune
706   0000              	GLOBAL _game_god_mode
707   0000              	GLOBAL _game_start_phase
708   0000              	GLOBAL _game_two_player
709   0000              	GLOBAL _game_brick_tile
710   0000              	GLOBAL _game_pow
711   0000              	GLOBAL _spr_count
712   0000              	GLOBAL _osd_time
713   0000              	GLOBAL _frame_time
714   0000              	GLOBAL _entry_time
715   0000              	GLOBAL _curr_time
716   0000              	GLOBAL _s_state
717   0000              	GLOBAL _attrib_hl
718   0000              	GLOBAL _attrib
719   0000              	GLOBAL _zx_val_asm
720   0000              	GLOBAL _enemies
721   0000              	GLOBAL _tmp_ui
722   0000              	GLOBAL _tmp_sc
723   0000              	GLOBAL _tmp_uc
724   0000              	GLOBAL _tmp1
725   0000              	GLOBAL _tmp0
726   0000              	GLOBAL _tmp
727   0000              	GLOBAL _index_d
728   0000              	GLOBAL _index3
729   0000              	GLOBAL _index2
730   0000              	GLOBAL _index1
731   0000              	GLOBAL _loop_count
732   0000              	GLOBAL _sprite_lin_inc_mul
733   0000              	GLOBAL _s_col1
734   0000              	GLOBAL _s_col0
735   0000              	GLOBAL _s_lin1
736   0000              	GLOBAL _s_lin0
737   0000              	GLOBAL _s_tile1
738   0000              	GLOBAL _s_tile0
739   0000              	GLOBAL _hit_count
740   0000              	GLOBAL _tile_offset_other_player
741   0000              	GLOBAL _tile_offset
742   0000              	GLOBAL _index_player
743   0000              	GLOBAL _sprite_other_player
744   0000              	GLOBAL _sprite
745   0000              	GLOBAL _player_joy
746   0000              	GLOBAL _player_next_extra
747   0000              	GLOBAL _player_score
748   0000              	GLOBAL _last_time
749   0000              	GLOBAL _sliding
750   0000              	GLOBAL _spr_timer_c
751   0000              	GLOBAL _spr_timer
752   0000              	GLOBAL _jump_lin
753   0000              	GLOBAL _player_jump_c
754   0000              	GLOBAL _hit_col
755   0000              	GLOBAL _hit_lin
756   0000              	GLOBAL _colint
757   0000              	GLOBAL _col
758   0000              	GLOBAL _lin
759   0000              	GLOBAL _tile
760   0000              	GLOBAL _state_a
761   0000              	GLOBAL _state
762   0000              	GLOBAL _class
763   0000              	GLOBAL _tbuffer
764   0000              	GLOBAL _dirs
765   0000              	GLOBAL _k2
766   0000              	GLOBAL _k1
767   0000              	GLOBAL _joyfunc2
768   0000              	GLOBAL _joyfunc1
769   0000              	GLOBAL _btiles
770   0000              	GLOBAL _spec128
771   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
772   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
773   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
774   0000              	GLOBAL _NIRVANAP_HOLE
775   0000              	GLOBAL _NIRVANAP_ISR_HOOK
776   0000              	GLOBAL _control_method
777   0000              	GLOBAL _hall_valids
778   0000              ;--------------------------------------------------------
779   0000              ; special function registers
780   0000              ;--------------------------------------------------------
781   0000              ;--------------------------------------------------------
782   0000              ; ram data
783   0000              ;--------------------------------------------------------
784   0000              	SECTION bss_compiler
785   0000              ;--------------------------------------------------------
786   0000              ; ram data
787   0000              ;--------------------------------------------------------
788   0000              
789   0000              IF 0
790   0000              
791   0000              ; .area _INITIALIZED removed by z88dk
792   0000              
793   0000              
794   0000              ENDIF
795   0000              
796   0000              ;--------------------------------------------------------
797   0000              ; absolute external ram data
798   0000              ;--------------------------------------------------------
799   0000              	SECTION IGNORE
800   0000              ;--------------------------------------------------------
801   0000              ; global & static initialisations
802   0000              ;--------------------------------------------------------
803   0000              	SECTION code_crt_init
804   0000              ;--------------------------------------------------------
805   0000              ; Home
806   0000              ;--------------------------------------------------------
807   0000              	SECTION IGNORE
808   0000              ;--------------------------------------------------------
809   0000              ; code
810   0000              ;--------------------------------------------------------
811   0000              	SECTION code_compiler
812   0000              ;	---------------------------------
813   0000              ; Function player_init
814   0000              ; ---------------------------------
815   0000              _player_init:
816   0000  CD 00 00    	call	___sdcc_enter_ix
817   0003  F5          	push	af
818   0004  3E 00       	ld	a,+((_class) & 0xFF)
819   0006  DD 86 04    	add	a,(ix+4)
820   0009  4F          	ld	c,a
821   000A  3E 00       	ld	a,+((_class) / 256)
822   000C  CE 00       	adc	a,0x00
823   000E  47          	ld	b,a
824   000F  3E 10       	ld	a,0x10
825   0011  02          	ld	(bc),a
826   0012  3E 00       	ld	a,+((_tile) & 0xFF)
827   0014  DD 86 04    	add	a,(ix+4)
828   0017  4F          	ld	c,a
829   0018  3E 00       	ld	a,+((_tile) / 256)
830   001A  CE 00       	adc	a,0x00
831   001C  47          	ld	b,a
832   001D  DD 7E 07    	ld	a,(ix+7)
833   0020  02          	ld	(bc),a
834   0021  3E 00       	ld	a,+((_lin) & 0xFF)
835   0023  DD 86 04    	add	a,(ix+4)
836   0026  4F          	ld	c,a
837   0027  3E 00       	ld	a,+((_lin) / 256)
838   0029  CE 00       	adc	a,0x00
839   002B  47          	ld	b,a
840   002C  DD 7E 05    	ld	a,(ix+5)
841   002F  02          	ld	(bc),a
842   0030  3E 00       	ld	a,+((_col) & 0xFF)
843   0032  DD 86 04    	add	a,(ix+4)
844   0035  4F          	ld	c,a
845   0036  3E 00       	ld	a,+((_col) / 256)
846   0038  CE 00       	adc	a,0x00
847   003A  47          	ld	b,a
848   003B  DD 7E 06    	ld	a,(ix+6)
849   003E  02          	ld	(bc),a
850   003F  3E 00       	ld	a,+((_colint) & 0xFF)
851   0041  DD 86 04    	add	a,(ix+4)
852   0044  4F          	ld	c,a
853   0045  3E 00       	ld	a,+((_colint) / 256)
854   0047  CE 00       	adc	a,0x00
855   0049  47          	ld	b,a
856   004A  AF          	xor	a, a
857   004B  02          	ld	(bc),a
858   004C  3E 00       	ld	a,+((_state) & 0xFF)
859   004E  DD 86 04    	add	a,(ix+4)
860   0051  4F          	ld	c,a
861   0052  3E 00       	ld	a,+((_state) / 256)
862   0054  CE 00       	adc	a,0x00
863   0056  47          	ld	b,a
864   0057  AF          	xor	a, a
865   0058  02          	ld	(bc),a
866   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
867   005B  DD 86 04    	add	a,(ix+4)
868   005E  4F          	ld	c,a
869   005F  3E 00       	ld	a,+((_state_a) / 256)
870   0061  CE 00       	adc	a,0x00
871   0063  47          	ld	b,a
872   0064  AF          	xor	a, a
873   0065  02          	ld	(bc),a
874   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
875   0068  DD 86 04    	add	a,(ix+4)
876   006B  5F          	ld	e,a
877   006C  3E 00       	ld	a,+((_jump_lin) / 256)
878   006E  CE 00       	adc	a,0x00
879   0070  57          	ld	d,a
880   0071  DD 7E 05    	ld	a,(ix+5)
881   0074  12          	ld	(de),a
882   0075  DD 5E 04    	ld	e,(ix+4)
883   0078  16 00       	ld	d,0x00
884   007A  CB 23       	sla	e
885   007C  CB 12       	rl	d
886   007E  21 00 00    	ld	hl,_last_time
887   0081  19          	add	hl,de
888   0082  E3          	ex	(sp), hl
889   0083  E1          	pop	hl
890   0084  ED 5B 00 00 	ld	de,(_curr_time)
891   0088  E5          	push	hl
892   0089  73          	ld	(hl),e
893   008A  23          	inc	hl
894   008B  72          	ld	(hl),d
895   008C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
896   008E  DD 86 04    	add	a,(ix+4)
897   0091  5F          	ld	e,a
898   0092  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
899   0094  CE 00       	adc	a,0x00
900   0096  57          	ld	d,a
901   0097  AF          	xor	a, a
902   0098  12          	ld	(de),a
903   0099  0A          	ld	a,(bc)
904   009A  CB C7       	set	0, a
905   009C  02          	ld	(bc),a
906   009D  5F          	ld	e,a
907   009E  DD 7E 04    	ld	a,(ix+4)
908   00A1  D6 07       	sub	a,0x07
909   00A3  20 0B       	jr	NZ,l_player_init_00102
910   00A5  21 00 00    	ld	hl,_index_player
911   00A8  36 00       	ld	(hl),0x00
912   00AA  7B          	ld	a,e
913   00AB  CB E7       	set	4, a
914   00AD  02          	ld	(bc),a
915   00AE  18 09       	jr	l_player_init_00103
916   00B0              l_player_init_00102:
917   00B0  21 00 00    	ld	hl,_index_player
918   00B3  36 01       	ld	(hl),0x01
919   00B5  7B          	ld	a,e
920   00B6  CB DF       	set	3, a
921   00B8  02          	ld	(bc),a
922   00B9              l_player_init_00103:
923   00B9  3E 00       	ld	a,+((_hit_col) & 0xFF)
924   00BB  21 00 00    	ld	hl,_index_player
925   00BE  86          	add	a, (hl)
926   00BF  4F          	ld	c,a
927   00C0  3E 00       	ld	a,+((_hit_col) / 256)
928   00C2  CE 00       	adc	a,0x00
929   00C4  47          	ld	b,a
930   00C5  AF          	xor	a, a
931   00C6  02          	ld	(bc),a
932   00C7  3E 00       	ld	a,+((_hit_lin) & 0xFF)
933   00C9  86          	add	a, (hl)
934   00CA  4F          	ld	c,a
935   00CB  3E 00       	ld	a,+((_hit_lin) / 256)
936   00CD  CE 00       	adc	a,0x00
937   00CF  47          	ld	b,a
938   00D0  AF          	xor	a, a
939   00D1  02          	ld	(bc),a
940   00D2  3E 00       	ld	a,+((_sliding) & 0xFF)
941   00D4  86          	add	a, (hl)
942   00D5  4F          	ld	c,a
943   00D6  3E 00       	ld	a,+((_sliding) / 256)
944   00D8  CE 00       	adc	a,0x00
945   00DA  47          	ld	b,a
946   00DB  AF          	xor	a, a
947   00DC  02          	ld	(bc),a
948   00DD  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
949   00DF  86          	add	a, (hl)
950   00E0  4F          	ld	c,a
951   00E1  3E 00       	ld	a,+((_player_jump_c) / 256)
952   00E3  CE 00       	adc	a,0x00
953   00E5  47          	ld	b,a
954   00E6  AF          	xor	a, a
955   00E7  02          	ld	(bc),a
956   00E8  DD 66 06    	ld	h,(ix+6)
957   00EB  DD 6E 05    	ld	l,(ix+5)
958   00EE  E5          	push	hl
959   00EF  DD 66 07    	ld	h,(ix+7)
960   00F2  DD 6E 04    	ld	l,(ix+4)
961   00F5  E5          	push	hl
962   00F6  CD 00 00    	call	_NIRVANAP_spriteT_callee
963   00F9  F1          	pop	af
964   00FA  DD E1       	pop	ix
965   00FC  C9          	ret
966   00FD              	SECTION code_compiler
967   00FD              ;	---------------------------------
968   00FD              ; Function player_calc_slide
969   00FD              ; ---------------------------------
970   00FD              _player_calc_slide:
971   00FD  3E 00       	ld	a,+((_col) & 0xFF)
972   00FF  21 00 00    	ld	hl,_sprite
973   0102  86          	add	a, (hl)
974   0103  4F          	ld	c,a
975   0104  3E 00       	ld	a,+((_col) / 256)
976   0106  CE 00       	adc	a,0x00
977   0108  47          	ld	b,a
978   0109  0A          	ld	a,(bc)
979   010A  57          	ld	d,a
980   010B  4E          	ld	c,(hl)
981   010C  06 00       	ld	b,0x00
982   010E  21 00 00    	ld	hl,_lin
983   0111  09          	add	hl,bc
984   0112  7E          	ld	a,(hl)
985   0113  C6 10       	add	a,0x10
986   0115  5F          	ld	e, a
987   0116  D5          	push	de
988   0117  CD 00 00    	call	_game_calc_index
989   011A  F1          	pop	af
990   011B  22 00 00    	ld	(_index1),hl
991   011E  01 00 00    	ld	bc,_lvl_1
992   0121  09          	add	hl,bc
993   0122  7E          	ld	a,(hl)
994   0123  D6 14       	sub	a,0x14
995   0125  20 10       	jr	NZ,l_player_calc_slide_00102
996   0127  3A 00 00    	ld	a,(_index_player)
997   012A  C6 00       	add	a,+((_sliding) & 0xFF)
998   012C  4F          	ld	c,a
999   012D  3E 00       	ld	a,+((_sliding) / 256)
1000  012F  CE 00       	adc	a,0x00
1001  0131  47          	ld	b,a
1002  0132  3E 0C       	ld	a,0x0c
1003  0134  02          	ld	(bc),a
1004  0135  18 0E       	jr	l_player_calc_slide_00104
1005  0137              l_player_calc_slide_00102:
1006  0137  3A 00 00    	ld	a,(_index_player)
1007  013A  C6 00       	add	a,+((_sliding) & 0xFF)
1008  013C  4F          	ld	c,a
1009  013D  3E 00       	ld	a,+((_sliding) / 256)
1010  013F  CE 00       	adc	a,0x00
1011  0141  47          	ld	b,a
1012  0142  3E 06       	ld	a,0x06
1013  0144  02          	ld	(bc),a
1014  0145              l_player_calc_slide_00104:
1015  0145  C9          	ret
1016  0146              	SECTION code_compiler
1017  0146              ;	---------------------------------
1018  0146              ; Function player_check_input
1019  0146              ; ---------------------------------
1020  0146              _player_check_input:
1021  0146  21 00 00    	ld	hl,_dirs
1022  0149  7E          	ld	a,(hl)
1023  014A  CB 07       	rlc	a
1024  014C  E6 01       	and	a,0x01
1025  014E  CB 47       	bit	0,a
1026  0150  20 0F       	jr	NZ,l_player_check_input_00104
1027  0152  7E          	ld	a,(hl)
1028  0153  E6 04       	and	a,0x04
1029  0155  20 0A       	jr	NZ,l_player_check_input_00104
1030  0157  3A 00 00    	ld	a,(_dirs)
1031  015A  E6 08       	and	a,0x08
1032  015C  20 03       	jr	NZ,l_player_check_input_00104
1033  015E  6F          	ld	l,a
1034  015F  18 02       	jr	l_player_check_input_00105
1035  0161              l_player_check_input_00104:
1036  0161  2E 01       	ld	l,0x01
1037  0163              l_player_check_input_00105:
1038  0163  C9          	ret
1039  0164              	SECTION code_compiler
1040  0164              ;	---------------------------------
1041  0164              ; Function player_collision
1042  0164              ; ---------------------------------
1043  0164              _player_collision:
1044  0164  3A 00 00    	ld	a,(_sprite)
1045  0167  C6 00       	add	a,+((_class) & 0xFF)
1046  0169  4F          	ld	c,a
1047  016A  3E 00       	ld	a,+((_class) / 256)
1048  016C  CE 00       	adc	a,0x00
1049  016E  47          	ld	b,a
1050  016F  0A          	ld	a,(bc)
1051  0170  B7          	or	a,a
1052  0171  20 04       	jr	NZ,l_player_collision_00102
1053  0173  6F          	ld	l,a
1054  0174  C3 0A 02    	jp	l_player_collision_00124
1055  0177              l_player_collision_00102:
1056  0177  3A 00 00    	ld	a,(_sprite)
1057  017A  C6 00       	add	a,+((_state) & 0xFF)
1058  017C  4F          	ld	c,a
1059  017D  3E 00       	ld	a,+((_state) / 256)
1060  017F  CE 00       	adc	a,0x00
1061  0181  47          	ld	b,a
1062  0182  0A          	ld	a,(bc)
1063  0183  CB 67       	bit	4, a
1064  0185  28 05       	jr	Z,l_player_collision_00104
1065  0187  2E 00       	ld	l,0x00
1066  0189  C3 0A 02    	jp	l_player_collision_00124
1067  018C              l_player_collision_00104:
1068  018C  CB 6F       	bit	5, a
1069  018E  28 05       	jr	Z,l_player_collision_00106
1070  0190  2E 00       	ld	l,0x00
1071  0192  C3 0A 02    	jp	l_player_collision_00124
1072  0195              l_player_collision_00106:
1073  0195  21 00 00    	ld	hl,_hit_count
1074  0198  36 00       	ld	(hl),0x00
1075  019A  21 00 00    	ld	hl,_enemies
1076  019D  36 00       	ld	(hl),0x00
1077  019F              l_player_collision_00122:
1078  019F  CD 0B 02    	call	_player_collision_check
1079  01A2  7D          	ld	a,l
1080  01A3  B7          	or	a, a
1081  01A4  28 55       	jr	Z,l_player_collision_00123
1082  01A6  3A 00 00    	ld	a,(_enemies)
1083  01A9  C6 00       	add	a,+((_state) & 0xFF)
1084  01AB  4F          	ld	c,a
1085  01AC  3E 00       	ld	a,+((_state) / 256)
1086  01AE  CE 00       	adc	a,0x00
1087  01B0  47          	ld	b,a
1088  01B1  0A          	ld	a,(bc)
1089  01B2  CB 67       	bit	4, a
1090  01B4  28 08       	jr	Z,l_player_collision_00117
1091  01B6  2A 00 00    	ld	hl,(_enemies)
1092  01B9  CD 00 00    	call	_enemy_kill
1093  01BC  18 3D       	jr	l_player_collision_00123
1094  01BE              l_player_collision_00117:
1095  01BE  2A 00 00    	ld	hl,(_enemies)
1096  01C1  26 00       	ld	h,0x00
1097  01C3  01 00 00    	ld	bc,_class
1098  01C6  09          	add	hl,bc
1099  01C7  7E          	ld	a,(hl)
1100  01C8  4F          	ld	c,a
1101  01C9  D6 08       	sub	a,0x08
1102  01CB  28 05       	jr	Z,l_player_collision_00112
1103  01CD  79          	ld	a,c
1104  01CE  D6 0C       	sub	a,0x0c
1105  01D0  20 0C       	jr	NZ,l_player_collision_00113
1106  01D2              l_player_collision_00112:
1107  01D2  2A 00 00    	ld	hl,(_enemies)
1108  01D5  26 50       	ld	h,0x50
1109  01D7  E5          	push	hl
1110  01D8  CD 18 10    	call	_player_coin
1111  01DB  F1          	pop	af
1112  01DC  18 1D       	jr	l_player_collision_00123
1113  01DE              l_player_collision_00113:
1114  01DE  21 00 00    	ld	hl,_ay_effect_18
1115  01E1  CD 00 00    	call	_ay_fx_play
1116  01E4  3A 00 00    	ld	a,(_game_god_mode)
1117  01E7  B7          	or	a, a
1118  01E8  28 08       	jr	Z,l_player_collision_00110
1119  01EA  2A 00 00    	ld	hl,(_enemies)
1120  01ED  CD 00 00    	call	_enemy_kill
1121  01F0  18 09       	jr	l_player_collision_00123
1122  01F2              l_player_collision_00110:
1123  01F2  3A 00 00    	ld	a,(_game_inmune)
1124  01F5  B7          	or	a, a
1125  01F6  20 03       	jr	NZ,l_player_collision_00123
1126  01F8  CD 80 03    	call	_player_kill
1127  01FB              l_player_collision_00123:
1128  01FB  21 00 00    	ld	hl,_enemies
1129  01FE  7E          	ld	a,(hl)
1130  01FF  3C          	inc	a
1131  0200  77          	ld	(hl),a
1132  0201  D6 06       	sub	a,0x06
1133  0203  38 9A       	jr	C,l_player_collision_00122
1134  0205  CD 00 00    	call	_game_score_osd
1135  0208  2E 00       	ld	l,0x00
1136  020A              l_player_collision_00124:
1137  020A  C9          	ret
1138  020B              	SECTION code_compiler
1139  020B              ;	---------------------------------
1140  020B              ; Function player_collision_check
1141  020B              ; ---------------------------------
1142  020B              _player_collision_check:
1143  020B  3A 00 00    	ld	a,(_enemies)
1144  020E  C6 00       	add	a,+((_class) & 0xFF)
1145  0210  4F          	ld	c,a
1146  0211  3E 00       	ld	a,+((_class) / 256)
1147  0213  CE 00       	adc	a,0x00
1148  0215  47          	ld	b,a
1149  0216  0A          	ld	a,(bc)
1150  0217  B7          	or	a,a
1151  0218  20 04       	jr	NZ,l_player_collision_check_00102
1152  021A  6F          	ld	l,a
1153  021B  C3 7F 03    	jp	l_player_collision_check_00127
1154  021E              l_player_collision_check_00102:
1155  021E  3A 00 00    	ld	a,(_enemies)
1156  0221  C6 00       	add	a,+((_state) & 0xFF)
1157  0223  4F          	ld	c,a
1158  0224  3E 00       	ld	a,+((_state) / 256)
1159  0226  CE 00       	adc	a,0x00
1160  0228  47          	ld	b,a
1161  0229  0A          	ld	a,(bc)
1162  022A  CB 6F       	bit	5, a
1163  022C  28 05       	jr	Z,l_player_collision_check_00104
1164  022E  2E 00       	ld	l,0x00
1165  0230  C3 7F 03    	jp	l_player_collision_check_00127
1166  0233              l_player_collision_check_00104:
1167  0233  11 00 00    	ld	de,_lin+0
1168  0236  7B          	ld	a,e
1169  0237  21 00 00    	ld	hl,_enemies
1170  023A  86          	add	a, (hl)
1171  023B  4F          	ld	c,a
1172  023C  7A          	ld	a,d
1173  023D  CE 00       	adc	a,0x00
1174  023F  47          	ld	b,a
1175  0240  0A          	ld	a,(bc)
1176  0241  4F          	ld	c,a
1177  0242  06 00       	ld	b,0x00
1178  0244  7B          	ld	a,e
1179  0245  21 00 00    	ld	hl,_sprite
1180  0248  86          	add	a, (hl)
1181  0249  5F          	ld	e,a
1182  024A  7A          	ld	a,d
1183  024B  CE 00       	adc	a,0x00
1184  024D  57          	ld	d,a
1185  024E  1A          	ld	a,(de)
1186  024F  5F          	ld	e,a
1187  0250  16 00       	ld	d,0x00
1188  0252  79          	ld	a,c
1189  0253  93          	sub	a, e
1190  0254  6F          	ld	l,a
1191  0255  78          	ld	a,b
1192  0256  9A          	sbc	a, d
1193  0257  67          	ld	h,a
1194  0258  CD 00 00    	call	_abs_fastcall
1195  025B  22 00 00    	ld	(_tmp_ui),hl
1196  025E  3A 00 00    	ld	a,(_sprite)
1197  0261  C6 00       	add	a,+((_state) & 0xFF)
1198  0263  4F          	ld	c,a
1199  0264  3E 00       	ld	a,+((_state) / 256)
1200  0266  CE 00       	adc	a,0x00
1201  0268  47          	ld	b,a
1202  0269  0A          	ld	a,(bc)
1203  026A  CB 47       	bit	0, a
1204  026C  20 04       	jr	NZ,l_player_collision_check_00109
1205  026E  CB 4F       	bit	1, a
1206  0270  28 11       	jr	Z,l_player_collision_check_00110
1207  0272              l_player_collision_check_00109:
1208  0272  3E 10       	ld	a,0x10
1209  0274  21 00 00    	ld	hl,_tmp_ui
1210  0277  BE          	cp	a, (hl)
1211  0278  3E 00       	ld	a,0x00
1212  027A  23          	inc	hl
1213  027B  9E          	sbc	a, (hl)
1214  027C  30 16       	jr	NC,l_player_collision_check_00111
1215  027E  2E 00       	ld	l,0x00
1216  0280  C3 7F 03    	jp	l_player_collision_check_00127
1217  0283              l_player_collision_check_00110:
1218  0283  3E 0E       	ld	a,0x0e
1219  0285  21 00 00    	ld	hl,_tmp_ui
1220  0288  BE          	cp	a, (hl)
1221  0289  3E 00       	ld	a,0x00
1222  028B  23          	inc	hl
1223  028C  9E          	sbc	a, (hl)
1224  028D  30 05       	jr	NC,l_player_collision_check_00111
1225  028F  2E 00       	ld	l,0x00
1226  0291  C3 7F 03    	jp	l_player_collision_check_00127
1227  0294              l_player_collision_check_00111:
1228  0294  2A 00 00    	ld	hl,(_enemies)
1229  0297  26 00       	ld	h,0x00
1230  0299  01 00 00    	ld	bc,_col
1231  029C  09          	add	hl,bc
1232  029D  4E          	ld	c,(hl)
1233  029E  06 00       	ld	b,0x00
1234  02A0  2A 00 00    	ld	hl,(_sprite)
1235  02A3  60          	ld	h,b
1236  02A4  11 00 00    	ld	de,_col
1237  02A7  19          	add	hl,de
1238  02A8  5E          	ld	e, (hl)
1239  02A9  16 00       	ld	d,0x00
1240  02AB  79          	ld	a,c
1241  02AC  93          	sub	a, e
1242  02AD  6F          	ld	l,a
1243  02AE  78          	ld	a,b
1244  02AF  9A          	sbc	a, d
1245  02B0  67          	ld	h,a
1246  02B1  CD 00 00    	call	_abs_fastcall
1247  02B4  22 00 00    	ld	(_tmp_ui),hl
1248  02B7  2A 00 00    	ld	hl,(_enemies)
1249  02BA  26 00       	ld	h,0x00
1250  02BC  01 00 00    	ld	bc,_col
1251  02BF  09          	add	hl,bc
1252  02C0  7E          	ld	a,(hl)
1253  02C1  4F          	ld	c,a
1254  02C2  87          	add	a, a
1255  02C3  81          	add	a, c
1256  02C4  32 00 00    	ld	(_tmp0),a
1257  02C7  2A 00 00    	ld	hl,(_sprite)
1258  02CA  26 00       	ld	h,0x00
1259  02CC  11 00 00    	ld	de,_col
1260  02CF  19          	add	hl,de
1261  02D0  7E          	ld	a,(hl)
1262  02D1  5F          	ld	e,a
1263  02D2  87          	add	a, a
1264  02D3  83          	add	a, e
1265  02D4  32 00 00    	ld	(_tmp1),a
1266  02D7  21 00 00    	ld	hl,_s_col0
1267  02DA  71          	ld	(hl),c
1268  02DB  3A 00 00    	ld	a,(_enemies)
1269  02DE  C6 00       	add	a,+((_colint) & 0xFF)
1270  02E0  4F          	ld	c,a
1271  02E1  3E 00       	ld	a,+((_colint) / 256)
1272  02E3  CE 00       	adc	a,0x00
1273  02E5  47          	ld	b,a
1274  02E6  0A          	ld	a,(bc)
1275  02E7  32 00 00    	ld	(_s_col1),a
1276  02EA  3A 00 00    	ld	a,(_enemies)
1277  02ED  C6 00       	add	a,+((_class) & 0xFF)
1278  02EF  4F          	ld	c,a
1279  02F0  3E 00       	ld	a,+((_class) / 256)
1280  02F2  CE 00       	adc	a,0x00
1281  02F4  47          	ld	b,a
1282  02F5  0A          	ld	a,(bc)
1283  02F6  D6 0C       	sub	a,0x0c
1284  02F8  20 05       	jr	NZ,l_player_collision_check_00114
1285  02FA  21 00 00    	ld	hl,_s_col1
1286  02FD  36 00       	ld	(hl),0x00
1287  02FF              l_player_collision_check_00114:
1288  02FF  3E 02       	ld	a,0x02
1289  0301  21 00 00    	ld	hl,_tmp_ui
1290  0304  BE          	cp	a, (hl)
1291  0305  3E 00       	ld	a,0x00
1292  0307  23          	inc	hl
1293  0308  9E          	sbc	a, (hl)
1294  0309  30 04       	jr	NC,l_player_collision_check_00116
1295  030B  2E 00       	ld	l,0x00
1296  030D  18 70       	jr	l_player_collision_check_00127
1297  030F              l_player_collision_check_00116:
1298  030F  2A 00 00    	ld	hl,(_enemies)
1299  0312  26 00       	ld	h,0x00
1300  0314  01 00 00    	ld	bc,_state
1301  0317  09          	add	hl,bc
1302  0318  4E          	ld	c,(hl)
1303  0319  3A 00 00    	ld	a,(_s_col0)
1304  031C  5F          	ld	e,a
1305  031D  87          	add	a, a
1306  031E  83          	add	a, e
1307  031F  47          	ld	b,a
1308  0320  21 00 00    	ld	hl,_s_col1
1309  0323  86          	add	a, (hl)
1310  0324  5F          	ld	e,a
1311  0325  CB 51       	bit	2, c
1312  0327  28 04       	jr	Z,l_player_collision_check_00118
1313  0329  21 00 00    	ld	hl,_tmp0
1314  032C  73          	ld	(hl),e
1315  032D              l_player_collision_check_00118:
1316  032D  78          	ld	a,b
1317  032E  21 00 00    	ld	hl,_s_col1
1318  0331  96          	sub	a, (hl)
1319  0332  57          	ld	d,a
1320  0333  CB 59       	bit	3, c
1321  0335  28 04       	jr	Z,l_player_collision_check_00120
1322  0337  21 00 00    	ld	hl,_tmp0
1323  033A  72          	ld	(hl),d
1324  033B              l_player_collision_check_00120:
1325  033B  2A 00 00    	ld	hl,(_sprite)
1326  033E  26 00       	ld	h,0x00
1327  0340  01 00 00    	ld	bc,_state
1328  0343  09          	add	hl,bc
1329  0344  4E          	ld	c,(hl)
1330  0345  CB 51       	bit	2,c
1331  0347  28 04       	jr	Z,l_player_collision_check_00122
1332  0349  21 00 00    	ld	hl,_tmp1
1333  034C  73          	ld	(hl),e
1334  034D              l_player_collision_check_00122:
1335  034D  CB 59       	bit	3, c
1336  034F  28 04       	jr	Z,l_player_collision_check_00124
1337  0351  21 00 00    	ld	hl,_tmp1
1338  0354  72          	ld	(hl),d
1339  0355              l_player_collision_check_00124:
1340  0355  3A 00 00    	ld	a,(_tmp0)
1341  0358  4F          	ld	c,a
1342  0359  06 00       	ld	b,0x00
1343  035B  3A 00 00    	ld	a,(_tmp1)
1344  035E  5F          	ld	e,a
1345  035F  16 00       	ld	d,0x00
1346  0361  79          	ld	a,c
1347  0362  93          	sub	a, e
1348  0363  6F          	ld	l,a
1349  0364  78          	ld	a,b
1350  0365  9A          	sbc	a, d
1351  0366  67          	ld	h,a
1352  0367  CD 00 00    	call	_abs_fastcall
1353  036A  22 00 00    	ld	(_tmp_ui),hl
1354  036D  3E 04       	ld	a,0x04
1355  036F  21 00 00    	ld	hl,_tmp_ui
1356  0372  BE          	cp	a, (hl)
1357  0373  3E 00       	ld	a,0x00
1358  0375  23          	inc	hl
1359  0376  9E          	sbc	a, (hl)
1360  0377  30 04       	jr	NC,l_player_collision_check_00126
1361  0379  2E 00       	ld	l,0x00
1362  037B  18 02       	jr	l_player_collision_check_00127
1363  037D              l_player_collision_check_00126:
1364  037D  2E 01       	ld	l,0x01
1365  037F              l_player_collision_check_00127:
1366  037F  C9          	ret
1367  0380              	SECTION code_compiler
1368  0380              ;	---------------------------------
1369  0380              ; Function player_kill
1370  0380              ; ---------------------------------
1371  0380              _player_kill:
1372  0380  01 00 00    	ld	bc,_state+0
1373  0383  2A 00 00    	ld	hl,(_sprite)
1374  0386  26 00       	ld	h,0x00
1375  0388  09          	add	hl,bc
1376  0389  CB 6E       	bit	5,(hl)
1377  038B  C2 61 04    	jp	NZ,l_player_kill_00109
1378  038E  C5          	push	bc
1379  038F  CD 00 00    	call	_sound_hit_brick
1380  0392  C1          	pop	bc
1381  0393  79          	ld	a,c
1382  0394  21 00 00    	ld	hl,_sprite
1383  0397  86          	add	a, (hl)
1384  0398  5F          	ld	e,a
1385  0399  78          	ld	a,b
1386  039A  CE 00       	adc	a,0x00
1387  039C  57          	ld	d,a
1388  039D  1A          	ld	a,(de)
1389  039E  CB EF       	set	5, a
1390  03A0  12          	ld	(de),a
1391  03A1  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1392  03A3  86          	add	a, (hl)
1393  03A4  5F          	ld	e,a
1394  03A5  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1395  03A7  CE 00       	adc	a,0x00
1396  03A9  57          	ld	d,a
1397  03AA  3E 03       	ld	a,0x03
1398  03AC  12          	ld	(de),a
1399  03AD  79          	ld	a,c
1400  03AE  86          	add	a, (hl)
1401  03AF  4F          	ld	c,a
1402  03B0  78          	ld	a,b
1403  03B1  CE 00       	adc	a,0x00
1404  03B3  47          	ld	b,a
1405  03B4  0A          	ld	a,(bc)
1406  03B5  CB 57       	bit	2, a
1407  03B7  28 13       	jr	Z,l_player_kill_00102
1408  03B9  3A 00 00    	ld	a,(_sprite)
1409  03BC  C6 00       	add	a,+((_tile) & 0xFF)
1410  03BE  4F          	ld	c,a
1411  03BF  3E 00       	ld	a,+((_tile) / 256)
1412  03C1  CE 00       	adc	a,0x00
1413  03C3  47          	ld	b,a
1414  03C4  3A 00 00    	ld	a,(_tile_offset)
1415  03C7  C6 0B       	add	a,0x0b
1416  03C9  02          	ld	(bc),a
1417  03CA  18 11       	jr	l_player_kill_00103
1418  03CC              l_player_kill_00102:
1419  03CC  3A 00 00    	ld	a,(_sprite)
1420  03CF  C6 00       	add	a,+((_tile) & 0xFF)
1421  03D1  4F          	ld	c,a
1422  03D2  3E 00       	ld	a,+((_tile) / 256)
1423  03D4  CE 00       	adc	a,0x00
1424  03D6  47          	ld	b,a
1425  03D7  3A 00 00    	ld	a,(_tile_offset)
1426  03DA  C6 17       	add	a,0x17
1427  03DC  02          	ld	(bc),a
1428  03DD              l_player_kill_00103:
1429  03DD  CD 18 0F    	call	_player_hit_brick_clear
1430  03E0  3E 00       	ld	a,+((_col) & 0xFF)
1431  03E2  21 00 00    	ld	hl,_sprite
1432  03E5  86          	add	a, (hl)
1433  03E6  4F          	ld	c,a
1434  03E7  3E 00       	ld	a,+((_col) / 256)
1435  03E9  CE 00       	adc	a,0x00
1436  03EB  47          	ld	b,a
1437  03EC  0A          	ld	a,(bc)
1438  03ED  4F          	ld	c,a
1439  03EE  3E 00       	ld	a,+((_lin) & 0xFF)
1440  03F0  86          	add	a, (hl)
1441  03F1  5F          	ld	e,a
1442  03F2  3E 00       	ld	a,+((_lin) / 256)
1443  03F4  CE 00       	adc	a,0x00
1444  03F6  57          	ld	d,a
1445  03F7  1A          	ld	a,(de)
1446  03F8  47          	ld	b,a
1447  03F9  3E 00       	ld	a,+((_tile) & 0xFF)
1448  03FB  86          	add	a, (hl)
1449  03FC  5F          	ld	e,a
1450  03FD  3E 00       	ld	a,+((_tile) / 256)
1451  03FF  CE 00       	adc	a,0x00
1452  0401  57          	ld	d,a
1453  0402  1A          	ld	a,(de)
1454  0403  57          	ld	d,a
1455  0404  79          	ld	a,c
1456  0405  F5          	push	af
1457  0406  33          	inc	sp
1458  0407  4A          	ld	c, d
1459  0408  7E          	ld	a,(hl)
1460  0409  C5          	push	bc
1461  040A  F5          	push	af
1462  040B  33          	inc	sp
1463  040C  CD 00 00    	call	_NIRVANAP_spriteT_callee
1464  040F  01 00 00    	ld	bc,_spr_timer+0
1465  0412  2A 00 00    	ld	hl,(_sprite)
1466  0415  26 00       	ld	h,0x00
1467  0417  29          	add	hl, hl
1468  0418  09          	add	hl,bc
1469  0419  ED 5B 00 00 	ld	de,(_curr_time)
1470  041D  73          	ld	(hl),e
1471  041E  23          	inc	hl
1472  041F  72          	ld	(hl),d
1473  0420  3A 00 00    	ld	a,(_sprite)
1474  0423  D6 07       	sub	a,0x07
1475  0425  20 1E       	jr	NZ,l_player_kill_00105
1476  0427  01 00 00    	ld	bc,_state_a+0
1477  042A  79          	ld	a,c
1478  042B  21 00 00    	ld	hl,_sprite
1479  042E  86          	add	a, (hl)
1480  042F  5F          	ld	e,a
1481  0430  78          	ld	a,b
1482  0431  CE 00       	adc	a,0x00
1483  0433  57          	ld	d,a
1484  0434  1A          	ld	a,(de)
1485  0435  CB DF       	set	3, a
1486  0437  12          	ld	(de),a
1487  0438  79          	ld	a,c
1488  0439  86          	add	a, (hl)
1489  043A  4F          	ld	c,a
1490  043B  78          	ld	a,b
1491  043C  CE 00       	adc	a,0x00
1492  043E  47          	ld	b,a
1493  043F  0A          	ld	a,(bc)
1494  0440  E6 EF       	and	a,0xef
1495  0442  02          	ld	(bc),a
1496  0443  18 1C       	jr	l_player_kill_00109
1497  0445              l_player_kill_00105:
1498  0445  01 00 00    	ld	bc,_state_a+0
1499  0448  79          	ld	a,c
1500  0449  21 00 00    	ld	hl,_sprite
1501  044C  86          	add	a, (hl)
1502  044D  5F          	ld	e,a
1503  044E  78          	ld	a,b
1504  044F  CE 00       	adc	a,0x00
1505  0451  57          	ld	d,a
1506  0452  1A          	ld	a,(de)
1507  0453  CB E7       	set	4, a
1508  0455  12          	ld	(de),a
1509  0456  79          	ld	a,c
1510  0457  86          	add	a, (hl)
1511  0458  4F          	ld	c,a
1512  0459  78          	ld	a,b
1513  045A  CE 00       	adc	a,0x00
1514  045C  47          	ld	b,a
1515  045D  0A          	ld	a,(bc)
1516  045E  E6 F7       	and	a,0xf7
1517  0460  02          	ld	(bc),a
1518  0461              l_player_kill_00109:
1519  0461  C9          	ret
1520  0462              	SECTION code_compiler
1521  0462              ;	---------------------------------
1522  0462              ; Function player_restart
1523  0462              ; ---------------------------------
1524  0462              _player_restart:
1525  0462  CD 00 00    	call	___sdcc_enter_ix
1526  0465  F5          	push	af
1527  0466  4D          	ld	c,l
1528  0467  21 00 00    	ld	hl,_ay_effect_15
1529  046A  CD 00 00    	call	_ay_fx_play
1530  046D  79          	ld	a,c
1531  046E  D6 07       	sub	a,0x07
1532  0470  20 1B       	jr	NZ,l_player_restart_00102
1533  0472  C5          	push	bc
1534  0473  21 0E 03    	ld	hl,0x030e
1535  0476  E5          	push	hl
1536  0477  21 07 00    	ld	hl,0x0007
1537  047A  E5          	push	hl
1538  047B  CD 00 00    	call	_player_init
1539  047E  F1          	pop	af
1540  047F  21 10 0E    	ld	hl,0x0e10
1541  0482  E3          	ex	(sp),hl
1542  0483  3E 84       	ld	a,0x84
1543  0485  F5          	push	af
1544  0486  33          	inc	sp
1545  0487  CD 00 00    	call	_NIRVANAP_drawT_callee
1546  048A  C1          	pop	bc
1547  048B  18 19       	jr	l_player_restart_00103
1548  048D              l_player_restart_00102:
1549  048D  C5          	push	bc
1550  048E  21 10 27    	ld	hl,0x2710
1551  0491  E5          	push	hl
1552  0492  21 06 00    	ld	hl,0x0006
1553  0495  E5          	push	hl
1554  0496  CD 00 00    	call	_player_init
1555  0499  F1          	pop	af
1556  049A  21 10 10    	ld	hl,0x1010
1557  049D  E3          	ex	(sp),hl
1558  049E  3E 84       	ld	a,0x84
1559  04A0  F5          	push	af
1560  04A1  33          	inc	sp
1561  04A2  CD 00 00    	call	_NIRVANAP_drawT_callee
1562  04A5  C1          	pop	bc
1563  04A6              l_player_restart_00103:
1564  04A6  11 00 00    	ld	de,_state+0
1565  04A9  69          	ld	l,c
1566  04AA  26 00       	ld	h,0x00
1567  04AC  19          	add	hl,de
1568  04AD  CB E6       	set	4, (hl)
1569  04AF  11 00 00    	ld	de,_state_a+0
1570  04B2  69          	ld	l,c
1571  04B3  26 00       	ld	h,0x00
1572  04B5  19          	add	hl,de
1573  04B6  CB C6       	set	0, (hl)
1574  04B8  11 00 00    	ld	de,_spr_timer+0
1575  04BB  69          	ld	l,c
1576  04BC  26 00       	ld	h,0x00
1577  04BE  29          	add	hl, hl
1578  04BF  19          	add	hl,de
1579  04C0  E3          	ex	(sp), hl
1580  04C1  E1          	pop	hl
1581  04C2  ED 5B 00 00 	ld	de,(_curr_time)
1582  04C6  E5          	push	hl
1583  04C7  73          	ld	(hl),e
1584  04C8  23          	inc	hl
1585  04C9  72          	ld	(hl),d
1586  04CA  11 00 00    	ld	de,_sprite_speed_alt+0
1587  04CD  69          	ld	l,c
1588  04CE  26 00       	ld	h,0x00
1589  04D0  19          	add	hl,de
1590  04D1  F1          	pop	af
1591  04D2  36 08       	ld	(hl),0x08
1592  04D4  DD E1       	pop	ix
1593  04D6  C9          	ret
1594  04D7              	SECTION code_compiler
1595  04D7              ;	---------------------------------
1596  04D7              ; Function player_lost_life
1597  04D7              ; ---------------------------------
1598  04D7              _player_lost_life:
1599  04D7  CD 00 00    	call	_sound_hit_enemy
1600  04DA  01 00 00    	ld	bc,_game_lives+0
1601  04DD  79          	ld	a,c
1602  04DE  21 00 00    	ld	hl,_index_player
1603  04E1  86          	add	a, (hl)
1604  04E2  5F          	ld	e,a
1605  04E3  78          	ld	a,b
1606  04E4  CE 00       	adc	a,0x00
1607  04E6  57          	ld	d,a
1608  04E7  1A          	ld	a,(de)
1609  04E8  C6 FF       	add	a,0xff
1610  04EA  12          	ld	(de),a
1611  04EB  79          	ld	a,c
1612  04EC  86          	add	a, (hl)
1613  04ED  5F          	ld	e,a
1614  04EE  78          	ld	a,b
1615  04EF  CE 00       	adc	a,0x00
1616  04F1  57          	ld	d,a
1617  04F2  1A          	ld	a,(de)
1618  04F3  B7          	or	a, a
1619  04F4  20 13       	jr	NZ,l_player_lost_life_00105
1620  04F6  0A          	ld	a,(bc)
1621  04F7  B7          	or	a, a
1622  04F8  20 0B       	jr	NZ,l_player_lost_life_00102
1623  04FA  3A 01 00    	ld	a, (_game_lives + 1)
1624  04FD  B7          	or	a, a
1625  04FE  20 05       	jr	NZ,l_player_lost_life_00102
1626  0500  21 00 00    	ld	hl,_game_over
1627  0503  36 01       	ld	(hl),0x01
1628  0505              l_player_lost_life_00102:
1629  0505  2E 00       	ld	l,0x00
1630  0507  18 08       	jr	l_player_lost_life_00106
1631  0509              l_player_lost_life_00105:
1632  0509  CD 00 00    	call	_spr_check_over
1633  050C  CD 00 00    	call	_game_print_lives
1634  050F  2E 01       	ld	l,0x01
1635  0511              l_player_lost_life_00106:
1636  0511  C9          	ret
1637  0512              	SECTION code_compiler
1638  0512              ;	---------------------------------
1639  0512              ; Function player_turn
1640  0512              ; ---------------------------------
1641  0512              _player_turn:
1642  0512  3A 00 00    	ld	a,(_sprite)
1643  0515  C6 00       	add	a,+((_class) & 0xFF)
1644  0517  4F          	ld	c,a
1645  0518  3E 00       	ld	a,+((_class) / 256)
1646  051A  CE 00       	adc	a,0x00
1647  051C  47          	ld	b,a
1648  051D  0A          	ld	a,(bc)
1649  051E  D6 10       	sub	a,0x10
1650  0520  20 51       	jr	NZ,l_player_turn_00110
1651  0522  3A 00 00    	ld	a,(_phase_left)
1652  0525  B7          	or	a, a
1653  0526  28 4B       	jr	Z,l_player_turn_00110
1654  0528  3A 00 00    	ld	a,(_index_player)
1655  052B  C6 00       	add	a,+((_game_lives) & 0xFF)
1656  052D  4F          	ld	c,a
1657  052E  3E 00       	ld	a,+((_game_lives) / 256)
1658  0530  CE 00       	adc	a,0x00
1659  0532  47          	ld	b,a
1660  0533  0A          	ld	a,(bc)
1661  0534  B7          	or	a, a
1662  0535  28 3C       	jr	Z,l_player_turn_00110
1663  0537  21 00 00    	ld	hl,_sprite
1664  053A  CD 00 00    	call	_spr_chktime
1665  053D  7D          	ld	a,l
1666  053E  B7          	or	a, a
1667  053F  28 32       	jr	Z,l_player_turn_00110
1668  0541  21 00 00    	ld	hl,_dirs
1669  0544  36 00       	ld	(hl),0x00
1670  0546  3A 00 00    	ld	a,(_sprite)
1671  0549  D6 07       	sub	a,0x07
1672  054B  20 11       	jr	NZ,l_player_turn_00102
1673  054D  21 00 00    	ld	hl,_k1
1674  0550  E5          	push	hl
1675  0551  2A 00 00    	ld	hl,(_joyfunc1)
1676  0554  CD 00 00    	call	___sdcc_call_hl
1677  0557  F1          	pop	af
1678  0558  7D          	ld	a,l
1679  0559  32 00 00    	ld	(_dirs),a
1680  055C  18 0F       	jr	l_player_turn_00103
1681  055E              l_player_turn_00102:
1682  055E  21 00 00    	ld	hl,_k1
1683  0561  E5          	push	hl
1684  0562  2A 00 00    	ld	hl,(_joyfunc2)
1685  0565  CD 00 00    	call	___sdcc_call_hl
1686  0568  F1          	pop	af
1687  0569  7D          	ld	a,l
1688  056A  32 00 00    	ld	(_dirs),a
1689  056D              l_player_turn_00103:
1690  056D  CD 74 05    	call	_player_move
1691  0570  CD 64 01    	call	_player_collision
1692  0573              l_player_turn_00110:
1693  0573  C9          	ret
1694  0574              	SECTION code_compiler
1695  0574              ;	---------------------------------
1696  0574              ; Function player_move
1697  0574              ; ---------------------------------
1698  0574              _player_move:
1699  0574  CD 00 00    	call	___sdcc_enter_ix
1700  0577  F5          	push	af
1701  0578  3B          	dec	sp
1702  0579  3A 00 00    	ld	a,(_sprite)
1703  057C  C6 00       	add	a,+((_lin) & 0xFF)
1704  057E  4F          	ld	c,a
1705  057F  3E 00       	ld	a,+((_lin) / 256)
1706  0581  CE 00       	adc	a,0x00
1707  0583  47          	ld	b,a
1708  0584  0A          	ld	a,(bc)
1709  0585  DD 77 FF    	ld	(ix-1),a
1710  0588  32 00 00    	ld	(_s_lin0),a
1711  058B  3A 00 00    	ld	a,(_sprite)
1712  058E  C6 00       	add	a,+((_col) & 0xFF)
1713  0590  4F          	ld	c,a
1714  0591  3E 00       	ld	a,+((_col) / 256)
1715  0593  CE 00       	adc	a,0x00
1716  0595  47          	ld	b,a
1717  0596  0A          	ld	a,(bc)
1718  0597  32 00 00    	ld	(_s_col0),a
1719  059A  3E 00       	ld	a,+((_tile) & 0xFF)
1720  059C  21 00 00    	ld	hl,_sprite
1721  059F  86          	add	a, (hl)
1722  05A0  DD 77 FD    	ld	(ix-3),a
1723  05A3  3E 00       	ld	a,+((_tile) / 256)
1724  05A5  CE 00       	adc	a,0x00
1725  05A7  DD 77 FE    	ld	(ix-2),a
1726  05AA  E1          	pop	hl
1727  05AB  4E          	ld	c,(hl)
1728  05AC  E5          	push	hl
1729  05AD  2A 00 00    	ld	hl,(_sprite)
1730  05B0  26 00       	ld	h,0x00
1731  05B2  11 00 00    	ld	de,_colint
1732  05B5  19          	add	hl,de
1733  05B6  7E          	ld	a,(hl)
1734  05B7  81          	add	a,c
1735  05B8  32 00 00    	ld	(_s_tile0),a
1736  05BB  3A 00 00    	ld	a,(_sprite)
1737  05BE  C6 00       	add	a,+((_state) & 0xFF)
1738  05C0  4F          	ld	c,a
1739  05C1  3E 00       	ld	a,+((_state) / 256)
1740  05C3  CE 00       	adc	a,0x00
1741  05C5  47          	ld	b,a
1742  05C6  0A          	ld	a,(bc)
1743  05C7  32 00 00    	ld	(_s_state),a
1744  05CA  E6 20       	and	a,0x20
1745  05CC  28 2E       	jr	Z,l_player_move_00104
1746  05CE  3A 00 00    	ld	a,(_tile_offset)
1747  05D1  C6 0A       	add	a,0x0a
1748  05D3  E1          	pop	hl
1749  05D4  E5          	push	hl
1750  05D5  77          	ld	(hl),a
1751  05D6  01 00 00    	ld	bc,_spr_timer+0
1752  05D9  2A 00 00    	ld	hl,(_sprite)
1753  05DC  26 00       	ld	h,0x00
1754  05DE  29          	add	hl, hl
1755  05DF  09          	add	hl,bc
1756  05E0  4E          	ld	c,(hl)
1757  05E1  23          	inc	hl
1758  05E2  46          	ld	b,(hl)
1759  05E3  21 28 00    	ld	hl,0x0028
1760  05E6  E5          	push	hl
1761  05E7  C5          	push	bc
1762  05E8  CD 00 00    	call	_game_check_time
1763  05EB  F1          	pop	af
1764  05EC  F1          	pop	af
1765  05ED  7D          	ld	a,l
1766  05EE  B7          	or	a, a
1767  05EF  28 06       	jr	Z,l_player_move_00102
1768  05F1  2A 00 00    	ld	hl,(_sprite)
1769  05F4  CD 00 00    	call	_spr_killed
1770  05F7              l_player_move_00102:
1771  05F7  2E 00       	ld	l,0x00
1772  05F9  C3 6D 09    	jp	l_player_move_00158
1773  05FC              l_player_move_00104:
1774  05FC  3A 00 00    	ld	a,(_s_state)
1775  05FF  E6 10       	and	a,0x10
1776  0601  CA 39 07    	jp	Z,l_player_move_00117
1777  0604  DD 7E FF    	ld	a,(ix-1)
1778  0607  D6 10       	sub	a,0x10
1779  0609  30 14       	jr	NC,l_player_move_00108
1780  060B  3A 00 00    	ld	a,(_sprite)
1781  060E  C6 00       	add	a,+((_state_a) & 0xFF)
1782  0610  4F          	ld	c,a
1783  0611  3E 00       	ld	a,+((_state_a) / 256)
1784  0613  CE 00       	adc	a,0x00
1785  0615  47          	ld	b,a
1786  0616  0A          	ld	a,(bc)
1787  0617  E6 FE       	and	a,0xfe
1788  0619  02          	ld	(bc),a
1789  061A  CD 00 00    	call	_spr_move_down
1790  061D  18 4C       	jr	l_player_move_00109
1791  061F              l_player_move_00108:
1792  061F  CD 46 01    	call	_player_check_input
1793  0622  7D          	ld	a,l
1794  0623  B7          	or	a, a
1795  0624  28 45       	jr	Z,l_player_move_00109
1796  0626  2A 00 00    	ld	hl,(_sprite)
1797  0629  26 00       	ld	h,0x00
1798  062B  01 00 00    	ld	bc,_state
1799  062E  09          	add	hl,bc
1800  062F  7E          	ld	a,(hl)
1801  0630  E6 EF       	and	a,0xef
1802  0632  77          	ld	(hl),a
1803  0633  2A 00 00    	ld	hl,(_sprite)
1804  0636  26 00       	ld	h,0x00
1805  0638  01 00 00    	ld	bc,_state_a
1806  063B  09          	add	hl,bc
1807  063C  7E          	ld	a,(hl)
1808  063D  E6 FE       	and	a,0xfe
1809  063F  77          	ld	(hl),a
1810  0640  76          	halt
1811  0641  3A 00 00    	ld	a,(_s_col0)
1812  0644  F5          	push	af
1813  0645  33          	inc	sp
1814  0646  21 A9 10    	ld	hl,0x10a9
1815  0649  E5          	push	hl
1816  064A  CD 00 00    	call	_NIRVANAP_drawT_callee
1817  064D  3A 00 00    	ld	a,(_s_col0)
1818  0650  F5          	push	af
1819  0651  33          	inc	sp
1820  0652  21 A9 20    	ld	hl,0x20a9
1821  0655  E5          	push	hl
1822  0656  CD 00 00    	call	_NIRVANAP_drawT_callee
1823  0659  3A 00 00    	ld	a,(_sprite)
1824  065C  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1825  065E  4F          	ld	c,a
1826  065F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1827  0661  CE 00       	adc	a,0x00
1828  0663  47          	ld	b,a
1829  0664  AF          	xor	a, a
1830  0665  02          	ld	(bc),a
1831  0666  2E 00       	ld	l,0x00
1832  0668  C3 6D 09    	jp	l_player_move_00158
1833  066B              l_player_move_00109:
1834  066B  CD 00 00    	call	_spr_redraw
1835  066E  ED 4B 00 00 	ld	bc,(_curr_time)
1836  0672  2A 00 00    	ld	hl,(_sprite)
1837  0675  26 00       	ld	h,0x00
1838  0677  29          	add	hl, hl
1839  0678  11 00 00    	ld	de,_spr_timer
1840  067B  19          	add	hl,de
1841  067C  5E          	ld	e,(hl)
1842  067D  23          	inc	hl
1843  067E  56          	ld	d,(hl)
1844  067F  69          	ld	l,c
1845  0680  60          	ld	h,b
1846  0681  AF          	xor	a,a
1847  0682  ED 52       	sbc	hl,de
1848  0684  22 00 00    	ld	(_tmp_ui),hl
1849  0687  21 00 00    	ld	hl,_tmp
1850  068A  36 00       	ld	(hl),0x00
1851  068C  3E 32       	ld	a,0x32
1852  068E  21 00 00    	ld	hl,_tmp_ui
1853  0691  BE          	cp	a, (hl)
1854  0692  3E 00       	ld	a,0x00
1855  0694  23          	inc	hl
1856  0695  9E          	sbc	a, (hl)
1857  0696  30 05       	jr	NC,l_player_move_00111
1858  0698  21 00 00    	ld	hl,_tmp
1859  069B  36 01       	ld	(hl),0x01
1860  069D              l_player_move_00111:
1861  069D  3E 64       	ld	a,0x64
1862  069F  21 00 00    	ld	hl,_tmp_ui
1863  06A2  BE          	cp	a, (hl)
1864  06A3  3E 00       	ld	a,0x00
1865  06A5  23          	inc	hl
1866  06A6  9E          	sbc	a, (hl)
1867  06A7  30 05       	jr	NC,l_player_move_00113
1868  06A9  21 00 00    	ld	hl,_tmp
1869  06AC  36 02       	ld	(hl),0x02
1870  06AE              l_player_move_00113:
1871  06AE  76          	halt
1872  06AF  3A 00 00    	ld	a,(_sprite)
1873  06B2  C6 00       	add	a,+((_lin) & 0xFF)
1874  06B4  4F          	ld	c,a
1875  06B5  3E 00       	ld	a,+((_lin) / 256)
1876  06B7  CE 00       	adc	a,0x00
1877  06B9  47          	ld	b,a
1878  06BA  0A          	ld	a,(bc)
1879  06BB  C6 10       	add	a,0x10
1880  06BD  57          	ld	d,a
1881  06BE  3A 00 00    	ld	a,(_tmp)
1882  06C1  C6 84       	add	a,0x84
1883  06C3  47          	ld	b,a
1884  06C4  3A 00 00    	ld	a,(_s_col0)
1885  06C7  5A          	ld	e,d
1886  06C8  57          	ld	d,a
1887  06C9  D5          	push	de
1888  06CA  C5          	push	bc
1889  06CB  33          	inc	sp
1890  06CC  CD 00 00    	call	_NIRVANAP_drawT_callee
1891  06CF  3E 96       	ld	a,0x96
1892  06D1  21 00 00    	ld	hl,_tmp_ui
1893  06D4  BE          	cp	a, (hl)
1894  06D5  3E 00       	ld	a,0x00
1895  06D7  23          	inc	hl
1896  06D8  9E          	sbc	a, (hl)
1897  06D9  30 59       	jr	NC,l_player_move_00115
1898  06DB  2A 00 00    	ld	hl,(_sprite)
1899  06DE  26 00       	ld	h,0x00
1900  06E0  01 00 00    	ld	bc,_lin
1901  06E3  09          	add	hl,bc
1902  06E4  4E          	ld	c, (hl)
1903  06E5  3A 00 00    	ld	a, (_s_col0)
1904  06E8  47          	ld	b,a
1905  06E9  C5          	push	bc
1906  06EA  3E A9       	ld	a,0xa9
1907  06EC  F5          	push	af
1908  06ED  33          	inc	sp
1909  06EE  CD 00 00    	call	_NIRVANAP_drawT_callee
1910  06F1  3A 00 00    	ld	a,(_sprite)
1911  06F4  C6 00       	add	a,+((_lin) & 0xFF)
1912  06F6  4F          	ld	c,a
1913  06F7  3E 00       	ld	a,+((_lin) / 256)
1914  06F9  CE 00       	adc	a,0x00
1915  06FB  47          	ld	b,a
1916  06FC  0A          	ld	a,(bc)
1917  06FD  C6 10       	add	a,0x10
1918  06FF  4F          	ld	c, a
1919  0700  3A 00 00    	ld	a, (_s_col0)
1920  0703  47          	ld	b,a
1921  0704  C5          	push	bc
1922  0705  3E A9       	ld	a,0xa9
1923  0707  F5          	push	af
1924  0708  33          	inc	sp
1925  0709  CD 00 00    	call	_NIRVANAP_drawT_callee
1926  070C  2A 00 00    	ld	hl,(_sprite)
1927  070F  26 00       	ld	h,0x00
1928  0711  01 00 00    	ld	bc,_state
1929  0714  09          	add	hl,bc
1930  0715  7E          	ld	a,(hl)
1931  0716  E6 EF       	and	a,0xef
1932  0718  77          	ld	(hl),a
1933  0719  3E 00       	ld	a,+((_state) & 0xFF)
1934  071B  21 00 00    	ld	hl,_sprite
1935  071E  86          	add	a, (hl)
1936  071F  4F          	ld	c,a
1937  0720  3E 00       	ld	a,+((_state) / 256)
1938  0722  CE 00       	adc	a,0x00
1939  0724  47          	ld	b,a
1940  0725  0A          	ld	a,(bc)
1941  0726  CB C7       	set	0, a
1942  0728  02          	ld	(bc),a
1943  0729  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1944  072B  86          	add	a, (hl)
1945  072C  4F          	ld	c,a
1946  072D  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1947  072F  CE 00       	adc	a,0x00
1948  0731  47          	ld	b,a
1949  0732  AF          	xor	a, a
1950  0733  02          	ld	(bc),a
1951  0734              l_player_move_00115:
1952  0734  2E 00       	ld	l,0x00
1953  0736  C3 6D 09    	jp	l_player_move_00158
1954  0739              l_player_move_00117:
1955  0739  3A 00 00    	ld	a,(_sprite)
1956  073C  C6 00       	add	a,+((_state_a) & 0xFF)
1957  073E  4F          	ld	c,a
1958  073F  3E 00       	ld	a,+((_state_a) / 256)
1959  0741  CE 00       	adc	a,0x00
1960  0743  47          	ld	b,a
1961  0744  0A          	ld	a,(bc)
1962  0745  0F          	rrca
1963  0746  30 1D       	jr	NC,l_player_move_00122
1964  0748  CD 46 01    	call	_player_check_input
1965  074B  7D          	ld	a,l
1966  074C  B7          	or	a, a
1967  074D  28 11       	jr	Z,l_player_move_00119
1968  074F  3A 00 00    	ld	a,(_sprite)
1969  0752  C6 00       	add	a,+((_state_a) & 0xFF)
1970  0754  4F          	ld	c,a
1971  0755  3E 00       	ld	a,+((_state_a) / 256)
1972  0757  CE 00       	adc	a,0x00
1973  0759  47          	ld	b,a
1974  075A  0A          	ld	a,(bc)
1975  075B  E6 FE       	and	a,0xfe
1976  075D  02          	ld	(bc),a
1977  075E  18 05       	jr	l_player_move_00122
1978  0760              l_player_move_00119:
1979  0760  2E 00       	ld	l,0x00
1980  0762  C3 6D 09    	jp	l_player_move_00158
1981  0765              l_player_move_00122:
1982  0765  3A 00 00    	ld	a,(_sprite)
1983  0768  C6 00       	add	a,+((_state_a) & 0xFF)
1984  076A  4F          	ld	c,a
1985  076B  3E 00       	ld	a,+((_state_a) / 256)
1986  076D  CE 00       	adc	a,0x00
1987  076F  47          	ld	b,a
1988  0770  0A          	ld	a,(bc)
1989  0771  CB 57       	bit	2, a
1990  0773  28 58       	jr	Z,l_player_move_00126
1991  0775  01 00 00    	ld	bc,_spr_timer+0
1992  0778  2A 00 00    	ld	hl,(_sprite)
1993  077B  26 00       	ld	h,0x00
1994  077D  29          	add	hl, hl
1995  077E  09          	add	hl,bc
1996  077F  4E          	ld	c,(hl)
1997  0780  23          	inc	hl
1998  0781  46          	ld	b,(hl)
1999  0782  21 14 00    	ld	hl,0x0014
2000  0785  E5          	push	hl
2001  0786  C5          	push	bc
2002  0787  CD 00 00    	call	_game_check_time
2003  078A  F1          	pop	af
2004  078B  F1          	pop	af
2005  078C  7D          	ld	a,l
2006  078D  B7          	or	a, a
2007  078E  28 3D       	jr	Z,l_player_move_00126
2008  0790  2A 00 00    	ld	hl,(_sprite)
2009  0793  26 00       	ld	h,0x00
2010  0795  01 00 00    	ld	bc,_state_a
2011  0798  09          	add	hl,bc
2012  0799  7E          	ld	a,(hl)
2013  079A  E6 FB       	and	a,0xfb
2014  079C  77          	ld	(hl),a
2015  079D  3E 00       	ld	a,+((_colint) & 0xFF)
2016  079F  21 00 00    	ld	hl,_sprite
2017  07A2  86          	add	a, (hl)
2018  07A3  4F          	ld	c,a
2019  07A4  3E 00       	ld	a,+((_colint) / 256)
2020  07A6  CE 00       	adc	a,0x00
2021  07A8  47          	ld	b,a
2022  07A9  AF          	xor	a, a
2023  07AA  02          	ld	(bc),a
2024  07AB  3E 00       	ld	a,+((_tile) & 0xFF)
2025  07AD  86          	add	a, (hl)
2026  07AE  4F          	ld	c,a
2027  07AF  3E 00       	ld	a,+((_tile) / 256)
2028  07B1  CE 00       	adc	a,0x00
2029  07B3  47          	ld	b,a
2030  07B4  3A 00 00    	ld	a,(_tile_offset)
2031  07B7  5F          	ld	e,a
2032  07B8  16 00       	ld	d,0x00
2033  07BA  13          	inc	de
2034  07BB  13          	inc	de
2035  07BC  13          	inc	de
2036  07BD  2A 00 00    	ld	hl,(_sprite)
2037  07C0  C5          	push	bc
2038  07C1  26 0C       	ld	h,0x0c
2039  07C3  E5          	push	hl
2040  07C4  D5          	push	de
2041  07C5  CD 00 00    	call	_spr_tile_dir
2042  07C8  F1          	pop	af
2043  07C9  F1          	pop	af
2044  07CA  C1          	pop	bc
2045  07CB  7D          	ld	a, l
2046  07CC  02          	ld	(bc),a
2047  07CD              l_player_move_00126:
2048  07CD  CD 72 09    	call	_player_move_input
2049  07D0  3A 00 00    	ld	a,(_sprite)
2050  07D3  C6 00       	add	a,+((_state) & 0xFF)
2051  07D5  4F          	ld	c,a
2052  07D6  3E 00       	ld	a,+((_state) / 256)
2053  07D8  CE 00       	adc	a,0x00
2054  07DA  47          	ld	b,a
2055  07DB  0A          	ld	a,(bc)
2056  07DC  21 00 00    	ld	hl,_s_state
2057  07DF  77          	ld	(hl),a
2058  07E0  E6 01       	and	a,0x01
2059  07E2  4F          	ld	c,a
2060  07E3  B7          	or	a, a
2061  07E4  20 6F       	jr	NZ,l_player_move_00153
2062  07E6  7E          	ld	a,(hl)
2063  07E7  E6 02       	and	a,0x02
2064  07E9  20 6A       	jr	NZ,l_player_move_00153
2065  07EB  3E 00       	ld	a,+((_col) & 0xFF)
2066  07ED  21 00 00    	ld	hl,_sprite
2067  07F0  86          	add	a, (hl)
2068  07F1  4F          	ld	c,a
2069  07F2  3E 00       	ld	a,+((_col) / 256)
2070  07F4  CE 00       	adc	a,0x00
2071  07F6  47          	ld	b,a
2072  07F7  0A          	ld	a,(bc)
2073  07F8  57          	ld	d,a
2074  07F9  4E          	ld	c,(hl)
2075  07FA  06 00       	ld	b,0x00
2076  07FC  21 00 00    	ld	hl,_lin
2077  07FF  09          	add	hl,bc
2078  0800  7E          	ld	a,(hl)
2079  0801  C6 10       	add	a,0x10
2080  0803  5F          	ld	e, a
2081  0804  D5          	push	de
2082  0805  CD 00 00    	call	_game_calc_index
2083  0808  F1          	pop	af
2084  0809  22 00 00    	ld	(_index_d),hl
2085  080C  3A 00 00    	ld	a,(_s_lin0)
2086  080F  D6 98       	sub	a,0x98
2087  0811  20 06       	jr	NZ,l_player_move_00128
2088  0813  21 00 00    	ld	hl,0x0000
2089  0816  22 00 00    	ld	(_index_d),hl
2090  0819              l_player_move_00128:
2091  0819  21 01 00    	ld	hl,_index_d + 1
2092  081C  7E          	ld	a,(hl)
2093  081D  2B          	dec	hl
2094  081E  B6          	or	a,(hl)
2095  081F  CA 3B 09    	jp	Z,l_player_move_00154
2096  0822  01 00 00    	ld	bc,_lvl_1+0
2097  0825  79          	ld	a,c
2098  0826  86          	add	a, (hl)
2099  0827  5F          	ld	e,a
2100  0828  78          	ld	a,b
2101  0829  23          	inc	hl
2102  082A  8E          	adc	a, (hl)
2103  082B  57          	ld	d,a
2104  082C  1A          	ld	a,(de)
2105  082D  D6 10       	sub	a,0x10
2106  082F  D2 3B 09    	jp	NC,l_player_move_00154
2107  0832  56          	ld	d,(hl)
2108  0833  2B          	dec	hl
2109  0834  5E          	ld	e,(hl)
2110  0835  13          	inc	de
2111  0836  69          	ld	l, c
2112  0837  60          	ld	h, b
2113  0838  19          	add	hl,de
2114  0839  7E          	ld	a, (hl)
2115  083A  D6 10       	sub	a,0x10
2116  083C  D2 3B 09    	jp	NC,l_player_move_00154
2117  083F  3A 00 00    	ld	a,(_sprite)
2118  0842  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2119  0844  4F          	ld	c,a
2120  0845  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2121  0847  CE 00       	adc	a,0x00
2122  0849  47          	ld	b,a
2123  084A  3E 02       	ld	a,0x02
2124  084C  02          	ld	(bc),a
2125  084D  21 00 00    	ld	hl,_s_state
2126  0850  CB CE       	set	1, (hl)
2127  0852  C3 3B 09    	jp	l_player_move_00154
2128  0855              l_player_move_00153:
2129  0855  21 00 00    	ld	hl,_sprite_lin_inc_mul
2130  0858  36 02       	ld	(hl),0x02
2131  085A  2A 00 00    	ld	hl,(_index_player)
2132  085D  26 00       	ld	h,0x00
2133  085F  11 00 00    	ld	de,_player_jump_c
2134  0862  19          	add	hl,de
2135  0863  46          	ld	b, (hl)
2136  0864  3E 03       	ld	a,0x03
2137  0866  90          	sub	a, b
2138  0867  30 05       	jr	NC,l_player_move_00134
2139  0869  21 00 00    	ld	hl,_sprite_lin_inc_mul
2140  086C  36 01       	ld	(hl),0x01
2141  086E              l_player_move_00134:
2142  086E  3E 08       	ld	a,0x08
2143  0870  90          	sub	a, b
2144  0871  30 05       	jr	NC,l_player_move_00136
2145  0873  21 00 00    	ld	hl,_sprite_lin_inc_mul
2146  0876  36 00       	ld	(hl),0x00
2147  0878              l_player_move_00136:
2148  0878  3E 0C       	ld	a,0x0c
2149  087A  90          	sub	a, b
2150  087B  30 05       	jr	NC,l_player_move_00138
2151  087D  21 00 00    	ld	hl,_sprite_lin_inc_mul
2152  0880  36 01       	ld	(hl),0x01
2153  0882              l_player_move_00138:
2154  0882  3E 11       	ld	a,0x11
2155  0884  90          	sub	a, b
2156  0885  30 05       	jr	NC,l_player_move_00140
2157  0887  21 00 00    	ld	hl,_sprite_lin_inc_mul
2158  088A  36 02       	ld	(hl),0x02
2159  088C              l_player_move_00140:
2160  088C  79          	ld	a,c
2161  088D  B7          	or	a, a
2162  088E  28 11       	jr	Z,l_player_move_00150
2163  0890  78          	ld	a,b
2164  0891  D6 0A       	sub	a,0x0a
2165  0893  30 06       	jr	NC,l_player_move_00142
2166  0895  CD 00 00    	call	_spr_move_up
2167  0898  C3 25 09    	jp	l_player_move_00151
2168  089B              l_player_move_00142:
2169  089B  CD 00 00    	call	_spr_set_fall
2170  089E  C3 25 09    	jp	l_player_move_00151
2171  08A1              l_player_move_00150:
2172  08A1  CD 00 00    	call	_spr_move_down
2173  08A4  7D          	ld	a,l
2174  08A5  B7          	or	a, a
2175  08A6  CA 25 09    	jp	Z,l_player_move_00151
2176  08A9  21 00 00    	ld	hl,_s_state
2177  08AC  CB 8E       	res	1, (hl)
2178  08AE  3A 00 00    	ld	a,(_sprite)
2179  08B1  C6 00       	add	a,+((_state_a) & 0xFF)
2180  08B3  4F          	ld	c,a
2181  08B4  3E 00       	ld	a,+((_state_a) / 256)
2182  08B6  CE 00       	adc	a,0x00
2183  08B8  47          	ld	b,a
2184  08B9  0A          	ld	a,(bc)
2185  08BA  E6 7F       	and	a,0x7f
2186  08BC  02          	ld	(bc),a
2187  08BD  3A 00 00    	ld	a,(_index_player)
2188  08C0  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2189  08C2  4F          	ld	c,a
2190  08C3  3E 00       	ld	a,+((_player_jump_c) / 256)
2191  08C5  CE 00       	adc	a,0x00
2192  08C7  47          	ld	b,a
2193  08C8  AF          	xor	a, a
2194  08C9  02          	ld	(bc),a
2195  08CA  3A 00 00    	ld	a,(_sprite)
2196  08CD  C6 00       	add	a,+((_jump_lin) & 0xFF)
2197  08CF  4F          	ld	c,a
2198  08D0  3E 00       	ld	a,+((_jump_lin) / 256)
2199  08D2  CE 00       	adc	a,0x00
2200  08D4  47          	ld	b,a
2201  08D5  AF          	xor	a, a
2202  08D6  02          	ld	(bc),a
2203  08D7  3A 00 00    	ld	a,(_index_player)
2204  08DA  C6 00       	add	a,+((_sliding) & 0xFF)
2205  08DC  4F          	ld	c,a
2206  08DD  3E 00       	ld	a,+((_sliding) / 256)
2207  08DF  CE 00       	adc	a,0x00
2208  08E1  47          	ld	b,a
2209  08E2  AF          	xor	a, a
2210  08E3  02          	ld	(bc),a
2211  08E4  3E 00       	ld	a,+((_colint) & 0xFF)
2212  08E6  21 00 00    	ld	hl,_sprite
2213  08E9  86          	add	a, (hl)
2214  08EA  4F          	ld	c,a
2215  08EB  3E 00       	ld	a,+((_colint) / 256)
2216  08ED  CE 00       	adc	a,0x00
2217  08EF  47          	ld	b,a
2218  08F0  AF          	xor	a, a
2219  08F1  02          	ld	(bc),a
2220  08F2  3E 00       	ld	a,+((_tile) & 0xFF)
2221  08F4  86          	add	a, (hl)
2222  08F5  4F          	ld	c,a
2223  08F6  3E 00       	ld	a,+((_tile) / 256)
2224  08F8  CE 00       	adc	a,0x00
2225  08FA  47          	ld	b,a
2226  08FB  3A 00 00    	ld	a,(_tile_offset)
2227  08FE  5F          	ld	e,a
2228  08FF  16 00       	ld	d,0x00
2229  0901  13          	inc	de
2230  0902  13          	inc	de
2231  0903  13          	inc	de
2232  0904  2A 00 00    	ld	hl,(_sprite)
2233  0907  C5          	push	bc
2234  0908  26 0C       	ld	h,0x0c
2235  090A  E5          	push	hl
2236  090B  D5          	push	de
2237  090C  CD 00 00    	call	_spr_tile_dir
2238  090F  F1          	pop	af
2239  0910  F1          	pop	af
2240  0911  C1          	pop	bc
2241  0912  7D          	ld	a, l
2242  0913  02          	ld	(bc),a
2243  0914  3A 00 00    	ld	a,(_s_state)
2244  0917  E6 08       	and	a,0x08
2245  0919  20 07       	jr	NZ,l_player_move_00144
2246  091B  3A 00 00    	ld	a,(_s_state)
2247  091E  E6 04       	and	a,0x04
2248  0920  28 03       	jr	Z,l_player_move_00151
2249  0922              l_player_move_00144:
2250  0922  CD FD 00    	call	_player_calc_slide
2251  0925              l_player_move_00151:
2252  0925  21 00 00    	ld	hl,_sprite_lin_inc_mul
2253  0928  36 00       	ld	(hl),0x00
2254  092A  3A 00 00    	ld	a,(_index_player)
2255  092D  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2256  092F  4F          	ld	c,a
2257  0930  3E 00       	ld	a,+((_player_jump_c) / 256)
2258  0932  CE 00       	adc	a,0x00
2259  0934  47          	ld	b,a
2260  0935  0A          	ld	a,(bc)
2261  0936  3C          	inc	a
2262  0937  02          	ld	(bc),a
2263  0938  CD 2A 0C    	call	_player_move_horizontal
2264  093B              l_player_move_00154:
2265  093B  2A 00 00    	ld	hl,(_sprite)
2266  093E  26 00       	ld	h,0x00
2267  0940  29          	add	hl, hl
2268  0941  11 00 00    	ld	de,_spr_timer
2269  0944  19          	add	hl,de
2270  0945  4E          	ld	c,(hl)
2271  0946  23          	inc	hl
2272  0947  46          	ld	b,(hl)
2273  0948  21 04 00    	ld	hl,0x0004
2274  094B  E5          	push	hl
2275  094C  C5          	push	bc
2276  094D  CD 00 00    	call	_game_check_time
2277  0950  F1          	pop	af
2278  0951  F1          	pop	af
2279  0952  7D          	ld	a,l
2280  0953  B7          	or	a, a
2281  0954  28 03       	jr	Z,l_player_move_00157
2282  0956  CD 18 0F    	call	_player_hit_brick_clear
2283  0959              l_player_move_00157:
2284  0959  CD 00 00    	call	_spr_redraw
2285  095C  3A 00 00    	ld	a,(_sprite)
2286  095F  C6 00       	add	a,+((_state) & 0xFF)
2287  0961  4F          	ld	c,a
2288  0962  3E 00       	ld	a,+((_state) / 256)
2289  0964  CE 00       	adc	a,0x00
2290  0966  47          	ld	b,a
2291  0967  3A 00 00    	ld	a,(_s_state)
2292  096A  02          	ld	(bc),a
2293  096B  2E 00       	ld	l,0x00
2294  096D              l_player_move_00158:
2295  096D  DD F9       	ld	sp, ix
2296  096F  DD E1       	pop	ix
2297  0971  C9          	ret
2298  0972              	SECTION code_compiler
2299  0972              ;	---------------------------------
2300  0972              ; Function player_move_input
2301  0972              ; ---------------------------------
2302  0972              _player_move_input:
2303  0972  3A 00 00    	ld	a,(_s_state)
2304  0975  0F          	rrca
2305  0976  38 07       	jr	C,l_player_move_input_00101
2306  0978  3A 00 00    	ld	a,(_s_state)
2307  097B  E6 02       	and	a,0x02
2308  097D  28 05       	jr	Z,l_player_move_input_00102
2309  097F              l_player_move_input_00101:
2310  097F  2E 00       	ld	l,0x00
2311  0981  C3 29 0C    	jp	l_player_move_input_00135
2312  0984              l_player_move_input_00102:
2313  0984  CD 46 01    	call	_player_check_input
2314  0987  7D          	ld	a,l
2315  0988  B7          	or	a, a
2316  0989  CA 38 0B    	jp	Z,l_player_move_input_00131
2317  098C  2A 00 00    	ld	hl,(_index_player)
2318  098F  26 00       	ld	h,0x00
2319  0991  01 00 00    	ld	bc,_sliding
2320  0994  09          	add	hl,bc
2321  0995  46          	ld	b,(hl)
2322  0996  3A 00 00    	ld	a,(_dirs)
2323  0999  E6 80       	and	a,0x80
2324  099B  4F          	ld	c,a
2325  099C  78          	ld	a,b
2326  099D  B7          	or	a, a
2327  099E  28 05       	jr	Z,l_player_move_input_00130
2328  09A0  79          	ld	a,c
2329  09A1  B7          	or	a, a
2330  09A2  CA 38 0B    	jp	Z,l_player_move_input_00131
2331  09A5              l_player_move_input_00130:
2332  09A5  79          	ld	a,c
2333  09A6  B7          	or	a, a
2334  09A7  CA 65 0A    	jp	Z,l_player_move_input_00110
2335  09AA  CD 00 00    	call	_ay_is_playing
2336  09AD  7D          	ld	a,l
2337  09AE  D6 03       	sub	a,0x03
2338  09B0  28 06       	jr	Z,l_player_move_input_00105
2339  09B2  21 00 00    	ld	hl,_ay_effect_03
2340  09B5  CD 00 00    	call	_ay_fx_play
2341  09B8              l_player_move_input_00105:
2342  09B8  CD 00 00    	call	_sound_jump
2343  09BB  3A 00 00    	ld	a,(_sprite)
2344  09BE  C6 00       	add	a,+((_state) & 0xFF)
2345  09C0  4F          	ld	c,a
2346  09C1  3E 00       	ld	a,+((_state) / 256)
2347  09C3  CE 00       	adc	a,0x00
2348  09C5  47          	ld	b,a
2349  09C6  0A          	ld	a,(bc)
2350  09C7  CB 57       	bit	2, a
2351  09C9  28 0F       	jr	Z,l_player_move_input_00107
2352  09CB  3A 00 00    	ld	a,(_sprite)
2353  09CE  C6 00       	add	a,+((_colint) & 0xFF)
2354  09D0  4F          	ld	c,a
2355  09D1  3E 00       	ld	a,+((_colint) / 256)
2356  09D3  CE 00       	adc	a,0x00
2357  09D5  47          	ld	b,a
2358  09D6  AF          	xor	a, a
2359  09D7  02          	ld	(bc),a
2360  09D8  18 0E       	jr	l_player_move_input_00108
2361  09DA              l_player_move_input_00107:
2362  09DA  3A 00 00    	ld	a,(_sprite)
2363  09DD  C6 00       	add	a,+((_colint) & 0xFF)
2364  09DF  4F          	ld	c,a
2365  09E0  3E 00       	ld	a,+((_colint) / 256)
2366  09E2  CE 00       	adc	a,0x00
2367  09E4  47          	ld	b,a
2368  09E5  3E 02       	ld	a,0x02
2369  09E7  02          	ld	(bc),a
2370  09E8              l_player_move_input_00108:
2371  09E8  21 00 00    	ld	hl,_s_state
2372  09EB  CB C6       	set	0, (hl)
2373  09ED  CB 8E       	res	1, (hl)
2374  09EF  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2375  09F1  21 00 00    	ld	hl,_sprite
2376  09F4  86          	add	a, (hl)
2377  09F5  4F          	ld	c,a
2378  09F6  3E 00       	ld	a,+((_jump_lin) / 256)
2379  09F8  CE 00       	adc	a,0x00
2380  09FA  47          	ld	b,a
2381  09FB  3E 00       	ld	a,+((_lin) & 0xFF)
2382  09FD  86          	add	a, (hl)
2383  09FE  5F          	ld	e,a
2384  09FF  3E 00       	ld	a,+((_lin) / 256)
2385  0A01  CE 00       	adc	a,0x00
2386  0A03  57          	ld	d,a
2387  0A04  1A          	ld	a,(de)
2388  0A05  02          	ld	(bc),a
2389  0A06  3E 00       	ld	a,+((_state) & 0xFF)
2390  0A08  86          	add	a, (hl)
2391  0A09  4F          	ld	c,a
2392  0A0A  3E 00       	ld	a,+((_state) / 256)
2393  0A0C  CE 00       	adc	a,0x00
2394  0A0E  47          	ld	b,a
2395  0A0F  3A 00 00    	ld	a,(_s_state)
2396  0A12  02          	ld	(bc),a
2397  0A13  3A 00 00    	ld	a,(_sprite)
2398  0A16  C6 00       	add	a,+((_tile) & 0xFF)
2399  0A18  4F          	ld	c,a
2400  0A19  3E 00       	ld	a,+((_tile) / 256)
2401  0A1B  CE 00       	adc	a,0x00
2402  0A1D  47          	ld	b,a
2403  0A1E  3A 00 00    	ld	a,(_tile_offset)
2404  0A21  5F          	ld	e,a
2405  0A22  16 00       	ld	d,0x00
2406  0A24  21 07 00    	ld	hl,0x0007
2407  0A27  19          	add	hl,de
2408  0A28  EB          	ex	de,hl
2409  0A29  2A 00 00    	ld	hl,(_sprite)
2410  0A2C  C5          	push	bc
2411  0A2D  26 0C       	ld	h,0x0c
2412  0A2F  E5          	push	hl
2413  0A30  D5          	push	de
2414  0A31  CD 00 00    	call	_spr_tile_dir
2415  0A34  F1          	pop	af
2416  0A35  F1          	pop	af
2417  0A36  C1          	pop	bc
2418  0A37  7D          	ld	a, l
2419  0A38  02          	ld	(bc),a
2420  0A39  3A 00 00    	ld	a,(_sprite)
2421  0A3C  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2422  0A3E  4F          	ld	c,a
2423  0A3F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2424  0A41  CE 00       	adc	a,0x00
2425  0A43  47          	ld	b,a
2426  0A44  3E 02       	ld	a,0x02
2427  0A46  02          	ld	(bc),a
2428  0A47  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
2429  0A49  21 00 00    	ld	hl,_index_player
2430  0A4C  86          	add	a, (hl)
2431  0A4D  4F          	ld	c,a
2432  0A4E  3E 00       	ld	a,+((_player_jump_c) / 256)
2433  0A50  CE 00       	adc	a,0x00
2434  0A52  47          	ld	b,a
2435  0A53  AF          	xor	a, a
2436  0A54  02          	ld	(bc),a
2437  0A55  3E 00       	ld	a,+((_sliding) & 0xFF)
2438  0A57  86          	add	a, (hl)
2439  0A58  4F          	ld	c,a
2440  0A59  3E 00       	ld	a,+((_sliding) / 256)
2441  0A5B  CE 00       	adc	a,0x00
2442  0A5D  47          	ld	b,a
2443  0A5E  AF          	xor	a, a
2444  0A5F  02          	ld	(bc),a
2445  0A60  2E 01       	ld	l,0x01
2446  0A62  C3 29 0C    	jp	l_player_move_input_00135
2447  0A65              l_player_move_input_00110:
2448  0A65  3A 00 00    	ld	a,(_dirs)
2449  0A68  E6 08       	and	a,0x08
2450  0A6A  28 3D       	jr	Z,l_player_move_input_00114
2451  0A6C  3A 00 00    	ld	a,(_s_state)
2452  0A6F  E6 08       	and	a,0x08
2453  0A71  28 08       	jr	Z,l_player_move_input_00112
2454  0A73  CD FD 00    	call	_player_calc_slide
2455  0A76  2E 01       	ld	l,0x01
2456  0A78  C3 29 0C    	jp	l_player_move_input_00135
2457  0A7B              l_player_move_input_00112:
2458  0A7B  21 00 00    	ld	hl,_s_state
2459  0A7E  CB D6       	set	2, (hl)
2460  0A80  CB 9E       	res	3, (hl)
2461  0A82  01 00 00    	ld	bc,_state_a+0
2462  0A85  79          	ld	a,c
2463  0A86  21 00 00    	ld	hl,_sprite
2464  0A89  86          	add	a, (hl)
2465  0A8A  5F          	ld	e,a
2466  0A8B  78          	ld	a,b
2467  0A8C  CE 00       	adc	a,0x00
2468  0A8E  57          	ld	d,a
2469  0A8F  1A          	ld	a,(de)
2470  0A90  CB E7       	set	4, a
2471  0A92  12          	ld	(de),a
2472  0A93  79          	ld	a,c
2473  0A94  86          	add	a, (hl)
2474  0A95  5F          	ld	e,a
2475  0A96  78          	ld	a,b
2476  0A97  CE 00       	adc	a,0x00
2477  0A99  57          	ld	d,a
2478  0A9A  1A          	ld	a,(de)
2479  0A9B  E6 F7       	and	a,0xf7
2480  0A9D  12          	ld	(de),a
2481  0A9E  79          	ld	a,c
2482  0A9F  86          	add	a, (hl)
2483  0AA0  4F          	ld	c,a
2484  0AA1  78          	ld	a,b
2485  0AA2  CE 00       	adc	a,0x00
2486  0AA4  47          	ld	b,a
2487  0AA5  0A          	ld	a,(bc)
2488  0AA6  CB EF       	set	5, a
2489  0AA8  02          	ld	(bc),a
2490  0AA9              l_player_move_input_00114:
2491  0AA9  3A 00 00    	ld	a,(_dirs)
2492  0AAC  E6 04       	and	a,0x04
2493  0AAE  28 3D       	jr	Z,l_player_move_input_00118
2494  0AB0  3A 00 00    	ld	a,(_s_state)
2495  0AB3  E6 04       	and	a,0x04
2496  0AB5  28 08       	jr	Z,l_player_move_input_00116
2497  0AB7  CD FD 00    	call	_player_calc_slide
2498  0ABA  2E 01       	ld	l,0x01
2499  0ABC  C3 29 0C    	jp	l_player_move_input_00135
2500  0ABF              l_player_move_input_00116:
2501  0ABF  21 00 00    	ld	hl,_s_state
2502  0AC2  CB DE       	set	3, (hl)
2503  0AC4  CB 96       	res	2, (hl)
2504  0AC6  01 00 00    	ld	bc,_state_a+0
2505  0AC9  79          	ld	a,c
2506  0ACA  21 00 00    	ld	hl,_sprite
2507  0ACD  86          	add	a, (hl)
2508  0ACE  5F          	ld	e,a
2509  0ACF  78          	ld	a,b
2510  0AD0  CE 00       	adc	a,0x00
2511  0AD2  57          	ld	d,a
2512  0AD3  1A          	ld	a,(de)
2513  0AD4  CB DF       	set	3, a
2514  0AD6  12          	ld	(de),a
2515  0AD7  79          	ld	a,c
2516  0AD8  86          	add	a, (hl)
2517  0AD9  5F          	ld	e,a
2518  0ADA  78          	ld	a,b
2519  0ADB  CE 00       	adc	a,0x00
2520  0ADD  57          	ld	d,a
2521  0ADE  1A          	ld	a,(de)
2522  0ADF  E6 EF       	and	a,0xef
2523  0AE1  12          	ld	(de),a
2524  0AE2  79          	ld	a,c
2525  0AE3  86          	add	a, (hl)
2526  0AE4  4F          	ld	c,a
2527  0AE5  78          	ld	a,b
2528  0AE6  CE 00       	adc	a,0x00
2529  0AE8  47          	ld	b,a
2530  0AE9  0A          	ld	a,(bc)
2531  0AEA  CB EF       	set	5, a
2532  0AEC  02          	ld	(bc),a
2533  0AED              l_player_move_input_00118:
2534  0AED  3A 00 00    	ld	a,(_sprite)
2535  0AF0  C6 00       	add	a,+((_state) & 0xFF)
2536  0AF2  4F          	ld	c,a
2537  0AF3  3E 00       	ld	a,+((_state) / 256)
2538  0AF5  CE 00       	adc	a,0x00
2539  0AF7  47          	ld	b,a
2540  0AF8  3A 00 00    	ld	a,(_s_state)
2541  0AFB  02          	ld	(bc),a
2542  0AFC  3A 00 00    	ld	a,(_sprite)
2543  0AFF  C6 00       	add	a,+((_tile) & 0xFF)
2544  0B01  4F          	ld	c,a
2545  0B02  3E 00       	ld	a,+((_tile) / 256)
2546  0B04  CE 00       	adc	a,0x00
2547  0B06  47          	ld	b,a
2548  0B07  3A 00 00    	ld	a,(_tile_offset)
2549  0B0A  5F          	ld	e,a
2550  0B0B  16 00       	ld	d,0x00
2551  0B0D  2A 00 00    	ld	hl,(_sprite)
2552  0B10  C5          	push	bc
2553  0B11  26 0C       	ld	h,0x0c
2554  0B13  E5          	push	hl
2555  0B14  D5          	push	de
2556  0B15  CD 00 00    	call	_spr_tile_dir
2557  0B18  F1          	pop	af
2558  0B19  F1          	pop	af
2559  0B1A  C1          	pop	bc
2560  0B1B  7D          	ld	a, l
2561  0B1C  02          	ld	(bc),a
2562  0B1D  CD 00 00    	call	_ay_is_playing
2563  0B20  7D          	ld	a,l
2564  0B21  B7          	or	a, a
2565  0B22  20 0C       	jr	NZ,l_player_move_input_00120
2566  0B24  3A 00 00    	ld	a,(_game_bonus)
2567  0B27  B7          	or	a, a
2568  0B28  20 06       	jr	NZ,l_player_move_input_00120
2569  0B2A  21 00 00    	ld	hl,_ay_effect_20
2570  0B2D  CD 00 00    	call	_ay_fx_play
2571  0B30              l_player_move_input_00120:
2572  0B30  CD 2A 0C    	call	_player_move_horizontal
2573  0B33  2E 01       	ld	l,0x01
2574  0B35  C3 29 0C    	jp	l_player_move_input_00135
2575  0B38              l_player_move_input_00131:
2576  0B38  3A 00 00    	ld	a,(_sprite)
2577  0B3B  C6 00       	add	a,+((_state_a) & 0xFF)
2578  0B3D  4F          	ld	c,a
2579  0B3E  3E 00       	ld	a,+((_state_a) / 256)
2580  0B40  CE 00       	adc	a,0x00
2581  0B42  47          	ld	b,a
2582  0B43  0A          	ld	a,(bc)
2583  0B44  CB 6F       	bit	5, a
2584  0B46  28 12       	jr	Z,l_player_move_input_00123
2585  0B48  CD FD 00    	call	_player_calc_slide
2586  0B4B  3A 00 00    	ld	a,(_sprite)
2587  0B4E  C6 00       	add	a,+((_state_a) & 0xFF)
2588  0B50  4F          	ld	c,a
2589  0B51  3E 00       	ld	a,+((_state_a) / 256)
2590  0B53  CE 00       	adc	a,0x00
2591  0B55  47          	ld	b,a
2592  0B56  0A          	ld	a,(bc)
2593  0B57  E6 DF       	and	a,0xdf
2594  0B59  02          	ld	(bc),a
2595  0B5A              l_player_move_input_00123:
2596  0B5A  3A 00 00    	ld	a,(_index_player)
2597  0B5D  C6 00       	add	a,+((_sliding) & 0xFF)
2598  0B5F  4F          	ld	c,a
2599  0B60  3E 00       	ld	a,+((_sliding) / 256)
2600  0B62  CE 00       	adc	a,0x00
2601  0B64  47          	ld	b,a
2602  0B65  0A          	ld	a,(bc)
2603  0B66  B7          	or	a, a
2604  0B67  CA 27 0C    	jp	Z,l_player_move_input_00129
2605  0B6A  CD 00 00    	call	_ay_is_playing
2606  0B6D  7D          	ld	a,l
2607  0B6E  D6 03       	sub	a,0x03
2608  0B70  28 06       	jr	Z,l_player_move_input_00125
2609  0B72  21 00 00    	ld	hl,_ay_effect_01
2610  0B75  CD 00 00    	call	_ay_fx_play
2611  0B78              l_player_move_input_00125:
2612  0B78  CD 00 00    	call	_sound_slide
2613  0B7B  CD 2A 0C    	call	_player_move_horizontal
2614  0B7E  3A 00 00    	ld	a,(_index_player)
2615  0B81  C6 00       	add	a,+((_sliding) & 0xFF)
2616  0B83  4F          	ld	c,a
2617  0B84  3E 00       	ld	a,+((_sliding) / 256)
2618  0B86  CE 00       	adc	a,0x00
2619  0B88  47          	ld	b,a
2620  0B89  0A          	ld	a,(bc)
2621  0B8A  C6 FF       	add	a,0xff
2622  0B8C  02          	ld	(bc),a
2623  0B8D  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
2624  0B8F  21 00 00    	ld	hl,_sprite
2625  0B92  86          	add	a, (hl)
2626  0B93  4F          	ld	c,a
2627  0B94  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2628  0B96  CE 00       	adc	a,0x00
2629  0B98  47          	ld	b,a
2630  0B99  AF          	xor	a, a
2631  0B9A  02          	ld	(bc),a
2632  0B9B  3E 00       	ld	a,+((_tile) & 0xFF)
2633  0B9D  86          	add	a, (hl)
2634  0B9E  4F          	ld	c,a
2635  0B9F  3E 00       	ld	a,+((_tile) / 256)
2636  0BA1  CE 00       	adc	a,0x00
2637  0BA3  47          	ld	b,a
2638  0BA4  3A 00 00    	ld	a,(_tile_offset)
2639  0BA7  5F          	ld	e,a
2640  0BA8  16 00       	ld	d,0x00
2641  0BAA  13          	inc	de
2642  0BAB  13          	inc	de
2643  0BAC  13          	inc	de
2644  0BAD  13          	inc	de
2645  0BAE  2A 00 00    	ld	hl,(_sprite)
2646  0BB1  C5          	push	bc
2647  0BB2  26 0C       	ld	h,0x0c
2648  0BB4  E5          	push	hl
2649  0BB5  D5          	push	de
2650  0BB6  CD 00 00    	call	_spr_tile_dir
2651  0BB9  F1          	pop	af
2652  0BBA  F1          	pop	af
2653  0BBB  C1          	pop	bc
2654  0BBC  7D          	ld	a, l
2655  0BBD  02          	ld	(bc),a
2656  0BBE  3A 00 00    	ld	a,(_index_player)
2657  0BC1  C6 00       	add	a,+((_sliding) & 0xFF)
2658  0BC3  4F          	ld	c,a
2659  0BC4  3E 00       	ld	a,+((_sliding) / 256)
2660  0BC6  CE 00       	adc	a,0x00
2661  0BC8  47          	ld	b,a
2662  0BC9  0A          	ld	a,(bc)
2663  0BCA  B7          	or	a, a
2664  0BCB  20 5A       	jr	NZ,l_player_move_input_00129
2665  0BCD  01 00 00    	ld	bc,_spr_timer+0
2666  0BD0  2A 00 00    	ld	hl,(_sprite)
2667  0BD3  26 00       	ld	h,0x00
2668  0BD5  29          	add	hl, hl
2669  0BD6  09          	add	hl,bc
2670  0BD7  AF          	xor	a, a
2671  0BD8  77          	ld	(hl), a
2672  0BD9  23          	inc	hl
2673  0BDA  77          	ld	(hl), a
2674  0BDB  3E 00       	ld	a,+((_colint) & 0xFF)
2675  0BDD  21 00 00    	ld	hl,_sprite
2676  0BE0  86          	add	a, (hl)
2677  0BE1  4F          	ld	c,a
2678  0BE2  3E 00       	ld	a,+((_colint) / 256)
2679  0BE4  CE 00       	adc	a,0x00
2680  0BE6  47          	ld	b,a
2681  0BE7  AF          	xor	a, a
2682  0BE8  02          	ld	(bc),a
2683  0BE9  3E 00       	ld	a,+((_tile) & 0xFF)
2684  0BEB  86          	add	a, (hl)
2685  0BEC  4F          	ld	c,a
2686  0BED  3E 00       	ld	a,+((_tile) / 256)
2687  0BEF  CE 00       	adc	a,0x00
2688  0BF1  47          	ld	b,a
2689  0BF2  3A 00 00    	ld	a,(_tile_offset)
2690  0BF5  5F          	ld	e,a
2691  0BF6  16 00       	ld	d,0x00
2692  0BF8  13          	inc	de
2693  0BF9  13          	inc	de
2694  0BFA  13          	inc	de
2695  0BFB  2A 00 00    	ld	hl,(_sprite)
2696  0BFE  C5          	push	bc
2697  0BFF  26 0C       	ld	h,0x0c
2698  0C01  E5          	push	hl
2699  0C02  D5          	push	de
2700  0C03  CD 00 00    	call	_spr_tile_dir
2701  0C06  F1          	pop	af
2702  0C07  F1          	pop	af
2703  0C08  C1          	pop	bc
2704  0C09  7D          	ld	a, l
2705  0C0A  02          	ld	(bc),a
2706  0C0B  01 00 00    	ld	bc,_state+0
2707  0C0E  79          	ld	a,c
2708  0C0F  21 00 00    	ld	hl,_sprite
2709  0C12  86          	add	a, (hl)
2710  0C13  5F          	ld	e,a
2711  0C14  78          	ld	a,b
2712  0C15  CE 00       	adc	a,0x00
2713  0C17  57          	ld	d,a
2714  0C18  1A          	ld	a,(de)
2715  0C19  E6 FB       	and	a,0xfb
2716  0C1B  12          	ld	(de),a
2717  0C1C  79          	ld	a,c
2718  0C1D  86          	add	a, (hl)
2719  0C1E  4F          	ld	c,a
2720  0C1F  78          	ld	a,b
2721  0C20  CE 00       	adc	a,0x00
2722  0C22  47          	ld	b,a
2723  0C23  0A          	ld	a,(bc)
2724  0C24  E6 F7       	and	a,0xf7
2725  0C26  02          	ld	(bc),a
2726  0C27              l_player_move_input_00129:
2727  0C27  2E 00       	ld	l,0x00
2728  0C29              l_player_move_input_00135:
2729  0C29  C9          	ret
2730  0C2A              	SECTION code_compiler
2731  0C2A              ;	---------------------------------
2732  0C2A              ; Function player_move_horizontal
2733  0C2A              ; ---------------------------------
2734  0C2A              _player_move_horizontal:
2735  0C2A  CD 3A 0C    	call	_player_push_check
2736  0C2D  7D          	ld	a,l
2737  0C2E  B7          	or	a, a
2738  0C2F  28 05       	jr	Z,l_player_move_horizontal_00102
2739  0C31  CD AC 0C    	call	_player_push
2740  0C34  18 03       	jr	l_player_move_horizontal_00104
2741  0C36              l_player_move_horizontal_00102:
2742  0C36  CD 00 00    	call	_spr_move_horizontal
2743  0C39              l_player_move_horizontal_00104:
2744  0C39  C9          	ret
2745  0C3A              	SECTION code_compiler
2746  0C3A              ;	---------------------------------
2747  0C3A              ; Function player_push_check
2748  0C3A              ; ---------------------------------
2749  0C3A              _player_push_check:
2750  0C3A  2A 00 00    	ld	hl,(_sprite_other_player)
2751  0C3D  26 00       	ld	h,0x00
2752  0C3F  01 00 00    	ld	bc,_lin
2753  0C42  09          	add	hl,bc
2754  0C43  7E          	ld	a,(hl)
2755  0C44  4F          	ld	c,a
2756  0C45  B7          	or	a,a
2757  0C46  20 03       	jr	NZ,l_player_push_check_00102
2758  0C48  6F          	ld	l,a
2759  0C49  18 60       	jr	l_player_push_check_00111
2760  0C4B              l_player_push_check_00102:
2761  0C4B  2A 00 00    	ld	hl,(_sprite)
2762  0C4E  26 00       	ld	h,0x00
2763  0C50  11 00 00    	ld	de,_lin
2764  0C53  19          	add	hl,de
2765  0C54  7E          	ld	a,(hl)
2766  0C55  EB          	ex	de,hl
2767  0C56  47          	ld	b,a
2768  0C57  79          	ld	a,c
2769  0C58  90          	sub	a, b
2770  0C59  28 04       	jr	Z,l_player_push_check_00104
2771  0C5B  2E 00       	ld	l,0x00
2772  0C5D  18 4C       	jr	l_player_push_check_00111
2773  0C5F              l_player_push_check_00104:
2774  0C5F  01 00 00    	ld	bc,_col+0
2775  0C62  2A 00 00    	ld	hl,(_sprite)
2776  0C65  26 00       	ld	h,0x00
2777  0C67  09          	add	hl,bc
2778  0C68  6E          	ld	l, (hl)
2779  0C69  EB          	ex	de,hl
2780  0C6A  2A 00 00    	ld	hl,(_sprite_other_player)
2781  0C6D  26 00       	ld	h,0x00
2782  0C6F  09          	add	hl,bc
2783  0C70  4E          	ld	c, (hl)
2784  0C71  7B          	ld	a,e
2785  0C72  91          	sub	a, c
2786  0C73  32 00 00    	ld	(_tmp_sc),a
2787  0C76  D6 FE       	sub	a,0xfe
2788  0C78  20 14       	jr	NZ,l_player_push_check_00106
2789  0C7A  3A 00 00    	ld	a,(_sprite)
2790  0C7D  C6 00       	add	a,+((_state) & 0xFF)
2791  0C7F  4F          	ld	c,a
2792  0C80  3E 00       	ld	a,+((_state) / 256)
2793  0C82  CE 00       	adc	a,0x00
2794  0C84  47          	ld	b,a
2795  0C85  0A          	ld	a,(bc)
2796  0C86  CB 57       	bit	2, a
2797  0C88  28 04       	jr	Z,l_player_push_check_00106
2798  0C8A  2E 01       	ld	l,0x01
2799  0C8C  18 1D       	jr	l_player_push_check_00111
2800  0C8E              l_player_push_check_00106:
2801  0C8E  3A 00 00    	ld	a,(_tmp_sc)
2802  0C91  D6 02       	sub	a,0x02
2803  0C93  20 14       	jr	NZ,l_player_push_check_00109
2804  0C95  3A 00 00    	ld	a,(_sprite)
2805  0C98  C6 00       	add	a,+((_state) & 0xFF)
2806  0C9A  4F          	ld	c,a
2807  0C9B  3E 00       	ld	a,+((_state) / 256)
2808  0C9D  CE 00       	adc	a,0x00
2809  0C9F  47          	ld	b,a
2810  0CA0  0A          	ld	a,(bc)
2811  0CA1  CB 5F       	bit	3, a
2812  0CA3  28 04       	jr	Z,l_player_push_check_00109
2813  0CA5  2E 01       	ld	l,0x01
2814  0CA7  18 02       	jr	l_player_push_check_00111
2815  0CA9              l_player_push_check_00109:
2816  0CA9  2E 00       	ld	l,0x00
2817  0CAB              l_player_push_check_00111:
2818  0CAB  C9          	ret
2819  0CAC              	SECTION code_compiler
2820  0CAC              ;	---------------------------------
2821  0CAC              ; Function player_push
2822  0CAC              ; ---------------------------------
2823  0CAC              _player_push:
2824  0CAC  3A 00 00    	ld	a,(_sprite)
2825  0CAF  32 00 00    	ld	(_tmp),a
2826  0CB2  3A 00 00    	ld	a,(_s_col0)
2827  0CB5  32 00 00    	ld	(_tmp0),a
2828  0CB8  3A 00 00    	ld	a,(_sprite_other_player)
2829  0CBB  C6 00       	add	a,+((_lin) & 0xFF)
2830  0CBD  4F          	ld	c,a
2831  0CBE  3E 00       	ld	a,+((_lin) / 256)
2832  0CC0  CE 00       	adc	a,0x00
2833  0CC2  47          	ld	b,a
2834  0CC3  0A          	ld	a,(bc)
2835  0CC4  32 00 00    	ld	(_s_lin0),a
2836  0CC7  3A 00 00    	ld	a,(_sprite_other_player)
2837  0CCA  C6 00       	add	a,+((_col) & 0xFF)
2838  0CCC  4F          	ld	c,a
2839  0CCD  3E 00       	ld	a,+((_col) / 256)
2840  0CCF  CE 00       	adc	a,0x00
2841  0CD1  47          	ld	b,a
2842  0CD2  0A          	ld	a,(bc)
2843  0CD3  32 00 00    	ld	(_s_col0),a
2844  0CD6  01 00 00    	ld	bc,_spr_timer+0
2845  0CD9  2A 00 00    	ld	hl,(_sprite_other_player)
2846  0CDC  26 00       	ld	h,0x00
2847  0CDE  29          	add	hl, hl
2848  0CDF  09          	add	hl,bc
2849  0CE0  ED 5B 00 00 	ld	de,(_curr_time)
2850  0CE4  73          	ld	(hl),e
2851  0CE5  23          	inc	hl
2852  0CE6  72          	ld	(hl),d
2853  0CE7  3E 00       	ld	a,+((_state_a) & 0xFF)
2854  0CE9  21 00 00    	ld	hl,_sprite_other_player
2855  0CEC  86          	add	a, (hl)
2856  0CED  4F          	ld	c,a
2857  0CEE  3E 00       	ld	a,+((_state_a) / 256)
2858  0CF0  CE 00       	adc	a,0x00
2859  0CF2  47          	ld	b,a
2860  0CF3  0A          	ld	a,(bc)
2861  0CF4  CB D7       	set	2, a
2862  0CF6  02          	ld	(bc),a
2863  0CF7  7E          	ld	a,(hl)
2864  0CF8  32 00 00    	ld	(_sprite),a
2865  0CFB  3A 00 00    	ld	a,(_tmp)
2866  0CFE  C6 00       	add	a,+((_state) & 0xFF)
2867  0D00  4F          	ld	c,a
2868  0D01  3E 00       	ld	a,+((_state) / 256)
2869  0D03  CE 00       	adc	a,0x00
2870  0D05  47          	ld	b,a
2871  0D06  0A          	ld	a,(bc)
2872  0D07  CB 57       	bit	2, a
2873  0D09  28 05       	jr	Z,l_player_push_00102
2874  0D0B  CD 00 00    	call	_spr_move_right
2875  0D0E  18 03       	jr	l_player_push_00103
2876  0D10              l_player_push_00102:
2877  0D10  CD 00 00    	call	_spr_move_left
2878  0D13              l_player_push_00103:
2879  0D13  CD 00 00    	call	_spr_redraw
2880  0D16  3A 00 00    	ld	a,(_tmp)
2881  0D19  32 00 00    	ld	(_sprite),a
2882  0D1C  C6 00       	add	a,+((_lin) & 0xFF)
2883  0D1E  4F          	ld	c,a
2884  0D1F  3E 00       	ld	a,+((_lin) / 256)
2885  0D21  CE 00       	adc	a,0x00
2886  0D23  47          	ld	b,a
2887  0D24  0A          	ld	a,(bc)
2888  0D25  32 00 00    	ld	(_s_lin0),a
2889  0D28  3A 00 00    	ld	a,(_tmp0)
2890  0D2B  32 00 00    	ld	(_s_col0),a
2891  0D2E  C9          	ret
2892  0D2F              	SECTION code_compiler
2893  0D2F              ;	---------------------------------
2894  0D2F              ; Function player_hit_brick
2895  0D2F              ; ---------------------------------
2896  0D2F              _player_hit_brick:
2897  0D2F  3A 00 00    	ld	a,(_index_player)
2898  0D32  C6 00       	add	a,+((_hit_lin) & 0xFF)
2899  0D34  4F          	ld	c,a
2900  0D35  3E 00       	ld	a,+((_hit_lin) / 256)
2901  0D37  CE 00       	adc	a,0x00
2902  0D39  47          	ld	b,a
2903  0D3A  0A          	ld	a,(bc)
2904  0D3B  B7          	or	a, a
2905  0D3C  C2 15 0F    	jp	NZ,l_player_hit_brick_00112
2906  0D3F  3A 00 00    	ld	a,(_sprite)
2907  0D42  C6 00       	add	a,+((_lin) & 0xFF)
2908  0D44  4F          	ld	c,a
2909  0D45  3E 00       	ld	a,+((_lin) / 256)
2910  0D47  CE 00       	adc	a,0x00
2911  0D49  47          	ld	b,a
2912  0D4A  0A          	ld	a,(bc)
2913  0D4B  5F          	ld	e,a
2914  0D4C  3E 10       	ld	a,0x10
2915  0D4E  93          	sub	a, e
2916  0D4F  D2 15 0F    	jp	NC,l_player_hit_brick_00112
2917  0D52  21 00 00    	ld	hl,_enemies
2918  0D55  36 00       	ld	(hl),0x00
2919  0D57              l_player_hit_brick_00114:
2920  0D57  2A 00 00    	ld	hl,(_enemies)
2921  0D5A  26 00       	ld	h,0x00
2922  0D5C  11 00 00    	ld	de,_class
2923  0D5F  19          	add	hl,de
2924  0D60  7E          	ld	a,(hl)
2925  0D61  B7          	or	a,a
2926  0D62  28 5F       	jr	Z,l_player_hit_brick_00115
2927  0D64  0A          	ld	a,(bc)
2928  0D65  4F          	ld	c,a
2929  0D66  06 00       	ld	b,0x00
2930  0D68  2A 00 00    	ld	hl,(_enemies)
2931  0D6B  60          	ld	h,b
2932  0D6C  11 00 00    	ld	de,_lin
2933  0D6F  19          	add	hl,de
2934  0D70  5E          	ld	e, (hl)
2935  0D71  16 00       	ld	d,0x00
2936  0D73  79          	ld	a,c
2937  0D74  93          	sub	a,e
2938  0D75  4F          	ld	c,a
2939  0D76  78          	ld	a,b
2940  0D77  9A          	sbc	a,d
2941  0D78  47          	ld	b,a
2942  0D79  79          	ld	a,c
2943  0D7A  D6 18       	sub	a,0x18
2944  0D7C  20 45       	jr	NZ,l_player_hit_brick_00115
2945  0D7E  B0          	or	a,b
2946  0D7F  20 42       	jr	NZ,l_player_hit_brick_00115
2947  0D81  3A 00 00    	ld	a,(_enemies)
2948  0D84  4F          	ld	c,a
2949  0D85  06 00       	ld	b,0x00
2950  0D87  21 00 00    	ld	hl,_state
2951  0D8A  09          	add	hl,bc
2952  0D8B  CB 6E       	bit	5,(hl)
2953  0D8D  20 34       	jr	NZ,l_player_hit_brick_00115
2954  0D8F  2A 00 00    	ld	hl,(_sprite)
2955  0D92  26 00       	ld	h,0x00
2956  0D94  01 00 00    	ld	bc,_col
2957  0D97  09          	add	hl,bc
2958  0D98  4E          	ld	c,(hl)
2959  0D99  06 00       	ld	b,0x00
2960  0D9B  2A 00 00    	ld	hl,(_enemies)
2961  0D9E  60          	ld	h,b
2962  0D9F  11 00 00    	ld	de,_col
2963  0DA2  19          	add	hl,de
2964  0DA3  5E          	ld	e, (hl)
2965  0DA4  16 00       	ld	d,0x00
2966  0DA6  79          	ld	a,c
2967  0DA7  93          	sub	a, e
2968  0DA8  6F          	ld	l,a
2969  0DA9  78          	ld	a,b
2970  0DAA  9A          	sbc	a, d
2971  0DAB  67          	ld	h,a
2972  0DAC  CD 00 00    	call	_abs_fastcall
2973  0DAF  3E 02       	ld	a,0x02
2974  0DB1  BD          	cp	a,l
2975  0DB2  3E 00       	ld	a,0x00
2976  0DB4  9C          	sbc	a,h
2977  0DB5  E2 BA 0D    	jp	PO, l_player_hit_brick_00166
2978  0DB8  EE 80       	xor	a,0x80
2979  0DBA              l_player_hit_brick_00166:
2980  0DBA  FA C3 0D    	jp	M,l_player_hit_brick_00115
2981  0DBD  CD 00 00    	call	_enemy_hit
2982  0DC0  CD 00 00    	call	_sound_hit_enemy
2983  0DC3              l_player_hit_brick_00115:
2984  0DC3  21 00 00    	ld	hl,_enemies
2985  0DC6  34          	inc	(hl)
2986  0DC7  3A 00 00    	ld	a,(_sprite)
2987  0DCA  C6 00       	add	a,+((_lin) & 0xFF)
2988  0DCC  4F          	ld	c,a
2989  0DCD  3E 00       	ld	a,+((_lin) / 256)
2990  0DCF  CE 00       	adc	a,0x00
2991  0DD1  47          	ld	b,a
2992  0DD2  3A 00 00    	ld	a,(_enemies)
2993  0DD5  D6 06       	sub	a,0x06
2994  0DD7  DA 57 0D    	jp	C,l_player_hit_brick_00114
2995  0DDA  2A 00 00    	ld	hl,(_sprite_other_player)
2996  0DDD  26 00       	ld	h,0x00
2997  0DDF  11 00 00    	ld	de,_lin
2998  0DE2  19          	add	hl,de
2999  0DE3  7E          	ld	a,(hl)
3000  0DE4  5F          	ld	e,a
3001  0DE5  B7          	or	a, a
3002  0DE6  CA AF 0E    	jp	Z,l_player_hit_brick_00108
3003  0DE9  0A          	ld	a,(bc)
3004  0DEA  6F          	ld	l,a
3005  0DEB  AF          	xor	a,a
3006  0DEC  67          	ld	h,a
3007  0DED  57          	ld	d,a
3008  0DEE  ED 52       	sbc	hl,de
3009  0DF0  7D          	ld	a,l
3010  0DF1  D6 18       	sub	a,0x18
3011  0DF3  C2 AF 0E    	jp	NZ,l_player_hit_brick_00108
3012  0DF6  B4          	or	a,h
3013  0DF7  C2 AF 0E    	jp	NZ,l_player_hit_brick_00108
3014  0DFA  2A 00 00    	ld	hl,(_sprite)
3015  0DFD  26 00       	ld	h,0x00
3016  0DFF  01 00 00    	ld	bc,_col
3017  0E02  09          	add	hl,bc
3018  0E03  4E          	ld	c,(hl)
3019  0E04  06 00       	ld	b,0x00
3020  0E06  2A 00 00    	ld	hl,(_sprite_other_player)
3021  0E09  60          	ld	h,b
3022  0E0A  11 00 00    	ld	de,_col
3023  0E0D  19          	add	hl,de
3024  0E0E  5E          	ld	e, (hl)
3025  0E0F  16 00       	ld	d,0x00
3026  0E11  79          	ld	a,c
3027  0E12  93          	sub	a, e
3028  0E13  6F          	ld	l,a
3029  0E14  78          	ld	a,b
3030  0E15  9A          	sbc	a, d
3031  0E16  67          	ld	h,a
3032  0E17  CD 00 00    	call	_abs_fastcall
3033  0E1A  3E 02       	ld	a,0x02
3034  0E1C  BD          	cp	a,l
3035  0E1D  3E 00       	ld	a,0x00
3036  0E1F  9C          	sbc	a,h
3037  0E20  E2 25 0E    	jp	PO, l_player_hit_brick_00169
3038  0E23  EE 80       	xor	a,0x80
3039  0E25              l_player_hit_brick_00169:
3040  0E25  FA AF 0E    	jp	M,l_player_hit_brick_00108
3041  0E28  3E 00       	ld	a,+((_col) & 0xFF)
3042  0E2A  21 00 00    	ld	hl,_sprite_other_player
3043  0E2D  86          	add	a, (hl)
3044  0E2E  4F          	ld	c,a
3045  0E2F  3E 00       	ld	a,+((_col) / 256)
3046  0E31  CE 00       	adc	a,0x00
3047  0E33  47          	ld	b,a
3048  0E34  0A          	ld	a,(bc)
3049  0E35  57          	ld	d,a
3050  0E36  4E          	ld	c,(hl)
3051  0E37  06 00       	ld	b,0x00
3052  0E39  21 00 00    	ld	hl,_lin
3053  0E3C  09          	add	hl,bc
3054  0E3D  5E          	ld	e, (hl)
3055  0E3E  D5          	push	de
3056  0E3F  AF          	xor	a, a
3057  0E40  F5          	push	af
3058  0E41  33          	inc	sp
3059  0E42  CD 00 00    	call	_NIRVANAP_fillT_callee
3060  0E45  2A 00 00    	ld	hl,(_sprite_other_player)
3061  0E48  26 00       	ld	h,0x00
3062  0E4A  01 00 00    	ld	bc,_lin
3063  0E4D  09          	add	hl,bc
3064  0E4E  7E          	ld	a,(hl)
3065  0E4F  C6 FC       	add	a,0xfc
3066  0E51  77          	ld	(hl),a
3067  0E52  3E 00       	ld	a,+((_col) & 0xFF)
3068  0E54  21 00 00    	ld	hl,_sprite_other_player
3069  0E57  86          	add	a, (hl)
3070  0E58  4F          	ld	c,a
3071  0E59  3E 00       	ld	a,+((_col) / 256)
3072  0E5B  CE 00       	adc	a,0x00
3073  0E5D  47          	ld	b,a
3074  0E5E  0A          	ld	a,(bc)
3075  0E5F  57          	ld	d,a
3076  0E60  3E 00       	ld	a,+((_lin) & 0xFF)
3077  0E62  86          	add	a, (hl)
3078  0E63  4F          	ld	c,a
3079  0E64  3E 00       	ld	a,+((_lin) / 256)
3080  0E66  CE 00       	adc	a,0x00
3081  0E68  47          	ld	b,a
3082  0E69  0A          	ld	a,(bc)
3083  0E6A  5F          	ld	e,a
3084  0E6B  3E 00       	ld	a,+((_tile) & 0xFF)
3085  0E6D  86          	add	a, (hl)
3086  0E6E  4F          	ld	c,a
3087  0E6F  3E 00       	ld	a,+((_tile) / 256)
3088  0E71  CE 00       	adc	a,0x00
3089  0E73  47          	ld	b,a
3090  0E74  0A          	ld	a,(bc)
3091  0E75  47          	ld	b,a
3092  0E76  4E          	ld	c,(hl)
3093  0E77  D5          	push	de
3094  0E78  C5          	push	bc
3095  0E79  CD 00 00    	call	_NIRVANAP_spriteT_callee
3096  0E7C  76          	halt
3097  0E7D  2A 00 00    	ld	hl,(_sprite_other_player)
3098  0E80  26 00       	ld	h,0x00
3099  0E82  01 00 00    	ld	bc,_state
3100  0E85  09          	add	hl,bc
3101  0E86  7E          	ld	a,(hl)
3102  0E87  E6 FD       	and	a,0xfd
3103  0E89  77          	ld	(hl),a
3104  0E8A  3E 00       	ld	a,+((_state) & 0xFF)
3105  0E8C  21 00 00    	ld	hl,_sprite_other_player
3106  0E8F  86          	add	a, (hl)
3107  0E90  4F          	ld	c,a
3108  0E91  3E 00       	ld	a,+((_state) / 256)
3109  0E93  CE 00       	adc	a,0x00
3110  0E95  47          	ld	b,a
3111  0E96  0A          	ld	a,(bc)
3112  0E97  CB C7       	set	0, a
3113  0E99  02          	ld	(bc),a
3114  0E9A  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3115  0E9C  86          	add	a, (hl)
3116  0E9D  4F          	ld	c,a
3117  0E9E  3E 00       	ld	a,+((_jump_lin) / 256)
3118  0EA0  CE 00       	adc	a,0x00
3119  0EA2  47          	ld	b,a
3120  0EA3  5E          	ld	e,(hl)
3121  0EA4  16 00       	ld	d,0x00
3122  0EA6  21 00 00    	ld	hl,_lin
3123  0EA9  19          	add	hl,de
3124  0EAA  7E          	ld	a,(hl)
3125  0EAB  C6 14       	add	a,0x14
3126  0EAD  02          	ld	(bc),a
3127  0EAE  76          	halt
3128  0EAF              l_player_hit_brick_00108:
3129  0EAF  3A 00 00    	ld	a,(_sprite)
3130  0EB2  C6 00       	add	a,+((_state_a) & 0xFF)
3131  0EB4  4F          	ld	c,a
3132  0EB5  3E 00       	ld	a,+((_state_a) / 256)
3133  0EB7  CE 00       	adc	a,0x00
3134  0EB9  47          	ld	b,a
3135  0EBA  0A          	ld	a,(bc)
3136  0EBB  CB FF       	set	7, a
3137  0EBD  02          	ld	(bc),a
3138  0EBE  3A 00 00    	ld	a,(_index_player)
3139  0EC1  C6 00       	add	a,+((_player_jump_c) & 0xFF)
3140  0EC3  4F          	ld	c,a
3141  0EC4  3E 00       	ld	a,+((_player_jump_c) / 256)
3142  0EC6  CE 00       	adc	a,0x00
3143  0EC8  47          	ld	b,a
3144  0EC9  3E 06       	ld	a,0x06
3145  0ECB  02          	ld	(bc),a
3146  0ECC  01 00 00    	ld	bc,_spr_timer+0
3147  0ECF  2A 00 00    	ld	hl,(_sprite)
3148  0ED2  26 00       	ld	h,0x00
3149  0ED4  29          	add	hl, hl
3150  0ED5  09          	add	hl,bc
3151  0ED6  ED 5B 00 00 	ld	de,(_curr_time)
3152  0EDA  73          	ld	(hl),e
3153  0EDB  23          	inc	hl
3154  0EDC  72          	ld	(hl),d
3155  0EDD  3A 00 00    	ld	a,(_index_player)
3156  0EE0  C6 00       	add	a,+((_hit_lin) & 0xFF)
3157  0EE2  4F          	ld	c,a
3158  0EE3  3E 00       	ld	a,+((_hit_lin) / 256)
3159  0EE5  CE 00       	adc	a,0x00
3160  0EE7  47          	ld	b,a
3161  0EE8  2A 00 00    	ld	hl,(_sprite)
3162  0EEB  26 00       	ld	h,0x00
3163  0EED  11 00 00    	ld	de,_lin
3164  0EF0  19          	add	hl,de
3165  0EF1  7E          	ld	a,(hl)
3166  0EF2  02          	ld	(bc),a
3167  0EF3  3A 00 00    	ld	a,(_index_player)
3168  0EF6  C6 00       	add	a,+((_hit_col) & 0xFF)
3169  0EF8  4F          	ld	c,a
3170  0EF9  3E 00       	ld	a,+((_hit_col) / 256)
3171  0EFB  CE 00       	adc	a,0x00
3172  0EFD  47          	ld	b,a
3173  0EFE  2A 00 00    	ld	hl,(_sprite)
3174  0F01  26 00       	ld	h,0x00
3175  0F03  11 00 00    	ld	de,_col
3176  0F06  19          	add	hl,de
3177  0F07  7E          	ld	a,(hl)
3178  0F08  02          	ld	(bc),a
3179  0F09  2E 01       	ld	l,0x01
3180  0F0B  CD 00 00    	call	_spr_brick_anim
3181  0F0E  CD 00 00    	call	_sound_hit_brick
3182  0F11  2E 01       	ld	l,0x01
3183  0F13  18 02       	jr	l_player_hit_brick_00116
3184  0F15              l_player_hit_brick_00112:
3185  0F15  2E 00       	ld	l,0x00
3186  0F17              l_player_hit_brick_00116:
3187  0F17  C9          	ret
3188  0F18              	SECTION code_compiler
3189  0F18              ;	---------------------------------
3190  0F18              ; Function player_hit_brick_clear
3191  0F18              ; ---------------------------------
3192  0F18              _player_hit_brick_clear:
3193  0F18  2A 00 00    	ld	hl,(_index_player)
3194  0F1B  26 00       	ld	h,0x00
3195  0F1D  01 00 00    	ld	bc,_hit_lin
3196  0F20  09          	add	hl,bc
3197  0F21  7E          	ld	a,(hl)
3198  0F22  4F          	ld	c,a
3199  0F23  B7          	or	a,a
3200  0F24  C8          	ret	Z
3201  0F25  3A 00 00    	ld	a,(_index_player)
3202  0F28  5F          	ld	e,a
3203  0F29  16 00       	ld	d,0x00
3204  0F2B  21 00 00    	ld	hl,_hit_col
3205  0F2E  19          	add	hl,de
3206  0F2F  56          	ld	d, (hl)
3207  0F30  79          	ld	a,c
3208  0F31  C6 F8       	add	a,0xf8
3209  0F33  5F          	ld	e, a
3210  0F34  D5          	push	de
3211  0F35  CD 00 00    	call	_game_calc_index
3212  0F38  F1          	pop	af
3213  0F39  22 00 00    	ld	(_index1),hl
3214  0F3C  01 01 00    	ld	bc,0x0001
3215  0F3F  09          	add	hl,bc
3216  0F40  22 00 00    	ld	(_index2),hl
3217  0F43  2E 00       	ld	l,0x00
3218  0F45  CD 00 00    	call	_spr_brick_anim
3219  0F48  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3220  0F4A  21 00 00    	ld	hl,_index_player
3221  0F4D  86          	add	a, (hl)
3222  0F4E  4F          	ld	c,a
3223  0F4F  3E 00       	ld	a,+((_hit_lin) / 256)
3224  0F51  CE 00       	adc	a,0x00
3225  0F53  47          	ld	b,a
3226  0F54  AF          	xor	a, a
3227  0F55  02          	ld	(bc),a
3228  0F56  3E 00       	ld	a,+((_hit_col) & 0xFF)
3229  0F58  86          	add	a, (hl)
3230  0F59  4F          	ld	c,a
3231  0F5A  3E 00       	ld	a,+((_hit_col) / 256)
3232  0F5C  CE 00       	adc	a,0x00
3233  0F5E  47          	ld	b,a
3234  0F5F  AF          	xor	a, a
3235  0F60  02          	ld	(bc),a
3236  0F61  C9          	ret
3237  0F62              	SECTION code_compiler
3238  0F62              ;	---------------------------------
3239  0F62              ; Function player_hit_pow
3240  0F62              ; ---------------------------------
3241  0F62              _player_hit_pow:
3242  0F62  2A 00 00    	ld	hl,(_index1)
3243  0F65  01 01 00    	ld	bc,0x0001
3244  0F68  09          	add	hl,bc
3245  0F69  22 00 00    	ld	(_index2),hl
3246  0F6C  3A 00 00    	ld	a,(_game_pow)
3247  0F6F  B7          	or	a, a
3248  0F70  CA 15 10    	jp	Z,l_player_hit_pow_00107
3249  0F73  01 00 00    	ld	bc,_lvl_1
3250  0F76  2A 00 00    	ld	hl,(_index1)
3251  0F79  09          	add	hl,bc
3252  0F7A  7E          	ld	a,(hl)
3253  0F7B  D6 11       	sub	a,0x11
3254  0F7D  28 0D       	jr	Z,l_player_hit_pow_00106
3255  0F7F  01 00 00    	ld	bc,_lvl_1
3256  0F82  2A 00 00    	ld	hl,(_index2)
3257  0F85  09          	add	hl,bc
3258  0F86  7E          	ld	a,(hl)
3259  0F87  D6 11       	sub	a,0x11
3260  0F89  C2 15 10    	jp	NZ,l_player_hit_pow_00107
3261  0F8C              l_player_hit_pow_00106:
3262  0F8C  21 00 00    	ld	hl,_game_pow
3263  0F8F  35          	dec	(hl)
3264  0F90  21 02 00    	ld	hl,0x0002
3265  0F93  CD 00 00    	call	_zx_border_fastcall
3266  0F96  21 00 00    	ld	hl,_enemies
3267  0F99  36 00       	ld	(hl),0x00
3268  0F9B              l_player_hit_pow_00110:
3269  0F9B  2A 00 00    	ld	hl,(_enemies)
3270  0F9E  26 00       	ld	h,0x00
3271  0FA0  5D          	ld	e,l
3272  0FA1  01 00 00    	ld	bc,_col
3273  0FA4  09          	add	hl,bc
3274  0FA5  46          	ld	b,(hl)
3275  0FA6  16 00       	ld	d,0x00
3276  0FA8  21 00 00    	ld	hl,_lin
3277  0FAB  19          	add	hl,de
3278  0FAC  7E          	ld	a,(hl)
3279  0FAD  C6 10       	add	a,0x10
3280  0FAF  4F          	ld	c,a
3281  0FB0  C5          	push	bc
3282  0FB1  CD 00 00    	call	_game_calc_index
3283  0FB4  F1          	pop	af
3284  0FB5  CD 00 00    	call	_game_check_maze
3285  0FB8  7D          	ld	a,l
3286  0FB9  B7          	or	a, a
3287  0FBA  20 03       	jr	NZ,l_player_hit_pow_00111
3288  0FBC  CD 00 00    	call	_enemy_hit
3289  0FBF              l_player_hit_pow_00111:
3290  0FBF  21 00 00    	ld	hl,_enemies
3291  0FC2  7E          	ld	a,(hl)
3292  0FC3  3C          	inc	a
3293  0FC4  77          	ld	(hl),a
3294  0FC5  D6 06       	sub	a,0x06
3295  0FC7  38 D2       	jr	C,l_player_hit_pow_00110
3296  0FC9  21 00 00    	ld	hl,_ay_effect_06
3297  0FCC  CD 00 00    	call	_ay_fx_play
3298  0FCF  CD 00 00    	call	_sound_hit_pow
3299  0FD2  CD 00 00    	call	_spr_draw_pow
3300  0FD5  3A 00 00    	ld	a,(_game_pow)
3301  0FD8  B7          	or	a, a
3302  0FD9  20 13       	jr	NZ,l_player_hit_pow_00105
3303  0FDB  21 80 0F    	ld	hl,0x0f80
3304  0FDE  E5          	push	hl
3305  0FDF  AF          	xor	a, a
3306  0FE0  F5          	push	af
3307  0FE1  33          	inc	sp
3308  0FE2  CD 00 00    	call	_NIRVANAP_fillT_callee
3309  0FE5  21 00 00    	ld	hl,0x0000
3310  0FE8  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3311  0FEB  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3312  0FEE              l_player_hit_pow_00105:
3313  0FEE  21 00 00    	ld	hl,0x0000
3314  0FF1  CD 00 00    	call	_zx_border_fastcall
3315  0FF4  3A 00 00    	ld	a,(_sprite)
3316  0FF7  C6 00       	add	a,+((_state_a) & 0xFF)
3317  0FF9  4F          	ld	c,a
3318  0FFA  3E 00       	ld	a,+((_state_a) / 256)
3319  0FFC  CE 00       	adc	a,0x00
3320  0FFE  47          	ld	b,a
3321  0FFF  0A          	ld	a,(bc)
3322  1000  CB FF       	set	7, a
3323  1002  02          	ld	(bc),a
3324  1003  3A 00 00    	ld	a,(_index_player)
3325  1006  C6 00       	add	a,+((_player_jump_c) & 0xFF)
3326  1008  4F          	ld	c,a
3327  1009  3E 00       	ld	a,+((_player_jump_c) / 256)
3328  100B  CE 00       	adc	a,0x00
3329  100D  47          	ld	b,a
3330  100E  3E 06       	ld	a,0x06
3331  1010  02          	ld	(bc),a
3332  1011  2E 01       	ld	l,0x01
3333  1013  18 02       	jr	l_player_hit_pow_00112
3334  1015              l_player_hit_pow_00107:
3335  1015  2E 00       	ld	l,0x00
3336  1017              l_player_hit_pow_00112:
3337  1017  C9          	ret
3338  1018              	SECTION code_compiler
3339  1018              ;	---------------------------------
3340  1018              ; Function player_coin
3341  1018              ; ---------------------------------
3342  1018              _player_coin:
3343  1018  CD 00 00    	call	___sdcc_enter_ix
3344  101B  3E 00       	ld	a,+((_class) & 0xFF)
3345  101D  DD 86 04    	add	a,(ix+4)
3346  1020  4F          	ld	c,a
3347  1021  3E 00       	ld	a,+((_class) / 256)
3348  1023  CE 00       	adc	a,0x00
3349  1025  47          	ld	b,a
3350  1026  0A          	ld	a,(bc)
3351  1027  D6 07       	sub	a,0x07
3352  1029  20 16       	jr	NZ,l_player_coin_00102
3353  102B  21 00 00    	ld	hl,_ay_effect_12
3354  102E  CD 00 00    	call	_ay_fx_play
3355  1031  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3356  1033  DD 86 04    	add	a,(ix+4)
3357  1036  4F          	ld	c,a
3358  1037  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3359  1039  CE 00       	adc	a,0x00
3360  103B  47          	ld	b,a
3361  103C  3E 03       	ld	a,0x03
3362  103E  02          	ld	(bc),a
3363  103F  18 17       	jr	l_player_coin_00103
3364  1041              l_player_coin_00102:
3365  1041  21 00 00    	ld	hl,_ay_effect_10
3366  1044  CD 00 00    	call	_ay_fx_play
3367  1047  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3368  1049  DD 86 04    	add	a,(ix+4)
3369  104C  4F          	ld	c,a
3370  104D  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3371  104F  CE 00       	adc	a,0x00
3372  1051  47          	ld	b,a
3373  1052  3E 08       	ld	a,0x08
3374  1054  02          	ld	(bc),a
3375  1055  CD 00 00    	call	_sound_coin
3376  1058              l_player_coin_00103:
3377  1058  3E 00       	ld	a,+((_state) & 0xFF)
3378  105A  DD 86 04    	add	a,(ix+4)
3379  105D  4F          	ld	c,a
3380  105E  3E 00       	ld	a,+((_state) / 256)
3381  1060  CE 00       	adc	a,0x00
3382  1062  47          	ld	b,a
3383  1063  0A          	ld	a,(bc)
3384  1064  E6 FE       	and	a,0xfe
3385  1066  CB EF       	set	5,a
3386  1068  02          	ld	(bc),a
3387  1069  01 00 00    	ld	bc,_spr_timer+0
3388  106C  DD 6E 04    	ld	l,(ix+4)
3389  106F  26 00       	ld	h,0x00
3390  1071  29          	add	hl, hl
3391  1072  09          	add	hl,bc
3392  1073  ED 5B 00 00 	ld	de,(_curr_time)
3393  1077  73          	ld	(hl),e
3394  1078  23          	inc	hl
3395  1079  72          	ld	(hl),d
3396  107A  3A 00 00    	ld	a,(_game_bonus)
3397  107D  B7          	or	a, a
3398  107E  28 1B       	jr	Z,l_player_coin_00107
3399  1080  3A 00 00    	ld	a,(_index_player)
3400  1083  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3401  1085  4F          	ld	c,a
3402  1086  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3403  1088  CE 00       	adc	a,0x00
3404  108A  47          	ld	b,a
3405  108B  0A          	ld	a,(bc)
3406  108C  3C          	inc	a
3407  108D  02          	ld	(bc),a
3408  108E  21 00 00    	ld	hl,_phase_left
3409  1091  35          	dec (hl)
3410  1092  20 0F       	jr	NZ,l_player_coin_00109
3411  1094  21 00 00    	ld	hl,_phase_end
3412  1097  36 01       	ld	(hl),0x01
3413  1099  18 08       	jr	l_player_coin_00109
3414  109B              l_player_coin_00107:
3415  109B  DD 6E 05    	ld	l,(ix+5)
3416  109E  26 00       	ld	h,0x00
3417  10A0  CD A6 10    	call	_player_score_add
3418  10A3              l_player_coin_00109:
3419  10A3  DD E1       	pop	ix
3420  10A5  C9          	ret
3421  10A6              	SECTION code_compiler
3422  10A6              ;	---------------------------------
3423  10A6              ; Function player_score_add
3424  10A6              ; ---------------------------------
3425  10A6              _player_score_add:
3426  10A6  4D          	ld	c,l
3427  10A7  44          	ld	b,h
3428  10A8  2A 00 00    	ld	hl,(_index_player)
3429  10AB  26 00       	ld	h,0x00
3430  10AD  29          	add	hl, hl
3431  10AE  11 00 00    	ld	de,_player_score
3432  10B1  19          	add	hl,de
3433  10B2  5E          	ld	e,(hl)
3434  10B3  23          	inc	hl
3435  10B4  56          	ld	d,(hl)
3436  10B5  2B          	dec	hl
3437  10B6  7B          	ld	a,e
3438  10B7  81          	add	a, c
3439  10B8  4F          	ld	c,a
3440  10B9  7A          	ld	a,d
3441  10BA  88          	adc	a, b
3442  10BB  47          	ld	b,a
3443  10BC  71          	ld	(hl),c
3444  10BD  23          	inc	hl
3445  10BE  70          	ld	(hl),b
3446  10BF  2A 00 00    	ld	hl,(_index_player)
3447  10C2  26 00       	ld	h,0x00
3448  10C4  29          	add	hl,hl
3449  10C5  4D          	ld	c,l
3450  10C6  44          	ld	b,h
3451  10C7  21 00 00    	ld	hl,_player_score
3452  10CA  09          	add	hl,bc
3453  10CB  5E          	ld	e,(hl)
3454  10CC  23          	inc	hl
3455  10CD  56          	ld	d,(hl)
3456  10CE  21 00 00    	ld	hl,_game_score_top
3457  10D1  7E          	ld	a,(hl)
3458  10D2  93          	sub	a, e
3459  10D3  23          	inc	hl
3460  10D4  7E          	ld	a,(hl)
3461  10D5  9A          	sbc	a, d
3462  10D6  30 04       	jr	NC,l_player_score_add_00102
3463  10D8  2B          	dec	hl
3464  10D9  73          	ld	(hl),e
3465  10DA  23          	inc	hl
3466  10DB  72          	ld	(hl),d
3467  10DC              l_player_score_add_00102:
3468  10DC  21 00 00    	ld	hl,_player_next_extra
3469  10DF  09          	add	hl,bc
3470  10E0  4E          	ld	c,(hl)
3471  10E1  23          	inc	hl
3472  10E2  46          	ld	b,(hl)
3473  10E3  2B          	dec	hl
3474  10E4  79          	ld	a,c
3475  10E5  93          	sub	a, e
3476  10E6  78          	ld	a,b
3477  10E7  9A          	sbc	a, d
3478  10E8  30 31       	jr	NC,l_player_score_add_00106
3479  10EA  79          	ld	a,c
3480  10EB  C6 D0       	add	a,0xd0
3481  10ED  77          	ld	(hl),a
3482  10EE  78          	ld	a,b
3483  10EF  CE 07       	adc	a,0x07
3484  10F1  23          	inc	hl
3485  10F2  77          	ld	(hl),a
3486  10F3  3A 00 00    	ld	a,(_index_player)
3487  10F6  C6 00       	add	a,+((_game_lives) & 0xFF)
3488  10F8  4F          	ld	c,a
3489  10F9  3E 00       	ld	a,+((_game_lives) / 256)
3490  10FB  CE 00       	adc	a,0x00
3491  10FD  47          	ld	b,a
3492  10FE  0A          	ld	a,(bc)
3493  10FF  3C          	inc	a
3494  1100  02          	ld	(bc),a
3495  1101  3A 00 00    	ld	a,(_game_bonus)
3496  1104  B7          	or	a, a
3497  1105  20 03       	jr	NZ,l_player_score_add_00104
3498  1107  CD 00 00    	call	_game_print_lives
3499  110A              l_player_score_add_00104:
3500  110A  CD 00 00    	call	_sound_coin
3501  110D  CD 00 00    	call	_sound_coin
3502  1110  CD 00 00    	call	_sound_coin
3503  1113  CD 00 00    	call	_sound_coin
3504  1116  21 00 00    	ld	hl,_hit_count
3505  1119  36 08       	ld	(hl),0x08
3506  111B              l_player_score_add_00106:
3507  111B  C3 00 00    	jp  _game_print_score
3508  111E              	SECTION code_compiler
3509  111E              ;	---------------------------------
3510  111E              ; Function player_set1
3511  111E              ; ---------------------------------
3512  111E              _player_set1:
3513  111E  21 00 00    	ld	hl,_sprite
3514  1121  36 07       	ld	(hl),0x07
3515  1123  21 00 00    	ld	hl,_sprite_other_player
3516  1126  36 06       	ld	(hl),0x06
3517  1128  21 00 00    	ld	hl,_index_player
3518  112B  36 00       	ld	(hl),0x00
3519  112D  21 00 00    	ld	hl,_tile_offset
3520  1130  36 00       	ld	(hl),0x00
3521  1132  21 00 00    	ld	hl,_tile_offset_other_player
3522  1135  36 18       	ld	(hl),0x18
3523  1137  C9          	ret
3524  1138              	SECTION code_compiler
3525  1138              ;	---------------------------------
3526  1138              ; Function player_set2
3527  1138              ; ---------------------------------
3528  1138              _player_set2:
3529  1138  21 00 00    	ld	hl,_sprite
3530  113B  36 06       	ld	(hl),0x06
3531  113D  21 00 00    	ld	hl,_sprite_other_player
3532  1140  36 07       	ld	(hl),0x07
3533  1142  21 00 00    	ld	hl,_index_player
3534  1145  36 01       	ld	(hl),0x01
3535  1147  21 00 00    	ld	hl,_tile_offset
3536  114A  36 18       	ld	(hl),0x18
3537  114C  21 00 00    	ld	hl,_tile_offset_other_player
3538  114F  36 00       	ld	(hl),0x00
3539  1151  C9          	ret
3540  1152              	SECTION IGNORE
3541  0000              
