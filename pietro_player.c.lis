1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _player_init
181   0000              	GLOBAL _player_calc_slide
182   0000              	GLOBAL _player_check_input
183   0000              	GLOBAL _player_collition
184   0000              	GLOBAL _player_collition_check
185   0000              	GLOBAL _player_kill
186   0000              	GLOBAL _player_restart
187   0000              	GLOBAL _player_lost_life
188   0000              	GLOBAL _player_turn
189   0000              	GLOBAL _player_move
190   0000              	GLOBAL _player_move_input
191   0000              	GLOBAL _player_move_horizontal
192   0000              	GLOBAL _player_push_check
193   0000              	GLOBAL _player_push
194   0000              	GLOBAL _player_hit_brick
195   0000              	GLOBAL _player_hit_brick_clear
196   0000              	GLOBAL _player_hit_pow
197   0000              	GLOBAL _player_coin
198   0000              	GLOBAL _player_score_add
199   0000              	GLOBAL _player_set1
200   0000              	GLOBAL _player_set2
201   0000              ;--------------------------------------------------------
202   0000              ; Externals used
203   0000              ;--------------------------------------------------------
204   0000              	GLOBAL _debug3
205   0000              	GLOBAL _debug2
206   0000              	GLOBAL _debug
207   0000              	GLOBAL _zx_print_str
208   0000              	GLOBAL _zx_print_int
209   0000              	GLOBAL _zx_print_chr
210   0000              	GLOBAL _zx_print_bonus_time
211   0000              	GLOBAL _zx_isr
212   0000              	GLOBAL _z80_otdr_callee
213   0000              	GLOBAL _z80_otdr
214   0000              	GLOBAL _z80_otir_callee
215   0000              	GLOBAL _z80_otir
216   0000              	GLOBAL _z80_outp_callee
217   0000              	GLOBAL _z80_outp
218   0000              	GLOBAL _z80_indr_callee
219   0000              	GLOBAL _z80_indr
220   0000              	GLOBAL _z80_inir_callee
221   0000              	GLOBAL _z80_inir
222   0000              	GLOBAL _z80_inp_fastcall
223   0000              	GLOBAL _z80_inp
224   0000              	GLOBAL _z80_set_int_state_fastcall
225   0000              	GLOBAL _z80_set_int_state
226   0000              	GLOBAL _z80_get_int_state
227   0000              	GLOBAL _z80_delay_tstate_fastcall
228   0000              	GLOBAL _z80_delay_tstate
229   0000              	GLOBAL _z80_delay_ms_fastcall
230   0000              	GLOBAL _z80_delay_ms
231   0000              	GLOBAL _im2_remove_generic_callback_callee
232   0000              	GLOBAL _im2_remove_generic_callback
233   0000              	GLOBAL _im2_prepend_generic_callback_callee
234   0000              	GLOBAL _im2_prepend_generic_callback
235   0000              	GLOBAL _im2_append_generic_callback_callee
236   0000              	GLOBAL _im2_append_generic_callback
237   0000              	GLOBAL _im2_create_generic_isr_8080_callee
238   0000              	GLOBAL _im2_create_generic_isr_8080
239   0000              	GLOBAL _im2_create_generic_isr_callee
240   0000              	GLOBAL _im2_create_generic_isr
241   0000              	GLOBAL _im2_install_isr_callee
242   0000              	GLOBAL _im2_install_isr
243   0000              	GLOBAL _im2_init_fastcall
244   0000              	GLOBAL _im2_init
245   0000              	GLOBAL _sound_hit_pow
246   0000              	GLOBAL _sound_hit_brick
247   0000              	GLOBAL _sound_hit_enemy
248   0000              	GLOBAL _sound_kill
249   0000              	GLOBAL _sound_enter_enemy
250   0000              	GLOBAL _sound_coin
251   0000              	GLOBAL _sound_jump
252   0000              	GLOBAL _sound_slide
253   0000              	GLOBAL _spr_draw_clear
254   0000              	GLOBAL _spr_water_splash_draw
255   0000              	GLOBAL _spr_water_splash_clear
256   0000              	GLOBAL _spr_draw_back
257   0000              	GLOBAL _spr_cortina_pipes
258   0000              	GLOBAL _spr_cortina_brick
259   0000              	GLOBAL _spr_brick_anim
260   0000              	GLOBAL _spr_back_fix4
261   0000              	GLOBAL _spr_back_fix3
262   0000              	GLOBAL _spr_back_fix2
263   0000              	GLOBAL _spr_back_fix1
264   0000              	GLOBAL _spr_back_fix
265   0000              	GLOBAL _spr_back_clr
266   0000              	GLOBAL _spr_draw_pow
267   0000              	GLOBAL _spr_tile
268   0000              	GLOBAL _spr_set_fall
269   0000              	GLOBAL _spr_destroy
270   0000              	GLOBAL _spr_check_over
271   0000              	GLOBAL _spr_tile_dir
272   0000              	GLOBAL _spr_anim_kill
273   0000              	GLOBAL _spr_anim_fall
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_chktime
282   0000              	GLOBAL _game_joystick_set_menu
283   0000              	GLOBAL _game_joystick_set
284   0000              	GLOBAL _game_joystick_change
285   0000              	GLOBAL _game_hall_print_p
286   0000              	GLOBAL _game_hall_edit_p
287   0000              	GLOBAL _game_hall_check
288   0000              	GLOBAL _game_hall_enter_phs
289   0000              	GLOBAL _game_print_header
290   0000              	GLOBAL _game_end
291   0000              	GLOBAL _game_hall_enter
292   0000              	GLOBAL _game_hall_of_fame
293   0000              	GLOBAL _game_score_osd
294   0000              	GLOBAL _game_phase_print_score_back
295   0000              	GLOBAL _game_bonus_clock
296   0000              	GLOBAL _game_bonus_summary_player
297   0000              	GLOBAL _game_bonus_summary
298   0000              	GLOBAL _game_check_time
299   0000              	GLOBAL _game_menu_config
300   0000              	GLOBAL _game_menu
301   0000              	GLOBAL _game_rotate_attrib
302   0000              	GLOBAL _game_colour_message
303   0000              	GLOBAL _game_paint_attrib_lin_h
304   0000              	GLOBAL _game_paint_attrib_lin
305   0000              	GLOBAL _game_paint_attrib
306   0000              	GLOBAL _game_menu_paint
307   0000              	GLOBAL _game_menu_top_paint
308   0000              	GLOBAL _game_menu_handle
309   0000              	GLOBAL _game_menu_e
310   0000              	GLOBAL _game_menu_back
311   0000              	GLOBAL _game_print_score
312   0000              	GLOBAL _game_unfreeze_all
313   0000              	GLOBAL _game_freeze_all
314   0000              	GLOBAL _game_freeze
315   0000              	GLOBAL _game_enemy_add_get_index
316   0000              	GLOBAL _game_enemy_add1
317   0000              	GLOBAL _game_enemy_quota
318   0000              	GLOBAL _game_enemy_rnd
319   0000              	GLOBAL _game_enemy_add
320   0000              	GLOBAL _game_check_maze
321   0000              	GLOBAL _game_kill_all_sprites
322   0000              	GLOBAL _game_loop
323   0000              	GLOBAL _game_phase_print
324   0000              	GLOBAL _game_phase_init
325   0000              	GLOBAL _game_phase_calc
326   0000              	GLOBAL _game_start_timer
327   0000              	GLOBAL _game_tick
328   0000              	GLOBAL _game_print_lives
329   0000              	GLOBAL _game_print_footer
330   0000              	GLOBAL _game_calc_index
331   0000              	GLOBAL _game_fill_row
332   0000              	GLOBAL _enemy_kill
333   0000              	GLOBAL _enemy_init
334   0000              	GLOBAL _enemy_walk
335   0000              	GLOBAL _enemy_upgrade
336   0000              	GLOBAL _enemy_evolve
337   0000              	GLOBAL _enemy_standard_hit
338   0000              	GLOBAL _enemy_trip
339   0000              	GLOBAL _enemy_fighterfly
340   0000              	GLOBAL _enemy_fireball_green
341   0000              	GLOBAL _enemy_fireball_red
342   0000              	GLOBAL _enemy_slipice
343   0000              	GLOBAL _enemy_standard
344   0000              	GLOBAL _enemy_turn
345   0000              	GLOBAL _enemy_flip_sidestepper
346   0000              	GLOBAL _enemy_flip
347   0000              	GLOBAL _enemy_flip_change_dir
348   0000              	GLOBAL _enemy_hit
349   0000              	GLOBAL _enemy_collition_check
350   0000              	GLOBAL _enemy_collition
351   0000              	GLOBAL _enemy_coin1
352   0000              	GLOBAL _ay_fx_play
353   0000              	GLOBAL _ay_midi_play
354   0000              	GLOBAL _ay_is_playing
355   0000              	GLOBAL _ay_reset
356   0000              	GLOBAL _test_func
357   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
358   0000              	GLOBAL _NIRVANAP_drawTW_raw
359   0000              	GLOBAL _NIRVANAP_drawTW_callee
360   0000              	GLOBAL _NIRVANAP_drawTW
361   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
362   0000              	GLOBAL _NIRVANAP_drawW_raw
363   0000              	GLOBAL _NIRVANAP_drawW_callee
364   0000              	GLOBAL _NIRVANAP_drawW
365   0000              	GLOBAL _NIRVANAP_spriteT_callee
366   0000              	GLOBAL _NIRVANAP_spriteT
367   0000              	GLOBAL _NIRVANAP_fillC_callee
368   0000              	GLOBAL _NIRVANAP_fillC
369   0000              	GLOBAL _NIRVANAP_readC_callee
370   0000              	GLOBAL _NIRVANAP_readC
371   0000              	GLOBAL _NIRVANAP_paintC_callee
372   0000              	GLOBAL _NIRVANAP_paintC
373   0000              	GLOBAL _NIRVANAP_printC_callee
374   0000              	GLOBAL _NIRVANAP_printC
375   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
376   0000              	GLOBAL _NIRVANAP_fillT_raw
377   0000              	GLOBAL _NIRVANAP_fillT_callee
378   0000              	GLOBAL _NIRVANAP_fillT
379   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
380   0000              	GLOBAL _NIRVANAP_drawT_raw
381   0000              	GLOBAL _NIRVANAP_drawT_callee
382   0000              	GLOBAL _NIRVANAP_drawT
383   0000              	GLOBAL _NIRVANAP_stop
384   0000              	GLOBAL _NIRVANAP_start
385   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
386   0000              	GLOBAL _intrinsic_swap_word_32
387   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
388   0000              	GLOBAL _intrinsic_swap_endian_32
389   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
390   0000              	GLOBAL _intrinsic_swap_endian_16
391   0000              	GLOBAL _intrinsic_return_de
392   0000              	GLOBAL _intrinsic_return_bc
393   0000              	GLOBAL _intrinsic_exx
394   0000              	GLOBAL _intrinsic_ex_de_hl
395   0000              	GLOBAL _intrinsic_pop_iy
396   0000              	GLOBAL _intrinsic_pop_ix
397   0000              	GLOBAL _intrinsic_pop_hl
398   0000              	GLOBAL _intrinsic_pop_de
399   0000              	GLOBAL _intrinsic_pop_bc
400   0000              	GLOBAL _intrinsic_pop_af
401   0000              	GLOBAL _intrinsic_push_iy
402   0000              	GLOBAL _intrinsic_push_ix
403   0000              	GLOBAL _intrinsic_push_hl
404   0000              	GLOBAL _intrinsic_push_de
405   0000              	GLOBAL _intrinsic_push_bc
406   0000              	GLOBAL _intrinsic_push_af
407   0000              	GLOBAL _intrinsic_nop
408   0000              	GLOBAL _intrinsic_im_2
409   0000              	GLOBAL _intrinsic_im_1
410   0000              	GLOBAL _intrinsic_im_0
411   0000              	GLOBAL _intrinsic_retn
412   0000              	GLOBAL _intrinsic_reti
413   0000              	GLOBAL _intrinsic_halt
414   0000              	GLOBAL _intrinsic_ei
415   0000              	GLOBAL _intrinsic_di
416   0000              	GLOBAL _intrinsic_stub
417   0000              	GLOBAL _ulltoa_callee
418   0000              	GLOBAL _ulltoa
419   0000              	GLOBAL _strtoull_callee
420   0000              	GLOBAL _strtoull
421   0000              	GLOBAL _strtoll_callee
422   0000              	GLOBAL _strtoll
423   0000              	GLOBAL _lltoa_callee
424   0000              	GLOBAL _lltoa
425   0000              	GLOBAL _llabs_callee
426   0000              	GLOBAL _llabs
427   0000              	GLOBAL __lldivu__callee
428   0000              	GLOBAL __lldivu_
429   0000              	GLOBAL __lldiv__callee
430   0000              	GLOBAL __lldiv_
431   0000              	GLOBAL _atoll_callee
432   0000              	GLOBAL _atoll
433   0000              	GLOBAL _realloc_unlocked_callee
434   0000              	GLOBAL _realloc_unlocked
435   0000              	GLOBAL _malloc_unlocked_fastcall
436   0000              	GLOBAL _malloc_unlocked
437   0000              	GLOBAL _free_unlocked_fastcall
438   0000              	GLOBAL _free_unlocked
439   0000              	GLOBAL _calloc_unlocked_callee
440   0000              	GLOBAL _calloc_unlocked
441   0000              	GLOBAL _aligned_alloc_unlocked_callee
442   0000              	GLOBAL _aligned_alloc_unlocked
443   0000              	GLOBAL _realloc_callee
444   0000              	GLOBAL _realloc
445   0000              	GLOBAL _malloc_fastcall
446   0000              	GLOBAL _malloc
447   0000              	GLOBAL _free_fastcall
448   0000              	GLOBAL _free
449   0000              	GLOBAL _calloc_callee
450   0000              	GLOBAL _calloc
451   0000              	GLOBAL _aligned_alloc_callee
452   0000              	GLOBAL _aligned_alloc
453   0000              	GLOBAL _utoa_callee
454   0000              	GLOBAL _utoa
455   0000              	GLOBAL _ultoa_callee
456   0000              	GLOBAL _ultoa
457   0000              	GLOBAL _system_fastcall
458   0000              	GLOBAL _system
459   0000              	GLOBAL _strtoul_callee
460   0000              	GLOBAL _strtoul
461   0000              	GLOBAL _strtol_callee
462   0000              	GLOBAL _strtol
463   0000              	GLOBAL _strtof_callee
464   0000              	GLOBAL _strtof
465   0000              	GLOBAL _strtod_callee
466   0000              	GLOBAL _strtod
467   0000              	GLOBAL _srand_fastcall
468   0000              	GLOBAL _srand
469   0000              	GLOBAL _rand
470   0000              	GLOBAL _quick_exit_fastcall
471   0000              	GLOBAL _quick_exit
472   0000              	GLOBAL _qsort_callee
473   0000              	GLOBAL _qsort
474   0000              	GLOBAL _ltoa_callee
475   0000              	GLOBAL _ltoa
476   0000              	GLOBAL _labs_fastcall
477   0000              	GLOBAL _labs
478   0000              	GLOBAL _itoa_callee
479   0000              	GLOBAL _itoa
480   0000              	GLOBAL _ftoh_callee
481   0000              	GLOBAL _ftoh
482   0000              	GLOBAL _ftog_callee
483   0000              	GLOBAL _ftog
484   0000              	GLOBAL _ftoe_callee
485   0000              	GLOBAL _ftoe
486   0000              	GLOBAL _ftoa_callee
487   0000              	GLOBAL _ftoa
488   0000              	GLOBAL _exit_fastcall
489   0000              	GLOBAL _exit
490   0000              	GLOBAL _dtoh_callee
491   0000              	GLOBAL _dtoh
492   0000              	GLOBAL _dtog_callee
493   0000              	GLOBAL _dtog
494   0000              	GLOBAL _dtoe_callee
495   0000              	GLOBAL _dtoe
496   0000              	GLOBAL _dtoa_callee
497   0000              	GLOBAL _dtoa
498   0000              	GLOBAL _bsearch_callee
499   0000              	GLOBAL _bsearch
500   0000              	GLOBAL _atol_fastcall
501   0000              	GLOBAL _atol
502   0000              	GLOBAL _atoi_fastcall
503   0000              	GLOBAL _atoi
504   0000              	GLOBAL _atof_fastcall
505   0000              	GLOBAL _atof
506   0000              	GLOBAL _atexit_fastcall
507   0000              	GLOBAL _atexit
508   0000              	GLOBAL _at_quick_exit_fastcall
509   0000              	GLOBAL _at_quick_exit
510   0000              	GLOBAL _abs_fastcall
511   0000              	GLOBAL _abs
512   0000              	GLOBAL _abort
513   0000              	GLOBAL __strtou__callee
514   0000              	GLOBAL __strtou_
515   0000              	GLOBAL __strtoi__callee
516   0000              	GLOBAL __strtoi_
517   0000              	GLOBAL __random_uniform_xor_8__fastcall
518   0000              	GLOBAL __random_uniform_xor_8_
519   0000              	GLOBAL __random_uniform_xor_32__fastcall
520   0000              	GLOBAL __random_uniform_xor_32_
521   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
522   0000              	GLOBAL __random_uniform_cmwc_8_
523   0000              	GLOBAL __shellsort__callee
524   0000              	GLOBAL __shellsort_
525   0000              	GLOBAL __quicksort__callee
526   0000              	GLOBAL __quicksort_
527   0000              	GLOBAL __insertion_sort__callee
528   0000              	GLOBAL __insertion_sort_
529   0000              	GLOBAL __ldivu__callee
530   0000              	GLOBAL __ldivu_
531   0000              	GLOBAL __ldiv__callee
532   0000              	GLOBAL __ldiv_
533   0000              	GLOBAL __divu__callee
534   0000              	GLOBAL __divu_
535   0000              	GLOBAL __div__callee
536   0000              	GLOBAL __div_
537   0000              	GLOBAL _in_mouse_kempston_wheel_delta
538   0000              	GLOBAL _in_mouse_kempston_wheel
539   0000              	GLOBAL _in_mouse_kempston_callee
540   0000              	GLOBAL _in_mouse_kempston
541   0000              	GLOBAL _in_mouse_kempston_setpos_callee
542   0000              	GLOBAL _in_mouse_kempston_setpos
543   0000              	GLOBAL _in_mouse_kempston_reset
544   0000              	GLOBAL _in_mouse_kempston_init
545   0000              	GLOBAL _in_mouse_amx_wheel_delta
546   0000              	GLOBAL _in_mouse_amx_wheel
547   0000              	GLOBAL _in_mouse_amx_callee
548   0000              	GLOBAL _in_mouse_amx
549   0000              	GLOBAL _in_mouse_amx_setpos_callee
550   0000              	GLOBAL _in_mouse_amx_setpos
551   0000              	GLOBAL _in_mouse_amx_reset
552   0000              	GLOBAL _in_mouse_amx_init_callee
553   0000              	GLOBAL _in_mouse_amx_init
554   0000              	GLOBAL _in_stick_sinclair2
555   0000              	GLOBAL _in_stick_sinclair1
556   0000              	GLOBAL _in_stick_kempston
557   0000              	GLOBAL _in_stick_fuller
558   0000              	GLOBAL _in_stick_cursor
559   0000              	GLOBAL _in_stick_keyboard_fastcall
560   0000              	GLOBAL _in_stick_keyboard
561   0000              	GLOBAL _in_wait_nokey
562   0000              	GLOBAL _in_wait_key
563   0000              	GLOBAL _in_test_key
564   0000              	GLOBAL _in_pause_fastcall
565   0000              	GLOBAL _in_pause
566   0000              	GLOBAL _in_key_scancode_fastcall
567   0000              	GLOBAL _in_key_scancode
568   0000              	GLOBAL _in_key_pressed_fastcall
569   0000              	GLOBAL _in_key_pressed
570   0000              	GLOBAL _in_inkey
571   0000              	GLOBAL _zx_pattern_fill_callee
572   0000              	GLOBAL _zx_pattern_fill
573   0000              	GLOBAL _zx_saddrpup_fastcall
574   0000              	GLOBAL _zx_saddrpup
575   0000              	GLOBAL _zx_saddrpright_callee
576   0000              	GLOBAL _zx_saddrpright
577   0000              	GLOBAL _zx_saddrpleft_callee
578   0000              	GLOBAL _zx_saddrpleft
579   0000              	GLOBAL _zx_saddrpdown_fastcall
580   0000              	GLOBAL _zx_saddrpdown
581   0000              	GLOBAL _zx_saddrcup_fastcall
582   0000              	GLOBAL _zx_saddrcup
583   0000              	GLOBAL _zx_saddrcright_fastcall
584   0000              	GLOBAL _zx_saddrcright
585   0000              	GLOBAL _zx_saddrcleft_fastcall
586   0000              	GLOBAL _zx_saddrcleft
587   0000              	GLOBAL _zx_saddrcdown_fastcall
588   0000              	GLOBAL _zx_saddrcdown
589   0000              	GLOBAL _zx_saddr2py_fastcall
590   0000              	GLOBAL _zx_saddr2py
591   0000              	GLOBAL _zx_saddr2px_fastcall
592   0000              	GLOBAL _zx_saddr2px
593   0000              	GLOBAL _zx_saddr2cy_fastcall
594   0000              	GLOBAL _zx_saddr2cy
595   0000              	GLOBAL _zx_saddr2cx_fastcall
596   0000              	GLOBAL _zx_saddr2cx
597   0000              	GLOBAL _zx_saddr2aaddr_fastcall
598   0000              	GLOBAL _zx_saddr2aaddr
599   0000              	GLOBAL _zx_py2saddr_fastcall
600   0000              	GLOBAL _zx_py2saddr
601   0000              	GLOBAL _zx_py2aaddr_fastcall
602   0000              	GLOBAL _zx_py2aaddr
603   0000              	GLOBAL _zx_pxy2saddr_callee
604   0000              	GLOBAL _zx_pxy2saddr
605   0000              	GLOBAL _zx_pxy2aaddr_callee
606   0000              	GLOBAL _zx_pxy2aaddr
607   0000              	GLOBAL _zx_px2bitmask_fastcall
608   0000              	GLOBAL _zx_px2bitmask
609   0000              	GLOBAL _zx_cyx2saddr_callee
610   0000              	GLOBAL _zx_cyx2saddr
611   0000              	GLOBAL _zx_cyx2aaddr_callee
612   0000              	GLOBAL _zx_cyx2aaddr
613   0000              	GLOBAL _zx_cy2saddr_fastcall
614   0000              	GLOBAL _zx_cy2saddr
615   0000              	GLOBAL _zx_cy2aaddr_fastcall
616   0000              	GLOBAL _zx_cy2aaddr
617   0000              	GLOBAL _zx_bitmask2px_fastcall
618   0000              	GLOBAL _zx_bitmask2px
619   0000              	GLOBAL _zx_aaddrcup_fastcall
620   0000              	GLOBAL _zx_aaddrcup
621   0000              	GLOBAL _zx_aaddrcright_fastcall
622   0000              	GLOBAL _zx_aaddrcright
623   0000              	GLOBAL _zx_aaddrcleft_fastcall
624   0000              	GLOBAL _zx_aaddrcleft
625   0000              	GLOBAL _zx_aaddrcdown_fastcall
626   0000              	GLOBAL _zx_aaddrcdown
627   0000              	GLOBAL _zx_aaddr2saddr_fastcall
628   0000              	GLOBAL _zx_aaddr2saddr
629   0000              	GLOBAL _zx_aaddr2py_fastcall
630   0000              	GLOBAL _zx_aaddr2py
631   0000              	GLOBAL _zx_aaddr2px_fastcall
632   0000              	GLOBAL _zx_aaddr2px
633   0000              	GLOBAL _zx_aaddr2cy_fastcall
634   0000              	GLOBAL _zx_aaddr2cy
635   0000              	GLOBAL _zx_aaddr2cx_fastcall
636   0000              	GLOBAL _zx_aaddr2cx
637   0000              	GLOBAL _zx_scroll_wc_up_callee
638   0000              	GLOBAL _zx_scroll_wc_up
639   0000              	GLOBAL _zx_scroll_up_callee
640   0000              	GLOBAL _zx_scroll_up
641   0000              	GLOBAL _zx_cls_wc_callee
642   0000              	GLOBAL _zx_cls_wc
643   0000              	GLOBAL _zx_cls_fastcall
644   0000              	GLOBAL _zx_cls
645   0000              	GLOBAL _zx_border_fastcall
646   0000              	GLOBAL _zx_border
647   0000              	GLOBAL _ay_effect_20
648   0000              	GLOBAL _ay_effect_19
649   0000              	GLOBAL _ay_effect_18
650   0000              	GLOBAL _ay_effect_17
651   0000              	GLOBAL _ay_effect_16
652   0000              	GLOBAL _ay_effect_15
653   0000              	GLOBAL _ay_effect_14
654   0000              	GLOBAL _ay_effect_13
655   0000              	GLOBAL _ay_effect_12
656   0000              	GLOBAL _ay_effect_11
657   0000              	GLOBAL _ay_effect_10
658   0000              	GLOBAL _ay_effect_09
659   0000              	GLOBAL _ay_effect_08
660   0000              	GLOBAL _ay_effect_07
661   0000              	GLOBAL _ay_effect_06
662   0000              	GLOBAL _ay_effect_05
663   0000              	GLOBAL _ay_effect_04
664   0000              	GLOBAL _ay_effect_03
665   0000              	GLOBAL _ay_effect_02
666   0000              	GLOBAL _ay_effect_01
667   0000              	GLOBAL _pb_midi_phase_1
668   0000              	GLOBAL _pb_midi_title
669   0000              	GLOBAL _joynames
670   0000              	GLOBAL _initials
671   0000              	GLOBAL _hof
672   0000              	GLOBAL _score_osd_tile
673   0000              	GLOBAL _score_osd_time
674   0000              	GLOBAL _score_osd_col
675   0000              	GLOBAL _score_osd_lin
676   0000              	GLOBAL _phase_bonus_total
677   0000              	GLOBAL _phase_angry
678   0000              	GLOBAL _phase_curr
679   0000              	GLOBAL _phase_end
680   0000              	GLOBAL _phase_coins
681   0000              	GLOBAL _phase_pop
682   0000              	GLOBAL _phase_tot
683   0000              	GLOBAL _phase_left
684   0000              	GLOBAL _phase_quota
685   0000              	GLOBAL _phases
686   0000              	GLOBAL _spr_idx
687   0000              	GLOBAL _lvl_1
688   0000              	GLOBAL _sprite_speed_alt
689   0000              	GLOBAL _sprite_speed
690   0000              	GLOBAL _screen_ink
691   0000              	GLOBAL _screen_paper
692   0000              	GLOBAL _game_menu_sel
693   0000              	GLOBAL _game_type
694   0000              	GLOBAL _game_bonus
695   0000              	GLOBAL _spr_water_time
696   0000              	GLOBAL _spr_water_clear
697   0000              	GLOBAL _game_time_fireball_start
698   0000              	GLOBAL _game_time_flipped
699   0000              	GLOBAL _game_score_top
700   0000              	GLOBAL _game_lives_update
701   0000              	GLOBAL _game_lives
702   0000              	GLOBAL _game_over
703   0000              	GLOBAL _game_sound
704   0000              	GLOBAL _game_two_player
705   0000              	GLOBAL _game_brick_tile
706   0000              	GLOBAL _game_pow
707   0000              	GLOBAL _spr_count
708   0000              	GLOBAL _frame_loop_count
709   0000              	GLOBAL _col_time
710   0000              	GLOBAL _frame_time
711   0000              	GLOBAL _entry_time
712   0000              	GLOBAL _curr_time
713   0000              	GLOBAL _s_state
714   0000              	GLOBAL _attrib_hl
715   0000              	GLOBAL _attrib
716   0000              	GLOBAL _zx_val_asm
717   0000              	GLOBAL _enemies
718   0000              	GLOBAL _tmp_ui
719   0000              	GLOBAL _tmp_sc
720   0000              	GLOBAL _tmp_uc
721   0000              	GLOBAL _tmp1
722   0000              	GLOBAL _tmp0
723   0000              	GLOBAL _tmp
724   0000              	GLOBAL _index_d
725   0000              	GLOBAL _index3
726   0000              	GLOBAL _index2
727   0000              	GLOBAL _index1
728   0000              	GLOBAL _loop_count
729   0000              	GLOBAL _sprite_lin_inc_mul
730   0000              	GLOBAL _s_col1
731   0000              	GLOBAL _s_col0
732   0000              	GLOBAL _s_lin1
733   0000              	GLOBAL _s_lin0
734   0000              	GLOBAL _s_tile1
735   0000              	GLOBAL _s_tile0
736   0000              	GLOBAL _hit_count
737   0000              	GLOBAL _tile_offset_other_player
738   0000              	GLOBAL _tile_offset
739   0000              	GLOBAL _index_player
740   0000              	GLOBAL _sprite_other_player
741   0000              	GLOBAL _sprite
742   0000              	GLOBAL _player_joy
743   0000              	GLOBAL _player_next_extra
744   0000              	GLOBAL _player_score
745   0000              	GLOBAL _last_time
746   0000              	GLOBAL _sliding
747   0000              	GLOBAL _spr_timer_c
748   0000              	GLOBAL _spr_timer
749   0000              	GLOBAL _jump_lin
750   0000              	GLOBAL _player_jump_c
751   0000              	GLOBAL _hit_col
752   0000              	GLOBAL _hit_lin
753   0000              	GLOBAL _colint
754   0000              	GLOBAL _col
755   0000              	GLOBAL _lin
756   0000              	GLOBAL _tile
757   0000              	GLOBAL _state_a
758   0000              	GLOBAL _state
759   0000              	GLOBAL _class
760   0000              	GLOBAL _tbuffer
761   0000              	GLOBAL _dirs
762   0000              	GLOBAL _k2
763   0000              	GLOBAL _k1
764   0000              	GLOBAL _joyfunc2
765   0000              	GLOBAL _joyfunc1
766   0000              	GLOBAL _btiles
767   0000              	GLOBAL _spec128
768   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
769   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
770   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
771   0000              	GLOBAL _NIRVANAP_ISR_HOOK
772   0000              	GLOBAL _control_method
773   0000              	GLOBAL _hall_valids
774   0000              ;--------------------------------------------------------
775   0000              ; special function registers
776   0000              ;--------------------------------------------------------
777   0000              ;--------------------------------------------------------
778   0000              ; ram data
779   0000              ;--------------------------------------------------------
780   0000              	SECTION bss_compiler
781   0000              ;--------------------------------------------------------
782   0000              ; ram data
783   0000              ;--------------------------------------------------------
784   0000              
785   0000              IF 0
786   0000              
787   0000              ; .area _INITIALIZED removed by z88dk
788   0000              
789   0000              
790   0000              ENDIF
791   0000              
792   0000              ;--------------------------------------------------------
793   0000              ; absolute external ram data
794   0000              ;--------------------------------------------------------
795   0000              	SECTION IGNORE
796   0000              ;--------------------------------------------------------
797   0000              ; global & static initialisations
798   0000              ;--------------------------------------------------------
799   0000              	SECTION code_crt_init
800   0000              ;--------------------------------------------------------
801   0000              ; Home
802   0000              ;--------------------------------------------------------
803   0000              	SECTION IGNORE
804   0000              ;--------------------------------------------------------
805   0000              ; code
806   0000              ;--------------------------------------------------------
807   0000              	SECTION code_compiler
808   0000              ;	---------------------------------
809   0000              ; Function player_init
810   0000              ; ---------------------------------
811   0000              _player_init:
812   0000  CD 00 00    	call	___sdcc_enter_ix
813   0003  F5          	push	af
814   0004  3E 00       	ld	a,+((_class) & 0xFF)
815   0006  DD 86 04    	add	a,(ix+4)
816   0009  4F          	ld	c,a
817   000A  3E 00       	ld	a,+((_class) / 256)
818   000C  CE 00       	adc	a,0x00
819   000E  47          	ld	b,a
820   000F  3E 10       	ld	a,0x10
821   0011  02          	ld	(bc),a
822   0012  3E 00       	ld	a,+((_tile) & 0xFF)
823   0014  DD 86 04    	add	a,(ix+4)
824   0017  4F          	ld	c,a
825   0018  3E 00       	ld	a,+((_tile) / 256)
826   001A  CE 00       	adc	a,0x00
827   001C  47          	ld	b,a
828   001D  DD 7E 07    	ld	a,(ix+7)
829   0020  02          	ld	(bc),a
830   0021  3E 00       	ld	a,+((_lin) & 0xFF)
831   0023  DD 86 04    	add	a,(ix+4)
832   0026  4F          	ld	c,a
833   0027  3E 00       	ld	a,+((_lin) / 256)
834   0029  CE 00       	adc	a,0x00
835   002B  47          	ld	b,a
836   002C  DD 7E 05    	ld	a,(ix+5)
837   002F  02          	ld	(bc),a
838   0030  3E 00       	ld	a,+((_col) & 0xFF)
839   0032  DD 86 04    	add	a,(ix+4)
840   0035  4F          	ld	c,a
841   0036  3E 00       	ld	a,+((_col) / 256)
842   0038  CE 00       	adc	a,0x00
843   003A  47          	ld	b,a
844   003B  DD 7E 06    	ld	a,(ix+6)
845   003E  02          	ld	(bc),a
846   003F  3E 00       	ld	a,+((_colint) & 0xFF)
847   0041  DD 86 04    	add	a,(ix+4)
848   0044  4F          	ld	c,a
849   0045  3E 00       	ld	a,+((_colint) / 256)
850   0047  CE 00       	adc	a,0x00
851   0049  47          	ld	b,a
852   004A  AF          	xor	a, a
853   004B  02          	ld	(bc),a
854   004C  3E 00       	ld	a,+((_state) & 0xFF)
855   004E  DD 86 04    	add	a,(ix+4)
856   0051  4F          	ld	c,a
857   0052  3E 00       	ld	a,+((_state) / 256)
858   0054  CE 00       	adc	a,0x00
859   0056  47          	ld	b,a
860   0057  AF          	xor	a, a
861   0058  02          	ld	(bc),a
862   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
863   005B  DD 86 04    	add	a,(ix+4)
864   005E  4F          	ld	c,a
865   005F  3E 00       	ld	a,+((_state_a) / 256)
866   0061  CE 00       	adc	a,0x00
867   0063  47          	ld	b,a
868   0064  AF          	xor	a, a
869   0065  02          	ld	(bc),a
870   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
871   0068  DD 86 04    	add	a,(ix+4)
872   006B  5F          	ld	e,a
873   006C  3E 00       	ld	a,+((_jump_lin) / 256)
874   006E  CE 00       	adc	a,0x00
875   0070  57          	ld	d,a
876   0071  DD 7E 05    	ld	a,(ix+5)
877   0074  12          	ld	(de),a
878   0075  DD 5E 04    	ld	e,(ix+4)
879   0078  16 00       	ld	d,0x00
880   007A  CB 23       	sla	e
881   007C  CB 12       	rl	d
882   007E  21 00 00    	ld	hl,_last_time
883   0081  19          	add	hl,de
884   0082  E3          	ex	(sp), hl
885   0083  E1          	pop	hl
886   0084  ED 5B 00 00 	ld	de,(_curr_time)
887   0088  E5          	push	hl
888   0089  73          	ld	(hl),e
889   008A  23          	inc	hl
890   008B  72          	ld	(hl),d
891   008C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
892   008E  DD 86 04    	add	a,(ix+4)
893   0091  5F          	ld	e,a
894   0092  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
895   0094  CE 00       	adc	a,0x00
896   0096  57          	ld	d,a
897   0097  AF          	xor	a, a
898   0098  12          	ld	(de),a
899   0099  0A          	ld	a,(bc)
900   009A  CB C7       	set	0, a
901   009C  02          	ld	(bc),a
902   009D  5F          	ld	e,a
903   009E  DD 7E 04    	ld	a,(ix+4)
904   00A1  D6 07       	sub	a,0x07
905   00A3  20 0B       	jr	NZ,l_player_init_00102
906   00A5  21 00 00    	ld	hl,_index_player
907   00A8  36 00       	ld	(hl),0x00
908   00AA  7B          	ld	a,e
909   00AB  CB E7       	set	4, a
910   00AD  02          	ld	(bc),a
911   00AE  18 09       	jr	l_player_init_00103
912   00B0              l_player_init_00102:
913   00B0  21 00 00    	ld	hl,_index_player
914   00B3  36 01       	ld	(hl),0x01
915   00B5  7B          	ld	a,e
916   00B6  CB DF       	set	3, a
917   00B8  02          	ld	(bc),a
918   00B9              l_player_init_00103:
919   00B9  3E 00       	ld	a,+((_hit_col) & 0xFF)
920   00BB  21 00 00    	ld	hl,_index_player
921   00BE  86          	add	a, (hl)
922   00BF  4F          	ld	c,a
923   00C0  3E 00       	ld	a,+((_hit_col) / 256)
924   00C2  CE 00       	adc	a,0x00
925   00C4  47          	ld	b,a
926   00C5  AF          	xor	a, a
927   00C6  02          	ld	(bc),a
928   00C7  3E 00       	ld	a,+((_hit_lin) & 0xFF)
929   00C9  86          	add	a, (hl)
930   00CA  4F          	ld	c,a
931   00CB  3E 00       	ld	a,+((_hit_lin) / 256)
932   00CD  CE 00       	adc	a,0x00
933   00CF  47          	ld	b,a
934   00D0  AF          	xor	a, a
935   00D1  02          	ld	(bc),a
936   00D2  3E 00       	ld	a,+((_sliding) & 0xFF)
937   00D4  86          	add	a, (hl)
938   00D5  4F          	ld	c,a
939   00D6  3E 00       	ld	a,+((_sliding) / 256)
940   00D8  CE 00       	adc	a,0x00
941   00DA  47          	ld	b,a
942   00DB  AF          	xor	a, a
943   00DC  02          	ld	(bc),a
944   00DD  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
945   00DF  86          	add	a, (hl)
946   00E0  4F          	ld	c,a
947   00E1  3E 00       	ld	a,+((_player_jump_c) / 256)
948   00E3  CE 00       	adc	a,0x00
949   00E5  47          	ld	b,a
950   00E6  AF          	xor	a, a
951   00E7  02          	ld	(bc),a
952   00E8  DD 66 06    	ld	h,(ix+6)
953   00EB  DD 6E 05    	ld	l,(ix+5)
954   00EE  E5          	push	hl
955   00EF  DD 66 07    	ld	h,(ix+7)
956   00F2  DD 6E 04    	ld	l,(ix+4)
957   00F5  E5          	push	hl
958   00F6  CD 00 00    	call	_NIRVANAP_spriteT_callee
959   00F9  F1          	pop	af
960   00FA  DD E1       	pop	ix
961   00FC  C9          	ret
962   00FD              ;	---------------------------------
963   00FD              ; Function player_calc_slide
964   00FD              ; ---------------------------------
965   00FD              _player_calc_slide:
966   00FD  CD 00 00    	call	___sdcc_enter_ix
967   0100  DD 7E 04    	ld	a,(ix+4)
968   0103  C6 10       	add	a,0x10
969   0105  47          	ld	b,a
970   0106  DD 7E 05    	ld	a,(ix+5)
971   0109  48          	ld	c,b
972   010A  47          	ld	b,a
973   010B  C5          	push	bc
974   010C  CD 00 00    	call	_game_calc_index
975   010F  F1          	pop	af
976   0110  22 00 00    	ld	(_index1),hl
977   0113  01 00 00    	ld	bc,_lvl_1
978   0116  09          	add	hl,bc
979   0117  7E          	ld	a,(hl)
980   0118  D6 14       	sub	a,0x14
981   011A  20 10       	jr	NZ,l_player_calc_slide_00102
982   011C  3A 00 00    	ld	a,(_index_player)
983   011F  C6 00       	add	a,+((_sliding) & 0xFF)
984   0121  4F          	ld	c,a
985   0122  3E 00       	ld	a,+((_sliding) / 256)
986   0124  CE 00       	adc	a,0x00
987   0126  47          	ld	b,a
988   0127  3E 10       	ld	a,0x10
989   0129  02          	ld	(bc),a
990   012A  18 0E       	jr	l_player_calc_slide_00104
991   012C              l_player_calc_slide_00102:
992   012C  3A 00 00    	ld	a,(_index_player)
993   012F  C6 00       	add	a,+((_sliding) & 0xFF)
994   0131  4F          	ld	c,a
995   0132  3E 00       	ld	a,+((_sliding) / 256)
996   0134  CE 00       	adc	a,0x00
997   0136  47          	ld	b,a
998   0137  3E 04       	ld	a,0x04
999   0139  02          	ld	(bc),a
1000  013A              l_player_calc_slide_00104:
1001  013A  DD E1       	pop	ix
1002  013C  C9          	ret
1003  013D              ;	---------------------------------
1004  013D              ; Function player_check_input
1005  013D              ; ---------------------------------
1006  013D              _player_check_input:
1007  013D  21 00 00    	ld	hl,_dirs
1008  0140  7E          	ld	a,(hl)
1009  0141  CB 07       	rlc	a
1010  0143  E6 01       	and	a,0x01
1011  0145  CB 47       	bit	0,a
1012  0147  20 0F       	jr	NZ,l_player_check_input_00104
1013  0149  7E          	ld	a,(hl)
1014  014A  E6 04       	and	a,0x04
1015  014C  20 0A       	jr	NZ,l_player_check_input_00104
1016  014E  3A 00 00    	ld	a,(_dirs)
1017  0151  E6 08       	and	a,0x08
1018  0153  20 03       	jr	NZ,l_player_check_input_00104
1019  0155  6F          	ld	l,a
1020  0156  18 02       	jr	l_player_check_input_00105
1021  0158              l_player_check_input_00104:
1022  0158  2E 01       	ld	l,0x01
1023  015A              l_player_check_input_00105:
1024  015A  C9          	ret
1025  015B              ;	---------------------------------
1026  015B              ; Function player_collition
1027  015B              ; ---------------------------------
1028  015B              _player_collition:
1029  015B  3A 00 00    	ld	a,(_sprite)
1030  015E  C6 00       	add	a,+((_class) & 0xFF)
1031  0160  4F          	ld	c,a
1032  0161  3E 00       	ld	a,+((_class) / 256)
1033  0163  CE 00       	adc	a,0x00
1034  0165  47          	ld	b,a
1035  0166  0A          	ld	a,(bc)
1036  0167  B7          	or	a,a
1037  0168  20 04       	jr	NZ,l_player_collition_00102
1038  016A  6F          	ld	l,a
1039  016B  C3 E8 01    	jp	l_player_collition_00121
1040  016E              l_player_collition_00102:
1041  016E  3A 00 00    	ld	a,(_sprite)
1042  0171  C6 00       	add	a,+((_state) & 0xFF)
1043  0173  4F          	ld	c,a
1044  0174  3E 00       	ld	a,+((_state) / 256)
1045  0176  CE 00       	adc	a,0x00
1046  0178  47          	ld	b,a
1047  0179  0A          	ld	a,(bc)
1048  017A  CB 67       	bit	4, a
1049  017C  28 04       	jr	Z,l_player_collition_00104
1050  017E  2E 00       	ld	l,0x00
1051  0180  18 66       	jr	l_player_collition_00121
1052  0182              l_player_collition_00104:
1053  0182  CB 6F       	bit	5, a
1054  0184  28 04       	jr	Z,l_player_collition_00106
1055  0186  2E 00       	ld	l,0x00
1056  0188  18 5E       	jr	l_player_collition_00121
1057  018A              l_player_collition_00106:
1058  018A  21 00 00    	ld	hl,_hit_count
1059  018D  36 00       	ld	(hl),0x00
1060  018F  21 00 00    	ld	hl,_enemies
1061  0192  36 00       	ld	(hl),0x00
1062  0194              l_player_collition_00119:
1063  0194  CD E9 01    	call	_player_collition_check
1064  0197  7D          	ld	a,l
1065  0198  B7          	or	a, a
1066  0199  28 3E       	jr	Z,l_player_collition_00120
1067  019B  3A 00 00    	ld	a,(_enemies)
1068  019E  C6 00       	add	a,+((_state) & 0xFF)
1069  01A0  4F          	ld	c,a
1070  01A1  3E 00       	ld	a,+((_state) / 256)
1071  01A3  CE 00       	adc	a,0x00
1072  01A5  47          	ld	b,a
1073  01A6  0A          	ld	a,(bc)
1074  01A7  CB 67       	bit	4, a
1075  01A9  28 08       	jr	Z,l_player_collition_00114
1076  01AB  2A 00 00    	ld	hl,(_enemies)
1077  01AE  CD 00 00    	call	_enemy_kill
1078  01B1  18 26       	jr	l_player_collition_00120
1079  01B3              l_player_collition_00114:
1080  01B3  2A 00 00    	ld	hl,(_enemies)
1081  01B6  26 00       	ld	h,0x00
1082  01B8  01 00 00    	ld	bc,_class
1083  01BB  09          	add	hl,bc
1084  01BC  7E          	ld	a,(hl)
1085  01BD  4F          	ld	c,a
1086  01BE  D6 08       	sub	a,0x08
1087  01C0  28 05       	jr	Z,l_player_collition_00109
1088  01C2  79          	ld	a,c
1089  01C3  D6 0C       	sub	a,0x0c
1090  01C5  20 0C       	jr	NZ,l_player_collition_00110
1091  01C7              l_player_collition_00109:
1092  01C7  2A 00 00    	ld	hl,(_enemies)
1093  01CA  26 50       	ld	h,0x50
1094  01CC  E5          	push	hl
1095  01CD  CD 60 10    	call	_player_coin
1096  01D0  F1          	pop	af
1097  01D1  18 06       	jr	l_player_collition_00120
1098  01D3              l_player_collition_00110:
1099  01D3  21 00 00    	ld	hl,_ay_effect_18
1100  01D6  CD 00 00    	call	_ay_fx_play
1101  01D9              l_player_collition_00120:
1102  01D9  21 00 00    	ld	hl,_enemies
1103  01DC  7E          	ld	a,(hl)
1104  01DD  3C          	inc	a
1105  01DE  77          	ld	(hl),a
1106  01DF  D6 06       	sub	a,0x06
1107  01E1  38 B1       	jr	C,l_player_collition_00119
1108  01E3  CD 00 00    	call	_game_score_osd
1109  01E6  2E 00       	ld	l,0x00
1110  01E8              l_player_collition_00121:
1111  01E8  C9          	ret
1112  01E9              ;	---------------------------------
1113  01E9              ; Function player_collition_check
1114  01E9              ; ---------------------------------
1115  01E9              _player_collition_check:
1116  01E9  CD 00 00    	call	___sdcc_enter_ix
1117  01EC  3B          	dec	sp
1118  01ED  3A 00 00    	ld	a,(_enemies)
1119  01F0  C6 00       	add	a,+((_class) & 0xFF)
1120  01F2  4F          	ld	c,a
1121  01F3  3E 00       	ld	a,+((_class) / 256)
1122  01F5  CE 00       	adc	a,0x00
1123  01F7  47          	ld	b,a
1124  01F8  0A          	ld	a,(bc)
1125  01F9  B7          	or	a,a
1126  01FA  20 04       	jr	NZ,l_player_collition_check_00102
1127  01FC  6F          	ld	l,a
1128  01FD  C3 5A 03    	jp	l_player_collition_check_00125
1129  0200              l_player_collition_check_00102:
1130  0200  3A 00 00    	ld	a,(_enemies)
1131  0203  C6 00       	add	a,+((_state) & 0xFF)
1132  0205  4F          	ld	c,a
1133  0206  3E 00       	ld	a,+((_state) / 256)
1134  0208  CE 00       	adc	a,0x00
1135  020A  47          	ld	b,a
1136  020B  0A          	ld	a,(bc)
1137  020C  CB 6F       	bit	5, a
1138  020E  28 05       	jr	Z,l_player_collition_check_00104
1139  0210  2E 00       	ld	l,0x00
1140  0212  C3 5A 03    	jp	l_player_collition_check_00125
1141  0215              l_player_collition_check_00104:
1142  0215  11 00 00    	ld	de,_lin+0
1143  0218  7B          	ld	a,e
1144  0219  21 00 00    	ld	hl,_enemies
1145  021C  86          	add	a, (hl)
1146  021D  4F          	ld	c,a
1147  021E  7A          	ld	a,d
1148  021F  CE 00       	adc	a,0x00
1149  0221  47          	ld	b,a
1150  0222  0A          	ld	a,(bc)
1151  0223  4F          	ld	c,a
1152  0224  06 00       	ld	b,0x00
1153  0226  7B          	ld	a,e
1154  0227  21 00 00    	ld	hl,_sprite
1155  022A  86          	add	a, (hl)
1156  022B  5F          	ld	e,a
1157  022C  7A          	ld	a,d
1158  022D  CE 00       	adc	a,0x00
1159  022F  57          	ld	d,a
1160  0230  1A          	ld	a,(de)
1161  0231  5F          	ld	e,a
1162  0232  16 00       	ld	d,0x00
1163  0234  79          	ld	a,c
1164  0235  93          	sub	a, e
1165  0236  6F          	ld	l,a
1166  0237  78          	ld	a,b
1167  0238  9A          	sbc	a, d
1168  0239  67          	ld	h,a
1169  023A  CD 00 00    	call	_abs_fastcall
1170  023D  22 00 00    	ld	(_tmp_ui),hl
1171  0240  3A 00 00    	ld	a,(_sprite)
1172  0243  C6 00       	add	a,+((_state) & 0xFF)
1173  0245  4F          	ld	c,a
1174  0246  3E 00       	ld	a,+((_state) / 256)
1175  0248  CE 00       	adc	a,0x00
1176  024A  47          	ld	b,a
1177  024B  0A          	ld	a,(bc)
1178  024C  CB 47       	bit	0, a
1179  024E  20 04       	jr	NZ,l_player_collition_check_00109
1180  0250  CB 4F       	bit	1, a
1181  0252  28 11       	jr	Z,l_player_collition_check_00110
1182  0254              l_player_collition_check_00109:
1183  0254  3E 10       	ld	a,0x10
1184  0256  21 00 00    	ld	hl,_tmp_ui
1185  0259  BE          	cp	a, (hl)
1186  025A  3E 00       	ld	a,0x00
1187  025C  23          	inc	hl
1188  025D  9E          	sbc	a, (hl)
1189  025E  30 16       	jr	NC,l_player_collition_check_00111
1190  0260  2E 00       	ld	l,0x00
1191  0262  C3 5A 03    	jp	l_player_collition_check_00125
1192  0265              l_player_collition_check_00110:
1193  0265  3E 0E       	ld	a,0x0e
1194  0267  21 00 00    	ld	hl,_tmp_ui
1195  026A  BE          	cp	a, (hl)
1196  026B  3E 00       	ld	a,0x00
1197  026D  23          	inc	hl
1198  026E  9E          	sbc	a, (hl)
1199  026F  30 05       	jr	NC,l_player_collition_check_00111
1200  0271  2E 00       	ld	l,0x00
1201  0273  C3 5A 03    	jp	l_player_collition_check_00125
1202  0276              l_player_collition_check_00111:
1203  0276  2A 00 00    	ld	hl,(_enemies)
1204  0279  26 00       	ld	h,0x00
1205  027B  01 00 00    	ld	bc,_col
1206  027E  09          	add	hl,bc
1207  027F  4E          	ld	c,(hl)
1208  0280  06 00       	ld	b,0x00
1209  0282  2A 00 00    	ld	hl,(_sprite)
1210  0285  60          	ld	h,b
1211  0286  11 00 00    	ld	de,_col
1212  0289  19          	add	hl,de
1213  028A  5E          	ld	e, (hl)
1214  028B  16 00       	ld	d,0x00
1215  028D  79          	ld	a,c
1216  028E  93          	sub	a, e
1217  028F  6F          	ld	l,a
1218  0290  78          	ld	a,b
1219  0291  9A          	sbc	a, d
1220  0292  67          	ld	h,a
1221  0293  CD 00 00    	call	_abs_fastcall
1222  0296  22 00 00    	ld	(_tmp_ui),hl
1223  0299  2A 00 00    	ld	hl,(_enemies)
1224  029C  26 00       	ld	h,0x00
1225  029E  01 00 00    	ld	bc,_col
1226  02A1  09          	add	hl,bc
1227  02A2  7E          	ld	a,(hl)
1228  02A3  4F          	ld	c,a
1229  02A4  87          	add	a, a
1230  02A5  81          	add	a, c
1231  02A6  32 00 00    	ld	(_tmp0),a
1232  02A9  4F          	ld	c,a
1233  02AA  2A 00 00    	ld	hl,(_sprite)
1234  02AD  26 00       	ld	h,0x00
1235  02AF  11 00 00    	ld	de,_col
1236  02B2  19          	add	hl,de
1237  02B3  7E          	ld	a,(hl)
1238  02B4  5F          	ld	e,a
1239  02B5  87          	add	a, a
1240  02B6  83          	add	a, e
1241  02B7  32 00 00    	ld	(_tmp1),a
1242  02BA  47          	ld	b,a
1243  02BB  3E 02       	ld	a,0x02
1244  02BD  21 00 00    	ld	hl,_tmp_ui
1245  02C0  BE          	cp	a, (hl)
1246  02C1  3E 00       	ld	a,0x00
1247  02C3  23          	inc	hl
1248  02C4  9E          	sbc	a, (hl)
1249  02C5  30 05       	jr	NC,l_player_collition_check_00114
1250  02C7  2E 00       	ld	l,0x00
1251  02C9  C3 5A 03    	jp	l_player_collition_check_00125
1252  02CC              l_player_collition_check_00114:
1253  02CC  2A 00 00    	ld	hl,(_enemies)
1254  02CF  26 00       	ld	h,0x00
1255  02D1  11 00 00    	ld	de,_state
1256  02D4  19          	add	hl,de
1257  02D5  7E          	ld	a,(hl)
1258  02D6  DD 77 FF    	ld	(ix-1),a
1259  02D9  CB 57       	bit	2,a
1260  02DB  28 0E       	jr	Z,l_player_collition_check_00116
1261  02DD  2A 00 00    	ld	hl,(_enemies)
1262  02E0  26 00       	ld	h,0x00
1263  02E2  11 00 00    	ld	de,_colint
1264  02E5  19          	add	hl,de
1265  02E6  7E          	ld	a,(hl)
1266  02E7  81          	add	a,c
1267  02E8  32 00 00    	ld	(_tmp0),a
1268  02EB              l_player_collition_check_00116:
1269  02EB  DD CB FF 5E 	bit	3,(ix-1)
1270  02EF  28 0F       	jr	Z,l_player_collition_check_00118
1271  02F1  2A 00 00    	ld	hl,(_enemies)
1272  02F4  26 00       	ld	h,0x00
1273  02F6  11 00 00    	ld	de,_colint
1274  02F9  19          	add	hl,de
1275  02FA  5E          	ld	e, (hl)
1276  02FB  79          	ld	a,c
1277  02FC  93          	sub	a, e
1278  02FD  32 00 00    	ld	(_tmp0),a
1279  0300              l_player_collition_check_00118:
1280  0300  2A 00 00    	ld	hl,(_sprite)
1281  0303  26 00       	ld	h,0x00
1282  0305  11 00 00    	ld	de,_state
1283  0308  19          	add	hl,de
1284  0309  7E          	ld	a,(hl)
1285  030A  4F          	ld	c,a
1286  030B  CB 57       	bit	2,a
1287  030D  28 0E       	jr	Z,l_player_collition_check_00120
1288  030F  2A 00 00    	ld	hl,(_sprite)
1289  0312  26 00       	ld	h,0x00
1290  0314  11 00 00    	ld	de,_colint
1291  0317  19          	add	hl,de
1292  0318  7E          	ld	a,(hl)
1293  0319  80          	add	a,b
1294  031A  32 00 00    	ld	(_tmp1),a
1295  031D              l_player_collition_check_00120:
1296  031D  CB 59       	bit	3, c
1297  031F  28 0F       	jr	Z,l_player_collition_check_00122
1298  0321  2A 00 00    	ld	hl,(_sprite)
1299  0324  26 00       	ld	h,0x00
1300  0326  11 00 00    	ld	de,_colint
1301  0329  19          	add	hl,de
1302  032A  4E          	ld	c, (hl)
1303  032B  78          	ld	a,b
1304  032C  91          	sub	a, c
1305  032D  32 00 00    	ld	(_tmp1),a
1306  0330              l_player_collition_check_00122:
1307  0330  3A 00 00    	ld	a,(_tmp0)
1308  0333  4F          	ld	c,a
1309  0334  06 00       	ld	b,0x00
1310  0336  3A 00 00    	ld	a,(_tmp1)
1311  0339  5F          	ld	e,a
1312  033A  16 00       	ld	d,0x00
1313  033C  79          	ld	a,c
1314  033D  93          	sub	a, e
1315  033E  6F          	ld	l,a
1316  033F  78          	ld	a,b
1317  0340  9A          	sbc	a, d
1318  0341  67          	ld	h,a
1319  0342  CD 00 00    	call	_abs_fastcall
1320  0345  22 00 00    	ld	(_tmp_ui),hl
1321  0348  3E 04       	ld	a,0x04
1322  034A  21 00 00    	ld	hl,_tmp_ui
1323  034D  BE          	cp	a, (hl)
1324  034E  3E 00       	ld	a,0x00
1325  0350  23          	inc	hl
1326  0351  9E          	sbc	a, (hl)
1327  0352  30 04       	jr	NC,l_player_collition_check_00124
1328  0354  2E 00       	ld	l,0x00
1329  0356  18 02       	jr	l_player_collition_check_00125
1330  0358              l_player_collition_check_00124:
1331  0358  2E 01       	ld	l,0x01
1332  035A              l_player_collition_check_00125:
1333  035A  33          	inc	sp
1334  035B  DD E1       	pop	ix
1335  035D  C9          	ret
1336  035E              ;	---------------------------------
1337  035E              ; Function player_kill
1338  035E              ; ---------------------------------
1339  035E              _player_kill:
1340  035E  01 00 00    	ld	bc,_state+0
1341  0361  2A 00 00    	ld	hl,(_sprite)
1342  0364  26 00       	ld	h,0x00
1343  0366  09          	add	hl,bc
1344  0367  CB 6E       	bit	5,(hl)
1345  0369  C2 3F 04    	jp	NZ,l_player_kill_00109
1346  036C  C5          	push	bc
1347  036D  CD 00 00    	call	_sound_hit_brick
1348  0370  C1          	pop	bc
1349  0371  79          	ld	a,c
1350  0372  21 00 00    	ld	hl,_sprite
1351  0375  86          	add	a, (hl)
1352  0376  5F          	ld	e,a
1353  0377  78          	ld	a,b
1354  0378  CE 00       	adc	a,0x00
1355  037A  57          	ld	d,a
1356  037B  1A          	ld	a,(de)
1357  037C  CB EF       	set	5, a
1358  037E  12          	ld	(de),a
1359  037F  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1360  0381  86          	add	a, (hl)
1361  0382  5F          	ld	e,a
1362  0383  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1363  0385  CE 00       	adc	a,0x00
1364  0387  57          	ld	d,a
1365  0388  3E 03       	ld	a,0x03
1366  038A  12          	ld	(de),a
1367  038B  79          	ld	a,c
1368  038C  86          	add	a, (hl)
1369  038D  4F          	ld	c,a
1370  038E  78          	ld	a,b
1371  038F  CE 00       	adc	a,0x00
1372  0391  47          	ld	b,a
1373  0392  0A          	ld	a,(bc)
1374  0393  CB 57       	bit	2, a
1375  0395  28 13       	jr	Z,l_player_kill_00102
1376  0397  3A 00 00    	ld	a,(_sprite)
1377  039A  C6 00       	add	a,+((_tile) & 0xFF)
1378  039C  4F          	ld	c,a
1379  039D  3E 00       	ld	a,+((_tile) / 256)
1380  039F  CE 00       	adc	a,0x00
1381  03A1  47          	ld	b,a
1382  03A2  3A 00 00    	ld	a,(_tile_offset)
1383  03A5  C6 0B       	add	a,0x0b
1384  03A7  02          	ld	(bc),a
1385  03A8  18 11       	jr	l_player_kill_00103
1386  03AA              l_player_kill_00102:
1387  03AA  3A 00 00    	ld	a,(_sprite)
1388  03AD  C6 00       	add	a,+((_tile) & 0xFF)
1389  03AF  4F          	ld	c,a
1390  03B0  3E 00       	ld	a,+((_tile) / 256)
1391  03B2  CE 00       	adc	a,0x00
1392  03B4  47          	ld	b,a
1393  03B5  3A 00 00    	ld	a,(_tile_offset)
1394  03B8  C6 17       	add	a,0x17
1395  03BA  02          	ld	(bc),a
1396  03BB              l_player_kill_00103:
1397  03BB  CD 60 0F    	call	_player_hit_brick_clear
1398  03BE  3E 00       	ld	a,+((_col) & 0xFF)
1399  03C0  21 00 00    	ld	hl,_sprite
1400  03C3  86          	add	a, (hl)
1401  03C4  4F          	ld	c,a
1402  03C5  3E 00       	ld	a,+((_col) / 256)
1403  03C7  CE 00       	adc	a,0x00
1404  03C9  47          	ld	b,a
1405  03CA  0A          	ld	a,(bc)
1406  03CB  4F          	ld	c,a
1407  03CC  3E 00       	ld	a,+((_lin) & 0xFF)
1408  03CE  86          	add	a, (hl)
1409  03CF  5F          	ld	e,a
1410  03D0  3E 00       	ld	a,+((_lin) / 256)
1411  03D2  CE 00       	adc	a,0x00
1412  03D4  57          	ld	d,a
1413  03D5  1A          	ld	a,(de)
1414  03D6  47          	ld	b,a
1415  03D7  3E 00       	ld	a,+((_tile) & 0xFF)
1416  03D9  86          	add	a, (hl)
1417  03DA  5F          	ld	e,a
1418  03DB  3E 00       	ld	a,+((_tile) / 256)
1419  03DD  CE 00       	adc	a,0x00
1420  03DF  57          	ld	d,a
1421  03E0  1A          	ld	a,(de)
1422  03E1  57          	ld	d,a
1423  03E2  79          	ld	a,c
1424  03E3  F5          	push	af
1425  03E4  33          	inc	sp
1426  03E5  4A          	ld	c, d
1427  03E6  7E          	ld	a,(hl)
1428  03E7  C5          	push	bc
1429  03E8  F5          	push	af
1430  03E9  33          	inc	sp
1431  03EA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1432  03ED  01 00 00    	ld	bc,_spr_timer+0
1433  03F0  2A 00 00    	ld	hl,(_sprite)
1434  03F3  26 00       	ld	h,0x00
1435  03F5  29          	add	hl, hl
1436  03F6  09          	add	hl,bc
1437  03F7  ED 5B 00 00 	ld	de,(_curr_time)
1438  03FB  73          	ld	(hl),e
1439  03FC  23          	inc	hl
1440  03FD  72          	ld	(hl),d
1441  03FE  3A 00 00    	ld	a,(_sprite)
1442  0401  D6 07       	sub	a,0x07
1443  0403  20 1E       	jr	NZ,l_player_kill_00105
1444  0405  01 00 00    	ld	bc,_state_a+0
1445  0408  79          	ld	a,c
1446  0409  21 00 00    	ld	hl,_sprite
1447  040C  86          	add	a, (hl)
1448  040D  5F          	ld	e,a
1449  040E  78          	ld	a,b
1450  040F  CE 00       	adc	a,0x00
1451  0411  57          	ld	d,a
1452  0412  1A          	ld	a,(de)
1453  0413  CB DF       	set	3, a
1454  0415  12          	ld	(de),a
1455  0416  79          	ld	a,c
1456  0417  86          	add	a, (hl)
1457  0418  4F          	ld	c,a
1458  0419  78          	ld	a,b
1459  041A  CE 00       	adc	a,0x00
1460  041C  47          	ld	b,a
1461  041D  0A          	ld	a,(bc)
1462  041E  E6 EF       	and	a,0xef
1463  0420  02          	ld	(bc),a
1464  0421  18 1C       	jr	l_player_kill_00109
1465  0423              l_player_kill_00105:
1466  0423  01 00 00    	ld	bc,_state_a+0
1467  0426  79          	ld	a,c
1468  0427  21 00 00    	ld	hl,_sprite
1469  042A  86          	add	a, (hl)
1470  042B  5F          	ld	e,a
1471  042C  78          	ld	a,b
1472  042D  CE 00       	adc	a,0x00
1473  042F  57          	ld	d,a
1474  0430  1A          	ld	a,(de)
1475  0431  CB E7       	set	4, a
1476  0433  12          	ld	(de),a
1477  0434  79          	ld	a,c
1478  0435  86          	add	a, (hl)
1479  0436  4F          	ld	c,a
1480  0437  78          	ld	a,b
1481  0438  CE 00       	adc	a,0x00
1482  043A  47          	ld	b,a
1483  043B  0A          	ld	a,(bc)
1484  043C  E6 F7       	and	a,0xf7
1485  043E  02          	ld	(bc),a
1486  043F              l_player_kill_00109:
1487  043F  C9          	ret
1488  0440              ;	---------------------------------
1489  0440              ; Function player_restart
1490  0440              ; ---------------------------------
1491  0440              _player_restart:
1492  0440  CD 00 00    	call	___sdcc_enter_ix
1493  0443  F5          	push	af
1494  0444  4D          	ld	c,l
1495  0445  21 00 00    	ld	hl,_ay_effect_15
1496  0448  CD 00 00    	call	_ay_fx_play
1497  044B  79          	ld	a,c
1498  044C  D6 07       	sub	a,0x07
1499  044E  20 1B       	jr	NZ,l_player_restart_00102
1500  0450  C5          	push	bc
1501  0451  21 0E 03    	ld	hl,0x030e
1502  0454  E5          	push	hl
1503  0455  21 07 00    	ld	hl,0x0007
1504  0458  E5          	push	hl
1505  0459  CD 00 00    	call	_player_init
1506  045C  F1          	pop	af
1507  045D  21 10 0E    	ld	hl,0x0e10
1508  0460  E3          	ex	(sp),hl
1509  0461  3E 84       	ld	a,0x84
1510  0463  F5          	push	af
1511  0464  33          	inc	sp
1512  0465  CD 00 00    	call	_NIRVANAP_drawT_callee
1513  0468  C1          	pop	bc
1514  0469  18 19       	jr	l_player_restart_00103
1515  046B              l_player_restart_00102:
1516  046B  C5          	push	bc
1517  046C  21 10 27    	ld	hl,0x2710
1518  046F  E5          	push	hl
1519  0470  21 06 00    	ld	hl,0x0006
1520  0473  E5          	push	hl
1521  0474  CD 00 00    	call	_player_init
1522  0477  F1          	pop	af
1523  0478  21 10 10    	ld	hl,0x1010
1524  047B  E3          	ex	(sp),hl
1525  047C  3E 84       	ld	a,0x84
1526  047E  F5          	push	af
1527  047F  33          	inc	sp
1528  0480  CD 00 00    	call	_NIRVANAP_drawT_callee
1529  0483  C1          	pop	bc
1530  0484              l_player_restart_00103:
1531  0484  11 00 00    	ld	de,_state+0
1532  0487  69          	ld	l,c
1533  0488  26 00       	ld	h,0x00
1534  048A  19          	add	hl,de
1535  048B  CB E6       	set	4, (hl)
1536  048D  11 00 00    	ld	de,_state_a+0
1537  0490  69          	ld	l,c
1538  0491  26 00       	ld	h,0x00
1539  0493  19          	add	hl,de
1540  0494  CB C6       	set	0, (hl)
1541  0496  11 00 00    	ld	de,_spr_timer+0
1542  0499  69          	ld	l,c
1543  049A  26 00       	ld	h,0x00
1544  049C  29          	add	hl, hl
1545  049D  19          	add	hl,de
1546  049E  E3          	ex	(sp), hl
1547  049F  E1          	pop	hl
1548  04A0  ED 5B 00 00 	ld	de,(_curr_time)
1549  04A4  E5          	push	hl
1550  04A5  73          	ld	(hl),e
1551  04A6  23          	inc	hl
1552  04A7  72          	ld	(hl),d
1553  04A8  11 00 00    	ld	de,_sprite_speed_alt+0
1554  04AB  69          	ld	l,c
1555  04AC  26 00       	ld	h,0x00
1556  04AE  19          	add	hl,de
1557  04AF  F1          	pop	af
1558  04B0  36 08       	ld	(hl),0x08
1559  04B2  DD E1       	pop	ix
1560  04B4  C9          	ret
1561  04B5              ;	---------------------------------
1562  04B5              ; Function player_lost_life
1563  04B5              ; ---------------------------------
1564  04B5              _player_lost_life:
1565  04B5  CD 00 00    	call	_sound_hit_enemy
1566  04B8  01 00 00    	ld	bc,_game_lives+0
1567  04BB  79          	ld	a,c
1568  04BC  21 00 00    	ld	hl,_index_player
1569  04BF  86          	add	a, (hl)
1570  04C0  5F          	ld	e,a
1571  04C1  78          	ld	a,b
1572  04C2  CE 00       	adc	a,0x00
1573  04C4  57          	ld	d,a
1574  04C5  1A          	ld	a,(de)
1575  04C6  C6 FF       	add	a,0xff
1576  04C8  12          	ld	(de),a
1577  04C9  79          	ld	a,c
1578  04CA  86          	add	a, (hl)
1579  04CB  5F          	ld	e,a
1580  04CC  78          	ld	a,b
1581  04CD  CE 00       	adc	a,0x00
1582  04CF  57          	ld	d,a
1583  04D0  1A          	ld	a,(de)
1584  04D1  B7          	or	a, a
1585  04D2  20 13       	jr	NZ,l_player_lost_life_00105
1586  04D4  0A          	ld	a,(bc)
1587  04D5  B7          	or	a, a
1588  04D6  20 0B       	jr	NZ,l_player_lost_life_00102
1589  04D8  3A 01 00    	ld	a, (_game_lives + 1)
1590  04DB  B7          	or	a, a
1591  04DC  20 05       	jr	NZ,l_player_lost_life_00102
1592  04DE  21 00 00    	ld	hl,_game_over
1593  04E1  36 01       	ld	(hl),0x01
1594  04E3              l_player_lost_life_00102:
1595  04E3  2E 00       	ld	l,0x00
1596  04E5  18 08       	jr	l_player_lost_life_00106
1597  04E7              l_player_lost_life_00105:
1598  04E7  CD 00 00    	call	_spr_check_over
1599  04EA  CD 00 00    	call	_game_print_lives
1600  04ED  2E 01       	ld	l,0x01
1601  04EF              l_player_lost_life_00106:
1602  04EF  C9          	ret
1603  04F0              ;	---------------------------------
1604  04F0              ; Function player_turn
1605  04F0              ; ---------------------------------
1606  04F0              _player_turn:
1607  04F0  3A 00 00    	ld	a,(_sprite)
1608  04F3  C6 00       	add	a,+((_class) & 0xFF)
1609  04F5  4F          	ld	c,a
1610  04F6  3E 00       	ld	a,+((_class) / 256)
1611  04F8  CE 00       	adc	a,0x00
1612  04FA  47          	ld	b,a
1613  04FB  0A          	ld	a,(bc)
1614  04FC  D6 10       	sub	a,0x10
1615  04FE  20 51       	jr	NZ,l_player_turn_00110
1616  0500  3A 00 00    	ld	a,(_phase_left)
1617  0503  B7          	or	a, a
1618  0504  28 4B       	jr	Z,l_player_turn_00110
1619  0506  3A 00 00    	ld	a,(_index_player)
1620  0509  C6 00       	add	a,+((_game_lives) & 0xFF)
1621  050B  4F          	ld	c,a
1622  050C  3E 00       	ld	a,+((_game_lives) / 256)
1623  050E  CE 00       	adc	a,0x00
1624  0510  47          	ld	b,a
1625  0511  0A          	ld	a,(bc)
1626  0512  B7          	or	a, a
1627  0513  28 3C       	jr	Z,l_player_turn_00110
1628  0515  21 00 00    	ld	hl,_sprite
1629  0518  CD 00 00    	call	_spr_chktime
1630  051B  7D          	ld	a,l
1631  051C  B7          	or	a, a
1632  051D  28 32       	jr	Z,l_player_turn_00110
1633  051F  21 00 00    	ld	hl,_dirs
1634  0522  36 00       	ld	(hl),0x00
1635  0524  3A 00 00    	ld	a,(_sprite)
1636  0527  D6 07       	sub	a,0x07
1637  0529  20 11       	jr	NZ,l_player_turn_00102
1638  052B  21 00 00    	ld	hl,_k1
1639  052E  E5          	push	hl
1640  052F  2A 00 00    	ld	hl,(_joyfunc1)
1641  0532  CD 00 00    	call	___sdcc_call_hl
1642  0535  F1          	pop	af
1643  0536  7D          	ld	a,l
1644  0537  32 00 00    	ld	(_dirs),a
1645  053A  18 0F       	jr	l_player_turn_00103
1646  053C              l_player_turn_00102:
1647  053C  21 00 00    	ld	hl,_k1
1648  053F  E5          	push	hl
1649  0540  2A 00 00    	ld	hl,(_joyfunc2)
1650  0543  CD 00 00    	call	___sdcc_call_hl
1651  0546  F1          	pop	af
1652  0547  7D          	ld	a,l
1653  0548  32 00 00    	ld	(_dirs),a
1654  054B              l_player_turn_00103:
1655  054B  CD 52 05    	call	_player_move
1656  054E  CD 5B 01    	call	_player_collition
1657  0551              l_player_turn_00110:
1658  0551  C9          	ret
1659  0552              ;	---------------------------------
1660  0552              ; Function player_move
1661  0552              ; ---------------------------------
1662  0552              _player_move:
1663  0552  CD 00 00    	call	___sdcc_enter_ix
1664  0555  F5          	push	af
1665  0556  3B          	dec	sp
1666  0557  3A 00 00    	ld	a,(_sprite)
1667  055A  C6 00       	add	a,+((_lin) & 0xFF)
1668  055C  4F          	ld	c,a
1669  055D  3E 00       	ld	a,+((_lin) / 256)
1670  055F  CE 00       	adc	a,0x00
1671  0561  47          	ld	b,a
1672  0562  0A          	ld	a,(bc)
1673  0563  DD 77 FD    	ld	(ix-3),a
1674  0566  32 00 00    	ld	(_s_lin0),a
1675  0569  3A 00 00    	ld	a,(_sprite)
1676  056C  C6 00       	add	a,+((_col) & 0xFF)
1677  056E  4F          	ld	c,a
1678  056F  3E 00       	ld	a,+((_col) / 256)
1679  0571  CE 00       	adc	a,0x00
1680  0573  47          	ld	b,a
1681  0574  0A          	ld	a,(bc)
1682  0575  32 00 00    	ld	(_s_col0),a
1683  0578  3E 00       	ld	a,+((_tile) & 0xFF)
1684  057A  21 00 00    	ld	hl,_sprite
1685  057D  86          	add	a, (hl)
1686  057E  DD 77 FE    	ld	(ix-2),a
1687  0581  6F          	ld	l,a
1688  0582  3E 00       	ld	a,+((_tile) / 256)
1689  0584  CE 00       	adc	a,0x00
1690  0586  DD 77 FF    	ld	(ix-1),a
1691  0589  67          	ld	h,a
1692  058A  4E          	ld	c,(hl)
1693  058B  2A 00 00    	ld	hl,(_sprite)
1694  058E  26 00       	ld	h,0x00
1695  0590  11 00 00    	ld	de,_colint
1696  0593  19          	add	hl,de
1697  0594  7E          	ld	a,(hl)
1698  0595  81          	add	a,c
1699  0596  32 00 00    	ld	(_s_tile0),a
1700  0599  3A 00 00    	ld	a,(_sprite)
1701  059C  C6 00       	add	a,+((_state) & 0xFF)
1702  059E  4F          	ld	c,a
1703  059F  3E 00       	ld	a,+((_state) / 256)
1704  05A1  CE 00       	adc	a,0x00
1705  05A3  47          	ld	b,a
1706  05A4  0A          	ld	a,(bc)
1707  05A5  32 00 00    	ld	(_s_state),a
1708  05A8  E6 20       	and	a,0x20
1709  05AA  28 32       	jr	Z,l_player_move_00104
1710  05AC  3A 00 00    	ld	a,(_tile_offset)
1711  05AF  C6 0A       	add	a,0x0a
1712  05B1  DD 6E FE    	ld	l,(ix-2)
1713  05B4  DD 66 FF    	ld	h,(ix-1)
1714  05B7  77          	ld	(hl),a
1715  05B8  01 00 00    	ld	bc,_spr_timer+0
1716  05BB  2A 00 00    	ld	hl,(_sprite)
1717  05BE  26 00       	ld	h,0x00
1718  05C0  29          	add	hl, hl
1719  05C1  09          	add	hl,bc
1720  05C2  4E          	ld	c,(hl)
1721  05C3  23          	inc	hl
1722  05C4  46          	ld	b,(hl)
1723  05C5  21 28 00    	ld	hl,0x0028
1724  05C8  E5          	push	hl
1725  05C9  C5          	push	bc
1726  05CA  CD 00 00    	call	_game_check_time
1727  05CD  F1          	pop	af
1728  05CE  F1          	pop	af
1729  05CF  7D          	ld	a,l
1730  05D0  B7          	or	a, a
1731  05D1  28 06       	jr	Z,l_player_move_00102
1732  05D3  2A 00 00    	ld	hl,(_sprite)
1733  05D6  CD 00 00    	call	_spr_killed
1734  05D9              l_player_move_00102:
1735  05D9  2E 00       	ld	l,0x00
1736  05DB  C3 7C 0A    	jp	l_player_move_00172
1737  05DE              l_player_move_00104:
1738  05DE  3A 00 00    	ld	a,(_s_state)
1739  05E1  E6 10       	and	a,0x10
1740  05E3  CA 1B 07    	jp	Z,l_player_move_00117
1741  05E6  DD 7E FD    	ld	a,(ix-3)
1742  05E9  D6 10       	sub	a,0x10
1743  05EB  30 14       	jr	NC,l_player_move_00108
1744  05ED  3A 00 00    	ld	a,(_sprite)
1745  05F0  C6 00       	add	a,+((_state_a) & 0xFF)
1746  05F2  4F          	ld	c,a
1747  05F3  3E 00       	ld	a,+((_state_a) / 256)
1748  05F5  CE 00       	adc	a,0x00
1749  05F7  47          	ld	b,a
1750  05F8  0A          	ld	a,(bc)
1751  05F9  E6 FE       	and	a,0xfe
1752  05FB  02          	ld	(bc),a
1753  05FC  CD 00 00    	call	_spr_move_down
1754  05FF  18 4C       	jr	l_player_move_00109
1755  0601              l_player_move_00108:
1756  0601  CD 3D 01    	call	_player_check_input
1757  0604  7D          	ld	a,l
1758  0605  B7          	or	a, a
1759  0606  28 45       	jr	Z,l_player_move_00109
1760  0608  2A 00 00    	ld	hl,(_sprite)
1761  060B  26 00       	ld	h,0x00
1762  060D  01 00 00    	ld	bc,_state
1763  0610  09          	add	hl,bc
1764  0611  7E          	ld	a,(hl)
1765  0612  E6 EF       	and	a,0xef
1766  0614  77          	ld	(hl),a
1767  0615  2A 00 00    	ld	hl,(_sprite)
1768  0618  26 00       	ld	h,0x00
1769  061A  01 00 00    	ld	bc,_state_a
1770  061D  09          	add	hl,bc
1771  061E  7E          	ld	a,(hl)
1772  061F  E6 FE       	and	a,0xfe
1773  0621  77          	ld	(hl),a
1774  0622  76          	halt
1775  0623  3A 00 00    	ld	a,(_s_col0)
1776  0626  F5          	push	af
1777  0627  33          	inc	sp
1778  0628  21 A9 10    	ld	hl,0x10a9
1779  062B  E5          	push	hl
1780  062C  CD 00 00    	call	_NIRVANAP_drawT_callee
1781  062F  3A 00 00    	ld	a,(_s_col0)
1782  0632  F5          	push	af
1783  0633  33          	inc	sp
1784  0634  21 A9 20    	ld	hl,0x20a9
1785  0637  E5          	push	hl
1786  0638  CD 00 00    	call	_NIRVANAP_drawT_callee
1787  063B  3A 00 00    	ld	a,(_sprite)
1788  063E  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1789  0640  4F          	ld	c,a
1790  0641  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1791  0643  CE 00       	adc	a,0x00
1792  0645  47          	ld	b,a
1793  0646  AF          	xor	a, a
1794  0647  02          	ld	(bc),a
1795  0648  2E 00       	ld	l,0x00
1796  064A  C3 7C 0A    	jp	l_player_move_00172
1797  064D              l_player_move_00109:
1798  064D  CD 00 00    	call	_spr_redraw
1799  0650  ED 4B 00 00 	ld	bc,(_curr_time)
1800  0654  2A 00 00    	ld	hl,(_sprite)
1801  0657  26 00       	ld	h,0x00
1802  0659  29          	add	hl, hl
1803  065A  11 00 00    	ld	de,_spr_timer
1804  065D  19          	add	hl,de
1805  065E  5E          	ld	e,(hl)
1806  065F  23          	inc	hl
1807  0660  56          	ld	d,(hl)
1808  0661  69          	ld	l,c
1809  0662  60          	ld	h,b
1810  0663  AF          	xor	a,a
1811  0664  ED 52       	sbc	hl,de
1812  0666  22 00 00    	ld	(_tmp_ui),hl
1813  0669  21 00 00    	ld	hl,_tmp
1814  066C  36 00       	ld	(hl),0x00
1815  066E  3E 32       	ld	a,0x32
1816  0670  21 00 00    	ld	hl,_tmp_ui
1817  0673  BE          	cp	a, (hl)
1818  0674  3E 00       	ld	a,0x00
1819  0676  23          	inc	hl
1820  0677  9E          	sbc	a, (hl)
1821  0678  30 05       	jr	NC,l_player_move_00111
1822  067A  21 00 00    	ld	hl,_tmp
1823  067D  36 01       	ld	(hl),0x01
1824  067F              l_player_move_00111:
1825  067F  3E 64       	ld	a,0x64
1826  0681  21 00 00    	ld	hl,_tmp_ui
1827  0684  BE          	cp	a, (hl)
1828  0685  3E 00       	ld	a,0x00
1829  0687  23          	inc	hl
1830  0688  9E          	sbc	a, (hl)
1831  0689  30 05       	jr	NC,l_player_move_00113
1832  068B  21 00 00    	ld	hl,_tmp
1833  068E  36 02       	ld	(hl),0x02
1834  0690              l_player_move_00113:
1835  0690  76          	halt
1836  0691  3A 00 00    	ld	a,(_sprite)
1837  0694  C6 00       	add	a,+((_lin) & 0xFF)
1838  0696  4F          	ld	c,a
1839  0697  3E 00       	ld	a,+((_lin) / 256)
1840  0699  CE 00       	adc	a,0x00
1841  069B  47          	ld	b,a
1842  069C  0A          	ld	a,(bc)
1843  069D  C6 10       	add	a,0x10
1844  069F  57          	ld	d,a
1845  06A0  3A 00 00    	ld	a,(_tmp)
1846  06A3  C6 84       	add	a,0x84
1847  06A5  47          	ld	b,a
1848  06A6  3A 00 00    	ld	a,(_s_col0)
1849  06A9  5A          	ld	e,d
1850  06AA  57          	ld	d,a
1851  06AB  D5          	push	de
1852  06AC  C5          	push	bc
1853  06AD  33          	inc	sp
1854  06AE  CD 00 00    	call	_NIRVANAP_drawT_callee
1855  06B1  3E 96       	ld	a,0x96
1856  06B3  21 00 00    	ld	hl,_tmp_ui
1857  06B6  BE          	cp	a, (hl)
1858  06B7  3E 00       	ld	a,0x00
1859  06B9  23          	inc	hl
1860  06BA  9E          	sbc	a, (hl)
1861  06BB  30 59       	jr	NC,l_player_move_00115
1862  06BD  2A 00 00    	ld	hl,(_sprite)
1863  06C0  26 00       	ld	h,0x00
1864  06C2  01 00 00    	ld	bc,_lin
1865  06C5  09          	add	hl,bc
1866  06C6  4E          	ld	c, (hl)
1867  06C7  3A 00 00    	ld	a, (_s_col0)
1868  06CA  47          	ld	b,a
1869  06CB  C5          	push	bc
1870  06CC  3E A9       	ld	a,0xa9
1871  06CE  F5          	push	af
1872  06CF  33          	inc	sp
1873  06D0  CD 00 00    	call	_NIRVANAP_drawT_callee
1874  06D3  3A 00 00    	ld	a,(_sprite)
1875  06D6  C6 00       	add	a,+((_lin) & 0xFF)
1876  06D8  4F          	ld	c,a
1877  06D9  3E 00       	ld	a,+((_lin) / 256)
1878  06DB  CE 00       	adc	a,0x00
1879  06DD  47          	ld	b,a
1880  06DE  0A          	ld	a,(bc)
1881  06DF  C6 10       	add	a,0x10
1882  06E1  4F          	ld	c, a
1883  06E2  3A 00 00    	ld	a, (_s_col0)
1884  06E5  47          	ld	b,a
1885  06E6  C5          	push	bc
1886  06E7  3E A9       	ld	a,0xa9
1887  06E9  F5          	push	af
1888  06EA  33          	inc	sp
1889  06EB  CD 00 00    	call	_NIRVANAP_drawT_callee
1890  06EE  2A 00 00    	ld	hl,(_sprite)
1891  06F1  26 00       	ld	h,0x00
1892  06F3  01 00 00    	ld	bc,_state
1893  06F6  09          	add	hl,bc
1894  06F7  7E          	ld	a,(hl)
1895  06F8  E6 EF       	and	a,0xef
1896  06FA  77          	ld	(hl),a
1897  06FB  3E 00       	ld	a,+((_state) & 0xFF)
1898  06FD  21 00 00    	ld	hl,_sprite
1899  0700  86          	add	a, (hl)
1900  0701  4F          	ld	c,a
1901  0702  3E 00       	ld	a,+((_state) / 256)
1902  0704  CE 00       	adc	a,0x00
1903  0706  47          	ld	b,a
1904  0707  0A          	ld	a,(bc)
1905  0708  CB C7       	set	0, a
1906  070A  02          	ld	(bc),a
1907  070B  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1908  070D  86          	add	a, (hl)
1909  070E  4F          	ld	c,a
1910  070F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1911  0711  CE 00       	adc	a,0x00
1912  0713  47          	ld	b,a
1913  0714  AF          	xor	a, a
1914  0715  02          	ld	(bc),a
1915  0716              l_player_move_00115:
1916  0716  2E 00       	ld	l,0x00
1917  0718  C3 7C 0A    	jp	l_player_move_00172
1918  071B              l_player_move_00117:
1919  071B  3A 00 00    	ld	a,(_sprite)
1920  071E  C6 00       	add	a,+((_state_a) & 0xFF)
1921  0720  4F          	ld	c,a
1922  0721  3E 00       	ld	a,+((_state_a) / 256)
1923  0723  CE 00       	adc	a,0x00
1924  0725  47          	ld	b,a
1925  0726  0A          	ld	a,(bc)
1926  0727  0F          	rrca
1927  0728  30 1D       	jr	NC,l_player_move_00122
1928  072A  CD 3D 01    	call	_player_check_input
1929  072D  7D          	ld	a,l
1930  072E  B7          	or	a, a
1931  072F  28 11       	jr	Z,l_player_move_00119
1932  0731  3A 00 00    	ld	a,(_sprite)
1933  0734  C6 00       	add	a,+((_state_a) & 0xFF)
1934  0736  4F          	ld	c,a
1935  0737  3E 00       	ld	a,+((_state_a) / 256)
1936  0739  CE 00       	adc	a,0x00
1937  073B  47          	ld	b,a
1938  073C  0A          	ld	a,(bc)
1939  073D  E6 FE       	and	a,0xfe
1940  073F  02          	ld	(bc),a
1941  0740  18 05       	jr	l_player_move_00122
1942  0742              l_player_move_00119:
1943  0742  2E 00       	ld	l,0x00
1944  0744  C3 7C 0A    	jp	l_player_move_00172
1945  0747              l_player_move_00122:
1946  0747  3A 00 00    	ld	a,(_sprite)
1947  074A  C6 00       	add	a,+((_state_a) & 0xFF)
1948  074C  4F          	ld	c,a
1949  074D  3E 00       	ld	a,+((_state_a) / 256)
1950  074F  CE 00       	adc	a,0x00
1951  0751  47          	ld	b,a
1952  0752  0A          	ld	a,(bc)
1953  0753  CB 57       	bit	2, a
1954  0755  28 58       	jr	Z,l_player_move_00126
1955  0757  01 00 00    	ld	bc,_spr_timer+0
1956  075A  2A 00 00    	ld	hl,(_sprite)
1957  075D  26 00       	ld	h,0x00
1958  075F  29          	add	hl, hl
1959  0760  09          	add	hl,bc
1960  0761  4E          	ld	c,(hl)
1961  0762  23          	inc	hl
1962  0763  46          	ld	b,(hl)
1963  0764  21 14 00    	ld	hl,0x0014
1964  0767  E5          	push	hl
1965  0768  C5          	push	bc
1966  0769  CD 00 00    	call	_game_check_time
1967  076C  F1          	pop	af
1968  076D  F1          	pop	af
1969  076E  7D          	ld	a,l
1970  076F  B7          	or	a, a
1971  0770  28 3D       	jr	Z,l_player_move_00126
1972  0772  2A 00 00    	ld	hl,(_sprite)
1973  0775  26 00       	ld	h,0x00
1974  0777  01 00 00    	ld	bc,_state_a
1975  077A  09          	add	hl,bc
1976  077B  7E          	ld	a,(hl)
1977  077C  E6 FB       	and	a,0xfb
1978  077E  77          	ld	(hl),a
1979  077F  3E 00       	ld	a,+((_colint) & 0xFF)
1980  0781  21 00 00    	ld	hl,_sprite
1981  0784  86          	add	a, (hl)
1982  0785  4F          	ld	c,a
1983  0786  3E 00       	ld	a,+((_colint) / 256)
1984  0788  CE 00       	adc	a,0x00
1985  078A  47          	ld	b,a
1986  078B  AF          	xor	a, a
1987  078C  02          	ld	(bc),a
1988  078D  3E 00       	ld	a,+((_tile) & 0xFF)
1989  078F  86          	add	a, (hl)
1990  0790  4F          	ld	c,a
1991  0791  3E 00       	ld	a,+((_tile) / 256)
1992  0793  CE 00       	adc	a,0x00
1993  0795  47          	ld	b,a
1994  0796  3A 00 00    	ld	a,(_tile_offset)
1995  0799  5F          	ld	e,a
1996  079A  16 00       	ld	d,0x00
1997  079C  13          	inc	de
1998  079D  13          	inc	de
1999  079E  13          	inc	de
2000  079F  2A 00 00    	ld	hl,(_sprite)
2001  07A2  C5          	push	bc
2002  07A3  26 0C       	ld	h,0x0c
2003  07A5  E5          	push	hl
2004  07A6  D5          	push	de
2005  07A7  CD 00 00    	call	_spr_tile_dir
2006  07AA  F1          	pop	af
2007  07AB  F1          	pop	af
2008  07AC  C1          	pop	bc
2009  07AD  7D          	ld	a, l
2010  07AE  02          	ld	(bc),a
2011  07AF              l_player_move_00126:
2012  07AF  3A 00 00    	ld	a,(_sprite)
2013  07B2  C6 00       	add	a,+((_state_a) & 0xFF)
2014  07B4  4F          	ld	c,a
2015  07B5  3E 00       	ld	a,+((_state_a) / 256)
2016  07B7  CE 00       	adc	a,0x00
2017  07B9  47          	ld	b,a
2018  07BA  0A          	ld	a,(bc)
2019  07BB  CB 6F       	bit	5, a
2020  07BD  28 2E       	jr	Z,l_player_move_00130
2021  07BF  01 00 00    	ld	bc,_spr_timer+0
2022  07C2  2A 00 00    	ld	hl,(_sprite)
2023  07C5  26 00       	ld	h,0x00
2024  07C7  29          	add	hl, hl
2025  07C8  09          	add	hl,bc
2026  07C9  4E          	ld	c,(hl)
2027  07CA  23          	inc	hl
2028  07CB  7E          	ld	a,(hl)
2029  07CC  47          	ld	b,a
2030  07CD  B1          	or	a,c
2031  07CE  28 1D       	jr	Z,l_player_move_00130
2032  07D0  21 08 00    	ld	hl,0x0008
2033  07D3  E5          	push	hl
2034  07D4  C5          	push	bc
2035  07D5  CD 00 00    	call	_game_check_time
2036  07D8  F1          	pop	af
2037  07D9  F1          	pop	af
2038  07DA  7D          	ld	a,l
2039  07DB  B7          	or	a, a
2040  07DC  28 0F       	jr	Z,l_player_move_00130
2041  07DE  3A 00 00    	ld	a,(_sprite)
2042  07E1  C6 00       	add	a,+((_state_a) & 0xFF)
2043  07E3  4F          	ld	c,a
2044  07E4  3E 00       	ld	a,+((_state_a) / 256)
2045  07E6  CE 00       	adc	a,0x00
2046  07E8  47          	ld	b,a
2047  07E9  0A          	ld	a,(bc)
2048  07EA  E6 DF       	and	a,0xdf
2049  07EC  02          	ld	(bc),a
2050  07ED              l_player_move_00130:
2051  07ED  CD 81 0A    	call	_player_move_input
2052  07F0  3A 00 00    	ld	a,(_sprite)
2053  07F3  C6 00       	add	a,+((_state) & 0xFF)
2054  07F5  4F          	ld	c,a
2055  07F6  3E 00       	ld	a,+((_state) / 256)
2056  07F8  CE 00       	adc	a,0x00
2057  07FA  47          	ld	b,a
2058  07FB  0A          	ld	a,(bc)
2059  07FC  21 00 00    	ld	hl,_s_state
2060  07FF  77          	ld	(hl),a
2061  0800  E6 01       	and	a,0x01
2062  0802  4F          	ld	c,a
2063  0803  B7          	or	a, a
2064  0804  C2 4C 09    	jp	NZ,l_player_move_00167
2065  0807  7E          	ld	a,(hl)
2066  0808  E6 02       	and	a,0x02
2067  080A  C2 4C 09    	jp	NZ,l_player_move_00167
2068  080D  3E 00       	ld	a,+((_col) & 0xFF)
2069  080F  21 00 00    	ld	hl,_sprite
2070  0812  86          	add	a, (hl)
2071  0813  4F          	ld	c,a
2072  0814  3E 00       	ld	a,+((_col) / 256)
2073  0816  CE 00       	adc	a,0x00
2074  0818  47          	ld	b,a
2075  0819  0A          	ld	a,(bc)
2076  081A  57          	ld	d,a
2077  081B  4E          	ld	c,(hl)
2078  081C  06 00       	ld	b,0x00
2079  081E  21 00 00    	ld	hl,_lin
2080  0821  09          	add	hl,bc
2081  0822  7E          	ld	a,(hl)
2082  0823  C6 10       	add	a,0x10
2083  0825  5F          	ld	e, a
2084  0826  D5          	push	de
2085  0827  CD 00 00    	call	_game_calc_index
2086  082A  F1          	pop	af
2087  082B  22 00 00    	ld	(_index_d),hl
2088  082E  3A 00 00    	ld	a,(_s_lin0)
2089  0831  D6 98       	sub	a,0x98
2090  0833  20 06       	jr	NZ,l_player_move_00133
2091  0835  21 00 00    	ld	hl,0x0000
2092  0838  22 00 00    	ld	(_index_d),hl
2093  083B              l_player_move_00133:
2094  083B  21 01 00    	ld	hl,_index_d + 1
2095  083E  7E          	ld	a,(hl)
2096  083F  2B          	dec	hl
2097  0840  B6          	or	a,(hl)
2098  0841  28 2E       	jr	Z,l_player_move_00135
2099  0843  01 00 00    	ld	bc,_lvl_1+0
2100  0846  79          	ld	a,c
2101  0847  86          	add	a, (hl)
2102  0848  5F          	ld	e,a
2103  0849  78          	ld	a,b
2104  084A  23          	inc	hl
2105  084B  8E          	adc	a, (hl)
2106  084C  57          	ld	d,a
2107  084D  1A          	ld	a,(de)
2108  084E  D6 10       	sub	a,0x10
2109  0850  30 1F       	jr	NC,l_player_move_00135
2110  0852  56          	ld	d,(hl)
2111  0853  2B          	dec	hl
2112  0854  5E          	ld	e,(hl)
2113  0855  13          	inc	de
2114  0856  69          	ld	l, c
2115  0857  60          	ld	h, b
2116  0858  19          	add	hl,de
2117  0859  7E          	ld	a, (hl)
2118  085A  D6 10       	sub	a,0x10
2119  085C  30 13       	jr	NC,l_player_move_00135
2120  085E  3A 00 00    	ld	a,(_sprite)
2121  0861  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2122  0863  4F          	ld	c,a
2123  0864  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2124  0866  CE 00       	adc	a,0x00
2125  0868  47          	ld	b,a
2126  0869  3E 02       	ld	a,0x02
2127  086B  02          	ld	(bc),a
2128  086C  21 00 00    	ld	hl,_s_state
2129  086F  CB CE       	set	1, (hl)
2130  0871              l_player_move_00135:
2131  0871  CD 3D 01    	call	_player_check_input
2132  0874  7D          	ld	a,l
2133  0875  B7          	or	a, a
2134  0876  C2 4A 0A    	jp	NZ,l_player_move_00168
2135  0879  3A 00 00    	ld	a,(_index_player)
2136  087C  C6 00       	add	a,+((_sliding) & 0xFF)
2137  087E  4F          	ld	c,a
2138  087F  3E 00       	ld	a,+((_sliding) / 256)
2139  0881  CE 00       	adc	a,0x00
2140  0883  47          	ld	b,a
2141  0884  0A          	ld	a,(bc)
2142  0885  B7          	or	a, a
2143  0886  CA 4A 0A    	jp	Z,l_player_move_00168
2144  0889  3A 00 00    	ld	a,(_s_state)
2145  088C  E6 02       	and	a,0x02
2146  088E  C2 4A 0A    	jp	NZ,l_player_move_00168
2147  0891  CD 00 00    	call	_ay_is_playing
2148  0894  7D          	ld	a,l
2149  0895  D6 03       	sub	a,0x03
2150  0897  28 06       	jr	Z,l_player_move_00139
2151  0899  21 00 00    	ld	hl,_ay_effect_01
2152  089C  CD 00 00    	call	_ay_fx_play
2153  089F              l_player_move_00139:
2154  089F  CD 00 00    	call	_sound_slide
2155  08A2  CD 72 0C    	call	_player_move_horizontal
2156  08A5  3A 00 00    	ld	a,(_index_player)
2157  08A8  C6 00       	add	a,+((_sliding) & 0xFF)
2158  08AA  4F          	ld	c,a
2159  08AB  3E 00       	ld	a,+((_sliding) / 256)
2160  08AD  CE 00       	adc	a,0x00
2161  08AF  47          	ld	b,a
2162  08B0  0A          	ld	a,(bc)
2163  08B1  C6 FF       	add	a,0xff
2164  08B3  02          	ld	(bc),a
2165  08B4  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
2166  08B6  21 00 00    	ld	hl,_sprite
2167  08B9  86          	add	a, (hl)
2168  08BA  4F          	ld	c,a
2169  08BB  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2170  08BD  CE 00       	adc	a,0x00
2171  08BF  47          	ld	b,a
2172  08C0  AF          	xor	a, a
2173  08C1  02          	ld	(bc),a
2174  08C2  3E 00       	ld	a,+((_tile) & 0xFF)
2175  08C4  86          	add	a, (hl)
2176  08C5  4F          	ld	c,a
2177  08C6  3E 00       	ld	a,+((_tile) / 256)
2178  08C8  CE 00       	adc	a,0x00
2179  08CA  47          	ld	b,a
2180  08CB  3A 00 00    	ld	a,(_tile_offset)
2181  08CE  5F          	ld	e,a
2182  08CF  16 00       	ld	d,0x00
2183  08D1  13          	inc	de
2184  08D2  13          	inc	de
2185  08D3  13          	inc	de
2186  08D4  13          	inc	de
2187  08D5  2A 00 00    	ld	hl,(_sprite)
2188  08D8  C5          	push	bc
2189  08D9  26 0C       	ld	h,0x0c
2190  08DB  E5          	push	hl
2191  08DC  D5          	push	de
2192  08DD  CD 00 00    	call	_spr_tile_dir
2193  08E0  F1          	pop	af
2194  08E1  F1          	pop	af
2195  08E2  C1          	pop	bc
2196  08E3  7D          	ld	a, l
2197  08E4  02          	ld	(bc),a
2198  08E5  3A 00 00    	ld	a,(_index_player)
2199  08E8  C6 00       	add	a,+((_sliding) & 0xFF)
2200  08EA  4F          	ld	c,a
2201  08EB  3E 00       	ld	a,+((_sliding) / 256)
2202  08ED  CE 00       	adc	a,0x00
2203  08EF  47          	ld	b,a
2204  08F0  0A          	ld	a,(bc)
2205  08F1  B7          	or	a, a
2206  08F2  C2 4A 0A    	jp	NZ,l_player_move_00168
2207  08F5  01 00 00    	ld	bc,_spr_timer+0
2208  08F8  2A 00 00    	ld	hl,(_sprite)
2209  08FB  26 00       	ld	h,0x00
2210  08FD  29          	add	hl, hl
2211  08FE  09          	add	hl,bc
2212  08FF  AF          	xor	a, a
2213  0900  77          	ld	(hl), a
2214  0901  23          	inc	hl
2215  0902  77          	ld	(hl), a
2216  0903  3E 00       	ld	a,+((_colint) & 0xFF)
2217  0905  21 00 00    	ld	hl,_sprite
2218  0908  86          	add	a, (hl)
2219  0909  4F          	ld	c,a
2220  090A  3E 00       	ld	a,+((_colint) / 256)
2221  090C  CE 00       	adc	a,0x00
2222  090E  47          	ld	b,a
2223  090F  AF          	xor	a, a
2224  0910  02          	ld	(bc),a
2225  0911  3E 00       	ld	a,+((_tile) & 0xFF)
2226  0913  86          	add	a, (hl)
2227  0914  4F          	ld	c,a
2228  0915  3E 00       	ld	a,+((_tile) / 256)
2229  0917  CE 00       	adc	a,0x00
2230  0919  47          	ld	b,a
2231  091A  3A 00 00    	ld	a,(_tile_offset)
2232  091D  5F          	ld	e,a
2233  091E  16 00       	ld	d,0x00
2234  0920  13          	inc	de
2235  0921  13          	inc	de
2236  0922  13          	inc	de
2237  0923  2A 00 00    	ld	hl,(_sprite)
2238  0926  C5          	push	bc
2239  0927  26 0C       	ld	h,0x0c
2240  0929  E5          	push	hl
2241  092A  D5          	push	de
2242  092B  CD 00 00    	call	_spr_tile_dir
2243  092E  F1          	pop	af
2244  092F  F1          	pop	af
2245  0930  C1          	pop	bc
2246  0931  7D          	ld	a, l
2247  0932  02          	ld	(bc),a
2248  0933  21 00 00    	ld	hl,_s_state
2249  0936  CB 96       	res	2, (hl)
2250  0938  CB 9E       	res	3, (hl)
2251  093A  3A 00 00    	ld	a,(_sprite)
2252  093D  C6 00       	add	a,+((_state_a) & 0xFF)
2253  093F  4F          	ld	c,a
2254  0940  3E 00       	ld	a,+((_state_a) / 256)
2255  0942  CE 00       	adc	a,0x00
2256  0944  47          	ld	b,a
2257  0945  0A          	ld	a,(bc)
2258  0946  E6 DF       	and	a,0xdf
2259  0948  02          	ld	(bc),a
2260  0949  C3 4A 0A    	jp	l_player_move_00168
2261  094C              l_player_move_00167:
2262  094C  21 00 00    	ld	hl,_sprite_lin_inc_mul
2263  094F  36 02       	ld	(hl),0x02
2264  0951  2A 00 00    	ld	hl,(_index_player)
2265  0954  26 00       	ld	h,0x00
2266  0956  11 00 00    	ld	de,_player_jump_c
2267  0959  19          	add	hl,de
2268  095A  46          	ld	b, (hl)
2269  095B  3E 03       	ld	a,0x03
2270  095D  90          	sub	a, b
2271  095E  30 05       	jr	NC,l_player_move_00148
2272  0960  21 00 00    	ld	hl,_sprite_lin_inc_mul
2273  0963  36 01       	ld	(hl),0x01
2274  0965              l_player_move_00148:
2275  0965  3E 08       	ld	a,0x08
2276  0967  90          	sub	a, b
2277  0968  30 05       	jr	NC,l_player_move_00150
2278  096A  21 00 00    	ld	hl,_sprite_lin_inc_mul
2279  096D  36 00       	ld	(hl),0x00
2280  096F              l_player_move_00150:
2281  096F  3E 0C       	ld	a,0x0c
2282  0971  90          	sub	a, b
2283  0972  30 05       	jr	NC,l_player_move_00152
2284  0974  21 00 00    	ld	hl,_sprite_lin_inc_mul
2285  0977  36 01       	ld	(hl),0x01
2286  0979              l_player_move_00152:
2287  0979  3E 11       	ld	a,0x11
2288  097B  90          	sub	a, b
2289  097C  30 05       	jr	NC,l_player_move_00154
2290  097E  21 00 00    	ld	hl,_sprite_lin_inc_mul
2291  0981  36 02       	ld	(hl),0x02
2292  0983              l_player_move_00154:
2293  0983  79          	ld	a,c
2294  0984  B7          	or	a, a
2295  0985  28 11       	jr	Z,l_player_move_00164
2296  0987  78          	ld	a,b
2297  0988  D6 0A       	sub	a,0x0a
2298  098A  30 06       	jr	NC,l_player_move_00156
2299  098C  CD 00 00    	call	_spr_move_up
2300  098F  C3 34 0A    	jp	l_player_move_00165
2301  0992              l_player_move_00156:
2302  0992  CD 00 00    	call	_spr_set_fall
2303  0995  C3 34 0A    	jp	l_player_move_00165
2304  0998              l_player_move_00164:
2305  0998  CD 00 00    	call	_spr_move_down
2306  099B  7D          	ld	a,l
2307  099C  B7          	or	a, a
2308  099D  CA 34 0A    	jp	Z,l_player_move_00165
2309  09A0  21 00 00    	ld	hl,_s_state
2310  09A3  CB 8E       	res	1, (hl)
2311  09A5  3A 00 00    	ld	a,(_sprite)
2312  09A8  C6 00       	add	a,+((_state_a) & 0xFF)
2313  09AA  4F          	ld	c,a
2314  09AB  3E 00       	ld	a,+((_state_a) / 256)
2315  09AD  CE 00       	adc	a,0x00
2316  09AF  47          	ld	b,a
2317  09B0  0A          	ld	a,(bc)
2318  09B1  E6 7F       	and	a,0x7f
2319  09B3  02          	ld	(bc),a
2320  09B4  3A 00 00    	ld	a,(_index_player)
2321  09B7  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2322  09B9  4F          	ld	c,a
2323  09BA  3E 00       	ld	a,+((_player_jump_c) / 256)
2324  09BC  CE 00       	adc	a,0x00
2325  09BE  47          	ld	b,a
2326  09BF  AF          	xor	a, a
2327  09C0  02          	ld	(bc),a
2328  09C1  3A 00 00    	ld	a,(_sprite)
2329  09C4  C6 00       	add	a,+((_jump_lin) & 0xFF)
2330  09C6  4F          	ld	c,a
2331  09C7  3E 00       	ld	a,+((_jump_lin) / 256)
2332  09C9  CE 00       	adc	a,0x00
2333  09CB  47          	ld	b,a
2334  09CC  AF          	xor	a, a
2335  09CD  02          	ld	(bc),a
2336  09CE  3A 00 00    	ld	a,(_index_player)
2337  09D1  C6 00       	add	a,+((_sliding) & 0xFF)
2338  09D3  4F          	ld	c,a
2339  09D4  3E 00       	ld	a,+((_sliding) / 256)
2340  09D6  CE 00       	adc	a,0x00
2341  09D8  47          	ld	b,a
2342  09D9  AF          	xor	a, a
2343  09DA  02          	ld	(bc),a
2344  09DB  3E 00       	ld	a,+((_colint) & 0xFF)
2345  09DD  21 00 00    	ld	hl,_sprite
2346  09E0  86          	add	a, (hl)
2347  09E1  4F          	ld	c,a
2348  09E2  3E 00       	ld	a,+((_colint) / 256)
2349  09E4  CE 00       	adc	a,0x00
2350  09E6  47          	ld	b,a
2351  09E7  AF          	xor	a, a
2352  09E8  02          	ld	(bc),a
2353  09E9  3E 00       	ld	a,+((_tile) & 0xFF)
2354  09EB  86          	add	a, (hl)
2355  09EC  4F          	ld	c,a
2356  09ED  3E 00       	ld	a,+((_tile) / 256)
2357  09EF  CE 00       	adc	a,0x00
2358  09F1  47          	ld	b,a
2359  09F2  3A 00 00    	ld	a,(_tile_offset)
2360  09F5  5F          	ld	e,a
2361  09F6  16 00       	ld	d,0x00
2362  09F8  13          	inc	de
2363  09F9  13          	inc	de
2364  09FA  13          	inc	de
2365  09FB  2A 00 00    	ld	hl,(_sprite)
2366  09FE  C5          	push	bc
2367  09FF  26 0C       	ld	h,0x0c
2368  0A01  E5          	push	hl
2369  0A02  D5          	push	de
2370  0A03  CD 00 00    	call	_spr_tile_dir
2371  0A06  F1          	pop	af
2372  0A07  F1          	pop	af
2373  0A08  C1          	pop	bc
2374  0A09  7D          	ld	a, l
2375  0A0A  02          	ld	(bc),a
2376  0A0B  3A 00 00    	ld	a,(_s_state)
2377  0A0E  E6 08       	and	a,0x08
2378  0A10  20 07       	jr	NZ,l_player_move_00158
2379  0A12  3A 00 00    	ld	a,(_s_state)
2380  0A15  E6 04       	and	a,0x04
2381  0A17  28 1B       	jr	Z,l_player_move_00165
2382  0A19              l_player_move_00158:
2383  0A19  3E 00       	ld	a,+((_col) & 0xFF)
2384  0A1B  21 00 00    	ld	hl,_sprite
2385  0A1E  86          	add	a, (hl)
2386  0A1F  4F          	ld	c,a
2387  0A20  3E 00       	ld	a,+((_col) / 256)
2388  0A22  CE 00       	adc	a,0x00
2389  0A24  47          	ld	b,a
2390  0A25  0A          	ld	a,(bc)
2391  0A26  57          	ld	d,a
2392  0A27  4E          	ld	c,(hl)
2393  0A28  06 00       	ld	b,0x00
2394  0A2A  21 00 00    	ld	hl,_lin
2395  0A2D  09          	add	hl,bc
2396  0A2E  5E          	ld	e, (hl)
2397  0A2F  D5          	push	de
2398  0A30  CD FD 00    	call	_player_calc_slide
2399  0A33  F1          	pop	af
2400  0A34              l_player_move_00165:
2401  0A34  21 00 00    	ld	hl,_sprite_lin_inc_mul
2402  0A37  36 00       	ld	(hl),0x00
2403  0A39  3A 00 00    	ld	a,(_index_player)
2404  0A3C  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2405  0A3E  4F          	ld	c,a
2406  0A3F  3E 00       	ld	a,+((_player_jump_c) / 256)
2407  0A41  CE 00       	adc	a,0x00
2408  0A43  47          	ld	b,a
2409  0A44  0A          	ld	a,(bc)
2410  0A45  3C          	inc	a
2411  0A46  02          	ld	(bc),a
2412  0A47  CD 72 0C    	call	_player_move_horizontal
2413  0A4A              l_player_move_00168:
2414  0A4A  2A 00 00    	ld	hl,(_sprite)
2415  0A4D  26 00       	ld	h,0x00
2416  0A4F  29          	add	hl, hl
2417  0A50  11 00 00    	ld	de,_spr_timer
2418  0A53  19          	add	hl,de
2419  0A54  4E          	ld	c,(hl)
2420  0A55  23          	inc	hl
2421  0A56  46          	ld	b,(hl)
2422  0A57  21 04 00    	ld	hl,0x0004
2423  0A5A  E5          	push	hl
2424  0A5B  C5          	push	bc
2425  0A5C  CD 00 00    	call	_game_check_time
2426  0A5F  F1          	pop	af
2427  0A60  F1          	pop	af
2428  0A61  7D          	ld	a,l
2429  0A62  B7          	or	a, a
2430  0A63  28 03       	jr	Z,l_player_move_00171
2431  0A65  CD 60 0F    	call	_player_hit_brick_clear
2432  0A68              l_player_move_00171:
2433  0A68  CD 00 00    	call	_spr_redraw
2434  0A6B  3A 00 00    	ld	a,(_sprite)
2435  0A6E  C6 00       	add	a,+((_state) & 0xFF)
2436  0A70  4F          	ld	c,a
2437  0A71  3E 00       	ld	a,+((_state) / 256)
2438  0A73  CE 00       	adc	a,0x00
2439  0A75  47          	ld	b,a
2440  0A76  3A 00 00    	ld	a,(_s_state)
2441  0A79  02          	ld	(bc),a
2442  0A7A  2E 00       	ld	l,0x00
2443  0A7C              l_player_move_00172:
2444  0A7C  DD F9       	ld	sp, ix
2445  0A7E  DD E1       	pop	ix
2446  0A80  C9          	ret
2447  0A81              ;	---------------------------------
2448  0A81              ; Function player_move_input
2449  0A81              ; ---------------------------------
2450  0A81              _player_move_input:
2451  0A81  CD 3D 01    	call	_player_check_input
2452  0A84  7D          	ld	a,l
2453  0A85  B7          	or	a, a
2454  0A86  CA 6F 0C    	jp	Z,l_player_move_input_00126
2455  0A89  3A 00 00    	ld	a,(_s_state)
2456  0A8C  0F          	rrca
2457  0A8D  DA 6B 0C    	jp	C,l_player_move_input_00123
2458  0A90  3A 00 00    	ld	a,(_s_state)
2459  0A93  E6 02       	and	a,0x02
2460  0A95  C2 6B 0C    	jp	NZ,l_player_move_input_00123
2461  0A98  2A FF FF    	ld	hl,(_s_col0 - 1)
2462  0A9B  3A 00 00    	ld	a,(_s_lin0)
2463  0A9E  6F          	ld	l,a
2464  0A9F  E5          	push	hl
2465  0AA0  CD FD 00    	call	_player_calc_slide
2466  0AA3  F1          	pop	af
2467  0AA4  3A 00 00    	ld	a,(_sprite)
2468  0AA7  C6 00       	add	a,+((_state_a) & 0xFF)
2469  0AA9  4F          	ld	c,a
2470  0AAA  3E 00       	ld	a,+((_state_a) / 256)
2471  0AAC  CE 00       	adc	a,0x00
2472  0AAE  47          	ld	b,a
2473  0AAF  0A          	ld	a,(bc)
2474  0AB0  CB 6F       	bit	5, a
2475  0AB2  28 1B       	jr	Z,l_player_move_input_00102
2476  0AB4  01 00 00    	ld	bc,_spr_timer+0
2477  0AB7  2A 00 00    	ld	hl,(_sprite)
2478  0ABA  26 00       	ld	h,0x00
2479  0ABC  29          	add	hl, hl
2480  0ABD  09          	add	hl,bc
2481  0ABE  4D          	ld	c,l
2482  0ABF  44          	ld	b,h
2483  0AC0  5E          	ld	e,(hl)
2484  0AC1  23          	inc	hl
2485  0AC2  7E          	ld	a, (hl)
2486  0AC3  B3          	or	a,e
2487  0AC4  20 09       	jr	NZ,l_player_move_input_00102
2488  0AC6  ED 5B 00 00 	ld	de,(_curr_time)
2489  0ACA  7B          	ld	a,e
2490  0ACB  02          	ld	(bc),a
2491  0ACC  03          	inc	bc
2492  0ACD  7A          	ld	a,d
2493  0ACE  02          	ld	(bc),a
2494  0ACF              l_player_move_input_00102:
2495  0ACF  3A 00 00    	ld	a,(_dirs)
2496  0AD2  E6 08       	and	a,0x08
2497  0AD4  28 24       	jr	Z,l_player_move_input_00105
2498  0AD6  21 00 00    	ld	hl,_s_state
2499  0AD9  CB D6       	set	2, (hl)
2500  0ADB  CB 9E       	res	3, (hl)
2501  0ADD  3E 00       	ld	a,+((_state_a) & 0xFF)
2502  0ADF  21 00 00    	ld	hl,_sprite
2503  0AE2  86          	add	a, (hl)
2504  0AE3  4F          	ld	c,a
2505  0AE4  3E 00       	ld	a,+((_state_a) / 256)
2506  0AE6  CE 00       	adc	a,0x00
2507  0AE8  47          	ld	b,a
2508  0AE9  0A          	ld	a,(bc)
2509  0AEA  CB E7       	set	4, a
2510  0AEC  02          	ld	(bc),a
2511  0AED  3E 00       	ld	a,+((_state_a) & 0xFF)
2512  0AEF  86          	add	a, (hl)
2513  0AF0  4F          	ld	c,a
2514  0AF1  3E 00       	ld	a,+((_state_a) / 256)
2515  0AF3  CE 00       	adc	a,0x00
2516  0AF5  47          	ld	b,a
2517  0AF6  0A          	ld	a,(bc)
2518  0AF7  E6 F7       	and	a,0xf7
2519  0AF9  02          	ld	(bc),a
2520  0AFA              l_player_move_input_00105:
2521  0AFA  3A 00 00    	ld	a,(_dirs)
2522  0AFD  E6 04       	and	a,0x04
2523  0AFF  28 24       	jr	Z,l_player_move_input_00107
2524  0B01  21 00 00    	ld	hl,_s_state
2525  0B04  CB DE       	set	3, (hl)
2526  0B06  CB 96       	res	2, (hl)
2527  0B08  3E 00       	ld	a,+((_state_a) & 0xFF)
2528  0B0A  21 00 00    	ld	hl,_sprite
2529  0B0D  86          	add	a, (hl)
2530  0B0E  4F          	ld	c,a
2531  0B0F  3E 00       	ld	a,+((_state_a) / 256)
2532  0B11  CE 00       	adc	a,0x00
2533  0B13  47          	ld	b,a
2534  0B14  0A          	ld	a,(bc)
2535  0B15  CB DF       	set	3, a
2536  0B17  02          	ld	(bc),a
2537  0B18  3E 00       	ld	a,+((_state_a) & 0xFF)
2538  0B1A  86          	add	a, (hl)
2539  0B1B  4F          	ld	c,a
2540  0B1C  3E 00       	ld	a,+((_state_a) / 256)
2541  0B1E  CE 00       	adc	a,0x00
2542  0B20  47          	ld	b,a
2543  0B21  0A          	ld	a,(bc)
2544  0B22  E6 EF       	and	a,0xef
2545  0B24  02          	ld	(bc),a
2546  0B25              l_player_move_input_00107:
2547  0B25  3A 00 00    	ld	a,(_sprite)
2548  0B28  C6 00       	add	a,+((_state) & 0xFF)
2549  0B2A  4F          	ld	c,a
2550  0B2B  3E 00       	ld	a,+((_state) / 256)
2551  0B2D  CE 00       	adc	a,0x00
2552  0B2F  47          	ld	b,a
2553  0B30  3A 00 00    	ld	a,(_s_state)
2554  0B33  02          	ld	(bc),a
2555  0B34  3A 00 00    	ld	a,(_sprite)
2556  0B37  C6 00       	add	a,+((_tile) & 0xFF)
2557  0B39  4F          	ld	c,a
2558  0B3A  3E 00       	ld	a,+((_tile) / 256)
2559  0B3C  CE 00       	adc	a,0x00
2560  0B3E  47          	ld	b,a
2561  0B3F  3A 00 00    	ld	a,(_tile_offset)
2562  0B42  5F          	ld	e,a
2563  0B43  16 00       	ld	d,0x00
2564  0B45  2A 00 00    	ld	hl,(_sprite)
2565  0B48  C5          	push	bc
2566  0B49  26 0C       	ld	h,0x0c
2567  0B4B  E5          	push	hl
2568  0B4C  D5          	push	de
2569  0B4D  CD 00 00    	call	_spr_tile_dir
2570  0B50  F1          	pop	af
2571  0B51  F1          	pop	af
2572  0B52  C1          	pop	bc
2573  0B53  7D          	ld	a, l
2574  0B54  02          	ld	(bc),a
2575  0B55  3A 00 00    	ld	a,(_dirs)
2576  0B58  07          	rlca
2577  0B59  D2 23 0C    	jp	NC,l_player_move_input_00114
2578  0B5C  CD 00 00    	call	_ay_is_playing
2579  0B5F  7D          	ld	a,l
2580  0B60  D6 03       	sub	a,0x03
2581  0B62  28 06       	jr	Z,l_player_move_input_00109
2582  0B64  21 00 00    	ld	hl,_ay_effect_03
2583  0B67  CD 00 00    	call	_ay_fx_play
2584  0B6A              l_player_move_input_00109:
2585  0B6A  CD 00 00    	call	_sound_jump
2586  0B6D  3A 00 00    	ld	a,(_sprite)
2587  0B70  C6 00       	add	a,+((_state) & 0xFF)
2588  0B72  4F          	ld	c,a
2589  0B73  3E 00       	ld	a,+((_state) / 256)
2590  0B75  CE 00       	adc	a,0x00
2591  0B77  47          	ld	b,a
2592  0B78  0A          	ld	a,(bc)
2593  0B79  CB 57       	bit	2, a
2594  0B7B  28 0F       	jr	Z,l_player_move_input_00111
2595  0B7D  3A 00 00    	ld	a,(_sprite)
2596  0B80  C6 00       	add	a,+((_colint) & 0xFF)
2597  0B82  4F          	ld	c,a
2598  0B83  3E 00       	ld	a,+((_colint) / 256)
2599  0B85  CE 00       	adc	a,0x00
2600  0B87  47          	ld	b,a
2601  0B88  AF          	xor	a, a
2602  0B89  02          	ld	(bc),a
2603  0B8A  18 0E       	jr	l_player_move_input_00112
2604  0B8C              l_player_move_input_00111:
2605  0B8C  3A 00 00    	ld	a,(_sprite)
2606  0B8F  C6 00       	add	a,+((_colint) & 0xFF)
2607  0B91  4F          	ld	c,a
2608  0B92  3E 00       	ld	a,+((_colint) / 256)
2609  0B94  CE 00       	adc	a,0x00
2610  0B96  47          	ld	b,a
2611  0B97  3E 02       	ld	a,0x02
2612  0B99  02          	ld	(bc),a
2613  0B9A              l_player_move_input_00112:
2614  0B9A  21 00 00    	ld	hl,_s_state
2615  0B9D  CB C6       	set	0, (hl)
2616  0B9F  CB 8E       	res	1, (hl)
2617  0BA1  2A 00 00    	ld	hl,(_sprite)
2618  0BA4  26 00       	ld	h,0x00
2619  0BA6  01 00 00    	ld	bc,_state_a
2620  0BA9  09          	add	hl,bc
2621  0BAA  7E          	ld	a,(hl)
2622  0BAB  E6 DF       	and	a,0xdf
2623  0BAD  77          	ld	(hl),a
2624  0BAE  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2625  0BB0  21 00 00    	ld	hl,_sprite
2626  0BB3  86          	add	a, (hl)
2627  0BB4  4F          	ld	c,a
2628  0BB5  3E 00       	ld	a,+((_jump_lin) / 256)
2629  0BB7  CE 00       	adc	a,0x00
2630  0BB9  47          	ld	b,a
2631  0BBA  3E 00       	ld	a,+((_lin) & 0xFF)
2632  0BBC  86          	add	a, (hl)
2633  0BBD  5F          	ld	e,a
2634  0BBE  3E 00       	ld	a,+((_lin) / 256)
2635  0BC0  CE 00       	adc	a,0x00
2636  0BC2  57          	ld	d,a
2637  0BC3  1A          	ld	a,(de)
2638  0BC4  02          	ld	(bc),a
2639  0BC5  3E 00       	ld	a,+((_state) & 0xFF)
2640  0BC7  86          	add	a, (hl)
2641  0BC8  4F          	ld	c,a
2642  0BC9  3E 00       	ld	a,+((_state) / 256)
2643  0BCB  CE 00       	adc	a,0x00
2644  0BCD  47          	ld	b,a
2645  0BCE  3A 00 00    	ld	a,(_s_state)
2646  0BD1  02          	ld	(bc),a
2647  0BD2  3A 00 00    	ld	a,(_sprite)
2648  0BD5  C6 00       	add	a,+((_tile) & 0xFF)
2649  0BD7  4F          	ld	c,a
2650  0BD8  3E 00       	ld	a,+((_tile) / 256)
2651  0BDA  CE 00       	adc	a,0x00
2652  0BDC  47          	ld	b,a
2653  0BDD  3A 00 00    	ld	a,(_tile_offset)
2654  0BE0  5F          	ld	e,a
2655  0BE1  16 00       	ld	d,0x00
2656  0BE3  21 07 00    	ld	hl,0x0007
2657  0BE6  19          	add	hl,de
2658  0BE7  EB          	ex	de,hl
2659  0BE8  2A 00 00    	ld	hl,(_sprite)
2660  0BEB  C5          	push	bc
2661  0BEC  26 0C       	ld	h,0x0c
2662  0BEE  E5          	push	hl
2663  0BEF  D5          	push	de
2664  0BF0  CD 00 00    	call	_spr_tile_dir
2665  0BF3  F1          	pop	af
2666  0BF4  F1          	pop	af
2667  0BF5  C1          	pop	bc
2668  0BF6  7D          	ld	a, l
2669  0BF7  02          	ld	(bc),a
2670  0BF8  3A 00 00    	ld	a,(_sprite)
2671  0BFB  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2672  0BFD  4F          	ld	c,a
2673  0BFE  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2674  0C00  CE 00       	adc	a,0x00
2675  0C02  47          	ld	b,a
2676  0C03  3E 02       	ld	a,0x02
2677  0C05  02          	ld	(bc),a
2678  0C06  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
2679  0C08  21 00 00    	ld	hl,_index_player
2680  0C0B  86          	add	a, (hl)
2681  0C0C  4F          	ld	c,a
2682  0C0D  3E 00       	ld	a,+((_player_jump_c) / 256)
2683  0C0F  CE 00       	adc	a,0x00
2684  0C11  47          	ld	b,a
2685  0C12  AF          	xor	a, a
2686  0C13  02          	ld	(bc),a
2687  0C14  3E 00       	ld	a,+((_sliding) & 0xFF)
2688  0C16  86          	add	a, (hl)
2689  0C17  4F          	ld	c,a
2690  0C18  3E 00       	ld	a,+((_sliding) / 256)
2691  0C1A  CE 00       	adc	a,0x00
2692  0C1C  47          	ld	b,a
2693  0C1D  AF          	xor	a, a
2694  0C1E  02          	ld	(bc),a
2695  0C1F  2E 01       	ld	l,0x01
2696  0C21  18 4E       	jr	l_player_move_input_00127
2697  0C23              l_player_move_input_00114:
2698  0C23  CD 00 00    	call	_ay_is_playing
2699  0C26  7D          	ld	a,l
2700  0C27  B7          	or	a, a
2701  0C28  20 0C       	jr	NZ,l_player_move_input_00116
2702  0C2A  3A 00 00    	ld	a,(_game_bonus)
2703  0C2D  B7          	or	a, a
2704  0C2E  20 06       	jr	NZ,l_player_move_input_00116
2705  0C30  21 00 00    	ld	hl,_ay_effect_20
2706  0C33  CD 00 00    	call	_ay_fx_play
2707  0C36              l_player_move_input_00116:
2708  0C36  3A 00 00    	ld	a,(_sprite)
2709  0C39  C6 00       	add	a,+((_state_a) & 0xFF)
2710  0C3B  4F          	ld	c,a
2711  0C3C  3E 00       	ld	a,+((_state_a) / 256)
2712  0C3E  CE 00       	adc	a,0x00
2713  0C40  47          	ld	b,a
2714  0C41  0A          	ld	a,(bc)
2715  0C42  CB 6F       	bit	5, a
2716  0C44  28 22       	jr	Z,l_player_move_input_00121
2717  0C46  01 00 00    	ld	bc,_colint+0
2718  0C49  79          	ld	a,c
2719  0C4A  21 00 00    	ld	hl,_sprite
2720  0C4D  86          	add	a, (hl)
2721  0C4E  5F          	ld	e,a
2722  0C4F  78          	ld	a,b
2723  0C50  CE 00       	adc	a,0x00
2724  0C52  57          	ld	d,a
2725  0C53  1A          	ld	a,(de)
2726  0C54  3C          	inc	a
2727  0C55  12          	ld	(de),a
2728  0C56  79          	ld	a,c
2729  0C57  86          	add	a, (hl)
2730  0C58  4F          	ld	c,a
2731  0C59  78          	ld	a,b
2732  0C5A  CE 00       	adc	a,0x00
2733  0C5C  47          	ld	b,a
2734  0C5D  0A          	ld	a,(bc)
2735  0C5E  D6 02       	sub	a,0x02
2736  0C60  20 02       	jr	NZ,l_player_move_input_00119
2737  0C62  AF          	xor	a, a
2738  0C63  02          	ld	(bc),a
2739  0C64              l_player_move_input_00119:
2740  0C64  2E 01       	ld	l,0x01
2741  0C66  18 09       	jr	l_player_move_input_00127
2742  0C68              l_player_move_input_00121:
2743  0C68  CD 72 0C    	call	_player_move_horizontal
2744  0C6B              l_player_move_input_00123:
2745  0C6B  2E 01       	ld	l,0x01
2746  0C6D  18 02       	jr	l_player_move_input_00127
2747  0C6F              l_player_move_input_00126:
2748  0C6F  2E 00       	ld	l,0x00
2749  0C71              l_player_move_input_00127:
2750  0C71  C9          	ret
2751  0C72              ;	---------------------------------
2752  0C72              ; Function player_move_horizontal
2753  0C72              ; ---------------------------------
2754  0C72              _player_move_horizontal:
2755  0C72  CD 82 0C    	call	_player_push_check
2756  0C75  7D          	ld	a,l
2757  0C76  B7          	or	a, a
2758  0C77  28 05       	jr	Z,l_player_move_horizontal_00102
2759  0C79  CD F4 0C    	call	_player_push
2760  0C7C  18 03       	jr	l_player_move_horizontal_00104
2761  0C7E              l_player_move_horizontal_00102:
2762  0C7E  CD 00 00    	call	_spr_move_horizontal
2763  0C81              l_player_move_horizontal_00104:
2764  0C81  C9          	ret
2765  0C82              ;	---------------------------------
2766  0C82              ; Function player_push_check
2767  0C82              ; ---------------------------------
2768  0C82              _player_push_check:
2769  0C82  2A 00 00    	ld	hl,(_sprite_other_player)
2770  0C85  26 00       	ld	h,0x00
2771  0C87  01 00 00    	ld	bc,_lin
2772  0C8A  09          	add	hl,bc
2773  0C8B  7E          	ld	a,(hl)
2774  0C8C  4F          	ld	c,a
2775  0C8D  B7          	or	a,a
2776  0C8E  20 03       	jr	NZ,l_player_push_check_00102
2777  0C90  6F          	ld	l,a
2778  0C91  18 60       	jr	l_player_push_check_00111
2779  0C93              l_player_push_check_00102:
2780  0C93  2A 00 00    	ld	hl,(_sprite)
2781  0C96  26 00       	ld	h,0x00
2782  0C98  11 00 00    	ld	de,_lin
2783  0C9B  19          	add	hl,de
2784  0C9C  7E          	ld	a,(hl)
2785  0C9D  EB          	ex	de,hl
2786  0C9E  47          	ld	b,a
2787  0C9F  79          	ld	a,c
2788  0CA0  90          	sub	a, b
2789  0CA1  28 04       	jr	Z,l_player_push_check_00104
2790  0CA3  2E 00       	ld	l,0x00
2791  0CA5  18 4C       	jr	l_player_push_check_00111
2792  0CA7              l_player_push_check_00104:
2793  0CA7  01 00 00    	ld	bc,_col+0
2794  0CAA  2A 00 00    	ld	hl,(_sprite)
2795  0CAD  26 00       	ld	h,0x00
2796  0CAF  09          	add	hl,bc
2797  0CB0  6E          	ld	l, (hl)
2798  0CB1  EB          	ex	de,hl
2799  0CB2  2A 00 00    	ld	hl,(_sprite_other_player)
2800  0CB5  26 00       	ld	h,0x00
2801  0CB7  09          	add	hl,bc
2802  0CB8  4E          	ld	c, (hl)
2803  0CB9  7B          	ld	a,e
2804  0CBA  91          	sub	a, c
2805  0CBB  32 00 00    	ld	(_tmp_sc),a
2806  0CBE  D6 FE       	sub	a,0xfe
2807  0CC0  20 14       	jr	NZ,l_player_push_check_00106
2808  0CC2  3A 00 00    	ld	a,(_sprite)
2809  0CC5  C6 00       	add	a,+((_state) & 0xFF)
2810  0CC7  4F          	ld	c,a
2811  0CC8  3E 00       	ld	a,+((_state) / 256)
2812  0CCA  CE 00       	adc	a,0x00
2813  0CCC  47          	ld	b,a
2814  0CCD  0A          	ld	a,(bc)
2815  0CCE  CB 57       	bit	2, a
2816  0CD0  28 04       	jr	Z,l_player_push_check_00106
2817  0CD2  2E 01       	ld	l,0x01
2818  0CD4  18 1D       	jr	l_player_push_check_00111
2819  0CD6              l_player_push_check_00106:
2820  0CD6  3A 00 00    	ld	a,(_tmp_sc)
2821  0CD9  D6 02       	sub	a,0x02
2822  0CDB  20 14       	jr	NZ,l_player_push_check_00109
2823  0CDD  3A 00 00    	ld	a,(_sprite)
2824  0CE0  C6 00       	add	a,+((_state) & 0xFF)
2825  0CE2  4F          	ld	c,a
2826  0CE3  3E 00       	ld	a,+((_state) / 256)
2827  0CE5  CE 00       	adc	a,0x00
2828  0CE7  47          	ld	b,a
2829  0CE8  0A          	ld	a,(bc)
2830  0CE9  CB 5F       	bit	3, a
2831  0CEB  28 04       	jr	Z,l_player_push_check_00109
2832  0CED  2E 01       	ld	l,0x01
2833  0CEF  18 02       	jr	l_player_push_check_00111
2834  0CF1              l_player_push_check_00109:
2835  0CF1  2E 00       	ld	l,0x00
2836  0CF3              l_player_push_check_00111:
2837  0CF3  C9          	ret
2838  0CF4              ;	---------------------------------
2839  0CF4              ; Function player_push
2840  0CF4              ; ---------------------------------
2841  0CF4              _player_push:
2842  0CF4  3A 00 00    	ld	a,(_sprite)
2843  0CF7  32 00 00    	ld	(_tmp),a
2844  0CFA  3A 00 00    	ld	a,(_s_col0)
2845  0CFD  32 00 00    	ld	(_tmp0),a
2846  0D00  3A 00 00    	ld	a,(_sprite_other_player)
2847  0D03  C6 00       	add	a,+((_lin) & 0xFF)
2848  0D05  4F          	ld	c,a
2849  0D06  3E 00       	ld	a,+((_lin) / 256)
2850  0D08  CE 00       	adc	a,0x00
2851  0D0A  47          	ld	b,a
2852  0D0B  0A          	ld	a,(bc)
2853  0D0C  32 00 00    	ld	(_s_lin0),a
2854  0D0F  3A 00 00    	ld	a,(_sprite_other_player)
2855  0D12  C6 00       	add	a,+((_col) & 0xFF)
2856  0D14  4F          	ld	c,a
2857  0D15  3E 00       	ld	a,+((_col) / 256)
2858  0D17  CE 00       	adc	a,0x00
2859  0D19  47          	ld	b,a
2860  0D1A  0A          	ld	a,(bc)
2861  0D1B  32 00 00    	ld	(_s_col0),a
2862  0D1E  01 00 00    	ld	bc,_spr_timer+0
2863  0D21  2A 00 00    	ld	hl,(_sprite_other_player)
2864  0D24  26 00       	ld	h,0x00
2865  0D26  29          	add	hl, hl
2866  0D27  09          	add	hl,bc
2867  0D28  ED 5B 00 00 	ld	de,(_curr_time)
2868  0D2C  73          	ld	(hl),e
2869  0D2D  23          	inc	hl
2870  0D2E  72          	ld	(hl),d
2871  0D2F  3E 00       	ld	a,+((_state_a) & 0xFF)
2872  0D31  21 00 00    	ld	hl,_sprite_other_player
2873  0D34  86          	add	a, (hl)
2874  0D35  4F          	ld	c,a
2875  0D36  3E 00       	ld	a,+((_state_a) / 256)
2876  0D38  CE 00       	adc	a,0x00
2877  0D3A  47          	ld	b,a
2878  0D3B  0A          	ld	a,(bc)
2879  0D3C  CB D7       	set	2, a
2880  0D3E  02          	ld	(bc),a
2881  0D3F  7E          	ld	a,(hl)
2882  0D40  32 00 00    	ld	(_sprite),a
2883  0D43  3A 00 00    	ld	a,(_tmp)
2884  0D46  C6 00       	add	a,+((_state) & 0xFF)
2885  0D48  4F          	ld	c,a
2886  0D49  3E 00       	ld	a,+((_state) / 256)
2887  0D4B  CE 00       	adc	a,0x00
2888  0D4D  47          	ld	b,a
2889  0D4E  0A          	ld	a,(bc)
2890  0D4F  CB 57       	bit	2, a
2891  0D51  28 05       	jr	Z,l_player_push_00102
2892  0D53  CD 00 00    	call	_spr_move_right
2893  0D56  18 03       	jr	l_player_push_00103
2894  0D58              l_player_push_00102:
2895  0D58  CD 00 00    	call	_spr_move_left
2896  0D5B              l_player_push_00103:
2897  0D5B  CD 00 00    	call	_spr_redraw
2898  0D5E  3A 00 00    	ld	a,(_tmp)
2899  0D61  32 00 00    	ld	(_sprite),a
2900  0D64  C6 00       	add	a,+((_lin) & 0xFF)
2901  0D66  4F          	ld	c,a
2902  0D67  3E 00       	ld	a,+((_lin) / 256)
2903  0D69  CE 00       	adc	a,0x00
2904  0D6B  47          	ld	b,a
2905  0D6C  0A          	ld	a,(bc)
2906  0D6D  32 00 00    	ld	(_s_lin0),a
2907  0D70  3A 00 00    	ld	a,(_tmp0)
2908  0D73  32 00 00    	ld	(_s_col0),a
2909  0D76  C9          	ret
2910  0D77              ;	---------------------------------
2911  0D77              ; Function player_hit_brick
2912  0D77              ; ---------------------------------
2913  0D77              _player_hit_brick:
2914  0D77  3A 00 00    	ld	a,(_index_player)
2915  0D7A  C6 00       	add	a,+((_hit_lin) & 0xFF)
2916  0D7C  4F          	ld	c,a
2917  0D7D  3E 00       	ld	a,+((_hit_lin) / 256)
2918  0D7F  CE 00       	adc	a,0x00
2919  0D81  47          	ld	b,a
2920  0D82  0A          	ld	a,(bc)
2921  0D83  B7          	or	a, a
2922  0D84  C2 5D 0F    	jp	NZ,l_player_hit_brick_00112
2923  0D87  3A 00 00    	ld	a,(_sprite)
2924  0D8A  C6 00       	add	a,+((_lin) & 0xFF)
2925  0D8C  4F          	ld	c,a
2926  0D8D  3E 00       	ld	a,+((_lin) / 256)
2927  0D8F  CE 00       	adc	a,0x00
2928  0D91  47          	ld	b,a
2929  0D92  0A          	ld	a,(bc)
2930  0D93  5F          	ld	e,a
2931  0D94  3E 10       	ld	a,0x10
2932  0D96  93          	sub	a, e
2933  0D97  D2 5D 0F    	jp	NC,l_player_hit_brick_00112
2934  0D9A  21 00 00    	ld	hl,_enemies
2935  0D9D  36 00       	ld	(hl),0x00
2936  0D9F              l_player_hit_brick_00114:
2937  0D9F  2A 00 00    	ld	hl,(_enemies)
2938  0DA2  26 00       	ld	h,0x00
2939  0DA4  11 00 00    	ld	de,_class
2940  0DA7  19          	add	hl,de
2941  0DA8  7E          	ld	a,(hl)
2942  0DA9  B7          	or	a,a
2943  0DAA  28 5F       	jr	Z,l_player_hit_brick_00115
2944  0DAC  0A          	ld	a,(bc)
2945  0DAD  4F          	ld	c,a
2946  0DAE  06 00       	ld	b,0x00
2947  0DB0  2A 00 00    	ld	hl,(_enemies)
2948  0DB3  60          	ld	h,b
2949  0DB4  11 00 00    	ld	de,_lin
2950  0DB7  19          	add	hl,de
2951  0DB8  5E          	ld	e, (hl)
2952  0DB9  16 00       	ld	d,0x00
2953  0DBB  79          	ld	a,c
2954  0DBC  93          	sub	a,e
2955  0DBD  4F          	ld	c,a
2956  0DBE  78          	ld	a,b
2957  0DBF  9A          	sbc	a,d
2958  0DC0  47          	ld	b,a
2959  0DC1  79          	ld	a,c
2960  0DC2  D6 18       	sub	a,0x18
2961  0DC4  20 45       	jr	NZ,l_player_hit_brick_00115
2962  0DC6  B0          	or	a,b
2963  0DC7  20 42       	jr	NZ,l_player_hit_brick_00115
2964  0DC9  3A 00 00    	ld	a,(_enemies)
2965  0DCC  4F          	ld	c,a
2966  0DCD  06 00       	ld	b,0x00
2967  0DCF  21 00 00    	ld	hl,_state
2968  0DD2  09          	add	hl,bc
2969  0DD3  CB 6E       	bit	5,(hl)
2970  0DD5  20 34       	jr	NZ,l_player_hit_brick_00115
2971  0DD7  2A 00 00    	ld	hl,(_sprite)
2972  0DDA  26 00       	ld	h,0x00
2973  0DDC  01 00 00    	ld	bc,_col
2974  0DDF  09          	add	hl,bc
2975  0DE0  4E          	ld	c,(hl)
2976  0DE1  06 00       	ld	b,0x00
2977  0DE3  2A 00 00    	ld	hl,(_enemies)
2978  0DE6  60          	ld	h,b
2979  0DE7  11 00 00    	ld	de,_col
2980  0DEA  19          	add	hl,de
2981  0DEB  5E          	ld	e, (hl)
2982  0DEC  16 00       	ld	d,0x00
2983  0DEE  79          	ld	a,c
2984  0DEF  93          	sub	a, e
2985  0DF0  6F          	ld	l,a
2986  0DF1  78          	ld	a,b
2987  0DF2  9A          	sbc	a, d
2988  0DF3  67          	ld	h,a
2989  0DF4  CD 00 00    	call	_abs_fastcall
2990  0DF7  3E 02       	ld	a,0x02
2991  0DF9  BD          	cp	a,l
2992  0DFA  3E 00       	ld	a,0x00
2993  0DFC  9C          	sbc	a,h
2994  0DFD  E2 02 0E    	jp	PO, l_player_hit_brick_00166
2995  0E00  EE 80       	xor	a,0x80
2996  0E02              l_player_hit_brick_00166:
2997  0E02  FA 0B 0E    	jp	M,l_player_hit_brick_00115
2998  0E05  CD 00 00    	call	_enemy_hit
2999  0E08  CD 00 00    	call	_sound_hit_enemy
3000  0E0B              l_player_hit_brick_00115:
3001  0E0B  21 00 00    	ld	hl,_enemies
3002  0E0E  34          	inc	(hl)
3003  0E0F  3A 00 00    	ld	a,(_sprite)
3004  0E12  C6 00       	add	a,+((_lin) & 0xFF)
3005  0E14  4F          	ld	c,a
3006  0E15  3E 00       	ld	a,+((_lin) / 256)
3007  0E17  CE 00       	adc	a,0x00
3008  0E19  47          	ld	b,a
3009  0E1A  3A 00 00    	ld	a,(_enemies)
3010  0E1D  D6 06       	sub	a,0x06
3011  0E1F  DA 9F 0D    	jp	C,l_player_hit_brick_00114
3012  0E22  2A 00 00    	ld	hl,(_sprite_other_player)
3013  0E25  26 00       	ld	h,0x00
3014  0E27  11 00 00    	ld	de,_lin
3015  0E2A  19          	add	hl,de
3016  0E2B  7E          	ld	a,(hl)
3017  0E2C  5F          	ld	e,a
3018  0E2D  B7          	or	a, a
3019  0E2E  CA F7 0E    	jp	Z,l_player_hit_brick_00108
3020  0E31  0A          	ld	a,(bc)
3021  0E32  6F          	ld	l,a
3022  0E33  AF          	xor	a,a
3023  0E34  67          	ld	h,a
3024  0E35  57          	ld	d,a
3025  0E36  ED 52       	sbc	hl,de
3026  0E38  7D          	ld	a,l
3027  0E39  D6 18       	sub	a,0x18
3028  0E3B  C2 F7 0E    	jp	NZ,l_player_hit_brick_00108
3029  0E3E  B4          	or	a,h
3030  0E3F  C2 F7 0E    	jp	NZ,l_player_hit_brick_00108
3031  0E42  2A 00 00    	ld	hl,(_sprite)
3032  0E45  26 00       	ld	h,0x00
3033  0E47  01 00 00    	ld	bc,_col
3034  0E4A  09          	add	hl,bc
3035  0E4B  4E          	ld	c,(hl)
3036  0E4C  06 00       	ld	b,0x00
3037  0E4E  2A 00 00    	ld	hl,(_sprite_other_player)
3038  0E51  60          	ld	h,b
3039  0E52  11 00 00    	ld	de,_col
3040  0E55  19          	add	hl,de
3041  0E56  5E          	ld	e, (hl)
3042  0E57  16 00       	ld	d,0x00
3043  0E59  79          	ld	a,c
3044  0E5A  93          	sub	a, e
3045  0E5B  6F          	ld	l,a
3046  0E5C  78          	ld	a,b
3047  0E5D  9A          	sbc	a, d
3048  0E5E  67          	ld	h,a
3049  0E5F  CD 00 00    	call	_abs_fastcall
3050  0E62  3E 02       	ld	a,0x02
3051  0E64  BD          	cp	a,l
3052  0E65  3E 00       	ld	a,0x00
3053  0E67  9C          	sbc	a,h
3054  0E68  E2 6D 0E    	jp	PO, l_player_hit_brick_00169
3055  0E6B  EE 80       	xor	a,0x80
3056  0E6D              l_player_hit_brick_00169:
3057  0E6D  FA F7 0E    	jp	M,l_player_hit_brick_00108
3058  0E70  3E 00       	ld	a,+((_col) & 0xFF)
3059  0E72  21 00 00    	ld	hl,_sprite_other_player
3060  0E75  86          	add	a, (hl)
3061  0E76  4F          	ld	c,a
3062  0E77  3E 00       	ld	a,+((_col) / 256)
3063  0E79  CE 00       	adc	a,0x00
3064  0E7B  47          	ld	b,a
3065  0E7C  0A          	ld	a,(bc)
3066  0E7D  57          	ld	d,a
3067  0E7E  4E          	ld	c,(hl)
3068  0E7F  06 00       	ld	b,0x00
3069  0E81  21 00 00    	ld	hl,_lin
3070  0E84  09          	add	hl,bc
3071  0E85  5E          	ld	e, (hl)
3072  0E86  D5          	push	de
3073  0E87  AF          	xor	a, a
3074  0E88  F5          	push	af
3075  0E89  33          	inc	sp
3076  0E8A  CD 00 00    	call	_NIRVANAP_fillT_callee
3077  0E8D  2A 00 00    	ld	hl,(_sprite_other_player)
3078  0E90  26 00       	ld	h,0x00
3079  0E92  01 00 00    	ld	bc,_lin
3080  0E95  09          	add	hl,bc
3081  0E96  7E          	ld	a,(hl)
3082  0E97  C6 FC       	add	a,0xfc
3083  0E99  77          	ld	(hl),a
3084  0E9A  3E 00       	ld	a,+((_col) & 0xFF)
3085  0E9C  21 00 00    	ld	hl,_sprite_other_player
3086  0E9F  86          	add	a, (hl)
3087  0EA0  4F          	ld	c,a
3088  0EA1  3E 00       	ld	a,+((_col) / 256)
3089  0EA3  CE 00       	adc	a,0x00
3090  0EA5  47          	ld	b,a
3091  0EA6  0A          	ld	a,(bc)
3092  0EA7  57          	ld	d,a
3093  0EA8  3E 00       	ld	a,+((_lin) & 0xFF)
3094  0EAA  86          	add	a, (hl)
3095  0EAB  4F          	ld	c,a
3096  0EAC  3E 00       	ld	a,+((_lin) / 256)
3097  0EAE  CE 00       	adc	a,0x00
3098  0EB0  47          	ld	b,a
3099  0EB1  0A          	ld	a,(bc)
3100  0EB2  5F          	ld	e,a
3101  0EB3  3E 00       	ld	a,+((_tile) & 0xFF)
3102  0EB5  86          	add	a, (hl)
3103  0EB6  4F          	ld	c,a
3104  0EB7  3E 00       	ld	a,+((_tile) / 256)
3105  0EB9  CE 00       	adc	a,0x00
3106  0EBB  47          	ld	b,a
3107  0EBC  0A          	ld	a,(bc)
3108  0EBD  47          	ld	b,a
3109  0EBE  4E          	ld	c,(hl)
3110  0EBF  D5          	push	de
3111  0EC0  C5          	push	bc
3112  0EC1  CD 00 00    	call	_NIRVANAP_spriteT_callee
3113  0EC4  76          	halt
3114  0EC5  2A 00 00    	ld	hl,(_sprite_other_player)
3115  0EC8  26 00       	ld	h,0x00
3116  0ECA  01 00 00    	ld	bc,_state
3117  0ECD  09          	add	hl,bc
3118  0ECE  7E          	ld	a,(hl)
3119  0ECF  E6 FD       	and	a,0xfd
3120  0ED1  77          	ld	(hl),a
3121  0ED2  3E 00       	ld	a,+((_state) & 0xFF)
3122  0ED4  21 00 00    	ld	hl,_sprite_other_player
3123  0ED7  86          	add	a, (hl)
3124  0ED8  4F          	ld	c,a
3125  0ED9  3E 00       	ld	a,+((_state) / 256)
3126  0EDB  CE 00       	adc	a,0x00
3127  0EDD  47          	ld	b,a
3128  0EDE  0A          	ld	a,(bc)
3129  0EDF  CB C7       	set	0, a
3130  0EE1  02          	ld	(bc),a
3131  0EE2  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3132  0EE4  86          	add	a, (hl)
3133  0EE5  4F          	ld	c,a
3134  0EE6  3E 00       	ld	a,+((_jump_lin) / 256)
3135  0EE8  CE 00       	adc	a,0x00
3136  0EEA  47          	ld	b,a
3137  0EEB  5E          	ld	e,(hl)
3138  0EEC  16 00       	ld	d,0x00
3139  0EEE  21 00 00    	ld	hl,_lin
3140  0EF1  19          	add	hl,de
3141  0EF2  7E          	ld	a,(hl)
3142  0EF3  C6 14       	add	a,0x14
3143  0EF5  02          	ld	(bc),a
3144  0EF6  76          	halt
3145  0EF7              l_player_hit_brick_00108:
3146  0EF7  3A 00 00    	ld	a,(_sprite)
3147  0EFA  C6 00       	add	a,+((_state_a) & 0xFF)
3148  0EFC  4F          	ld	c,a
3149  0EFD  3E 00       	ld	a,+((_state_a) / 256)
3150  0EFF  CE 00       	adc	a,0x00
3151  0F01  47          	ld	b,a
3152  0F02  0A          	ld	a,(bc)
3153  0F03  CB FF       	set	7, a
3154  0F05  02          	ld	(bc),a
3155  0F06  3A 00 00    	ld	a,(_index_player)
3156  0F09  C6 00       	add	a,+((_player_jump_c) & 0xFF)
3157  0F0B  4F          	ld	c,a
3158  0F0C  3E 00       	ld	a,+((_player_jump_c) / 256)
3159  0F0E  CE 00       	adc	a,0x00
3160  0F10  47          	ld	b,a
3161  0F11  3E 06       	ld	a,0x06
3162  0F13  02          	ld	(bc),a
3163  0F14  01 00 00    	ld	bc,_spr_timer+0
3164  0F17  2A 00 00    	ld	hl,(_sprite)
3165  0F1A  26 00       	ld	h,0x00
3166  0F1C  29          	add	hl, hl
3167  0F1D  09          	add	hl,bc
3168  0F1E  ED 5B 00 00 	ld	de,(_curr_time)
3169  0F22  73          	ld	(hl),e
3170  0F23  23          	inc	hl
3171  0F24  72          	ld	(hl),d
3172  0F25  3A 00 00    	ld	a,(_index_player)
3173  0F28  C6 00       	add	a,+((_hit_lin) & 0xFF)
3174  0F2A  4F          	ld	c,a
3175  0F2B  3E 00       	ld	a,+((_hit_lin) / 256)
3176  0F2D  CE 00       	adc	a,0x00
3177  0F2F  47          	ld	b,a
3178  0F30  2A 00 00    	ld	hl,(_sprite)
3179  0F33  26 00       	ld	h,0x00
3180  0F35  11 00 00    	ld	de,_lin
3181  0F38  19          	add	hl,de
3182  0F39  7E          	ld	a,(hl)
3183  0F3A  02          	ld	(bc),a
3184  0F3B  3A 00 00    	ld	a,(_index_player)
3185  0F3E  C6 00       	add	a,+((_hit_col) & 0xFF)
3186  0F40  4F          	ld	c,a
3187  0F41  3E 00       	ld	a,+((_hit_col) / 256)
3188  0F43  CE 00       	adc	a,0x00
3189  0F45  47          	ld	b,a
3190  0F46  2A 00 00    	ld	hl,(_sprite)
3191  0F49  26 00       	ld	h,0x00
3192  0F4B  11 00 00    	ld	de,_col
3193  0F4E  19          	add	hl,de
3194  0F4F  7E          	ld	a,(hl)
3195  0F50  02          	ld	(bc),a
3196  0F51  2E 01       	ld	l,0x01
3197  0F53  CD 00 00    	call	_spr_brick_anim
3198  0F56  CD 00 00    	call	_sound_hit_brick
3199  0F59  2E 01       	ld	l,0x01
3200  0F5B  18 02       	jr	l_player_hit_brick_00116
3201  0F5D              l_player_hit_brick_00112:
3202  0F5D  2E 00       	ld	l,0x00
3203  0F5F              l_player_hit_brick_00116:
3204  0F5F  C9          	ret
3205  0F60              ;	---------------------------------
3206  0F60              ; Function player_hit_brick_clear
3207  0F60              ; ---------------------------------
3208  0F60              _player_hit_brick_clear:
3209  0F60  2A 00 00    	ld	hl,(_index_player)
3210  0F63  26 00       	ld	h,0x00
3211  0F65  01 00 00    	ld	bc,_hit_lin
3212  0F68  09          	add	hl,bc
3213  0F69  7E          	ld	a,(hl)
3214  0F6A  4F          	ld	c,a
3215  0F6B  B7          	or	a,a
3216  0F6C  C8          	ret	Z
3217  0F6D  3A 00 00    	ld	a,(_index_player)
3218  0F70  5F          	ld	e,a
3219  0F71  16 00       	ld	d,0x00
3220  0F73  21 00 00    	ld	hl,_hit_col
3221  0F76  19          	add	hl,de
3222  0F77  56          	ld	d, (hl)
3223  0F78  79          	ld	a,c
3224  0F79  C6 F8       	add	a,0xf8
3225  0F7B  5F          	ld	e, a
3226  0F7C  D5          	push	de
3227  0F7D  CD 00 00    	call	_game_calc_index
3228  0F80  F1          	pop	af
3229  0F81  22 00 00    	ld	(_index1),hl
3230  0F84  01 01 00    	ld	bc,0x0001
3231  0F87  09          	add	hl,bc
3232  0F88  22 00 00    	ld	(_index2),hl
3233  0F8B  2E 00       	ld	l,0x00
3234  0F8D  CD 00 00    	call	_spr_brick_anim
3235  0F90  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3236  0F92  21 00 00    	ld	hl,_index_player
3237  0F95  86          	add	a, (hl)
3238  0F96  4F          	ld	c,a
3239  0F97  3E 00       	ld	a,+((_hit_lin) / 256)
3240  0F99  CE 00       	adc	a,0x00
3241  0F9B  47          	ld	b,a
3242  0F9C  AF          	xor	a, a
3243  0F9D  02          	ld	(bc),a
3244  0F9E  3E 00       	ld	a,+((_hit_col) & 0xFF)
3245  0FA0  86          	add	a, (hl)
3246  0FA1  4F          	ld	c,a
3247  0FA2  3E 00       	ld	a,+((_hit_col) / 256)
3248  0FA4  CE 00       	adc	a,0x00
3249  0FA6  47          	ld	b,a
3250  0FA7  AF          	xor	a, a
3251  0FA8  02          	ld	(bc),a
3252  0FA9  C9          	ret
3253  0FAA              ;	---------------------------------
3254  0FAA              ; Function player_hit_pow
3255  0FAA              ; ---------------------------------
3256  0FAA              _player_hit_pow:
3257  0FAA  2A 00 00    	ld	hl,(_index1)
3258  0FAD  01 01 00    	ld	bc,0x0001
3259  0FB0  09          	add	hl,bc
3260  0FB1  22 00 00    	ld	(_index2),hl
3261  0FB4  3A 00 00    	ld	a,(_game_pow)
3262  0FB7  B7          	or	a, a
3263  0FB8  CA 5D 10    	jp	Z,l_player_hit_pow_00107
3264  0FBB  01 00 00    	ld	bc,_lvl_1
3265  0FBE  2A 00 00    	ld	hl,(_index1)
3266  0FC1  09          	add	hl,bc
3267  0FC2  7E          	ld	a,(hl)
3268  0FC3  D6 11       	sub	a,0x11
3269  0FC5  28 0D       	jr	Z,l_player_hit_pow_00106
3270  0FC7  01 00 00    	ld	bc,_lvl_1
3271  0FCA  2A 00 00    	ld	hl,(_index2)
3272  0FCD  09          	add	hl,bc
3273  0FCE  7E          	ld	a,(hl)
3274  0FCF  D6 11       	sub	a,0x11
3275  0FD1  C2 5D 10    	jp	NZ,l_player_hit_pow_00107
3276  0FD4              l_player_hit_pow_00106:
3277  0FD4  21 00 00    	ld	hl,_game_pow
3278  0FD7  35          	dec	(hl)
3279  0FD8  21 02 00    	ld	hl,0x0002
3280  0FDB  CD 00 00    	call	_zx_border_fastcall
3281  0FDE  21 00 00    	ld	hl,_enemies
3282  0FE1  36 00       	ld	(hl),0x00
3283  0FE3              l_player_hit_pow_00110:
3284  0FE3  2A 00 00    	ld	hl,(_enemies)
3285  0FE6  26 00       	ld	h,0x00
3286  0FE8  5D          	ld	e,l
3287  0FE9  01 00 00    	ld	bc,_col
3288  0FEC  09          	add	hl,bc
3289  0FED  46          	ld	b,(hl)
3290  0FEE  16 00       	ld	d,0x00
3291  0FF0  21 00 00    	ld	hl,_lin
3292  0FF3  19          	add	hl,de
3293  0FF4  7E          	ld	a,(hl)
3294  0FF5  C6 10       	add	a,0x10
3295  0FF7  4F          	ld	c,a
3296  0FF8  C5          	push	bc
3297  0FF9  CD 00 00    	call	_game_calc_index
3298  0FFC  F1          	pop	af
3299  0FFD  CD 00 00    	call	_game_check_maze
3300  1000  7D          	ld	a,l
3301  1001  B7          	or	a, a
3302  1002  20 03       	jr	NZ,l_player_hit_pow_00111
3303  1004  CD 00 00    	call	_enemy_hit
3304  1007              l_player_hit_pow_00111:
3305  1007  21 00 00    	ld	hl,_enemies
3306  100A  7E          	ld	a,(hl)
3307  100B  3C          	inc	a
3308  100C  77          	ld	(hl),a
3309  100D  D6 06       	sub	a,0x06
3310  100F  38 D2       	jr	C,l_player_hit_pow_00110
3311  1011  21 00 00    	ld	hl,_ay_effect_06
3312  1014  CD 00 00    	call	_ay_fx_play
3313  1017  CD 00 00    	call	_sound_hit_pow
3314  101A  CD 00 00    	call	_spr_draw_pow
3315  101D  3A 00 00    	ld	a,(_game_pow)
3316  1020  B7          	or	a, a
3317  1021  20 13       	jr	NZ,l_player_hit_pow_00105
3318  1023  21 80 0F    	ld	hl,0x0f80
3319  1026  E5          	push	hl
3320  1027  AF          	xor	a, a
3321  1028  F5          	push	af
3322  1029  33          	inc	sp
3323  102A  CD 00 00    	call	_NIRVANAP_fillT_callee
3324  102D  21 00 00    	ld	hl,0x0000
3325  1030  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3326  1033  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3327  1036              l_player_hit_pow_00105:
3328  1036  21 00 00    	ld	hl,0x0000
3329  1039  CD 00 00    	call	_zx_border_fastcall
3330  103C  3A 00 00    	ld	a,(_sprite)
3331  103F  C6 00       	add	a,+((_state_a) & 0xFF)
3332  1041  4F          	ld	c,a
3333  1042  3E 00       	ld	a,+((_state_a) / 256)
3334  1044  CE 00       	adc	a,0x00
3335  1046  47          	ld	b,a
3336  1047  0A          	ld	a,(bc)
3337  1048  CB FF       	set	7, a
3338  104A  02          	ld	(bc),a
3339  104B  3A 00 00    	ld	a,(_index_player)
3340  104E  C6 00       	add	a,+((_player_jump_c) & 0xFF)
3341  1050  4F          	ld	c,a
3342  1051  3E 00       	ld	a,+((_player_jump_c) / 256)
3343  1053  CE 00       	adc	a,0x00
3344  1055  47          	ld	b,a
3345  1056  3E 06       	ld	a,0x06
3346  1058  02          	ld	(bc),a
3347  1059  2E 01       	ld	l,0x01
3348  105B  18 02       	jr	l_player_hit_pow_00112
3349  105D              l_player_hit_pow_00107:
3350  105D  2E 00       	ld	l,0x00
3351  105F              l_player_hit_pow_00112:
3352  105F  C9          	ret
3353  1060              ;	---------------------------------
3354  1060              ; Function player_coin
3355  1060              ; ---------------------------------
3356  1060              _player_coin:
3357  1060  CD 00 00    	call	___sdcc_enter_ix
3358  1063  3E 00       	ld	a,+((_class) & 0xFF)
3359  1065  DD 86 04    	add	a,(ix+4)
3360  1068  4F          	ld	c,a
3361  1069  3E 00       	ld	a,+((_class) / 256)
3362  106B  CE 00       	adc	a,0x00
3363  106D  47          	ld	b,a
3364  106E  0A          	ld	a,(bc)
3365  106F  D6 07       	sub	a,0x07
3366  1071  20 16       	jr	NZ,l_player_coin_00102
3367  1073  21 00 00    	ld	hl,_ay_effect_12
3368  1076  CD 00 00    	call	_ay_fx_play
3369  1079  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3370  107B  DD 86 04    	add	a,(ix+4)
3371  107E  4F          	ld	c,a
3372  107F  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3373  1081  CE 00       	adc	a,0x00
3374  1083  47          	ld	b,a
3375  1084  3E 03       	ld	a,0x03
3376  1086  02          	ld	(bc),a
3377  1087  18 17       	jr	l_player_coin_00103
3378  1089              l_player_coin_00102:
3379  1089  21 00 00    	ld	hl,_ay_effect_10
3380  108C  CD 00 00    	call	_ay_fx_play
3381  108F  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3382  1091  DD 86 04    	add	a,(ix+4)
3383  1094  4F          	ld	c,a
3384  1095  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3385  1097  CE 00       	adc	a,0x00
3386  1099  47          	ld	b,a
3387  109A  3E 08       	ld	a,0x08
3388  109C  02          	ld	(bc),a
3389  109D  CD 00 00    	call	_sound_coin
3390  10A0              l_player_coin_00103:
3391  10A0  3E 00       	ld	a,+((_state) & 0xFF)
3392  10A2  DD 86 04    	add	a,(ix+4)
3393  10A5  4F          	ld	c,a
3394  10A6  3E 00       	ld	a,+((_state) / 256)
3395  10A8  CE 00       	adc	a,0x00
3396  10AA  47          	ld	b,a
3397  10AB  0A          	ld	a,(bc)
3398  10AC  CB EF       	set	5, a
3399  10AE  02          	ld	(bc),a
3400  10AF  01 00 00    	ld	bc,_spr_timer+0
3401  10B2  DD 6E 04    	ld	l,(ix+4)
3402  10B5  26 00       	ld	h,0x00
3403  10B7  29          	add	hl, hl
3404  10B8  09          	add	hl,bc
3405  10B9  ED 5B 00 00 	ld	de,(_curr_time)
3406  10BD  73          	ld	(hl),e
3407  10BE  23          	inc	hl
3408  10BF  72          	ld	(hl),d
3409  10C0  3A 00 00    	ld	a,(_game_bonus)
3410  10C3  B7          	or	a, a
3411  10C4  28 1B       	jr	Z,l_player_coin_00107
3412  10C6  3A 00 00    	ld	a,(_index_player)
3413  10C9  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3414  10CB  4F          	ld	c,a
3415  10CC  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3416  10CE  CE 00       	adc	a,0x00
3417  10D0  47          	ld	b,a
3418  10D1  0A          	ld	a,(bc)
3419  10D2  3C          	inc	a
3420  10D3  02          	ld	(bc),a
3421  10D4  21 00 00    	ld	hl,_phase_left
3422  10D7  35          	dec (hl)
3423  10D8  20 0F       	jr	NZ,l_player_coin_00109
3424  10DA  21 00 00    	ld	hl,_phase_end
3425  10DD  36 01       	ld	(hl),0x01
3426  10DF  18 08       	jr	l_player_coin_00109
3427  10E1              l_player_coin_00107:
3428  10E1  DD 6E 05    	ld	l,(ix+5)
3429  10E4  26 00       	ld	h,0x00
3430  10E6  CD EC 10    	call	_player_score_add
3431  10E9              l_player_coin_00109:
3432  10E9  DD E1       	pop	ix
3433  10EB  C9          	ret
3434  10EC              ;	---------------------------------
3435  10EC              ; Function player_score_add
3436  10EC              ; ---------------------------------
3437  10EC              _player_score_add:
3438  10EC  4D          	ld	c,l
3439  10ED  44          	ld	b,h
3440  10EE  2A 00 00    	ld	hl,(_index_player)
3441  10F1  26 00       	ld	h,0x00
3442  10F3  29          	add	hl, hl
3443  10F4  11 00 00    	ld	de,_player_score
3444  10F7  19          	add	hl,de
3445  10F8  5E          	ld	e,(hl)
3446  10F9  23          	inc	hl
3447  10FA  56          	ld	d,(hl)
3448  10FB  2B          	dec	hl
3449  10FC  7B          	ld	a,e
3450  10FD  81          	add	a, c
3451  10FE  4F          	ld	c,a
3452  10FF  7A          	ld	a,d
3453  1100  88          	adc	a, b
3454  1101  47          	ld	b,a
3455  1102  71          	ld	(hl),c
3456  1103  23          	inc	hl
3457  1104  70          	ld	(hl),b
3458  1105  2A 00 00    	ld	hl,(_index_player)
3459  1108  26 00       	ld	h,0x00
3460  110A  29          	add	hl,hl
3461  110B  4D          	ld	c,l
3462  110C  44          	ld	b,h
3463  110D  21 00 00    	ld	hl,_player_score
3464  1110  09          	add	hl,bc
3465  1111  5E          	ld	e,(hl)
3466  1112  23          	inc	hl
3467  1113  56          	ld	d,(hl)
3468  1114  21 00 00    	ld	hl,_game_score_top
3469  1117  7E          	ld	a,(hl)
3470  1118  93          	sub	a, e
3471  1119  23          	inc	hl
3472  111A  7E          	ld	a,(hl)
3473  111B  9A          	sbc	a, d
3474  111C  30 04       	jr	NC,l_player_score_add_00102
3475  111E  2B          	dec	hl
3476  111F  73          	ld	(hl),e
3477  1120  23          	inc	hl
3478  1121  72          	ld	(hl),d
3479  1122              l_player_score_add_00102:
3480  1122  21 00 00    	ld	hl,_player_next_extra
3481  1125  09          	add	hl,bc
3482  1126  4E          	ld	c,(hl)
3483  1127  23          	inc	hl
3484  1128  46          	ld	b,(hl)
3485  1129  2B          	dec	hl
3486  112A  79          	ld	a,c
3487  112B  93          	sub	a, e
3488  112C  78          	ld	a,b
3489  112D  9A          	sbc	a, d
3490  112E  30 31       	jr	NC,l_player_score_add_00106
3491  1130  79          	ld	a,c
3492  1131  C6 D0       	add	a,0xd0
3493  1133  77          	ld	(hl),a
3494  1134  78          	ld	a,b
3495  1135  CE 07       	adc	a,0x07
3496  1137  23          	inc	hl
3497  1138  77          	ld	(hl),a
3498  1139  3A 00 00    	ld	a,(_index_player)
3499  113C  C6 00       	add	a,+((_game_lives) & 0xFF)
3500  113E  4F          	ld	c,a
3501  113F  3E 00       	ld	a,+((_game_lives) / 256)
3502  1141  CE 00       	adc	a,0x00
3503  1143  47          	ld	b,a
3504  1144  0A          	ld	a,(bc)
3505  1145  3C          	inc	a
3506  1146  02          	ld	(bc),a
3507  1147  3A 00 00    	ld	a,(_game_bonus)
3508  114A  B7          	or	a, a
3509  114B  20 03       	jr	NZ,l_player_score_add_00104
3510  114D  CD 00 00    	call	_game_print_lives
3511  1150              l_player_score_add_00104:
3512  1150  CD 00 00    	call	_sound_coin
3513  1153  CD 00 00    	call	_sound_coin
3514  1156  CD 00 00    	call	_sound_coin
3515  1159  CD 00 00    	call	_sound_coin
3516  115C  21 00 00    	ld	hl,_hit_count
3517  115F  36 08       	ld	(hl),0x08
3518  1161              l_player_score_add_00106:
3519  1161  C3 00 00    	jp  _game_print_score
3520  1164              ;	---------------------------------
3521  1164              ; Function player_set1
3522  1164              ; ---------------------------------
3523  1164              _player_set1:
3524  1164  21 00 00    	ld	hl,_sprite
3525  1167  36 07       	ld	(hl),0x07
3526  1169  21 00 00    	ld	hl,_sprite_other_player
3527  116C  36 06       	ld	(hl),0x06
3528  116E  21 00 00    	ld	hl,_index_player
3529  1171  36 00       	ld	(hl),0x00
3530  1173  21 00 00    	ld	hl,_tile_offset
3531  1176  36 00       	ld	(hl),0x00
3532  1178  21 00 00    	ld	hl,_tile_offset_other_player
3533  117B  36 18       	ld	(hl),0x18
3534  117D  C9          	ret
3535  117E              ;	---------------------------------
3536  117E              ; Function player_set2
3537  117E              ; ---------------------------------
3538  117E              _player_set2:
3539  117E  21 00 00    	ld	hl,_sprite
3540  1181  36 06       	ld	(hl),0x06
3541  1183  21 00 00    	ld	hl,_sprite_other_player
3542  1186  36 07       	ld	(hl),0x07
3543  1188  21 00 00    	ld	hl,_index_player
3544  118B  36 01       	ld	(hl),0x01
3545  118D  21 00 00    	ld	hl,_tile_offset
3546  1190  36 18       	ld	(hl),0x18
3547  1192  21 00 00    	ld	hl,_tile_offset_other_player
3548  1195  36 00       	ld	(hl),0x00
3549  1197  C9          	ret
3550  1198              	SECTION IGNORE
3551  0000              
