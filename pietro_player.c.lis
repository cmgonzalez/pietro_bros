1     0000              MODULE pietro_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9833 (MSVC)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_z80_pop_ei
176   0000              	EXTERN ____sdcc_z80_pop_ei_jp
177   0000              	EXTERN ____sdcc_z80_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _player_init
183   0000              	GLOBAL _player_calc_slide
184   0000              	GLOBAL _player_check_input
185   0000              	GLOBAL _player_collition
186   0000              	GLOBAL _player_collition_check
187   0000              	GLOBAL _player_kill
188   0000              	GLOBAL _player_restart
189   0000              	GLOBAL _player_lost_life
190   0000              	GLOBAL _player_turn
191   0000              	GLOBAL _player_move
192   0000              	GLOBAL _player_move_input
193   0000              	GLOBAL _player_move_horizontal
194   0000              	GLOBAL _player_push_check
195   0000              	GLOBAL _player_push
196   0000              	GLOBAL _player_hit_brick
197   0000              	GLOBAL _player_hit_brick_clear
198   0000              	GLOBAL _player_hit_pow
199   0000              	GLOBAL _player_coin
200   0000              	GLOBAL _player_score_add
201   0000              	GLOBAL _player_set1
202   0000              	GLOBAL _player_set2
203   0000              ;--------------------------------------------------------
204   0000              ; Externals used
205   0000              ;--------------------------------------------------------
206   0000              	GLOBAL _debug3
207   0000              	GLOBAL _debug2
208   0000              	GLOBAL _debug
209   0000              	GLOBAL _zx_print_str
210   0000              	GLOBAL _zx_print_int
211   0000              	GLOBAL _zx_print_chr
212   0000              	GLOBAL _zx_print_bonus_time
213   0000              	GLOBAL _zx_isr
214   0000              	GLOBAL _z80_otdr_callee
215   0000              	GLOBAL _z80_otdr
216   0000              	GLOBAL _z80_otir_callee
217   0000              	GLOBAL _z80_otir
218   0000              	GLOBAL _z80_outp_callee
219   0000              	GLOBAL _z80_outp
220   0000              	GLOBAL _z80_indr_callee
221   0000              	GLOBAL _z80_indr
222   0000              	GLOBAL _z80_inir_callee
223   0000              	GLOBAL _z80_inir
224   0000              	GLOBAL _z80_inp_fastcall
225   0000              	GLOBAL _z80_inp
226   0000              	GLOBAL _z80_set_int_state_fastcall
227   0000              	GLOBAL _z80_set_int_state
228   0000              	GLOBAL _z80_get_int_state
229   0000              	GLOBAL _z80_delay_tstate_fastcall
230   0000              	GLOBAL _z80_delay_tstate
231   0000              	GLOBAL _z80_delay_ms_fastcall
232   0000              	GLOBAL _z80_delay_ms
233   0000              	GLOBAL _im2_remove_generic_callback_callee
234   0000              	GLOBAL _im2_remove_generic_callback
235   0000              	GLOBAL _im2_prepend_generic_callback_callee
236   0000              	GLOBAL _im2_prepend_generic_callback
237   0000              	GLOBAL _im2_append_generic_callback_callee
238   0000              	GLOBAL _im2_append_generic_callback
239   0000              	GLOBAL _im2_create_generic_isr_8080_callee
240   0000              	GLOBAL _im2_create_generic_isr_8080
241   0000              	GLOBAL _im2_create_generic_isr_callee
242   0000              	GLOBAL _im2_create_generic_isr
243   0000              	GLOBAL _im2_install_isr_callee
244   0000              	GLOBAL _im2_install_isr
245   0000              	GLOBAL _im2_init_fastcall
246   0000              	GLOBAL _im2_init
247   0000              	GLOBAL _sound_hit_pow
248   0000              	GLOBAL _sound_hit_brick
249   0000              	GLOBAL _sound_hit_enemy
250   0000              	GLOBAL _sound_kill
251   0000              	GLOBAL _sound_enter_enemy
252   0000              	GLOBAL _sound_coin
253   0000              	GLOBAL _sound_jump
254   0000              	GLOBAL _sound_slide
255   0000              	GLOBAL _spr_draw_clear
256   0000              	GLOBAL _spr_water_splash_draw
257   0000              	GLOBAL _spr_water_splash_clear
258   0000              	GLOBAL _spr_draw_back
259   0000              	GLOBAL _spr_cortina_pipes
260   0000              	GLOBAL _spr_cortina_brick
261   0000              	GLOBAL _spr_brick_anim
262   0000              	GLOBAL _spr_back_fix4
263   0000              	GLOBAL _spr_back_fix3
264   0000              	GLOBAL _spr_back_fix2
265   0000              	GLOBAL _spr_back_fix1
266   0000              	GLOBAL _spr_back_fix
267   0000              	GLOBAL _spr_back_clr
268   0000              	GLOBAL _spr_draw_pow
269   0000              	GLOBAL _spr_tile
270   0000              	GLOBAL _spr_set_fall
271   0000              	GLOBAL _spr_destroy
272   0000              	GLOBAL _spr_check_over
273   0000              	GLOBAL _spr_tile_dir
274   0000              	GLOBAL _spr_anim_kill
275   0000              	GLOBAL _spr_anim_fall
276   0000              	GLOBAL _spr_killed
277   0000              	GLOBAL _spr_redraw
278   0000              	GLOBAL _spr_move_left
279   0000              	GLOBAL _spr_move_right
280   0000              	GLOBAL _spr_move_horizontal
281   0000              	GLOBAL _spr_move_down
282   0000              	GLOBAL _spr_move_up
283   0000              	GLOBAL _spr_chktime
284   0000              	GLOBAL _game_joystick_set_menu
285   0000              	GLOBAL _game_joystick_set
286   0000              	GLOBAL _game_joystick_change
287   0000              	GLOBAL _game_hall_print_p
288   0000              	GLOBAL _game_hall_edit_p
289   0000              	GLOBAL _game_hall_check
290   0000              	GLOBAL _game_hall_enter_phs
291   0000              	GLOBAL _game_print_header
292   0000              	GLOBAL _game_end
293   0000              	GLOBAL _game_hall_enter
294   0000              	GLOBAL _game_hall_of_fame
295   0000              	GLOBAL _game_score_osd
296   0000              	GLOBAL _game_phase_print_score_back
297   0000              	GLOBAL _game_bonus_clock
298   0000              	GLOBAL _game_bonus_summary_player
299   0000              	GLOBAL _game_bonus_summary
300   0000              	GLOBAL _game_check_time
301   0000              	GLOBAL _game_menu_config
302   0000              	GLOBAL _game_menu
303   0000              	GLOBAL _game_rotate_attrib
304   0000              	GLOBAL _game_colour_message
305   0000              	GLOBAL _game_paint_attrib_lin_h
306   0000              	GLOBAL _game_paint_attrib_lin
307   0000              	GLOBAL _game_paint_attrib
308   0000              	GLOBAL _game_menu_paint
309   0000              	GLOBAL _game_menu_top_paint
310   0000              	GLOBAL _game_menu_handle
311   0000              	GLOBAL _game_menu_e
312   0000              	GLOBAL _game_menu_back
313   0000              	GLOBAL _game_print_score
314   0000              	GLOBAL _game_unfreeze_all
315   0000              	GLOBAL _game_freeze_all
316   0000              	GLOBAL _game_freeze
317   0000              	GLOBAL _game_enemy_add_get_index
318   0000              	GLOBAL _game_enemy_add1
319   0000              	GLOBAL _game_enemy_quota
320   0000              	GLOBAL _game_enemy_rnd
321   0000              	GLOBAL _game_enemy_add
322   0000              	GLOBAL _game_check_maze
323   0000              	GLOBAL _game_kill_all_sprites
324   0000              	GLOBAL _game_loop
325   0000              	GLOBAL _game_phase_print
326   0000              	GLOBAL _game_phase_init
327   0000              	GLOBAL _game_phase_calc
328   0000              	GLOBAL _game_start_timer
329   0000              	GLOBAL _game_tick
330   0000              	GLOBAL _game_print_lives
331   0000              	GLOBAL _game_print_footer
332   0000              	GLOBAL _game_calc_index
333   0000              	GLOBAL _game_fill_row
334   0000              	GLOBAL _enemy_kill
335   0000              	GLOBAL _enemy_init
336   0000              	GLOBAL _enemy_walk
337   0000              	GLOBAL _enemy_upgrade
338   0000              	GLOBAL _enemy_evolve
339   0000              	GLOBAL _enemy_standard_hit
340   0000              	GLOBAL _enemy_trip
341   0000              	GLOBAL _enemy_fighterfly
342   0000              	GLOBAL _enemy_fireball_green
343   0000              	GLOBAL _enemy_fireball_red
344   0000              	GLOBAL _enemy_slipice
345   0000              	GLOBAL _enemy_standard
346   0000              	GLOBAL _enemy_turn
347   0000              	GLOBAL _enemy_flip_sidestepper
348   0000              	GLOBAL _enemy_flip
349   0000              	GLOBAL _enemy_flip_change_dir
350   0000              	GLOBAL _enemy_hit
351   0000              	GLOBAL _enemy_collition_check
352   0000              	GLOBAL _enemy_collition
353   0000              	GLOBAL _enemy_coin1
354   0000              	GLOBAL _ay_fx_play
355   0000              	GLOBAL _ay_midi_play
356   0000              	GLOBAL _ay_is_playing
357   0000              	GLOBAL _ay_reset
358   0000              	GLOBAL _test_func
359   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawTW_raw
361   0000              	GLOBAL _NIRVANAP_drawTW_callee
362   0000              	GLOBAL _NIRVANAP_drawTW
363   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
364   0000              	GLOBAL _NIRVANAP_drawW_raw
365   0000              	GLOBAL _NIRVANAP_drawW_callee
366   0000              	GLOBAL _NIRVANAP_drawW
367   0000              	GLOBAL _NIRVANAP_spriteT_callee
368   0000              	GLOBAL _NIRVANAP_spriteT
369   0000              	GLOBAL _NIRVANAP_fillC_callee
370   0000              	GLOBAL _NIRVANAP_fillC
371   0000              	GLOBAL _NIRVANAP_readC_callee
372   0000              	GLOBAL _NIRVANAP_readC
373   0000              	GLOBAL _NIRVANAP_paintC_callee
374   0000              	GLOBAL _NIRVANAP_paintC
375   0000              	GLOBAL _NIRVANAP_printC_callee
376   0000              	GLOBAL _NIRVANAP_printC
377   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
378   0000              	GLOBAL _NIRVANAP_fillT_raw
379   0000              	GLOBAL _NIRVANAP_fillT_callee
380   0000              	GLOBAL _NIRVANAP_fillT
381   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
382   0000              	GLOBAL _NIRVANAP_drawT_raw
383   0000              	GLOBAL _NIRVANAP_drawT_callee
384   0000              	GLOBAL _NIRVANAP_drawT
385   0000              	GLOBAL _NIRVANAP_stop
386   0000              	GLOBAL _NIRVANAP_start
387   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
388   0000              	GLOBAL _intrinsic_swap_word_32
389   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
390   0000              	GLOBAL _intrinsic_swap_endian_32
391   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
392   0000              	GLOBAL _intrinsic_swap_endian_16
393   0000              	GLOBAL _intrinsic_return_de
394   0000              	GLOBAL _intrinsic_return_bc
395   0000              	GLOBAL _intrinsic_exx
396   0000              	GLOBAL _intrinsic_ex_de_hl
397   0000              	GLOBAL _intrinsic_pop_iy
398   0000              	GLOBAL _intrinsic_pop_ix
399   0000              	GLOBAL _intrinsic_pop_hl
400   0000              	GLOBAL _intrinsic_pop_de
401   0000              	GLOBAL _intrinsic_pop_bc
402   0000              	GLOBAL _intrinsic_pop_af
403   0000              	GLOBAL _intrinsic_push_iy
404   0000              	GLOBAL _intrinsic_push_ix
405   0000              	GLOBAL _intrinsic_push_hl
406   0000              	GLOBAL _intrinsic_push_de
407   0000              	GLOBAL _intrinsic_push_bc
408   0000              	GLOBAL _intrinsic_push_af
409   0000              	GLOBAL _intrinsic_nop
410   0000              	GLOBAL _intrinsic_im_2
411   0000              	GLOBAL _intrinsic_im_1
412   0000              	GLOBAL _intrinsic_im_0
413   0000              	GLOBAL _intrinsic_retn
414   0000              	GLOBAL _intrinsic_reti
415   0000              	GLOBAL _intrinsic_halt
416   0000              	GLOBAL _intrinsic_ei
417   0000              	GLOBAL _intrinsic_di
418   0000              	GLOBAL _intrinsic_stub
419   0000              	GLOBAL _ulltoa_callee
420   0000              	GLOBAL _ulltoa
421   0000              	GLOBAL _strtoull_callee
422   0000              	GLOBAL _strtoull
423   0000              	GLOBAL _strtoll_callee
424   0000              	GLOBAL _strtoll
425   0000              	GLOBAL _lltoa_callee
426   0000              	GLOBAL _lltoa
427   0000              	GLOBAL _llabs_callee
428   0000              	GLOBAL _llabs
429   0000              	GLOBAL __lldivu__callee
430   0000              	GLOBAL __lldivu_
431   0000              	GLOBAL __lldiv__callee
432   0000              	GLOBAL __lldiv_
433   0000              	GLOBAL _atoll_callee
434   0000              	GLOBAL _atoll
435   0000              	GLOBAL _realloc_unlocked_callee
436   0000              	GLOBAL _realloc_unlocked
437   0000              	GLOBAL _malloc_unlocked_fastcall
438   0000              	GLOBAL _malloc_unlocked
439   0000              	GLOBAL _free_unlocked_fastcall
440   0000              	GLOBAL _free_unlocked
441   0000              	GLOBAL _calloc_unlocked_callee
442   0000              	GLOBAL _calloc_unlocked
443   0000              	GLOBAL _aligned_alloc_unlocked_callee
444   0000              	GLOBAL _aligned_alloc_unlocked
445   0000              	GLOBAL _realloc_callee
446   0000              	GLOBAL _realloc
447   0000              	GLOBAL _malloc_fastcall
448   0000              	GLOBAL _malloc
449   0000              	GLOBAL _free_fastcall
450   0000              	GLOBAL _free
451   0000              	GLOBAL _calloc_callee
452   0000              	GLOBAL _calloc
453   0000              	GLOBAL _aligned_alloc_callee
454   0000              	GLOBAL _aligned_alloc
455   0000              	GLOBAL _utoa_callee
456   0000              	GLOBAL _utoa
457   0000              	GLOBAL _ultoa_callee
458   0000              	GLOBAL _ultoa
459   0000              	GLOBAL _system_fastcall
460   0000              	GLOBAL _system
461   0000              	GLOBAL _strtoul_callee
462   0000              	GLOBAL _strtoul
463   0000              	GLOBAL _strtol_callee
464   0000              	GLOBAL _strtol
465   0000              	GLOBAL _strtof_callee
466   0000              	GLOBAL _strtof
467   0000              	GLOBAL _strtod_callee
468   0000              	GLOBAL _strtod
469   0000              	GLOBAL _srand_fastcall
470   0000              	GLOBAL _srand
471   0000              	GLOBAL _rand
472   0000              	GLOBAL _quick_exit_fastcall
473   0000              	GLOBAL _quick_exit
474   0000              	GLOBAL _qsort_callee
475   0000              	GLOBAL _qsort
476   0000              	GLOBAL _ltoa_callee
477   0000              	GLOBAL _ltoa
478   0000              	GLOBAL _labs_fastcall
479   0000              	GLOBAL _labs
480   0000              	GLOBAL _itoa_callee
481   0000              	GLOBAL _itoa
482   0000              	GLOBAL _ftoh_callee
483   0000              	GLOBAL _ftoh
484   0000              	GLOBAL _ftog_callee
485   0000              	GLOBAL _ftog
486   0000              	GLOBAL _ftoe_callee
487   0000              	GLOBAL _ftoe
488   0000              	GLOBAL _ftoa_callee
489   0000              	GLOBAL _ftoa
490   0000              	GLOBAL _exit_fastcall
491   0000              	GLOBAL _exit
492   0000              	GLOBAL _dtoh_callee
493   0000              	GLOBAL _dtoh
494   0000              	GLOBAL _dtog_callee
495   0000              	GLOBAL _dtog
496   0000              	GLOBAL _dtoe_callee
497   0000              	GLOBAL _dtoe
498   0000              	GLOBAL _dtoa_callee
499   0000              	GLOBAL _dtoa
500   0000              	GLOBAL _bsearch_callee
501   0000              	GLOBAL _bsearch
502   0000              	GLOBAL _atol_fastcall
503   0000              	GLOBAL _atol
504   0000              	GLOBAL _atoi_fastcall
505   0000              	GLOBAL _atoi
506   0000              	GLOBAL _atof_fastcall
507   0000              	GLOBAL _atof
508   0000              	GLOBAL _atexit_fastcall
509   0000              	GLOBAL _atexit
510   0000              	GLOBAL _at_quick_exit_fastcall
511   0000              	GLOBAL _at_quick_exit
512   0000              	GLOBAL _abs_fastcall
513   0000              	GLOBAL _abs
514   0000              	GLOBAL _abort
515   0000              	GLOBAL __strtou__callee
516   0000              	GLOBAL __strtou_
517   0000              	GLOBAL __strtoi__callee
518   0000              	GLOBAL __strtoi_
519   0000              	GLOBAL __random_uniform_xor_8__fastcall
520   0000              	GLOBAL __random_uniform_xor_8_
521   0000              	GLOBAL __random_uniform_xor_32__fastcall
522   0000              	GLOBAL __random_uniform_xor_32_
523   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
524   0000              	GLOBAL __random_uniform_cmwc_8_
525   0000              	GLOBAL __shellsort__callee
526   0000              	GLOBAL __shellsort_
527   0000              	GLOBAL __quicksort__callee
528   0000              	GLOBAL __quicksort_
529   0000              	GLOBAL __insertion_sort__callee
530   0000              	GLOBAL __insertion_sort_
531   0000              	GLOBAL __ldivu__callee
532   0000              	GLOBAL __ldivu_
533   0000              	GLOBAL __ldiv__callee
534   0000              	GLOBAL __ldiv_
535   0000              	GLOBAL __divu__callee
536   0000              	GLOBAL __divu_
537   0000              	GLOBAL __div__callee
538   0000              	GLOBAL __div_
539   0000              	GLOBAL _in_mouse_kempston_wheel_delta
540   0000              	GLOBAL _in_mouse_kempston_wheel
541   0000              	GLOBAL _in_mouse_kempston_callee
542   0000              	GLOBAL _in_mouse_kempston
543   0000              	GLOBAL _in_mouse_kempston_setpos_callee
544   0000              	GLOBAL _in_mouse_kempston_setpos
545   0000              	GLOBAL _in_mouse_kempston_reset
546   0000              	GLOBAL _in_mouse_kempston_init
547   0000              	GLOBAL _in_mouse_amx_wheel_delta
548   0000              	GLOBAL _in_mouse_amx_wheel
549   0000              	GLOBAL _in_mouse_amx_callee
550   0000              	GLOBAL _in_mouse_amx
551   0000              	GLOBAL _in_mouse_amx_setpos_callee
552   0000              	GLOBAL _in_mouse_amx_setpos
553   0000              	GLOBAL _in_mouse_amx_reset
554   0000              	GLOBAL _in_mouse_amx_init_callee
555   0000              	GLOBAL _in_mouse_amx_init
556   0000              	GLOBAL _in_stick_sinclair2
557   0000              	GLOBAL _in_stick_sinclair1
558   0000              	GLOBAL _in_stick_kempston
559   0000              	GLOBAL _in_stick_fuller
560   0000              	GLOBAL _in_stick_cursor
561   0000              	GLOBAL _in_stick_keyboard_fastcall
562   0000              	GLOBAL _in_stick_keyboard
563   0000              	GLOBAL _in_wait_nokey
564   0000              	GLOBAL _in_wait_key
565   0000              	GLOBAL _in_test_key
566   0000              	GLOBAL _in_pause_fastcall
567   0000              	GLOBAL _in_pause
568   0000              	GLOBAL _in_key_scancode_fastcall
569   0000              	GLOBAL _in_key_scancode
570   0000              	GLOBAL _in_key_pressed_fastcall
571   0000              	GLOBAL _in_key_pressed
572   0000              	GLOBAL _in_inkey
573   0000              	GLOBAL _zx_pattern_fill_callee
574   0000              	GLOBAL _zx_pattern_fill
575   0000              	GLOBAL _zx_saddrpup_fastcall
576   0000              	GLOBAL _zx_saddrpup
577   0000              	GLOBAL _zx_saddrpright_callee
578   0000              	GLOBAL _zx_saddrpright
579   0000              	GLOBAL _zx_saddrpleft_callee
580   0000              	GLOBAL _zx_saddrpleft
581   0000              	GLOBAL _zx_saddrpdown_fastcall
582   0000              	GLOBAL _zx_saddrpdown
583   0000              	GLOBAL _zx_saddrcup_fastcall
584   0000              	GLOBAL _zx_saddrcup
585   0000              	GLOBAL _zx_saddrcright_fastcall
586   0000              	GLOBAL _zx_saddrcright
587   0000              	GLOBAL _zx_saddrcleft_fastcall
588   0000              	GLOBAL _zx_saddrcleft
589   0000              	GLOBAL _zx_saddrcdown_fastcall
590   0000              	GLOBAL _zx_saddrcdown
591   0000              	GLOBAL _zx_saddr2py_fastcall
592   0000              	GLOBAL _zx_saddr2py
593   0000              	GLOBAL _zx_saddr2px_fastcall
594   0000              	GLOBAL _zx_saddr2px
595   0000              	GLOBAL _zx_saddr2cy_fastcall
596   0000              	GLOBAL _zx_saddr2cy
597   0000              	GLOBAL _zx_saddr2cx_fastcall
598   0000              	GLOBAL _zx_saddr2cx
599   0000              	GLOBAL _zx_saddr2aaddr_fastcall
600   0000              	GLOBAL _zx_saddr2aaddr
601   0000              	GLOBAL _zx_py2saddr_fastcall
602   0000              	GLOBAL _zx_py2saddr
603   0000              	GLOBAL _zx_py2aaddr_fastcall
604   0000              	GLOBAL _zx_py2aaddr
605   0000              	GLOBAL _zx_pxy2saddr_callee
606   0000              	GLOBAL _zx_pxy2saddr
607   0000              	GLOBAL _zx_pxy2aaddr_callee
608   0000              	GLOBAL _zx_pxy2aaddr
609   0000              	GLOBAL _zx_px2bitmask_fastcall
610   0000              	GLOBAL _zx_px2bitmask
611   0000              	GLOBAL _zx_cyx2saddr_callee
612   0000              	GLOBAL _zx_cyx2saddr
613   0000              	GLOBAL _zx_cyx2aaddr_callee
614   0000              	GLOBAL _zx_cyx2aaddr
615   0000              	GLOBAL _zx_cy2saddr_fastcall
616   0000              	GLOBAL _zx_cy2saddr
617   0000              	GLOBAL _zx_cy2aaddr_fastcall
618   0000              	GLOBAL _zx_cy2aaddr
619   0000              	GLOBAL _zx_bitmask2px_fastcall
620   0000              	GLOBAL _zx_bitmask2px
621   0000              	GLOBAL _zx_aaddrcup_fastcall
622   0000              	GLOBAL _zx_aaddrcup
623   0000              	GLOBAL _zx_aaddrcright_fastcall
624   0000              	GLOBAL _zx_aaddrcright
625   0000              	GLOBAL _zx_aaddrcleft_fastcall
626   0000              	GLOBAL _zx_aaddrcleft
627   0000              	GLOBAL _zx_aaddrcdown_fastcall
628   0000              	GLOBAL _zx_aaddrcdown
629   0000              	GLOBAL _zx_aaddr2saddr_fastcall
630   0000              	GLOBAL _zx_aaddr2saddr
631   0000              	GLOBAL _zx_aaddr2py_fastcall
632   0000              	GLOBAL _zx_aaddr2py
633   0000              	GLOBAL _zx_aaddr2px_fastcall
634   0000              	GLOBAL _zx_aaddr2px
635   0000              	GLOBAL _zx_aaddr2cy_fastcall
636   0000              	GLOBAL _zx_aaddr2cy
637   0000              	GLOBAL _zx_aaddr2cx_fastcall
638   0000              	GLOBAL _zx_aaddr2cx
639   0000              	GLOBAL _zx_scroll_wc_up_callee
640   0000              	GLOBAL _zx_scroll_wc_up
641   0000              	GLOBAL _zx_scroll_up_callee
642   0000              	GLOBAL _zx_scroll_up
643   0000              	GLOBAL _zx_cls_wc_callee
644   0000              	GLOBAL _zx_cls_wc
645   0000              	GLOBAL _zx_cls_fastcall
646   0000              	GLOBAL _zx_cls
647   0000              	GLOBAL _zx_border_fastcall
648   0000              	GLOBAL _zx_border
649   0000              	GLOBAL _ay_effect_20
650   0000              	GLOBAL _ay_effect_19
651   0000              	GLOBAL _ay_effect_18
652   0000              	GLOBAL _ay_effect_17
653   0000              	GLOBAL _ay_effect_16
654   0000              	GLOBAL _ay_effect_15
655   0000              	GLOBAL _ay_effect_14
656   0000              	GLOBAL _ay_effect_13
657   0000              	GLOBAL _ay_effect_12
658   0000              	GLOBAL _ay_effect_11
659   0000              	GLOBAL _ay_effect_10
660   0000              	GLOBAL _ay_effect_09
661   0000              	GLOBAL _ay_effect_08
662   0000              	GLOBAL _ay_effect_07
663   0000              	GLOBAL _ay_effect_06
664   0000              	GLOBAL _ay_effect_05
665   0000              	GLOBAL _ay_effect_04
666   0000              	GLOBAL _ay_effect_03
667   0000              	GLOBAL _ay_effect_02
668   0000              	GLOBAL _ay_effect_01
669   0000              	GLOBAL _pb_midi_phase_1
670   0000              	GLOBAL _pb_midi_title
671   0000              	GLOBAL _joynames
672   0000              	GLOBAL _initials
673   0000              	GLOBAL _hof
674   0000              	GLOBAL _score_osd_tile
675   0000              	GLOBAL _score_osd_time
676   0000              	GLOBAL _score_osd_col
677   0000              	GLOBAL _score_osd_lin
678   0000              	GLOBAL _phase_bonus_total
679   0000              	GLOBAL _phase_angry
680   0000              	GLOBAL _phase_curr
681   0000              	GLOBAL _phase_end
682   0000              	GLOBAL _phase_coins
683   0000              	GLOBAL _phase_pop
684   0000              	GLOBAL _phase_tot
685   0000              	GLOBAL _phase_left
686   0000              	GLOBAL _phase_quota
687   0000              	GLOBAL _phases
688   0000              	GLOBAL _spr_idx
689   0000              	GLOBAL _lvl_1
690   0000              	GLOBAL _sprite_speed_alt
691   0000              	GLOBAL _sprite_speed
692   0000              	GLOBAL _screen_ink
693   0000              	GLOBAL _screen_paper
694   0000              	GLOBAL _game_menu_sel
695   0000              	GLOBAL _game_type
696   0000              	GLOBAL _game_bonus
697   0000              	GLOBAL _spr_water_time
698   0000              	GLOBAL _spr_water_clear
699   0000              	GLOBAL _game_time_fireball_start
700   0000              	GLOBAL _game_time_flipped
701   0000              	GLOBAL _game_score_top
702   0000              	GLOBAL _game_lives_update
703   0000              	GLOBAL _game_lives
704   0000              	GLOBAL _game_over
705   0000              	GLOBAL _game_sound
706   0000              	GLOBAL _game_two_player
707   0000              	GLOBAL _game_brick_tile
708   0000              	GLOBAL _game_pow
709   0000              	GLOBAL _spr_count
710   0000              	GLOBAL _frame_loop_count
711   0000              	GLOBAL _col_time
712   0000              	GLOBAL _frame_time
713   0000              	GLOBAL _entry_time
714   0000              	GLOBAL _curr_time
715   0000              	GLOBAL _s_state
716   0000              	GLOBAL _attrib_hl
717   0000              	GLOBAL _attrib
718   0000              	GLOBAL _zx_val_asm
719   0000              	GLOBAL _enemies
720   0000              	GLOBAL _tmp_ui
721   0000              	GLOBAL _tmp_sc
722   0000              	GLOBAL _tmp_uc
723   0000              	GLOBAL _tmp1
724   0000              	GLOBAL _tmp0
725   0000              	GLOBAL _tmp
726   0000              	GLOBAL _index_d
727   0000              	GLOBAL _index3
728   0000              	GLOBAL _index2
729   0000              	GLOBAL _index1
730   0000              	GLOBAL _loop_count
731   0000              	GLOBAL _sprite_lin_inc_mul
732   0000              	GLOBAL _s_col1
733   0000              	GLOBAL _s_col0
734   0000              	GLOBAL _s_lin1
735   0000              	GLOBAL _s_lin0
736   0000              	GLOBAL _s_tile1
737   0000              	GLOBAL _s_tile0
738   0000              	GLOBAL _hit_count
739   0000              	GLOBAL _tile_offset_other_player
740   0000              	GLOBAL _tile_offset
741   0000              	GLOBAL _index_player
742   0000              	GLOBAL _sprite_other_player
743   0000              	GLOBAL _sprite
744   0000              	GLOBAL _player_joy
745   0000              	GLOBAL _player_next_extra
746   0000              	GLOBAL _player_score
747   0000              	GLOBAL _last_time
748   0000              	GLOBAL _sliding
749   0000              	GLOBAL _spr_timer_c
750   0000              	GLOBAL _spr_timer
751   0000              	GLOBAL _jump_lin
752   0000              	GLOBAL _player_jump_c
753   0000              	GLOBAL _hit_col
754   0000              	GLOBAL _hit_lin
755   0000              	GLOBAL _colint
756   0000              	GLOBAL _col
757   0000              	GLOBAL _lin
758   0000              	GLOBAL _tile
759   0000              	GLOBAL _state_a
760   0000              	GLOBAL _state
761   0000              	GLOBAL _class
762   0000              	GLOBAL _tbuffer
763   0000              	GLOBAL _dirs
764   0000              	GLOBAL _k2
765   0000              	GLOBAL _k1
766   0000              	GLOBAL _joyfunc2
767   0000              	GLOBAL _joyfunc1
768   0000              	GLOBAL _btiles
769   0000              	GLOBAL _spec128
770   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
771   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
772   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
773   0000              	GLOBAL _NIRVANAP_ISR_HOOK
774   0000              	GLOBAL _control_method
775   0000              	GLOBAL _hall_valids
776   0000              ;--------------------------------------------------------
777   0000              ; special function registers
778   0000              ;--------------------------------------------------------
779   0000              ;--------------------------------------------------------
780   0000              ; ram data
781   0000              ;--------------------------------------------------------
782   0000              	SECTION bss_compiler
783   0000              ;--------------------------------------------------------
784   0000              ; ram data
785   0000              ;--------------------------------------------------------
786   0000              
787   0000              IF 0
788   0000              
789   0000              ; .area _INITIALIZED removed by z88dk
790   0000              
791   0000              
792   0000              ENDIF
793   0000              
794   0000              ;--------------------------------------------------------
795   0000              ; absolute external ram data
796   0000              ;--------------------------------------------------------
797   0000              	SECTION IGNORE
798   0000              ;--------------------------------------------------------
799   0000              ; global & static initialisations
800   0000              ;--------------------------------------------------------
801   0000              	SECTION code_crt_init
802   0000              ;--------------------------------------------------------
803   0000              ; Home
804   0000              ;--------------------------------------------------------
805   0000              	SECTION IGNORE
806   0000              ;--------------------------------------------------------
807   0000              ; code
808   0000              ;--------------------------------------------------------
809   0000              	SECTION code_compiler
810   0000              ;	---------------------------------
811   0000              ; Function player_init
812   0000              ; ---------------------------------
813   0000              _player_init:
814   0000  CD 00 00    	call	___sdcc_enter_ix
815   0003  F5          	push	af
816   0004  3E 00       	ld	a,+((_class) & 0xFF)
817   0006  DD 86 04    	add	a,(ix+4)
818   0009  4F          	ld	c,a
819   000A  3E 00       	ld	a,+((_class) / 256)
820   000C  CE 00       	adc	a,0x00
821   000E  47          	ld	b,a
822   000F  3E 10       	ld	a,0x10
823   0011  02          	ld	(bc),a
824   0012  3E 00       	ld	a,+((_tile) & 0xFF)
825   0014  DD 86 04    	add	a,(ix+4)
826   0017  4F          	ld	c,a
827   0018  3E 00       	ld	a,+((_tile) / 256)
828   001A  CE 00       	adc	a,0x00
829   001C  47          	ld	b,a
830   001D  DD 7E 07    	ld	a,(ix+7)
831   0020  02          	ld	(bc),a
832   0021  3E 00       	ld	a,+((_lin) & 0xFF)
833   0023  DD 86 04    	add	a,(ix+4)
834   0026  4F          	ld	c,a
835   0027  3E 00       	ld	a,+((_lin) / 256)
836   0029  CE 00       	adc	a,0x00
837   002B  47          	ld	b,a
838   002C  DD 7E 05    	ld	a,(ix+5)
839   002F  02          	ld	(bc),a
840   0030  3E 00       	ld	a,+((_col) & 0xFF)
841   0032  DD 86 04    	add	a,(ix+4)
842   0035  4F          	ld	c,a
843   0036  3E 00       	ld	a,+((_col) / 256)
844   0038  CE 00       	adc	a,0x00
845   003A  47          	ld	b,a
846   003B  DD 7E 06    	ld	a,(ix+6)
847   003E  02          	ld	(bc),a
848   003F  3E 00       	ld	a,+((_colint) & 0xFF)
849   0041  DD 86 04    	add	a,(ix+4)
850   0044  4F          	ld	c,a
851   0045  3E 00       	ld	a,+((_colint) / 256)
852   0047  CE 00       	adc	a,0x00
853   0049  47          	ld	b,a
854   004A  AF          	xor	a, a
855   004B  02          	ld	(bc),a
856   004C  3E 00       	ld	a,+((_state) & 0xFF)
857   004E  DD 86 04    	add	a,(ix+4)
858   0051  4F          	ld	c,a
859   0052  3E 00       	ld	a,+((_state) / 256)
860   0054  CE 00       	adc	a,0x00
861   0056  47          	ld	b,a
862   0057  AF          	xor	a, a
863   0058  02          	ld	(bc),a
864   0059  3E 00       	ld	a,+((_state_a) & 0xFF)
865   005B  DD 86 04    	add	a,(ix+4)
866   005E  4F          	ld	c,a
867   005F  3E 00       	ld	a,+((_state_a) / 256)
868   0061  CE 00       	adc	a,0x00
869   0063  47          	ld	b,a
870   0064  AF          	xor	a, a
871   0065  02          	ld	(bc),a
872   0066  3E 00       	ld	a,+((_jump_lin) & 0xFF)
873   0068  DD 86 04    	add	a,(ix+4)
874   006B  5F          	ld	e,a
875   006C  3E 00       	ld	a,+((_jump_lin) / 256)
876   006E  CE 00       	adc	a,0x00
877   0070  57          	ld	d,a
878   0071  DD 7E 05    	ld	a,(ix+5)
879   0074  12          	ld	(de),a
880   0075  DD 5E 04    	ld	e,(ix+4)
881   0078  16 00       	ld	d,0x00
882   007A  CB 23       	sla	e
883   007C  CB 12       	rl	d
884   007E  21 00 00    	ld	hl,_last_time
885   0081  19          	add	hl,de
886   0082  E3          	ex	(sp), hl
887   0083  E1          	pop	hl
888   0084  ED 5B 00 00 	ld	de,(_curr_time)
889   0088  E5          	push	hl
890   0089  73          	ld	(hl),e
891   008A  23          	inc	hl
892   008B  72          	ld	(hl),d
893   008C  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
894   008E  DD 86 04    	add	a,(ix+4)
895   0091  5F          	ld	e,a
896   0092  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
897   0094  CE 00       	adc	a,0x00
898   0096  57          	ld	d,a
899   0097  AF          	xor	a, a
900   0098  12          	ld	(de),a
901   0099  0A          	ld	a,(bc)
902   009A  CB C7       	set	0, a
903   009C  02          	ld	(bc),a
904   009D  5F          	ld	e,a
905   009E  DD 7E 04    	ld	a,(ix+4)
906   00A1  D6 07       	sub	a,0x07
907   00A3  20 0B       	jr	NZ,l_player_init_00102
908   00A5  21 00 00    	ld	hl,_index_player
909   00A8  36 00       	ld	(hl),0x00
910   00AA  7B          	ld	a,e
911   00AB  CB E7       	set	4, a
912   00AD  02          	ld	(bc),a
913   00AE  18 09       	jr	l_player_init_00103
914   00B0              l_player_init_00102:
915   00B0  21 00 00    	ld	hl,_index_player
916   00B3  36 01       	ld	(hl),0x01
917   00B5  7B          	ld	a,e
918   00B6  CB DF       	set	3, a
919   00B8  02          	ld	(bc),a
920   00B9              l_player_init_00103:
921   00B9  3E 00       	ld	a,+((_hit_col) & 0xFF)
922   00BB  21 00 00    	ld	hl,_index_player
923   00BE  86          	add	a, (hl)
924   00BF  4F          	ld	c,a
925   00C0  3E 00       	ld	a,+((_hit_col) / 256)
926   00C2  CE 00       	adc	a,0x00
927   00C4  47          	ld	b,a
928   00C5  AF          	xor	a, a
929   00C6  02          	ld	(bc),a
930   00C7  3E 00       	ld	a,+((_hit_lin) & 0xFF)
931   00C9  86          	add	a, (hl)
932   00CA  4F          	ld	c,a
933   00CB  3E 00       	ld	a,+((_hit_lin) / 256)
934   00CD  CE 00       	adc	a,0x00
935   00CF  47          	ld	b,a
936   00D0  AF          	xor	a, a
937   00D1  02          	ld	(bc),a
938   00D2  3E 00       	ld	a,+((_sliding) & 0xFF)
939   00D4  86          	add	a, (hl)
940   00D5  4F          	ld	c,a
941   00D6  3E 00       	ld	a,+((_sliding) / 256)
942   00D8  CE 00       	adc	a,0x00
943   00DA  47          	ld	b,a
944   00DB  3E 04       	ld	a,0x04
945   00DD  02          	ld	(bc),a
946   00DE  DD 66 06    	ld	h,(ix+6)
947   00E1  DD 6E 05    	ld	l,(ix+5)
948   00E4  E5          	push	hl
949   00E5  DD 66 07    	ld	h,(ix+7)
950   00E8  DD 6E 04    	ld	l,(ix+4)
951   00EB  E5          	push	hl
952   00EC  CD 00 00    	call	_NIRVANAP_spriteT_callee
953   00EF  F1          	pop	af
954   00F0  DD E1       	pop	ix
955   00F2  C9          	ret
956   00F3              	SECTION code_compiler
957   00F3              ;	---------------------------------
958   00F3              ; Function player_calc_slide
959   00F3              ; ---------------------------------
960   00F3              _player_calc_slide:
961   00F3  CD 00 00    	call	___sdcc_enter_ix
962   00F6  DD 7E 04    	ld	a,(ix+4)
963   00F9  C6 10       	add	a,0x10
964   00FB  47          	ld	b,a
965   00FC  DD 7E 05    	ld	a,(ix+5)
966   00FF  48          	ld	c,b
967   0100  47          	ld	b,a
968   0101  C5          	push	bc
969   0102  CD 00 00    	call	_game_calc_index
970   0105  F1          	pop	af
971   0106  22 00 00    	ld	(_index1),hl
972   0109  01 00 00    	ld	bc,_lvl_1
973   010C  09          	add	hl,bc
974   010D  7E          	ld	a,(hl)
975   010E  D6 14       	sub	a,0x14
976   0110  20 10       	jr	NZ,l_player_calc_slide_00102
977   0112  3A 00 00    	ld	a,(_index_player)
978   0115  C6 00       	add	a,+((_sliding) & 0xFF)
979   0117  4F          	ld	c,a
980   0118  3E 00       	ld	a,+((_sliding) / 256)
981   011A  CE 00       	adc	a,0x00
982   011C  47          	ld	b,a
983   011D  3E 10       	ld	a,0x10
984   011F  02          	ld	(bc),a
985   0120  18 0E       	jr	l_player_calc_slide_00104
986   0122              l_player_calc_slide_00102:
987   0122  3A 00 00    	ld	a,(_index_player)
988   0125  C6 00       	add	a,+((_sliding) & 0xFF)
989   0127  4F          	ld	c,a
990   0128  3E 00       	ld	a,+((_sliding) / 256)
991   012A  CE 00       	adc	a,0x00
992   012C  47          	ld	b,a
993   012D  3E 04       	ld	a,0x04
994   012F  02          	ld	(bc),a
995   0130              l_player_calc_slide_00104:
996   0130  DD E1       	pop	ix
997   0132  C9          	ret
998   0133              	SECTION code_compiler
999   0133              ;	---------------------------------
1000  0133              ; Function player_check_input
1001  0133              ; ---------------------------------
1002  0133              _player_check_input:
1003  0133  21 00 00    	ld	hl,_dirs
1004  0136  7E          	ld	a,(hl)
1005  0137  CB 07       	rlc	a
1006  0139  E6 01       	and	a,0x01
1007  013B  CB 47       	bit	0,a
1008  013D  20 0F       	jr	NZ,l_player_check_input_00104
1009  013F  7E          	ld	a,(hl)
1010  0140  E6 04       	and	a,0x04
1011  0142  20 0A       	jr	NZ,l_player_check_input_00104
1012  0144  3A 00 00    	ld	a,(_dirs)
1013  0147  E6 08       	and	a,0x08
1014  0149  20 03       	jr	NZ,l_player_check_input_00104
1015  014B  6F          	ld	l,a
1016  014C  18 02       	jr	l_player_check_input_00105
1017  014E              l_player_check_input_00104:
1018  014E  2E 01       	ld	l,0x01
1019  0150              l_player_check_input_00105:
1020  0150  C9          	ret
1021  0151              	SECTION code_compiler
1022  0151              ;	---------------------------------
1023  0151              ; Function player_collition
1024  0151              ; ---------------------------------
1025  0151              _player_collition:
1026  0151  3A 00 00    	ld	a,(_sprite)
1027  0154  C6 00       	add	a,+((_class) & 0xFF)
1028  0156  4F          	ld	c,a
1029  0157  3E 00       	ld	a,+((_class) / 256)
1030  0159  CE 00       	adc	a,0x00
1031  015B  47          	ld	b,a
1032  015C  0A          	ld	a,(bc)
1033  015D  B7          	or	a,a
1034  015E  20 04       	jr	NZ,l_player_collition_00102
1035  0160  6F          	ld	l,a
1036  0161  C3 DE 01    	jp	l_player_collition_00121
1037  0164              l_player_collition_00102:
1038  0164  3A 00 00    	ld	a,(_sprite)
1039  0167  C6 00       	add	a,+((_state) & 0xFF)
1040  0169  4F          	ld	c,a
1041  016A  3E 00       	ld	a,+((_state) / 256)
1042  016C  CE 00       	adc	a,0x00
1043  016E  47          	ld	b,a
1044  016F  0A          	ld	a,(bc)
1045  0170  CB 67       	bit	4, a
1046  0172  28 04       	jr	Z,l_player_collition_00104
1047  0174  2E 00       	ld	l,0x00
1048  0176  18 66       	jr	l_player_collition_00121
1049  0178              l_player_collition_00104:
1050  0178  CB 6F       	bit	5, a
1051  017A  28 04       	jr	Z,l_player_collition_00106
1052  017C  2E 00       	ld	l,0x00
1053  017E  18 5E       	jr	l_player_collition_00121
1054  0180              l_player_collition_00106:
1055  0180  21 00 00    	ld	hl,_hit_count
1056  0183  36 00       	ld	(hl),0x00
1057  0185  21 00 00    	ld	hl,_enemies
1058  0188  36 00       	ld	(hl),0x00
1059  018A              l_player_collition_00119:
1060  018A  CD DF 01    	call	_player_collition_check
1061  018D  7D          	ld	a,l
1062  018E  B7          	or	a, a
1063  018F  28 3E       	jr	Z,l_player_collition_00120
1064  0191  3A 00 00    	ld	a,(_enemies)
1065  0194  C6 00       	add	a,+((_state) & 0xFF)
1066  0196  4F          	ld	c,a
1067  0197  3E 00       	ld	a,+((_state) / 256)
1068  0199  CE 00       	adc	a,0x00
1069  019B  47          	ld	b,a
1070  019C  0A          	ld	a,(bc)
1071  019D  CB 67       	bit	4, a
1072  019F  28 08       	jr	Z,l_player_collition_00114
1073  01A1  2A 00 00    	ld	hl,(_enemies)
1074  01A4  CD 00 00    	call	_enemy_kill
1075  01A7  18 26       	jr	l_player_collition_00120
1076  01A9              l_player_collition_00114:
1077  01A9  2A 00 00    	ld	hl,(_enemies)
1078  01AC  26 00       	ld	h,0x00
1079  01AE  01 00 00    	ld	bc,_class
1080  01B1  09          	add	hl,bc
1081  01B2  7E          	ld	a,(hl)
1082  01B3  4F          	ld	c,a
1083  01B4  D6 08       	sub	a,0x08
1084  01B6  28 05       	jr	Z,l_player_collition_00109
1085  01B8  79          	ld	a,c
1086  01B9  D6 0C       	sub	a,0x0c
1087  01BB  20 0C       	jr	NZ,l_player_collition_00110
1088  01BD              l_player_collition_00109:
1089  01BD  2A 00 00    	ld	hl,(_enemies)
1090  01C0  26 50       	ld	h,0x50
1091  01C2  E5          	push	hl
1092  01C3  CD 52 0F    	call	_player_coin
1093  01C6  F1          	pop	af
1094  01C7  18 06       	jr	l_player_collition_00120
1095  01C9              l_player_collition_00110:
1096  01C9  21 00 00    	ld	hl,_ay_effect_18
1097  01CC  CD 00 00    	call	_ay_fx_play
1098  01CF              l_player_collition_00120:
1099  01CF  21 00 00    	ld	hl,_enemies
1100  01D2  7E          	ld	a,(hl)
1101  01D3  3C          	inc	a
1102  01D4  77          	ld	(hl),a
1103  01D5  D6 06       	sub	a,0x06
1104  01D7  38 B1       	jr	C,l_player_collition_00119
1105  01D9  CD 00 00    	call	_game_score_osd
1106  01DC  2E 00       	ld	l,0x00
1107  01DE              l_player_collition_00121:
1108  01DE  C9          	ret
1109  01DF              	SECTION code_compiler
1110  01DF              ;	---------------------------------
1111  01DF              ; Function player_collition_check
1112  01DF              ; ---------------------------------
1113  01DF              _player_collition_check:
1114  01DF  CD 00 00    	call	___sdcc_enter_ix
1115  01E2  3B          	dec	sp
1116  01E3  3A 00 00    	ld	a,(_enemies)
1117  01E6  C6 00       	add	a,+((_class) & 0xFF)
1118  01E8  4F          	ld	c,a
1119  01E9  3E 00       	ld	a,+((_class) / 256)
1120  01EB  CE 00       	adc	a,0x00
1121  01ED  47          	ld	b,a
1122  01EE  0A          	ld	a,(bc)
1123  01EF  B7          	or	a,a
1124  01F0  20 04       	jr	NZ,l_player_collition_check_00102
1125  01F2  6F          	ld	l,a
1126  01F3  C3 50 03    	jp	l_player_collition_check_00125
1127  01F6              l_player_collition_check_00102:
1128  01F6  3A 00 00    	ld	a,(_enemies)
1129  01F9  C6 00       	add	a,+((_state) & 0xFF)
1130  01FB  4F          	ld	c,a
1131  01FC  3E 00       	ld	a,+((_state) / 256)
1132  01FE  CE 00       	adc	a,0x00
1133  0200  47          	ld	b,a
1134  0201  0A          	ld	a,(bc)
1135  0202  CB 6F       	bit	5, a
1136  0204  28 05       	jr	Z,l_player_collition_check_00104
1137  0206  2E 00       	ld	l,0x00
1138  0208  C3 50 03    	jp	l_player_collition_check_00125
1139  020B              l_player_collition_check_00104:
1140  020B  11 00 00    	ld	de,_lin+0
1141  020E  7B          	ld	a,e
1142  020F  21 00 00    	ld	hl,_enemies
1143  0212  86          	add	a, (hl)
1144  0213  4F          	ld	c,a
1145  0214  7A          	ld	a,d
1146  0215  CE 00       	adc	a,0x00
1147  0217  47          	ld	b,a
1148  0218  0A          	ld	a,(bc)
1149  0219  4F          	ld	c,a
1150  021A  06 00       	ld	b,0x00
1151  021C  7B          	ld	a,e
1152  021D  21 00 00    	ld	hl,_sprite
1153  0220  86          	add	a, (hl)
1154  0221  5F          	ld	e,a
1155  0222  7A          	ld	a,d
1156  0223  CE 00       	adc	a,0x00
1157  0225  57          	ld	d,a
1158  0226  1A          	ld	a,(de)
1159  0227  5F          	ld	e,a
1160  0228  16 00       	ld	d,0x00
1161  022A  79          	ld	a,c
1162  022B  93          	sub	a, e
1163  022C  6F          	ld	l,a
1164  022D  78          	ld	a,b
1165  022E  9A          	sbc	a, d
1166  022F  67          	ld	h,a
1167  0230  CD 00 00    	call	_abs_fastcall
1168  0233  22 00 00    	ld	(_tmp_ui),hl
1169  0236  3A 00 00    	ld	a,(_sprite)
1170  0239  C6 00       	add	a,+((_state) & 0xFF)
1171  023B  4F          	ld	c,a
1172  023C  3E 00       	ld	a,+((_state) / 256)
1173  023E  CE 00       	adc	a,0x00
1174  0240  47          	ld	b,a
1175  0241  0A          	ld	a,(bc)
1176  0242  CB 47       	bit	0, a
1177  0244  20 04       	jr	NZ,l_player_collition_check_00109
1178  0246  CB 4F       	bit	1, a
1179  0248  28 11       	jr	Z,l_player_collition_check_00110
1180  024A              l_player_collition_check_00109:
1181  024A  3E 10       	ld	a,0x10
1182  024C  21 00 00    	ld	hl,_tmp_ui
1183  024F  BE          	cp	a, (hl)
1184  0250  3E 00       	ld	a,0x00
1185  0252  23          	inc	hl
1186  0253  9E          	sbc	a, (hl)
1187  0254  30 16       	jr	NC,l_player_collition_check_00111
1188  0256  2E 00       	ld	l,0x00
1189  0258  C3 50 03    	jp	l_player_collition_check_00125
1190  025B              l_player_collition_check_00110:
1191  025B  3E 0E       	ld	a,0x0e
1192  025D  21 00 00    	ld	hl,_tmp_ui
1193  0260  BE          	cp	a, (hl)
1194  0261  3E 00       	ld	a,0x00
1195  0263  23          	inc	hl
1196  0264  9E          	sbc	a, (hl)
1197  0265  30 05       	jr	NC,l_player_collition_check_00111
1198  0267  2E 00       	ld	l,0x00
1199  0269  C3 50 03    	jp	l_player_collition_check_00125
1200  026C              l_player_collition_check_00111:
1201  026C  2A 00 00    	ld	hl,(_enemies)
1202  026F  26 00       	ld	h,0x00
1203  0271  01 00 00    	ld	bc,_col
1204  0274  09          	add	hl,bc
1205  0275  4E          	ld	c,(hl)
1206  0276  06 00       	ld	b,0x00
1207  0278  2A 00 00    	ld	hl,(_sprite)
1208  027B  60          	ld	h,b
1209  027C  11 00 00    	ld	de,_col
1210  027F  19          	add	hl,de
1211  0280  5E          	ld	e, (hl)
1212  0281  16 00       	ld	d,0x00
1213  0283  79          	ld	a,c
1214  0284  93          	sub	a, e
1215  0285  6F          	ld	l,a
1216  0286  78          	ld	a,b
1217  0287  9A          	sbc	a, d
1218  0288  67          	ld	h,a
1219  0289  CD 00 00    	call	_abs_fastcall
1220  028C  22 00 00    	ld	(_tmp_ui),hl
1221  028F  2A 00 00    	ld	hl,(_enemies)
1222  0292  26 00       	ld	h,0x00
1223  0294  01 00 00    	ld	bc,_col
1224  0297  09          	add	hl,bc
1225  0298  7E          	ld	a,(hl)
1226  0299  4F          	ld	c,a
1227  029A  87          	add	a, a
1228  029B  81          	add	a, c
1229  029C  32 00 00    	ld	(_tmp0),a
1230  029F  4F          	ld	c,a
1231  02A0  2A 00 00    	ld	hl,(_sprite)
1232  02A3  26 00       	ld	h,0x00
1233  02A5  11 00 00    	ld	de,_col
1234  02A8  19          	add	hl,de
1235  02A9  7E          	ld	a,(hl)
1236  02AA  5F          	ld	e,a
1237  02AB  87          	add	a, a
1238  02AC  83          	add	a, e
1239  02AD  32 00 00    	ld	(_tmp1),a
1240  02B0  47          	ld	b,a
1241  02B1  3E 02       	ld	a,0x02
1242  02B3  21 00 00    	ld	hl,_tmp_ui
1243  02B6  BE          	cp	a, (hl)
1244  02B7  3E 00       	ld	a,0x00
1245  02B9  23          	inc	hl
1246  02BA  9E          	sbc	a, (hl)
1247  02BB  30 05       	jr	NC,l_player_collition_check_00114
1248  02BD  2E 00       	ld	l,0x00
1249  02BF  C3 50 03    	jp	l_player_collition_check_00125
1250  02C2              l_player_collition_check_00114:
1251  02C2  2A 00 00    	ld	hl,(_enemies)
1252  02C5  26 00       	ld	h,0x00
1253  02C7  11 00 00    	ld	de,_state
1254  02CA  19          	add	hl,de
1255  02CB  7E          	ld	a,(hl)
1256  02CC  DD 77 FF    	ld	(ix-1),a
1257  02CF  CB 57       	bit	2,a
1258  02D1  28 0E       	jr	Z,l_player_collition_check_00116
1259  02D3  2A 00 00    	ld	hl,(_enemies)
1260  02D6  26 00       	ld	h,0x00
1261  02D8  11 00 00    	ld	de,_colint
1262  02DB  19          	add	hl,de
1263  02DC  7E          	ld	a,(hl)
1264  02DD  81          	add	a,c
1265  02DE  32 00 00    	ld	(_tmp0),a
1266  02E1              l_player_collition_check_00116:
1267  02E1  DD CB FF 5E 	bit	3,(ix-1)
1268  02E5  28 0F       	jr	Z,l_player_collition_check_00118
1269  02E7  2A 00 00    	ld	hl,(_enemies)
1270  02EA  26 00       	ld	h,0x00
1271  02EC  11 00 00    	ld	de,_colint
1272  02EF  19          	add	hl,de
1273  02F0  5E          	ld	e, (hl)
1274  02F1  79          	ld	a,c
1275  02F2  93          	sub	a, e
1276  02F3  32 00 00    	ld	(_tmp0),a
1277  02F6              l_player_collition_check_00118:
1278  02F6  2A 00 00    	ld	hl,(_sprite)
1279  02F9  26 00       	ld	h,0x00
1280  02FB  11 00 00    	ld	de,_state
1281  02FE  19          	add	hl,de
1282  02FF  7E          	ld	a,(hl)
1283  0300  4F          	ld	c,a
1284  0301  CB 57       	bit	2,a
1285  0303  28 0E       	jr	Z,l_player_collition_check_00120
1286  0305  2A 00 00    	ld	hl,(_sprite)
1287  0308  26 00       	ld	h,0x00
1288  030A  11 00 00    	ld	de,_colint
1289  030D  19          	add	hl,de
1290  030E  7E          	ld	a,(hl)
1291  030F  80          	add	a,b
1292  0310  32 00 00    	ld	(_tmp1),a
1293  0313              l_player_collition_check_00120:
1294  0313  CB 59       	bit	3, c
1295  0315  28 0F       	jr	Z,l_player_collition_check_00122
1296  0317  2A 00 00    	ld	hl,(_sprite)
1297  031A  26 00       	ld	h,0x00
1298  031C  11 00 00    	ld	de,_colint
1299  031F  19          	add	hl,de
1300  0320  4E          	ld	c, (hl)
1301  0321  78          	ld	a,b
1302  0322  91          	sub	a, c
1303  0323  32 00 00    	ld	(_tmp1),a
1304  0326              l_player_collition_check_00122:
1305  0326  3A 00 00    	ld	a,(_tmp0)
1306  0329  4F          	ld	c,a
1307  032A  06 00       	ld	b,0x00
1308  032C  3A 00 00    	ld	a,(_tmp1)
1309  032F  5F          	ld	e,a
1310  0330  16 00       	ld	d,0x00
1311  0332  79          	ld	a,c
1312  0333  93          	sub	a, e
1313  0334  6F          	ld	l,a
1314  0335  78          	ld	a,b
1315  0336  9A          	sbc	a, d
1316  0337  67          	ld	h,a
1317  0338  CD 00 00    	call	_abs_fastcall
1318  033B  22 00 00    	ld	(_tmp_ui),hl
1319  033E  3E 04       	ld	a,0x04
1320  0340  21 00 00    	ld	hl,_tmp_ui
1321  0343  BE          	cp	a, (hl)
1322  0344  3E 00       	ld	a,0x00
1323  0346  23          	inc	hl
1324  0347  9E          	sbc	a, (hl)
1325  0348  30 04       	jr	NC,l_player_collition_check_00124
1326  034A  2E 00       	ld	l,0x00
1327  034C  18 02       	jr	l_player_collition_check_00125
1328  034E              l_player_collition_check_00124:
1329  034E  2E 01       	ld	l,0x01
1330  0350              l_player_collition_check_00125:
1331  0350  33          	inc	sp
1332  0351  DD E1       	pop	ix
1333  0353  C9          	ret
1334  0354              	SECTION code_compiler
1335  0354              ;	---------------------------------
1336  0354              ; Function player_kill
1337  0354              ; ---------------------------------
1338  0354              _player_kill:
1339  0354  01 00 00    	ld	bc,_state+0
1340  0357  2A 00 00    	ld	hl,(_sprite)
1341  035A  26 00       	ld	h,0x00
1342  035C  09          	add	hl,bc
1343  035D  CB 6E       	bit	5,(hl)
1344  035F  C2 35 04    	jp	NZ,l_player_kill_00109
1345  0362  C5          	push	bc
1346  0363  CD 00 00    	call	_sound_hit_brick
1347  0366  C1          	pop	bc
1348  0367  79          	ld	a,c
1349  0368  21 00 00    	ld	hl,_sprite
1350  036B  86          	add	a, (hl)
1351  036C  5F          	ld	e,a
1352  036D  78          	ld	a,b
1353  036E  CE 00       	adc	a,0x00
1354  0370  57          	ld	d,a
1355  0371  1A          	ld	a,(de)
1356  0372  CB EF       	set	5, a
1357  0374  12          	ld	(de),a
1358  0375  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1359  0377  86          	add	a, (hl)
1360  0378  5F          	ld	e,a
1361  0379  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1362  037B  CE 00       	adc	a,0x00
1363  037D  57          	ld	d,a
1364  037E  3E 03       	ld	a,0x03
1365  0380  12          	ld	(de),a
1366  0381  79          	ld	a,c
1367  0382  86          	add	a, (hl)
1368  0383  4F          	ld	c,a
1369  0384  78          	ld	a,b
1370  0385  CE 00       	adc	a,0x00
1371  0387  47          	ld	b,a
1372  0388  0A          	ld	a,(bc)
1373  0389  CB 57       	bit	2, a
1374  038B  28 13       	jr	Z,l_player_kill_00102
1375  038D  3A 00 00    	ld	a,(_sprite)
1376  0390  C6 00       	add	a,+((_tile) & 0xFF)
1377  0392  4F          	ld	c,a
1378  0393  3E 00       	ld	a,+((_tile) / 256)
1379  0395  CE 00       	adc	a,0x00
1380  0397  47          	ld	b,a
1381  0398  3A 00 00    	ld	a,(_tile_offset)
1382  039B  C6 0B       	add	a,0x0b
1383  039D  02          	ld	(bc),a
1384  039E  18 11       	jr	l_player_kill_00103
1385  03A0              l_player_kill_00102:
1386  03A0  3A 00 00    	ld	a,(_sprite)
1387  03A3  C6 00       	add	a,+((_tile) & 0xFF)
1388  03A5  4F          	ld	c,a
1389  03A6  3E 00       	ld	a,+((_tile) / 256)
1390  03A8  CE 00       	adc	a,0x00
1391  03AA  47          	ld	b,a
1392  03AB  3A 00 00    	ld	a,(_tile_offset)
1393  03AE  C6 17       	add	a,0x17
1394  03B0  02          	ld	(bc),a
1395  03B1              l_player_kill_00103:
1396  03B1  CD 5D 0E    	call	_player_hit_brick_clear
1397  03B4  3E 00       	ld	a,+((_col) & 0xFF)
1398  03B6  21 00 00    	ld	hl,_sprite
1399  03B9  86          	add	a, (hl)
1400  03BA  4F          	ld	c,a
1401  03BB  3E 00       	ld	a,+((_col) / 256)
1402  03BD  CE 00       	adc	a,0x00
1403  03BF  47          	ld	b,a
1404  03C0  0A          	ld	a,(bc)
1405  03C1  4F          	ld	c,a
1406  03C2  3E 00       	ld	a,+((_lin) & 0xFF)
1407  03C4  86          	add	a, (hl)
1408  03C5  5F          	ld	e,a
1409  03C6  3E 00       	ld	a,+((_lin) / 256)
1410  03C8  CE 00       	adc	a,0x00
1411  03CA  57          	ld	d,a
1412  03CB  1A          	ld	a,(de)
1413  03CC  47          	ld	b,a
1414  03CD  3E 00       	ld	a,+((_tile) & 0xFF)
1415  03CF  86          	add	a, (hl)
1416  03D0  5F          	ld	e,a
1417  03D1  3E 00       	ld	a,+((_tile) / 256)
1418  03D3  CE 00       	adc	a,0x00
1419  03D5  57          	ld	d,a
1420  03D6  1A          	ld	a,(de)
1421  03D7  57          	ld	d,a
1422  03D8  79          	ld	a,c
1423  03D9  F5          	push	af
1424  03DA  33          	inc	sp
1425  03DB  4A          	ld	c, d
1426  03DC  7E          	ld	a,(hl)
1427  03DD  C5          	push	bc
1428  03DE  F5          	push	af
1429  03DF  33          	inc	sp
1430  03E0  CD 00 00    	call	_NIRVANAP_spriteT_callee
1431  03E3  01 00 00    	ld	bc,_spr_timer+0
1432  03E6  2A 00 00    	ld	hl,(_sprite)
1433  03E9  26 00       	ld	h,0x00
1434  03EB  29          	add	hl, hl
1435  03EC  09          	add	hl,bc
1436  03ED  ED 5B 00 00 	ld	de,(_curr_time)
1437  03F1  73          	ld	(hl),e
1438  03F2  23          	inc	hl
1439  03F3  72          	ld	(hl),d
1440  03F4  3A 00 00    	ld	a,(_sprite)
1441  03F7  D6 07       	sub	a,0x07
1442  03F9  20 1E       	jr	NZ,l_player_kill_00105
1443  03FB  01 00 00    	ld	bc,_state_a+0
1444  03FE  79          	ld	a,c
1445  03FF  21 00 00    	ld	hl,_sprite
1446  0402  86          	add	a, (hl)
1447  0403  5F          	ld	e,a
1448  0404  78          	ld	a,b
1449  0405  CE 00       	adc	a,0x00
1450  0407  57          	ld	d,a
1451  0408  1A          	ld	a,(de)
1452  0409  CB DF       	set	3, a
1453  040B  12          	ld	(de),a
1454  040C  79          	ld	a,c
1455  040D  86          	add	a, (hl)
1456  040E  4F          	ld	c,a
1457  040F  78          	ld	a,b
1458  0410  CE 00       	adc	a,0x00
1459  0412  47          	ld	b,a
1460  0413  0A          	ld	a,(bc)
1461  0414  E6 EF       	and	a,0xef
1462  0416  02          	ld	(bc),a
1463  0417  18 1C       	jr	l_player_kill_00109
1464  0419              l_player_kill_00105:
1465  0419  01 00 00    	ld	bc,_state_a+0
1466  041C  79          	ld	a,c
1467  041D  21 00 00    	ld	hl,_sprite
1468  0420  86          	add	a, (hl)
1469  0421  5F          	ld	e,a
1470  0422  78          	ld	a,b
1471  0423  CE 00       	adc	a,0x00
1472  0425  57          	ld	d,a
1473  0426  1A          	ld	a,(de)
1474  0427  CB E7       	set	4, a
1475  0429  12          	ld	(de),a
1476  042A  79          	ld	a,c
1477  042B  86          	add	a, (hl)
1478  042C  4F          	ld	c,a
1479  042D  78          	ld	a,b
1480  042E  CE 00       	adc	a,0x00
1481  0430  47          	ld	b,a
1482  0431  0A          	ld	a,(bc)
1483  0432  E6 F7       	and	a,0xf7
1484  0434  02          	ld	(bc),a
1485  0435              l_player_kill_00109:
1486  0435  C9          	ret
1487  0436              	SECTION code_compiler
1488  0436              ;	---------------------------------
1489  0436              ; Function player_restart
1490  0436              ; ---------------------------------
1491  0436              _player_restart:
1492  0436  CD 00 00    	call	___sdcc_enter_ix
1493  0439  F5          	push	af
1494  043A  4D          	ld	c,l
1495  043B  21 00 00    	ld	hl,_ay_effect_15
1496  043E  CD 00 00    	call	_ay_fx_play
1497  0441  79          	ld	a,c
1498  0442  D6 07       	sub	a,0x07
1499  0444  20 1B       	jr	NZ,l_player_restart_00102
1500  0446  C5          	push	bc
1501  0447  21 0E 03    	ld	hl,0x030e
1502  044A  E5          	push	hl
1503  044B  21 07 00    	ld	hl,0x0007
1504  044E  E5          	push	hl
1505  044F  CD 00 00    	call	_player_init
1506  0452  F1          	pop	af
1507  0453  21 10 0E    	ld	hl,0x0e10
1508  0456  E3          	ex	(sp),hl
1509  0457  3E 84       	ld	a,0x84
1510  0459  F5          	push	af
1511  045A  33          	inc	sp
1512  045B  CD 00 00    	call	_NIRVANAP_drawT_callee
1513  045E  C1          	pop	bc
1514  045F  18 19       	jr	l_player_restart_00103
1515  0461              l_player_restart_00102:
1516  0461  C5          	push	bc
1517  0462  21 10 27    	ld	hl,0x2710
1518  0465  E5          	push	hl
1519  0466  21 06 00    	ld	hl,0x0006
1520  0469  E5          	push	hl
1521  046A  CD 00 00    	call	_player_init
1522  046D  F1          	pop	af
1523  046E  21 10 10    	ld	hl,0x1010
1524  0471  E3          	ex	(sp),hl
1525  0472  3E 84       	ld	a,0x84
1526  0474  F5          	push	af
1527  0475  33          	inc	sp
1528  0476  CD 00 00    	call	_NIRVANAP_drawT_callee
1529  0479  C1          	pop	bc
1530  047A              l_player_restart_00103:
1531  047A  11 00 00    	ld	de,_state+0
1532  047D  69          	ld	l,c
1533  047E  26 00       	ld	h,0x00
1534  0480  19          	add	hl,de
1535  0481  CB E6       	set	4, (hl)
1536  0483  11 00 00    	ld	de,_state_a+0
1537  0486  69          	ld	l,c
1538  0487  26 00       	ld	h,0x00
1539  0489  19          	add	hl,de
1540  048A  CB C6       	set	0, (hl)
1541  048C  11 00 00    	ld	de,_spr_timer+0
1542  048F  69          	ld	l,c
1543  0490  26 00       	ld	h,0x00
1544  0492  29          	add	hl, hl
1545  0493  19          	add	hl,de
1546  0494  E3          	ex	(sp), hl
1547  0495  E1          	pop	hl
1548  0496  ED 5B 00 00 	ld	de,(_curr_time)
1549  049A  E5          	push	hl
1550  049B  73          	ld	(hl),e
1551  049C  23          	inc	hl
1552  049D  72          	ld	(hl),d
1553  049E  11 00 00    	ld	de,_sprite_speed_alt+0
1554  04A1  69          	ld	l,c
1555  04A2  26 00       	ld	h,0x00
1556  04A4  19          	add	hl,de
1557  04A5  F1          	pop	af
1558  04A6  36 08       	ld	(hl),0x08
1559  04A8  DD E1       	pop	ix
1560  04AA  C9          	ret
1561  04AB              	SECTION code_compiler
1562  04AB              ;	---------------------------------
1563  04AB              ; Function player_lost_life
1564  04AB              ; ---------------------------------
1565  04AB              _player_lost_life:
1566  04AB  CD 00 00    	call	_sound_hit_enemy
1567  04AE  01 00 00    	ld	bc,_game_lives+0
1568  04B1  79          	ld	a,c
1569  04B2  21 00 00    	ld	hl,_index_player
1570  04B5  86          	add	a, (hl)
1571  04B6  5F          	ld	e,a
1572  04B7  78          	ld	a,b
1573  04B8  CE 00       	adc	a,0x00
1574  04BA  57          	ld	d,a
1575  04BB  1A          	ld	a,(de)
1576  04BC  C6 FF       	add	a,0xff
1577  04BE  12          	ld	(de),a
1578  04BF  79          	ld	a,c
1579  04C0  86          	add	a, (hl)
1580  04C1  5F          	ld	e,a
1581  04C2  78          	ld	a,b
1582  04C3  CE 00       	adc	a,0x00
1583  04C5  57          	ld	d,a
1584  04C6  1A          	ld	a,(de)
1585  04C7  B7          	or	a, a
1586  04C8  20 13       	jr	NZ,l_player_lost_life_00105
1587  04CA  0A          	ld	a,(bc)
1588  04CB  B7          	or	a, a
1589  04CC  20 0B       	jr	NZ,l_player_lost_life_00102
1590  04CE  3A 01 00    	ld	a, (_game_lives + 1)
1591  04D1  B7          	or	a, a
1592  04D2  20 05       	jr	NZ,l_player_lost_life_00102
1593  04D4  21 00 00    	ld	hl,_game_over
1594  04D7  36 01       	ld	(hl),0x01
1595  04D9              l_player_lost_life_00102:
1596  04D9  2E 00       	ld	l,0x00
1597  04DB  18 08       	jr	l_player_lost_life_00106
1598  04DD              l_player_lost_life_00105:
1599  04DD  CD 00 00    	call	_spr_check_over
1600  04E0  CD 00 00    	call	_game_print_lives
1601  04E3  2E 01       	ld	l,0x01
1602  04E5              l_player_lost_life_00106:
1603  04E5  C9          	ret
1604  04E6              	SECTION code_compiler
1605  04E6              ;	---------------------------------
1606  04E6              ; Function player_turn
1607  04E6              ; ---------------------------------
1608  04E6              _player_turn:
1609  04E6  3A 00 00    	ld	a,(_sprite)
1610  04E9  C6 00       	add	a,+((_class) & 0xFF)
1611  04EB  4F          	ld	c,a
1612  04EC  3E 00       	ld	a,+((_class) / 256)
1613  04EE  CE 00       	adc	a,0x00
1614  04F0  47          	ld	b,a
1615  04F1  0A          	ld	a,(bc)
1616  04F2  D6 10       	sub	a,0x10
1617  04F4  20 51       	jr	NZ,l_player_turn_00110
1618  04F6  3A 00 00    	ld	a,(_phase_left)
1619  04F9  B7          	or	a, a
1620  04FA  28 4B       	jr	Z,l_player_turn_00110
1621  04FC  3A 00 00    	ld	a,(_index_player)
1622  04FF  C6 00       	add	a,+((_game_lives) & 0xFF)
1623  0501  4F          	ld	c,a
1624  0502  3E 00       	ld	a,+((_game_lives) / 256)
1625  0504  CE 00       	adc	a,0x00
1626  0506  47          	ld	b,a
1627  0507  0A          	ld	a,(bc)
1628  0508  B7          	or	a, a
1629  0509  28 3C       	jr	Z,l_player_turn_00110
1630  050B  21 00 00    	ld	hl,_sprite
1631  050E  CD 00 00    	call	_spr_chktime
1632  0511  7D          	ld	a,l
1633  0512  B7          	or	a, a
1634  0513  28 32       	jr	Z,l_player_turn_00110
1635  0515  21 00 00    	ld	hl,_dirs
1636  0518  36 00       	ld	(hl),0x00
1637  051A  3A 00 00    	ld	a,(_sprite)
1638  051D  D6 07       	sub	a,0x07
1639  051F  20 11       	jr	NZ,l_player_turn_00102
1640  0521  21 00 00    	ld	hl,_k1
1641  0524  E5          	push	hl
1642  0525  2A 00 00    	ld	hl,(_joyfunc1)
1643  0528  CD 00 00    	call	___sdcc_call_hl
1644  052B  F1          	pop	af
1645  052C  7D          	ld	a,l
1646  052D  32 00 00    	ld	(_dirs),a
1647  0530  18 0F       	jr	l_player_turn_00103
1648  0532              l_player_turn_00102:
1649  0532  21 00 00    	ld	hl,_k1
1650  0535  E5          	push	hl
1651  0536  2A 00 00    	ld	hl,(_joyfunc2)
1652  0539  CD 00 00    	call	___sdcc_call_hl
1653  053C  F1          	pop	af
1654  053D  7D          	ld	a,l
1655  053E  32 00 00    	ld	(_dirs),a
1656  0541              l_player_turn_00103:
1657  0541  CD 48 05    	call	_player_move
1658  0544  CD 51 01    	call	_player_collition
1659  0547              l_player_turn_00110:
1660  0547  C9          	ret
1661  0548              	SECTION code_compiler
1662  0548              ;	---------------------------------
1663  0548              ; Function player_move
1664  0548              ; ---------------------------------
1665  0548              _player_move:
1666  0548  CD 00 00    	call	___sdcc_enter_ix
1667  054B  F5          	push	af
1668  054C  3B          	dec	sp
1669  054D  3A 00 00    	ld	a,(_sprite)
1670  0550  C6 00       	add	a,+((_lin) & 0xFF)
1671  0552  4F          	ld	c,a
1672  0553  3E 00       	ld	a,+((_lin) / 256)
1673  0555  CE 00       	adc	a,0x00
1674  0557  47          	ld	b,a
1675  0558  0A          	ld	a,(bc)
1676  0559  DD 77 FF    	ld	(ix-1),a
1677  055C  32 00 00    	ld	(_s_lin0),a
1678  055F  3A 00 00    	ld	a,(_sprite)
1679  0562  C6 00       	add	a,+((_col) & 0xFF)
1680  0564  4F          	ld	c,a
1681  0565  3E 00       	ld	a,+((_col) / 256)
1682  0567  CE 00       	adc	a,0x00
1683  0569  47          	ld	b,a
1684  056A  0A          	ld	a,(bc)
1685  056B  32 00 00    	ld	(_s_col0),a
1686  056E  3E 00       	ld	a,+((_tile) & 0xFF)
1687  0570  21 00 00    	ld	hl,_sprite
1688  0573  86          	add	a, (hl)
1689  0574  DD 77 FD    	ld	(ix-3),a
1690  0577  3E 00       	ld	a,+((_tile) / 256)
1691  0579  CE 00       	adc	a,0x00
1692  057B  DD 77 FE    	ld	(ix-2),a
1693  057E  E1          	pop	hl
1694  057F  4E          	ld	c,(hl)
1695  0580  E5          	push	hl
1696  0581  2A 00 00    	ld	hl,(_sprite)
1697  0584  26 00       	ld	h,0x00
1698  0586  11 00 00    	ld	de,_colint
1699  0589  19          	add	hl,de
1700  058A  7E          	ld	a,(hl)
1701  058B  81          	add	a,c
1702  058C  32 00 00    	ld	(_s_tile0),a
1703  058F  3A 00 00    	ld	a,(_sprite)
1704  0592  C6 00       	add	a,+((_state) & 0xFF)
1705  0594  4F          	ld	c,a
1706  0595  3E 00       	ld	a,+((_state) / 256)
1707  0597  CE 00       	adc	a,0x00
1708  0599  47          	ld	b,a
1709  059A  0A          	ld	a,(bc)
1710  059B  32 00 00    	ld	(_s_state),a
1711  059E  E6 20       	and	a,0x20
1712  05A0  28 2E       	jr	Z,l_player_move_00104
1713  05A2  3A 00 00    	ld	a,(_tile_offset)
1714  05A5  C6 0A       	add	a,0x0a
1715  05A7  E1          	pop	hl
1716  05A8  E5          	push	hl
1717  05A9  77          	ld	(hl),a
1718  05AA  01 00 00    	ld	bc,_spr_timer+0
1719  05AD  2A 00 00    	ld	hl,(_sprite)
1720  05B0  26 00       	ld	h,0x00
1721  05B2  29          	add	hl, hl
1722  05B3  09          	add	hl,bc
1723  05B4  4E          	ld	c,(hl)
1724  05B5  23          	inc	hl
1725  05B6  46          	ld	b,(hl)
1726  05B7  21 28 00    	ld	hl,0x0028
1727  05BA  E5          	push	hl
1728  05BB  C5          	push	bc
1729  05BC  CD 00 00    	call	_game_check_time
1730  05BF  F1          	pop	af
1731  05C0  F1          	pop	af
1732  05C1  7D          	ld	a,l
1733  05C2  B7          	or	a, a
1734  05C3  28 06       	jr	Z,l_player_move_00102
1735  05C5  2A 00 00    	ld	hl,(_sprite)
1736  05C8  CD 00 00    	call	_spr_killed
1737  05CB              l_player_move_00102:
1738  05CB  2E 00       	ld	l,0x00
1739  05CD  C3 88 09    	jp	l_player_move_00153
1740  05D0              l_player_move_00104:
1741  05D0  3A 00 00    	ld	a,(_s_state)
1742  05D3  E6 10       	and	a,0x10
1743  05D5  CA 0D 07    	jp	Z,l_player_move_00117
1744  05D8  DD 7E FF    	ld	a,(ix-1)
1745  05DB  D6 10       	sub	a,0x10
1746  05DD  30 14       	jr	NC,l_player_move_00108
1747  05DF  3A 00 00    	ld	a,(_sprite)
1748  05E2  C6 00       	add	a,+((_state_a) & 0xFF)
1749  05E4  4F          	ld	c,a
1750  05E5  3E 00       	ld	a,+((_state_a) / 256)
1751  05E7  CE 00       	adc	a,0x00
1752  05E9  47          	ld	b,a
1753  05EA  0A          	ld	a,(bc)
1754  05EB  E6 FE       	and	a,0xfe
1755  05ED  02          	ld	(bc),a
1756  05EE  CD 00 00    	call	_spr_move_down
1757  05F1  18 4C       	jr	l_player_move_00109
1758  05F3              l_player_move_00108:
1759  05F3  CD 33 01    	call	_player_check_input
1760  05F6  7D          	ld	a,l
1761  05F7  B7          	or	a, a
1762  05F8  28 45       	jr	Z,l_player_move_00109
1763  05FA  2A 00 00    	ld	hl,(_sprite)
1764  05FD  26 00       	ld	h,0x00
1765  05FF  01 00 00    	ld	bc,_state
1766  0602  09          	add	hl,bc
1767  0603  7E          	ld	a,(hl)
1768  0604  E6 EF       	and	a,0xef
1769  0606  77          	ld	(hl),a
1770  0607  2A 00 00    	ld	hl,(_sprite)
1771  060A  26 00       	ld	h,0x00
1772  060C  01 00 00    	ld	bc,_state_a
1773  060F  09          	add	hl,bc
1774  0610  7E          	ld	a,(hl)
1775  0611  E6 FE       	and	a,0xfe
1776  0613  77          	ld	(hl),a
1777  0614  76          	halt
1778  0615  3A 00 00    	ld	a,(_s_col0)
1779  0618  F5          	push	af
1780  0619  33          	inc	sp
1781  061A  21 A9 10    	ld	hl,0x10a9
1782  061D  E5          	push	hl
1783  061E  CD 00 00    	call	_NIRVANAP_drawT_callee
1784  0621  3A 00 00    	ld	a,(_s_col0)
1785  0624  F5          	push	af
1786  0625  33          	inc	sp
1787  0626  21 A9 20    	ld	hl,0x20a9
1788  0629  E5          	push	hl
1789  062A  CD 00 00    	call	_NIRVANAP_drawT_callee
1790  062D  3A 00 00    	ld	a,(_sprite)
1791  0630  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1792  0632  4F          	ld	c,a
1793  0633  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1794  0635  CE 00       	adc	a,0x00
1795  0637  47          	ld	b,a
1796  0638  AF          	xor	a, a
1797  0639  02          	ld	(bc),a
1798  063A  2E 00       	ld	l,0x00
1799  063C  C3 88 09    	jp	l_player_move_00153
1800  063F              l_player_move_00109:
1801  063F  CD 00 00    	call	_spr_redraw
1802  0642  ED 4B 00 00 	ld	bc,(_curr_time)
1803  0646  2A 00 00    	ld	hl,(_sprite)
1804  0649  26 00       	ld	h,0x00
1805  064B  29          	add	hl, hl
1806  064C  11 00 00    	ld	de,_spr_timer
1807  064F  19          	add	hl,de
1808  0650  5E          	ld	e,(hl)
1809  0651  23          	inc	hl
1810  0652  56          	ld	d,(hl)
1811  0653  69          	ld	l,c
1812  0654  60          	ld	h,b
1813  0655  AF          	xor	a,a
1814  0656  ED 52       	sbc	hl,de
1815  0658  22 00 00    	ld	(_tmp_ui),hl
1816  065B  21 00 00    	ld	hl,_tmp
1817  065E  36 00       	ld	(hl),0x00
1818  0660  3E 32       	ld	a,0x32
1819  0662  21 00 00    	ld	hl,_tmp_ui
1820  0665  BE          	cp	a, (hl)
1821  0666  3E 00       	ld	a,0x00
1822  0668  23          	inc	hl
1823  0669  9E          	sbc	a, (hl)
1824  066A  30 05       	jr	NC,l_player_move_00111
1825  066C  21 00 00    	ld	hl,_tmp
1826  066F  36 01       	ld	(hl),0x01
1827  0671              l_player_move_00111:
1828  0671  3E 64       	ld	a,0x64
1829  0673  21 00 00    	ld	hl,_tmp_ui
1830  0676  BE          	cp	a, (hl)
1831  0677  3E 00       	ld	a,0x00
1832  0679  23          	inc	hl
1833  067A  9E          	sbc	a, (hl)
1834  067B  30 05       	jr	NC,l_player_move_00113
1835  067D  21 00 00    	ld	hl,_tmp
1836  0680  36 02       	ld	(hl),0x02
1837  0682              l_player_move_00113:
1838  0682  76          	halt
1839  0683  3A 00 00    	ld	a,(_sprite)
1840  0686  C6 00       	add	a,+((_lin) & 0xFF)
1841  0688  4F          	ld	c,a
1842  0689  3E 00       	ld	a,+((_lin) / 256)
1843  068B  CE 00       	adc	a,0x00
1844  068D  47          	ld	b,a
1845  068E  0A          	ld	a,(bc)
1846  068F  C6 10       	add	a,0x10
1847  0691  57          	ld	d,a
1848  0692  3A 00 00    	ld	a,(_tmp)
1849  0695  C6 84       	add	a,0x84
1850  0697  47          	ld	b,a
1851  0698  3A 00 00    	ld	a,(_s_col0)
1852  069B  5A          	ld	e,d
1853  069C  57          	ld	d,a
1854  069D  D5          	push	de
1855  069E  C5          	push	bc
1856  069F  33          	inc	sp
1857  06A0  CD 00 00    	call	_NIRVANAP_drawT_callee
1858  06A3  3E 96       	ld	a,0x96
1859  06A5  21 00 00    	ld	hl,_tmp_ui
1860  06A8  BE          	cp	a, (hl)
1861  06A9  3E 00       	ld	a,0x00
1862  06AB  23          	inc	hl
1863  06AC  9E          	sbc	a, (hl)
1864  06AD  30 59       	jr	NC,l_player_move_00115
1865  06AF  2A 00 00    	ld	hl,(_sprite)
1866  06B2  26 00       	ld	h,0x00
1867  06B4  01 00 00    	ld	bc,_lin
1868  06B7  09          	add	hl,bc
1869  06B8  4E          	ld	c, (hl)
1870  06B9  3A 00 00    	ld	a, (_s_col0)
1871  06BC  47          	ld	b,a
1872  06BD  C5          	push	bc
1873  06BE  3E A9       	ld	a,0xa9
1874  06C0  F5          	push	af
1875  06C1  33          	inc	sp
1876  06C2  CD 00 00    	call	_NIRVANAP_drawT_callee
1877  06C5  3A 00 00    	ld	a,(_sprite)
1878  06C8  C6 00       	add	a,+((_lin) & 0xFF)
1879  06CA  4F          	ld	c,a
1880  06CB  3E 00       	ld	a,+((_lin) / 256)
1881  06CD  CE 00       	adc	a,0x00
1882  06CF  47          	ld	b,a
1883  06D0  0A          	ld	a,(bc)
1884  06D1  C6 10       	add	a,0x10
1885  06D3  4F          	ld	c, a
1886  06D4  3A 00 00    	ld	a, (_s_col0)
1887  06D7  47          	ld	b,a
1888  06D8  C5          	push	bc
1889  06D9  3E A9       	ld	a,0xa9
1890  06DB  F5          	push	af
1891  06DC  33          	inc	sp
1892  06DD  CD 00 00    	call	_NIRVANAP_drawT_callee
1893  06E0  2A 00 00    	ld	hl,(_sprite)
1894  06E3  26 00       	ld	h,0x00
1895  06E5  01 00 00    	ld	bc,_state
1896  06E8  09          	add	hl,bc
1897  06E9  7E          	ld	a,(hl)
1898  06EA  E6 EF       	and	a,0xef
1899  06EC  77          	ld	(hl),a
1900  06ED  3E 00       	ld	a,+((_state) & 0xFF)
1901  06EF  21 00 00    	ld	hl,_sprite
1902  06F2  86          	add	a, (hl)
1903  06F3  4F          	ld	c,a
1904  06F4  3E 00       	ld	a,+((_state) / 256)
1905  06F6  CE 00       	adc	a,0x00
1906  06F8  47          	ld	b,a
1907  06F9  0A          	ld	a,(bc)
1908  06FA  CB C7       	set	0, a
1909  06FC  02          	ld	(bc),a
1910  06FD  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1911  06FF  86          	add	a, (hl)
1912  0700  4F          	ld	c,a
1913  0701  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1914  0703  CE 00       	adc	a,0x00
1915  0705  47          	ld	b,a
1916  0706  AF          	xor	a, a
1917  0707  02          	ld	(bc),a
1918  0708              l_player_move_00115:
1919  0708  2E 00       	ld	l,0x00
1920  070A  C3 88 09    	jp	l_player_move_00153
1921  070D              l_player_move_00117:
1922  070D  3A 00 00    	ld	a,(_sprite)
1923  0710  C6 00       	add	a,+((_state_a) & 0xFF)
1924  0712  4F          	ld	c,a
1925  0713  3E 00       	ld	a,+((_state_a) / 256)
1926  0715  CE 00       	adc	a,0x00
1927  0717  47          	ld	b,a
1928  0718  0A          	ld	a,(bc)
1929  0719  0F          	rrca
1930  071A  30 1D       	jr	NC,l_player_move_00122
1931  071C  CD 33 01    	call	_player_check_input
1932  071F  7D          	ld	a,l
1933  0720  B7          	or	a, a
1934  0721  28 11       	jr	Z,l_player_move_00119
1935  0723  3A 00 00    	ld	a,(_sprite)
1936  0726  C6 00       	add	a,+((_state_a) & 0xFF)
1937  0728  4F          	ld	c,a
1938  0729  3E 00       	ld	a,+((_state_a) / 256)
1939  072B  CE 00       	adc	a,0x00
1940  072D  47          	ld	b,a
1941  072E  0A          	ld	a,(bc)
1942  072F  E6 FE       	and	a,0xfe
1943  0731  02          	ld	(bc),a
1944  0732  18 05       	jr	l_player_move_00122
1945  0734              l_player_move_00119:
1946  0734  2E 00       	ld	l,0x00
1947  0736  C3 88 09    	jp	l_player_move_00153
1948  0739              l_player_move_00122:
1949  0739  3A 00 00    	ld	a,(_sprite)
1950  073C  C6 00       	add	a,+((_state_a) & 0xFF)
1951  073E  4F          	ld	c,a
1952  073F  3E 00       	ld	a,+((_state_a) / 256)
1953  0741  CE 00       	adc	a,0x00
1954  0743  47          	ld	b,a
1955  0744  0A          	ld	a,(bc)
1956  0745  CB 57       	bit	2, a
1957  0747  28 58       	jr	Z,l_player_move_00126
1958  0749  01 00 00    	ld	bc,_spr_timer+0
1959  074C  2A 00 00    	ld	hl,(_sprite)
1960  074F  26 00       	ld	h,0x00
1961  0751  29          	add	hl, hl
1962  0752  09          	add	hl,bc
1963  0753  4E          	ld	c,(hl)
1964  0754  23          	inc	hl
1965  0755  46          	ld	b,(hl)
1966  0756  21 14 00    	ld	hl,0x0014
1967  0759  E5          	push	hl
1968  075A  C5          	push	bc
1969  075B  CD 00 00    	call	_game_check_time
1970  075E  F1          	pop	af
1971  075F  F1          	pop	af
1972  0760  7D          	ld	a,l
1973  0761  B7          	or	a, a
1974  0762  28 3D       	jr	Z,l_player_move_00126
1975  0764  2A 00 00    	ld	hl,(_sprite)
1976  0767  26 00       	ld	h,0x00
1977  0769  01 00 00    	ld	bc,_state_a
1978  076C  09          	add	hl,bc
1979  076D  7E          	ld	a,(hl)
1980  076E  E6 FB       	and	a,0xfb
1981  0770  77          	ld	(hl),a
1982  0771  3E 00       	ld	a,+((_colint) & 0xFF)
1983  0773  21 00 00    	ld	hl,_sprite
1984  0776  86          	add	a, (hl)
1985  0777  4F          	ld	c,a
1986  0778  3E 00       	ld	a,+((_colint) / 256)
1987  077A  CE 00       	adc	a,0x00
1988  077C  47          	ld	b,a
1989  077D  AF          	xor	a, a
1990  077E  02          	ld	(bc),a
1991  077F  3E 00       	ld	a,+((_tile) & 0xFF)
1992  0781  86          	add	a, (hl)
1993  0782  4F          	ld	c,a
1994  0783  3E 00       	ld	a,+((_tile) / 256)
1995  0785  CE 00       	adc	a,0x00
1996  0787  47          	ld	b,a
1997  0788  3A 00 00    	ld	a,(_tile_offset)
1998  078B  5F          	ld	e,a
1999  078C  16 00       	ld	d,0x00
2000  078E  13          	inc	de
2001  078F  13          	inc	de
2002  0790  13          	inc	de
2003  0791  2A 00 00    	ld	hl,(_sprite)
2004  0794  C5          	push	bc
2005  0795  26 0C       	ld	h,0x0c
2006  0797  E5          	push	hl
2007  0798  D5          	push	de
2008  0799  CD 00 00    	call	_spr_tile_dir
2009  079C  F1          	pop	af
2010  079D  F1          	pop	af
2011  079E  C1          	pop	bc
2012  079F  7D          	ld	a, l
2013  07A0  02          	ld	(bc),a
2014  07A1              l_player_move_00126:
2015  07A1  3A 00 00    	ld	a,(_sprite)
2016  07A4  C6 00       	add	a,+((_state_a) & 0xFF)
2017  07A6  4F          	ld	c,a
2018  07A7  3E 00       	ld	a,+((_state_a) / 256)
2019  07A9  CE 00       	adc	a,0x00
2020  07AB  47          	ld	b,a
2021  07AC  0A          	ld	a,(bc)
2022  07AD  CB 6F       	bit	5, a
2023  07AF  28 2E       	jr	Z,l_player_move_00130
2024  07B1  01 00 00    	ld	bc,_spr_timer+0
2025  07B4  2A 00 00    	ld	hl,(_sprite)
2026  07B7  26 00       	ld	h,0x00
2027  07B9  29          	add	hl, hl
2028  07BA  09          	add	hl,bc
2029  07BB  4E          	ld	c,(hl)
2030  07BC  23          	inc	hl
2031  07BD  7E          	ld	a,(hl)
2032  07BE  47          	ld	b,a
2033  07BF  B1          	or	a,c
2034  07C0  28 1D       	jr	Z,l_player_move_00130
2035  07C2  21 08 00    	ld	hl,0x0008
2036  07C5  E5          	push	hl
2037  07C6  C5          	push	bc
2038  07C7  CD 00 00    	call	_game_check_time
2039  07CA  F1          	pop	af
2040  07CB  F1          	pop	af
2041  07CC  7D          	ld	a,l
2042  07CD  B7          	or	a, a
2043  07CE  28 0F       	jr	Z,l_player_move_00130
2044  07D0  3A 00 00    	ld	a,(_sprite)
2045  07D3  C6 00       	add	a,+((_state_a) & 0xFF)
2046  07D5  4F          	ld	c,a
2047  07D6  3E 00       	ld	a,+((_state_a) / 256)
2048  07D8  CE 00       	adc	a,0x00
2049  07DA  47          	ld	b,a
2050  07DB  0A          	ld	a,(bc)
2051  07DC  E6 DF       	and	a,0xdf
2052  07DE  02          	ld	(bc),a
2053  07DF              l_player_move_00130:
2054  07DF  CD 8D 09    	call	_player_move_input
2055  07E2  3A 00 00    	ld	a,(_sprite)
2056  07E5  C6 00       	add	a,+((_state) & 0xFF)
2057  07E7  4F          	ld	c,a
2058  07E8  3E 00       	ld	a,+((_state) / 256)
2059  07EA  CE 00       	adc	a,0x00
2060  07EC  47          	ld	b,a
2061  07ED  0A          	ld	a,(bc)
2062  07EE  32 00 00    	ld	(_s_state),a
2063  07F1  0F          	rrca
2064  07F2  DA 3C 09    	jp	C,l_player_move_00148
2065  07F5  3A 00 00    	ld	a,(_s_state)
2066  07F8  E6 02       	and	a,0x02
2067  07FA  C2 3C 09    	jp	NZ,l_player_move_00148
2068  07FD  3E 00       	ld	a,+((_col) & 0xFF)
2069  07FF  21 00 00    	ld	hl,_sprite
2070  0802  86          	add	a, (hl)
2071  0803  4F          	ld	c,a
2072  0804  3E 00       	ld	a,+((_col) / 256)
2073  0806  CE 00       	adc	a,0x00
2074  0808  47          	ld	b,a
2075  0809  0A          	ld	a,(bc)
2076  080A  57          	ld	d,a
2077  080B  4E          	ld	c,(hl)
2078  080C  06 00       	ld	b,0x00
2079  080E  21 00 00    	ld	hl,_lin
2080  0811  09          	add	hl,bc
2081  0812  7E          	ld	a,(hl)
2082  0813  C6 10       	add	a,0x10
2083  0815  5F          	ld	e, a
2084  0816  D5          	push	de
2085  0817  CD 00 00    	call	_game_calc_index
2086  081A  F1          	pop	af
2087  081B  22 00 00    	ld	(_index_d),hl
2088  081E  3A 00 00    	ld	a,(_s_lin0)
2089  0821  D6 98       	sub	a,0x98
2090  0823  20 06       	jr	NZ,l_player_move_00133
2091  0825  21 00 00    	ld	hl,0x0000
2092  0828  22 00 00    	ld	(_index_d),hl
2093  082B              l_player_move_00133:
2094  082B  21 01 00    	ld	hl,_index_d + 1
2095  082E  7E          	ld	a,(hl)
2096  082F  2B          	dec	hl
2097  0830  B6          	or	a,(hl)
2098  0831  28 2E       	jr	Z,l_player_move_00135
2099  0833  01 00 00    	ld	bc,_lvl_1+0
2100  0836  79          	ld	a,c
2101  0837  86          	add	a, (hl)
2102  0838  5F          	ld	e,a
2103  0839  78          	ld	a,b
2104  083A  23          	inc	hl
2105  083B  8E          	adc	a, (hl)
2106  083C  57          	ld	d,a
2107  083D  1A          	ld	a,(de)
2108  083E  D6 10       	sub	a,0x10
2109  0840  30 1F       	jr	NC,l_player_move_00135
2110  0842  56          	ld	d,(hl)
2111  0843  2B          	dec	hl
2112  0844  5E          	ld	e,(hl)
2113  0845  13          	inc	de
2114  0846  69          	ld	l, c
2115  0847  60          	ld	h, b
2116  0848  19          	add	hl,de
2117  0849  7E          	ld	a, (hl)
2118  084A  D6 10       	sub	a,0x10
2119  084C  30 13       	jr	NC,l_player_move_00135
2120  084E  3A 00 00    	ld	a,(_sprite)
2121  0851  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2122  0853  4F          	ld	c,a
2123  0854  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2124  0856  CE 00       	adc	a,0x00
2125  0858  47          	ld	b,a
2126  0859  3E 02       	ld	a,0x02
2127  085B  02          	ld	(bc),a
2128  085C  21 00 00    	ld	hl,_s_state
2129  085F  CB CE       	set	1, (hl)
2130  0861              l_player_move_00135:
2131  0861  CD 33 01    	call	_player_check_input
2132  0864  7D          	ld	a,l
2133  0865  B7          	or	a, a
2134  0866  C2 3F 09    	jp	NZ,l_player_move_00149
2135  0869  3A 00 00    	ld	a,(_index_player)
2136  086C  C6 00       	add	a,+((_sliding) & 0xFF)
2137  086E  4F          	ld	c,a
2138  086F  3E 00       	ld	a,+((_sliding) / 256)
2139  0871  CE 00       	adc	a,0x00
2140  0873  47          	ld	b,a
2141  0874  0A          	ld	a,(bc)
2142  0875  B7          	or	a, a
2143  0876  CA 3F 09    	jp	Z,l_player_move_00149
2144  0879  3A 00 00    	ld	a,(_s_state)
2145  087C  E6 02       	and	a,0x02
2146  087E  C2 3F 09    	jp	NZ,l_player_move_00149
2147  0881  CD 00 00    	call	_ay_is_playing
2148  0884  7D          	ld	a,l
2149  0885  D6 03       	sub	a,0x03
2150  0887  28 06       	jr	Z,l_player_move_00139
2151  0889  21 00 00    	ld	hl,_ay_effect_01
2152  088C  CD 00 00    	call	_ay_fx_play
2153  088F              l_player_move_00139:
2154  088F  CD 00 00    	call	_sound_slide
2155  0892  CD 72 0B    	call	_player_move_horizontal
2156  0895  3A 00 00    	ld	a,(_index_player)
2157  0898  C6 00       	add	a,+((_sliding) & 0xFF)
2158  089A  4F          	ld	c,a
2159  089B  3E 00       	ld	a,+((_sliding) / 256)
2160  089D  CE 00       	adc	a,0x00
2161  089F  47          	ld	b,a
2162  08A0  0A          	ld	a,(bc)
2163  08A1  C6 FF       	add	a,0xff
2164  08A3  02          	ld	(bc),a
2165  08A4  3A 00 00    	ld	a,(_sprite)
2166  08A7  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2167  08A9  4F          	ld	c,a
2168  08AA  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2169  08AC  CE 00       	adc	a,0x00
2170  08AE  47          	ld	b,a
2171  08AF  AF          	xor	a, a
2172  08B0  02          	ld	(bc),a
2173  08B1  3A 00 00    	ld	a,(_index_player)
2174  08B4  C6 00       	add	a,+((_sliding) & 0xFF)
2175  08B6  4F          	ld	c,a
2176  08B7  3E 00       	ld	a,+((_sliding) / 256)
2177  08B9  CE 00       	adc	a,0x00
2178  08BB  47          	ld	b,a
2179  08BC  0A          	ld	a,(bc)
2180  08BD  B7          	or	a, a
2181  08BE  20 55       	jr	NZ,l_player_move_00141
2182  08C0  3E 00       	ld	a,+((_state_a) & 0xFF)
2183  08C2  21 00 00    	ld	hl,_sprite
2184  08C5  86          	add	a, (hl)
2185  08C6  4F          	ld	c,a
2186  08C7  3E 00       	ld	a,+((_state_a) / 256)
2187  08C9  CE 00       	adc	a,0x00
2188  08CB  47          	ld	b,a
2189  08CC  0A          	ld	a,(bc)
2190  08CD  CB EF       	set	5, a
2191  08CF  02          	ld	(bc),a
2192  08D0  01 00 00    	ld	bc,_spr_timer+0
2193  08D3  6E          	ld	l,(hl)
2194  08D4  26 00       	ld	h,0x00
2195  08D6  29          	add	hl, hl
2196  08D7  09          	add	hl,bc
2197  08D8  AF          	xor	a, a
2198  08D9  77          	ld	(hl), a
2199  08DA  23          	inc	hl
2200  08DB  77          	ld	(hl), a
2201  08DC  3E 00       	ld	a,+((_colint) & 0xFF)
2202  08DE  21 00 00    	ld	hl,_sprite
2203  08E1  86          	add	a, (hl)
2204  08E2  4F          	ld	c,a
2205  08E3  3E 00       	ld	a,+((_colint) / 256)
2206  08E5  CE 00       	adc	a,0x00
2207  08E7  47          	ld	b,a
2208  08E8  AF          	xor	a, a
2209  08E9  02          	ld	(bc),a
2210  08EA  3E 00       	ld	a,+((_tile) & 0xFF)
2211  08EC  86          	add	a, (hl)
2212  08ED  4F          	ld	c,a
2213  08EE  3E 00       	ld	a,+((_tile) / 256)
2214  08F0  CE 00       	adc	a,0x00
2215  08F2  47          	ld	b,a
2216  08F3  3A 00 00    	ld	a,(_tile_offset)
2217  08F6  5F          	ld	e,a
2218  08F7  16 00       	ld	d,0x00
2219  08F9  13          	inc	de
2220  08FA  13          	inc	de
2221  08FB  13          	inc	de
2222  08FC  2A 00 00    	ld	hl,(_sprite)
2223  08FF  C5          	push	bc
2224  0900  26 0C       	ld	h,0x0c
2225  0902  E5          	push	hl
2226  0903  D5          	push	de
2227  0904  CD 00 00    	call	_spr_tile_dir
2228  0907  F1          	pop	af
2229  0908  F1          	pop	af
2230  0909  C1          	pop	bc
2231  090A  7D          	ld	a, l
2232  090B  02          	ld	(bc),a
2233  090C  21 00 00    	ld	hl,_s_state
2234  090F  CB 96       	res	2, (hl)
2235  0911  CB 9E       	res	3, (hl)
2236  0913  18 2A       	jr	l_player_move_00149
2237  0915              l_player_move_00141:
2238  0915  3A 00 00    	ld	a,(_sprite)
2239  0918  C6 00       	add	a,+((_tile) & 0xFF)
2240  091A  4F          	ld	c,a
2241  091B  3E 00       	ld	a,+((_tile) / 256)
2242  091D  CE 00       	adc	a,0x00
2243  091F  47          	ld	b,a
2244  0920  3A 00 00    	ld	a,(_tile_offset)
2245  0923  5F          	ld	e,a
2246  0924  16 00       	ld	d,0x00
2247  0926  13          	inc	de
2248  0927  13          	inc	de
2249  0928  13          	inc	de
2250  0929  13          	inc	de
2251  092A  2A 00 00    	ld	hl,(_sprite)
2252  092D  C5          	push	bc
2253  092E  26 0C       	ld	h,0x0c
2254  0930  E5          	push	hl
2255  0931  D5          	push	de
2256  0932  CD 00 00    	call	_spr_tile_dir
2257  0935  F1          	pop	af
2258  0936  F1          	pop	af
2259  0937  C1          	pop	bc
2260  0938  7D          	ld	a, l
2261  0939  02          	ld	(bc),a
2262  093A  18 03       	jr	l_player_move_00149
2263  093C              l_player_move_00148:
2264  093C  CD 00 00    	call	_test_func
2265  093F              l_player_move_00149:
2266  093F  2A 00 00    	ld	hl,(_sprite)
2267  0942  26 00       	ld	h,0x00
2268  0944  29          	add	hl,hl
2269  0945  DD 75 FD    	ld	(ix-3),l
2270  0948  DD 74 FE    	ld	(ix-2),h
2271  094B  3E 00       	ld	a,+((_spr_timer) & 0xFF)
2272  094D  85          	add	a,l
2273  094E  DD 77 FD    	ld	(ix-3),a
2274  0951  3E 00       	ld	a,+((_spr_timer) / 256)
2275  0953  DD 8E FE    	adc	a,(ix-2)
2276  0956  DD 77 FE    	ld	(ix-2),a
2277  0959  E1          	pop	hl
2278  095A  E5          	push	hl
2279  095B  11 FD FF    	ld	de,-3
2280  095E  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
2281  0961  E1          	pop	hl
2282  0962  01 04 00    	ld	bc,0x0004
2283  0965  E5          	push	hl
2284  0966  C5          	push	bc
2285  0967  E5          	push	hl
2286  0968  CD 00 00    	call	_game_check_time
2287  096B  F1          	pop	af
2288  096C  F1          	pop	af
2289  096D  7D          	ld	a,l
2290  096E  B7          	or	a, a
2291  096F  28 03       	jr	Z,l_player_move_00152
2292  0971  CD 5D 0E    	call	_player_hit_brick_clear
2293  0974              l_player_move_00152:
2294  0974  CD 00 00    	call	_spr_redraw
2295  0977  3A 00 00    	ld	a,(_sprite)
2296  097A  C6 00       	add	a,+((_state) & 0xFF)
2297  097C  4F          	ld	c,a
2298  097D  3E 00       	ld	a,+((_state) / 256)
2299  097F  CE 00       	adc	a,0x00
2300  0981  47          	ld	b,a
2301  0982  3A 00 00    	ld	a,(_s_state)
2302  0985  02          	ld	(bc),a
2303  0986  2E 00       	ld	l,0x00
2304  0988              l_player_move_00153:
2305  0988  DD F9       	ld	sp, ix
2306  098A  DD E1       	pop	ix
2307  098C  C9          	ret
2308  098D              	SECTION code_compiler
2309  098D              ;	---------------------------------
2310  098D              ; Function player_move_input
2311  098D              ; ---------------------------------
2312  098D              _player_move_input:
2313  098D  CD 33 01    	call	_player_check_input
2314  0990  7D          	ld	a,l
2315  0991  B7          	or	a, a
2316  0992  CA 6F 0B    	jp	Z,l_player_move_input_00126
2317  0995  3A 00 00    	ld	a,(_s_state)
2318  0998  0F          	rrca
2319  0999  DA 6B 0B    	jp	C,l_player_move_input_00123
2320  099C  3A 00 00    	ld	a,(_s_state)
2321  099F  E6 02       	and	a,0x02
2322  09A1  C2 6B 0B    	jp	NZ,l_player_move_input_00123
2323  09A4  2A FF FF    	ld	hl,(_s_col0 - 1)
2324  09A7  3A 00 00    	ld	a,(_s_lin0)
2325  09AA  6F          	ld	l,a
2326  09AB  E5          	push	hl
2327  09AC  CD F3 00    	call	_player_calc_slide
2328  09AF  F1          	pop	af
2329  09B0  3A 00 00    	ld	a,(_sprite)
2330  09B3  C6 00       	add	a,+((_state_a) & 0xFF)
2331  09B5  4F          	ld	c,a
2332  09B6  3E 00       	ld	a,+((_state_a) / 256)
2333  09B8  CE 00       	adc	a,0x00
2334  09BA  47          	ld	b,a
2335  09BB  0A          	ld	a,(bc)
2336  09BC  CB 6F       	bit	5, a
2337  09BE  28 1B       	jr	Z,l_player_move_input_00102
2338  09C0  01 00 00    	ld	bc,_spr_timer+0
2339  09C3  2A 00 00    	ld	hl,(_sprite)
2340  09C6  26 00       	ld	h,0x00
2341  09C8  29          	add	hl, hl
2342  09C9  09          	add	hl,bc
2343  09CA  4D          	ld	c,l
2344  09CB  44          	ld	b,h
2345  09CC  5E          	ld	e,(hl)
2346  09CD  23          	inc	hl
2347  09CE  7E          	ld	a, (hl)
2348  09CF  B3          	or	a,e
2349  09D0  20 09       	jr	NZ,l_player_move_input_00102
2350  09D2  ED 5B 00 00 	ld	de,(_curr_time)
2351  09D6  7B          	ld	a,e
2352  09D7  02          	ld	(bc),a
2353  09D8  03          	inc	bc
2354  09D9  7A          	ld	a,d
2355  09DA  02          	ld	(bc),a
2356  09DB              l_player_move_input_00102:
2357  09DB  3A 00 00    	ld	a,(_dirs)
2358  09DE  E6 08       	and	a,0x08
2359  09E0  28 24       	jr	Z,l_player_move_input_00105
2360  09E2  21 00 00    	ld	hl,_s_state
2361  09E5  CB D6       	set	2, (hl)
2362  09E7  CB 9E       	res	3, (hl)
2363  09E9  3E 00       	ld	a,+((_state_a) & 0xFF)
2364  09EB  21 00 00    	ld	hl,_sprite
2365  09EE  86          	add	a, (hl)
2366  09EF  4F          	ld	c,a
2367  09F0  3E 00       	ld	a,+((_state_a) / 256)
2368  09F2  CE 00       	adc	a,0x00
2369  09F4  47          	ld	b,a
2370  09F5  0A          	ld	a,(bc)
2371  09F6  CB E7       	set	4, a
2372  09F8  02          	ld	(bc),a
2373  09F9  3E 00       	ld	a,+((_state_a) & 0xFF)
2374  09FB  86          	add	a, (hl)
2375  09FC  4F          	ld	c,a
2376  09FD  3E 00       	ld	a,+((_state_a) / 256)
2377  09FF  CE 00       	adc	a,0x00
2378  0A01  47          	ld	b,a
2379  0A02  0A          	ld	a,(bc)
2380  0A03  E6 F7       	and	a,0xf7
2381  0A05  02          	ld	(bc),a
2382  0A06              l_player_move_input_00105:
2383  0A06  3A 00 00    	ld	a,(_dirs)
2384  0A09  E6 04       	and	a,0x04
2385  0A0B  28 24       	jr	Z,l_player_move_input_00107
2386  0A0D  21 00 00    	ld	hl,_s_state
2387  0A10  CB DE       	set	3, (hl)
2388  0A12  CB 96       	res	2, (hl)
2389  0A14  3E 00       	ld	a,+((_state_a) & 0xFF)
2390  0A16  21 00 00    	ld	hl,_sprite
2391  0A19  86          	add	a, (hl)
2392  0A1A  4F          	ld	c,a
2393  0A1B  3E 00       	ld	a,+((_state_a) / 256)
2394  0A1D  CE 00       	adc	a,0x00
2395  0A1F  47          	ld	b,a
2396  0A20  0A          	ld	a,(bc)
2397  0A21  CB DF       	set	3, a
2398  0A23  02          	ld	(bc),a
2399  0A24  3E 00       	ld	a,+((_state_a) & 0xFF)
2400  0A26  86          	add	a, (hl)
2401  0A27  4F          	ld	c,a
2402  0A28  3E 00       	ld	a,+((_state_a) / 256)
2403  0A2A  CE 00       	adc	a,0x00
2404  0A2C  47          	ld	b,a
2405  0A2D  0A          	ld	a,(bc)
2406  0A2E  E6 EF       	and	a,0xef
2407  0A30  02          	ld	(bc),a
2408  0A31              l_player_move_input_00107:
2409  0A31  3A 00 00    	ld	a,(_sprite)
2410  0A34  C6 00       	add	a,+((_state) & 0xFF)
2411  0A36  4F          	ld	c,a
2412  0A37  3E 00       	ld	a,+((_state) / 256)
2413  0A39  CE 00       	adc	a,0x00
2414  0A3B  47          	ld	b,a
2415  0A3C  3A 00 00    	ld	a,(_s_state)
2416  0A3F  02          	ld	(bc),a
2417  0A40  3A 00 00    	ld	a,(_sprite)
2418  0A43  C6 00       	add	a,+((_tile) & 0xFF)
2419  0A45  4F          	ld	c,a
2420  0A46  3E 00       	ld	a,+((_tile) / 256)
2421  0A48  CE 00       	adc	a,0x00
2422  0A4A  47          	ld	b,a
2423  0A4B  3A 00 00    	ld	a,(_tile_offset)
2424  0A4E  5F          	ld	e,a
2425  0A4F  16 00       	ld	d,0x00
2426  0A51  2A 00 00    	ld	hl,(_sprite)
2427  0A54  C5          	push	bc
2428  0A55  26 0C       	ld	h,0x0c
2429  0A57  E5          	push	hl
2430  0A58  D5          	push	de
2431  0A59  CD 00 00    	call	_spr_tile_dir
2432  0A5C  F1          	pop	af
2433  0A5D  F1          	pop	af
2434  0A5E  C1          	pop	bc
2435  0A5F  7D          	ld	a, l
2436  0A60  02          	ld	(bc),a
2437  0A61  3A 00 00    	ld	a,(_dirs)
2438  0A64  07          	rlca
2439  0A65  D2 23 0B    	jp	NC,l_player_move_input_00114
2440  0A68  CD 00 00    	call	_ay_is_playing
2441  0A6B  7D          	ld	a,l
2442  0A6C  D6 03       	sub	a,0x03
2443  0A6E  28 06       	jr	Z,l_player_move_input_00109
2444  0A70  21 00 00    	ld	hl,_ay_effect_03
2445  0A73  CD 00 00    	call	_ay_fx_play
2446  0A76              l_player_move_input_00109:
2447  0A76  CD 00 00    	call	_sound_jump
2448  0A79  3A 00 00    	ld	a,(_sprite)
2449  0A7C  C6 00       	add	a,+((_state) & 0xFF)
2450  0A7E  4F          	ld	c,a
2451  0A7F  3E 00       	ld	a,+((_state) / 256)
2452  0A81  CE 00       	adc	a,0x00
2453  0A83  47          	ld	b,a
2454  0A84  0A          	ld	a,(bc)
2455  0A85  CB 57       	bit	2, a
2456  0A87  28 0F       	jr	Z,l_player_move_input_00111
2457  0A89  3A 00 00    	ld	a,(_sprite)
2458  0A8C  C6 00       	add	a,+((_colint) & 0xFF)
2459  0A8E  4F          	ld	c,a
2460  0A8F  3E 00       	ld	a,+((_colint) / 256)
2461  0A91  CE 00       	adc	a,0x00
2462  0A93  47          	ld	b,a
2463  0A94  AF          	xor	a, a
2464  0A95  02          	ld	(bc),a
2465  0A96  18 0E       	jr	l_player_move_input_00112
2466  0A98              l_player_move_input_00111:
2467  0A98  3A 00 00    	ld	a,(_sprite)
2468  0A9B  C6 00       	add	a,+((_colint) & 0xFF)
2469  0A9D  4F          	ld	c,a
2470  0A9E  3E 00       	ld	a,+((_colint) / 256)
2471  0AA0  CE 00       	adc	a,0x00
2472  0AA2  47          	ld	b,a
2473  0AA3  3E 02       	ld	a,0x02
2474  0AA5  02          	ld	(bc),a
2475  0AA6              l_player_move_input_00112:
2476  0AA6  21 00 00    	ld	hl,_s_state
2477  0AA9  CB C6       	set	0, (hl)
2478  0AAB  CB 8E       	res	1, (hl)
2479  0AAD  2A 00 00    	ld	hl,(_sprite)
2480  0AB0  26 00       	ld	h,0x00
2481  0AB2  01 00 00    	ld	bc,_state_a
2482  0AB5  09          	add	hl,bc
2483  0AB6  7E          	ld	a,(hl)
2484  0AB7  E6 DF       	and	a,0xdf
2485  0AB9  77          	ld	(hl),a
2486  0ABA  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2487  0ABC  21 00 00    	ld	hl,_sprite
2488  0ABF  86          	add	a, (hl)
2489  0AC0  4F          	ld	c,a
2490  0AC1  3E 00       	ld	a,+((_jump_lin) / 256)
2491  0AC3  CE 00       	adc	a,0x00
2492  0AC5  47          	ld	b,a
2493  0AC6  3E 00       	ld	a,+((_lin) & 0xFF)
2494  0AC8  86          	add	a, (hl)
2495  0AC9  5F          	ld	e,a
2496  0ACA  3E 00       	ld	a,+((_lin) / 256)
2497  0ACC  CE 00       	adc	a,0x00
2498  0ACE  57          	ld	d,a
2499  0ACF  1A          	ld	a,(de)
2500  0AD0  02          	ld	(bc),a
2501  0AD1  3E 00       	ld	a,+((_state) & 0xFF)
2502  0AD3  86          	add	a, (hl)
2503  0AD4  4F          	ld	c,a
2504  0AD5  3E 00       	ld	a,+((_state) / 256)
2505  0AD7  CE 00       	adc	a,0x00
2506  0AD9  47          	ld	b,a
2507  0ADA  3A 00 00    	ld	a,(_s_state)
2508  0ADD  02          	ld	(bc),a
2509  0ADE  3A 00 00    	ld	a,(_sprite)
2510  0AE1  C6 00       	add	a,+((_tile) & 0xFF)
2511  0AE3  4F          	ld	c,a
2512  0AE4  3E 00       	ld	a,+((_tile) / 256)
2513  0AE6  CE 00       	adc	a,0x00
2514  0AE8  47          	ld	b,a
2515  0AE9  3A 00 00    	ld	a,(_tile_offset)
2516  0AEC  5F          	ld	e,a
2517  0AED  16 00       	ld	d,0x00
2518  0AEF  21 07 00    	ld	hl,0x0007
2519  0AF2  19          	add	hl,de
2520  0AF3  EB          	ex	de,hl
2521  0AF4  2A 00 00    	ld	hl,(_sprite)
2522  0AF7  C5          	push	bc
2523  0AF8  26 0C       	ld	h,0x0c
2524  0AFA  E5          	push	hl
2525  0AFB  D5          	push	de
2526  0AFC  CD 00 00    	call	_spr_tile_dir
2527  0AFF  F1          	pop	af
2528  0B00  F1          	pop	af
2529  0B01  C1          	pop	bc
2530  0B02  7D          	ld	a, l
2531  0B03  02          	ld	(bc),a
2532  0B04  3A 00 00    	ld	a,(_sprite)
2533  0B07  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2534  0B09  4F          	ld	c,a
2535  0B0A  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2536  0B0C  CE 00       	adc	a,0x00
2537  0B0E  47          	ld	b,a
2538  0B0F  3E 02       	ld	a,0x02
2539  0B11  02          	ld	(bc),a
2540  0B12  3A 00 00    	ld	a,(_index_player)
2541  0B15  C6 00       	add	a,+((_player_jump_c) & 0xFF)
2542  0B17  4F          	ld	c,a
2543  0B18  3E 00       	ld	a,+((_player_jump_c) / 256)
2544  0B1A  CE 00       	adc	a,0x00
2545  0B1C  47          	ld	b,a
2546  0B1D  AF          	xor	a, a
2547  0B1E  02          	ld	(bc),a
2548  0B1F  2E 01       	ld	l,0x01
2549  0B21  18 4E       	jr	l_player_move_input_00127
2550  0B23              l_player_move_input_00114:
2551  0B23  CD 00 00    	call	_ay_is_playing
2552  0B26  7D          	ld	a,l
2553  0B27  B7          	or	a, a
2554  0B28  20 0C       	jr	NZ,l_player_move_input_00116
2555  0B2A  3A 00 00    	ld	a,(_game_bonus)
2556  0B2D  B7          	or	a, a
2557  0B2E  20 06       	jr	NZ,l_player_move_input_00116
2558  0B30  21 00 00    	ld	hl,_ay_effect_20
2559  0B33  CD 00 00    	call	_ay_fx_play
2560  0B36              l_player_move_input_00116:
2561  0B36  3A 00 00    	ld	a,(_sprite)
2562  0B39  C6 00       	add	a,+((_state_a) & 0xFF)
2563  0B3B  4F          	ld	c,a
2564  0B3C  3E 00       	ld	a,+((_state_a) / 256)
2565  0B3E  CE 00       	adc	a,0x00
2566  0B40  47          	ld	b,a
2567  0B41  0A          	ld	a,(bc)
2568  0B42  CB 6F       	bit	5, a
2569  0B44  28 22       	jr	Z,l_player_move_input_00121
2570  0B46  01 00 00    	ld	bc,_colint+0
2571  0B49  79          	ld	a,c
2572  0B4A  21 00 00    	ld	hl,_sprite
2573  0B4D  86          	add	a, (hl)
2574  0B4E  5F          	ld	e,a
2575  0B4F  78          	ld	a,b
2576  0B50  CE 00       	adc	a,0x00
2577  0B52  57          	ld	d,a
2578  0B53  1A          	ld	a,(de)
2579  0B54  3C          	inc	a
2580  0B55  12          	ld	(de),a
2581  0B56  79          	ld	a,c
2582  0B57  86          	add	a, (hl)
2583  0B58  4F          	ld	c,a
2584  0B59  78          	ld	a,b
2585  0B5A  CE 00       	adc	a,0x00
2586  0B5C  47          	ld	b,a
2587  0B5D  0A          	ld	a,(bc)
2588  0B5E  D6 02       	sub	a,0x02
2589  0B60  20 02       	jr	NZ,l_player_move_input_00119
2590  0B62  AF          	xor	a, a
2591  0B63  02          	ld	(bc),a
2592  0B64              l_player_move_input_00119:
2593  0B64  2E 01       	ld	l,0x01
2594  0B66  18 09       	jr	l_player_move_input_00127
2595  0B68              l_player_move_input_00121:
2596  0B68  CD 72 0B    	call	_player_move_horizontal
2597  0B6B              l_player_move_input_00123:
2598  0B6B  2E 01       	ld	l,0x01
2599  0B6D  18 02       	jr	l_player_move_input_00127
2600  0B6F              l_player_move_input_00126:
2601  0B6F  2E 00       	ld	l,0x00
2602  0B71              l_player_move_input_00127:
2603  0B71  C9          	ret
2604  0B72              	SECTION code_compiler
2605  0B72              ;	---------------------------------
2606  0B72              ; Function player_move_horizontal
2607  0B72              ; ---------------------------------
2608  0B72              _player_move_horizontal:
2609  0B72  CD 82 0B    	call	_player_push_check
2610  0B75  7D          	ld	a,l
2611  0B76  B7          	or	a, a
2612  0B77  28 05       	jr	Z,l_player_move_horizontal_00102
2613  0B79  CD F4 0B    	call	_player_push
2614  0B7C  18 03       	jr	l_player_move_horizontal_00104
2615  0B7E              l_player_move_horizontal_00102:
2616  0B7E  CD 00 00    	call	_spr_move_horizontal
2617  0B81              l_player_move_horizontal_00104:
2618  0B81  C9          	ret
2619  0B82              	SECTION code_compiler
2620  0B82              ;	---------------------------------
2621  0B82              ; Function player_push_check
2622  0B82              ; ---------------------------------
2623  0B82              _player_push_check:
2624  0B82  2A 00 00    	ld	hl,(_sprite_other_player)
2625  0B85  26 00       	ld	h,0x00
2626  0B87  01 00 00    	ld	bc,_lin
2627  0B8A  09          	add	hl,bc
2628  0B8B  7E          	ld	a,(hl)
2629  0B8C  4F          	ld	c,a
2630  0B8D  B7          	or	a,a
2631  0B8E  20 03       	jr	NZ,l_player_push_check_00102
2632  0B90  6F          	ld	l,a
2633  0B91  18 60       	jr	l_player_push_check_00111
2634  0B93              l_player_push_check_00102:
2635  0B93  2A 00 00    	ld	hl,(_sprite)
2636  0B96  26 00       	ld	h,0x00
2637  0B98  11 00 00    	ld	de,_lin
2638  0B9B  19          	add	hl,de
2639  0B9C  7E          	ld	a,(hl)
2640  0B9D  EB          	ex	de,hl
2641  0B9E  47          	ld	b,a
2642  0B9F  79          	ld	a,c
2643  0BA0  90          	sub	a, b
2644  0BA1  28 04       	jr	Z,l_player_push_check_00104
2645  0BA3  2E 00       	ld	l,0x00
2646  0BA5  18 4C       	jr	l_player_push_check_00111
2647  0BA7              l_player_push_check_00104:
2648  0BA7  01 00 00    	ld	bc,_col+0
2649  0BAA  2A 00 00    	ld	hl,(_sprite)
2650  0BAD  26 00       	ld	h,0x00
2651  0BAF  09          	add	hl,bc
2652  0BB0  6E          	ld	l, (hl)
2653  0BB1  EB          	ex	de,hl
2654  0BB2  2A 00 00    	ld	hl,(_sprite_other_player)
2655  0BB5  26 00       	ld	h,0x00
2656  0BB7  09          	add	hl,bc
2657  0BB8  4E          	ld	c, (hl)
2658  0BB9  7B          	ld	a,e
2659  0BBA  91          	sub	a, c
2660  0BBB  32 00 00    	ld	(_tmp_sc),a
2661  0BBE  D6 FE       	sub	a,0xfe
2662  0BC0  20 14       	jr	NZ,l_player_push_check_00106
2663  0BC2  3A 00 00    	ld	a,(_sprite)
2664  0BC5  C6 00       	add	a,+((_state) & 0xFF)
2665  0BC7  4F          	ld	c,a
2666  0BC8  3E 00       	ld	a,+((_state) / 256)
2667  0BCA  CE 00       	adc	a,0x00
2668  0BCC  47          	ld	b,a
2669  0BCD  0A          	ld	a,(bc)
2670  0BCE  CB 57       	bit	2, a
2671  0BD0  28 04       	jr	Z,l_player_push_check_00106
2672  0BD2  2E 01       	ld	l,0x01
2673  0BD4  18 1D       	jr	l_player_push_check_00111
2674  0BD6              l_player_push_check_00106:
2675  0BD6  3A 00 00    	ld	a,(_tmp_sc)
2676  0BD9  D6 02       	sub	a,0x02
2677  0BDB  20 14       	jr	NZ,l_player_push_check_00109
2678  0BDD  3A 00 00    	ld	a,(_sprite)
2679  0BE0  C6 00       	add	a,+((_state) & 0xFF)
2680  0BE2  4F          	ld	c,a
2681  0BE3  3E 00       	ld	a,+((_state) / 256)
2682  0BE5  CE 00       	adc	a,0x00
2683  0BE7  47          	ld	b,a
2684  0BE8  0A          	ld	a,(bc)
2685  0BE9  CB 5F       	bit	3, a
2686  0BEB  28 04       	jr	Z,l_player_push_check_00109
2687  0BED  2E 01       	ld	l,0x01
2688  0BEF  18 02       	jr	l_player_push_check_00111
2689  0BF1              l_player_push_check_00109:
2690  0BF1  2E 00       	ld	l,0x00
2691  0BF3              l_player_push_check_00111:
2692  0BF3  C9          	ret
2693  0BF4              	SECTION code_compiler
2694  0BF4              ;	---------------------------------
2695  0BF4              ; Function player_push
2696  0BF4              ; ---------------------------------
2697  0BF4              _player_push:
2698  0BF4  3A 00 00    	ld	a,(_sprite)
2699  0BF7  32 00 00    	ld	(_tmp),a
2700  0BFA  3A 00 00    	ld	a,(_s_col0)
2701  0BFD  32 00 00    	ld	(_tmp0),a
2702  0C00  3A 00 00    	ld	a,(_sprite_other_player)
2703  0C03  C6 00       	add	a,+((_lin) & 0xFF)
2704  0C05  4F          	ld	c,a
2705  0C06  3E 00       	ld	a,+((_lin) / 256)
2706  0C08  CE 00       	adc	a,0x00
2707  0C0A  47          	ld	b,a
2708  0C0B  0A          	ld	a,(bc)
2709  0C0C  32 00 00    	ld	(_s_lin0),a
2710  0C0F  3A 00 00    	ld	a,(_sprite_other_player)
2711  0C12  C6 00       	add	a,+((_col) & 0xFF)
2712  0C14  4F          	ld	c,a
2713  0C15  3E 00       	ld	a,+((_col) / 256)
2714  0C17  CE 00       	adc	a,0x00
2715  0C19  47          	ld	b,a
2716  0C1A  0A          	ld	a,(bc)
2717  0C1B  32 00 00    	ld	(_s_col0),a
2718  0C1E  01 00 00    	ld	bc,_spr_timer+0
2719  0C21  2A 00 00    	ld	hl,(_sprite_other_player)
2720  0C24  26 00       	ld	h,0x00
2721  0C26  29          	add	hl, hl
2722  0C27  09          	add	hl,bc
2723  0C28  ED 5B 00 00 	ld	de,(_curr_time)
2724  0C2C  73          	ld	(hl),e
2725  0C2D  23          	inc	hl
2726  0C2E  72          	ld	(hl),d
2727  0C2F  3E 00       	ld	a,+((_state_a) & 0xFF)
2728  0C31  21 00 00    	ld	hl,_sprite_other_player
2729  0C34  86          	add	a, (hl)
2730  0C35  4F          	ld	c,a
2731  0C36  3E 00       	ld	a,+((_state_a) / 256)
2732  0C38  CE 00       	adc	a,0x00
2733  0C3A  47          	ld	b,a
2734  0C3B  0A          	ld	a,(bc)
2735  0C3C  CB D7       	set	2, a
2736  0C3E  02          	ld	(bc),a
2737  0C3F  7E          	ld	a,(hl)
2738  0C40  32 00 00    	ld	(_sprite),a
2739  0C43  3A 00 00    	ld	a,(_tmp)
2740  0C46  C6 00       	add	a,+((_state) & 0xFF)
2741  0C48  4F          	ld	c,a
2742  0C49  3E 00       	ld	a,+((_state) / 256)
2743  0C4B  CE 00       	adc	a,0x00
2744  0C4D  47          	ld	b,a
2745  0C4E  0A          	ld	a,(bc)
2746  0C4F  CB 57       	bit	2, a
2747  0C51  28 05       	jr	Z,l_player_push_00102
2748  0C53  CD 00 00    	call	_spr_move_right
2749  0C56  18 03       	jr	l_player_push_00103
2750  0C58              l_player_push_00102:
2751  0C58  CD 00 00    	call	_spr_move_left
2752  0C5B              l_player_push_00103:
2753  0C5B  CD 00 00    	call	_spr_redraw
2754  0C5E  3A 00 00    	ld	a,(_tmp)
2755  0C61  32 00 00    	ld	(_sprite),a
2756  0C64  C6 00       	add	a,+((_lin) & 0xFF)
2757  0C66  4F          	ld	c,a
2758  0C67  3E 00       	ld	a,+((_lin) / 256)
2759  0C69  CE 00       	adc	a,0x00
2760  0C6B  47          	ld	b,a
2761  0C6C  0A          	ld	a,(bc)
2762  0C6D  32 00 00    	ld	(_s_lin0),a
2763  0C70  3A 00 00    	ld	a,(_tmp0)
2764  0C73  32 00 00    	ld	(_s_col0),a
2765  0C76  C9          	ret
2766  0C77              	SECTION code_compiler
2767  0C77              ;	---------------------------------
2768  0C77              ; Function player_hit_brick
2769  0C77              ; ---------------------------------
2770  0C77              _player_hit_brick:
2771  0C77  3A 00 00    	ld	a,(_index_player)
2772  0C7A  C6 00       	add	a,+((_hit_lin) & 0xFF)
2773  0C7C  4F          	ld	c,a
2774  0C7D  3E 00       	ld	a,+((_hit_lin) / 256)
2775  0C7F  CE 00       	adc	a,0x00
2776  0C81  47          	ld	b,a
2777  0C82  0A          	ld	a,(bc)
2778  0C83  B7          	or	a, a
2779  0C84  C2 5A 0E    	jp	NZ,l_player_hit_brick_00112
2780  0C87  3A 00 00    	ld	a,(_sprite)
2781  0C8A  C6 00       	add	a,+((_lin) & 0xFF)
2782  0C8C  4F          	ld	c,a
2783  0C8D  3E 00       	ld	a,+((_lin) / 256)
2784  0C8F  CE 00       	adc	a,0x00
2785  0C91  47          	ld	b,a
2786  0C92  0A          	ld	a,(bc)
2787  0C93  5F          	ld	e,a
2788  0C94  3E 10       	ld	a,0x10
2789  0C96  93          	sub	a, e
2790  0C97  D2 5A 0E    	jp	NC,l_player_hit_brick_00112
2791  0C9A  21 00 00    	ld	hl,_enemies
2792  0C9D  36 00       	ld	(hl),0x00
2793  0C9F              l_player_hit_brick_00114:
2794  0C9F  2A 00 00    	ld	hl,(_enemies)
2795  0CA2  26 00       	ld	h,0x00
2796  0CA4  11 00 00    	ld	de,_class
2797  0CA7  19          	add	hl,de
2798  0CA8  7E          	ld	a,(hl)
2799  0CA9  B7          	or	a,a
2800  0CAA  28 5F       	jr	Z,l_player_hit_brick_00115
2801  0CAC  0A          	ld	a,(bc)
2802  0CAD  4F          	ld	c,a
2803  0CAE  06 00       	ld	b,0x00
2804  0CB0  2A 00 00    	ld	hl,(_enemies)
2805  0CB3  60          	ld	h,b
2806  0CB4  11 00 00    	ld	de,_lin
2807  0CB7  19          	add	hl,de
2808  0CB8  5E          	ld	e, (hl)
2809  0CB9  16 00       	ld	d,0x00
2810  0CBB  79          	ld	a,c
2811  0CBC  93          	sub	a,e
2812  0CBD  4F          	ld	c,a
2813  0CBE  78          	ld	a,b
2814  0CBF  9A          	sbc	a,d
2815  0CC0  47          	ld	b,a
2816  0CC1  79          	ld	a,c
2817  0CC2  D6 18       	sub	a,0x18
2818  0CC4  20 45       	jr	NZ,l_player_hit_brick_00115
2819  0CC6  B0          	or	a,b
2820  0CC7  20 42       	jr	NZ,l_player_hit_brick_00115
2821  0CC9  3A 00 00    	ld	a,(_enemies)
2822  0CCC  4F          	ld	c,a
2823  0CCD  06 00       	ld	b,0x00
2824  0CCF  21 00 00    	ld	hl,_state
2825  0CD2  09          	add	hl,bc
2826  0CD3  CB 6E       	bit	5,(hl)
2827  0CD5  20 34       	jr	NZ,l_player_hit_brick_00115
2828  0CD7  2A 00 00    	ld	hl,(_sprite)
2829  0CDA  26 00       	ld	h,0x00
2830  0CDC  01 00 00    	ld	bc,_col
2831  0CDF  09          	add	hl,bc
2832  0CE0  4E          	ld	c,(hl)
2833  0CE1  06 00       	ld	b,0x00
2834  0CE3  2A 00 00    	ld	hl,(_enemies)
2835  0CE6  60          	ld	h,b
2836  0CE7  11 00 00    	ld	de,_col
2837  0CEA  19          	add	hl,de
2838  0CEB  5E          	ld	e, (hl)
2839  0CEC  16 00       	ld	d,0x00
2840  0CEE  79          	ld	a,c
2841  0CEF  93          	sub	a, e
2842  0CF0  6F          	ld	l,a
2843  0CF1  78          	ld	a,b
2844  0CF2  9A          	sbc	a, d
2845  0CF3  67          	ld	h,a
2846  0CF4  CD 00 00    	call	_abs_fastcall
2847  0CF7  3E 02       	ld	a,0x02
2848  0CF9  BD          	cp	a,l
2849  0CFA  3E 00       	ld	a,0x00
2850  0CFC  9C          	sbc	a,h
2851  0CFD  E2 02 0D    	jp	PO, l_player_hit_brick_00166
2852  0D00  EE 80       	xor	a,0x80
2853  0D02              l_player_hit_brick_00166:
2854  0D02  FA 0B 0D    	jp	M,l_player_hit_brick_00115
2855  0D05  CD 00 00    	call	_enemy_hit
2856  0D08  CD 00 00    	call	_sound_hit_enemy
2857  0D0B              l_player_hit_brick_00115:
2858  0D0B  21 00 00    	ld	hl,_enemies
2859  0D0E  34          	inc	(hl)
2860  0D0F  3A 00 00    	ld	a,(_sprite)
2861  0D12  C6 00       	add	a,+((_lin) & 0xFF)
2862  0D14  4F          	ld	c,a
2863  0D15  3E 00       	ld	a,+((_lin) / 256)
2864  0D17  CE 00       	adc	a,0x00
2865  0D19  47          	ld	b,a
2866  0D1A  3A 00 00    	ld	a,(_enemies)
2867  0D1D  D6 06       	sub	a,0x06
2868  0D1F  DA 9F 0C    	jp	C,l_player_hit_brick_00114
2869  0D22  2A 00 00    	ld	hl,(_sprite_other_player)
2870  0D25  26 00       	ld	h,0x00
2871  0D27  11 00 00    	ld	de,_lin
2872  0D2A  19          	add	hl,de
2873  0D2B  7E          	ld	a,(hl)
2874  0D2C  5F          	ld	e,a
2875  0D2D  B7          	or	a, a
2876  0D2E  CA F7 0D    	jp	Z,l_player_hit_brick_00108
2877  0D31  0A          	ld	a,(bc)
2878  0D32  6F          	ld	l,a
2879  0D33  AF          	xor	a,a
2880  0D34  67          	ld	h,a
2881  0D35  57          	ld	d,a
2882  0D36  ED 52       	sbc	hl,de
2883  0D38  7D          	ld	a,l
2884  0D39  D6 18       	sub	a,0x18
2885  0D3B  C2 F7 0D    	jp	NZ,l_player_hit_brick_00108
2886  0D3E  B4          	or	a,h
2887  0D3F  C2 F7 0D    	jp	NZ,l_player_hit_brick_00108
2888  0D42  2A 00 00    	ld	hl,(_sprite)
2889  0D45  26 00       	ld	h,0x00
2890  0D47  01 00 00    	ld	bc,_col
2891  0D4A  09          	add	hl,bc
2892  0D4B  4E          	ld	c,(hl)
2893  0D4C  06 00       	ld	b,0x00
2894  0D4E  2A 00 00    	ld	hl,(_sprite_other_player)
2895  0D51  60          	ld	h,b
2896  0D52  11 00 00    	ld	de,_col
2897  0D55  19          	add	hl,de
2898  0D56  5E          	ld	e, (hl)
2899  0D57  16 00       	ld	d,0x00
2900  0D59  79          	ld	a,c
2901  0D5A  93          	sub	a, e
2902  0D5B  6F          	ld	l,a
2903  0D5C  78          	ld	a,b
2904  0D5D  9A          	sbc	a, d
2905  0D5E  67          	ld	h,a
2906  0D5F  CD 00 00    	call	_abs_fastcall
2907  0D62  3E 02       	ld	a,0x02
2908  0D64  BD          	cp	a,l
2909  0D65  3E 00       	ld	a,0x00
2910  0D67  9C          	sbc	a,h
2911  0D68  E2 6D 0D    	jp	PO, l_player_hit_brick_00169
2912  0D6B  EE 80       	xor	a,0x80
2913  0D6D              l_player_hit_brick_00169:
2914  0D6D  FA F7 0D    	jp	M,l_player_hit_brick_00108
2915  0D70  3E 00       	ld	a,+((_col) & 0xFF)
2916  0D72  21 00 00    	ld	hl,_sprite_other_player
2917  0D75  86          	add	a, (hl)
2918  0D76  4F          	ld	c,a
2919  0D77  3E 00       	ld	a,+((_col) / 256)
2920  0D79  CE 00       	adc	a,0x00
2921  0D7B  47          	ld	b,a
2922  0D7C  0A          	ld	a,(bc)
2923  0D7D  57          	ld	d,a
2924  0D7E  4E          	ld	c,(hl)
2925  0D7F  06 00       	ld	b,0x00
2926  0D81  21 00 00    	ld	hl,_lin
2927  0D84  09          	add	hl,bc
2928  0D85  5E          	ld	e, (hl)
2929  0D86  D5          	push	de
2930  0D87  AF          	xor	a, a
2931  0D88  F5          	push	af
2932  0D89  33          	inc	sp
2933  0D8A  CD 00 00    	call	_NIRVANAP_fillT_callee
2934  0D8D  2A 00 00    	ld	hl,(_sprite_other_player)
2935  0D90  26 00       	ld	h,0x00
2936  0D92  01 00 00    	ld	bc,_lin
2937  0D95  09          	add	hl,bc
2938  0D96  7E          	ld	a,(hl)
2939  0D97  C6 FC       	add	a,0xfc
2940  0D99  77          	ld	(hl),a
2941  0D9A  3E 00       	ld	a,+((_col) & 0xFF)
2942  0D9C  21 00 00    	ld	hl,_sprite_other_player
2943  0D9F  86          	add	a, (hl)
2944  0DA0  4F          	ld	c,a
2945  0DA1  3E 00       	ld	a,+((_col) / 256)
2946  0DA3  CE 00       	adc	a,0x00
2947  0DA5  47          	ld	b,a
2948  0DA6  0A          	ld	a,(bc)
2949  0DA7  57          	ld	d,a
2950  0DA8  3E 00       	ld	a,+((_lin) & 0xFF)
2951  0DAA  86          	add	a, (hl)
2952  0DAB  4F          	ld	c,a
2953  0DAC  3E 00       	ld	a,+((_lin) / 256)
2954  0DAE  CE 00       	adc	a,0x00
2955  0DB0  47          	ld	b,a
2956  0DB1  0A          	ld	a,(bc)
2957  0DB2  5F          	ld	e,a
2958  0DB3  3E 00       	ld	a,+((_tile) & 0xFF)
2959  0DB5  86          	add	a, (hl)
2960  0DB6  4F          	ld	c,a
2961  0DB7  3E 00       	ld	a,+((_tile) / 256)
2962  0DB9  CE 00       	adc	a,0x00
2963  0DBB  47          	ld	b,a
2964  0DBC  0A          	ld	a,(bc)
2965  0DBD  47          	ld	b,a
2966  0DBE  4E          	ld	c,(hl)
2967  0DBF  D5          	push	de
2968  0DC0  C5          	push	bc
2969  0DC1  CD 00 00    	call	_NIRVANAP_spriteT_callee
2970  0DC4  76          	halt
2971  0DC5  2A 00 00    	ld	hl,(_sprite_other_player)
2972  0DC8  26 00       	ld	h,0x00
2973  0DCA  01 00 00    	ld	bc,_state
2974  0DCD  09          	add	hl,bc
2975  0DCE  7E          	ld	a,(hl)
2976  0DCF  E6 FD       	and	a,0xfd
2977  0DD1  77          	ld	(hl),a
2978  0DD2  3E 00       	ld	a,+((_state) & 0xFF)
2979  0DD4  21 00 00    	ld	hl,_sprite_other_player
2980  0DD7  86          	add	a, (hl)
2981  0DD8  4F          	ld	c,a
2982  0DD9  3E 00       	ld	a,+((_state) / 256)
2983  0DDB  CE 00       	adc	a,0x00
2984  0DDD  47          	ld	b,a
2985  0DDE  0A          	ld	a,(bc)
2986  0DDF  CB C7       	set	0, a
2987  0DE1  02          	ld	(bc),a
2988  0DE2  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2989  0DE4  86          	add	a, (hl)
2990  0DE5  4F          	ld	c,a
2991  0DE6  3E 00       	ld	a,+((_jump_lin) / 256)
2992  0DE8  CE 00       	adc	a,0x00
2993  0DEA  47          	ld	b,a
2994  0DEB  5E          	ld	e,(hl)
2995  0DEC  16 00       	ld	d,0x00
2996  0DEE  21 00 00    	ld	hl,_lin
2997  0DF1  19          	add	hl,de
2998  0DF2  7E          	ld	a,(hl)
2999  0DF3  C6 14       	add	a,0x14
3000  0DF5  02          	ld	(bc),a
3001  0DF6  76          	halt
3002  0DF7              l_player_hit_brick_00108:
3003  0DF7  3E 00       	ld	a,+((_state_a) & 0xFF)
3004  0DF9  21 00 00    	ld	hl,_sprite
3005  0DFC  86          	add	a, (hl)
3006  0DFD  4F          	ld	c,a
3007  0DFE  3E 00       	ld	a,+((_state_a) / 256)
3008  0E00  CE 00       	adc	a,0x00
3009  0E02  47          	ld	b,a
3010  0E03  0A          	ld	a,(bc)
3011  0E04  CB FF       	set	7, a
3012  0E06  02          	ld	(bc),a
3013  0E07  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
3014  0E09  86          	add	a, (hl)
3015  0E0A  4F          	ld	c,a
3016  0E0B  3E 00       	ld	a,+((_player_jump_c) / 256)
3017  0E0D  CE 00       	adc	a,0x00
3018  0E0F  47          	ld	b,a
3019  0E10  3E 06       	ld	a,0x06
3020  0E12  02          	ld	(bc),a
3021  0E13  01 00 00    	ld	bc,_spr_timer+0
3022  0E16  6E          	ld	l,(hl)
3023  0E17  26 00       	ld	h,0x00
3024  0E19  29          	add	hl, hl
3025  0E1A  09          	add	hl,bc
3026  0E1B  ED 5B 00 00 	ld	de,(_curr_time)
3027  0E1F  73          	ld	(hl),e
3028  0E20  23          	inc	hl
3029  0E21  72          	ld	(hl),d
3030  0E22  3A 00 00    	ld	a,(_index_player)
3031  0E25  C6 00       	add	a,+((_hit_lin) & 0xFF)
3032  0E27  4F          	ld	c,a
3033  0E28  3E 00       	ld	a,+((_hit_lin) / 256)
3034  0E2A  CE 00       	adc	a,0x00
3035  0E2C  47          	ld	b,a
3036  0E2D  2A 00 00    	ld	hl,(_sprite)
3037  0E30  26 00       	ld	h,0x00
3038  0E32  11 00 00    	ld	de,_lin
3039  0E35  19          	add	hl,de
3040  0E36  7E          	ld	a,(hl)
3041  0E37  02          	ld	(bc),a
3042  0E38  3A 00 00    	ld	a,(_index_player)
3043  0E3B  C6 00       	add	a,+((_hit_col) & 0xFF)
3044  0E3D  4F          	ld	c,a
3045  0E3E  3E 00       	ld	a,+((_hit_col) / 256)
3046  0E40  CE 00       	adc	a,0x00
3047  0E42  47          	ld	b,a
3048  0E43  2A 00 00    	ld	hl,(_sprite)
3049  0E46  26 00       	ld	h,0x00
3050  0E48  11 00 00    	ld	de,_col
3051  0E4B  19          	add	hl,de
3052  0E4C  7E          	ld	a,(hl)
3053  0E4D  02          	ld	(bc),a
3054  0E4E  2E 01       	ld	l,0x01
3055  0E50  CD 00 00    	call	_spr_brick_anim
3056  0E53  CD 00 00    	call	_sound_hit_brick
3057  0E56  2E 01       	ld	l,0x01
3058  0E58  18 02       	jr	l_player_hit_brick_00116
3059  0E5A              l_player_hit_brick_00112:
3060  0E5A  2E 00       	ld	l,0x00
3061  0E5C              l_player_hit_brick_00116:
3062  0E5C  C9          	ret
3063  0E5D              	SECTION code_compiler
3064  0E5D              ;	---------------------------------
3065  0E5D              ; Function player_hit_brick_clear
3066  0E5D              ; ---------------------------------
3067  0E5D              _player_hit_brick_clear:
3068  0E5D  2A 00 00    	ld	hl,(_index_player)
3069  0E60  26 00       	ld	h,0x00
3070  0E62  01 00 00    	ld	bc,_hit_lin
3071  0E65  09          	add	hl,bc
3072  0E66  7E          	ld	a,(hl)
3073  0E67  4F          	ld	c,a
3074  0E68  B7          	or	a,a
3075  0E69  C8          	ret	Z
3076  0E6A  3A 00 00    	ld	a,(_index_player)
3077  0E6D  5F          	ld	e,a
3078  0E6E  16 00       	ld	d,0x00
3079  0E70  21 00 00    	ld	hl,_hit_col
3080  0E73  19          	add	hl,de
3081  0E74  56          	ld	d, (hl)
3082  0E75  79          	ld	a,c
3083  0E76  C6 F8       	add	a,0xf8
3084  0E78  5F          	ld	e, a
3085  0E79  D5          	push	de
3086  0E7A  CD 00 00    	call	_game_calc_index
3087  0E7D  F1          	pop	af
3088  0E7E  22 00 00    	ld	(_index1),hl
3089  0E81  01 01 00    	ld	bc,0x0001
3090  0E84  09          	add	hl,bc
3091  0E85  22 00 00    	ld	(_index2),hl
3092  0E88  2E 00       	ld	l,0x00
3093  0E8A  CD 00 00    	call	_spr_brick_anim
3094  0E8D  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3095  0E8F  21 00 00    	ld	hl,_index_player
3096  0E92  86          	add	a, (hl)
3097  0E93  4F          	ld	c,a
3098  0E94  3E 00       	ld	a,+((_hit_lin) / 256)
3099  0E96  CE 00       	adc	a,0x00
3100  0E98  47          	ld	b,a
3101  0E99  AF          	xor	a, a
3102  0E9A  02          	ld	(bc),a
3103  0E9B  3E 00       	ld	a,+((_hit_col) & 0xFF)
3104  0E9D  86          	add	a, (hl)
3105  0E9E  4F          	ld	c,a
3106  0E9F  3E 00       	ld	a,+((_hit_col) / 256)
3107  0EA1  CE 00       	adc	a,0x00
3108  0EA3  47          	ld	b,a
3109  0EA4  AF          	xor	a, a
3110  0EA5  02          	ld	(bc),a
3111  0EA6  C9          	ret
3112  0EA7              	SECTION code_compiler
3113  0EA7              ;	---------------------------------
3114  0EA7              ; Function player_hit_pow
3115  0EA7              ; ---------------------------------
3116  0EA7              _player_hit_pow:
3117  0EA7  3A 00 00    	ld	a,(_game_pow)
3118  0EAA  B7          	or	a, a
3119  0EAB  CA 4F 0F    	jp	Z,l_player_hit_pow_00107
3120  0EAE  01 00 00    	ld	bc,_lvl_1
3121  0EB1  2A 00 00    	ld	hl,(_index1)
3122  0EB4  09          	add	hl,bc
3123  0EB5  7E          	ld	a,(hl)
3124  0EB6  D6 11       	sub	a,0x11
3125  0EB8  28 0D       	jr	Z,l_player_hit_pow_00106
3126  0EBA  01 00 00    	ld	bc,_lvl_1
3127  0EBD  2A 00 00    	ld	hl,(_index2)
3128  0EC0  09          	add	hl,bc
3129  0EC1  7E          	ld	a,(hl)
3130  0EC2  D6 11       	sub	a,0x11
3131  0EC4  C2 4F 0F    	jp	NZ,l_player_hit_pow_00107
3132  0EC7              l_player_hit_pow_00106:
3133  0EC7  21 00 00    	ld	hl,_game_pow
3134  0ECA  35          	dec	(hl)
3135  0ECB  21 02 00    	ld	hl,0x0002
3136  0ECE  CD 00 00    	call	_zx_border_fastcall
3137  0ED1  21 00 00    	ld	hl,_enemies
3138  0ED4  36 00       	ld	(hl),0x00
3139  0ED6              l_player_hit_pow_00110:
3140  0ED6  2A 00 00    	ld	hl,(_enemies)
3141  0ED9  26 00       	ld	h,0x00
3142  0EDB  5D          	ld	e,l
3143  0EDC  01 00 00    	ld	bc,_col
3144  0EDF  09          	add	hl,bc
3145  0EE0  46          	ld	b,(hl)
3146  0EE1  16 00       	ld	d,0x00
3147  0EE3  21 00 00    	ld	hl,_lin
3148  0EE6  19          	add	hl,de
3149  0EE7  7E          	ld	a,(hl)
3150  0EE8  C6 10       	add	a,0x10
3151  0EEA  4F          	ld	c,a
3152  0EEB  C5          	push	bc
3153  0EEC  CD 00 00    	call	_game_calc_index
3154  0EEF  F1          	pop	af
3155  0EF0  CD 00 00    	call	_game_check_maze
3156  0EF3  7D          	ld	a,l
3157  0EF4  B7          	or	a, a
3158  0EF5  20 03       	jr	NZ,l_player_hit_pow_00111
3159  0EF7  CD 00 00    	call	_enemy_hit
3160  0EFA              l_player_hit_pow_00111:
3161  0EFA  21 00 00    	ld	hl,_enemies
3162  0EFD  7E          	ld	a,(hl)
3163  0EFE  3C          	inc	a
3164  0EFF  77          	ld	(hl),a
3165  0F00  D6 06       	sub	a,0x06
3166  0F02  38 D2       	jr	C,l_player_hit_pow_00110
3167  0F04  21 00 00    	ld	hl,_ay_effect_06
3168  0F07  CD 00 00    	call	_ay_fx_play
3169  0F0A  CD 00 00    	call	_sound_hit_pow
3170  0F0D  CD 00 00    	call	_spr_draw_pow
3171  0F10  3A 00 00    	ld	a,(_game_pow)
3172  0F13  B7          	or	a, a
3173  0F14  20 13       	jr	NZ,l_player_hit_pow_00105
3174  0F16  21 80 0F    	ld	hl,0x0f80
3175  0F19  E5          	push	hl
3176  0F1A  AF          	xor	a, a
3177  0F1B  F5          	push	af
3178  0F1C  33          	inc	sp
3179  0F1D  CD 00 00    	call	_NIRVANAP_fillT_callee
3180  0F20  21 00 00    	ld	hl,0x0000
3181  0F23  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3182  0F26  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3183  0F29              l_player_hit_pow_00105:
3184  0F29  21 00 00    	ld	hl,0x0000
3185  0F2C  CD 00 00    	call	_zx_border_fastcall
3186  0F2F  3E 00       	ld	a,+((_state_a) & 0xFF)
3187  0F31  21 00 00    	ld	hl,_sprite
3188  0F34  86          	add	a, (hl)
3189  0F35  4F          	ld	c,a
3190  0F36  3E 00       	ld	a,+((_state_a) / 256)
3191  0F38  CE 00       	adc	a,0x00
3192  0F3A  47          	ld	b,a
3193  0F3B  0A          	ld	a,(bc)
3194  0F3C  CB FF       	set	7, a
3195  0F3E  02          	ld	(bc),a
3196  0F3F  3E 00       	ld	a,+((_player_jump_c) & 0xFF)
3197  0F41  86          	add	a, (hl)
3198  0F42  4F          	ld	c,a
3199  0F43  3E 00       	ld	a,+((_player_jump_c) / 256)
3200  0F45  CE 00       	adc	a,0x00
3201  0F47  47          	ld	b,a
3202  0F48  3E 06       	ld	a,0x06
3203  0F4A  02          	ld	(bc),a
3204  0F4B  2E 01       	ld	l,0x01
3205  0F4D  18 02       	jr	l_player_hit_pow_00112
3206  0F4F              l_player_hit_pow_00107:
3207  0F4F  2E 00       	ld	l,0x00
3208  0F51              l_player_hit_pow_00112:
3209  0F51  C9          	ret
3210  0F52              	SECTION code_compiler
3211  0F52              ;	---------------------------------
3212  0F52              ; Function player_coin
3213  0F52              ; ---------------------------------
3214  0F52              _player_coin:
3215  0F52  CD 00 00    	call	___sdcc_enter_ix
3216  0F55  3E 00       	ld	a,+((_class) & 0xFF)
3217  0F57  DD 86 04    	add	a,(ix+4)
3218  0F5A  4F          	ld	c,a
3219  0F5B  3E 00       	ld	a,+((_class) / 256)
3220  0F5D  CE 00       	adc	a,0x00
3221  0F5F  47          	ld	b,a
3222  0F60  0A          	ld	a,(bc)
3223  0F61  D6 07       	sub	a,0x07
3224  0F63  20 16       	jr	NZ,l_player_coin_00102
3225  0F65  21 00 00    	ld	hl,_ay_effect_12
3226  0F68  CD 00 00    	call	_ay_fx_play
3227  0F6B  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3228  0F6D  DD 86 04    	add	a,(ix+4)
3229  0F70  4F          	ld	c,a
3230  0F71  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3231  0F73  CE 00       	adc	a,0x00
3232  0F75  47          	ld	b,a
3233  0F76  3E 03       	ld	a,0x03
3234  0F78  02          	ld	(bc),a
3235  0F79  18 17       	jr	l_player_coin_00103
3236  0F7B              l_player_coin_00102:
3237  0F7B  21 00 00    	ld	hl,_ay_effect_10
3238  0F7E  CD 00 00    	call	_ay_fx_play
3239  0F81  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
3240  0F83  DD 86 04    	add	a,(ix+4)
3241  0F86  4F          	ld	c,a
3242  0F87  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
3243  0F89  CE 00       	adc	a,0x00
3244  0F8B  47          	ld	b,a
3245  0F8C  3E 08       	ld	a,0x08
3246  0F8E  02          	ld	(bc),a
3247  0F8F  CD 00 00    	call	_sound_coin
3248  0F92              l_player_coin_00103:
3249  0F92  3E 00       	ld	a,+((_state) & 0xFF)
3250  0F94  DD 86 04    	add	a,(ix+4)
3251  0F97  4F          	ld	c,a
3252  0F98  3E 00       	ld	a,+((_state) / 256)
3253  0F9A  CE 00       	adc	a,0x00
3254  0F9C  47          	ld	b,a
3255  0F9D  0A          	ld	a,(bc)
3256  0F9E  CB EF       	set	5, a
3257  0FA0  02          	ld	(bc),a
3258  0FA1  01 00 00    	ld	bc,_spr_timer+0
3259  0FA4  DD 6E 04    	ld	l,(ix+4)
3260  0FA7  26 00       	ld	h,0x00
3261  0FA9  29          	add	hl, hl
3262  0FAA  09          	add	hl,bc
3263  0FAB  ED 5B 00 00 	ld	de,(_curr_time)
3264  0FAF  73          	ld	(hl),e
3265  0FB0  23          	inc	hl
3266  0FB1  72          	ld	(hl),d
3267  0FB2  3A 00 00    	ld	a,(_game_bonus)
3268  0FB5  B7          	or	a, a
3269  0FB6  28 1B       	jr	Z,l_player_coin_00107
3270  0FB8  3A 00 00    	ld	a,(_index_player)
3271  0FBB  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3272  0FBD  4F          	ld	c,a
3273  0FBE  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3274  0FC0  CE 00       	adc	a,0x00
3275  0FC2  47          	ld	b,a
3276  0FC3  0A          	ld	a,(bc)
3277  0FC4  3C          	inc	a
3278  0FC5  02          	ld	(bc),a
3279  0FC6  21 00 00    	ld	hl,_phase_left
3280  0FC9  35          	dec (hl)
3281  0FCA  20 0F       	jr	NZ,l_player_coin_00109
3282  0FCC  21 00 00    	ld	hl,_phase_end
3283  0FCF  36 01       	ld	(hl),0x01
3284  0FD1  18 08       	jr	l_player_coin_00109
3285  0FD3              l_player_coin_00107:
3286  0FD3  DD 6E 05    	ld	l,(ix+5)
3287  0FD6  26 00       	ld	h,0x00
3288  0FD8  CD DE 0F    	call	_player_score_add
3289  0FDB              l_player_coin_00109:
3290  0FDB  DD E1       	pop	ix
3291  0FDD  C9          	ret
3292  0FDE              	SECTION code_compiler
3293  0FDE              ;	---------------------------------
3294  0FDE              ; Function player_score_add
3295  0FDE              ; ---------------------------------
3296  0FDE              _player_score_add:
3297  0FDE  4D          	ld	c,l
3298  0FDF  44          	ld	b,h
3299  0FE0  2A 00 00    	ld	hl,(_index_player)
3300  0FE3  26 00       	ld	h,0x00
3301  0FE5  29          	add	hl, hl
3302  0FE6  11 00 00    	ld	de,_player_score
3303  0FE9  19          	add	hl,de
3304  0FEA  5E          	ld	e,(hl)
3305  0FEB  23          	inc	hl
3306  0FEC  56          	ld	d,(hl)
3307  0FED  2B          	dec	hl
3308  0FEE  7B          	ld	a,e
3309  0FEF  81          	add	a, c
3310  0FF0  4F          	ld	c,a
3311  0FF1  7A          	ld	a,d
3312  0FF2  88          	adc	a, b
3313  0FF3  47          	ld	b,a
3314  0FF4  71          	ld	(hl),c
3315  0FF5  23          	inc	hl
3316  0FF6  70          	ld	(hl),b
3317  0FF7  2A 00 00    	ld	hl,(_index_player)
3318  0FFA  26 00       	ld	h,0x00
3319  0FFC  29          	add	hl,hl
3320  0FFD  4D          	ld	c,l
3321  0FFE  44          	ld	b,h
3322  0FFF  21 00 00    	ld	hl,_player_score
3323  1002  09          	add	hl,bc
3324  1003  5E          	ld	e,(hl)
3325  1004  23          	inc	hl
3326  1005  56          	ld	d,(hl)
3327  1006  21 00 00    	ld	hl,_game_score_top
3328  1009  7E          	ld	a,(hl)
3329  100A  93          	sub	a, e
3330  100B  23          	inc	hl
3331  100C  7E          	ld	a,(hl)
3332  100D  9A          	sbc	a, d
3333  100E  30 04       	jr	NC,l_player_score_add_00102
3334  1010  2B          	dec	hl
3335  1011  73          	ld	(hl),e
3336  1012  23          	inc	hl
3337  1013  72          	ld	(hl),d
3338  1014              l_player_score_add_00102:
3339  1014  21 00 00    	ld	hl,_player_next_extra
3340  1017  09          	add	hl,bc
3341  1018  4E          	ld	c,(hl)
3342  1019  23          	inc	hl
3343  101A  46          	ld	b,(hl)
3344  101B  2B          	dec	hl
3345  101C  79          	ld	a,c
3346  101D  93          	sub	a, e
3347  101E  78          	ld	a,b
3348  101F  9A          	sbc	a, d
3349  1020  30 31       	jr	NC,l_player_score_add_00106
3350  1022  79          	ld	a,c
3351  1023  C6 D0       	add	a,0xd0
3352  1025  77          	ld	(hl),a
3353  1026  78          	ld	a,b
3354  1027  CE 07       	adc	a,0x07
3355  1029  23          	inc	hl
3356  102A  77          	ld	(hl),a
3357  102B  3A 00 00    	ld	a,(_index_player)
3358  102E  C6 00       	add	a,+((_game_lives) & 0xFF)
3359  1030  4F          	ld	c,a
3360  1031  3E 00       	ld	a,+((_game_lives) / 256)
3361  1033  CE 00       	adc	a,0x00
3362  1035  47          	ld	b,a
3363  1036  0A          	ld	a,(bc)
3364  1037  3C          	inc	a
3365  1038  02          	ld	(bc),a
3366  1039  3A 00 00    	ld	a,(_game_bonus)
3367  103C  B7          	or	a, a
3368  103D  20 03       	jr	NZ,l_player_score_add_00104
3369  103F  CD 00 00    	call	_game_print_lives
3370  1042              l_player_score_add_00104:
3371  1042  CD 00 00    	call	_sound_coin
3372  1045  CD 00 00    	call	_sound_coin
3373  1048  CD 00 00    	call	_sound_coin
3374  104B  CD 00 00    	call	_sound_coin
3375  104E  21 00 00    	ld	hl,_hit_count
3376  1051  36 08       	ld	(hl),0x08
3377  1053              l_player_score_add_00106:
3378  1053  C3 00 00    	jp  _game_print_score
3379  1056              	SECTION code_compiler
3380  1056              ;	---------------------------------
3381  1056              ; Function player_set1
3382  1056              ; ---------------------------------
3383  1056              _player_set1:
3384  1056  21 00 00    	ld	hl,_sprite
3385  1059  36 07       	ld	(hl),0x07
3386  105B  21 00 00    	ld	hl,_sprite_other_player
3387  105E  36 06       	ld	(hl),0x06
3388  1060  21 00 00    	ld	hl,_index_player
3389  1063  36 00       	ld	(hl),0x00
3390  1065  21 00 00    	ld	hl,_tile_offset
3391  1068  36 00       	ld	(hl),0x00
3392  106A  21 00 00    	ld	hl,_tile_offset_other_player
3393  106D  36 18       	ld	(hl),0x18
3394  106F  C9          	ret
3395  1070              	SECTION code_compiler
3396  1070              ;	---------------------------------
3397  1070              ; Function player_set2
3398  1070              ; ---------------------------------
3399  1070              _player_set2:
3400  1070  21 00 00    	ld	hl,_sprite
3401  1073  36 06       	ld	(hl),0x06
3402  1075  21 00 00    	ld	hl,_sprite_other_player
3403  1078  36 07       	ld	(hl),0x07
3404  107A  21 00 00    	ld	hl,_index_player
3405  107D  36 01       	ld	(hl),0x01
3406  107F  21 00 00    	ld	hl,_tile_offset
3407  1082  36 18       	ld	(hl),0x18
3408  1084  21 00 00    	ld	hl,_tile_offset_other_player
3409  1087  36 00       	ld	(hl),0x00
3410  1089  C9          	ret
3411  108A              	SECTION IGNORE
3412  0000              
