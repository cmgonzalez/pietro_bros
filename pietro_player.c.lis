1     0000              MODULE pietro_player_c
2     0000              
3     0000              ;--------------------------------------------------------
4     0000              ; File Created by SDCC : free open source ANSI-C Compiler
5     0000              ; Version 3.6.5 #9917 (Mac OS X i386)
6     0000              ;--------------------------------------------------------
7     0000              ; Processed by Z88DK
8     0000              ;--------------------------------------------------------
9     0000              
10    0000              	EXTERN __divschar
11    0000              	EXTERN __divschar_callee
12    0000              	EXTERN __divsint
13    0000              	EXTERN __divsint_callee
14    0000              	EXTERN __divslong
15    0000              	EXTERN __divslong_callee
16    0000              	EXTERN __divslonglong
17    0000              	EXTERN __divslonglong_callee
18    0000              	EXTERN __divsuchar
19    0000              	EXTERN __divsuchar_callee
20    0000              	EXTERN __divuchar
21    0000              	EXTERN __divuchar_callee
22    0000              	EXTERN __divuint
23    0000              	EXTERN __divuint_callee
24    0000              	EXTERN __divulong
25    0000              	EXTERN __divulong_callee
26    0000              	EXTERN __divulonglong
27    0000              	EXTERN __divulonglong_callee
28    0000              	EXTERN __divuschar
29    0000              	EXTERN __divuschar_callee
30    0000              	EXTERN __modschar
31    0000              	EXTERN __modschar_callee
32    0000              	EXTERN __modsint
33    0000              	EXTERN __modsint_callee
34    0000              	EXTERN __modslong
35    0000              	EXTERN __modslong_callee
36    0000              	EXTERN __modslonglong
37    0000              	EXTERN __modslonglong_callee
38    0000              	EXTERN __modsuchar
39    0000              	EXTERN __modsuchar_callee
40    0000              	EXTERN __moduchar
41    0000              	EXTERN __moduchar_callee
42    0000              	EXTERN __moduint
43    0000              	EXTERN __moduint_callee
44    0000              	EXTERN __modulong
45    0000              	EXTERN __modulong_callee
46    0000              	EXTERN __modulonglong
47    0000              	EXTERN __modulonglong_callee
48    0000              	EXTERN __moduschar
49    0000              	EXTERN __moduschar_callee
50    0000              	EXTERN __mulint
51    0000              	EXTERN __mulint_callee
52    0000              	EXTERN __mullong
53    0000              	EXTERN __mullong_callee
54    0000              	EXTERN __mullonglong
55    0000              	EXTERN __mullonglong_callee
56    0000              	EXTERN __mulschar
57    0000              	EXTERN __mulschar_callee
58    0000              	EXTERN __mulsuchar
59    0000              	EXTERN __mulsuchar_callee
60    0000              	EXTERN __muluschar
61    0000              	EXTERN __muluschar_callee
62    0000              	EXTERN __rlslonglong
63    0000              	EXTERN __rlslonglong_callee
64    0000              	EXTERN __rlulonglong
65    0000              	EXTERN __rlulonglong_callee
66    0000              	EXTERN __rrslonglong
67    0000              	EXTERN __rrslonglong_callee
68    0000              	EXTERN __rrulonglong
69    0000              	EXTERN __rrulonglong_callee
70    0000              	EXTERN ___sdcc_call_hl
71    0000              	EXTERN ___sdcc_call_iy
72    0000              	EXTERN ___sdcc_enter_ix
73    0000              	EXTERN _banked_call
74    0000              	EXTERN _banked_ret
75    0000              	EXTERN ___fs2schar
76    0000              	EXTERN ___fs2schar_callee
77    0000              	EXTERN ___fs2sint
78    0000              	EXTERN ___fs2sint_callee
79    0000              	EXTERN ___fs2slong
80    0000              	EXTERN ___fs2slong_callee
81    0000              	EXTERN ___fs2slonglong
82    0000              	EXTERN ___fs2slonglong_callee
83    0000              	EXTERN ___fs2uchar
84    0000              	EXTERN ___fs2uchar_callee
85    0000              	EXTERN ___fs2uint
86    0000              	EXTERN ___fs2uint_callee
87    0000              	EXTERN ___fs2ulong
88    0000              	EXTERN ___fs2ulong_callee
89    0000              	EXTERN ___fs2ulonglong
90    0000              	EXTERN ___fs2ulonglong_callee
91    0000              	EXTERN ___fsadd
92    0000              	EXTERN ___fsadd_callee
93    0000              	EXTERN ___fsdiv
94    0000              	EXTERN ___fsdiv_callee
95    0000              	EXTERN ___fseq
96    0000              	EXTERN ___fseq_callee
97    0000              	EXTERN ___fsgt
98    0000              	EXTERN ___fsgt_callee
99    0000              	EXTERN ___fslt
100   0000              	EXTERN ___fslt_callee
101   0000              	EXTERN ___fsmul
102   0000              	EXTERN ___fsmul_callee
103   0000              	EXTERN ___fsneq
104   0000              	EXTERN ___fsneq_callee
105   0000              	EXTERN ___fssub
106   0000              	EXTERN ___fssub_callee
107   0000              	EXTERN ___schar2fs
108   0000              	EXTERN ___schar2fs_callee
109   0000              	EXTERN ___sint2fs
110   0000              	EXTERN ___sint2fs_callee
111   0000              	EXTERN ___slong2fs
112   0000              	EXTERN ___slong2fs_callee
113   0000              	EXTERN ___slonglong2fs
114   0000              	EXTERN ___slonglong2fs_callee
115   0000              	EXTERN ___uchar2fs
116   0000              	EXTERN ___uchar2fs_callee
117   0000              	EXTERN ___uint2fs
118   0000              	EXTERN ___uint2fs_callee
119   0000              	EXTERN ___ulong2fs
120   0000              	EXTERN ___ulong2fs_callee
121   0000              	EXTERN ___ulonglong2fs
122   0000              	EXTERN ___ulonglong2fs_callee
123   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
126   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
127   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
128   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
129   0000              	EXTERN ____sdcc_4_ldi_save_bc
130   0000              	EXTERN ____sdcc_4_push_hlix
131   0000              	EXTERN ____sdcc_4_push_mhl
132   0000              	EXTERN ____sdcc_lib_setmem_hl
133   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
134   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
135   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
136   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
137   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
138   0000              	EXTERN ____sdcc_ll_add_deix_hlix
139   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
140   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
141   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
142   0000              	EXTERN ____sdcc_ll_asr_hlix_a
143   0000              	EXTERN ____sdcc_ll_asr_mbc_a
144   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
145   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
146   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
147   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
148   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
149   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
150   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
151   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
152   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
153   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
155   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
156   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
157   0000              	EXTERN ____sdcc_ll_push_hlix
158   0000              	EXTERN ____sdcc_ll_push_mhl
159   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
160   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
161   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
162   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
163   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
164   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
165   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
166   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
167   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
168   0000              	EXTERN ____sdcc_load_debc_deix
169   0000              	EXTERN ____sdcc_load_dehl_deix
170   0000              	EXTERN ____sdcc_load_debc_mhl
171   0000              	EXTERN ____sdcc_load_hlde_mhl
172   0000              	EXTERN ____sdcc_store_dehl_bcix
173   0000              	EXTERN ____sdcc_store_debc_hlix
174   0000              	EXTERN ____sdcc_store_debc_mhl
175   0000              	EXTERN ____sdcc_cpu_pop_ei
176   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
177   0000              	EXTERN ____sdcc_cpu_push_di
178   0000              
179   0000              ;--------------------------------------------------------
180   0000              ; Public variables in this module
181   0000              ;--------------------------------------------------------
182   0000              	GLOBAL _player_init
183   0000              	GLOBAL _player_calc_slide
184   0000              	GLOBAL _player_check_input
185   0000              	GLOBAL _player_collision
186   0000              	GLOBAL _player_kill
187   0000              	GLOBAL _player_restart
188   0000              	GLOBAL _player_lost_life
189   0000              	GLOBAL _player_turn
190   0000              	GLOBAL _player_move
191   0000              	GLOBAL _player_move_input
192   0000              	GLOBAL _player_move_horizontal
193   0000              	GLOBAL _player_push
194   0000              	GLOBAL _player_hit_brick
195   0000              	GLOBAL _player_hit_brick_clear
196   0000              	GLOBAL _player_hit_pow
197   0000              	GLOBAL _player_coin
198   0000              	GLOBAL _player_score_add
199   0000              	GLOBAL _player_set
200   0000              ;--------------------------------------------------------
201   0000              ; Externals used
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _debug3
204   0000              	GLOBAL _debug2
205   0000              	GLOBAL _debug
206   0000              	GLOBAL _zx_print_str
207   0000              	GLOBAL _zx_print_int
208   0000              	GLOBAL _zx_print_chr
209   0000              	GLOBAL _zx_print_bonus_time
210   0000              	GLOBAL _zx_isr
211   0000              	GLOBAL _z80_otdr_callee
212   0000              	GLOBAL _z80_otdr
213   0000              	GLOBAL _z80_otir_callee
214   0000              	GLOBAL _z80_otir
215   0000              	GLOBAL _z80_outp_callee
216   0000              	GLOBAL _z80_outp
217   0000              	GLOBAL _z80_indr_callee
218   0000              	GLOBAL _z80_indr
219   0000              	GLOBAL _z80_inir_callee
220   0000              	GLOBAL _z80_inir
221   0000              	GLOBAL _z80_inp_fastcall
222   0000              	GLOBAL _z80_inp
223   0000              	GLOBAL _z80_set_int_state_fastcall
224   0000              	GLOBAL _z80_set_int_state
225   0000              	GLOBAL _z80_get_int_state
226   0000              	GLOBAL _z80_delay_tstate_fastcall
227   0000              	GLOBAL _z80_delay_tstate
228   0000              	GLOBAL _z80_delay_ms_fastcall
229   0000              	GLOBAL _z80_delay_ms
230   0000              	GLOBAL _im2_remove_generic_callback_callee
231   0000              	GLOBAL _im2_remove_generic_callback
232   0000              	GLOBAL _im2_prepend_generic_callback_callee
233   0000              	GLOBAL _im2_prepend_generic_callback
234   0000              	GLOBAL _im2_append_generic_callback_callee
235   0000              	GLOBAL _im2_append_generic_callback
236   0000              	GLOBAL _im2_create_generic_isr_8080_callee
237   0000              	GLOBAL _im2_create_generic_isr_8080
238   0000              	GLOBAL _im2_create_generic_isr_callee
239   0000              	GLOBAL _im2_create_generic_isr
240   0000              	GLOBAL _im2_install_isr_callee
241   0000              	GLOBAL _im2_install_isr
242   0000              	GLOBAL _im2_init_fastcall
243   0000              	GLOBAL _im2_init
244   0000              	GLOBAL _sound_hit_pow
245   0000              	GLOBAL _sound_hit_brick
246   0000              	GLOBAL _sound_hit_enemy
247   0000              	GLOBAL _sound_kill
248   0000              	GLOBAL _sound_enter_enemy
249   0000              	GLOBAL _sound_coin
250   0000              	GLOBAL _sound_jump
251   0000              	GLOBAL _sound_slide
252   0000              	GLOBAL _spr_mapfix
253   0000              	GLOBAL _spr_kill_all
254   0000              	GLOBAL _spr_collision_check
255   0000              	GLOBAL _spr_calc_hor
256   0000              	GLOBAL _spr_draw_row
257   0000              	GLOBAL _spr_draw_index
258   0000              	GLOBAL _spr_draw_clear
259   0000              	GLOBAL _spr_water_splash_draw
260   0000              	GLOBAL _spr_water_splash_clear
261   0000              	GLOBAL _spr_draw_background
262   0000              	GLOBAL _spr_cortina_brick
263   0000              	GLOBAL _spr_brick_anim
264   0000              	GLOBAL _spr_back_fix
265   0000              	GLOBAL _spr_back_paint
266   0000              	GLOBAL _spr_back_clr
267   0000              	GLOBAL _spr_draw_pow
268   0000              	GLOBAL _spr_tile
269   0000              	GLOBAL _spr_set_fall
270   0000              	GLOBAL _spr_destroy
271   0000              	GLOBAL _spr_check_over
272   0000              	GLOBAL _spr_tile_dir
273   0000              	GLOBAL _spr_anim_kill
274   0000              	GLOBAL _spr_anim_fall
275   0000              	GLOBAL _spr_killed
276   0000              	GLOBAL _spr_redraw
277   0000              	GLOBAL _spr_move_left
278   0000              	GLOBAL _spr_move_right
279   0000              	GLOBAL _spr_move_horizontal
280   0000              	GLOBAL _spr_move_down
281   0000              	GLOBAL _spr_move_up
282   0000              	GLOBAL _spr_chktime
283   0000              	GLOBAL _game_joystick_set_menu
284   0000              	GLOBAL _game_joystick_set
285   0000              	GLOBAL _game_joystick_change
286   0000              	GLOBAL _game_hall_print_p2
287   0000              	GLOBAL _game_hall_print_p
288   0000              	GLOBAL _game_hall_edit_p
289   0000              	GLOBAL _game_hall_check
290   0000              	GLOBAL _game_hall_enter_prt
291   0000              	GLOBAL _game_hall_enter_phs
292   0000              	GLOBAL _game_print_header
293   0000              	GLOBAL _game_end
294   0000              	GLOBAL _game_hall_enter
295   0000              	GLOBAL _game_hall_of_fame
296   0000              	GLOBAL _game_score_osd
297   0000              	GLOBAL _game_phase_print_score_back
298   0000              	GLOBAL _game_bonus_clock
299   0000              	GLOBAL _game_bonus_summary_player
300   0000              	GLOBAL _game_bonus_summary
301   0000              	GLOBAL _game_check_time
302   0000              	GLOBAL _game_menu_config
303   0000              	GLOBAL _game_menu
304   0000              	GLOBAL _game_rotate_attrib
305   0000              	GLOBAL _game_colour_message
306   0000              	GLOBAL _game_paint_attrib_lin_h
307   0000              	GLOBAL _game_paint_attrib_lin
308   0000              	GLOBAL _game_paint_attrib
309   0000              	GLOBAL _game_menu_paint
310   0000              	GLOBAL _game_menu_top_paint
311   0000              	GLOBAL _game_menu_handle
312   0000              	GLOBAL _game_menu_e
313   0000              	GLOBAL _game_menu_back
314   0000              	GLOBAL _game_print_score
315   0000              	GLOBAL _game_unfreeze_all
316   0000              	GLOBAL _game_freeze_all
317   0000              	GLOBAL _game_freeze
318   0000              	GLOBAL _game_enemy_add_get_index
319   0000              	GLOBAL _game_enemy_add1
320   0000              	GLOBAL _game_enemy_quota
321   0000              	GLOBAL _game_enemy_rnd
322   0000              	GLOBAL _game_enemy_add
323   0000              	GLOBAL _game_check_floor
324   0000              	GLOBAL _game_check_maze
325   0000              	GLOBAL _game_loop
326   0000              	GLOBAL _player_set2
327   0000              	GLOBAL _player_set1
328   0000              	GLOBAL _game_phase_print
329   0000              	GLOBAL _game_phase_init
330   0000              	GLOBAL _game_phase_calc
331   0000              	GLOBAL _game_start_timer
332   0000              	GLOBAL _game_tick
333   0000              	GLOBAL _game_print_lives
334   0000              	GLOBAL _game_print_footer
335   0000              	GLOBAL _game_calc_index
336   0000              	GLOBAL _game_fill_row
337   0000              	GLOBAL _enemy_ugly_fix
338   0000              	GLOBAL _enemy_kill
339   0000              	GLOBAL _enemy_init
340   0000              	GLOBAL _enemy_walk
341   0000              	GLOBAL _enemy_upgrade
342   0000              	GLOBAL _enemy_evolve
343   0000              	GLOBAL _enemy_standard_hit
344   0000              	GLOBAL _enemy_trip_move
345   0000              	GLOBAL _enemy_trip
346   0000              	GLOBAL _enemy_fighterfly
347   0000              	GLOBAL _enemy_fireball_green
348   0000              	GLOBAL _enemy_fireball_red
349   0000              	GLOBAL _enemy_slipice
350   0000              	GLOBAL _enemy_standard
351   0000              	GLOBAL _enemy_turn
352   0000              	GLOBAL _enemy_flip_sidestepper
353   0000              	GLOBAL _enemy_flip
354   0000              	GLOBAL _enemy_flip_change_dir
355   0000              	GLOBAL _enemy_hit
356   0000              	GLOBAL _enemy_collision_turn_dir
357   0000              	GLOBAL _enemy_collision
358   0000              	GLOBAL _enemy_coin1
359   0000              	GLOBAL _ay_fx_play
360   0000              	GLOBAL _ay_midi_play
361   0000              	GLOBAL _ay_is_playing
362   0000              	GLOBAL _ay_reset
363   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
364   0000              	GLOBAL _NIRVANAP_drawTW_raw
365   0000              	GLOBAL _NIRVANAP_drawTW_callee
366   0000              	GLOBAL _NIRVANAP_drawTW
367   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
368   0000              	GLOBAL _NIRVANAP_drawW_raw
369   0000              	GLOBAL _NIRVANAP_drawW_callee
370   0000              	GLOBAL _NIRVANAP_drawW
371   0000              	GLOBAL _NIRVANAP_spriteT_callee
372   0000              	GLOBAL _NIRVANAP_spriteT
373   0000              	GLOBAL _NIRVANAP_fillC_callee
374   0000              	GLOBAL _NIRVANAP_fillC
375   0000              	GLOBAL _NIRVANAP_readC_callee
376   0000              	GLOBAL _NIRVANAP_readC
377   0000              	GLOBAL _NIRVANAP_paintC_callee
378   0000              	GLOBAL _NIRVANAP_paintC
379   0000              	GLOBAL _NIRVANAP_printC_callee
380   0000              	GLOBAL _NIRVANAP_printC
381   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
382   0000              	GLOBAL _NIRVANAP_fillT_raw
383   0000              	GLOBAL _NIRVANAP_fillT_callee
384   0000              	GLOBAL _NIRVANAP_fillT
385   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
386   0000              	GLOBAL _NIRVANAP_drawT_raw
387   0000              	GLOBAL _NIRVANAP_drawT_callee
388   0000              	GLOBAL _NIRVANAP_drawT
389   0000              	GLOBAL _NIRVANAP_stop
390   0000              	GLOBAL _NIRVANAP_start
391   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
392   0000              	GLOBAL _intrinsic_swap_word_32
393   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
394   0000              	GLOBAL _intrinsic_swap_endian_32
395   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
396   0000              	GLOBAL _intrinsic_swap_endian_16
397   0000              	GLOBAL _intrinsic_return_de
398   0000              	GLOBAL _intrinsic_return_bc
399   0000              	GLOBAL _intrinsic_exx
400   0000              	GLOBAL _intrinsic_ex_de_hl
401   0000              	GLOBAL _intrinsic_nop
402   0000              	GLOBAL _intrinsic_im_2
403   0000              	GLOBAL _intrinsic_im_1
404   0000              	GLOBAL _intrinsic_im_0
405   0000              	GLOBAL _intrinsic_retn
406   0000              	GLOBAL _intrinsic_reti
407   0000              	GLOBAL _intrinsic_halt
408   0000              	GLOBAL _intrinsic_ei
409   0000              	GLOBAL _intrinsic_di
410   0000              	GLOBAL _intrinsic_stub
411   0000              	GLOBAL _ulltoa_callee
412   0000              	GLOBAL _ulltoa
413   0000              	GLOBAL _strtoull_callee
414   0000              	GLOBAL _strtoull
415   0000              	GLOBAL _strtoll_callee
416   0000              	GLOBAL _strtoll
417   0000              	GLOBAL _lltoa_callee
418   0000              	GLOBAL _lltoa
419   0000              	GLOBAL _llabs_callee
420   0000              	GLOBAL _llabs
421   0000              	GLOBAL __lldivu__callee
422   0000              	GLOBAL __lldivu_
423   0000              	GLOBAL __lldiv__callee
424   0000              	GLOBAL __lldiv_
425   0000              	GLOBAL _atoll_callee
426   0000              	GLOBAL _atoll
427   0000              	GLOBAL _realloc_unlocked_callee
428   0000              	GLOBAL _realloc_unlocked
429   0000              	GLOBAL _malloc_unlocked_fastcall
430   0000              	GLOBAL _malloc_unlocked
431   0000              	GLOBAL _free_unlocked_fastcall
432   0000              	GLOBAL _free_unlocked
433   0000              	GLOBAL _calloc_unlocked_callee
434   0000              	GLOBAL _calloc_unlocked
435   0000              	GLOBAL _aligned_alloc_unlocked_callee
436   0000              	GLOBAL _aligned_alloc_unlocked
437   0000              	GLOBAL _realloc_callee
438   0000              	GLOBAL _realloc
439   0000              	GLOBAL _malloc_fastcall
440   0000              	GLOBAL _malloc
441   0000              	GLOBAL _free_fastcall
442   0000              	GLOBAL _free
443   0000              	GLOBAL _calloc_callee
444   0000              	GLOBAL _calloc
445   0000              	GLOBAL _aligned_alloc_callee
446   0000              	GLOBAL _aligned_alloc
447   0000              	GLOBAL _utoa_callee
448   0000              	GLOBAL _utoa
449   0000              	GLOBAL _ultoa_callee
450   0000              	GLOBAL _ultoa
451   0000              	GLOBAL _system_fastcall
452   0000              	GLOBAL _system
453   0000              	GLOBAL _strtoul_callee
454   0000              	GLOBAL _strtoul
455   0000              	GLOBAL _strtol_callee
456   0000              	GLOBAL _strtol
457   0000              	GLOBAL _strtof_callee
458   0000              	GLOBAL _strtof
459   0000              	GLOBAL _strtod_callee
460   0000              	GLOBAL _strtod
461   0000              	GLOBAL _srand_fastcall
462   0000              	GLOBAL _srand
463   0000              	GLOBAL _rand
464   0000              	GLOBAL _quick_exit_fastcall
465   0000              	GLOBAL _quick_exit
466   0000              	GLOBAL _qsort_callee
467   0000              	GLOBAL _qsort
468   0000              	GLOBAL _ltoa_callee
469   0000              	GLOBAL _ltoa
470   0000              	GLOBAL _labs_fastcall
471   0000              	GLOBAL _labs
472   0000              	GLOBAL _itoa_callee
473   0000              	GLOBAL _itoa
474   0000              	GLOBAL _ftoh_callee
475   0000              	GLOBAL _ftoh
476   0000              	GLOBAL _ftog_callee
477   0000              	GLOBAL _ftog
478   0000              	GLOBAL _ftoe_callee
479   0000              	GLOBAL _ftoe
480   0000              	GLOBAL _ftoa_callee
481   0000              	GLOBAL _ftoa
482   0000              	GLOBAL _exit_fastcall
483   0000              	GLOBAL _exit
484   0000              	GLOBAL _dtoh_callee
485   0000              	GLOBAL _dtoh
486   0000              	GLOBAL _dtog_callee
487   0000              	GLOBAL _dtog
488   0000              	GLOBAL _dtoe_callee
489   0000              	GLOBAL _dtoe
490   0000              	GLOBAL _dtoa_callee
491   0000              	GLOBAL _dtoa
492   0000              	GLOBAL _bsearch_callee
493   0000              	GLOBAL _bsearch
494   0000              	GLOBAL _atol_fastcall
495   0000              	GLOBAL _atol
496   0000              	GLOBAL _atoi_fastcall
497   0000              	GLOBAL _atoi
498   0000              	GLOBAL _atof_fastcall
499   0000              	GLOBAL _atof
500   0000              	GLOBAL _atexit_fastcall
501   0000              	GLOBAL _atexit
502   0000              	GLOBAL _at_quick_exit_fastcall
503   0000              	GLOBAL _at_quick_exit
504   0000              	GLOBAL _abs_fastcall
505   0000              	GLOBAL _abs
506   0000              	GLOBAL _abort
507   0000              	GLOBAL __strtou__callee
508   0000              	GLOBAL __strtou_
509   0000              	GLOBAL __strtoi__callee
510   0000              	GLOBAL __strtoi_
511   0000              	GLOBAL __random_uniform_xor_8__fastcall
512   0000              	GLOBAL __random_uniform_xor_8_
513   0000              	GLOBAL __random_uniform_xor_32__fastcall
514   0000              	GLOBAL __random_uniform_xor_32_
515   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
516   0000              	GLOBAL __random_uniform_cmwc_8_
517   0000              	GLOBAL __shellsort__callee
518   0000              	GLOBAL __shellsort_
519   0000              	GLOBAL __quicksort__callee
520   0000              	GLOBAL __quicksort_
521   0000              	GLOBAL __insertion_sort__callee
522   0000              	GLOBAL __insertion_sort_
523   0000              	GLOBAL __ldivu__callee
524   0000              	GLOBAL __ldivu_
525   0000              	GLOBAL __ldiv__callee
526   0000              	GLOBAL __ldiv_
527   0000              	GLOBAL __divu__callee
528   0000              	GLOBAL __divu_
529   0000              	GLOBAL __div__callee
530   0000              	GLOBAL __div_
531   0000              	GLOBAL _in_mouse_kempston_wheel_delta
532   0000              	GLOBAL _in_mouse_kempston_wheel
533   0000              	GLOBAL _in_mouse_kempston_callee
534   0000              	GLOBAL _in_mouse_kempston
535   0000              	GLOBAL _in_mouse_kempston_setpos_callee
536   0000              	GLOBAL _in_mouse_kempston_setpos
537   0000              	GLOBAL _in_mouse_kempston_reset
538   0000              	GLOBAL _in_mouse_kempston_init
539   0000              	GLOBAL _in_mouse_amx_wheel_delta
540   0000              	GLOBAL _in_mouse_amx_wheel
541   0000              	GLOBAL _in_mouse_amx_callee
542   0000              	GLOBAL _in_mouse_amx
543   0000              	GLOBAL _in_mouse_amx_setpos_callee
544   0000              	GLOBAL _in_mouse_amx_setpos
545   0000              	GLOBAL _in_mouse_amx_reset
546   0000              	GLOBAL _in_mouse_amx_init_callee
547   0000              	GLOBAL _in_mouse_amx_init
548   0000              	GLOBAL _in_stick_sinclair2
549   0000              	GLOBAL _in_stick_sinclair1
550   0000              	GLOBAL _in_stick_kempston
551   0000              	GLOBAL _in_stick_fuller
552   0000              	GLOBAL _in_stick_cursor
553   0000              	GLOBAL _in_stick_keyboard_fastcall
554   0000              	GLOBAL _in_stick_keyboard
555   0000              	GLOBAL _in_wait_nokey
556   0000              	GLOBAL _in_wait_key
557   0000              	GLOBAL _in_test_key
558   0000              	GLOBAL _in_pause_fastcall
559   0000              	GLOBAL _in_pause
560   0000              	GLOBAL _in_key_scancode_fastcall
561   0000              	GLOBAL _in_key_scancode
562   0000              	GLOBAL _in_key_pressed_fastcall
563   0000              	GLOBAL _in_key_pressed
564   0000              	GLOBAL _in_inkey
565   0000              	GLOBAL _zx_pattern_fill_callee
566   0000              	GLOBAL _zx_pattern_fill
567   0000              	GLOBAL _zx_saddrpup_fastcall
568   0000              	GLOBAL _zx_saddrpup
569   0000              	GLOBAL _zx_saddrpright_callee
570   0000              	GLOBAL _zx_saddrpright
571   0000              	GLOBAL _zx_saddrpleft_callee
572   0000              	GLOBAL _zx_saddrpleft
573   0000              	GLOBAL _zx_saddrpdown_fastcall
574   0000              	GLOBAL _zx_saddrpdown
575   0000              	GLOBAL _zx_saddrcup_fastcall
576   0000              	GLOBAL _zx_saddrcup
577   0000              	GLOBAL _zx_saddrcright_fastcall
578   0000              	GLOBAL _zx_saddrcright
579   0000              	GLOBAL _zx_saddrcleft_fastcall
580   0000              	GLOBAL _zx_saddrcleft
581   0000              	GLOBAL _zx_saddrcdown_fastcall
582   0000              	GLOBAL _zx_saddrcdown
583   0000              	GLOBAL _zx_saddr2py_fastcall
584   0000              	GLOBAL _zx_saddr2py
585   0000              	GLOBAL _zx_saddr2px_fastcall
586   0000              	GLOBAL _zx_saddr2px
587   0000              	GLOBAL _zx_saddr2cy_fastcall
588   0000              	GLOBAL _zx_saddr2cy
589   0000              	GLOBAL _zx_saddr2cx_fastcall
590   0000              	GLOBAL _zx_saddr2cx
591   0000              	GLOBAL _zx_saddr2aaddr_fastcall
592   0000              	GLOBAL _zx_saddr2aaddr
593   0000              	GLOBAL _zx_py2saddr_fastcall
594   0000              	GLOBAL _zx_py2saddr
595   0000              	GLOBAL _zx_py2aaddr_fastcall
596   0000              	GLOBAL _zx_py2aaddr
597   0000              	GLOBAL _zx_pxy2saddr_callee
598   0000              	GLOBAL _zx_pxy2saddr
599   0000              	GLOBAL _zx_pxy2aaddr_callee
600   0000              	GLOBAL _zx_pxy2aaddr
601   0000              	GLOBAL _zx_px2bitmask_fastcall
602   0000              	GLOBAL _zx_px2bitmask
603   0000              	GLOBAL _zx_cy2saddr_fastcall
604   0000              	GLOBAL _zx_cy2saddr
605   0000              	GLOBAL _zx_cy2aaddr_fastcall
606   0000              	GLOBAL _zx_cy2aaddr
607   0000              	GLOBAL _zx_cxy2saddr_callee
608   0000              	GLOBAL _zx_cxy2saddr
609   0000              	GLOBAL _zx_cxy2aaddr_callee
610   0000              	GLOBAL _zx_cxy2aaddr
611   0000              	GLOBAL _zx_bitmask2px_fastcall
612   0000              	GLOBAL _zx_bitmask2px
613   0000              	GLOBAL _zx_aaddrcup_fastcall
614   0000              	GLOBAL _zx_aaddrcup
615   0000              	GLOBAL _zx_aaddrcright_fastcall
616   0000              	GLOBAL _zx_aaddrcright
617   0000              	GLOBAL _zx_aaddrcleft_fastcall
618   0000              	GLOBAL _zx_aaddrcleft
619   0000              	GLOBAL _zx_aaddrcdown_fastcall
620   0000              	GLOBAL _zx_aaddrcdown
621   0000              	GLOBAL _zx_aaddr2saddr_fastcall
622   0000              	GLOBAL _zx_aaddr2saddr
623   0000              	GLOBAL _zx_aaddr2py_fastcall
624   0000              	GLOBAL _zx_aaddr2py
625   0000              	GLOBAL _zx_aaddr2px_fastcall
626   0000              	GLOBAL _zx_aaddr2px
627   0000              	GLOBAL _zx_aaddr2cy_fastcall
628   0000              	GLOBAL _zx_aaddr2cy
629   0000              	GLOBAL _zx_aaddr2cx_fastcall
630   0000              	GLOBAL _zx_aaddr2cx
631   0000              	GLOBAL _zx_scroll_wc_up_callee
632   0000              	GLOBAL _zx_scroll_wc_up
633   0000              	GLOBAL _zx_scroll_up_callee
634   0000              	GLOBAL _zx_scroll_up
635   0000              	GLOBAL _zx_cls_wc_callee
636   0000              	GLOBAL _zx_cls_wc
637   0000              	GLOBAL _zx_cls_fastcall
638   0000              	GLOBAL _zx_cls
639   0000              	GLOBAL _zx_border_fastcall
640   0000              	GLOBAL _zx_border
641   0000              	GLOBAL _joynames
642   0000              	GLOBAL _initials
643   0000              	GLOBAL _hof
644   0000              	GLOBAL _score_osd_tile
645   0000              	GLOBAL _score_osd_update_time
646   0000              	GLOBAL _score_osd_col
647   0000              	GLOBAL _score_osd_lin
648   0000              	GLOBAL _phase_bonus_total
649   0000              	GLOBAL _phase_angry
650   0000              	GLOBAL _phase_curr
651   0000              	GLOBAL _phase_end
652   0000              	GLOBAL _phase_coins
653   0000              	GLOBAL _phase_pop
654   0000              	GLOBAL _phase_tot
655   0000              	GLOBAL _phase_left
656   0000              	GLOBAL _phase_quota
657   0000              	GLOBAL _phases
658   0000              	GLOBAL _lvl_1
659   0000              	GLOBAL _sprite_speed_alt
660   0000              	GLOBAL _sprite_speed
661   0000              	GLOBAL _screen_ink
662   0000              	GLOBAL _screen_paper
663   0000              	GLOBAL _game_menu_sel
664   0000              	GLOBAL _game_type
665   0000              	GLOBAL _game_osd
666   0000              	GLOBAL _game_bonus
667   0000              	GLOBAL _spr_water_time
668   0000              	GLOBAL _spr_water_clear
669   0000              	GLOBAL _game_time_fireball_start
670   0000              	GLOBAL _game_time_flipped
671   0000              	GLOBAL _game_score_top
672   0000              	GLOBAL _game_lives
673   0000              	GLOBAL _game_over
674   0000              	GLOBAL _game_sound
675   0000              	GLOBAL _game_inmune
676   0000              	GLOBAL _game_god_mode
677   0000              	GLOBAL _game_start_phase
678   0000              	GLOBAL _game_two_player
679   0000              	GLOBAL _game_brick_tile
680   0000              	GLOBAL _game_pow
681   0000              	GLOBAL _game_ugly_fix_cnt
682   0000              	GLOBAL _game_ugly_back
683   0000              	GLOBAL _spr_count
684   0000              	GLOBAL _osd_show_time
685   0000              	GLOBAL _osd_update_time
686   0000              	GLOBAL _frame_time
687   0000              	GLOBAL _entry_time
688   0000              	GLOBAL _curr_time
689   0000              	GLOBAL _s_state
690   0000              	GLOBAL _attrib_hl
691   0000              	GLOBAL _attrib
692   0000              	GLOBAL _zx_val_asm
693   0000              	GLOBAL _enemies
694   0000              	GLOBAL _tmp_ui
695   0000              	GLOBAL _tmp_sc
696   0000              	GLOBAL _tmp_uc
697   0000              	GLOBAL _tmp1
698   0000              	GLOBAL _tmp0
699   0000              	GLOBAL _tmp
700   0000              	GLOBAL _index1
701   0000              	GLOBAL _loop_count
702   0000              	GLOBAL _sprite_lin_inc_mul
703   0000              	GLOBAL _s_col1
704   0000              	GLOBAL _s_col0
705   0000              	GLOBAL _s_lin1
706   0000              	GLOBAL _s_lin0
707   0000              	GLOBAL _s_tile1
708   0000              	GLOBAL _s_tile0
709   0000              	GLOBAL _hit_count
710   0000              	GLOBAL _tile_offset_other_player
711   0000              	GLOBAL _tile_offset
712   0000              	GLOBAL _index_player
713   0000              	GLOBAL _sprite_other_player
714   0000              	GLOBAL _sprite
715   0000              	GLOBAL _player_joy
716   0000              	GLOBAL _player_next_extra
717   0000              	GLOBAL _player_score
718   0000              	GLOBAL _last_time
719   0000              	GLOBAL _sliding
720   0000              	GLOBAL _spr_timer
721   0000              	GLOBAL _jump_lin
722   0000              	GLOBAL _player_jump_c
723   0000              	GLOBAL _hit_col
724   0000              	GLOBAL _hit_lin
725   0000              	GLOBAL _colint
726   0000              	GLOBAL _col
727   0000              	GLOBAL _lin
728   0000              	GLOBAL _tile
729   0000              	GLOBAL _state_a
730   0000              	GLOBAL _state
731   0000              	GLOBAL _class
732   0000              	GLOBAL _tbuffer
733   0000              	GLOBAL _dirs
734   0000              	GLOBAL _k2
735   0000              	GLOBAL _k1
736   0000              	GLOBAL _joyfunc2
737   0000              	GLOBAL _joyfunc1
738   0000              	GLOBAL _btiles
739   0000              	GLOBAL _spec128
740   0000              	GLOBAL _ay_effect_20
741   0000              	GLOBAL _ay_effect_19
742   0000              	GLOBAL _ay_effect_18
743   0000              	GLOBAL _ay_effect_17
744   0000              	GLOBAL _ay_effect_16
745   0000              	GLOBAL _ay_effect_15
746   0000              	GLOBAL _ay_effect_14
747   0000              	GLOBAL _ay_effect_13
748   0000              	GLOBAL _ay_effect_12
749   0000              	GLOBAL _ay_effect_11
750   0000              	GLOBAL _ay_effect_10
751   0000              	GLOBAL _ay_effect_09
752   0000              	GLOBAL _ay_effect_08
753   0000              	GLOBAL _ay_effect_07
754   0000              	GLOBAL _ay_effect_06
755   0000              	GLOBAL _ay_effect_05
756   0000              	GLOBAL _ay_effect_04
757   0000              	GLOBAL _ay_effect_03
758   0000              	GLOBAL _ay_effect_02
759   0000              	GLOBAL _ay_effect_01
760   0000              	GLOBAL _pb_midi_phase_1
761   0000              	GLOBAL _pb_midi_title
762   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
763   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
764   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
765   0000              	GLOBAL _NIRVANAP_HOLE
766   0000              	GLOBAL _NIRVANAP_ISR_HOOK
767   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
768   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
769   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
770   0000              	GLOBAL _fix_1
771   0000              	GLOBAL _control_method
772   0000              	GLOBAL _hall_valids
773   0000              ;--------------------------------------------------------
774   0000              ; special function registers
775   0000              ;--------------------------------------------------------
776   0000              defc _IO_FE	=	0x00fe
777   0000              defc _IO_1FFD	=	0x1ffd
778   0000              defc _IO_7FFD	=	0x7ffd
779   0000              ;--------------------------------------------------------
780   0000              ; ram data
781   0000              ;--------------------------------------------------------
782   0000              	SECTION bss_compiler
783   0000              ;--------------------------------------------------------
784   0000              ; ram data
785   0000              ;--------------------------------------------------------
786   0000              
787   0000              IF 0
788   0000              
789   0000              ; .area _INITIALIZED removed by z88dk
790   0000              
791   0000              
792   0000              ENDIF
793   0000              
794   0000              ;--------------------------------------------------------
795   0000              ; absolute external ram data
796   0000              ;--------------------------------------------------------
797   0000              	SECTION IGNORE
798   0000              ;--------------------------------------------------------
799   0000              ; global & static initialisations
800   0000              ;--------------------------------------------------------
801   0000              	SECTION code_crt_init
802   0000              ;--------------------------------------------------------
803   0000              ; Home
804   0000              ;--------------------------------------------------------
805   0000              	SECTION IGNORE
806   0000              ;--------------------------------------------------------
807   0000              ; code
808   0000              ;--------------------------------------------------------
809   0000              	SECTION code_compiler
810   0000              ;	---------------------------------
811   0000              ; Function player_init
812   0000              ; ---------------------------------
813   0000              _player_init:
814   0000  CD 00 00    	call	___sdcc_enter_ix
815   0003  F5          	push	af
816   0004  3E 00       	ld	a, +((_class) & 0xFF)
817   0006  DD 86 04    	add	a,(ix+4)
818   0009  4F          	ld	c, a
819   000A  3E 00       	ld	a, +((_class) / 256)
820   000C  CE 00       	adc	a,0x00
821   000E  47          	ld	b, a
822   000F  3E 10       	ld	a,0x10
823   0011  02          	ld	(bc), a
824   0012  3E 00       	ld	a, +((_tile) & 0xFF)
825   0014  DD 86 04    	add	a,(ix+4)
826   0017  4F          	ld	c, a
827   0018  3E 00       	ld	a, +((_tile) / 256)
828   001A  CE 00       	adc	a,0x00
829   001C  47          	ld	b, a
830   001D  DD 7E 07    	ld	a,(ix+7)
831   0020  02          	ld	(bc), a
832   0021  3E 00       	ld	a, +((_lin) & 0xFF)
833   0023  DD 86 04    	add	a,(ix+4)
834   0026  4F          	ld	c, a
835   0027  3E 00       	ld	a, +((_lin) / 256)
836   0029  CE 00       	adc	a,0x00
837   002B  47          	ld	b, a
838   002C  DD 7E 05    	ld	a,(ix+5)
839   002F  02          	ld	(bc), a
840   0030  3E 00       	ld	a, +((_col) & 0xFF)
841   0032  DD 86 04    	add	a,(ix+4)
842   0035  4F          	ld	c, a
843   0036  3E 00       	ld	a, +((_col) / 256)
844   0038  CE 00       	adc	a,0x00
845   003A  47          	ld	b, a
846   003B  DD 7E 06    	ld	a,(ix+6)
847   003E  02          	ld	(bc), a
848   003F  3E 00       	ld	a, +((_colint) & 0xFF)
849   0041  DD 86 04    	add	a,(ix+4)
850   0044  4F          	ld	c, a
851   0045  3E 00       	ld	a, +((_colint) / 256)
852   0047  CE 00       	adc	a,0x00
853   0049  47          	ld	b, a
854   004A  AF          	xor	a, a
855   004B  02          	ld	(bc), a
856   004C  3E 00       	ld	a, +((_state) & 0xFF)
857   004E  DD 86 04    	add	a,(ix+4)
858   0051  4F          	ld	c, a
859   0052  3E 00       	ld	a, +((_state) / 256)
860   0054  CE 00       	adc	a,0x00
861   0056  47          	ld	b, a
862   0057  AF          	xor	a, a
863   0058  02          	ld	(bc), a
864   0059  3E 00       	ld	a, +((_state_a) & 0xFF)
865   005B  DD 86 04    	add	a,(ix+4)
866   005E  4F          	ld	c, a
867   005F  3E 00       	ld	a, +((_state_a) / 256)
868   0061  CE 00       	adc	a,0x00
869   0063  47          	ld	b, a
870   0064  AF          	xor	a, a
871   0065  02          	ld	(bc), a
872   0066  3E 00       	ld	a, +((_jump_lin) & 0xFF)
873   0068  DD 86 04    	add	a,(ix+4)
874   006B  5F          	ld	e, a
875   006C  3E 00       	ld	a, +((_jump_lin) / 256)
876   006E  CE 00       	adc	a,0x00
877   0070  57          	ld	d, a
878   0071  DD 7E 05    	ld	a,(ix+5)
879   0074  12          	ld	(de), a
880   0075  DD 6E 04    	ld	l,(ix+4)
881   0078  26 00       	ld	h,0x00
882   007A  29          	add	hl,hl
883   007B  11 00 00    	ld	de,_last_time
884   007E  19          	add	hl, de
885   007F  E3          	ex	(sp), hl
886   0080  E1          	pop	hl
887   0081  ED 5B 00 00 	ld	de,(_curr_time)
888   0085  E5          	push	hl
889   0086  73          	ld	(hl), e
890   0087  23          	inc	hl
891   0088  72          	ld	(hl), d
892   0089  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
893   008B  DD 86 04    	add	a,(ix+4)
894   008E  5F          	ld	e, a
895   008F  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
896   0091  CE 00       	adc	a,0x00
897   0093  57          	ld	d, a
898   0094  AF          	xor	a, a
899   0095  12          	ld	(de), a
900   0096  0A          	ld	a, (bc)
901   0097  F6 01       	or	a,0x01
902   0099  02          	ld	(bc),a
903   009A  5F          	ld	e, a
904   009B  DD 7E 04    	ld	a,(ix+4)
905   009E  D6 07       	sub	a,0x07
906   00A0  20 0B       	jr	NZ,l_player_init_00102
907   00A2  21 00 00    	ld	hl,_index_player
908   00A5  36 00       	ld	(hl),0x00
909   00A7  7B          	ld	a, e
910   00A8  F6 10       	or	a,0x10
911   00AA  02          	ld	(bc), a
912   00AB  18 09       	jr	l_player_init_00103
913   00AD              l_player_init_00102:
914   00AD  21 00 00    	ld	hl,_index_player
915   00B0  36 01       	ld	(hl),0x01
916   00B2  7B          	ld	a, e
917   00B3  F6 08       	or	a,0x08
918   00B5  02          	ld	(bc), a
919   00B6              l_player_init_00103:
920   00B6  2A 00 00    	ld	hl,(_index_player)
921   00B9  26 00       	ld	h,0x00
922   00BB  01 00 00    	ld	bc,_hit_col
923   00BE  09          	add	hl,bc
924   00BF  AF          	xor	a,a
925   00C0  77          	ld	(hl),a
926   00C1  2A 00 00    	ld	hl,(_index_player)
927   00C4  26 00       	ld	h,0x00
928   00C6  01 00 00    	ld	bc,_hit_lin
929   00C9  09          	add	hl,bc
930   00CA  AF          	xor	a,a
931   00CB  77          	ld	(hl),a
932   00CC  2A 00 00    	ld	hl,(_index_player)
933   00CF  26 00       	ld	h,0x00
934   00D1  01 00 00    	ld	bc,_sliding
935   00D4  09          	add	hl,bc
936   00D5  AF          	xor	a,a
937   00D6  77          	ld	(hl),a
938   00D7  2A 00 00    	ld	hl,(_index_player)
939   00DA  26 00       	ld	h,0x00
940   00DC  01 00 00    	ld	bc,_player_jump_c
941   00DF  09          	add	hl,bc
942   00E0  AF          	xor	a,a
943   00E1  77          	ld	(hl),a
944   00E2  DD 66 06    	ld	h,(ix+6)
945   00E5  DD 6E 05    	ld	l,(ix+5)
946   00E8  E5          	push	hl
947   00E9  DD 66 07    	ld	h,(ix+7)
948   00EC  DD 6E 04    	ld	l,(ix+4)
949   00EF  E5          	push	hl
950   00F0  CD 00 00    	call	_NIRVANAP_spriteT_callee
951   00F3  F1          	pop	af
952   00F4  DD E1       	pop	ix
953   00F6  C9          	ret
954   00F7              	SECTION code_compiler
955   00F7              ;	---------------------------------
956   00F7              ; Function player_calc_slide
957   00F7              ; ---------------------------------
958   00F7              _player_calc_slide:
959   00F7  2A 00 00    	ld	hl,(_sprite)
960   00FA  26 00       	ld	h,0x00
961   00FC  01 00 00    	ld	bc,_col
962   00FF  09          	add	hl,bc
963   0100  56          	ld	d, (hl)
964   0101  2A 00 00    	ld	hl,(_sprite)
965   0104  26 00       	ld	h,0x00
966   0106  01 00 00    	ld	bc,_lin
967   0109  09          	add	hl,bc
968   010A  7E          	ld	a,(hl)
969   010B  C6 10       	add	a,0x10
970   010D  5F          	ld	e, a
971   010E  D5          	push	de
972   010F  CD 00 00    	call	_game_calc_index
973   0112  F1          	pop	af
974   0113  22 00 00    	ld	(_index1),hl
975   0116  11 00 00    	ld	de,_sliding+0
976   0119  2A 00 00    	ld	hl,(_index_player)
977   011C  26 00       	ld	h,0x00
978   011E  19          	add	hl,de
979   011F  36 06       	ld	(hl),0x06
980   0121  2A 00 00    	ld	hl,(_index1)
981   0124  01 00 00    	ld	bc,_lvl_1
982   0127  09          	add	hl,bc
983   0128  7E          	ld	a,(hl)
984   0129  4F          	ld	c,a
985   012A  B7          	or	a,a
986   012B  20 0A       	jr	NZ,l_player_calc_slide_00102
987   012D  ED 4B 00 00 	ld	bc,(_index1)
988   0131  03          	inc	bc
989   0132  21 00 00    	ld	hl,_lvl_1
990   0135  09          	add	hl, bc
991   0136  4E          	ld	c, (hl)
992   0137              l_player_calc_slide_00102:
993   0137  2A 00 00    	ld	hl,(_index_player)
994   013A  26 00       	ld	h,0x00
995   013C  19          	add	hl,de
996   013D  79          	ld	a,c
997   013E  EB          	ex	de,hl
998   013F  D6 11       	sub	a,0x11
999   0141  28 15       	jr	Z,l_player_calc_slide_00105
1000  0143  79          	ld	a,c
1001  0144  FE 84       	cp	a,0x84
1002  0146  28 06       	jr	Z,l_player_calc_slide_00103
1003  0148  D6 8B       	sub	a,0x8b
1004  014A  28 07       	jr	Z,l_player_calc_slide_00104
1005  014C  18 0D       	jr	l_player_calc_slide_00107
1006  014E              l_player_calc_slide_00103:
1007  014E  3E 06       	ld	a,0x06
1008  0150  12          	ld	(de), a
1009  0151  18 08       	jr	l_player_calc_slide_00107
1010  0153              l_player_calc_slide_00104:
1011  0153  3E 0C       	ld	a,0x0c
1012  0155  12          	ld	(de), a
1013  0156  18 03       	jr	l_player_calc_slide_00107
1014  0158              l_player_calc_slide_00105:
1015  0158  3E 03       	ld	a,0x03
1016  015A  12          	ld	(de), a
1017  015B              l_player_calc_slide_00107:
1018  015B  C9          	ret
1019  015C              	SECTION code_compiler
1020  015C              ;	---------------------------------
1021  015C              ; Function player_check_input
1022  015C              ; ---------------------------------
1023  015C              _player_check_input:
1024  015C  21 00 00    	ld	hl,_dirs
1025  015F  7E          	ld	a, (hl)
1026  0160  CB 07       	rlc	a
1027  0162  E6 01       	and	a,0x01
1028  0164  CB 47       	bit	0, a
1029  0166  20 0F       	jr	NZ,l_player_check_input_00104
1030  0168  CB 56       	bit	2, (hl)
1031  016A  20 0B       	jr	NZ,l_player_check_input_00104
1032  016C  21 00 00    	ld	hl,_dirs
1033  016F  CB 5E       	bit	3, (hl)
1034  0171  20 04       	jr	NZ,l_player_check_input_00104
1035  0173  2E 00       	ld	l,0x00
1036  0175  18 02       	jr	l_player_check_input_00105
1037  0177              l_player_check_input_00104:
1038  0177  2E 01       	ld	l,0x01
1039  0179              l_player_check_input_00105:
1040  0179  C9          	ret
1041  017A              	SECTION code_compiler
1042  017A              ;	---------------------------------
1043  017A              ; Function player_collision
1044  017A              ; ---------------------------------
1045  017A              _player_collision:
1046  017A  2A 00 00    	ld	hl,(_sprite)
1047  017D  26 00       	ld	h,0x00
1048  017F  01 00 00    	ld	bc,_class
1049  0182  09          	add	hl,bc
1050  0183  7E          	ld	a,(hl)
1051  0184  B7          	or	a,a
1052  0185  20 04       	jr	NZ,l_player_collision_00102
1053  0187  6F          	ld	l,a
1054  0188  C3 CF 02    	jp	l_player_collision_00133
1055  018B              l_player_collision_00102:
1056  018B  2A 00 00    	ld	hl,(_sprite)
1057  018E  26 00       	ld	h,0x00
1058  0190  01 00 00    	ld	bc,_state
1059  0193  09          	add	hl,bc
1060  0194  7E          	ld	a,(hl)
1061  0195  CB 67       	bit	4, a
1062  0197  28 05       	jr	Z,l_player_collision_00104
1063  0199  2E 00       	ld	l,0x00
1064  019B  C3 CF 02    	jp	l_player_collision_00133
1065  019E              l_player_collision_00104:
1066  019E  CB 6F       	bit	5, a
1067  01A0  28 05       	jr	Z,l_player_collision_00106
1068  01A2  2E 00       	ld	l,0x00
1069  01A4  C3 CF 02    	jp	l_player_collision_00133
1070  01A7              l_player_collision_00106:
1071  01A7  21 00 00    	ld	hl,_hit_count
1072  01AA  36 00       	ld	(hl),0x00
1073  01AC  21 00 00    	ld	hl,_enemies
1074  01AF  36 00       	ld	(hl),0x00
1075  01B1              l_player_collision_00131:
1076  01B1  2A 00 00    	ld	hl,(_enemies)
1077  01B4  26 0E       	ld	h,0x0e
1078  01B6  3A 00 00    	ld	a,(_sprite)
1079  01B9  E5          	push	hl
1080  01BA  F5          	push	af
1081  01BB  33          	inc	sp
1082  01BC  CD 00 00    	call	_spr_collision_check
1083  01BF  F1          	pop	af
1084  01C0  33          	inc	sp
1085  01C1  7D          	ld	a, l
1086  01C2  B7          	or	a, a
1087  01C3  28 50       	jr	Z,l_player_collision_00132
1088  01C5  2A 00 00    	ld	hl,(_enemies)
1089  01C8  26 00       	ld	h,0x00
1090  01CA  01 00 00    	ld	bc,_state
1091  01CD  09          	add	hl,bc
1092  01CE  CB 66       	bit	4,(hl)
1093  01D0  28 08       	jr	Z,l_player_collision_00117
1094  01D2  2A 00 00    	ld	hl,(_enemies)
1095  01D5  CD 00 00    	call	_enemy_kill
1096  01D8  18 3B       	jr	l_player_collision_00132
1097  01DA              l_player_collision_00117:
1098  01DA  2A 00 00    	ld	hl,(_enemies)
1099  01DD  26 00       	ld	h,0x00
1100  01DF  01 00 00    	ld	bc,_class
1101  01E2  09          	add	hl,bc
1102  01E3  7E          	ld	a,(hl)
1103  01E4  FE 08       	cp	a,0x08
1104  01E6  28 04       	jr	Z,l_player_collision_00112
1105  01E8  D6 0C       	sub	a,0x0c
1106  01EA  20 0C       	jr	NZ,l_player_collision_00113
1107  01EC              l_player_collision_00112:
1108  01EC  2A 00 00    	ld	hl,(_enemies)
1109  01EF  26 50       	ld	h,0x50
1110  01F1  E5          	push	hl
1111  01F2  CD 03 0F    	call	_player_coin
1112  01F5  F1          	pop	af
1113  01F6  18 1D       	jr	l_player_collision_00132
1114  01F8              l_player_collision_00113:
1115  01F8  21 00 00    	ld	hl,_ay_effect_18
1116  01FB  CD 00 00    	call	_ay_fx_play
1117  01FE  3A 00 00    	ld	a,(_game_god_mode)
1118  0201  B7          	or	a, a
1119  0202  28 08       	jr	Z,l_player_collision_00110
1120  0204  2A 00 00    	ld	hl,(_enemies)
1121  0207  CD 00 00    	call	_enemy_kill
1122  020A  18 09       	jr	l_player_collision_00132
1123  020C              l_player_collision_00110:
1124  020C  3A 00 00    	ld	a,(_game_inmune)
1125  020F  B7          	or	a, a
1126  0210  20 03       	jr	NZ,l_player_collision_00132
1127  0212  CD D0 02    	call	_player_kill
1128  0215              l_player_collision_00132:
1129  0215  21 00 00    	ld	hl,_enemies
1130  0218  7E          	ld	a,(hl)
1131  0219  3C          	inc	a
1132  021A  77          	ld	(hl),a
1133  021B  D6 06       	sub	a,0x06
1134  021D  38 92       	jr	C,l_player_collision_00131
1135  021F  3A 00 00    	ld	a,(_hit_count)
1136  0222  B7          	or	a, a
1137  0223  CA CD 02    	jp	Z, l_player_collision_00129
1138  0226  2A 00 00    	ld	hl,(_sprite)
1139  0229  26 00       	ld	h,0x00
1140  022B  01 00 00    	ld	bc,_lin
1141  022E  09          	add	hl,bc
1142  022F  4E          	ld	c,(hl)
1143  0230  3E 18       	ld	a,0x18
1144  0232  91          	sub	a, c
1145  0233  D2 CD 02    	jp	NC, l_player_collision_00129
1146  0236  2A 00 00    	ld	hl,(_index_player)
1147  0239  26 00       	ld	h,0x00
1148  023B  01 00 00    	ld	bc,_score_osd_col
1149  023E  09          	add	hl,bc
1150  023F  7E          	ld	a,(hl)
1151  0240  47          	ld	b,a
1152  0241  3C          	inc	a
1153  0242  28 13       	jr	Z,l_player_collision_00123
1154  0244  3A 00 00    	ld	a,(_index_player)
1155  0247  5F          	ld	e,a
1156  0248  16 00       	ld	d,0x00
1157  024A  21 00 00    	ld	hl,_score_osd_lin
1158  024D  19          	add	hl,de
1159  024E  4E          	ld	c, (hl)
1160  024F  C5          	push	bc
1161  0250  3E A9       	ld	a,0xa9
1162  0252  F5          	push	af
1163  0253  33          	inc	sp
1164  0254  CD 00 00    	call	_NIRVANAP_drawT_callee
1165  0257              l_player_collision_00123:
1166  0257  2A 00 00    	ld	hl,(_index_player)
1167  025A  26 00       	ld	h,0x00
1168  025C  01 00 00    	ld	bc,_score_osd_col
1169  025F  09          	add	hl,bc
1170  0260  4D          	ld	c,l
1171  0261  44          	ld	b,h
1172  0262  2A 00 00    	ld	hl,(_sprite)
1173  0265  26 00       	ld	h,0x00
1174  0267  11 00 00    	ld	de,_col
1175  026A  19          	add	hl,de
1176  026B  7E          	ld	a,(hl)
1177  026C  02          	ld	(bc), a
1178  026D  2A 00 00    	ld	hl,(_index_player)
1179  0270  26 00       	ld	h,0x00
1180  0272  01 00 00    	ld	bc,_score_osd_lin
1181  0275  09          	add	hl,bc
1182  0276  4D          	ld	c,l
1183  0277  44          	ld	b,h
1184  0278  2A 00 00    	ld	hl,(_sprite)
1185  027B  26 00       	ld	h,0x00
1186  027D  11 00 00    	ld	de,_lin
1187  0280  19          	add	hl,de
1188  0281  7E          	ld	a,(hl)
1189  0282  C6 FA       	add	a,0xfa
1190  0284  02          	ld	(bc), a
1191  0285  01 00 00    	ld	bc,_score_osd_update_time+0
1192  0288  2A 00 00    	ld	hl,(_index_player)
1193  028B  26 00       	ld	h,0x00
1194  028D  29          	add	hl, hl
1195  028E  09          	add	hl,bc
1196  028F  ED 5B 00 00 	ld	de,(_curr_time)
1197  0293  73          	ld	(hl),e
1198  0294  23          	inc	hl
1199  0295  72          	ld	(hl),d
1200  0296  01 00 00    	ld	bc,_score_osd_tile+0
1201  0299  2A 00 00    	ld	hl,(_index_player)
1202  029C  26 00       	ld	h,0x00
1203  029E  29          	add	hl, hl
1204  029F  09          	add	hl, bc
1205  02A0  36 BC       	ld	(hl),0xbc
1206  02A2  23          	inc	hl
1207  02A3  36 00       	ld	(hl),0x00
1208  02A5  3E 01       	ld	a,0x01
1209  02A7  21 00 00    	ld	hl,_hit_count
1210  02AA  96          	sub	a, (hl)
1211  02AB  30 0C       	jr	NC,l_player_collision_00125
1212  02AD  2A 00 00    	ld	hl,(_index_player)
1213  02B0  26 00       	ld	h,0x00
1214  02B2  29          	add	hl, hl
1215  02B3  09          	add	hl, bc
1216  02B4  36 D7       	ld	(hl),0xd7
1217  02B6  23          	inc	hl
1218  02B7  36 00       	ld	(hl),0x00
1219  02B9              l_player_collision_00125:
1220  02B9  3E 06       	ld	a,0x06
1221  02BB  21 00 00    	ld	hl,_hit_count
1222  02BE  96          	sub	a, (hl)
1223  02BF  30 0C       	jr	NC,l_player_collision_00129
1224  02C1  2A 00 00    	ld	hl,(_index_player)
1225  02C4  26 00       	ld	h,0x00
1226  02C6  29          	add	hl, hl
1227  02C7  09          	add	hl, bc
1228  02C8  36 CB       	ld	(hl),0xcb
1229  02CA  23          	inc	hl
1230  02CB  36 00       	ld	(hl),0x00
1231  02CD              l_player_collision_00129:
1232  02CD  2E 00       	ld	l,0x00
1233  02CF              l_player_collision_00133:
1234  02CF  C9          	ret
1235  02D0              	SECTION code_compiler
1236  02D0              ;	---------------------------------
1237  02D0              ; Function player_kill
1238  02D0              ; ---------------------------------
1239  02D0              _player_kill:
1240  02D0  01 00 00    	ld	bc,_state+0
1241  02D3  2A 00 00    	ld	hl,(_sprite)
1242  02D6  26 00       	ld	h,0x00
1243  02D8  09          	add	hl,bc
1244  02D9  CB 6E       	bit	5,(hl)
1245  02DB  C2 AA 03    	jp	NZ,l_player_kill_00109
1246  02DE  C5          	push	bc
1247  02DF  CD 00 00    	call	_sound_hit_brick
1248  02E2  C1          	pop	bc
1249  02E3  79          	ld	a, c
1250  02E4  21 00 00    	ld	hl,_sprite
1251  02E7  86          	add	a, (hl)
1252  02E8  5F          	ld	e, a
1253  02E9  78          	ld	a, b
1254  02EA  CE 00       	adc	a,0x00
1255  02EC  57          	ld	d, a
1256  02ED  1A          	ld	a, (de)
1257  02EE  F6 20       	or	a,0x20
1258  02F0  12          	ld	(de), a
1259  02F1  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
1260  02F3  86          	add	a, (hl)
1261  02F4  5F          	ld	e, a
1262  02F5  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
1263  02F7  CE 00       	adc	a,0x00
1264  02F9  57          	ld	d, a
1265  02FA  3E 03       	ld	a,0x03
1266  02FC  12          	ld	(de), a
1267  02FD  79          	ld	a, c
1268  02FE  86          	add	a, (hl)
1269  02FF  4F          	ld	c, a
1270  0300  78          	ld	a, b
1271  0301  CE 00       	adc	a,0x00
1272  0303  47          	ld	b, a
1273  0304  0A          	ld	a, (bc)
1274  0305  CB 57       	bit	2, a
1275  0307  28 11       	jr	Z,l_player_kill_00102
1276  0309  2A 00 00    	ld	hl,(_sprite)
1277  030C  26 00       	ld	h,0x00
1278  030E  01 00 00    	ld	bc,_tile
1279  0311  09          	add	hl,bc
1280  0312  3A 00 00    	ld	a,(_tile_offset)
1281  0315  C6 0B       	add	a,0x0b
1282  0317  77          	ld	(hl),a
1283  0318  18 0F       	jr	l_player_kill_00103
1284  031A              l_player_kill_00102:
1285  031A  2A 00 00    	ld	hl,(_sprite)
1286  031D  26 00       	ld	h,0x00
1287  031F  01 00 00    	ld	bc,_tile
1288  0322  09          	add	hl,bc
1289  0323  3A 00 00    	ld	a,(_tile_offset)
1290  0326  C6 17       	add	a,0x17
1291  0328  77          	ld	(hl),a
1292  0329              l_player_kill_00103:
1293  0329  CD F1 0D    	call	_player_hit_brick_clear
1294  032C  2A 00 00    	ld	hl,(_sprite)
1295  032F  26 00       	ld	h,0x00
1296  0331  01 00 00    	ld	bc,_col
1297  0334  09          	add	hl,bc
1298  0335  4E          	ld	c, (hl)
1299  0336  2A 00 00    	ld	hl,(_sprite)
1300  0339  26 00       	ld	h,0x00
1301  033B  11 00 00    	ld	de,_lin
1302  033E  19          	add	hl,de
1303  033F  46          	ld	b, (hl)
1304  0340  2A 00 00    	ld	hl,(_sprite)
1305  0343  26 00       	ld	h,0x00
1306  0345  11 00 00    	ld	de,_tile
1307  0348  19          	add	hl,de
1308  0349  56          	ld	d, (hl)
1309  034A  79          	ld	a,c
1310  034B  21 00 00    	ld	hl,_sprite
1311  034E  F5          	push	af
1312  034F  33          	inc	sp
1313  0350  4A          	ld	c, d
1314  0351  7E          	ld	a,(hl)
1315  0352  C5          	push	bc
1316  0353  F5          	push	af
1317  0354  33          	inc	sp
1318  0355  CD 00 00    	call	_NIRVANAP_spriteT_callee
1319  0358  01 00 00    	ld	bc,_spr_timer+0
1320  035B  2A 00 00    	ld	hl,(_sprite)
1321  035E  26 00       	ld	h,0x00
1322  0360  29          	add	hl, hl
1323  0361  09          	add	hl,bc
1324  0362  ED 5B 00 00 	ld	de,(_curr_time)
1325  0366  73          	ld	(hl),e
1326  0367  23          	inc	hl
1327  0368  72          	ld	(hl),d
1328  0369  3A 00 00    	ld	a,(_sprite)
1329  036C  D6 07       	sub	a,0x07
1330  036E  20 1E       	jr	NZ,l_player_kill_00105
1331  0370  01 00 00    	ld	bc,_state_a+0
1332  0373  79          	ld	a, c
1333  0374  21 00 00    	ld	hl,_sprite
1334  0377  86          	add	a, (hl)
1335  0378  5F          	ld	e, a
1336  0379  78          	ld	a, b
1337  037A  CE 00       	adc	a,0x00
1338  037C  57          	ld	d, a
1339  037D  1A          	ld	a, (de)
1340  037E  F6 08       	or	a,0x08
1341  0380  12          	ld	(de), a
1342  0381  79          	ld	a, c
1343  0382  86          	add	a, (hl)
1344  0383  4F          	ld	c, a
1345  0384  78          	ld	a, b
1346  0385  CE 00       	adc	a,0x00
1347  0387  47          	ld	b, a
1348  0388  0A          	ld	a, (bc)
1349  0389  E6 EF       	and	a,0xef
1350  038B  02          	ld	(bc), a
1351  038C  18 1C       	jr	l_player_kill_00109
1352  038E              l_player_kill_00105:
1353  038E  01 00 00    	ld	bc,_state_a+0
1354  0391  79          	ld	a, c
1355  0392  21 00 00    	ld	hl,_sprite
1356  0395  86          	add	a, (hl)
1357  0396  5F          	ld	e, a
1358  0397  78          	ld	a, b
1359  0398  CE 00       	adc	a,0x00
1360  039A  57          	ld	d, a
1361  039B  1A          	ld	a, (de)
1362  039C  F6 10       	or	a,0x10
1363  039E  12          	ld	(de), a
1364  039F  79          	ld	a, c
1365  03A0  86          	add	a, (hl)
1366  03A1  4F          	ld	c, a
1367  03A2  78          	ld	a, b
1368  03A3  CE 00       	adc	a,0x00
1369  03A5  47          	ld	b, a
1370  03A6  0A          	ld	a, (bc)
1371  03A7  E6 F7       	and	a,0xf7
1372  03A9  02          	ld	(bc), a
1373  03AA              l_player_kill_00109:
1374  03AA  C9          	ret
1375  03AB              	SECTION code_compiler
1376  03AB              ;	---------------------------------
1377  03AB              ; Function player_restart
1378  03AB              ; ---------------------------------
1379  03AB              _player_restart:
1380  03AB  CD 00 00    	call	___sdcc_enter_ix
1381  03AE  F5          	push	af
1382  03AF  3E 00       	ld	a,+((_col) & 0xFF)
1383  03B1  85          	add	a,l
1384  03B2  4D          	ld	c,l
1385  03B3  5F          	ld	e, a
1386  03B4  3E 00       	ld	a, +((_col) / 256)
1387  03B6  CE 00       	adc	a,0x00
1388  03B8  57          	ld	d, a
1389  03B9  1A          	ld	a, (de)
1390  03BA  D6 04       	sub	a,0x04
1391  03BC  30 0C       	jr	NC,l_player_restart_00102
1392  03BE  C5          	push	bc
1393  03BF  D5          	push	de
1394  03C0  21 E0 01    	ld	hl,0x01e0
1395  03C3  E5          	push	hl
1396  03C4  CD 00 00    	call	_spr_back_paint
1397  03C7  F1          	pop	af
1398  03C8  D1          	pop	de
1399  03C9  C1          	pop	bc
1400  03CA              l_player_restart_00102:
1401  03CA  1A          	ld	a, (de)
1402  03CB  47          	ld	b, a
1403  03CC  3E 1A       	ld	a,0x1a
1404  03CE  90          	sub	a, b
1405  03CF  30 0A       	jr	NC,l_player_restart_00104
1406  03D1  C5          	push	bc
1407  03D2  21 FA 01    	ld	hl,0x01fa
1408  03D5  E5          	push	hl
1409  03D6  CD 00 00    	call	_spr_back_paint
1410  03D9  F1          	pop	af
1411  03DA  C1          	pop	bc
1412  03DB              l_player_restart_00104:
1413  03DB  21 00 00    	ld	hl,_ay_effect_15
1414  03DE  CD 00 00    	call	_ay_fx_play
1415  03E1  79          	ld	a, c
1416  03E2  D6 07       	sub	a,0x07
1417  03E4  20 1B       	jr	NZ,l_player_restart_00106
1418  03E6  C5          	push	bc
1419  03E7  21 0E 03    	ld	hl,0x030e
1420  03EA  E5          	push	hl
1421  03EB  21 07 00    	ld	hl,0x0007
1422  03EE  E5          	push	hl
1423  03EF  CD 00 00    	call	_player_init
1424  03F2  F1          	pop	af
1425  03F3  21 10 0E    	ld	hl,0x0e10
1426  03F6  E3          	ex	(sp),hl
1427  03F7  3E 84       	ld	a,0x84
1428  03F9  F5          	push	af
1429  03FA  33          	inc	sp
1430  03FB  CD 00 00    	call	_NIRVANAP_drawT_callee
1431  03FE  C1          	pop	bc
1432  03FF  18 19       	jr	l_player_restart_00107
1433  0401              l_player_restart_00106:
1434  0401  C5          	push	bc
1435  0402  21 10 27    	ld	hl,0x2710
1436  0405  E5          	push	hl
1437  0406  21 06 00    	ld	hl,0x0006
1438  0409  E5          	push	hl
1439  040A  CD 00 00    	call	_player_init
1440  040D  F1          	pop	af
1441  040E  21 10 10    	ld	hl,0x1010
1442  0411  E3          	ex	(sp),hl
1443  0412  3E 84       	ld	a,0x84
1444  0414  F5          	push	af
1445  0415  33          	inc	sp
1446  0416  CD 00 00    	call	_NIRVANAP_drawT_callee
1447  0419  C1          	pop	bc
1448  041A              l_player_restart_00107:
1449  041A  11 00 00    	ld	de,_state+0
1450  041D  69          	ld	l,c
1451  041E  26 00       	ld	h,0x00
1452  0420  19          	add	hl, de
1453  0421  CB E6       	set	4, (hl)
1454  0423  11 00 00    	ld	de,_state_a+0
1455  0426  69          	ld	l,c
1456  0427  26 00       	ld	h,0x00
1457  0429  19          	add	hl, de
1458  042A  CB C6       	set	0, (hl)
1459  042C  11 00 00    	ld	de,_spr_timer+0
1460  042F  69          	ld	l, c
1461  0430  26 00       	ld	h,0x00
1462  0432  29          	add	hl, hl
1463  0433  19          	add	hl,de
1464  0434  E3          	ex	(sp), hl
1465  0435  E1          	pop	hl
1466  0436  ED 5B 00 00 	ld	de,(_curr_time)
1467  043A  E5          	push	hl
1468  043B  73          	ld	(hl), e
1469  043C  23          	inc	hl
1470  043D  72          	ld	(hl), d
1471  043E  11 00 00    	ld	de,_sprite_speed_alt+0
1472  0441  69          	ld	l,c
1473  0442  26 00       	ld	h,0x00
1474  0444  19          	add	hl, de
1475  0445  F1          	pop	af
1476  0446  36 08       	ld	(hl),0x08
1477  0448  DD E1       	pop	ix
1478  044A  C9          	ret
1479  044B              	SECTION code_compiler
1480  044B              ;	---------------------------------
1481  044B              ; Function player_lost_life
1482  044B              ; ---------------------------------
1483  044B              _player_lost_life:
1484  044B  CD 00 00    	call	_sound_hit_enemy
1485  044E  01 00 00    	ld	bc,_game_lives+0
1486  0451  79          	ld	a, c
1487  0452  21 00 00    	ld	hl,_index_player
1488  0455  86          	add	a, (hl)
1489  0456  5F          	ld	e, a
1490  0457  78          	ld	a, b
1491  0458  CE 00       	adc	a,0x00
1492  045A  57          	ld	d, a
1493  045B  1A          	ld	a, (de)
1494  045C  C6 FF       	add	a,0xff
1495  045E  12          	ld	(de), a
1496  045F  79          	ld	a, c
1497  0460  86          	add	a, (hl)
1498  0461  5F          	ld	e, a
1499  0462  78          	ld	a, b
1500  0463  CE 00       	adc	a,0x00
1501  0465  57          	ld	d, a
1502  0466  1A          	ld	a, (de)
1503  0467  B7          	or	a, a
1504  0468  20 13       	jr	NZ,l_player_lost_life_00105
1505  046A  0A          	ld	a, (bc)
1506  046B  B7          	or	a, a
1507  046C  20 0B       	jr	NZ,l_player_lost_life_00102
1508  046E  3A 01 00    	ld	a, (_game_lives + 1)
1509  0471  B7          	or	a, a
1510  0472  20 05       	jr	NZ,l_player_lost_life_00102
1511  0474  21 00 00    	ld	hl,_game_over
1512  0477  36 01       	ld	(hl),0x01
1513  0479              l_player_lost_life_00102:
1514  0479  2E 00       	ld	l,0x00
1515  047B  18 08       	jr	l_player_lost_life_00106
1516  047D              l_player_lost_life_00105:
1517  047D  CD 00 00    	call	_spr_check_over
1518  0480  CD 00 00    	call	_game_print_lives
1519  0483  2E 01       	ld	l,0x01
1520  0485              l_player_lost_life_00106:
1521  0485  C9          	ret
1522  0486              	SECTION code_compiler
1523  0486              ;	---------------------------------
1524  0486              ; Function player_turn
1525  0486              ; ---------------------------------
1526  0486              _player_turn:
1527  0486  2A 00 00    	ld	hl,(_sprite)
1528  0489  26 00       	ld	h,0x00
1529  048B  01 00 00    	ld	bc,_class
1530  048E  09          	add	hl,bc
1531  048F  7E          	ld	a,(hl)
1532  0490  D6 10       	sub	a,0x10
1533  0492  20 4F       	jr	NZ,l_player_turn_00110
1534  0494  3A 00 00    	ld	a,(_phase_left)
1535  0497  B7          	or	a, a
1536  0498  28 49       	jr	Z,l_player_turn_00110
1537  049A  2A 00 00    	ld	hl,(_index_player)
1538  049D  26 00       	ld	h,0x00
1539  049F  01 00 00    	ld	bc,_game_lives
1540  04A2  09          	add	hl,bc
1541  04A3  7E          	ld	a,(hl)
1542  04A4  B7          	or	a, a
1543  04A5  28 3C       	jr	Z,l_player_turn_00110
1544  04A7  21 00 00    	ld	hl,_sprite
1545  04AA  CD 00 00    	call	_spr_chktime
1546  04AD  7D          	ld	a, l
1547  04AE  B7          	or	a, a
1548  04AF  28 32       	jr	Z,l_player_turn_00110
1549  04B1  21 00 00    	ld	hl,_dirs
1550  04B4  36 00       	ld	(hl),0x00
1551  04B6  3A 00 00    	ld	a,(_sprite)
1552  04B9  D6 07       	sub	a,0x07
1553  04BB  20 11       	jr	NZ,l_player_turn_00102
1554  04BD  21 00 00    	ld	hl,_k1
1555  04C0  E5          	push	hl
1556  04C1  2A 00 00    	ld	hl,(_joyfunc1)
1557  04C4  CD 00 00    	call	___sdcc_call_hl
1558  04C7  F1          	pop	af
1559  04C8  7D          	ld	a,l
1560  04C9  32 00 00    	ld	(_dirs),a
1561  04CC  18 0F       	jr	l_player_turn_00103
1562  04CE              l_player_turn_00102:
1563  04CE  21 00 00    	ld	hl,_k1
1564  04D1  E5          	push	hl
1565  04D2  2A 00 00    	ld	hl,(_joyfunc2)
1566  04D5  CD 00 00    	call	___sdcc_call_hl
1567  04D8  F1          	pop	af
1568  04D9  7D          	ld	a,l
1569  04DA  32 00 00    	ld	(_dirs),a
1570  04DD              l_player_turn_00103:
1571  04DD  CD E4 04    	call	_player_move
1572  04E0  CD 7A 01    	call	_player_collision
1573  04E3              l_player_turn_00110:
1574  04E3  C9          	ret
1575  04E4              	SECTION code_compiler
1576  04E4              ;	---------------------------------
1577  04E4              ; Function player_move
1578  04E4              ; ---------------------------------
1579  04E4              _player_move:
1580  04E4  CD 00 00    	call	___sdcc_enter_ix
1581  04E7  F5          	push	af
1582  04E8  3B          	dec	sp
1583  04E9  2A 00 00    	ld	hl,(_sprite)
1584  04EC  26 00       	ld	h,0x00
1585  04EE  01 00 00    	ld	bc,_lin
1586  04F1  09          	add	hl,bc
1587  04F2  7E          	ld	a,(hl)
1588  04F3  DD 77 FF    	ld	(ix-1),a
1589  04F6  32 00 00    	ld	(_s_lin0),a
1590  04F9  2A 00 00    	ld	hl,(_sprite)
1591  04FC  26 00       	ld	h,0x00
1592  04FE  01 00 00    	ld	bc,_col
1593  0501  09          	add	hl,bc
1594  0502  7E          	ld	a,(hl)
1595  0503  32 00 00    	ld	(_s_col0),a
1596  0506  3E 00       	ld	a, +((_tile) & 0xFF)
1597  0508  21 00 00    	ld	hl,_sprite
1598  050B  86          	add	a, (hl)
1599  050C  DD 77 FD    	ld	(ix-3),a
1600  050F  3E 00       	ld	a, +((_tile) / 256)
1601  0511  CE 00       	adc	a,0x00
1602  0513  DD 77 FE    	ld	(ix-2),a
1603  0516  E1          	pop	hl
1604  0517  4E          	ld	c,(hl)
1605  0518  E5          	push	hl
1606  0519  2A 00 00    	ld	hl,(_sprite)
1607  051C  26 00       	ld	h,0x00
1608  051E  11 00 00    	ld	de,_colint
1609  0521  19          	add	hl,de
1610  0522  7E          	ld	a,(hl)
1611  0523  81          	add	a,c
1612  0524  32 00 00    	ld	(_s_tile0),a
1613  0527  2A 00 00    	ld	hl,(_sprite)
1614  052A  26 00       	ld	h,0x00
1615  052C  01 00 00    	ld	bc,_state
1616  052F  09          	add	hl,bc
1617  0530  7E          	ld	a,(hl)
1618  0531  CB 6F       	bit	5,a
1619  0533  32 00 00    	ld	(_s_state),a
1620  0536  28 2E       	jr	Z,l_player_move_00104
1621  0538  3A 00 00    	ld	a,(_tile_offset)
1622  053B  C6 0A       	add	a,0x0a
1623  053D  E1          	pop	hl
1624  053E  E5          	push	hl
1625  053F  77          	ld	(hl), a
1626  0540  01 00 00    	ld	bc,_spr_timer+0
1627  0543  2A 00 00    	ld	hl,(_sprite)
1628  0546  26 00       	ld	h,0x00
1629  0548  29          	add	hl, hl
1630  0549  09          	add	hl, bc
1631  054A  4E          	ld	c, (hl)
1632  054B  23          	inc	hl
1633  054C  46          	ld	b, (hl)
1634  054D  21 28 00    	ld	hl,0x0028
1635  0550  E5          	push	hl
1636  0551  C5          	push	bc
1637  0552  CD 00 00    	call	_game_check_time
1638  0555  F1          	pop	af
1639  0556  F1          	pop	af
1640  0557  7D          	ld	a, l
1641  0558  B7          	or	a, a
1642  0559  28 06       	jr	Z,l_player_move_00102
1643  055B  2A 00 00    	ld	hl,(_sprite)
1644  055E  CD 00 00    	call	_spr_killed
1645  0561              l_player_move_00102:
1646  0561  2E 00       	ld	l,0x00
1647  0563  C3 E1 08    	jp	l_player_move_00164
1648  0566              l_player_move_00104:
1649  0566  21 00 00    	ld	hl,_s_state
1650  0569  CB 66       	bit	4, (hl)
1651  056B  CA C1 06    	jp	Z,l_player_move_00121
1652  056E  DD 7E FF    	ld	a,(ix-1)
1653  0571  D6 10       	sub	a,0x10
1654  0573  30 12       	jr	NC,l_player_move_00112
1655  0575  2A 00 00    	ld	hl,(_sprite)
1656  0578  26 00       	ld	h,0x00
1657  057A  01 00 00    	ld	bc,_state_a
1658  057D  09          	add	hl,bc
1659  057E  7E          	ld	a,(hl)
1660  057F  E6 FE       	and	a,0xfe
1661  0581  77          	ld	(hl),a
1662  0582  CD 00 00    	call	_spr_move_down
1663  0585  18 72       	jr	l_player_move_00113
1664  0587              l_player_move_00112:
1665  0587  CD 5C 01    	call	_player_check_input
1666  058A  7D          	ld	a, l
1667  058B  B7          	or	a, a
1668  058C  28 6B       	jr	Z,l_player_move_00113
1669  058E  21 00 00    	ld	hl,_dirs
1670  0591  CB 5E       	bit	3, (hl)
1671  0593  28 0D       	jr	Z,l_player_move_00106
1672  0595  2A 00 00    	ld	hl,(_sprite)
1673  0598  26 00       	ld	h,0x00
1674  059A  01 00 00    	ld	bc,_state
1675  059D  09          	add	hl,bc
1676  059E  7E          	ld	a,(hl)
1677  059F  F6 04       	or	a,0x04
1678  05A1  77          	ld	(hl),a
1679  05A2              l_player_move_00106:
1680  05A2  21 00 00    	ld	hl,_dirs
1681  05A5  CB 56       	bit	2, (hl)
1682  05A7  28 0D       	jr	Z,l_player_move_00108
1683  05A9  2A 00 00    	ld	hl,(_sprite)
1684  05AC  26 00       	ld	h,0x00
1685  05AE  01 00 00    	ld	bc,_state
1686  05B1  09          	add	hl,bc
1687  05B2  7E          	ld	a,(hl)
1688  05B3  F6 08       	or	a,0x08
1689  05B5  77          	ld	(hl),a
1690  05B6              l_player_move_00108:
1691  05B6  2A 00 00    	ld	hl,(_sprite)
1692  05B9  26 00       	ld	h,0x00
1693  05BB  01 00 00    	ld	bc,_state
1694  05BE  09          	add	hl,bc
1695  05BF  7E          	ld	a,(hl)
1696  05C0  E6 EF       	and	a,0xef
1697  05C2  77          	ld	(hl),a
1698  05C3  2A 00 00    	ld	hl,(_sprite)
1699  05C6  26 00       	ld	h,0x00
1700  05C8  01 00 00    	ld	bc,_state_a
1701  05CB  09          	add	hl,bc
1702  05CC  7E          	ld	a,(hl)
1703  05CD  E6 FE       	and	a,0xfe
1704  05CF  77          	ld	(hl),a
1705  05D0  76          	halt
1706  05D1  3A 00 00    	ld	a,(_s_col0)
1707  05D4  F5          	push	af
1708  05D5  33          	inc	sp
1709  05D6  21 A9 10    	ld	hl,0x10a9
1710  05D9  E5          	push	hl
1711  05DA  CD 00 00    	call	_NIRVANAP_drawT_callee
1712  05DD  3A 00 00    	ld	a,(_s_col0)
1713  05E0  F5          	push	af
1714  05E1  33          	inc	sp
1715  05E2  21 A9 20    	ld	hl,0x20a9
1716  05E5  E5          	push	hl
1717  05E6  CD 00 00    	call	_NIRVANAP_drawT_callee
1718  05E9  2A 00 00    	ld	hl,(_sprite)
1719  05EC  26 00       	ld	h,0x00
1720  05EE  01 00 00    	ld	bc,_sprite_speed_alt
1721  05F1  09          	add	hl,bc
1722  05F2  AF          	xor	a,a
1723  05F3  77          	ld	(hl),a
1724  05F4  2E 00       	ld	l,0x00
1725  05F6  C3 E1 08    	jp	l_player_move_00164
1726  05F9              l_player_move_00113:
1727  05F9  CD 00 00    	call	_spr_redraw
1728  05FC  ED 4B 00 00 	ld	bc,(_curr_time)
1729  0600  2A 00 00    	ld	hl,(_sprite)
1730  0603  26 00       	ld	h,0x00
1731  0605  29          	add	hl, hl
1732  0606  11 00 00    	ld	de,_spr_timer
1733  0609  19          	add	hl, de
1734  060A  5E          	ld	e, (hl)
1735  060B  23          	inc	hl
1736  060C  56          	ld	d, (hl)
1737  060D  69          	ld	l,c
1738  060E  60          	ld	h,b
1739  060F  AF          	xor	a,a
1740  0610  ED 52       	sbc	hl,de
1741  0612  22 00 00    	ld	(_tmp_ui),hl
1742  0615  21 00 00    	ld	hl,_tmp
1743  0618  36 00       	ld	(hl),0x00
1744  061A  3E 32       	ld	a,0x32
1745  061C  21 00 00    	ld	hl,_tmp_ui
1746  061F  BE          	cp	a, (hl)
1747  0620  3E 00       	ld	a,0x00
1748  0622  23          	inc	hl
1749  0623  9E          	sbc	a, (hl)
1750  0624  30 05       	jr	NC,l_player_move_00115
1751  0626  21 00 00    	ld	hl,_tmp
1752  0629  36 01       	ld	(hl),0x01
1753  062B              l_player_move_00115:
1754  062B  3E 64       	ld	a,0x64
1755  062D  21 00 00    	ld	hl,_tmp_ui
1756  0630  BE          	cp	a, (hl)
1757  0631  3E 00       	ld	a,0x00
1758  0633  23          	inc	hl
1759  0634  9E          	sbc	a, (hl)
1760  0635  30 05       	jr	NC,l_player_move_00117
1761  0637  21 00 00    	ld	hl,_tmp
1762  063A  36 02       	ld	(hl),0x02
1763  063C              l_player_move_00117:
1764  063C  76          	halt
1765  063D  2A 00 00    	ld	hl,(_sprite)
1766  0640  26 00       	ld	h,0x00
1767  0642  01 00 00    	ld	bc,_lin
1768  0645  09          	add	hl,bc
1769  0646  7E          	ld	a,(hl)
1770  0647  C6 10       	add	a,0x10
1771  0649  4D          	ld	c,l
1772  064A  57          	ld	d, a
1773  064B  3A 00 00    	ld	a,(_tmp)
1774  064E  C6 84       	add	a,0x84
1775  0650  47          	ld	b, a
1776  0651  3A 00 00    	ld	a,(_s_col0)
1777  0654  5A          	ld	e,d
1778  0655  57          	ld	d,a
1779  0656  D5          	push	de
1780  0657  C5          	push	bc
1781  0658  33          	inc	sp
1782  0659  CD 00 00    	call	_NIRVANAP_drawT_callee
1783  065C  3E 96       	ld	a,0x96
1784  065E  21 00 00    	ld	hl,_tmp_ui
1785  0661  BE          	cp	a, (hl)
1786  0662  3E 00       	ld	a,0x00
1787  0664  23          	inc	hl
1788  0665  9E          	sbc	a, (hl)
1789  0666  30 54       	jr	NC,l_player_move_00119
1790  0668  2A 00 00    	ld	hl,(_sprite)
1791  066B  26 00       	ld	h,0x00
1792  066D  01 00 00    	ld	bc,_lin
1793  0670  09          	add	hl,bc
1794  0671  4E          	ld	c, (hl)
1795  0672  3A 00 00    	ld	a, (_s_col0)
1796  0675  47          	ld	b,a
1797  0676  C5          	push	bc
1798  0677  3E A9       	ld	a,0xa9
1799  0679  F5          	push	af
1800  067A  33          	inc	sp
1801  067B  CD 00 00    	call	_NIRVANAP_drawT_callee
1802  067E  2A 00 00    	ld	hl,(_sprite)
1803  0681  26 00       	ld	h,0x00
1804  0683  01 00 00    	ld	bc,_lin
1805  0686  09          	add	hl,bc
1806  0687  7E          	ld	a,(hl)
1807  0688  C6 10       	add	a,0x10
1808  068A  4F          	ld	c, a
1809  068B  3A 00 00    	ld	a, (_s_col0)
1810  068E  47          	ld	b,a
1811  068F  C5          	push	bc
1812  0690  3E A9       	ld	a,0xa9
1813  0692  F5          	push	af
1814  0693  33          	inc	sp
1815  0694  CD 00 00    	call	_NIRVANAP_drawT_callee
1816  0697  2A 00 00    	ld	hl,(_sprite)
1817  069A  26 00       	ld	h,0x00
1818  069C  01 00 00    	ld	bc,_state
1819  069F  09          	add	hl,bc
1820  06A0  7E          	ld	a,(hl)
1821  06A1  E6 EF       	and	a,0xef
1822  06A3  77          	ld	(hl),a
1823  06A4  2A 00 00    	ld	hl,(_sprite)
1824  06A7  26 00       	ld	h,0x00
1825  06A9  01 00 00    	ld	bc,_state
1826  06AC  09          	add	hl,bc
1827  06AD  7E          	ld	a,(hl)
1828  06AE  F6 01       	or	a,0x01
1829  06B0  77          	ld	(hl),a
1830  06B1  2A 00 00    	ld	hl,(_sprite)
1831  06B4  26 00       	ld	h,0x00
1832  06B6  01 00 00    	ld	bc,_sprite_speed_alt
1833  06B9  09          	add	hl,bc
1834  06BA  AF          	xor	a,a
1835  06BB  77          	ld	(hl),a
1836  06BC              l_player_move_00119:
1837  06BC  2E 00       	ld	l,0x00
1838  06BE  C3 E1 08    	jp	l_player_move_00164
1839  06C1              l_player_move_00121:
1840  06C1  01 00 00    	ld	bc,_state_a+0
1841  06C4  2A 00 00    	ld	hl,(_sprite)
1842  06C7  26 00       	ld	h,0x00
1843  06C9  09          	add	hl,bc
1844  06CA  7E          	ld	a,(hl)
1845  06CB  0F          	rrca
1846  06CC  30 1B       	jr	NC,l_player_move_00126
1847  06CE  C5          	push	bc
1848  06CF  CD 5C 01    	call	_player_check_input
1849  06D2  C1          	pop	bc
1850  06D3  7D          	ld	a,l
1851  06D4  B7          	or	a, a
1852  06D5  28 0D       	jr	Z,l_player_move_00123
1853  06D7  2A 00 00    	ld	hl,(_sprite)
1854  06DA  26 00       	ld	h,0x00
1855  06DC  09          	add	hl,bc
1856  06DD  7E          	ld	a,(hl)
1857  06DE  EB          	ex	de,hl
1858  06DF  E6 FE       	and	a,0xfe
1859  06E1  12          	ld	(de), a
1860  06E2  18 05       	jr	l_player_move_00126
1861  06E4              l_player_move_00123:
1862  06E4  2E 00       	ld	l,0x00
1863  06E6  C3 E1 08    	jp	l_player_move_00164
1864  06E9              l_player_move_00126:
1865  06E9  2A 00 00    	ld	hl,(_sprite)
1866  06EC  26 00       	ld	h,0x00
1867  06EE  09          	add	hl,bc
1868  06EF  CB 56       	bit	2,(hl)
1869  06F1  28 5F       	jr	Z,l_player_move_00130
1870  06F3  2A 00 00    	ld	hl,(_sprite)
1871  06F6  26 00       	ld	h,0x00
1872  06F8  29          	add	hl, hl
1873  06F9  11 00 00    	ld	de,_spr_timer
1874  06FC  19          	add	hl, de
1875  06FD  5E          	ld	e, (hl)
1876  06FE  23          	inc	hl
1877  06FF  56          	ld	d, (hl)
1878  0700  C5          	push	bc
1879  0701  21 14 00    	ld	hl,0x0014
1880  0704  E5          	push	hl
1881  0705  D5          	push	de
1882  0706  CD 00 00    	call	_game_check_time
1883  0709  F1          	pop	af
1884  070A  F1          	pop	af
1885  070B  C1          	pop	bc
1886  070C  7D          	ld	a,l
1887  070D  B7          	or	a, a
1888  070E  28 42       	jr	Z,l_player_move_00130
1889  0710  79          	ld	a, c
1890  0711  21 00 00    	ld	hl,_sprite
1891  0714  86          	add	a, (hl)
1892  0715  5F          	ld	e, a
1893  0716  78          	ld	a, b
1894  0717  CE 00       	adc	a,0x00
1895  0719  57          	ld	d, a
1896  071A  1A          	ld	a, (de)
1897  071B  E6 FB       	and	a,0xfb
1898  071D  12          	ld	(de), a
1899  071E  3E 00       	ld	a, +((_colint) & 0xFF)
1900  0720  86          	add	a, (hl)
1901  0721  5F          	ld	e, a
1902  0722  3E 00       	ld	a, +((_colint) / 256)
1903  0724  CE 00       	adc	a,0x00
1904  0726  57          	ld	d, a
1905  0727  AF          	xor	a, a
1906  0728  12          	ld	(de), a
1907  0729  3E 00       	ld	a, +((_tile) & 0xFF)
1908  072B  86          	add	a, (hl)
1909  072C  DD 77 FD    	ld	(ix-3),a
1910  072F  3E 00       	ld	a, +((_tile) / 256)
1911  0731  CE 00       	adc	a,0x00
1912  0733  DD 77 FE    	ld	(ix-2),a
1913  0736  21 00 00    	ld	hl,_tile_offset
1914  0739  56          	ld	d, (hl)
1915  073A  14          	inc	d
1916  073B  14          	inc	d
1917  073C  14          	inc	d
1918  073D  C5          	push	bc
1919  073E  3E 0C       	ld	a,0x0c
1920  0740  F5          	push	af
1921  0741  33          	inc	sp
1922  0742  3A 00 00    	ld	a,(_sprite)
1923  0745  5A          	ld	e,d
1924  0746  57          	ld	d,a
1925  0747  D5          	push	de
1926  0748  CD 00 00    	call	_spr_tile_dir
1927  074B  F1          	pop	af
1928  074C  33          	inc	sp
1929  074D  C1          	pop	bc
1930  074E  5D          	ld	e,l
1931  074F  E1          	pop	hl
1932  0750  E5          	push	hl
1933  0751  73          	ld	(hl), e
1934  0752              l_player_move_00130:
1935  0752  C5          	push	bc
1936  0753  CD E6 08    	call	_player_move_input
1937  0756  C1          	pop	bc
1938  0757  2A 00 00    	ld	hl,(_sprite)
1939  075A  26 00       	ld	h,0x00
1940  075C  11 00 00    	ld	de,_state
1941  075F  19          	add	hl,de
1942  0760  7E          	ld	a,(hl)
1943  0761  21 00 00    	ld	hl,_s_state
1944  0764  77          	ld	(hl),a
1945  0765  E6 01       	and	a,0x01
1946  0767  5F          	ld	e,a
1947  0768  B7          	or	a, a
1948  0769  20 5A       	jr	NZ,l_player_move_00159
1949  076B  CB 4E       	bit	1, (hl)
1950  076D  20 56       	jr	NZ,l_player_move_00159
1951  076F  2A 00 00    	ld	hl,(_sprite)
1952  0772  26 00       	ld	h,0x00
1953  0774  01 00 00    	ld	bc,_col
1954  0777  09          	add	hl,bc
1955  0778  56          	ld	d, (hl)
1956  0779  2A 00 00    	ld	hl,(_sprite)
1957  077C  26 00       	ld	h,0x00
1958  077E  01 00 00    	ld	bc,_lin
1959  0781  09          	add	hl,bc
1960  0782  7E          	ld	a,(hl)
1961  0783  C6 10       	add	a,0x10
1962  0785  5F          	ld	e, a
1963  0786  D5          	push	de
1964  0787  CD 00 00    	call	_game_calc_index
1965  078A  F1          	pop	af
1966  078B  3A 00 00    	ld	a,(_s_lin0)
1967  078E  EB          	ex	de,hl
1968  078F  D6 98       	sub	a,0x98
1969  0791  20 03       	jr	NZ,l_player_move_00132
1970  0793  11 00 00    	ld	de,0x0000
1971  0796              l_player_move_00132:
1972  0796  7A          	ld	a, d
1973  0797  B3          	or	a,e
1974  0798  CA B1 08    	jp	Z, l_player_move_00160
1975  079B  01 00 00    	ld	bc,_lvl_1+0
1976  079E  69          	ld	l, c
1977  079F  60          	ld	h, b
1978  07A0  19          	add	hl, de
1979  07A1  6E          	ld	l, (hl)
1980  07A2  3E 8C       	ld	a,0x8c
1981  07A4  95          	sub	a, l
1982  07A5  D2 B1 08    	jp	NC, l_player_move_00160
1983  07A8  EB          	ex	de,hl
1984  07A9  23          	inc	hl
1985  07AA  09          	add	hl, bc
1986  07AB  4E          	ld	c, (hl)
1987  07AC  3E 8C       	ld	a,0x8c
1988  07AE  91          	sub	a, c
1989  07AF  D2 B1 08    	jp	NC, l_player_move_00160
1990  07B2  2A 00 00    	ld	hl,(_sprite)
1991  07B5  26 00       	ld	h,0x00
1992  07B7  01 00 00    	ld	bc,_sprite_speed_alt
1993  07BA  09          	add	hl,bc
1994  07BB  36 02       	ld	(hl),0x02
1995  07BD  21 00 00    	ld	hl,_s_state
1996  07C0  CB CE       	set	1, (hl)
1997  07C2  C3 B1 08    	jp	l_player_move_00160
1998  07C5              l_player_move_00159:
1999  07C5  21 00 00    	ld	hl,_sprite_lin_inc_mul
2000  07C8  36 02       	ld	(hl),0x02
2001  07CA  3E 00       	ld	a, +((_player_jump_c) & 0xFF)
2002  07CC  21 00 00    	ld	hl,_index_player
2003  07CF  86          	add	a, (hl)
2004  07D0  DD 77 FD    	ld	(ix-3),a
2005  07D3  3E 00       	ld	a, +((_player_jump_c) / 256)
2006  07D5  CE 00       	adc	a,0x00
2007  07D7  DD 77 FE    	ld	(ix-2),a
2008  07DA  E1          	pop	hl
2009  07DB  56          	ld	d,(hl)
2010  07DC  E5          	push	hl
2011  07DD  3E 03       	ld	a,0x03
2012  07DF  92          	sub	a, d
2013  07E0  30 05       	jr	NC,l_player_move_00138
2014  07E2  21 00 00    	ld	hl,_sprite_lin_inc_mul
2015  07E5  36 01       	ld	(hl),0x01
2016  07E7              l_player_move_00138:
2017  07E7  3E 08       	ld	a,0x08
2018  07E9  92          	sub	a, d
2019  07EA  30 05       	jr	NC,l_player_move_00140
2020  07EC  21 00 00    	ld	hl,_sprite_lin_inc_mul
2021  07EF  36 00       	ld	(hl),0x00
2022  07F1              l_player_move_00140:
2023  07F1  3E 0C       	ld	a,0x0c
2024  07F3  92          	sub	a, d
2025  07F4  30 05       	jr	NC,l_player_move_00142
2026  07F6  21 00 00    	ld	hl,_sprite_lin_inc_mul
2027  07F9  36 01       	ld	(hl),0x01
2028  07FB              l_player_move_00142:
2029  07FB  3E 11       	ld	a,0x11
2030  07FD  92          	sub	a, d
2031  07FE  30 05       	jr	NC,l_player_move_00144
2032  0800  21 00 00    	ld	hl,_sprite_lin_inc_mul
2033  0803  36 02       	ld	(hl),0x02
2034  0805              l_player_move_00144:
2035  0805  7B          	ld	a, e
2036  0806  B7          	or	a, a
2037  0807  28 1C       	jr	Z,l_player_move_00156
2038  0809  7A          	ld	a, d
2039  080A  D6 0A       	sub	a,0x0a
2040  080C  30 11       	jr	NC,l_player_move_00148
2041  080E  2A 00 00    	ld	hl,(_sprite)
2042  0811  26 00       	ld	h,0x00
2043  0813  09          	add	hl,bc
2044  0814  7E          	ld	a,(hl)
2045  0815  07          	rlca
2046  0816  DA 9F 08    	jp	C,l_player_move_00157
2047  0819  CD 00 00    	call	_spr_move_up
2048  081C  C3 9F 08    	jp	l_player_move_00157
2049  081F              l_player_move_00148:
2050  081F  CD 00 00    	call	_spr_set_fall
2051  0822  C3 9F 08    	jp	l_player_move_00157
2052  0825              l_player_move_00156:
2053  0825  C5          	push	bc
2054  0826  CD 00 00    	call	_spr_move_down
2055  0829  C1          	pop	bc
2056  082A  7D          	ld	a,l
2057  082B  B7          	or	a, a
2058  082C  28 71       	jr	Z,l_player_move_00157
2059  082E  21 00 00    	ld	hl,_s_state
2060  0831  CB 8E       	res	1, (hl)
2061  0833  2A 00 00    	ld	hl,(_sprite)
2062  0836  26 00       	ld	h,0x00
2063  0838  09          	add	hl,bc
2064  0839  7E          	ld	a,(hl)
2065  083A  E6 7F       	and	a,0x7f
2066  083C  77          	ld	(hl),a
2067  083D  2A 00 00    	ld	hl,(_index_player)
2068  0840  26 00       	ld	h,0x00
2069  0842  01 00 00    	ld	bc,_player_jump_c
2070  0845  09          	add	hl,bc
2071  0846  AF          	xor	a,a
2072  0847  77          	ld	(hl),a
2073  0848  2A 00 00    	ld	hl,(_sprite)
2074  084B  26 00       	ld	h,0x00
2075  084D  01 00 00    	ld	bc,_jump_lin
2076  0850  09          	add	hl,bc
2077  0851  AF          	xor	a,a
2078  0852  77          	ld	(hl),a
2079  0853  2A 00 00    	ld	hl,(_index_player)
2080  0856  26 00       	ld	h,0x00
2081  0858  01 00 00    	ld	bc,_sliding
2082  085B  09          	add	hl,bc
2083  085C  AF          	xor	a,a
2084  085D  77          	ld	(hl),a
2085  085E  2A 00 00    	ld	hl,(_sprite)
2086  0861  26 00       	ld	h,0x00
2087  0863  01 00 00    	ld	bc,_colint
2088  0866  09          	add	hl,bc
2089  0867  AF          	xor	a,a
2090  0868  77          	ld	(hl),a
2091  0869  2A 00 00    	ld	hl,(_sprite)
2092  086C  26 00       	ld	h,0x00
2093  086E  01 00 00    	ld	bc,_tile
2094  0871  09          	add	hl,bc
2095  0872  4D          	ld	c,l
2096  0873  44          	ld	b,h
2097  0874  21 00 00    	ld	hl,_tile_offset
2098  0877  56          	ld	d, (hl)
2099  0878  14          	inc	d
2100  0879  14          	inc	d
2101  087A  14          	inc	d
2102  087B  C5          	push	bc
2103  087C  3E 0C       	ld	a,0x0c
2104  087E  F5          	push	af
2105  087F  33          	inc	sp
2106  0880  3A 00 00    	ld	a,(_sprite)
2107  0883  5A          	ld	e,d
2108  0884  57          	ld	d,a
2109  0885  D5          	push	de
2110  0886  CD 00 00    	call	_spr_tile_dir
2111  0889  F1          	pop	af
2112  088A  33          	inc	sp
2113  088B  C1          	pop	bc
2114  088C  7D          	ld	a,l
2115  088D  02          	ld	(bc), a
2116  088E  21 00 00    	ld	hl,_s_state
2117  0891  CB 5E       	bit	3, (hl)
2118  0893  20 07       	jr	NZ,l_player_move_00150
2119  0895  21 00 00    	ld	hl,_s_state
2120  0898  CB 56       	bit	2, (hl)
2121  089A  28 03       	jr	Z,l_player_move_00157
2122  089C              l_player_move_00150:
2123  089C  CD F7 00    	call	_player_calc_slide
2124  089F              l_player_move_00157:
2125  089F  21 00 00    	ld	hl,_sprite_lin_inc_mul
2126  08A2  36 00       	ld	(hl),0x00
2127  08A4  2A 00 00    	ld	hl,(_index_player)
2128  08A7  26 00       	ld	h,0x00
2129  08A9  01 00 00    	ld	bc,_player_jump_c
2130  08AC  09          	add	hl,bc
2131  08AD  34          	inc	(hl)
2132  08AE  CD 81 0B    	call	_player_move_horizontal
2133  08B1              l_player_move_00160:
2134  08B1  2A 00 00    	ld	hl,(_sprite)
2135  08B4  26 00       	ld	h,0x00
2136  08B6  29          	add	hl, hl
2137  08B7  11 00 00    	ld	de,_spr_timer
2138  08BA  19          	add	hl, de
2139  08BB  4E          	ld	c, (hl)
2140  08BC  23          	inc	hl
2141  08BD  46          	ld	b, (hl)
2142  08BE  21 04 00    	ld	hl,0x0004
2143  08C1  E5          	push	hl
2144  08C2  C5          	push	bc
2145  08C3  CD 00 00    	call	_game_check_time
2146  08C6  F1          	pop	af
2147  08C7  F1          	pop	af
2148  08C8  7D          	ld	a, l
2149  08C9  B7          	or	a, a
2150  08CA  28 03       	jr	Z,l_player_move_00163
2151  08CC  CD F1 0D    	call	_player_hit_brick_clear
2152  08CF              l_player_move_00163:
2153  08CF  CD 00 00    	call	_spr_redraw
2154  08D2  2A 00 00    	ld	hl,(_sprite)
2155  08D5  26 00       	ld	h,0x00
2156  08D7  01 00 00    	ld	bc,_state
2157  08DA  09          	add	hl,bc
2158  08DB  3A 00 00    	ld	a,(_s_state)
2159  08DE  77          	ld	(hl),a
2160  08DF  2E 00       	ld	l,0x00
2161  08E1              l_player_move_00164:
2162  08E1  DD F9       	ld	sp, ix
2163  08E3  DD E1       	pop	ix
2164  08E5  C9          	ret
2165  08E6              	SECTION code_compiler
2166  08E6              ;	---------------------------------
2167  08E6              ; Function player_move_input
2168  08E6              ; ---------------------------------
2169  08E6              _player_move_input:
2170  08E6  21 00 00    	ld	hl,_s_state
2171  08E9  CB 46       	bit	0, (hl)
2172  08EB  20 07       	jr	NZ,l_player_move_input_00101
2173  08ED  21 00 00    	ld	hl,_s_state
2174  08F0  CB 4E       	bit	1, (hl)
2175  08F2  28 05       	jr	Z,l_player_move_input_00102
2176  08F4              l_player_move_input_00101:
2177  08F4  2E 00       	ld	l,0x00
2178  08F6  C3 80 0B    	jp	l_player_move_input_00135
2179  08F9              l_player_move_input_00102:
2180  08F9  CD 5C 01    	call	_player_check_input
2181  08FC  7D          	ld	a, l
2182  08FD  B7          	or	a, a
2183  08FE  CA 9A 0A    	jp	Z, l_player_move_input_00131
2184  0901  2A 00 00    	ld	hl,(_index_player)
2185  0904  26 00       	ld	h,0x00
2186  0906  01 00 00    	ld	bc,_sliding
2187  0909  09          	add	hl,bc
2188  090A  46          	ld	b,(hl)
2189  090B  3A 00 00    	ld	a,(_dirs)
2190  090E  E6 80       	and	a,0x80
2191  0910  4F          	ld	c, a
2192  0911  78          	ld	a, b
2193  0912  B7          	or	a, a
2194  0913  28 05       	jr	Z,l_player_move_input_00130
2195  0915  79          	ld	a, c
2196  0916  B7          	or	a, a
2197  0917  CA 9A 0A    	jp	Z, l_player_move_input_00131
2198  091A              l_player_move_input_00130:
2199  091A  79          	ld	a, c
2200  091B  B7          	or	a, a
2201  091C  CA C9 09    	jp	Z, l_player_move_input_00110
2202  091F  CD 00 00    	call	_ay_is_playing
2203  0922  7D          	ld	a, l
2204  0923  D6 03       	sub	a,0x03
2205  0925  28 06       	jr	Z,l_player_move_input_00105
2206  0927  21 00 00    	ld	hl,_ay_effect_03
2207  092A  CD 00 00    	call	_ay_fx_play
2208  092D              l_player_move_input_00105:
2209  092D  CD 00 00    	call	_sound_jump
2210  0930  2A 00 00    	ld	hl,(_sprite)
2211  0933  26 00       	ld	h,0x00
2212  0935  01 00 00    	ld	bc,_state
2213  0938  09          	add	hl,bc
2214  0939  CB 56       	bit	2,(hl)
2215  093B  28 0D       	jr	Z,l_player_move_input_00107
2216  093D  2A 00 00    	ld	hl,(_sprite)
2217  0940  26 00       	ld	h,0x00
2218  0942  01 00 00    	ld	bc,_colint
2219  0945  09          	add	hl,bc
2220  0946  AF          	xor	a,a
2221  0947  77          	ld	(hl),a
2222  0948  18 0B       	jr	l_player_move_input_00108
2223  094A              l_player_move_input_00107:
2224  094A  2A 00 00    	ld	hl,(_sprite)
2225  094D  26 00       	ld	h,0x00
2226  094F  01 00 00    	ld	bc,_colint
2227  0952  09          	add	hl,bc
2228  0953  36 02       	ld	(hl),0x02
2229  0955              l_player_move_input_00108:
2230  0955  21 00 00    	ld	hl,_s_state
2231  0958  7E          	ld	a,(hl)
2232  0959  F6 01       	or	a,0x01
2233  095B  E6 FD       	and	a,0xfd
2234  095D  77          	ld	(hl),a
2235  095E  2A 00 00    	ld	hl,(_sprite)
2236  0961  26 00       	ld	h,0x00
2237  0963  01 00 00    	ld	bc,_jump_lin
2238  0966  09          	add	hl,bc
2239  0967  4D          	ld	c,l
2240  0968  44          	ld	b,h
2241  0969  2A 00 00    	ld	hl,(_sprite)
2242  096C  26 00       	ld	h,0x00
2243  096E  11 00 00    	ld	de,_lin
2244  0971  19          	add	hl,de
2245  0972  7E          	ld	a,(hl)
2246  0973  02          	ld	(bc),a
2247  0974  2A 00 00    	ld	hl,(_sprite)
2248  0977  26 00       	ld	h,0x00
2249  0979  01 00 00    	ld	bc,_state
2250  097C  09          	add	hl,bc
2251  097D  3A 00 00    	ld	a,(_s_state)
2252  0980  77          	ld	(hl),a
2253  0981  2A 00 00    	ld	hl,(_sprite)
2254  0984  26 00       	ld	h,0x00
2255  0986  01 00 00    	ld	bc,_tile
2256  0989  09          	add	hl,bc
2257  098A  3A 00 00    	ld	a,(_tile_offset)
2258  098D  C6 07       	add	a,0x07
2259  098F  57          	ld	d,a
2260  0990  E5          	push	hl
2261  0991  3E 0C       	ld	a,0x0c
2262  0993  F5          	push	af
2263  0994  33          	inc	sp
2264  0995  3A 00 00    	ld	a,(_sprite)
2265  0998  5A          	ld	e,d
2266  0999  57          	ld	d,a
2267  099A  D5          	push	de
2268  099B  CD 00 00    	call	_spr_tile_dir
2269  099E  F1          	pop	af
2270  099F  33          	inc	sp
2271  09A0  C1          	pop	bc
2272  09A1  7D          	ld	a,l
2273  09A2  02          	ld	(bc), a
2274  09A3  2A 00 00    	ld	hl,(_sprite)
2275  09A6  26 00       	ld	h,0x00
2276  09A8  01 00 00    	ld	bc,_sprite_speed_alt
2277  09AB  09          	add	hl,bc
2278  09AC  36 02       	ld	(hl),0x02
2279  09AE  2A 00 00    	ld	hl,(_index_player)
2280  09B1  26 00       	ld	h,0x00
2281  09B3  01 00 00    	ld	bc,_player_jump_c
2282  09B6  09          	add	hl,bc
2283  09B7  AF          	xor	a,a
2284  09B8  77          	ld	(hl),a
2285  09B9  2A 00 00    	ld	hl,(_index_player)
2286  09BC  26 00       	ld	h,0x00
2287  09BE  01 00 00    	ld	bc,_sliding
2288  09C1  09          	add	hl,bc
2289  09C2  AF          	xor	a,a
2290  09C3  77          	ld	(hl),a
2291  09C4  2E 01       	ld	l,0x01
2292  09C6  C3 80 0B    	jp	l_player_move_input_00135
2293  09C9              l_player_move_input_00110:
2294  09C9  21 00 00    	ld	hl,_dirs
2295  09CC  CB 5E       	bit	3, (hl)
2296  09CE  28 3F       	jr	Z,l_player_move_input_00114
2297  09D0  21 00 00    	ld	hl,_s_state
2298  09D3  CB 5E       	bit	3, (hl)
2299  09D5  28 08       	jr	Z,l_player_move_input_00112
2300  09D7  CD F7 00    	call	_player_calc_slide
2301  09DA  2E 01       	ld	l,0x01
2302  09DC  C3 80 0B    	jp	l_player_move_input_00135
2303  09DF              l_player_move_input_00112:
2304  09DF  21 00 00    	ld	hl,_s_state
2305  09E2  7E          	ld	a,(hl)
2306  09E3  F6 04       	or	a,0x04
2307  09E5  E6 F7       	and	a,0xf7
2308  09E7  77          	ld	(hl),a
2309  09E8  01 00 00    	ld	bc,_state_a+0
2310  09EB  79          	ld	a, c
2311  09EC  21 00 00    	ld	hl,_sprite
2312  09EF  86          	add	a, (hl)
2313  09F0  5F          	ld	e, a
2314  09F1  78          	ld	a, b
2315  09F2  CE 00       	adc	a,0x00
2316  09F4  57          	ld	d, a
2317  09F5  1A          	ld	a, (de)
2318  09F6  F6 10       	or	a,0x10
2319  09F8  12          	ld	(de), a
2320  09F9  79          	ld	a, c
2321  09FA  86          	add	a, (hl)
2322  09FB  5F          	ld	e, a
2323  09FC  78          	ld	a, b
2324  09FD  CE 00       	adc	a,0x00
2325  09FF  57          	ld	d, a
2326  0A00  1A          	ld	a, (de)
2327  0A01  E6 F7       	and	a,0xf7
2328  0A03  12          	ld	(de), a
2329  0A04  79          	ld	a, c
2330  0A05  86          	add	a, (hl)
2331  0A06  4F          	ld	c, a
2332  0A07  78          	ld	a, b
2333  0A08  CE 00       	adc	a,0x00
2334  0A0A  47          	ld	b, a
2335  0A0B  0A          	ld	a, (bc)
2336  0A0C  F6 20       	or	a,0x20
2337  0A0E  02          	ld	(bc), a
2338  0A0F              l_player_move_input_00114:
2339  0A0F  21 00 00    	ld	hl,_dirs
2340  0A12  CB 56       	bit	2, (hl)
2341  0A14  28 3F       	jr	Z,l_player_move_input_00118
2342  0A16  21 00 00    	ld	hl,_s_state
2343  0A19  CB 56       	bit	2, (hl)
2344  0A1B  28 08       	jr	Z,l_player_move_input_00116
2345  0A1D  CD F7 00    	call	_player_calc_slide
2346  0A20  2E 01       	ld	l,0x01
2347  0A22  C3 80 0B    	jp	l_player_move_input_00135
2348  0A25              l_player_move_input_00116:
2349  0A25  21 00 00    	ld	hl,_s_state
2350  0A28  7E          	ld	a,(hl)
2351  0A29  F6 08       	or	a,0x08
2352  0A2B  E6 FB       	and	a,0xfb
2353  0A2D  77          	ld	(hl),a
2354  0A2E  01 00 00    	ld	bc,_state_a+0
2355  0A31  79          	ld	a, c
2356  0A32  21 00 00    	ld	hl,_sprite
2357  0A35  86          	add	a, (hl)
2358  0A36  5F          	ld	e, a
2359  0A37  78          	ld	a, b
2360  0A38  CE 00       	adc	a,0x00
2361  0A3A  57          	ld	d, a
2362  0A3B  1A          	ld	a, (de)
2363  0A3C  F6 08       	or	a,0x08
2364  0A3E  12          	ld	(de), a
2365  0A3F  79          	ld	a, c
2366  0A40  86          	add	a, (hl)
2367  0A41  5F          	ld	e, a
2368  0A42  78          	ld	a, b
2369  0A43  CE 00       	adc	a,0x00
2370  0A45  57          	ld	d, a
2371  0A46  1A          	ld	a, (de)
2372  0A47  E6 EF       	and	a,0xef
2373  0A49  12          	ld	(de), a
2374  0A4A  79          	ld	a, c
2375  0A4B  86          	add	a, (hl)
2376  0A4C  4F          	ld	c, a
2377  0A4D  78          	ld	a, b
2378  0A4E  CE 00       	adc	a,0x00
2379  0A50  47          	ld	b, a
2380  0A51  0A          	ld	a, (bc)
2381  0A52  F6 20       	or	a,0x20
2382  0A54  02          	ld	(bc), a
2383  0A55              l_player_move_input_00118:
2384  0A55  2A 00 00    	ld	hl,(_sprite)
2385  0A58  26 00       	ld	h,0x00
2386  0A5A  01 00 00    	ld	bc,_state
2387  0A5D  09          	add	hl,bc
2388  0A5E  3A 00 00    	ld	a,(_s_state)
2389  0A61  77          	ld	(hl),a
2390  0A62  2A 00 00    	ld	hl,(_sprite)
2391  0A65  26 00       	ld	h,0x00
2392  0A67  01 00 00    	ld	bc,_tile
2393  0A6A  09          	add	hl,bc
2394  0A6B  E5          	push	hl
2395  0A6C  2A 00 00    	ld	hl,(_sprite)
2396  0A6F  26 0C       	ld	h,0x0c
2397  0A71  3A 00 00    	ld	a,(_tile_offset)
2398  0A74  E5          	push	hl
2399  0A75  F5          	push	af
2400  0A76  33          	inc	sp
2401  0A77  CD 00 00    	call	_spr_tile_dir
2402  0A7A  F1          	pop	af
2403  0A7B  33          	inc	sp
2404  0A7C  C1          	pop	bc
2405  0A7D  7D          	ld	a,l
2406  0A7E  02          	ld	(bc), a
2407  0A7F  CD 00 00    	call	_ay_is_playing
2408  0A82  7D          	ld	a, l
2409  0A83  B7          	or	a, a
2410  0A84  20 0C       	jr	NZ,l_player_move_input_00120
2411  0A86  3A 00 00    	ld	a,(_game_bonus)
2412  0A89  B7          	or	a, a
2413  0A8A  20 06       	jr	NZ,l_player_move_input_00120
2414  0A8C  21 00 00    	ld	hl,_ay_effect_20
2415  0A8F  CD 00 00    	call	_ay_fx_play
2416  0A92              l_player_move_input_00120:
2417  0A92  CD 81 0B    	call	_player_move_horizontal
2418  0A95  2E 01       	ld	l,0x01
2419  0A97  C3 80 0B    	jp	l_player_move_input_00135
2420  0A9A              l_player_move_input_00131:
2421  0A9A  2A 00 00    	ld	hl,(_sprite)
2422  0A9D  26 00       	ld	h,0x00
2423  0A9F  01 00 00    	ld	bc,_state_a
2424  0AA2  09          	add	hl,bc
2425  0AA3  CB 6E       	bit	5,(hl)
2426  0AA5  28 10       	jr	Z,l_player_move_input_00123
2427  0AA7  CD F7 00    	call	_player_calc_slide
2428  0AAA  2A 00 00    	ld	hl,(_sprite)
2429  0AAD  26 00       	ld	h,0x00
2430  0AAF  01 00 00    	ld	bc,_state_a
2431  0AB2  09          	add	hl,bc
2432  0AB3  7E          	ld	a,(hl)
2433  0AB4  E6 DF       	and	a,0xdf
2434  0AB6  77          	ld	(hl),a
2435  0AB7              l_player_move_input_00123:
2436  0AB7  2A 00 00    	ld	hl,(_index_player)
2437  0ABA  26 00       	ld	h,0x00
2438  0ABC  01 00 00    	ld	bc,_sliding
2439  0ABF  09          	add	hl,bc
2440  0AC0  7E          	ld	a,(hl)
2441  0AC1  B7          	or	a, a
2442  0AC2  CA 7E 0B    	jp	Z, l_player_move_input_00129
2443  0AC5  CD 00 00    	call	_ay_is_playing
2444  0AC8  7D          	ld	a, l
2445  0AC9  D6 03       	sub	a,0x03
2446  0ACB  28 06       	jr	Z,l_player_move_input_00125
2447  0ACD  21 00 00    	ld	hl,_ay_effect_01
2448  0AD0  CD 00 00    	call	_ay_fx_play
2449  0AD3              l_player_move_input_00125:
2450  0AD3  CD 00 00    	call	_sound_slide
2451  0AD6  CD 81 0B    	call	_player_move_horizontal
2452  0AD9  2A 00 00    	ld	hl,(_index_player)
2453  0ADC  26 00       	ld	h,0x00
2454  0ADE  01 00 00    	ld	bc,_sliding
2455  0AE1  09          	add	hl,bc
2456  0AE2  7E          	ld	a,(hl)
2457  0AE3  C6 FF       	add	a,0xff
2458  0AE5  77          	ld	(hl),a
2459  0AE6  2A 00 00    	ld	hl,(_sprite)
2460  0AE9  26 00       	ld	h,0x00
2461  0AEB  01 00 00    	ld	bc,_sprite_speed_alt
2462  0AEE  09          	add	hl,bc
2463  0AEF  AF          	xor	a,a
2464  0AF0  77          	ld	(hl),a
2465  0AF1  2A 00 00    	ld	hl,(_sprite)
2466  0AF4  26 00       	ld	h,0x00
2467  0AF6  01 00 00    	ld	bc,_tile
2468  0AF9  09          	add	hl,bc
2469  0AFA  4D          	ld	c,l
2470  0AFB  44          	ld	b,h
2471  0AFC  21 00 00    	ld	hl,_tile_offset
2472  0AFF  56          	ld	d, (hl)
2473  0B00  14          	inc	d
2474  0B01  14          	inc	d
2475  0B02  14          	inc	d
2476  0B03  14          	inc	d
2477  0B04  C5          	push	bc
2478  0B05  3E 0C       	ld	a,0x0c
2479  0B07  F5          	push	af
2480  0B08  33          	inc	sp
2481  0B09  3A 00 00    	ld	a,(_sprite)
2482  0B0C  5A          	ld	e,d
2483  0B0D  57          	ld	d,a
2484  0B0E  D5          	push	de
2485  0B0F  CD 00 00    	call	_spr_tile_dir
2486  0B12  F1          	pop	af
2487  0B13  33          	inc	sp
2488  0B14  C1          	pop	bc
2489  0B15  7D          	ld	a,l
2490  0B16  02          	ld	(bc), a
2491  0B17  2A 00 00    	ld	hl,(_index_player)
2492  0B1A  26 00       	ld	h,0x00
2493  0B1C  01 00 00    	ld	bc,_sliding
2494  0B1F  09          	add	hl,bc
2495  0B20  7E          	ld	a,(hl)
2496  0B21  B7          	or	a, a
2497  0B22  20 5A       	jr	NZ,l_player_move_input_00129
2498  0B24  01 00 00    	ld	bc,_spr_timer+0
2499  0B27  2A 00 00    	ld	hl,(_sprite)
2500  0B2A  26 00       	ld	h,0x00
2501  0B2C  29          	add	hl, hl
2502  0B2D  09          	add	hl, bc
2503  0B2E  AF          	xor	a, a
2504  0B2F  77          	ld	(hl), a
2505  0B30  23          	inc	hl
2506  0B31  77          	ld	(hl), a
2507  0B32  2A 00 00    	ld	hl,(_sprite)
2508  0B35  26 00       	ld	h,0x00
2509  0B37  01 00 00    	ld	bc,_colint
2510  0B3A  09          	add	hl,bc
2511  0B3B  AF          	xor	a,a
2512  0B3C  77          	ld	(hl),a
2513  0B3D  2A 00 00    	ld	hl,(_sprite)
2514  0B40  26 00       	ld	h,0x00
2515  0B42  01 00 00    	ld	bc,_tile
2516  0B45  09          	add	hl,bc
2517  0B46  4D          	ld	c,l
2518  0B47  44          	ld	b,h
2519  0B48  21 00 00    	ld	hl,_tile_offset
2520  0B4B  56          	ld	d, (hl)
2521  0B4C  14          	inc	d
2522  0B4D  14          	inc	d
2523  0B4E  14          	inc	d
2524  0B4F  C5          	push	bc
2525  0B50  3E 0C       	ld	a,0x0c
2526  0B52  F5          	push	af
2527  0B53  33          	inc	sp
2528  0B54  3A 00 00    	ld	a,(_sprite)
2529  0B57  5A          	ld	e,d
2530  0B58  57          	ld	d,a
2531  0B59  D5          	push	de
2532  0B5A  CD 00 00    	call	_spr_tile_dir
2533  0B5D  F1          	pop	af
2534  0B5E  33          	inc	sp
2535  0B5F  C1          	pop	bc
2536  0B60  7D          	ld	a,l
2537  0B61  02          	ld	(bc), a
2538  0B62  01 00 00    	ld	bc,_state+0
2539  0B65  79          	ld	a, c
2540  0B66  21 00 00    	ld	hl,_sprite
2541  0B69  86          	add	a, (hl)
2542  0B6A  5F          	ld	e, a
2543  0B6B  78          	ld	a, b
2544  0B6C  CE 00       	adc	a,0x00
2545  0B6E  57          	ld	d, a
2546  0B6F  1A          	ld	a, (de)
2547  0B70  E6 FB       	and	a,0xfb
2548  0B72  12          	ld	(de), a
2549  0B73  79          	ld	a, c
2550  0B74  86          	add	a, (hl)
2551  0B75  4F          	ld	c, a
2552  0B76  78          	ld	a, b
2553  0B77  CE 00       	adc	a,0x00
2554  0B79  47          	ld	b, a
2555  0B7A  0A          	ld	a, (bc)
2556  0B7B  E6 F7       	and	a,0xf7
2557  0B7D  02          	ld	(bc), a
2558  0B7E              l_player_move_input_00129:
2559  0B7E  2E 00       	ld	l,0x00
2560  0B80              l_player_move_input_00135:
2561  0B80  C9          	ret
2562  0B81              	SECTION code_compiler
2563  0B81              ;	---------------------------------
2564  0B81              ; Function player_move_horizontal
2565  0B81              ; ---------------------------------
2566  0B81              _player_move_horizontal:
2567  0B81  AF          	xor	a, a
2568  0B82  F5          	push	af
2569  0B83  33          	inc	sp
2570  0B84  2A FF FF    	ld	hl,(_sprite_other_player - 1)
2571  0B87  3A 00 00    	ld	a,(_sprite)
2572  0B8A  6F          	ld	l,a
2573  0B8B  E5          	push	hl
2574  0B8C  CD 00 00    	call	_spr_collision_check
2575  0B8F  F1          	pop	af
2576  0B90  33          	inc	sp
2577  0B91  7D          	ld	a, l
2578  0B92  B7          	or	a, a
2579  0B93  28 05       	jr	Z,l_player_move_horizontal_00102
2580  0B95  CD 9E 0B    	call	_player_push
2581  0B98  18 03       	jr	l_player_move_horizontal_00104
2582  0B9A              l_player_move_horizontal_00102:
2583  0B9A  CD 00 00    	call	_spr_move_horizontal
2584  0B9D              l_player_move_horizontal_00104:
2585  0B9D  C9          	ret
2586  0B9E              	SECTION code_compiler
2587  0B9E              ;	---------------------------------
2588  0B9E              ; Function player_push
2589  0B9E              ; ---------------------------------
2590  0B9E              _player_push:
2591  0B9E  3A 00 00    	ld	a,(_sprite)
2592  0BA1  32 00 00    	ld	(_tmp),a
2593  0BA4  3A 00 00    	ld	a,(_s_col0)
2594  0BA7  32 00 00    	ld	(_tmp0),a
2595  0BAA  2A 00 00    	ld	hl,(_sprite_other_player)
2596  0BAD  26 00       	ld	h,0x00
2597  0BAF  01 00 00    	ld	bc,_lin
2598  0BB2  09          	add	hl,bc
2599  0BB3  7E          	ld	a,(hl)
2600  0BB4  32 00 00    	ld	(_s_lin0),a
2601  0BB7  2A 00 00    	ld	hl,(_sprite_other_player)
2602  0BBA  26 00       	ld	h,0x00
2603  0BBC  01 00 00    	ld	bc,_col
2604  0BBF  09          	add	hl,bc
2605  0BC0  7E          	ld	a,(hl)
2606  0BC1  32 00 00    	ld	(_s_col0),a
2607  0BC4  01 00 00    	ld	bc,_spr_timer+0
2608  0BC7  2A 00 00    	ld	hl,(_sprite_other_player)
2609  0BCA  26 00       	ld	h,0x00
2610  0BCC  29          	add	hl, hl
2611  0BCD  09          	add	hl,bc
2612  0BCE  ED 5B 00 00 	ld	de,(_curr_time)
2613  0BD2  73          	ld	(hl),e
2614  0BD3  23          	inc	hl
2615  0BD4  72          	ld	(hl),d
2616  0BD5  2A 00 00    	ld	hl,(_sprite_other_player)
2617  0BD8  26 00       	ld	h,0x00
2618  0BDA  01 00 00    	ld	bc,_state_a
2619  0BDD  09          	add	hl,bc
2620  0BDE  7E          	ld	a,(hl)
2621  0BDF  F6 04       	or	a,0x04
2622  0BE1  77          	ld	(hl),a
2623  0BE2  3A 00 00    	ld	a,(_sprite_other_player)
2624  0BE5  32 00 00    	ld	(_sprite),a
2625  0BE8  2A 00 00    	ld	hl,(_tmp)
2626  0BEB  26 00       	ld	h,0x00
2627  0BED  01 00 00    	ld	bc,_state
2628  0BF0  09          	add	hl,bc
2629  0BF1  CB 56       	bit	2,(hl)
2630  0BF3  28 05       	jr	Z,l_player_push_00102
2631  0BF5  CD 00 00    	call	_spr_move_right
2632  0BF8  18 03       	jr	l_player_push_00103
2633  0BFA              l_player_push_00102:
2634  0BFA  CD 00 00    	call	_spr_move_left
2635  0BFD              l_player_push_00103:
2636  0BFD  CD 00 00    	call	_spr_redraw
2637  0C00  3A 00 00    	ld	a,(_tmp)
2638  0C03  32 00 00    	ld	(_sprite),a
2639  0C06  C6 00       	add	a,+((_lin) & 0xFF)
2640  0C08  4F          	ld	c,a
2641  0C09  3E 00       	ld	a,+((_lin) / 256)
2642  0C0B  CE 00       	adc	a,0x00
2643  0C0D  47          	ld	b,a
2644  0C0E  0A          	ld	a,(bc)
2645  0C0F  32 00 00    	ld	(_s_lin0),a
2646  0C12  3A 00 00    	ld	a,(_tmp0)
2647  0C15  32 00 00    	ld	(_s_col0),a
2648  0C18  C9          	ret
2649  0C19              	SECTION code_compiler
2650  0C19              ;	---------------------------------
2651  0C19              ; Function player_hit_brick
2652  0C19              ; ---------------------------------
2653  0C19              _player_hit_brick:
2654  0C19  2A 00 00    	ld	hl,(_index_player)
2655  0C1C  26 00       	ld	h,0x00
2656  0C1E  01 00 00    	ld	bc,_hit_lin
2657  0C21  09          	add	hl,bc
2658  0C22  7E          	ld	a,(hl)
2659  0C23  B7          	or	a, a
2660  0C24  C2 EE 0D    	jp	NZ, l_player_hit_brick_00112
2661  0C27  2A 00 00    	ld	hl,(_sprite)
2662  0C2A  26 00       	ld	h,0x00
2663  0C2C  01 00 00    	ld	bc,_lin
2664  0C2F  09          	add	hl,bc
2665  0C30  5E          	ld	e,(hl)
2666  0C31  3E 10       	ld	a,0x10
2667  0C33  93          	sub	a,e
2668  0C34  D2 EE 0D    	jp	NC,l_player_hit_brick_00112
2669  0C37  4D          	ld	c,l
2670  0C38  44          	ld	b,h
2671  0C39  21 00 00    	ld	hl,_enemies
2672  0C3C  36 00       	ld	(hl),0x00
2673  0C3E              l_player_hit_brick_00114:
2674  0C3E  2A 00 00    	ld	hl,(_enemies)
2675  0C41  26 00       	ld	h,0x00
2676  0C43  11 00 00    	ld	de,_class
2677  0C46  19          	add	hl,de
2678  0C47  7E          	ld	a,(hl)
2679  0C48  B7          	or	a,a
2680  0C49  28 5C       	jr	Z,l_player_hit_brick_00115
2681  0C4B  0A          	ld	a,(bc)
2682  0C4C  4F          	ld	c,a
2683  0C4D  06 00       	ld	b,0x00
2684  0C4F  2A 00 00    	ld	hl,(_enemies)
2685  0C52  60          	ld	h,b
2686  0C53  11 00 00    	ld	de,_lin
2687  0C56  19          	add	hl,de
2688  0C57  5E          	ld	e, (hl)
2689  0C58  16 00       	ld	d,0x00
2690  0C5A  79          	ld	a,c
2691  0C5B  93          	sub	a,e
2692  0C5C  4F          	ld	c,a
2693  0C5D  78          	ld	a,b
2694  0C5E  9A          	sbc	a,d
2695  0C5F  47          	ld	b,a
2696  0C60  79          	ld	a,c
2697  0C61  D6 18       	sub	a,0x18
2698  0C63  B0          	or	a,b
2699  0C64  20 41       	jr	NZ,l_player_hit_brick_00115
2700  0C66  2A 00 00    	ld	hl,(_enemies)
2701  0C69  26 00       	ld	h,0x00
2702  0C6B  01 00 00    	ld	bc,_state
2703  0C6E  09          	add	hl,bc
2704  0C6F  CB 6E       	bit	5,(hl)
2705  0C71  20 34       	jr	NZ,l_player_hit_brick_00115
2706  0C73  2A 00 00    	ld	hl,(_sprite)
2707  0C76  26 00       	ld	h,0x00
2708  0C78  01 00 00    	ld	bc,_col
2709  0C7B  09          	add	hl,bc
2710  0C7C  4E          	ld	c,(hl)
2711  0C7D  06 00       	ld	b,0x00
2712  0C7F  2A 00 00    	ld	hl,(_enemies)
2713  0C82  60          	ld	h,b
2714  0C83  11 00 00    	ld	de,_col
2715  0C86  19          	add	hl,de
2716  0C87  5E          	ld	e, (hl)
2717  0C88  16 00       	ld	d,0x00
2718  0C8A  79          	ld	a, c
2719  0C8B  93          	sub	a, e
2720  0C8C  6F          	ld	l, a
2721  0C8D  78          	ld	a, b
2722  0C8E  9A          	sbc	a, d
2723  0C8F  67          	ld	h, a
2724  0C90  CD 00 00    	call	_abs_fastcall
2725  0C93  3E 02       	ld	a,0x02
2726  0C95  BD          	cp	a,l
2727  0C96  3E 00       	ld	a,0x00
2728  0C98  9C          	sbc	a,h
2729  0C99  E2 9E 0C    	jp	PO, l_player_hit_brick_00166
2730  0C9C  EE 80       	xor	a,0x80
2731  0C9E              l_player_hit_brick_00166:
2732  0C9E  FA A7 0C    	jp	M, l_player_hit_brick_00115
2733  0CA1  CD 00 00    	call	_enemy_hit
2734  0CA4  CD 00 00    	call	_sound_hit_enemy
2735  0CA7              l_player_hit_brick_00115:
2736  0CA7  21 00 00    	ld	hl,_enemies
2737  0CAA  34          	inc	(hl)
2738  0CAB  2A 00 00    	ld	hl,(_sprite)
2739  0CAE  26 00       	ld	h,0x00
2740  0CB0  01 00 00    	ld	bc,_lin
2741  0CB3  09          	add	hl,bc
2742  0CB4  3A 00 00    	ld	a,(_enemies)
2743  0CB7  D6 06       	sub	a,0x06
2744  0CB9  4D          	ld	c,l
2745  0CBA  44          	ld	b,h
2746  0CBB  DA 3E 0C    	jp	C, l_player_hit_brick_00114
2747  0CBE  2A 00 00    	ld	hl,(_sprite_other_player)
2748  0CC1  26 00       	ld	h,0x00
2749  0CC3  11 00 00    	ld	de,_lin
2750  0CC6  19          	add	hl,de
2751  0CC7  7E          	ld	a,(hl)
2752  0CC8  5F          	ld	e,a
2753  0CC9  B7          	or	a, a
2754  0CCA  CA 8D 0D    	jp	Z, l_player_hit_brick_00108
2755  0CCD  0A          	ld	a, (bc)
2756  0CCE  6F          	ld	l, a
2757  0CCF  AF          	xor	a,a
2758  0CD0  67          	ld	h,a
2759  0CD1  57          	ld	d,a
2760  0CD2  ED 52       	sbc	hl,de
2761  0CD4  7D          	ld	a, l
2762  0CD5  D6 18       	sub	a,0x18
2763  0CD7  B4          	or	a, h
2764  0CD8  C2 8D 0D    	jp	NZ,l_player_hit_brick_00108
2765  0CDB  2A 00 00    	ld	hl,(_sprite)
2766  0CDE  26 00       	ld	h,0x00
2767  0CE0  01 00 00    	ld	bc,_col
2768  0CE3  09          	add	hl,bc
2769  0CE4  4E          	ld	c,(hl)
2770  0CE5  06 00       	ld	b,0x00
2771  0CE7  2A 00 00    	ld	hl,(_sprite_other_player)
2772  0CEA  60          	ld	h,b
2773  0CEB  11 00 00    	ld	de,_col
2774  0CEE  19          	add	hl,de
2775  0CEF  5E          	ld	e, (hl)
2776  0CF0  16 00       	ld	d,0x00
2777  0CF2  79          	ld	a, c
2778  0CF3  93          	sub	a, e
2779  0CF4  6F          	ld	l, a
2780  0CF5  78          	ld	a, b
2781  0CF6  9A          	sbc	a, d
2782  0CF7  67          	ld	h, a
2783  0CF8  CD 00 00    	call	_abs_fastcall
2784  0CFB  3E 02       	ld	a,0x02
2785  0CFD  BD          	cp	a,l
2786  0CFE  3E 00       	ld	a,0x00
2787  0D00  9C          	sbc	a,h
2788  0D01  E2 06 0D    	jp	PO, l_player_hit_brick_00169
2789  0D04  EE 80       	xor	a,0x80
2790  0D06              l_player_hit_brick_00169:
2791  0D06  FA 8D 0D    	jp	M, l_player_hit_brick_00108
2792  0D09  2A 00 00    	ld	hl,(_sprite_other_player)
2793  0D0C  26 00       	ld	h,0x00
2794  0D0E  01 00 00    	ld	bc,_col
2795  0D11  09          	add	hl,bc
2796  0D12  56          	ld	d, (hl)
2797  0D13  2A 00 00    	ld	hl,(_sprite_other_player)
2798  0D16  26 00       	ld	h,0x00
2799  0D18  01 00 00    	ld	bc,_lin
2800  0D1B  09          	add	hl,bc
2801  0D1C  5E          	ld	e, (hl)
2802  0D1D  D5          	push	de
2803  0D1E  AF          	xor	a, a
2804  0D1F  F5          	push	af
2805  0D20  33          	inc	sp
2806  0D21  CD 00 00    	call	_NIRVANAP_fillT_callee
2807  0D24  2A 00 00    	ld	hl,(_sprite_other_player)
2808  0D27  26 00       	ld	h,0x00
2809  0D29  01 00 00    	ld	bc,_lin
2810  0D2C  09          	add	hl,bc
2811  0D2D  7E          	ld	a,(hl)
2812  0D2E  C6 FC       	add	a,0xfc
2813  0D30  77          	ld	(hl),a
2814  0D31  2A 00 00    	ld	hl,(_sprite_other_player)
2815  0D34  26 00       	ld	h,0x00
2816  0D36  01 00 00    	ld	bc,_col
2817  0D39  09          	add	hl,bc
2818  0D3A  56          	ld	d, (hl)
2819  0D3B  2A 00 00    	ld	hl,(_sprite_other_player)
2820  0D3E  26 00       	ld	h,0x00
2821  0D40  01 00 00    	ld	bc,_lin
2822  0D43  09          	add	hl,bc
2823  0D44  5E          	ld	e, (hl)
2824  0D45  2A 00 00    	ld	hl,(_sprite_other_player)
2825  0D48  26 00       	ld	h,0x00
2826  0D4A  01 00 00    	ld	bc,_tile
2827  0D4D  09          	add	hl,bc
2828  0D4E  46          	ld	b, (hl)
2829  0D4F  21 00 00    	ld	hl,_sprite_other_player
2830  0D52  4E          	ld	c,(hl)
2831  0D53  D5          	push	de
2832  0D54  C5          	push	bc
2833  0D55  CD 00 00    	call	_NIRVANAP_spriteT_callee
2834  0D58  76          	halt
2835  0D59  2A 00 00    	ld	hl,(_sprite_other_player)
2836  0D5C  26 00       	ld	h,0x00
2837  0D5E  01 00 00    	ld	bc,_state
2838  0D61  09          	add	hl,bc
2839  0D62  7E          	ld	a,(hl)
2840  0D63  E6 FD       	and	a,0xfd
2841  0D65  77          	ld	(hl),a
2842  0D66  2A 00 00    	ld	hl,(_sprite_other_player)
2843  0D69  26 00       	ld	h,0x00
2844  0D6B  01 00 00    	ld	bc,_state
2845  0D6E  09          	add	hl,bc
2846  0D6F  7E          	ld	a,(hl)
2847  0D70  F6 01       	or	a,0x01
2848  0D72  77          	ld	(hl),a
2849  0D73  2A 00 00    	ld	hl,(_sprite_other_player)
2850  0D76  26 00       	ld	h,0x00
2851  0D78  01 00 00    	ld	bc,_jump_lin
2852  0D7B  09          	add	hl,bc
2853  0D7C  3A 00 00    	ld	a,(_sprite_other_player)
2854  0D7F  5F          	ld	e,a
2855  0D80  16 00       	ld	d,0x00
2856  0D82  4D          	ld	c,l
2857  0D83  44          	ld	b,h
2858  0D84  21 00 00    	ld	hl,_lin
2859  0D87  19          	add	hl,de
2860  0D88  7E          	ld	a,(hl)
2861  0D89  C6 14       	add	a,0x14
2862  0D8B  02          	ld	(bc), a
2863  0D8C  76          	halt
2864  0D8D              l_player_hit_brick_00108:
2865  0D8D  2A 00 00    	ld	hl,(_sprite)
2866  0D90  26 00       	ld	h,0x00
2867  0D92  01 00 00    	ld	bc,_state_a
2868  0D95  09          	add	hl,bc
2869  0D96  7E          	ld	a,(hl)
2870  0D97  F6 80       	or	a,0x80
2871  0D99  77          	ld	(hl),a
2872  0D9A  2A 00 00    	ld	hl,(_index_player)
2873  0D9D  26 00       	ld	h,0x00
2874  0D9F  01 00 00    	ld	bc,_player_jump_c
2875  0DA2  09          	add	hl,bc
2876  0DA3  36 04       	ld	(hl),0x04
2877  0DA5  01 00 00    	ld	bc,_spr_timer+0
2878  0DA8  2A 00 00    	ld	hl,(_sprite)
2879  0DAB  26 00       	ld	h,0x00
2880  0DAD  29          	add	hl, hl
2881  0DAE  09          	add	hl,bc
2882  0DAF  ED 5B 00 00 	ld	de,(_curr_time)
2883  0DB3  73          	ld	(hl),e
2884  0DB4  23          	inc	hl
2885  0DB5  72          	ld	(hl),d
2886  0DB6  2A 00 00    	ld	hl,(_index_player)
2887  0DB9  26 00       	ld	h,0x00
2888  0DBB  01 00 00    	ld	bc,_hit_lin
2889  0DBE  09          	add	hl,bc
2890  0DBF  4D          	ld	c,l
2891  0DC0  44          	ld	b,h
2892  0DC1  2A 00 00    	ld	hl,(_sprite)
2893  0DC4  26 00       	ld	h,0x00
2894  0DC6  11 00 00    	ld	de,_lin
2895  0DC9  19          	add	hl,de
2896  0DCA  7E          	ld	a,(hl)
2897  0DCB  02          	ld	(bc), a
2898  0DCC  2A 00 00    	ld	hl,(_index_player)
2899  0DCF  26 00       	ld	h,0x00
2900  0DD1  01 00 00    	ld	bc,_hit_col
2901  0DD4  09          	add	hl,bc
2902  0DD5  4D          	ld	c,l
2903  0DD6  44          	ld	b,h
2904  0DD7  2A 00 00    	ld	hl,(_sprite)
2905  0DDA  26 00       	ld	h,0x00
2906  0DDC  11 00 00    	ld	de,_col
2907  0DDF  19          	add	hl,de
2908  0DE0  7E          	ld	a,(hl)
2909  0DE1  02          	ld	(bc), a
2910  0DE2  2E 01       	ld	l,0x01
2911  0DE4  CD 00 00    	call	_spr_brick_anim
2912  0DE7  CD 00 00    	call	_sound_hit_brick
2913  0DEA  2E 01       	ld	l,0x01
2914  0DEC  18 02       	jr	l_player_hit_brick_00116
2915  0DEE              l_player_hit_brick_00112:
2916  0DEE  2E 00       	ld	l,0x00
2917  0DF0              l_player_hit_brick_00116:
2918  0DF0  C9          	ret
2919  0DF1              	SECTION code_compiler
2920  0DF1              ;	---------------------------------
2921  0DF1              ; Function player_hit_brick_clear
2922  0DF1              ; ---------------------------------
2923  0DF1              _player_hit_brick_clear:
2924  0DF1  2A 00 00    	ld	hl,(_index_player)
2925  0DF4  26 00       	ld	h,0x00
2926  0DF6  01 00 00    	ld	bc,_hit_lin
2927  0DF9  09          	add	hl,bc
2928  0DFA  7E          	ld	a,(hl)
2929  0DFB  4F          	ld	c,a
2930  0DFC  B7          	or	a,a
2931  0DFD  C8          	ret	Z
2932  0DFE  3A 00 00    	ld	a,(_index_player)
2933  0E01  5F          	ld	e,a
2934  0E02  16 00       	ld	d,0x00
2935  0E04  21 00 00    	ld	hl,_hit_col
2936  0E07  19          	add	hl,de
2937  0E08  56          	ld	d, (hl)
2938  0E09  79          	ld	a, c
2939  0E0A  C6 F8       	add	a,0xf8
2940  0E0C  5F          	ld	e, a
2941  0E0D  D5          	push	de
2942  0E0E  CD 00 00    	call	_game_calc_index
2943  0E11  F1          	pop	af
2944  0E12  22 00 00    	ld	(_index1),hl
2945  0E15  2E 00       	ld	l,0x00
2946  0E17  CD 00 00    	call	_spr_brick_anim
2947  0E1A  2A 00 00    	ld	hl,(_index_player)
2948  0E1D  26 00       	ld	h,0x00
2949  0E1F  01 00 00    	ld	bc,_hit_lin
2950  0E22  09          	add	hl,bc
2951  0E23  AF          	xor	a,a
2952  0E24  77          	ld	(hl),a
2953  0E25  2A 00 00    	ld	hl,(_index_player)
2954  0E28  26 00       	ld	h,0x00
2955  0E2A  01 00 00    	ld	bc,_hit_col
2956  0E2D  09          	add	hl,bc
2957  0E2E  AF          	xor	a,a
2958  0E2F  77          	ld	(hl),a
2959  0E30  C9          	ret
2960  0E31              	SECTION code_compiler
2961  0E31              ;	---------------------------------
2962  0E31              ; Function player_hit_pow
2963  0E31              ; ---------------------------------
2964  0E31              _player_hit_pow:
2965  0E31  AF          	xor	a, a
2966  0E32  21 00 00    	ld	hl,_index1
2967  0E35  BE          	cp	a, (hl)
2968  0E36  3E 02       	ld	a,0x02
2969  0E38  23          	inc	hl
2970  0E39  9E          	sbc	a, (hl)
2971  0E3A  30 0F       	jr	NC,l_player_hit_pow_00102
2972  0E3C  3E 40       	ld	a,0x40
2973  0E3E  2B          	dec	hl
2974  0E3F  BE          	cp	a, (hl)
2975  0E40  3E 02       	ld	a,0x02
2976  0E42  23          	inc	hl
2977  0E43  9E          	sbc	a, (hl)
2978  0E44  30 05       	jr	NC,l_player_hit_pow_00102
2979  0E46  2E 00       	ld	l,0x00
2980  0E48  C3 02 0F    	jp	l_player_hit_pow_00115
2981  0E4B              l_player_hit_pow_00102:
2982  0E4B  3A 00 00    	ld	a,(_game_pow)
2983  0E4E  B7          	or	a, a
2984  0E4F  CA 00 0F    	jp	Z, l_player_hit_pow_00110
2985  0E52  2A 00 00    	ld	hl,(_index1)
2986  0E55  01 00 00    	ld	bc,_lvl_1
2987  0E58  09          	add	hl,bc
2988  0E59  7E          	ld	a,(hl)
2989  0E5A  D6 8C       	sub	a,0x8c
2990  0E5C  28 0F       	jr	Z,l_player_hit_pow_00109
2991  0E5E  ED 4B 00 00 	ld	bc,(_index1)
2992  0E62  03          	inc	bc
2993  0E63  21 00 00    	ld	hl,_lvl_1
2994  0E66  09          	add	hl, bc
2995  0E67  7E          	ld	a, (hl)
2996  0E68  D6 8C       	sub	a,0x8c
2997  0E6A  C2 00 0F    	jp	NZ,l_player_hit_pow_00110
2998  0E6D              l_player_hit_pow_00109:
2999  0E6D  21 00 00    	ld	hl,_game_pow
3000  0E70  35          	dec	(hl)
3001  0E71  21 00 00    	ld	hl,_enemies
3002  0E74  36 00       	ld	(hl),0x00
3003  0E76              l_player_hit_pow_00113:
3004  0E76  2A 00 00    	ld	hl,(_enemies)
3005  0E79  26 00       	ld	h,0x00
3006  0E7B  5D          	ld	e,l
3007  0E7C  01 00 00    	ld	bc,_col
3008  0E7F  09          	add	hl,bc
3009  0E80  46          	ld	b,(hl)
3010  0E81  16 00       	ld	d,0x00
3011  0E83  21 00 00    	ld	hl,_lin
3012  0E86  19          	add	hl,de
3013  0E87  7E          	ld	a,(hl)
3014  0E88  C6 10       	add	a,0x10
3015  0E8A  4F          	ld	c,a
3016  0E8B  C5          	push	bc
3017  0E8C  CD 00 00    	call	_game_calc_index
3018  0E8F  F1          	pop	af
3019  0E90  CD 00 00    	call	_game_check_maze
3020  0E93  7D          	ld	a, l
3021  0E94  B7          	or	a, a
3022  0E95  20 03       	jr	NZ,l_player_hit_pow_00105
3023  0E97  CD 00 00    	call	_enemy_hit
3024  0E9A              l_player_hit_pow_00105:
3025  0E9A  2E 07       	ld	l,0x07
3026  0E9C  CD 00 00    	call	_zx_border_fastcall
3027  0E9F  21 05 00    	ld	hl,0x0005
3028  0EA2  CD 00 00    	call	_z80_delay_ms_fastcall
3029  0EA5  2E 01       	ld	l,0x01
3030  0EA7  CD 00 00    	call	_zx_border_fastcall
3031  0EAA  21 05 00    	ld	hl,0x0005
3032  0EAD  CD 00 00    	call	_z80_delay_ms_fastcall
3033  0EB0  21 00 00    	ld	hl,_enemies
3034  0EB3  7E          	ld	a,(hl)
3035  0EB4  3C          	inc	a
3036  0EB5  77          	ld	(hl),a
3037  0EB6  D6 06       	sub	a,0x06
3038  0EB8  38 BC       	jr	C,l_player_hit_pow_00113
3039  0EBA  21 00 00    	ld	hl,_ay_effect_06
3040  0EBD  CD 00 00    	call	_ay_fx_play
3041  0EC0  CD 00 00    	call	_sound_hit_pow
3042  0EC3  CD 00 00    	call	_spr_draw_pow
3043  0EC6  3A 00 00    	ld	a,(_game_pow)
3044  0EC9  B7          	or	a, a
3045  0ECA  20 13       	jr	NZ,l_player_hit_pow_00108
3046  0ECC  21 80 0F    	ld	hl,0x0f80
3047  0ECF  E5          	push	hl
3048  0ED0  AF          	xor	a, a
3049  0ED1  F5          	push	af
3050  0ED2  33          	inc	sp
3051  0ED3  CD 00 00    	call	_NIRVANAP_fillT_callee
3052  0ED6  21 A9 A9    	ld	hl,0xa9a9
3053  0ED9  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3054  0EDC  22 2F 02    	ld	((_lvl_1 + 0x022f)),hl
3055  0EDF              l_player_hit_pow_00108:
3056  0EDF  2E 00       	ld	l,0x00
3057  0EE1  CD 00 00    	call	_zx_border_fastcall
3058  0EE4  2A 00 00    	ld	hl,(_sprite)
3059  0EE7  26 00       	ld	h,0x00
3060  0EE9  01 00 00    	ld	bc,_state_a
3061  0EEC  09          	add	hl,bc
3062  0EED  7E          	ld	a,(hl)
3063  0EEE  F6 80       	or	a,0x80
3064  0EF0  77          	ld	(hl),a
3065  0EF1  2A 00 00    	ld	hl,(_index_player)
3066  0EF4  26 00       	ld	h,0x00
3067  0EF6  01 00 00    	ld	bc,_player_jump_c
3068  0EF9  09          	add	hl,bc
3069  0EFA  36 06       	ld	(hl),0x06
3070  0EFC  2E 01       	ld	l,0x01
3071  0EFE  18 02       	jr	l_player_hit_pow_00115
3072  0F00              l_player_hit_pow_00110:
3073  0F00  2E 00       	ld	l,0x00
3074  0F02              l_player_hit_pow_00115:
3075  0F02  C9          	ret
3076  0F03              	SECTION code_compiler
3077  0F03              ;	---------------------------------
3078  0F03              ; Function player_coin
3079  0F03              ; ---------------------------------
3080  0F03              _player_coin:
3081  0F03  CD 00 00    	call	___sdcc_enter_ix
3082  0F06  3E 00       	ld	a, +((_class) & 0xFF)
3083  0F08  DD 86 04    	add	a,(ix+4)
3084  0F0B  4F          	ld	c, a
3085  0F0C  3E 00       	ld	a, +((_class) / 256)
3086  0F0E  CE 00       	adc	a,0x00
3087  0F10  47          	ld	b, a
3088  0F11  0A          	ld	a, (bc)
3089  0F12  D6 07       	sub	a,0x07
3090  0F14  20 16       	jr	NZ,l_player_coin_00102
3091  0F16  21 00 00    	ld	hl,_ay_effect_12
3092  0F19  CD 00 00    	call	_ay_fx_play
3093  0F1C  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
3094  0F1E  DD 86 04    	add	a,(ix+4)
3095  0F21  4F          	ld	c, a
3096  0F22  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
3097  0F24  CE 00       	adc	a,0x00
3098  0F26  47          	ld	b, a
3099  0F27  3E 03       	ld	a,0x03
3100  0F29  02          	ld	(bc), a
3101  0F2A  18 17       	jr	l_player_coin_00103
3102  0F2C              l_player_coin_00102:
3103  0F2C  21 00 00    	ld	hl,_ay_effect_10
3104  0F2F  CD 00 00    	call	_ay_fx_play
3105  0F32  3E 00       	ld	a, +((_sprite_speed_alt) & 0xFF)
3106  0F34  DD 86 04    	add	a,(ix+4)
3107  0F37  4F          	ld	c, a
3108  0F38  3E 00       	ld	a, +((_sprite_speed_alt) / 256)
3109  0F3A  CE 00       	adc	a,0x00
3110  0F3C  47          	ld	b, a
3111  0F3D  3E 08       	ld	a,0x08
3112  0F3F  02          	ld	(bc), a
3113  0F40  CD 00 00    	call	_sound_coin
3114  0F43              l_player_coin_00103:
3115  0F43  3E 00       	ld	a, +((_state) & 0xFF)
3116  0F45  DD 86 04    	add	a,(ix+4)
3117  0F48  4F          	ld	c, a
3118  0F49  3E 00       	ld	a, +((_state) / 256)
3119  0F4B  CE 00       	adc	a,0x00
3120  0F4D  47          	ld	b, a
3121  0F4E  0A          	ld	a, (bc)
3122  0F4F  E6 FE       	and	a,0xfe
3123  0F51  F6 20       	or	a,0x20
3124  0F53  02          	ld	(bc),a
3125  0F54  01 00 00    	ld	bc,_spr_timer+0
3126  0F57  DD 6E 04    	ld	l,(ix+4)
3127  0F5A  26 00       	ld	h,0x00
3128  0F5C  29          	add	hl, hl
3129  0F5D  09          	add	hl,bc
3130  0F5E  ED 5B 00 00 	ld	de,(_curr_time)
3131  0F62  73          	ld	(hl),e
3132  0F63  23          	inc	hl
3133  0F64  72          	ld	(hl),d
3134  0F65  3A 00 00    	ld	a,(_game_bonus)
3135  0F68  B7          	or	a, a
3136  0F69  28 1B       	jr	Z,l_player_coin_00107
3137  0F6B  2A 00 00    	ld	hl,(_index_player)
3138  0F6E  26 00       	ld	h,0x00
3139  0F70  01 00 00    	ld	bc,_phase_bonus_total
3140  0F73  09          	add	hl,bc
3141  0F74  7E          	ld	a,(hl)
3142  0F75  3C          	inc	a
3143  0F76  77          	ld	(hl),a
3144  0F77  4D          	ld	c,l
3145  0F78  44          	ld	b,h
3146  0F79  21 00 00    	ld	hl,_phase_left
3147  0F7C  35          	dec (hl)
3148  0F7D  20 0F       	jr	NZ,l_player_coin_00109
3149  0F7F  21 00 00    	ld	hl,_phase_end
3150  0F82  36 01       	ld	(hl),0x01
3151  0F84  18 08       	jr	l_player_coin_00109
3152  0F86              l_player_coin_00107:
3153  0F86  DD 6E 05    	ld	l,(ix+5)
3154  0F89  26 00       	ld	h,0x00
3155  0F8B  CD 91 0F    	call	_player_score_add
3156  0F8E              l_player_coin_00109:
3157  0F8E  DD E1       	pop	ix
3158  0F90  C9          	ret
3159  0F91              	SECTION code_compiler
3160  0F91              ;	---------------------------------
3161  0F91              ; Function player_score_add
3162  0F91              ; ---------------------------------
3163  0F91              _player_score_add:
3164  0F91  4D          	ld	c, l
3165  0F92  44          	ld	b, h
3166  0F93  2A 00 00    	ld	hl,(_index_player)
3167  0F96  26 00       	ld	h,0x00
3168  0F98  29          	add	hl, hl
3169  0F99  11 00 00    	ld	de,_player_score
3170  0F9C  19          	add	hl, de
3171  0F9D  5E          	ld	e,(hl)
3172  0F9E  23          	inc	hl
3173  0F9F  56          	ld	d,(hl)
3174  0FA0  2B          	dec	hl
3175  0FA1  7B          	ld	a, e
3176  0FA2  81          	add	a, c
3177  0FA3  4F          	ld	c, a
3178  0FA4  7A          	ld	a, d
3179  0FA5  88          	adc	a, b
3180  0FA6  47          	ld	b, a
3181  0FA7  71          	ld	(hl), c
3182  0FA8  23          	inc	hl
3183  0FA9  70          	ld	(hl), b
3184  0FAA  2A 00 00    	ld	hl,(_index_player)
3185  0FAD  26 00       	ld	h,0x00
3186  0FAF  29          	add	hl,hl
3187  0FB0  4D          	ld	c,l
3188  0FB1  44          	ld	b,h
3189  0FB2  21 00 00    	ld	hl,_player_score
3190  0FB5  09          	add	hl, bc
3191  0FB6  5E          	ld	e, (hl)
3192  0FB7  23          	inc	hl
3193  0FB8  56          	ld	d, (hl)
3194  0FB9  21 00 00    	ld	hl,_game_score_top
3195  0FBC  7E          	ld	a, (hl)
3196  0FBD  93          	sub	a, e
3197  0FBE  23          	inc	hl
3198  0FBF  7E          	ld	a, (hl)
3199  0FC0  9A          	sbc	a, d
3200  0FC1  30 04       	jr	NC,l_player_score_add_00102
3201  0FC3  2B          	dec	hl
3202  0FC4  73          	ld	(hl), e
3203  0FC5  23          	inc	hl
3204  0FC6  72          	ld	(hl), d
3205  0FC7              l_player_score_add_00102:
3206  0FC7  21 00 00    	ld	hl,_player_next_extra
3207  0FCA  09          	add	hl, bc
3208  0FCB  4E          	ld	c,(hl)
3209  0FCC  23          	inc	hl
3210  0FCD  46          	ld	b,(hl)
3211  0FCE  2B          	dec	hl
3212  0FCF  79          	ld	a, c
3213  0FD0  93          	sub	a, e
3214  0FD1  78          	ld	a, b
3215  0FD2  9A          	sbc	a, d
3216  0FD3  30 76       	jr	NC,l_player_score_add_00113
3217  0FD5  79          	ld	a,c
3218  0FD6  C6 D0       	add	a,0xd0
3219  0FD8  77          	ld	(hl),a
3220  0FD9  78          	ld	a,b
3221  0FDA  CE 07       	adc	a,0x07
3222  0FDC  23          	inc	hl
3223  0FDD  77          	ld	(hl),a
3224  0FDE  2A 00 00    	ld	hl,(_index_player)
3225  0FE1  26 00       	ld	h,0x00
3226  0FE3  01 00 00    	ld	bc,_game_lives
3227  0FE6  09          	add	hl,bc
3228  0FE7  34          	inc	(hl)
3229  0FE8  21 00 00    	ld	hl,_hit_count
3230  0FEB  36 10       	ld	(hl),0x10
3231  0FED  3A 00 00    	ld	a,(_game_bonus)
3232  0FF0  B7          	or	a, a
3233  0FF1  20 03       	jr	NZ,l_player_score_add_00104
3234  0FF3  CD 00 00    	call	_game_print_lives
3235  0FF6              l_player_score_add_00104:
3236  0FF6  21 00 00    	ld	hl,_tmp0
3237  0FF9  36 00       	ld	(hl),0x00
3238  0FFB              l_player_score_add_00114:
3239  0FFB  3A 00 00    	ld	a,(_index_player)
3240  0FFE  B7          	or	a, a
3241  0FFF  20 07       	jr	NZ,l_player_score_add_00106
3242  1001  2E 01       	ld	l,0x01
3243  1003  CD 00 00    	call	_zx_border_fastcall
3244  1006  18 05       	jr	l_player_score_add_00107
3245  1008              l_player_score_add_00106:
3246  1008  2E 07       	ld	l,0x07
3247  100A  CD 00 00    	call	_zx_border_fastcall
3248  100D              l_player_score_add_00107:
3249  100D  21 05 00    	ld	hl,0x0005
3250  1010  CD 00 00    	call	_z80_delay_ms_fastcall
3251  1013  3A 00 00    	ld	a,(_index_player)
3252  1016  B7          	or	a, a
3253  1017  20 07       	jr	NZ,l_player_score_add_00109
3254  1019  2E 02       	ld	l,0x02
3255  101B  CD 00 00    	call	_zx_border_fastcall
3256  101E  18 05       	jr	l_player_score_add_00110
3257  1020              l_player_score_add_00109:
3258  1020  2E 04       	ld	l,0x04
3259  1022  CD 00 00    	call	_zx_border_fastcall
3260  1025              l_player_score_add_00110:
3261  1025  21 05 00    	ld	hl,0x0005
3262  1028  CD 00 00    	call	_z80_delay_ms_fastcall
3263  102B  21 00 00    	ld	hl,_tmp0
3264  102E  7E          	ld	a,(hl)
3265  102F  3C          	inc	a
3266  1030  77          	ld	(hl),a
3267  1031  D6 06       	sub	a,0x06
3268  1033  38 C6       	jr	C,l_player_score_add_00114
3269  1035  CD 00 00    	call	_sound_coin
3270  1038  CD 00 00    	call	_sound_coin
3271  103B  CD 00 00    	call	_sound_coin
3272  103E  CD 00 00    	call	_sound_coin
3273  1041  2E 00       	ld	l,0x00
3274  1043  CD 00 00    	call	_zx_border_fastcall
3275  1046  21 00 00    	ld	hl,_hit_count
3276  1049  36 08       	ld	(hl),0x08
3277  104B              l_player_score_add_00113:
3278  104B  C3 00 00    	jp  _game_print_score
3279  104E              	SECTION code_compiler
3280  104E              ;	---------------------------------
3281  104E              ; Function player_set
3282  104E              ; ---------------------------------
3283  104E              _player_set:
3284  104E  CD 00 00    	call	___sdcc_enter_ix
3285  1051  DD 7E 04    	ld	a,(ix+4)
3286  1054  32 00 00    	ld	(_sprite),a
3287  1057  DD 7E 05    	ld	a,(ix+5)
3288  105A  32 00 00    	ld	(_sprite_other_player),a
3289  105D  DD 7E 06    	ld	a,(ix+6)
3290  1060  32 00 00    	ld	(_index_player),a
3291  1063  DD 7E 07    	ld	a,(ix+7)
3292  1066  32 00 00    	ld	(_tile_offset),a
3293  1069  DD 7E 08    	ld	a,(ix+8)
3294  106C  32 00 00    	ld	(_tile_offset_other_player),a
3295  106F  DD E1       	pop	ix
3296  1071  C9          	ret
3297  1072              	SECTION IGNORE
3298  0000              
