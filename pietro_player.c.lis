1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.2 #9712 (MSVC)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_z80_pop_ei
174   0000              	EXTERN ____sdcc_z80_pop_ei_jp
175   0000              	EXTERN ____sdcc_z80_push_di
176   0000              
177   0000              ;--------------------------------------------------------
178   0000              ; Public variables in this module
179   0000              ;--------------------------------------------------------
180   0000              	GLOBAL _player_init
181   0000              	GLOBAL _player_collition
182   0000              	GLOBAL _player_collition_check
183   0000              	GLOBAL _player_kill
184   0000              	GLOBAL _player_restart
185   0000              	GLOBAL _player_lost_life
186   0000              	GLOBAL _player_turn
187   0000              	GLOBAL _player_move
188   0000              	GLOBAL _player_move_input
189   0000              	GLOBAL _player_move_horizontal
190   0000              	GLOBAL _player_push_check
191   0000              	GLOBAL _player_push
192   0000              	GLOBAL _player_hit_slipice
193   0000              	GLOBAL _player_hit_brick
194   0000              	GLOBAL _player_hit_brick_clear
195   0000              	GLOBAL _player_hit_pow
196   0000              	GLOBAL _player_coin
197   0000              	GLOBAL _player_score_add
198   0000              	GLOBAL _player_set1
199   0000              	GLOBAL _player_set2
200   0000              ;--------------------------------------------------------
201   0000              ; Externals used
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _debug3
204   0000              	GLOBAL _debug2
205   0000              	GLOBAL _debug
206   0000              	GLOBAL _zx_print_str
207   0000              	GLOBAL _zx_print_int
208   0000              	GLOBAL _zx_print_chr
209   0000              	GLOBAL _zx_print_bonus_time
210   0000              	GLOBAL _zx_isr
211   0000              	GLOBAL _z80_otdr_callee
212   0000              	GLOBAL _z80_otdr
213   0000              	GLOBAL _z80_otir_callee
214   0000              	GLOBAL _z80_otir
215   0000              	GLOBAL _z80_outp_callee
216   0000              	GLOBAL _z80_outp
217   0000              	GLOBAL _z80_indr_callee
218   0000              	GLOBAL _z80_indr
219   0000              	GLOBAL _z80_inir_callee
220   0000              	GLOBAL _z80_inir
221   0000              	GLOBAL _z80_inp_fastcall
222   0000              	GLOBAL _z80_inp
223   0000              	GLOBAL _z80_set_int_state_fastcall
224   0000              	GLOBAL _z80_set_int_state
225   0000              	GLOBAL _z80_get_int_state
226   0000              	GLOBAL _z80_delay_tstate_fastcall
227   0000              	GLOBAL _z80_delay_tstate
228   0000              	GLOBAL _z80_delay_ms_fastcall
229   0000              	GLOBAL _z80_delay_ms
230   0000              	GLOBAL _im2_remove_generic_callback_callee
231   0000              	GLOBAL _im2_remove_generic_callback
232   0000              	GLOBAL _im2_prepend_generic_callback_callee
233   0000              	GLOBAL _im2_prepend_generic_callback
234   0000              	GLOBAL _im2_append_generic_callback_callee
235   0000              	GLOBAL _im2_append_generic_callback
236   0000              	GLOBAL _im2_create_generic_isr_8080_callee
237   0000              	GLOBAL _im2_create_generic_isr_8080
238   0000              	GLOBAL _im2_create_generic_isr_callee
239   0000              	GLOBAL _im2_create_generic_isr
240   0000              	GLOBAL _im2_install_isr_callee
241   0000              	GLOBAL _im2_install_isr
242   0000              	GLOBAL _im2_init_fastcall
243   0000              	GLOBAL _im2_init
244   0000              	GLOBAL _sound_hit_pow
245   0000              	GLOBAL _sound_hit_brick
246   0000              	GLOBAL _sound_hit_enemy
247   0000              	GLOBAL _sound_kill
248   0000              	GLOBAL _sound_enter_enemy
249   0000              	GLOBAL _sound_coin
250   0000              	GLOBAL _sound_jump
251   0000              	GLOBAL _sound_slide
252   0000              	GLOBAL _spr_draw_clear
253   0000              	GLOBAL _spr_water_splash_draw
254   0000              	GLOBAL _spr_water_splash_clear
255   0000              	GLOBAL _spr_draw_back
256   0000              	GLOBAL _spr_cortina_pipes
257   0000              	GLOBAL _spr_cortina_brick
258   0000              	GLOBAL _spr_brick_anim
259   0000              	GLOBAL _spr_back_fix4
260   0000              	GLOBAL _spr_back_fix3
261   0000              	GLOBAL _spr_back_fix2
262   0000              	GLOBAL _spr_back_fix1
263   0000              	GLOBAL _spr_back_fix
264   0000              	GLOBAL _spr_back_clr
265   0000              	GLOBAL _spr_draw_pow
266   0000              	GLOBAL _spr_tile
267   0000              	GLOBAL _spr_set_fall
268   0000              	GLOBAL _spr_destroy
269   0000              	GLOBAL _spr_check_over
270   0000              	GLOBAL _spr_tile_dir
271   0000              	GLOBAL _spr_collition_check
272   0000              	GLOBAL _spr_anim_kill
273   0000              	GLOBAL _spr_anim_fall
274   0000              	GLOBAL _spr_killed
275   0000              	GLOBAL _spr_redraw
276   0000              	GLOBAL _spr_move_left
277   0000              	GLOBAL _spr_move_right
278   0000              	GLOBAL _spr_move_horizontal
279   0000              	GLOBAL _spr_move_down
280   0000              	GLOBAL _spr_move_up
281   0000              	GLOBAL _spr_chktime
282   0000              	GLOBAL _game_hall_print_p
283   0000              	GLOBAL _game_hall_edit_p
284   0000              	GLOBAL _game_hall_check
285   0000              	GLOBAL _game_hall_enter_phs
286   0000              	GLOBAL _game_print_header
287   0000              	GLOBAL _game_end
288   0000              	GLOBAL _game_hall_enter
289   0000              	GLOBAL _game_hall_of_fame
290   0000              	GLOBAL _game_score_osd
291   0000              	GLOBAL _game_phase_print_score_back
292   0000              	GLOBAL _game_bonus_clock
293   0000              	GLOBAL _game_bonus_summary_player
294   0000              	GLOBAL _game_bonus_summary
295   0000              	GLOBAL _game_check_time
296   0000              	GLOBAL _game_menu_config
297   0000              	GLOBAL _game_menu
298   0000              	GLOBAL _game_rotate_attrib
299   0000              	GLOBAL _game_colour_message
300   0000              	GLOBAL _game_paint_attrib_lin_h
301   0000              	GLOBAL _game_paint_attrib_lin
302   0000              	GLOBAL _game_paint_attrib
303   0000              	GLOBAL _game_menu_handle
304   0000              	GLOBAL _game_menu_e
305   0000              	GLOBAL _game_menu_back
306   0000              	GLOBAL _game_print_score
307   0000              	GLOBAL _game_unfreeze_all
308   0000              	GLOBAL _game_freeze_all
309   0000              	GLOBAL _game_freeze
310   0000              	GLOBAL _game_enemy_add_get_index
311   0000              	GLOBAL _game_enemy_add1
312   0000              	GLOBAL _game_enemy_quota
313   0000              	GLOBAL _game_enemy_rnd
314   0000              	GLOBAL _game_enemy_add
315   0000              	GLOBAL _game_check_maze
316   0000              	GLOBAL _game_kill_all_sprites
317   0000              	GLOBAL _game_loop
318   0000              	GLOBAL _game_phase_print
319   0000              	GLOBAL _game_phase_init
320   0000              	GLOBAL _game_phase_calc
321   0000              	GLOBAL _game_start_timer
322   0000              	GLOBAL _game_tick
323   0000              	GLOBAL _game_print_lives
324   0000              	GLOBAL _game_print_footer
325   0000              	GLOBAL _game_calc_index
326   0000              	GLOBAL _game_fill_row
327   0000              	GLOBAL _enemy_kill
328   0000              	GLOBAL _enemy_init
329   0000              	GLOBAL _enemy_walk
330   0000              	GLOBAL _enemy_upgrade
331   0000              	GLOBAL _enemy_evolve
332   0000              	GLOBAL _enemy_standard_hit
333   0000              	GLOBAL _enemy_trip
334   0000              	GLOBAL _enemy_fighterfly
335   0000              	GLOBAL _enemy_fireball_green
336   0000              	GLOBAL _enemy_fireball_red
337   0000              	GLOBAL _enemy_slipice
338   0000              	GLOBAL _enemy_standard
339   0000              	GLOBAL _enemy_turn
340   0000              	GLOBAL _enemy_flip_sidestepper
341   0000              	GLOBAL _enemy_flip
342   0000              	GLOBAL _enemy_flip_change_dir
343   0000              	GLOBAL _enemy_hit
344   0000              	GLOBAL _enemy_collition_check
345   0000              	GLOBAL _enemy_collition
346   0000              	GLOBAL _enemy_coin1
347   0000              	GLOBAL _ay_fx_play
348   0000              	GLOBAL _ay_midi_play
349   0000              	GLOBAL _ay_is_playing
350   0000              	GLOBAL _ay_reset
351   0000              	GLOBAL _NIRVANAP_chars_fastcall
352   0000              	GLOBAL _NIRVANAP_chars
353   0000              	GLOBAL _NIRVANAP_wides_fastcall
354   0000              	GLOBAL _NIRVANAP_wides
355   0000              	GLOBAL _NIRVANAP_tiles_fastcall
356   0000              	GLOBAL _NIRVANAP_tiles
357   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
358   0000              	GLOBAL _NIRVANAP_drawW_raw
359   0000              	GLOBAL _NIRVANAP_drawW_callee
360   0000              	GLOBAL _NIRVANAP_drawW
361   0000              	GLOBAL _NIRVANAP_spriteT_callee
362   0000              	GLOBAL _NIRVANAP_spriteT
363   0000              	GLOBAL _NIRVANAP_fillC_callee
364   0000              	GLOBAL _NIRVANAP_fillC
365   0000              	GLOBAL _NIRVANAP_paintC_callee
366   0000              	GLOBAL _NIRVANAP_paintC
367   0000              	GLOBAL _NIRVANAP_printC_callee
368   0000              	GLOBAL _NIRVANAP_printC
369   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
370   0000              	GLOBAL _NIRVANAP_fillT_raw
371   0000              	GLOBAL _NIRVANAP_fillT_callee
372   0000              	GLOBAL _NIRVANAP_fillT
373   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
374   0000              	GLOBAL _NIRVANAP_drawT_raw
375   0000              	GLOBAL _NIRVANAP_drawT_callee
376   0000              	GLOBAL _NIRVANAP_drawT
377   0000              	GLOBAL _NIRVANAP_stop
378   0000              	GLOBAL _NIRVANAP_start
379   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
380   0000              	GLOBAL _intrinsic_swap_word_32
381   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
382   0000              	GLOBAL _intrinsic_swap_endian_32
383   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
384   0000              	GLOBAL _intrinsic_swap_endian_16
385   0000              	GLOBAL _intrinsic_return_de
386   0000              	GLOBAL _intrinsic_return_bc
387   0000              	GLOBAL _intrinsic_exx
388   0000              	GLOBAL _intrinsic_ex_de_hl
389   0000              	GLOBAL _intrinsic_pop_iy
390   0000              	GLOBAL _intrinsic_pop_ix
391   0000              	GLOBAL _intrinsic_pop_hl
392   0000              	GLOBAL _intrinsic_pop_de
393   0000              	GLOBAL _intrinsic_pop_bc
394   0000              	GLOBAL _intrinsic_pop_af
395   0000              	GLOBAL _intrinsic_push_iy
396   0000              	GLOBAL _intrinsic_push_ix
397   0000              	GLOBAL _intrinsic_push_hl
398   0000              	GLOBAL _intrinsic_push_de
399   0000              	GLOBAL _intrinsic_push_bc
400   0000              	GLOBAL _intrinsic_push_af
401   0000              	GLOBAL _intrinsic_nop
402   0000              	GLOBAL _intrinsic_im_2
403   0000              	GLOBAL _intrinsic_im_1
404   0000              	GLOBAL _intrinsic_im_0
405   0000              	GLOBAL _intrinsic_retn
406   0000              	GLOBAL _intrinsic_reti
407   0000              	GLOBAL _intrinsic_halt
408   0000              	GLOBAL _intrinsic_ei
409   0000              	GLOBAL _intrinsic_di
410   0000              	GLOBAL _intrinsic_stub
411   0000              	GLOBAL _ulltoa_callee
412   0000              	GLOBAL _ulltoa
413   0000              	GLOBAL _strtoull_callee
414   0000              	GLOBAL _strtoull
415   0000              	GLOBAL _strtoll_callee
416   0000              	GLOBAL _strtoll
417   0000              	GLOBAL _lltoa_callee
418   0000              	GLOBAL _lltoa
419   0000              	GLOBAL _llabs_callee
420   0000              	GLOBAL _llabs
421   0000              	GLOBAL __lldivu__callee
422   0000              	GLOBAL __lldivu_
423   0000              	GLOBAL __lldiv__callee
424   0000              	GLOBAL __lldiv_
425   0000              	GLOBAL _atoll_callee
426   0000              	GLOBAL _atoll
427   0000              	GLOBAL _realloc_unlocked_callee
428   0000              	GLOBAL _realloc_unlocked
429   0000              	GLOBAL _malloc_unlocked_fastcall
430   0000              	GLOBAL _malloc_unlocked
431   0000              	GLOBAL _free_unlocked_fastcall
432   0000              	GLOBAL _free_unlocked
433   0000              	GLOBAL _calloc_unlocked_callee
434   0000              	GLOBAL _calloc_unlocked
435   0000              	GLOBAL _aligned_alloc_unlocked_callee
436   0000              	GLOBAL _aligned_alloc_unlocked
437   0000              	GLOBAL _realloc_callee
438   0000              	GLOBAL _realloc
439   0000              	GLOBAL _malloc_fastcall
440   0000              	GLOBAL _malloc
441   0000              	GLOBAL _free_fastcall
442   0000              	GLOBAL _free
443   0000              	GLOBAL _calloc_callee
444   0000              	GLOBAL _calloc
445   0000              	GLOBAL _aligned_alloc_callee
446   0000              	GLOBAL _aligned_alloc
447   0000              	GLOBAL _utoa_callee
448   0000              	GLOBAL _utoa
449   0000              	GLOBAL _ultoa_callee
450   0000              	GLOBAL _ultoa
451   0000              	GLOBAL _system_fastcall
452   0000              	GLOBAL _system
453   0000              	GLOBAL _strtoul_callee
454   0000              	GLOBAL _strtoul
455   0000              	GLOBAL _strtol_callee
456   0000              	GLOBAL _strtol
457   0000              	GLOBAL _strtof_callee
458   0000              	GLOBAL _strtof
459   0000              	GLOBAL _strtod_callee
460   0000              	GLOBAL _strtod
461   0000              	GLOBAL _srand_fastcall
462   0000              	GLOBAL _srand
463   0000              	GLOBAL _rand
464   0000              	GLOBAL _quick_exit_fastcall
465   0000              	GLOBAL _quick_exit
466   0000              	GLOBAL _qsort_callee
467   0000              	GLOBAL _qsort
468   0000              	GLOBAL _ltoa_callee
469   0000              	GLOBAL _ltoa
470   0000              	GLOBAL _labs_fastcall
471   0000              	GLOBAL _labs
472   0000              	GLOBAL _itoa_callee
473   0000              	GLOBAL _itoa
474   0000              	GLOBAL _ftoh_callee
475   0000              	GLOBAL _ftoh
476   0000              	GLOBAL _ftog_callee
477   0000              	GLOBAL _ftog
478   0000              	GLOBAL _ftoe_callee
479   0000              	GLOBAL _ftoe
480   0000              	GLOBAL _ftoa_callee
481   0000              	GLOBAL _ftoa
482   0000              	GLOBAL _exit_fastcall
483   0000              	GLOBAL _exit
484   0000              	GLOBAL _dtoh_callee
485   0000              	GLOBAL _dtoh
486   0000              	GLOBAL _dtog_callee
487   0000              	GLOBAL _dtog
488   0000              	GLOBAL _dtoe_callee
489   0000              	GLOBAL _dtoe
490   0000              	GLOBAL _dtoa_callee
491   0000              	GLOBAL _dtoa
492   0000              	GLOBAL _bsearch_callee
493   0000              	GLOBAL _bsearch
494   0000              	GLOBAL _atol_fastcall
495   0000              	GLOBAL _atol
496   0000              	GLOBAL _atoi_fastcall
497   0000              	GLOBAL _atoi
498   0000              	GLOBAL _atof_fastcall
499   0000              	GLOBAL _atof
500   0000              	GLOBAL _atexit_fastcall
501   0000              	GLOBAL _atexit
502   0000              	GLOBAL _at_quick_exit_fastcall
503   0000              	GLOBAL _at_quick_exit
504   0000              	GLOBAL _abs_fastcall
505   0000              	GLOBAL _abs
506   0000              	GLOBAL _abort
507   0000              	GLOBAL __strtou__callee
508   0000              	GLOBAL __strtou_
509   0000              	GLOBAL __strtoi__callee
510   0000              	GLOBAL __strtoi_
511   0000              	GLOBAL __random_uniform_xor_8__fastcall
512   0000              	GLOBAL __random_uniform_xor_8_
513   0000              	GLOBAL __random_uniform_xor_32__fastcall
514   0000              	GLOBAL __random_uniform_xor_32_
515   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
516   0000              	GLOBAL __random_uniform_cmwc_8_
517   0000              	GLOBAL __shellsort__callee
518   0000              	GLOBAL __shellsort_
519   0000              	GLOBAL __quicksort__callee
520   0000              	GLOBAL __quicksort_
521   0000              	GLOBAL __insertion_sort__callee
522   0000              	GLOBAL __insertion_sort_
523   0000              	GLOBAL __ldivu__callee
524   0000              	GLOBAL __ldivu_
525   0000              	GLOBAL __ldiv__callee
526   0000              	GLOBAL __ldiv_
527   0000              	GLOBAL __divu__callee
528   0000              	GLOBAL __divu_
529   0000              	GLOBAL __div__callee
530   0000              	GLOBAL __div_
531   0000              	GLOBAL _in_mouse_kempston_wheel_delta
532   0000              	GLOBAL _in_mouse_kempston_wheel
533   0000              	GLOBAL _in_mouse_kempston_callee
534   0000              	GLOBAL _in_mouse_kempston
535   0000              	GLOBAL _in_mouse_kempston_setpos_callee
536   0000              	GLOBAL _in_mouse_kempston_setpos
537   0000              	GLOBAL _in_mouse_kempston_reset
538   0000              	GLOBAL _in_mouse_kempston_init
539   0000              	GLOBAL _in_mouse_amx_wheel_delta
540   0000              	GLOBAL _in_mouse_amx_wheel
541   0000              	GLOBAL _in_mouse_amx_callee
542   0000              	GLOBAL _in_mouse_amx
543   0000              	GLOBAL _in_mouse_amx_setpos_callee
544   0000              	GLOBAL _in_mouse_amx_setpos
545   0000              	GLOBAL _in_mouse_amx_reset
546   0000              	GLOBAL _in_mouse_amx_init_callee
547   0000              	GLOBAL _in_mouse_amx_init
548   0000              	GLOBAL _in_stick_sinclair2
549   0000              	GLOBAL _in_stick_sinclair1
550   0000              	GLOBAL _in_stick_kempston
551   0000              	GLOBAL _in_stick_fuller
552   0000              	GLOBAL _in_stick_cursor
553   0000              	GLOBAL _in_stick_keyboard_fastcall
554   0000              	GLOBAL _in_stick_keyboard
555   0000              	GLOBAL _in_wait_nokey
556   0000              	GLOBAL _in_wait_key
557   0000              	GLOBAL _in_test_key
558   0000              	GLOBAL _in_pause_fastcall
559   0000              	GLOBAL _in_pause
560   0000              	GLOBAL _in_key_scancode_fastcall
561   0000              	GLOBAL _in_key_scancode
562   0000              	GLOBAL _in_key_pressed_fastcall
563   0000              	GLOBAL _in_key_pressed
564   0000              	GLOBAL _in_inkey
565   0000              	GLOBAL _zx_pattern_fill_callee
566   0000              	GLOBAL _zx_pattern_fill
567   0000              	GLOBAL _zx_saddrpup_fastcall
568   0000              	GLOBAL _zx_saddrpup
569   0000              	GLOBAL _zx_saddrpright_callee
570   0000              	GLOBAL _zx_saddrpright
571   0000              	GLOBAL _zx_saddrpleft_callee
572   0000              	GLOBAL _zx_saddrpleft
573   0000              	GLOBAL _zx_saddrpdown_fastcall
574   0000              	GLOBAL _zx_saddrpdown
575   0000              	GLOBAL _zx_saddrcup_fastcall
576   0000              	GLOBAL _zx_saddrcup
577   0000              	GLOBAL _zx_saddrcright_fastcall
578   0000              	GLOBAL _zx_saddrcright
579   0000              	GLOBAL _zx_saddrcleft_fastcall
580   0000              	GLOBAL _zx_saddrcleft
581   0000              	GLOBAL _zx_saddrcdown_fastcall
582   0000              	GLOBAL _zx_saddrcdown
583   0000              	GLOBAL _zx_saddr2py_fastcall
584   0000              	GLOBAL _zx_saddr2py
585   0000              	GLOBAL _zx_saddr2px_fastcall
586   0000              	GLOBAL _zx_saddr2px
587   0000              	GLOBAL _zx_saddr2cy_fastcall
588   0000              	GLOBAL _zx_saddr2cy
589   0000              	GLOBAL _zx_saddr2cx_fastcall
590   0000              	GLOBAL _zx_saddr2cx
591   0000              	GLOBAL _zx_saddr2aaddr_fastcall
592   0000              	GLOBAL _zx_saddr2aaddr
593   0000              	GLOBAL _zx_py2saddr_fastcall
594   0000              	GLOBAL _zx_py2saddr
595   0000              	GLOBAL _zx_py2aaddr_fastcall
596   0000              	GLOBAL _zx_py2aaddr
597   0000              	GLOBAL _zx_pxy2saddr_callee
598   0000              	GLOBAL _zx_pxy2saddr
599   0000              	GLOBAL _zx_pxy2aaddr_callee
600   0000              	GLOBAL _zx_pxy2aaddr
601   0000              	GLOBAL _zx_px2bitmask_fastcall
602   0000              	GLOBAL _zx_px2bitmask
603   0000              	GLOBAL _zx_cyx2saddr_callee
604   0000              	GLOBAL _zx_cyx2saddr
605   0000              	GLOBAL _zx_cyx2aaddr_callee
606   0000              	GLOBAL _zx_cyx2aaddr
607   0000              	GLOBAL _zx_cy2saddr_fastcall
608   0000              	GLOBAL _zx_cy2saddr
609   0000              	GLOBAL _zx_cy2aaddr_fastcall
610   0000              	GLOBAL _zx_cy2aaddr
611   0000              	GLOBAL _zx_bitmask2px_fastcall
612   0000              	GLOBAL _zx_bitmask2px
613   0000              	GLOBAL _zx_aaddrcup_fastcall
614   0000              	GLOBAL _zx_aaddrcup
615   0000              	GLOBAL _zx_aaddrcright_fastcall
616   0000              	GLOBAL _zx_aaddrcright
617   0000              	GLOBAL _zx_aaddrcleft_fastcall
618   0000              	GLOBAL _zx_aaddrcleft
619   0000              	GLOBAL _zx_aaddrcdown_fastcall
620   0000              	GLOBAL _zx_aaddrcdown
621   0000              	GLOBAL _zx_aaddr2saddr_fastcall
622   0000              	GLOBAL _zx_aaddr2saddr
623   0000              	GLOBAL _zx_aaddr2py_fastcall
624   0000              	GLOBAL _zx_aaddr2py
625   0000              	GLOBAL _zx_aaddr2px_fastcall
626   0000              	GLOBAL _zx_aaddr2px
627   0000              	GLOBAL _zx_aaddr2cy_fastcall
628   0000              	GLOBAL _zx_aaddr2cy
629   0000              	GLOBAL _zx_aaddr2cx_fastcall
630   0000              	GLOBAL _zx_aaddr2cx
631   0000              	GLOBAL _zx_scroll_wc_up_callee
632   0000              	GLOBAL _zx_scroll_wc_up
633   0000              	GLOBAL _zx_scroll_up_callee
634   0000              	GLOBAL _zx_scroll_up
635   0000              	GLOBAL _zx_cls_wc_callee
636   0000              	GLOBAL _zx_cls_wc
637   0000              	GLOBAL _zx_cls_fastcall
638   0000              	GLOBAL _zx_cls
639   0000              	GLOBAL _zx_border_fastcall
640   0000              	GLOBAL _zx_border
641   0000              	GLOBAL _ay_effect_20
642   0000              	GLOBAL _ay_effect_19
643   0000              	GLOBAL _ay_effect_18
644   0000              	GLOBAL _ay_effect_17
645   0000              	GLOBAL _ay_effect_16
646   0000              	GLOBAL _ay_effect_15
647   0000              	GLOBAL _ay_effect_14
648   0000              	GLOBAL _ay_effect_13
649   0000              	GLOBAL _ay_effect_12
650   0000              	GLOBAL _ay_effect_11
651   0000              	GLOBAL _ay_effect_10
652   0000              	GLOBAL _ay_effect_09
653   0000              	GLOBAL _ay_effect_08
654   0000              	GLOBAL _ay_effect_07
655   0000              	GLOBAL _ay_effect_06
656   0000              	GLOBAL _ay_effect_05
657   0000              	GLOBAL _ay_effect_04
658   0000              	GLOBAL _ay_effect_03
659   0000              	GLOBAL _ay_effect_02
660   0000              	GLOBAL _ay_effect_01
661   0000              	GLOBAL _pb_midi_phase_1
662   0000              	GLOBAL _pb_midi_title
663   0000              	GLOBAL _initials
664   0000              	GLOBAL _hof
665   0000              	GLOBAL _score_osd_tile
666   0000              	GLOBAL _score_osd_time
667   0000              	GLOBAL _score_osd_col
668   0000              	GLOBAL _score_osd_lin
669   0000              	GLOBAL _phase_bonus_total
670   0000              	GLOBAL _phase_angry
671   0000              	GLOBAL _phase_curr
672   0000              	GLOBAL _phase_end
673   0000              	GLOBAL _phase_coins
674   0000              	GLOBAL _phase_pop
675   0000              	GLOBAL _phase_tot
676   0000              	GLOBAL _phase_left
677   0000              	GLOBAL _phase_quota
678   0000              	GLOBAL _phases
679   0000              	GLOBAL _spr_idx
680   0000              	GLOBAL _lvl_1
681   0000              	GLOBAL _sprite_speed_alt
682   0000              	GLOBAL _sprite_speed
683   0000              	GLOBAL _screen_ink
684   0000              	GLOBAL _screen_paper
685   0000              	GLOBAL _game_menu_sel
686   0000              	GLOBAL _game_type
687   0000              	GLOBAL _game_bonus
688   0000              	GLOBAL _spr_water_time
689   0000              	GLOBAL _spr_water_clear
690   0000              	GLOBAL _game_time_fireball_start
691   0000              	GLOBAL _game_time_flipped
692   0000              	GLOBAL _game_score_top
693   0000              	GLOBAL _game_lives_update
694   0000              	GLOBAL _game_lives
695   0000              	GLOBAL _game_over
696   0000              	GLOBAL _game_sound
697   0000              	GLOBAL _game_two_player
698   0000              	GLOBAL _game_brick_tile
699   0000              	GLOBAL _game_pow
700   0000              	GLOBAL _spr_count
701   0000              	GLOBAL _frame_loop_count
702   0000              	GLOBAL _col_time
703   0000              	GLOBAL _frame_time
704   0000              	GLOBAL _entry_time
705   0000              	GLOBAL _curr_time
706   0000              	GLOBAL _s_state
707   0000              	GLOBAL _attrib_hl
708   0000              	GLOBAL _attrib
709   0000              	GLOBAL _zx_val_asm
710   0000              	GLOBAL _enemies
711   0000              	GLOBAL _tmp_ui
712   0000              	GLOBAL _tmp_sc
713   0000              	GLOBAL _tmp_uc
714   0000              	GLOBAL _tmp1
715   0000              	GLOBAL _tmp0
716   0000              	GLOBAL _tmp
717   0000              	GLOBAL _index_d
718   0000              	GLOBAL _index3
719   0000              	GLOBAL _index2
720   0000              	GLOBAL _index1
721   0000              	GLOBAL _loop_count
722   0000              	GLOBAL _s_col1
723   0000              	GLOBAL _s_col0
724   0000              	GLOBAL _s_lin1
725   0000              	GLOBAL _s_lin0
726   0000              	GLOBAL _s_tile1
727   0000              	GLOBAL _s_tile0
728   0000              	GLOBAL _hit_count
729   0000              	GLOBAL _tile_offset_other_player
730   0000              	GLOBAL _tile_offset
731   0000              	GLOBAL _index_player
732   0000              	GLOBAL _sprite_other_player
733   0000              	GLOBAL _sprite
734   0000              	GLOBAL _player_lock
735   0000              	GLOBAL _player_next_extra
736   0000              	GLOBAL _player_score
737   0000              	GLOBAL _last_time
738   0000              	GLOBAL _sliding
739   0000              	GLOBAL _spr_timer_c
740   0000              	GLOBAL _spr_timer
741   0000              	GLOBAL _jump_lin
742   0000              	GLOBAL _hit_col
743   0000              	GLOBAL _hit_lin
744   0000              	GLOBAL _colint
745   0000              	GLOBAL _col
746   0000              	GLOBAL _lin
747   0000              	GLOBAL _tile
748   0000              	GLOBAL _state_a
749   0000              	GLOBAL _state
750   0000              	GLOBAL _class
751   0000              	GLOBAL _tbuffer
752   0000              	GLOBAL _dirs
753   0000              	GLOBAL _k2
754   0000              	GLOBAL _k1
755   0000              	GLOBAL _joyfunc2
756   0000              	GLOBAL _joyfunc1
757   0000              	GLOBAL _joynames
758   0000              	GLOBAL _btiles
759   0000              	GLOBAL _spec128
760   0000              	GLOBAL _hall_valids
761   0000              ;--------------------------------------------------------
762   0000              ; special function registers
763   0000              ;--------------------------------------------------------
764   0000              ;--------------------------------------------------------
765   0000              ; ram data
766   0000              ;--------------------------------------------------------
767   0000              	SECTION bss_compiler
768   0000              defc _NIRVANAP_isr	=	0xf5d2
769   0000              ;--------------------------------------------------------
770   0000              ; ram data
771   0000              ;--------------------------------------------------------
772   0000              
773   0000              IF 0
774   0000              
775   0000              ; .area _INITIALIZED removed by z88dk
776   0000              
777   0000              
778   0000              ENDIF
779   0000              
780   0000              ;--------------------------------------------------------
781   0000              ; absolute external ram data
782   0000              ;--------------------------------------------------------
783   0000              	SECTION IGNORE
784   0000              ;--------------------------------------------------------
785   0000              ; global & static initialisations
786   0000              ;--------------------------------------------------------
787   0000              	SECTION code_crt_init
788   0000              ;--------------------------------------------------------
789   0000              ; Home
790   0000              ;--------------------------------------------------------
791   0000              	SECTION IGNORE
792   0000              ;--------------------------------------------------------
793   0000              ; code
794   0000              ;--------------------------------------------------------
795   0000              	SECTION code_compiler
796   0000              ;	---------------------------------
797   0000              ; Function player_init
798   0000              ; ---------------------------------
799   0000              _player_init:
800   0000  CD 00 00    	call	___sdcc_enter_ix
801   0003  3E 00       	ld	a,+((_class) & 0xFF)
802   0005  DD 86 04    	add	a,(ix+4)
803   0008  4F          	ld	c,a
804   0009  3E 00       	ld	a,+((_class) / 256)
805   000B  CE 00       	adc	a,0x00
806   000D  47          	ld	b,a
807   000E  3E 10       	ld	a,0x10
808   0010  02          	ld	(bc),a
809   0011  3E 00       	ld	a,+((_tile) & 0xFF)
810   0013  DD 86 04    	add	a,(ix+4)
811   0016  4F          	ld	c,a
812   0017  3E 00       	ld	a,+((_tile) / 256)
813   0019  CE 00       	adc	a,0x00
814   001B  47          	ld	b,a
815   001C  DD 7E 07    	ld	a,(ix+7)
816   001F  02          	ld	(bc),a
817   0020  3E 00       	ld	a,+((_lin) & 0xFF)
818   0022  DD 86 04    	add	a,(ix+4)
819   0025  4F          	ld	c,a
820   0026  3E 00       	ld	a,+((_lin) / 256)
821   0028  CE 00       	adc	a,0x00
822   002A  47          	ld	b,a
823   002B  DD 7E 05    	ld	a,(ix+5)
824   002E  02          	ld	(bc),a
825   002F  3E 00       	ld	a,+((_col) & 0xFF)
826   0031  DD 86 04    	add	a,(ix+4)
827   0034  4F          	ld	c,a
828   0035  3E 00       	ld	a,+((_col) / 256)
829   0037  CE 00       	adc	a,0x00
830   0039  47          	ld	b,a
831   003A  DD 7E 06    	ld	a,(ix+6)
832   003D  02          	ld	(bc),a
833   003E  3E 00       	ld	a,+((_colint) & 0xFF)
834   0040  DD 86 04    	add	a,(ix+4)
835   0043  4F          	ld	c,a
836   0044  3E 00       	ld	a,+((_colint) / 256)
837   0046  CE 00       	adc	a,0x00
838   0048  47          	ld	b,a
839   0049  AF          	xor	a, a
840   004A  02          	ld	(bc),a
841   004B  3E 00       	ld	a,+((_state) & 0xFF)
842   004D  DD 86 04    	add	a,(ix+4)
843   0050  4F          	ld	c,a
844   0051  3E 00       	ld	a,+((_state) / 256)
845   0053  CE 00       	adc	a,0x00
846   0055  47          	ld	b,a
847   0056  AF          	xor	a, a
848   0057  02          	ld	(bc),a
849   0058  3E 00       	ld	a,+((_state_a) & 0xFF)
850   005A  DD 86 04    	add	a,(ix+4)
851   005D  4F          	ld	c,a
852   005E  3E 00       	ld	a,+((_state_a) / 256)
853   0060  CE 00       	adc	a,0x00
854   0062  47          	ld	b,a
855   0063  AF          	xor	a, a
856   0064  02          	ld	(bc),a
857   0065  3E 00       	ld	a,+((_jump_lin) & 0xFF)
858   0067  DD 86 04    	add	a,(ix+4)
859   006A  4F          	ld	c,a
860   006B  3E 00       	ld	a,+((_jump_lin) / 256)
861   006D  CE 00       	adc	a,0x00
862   006F  47          	ld	b,a
863   0070  DD 7E 05    	ld	a,(ix+5)
864   0073  02          	ld	(bc),a
865   0074  01 00 00    	ld	bc,_last_time+0
866   0077  DD 6E 04    	ld	l,(ix+4)
867   007A  26 00       	ld	h,0x00
868   007C  29          	add	hl, hl
869   007D  09          	add	hl,bc
870   007E  ED 5B 00 00 	ld	de,(_curr_time)
871   0082  73          	ld	(hl),e
872   0083  23          	inc	hl
873   0084  72          	ld	(hl),d
874   0085  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
875   0087  DD 86 04    	add	a,(ix+4)
876   008A  4F          	ld	c,a
877   008B  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
878   008D  CE 00       	adc	a,0x00
879   008F  47          	ld	b,a
880   0090  AF          	xor	a, a
881   0091  02          	ld	(bc),a
882   0092  3A 00 00    	ld	a,(_sprite)
883   0095  D6 07       	sub	a,0x07
884   0097  20 07       	jr	NZ,l_player_init_00102
885   0099  21 00 00    	ld	hl,_index_player
886   009C  36 00       	ld	(hl),0x00
887   009E  18 05       	jr	l_player_init_00103
888   00A0              l_player_init_00102:
889   00A0  21 00 00    	ld	hl,_index_player
890   00A3  36 01       	ld	(hl),0x01
891   00A5              l_player_init_00103:
892   00A5  3E 00       	ld	a,+((_hit_col) & 0xFF)
893   00A7  21 00 00    	ld	hl,_index_player
894   00AA  86          	add	a, (hl)
895   00AB  4F          	ld	c,a
896   00AC  3E 00       	ld	a,+((_hit_col) / 256)
897   00AE  CE 00       	adc	a,0x00
898   00B0  47          	ld	b,a
899   00B1  AF          	xor	a, a
900   00B2  02          	ld	(bc),a
901   00B3  3E 00       	ld	a,+((_hit_lin) & 0xFF)
902   00B5  86          	add	a, (hl)
903   00B6  4F          	ld	c,a
904   00B7  3E 00       	ld	a,+((_hit_lin) / 256)
905   00B9  CE 00       	adc	a,0x00
906   00BB  47          	ld	b,a
907   00BC  AF          	xor	a, a
908   00BD  02          	ld	(bc),a
909   00BE  3E 00       	ld	a,+((_player_lock) & 0xFF)
910   00C0  86          	add	a, (hl)
911   00C1  4F          	ld	c,a
912   00C2  3E 00       	ld	a,+((_player_lock) / 256)
913   00C4  CE 00       	adc	a,0x00
914   00C6  47          	ld	b,a
915   00C7  3E 01       	ld	a,0x01
916   00C9  02          	ld	(bc),a
917   00CA  3E 00       	ld	a,+((_sliding) & 0xFF)
918   00CC  86          	add	a, (hl)
919   00CD  4F          	ld	c,a
920   00CE  3E 00       	ld	a,+((_sliding) / 256)
921   00D0  CE 00       	adc	a,0x00
922   00D2  47          	ld	b,a
923   00D3  3E 04       	ld	a,0x04
924   00D5  02          	ld	(bc),a
925   00D6  DD 66 06    	ld	h,(ix+6)
926   00D9  DD 6E 05    	ld	l,(ix+5)
927   00DC  E5          	push	hl
928   00DD  DD 66 07    	ld	h,(ix+7)
929   00E0  DD 6E 04    	ld	l,(ix+4)
930   00E3  E5          	push	hl
931   00E4  CD 00 00    	call	_NIRVANAP_spriteT_callee
932   00E7  DD E1       	pop	ix
933   00E9  C9          	ret
934   00EA              ;	---------------------------------
935   00EA              ; Function player_collition
936   00EA              ; ---------------------------------
937   00EA              _player_collition:
938   00EA  3A 00 00    	ld	a,(_sprite)
939   00ED  C6 00       	add	a,+((_class) & 0xFF)
940   00EF  4F          	ld	c,a
941   00F0  3E 00       	ld	a,+((_class) / 256)
942   00F2  CE 00       	adc	a,0x00
943   00F4  47          	ld	b,a
944   00F5  0A          	ld	a,(bc)
945   00F6  B7          	or	a,a
946   00F7  20 04       	jr	NZ,l_player_collition_00102
947   00F9  6F          	ld	l,a
948   00FA  C3 7C 01    	jp	l_player_collition_00119
949   00FD              l_player_collition_00102:
950   00FD  3A 00 00    	ld	a,(_sprite)
951   0100  C6 00       	add	a,+((_state) & 0xFF)
952   0102  4F          	ld	c,a
953   0103  3E 00       	ld	a,+((_state) / 256)
954   0105  CE 00       	adc	a,0x00
955   0107  47          	ld	b,a
956   0108  0A          	ld	a,(bc)
957   0109  CB 67       	bit	4, a
958   010B  28 04       	jr	Z,l_player_collition_00104
959   010D  2E 00       	ld	l,0x00
960   010F  18 6B       	jr	l_player_collition_00119
961   0111              l_player_collition_00104:
962   0111  CB 6F       	bit	5, a
963   0113  28 04       	jr	Z,l_player_collition_00106
964   0115  2E 00       	ld	l,0x00
965   0117  18 63       	jr	l_player_collition_00119
966   0119              l_player_collition_00106:
967   0119  21 00 00    	ld	hl,_hit_count
968   011C  36 00       	ld	(hl),0x00
969   011E  21 00 00    	ld	hl,_enemies
970   0121  36 00       	ld	(hl),0x00
971   0123              l_player_collition_00117:
972   0123  CD 7D 01    	call	_player_collition_check
973   0126  7D          	ld	a,l
974   0127  B7          	or	a, a
975   0128  28 44       	jr	Z,l_player_collition_00118
976   012A  3A 00 00    	ld	a,(_enemies)
977   012D  C6 00       	add	a,+((_state) & 0xFF)
978   012F  4F          	ld	c,a
979   0130  3E 00       	ld	a,+((_state) / 256)
980   0132  CE 00       	adc	a,0x00
981   0134  47          	ld	b,a
982   0135  0A          	ld	a,(bc)
983   0136  CB 67       	bit	4, a
984   0138  28 0B       	jr	Z,l_player_collition_00112
985   013A  3A 00 00    	ld	a,(_enemies)
986   013D  F5          	push	af
987   013E  33          	inc	sp
988   013F  CD 00 00    	call	_enemy_kill
989   0142  33          	inc	sp
990   0143  18 29       	jr	l_player_collition_00118
991   0145              l_player_collition_00112:
992   0145  2A 00 00    	ld	hl,(_enemies)
993   0148  26 00       	ld	h,0x00
994   014A  01 00 00    	ld	bc,_class
995   014D  09          	add	hl,bc
996   014E  7E          	ld	a,(hl)
997   014F  4F          	ld	c,a
998   0150  D6 08       	sub	a,0x08
999   0152  28 05       	jr	Z,l_player_collition_00107
1000  0154  79          	ld	a,c
1001  0155  D6 0C       	sub	a,0x0c
1002  0157  20 0C       	jr	NZ,l_player_collition_00108
1003  0159              l_player_collition_00107:
1004  0159  2A 00 00    	ld	hl,(_enemies)
1005  015C  26 50       	ld	h,0x50
1006  015E  E5          	push	hl
1007  015F  CD 02 10    	call	_player_coin
1008  0162  F1          	pop	af
1009  0163  18 09       	jr	l_player_collition_00118
1010  0165              l_player_collition_00108:
1011  0165  21 00 00    	ld	hl,_ay_effect_18
1012  0168  CD 00 00    	call	_ay_fx_play
1013  016B  CD F2 02    	call	_player_kill
1014  016E              l_player_collition_00118:
1015  016E  21 00 00    	ld	hl,_enemies
1016  0171  34          	inc	(hl)
1017  0172  7E          	ld	a,(hl)
1018  0173  D6 06       	sub	a,0x06
1019  0175  38 AC       	jr	C,l_player_collition_00117
1020  0177  CD 00 00    	call	_game_score_osd
1021  017A  2E 00       	ld	l,0x00
1022  017C              l_player_collition_00119:
1023  017C  C9          	ret
1024  017D              ;	---------------------------------
1025  017D              ; Function player_collition_check
1026  017D              ; ---------------------------------
1027  017D              _player_collition_check:
1028  017D  CD 00 00    	call	___sdcc_enter_ix
1029  0180  3B          	dec	sp
1030  0181  3A 00 00    	ld	a,(_enemies)
1031  0184  C6 00       	add	a,+((_class) & 0xFF)
1032  0186  4F          	ld	c,a
1033  0187  3E 00       	ld	a,+((_class) / 256)
1034  0189  CE 00       	adc	a,0x00
1035  018B  47          	ld	b,a
1036  018C  0A          	ld	a,(bc)
1037  018D  B7          	or	a,a
1038  018E  20 04       	jr	NZ,l_player_collition_check_00102
1039  0190  6F          	ld	l,a
1040  0191  C3 EE 02    	jp	l_player_collition_check_00125
1041  0194              l_player_collition_check_00102:
1042  0194  3A 00 00    	ld	a,(_enemies)
1043  0197  C6 00       	add	a,+((_state) & 0xFF)
1044  0199  4F          	ld	c,a
1045  019A  3E 00       	ld	a,+((_state) / 256)
1046  019C  CE 00       	adc	a,0x00
1047  019E  47          	ld	b,a
1048  019F  0A          	ld	a,(bc)
1049  01A0  CB 6F       	bit	5, a
1050  01A2  28 05       	jr	Z,l_player_collition_check_00104
1051  01A4  2E 00       	ld	l,0x00
1052  01A6  C3 EE 02    	jp	l_player_collition_check_00125
1053  01A9              l_player_collition_check_00104:
1054  01A9  11 00 00    	ld	de,_lin+0
1055  01AC  7B          	ld	a,e
1056  01AD  21 00 00    	ld	hl,_enemies
1057  01B0  86          	add	a, (hl)
1058  01B1  4F          	ld	c,a
1059  01B2  7A          	ld	a,d
1060  01B3  CE 00       	adc	a,0x00
1061  01B5  47          	ld	b,a
1062  01B6  0A          	ld	a,(bc)
1063  01B7  4F          	ld	c,a
1064  01B8  06 00       	ld	b,0x00
1065  01BA  7B          	ld	a,e
1066  01BB  21 00 00    	ld	hl,_sprite
1067  01BE  86          	add	a, (hl)
1068  01BF  5F          	ld	e,a
1069  01C0  7A          	ld	a,d
1070  01C1  CE 00       	adc	a,0x00
1071  01C3  57          	ld	d,a
1072  01C4  1A          	ld	a,(de)
1073  01C5  5F          	ld	e,a
1074  01C6  16 00       	ld	d,0x00
1075  01C8  79          	ld	a,c
1076  01C9  93          	sub	a, e
1077  01CA  6F          	ld	l,a
1078  01CB  78          	ld	a,b
1079  01CC  9A          	sbc	a, d
1080  01CD  67          	ld	h,a
1081  01CE  CD 00 00    	call	_abs_fastcall
1082  01D1  22 00 00    	ld	(_tmp_ui),hl
1083  01D4  3A 00 00    	ld	a,(_sprite)
1084  01D7  C6 00       	add	a,+((_state) & 0xFF)
1085  01D9  4F          	ld	c,a
1086  01DA  3E 00       	ld	a,+((_state) / 256)
1087  01DC  CE 00       	adc	a,0x00
1088  01DE  47          	ld	b,a
1089  01DF  0A          	ld	a,(bc)
1090  01E0  CB 47       	bit	0, a
1091  01E2  20 04       	jr	NZ,l_player_collition_check_00109
1092  01E4  CB 4F       	bit	1, a
1093  01E6  28 11       	jr	Z,l_player_collition_check_00110
1094  01E8              l_player_collition_check_00109:
1095  01E8  3E 10       	ld	a,0x10
1096  01EA  21 00 00    	ld	hl,_tmp_ui
1097  01ED  BE          	cp	a, (hl)
1098  01EE  3E 00       	ld	a,0x00
1099  01F0  23          	inc	hl
1100  01F1  9E          	sbc	a, (hl)
1101  01F2  30 16       	jr	NC,l_player_collition_check_00111
1102  01F4  2E 00       	ld	l,0x00
1103  01F6  C3 EE 02    	jp	l_player_collition_check_00125
1104  01F9              l_player_collition_check_00110:
1105  01F9  3E 0E       	ld	a,0x0e
1106  01FB  21 00 00    	ld	hl,_tmp_ui
1107  01FE  BE          	cp	a, (hl)
1108  01FF  3E 00       	ld	a,0x00
1109  0201  23          	inc	hl
1110  0202  9E          	sbc	a, (hl)
1111  0203  30 05       	jr	NC,l_player_collition_check_00111
1112  0205  2E 00       	ld	l,0x00
1113  0207  C3 EE 02    	jp	l_player_collition_check_00125
1114  020A              l_player_collition_check_00111:
1115  020A  2A 00 00    	ld	hl,(_enemies)
1116  020D  26 00       	ld	h,0x00
1117  020F  01 00 00    	ld	bc,_col
1118  0212  09          	add	hl,bc
1119  0213  4E          	ld	c,(hl)
1120  0214  06 00       	ld	b,0x00
1121  0216  2A 00 00    	ld	hl,(_sprite)
1122  0219  60          	ld	h,b
1123  021A  11 00 00    	ld	de,_col
1124  021D  19          	add	hl,de
1125  021E  5E          	ld	e, (hl)
1126  021F  16 00       	ld	d,0x00
1127  0221  79          	ld	a,c
1128  0222  93          	sub	a, e
1129  0223  6F          	ld	l,a
1130  0224  78          	ld	a,b
1131  0225  9A          	sbc	a, d
1132  0226  67          	ld	h,a
1133  0227  CD 00 00    	call	_abs_fastcall
1134  022A  22 00 00    	ld	(_tmp_ui),hl
1135  022D  2A 00 00    	ld	hl,(_enemies)
1136  0230  26 00       	ld	h,0x00
1137  0232  01 00 00    	ld	bc,_col
1138  0235  09          	add	hl,bc
1139  0236  7E          	ld	a,(hl)
1140  0237  4F          	ld	c,a
1141  0238  87          	add	a, a
1142  0239  81          	add	a, c
1143  023A  32 00 00    	ld	(_tmp0),a
1144  023D  4F          	ld	c,a
1145  023E  2A 00 00    	ld	hl,(_sprite)
1146  0241  26 00       	ld	h,0x00
1147  0243  11 00 00    	ld	de,_col
1148  0246  19          	add	hl,de
1149  0247  7E          	ld	a,(hl)
1150  0248  5F          	ld	e,a
1151  0249  87          	add	a, a
1152  024A  83          	add	a, e
1153  024B  32 00 00    	ld	(_tmp1),a
1154  024E  47          	ld	b,a
1155  024F  3E 02       	ld	a,0x02
1156  0251  21 00 00    	ld	hl,_tmp_ui
1157  0254  BE          	cp	a, (hl)
1158  0255  3E 00       	ld	a,0x00
1159  0257  23          	inc	hl
1160  0258  9E          	sbc	a, (hl)
1161  0259  30 05       	jr	NC,l_player_collition_check_00114
1162  025B  2E 00       	ld	l,0x00
1163  025D  C3 EE 02    	jp	l_player_collition_check_00125
1164  0260              l_player_collition_check_00114:
1165  0260  2A 00 00    	ld	hl,(_enemies)
1166  0263  26 00       	ld	h,0x00
1167  0265  11 00 00    	ld	de,_state
1168  0268  19          	add	hl,de
1169  0269  7E          	ld	a,(hl)
1170  026A  DD 77 FF    	ld	(ix-1),a
1171  026D  CB 57       	bit	2,a
1172  026F  28 0E       	jr	Z,l_player_collition_check_00116
1173  0271  2A 00 00    	ld	hl,(_enemies)
1174  0274  26 00       	ld	h,0x00
1175  0276  11 00 00    	ld	de,_colint
1176  0279  19          	add	hl,de
1177  027A  7E          	ld	a,(hl)
1178  027B  81          	add	a,c
1179  027C  32 00 00    	ld	(_tmp0),a
1180  027F              l_player_collition_check_00116:
1181  027F  DD CB FF 5E 	bit	3,(ix-1)
1182  0283  28 0F       	jr	Z,l_player_collition_check_00118
1183  0285  2A 00 00    	ld	hl,(_enemies)
1184  0288  26 00       	ld	h,0x00
1185  028A  11 00 00    	ld	de,_colint
1186  028D  19          	add	hl,de
1187  028E  5E          	ld	e, (hl)
1188  028F  79          	ld	a,c
1189  0290  93          	sub	a, e
1190  0291  32 00 00    	ld	(_tmp0),a
1191  0294              l_player_collition_check_00118:
1192  0294  2A 00 00    	ld	hl,(_sprite)
1193  0297  26 00       	ld	h,0x00
1194  0299  11 00 00    	ld	de,_state
1195  029C  19          	add	hl,de
1196  029D  7E          	ld	a,(hl)
1197  029E  4F          	ld	c,a
1198  029F  CB 57       	bit	2,a
1199  02A1  28 0E       	jr	Z,l_player_collition_check_00120
1200  02A3  2A 00 00    	ld	hl,(_sprite)
1201  02A6  26 00       	ld	h,0x00
1202  02A8  11 00 00    	ld	de,_colint
1203  02AB  19          	add	hl,de
1204  02AC  7E          	ld	a,(hl)
1205  02AD  80          	add	a,b
1206  02AE  32 00 00    	ld	(_tmp1),a
1207  02B1              l_player_collition_check_00120:
1208  02B1  CB 59       	bit	3, c
1209  02B3  28 0F       	jr	Z,l_player_collition_check_00122
1210  02B5  2A 00 00    	ld	hl,(_sprite)
1211  02B8  26 00       	ld	h,0x00
1212  02BA  11 00 00    	ld	de,_colint
1213  02BD  19          	add	hl,de
1214  02BE  4E          	ld	c, (hl)
1215  02BF  78          	ld	a,b
1216  02C0  91          	sub	a, c
1217  02C1  32 00 00    	ld	(_tmp1),a
1218  02C4              l_player_collition_check_00122:
1219  02C4  3A 00 00    	ld	a,(_tmp0)
1220  02C7  4F          	ld	c,a
1221  02C8  06 00       	ld	b,0x00
1222  02CA  3A 00 00    	ld	a,(_tmp1)
1223  02CD  5F          	ld	e,a
1224  02CE  16 00       	ld	d,0x00
1225  02D0  79          	ld	a,c
1226  02D1  93          	sub	a, e
1227  02D2  6F          	ld	l,a
1228  02D3  78          	ld	a,b
1229  02D4  9A          	sbc	a, d
1230  02D5  67          	ld	h,a
1231  02D6  CD 00 00    	call	_abs_fastcall
1232  02D9  22 00 00    	ld	(_tmp_ui),hl
1233  02DC  3E 04       	ld	a,0x04
1234  02DE  21 00 00    	ld	hl,_tmp_ui
1235  02E1  BE          	cp	a, (hl)
1236  02E2  3E 00       	ld	a,0x00
1237  02E4  23          	inc	hl
1238  02E5  9E          	sbc	a, (hl)
1239  02E6  30 04       	jr	NC,l_player_collition_check_00124
1240  02E8  2E 00       	ld	l,0x00
1241  02EA  18 02       	jr	l_player_collition_check_00125
1242  02EC              l_player_collition_check_00124:
1243  02EC  2E 01       	ld	l,0x01
1244  02EE              l_player_collition_check_00125:
1245  02EE  33          	inc	sp
1246  02EF  DD E1       	pop	ix
1247  02F1  C9          	ret
1248  02F2              ;	---------------------------------
1249  02F2              ; Function player_kill
1250  02F2              ; ---------------------------------
1251  02F2              _player_kill:
1252  02F2  01 00 00    	ld	bc,_state+0
1253  02F5  2A 00 00    	ld	hl,(_sprite)
1254  02F8  26 00       	ld	h,0x00
1255  02FA  09          	add	hl,bc
1256  02FB  CB 6E       	bit	5,(hl)
1257  02FD  C2 92 03    	jp	NZ,l_player_kill_00106
1258  0300  C5          	push	bc
1259  0301  CD 00 00    	call	_sound_hit_brick
1260  0304  C1          	pop	bc
1261  0305  79          	ld	a,c
1262  0306  21 00 00    	ld	hl,_sprite
1263  0309  86          	add	a, (hl)
1264  030A  5F          	ld	e,a
1265  030B  78          	ld	a,b
1266  030C  CE 00       	adc	a,0x00
1267  030E  57          	ld	d,a
1268  030F  1A          	ld	a,(de)
1269  0310  CB EF       	set	5, a
1270  0312  12          	ld	(de),a
1271  0313  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1272  0315  86          	add	a, (hl)
1273  0316  5F          	ld	e,a
1274  0317  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1275  0319  CE 00       	adc	a,0x00
1276  031B  57          	ld	d,a
1277  031C  3E 03       	ld	a,0x03
1278  031E  12          	ld	(de),a
1279  031F  79          	ld	a,c
1280  0320  86          	add	a, (hl)
1281  0321  4F          	ld	c,a
1282  0322  78          	ld	a,b
1283  0323  CE 00       	adc	a,0x00
1284  0325  47          	ld	b,a
1285  0326  0A          	ld	a,(bc)
1286  0327  CB 57       	bit	2, a
1287  0329  28 13       	jr	Z,l_player_kill_00102
1288  032B  3A 00 00    	ld	a,(_sprite)
1289  032E  C6 00       	add	a,+((_tile) & 0xFF)
1290  0330  4F          	ld	c,a
1291  0331  3E 00       	ld	a,+((_tile) / 256)
1292  0333  CE 00       	adc	a,0x00
1293  0335  47          	ld	b,a
1294  0336  3A 00 00    	ld	a,(_tile_offset)
1295  0339  C6 0B       	add	a,0x0b
1296  033B  02          	ld	(bc),a
1297  033C  18 11       	jr	l_player_kill_00103
1298  033E              l_player_kill_00102:
1299  033E  3A 00 00    	ld	a,(_sprite)
1300  0341  C6 00       	add	a,+((_tile) & 0xFF)
1301  0343  4F          	ld	c,a
1302  0344  3E 00       	ld	a,+((_tile) / 256)
1303  0346  CE 00       	adc	a,0x00
1304  0348  47          	ld	b,a
1305  0349  3A 00 00    	ld	a,(_tile_offset)
1306  034C  C6 17       	add	a,0x17
1307  034E  02          	ld	(bc),a
1308  034F              l_player_kill_00103:
1309  034F  CD 2A 0F    	call	_player_hit_brick_clear
1310  0352  3E 00       	ld	a,+((_col) & 0xFF)
1311  0354  21 00 00    	ld	hl,_sprite
1312  0357  86          	add	a, (hl)
1313  0358  4F          	ld	c,a
1314  0359  3E 00       	ld	a,+((_col) / 256)
1315  035B  CE 00       	adc	a,0x00
1316  035D  47          	ld	b,a
1317  035E  0A          	ld	a,(bc)
1318  035F  4F          	ld	c,a
1319  0360  3E 00       	ld	a,+((_lin) & 0xFF)
1320  0362  86          	add	a, (hl)
1321  0363  5F          	ld	e,a
1322  0364  3E 00       	ld	a,+((_lin) / 256)
1323  0366  CE 00       	adc	a,0x00
1324  0368  57          	ld	d,a
1325  0369  1A          	ld	a,(de)
1326  036A  47          	ld	b,a
1327  036B  3E 00       	ld	a,+((_tile) & 0xFF)
1328  036D  86          	add	a, (hl)
1329  036E  5F          	ld	e,a
1330  036F  3E 00       	ld	a,+((_tile) / 256)
1331  0371  CE 00       	adc	a,0x00
1332  0373  57          	ld	d,a
1333  0374  1A          	ld	a,(de)
1334  0375  57          	ld	d,a
1335  0376  79          	ld	a,c
1336  0377  F5          	push	af
1337  0378  33          	inc	sp
1338  0379  4A          	ld	c, d
1339  037A  7E          	ld	a,(hl)
1340  037B  C5          	push	bc
1341  037C  F5          	push	af
1342  037D  33          	inc	sp
1343  037E  CD 00 00    	call	_NIRVANAP_spriteT_callee
1344  0381  01 00 00    	ld	bc,_spr_timer+0
1345  0384  2A 00 00    	ld	hl,(_sprite)
1346  0387  26 00       	ld	h,0x00
1347  0389  29          	add	hl, hl
1348  038A  09          	add	hl,bc
1349  038B  ED 5B 00 00 	ld	de,(_curr_time)
1350  038F  73          	ld	(hl),e
1351  0390  23          	inc	hl
1352  0391  72          	ld	(hl),d
1353  0392              l_player_kill_00106:
1354  0392  C9          	ret
1355  0393              ;	---------------------------------
1356  0393              ; Function player_restart
1357  0393              ; ---------------------------------
1358  0393              _player_restart:
1359  0393  CD 00 00    	call	___sdcc_enter_ix
1360  0396  21 00 00    	ld	hl,_ay_effect_15
1361  0399  CD 00 00    	call	_ay_fx_play
1362  039C  DD 7E 04    	ld	a,(ix+4)
1363  039F  D6 07       	sub	a,0x07
1364  03A1  20 19       	jr	NZ,l_player_restart_00102
1365  03A3  21 0E 03    	ld	hl,0x030e
1366  03A6  E5          	push	hl
1367  03A7  21 07 00    	ld	hl,0x0007
1368  03AA  E5          	push	hl
1369  03AB  CD 00 00    	call	_player_init
1370  03AE  F1          	pop	af
1371  03AF  21 10 0E    	ld	hl,0x0e10
1372  03B2  E3          	ex	(sp),hl
1373  03B3  3E 84       	ld	a,0x84
1374  03B5  F5          	push	af
1375  03B6  33          	inc	sp
1376  03B7  CD 00 00    	call	_NIRVANAP_drawT_callee
1377  03BA  18 17       	jr	l_player_restart_00103
1378  03BC              l_player_restart_00102:
1379  03BC  21 10 27    	ld	hl,0x2710
1380  03BF  E5          	push	hl
1381  03C0  21 06 00    	ld	hl,0x0006
1382  03C3  E5          	push	hl
1383  03C4  CD 00 00    	call	_player_init
1384  03C7  F1          	pop	af
1385  03C8  21 10 10    	ld	hl,0x1010
1386  03CB  E3          	ex	(sp),hl
1387  03CC  3E 84       	ld	a,0x84
1388  03CE  F5          	push	af
1389  03CF  33          	inc	sp
1390  03D0  CD 00 00    	call	_NIRVANAP_drawT_callee
1391  03D3              l_player_restart_00103:
1392  03D3  3E 00       	ld	a,+((_state) & 0xFF)
1393  03D5  DD 86 04    	add	a,(ix+4)
1394  03D8  4F          	ld	c,a
1395  03D9  3E 00       	ld	a,+((_state) / 256)
1396  03DB  CE 00       	adc	a,0x00
1397  03DD  47          	ld	b,a
1398  03DE  0A          	ld	a,(bc)
1399  03DF  CB E7       	set	4, a
1400  03E1  02          	ld	(bc),a
1401  03E2  3A 00 00    	ld	a,(_index_player)
1402  03E5  C6 00       	add	a,+((_player_lock) & 0xFF)
1403  03E7  4F          	ld	c,a
1404  03E8  3E 00       	ld	a,+((_player_lock) / 256)
1405  03EA  CE 00       	adc	a,0x00
1406  03EC  47          	ld	b,a
1407  03ED  3E 01       	ld	a,0x01
1408  03EF  02          	ld	(bc),a
1409  03F0  01 00 00    	ld	bc,_spr_timer+0
1410  03F3  DD 6E 04    	ld	l,(ix+4)
1411  03F6  26 00       	ld	h,0x00
1412  03F8  29          	add	hl, hl
1413  03F9  09          	add	hl,bc
1414  03FA  ED 5B 00 00 	ld	de,(_curr_time)
1415  03FE  73          	ld	(hl),e
1416  03FF  23          	inc	hl
1417  0400  72          	ld	(hl),d
1418  0401  3E 00       	ld	a,+((_sprite_speed_alt) & 0xFF)
1419  0403  DD 86 04    	add	a,(ix+4)
1420  0406  4F          	ld	c,a
1421  0407  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1422  0409  CE 00       	adc	a,0x00
1423  040B  47          	ld	b,a
1424  040C  3E 08       	ld	a,0x08
1425  040E  02          	ld	(bc),a
1426  040F  DD E1       	pop	ix
1427  0411  C9          	ret
1428  0412              ;	---------------------------------
1429  0412              ; Function player_lost_life
1430  0412              ; ---------------------------------
1431  0412              _player_lost_life:
1432  0412  CD 00 00    	call	_sound_hit_enemy
1433  0415  01 00 00    	ld	bc,_game_lives+0
1434  0418  79          	ld	a,c
1435  0419  21 00 00    	ld	hl,_index_player
1436  041C  86          	add	a, (hl)
1437  041D  5F          	ld	e,a
1438  041E  78          	ld	a,b
1439  041F  CE 00       	adc	a,0x00
1440  0421  57          	ld	d,a
1441  0422  1A          	ld	a,(de)
1442  0423  C6 FF       	add	a,0xff
1443  0425  12          	ld	(de),a
1444  0426  79          	ld	a,c
1445  0427  86          	add	a, (hl)
1446  0428  5F          	ld	e,a
1447  0429  78          	ld	a,b
1448  042A  CE 00       	adc	a,0x00
1449  042C  57          	ld	d,a
1450  042D  1A          	ld	a,(de)
1451  042E  B7          	or	a, a
1452  042F  20 13       	jr	NZ,l_player_lost_life_00105
1453  0431  0A          	ld	a,(bc)
1454  0432  B7          	or	a, a
1455  0433  20 0B       	jr	NZ,l_player_lost_life_00102
1456  0435  3A 01 00    	ld	a, (_game_lives + 1)
1457  0438  B7          	or	a, a
1458  0439  20 05       	jr	NZ,l_player_lost_life_00102
1459  043B  21 00 00    	ld	hl,_game_over
1460  043E  36 01       	ld	(hl),0x01
1461  0440              l_player_lost_life_00102:
1462  0440  2E 00       	ld	l,0x00
1463  0442  18 08       	jr	l_player_lost_life_00106
1464  0444              l_player_lost_life_00105:
1465  0444  CD 00 00    	call	_spr_check_over
1466  0447  CD 00 00    	call	_game_print_lives
1467  044A  2E 01       	ld	l,0x01
1468  044C              l_player_lost_life_00106:
1469  044C  C9          	ret
1470  044D              ;	---------------------------------
1471  044D              ; Function player_turn
1472  044D              ; ---------------------------------
1473  044D              _player_turn:
1474  044D  3A 00 00    	ld	a,(_sprite)
1475  0450  C6 00       	add	a,+((_class) & 0xFF)
1476  0452  4F          	ld	c,a
1477  0453  3E 00       	ld	a,+((_class) / 256)
1478  0455  CE 00       	adc	a,0x00
1479  0457  47          	ld	b,a
1480  0458  0A          	ld	a,(bc)
1481  0459  D6 10       	sub	a,0x10
1482  045B  20 53       	jr	NZ,l_player_turn_00110
1483  045D  3A 00 00    	ld	a,(_phase_left)
1484  0460  B7          	or	a, a
1485  0461  28 4D       	jr	Z,l_player_turn_00110
1486  0463  3A 00 00    	ld	a,(_index_player)
1487  0466  C6 00       	add	a,+((_game_lives) & 0xFF)
1488  0468  4F          	ld	c,a
1489  0469  3E 00       	ld	a,+((_game_lives) / 256)
1490  046B  CE 00       	adc	a,0x00
1491  046D  47          	ld	b,a
1492  046E  0A          	ld	a,(bc)
1493  046F  B7          	or	a, a
1494  0470  28 3E       	jr	Z,l_player_turn_00110
1495  0472  21 00 00    	ld	hl,_sprite
1496  0475  E5          	push	hl
1497  0476  CD 00 00    	call	_spr_chktime
1498  0479  F1          	pop	af
1499  047A  7D          	ld	a,l
1500  047B  B7          	or	a, a
1501  047C  28 32       	jr	Z,l_player_turn_00110
1502  047E  21 00 00    	ld	hl,_dirs
1503  0481  36 00       	ld	(hl),0x00
1504  0483  3A 00 00    	ld	a,(_sprite)
1505  0486  D6 07       	sub	a,0x07
1506  0488  20 11       	jr	NZ,l_player_turn_00102
1507  048A  21 00 00    	ld	hl,_k1
1508  048D  E5          	push	hl
1509  048E  2A 00 00    	ld	hl,(_joyfunc1)
1510  0491  CD 00 00    	call	___sdcc_call_hl
1511  0494  F1          	pop	af
1512  0495  7D          	ld	a,l
1513  0496  32 00 00    	ld	(_dirs),a
1514  0499  18 0F       	jr	l_player_turn_00103
1515  049B              l_player_turn_00102:
1516  049B  21 00 00    	ld	hl,_k1
1517  049E  E5          	push	hl
1518  049F  2A 00 00    	ld	hl,(_joyfunc2)
1519  04A2  CD 00 00    	call	___sdcc_call_hl
1520  04A5  F1          	pop	af
1521  04A6  7D          	ld	a,l
1522  04A7  32 00 00    	ld	(_dirs),a
1523  04AA              l_player_turn_00103:
1524  04AA  CD B1 04    	call	_player_move
1525  04AD  CD EA 00    	call	_player_collition
1526  04B0              l_player_turn_00110:
1527  04B0  C9          	ret
1528  04B1              ;	---------------------------------
1529  04B1              ; Function player_move
1530  04B1              ; ---------------------------------
1531  04B1              _player_move:
1532  04B1  CD 00 00    	call	___sdcc_enter_ix
1533  04B4  F5          	push	af
1534  04B5  3A 00 00    	ld	a,(_sprite)
1535  04B8  C6 00       	add	a,+((_state) & 0xFF)
1536  04BA  4F          	ld	c,a
1537  04BB  3E 00       	ld	a,+((_state) / 256)
1538  04BD  CE 00       	adc	a,0x00
1539  04BF  47          	ld	b,a
1540  04C0  0A          	ld	a,(bc)
1541  04C1  32 00 00    	ld	(_s_state),a
1542  04C4  3A 00 00    	ld	a,(_sprite)
1543  04C7  C6 00       	add	a,+((_lin) & 0xFF)
1544  04C9  4F          	ld	c,a
1545  04CA  3E 00       	ld	a,+((_lin) / 256)
1546  04CC  CE 00       	adc	a,0x00
1547  04CE  47          	ld	b,a
1548  04CF  0A          	ld	a,(bc)
1549  04D0  32 00 00    	ld	(_s_lin0),a
1550  04D3  3A 00 00    	ld	a,(_sprite)
1551  04D6  C6 00       	add	a,+((_col) & 0xFF)
1552  04D8  4F          	ld	c,a
1553  04D9  3E 00       	ld	a,+((_col) / 256)
1554  04DB  CE 00       	adc	a,0x00
1555  04DD  47          	ld	b,a
1556  04DE  0A          	ld	a,(bc)
1557  04DF  32 00 00    	ld	(_s_col0),a
1558  04E2  3E 00       	ld	a,+((_tile) & 0xFF)
1559  04E4  21 00 00    	ld	hl,_sprite
1560  04E7  86          	add	a, (hl)
1561  04E8  DD 77 FE    	ld	(ix-2),a
1562  04EB  3E 00       	ld	a,+((_tile) / 256)
1563  04ED  CE 00       	adc	a,0x00
1564  04EF  DD 77 FF    	ld	(ix-1),a
1565  04F2  E1          	pop	hl
1566  04F3  4E          	ld	c,(hl)
1567  04F4  E5          	push	hl
1568  04F5  2A 00 00    	ld	hl,(_sprite)
1569  04F8  26 00       	ld	h,0x00
1570  04FA  11 00 00    	ld	de,_colint
1571  04FD  19          	add	hl,de
1572  04FE  7E          	ld	a,(hl)
1573  04FF  81          	add	a,c
1574  0500  32 00 00    	ld	(_s_tile0),a
1575  0503  3A 00 00    	ld	a,(_s_state)
1576  0506  E6 20       	and	a,0x20
1577  0508  28 31       	jr	Z,l_player_move_00104
1578  050A  3A 00 00    	ld	a,(_tile_offset)
1579  050D  C6 0A       	add	a,0x0a
1580  050F  E1          	pop	hl
1581  0510  E5          	push	hl
1582  0511  77          	ld	(hl),a
1583  0512  01 00 00    	ld	bc,_spr_timer+0
1584  0515  2A 00 00    	ld	hl,(_sprite)
1585  0518  26 00       	ld	h,0x00
1586  051A  29          	add	hl, hl
1587  051B  09          	add	hl,bc
1588  051C  4E          	ld	c,(hl)
1589  051D  23          	inc	hl
1590  051E  46          	ld	b,(hl)
1591  051F  21 28 00    	ld	hl,0x0028
1592  0522  E5          	push	hl
1593  0523  C5          	push	bc
1594  0524  CD 00 00    	call	_game_check_time
1595  0527  F1          	pop	af
1596  0528  F1          	pop	af
1597  0529  7D          	ld	a,l
1598  052A  B7          	or	a, a
1599  052B  28 09       	jr	Z,l_player_move_00102
1600  052D  3A 00 00    	ld	a,(_sprite)
1601  0530  F5          	push	af
1602  0531  33          	inc	sp
1603  0532  CD 00 00    	call	_spr_killed
1604  0535  33          	inc	sp
1605  0536              l_player_move_00102:
1606  0536  2E 00       	ld	l,0x00
1607  0538  C3 19 09    	jp	l_player_move_00164
1608  053B              l_player_move_00104:
1609  053B  3A 00 00    	ld	a,(_sprite)
1610  053E  C6 00       	add	a,+((_state_a) & 0xFF)
1611  0540  4F          	ld	c,a
1612  0541  3E 00       	ld	a,+((_state_a) / 256)
1613  0543  CE 00       	adc	a,0x00
1614  0545  47          	ld	b,a
1615  0546  0A          	ld	a,(bc)
1616  0547  CB 57       	bit	2, a
1617  0549  28 58       	jr	Z,l_player_move_00108
1618  054B  01 00 00    	ld	bc,_spr_timer+0
1619  054E  2A 00 00    	ld	hl,(_sprite)
1620  0551  26 00       	ld	h,0x00
1621  0553  29          	add	hl, hl
1622  0554  09          	add	hl,bc
1623  0555  4E          	ld	c,(hl)
1624  0556  23          	inc	hl
1625  0557  46          	ld	b,(hl)
1626  0558  21 14 00    	ld	hl,0x0014
1627  055B  E5          	push	hl
1628  055C  C5          	push	bc
1629  055D  CD 00 00    	call	_game_check_time
1630  0560  F1          	pop	af
1631  0561  F1          	pop	af
1632  0562  7D          	ld	a,l
1633  0563  B7          	or	a, a
1634  0564  28 3D       	jr	Z,l_player_move_00108
1635  0566  2A 00 00    	ld	hl,(_sprite)
1636  0569  26 00       	ld	h,0x00
1637  056B  01 00 00    	ld	bc,_state_a
1638  056E  09          	add	hl,bc
1639  056F  7E          	ld	a,(hl)
1640  0570  E6 FB       	and	a,0xfb
1641  0572  77          	ld	(hl),a
1642  0573  3E 00       	ld	a,+((_colint) & 0xFF)
1643  0575  21 00 00    	ld	hl,_sprite
1644  0578  86          	add	a, (hl)
1645  0579  4F          	ld	c,a
1646  057A  3E 00       	ld	a,+((_colint) / 256)
1647  057C  CE 00       	adc	a,0x00
1648  057E  47          	ld	b,a
1649  057F  AF          	xor	a, a
1650  0580  02          	ld	(bc),a
1651  0581  3E 00       	ld	a,+((_tile) & 0xFF)
1652  0583  86          	add	a, (hl)
1653  0584  4F          	ld	c,a
1654  0585  3E 00       	ld	a,+((_tile) / 256)
1655  0587  CE 00       	adc	a,0x00
1656  0589  47          	ld	b,a
1657  058A  3A 00 00    	ld	a,(_tile_offset)
1658  058D  5F          	ld	e,a
1659  058E  16 00       	ld	d,0x00
1660  0590  13          	inc	de
1661  0591  13          	inc	de
1662  0592  13          	inc	de
1663  0593  2A 00 00    	ld	hl,(_sprite)
1664  0596  C5          	push	bc
1665  0597  26 0C       	ld	h,0x0c
1666  0599  E5          	push	hl
1667  059A  D5          	push	de
1668  059B  CD 00 00    	call	_spr_tile_dir
1669  059E  F1          	pop	af
1670  059F  F1          	pop	af
1671  05A0  C1          	pop	bc
1672  05A1  7D          	ld	a, l
1673  05A2  02          	ld	(bc),a
1674  05A3              l_player_move_00108:
1675  05A3  3A 00 00    	ld	a,(_sprite)
1676  05A6  C6 00       	add	a,+((_state_a) & 0xFF)
1677  05A8  4F          	ld	c,a
1678  05A9  3E 00       	ld	a,+((_state_a) / 256)
1679  05AB  CE 00       	adc	a,0x00
1680  05AD  47          	ld	b,a
1681  05AE  0A          	ld	a,(bc)
1682  05AF  CB 6F       	bit	5, a
1683  05B1  28 2E       	jr	Z,l_player_move_00112
1684  05B3  01 00 00    	ld	bc,_spr_timer+0
1685  05B6  2A 00 00    	ld	hl,(_sprite)
1686  05B9  26 00       	ld	h,0x00
1687  05BB  29          	add	hl, hl
1688  05BC  09          	add	hl,bc
1689  05BD  4E          	ld	c,(hl)
1690  05BE  23          	inc	hl
1691  05BF  7E          	ld	a,(hl)
1692  05C0  47          	ld	b,a
1693  05C1  B1          	or	a,c
1694  05C2  28 1D       	jr	Z,l_player_move_00112
1695  05C4  21 08 00    	ld	hl,0x0008
1696  05C7  E5          	push	hl
1697  05C8  C5          	push	bc
1698  05C9  CD 00 00    	call	_game_check_time
1699  05CC  F1          	pop	af
1700  05CD  F1          	pop	af
1701  05CE  7D          	ld	a,l
1702  05CF  B7          	or	a, a
1703  05D0  28 0F       	jr	Z,l_player_move_00112
1704  05D2  3A 00 00    	ld	a,(_sprite)
1705  05D5  C6 00       	add	a,+((_state_a) & 0xFF)
1706  05D7  4F          	ld	c,a
1707  05D8  3E 00       	ld	a,+((_state_a) / 256)
1708  05DA  CE 00       	adc	a,0x00
1709  05DC  47          	ld	b,a
1710  05DD  0A          	ld	a,(bc)
1711  05DE  E6 DF       	and	a,0xdf
1712  05E0  02          	ld	(bc),a
1713  05E1              l_player_move_00112:
1714  05E1  3A 00 00    	ld	a,(_s_state)
1715  05E4  E6 10       	and	a,0x10
1716  05E6  CA 2E 07    	jp	Z,l_player_move_00128
1717  05E9  3A 00 00    	ld	a,(_sprite)
1718  05EC  C6 00       	add	a,+((_lin) & 0xFF)
1719  05EE  4F          	ld	c,a
1720  05EF  3E 00       	ld	a,+((_lin) / 256)
1721  05F1  CE 00       	adc	a,0x00
1722  05F3  47          	ld	b,a
1723  05F4  0A          	ld	a,(bc)
1724  05F5  D6 10       	sub	a,0x10
1725  05F7  30 12       	jr	NC,l_player_move_00119
1726  05F9  CD 00 00    	call	_spr_move_down
1727  05FC  3A 00 00    	ld	a,(_index_player)
1728  05FF  C6 00       	add	a,+((_player_lock) & 0xFF)
1729  0601  4F          	ld	c,a
1730  0602  3E 00       	ld	a,+((_player_lock) / 256)
1731  0604  CE 00       	adc	a,0x00
1732  0606  47          	ld	b,a
1733  0607  AF          	xor	a, a
1734  0608  02          	ld	(bc),a
1735  0609  18 4E       	jr	l_player_move_00120
1736  060B              l_player_move_00119:
1737  060B  3A 00 00    	ld	a,(_dirs)
1738  060E  07          	rlca
1739  060F  38 0E       	jr	C,l_player_move_00114
1740  0611  3A 00 00    	ld	a,(_dirs)
1741  0614  E6 04       	and	a,0x04
1742  0616  20 07       	jr	NZ,l_player_move_00114
1743  0618  3A 00 00    	ld	a,(_dirs)
1744  061B  E6 08       	and	a,0x08
1745  061D  28 3A       	jr	Z,l_player_move_00120
1746  061F              l_player_move_00114:
1747  061F  3A 00 00    	ld	a,(_sprite)
1748  0622  C6 00       	add	a,+((_state) & 0xFF)
1749  0624  4F          	ld	c,a
1750  0625  3E 00       	ld	a,+((_state) / 256)
1751  0627  CE 00       	adc	a,0x00
1752  0629  47          	ld	b,a
1753  062A  0A          	ld	a,(bc)
1754  062B  E6 EF       	and	a,0xef
1755  062D  02          	ld	(bc),a
1756  062E  76          	halt
1757  062F  3A 00 00    	ld	a,(_s_col0)
1758  0632  F5          	push	af
1759  0633  33          	inc	sp
1760  0634  21 A9 10    	ld	hl,0x10a9
1761  0637  E5          	push	hl
1762  0638  CD 00 00    	call	_NIRVANAP_drawT_callee
1763  063B  3A 00 00    	ld	a,(_s_col0)
1764  063E  F5          	push	af
1765  063F  33          	inc	sp
1766  0640  21 A9 20    	ld	hl,0x20a9
1767  0643  E5          	push	hl
1768  0644  CD 00 00    	call	_NIRVANAP_drawT_callee
1769  0647  3A 00 00    	ld	a,(_sprite)
1770  064A  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1771  064C  4F          	ld	c,a
1772  064D  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1773  064F  CE 00       	adc	a,0x00
1774  0651  47          	ld	b,a
1775  0652  AF          	xor	a, a
1776  0653  02          	ld	(bc),a
1777  0654  2E 00       	ld	l,0x00
1778  0656  C3 19 09    	jp	l_player_move_00164
1779  0659              l_player_move_00120:
1780  0659  CD 00 00    	call	_spr_redraw
1781  065C  ED 4B 00 00 	ld	bc,(_curr_time)
1782  0660  2A 00 00    	ld	hl,(_sprite)
1783  0663  26 00       	ld	h,0x00
1784  0665  29          	add	hl, hl
1785  0666  11 00 00    	ld	de,_spr_timer
1786  0669  19          	add	hl,de
1787  066A  5E          	ld	e,(hl)
1788  066B  23          	inc	hl
1789  066C  56          	ld	d,(hl)
1790  066D  69          	ld	l,c
1791  066E  60          	ld	h,b
1792  066F  AF          	xor	a,a
1793  0670  ED 52       	sbc	hl,de
1794  0672  22 00 00    	ld	(_tmp_ui),hl
1795  0675  21 00 00    	ld	hl,_tmp
1796  0678  36 00       	ld	(hl),0x00
1797  067A  3E 32       	ld	a,0x32
1798  067C  21 00 00    	ld	hl,_tmp_ui
1799  067F  BE          	cp	a, (hl)
1800  0680  3E 00       	ld	a,0x00
1801  0682  23          	inc	hl
1802  0683  9E          	sbc	a, (hl)
1803  0684  30 05       	jr	NC,l_player_move_00122
1804  0686  21 00 00    	ld	hl,_tmp
1805  0689  36 01       	ld	(hl),0x01
1806  068B              l_player_move_00122:
1807  068B  3E 64       	ld	a,0x64
1808  068D  21 00 00    	ld	hl,_tmp_ui
1809  0690  BE          	cp	a, (hl)
1810  0691  3E 00       	ld	a,0x00
1811  0693  23          	inc	hl
1812  0694  9E          	sbc	a, (hl)
1813  0695  30 05       	jr	NC,l_player_move_00124
1814  0697  21 00 00    	ld	hl,_tmp
1815  069A  36 02       	ld	(hl),0x02
1816  069C              l_player_move_00124:
1817  069C  76          	halt
1818  069D  3A 00 00    	ld	a,(_sprite)
1819  06A0  C6 00       	add	a,+((_lin) & 0xFF)
1820  06A2  4F          	ld	c,a
1821  06A3  3E 00       	ld	a,+((_lin) / 256)
1822  06A5  CE 00       	adc	a,0x00
1823  06A7  47          	ld	b,a
1824  06A8  0A          	ld	a,(bc)
1825  06A9  C6 10       	add	a,0x10
1826  06AB  47          	ld	b,a
1827  06AC  3A 00 00    	ld	a,(_tmp)
1828  06AF  C6 84       	add	a,0x84
1829  06B1  57          	ld	d,a
1830  06B2  3A 00 00    	ld	a,(_s_col0)
1831  06B5  F5          	push	af
1832  06B6  33          	inc	sp
1833  06B7  4A          	ld	c, d
1834  06B8  C5          	push	bc
1835  06B9  CD 00 00    	call	_NIRVANAP_drawT_callee
1836  06BC  3E 96       	ld	a,0x96
1837  06BE  21 00 00    	ld	hl,_tmp_ui
1838  06C1  BE          	cp	a, (hl)
1839  06C2  3E 00       	ld	a,0x00
1840  06C4  23          	inc	hl
1841  06C5  9E          	sbc	a, (hl)
1842  06C6  30 61       	jr	NC,l_player_move_00126
1843  06C8  2A 00 00    	ld	hl,(_sprite)
1844  06CB  26 00       	ld	h,0x00
1845  06CD  01 00 00    	ld	bc,_lin
1846  06D0  09          	add	hl,bc
1847  06D1  4E          	ld	c, (hl)
1848  06D2  3A 00 00    	ld	a, (_s_col0)
1849  06D5  47          	ld	b,a
1850  06D6  C5          	push	bc
1851  06D7  3E A9       	ld	a,0xa9
1852  06D9  F5          	push	af
1853  06DA  33          	inc	sp
1854  06DB  CD 00 00    	call	_NIRVANAP_drawT_callee
1855  06DE  3A 00 00    	ld	a,(_sprite)
1856  06E1  C6 00       	add	a,+((_lin) & 0xFF)
1857  06E3  4F          	ld	c,a
1858  06E4  3E 00       	ld	a,+((_lin) / 256)
1859  06E6  CE 00       	adc	a,0x00
1860  06E8  47          	ld	b,a
1861  06E9  0A          	ld	a,(bc)
1862  06EA  C6 10       	add	a,0x10
1863  06EC  4F          	ld	c, a
1864  06ED  3A 00 00    	ld	a, (_s_col0)
1865  06F0  47          	ld	b,a
1866  06F1  C5          	push	bc
1867  06F2  3E A9       	ld	a,0xa9
1868  06F4  F5          	push	af
1869  06F5  33          	inc	sp
1870  06F6  CD 00 00    	call	_NIRVANAP_drawT_callee
1871  06F9  21 00 00    	ld	hl,_s_state
1872  06FC  CB A6       	res	4, (hl)
1873  06FE  CB C6       	set	0, (hl)
1874  0700  3A 00 00    	ld	a,(_sprite)
1875  0703  C6 00       	add	a,+((_state) & 0xFF)
1876  0705  4F          	ld	c,a
1877  0706  3E 00       	ld	a,+((_state) / 256)
1878  0708  CE 00       	adc	a,0x00
1879  070A  47          	ld	b,a
1880  070B  3A 00 00    	ld	a,(_s_state)
1881  070E  02          	ld	(bc),a
1882  070F  3A 00 00    	ld	a,(_index_player)
1883  0712  C6 00       	add	a,+((_player_lock) & 0xFF)
1884  0714  4F          	ld	c,a
1885  0715  3E 00       	ld	a,+((_player_lock) / 256)
1886  0717  CE 00       	adc	a,0x00
1887  0719  47          	ld	b,a
1888  071A  AF          	xor	a, a
1889  071B  02          	ld	(bc),a
1890  071C  3A 00 00    	ld	a,(_sprite)
1891  071F  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1892  0721  4F          	ld	c,a
1893  0722  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1894  0724  CE 00       	adc	a,0x00
1895  0726  47          	ld	b,a
1896  0727  AF          	xor	a, a
1897  0728  02          	ld	(bc),a
1898  0729              l_player_move_00126:
1899  0729  2E 00       	ld	l,0x00
1900  072B  C3 19 09    	jp	l_player_move_00164
1901  072E              l_player_move_00128:
1902  072E  CD 1D 09    	call	_player_move_input
1903  0731  3A 00 00    	ld	a,(_index_player)
1904  0734  C6 00       	add	a,+((_player_lock) & 0xFF)
1905  0736  4F          	ld	c,a
1906  0737  3E 00       	ld	a,+((_player_lock) / 256)
1907  0739  CE 00       	adc	a,0x00
1908  073B  47          	ld	b,a
1909  073C  0A          	ld	a,(bc)
1910  073D  B7          	or	a, a
1911  073E  28 05       	jr	Z,l_player_move_00130
1912  0740  2E 00       	ld	l,0x00
1913  0742  C3 19 09    	jp	l_player_move_00164
1914  0745              l_player_move_00130:
1915  0745  3A 00 00    	ld	a,(_s_state)
1916  0748  E6 01       	and	a,0x01
1917  074A  4F          	ld	c,a
1918  074B  3E 00       	ld	a,+((_lin) & 0xFF)
1919  074D  21 00 00    	ld	hl,_sprite
1920  0750  86          	add	a, (hl)
1921  0751  DD 77 FE    	ld	(ix-2),a
1922  0754  3E 00       	ld	a,+((_lin) / 256)
1923  0756  CE 00       	adc	a,0x00
1924  0758  DD 77 FF    	ld	(ix-1),a
1925  075B  3A 00 00    	ld	a,(_s_state)
1926  075E  E6 02       	and	a,0x02
1927  0760  47          	ld	b,a
1928  0761  79          	ld	a,c
1929  0762  B7          	or	a,a
1930  0763  20 62       	jr	NZ,l_player_move_00159
1931  0765  B0          	or	a,b
1932  0766  20 5F       	jr	NZ,l_player_move_00159
1933  0768  2A 00 00    	ld	hl,(_sprite)
1934  076B  26 00       	ld	h,0x00
1935  076D  01 00 00    	ld	bc,_col
1936  0770  09          	add	hl,bc
1937  0771  46          	ld	b,(hl)
1938  0772  CB 40       	bit	0,b
1939  0774  28 08       	jr	Z,l_player_move_00134
1940  0776  21 00 00    	ld	hl,0x0000
1941  0779  22 00 00    	ld	(_index_d),hl
1942  077C  18 1B       	jr	l_player_move_00135
1943  077E              l_player_move_00134:
1944  077E  E1          	pop	hl
1945  077F  7E          	ld	a,(hl)
1946  0780  E5          	push	hl
1947  0781  C6 10       	add	a,0x10
1948  0783  4F          	ld	c,a
1949  0784  C5          	push	bc
1950  0785  CD 00 00    	call	_game_calc_index
1951  0788  F1          	pop	af
1952  0789  22 00 00    	ld	(_index_d),hl
1953  078C  3A 00 00    	ld	a,(_s_lin0)
1954  078F  D6 98       	sub	a,0x98
1955  0791  20 06       	jr	NZ,l_player_move_00135
1956  0793  21 00 00    	ld	hl,0x0000
1957  0796  22 00 00    	ld	(_index_d),hl
1958  0799              l_player_move_00135:
1959  0799  21 01 00    	ld	hl,_index_d + 1
1960  079C  7E          	ld	a,(hl)
1961  079D  2B          	dec	hl
1962  079E  B6          	or	a,(hl)
1963  079F  CA E7 08    	jp	Z,l_player_move_00160
1964  07A2  3E 00       	ld	a,+((_lvl_1) & 0xFF)
1965  07A4  86          	add	a, (hl)
1966  07A5  4F          	ld	c,a
1967  07A6  3E 00       	ld	a,+((_lvl_1) / 256)
1968  07A8  23          	inc	hl
1969  07A9  8E          	adc	a, (hl)
1970  07AA  47          	ld	b,a
1971  07AB  0A          	ld	a,(bc)
1972  07AC  D6 10       	sub	a,0x10
1973  07AE  D2 E7 08    	jp	NC,l_player_move_00160
1974  07B1  3A 00 00    	ld	a,(_sprite)
1975  07B4  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
1976  07B6  4F          	ld	c,a
1977  07B7  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
1978  07B9  CE 00       	adc	a,0x00
1979  07BB  47          	ld	b,a
1980  07BC  3E 02       	ld	a,0x02
1981  07BE  02          	ld	(bc),a
1982  07BF  21 00 00    	ld	hl,_s_state
1983  07C2  CB CE       	set	1, (hl)
1984  07C4  C3 E7 08    	jp	l_player_move_00160
1985  07C7              l_player_move_00159:
1986  07C7  79          	ld	a,c
1987  07C8  B7          	or	a, a
1988  07C9  CA 79 08    	jp	Z,l_player_move_00156
1989  07CC  2A 00 00    	ld	hl,(_sprite)
1990  07CF  26 00       	ld	h,0x00
1991  07D1  01 00 00    	ld	bc,_jump_lin
1992  07D4  09          	add	hl,bc
1993  07D5  4E          	ld	c,(hl)
1994  07D6  E1          	pop	hl
1995  07D7  06 00       	ld	b,0x00
1996  07D9  5E          	ld	e,(hl)
1997  07DA  E5          	push	hl
1998  07DB  16 00       	ld	d,0x00
1999  07DD  79          	ld	a,c
2000  07DE  93          	sub	a, e
2001  07DF  4F          	ld	c,a
2002  07E0  78          	ld	a,b
2003  07E1  9A          	sbc	a, d
2004  07E2  47          	ld	b,a
2005  07E3  79          	ld	a,c
2006  07E4  D6 30       	sub	a,0x30
2007  07E6  78          	ld	a,b
2008  07E7  17          	rla
2009  07E8  3F          	ccf
2010  07E9  1F          	rra
2011  07EA  DE 80       	sbc	a,0x80
2012  07EC  30 49       	jr	NC,l_player_move_00144
2013  07EE  CD 00 00    	call	_spr_move_up
2014  07F1  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2015  07F3  21 00 00    	ld	hl,_sprite
2016  07F6  86          	add	a, (hl)
2017  07F7  4F          	ld	c,a
2018  07F8  3E 00       	ld	a,+((_jump_lin) / 256)
2019  07FA  CE 00       	adc	a,0x00
2020  07FC  47          	ld	b,a
2021  07FD  0A          	ld	a,(bc)
2022  07FE  4F          	ld	c,a
2023  07FF  06 00       	ld	b,0x00
2024  0801  3E 00       	ld	a,+((_lin) & 0xFF)
2025  0803  86          	add	a, (hl)
2026  0804  5F          	ld	e,a
2027  0805  3E 00       	ld	a,+((_lin) / 256)
2028  0807  CE 00       	adc	a,0x00
2029  0809  57          	ld	d,a
2030  080A  1A          	ld	a,(de)
2031  080B  5F          	ld	e,a
2032  080C  16 00       	ld	d,0x00
2033  080E  79          	ld	a,c
2034  080F  93          	sub	a, e
2035  0810  4F          	ld	c,a
2036  0811  78          	ld	a,b
2037  0812  9A          	sbc	a, d
2038  0813  47          	ld	b,a
2039  0814  79          	ld	a,c
2040  0815  D6 30       	sub	a,0x30
2041  0817  78          	ld	a,b
2042  0818  17          	rla
2043  0819  3F          	ccf
2044  081A  1F          	rra
2045  081B  DE 80       	sbc	a,0x80
2046  081D  38 36       	jr	C,l_player_move_00145
2047  081F  01 00 00    	ld	bc,_spr_timer+0
2048  0822  6E          	ld	l,(hl)
2049  0823  26 00       	ld	h,0x00
2050  0825  29          	add	hl, hl
2051  0826  09          	add	hl,bc
2052  0827  4D          	ld	c, l
2053  0828  44          	ld	b, h
2054  0829  2A 00 00    	ld	hl,(_curr_time)
2055  082C  11 E8 FF    	ld	de,0xffe8
2056  082F  19          	add	hl,de
2057  0830  7D          	ld	a,l
2058  0831  02          	ld	(bc),a
2059  0832  03          	inc	bc
2060  0833  7C          	ld	a,h
2061  0834  02          	ld	(bc),a
2062  0835  18 1E       	jr	l_player_move_00145
2063  0837              l_player_move_00144:
2064  0837  01 00 00    	ld	bc,_spr_timer+0
2065  083A  2A 00 00    	ld	hl,(_sprite)
2066  083D  26 00       	ld	h,0x00
2067  083F  29          	add	hl, hl
2068  0840  09          	add	hl,bc
2069  0841  4E          	ld	c,(hl)
2070  0842  23          	inc	hl
2071  0843  46          	ld	b,(hl)
2072  0844  21 08 00    	ld	hl,0x0008
2073  0847  E5          	push	hl
2074  0848  C5          	push	bc
2075  0849  CD 00 00    	call	_game_check_time
2076  084C  F1          	pop	af
2077  084D  F1          	pop	af
2078  084E  7D          	ld	a,l
2079  084F  B7          	or	a, a
2080  0850  28 03       	jr	Z,l_player_move_00145
2081  0852  CD 00 00    	call	_spr_set_fall
2082  0855              l_player_move_00145:
2083  0855  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2084  0857  21 00 00    	ld	hl,_sprite
2085  085A  86          	add	a, (hl)
2086  085B  4F          	ld	c,a
2087  085C  3E 00       	ld	a,+((_jump_lin) / 256)
2088  085E  CE 00       	adc	a,0x00
2089  0860  47          	ld	b,a
2090  0861  0A          	ld	a,(bc)
2091  0862  4F          	ld	c,a
2092  0863  5E          	ld	e,(hl)
2093  0864  16 00       	ld	d,0x00
2094  0866  21 00 00    	ld	hl,_lin
2095  0869  19          	add	hl,de
2096  086A  46          	ld	b, (hl)
2097  086B  79          	ld	a,c
2098  086C  90          	sub	a, b
2099  086D  32 00 00    	ld	(_tmp),a
2100  0870  E6 07       	and	a,0x07
2101  0872  28 73       	jr	Z,l_player_move_00160
2102  0874  CD 09 0C    	call	_player_move_horizontal
2103  0877  18 6E       	jr	l_player_move_00160
2104  0879              l_player_move_00156:
2105  0879  78          	ld	a,b
2106  087A  B7          	or	a, a
2107  087B  28 6A       	jr	Z,l_player_move_00160
2108  087D  CD 00 00    	call	_spr_move_down
2109  0880  CD 09 0C    	call	_player_move_horizontal
2110  0883  3E 00       	ld	a,+((_col) & 0xFF)
2111  0885  21 00 00    	ld	hl,_sprite
2112  0888  86          	add	a, (hl)
2113  0889  4F          	ld	c,a
2114  088A  3E 00       	ld	a,+((_col) / 256)
2115  088C  CE 00       	adc	a,0x00
2116  088E  47          	ld	b,a
2117  088F  0A          	ld	a,(bc)
2118  0890  57          	ld	d,a
2119  0891  4E          	ld	c,(hl)
2120  0892  06 00       	ld	b,0x00
2121  0894  21 00 00    	ld	hl,_lin
2122  0897  09          	add	hl,bc
2123  0898  7E          	ld	a,(hl)
2124  0899  C6 10       	add	a,0x10
2125  089B  5F          	ld	e, a
2126  089C  D5          	push	de
2127  089D  CD 00 00    	call	_game_calc_index
2128  08A0  F1          	pop	af
2129  08A1  22 00 00    	ld	(_index1),hl
2130  08A4  01 00 00    	ld	bc,_lvl_1
2131  08A7  09          	add	hl,bc
2132  08A8  7E          	ld	a,(hl)
2133  08A9  D6 14       	sub	a,0x14
2134  08AB  20 10       	jr	NZ,l_player_move_00149
2135  08AD  3A 00 00    	ld	a,(_index_player)
2136  08B0  C6 00       	add	a,+((_sliding) & 0xFF)
2137  08B2  4F          	ld	c,a
2138  08B3  3E 00       	ld	a,+((_sliding) / 256)
2139  08B5  CE 00       	adc	a,0x00
2140  08B7  47          	ld	b,a
2141  08B8  3E 10       	ld	a,0x10
2142  08BA  02          	ld	(bc),a
2143  08BB  18 0E       	jr	l_player_move_00150
2144  08BD              l_player_move_00149:
2145  08BD  3A 00 00    	ld	a,(_index_player)
2146  08C0  C6 00       	add	a,+((_sliding) & 0xFF)
2147  08C2  4F          	ld	c,a
2148  08C3  3E 00       	ld	a,+((_sliding) / 256)
2149  08C5  CE 00       	adc	a,0x00
2150  08C7  47          	ld	b,a
2151  08C8  3E 04       	ld	a,0x04
2152  08CA  02          	ld	(bc),a
2153  08CB              l_player_move_00150:
2154  08CB  21 00 00    	ld	hl,_s_state
2155  08CE  7E          	ld	a,(hl)
2156  08CF  E6 08       	and	a,0x08
2157  08D1  4F          	ld	c,a
2158  08D2  7E          	ld	a,(hl)
2159  08D3  E6 04       	and	a,0x04
2160  08D5  47          	ld	b,a
2161  08D6  79          	ld	a,c
2162  08D7  90          	sub	a, b
2163  08D8  20 0D       	jr	NZ,l_player_move_00160
2164  08DA  3A 00 00    	ld	a,(_index_player)
2165  08DD  C6 00       	add	a,+((_sliding) & 0xFF)
2166  08DF  4F          	ld	c,a
2167  08E0  3E 00       	ld	a,+((_sliding) / 256)
2168  08E2  CE 00       	adc	a,0x00
2169  08E4  47          	ld	b,a
2170  08E5  AF          	xor	a, a
2171  08E6  02          	ld	(bc),a
2172  08E7              l_player_move_00160:
2173  08E7  2A 00 00    	ld	hl,(_sprite)
2174  08EA  26 00       	ld	h,0x00
2175  08EC  29          	add	hl, hl
2176  08ED  11 00 00    	ld	de,_spr_timer
2177  08F0  19          	add	hl,de
2178  08F1  4E          	ld	c,(hl)
2179  08F2  23          	inc	hl
2180  08F3  46          	ld	b,(hl)
2181  08F4  21 08 00    	ld	hl,0x0008
2182  08F7  E5          	push	hl
2183  08F8  C5          	push	bc
2184  08F9  CD 00 00    	call	_game_check_time
2185  08FC  F1          	pop	af
2186  08FD  F1          	pop	af
2187  08FE  7D          	ld	a,l
2188  08FF  B7          	or	a, a
2189  0900  28 03       	jr	Z,l_player_move_00163
2190  0902  CD 2A 0F    	call	_player_hit_brick_clear
2191  0905              l_player_move_00163:
2192  0905  CD 00 00    	call	_spr_redraw
2193  0908  3A 00 00    	ld	a,(_sprite)
2194  090B  C6 00       	add	a,+((_state) & 0xFF)
2195  090D  4F          	ld	c,a
2196  090E  3E 00       	ld	a,+((_state) / 256)
2197  0910  CE 00       	adc	a,0x00
2198  0912  47          	ld	b,a
2199  0913  3A 00 00    	ld	a,(_s_state)
2200  0916  02          	ld	(bc),a
2201  0917  2E 00       	ld	l,0x00
2202  0919              l_player_move_00164:
2203  0919  F1          	pop	af
2204  091A  DD E1       	pop	ix
2205  091C  C9          	ret
2206  091D              ;	---------------------------------
2207  091D              ; Function player_move_input
2208  091D              ; ---------------------------------
2209  091D              _player_move_input:
2210  091D  3A 00 00    	ld	a,(_dirs)
2211  0920  07          	rlca
2212  0921  38 0F       	jr	C,l_player_move_input_00139
2213  0923  3A 00 00    	ld	a,(_dirs)
2214  0926  E6 04       	and	a,0x04
2215  0928  20 08       	jr	NZ,l_player_move_input_00139
2216  092A  3A 00 00    	ld	a,(_dirs)
2217  092D  E6 08       	and	a,0x08
2218  092F  CA 16 0B    	jp	Z,l_player_move_input_00140
2219  0932              l_player_move_input_00139:
2220  0932  3A 00 00    	ld	a,(_index_player)
2221  0935  C6 00       	add	a,+((_player_lock) & 0xFF)
2222  0937  4F          	ld	c,a
2223  0938  3E 00       	ld	a,+((_player_lock) / 256)
2224  093A  CE 00       	adc	a,0x00
2225  093C  47          	ld	b,a
2226  093D  AF          	xor	a, a
2227  093E  02          	ld	(bc),a
2228  093F  3A 00 00    	ld	a,(_dirs)
2229  0942  07          	rlca
2230  0943  38 0F       	jr	C,l_player_move_input_00102
2231  0945  3A 00 00    	ld	a,(_sprite)
2232  0948  C6 00       	add	a,+((_state_a) & 0xFF)
2233  094A  4F          	ld	c,a
2234  094B  3E 00       	ld	a,+((_state_a) / 256)
2235  094D  CE 00       	adc	a,0x00
2236  094F  47          	ld	b,a
2237  0950  0A          	ld	a,(bc)
2238  0951  E6 FE       	and	a,0xfe
2239  0953  02          	ld	(bc),a
2240  0954              l_player_move_input_00102:
2241  0954  3A 00 00    	ld	a,(_s_state)
2242  0957  0F          	rrca
2243  0958  DA 05 0C    	jp	C,l_player_move_input_00141
2244  095B  3A 00 00    	ld	a,(_s_state)
2245  095E  E6 02       	and	a,0x02
2246  0960  C2 05 0C    	jp	NZ,l_player_move_input_00141
2247  0963  3A 00 00    	ld	a,(_s_lin0)
2248  0966  C6 10       	add	a,0x10
2249  0968  4F          	ld	c, a
2250  0969  3A 00 00    	ld	a, (_s_col0)
2251  096C  47          	ld	b,a
2252  096D  C5          	push	bc
2253  096E  CD 00 00    	call	_game_calc_index
2254  0971  F1          	pop	af
2255  0972  22 00 00    	ld	(_index1),hl
2256  0975  01 00 00    	ld	bc,_lvl_1
2257  0978  09          	add	hl,bc
2258  0979  7E          	ld	a,(hl)
2259  097A  D6 14       	sub	a,0x14
2260  097C  20 10       	jr	NZ,l_player_move_input_00104
2261  097E  3A 00 00    	ld	a,(_index_player)
2262  0981  C6 00       	add	a,+((_sliding) & 0xFF)
2263  0983  4F          	ld	c,a
2264  0984  3E 00       	ld	a,+((_sliding) / 256)
2265  0986  CE 00       	adc	a,0x00
2266  0988  47          	ld	b,a
2267  0989  3E 10       	ld	a,0x10
2268  098B  02          	ld	(bc),a
2269  098C  18 0E       	jr	l_player_move_input_00105
2270  098E              l_player_move_input_00104:
2271  098E  3A 00 00    	ld	a,(_index_player)
2272  0991  C6 00       	add	a,+((_sliding) & 0xFF)
2273  0993  4F          	ld	c,a
2274  0994  3E 00       	ld	a,+((_sliding) / 256)
2275  0996  CE 00       	adc	a,0x00
2276  0998  47          	ld	b,a
2277  0999  3E 04       	ld	a,0x04
2278  099B  02          	ld	(bc),a
2279  099C              l_player_move_input_00105:
2280  099C  3A 00 00    	ld	a,(_sprite)
2281  099F  C6 00       	add	a,+((_state_a) & 0xFF)
2282  09A1  4F          	ld	c,a
2283  09A2  3E 00       	ld	a,+((_state_a) / 256)
2284  09A4  CE 00       	adc	a,0x00
2285  09A6  47          	ld	b,a
2286  09A7  0A          	ld	a,(bc)
2287  09A8  CB 6F       	bit	5, a
2288  09AA  28 1E       	jr	Z,l_player_move_input_00107
2289  09AC  01 00 00    	ld	bc,_spr_timer+0
2290  09AF  2A 00 00    	ld	hl,(_sprite)
2291  09B2  26 00       	ld	h,0x00
2292  09B4  54          	ld	d,h
2293  09B5  29          	add	hl, hl
2294  09B6  09          	add	hl,bc
2295  09B7  4D          	ld	c,l
2296  09B8  44          	ld	b,h
2297  09B9  5E          	ld	e,(hl)
2298  09BA  23          	inc	hl
2299  09BB  7E          	ld	a, (hl)
2300  09BC  B3          	or	a,e
2301  09BD  20 0B       	jr	NZ,l_player_move_input_00107
2302  09BF  2A 00 00    	ld	hl,(_curr_time)
2303  09C2  C5          	push	bc
2304  09C3  EB          	ex	de,hl
2305  09C4  C1          	pop	bc
2306  09C5  7B          	ld	a,e
2307  09C6  02          	ld	(bc),a
2308  09C7  03          	inc	bc
2309  09C8  7A          	ld	a,d
2310  09C9  02          	ld	(bc),a
2311  09CA              l_player_move_input_00107:
2312  09CA  3A 00 00    	ld	a,(_dirs)
2313  09CD  E6 08       	and	a,0x08
2314  09CF  28 07       	jr	Z,l_player_move_input_00110
2315  09D1  21 00 00    	ld	hl,_s_state
2316  09D4  CB D6       	set	2, (hl)
2317  09D6  CB 9E       	res	3, (hl)
2318  09D8              l_player_move_input_00110:
2319  09D8  3A 00 00    	ld	a,(_dirs)
2320  09DB  E6 04       	and	a,0x04
2321  09DD  28 07       	jr	Z,l_player_move_input_00112
2322  09DF  21 00 00    	ld	hl,_s_state
2323  09E2  CB DE       	set	3, (hl)
2324  09E4  CB 96       	res	2, (hl)
2325  09E6              l_player_move_input_00112:
2326  09E6  3A 00 00    	ld	a,(_sprite)
2327  09E9  C6 00       	add	a,+((_state) & 0xFF)
2328  09EB  4F          	ld	c,a
2329  09EC  3E 00       	ld	a,+((_state) / 256)
2330  09EE  CE 00       	adc	a,0x00
2331  09F0  47          	ld	b,a
2332  09F1  3A 00 00    	ld	a,(_s_state)
2333  09F4  02          	ld	(bc),a
2334  09F5  3A 00 00    	ld	a,(_sprite)
2335  09F8  C6 00       	add	a,+((_tile) & 0xFF)
2336  09FA  4F          	ld	c,a
2337  09FB  3E 00       	ld	a,+((_tile) / 256)
2338  09FD  CE 00       	adc	a,0x00
2339  09FF  47          	ld	b,a
2340  0A00  3A 00 00    	ld	a,(_tile_offset)
2341  0A03  5F          	ld	e,a
2342  0A04  16 00       	ld	d,0x00
2343  0A06  2A 00 00    	ld	hl,(_sprite)
2344  0A09  C5          	push	bc
2345  0A0A  26 0C       	ld	h,0x0c
2346  0A0C  E5          	push	hl
2347  0A0D  D5          	push	de
2348  0A0E  CD 00 00    	call	_spr_tile_dir
2349  0A11  F1          	pop	af
2350  0A12  F1          	pop	af
2351  0A13  C1          	pop	bc
2352  0A14  7D          	ld	a, l
2353  0A15  02          	ld	(bc),a
2354  0A16  3A 00 00    	ld	a,(_sprite)
2355  0A19  C6 00       	add	a,+((_state_a) & 0xFF)
2356  0A1B  4F          	ld	c,a
2357  0A1C  3E 00       	ld	a,+((_state_a) / 256)
2358  0A1E  CE 00       	adc	a,0x00
2359  0A20  47          	ld	b,a
2360  0A21  0A          	ld	a,(bc)
2361  0A22  0F          	rrca
2362  0A23  DA CB 0A    	jp	C,l_player_move_input_00116
2363  0A26  3A 00 00    	ld	a,(_dirs)
2364  0A29  07          	rlca
2365  0A2A  D2 CB 0A    	jp	NC,l_player_move_input_00116
2366  0A2D  CD 00 00    	call	_ay_is_playing
2367  0A30  7D          	ld	a,l
2368  0A31  D6 03       	sub	a,0x03
2369  0A33  28 06       	jr	Z,l_player_move_input_00114
2370  0A35  21 00 00    	ld	hl,_ay_effect_03
2371  0A38  CD 00 00    	call	_ay_fx_play
2372  0A3B              l_player_move_input_00114:
2373  0A3B  CD 00 00    	call	_sound_jump
2374  0A3E  3E 00       	ld	a,+((_colint) & 0xFF)
2375  0A40  21 00 00    	ld	hl,_sprite
2376  0A43  86          	add	a, (hl)
2377  0A44  4F          	ld	c,a
2378  0A45  3E 00       	ld	a,+((_colint) / 256)
2379  0A47  CE 00       	adc	a,0x00
2380  0A49  47          	ld	b,a
2381  0A4A  AF          	xor	a, a
2382  0A4B  02          	ld	(bc),a
2383  0A4C  3E 00       	ld	a,+((_state_a) & 0xFF)
2384  0A4E  86          	add	a, (hl)
2385  0A4F  4F          	ld	c,a
2386  0A50  3E 00       	ld	a,+((_state_a) / 256)
2387  0A52  CE 00       	adc	a,0x00
2388  0A54  47          	ld	b,a
2389  0A55  0A          	ld	a,(bc)
2390  0A56  CB C7       	set	0, a
2391  0A58  02          	ld	(bc),a
2392  0A59  21 00 00    	ld	hl,_s_state
2393  0A5C  CB C6       	set	0, (hl)
2394  0A5E  CB 8E       	res	1, (hl)
2395  0A60  2A 00 00    	ld	hl,(_sprite)
2396  0A63  26 00       	ld	h,0x00
2397  0A65  01 00 00    	ld	bc,_state_a
2398  0A68  09          	add	hl,bc
2399  0A69  7E          	ld	a,(hl)
2400  0A6A  E6 DF       	and	a,0xdf
2401  0A6C  77          	ld	(hl),a
2402  0A6D  3E 00       	ld	a,+((_jump_lin) & 0xFF)
2403  0A6F  21 00 00    	ld	hl,_sprite
2404  0A72  86          	add	a, (hl)
2405  0A73  4F          	ld	c,a
2406  0A74  3E 00       	ld	a,+((_jump_lin) / 256)
2407  0A76  CE 00       	adc	a,0x00
2408  0A78  47          	ld	b,a
2409  0A79  3E 00       	ld	a,+((_lin) & 0xFF)
2410  0A7B  86          	add	a, (hl)
2411  0A7C  5F          	ld	e,a
2412  0A7D  3E 00       	ld	a,+((_lin) / 256)
2413  0A7F  CE 00       	adc	a,0x00
2414  0A81  57          	ld	d,a
2415  0A82  1A          	ld	a,(de)
2416  0A83  02          	ld	(bc),a
2417  0A84  3E 00       	ld	a,+((_state) & 0xFF)
2418  0A86  86          	add	a, (hl)
2419  0A87  4F          	ld	c,a
2420  0A88  3E 00       	ld	a,+((_state) / 256)
2421  0A8A  CE 00       	adc	a,0x00
2422  0A8C  47          	ld	b,a
2423  0A8D  3A 00 00    	ld	a,(_s_state)
2424  0A90  02          	ld	(bc),a
2425  0A91  3A 00 00    	ld	a,(_sprite)
2426  0A94  C6 00       	add	a,+((_tile) & 0xFF)
2427  0A96  4F          	ld	c,a
2428  0A97  3E 00       	ld	a,+((_tile) / 256)
2429  0A99  CE 00       	adc	a,0x00
2430  0A9B  47          	ld	b,a
2431  0A9C  3A 00 00    	ld	a,(_tile_offset)
2432  0A9F  5F          	ld	e,a
2433  0AA0  16 00       	ld	d,0x00
2434  0AA2  21 07 00    	ld	hl,0x0007
2435  0AA5  19          	add	hl,de
2436  0AA6  EB          	ex	de,hl
2437  0AA7  2A 00 00    	ld	hl,(_sprite)
2438  0AAA  C5          	push	bc
2439  0AAB  26 0C       	ld	h,0x0c
2440  0AAD  E5          	push	hl
2441  0AAE  D5          	push	de
2442  0AAF  CD 00 00    	call	_spr_tile_dir
2443  0AB2  F1          	pop	af
2444  0AB3  F1          	pop	af
2445  0AB4  C1          	pop	bc
2446  0AB5  7D          	ld	a, l
2447  0AB6  02          	ld	(bc),a
2448  0AB7  3A 00 00    	ld	a,(_sprite)
2449  0ABA  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2450  0ABC  4F          	ld	c,a
2451  0ABD  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2452  0ABF  CE 00       	adc	a,0x00
2453  0AC1  47          	ld	b,a
2454  0AC2  3E 01       	ld	a,0x01
2455  0AC4  02          	ld	(bc),a
2456  0AC5  21 00 00    	ld	hl,0x0000
2457  0AC8  C3 08 0C    	jp	l_player_move_input_00144
2458  0ACB              l_player_move_input_00116:
2459  0ACB  CD 00 00    	call	_ay_is_playing
2460  0ACE  7D          	ld	a,l
2461  0ACF  B7          	or	a, a
2462  0AD0  20 0C       	jr	NZ,l_player_move_input_00119
2463  0AD2  3A 00 00    	ld	a,(_game_bonus)
2464  0AD5  B7          	or	a, a
2465  0AD6  20 06       	jr	NZ,l_player_move_input_00119
2466  0AD8  21 00 00    	ld	hl,_ay_effect_20
2467  0ADB  CD 00 00    	call	_ay_fx_play
2468  0ADE              l_player_move_input_00119:
2469  0ADE  3A 00 00    	ld	a,(_sprite)
2470  0AE1  C6 00       	add	a,+((_state_a) & 0xFF)
2471  0AE3  4F          	ld	c,a
2472  0AE4  3E 00       	ld	a,+((_state_a) / 256)
2473  0AE6  CE 00       	adc	a,0x00
2474  0AE8  47          	ld	b,a
2475  0AE9  0A          	ld	a,(bc)
2476  0AEA  CB 6F       	bit	5, a
2477  0AEC  20 06       	jr	NZ,l_player_move_input_00124
2478  0AEE  CD 09 0C    	call	_player_move_horizontal
2479  0AF1  C3 05 0C    	jp	l_player_move_input_00141
2480  0AF4              l_player_move_input_00124:
2481  0AF4  01 00 00    	ld	bc,_colint+0
2482  0AF7  79          	ld	a,c
2483  0AF8  21 00 00    	ld	hl,_sprite
2484  0AFB  86          	add	a, (hl)
2485  0AFC  5F          	ld	e,a
2486  0AFD  78          	ld	a,b
2487  0AFE  CE 00       	adc	a,0x00
2488  0B00  57          	ld	d,a
2489  0B01  1A          	ld	a,(de)
2490  0B02  3C          	inc	a
2491  0B03  12          	ld	(de),a
2492  0B04  79          	ld	a,c
2493  0B05  86          	add	a, (hl)
2494  0B06  4F          	ld	c,a
2495  0B07  78          	ld	a,b
2496  0B08  CE 00       	adc	a,0x00
2497  0B0A  47          	ld	b,a
2498  0B0B  0A          	ld	a,(bc)
2499  0B0C  D6 02       	sub	a,0x02
2500  0B0E  C2 05 0C    	jp	NZ,l_player_move_input_00141
2501  0B11  AF          	xor	a, a
2502  0B12  02          	ld	(bc),a
2503  0B13  C3 05 0C    	jp	l_player_move_input_00141
2504  0B16              l_player_move_input_00140:
2505  0B16  3A 00 00    	ld	a,(_sprite)
2506  0B19  C6 00       	add	a,+((_state_a) & 0xFF)
2507  0B1B  4F          	ld	c,a
2508  0B1C  3E 00       	ld	a,+((_state_a) / 256)
2509  0B1E  CE 00       	adc	a,0x00
2510  0B20  47          	ld	b,a
2511  0B21  0A          	ld	a,(bc)
2512  0B22  E6 FE       	and	a,0xfe
2513  0B24  02          	ld	(bc),a
2514  0B25  3A 00 00    	ld	a,(_s_state)
2515  0B28  E6 10       	and	a,0x10
2516  0B2A  C2 05 0C    	jp	NZ,l_player_move_input_00141
2517  0B2D  3A 00 00    	ld	a,(_s_state)
2518  0B30  0F          	rrca
2519  0B31  DA 05 0C    	jp	C,l_player_move_input_00141
2520  0B34  3A 00 00    	ld	a,(_s_state)
2521  0B37  E6 02       	and	a,0x02
2522  0B39  C2 05 0C    	jp	NZ,l_player_move_input_00141
2523  0B3C  3A 00 00    	ld	a,(_index_player)
2524  0B3F  C6 00       	add	a,+((_sliding) & 0xFF)
2525  0B41  4F          	ld	c,a
2526  0B42  3E 00       	ld	a,+((_sliding) / 256)
2527  0B44  CE 00       	adc	a,0x00
2528  0B46  47          	ld	b,a
2529  0B47  0A          	ld	a,(bc)
2530  0B48  B7          	or	a, a
2531  0B49  CA 05 0C    	jp	Z,l_player_move_input_00141
2532  0B4C  CD 00 00    	call	_ay_is_playing
2533  0B4F  7D          	ld	a,l
2534  0B50  D6 03       	sub	a,0x03
2535  0B52  28 06       	jr	Z,l_player_move_input_00130
2536  0B54  21 00 00    	ld	hl,_ay_effect_01
2537  0B57  CD 00 00    	call	_ay_fx_play
2538  0B5A              l_player_move_input_00130:
2539  0B5A  CD 00 00    	call	_sound_slide
2540  0B5D  CD 09 0C    	call	_player_move_horizontal
2541  0B60  3A 00 00    	ld	a,(_index_player)
2542  0B63  C6 00       	add	a,+((_sliding) & 0xFF)
2543  0B65  4F          	ld	c,a
2544  0B66  3E 00       	ld	a,+((_sliding) / 256)
2545  0B68  CE 00       	adc	a,0x00
2546  0B6A  47          	ld	b,a
2547  0B6B  0A          	ld	a,(bc)
2548  0B6C  C6 FF       	add	a,0xff
2549  0B6E  02          	ld	(bc),a
2550  0B6F  3A 00 00    	ld	a,(_sprite)
2551  0B72  C6 00       	add	a,+((_sprite_speed_alt) & 0xFF)
2552  0B74  4F          	ld	c,a
2553  0B75  3E 00       	ld	a,+((_sprite_speed_alt) / 256)
2554  0B77  CE 00       	adc	a,0x00
2555  0B79  47          	ld	b,a
2556  0B7A  AF          	xor	a, a
2557  0B7B  02          	ld	(bc),a
2558  0B7C  3A 00 00    	ld	a,(_index_player)
2559  0B7F  C6 00       	add	a,+((_sliding) & 0xFF)
2560  0B81  4F          	ld	c,a
2561  0B82  3E 00       	ld	a,+((_sliding) / 256)
2562  0B84  CE 00       	adc	a,0x00
2563  0B86  47          	ld	b,a
2564  0B87  0A          	ld	a,(bc)
2565  0B88  B7          	or	a, a
2566  0B89  20 55       	jr	NZ,l_player_move_input_00132
2567  0B8B  3E 00       	ld	a,+((_state_a) & 0xFF)
2568  0B8D  21 00 00    	ld	hl,_sprite
2569  0B90  86          	add	a, (hl)
2570  0B91  4F          	ld	c,a
2571  0B92  3E 00       	ld	a,+((_state_a) / 256)
2572  0B94  CE 00       	adc	a,0x00
2573  0B96  47          	ld	b,a
2574  0B97  0A          	ld	a,(bc)
2575  0B98  CB EF       	set	5, a
2576  0B9A  02          	ld	(bc),a
2577  0B9B  6E          	ld	l, (hl)
2578  0B9C  26 00       	ld	h,0x00
2579  0B9E  29          	add	hl, hl
2580  0B9F  11 00 00    	ld	de,_spr_timer
2581  0BA2  19          	add	hl,de
2582  0BA3  AF          	xor	a, a
2583  0BA4  77          	ld	(hl), a
2584  0BA5  23          	inc	hl
2585  0BA6  77          	ld	(hl), a
2586  0BA7  3E 00       	ld	a,+((_colint) & 0xFF)
2587  0BA9  21 00 00    	ld	hl,_sprite
2588  0BAC  86          	add	a, (hl)
2589  0BAD  4F          	ld	c,a
2590  0BAE  3E 00       	ld	a,+((_colint) / 256)
2591  0BB0  CE 00       	adc	a,0x00
2592  0BB2  47          	ld	b,a
2593  0BB3  AF          	xor	a, a
2594  0BB4  02          	ld	(bc),a
2595  0BB5  3E 00       	ld	a,+((_tile) & 0xFF)
2596  0BB7  86          	add	a, (hl)
2597  0BB8  4F          	ld	c,a
2598  0BB9  3E 00       	ld	a,+((_tile) / 256)
2599  0BBB  CE 00       	adc	a,0x00
2600  0BBD  47          	ld	b,a
2601  0BBE  3A 00 00    	ld	a,(_tile_offset)
2602  0BC1  5F          	ld	e,a
2603  0BC2  16 00       	ld	d,0x00
2604  0BC4  13          	inc	de
2605  0BC5  13          	inc	de
2606  0BC6  13          	inc	de
2607  0BC7  2A 00 00    	ld	hl,(_sprite)
2608  0BCA  C5          	push	bc
2609  0BCB  26 0C       	ld	h,0x0c
2610  0BCD  E5          	push	hl
2611  0BCE  D5          	push	de
2612  0BCF  CD 00 00    	call	_spr_tile_dir
2613  0BD2  F1          	pop	af
2614  0BD3  F1          	pop	af
2615  0BD4  C1          	pop	bc
2616  0BD5  7D          	ld	a, l
2617  0BD6  02          	ld	(bc),a
2618  0BD7  21 00 00    	ld	hl,_s_state
2619  0BDA  CB 96       	res	2, (hl)
2620  0BDC  CB 9E       	res	3, (hl)
2621  0BDE  18 25       	jr	l_player_move_input_00141
2622  0BE0              l_player_move_input_00132:
2623  0BE0  3A 00 00    	ld	a,(_sprite)
2624  0BE3  C6 00       	add	a,+((_tile) & 0xFF)
2625  0BE5  4F          	ld	c,a
2626  0BE6  3E 00       	ld	a,+((_tile) / 256)
2627  0BE8  CE 00       	adc	a,0x00
2628  0BEA  47          	ld	b,a
2629  0BEB  3A 00 00    	ld	a,(_tile_offset)
2630  0BEE  5F          	ld	e,a
2631  0BEF  16 00       	ld	d,0x00
2632  0BF1  13          	inc	de
2633  0BF2  13          	inc	de
2634  0BF3  13          	inc	de
2635  0BF4  13          	inc	de
2636  0BF5  2A 00 00    	ld	hl,(_sprite)
2637  0BF8  C5          	push	bc
2638  0BF9  26 0C       	ld	h,0x0c
2639  0BFB  E5          	push	hl
2640  0BFC  D5          	push	de
2641  0BFD  CD 00 00    	call	_spr_tile_dir
2642  0C00  F1          	pop	af
2643  0C01  F1          	pop	af
2644  0C02  C1          	pop	bc
2645  0C03  7D          	ld	a, l
2646  0C04  02          	ld	(bc),a
2647  0C05              l_player_move_input_00141:
2648  0C05  21 00 00    	ld	hl,0x0000
2649  0C08              l_player_move_input_00144:
2650  0C08  C9          	ret
2651  0C09              ;	---------------------------------
2652  0C09              ; Function player_move_horizontal
2653  0C09              ; ---------------------------------
2654  0C09              _player_move_horizontal:
2655  0C09  CD 19 0C    	call	_player_push_check
2656  0C0C  7D          	ld	a,l
2657  0C0D  B7          	or	a, a
2658  0C0E  28 05       	jr	Z,l_player_move_horizontal_00102
2659  0C10  CD 8B 0C    	call	_player_push
2660  0C13  18 03       	jr	l_player_move_horizontal_00104
2661  0C15              l_player_move_horizontal_00102:
2662  0C15  CD 00 00    	call	_spr_move_horizontal
2663  0C18              l_player_move_horizontal_00104:
2664  0C18  C9          	ret
2665  0C19              ;	---------------------------------
2666  0C19              ; Function player_push_check
2667  0C19              ; ---------------------------------
2668  0C19              _player_push_check:
2669  0C19  2A 00 00    	ld	hl,(_sprite_other_player)
2670  0C1C  26 00       	ld	h,0x00
2671  0C1E  01 00 00    	ld	bc,_lin
2672  0C21  09          	add	hl,bc
2673  0C22  7E          	ld	a,(hl)
2674  0C23  4F          	ld	c,a
2675  0C24  B7          	or	a,a
2676  0C25  20 03       	jr	NZ,l_player_push_check_00102
2677  0C27  6F          	ld	l,a
2678  0C28  18 60       	jr	l_player_push_check_00111
2679  0C2A              l_player_push_check_00102:
2680  0C2A  2A 00 00    	ld	hl,(_sprite)
2681  0C2D  26 00       	ld	h,0x00
2682  0C2F  11 00 00    	ld	de,_lin
2683  0C32  19          	add	hl,de
2684  0C33  7E          	ld	a,(hl)
2685  0C34  EB          	ex	de,hl
2686  0C35  47          	ld	b,a
2687  0C36  79          	ld	a,c
2688  0C37  90          	sub	a, b
2689  0C38  28 04       	jr	Z,l_player_push_check_00104
2690  0C3A  2E 00       	ld	l,0x00
2691  0C3C  18 4C       	jr	l_player_push_check_00111
2692  0C3E              l_player_push_check_00104:
2693  0C3E  01 00 00    	ld	bc,_col+0
2694  0C41  2A 00 00    	ld	hl,(_sprite)
2695  0C44  26 00       	ld	h,0x00
2696  0C46  09          	add	hl,bc
2697  0C47  6E          	ld	l, (hl)
2698  0C48  EB          	ex	de,hl
2699  0C49  2A 00 00    	ld	hl,(_sprite_other_player)
2700  0C4C  26 00       	ld	h,0x00
2701  0C4E  09          	add	hl,bc
2702  0C4F  4E          	ld	c, (hl)
2703  0C50  7B          	ld	a,e
2704  0C51  91          	sub	a, c
2705  0C52  32 00 00    	ld	(_tmp_sc),a
2706  0C55  D6 FE       	sub	a,0xfe
2707  0C57  20 14       	jr	NZ,l_player_push_check_00106
2708  0C59  3A 00 00    	ld	a,(_sprite)
2709  0C5C  C6 00       	add	a,+((_state) & 0xFF)
2710  0C5E  4F          	ld	c,a
2711  0C5F  3E 00       	ld	a,+((_state) / 256)
2712  0C61  CE 00       	adc	a,0x00
2713  0C63  47          	ld	b,a
2714  0C64  0A          	ld	a,(bc)
2715  0C65  CB 57       	bit	2, a
2716  0C67  28 04       	jr	Z,l_player_push_check_00106
2717  0C69  2E 01       	ld	l,0x01
2718  0C6B  18 1D       	jr	l_player_push_check_00111
2719  0C6D              l_player_push_check_00106:
2720  0C6D  3A 00 00    	ld	a,(_tmp_sc)
2721  0C70  D6 02       	sub	a,0x02
2722  0C72  20 14       	jr	NZ,l_player_push_check_00109
2723  0C74  3A 00 00    	ld	a,(_sprite)
2724  0C77  C6 00       	add	a,+((_state) & 0xFF)
2725  0C79  4F          	ld	c,a
2726  0C7A  3E 00       	ld	a,+((_state) / 256)
2727  0C7C  CE 00       	adc	a,0x00
2728  0C7E  47          	ld	b,a
2729  0C7F  0A          	ld	a,(bc)
2730  0C80  CB 5F       	bit	3, a
2731  0C82  28 04       	jr	Z,l_player_push_check_00109
2732  0C84  2E 01       	ld	l,0x01
2733  0C86  18 02       	jr	l_player_push_check_00111
2734  0C88              l_player_push_check_00109:
2735  0C88  2E 00       	ld	l,0x00
2736  0C8A              l_player_push_check_00111:
2737  0C8A  C9          	ret
2738  0C8B              ;	---------------------------------
2739  0C8B              ; Function player_push
2740  0C8B              ; ---------------------------------
2741  0C8B              _player_push:
2742  0C8B  3A 00 00    	ld	a,(_sprite)
2743  0C8E  32 00 00    	ld	(_tmp),a
2744  0C91  3A 00 00    	ld	a,(_s_col0)
2745  0C94  32 00 00    	ld	(_tmp0),a
2746  0C97  3A 00 00    	ld	a,(_sprite_other_player)
2747  0C9A  C6 00       	add	a,+((_lin) & 0xFF)
2748  0C9C  4F          	ld	c,a
2749  0C9D  3E 00       	ld	a,+((_lin) / 256)
2750  0C9F  CE 00       	adc	a,0x00
2751  0CA1  47          	ld	b,a
2752  0CA2  0A          	ld	a,(bc)
2753  0CA3  32 00 00    	ld	(_s_lin0),a
2754  0CA6  3A 00 00    	ld	a,(_sprite_other_player)
2755  0CA9  C6 00       	add	a,+((_col) & 0xFF)
2756  0CAB  4F          	ld	c,a
2757  0CAC  3E 00       	ld	a,+((_col) / 256)
2758  0CAE  CE 00       	adc	a,0x00
2759  0CB0  47          	ld	b,a
2760  0CB1  0A          	ld	a,(bc)
2761  0CB2  32 00 00    	ld	(_s_col0),a
2762  0CB5  01 00 00    	ld	bc,_spr_timer+0
2763  0CB8  2A 00 00    	ld	hl,(_sprite_other_player)
2764  0CBB  26 00       	ld	h,0x00
2765  0CBD  29          	add	hl, hl
2766  0CBE  09          	add	hl,bc
2767  0CBF  ED 5B 00 00 	ld	de,(_curr_time)
2768  0CC3  73          	ld	(hl),e
2769  0CC4  23          	inc	hl
2770  0CC5  72          	ld	(hl),d
2771  0CC6  3E 00       	ld	a,+((_state_a) & 0xFF)
2772  0CC8  21 00 00    	ld	hl,_sprite_other_player
2773  0CCB  86          	add	a, (hl)
2774  0CCC  4F          	ld	c,a
2775  0CCD  3E 00       	ld	a,+((_state_a) / 256)
2776  0CCF  CE 00       	adc	a,0x00
2777  0CD1  47          	ld	b,a
2778  0CD2  0A          	ld	a,(bc)
2779  0CD3  CB D7       	set	2, a
2780  0CD5  02          	ld	(bc),a
2781  0CD6  7E          	ld	a,(hl)
2782  0CD7  32 00 00    	ld	(_sprite),a
2783  0CDA  3A 00 00    	ld	a,(_tmp)
2784  0CDD  C6 00       	add	a,+((_state) & 0xFF)
2785  0CDF  4F          	ld	c,a
2786  0CE0  3E 00       	ld	a,+((_state) / 256)
2787  0CE2  CE 00       	adc	a,0x00
2788  0CE4  47          	ld	b,a
2789  0CE5  0A          	ld	a,(bc)
2790  0CE6  CB 57       	bit	2, a
2791  0CE8  28 05       	jr	Z,l_player_push_00102
2792  0CEA  CD 00 00    	call	_spr_move_right
2793  0CED  18 03       	jr	l_player_push_00103
2794  0CEF              l_player_push_00102:
2795  0CEF  CD 00 00    	call	_spr_move_left
2796  0CF2              l_player_push_00103:
2797  0CF2  CD 00 00    	call	_spr_redraw
2798  0CF5  3A 00 00    	ld	a,(_tmp)
2799  0CF8  32 00 00    	ld	(_sprite),a
2800  0CFB  C6 00       	add	a,+((_lin) & 0xFF)
2801  0CFD  4F          	ld	c,a
2802  0CFE  3E 00       	ld	a,+((_lin) / 256)
2803  0D00  CE 00       	adc	a,0x00
2804  0D02  47          	ld	b,a
2805  0D03  0A          	ld	a,(bc)
2806  0D04  32 00 00    	ld	(_s_lin0),a
2807  0D07  3A 00 00    	ld	a,(_tmp0)
2808  0D0A  32 00 00    	ld	(_s_col0),a
2809  0D0D  C9          	ret
2810  0D0E              ;	---------------------------------
2811  0D0E              ; Function player_hit_slipice
2812  0D0E              ; ---------------------------------
2813  0D0E              _player_hit_slipice:
2814  0D0E  CD 00 00    	call	___sdcc_enter_ix
2815  0D11  21 32 00    	ld	hl,0x0032
2816  0D14  E5          	push	hl
2817  0D15  CD 74 10    	call	_player_score_add
2818  0D18  F1          	pop	af
2819  0D19  CD 00 00    	call	_sound_coin
2820  0D1C  3E 00       	ld	a,+((_state) & 0xFF)
2821  0D1E  DD 86 04    	add	a,(ix+4)
2822  0D21  4F          	ld	c,a
2823  0D22  3E 00       	ld	a,+((_state) / 256)
2824  0D24  CE 00       	adc	a,0x00
2825  0D26  47          	ld	b,a
2826  0D27  0A          	ld	a,(bc)
2827  0D28  CB EF       	set	5, a
2828  0D2A  02          	ld	(bc),a
2829  0D2B  01 00 00    	ld	bc,_spr_timer+0
2830  0D2E  DD 6E 04    	ld	l,(ix+4)
2831  0D31  26 00       	ld	h,0x00
2832  0D33  29          	add	hl, hl
2833  0D34  09          	add	hl,bc
2834  0D35  ED 5B 00 00 	ld	de,(_curr_time)
2835  0D39  73          	ld	(hl),e
2836  0D3A  23          	inc	hl
2837  0D3B  72          	ld	(hl),d
2838  0D3C  DD E1       	pop	ix
2839  0D3E  C9          	ret
2840  0D3F              ;	---------------------------------
2841  0D3F              ; Function player_hit_brick
2842  0D3F              ; ---------------------------------
2843  0D3F              _player_hit_brick:
2844  0D3F  3A 00 00    	ld	a,(_index_player)
2845  0D42  C6 00       	add	a,+((_hit_lin) & 0xFF)
2846  0D44  4F          	ld	c,a
2847  0D45  3E 00       	ld	a,+((_hit_lin) / 256)
2848  0D47  CE 00       	adc	a,0x00
2849  0D49  47          	ld	b,a
2850  0D4A  0A          	ld	a,(bc)
2851  0D4B  B7          	or	a, a
2852  0D4C  C2 27 0F    	jp	NZ,l_player_hit_brick_00112
2853  0D4F  3A 00 00    	ld	a,(_sprite)
2854  0D52  C6 00       	add	a,+((_lin) & 0xFF)
2855  0D54  4F          	ld	c,a
2856  0D55  3E 00       	ld	a,+((_lin) / 256)
2857  0D57  CE 00       	adc	a,0x00
2858  0D59  47          	ld	b,a
2859  0D5A  0A          	ld	a,(bc)
2860  0D5B  5F          	ld	e,a
2861  0D5C  3E 10       	ld	a,0x10
2862  0D5E  93          	sub	a, e
2863  0D5F  D2 27 0F    	jp	NC,l_player_hit_brick_00112
2864  0D62  11 00 00    	ld	de,_lvl_1
2865  0D65  2A 00 00    	ld	hl,(_index1)
2866  0D68  19          	add	hl,de
2867  0D69  7E          	ld	a,(hl)
2868  0D6A  D6 12       	sub	a,0x12
2869  0D6C  30 0D       	jr	NC,l_player_hit_brick_00111
2870  0D6E  11 00 00    	ld	de,_lvl_1
2871  0D71  2A 00 00    	ld	hl,(_index2)
2872  0D74  19          	add	hl,de
2873  0D75  7E          	ld	a,(hl)
2874  0D76  D6 12       	sub	a,0x12
2875  0D78  DA 27 0F    	jp	C,l_player_hit_brick_00112
2876  0D7B              l_player_hit_brick_00111:
2877  0D7B  21 00 00    	ld	hl,_enemies
2878  0D7E  36 00       	ld	(hl),0x00
2879  0D80              l_player_hit_brick_00116:
2880  0D80  2A 00 00    	ld	hl,(_enemies)
2881  0D83  26 00       	ld	h,0x00
2882  0D85  11 00 00    	ld	de,_class
2883  0D88  19          	add	hl,de
2884  0D89  7E          	ld	a,(hl)
2885  0D8A  B7          	or	a,a
2886  0D8B  28 5F       	jr	Z,l_player_hit_brick_00117
2887  0D8D  0A          	ld	a,(bc)
2888  0D8E  4F          	ld	c,a
2889  0D8F  06 00       	ld	b,0x00
2890  0D91  2A 00 00    	ld	hl,(_enemies)
2891  0D94  60          	ld	h,b
2892  0D95  11 00 00    	ld	de,_lin
2893  0D98  19          	add	hl,de
2894  0D99  5E          	ld	e, (hl)
2895  0D9A  16 00       	ld	d,0x00
2896  0D9C  79          	ld	a,c
2897  0D9D  93          	sub	a,e
2898  0D9E  4F          	ld	c,a
2899  0D9F  78          	ld	a,b
2900  0DA0  9A          	sbc	a,d
2901  0DA1  47          	ld	b,a
2902  0DA2  79          	ld	a,c
2903  0DA3  D6 18       	sub	a,0x18
2904  0DA5  20 45       	jr	NZ,l_player_hit_brick_00117
2905  0DA7  B0          	or	a,b
2906  0DA8  20 42       	jr	NZ,l_player_hit_brick_00117
2907  0DAA  3A 00 00    	ld	a,(_enemies)
2908  0DAD  4F          	ld	c,a
2909  0DAE  06 00       	ld	b,0x00
2910  0DB0  21 00 00    	ld	hl,_state
2911  0DB3  09          	add	hl,bc
2912  0DB4  CB 6E       	bit	5,(hl)
2913  0DB6  20 34       	jr	NZ,l_player_hit_brick_00117
2914  0DB8  2A 00 00    	ld	hl,(_sprite)
2915  0DBB  26 00       	ld	h,0x00
2916  0DBD  01 00 00    	ld	bc,_col
2917  0DC0  09          	add	hl,bc
2918  0DC1  4E          	ld	c,(hl)
2919  0DC2  06 00       	ld	b,0x00
2920  0DC4  2A 00 00    	ld	hl,(_enemies)
2921  0DC7  60          	ld	h,b
2922  0DC8  11 00 00    	ld	de,_col
2923  0DCB  19          	add	hl,de
2924  0DCC  5E          	ld	e, (hl)
2925  0DCD  16 00       	ld	d,0x00
2926  0DCF  79          	ld	a,c
2927  0DD0  93          	sub	a, e
2928  0DD1  6F          	ld	l,a
2929  0DD2  78          	ld	a,b
2930  0DD3  9A          	sbc	a, d
2931  0DD4  67          	ld	h,a
2932  0DD5  CD 00 00    	call	_abs_fastcall
2933  0DD8  3E 02       	ld	a,0x02
2934  0DDA  BD          	cp	a,l
2935  0DDB  3E 00       	ld	a,0x00
2936  0DDD  9C          	sbc	a,h
2937  0DDE  E2 E3 0D    	jp	PO, l_player_hit_brick_00172
2938  0DE1  EE 80       	xor	a,0x80
2939  0DE3              l_player_hit_brick_00172:
2940  0DE3  FA EC 0D    	jp	M,l_player_hit_brick_00117
2941  0DE6  CD 00 00    	call	_enemy_hit
2942  0DE9  CD 00 00    	call	_sound_hit_enemy
2943  0DEC              l_player_hit_brick_00117:
2944  0DEC  21 00 00    	ld	hl,_enemies
2945  0DEF  34          	inc	(hl)
2946  0DF0  3A 00 00    	ld	a,(_sprite)
2947  0DF3  C6 00       	add	a,+((_lin) & 0xFF)
2948  0DF5  4F          	ld	c,a
2949  0DF6  3E 00       	ld	a,+((_lin) / 256)
2950  0DF8  CE 00       	adc	a,0x00
2951  0DFA  47          	ld	b,a
2952  0DFB  3A 00 00    	ld	a,(_enemies)
2953  0DFE  D6 06       	sub	a,0x06
2954  0E00  DA 80 0D    	jp	C,l_player_hit_brick_00116
2955  0E03  2A 00 00    	ld	hl,(_sprite_other_player)
2956  0E06  26 00       	ld	h,0x00
2957  0E08  11 00 00    	ld	de,_lin
2958  0E0B  19          	add	hl,de
2959  0E0C  7E          	ld	a,(hl)
2960  0E0D  5F          	ld	e,a
2961  0E0E  B7          	or	a, a
2962  0E0F  CA DB 0E    	jp	Z,l_player_hit_brick_00108
2963  0E12  0A          	ld	a,(bc)
2964  0E13  6F          	ld	l,a
2965  0E14  AF          	xor	a,a
2966  0E15  67          	ld	h,a
2967  0E16  57          	ld	d,a
2968  0E17  ED 52       	sbc	hl,de
2969  0E19  7D          	ld	a,l
2970  0E1A  D6 18       	sub	a,0x18
2971  0E1C  C2 DB 0E    	jp	NZ,l_player_hit_brick_00108
2972  0E1F  B4          	or	a,h
2973  0E20  C2 DB 0E    	jp	NZ,l_player_hit_brick_00108
2974  0E23  2A 00 00    	ld	hl,(_sprite)
2975  0E26  26 00       	ld	h,0x00
2976  0E28  01 00 00    	ld	bc,_col
2977  0E2B  09          	add	hl,bc
2978  0E2C  4E          	ld	c,(hl)
2979  0E2D  06 00       	ld	b,0x00
2980  0E2F  2A 00 00    	ld	hl,(_sprite_other_player)
2981  0E32  60          	ld	h,b
2982  0E33  11 00 00    	ld	de,_col
2983  0E36  19          	add	hl,de
2984  0E37  5E          	ld	e, (hl)
2985  0E38  16 00       	ld	d,0x00
2986  0E3A  79          	ld	a,c
2987  0E3B  93          	sub	a, e
2988  0E3C  6F          	ld	l,a
2989  0E3D  78          	ld	a,b
2990  0E3E  9A          	sbc	a, d
2991  0E3F  67          	ld	h,a
2992  0E40  CD 00 00    	call	_abs_fastcall
2993  0E43  3E 02       	ld	a,0x02
2994  0E45  BD          	cp	a,l
2995  0E46  3E 00       	ld	a,0x00
2996  0E48  9C          	sbc	a,h
2997  0E49  E2 4E 0E    	jp	PO, l_player_hit_brick_00175
2998  0E4C  EE 80       	xor	a,0x80
2999  0E4E              l_player_hit_brick_00175:
3000  0E4E  FA DB 0E    	jp	M,l_player_hit_brick_00108
3001  0E51  3E 00       	ld	a,+((_col) & 0xFF)
3002  0E53  21 00 00    	ld	hl,_sprite_other_player
3003  0E56  86          	add	a, (hl)
3004  0E57  4F          	ld	c,a
3005  0E58  3E 00       	ld	a,+((_col) / 256)
3006  0E5A  CE 00       	adc	a,0x00
3007  0E5C  47          	ld	b,a
3008  0E5D  0A          	ld	a,(bc)
3009  0E5E  57          	ld	d,a
3010  0E5F  4E          	ld	c,(hl)
3011  0E60  06 00       	ld	b,0x00
3012  0E62  21 00 00    	ld	hl,_lin
3013  0E65  09          	add	hl,bc
3014  0E66  5E          	ld	e, (hl)
3015  0E67  D5          	push	de
3016  0E68  AF          	xor	a, a
3017  0E69  F5          	push	af
3018  0E6A  33          	inc	sp
3019  0E6B  CD 00 00    	call	_NIRVANAP_fillT_callee
3020  0E6E  2A 00 00    	ld	hl,(_sprite_other_player)
3021  0E71  26 00       	ld	h,0x00
3022  0E73  01 00 00    	ld	bc,_lin
3023  0E76  09          	add	hl,bc
3024  0E77  7E          	ld	a,(hl)
3025  0E78  C6 FC       	add	a,0xfc
3026  0E7A  77          	ld	(hl),a
3027  0E7B  3E 00       	ld	a,+((_col) & 0xFF)
3028  0E7D  21 00 00    	ld	hl,_sprite_other_player
3029  0E80  86          	add	a, (hl)
3030  0E81  4F          	ld	c,a
3031  0E82  3E 00       	ld	a,+((_col) / 256)
3032  0E84  CE 00       	adc	a,0x00
3033  0E86  47          	ld	b,a
3034  0E87  0A          	ld	a,(bc)
3035  0E88  57          	ld	d,a
3036  0E89  3E 00       	ld	a,+((_lin) & 0xFF)
3037  0E8B  86          	add	a, (hl)
3038  0E8C  4F          	ld	c,a
3039  0E8D  3E 00       	ld	a,+((_lin) / 256)
3040  0E8F  CE 00       	adc	a,0x00
3041  0E91  47          	ld	b,a
3042  0E92  0A          	ld	a,(bc)
3043  0E93  5F          	ld	e,a
3044  0E94  3E 00       	ld	a,+((_tile) & 0xFF)
3045  0E96  86          	add	a, (hl)
3046  0E97  4F          	ld	c,a
3047  0E98  3E 00       	ld	a,+((_tile) / 256)
3048  0E9A  CE 00       	adc	a,0x00
3049  0E9C  47          	ld	b,a
3050  0E9D  0A          	ld	a,(bc)
3051  0E9E  47          	ld	b,a
3052  0E9F  D5          	push	de
3053  0EA0  C5          	push	bc
3054  0EA1  33          	inc	sp
3055  0EA2  7E          	ld	a,(hl)
3056  0EA3  F5          	push	af
3057  0EA4  33          	inc	sp
3058  0EA5  CD 00 00    	call	_NIRVANAP_spriteT_callee
3059  0EA8  76          	halt
3060  0EA9  2A 00 00    	ld	hl,(_sprite_other_player)
3061  0EAC  26 00       	ld	h,0x00
3062  0EAE  01 00 00    	ld	bc,_state
3063  0EB1  09          	add	hl,bc
3064  0EB2  7E          	ld	a,(hl)
3065  0EB3  E6 FD       	and	a,0xfd
3066  0EB5  77          	ld	(hl),a
3067  0EB6  3E 00       	ld	a,+((_state) & 0xFF)
3068  0EB8  21 00 00    	ld	hl,_sprite_other_player
3069  0EBB  86          	add	a, (hl)
3070  0EBC  4F          	ld	c,a
3071  0EBD  3E 00       	ld	a,+((_state) / 256)
3072  0EBF  CE 00       	adc	a,0x00
3073  0EC1  47          	ld	b,a
3074  0EC2  0A          	ld	a,(bc)
3075  0EC3  CB C7       	set	0, a
3076  0EC5  02          	ld	(bc),a
3077  0EC6  3E 00       	ld	a,+((_jump_lin) & 0xFF)
3078  0EC8  86          	add	a, (hl)
3079  0EC9  4F          	ld	c,a
3080  0ECA  3E 00       	ld	a,+((_jump_lin) / 256)
3081  0ECC  CE 00       	adc	a,0x00
3082  0ECE  47          	ld	b,a
3083  0ECF  5E          	ld	e,(hl)
3084  0ED0  16 00       	ld	d,0x00
3085  0ED2  21 00 00    	ld	hl,_lin
3086  0ED5  19          	add	hl,de
3087  0ED6  7E          	ld	a,(hl)
3088  0ED7  C6 14       	add	a,0x14
3089  0ED9  02          	ld	(bc),a
3090  0EDA  76          	halt
3091  0EDB              l_player_hit_brick_00108:
3092  0EDB  01 00 00    	ld	bc,_spr_timer+0
3093  0EDE  2A 00 00    	ld	hl,(_sprite)
3094  0EE1  26 00       	ld	h,0x00
3095  0EE3  29          	add	hl, hl
3096  0EE4  09          	add	hl,bc
3097  0EE5  ED 5B 00 00 	ld	de,(_curr_time)
3098  0EE9  73          	ld	(hl),e
3099  0EEA  23          	inc	hl
3100  0EEB  72          	ld	(hl),d
3101  0EEC  3A 00 00    	ld	a,(_index_player)
3102  0EEF  C6 00       	add	a,+((_hit_lin) & 0xFF)
3103  0EF1  4F          	ld	c,a
3104  0EF2  3E 00       	ld	a,+((_hit_lin) / 256)
3105  0EF4  CE 00       	adc	a,0x00
3106  0EF6  47          	ld	b,a
3107  0EF7  2A 00 00    	ld	hl,(_sprite)
3108  0EFA  26 00       	ld	h,0x00
3109  0EFC  11 00 00    	ld	de,_lin
3110  0EFF  19          	add	hl,de
3111  0F00  7E          	ld	a,(hl)
3112  0F01  02          	ld	(bc),a
3113  0F02  3A 00 00    	ld	a,(_index_player)
3114  0F05  C6 00       	add	a,+((_hit_col) & 0xFF)
3115  0F07  4F          	ld	c,a
3116  0F08  3E 00       	ld	a,+((_hit_col) / 256)
3117  0F0A  CE 00       	adc	a,0x00
3118  0F0C  47          	ld	b,a
3119  0F0D  2A 00 00    	ld	hl,(_sprite)
3120  0F10  26 00       	ld	h,0x00
3121  0F12  11 00 00    	ld	de,_col
3122  0F15  19          	add	hl,de
3123  0F16  7E          	ld	a,(hl)
3124  0F17  02          	ld	(bc),a
3125  0F18  3E 01       	ld	a,0x01
3126  0F1A  F5          	push	af
3127  0F1B  33          	inc	sp
3128  0F1C  CD 00 00    	call	_spr_brick_anim
3129  0F1F  33          	inc	sp
3130  0F20  CD 00 00    	call	_sound_hit_brick
3131  0F23  2E 01       	ld	l,0x01
3132  0F25  18 02       	jr	l_player_hit_brick_00118
3133  0F27              l_player_hit_brick_00112:
3134  0F27  2E 00       	ld	l,0x00
3135  0F29              l_player_hit_brick_00118:
3136  0F29  C9          	ret
3137  0F2A              ;	---------------------------------
3138  0F2A              ; Function player_hit_brick_clear
3139  0F2A              ; ---------------------------------
3140  0F2A              _player_hit_brick_clear:
3141  0F2A  2A 00 00    	ld	hl,(_index_player)
3142  0F2D  26 00       	ld	h,0x00
3143  0F2F  01 00 00    	ld	bc,_hit_lin
3144  0F32  09          	add	hl,bc
3145  0F33  7E          	ld	a,(hl)
3146  0F34  4F          	ld	c,a
3147  0F35  B7          	or	a,a
3148  0F36  C8          	ret	Z
3149  0F37  3A 00 00    	ld	a,(_index_player)
3150  0F3A  5F          	ld	e,a
3151  0F3B  16 00       	ld	d,0x00
3152  0F3D  21 00 00    	ld	hl,_hit_col
3153  0F40  19          	add	hl,de
3154  0F41  56          	ld	d, (hl)
3155  0F42  79          	ld	a,c
3156  0F43  C6 F8       	add	a,0xf8
3157  0F45  5F          	ld	e, a
3158  0F46  D5          	push	de
3159  0F47  CD 00 00    	call	_game_calc_index
3160  0F4A  F1          	pop	af
3161  0F4B  22 00 00    	ld	(_index1),hl
3162  0F4E  01 01 00    	ld	bc,0x0001
3163  0F51  09          	add	hl,bc
3164  0F52  22 00 00    	ld	(_index2),hl
3165  0F55  AF          	xor	a, a
3166  0F56  F5          	push	af
3167  0F57  33          	inc	sp
3168  0F58  CD 00 00    	call	_spr_brick_anim
3169  0F5B  33          	inc	sp
3170  0F5C  3E 00       	ld	a,+((_hit_lin) & 0xFF)
3171  0F5E  21 00 00    	ld	hl,_index_player
3172  0F61  86          	add	a, (hl)
3173  0F62  4F          	ld	c,a
3174  0F63  3E 00       	ld	a,+((_hit_lin) / 256)
3175  0F65  CE 00       	adc	a,0x00
3176  0F67  47          	ld	b,a
3177  0F68  AF          	xor	a, a
3178  0F69  02          	ld	(bc),a
3179  0F6A  3E 00       	ld	a,+((_hit_col) & 0xFF)
3180  0F6C  86          	add	a, (hl)
3181  0F6D  4F          	ld	c,a
3182  0F6E  3E 00       	ld	a,+((_hit_col) / 256)
3183  0F70  CE 00       	adc	a,0x00
3184  0F72  47          	ld	b,a
3185  0F73  AF          	xor	a, a
3186  0F74  02          	ld	(bc),a
3187  0F75  C3 00 00    	jp  _spr_set_fall
3188  0F78              ;	---------------------------------
3189  0F78              ; Function player_hit_pow
3190  0F78              ; ---------------------------------
3191  0F78              _player_hit_pow:
3192  0F78  01 00 00    	ld	bc,_lvl_1
3193  0F7B  2A 00 00    	ld	hl,(_index1)
3194  0F7E  09          	add	hl,bc
3195  0F7F  7E          	ld	a,(hl)
3196  0F80  D6 11       	sub	a,0x11
3197  0F82  28 12       	jr	Z,l_player_hit_pow_00106
3198  0F84  01 00 00    	ld	bc,_lvl_1
3199  0F87  2A 00 00    	ld	hl,(_index2)
3200  0F8A  09          	add	hl,bc
3201  0F8B  7E          	ld	a,(hl)
3202  0F8C  D6 11       	sub	a,0x11
3203  0F8E  20 71       	jr	NZ,l_player_hit_pow_00112
3204  0F90  3A 00 00    	ld	a,(_game_pow)
3205  0F93  B7          	or	a, a
3206  0F94  28 6B       	jr	Z,l_player_hit_pow_00112
3207  0F96              l_player_hit_pow_00106:
3208  0F96  21 00 00    	ld	hl,_game_pow
3209  0F99  35          	dec	(hl)
3210  0F9A  21 02 00    	ld	hl,0x0002
3211  0F9D  CD 00 00    	call	_zx_border_fastcall
3212  0FA0  21 00 00    	ld	hl,_enemies
3213  0FA3  36 00       	ld	(hl),0x00
3214  0FA5              l_player_hit_pow_00110:
3215  0FA5  2A 00 00    	ld	hl,(_enemies)
3216  0FA8  26 00       	ld	h,0x00
3217  0FAA  5D          	ld	e,l
3218  0FAB  01 00 00    	ld	bc,_col
3219  0FAE  09          	add	hl,bc
3220  0FAF  46          	ld	b,(hl)
3221  0FB0  16 00       	ld	d,0x00
3222  0FB2  21 00 00    	ld	hl,_lin
3223  0FB5  19          	add	hl,de
3224  0FB6  7E          	ld	a,(hl)
3225  0FB7  C6 10       	add	a,0x10
3226  0FB9  4F          	ld	c,a
3227  0FBA  C5          	push	bc
3228  0FBB  CD 00 00    	call	_game_calc_index
3229  0FBE  E3          	ex	(sp),hl
3230  0FBF  CD 00 00    	call	_game_check_maze
3231  0FC2  F1          	pop	af
3232  0FC3  7D          	ld	a,l
3233  0FC4  B7          	or	a, a
3234  0FC5  20 03       	jr	NZ,l_player_hit_pow_00111
3235  0FC7  CD 00 00    	call	_enemy_hit
3236  0FCA              l_player_hit_pow_00111:
3237  0FCA  21 00 00    	ld	hl,_enemies
3238  0FCD  34          	inc	(hl)
3239  0FCE  7E          	ld	a,(hl)
3240  0FCF  D6 06       	sub	a,0x06
3241  0FD1  38 D2       	jr	C,l_player_hit_pow_00110
3242  0FD3  21 00 00    	ld	hl,_ay_effect_06
3243  0FD6  CD 00 00    	call	_ay_fx_play
3244  0FD9  CD 00 00    	call	_sound_hit_pow
3245  0FDC  CD 00 00    	call	_spr_draw_pow
3246  0FDF  3A 00 00    	ld	a,(_game_pow)
3247  0FE2  B7          	or	a, a
3248  0FE3  20 13       	jr	NZ,l_player_hit_pow_00105
3249  0FE5  21 78 0F    	ld	hl,0x0f78
3250  0FE8  E5          	push	hl
3251  0FE9  AF          	xor	a, a
3252  0FEA  F5          	push	af
3253  0FEB  33          	inc	sp
3254  0FEC  CD 00 00    	call	_NIRVANAP_fillT_callee
3255  0FEF  21 00 00    	ld	hl,0x0000
3256  0FF2  22 EF 01    	ld	((_lvl_1 + 0x01ef)),hl
3257  0FF5  22 0F 02    	ld	((_lvl_1 + 0x020f)),hl
3258  0FF8              l_player_hit_pow_00105:
3259  0FF8  21 00 00    	ld	hl,0x0000
3260  0FFB  CD 00 00    	call	_zx_border_fastcall
3261  0FFE  CD 00 00    	call	_spr_set_fall
3262  1001              l_player_hit_pow_00112:
3263  1001  C9          	ret
3264  1002              ;	---------------------------------
3265  1002              ; Function player_coin
3266  1002              ; ---------------------------------
3267  1002              _player_coin:
3268  1002  CD 00 00    	call	___sdcc_enter_ix
3269  1005  3E 00       	ld	a,+((_class) & 0xFF)
3270  1007  DD 86 04    	add	a,(ix+4)
3271  100A  4F          	ld	c,a
3272  100B  3E 00       	ld	a,+((_class) / 256)
3273  100D  CE 00       	adc	a,0x00
3274  100F  47          	ld	b,a
3275  1010  0A          	ld	a,(bc)
3276  1011  D6 07       	sub	a,0x07
3277  1013  20 08       	jr	NZ,l_player_coin_00102
3278  1015  21 00 00    	ld	hl,_ay_effect_12
3279  1018  CD 00 00    	call	_ay_fx_play
3280  101B  18 06       	jr	l_player_coin_00103
3281  101D              l_player_coin_00102:
3282  101D  21 00 00    	ld	hl,_ay_effect_10
3283  1020  CD 00 00    	call	_ay_fx_play
3284  1023              l_player_coin_00103:
3285  1023  CD 00 00    	call	_sound_coin
3286  1026  3E 00       	ld	a,+((_state) & 0xFF)
3287  1028  DD 86 04    	add	a,(ix+4)
3288  102B  4F          	ld	c,a
3289  102C  3E 00       	ld	a,+((_state) / 256)
3290  102E  CE 00       	adc	a,0x00
3291  1030  47          	ld	b,a
3292  1031  0A          	ld	a,(bc)
3293  1032  CB EF       	set	5, a
3294  1034  02          	ld	(bc),a
3295  1035  01 00 00    	ld	bc,_spr_timer+0
3296  1038  DD 6E 04    	ld	l,(ix+4)
3297  103B  26 00       	ld	h,0x00
3298  103D  29          	add	hl, hl
3299  103E  09          	add	hl,bc
3300  103F  ED 5B 00 00 	ld	de,(_curr_time)
3301  1043  73          	ld	(hl),e
3302  1044  23          	inc	hl
3303  1045  72          	ld	(hl),d
3304  1046  3A 00 00    	ld	a,(_game_bonus)
3305  1049  B7          	or	a, a
3306  104A  28 1B       	jr	Z,l_player_coin_00107
3307  104C  3A 00 00    	ld	a,(_index_player)
3308  104F  C6 00       	add	a,+((_phase_bonus_total) & 0xFF)
3309  1051  4F          	ld	c,a
3310  1052  3E 00       	ld	a,+((_phase_bonus_total) / 256)
3311  1054  CE 00       	adc	a,0x00
3312  1056  47          	ld	b,a
3313  1057  0A          	ld	a,(bc)
3314  1058  3C          	inc	a
3315  1059  02          	ld	(bc),a
3316  105A  21 00 00    	ld	hl,_phase_left
3317  105D  35          	dec (hl)
3318  105E  20 11       	jr	NZ,l_player_coin_00109
3319  1060  21 00 00    	ld	hl,_phase_end
3320  1063  36 01       	ld	(hl),0x01
3321  1065  18 0A       	jr	l_player_coin_00109
3322  1067              l_player_coin_00107:
3323  1067  DD 4E 05    	ld	c,(ix+5)
3324  106A  06 00       	ld	b,0x00
3325  106C  C5          	push	bc
3326  106D  CD 74 10    	call	_player_score_add
3327  1070  F1          	pop	af
3328  1071              l_player_coin_00109:
3329  1071  DD E1       	pop	ix
3330  1073  C9          	ret
3331  1074              ;	---------------------------------
3332  1074              ; Function player_score_add
3333  1074              ; ---------------------------------
3334  1074              _player_score_add:
3335  1074  CD 00 00    	call	___sdcc_enter_ix
3336  1077  2A 00 00    	ld	hl,(_index_player)
3337  107A  26 00       	ld	h,0x00
3338  107C  29          	add	hl,hl
3339  107D  01 00 00    	ld	bc,_player_score
3340  1080  09          	add	hl,bc
3341  1081  7E          	ld	a,(hl)
3342  1082  4D          	ld	c,l
3343  1083  44          	ld	b,h
3344  1084  23          	inc	hl
3345  1085  56          	ld	d,(hl)
3346  1086  DD 86 04    	add	a,(ix+4)
3347  1089  5F          	ld	e,a
3348  108A  7A          	ld	a,d
3349  108B  DD 8E 05    	adc	a,(ix+5)
3350  108E  57          	ld	d,a
3351  108F  7B          	ld	a,e
3352  1090  02          	ld	(bc),a
3353  1091  03          	inc	bc
3354  1092  7A          	ld	a,d
3355  1093  02          	ld	(bc),a
3356  1094  2A 00 00    	ld	hl,(_index_player)
3357  1097  26 00       	ld	h,0x00
3358  1099  29          	add	hl,hl
3359  109A  4D          	ld	c,l
3360  109B  44          	ld	b,h
3361  109C  21 00 00    	ld	hl,_player_score
3362  109F  09          	add	hl,bc
3363  10A0  5E          	ld	e,(hl)
3364  10A1  23          	inc	hl
3365  10A2  56          	ld	d,(hl)
3366  10A3  21 00 00    	ld	hl,_game_score_top
3367  10A6  7E          	ld	a,(hl)
3368  10A7  93          	sub	a, e
3369  10A8  23          	inc	hl
3370  10A9  7E          	ld	a,(hl)
3371  10AA  9A          	sbc	a, d
3372  10AB  30 04       	jr	NC,l_player_score_add_00102
3373  10AD  2B          	dec	hl
3374  10AE  73          	ld	(hl),e
3375  10AF  23          	inc	hl
3376  10B0  72          	ld	(hl),d
3377  10B1              l_player_score_add_00102:
3378  10B1  21 00 00    	ld	hl,_player_next_extra
3379  10B4  09          	add	hl,bc
3380  10B5  4E          	ld	c,(hl)
3381  10B6  23          	inc	hl
3382  10B7  46          	ld	b,(hl)
3383  10B8  2B          	dec	hl
3384  10B9  79          	ld	a,c
3385  10BA  93          	sub	a, e
3386  10BB  78          	ld	a,b
3387  10BC  9A          	sbc	a, d
3388  10BD  30 31       	jr	NC,l_player_score_add_00106
3389  10BF  79          	ld	a,c
3390  10C0  C6 D0       	add	a,0xd0
3391  10C2  77          	ld	(hl),a
3392  10C3  78          	ld	a,b
3393  10C4  CE 07       	adc	a,0x07
3394  10C6  23          	inc	hl
3395  10C7  77          	ld	(hl),a
3396  10C8  3A 00 00    	ld	a,(_index_player)
3397  10CB  C6 00       	add	a,+((_game_lives) & 0xFF)
3398  10CD  4F          	ld	c,a
3399  10CE  3E 00       	ld	a,+((_game_lives) / 256)
3400  10D0  CE 00       	adc	a,0x00
3401  10D2  47          	ld	b,a
3402  10D3  0A          	ld	a,(bc)
3403  10D4  3C          	inc	a
3404  10D5  02          	ld	(bc),a
3405  10D6  3A 00 00    	ld	a,(_game_bonus)
3406  10D9  B7          	or	a, a
3407  10DA  20 03       	jr	NZ,l_player_score_add_00104
3408  10DC  CD 00 00    	call	_game_print_lives
3409  10DF              l_player_score_add_00104:
3410  10DF  CD 00 00    	call	_sound_coin
3411  10E2  CD 00 00    	call	_sound_coin
3412  10E5  CD 00 00    	call	_sound_coin
3413  10E8  CD 00 00    	call	_sound_coin
3414  10EB  21 00 00    	ld	hl,_hit_count
3415  10EE  36 08       	ld	(hl),0x08
3416  10F0              l_player_score_add_00106:
3417  10F0  DD E1       	pop	ix
3418  10F2  C3 00 00    	jp	_game_print_score
3419  10F5              ;	---------------------------------
3420  10F5              ; Function player_set1
3421  10F5              ; ---------------------------------
3422  10F5              _player_set1:
3423  10F5  21 00 00    	ld	hl,_sprite
3424  10F8  36 07       	ld	(hl),0x07
3425  10FA  21 00 00    	ld	hl,_sprite_other_player
3426  10FD  36 06       	ld	(hl),0x06
3427  10FF  21 00 00    	ld	hl,_index_player
3428  1102  36 00       	ld	(hl),0x00
3429  1104  21 00 00    	ld	hl,_tile_offset
3430  1107  36 00       	ld	(hl),0x00
3431  1109  21 00 00    	ld	hl,_tile_offset_other_player
3432  110C  36 18       	ld	(hl),0x18
3433  110E  C9          	ret
3434  110F              ;	---------------------------------
3435  110F              ; Function player_set2
3436  110F              ; ---------------------------------
3437  110F              _player_set2:
3438  110F  21 00 00    	ld	hl,_sprite
3439  1112  36 06       	ld	(hl),0x06
3440  1114  21 00 00    	ld	hl,_sprite_other_player
3441  1117  36 07       	ld	(hl),0x07
3442  1119  21 00 00    	ld	hl,_index_player
3443  111C  36 01       	ld	(hl),0x01
3444  111E  21 00 00    	ld	hl,_tile_offset
3445  1121  36 18       	ld	(hl),0x18
3446  1123  21 00 00    	ld	hl,_tile_offset_other_player
3447  1126  36 00       	ld	(hl),0x00
3448  1128  C9          	ret
3449  1129              	SECTION IGNORE
3450  0000              
